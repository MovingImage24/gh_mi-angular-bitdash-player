/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 30);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Simple DOM manipulation and DOM element event handling modeled after jQuery (as replacement for jQuery).
 *
 * Like jQuery, DOM operates on single elements and lists of elements. For example: creating an element returns a DOM
 * instance with a single element, selecting elements returns a DOM instance with zero, one, or many elements. Similar
 * to jQuery, setters usually affect all elements, while getters operate on only the first element.
 * Also similar to jQuery, most methods (except getters) return the DOM instance facilitating easy chaining of method
 * calls.
 *
 * Built with the help of: http://youmightnotneedjquery.com/
 */
var DOM = (function () {
    function DOM(something, attributes) {
        this.document = document; // Set the global document to the local document field
        if (something instanceof Array) {
            if (something.length > 0 && something[0] instanceof HTMLElement) {
                var elements = something;
                this.elements = elements;
            }
        }
        else if (something instanceof HTMLElement) {
            var element = something;
            this.elements = [element];
        }
        else if (something instanceof Document) {
            // When a document is passed in, we do not do anything with it, but by setting this.elements to null
            // we give the event handling method a means to detect if the events should be registered on the document
            // instead of elements.
            this.elements = null;
        }
        else if (attributes) {
            var tagName = something;
            var element = document.createElement(tagName);
            for (var attributeName in attributes) {
                var attributeValue = attributes[attributeName];
                element.setAttribute(attributeName, attributeValue);
            }
            this.elements = [element];
        }
        else {
            var selector = something;
            this.elements = this.findChildElements(selector);
        }
    }
    Object.defineProperty(DOM.prototype, "length", {
        /**
         * Gets the number of elements that this DOM instance currently holds.
         * @returns {number} the number of elements
         */
        get: function () {
            return this.elements ? this.elements.length : 0;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * Gets the HTML elements that this DOM instance currently holds.
     * @returns {HTMLElement[]} the raw HTML elements
     * @deprecated use {@link #get()} instead
     */
    DOM.prototype.getElements = function () {
        return this.get();
    };
    DOM.prototype.get = function (index) {
        if (index === undefined) {
            return this.elements;
        }
        else if (!this.elements || index >= this.elements.length || index < -this.elements.length) {
            return undefined;
        }
        else if (index < 0) {
            return this.elements[this.elements.length - index];
        }
        else {
            return this.elements[index];
        }
    };
    /**
     * A shortcut method for iterating all elements. Shorts this.elements.forEach(...) to this.forEach(...).
     * @param handler the handler to execute an operation on an element
     */
    DOM.prototype.forEach = function (handler) {
        if (!this.elements) {
            return;
        }
        this.elements.forEach(function (element) {
            handler(element);
        });
    };
    DOM.prototype.findChildElementsOfElement = function (element, selector) {
        var childElements = element.querySelectorAll(selector);
        // Convert NodeList to Array
        // https://toddmotto.com/a-comprehensive-dive-into-nodelists-arrays-converting-nodelists-and-understanding-the-dom/
        return [].slice.call(childElements);
    };
    DOM.prototype.findChildElements = function (selector) {
        var _this = this;
        var allChildElements = [];
        if (this.elements) {
            this.forEach(function (element) {
                allChildElements = allChildElements.concat(_this.findChildElementsOfElement(element, selector));
            });
        }
        else {
            return this.findChildElementsOfElement(document, selector);
        }
        return allChildElements;
    };
    /**
     * Finds all child elements of all elements matching the supplied selector.
     * @param selector the selector to match with child elements
     * @returns {DOM} a new DOM instance representing all matched children
     */
    DOM.prototype.find = function (selector) {
        var allChildElements = this.findChildElements(selector);
        return new DOM(allChildElements);
    };
    DOM.prototype.html = function (content) {
        if (arguments.length > 0) {
            return this.setHtml(content);
        }
        else {
            return this.getHtml();
        }
    };
    DOM.prototype.getHtml = function () {
        return this.elements[0].innerHTML;
    };
    DOM.prototype.setHtml = function (content) {
        if (content === undefined || content == null) {
            // Set to empty string to avoid innerHTML getting set to 'undefined' (all browsers) or 'null' (IE9)
            content = '';
        }
        this.forEach(function (element) {
            element.innerHTML = content;
        });
        return this;
    };
    /**
     * Clears the inner HTML of all elements (deletes all children).
     * @returns {DOM}
     */
    DOM.prototype.empty = function () {
        this.forEach(function (element) {
            element.innerHTML = '';
        });
        return this;
    };
    /**
     * Returns the current value of the first form element, e.g. the selected value of a select box or the text if an
     * input field.
     * @returns {string} the value of a form element
     */
    DOM.prototype.val = function () {
        var element = this.elements[0];
        if (element instanceof HTMLSelectElement || element instanceof HTMLInputElement) {
            return element.value;
        }
        else {
            // TODO add support for missing form elements
            throw new Error("val() not supported for " + typeof element);
        }
    };
    DOM.prototype.attr = function (attribute, value) {
        if (arguments.length > 1) {
            return this.setAttr(attribute, value);
        }
        else {
            return this.getAttr(attribute);
        }
    };
    DOM.prototype.getAttr = function (attribute) {
        return this.elements[0].getAttribute(attribute);
    };
    DOM.prototype.setAttr = function (attribute, value) {
        this.forEach(function (element) {
            element.setAttribute(attribute, value);
        });
        return this;
    };
    DOM.prototype.data = function (dataAttribute, value) {
        if (arguments.length > 1) {
            return this.setData(dataAttribute, value);
        }
        else {
            return this.getData(dataAttribute);
        }
    };
    DOM.prototype.getData = function (dataAttribute) {
        return this.elements[0].getAttribute('data-' + dataAttribute);
    };
    DOM.prototype.setData = function (dataAttribute, value) {
        this.forEach(function (element) {
            element.setAttribute('data-' + dataAttribute, value);
        });
        return this;
    };
    /**
     * Appends one or more DOM elements as children to all elements.
     * @param childElements the chrild elements to append
     * @returns {DOM}
     */
    DOM.prototype.append = function () {
        var childElements = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            childElements[_i] = arguments[_i];
        }
        this.forEach(function (element) {
            childElements.forEach(function (childElement) {
                childElement.elements.forEach(function (_, index) {
                    element.appendChild(childElement.elements[index]);
                });
            });
        });
        return this;
    };
    /**
     * Removes all elements from the DOM.
     */
    DOM.prototype.remove = function () {
        this.forEach(function (element) {
            var parent = element.parentNode;
            if (parent) {
                parent.removeChild(element);
            }
        });
    };
    /**
     * Returns the offset of the first element from the document's top left corner.
     * @returns {Offset}
     */
    DOM.prototype.offset = function () {
        var element = this.elements[0];
        var elementRect = element.getBoundingClientRect();
        var htmlRect = document.body.parentElement.getBoundingClientRect();
        // Virtual viewport scroll handling (e.g. pinch zoomed viewports in mobile browsers or desktop Chrome/Edge)
        // 'normal' zooms and virtual viewport zooms (aka layout viewport) result in different
        // element.getBoundingClientRect() results:
        //  - with normal scrolls, the clientRect decreases with an increase in scroll(Top|Left)/page(X|Y)Offset
        //  - with pinch zoom scrolls, the clientRect stays the same while scroll/pageOffset changes
        // This means, that the combination of clientRect + scroll/pageOffset does not work to calculate the offset
        // from the document's upper left origin when pinch zoom is used.
        // To work around this issue, we do not use scroll/pageOffset but get the clientRect of the html element and
        // subtract it from the element's rect, which always results in the offset from the document origin.
        // NOTE: the current way of offset calculation was implemented specifically to track event positions on the
        // seek bar, and it might break compatibility with jQuery's offset() method. If this ever turns out to be a
        // problem, this method should be reverted to the old version and the offset calculation moved to the seek bar.
        return {
            top: elementRect.top - htmlRect.top,
            left: elementRect.left - htmlRect.left,
        };
    };
    /**
     * Returns the width of the first element.
     * @returns {number} the width of the first element
     */
    DOM.prototype.width = function () {
        // TODO check if this is the same as jQuery's width() (probably not)
        return this.elements[0].offsetWidth;
    };
    /**
     * Returns the height of the first element.
     * @returns {number} the height of the first element
     */
    DOM.prototype.height = function () {
        // TODO check if this is the same as jQuery's height() (probably not)
        return this.elements[0].offsetHeight;
    };
    /**
     * Attaches an event handler to one or more events on all elements.
     * @param eventName the event name (or multiple names separated by space) to listen to
     * @param eventHandler the event handler to call when the event fires
     * @returns {DOM}
     */
    DOM.prototype.on = function (eventName, eventHandler) {
        var _this = this;
        var events = eventName.split(' ');
        events.forEach(function (event) {
            if (_this.elements == null) {
                _this.document.addEventListener(event, eventHandler);
            }
            else {
                _this.forEach(function (element) {
                    element.addEventListener(event, eventHandler);
                });
            }
        });
        return this;
    };
    /**
     * Removes an event handler from one or more events on all elements.
     * @param eventName the event name (or multiple names separated by space) to remove the handler from
     * @param eventHandler the event handler to remove
     * @returns {DOM}
     */
    DOM.prototype.off = function (eventName, eventHandler) {
        var _this = this;
        var events = eventName.split(' ');
        events.forEach(function (event) {
            if (_this.elements == null) {
                _this.document.removeEventListener(event, eventHandler);
            }
            else {
                _this.forEach(function (element) {
                    element.removeEventListener(event, eventHandler);
                });
            }
        });
        return this;
    };
    /**
     * Adds the specified class(es) to all elements.
     * @param className the class(es) to add, multiple classes separated by space
     * @returns {DOM}
     */
    DOM.prototype.addClass = function (className) {
        this.forEach(function (element) {
            if (element.classList) {
                element.classList.add(className);
            }
            else {
                element.className += ' ' + className;
            }
        });
        return this;
    };
    /**
     * Removed the specified class(es) from all elements.
     * @param className the class(es) to remove, multiple classes separated by space
     * @returns {DOM}
     */
    DOM.prototype.removeClass = function (className) {
        this.forEach(function (element) {
            if (element.classList) {
                element.classList.remove(className);
            }
            else {
                element.className = element.className.replace(new RegExp('(^|\\b)' + className.split(' ').join('|') + '(\\b|$)', 'gi'), ' ');
            }
        });
        return this;
    };
    /**
     * Checks if any of the elements has the specified class.
     * @param className the class name to check
     * @returns {boolean} true if one of the elements has the class attached, else if no element has it attached
     */
    DOM.prototype.hasClass = function (className) {
        var hasClass = false;
        this.forEach(function (element) {
            if (element.classList) {
                if (element.classList.contains(className)) {
                    // Since we are inside a handler, we can't just 'return true'. Instead, we save it to a variable
                    // and return it at the end of the function body.
                    hasClass = true;
                }
            }
            else {
                if (new RegExp('(^| )' + className + '( |$)', 'gi').test(element.className)) {
                    // See comment above
                    hasClass = true;
                }
            }
        });
        return hasClass;
    };
    DOM.prototype.css = function (propertyNameOrCollection, value) {
        if (typeof propertyNameOrCollection === 'string') {
            var propertyName = propertyNameOrCollection;
            if (arguments.length === 2) {
                return this.setCss(propertyName, value);
            }
            else {
                return this.getCss(propertyName);
            }
        }
        else {
            var propertyValueCollection = propertyNameOrCollection;
            return this.setCssCollection(propertyValueCollection);
        }
    };
    DOM.prototype.getCss = function (propertyName) {
        return getComputedStyle(this.elements[0])[propertyName];
    };
    DOM.prototype.setCss = function (propertyName, value) {
        this.forEach(function (element) {
            // <any> cast to resolve TS7015: http://stackoverflow.com/a/36627114/370252
            element.style[propertyName] = value;
        });
        return this;
    };
    DOM.prototype.setCssCollection = function (ruleValueCollection) {
        this.forEach(function (element) {
            // http://stackoverflow.com/a/34490573/370252
            Object.assign(element.style, ruleValueCollection);
        });
        return this;
    };
    return DOM;
}());
exports.DOM = DOM;


/***/ }),
/* 1 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var component_1 = __webpack_require__(2);
var dom_1 = __webpack_require__(0);
var arrayutils_1 = __webpack_require__(4);
/**
 * A container component that can contain a collection of child components.
 * Components can be added at construction time through the {@link ContainerConfig#components} setting, or later
 * through the {@link Container#addComponent} method. The UIManager automatically takes care of all components, i.e. it
 * initializes and configures them automatically.
 *
 * In the DOM, the container consists of an outer <div> (that can be configured by the config) and an inner wrapper
 * <div> that contains the components. This double-<div>-structure is often required to achieve many advanced effects
 * in CSS and/or JS, e.g. animations and certain formatting with absolute positioning.
 *
 * DOM example:
 * <code>
 *     <div class='ui-container'>
 *         <div class='container-wrapper'>
 *             ... child components ...
 *         </div>
 *     </div>
 * </code>
 */
var Container = (function (_super) {
    __extends(Container, _super);
    function Container(config) {
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-container',
            components: [],
        }, _this.config);
        _this.componentsToAdd = [];
        _this.componentsToRemove = [];
        return _this;
    }
    /**
     * Adds a child component to the container.
     * @param component the component to add
     */
    Container.prototype.addComponent = function (component) {
        this.config.components.push(component);
        this.componentsToAdd.push(component);
    };
    /**
     * Removes a child component from the container.
     * @param component the component to remove
     * @returns {boolean} true if the component has been removed, false if it is not contained in this container
     */
    Container.prototype.removeComponent = function (component) {
        if (arrayutils_1.ArrayUtils.remove(this.config.components, component) != null) {
            this.componentsToRemove.push(component);
            return true;
        }
        else {
            return false;
        }
    };
    /**
     * Gets an array of all child components in this container.
     * @returns {Component<ComponentConfig>[]}
     */
    Container.prototype.getComponents = function () {
        return this.config.components;
    };
    /**
     * Removes all child components from the container.
     */
    Container.prototype.removeComponents = function () {
        for (var _i = 0, _a = this.getComponents().slice(); _i < _a.length; _i++) {
            var component = _a[_i];
            this.removeComponent(component);
        }
    };
    /**
     * Updates the DOM of the container with the current components.
     */
    Container.prototype.updateComponents = function () {
        /* We cannot just clear the container to remove all elements and then re-add those that should stay, because
         * IE looses the innerHTML of unattached elements, leading to empty elements within the container (e.g. missing
         * subtitle text in SubtitleLabel).
         * Instead, we keep a list of elements to add and remove, leaving remaining elements alone. By keeping them in
         * the DOM, their content gets preserved in all browsers.
         */
        var component;
        while (component = this.componentsToRemove.shift()) {
            component.getDomElement().remove();
        }
        while (component = this.componentsToAdd.shift()) {
            this.innerContainerElement.append(component.getDomElement());
        }
    };
    Container.prototype.toDomElement = function () {
        // Create the container element (the outer <div>)
        var containerElement = new dom_1.DOM(this.config.tag, {
            'id': this.config.id,
            'class': this.getCssClasses(),
        });
        // Create the inner container element (the inner <div>) that will contain the components
        var innerContainer = new dom_1.DOM(this.config.tag, {
            'class': this.prefixCss('container-wrapper'),
        });
        this.innerContainerElement = innerContainer;
        for (var _i = 0, _a = this.config.components; _i < _a.length; _i++) {
            var initialComponent = _a[_i];
            this.componentsToAdd.push(initialComponent);
        }
        this.updateComponents();
        containerElement.append(innerContainer);
        return containerElement;
    };
    return Container;
}(component_1.Component));
exports.Container = Container;


/***/ }),
/* 2 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var guid_1 = __webpack_require__(36);
var dom_1 = __webpack_require__(0);
var eventdispatcher_1 = __webpack_require__(3);
/**
 * The base class of the UI framework.
 * Each component must extend this class and optionally the config interface.
 */
var Component = (function () {
    /**
     * Constructs a component with an optionally supplied config. All subclasses must call the constructor of their
     * superclass and then merge their configuration into the component's configuration.
     * @param config the configuration for the component
     */
    function Component(config) {
        if (config === void 0) { config = {}; }
        /**
         * The list of events that this component offers. These events should always be private and only directly
         * accessed from within the implementing component.
         *
         * Because TypeScript does not support private properties with the same name on different class hierarchy levels
         * (i.e. superclass and subclass cannot contain a private property with the same name), the default naming
         * convention for the event list of a component that should be followed by subclasses is the concatenation of the
         * camel-cased class name + 'Events' (e.g. SubClass extends Component => subClassEvents).
         * See {@link #componentEvents} for an example.
         *
         * Event properties should be named in camel case with an 'on' prefix and in the present tense. Async events may
         * have a start event (when the operation starts) in the present tense, and must have an end event (when the
         * operation ends) in the past tense (or present tense in special cases (e.g. onStart/onStarted or onPlay/onPlaying).
         * See {@link #componentEvents#onShow} for an example.
         *
         * Each event should be accompanied with a protected method named by the convention eventName + 'Event'
         * (e.g. onStartEvent), that actually triggers the event by calling {@link EventDispatcher#dispatch dispatch} and
         * passing a reference to the component as first parameter. Components should always trigger their events with these
         * methods. Implementing this pattern gives subclasses means to directly listen to the events by overriding the
         * method (and saving the overhead of passing a handler to the event dispatcher) and more importantly to trigger
         * these events without having access to the private event list.
         * See {@link #onShow} for an example.
         *
         * To provide external code the possibility to listen to this component's events (subscribe, unsubscribe, etc.),
         * each event should also be accompanied by a public getter function with the same name as the event's property,
         * that returns the {@link Event} obtained from the event dispatcher by calling {@link EventDispatcher#getEvent}.
         * See {@link #onShow} for an example.
         *
         * Full example for an event representing an example action in a example component:
         *
         * <code>
         * // Define an example component class with an example event
         * class ExampleComponent extends Component<ComponentConfig> {
           *
           *     private exampleComponentEvents = {
           *         onExampleAction: new EventDispatcher<ExampleComponent, NoArgs>()
           *     }
           *
           *     // constructor and other stuff...
           *
           *     protected onExampleActionEvent() {
           *        this.exampleComponentEvents.onExampleAction.dispatch(this);
           *    }
           *
           *    get onExampleAction(): Event<ExampleComponent, NoArgs> {
           *        return this.exampleComponentEvents.onExampleAction.getEvent();
           *    }
           * }
         *
         * // Create an instance of the component somewhere
         * var exampleComponentInstance = new ExampleComponent();
         *
         * // Subscribe to the example event on the component
         * exampleComponentInstance.onExampleAction.subscribe(function (sender: ExampleComponent) {
           *     console.log('onExampleAction of ' + sender + ' has fired!');
           * });
         * </code>
         */
        this.componentEvents = {
            onShow: new eventdispatcher_1.EventDispatcher(),
            onHide: new eventdispatcher_1.EventDispatcher(),
            onHoverChanged: new eventdispatcher_1.EventDispatcher(),
        };
        // Create the configuration for this component
        this.config = this.mergeConfig(config, {
            tag: 'div',
            id: 'mi-wbc-id-' + guid_1.Guid.next(),
            cssPrefix: 'mi-wbc',
            cssClass: 'ui-component',
            cssClasses: [],
            hidden: false,
        }, {});
    }
    /**
     * Initializes the component, e.g. by applying config settings.
     * This method must not be called from outside the UI framework.
     *
     * This method is automatically called by the {@link UIInstanceManager}. If the component is an inner component of
     * some component, and thus encapsulated abd managed internally and never directly exposed to the UIManager,
     * this method must be called from the managing component's {@link #initialize} method.
     */
    Component.prototype.initialize = function () {
        this.hidden = this.config.hidden;
        // Hide the component at initialization if it is configured to be hidden
        if (this.isHidden()) {
            this.hidden = false; // Set flag to false for the following hide() call to work (hide() checks the flag)
            this.hide();
        }
    };
    /**
     * Configures the component for the supplied Player and UIInstanceManager. This is the place where all the magic
     * happens, where components typically subscribe and react to events (on their DOM element, the Player, or the
     * UIInstanceManager), and basically everything that makes them interactive.
     * This method is called only once, when the UIManager initializes the UI.
     *
     * Subclasses usually overwrite this method to add their own functionality.
     *
     * @param player the player which this component controls
     * @param uimanager the UIInstanceManager that manages this component
     */
    Component.prototype.configure = function (player, uimanager) {
        var _this = this;
        this.onShow.subscribe(function () {
            uimanager.onComponentShow.dispatch(_this);
        });
        this.onHide.subscribe(function () {
            uimanager.onComponentHide.dispatch(_this);
        });
        // Track the hovered state of the element
        this.getDomElement().on('mouseenter', function () {
            _this.onHoverChangedEvent(true);
        });
        this.getDomElement().on('mouseleave', function () {
            _this.onHoverChangedEvent(false);
        });
    };
    /**
     * Releases all resources and dependencies that the component holds. Player, DOM, and UIManager events are
     * automatically removed during release and do not explicitly need to be removed here.
     * This method is called by the UIManager when it releases the UI.
     *
     * Subclasses that need to release resources should override this method and call super.release().
     */
    Component.prototype.release = function () {
        // Nothing to do here, override where necessary
    };
    /**
     * Generate the DOM element for this component.
     *
     * Subclasses usually overwrite this method to extend or replace the DOM element with their own design.
     */
    Component.prototype.toDomElement = function () {
        var element = new dom_1.DOM(this.config.tag, {
            'id': this.config.id,
            'class': this.getCssClasses(),
        });
        return element;
    };
    /**
     * Returns the DOM element of this component. Creates the DOM element if it does not yet exist.
     *
     * Should not be overwritten by subclasses.
     *
     * @returns {DOM}
     */
    Component.prototype.getDomElement = function () {
        if (!this.element) {
            this.element = this.toDomElement();
        }
        return this.element;
    };
    /**
     * Merges a configuration with a default configuration and a base configuration from the superclass.
     *
     * @param config the configuration settings for the components, as usually passed to the constructor
     * @param defaults a default configuration for settings that are not passed with the configuration
     * @param base configuration inherited from a superclass
     * @returns {Config}
     */
    Component.prototype.mergeConfig = function (config, defaults, base) {
        // Extend default config with supplied config
        var merged = Object.assign({}, base, defaults, config);
        // Return the extended config
        return merged;
    };
    /**
     * Helper method that returns a string of all CSS classes of the component.
     *
     * @returns {string}
     */
    Component.prototype.getCssClasses = function () {
        var _this = this;
        // Merge all CSS classes into single array
        var flattenedArray = [this.config.cssClass].concat(this.config.cssClasses);
        // Prefix classes
        flattenedArray = flattenedArray.map(function (css) {
            return _this.prefixCss(css);
        });
        // Join array values into a string
        var flattenedString = flattenedArray.join(' ');
        // Return trimmed string to prevent whitespace at the end from the join operation
        return flattenedString.trim();
    };
    Component.prototype.prefixCss = function (cssClassOrId) {
        return this.config.cssPrefix + '-' + cssClassOrId;
    };
    /**
     * Returns the configuration object of the component.
     * @returns {Config}
     */
    Component.prototype.getConfig = function () {
        return this.config;
    };
    /**
     * Hides the component if shown.
     * This method basically transfers the component into the hidden state. Actual hiding is done via CSS.
     */
    Component.prototype.hide = function () {
        if (!this.hidden) {
            this.hidden = true;
            this.getDomElement().addClass(this.prefixCss(Component.CLASS_HIDDEN));
            this.onHideEvent();
        }
    };
    /**
     * Shows the component if hidden.
     */
    Component.prototype.show = function () {
        if (this.hidden) {
            this.getDomElement().removeClass(this.prefixCss(Component.CLASS_HIDDEN));
            this.hidden = false;
            this.onShowEvent();
        }
    };
    /**
     * Determines if the component is hidden.
     * @returns {boolean} true if the component is hidden, else false
     */
    Component.prototype.isHidden = function () {
        return this.hidden;
    };
    /**
     * Determines if the component is shown.
     * @returns {boolean} true if the component is visible, else false
     */
    Component.prototype.isShown = function () {
        return !this.isHidden();
    };
    /**
     * Toggles the hidden state by hiding the component if it is shown, or showing it if hidden.
     */
    Component.prototype.toggleHidden = function () {
        if (this.isHidden()) {
            this.show();
        }
        else {
            this.hide();
        }
    };
    /**
     * Determines if the component is currently hovered.
     * @returns {boolean} true if the component is hovered, else false
     */
    Component.prototype.isHovered = function () {
        return this.hovered;
    };
    /**
     * Fires the onShow event.
     * See the detailed explanation on event architecture on the {@link #componentEvents events list}.
     */
    Component.prototype.onShowEvent = function () {
        this.componentEvents.onShow.dispatch(this);
    };
    /**
     * Fires the onHide event.
     * See the detailed explanation on event architecture on the {@link #componentEvents events list}.
     */
    Component.prototype.onHideEvent = function () {
        this.componentEvents.onHide.dispatch(this);
    };
    /**
     * Fires the onHoverChanged event.
     * See the detailed explanation on event architecture on the {@link #componentEvents events list}.
     */
    Component.prototype.onHoverChangedEvent = function (hovered) {
        this.hovered = hovered;
        this.componentEvents.onHoverChanged.dispatch(this, { hovered: hovered });
    };
    Object.defineProperty(Component.prototype, "onShow", {
        /**
         * Gets the event that is fired when the component is showing.
         * See the detailed explanation on event architecture on the {@link #componentEvents events list}.
         * @returns {Event<Component<Config>, NoArgs>}
         */
        get: function () {
            return this.componentEvents.onShow.getEvent();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Component.prototype, "onHide", {
        /**
         * Gets the event that is fired when the component is hiding.
         * See the detailed explanation on event architecture on the {@link #componentEvents events list}.
         * @returns {Event<Component<Config>, NoArgs>}
         */
        get: function () {
            return this.componentEvents.onHide.getEvent();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Component.prototype, "onHoverChanged", {
        /**
         * Gets the event that is fired when the component's hover-state is changing.
         * @returns {Event<Component<Config>, ComponentHoverChangedEventArgs>}
         */
        get: function () {
            return this.componentEvents.onHoverChanged.getEvent();
        },
        enumerable: true,
        configurable: true
    });
    return Component;
}());
/**
 * The classname that is attached to the element when it is in the hidden state.
 * @type {string}
 */
Component.CLASS_HIDDEN = 'hidden';
exports.Component = Component;


/***/ }),
/* 3 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var arrayutils_1 = __webpack_require__(4);
/**
 * Event dispatcher to subscribe and trigger events. Each event should have its own dispatcher.
 */
var EventDispatcher = (function () {
    function EventDispatcher() {
        this.listeners = [];
    }
    /**
     * {@inheritDoc}
     */
    EventDispatcher.prototype.subscribe = function (listener) {
        this.listeners.push(new EventListenerWrapper(listener));
    };
    /**
     * {@inheritDoc}
     */
    EventDispatcher.prototype.subscribeOnce = function (listener) {
        this.listeners.push(new EventListenerWrapper(listener, true));
    };
    /**
     * {@inheritDoc}
     */
    EventDispatcher.prototype.subscribeRateLimited = function (listener, rateMs) {
        this.listeners.push(new RateLimitedEventListenerWrapper(listener, rateMs));
    };
    /**
     * {@inheritDoc}
     */
    EventDispatcher.prototype.unsubscribe = function (listener) {
        // Iterate through listeners, compare with parameter, and remove if found
        for (var i = 0; i < this.listeners.length; i++) {
            var subscribedListener = this.listeners[i];
            if (subscribedListener.listener === listener) {
                arrayutils_1.ArrayUtils.remove(this.listeners, subscribedListener);
                return true;
            }
        }
        return false;
    };
    /**
     * Removes all listeners from this dispatcher.
     */
    EventDispatcher.prototype.unsubscribeAll = function () {
        this.listeners = [];
    };
    /**
     * Dispatches an event to all subscribed listeners.
     * @param sender the source of the event
     * @param args the arguments for the event
     */
    EventDispatcher.prototype.dispatch = function (sender, args) {
        if (args === void 0) { args = null; }
        var listenersToRemove = [];
        // Call every listener
        for (var _i = 0, _a = this.listeners; _i < _a.length; _i++) {
            var listener = _a[_i];
            listener.fire(sender, args);
            if (listener.isOnce()) {
                listenersToRemove.push(listener);
            }
        }
        // Remove one-time listener
        for (var _b = 0, listenersToRemove_1 = listenersToRemove; _b < listenersToRemove_1.length; _b++) {
            var listenerToRemove = listenersToRemove_1[_b];
            arrayutils_1.ArrayUtils.remove(this.listeners, listenerToRemove);
        }
    };
    /**
     * Returns the event that this dispatcher manages and on which listeners can subscribe and unsubscribe event handlers.
     * @returns {Event}
     */
    EventDispatcher.prototype.getEvent = function () {
        // For now, just cast the event dispatcher to the event interface. At some point in the future when the
        // codebase grows, it might make sense to split the dispatcher into separate dispatcher and event classes.
        return this;
    };
    return EventDispatcher;
}());
exports.EventDispatcher = EventDispatcher;
/**
 * A basic event listener wrapper to manage listeners within the {@link EventDispatcher}. This is a 'private' class
 * for internal dispatcher use and it is therefore not exported.
 */
var EventListenerWrapper = (function () {
    function EventListenerWrapper(listener, once) {
        if (once === void 0) { once = false; }
        this.eventListener = listener;
        this.once = once;
    }
    Object.defineProperty(EventListenerWrapper.prototype, "listener", {
        /**
         * Returns the wrapped event listener.
         * @returns {EventListener<Sender, Args>}
         */
        get: function () {
            return this.eventListener;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * Fires the wrapped event listener with the given arguments.
     * @param sender
     * @param args
     */
    EventListenerWrapper.prototype.fire = function (sender, args) {
        this.eventListener(sender, args);
    };
    /**
     * Checks if this listener is scheduled to be called only once.
     * @returns {boolean} once if true
     */
    EventListenerWrapper.prototype.isOnce = function () {
        return this.once;
    };
    return EventListenerWrapper;
}());
/**
 * Extends the basic {@link EventListenerWrapper} with rate-limiting functionality.
 */
var RateLimitedEventListenerWrapper = (function (_super) {
    __extends(RateLimitedEventListenerWrapper, _super);
    function RateLimitedEventListenerWrapper(listener, rateMs) {
        var _this = _super.call(this, listener) || this;
        _this.rateMs = rateMs;
        _this.lastFireTime = 0;
        // Wrap the event listener with an event listener that does the rate-limiting
        _this.rateLimitingEventListener = function (sender, args) {
            if (Date.now() - _this.lastFireTime > _this.rateMs) {
                // Only if enough time since the previous call has passed, call the
                // actual event listener and record the current time
                _this.fireSuper(sender, args);
                _this.lastFireTime = Date.now();
            }
        };
        return _this;
    }
    RateLimitedEventListenerWrapper.prototype.fireSuper = function (sender, args) {
        // Fire the actual external event listener
        _super.prototype.fire.call(this, sender, args);
    };
    RateLimitedEventListenerWrapper.prototype.fire = function (sender, args) {
        // Fire the internal rate-limiting listener instead of the external event listener
        this.rateLimitingEventListener(sender, args);
    };
    return RateLimitedEventListenerWrapper;
}(EventListenerWrapper));


/***/ }),
/* 4 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var ArrayUtils;
(function (ArrayUtils) {
    /**
     * Removes an item from an array.
     * @param array the array that may contain the item to remove
     * @param item the item to remove from the array
     * @returns {any} the removed item or null if it wasn't part of the array
     */
    function remove(array, item) {
        var index = array.indexOf(item);
        if (index > -1) {
            return array.splice(index, 1)[0];
        }
        else {
            return null;
        }
    }
    ArrayUtils.remove = remove;
})(ArrayUtils = exports.ArrayUtils || (exports.ArrayUtils = {}));


/***/ }),
/* 5 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var eventdispatcher_1 = __webpack_require__(3);
var browserutils_1 = __webpack_require__(11);
var PlayerUtils;
(function (PlayerUtils) {
    var PlayerState;
    (function (PlayerState) {
        PlayerState[PlayerState["IDLE"] = 0] = "IDLE";
        PlayerState[PlayerState["PREPARED"] = 1] = "PREPARED";
        PlayerState[PlayerState["PLAYING"] = 2] = "PLAYING";
        PlayerState[PlayerState["PAUSED"] = 3] = "PAUSED";
        PlayerState[PlayerState["FINISHED"] = 4] = "FINISHED";
    })(PlayerState = PlayerUtils.PlayerState || (PlayerUtils.PlayerState = {}));
    function isSourceLoaded(player) {
        return player.getConfig().source !== undefined;
    }
    PlayerUtils.isSourceLoaded = isSourceLoaded;
    function isTimeShiftAvailable(player) {
        return player.isLive() && player.getMaxTimeShift() !== 0;
    }
    PlayerUtils.isTimeShiftAvailable = isTimeShiftAvailable;
    function getState(player) {
        if (player.hasEnded()) {
            return PlayerState.FINISHED;
        }
        else if (player.isPlaying()) {
            return PlayerState.PLAYING;
        }
        else if (player.isPaused()) {
            return PlayerState.PAUSED;
        }
        else if (isSourceLoaded(player)) {
            return PlayerState.PREPARED;
        }
        else {
            return PlayerState.IDLE;
        }
    }
    PlayerUtils.getState = getState;
    var TimeShiftAvailabilityDetector = (function () {
        function TimeShiftAvailabilityDetector(player) {
            var _this = this;
            this.timeShiftAvailabilityChangedEvent = new eventdispatcher_1.EventDispatcher();
            this.player = player;
            this.timeShiftAvailable = undefined;
            var timeShiftDetector = function () {
                _this.detect();
            };
            // Try to detect timeshift availability in ON_READY, which works for DASH streams
            player.addEventHandler(player.EVENT.ON_READY, timeShiftDetector);
            // With HLS/NativePlayer streams, getMaxTimeShift can be 0 before the buffer fills, so we need to additionally
            // check timeshift availability in ON_TIME_CHANGED
            player.addEventHandler(player.EVENT.ON_TIME_CHANGED, timeShiftDetector);
        }
        TimeShiftAvailabilityDetector.prototype.detect = function () {
            if (this.player.isLive()) {
                var timeShiftAvailableNow = PlayerUtils.isTimeShiftAvailable(this.player);
                // When the availability changes, we fire the event
                if (timeShiftAvailableNow !== this.timeShiftAvailable) {
                    this.timeShiftAvailabilityChangedEvent.dispatch(this.player, { timeShiftAvailable: timeShiftAvailableNow });
                    this.timeShiftAvailable = timeShiftAvailableNow;
                }
            }
        };
        Object.defineProperty(TimeShiftAvailabilityDetector.prototype, "onTimeShiftAvailabilityChanged", {
            get: function () {
                return this.timeShiftAvailabilityChangedEvent.getEvent();
            },
            enumerable: true,
            configurable: true
        });
        return TimeShiftAvailabilityDetector;
    }());
    PlayerUtils.TimeShiftAvailabilityDetector = TimeShiftAvailabilityDetector;
    /**
     * Detects changes of the stream type, i.e. changes of the return value of the player#isLive method.
     * Normally, a stream cannot change its type during playback, it's either VOD or live. Due to bugs on some
     * platforms or browsers, it can still change. It is therefore unreliable to just check #isLive and this detector
     * should be used as a workaround instead.
     *
     * Known cases:
     *
     * - HLS VOD on Android 4.3
     * Video duration is initially 'Infinity' and only gets available after playback starts, so streams are wrongly
     * reported as 'live' before playback (the live-check in the player checks for infinite duration).
     */
    var LiveStreamDetector = (function () {
        function LiveStreamDetector(player) {
            var _this = this;
            this.liveChangedEvent = new eventdispatcher_1.EventDispatcher();
            this.player = player;
            this.live = undefined;
            var liveDetector = function () {
                _this.detect();
            };
            // Initialize when player is ready
            player.addEventHandler(player.EVENT.ON_READY, liveDetector);
            // Re-evaluate when playback starts
            player.addEventHandler(player.EVENT.ON_PLAY, liveDetector);
            // HLS live detection workaround for Android:
            // Also re-evaluate during playback, because that is when the live flag might change.
            // (Doing it only in Android Chrome saves unnecessary overhead on other plattforms)
            if (browserutils_1.BrowserUtils.isAndroid && browserutils_1.BrowserUtils.isChrome) {
                player.addEventHandler(player.EVENT.ON_TIME_CHANGED, liveDetector);
            }
        }
        LiveStreamDetector.prototype.detect = function () {
            var liveNow = this.player.isLive();
            // Compare current to previous live state flag and fire event when it changes. Since we initialize the flag
            // with undefined, there is always at least an initial event fired that tells listeners the live state.
            if (liveNow !== this.live) {
                this.liveChangedEvent.dispatch(this.player, { live: liveNow });
                this.live = liveNow;
            }
        };
        Object.defineProperty(LiveStreamDetector.prototype, "onLiveChanged", {
            get: function () {
                return this.liveChangedEvent.getEvent();
            },
            enumerable: true,
            configurable: true
        });
        return LiveStreamDetector;
    }());
    PlayerUtils.LiveStreamDetector = LiveStreamDetector;
})(PlayerUtils = exports.PlayerUtils || (exports.PlayerUtils = {}));


/***/ }),
/* 6 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var component_1 = __webpack_require__(2);
var dom_1 = __webpack_require__(0);
var eventdispatcher_1 = __webpack_require__(3);
/**
 * A simple clickable button.
 */
var Button = (function (_super) {
    __extends(Button, _super);
    function Button(config) {
        var _this = _super.call(this, config) || this;
        _this.buttonEvents = {
            onClick: new eventdispatcher_1.EventDispatcher(),
        };
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-button',
        }, _this.config);
        return _this;
    }
    Button.prototype.toDomElement = function () {
        var _this = this;
        // Create the button element with the text label
        var buttonElement = new dom_1.DOM('button', {
            'type': 'button',
            'id': this.config.id,
            'class': this.getCssClasses(),
        }).append(new dom_1.DOM('span', {
            'class': this.prefixCss('label'),
        }).html(this.config.text));
        // Listen for the click event on the button element and trigger the corresponding event on the button component
        buttonElement.on('click', function () {
            _this.onClickEvent();
        });
        return buttonElement;
    };
    /**
     * Sets text on the label of the button.
     * @param text the text to put into the label of the button
     */
    Button.prototype.setText = function (text) {
        this.getDomElement().find('.' + this.prefixCss('label')).html(text);
    };
    Button.prototype.onClickEvent = function () {
        this.buttonEvents.onClick.dispatch(this);
    };
    Object.defineProperty(Button.prototype, "onClick", {
        /**
         * Gets the event that is fired when the button is clicked.
         * @returns {Event<Button<Config>, NoArgs>}
         */
        get: function () {
            return this.buttonEvents.onClick.getEvent();
        },
        enumerable: true,
        configurable: true
    });
    return Button;
}(component_1.Component));
exports.Button = Button;


/***/ }),
/* 7 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var component_1 = __webpack_require__(2);
var dom_1 = __webpack_require__(0);
var eventdispatcher_1 = __webpack_require__(3);
/**
 * A simple text label.
 *
 * DOM example:
 * <code>
 *     <span class='ui-label'>...some text...</span>
 * </code>
 */
var Label = (function (_super) {
    __extends(Label, _super);
    function Label(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.labelEvents = {
            onClick: new eventdispatcher_1.EventDispatcher(),
            onTextChanged: new eventdispatcher_1.EventDispatcher(),
        };
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-label',
        }, _this.config);
        _this.text = _this.config.text;
        return _this;
    }
    Label.prototype.toDomElement = function () {
        var _this = this;
        var labelElement = new dom_1.DOM('span', {
            'id': this.config.id,
            'class': this.getCssClasses(),
        }).html(this.text);
        labelElement.on('click', function () {
            _this.onClickEvent();
        });
        return labelElement;
    };
    /**
     * Set the text on this label.
     * @param text
     */
    Label.prototype.setText = function (text) {
        this.text = text;
        this.getDomElement().html(text);
        this.onTextChangedEvent(text);
    };
    /**
     * Gets the text on this label.
     * @return {string} The text on the label
     */
    Label.prototype.getText = function () {
        return this.text;
    };
    /**
     * Clears the text on this label.
     */
    Label.prototype.clearText = function () {
        this.getDomElement().html('');
        this.onTextChangedEvent(null);
    };
    /**
     * Tests if the label is empty and does not contain any text.
     * @return {boolean} True if the label is empty, else false
     */
    Label.prototype.isEmpty = function () {
        return !this.text;
    };
    /**
     * Fires the {@link #onClick} event.
     * Can be used by subclasses to listen to this event without subscribing an event listener by overwriting the method
     * and calling the super method.
     */
    Label.prototype.onClickEvent = function () {
        this.labelEvents.onClick.dispatch(this);
    };
    /**
     * Fires the {@link #onClick} event.
     * Can be used by subclasses to listen to this event without subscribing an event listener by overwriting the method
     * and calling the super method.
     */
    Label.prototype.onTextChangedEvent = function (text) {
        this.labelEvents.onTextChanged.dispatch(this, text);
    };
    Object.defineProperty(Label.prototype, "onClick", {
        /**
         * Gets the event that is fired when the label is clicked.
         * @returns {Event<Label<LabelConfig>, NoArgs>}
         */
        get: function () {
            return this.labelEvents.onClick.getEvent();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Label.prototype, "onTextChanged", {
        /**
         * Gets the event that is fired when the text on the label is changed.
         * @returns {Event<Label<LabelConfig>, string>}
         */
        get: function () {
            return this.labelEvents.onTextChanged.getEvent();
        },
        enumerable: true,
        configurable: true
    });
    return Label;
}(component_1.Component));
exports.Label = Label;


/***/ }),
/* 8 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var button_1 = __webpack_require__(6);
var eventdispatcher_1 = __webpack_require__(3);
/**
 * A button that can be toggled between 'on' and 'off' states.
 */
var ToggleButton = (function (_super) {
    __extends(ToggleButton, _super);
    function ToggleButton(config) {
        var _this = _super.call(this, config) || this;
        _this.toggleButtonEvents = {
            onToggle: new eventdispatcher_1.EventDispatcher(),
            onToggleOn: new eventdispatcher_1.EventDispatcher(),
            onToggleOff: new eventdispatcher_1.EventDispatcher(),
        };
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-togglebutton',
        }, _this.config);
        return _this;
    }
    /**
     * Toggles the button to the 'on' state.
     */
    ToggleButton.prototype.on = function () {
        if (this.isOff()) {
            this.onState = true;
            this.getDomElement().removeClass(this.prefixCss(ToggleButton.CLASS_OFF));
            this.getDomElement().addClass(this.prefixCss(ToggleButton.CLASS_ON));
            this.onToggleEvent();
            this.onToggleOnEvent();
        }
    };
    /**
     * Toggles the button to the 'off' state.
     */
    ToggleButton.prototype.off = function () {
        if (this.isOn()) {
            this.onState = false;
            this.getDomElement().removeClass(this.prefixCss(ToggleButton.CLASS_ON));
            this.getDomElement().addClass(this.prefixCss(ToggleButton.CLASS_OFF));
            this.onToggleEvent();
            this.onToggleOffEvent();
        }
    };
    /**
     * Toggle the button 'on' if it is 'off', or 'off' if it is 'on'.
     */
    ToggleButton.prototype.toggle = function () {
        if (this.isOn()) {
            this.off();
        }
        else {
            this.on();
        }
    };
    /**
     * Checks if the toggle button is in the 'on' state.
     * @returns {boolean} true if button is 'on', false if 'off'
     */
    ToggleButton.prototype.isOn = function () {
        return this.onState;
    };
    /**
     * Checks if the toggle button is in the 'off' state.
     * @returns {boolean} true if button is 'off', false if 'on'
     */
    ToggleButton.prototype.isOff = function () {
        return !this.isOn();
    };
    ToggleButton.prototype.onClickEvent = function () {
        _super.prototype.onClickEvent.call(this);
        // Fire the toggle event together with the click event
        // (they are technically the same, only the semantics are different)
        this.onToggleEvent();
    };
    ToggleButton.prototype.onToggleEvent = function () {
        this.toggleButtonEvents.onToggle.dispatch(this);
    };
    ToggleButton.prototype.onToggleOnEvent = function () {
        this.toggleButtonEvents.onToggleOn.dispatch(this);
    };
    ToggleButton.prototype.onToggleOffEvent = function () {
        this.toggleButtonEvents.onToggleOff.dispatch(this);
    };
    Object.defineProperty(ToggleButton.prototype, "onToggle", {
        /**
         * Gets the event that is fired when the button is toggled.
         * @returns {Event<ToggleButton<Config>, NoArgs>}
         */
        get: function () {
            return this.toggleButtonEvents.onToggle.getEvent();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ToggleButton.prototype, "onToggleOn", {
        /**
         * Gets the event that is fired when the button is toggled 'on'.
         * @returns {Event<ToggleButton<Config>, NoArgs>}
         */
        get: function () {
            return this.toggleButtonEvents.onToggleOn.getEvent();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ToggleButton.prototype, "onToggleOff", {
        /**
         * Gets the event that is fired when the button is toggled 'off'.
         * @returns {Event<ToggleButton<Config>, NoArgs>}
         */
        get: function () {
            return this.toggleButtonEvents.onToggleOff.getEvent();
        },
        enumerable: true,
        configurable: true
    });
    return ToggleButton;
}(button_1.Button));
ToggleButton.CLASS_ON = 'on';
ToggleButton.CLASS_OFF = 'off';
exports.ToggleButton = ToggleButton;


/***/ }),
/* 9 */
/***/ (function(module, exports) {

module.exports = angular;

/***/ }),
/* 10 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
// TODO change to internal (not exported) class, how to use in other files?
/**
 * Executes a callback after a specified amount of time, optionally repeatedly until stopped.
 */
var Timeout = (function () {
    /**
     * Creates a new timeout callback handler.
     * @param delay the delay in milliseconds after which the callback should be executed
     * @param callback the callback to execute after the delay time
     * @param repeat if true, call the callback repeatedly in delay intervals
     */
    function Timeout(delay, callback, repeat) {
        if (repeat === void 0) { repeat = false; }
        this.delay = delay;
        this.callback = callback;
        this.repeat = repeat;
        this.timeoutHandle = 0;
    }
    /**
     * Starts the timeout and calls the callback when the timeout delay has passed.
     * @returns {Timeout} the current timeout (so the start call can be chained to the constructor)
     */
    Timeout.prototype.start = function () {
        this.reset();
        return this;
    };
    /**
     * Clears the timeout. The callback will not be called if clear is called during the timeout.
     */
    Timeout.prototype.clear = function () {
        clearTimeout(this.timeoutHandle);
    };
    /**
     * Resets the passed timeout delay to zero. Can be used to defer the calling of the callback.
     */
    Timeout.prototype.reset = function () {
        var _this = this;
        var lastScheduleTime = 0;
        var delayAdjust = 0;
        this.clear();
        var internalCallback = function () {
            _this.callback();
            if (_this.repeat) {
                var now = Date.now();
                // The time of one iteration from scheduling to executing the callback (usually a bit longer than the delay
                // time)
                var delta = now - lastScheduleTime;
                // Calculate the delay adjustment for the next schedule to keep a steady delay interval over time
                delayAdjust = _this.delay - delta + delayAdjust;
                lastScheduleTime = now;
                // Schedule next execution by the adjusted delay
                _this.timeoutHandle = window.setTimeout(internalCallback, _this.delay + delayAdjust);
            }
        };
        lastScheduleTime = Date.now();
        this.timeoutHandle = window.setTimeout(internalCallback, this.delay);
    };
    return Timeout;
}());
exports.Timeout = Timeout;


/***/ }),
/* 11 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var BrowserUtils;
(function (BrowserUtils) {
    // isMobile only needs to be evaluated once (it cannot change during a browser session)
    // Mobile detection according to Mozilla recommendation: "In summary, we recommend looking for the string “Mobi”
    // anywhere in the User Agent to detect a mobile device."
    // https://developer.mozilla.org/en-US/docs/Web/HTTP/Browser_detection_using_the_user_agent
    BrowserUtils.isMobile = navigator && navigator.userAgent && /Mobi/.test(navigator.userAgent);
    BrowserUtils.isChrome = navigator && navigator.userAgent && /Chrome/.test(navigator.userAgent);
    BrowserUtils.isAndroid = navigator && navigator.userAgent && /Android/.test(navigator.userAgent);
})(BrowserUtils = exports.BrowserUtils || (exports.BrowserUtils = {}));


/***/ }),
/* 12 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var togglebutton_1 = __webpack_require__(8);
var playerutils_1 = __webpack_require__(5);
/**
 * A button that toggles between playback and pause.
 */
var PlaybackToggleButton = (function (_super) {
    __extends(PlaybackToggleButton, _super);
    function PlaybackToggleButton(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-playbacktogglebutton',
            text: 'Play/Pause',
        }, _this.config);
        return _this;
    }
    PlaybackToggleButton.prototype.configure = function (player, uimanager, handleClickEvent) {
        var _this = this;
        if (handleClickEvent === void 0) { handleClickEvent = true; }
        _super.prototype.configure.call(this, player, uimanager);
        var isSeeking = false;
        // Handler to update button state based on player state
        var playbackStateHandler = function (event) {
            // If the UI is currently seeking, playback is temporarily stopped but the buttons should
            // not reflect that and stay as-is (e.g indicate playback while seeking).
            if (isSeeking) {
                return;
            }
            if (player.isPlaying()) {
                _this.on();
            }
            else {
                _this.off();
            }
        };
        // Call handler upon these events
        player.addEventHandler(player.EVENT.ON_PLAY, playbackStateHandler);
        player.addEventHandler(player.EVENT.ON_PAUSED, playbackStateHandler);
        // when playback finishes, player turns to paused mode
        player.addEventHandler(player.EVENT.ON_PLAYBACK_FINISHED, playbackStateHandler);
        player.addEventHandler(player.EVENT.ON_CAST_STARTED, playbackStateHandler);
        player.addEventHandler(player.EVENT.ON_CAST_PLAYING, playbackStateHandler);
        player.addEventHandler(player.EVENT.ON_CAST_PAUSED, playbackStateHandler);
        player.addEventHandler(player.EVENT.ON_CAST_PLAYBACK_FINISHED, playbackStateHandler);
        // Detect absence of timeshifting on live streams and add tagging class to convert button icons to play/stop
        var timeShiftDetector = new playerutils_1.PlayerUtils.TimeShiftAvailabilityDetector(player);
        timeShiftDetector.onTimeShiftAvailabilityChanged.subscribe(function (sender, args) {
            if (!args.timeShiftAvailable) {
                _this.getDomElement().addClass(_this.prefixCss(PlaybackToggleButton.CLASS_STOPTOGGLE));
            }
            else {
                _this.getDomElement().removeClass(_this.prefixCss(PlaybackToggleButton.CLASS_STOPTOGGLE));
            }
        });
        timeShiftDetector.detect(); // Initial detection
        if (handleClickEvent) {
            // Control player by button events
            // When a button event triggers a player API call, events are fired which in turn call the event handler
            // above that updated the button state.
            this.onClick.subscribe(function () {
                if (player.isPlaying()) {
                    player.pause('ui');
                }
                else {
                    player.play('ui');
                }
            });
        }
        // Track UI seeking status
        uimanager.onSeek.subscribe(function () {
            isSeeking = true;
        });
        uimanager.onSeeked.subscribe(function () {
            isSeeking = false;
        });
        // Startup init
        playbackStateHandler(null);
    };
    return PlaybackToggleButton;
}(togglebutton_1.ToggleButton));
PlaybackToggleButton.CLASS_STOPTOGGLE = 'stoptoggle';
exports.PlaybackToggleButton = PlaybackToggleButton;


/***/ }),
/* 13 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var component_1 = __webpack_require__(2);
var dom_1 = __webpack_require__(0);
var eventdispatcher_1 = __webpack_require__(3);
var timeout_1 = __webpack_require__(10);
var playerutils_1 = __webpack_require__(5);
/**
 * A seek bar to seek within the player's media. It displays the current playback position, amount of buffed data, seek
 * target, and keeps status about an ongoing seek.
 *
 * The seek bar displays different 'bars':
 *  - the playback position, i.e. the position in the media at which the player current playback pointer is positioned
 *  - the buffer position, which usually is the playback position plus the time span that is already buffered ahead
 *  - the seek position, used to preview to where in the timeline a seek will jump to
 */
var SeekBar = (function (_super) {
    __extends(SeekBar, _super);
    function SeekBar(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        /**
         * Buffer of the the current playback position. The position must be buffered in case the element
         * needs to be refreshed with {@link #refreshPlaybackPosition}.
         * @type {number}
         */
        _this.playbackPositionPercentage = 0;
        // https://hacks.mozilla.org/2013/04/detecting-touch-its-the-why-not-the-how/
        _this.touchSupported = ('ontouchstart' in window);
        _this.seekBarEvents = {
            /**
             * Fired when a scrubbing seek operation is started.
             */
            onSeek: new eventdispatcher_1.EventDispatcher(),
            /**
             * Fired during a scrubbing seek to indicate that the seek preview (i.e. the video frame) should be updated.
             */
            onSeekPreview: new eventdispatcher_1.EventDispatcher(),
            /**
             * Fired when a scrubbing seek has finished or when a direct seek is issued.
             */
            onSeeked: new eventdispatcher_1.EventDispatcher(),
        };
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-seekbar',
            vertical: false,
            smoothPlaybackPositionUpdateIntervalMs: 50,
            hideInLivePlayback: true,
        }, _this.config);
        _this.label = _this.config.label;
        _this.timelineMarkers = [];
        return _this;
    }
    SeekBar.prototype.initialize = function () {
        _super.prototype.initialize.call(this);
        if (this.hasLabel()) {
            this.getLabel().initialize();
        }
    };
    SeekBar.prototype.configure = function (player, uimanager, configureSeek) {
        var _this = this;
        if (configureSeek === void 0) { configureSeek = true; }
        _super.prototype.configure.call(this, player, uimanager);
        // let config = <SeekBarConfig>this.getConfig();
        if (!configureSeek) {
            // The configureSeek flag can be used by subclasses to disable configuration as seek bar. E.g. the volume
            // slider is reusing this component but adds its own functionality, and does not need the seek functionality.
            // This is actually a hack, the proper solution would be for both seek bar and volume sliders to extend
            // a common base slider component and implement their functionality there.
            return;
        }
        var playbackNotInitialized = true;
        var isPlaying = false;
        var isSeeking = false;
        // Update playback and buffer positions
        var playbackPositionHandler = function (event, forceUpdate) {
            if (event === void 0) { event = null; }
            if (forceUpdate === void 0) { forceUpdate = false; }
            // Once this handler os called, playback has been started and we set the flag to false
            playbackNotInitialized = false;
            if (isSeeking) {
                // We caught a seek preview seek, do not update the seekbar
                return;
            }
            if (player.isLive()) {
                if (player.getMaxTimeShift() === 0) {
                    // This case must be explicitly handled to avoid division by zero
                    _this.setPlaybackPosition(100);
                }
                else {
                    var playbackPositionPercentage = 100 - (100 / player.getMaxTimeShift() * player.getTimeShift());
                    _this.setPlaybackPosition(playbackPositionPercentage);
                }
                // Always show full buffer for live streams
                _this.setBufferPosition(100);
                // Hide SeekBar if required.
                // if (config.hideInLivePlayback) {
                _this.hide();
                // }
            }
            else {
                var playbackPositionPercentage = 100 / player.getDuration() * player.getCurrentTime();
                var videoBufferLength = player.getVideoBufferLength();
                var audioBufferLength = player.getAudioBufferLength();
                // Calculate the buffer length which is the smaller length of the audio and video buffers. If one of these
                // buffers is not available, we set it's value to MAX_VALUE to make sure that the other real value is taken
                // as the buffer length.
                var bufferLength = Math.min(videoBufferLength != null ? videoBufferLength : Number.MAX_VALUE, audioBufferLength != null ? audioBufferLength : Number.MAX_VALUE);
                // If both buffer lengths are missing, we set the buffer length to zero
                if (bufferLength === Number.MAX_VALUE) {
                    bufferLength = 0;
                }
                var bufferPercentage = 100 / player.getDuration() * bufferLength;
                // Update playback position only in paused state or in the initial startup state where player is neither
                // paused nor playing. Playback updates are handled in the Timeout below.
                if (_this.config.smoothPlaybackPositionUpdateIntervalMs === SeekBar.SMOOTH_PLAYBACK_POSITION_UPDATE_DISABLED
                    || forceUpdate || player.isPaused() || (player.isPaused() === player.isPlaying())) {
                    _this.setPlaybackPosition(playbackPositionPercentage);
                }
                _this.setBufferPosition(playbackPositionPercentage + bufferPercentage);
            }
        };
        // Update seekbar upon these events
        // init playback position when the player is ready
        player.addEventHandler(player.EVENT.ON_READY, playbackPositionHandler);
        // update playback position when it changes
        player.addEventHandler(player.EVENT.ON_TIME_CHANGED, playbackPositionHandler);
        // update bufferlevel when buffering is complete
        player.addEventHandler(player.EVENT.ON_STALL_ENDED, playbackPositionHandler);
        // update playback position when a seek has finished
        player.addEventHandler(player.EVENT.ON_SEEKED, playbackPositionHandler);
        // update playback position when a timeshift has finished
        player.addEventHandler(player.EVENT.ON_TIME_SHIFTED, playbackPositionHandler);
        // update bufferlevel when a segment has been downloaded
        player.addEventHandler(player.EVENT.ON_SEGMENT_REQUEST_FINISHED, playbackPositionHandler);
        // update playback position of Cast playback
        player.addEventHandler(player.EVENT.ON_CAST_TIME_UPDATED, playbackPositionHandler);
        // Seek handling
        player.addEventHandler(player.EVENT.ON_SEEK, function () {
            _this.setSeeking(true);
        });
        player.addEventHandler(player.EVENT.ON_SEEKED, function () {
            _this.setSeeking(false);
        });
        player.addEventHandler(player.EVENT.ON_TIME_SHIFT, function () {
            _this.setSeeking(true);
        });
        player.addEventHandler(player.EVENT.ON_TIME_SHIFTED, function () {
            _this.setSeeking(false);
        });
        var seek = function (percentage) {
            if (player.isLive()) {
                player.timeShift(player.getMaxTimeShift() - (player.getMaxTimeShift() * (percentage / 100)), 'ui');
            }
            else {
                player.seek(player.getDuration() * (percentage / 100), 'ui');
            }
        };
        this.onSeek.subscribe(function (sender) {
            isSeeking = true; // track seeking status so we can catch events from seek preview seeks
            // Notify UI manager of started seek
            uimanager.onSeek.dispatch(sender);
            // Save current playback state
            isPlaying = player.isPlaying();
            // Pause playback while seeking
            if (isPlaying) {
                player.pause('ui');
            }
        });
        this.onSeekPreview.subscribe(function (sender, args) {
            // Notify UI manager of seek preview
            uimanager.onSeekPreview.dispatch(sender, args);
        });
        this.onSeekPreview.subscribeRateLimited(function (sender, args) {
            // Rate-limited scrubbing seek
            if (args.scrubbing) {
                seek(args.position);
            }
        }, 200);
        this.onSeeked.subscribe(function (sender, percentage) {
            isSeeking = false;
            // Do the seek
            seek(percentage);
            // Continue playback after seek if player was playing when seek started
            if (isPlaying) {
                player.play('ui');
            }
            // Notify UI manager of finished seek
            uimanager.onSeeked.dispatch(sender);
        });
        if (this.hasLabel()) {
            // Configure a seekbar label that is internal to the seekbar)
            this.getLabel().configure(player, uimanager);
        }
        // Hide seekbar for live sources without timeshift
        var isLive = false;
        var hasTimeShift = false;
        var switchVisibility = function (isLive, hasTimeShift) {
            if (isLive && !hasTimeShift) {
                _this.hide();
            }
            else {
                _this.show();
            }
            playbackPositionHandler(null, true);
            _this.refreshPlaybackPosition();
        };
        var liveStreamDetector = new playerutils_1.PlayerUtils.LiveStreamDetector(player);
        liveStreamDetector.onLiveChanged.subscribe(function (sender, args) {
            isLive = args.live;
            switchVisibility(isLive, hasTimeShift);
        });
        var timeShiftDetector = new playerutils_1.PlayerUtils.TimeShiftAvailabilityDetector(player);
        timeShiftDetector.onTimeShiftAvailabilityChanged.subscribe(function (sender, args) {
            hasTimeShift = args.timeShiftAvailable;
            switchVisibility(isLive, hasTimeShift);
        });
        // Initial detection
        liveStreamDetector.detect();
        timeShiftDetector.detect();
        // Refresh the playback position when the player resized or the UI is configured. The playback position marker
        // is positioned absolutely and must therefore be updated when the size of the seekbar changes.
        player.addEventHandler(player.EVENT.ON_PLAYER_RESIZE, function () {
            _this.refreshPlaybackPosition();
        });
        // Additionally, when this code is called, the seekbar is not part of the UI yet and therefore does not have a size,
        // resulting in a wrong initial position of the marker. Refreshing it once the UI is configured solved this issue.
        uimanager.onConfigured.subscribe(function () {
            _this.refreshPlaybackPosition();
        });
        // It can also happen that the value changes once the player is ready, or when a new source is loaded, so we need
        // to update on ON_READY too
        player.addEventHandler(player.EVENT.ON_READY, function () {
            _this.refreshPlaybackPosition();
        });
        // Initialize seekbar
        playbackPositionHandler(); // Set the playback position
        this.setBufferPosition(0);
        this.setSeekPosition(0);
        if (this.config.smoothPlaybackPositionUpdateIntervalMs !== SeekBar.SMOOTH_PLAYBACK_POSITION_UPDATE_DISABLED) {
            this.configureSmoothPlaybackPositionUpdater(player, uimanager);
        }
        this.configureMarkers(player, uimanager);
    };
    SeekBar.prototype.configureSmoothPlaybackPositionUpdater = function (player, uimanager) {
        var _this = this;
        /*
         * Playback position update
         *
         * We do not update the position directly from the ON_TIME_CHANGED event, because it arrives very jittery and
         * results in a jittery position indicator since the CSS transition time is statically set.
         * To work around this issue, we maintain a local playback position that is updated in a stable regular interval
         * and kept in sync with the player.
         */
        var currentTimeSeekBar = 0;
        var currentTimePlayer = 0;
        var updateIntervalMs = 50;
        var currentTimeUpdateDeltaSecs = updateIntervalMs / 1000;
        this.smoothPlaybackPositionUpdater = new timeout_1.Timeout(updateIntervalMs, function () {
            currentTimeSeekBar += currentTimeUpdateDeltaSecs;
            currentTimePlayer = player.getCurrentTime();
            // Sync currentTime of seekbar to player
            var currentTimeDelta = currentTimeSeekBar - currentTimePlayer;
            // If the delta is larger that 2 secs, directly jump the seekbar to the
            // player time instead of smoothly fast forwarding/rewinding.
            if (Math.abs(currentTimeDelta) > 2) {
                currentTimeSeekBar = currentTimePlayer;
            }
            else if (currentTimeDelta <= -currentTimeUpdateDeltaSecs) {
                currentTimeSeekBar += currentTimeUpdateDeltaSecs;
            }
            else if (currentTimeDelta >= currentTimeUpdateDeltaSecs) {
                currentTimeSeekBar -= currentTimeUpdateDeltaSecs;
            }
            var playbackPositionPercentage = 100 / player.getDuration() * currentTimeSeekBar;
            _this.setPlaybackPosition(playbackPositionPercentage);
        }, true);
        var startSmoothPlaybackPositionUpdater = function () {
            if (!player.isLive()) {
                currentTimeSeekBar = player.getCurrentTime();
                _this.smoothPlaybackPositionUpdater.start();
            }
        };
        var stopSmoothPlaybackPositionUpdater = function () {
            _this.smoothPlaybackPositionUpdater.clear();
        };
        player.addEventHandler(player.EVENT.ON_PLAY, startSmoothPlaybackPositionUpdater);
        player.addEventHandler(player.EVENT.ON_CAST_PLAYING, startSmoothPlaybackPositionUpdater);
        player.addEventHandler(player.EVENT.ON_PAUSED, stopSmoothPlaybackPositionUpdater);
        player.addEventHandler(player.EVENT.ON_CAST_PAUSED, stopSmoothPlaybackPositionUpdater);
        player.addEventHandler(player.EVENT.ON_SEEKED, function () {
            currentTimeSeekBar = player.getCurrentTime();
        });
        if (player.isPlaying()) {
            startSmoothPlaybackPositionUpdater();
        }
    };
    SeekBar.prototype.configureMarkers = function (player, uimanager) {
        var _this = this;
        var clearMarkers = function () {
            _this.timelineMarkers = [];
            _this.updateMarkers();
        };
        var setupMarkers = function () {
            clearMarkers();
            var hasMarkersInUiConfig = uimanager.getConfig().metadata && uimanager.getConfig().metadata.markers
                && uimanager.getConfig().metadata.markers.length > 0;
            var hasMarkersInPlayerConfig = player.getConfig().source && player.getConfig().source.markers
                && player.getConfig().source.markers.length > 0;
            // Take markers from the UI config. If no markers defined, try to take them from the player's source config.
            var markers = hasMarkersInUiConfig ? uimanager.getConfig().metadata.markers :
                hasMarkersInPlayerConfig ? player.getConfig().source.markers : null;
            // Generate timeline markers from the config if we have markers and if we have a duration
            // The duration check is for buggy platforms where the duration is not available instantly (Chrome on Android 4.3)
            if (markers && player.getDuration() !== Infinity) {
                for (var _i = 0, markers_1 = markers; _i < markers_1.length; _i++) {
                    var marker = markers_1[_i];
                    _this.timelineMarkers.push({
                        time: 100 / player.getDuration() * marker.time,
                        title: marker.title,
                    });
                }
            }
            // Populate the timeline with the markers
            _this.updateMarkers();
        };
        // Add markers when a source is loaded
        player.addEventHandler(player.EVENT.ON_READY, setupMarkers);
        // Remove markers when unloaded
        player.addEventHandler(player.EVENT.ON_SOURCE_UNLOADED, clearMarkers);
        // Init markers at startup
        setupMarkers();
    };
    SeekBar.prototype.release = function () {
        _super.prototype.release.call(this);
        if (this.smoothPlaybackPositionUpdater) {
            this.smoothPlaybackPositionUpdater.clear();
        }
    };
    SeekBar.prototype.toDomElement = function () {
        var _this = this;
        if (this.config.vertical) {
            this.config.cssClasses.push('vertical');
        }
        var seekBarContainer = new dom_1.DOM('div', {
            'id': this.config.id,
            'class': this.getCssClasses(),
        });
        var seekBar = new dom_1.DOM('div', {
            'class': this.prefixCss('seekbar'),
        });
        this.seekBar = seekBar;
        // Indicator that shows the buffer fill level
        var seekBarBufferLevel = new dom_1.DOM('div', {
            'class': this.prefixCss('seekbar-bufferlevel'),
        });
        this.seekBarBufferPosition = seekBarBufferLevel;
        // Indicator that shows the current playback position
        var seekBarPlaybackPosition = new dom_1.DOM('div', {
            'class': this.prefixCss('seekbar-playbackposition'),
        });
        this.seekBarPlaybackPosition = seekBarPlaybackPosition;
        // A marker of the current playback position, e.g. a dot or line
        var seekBarPlaybackPositionMarker = new dom_1.DOM('div', {
            'class': this.prefixCss('seekbar-playbackposition-marker'),
        });
        this.seekBarPlaybackPositionMarker = seekBarPlaybackPositionMarker;
        // Indicator that show where a seek will go to
        var seekBarSeekPosition = new dom_1.DOM('div', {
            'class': this.prefixCss('seekbar-seekposition'),
        });
        this.seekBarSeekPosition = seekBarSeekPosition;
        // Indicator that shows the full seekbar
        var seekBarBackdrop = new dom_1.DOM('div', {
            'class': this.prefixCss('seekbar-backdrop'),
        });
        this.seekBarBackdrop = seekBarBackdrop;
        var seekBarChapterMarkersContainer = new dom_1.DOM('div', {
            'class': this.prefixCss('seekbar-markers'),
        });
        this.seekBarMarkersContainer = seekBarChapterMarkersContainer;
        seekBar.append(seekBarBackdrop, seekBarBufferLevel, seekBarSeekPosition, seekBarPlaybackPosition, seekBarChapterMarkersContainer, seekBarPlaybackPositionMarker);
        var seeking = false;
        // Define handler functions so we can attach/remove them later
        var mouseTouchMoveHandler = function (e) {
            e.preventDefault();
            // Avoid propagation to VR handler
            e.stopPropagation();
            var targetPercentage = 100 * _this.getOffset(e);
            _this.setSeekPosition(targetPercentage);
            _this.setPlaybackPosition(targetPercentage);
            _this.onSeekPreviewEvent(targetPercentage, true);
        };
        var mouseTouchUpHandler = function (e) {
            e.preventDefault();
            // Remove handlers, seek operation is finished
            new dom_1.DOM(document).off('touchmove mousemove', mouseTouchMoveHandler);
            new dom_1.DOM(document).off('touchend mouseup', mouseTouchUpHandler);
            var targetPercentage = 100 * _this.getOffset(e);
            var snappedChapter = _this.getMarkerAtPosition(targetPercentage);
            _this.setSeeking(false);
            seeking = false;
            // Fire seeked event
            _this.onSeekedEvent(snappedChapter ? snappedChapter.time : targetPercentage);
        };
        // A seek always start with a touchstart or mousedown directly on the seekbar.
        // To track a mouse seek also outside the seekbar (for touch events this works automatically),
        // so the user does not need to take care that the mouse always stays on the seekbar, we attach the mousemove
        // and mouseup handlers to the whole document. A seek is triggered when the user lifts the mouse key.
        // A seek mouse gesture is thus basically a click with a long time frame between down and up events.
        seekBar.on('touchstart mousedown', function (e) {
            var isTouchEvent = _this.touchSupported && e instanceof TouchEvent;
            // Prevent selection of DOM elements (also prevents mousedown if current event is touchstart)
            e.preventDefault();
            // Avoid propagation to VR handler
            e.stopPropagation();
            _this.setSeeking(true); // Set seeking class on DOM element
            seeking = true; // Set seek tracking flag
            // Fire seeked event
            _this.onSeekEvent();
            // Add handler to track the seek operation over the whole document
            new dom_1.DOM(document).on(isTouchEvent ? 'touchmove' : 'mousemove', mouseTouchMoveHandler);
            new dom_1.DOM(document).on(isTouchEvent ? 'touchend' : 'mouseup', mouseTouchUpHandler);
        });
        // Display seek target indicator when mouse hovers or finger slides over seekbar
        seekBar.on('touchmove mousemove', function (e) {
            e.preventDefault();
            if (seeking) {
                // During a seek (when mouse is down or touch move active), we need to stop propagation to avoid
                // the VR viewport reacting to the moves.
                e.stopPropagation();
                // Because the stopped propagation inhibits the event on the document, we need to call it from here
                mouseTouchMoveHandler(e);
            }
            var position = 100 * _this.getOffset(e);
            _this.setSeekPosition(position);
            _this.onSeekPreviewEvent(position, false);
            if (_this.hasLabel() && _this.getLabel().isHidden()) {
                _this.getLabel().show();
            }
        });
        // Hide seek target indicator when mouse or finger leaves seekbar
        seekBar.on('touchend mouseleave', function (e) {
            e.preventDefault();
            _this.setSeekPosition(0);
            if (_this.hasLabel()) {
                _this.getLabel().hide();
            }
        });
        seekBarContainer.append(seekBar);
        if (this.label) {
            seekBarContainer.append(this.label.getDomElement());
        }
        return seekBarContainer;
    };
    SeekBar.prototype.updateMarkers = function () {
        this.seekBarMarkersContainer.empty();
        for (var _i = 0, _a = this.timelineMarkers; _i < _a.length; _i++) {
            var marker = _a[_i];
            this.seekBarMarkersContainer.append(new dom_1.DOM('div', {
                'class': this.prefixCss('seekbar-marker'),
                'data-marker-time': String(marker.time),
                'data-marker-title': String(marker.title),
            }).css({
                'width': marker.time + '%',
            }));
        }
    };
    SeekBar.prototype.getMarkerAtPosition = function (percentage) {
        var snappedMarker = null;
        var snappingRange = 1;
        if (this.timelineMarkers.length > 0) {
            for (var _i = 0, _a = this.timelineMarkers; _i < _a.length; _i++) {
                var marker = _a[_i];
                if (percentage >= marker.time - snappingRange && percentage <= marker.time + snappingRange) {
                    snappedMarker = marker;
                    break;
                }
            }
        }
        return snappedMarker;
    };
    /**
     * Gets the horizontal offset of a mouse/touch event point from the left edge of the seek bar.
     * @param eventPageX the pageX coordinate of an event to calculate the offset from
     * @returns {number} a number in the range of [0, 1], where 0 is the left edge and 1 is the right edge
     */
    SeekBar.prototype.getHorizontalOffset = function (eventPageX) {
        var elementOffsetPx = this.seekBar.offset().left;
        var widthPx = this.seekBar.width();
        var offsetPx = eventPageX - elementOffsetPx;
        var offset = 1 / widthPx * offsetPx;
        return this.sanitizeOffset(offset);
    };
    /**
     * Gets the vertical offset of a mouse/touch event point from the bottom edge of the seek bar.
     * @param eventPageY the pageX coordinate of an event to calculate the offset from
     * @returns {number} a number in the range of [0, 1], where 0 is the bottom edge and 1 is the top edge
     */
    SeekBar.prototype.getVerticalOffset = function (eventPageY) {
        var elementOffsetPx = this.seekBar.offset().top;
        var widthPx = this.seekBar.height();
        var offsetPx = eventPageY - elementOffsetPx;
        var offset = 1 / widthPx * offsetPx;
        return 1 - this.sanitizeOffset(offset);
    };
    /**
     * Gets the mouse or touch event offset for the current configuration (horizontal or vertical).
     * @param e the event to calculate the offset from
     * @returns {number} a number in the range of [0, 1]
     * @see #getHorizontalOffset
     * @see #getVerticalOffset
     */
    SeekBar.prototype.getOffset = function (e) {
        if (this.touchSupported && e instanceof TouchEvent) {
            if (this.config.vertical) {
                return this.getVerticalOffset(e.type === 'touchend' ? e.changedTouches[0].pageY : e.touches[0].pageY);
            }
            else {
                return this.getHorizontalOffset(e.type === 'touchend' ? e.changedTouches[0].pageX : e.touches[0].pageX);
            }
        }
        else if (e instanceof MouseEvent) {
            if (this.config.vertical) {
                return this.getVerticalOffset(e.pageY);
            }
            else {
                return this.getHorizontalOffset(e.pageX);
            }
        }
        else {
            if (console) {
                console.warn('invalid event');
            }
            return 0;
        }
    };
    /**
     * Sanitizes the mouse offset to the range of [0, 1].
     *
     * When tracking the mouse outside the seek bar, the offset can be outside the desired range and this method
     * limits it to the desired range. E.g. a mouse event left of the left edge of a seek bar yields an offset below
     * zero, but to display the seek target on the seek bar, we need to limit it to zero.
     *
     * @param offset the offset to sanitize
     * @returns {number} the sanitized offset.
     */
    SeekBar.prototype.sanitizeOffset = function (offset) {
        // Since we track mouse moves over the whole document, the target can be outside the seek range,
        // and we need to limit it to the [0, 1] range.
        if (offset < 0) {
            offset = 0;
        }
        else if (offset > 1) {
            offset = 1;
        }
        return offset;
    };
    /**
     * Sets the position of the playback position indicator.
     * @param percent a number between 0 and 100 as returned by the player
     */
    SeekBar.prototype.setPlaybackPosition = function (percent) {
        this.playbackPositionPercentage = percent;
        // Set position of the bar
        this.setPosition(this.seekBarPlaybackPosition, percent);
        // Set position of the marker
        var totalSize = (this.config.vertical ? (this.seekBar.height() - this.seekBarPlaybackPositionMarker.height()) : this.seekBar.width());
        var px = (totalSize) / 100 * percent;
        if (this.config.vertical) {
            px = this.seekBar.height() - px - this.seekBarPlaybackPositionMarker.height();
        }
        var style = this.config.vertical ?
            // -ms-transform required for IE9
            { 'transform': 'translateY(' + px + 'px)', '-ms-transform': 'translateY(' + px + 'px)' } :
            { 'transform': 'translateX(' + px + 'px)', '-ms-transform': 'translateX(' + px + 'px)' };
        this.seekBarPlaybackPositionMarker.css(style);
    };
    /**
     * Refreshes the playback position. Can be used by subclasses to refresh the position when
     * the size of the component changes.
     */
    SeekBar.prototype.refreshPlaybackPosition = function () {
        this.setPlaybackPosition(this.playbackPositionPercentage);
    };
    /**
     * Sets the position until which media is buffered.
     * @param percent a number between 0 and 100
     */
    SeekBar.prototype.setBufferPosition = function (percent) {
        this.setPosition(this.seekBarBufferPosition, percent);
    };
    /**
     * Sets the position where a seek, if executed, would jump to.
     * @param percent a number between 0 and 100
     */
    SeekBar.prototype.setSeekPosition = function (percent) {
        this.setPosition(this.seekBarSeekPosition, percent);
    };
    /**
     * Set the actual position (width or height) of a DOM element that represent a bar in the seek bar.
     * @param element the element to set the position for
     * @param percent a number between 0 and 100
     */
    SeekBar.prototype.setPosition = function (element, percent) {
        var scale = percent / 100;
        var style = this.config.vertical ?
            // -ms-transform required for IE9
            { 'transform': 'scaleY(' + scale + ')', '-ms-transform': 'scaleY(' + scale + ')' } :
            { 'transform': 'scaleX(' + scale + ')', '-ms-transform': 'scaleX(' + scale + ')' };
        element.css(style);
    };
    /**
     * Puts the seek bar into or out of seeking state by adding/removing a class to the DOM element. This can be used
     * to adjust the styling while seeking.
     *
     * @param seeking should be true when entering seek state, false when exiting the seek state
     */
    SeekBar.prototype.setSeeking = function (seeking) {
        if (seeking) {
            this.getDomElement().addClass(this.prefixCss(SeekBar.CLASS_SEEKING));
        }
        else {
            this.getDomElement().removeClass(this.prefixCss(SeekBar.CLASS_SEEKING));
        }
    };
    /**
     * Checks if the seek bar is currently in the seek state.
     * @returns {boolean} true if in seek state, else false
     */
    SeekBar.prototype.isSeeking = function () {
        return this.getDomElement().hasClass(this.prefixCss(SeekBar.CLASS_SEEKING));
    };
    /**
     * Checks if the seek bar has a {@link SeekBarLabel}.
     * @returns {boolean} true if the seek bar has a label, else false
     */
    SeekBar.prototype.hasLabel = function () {
        return this.label != null;
    };
    /**
     * Gets the label of this seek bar.
     * @returns {SeekBarLabel} the label if this seek bar has a label, else null
     */
    SeekBar.prototype.getLabel = function () {
        return this.label;
    };
    SeekBar.prototype.onSeekEvent = function () {
        this.seekBarEvents.onSeek.dispatch(this);
    };
    SeekBar.prototype.onSeekPreviewEvent = function (percentage, scrubbing) {
        var snappedMarker = this.getMarkerAtPosition(percentage);
        if (this.label) {
            this.label.getDomElement().css({
                'left': (snappedMarker ? snappedMarker.time : percentage) + '%',
            });
        }
        this.seekBarEvents.onSeekPreview.dispatch(this, {
            scrubbing: scrubbing,
            position: percentage,
            marker: snappedMarker,
        });
    };
    SeekBar.prototype.onSeekedEvent = function (percentage) {
        this.seekBarEvents.onSeeked.dispatch(this, percentage);
    };
    Object.defineProperty(SeekBar.prototype, "onSeek", {
        /**
         * Gets the event that is fired when a scrubbing seek operation is started.
         * @returns {Event<SeekBar, NoArgs>}
         */
        get: function () {
            return this.seekBarEvents.onSeek.getEvent();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SeekBar.prototype, "onSeekPreview", {
        /**
         * Gets the event that is fired during a scrubbing seek (to indicate that the seek preview, i.e. the video frame,
         * should be updated), or during a normal seek preview when the seek bar is hovered (and the seek target,
         * i.e. the seek bar label, should be updated).
         * @returns {Event<SeekBar, SeekPreviewEventArgs>}
         */
        get: function () {
            return this.seekBarEvents.onSeekPreview.getEvent();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SeekBar.prototype, "onSeeked", {
        /**
         * Gets the event that is fired when a scrubbing seek has finished or when a direct seek is issued.
         * @returns {Event<SeekBar, number>}
         */
        get: function () {
            return this.seekBarEvents.onSeeked.getEvent();
        },
        enumerable: true,
        configurable: true
    });
    SeekBar.prototype.onShowEvent = function () {
        _super.prototype.onShowEvent.call(this);
        // Refresh the position of the playback position when the seek bar becomes visible. To correctly set the position,
        // the DOM element must be fully initialized an have its size calculated, because the position is set as an absolute
        // value calculated from the size. This required size is not known when it is hidden.
        // For such cases, we refresh the position here in onShow because here it is guaranteed that the component knows
        // its size and can set the position correctly.
        this.refreshPlaybackPosition();
    };
    return SeekBar;
}(component_1.Component));
SeekBar.SMOOTH_PLAYBACK_POSITION_UPDATE_DISABLED = -1;
/**
 * The CSS class that is added to the DOM element while the seek bar is in 'seeking' state.
 */
SeekBar.CLASS_SEEKING = 'seeking';
exports.SeekBar = SeekBar;


/***/ }),
/* 14 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var StringUtils;
(function (StringUtils) {
    StringUtils.FORMAT_HHMMSS = 'hh:mm:ss';
    StringUtils.FORMAT_MMSS = 'mm:ss';
    /**
     * Formats a number of seconds into a time string with the pattern hh:mm:ss.
     *
     * @param totalSeconds the total number of seconds to format to string
     * @param format the time format to output (default: hh:mm:ss)
     * @returns {string} the formatted time string
     */
    function secondsToTime(totalSeconds, format) {
        if (format === void 0) { format = StringUtils.FORMAT_HHMMSS; }
        var isNegative = totalSeconds < 0;
        if (isNegative) {
            // If the time is negative, we make it positive for the calculation below
            // (else we'd get all negative numbers) and reattach the negative sign later.
            totalSeconds = -totalSeconds;
        }
        // Split into separate time parts
        var hours = Math.floor(totalSeconds / 3600);
        var minutes = Math.floor(totalSeconds / 60) - hours * 60;
        var seconds = Math.floor(totalSeconds) % 60;
        return (isNegative ? '-' : '') + format
            .replace('hh', leftPadWithZeros(hours, 2))
            .replace('mm', leftPadWithZeros(minutes, 2))
            .replace('ss', leftPadWithZeros(seconds, 2));
    }
    StringUtils.secondsToTime = secondsToTime;
    /**
     * Converts a number to a string and left-pads it with zeros to the specified length.
     * Example: leftPadWithZeros(123, 5) => '00123'
     *
     * @param num the number to convert to string and pad with zeros
     * @param length the desired length of the padded string
     * @returns {string} the padded number as string
     */
    function leftPadWithZeros(num, length) {
        var text = num + '';
        var padding = '0000000000'.substr(0, length - text.length);
        return padding + text;
    }
    /**
     * Fills out placeholders in an ad message.
     *
     * Has the placeholders '{remainingTime[formatString]}', '{playedTime[formatString]}' and
     * '{adDuration[formatString]}', which are replaced by the remaining time until the ad can be skipped, the current
     * time or the ad duration. The format string is optional. If not specified, the placeholder is replaced by the time
     * in seconds. If specified, it must be of the following format:
     * - %d - Inserts the time as an integer.
     * - %0Nd - Inserts the time as an integer with leading zeroes, if the length of the time string is smaller than N.
     * - %f - Inserts the time as a float.
     * - %0Nf - Inserts the time as a float with leading zeroes.
     * - %.Mf - Inserts the time as a float with M decimal places. Can be combined with %0Nf, e.g. %04.2f (the time
     * 10.123
     * would be printed as 0010.12).
     * - %hh:mm:ss
     * - %mm:ss
     *
     * @param adMessage an ad message with optional placeholders to fill
     * @param skipOffset if specified, {remainingTime} will be filled with the remaining time until the ad can be skipped
     * @param player the player to get the time data from
     * @returns {string} the ad message with filled placeholders
     */
    function replaceAdMessagePlaceholders(adMessage, skipOffset, player) {
        var adMessagePlaceholderRegex = new RegExp('\\{(remainingTime|playedTime|adDuration)(}|%((0[1-9]\\d*(\\.\\d+(d|f)|d|f)|\\.\\d+f|d|f)|hh:mm:ss|mm:ss)})', 'g');
        return adMessage.replace(adMessagePlaceholderRegex, function (formatString) {
            var time = 0;
            if (formatString.indexOf('remainingTime') > -1) {
                if (skipOffset) {
                    time = Math.ceil(skipOffset - player.getCurrentTime());
                }
                else {
                    time = player.getDuration() - player.getCurrentTime();
                }
            }
            else if (formatString.indexOf('playedTime') > -1) {
                time = player.getCurrentTime();
            }
            else if (formatString.indexOf('adDuration') > -1) {
                time = player.getDuration();
            }
            return formatNumber(time, formatString);
        });
    }
    StringUtils.replaceAdMessagePlaceholders = replaceAdMessagePlaceholders;
    function formatNumber(time, format) {
        var formatStringValidationRegex = /%((0[1-9]\d*(\.\d+(d|f)|d|f)|\.\d+f|d|f)|hh:mm:ss|mm:ss)/;
        var leadingZeroesRegex = /(%0[1-9]\d*)(?=(\.\d+f|f|d))/;
        var decimalPlacesRegex = /\.\d*(?=f)/;
        if (!formatStringValidationRegex.test(format)) {
            // If the format is invalid, we set a default fallback format
            format = '%d';
        }
        // Determine the number of leading zeros
        var leadingZeroes = 0;
        var leadingZeroesMatches = format.match(leadingZeroesRegex);
        if (leadingZeroesMatches) {
            leadingZeroes = parseInt(leadingZeroesMatches[0].substring(2));
        }
        // Determine the number of decimal places
        var numDecimalPlaces = null;
        var decimalPlacesMatches = format.match(decimalPlacesRegex);
        if (decimalPlacesMatches && !isNaN(parseInt(decimalPlacesMatches[0].substring(1)))) {
            numDecimalPlaces = parseInt(decimalPlacesMatches[0].substring(1));
            if (numDecimalPlaces > 20) {
                numDecimalPlaces = 20;
            }
        }
        // Float format
        if (format.indexOf('f') > -1) {
            var timeString = '';
            if (numDecimalPlaces !== null) {
                // Apply fixed number of decimal places
                timeString = time.toFixed(numDecimalPlaces);
            }
            else {
                timeString = '' + time;
            }
            // Apply leading zeros
            if (timeString.indexOf('.') > -1) {
                return leftPadWithZeros(timeString, timeString.length + (leadingZeroes - timeString.indexOf('.')));
            }
            else {
                return leftPadWithZeros(timeString, leadingZeroes);
            }
        }
        else if (format.indexOf(':') > -1) {
            var totalSeconds = Math.ceil(time);
            // hh:mm:ss format
            if (format.indexOf('hh') > -1) {
                return secondsToTime(totalSeconds);
            }
            else {
                var minutes = Math.floor(totalSeconds / 60);
                var seconds = totalSeconds % 60;
                return leftPadWithZeros(minutes, 2) + ':' + leftPadWithZeros(seconds, 2);
            }
        }
        else {
            return leftPadWithZeros(Math.ceil(time), leadingZeroes);
        }
    }
})(StringUtils = exports.StringUtils || (exports.StringUtils = {}));


/***/ }),
/* 15 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var container_1 = __webpack_require__(1);
var uiutils_1 = __webpack_require__(16);
var spacer_1 = __webpack_require__(19);
/**
 * A container for main player control components, e.g. play toggle button, seek bar, volume control, fullscreen toggle
 * button.
 */
var ControlBar = (function (_super) {
    __extends(ControlBar, _super);
    function ControlBar(config, autoHide) {
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-controlbar',
            hidden: autoHide,
        }, _this.config);
        return _this;
    }
    ControlBar.prototype.configure = function (player, uimanager) {
        _super.prototype.configure.call(this, player, uimanager);
        var self = this;
        // Counts how many components are hovered and block hiding of the control bar
        var hoverStackCount = 0;
        // Track hover status of child components
        uiutils_1.UIUtils.traverseTree(this, function (component) {
            // Do not track hover status of child containers or spacers, only of 'real' controls
            if (component instanceof container_1.Container || component instanceof spacer_1.Spacer) {
                return;
            }
            // Subscribe hover event and keep a count of the number of hovered children
            component.onHoverChanged.subscribe(function (sender, args) {
                if (args.hovered) {
                    hoverStackCount++;
                }
                else {
                    hoverStackCount--;
                }
            });
        });
        uimanager.onControlsShow.subscribe(function () {
            if (self.config.hidden) {
                self.show();
            }
        });
        uimanager.onPreviewControlsHide.subscribe(function (sender, args) {
            // Cancel the hide event if hovered child components block hiding
            args.cancel = (hoverStackCount > 0);
        });
        uimanager.onControlsHide.subscribe(function () {
            if (self.config.hidden) {
                self.hide();
            }
        });
    };
    return ControlBar;
}(container_1.Container));
exports.ControlBar = ControlBar;


/***/ }),
/* 16 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var container_1 = __webpack_require__(1);
var UIUtils;
(function (UIUtils) {
    function traverseTree(component, visit) {
        var recursiveTreeWalker = function (component, parent) {
            visit(component, parent);
            // If the current component is a container, visit it's children
            if (component instanceof container_1.Container) {
                for (var _i = 0, _a = component.getComponents(); _i < _a.length; _i++) {
                    var childComponent = _a[_i];
                    recursiveTreeWalker(childComponent, component);
                }
            }
        };
        // Walk and configure the component tree
        recursiveTreeWalker(component);
    }
    UIUtils.traverseTree = traverseTree;
})(UIUtils = exports.UIUtils || (exports.UIUtils = {}));


/***/ }),
/* 17 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var container_1 = __webpack_require__(1);
var dom_1 = __webpack_require__(0);
var timeout_1 = __webpack_require__(10);
var playerutils_1 = __webpack_require__(5);
/**
 * The base container that contains all of the UI. The UIContainer is passed to the {@link UIManager} to build and
 * setup the UI.
 */
var UIContainer = (function (_super) {
    __extends(UIContainer, _super);
    function UIContainer(config) {
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-uicontainer',
            hideDelay: 2500,
        }, _this.config);
        return _this;
    }
    UIContainer.prototype.configure = function (player, uimanager) {
        _super.prototype.configure.call(this, player, uimanager);
        this.configureUIShowHide(player, uimanager);
        this.configurePlayerStates(player, uimanager);
    };
    UIContainer.prototype.configureUIShowHide = function (player, uimanager) {
        var _this = this;
        var container = this.getDomElement();
        var config = this.getConfig();
        if (config.hideDelay === -1) {
            uimanager.onConfigured.subscribe(function () { return uimanager.onControlsShow.dispatch(_this); });
            return;
        }
        var isUiShown = false;
        var isSeeking = false;
        var isFirstTouch = true;
        var showUi = function () {
            if (!isUiShown) {
                // Let subscribers know that they should reveal themselves
                uimanager.onControlsShow.dispatch(_this);
                isUiShown = true;
            }
            // Don't trigger timeout while seeking (it will be triggered once the seek is finished) or casting
            if (!isSeeking && !player.isCasting()) {
                _this.uiHideTimeout.start();
            }
        };
        var hideUi = function () {
            // Hide the UI only if it is shown, and if not casting
            if (isUiShown && !player.isCasting()) {
                // Issue a preview event to check if we are good to hide the controls
                var previewHideEventArgs = {};
                uimanager.onPreviewControlsHide.dispatch(_this, previewHideEventArgs);
                if (!previewHideEventArgs.cancel) {
                    // If the preview wasn't canceled, let subscribers know that they should now hide themselves
                    uimanager.onControlsHide.dispatch(_this);
                    isUiShown = false;
                }
                else {
                    // If the hide preview was canceled, continue to show UI
                    showUi();
                }
            }
        };
        // Timeout to defer UI hiding by the configured delay time
        this.uiHideTimeout = new timeout_1.Timeout(config.hideDelay, hideUi);
        // On touch displays, the first touch reveals the UI
        container.on('touchend', function (e) {
            if (!isUiShown) {
                // Only if the UI is hidden, we prevent other actions (except for the first touch) and reveal the UI instead.
                // The first touch is not prevented to let other listeners receive the event and trigger an initial action, e.g.
                // the huge playback button can directly start playback instead of requiring a double tap which 1. reveals
                // the UI and 2. starts playback.
                if (isFirstTouch) {
                    isFirstTouch = false;
                }
                else {
                    e.preventDefault();
                }
                showUi();
            }
        });
        // When the mouse enters, we show the UI
        container.on('mouseenter', function () {
            showUi();
        });
        // When the mouse moves within, we show the UI
        container.on('mousemove', function () {
            showUi();
        });
        // When the mouse leaves, we can prepare to hide the UI, except a seek is going on
        container.on('mouseleave', function () {
            // When a seek is going on, the seek scrub pointer may exit the UI area while still seeking, and we do not hide
            // the UI in such cases
            if (!isSeeking) {
                _this.uiHideTimeout.start();
            }
        });
        uimanager.onSeek.subscribe(function () {
            _this.uiHideTimeout.clear(); // Don't hide UI while a seek is in progress
            isSeeking = true;
        });
        uimanager.onSeeked.subscribe(function () {
            isSeeking = false;
            _this.uiHideTimeout.start(); // Re-enable UI hide timeout after a seek
        });
        player.addEventHandler(player.EVENT.ON_CAST_STARTED, function () {
            showUi(); // Show UI when a Cast session has started (UI will then stay permanently on during the session)
        });
    };
    UIContainer.prototype.configurePlayerStates = function (player, uimanager) {
        var _this = this;
        var container = this.getDomElement();
        // Convert player states into CSS class names
        var stateClassNames = [];
        for (var state in playerutils_1.PlayerUtils.PlayerState) {
            if (isNaN(Number(state))) {
                var enumName = playerutils_1.PlayerUtils.PlayerState[playerutils_1.PlayerUtils.PlayerState[state]];
                stateClassNames[playerutils_1.PlayerUtils.PlayerState[state]] =
                    this.prefixCss(UIContainer.STATE_PREFIX + enumName.toLowerCase());
            }
        }
        var removeStates = function () {
            container.removeClass(stateClassNames[playerutils_1.PlayerUtils.PlayerState.IDLE]);
            container.removeClass(stateClassNames[playerutils_1.PlayerUtils.PlayerState.PREPARED]);
            container.removeClass(stateClassNames[playerutils_1.PlayerUtils.PlayerState.PLAYING]);
            container.removeClass(stateClassNames[playerutils_1.PlayerUtils.PlayerState.PAUSED]);
            container.removeClass(stateClassNames[playerutils_1.PlayerUtils.PlayerState.FINISHED]);
        };
        player.addEventHandler(player.EVENT.ON_READY, function () {
            removeStates();
            container.addClass(stateClassNames[playerutils_1.PlayerUtils.PlayerState.PREPARED]);
        });
        player.addEventHandler(player.EVENT.ON_PLAY, function () {
            removeStates();
            container.addClass(stateClassNames[playerutils_1.PlayerUtils.PlayerState.PLAYING]);
        });
        player.addEventHandler(player.EVENT.ON_PAUSED, function () {
            removeStates();
            container.addClass(stateClassNames[playerutils_1.PlayerUtils.PlayerState.PAUSED]);
        });
        player.addEventHandler(player.EVENT.ON_PLAYBACK_FINISHED, function () {
            removeStates();
            container.addClass(stateClassNames[playerutils_1.PlayerUtils.PlayerState.FINISHED]);
        });
        player.addEventHandler(player.EVENT.ON_SOURCE_UNLOADED, function () {
            removeStates();
            container.addClass(stateClassNames[playerutils_1.PlayerUtils.PlayerState.IDLE]);
        });
        // Init in current player state
        container.addClass(stateClassNames[playerutils_1.PlayerUtils.getState(player)]);
        // Fullscreen marker class
        player.addEventHandler(player.EVENT.ON_FULLSCREEN_ENTER, function () {
            container.addClass(_this.prefixCss(UIContainer.FULLSCREEN));
        });
        player.addEventHandler(player.EVENT.ON_FULLSCREEN_EXIT, function () {
            container.removeClass(_this.prefixCss(UIContainer.FULLSCREEN));
        });
        // Init fullscreen state
        if (player.isFullscreen()) {
            container.addClass(this.prefixCss(UIContainer.FULLSCREEN));
        }
        // Buffering marker class
        player.addEventHandler(player.EVENT.ON_STALL_STARTED, function () {
            container.addClass(_this.prefixCss(UIContainer.BUFFERING));
        });
        player.addEventHandler(player.EVENT.ON_STALL_ENDED, function () {
            container.removeClass(_this.prefixCss(UIContainer.BUFFERING));
        });
        // Init buffering state
        if (player.isStalled()) {
            container.addClass(this.prefixCss(UIContainer.BUFFERING));
        }
        // RemoteControl marker class
        player.addEventHandler(player.EVENT.ON_CAST_STARTED, function () {
            container.addClass(_this.prefixCss(UIContainer.REMOTE_CONTROL));
        });
        player.addEventHandler(player.EVENT.ON_CAST_STOPPED, function () {
            container.removeClass(_this.prefixCss(UIContainer.REMOTE_CONTROL));
        });
        // Init RemoteControl state
        if (player.isCasting()) {
            container.addClass(this.prefixCss(UIContainer.REMOTE_CONTROL));
        }
        // Controls visibility marker class
        uimanager.onControlsShow.subscribe(function () {
            container.removeClass(_this.prefixCss(UIContainer.CONTROLS_HIDDEN));
            container.addClass(_this.prefixCss(UIContainer.CONTROLS_SHOWN));
        });
        uimanager.onControlsHide.subscribe(function () {
            container.removeClass(_this.prefixCss(UIContainer.CONTROLS_SHOWN));
            container.addClass(_this.prefixCss(UIContainer.CONTROLS_HIDDEN));
        });
        // Layout size classes
        var updateLayoutSizeClasses = function (width, height) {
            container.removeClass(_this.prefixCss('layout-max-width-400'));
            container.removeClass(_this.prefixCss('layout-max-width-600'));
            container.removeClass(_this.prefixCss('layout-max-width-800'));
            container.removeClass(_this.prefixCss('layout-max-width-1200'));
            if (width <= 400) {
                container.addClass(_this.prefixCss('layout-max-width-400'));
            }
            else if (width <= 600) {
                container.addClass(_this.prefixCss('layout-max-width-600'));
            }
            else if (width <= 800) {
                container.addClass(_this.prefixCss('layout-max-width-800'));
            }
            else if (width <= 1200) {
                container.addClass(_this.prefixCss('layout-max-width-1200'));
            }
        };
        player.addEventHandler(player.EVENT.ON_PLAYER_RESIZE, function (e) {
            // Convert strings (with "px" suffix) to ints
            var width = Math.round(Number(e.width.substring(0, e.width.length - 2)));
            var height = Math.round(Number(e.height.substring(0, e.height.length - 2)));
            updateLayoutSizeClasses(width, height);
        });
        // Init layout state
        updateLayoutSizeClasses(new dom_1.DOM(player.getFigure()).width(), new dom_1.DOM(player.getFigure()).height());
    };
    UIContainer.prototype.release = function () {
        _super.prototype.release.call(this);
        this.uiHideTimeout.clear();
    };
    UIContainer.prototype.toDomElement = function () {
        var container = _super.prototype.toDomElement.call(this);
        // Detect flexbox support (not supported in IE9)
        if (document && typeof document.createElement('p').style.flex !== 'undefined') {
            container.addClass(this.prefixCss('flexbox'));
        }
        else {
            container.addClass(this.prefixCss('no-flexbox'));
        }
        return container;
    };
    return UIContainer;
}(container_1.Container));
UIContainer.STATE_PREFIX = 'player-state-';
UIContainer.FULLSCREEN = 'fullscreen';
UIContainer.BUFFERING = 'buffering';
UIContainer.REMOTE_CONTROL = 'remote-control';
UIContainer.CONTROLS_SHOWN = 'controls-shown';
UIContainer.CONTROLS_HIDDEN = 'controls-hidden';
exports.UIContainer = UIContainer;


/***/ }),
/* 18 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var label_1 = __webpack_require__(7);
var playerutils_1 = __webpack_require__(5);
var stringutils_1 = __webpack_require__(14);
var PlaybackTimeLabelMode;
(function (PlaybackTimeLabelMode) {
    PlaybackTimeLabelMode[PlaybackTimeLabelMode["CurrentTime"] = 0] = "CurrentTime";
    PlaybackTimeLabelMode[PlaybackTimeLabelMode["TotalTime"] = 1] = "TotalTime";
    PlaybackTimeLabelMode[PlaybackTimeLabelMode["CurrentAndTotalTime"] = 2] = "CurrentAndTotalTime";
})(PlaybackTimeLabelMode = exports.PlaybackTimeLabelMode || (exports.PlaybackTimeLabelMode = {}));
/**
 * A label that display the current playback time and the total time through {@link PlaybackTimeLabel#setTime setTime}
 * or any string through {@link PlaybackTimeLabel#setText setText}.
 */
var PlaybackTimeLabel = (function (_super) {
    __extends(PlaybackTimeLabel, _super);
    function PlaybackTimeLabel(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-playbacktimelabel',
            timeLabelMode: PlaybackTimeLabelMode.CurrentAndTotalTime,
            hideInLivePlayback: false,
        }, _this.config);
        return _this;
    }
    PlaybackTimeLabel.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        var config = this.getConfig();
        var live = false;
        var liveCssClass = this.prefixCss('ui-playbacktimelabel-live');
        var liveEdgeCssClass = this.prefixCss('ui-playbacktimelabel-live-edge');
        var minWidth = 0;
        var liveClickHandler = function () {
            player.timeShift(0);
        };
        var updateLiveState = function () {
            // Player is playing a live stream when the duration is infinite
            live = player.isLive();
            // Attach/detach live marker class
            if (live) {
                _this.getDomElement().addClass(liveCssClass);
                _this.setText('Live');
                if (config.hideInLivePlayback) {
                    _this.hide();
                }
                _this.onClick.subscribe(liveClickHandler);
                updateLiveTimeshiftState();
            }
            else {
                _this.getDomElement().removeClass(liveCssClass);
                _this.getDomElement().removeClass(liveEdgeCssClass);
                _this.show();
                _this.onClick.unsubscribe(liveClickHandler);
            }
        };
        var updateLiveTimeshiftState = function () {
            if (player.getTimeShift() === 0) {
                _this.getDomElement().addClass(liveEdgeCssClass);
            }
            else {
                _this.getDomElement().removeClass(liveEdgeCssClass);
            }
        };
        var liveStreamDetector = new playerutils_1.PlayerUtils.LiveStreamDetector(player);
        liveStreamDetector.onLiveChanged.subscribe(function (sender, args) {
            live = args.live;
            updateLiveState();
        });
        liveStreamDetector.detect(); // Initial detection
        var playbackTimeHandler = function () {
            if (!live && player.getDuration() !== Infinity) {
                _this.setTime(player.getCurrentTime(), player.getDuration());
            }
            // To avoid 'jumping' in the UI by varying label sizes due to non-monospaced fonts,
            // we gradually increase the min-width with the content to reach a stable size.
            var width = _this.getDomElement().width();
            if (width > minWidth) {
                minWidth = width;
                _this.getDomElement().css({
                    'min-width': minWidth + 'px',
                });
            }
        };
        player.addEventHandler(player.EVENT.ON_TIME_CHANGED, playbackTimeHandler);
        player.addEventHandler(player.EVENT.ON_SEEKED, playbackTimeHandler);
        player.addEventHandler(player.EVENT.ON_CAST_TIME_UPDATED, playbackTimeHandler);
        player.addEventHandler(player.EVENT.ON_TIME_SHIFT, updateLiveTimeshiftState);
        player.addEventHandler(player.EVENT.ON_TIME_SHIFTED, updateLiveTimeshiftState);
        var init = function () {
            // Reset min-width when a new source is ready (especially for switching VOD/Live modes where the label content
            // changes)
            minWidth = 0;
            _this.getDomElement().css({
                'min-width': null,
            });
            // Set time format depending on source duration
            _this.timeFormat = Math.abs(player.isLive() ? player.getMaxTimeShift() : player.getDuration()) >= 3600 ?
                stringutils_1.StringUtils.FORMAT_HHMMSS : stringutils_1.StringUtils.FORMAT_MMSS;
            // Update time after the format has been set
            playbackTimeHandler();
        };
        player.addEventHandler(player.EVENT.ON_READY, init);
        init();
    };
    /**
     * Sets the current playback time and total duration.
     * @param playbackSeconds the current playback time in seconds
     * @param durationSeconds the total duration in seconds
     */
    PlaybackTimeLabel.prototype.setTime = function (playbackSeconds, durationSeconds) {
        var currentTime = stringutils_1.StringUtils.secondsToTime(playbackSeconds, this.timeFormat);
        var totalTime = stringutils_1.StringUtils.secondsToTime(durationSeconds, this.timeFormat);
        switch (this.config.timeLabelMode) {
            case PlaybackTimeLabelMode.CurrentTime:
                this.setText("" + currentTime);
                break;
            case PlaybackTimeLabelMode.TotalTime:
                this.setText("" + totalTime);
                break;
            case PlaybackTimeLabelMode.CurrentAndTotalTime:
                this.setText(currentTime + " / " + totalTime);
                break;
        }
    };
    /**
     * Sets the current time format
     * @param timeFormat the time format
     */
    PlaybackTimeLabel.prototype.setTimeFormat = function (timeFormat) {
        this.timeFormat = timeFormat;
    };
    return PlaybackTimeLabel;
}(label_1.Label));
exports.PlaybackTimeLabel = PlaybackTimeLabel;


/***/ }),
/* 19 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var component_1 = __webpack_require__(2);
/**
 * A dummy component that just reserves some space and does nothing else.
 */
var Spacer = (function (_super) {
    __extends(Spacer, _super);
    function Spacer(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-spacer',
        }, _this.config);
        return _this;
    }
    Spacer.prototype.onShowEvent = function () {
        // disable event firing by overwriting and not calling super
    };
    Spacer.prototype.onHideEvent = function () {
        // disable event firing by overwriting and not calling super
    };
    Spacer.prototype.onHoverChangedEvent = function (hovered) {
        // disable event firing by overwriting and not calling super
    };
    return Spacer;
}(component_1.Component));
exports.Spacer = Spacer;


/***/ }),
/* 20 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var container_1 = __webpack_require__(1);
var label_1 = __webpack_require__(7);
var component_1 = __webpack_require__(2);
var stringutils_1 = __webpack_require__(14);
var imageloader_1 = __webpack_require__(38);
/**
 * A label for a {@link SeekBar} that can display the seek target time, a thumbnail, and title (e.g. chapter title).
 */
var SeekBarLabel = (function (_super) {
    __extends(SeekBarLabel, _super);
    function SeekBarLabel(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.timeLabel = new label_1.Label({ cssClasses: ['seekbar-label-time'] });
        _this.titleLabel = new label_1.Label({ cssClasses: ['seekbar-label-title'] });
        _this.thumbnail = new component_1.Component({ cssClasses: ['seekbar-thumbnail'] });
        _this.thumbnailImageLoader = new imageloader_1.ImageLoader();
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-seekbar-label',
            components: [new container_1.Container({
                    components: [
                        // this.thumbnail,
                        new container_1.Container({
                            components: [_this.titleLabel, _this.timeLabel],
                            cssClass: 'seekbar-label-metadata',
                        })
                    ],
                    cssClass: 'seekbar-label-inner',
                })],
            hidden: true,
        }, _this.config);
        return _this;
    }
    SeekBarLabel.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        uimanager.onSeekPreview.subscribeRateLimited(function (sender, args) {
            if (player.isLive()) {
                var maxTimeShift = player.getMaxTimeShift();
                var time = maxTimeShift - maxTimeShift * (args.position / 100);
                _this.setTime(time);
            }
            else {
                var percentage = 0;
                if (args.marker) {
                    percentage = args.marker.time;
                    _this.setTitleText(args.marker.title);
                }
                else {
                    percentage = args.position;
                    _this.setTitleText(null);
                }
                var time = player.getDuration() * (percentage / 100);
                _this.setTime(time);
                _this.setThumbnail(player.getThumb(time));
            }
        }, 100);
        var init = function () {
            // Set time format depending on source duration
            _this.timeFormat = Math.abs(player.isLive() ? player.getMaxTimeShift() : player.getDuration()) >= 3600 ?
                stringutils_1.StringUtils.FORMAT_HHMMSS : stringutils_1.StringUtils.FORMAT_MMSS;
        };
        player.addEventHandler(player.EVENT.ON_READY, init);
        init();
    };
    /**
     * Sets arbitrary text on the label.
     * @param text the text to show on the label
     */
    SeekBarLabel.prototype.setText = function (text) {
        this.timeLabel.setText(text);
    };
    /**
     * Sets a time to be displayed on the label.
     * @param seconds the time in seconds to display on the label
     */
    SeekBarLabel.prototype.setTime = function (seconds) {
        this.setText(stringutils_1.StringUtils.secondsToTime(seconds, this.timeFormat));
    };
    /**
     * Sets the text on the title label.
     * @param text the text to show on the label
     */
    SeekBarLabel.prototype.setTitleText = function (text) {
        this.titleLabel.setText(text);
    };
    /**
     * Sets or removes a thumbnail on the label.
     * @param thumbnail the thumbnail to display on the label or null to remove a displayed thumbnail
     */
    SeekBarLabel.prototype.setThumbnail = function (thumbnail) {
        if (thumbnail === void 0) { thumbnail = null; }
        var thumbnailElement = this.thumbnail.getDomElement();
        if (thumbnail == null) {
            thumbnailElement.css({
                'background-image': null,
                'display': null,
                'width': null,
                'height': null,
            });
        }
        else {
            // We use the thumbnail image loader to make sure the thumbnail is loaded and it's size is known before be can
            // calculate the CSS properties and set them on the element.
            this.thumbnailImageLoader.load(thumbnail.url, function (url, width, height) {
                var thumbnailCountX = width / thumbnail.w;
                var thumbnailCountY = height / thumbnail.h;
                var thumbnailIndexX = thumbnail.x / thumbnail.w;
                var thumbnailIndexY = thumbnail.y / thumbnail.h;
                var sizeX = 100 * thumbnailCountX;
                var sizeY = 100 * thumbnailCountY;
                var offsetX = 100 * thumbnailIndexX;
                var offsetY = 100 * thumbnailIndexY;
                var aspectRatio = 1 / thumbnail.w * thumbnail.h;
                // The thumbnail size is set by setting the CSS 'width' and 'padding-bottom' properties. 'padding-bottom' is
                // used because it is relative to the width and can be used to set the aspect ratio of the thumbnail.
                // A default value for width is set in the stylesheet and can be overwritten from there or anywhere else.
                thumbnailElement.css({
                    'display': 'inherit',
                    'background-image': "url(" + thumbnail.url + ")",
                    'padding-bottom': 100 * aspectRatio + "%",
                    'background-size': sizeX + "% " + sizeY + "%",
                    'background-position': "-" + offsetX + "% -" + offsetY + "%",
                });
            });
        }
    };
    return SeekBarLabel;
}(container_1.Container));
exports.SeekBarLabel = SeekBarLabel;


/***/ }),
/* 21 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var listselector_1 = __webpack_require__(22);
var dom_1 = __webpack_require__(0);
/**
 * A simple select box providing the possibility to select a single item out of a list of available items.
 *
 * DOM example:
 * <code>
 *     <select class='ui-selectbox'>
 *         <option value='key'>label</option>
 *         ...
 *     </select>
 * </code>
 */
var SelectBox = (function (_super) {
    __extends(SelectBox, _super);
    function SelectBox(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-selectbox',
        }, _this.config);
        return _this;
    }
    SelectBox.prototype.toDomElement = function () {
        var _this = this;
        var selectElement = new dom_1.DOM('select', {
            'id': this.config.id,
            'class': this.getCssClasses(),
        });
        this.selectElement = selectElement;
        this.updateDomItems();
        selectElement.on('change', function () {
            var value = selectElement.val();
            _this.onItemSelectedEvent(value, false);
        });
        return selectElement;
    };
    SelectBox.prototype.updateDomItems = function (selectedValue) {
        if (selectedValue === void 0) { selectedValue = null; }
        // Delete all children
        this.selectElement.empty();
        // Add updated children
        for (var _i = 0, _a = this.items; _i < _a.length; _i++) {
            var item = _a[_i];
            var optionElement = new dom_1.DOM('option', {
                'value': item.key,
            }).html(item.label);
            if (item.key === String(selectedValue)) {
                optionElement.attr('selected', 'selected');
            }
            this.selectElement.append(optionElement);
        }
    };
    SelectBox.prototype.onItemAddedEvent = function (value) {
        _super.prototype.onItemAddedEvent.call(this, value);
        this.updateDomItems(this.selectedItem);
    };
    SelectBox.prototype.onItemRemovedEvent = function (value) {
        _super.prototype.onItemRemovedEvent.call(this, value);
        this.updateDomItems(this.selectedItem);
    };
    SelectBox.prototype.onItemSelectedEvent = function (value, updateDomItems) {
        if (updateDomItems === void 0) { updateDomItems = true; }
        _super.prototype.onItemSelectedEvent.call(this, value);
        if (updateDomItems) {
            this.updateDomItems(value);
        }
    };
    return SelectBox;
}(listselector_1.ListSelector));
exports.SelectBox = SelectBox;


/***/ }),
/* 22 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var component_1 = __webpack_require__(2);
var eventdispatcher_1 = __webpack_require__(3);
var arrayutils_1 = __webpack_require__(4);
var ListSelector = (function (_super) {
    __extends(ListSelector, _super);
    function ListSelector(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.listSelectorEvents = {
            onItemAdded: new eventdispatcher_1.EventDispatcher(),
            onItemRemoved: new eventdispatcher_1.EventDispatcher(),
            onItemSelected: new eventdispatcher_1.EventDispatcher(),
        };
        _this.config = _this.mergeConfig(config, {
            items: [],
            cssClass: 'ui-listselector',
        }, _this.config);
        _this.items = _this.config.items;
        return _this;
    }
    ListSelector.prototype.getItemIndex = function (key) {
        for (var index in this.items) {
            if (key === this.items[index].key) {
                return parseInt(index);
            }
        }
        return -1;
    };
    /**
     * Checks if the specified item is part of this selector.
     * @param key the key of the item to check
     * @returns {boolean} true if the item is part of this selector, else false
     */
    ListSelector.prototype.hasItem = function (key) {
        return this.getItemIndex(key) > -1;
    };
    /**
     * Adds an item to this selector by appending it to the end of the list of items. If an item with the specified
     * key already exists, it is replaced.
     * @param key the key of the item to add
     * @param label the (human-readable) label of the item to add
     */
    ListSelector.prototype.addItem = function (key, label) {
        this.removeItem(key); // Try to remove key first to get overwrite behavior and avoid duplicate keys
        this.items.push({ key: key, label: label });
        this.onItemAddedEvent(key);
    };
    /**
     * Removes an item from this selector.
     * @param key the key of the item to remove
     * @returns {boolean} true if removal was successful, false if the item is not part of this selector
     */
    ListSelector.prototype.removeItem = function (key) {
        var index = this.getItemIndex(key);
        if (index > -1) {
            arrayutils_1.ArrayUtils.remove(this.items, this.items[index]);
            this.onItemRemovedEvent(key);
            return true;
        }
        return false;
    };
    /**
     * Selects an item from the items in this selector.
     * @param key the key of the item to select
     * @returns {boolean} true is the selection was successful, false if the selected item is not part of the selector
     */
    ListSelector.prototype.selectItem = function (key) {
        if (key === this.selectedItem) {
            // itemConfig is already selected, suppress any further action
            return true;
        }
        var index = this.getItemIndex(key);
        if (index > -1) {
            this.selectedItem = key;
            this.onItemSelectedEvent(key);
            return true;
        }
        return false;
    };
    /**
     * Returns the key of the selected item.
     * @returns {string} the key of the selected item or null if no item is selected
     */
    ListSelector.prototype.getSelectedItem = function () {
        return this.selectedItem;
    };
    /**
     * Removes all items from this selector.
     */
    ListSelector.prototype.clearItems = function () {
        // local copy for iteration after clear
        var items = this.items;
        // clear items
        this.items = [];
        // clear the selection as the selected item is also removed
        this.selectedItem = null;
        // fire events
        for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {
            var item = items_1[_i];
            this.onItemRemovedEvent(item.key);
        }
    };
    /**
     * Returns the number of items in this selector.
     * @returns {number}
     */
    ListSelector.prototype.itemCount = function () {
        return Object.keys(this.items).length;
    };
    ListSelector.prototype.onItemAddedEvent = function (key) {
        this.listSelectorEvents.onItemAdded.dispatch(this, key);
    };
    ListSelector.prototype.onItemRemovedEvent = function (key) {
        this.listSelectorEvents.onItemRemoved.dispatch(this, key);
    };
    ListSelector.prototype.onItemSelectedEvent = function (key) {
        this.listSelectorEvents.onItemSelected.dispatch(this, key);
    };
    Object.defineProperty(ListSelector.prototype, "onItemAdded", {
        /**
         * Gets the event that is fired when an item is added to the list of items.
         * @returns {Event<ListSelector<Config>, string>}
         */
        get: function () {
            return this.listSelectorEvents.onItemAdded.getEvent();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ListSelector.prototype, "onItemRemoved", {
        /**
         * Gets the event that is fired when an item is removed from the list of items.
         * @returns {Event<ListSelector<Config>, string>}
         */
        get: function () {
            return this.listSelectorEvents.onItemRemoved.getEvent();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ListSelector.prototype, "onItemSelected", {
        /**
         * Gets the event that is fired when an item is selected from the list of items.
         * @returns {Event<ListSelector<Config>, string>}
         */
        get: function () {
            return this.listSelectorEvents.onItemSelected.getEvent();
        },
        enumerable: true,
        configurable: true
    });
    return ListSelector;
}(component_1.Component));
exports.ListSelector = ListSelector;


/***/ }),
/* 23 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var container_1 = __webpack_require__(1);
var volumeslider_1 = __webpack_require__(24);
var volumetogglebutton_1 = __webpack_require__(25);
var timeout_1 = __webpack_require__(10);
/**
 * A composite volume control that consists of and internally manages a volume control button that can be used
 * for muting, and a (depending on the CSS style, e.g. slide-out) volume control bar.
 */
var VolumeControlButton = (function (_super) {
    __extends(VolumeControlButton, _super);
    function VolumeControlButton(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.volumeToggleButton = new volumetogglebutton_1.VolumeToggleButton();
        _this.volumeSlider = new volumeslider_1.VolumeSlider({
            vertical: config.vertical != null ? config.vertical : true,
            hidden: true,
        });
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-volumecontrolbutton',
            components: [_this.volumeToggleButton, _this.volumeSlider],
            hideDelay: 500,
        }, _this.config);
        return _this;
    }
    VolumeControlButton.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        var volumeToggleButton = this.getVolumeToggleButton();
        var volumeSlider = this.getVolumeSlider();
        this.volumeSliderHideTimeout = new timeout_1.Timeout(this.getConfig().hideDelay, function () {
            volumeSlider.hide();
        });
        /*
         * Volume Slider visibility handling
         *
         * The volume slider shall be visible while the user hovers the mute toggle button, while the user hovers the
         * volume slider, and while the user slides the volume slider. If none of these situations are true, the slider
         * shall disappear.
         */
        var volumeSliderHovered = false;
        volumeToggleButton.getDomElement().on('mouseenter', function () {
            // Show volume slider when mouse enters the button area
            if (volumeSlider.isHidden()) {
                volumeSlider.show();
            }
            // Avoid hiding of the slider when button is hovered
            _this.volumeSliderHideTimeout.clear();
        });
        volumeToggleButton.getDomElement().on('mouseleave', function () {
            // Hide slider delayed when button is left
            _this.volumeSliderHideTimeout.reset();
        });
        volumeSlider.getDomElement().on('mouseenter', function () {
            // When the slider is entered, cancel the hide timeout activated by leaving the button
            _this.volumeSliderHideTimeout.clear();
            volumeSliderHovered = true;
        });
        volumeSlider.getDomElement().on('mouseleave', function () {
            // When mouse leaves the slider, only hide it if there is no slide operation in progress
            if (volumeSlider.isSeeking()) {
                _this.volumeSliderHideTimeout.clear();
            }
            else {
                _this.volumeSliderHideTimeout.reset();
            }
            volumeSliderHovered = false;
        });
        volumeSlider.onSeeked.subscribe(function () {
            // When a slide operation is done and the slider not hovered (mouse outside slider), hide slider delayed
            if (!volumeSliderHovered) {
                _this.volumeSliderHideTimeout.reset();
            }
        });
    };
    VolumeControlButton.prototype.release = function () {
        _super.prototype.release.call(this);
        this.volumeSliderHideTimeout.clear();
    };
    /**
     * Provides access to the internally managed volume toggle button.
     * @returns {VolumeToggleButton}
     */
    VolumeControlButton.prototype.getVolumeToggleButton = function () {
        return this.volumeToggleButton;
    };
    /**
     * Provides access to the internally managed volume silder.
     * @returns {VolumeSlider}
     */
    VolumeControlButton.prototype.getVolumeSlider = function () {
        return this.volumeSlider;
    };
    return VolumeControlButton;
}(container_1.Container));
exports.VolumeControlButton = VolumeControlButton;


/***/ }),
/* 24 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var seekbar_1 = __webpack_require__(13);
/**
 * A simple volume slider component to adjust the player's volume setting.
 */
var VolumeSlider = (function (_super) {
    __extends(VolumeSlider, _super);
    function VolumeSlider(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-volumeslider',
            hideIfVolumeControlProhibited: true,
        }, _this.config);
        return _this;
    }
    VolumeSlider.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager, false);
        var config = this.getConfig();
        if (config.hideIfVolumeControlProhibited && !this.detectVolumeControlAvailability(player)) {
            this.hide();
            // We can just return from here, because the user will never interact with the control and any configured
            // functionality would only eat resources for no reason.
            return;
        }
        var volumeChangeHandler = function () {
            if (player.isMuted()) {
                _this.setPlaybackPosition(0);
                _this.setBufferPosition(0);
            }
            else {
                _this.setPlaybackPosition(player.getVolume());
                _this.setBufferPosition(player.getVolume());
            }
        };
        player.addEventHandler(player.EVENT.ON_READY, volumeChangeHandler);
        player.addEventHandler(player.EVENT.ON_VOLUME_CHANGED, volumeChangeHandler);
        player.addEventHandler(player.EVENT.ON_MUTED, volumeChangeHandler);
        player.addEventHandler(player.EVENT.ON_UNMUTED, volumeChangeHandler);
        this.onSeekPreview.subscribeRateLimited(function (sender, args) {
            if (args.scrubbing) {
                player.setVolume(args.position, VolumeSlider.issuerName);
            }
        }, 50);
        this.onSeeked.subscribe(function (sender, percentage) {
            player.setVolume(percentage, VolumeSlider.issuerName);
        });
        // Update the volume slider marker when the player resized, a source is loaded and player is ready,
        // or the UI is configured. Check the seekbar for a detailed description.
        player.addEventHandler(player.EVENT.ON_PLAYER_RESIZE, function () {
            _this.refreshPlaybackPosition();
        });
        player.addEventHandler(player.EVENT.ON_READY, function () {
            _this.refreshPlaybackPosition();
        });
        uimanager.onConfigured.subscribe(function () {
            _this.refreshPlaybackPosition();
        });
        // Init volume bar
        volumeChangeHandler();
    };
    VolumeSlider.prototype.detectVolumeControlAvailability = function (player) {
        // Store current player state so we can restore it later
        var volume = player.getVolume();
        var muted = player.isMuted();
        var playing = player.isPlaying();
        /*
         * "On iOS devices, the audio level is always under the user’s physical control. The volume property is not
         * settable in JavaScript. Reading the volume property always returns 1."
         * https://developer.apple.com/library/content/documentation/AudioVideo/Conceptual/Using_HTML5_Audio_Video/Device-SpecificConsiderations/Device-SpecificConsiderations.html
         *
         * Our player API returns a volume range of [0, 100] so we need to check for 100 instead of 1.
         */
        // Only if the volume is 100, there's the possibility we are on a volume-control-restricted iOS device
        if (volume === 100) {
            // We set the volume to zero (that's the only value that does not unmute a muted player!)
            player.setVolume(0, VolumeSlider.issuerName);
            // Then we check if the value is still 100
            if (player.getVolume() === 100) {
                // If the volume stayed at 100, we're on a volume-control-restricted device
                return false;
            }
            else {
                // We can control volume, so we must restore the previous player state
                player.setVolume(volume, VolumeSlider.issuerName);
                if (muted) {
                    player.mute(VolumeSlider.issuerName);
                }
                if (playing) {
                    // The volume restore above pauses autoplay on mobile devices (e.g. Android) so we need to resume playback
                    // (We cannot check isPaused() here because it is not set when playback is prohibited by the mobile platform)
                    player.play(VolumeSlider.issuerName);
                }
                return true;
            }
        }
        else {
            // Volume is not 100, so we're definitely not on a volume-control-restricted iOS device
            return true;
        }
    };
    return VolumeSlider;
}(seekbar_1.SeekBar));
VolumeSlider.issuerName = 'ui';
exports.VolumeSlider = VolumeSlider;


/***/ }),
/* 25 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var togglebutton_1 = __webpack_require__(8);
/**
 * A button that toggles audio muting.
 */
var VolumeToggleButton = (function (_super) {
    __extends(VolumeToggleButton, _super);
    function VolumeToggleButton(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-volumetogglebutton',
            text: 'Volume/Mute',
        }, _this.config);
        return _this;
    }
    VolumeToggleButton.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        var muteStateHandler = function () {
            if (player.isMuted()) {
                _this.on();
            }
            else {
                _this.off();
            }
        };
        var volumeLevelHandler = function () {
            // Toggle low class to display low volume icon below 50% volume
            if (player.getVolume() < 50) {
                _this.getDomElement().addClass(_this.prefixCss('low'));
            }
            else {
                _this.getDomElement().removeClass(_this.prefixCss('low'));
            }
        };
        player.addEventHandler(player.EVENT.ON_MUTED, muteStateHandler);
        player.addEventHandler(player.EVENT.ON_UNMUTED, muteStateHandler);
        player.addEventHandler(player.EVENT.ON_VOLUME_CHANGED, volumeLevelHandler);
        this.onClick.subscribe(function () {
            if (player.isMuted()) {
                player.unmute('ui-volumetogglebutton');
            }
            else {
                player.mute('ui-volumetogglebutton');
            }
        });
        // Startup init
        muteStateHandler();
        volumeLevelHandler();
    };
    return VolumeToggleButton;
}(togglebutton_1.ToggleButton));
exports.VolumeToggleButton = VolumeToggleButton;


/***/ }),
/* 26 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var container_1 = __webpack_require__(1);
var label_1 = __webpack_require__(7);
var tvnoisecanvas_1 = __webpack_require__(41);
/**
 * Overlays the player and displays error messages.
 */
var ErrorMessageOverlay = (function (_super) {
    __extends(ErrorMessageOverlay, _super);
    function ErrorMessageOverlay(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.errorLabel = new label_1.Label({ cssClass: 'ui-errormessage-label' });
        _this.tvNoiseBackground = new tvnoisecanvas_1.TvNoiseCanvas();
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-errormessage-overlay',
            components: [_this.tvNoiseBackground, _this.errorLabel],
            hidden: true,
        }, _this.config);
        return _this;
    }
    ErrorMessageOverlay.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        var config = this.getConfig();
        player.addEventHandler(player.EVENT.ON_ERROR, function (event) {
            var message = event.message;
            // Process message translations
            if (config.messages) {
                if (typeof config.messages === 'function') {
                    // Translation function for all errors
                    message = config.messages(event);
                }
                else if (config.messages[event.code]) {
                    // It's not a translation function, so it must be a map of strings or translation functions
                    var customMessage = config.messages[event.code];
                    if (typeof customMessage === 'string') {
                        message = customMessage;
                    }
                    else {
                        // The message is a translation function, so we call it
                        message = customMessage(event);
                    }
                }
            }
            _this.errorLabel.setText(message);
            _this.tvNoiseBackground.start();
            _this.show();
        });
        player.addEventHandler(player.EVENT.ON_SOURCE_LOADED, function (event) {
            if (_this.isShown()) {
                _this.tvNoiseBackground.stop();
                _this.hide();
            }
        });
    };
    ErrorMessageOverlay.prototype.release = function () {
        _super.prototype.release.call(this);
        // Canvas rendering must be explicitly stopped, else it just continues forever and hogs resources
        this.tvNoiseBackground.stop();
    };
    return ErrorMessageOverlay;
}(container_1.Container));
exports.ErrorMessageOverlay = ErrorMessageOverlay;


/***/ }),
/* 27 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var container_1 = __webpack_require__(1);
var hugeplaybacktogglebutton_1 = __webpack_require__(28);
/**
 * Overlays the player and displays error messages.
 */
var PlaybackToggleOverlay = (function (_super) {
    __extends(PlaybackToggleOverlay, _super);
    function PlaybackToggleOverlay(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.playbackToggleButton = new hugeplaybacktogglebutton_1.HugePlaybackToggleButton();
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-playbacktoggle-overlay',
            components: [_this.playbackToggleButton],
        }, _this.config);
        return _this;
    }
    return PlaybackToggleOverlay;
}(container_1.Container));
exports.PlaybackToggleOverlay = PlaybackToggleOverlay;


/***/ }),
/* 28 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var playbacktogglebutton_1 = __webpack_require__(12);
var dom_1 = __webpack_require__(0);
/**
 * A button that overlays the video and toggles between playback and pause.
 */
var HugePlaybackToggleButton = (function (_super) {
    __extends(HugePlaybackToggleButton, _super);
    function HugePlaybackToggleButton(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-hugeplaybacktogglebutton',
            text: 'Play/Pause',
        }, _this.config);
        return _this;
    }
    HugePlaybackToggleButton.prototype.configure = function (player, uimanager) {
        var _this = this;
        // Update button state through API events
        _super.prototype.configure.call(this, player, uimanager, false);
        var togglePlayback = function () {
            if (player.isPlaying()) {
                player.pause('ui');
            }
            else {
                player.play('ui');
            }
        };
        var toggleFullscreen = function () {
            if (player.isFullscreen()) {
                player.exitFullscreen();
            }
            else {
                player.enterFullscreen();
            }
        };
        var firstPlay = true;
        var clickTime = 0;
        var doubleClickTime = 0;
        /*
         * YouTube-style toggle button handling
         *
         * The goal is to prevent a short pause or playback interval between a click, that toggles playback, and a
         * double click, that toggles fullscreen. In this naive approach, the first click would e.g. start playback,
         * the second click would be detected as double click and toggle to fullscreen, and as second normal click stop
         * playback, which results is a short playback interval with max length of the double click detection
         * period (usually 500ms).
         *
         * To solve this issue, we defer handling of the first click for 200ms, which is almost unnoticeable to the user,
         * and just toggle playback if no second click (double click) has been registered during this period. If a double
         * click is registered, we just toggle the fullscreen. In the first 200ms, undesired playback changes thus cannot
         * happen. If a double click is registered within 500ms, we undo the playback change and switch fullscreen mode.
         * In the end, this method basically introduces a 200ms observing interval in which playback changes are prevented
         * if a double click happens.
         */
        this.onClick.subscribe(function () {
            // Directly start playback on first click of the button.
            // This is a required workaround for mobile browsers where video playback needs to be triggered directly
            // by the user. A deferred playback start through the timeout below is not considered as user action and
            // therefore ignored by mobile browsers.
            if (firstPlay) {
                // Try to start playback. Then we wait for ON_PLAY and only when it arrives, we disable the firstPlay flag.
                // If we disable the flag here, onClick was triggered programmatically instead of by a user interaction, and
                // playback is blocked (e.g. on mobile devices due to the programmatic play() call), we loose the chance to
                // ever start playback through a user interaction again with this button.
                togglePlayback();
                return;
            }
            var now = Date.now();
            if (now - clickTime < 200) {
                // We have a double click inside the 200ms interval, just toggle fullscreen mode
                toggleFullscreen();
                doubleClickTime = now;
                return;
            }
            else if (now - clickTime < 500) {
                // We have a double click inside the 500ms interval, undo playback toggle and toggle fullscreen mode
                toggleFullscreen();
                togglePlayback();
                doubleClickTime = now;
                return;
            }
            clickTime = now;
            setTimeout(function () {
                if (Date.now() - doubleClickTime > 200) {
                    // No double click detected, so we toggle playback and wait what happens next
                    togglePlayback();
                }
            }, 200);
        });
        player.addEventHandler(player.EVENT.ON_PLAY, function () {
            // Playback has really started, we can disable the flag to switch to normal toggle button handling
            firstPlay = false;
        });
        // Hide button while initializing a Cast session
        var castInitializationHandler = function (event) {
            if (event.type === player.EVENT.ON_CAST_START) {
                // Hide button when session is being initialized
                _this.hide();
            }
            else {
                // Show button when session is established or initialization was aborted
                _this.show();
            }
        };
        player.addEventHandler(player.EVENT.ON_CAST_START, castInitializationHandler);
        player.addEventHandler(player.EVENT.ON_CAST_STARTED, castInitializationHandler);
        player.addEventHandler(player.EVENT.ON_CAST_STOPPED, castInitializationHandler);
    };
    HugePlaybackToggleButton.prototype.toDomElement = function () {
        var buttonElement = _super.prototype.toDomElement.call(this);
        // Add child that contains the play button image
        // Setting the image directly on the button does not work together with scaling animations, because the button
        // can cover the whole video player are and scaling would extend it beyond. By adding an inner element, confined
        // to the size if the image, it can scale inside the player without overshooting.
        buttonElement.append(new dom_1.DOM('div', {
            'class': this.prefixCss('image'),
        }));
        return buttonElement;
    };
    return HugePlaybackToggleButton;
}(playbacktogglebutton_1.PlaybackToggleButton));
exports.HugePlaybackToggleButton = HugePlaybackToggleButton;


/***/ }),
/* 29 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var container_1 = __webpack_require__(1);
var component_1 = __webpack_require__(2);
// import PlayerEvent = bitmovin.PlayerAPI.PlayerEvent;
/**
 * Overlays the player and displays an audio-only indicator.
 */
var AudioOnlyOverlay = (function (_super) {
    __extends(AudioOnlyOverlay, _super);
    function AudioOnlyOverlay(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.audioonly = [
            new component_1.Component({ tag: 'div', cssClass: 'ui-audioonly-overlay-indicator' }),
        ];
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-audioonly-overlay',
            components: _this.audioonly,
            hidden: false,
        }, _this.config);
        return _this;
    }
    AudioOnlyOverlay.prototype.configure = function (player, uimanager) {
        _super.prototype.configure.call(this, player, uimanager);
        var self = this;
        var image = self.getDomElement().css('background-image');
        // Hide overlay when Player is paused, so we can see the Big Play Button
        // player.addEventHandler(player.EVENT.ON_PAUSED, (event) => {
        //   self.getDomElement().css('background-image', 'none');
        // });
        //
        // player.addEventHandler(player.EVENT.ON_PLAY, (event) => {
        //   self.getDomElement().css('background-image', image);
        // });
        //
        // // Hide overlay if player is  paused at init (e.g. on mobile devices)
        // if (!player.isPlaying()) {
        //   self.getDomElement().css('background-image', 'none');
        // }
    };
    return AudioOnlyOverlay;
}(container_1.Container));
exports.AudioOnlyOverlay = AudioOnlyOverlay;


/***/ }),
/* 30 */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(31);
__webpack_require__(34);
module.exports = __webpack_require__(47);


/***/ }),
/* 31 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var angular = __webpack_require__(9);
var bitdash_controller_1 = __webpack_require__(32);
var bitdash_directive_1 = __webpack_require__(33);
exports.default = angular.module('mi.BitdashPlayer', [])
    .controller('MiBitdashController', bitdash_controller_1.default)
    .directive('miBitdashPlayer', bitdash_directive_1.default);


/***/ }),
/* 32 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var angular = __webpack_require__(9);
var BitmovinController = (function () {
    function BitmovinController($scope, $log) {
        this.$scope = $scope;
        this.$log = $log;
        this.state = {};
        this.config = {};
        this.options = {};
    }
    BitmovinController.prototype.$onInit = function () {
        this.state = this.$scope.state = {};
        if (angular.isDefined(this.$scope.config) && angular.isDefined(this.$scope.config.key)) {
            this.config = this.$scope.config;
        }
        else {
            this.$log.error("basic config for bitdash player is missing!");
        }
        if (angular.isDefined(this.$scope.options)) {
            this.options = this.$scope.options;
        }
        if (angular.isDefined(this.$scope.webcast)) {
            this.processWebcast(this.$scope.webcast);
        }
    };
    BitmovinController.prototype.processWebcast = function (webcast) {
        var stateProperty = this.options.forcedState || webcast.state;
        if (stateProperty === 'ondemand') {
            var languageIndex_1 = 0;
            webcast.languages.some(function (lang, index) {
                if (webcast.language === lang.language) {
                    languageIndex_1 = index;
                    return true;
                }
            });
            this.state.data = webcast.languages[languageIndex_1].ondemandStateData;
        }
        else {
            this.state.data = webcast[stateProperty + 'StateData'];
        }
        this.config.source = this.getPlayerConfigSource(webcast);
        this.config.style = { ux: false };
    };
    BitmovinController.prototype.getPlayerConfigSource = function (webcast) {
        return webcast.useDVRPlaybackInPostlive && webcast.state === 'postlive' ?
            this.getDVRPlaybackToPostlive(webcast)
            : this.getPlayerConfigSourceByState(webcast);
    };
    BitmovinController.prototype.getDVRPlaybackToPostlive = function (webcast) {
        var hls = webcast['liveStateData'].playout.hlsDvrUrl;
        var title = webcast.name;
        if (angular.isDefined(webcast['postliveStateData'].playout.offset)) {
            var offset = parseInt(webcast['postliveStateData'].playout.offset, 10);
            if (offset) {
                var offsetPrefix = void 0;
                var parser = document.createElement('a');
                parser.href = webcast['liveStateData'].playout.hlsDvrUrl;
                offsetPrefix = (parser.search) ? '&' : '?';
                hls += offsetPrefix + "wowzadvrplayliststart=" + offset + "000";
            }
        }
        return { hls: hls, title: title };
    };
    BitmovinController.prototype.getPlayerConfigSourceByState = function (webcast) {
        var hls = this.state.data.playout.hlsUrl;
        var title = webcast.name;
        var hiveServiceUrl = this.getHiveServiceUrlByLang(webcast);
        if (angular.isDefined(this.state.data.playout.videoManagerHlsUrl) && this.state.data.playout.videoManagerHlsUrl) {
            hls = this.state.data.playout.videoManagerHlsUrl;
        }
        if (angular.isDefined(this.state.data.playout.offset)) {
            var offset = parseInt(this.state.data.playout.offset, 10);
            if (offset > 0) {
                var offsetPrefix = void 0;
                var parser = document.createElement('a');
                parser.href = hls;
                offsetPrefix = (parser.search) ? '&' : '?';
                hls += offsetPrefix + "start=" + offset;
            }
        }
        return { hls: hls, title: title, hiveServiceUrl: hiveServiceUrl };
    };
    BitmovinController.prototype.getHiveServiceUrlByLang = function (webcast) {
        var hiveServiceUrl = null;
        if (webcast.languages && webcast.language) {
            webcast.languages.forEach(function (item) {
                if (item.language === webcast.language) {
                    hiveServiceUrl = angular.copy(item.hiveServiceUrl);
                }
            });
        }
        return hiveServiceUrl;
    };
    return BitmovinController;
}());
BitmovinController.$inject = ['$scope', '$log'];
exports.default = BitmovinController;


/***/ }),
/* 33 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var angular = __webpack_require__(9);
var BitdashDirective = function ($window, $log) { return ({
    controller: 'MiBitdashController',
    controllerAs: 'bitdashVm',
    replace: true,
    restrict: 'EA',
    scope: {
        config: '=',
        options: '=?',
        webcast: '=',
    },
    template: "<div id=\"mi-bitdash-player\" width=\"100%\" height=\"auto\"></div>",
    link: function (scope) {
        var bitmovinPlayer;
        var bitmovinUIManager;
        var bitmovinControlbar;
        var config = scope.config;
        var webcast = scope.webcast;
        var stateData = scope.state.data;
        buildPlayer();
        function buildPlayer() {
            bitmovinPlayer = $window.window.bitmovin.player('mi-bitdash-player');
            if (angular.isDefined(bitmovinPlayer) && bitmovinPlayer.isReady() === true) {
                bitmovinPlayer.destroy();
                bitmovinPlayer = $window.window.bitmovin.player('mi-bitdash-player');
            }
            if ((webcast.state === 'live') && config.source.hiveServiceUrl) {
                // Get a hive-enabled player through bitdash.initHiveSDN
                $window.window.bitmovin.initHiveSDN(bitmovinPlayer, { debugLevel: 'off' });
                // Configure and Setup bitmovin in initSession callback
                bitmovinPlayer.initSession(config.source.hiveServiceUrl).then(function (session) {
                    var hiveConfig = angular.copy(config);
                    hiveConfig.source.hls = session.manifest;
                    loadPlayer(hiveConfig);
                }, function (reason) {
                    // Handle the case if Hive init fails
                    $log.warn("Hive init fails: " + reason.code + " - " + reason.message);
                    loadPlayer(config);
                });
            }
            else {
                loadPlayer(config);
            }
        }
        function loadPlayer(conf) {
            bitmovinPlayer
                .setup(conf)
                .then(function () {
                bitmovinUIManager = $window.window.bitmovin.playerui.UIManager.Factory;
                if (isAudioOnly()) {
                    bitmovinUIManager.buildAudioOnlyUI(bitmovinPlayer);
                    setAudioOnlyStillImage();
                }
                else {
                    bitmovinUIManager.buildAudioVideoUI(bitmovinPlayer);
                }
                bitmovinControlbar = getElementsByClassName('bitmovinplayer-container');
                if (angular.isDefined(bitmovinControlbar)) {
                    bitmovinControlbar.style.minWidth = '175px';
                    bitmovinControlbar.style.minHeight = '101px';
                    document.getElementById('bitmovinplayer-video-mi-bitdash-player').setAttribute('title', webcast.name);
                }
            }, function (reason) {
                $log.log("Error: " + reason.code + " - " + reason.message);
            });
        }
        function isAudioOnly() {
            return webcast.layout.layout === 'audio-only';
        }
        function setAudioOnlyStillImage() {
            var element = getElementsByClassName('mi-wbc-ui-audioonly-overlay');
            if (angular.isDefined(webcast.theme.audioOnlyFileUrl) && webcast.theme.audioOnlyFileUrl) {
                element.style.backgroundImage = "url(" + webcast.theme.audioOnlyFileUrl + ")";
                element.style.backgroundSize = 'contain';
                element.style.animation = 'none';
                element.style.backgroundPosition = 'center';
            }
            else {
                var image_1 = element.style.backgroundImage;
                bitmovinPlayer.addEventHandler('onPaused', function () { return element.style.backgroundImage = 'none'; });
                bitmovinPlayer.addEventHandler('onPlay', function () { return element.style.backgroundImage = image_1; });
            }
        }
        function getElementsByClassName(className) {
            return document.getElementsByClassName(className)[0];
        }
    }
}); };
exports.default = BitdashDirective;
BitdashDirective.$inject = ['$window', '$log'];


/***/ }),
/* 34 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
/// <reference path='player.d.ts' />
var uimanager_1 = __webpack_require__(35);
var button_1 = __webpack_require__(6);
var controlbar_1 = __webpack_require__(15);
var hugeplaybacktogglebutton_1 = __webpack_require__(28);
var playbacktimelabel_1 = __webpack_require__(18);
var playbacktogglebutton_1 = __webpack_require__(12);
var seekbar_1 = __webpack_require__(13);
var selectbox_1 = __webpack_require__(21);
var itemselectionlist_1 = __webpack_require__(42);
// import {SettingsPanel, SettingsPanelItem} from './components/settingspanel';
// import {SettingsToggleButton} from './components/settingstogglebutton';
var togglebutton_1 = __webpack_require__(8);
// import {VideoQualitySelectBox} from './components/videoqualityselectbox';
var volumetogglebutton_1 = __webpack_require__(25);
// import {Watermark} from './components/watermark';
var uicontainer_1 = __webpack_require__(17);
var container_1 = __webpack_require__(1);
var label_1 = __webpack_require__(7);
var component_1 = __webpack_require__(2);
var errormessageoverlay_1 = __webpack_require__(26);
var seekbarlabel_1 = __webpack_require__(20);
// import {TitleBar} from './components/titlebar';
var volumecontrolbutton_1 = __webpack_require__(23);
var clickoverlay_1 = __webpack_require__(43);
var hugereplaybutton_1 = __webpack_require__(44);
// import {BufferingOverlay} from './components/bufferingoverlay';
var playbacktoggleoverlay_1 = __webpack_require__(27);
var closebutton_1 = __webpack_require__(45);
// import {MetadataLabel, MetadataLabelContent} from './components/metadatalabel';
var volumeslider_1 = __webpack_require__(24);
var spacer_1 = __webpack_require__(19);
var arrayutils_1 = __webpack_require__(4);
var stringutils_1 = __webpack_require__(14);
var playerutils_1 = __webpack_require__(5);
var uiutils_1 = __webpack_require__(16);
var browserutils_1 = __webpack_require__(11);
var storageutils_1 = __webpack_require__(46);
var audioonlyoverlay_1 = __webpack_require__(29);
// Object.assign polyfill for ES5/IE9
// https://developer.mozilla.org/de/docs/Web/JavaScript/Reference/Global_Objects/Object/assign
if (typeof Object.assign !== 'function') {
    Object.assign = function (target) {
        'use strict';
        if (target == null) {
            throw new TypeError('Cannot convert undefined or null to object');
        }
        target = Object(target);
        for (var index = 1; index < arguments.length; index++) {
            var source = arguments[index];
            if (source != null) {
                for (var key in source) {
                    if (Object.prototype.hasOwnProperty.call(source, key)) {
                        target[key] = source[key];
                    }
                }
            }
        }
        return target;
    };
}
var playerui = {
    version: '{{VERSION}}',
    // Management
    UIManager: uimanager_1.UIManager,
    UIInstanceManager: uimanager_1.UIInstanceManager,
    // Utils
    ArrayUtils: arrayutils_1.ArrayUtils,
    StringUtils: stringutils_1.StringUtils,
    PlayerUtils: playerutils_1.PlayerUtils,
    UIUtils: uiutils_1.UIUtils,
    BrowserUtils: browserutils_1.BrowserUtils,
    StorageUtils: storageutils_1.StorageUtils,
    // Components
    AudioOnlyOverlay: audioonlyoverlay_1.AudioOnlyOverlay,
    // BufferingOverlay,
    Button: button_1.Button,
    ClickOverlay: clickoverlay_1.ClickOverlay,
    CloseButton: closebutton_1.CloseButton,
    Component: component_1.Component,
    Container: container_1.Container,
    ControlBar: controlbar_1.ControlBar,
    ErrorMessageOverlay: errormessageoverlay_1.ErrorMessageOverlay,
    HugePlaybackToggleButton: hugeplaybacktogglebutton_1.HugePlaybackToggleButton,
    HugeReplayButton: hugereplaybutton_1.HugeReplayButton,
    Label: label_1.Label,
    // MetadataLabel,
    // MetadataLabelContent,
    PlaybackTimeLabel: playbacktimelabel_1.PlaybackTimeLabel,
    PlaybackTimeLabelMode: playbacktimelabel_1.PlaybackTimeLabelMode,
    PlaybackToggleButton: playbacktogglebutton_1.PlaybackToggleButton,
    PlaybackToggleOverlay: playbacktoggleoverlay_1.PlaybackToggleOverlay,
    SeekBar: seekbar_1.SeekBar,
    SeekBarLabel: seekbarlabel_1.SeekBarLabel,
    SelectBox: selectbox_1.SelectBox,
    ItemSelectionList: itemselectionlist_1.ItemSelectionList,
    // SettingsPanel,
    // SettingsPanelItem,
    // SettingsToggleButton,
    Spacer: spacer_1.Spacer,
    // TitleBar,
    ToggleButton: togglebutton_1.ToggleButton,
    UIContainer: uicontainer_1.UIContainer,
    // VideoQualitySelectBox,
    VolumeControlButton: volumecontrolbutton_1.VolumeControlButton,
    VolumeSlider: volumeslider_1.VolumeSlider,
    VolumeToggleButton: volumetogglebutton_1.VolumeToggleButton,
};
window.bitmovin.playerui = playerui;
module.exports = playerui;


/***/ }),
/* 35 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var uicontainer_1 = __webpack_require__(17);
var dom_1 = __webpack_require__(0);
var component_1 = __webpack_require__(2);
var container_1 = __webpack_require__(1);
var playbacktogglebutton_1 = __webpack_require__(12);
var fullscreentogglebutton_1 = __webpack_require__(37);
// import {VRToggleButton} from './components/vrtogglebutton';
// import {VolumeToggleButton} from './components/volumetogglebutton';
var seekbar_1 = __webpack_require__(13);
var playbacktimelabel_1 = __webpack_require__(18); // , PlaybackTimeLabelMode
var controlbar_1 = __webpack_require__(15);
var eventdispatcher_1 = __webpack_require__(3);
// import {SettingsToggleButton} from './components/settingstogglebutton';
// import {SettingsPanel, SettingsPanelItem} from './components/settingspanel';
// import {VideoQualitySelectBox} from './components/videoqualityselectbox';
// import {Watermark} from './components/watermark';
// import {AudioQualitySelectBox} from './components/audioqualityselectbox';
// import {AudioTrackSelectBox} from './components/audiotrackselectbox';
var seekbarlabel_1 = __webpack_require__(20);
// import {VolumeSlider} from './components/volumeslider';
var subtitleselectbox_1 = __webpack_require__(39);
var subtitleoverlay_1 = __webpack_require__(40);
var volumecontrolbutton_1 = __webpack_require__(23);
// import {CastToggleButton} from './components/casttogglebutton';
// import {CastStatusOverlay} from './components/caststatusoverlay';
var errormessageoverlay_1 = __webpack_require__(26);
// import {PlaybackSpeedSelectBox} from './components/playbackspeedselectbox';
// import {BufferingOverlay} from './components/bufferingoverlay';
var playbacktoggleoverlay_1 = __webpack_require__(27);
// import {AirPlayToggleButton} from './components/airplaytogglebutton';
// import {PictureInPictureToggleButton} from './components/pictureinpicturetogglebutton';
var audioonlyoverlay_1 = __webpack_require__(29);
// import {Spacer} from './components/spacer';
var uiutils_1 = __webpack_require__(16);
var arrayutils_1 = __webpack_require__(4);
var browserutils_1 = __webpack_require__(11);
var UIManager = (function () {
    function UIManager(player, playerUiOrUiVariants, config) {
        if (config === void 0) { config = {}; }
        var _this = this;
        if (playerUiOrUiVariants instanceof uicontainer_1.UIContainer) {
            // Single-UI constructor has been called, transform arguments to UIVariant[] signature
            var playerUi = playerUiOrUiVariants;
            var adsUi = null;
            var uiVariants = [];
            // Add the ads UI if defined
            if (adsUi) {
                uiVariants.push({
                    ui: adsUi,
                    condition: function (context) {
                        return context.isAdWithUI;
                    },
                });
            }
            // Add the default player UI
            uiVariants.push({ ui: playerUi });
            this.uiVariants = uiVariants;
        }
        else {
            // Default constructor (UIVariant[]) has been called
            this.uiVariants = playerUiOrUiVariants;
        }
        this.player = player;
        this.config = config;
        this.managerPlayerWrapper = new PlayerWrapper(player);
        if (config.container) {
            // Unfortunately "uiContainerElement = new DOM(config.container)" will not accept the container with
            // string|HTMLElement type directly, although it accepts both types, so we need to spit these two cases up here.
            // TODO check in upcoming TS versions if the container can be passed in directly, or fix the constructor
            this.uiContainerElement = config.container instanceof HTMLElement ?
                new dom_1.DOM(config.container) : new dom_1.DOM(config.container);
        }
        else {
            this.uiContainerElement = new dom_1.DOM(player.getFigure());
        }
        // Create UI instance managers for the UI variants
        // The instance managers map to the corresponding UI variants by their array index
        this.uiInstanceManagers = [];
        var uiVariantsWithoutCondition = [];
        for (var _i = 0, _a = this.uiVariants; _i < _a.length; _i++) {
            var uiVariant = _a[_i];
            if (uiVariant.condition == null) {
                // Collect variants without conditions for error checking
                uiVariantsWithoutCondition.push(uiVariant);
            }
            // Create the instance manager for a UI variant
            this.uiInstanceManagers.push(new InternalUIInstanceManager(player, uiVariant.ui, this.config));
        }
        // Make sure that there is only one UI variant without a condition
        // It does not make sense to have multiple variants without condition, because only the first one in the list
        // (the one with the lowest index) will ever be selected.
        if (uiVariantsWithoutCondition.length > 1) {
            throw Error('Too many UIs without a condition: You cannot have more than one default UI');
        }
        // Make sure that the default UI variant, if defined, is at the end of the list (last index)
        // If it comes earlier, the variants with conditions that come afterwards will never be selected because the
        // default variant without a condition always evaluates to 'true'
        if (uiVariantsWithoutCondition.length > 0
            && uiVariantsWithoutCondition[0] !== this.uiVariants[this.uiVariants.length - 1]) {
            throw Error('Invalid UI variant order: the default UI (without condition) must be at the end of the list');
        }
        var adStartedEvent = null; // keep the event stored here during ad playback
        var isMobile = browserutils_1.BrowserUtils.isMobile;
        // Dynamically select a UI variant that matches the current UI condition.
        var resolveUiVariant = function (event) {
            // Make sure that the ON_AD_STARTED event data is persisted through ad playback in case other events happen
            // in the meantime, e.g. player resize. We need to store this data because there is no other way to find out
            // ad details (e.g. the ad client) while an ad is playing.
            // Existing event data signals that an ad is currently active. We cannot use player.isAd() because it returns
            // true on ad start and also on ad end events, which is problematic.
            if (event != null) {
                switch (event.type) {
                    // When the ad starts, we store the event data
                    case player.EVENT.ON_AD_STARTED:
                        adStartedEvent = event;
                        break;
                    // When the ad ends, we delete the event data
                    case player.EVENT.ON_AD_FINISHED:
                    case player.EVENT.ON_AD_SKIPPED:
                    case player.EVENT.ON_AD_ERROR:
                        adStartedEvent = null;
                        break;
                    // When a new source is loaded during ad playback, there will be no ad end event so we detect the end
                    // of the ad playback by checking isAd() in ON_READY, because ON_READY always arrives when the source
                    // changes.
                    case player.EVENT.ON_READY:
                        if (adStartedEvent && !player.isAd()) {
                            adStartedEvent = null;
                        }
                }
            }
            // Detect if an ad has started
            var ad = adStartedEvent != null;
            var adWithUI = ad && adStartedEvent.clientType === 'vast';
            // Determine the current context for which the UI variant will be resolved
            var context = {
                isAd: ad,
                isAdWithUI: adWithUI,
                adClientType: ad ? adStartedEvent.clientType : null,
                isFullscreen: _this.player.isFullscreen(),
                isMobile: isMobile,
                isPlaying: _this.player.isPlaying(),
                width: _this.uiContainerElement.width(),
                documentWidth: document.body.clientWidth,
            };
            var nextUi = null;
            var uiVariantChanged = false;
            // Select new UI variant
            // If no variant condition is fulfilled, we switch to *no* UI
            for (var _i = 0, _a = _this.uiVariants; _i < _a.length; _i++) {
                var uiVariant = _a[_i];
                if (uiVariant.condition == null || uiVariant.condition(context) === true) {
                    nextUi = _this.uiInstanceManagers[_this.uiVariants.indexOf(uiVariant)];
                    break;
                }
            }
            // Determine if the UI variant is changing
            if (nextUi !== _this.currentUi) {
                uiVariantChanged = true;
                // console.log('switched from ', this.currentUi ? this.currentUi.getUI() : 'none',
                //   ' to ', nextUi ? nextUi.getUI() : 'none');
            }
            // Only if the UI variant is changing, we need to do some stuff. Else we just leave everything as-is.
            if (uiVariantChanged) {
                // Hide the currently active UI variant
                if (_this.currentUi) {
                    _this.currentUi.getUI().hide();
                }
                // Assign the new UI variant as current UI
                _this.currentUi = nextUi;
                // When we switch to a different UI instance, there's some additional stuff to manage. If we do not switch
                // to an instance, we're done here.
                if (_this.currentUi != null) {
                    // Add the UI to the DOM (and configure it) the first time it is selected
                    if (!_this.currentUi.isConfigured()) {
                        _this.addUi(_this.currentUi);
                    }
                    // If this is an ad UI, we need to relay the saved ON_AD_STARTED event data so ad components can configure
                    // themselves for the current ad.
                    if (context.isAd) {
                        /* Relay the ON_AD_STARTED event to the ads UI
                         *
                         * Because the ads UI is initialized in the ON_AD_STARTED handler, i.e. when the ON_AD_STARTED event has
                         * already been fired, components in the ads UI that listen for the ON_AD_STARTED event never receive it.
                         * Since this can break functionality of components that rely on this event, we relay the event to the
                         * ads UI components with the following call.
                         */
                        _this.currentUi.getWrappedPlayer().fireEventInUI(_this.player.EVENT.ON_AD_STARTED, adStartedEvent);
                    }
                    _this.currentUi.getUI().show();
                }
            }
        };
        // Listen to the following events to trigger UI variant resolution
        this.managerPlayerWrapper.getPlayer().addEventHandler(this.player.EVENT.ON_READY, resolveUiVariant);
        this.managerPlayerWrapper.getPlayer().addEventHandler(this.player.EVENT.ON_PLAY, resolveUiVariant);
        this.managerPlayerWrapper.getPlayer().addEventHandler(this.player.EVENT.ON_PAUSED, resolveUiVariant);
        this.managerPlayerWrapper.getPlayer().addEventHandler(this.player.EVENT.ON_AD_STARTED, resolveUiVariant);
        this.managerPlayerWrapper.getPlayer().addEventHandler(this.player.EVENT.ON_AD_FINISHED, resolveUiVariant);
        this.managerPlayerWrapper.getPlayer().addEventHandler(this.player.EVENT.ON_AD_SKIPPED, resolveUiVariant);
        this.managerPlayerWrapper.getPlayer().addEventHandler(this.player.EVENT.ON_AD_ERROR, resolveUiVariant);
        this.managerPlayerWrapper.getPlayer().addEventHandler(this.player.EVENT.ON_PLAYER_RESIZE, resolveUiVariant);
        this.managerPlayerWrapper.getPlayer().addEventHandler(this.player.EVENT.ON_FULLSCREEN_ENTER, resolveUiVariant);
        this.managerPlayerWrapper.getPlayer().addEventHandler(this.player.EVENT.ON_FULLSCREEN_EXIT, resolveUiVariant);
        // Initialize the UI
        resolveUiVariant(null);
    }
    UIManager.prototype.getConfig = function () {
        return this.config;
    };
    UIManager.prototype.addUi = function (ui) {
        var dom = ui.getUI().getDomElement();
        var player = ui.getWrappedPlayer();
        ui.configureControls();
        /* Append the UI DOM after configuration to avoid CSS transitions at initialization
         * Example: Components are hidden during configuration and these hides may trigger CSS transitions that are
         * undesirable at this time. */
        this.uiContainerElement.append(dom);
        // Some components initialize their state on ON_READY. When the UI is loaded after the player is already ready,
        // they will never receive the event so we fire it from here in such cases.
        if (player.isReady()) {
            player.fireEventInUI(player.EVENT.ON_READY, {});
        }
        // Fire onConfigured after UI DOM elements are successfully added. When fired immediately, the DOM elements
        // might not be fully configured and e.g. do not have a size.
        // https://swizec.com/blog/how-to-properly-wait-for-dom-elements-to-show-up-in-modern-browsers/swizec/6663
        if (window.requestAnimationFrame) {
            requestAnimationFrame(function () { ui.onConfigured.dispatch(ui.getUI()); });
        }
        else {
            // IE9 fallback
            setTimeout(function () { ui.onConfigured.dispatch(ui.getUI()); }, 0);
        }
    };
    UIManager.prototype.releaseUi = function (ui) {
        ui.releaseControls();
        ui.getUI().getDomElement().remove();
        ui.clearEventHandlers();
    };
    UIManager.prototype.release = function () {
        for (var _i = 0, _a = this.uiInstanceManagers; _i < _a.length; _i++) {
            var uiInstanceManager = _a[_i];
            this.releaseUi(uiInstanceManager);
        }
        this.managerPlayerWrapper.clearEventHandlers();
    };
    return UIManager;
}());
exports.UIManager = UIManager;
(function (UIManager) {
    var Factory;
    (function (Factory) {
        function buildAudioVideoUI(player, config) {
            if (config === void 0) { config = {}; }
            var controlBar = new controlbar_1.ControlBar({
                components: [
                    new playbacktogglebutton_1.PlaybackToggleButton(),
                    new seekbar_1.SeekBar({ label: new seekbarlabel_1.SeekBarLabel() }),
                    new playbacktimelabel_1.PlaybackTimeLabel(),
                    new volumecontrolbutton_1.VolumeControlButton({ 'vertical': true }),
                    new fullscreentogglebutton_1.FullscreenToggleButton(),
                ],
            }, true);
            var ui = new uicontainer_1.UIContainer({
                components: [
                    new playbacktoggleoverlay_1.PlaybackToggleOverlay(),
                    controlBar,
                    new errormessageoverlay_1.ErrorMessageOverlay(),
                ], cssClasses: ['ui-skin'],
            });
            // Just here to avoid linter errors
            var ssBox = new subtitleselectbox_1.SubtitleSelectBox();
            ssBox.hide();
            var ssOverlay = new subtitleoverlay_1.SubtitleOverlay();
            ssOverlay.hide();
            return new UIManager(player, ui, config);
        }
        Factory.buildAudioVideoUI = buildAudioVideoUI;
        function buildAudioOnlyUI(player, config) {
            if (config === void 0) { config = {}; }
            var controlBar = new controlbar_1.ControlBar({
                components: [
                    new playbacktogglebutton_1.PlaybackToggleButton(),
                    new seekbar_1.SeekBar({ label: new seekbarlabel_1.SeekBarLabel(), hideInLivePlayback: true }),
                    new playbacktimelabel_1.PlaybackTimeLabel(),
                    new volumecontrolbutton_1.VolumeControlButton({ 'vertical': true }),
                    new component_1.Component({ cssClass: 'spacer' }),
                ],
            }, false);
            var ui = new uicontainer_1.UIContainer({
                components: [
                    new audioonlyoverlay_1.AudioOnlyOverlay(),
                    new playbacktoggleoverlay_1.PlaybackToggleOverlay(),
                    controlBar,
                    new errormessageoverlay_1.ErrorMessageOverlay(),
                ], cssClasses: ['ui-skin'],
            });
            return new UIManager(player, ui, config);
        }
        Factory.buildAudioOnlyUI = buildAudioOnlyUI;
    })(Factory = UIManager.Factory || (UIManager.Factory = {}));
})(UIManager = exports.UIManager || (exports.UIManager = {}));
exports.UIManager = UIManager;
/**
 * Encapsulates functionality to manage a UI instance. Used by the {@link UIManager} to manage multiple UI instances.
 */
var UIInstanceManager = (function () {
    function UIInstanceManager(player, ui, config) {
        if (config === void 0) { config = {}; }
        this.events = {
            onConfigured: new eventdispatcher_1.EventDispatcher(),
            onSeek: new eventdispatcher_1.EventDispatcher(),
            onSeekPreview: new eventdispatcher_1.EventDispatcher(),
            onSeeked: new eventdispatcher_1.EventDispatcher(),
            onComponentShow: new eventdispatcher_1.EventDispatcher(),
            onComponentHide: new eventdispatcher_1.EventDispatcher(),
            onControlsShow: new eventdispatcher_1.EventDispatcher(),
            onPreviewControlsHide: new eventdispatcher_1.EventDispatcher(),
            onControlsHide: new eventdispatcher_1.EventDispatcher(),
        };
        this.playerWrapper = new PlayerWrapper(player);
        this.ui = ui;
        this.config = config;
    }
    UIInstanceManager.prototype.getConfig = function () {
        return this.config;
    };
    UIInstanceManager.prototype.getUI = function () {
        return this.ui;
    };
    UIInstanceManager.prototype.getPlayer = function () {
        return this.playerWrapper.getPlayer();
    };
    Object.defineProperty(UIInstanceManager.prototype, "onConfigured", {
        /**
         * Fires when the UI is fully configured and added to the DOM.
         * @returns {EventDispatcher}
         */
        get: function () {
            return this.events.onConfigured;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(UIInstanceManager.prototype, "onSeek", {
        /**
         * Fires when a seek starts.
         * @returns {EventDispatcher}
         */
        get: function () {
            return this.events.onSeek;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(UIInstanceManager.prototype, "onSeekPreview", {
        /**
         * Fires when the seek timeline is scrubbed.
         * @returns {EventDispatcher}
         */
        get: function () {
            return this.events.onSeekPreview;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(UIInstanceManager.prototype, "onSeeked", {
        /**
         * Fires when a seek is finished.
         * @returns {EventDispatcher}
         */
        get: function () {
            return this.events.onSeeked;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(UIInstanceManager.prototype, "onComponentShow", {
        /**
         * Fires when a component is showing.
         * @returns {EventDispatcher}
         */
        get: function () {
            return this.events.onComponentShow;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(UIInstanceManager.prototype, "onComponentHide", {
        /**
         * Fires when a component is hiding.
         * @returns {EventDispatcher}
         */
        get: function () {
            return this.events.onComponentHide;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(UIInstanceManager.prototype, "onControlsShow", {
        /**
         * Fires when the UI controls are showing.
         * @returns {EventDispatcher}
         */
        get: function () {
            return this.events.onControlsShow;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(UIInstanceManager.prototype, "onPreviewControlsHide", {
        /**
         * Fires before the UI controls are hiding to check if they are allowed to hide.
         * @returns {EventDispatcher}
         */
        get: function () {
            return this.events.onPreviewControlsHide;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(UIInstanceManager.prototype, "onControlsHide", {
        /**
         * Fires when the UI controls are hiding.
         * @returns {EventDispatcher}
         */
        get: function () {
            return this.events.onControlsHide;
        },
        enumerable: true,
        configurable: true
    });
    UIInstanceManager.prototype.clearEventHandlers = function () {
        this.playerWrapper.clearEventHandlers();
        var events = this.events; // avoid TS7017
        for (var event_1 in events) {
            var dispatcher = events[event_1];
            dispatcher.unsubscribeAll();
        }
    };
    return UIInstanceManager;
}());
exports.UIInstanceManager = UIInstanceManager;
/**
 * Extends the {@link UIInstanceManager} for internal use in the {@link UIManager} and provides access to functionality
 * that components receiving a reference to the {@link UIInstanceManager} should not have access to.
 */
var InternalUIInstanceManager = (function (_super) {
    __extends(InternalUIInstanceManager, _super);
    function InternalUIInstanceManager() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    InternalUIInstanceManager.prototype.getWrappedPlayer = function () {
        // TODO find a non-hacky way to provide the WrappedPlayer to the UIManager without exporting it
        // getPlayer() actually returns the WrappedPlayer but its return type is set to Player so the WrappedPlayer does
        // not need to be exported
        return this.getPlayer();
    };
    InternalUIInstanceManager.prototype.configureControls = function () {
        this.configureControlsTree(this.getUI());
        this.configured = true;
    };
    InternalUIInstanceManager.prototype.isConfigured = function () {
        return this.configured;
    };
    InternalUIInstanceManager.prototype.configureControlsTree = function (component) {
        var _this = this;
        var configuredComponents = [];
        uiutils_1.UIUtils.traverseTree(component, function (component) {
            // First, check if we have already configured a component, and throw an error if we did. Multiple configuration
            // of the same component leads to unexpected UI behavior. Also, a component that is in the UI tree multiple
            // times hints at a wrong UI structure.
            // We could just skip configuration in such a case and not throw an exception, but enforcing a clean UI tree
            // seems like the better choice.
            for (var _i = 0, configuredComponents_1 = configuredComponents; _i < configuredComponents_1.length; _i++) {
                var configuredComponent = configuredComponents_1[_i];
                if (configuredComponent === component) {
                    // Write the component to the console to simplify identification of the culprit
                    // (e.g. by inspecting the config)
                    if (console) {
                        console.error('Circular reference in UI tree', component);
                    }
                    // Additionally throw an error, because this case must not happen and leads to unexpected UI behavior.
                    throw Error('Circular reference in UI tree: ' + component.constructor.name);
                }
            }
            component.initialize();
            component.configure(_this.getPlayer(), _this);
            configuredComponents.push(component);
        });
    };
    InternalUIInstanceManager.prototype.releaseControls = function () {
        // Do not call release methods if the components have never been configured; this can result in exceptions
        if (this.configured) {
            this.releaseControlsTree(this.getUI());
            this.configured = false;
        }
        this.released = true;
    };
    InternalUIInstanceManager.prototype.isReleased = function () {
        return this.released;
    };
    InternalUIInstanceManager.prototype.releaseControlsTree = function (component) {
        component.release();
        if (component instanceof container_1.Container) {
            for (var _i = 0, _a = component.getComponents(); _i < _a.length; _i++) {
                var childComponent = _a[_i];
                this.releaseControlsTree(childComponent);
            }
        }
    };
    InternalUIInstanceManager.prototype.clearEventHandlers = function () {
        _super.prototype.clearEventHandlers.call(this);
    };
    return InternalUIInstanceManager;
}(UIInstanceManager));
/**
 * Wraps the player to track event handlers and provide a simple method to remove all registered event
 * handlers from the player.
 */
var PlayerWrapper = (function () {
    function PlayerWrapper(player) {
        var _this = this;
        this.eventHandlers = {};
        this.player = player;
        // Collect all members of the player (public API methods and properties of the player)
        // (Object.getOwnPropertyNames(player) does not work with the player TypeScript class starting in 7.2)
        var members = [];
        for (var member in player) {
            members.push(member);
        }
        // Split the members into methods and properties
        var methods = [];
        var properties = [];
        for (var _i = 0, members_1 = members; _i < members_1.length; _i++) {
            var member = members_1[_i];
            if (typeof player[member] === 'function') {
                methods.push(member);
            }
            else {
                properties.push(member);
            }
        }
        // Create wrapper object
        var wrapper = {};
        var _loop_1 = function (method) {
            wrapper[method] = function () {
                // console.log('called ' + member); // track method calls on the player
                return player[method].apply(player, arguments);
            };
        };
        // Add function wrappers for all API methods that do nothing but calling the base method on the player
        for (var _a = 0, methods_1 = methods; _a < methods_1.length; _a++) {
            var method = methods_1[_a];
            _loop_1(method);
        }
        var _loop_2 = function (property) {
            // Get an eventually existing property descriptor to differentiate between plain properties and properties with
            // getters/setters.
            var propertyDescriptor = Object.getOwnPropertyDescriptor(player, property) ||
                Object.getOwnPropertyDescriptor(Object.getPrototypeOf(player), property);
            // If the property has getters/setters, wrap them accordingly...
            if (propertyDescriptor && (propertyDescriptor.get || propertyDescriptor.set)) {
                Object.defineProperty(wrapper, property, {
                    get: function () { return propertyDescriptor.get.call(player); },
                    set: function (value) { return propertyDescriptor.set.call(player, value); },
                });
            }
            else {
                wrapper[property] = player[property];
            }
        };
        // Add all public properties of the player to the wrapper
        for (var _b = 0, properties_1 = properties; _b < properties_1.length; _b++) {
            var property = properties_1[_b];
            _loop_2(property);
        }
        // Explicitly add a wrapper method for 'addEventHandler' that adds added event handlers to the event list
        wrapper.addEventHandler = function (eventType, callback) {
            player.addEventHandler(eventType, callback);
            if (!_this.eventHandlers[eventType]) {
                _this.eventHandlers[eventType] = [];
            }
            _this.eventHandlers[eventType].push(callback);
            return wrapper;
        };
        // Explicitly add a wrapper method for 'removeEventHandler' that removes removed event handlers from the event list
        wrapper.removeEventHandler = function (eventType, callback) {
            player.removeEventHandler(eventType, callback);
            if (_this.eventHandlers[eventType]) {
                arrayutils_1.ArrayUtils.remove(_this.eventHandlers[eventType], callback);
            }
            return wrapper;
        };
        wrapper.fireEventInUI = function (event, data) {
            if (_this.eventHandlers[event]) {
                // Extend the data object with default values to convert it to a {@link PlayerEvent} object.
                var playerEventData = Object.assign({}, {
                    timestamp: Date.now(),
                    type: event,
                    // Add a marker property so the UI can detect UI-internal player events
                    uiSourced: true,
                }, data);
                // Execute the registered callbacks
                for (var _i = 0, _a = _this.eventHandlers[event]; _i < _a.length; _i++) {
                    var callback = _a[_i];
                    callback(playerEventData);
                }
            }
        };
        this.wrapper = wrapper;
    }
    /**
     * Returns a wrapped player object that can be used on place of the normal player object.
     * @returns {WrappedPlayer} a wrapped player
     */
    PlayerWrapper.prototype.getPlayer = function () {
        return this.wrapper;
    };
    /**
     * Clears all registered event handlers from the player that were added through the wrapped player.
     */
    PlayerWrapper.prototype.clearEventHandlers = function () {
        for (var eventType in this.eventHandlers) {
            for (var _i = 0, _a = this.eventHandlers[eventType]; _i < _a.length; _i++) {
                var callback = _a[_i];
                this.player.removeEventHandler(eventType, callback);
            }
        }
    };
    return PlayerWrapper;
}());


/***/ }),
/* 36 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var Guid;
(function (Guid) {
    var guid = 1;
    function next() {
        return guid++;
    }
    Guid.next = next;
})(Guid = exports.Guid || (exports.Guid = {}));


/***/ }),
/* 37 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var togglebutton_1 = __webpack_require__(8);
/**
 * A button that toggles the player between windowed and fullscreen view.
 */
var FullscreenToggleButton = (function (_super) {
    __extends(FullscreenToggleButton, _super);
    function FullscreenToggleButton(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-fullscreentogglebutton',
            text: 'Fullscreen',
        }, _this.config);
        return _this;
    }
    FullscreenToggleButton.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        var fullscreenStateHandler = function () {
            if (player.isFullscreen()) {
                _this.on();
            }
            else {
                _this.off();
            }
        };
        player.addEventHandler(player.EVENT.ON_FULLSCREEN_ENTER, fullscreenStateHandler);
        player.addEventHandler(player.EVENT.ON_FULLSCREEN_EXIT, fullscreenStateHandler);
        this.onClick.subscribe(function () {
            if (player.isFullscreen()) {
                player.exitFullscreen();
            }
            else {
                player.enterFullscreen();
            }
        });
        // Startup init
        fullscreenStateHandler();
    };
    return FullscreenToggleButton;
}(togglebutton_1.ToggleButton));
exports.FullscreenToggleButton = FullscreenToggleButton;


/***/ }),
/* 38 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var dom_1 = __webpack_require__(0);
/**
 * Tracks the loading state of images.
 */
var ImageLoader = (function () {
    function ImageLoader() {
        this.state = {};
    }
    /**
     * Loads an image and call the callback once the image is loaded. If the image is already loaded, the callback
     * is called immediately, else it is called once loading has finished. Calling this method multiple times for the
     * same image while it is loading calls only let callback passed into the last call.
     * @param url The url to the image to load
     * @param loadedCallback The callback that is called when the image is loaded
     */
    ImageLoader.prototype.load = function (url, loadedCallback) {
        var _this = this;
        if (!this.state[url]) {
            // When the image was never attempted to be loaded before, we create a state and store it in the state map
            // for later use when the same image is requested to be loaded again.
            var state_1 = {
                url: url,
                image: new dom_1.DOM('img', {}),
                loadedCallback: loadedCallback,
                loaded: false,
                width: 0,
                height: 0,
            };
            this.state[url] = state_1;
            // Listen to the load event, update the state and call the callback once the image is loaded
            state_1.image.on('load', function (e) {
                state_1.loaded = true;
                state_1.width = state_1.image.get(0).width;
                state_1.height = state_1.image.get(0).height;
                _this.callLoadedCallback(state_1);
            });
            // Set the image URL to start the loading
            state_1.image.attr('src', state_1.url);
        }
        else {
            // We have a state for the requested image, so it is either already loaded or currently loading
            var state = this.state[url];
            // We overwrite the callback to make sure that only the callback of the latest call gets executed.
            // Earlier callbacks become invalid once a new load call arrives, and they are not called as long as the image
            // is not loaded.
            state.loadedCallback = loadedCallback;
            // When the image is already loaded, we directly execute the callback instead of waiting for the load event
            if (state.loaded) {
                this.callLoadedCallback(state);
            }
        }
    };
    ImageLoader.prototype.callLoadedCallback = function (state) {
        state.loadedCallback(state.url, state.width, state.height);
    };
    return ImageLoader;
}());
exports.ImageLoader = ImageLoader;


/***/ }),
/* 39 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var selectbox_1 = __webpack_require__(21);
/**
 * A select box providing a selection between available subtitle and caption tracks.
 */
var SubtitleSelectBox = (function (_super) {
    __extends(SubtitleSelectBox, _super);
    function SubtitleSelectBox(config) {
        if (config === void 0) { config = {}; }
        return _super.call(this, config) || this;
    }
    SubtitleSelectBox.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        var selectCurrentSubtitle = function () {
            var currentSubtitle = player.getSubtitle();
            if (currentSubtitle) {
                _this.selectItem(currentSubtitle.id);
            }
        };
        var updateSubtitles = function () {
            _this.clearItems();
            for (var _i = 0, _a = player.getAvailableSubtitles(); _i < _a.length; _i++) {
                var subtitle = _a[_i];
                _this.addItem(subtitle.id, subtitle.label);
            }
            // Select the correct subtitle after the subtitles have been added
            selectCurrentSubtitle();
        };
        this.onItemSelected.subscribe(function (sender, value) {
            player.setSubtitle(value === 'null' ? null : value);
        });
        // React to API events
        player.addEventHandler(player.EVENT.ON_SUBTITLE_ADDED, updateSubtitles);
        player.addEventHandler(player.EVENT.ON_SUBTITLE_CHANGED, selectCurrentSubtitle);
        player.addEventHandler(player.EVENT.ON_SUBTITLE_REMOVED, updateSubtitles);
        // Update subtitles when source goes away
        player.addEventHandler(player.EVENT.ON_SOURCE_UNLOADED, updateSubtitles);
        // Update subtitles when a new source is loaded
        player.addEventHandler(player.EVENT.ON_READY, updateSubtitles);
        // Update subtitles when the period within a source changes
        player.addEventHandler(player.EVENT.ON_PERIOD_SWITCHED, updateSubtitles);
        // Populate subtitles at startup
        updateSubtitles();
    };
    return SubtitleSelectBox;
}(selectbox_1.SelectBox));
exports.SubtitleSelectBox = SubtitleSelectBox;


/***/ }),
/* 40 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var container_1 = __webpack_require__(1);
var label_1 = __webpack_require__(7);
var controlbar_1 = __webpack_require__(15);
/**
 * Overlays the player to display subtitles.
 */
var SubtitleOverlay = (function (_super) {
    __extends(SubtitleOverlay, _super);
    function SubtitleOverlay(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.previewSubtitleActive = false;
        _this.previewSubtitle = new SubtitleLabel({ text: 'example subtitle' });
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-subtitle-overlay',
        }, _this.config);
        return _this;
    }
    SubtitleOverlay.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        var subtitleManager = new ActiveSubtitleManager();
        this.subtitleManager = subtitleManager;
        player.addEventHandler(player.EVENT.ON_CUE_ENTER, function (event) {
            // Sanitize cue data (must be done before the cue ID is generated in subtitleManager.cueEnter)
            if (event.position) {
                // Sometimes the positions are undefined, we assume them to be zero
                event.position.row = event.position.row || 0;
                event.position.column = event.position.column || 0;
            }
            var labelToAdd = subtitleManager.cueEnter(event);
            if (_this.previewSubtitleActive) {
                _this.removeComponent(_this.previewSubtitle);
            }
            _this.addComponent(labelToAdd);
            _this.updateComponents();
            _this.show();
        });
        player.addEventHandler(player.EVENT.ON_CUE_EXIT, function (event) {
            var labelToRemove = subtitleManager.cueExit(event);
            if (labelToRemove) {
                _this.removeComponent(labelToRemove);
                _this.updateComponents();
            }
            if (!subtitleManager.hasCues) {
                if (!_this.previewSubtitleActive) {
                    _this.hide();
                }
                else {
                    _this.addComponent(_this.previewSubtitle);
                    _this.updateComponents();
                }
            }
        });
        var subtitleClearHandler = function () {
            _this.hide();
            subtitleManager.clear();
            _this.removeComponents();
            _this.updateComponents();
        };
        player.addEventHandler(player.EVENT.ON_AUDIO_CHANGED, subtitleClearHandler);
        player.addEventHandler(player.EVENT.ON_SUBTITLE_CHANGED, subtitleClearHandler);
        player.addEventHandler(player.EVENT.ON_SEEK, subtitleClearHandler);
        player.addEventHandler(player.EVENT.ON_TIME_SHIFT, subtitleClearHandler);
        player.addEventHandler(player.EVENT.ON_PLAYBACK_FINISHED, subtitleClearHandler);
        player.addEventHandler(player.EVENT.ON_SOURCE_UNLOADED, subtitleClearHandler);
        uimanager.onComponentShow.subscribe(function (component) {
            if (component instanceof controlbar_1.ControlBar) {
                _this.getDomElement().addClass(_this.prefixCss(SubtitleOverlay.CLASS_CONTROLBAR_VISIBLE));
            }
        });
        uimanager.onComponentHide.subscribe(function (component) {
            if (component instanceof controlbar_1.ControlBar) {
                _this.getDomElement().removeClass(_this.prefixCss(SubtitleOverlay.CLASS_CONTROLBAR_VISIBLE));
            }
        });
        this.configureCea608Captions(player, uimanager);
        // Init
        subtitleClearHandler();
    };
    SubtitleOverlay.prototype.configureCea608Captions = function (player, uimanager) {
        var _this = this;
        // The calculated font size
        var fontSize = 0;
        // The required letter spacing spread the text characters evenly across the grid
        var fontLetterSpacing = 0;
        // Flag telling if a font size calculation is required of if the current values are valid
        var fontSizeCalculationRequired = true;
        // Flag telling if the CEA-608 mode is enabled
        var enabled = false;
        var updateCEA608FontSize = function () {
            var dummyLabel = new SubtitleLabel({ text: 'X' });
            dummyLabel.getDomElement().css({
                // By using a large font size we do not need to use multiple letters and can get still an
                // accurate measurement even though the returned size is an integer value
                'font-size': '200px',
                'line-height': '200px',
                'visibility': 'hidden',
            });
            _this.addComponent(dummyLabel);
            _this.updateComponents();
            _this.show();
            var dummyLabelCharWidth = dummyLabel.getDomElement().width();
            var dummyLabelCharHeight = dummyLabel.getDomElement().height();
            var fontSizeRatio = dummyLabelCharWidth / dummyLabelCharHeight;
            _this.removeComponent(dummyLabel);
            _this.updateComponents();
            if (!_this.subtitleManager.hasCues) {
                _this.hide();
            }
            // The size ratio of the letter grid
            var fontGridSizeRatio = (dummyLabelCharWidth * SubtitleOverlay.CEA608_NUM_COLUMNS) /
                (dummyLabelCharHeight * SubtitleOverlay.CEA608_NUM_ROWS);
            // The size ratio of the available space for the grid
            var subtitleOverlaySizeRatio = _this.getDomElement().width() / _this.getDomElement().height();
            if (subtitleOverlaySizeRatio > fontGridSizeRatio) {
                // When the available space is wider than the text grid, the font size is simply
                // determined by the height of the available space.
                fontSize = _this.getDomElement().height() / SubtitleOverlay.CEA608_NUM_ROWS;
                // Calculate the additional letter spacing required to evenly spread the text across the grid's width
                var gridSlotWidth = _this.getDomElement().width() / SubtitleOverlay.CEA608_NUM_COLUMNS;
                var fontCharWidth = fontSize * fontSizeRatio;
                fontLetterSpacing = gridSlotWidth - fontCharWidth;
            }
            else {
                // When the available space is not wide enough, texts would vertically overlap if we take
                // the height as a base for the font size, so we need to limit the height. We do that
                // by determining the font size by the width of the available space.
                fontSize = _this.getDomElement().width() / SubtitleOverlay.CEA608_NUM_COLUMNS / fontSizeRatio;
                fontLetterSpacing = 0;
            }
            // Update font-size of all active subtitle labels
            for (var _i = 0, _a = _this.getComponents(); _i < _a.length; _i++) {
                var label = _a[_i];
                if (label instanceof SubtitleLabel) {
                    label.getDomElement().css({
                        'font-size': fontSize + "px",
                        'letter-spacing': fontLetterSpacing + "px",
                    });
                }
            }
        };
        player.addEventHandler(player.EVENT.ON_PLAYER_RESIZE, function () {
            if (enabled) {
                updateCEA608FontSize();
            }
            else {
                fontSizeCalculationRequired = true;
            }
        });
        player.addEventHandler(player.EVENT.ON_CUE_ENTER, function (event) {
            var isCEA608 = event.position != null;
            if (!isCEA608) {
                // Skip all non-CEA608 cues
                return;
            }
            var labels = _this.subtitleManager.getCues(event);
            if (!enabled) {
                enabled = true;
                _this.getDomElement().addClass(_this.prefixCss(SubtitleOverlay.CLASS_CEA_608));
                // We conditionally update the font size by this flag here to avoid updating every time a subtitle
                // is added into an empty overlay. Because we reset the overlay when all subtitles are gone, this
                // would trigger an unnecessary update every time, but it's only required under certain conditions,
                // e.g. after the player size has changed.
                if (fontSizeCalculationRequired) {
                    updateCEA608FontSize();
                    fontSizeCalculationRequired = false;
                }
            }
            for (var _i = 0, labels_1 = labels; _i < labels_1.length; _i++) {
                var label = labels_1[_i];
                label.getDomElement().css({
                    'left': event.position.column * SubtitleOverlay.CEA608_COLUMN_OFFSET + "%",
                    'top': event.position.row * SubtitleOverlay.CEA608_ROW_OFFSET + "%",
                    'font-size': fontSize + "px",
                    'letter-spacing': fontLetterSpacing + "px",
                });
            }
        });
        var reset = function () {
            _this.getDomElement().removeClass(_this.prefixCss(SubtitleOverlay.CLASS_CEA_608));
            enabled = false;
        };
        player.addEventHandler(player.EVENT.ON_CUE_EXIT, function () {
            if (!_this.subtitleManager.hasCues) {
                // Disable CEA-608 mode when all subtitles are gone (to allow correct formatting and
                // display of other types of subtitles, e.g. the formatting preview subtitle)
                reset();
            }
        });
        player.addEventHandler(player.EVENT.ON_SOURCE_UNLOADED, reset);
        player.addEventHandler(player.EVENT.ON_SUBTITLE_CHANGED, reset);
    };
    SubtitleOverlay.prototype.enablePreviewSubtitleLabel = function () {
        this.previewSubtitleActive = true;
        if (!this.subtitleManager.hasCues) {
            this.addComponent(this.previewSubtitle);
            this.updateComponents();
            this.show();
        }
    };
    SubtitleOverlay.prototype.removePreviewSubtitleLabel = function () {
        this.previewSubtitleActive = false;
        this.removeComponent(this.previewSubtitle);
        this.updateComponents();
    };
    return SubtitleOverlay;
}(container_1.Container));
SubtitleOverlay.CLASS_CONTROLBAR_VISIBLE = 'controlbar-visible';
SubtitleOverlay.CLASS_CEA_608 = 'cea608';
// The number of rows in a cea608 grid
SubtitleOverlay.CEA608_NUM_ROWS = 15;
// The number of columns in a cea608 grid
SubtitleOverlay.CEA608_NUM_COLUMNS = 32;
// The offset in percent for one row (which is also the height of a row)
SubtitleOverlay.CEA608_ROW_OFFSET = 100 / SubtitleOverlay.CEA608_NUM_ROWS;
// The offset in percent for one column (which is also the width of a column)
SubtitleOverlay.CEA608_COLUMN_OFFSET = 100 / SubtitleOverlay.CEA608_NUM_COLUMNS;
exports.SubtitleOverlay = SubtitleOverlay;
var SubtitleLabel = (function (_super) {
    __extends(SubtitleLabel, _super);
    function SubtitleLabel(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-subtitle-label',
        }, _this.config);
        return _this;
    }
    return SubtitleLabel;
}(label_1.Label));
var ActiveSubtitleManager = (function () {
    function ActiveSubtitleManager() {
        this.activeSubtitleCueMap = {};
        this.activeSubtitleCueCount = 0;
    }
    /**
     * Calculates a unique ID for a subtitle cue, which is needed to associate an ON_CUE_ENTER with its ON_CUE_EXIT
     * event so we can remove the correct subtitle in ON_CUE_EXIT when multiple subtitles are active at the same time.
     * The start time plus the text should make a unique identifier, and in the only case where a collision
     * can happen, two similar texts will be displayed at a similar time and a similar position (or without position).
     * The start time should always be known, because it is required to schedule the ON_CUE_ENTER event. The end time
     * must not necessarily be known and therefore cannot be used for the ID.
     * @param event
     * @return {string}
     */
    ActiveSubtitleManager.calculateId = function (event) {
        var id = event.start + '-' + event.text;
        if (event.position) {
            id += '-' + event.position.row + '-' + event.position.column;
        }
        return id;
    };
    /**
     * Adds a subtitle cue to the manager and returns the label that should be added to the subtitle overlay.
     * @param event
     * @return {SubtitleLabel}
     */
    ActiveSubtitleManager.prototype.cueEnter = function (event) {
        var id = ActiveSubtitleManager.calculateId(event);
        var label = new SubtitleLabel({
            // Prefer the HTML subtitle text if set, else use the plain text
            text: event.html || event.text,
        });
        // Create array for id if it does not exist
        this.activeSubtitleCueMap[id] = this.activeSubtitleCueMap[id] || [];
        // Add cue
        this.activeSubtitleCueMap[id].push({ event: event, label: label });
        this.activeSubtitleCueCount++;
        return label;
    };
    /**
     * Returns the label associated with an already added cue.
     * @param event
     * @return {SubtitleLabel}
     */
    ActiveSubtitleManager.prototype.getCues = function (event) {
        var id = ActiveSubtitleManager.calculateId(event);
        var activeSubtitleCues = this.activeSubtitleCueMap[id];
        if (activeSubtitleCues && activeSubtitleCues.length > 0) {
            return activeSubtitleCues.map(function (cue) { return cue.label; });
        }
        else {
            return null;
        }
    };
    /**
     * Removes the subtitle cue from the manager and returns the label that should be removed from the subtitle overlay,
     * or null if there is no associated label existing (e.g. because all labels have been {@link #clear cleared}.
     * @param event
     * @return {SubtitleLabel|null}
     */
    ActiveSubtitleManager.prototype.cueExit = function (event) {
        var id = ActiveSubtitleManager.calculateId(event);
        var activeSubtitleCues = this.activeSubtitleCueMap[id];
        if (activeSubtitleCues && activeSubtitleCues.length > 0) {
            // Remove cue
            /* We apply the FIFO approach here and remove the oldest cue from the associated id. When there are multiple cues
             * with the same id, there is no way to know which one of the cues is to be deleted, so we just hope that FIFO
             * works fine. Theoretically it can happen that two cues with colliding ids are removed at different times, in
             * the wrong order. This rare case has yet to be observed. If it ever gets an issue, we can take the unstable
             * cue end time (which can change between ON_CUE_ENTER and ON_CUE_EXIT IN ON_CUE_UPDATE) and use it as an
             * additional hint to try and remove the correct one of the colliding cues.
             */
            var activeSubtitleCue = activeSubtitleCues.shift();
            this.activeSubtitleCueCount--;
            return activeSubtitleCue.label;
        }
        else {
            return null;
        }
    };
    Object.defineProperty(ActiveSubtitleManager.prototype, "cueCount", {
        /**
         * Returns the number of active subtitle cues.
         * @return {number}
         */
        get: function () {
            // We explicitly count the cues to save an Array.reduce on every cueCount call (which can happen frequently)
            return this.activeSubtitleCueCount;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ActiveSubtitleManager.prototype, "hasCues", {
        /**
         * Returns true if there are active subtitle cues, else false.
         * @return {boolean}
         */
        get: function () {
            return this.cueCount > 0;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * Removes all subtitle cues from the manager.
     */
    ActiveSubtitleManager.prototype.clear = function () {
        this.activeSubtitleCueMap = {};
        this.activeSubtitleCueCount = 0;
    };
    return ActiveSubtitleManager;
}());


/***/ }),
/* 41 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var component_1 = __webpack_require__(2);
var dom_1 = __webpack_require__(0);
/**
 * Animated analog TV static noise.
 */
var TvNoiseCanvas = (function (_super) {
    __extends(TvNoiseCanvas, _super);
    function TvNoiseCanvas(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.canvasWidth = 160;
        _this.canvasHeight = 90;
        _this.interferenceHeight = 50;
        _this.lastFrameUpdate = 0;
        _this.frameInterval = 60;
        _this.useAnimationFrame = !!window.requestAnimationFrame;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-tvnoisecanvas',
        }, _this.config);
        return _this;
    }
    TvNoiseCanvas.prototype.toDomElement = function () {
        return this.canvas = new dom_1.DOM('canvas', { 'class': this.getCssClasses() });
    };
    TvNoiseCanvas.prototype.start = function () {
        this.canvasElement = this.canvas.get(0);
        this.canvasContext = this.canvasElement.getContext('2d');
        this.noiseAnimationWindowPos = -this.canvasHeight;
        this.lastFrameUpdate = 0;
        this.canvasElement.width = this.canvasWidth;
        this.canvasElement.height = this.canvasHeight;
        this.renderFrame();
    };
    TvNoiseCanvas.prototype.stop = function () {
        if (this.useAnimationFrame) {
            cancelAnimationFrame(this.frameUpdateHandlerId);
        }
        else {
            clearTimeout(this.frameUpdateHandlerId);
        }
    };
    TvNoiseCanvas.prototype.renderFrame = function () {
        // This code has been copied from the player controls.js and simplified
        if (this.lastFrameUpdate + this.frameInterval > new Date().getTime()) {
            // It's too early to render the next frame
            this.scheduleNextRender();
            return;
        }
        var currentPixelOffset;
        var canvasWidth = this.canvasWidth;
        var canvasHeight = this.canvasHeight;
        // Create texture
        var noiseImage = this.canvasContext.createImageData(canvasWidth, canvasHeight);
        // Fill texture with noise
        for (var y = 0; y < canvasHeight; y++) {
            for (var x = 0; x < canvasWidth; x++) {
                currentPixelOffset = (canvasWidth * y * 4) + x * 4;
                noiseImage.data[currentPixelOffset] = Math.random() * 255;
                if (y < this.noiseAnimationWindowPos || y > this.noiseAnimationWindowPos + this.interferenceHeight) {
                    noiseImage.data[currentPixelOffset] *= 0.85;
                }
                noiseImage.data[currentPixelOffset + 1] = noiseImage.data[currentPixelOffset];
                noiseImage.data[currentPixelOffset + 2] = noiseImage.data[currentPixelOffset];
                noiseImage.data[currentPixelOffset + 3] = 50;
            }
        }
        // Put texture onto canvas
        this.canvasContext.putImageData(noiseImage, 0, 0);
        this.lastFrameUpdate = new Date().getTime();
        this.noiseAnimationWindowPos += 7;
        if (this.noiseAnimationWindowPos > canvasHeight) {
            this.noiseAnimationWindowPos = -canvasHeight;
        }
        this.scheduleNextRender();
    };
    TvNoiseCanvas.prototype.scheduleNextRender = function () {
        if (this.useAnimationFrame) {
            this.frameUpdateHandlerId = window.requestAnimationFrame(this.renderFrame.bind(this));
        }
        else {
            this.frameUpdateHandlerId = setTimeout(this.renderFrame.bind(this), this.frameInterval);
        }
    };
    return TvNoiseCanvas;
}(component_1.Component));
exports.TvNoiseCanvas = TvNoiseCanvas;


/***/ }),
/* 42 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var listselector_1 = __webpack_require__(22);
var dom_1 = __webpack_require__(0);
var ItemSelectionList = (function (_super) {
    __extends(ItemSelectionList, _super);
    function ItemSelectionList(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            tag: 'ul',
            cssClass: 'ui-itemselectionlist',
        }, _this.config);
        return _this;
    }
    ItemSelectionList.prototype.isActive = function () {
        return this.items.length > 1;
    };
    ItemSelectionList.prototype.toDomElement = function () {
        var listElement = new dom_1.DOM('ul', {
            'id': this.config.id,
            'class': this.getCssClasses(),
        });
        this.listElement = listElement;
        this.updateDomItems();
        return listElement;
    };
    ItemSelectionList.prototype.updateDomItems = function (selectedValue) {
        var _this = this;
        if (selectedValue === void 0) { selectedValue = null; }
        // Delete all children
        this.listElement.empty();
        var selectedListItem = null;
        var selectItem = function (listItem) {
            listItem.addClass(_this.prefixCss(ItemSelectionList.CLASS_SELECTED));
        };
        var deselectItem = function (listItem) {
            listItem.removeClass(_this.prefixCss(ItemSelectionList.CLASS_SELECTED));
        };
        var _loop_1 = function (item) {
            var listItem = new dom_1.DOM('li', {
                'type': 'li',
                'class': this_1.prefixCss('ui-selectionlistitem'),
            }).append(new dom_1.DOM('a', {}).html(item.label));
            if (!selectedListItem) {
                if (selectedValue == null) {
                    selectedListItem = listItem;
                }
                else if (String(selectedValue) === item.key) {
                    selectedListItem = listItem;
                }
            }
            // Handle list item selections
            listItem.on('click', function () {
                // Deselect the previous item (if there was a selected item)
                if (selectedListItem) {
                    deselectItem(selectedListItem);
                }
                // Select the clicked item
                selectedListItem = listItem;
                selectItem(listItem);
                // Fire the event
                _this.onItemSelectedEvent(item.key, false);
            });
            // Select default item
            if (selectedListItem) {
                selectItem(selectedListItem);
            }
            this_1.listElement.append(listItem);
        };
        var this_1 = this;
        for (var _i = 0, _a = this.items; _i < _a.length; _i++) {
            var item = _a[_i];
            _loop_1(item);
        }
    };
    ItemSelectionList.prototype.onItemAddedEvent = function (value) {
        _super.prototype.onItemAddedEvent.call(this, value);
        this.updateDomItems(this.selectedItem);
    };
    ItemSelectionList.prototype.onItemRemovedEvent = function (value) {
        _super.prototype.onItemRemovedEvent.call(this, value);
        this.updateDomItems(this.selectedItem);
    };
    ItemSelectionList.prototype.onItemSelectedEvent = function (value, updateDomItems) {
        if (updateDomItems === void 0) { updateDomItems = true; }
        _super.prototype.onItemSelectedEvent.call(this, value);
        if (updateDomItems) {
            this.updateDomItems(value);
        }
    };
    return ItemSelectionList;
}(listselector_1.ListSelector));
ItemSelectionList.CLASS_SELECTED = 'selected';
exports.ItemSelectionList = ItemSelectionList;


/***/ }),
/* 43 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var button_1 = __webpack_require__(6);
/**
 * A click overlay that opens an url in a new tab if clicked.
 */
var ClickOverlay = (function (_super) {
    __extends(ClickOverlay, _super);
    function ClickOverlay(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-clickoverlay',
        }, _this.config);
        return _this;
    }
    ClickOverlay.prototype.initialize = function () {
        _super.prototype.initialize.call(this);
        this.setUrl(this.config.url);
        var element = this.getDomElement();
        element.on('click', function () {
            if (element.data('url')) {
                window.open(element.data('url'), '_blank');
            }
        });
    };
    /**
     * Gets the URL that should be followed when the watermark is clicked.
     * @returns {string} the watermark URL
     */
    ClickOverlay.prototype.getUrl = function () {
        return this.getDomElement().data('url');
    };
    ClickOverlay.prototype.setUrl = function (url) {
        if (url === undefined || url == null) {
            url = '';
        }
        this.getDomElement().data('url', url);
    };
    return ClickOverlay;
}(button_1.Button));
exports.ClickOverlay = ClickOverlay;


/***/ }),
/* 44 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var button_1 = __webpack_require__(6);
var dom_1 = __webpack_require__(0);
/**
 * A button to play/replay a video.
 */
var HugeReplayButton = (function (_super) {
    __extends(HugeReplayButton, _super);
    function HugeReplayButton(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-hugereplaybutton',
            text: 'Replay',
        }, _this.config);
        return _this;
    }
    HugeReplayButton.prototype.configure = function (player, uimanager) {
        _super.prototype.configure.call(this, player, uimanager);
        this.onClick.subscribe(function () {
            player.play('ui');
        });
    };
    HugeReplayButton.prototype.toDomElement = function () {
        var buttonElement = _super.prototype.toDomElement.call(this);
        // Add child that contains the play button image
        // Setting the image directly on the button does not work together with scaling animations, because the button
        // can cover the whole video player are and scaling would extend it beyond. By adding an inner element, confined
        // to the size if the image, it can scale inside the player without overshooting.
        buttonElement.append(new dom_1.DOM('div', {
            'class': this.prefixCss('image'),
        }));
        return buttonElement;
    };
    return HugeReplayButton;
}(button_1.Button));
exports.HugeReplayButton = HugeReplayButton;


/***/ }),
/* 45 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var button_1 = __webpack_require__(6);
/**
 * A button that closes (hides) a configured component.
 */
var CloseButton = (function (_super) {
    __extends(CloseButton, _super);
    function CloseButton(config) {
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-closebutton',
            text: 'Close',
        }, _this.config);
        return _this;
    }
    CloseButton.prototype.configure = function (player, uimanager) {
        _super.prototype.configure.call(this, player, uimanager);
        var config = this.getConfig();
        this.onClick.subscribe(function () {
            config.target.hide();
        });
    };
    return CloseButton;
}(button_1.Button));
exports.CloseButton = CloseButton;


/***/ }),
/* 46 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var StorageUtils;
(function (StorageUtils) {
    var hasLocalStorageCache;
    function hasLocalStorage() {
        if (hasLocalStorageCache) {
            return hasLocalStorageCache;
        }
        // hasLocalStorage is used to safely ensure we can use localStorage
        // taken from https://developer.mozilla.org/en-US/docs/Web/API/Web_Storage_API/Using_the_Web_Storage_API#Feature-detecting_localStorage
        var storage = window['localStorage'];
        try {
            var x = '__storage_test__';
            storage.setItem(x, x);
            storage.removeItem(x);
            hasLocalStorageCache = true;
        }
        catch (e) {
            hasLocalStorageCache = e instanceof DOMException && (
            // everything except Firefox
            e.code === 22 ||
                // Firefox
                e.code === 1014 ||
                // test name field too, because code might not be present
                // everything except Firefox
                e.name === 'QuotaExceededError' ||
                // Firefox
                e.name === 'NS_ERROR_DOM_QUOTA_REACHED') &&
                // acknowledge QuotaExceededError only if there's something already stored
                storage.length !== 0;
        }
        return hasLocalStorageCache;
    }
    StorageUtils.hasLocalStorage = hasLocalStorage;
    /**
     * Stores a string item into localStorage.
     * @param key the item's key
     * @param data the item's data
     */
    function setItem(key, data) {
        if (StorageUtils.hasLocalStorage()) {
            window.localStorage.setItem(key, data);
        }
    }
    StorageUtils.setItem = setItem;
    /**
     * Gets an item's string value from the localStorage.
     * @param key the key to look up its associated value
     * @return {string | null} Returns the string if found, null if there is no data stored for the key
     */
    function getItem(key) {
        if (StorageUtils.hasLocalStorage()) {
            return window.localStorage.getItem(key);
        }
        else {
            return null;
        }
    }
    StorageUtils.getItem = getItem;
    /**
     * Stores an object into localStorage. The object will be serialized to JSON. The following types are supported
     * in addition to the default types:
     *  - ColorUtils.Color
     *
     * @param key the key to store the data to
     * @param data the object to store
     */
    function setObject(key, data) {
        if (StorageUtils.hasLocalStorage()) {
            var json = JSON.stringify(data);
            setItem(key, json);
        }
    }
    StorageUtils.setObject = setObject;
    /**
     * Gets an object for the given key from localStorage. The object will be deserialized from JSON. Beside the
     * default types, the following types are supported:
     *  - ColorUtils.Color
     *
     * @param key the key to look up its associated object
     * @return {any} Returns the object if found, null otherwise
     */
    function getObject(key) {
        if (StorageUtils.hasLocalStorage()) {
            var json = getItem(key);
            if (key) {
                var object = JSON.parse(json);
                return object;
            }
        }
        return null;
    }
    StorageUtils.getObject = getObject;
})(StorageUtils = exports.StorageUtils || (exports.StorageUtils = {}));


/***/ }),
/* 47 */
/***/ (function(module, exports) {

/*! Hive Stats Pack build 3.2.0 Copyright(c) 2015 HiveStreaming AB, All rights reserved.
 * Authors: mikael.hogqvist@hivestreaming.com - riccardo.reale@hivestreaming.com - roberto.roverso@hivestreaming.com */
/*! AtatusJs - v2.3.12 - 2016-07-03
 * Copyright (c) 2016 Atatus */
!function(a){function b(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function c(a){return"undefined"==typeof a}if(a){var d={},e=a.TraceKit,f=[].slice,g="?";d.noConflict=function(){return a.TraceKit=e,d},d.wrap=function(a){function b(){try{return a.apply(this,arguments)}catch(b){throw d.report(b),b}}return b},d.report=function(){function c(a){i(),m.push(a)}function e(a){for(var b=m.length-1;b>=0;--b)m[b]===a&&m.splice(b,1)}function g(a,c){var e=null;if(!c||d.collectWindowErrors){for(var g in m)if(b(m,g))try{m[g].apply(null,[a].concat(f.call(arguments,2)))}catch(h){e=h}if(e)throw e}}function h(a,b,c,e,f){var h=null;if(f)h=d.computeStackTrace(f);else if(o)d.computeStackTrace.augmentStackTraceWithInitialElement(o,b,c,a),h=o,o=null,n=null;else{var i={url:b,line:c,column:e};i.func=d.computeStackTrace.guessFunctionName(i.url,i.line),i.context=d.computeStackTrace.gatherContext(i.url,i.line),h={mode:"onerror",message:a,url:document.location.href,stack:[i],useragent:navigator.userAgent}}return g(h,"from window.onerror"),k?k.apply(this,arguments):!1}function i(){l!==!0&&(k=a.onerror,a.onerror=h,l=!0)}function j(b){var c=f.call(arguments,1);if(o){if(n===b)return;var e=o;o=null,n=null,g.apply(null,[e,null].concat(c))}var h=d.computeStackTrace(b);throw o=h,n=b,a.setTimeout(function(){n===b&&(o=null,n=null,g.apply(null,[h,null].concat(c)))},h.incomplete?2e3:0),b}var k,l,m=[],n=null,o=null;return j.subscribe=c,j.unsubscribe=e,j}(),d.computeStackTrace=function(){function e(b){if(!d.remoteFetching)return"";try{var c=function(){try{return new a.XMLHttpRequest}catch(b){return new a.ActiveXObject("Microsoft.XMLHTTP")}},e=c();return e.open("GET",b,!1),e.send(""),e.responseText}catch(f){return""}}function f(a){if("string"!=typeof a)return[];if(!b(w,a)){var c="",d="";try{d=document.domain}catch(f){}-1!==a.indexOf(d)&&(c=e(a)),w[a]=c?c.split("\n"):[]}return w[a]}function h(a,b){var d,e=/function ([^(]*)\(([^)]*)\)/,h=/['"]?([0-9A-Za-z$_]+)['"]?\s*[:=]\s*(function|eval|new Function)/,i="",j=10,k=f(a);if(!k.length)return g;for(var l=0;j>l;++l)if(i=k[b-l]+i,!c(i)){if(d=h.exec(i))return d[1];if(d=e.exec(i))return d[1]}return g}function i(a,b){var e=f(a);if(!e.length)return null;var g=[],h=Math.floor(d.linesOfContext/2),i=h+d.linesOfContext%2,j=Math.max(0,b-h-1),k=Math.min(e.length,b+i-1);b-=1;for(var l=j;k>l;++l)c(e[l])||g.push(e[l]);return g.length>0?g:null}function j(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#]/g,"\\$&")}function k(a){return j(a).replace("<","(?:<|&lt;)").replace(">","(?:>|&gt;)").replace("&","(?:&|&amp;)").replace('"','(?:"|&quot;)').replace(/\s+/g,"\\s+")}function l(a,b){for(var c,d,e=0,g=b.length;g>e;++e)if((c=f(b[e])).length&&(c=c.join("\n"),d=a.exec(c)))return{url:b[e],line:c.substring(0,d.index).split("\n").length,column:d.index-c.lastIndexOf("\n",d.index)-1};return null}function m(a,b,c){var d,e=f(b),g=new RegExp("\\b"+j(a)+"\\b");return c-=1,e&&e.length>c&&(d=g.exec(e[c]))?d.index:null}function n(b){for(var c,d,e,f,g=[a.location.href],h=document.getElementsByTagName("script"),i=""+b,m=/^function(?:\s+([\w$]+))?\s*\(([\w\s,]*)\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/,n=/^function on([\w$]+)\s*\(event\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/,o=0;o<h.length;++o){var p=h[o];p.src&&g.push(p.src)}if(e=m.exec(i)){var q=e[1]?"\\s+"+e[1]:"",r=e[2].split(",").join("\\s*,\\s*");c=j(e[3]).replace(/;$/,";?"),d=new RegExp("function"+q+"\\s*\\(\\s*"+r+"\\s*\\)\\s*{\\s*"+c+"\\s*}")}else d=new RegExp(j(i).replace(/\s+/g,"\\s+"));if(f=l(d,g))return f;if(e=n.exec(i)){var s=e[1];if(c=k(e[2]),d=new RegExp("on"+s+"=[\\'\"]\\s*"+c+"\\s*[\\'\"]","i"),f=l(d,g[0]))return f;if(d=new RegExp(c),f=l(d,g))return f}return null}function o(a){if(!a.stack)return null;for(var b,d,e=/^\s*at (.*?) ?\(?((?:file|https?|chrome-extension):.*?):(\d+)(?::(\d+))?\)?\s*$/i,f=/^\s*(.*?)(?:\((.*?)\))?@?((?:file|https?|chrome):.*?):(\d+)(?::(\d+))?\s*$/i,j=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:ms-appx|http|https):.*?):(\d+)(?::(\d+))?\)?\s*$/i,k=a.stack.split("\n"),l=[],n=/^(.*) is undefined$/.exec(a.message),o=0,p=k.length;p>o;++o){if(b=f.exec(k[o]))d={url:b[3],func:b[1]||g,args:b[2]?b[2].split(","):"",line:+b[4],column:b[5]?+b[5]:null};else if(b=e.exec(k[o]))d={url:b[2],func:b[1]||g,line:+b[3],column:b[4]?+b[4]:null};else{if(!(b=j.exec(k[o])))continue;d={url:b[2],func:b[1]||g,line:+b[3],column:b[4]?+b[4]:null}}!d.func&&d.line&&(d.func=h(d.url,d.line)),d.line&&(d.context=i(d.url,d.line)),l.push(d)}return l.length?(l[0]&&l[0].line&&!l[0].column&&n?l[0].column=m(n[1],l[0].url,l[0].line):l[0].column||c(a.columnNumber)||(l[0].column=a.columnNumber+1),{mode:"stack",name:a.name,message:a.message,url:document.location.href,stack:l,useragent:navigator.userAgent}):null}function p(a){for(var b,c=a.stacktrace,d=/ line (\d+), column (\d+) in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\) in (.*):\s*$/i,e=c.split("\n"),f=[],g=0,j=e.length;j>g;g+=2)if(b=d.exec(e[g])){var k={line:+b[1],column:+b[2],func:b[3]||b[4],args:b[5]?b[5].split(","):[],url:b[6]};if(!k.func&&k.line&&(k.func=h(k.url,k.line)),k.line)try{k.context=i(k.url,k.line)}catch(l){}k.context||(k.context=[e[g+1]]),f.push(k)}return f.length?{mode:"stacktrace",name:a.name,message:a.message,url:document.location.href,stack:f,useragent:navigator.userAgent}:null}function q(c){var d=c.message.split("\n");if(d.length<4)return null;var e,g,j,m,n=/^\s*Line (\d+) of linked script ((?:file|https?)\S+)(?:: in function (\S+))?\s*$/i,o=/^\s*Line (\d+) of inline#(\d+) script in ((?:file|https?)\S+)(?:: in function (\S+))?\s*$/i,p=/^\s*Line (\d+) of function script\s*$/i,q=[],r=document.getElementsByTagName("script"),s=[];for(g in r)b(r,g)&&!r[g].src&&s.push(r[g]);for(g=2,j=d.length;j>g;g+=2){var t=null;if(e=n.exec(d[g]))t={url:e[2],func:e[3],line:+e[1]};else if(e=o.exec(d[g])){t={url:e[3],func:e[4]};var u=+e[1],v=s[e[2]-1];if(v&&(m=f(t.url))){m=m.join("\n");var w=m.indexOf(v.innerText);w>=0&&(t.line=u+m.substring(0,w).split("\n").length)}}else if(e=p.exec(d[g])){var x=a.location.href.replace(/#.*$/,""),y=e[1],z=new RegExp(k(d[g+1]));m=l(z,[x]),t={url:x,line:m?m.line:y,func:""}}if(t){t.func||(t.func=h(t.url,t.line));var A=i(t.url,t.line),B=A?A[Math.floor(A.length/2)]:null;t.context=A&&B.replace(/^\s*/,"")===d[g+1].replace(/^\s*/,"")?A:[d[g+1]],q.push(t)}}return q.length?{mode:"multiline",name:c.name,message:d[0],url:document.location.href,stack:q,useragent:navigator.userAgent}:null}function r(a,b,c,d){var e={url:b,line:c};if(e.url&&e.line){a.incomplete=!1,e.func||(e.func=h(e.url,e.line)),e.context||(e.context=i(e.url,e.line));var f=/ '([^']+)' /.exec(d);if(f&&(e.column=m(f[1],e.url,e.line)),a.stack.length>0&&a.stack[0].url===e.url){if(a.stack[0].line===e.line)return!1;if(!a.stack[0].line&&a.stack[0].func===e.func)return a.stack[0].line=e.line,a.stack[0].context=e.context,!1}return a.stack.unshift(e),a.partial=!0,!0}return a.incomplete=!0,!1}function s(a,b){for(var c,e,f,i=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,j=[],k={},l=!1,o=s.caller;o&&!l;o=o.caller)if(o!==t&&o!==d.report){if(e={url:null,func:g,line:null,column:null},o.name?e.func=o.name:(c=i.exec(o.toString()))&&(e.func=c[1]),"undefined"==typeof e.func)try{e.func=c.input.substring(0,c.input.indexOf("{"))}catch(p){}if(f=n(o)){e.url=f.url,e.line=f.line,e.func===g&&(e.func=h(e.url,e.line));var q=/ '([^']+)' /.exec(a.message||a.description);q&&(e.column=m(q[1],f.url,f.line))}k[""+o]?l=!0:k[""+o]=!0,j.push(e)}b&&j.splice(0,b);var u={mode:"callers",name:a.name,message:a.message,url:document.location.href,stack:j,useragent:navigator.userAgent};return r(u,a.sourceURL||a.fileName,a.line||a.lineNumber,a.message||a.description),u}function t(a,b){var c=null;b=null==b?0:+b;try{if(c=p(a))return c}catch(d){if(v)throw d}try{if(c=o(a))return c}catch(d){if(v)throw d}try{if(c=q(a))return c}catch(d){if(v)throw d}try{if(c=s(a,b+1))return c}catch(d){if(v)throw d}return{mode:"failed"}}function u(a){a=(null==a?0:+a)+1;try{throw new Error}catch(b){return t(b,a+1)}}var v=!1,w={};return t.augmentStackTraceWithInitialElement=r,t.guessFunctionName=h,t.gatherContext=i,t.ofCaller=u,t.getSource=f,t}(),d.extendToAsynchronousCallbacks=function(){var b=function(b){var c=a[b];a[b]=function(){var a=f.call(arguments),b=a[0];return"function"==typeof b&&(a[0]=d.wrap(b)),c.apply?c.apply(this,a):c(a[0],a[1])}};b("setTimeout"),b("setInterval")},d.remoteFetching||(d.remoteFetching=!0),d.collectWindowErrors||(d.collectWindowErrors=!0),(!d.linesOfContext||d.linesOfContext<1)&&(d.linesOfContext=11),a.TraceKit=d}}("undefined"!=typeof window?window:global),function(a,b){"use strict";if(a){var c=a.event.add;a.event.add=function(d,e,f,g,h){if("function"!=typeof f&&"function"!=typeof f.handler)return c.call(this,d,e,f,g,h);var i;return f.handler?(i=f.handler,f.handler=b.wrap(f.handler)):(i=f,f=b.wrap(f)),f.guid=i.guid?i.guid:i.guid=a.guid++,c.call(this,d,e,f,g,h)};var d=a.fn.ready;a.fn.ready=function(a){return d.call(this,b.wrap(a))};var e=a.ajax;a.ajax=function(c,d){"object"==typeof c&&(d=c,c=void 0),d=d||{};for(var f,g=["complete","error","success"];f=g.pop();)a.isFunction(d[f])&&(d[f]=b.wrap(d[f]));try{return c?e.call(this,c,d):e.call(this,d)}catch(h){throw b.report(h),h}}}}(window.jQuery,window.TraceKit),function(a,b,c,d){function e(a){var b=a,c=a.split("//")[1];if(c){var d=c.indexOf("?"),e=c.toString().substring(0,d),f=e.split("/").slice(0,4).join("/"),g=e.substring(0,48);b=f.length<g.length?f:g,b!==e&&(b+="..")}return b}function f(a,b,c,f){if(K&&(L||b.getAllResponseHeaders())){var g="AJAX Error: "+(b.statusText||"unknown")+" "+(c.type||"unknown")+" "+(e(c.url)||"unknown");V.send(f||a.type,{status:b.status,statusText:b.statusText,type:c.type,url:c.url,ajaxErrorMessage:g,contentType:c.contentType,requestData:c.data&&c.data.slice?c.data.slice(0,10240):d,responseData:b.responseText&&b.responseText.slice?b.responseText.slice(0,10240):d,activeTarget:a.target&&a.target.activeElement?a.target.activeElement.outerHTML:d})}}function g(){return o&&""!==o?!0:(R.log("Atatus API key has not been configured, make sure you call atatus.config(yourApiKey)"),!1)}function h(){var c=b.documentElement,d=b.getElementsByTagName("body")[0],e=a.innerWidth||c.clientWidth||d.clientWidth,f=a.innerHeight||c.clientHeight||d.clientHeight;return{width:e,height:f}}function i(a){var b=(new Date).toJSON();try{var c="atatusjs="+b+"="+R.getRandomInt();"undefined"==typeof localStorage[c]&&(localStorage[c]=a)}catch(d){R.log("Atatus: LocalStorage full, cannot save exception")}}function j(){try{return"localStorage"in a&&null!==a.localStorage}catch(b){return!1}}function k(){if(j()&&localStorage.length>0)for(var a in localStorage)if("atatusjs="===a.substring(0,9)){try{var b=JSON.parse(localStorage[a]);"apikey"in b&&m(N,b)}catch(c){R.log("Atatus: Invalid JSON object in LocalStorage")}localStorage.removeItem(a)}}function l(a,c){if(c=c||{},!a.stack||!a.stack.length)return void R.log("Atatus: Canceling send due to no stacktrace.");R.isEmpty(c.customData)&&(c.customData="function"==typeof p?p():p),R.isEmpty(c.tags)&&(c.tags=E);var d=c.customData&&c.customData.ajaxErrorMessage||a.message;if(d&&0===d.indexOf("Uncaught ")&&(d=a.message.substring(9)),d=d||c.status||"Script error.",w&&w.test(d))return void R.log("Atatus: canceling send due to ignore errors");var e=[];a.stack&&a.stack.length&&R.forEach(a.stack,function(a,b){R.endsWith(b.url,"/atatus.js")||e.push({ln:b.line||0,cn:b.column||0,f:b.url||"anonymous",m:b.func||"[anonymous]"})});var f=[a.name,d,JSON.stringify(e)].join("|");if(f===x)return void R.log("Atatus: canceling send due to duplicate errors");x=f;var g=c.customData;try{JSON.stringify(g)}catch(h){var i="Cannot add custom data; may contain circular reference";g={error:i},R.log("Atatus: "+i)}var j=U.getAllEvents();S.clear();var k={"class":a.name,name:d,backTraces:e,userActions:j,net:null,customData:g||null,tags:c.tags,sourcemap:J,request:{url:b.location.href,ua:navigator.userAgent}};if("function"==typeof y&&(k.groupingKey=y(k)),"function"==typeof z){var l=z(k);l&&m(N,k)}else m(N,k)}function m(c,d){if(G&&G.length&&-1===G.indexOf(location.host))return void R.log("Atatus: canceling send due to not a allowed domain");if(g()){if(!d.ts){var e=a.screen||h();d.ts=(new Date).getTime(),d.apikey=o,d.request=d.request||{},d.request.url=d.request.url||b.location.href,d.request.ua=d.request.ua||navigator.userAgent,d.request.w=e.width,d.request.h=e.height,d.v=r||"",d._v=B||""}q&&(d.cid=q.userId||null),R.log("Sending data to Atatus Receiver:",d),n(c,JSON.stringify(d))}}function n(a,b){var c=new Image,d=M+a+"?data="+encodeURIComponent(b);c.crossOrigin="anonymous",c.onload=function(){k()},c.onerror=c.onabort=function(){I&&a===N&&i(b)},c.src=d}var o,p,q,r,s,t,u,v,w,x,y,z,A,B="2.3.12",C=TraceKit.noConflict(),D=a.atatus,E=[],F=!1,G=[],H=!1,I=!1,J=!1,K=!1,L=!1,M="https://br-rx.atatus.com",N="/track/browser/errors",O="/track/browser/perf",P="/track/browser/perf/ajax",Q="/track/browser/perf/txn";c&&(A=c(b));var R={isBoolean:function(a){return"undefined"!=typeof a&&"boolean"==typeof a},isString:function(a){return"string"==typeof a},isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)},endsWith:function(a,b){return a&&b?-1!==a.indexOf(b,a.length-b.length):!1},joinRegExp:function(a){for(var b,c=[],d=0,e=a.length;e>d;d++)b=a[d],R.isString(b)?c.push(b.replace(/([.*+?\^=!:${}()|\[\]\/\\])/g,"\\$1")):b&&b.source&&c.push(b.source);return new RegExp(c.join("|"),"i")},getTargetUrl:function(b){return a.XDomainRequest&&H&&(b=b.slice(6)),b},now:function(){return(new Date).getTime()},pad:function(a){return a=String(a),1===a.length&&(a="0"+a),a},merge:function(a,b){var c,d={};for(c in a)d[c]=a[c];for(c in b)d[c]=b[c];return d},mergeArray:function(a,b){return null!=b?a.concat(b):a},forEach:function(a,b){for(var c=0;c<a.length;c++)b.call(null,c,a[c])},isEmpty:function(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0},getRandomInt:function(){return Math.floor(9007199254740992*Math.random())},log:function(b,c){F&&a.console&&a.console.log&&(a.console.log(b),c&&a.console.log(c))},bind:function(a,b){return function(){return a.apply(b,Array.prototype.slice.call(arguments))}},canAllowInsecureSubmissions:function(){var b=a.navigator.userAgent,c=b.match(/Trident\/([\d.]+)/),d=c&&"7.0"===c[1]?11:(b=b.match(/MSIE ([\d.]+)/))?parseInt(b[1],10):!1;return d&&9>=d},uuid4:function(){return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0,c="x"===a?b:3&b|8;return c.toString(16)})},addEventListener:function(b,c,d){return"undefined"!=typeof a.attachEvent?a.attachEvent("on"+b,c):a.addEventListener?a.addEventListener(b,c,d):void 0},arrayFromObject:function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(a[c]);return b}},S={eventObject:{},all:function(a){for(var b=this.getEventObject(a),c=[],d=0;d<b.length;d++)c.push(b[d].value);return c},clear:function(){for(var a in this.eventObject)this.eventObject.hasOwnProperty(a)&&(this.eventObject[a].length=0)},add:function(a,b){var c=this.getEventObject(a),d=R.uuid4();return c.push({key:d,value:b}),this.truncateEventObject(a,10),d},get:function(a,b){for(var c=this.getEventObject(a),d=0;d<c.length;d++)if(c[d].key===b)return c[d].value;return!1},getEventObject:function(a){return this.eventObject[a]||(this.eventObject[a]=[]),this.eventObject[a]},truncateEventObject:function(a,b){var c=this.getEventObject(a);c.length>b&&(this.eventObject[a]=c.slice(c.length-b))}},T={attach:function(b,c,d,e,f){b=b||a.console||{};for(var g=f||["log","debug","info","warn","error"],h=g.pop(),i=function(a,b,d){c&&S.add("user",{ts:R.now(),c:"console",l:a,m:b}),"error"===a&&e&&V.notify(new Error(b),d)};h;)this.wrapConsoleMethod(b,h,d,i),h=g.pop()},wrapConsoleMethod:function(a,b,c,d){var e=a[b],f=a;b in a&&(a[b]=function(){var a=[].slice.call(arguments),g=""+a.join(" "),h={level:b,logger:"console"};d&&d(b,g,h),e&&c&&Function.prototype.apply.call(e,f,a)})}},U={attach:function(){var a=R.bind(this.onDocumentClicked,this),c=R.bind(this.onInputChanged,this);b.addEventListener?(b.addEventListener("click",a,!0),b.addEventListener("blur",c,!0)):b.attachEvent&&(b.attachEvent("onclick",a),b.attachEvent("onfocusout",c))},writeUserEvent:function(a,b,c,d){"password"===this.getElementType(a)&&(c=void 0),S.add("user",{ts:R.now(),a:b,e:this.getOuterHTML(a),v:this.getValueKind(c,d)})},onDocumentClicked:function(a){var b=this.getElementFromEvent(a);b&&b.tagName&&(this.isTarget(b,"a")||this.isTarget(b,"button")||this.isTarget(b,"input",["button","submit"])?this.writeUserEvent(b,"click"):this.isTarget(b,"input",["checkbox","radio"])&&this.writeUserEvent(b,"check",b.value,b.checked))},onInputChanged:function(a){var b=this.getElementFromEvent(a);b&&b.tagName&&(this.isTarget(b,"textarea")?this.writeUserEvent(b,"input",b.value):this.isTarget(b,"select")&&b.options&&b.options.length?this.onSelectInputChanged(b):this.isTarget(b,"input")&&!this.isTarget(b,"input",["button","submit","hidden","checkbox","radio"])&&this.writeUserEvent(b,"input",b.value))},onSelectInputChanged:function(a){if(a.multiple){for(var b=0;b<a.options.length;b++)if(a.options[b].selected){this.writeUserEvent(a,"select",a.options[b].value);break}}else 0<=a.selectedIndex&&a.options[a.selectedIndex]&&this.writeUserEvent(a,"select",a.options[a.selectedIndex].value)},getElementFromEvent:function(a){return a.target||b.elementFromPoint(a.clientX,a.clientY)},isTarget:function(a,b,c){if(a.tagName.toLowerCase()!==b.toLowerCase())return!1;if(!c)return!0;for(var d=this.getElementType(a),e=0;e<c.length;e++)if(c[e]===d)return!0;return!1},getElementType:function(a){return(a.getAttribute("type")||"").toLowerCase()},getOuterHTML:function(a){for(var b="<"+a.tagName.toLowerCase(),c=a.attributes,d=0,e=c.length;e>d;d++){var f=c[d].name;"value"!==f.toLowerCase()&&(b+=" "+f+'="'+c[d].value+'"')}return b+=" >"},getValueKind:function(a,b){return null==a?null:{length:a.length,checked:b,pattern:this.matchInputPattern(a)}},matchInputPattern:function(a){return""===a?"empty":/^[a-z0-9!#$%&'*+=?\^_`{|}~\-]+(?:\.[a-z0-9!#$%&'*+=?\^_`{|}~\-]+)*@(?:[a-z0-9](?:[a-z0-9\-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9\-]*[a-z0-9])?$/.test(a)?"email":/^(0?[1-9]|[12][0-9]|3[01])[\/\-](0?[1-9]|1[012])[\/\-]\d{4}$/.test(a)||/^(\d{4}[\/\-](0?[1-9]|1[012])[\/\-]0?[1-9]|[12][0-9]|3[01])$/.test(a)?"date":/^(?:(?:\+?1\s*(?:[.\-]\s*)?)?(?:\(\s*([2-9]1[02-9]|[2-9][02-8]1|[2-9][02-8][02-9])\s*\)|([2-9]1[02-9]|[2-9][02-8]1|[2-9][02-8][02-9]))\s*(?:[.\-]\s*)?)?([2-9]1[02-9]|[2-9][02-9]1|[2-9][02-9]{2})\s*(?:[.\-]\s*)?([0-9]{4})(?:\s*(?:#|x\.?|ext\.?|extension)\s*(\d+))?$/.test(a)?"phone":/^\s*$/.test(a)?"whitespace":/^\d*$/.test(a)?"numeric":"character"},getAllEvents:function(){return S.all("user")}},V={noConflict:function(){return a.atatus=D,V},isConfigured:function(){return!!o},config:function(b,c){return c=c||{},o=b,C.remoteFetching=!1,w=[],c&&(p=c.customData,E=c.tags||[],J=!(!c.enableSourcemap&&!c.sourcemap),s=!!c.disableUserActions,t=!!c.disableAjaxMonitoring,u=!!c.disableRUM,F=!!c.debugMode,c.ignoreErrors&&R.isArray(c.ignoreErrors)&&(w=c.ignoreErrors),V.setAllowedDomains(c.allowedDomains),V.setVersion(c.version),V.enableOffline(c.enableOffline||c.offline),V.onBeforeErrorSend(c.beforeErrorSend),V.setGroupingKeyCallback(c.groupingKeyCallback)),H=R.canAllowInsecureSubmissions(),w.push(/^Script error\.?$/),w.push(/^Javascript error: Script error\.? on line 0$/),w=R.joinRegExp(w),k(),v={enabled:!0,timeline:!0,display:!0,error:!0,levels:null},R.isBoolean(c.console)&&(v.enabled=c.console),R.isBoolean(c.consoleTimeline)&&(v.timeline=c.consoleTimeline),R.isBoolean(c.consoleDisplay)&&(v.display=c.consoleDisplay),R.isBoolean(c.consoleErrorNotify)&&(v.error=c.consoleErrorNotify),R.isArray(c.consoleTimelineLevels)&&(v.levels=c.consoleTimelineLevels),v.enabled&&"console"in a&&a.console.log&&T.attach(a.console,v.timeline,v.display,v.error,v.levels),s||U.attach(),t||u||V.__attachAjaxHooks(),V},install:function(){return g()?(C.report.subscribe(l),C.extendToAsynchronousCallbacks(),A&&K&&A.ajaxError(f),V):void 0},uninstall:function(){return o=null,C.report.unsubscribe(l),A&&K&&A.unbind("ajaxError",f),V},setCustomData:function(a){return p=a,V},setTags:function(a){return E=a,V},setAllowedDomains:function(a){return a&&R.isArray(a)&&(G=a),V},getAllowedDomains:function(){return G},setUser:function(a,b,c,d){return q={},a&&(q.userId=""+a),b&&(q.email=""+b),c&&(q.firstName=""+c),d&&(q.lastName=""+d),V},setVersion:function(a){return a&&(r=""+a),V},enableOffline:function(a){return R.isBoolean(a)&&(I=a),V},onBeforeErrorSend:function(a){return"function"==typeof a&&(z=a),V},setGroupingKeyCallback:function(a){return"function"==typeof a&&(y=a),V},setAPIEndpoint:function(a){return M=a,V},init:function(a,b,c){return c&&(b=b||{},b.customData=c),V.config(a,b)},withCustomData:function(a){return V.setCustomData(a)},withTags:function(a){return V.setTags(a)},attach:function(){return V.install()},detach:function(){return V.uninstall()},notify:function(a,b,c){return V.send(a,b,c)},sendPerf:function(a){return u?void R.log("RUM is disabled. Please enable it in the config options."):m(O,a)},sendAjaxPerf:function(a){return u?void R.log("RUM is disabled. Please enable it in the config options."):m(P,a)},sendTxnPerf:function(a){return m(Q,a)},send:function(a,b,c){try{l(C.computeStackTrace(a),{customData:R.merge(p,b),tags:R.mergeArray(E,c)})}catch(d){if(a!==d)throw d}return V},_helper:R};a.atatus=V}(window,document,window.jQuery),function(a,b,c){function d(a){a.pl<=0||atatus.sendPerf(a)}function e(){var b=a.performance||a.mozPerformance||a.msPerformance||a.webkitPerformance,c=b.timing,e=b.navigation;if(0===c.loadEventEnd)return!1;clearInterval(i),i=null;var f=c.navigationStart;0>=f&&(f=c.fetchStart);var g={};for(var h in j)g[j[h]]=-1,h in c&&(c[h]<=0||(g[j[h]]=c[h]-f));var k={nty:e.type,rc:e.redirectCount,nt:g.rps-g.ns,dp:g.dce-g.rps,pr:g.le-g.dce,fe:g.le-g.rps,pl:g.le-g.ns};d(k)}function f(){if(!h||!h.bDone)return!1;clearInterval(i),i=!1;var a=h.getMeasures();if(null!=a&&null!=a.backend&&null!=a.frontend&&null!=a["page load time"]&&null!=a["total load time"]){var b=a.backend,c=a.backend+a.frontend,e={nty:0,rc:0,nt:b,dp:c-b,pr:a["total load time"]-c,fe:a["total load time"]-b,pl:a["total load time"]};d(e)}}var g=(new Date).getTime(),h=h||{};h.q=h.q||[],h.version="0.3",h.targetOrigin=b.location.protocol+"//"+b.location.hostname,h.bPostMessage=!1,h.beaconUrl=h.beaconUrl||"/images/beacon.gif",h.autorun=!1,h.init=function(){if(h.bDone=!1,h.bUnloaded=!1,h.marks={},h.measures={},h.starts={},h.findStartTime(),h.addEventListener("beforeunload",h.beforeUnload,!1),h.addEventListener("pagehide",h.beforeUnload,!1),h.addEventListener("unload",h.beforeUnload,!1),h.processQ(),"complete"===b.readyState){var c=a.performance||a.mozPerformance||a.msPerformance||a.webkitPerformance;c&&"undefined"!=typeof c.timing&&"undefined"!=typeof c.timing.loadEventEnd&&(h.mark("firstbyte",c.timing.responseStart),h.mark("onload",c.timing.loadEventEnd)),h.done()}else h.addEventListener("load",h.onload,!1)},h.processQ=function(){for(var a=h.q.length,b=0;a>b;b++){var c=h.q[b],d=c[0];"mark"===d?h.mark(c[1],c[2]):"measure"===d?h.measure(c[1],c[2],c[3]):"done"===d&&h.done(c[1])}},h.mark=function(b,c){return h.dprint("RUM_EPISODES.mark: "+b+", "+c),b?(h.marks[b]=parseInt(c||(new Date).getTime()),h.bPostMessage&&a.postMessage("RUM_EPISODES:mark:"+b+":"+c,h.targetOrigin),void("firstbyte"===b?h.measure("backend","starttime","firstbyte"):"onload"===b?(h.measure("frontend","firstbyte","onload"),h.measure("page load time","starttime","onload")):"done"===b&&h.measure("total load time","starttime","done"))):void h.dprint("Error: markName is undefined in RUM_EPISODES.mark.")},h.measure=function(b,c,d){if(h.dprint("RUM_EPISODES.measure: "+b+", "+c+", "+d),!b)return void h.dprint("Error: episodeName is undefined in RUM_EPISODES.measure.");var e;if("undefined"==typeof c)e="number"==typeof h.marks[b]?h.marks[b]:(new Date).getTime();else if("number"==typeof h.marks[c])e=h.marks[c];else{if("number"!=typeof c)return void h.dprint("Error: unexpected startNameOrTime in RUM_EPISODES.measure: "+c);e=c}var f;if("undefined"==typeof d)f=(new Date).getTime();else if("number"==typeof h.marks[d])f=h.marks[d];else{if("number"!=typeof d)return void h.dprint("Error: unexpected endNameOrTime in RUM_EPISODES.measure: "+d);f=d}h.starts[b]=parseInt(e),h.measures[b]=parseInt(f-e),h.bPostMessage&&a.postMessage("RUM_EPISODES:measure:"+b+":"+e+":"+f,h.targetOrigin)},h.done=function(b){h.bDone=!0,h.mark("done"),h.bPostMessage&&a.postMessage("RUM_EPISODES:done",h.targetOrigin),"function"==typeof b&&b()},h.getMarks=function(){return h.marks},h.getMeasures=function(){return h.measures},h.getStarts=function(){return h.starts},h.findStartTime=function(){var a=h.findStartWebTiming()||h.findStartCookie();a&&h.mark("starttime",a)},h.findStartWebTiming=function(){var b,c=a.performance||a.mozPerformance||a.msPerformance||a.webkitPerformance;return c&&"undefined"!=typeof c.timing&&"undefined"!=typeof c.timing.navigationStart&&(b=c.timing.navigationStart,h.dprint("RUM_EPISODES.findStartWebTiming: startTime = "+b)),b},h.findStartCookie=function(){for(var d=b.cookie.split(" "),e=0;e<d.length;e++)if(0===d[e].indexOf("RUM_EPISODES=")){for(var f,g,i=d[e].substring("RUM_EPISODES=".length).split("&"),j=0;j<i.length;j++)if(0===i[j].indexOf("s="))f=i[j].substring(2);else if(0===i[j].indexOf("r=")){var k=i[j].substring(2);k=k.replace(/;$/,""),g=a.escape(b.referrer)===k}if(g&&f)return h.dprint("RUM_EPISODES.findStartCookie: startTime = "+f),f}return c},h.beforeUnload=function(){h.bUnloaded||(b.cookie="RUM_EPISODES=s="+Number(new Date)+"&r="+a.escape(b.location)+"; path=/",h.bUnloaded=!0)},h.onload=function(){h.mark("onload"),h.done()},h.addEventListener=function(b,c,d){return"undefined"!=typeof a.attachEvent?a.attachEvent("on"+b,c):a.addEventListener?a.addEventListener(b,c,d):void 0},h.dprint=function(){},h.init();var i=null,j={navigationStart:"ns",redirectStart:"rds",redirectEnd:"rde",unloadEventStart:"us",unloadEventEnd:"ue",fetchStart:"fs",domainLookupStart:"dls",domainLookupEnd:"dle",connectStart:"cs",secureConnectionStart:"scs",connectEnd:"ce",handshakeStart:"hs",requestStart:"rqs",responseStart:"rps",responseEnd:"rpe",domLoading:"dl",domInteractive:"di",domContentLoadedEventStart:"dcs",domContentLoadedEventEnd:"dce",domComplete:"dc",loadEventStart:"ls",loadEventEnd:"le"},k=a.performance||a.mozPerformance||a.msPerformance||a.webkitPerformance;k&&"undefined"!=typeof k.timing&&"undefined"!=typeof k.navigation?i=setInterval(e,100):(h.mark("firstbyte",g),i=setInterval(f,100))}(window,document),atatus.__attachAjaxHooks=function(){!function(a,b){var c=atatus._helper,d={queue:[],batchSize:25,processing:!1,bUnloaded:!1,push:function(a){"string"==typeof a.url&&a.url.indexOf(".html")>0||(this.queue.push(a),this.queue.length>=this.batchSize&&this._processQueue())},_processQueue:function(){if(!this.processing&&this.queue.length){this.processing=!0;try{for(var a={},b={},d=0;d<this.queue.length;d++){var e,f=this.queue[d];if(f.status<400){e=f.method+f.url;var g=f.respAvailTime-f.sendTime,h=f.respProcTime-f.respAvailTime,i=f.receivedSize,j=f.sendSize,k=a[e];if(k){k.c++;var l=k.re;l.t=l.t+g,l.lo=l.lo<g?l.lo:g,l.hi=l.hi>g?l.hi:g,l.ssq=l.ssq+g*g;var m=k.cb;m.t=m.t+h,m.lo=m.lo<h?m.lo:h,m.hi=m.hi>h?m.hi:h,m.ssq=m.ssq+h*h;var n=k.rs;n.t=n.t+i,n.lo=n.lo<i?n.lo:i,n.hi=n.hi>i?n.hi:i,n.ssq=n.ssq+i*i;var o=k.ss;o.t=o.t+j,o.lo=o.lo<j?o.lo:j,o.hi=o.hi>j?o.hi:j,o.ssq=o.ssq+j*j}else a[e]={m:f.method,url:f.url,c:1,re:{t:g,lo:g,hi:g,ssq:g*g},cb:{t:h,lo:h,hi:h,ssq:h*h},rs:{t:f.receivedSize,lo:f.receivedSize,hi:f.receivedSize,ssq:f.receivedSize*f.receivedSize},ss:{t:f.sendSize,lo:f.sendSize,hi:f.sendSize,ssq:f.sendSize*f.sendSize}}}else e=f.method+f.status+f.url,b[e]?b[e].c++:b[e]={m:f.method,url:f.url,st:f.status,c:1}}var p={xhr:c.arrayFromObject(a),xhrError:c.arrayFromObject(b)};atatus.sendAjaxPerf(p)}catch(q){c.log("Error while processing queue: ",q)}finally{this.queue=[],this.processing=!1}}},beforeUnload:function(){d.bUnloaded||(d._processQueue(),d.bUnloaded=!0)}};c.addEventListener("beforeunload",d.beforeUnload,!1);var e={support:function(a){return!a||"apply"in a},around:function(a,b,d,e){return a=a||function(){},function(){var f,g=Array.prototype.slice.call(arguments);try{b&&(f=b.apply(this,g))}catch(h){c.log(e,h)}var i;try{i=a.apply(this,f||g)}finally{try{d&&d.apply(this,g)}catch(h){c.log(e,h)}}return i}},before:function(a,b){return e.around(a,b)},after:function(a,b){return e.around(a,null,b)},timeout:function(a){setTimeout(a,0)},wrapAddEventListener:function(){return function(a,b){if(("load"===a||"error"===a)&&b&&this._atrumXhrData){var c;b.__atrumInterceptor?c=b.__atrumInterceptor:e.support(b)?(c=g.wrapXHR(b,this,"XHR.invokeEventListener"),b.__atrumInterceptor=c):c=null;var d;return c&&(d=Array.prototype.slice.call(arguments),d[1]=c),d}}},wrapRemoveEventListener:function(){return function(a,b){if(this._atrumXhrData){var c=Array.prototype.slice.call(arguments);return b.__atrumInterceptor&&(c[1]=b.__atrumInterceptor),c}}},aroundWithHandleEvent:function(a,b,c,d){var f=a;return a&&"object"==typeof a&&"toString"in a&&"[xpconnect wrapped nsIDOMEventListener]"===a.toString()&&"handleEvent"in a&&(f=function(){a.handleEvent.apply(this,Array.prototype.slice.call(arguments))}),e.around(f,b,c,d)},getFullyQualifiedUrl:function(a){var c=b.createElement("a");return c.href=a,c.href}};if(a.XMLHttpRequest&&a.XMLHttpRequest.prototype){var f=a.XMLHttpRequest.prototype;if(!("open"in f&&"send"in f))return;if(!e.support(f.open)||!e.support(f.send))return;var g={};g.captureAjaxTimings=function(a){var b=a._atrumXhrData;if(b){var c=(new Date).getTime();2===a.readyState?b.firstByteTime=b.firstByteTime||c:4===a.readyState&&(b.respAvailTime=b.respAvailTime||c,b.firstByteTime=b.firstByteTime||c)}},g.sendPayload=function(a,b){b.receivedSize=0,a.responseType&&"text"!==a.responseType||"string"==typeof a.responseText&&(b.receivedSize=a.responseText.length),b.status=a.status,d.push(b)},g.wrapXHR=function(a,b,c){return e.aroundWithHandleEvent(a,function(){g.captureAjaxTimings(this)},function(){var a=b._atrumXhrData;if(a&&4===b.readyState){var c=(new Date).getTime();a.respProcTime=a.respProcTime||c,g.sendPayload(b,a),delete b._atrumXhrData}},c)},g.ajaxDone=function(a){if(a._atrumXhrData){var b=(new Date).getTime()+3e4,c=function(){g.captureAjaxTimings(a);var d=a._atrumXhrData;if(d){var e=(new Date).getTime();4===a.readyState?(d.respProcTime=d.respProcTime||e,g.sendPayload(a,d),delete a._atrumXhrData):b>e?setTimeout(c,50):delete a._atrumXhrData}};c()}},f.open=e.around(f.open,function(){var a=1<=arguments.length?String(arguments[0]):"",b=2<=arguments.length?String(arguments[1]):"",c=atatus.getAllowedDomains(),d=!0;if(b=e.getFullyQualifiedUrl(b),b&&c&&c.length){d=!1;for(var f=0;f<c.length;f++){var g=c[f];if(g&&b.indexOf(g)>-1){d=!0;break}}}d&&(b=b&&b.split("?")[0],this._atrumXhrData={method:a,url:b,sendTime:null,sendSize:null,firstByteTime:null,respAvailTime:null,respProcTime:null,receivedSize:null,parentPhase:null})},null,"XHR.open"),f.send=e.around(f.send,function(){var a=this,b=a._atrumXhrData;if(b){var c=(new Date).getTime();b.sendTime=b.sendTime||c,b.sendSize=1<=arguments.length&&arguments[0]?arguments[0].length||0:0;var d=0,f=function(){if(4===a.readyState)g.ajaxDone(a);else{var b=null;try{b=a.onreadystatechange}catch(c){return void g.ajaxDone(a)}d++,b?e.support(b)?a.onreadystatechange=g.wrapXHR(b,a,"XHR.onReadyStateChange"):g.ajaxDone(a):5>d?e.timeout(f):g.ajaxDone(a)}};f()}},null,"XHR.send"),"addEventListener"in f&&"removeEventListener"in f&&e.support(f.addEventListener)&&e.support(f.removeEventListener)&&(f.addEventListener=e.around(f.addEventListener,e.wrapAddEventListener(),null,"XHR.addEventListener"),f.removeEventListener=e.around(f.removeEventListener,e.wrapRemoveEventListener(),null,"XHR.removeEventListener"))}}(window,document)},function(a){function b(a,b,c){if(!(0>=b)){var d={name:a,dur:b,st:c};atatus.sendTxnPerf(d)}}function c(a){return h+" "+a}function d(){try{return"localStorage"in a&&null!==a.localStorage;}catch(b){return!1}}function e(a){var b=i.now();try{localStorage.setItem(c(a),b)}catch(d){}}function f(a){var b=null,d=c(a);try{b=localStorage.getItem(d),localStorage.removeItem(d)}catch(e){}var f=0;return b&&(f=i.now()-b),f}function g(a){try{var b=c(a);localStorage.removeItem(b)}catch(d){}}var h="atatus.com/",i=atatus._helper,j=1,k=0;atatus.beginTransaction=function(a){d()&&e(a)},atatus.endTransaction=function(a){if(d()){var c=f(a);b(a,c,j)}},atatus.failTransaction=function(a){if(d()){var c=f(a);b(a,c,k)}},atatus.cancelTransaction=function(a){d()&&g(a)}}(window,document);
/*! https://github.com/ttaubert/node-arraybuffer-slice
 * (c) 2014 Tim Taubert <tim@timtaubert.de>
 * arraybuffer-slice may be freely distributed under the MIT license.*/
!function(r){"use strict";function t(r,t){return r=0|r||0,r<0?Math.max(r+t,0):Math.min(r,t)}ArrayBuffer.prototype.slice||(ArrayBuffer.prototype.slice=function(e,n){var f=this.byteLength,i=t(e,f),a=f;if(n!==r&&(a=t(n,f)),i>a)return new ArrayBuffer(0);var u=a-i,y=new ArrayBuffer(u),o=new Uint8Array(y),s=new Uint8Array(this,i,u);return o.set(s),y})}();
!function(t){function e(r){if(i[r])return i[r].t;var n=i[r]={t:{},id:r,loaded:!1};return t[r].call(n.t,n,n.t,e),n.loaded=!0,n.t}var i={};return e.i=t,e.c=i,e.o="",e(0)}([function(t,e,i){"use strict";var r=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},n=i(25),o=i(7),s=i(9),a=i(1);if("undefined"==typeof c)var c=3e4;var h=function(t){function e(e,i){var r=t.call(this,i)||this;return r.pluginName="bitmovin",r.s=!1,r.player=e,r.player.initSession=function(t){return r.h(),r.p(t).timeout(c,r.u+" Hive Plugin initialization timeout").then(function(t){return r.l(),t.g()})["catch"](function(t){return r.v(),r.h(),r.m().debug(r.u+" error occurred resolving the ticket - "+t.stack),a.reject(t)})},r.m().notice(r.u+"registered plugin [name:"+r.T()+"][id: "+r.S()+"][version: "+r.I()+"]"),r}return r(e,t),e.prototype.l=function(){var t=this;this.s||(this.player.addEventHandler("onReady",function(){if(t.m().debug("bitmovin.player.EVENT.ON_READY"),t.R()){var e=!!t.player.getConfig().playback&&t.player.getConfig().playback.auto;e&&t.k(!1),t.C()&&(t.O=new o.P)}}),this.player.addEventHandler("onPlay",function(){t.m().debug("bitmovin.player.EVENT.ON_PLAY"),t.A(s.F.B.N)}),this.player.addEventHandler("onError",function(e){t.m().debug("bitmovin.player.EVENT.ON_ERROR");var i=-1,r=null;if(null!=e)try{i=e.code,r=JSON.stringify(e,null)}catch(n){r=e}t.onError(i,r)}),this.player.addEventHandler("onPlaybackFinished",function(){t.m().debug("bitmovin.player.EVENT.ON_PLAYBACK_FINISHED"),t._(s.F.B.D,{code:1})}),this.player.addEventHandler("onSeek",function(){t.m().debug("bitmovin.player.EVENT.ON_SEEK"),t._(s.F.B.H)}),this.player.addEventHandler("onFullscreenEnter",function(){t.m().debug("bitmovin.player.EVENT.ON_FULLSCREEN_ENTER"),t._(s.F.B.L,{value:!0})}),this.player.addEventHandler("onFullscreenExit",function(){t.m().debug("bitmovin.player.EVENT.ON_FULLSCREEN_EXIT"),t._(s.F.B.L,{value:!1})}),this.player.addEventHandler("onSegmentRequestFinished",function(e){var i=e.mimeType.indexOf("video")>=0;if(e.success){var r=8*e.size/e.downloadTime;t.O.M(i,t.j,e.size),t.O.U(r)}else t.O.V(i,t.j)}),0===this.q().indexOf("7")?this.J():0===this.q().indexOf("6")&&this.K(),this.s=!0)},e.prototype.K=function(){var t=this;this.player.addEventHandler("onStartBuffering",function(){t.m().debug("bitmovin.player.EVENT.ON_START_BUFFERING"),t.k()}),this.player.addEventHandler("onStopBuffering",function(){t.m().debug("bitmovin.player.EVENT.ON_STOP_BUFFERING"),t.G()}),this.player.addEventHandler("onPause",function(){t.m().debug("bitmovin.player.EVENT.ON_PAUSE"),t.A(s.F.B.W)}),this.player.addEventHandler("onVideoDownloadQualityChange",function(e){var i=t.$();i===StreamProtocol.Y?t.X(e.targetQuality):t.X(e.targetQuality.split("br")[1])})},e.prototype.J=function(){var t=this;this.player.addEventHandler("onStallStarted",function(){t.m().debug("bitmovin.player.EVENT.ON_STALL_STARTED"),t.k()}),this.player.addEventHandler("onStallEnded",function(){t.m().debug("bitmovin.player.EVENT.ON_STALL_ENDED"),t.G()}),this.player.addEventHandler("onPaused",function(){t.m().debug("bitmovin.player.EVENT.ON_PAUSED"),t.A(s.F.B.W)}),this.player.addEventHandler("onVideoDownloadQualityChanged",function(e){t.X(e.targetQualityId.bitrate)})},e.prototype.X=function(t){this.m().debug("newBitrate",t),this.j&&t>this.j?this.O.Z():this.j&&this.j>t&&this.O.tt(),this.j=t},e.prototype.A=function(t){"undefined"!=typeof this.et&&this.et!==t&&(this._(t),this.et=t)},e.prototype.it=function(){var t=this.$();return t===StreamProtocol.Y?this.player.getConfig().source.hls:t===StreamProtocol.rt?this.player.getConfig().source.dash:void 0},e.prototype.getCurrentTime=function(){return null!=this.player?Math.round(1e3*this.player.getCurrentTime()):0},e.prototype.nt=function(){return null!=this.player&&null!=this.player.getVideoBufferLength&&this.player.getVideoBufferLength()>0?Math.max(0,Math.round(1e3*this.player.getVideoBufferLength())):0},e.prototype.ot=function(){if(this.player){var t=this.player.getFigure();return{width:t.offsetWidth,height:t.offsetHeight}}},e.prototype.isFullscreen=function(){return this.player.isFullscreen()},e.prototype.isLive=function(){return this.player.isLive()},e.prototype.st=function(){return!0},e.prototype.$=function(){if(this.player){var t=this.player.getStreamType();if("hls"===t)return StreamProtocol.Y;if("dash"===t)return StreamProtocol.rt}return null},e.prototype.at=function(){var t=this.O;return this.O=new o.P,t},e.prototype.T=function(){return this.pluginName},e.prototype.I=function(){return this.ct()},e.prototype.ht=function(){if(this.player)return this.player.getPlayerType()},e.prototype.q=function(){return"undefined"!=typeof bitmovin.player.version?bitmovin.player.version:this.player.getVersion()},e}(n.pt.Plugin);e.ut=h;var p=function(t,e){new h(t,e)};bitmovin.initHiveSDN=p},function(t,e,i){/*!
 *
 * Copyright 2009-2016 Kris Kowal under the terms of the MIT
 * license found at https://github.com/kriskowal/q/blob/v1/LICENSE
 *
 * With parts by Tyler Close
 * Copyright 2007-2009 Tyler Close under the terms of the MIT X license found
 * at http://www.opensource.org/licenses/mit-license.html
 * Forked at ref_send.js version: 2009-05-11
 *
 * With parts by Mark Miller
 * Copyright (C) 2011 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 */
  !function(e){"use strict";if("function"==typeof bootstrap)bootstrap("promise",e);else{t.t=e()}}(function(){"use strict";function t(t){return function(){return z.apply(t,arguments)}}function e(t){return t===Object(t)}function i(t){return"[object StopIteration]"===it(t)||t instanceof q}function r(t,e){if(U&&e.stack&&"object"==typeof t&&null!==t&&t.stack&&t.stack.indexOf(rt)===-1){for(var i=[],r=e;r;r=r.source)r.stack&&i.unshift(r.stack);i.unshift(t.stack);var o=i.join("\n"+rt+"\n");t.stack=n(o)}}function n(t){for(var e=t.split("\n"),i=[],r=0;r<e.length;++r){var n=e[r];a(n)||o(n)||!n||i.push(n)}return i.join("\n")}function o(t){return t.indexOf("(module.js:")!==-1||t.indexOf("(node.js:")!==-1}function s(t){var e=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(t);if(e)return[e[1],Number(e[2])];var i=/at ([^ ]+):(\d+):(?:\d+)$/.exec(t);if(i)return[i[1],Number(i[2])];var r=/.*@(.+):(\d+)$/.exec(t);return r?[r[1],Number(r[2])]:void 0}function a(t){var e=s(t);if(!e)return!1;var i=e[0],r=e[1];return i===Q&&r>=J&&r<=ct}function c(){if(U)try{throw new Error}catch(t){var e=t.stack.split("\n"),i=e[0].indexOf("@")>0?e[1]:e[2],r=s(i);if(!r)return;return Q=r[0],r[1]}}function h(t,e,i){return function(){return"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(e+" is deprecated, use "+i+" instead.",new Error("").stack),t.apply(t,arguments)}}function p(t){return t instanceof f?t:m(t)?C(t):k(t)}function u(){function t(t){e=t,p.lt&&U&&(o.source=t),$(i,function(e,i){p.dt(function(){t.ft.apply(t,i)})},void 0),i=void 0,r=void 0}var e,i=[],r=[],n=Z(u.prototype),o=Z(f.prototype);if(o.ft=function(t,n,o){var s=W(arguments);i?(i.push(s),"when"===n&&o[1]&&r.push(o[1])):p.dt(function(){e.ft.apply(e,s)})},o.valueOf=function(){if(i)return o;var t=v(e);return y(t)&&(e=t),t},o.gt=function(){return e?e.gt():{state:"pending"}},p.lt&&U)try{throw new Error}catch(s){o.stack=s.stack.substring(s.stack.indexOf("\n")+1)}return n.vt=o,n.resolve=function(i){e||t(p(i))},n.yt=function(i){e||t(k(i))},n.reject=function(i){e||t(R(i))},n.notify=function(t){e||$(r,function(e,i){p.dt(function(){i(t)})},void 0)},n}function l(t){if("function"!=typeof t)throw new TypeError("resolver must be a function.");var e=u();try{t(e.resolve,e.reject,e.notify)}catch(i){e.reject(i)}return e.vt}function d(t){return l(function(e,i){for(var r=0,n=t.length;r<n;r++)p(t[r]).then(e,i)})}function f(t,e,i){void 0===e&&(e=function(t){return R(new Error("Promise does not support operation: "+t))}),void 0===i&&(i=function(){return{state:"unknown"}});var r=Z(f.prototype);if(r.ft=function(i,n,o){var s;try{s=t[n]?t[n].apply(r,o):e.call(r,n,o)}catch(a){s=R(a)}i&&i(s)},r.gt=i,i){var n=i();"rejected"===n.state&&(r.exception=n.reason),r.valueOf=function(){var t=i();return"pending"===t.state||"rejected"===t.state?r:t.value}}return r}function g(t,e,i,r){return p(t).then(e,i,r)}function v(t){if(y(t)){var e=t.gt();if("fulfilled"===e.state)return e.value}return t}function y(t){return t instanceof f}function m(t){return e(t)&&"function"==typeof t.then}function w(t){return y(t)&&"pending"===t.gt().state}function T(t){return!y(t)||"fulfilled"===t.gt().state}function S(t){return y(t)&&"rejected"===t.gt().state}function b(){nt.length=0,ot.length=0,at||(at=!0)}function E(t,e){at&&("object"==typeof process&&"function"==typeof process.emit&&p.dt.wt(function(){Y(ot,t)!==-1&&(process.emit("unhandledRejection",e,t),st.push(t))}),ot.push(t),e&&"undefined"!=typeof e.stack?nt.push(e.stack):nt.push("(no stack) "+e))}function I(t){if(at){var e=Y(ot,t);e!==-1&&("object"==typeof process&&"function"==typeof process.emit&&p.dt.wt(function(){var i=Y(st,t);i!==-1&&(process.emit("rejectionHandled",nt[e],t),st.splice(i,1))}),ot.splice(e,1),nt.splice(e,1))}}function R(t){var e=f({when:function(e){return e&&I(this),e?e(t):this}},function(){return this},function(){return{state:"rejected",reason:t}});return E(e,t),e}function k(t){return f({when:function(){return t},get:function(e){return t[e]},set:function(e,i){t[e]=i},"delete":function(e){delete t[e]},Tt:function(e,i){return null===e||void 0===e?t.apply(void 0,i):t[e].apply(t,i)},apply:function(e,i){return t.apply(e,i)},keys:function(){return et(t)}},void 0,function(){return{state:"fulfilled",value:t}})}function C(t){var e=u();return p.dt(function(){try{t.then(e.resolve,e.reject,e.notify)}catch(i){e.reject(i)}}),e.vt}function O(t){return f({St:function(){}},function(e,i){return F(t,e,i)},function(){return p(t).gt()})}function P(t,e,i){return p(t).bt(e,i)}function A(t){return function(){function e(t,e){var s;if("undefined"==typeof StopIteration){try{s=r[t](e)}catch(a){return R(a)}return s.done?p(s.value):g(s.value,n,o)}try{s=r[t](e)}catch(a){return i(a)?p(a.value):R(a)}return g(s,n,o)}var r=t.apply(this,arguments),n=e.bind(e,"next"),o=e.bind(e,"throw");return n()}}function N(t){p.done(p.async(t)())}function x(t){throw new q(t)}function B(t){return function(){return P([this,_(arguments)],function(e,i){return t.apply(e,i)})}}function F(t,e,i){return p(t).Et(e,i)}function _(t){return g(t,function(t){var e=0,i=u();return $(t,function(r,n,o){var s;y(n)&&"fulfilled"===(s=n.gt()).state?t[o]=s.value:(++e,g(n,function(r){t[o]=r,0===--e&&i.resolve(t)},i.reject,function(t){i.notify({index:o,value:t})}))},void 0),0===e&&i.resolve(t),i.vt})}function D(t){if(0===t.length)return p.resolve();var e=p.defer(),i=0;return $(t,function(r,n,o){function s(t){e.resolve(t)}function a(t){i--,0===i&&(t.message="Q can't get fulfillment value from any promise, all promises were rejected. Last error message: "+t.message,e.reject(t))}function c(t){e.notify({index:o,value:t})}var h=t[o];i++,g(h,s,a,c)},void 0),e.vt}function H(t){return g(t,function(t){return t=X(t,p),g(_(X(t,function(t){return g(t,K,K)})),function(){return t})})}function L(t){return p(t).It()}function M(t,e){return p(t).then(void 0,void 0,e)}function j(t,e){return p(t).Rt(e)}var U=!1;try{throw new Error}catch(V){U=!!V.stack}var Q,q,J=c(),K=function(){},G=function(){function t(){for(var t,r;i.next;)i=i.next,t=i.kt,i.kt=void 0,r=i.domain,r&&(i.domain=void 0,r.enter()),e(t,r);for(;h.length;)t=h.pop(),e(t);n=!1}function e(e,i){try{e()}catch(r){if(s)throw i&&i.exit(),setTimeout(t,0),i&&i.enter(),r;setTimeout(function(){throw r},0)}i&&i.exit()}var i={kt:void 0,next:null},r=i,n=!1,o=void 0,s=!1,a=!1;try{a=navigator&&("Microsoft Internet Explorer"===navigator.appName||null!=navigator.appVersion.match(/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i))}catch(c){}var h=[];if(G=function(t){"undefined"!=typeof Framework&&Framework.Ct()?Framework.setTimeout(t,0):(r=r.next={kt:t,domain:s&&process.domain,next:null},n||(n=!0,o()))},"object"==typeof process&&"[object process]"===process.toString()&&process.dt)s=!0,o=function(){process.dt(t)};else if("function"!=typeof setImmediate||a)if("undefined"==typeof MessageChannel||a)o=function(){setTimeout(t,0)};else{var p=new MessageChannel;p.port1.onmessage=function(){o=u,p.port1.onmessage=t,t()};var u=function(){p.port2.postMessage(0)};o=function(){setTimeout(t,0),u()}}else o="undefined"!=typeof window?setImmediate.bind(window,t):function(){setImmediate(t)};return G.wt=function(t){h.push(t),n||(n=!0,o())},G}(),z=Function.call,W=t(Array.prototype.slice),$=t(Array.prototype.reduce||function(t,e){var i=0,r=this.length;if(1===arguments.length)for(;;){if(i in this){e=this[i++];break}if(++i>=r)throw new TypeError}for(;i<r;i++)i in this&&(e=t(e,this[i],i));return e}),Y=t(Array.prototype.indexOf||function(t){for(var e=0;e<this.length;e++)if(this[e]===t)return e;return-1}),X=t(Array.prototype.map||function(t,e){var i=this,r=[];return $(i,function(n,o,s){r.push(t.call(e,o,s,i))},void 0),r}),Z=Object.create||function(t){function e(){}return e.prototype=t,new e},tt=t(Object.prototype.hasOwnProperty),et=Object.keys||function(t){var e=[];for(var i in t)tt(t,i)&&e.push(i);return e},it=t(Object.prototype.toString);q="undefined"!=typeof ReturnValue?ReturnValue:function(t){this.value=t};var rt="From previous event:";p.resolve=p,p.dt=G,p.lt=!1,"object"==typeof process&&process&&process.Ot&&process.Ot.Q_DEBUG&&(p.lt=!0),p.defer=u,u.prototype.Pt=function(){var t=this;return function(e,i){e?t.reject(e):arguments.length>2?t.resolve(W(arguments,1)):t.resolve(i)}},p.Promise=l,p.vt=l,l.race=d,l.all=_,l.reject=R,l.resolve=p,p.At=function(t){return t},f.prototype.At=function(){return this},p.join=function(t,e){return p(t).join(e)},f.prototype.join=function(t){return p([this,t]).bt(function(t,e){if(t===e)return t;throw new Error("Q can't join: not the same: "+t+" "+e)})},p.race=d,f.prototype.race=function(){return this.then(p.race)},p.Nt=f,f.prototype.toString=function(){return"[object Promise]"},f.prototype.then=function(t,e,i){function n(e){try{return"function"==typeof t?t(e):e}catch(i){return R(i)}}function o(t){if("function"==typeof e){r(t,a);try{return e(t)}catch(i){return R(i)}}return R(t)}function s(t){return"function"==typeof i?i(t):t}var a=this,c=u(),h=!1;return p.dt(function(){a.ft(function(t){h||(h=!0,c.resolve(n(t)))},"when",[function(t){h||(h=!0,c.resolve(o(t)))}])}),a.ft(void 0,"when",[void 0,function(t){var e,i=!1;try{e=s(t)}catch(r){if(i=!0,!p.onerror)throw r;p.onerror(r)}i||c.notify(e)}]),c.vt},p.xt=function(t,e){return p(t).xt(e)},f.prototype.xt=function(t){return t=p(t),this.then(function(e){return t.Ft(e).Bt(e)})},p.when=g,f.prototype.Bt=function(t){return this.then(function(){return t})},p.Bt=function(t,e){return p(t).Bt(e)},f.prototype._t=function(t){return this.then(function(){throw t})},p._t=function(t,e){return p(t)._t(e)},p.Dt=v,p.Ht=y,p.Lt=m,p.Mt=w,f.prototype.Mt=function(){return"pending"===this.gt().state},p.jt=T,f.prototype.jt=function(){return"fulfilled"===this.gt().state},p.Ut=S,f.prototype.Ut=function(){return"rejected"===this.gt().state};var nt=[],ot=[],st=[],at=!0;p.Vt=b,p.Qt=function(){return nt.slice()},p.qt=function(){b(),at=!1},b(),p.reject=R,p.yt=k,p.Jt=O,p.bt=P,f.prototype.bt=function(t,e){return this.all().then(function(e){return t.apply(void 0,e)},e)},p.async=A,p.Kt=N,p["Gt"]=x,p.zt=B,p.Et=F,f.prototype.Et=function(t,e){var i=this,r=u();return p.dt(function(){i.ft(r.resolve,t,e)}),r.vt},p.get=function(t,e){return p(t).Et("get",[e])},f.prototype.get=function(t){return this.Et("get",[t])},p.set=function(t,e,i){return p(t).Et("set",[e,i])},f.prototype.set=function(t,e){return this.Et("set",[t,e])},p.Wt=p["delete"]=function(t,e){return p(t).Et("delete",[e])},f.prototype.Wt=f.prototype["delete"]=function(t){return this.Et("delete",[t])},p.$t=p.Tt=function(t,e,i){return p(t).Et("post",[e,i])},f.prototype.$t=f.prototype.Tt=function(t,e){return this.Et("post",[t,e])},p.send=p.Yt=p.Xt=function(t,e){return p(t).Et("post",[e,W(arguments,2)])},f.prototype.send=f.prototype.Yt=f.prototype.Xt=function(t){return this.Et("post",[t,W(arguments,1)])},p.Zt=function(t,e){return p(t).Et("apply",[void 0,e])},f.prototype.Zt=function(t){return this.Et("apply",[void 0,t])},p["te"]=p.Ft=function(t){return p(t).Et("apply",[void 0,W(arguments,1)])},f.prototype.Ft=function(){return this.Et("apply",[void 0,W(arguments)])},p.ee=function(t){var e=p(t),i=W(arguments,1);return function(){return e.Et("apply",[this,i.concat(W(arguments))])}},f.prototype.ee=function(){var t=this,e=W(arguments);return function(){return t.Et("apply",[this,e.concat(W(arguments))])}},p.keys=function(t){return p(t).Et("keys",[])},f.prototype.keys=function(){return this.Et("keys",[])},p.all=_,f.prototype.all=function(){return _(this)},p.ie=D,f.prototype.ie=function(){return D(this)},p.re=h(H,"allResolved","allSettled"),f.prototype.re=function(){return H(this)},p.It=L,f.prototype.It=function(){return this.then(function(t){return _(X(t,function(t){function e(){return t.gt()}return t=p(t),t.then(e,e)}))})},p.fail=p["catch"]=function(t,e){return p(t).then(void 0,e)},f.prototype.fail=f.prototype["catch"]=function(t){return this.then(void 0,t)},p.progress=M,f.prototype.progress=function(t){return this.then(void 0,void 0,t)},p.ne=p["finally"]=function(t,e){return p(t)["finally"](e)},f.prototype.ne=f.prototype["finally"]=function(t){if(!t||"function"!=typeof t.apply)throw new Error("Q can't apply finally callback");return t=p(t),this.then(function(e){return t.Ft().then(function(){return e})},function(e){return t.Ft().then(function(){throw e})})},p.done=function(t,e,i,r){return p(t).done(e,i,r)},f.prototype.done=function(t,e,i){var n=function(t){p.dt(function(){if(r(t,o),!p.onerror)throw t;p.onerror(t)})},o=t||e||i?this.then(t,e,i):this;"object"==typeof process&&process&&process.domain&&(n=process.domain.bind(n)),o.then(void 0,n)},p.timeout=function(t,e,i){return p(t).timeout(e,i)},f.prototype.timeout=function(t,e){var i=u(),r=setTimeout(function(){e&&"string"!=typeof e||(e=new Error(e||"Timed out after "+t+" ms"),e.code="ETIMEDOUT"),i.reject(e)},t);return this.then(function(t){clearTimeout(r),i.resolve(t)},function(t){clearTimeout(r),i.reject(t)},i.notify),i.vt},p.delay=function(t,e){return void 0===e&&(e=t,t=void 0),p(t).delay(e)},f.prototype.delay=function(t){return this.then(function(e){var i=u();return setTimeout(function(){i.resolve(e)},t),i.vt})},p.oe=function(t,e){return p(t).oe(e)},f.prototype.oe=function(t){var e=u(),i=W(t);return i.push(e.Pt()),this.Zt(i).fail(e.reject),e.vt},p.se=function(t){var e=W(arguments,1);return p(t).oe(e)},f.prototype.se=function(){var t=W(arguments),e=u();return t.push(e.Pt()),this.Zt(t).fail(e.reject),e.vt},p.ae=p.ce=function(t){if(void 0===t)throw new Error("Q can't wrap an undefined function");var e=W(arguments,1);return function(){var i=e.concat(W(arguments)),r=u();return i.push(r.Pt()),p(t).Zt(i).fail(r.reject),r.vt}},f.prototype.ae=f.prototype.ce=function(){var t=W(arguments);return t.unshift(this),p.ce.apply(void 0,t)},p.he=function(t,e){var i=W(arguments,2);return function(){function r(){return t.apply(e,arguments)}var n=i.concat(W(arguments)),o=u();return n.push(o.Pt()),p(r).Zt(n).fail(o.reject),o.vt}},f.prototype.he=function(){var t=W(arguments,0);return t.unshift(this),p.he.apply(void 0,t)},p.pe=p.ue=function(t,e,i){return p(t).ue(e,i)},f.prototype.pe=f.prototype.ue=function(t,e){var i=W(e||[]),r=u();return i.push(r.Pt()),this.Et("post",[t,i]).fail(r.reject),r.vt},p.le=p.de=p.fe=function(t,e){var i=W(arguments,2),r=u();return i.push(r.Pt()),p(t).Et("post",[e,i]).fail(r.reject),r.vt},f.prototype.le=f.prototype.de=f.prototype.fe=function(t){var e=W(arguments,1),i=u();return e.push(i.Pt()),this.Et("post",[t,e]).fail(i.reject),i.vt},p.Rt=j,f.prototype.Rt=function(t){return t?void this.then(function(e){p.dt(function(){t(null,e)})},function(e){p.dt(function(){t(e)})}):this},p.ge=function(){throw new Error("Q.noConflict only works when Q is used as a global")};var ct=c();return p})},function(t,e,i){"use strict";var r,n=i(15),o=i(4),s=o.ve;!function(t){function e(e){B&&console.log("Framework already initialized"),t.ye(),N=new Date,e.apply(D),B=D.resolve(k.me),_=D.resolve(k.we),L=B.Ct()}function i(){F=D.resolve(k.Te),F.init()}function r(){return F}function o(){return D}function a(){return _}function c(){return B}function h(t){return H.get(t)}function p(t,e){var i=new C(t);return i.apply(e),H.set(t,i),i}function u(e){A=t.Se(e)}function l(t){return null!=A?A.context.resolve(t):(console.warn("undefined context"),null)}function d(){return A}function f(){return B.time()}function g(t,e){return B.setTimeout(t,e)}function v(t){return B.clearTimeout(t)}function y(t,e){return B.setInterval(t,e)}function m(t){return B.clearInterval(t)}function w(){B.be()}function T(){D.Ee(),D=new n.Ie,H=new s,A=null,N=null,L=!1,x=null,B=null,F=null,_=null}function S(t){x=t}function b(){return x||(x=(new Date).getTime()),x=(9301*x+49297)%233280,x/233280}function E(){return N}function I(){return L}var R=function(){function t(){}return t}();R.Re="ws://127.0.0.1:8000/hive",t.ke=R;var k=function(){function t(){}return t}();k.me="TimerScheduler",k.Ce="identityProvider",k.Te="NetworkComponent",k.Oe="rtcManager",k.Pe="transport",k.Ae="httpManager",k.Ne="httpRequest",k.we="logger",k.xe="serverManager",k.Be="servicesClient",t.Fe=k;var C=function(){function t(t){this.id=t,this.context=new n.Ie}return t.prototype.apply=function(t){t.apply(this.context)},t}();t._e=C;var O;!function(t){t[t.De=0]="HTTP",t[t.He=1]="RTC",t[t.Le=2]="UDP"}(O=t.Me||(t.Me={}));var P;!function(e){function i(){return"["+f()+"] ["+t.je().id+"]"}e.Ue=i}(P=t.Ve||(t.Ve={}));var A,N,x,B,F,_,D=new n.Ie,H=new s,L=!1;t.Qe=e,t.qe=i,t.Je=r,t.system=o,t.m=a,t.Ke=c,t.Se=h,t.Ge=p,t.ze=u,t.resolve=l,t.je=d,t.time=f,t.setTimeout=g,t.clearTimeout=v,t.setInterval=y,t.clearInterval=m,t.be=w,t.ye=T,t.We=S,t.random=b,t.$e=E,t.Ct=I}(r=e.Framework||(e.Framework={})),"undefined"!=typeof global&&(global.Framework=r)},function(t,e){"use strict";var i=!0,r={Ye:function(t){return"boolean"!=typeof t?new Error("Argument type: "+typeof t+". Please use a boolean."):(i=t,t?"adapter.js logging disabled":"adapter.js logging enabled")},log:function(){if("object"==typeof window){if(i)return;"undefined"!=typeof console&&"function"==typeof console.log&&console.log.apply(console,arguments)}},Xe:function(t,e,i){var r=t.match(e);return r&&r.length>=i&&parseInt(r[i],10)},Ze:function(){var t={};if(t.ti=null,t.version=null,"undefined"==typeof window||!window.navigator)return t.ti="Not a browser.",t;if(navigator.mozGetUserMedia)t.ti="firefox",t.version=this.Xe(navigator.userAgent,/Firefox\/(\d+)\./,1);else if(navigator.webkitGetUserMedia)if(window.webkitRTCPeerConnection)t.ti="chrome",t.version=this.Xe(navigator.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else{if(!navigator.userAgent.match(/Version\/(\d+).(\d+)/))return t.ti="Unsupported webkit-based browser with GUM support but no WebRTC support.",t;t.ti="safari",t.version=this.Xe(navigator.userAgent,/AppleWebKit\/(\d+)\./,1)}else if(navigator.mediaDevices&&navigator.userAgent.match(/Edge\/(\d+).(\d+)$/))t.ti="edge",t.version=this.Xe(navigator.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!navigator.mediaDevices||!navigator.userAgent.match(/AppleWebKit\/(\d+)\./))return t.ti="Not a supported browser.",t;t.ti="safari",t.version=this.Xe(navigator.userAgent,/AppleWebKit\/(\d+)\./,1)}return t},ei:function(){if("object"==typeof window&&window.HTMLMediaElement&&"srcObject"in window.HTMLMediaElement.prototype){var t=URL.createObjectURL.bind(URL),e=URL.revokeObjectURL.bind(URL),i=new Map,r=0;URL.createObjectURL=function(e){if("getTracks"in e){var n="polyblob:"+ ++r;return i.set(n,e),console.log("URL.createObjectURL(stream) is deprecated! Use elem.srcObject = stream instead!"),n}return t(e)},URL.revokeObjectURL=function(t){e(t),i["delete"](t)};var n=Object.getOwnPropertyDescriptor(window.HTMLMediaElement.prototype,"src");Object.defineProperty(window.HTMLMediaElement.prototype,"src",{get:function(){return n.get.apply(this)},set:function(t){return this.ii=i.get(t)||null,n.set.apply(this,[t])}});var o=HTMLMediaElement.prototype.setAttribute;HTMLMediaElement.prototype.setAttribute=function(){return 2===arguments.length&&"src"===(""+arguments[0]).toLowerCase()&&(this.ii=i.get(arguments[1])||null),o.apply(this,arguments)}}}};t.t={log:r.log,Ye:r.Ye,ri:r.Ze(),Xe:r.Xe,ei:r.ei,Ze:r.Ze.bind(r)}},function(t,e,i){var r=i(32);t.t={ve:r.Map,ni:r.ni,oi:r.oi}},function(t,e){"use strict";var i;!function(t){t.si="statsClient",t.Be="servicesClient",t.ai="ticketResolver",t.Ce="identityProvider",t.ci="connInfoProvider",t.hi="peerInfo",t.pi="streamInfoProvider",t.ui="reporting",t.li="statsStore",t.di="trackManager",t.fi="trackClient"}(i=e.gi||(e.gi={}))},function(t,e){t.t=function(){return new Function}},function(t,e,i){"use strict";function r(t,e){function i(){return t()?void v.when(e(),i,r.reject):r.resolve(!0)}var r=v.defer();return v.dt(i),r.vt}function n(t,e,i){return void 0===i&&(i=!0),o("GET",t,e,i)}function o(t,e,i,r){void 0===r&&(r=!0);var n=v.defer();try{var o=new XMLHttpRequest;o.open(t,e,r),void 0!=i&&null!=i&&o.setRequestHeader("Content-Type",i),o.onload=function(){200==o.status?n.resolve(o.response):n.reject({status:o.status,reason:o.statusText,body:o.responseText})},o.onerror=function(t){n.reject({status:-1,reason:"Network Error"})},o.send()}catch(s){n.reject({status:-1,reason:s})}return n.vt}function s(t,e,i,r){void 0===r&&(r=!0);var n=v.defer();try{var o=new XMLHttpRequest;o.open("POST",t,r),void 0!=i&&null!=i&&o.setRequestHeader("Content-Type",i),o.onload=function(){200==o.status?n.resolve(o.response):n.reject({status:o.status,reason:o.statusText})},o.onerror=function(t){n.reject({status:-1,reason:"Network Error"})},o.send(e)}catch(s){n.reject({status:-1,reason:s})}return n.vt}function a(t,e){var i,r,n=document.querySelector("base"),o=document.querySelector("head"),s=document.createElement("a"),a=n;return n?i=n.href:a=o.appendChild(document.createElement("base")),a.href=t,s.href=e,r=s.href,n?n.href=i:o.removeChild(a),r}function c(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var i=t[0],r=1;r<t.length;r++){var n=new RegExp("\\{"+(r-1)+"\\}","gm");i=i.replace(n,t[r])}return i}function h(t,e){for(var i in t)t.hasOwnProperty(i)&&e.hasOwnProperty(i)&&(e[i]=t[i])}function p(t,e,i){var r=g(t).vi(!0);for(var n in r)try{if(r.hasOwnProperty(n)&&e.hasOwnProperty(n)&&i.hasOwnProperty(e[n])){var o=e[n],s=r[n];i[o]=u(s,i[o])}}catch(a){}}function u(t,e){var i;switch(typeof e){case"number":i=parseInt(t);break;case"boolean":i="true"===t;break;default:i=t}return i}function l(t,e,i){var r=new m;return r.ticketUrl=t,r.code=e,r.message=w(e),r.detailedMessage=i,r}var d=i(4),f=d.ve,g=i(21),v=i(1),y=i(17),m=y.pt.HiveSessionError,w=y.pt.getHiveSessionErrorMessage,T=y.pt.HiveSession,S=i(26),b=i(46),E=function(){function t(e){if(!e){if(0==Object.keys(t.mapping).length&&!t.yi)return console.error("no registered default HiveRequestFactory tech"),t.yi=!0,t.mi();e=Object.keys(t.mapping)[0]}if(!(e in t.mapping))return t.yi||(console.error("no registered HiveRequestFactory tech for  "+e),t.yi=!0),t.mi();var i=t.mapping[e];switch(i.tech){case"HiveJS":return t.mi();case"HiveJsProxy":return i.wi?new S.Ti(e):(i.wi=!0,new b.Si(e));case"HiveJava":case"StatsJS":return t.mi()}}return t.mi=function(){return"undefined"!=typeof OriginalXMLHttpRequest?new OriginalXMLHttpRequest:new XMLHttpRequest},t.clear=function(){t.mapping={}},t.bi=function(e,i){e in t.mapping||(t.mapping[e]={}),t.mapping[e].tech=i},t}();E.mapping={},E.yi=!1,e.HiveRequestFactory=E;var I=function(){function t(t,e,i,r){this.Ei=!1,this.ticketUrl=t,this.ticket=e,this.manifest=i,this.Ii=v.defer(),this.Ri=r,this.Ri&&this.Ii.resolve(this.Ri)}return t.prototype.st=function(t){return null!==this.tech&&this.tech.st(t,this)},t.prototype.ki=function(t){this.Ei!=t&&(this.Ei=t,this.tech&&this.tech.Ci(this,t))},t.prototype.Oi=function(){return this.Ei},t.prototype.close=function(t){if(null!=this.tech)return this.tech.Pi(this,t)},t.prototype.toString=function(){return this.ticket.toString()},t.prototype.g=function(){var t=new T;return t.id=this.id,t.ticketUrl=this.ticketUrl,t.manifest=this.manifest,t.tech=this.tech.Ai(),t},t.prototype.Ni=function(){return this.Ii.vt},t.prototype.xi=function(t){this.Ri=t,this.Ii.resolve(this.Ri)},t}();e.Bi=I;var R=function(){function t(){}return t}();e.Fi=R;var k=function(){function t(){this.success=0,this._i=0,this.Di=0}return t}();e.Hi=k;var C=function(){function t(){this.Li=0,this.Mi=0,this.ji=new f,this.Ui=new f}return t.prototype.M=function(t,e,i,r){void 0===r&&(r=!0);var n=t?this.ji:this.Ui;n.has(e)||n.set(e,new k);var o=n.get(e);o.Di+=i,r&&o.success++},t.prototype.V=function(t,e){var i=t?this.ji:this.Ui;i.has(e)||i.set(e,new k),i.get(e)._i++},t.prototype.U=function(t){this.bandwidth=t},t.prototype.Z=function(){this.Li++},t.prototype.tt=function(){this.Mi++},t.prototype.Vi=function(){return this.bandwidth},t.prototype.Qi=function(){return this.ji},t.prototype.qi=function(){return this.Ui},t.prototype.Ji=function(){return this.Li},t.prototype.Ki=function(){return this.Mi},t}();e.P=C;var O=function(){function t(){var e=this;if(t.Gi)throw new Error("Error: Instantiation failed: Use VisibilityChangeListener.getInstance() instead of new.");var i,r;"undefined"!=typeof document.hidden?(i="hidden",r="visibilitychange"):"undefined"!=typeof document.msHidden?(i="msHidden",r="msvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(i="webkitHidden",r="webkitvisibilitychange"),"undefined"!=typeof document.addEventListener&&"undefined"!=typeof document[i]?document.addEventListener(r,function(){var t=!document[i];e.zi.forEach(function(i){i.call(e,t)})},!1):t.m&&t.m.debug("warn - visibilityChange listener not supported"),this.zi=new Array}return t.Wi=function(e){return e&&(this.m=e),void 0===this.Gi&&(this.Gi=new t),this.Gi},t.prototype.$i=function(t){this.zi.push(t)},t}();e.Yi=O,e.Xi=r,e.Zi=n,e.tr=o,e.er=s,e.ir=a,e.rr=c,e.nr=h,e.or=p,e.sr=l;var P=function(){function t(){}return t.getItem=function(t){try{return window.sessionStorage?window.sessionStorage.getItem(t):null}catch(e){return null}},t.setItem=function(t,e){try{return!!window.sessionStorage&&(window.sessionStorage.setItem(t,e),!0)}catch(i){return!1}},t.removeItem=function(t){try{window.sessionStorage&&window.sessionStorage.removeItem(t)}catch(e){return null}},t}();e.ar=P;var A=function(){function t(t){this.cr=t}return t.prototype.hr=function(t){var e=Date.now();return this.isEqual(this.pr,t)||(this.ur=e),this.pr=t,e-this.ur>=this.cr},t.prototype.isEqual=function(t,e){if(t&&e){var i=[e.lr-t.lr,e.dr-t.dr,e.gr-t.gr];return i.reduce(function(t,e){return t&&Math.abs(e)<10},!0)}return!1},t}();e.vr=A},function(t,e,i){"use strict";var r,n=i(11),o=i(18),s=i(12);!function(t){var e;!function(t){var e=function(){function t(){this.monitorPort=o.ke.yr?s.wr.mr:s.wr.Tr,this.playerPort=o.ke.yr?s.wr.Sr:s.wr.br,this.feedbackPeriod=2e3,this.idleTimePeriod=6e4,this.useSessionCheck=o.ke.Er,this.debugLevel="notice",this.hiveTechOrder=[],this.telemetryId=null,this.silent=!1,this.loggerTimestamp=n.HiveConfig.Framework.LoggerTimestamp,this.onSourceSetCompleted=function(t){},this.onLoadingCompleted=function(t){}}return t}();t.Ir=e;var i=function(){function t(){this.initTimeout=3e4,this.onError=function(t){return!0},this.onActiveSession=function(t){}}return t}();t.Rr=i;var r=function(){function t(){this.hivePlayerPort="playerPort",this.hiveMonitorPort="monitorPort",this.hiveSilent="silent",this.hiveDebugLevel="debugLevel",this.hiveDebugTimestamp="loggerTimestamp",this.hiveSetupTimeout="setupTimeout",this.hiveJavaTimeout="initTimeout",this.hiveWarnJavaTimeout="warnSlowRespTimeout"}return t}();t.kr=r}(e=t.Ir||(t.Ir={}))}(r=e.pt||(e.pt={}));var a;!function(t){var e=function(){function t(){}return t}();e.enabledRUM=!1,e.enableKeyCombination=!0,e.enabledErrorFilter=!0,t.ErrorMonitor=e}(a=e.HiveConfig||(e.HiveConfig={})),"undefined"!=typeof window&&("undefined"==typeof window.HiveConfig&&(window.HiveConfig={}),window.HiveConfig.ErrorMonitor=a.ErrorMonitor)},function(t,e,i){"use strict";var r,n=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},o=i(28).Cr,s=i(1),a=i(2),c=i(5),h=i(13),p=i(10),u=i(23);!function(t){var e="[TRACK] ";t.Or="hive-client-track",t.Pr="trackevent",t.Ar="NULLID",t.Nr="";var i=function(){function t(){}return t}();i.xr=0,i.Br=1,i.Fr=2,i._r=100,i.Dr=200,t.Hr=i;var r;!function(t){t[t.N=0]="PLAYING",t[t.Lr=1]="BUFFERING",t[t.W=2]="PAUSED",t[t.H=3]="SKIP",t[t.D=4]="STOPPED",t[t.ERROR=5]="ERROR",t[t.Mr=6]="WINDOW_SIZE",t[t.L=7]="FULLSCREEN",t[t.jr=8]="VISIBLE",t[t.HIDDEN=9]="HIDDEN"}(r=t.B||(t.B={}));var l;!function(t){t[t.Ur=0]="JAVA_NOT_REACHABLE",t[t.Vr=1]="JAVA_NOT_READY",t[t.Qr=2]="JAVA_WRONG_VERSION",t[t.qr=3]="JAVA_SESSION_BUSY",t[t.Jr=4]="JAVA_SESSION_ERROR",t[t.Kr=5]="JAVA_TICKET_TIMEOUT"}(l=t.Gr||(t.Gr={}));var d=function(){function t(){}return t}();t.zr=d;var f=function(){function t(){}return t}();t.Wr=f;var g=function(){function t(){}return t}();t.$r=g;var v=function(){function t(){this.type=i.Fr}return t}(),y=function(){function t(){this.sessions=new Array}return t.prototype.Yr=function(t,e){var i;this.sessions.forEach(function(e){e.sessionId==t&&(i=e)}),i||(i=new m,i.sessionId=t,this.sessions.push(i)),i.events.push(e)},t}();t.Xr=y;var m=function(){function t(){this.events=new Array}return t}();t.Zr=m;var w=function(){function i(){this.m=a.Framework.resolve(a.Framework.Fe.we).log(),this.tn=a.Framework.resolve(c.gi.ci),this.en=new Array,this.in=new Array,this.rn=new Array}return i.prototype.nn=function(t){this.client=t},i.prototype.init=function(t,i){this.sn=t,this.an(i),this.m.debug(e+"INIT ID: "+t)},i.prototype.an=function(t,e){this.app=t,e&&(this.cn=e)},i.prototype.hn=function(t){this.pn=t},i.prototype.un=function(t){var e=new S(t,this);this.en.push(e),this.ln=null,this.client.dn(!0)},i.prototype.wi=function(t,i,r){if(!this.ln)for(var n=0;n<this.en.length;n++){var o=this.en[n];if(o.ticket.sessionId===t){this.m.debug(e+"Activating Track for session "+t),this.ln=o;break}}if(this.ln){if(this.ln.ticket.sessionId!=t)return void this.m.warn(e+"ignoring manifest not matching event "+this.ln.ticket.sessionId+" != "+t);if(!this.ln.fn){var s=new b(t,i,r);this.ln.gn(s),this.client.dn()}}},i.prototype.vn=function(t,e,i){null!=this.ln&&(this.ln.fn||this.ln.yn.push(new k(t,e,i)))},i.prototype.mn=function(t,e,i){this.in.push(new I(t,e,i)),this.client.dn()},i.prototype.wn=function(t,e,i){this.rn.push(new R(t,e,i)),this.client.dn()},i.prototype.Tn=function(t){var e=this;t&&t.forEach(function(t){e.rn.push(t)})},i.prototype.Sn=function(){var t=new f;this.cn?(t.partnerId=this.cn.partnerId,t.customerId=this.cn.customerId):this.ln&&(t.partnerId=this.ln.ticket.bn(),t.customerId=this.ln.ticket.En()),t.version=this.app.app+"_"+(this.cn?this.cn.version:this.app.version),this.cn&&(t.installVersion=this.cn.installVersion,t.installTs=this.cn.installTs);var e=new o;return e.In(navigator.userAgent),t.os=e.Rn().name+" "+e.Rn().version,this.pn&&(t.commVersion=this.pn.commVersion,t.pluginName=this.pn.pluginName,t.pluginVersion=this.pn.pluginVersion,t.playerTech=this.pn.playerTech,t.playerVersion=this.pn.playerVersion,this.pn.telemetryId&&(t.telemetryId=this.pn.telemetryId)),t},i.prototype.kn=function(){return this.ln?this.ln:this.en&&this.en.length>0?this.en[this.en.length-1]:void 0},i.prototype.Cn=function(){var e=this,i=s.defer();0==this.en.length&&0==this.in.length&&i.reject("nothing to send");var r=new d;r.app=t.Or,r.createdAt=a.Framework.time(),r.guid=this.sn,r.name=t.Pr;var n=this.kn();if(n){var o=n.ticket.On().replace(/[\[\]]/g,"");r.tags=[o],r.tags.push(n.ticket.bn()),r.tags.push(n.ticket.En())}else r.tags=new Array;var c=new y;return c.peer=this.Sn(),this.en.forEach(function(t){t.fn||c.Yr(t.ticket.sessionId,t)}),this.in.forEach(function(t){c.Yr(t.sessionId,t)}),this.rn.forEach(function(t){c.Yr(t.sessionId,t)}),r.data=c,this.tn.Pn().then(function(t){var i=e.An(t);c.Yr("null",i)}).fail(function(t){})["finally"](function(){return i.resolve(r)}).done(),i.vt},i.prototype.An=function(t){var e=new v;e.ts=a.Framework.time();var i=t.Nn();return i.xn()&&(e.pubIp=i.xn()),i.Bn()&&(e.privIp=i.Bn()),t.Fn()&&(e.hostname=t.Fn()),i._n()&&(e.netmask=i._n()),i.Dn()&&(e.nic=i.Dn()),i.Hn()&&(e.nicName=i.Hn()),i.Ln()&&(e.mac=i.Ln()),e},i.prototype.Mn=function(){return this.cn?this.cn.userAgent:navigator.userAgent},i.prototype.reset=function(){this.en=new Array,this.in=new Array,this.rn=new Array},i.prototype.jn=function(t){},i}();t.Un=w;var T=function(){function t(t){this.Vn=isNaN(u.HiveConfig.DebugLogs.TrackSnapshotLogs)?0:u.HiveConfig.DebugLogs.TrackSnapshotLogs,this.Qn=t,this.m=a.Framework.resolve(a.Framework.Fe.we).log(),this.client=a.Framework.resolve(c.gi.Be),this.Qn.nn(this)}return t.prototype.dn=function(t){void 0===t&&(t=!1);var e=t?h.Kn.Jn.qn:h.Kn.Jn.Gn;if(this.zn){var i=this.Wn-(new Date).getTime();i>e&&(a.Framework.clearTimeout(this.zn),this.Wn=null,this.$n(e))}else this.$n(e)},t.prototype.$n=function(t){var e=this;this.zn=a.Framework.setTimeout(function(){e.Yn()},t),this.Wn=(new Date).getTime()+t},t.prototype.Yn=function(){var t=this;this.zn=null,this.Wn=null,this.m.debug(e+"TAKING A TRACK SNAPSHOT"),
  this.Qn.Cn().then(function(e){return t.forward(e)})["finally"](function(){return t.Qn.reset()})},t.prototype.forward=function(t){if(this.client&&this.client.Xn()){var i=JSON.stringify(t);switch(this.Vn){case 0:default:this.m.debug(e+"TRACK EVENT");break;case 1:this.m.debug(e+"TRACK EVENT:"+i)}var r=new p.Zn(Services.to,2,i);this.client.Xn().send(r)}},t}();t.eo=T;var S=function(){function t(t,e){this.createdAt=(new Date).getTime(),this.fn=!1,this.ticket=t,this.manifests=new Array,this.yn=new Array,this.Qn=e}return t.prototype.gn=function(t){this.manifests.push(t)},t.prototype.toJSON=function(){var t={};t.type=i.xr,t.ticket={},t.ticket.url=this.ticket.ticketUrl,t.ticket.reqTs=this.ticket.io,t.ticket.respTs=this.ticket.ro,t.ticket.userAgent=this.Qn.Mn(),t.manifests=[],this.manifests.forEach(function(e){var i={};i.url=e.url,i.respTs=e.ro,i.respCode=e.respCode,t.manifests.push(i)});var e=-1,r=-1,n=-1;return this.yn.forEach(function(t){t.no>0&&(e==-1&&(e=t.ts,r=t.no),n=t.no)}),e!=-1&&(t.playTs=e),n!=-1&&(t.buffTime=n),r!=-1&&(t.initBuffTime=r),t},t}();t.oo=S;var b=function(){function t(t,e,i){this.eventId=t,this.url=e,this.ro=(new Date).getTime(),this.respCode=i}return t}();t.so=b;var E=function(){function t(t,e,i,r){this.ts=(new Date).getTime(),this.sessionId=t,this.sessionId||(this.sessionId="null"),this.event=e,this.ao=i,r&&(this.ts=r)}return t.prototype.toJSON=function(){var t={};return t.type=this.co+this.event,t.ts=this.ts,this.ao&&(t.parameters=this.ao),t},t}();t.ho=E;var I=function(t){function e(e,r,n,o){var s=t.call(this,e,r,n,o)||this;return s.co=i._r,s}return n(e,t),e}(E);t.po=I;var R=function(t){function e(e,r,n,o){var s=t.call(this,e,r,n,o)||this;return s.co=i.Dr,s}return n(e,t),e}(E);t.uo=R;var k=function(){function t(t,e,i){this.ts=(new Date).getTime(),this.lr=t,this.lo=e,this.no=i}return t}();t.do=k}(r=e.F||(e.F={}))},function(t,e){"use strict";function i(){if(this.fo)return this.fo;var t=window&&window.window?window.window.vo:void 0;if("undefined"!=typeof t&&t.log&&t.debug&&t.info&&t.warn&&t.error&&(this.fo=t),!this.fo){var e=!("undefined"==typeof window.console),i=e?console.log.bind(console):function(){};this.fo={log:i,debug:e&&window.console.debug?window.console.debug.bind(console):i,info:e&&window.console.info?window.console.info.bind(console):i,warn:e&&window.console.warn?window.console.warn.bind(console):i,error:e&&window.console.error?window.console.error.bind(console):i}}return this.fo}e.u="[HiveServices] ";var r=function(){function t(){}return t}();r.yo=250,e.ke=r;var n=function(){function t(t,e,i){this.msgId=e,this.service=t,this.msg=i}return t.prototype.mo=function(){var t=new Uint8Array([this.service>>8,255&this.service]),e=new Uint8Array([this.msgId]),i=[t,e,this.msg];return new Blob(i,{type:"application/octet-binary"})},t.wo=function(e){var i=(String.fromCharCode.apply(null,new Uint8Array(e)),String.fromCharCode.apply(null,new Uint8Array(e.slice(3)))),r=new Uint8Array(e.slice(0,2)),n=new Uint8Array(e.slice(2,3)),o=(r[0]<<8)+r[1];return new t(o,n[0],i)},t}();e.Zn=n,e.m=i},function(t,e){"use strict";var i;!function(t){var e=function(){function t(){}return t}();e.LoggerTimestamp=!0,t.Framework=e;var i=function(){function t(){}return t}();i.MetricSnapshotLogs=0,i.TrackSnapshotLogs=0,t.DebugLogs=i}(i=e.HiveConfig||(e.HiveConfig={})),"undefined"!=typeof window&&("undefined"==typeof window.HiveConfig&&(window.HiveConfig={}),window.HiveConfig.Framework=i.Framework,window.HiveConfig.DebugLogs=i.DebugLogs)},function(t,e){"use strict";var i=function(){function t(){}return t}();i.To="127.0.0.1",i.br=8999,i.Sr=8998,i.Tr=8899,i.mr=8898,i.So="//{0}:{1}/?callback={2}{3}hivePluginId={4}",i.bo="//{0}:{1}/?callback={2}",i.Er=!0,i.Eo=/((http|https):\/\/(.*):([0-9]*)\/([0-9a-z-]*).ism\/)(.*)/,i.Io="2013.1.1",e.wr=i},function(t,e,i){"use strict";var r;!function(t){t.Ro=!0;var e=function(){function t(){}return t}();e.ko="wss://bee.hivestreaming.com:443/v1/hivejs",e.Co="wss://bee-test.hivestreaming.com:443/v1/hivejs",e.Oo={iceServers:[{url:"stun:stun.hivestreaming.com:3678"}]},e.Po=3e4,e.Gn=3e5,e.qn=8e4,e.Ao=3e4,e.No=100,e.xo=1e4,t.Jn=e}(r=e.Kn||(e.Kn={}))},function(t,e,i){"use strict";var r,n=i(4),o=n.ve,s=i(1),a=i(2),c=i(9),h=i(5),p=i(27);!function(t){t[t.IDLE=0]="IDLE",t[t.Bo=1]="PLAY"}(r=e.Fo||(e.Fo={}));var u=function(){function t(t,e,i,r){this.ticket=t,this._o=e,this.app=i,this.identity=r,this.Do=a.Framework.resolve(h.gi.li),this.Ho=a.Framework.resolve(h.gi.si),this.Qn=a.Framework.resolve(h.gi.di),this.Lo=new c.F.eo(this.Qn)}return t.prototype.an=function(t,e,i){this.app=new l(t,e),this.Do.an(this.app),this.Qn.an(this.app,i)},t.prototype.Ci=function(t){this.Ho.Ci(t)},t}();e.Mo=u;var l=function(){function t(t,e){this.app=t,this.version=e}return t}();e.jo=l;var d=function(){function t(){this.Uo=null,this.Vo=null,this.Qo=new o,this.m=a.Framework.resolve(a.Framework.Fe.we).log(),this.m.debug("INIT REPORTING"),this._o=a.Framework.resolve(h.gi.Be),this.qo=a.Framework.resolve(h.gi.Ce),this.Jo=a.Framework.resolve(h.gi.ai)}return t.prototype.initSession=function(t,e){var i=this,r=s.defer(),n=this.qo.Ko(),o=this.Jo.Go(t);return null!=o?n.then(function(t){return i.zo(t,o,r,e)}).fail(r.reject):r.reject("Ticket URL not valid"),r.vt},t.prototype.close=function(){this._o.close()},t.prototype.zo=function(t,e,i,r){var n=this;this.Uo=t.Wo(),this.Vo=t.$o();var o=this._o.init(this.Uo,e),s=this.Jo.resolve(o.Yo,e,r);o.vt.then(function(e){s.then(function(e){var r=e.sessionId;if(n.Qo.has(r)){var o=n.Qo.get(r);n.m.warn("SESSION ALREADY EXISTING "+o.Do.ticket)}else{var s=new l(p.Hive.Xo(),p.Hive.getVersion()),a=new u(e,n._o,s,t);a.Do.init(n.Vo,e,s,r),a.Qn.init(n.Vo,s),a.Qn.un(e),n.Qo.set(r,a),n.m.debug("SESSION SET ",r),i.resolve(a)}}).fail(function(t){return i.reject(t?t:"Error resolving the ticket")}),e.onerror(function(t){i.reject("Error establishing connection to Hive Services")})}).fail(function(t){return i.reject(t)}),this._o.connect()},t.prototype.Zo=function(t,e){return t.es()===e.es()&&t.En()===e.En()&&t.bn()===e.bn()},t}();e.rs=d},function(t,e,i){var r,r;!function(e){t.t=e()}(function(){return function t(e,i,n){function o(a,c){if(!i[a]){if(!e[a]){var h="function"==typeof r&&r;if(!c&&h)return r(a,!0);if(s)return s(a,!0);var p=new Error("Cannot find module '"+a+"'");throw p.code="MODULE_NOT_FOUND",p}var u=i[a]={t:{}};e[a][0].call(u.t,function(t){var i=e[a][1][t];return o(i?i:t)},u,u.t,t,e,i,n)}return i[a].t}for(var s="function"==typeof r&&r,a=0;a<n.length;a++)o(n[a]);return o}({1:[function(t,e,i){var r=t("./kernel");i.Ie=r.Ie;var n=t("./type_binding");i.ns=n.ns;var o=t("./type_binding_scope");i.ss=o.ss},{"./kernel":2,"./type_binding":4,"./type_binding_scope":5}],2:[function(t,e,i){var r=t("./type_binding_scope"),n=t("./lookup"),o=function(){function t(){this.as=new n.cs}return t.prototype.bind=function(t){this.as.add(t.hs,t)},t.prototype.ps=function(t){try{this.as.remove(t)}catch(e){throw new Error("Could not resolve service "+t)}},t.prototype.Ee=function(){this.as=new n.cs},t.prototype.resolve=function(t){var e;if(!this.as.us(t))return null;e=this.as.get(t);var i=e[0];if(i.scope===r.ss.ls&&null!==i.ds)return i.ds;var n=this.fs(i.gs);return i.ds=n,n},t.prototype.vs=function(t){var e,i,r,n,o,s;return o=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,s=/([^\s,]+)/g,e=t.toString().replace(o,""),i=e.indexOf("(")+1,r=e.indexOf(")"),n="function"==typeof Map&&-1!==e.indexOf("class")&&-1===e.indexOf("constructor")?null:e.slice(i,r).match(s),null===n&&(n=[]),n},t.prototype.fs=function(t){var e=this.vs(t);if(0===e.length)return new t;for(var i=[],r=null,n=0;n<e.length;n++){var o=e[n];r=this.resolve(o),i.push(r)}return this.ys(t,i)},t.prototype.ys=function(t,e){return new(Function.prototype.bind.apply(t,[null].concat(e)))},t}();i.Ie=o},{"./lookup":3,"./type_binding_scope":5}],3:[function(t,e,i){var r=function(){function t(t,e){this.key=t,this.value=new Array,this.value.push(e)}return t}(),n=function(){function t(){this.ms=new Array}return t.prototype.ws=function(t){for(var e=-1,i=0;i<this.ms.length;i++){var r=this.ms[i];r.key===t&&(e=i)}return e},t.prototype.add=function(t,e){if(null===t||void 0===t)throw new Error("Argument Null");if(null===e||void 0===e)throw new Error("Argument Null");var i=this.ws(t);if(-1!==i){var n=this.ms[i];n.key===t&&n.value.push(e)}else this.ms.push(new r(t,e))},t.prototype.get=function(t){if(null===t||void 0===t)throw new Error("Argument Null");var e=this.ws(t);if(-1===e)throw new Error("Key Not Found");var i=this.ms[e];return i.key===t?i.value:void 0},t.prototype.remove=function(t){if(null===t||void 0===t)throw new Error("Argument Null");var e=this.ws(t);if(-1===e)throw new Error("Key Not Found");this.ms.splice(e,1)},t.prototype.us=function(t){if(null===t||void 0===t)throw new Error("Argument Null");var e=this.ws(t);return-1!==e},t}();i.cs=n},{}],4:[function(t,e,i){var r=t("./type_binding_scope"),n=function(){function t(t,e,i){if(this.hs=t,this.gs=e,this.ds=null,"undefined"==typeof i)this.scope=r.ss.Ts;else{if(!r.ss[i]){var n="Invalid scope type "+i;throw new Error(n)}this.scope=i}}return t}();i.ns=n},{"./type_binding_scope":5}],5:[function(t,e,i){var r;!function(t){t[t.Ts=0]="Transient",t[t.ls=1]="Singleton"}(r||(r={})),i.ss=r},{}]},{},[1])(1)})},function(module,exports,__webpack_require__){var Thrift={Ss:"0.9.2",bs:{Es:0,Is:1,BOOL:2,BYTE:3,Rs:3,ks:4,Cs:6,Os:8,Ps:10,As:11,Ns:11,xs:12,Bs:13,Fs:14,_s:15,Ds:16,Hs:17},Ls:{Ms:1,js:2,Us:3,Vs:4},Qs:function(t){var e=0;for(var i in t)t.hasOwnProperty(i)&&e++;return e},qs:function(t,e,i){function r(){}r.prototype=e.prototype,t.prototype=new r,t.prototype.name=i||""}};Thrift.Js=function(t){this.message=t},Thrift.qs(Thrift.Js,Error,"TException"),Thrift.Js.prototype.Ks=function(){return this.message},Thrift.Gs={zs:0,Ws:1,$s:2,Ys:3,Xs:4,Zs:5,ta:6,ea:7,ia:8,ra:9,na:10},Thrift.oa=function(t,e){this.message=t,this.code="number"==typeof e?e:0},Thrift.qs(Thrift.oa,Thrift.Js,"TApplicationException"),Thrift.oa.prototype.read=function(t){for(;;){var e=t.sa();if(e.aa==Thrift.bs.Es)break;var i=e.ca;switch(i){case 1:e.aa==Thrift.bs.As?(e=t.ha(),this.message=e.value):e=t.pa(e.aa);break;case 2:e.aa==Thrift.bs.Os?(e=t.ua(),this.code=e.value):e=t.pa(e.aa);break;default:e=t.pa(e.aa)}t.la()}t.da()},Thrift.oa.prototype.write=function(t){t.fa("TApplicationException"),this.message&&(t.ga("message",Thrift.bs.As,1),t.va(this.Ks()),t.ya()),this.code&&(t.ga("type",Thrift.bs.Os,2),t.ma(this.code),t.ya()),t.wa(),t.Ta()},Thrift.oa.prototype.Sa=function(){return this.code},Thrift.ba=Thrift.Ea=function(t,e){this.url=t,this.Ia=0,this.Ra=0,this.ka=e&&e.ka,this.Ca="",this.Oa=""},Thrift.Ea.prototype={Pa:function(){try{return new XMLHttpRequest}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(i){}throw"Your browser doesn't support XHR."},flush:function(t,e){var i=this;if(t&&!e||void 0===this.url||""===this.url)return this.Ca;var r=this.Pa();if(r.overrideMimeType&&r.overrideMimeType("application/json"),e&&(r.onreadystatechange=function(){var t=e;return function(){4==this.readyState&&200==this.status&&(i.Aa(this.responseText),t())}}()),r.open("POST",this.url,!!t),r.send(this.Ca),!t||!e){if(4!=r.readyState)throw"encountered an unknown ajax ready state: "+r.readyState;if(200!=r.status)throw"encountered a unknown request status: "+r.status;this.Oa=r.responseText,this.Na=this.Oa.length,this.Ia=this.Oa.length,this.Ra=0}},xa:function(t,e,i,r){if("undefined"==typeof jQuery||"undefined"==typeof jQuery.Deferred)throw"Thrift.js requires jQuery 1.5+ to use asynchronous requests";var n=this,o=jQuery.ajax({url:this.url,data:e,type:"POST",ds:!1,contentType:"application/json",Ba:"text thrift",Fa:{_a:function(e){n.Aa(e);var i=r.call(t);return i}},context:t,success:jQuery.makeArray(i).pop()});return o},Aa:function(t){this.Oa=t,this.Na=this.Oa.length,this.Ia=this.Oa.length,this.Ra=0},isOpen:function(){return!0},open:function(){},close:function(){},read:function(t){var e=this.Ia-this.Ra;if(0===e)return"";var i=t;e<t&&(i=e);var r=this.read_buf.substr(this.Ra,i);return this.Ra+=i,r},Da:function(){return this.Oa},write:function(t){this.Ca=t},Ha:function(){return this.Ca}},Thrift.La=function(t){this.Ma(t)},Thrift.La.prototype={Ma:function(t){this.url=t,this.ja=null,this.callbacks=[],this.Ua=[],this.Ca="",this.Oa="",this.Va=0,this.Qa=0},flush:function(t,e){var i=this;this.isOpen()?(this.ja.send(this.Ca),this.callbacks.push(function(){var t=e;return function(e){i.Aa(e),t()}}())):this.Ua.push({qa:this.Ca,Ja:e})},Ka:function(){var t=this;this.Ua.length>0&&(this.Ua.forEach(function(e){this.ja.send(e.qa),this.callbacks.push(function(){var i=e.Ja;return function(e){t.Aa(e),i()}}())}),this.Ua=[])},Ga:function(t){this.Ma(this.url)},za:function(t){this.callbacks.length&&this.callbacks.shift()(t.data)},Wa:function(t){console.log("Thrift WebSocket Error: "+t.toString()),this.ja.close()},Aa:function(t){this.Oa=t,this.Na=this.Oa.length,this.Ia=this.Oa.length,this.Ra=0},isOpen:function(){return this.ja&&this.ja.readyState==this.ja.OPEN},open:function(){this.ja&&this.ja.readyState!=this.ja.CLOSED||(this.ja=new WebSocket(this.url),this.ja.onopen=this.Ka.bind(this),this.ja.onmessage=this.za.bind(this),this.ja.onerror=this.Wa.bind(this),this.ja.onclose=this.Ga.bind(this))},close:function(){this.ja.close()},read:function(t){var e=this.Ia-this.Ra;if(0===e)return"";var i=t;e<t&&(i=e);var r=this.read_buf.substr(this.Ra,i);return this.Ra+=i,r},Da:function(){return this.Oa},write:function(t){this.Ca=t},Ha:function(){return this.Ca}},Thrift.$a=Thrift.Ya=function(t){this.Xa=t},Thrift.Ya.bs={},Thrift.Ya.bs[Thrift.bs.BOOL]='"tf"',Thrift.Ya.bs[Thrift.bs.BYTE]='"i8"',Thrift.Ya.bs[Thrift.bs.Cs]='"i16"',Thrift.Ya.bs[Thrift.bs.Os]='"i32"',Thrift.Ya.bs[Thrift.bs.Ps]='"i64"',Thrift.Ya.bs[Thrift.bs.ks]='"dbl"',Thrift.Ya.bs[Thrift.bs.xs]='"rec"',Thrift.Ya.bs[Thrift.bs.As]='"str"',Thrift.Ya.bs[Thrift.bs.Bs]='"map"',Thrift.Ya.bs[Thrift.bs._s]='"lst"',Thrift.Ya.bs[Thrift.bs.Fs]='"set"',Thrift.Ya.Za={},Thrift.Ya.Za.tc=Thrift.bs.BOOL,Thrift.Ya.Za.ec=Thrift.bs.BYTE,Thrift.Ya.Za.ic=Thrift.bs.Cs,Thrift.Ya.Za.rc=Thrift.bs.Os,Thrift.Ya.Za.nc=Thrift.bs.Ps,Thrift.Ya.Za.oc=Thrift.bs.ks,Thrift.Ya.Za.sc=Thrift.bs.xs,Thrift.Ya.Za.ac=Thrift.bs.As,Thrift.Ya.Za.map=Thrift.bs.Bs,Thrift.Ya.Za.cc=Thrift.bs._s,Thrift.Ya.Za.set=Thrift.bs.Fs,Thrift.Ya.Ss=1,Thrift.Ya.prototype={hc:function(){return this.Xa},pc:function(t,e,i){this.uc=[],this.lc=[],this.uc.push([Thrift.Ya.Ss,'"'+t+'"',e,i])},dc:function(){var t=this.uc.pop();this.fc=this.uc.pop(),this.fc.push(t),this.gc="["+this.fc.join(",")+"]",this.Xa.write(this.gc)},fa:function(t){this.lc.push(this.uc.length),this.uc.push({})},Ta:function(){var t=this.lc.pop(),e=this.uc[t],i="{",r=!0;for(var n in e)r?r=!1:i+=",",i+=n+":"+e[n];i+="}",this.uc[t]=i},ga:function(t,e,i){this.lc.push(this.uc.length),this.uc.push({vc:'"'+i+'"',yc:Thrift.Ya.bs[e]})},ya:function(){var t=this.uc.pop(),e=this.uc.pop();this.uc[this.uc.length-1][e.vc]="{"+e.yc+":"+t+"}",this.lc.pop()},wa:function(){},mc:function(t,e,i){this.lc.push(this.uc.length),this.uc.push([Thrift.Ya.bs[t],Thrift.Ya.bs[e],0])},wc:function(){var t=this.lc.pop();if(t!=this.uc.length){(this.uc.length-t-1)%2!==0&&this.uc.push("");var e=(this.uc.length-t-1)/2;this.uc[t][this.uc[t].length-1]=e;for(var i="}",r=!0;this.uc.length>t+1;){var n=this.uc.pop(),o=this.uc.pop();r?r=!1:i=","+i,isNaN(o)||(o='"'+o+'"'),i=o+":"+n+i}i="{"+i,this.uc[t].push(i),this.uc[t]="["+this.uc[t].join(",")+"]"}},Tc:function(t,e){this.lc.push(this.uc.length),this.uc.push([Thrift.Ya.bs[t],e])},Sc:function(){for(var t=this.lc.pop();this.uc.length>t+1;){var e=this.uc[t+1];this.uc.splice(t+1,1),this.uc[t].push(e)}this.uc[t]="["+this.uc[t].join(",")+"]"},bc:function(t,e){this.lc.push(this.uc.length),this.uc.push([Thrift.Ya.bs[t],e])},Ec:function(){for(var t=this.lc.pop();this.uc.length>t+1;){var e=this.uc[t+1];this.uc.splice(t+1,1),this.uc[t].push(e)}this.uc[t]="["+this.uc[t].join(",")+"]"},Ic:function(t){this.uc.push(t?1:0)},Rc:function(t){this.uc.push(t)},kc:function(t){this.uc.push(t)},ma:function(t){this.uc.push(t)},Cc:function(t){this.uc.push(t)},Oc:function(t){this.uc.push(t)},va:function(t){if(null===t)this.uc.push(null);else{for(var e="",i=0;i<t.length;i++){var r=t.charAt(i);e+='"'===r?'\\"':"\\"===r?"\\\\":"\b"===r?"\\b":"\f"===r?"\\f":"\n"===r?"\\n":"\r"===r?"\\r":"\t"===r?"\\t":r}this.uc.push('"'+e+'"')}},Pc:function(t){this.va(t)},Ac:function(){this.Nc=[],this.Ra=[],"undefined"!=typeof JSON&&"function"==typeof JSON.parse?this.xc=JSON.parse(this.Xa.Da()):"undefined"!=typeof jQuery?this.xc=jQuery.parseJSON(this.Xa.Da()):this.xc=eval(this.Xa.Da());var r={},version=this.xc.shift();if(version!=Thrift.Ya.Ss)throw"Wrong thrift protocol version: "+version;return r.Bc=this.xc.shift(),r.Fc=this.xc.shift(),r._c=this.xc.shift(),this.Nc.push(this.xc.shift()),r},Dc:function(){},Hc:function(t){var e={};return e.Bc="",this.Nc[this.Nc.length-1]instanceof Array&&this.Nc.push(this.Nc[this.Nc.length-1].shift()),e},da:function(){this.Nc[this.Nc.length-2]instanceof Array&&this.Nc.pop()},sa:function(){var t={},e=-1,i=Thrift.bs.Es;for(var r in this.Nc[this.Nc.length-1])if(null!==r){e=parseInt(r,10),this.Ra.push(this.Nc.length);var n=this.Nc[this.Nc.length-1][e];delete this.Nc[this.Nc.length-1][e],this.Nc.push(n);break}if(e!=-1)for(var o in this.Nc[this.Nc.length-1])null!==Thrift.Ya.Za[o]&&(i=Thrift.Ya.Za[o],this.Nc[this.Nc.length-1]=this.Nc[this.Nc.length-1][o]);return t.Bc="",t.aa=i,t.ca=e,t},la:function(){for(var t=this.Ra.pop();this.Nc.length>t;)this.Nc.pop()},Lc:function(){var t=this.Nc.pop(),e=t.shift();e instanceof Array&&(this.Nc.push(t),t=e,e=t.shift());var i={};return i.Mc=Thrift.Ya.Za[e],i.jc=Thrift.Ya.Za[t.shift()],i.size=t.shift(),this.Ra.push(this.Nc.length),this.Nc.push(t.shift()),i},Uc:function(){this.la()},Vc:function(){var t=this.Nc[this.Nc.length-1],e={};return e.Qc=Thrift.Ya.Za[t.shift()],e.size=t.shift(),this.Ra.push(this.Nc.length),this.Nc.push(t),e},qc:function(){this.la()},Jc:function(t,e){return this.Vc(t,e)},Kc:function(){return this.qc()},Gc:function(){var t=this.ua();return null!==t&&"1"==t.value?t.value=!0:t.value=!1,t},zc:function(){return this.ua()},Wc:function(){return this.ua()},ua:function(t){void 0===t&&(t=this.Nc[this.Nc.length-1]);var e={};if(t instanceof Array)0===t.length?e.value=void 0:e.value=t.shift();else if(t instanceof Object){for(var i in t)if(null!==i){this.Nc.push(t[i]),delete t[i],e.value=i;break}}else e.value=t,this.Nc.pop();return e},$c:function(){return this.ua()},Yc:function(){return this.ua()},ha:function(){var t=this.ua();return t},Xc:function(){return this.ha()},pa:function(t){var e,i;switch(t){case Thrift.bs.Es:return null;case Thrift.bs.BOOL:return this.Gc();case Thrift.bs.BYTE:return this.zc();case Thrift.bs.Cs:return this.Wc();case Thrift.bs.Os:return this.ua();case Thrift.bs.Ps:return this.$c();case Thrift.bs.ks:return this.Yc();case Thrift.bs.As:return this.ha();case Thrift.bs.xs:for(this.Hc();;){if(e=this.sa(),e.aa==Thrift.bs.Es)break;this.pa(e.aa),this.la()}return this.da(),null;case Thrift.bs.Bs:for(e=this.Lc(),i=0;i<e.size;i++)i>0&&this.Nc.length>this.Ra[this.Ra.length-1]+1&&this.Nc.pop(),this.pa(e.Mc),this.pa(e.jc);return this.Uc(),null;case Thrift.bs.Fs:for(e=this.Jc(),i=0;i<e.size;i++)this.pa(e.Qc);return this.Kc(),null;case Thrift.bs._s:for(e=this.Vc(),i=0;i<e.size;i++)this.pa(e.Qc);return this.qc(),null}}},Thrift.Zc=function(t,e,i,r){Thrift.Ya.call(this,e,i,r),this.th=t},Thrift.qs(Thrift.Zc,Thrift.Ya,"multiplexProtocol"),Thrift.Zc.prototype.pc=function(t,e,i){e===Thrift.Ls.Ms||e===Thrift.Ls.Vs?Thrift.Ya.prototype.pc.call(this,this.th+":"+t,e,i):Thrift.Ya.prototype.pc.call(this,t,e,i)},Thrift.eh=function(){this.ih=0},Thrift.eh.prototype.rh=function(t,e,i){e.eo&&(e=e.eo);var r=this;e.prototype.nh=function(){return r.ih+=1,r.ih};var n=new e(new Thrift.Zc(t,i));return n},module.t=Thrift},function(t,e){"use strict";var i;!function(t){function e(t){return n[t]}var i=function(){function t(){}return t}();t.HiveSession=i;var r;!function(t){t[t.oh=0]="GENERIC_ERROR",t[t.sh=1]="NO_TECH_AVAILABLE",t[t.ah=2]="NO_TECH_RESOLVED",t[t.hh=3]="TECH_ERROR",t[t.ph=4]="TICKET_ERROR"}(r=t.uh||(t.uh={}));var n;!function(t){t[t["lh"]=0]="Generic Undefined Error",t[t["dh"]=1]="No Tech available to resolve the ticket",t[t["fh"]=2]="No available Tech could resolved the ticket",t[t["gh"]=3]="Stopped resolving session on last tech onError",t[t["vh"]=4]="The ticket could not be resolved"}(n||(n={}));var o=function(){function t(){}return t}();t.HiveSessionError=o;var s=function(){function t(t,e){this.code=t,this.message=e}return t}();t.HiveTechError=s;var a;!function(t){t[t.yh=0]="NOT_READY",t[t.mh=1]="PLUGIN_ERROR",t[t.wh=2]="SESSION_ERROR",t[t.ph=3]="TICKET_ERROR",t[t.Th=4]="VERSION_ERROR",t[t.Sh=5]="TIMEOUT_ERROR"}(a=t.bh||(t.bh={}));var c;!function(t){t[t.Eh=0]="OK",t[t.Ih=1]="HIVE_NOT_ALLOWED",t[t.Rh=2]="TICKET_NOT_RESOLVED",t[t.kh=3]="TIMEOUT_RESOLVING_TICKET"}(c=t.Ch||(t.Ch={})),t.getHiveSessionErrorMessage=e;var h=function(){function t(t){this.Oh=t}return t.prototype.getPluginStatusCode=function(){return this.Oh.Ph()},t}();t.Ah=h}(i=e.pt||(e.pt={})),"undefined"!=typeof window&&("undefined"==typeof window.pt&&(window.pt={}),window.pt.getHiveSessionErrorMessage=i.getHiveSessionErrorMessage)},function(t,e){"use strict";var i=function(){function t(){}return t}();i.yr="https:"===location.protocol,i.Er=!0,i.Nh=1e4,i.xh=6e4,e.ke=i},function(t,e,i){"use strict";var r=i(41),n=i(8),o=i(25);if("undefined"==typeof s)var s="592835a6b4204dd197c00488610003e0";if("undefined"==typeof a)var a="0.8";if("undefined"==typeof c)var c=!0;var h=function(){function t(){if(this.st=!1,t.Gi)throw new Error("Error: Instantiation failed: Use AtatusLogger.getInstance() instead of new.");var e,i=void 0!=n.HiveConfig.ErrorMonitor.key?n.HiveConfig.ErrorMonitor.key:s,r=1==n.HiveConfig.ErrorMonitor.enabledRUM,a=1==n.HiveConfig.ErrorMonitor.enableKeyCombination,h=1==n.HiveConfig.ErrorMonitor.enabledErrorFilter;h&&(e=this.Bh()),atatus&&(void 0==n.HiveConfig.ErrorMonitor.enabled&&c||void 0!=n.HiveConfig.ErrorMonitor.enabled&&1==n.HiveConfig.ErrorMonitor.enabled)&&(atatus.config(i,{enableSourcemap:!0,disableRUM:!r,version:o.version,beforeErrorSend:function(t){var i=!1;if(t&&t.customData&&"undefined"!=typeof t.customData.forceSend&&(i=t.customData.forceSend,delete t.customData.forceSend,0===Object.keys(t.customData).length&&(t.customData=null)),!h||i)return!0;if(!e)return!1;try{var r=!1;if(t.backTraces){for(var n=0,o=t.backTraces;n<o.length;n++){var s=o[n],a=s.f.indexOf(e)>-1;if(a&&s.ln>5){r=!0;break}}r&&(t.name=t.name.replace(/%s \[[0-9]{2}:[0-9]{2}:[0-9]{2}:[0-9]+] /,""),t.name.indexOf("Status Code Error:")>=0&&(t.tags=["Plugin Error Code",t.name.split(":")[1].trim()]))}return r}catch(c){return!1}}}).install(),a&&this.Fh(),this.st=!0,window.console&&console.log("[HiveComm] Error Monitor installed [RUM:"+r+", KeyHandler:"+a+"]"),h&&!e&&this._h("Could not extract error filter"))}return t.Wi=function(){return void 0===this.Gi&&(this.Gi=new t),this.Gi},t.prototype.Fh=function(){r.Hh.Wi().Dh([16,17,88],function(){try{throw new Error("Upload console logs")}catch(t){atatus.notify(t),window.console&&console.log("[HiveComm] console log uploaded for debugging")}})},t.prototype.Bh=function(){try{throw new Error("test")}catch(t){var e=t.stack.match(/(\/\/.*\.js)/i);if(e&&e.length>0)return e[0]}},t.prototype.setUser=function(t){atatus&&this.st&&atatus.setUser(t)},t.prototype.Lh=function(t){this.m=t},t.prototype.setCustomData=function(t){atatus&&this.st&&atatus.setCustomData(t)},t.prototype._h=function(t,e){if(this.m&&this.m.warn(t),atatus&&this.st)try{throw new Error(t)}catch(i){e||(e={}),e.forceSend=!0,atatus.notify(i,e)}},t.prototype.setTags=function(t){atatus&&this.st&&atatus.setTags(t)},t.prototype.notify=function(t,e){atatus&&this.st&&(e||(e={}),e.forceSend=!0,atatus.notify(t,e))},t}();e.ErrorMonitor=h},function(t,e,i){"use strict";var r=i(21),n=i(34),o=n.Mh,s=n.jh,a=function(){function t(){this.SourceURLParams={}}return t.prototype.Uh=function(t){for(var e in t)if("SourceURLParams"===e)for(var i in t[e])this[e][i]=t[e][i];else this[e]=t[e];this.Vh()},t.prototype.Qh=function(){var t="b6614c3e4cd1d14eed6b39ef2bf6b9a3e3d6dfcd26699d7270d887923bcbf83efb3dadb717c0bafb1d48dce361eb369b7cc46e57405ebfbdd86c3175532fe56cc77f473d345b2cb6feafb5ab0e24f364a3d259f27e4a2fd97468265bddfd3ddd3ac64251db650ca0280af2b2c45e8b1c8f040f2c433ac0a157d2b3fd91517253",e="010001",i=this.ContentId+this.SiteId+this.CROId+this.SourceURL,r=new o;r.qh(t,e);var n=s(this.Signature);return r.Jh(i,n)},t.prototype.Kh=function(t){this.ticketUrl=t;var e=r.parse(t),i=e.path.split("/").slice(3);if(this.SiteId=i[0],this.CROId=i[1],this.ContentId=i[2],this.Gh=i[3],e.vi)try{var n=e.vi.split("&");for(var o in n){var s=n[o].split(/=(.+)/);this.SourceURLParams[s[0]]=s[1]}}catch(a){}this.zh=t.indexOf("api-test")>-1},t.prototype.bn=function(){return this.SiteId},t.prototype.En=function(){return this.CROId},t.prototype.es=function(){return this.ContentId},t.prototype.Wh=function(){return this.Gh},t.prototype.$h=function(){return this.SourceURL},t.prototype.Yh=function(){if(this.Xh=this.SourceURL,void 0!=this.SourceURLParams){var t=new Array;for(var e in this.SourceURLParams)t.push(e+"="+this.SourceURLParams[e]);t.length>0&&this.Xh&&(this.Xh+=(this.Xh.indexOf("?")>0?"&":"?")+t.join("&"))}},t.prototype.Vh=function(){var t=i(22);this.sessionId=t.Zh()},t.prototype.tp=function(){return this.Xh||this.Yh(),this.Xh},t.prototype.On=function(){return"["+this.SiteId+"/"+this.CROId+"/"+this.ContentId+"]"},t.prototype.ep=function(){return[this.SiteId,this.CROId,this.ContentId]},t.prototype.ip=function(){return this.SourceURL+"-["+this.SiteId+"/"+this.CROId+"/"+this.ContentId+"]"},t.prototype.toString=function(){return this.On()},t}();a.rp="^https?://api(?:-test)?.hivestreaming.com/v1/events/(?:wildcard/)?",a.np="CROId",a.op="SiteId",a.sp="ContentId",e.ap=a},function(t,e,i){var r,n,o;/*!
 * URI.js - Mutating URLs
 *
 * Version: 1.18.10
 *
 * Author: Rodney Rehm
 * Web: http://medialize.github.io/URI.js/
 *
 * Licensed under
 *   MIT License http://www.opensource.org/licenses/mit-license
 *
 */
  !function(s,a){"use strict";"object"==typeof t&&t.t?t.t=a(i(6),i(6),i(6)):(n=[i(6),i(6),i(6)],r=a,o="function"==typeof r?r.apply(e,n):r,!(void 0!==o&&(t.t=o)))}(this,function(t,e,i,r){"use strict";function n(t,e){var i=arguments.length>=1,r=arguments.length>=2;if(!(this instanceof n))return i?r?new n(t,e):new n(t):new n;if(void 0===t){if(i)throw new TypeError("undefined is not a valid argument for URI");t="undefined"!=typeof location?location.href+"":""}if(null===t&&i)throw new TypeError("null is not a valid argument for URI");return this.href(t),void 0!==e?this.cp(e):this}function o(t){return t.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function s(t){return void 0===t?"Undefined":String(Object.prototype.toString.call(t)).slice(8,-1)}function a(t){return"Array"===s(t)}function c(t,e){var i,r,n={};if("RegExp"===s(e))n=null;else if(a(e))for(i=0,r=e.length;i<r;i++)n[e[i]]=!0;else n[e]=!0;for(i=0,r=t.length;i<r;i++){var o=n&&void 0!==n[t[i]]||!n&&e.test(t[i]);o&&(t.splice(i,1),r--,i--)}return t}function h(t,e){var i,r;if(a(e)){for(i=0,r=e.length;i<r;i++)if(!h(t,e[i]))return!1;return!0}var n=s(e);for(i=0,r=t.length;i<r;i++)if("RegExp"===n){if("string"==typeof t[i]&&t[i].match(e))return!0}else if(t[i]===e)return!0;return!1}function p(t,e){if(!a(t)||!a(e))return!1;if(t.length!==e.length)return!1;t.sort(),e.sort();for(var i=0,r=t.length;i<r;i++)if(t[i]!==e[i])return!1;return!0}function u(t){var e=/^\/+|\/+$/g;return t.replace(e,"")}function l(t){return escape(t)}function d(t){return encodeURIComponent(t).replace(/[!'()*]/g,l).replace(/\*/g,"%2A")}function f(t){return function(e,i){return void 0===e?this.hp[t]||"":(this.hp[t]=e||null,this.pp(!i),this)}}function g(t,e){return function(i,r){return void 0===i?this.hp[t]||"":(null!==i&&(i+="",i.charAt(0)===e&&(i=i.substring(1))),this.hp[t]=i,this.pp(!r),this)}}var v=r&&r.up;n.version="1.18.10";var y=n.prototype,m=Object.prototype.hasOwnProperty;n.hp=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,vi:null,lp:null,dp:n.dp,fp:n.fp}},n.dp=!1,n.fp=!0,n.gp=/^[a-z][a-z0-9.+-]*$/i,n.vp=/[^a-z0-9\.-]/i,n.yp=/(xn--)/i,n.mp=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,n.wp=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,n.Tp=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?«»“”‘’]))/gi,n.Sp={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?«»“”„‘’]+$/,bp:/(\([^\)]*\)|\[[^\]]*\]|\{[^}]*\}|<[^>]*>)/g},n.Ep={Ip:"80",Rp:"443",kp:"21",Cp:"70",Op:"80",Pp:"443"},n.Ap=/[^a-zA-Z0-9\.-]/,n.Np={a:"href",xp:"cite",link:"href",Bp:"href",Fp:"src",form:"action",_p:"src",Dp:"href",Hp:"src",Lp:"src",source:"src",track:"src",input:"src",Mp:"src",video:"src"},n.jp=function(t){if(t&&t.nodeName){var e=t.nodeName.toLowerCase();if("input"!==e||"image"===t.type)return n.Np[e]}},n.encode=d,n.decode=decodeURIComponent,n.Up=function(){n.encode=escape,n.decode=unescape},n.Vp=function(){n.encode=d,n.decode=decodeURIComponent},n.Qp={pathname:{encode:{qp:/%(24|26|2B|2C|3B|3D|3A|40)/gi,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{qp:/[\/\?#]/g,map:{Jp:"%2F",Kp:"%3F",Gp:"%23"}}},zp:{encode:{qp:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/gi,map:{"%3A":":",Wp:"/",$p:"?",Yp:"#",Xp:"[",Zp:"]","%40":"@",tu:"!","%24":"$","%26":"&",eu:"'",iu:"(",ru:")",nu:"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}},ou:{encode:{qp:/%(21|24|27|28|29|2A|2B|2C|3B|3D|40)/gi,map:{tu:"!","%24":"$",eu:"'",iu:"(",ru:")",nu:"*","%2B":"+","%2C":",","%3B":";","%3D":"=","%40":"@"}},decode:{qp:/[\/\?#:]/g,map:{Jp:"%2F",Kp:"%3F",Gp:"%23",su:"%3A"}}}},n.au=function(t,e){var i=n.encode(t+"");return void 0===e&&(e=n.fp),e?i.replace(/%20/g,"+"):i},n.cu=function(t,e){t+="",void 0===e&&(e=n.fp);try{return n.decode(e?t.replace(/\+/g,"%20"):t)}catch(i){return t}};var w,T={encode:"encode",decode:"decode"},S=function(t,e){return function(i){try{return n[e](i+"").replace(n.Qp[t][e].qp,function(i){return n.Qp[t][e].map[i]})}catch(r){return i}}};for(w in T)n[w+"PathSegment"]=S("pathname",T[w]),n[w+"UrnPathSegment"]=S("urnpath",T[w]);var b=function(t,e,i){return function(r){var o;o=i?function(t){return n[e](n[i](t))}:n[e];for(var s=(r+"").split(t),a=0,c=s.length;a<c;a++)s[a]=o(s[a]);return s.join(t)}};n.hu=b("/","decodePathSegment"),n.pu=b(":","decodeUrnPathSegment"),n.uu=b("/","encodePathSegment","decode"),n.lu=b(":","encodeUrnPathSegment","decode"),n.du=S("reserved","encode"),n.parse=function(t,e){var i;return e||(e={}),i=t.indexOf("#"),i>-1&&(e.lp=t.substring(i+1)||null,t=t.substring(0,i)),i=t.indexOf("?"),i>-1&&(e.vi=t.substring(i+1)||null,t=t.substring(0,i)),"//"===t.substring(0,2)?(e.protocol=null,t=t.substring(2),t=n.fu(t,e)):(i=t.indexOf(":"),i>-1&&(e.protocol=t.substring(0,i)||null,e.protocol&&!e.protocol.match(n.gp)?e.protocol=void 0:"//"===t.substring(i+1,i+3)?(t=t.substring(i+3),t=n.fu(t,e)):(t=t.substring(i+1),e.urn=!0))),e.path=t,e},n.gu=function(t,e){t=t.replace(/\\/g,"/");var i,r,n=t.indexOf("/");if(n===-1&&(n=t.length),"["===t.charAt(0))i=t.indexOf("]"),e.hostname=t.substring(1,i)||null,e.port=t.substring(i+2,n)||null,"/"===e.port&&(e.port=null);else{var o=t.indexOf(":"),s=t.indexOf("/"),a=t.indexOf(":",o+1);a!==-1&&(s===-1||a<s)?(e.hostname=t.substring(0,n)||null,e.port=null):(r=t.substring(0,n).split(":"),e.hostname=r[0]||null,e.port=r[1]||null)}return e.hostname&&"/"!==t.substring(n).charAt(0)&&(n++,t="/"+t),t.substring(n)||"/"},n.fu=function(t,e){return t=n.vu(t,e),n.gu(t,e)},n.vu=function(t,e){var i,r=t.indexOf("/"),o=t.lastIndexOf("@",r>-1?r:t.length-1);return o>-1&&(r===-1||o<r)?(i=t.substring(0,o).split(":"),e.username=i[0]?n.decode(i[0]):null,i.shift(),e.password=i[0]?n.decode(i.join(":")):null,t=t.substring(o+1)):(e.username=null,e.password=null),t},n.yu=function(t,e){if(!t)return{};if(t=t.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,""),!t)return{};for(var i,r,o,s={},a=t.split("&"),c=a.length,h=0;h<c;h++)i=a[h].split("="),r=n.cu(i.shift(),e),o=i.length?n.cu(i.join("="),e):null,m.call(s,r)?("string"!=typeof s[r]&&null!==s[r]||(s[r]=[s[r]]),s[r].push(o)):s[r]=o;return s},n.pp=function(t){var e="";return t.protocol&&(e+=t.protocol+":"),t.urn||!e&&!t.hostname||(e+="//"),e+=n.mu(t)||"","string"==typeof t.path&&("/"!==t.path.charAt(0)&&"string"==typeof t.hostname&&(e+="/"),e+=t.path),"string"==typeof t.vi&&t.vi&&(e+="?"+t.vi),"string"==typeof t.lp&&t.lp&&(e+="#"+t.lp),e},n.wu=function(t){var e="";return t.hostname?(e+=n.wp.test(t.hostname)?"["+t.hostname+"]":t.hostname,t.port&&(e+=":"+t.port),e):""},n.mu=function(t){return n.Tu(t)+n.wu(t)},n.Tu=function(t){var e="";return t.username&&(e+=n.encode(t.username)),t.password&&(e+=":"+n.encode(t.password)),e&&(e+="@"),e},n.Su=function(t,e,i){var r,o,s,c,h="";for(o in t)if(m.call(t,o)&&o)if(a(t[o]))for(r={},s=0,c=t[o].length;s<c;s++)void 0!==t[o][s]&&void 0===r[t[o][s]+""]&&(h+="&"+n.bu(o,t[o][s],i),e!==!0&&(r[t[o][s]+""]=!0));else void 0!==t[o]&&(h+="&"+n.bu(o,t[o],i));return h.substring(1)},n.bu=function(t,e,i){return n.au(t,i)+(null!==e?"="+n.au(e,i):"")},n.Eu=function(t,e,i){if("object"==typeof e)for(var r in e)m.call(e,r)&&n.Eu(t,r,e[r]);else{if("string"!=typeof e)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");if(void 0===t[e])return void(t[e]=i);"string"==typeof t[e]&&(t[e]=[t[e]]),a(i)||(i=[i]),t[e]=(t[e]||[]).concat(i)}},n.Iu=function(t,e,i){var r,o,h;if(a(e))for(r=0,o=e.length;r<o;r++)t[e[r]]=void 0;else if("RegExp"===s(e))for(h in t)e.test(h)&&(t[h]=void 0);else if("object"==typeof e)for(h in e)m.call(e,h)&&n.Iu(t,h,e[h]);else{if("string"!=typeof e)throw new TypeError("URI.removeQuery() accepts an object, string, RegExp as the first parameter");void 0!==i?"RegExp"===s(i)?!a(t[e])&&i.test(t[e])?t[e]=void 0:t[e]=c(t[e],i):t[e]!==String(i)||a(i)&&1!==i.length?a(t[e])&&(t[e]=c(t[e],i)):t[e]=void 0:t[e]=void 0}},n.Ru=function(t,e,i,r){switch(s(e)){case"String":break;case"RegExp":for(var o in t)if(m.call(t,o)&&e.test(o)&&(void 0===i||n.Ru(t,o,i)))return!0;return!1;case"Object":for(var c in e)if(m.call(e,c)&&!n.Ru(t,c,e[c]))return!1;return!0;default:throw new TypeError("URI.hasQuery() accepts a string, regular expression or object as the name parameter")}switch(s(i)){case"Undefined":return e in t;case"Boolean":var u=Boolean(a(t[e])?t[e].length:t[e]);return i===u;case"Function":return!!i(t[e],e,t);case"Array":if(!a(t[e]))return!1;var l=r?h:p;return l(t[e],i);case"RegExp":return a(t[e])?!!r&&h(t[e],i):Boolean(t[e]&&t[e].match(i));case"Number":i=String(i);case"String":return a(t[e])?!!r&&h(t[e],i):t[e]===i;default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter")}},n.ku=function(){for(var t=[],e=[],i=0,r=0;r<arguments.length;r++){var o=new n(arguments[r]);t.push(o);for(var s=o.Cu(),a=0;a<s.length;a++)"string"==typeof s[a]&&e.push(s[a]),s[a]&&i++}if(!e.length||!i)return new n("");var c=new n("").Cu(e);return""!==t[0].path()&&"/"!==t[0].path().slice(0,1)||c.path("/"+c.path()),c.normalize()},n.Ou=function(t,e){var i,r=Math.min(t.length,e.length);for(i=0;i<r;i++)if(t.charAt(i)!==e.charAt(i)){i--;break}return i<1?t.charAt(0)===e.charAt(0)&&"/"===t.charAt(0)?"/":"":("/"===t.charAt(i)&&"/"===e.charAt(i)||(i=t.substring(0,i).lastIndexOf("/")),t.substring(0,i+1))},n.Pu=function(t,e,i){i||(i={});var r=i.start||n.Sp.start,o=i.end||n.Sp.end,s=i.trim||n.Sp.trim,a=i.bp||n.Sp.bp,c=/[a-z0-9-]=["']?$/i;for(r.lastIndex=0;;){var h=r.exec(t);if(!h)break;var p=h.index;if(i.ignoreHtml){var u=t.slice(Math.max(p-3,0),p);if(u&&c.test(u))continue}for(var l=p+t.slice(p).search(o),d=t.slice(p,l),f=-1;;){var g=a.exec(d);if(!g)break;var v=g.index+g[0].length;f=Math.max(f,v)}if(d=f>-1?d.slice(0,f)+d.slice(f).replace(s,""):d.replace(s,""),!(d.length<=h[0].length||i.ignore&&i.ignore.test(d))){l=p+d.length;var y=e(d,p,l,t);void 0!==y?(y=String(y),t=t.slice(0,p)+y+t.slice(l),r.lastIndex=p+y.length):r.lastIndex=l}}return r.lastIndex=0,t},n.Au=function(e){if(e.match(n.Ap)){if(!t)throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-] and Punycode.js is not available');if(t.toASCII(e).match(n.Ap))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]')}},n.ge=function(t){if(t){var e={up:this.ge()};return r.Nu&&"function"==typeof r.Nu.ge&&(e.Nu=r.Nu.ge()),r.xu&&"function"==typeof r.xu.ge&&(e.xu=r.xu.ge()),r.Bu&&"function"==typeof r.Bu.ge&&(e.Bu=r.Bu.ge()),e}return r.up===this&&(r.up=v),this},y.pp=function(t){return t===!0?this.Fu=!0:(void 0===t||this.Fu)&&(this._u=n.pp(this.hp),this.Fu=!1),this},y.clone=function(){return new n(this)},y.valueOf=y.toString=function(){return this.pp(!1)._u},y.protocol=f("protocol"),y.username=f("username"),y.password=f("password"),y.hostname=f("hostname"),y.port=f("port"),y.vi=g("query","?"),y.lp=g("fragment","#"),y.search=function(t,e){var i=this.vi(t,e);return"string"==typeof i&&i.length?"?"+i:i},y.hash=function(t,e){var i=this.lp(t,e);return"string"==typeof i&&i.length?"#"+i:i},y.pathname=function(t,e){if(void 0===t||t===!0){var i=this.hp.path||(this.hp.hostname?"/":"");return t?(this.hp.urn?n.pu:n.hu)(i):i}return this.hp.urn?this.hp.path=t?n.lu(t):"":this.hp.path=t?n.uu(t):"/",this.pp(!e),this},y.path=y.pathname,y.href=function(t,e){var i;if(void 0===t)return this.toString();this._u="",this.hp=n.hp();var r=t instanceof n,o="object"==typeof t&&(t.hostname||t.path||t.pathname);if(t.nodeName){var s=n.jp(t);t=t[s]||"",o=!1}if(!r&&o&&void 0!==t.pathname&&(t=t.toString()),"string"==typeof t||t instanceof String)this.hp=n.parse(String(t),this.hp);else{if(!r&&!o)throw new TypeError("invalid input");var a=r?t.hp:t;for(i in a)m.call(this.hp,i)&&(this.hp[i]=a[i])}return this.pp(!e),this},y.is=function(t){var e=!1,r=!1,o=!1,s=!1,a=!1,c=!1,h=!1,p=!this.hp.urn;switch(this.hp.hostname&&(p=!1,r=n.mp.test(this.hp.hostname),o=n.wp.test(this.hp.hostname),e=r||o,s=!e,a=s&&i&&i.has(this.hp.hostname),c=s&&n.vp.test(this.hp.hostname),h=s&&n.yp.test(this.hp.hostname)),t.toLowerCase()){case"relative":return p;case"absolute":return!p;case"domain":case"name":return s;case"sld":return a;case"ip":return e;case"ip4":case"ipv4":case"inet4":return r;case"ip6":case"ipv6":case"inet6":return o;case"idn":return c;case"url":return!this.hp.urn;case"urn":return!!this.hp.urn;case"punycode":return h}return null};var E=y.protocol,I=y.port,R=y.hostname;y.protocol=function(t,e){if(void 0!==t&&t&&(t=t.replace(/:(\/\/)?$/,""),!t.match(n.gp)))throw new TypeError('Protocol "'+t+"\" contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]");return E.call(this,t,e)},y.scheme=y.protocol,y.port=function(t,e){if(this.hp.urn)return void 0===t?"":this;if(void 0!==t&&(0===t&&(t=null),t&&(t+="",":"===t.charAt(0)&&(t=t.substring(1)),t.match(/[^0-9]/))))throw new TypeError('Port "'+t+'" contains characters other than [0-9]');return I.call(this,t,e)},y.hostname=function(t,e){if(this.hp.urn)return void 0===t?"":this;if(void 0!==t){var i={},r=n.gu(t,i);if("/"!==r)throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-]');t=i.hostname}return R.call(this,t,e)},y.origin=function(t,e){if(this.hp.urn)return void 0===t?"":this;if(void 0===t){var i=this.protocol(),r=this.Du();return r?(i?i+"://":"")+this.Du():""}var o=n(t);return this.protocol(o.protocol()).Du(o.Du()).pp(!e),this},y.host=function(t,e){if(this.hp.urn)return void 0===t?"":this;if(void 0===t)return this.hp.hostname?n.wu(this.hp):"";var i=n.gu(t,this.hp);if("/"!==i)throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-]');return this.pp(!e),this},y.Du=function(t,e){if(this.hp.urn)return void 0===t?"":this;if(void 0===t)return this.hp.hostname?n.mu(this.hp):"";var i=n.fu(t,this.hp);if("/"!==i)throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-]');return this.pp(!e),this},y.Hu=function(t,e){if(this.hp.urn)return void 0===t?"":this;if(void 0===t){var i=n.Tu(this.hp);return i?i.substring(0,i.length-1):i}return"@"!==t[t.length-1]&&(t+="@"),n.vu(t,this.hp),this.pp(!e),this},y.Lu=function(t,e){var i;return void 0===t?this.path()+this.search()+this.hash():(i=n.parse(t),this.hp.path=i.path,this.hp.vi=i.vi,this.hp.lp=i.lp,this.pp(!e),this)},y.Mu=function(t,e){if(this.hp.urn)return void 0===t?"":this;if(void 0===t){if(!this.hp.hostname||this.is("IP"))return"";var i=this.hp.hostname.length-this.domain().length-1;return this.hp.hostname.substring(0,i)||""}var r=this.hp.hostname.length-this.domain().length,s=this.hp.hostname.substring(0,r),a=new RegExp("^"+o(s));return t&&"."!==t.charAt(t.length-1)&&(t+="."),t&&n.Au(t),this.hp.hostname=this.hp.hostname.replace(a,t),this.pp(!e),this},y.domain=function(t,e){if(this.hp.urn)return void 0===t?"":this;if("boolean"==typeof t&&(e=t,t=void 0),void 0===t){if(!this.hp.hostname||this.is("IP"))return"";var i=this.hp.hostname.match(/\./g);if(i&&i.length<2)return this.hp.hostname;var r=this.hp.hostname.length-this.ju(e).length-1;return r=this.hp.hostname.lastIndexOf(".",r-1)+1,this.hp.hostname.substring(r)||""}if(!t)throw new TypeError("cannot set domain empty");if(n.Au(t),!this.hp.hostname||this.is("IP"))this.hp.hostname=t;else{var s=new RegExp(o(this.domain())+"$");this.hp.hostname=this.hp.hostname.replace(s,t)}return this.pp(!e),this},y.ju=function(t,e){if(this.hp.urn)return void 0===t?"":this;if("boolean"==typeof t&&(e=t,t=void 0),void 0===t){if(!this.hp.hostname||this.is("IP"))return"";var r=this.hp.hostname.lastIndexOf("."),n=this.hp.hostname.substring(r+1);return e!==!0&&i&&i.list[n.toLowerCase()]?i.get(this.hp.hostname)||n:n}var s;if(!t)throw new TypeError("cannot set TLD empty");if(t.match(/[^a-zA-Z0-9-]/)){if(!i||!i.is(t))throw new TypeError('TLD "'+t+'" contains characters other than [A-Z0-9]');s=new RegExp(o(this.ju())+"$"),this.hp.hostname=this.hp.hostname.replace(s,t)}else{if(!this.hp.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");s=new RegExp(o(this.ju())+"$"),this.hp.hostname=this.hp.hostname.replace(s,t)}return this.pp(!e),this},y.Uu=function(t,e){if(this.hp.urn)return void 0===t?"":this;if(void 0===t||t===!0){if(!this.hp.path&&!this.hp.hostname)return"";if("/"===this.hp.path)return"/";var i=this.hp.path.length-this.filename().length-1,r=this.hp.path.substring(0,i)||(this.hp.hostname?"/":"");return t?n.hu(r):r}var s=this.hp.path.length-this.filename().length,a=this.hp.path.substring(0,s),c=new RegExp("^"+o(a));return this.is("relative")||(t||(t="/"),"/"!==t.charAt(0)&&(t="/"+t)),t&&"/"!==t.charAt(t.length-1)&&(t+="/"),t=n.uu(t),this.hp.path=this.hp.path.replace(c,t),this.pp(!e),this},y.filename=function(t,e){if(this.hp.urn)return void 0===t?"":this;if("string"!=typeof t){if(!this.hp.path||"/"===this.hp.path)return"";var i=this.hp.path.lastIndexOf("/"),r=this.hp.path.substring(i+1);return t?n.decodePathSegment(r):r}var s=!1;"/"===t.charAt(0)&&(t=t.substring(1)),t.match(/\.?\//)&&(s=!0);var a=new RegExp(o(this.filename())+"$");return t=n.uu(t),this.hp.path=this.hp.path.replace(a,t),s?this.Vu(e):this.pp(!e),this},y.suffix=function(t,e){if(this.hp.urn)return void 0===t?"":this;if(void 0===t||t===!0){if(!this.hp.path||"/"===this.hp.path)return"";var i,r,s=this.filename(),a=s.lastIndexOf(".");return a===-1?"":(i=s.substring(a+1),r=/^[a-z0-9%]+$/i.test(i)?i:"",t?n.decodePathSegment(r):r)}"."===t.charAt(0)&&(t=t.substring(1));var c,h=this.suffix();if(h)c=t?new RegExp(o(h)+"$"):new RegExp(o("."+h)+"$");else{if(!t)return this;this.hp.path+="."+n.uu(t)}return c&&(t=n.uu(t),this.hp.path=this.hp.path.replace(c,t)),this.pp(!e),this},y.Cu=function(t,e,i){var r=this.hp.urn?":":"/",n=this.path(),o="/"===n.substring(0,1),s=n.split(r);if(void 0!==t&&"number"!=typeof t&&(i=e,e=t,t=void 0),void 0!==t&&"number"!=typeof t)throw new Error('Bad segment "'+t+'", must be 0-based integer');if(o&&s.shift(),t<0&&(t=Math.max(s.length+t,0)),void 0===e)return void 0===t?s:s[t];if(null===t||void 0===s[t])if(a(e)){s=[];for(var c=0,h=e.length;c<h;c++)(e[c].length||s.length&&s[s.length-1].length)&&(s.length&&!s[s.length-1].length&&s.pop(),s.push(u(e[c])))}else(e||"string"==typeof e)&&(e=u(e),""===s[s.length-1]?s[s.length-1]=e:s.push(e));else e?s[t]=u(e):s.splice(t,1);return o&&s.unshift(""),this.path(s.join(r),i)},y.Qu=function(t,e,i){var r,o,s;if("number"!=typeof t&&(i=e,e=t,t=void 0),void 0===e){if(r=this.Cu(t,e,i),a(r))for(o=0,s=r.length;o<s;o++)r[o]=n.decode(r[o]);else r=void 0!==r?n.decode(r):void 0;return r}if(a(e))for(o=0,s=e.length;o<s;o++)e[o]=n.encode(e[o]);else e="string"==typeof e||e instanceof String?n.encode(e):e;return this.Cu(t,e,i)};var k=y.vi;return y.vi=function(t,e){if(t===!0)return n.yu(this.hp.vi,this.hp.fp);if("function"==typeof t){var i=n.yu(this.hp.vi,this.hp.fp),r=t.call(this,i);return this.hp.vi=n.Su(r||i,this.hp.dp,this.hp.fp),this.pp(!e),this}return void 0!==t&&"string"!=typeof t?(this.hp.vi=n.Su(t,this.hp.dp,this.hp.fp),this.pp(!e),this):k.call(this,t,e)},y.qu=function(t,e,i){var r=n.yu(this.hp.vi,this.hp.fp);if("string"==typeof t||t instanceof String)r[t]=void 0!==e?e:null;else{if("object"!=typeof t)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");for(var o in t)m.call(t,o)&&(r[o]=t[o])}return this.hp.vi=n.Su(r,this.hp.dp,this.hp.fp),"string"!=typeof t&&(i=e),this.pp(!i),this},y.Eu=function(t,e,i){var r=n.yu(this.hp.vi,this.hp.fp);return n.Eu(r,t,void 0===e?null:e),this.hp.vi=n.Su(r,this.hp.dp,this.hp.fp),"string"!=typeof t&&(i=e),this.pp(!i),this},y.Iu=function(t,e,i){var r=n.yu(this.hp.vi,this.hp.fp);return n.Iu(r,t,e),this.hp.vi=n.Su(r,this.hp.dp,this.hp.fp),"string"!=typeof t&&(i=e),this.pp(!i),this},y.Ru=function(t,e,i){var r=n.yu(this.hp.vi,this.hp.fp);return n.Ru(r,t,e,i)},y.Ju=y.qu,y.Ku=y.Eu,y.Gu=y.Iu,y.zu=y.Ru,y.normalize=function(){return this.hp.urn?this.Yu(!1).Vu(!1).$u(!1).Wu(!1).pp():this.Yu(!1).Zu(!1).Xu(!1).Vu(!1).$u(!1).Wu(!1).pp()},y.Yu=function(t){return"string"==typeof this.hp.protocol&&(this.hp.protocol=this.hp.protocol.toLowerCase(),this.pp(!t)),this},y.Zu=function(i){return this.hp.hostname&&(this.is("IDN")&&t?this.hp.hostname=t.toASCII(this.hp.hostname):this.is("IPv6")&&e&&(this.hp.hostname=e.best(this.hp.hostname)),this.hp.hostname=this.hp.hostname.toLowerCase(),this.pp(!i)),this},y.Xu=function(t){return"string"==typeof this.hp.protocol&&this.hp.port===n.Ep[this.hp.protocol]&&(this.hp.port=null,this.pp(!t)),this},y.Vu=function(t){var e=this.hp.path;if(!e)return this;if(this.hp.urn)return this.hp.path=n.lu(this.hp.path),this.pp(!t),this;if("/"===this.hp.path)return this;e=n.uu(e);var i,r,o,s="";for("/"!==e.charAt(0)&&(i=!0,e="/"+e),"/.."!==e.slice(-3)&&"/."!==e.slice(-2)||(e+="/"),e=e.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/"),i&&(s=e.substring(1).match(/^(\.\.\/)+/)||"",s&&(s=s[0]));;){if(r=e.search(/\/\.\.(\/|$)/),r===-1)break;0!==r?(o=e.substring(0,r).lastIndexOf("/"),o===-1&&(o=r),e=e.substring(0,o)+e.substring(r+3)):e=e.substring(3)}return i&&this.is("relative")&&(e=s+e.substring(1)),this.hp.path=e,this.pp(!t),this},y.tl=y.Vu,y.$u=function(t){return"string"==typeof this.hp.vi&&(this.hp.vi.length?this.vi(n.yu(this.hp.vi,this.hp.fp)):this.hp.vi=null,this.pp(!t)),this},y.Wu=function(t){return this.hp.lp||(this.hp.lp=null,this.pp(!t)),this},y.el=y.$u,y.il=y.Wu,y.Up=function(){var t=n.encode,e=n.decode;n.encode=escape,n.decode=decodeURIComponent;try{this.normalize()}finally{n.encode=t,n.decode=e}return this},y.Vp=function(){var t=n.encode,e=n.decode;n.encode=d,n.decode=unescape;try{this.normalize()}finally{n.encode=t,n.decode=e}return this},y.rl=function(){var e=this.clone();e.username("").password("").normalize();var i="";if(e.hp.protocol&&(i+=e.hp.protocol+"://"),e.hp.hostname&&(e.is("punycode")&&t?(i+=t.toUnicode(e.hp.hostname),e.hp.port&&(i+=":"+e.hp.port)):i+=e.host()),e.hp.hostname&&e.hp.path&&"/"!==e.hp.path.charAt(0)&&(i+="/"),i+=e.path(!0),e.hp.vi){for(var r="",o=0,s=e.hp.vi.split("&"),a=s.length;o<a;o++){var c=(s[o]||"").split("=");r+="&"+n.cu(c[0],this.hp.fp).replace(/&/g,"%26"),void 0!==c[1]&&(r+="="+n.cu(c[1],this.hp.fp).replace(/&/g,"%26"))}i+="?"+r.substring(1)}return i+=n.cu(e.hash(),!0)},y.cp=function(t){var e,i,r,o=this.clone(),s=["protocol","username","password","hostname","port"];if(this.hp.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(t instanceof n||(t=new n(t)),o.hp.protocol)return o;if(o.hp.protocol=t.hp.protocol,this.hp.hostname)return o;for(i=0;r=s[i];i++)o.hp[r]=t.hp[r];return o.hp.path?(".."===o.hp.path.substring(-2)&&(o.hp.path+="/"),"/"!==o.path().charAt(0)&&(e=t.Uu(),e=e?e:0===t.path().indexOf("/")?"/":"",o.hp.path=(e?e+"/":"")+o.hp.path,o.Vu())):(o.hp.path=t.hp.path,o.hp.vi||(o.hp.vi=t.hp.vi)),o.pp(),o},y.nl=function(t){var e,i,r,o,s,a=this.clone().normalize();if(a.hp.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(t=new n(t).normalize(),e=a.hp,i=t.hp,o=a.path(),s=t.path(),"/"!==o.charAt(0))throw new Error("URI is already relative");if("/"!==s.charAt(0))throw new Error("Cannot calculate a URI relative to another relative URI");if(e.protocol===i.protocol&&(e.protocol=null),e.username!==i.username||e.password!==i.password)return a.pp();if(null!==e.protocol||null!==e.username||null!==e.password)return a.pp();if(e.hostname!==i.hostname||e.port!==i.port)return a.pp();if(e.hostname=null,e.port=null,o===s)return e.path="",a.pp();if(r=n.Ou(o,s),!r)return a.pp();var c=i.path.substring(r.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../");return e.path=c+e.path.substring(r.length)||"./",a.pp()},y.ol=function(t){var e,i,r,o=this.clone(),s=new n(t),c={},h={},u={};if(o.normalize(),s.normalize(),o.toString()===s.toString())return!0;if(e=o.vi(),i=s.vi(),o.vi(""),s.vi(""),o.toString()!==s.toString())return!1;if(e.length!==i.length)return!1;c=n.yu(e,this.hp.fp),h=n.yu(i,this.hp.fp);for(r in c)if(m.call(c,r)){if(a(c[r])){if(!p(c[r],h[r]))return!1}else if(c[r]!==h[r])return!1;u[r]=!0}for(r in h)if(m.call(h,r)&&!u[r])return!1;return!0},y.dp=function(t){return this.hp.dp=!!t,this},y.fp=function(t){return this.hp.fp=!!t,this},n})},function(t,e,i){/*! uuid.js
 * Copyright (c) 2010-2012 Robert Kieffer
 * MIT License - http://opensource.org/licenses/mit-license.php
 */
  !function(e){"use strict";function r(){var t=e.crypto||e.msCrypto;if(!h&&t&&t.getRandomValues)try{var i=new Uint8Array(16);l=h=function(){return t.getRandomValues(i),i},h()}catch(r){}if(!h){var n=new Array(16);p=h=function(){for(var t,e=0;e<16;e++)0===(3&e)&&(t=4294967296*Math.random()),n[e]=t>>>((3&e)<<3)&255;return n},"undefined"!=typeof console&&console.warn&&console.warn("[SECURITY] node-uuid: crypto not usable, falling back to insecure Math.random()")}}function n(){try{var t=i(33).randomBytes;u=h=t&&function(){return t(16)},h()}catch(e){}}function o(t,e,i){var r=e&&i||0,n=0;for(e=e||[],t.toLowerCase().replace(/[0-9a-f]{2}/g,function(t){n<16&&(e[r+n++]=v[t])});n<16;)e[r+n++]=0;return e}function s(t,e){var i=e||0,r=g;return r[t[i++]]+r[t[i++]]+r[t[i++]]+r[t[i++]]+"-"+r[t[i++]]+r[t[i++]]+"-"+r[t[i++]]+r[t[i++]]+"-"+r[t[i++]]+r[t[i++]]+"-"+r[t[i++]]+r[t[i++]]+r[t[i++]]+r[t[i++]]+r[t[i++]]+r[t[i++]]}function a(t,e,i){var r=e&&i||0,n=e||[];t=t||{};var o=null!=t.clockseq?t.clockseq:T,a=null!=t.msecs?t.msecs:(new Date).getTime(),c=null!=t.nsecs?t.nsecs:b+1,h=a-S+(c-b)/1e4;if(h<0&&null==t.clockseq&&(o=o+1&16383),(h<0||a>S)&&null==t.nsecs&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");S=a,b=c,T=o,a+=122192928e5;var p=(1e4*(268435455&a)+c)%4294967296;n[r++]=p>>>24&255,n[r++]=p>>>16&255,n[r++]=p>>>8&255,n[r++]=255&p;var u=a/4294967296*1e4&268435455;n[r++]=u>>>8&255,n[r++]=255&u,n[r++]=u>>>24&15|16,n[r++]=u>>>16&255,n[r++]=o>>>8|128,n[r++]=255&o;for(var l=t.node||w,d=0;d<6;d++)n[r+d]=l[d];return e?e:s(n)}function c(t,e,i){var r=e&&i||0;"string"==typeof t&&(e="binary"===t?new f(16):null,t=null),t=t||{};var n=t.random||(t.rng||h)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,e)for(var o=0;o<16;o++)e[r+o]=n[o];return e||s(n)}var h,p,u,l,d;e?r():n();for(var f="function"==typeof Buffer?Buffer:Array,g=[],v={},y=0;y<256;y++)g[y]=(y+256).toString(16).substr(1),v[g[y]]=y;var m=h(),w=[1|m[0],m[1],m[2],m[3],m[4],m[5]],T=16383&(m[6]<<8|m[7]),S=0,b=0,E=c;E.sl=a,E.Zh=c,E.parse=o,E.al=s,E.cl=f,E.hl=h,E.pl=p,E.ul=u,E.ll=l,"undefined"!=typeof t&&t.t?t.t=E:(d=e.dl,E.ge=function(){return e.dl=d,E},e.dl=E)}("undefined"!=typeof window?window:null)},function(t,e,i){"use strict";var r,n=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},o=i(11);!function(t){var e=function(){function t(){}return t}();e.DashFilterBitrates=null,e.DashRemoveBitrateSize=!1,t.Dash=e;var i=function(){function t(){}return t}();i.fl=!0,t.Stats=i;var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(o.HiveConfig.DebugLogs);r.gl=0,t.DebugLogs=r;var s=function(){function t(){}return t}();s.usiz=null,t.UDPBroadcast=s}(r=e.HiveConfig||(e.HiveConfig={})),"undefined"!=typeof window&&("undefined"==typeof window.HiveConfig&&(window.HiveConfig={}),window.HiveConfig.Dash=r.Dash,window.HiveConfig.Stats=r.Stats,window.HiveConfig.UDPBroadcast=r.UDPBroadcast,window.HiveConfig.DebugLogs=r.DebugLogs)},function(t,e,i){"use strict";var r,n=i(11),o=i(4),s=o.ve;!function(t){var e;!function(t){t[t.off=0]="off",t[t.error=1]="error",t[t.warn=2]="warn",t[t.notice=3]="notice",t[t.info=4]="info",t[t.debug=5]="debug",t[t.trace=6]="trace"}(e=t.vl||(t.vl={}));var i=function(){function t(){this.timestamp=function(){},this.yl=new s,this.level=e.debug,this.timestamp.toString=function(){var t=new Date,e=("0"+t.getUTCHours()).slice(-2)+":"+("0"+t.getUTCMinutes()).slice(-2)+":"+("0"+t.getUTCSeconds()).slice(-2)+":"+t.getUTCMilliseconds();return"["+e+"]"},this.m="undefined"==typeof console?{log:function(){}}:console,this.m.trace||(this.m.trace=this.m.log),this.m.debug||(this.m.debug=this.m.log),this.m.info||(this.m.info=this.m.log),this.m.warn||(this.m.warn=this.m.log),this.m.error||(this.m.error=this.m.log),this.ml(e[this.level])}return t.prototype.ml=function(t,i){n.HiveConfig.Framework.HiveDebugLevel&&void 0!=e[n.HiveConfig.Framework.HiveDebugLevel]?this.level=e[n.HiveConfig.Framework.HiveDebugLevel]:void 0!=e[t]?this.level=e[t]:console.log("Wrong logging level: "+t,e),this.wl(i)},t.prototype.wl=function(t){var i={log:this.Tl(this.m.log,e.error,t),error:this.Tl(this.m.error,e.error,t),warn:this.Tl(this.m.warn,e.warn,t),notice:this.Tl(this.m.info,e.notice,t),info:this.Tl(this.m.info,e.info,t),debug:this.Tl(this.m.debug,e.debug,t),trace:this.Tl(this.m.trace,e.trace,t)};t?this.yl.set(t,i):this.Sl=i},t.prototype.Tl=function(t,e,i){if(!(this.level>=e))return function(){};try{return n.HiveConfig.Framework.LoggerTimestamp?i?Function.prototype.bind.call(t,console,"%s %s",this.timestamp,i):Function.prototype.bind.call(t,console,"%s",this.timestamp):Function.prototype.bind.call(t,console)}catch(r){}},t.prototype.log=function(t){return t?(this.yl.has(t)||this.ml(e[this.level],t),this.yl.get(t)):this.Sl},t}();t.bl=i}(r=e.El||(e.El={}))},function(t,e,i){"use strict";var r=i(4),n=r.ve,o=i(1),s=i(2),a=i(40),c=i(49),h=i(17),p=i(11),u=i(7),l=i(42),d=i(9),f=i(37),g=i(5),v=i(50),y=i(48),m=i(27),w=i(19),T=i(20),S=i(18),b=a.pt.Ir,E=c.pt.Il,I=h.pt.uh,R=h.pt.Ch,k=h.pt.HiveTechError,C=h.pt.bh,O=h.pt.Ah;e.version="3.2.0";var P;!function(t){var r=function(){function t(t){this.Rl=[E[E.HiveJava],E[E.HiveJsProxy],E[E.HiveJS],E[E.StatsJS]],this.kl=new n,this.Cl=new Array,this.Ol=new Array,this.Pl=null,this.Al=0,this.Nl=0,this.u="[HiveComm] ",this.xl=0,this.Bl=u.ar.getItem("hivePluginId"),this.Bl||(this.Bl=Math.abs(Math.floor(68719476736*Math.random())).toString(16),u.ar.setItem("hivePluginId",this.Bl)),w.ErrorMonitor.Wi(),this.options_=new b.Fl,this._l(t),u.nr(t,this.options_),u.or(window.location.href,new b.Dl,this.options_),a.Ll.Hl(this.options_),this.fo=s.Framework.resolve(s.Framework.Fe.we),p.HiveConfig.Framework.LoggerTimestamp=this.options().loggerTimestamp,this.fo.ml(this.options().debugLevel),w.ErrorMonitor.Wi().Lh(this.fo.log());var e=s.Framework.resolve(g.gi.Ce),i=s.Framework.resolve(g.gi.ci);e.Ko().then(function(t){w.ErrorMonitor.Wi().setUser(t.Wo())});var r={};i.Pn().then(function(t){r={pIPAddr:t.Nn().Bn()},w.ErrorMonitor.Wi().setCustomData(r)}),window.vo=this.fo.log(),this.Ml(),this.jl=new O(this),new l.Ul(this);var o=this.options().idleTimePeriod>this.options().feedbackPeriod?this.options().idleTimePeriod:S.ke.xh;this.Vl=new u.vr(o)}return t.prototype.options=function(){return this.options_},t.prototype.m=function(){return this.fo.log()},t.prototype.S=function(){return this.Bl},t.prototype.ct=function(){return e.version},t.prototype.Ql=function(){for(var t=0,e=this.Ol;t<e.length;t++){var i=e[t];i.tech.ql(this)}},t.prototype._l=function(t){var e=new y.StatsJS(this,t);this.kl.set(y.StatsJS.Jl,e);var r=i(43).HiveJava;this.kl.set(r.Jl,new r(this,t));var n=t.hiveTechOrder;if(!n||n instanceof Array)if(n&&n.length>0)for(var o=n.length;o--;){var s=n[o];"string"!=typeof s||this.Rl.indexOf(s)==-1?(console.warn(this.u+'The "'+s+'" Hive tech is undefined'),n.splice(o,1)):"string"==typeof s&&this.kl.has(s)||console.warn(this.u+'The "'+s+'" Hive tech is not enabled on this plugin')}else n=this.Rl;else console.warn(this.u+"hiveTechOrder value not accepted. It must be an array of strings"),n=this.Rl;t.hiveTechOrder=n},t.prototype.p=function(t){var e=this;this.m().notice(this.u+"resolving "+t),this.Kl(t);var i=o.defer(),r=this.Gl().values();0==r.length&&i.reject(u.sr(t,I.sh));var n,s,a=!1,c=!1,h=0,p=null;return u.Xi(function(){return!a&&!c&&h<r.length&&!n},function(){var i=r[h++];i.zl();var u;return u=i.Wl()&&!s?e.$l(t):o.resolve(null),u.then(function(r){null!=r&&(s=r);var n=i.Yl();return i.initSession(t,s).timeout(n,"["+i.Ai()+"] Error: initialization timed out after "+n+"ms").then(function(t){p=t,e.Xl(p,i),a=!0,!i.Wl()&&s&&s.Qn.reset(),e.m().notice(e.u+"initializing Session:["+p.id+"] Ticket:"+p.ticket.toString()+" HiveTech:["+p.tech.Ai()+"]"),o.resolve(!0)},function(r){r instanceof Error&&(r=new k(C.Sh,r.message),i.Zl(r)),r.ticketUrl=t,c=!i.onError(r),e.m().debug(e.u+"tech "+i.Ai()+": "+r.message),o.resolve(!0)})},function(t){n=t,o.resolve(!0)})}).then(function(){n?i.reject(u.sr(t,I.ph,n)):c?i.reject(u.sr(t,I.hh)):a?i.resolve(p):i.reject(u.sr(t,I.sh))})["catch"](function(e){w.ErrorMonitor.Wi()._h(e),i.reject(u.sr(t,I.oh,e.toString()))}).done(),i.vt},t.prototype.$l=function(t){var e=this;return m.Hive.Reporting().initSession(t,!1).then(function(i){return e.m().debug(e.u+"verified ticket "+t),e.hn(i),i})["catch"](function(t){return o.reject("Ticket not verified, error: "+t.message)})},t.prototype.Gl=function(){var t=JSON.parse(JSON.stringify(this.options().hiveTechOrder)),e=new n;for(var i in t)this.kl.has(t[i])&&e.set(t[i],this.kl.get(t[i]));return e},t.prototype.Kl=function(t){var e=w.ErrorMonitor.Wi();try{var i=new T.ap;i.Kh(t),i.bn()&&i.En()&&i.es()?e.setTags([i.bn(),i.En(),i.es()]):e._h(this.u+" Ticket not valid, we could not resolve the triple partnerId/CustomerId/ContentId: "+i.bn()+"/"+i.En()+"/"+i.es())}catch(r){this.m().warn(this.u+" "+r.message,r),e.notify(r)}},t.prototype.hn=function(t){var i={commVersion:e.version,pluginName:this.T(),pluginVersion:this.I(),playerTech:this.ht(),playerVersion:this.q(),telemetryId:this.td()};t.Qn.hn(i)},t.prototype.v=function(){window.HiveRequest=XMLHttpRequest,u.HiveRequestFactory.clear(),m.Hive.Reporting().close()},t.prototype.ed=function(t){this.Pl&&this.Pl.tech?(t.sessionId=this.Pl.id,this.Pl.tech.wn(this.Pl,t)):this.Cl.push(t)},t.prototype.rd=function(){var t=this.Cl;return this.Cl=new Array,t},t.prototype.Ml=function(){var t=this,e=window;e.addEventListener?e.addEventListener("beforeunload",function(){t.nd(!0)},!1):e.attachEvent("onbeforeunload",function(){t.nd(!0)})},t.prototype.h=function(t){this.nd(t),this.Pl=null,this.Ol=new Array,this.Al=0,this.Nl=0,this.od()},t.prototype.Xl=function(t,e){t.tech=e,this.Ol.push(t)},t.prototype.R=function(t){if(null==this.Pl){for(var e=t?t:this.it(),i=0;i<this.Ol.length;i++){var r=this.Ol[i];if(r.st(e))return this.Pl=r,this.Pl.Ri?this.Pl.Ri._o.sd(this.Pl.ticket):this.ad(),this.Ol=new Array,this.Pl.tech.onActiveSession(this.Pl),this.m().notice(this.u+"activating Session:["+this.Pl.id+"] Ticket:"+this.Pl.ticket.toString()+" HiveTech:["+this.Pl.tech.Ai()+"]"),this.hd(),!0}this.m().warn(this.u+"Closing sessions - the active stream doesn't match any initialized sessions"),this.m().warn(this.u+"Active:"+e+" - initialized: "+this.Ol.length),this.h()}return!1},t.prototype.C=function(){if(this.Pl)return this.Pl.g()},t.prototype.ad=function(){var t=!1;this.Ol.forEach(function(e){e.Ri&&(t=!0)}),t&&m.Hive.Reporting().close()},t.prototype.pd=function(){if(null!=this.Pl){if(this.Pl.st(this.it()))return!0;this.m().warn(this.u+"Session src mismatch: "+this.it()+" != "+this.Pl.manifest),this.h()}return!1},t.prototype.nd=function(t){if(null!=this.Pl)this.m().notice(this.u+"Stopping session ["+this.Pl.id+"]"),this.Pl.close(t);else if(this.Ol.length>0){var e=this.Ol[0];this.m().notice(this.u+"Attempt to stopping session ["+e.id+"]"),e.close(t)}},t.prototype.hd=function(){var t=this;null==this.ud&&(this.ud=setInterval(function(){t.ld()},this.options().feedbackPeriod),this.ld())},t.prototype.od=function(){clearInterval(this.ud),this.ud=null},t.prototype.ld=function(){var t=this;if(this.pd()){if(!this.st())return void this.h();var e=new u.Fi;e.lr=this.getCurrentTime(),e.dr=this.nt(),e.gr=this.Al,e.width=this.ot().width,e.height=this.ot().height,e.dd=this.isFullscreen(),this.Pl.ki(this.Vl.hr(e)),this.Pl.tech.fd(this.Pl,e).fail(function(e){t.m().warn(t.u+"stats handling failed",e),t.od()})}},t.prototype.gd=function(){var t=this;try{u.Yi.Wi(this.m()).$i(function(e){var i=t.vd();i&&!i.Oi()&&(t._(e?d.F.B.jr:d.F.B.HIDDEN),t.m().debug(e?"visible":"hidden"))})}catch(e){w.ErrorMonitor.Wi()._h("error setting up the visibilityChange listener",{error:e})}},t.prototype.k=function(t){this.pd()&&this.Nl<=0&&(this.Nl=Date.now(),(void 0==t||t)&&this._(d.F.B.Lr))},t.prototype.G=function(){var t=0==this.Al;if(this.Nl>0){var e=Date.now()-this.Nl;return this.Al+=e,this.m().debug(this.u+"reporting new buffering event of "+e),this.Nl=0,t&&this.ld(),!0}return!1},t.prototype.onError=function(t,e,i){void 0===i&&(i=!0),this._(d.F.B.ERROR,{code:-1,"player-code":t}),i&&this.h()},t.prototype._=function(t,e){var i=this,r=this.vd();null==r||r!=this.Pl&&r.tech.Ai()===E[E.HiveJava]||r.tech.yd(r,t,e).fail(function(t){i.m().warn(i.u+"error in forwarding player event to tech",t)})},t.prototype.vd=function(){return this.Pl?this.Pl:this.Ol&&this.Ol.length>0?this.Ol[0]:void 0},t.prototype.md=function(){this.xl=0},t.prototype.wd=function(t,e){this.md();var i=7,r=6;this.xl+=t<<4*i,e&&0===t&&(this.xl+=1<<4*(r-E[e.Ai()])),t>0&&w.ErrorMonitor.Wi()._h(this.u+"Status Code Error: "+R[t])},t.prototype.Ph=function(){return this.xl},t.prototype.td=function(){return this.options().telemetryId},t}();t.Plugin=r}(P=e.pt||(e.pt={})),s.Framework.Qe(new f.Td),s.Framework.Ge("peer0",new v.Sd),s.Framework.ze("peer0"),window.HiveRequestFactory=u.HiveRequestFactory},function(t,e,i){"use strict";var r=i(45),n=i(7),o=function(){function t(t){this.readyState=3,this.status=0,t&&(this.sessionId=t)}return t.Lh=function(e){t.m=e},t.register=function(e,i){t.bd[e]=i},t.prototype.Ed=function(e){this.sessionId||(this.sessionId=t.bd[e])},t.prototype.open=function(t,e,i){void 0===i&&(i=!1),this.method=t,this.url=e,this.Id=i},t.prototype.getAllResponseHeaders=function(){return this.Rd},t.prototype.getResponseHeader=function(t){var e=this.getAllResponseHeaders();if(e){var i=[],r=e.split("\n");return r.forEach(function(t){var e=t.split(":");i[e[0]]=e[1]}),i[t]}},t.prototype.send=function(){if(t.m&&t.m.debug(this.method+" "+this.url),!this.sessionId){var e=Object.keys(t.bd);e.length>0&&(this.sessionId=t.bd[e[0]])}var i=this,o=new XMLHttpRequest;0===this.url.indexOf("//")&&(this.url=location.protocol+this.url);var s=n.rr(r.Cd.kd,r.Cd.To,r.Cd.Od,this.sessionId,encodeURIComponent(this.url));o.open("GET",s),this.responseType&&(o.responseType=this.responseType),o.onreadystatechange=function(){},o.onload=function(){if(4===o.readyState)try{i.Rd=o.getAllResponseHeaders(),i.response=o.response;var e=o.response.byteLength;"arraybuffer"!==o.responseType&&(i.responseText=o.response),i.readyState=4,i.status=o.status,i.onprogress({lengthComputable:!0,loaded:e,total:e}),i.onreadystatechange({type:"loadend",target:i,currentTarget:i,bubbles:!1,cancelable:!1,lengthComputable:!1,loaded:e,total:e}),i.onload(),i.onloadend({type:"loadend",target:i,currentTarget:i,bubbles:!1,cancelable:!1,lengthComputable:!1,loaded:e,total:0})}catch(r){t.m&&t.m.warn(r)}},o.onerror=function(e){t.m&&t.m.warn("onError: "+JSON.stringify(e)),i.onerror(e)},o.onabort=function(e){t.m&&t.m.warn("onAbort: "+JSON.stringify(e))},o.send()},t.prototype.abort=function(){},t.prototype.onload=function(){},t.prototype.onloadend=function(t){},t.prototype.onerror=function(t){},t.prototype.onprogress=function(t){},t.prototype.onreadystatechange=function(t){},t}();o.bd={},e.Ti=o},function(t,e,i){"use strict";var r=i(2),n=i(5),o=function(){function t(){}return t.Reporting=function(){return t.app="STATS",r.Framework.resolve(n.gi.ui)},t.Xo=function(){return this.app},t.getVersion=function(){return this.version},t}();o.version="3.2.0",e.Hive=o},function(t,e,i){var r;!function(n,o){"use strict";var s="0.7.12",a="",c="?",h="function",p="undefined",u="object",l="string",d="major",f="model",g="name",v="type",y="vendor",m="version",w="architecture",T="console",S="mobile",b="tablet",E="smarttv",I="wearable",R="embedded",k={extend:function(t,e){var i={};for(var r in t)e[r]&&e[r].length%2===0?i[r]=e[r].concat(t[r]):i[r]=t[r];return i},has:function(t,e){return"string"==typeof t&&e.toLowerCase().indexOf(t.toLowerCase())!==-1},Pd:function(t){return t.toLowerCase()},Ad:function(t){return typeof t===l?t.replace(/[^\d\.]/g,"").split(".")[0]:o},trim:function(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},C={Nd:function(){for(var t,e,i,r,n,s,a,c=0,l=arguments;c<l.length&&!s;){var d=l[c],f=l[c+1];if(typeof t===p){t={};for(r in f)f.hasOwnProperty(r)&&(n=f[r],typeof n===u?t[n[0]]=o:t[n]=o)}for(e=i=0;e<d.length&&!s;)if(s=d[e++].exec(this.xd()))for(r=0;r<f.length;r++)a=s[++i],n=f[r],typeof n===u&&n.length>0?2==n.length?typeof n[1]==h?t[n[0]]=n[1].call(this,a):t[n[0]]=n[1]:3==n.length?typeof n[1]!==h||n[1].exec&&n[1].test?t[n[0]]=a?a.replace(n[1],n[2]):o:t[n[0]]=a?n[1].call(this,a,n[2]):o:4==n.length&&(t[n[0]]=a?n[3].call(this,a.replace(n[1],n[2])):o):t[n]=a?a:o;c+=2}return t},ac:function(t,e){for(var i in e)if(typeof e[i]===u&&e[i].length>0){for(var r=0;r<e[i].length;r++)if(k.has(e[i][r],t))return i===c?o:i}else if(k.has(e[i],t))return i===c?o:i;return t}},O={ti:{Bd:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419",Kp:"/"}}},Fd:{_d:{Dd:{Hd:["SD","KF"]}},Ld:{Dd:{Md:"7373KT"},vendor:{jd:"APA",Ud:"Sprint"}}},os:{Vd:{version:{Qd:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2000:"NT 5.0",qd:["NT 5.1","NT 5.2"],Jd:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],Kd:"ARM"}}}},P={ti:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[g,m],[/(opios)[\/\s]+([\w\.]+)/i],[[g,"Opera Mini"],m],[/\s(opr)\/([\w\.]+)/i],[[g,"Opera"],m],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs)\/([\w\.-]+)/i],[g,m],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[g,"IE"],m],[/(edge)\/((\d+)?[\w\.]+)/i],[g,m],[/(yabrowser)\/([\w\.]+)/i],[[g,"Yandex"],m],[/(comodo_dragon)\/([\w\.]+)/i],[[g,/_/g," "],m],[/(micromessenger)\/([\w\.]+)/i],[[g,"WeChat"],m],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[m,[g,"MIUI Browser"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[g,/(.+)/,"$1 WebView"],m],[/android.+samsungbrowser\/([\w\.]+)/i,/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[m,[g,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i,/(qqbrowser)[\/\s]?([\w\.]+)/i],[g,m],[/(uc\s?browser)[\/\s]?([\w\.]+)/i,/ucweb.+(ucbrowser)[\/\s]?([\w\.]+)/i,/juc.+(ucweb)[\/\s]?([\w\.]+)/i],[[g,"UCBrowser"],m],[/(dolfin)\/([\w\.]+)/i],[[g,"Dolphin"],m],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[g,"Chrome"],m],[/;fbav\/([\w\.]+);/i],[m,[g,"Facebook"]],[/fxios\/([\w\.-]+)/i],[m,[g,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[m,[g,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[m,g],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[g,[m,C.ac,O.ti.Bd.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[g,m],[/(navigator|netscape)\/([\w\.-]+)/i],[[g,"Netscape"],m],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/([\w\.-]+)/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]+)*/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[g,m]],Gd:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[w,"amd64"]],[/(ia32(?=;))/i],[[w,k.Pd]],[/((?:i[346]|x)86)[;\)]/i],[[w,"ia32"]],[/windows\s(ce|mobile);\sppc;/i],[[w,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[w,/ower/,"",k.Pd]],[/(sun4\w)[;\)]/i],[[w,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[[w,k.Pd]]],Fd:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[f,y,[v,b]],[/applecoremedia\/[\w\.]+ \((ipad)/],[f,[y,"Apple"],[v,b]],[/(apple\s{0,1}tv)/i],[[f,"Apple TV"],[y,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[y,f,[v,b]],[/(kf[A-z]+)\sbuild\/[\w\.]+.*silk\//i],[f,[y,"Amazon"],[v,b]],[/(sd|kf)[0349hijorstuw]+\sbuild\/[\w\.]+.*silk\//i],[[f,C.ac,O.Fd._d.Dd],[y,"Amazon"],[v,S]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[f,y,[v,S]],[/\((ip[honed|\s\w*]+);/i],[f,[y,"Apple"],[v,S]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|huawei|meizu|motorola|polytron)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[y,f,[v,S]],[/\(bb10;\s(\w+)/i],[f,[y,"BlackBerry"],[v,S]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone)/i],[f,[y,"Asus"],[v,b]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[y,"Sony"],[f,"Xperia Tablet"],[v,b]],[/(?:sony)?(?:(?:(?:c|d)\d{4})|(?:so[-l].+))\sbuild\//i],[[y,"Sony"],[f,"Xperia Phone"],[v,S]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[y,f,[v,T]],[/android.+;\s(shield)\sbuild/i],[f,[y,"Nvidia"],[v,T]],[/(playstation\s[34portablevi]+)/i],[f,[y,"Sony"],[v,T]],[/(sprint\s(\w+))/i],[[y,C.ac,O.Fd.Ld.vendor],[f,C.ac,O.Fd.Ld.Dd],[v,S]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[y,f,[v,b]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|huawei|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],[y,[f,/_/g," "],[v,S]],[/(nexus\s9)/i],[f,[y,"HTC"],[v,b]],[/(nexus\s6p)/i],[f,[y,"Huawei"],[v,S]],[/(microsoft);\s(lumia[\s\w]+)/i],[y,f,[v,S]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[f,[y,"Microsoft"],[v,T]],[/(kin\.[onetw]{3})/i],[[f,/\./g," "],[y,"Microsoft"],[v,S]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w+)*/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[f,[y,"Motorola"],[v,S]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[f,[y,"Motorola"],[v,b]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[y,k.trim],[f,k.trim],[v,E]],[/hbbtv.+maple;(\d+)/i],[[f,/^/,"SmartTV"],[y,"Samsung"],[v,E]],[/\(dtv[\);].+(aquos)/i],[f,[y,"Sharp"],[v,E]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[y,"Samsung"],f,[v,b]],[/smart-tv.+(samsung)/i],[y,[v,E],f],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[[y,"Samsung"],f,[v,S]],[/sie-(\w+)*/i],[f,[y,"Siemens"],[v,S]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[[y,"Nokia"],f,[v,S]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],[f,[y,"Acer"],[v,b]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[y,"LG"],f,[v,b]],[/(lg) netcast\.tv/i],[y,f,[v,E]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w+)*/i],[f,[y,"LG"],[v,S]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[f,[y,"Lenovo"],[v,b]],[/linux;.+((jolla));/i],[y,f,[v,S]],[/((pebble))app\/[\d\.]+\s/i],[y,f,[v,I]],[/android.+;\s(glass)\s\d/i],[f,[y,"Google"],[v,I]],[/android.+(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus|note lte)?[\s_]*(?:\d\w)?)\s+build/i],[[f,/_/g," "],[y,"Xiaomi"],[v,S]],[/android.+a000(1)\s+build/i],[f,[y,"OnePlus"],[v,S]],[/\s(tablet)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[v,k.Pd],y,f]],zd:[[/windows.+\sedge\/([\w\.]+)/i],[m,[g,"EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[g,m],[/rv\:([\w\.]+).*(gecko)/i],[m,g]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[g,m],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s]+\w)*/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[g,[m,C.ac,O.os.Vd.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[g,"Windows"],[m,C.ac,O.os.Vd.version]],[/\((bb)(10);/i],[[g,"BlackBerry"],m],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],[g,m],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[g,"Symbian"],m],[/\((series40);/i],[g],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[g,"Firefox OS"],m],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[g,m],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[g,"Chromium OS"],m],[/(sunos)\s?([\w\.]+\d)*/i],[[g,"Solaris"],m],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[g,m],[/(haiku)\s(\w+)/i],[g,m],[/(ip[honead]+)(?:.*os\s([\w]+)*\slike\smac|;\sopera)/i],[[g,"iOS"],[m,/_/g,"."]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i],[[g,"Mac OS"],[m,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]+)*/i],[g,m]]},A=function(t,e){if(!(this instanceof A))return new A(t,e).Wd();var i=t||(n&&n.navigator&&n.navigator.userAgent?n.navigator.userAgent:a),r=e?k.extend(P,e):P;return this.$d=function(){var t=C.Nd.apply(this,r.ti);return t.Ad=k.Ad(t.version),t},this.Yd=function(){return C.Nd.apply(this,r.Gd)},this.Xd=function(){return C.Nd.apply(this,r.Fd)},this.Zd=function(){return C.Nd.apply(this,r.zd)},this.Rn=function(){return C.Nd.apply(this,r.os)},this.Wd=function(){return{tf:this.xd(),ti:this.$d(),zd:this.Zd(),os:this.Rn(),Fd:this.Xd(),Gd:this.Yd()}},this.xd=function(){return i},this.In=function(t){return i=t,this},this};A.VERSION=s,A.ef={"if":g,rf:d,VERSION:m},A.nf={sf:w},A.af={cf:f,VENDOR:y,hf:v,pf:T,uf:S,lf:E,df:b,ff:I,gf:R},A.vf={"if":g,VERSION:m},A.yf={"if":g,VERSION:m},typeof e!==p?(typeof t!==p&&t.t&&(e=t.t=A),e.Cr=A):"function"===h&&i(64)?(r=function(){return A}.call(e,i,e,t),!(r!==o&&(t.t=r))):n.Cr=A;var N=n.jQuery||n.Zepto;if(typeof N!==p){var x=new A;N.tf=x.Wd(),N.tf.get=function(){return x.xd()},N.tf.set=function(t){x.In(t);var e=x.Wd();for(var i in e)N.tf[i]=e[i]}}}("object"==typeof window?window:this)},function(t,e){Services={1:"REMOTE_EXECUTOR",mf:1,2:"PEER_FORWARDER",wf:2,3:"PEER_INDEX",Tf:3,4:"PEER_BROADCAST",Sf:4,5:"PEER_FILTER",bf:5,6:"PEER_LOGGING",Ef:6,7:"HIVEJS_TRACKER",If:7,8:"PEER_SYSTEM",Rf:8,9:"HIVEJS_SNAPSHOTS",to:9,10:"HIVEJS_TICKETS",kf:10,11:"HIVEJS_KEEPALIVE",Cf:11,12:"HIVEJS_FORWARDING",Of:12}},function(t,e,i){var r=i(16);StreamType={1:"LIVE",LIVE:1,2:"VOD",Pf:2},StreamProtocol={1:"DASH",rt:1,2:"HDS",Af:2,3:"HLS",Y:3,4:"SS",Nf:4},ClientType={1:"JAVA",xf:1,2:"STATS_ONLY",Bf:2,3:"JS_DIRECT",Ff:3,4:"JS_PROXY",_f:4},EventId=function(t){this.partnerId=null,this.customerId=null,this.contentId=null,this.tags=null,t&&(void 0!==t.partnerId&&(this.partnerId=t.partnerId),void 0!==t.customerId&&(this.customerId=t.customerId),void 0!==t.contentId&&(this.contentId=t.contentId),void 0!==t.tags&&(this.tags=t.tags))},EventId.prototype={},EventId.prototype.read=function(t){for(t.Hc();;){var e=t.sa(),i=(e.Bc,e.aa),n=e.ca;if(i==r.bs.Es)break;switch(n){case 1:i==r.bs.As?this.partnerId=t.ha().value:t.pa(i);break;case 2:i==r.bs.As?this.customerId=t.ha().value:t.pa(i);break;case 3:i==r.bs.As?this.contentId=t.ha().value:t.pa(i);break;case 4:if(i==r.bs._s){var o,s=0;this.tags=[];var a=0;o=t.Vc(),a=o.Qc,s=o.size;for(var c=0;c<s;++c){var h=null;h=t.ha().value,this.tags.push(h)}t.qc()}else t.pa(i);break;default:t.pa(i)}t.la()}t.da()},EventId.prototype.write=function(t){if(t.fa("EventId"),null!==this.partnerId&&void 0!==this.partnerId&&(t.ga("partnerId",r.bs.As,1),t.va(this.partnerId),t.ya()),null!==this.customerId&&void 0!==this.customerId&&(t.ga("customerId",r.bs.As,2),t.va(this.customerId),t.ya()),null!==this.contentId&&void 0!==this.contentId&&(t.ga("contentId",r.bs.As,3),t.va(this.contentId),t.ya()),null!==this.tags&&void 0!==this.tags){t.ga("tags",r.bs._s,4),t.Tc(r.bs.As,this.tags.length);for(var e in this.tags)this.tags.hasOwnProperty(e)&&(e=this.tags[e],t.va(e));t.Sc(),t.ya()}t.wa(),t.Ta()},SnapshotInfo=function(t){this.timestamp=null,this.apiServer=null,this.clientIp=null,t&&(void 0!==t.timestamp&&(this.timestamp=t.timestamp),void 0!==t.apiServer&&(this.apiServer=t.apiServer),void 0!==t.clientIp&&(this.clientIp=t.clientIp))},SnapshotInfo.prototype={},SnapshotInfo.prototype.read=function(t){for(t.Hc();;){var e=t.sa(),i=(e.Bc,e.aa),n=e.ca;if(i==r.bs.Es)break;switch(n){case 1:i==r.bs.Ps?this.timestamp=t.$c().value:t.pa(i);break;case 2:i==r.bs.As?this.apiServer=t.ha().value:t.pa(i);break;case 3:i==r.bs.As?this.clientIp=t.ha().value:t.pa(i);break;default:t.pa(i)}t.la()}t.da()},SnapshotInfo.prototype.write=function(t){t.fa("SnapshotInfo"),null!==this.timestamp&&void 0!==this.timestamp&&(t.ga("timestamp",r.bs.Ps,1),t.Cc(this.timestamp),t.ya()),null!==this.apiServer&&void 0!==this.apiServer&&(t.ga("apiServer",r.bs.As,2),t.va(this.apiServer),t.ya()),null!==this.clientIp&&void 0!==this.clientIp&&(t.ga("clientIp",r.bs.As,3),t.va(this.clientIp),t.ya()),t.wa(),t.Ta()},InetAddress=function(t){this.address=null,this.port=null,t&&(void 0!==t.address&&(this.address=t.address),void 0!==t.port&&(this.port=t.port))},InetAddress.prototype={},InetAddress.prototype.read=function(t){for(t.Hc();;){var e=t.sa(),i=(e.Bc,e.aa),n=e.ca;if(i==r.bs.Es)break;switch(n){case 1:i==r.bs.As?this.address=t.Xc().value:t.pa(i);break;case 2:i==r.bs.Os?this.port=t.ua().value:t.pa(i);break;default:t.pa(i)}t.la()}t.da()},InetAddress.prototype.write=function(t){t.fa("InetAddress"),null!==this.address&&void 0!==this.address&&(t.ga("address",r.bs.As,1),t.Pc(this.address),t.ya()),null!==this.port&&void 0!==this.port&&(t.ga("port",r.bs.Os,2),t.ma(this.port),t.ya()),t.wa(),t.Ta()}},function(t,e,i){var r=i(16);"undefined"==typeof hive&&(hive={}),"undefined"==typeof hive.snapshots&&(hive.snapshots={}),hive.snapshots.Traffic=function(t){this.reqN=null,this.respFallbackN=null,this.respFallbackErrN=null,this.respP2pN=null,this.reqOtherN=null,this.respFallbackOtherN=null,this.respFallbackOthertErrN=null,this.srcReqN=null,this.srcRespN=null,this.srcRespErrN=null,this.srcReqQt=null,this.srcRespQt=null,this.srcOverQt=null,this.srcOtherReqN=null,this.srcOtherRespN=null,this.srcOtherRespErrN=null,this.srcOtherReqQt=null,this.srcOtherRespQt=null,this.srcOtherOverQt=null,this.p2pSubReqN=null,this.p2pSubRespN=null,this.p2pSubRespPartN=null,this.p2pSubRespErrN=null,this.p2pSubRespExpN=null,this.p2pSubReqQt=null,this.p2pSubRespQt=null,this.p2pDirectQt=null,this.p2pRelayQt=null,this.p2pNatQt=null,this.p2pUdpbQt=null,this.fallAgentRespN=null,this.fallAgentPredHitN=null,this.fallAgentFailedRespN=null,this.fallAgentPredMissN=null,this.fallAgentPredPartialHitN=null,this.fallAgenTrafficSuccessQt=null,this.fallAgenTrafficFailureQt=null,this.p2pAgentPredHitN=null,this.p2pAgentPredMissN=null,this.p2pAgentPredPartialHitN=null,this.p2pAgenTrafficSuccessQt=null,this.p2pAgenTrafficFailureQt=null,this.respP2pOtherN=null,this.lCacheRespN=null,this.lCacheRespQt=null,this.p2pOutSiteLowPrio=null,t&&(void 0!==t.reqN&&(this.reqN=t.reqN),void 0!==t.respFallbackN&&(this.respFallbackN=t.respFallbackN),void 0!==t.respFallbackErrN&&(this.respFallbackErrN=t.respFallbackErrN),void 0!==t.respP2pN&&(this.respP2pN=t.respP2pN),void 0!==t.reqOtherN&&(this.reqOtherN=t.reqOtherN),void 0!==t.respFallbackOtherN&&(this.respFallbackOtherN=t.respFallbackOtherN),void 0!==t.respFallbackOthertErrN&&(this.respFallbackOthertErrN=t.respFallbackOthertErrN),void 0!==t.srcReqN&&(this.srcReqN=t.srcReqN),void 0!==t.srcRespN&&(this.srcRespN=t.srcRespN),void 0!==t.srcRespErrN&&(this.srcRespErrN=t.srcRespErrN),void 0!==t.srcReqQt&&(this.srcReqQt=t.srcReqQt),void 0!==t.srcRespQt&&(this.srcRespQt=t.srcRespQt),void 0!==t.srcOverQt&&(this.srcOverQt=t.srcOverQt),void 0!==t.srcOtherReqN&&(this.srcOtherReqN=t.srcOtherReqN),void 0!==t.srcOtherRespN&&(this.srcOtherRespN=t.srcOtherRespN),void 0!==t.srcOtherRespErrN&&(this.srcOtherRespErrN=t.srcOtherRespErrN),void 0!==t.srcOtherReqQt&&(this.srcOtherReqQt=t.srcOtherReqQt),void 0!==t.srcOtherRespQt&&(this.srcOtherRespQt=t.srcOtherRespQt),void 0!==t.srcOtherOverQt&&(this.srcOtherOverQt=t.srcOtherOverQt),
void 0!==t.p2pSubReqN&&(this.p2pSubReqN=t.p2pSubReqN),void 0!==t.p2pSubRespN&&(this.p2pSubRespN=t.p2pSubRespN),void 0!==t.p2pSubRespPartN&&(this.p2pSubRespPartN=t.p2pSubRespPartN),void 0!==t.p2pSubRespErrN&&(this.p2pSubRespErrN=t.p2pSubRespErrN),void 0!==t.p2pSubRespExpN&&(this.p2pSubRespExpN=t.p2pSubRespExpN),void 0!==t.p2pSubReqQt&&(this.p2pSubReqQt=t.p2pSubReqQt),void 0!==t.p2pSubRespQt&&(this.p2pSubRespQt=t.p2pSubRespQt),void 0!==t.p2pDirectQt&&(this.p2pDirectQt=t.p2pDirectQt),void 0!==t.p2pRelayQt&&(this.p2pRelayQt=t.p2pRelayQt),void 0!==t.p2pNatQt&&(this.p2pNatQt=t.p2pNatQt),void 0!==t.p2pUdpbQt&&(this.p2pUdpbQt=t.p2pUdpbQt),void 0!==t.fallAgentRespN&&(this.fallAgentRespN=t.fallAgentRespN),void 0!==t.fallAgentPredHitN&&(this.fallAgentPredHitN=t.fallAgentPredHitN),void 0!==t.fallAgentFailedRespN&&(this.fallAgentFailedRespN=t.fallAgentFailedRespN),void 0!==t.fallAgentPredMissN&&(this.fallAgentPredMissN=t.fallAgentPredMissN),void 0!==t.fallAgentPredPartialHitN&&(this.fallAgentPredPartialHitN=t.fallAgentPredPartialHitN),void 0!==t.fallAgenTrafficSuccessQt&&(this.fallAgenTrafficSuccessQt=t.fallAgenTrafficSuccessQt),void 0!==t.fallAgenTrafficFailureQt&&(this.fallAgenTrafficFailureQt=t.fallAgenTrafficFailureQt),void 0!==t.p2pAgentPredHitN&&(this.p2pAgentPredHitN=t.p2pAgentPredHitN),void 0!==t.p2pAgentPredMissN&&(this.p2pAgentPredMissN=t.p2pAgentPredMissN),void 0!==t.p2pAgentPredPartialHitN&&(this.p2pAgentPredPartialHitN=t.p2pAgentPredPartialHitN),void 0!==t.p2pAgenTrafficSuccessQt&&(this.p2pAgenTrafficSuccessQt=t.p2pAgenTrafficSuccessQt),void 0!==t.p2pAgenTrafficFailureQt&&(this.p2pAgenTrafficFailureQt=t.p2pAgenTrafficFailureQt),void 0!==t.respP2pOtherN&&(this.respP2pOtherN=t.respP2pOtherN),void 0!==t.lCacheRespN&&(this.lCacheRespN=t.lCacheRespN),void 0!==t.lCacheRespQt&&(this.lCacheRespQt=t.lCacheRespQt),void 0!==t.p2pOutSiteLowPrio&&(this.p2pOutSiteLowPrio=t.p2pOutSiteLowPrio))},hive.snapshots.Traffic.prototype={},hive.snapshots.Traffic.prototype.read=function(t){for(t.Hc();;){var e=t.sa(),i=(e.Bc,e.aa),n=e.ca;if(i==r.bs.Es)break;switch(n){case 1:i==r.bs.Os?this.reqN=t.ua().value:t.pa(i);break;case 2:i==r.bs.ks?this.respFallbackN=t.Yc().value:t.pa(i);break;case 3:i==r.bs.Os?this.respFallbackErrN=t.ua().value:t.pa(i);break;case 4:i==r.bs.ks?this.respP2pN=t.Yc().value:t.pa(i);break;case 5:i==r.bs.Os?this.reqOtherN=t.ua().value:t.pa(i);break;case 6:i==r.bs.Os?this.respFallbackOtherN=t.ua().value:t.pa(i);break;case 7:i==r.bs.Os?this.respFallbackOthertErrN=t.ua().value:t.pa(i);break;case 8:i==r.bs.Os?this.srcReqN=t.ua().value:t.pa(i);break;case 9:i==r.bs.Os?this.srcRespN=t.ua().value:t.pa(i);break;case 10:i==r.bs.Os?this.srcRespErrN=t.ua().value:t.pa(i);break;case 11:i==r.bs.Ps?this.srcReqQt=t.$c().value:t.pa(i);break;case 12:i==r.bs.Ps?this.srcRespQt=t.$c().value:t.pa(i);break;case 13:i==r.bs.Ps?this.srcOverQt=t.$c().value:t.pa(i);break;case 14:i==r.bs.Os?this.srcOtherReqN=t.ua().value:t.pa(i);break;case 15:i==r.bs.Os?this.srcOtherRespN=t.ua().value:t.pa(i);break;case 16:i==r.bs.Os?this.srcOtherRespErrN=t.ua().value:t.pa(i);break;case 17:i==r.bs.Ps?this.srcOtherReqQt=t.$c().value:t.pa(i);break;case 18:i==r.bs.Ps?this.srcOtherRespQt=t.$c().value:t.pa(i);break;case 19:i==r.bs.Ps?this.srcOtherOverQt=t.$c().value:t.pa(i);break;case 20:i==r.bs.Os?this.p2pSubReqN=t.ua().value:t.pa(i);break;case 21:i==r.bs.Os?this.p2pSubRespN=t.ua().value:t.pa(i);break;case 22:i==r.bs.ks?this.p2pSubRespPartN=t.Yc().value:t.pa(i);break;case 23:i==r.bs.ks?this.p2pSubRespErrN=t.Yc().value:t.pa(i);break;case 24:i==r.bs.Os?this.p2pSubRespExpN=t.ua().value:t.pa(i);break;case 25:i==r.bs.Ps?this.p2pSubReqQt=t.$c().value:t.pa(i);break;case 26:i==r.bs.Ps?this.p2pSubRespQt=t.$c().value:t.pa(i);break;case 27:i==r.bs.Ps?this.p2pDirectQt=t.$c().value:t.pa(i);break;case 28:i==r.bs.Ps?this.p2pRelayQt=t.$c().value:t.pa(i);break;case 29:i==r.bs.Ps?this.p2pNatQt=t.$c().value:t.pa(i);break;case 30:i==r.bs.Ps?this.p2pUdpbQt=t.$c().value:t.pa(i);break;case 31:i==r.bs.Os?this.fallAgentRespN=t.ua().value:t.pa(i);break;case 32:i==r.bs.Os?this.fallAgentPredHitN=t.ua().value:t.pa(i);break;case 33:i==r.bs.Os?this.fallAgentFailedRespN=t.ua().value:t.pa(i);break;case 34:i==r.bs.Os?this.fallAgentPredMissN=t.ua().value:t.pa(i);break;case 35:i==r.bs.Os?this.fallAgentPredPartialHitN=t.ua().value:t.pa(i);break;case 36:i==r.bs.Ps?this.fallAgenTrafficSuccessQt=t.$c().value:t.pa(i);break;case 37:i==r.bs.Ps?this.fallAgenTrafficFailureQt=t.$c().value:t.pa(i);break;case 38:i==r.bs.Os?this.p2pAgentPredHitN=t.ua().value:t.pa(i);break;case 39:i==r.bs.Os?this.p2pAgentPredMissN=t.ua().value:t.pa(i);break;case 40:i==r.bs.Os?this.p2pAgentPredPartialHitN=t.ua().value:t.pa(i);break;case 41:i==r.bs.Ps?this.p2pAgenTrafficSuccessQt=t.$c().value:t.pa(i);break;case 42:i==r.bs.Ps?this.p2pAgenTrafficFailureQt=t.$c().value:t.pa(i);break;case 43:i==r.bs.Os?this.respP2pOtherN=t.ua().value:t.pa(i);break;case 44:i==r.bs.Os?this.lCacheRespN=t.ua().value:t.pa(i);break;case 45:i==r.bs.Ps?this.lCacheRespQt=t.$c().value:t.pa(i);break;case 46:i==r.bs.Ps?this.p2pOutSiteLowPrio=t.$c().value:t.pa(i);break;default:t.pa(i)}t.la()}t.da()},hive.snapshots.Traffic.prototype.write=function(t){t.fa("Traffic"),null!==this.reqN&&void 0!==this.reqN&&(t.ga("reqN",r.bs.Os,1),t.ma(this.reqN),t.ya()),null!==this.respFallbackN&&void 0!==this.respFallbackN&&(t.ga("respFallbackN",r.bs.ks,2),t.Oc(this.respFallbackN),t.ya()),null!==this.respFallbackErrN&&void 0!==this.respFallbackErrN&&(t.ga("respFallbackErrN",r.bs.Os,3),t.ma(this.respFallbackErrN),t.ya()),null!==this.respP2pN&&void 0!==this.respP2pN&&(t.ga("respP2pN",r.bs.ks,4),t.Oc(this.respP2pN),t.ya()),null!==this.reqOtherN&&void 0!==this.reqOtherN&&(t.ga("reqOtherN",r.bs.Os,5),t.ma(this.reqOtherN),t.ya()),null!==this.respFallbackOtherN&&void 0!==this.respFallbackOtherN&&(t.ga("respFallbackOtherN",r.bs.Os,6),t.ma(this.respFallbackOtherN),t.ya()),null!==this.respFallbackOthertErrN&&void 0!==this.respFallbackOthertErrN&&(t.ga("respFallbackOthertErrN",r.bs.Os,7),t.ma(this.respFallbackOthertErrN),t.ya()),null!==this.srcReqN&&void 0!==this.srcReqN&&(t.ga("srcReqN",r.bs.Os,8),t.ma(this.srcReqN),t.ya()),null!==this.srcRespN&&void 0!==this.srcRespN&&(t.ga("srcRespN",r.bs.Os,9),t.ma(this.srcRespN),t.ya()),null!==this.srcRespErrN&&void 0!==this.srcRespErrN&&(t.ga("srcRespErrN",r.bs.Os,10),t.ma(this.srcRespErrN),t.ya()),null!==this.srcReqQt&&void 0!==this.srcReqQt&&(t.ga("srcReqQt",r.bs.Ps,11),t.Cc(this.srcReqQt),t.ya()),null!==this.srcRespQt&&void 0!==this.srcRespQt&&(t.ga("srcRespQt",r.bs.Ps,12),t.Cc(this.srcRespQt),t.ya()),null!==this.srcOverQt&&void 0!==this.srcOverQt&&(t.ga("srcOverQt",r.bs.Ps,13),t.Cc(this.srcOverQt),t.ya()),null!==this.srcOtherReqN&&void 0!==this.srcOtherReqN&&(t.ga("srcOtherReqN",r.bs.Os,14),t.ma(this.srcOtherReqN),t.ya()),null!==this.srcOtherRespN&&void 0!==this.srcOtherRespN&&(t.ga("srcOtherRespN",r.bs.Os,15),t.ma(this.srcOtherRespN),t.ya()),null!==this.srcOtherRespErrN&&void 0!==this.srcOtherRespErrN&&(t.ga("srcOtherRespErrN",r.bs.Os,16),t.ma(this.srcOtherRespErrN),t.ya()),null!==this.srcOtherReqQt&&void 0!==this.srcOtherReqQt&&(t.ga("srcOtherReqQt",r.bs.Ps,17),t.Cc(this.srcOtherReqQt),t.ya()),null!==this.srcOtherRespQt&&void 0!==this.srcOtherRespQt&&(t.ga("srcOtherRespQt",r.bs.Ps,18),t.Cc(this.srcOtherRespQt),t.ya()),null!==this.srcOtherOverQt&&void 0!==this.srcOtherOverQt&&(t.ga("srcOtherOverQt",r.bs.Ps,19),t.Cc(this.srcOtherOverQt),t.ya()),null!==this.p2pSubReqN&&void 0!==this.p2pSubReqN&&(t.ga("p2pSubReqN",r.bs.Os,20),t.ma(this.p2pSubReqN),t.ya()),null!==this.p2pSubRespN&&void 0!==this.p2pSubRespN&&(t.ga("p2pSubRespN",r.bs.Os,21),t.ma(this.p2pSubRespN),t.ya()),null!==this.p2pSubRespPartN&&void 0!==this.p2pSubRespPartN&&(t.ga("p2pSubRespPartN",r.bs.ks,22),t.Oc(this.p2pSubRespPartN),t.ya()),null!==this.p2pSubRespErrN&&void 0!==this.p2pSubRespErrN&&(t.ga("p2pSubRespErrN",r.bs.ks,23),t.Oc(this.p2pSubRespErrN),t.ya()),null!==this.p2pSubRespExpN&&void 0!==this.p2pSubRespExpN&&(t.ga("p2pSubRespExpN",r.bs.Os,24),t.ma(this.p2pSubRespExpN),t.ya()),null!==this.p2pSubReqQt&&void 0!==this.p2pSubReqQt&&(t.ga("p2pSubReqQt",r.bs.Ps,25),t.Cc(this.p2pSubReqQt),t.ya()),null!==this.p2pSubRespQt&&void 0!==this.p2pSubRespQt&&(t.ga("p2pSubRespQt",r.bs.Ps,26),t.Cc(this.p2pSubRespQt),t.ya()),null!==this.p2pDirectQt&&void 0!==this.p2pDirectQt&&(t.ga("p2pDirectQt",r.bs.Ps,27),t.Cc(this.p2pDirectQt),t.ya()),null!==this.p2pRelayQt&&void 0!==this.p2pRelayQt&&(t.ga("p2pRelayQt",r.bs.Ps,28),t.Cc(this.p2pRelayQt),t.ya()),null!==this.p2pNatQt&&void 0!==this.p2pNatQt&&(t.ga("p2pNatQt",r.bs.Ps,29),t.Cc(this.p2pNatQt),t.ya()),null!==this.p2pUdpbQt&&void 0!==this.p2pUdpbQt&&(t.ga("p2pUdpbQt",r.bs.Ps,30),t.Cc(this.p2pUdpbQt),t.ya()),null!==this.fallAgentRespN&&void 0!==this.fallAgentRespN&&(t.ga("fallAgentRespN",r.bs.Os,31),t.ma(this.fallAgentRespN),t.ya()),null!==this.fallAgentPredHitN&&void 0!==this.fallAgentPredHitN&&(t.ga("fallAgentPredHitN",r.bs.Os,32),t.ma(this.fallAgentPredHitN),t.ya()),null!==this.fallAgentFailedRespN&&void 0!==this.fallAgentFailedRespN&&(t.ga("fallAgentFailedRespN",r.bs.Os,33),t.ma(this.fallAgentFailedRespN),t.ya()),null!==this.fallAgentPredMissN&&void 0!==this.fallAgentPredMissN&&(t.ga("fallAgentPredMissN",r.bs.Os,34),t.ma(this.fallAgentPredMissN),t.ya()),null!==this.fallAgentPredPartialHitN&&void 0!==this.fallAgentPredPartialHitN&&(t.ga("fallAgentPredPartialHitN",r.bs.Os,35),t.ma(this.fallAgentPredPartialHitN),t.ya()),null!==this.fallAgenTrafficSuccessQt&&void 0!==this.fallAgenTrafficSuccessQt&&(t.ga("fallAgenTrafficSuccessQt",r.bs.Ps,36),t.Cc(this.fallAgenTrafficSuccessQt),t.ya()),null!==this.fallAgenTrafficFailureQt&&void 0!==this.fallAgenTrafficFailureQt&&(t.ga("fallAgenTrafficFailureQt",r.bs.Ps,37),t.Cc(this.fallAgenTrafficFailureQt),t.ya()),null!==this.p2pAgentPredHitN&&void 0!==this.p2pAgentPredHitN&&(t.ga("p2pAgentPredHitN",r.bs.Os,38),t.ma(this.p2pAgentPredHitN),t.ya()),null!==this.p2pAgentPredMissN&&void 0!==this.p2pAgentPredMissN&&(t.ga("p2pAgentPredMissN",r.bs.Os,39),t.ma(this.p2pAgentPredMissN),t.ya()),null!==this.p2pAgentPredPartialHitN&&void 0!==this.p2pAgentPredPartialHitN&&(t.ga("p2pAgentPredPartialHitN",r.bs.Os,40),t.ma(this.p2pAgentPredPartialHitN),t.ya()),null!==this.p2pAgenTrafficSuccessQt&&void 0!==this.p2pAgenTrafficSuccessQt&&(t.ga("p2pAgenTrafficSuccessQt",r.bs.Ps,41),t.Cc(this.p2pAgenTrafficSuccessQt),t.ya()),null!==this.p2pAgenTrafficFailureQt&&void 0!==this.p2pAgenTrafficFailureQt&&(t.ga("p2pAgenTrafficFailureQt",r.bs.Ps,42),t.Cc(this.p2pAgenTrafficFailureQt),t.ya()),null!==this.respP2pOtherN&&void 0!==this.respP2pOtherN&&(t.ga("respP2pOtherN",r.bs.Os,43),t.ma(this.respP2pOtherN),t.ya()),null!==this.lCacheRespN&&void 0!==this.lCacheRespN&&(t.ga("lCacheRespN",r.bs.Os,44),t.ma(this.lCacheRespN),t.ya()),null!==this.lCacheRespQt&&void 0!==this.lCacheRespQt&&(t.ga("lCacheRespQt",r.bs.Ps,45),t.Cc(this.lCacheRespQt),t.ya()),null!==this.p2pOutSiteLowPrio&&void 0!==this.p2pOutSiteLowPrio&&(t.ga("p2pOutSiteLowPrio",r.bs.Ps,46),t.Cc(this.p2pOutSiteLowPrio),t.ya()),t.wa(),t.Ta()},hive.snapshots.Metrics=function(t){this.upBW=null,this.downBW=null,this.memN=null,this.prtInN=null,this.prtOutN=null,this.initVideoBufQt=null,this.videoAvgBufQt=null,this.videoBufQt=null,this.videoBufN=null,this.initAudioBufQt=null,this.audioAvgBufQt=null,this.audioBufQt=null,this.audioBufN=null,this.bitrateUpN=null,this.bitrateDwnN=null,this.delay=null,this.delayEnforcement=null,this.lookupReqEstablished=null,this.lookupReqAccept=null,this.fallbackAvgTp=null,this.srcThroughput=null,this.diskReadTimeout=null,this.diskReadRate=null,this.diskStoreRate=null,this.diskRemoveRate=null,this.diskCacheSize=null,this.clientBufferMs=null,this.lookupTotal=null,this.lookupNotFound=null,this.lookupFailed=null,this.lookupLatency=null,this.trackerFailed=null,this.trackerLatency=null,this.snapshotFailed=null,this.snapshotLatency=null,t&&(void 0!==t.upBW&&(this.upBW=t.upBW),void 0!==t.downBW&&(this.downBW=t.downBW),void 0!==t.memN&&(this.memN=t.memN),void 0!==t.prtInN&&(this.prtInN=t.prtInN),void 0!==t.prtOutN&&(this.prtOutN=t.prtOutN),void 0!==t.initVideoBufQt&&(this.initVideoBufQt=t.initVideoBufQt),void 0!==t.videoAvgBufQt&&(this.videoAvgBufQt=t.videoAvgBufQt),void 0!==t.videoBufQt&&(this.videoBufQt=t.videoBufQt),void 0!==t.videoBufN&&(this.videoBufN=t.videoBufN),void 0!==t.initAudioBufQt&&(this.initAudioBufQt=t.initAudioBufQt),void 0!==t.audioAvgBufQt&&(this.audioAvgBufQt=t.audioAvgBufQt),void 0!==t.audioBufQt&&(this.audioBufQt=t.audioBufQt),void 0!==t.audioBufN&&(this.audioBufN=t.audioBufN),void 0!==t.bitrateUpN&&(this.bitrateUpN=t.bitrateUpN),void 0!==t.bitrateDwnN&&(this.bitrateDwnN=t.bitrateDwnN),void 0!==t.delay&&(this.delay=t.delay),void 0!==t.delayEnforcement&&(this.delayEnforcement=t.delayEnforcement),void 0!==t.lookupReqEstablished&&(this.lookupReqEstablished=t.lookupReqEstablished),void 0!==t.lookupReqAccept&&(this.lookupReqAccept=t.lookupReqAccept),void 0!==t.fallbackAvgTp&&(this.fallbackAvgTp=t.fallbackAvgTp),void 0!==t.srcThroughput&&(this.srcThroughput=t.srcThroughput),void 0!==t.diskReadTimeout&&(this.diskReadTimeout=t.diskReadTimeout),void 0!==t.diskReadRate&&(this.diskReadRate=t.diskReadRate),void 0!==t.diskStoreRate&&(this.diskStoreRate=t.diskStoreRate),void 0!==t.diskRemoveRate&&(this.diskRemoveRate=t.diskRemoveRate),void 0!==t.diskCacheSize&&(this.diskCacheSize=t.diskCacheSize),void 0!==t.clientBufferMs&&(this.clientBufferMs=t.clientBufferMs),void 0!==t.lookupTotal&&(this.lookupTotal=t.lookupTotal),void 0!==t.lookupNotFound&&(this.lookupNotFound=t.lookupNotFound),void 0!==t.lookupFailed&&(this.lookupFailed=t.lookupFailed),void 0!==t.lookupLatency&&(this.lookupLatency=t.lookupLatency),void 0!==t.trackerFailed&&(this.trackerFailed=t.trackerFailed),void 0!==t.trackerLatency&&(this.trackerLatency=t.trackerLatency),void 0!==t.snapshotFailed&&(this.snapshotFailed=t.snapshotFailed),void 0!==t.snapshotLatency&&(this.snapshotLatency=t.snapshotLatency))},hive.snapshots.Metrics.prototype={},hive.snapshots.Metrics.prototype.read=function(t){for(t.Hc();;){var e=t.sa(),i=(e.Bc,e.aa),n=e.ca;if(i==r.bs.Es)break;switch(n){case 1:i==r.bs.Os?this.upBW=t.ua().value:t.pa(i);break;case 2:i==r.bs.Os?this.downBW=t.ua().value:t.pa(i);break;case 3:i==r.bs.Os?this.memN=t.ua().value:t.pa(i);break;case 4:i==r.bs.Os?this.prtInN=t.ua().value:t.pa(i);break;case 5:i==r.bs.Os?this.prtOutN=t.ua().value:t.pa(i);break;case 6:i==r.bs.Ps?this.initVideoBufQt=t.$c().value:t.pa(i);break;case 7:i==r.bs.ks?this.videoAvgBufQt=t.Yc().value:t.pa(i);break;case 8:i==r.bs.Ps?this.videoBufQt=t.$c().value:t.pa(i);break;case 9:i==r.bs.Os?this.videoBufN=t.ua().value:t.pa(i);break;case 10:i==r.bs.Os?this.initAudioBufQt=t.ua().value:t.pa(i);break;case 11:i==r.bs.ks?this.audioAvgBufQt=t.Yc().value:t.pa(i);break;case 12:i==r.bs.Ps?this.audioBufQt=t.$c().value:t.pa(i);break;case 13:i==r.bs.Os?this.audioBufN=t.ua().value:t.pa(i);break;case 14:i==r.bs.Os?this.bitrateUpN=t.ua().value:t.pa(i);break;case 15:i==r.bs.Os?this.bitrateDwnN=t.ua().value:t.pa(i);break;case 16:i==r.bs.Os?this.delay=t.ua().value:t.pa(i);break;case 17:i==r.bs.Os?this.delayEnforcement=t.ua().value:t.pa(i);break;case 18:i==r.bs.Os?this.lookupReqEstablished=t.ua().value:t.pa(i);break;case 19:i==r.bs.Os?this.lookupReqAccept=t.ua().value:t.pa(i);break;case 20:i==r.bs.ks?this.fallbackAvgTp=t.Yc().value:t.pa(i);break;case 21:i==r.bs.ks?this.srcThroughput=t.Yc().value:t.pa(i);break;case 22:i==r.bs.Os?this.diskReadTimeout=t.ua().value:t.pa(i);break;case 23:i==r.bs.ks?this.diskReadRate=t.Yc().value:t.pa(i);break;case 24:i==r.bs.ks?this.diskStoreRate=t.Yc().value:t.pa(i);break;case 25:i==r.bs.ks?this.diskRemoveRate=t.Yc().value:t.pa(i);break;case 26:i==r.bs.Ps?this.diskCacheSize=t.$c().value:t.pa(i);break;case 27:i==r.bs.Os?this.clientBufferMs=t.ua().value:t.pa(i);break;case 28:i==r.bs.Os?this.lookupTotal=t.ua().value:t.pa(i);break;case 29:i==r.bs.Os?this.lookupNotFound=t.ua().value:t.pa(i);break;case 30:i==r.bs.Os?this.lookupFailed=t.ua().value:t.pa(i);break;case 31:i==r.bs.Os?this.lookupLatency=t.ua().value:t.pa(i);break;case 32:i==r.bs.Os?this.trackerFailed=t.ua().value:t.pa(i);break;case 33:i==r.bs.Os?this.trackerLatency=t.ua().value:t.pa(i);break;case 34:i==r.bs.Os?this.snapshotFailed=t.ua().value:t.pa(i);break;case 35:i==r.bs.Os?this.snapshotLatency=t.ua().value:t.pa(i);break;default:t.pa(i)}t.la()}t.da()},hive.snapshots.Metrics.prototype.write=function(t){t.fa("Metrics"),null!==this.upBW&&void 0!==this.upBW&&(t.ga("upBW",r.bs.Os,1),t.ma(this.upBW),t.ya()),null!==this.downBW&&void 0!==this.downBW&&(t.ga("downBW",r.bs.Os,2),t.ma(this.downBW),t.ya()),null!==this.memN&&void 0!==this.memN&&(t.ga("memN",r.bs.Os,3),t.ma(this.memN),t.ya()),null!==this.prtInN&&void 0!==this.prtInN&&(t.ga("prtInN",r.bs.Os,4),t.ma(this.prtInN),t.ya()),null!==this.prtOutN&&void 0!==this.prtOutN&&(t.ga("prtOutN",r.bs.Os,5),t.ma(this.prtOutN),t.ya()),null!==this.initVideoBufQt&&void 0!==this.initVideoBufQt&&(t.ga("initVideoBufQt",r.bs.Ps,6),t.Cc(this.initVideoBufQt),t.ya()),null!==this.videoAvgBufQt&&void 0!==this.videoAvgBufQt&&(t.ga("videoAvgBufQt",r.bs.ks,7),t.Oc(this.videoAvgBufQt),t.ya()),null!==this.videoBufQt&&void 0!==this.videoBufQt&&(t.ga("videoBufQt",r.bs.Ps,8),t.Cc(this.videoBufQt),t.ya()),null!==this.videoBufN&&void 0!==this.videoBufN&&(t.ga("videoBufN",r.bs.Os,9),t.ma(this.videoBufN),t.ya()),null!==this.initAudioBufQt&&void 0!==this.initAudioBufQt&&(t.ga("initAudioBufQt",r.bs.Os,10),t.ma(this.initAudioBufQt),t.ya()),null!==this.audioAvgBufQt&&void 0!==this.audioAvgBufQt&&(t.ga("audioAvgBufQt",r.bs.ks,11),t.Oc(this.audioAvgBufQt),t.ya()),null!==this.audioBufQt&&void 0!==this.audioBufQt&&(t.ga("audioBufQt",r.bs.Ps,12),t.Cc(this.audioBufQt),t.ya()),null!==this.audioBufN&&void 0!==this.audioBufN&&(t.ga("audioBufN",r.bs.Os,13),t.ma(this.audioBufN),t.ya()),null!==this.bitrateUpN&&void 0!==this.bitrateUpN&&(t.ga("bitrateUpN",r.bs.Os,14),t.ma(this.bitrateUpN),t.ya()),null!==this.bitrateDwnN&&void 0!==this.bitrateDwnN&&(t.ga("bitrateDwnN",r.bs.Os,15),t.ma(this.bitrateDwnN),t.ya()),null!==this.delay&&void 0!==this.delay&&(t.ga("delay",r.bs.Os,16),t.ma(this.delay),t.ya()),null!==this.delayEnforcement&&void 0!==this.delayEnforcement&&(t.ga("delayEnforcement",r.bs.Os,17),t.ma(this.delayEnforcement),t.ya()),null!==this.lookupReqEstablished&&void 0!==this.lookupReqEstablished&&(t.ga("lookupReqEstablished",r.bs.Os,18),t.ma(this.lookupReqEstablished),t.ya()),null!==this.lookupReqAccept&&void 0!==this.lookupReqAccept&&(t.ga("lookupReqAccept",r.bs.Os,19),t.ma(this.lookupReqAccept),t.ya()),null!==this.fallbackAvgTp&&void 0!==this.fallbackAvgTp&&(t.ga("fallbackAvgTp",r.bs.ks,20),t.Oc(this.fallbackAvgTp),t.ya()),null!==this.srcThroughput&&void 0!==this.srcThroughput&&(t.ga("srcThroughput",r.bs.ks,21),t.Oc(this.srcThroughput),t.ya()),null!==this.diskReadTimeout&&void 0!==this.diskReadTimeout&&(t.ga("diskReadTimeout",r.bs.Os,22),t.ma(this.diskReadTimeout),t.ya()),null!==this.diskReadRate&&void 0!==this.diskReadRate&&(t.ga("diskReadRate",r.bs.ks,23),t.Oc(this.diskReadRate),t.ya()),null!==this.diskStoreRate&&void 0!==this.diskStoreRate&&(t.ga("diskStoreRate",r.bs.ks,24),t.Oc(this.diskStoreRate),t.ya()),null!==this.diskRemoveRate&&void 0!==this.diskRemoveRate&&(t.ga("diskRemoveRate",r.bs.ks,25),t.Oc(this.diskRemoveRate),t.ya()),null!==this.diskCacheSize&&void 0!==this.diskCacheSize&&(t.ga("diskCacheSize",r.bs.Ps,26),t.Cc(this.diskCacheSize),t.ya()),null!==this.clientBufferMs&&void 0!==this.clientBufferMs&&(t.ga("clientBufferMs",r.bs.Os,27),t.ma(this.clientBufferMs),t.ya()),null!==this.lookupTotal&&void 0!==this.lookupTotal&&(t.ga("lookupTotal",r.bs.Os,28),t.ma(this.lookupTotal),t.ya()),null!==this.lookupNotFound&&void 0!==this.lookupNotFound&&(t.ga("lookupNotFound",r.bs.Os,29),t.ma(this.lookupNotFound),t.ya()),null!==this.lookupFailed&&void 0!==this.lookupFailed&&(t.ga("lookupFailed",r.bs.Os,30),t.ma(this.lookupFailed),t.ya()),null!==this.lookupLatency&&void 0!==this.lookupLatency&&(t.ga("lookupLatency",r.bs.Os,31),t.ma(this.lookupLatency),t.ya()),null!==this.trackerFailed&&void 0!==this.trackerFailed&&(t.ga("trackerFailed",r.bs.Os,32),t.ma(this.trackerFailed),t.ya()),null!==this.trackerLatency&&void 0!==this.trackerLatency&&(t.ga("trackerLatency",r.bs.Os,33),t.ma(this.trackerLatency),t.ya()),null!==this.snapshotFailed&&void 0!==this.snapshotFailed&&(t.ga("snapshotFailed",r.bs.Os,34),t.ma(this.snapshotFailed),t.ya()),null!==this.snapshotLatency&&void 0!==this.snapshotLatency&&(t.ga("snapshotLatency",r.bs.Os,35),t.ma(this.snapshotLatency),t.ya()),t.wa(),t.Ta()},hive.snapshots.PartnerTraffic=function(t){this.p2pSuccReq=null,this.p2pFailReq=null,this.p2pPartReq=null,this.p2pSuccReceived=null,this.p2pSuccReceivedLow=null,this.p2pFailReceived=null,this.p2pSuccResp=null,this.p2pFailResp=null,this.p2pPartResp=null,this.p2pSuccSent=null,this.p2pSuccSentLow=null,this.p2pFailSent=null,t&&(void 0!==t.p2pSuccReq&&(this.p2pSuccReq=t.p2pSuccReq),void 0!==t.p2pFailReq&&(this.p2pFailReq=t.p2pFailReq),void 0!==t.p2pPartReq&&(this.p2pPartReq=t.p2pPartReq),void 0!==t.p2pSuccReceived&&(this.p2pSuccReceived=t.p2pSuccReceived),void 0!==t.p2pSuccReceivedLow&&(this.p2pSuccReceivedLow=t.p2pSuccReceivedLow),void 0!==t.p2pFailReceived&&(this.p2pFailReceived=t.p2pFailReceived),void 0!==t.p2pSuccResp&&(this.p2pSuccResp=t.p2pSuccResp),void 0!==t.p2pFailResp&&(this.p2pFailResp=t.p2pFailResp),void 0!==t.p2pPartResp&&(this.p2pPartResp=t.p2pPartResp),void 0!==t.p2pSuccSent&&(this.p2pSuccSent=t.p2pSuccSent),void 0!==t.p2pSuccSentLow&&(this.p2pSuccSentLow=t.p2pSuccSentLow),void 0!==t.p2pFailSent&&(this.p2pFailSent=t.p2pFailSent))},hive.snapshots.PartnerTraffic.prototype={},hive.snapshots.PartnerTraffic.prototype.read=function(t){for(t.Hc();;){var e=t.sa(),i=(e.Bc,e.aa),n=e.ca;if(i==r.bs.Es)break;switch(n){case 1:i==r.bs.Ps?this.p2pSuccReq=t.$c().value:t.pa(i);break;case 2:i==r.bs.Ps?this.p2pFailReq=t.$c().value:t.pa(i);break;case 3:i==r.bs.Ps?this.p2pPartReq=t.$c().value:t.pa(i);break;case 4:i==r.bs.Ps?this.p2pSuccReceived=t.$c().value:t.pa(i);break;case 5:i==r.bs.Ps?this.p2pSuccReceivedLow=t.$c().value:t.pa(i);break;case 10:i==r.bs.Ps?this.p2pFailReceived=t.$c().value:t.pa(i);break;case 6:i==r.bs.Ps?this.p2pSuccResp=t.$c().value:t.pa(i);break;case 11:i==r.bs.Ps?this.p2pFailResp=t.$c().value:t.pa(i);break;case 7:i==r.bs.Ps?this.p2pPartResp=t.$c().value:t.pa(i);break;case 8:i==r.bs.Ps?this.p2pSuccSent=t.$c().value:t.pa(i);break;case 9:i==r.bs.Ps?this.p2pSuccSentLow=t.$c().value:t.pa(i);break;case 12:i==r.bs.Ps?this.p2pFailSent=t.$c().value:t.pa(i);break;default:t.pa(i)}t.la()}t.da()},hive.snapshots.PartnerTraffic.prototype.write=function(t){t.fa("PartnerTraffic"),null!==this.p2pSuccReq&&void 0!==this.p2pSuccReq&&(t.ga("p2pSuccReq",r.bs.Ps,1),t.Cc(this.p2pSuccReq),t.ya()),null!==this.p2pFailReq&&void 0!==this.p2pFailReq&&(t.ga("p2pFailReq",r.bs.Ps,2),t.Cc(this.p2pFailReq),t.ya()),null!==this.p2pPartReq&&void 0!==this.p2pPartReq&&(t.ga("p2pPartReq",r.bs.Ps,3),t.Cc(this.p2pPartReq),t.ya()),null!==this.p2pSuccReceived&&void 0!==this.p2pSuccReceived&&(t.ga("p2pSuccReceived",r.bs.Ps,4),t.Cc(this.p2pSuccReceived),t.ya()),null!==this.p2pSuccReceivedLow&&void 0!==this.p2pSuccReceivedLow&&(t.ga("p2pSuccReceivedLow",r.bs.Ps,5),t.Cc(this.p2pSuccReceivedLow),t.ya()),null!==this.p2pFailReceived&&void 0!==this.p2pFailReceived&&(t.ga("p2pFailReceived",r.bs.Ps,10),t.Cc(this.p2pFailReceived),t.ya()),null!==this.p2pSuccResp&&void 0!==this.p2pSuccResp&&(t.ga("p2pSuccResp",r.bs.Ps,6),t.Cc(this.p2pSuccResp),t.ya()),null!==this.p2pFailResp&&void 0!==this.p2pFailResp&&(t.ga("p2pFailResp",r.bs.Ps,11),t.Cc(this.p2pFailResp),t.ya()),null!==this.p2pPartResp&&void 0!==this.p2pPartResp&&(t.ga("p2pPartResp",r.bs.Ps,7),t.Cc(this.p2pPartResp),t.ya()),null!==this.p2pSuccSent&&void 0!==this.p2pSuccSent&&(t.ga("p2pSuccSent",r.bs.Ps,8),t.Cc(this.p2pSuccSent),t.ya()),null!==this.p2pSuccSentLow&&void 0!==this.p2pSuccSentLow&&(t.ga("p2pSuccSentLow",r.bs.Ps,9),t.Cc(this.p2pSuccSentLow),t.ya()),null!==this.p2pFailSent&&void 0!==this.p2pFailSent&&(t.ga("p2pFailSent",r.bs.Ps,12),t.Cc(this.p2pFailSent),t.ya()),t.wa(),t.Ta()},hive.snapshots.PartnerMetrics=function(t){this.rateReceived=null,this.rateSent=null,this.handshakeDelay=null,t&&(void 0!==t.rateReceived&&(this.rateReceived=t.rateReceived),void 0!==t.rateSent&&(this.rateSent=t.rateSent),void 0!==t.handshakeDelay&&(this.handshakeDelay=t.handshakeDelay))},hive.snapshots.PartnerMetrics.prototype={},hive.snapshots.PartnerMetrics.prototype.read=function(t){for(t.Hc();;){var e=t.sa(),i=(e.Bc,e.aa),n=e.ca;if(i==r.bs.Es)break;switch(n){case 1:i==r.bs.ks?this.rateReceived=t.Yc().value:t.pa(i);break;case 2:i==r.bs.ks?this.rateSent=t.Yc().value:t.pa(i);break;case 3:i==r.bs.Ps?this.handshakeDelay=t.$c().value:t.pa(i);break;default:t.pa(i)}t.la()}t.da()},hive.snapshots.PartnerMetrics.prototype.write=function(t){t.fa("PartnerMetrics"),null!==this.rateReceived&&void 0!==this.rateReceived&&(t.ga("rateReceived",r.bs.ks,1),t.Oc(this.rateReceived),t.ya()),null!==this.rateSent&&void 0!==this.rateSent&&(t.ga("rateSent",r.bs.ks,2),t.Oc(this.rateSent),t.ya()),null!==this.handshakeDelay&&void 0!==this.handshakeDelay&&(t.ga("handshakeDelay",r.bs.Ps,3),t.Cc(this.handshakeDelay),t.ya()),t.wa(),t.Ta()},hive.snapshots.ConnectivityInfo=function(t){this.upBW=null,this.downBW=null,this.externalAs=null,this.internalAs=null,this.publicIp=null,this.privateIp=null,t&&(void 0!==t.upBW&&(this.upBW=t.upBW),void 0!==t.downBW&&(this.downBW=t.downBW),void 0!==t.externalAs&&(this.externalAs=t.externalAs),void 0!==t.internalAs&&(this.internalAs=t.internalAs),void 0!==t.publicIp&&(this.publicIp=t.publicIp),void 0!==t.privateIp&&(this.privateIp=t.privateIp))},hive.snapshots.ConnectivityInfo.prototype={},hive.snapshots.ConnectivityInfo.prototype.read=function(t){for(t.Hc();;){var e=t.sa(),i=(e.Bc,e.aa),n=e.ca;if(i==r.bs.Es)break;switch(n){case 1:i==r.bs.Os?this.upBW=t.ua().value:t.pa(i);break;case 2:i==r.bs.Os?this.downBW=t.ua().value:t.pa(i);break;case 3:i==r.bs.Os?this.externalAs=t.ua().value:t.pa(i);break;case 4:i==r.bs.Os?this.internalAs=t.ua().value:t.pa(i);break;case 5:i==r.bs.As?this.publicIp=t.ha().value:t.pa(i);break;case 6:i==r.bs.As?this.privateIp=t.ha().value:t.pa(i);break;default:t.pa(i)}t.la()}t.da()},hive.snapshots.ConnectivityInfo.prototype.write=function(t){t.fa("ConnectivityInfo"),null!==this.upBW&&void 0!==this.upBW&&(t.ga("upBW",r.bs.Os,1),t.ma(this.upBW),t.ya()),null!==this.downBW&&void 0!==this.downBW&&(t.ga("downBW",r.bs.Os,2),t.ma(this.downBW),t.ya()),null!==this.externalAs&&void 0!==this.externalAs&&(t.ga("externalAs",r.bs.Os,3),t.ma(this.externalAs),t.ya()),null!==this.internalAs&&void 0!==this.internalAs&&(t.ga("internalAs",r.bs.Os,4),t.ma(this.internalAs),t.ya()),null!==this.publicIp&&void 0!==this.publicIp&&(t.ga("publicIp",r.bs.As,5),t.va(this.publicIp),t.ya()),null!==this.privateIp&&void 0!==this.privateIp&&(t.ga("privateIp",r.bs.As,6),t.va(this.privateIp),t.ya()),t.wa(),t.Ta()},hive.snapshots.Partner=function(t){this.connInfo=null,this.traffic=null,this.metrics=null,this.inPart=null,this.outPart=null,this.udp=null,t&&(void 0!==t.connInfo&&(this.connInfo=t.connInfo),void 0!==t.traffic&&(this.traffic=t.traffic),void 0!==t.metrics&&(this.metrics=t.metrics),void 0!==t.inPart&&(this.inPart=t.inPart),void 0!==t.outPart&&(this.outPart=t.outPart),void 0!==t.udp&&(this.udp=t.udp))},hive.snapshots.Partner.prototype={},hive.snapshots.Partner.prototype.read=function(t){for(t.Hc();;){var e=t.sa(),i=(e.Bc,e.aa),n=e.ca;if(i==r.bs.Es)break;switch(n){case 1:i==r.bs.xs?(this.connInfo=new hive.snapshots.ConnectivityInfo,this.connInfo.read(t)):t.pa(i);break;case 2:i==r.bs.xs?(this.traffic=new hive.snapshots.PartnerTraffic,this.traffic.read(t)):t.pa(i);break;case 3:i==r.bs.xs?(this.metrics=new hive.snapshots.PartnerMetrics,this.metrics.read(t)):t.pa(i);break;case 4:i==r.bs.BOOL?this.inPart=t.Gc().value:t.pa(i);break;case 5:i==r.bs.BOOL?this.outPart=t.Gc().value:t.pa(i);break;case 6:i==r.bs.BOOL?this.udp=t.Gc().value:t.pa(i);break;default:t.pa(i)}t.la()}t.da()},hive.snapshots.Partner.prototype.write=function(t){t.fa("Partner"),null!==this.connInfo&&void 0!==this.connInfo&&(t.ga("connInfo",r.bs.xs,1),this.connInfo.write(t),t.ya()),null!==this.traffic&&void 0!==this.traffic&&(t.ga("traffic",r.bs.xs,2),this.traffic.write(t),t.ya()),null!==this.metrics&&void 0!==this.metrics&&(t.ga("metrics",r.bs.xs,3),this.metrics.write(t),t.ya()),null!==this.inPart&&void 0!==this.inPart&&(t.ga("inPart",r.bs.BOOL,4),t.Ic(this.inPart),t.ya()),null!==this.outPart&&void 0!==this.outPart&&(t.ga("outPart",r.bs.BOOL,5),t.Ic(this.outPart),t.ya()),null!==this.udp&&void 0!==this.udp&&(t.ga("udp",r.bs.BOOL,6),t.Ic(this.udp),t.ya()),t.wa(),t.Ta()},hive.snapshots.StreamInfo=function(t){this.url=null,this.streamType=null,this.streamProtocol=null,t&&(void 0!==t.url&&(this.url=t.url),void 0!==t.streamType&&(this.streamType=t.streamType),void 0!==t.streamProtocol&&(this.streamProtocol=t.streamProtocol))},hive.snapshots.StreamInfo.prototype={},hive.snapshots.StreamInfo.prototype.read=function(t){for(t.Hc();;){var e=t.sa(),i=(e.Bc,e.aa),n=e.ca;if(i==r.bs.Es)break;switch(n){case 1:i==r.bs.As?this.url=t.ha().value:t.pa(i);break;case 2:i==r.bs.Os?this.streamType=t.ua().value:t.pa(i);break;case 3:i==r.bs.Os?this.streamProtocol=t.ua().value:t.pa(i);break;default:t.pa(i)}t.la()}t.da()},hive.snapshots.StreamInfo.prototype.write=function(t){t.fa("StreamInfo"),null!==this.url&&void 0!==this.url&&(t.ga("url",r.bs.As,1),t.va(this.url),t.ya()),null!==this.streamType&&void 0!==this.streamType&&(t.ga("streamType",r.bs.Os,2),t.ma(this.streamType),t.ya()),null!==this.streamProtocol&&void 0!==this.streamProtocol&&(t.ga("streamProtocol",r.bs.Os,3),t.ma(this.streamProtocol),t.ya()),t.wa(),t.Ta()},hive.snapshots.ClientInfo=function(t){this.clientType=null,this.majorVersion=null,this.minorVersion=null,this.patchVersion=null,t&&(void 0!==t.clientType&&(this.clientType=t.clientType),void 0!==t.majorVersion&&(this.majorVersion=t.majorVersion),void 0!==t.minorVersion&&(this.minorVersion=t.minorVersion),void 0!==t.patchVersion&&(this.patchVersion=t.patchVersion))},hive.snapshots.ClientInfo.prototype={},hive.snapshots.ClientInfo.prototype.read=function(t){for(t.Hc();;){var e=t.sa(),i=(e.Bc,e.aa),n=e.ca;if(i==r.bs.Es)break;switch(n){case 1:i==r.bs.Os?this.clientType=t.ua().value:t.pa(i);break;case 2:i==r.bs.BYTE?this.majorVersion=t.zc().value:t.pa(i);break;case 3:i==r.bs.BYTE?this.minorVersion=t.zc().value:t.pa(i);break;case 4:i==r.bs.Cs?this.patchVersion=t.Wc().value:t.pa(i);break;default:t.pa(i)}t.la()}t.da()},hive.snapshots.ClientInfo.prototype.write=function(t){t.fa("ClientInfo"),null!==this.clientType&&void 0!==this.clientType&&(t.ga("clientType",r.bs.Os,1),t.ma(this.clientType),t.ya()),null!==this.majorVersion&&void 0!==this.majorVersion&&(t.ga("majorVersion",r.bs.BYTE,2),t.Rc(this.majorVersion),t.ya()),null!==this.minorVersion&&void 0!==this.minorVersion&&(t.ga("minorVersion",r.bs.BYTE,3),t.Rc(this.minorVersion),t.ya()),null!==this.patchVersion&&void 0!==this.patchVersion&&(t.ga("patchVersion",r.bs.Cs,4),t.kc(this.patchVersion),t.ya()),t.wa(),t.Ta()},hive.snapshots.AgentInfo=function(t){this.firstTierBitrates=null,this.secondTierBitrates=null,t&&(void 0!==t.firstTierBitrates&&(this.firstTierBitrates=t.firstTierBitrates),void 0!==t.secondTierBitrates&&(this.secondTierBitrates=t.secondTierBitrates))},hive.snapshots.AgentInfo.prototype={},hive.snapshots.AgentInfo.prototype.read=function(t){for(t.Hc();;){var e=t.sa(),i=(e.Bc,e.aa),n=e.ca;if(i==r.bs.Es)break;switch(n){case 1:if(i==r.bs.Fs){var o,s=0;this.firstTierBitrates=[];var a=0;o=t.Jc(),a=o.Qc,s=o.size;for(var c=0;c<s;++c){var h=null;h=t.ua().value,this.firstTierBitrates.push(h)}t.Kc()}else t.pa(i);break;case 2:if(i==r.bs.Fs){var p,u=0;this.secondTierBitrates=[];var l=0;p=t.Jc(),l=p.Qc,u=p.size;for(var d=0;d<u;++d){var f=null;f=t.ua().value,this.secondTierBitrates.push(f)}t.Kc()}else t.pa(i);break;default:t.pa(i)}t.la()}t.da()},hive.snapshots.AgentInfo.prototype.write=function(t){
  if(t.fa("AgentInfo"),null!==this.firstTierBitrates&&void 0!==this.firstTierBitrates){t.ga("firstTierBitrates",r.bs.Fs,1),t.bc(r.bs.Os,this.firstTierBitrates.length);for(var e in this.firstTierBitrates)this.firstTierBitrates.hasOwnProperty(e)&&(e=this.firstTierBitrates[e],t.ma(e));t.Ec(),t.ya()}if(null!==this.secondTierBitrates&&void 0!==this.secondTierBitrates){t.ga("secondTierBitrates",r.bs.Fs,2),t.bc(r.bs.Os,this.secondTierBitrates.length);for(var i in this.secondTierBitrates)this.secondTierBitrates.hasOwnProperty(i)&&(i=this.secondTierBitrates[i],t.ma(i));t.Ec(),t.ya()}t.wa(),t.Ta()},hive.snapshots.TrafficKey=function(t){this.bitrate=null,this.AS=null,this.partnerGuid=null,t&&(void 0!==t.bitrate&&(this.bitrate=t.bitrate),void 0!==t.AS&&(this.AS=t.AS),void 0!==t.partnerGuid&&(this.partnerGuid=t.partnerGuid))},hive.snapshots.TrafficKey.prototype={},hive.snapshots.TrafficKey.prototype.read=function(t){for(t.Hc();;){var e=t.sa(),i=(e.Bc,e.aa),n=e.ca;if(i==r.bs.Es)break;switch(n){case 1:i==r.bs.Os?this.bitrate=t.ua().value:t.pa(i);break;case 2:i==r.bs.Os?this.AS=t.ua().value:t.pa(i);break;case 3:i==r.bs.As?this.partnerGuid=t.ha().value:t.pa(i);break;default:t.pa(i)}t.la()}t.da()},hive.snapshots.TrafficKey.prototype.write=function(t){t.fa("TrafficKey"),null!==this.bitrate&&void 0!==this.bitrate&&(t.ga("bitrate",r.bs.Os,1),t.ma(this.bitrate),t.ya()),null!==this.AS&&void 0!==this.AS&&(t.ga("AS",r.bs.Os,2),t.ma(this.AS),t.ya()),null!==this.partnerGuid&&void 0!==this.partnerGuid&&(t.ga("partnerGuid",r.bs.As,3),t.va(this.partnerGuid),t.ya()),t.wa(),t.Ta()},hive.snapshots.PartnerKey=function(t){this.bitrate=null,this.AS=null,this.partnerGuid=null,t&&(void 0!==t.bitrate&&(this.bitrate=t.bitrate),void 0!==t.AS&&(this.AS=t.AS),void 0!==t.partnerGuid&&(this.partnerGuid=t.partnerGuid))},hive.snapshots.PartnerKey.prototype={},hive.snapshots.PartnerKey.prototype.read=function(t){for(t.Hc();;){var e=t.sa(),i=(e.Bc,e.aa),n=e.ca;if(i==r.bs.Es)break;switch(n){case 1:i==r.bs.Os?this.bitrate=t.ua().value:t.pa(i);break;case 2:i==r.bs.Os?this.AS=t.ua().value:t.pa(i);break;case 3:i==r.bs.As?this.partnerGuid=t.ha().value:t.pa(i);break;default:t.pa(i)}t.la()}t.da()},hive.snapshots.PartnerKey.prototype.write=function(t){t.fa("PartnerKey"),null!==this.bitrate&&void 0!==this.bitrate&&(t.ga("bitrate",r.bs.Os,1),t.ma(this.bitrate),t.ya()),null!==this.AS&&void 0!==this.AS&&(t.ga("AS",r.bs.Os,2),t.ma(this.AS),t.ya()),null!==this.partnerGuid&&void 0!==this.partnerGuid&&(t.ga("partnerGuid",r.bs.As,3),t.va(this.partnerGuid),t.ya()),t.wa(),t.Ta()},hive.snapshots.Player=function(t){this.bufferingN=null,this.bufferingMs=null,this.initBufferingN=null,this.initBufferingMs=null,this.seekBufferingN=null,this.seekBufferingMs=null,this.playerBufferMs=null,t&&(void 0!==t.bufferingN&&(this.bufferingN=t.bufferingN),void 0!==t.bufferingMs&&(this.bufferingMs=t.bufferingMs),void 0!==t.initBufferingN&&(this.initBufferingN=t.initBufferingN),void 0!==t.initBufferingMs&&(this.initBufferingMs=t.initBufferingMs),void 0!==t.seekBufferingN&&(this.seekBufferingN=t.seekBufferingN),void 0!==t.seekBufferingMs&&(this.seekBufferingMs=t.seekBufferingMs),void 0!==t.playerBufferMs&&(this.playerBufferMs=t.playerBufferMs))},hive.snapshots.Player.prototype={},hive.snapshots.Player.prototype.read=function(t){for(t.Hc();;){var e=t.sa(),i=(e.Bc,e.aa),n=e.ca;if(i==r.bs.Es)break;switch(n){case 1:i==r.bs.Cs?this.bufferingN=t.Wc().value:t.pa(i);break;case 2:i==r.bs.Os?this.bufferingMs=t.ua().value:t.pa(i);break;case 3:i==r.bs.Cs?this.initBufferingN=t.Wc().value:t.pa(i);break;case 4:i==r.bs.Os?this.initBufferingMs=t.ua().value:t.pa(i);break;case 5:i==r.bs.Cs?this.seekBufferingN=t.Wc().value:t.pa(i);break;case 6:i==r.bs.Os?this.seekBufferingMs=t.ua().value:t.pa(i);break;case 36:i==r.bs.Os?this.playerBufferMs=t.ua().value:t.pa(i);break;default:t.pa(i)}t.la()}t.da()},hive.snapshots.Player.prototype.write=function(t){t.fa("Player"),null!==this.bufferingN&&void 0!==this.bufferingN&&(t.ga("bufferingN",r.bs.Cs,1),t.kc(this.bufferingN),t.ya()),null!==this.bufferingMs&&void 0!==this.bufferingMs&&(t.ga("bufferingMs",r.bs.Os,2),t.ma(this.bufferingMs),t.ya()),null!==this.initBufferingN&&void 0!==this.initBufferingN&&(t.ga("initBufferingN",r.bs.Cs,3),t.kc(this.initBufferingN),t.ya()),null!==this.initBufferingMs&&void 0!==this.initBufferingMs&&(t.ga("initBufferingMs",r.bs.Os,4),t.ma(this.initBufferingMs),t.ya()),null!==this.seekBufferingN&&void 0!==this.seekBufferingN&&(t.ga("seekBufferingN",r.bs.Cs,5),t.kc(this.seekBufferingN),t.ya()),null!==this.seekBufferingMs&&void 0!==this.seekBufferingMs&&(t.ga("seekBufferingMs",r.bs.Os,6),t.ma(this.seekBufferingMs),t.ya()),null!==this.playerBufferMs&&void 0!==this.playerBufferMs&&(t.ga("playerBufferMs",r.bs.Os,36),t.ma(this.playerBufferMs),t.ya()),t.wa(),t.Ta()},hive.snapshots.MetricSnapshot=function(t){this.timestamp=null,this.guid=null,this.eventId=null,this.streamInfo=null,this.metrics=null,this.traffic=null,this.snapshotInfo=null,this.agentInfo=null,this.connInfo=null,this.partners=null,this.player=null,this.client=null,this.sessionId=null,t&&(void 0!==t.timestamp&&(this.timestamp=t.timestamp),void 0!==t.guid&&(this.guid=t.guid),void 0!==t.eventId&&(this.eventId=t.eventId),void 0!==t.streamInfo&&(this.streamInfo=t.streamInfo),void 0!==t.metrics&&(this.metrics=t.metrics),void 0!==t.traffic&&(this.traffic=t.traffic),void 0!==t.snapshotInfo&&(this.snapshotInfo=t.snapshotInfo),void 0!==t.agentInfo&&(this.agentInfo=t.agentInfo),void 0!==t.connInfo&&(this.connInfo=t.connInfo),void 0!==t.partners&&(this.partners=t.partners),void 0!==t.player&&(this.player=t.player),void 0!==t.client&&(this.client=t.client),void 0!==t.sessionId&&(this.sessionId=t.sessionId))},hive.snapshots.MetricSnapshot.prototype={},hive.snapshots.MetricSnapshot.prototype.read=function(t){for(t.Hc();;){var e=t.sa(),i=(e.Bc,e.aa),n=e.ca;if(i==r.bs.Es)break;switch(n){case 1:i==r.bs.Ps?this.timestamp=t.$c().value:t.pa(i);break;case 2:i==r.bs.As?this.guid=t.ha().value:t.pa(i);break;case 3:i==r.bs.xs?(this.eventId=new EventId,this.eventId.read(t)):t.pa(i);break;case 4:i==r.bs.xs?(this.streamInfo=new hive.snapshots.StreamInfo,this.streamInfo.read(t)):t.pa(i);break;case 5:i==r.bs.xs?(this.metrics=new hive.snapshots.Metrics,this.metrics.read(t)):t.pa(i);break;case 6:if(i==r.bs.Bs){var o,s=0;this.traffic={};var a=0,c=0;o=t.Lc(),a=o.Mc,c=o.jc,s=o.size;for(var h=0;h<s;++h){h>0&&t.Nc.length>t.Ra[t.Ra.length-1]+1&&t.Nc.pop();var p=null,u=null;p=new hive.snapshots.TrafficKey,p.read(t),u=new hive.snapshots.Traffic,u.read(t),this.traffic[p]=u}t.Uc()}else t.pa(i);break;case 7:i==r.bs.xs?(this.snapshotInfo=new SnapshotInfo,this.snapshotInfo.read(t)):t.pa(i);break;case 8:i==r.bs.xs?(this.agentInfo=new hive.snapshots.AgentInfo,this.agentInfo.read(t)):t.pa(i);break;case 9:i==r.bs.xs?(this.connInfo=new hive.snapshots.ConnectivityInfo,this.connInfo.read(t)):t.pa(i);break;case 10:if(i==r.bs.Bs){var l,d=0;this.partners={};var f=0,g=0;l=t.Lc(),f=l.Mc,g=l.jc,d=l.size;for(var v=0;v<d;++v){v>0&&t.Nc.length>t.Ra[t.Ra.length-1]+1&&t.Nc.pop();var y=null,m=null;y=new hive.snapshots.PartnerKey,y.read(t),m=new hive.snapshots.Partner,m.read(t),this.partners[y]=m}t.Uc()}else t.pa(i);break;case 11:i==r.bs.xs?(this.player=new hive.snapshots.Player,this.player.read(t)):t.pa(i);break;case 12:i==r.bs.xs?(this.client=new hive.snapshots.ClientInfo,this.client.read(t)):t.pa(i);break;case 13:i==r.bs.As?this.sessionId=t.ha().value:t.pa(i);break;default:t.pa(i)}t.la()}t.da()},hive.snapshots.MetricSnapshot.prototype.write=function(t){if(t.fa("MetricSnapshot"),null!==this.timestamp&&void 0!==this.timestamp&&(t.ga("timestamp",r.bs.Ps,1),t.Cc(this.timestamp),t.ya()),null!==this.guid&&void 0!==this.guid&&(t.ga("guid",r.bs.As,2),t.va(this.guid),t.ya()),null!==this.eventId&&void 0!==this.eventId&&(t.ga("eventId",r.bs.xs,3),this.eventId.write(t),t.ya()),null!==this.streamInfo&&void 0!==this.streamInfo&&(t.ga("streamInfo",r.bs.xs,4),this.streamInfo.write(t),t.ya()),null!==this.metrics&&void 0!==this.metrics&&(t.ga("metrics",r.bs.xs,5),this.metrics.write(t),t.ya()),null!==this.traffic&&void 0!==this.traffic){t.ga("traffic",r.bs.Bs,6),t.mc(r.bs.xs,r.bs.xs,r.Qs(this.traffic));for(var e=0;e<this.traffic.length;e++){var i=this.traffic[e],n=i.key,o=i.value;n.write(t),o.write(t)}t.wc(),t.ya()}if(null!==this.snapshotInfo&&void 0!==this.snapshotInfo&&(t.ga("snapshotInfo",r.bs.xs,7),this.snapshotInfo.write(t),t.ya()),null!==this.agentInfo&&void 0!==this.agentInfo&&(t.ga("agentInfo",r.bs.xs,8),this.agentInfo.write(t),t.ya()),null!==this.connInfo&&void 0!==this.connInfo&&(t.ga("connInfo",r.bs.xs,9),this.connInfo.write(t),t.ya()),null!==this.partners&&void 0!==this.partners){t.ga("partners",r.bs.Bs,10),t.mc(r.bs.xs,r.bs.xs,r.Qs(this.partners));for(var e=0;e<this.partners.length;e++){var i=this.partners[e],s=i.key,a=i.value;s.write(t),a.write(t)}t.wc(),t.ya()}null!==this.player&&void 0!==this.player&&(t.ga("player",r.bs.xs,11),this.player.write(t),t.ya()),null!==this.client&&void 0!==this.client&&(t.ga("client",r.bs.xs,12),this.client.write(t),t.ya()),null!==this.sessionId&&void 0!==this.sessionId&&(t.ga("sessionId",r.bs.As,13),t.va(this.sessionId),t.ya()),t.wa(),t.Ta()},hive.snapshots.JsonMetricSnapshot=function(t){this.timestamp=null,this.guid=null,this.eventId=null,this.streamInfo=null,this.metrics=null,this.traffic=null,this.snapshotInfo=null,this.agentInfo=null,this.connInfo=null,this.partners=null,this.player=null,this.client=null,this.sessionId=null,t&&(void 0!==t.timestamp&&(this.timestamp=t.timestamp),void 0!==t.guid&&(this.guid=t.guid),void 0!==t.eventId&&(this.eventId=t.eventId),void 0!==t.streamInfo&&(this.streamInfo=t.streamInfo),void 0!==t.metrics&&(this.metrics=t.metrics),void 0!==t.traffic&&(this.traffic=t.traffic),void 0!==t.snapshotInfo&&(this.snapshotInfo=t.snapshotInfo),void 0!==t.agentInfo&&(this.agentInfo=t.agentInfo),void 0!==t.connInfo&&(this.connInfo=t.connInfo),void 0!==t.partners&&(this.partners=t.partners),void 0!==t.player&&(this.player=t.player),void 0!==t.client&&(this.client=t.client),void 0!==t.sessionId&&(this.sessionId=t.sessionId))},hive.snapshots.JsonMetricSnapshot.prototype={},hive.snapshots.JsonMetricSnapshot.prototype.read=function(t){for(t.Hc();;){var e=t.sa(),i=(e.Bc,e.aa),n=e.ca;if(i==r.bs.Es)break;switch(n){case 1:i==r.bs.Ps?this.timestamp=t.$c().value:t.pa(i);break;case 2:i==r.bs.As?this.guid=t.ha().value:t.pa(i);break;case 3:i==r.bs.xs?(this.eventId=new EventId,this.eventId.read(t)):t.pa(i);break;case 4:i==r.bs.xs?(this.streamInfo=new hive.snapshots.StreamInfo,this.streamInfo.read(t)):t.pa(i);break;case 5:i==r.bs.xs?(this.metrics=new hive.snapshots.Metrics,this.metrics.read(t)):t.pa(i);break;case 6:if(i==r.bs.Bs){var o,s=0;this.traffic={};var a=0,c=0;o=t.Lc(),a=o.Mc,c=o.jc,s=o.size;for(var h=0;h<s;++h){h>0&&t.Nc.length>t.Ra[t.Ra.length-1]+1&&t.Nc.pop();var p=null,u=null;p=t.ha().value,u=new hive.snapshots.Traffic,u.read(t),this.traffic[p]=u}t.Uc()}else t.pa(i);break;case 7:i==r.bs.xs?(this.snapshotInfo=new SnapshotInfo,this.snapshotInfo.read(t)):t.pa(i);break;case 8:i==r.bs.xs?(this.agentInfo=new hive.snapshots.AgentInfo,this.agentInfo.read(t)):t.pa(i);break;case 9:i==r.bs.xs?(this.connInfo=new hive.snapshots.ConnectivityInfo,this.connInfo.read(t)):t.pa(i);break;case 10:if(i==r.bs.Bs){var l,d=0;this.partners={};var f=0,g=0;l=t.Lc(),f=l.Mc,g=l.jc,d=l.size;for(var v=0;v<d;++v){v>0&&t.Nc.length>t.Ra[t.Ra.length-1]+1&&t.Nc.pop();var y=null,m=null;y=t.ha().value,m=new hive.snapshots.Partner,m.read(t),this.partners[y]=m}t.Uc()}else t.pa(i);break;case 11:i==r.bs.xs?(this.player=new hive.snapshots.Player,this.player.read(t)):t.pa(i);break;case 12:i==r.bs.xs?(this.client=new hive.snapshots.ClientInfo,this.client.read(t)):t.pa(i);break;case 13:i==r.bs.As?this.sessionId=t.ha().value:t.pa(i);break;default:t.pa(i)}t.la()}t.da()},hive.snapshots.JsonMetricSnapshot.prototype.write=function(t){if(t.fa("JsonMetricSnapshot"),null!==this.timestamp&&void 0!==this.timestamp&&(t.ga("timestamp",r.bs.Ps,1),t.Cc(this.timestamp),t.ya()),null!==this.guid&&void 0!==this.guid&&(t.ga("guid",r.bs.As,2),t.va(this.guid),t.ya()),null!==this.eventId&&void 0!==this.eventId&&(t.ga("eventId",r.bs.xs,3),this.eventId.write(t),t.ya()),null!==this.streamInfo&&void 0!==this.streamInfo&&(t.ga("streamInfo",r.bs.xs,4),this.streamInfo.write(t),t.ya()),null!==this.metrics&&void 0!==this.metrics&&(t.ga("metrics",r.bs.xs,5),this.metrics.write(t),t.ya()),null!==this.traffic&&void 0!==this.traffic){t.ga("traffic",r.bs.Bs,6),t.mc(r.bs.As,r.bs.xs,r.Qs(this.traffic));for(var e in this.traffic)if(this.traffic.hasOwnProperty(e)){var i=this.traffic[e];t.va(e),i.write(t)}t.wc(),t.ya()}if(null!==this.snapshotInfo&&void 0!==this.snapshotInfo&&(t.ga("snapshotInfo",r.bs.xs,7),this.snapshotInfo.write(t),t.ya()),null!==this.agentInfo&&void 0!==this.agentInfo&&(t.ga("agentInfo",r.bs.xs,8),this.agentInfo.write(t),t.ya()),null!==this.connInfo&&void 0!==this.connInfo&&(t.ga("connInfo",r.bs.xs,9),this.connInfo.write(t),t.ya()),null!==this.partners&&void 0!==this.partners){t.ga("partners",r.bs.Bs,10),t.mc(r.bs.As,r.bs.xs,r.Qs(this.partners));for(var n in this.partners)if(this.partners.hasOwnProperty(n)){var o=this.partners[n];t.va(n),o.write(t)}t.wc(),t.ya()}null!==this.player&&void 0!==this.player&&(t.ga("player",r.bs.xs,11),this.player.write(t),t.ya()),null!==this.client&&void 0!==this.client&&(t.ga("client",r.bs.xs,12),this.client.write(t),t.ya()),null!==this.sessionId&&void 0!==this.sessionId&&(t.ga("sessionId",r.bs.As,13),t.va(this.sessionId),t.ya()),t.wa(),t.Ta()}},function(t,e){/*! collections.min.js v 3.0.0 github.com/montagejs/collections */
  !function(t){function e(){throw Error("Can't construct. GenericCollection is a mixin.")}function i(){throw Error("Can't construct. GenericSet is a mixin.")}function r(){}function n(){throw Error("This is an abstract interface. Mix it. Don't construct it")}function o(){throw Error("Can't construct. RangeChanges is a mixin.")}function s(){throw Error("Can't construct. GenericOrder is a mixin.")}function a(t){if(!(this instanceof a))return new a(t);if(Array.isArray(t)||"string"==typeof t)return a.Df(t);if(t=lt(t),t instanceof a)return t;if(t.next)this.next=function(){return t.next()};else if(t.Df){var e=t.Df();this.next=function(){return e.next()}}else{if("[object Function]"!==lt.prototype.toString.call(t))throw new TypeError("Cannot iterate");this.next=t}}function c(t,e,i){this.Hf=t,this.start=null==e?0:e,this.end=i}function h(t,e,i){if(!(this instanceof h))return new h(t,e,i);var r=this.head=new this.Node;r.next=r,r.Lf=r,this.Mf=e||Object.ol,this.content=i||Function.jf,this.length=0,this.addEach(t)}function p(t){this.head=t,this.Uf=t.next}function u(t){this.value=t,this.next=this.Lf=null}function l(){throw Error("Can't construct. MapChanges is a mixin.")}function d(){throw Error("Can't construct. GenericMap is a mixin.")}function f(t,e){return this instanceof f?(this.content=e||Function.jf,this.Vf={},this.length=0,void this.addEach(t)):new f(t,e)}function g(t,e,i,r){return this instanceof g?(e=e||Object.ol,i=i||Object.hash,r=r||Function.jf,this.Mf=e,this.Qf=i,this.content=r,this.qf=new this.Jf(null,this.Kf),this.length=0,void this.addEach(t)):new g(t,e,i)}function v(t,e,i,r){return this instanceof v?(e=e||Object.ol,i=i||Object.hash,r=r||Function.jf,this.Mf=e,this.Qf=i,this.content=r,this.Vf=new Mt((void 0),function(t,i){return e(t.key,i.key)},function(t){return i(t.key)}),this.length=0,void this.addEach(t)):new v(t,e,i)}function y(t,e,i,r){return this instanceof y?(e=e||Object.ol,i=i||Object.hash,r=r||Function.jf,this.Mf=e,this.Qf=i,this.content=r,this.order=new this.Gf((void 0),e),this.Vf=new this.zf((void 0),function(t,i){return e(t.value,i.value)},function(t){return i(t.value)}),this.length=0,void this.addEach(t)):new y(t,e,i)}function m(t,e,i,r,n){return this instanceof m?(e=e||1/0,i=i||Object.ol,r=r||Object.hash,n=n||Function.jf,this.Vf=new Yt((void 0),i,r),this.Mf=i,this.Qf=r,this.content=n,this.maxLength=e,this.length=0,void this.addEach(t)):new m(t,e,i,r)}function w(t,e,i,r,n){return this instanceof w?(i=i||Object.ol,r=r||Object.hash,n=n||Function.jf,this.Mf=i,this.Qf=r,this.content=n,this.Vf=new ie((void 0),e,function(t,e){return i(t.key,e.key)},function(t){return r(t.key)}),this.length=0,void this.addEach(t)):new w(t,e,i,r)}function T(t,e,i,r){return this instanceof T?(e=e||Object.ol,i=i||Object.hash,r=r||Function.jf,this.Mf=e,this.Qf=i,this.content=r,this.Vf=new ae((void 0),function(t,i){return e(t.key,i.key)},function(t){return i(t.key)}),this.length=0,void this.addEach(t)):new T(t,e,i)}function S(t,e,i,r){return this instanceof S?(this.Wf=e||this.Wf,void le.call(this,t,i,r,function(t){var e=this.Wf();return le.prototype.set.call(this,t,e),e})):new S(t,e,i,r)}function b(t,e,i,r){return this instanceof b?(Array.isArray(t)?(this.Hf=t,t=t.splice(0,t.length)):this.Hf=[],this.Mf=e||Object.ol,this.$f=i||Object.Yf,this.content=r||Function.jf,this.length=0,void this.addEach(t)):new b(t,e,i,r)}function E(t,e,i){for(var r=0,n=t.length-1;r<=n;){var o=r+n>>1,s=i(e,t[o]);if(0<s)r=o+1;else{if(!(0>s))return o;n=o-1}}return-(r+1)}function I(t,e,i,r){if(i=E(t,e,i),0>i)return-1;for(;0<i&&r(e,t[i-1]);)i--;return r(e,t[i])?i:-1}function R(t,e,i,r){if(i=E(t,e,i),0>i)return-1;for(;i<t.length-1&&r(e,t[i+1]);)i++;return r(e,t[i])?i:-1}function k(t,e,i,r){return this instanceof k?void ye.call(this,t,e,i,r):new k(t,e,i,r)}function C(t,e,i,r){return this instanceof C?(e=e||Object.ol,i=i||Object.Yf,r=r||Function.jf,this.Mf=e,this.$f=i,this.content=r,this.Vf=new Se(null,function(t,i){return e(t.key,i.key)},function(t,e){return i(t.key,e.key)}),this.length=0,void this.addEach(t)):new C(t,e,i,r)}function O(t,e,i,r){return this instanceof O?(this.Mf=e||Object.ol,this.$f=i||Object.Yf,this.content=r||Function.jf,this.root=null,this.length=0,void this.addEach(t)):new O(t,e,i,r)}function P(t){this.value=t,this.right=this.left=null,this.length=1}function A(t,e,i){this.set=t,this.Lf=null,this.end=i,e&&(t=this.set.Xf(e))&&(this.set.Zf(t.value),this.Lf=t.tg())}function N(t,e,i,r){return this instanceof N?(e=e||Object.ol,i=i||Object.Yf,r=r||Function.jf,this.Mf=e,this.$f=i,this.content=r,this.Vf=new Ne(null,function(t,i){return e(t.key,i.key)},function(t,e){return i(t.key,e.key)}),this.length=0,void this.addEach(t)):new N(t,e,i,r)}var x={};x.eg=e,e.prototype.addEach=function(t){if(t&&Object(t)===t)if("function"==typeof t.forEach)t.forEach(this.add,this);else if("number"==typeof t.length)for(var e=0;e<t.length;e++)this.add(t[e],e);else Object.keys(t).forEach(function(e){this.add(t[e],e)},this)},e.prototype.ig=function(t){t.forEach(function(t){this["delete"](t)},this)},e.prototype.forEach=function(t,e){return this.reduce(function(i,r,n,o,s){t.call(e,r,n,o,s)},void 0)},e.prototype.map=function(t,e){var i=[];return this.reduce(function(r,n,o,s,a){i.push(t.call(e,n,o,s,a))},void 0),i},e.prototype.toArray=function(){return this.map(Function.identity)},e.prototype.rg=function(){var t={};return this.reduce(function(e,i,r){t[r]=i},void 0),t},e.prototype.filter=function(t,e){var i=this.ng();return this.reduce(function(r,n,o,s,a){t.call(e,n,o,s,a)&&i.add(n)},void 0),i},e.prototype.every=function(t,e){return this.reduce(function(i,r,n,o,s){return i&&t.call(e,r,n,o,s)},!0)},e.prototype.some=function(t,e){return this.reduce(function(i,r,n,o,s){return i||t.call(e,r,n,o,s)},!1)},e.prototype.all=function(){return this.every(Boolean)},e.prototype.ie=function(){return this.some(Boolean)},e.prototype.min=function(t){return t=this.$f||Object.Yf,this.reduce(function(e,i){return 0>t(i,e)?i:e},1/0)},e.prototype.max=function(t){return t=this.$f||Object.Yf,this.reduce(function(e,i){return 0<t(i,e)?i:e},-(1/0))},e.prototype.og=function(t){return this.reduce(function(t,e){return t+e},void 0===t?0:t)},e.prototype.sg=function(t){var e=void 0===t?0:t,i=void 0===t?0:t;return this.reduce(function(t,r){e+=r,i+=1},void 0),e/i},e.prototype.concat=function(){for(var t=this.ng(this),e=0;e<arguments.length;e++)t.addEach(arguments[e]);return t},e.prototype.ag=function(){var t=this;return this.reduce(function(e,i){return i.forEach(function(t){this.push(t)},e,t),e},[])},e.prototype.cg=function(){var t=Array.prototype.slice.call(arguments);t.unshift(this);for(var e=[],i=1/0,r=0;r<t.length;r++){var n=t[r];t[r]=n.toArray(),n.length<i&&(i=n.length)}for(r=0;r<t.length;r++)for(var n=t[r],o=0;o<n.length;o++)o<i&&o in n&&(e[o]=e[o]||[],e[o][r]=n[o]);return e},e.prototype.hg=function(t,e,i){return t=t||this.$f||Object.Yf,t.pg?(e=t.pg,t=t.Yf||this.$f||Object.Yf):e=e||Function.identity,void 0===i&&(i=1),this.map(function(t){return{pg:e(t),value:t}}).sort(function(e,r){return t(e.pg,r.pg)*i}).map(function(t){return t.value})},e.prototype.reversed=function(){return this.ng(this).reverse()},e.prototype.clone=function(t,e){if(void 0===t)t=1/0;else if(0===t)return this;var i=this.ng();return this.forEach(function(r,n){i.add(Object.clone(r,t-1,e),n)},this),i},e.prototype.only=function(){if(0===this.length)throw Error("Can't get only value in empty collection.");if(1<this.length)throw Error("Can't get only value in collection with multiple values.");return this.ug()},x.eg&&(x=x.eg);var B={};B.eg=i,i.prototype.lg=function(t){var e=this.ng(this);return e.addEach(t),e},i.prototype.dg=function(t){return this.ng(this.filter(function(e){return t.has(e)}))},i.prototype.fg=function(t){var e=this.ng(this);return e.ig(t),e},i.prototype.gg=function(t){var e=this.lg(t),t=this.dg(t);return e.fg(t)},i.prototype.ol=function(t,e){var i=this;return Object.vg(t,"reduce")&&this.length===t.length&&t.reduce(function(t,r){return t&&i.has(r,e)},!0)},B.eg&&(B=B.eg);var F=x,_=Object.prototype.toString;Array.isArray||(Array.isArray=function(t){return"[object Array]"==_.call(t)}),Array.prototype.forEach||(Array.prototype.forEach=F.forEach),Array.prototype.map||(Array.prototype.map=F.map),Array.prototype.filter||(Array.prototype.filter=F.filter),Array.prototype.every||(Array.prototype.every=F.every),Array.prototype.some||(Array.prototype.some=F.some),Array.prototype.reduce||(Array.prototype.reduce=function(t){var e=toObject(this),i=e.length>>>0;if("[object Function]"!=_.call(t))throw new TypeError(t+" is not a function");if(!i&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var r,n=0;if(2<=arguments.length)r=arguments[1];else for(;;){if(n in e){r=e[n++];break}if(++n>=i)throw new TypeError("reduce of empty array with no initial value")}for(;n<i;n++)n in e&&(r=t.call(void 0,r,e[n],n,e));return r}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(t){var e=toObject(this),i=e.length>>>0;if("[object Function]"!=_.call(t))throw new TypeError(t+" is not a function");if(!i&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var r,i=i-1;if(2<=arguments.length)r=arguments[1];else for(;;){if(i in e){r=e[i--];break}if(0>--i)throw new TypeError("reduceRight of empty array with no initial value")}do i in this&&(r=t.call(void 0,r,e[i],i,e));while(i--);return r}),Array.prototype.indexOf||(Array.prototype.indexOf=function(t){var e=toObject(this),i=e.length>>>0;if(!i)return-1;var r=0;for(1<arguments.length&&(r=toInteger(arguments[1])),r=0<=r?r:Math.max(0,i+r);r<i;r++)if(r in e&&e[r]===t)return r;return-1}),Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(t){var e=toObject(this),i=e.length>>>0;if(!i)return-1;var r=i-1;for(1<arguments.length&&(r=Math.min(r,toInteger(arguments[1]))),r=0<=r?r:i-Math.abs(r);0<=r;r--)if(r in e&&t===e[r])return r;return-1});var D={};D.eg=Function,Function.jf=function(){},Function.identity=function(t){return t},Function.pg=function(t,e){var e=e||Object.Yf,t=t||Function.identity,i=function(i,r){return e(t(i),t(r))};return i.Yf=e,i.pg=t,i},D.eg&&(D=D.eg);var H={};H.eg=r,r.yg={dg:"+",mg:"-",wg:"+",Tg:"+",Sg:".",bg:"'",Eg:"+",Ig:"|"},r.Rg={dg:"╋",mg:"━",wg:"┻",Tg:"┳",Sg:"╭",bg:"╰",Eg:"┣",Ig:"┃"},r.kg={dg:"╋",mg:"━",wg:"┻",Tg:"┳",Sg:"┏",bg:"┗",Eg:"┣",Ig:"┃"},H.eg&&(H=H.eg);var L,M={},j=M;if("undefined"!=typeof WeakMap)L=WeakMap;else{var U=function(t){return t.prototype=null,Object.freeze(t)},V=Object.getOwnPropertyNames,Q=Object.defineProperty,q={};V(Object).forEach(function(t){q[t]=Object[t]});var J="ident:"+Math.random()+"___";if("undefined"!=typeof crypto&&"function"==typeof crypto.getRandomValues&&"function"==typeof ArrayBuffer&&"function"==typeof Uint8Array){var K=new ArrayBuffer(25),K=new Uint8Array(K);crypto.getRandomValues(K),J="rand:"+Array.prototype.map.call(K,function(t){return(t%36).toString(36)}).join("")+"___"}Q(Object,"getOwnPropertyNames",{value:function(t){return V(t).filter(function(t){return t!==J})}}),"getPropertyNames"in Object&&Q(Object,"getPropertyNames",{value:function(t){return q.getPropertyNames(t).filter(function(t){return t!==J})}});var G=function(t){if(t!==Object(t))throw new TypeError("Not an object: "+t);var e=t[J];return e&&e.key===t?e:q.isExtensible(t)?(e={key:t,Cg:[],Og:[]},Q(t,J,{value:e,Pg:!1,Ag:!1,Ng:!1}),e):void 0},z=Object.freeze;Q(Object,"freeze",{value:function(t){return G(t),z(t)}});var W=Object.seal;Q(Object,"seal",{value:function(t){return G(t),W(t)}});var $=Object.preventExtensions;Q(Object,"preventExtensions",{value:function(t){return G(t),$(t)}});var Y=function(){function t(r,n){var o,s=G(r);return s?(o=s.Cg.indexOf(t),s=s.Og):(o=e.indexOf(r),s=i),0<=o?s[o]:n}var e=[],i=[];return Object.create(Y.prototype,{xg:{value:U(t)},Bg:{value:U(function(i){var r=G(i);return 0<=(r?r.Cg.indexOf(t):e.indexOf(i))})},Fg:{value:U(function(r,n){var o,s=G(r);s?(o=s.Cg.indexOf(t),0<=o?s.Og[o]=n:(s.Cg.push(t),s.Og.push(n))):(o=e.indexOf(r),0<=o?i[o]=n:(e.push(r),i.push(n)))})},_g:{value:U(function(r){var n=G(r);return n?(r=n.Cg.indexOf(t),0<=r&&(n.Cg.splice(r,1),n.Og.splice(r,1))):(r=e.indexOf(r),0<=r&&(e.splice(r,1),i.splice(r,1))),!0})}})};Y.prototype=Object.create(Object.prototype,{get:{value:function(t,e){return this.xg(t,e)},Pg:!0,Ng:!0},has:{value:function(t){return this.Bg(t)},Pg:!0,Ng:!0},set:{value:function(t,e){this.Fg(t,e)},Pg:!0,Ng:!0},"delete":{value:function(t){return this._g(t)},Pg:!0,Ng:!0}}),L=Y}j.eg=L,M.eg&&(M=M.eg);var X={},Z=M,tt=Object.prototype.hasOwnProperty,et=new Z,it=new Z;X.eg=n,n.prototype.Dg=function(t){et.has(this)||et.set(this,{});var e=et.get(this);return tt.call(e,t)||(e[t]={Hg:[],Lg:[]}),e[t]},n.prototype.Mg=function(t){if(!et.has(this))return!1;if(!t)return!0;var e=et.get(this);return!!tt.call(e,t)},n.prototype.jg=function(t,e,i){this.makeObservable&&!this.isObservable&&this.makeObservable();var r=n.Dg(this,t),i=i?r.Hg:r.Lg;n.Ug(this,t),i.push(e)},n.prototype.Vg=function(t,e){return n.jg(this,t,e,!0)},n.prototype.Qg=function(t,e,i){var r=n.Dg(this,t),i=i?r.Hg:r.Lg,e=i.lastIndexOf(e);if(-1===e)throw Error("Can't remove listener: does not exist.");i.splice(e,1),0===r.Lg.length+r.Hg.length&&n.qg(this,t)},n.prototype.Jg=function(t,e){return n.Qg(this,t,e,!0)},n.prototype.Kg=function(t,e,i){var r=n.Dg(this,t),r=i?r.Hg:r.Lg,i=(i?"Will":"")+"Change",o="handleProperty"+i,s=String(t),s=s&&s[0].toUpperCase()+s.slice(1),a="handle"+s+i;r.forEach(function(i){var r=i,i=i[a]||i[o]||i;i.call&&i.call(r,e,t,this)},this)},n.prototype.Gg=function(t,e){return n.Kg(this,t,e,!0)},n.prototype.Ug=function(t){if(!Array.isArray(this)){it.has(this)||(e={},it.set(this,e));var e=it.get(this);if(!tt.call(e,t)){var i,r=this;Object.getOwnPropertyDescriptor(r,t);do{if(i=Object.getOwnPropertyDescriptor(r,t))break;r=Object.getPrototypeOf(r)}while(r);if(i=i||{value:void 0,Ag:!0,Pg:!0,Ng:!0},!i.Ng)throw Error("Can't observe non-configurable properties");e[t]=i,(i.Pg||i.set)&&Object.defineProperty(this,t,"value"in i?{get:function(){return i.value},set:function(e){return e===i.value?e:(n.Gg(this,t,i.value),i.value=e,n.Kg(this,t,e),e)},Ag:i.Ag,Ng:!0}:{get:function(){if(i.get)return i.get.apply(this,arguments)},set:function(e){var r;return i.get&&(r=i.get.apply(this,arguments)),e===r?e:(n.Gg(this,t,r),i.set&&i.set.apply(this,arguments),i.get&&(e=i.get.apply(this,arguments)),n.Kg(this,t,e),e)},Ag:i.Ag,Ng:!0})}}},n.prototype.qg=function(t){if(!Array.isArray(this)){if(!it.has(this))throw Error("Can't uninstall observer on property");var e=it.get(this);if(!e[t])throw Error("Can't uninstall observer on property");var i=e[t];delete e[t],Object.defineProperty(this,t,i)}},n.Dg=function(t,e){return t.Dg?t.Dg(e):n.prototype.Dg.call(t,e)},n.Mg=function(t,e){return t.Mg?t.Mg(e):n.prototype.Mg.call(t,e)},n.jg=function(t,e,i,r){return t.jg?t.jg(e,i,r):n.prototype.jg.call(t,e,i,r)},n.Qg=function(t,e,i,r){return t.Qg?t.Qg(e,i,r):n.prototype.Qg.call(t,e,i,r)},n.Kg=function(t,e,i,r){return t.Kg?t.Kg(e,i,r):n.prototype.Kg.call(t,e,i,r)},n.Vg=function(t,e,i){return n.jg(t,e,i,!0)},n.Jg=function(t,e,i){return n.Qg(t,e,i,!0)},n.Gg=function(t,e,i){return n.Kg(t,e,i,!0)},n.Ug=function(t,e){return t.Ug?t.Ug(e):n.prototype.Ug.call(t,e)},n.qg=function(t,e){return t.qg?t.qg(e):n.prototype.qg.call(t,e)},X.eg&&(X=X.eg);var rt={},nt=new M;rt.eg=o,o.prototype.zg=function(){return nt.has(this)||nt.set(this,{st:!1,Lg:[],Hg:[]}),nt.get(this)},o.prototype.Wg=function(t,e){!this.isObservable&&this.makeObservable&&this.makeObservable();var i=this.zg();(e?i.Hg:i.Lg).push(t),this.$g=!!(i.Hg.length+i.Lg.length)},o.prototype.Yg=function(t,e){var i,r=this.zg();i=e?r.Hg:r.Lg;var n=i.lastIndexOf(t);if(-1===n)throw Error("Can't remove listener: does not exist.");i.splice(n,1),this.$g=!!(r.Hg.length+r.Lg.length)},o.prototype.Xg=function(t,e,i,r){var n=this.zg();if(!n.st){n.st=!0;var o;o=r?n.Hg:n.Lg;try{o.forEach(function(n){n.yd?n.yd({Zg:r?"before":"after",currentTarget:this,target:this,tv:t,ev:e,index:i}):(n=r?n.handleRangeWillChange||n:n.handleRangeChange||n,n.call&&n.call(this,t,e,i,r))},this)}finally{n.st=!1}}},o.prototype.iv=function(t){return this.Wg(t,!0)},o.prototype.rv=function(t){return this.Yg(t,!0)},o.prototype.nv=function(t,e,i){return this.Xg(t,e,i,!0)},rt.eg&&(rt=rt.eg);var ot={},st=M;ot.eg=Object,Object.empty=Object.freeze(Object.create(null)),Object.ov=function(t){return Object(t)===t},Object.sv=function(t){return Object.vg(t,"valueOf")&&(t=t.valueOf()),t};var at=new st;Object.hash=function(t){return Object.vg(t,"hash")?""+t.hash():Object(t)===t?(at.has(t)||at.set(t,Math.random().toString(36).slice(2)),at.get(t)):""+t};var ct=Object.prototype.hasOwnProperty;Object.av=function(t,e){return ct.call(t,e)},Object.vg=function(t,e){return null!=t&&"function"==typeof t[e]&&!ct.call(t,e)},Object.has=function(t,e){if("object"!=typeof t)throw Error("Object.has can't accept non-object: "+typeof t);if(Object.vg(t,"has"))return t.has(e);if("string"==typeof e)return e in t&&t[e]!==Object.prototype[e];throw Error("Key must be a string for Object.has on plain objects")},Object.get=function(t,e,i){if("object"!=typeof t)throw Error("Object.get can't accept non-object: "+typeof t);return Object.vg(t,"get")?t.get(e,i):Object.has(t,e)?t[e]:i},Object.set=function(t,e,i){Object.vg(t,"set")?t.set(e,i):t[e]=i},Object.addEach=function(t,e){Object.vg(e,"forEach")?"function"==typeof e.keys?e.forEach(function(e,i){t[i]=e}):e.forEach(function(e){t[e[0]]=e[1]}):Object.keys(e).forEach(function(i){t[i]=e[i]})},Object.forEach=function(t,e,i){Object.keys(t).forEach(function(r){e.call(i,t[r],r,t)})},Object.map=function(t,e,i){return Object.keys(t).map(function(r){return e.call(i,t[r],r,t)})},Object.values=function(t){return Object.map(t,Function.identity)},Object.is=function(t,e){return t===e?0!==t||1/t===1/e:t!==t&&e!==e},Object.ol=function(t,e,i){if(i=i||Object.ol,t=Object.sv(t),e=Object.sv(e),t===e)return 0!==t||1/t===1/e;if(Object.vg(t,"equals"))return t.ol(e,i);if(Object.vg(e,"equals"))return e.ol(t,i);if("object"==typeof t&&"object"==typeof e){var r=Object.getPrototypeOf(t),n=Object.getPrototypeOf(e);if(r===n&&(r===Object.prototype||null===r)){for(var o in t)if(!i(t[o],e[o]))return!1;for(o in e)if(!i(t[o],e[o]))return!1;return!0}}return t!==t&&e!==e},Object.Yf=function(t,e){var t=Object.sv(t),e=Object.sv(e),i=typeof t;return t===e||i!==typeof e?0:"number"===i?t-e:"string"===i?t<e?-1:1:Object.vg(t,"compare")?t.Yf(e):Object.vg(e,"compare")?-e.Yf(t):0},Object.clone=function(t,e,i){if(t=Object.sv(t),i=i||new st,void 0===e)e=1/0;else if(0===e)return t;if(Object.ov(t)){if(!i.has(t))if(Object.vg(t,"clone"))i.set(t,t.clone(e,i));else{var r=Object.getPrototypeOf(t);if(null!==r&&r!==Object.prototype)throw Error("Can't clone "+t);r=Object.create(r),i.set(t,r);for(var n in t)r[n]=Object.clone(t[n],e-1,i)}return i.get(t)}return t},Object.clear=function(t){if(Object.vg(t,"clear"))t.clear();else for(var e=Object.keys(t),i=e.length;i;)i--,delete t[e[i]];return t},ot.eg&&(ot=ot.eg);var ht={},pt=ot;ht.eg=s,s.prototype.ol=function(t,e){return e=e||this.Mf||pt.ol,this===t||!!t&&(this.length===t.length&&this.cg(t).every(function(t){return e(t[0],t[1])}))},s.prototype.Yf=function(t,e){if(e=e||this.$f||pt.Yf,this===t)return 0;if(!t)return 1;var i=Math.min(this.length,t.length),r=this.cg(t).reduce(function(t,r,n){return 0===t?n>=i?t:e(r[0],r[1]):t},0);return 0===r?this.length-t.length:r},ht.eg&&(ht=ht.eg);var ut={};ut.eg=a;var lt=ot;if(lt.addEach(a.prototype,x.prototype),a.prototype.ng=function(t){var e=[];return Reducible.addEach.call(e,t),e},a.prototype.cv=function(t,e){var i=a(this),r=0;if("[object Function]"!=lt.prototype.toString.call(t))throw new TypeError;return new i.constructor(function(){return t.call(e,i.next(),r++,i)})},a.prototype.hv=function(t,e){var i=a(this),r=0;if("[object Function]"!=lt.prototype.toString.call(t))throw new TypeError;return new i.constructor(function(){for(var n;;)if(n=i.next(),t.call(e,n,r++,i))return n})},a.prototype.reduce=function(t){var e,i=a(this),r=arguments[1],n=arguments[2],o=0;if("[object Function]"!=lt.prototype.toString.call(t))throw new TypeError;try{e=i.next(),r=1<arguments.length?t.call(n,r,e,o,i):e,o++}catch(s){if(isStopIteration(s)){if(1<arguments.length)return arguments[1];throw TypeError("cannot reduce a value from an empty iterator with no initial value")}throw s}try{for(;;)e=i.next(),r=t.call(n,r,e,o,i),o++}catch(c){if(isStopIteration(c))return r;throw c}},a.prototype.every=function(t){var e=a(this),i=!0;if("[object Function]"!=lt.prototype.toString.call(t))throw new TypeError;return e.cv.apply(e,arguments).forEach(function(t){if(!t)throw i=!1,StopIteration}),i},a.prototype.some=function(t){var e=a(this),i=!1;if("[object Function]"!=lt.prototype.toString.call(t))throw new TypeError;return e.cv.apply(e,arguments).forEach(function(t){if(t)throw i=!0,StopIteration}),i},a.prototype.concat=function(){return a.concat(Array.prototype.concat.apply(this,arguments))},a.prototype.pv=function(t,e){var i,r=a(this),n=!1;if("[object Function]"!=lt.prototype.toString.call(t))throw new TypeError;return r.forEach(function(o,s){if(!t.call(e,o,s,r))throw n=!0,i=o,StopIteration}),n?r.constructor([i]).concat(r):r.constructor([])},a.prototype.uv=function(t,e){var i=a(this);if("[object Function]"!=lt.prototype.toString.call(t))throw new TypeError;return i.cv(function(r,n){if(!t.call(e,r,n,i))throw StopIteration;return r})},a.prototype.hv=function(t,e){var i=a(this),r=0;if("[object Function]"!=lt.prototype.toString.call(t))throw new TypeError;return new i.constructor(function(){for(var n;;)if(n=i.next(),t.call(e,n,r++,i))return n})},a.prototype.cg=function(){return a.lv(Array.prototype.concat.apply(this,arguments))},a.prototype.enumerate=function(t){return a.count(t).cg(this)},a.Df=function(t){var e;return e=0,new a(function(){if("object"==typeof t)for(;!(e in t);){if(e>=t.length)throw StopIteration;e+=1}else if(e>=t.length)throw StopIteration;var i=t[e];return e+=1,i})},a.dv=function(t,e){2>arguments.length&&(e=1/0);var i=function(){throw StopIteration};return new a(function(){var r;try{return i()}catch(n){if(isStopIteration(n)){if(0>=e)throw n;return e--,r=a.Df(t),(i=r.next.bind(r))()}throw n}})},a.concat=function(t){var t=a(t),e=function(){throw StopIteration};return new a(function(){var i;try{return e()}catch(r){if(isStopIteration(r))return i=a(t.next()),(e=i.next.bind(i))();throw r}})},a.lv=function(t){return t=a(t).map(a),new a(1>t.length?[]:function(){var e,i=t.map(function(t){try{return t.next()}catch(i){if(!isStopIteration(i))throw i;e=!0}});if(e)throw StopIteration;return i})},a.cg=function(){return a.lv(Array.prototype.slice.call(arguments))},a.chain=function(){return a.concat(Array.prototype.slice.call(arguments))},a.range=function(t,e,i){return 3>arguments.length&&(i=1),2>arguments.length&&(e=t,t=0),t=t||0,new a(function(){if(t>=e)throw StopIteration;if(isNaN(t))throw"";var r=t;return t+=i,r})},a.count=function(t,e){return a.range(t,1/0,e||1)},a.repeat=function(t,e){return 2>arguments.length&&(e=1/0),new a.range((+e)).cv(function(){return t})},"undefined"==typeof isStopIteration&&(t.fv=function(t){return"[object StopIteration]"===lt.prototype.toString.call(t)}),"undefined"==typeof StopIteration){t.StopIteration={};var dt=lt.prototype.toString;lt.prototype.toString=function(){return this===t.StopIteration||this instanceof t.gv?"[object StopIteration]":dt.call(this,arguments)}}"undefined"==typeof ReturnValue&&(t.gv=function(e){return this instanceof t.gv?void(this.value=e):new t.gv(e)}),ut.eg&&(ut=ut.eg);var ft={},gt=x,vt=ht,yt=M;ft.eg=Array,Array.empty=[],Object.freeze&&Object.freeze(Array.empty),Array.from=function(t){var e=[];return e.addEach(t),e},Array.prototype.addEach=gt.prototype.addEach,Array.prototype.ig=gt.prototype.ig,Array.prototype.toArray=gt.prototype.toArray,Array.prototype.rg=gt.prototype.rg,Array.prototype.all=gt.prototype.all,Array.prototype.ie=gt.prototype.ie,Array.prototype.min=gt.prototype.min,Array.prototype.max=gt.prototype.max,Array.prototype.og=gt.prototype.og,Array.prototype.sg=gt.prototype.sg,Array.prototype.only=gt.prototype.only,Array.prototype.ag=gt.prototype.ag,Array.prototype.cg=gt.prototype.cg,Array.prototype.hg=gt.prototype.hg,Array.prototype.reversed=gt.prototype.reversed,Array.prototype.ng=function(t){var e=new this.constructor;return e.addEach(t),e},Array.prototype.has=function(t,e){return-1!==this.find(t,e)},Array.prototype.get=function(t){return this[t]},Array.prototype.set=function(t,e){return this.splice(t,1,e),!0},Array.prototype.add=function(t){return this.push(t),!0},Array.prototype["delete"]=function(t,e){var i=this.find(t,e);return-1!==i&&(this.splice(i,1),!0)},Array.prototype.find=function(t,e){for(var e=e||this.Mf||Object.ol,i=0;i<this.length;i++)if(i in this&&e(this[i],t))return i;return-1},Array.prototype.vv=function(t,e){var e=e||this.Mf||Object.ol,i=this.length;do if(i--,i in this&&e(this[i],t))return i;while(0<i);return-1},Array.prototype.yv=function(t,e,i){var r=Array.prototype.slice.call(arguments,0,2);return i&&r.push.apply(r,i),this.splice.apply(this,r)},Array.prototype.ug=function(){if(0===this.length)throw Error("Can't get one element from empty array.");for(var t in this)if(Object.av(this,t))return this[t]},Array.prototype.clear=function(){return this.length=0,this},Array.prototype.Yf=function(t,e){var i,r,n,o,e=e||Object.Yf;if(this===t)return 0;if(!t||!Array.isArray(t))return vt.prototype.Yf.call(this,t,e);for(r=Math.min(this.length,t.length),i=0;i<r;i++)if(i in this){if(!(i in t))return-1;if(n=this[i],o=t[i],n=e(n,o))return n}else if(i in t)return 1;return this.length-t.length},Array.prototype.ol=function(t){var e,i,r=r||Object.ol,n=0,o=this.length;if(this===t)return!0;if(!t||!Array.isArray(t))return vt.prototype.ol.call(this,t);if(o!==t.length)return!1;for(;n<o;++n)if(n in this){if(e=this[n],i=t[n],e!==i&&e&&i&&!r(e,i))return!1}else if(n in t)return!1;return!0},Array.prototype.clone=function(t,e){if(void 0===t)t=1/0;else if(0===t)return this;var i,e=e||new yt,r=[];for(i in this)Object.av(this,i)&&(r[i]=Object.clone(this[i],t-1,e));return r},Array.prototype.Df=function(t,e){return new c(this,t,e)},Array.prototype.Iterator=c,c.prototype.next=function(){if(this.start===(null==this.end?this.Hf.length:this.end))throw StopIteration;return this.Hf[this.start++]},ft.eg&&(ft=ft.eg);var mt={};mt.eg=h;var wt=ht,Tt=X;Object.addEach(h.prototype,x.prototype),Object.addEach(h.prototype,wt.prototype),Object.addEach(h.prototype,Tt.prototype),h.prototype.ng=function(t){return new this.constructor(t,this.Mf,this.content)},h.prototype.find=function(t,e){for(var e=e||this.Mf,i=this.head,r=i.next;r!==i;){if(e(r.value,t))return r;r=r.next}},h.prototype.vv=function(t,e){for(var e=e||this.Mf,i=this.head,r=i.Lf;r!==i;){if(e(r.value,t))return r;r=r.Lf}},h.prototype.has=function(t,e){return!!this.find(t,e)},h.prototype.get=function(t,e){var i=this.find(t,e);return i?i.value:this.content()},h.prototype["delete"]=function(t,e){var i=this.vv(t,e);return!!i&&(i["delete"](),this.length--,!0)},h.prototype.clear=function(){this.head.next=this.head.Lf=this.head,this.length=0},h.prototype.add=function(t){return this.head.mv(new this.Node(t)),this.length++,!0},h.prototype.push=function(){for(var t=this.head,e=0;e<arguments.length;e++){var i=new this.Node(arguments[e]);t.mv(i),this.length++}},h.prototype.unshift=function(){for(var t=this.head,e=0;e<arguments.length;e++){var i=new this.Node(arguments[e]);t.wv(i),this.length++,t=i}},h.prototype.pop=function(){var t,e=this.head;return e.Lf!==e&&(t=e.Lf.value,e.Lf["delete"](),this.length--),t},h.prototype.shift=function(){var t,e=this.head;return e.Lf!==e&&(t=e.next.value,e.next["delete"](),this.length--),t},h.prototype.Tv=function(t,e){var i=this.head;if("number"==typeof t){var r=t;if(0<=r)for(t=i.next;r&&(r--,t=t.next,!(t==i)););else for(t=i;0>r&&(r++,t=t.Lf,!(t==i)););return t}return t||e},h.prototype.slice=function(t,e){for(var i=[],r=this.head,t=this.Tv(t,r.next),e=this.Tv(e,r);t!==e&&t!==r;)i.push(t.value),t=t.next;return i},h.prototype.splice=function(t,e){return this.yv(t,e,Array.prototype.slice.call(arguments,2))},h.prototype.yv=function(t,e,i){var r=[],n=t,t=this.Tv(t,this.head);for(void 0===e&&(e=1/0);e--&&0<=e&&t!==this.head;)r.push(t.value),t["delete"](),t=t.next,this.length--;if(i){for(null===n&&t===this.head&&(t=this.head.next),e=0;e<i.length;e++)n=new this.Node(i[e]),t.mv(n);this.length+=i.length}return r},h.prototype.reverse=function(){var t=this.head;do{var e=t.next;t.next=t.Lf,t.Lf=e,t=t.next}while(t!==this.head);return this},h.prototype.reduce=function(t,e,i){for(var r=this.head,n=r.next;n!==r;)e=t.call(i,e,n.value,n,this),n=n.next;return e},h.prototype.reduceRight=function(t,e,i){for(var r=this.head,n=r.Lf;n!==r;)e=t.call(i,e,n.value,n,this),n=n.Lf;return e},h.prototype.ug=function(){if(this.head===this.head.next)throw Error("Can't get one value from empty list");return this.head.next.value},h.prototype.Df=function(){return new p(this.head)},p.prototype.next=function(){if(this.Uf===this.head)throw StopIteration;var t=this.Uf.value;return this.Uf=this.Uf.next,t},h.prototype.Node=u,u.prototype["delete"]=function(){this.Lf.next=this.next,this.next.Lf=this.Lf},u.prototype.mv=function(t){var e=this.Lf;this.Lf=t,t.Lf=e,e.next=t,t.next=this},u.prototype.wv=function(t){var e=this.next;this.next=t,t.next=e,e.Lf=t,t.Lf=this},mt.eg&&(mt=mt.eg);var St={},bt=mt;St.eg=l,l.prototype.Sv=function(){return this.bv||(this.bv={Hg:new bt,Lg:new bt}),this.bv},l.prototype.Ev=function(t,e){this.makeObservable&&!this.dispatchMapChanges&&this.makeObservable();var i=this.Sv();(e?i.Hg:i.Lg).push(t),this.Iv=!0},l.prototype.Rv=function(t,e){var i=this.Sv(),i=(e?i.Hg:i.Lg).vv(t);if(!i)throw Error("Can't remove listener: does not exist.");i["delete"]()},l.prototype.kv=function(t,e,i){var r=this.Sv(),n="handleMap"+((i?"Will":"")+"Change");(i?r.Hg:r.Lg).forEach(function(i){var r=i,i=i[n]||i;i.call&&i.call(r,e,t,this)},this)},l.prototype.Cv=function(t){return this.Ev(t,!0)},l.prototype.Ov=function(t){return this.Rv(t,!0)},l.prototype.Pv=function(t,e){return this.kv(t,e,!0)},St.eg&&(St=St.eg);var Et={},It=ot,Rt=St,kt=X;Et.eg=d,It.addEach(d.prototype,Rt.prototype),It.addEach(d.prototype,kt.prototype),d.prototype.addEach=function(t){t&&It(t)===t&&("function"==typeof t.forEach?"function"==typeof t.keys?t.forEach(function(t,e){this.set(e,t)},this):t.forEach(function(t){this.set(t[0],t[1])},this):It.keys(t).forEach(function(e){this.set(e,t[e])},this))},d.prototype.get=function(t,e){var i=this.Vf.get(new this.Av(t));return i?i.value:1<arguments.length?e:this.content(t)},d.prototype.set=function(t,e){var i=new this.Av(t,e),r=this.Vf.get(i),n=!1;return r?(this.Iv&&this.Pv(t,r.value),r.value=e):(this.Iv&&this.Pv(t,void 0),this.Vf.add(i)&&(this.length++,n=!0)),this.Iv&&this.kv(t,e),n},d.prototype.add=function(t,e){return this.set(e,t)},d.prototype.has=function(t){return this.Vf.has(new this.Av(t))},d.prototype["delete"]=function(t){var e=new this.Av(t);if(this.Vf.has(e)){var i=this.Vf.get(e).value;return this.Iv&&this.Pv(t,i),this.Vf["delete"](e),this.length--,this.Iv&&this.kv(t,void 0),!0}return!1},d.prototype.clear=function(){this.Vf.clear(),this.length=0},d.prototype.reduce=function(t,e,i){return this.Vf.reduce(function(e,r){return t.call(i,e,r.value,r.key,this)},e,this)},d.prototype.reduceRight=function(t,e,i){return this.Vf.reduceRight(function(e,r){return t.call(i,e,r.value,r.key,this)},e,this)},d.prototype.keys=function(){return this.map(function(t,e){return e})},d.prototype.values=function(){return this.map(Function.identity)},d.prototype.Nv=function(){return this.map(function(t,e){return[e,t]})},d.prototype.ol=function(t,e){return e=e||It.ol,this===t||(It.vg(t,"every")?t.length===this.length&&t.every(function(t,i){return e(this.get(i),t)},this):It.keys(t).length===this.length&&It.keys(t).every(function(i){return e(this.get(i),t[i])},this))},d.prototype.Av=function(t,e){this.key=t,this.value=e},Et.eg&&(Et=Et.eg);var Ct={},Ot=x,Pt=Et,At=X;Ct.eg=f,Object.addEach(f.prototype,Ot.prototype),
    Object.addEach(f.prototype,Pt.prototype),Object.addEach(f.prototype,At.prototype),f.prototype.ng=function(t){return new this.constructor(t,this.mangle,this.content)},f.prototype.xv=function(t){if("string"!=typeof t)throw new TypeError("key must be a string.")},f.prototype.get=function(t,e){this.xv(t);var i="~"+t;return i in this.Vf?this.Vf[i]:1<arguments.length?e:this.content()},f.prototype.set=function(t,e){this.xv(t);var i="~"+t;return i in this.Vf?(this.Vf[i]=e,!1):(this.length++,this.Vf[i]=e,!0)},f.prototype.has=function(t){return this.xv(t),"~"+t in this.Vf},f.prototype["delete"]=function(t){return this.xv(t),"~"+t in this.Vf&&(delete this.Vf["~"+t],this.length--,!0)},f.prototype.clear=function(){for(var t in this.Vf)delete this.Vf[t];this.length=0},f.prototype.reduce=function(t,e,i){for(var r in this.Vf)e=t.call(i,e,this.Vf[r],r.slice(1),this);return e},f.prototype.ug=function(){for(var t in this.Vf)return this.Vf[t];throw Error("Can't get one value from empty dictionary.")},Ct.eg&&(Ct=Ct.eg);var Nt={},xt=Ct,Bt=mt,Ft=x,_t=B,Dt=H,Ht=X;Nt.eg=g,Object.addEach(g.prototype,Ft.prototype),Object.addEach(g.prototype,_t.prototype),Object.addEach(g.prototype,Ht.prototype),g.prototype.Jf=xt,g.prototype.Kf=Bt,g.prototype.ng=function(t){return new this.constructor(t,this.Mf,this.Qf,this.content)},g.prototype.has=function(t){var e=this.Qf(t);return this.qf.get(e).has(t)},g.prototype.get=function(t){var e=this.Qf(t),i=this.qf;return i.has(e)?i.get(e).get(t):this.content(t)},g.prototype["delete"]=function(t){var e=this.Qf(t),i=this.qf;if(i.has(e)){var r=i.get(e);if(r["delete"](t))return this.length--,0===r.length&&i["delete"](e),!0}return!1},g.prototype.clear=function(){this.qf.clear(),this.length=0},g.prototype.add=function(t){var e=this.Qf(t),i=this.qf;return i.has(e)||i.set(e,new this.Kf(null,this.Mf)),!i.get(e).has(t)&&(i.get(e).add(t),this.length++,!0)},g.prototype.reduce=function(t,e,i){return this.qf.reduce(function(e,r){return r.reduce(function(e,r){return t.call(i,e,r,r,this)},e,this)},e,this)},g.prototype.ug=function(){if(0===this.length)throw Error("Can't get one value from empty set.");return this.qf.ug().ug()},g.prototype.Df=function(){return this.qf.values().ag().Df()},g.prototype.log=function(t,e,i,r){t=t||Dt.kg,e=e||this.Bv,i||(i=console.log,r=console);var i=i.bind(r),n=this.qf,o=n.keys();o.forEach(function(s,a){var c,h;a===o.length-1?(c=t.bg,h=" "):(c=0===a?t.Tg:t.Eg,h=t.Ig);var p=n.get(s);i.call(r,c+t.mg+t.Tg+" "+s),p.forEach(function(n,o){var s,a;o===p.head.Lf?(s=t.bg,a=" "):(s=t.Eg,a=t.Ig);var c;e(o,function(e){c?i.call(r,h+" "+a+"  "+e):(i.call(r,h+" "+s+t.mg+t.mg+e),c=!0)},function(e){i.call(r,h+" "+t.Ig+"  "+e)})})})},g.prototype.Bv=function(t,e){var i=t.value;Object(i)===i?JSON.stringify(i,null,4).split("\n").forEach(function(t){e(" "+t)}):e(" "+i)},Nt.eg&&(Nt=Nt.eg);var Lt={},Mt=Nt,jt=x,Ut=Et,Vt=X;Lt.eg=v,Object.addEach(v.prototype,jt.prototype),Object.addEach(v.prototype,Ut.prototype),Object.addEach(v.prototype,Vt.prototype),v.prototype.ng=function(t){return new this.constructor(t,this.Mf,this.Qf,this.content)},v.prototype.log=function(t,e){e=e||this.stringify,this.Vf.log(t,e)},v.prototype.stringify=function(t,e){return e+JSON.stringify(t.key)+": "+JSON.stringify(t.value)},Lt.eg&&(Lt=Lt.eg);var Qt={},qt=mt,Jt=Nt,Kt=x,Gt=B,zt=X,Wt=rt;Qt.eg=y,Object.addEach(y.prototype,Kt.prototype),Object.addEach(y.prototype,Gt.prototype),Object.addEach(y.prototype,zt.prototype),Object.addEach(y.prototype,Wt.prototype),y.prototype.Gf=qt,y.prototype.zf=Jt,y.prototype.ng=function(t){return new this.constructor(t,this.Mf,this.Qf,this.content)},y.prototype.has=function(t){return t=new this.order.Node(t),this.Vf.has(t)},y.prototype.get=function(t){var e=new this.order.Node(t);return(e=this.Vf.get(e))?e.value:this.content(t)},y.prototype.add=function(t){var e=new this.order.Node(t);return!this.Vf.has(e)&&(this.$g&&this.nv([t],[],0),this.order.add(t),e=this.order.head.Lf,this.Vf.add(e),this.length++,this.$g&&this.Xg([t],[],0),!0)},y.prototype["delete"]=function(t){var e=new this.order.Node(t);return!!this.Vf.has(e)&&(this.$g&&this.nv([],[t],0),e=this.Vf.get(e),this.Vf["delete"](e),e["delete"](),this.length--,this.$g&&this.Xg([],[t],0),!0)},y.prototype.ug=function(){if(0===this.length)throw Error("Can't get one value from empty set.");return this.Vf.ug().value},y.prototype.clear=function(){this.Vf.clear(),this.order.clear(),this.length=0},y.prototype.reduce=function(t,e,i){return this.order.reduce(function(e,r){return t.call(i,e,r,r,this)},e,this)},y.prototype.reduceRight=function(t,e,i){return this.order.reduceRight(function(e,r){return t.call(i,e,r,r,this)},e,this)},y.prototype.Df=function(){return this.order.Df()},y.prototype.log=function(){var t=this.Vf;return t.log.apply(t,arguments)},Qt.eg&&(Qt=Qt.eg);var $t={},Yt=Qt,Xt=x,Zt=B,te=X;$t.eg=m,Object.addEach(m.prototype,Xt.prototype),Object.addEach(m.prototype,Zt.prototype),Object.addEach(m.prototype,te.prototype),m.prototype.ng=function(t){return new this.constructor(t,this.maxLength,this.Mf,this.Qf,this.content)},m.prototype.has=function(t){return this.Vf.has(t)},m.prototype.get=function(t){return t=this.Vf.get(t),void 0!==t?(this.Vf["delete"](t),this.Vf.add(t)):t=this.content(),t},m.prototype.add=function(t){return this.Vf.has(t)&&(this.Vf["delete"](t),this.length--),this.Vf.add(t),this.length++,!(this.Vf.length>this.maxLength)||(this.Vf["delete"](this.Vf.order.head.next.value),this.length--,!1)},m.prototype["delete"]=function(t){return!!this.Vf["delete"](t)&&(this.length--,!0)},m.prototype.ug=function(){if(0===this.length)throw Error("Can't get one value from empty collection.");return this.Vf.ug()},m.prototype.clear=function(){this.Vf.clear(),this.length=0},m.prototype.reduce=function(t,e,i){return this.Vf.reduce(function(e,r){return t.call(i,e,r,r,this)},e,this)},m.prototype.reduceRight=function(t,e,i){return this.Vf.reduceRight(function(t,e){return callback.call(i,t,e,e,this)},basis,this)},m.prototype.Df=function(){return this.Vf.Df()},$t.eg&&($t=$t.eg);var ee={},ie=$t,re=x,ne=Et,oe=X;ee.eg=w,Object.addEach(w.prototype,re.prototype),Object.addEach(w.prototype,ne.prototype),Object.addEach(w.prototype,oe.prototype),w.prototype.ng=function(t){return new this.constructor(t,this.maxLength,this.Mf,this.Qf,this.content)},w.prototype.log=function(t,e){e=e||this.stringify,this.Vf.log(t,e)},w.prototype.stringify=function(t,e){return e+JSON.stringify(t.key)+": "+JSON.stringify(t.value)},ee.eg&&(ee=ee.eg);var se={},ae=Qt,ce=x,he=Et,pe=X;se.eg=T,Object.addEach(T.prototype,ce.prototype),Object.addEach(T.prototype,he.prototype),Object.addEach(T.prototype,pe.prototype),T.prototype.ng=function(t){return new this.constructor(t,this.Mf,this.Qf,this.content)},T.prototype.log=function(t,e){e=e||this.stringify,this.Vf.log(t,e)},T.prototype.stringify=function(t,e){return e+JSON.stringify(t.key)+": "+JSON.stringify(t.value)},se.eg&&(se=se.eg);var ue={},le=se;ue.eg=S,S.prototype=Object.create(le.prototype),S.prototype.constructor=S,S.prototype.ng=function(t){return new this.constructor(t,this.Wf,this.Mf,this.Qf)},S.prototype.set=function(t,e){var i=this.get(t);i.yv(0,i.length,e)},S.prototype.Wf=function(){return[]},ue.eg&&(ue=ue.eg);var de={};de.eg=b;var fe=X,ge=rt;Object.addEach(b.prototype,x.prototype),Object.addEach(b.prototype,fe.prototype),Object.addEach(b.prototype,ge.prototype),b.prototype.ng=function(t){return new this.constructor(t,this.Mf,this.$f,this.content)},b.prototype.has=function(t){var e=E(this.Hf,t,this.$f);return 0<=e&&this.Mf(this.Hf[e],t)},b.prototype.get=function(t){var e=I(this.Hf,t,this.$f,this.Mf);return-1!==e?this.Hf[e]:this.content(t)},b.prototype.add=function(t){var e;e=this.Hf;var i=this.$f,r=E(e,t,i);if(0>r)e=-r-1;else{for(var n=e.length-1;r<n&&0===i(t,e[r+1]);)r++;e=r}return this.$g&&this.nv([t],[],e),this.Hf.splice(e,0,t),this.length++,this.$g&&this.Xg([t],[],e),!0},b.prototype["delete"]=function(t){var e=I(this.Hf,t,this.$f,this.Mf);return-1!==e&&(this.$g&&this.nv([],[t],e),this.Hf.splice(e,1),this.length--,this.$g&&this.Xg([],[t],e),!0)},b.prototype.indexOf=function(t){return I(this.Hf,t,this.$f,this.Mf)},b.prototype.lastIndexOf=function(t){return R(this.Hf,t,this.$f,this.Mf)},b.prototype.find=function(t){return I(this.Hf,t,this.$f,this.Mf)},b.prototype.vv=function(t){return R(this.Hf,t,this.$f,this.Mf)},b.prototype.push=function(){this.addEach(arguments)},b.prototype.unshift=function(){this.addEach(arguments)},b.prototype.pop=function(){return this.Hf.pop()},b.prototype.shift=function(){return this.Hf.shift()},b.prototype.slice=function(){return this.Hf.slice.apply(this.Hf,arguments)},b.prototype.splice=function(t,e){return this.yv(t,e,Array.prototype.slice.call(arguments,2))},b.prototype.yv=function(t,e,i){if(void 0===t&&void 0===e)return[];t=t||0,0>t&&(t+=this.length),void 0===e&&(e=1/0);var r=this.slice(t,t+e);return this.$g&&this.nv(i,r,t),this.Hf.splice(t,e),this.addEach(i),this.$g&&this.Xg(i,r,t),r},b.prototype.reduce=function(t,e,i){return this.Hf.reduce(function(e,r,n){return t.call(i,e,r,n,this)},e,this)},b.prototype.reduceRight=function(t,e,i){return this.Hf.reduceRight(function(t,e,r){return callback.call(i,t,e,r,this)},basis,this)},b.prototype.min=function(){if(this.length)return this.Hf[0]},b.prototype.max=function(){if(this.length)return this.Hf[this.length-1]},b.prototype.ug=function(){return this.Hf.ug()},b.prototype.clear=function(){var t;this.$g&&(t=this.Hf.slice(),this.nv([],t,0)),this.length=0,this.Hf.clear(),this.$g&&this.Xg([],t,0)},b.prototype.ol=function(t,e){return this.Hf.ol(t,e)},b.prototype.Yf=function(t,e){return this.Hf.Yf(t,e)},b.prototype.Df=function(t,e){return new this.Iterator(this.Hf,t,e)},b.prototype.Iterator=Array.prototype.Iterator,de.eg&&(de=de.eg);var ve={};ve.eg=k;var ye=de,me=B,we=X;k.prototype=Object.create(ye.prototype),k.prototype.constructor=k,Object.addEach(k.prototype,me.prototype),Object.addEach(k.prototype,we.prototype),k.prototype.add=function(t){return!this.has(t)&&(ye.prototype.add.call(this,t),!0)},k.prototype.reduce=function(t,e,i){var r=this;return this.Hf.reduce(function(e,n,o){return t.call(i,e,n,n,r,o)},e)},k.prototype.reduceRight=function(t,e,i){var r=this;return this.Hf.reduceRight(function(e,n,o){return t.call(i,e,n,n,r,o)},e)},ve.eg&&(ve=ve.eg);var Te={},Se=ve,be=x,Ee=Et,Ie=X;Te.eg=C,Object.addEach(C.prototype,be.prototype),Object.addEach(C.prototype,Ee.prototype),Object.addEach(C.prototype,Ie.prototype),C.prototype.ng=function(t){return new this.constructor(t,this.Mf,this.$f,this.content)},Te.eg&&(Te=Te.eg);var Re={};Re.eg=O;var ke=B,Ce=X,Oe=rt,Pe=H;Object.addEach(O.prototype,x.prototype),Object.addEach(O.prototype,ke.prototype),Object.addEach(O.prototype,Ce.prototype),Object.addEach(O.prototype,Oe.prototype),O.prototype.ng=function(t){return new this.constructor(t,this.Mf,this.$f,this.content)},O.prototype.has=function(t){return!!this.root&&(this.Zf(t),this.Mf(t,this.root.value))},O.prototype.get=function(t){return this.root&&(this.Zf(t),this.Mf(t,this.root.value))?this.root.value:this.content(t)},O.prototype.add=function(t){var e=new this.Node(t);return this.root?(this.Zf(t),!this.Mf(t,this.root.value)&&(this.$g&&this.nv([t],[],this.root.index),0>this.$f(t,this.root.value)?(e.right=this.root,e.left=this.root.left,this.root.left=null):(e.left=this.root,e.right=this.root.right,this.root.right=null),this.root.Fv(),e.Fv(),this.root=e,this.length++,this.$g&&this.Xg([t],[],this.root.index),!0)):(this.$g&&this.nv([t],[],0),this.root=e,this.length++,this.$g&&this.Xg([t],[],0),!0)},O.prototype["delete"]=function(t){if(this.root&&(this.Zf(t),this.Mf(t,this.root.value))){var e=this.root.index;if(this.$g&&this.nv([],[t],e),this.root.left){var i=this.root.right;this.root=this.root.left,this.Zf(t),this.root.right=i}else this.root=this.root.right;return this.length--,this.root&&this.root.Fv(),this.$g&&this.Xg([],[t],e),!0}return!1},O.prototype.indexOf=function(t){return this.root&&(this.Zf(t),this.Mf(t,this.root.value))?this.root.index:-1},O.prototype.find=function(t){if(this.root&&(this.Zf(t),this.Mf(t,this.root.value)))return this.root},O.prototype._v=function(t){if(this.root){for(t=t||this.root;t.right;)t=t.right;return t}},O.prototype.Dv=function(t){if(this.root){for(t=t||this.root;t.left;)t=t.left;return t}},O.prototype.Hv=function(t){if(this.root)return this.Zf(t),this.root},O.prototype.Lv=function(t){if(this.root)return this.Zf(t),this.root.tg()},O.prototype.Xf=function(t){if(this.root)return this.Zf(t),0===this.$f(t,this.root.value)?this.root:this.root.Mv()},O.prototype.jv=function(t){if(this.root)return this.Zf(t),this.$f(t,this.root.value),this.root.Mv()},O.prototype.pop=function(){if(this.root){var t=this._v();return this["delete"](t.value),t.value}},O.prototype.shift=function(){if(this.root){var t=this.Dv();return this["delete"](t.value),t.value}},O.prototype.push=function(){this.addEach(arguments)},O.prototype.unshift=function(){this.addEach(arguments)},O.prototype.slice=function(t,e){t=t||0,e=e||this.length,0>t&&(t+=this.length),0>e&&(e+=this.length);var i=[];if(this.root)for(this.Uv(t);this.root.index<e&&(i.push(this.root.value),this.root.right);)this.Zf(this.root.Mv().value);return i},O.prototype.splice=function(t,e){return this.yv(t,e,Array.prototype.slice.call(arguments,2))},O.prototype.yv=function(t,e,i){if(void 0===t&&void 0===e)return[];t=t||0,0>t&&(t+=this.length),void 0===e&&(e=1/0);var r=[];if(this.root)for(this.Uv(t),t=0;t<e;t++){r.push(this.root.value);var n=this.root.Mv();if(this["delete"](this.root.value),!n)break;this.Zf(n.value)}return this.addEach(i),r},O.prototype.Zf=function(t){var e,i,r,n,o,s;if(this.root){for(e=i=r=new this.Node,s=new this.Node,o=this.root;;)if(n=this.$f(t,o.value),0>n){if(!o.left)break;if(0>this.$f(t,o.left.value)&&(n=o.left,o.left=n.right,o.Fv(),n.right=o,n.Fv(),o=n,!o.left))break;n=new P,n.right=o,n.left=s.left,s.left=n,r.left=o,r.Fv(),r=o,o=o.left}else{if(!(0<n))break;if(!o.right)break;if(0<this.$f(t,o.right.value)&&(n=o.right,o.right=n.left,o.Fv(),n.left=o,n.Fv(),o=n,!o.right))break;n=new P,n.left=o,n.right=s.right,s.right=n,i.right=o,i.Fv(),i=o,o=o.right}for(i.right=o.left,i.Fv(),r.left=o.right,r.Fv(),o.left=e.right,o.right=e.left;s.left;)s.left.right.Fv(),s.left=s.left.left;for(;s.right;)s.right.left.Fv(),s.right=s.right.right;o.Fv(),this.root=o}},O.prototype.Uv=function(t){if(this.root){for(var e=this.root,i=this.root.index;i!==t;)if(i>t&&e.left)e=e.left,i-=1+(e.right?e.right.length:0);else{if(!(i<t&&e.right))break;e=e.right,i+=1+(e.left?e.left.length:0)}return this.Zf(e.value),this.root.index===t}return!1},O.prototype.reduce=function(t,e,i){return this.root&&(e=this.root.reduce(t,e,i,this)),e},O.prototype.reduceRight=function(t,e,i){return this.root&&(e=this.root.reduceRight(t,e,i,this)),e},O.prototype.min=function(t){if(t=this.Dv(t))return t.value},O.prototype.max=function(t){if(t=this._v(t))return t.value},O.prototype.ug=function(){if(!this.root)throw Error("Can't get one value from empty set");return this.root.value},O.prototype.clear=function(){var t;this.$g&&(t=this.toArray(),this.nv([],t,0)),this.root=null,this.length=0,this.$g&&this.Xg([],t,0)},O.prototype.Df=function(t,e){return new this.Iterator(this,t,e)},O.prototype.Iterator=A,O.prototype.summary=function(){return this.root?this.root.summary():"()"},O.prototype.log=function(t,e,i,r){t=t||Pe.Rg,e=e||this.Bv,i||(i=console.log,r=console),i=i.bind(r),this.root&&this.root.log(t,e,i,i)},O.prototype.Bv=function(t,e){e(" "+t.value)},O.Vv=Pe,O.prototype.Node=P,P.prototype.reduce=function(t,e,i,r,n){return n=n||0,this.left&&(e=this.left.reduce(t,e,i,r,n+1)),e=t.call(i,e,this.value,this.value,r,this,n),this.right&&(e=this.right.reduce(t,e,i,r,n+1)),e},P.prototype.reduceRight=function(t,e,i,r,n){return n=n||0,this.right&&(e=this.right.reduce(t,e,i,r,n+1)),e=t.call(i,e,this.value,this.value,r,this,n),this.left&&(e=this.left.reduce(t,e,i,r,n+1)),e},P.prototype.Fv=function(){this.length=1+(this.left?this.left.length:0)+(this.right?this.right.length:0),this.index=this.left?this.left.length:0},P.prototype.Qv=function(){var t;if(t=1+(this.left?this.left.Qv():0),t+=this.right?this.right.Qv():0,this.length!==t)throw Error("Integrity check failed: "+this.summary());return t},P.prototype.Mv=function(){var t=this;if(t.right){for(t=t.right;t.left;)t=t.left;return t}},P.prototype.tg=function(){var t=this;if(t.left){for(t=t.left;t.right;)t=t.right;return t}},P.prototype.summary=function(){var t=this.value||"-",t=t+(" <"+this.length);return this.left||this.right?"("+t+" "+(this.left?this.left.summary():"()")+", "+(this.right?this.right.summary():"()")+")":"("+t+")"},P.prototype.log=function(t,e,i,r){var n,o=this;n=this.left&&this.right?t.dg:this.left?t.wg:this.right?t.Tg:t.mg;var s;this.left&&this.left.log(t,e,function(e){s?r(t.Ig+" "+e):(s=!0,r(t.Sg+t.mg+e))},function(t){r("  "+t)});var a;e(this,function(e){a?i((o.right?t.Ig:" ")+e):(a=!0,i(n+e))},function(e){r((o.left?t.Ig:" ")+e)});var c;this.right&&this.right.log(t,e,function(e){c?i("  "+e):(c=!0,i(t.bg+t.mg+e))},function(e){i(t.Ig+" "+e)})},A.prototype.next=function(){var t;if(t=this.Lf?this.set.jv(this.Lf.value):this.set.Dv(),!t)throw StopIteration;if(void 0!==this.end&&0<=this.set.$f(t.value,this.end))throw StopIteration;return this.Lf=t,t.value},Re.eg&&(Re=Re.eg);var Ae={},Ne=Re,xe=x,Be=Et,Fe=X;Ae.eg=N,Object.addEach(N.prototype,xe.prototype),Object.addEach(N.prototype,Be.prototype),Object.addEach(N.prototype,Fe.prototype),N.prototype.ng=function(t){return new this.constructor(t,this.Mf,this.$f,this.content)},N.prototype.log=function(t,e){e=e||this.stringify,this.Vf.log(t,e)},N.prototype.qv=function(t,e,i,r){r=r||this.stringify,this.Vf.qv(t,e,i,r)},N.prototype.stringify=function(t,e,i,r){t.call(e,r+" "+i.value.key+": "+i.value.value)},Ae.eg&&(Ae=Ae.eg),t.Jv=mt,t.Set=Qt,t.Map=se,t.Kv=ue,t.WeakMap=M,t.Gv=Re,t.ni=Ae,t.zv=$t,t.Wv=ee,t.$v=de,t.oi=ve,t.Yv=Te,t.Xv=Nt,t.Zv=Lt,t.ty=Ct,t.Iterator=ut}(this)},function(t,e){t.t=function(){return new Function}},function(t,e){function i(t,e,i){null!=t&&("number"==typeof t?this.fromNumber(t,e,i):null==e&&"string"!=typeof t?this.ey(t,256):this.ey(t,e))}function r(){return new i(null)}function n(t,e,i,r,n,o){for(;--o>=0;){var s=e*this[t++]+i[r]+n;n=Math.floor(s/67108864),i[r++]=67108863&s}return n}function o(t,e,i,r,n,o){for(var s=32767&e,a=e>>15;--o>=0;){var c=32767&this[t],h=this[t++]>>15,p=a*c+h*s;c=s*c+((32767&p)<<15)+i[r]+(1073741823&n),n=(c>>>30)+(p>>>15)+a*h+(n>>>30),i[r++]=1073741823&c}return n}function s(t,e,i,r,n,o){for(var s=16383&e,a=e>>14;--o>=0;){var c=16383&this[t],h=this[t++]>>14,p=a*c+h*s;c=s*c+((16383&p)<<14)+i[r]+n,n=(c>>28)+(p>>14)+a*h,i[r++]=268435455&c}return n}function a(t){return Pt.charAt(t)}function c(t,e){var i=At[t.charCodeAt(e)];return null==i?-1:i}function h(t){for(var e=this.iy-1;e>=0;--e)t[e]=this[e];t.iy=this.iy,t.ny=this.ny}function p(t){this.iy=1,this.ny=t<0?-1:0,t>0?this[0]=t:t<-1?this[0]=t+this.oy:this.iy=0}function u(t){var e=r();return e.sy(t),e}function l(t,e){var r;if(16==e)r=4;else if(8==e)r=3;else if(256==e)r=8;else if(2==e)r=1;else if(32==e)r=5;else{if(4!=e)return void this.fromRadix(t,e);r=2}this.iy=0,this.ny=0;for(var n=t.length,o=!1,s=0;--n>=0;){var a=8==r?255&t[n]:c(t,n);a<0?"-"==t.charAt(n)&&(o=!0):(o=!1,0==s?this[this.iy++]=a:s+r>this.ay?(this[this.iy-1]|=(a&(1<<this.ay-s)-1)<<s,this[this.iy++]=a>>this.ay-s):this[this.iy-1]|=a<<s,s+=r,s>=this.ay&&(s-=this.ay))}8==r&&0!=(128&t[0])&&(this.ny=-1,s>0&&(this[this.iy-1]|=(1<<this.ay-s)-1<<s)),this.hy(),o&&i.ZERO.py(this,this)}function d(){for(var t=this.ny&this.uy;this.iy>0&&this[this.iy-1]==t;)--this.iy}function f(t){if(this.ny<0)return"-"+this.ly().toString(t);var e;if(16==t)e=4;else if(8==t)e=3;else if(2==t)e=1;else if(32==t)e=5;else{if(4!=t)return this.toRadix(t);e=2}var i,r=(1<<e)-1,n=!1,o="",s=this.iy,c=this.ay-s*this.ay%e;if(s-- >0)for(c<this.ay&&(i=this[s]>>c)>0&&(n=!0,o=a(i));s>=0;)c<e?(i=(this[s]&(1<<c)-1)<<e-c,i|=this[--s]>>(c+=this.ay-e)):(i=this[s]>>(c-=e)&r,c<=0&&(c+=this.ay,--s)),i>0&&(n=!0),n&&(o+=a(i));return n?o:"0"}function g(){var t=r();return i.ZERO.py(this,t),t}function v(){return this.ny<0?this.ly():this}function y(t){var e=this.ny-t.ny;if(0!=e)return e;var i=this.iy;if(e=i-t.iy,0!=e)return this.ny<0?-e:e;for(;--i>=0;)if(0!=(e=this[i]-t[i]))return e;return 0}function m(t){var e,i=1;return 0!=(e=t>>>16)&&(t=e,i+=16),0!=(e=t>>8)&&(t=e,i+=8),0!=(e=t>>4)&&(t=e,i+=4),0!=(e=t>>2)&&(t=e,i+=2),0!=(e=t>>1)&&(t=e,i+=1),i}function w(){return this.iy<=0?0:this.ay*(this.iy-1)+m(this[this.iy-1]^this.ny&this.uy)}function T(t,e){var i;for(i=this.iy-1;i>=0;--i)e[i+t]=this[i];for(i=t-1;i>=0;--i)e[i]=0;e.iy=this.iy+t,e.ny=this.ny}function S(t,e){for(var i=t;i<this.iy;++i)e[i-t]=this[i];e.iy=Math.max(this.iy-t,0),e.ny=this.ny}function b(t,e){var i,r=t%this.ay,n=this.ay-r,o=(1<<n)-1,s=Math.floor(t/this.ay),a=this.ny<<r&this.uy;for(i=this.iy-1;i>=0;--i)e[i+s+1]=this[i]>>n|a,a=(this[i]&o)<<r;for(i=s-1;i>=0;--i)e[i]=0;e[s]=a,e.iy=this.iy+s+1,e.ny=this.ny,e.hy()}function E(t,e){e.ny=this.ny;var i=Math.floor(t/this.ay);if(i>=this.iy)return void(e.iy=0);var r=t%this.ay,n=this.ay-r,o=(1<<r)-1;e[0]=this[i]>>r;for(var s=i+1;s<this.iy;++s)e[s-i-1]|=(this[s]&o)<<n,e[s-i]=this[s]>>r;r>0&&(e[this.iy-i-1]|=(this.ny&o)<<n),e.iy=this.iy-i,e.hy()}function I(t,e){for(var i=0,r=0,n=Math.min(t.iy,this.iy);i<n;)r+=this[i]-t[i],e[i++]=r&this.uy,r>>=this.ay;if(t.iy<this.iy){for(r-=t.ny;i<this.iy;)r+=this[i],e[i++]=r&this.uy,r>>=this.ay;r+=this.ny}else{for(r+=this.ny;i<t.iy;)r-=t[i],e[i++]=r&this.uy,r>>=this.ay;r-=t.ny}e.ny=r<0?-1:0,r<-1?e[i++]=this.oy+r:r>0&&(e[i++]=r),e.iy=i,e.hy()}function R(t,e){var r=this.abs(),n=t.abs(),o=r.iy;for(e.iy=o+n.iy;--o>=0;)e[o]=0;for(o=0;o<n.iy;++o)e[o+r.iy]=r.gy(0,n[o],e,o,0,r.iy);e.ny=0,e.hy(),this.ny!=t.ny&&i.ZERO.py(e,e)}function k(t){for(var e=this.abs(),i=t.iy=2*e.iy;--i>=0;)t[i]=0;for(i=0;i<e.iy-1;++i){var r=e.gy(i,e[i],t,2*i,0,1);(t[i+e.iy]+=e.gy(i+1,2*e[i],t,2*i+1,r,e.iy-i-1))>=e.oy&&(t[i+e.iy]-=e.oy,t[i+e.iy+1]=1)}t.iy>0&&(t[t.iy-1]+=e.gy(i,e[i],t,2*i,0,1)),t.ny=0,t.hy()}function C(t,e,n){var o=t.abs();if(!(o.iy<=0)){var s=this.abs();if(s.iy<o.iy)return null!=e&&e.sy(0),void(null!=n&&this.vy(n));null==n&&(n=r());var a=r(),c=this.ny,h=t.ny,p=this.ay-m(o[o.iy-1]);p>0?(o.yy(p,a),s.yy(p,n)):(o.vy(a),s.vy(n));var u=a.iy,l=a[u-1];if(0!=l){var d=l*(1<<this.my)+(u>1?a[u-2]>>this.wy:0),f=this.Ty/d,g=(1<<this.my)/d,v=1<<this.wy,y=n.iy,w=y-u,T=null==e?r():e;for(a.Sy(w,T),n.by(T)>=0&&(n[n.iy++]=1,n.py(T,n)),i.ONE.Sy(u,T),T.py(a,a);a.iy<u;)a[a.iy++]=0;for(;--w>=0;){var S=n[--y]==l?this.uy:Math.floor(n[y]*f+(n[y-1]+v)*g);if((n[y]+=a.gy(0,S,n,w,0,u))<S)for(a.Sy(w,T),n.py(T,n);n[y]<--S;)n.py(T,n)}null!=e&&(n.Ey(u,e),c!=h&&i.ZERO.py(e,e)),n.iy=u,n.hy(),p>0&&n.Iy(p,n),c<0&&i.ZERO.py(n,n)}}}function O(t){var e=r();return this.abs().Ry(t,null,e),this.ny<0&&e.by(i.ZERO)>0&&t.py(e,e),e}function P(t){this.i=t}function A(t){return t.ny<0||t.by(this.i)>=0?t.ky(this.i):t}function N(t){return t}function x(t){t.Ry(this.i,null,t)}function B(t,e,i){t.Cy(e,i),this.reduce(i)}function F(t,e){t.Oy(e),this.reduce(e)}function _(){if(this.iy<1)return 0;var t=this[0];if(0==(1&t))return 0;var e=3&t;return e=e*(2-(15&t)*e)&15,e=e*(2-(255&t)*e)&255,e=e*(2-((65535&t)*e&65535))&65535,e=e*(2-t*e%this.oy)%this.oy,e>0?this.oy-e:-e}function D(t){this.i=t,this.Py=t.Ay(),this.Ny=32767&this.Py,this.xy=this.Py>>15,this.By=(1<<t.ay-15)-1,this.Fy=2*t.iy}function H(t){var e=r();return t.abs().Sy(this.i.iy,e),e.Ry(this.i,null,e),t.ny<0&&e.by(i.ZERO)>0&&this.i.py(e,e),e}function L(t){var e=r();return t.vy(e),this.reduce(e),e}function M(t){for(;t.iy<=this.Fy;)t[t.iy++]=0;for(var e=0;e<this.i.iy;++e){var i=32767&t[e],r=i*this.Ny+((i*this.xy+(t[e]>>15)*this.Ny&this.By)<<15)&t.uy;for(i=e+this.i.iy,t[i]+=this.i.gy(0,r,t,e,0,this.i.iy);t[i]>=t.oy;)t[i]-=t.oy,t[++i]++}t.hy(),t.Ey(this.i.iy,t),t.by(this.i)>=0&&t.py(this.i,t)}function j(t,e){t.Oy(e),this.reduce(e)}function U(t,e,i){t.Cy(e,i),this.reduce(i)}function V(){return 0==(this.iy>0?1&this[0]:this.ny)}function Q(t,e){if(t>4294967295||t<1)return i.ONE;var n=r(),o=r(),s=e._y(this),a=m(t)-1;for(s.vy(n);--a>=0;)if(e.Dy(n,o),(t&1<<a)>0)e.Hy(o,s,n);else{var c=n;n=o,o=c}return e.Ly(n)}function q(t,e){var i;return i=t<256||e.My()?new P(e):new D(e),this.exp(t,i)}function J(t){var e,i,r,n="",o=0;for(e=0;e<t.length&&t.charAt(e)!=xt;++e)r=Nt.indexOf(t.charAt(e)),r<0||(0==o?(n+=a(r>>2),i=3&r,o=1):1==o?(n+=a(i<<2|r>>4),i=15&r,o=2):2==o?(n+=a(i),n+=a(r>>2),i=3&r,o=3):(n+=a(i<<2|r>>4),n+=a(15&r),o=0));return 1==o&&(n+=a(i<<2)),n}function K(t){var e,i=J(t),r=new Array;for(e=0;2*e<i.length;++e)r[e]=parseInt(i.substring(2*e,2*e+2),16);return r}/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */
  function G(t,e){return new i(t,e)}function z(t,e){if(e<t.length+11)return alert("Message too long for RSA"),null;for(var r=new Array,n=t.length-1;n>=0&&e>0;){var o=t.charCodeAt(n--);o<128?r[--e]=o:o>127&&o<2048?(r[--e]=63&o|128,r[--e]=o>>6|192):(r[--e]=63&o|128,r[--e]=o>>6&63|128,r[--e]=o>>12|224)}r[--e]=0;for(var s=new SecureRandom,a=new Array;e>2;){for(a[0]=0;0==a[0];)s.nextBytes(a);r[--e]=a[0]}return r[--e]=2,r[--e]=0,new i(r)}function W(t,e,i){for(var r="",n=0;r.length<e;)r+=i(String.fromCharCode.apply(String,t.concat([(4278190080&n)>>24,(16711680&n)>>16,(65280&n)>>8,255&n]))),n+=1;return r}function $(t,e,r){if(t.length+2*Bt+2>e)throw"Message too long for RSA";var n,o="";for(n=0;n<e-t.length-2*Bt-2;n+=1)o+="\0";var s=rstr_sha1("")+o+""+t,a=new Array(Bt);(new SecureRandom).nextBytes(a);var c=W(a,s.length,r||rstr_sha1),h=[];for(n=0;n<s.length;n+=1)h[n]=s.charCodeAt(n)^c.charCodeAt(n);var p=W(h,a.length,rstr_sha1),u=[0];for(n=0;n<a.length;n+=1)u[n+1]=a[n]^p.charCodeAt(n);return new i(u.concat(h))}function Y(){this.n=null,this.e=0,this.d=null,this.o=null,this.jy=null,this.Uy=null,this.Vy=null,this.Qy=null}function X(t,e){this.qy=!0,"string"!=typeof t?(this.n=t,this.e=e):null!=t&&null!=e&&t.length>0&&e.length>0?(this.n=G(t,16),this.e=parseInt(e,16)):alert("Invalid RSA public key")}function Z(t){return t.Jy(this.e,this.n)}function tt(t){var e=z(t,this.n.Ky()+7>>3);if(null==e)return null;var i=this.Gy(e);if(null==i)return null;var r=i.toString(16);return 0==(1&r.length)?r:"0"+r}function et(t,e){var i=$(t,this.n.Ky()+7>>3,e);if(null==i)return null;var r=this.Gy(i);if(null==r)return null;var n=r.toString(16);return 0==(1&n.length)?n:"0"+n}function it(t,e){for(var i="",r=e/4-t.length,n=0;n<r;n++)i+="0";return i+t}function rt(t,e){var i=function(t){return KJUR.crypto.Wy.zy(t,e)},r=i(t);return this.$y(r,e)}function nt(t,e){var i=KJUR.crypto.Wy.Yy(t,e,this.n.Ky()),r=G(i,16),n=this.doPrivate(r),o=n.toString(16);return it(o,this.n.Ky())}function ot(t){return rt.call(this,t,"sha1")}function st(t){return rt.call(this,t,"sha256")}function at(t,e,i){for(var r="",n=0;r.length<e;)r+=hextorstr(i(rstrtohex(t+String.fromCharCode.apply(String,[(4278190080&n)>>24,(16711680&n)>>16,(65280&n)>>8,255&n])))),n+=1;return r}function ct(t,e,i){var r=function(t){return KJUR.crypto.Wy.Xy(t,e)},n=r(rstrtohex(t));return void 0===i&&(i=-1),this.Zy(n,e,i)}function ht(t,e,r){var n,o=hextorstr(t),s=o.length,a=this.n.Ky()-1,c=Math.ceil(a/8),h=function(t){return KJUR.crypto.Wy.Xy(t,e)};if(r===-1||void 0===r)r=s;else if(r===-2)r=c-s-2;else if(r<-2)throw"invalid salt length";if(c<s+r+2)throw"data too long";var p="";r>0&&(p=new Array(r),(new SecureRandom).nextBytes(p),p=String.fromCharCode.apply(String,p));var u=hextorstr(h(rstrtohex("\0\0\0\0\0\0\0\0"+o+p))),l=[];for(n=0;n<c-r-s-2;n+=1)l[n]=0;var d=String.fromCharCode.apply(String,l)+""+p,f=at(u,d.length,h),g=[];for(n=0;n<d.length;n+=1)g[n]=d.charCodeAt(n)^f.charCodeAt(n);var v=65280>>8*c-a&255;for(g[0]&=~v,n=0;n<s;n++)g.push(u.charCodeAt(n));return g.push(188),it(this.doPrivate(new i(g)).toString(16),this.n.Ky())}function pt(t,e,i){var r=new Y;r.qh(e,i);var n=r.Gy(t);return n}function ut(t,e,i){var r=pt(t,e,i),n=r.toString(16).replace(/^1f+00/,"");return n}function lt(t){for(var e in KJUR.crypto.Wy.tm){var i=KJUR.crypto.Wy.tm[e],r=i.length;if(t.substring(0,r)==i){var n=[e,t.substring(r)];return n}}return[]}function dt(t,e,i,r){var n=ut(e,i,r),o=lt(n);if(0==o.length)return!1;var s=o[0],a=o[1],c=function(t){return KJUR.crypto.Wy.zy(t,s)},h=c(t);return a==h}function ft(t,e){var i=G(t,16),r=dt(e,i,this.n.toString(16),this.e.toString(16));return r}function gt(t,e){e=e.replace(Ft,""),e=e.replace(/[ \n]+/g,"");var i=G(e,16);if(i.Ky()>this.n.Ky())return 0;var r=this.Gy(i),n=r.toString(16).replace(/^1f+00/,""),o=lt(n);if(0==o.length)return!1;var s=o[0],a=o[1],c=function(t){return KJUR.crypto.Wy.zy(t,s)},h=c(t);return a==h}function vt(t,e){e=e.replace(Ft,""),e=e.replace(/[ \n]+/g,"");var i=G(e,16);if(i.Ky()>this.n.Ky())return 0;var r=this.Gy(i),n=r.toString(16).replace(/^1f+00/,""),o=lt(n);if(0==o.length)return!1;var s=(o[0],o[1]);return s==t}function yt(t,e,i,r){var n=function(t){return KJUR.crypto.Wy.Xy(t,i)},o=n(rstrtohex(t));return void 0===r&&(r=-1),this.em(o,e,i,r)}function mt(t,e,r,n){var o=new i(e,16);if(o.Ky()>this.n.Ky())return!1;var s,a=function(t){return KJUR.crypto.Wy.Xy(t,r)},c=hextorstr(t),h=c.length,p=this.n.Ky()-1,u=Math.ceil(p/8);if(n===-1||void 0===n)n=h;else if(n===-2)n=u-h-2;else if(n<-2)throw"invalid salt length";if(u<h+n+2)throw"data too long";var l=this.Gy(o).toByteArray();for(s=0;s<l.length;s+=1)l[s]&=255;for(;l.length<u;)l.unshift(0);if(188!==l[u-1])throw"encoded message does not end in 0xbc";l=String.fromCharCode.apply(String,l);var d=l.substr(0,u-h-1),f=l.substr(d.length,h),g=65280>>8*u-p&255;if(0!==(d.charCodeAt(0)&g))throw"bits beyond keysize not zero";var v=at(f,d.length,a),y=[];for(s=0;s<d.length;s+=1)y[s]=d.charCodeAt(s)^v.charCodeAt(s);y[0]&=~g;var m=u-h-n-2;for(s=0;s<m;s+=1)if(0!==y[s])throw"leftmost octets not zero";if(1!==y[m])throw"0x01 marker not found";return f===hextorstr(a(rstrtohex("\0\0\0\0\0\0\0\0"+c+String.fromCharCode.apply(String,y.slice(-n)))))}var wt={};wt.userAgent=!1;var Tt={};if("undefined"==typeof St||!St)var St={};St.im=function(){var t,e,i,r=arguments,n=null;for(t=0;t<r.length;t+=1)for(i=(""+r[t]).split("."),n=St,e="YAHOO"==i[0]?1:0;e<i.length;e+=1)n[i[e]]=n[i[e]]||{},n=n[i[e]];return n},St.log=function(t,e,i){var r=St.widget.Logger;return!(!r||!r.log)&&r.log(t,e,i)},St.register=function(t,e,i){var r,n,o,s,a,c=St.Ot.rm;for(c[t]||(c[t]={nm:[],om:[]}),r=c[t],n=i.version,o=i.pp,s=St.Ot.zi,r.name=t,r.version=n,r.pp=o,r.nm.push(n),r.om.push(o),r.sm=e,a=0;a<s.length;a+=1)s[a](r);e?(e.VERSION=n,e.am=o):St.log("mainClass is undefined for module "+t,"warn")},St.Ot=St.Ot||{rm:[],zi:[]},St.Ot.getVersion=function(t){return St.Ot.rm[t]||null},St.Ot.cm=function(t){var e,i=function(t){var e=0;return parseFloat(t.replace(/\./g,function(){return 1==e++?"":"."}))},r=wt,n={hm:0,opera:0,pm:0,um:0,chrome:0,lm:null,dm:0,fm:0,gm:0,vm:0,ym:null,mm:0,wm:0,Tm:r&&r.cajaVersion,Sm:!1,os:null},o=t||wt&&wt.userAgent,s=Tt&&Tt.location,a=s&&s.href;return n.Sm=a&&0===a.toLowerCase().indexOf("https"),o&&(/windows|win32/i.test(o)?n.os="windows":/macintosh/i.test(o)?n.os="macintosh":/rhino/i.test(o)&&(n.os="rhino"),/KHTML/.test(o)&&(n.um=1),e=o.match(/AppleWebKit\/([^\s]*)/),e&&e[1]&&(n.um=i(e[1]),/ Mobile\//.test(o)?(n.lm="Apple",e=o.match(/OS ([^\s]*)/),e&&e[1]&&(e=i(e[1].replace("_","."))),n.ym=e,n.fm=n.vm=n.gm=0,e=o.match(/iPad|iPod|iPhone/),e&&e[0]&&(n[e[0].toLowerCase()]=n.ym)):(e=o.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/),e&&(n.lm=e[0]),/webOS/.test(o)&&(n.lm="WebOS",e=o.match(/webOS\/([^\s]*);/),e&&e[1]&&(n.wm=i(e[1]))),/ Android/.test(o)&&(n.lm="Android",e=o.match(/Android ([^\s]*);/),e&&e[1]&&(n.mm=i(e[1])))),e=o.match(/Chrome\/([^\s]*)/),e&&e[1]?n.chrome=i(e[1]):(e=o.match(/AdobeAIR\/([^\s]*)/),e&&(n.dm=e[0]))),n.um||(e=o.match(/Opera[\s\/]([^\s]*)/),e&&e[1]?(n.opera=i(e[1]),e=o.match(/Version\/([^\s]*)/),e&&e[1]&&(n.opera=i(e[1])),e=o.match(/Opera Mini[^;]*/),e&&(n.lm=e[0])):(e=o.match(/MSIE\s([^;]*)/),e&&e[1]?n.hm=i(e[1]):(e=o.match(/Gecko\/([^\s]*)/),e&&(n.pm=1,e=o.match(/rv:([^\s\)]*)/),e&&e[1]&&(n.pm=i(e[1]))))))),n},St.Ot.tf=St.Ot.cm(),function(){if(St.im("util","widget","example"),"undefined"!=typeof YAHOO_config){var t,e=YAHOO_config.listener,i=St.Ot.zi,r=!0;if(e){for(t=0;t<i.length;t++)if(i[t]==e){r=!1;break}r&&i.push(e)}}}(),St.lang=St.lang||{},function(){var t=St.lang,e=Object.prototype,i="[object Array]",r="[object Function]",n="[object Object]",o=[],s={bm:"&amp;",Em:"&lt;",Im:"&gt;",Rm:"&quot;",km:"&#x27;",Jp:"&#x2F;",Cm:"&#x60;"},a=["toString","valueOf"],c={isArray:function(t){return e.toString.apply(t)===i},Om:function(t){return"boolean"==typeof t},Pm:function(t){return"function"==typeof t||e.toString.apply(t)===r},Am:function(t){return null===t},Nm:function(t){return"number"==typeof t&&isFinite(t)},ov:function(e){return e&&("object"==typeof e||t.Pm(e))||!1},xm:function(t){return"string"==typeof t},Bm:function(t){return"undefined"==typeof t},Fm:St.Ot.tf.hm?function(i,r){var n,o,s;for(n=0;n<a.length;n+=1)o=a[n],s=r[o],t.Pm(s)&&s!=e[o]&&(i[o]=s)}:function(){},_m:function(t){return t.replace(/[&<>"'\/`]/g,function(t){return s[t]})},extend:function(i,r,n){if(!r||!i)throw new Error("extend failed, please check that all dependencies are included.");var o,s=function(){};if(s.prototype=r.prototype,i.prototype=new s,i.prototype.constructor=i,i.Dm=r.prototype,r.prototype.constructor==e.constructor&&(r.prototype.constructor=r),n){for(o in n)t.hasOwnProperty(n,o)&&(i.prototype[o]=n[o]);t.Fm(i.prototype,n)}},Hm:function(e,i){if(!i||!e)throw new Error("Absorb failed, verify dependencies.");var r,n,o=arguments,s=o[2];if(s&&s!==!0)for(r=2;r<o.length;r+=1)e[o[r]]=i[o[r]];else{for(n in i)!s&&n in e||(e[n]=i[n]);t.Fm(e,i)}return e},Lm:function(e,i){if(!i||!e)throw new Error("Augment failed, verify dependencies.");var r,n=[e.prototype,i.prototype];for(r=2;r<arguments.length;r+=1)n.push(arguments[r]);return t.Hm.apply(this,n),e},dump:function(e,i){var r,n,o=[],s="{...}",a="f(){...}",c=", ",h=" => ";if(!t.ov(e))return e+"";if(e instanceof Date||"nodeType"in e&&"tagName"in e)return e;if(t.Pm(e))return a;if(i=t.Nm(i)?i:3,t.isArray(e)){for(o.push("["),r=0,n=e.length;r<n;r+=1)t.ov(e[r])?o.push(i>0?t.dump(e[r],i-1):s):o.push(e[r]),o.push(c);o.length>1&&o.pop(),o.push("]")}else{o.push("{");for(r in e)t.hasOwnProperty(e,r)&&(o.push(r+h),t.ov(e[r])?o.push(i>0?t.dump(e[r],i-1):s):o.push(e[r]),o.push(c));o.length>1&&o.pop(),o.push("}")}return o.join("")},Mm:function(e,i,r,o){for(var s,a,c,h,p,u,l,d,f,g=[],v=e.length,y="dump",m=" ",w="{",T="}";(s=e.lastIndexOf(w,v),!(s<0))&&(a=e.indexOf(T,s),!(s+1>a));)l=e.substring(s+1,a),h=l,u=null,c=h.indexOf(m),c>-1&&(u=h.substring(c+1),h=h.substring(0,c)),p=i[h],r&&(p=r(h,p,u)),t.ov(p)?t.isArray(p)?p=t.dump(p,parseInt(u,10)):(u=u||"",d=u.indexOf(y),d>-1&&(u=u.substring(4)),f=p.toString(),p=f===n||d>-1?t.dump(p,parseInt(u,10)):f):t.xm(p)||t.Nm(p)||(p="~-"+g.length+"-~",g[g.length]=l),e=e.substring(0,s)+p+e.substring(a+1),o===!1&&(v=s-1);for(s=g.length-1;s>=0;s-=1)e=e.replace(new RegExp("~-"+s+"-~"),"{"+g[s]+"}","g");return e},trim:function(t){try{return t.replace(/^\s+|\s+$/g,"")}catch(e){return t}},jm:function(){var e,i={},r=arguments,n=r.length;for(e=0;e<n;e+=1)t.Hm(i,r[e],!0);return i},Um:function(e,i,r,n,s){e=e||0,i=i||{};var a,c,h=r,p=n;if(t.xm(r)&&(h=i[r]),!h)throw new TypeError("method undefined");return t.Bm(n)||t.isArray(p)||(p=[n]),a=function(){h.apply(i,p||o)},c=s?setInterval(a,e):setTimeout(a,e),{interval:s,cancel:function(){this.interval?clearInterval(c):clearTimeout(c)}}},Vm:function(e){return t.ov(e)||t.xm(e)||t.Nm(e)||t.Om(e)}};t.hasOwnProperty=e.hasOwnProperty?function(t,e){return t&&t.hasOwnProperty&&t.hasOwnProperty(e)}:function(e,i){return!t.Bm(e[i])&&e.constructor.prototype[i]!==e[i]},c.Hm(t,c,!0),St.util.Lang=t,t.Qm=t.Lm,St.Qm=t.Lm,St.extend=t.extend}(),St.register("yahoo",St,{version:"2.9.0",pp:"2800"});/*! CryptoJS v3.1.2 core-fix.js
   * code.google.com/p/crypto-js
   * (c) 2009-2013 by Jeff Mott. All rights reserved.
   * code.google.com/p/crypto-js/wiki/License
   * THIS IS FIX of 'core.js' to fix Hmac issue.
   * https://code.google.com/p/crypto-js/issues/detail?id=84
   * https://crypto-js.googlecode.com/svn-history/r667/branches/3.x/src/core.js
   */
  var bt=bt||function(t,e){var i={},r=i.qm={},n=r.Jm=function(){function t(){}return{extend:function(e){t.prototype=this;var i=new t;return e&&i.Km(e),i.hasOwnProperty("init")||(i.init=function(){i.Gm.init.apply(this,arguments)}),i.init.prototype=i,i.Gm=this,i},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},Km:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),o=r.zm=n.extend({init:function(t,i){t=this.Wm=t||[],i!=e?this.$m=i:this.$m=4*t.length},toString:function(t){return(t||a).stringify(this)},concat:function(t){var e=this.Wm,i=t.Wm,r=this.$m,n=t.$m;if(this.hy(),r%4)for(var o=0;o<n;o++){var s=i[o>>>2]>>>24-o%4*8&255;e[r+o>>>2]|=s<<24-(r+o)%4*8}else for(var o=0;o<n;o+=4)e[r+o>>>2]=i[o>>>2];return this.$m+=n,this},hy:function(){var e=this.Wm,i=this.$m;e[i>>>2]&=4294967295<<32-i%4*8,e.length=t.ceil(i/4)},clone:function(){var t=n.clone.call(this);return t.Wm=this.Wm.slice(0),t},random:function(e){for(var i=[],r=0;r<e;r+=4)i.push(4294967296*t.random()|0);return new o.init(i,e)}}),s=i.Ym={},a=s.Xm={stringify:function(t){for(var e=t.Wm,i=t.$m,r=[],n=0;n<i;n++){var o=e[n>>>2]>>>24-n%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(t){for(var e=t.length,i=[],r=0;r<e;r+=2)i[r>>>3]|=parseInt(t.substr(r,2),16)<<24-r%8*4;return new o.init(i,e/2)}},c=s.Zm={stringify:function(t){for(var e=t.Wm,i=t.$m,r=[],n=0;n<i;n++){var o=e[n>>>2]>>>24-n%4*8&255;r.push(String.fromCharCode(o))}return r.join("")},parse:function(t){for(var e=t.length,i=[],r=0;r<e;r++)i[r>>>2]|=(255&t.charCodeAt(r))<<24-r%4*8;return new o.init(i,e)}},h=s.tw={stringify:function(t){try{return decodeURIComponent(escape(c.stringify(t)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(t){return c.parse(unescape(encodeURIComponent(t)))}},p=r.ew=n.extend({reset:function(){this.iw=new o.init,this.rw=0},nw:function(t){"string"==typeof t&&(t=h.parse(t)),this.iw.concat(t),this.rw+=t.$m},ow:function(e){var i=this.iw,r=i.Wm,n=i.$m,s=this.sw,a=4*s,c=n/a;c=e?t.ceil(c):t.max((0|c)-this.aw,0);var h=c*s,p=t.min(4*h,n);if(h){for(var u=0;u<h;u+=s)this.cw(r,u);var l=r.splice(0,h);i.$m-=p}return new o.init(l,p)},clone:function(){var t=n.clone.call(this);return t.iw=this.iw.clone(),t},aw:0}),u=(r.hw=p.extend({pw:n.extend(),init:function(t){this.pw=this.pw.extend(t),this.reset()},reset:function(){p.reset.call(this),this.uw()},update:function(t){return this.nw(t),this.ow(),this},lw:function(t){t&&this.nw(t);var e=this.dw();return e},sw:16,fw:function(t){return function(e,i){return new t.init(i).lw(e)}},gw:function(t){return function(e,i){return new u.HMAC.init(t,i).lw(e)}}}),i.vw={});return i}(Math);!function(t){function e(t,e,i,r,n,o,s){return t=t+(e&i|~e&r)+n+s,(t<<o|t>>>32-o)+e}function i(t,e,i,r,n,o,s){return t=t+(e&r|i&~r)+n+s,(t<<o|t>>>32-o)+e}function r(t,e,i,r,n,o,s){return t=t+(e^i^r)+n+s,(t<<o|t>>>32-o)+e}function n(t,e,i,r,n,o,s){return t=t+(i^(e|~r))+n+s,(t<<o|t>>>32-o)+e}for(var o=bt,s=o.qm,a=s.zm,c=s.hw,s=o.vw,h=[],p=0;64>p;p++)h[p]=4294967296*t.abs(t.sin(p+1))|0;s=s.yw=c.extend({uw:function(){this.mw=new a.init([1732584193,4023233417,2562383102,271733878])},cw:function(t,o){for(var s=0;16>s;s++){var a=o+s,c=t[a];t[a]=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8)}var s=this.mw.Wm,a=t[o+0],c=t[o+1],p=t[o+2],u=t[o+3],l=t[o+4],d=t[o+5],f=t[o+6],g=t[o+7],v=t[o+8],y=t[o+9],m=t[o+10],w=t[o+11],T=t[o+12],S=t[o+13],b=t[o+14],E=t[o+15],I=s[0],R=s[1],k=s[2],C=s[3],I=e(I,R,k,C,a,7,h[0]),C=e(C,I,R,k,c,12,h[1]),k=e(k,C,I,R,p,17,h[2]),R=e(R,k,C,I,u,22,h[3]),I=e(I,R,k,C,l,7,h[4]),C=e(C,I,R,k,d,12,h[5]),k=e(k,C,I,R,f,17,h[6]),R=e(R,k,C,I,g,22,h[7]),I=e(I,R,k,C,v,7,h[8]),C=e(C,I,R,k,y,12,h[9]),k=e(k,C,I,R,m,17,h[10]),R=e(R,k,C,I,w,22,h[11]),I=e(I,R,k,C,T,7,h[12]),C=e(C,I,R,k,S,12,h[13]),k=e(k,C,I,R,b,17,h[14]),R=e(R,k,C,I,E,22,h[15]),I=i(I,R,k,C,c,5,h[16]),C=i(C,I,R,k,f,9,h[17]),k=i(k,C,I,R,w,14,h[18]),R=i(R,k,C,I,a,20,h[19]),I=i(I,R,k,C,d,5,h[20]),C=i(C,I,R,k,m,9,h[21]),k=i(k,C,I,R,E,14,h[22]),R=i(R,k,C,I,l,20,h[23]),I=i(I,R,k,C,y,5,h[24]),C=i(C,I,R,k,b,9,h[25]),k=i(k,C,I,R,u,14,h[26]),R=i(R,k,C,I,v,20,h[27]),I=i(I,R,k,C,S,5,h[28]),C=i(C,I,R,k,p,9,h[29]),k=i(k,C,I,R,g,14,h[30]),R=i(R,k,C,I,T,20,h[31]),I=r(I,R,k,C,d,4,h[32]),C=r(C,I,R,k,v,11,h[33]),k=r(k,C,I,R,w,16,h[34]),R=r(R,k,C,I,b,23,h[35]),I=r(I,R,k,C,c,4,h[36]),C=r(C,I,R,k,l,11,h[37]),k=r(k,C,I,R,g,16,h[38]),R=r(R,k,C,I,m,23,h[39]),I=r(I,R,k,C,S,4,h[40]),C=r(C,I,R,k,a,11,h[41]),k=r(k,C,I,R,u,16,h[42]),R=r(R,k,C,I,f,23,h[43]),I=r(I,R,k,C,y,4,h[44]),C=r(C,I,R,k,T,11,h[45]),k=r(k,C,I,R,E,16,h[46]),R=r(R,k,C,I,p,23,h[47]),I=n(I,R,k,C,a,6,h[48]),C=n(C,I,R,k,g,10,h[49]),k=n(k,C,I,R,b,15,h[50]),R=n(R,k,C,I,d,21,h[51]),I=n(I,R,k,C,T,6,h[52]),C=n(C,I,R,k,u,10,h[53]),k=n(k,C,I,R,m,15,h[54]),R=n(R,k,C,I,c,21,h[55]),I=n(I,R,k,C,v,6,h[56]),C=n(C,I,R,k,E,10,h[57]),k=n(k,C,I,R,f,15,h[58]),R=n(R,k,C,I,S,21,h[59]),I=n(I,R,k,C,l,6,h[60]),C=n(C,I,R,k,w,10,h[61]),k=n(k,C,I,R,p,15,h[62]),R=n(R,k,C,I,y,21,h[63]);s[0]=s[0]+I|0,s[1]=s[1]+R|0,s[2]=s[2]+k|0,s[3]=s[3]+C|0},dw:function(){var e=this.iw,i=e.Wm,r=8*this.rw,n=8*e.$m;i[n>>>5]|=128<<24-n%32;var o=t.floor(r/4294967296);for(i[(n+64>>>9<<4)+15]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),i[(n+64>>>9<<4)+14]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),e.$m=4*(i.length+1),this.ow(),e=this.mw,i=e.Wm,r=0;4>r;r++)n=i[r],i[r]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8);return e},clone:function(){var t=c.clone.call(this);return t.mw=this.mw.clone(),t}}),o.yw=c.fw(s),o.ww=c.gw(s)}(Math),function(){var t=bt,e=t.qm,i=e.zm,r=e.hw,n=[],e=t.vw.Tw=r.extend({uw:function(){this.mw=new i.init([1732584193,4023233417,2562383102,271733878,3285377520])},cw:function(t,e){for(var i=this.mw.Wm,r=i[0],o=i[1],s=i[2],a=i[3],c=i[4],h=0;80>h;h++){if(16>h)n[h]=0|t[e+h];else{var p=n[h-3]^n[h-8]^n[h-14]^n[h-16];n[h]=p<<1|p>>>31}p=(r<<5|r>>>27)+c+n[h],p=20>h?p+((o&s|~o&a)+1518500249):40>h?p+((o^s^a)+1859775393):60>h?p+((o&s|o&a|s&a)-1894007588):p+((o^s^a)-899497514),c=a,a=s,s=o<<30|o>>>2,o=r,r=p}i[0]=i[0]+r|0,i[1]=i[1]+o|0,i[2]=i[2]+s|0,i[3]=i[3]+a|0,i[4]=i[4]+c|0},dw:function(){var t=this.iw,e=t.Wm,i=8*this.rw,r=8*t.$m;return e[r>>>5]|=128<<24-r%32,e[(r+64>>>9<<4)+14]=Math.floor(i/4294967296),e[(r+64>>>9<<4)+15]=i,t.$m=4*e.length,this.ow(),this.mw},clone:function(){var t=r.clone.call(this);return t.mw=this.mw.clone(),t}});t.Tw=r.fw(e),t.Sw=r.gw(e)}();/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/ */
  var Et,It=0xdeadbeefcafe,Rt=15715070==(16777215&It);Rt&&"Microsoft Internet Explorer"==wt.appName?(i.prototype.gy=o,Et=30):Rt&&"Netscape"!=wt.appName?(i.prototype.gy=n,Et=26):(i.prototype.gy=s,Et=28),i.prototype.ay=Et,i.prototype.uy=(1<<Et)-1,i.prototype.oy=1<<Et;var kt=52;i.prototype.Ty=Math.pow(2,kt),i.prototype.my=kt-Et,i.prototype.wy=2*Et-kt;var Ct,Ot,Pt="0123456789abcdefghijklmnopqrstuvwxyz",At=new Array;for(Ct="0".charCodeAt(0),Ot=0;Ot<=9;++Ot)At[Ct++]=Ot;for(Ct="a".charCodeAt(0),Ot=10;Ot<36;++Ot)At[Ct++]=Ot;for(Ct="A".charCodeAt(0),Ot=10;Ot<36;++Ot)At[Ct++]=Ot;P.prototype._y=A,P.prototype.Ly=N,P.prototype.reduce=x,P.prototype.Hy=B,P.prototype.Dy=F,D.prototype._y=H,D.prototype.Ly=L,D.prototype.reduce=M,D.prototype.Hy=U,D.prototype.Dy=j,i.prototype.vy=h,i.prototype.sy=p,i.prototype.ey=l,i.prototype.hy=d,i.prototype.Sy=T,i.prototype.Ey=S,i.prototype.yy=b,i.prototype.Iy=E,i.prototype.py=I,i.prototype.Cy=R,i.prototype.Oy=k,i.prototype.Ry=C,i.prototype.Ay=_,i.prototype.My=V,i.prototype.exp=Q,i.prototype.toString=f,i.prototype.ly=g,i.prototype.abs=v,i.prototype.by=y,i.prototype.Ky=w,i.prototype.ky=O,i.prototype.Jy=q,i.ZERO=u(0),i.ONE=u(1),/*! asn1-1.0.9.js (c) 2013-2015 Kenji Urushima | kjur.github.com/jsrsasign/license
   */
  "undefined"!=typeof KJUR&&KJUR||(KJUR={}),"undefined"!=typeof KJUR.bw&&KJUR.bw||(KJUR.bw={}),KJUR.bw.Ew=new function(){this.Iw=function(t){var e=t.toString(16);return e.length%2==1&&(e="0"+e),e},this.Rw=function(t){var e=t.toString(16);if("-"!=e.substr(0,1))e.length%2==1?e="0"+e:e.match(/^[0-7]/)||(e="00"+e);else{var r=e.substr(1),n=r.length;n%2==1?n+=1:e.match(/^[0-7]/)||(n+=2);for(var o="",s=0;s<n;s++)o+="f";var a=new i(o,16),c=a.xor(t).add(i.ONE);e=c.toString(16).replace(/^-/,"")}return e},this.kw=function(t,e){var i=(KJUR.bw,bt.Ym.Xm.parse(t)),r=bt.Ym.Base64.stringify(i),n=r.replace(/(.{64})/g,"$1\r\n");return n=n.replace(/\r\n$/,""),"-----BEGIN "+e+"-----\r\n"+n+"\r\n-----END "+e+"-----\r\n"},this.Cw=function(t){var e=KJUR.bw,i=Object.keys(t);if(1!=i.length)throw"key of param shall be only one.";var r=i[0];if(":bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:seq:set:tag:".indexOf(":"+r+":")==-1)throw"undefined key: "+r;if("bool"==r)return new e.Ow(t[r]);if("int"==r)return new e.Pw(t[r]);if("bitstr"==r)return new e.Aw(t[r]);if("octstr"==r)return new e.Nw(t[r]);if("null"==r)return new e.xw(t[r]);if("oid"==r)return new e.Bw(t[r]);if("enum"==r)return new e.Fw(t[r]);if("utf8str"==r)return new e._w(t[r]);if("numstr"==r)return new e.Dw(t[r]);if("prnstr"==r)return new e.Hw(t[r]);if("telstr"==r)return new e.Lw(t[r]);if("ia5str"==r)return new e.Mw(t[r]);if("utctime"==r)return new e.jw(t[r]);if("gentime"==r)return new e.Uw(t[r]);if("seq"==r){for(var n=t[r],o=[],s=0;s<n.length;s++){var a=e.Ew.Cw(n[s]);o.push(a)}return new e.Vw({Hf:o})}if("set"==r){for(var n=t[r],o=[],s=0;s<n.length;s++){var a=e.Ew.Cw(n[s]);o.push(a)}return new e.Qw({Hf:o})}if("tag"==r){var c=t[r];if("[object Array]"===Object.prototype.toString.call(c)&&3==c.length){var h=e.Ew.Cw(c[2]);return new e.qw({tag:c[0],Jw:c[1],Kw:h})}var p={};if(void 0!==c.Jw&&(p.Jw=c.Jw),void 0!==c.tag&&(p.tag=c.tag),void 0===c.Kw)throw"obj shall be specified for 'tag'.";return p.Kw=e.Ew.Cw(c.Kw),new e.qw(p)}},this.Gw=function(t){var e=this.Cw(t);return e.zw()}},KJUR.bw.Ew.Ww=function(t){for(var e="",r=parseInt(t.substr(0,2),16),n=Math.floor(r/40),o=r%40,e=n+"."+o,s="",a=2;a<t.length;a+=2){var c=parseInt(t.substr(a,2),16),h=("00000000"+c.toString(2)).slice(-8);if(s+=h.substr(1,7),"0"==h.substr(0,1)){var p=new i(s,2);e=e+"."+p.toString(10),s=""}}return e},KJUR.bw.Ew.$w=function(t){var e=function(t){var e=t.toString(16);return 1==e.length&&(e="0"+e),e},r=function(t){var r="",n=new i(t,10),o=n.toString(2),s=7-o.length%7;7==s&&(s=0);for(var a="",c=0;c<s;c++)a+="0";o=a+o;for(var c=0;c<o.length-1;c+=7){var h=o.substr(c,7);c!=o.length-7&&(h="1"+h),r+=e(parseInt(h,2))}return r};if(!t.match(/^[0-9.]+$/))throw"malformed oid string: "+t;var n="",o=t.split("."),s=40*parseInt(o[0])+parseInt(o[1]);n+=e(s),o.splice(0,2);for(var a=0;a<o.length;a++)n+=r(o[a]);return n},KJUR.bw.Yw=function(){var t="";this.Xw=function(){if("undefined"==typeof this.Zw||null==this.Zw)throw"this.hV is null or undefined.";if(this.Zw.length%2==1)throw"value hex must be even length: n="+t.length+",v="+this.Zw;var e=this.Zw.length/2,i=e.toString(16);if(i.length%2==1&&(i="0"+i),e<128)return i;var r=i.length/2;if(r>15)throw"ASN.1 length too long to represent by 8x: n = "+e.toString(16);var n=128+r;return n.toString(16)+i},this.zw=function(){return(null==this.tT||this.eT)&&(this.Zw=this.iT(),this.rT=this.Xw(),this.tT=this.nT+this.rT+this.Zw,this.eT=!1),this.tT},this.oT=function(){return this.zw(),this.Zw},this.iT=function(){return""}},KJUR.bw.sT=function(t){KJUR.bw.sT.Dm.constructor.call(this);this.aT=function(){return this.ny},this.cT=function(t){this.tT=null,this.eT=!0,this.ny=t,this.Zw=stohex(this.ny)},this.hT=function(t){this.tT=null,this.eT=!0,this.ny=null,this.Zw=t},this.iT=function(){return this.Zw},"undefined"!=typeof t&&("string"==typeof t?this.cT(t):"undefined"!=typeof t.ac?this.cT(t.ac):"undefined"!=typeof t.pT&&this.hT(t.pT))},St.lang.extend(KJUR.bw.sT,KJUR.bw.Yw),KJUR.bw.uT=function(t){KJUR.bw.uT.Dm.constructor.call(this);this.lT=function(t){utc=t.getTime()+6e4*t.getTimezoneOffset();var e=new Date(utc);return e},this.dT=function(t,e,i){var r=this.fT,n=this.lT(t),o=String(n.getFullYear());"utc"==e&&(o=o.substr(2,2));var s=r(String(n.getMonth()+1),2),a=r(String(n.getDate()),2),c=r(String(n.getHours()),2),h=r(String(n.getMinutes()),2),p=r(String(n.getSeconds()),2),u=o+s+a+c+h+p;if(i===!0){var l=n.getMilliseconds();if(0!=l){var d=r(String(l),3);d=d.replace(/[0]+$/,""),u=u+"."+d}}return u+"Z"},this.fT=function(t,e){return t.length>=e?t:new Array(e-t.length+1).join("0")+t},this.aT=function(){return this.ny},this.cT=function(t){this.tT=null,this.eT=!0,this.ny=t,this.Zw=stohex(t)},this.gT=function(t,e,i,r,n,o){var s=new Date(Date.UTC(t,e-1,i,r,n,o,0));this.vT(s)},this.iT=function(){return this.Zw}},St.lang.extend(KJUR.bw.uT,KJUR.bw.Yw),KJUR.bw.yT=function(t){KJUR.bw.sT.Dm.constructor.call(this);this.mT=function(t){this.tT=null,this.eT=!0,this.wT=t},this.TT=function(t){this.tT=null,this.eT=!0,this.wT.push(t)},this.wT=new Array,"undefined"!=typeof t&&"undefined"!=typeof t.Hf&&(this.wT=t.Hf)},St.lang.extend(KJUR.bw.yT,KJUR.bw.Yw),KJUR.bw.Ow=function(){KJUR.bw.Ow.Dm.constructor.call(this),this.nT="01",this.tT="0101ff"},St.lang.extend(KJUR.bw.Ow,KJUR.bw.Yw),KJUR.bw.Pw=function(t){KJUR.bw.Pw.Dm.constructor.call(this),this.nT="02",this.ST=function(t){this.tT=null,this.eT=!0,this.Zw=KJUR.bw.Ew.Rw(t)},this.bT=function(t){var e=new i(String(t),10);this.ST(e)},this.ET=function(t){this.Zw=t},this.iT=function(){return this.Zw},"undefined"!=typeof t&&("undefined"!=typeof t.bigint?this.ST(t.bigint):"undefined"!=typeof t["int"]?this.bT(t["int"]):"number"==typeof t?this.bT(t):"undefined"!=typeof t.pT&&this.ET(t.pT))},St.lang.extend(KJUR.bw.Pw,KJUR.bw.Yw),KJUR.bw.Aw=function(t){KJUR.bw.Aw.Dm.constructor.call(this),this.nT="03",this.IT=function(t){this.tT=null,this.eT=!0,this.Zw=t},this.RT=function(t,e){if(t<0||7<t)throw"unused bits shall be from 0 to 7: u = "+t;var i="0"+t;this.tT=null,this.eT=!0,this.Zw=i+e},this.kT=function(t){t=t.replace(/0+$/,"");var e=8-t.length%8;8==e&&(e=0);for(var i=0;i<=e;i++)t+="0";for(var r="",i=0;i<t.length-1;i+=8){var n=t.substr(i,8),o=parseInt(n,2).toString(16);1==o.length&&(o="0"+o),r+=o}this.tT=null,this.eT=!0,this.Zw="0"+e+r},this.CT=function(t){for(var e="",i=0;i<t.length;i++)e+=1==t[i]?"1":"0";this.kT(e)},this.OT=function(t){for(var e=new Array(t),i=0;i<t;i++)e[i]=!1;return e},this.iT=function(){return this.Zw},"undefined"!=typeof t&&("string"==typeof t&&t.toLowerCase().match(/^[0-9a-f]+$/)?this.IT(t):"undefined"!=typeof t.pT?this.IT(t.pT):"undefined"!=typeof t.bin?this.kT(t.bin):"undefined"!=typeof t.Hf&&this.CT(t.Hf))},St.lang.extend(KJUR.bw.Aw,KJUR.bw.Yw),KJUR.bw.Nw=function(t){KJUR.bw.Nw.Dm.constructor.call(this,t),this.nT="04"},St.lang.extend(KJUR.bw.Nw,KJUR.bw.sT),KJUR.bw.xw=function(){KJUR.bw.xw.Dm.constructor.call(this),this.nT="05",this.tT="0500"},St.lang.extend(KJUR.bw.xw,KJUR.bw.Yw),KJUR.bw.Bw=function(t){var e=function(t){var e=t.toString(16);return 1==e.length&&(e="0"+e),e},r=function(t){var r="",n=new i(t,10),o=n.toString(2),s=7-o.length%7;7==s&&(s=0);for(var a="",c=0;c<s;c++)a+="0";o=a+o;for(var c=0;c<o.length-1;c+=7){var h=o.substr(c,7);c!=o.length-7&&(h="1"+h),r+=e(parseInt(h,2))}return r};KJUR.bw.Bw.Dm.constructor.call(this),this.nT="06",this.ET=function(t){this.tT=null,this.eT=!0,this.ny=null,this.Zw=t},this.PT=function(t){if(!t.match(/^[0-9.]+$/))throw"malformed oid string: "+t;var i="",n=t.split("."),o=40*parseInt(n[0])+parseInt(n[1]);i+=e(o),n.splice(0,2);for(var s=0;s<n.length;s++)i+=r(n[s]);this.tT=null,this.eT=!0,this.ny=null,this.Zw=i},this.AT=function(t){if("undefined"==typeof KJUR.bw.x509.NT.name2oidList[t])throw"DERObjectIdentifier oidName undefined: "+t;var e=KJUR.bw.x509.NT.name2oidList[t];this.PT(e)},this.iT=function(){return this.Zw},"undefined"!=typeof t&&("string"==typeof t&&t.match(/^[0-2].[0-9.]+$/)?this.PT(t):void 0!==KJUR.bw.x509.NT.name2oidList[t]?this.PT(KJUR.bw.x509.NT.name2oidList[t]):"undefined"!=typeof t.oid?this.PT(t.oid):"undefined"!=typeof t.pT?this.ET(t.pT):"undefined"!=typeof t.name&&this.AT(t.name))},St.lang.extend(KJUR.bw.Bw,KJUR.bw.Yw),KJUR.bw.Fw=function(t){KJUR.bw.Fw.Dm.constructor.call(this),this.nT="0a",this.ST=function(t){this.tT=null,this.eT=!0,this.Zw=KJUR.bw.Ew.Rw(t)},this.bT=function(t){var e=new i(String(t),10);this.ST(e)},this.ET=function(t){this.Zw=t},this.iT=function(){return this.Zw},"undefined"!=typeof t&&("undefined"!=typeof t["int"]?this.bT(t["int"]):"number"==typeof t?this.bT(t):"undefined"!=typeof t.pT&&this.ET(t.pT))},St.lang.extend(KJUR.bw.Fw,KJUR.bw.Yw),KJUR.bw._w=function(t){KJUR.bw._w.Dm.constructor.call(this,t),this.nT="0c"},St.lang.extend(KJUR.bw._w,KJUR.bw.sT),KJUR.bw.Dw=function(t){KJUR.bw.Dw.Dm.constructor.call(this,t),this.nT="12"},St.lang.extend(KJUR.bw.Dw,KJUR.bw.sT),KJUR.bw.Hw=function(t){KJUR.bw.Hw.Dm.constructor.call(this,t),this.nT="13"},St.lang.extend(KJUR.bw.Hw,KJUR.bw.sT),KJUR.bw.Lw=function(t){KJUR.bw.Lw.Dm.constructor.call(this,t),this.nT="14"},St.lang.extend(KJUR.bw.Lw,KJUR.bw.sT),KJUR.bw.Mw=function(t){KJUR.bw.Mw.Dm.constructor.call(this,t),this.nT="16"},St.lang.extend(KJUR.bw.Mw,KJUR.bw.sT),KJUR.bw.jw=function(t){KJUR.bw.jw.Dm.constructor.call(this,t),this.nT="17",this.vT=function(t){this.tT=null,this.eT=!0,this.xT=t,this.ny=this.dT(this.xT,"utc"),this.Zw=stohex(this.ny)},this.iT=function(){return"undefined"==typeof this.xT&&"undefined"==typeof this.ny&&(this.xT=new Date,this.ny=this.dT(this.xT,"utc"),this.Zw=stohex(this.ny)),this.Zw},void 0!==t&&(void 0!==t.ac?this.cT(t.ac):"string"==typeof t&&t.match(/^[0-9]{12}Z$/)?this.cT(t):void 0!==t.pT?this.hT(t.pT):void 0!==t.xT&&this.vT(t.xT))},St.lang.extend(KJUR.bw.jw,KJUR.bw.uT),KJUR.bw.Uw=function(t){KJUR.bw.Uw.Dm.constructor.call(this,t),this.nT="18",this.BT=!1,this.vT=function(t){this.tT=null,this.eT=!0,this.xT=t,this.ny=this.dT(this.xT,"gen",this.BT),this.Zw=stohex(this.ny)},this.iT=function(){return void 0===this.xT&&void 0===this.ny&&(this.xT=new Date,this.ny=this.dT(this.xT,"gen",this.BT),this.Zw=stohex(this.ny)),this.Zw},void 0!==t&&(void 0!==t.ac?this.cT(t.ac):"string"==typeof t&&t.match(/^[0-9]{14}Z$/)?this.cT(t):void 0!==t.pT?this.hT(t.pT):void 0!==t.xT&&this.vT(t.xT),t.millis===!0&&(this.BT=!0))},St.lang.extend(KJUR.bw.Uw,KJUR.bw.uT),KJUR.bw.Vw=function(t){KJUR.bw.Vw.Dm.constructor.call(this,t),this.nT="30",this.iT=function(){for(var t="",e=0;e<this.wT.length;e++){var i=this.wT[e];t+=i.zw()}return this.Zw=t,this.Zw}},St.lang.extend(KJUR.bw.Vw,KJUR.bw.yT),KJUR.bw.Qw=function(t){KJUR.bw.Qw.Dm.constructor.call(this,t),this.nT="31",this.FT=!0,this.iT=function(){for(var t=new Array,e=0;e<this.wT.length;e++){var i=this.wT[e];t.push(i.zw())}return 1==this.FT&&t.sort(),this.Zw=t.join(""),this.Zw},"undefined"!=typeof t&&"undefined"!=typeof t.sortflag&&0==t.sortflag&&(this.FT=!1)},St.lang.extend(KJUR.bw.Qw,KJUR.bw.yT),KJUR.bw.qw=function(t){KJUR.bw.qw.Dm.constructor.call(this),this.nT="a0",this.Zw="",this._T=!0,this.DT=null,this.HT=function(t,e,i){this.nT=e,this._T=t,this.DT=i,this._T?(this.Zw=this.DT.zw(),this.tT=null,this.eT=!0):(this.Zw=null,this.tT=i.zw(),this.tT=this.tT.replace(/^../,e),this.eT=!1)},this.iT=function(){return this.Zw},"undefined"!=typeof t&&("undefined"!=typeof t.tag&&(this.nT=t.tag),"undefined"!=typeof t.Jw&&(this._T=t.Jw),"undefined"!=typeof t.Kw&&(this.DT=t.Kw,this.HT(this._T,this.nT,this.DT)))},St.lang.extend(KJUR.bw.qw,KJUR.bw.Yw);/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/ */
  var Nt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",xt="=";/*! crypto-1.1.8.js (c) 2013-2016 Kenji Urushima | kjur.github.com/jsrsasign/license
   */
  "undefined"!=typeof KJUR&&KJUR||(KJUR={}),"undefined"!=typeof KJUR.crypto&&KJUR.crypto||(KJUR.crypto={}),KJUR.crypto.Wy=new function(){this.tm={sha1:"3021300906052b0e03021a05000414",LT:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",MT:"3041300d060960864801650304020205000430",jT:"3051300d060960864801650304020305000440",UT:"3020300c06082a864886f70d020205000410",VT:"3020300c06082a864886f70d020505000410",QT:"3021300906052b2403020105000414"},this.qT={VT:"cryptojs",sha1:"cryptojs",LT:"cryptojs",sha256:"cryptojs",MT:"cryptojs",jT:"cryptojs",QT:"cryptojs",JT:"cryptojs",KT:"cryptojs",GT:"cryptojs",zT:"cryptojs",WT:"cryptojs",$T:"cryptojs",YT:"cryptojs",XT:"cryptojs/jsrsa",ZT:"cryptojs/jsrsa",tS:"cryptojs/jsrsa",eS:"cryptojs/jsrsa",iS:"cryptojs/jsrsa",rS:"cryptojs/jsrsa",nS:"cryptojs/jsrsa",oS:"cryptojs/jsrsa",sS:"cryptojs/jsrsa",aS:"cryptojs/jsrsa",cS:"cryptojs/jsrsa",hS:"cryptojs/jsrsa",pS:"cryptojs/jsrsa",uS:"cryptojs/jsrsa",lS:"cryptojs/jsrsa",dS:"cryptojs/jsrsa",fS:"cryptojs/jsrsa",gS:"cryptojs/jsrsa",vS:"cryptojs/jsrsa",yS:"cryptojs/jsrsa",mS:"cryptojs/jsrsa",wS:"cryptojs/jsrsa",TS:"cryptojs/jsrsa",SS:"cryptojs/jsrsa"},this.bS={VT:bt.vw.yw,sha1:bt.vw.Tw,LT:bt.vw.SHA224,sha256:bt.vw.SHA256,MT:bt.vw.SHA384,jT:bt.vw.SHA512,QT:bt.vw.RIPEMD160},this.ES=function(t,e){if("undefined"==typeof this.tm[e])throw"alg not supported in Util.DIGESTINFOHEAD: "+e;return this.tm[e]+t},this.Yy=function(t,e,i){var r=this.ES(t,e),n=i/4;if(r.length+22>n)throw"key is too short for SigAlg: keylen="+i+","+e;for(var o="0001",s="00"+r,a="",c=n-o.length-s.length,h=0;h<c;h+=2)a+="ff";var p=o+a+s;return p},this.zy=function(t,e){var i=new KJUR.crypto.IS({RS:e});return i.kS(t)},this.Xy=function(t,e){var i=new KJUR.crypto.IS({RS:e});return i.CS(t)},this.sha1=function(t){var e=new KJUR.crypto.IS({RS:"sha1",OS:"cryptojs"});return e.kS(t)},this.sha256=function(t){var e=new KJUR.crypto.IS({RS:"sha256",OS:"cryptojs"});return e.kS(t)},this.PS=function(t){var e=new KJUR.crypto.IS({RS:"sha256",OS:"cryptojs"});return e.CS(t)},this.jT=function(t){var e=new KJUR.crypto.IS({RS:"sha512",OS:"cryptojs"});return e.kS(t)},this.NS=function(t){var e=new KJUR.crypto.IS({RS:"sha512",OS:"cryptojs"});return e.CS(t)},this.VT=function(t){var e=new KJUR.crypto.IS({RS:"md5",OS:"cryptojs"});return e.kS(t)},this.QT=function(t){var e=new KJUR.crypto.IS({RS:"ripemd160",OS:"cryptojs"});return e.kS(t)},this.xS=function(t){}},KJUR.crypto.IS=function(t){this.BS=function(t,e){if(null!=t&&void 0===e&&(e=KJUR.crypto.Wy.qT[t]),":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(t)!=-1&&"cryptojs"==e){try{this.FS=KJUR.crypto.Wy.bS[t].create()}catch(i){throw"setAlgAndProvider hash alg set fail alg="+t+"/"+i}this._S=function(t){this.FS.update(t)},this.DS=function(t){var e=bt.Ym.Xm.parse(t);this.FS.update(e)},this.digest=function(){var t=this.FS.lw();return t.toString(bt.Ym.Xm)},this.kS=function(t){return this._S(t),this.digest()},this.CS=function(t){return this.DS(t),this.digest()}}if(":sha256:".indexOf(t)!=-1&&"sjcl"==e){try{this.FS=new sjcl.hash.sha256}catch(i){throw"setAlgAndProvider hash alg set fail alg="+t+"/"+i}this._S=function(t){this.FS.update(t)},this.DS=function(t){var e=sjcl.codec.pT.toBits(t);this.FS.update(e)},this.digest=function(){var t=this.FS.lw();return sjcl.codec.pT.fromBits(t)},this.kS=function(t){return this._S(t),this.digest()},this.CS=function(t){return this.DS(t),this.digest()}}},this._S=function(t){throw"updateString(str) not supported for this alg/prov: "+this.HS+"/"+this.LS},this.DS=function(t){throw"updateHex(hex) not supported for this alg/prov: "+this.HS+"/"+this.LS},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.HS+"/"+this.LS},this.kS=function(t){throw"digestString(str) not supported for this alg/prov: "+this.HS+"/"+this.LS},this.CS=function(t){throw"digestHex(hex) not supported for this alg/prov: "+this.HS+"/"+this.LS},void 0!==t&&void 0!==t.RS&&(this.HS=t.RS,void 0===t.OS&&(this.LS=KJUR.crypto.Wy.qT[this.HS]),this.BS(this.HS,this.LS))},KJUR.crypto.MS=function(t){this.BS=function(t,e){if(t=t.toLowerCase(),null==t&&(t="hmacsha1"),t=t.toLowerCase(),"hmac"!=t.substr(0,4))throw"setAlgAndProvider unsupported HMAC alg: "+t;void 0===e&&(e=KJUR.crypto.Wy.qT[t]),this.jS=t+"/"+e;var i=t.substr(4);if(":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(i)!=-1&&"cryptojs"==e){try{var r=KJUR.crypto.Wy.bS[i];this.mac=bt.vw.HMAC.create(r,this.US)}catch(n){throw"setAlgAndProvider hash alg set fail hashAlg="+i+"/"+n}this._S=function(t){this.mac.update(t)},this.DS=function(t){var e=bt.Ym.Xm.parse(t);this.mac.update(e)},this.VS=function(){var t=this.mac.lw();return t.toString(bt.Ym.Xm)},this.QS=function(t){return this._S(t),this.VS()},this.qS=function(t){return this.DS(t),this.VS()}}},this._S=function(t){throw"updateString(str) not supported for this alg/prov: "+this.jS},this.DS=function(t){throw"updateHex(hex) not supported for this alg/prov: "+this.jS},this.VS=function(){throw"digest() not supported for this alg/prov: "+this.jS},this.QS=function(t){throw"digestString(str) not supported for this alg/prov: "+this.jS},this.qS=function(t){throw"digestHex(hex) not supported for this alg/prov: "+this.jS},this.JS=function(t){if("string"==typeof t){var e=t;return t.length%2!=1&&t.match(/^[0-9A-Fa-f]+$/)||(e=rstrtohex(t)),void(this.US=bt.Ym.Xm.parse(e))}if("object"!=typeof t)throw"KJUR.crypto.Mac unsupported password type: "+t;var e=null;if(void 0!==t.pT){if(t.pT.length%2!=0||!t.pT.match(/^[0-9A-Fa-f]+$/))throw"Mac: wrong hex password: "+t.pT;e=t.pT}if(void 0!==t.utf8&&(e=utf8tohex(t.utf8)),void 0!==t.rstr&&(e=rstrtohex(t.rstr)),void 0!==t.b64&&(e=J(t.b64)),void 0!==t.b64u&&(e=b64utohex(t.b64u)),null==e)throw"KJUR.crypto.Mac unsupported password type: "+t;this.US=bt.Ym.Xm.parse(e)},void 0!==t&&(void 0!==t.US&&this.JS(t.US),void 0!==t.RS&&(this.HS=t.RS,void 0===t.OS&&(this.LS=KJUR.crypto.Wy.qT[this.HS]),this.BS(this.HS,this.LS)))},KJUR.crypto.Signature=function(t){var e=null;if(this.KS=function(){this.HS.match(/^(.+)with(.+)$/)&&(this.GS=RegExp.$1.toLowerCase(),this.zS=RegExp.$2.toLowerCase())},this.WS=function(t,e){for(var i="",r=e/4-t.length,n=0;n<r;n++)i+="0";return i+t},this.BS=function(t,e){if(this.KS(),"cryptojs/jsrsa"!=e)throw"provider not supported: "+e;if(":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.GS)!=-1){try{this.FS=new KJUR.crypto.IS({RS:this.GS})}catch(i){throw"setAlgAndProvider hash alg set fail alg="+this.GS+"/"+i}this.init=function(t,e){var i=null;try{i=void 0===e?KEYUTIL.getKey(t):KEYUTIL.getKey(t,e)}catch(r){throw"init failed:"+r}if(i.isPrivate===!0)this.$S=i,this.state="SIGN";else{if(i.qy!==!0)throw"init failed.:"+i;this.YS=i,this.state="VERIFY"}},this.XS=function(t){"string"==typeof t.ZS&&"string"==typeof t.tb?(this.ZS=t.ZS,this.tb=t.tb):this.$S=t,this.state="SIGN"},this.eb=function(t){"string"==typeof t.ib&&"string"==typeof t.tb?(this.ib=t.ib,this.tb=t.tb):t instanceof KJUR.crypto.ECDSA?this.YS=t:t instanceof Y&&(this.YS=t),this.state="VERIFY"},this.rb=function(t){var e=new X509;e.readCertPEM(t),this.YS=e.nb,this.state="VERIFY"},this._S=function(t){this.FS._S(t)},this.DS=function(t){this.FS.DS(t)},this.sign=function(){if(this.ob=this.FS.digest(),"undefined"!=typeof this.ZS&&"undefined"!=typeof this.tb){var t=new KJUR.crypto.ECDSA({curve:this.tb});this.sb=t.ab(this.ob,this.ZS)}else if(this.$S instanceof Y&&"rsaandmgf1"==this.zS)this.sb=this.$S.Zy(this.ob,this.GS,this.cb);else if(this.$S instanceof Y&&"rsa"==this.zS)this.sb=this.$S.$y(this.ob,this.GS);else if(this.$S instanceof KJUR.crypto.ECDSA)this.sb=this.$S.$y(this.ob);else{if(!(this.$S instanceof KJUR.crypto.DSA))throw"Signature: unsupported public key alg: "+this.zS;this.sb=this.$S.$y(this.ob)}return this.sb},this.hb=function(t){return this._S(t),this.sign()},this.ab=function(t){return this.DS(t),this.sign()},this.verify=function(t){if(this.ob=this.FS.digest(),"undefined"!=typeof this.ib&&"undefined"!=typeof this.tb){var e=new KJUR.crypto.ECDSA({curve:this.tb});return e.verifyHex(this.ob,t,this.ib)}if(this.YS instanceof Y&&"rsaandmgf1"==this.zS)return this.YS.em(this.ob,t,this.GS,this.cb);if(this.YS instanceof Y&&"rsa"==this.zS)return this.YS.pb(this.ob,t);if(this.YS instanceof KJUR.crypto.ECDSA)return this.YS.pb(this.ob,t);if(this.YS instanceof KJUR.crypto.DSA)return this.YS.pb(this.ob,t);throw"Signature: unsupported public key alg: "+this.zS}}},this.init=function(t,e){throw"init(key, pass) not supported for this alg:prov="+this.ub},this.eb=function(t){throw"initVerifyByPublicKey(rsaPubKeyy) not supported for this alg:prov="+this.ub},this.rb=function(t){throw"initVerifyByCertificatePEM(certPEM) not supported for this alg:prov="+this.ub},this.XS=function(t){throw"initSign(prvKey) not supported for this alg:prov="+this.ub},this._S=function(t){throw"updateString(str) not supported for this alg:prov="+this.ub},this.DS=function(t){throw"updateHex(hex) not supported for this alg:prov="+this.ub},this.sign=function(){throw"sign() not supported for this alg:prov="+this.ub},this.hb=function(t){throw"digestString(str) not supported for this alg:prov="+this.ub},this.ab=function(t){throw"digestHex(hex) not supported for this alg:prov="+this.ub},this.verify=function(t){throw"verify(hSigVal) not supported for this alg:prov="+this.ub},this.lb=t,void 0!==t&&(void 0!==t.RS&&(this.HS=t.RS,void 0===t.OS?this.LS=KJUR.crypto.Wy.qT[this.HS]:this.LS=t.OS,this.ub=this.HS+":"+this.LS,this.BS(this.HS,this.LS),this.KS()),void 0!==t.fb&&(this.cb=t.fb),void 0!==t.prvkeypem)){if(void 0!==t.prvkeypas)throw"both prvkeypem and prvkeypas parameters not supported";try{var e=new Y;e.readPrivateKeyFromPEMString(t.prvkeypem),this.XS(e)}catch(i){throw"fatal error to load pem private key: "+i}}},KJUR.crypto.NT=new function(){this.gb={vb:"rsaEncryption",yb:"ecPublicKey",mb:"dsa",wb:"secp256r1",Tb:"secp192k1",Sb:"secp224r1",bb:"secp256k1",Eb:"secp521r1",Ib:"secp384r1",Rb:"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}};var Bt=20;Y.prototype.Gy=Z,Y.prototype.qh=X,Y.prototype.encrypt=tt,Y.prototype.kb=et,Y.prototype.type="RSA";/*! rsasign-1.2.7.js (c) 2012 Kenji Urushima | kjur.github.com/jsrsasign/license
   */
  var Ft=new RegExp("");Ft.compile("[^0-9a-f]","gi"),Y.prototype.$y=nt,Y.prototype.hb=rt,Y.prototype.Cb=ot,Y.prototype.Ob=st,Y.prototype.sign=rt,Y.prototype.Pb=ot,Y.prototype.Ab=st,Y.prototype.Zy=ht,Y.prototype.Nb=ct,Y.prototype.xb=ct,Y.Bb=-1,Y.Fb=-2,Y.prototype.pb=vt,Y.prototype.Jh=gt,Y.prototype._b=ft,Y.prototype.verify=gt,Y.prototype.Db=ft,Y.prototype.em=mt,Y.prototype.Hb=yt,Y.prototype.Lb=yt,Y.Mb=-2,e.jb=i,e.Mh=Y,e.Signature=KJUR.crypto.Signature,e.IS=KJUR.crypto.IS,e.Ub=bt,e.jh=J,e.Vb=K},function(t,e){"use strict";var i={};i.Qb=function(){return Math.random().toString(36).substr(2,10)},i.qb=i.Qb(),i.Jb=function(t){return t.trim().split("\n").map(function(t){return t.trim()})},i.Kb=function(t){var e=t.split("\nm=");return e.map(function(t,e){return(e>0?"m="+t:t).trim()+"\r\n"})},i.Gb=function(t,e){return i.Jb(t).filter(function(t){return 0===t.indexOf(e)})},i.zb=function(t){var e;e=0===t.indexOf("a=candidate:")?t.substring(12).split(" "):t.substring(10).split(" ");for(var i={Wb:e[0],$b:e[1],protocol:e[2].toLowerCase(),Yb:parseInt(e[3],10),Xb:e[4],port:parseInt(e[5],10),type:e[7]},r=8;r<e.length;r+=2)switch(e[r]){case"raddr":i.Zb=e[r+1];break;case"rport":i.tE=parseInt(e[r+1],10);break;case"tcptype":i.eE=e[r+1];break;default:i[e[r]]=e[r+1]}return i},i.iE=function(t){var e=[];e.push(t.Wb),e.push(t.$b),e.push(t.protocol.toUpperCase()),e.push(t.Yb),e.push(t.Xb),e.push(t.port);var i=t.type;return e.push("typ"),e.push(i),"host"!==i&&t.Zb&&t.tE&&(e.push("raddr"),e.push(t.Zb),e.push("rport"),e.push(t.tE)),t.eE&&"tcp"===t.protocol.toLowerCase()&&(e.push("tcptype"),e.push(t.eE)),"candidate:"+e.join(" ")},i.rE=function(t){return t.substr(14).split(" ")},i.nE=function(t){var e=t.substr(9).split(" "),i={oE:parseInt(e.shift(),10)};return e=e[0].split("/"),i.name=e[0],i.sE=parseInt(e[1],10),i.aE=3===e.length?parseInt(e[2],10):1,i},i.cE=function(t){var e=t.oE;return void 0!==t.hE&&(e=t.hE),"a=rtpmap:"+e+" "+t.name+"/"+t.sE+(1!==t.aE?"/"+t.aE:"")+"\r\n"},i.pE=function(t){var e=t.substr(9).split(" ");return{id:parseInt(e[0],10),direction:e[0].indexOf("/")>0?e[0].split("/")[1]:"sendrecv",uri:e[1]}},i.uE=function(t){return"a=extmap:"+(t.id||t.preferredId)+(t.direction&&"sendrecv"!==t.direction?"/"+t.direction:"")+" "+t.uri+"\r\n"},i.lE=function(t){for(var e,i={},r=t.substr(t.indexOf(" ")+1).split(";"),n=0;n<r.length;n++)e=r[n].trim().split("="),i[e[0].trim()]=e[1];return i},i.dE=function(t){var e="",i=t.oE;if(void 0!==t.hE&&(i=t.hE),t.parameters&&Object.keys(t.parameters).length){var r=[];Object.keys(t.parameters).forEach(function(e){r.push(e+"="+t.parameters[e])}),e+="a=fmtp:"+i+" "+r.join(";")+"\r\n"}return e},i.fE=function(t){var e=t.substr(t.indexOf(" ")+1).split(" ");return{type:e.shift(),gE:e.join(" ")}},i.vE=function(t){var e="",i=t.oE;return void 0!==t.hE&&(i=t.hE),t.yE&&t.yE.length&&t.yE.forEach(function(t){e+="a=rtcp-fb:"+i+" "+t.type+(t.gE&&t.gE.length?" "+t.gE:"")+"\r\n"}),e},i.mE=function(t){var e=t.indexOf(" "),i={wE:parseInt(t.substr(7,e-7),10)},r=t.indexOf(":",e);return r>-1?(i.TE=t.substr(e+1,r-e-1),i.value=t.substr(r+1)):i.TE=t.substr(e+1),i},i.SE=function(t){var e=i.Gb(t,"a=mid:")[0];if(e)return e.substr(6)},i.bE=function(t){var e=t.substr(14).split(" ");return{algorithm:e[0].toLowerCase(),value:e[1]}},i.EE=function(t,e){var r=i.Gb(t+e,"a=fingerprint:");return{IE:"auto",RE:r.map(i.bE)}},i.kE=function(t,e){var i="a=setup:"+e+"\r\n";return t.RE.forEach(function(t){i+="a=fingerprint:"+t.algorithm+" "+t.value+"\r\n"}),i},i.CE=function(t,e){var r=i.Jb(t);r=r.concat(i.Jb(e));var n={OE:r.filter(function(t){return 0===t.indexOf("a=ice-ufrag:")})[0].substr(12),password:r.filter(function(t){return 0===t.indexOf("a=ice-pwd:")})[0].substr(10)};return n},i.PE=function(t){return"a=ice-ufrag:"+t.OE+"\r\na=ice-pwd:"+t.password+"\r\n"},i.AE=function(t){for(var e={NE:[],xE:[],BE:[],FE:[]},r=i.Jb(t),n=r[0].split(" "),o=3;o<n.length;o++){var s=n[o],a=i.Gb(t,"a=rtpmap:"+s+" ")[0];if(a){var c=i.nE(a),h=i.Gb(t,"a=fmtp:"+s+" ");switch(c.parameters=h.length?i.lE(h[0]):{},c.yE=i.Gb(t,"a=rtcp-fb:"+s+" ").map(i.fE),e.NE.push(c),c.name.toUpperCase()){case"RED":case"ULPFEC":e.BE.push(c.name.toUpperCase())}}}return i.Gb(t,"a=extmap:").forEach(function(t){e.xE.push(i.pE(t))}),e},i._E=function(t,e){var r="";r+="m="+t+" ",r+=e.NE.length>0?"9":"0",r+=" UDP/TLS/RTP/SAVPF ",r+=e.NE.map(function(t){return void 0!==t.hE?t.hE:t.oE}).join(" ")+"\r\n",r+="c=IN IP4 0.0.0.0\r\n",r+="a=rtcp:9 IN IP4 0.0.0.0\r\n",e.NE.forEach(function(t){r+=i.cE(t),r+=i.dE(t),r+=i.vE(t)});var n=0;return e.NE.forEach(function(t){t.DE>n&&(n=t.DE)}),n>0&&(r+="a=maxptime:"+n+"\r\n"),r+="a=rtcp-mux\r\n",e.xE.forEach(function(t){r+=i.uE(t)}),r},i.HE=function(t){var e,r=[],n=i.AE(t),o=n.BE.indexOf("RED")!==-1,s=n.BE.indexOf("ULPFEC")!==-1,a=i.Gb(t,"a=ssrc:").map(function(t){return i.mE(t)}).filter(function(t){return"cname"===t.TE}),c=a.length>0&&a[0].wE,h=i.Gb(t,"a=ssrc-group:FID").map(function(t){var e=t.split(" ");return e.shift(),e.map(function(t){return parseInt(t,10)})});h.length>0&&h[0].length>1&&h[0][0]===c&&(e=h[0][1]),n.NE.forEach(function(t){if("RTX"===t.name.toUpperCase()&&t.parameters.apt){var i={wE:c,LE:parseInt(t.parameters.apt,10),ME:{wE:e}};r.push(i),o&&(i=JSON.parse(JSON.stringify(i)),i.jE={wE:e,UE:s?"red+ulpfec":"red"},r.push(i))}}),0===r.length&&c&&r.push({wE:c});var p=i.Gb(t,"b=");return p.length&&(0===p[0].indexOf("b=TIAS:")?p=parseInt(p[0].substr(7),10):0===p[0].indexOf("b=AS:")&&(p=parseInt(p[0].substr(5),10)),r.forEach(function(t){t.VE=p})),r},i.QE=function(t){var e={},r=i.Gb(t,"a=ssrc:").map(function(t){return i.mE(t)}).filter(function(t){return"cname"===t.TE})[0];r&&(e.qE=r.value,e.wE=r.wE);var n=i.Gb(t,"a=rtcp-rsize");e.JE=n.length>0,e.KE=0===n.length;var o=i.Gb(t,"a=rtcp-mux");return e.GE=o.length>0,e},i.zE=function(t){var e,r=i.Gb(t,"a=msid:");if(1===r.length)return e=r[0].substr(7).split(" "),{stream:e[0],track:e[1]};var n=i.Gb(t,"a=ssrc:").map(function(t){return i.mE(t)}).filter(function(t){return"msid"===t.TE});return n.length>0?(e=n[0].value.split(" "),{stream:e[0],track:e[1]}):void 0},i.WE=function(){return"v=0\r\no=thisisadapterortc 8169639915646943137 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},i.$E=function(t,e,r,n){var o=i._E(t.kind,e);if(o+=i.PE(t.YE.getLocalParameters()),o+=i.kE(t.XE.getLocalParameters(),"offer"===r?"actpass":"active"),o+="a=mid:"+t.ZE+"\r\n",o+=t.direction?"a="+t.direction+"\r\n":t.tI&&t.eI?"a=sendrecv\r\n":t.tI?"a=sendonly\r\n":t.eI?"a=recvonly\r\n":"a=inactive\r\n",t.tI){var s="msid:"+n.id+" "+t.tI.track.id+"\r\n";o+="a="+s,o+="a=ssrc:"+t.iI[0].wE+" "+s,t.iI[0].ME&&(o+="a=ssrc:"+t.iI[0].ME.wE+" "+s,o+="a=ssrc-group:FID "+t.iI[0].wE+" "+t.iI[0].ME.wE+"\r\n")}return o+="a=ssrc:"+t.iI[0].wE+" cname:"+i.qb+"\r\n",t.tI&&t.iI[0].ME&&(o+="a=ssrc:"+t.iI[0].ME.wE+" cname:"+i.qb+"\r\n"),o},i.rI=function(t,e){for(var r=i.Jb(t),n=0;n<r.length;n++)switch(r[n]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return r[n].substr(2)}return e?i.rI(e):"sendrecv"},i.nI=function(t){var e=i.Jb(t),r=e[0].split(" ");return r[0].substr(2)},i.Ut=function(t){return"0"===t.split(" ",2)[1]},t.t=i},function(t,e,i){"use strict";var r=i(1),n=i(10),o=function(){function t(t,e){this.msg=t,this.oI=Date.now()+e,this.sI=r.defer()}return t.prototype.aI=function(){return Date.now()>=this.oI},t}(),s=function(){function t(t,e,i,r,n,o,s){void 0===e&&(e=3e4),void 0===i&&(i=100),void 0===r&&(r=3e4),void 0===n&&(n=15e3),void 0===o&&(o=Date),void 0===s&&(s=!1),this.cI=1,this.hI=-1,this.pI=-1,this.uI={},this.lI=[],this.dI=[],this.fI=!1,this.gI=!0,this.vI=t,this.yI=Array(),this.Ao=e,this.No=i,this.xo=r,this.mI=n,this.wI=o,this.fI=s||/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge./i.test(navigator.userAgent)}return t.prototype.Et=function(t){var e=t.service+"_"+t.msgId,i=this.uI[e];null!=i?i(t):n.m().error(n.u+"Could not find a dispatcher for ",t,e,this.uI)},t.prototype.on=function(t,e,i){this.uI[t+"_"+e]=i},t.prototype.onerror=function(t){this.lI.push(t)},t.prototype.TI=function(t){this.dI.push(t)},t.prototype.SI=function(){var t=this;if(!window.WebSocket)return void this.lI.forEach(function(t){return t("WebSocket not defined")});var e=new WebSocket(this.vI);return e.binaryType="arraybuffer",e.onopen=function(e){t.bI(),n.m().debug(n.u+"HiveServicesConnection established to "+t.vI),t.pI=(new t.wI).getTime(),t.EI(),t.dI.forEach(function(e){return e(t)}),t.II(),t.RI()},e.onclose=function(e){t.close(t.gI),t.connect()},e.onmessage=function(e){t.Et(n.Zn.wo(e.data))},e.onerror=function(e){t.close(!0),t.lI.forEach(function(t){return t(e.toString())})},e},t.prototype.isOpen=function(){return null!=this.Op&&this.Op.readyState==this.Op.OPEN},t.prototype.connect=function(t){var e=this;t&&(this.gI=!0),this.gI&&1!=this.isOpen()&&(this.hI>0||(this.pI>-1&&(new this.wI).getTime()-this.pI>this.Ao?(this.cI=n.ke.yo,this.pI=-1):this.cI=Math.min(2*this.cI,this.Ao),this.hI=window.setTimeout(function(){e.hI=-1,n.m().debug(n.u+"Connection attempt to "+e.vI+" [t:"+e.cI+" hb:"+e.fI+"]"),e.Op=e.SI(),e.cI=Math.max(e.cI,n.ke.yo)},this.cI)))},t.prototype.bI=function(){this.hI>-1&&(clearTimeout(this.hI),this.hI=-1)},t.prototype.close=function(t){this.gI=void 0!=t&&t,n.m().debug(n.u+"Closing connection [reconnect:"+this.gI+"]"),this.bI(),null!=this.Op&&(this.Op.close(),this.Op=null)},t.prototype.EI=function(){for(;this.yI.length>0;){var t=this.yI.pop();try{t.aI()?t.sI.reject(new Error("Message expired")):(this.II(),this.Op.send(t.msg.mo()))}catch(e){if(e.code===DOMException.INVALID_STATE_ERR){this.yI.push(t);break}n.m().error(n.u+"Failed to send the message, dropped: ",e.code,e.name),t.sI.reject(e)}}this.RI()},t.prototype.II=function(){this.kI&&(clearTimeout(this.kI),this.kI=null)},t.prototype.RI=function(){var t=this;this.fI&&!this.kI&&(this.kI=window.setInterval(function(){t.send(new n.Zn(Services.Cf,0,""))},this.mI))},t.prototype.send=function(t,e){if(void 0===e&&(e=this.xo),this.yI.length>=this.No)throw new Error("HiveServices connection cannot queue more messages");var i=new o(t,e);return this.yI.push(i),this.Op&&this.EI(),i.sI.vt},t.prototype.CI=function(t){this.fI=t,this.fI&&this.RI()},t.prototype.OI=function(){return null!=this.Op},t}();e.AI=s},function(t,e,i){"use strict";var r=i(15),n=i(38),o=i(24),s=i(2),a=function(){function t(){}return t.prototype.apply=function(t){t.bind(new r.ns(s.Framework.Fe.me,n.NI,r.ss.ls)),t.bind(new r.ns(s.Framework.Fe.we,o.El.bl))},t}();e.Td=a},function(t,e){"use strict";var i=function(){function t(){"undefined"!=typeof global?this.xI=global:this.xI=window}return t.prototype.Ct=function(){return!1},t.prototype.BI=function(t,e,i){},t.prototype.be=function(){},t.prototype.time=function(){return+new Date},t.prototype.setTimeout=function(t,e){var i=this.xI.setTimeout(function(){t()},e);return i},t.prototype.clearTimeout=function(t){return this.xI.clearTimeout(t),!0},t.prototype.setInterval=function(t,e){var i=this.xI.setInterval(function(){t()},e);return i},t.prototype.clearInterval=function(t){return this.xI.clearInterval(t),!0},t}();e.NI=i},function(t,e){"use strict";var i=function(){function t(t,e){this.Uo=t,this.Vo=e}return t.prototype.Wo=function(){return this.Uo},t.prototype.$o=function(){return this.Vo?this.Vo:this.Uo},t}();e.FI=i},function(t,e,i){"use strict";var r,n=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},o=i(8),s=o.pt.Ir.Ir,a=o.pt.Ir.kr;!function(t){var e;!function(t){var e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.authTokenEnabled=!0,e.dashRemoveBitrateSize=!1,e.dashFilterBitrates=null,e.logJsonSnapshots=void 0,e}return n(e,t),e}(s);t.Fl=e;var i=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hiveAuthTokenEnabled="authTokenEnabled",e.hiveDashRemoveBitrateSize="dashRemoveBitrateSize",e.hiveDashFilterBitrates="dashFilterBitrates",e.hiveLogJsonSnapshots="logJsonSnapshots",e}return n(e,t),e}(a);t.Dl=i}(e=t.Ir||(t.Ir={}))}(r=e.pt||(e.pt={}));var c=function(){function t(){}return t.Hl=function(t){"dashRemoveBitrateSize"in t&&t.dashRemoveBitrateSize&&window.HiveConfig&&window.HiveConfig.Dash&&(window.HiveConfig.Dash.DashRemoveBitrateSize=t.dashRemoveBitrateSize),"dashFilterBitrates"in t&&t.dashFilterBitrates&&window.HiveConfig&&window.HiveConfig.Dash&&(window.HiveConfig.Dash.DashFilterBitrates=t.dashFilterBitrates),"logJsonSnapshots"in t&&t.logJsonSnapshots&&window.HiveConfig&&window.HiveConfig.DebugLogs&&(window.HiveConfig.DebugLogs.MetricSnapshotLogs=1,window.HiveConfig.DebugLogs.TrackSnapshotLogs=1,window.HiveConfig.DebugLogs.gl=1)},t}();e.Ll=c},function(t,e){"use strict";var i=function(){function t(){var e=this;if(this._I=new Array,this.callbacks=new Array,t.Gi)throw new Error("Error: Instantiation failed: Use KeyHandlerHiveComm.getInstance() instead of new.");var i={};document.addEventListener("keydown",function(t){i[t.keyCode]=!0,e.DI(i)},!0),document.addEventListener("keyup",function(t){i={}},!0)}return t.Wi=function(){return void 0===this.Gi&&(this.Gi=new t),this.Gi},t.prototype.Dh=function(t,e){this._I.push(t),this.callbacks.push(e)},t.prototype.DI=function(t){for(var e=function(e){var r=!0;i._I[e].forEach(function(e){void 0!=t[e]&&t[e]||(r=!1)}),r&&i.callbacks[e]()},i=this,r=0;r<this._I.length;r++)e(r)},t}();e.Hh=i},function(t,e,i){"use strict";var r=i(12),n=i(18),o=i(7),s=function(){function t(t){this.HI=n.ke.yr?9989:9988,this.LI=-1,this.MI=t,this.jI()}return t.prototype.jI=function(){var t=this;this.MI.options().silent&&void 0===this.UI&&(this.url="//"+r.wr.To+":"+this.HI+"/feedback",this.MI.m().info("starting periodic alive ping to hive tester ["+this.url+"]"),this.UI=setInterval(function(){t.VI()},n.ke.Nh))},t.prototype.VI=function(){var t=this,e=this.MI.getCurrentTime();e>this.LI?(this.MI.m().info("sending hive tester ping ["+e+" > "+this.LI+"]"),o.Zi(this.url).then(function(t){},function(e){t.MI.m().error("error sending hive tester ping",e),clearInterval(t.UI)})):this.MI.m().warn("not sending hive tester ping ["+e+" <= "+this.LI+"]"),this.LI=e},t}();e.Ul=s},function(t,e,i){"use strict";var r=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},n=i(1),o=i(7),s=i(8),a=i(44),c=i(17),h=i(12),p=i(14),u=i(9),l=i(20),d=i(19),f=a.pt.Ir,g=s.pt.Ir.kr,v=c.pt.HiveTechError,y=c.pt.bh,m=i(28);e.QI=navigator;var w=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(o.Bi),T=function(){function t(t,e){this.qI=0,this.MI=t,this.options_=new f.JI,this.KI(e),o.or(window.location.href,new g,this.options_)}return t.prototype.Ai=function(){return t.Jl},t.prototype.getVersion=function(){return this.version},t.prototype.Wl=function(){return!1},t.prototype.GI=function(){var t=this;if(null==this.zI||Date.now()-this.qI>1e4){var e=new m;e.In(navigator.userAgent);var i=e.$d();if("IE"===i.name&&i.version&&parseInt(i.version)<10)return n.reject(new v(y.yh,"Internet Explorer < v.10 not supported"));this.WI=Date.now(),this.$I=0;var r="//"+h.wr.To+":"+this.MI.options().monitorPort+"/version.json";this.m().debug(this.id()+"verifying Hive Client version"),this.zI=o.Zi(r).then(function(e){var i=JSON.parse(e);return t.state=i.state,t.version=i.version,"ready"===t.state?"developer"===t.version||t.version>=t.options_.minVersion?(t.$I=Date.now(),t.m().debug(t.id()+"Hive Client ready - version "+t.version+" ["+(t.$I-t.WI)+"]"),"ready"):(d.ErrorMonitor.Wi()._h(t.id()+"Client version requirement not satisfied: "+t.version+" < "+t.options_.minVersion),t.MI.ed(new u.F.uo(null,u.F.Gr.Qr)),n.reject(new v(y.Th,"version "+t.version))):(d.ErrorMonitor.Wi()._h(t.id()+"Client state: "+t.state),t.MI.ed(new u.F.uo(null,u.F.Gr.Vr)),n.reject(new v(y.yh,"state "+t.state)))},function(e){var i="Client not reachable";return void 0!=e&&void 0!=e.status&&e.status!=-1&&(i="Client check returned "+e.status),d.ErrorMonitor.Wi()._h(t.id()+i),t.MI.ed(new u.F.uo(null,u.F.Gr.Ur)),n.reject(new v(y.yh,i))})["catch"](function(e){if(e instanceof v)return n.reject(e);var i="Error fetching Hive Client version: "+e;return d.ErrorMonitor.Wi()._h(t.id()+i),n.reject(new v(y.yh,i))}),this.qI=Date.now()}return this.zI},t.prototype.initSession=function(t,e){var i=this;return this.options_.minVersion!=h.wr.Io?this.GI().then(function(){return i.YI(t)["catch"](function(t){return n.reject(t)})}):this.YI(t)["catch"](function(t){return n.reject(t)})},t.prototype.Yl=function(){return this.options_.initTimeout},t.prototype.st=function(t,e){return t.indexOf(e.XI)>-1},t.prototype.Pi=function(t,i){var r=this;this.m().debug(this.id()+"Stopping session "+t.id+" [complete close:"+i+"]");var n="//"+h.wr.To+":"+this.MI.options().playerPort+"/session?action=stop";n+="&currentSession="+t.id,i&&(n+="&completeStop=true"),i&&e.QI.sendBeacon?(e.QI.sendBeacon(n),this.m().debug(this.id()+"session stopped ["+t.id+"][beacon]")):o.Zi(n,null,!i).then(function(){r.m().debug(r.id()+"session stopped ["+t.id+"]"+(i?"[sync]":""))},function(e){r.m().warn(r.id()+"session close error ["+t.id+"]"+(i?"[sync]":""),e)})},t.prototype.Ci=function(t,e){this.ZI=e?p.Fo.IDLE:p.Fo.Bo,this.m().notice("[HiveComm] client state: "+p.Fo[this.ZI])},t.prototype.fd=function(t,e){if(this.ZI==p.Fo.IDLE)return n.resolve(!0);var i="playing-point="+e.lr;i+="&buffer-length="+e.dr,i+="&total-buffering="+e.gr,i+="&width="+e.width,i+="&height="+e.height,i+="&fullscreen="+e.dd;var r=t.XI+"stats?"+i;return this.m().trace(r),o.Zi(r)},t.prototype.yd=function(t,e,i){var r=this;if(!(e!==u.F.B.jr&&e!==u.F.B.HIDDEN||this.version&&("developer"===this.version||this.version>="2017")))return n.resolve(!0);var s=t.XI+"player-event?type="+u.F.B[e];if(void 0!=i)for(var a in i)s+="&"+a+"="+i[a];return this.m().debug(this.id()+"event "+u.F.B[e],void 0!=i?i:""),o.Zi(s).fail(function(t){return r.m().warn(r.id()+"error sending feedback event to Hive Client",t),n.reject(t)})},t.prototype.wn=function(t,e){return n.resolve(!0)},t.prototype.hn=function(t){var e=this;if(this.tR())return this.m().warn("Player info not supported in this Java client version"),n.resolve(!0);var i="comm-version="+this.MI.ct();i+="&plugin-name="+this.MI.T(),i+="&plugin-version="+this.MI.I(),i+="&player-tech="+this.MI.ht(),i+="&player-version="+this.MI.q();var r=this.MI.td();r&&(i+="&telemetry-id="+this.MI.td());var s=t.XI+"player-info?"+i;return o.Zi(s).fail(function(t){return e.m().debug(e.id()+"error sending player Info to Hive Client",t),n.reject(t)})},t.prototype.onError=function(t){var e=!0;if(void 0!=this.options_.onError)try{e=this.options_.onError(t)}catch(i){d.ErrorMonitor.Wi()._h(this.id()+"exception in user-defined onError callback: "+i)}return e},t.prototype.Zl=function(t,e,i){var r={isReadyIn:this.WI,isReadyOut:this.$I,leaseIn:this.eR,leaseOut:this.iR,resolveIn:this.rR,resolveOut:this.nR};"undefined"!=typeof e&&null!=e&&(r.sessionId=e.id),"undefined"!=typeof i&&(r.total=i);var n=JSON.parse(JSON.stringify(r));d.ErrorMonitor.Wi()._h(t.message,n),this.MI.ed(new u.F.uo(null,u.F.Gr.Kr,r)),this.oR()},t.prototype.onActiveSession=function(t){if(this.hn(t),o.ar.setItem("hiveActiveSessionId",t.id),void 0!=this.options_.onActiveSession)try{this.options_.onActiveSession(t.g())}catch(e){d.ErrorMonitor.Wi()._h(this.id()+"exception in user-defined onActiveSession callback: "+e)}},t.prototype.ql=function(t){this.MI=t},t.prototype.id=function(){return"["+t.Jl+"] "},t.prototype.KI=function(e){void 0!=e[t.Jl]&&o.nr(e[t.Jl],this.options_)},t.prototype.YI=function(t){var e=this,i=(new Date).getTime();return this.sR(t).then(function(r){return r?e.aR(t,r,i):e.p(t).then(function(r){return e.aR(t,r,i)})})},t.prototype.sR=function(e){var i=this;if(this.eR=Date.now(),this.MI.options().useSessionCheck){var r="//"+h.wr.To+":"+this.MI.options().playerPort+"/session?&action=check";r+="&hivePluginId="+this.MI.S(),r+="&callback="+e;var s=o.ar.getItem("hiveActiveSessionId");return o.ar.removeItem("hiveActiveSessionId"),s&&(r+="&currentSession="+s),this.cR(),o.Zi(r).then(function(t){return i.iR=Date.now(),t?i.hR(t,r,e,i.eR):(i.m().debug(i.id()+"session allowed ["+(i.iR-i.eR)+"]"),!1)},function(e){if(400==e.status)return i.pR("bad request","error resolving ticket",e);if(401==e.status)return i.pR("unauthorized","error verifying the ticket",e);if(403==e.status){var r=t.uR(e,void 0,"session"),o=r?{lR:r}:void 0;return d.ErrorMonitor.Wi()._h(i.id()+"reports another active session",o),i.MI.ed(new u.F.uo(null,u.F.Gr.qr,o)),n.reject(new v(y.wh,"another active session"+(o?" ["+o.lR+"]":"")))}return 404==e.status?(i.m().debug(i.id()+"installed version does not support active session check"),i.iR=Date.now(),!1):e.status==-1?(clearTimeout(i.dR),i.fR()):(d.ErrorMonitor.Wi()._h(i.id()+" unhandled error from Java",{error:e.status}),i.MI.ed(new u.F.uo(null,u.F.Gr.Jr)),n.reject(new v(y.mh,e)))})["catch"](function(t){return t instanceof v?n.reject(t):(d.ErrorMonitor.Wi()._h(i.id()+" unhandled error on requestLeaseDirect",{error:t}),i.MI.ed(new u.F.uo(null,u.F.Gr.Jr)),n.reject(new v(y.mh,t)))})["finally"](function(){clearTimeout(i.dR)})}return this.m().debug(this.id()+"Hive session check disabled - will directly resolve ticket (other active sessions may fail)"),n.resolve(!1)},t.prototype.pR=function(e,i,r){var o=t.uR(r,e);return d.ErrorMonitor.Wi()._h(""+this.id()+i),this.nR=Date.now(),n.reject(new v(y.ph,o))},t.uR=function(t,e,i){void 0===i&&(i="status");var r=e;if(t.body)try{var n=JSON.parse(t.body);r=n[i]}catch(o){}return r},t.prototype.p=function(t){var e=this;this.rR=Date.now(),this.m().debug(this.id()+"resolving ticket: "+t);var i=this.gR(t);return o.Zi(i,"application/json").then(function(r){return e.hR(r,i,t,e.rR)},function(i){return i&&i.status==-1?e.fR():(d.ErrorMonitor.Wi()._h(e.id()+"error resolving ticket",{ticket:t}),n.reject(new v(y.ph,i)))})["catch"](function(t){return d.ErrorMonitor.Wi()._h(e.id()+"error parsing ticket response: "+t),n.reject(new v(y.mh,t))})},t.prototype.hR=function(t,e,i,r){var n=JSON.parse(t),s=o.ir(e,n.location);return n.version&&!this.version&&(this.version=n.version),this.nR=Date.now(),this.m().debug(this.id()+"resolved ticket "+i+" -> "+s+" ["+(this.nR-r)+"]"),s},t.prototype.aR=function(t,e,i){var r=this.vR(t,e);if(null!=r){var n=(new Date).getTime(),s=n-i;return s>=this.options_.warnSlowRespTimeout&&this.Zl(new v(y.Sh,this.id()+" The tech initialization took more than "+this.options_.warnSlowRespTimeout+" milliseconds"),r,s),o.HiveRequestFactory.bi(r.id,this.Ai()),r}throw new v(y.ph,"error generating session")},t.prototype.vR=function(t,e){var i=new l.ap;i.Kh(t);var r=new w(t,i,e,null);r.yR=!0;var n=h.wr.Eo,o=n.exec(r.manifest);return null!=o?(r.XI=o[1],r.id=o[5],r):null},t.prototype.gR=function(t){var e=t.indexOf("?")==-1?"?":"&";return this.tR()?o.rr(h.wr.bo,h.wr.To,this.MI.options().playerPort,t):o.rr(h.wr.So,h.wr.To,this.MI.options().playerPort,t,e,this.MI.S())},t.prototype.cR=function(){var t=this;this.dR&&clearTimeout(this.dR),this.dR=setTimeout(function(){d.ErrorMonitor.Wi()._h(t.id()+" The Lease Request is taking more than "+t.options_.warnSlowRespTimeout+" secs")},this.options_.warnSlowRespTimeout)},t.prototype.oR=function(){this.eR=0,this.iR=0,this.rR=0,this.nR=0},t.prototype.m=function(){return this.MI.m()},t.prototype.zl=function(){this.oR()},t.prototype.fR=function(){var t=this,e="//"+h.wr.To+":"+this.MI.options().monitorPort+"/version.json";return this.m().debug(this.id()+"checking if the monitor port is reachable"),o.Zi(e).then(function(e){var i=JSON.parse(e);throw t.state=i.state,d.ErrorMonitor.Wi()._h(t.id()+"Client state: "+t.state),t.MI.ed(new u.F.uo(null,u.F.Gr.Vr)),new v(y.yh,"state "+t.state)}).fail(function(e){if(e instanceof v)return n.reject(e);if(e&&e.status==-1){var i="client not reachable";return t.MI.ed(new u.F.uo(null,u.F.Gr.Ur)),t.m().warn(t.id()+i),n.reject(new v(y.yh,i))}var i="VerifyClientState error";return d.ErrorMonitor.Wi()._h(t.id()+i,{error:e}),t.MI.ed(new u.F.uo(null,u.F.Gr.Vr)),n.reject(new v(y.mh,i))})},t.prototype.tR=function(){return this.options_.supportLegacyClient&&(!this.version||this.version.substr(0,4)<"2016")},t}();T.Jl="HiveJava",e.HiveJava=T},function(t,e,i){"use strict";var r,n=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},o=i(8),s=i(12);!function(t){var e;!function(t){var e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.minVersion=s.wr.Io,e.initTimeout=6e4,e.warnSlowRespTimeout=5e3,e.supportLegacyClient=!1,e}return n(e,t),e}(o.pt.Ir.Rr);t.JI=e}(e=t.Ir||(t.Ir={}))}(r=e.pt||(e.pt={}))},function(t,e){"use strict";var i=function(){function t(){}return t}();i.To="127.0.0.1",i.Od=11983,i.So="//{0}:{1}/proxy/?callback={2}{3}hivePluginId={4}",i.mR="//{0}:{1}/proxy/{2}/session?manifest={3}",i.kd="//{0}:{1}/proxy/{2}/player?req={3}",i.wR="//{0}:{1}/proxy/{2}/info?{3}",e.Cd=i},function(t,e,i){"use strict";var r=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},n=i(26),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.bi=function(t,i){e.TR[i]=t},e.SR=function(t,i){e.bR[i]=t},e.prototype.send=function(){if(!this.sessionId){var t=Object.keys(e.bR);t.length>0&&(this.sessionId=e.bR[t[0]])}var i=e.TR[this.sessionId],r=e.bR[this.sessionId];r.m().debug("Intercepted Manifest Request "+this.url),i.setManifestRequest(this),r.R(this.url)},e.prototype.ER=function(){var t=this,e=new XMLHttpRequest;e.open("GET",this.url),e.onreadystatechange=function(){4===e.readyState&&(t.response=e.responseText,t.responseText=e.responseText,t.readyState=4,t.status=e.status,t.onreadystatechange(),t.onload(),console.debug("Returned Manifest Request "+t.url))},e.send()},e.prototype.IR=function(){t.prototype.send.call(this)},e}(n.Ti);o.bR={},o.TR={},e.Si=o},function(t,e,i){"use strict";var r,n=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},o=i(8);!function(t){var e;!function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(o.pt.Ir.Rr);t.RR=e}(e=t.Ir||(t.Ir={}))}(r=e.pt||(e.pt={}))},function(t,e,i){"use strict";var r=i(1),n=i(7),o=i(47),s=o.pt.Ir.RR,a=i(14),c=i(59),h=i(19),p=function(){function t(e,i){this.MI=e,this.options_=new s,void 0!==i[t.Jl]&&n.nr(i[t.Jl],this.options_)}return t.prototype.Ai=function(){return t.Jl},t.prototype.getVersion=function(){return null},t.prototype.Wl=function(){return!0},t.prototype.GI=function(){return r.resolve(!0)},t.prototype.initSession=function(t,e){var i=this.vR(t,e.ticket,e.ticket.tp(),e);return n.HiveRequestFactory.bi(i.id,this.Ai()),r.resolve(i)},t.prototype.Yl=function(){return this.options().initTimeout},t.prototype.st=function(t,e){var i=e.manifest.toLowerCase().indexOf("/manifest");if(i>-1){var r=e.manifest.substring(0,i);if(t.indexOf(r)>-1)return!0}else if(t==e.manifest)return!0;return!1},t.prototype.Pi=function(t){t.Ri&&(this.MI.m().debug("[StatsJS] stopping session ["+t.id+"]"),t.Ri.Ho.reset())},t.prototype.Ci=function(t,e){var i=e?a.Fo.IDLE:a.Fo.Bo;this.MI.m().notice("[HiveComm] client state: "+a.Fo[i]),t.Ri&&t.Ri.Ci(i)},t.prototype.fd=function(t,e){var i=this,n=0;return this.kR<e.gr&&(n=e.gr-this.kR,this.kR=e.gr),t.Ni().then(function(){t.Ri.Do.CR(n,e.dr),t.Ri.Qn.vn(e.lr,e.dr,e.gr),i.OR()}).done(),r.resolve(!0)},t.prototype.yd=function(t,e,i){return t.Ni().then(function(){t.Ri.Qn.mn(t.ticket.sessionId,e,i)}).done(),r.resolve(!0)},t.prototype.wn=function(t,e){return t.Ni().then(function(){t.Ri.Qn.Tn([e])}).done(),r.resolve(!0)},t.prototype.onError=function(t){var e=!0;if(void 0!=this.options().onError)try{e=this.options().onError(t)}catch(i){h.ErrorMonitor.Wi()._h("[StatsJS] exception in user-defined onError callback: "+i)}return e},t.prototype.onActiveSession=function(t){var e=this;this.PR(),t.Ni().then(function(i){e.AR=i;var r=new c.NR(e.MI.isLive(),e.MI.$(),t.ticket.tp());e.AR.xR=r,e.AR.Do.xR=r,e.MI.hn(e.AR),e.AR.Ho.init(e.AR.Do,null),e.AR.Qn.wi(t.ticket.sessionId,e.MI.it(),200);var n=e.MI.rd();if(n&&n.length>0&&e.AR.Qn.Tn(n),void 0!=e.options_.onActiveSession)try{e.options_.onActiveSession(t.g())}catch(o){h.ErrorMonitor.Wi()._h("[StatsJS] exception in user-defined onActiveSession callback: "+o)}}).done()},t.prototype.Zl=function(){},t.prototype.zl=function(){},t.prototype.ql=function(t){this.MI=t},t.prototype.options=function(){return this.options_},t.prototype.PR=function(){this.kR=0},t.prototype.vR=function(t,e,i,r){var o=new n.Bi(t,e,i,r);return o.yR=!1,o.id=e.sessionId,o},t.prototype.OR=function(){try{var t=this.MI.at();void 0!=t&&(this.AR.Do.BR.metrics.bitrateUpN+=t.Ji(),this.AR.Do.BR.metrics.bitrateDwnN+=t.Ki(),null!=t.Vi()&&(this.AR.Do.BR.metrics.srcThroughput=t.Vi()),null!=t.Qi()&&this.FR(!0,t.Qi()),null!=t.qi()&&this.FR(!1,t.qi()))}catch(e){h.ErrorMonitor.Wi()._h(e)}},t.prototype.FR=function(t,e){var i=this,r=0,n=0,o=0,s=0;e.forEach(function(e,a){var c=e.success+e._i;if(r+=c,s+=e.Di,n+=e.success,o+=e._i,t){var h=i.AR.Do._R(Number(a));i.DR(h,c,e.success,e._i,e.Di)}});var a=this.AR.Do.HR();this.DR(a,r,n,o,s)},t.prototype.DR=function(t,e,i,r,n){t.srcReqN+=e,t.srcRespN+=i,t.srcRespErrN+=r,t.srcRespQt+=n,t.respFallbackN+=i,t.respFallbackErrN+=r},t}();p.Jl="StatsJS",e.StatsJS=p},function(t,e){"use strict";var i;!function(t){var e;!function(t){t[t.HiveJS=0]="HiveJS",t[t.HiveJava=1]="HiveJava",t[t.StatsJS=2]="StatsJS",t[t.HiveJsProxy=3]="HiveJsProxy"}(e=t.Il||(t.Il={}))}(i=e.pt||(e.pt={}))},function(t,e,i){"use strict";var r=i(15),n=i(2),o=i(24),s=i(14),a=i(5),c=i(9),h=i(56),p=i(55),u=i(60),l=i(52),d=i(51);if("undefined"==typeof f)var f=!1;if(f)var g=i(53).LR;else var v=i(57).MR;var y=function(){function t(){}return t.prototype.apply=function(t){t.bind(new r.ns(a.gi.ui,s.rs,r.ss.ls)),t.bind(new r.ns(a.gi.Be,p.jR,r.ss.ls)),t.bind(new r.ns(a.gi.ai,u.UR,r.ss.ls)),t.bind(new r.ns(a.gi.Ce,l.VR,r.ss.ls)),t.bind(new r.ns(n.Framework.Fe.we,o.El.bl,r.ss.ls)),f?t.bind(new r.ns(a.gi.ci,g,r.ss.ls)):t.bind(new r.ns(a.gi.ci,v,r.ss.ls)),t.bind(new r.ns(a.gi.hi,d.QR,r.ss.ls)),t.bind(new r.ns(a.gi.li,h.Stats.zf,r.ss.Ts)),t.bind(new r.ns(a.gi.si,h.Stats.eo,r.ss.Ts)),t.bind(new r.ns(a.gi.di,c.F.Un,r.ss.Ts)),t.bind(new r.ns(a.gi.fi,c.F.eo,r.ss.Ts))},t}();e.Sd=y},function(t,e){"use strict";var i=function(){function t(){}return t.prototype.qR=function(t){this.hostname=t},t.prototype.Fn=function(){return this.hostname},t.prototype.JR=function(t){this.KR=t},t.prototype.Nn=function(){return this.KR},t}();e.QR=i},function(t,e,i){"use strict";var r=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},n=i(1),o=i(22),s=i(2),a=i(13),c=i(39),h=function(){function t(){this.GR="IdentityStore",this.zR="IdentityDB",this.sn=null,this.indexedDB=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,s.Framework&&s.Framework.resolve(s.Framework.Fe.we)?this.m=s.Framework.resolve(s.Framework.Fe.we).log():this.m=console}return t.prototype.WR=function(){var t=this,e=n.defer(),i=indexedDB.open(this.zR);return i.onupgradeneeded=function(){var e=i.result;e.createObjectStore(t.GR,{keyPath:"id"})},i.onsuccess=function(){var t=i.result;e.resolve(t)},i.onerror=function(t){e.reject(t)},e.vt},t.prototype.Ko=function(){var t=this;if(this.$R)return this.$R;var e=n.defer();if(this.sn)e.resolve(new c.FI(this.sn));else if(a.Kn.Ro&&this.indexedDB){var i=setTimeout(function(){t.m.warn("[HiveComm] timeout retrieving persistent ID - generating random one"),
  t.sn=t.YR(),t.m.debug("[HiveComm] Generated UUID: "+t.sn),e.resolve(new c.FI(t.sn))},4e3);try{var r=this.WR();r.then(function(r){var n=r.transaction(t.GR,"readwrite"),o=n.objectStore(t.GR),s=o.get("MYID");s.onsuccess=function(){if(clearTimeout(i),t.sn)e.resolve(new c.FI(t.sn));else if(null!=s.result&&a.Kn.Ro){var n=s.result.value;t.m.debug("[HiveComm] Retrieved persistent UUID: "+n),t.sn=n,r.close(),e.resolve(new c.FI(t.sn))}else{var o=t.YR();t.XR(r,o),e.resolve(new c.FI(t.sn))}},s.onerror=function(r){clearTimeout(i),t.sn||(t.m.warn("[HiveComm] error retrieving persistent UUID: "+r),t.sn=t.YR(),t.m.debug("[HiveComm] Generated UUID: "+t.sn)),e.resolve(new c.FI(t.sn))}}).fail(function(r){clearTimeout(i),t.sn||(t.m.warn("[HiveComm] error opening indexedDB - generating random id. Error: "+r),t.sn=t.YR(),t.m.debug("[HiveComm] Generated UUID: "+t.sn)),e.resolve(new c.FI(t.sn))})}catch(o){this.sn=this.YR(),this.m.debug("[HiveComm] Persistence error - Generate UUID: "+this.sn,o),e.resolve(new c.FI(this.sn))}}else this.sn=this.YR(),this.m.debug("[HiveComm] Persistence disabled - Generate UUID: "+this.sn),e.resolve(new c.FI(this.sn));return this.$R=e.vt,this.$R},t.prototype.XR=function(t,e){var i=this,r=t.transaction(this.GR,"readwrite"),n=r.objectStore(this.GR);n.put({id:"MYID",value:e}),r.oncomplete=function(){i.m.debug("[HiveComm] completed UUID persistence"),t.close()},this.m.debug("[HiveComm] Generated UUID: "+e),this.sn=e},t.prototype.YR=function(){return o.Zh()},t}();e.ZR=h;var p=function(t){function e(){return t.call(this)||this}return r(e,t),e.prototype.Ko=function(){var e=this;if(this.tk)return this.tk;var i=n.defer();return t.prototype.Ko.call(this).then(function(t){var r=e.YR(),n=t.$o(),o=new c.FI(r,n);i.resolve(o)}).fail(function(t){var r=e.YR(),n=new c.FI(r);i.resolve(n)}),this.tk=i.vt,this.tk},e}(h);e.VR=p},function(t,e,i){"use strict";var r=i(1),n=i(2),o=function(){function t(){this.u="[PreloadConnectivityInfoProvider] ",this.connInfo=window.ek,this.m=n.Framework.resolve(n.Framework.Fe.we).log(),this.connInfo||this.m.error(this.u+" helper undefined")}return t.prototype.Pn=function(){var t=this;if(!this.connInfo)return r.reject("ConnInfo helper undefined");var e=setTimeout(function(){return t.m.warn(t.u+"Get connectivity info expired"),t.ik?r.resolve(t.ik):r.reject("expired")},2e3);try{return this.connInfo.Pn().then(function(i){return clearTimeout(e),t.ik=i,i}).fail(function(e){return t.m.debug(t.u+" get connectivity info failed with error 1: ",e),t.ik?t.ik:r.reject(e)})}catch(i){return this.m.debug(this.u+" get connectivity info failed with error 2:",i),r.reject(i)}},t.prototype.rk=function(t,e,i){},t}();e.LR=o},function(t,e,i){"use strict";var r=i(63),n=i(1),o=i(2),s=function(){function t(){this.indexedDB=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,this.m=o.Framework.resolve(o.Framework.Fe.we).log()}return t.prototype.WR=function(){var t=n.defer(),e=this.indexedDB.open("PrivateIPDB");return e.onupgradeneeded=function(){var t=e.result;t.createObjectStore("PrivateIPStore",{keyPath:"id"})},e.onsuccess=function(){var i=e.result;t.resolve(i)},e.onerror=function(e){t.reject(e)},t.vt},t.prototype.nk=function(){var t=this;if(this.sk)return this.sk;var e=setTimeout(function(){t.m.warn("Private list retrieval timeout"),i.reject("Private list timeout")},4e3),i=n.defer(),o=this.WR();return o.then(function(n){var o=n.transaction("PrivateIPStore","readwrite"),s=o.objectStore("PrivateIPStore"),a=s.get("iplist");a.onsuccess=function(){clearTimeout(e);var t=[];r.ak(a.result)||r.ak(a.result.value)||(t=a.result.value.split("|")),i.resolve(t),n.close()},a.onerror=function(r){clearTimeout(e),t.m.warn("I got an error on indexed db "+r.message),i.reject("Error on indexedDB "+r.message)}}).fail(function(r){clearTimeout(e),t.m.warn("DB is not open with error"+r.message),i.reject("DB is not open with error "+r.message)}),this.sk=i.vt,this.sk},t.prototype.ck=function(t){var e=this,i=t.join("|"),r=this.WR();r.then(function(r){var n=r.transaction("PrivateIPStore","readwrite"),o=n.objectStore("PrivateIPStore");o.put({id:"iplist",value:i}),n.oncomplete=function(){e.m.debug("Storing site matched ips ["+t.join(",")+"]"),r.close()}}).fail(function(t){e.m.warn("DB is not open with error "+t.message)})},t}();e.hk=s},function(t,e,i){"use strict";var r=i(1),n=i(21),o=i(36),s=i(2),a=i(13),c=i(10),h=function(){function t(){this.m=s.Framework.resolve(s.Framework.Fe.we).log(),this.m.debug("INIT SERVICE CLIENT")}return t.prototype.init=function(t,e){var i=this;if(this.pk)this.pk.then(function(){var t={partnerId:e.bn(),customerId:e.En(),contentId:e.es(),secret:e.Wh()},r=new c.Zn(Services.kf,1,JSON.stringify(t));i.connection.send(r)});else{var s=r.defer(),h=a.Kn.Jn.ko;e.zh&&(this.m.warn("[HiveComm] Error trying to resolve test ticket against production services - use production ticket or test plugin"),s.reject(new Error("test ticket in production")));var p=new n(h),u=p.Eu({"connection-id":t,partner_id:e.bn(),customer_id:e.En(),content_id:e.es(),ticket:e.Wh()}).toString();this.connection=new o.AI(u,a.Kn.Jn.Ao,a.Kn.Jn.No,a.Kn.Jn.xo),this.connection.TI(function(){i.m.debug("HIVE SERVICES CONNECTED"),s.resolve(i.connection)}),this.connection.onerror(function(){i.m.warn("Hive Services Connection failed"),s.reject(i.connection)}),this.pk=s.vt}return{Yo:this.connection,vt:this.pk}},t.prototype.connect=function(){this.connection&&this.connection.connect(!0)},t.prototype.sd=function(t){},t.prototype.Xn=function(){return this.connection},t.prototype.close=function(){this.connection&&this.connection.close()},t}();e.jR=h},function(t,e,i){"use strict";var r=i(4),n=r.ve,o=i(16);i(31),i(30);var s,a=i(2),c=i(5),h=i(13),p=i(10),u=i(14),l=i(23);!function(t){var e="[SNAP]",i=function(){function t(){this.metrics=new hive.snapshots.Metrics,this.uk=new hive.snapshots.Traffic,this.lk=new n,this.dk=new n,this.fk=new n,this.player=new hive.snapshots.Player}return t}();t.gk=i;var r=function(){function i(){this.ticket=null,this.vk=0,this.yk=0,this.mk()}return i.prototype.init=function(t,i,r,n){this.m=a.Framework.resolve(a.Framework.Fe.we).log(n),this.tn=a.Framework.resolve(c.gi.ci),this.m.debug(e+" INIT STATS STORE - ID: "+t),this.sn=t,this.ticket=i,this.an(r)},i.prototype.wk=function(t){this.Tk=t},i.prototype.an=function(t){this.app=t},i.prototype.mk=function(){this.Sk=new t.gk,this.sn=null,this.ticket=null,this.reset()},i.prototype.reset=function(){this.BR=new t.gk,this.bk(this.BR.uk),this.Ek(this.BR)},i.prototype.bk=function(t){t.respFallbackN=0,t.respFallbackErrN=0,t.srcReqN=0,t.srcRespErrN=0,t.srcRespQt=0,t.srcOtherRespN=0,t.srcRespN=0,t.srcOverQt=0,t.p2pDirectQt=0,t.p2pNatQt=0,t.p2pUdpbQt=0,t.p2pRelayQt=0,t.p2pOutSiteLowPrio=0,t.respP2pN=0,t.p2pSubReqN=0,t.p2pSubRespErrN=0,t.p2pSubRespQt=0,t.p2pSubRespPartN=0},i.prototype.Ek=function(t){t.metrics.videoBufN=0,t.metrics.videoBufQt=0,t.metrics.clientBufferMs=0,t.player.bufferingN=0,t.player.bufferingMs=0},i.prototype.Ik=function(){var t=this,i=new hive.snapshots.MetricSnapshot;i.timestamp=a.Framework.time(),i.guid=this.sn,i.sessionId=this.ticket.sessionId,i.eventId=new EventId,i.eventId.partnerId=this.ticket.bn(),i.eventId.customerId=this.ticket.En(),i.eventId.contentId=this.ticket.es();try{var r=new hive.snapshots.ClientInfo;r.clientType=this.Rk();var n=this.app.version.split(".");r.majorVersion=parseInt(n[0]),r.minorVersion=parseInt(n[1]),r.patchVersion=parseInt(n[2]),i.client=r}catch(o){this.m.warn(e+" error setting Snapshot ClientInfo",o)}i.streamInfo=this.xR.kk(),i.traffic=[];var s=new hive.snapshots.TrafficKey;if(i.traffic.push({key:s,value:this.BR.uk}),this.BR.lk.forEach(function(t,e){var r=new hive.snapshots.TrafficKey;r.bitrate=e,i.traffic.push({key:r,value:t})}),i.metrics=this.BR.metrics,this.Tk&&(i.metrics.clientBufferMs=this.Tk.min()),i.player=this.BR.player,this.Ck){var c=this.Ck.getPartnerSnapshots();c.forEach(function(e,r){t.Ok(r,e,i)}),this.BR.fk.filter(function(t,e){return!c.has(e)}).forEach(function(e,r){t.Ok(r,e,i)})}return i.connInfo=new hive.snapshots.ConnectivityInfo,this.tn.Pn().then(function(e){return i.connInfo.privateIp=e.Nn().Bn(),t.Pk(i)}).fail(function(e){return t.Pk(i)})},i.prototype.Pk=function(t){return t.connInfo.internalAs=this.vk,t.connInfo.externalAs=this.yk,t.connInfo.publicIp=this.Ak,t},i.prototype.Rk=function(){var t;switch(this.app.app){case"JS":t=ClientType.Ff;break;case"PROXY":t=ClientType._f;break;default:t=ClientType.Bf}return t},i.prototype.Ok=function(t,e,i){var r=this.BR.dk.get(t);e.traffic=r,i.partners||(i.partners=[]);var n=new hive.snapshots.PartnerKey;n.partnerGuid=t,i.partners.push({key:n,value:e})},i.prototype.CR=function(t,e){t>0&&(this.BR.metrics.videoBufN++,this.BR.metrics.videoBufQt+=t,this.BR.player.bufferingN++,this.BR.player.bufferingMs+=t),this.BR.player.playerBufferMs=e},i.prototype.HR=function(){return this.BR.uk},i.prototype.Nk=function(){return this.Sk.uk},i.prototype.xk=function(t){return this.Sk.lk.has(t)||this.Sk.lk.set(t,new hive.snapshots.Traffic),this.Sk.lk.get(t)},i.prototype._R=function(t){if(!this.BR.lk.has(t)){var e=new hive.snapshots.Traffic;this.bk(e),this.BR.lk.set(t,e)}return this.BR.lk.get(t)},i.prototype.Bk=function(t,e){return e.dk.has(t)||e.dk.set(t,new hive.snapshots.PartnerTraffic),e.dk.get(t)},i.prototype.Fk=function(t){return this.Bk(t,this.BR)},i.prototype._k=function(t){return this.Bk(t,this.Sk)},i.prototype.Dk=function(t){this.tn=t},i.prototype.Hk=function(t){this.Ck=t},i.prototype.jn=function(t){},i}();t.zf=r;var s=function(){function t(){this.Lk=isNaN(l.HiveConfig.DebugLogs.MetricSnapshotLogs)?0:l.HiveConfig.DebugLogs.MetricSnapshotLogs,this.state=u.Fo.Bo,this.client=a.Framework.resolve(c.gi.Be),this.Xa=new o.Ea,this.protocol=new o.$a(this.Xa)}return t.prototype.init=function(t,i){this.m=a.Framework.resolve(a.Framework.Fe.we).log(i),this.m.debug(e+" INIT CLIENT STATS"),this.Vf=t,this.Mk()},t.prototype.Mk=function(){var t=this;this.jk>-1&&a.Framework.clearInterval(this.jk),this.jk=a.Framework.setInterval(function(){t.Uk()},h.Kn.Jn.Po)},t.prototype.Ci=function(t){this.state=t},t.prototype.reset=function(){a.Framework.clearInterval(this.jk),this.Vf&&this.Vf.mk()},t.prototype.Uk=function(){var t=this;this.m.debug("[SNAP] TAKING SNAPSHOT");var e=this.Vf.Ik();e.then(function(e){return t.forward(e)}).fail(function(e){t.m.warn("[SNAP] ERROR FORWARDING SNAPSHOT",e)})["finally"](function(){t.Vf.reset()})},t.prototype.forward=function(t){var i=this;if(this.state===u.Fo.IDLE)return void this.m.debug(e+" not send - state idle");if(this.client&&this.client.Xn()){switch(this.Lk){case 0:default:this.m.debug(e+" SENDING SNAPSHOT");break;case 1:this.m.debug(e+" SENDING SNAPSHOT "+JSON.stringify(t));break;case 2:this.m.debug(e+" SENDING SNAPSHOT",t);break;case 3:this.m.debug(e+" SENDING SNAPSHOT "+JSON.stringify(t),t)}this.protocol.pc("SNAPSHOT",o.Ls.Vs,0),t.write(this.protocol),this.protocol.dc();var r=this.Xa.Ha(),n=this.Vk(r,",",4),s=r.slice(n+1,r.length-1),a=new p.Zn(Services.to,1,s);this.client.Xn().send(a).fail(function(t){i.m.warn(e+" PROBLEM: ",t)})}},t.prototype.Vk=function(t,e,i){return t.split(e,i).join(e).length},t}();t.eo=s}(s=e.Stats||(e.Stats={}))},function(t,e,i){"use strict";var r=i(1),n=i(4),o=i(2),s=i(5),a=i(58),c=i(54),h=i(65),p=function(){function t(){this.Qk=null,this.qk=null,this.Jk=null,this.Kk=null,this.Gk=new n.ve,this.publicIp=null,this.zk=[],this._i=!1,this.Wk=null,this.m=o.Framework.resolve(o.Framework.Fe.we).log(),this.ik=o.Framework.resolve(s.gi.hi),this.$k=new c.hk,this.Yk=[],this.Xk()}return t.prototype.Xk=function(){var t=this;o.Framework.setInterval(function(){t.zk=[],t.Yk=[],t.Gk=new n.ve,t.publicIp=null,t.Zk=null},12e4)},t.prototype.Pn=function(){return this.Zk||(this.Zk=this.tC()),this.Zk},t.prototype.tC=function(){var t=this,e=r.defer();if(this.Wk=o.Framework.setTimeout(function(){e.reject({eC:!0,message:"expired"})},4e3),this.iC())try{this.Qk=new RTCPeerConnection(null),this.Jk=this.Qk.createDataChannel("sendChannel",{reliable:!1}),this.qk=new RTCPeerConnection(null),this.qk.ondatachannel=function(i){t.Kk=i.channel,t.Kk.onopen=function(i){"open"===t.Kk.readyState&&(t.m.debug("Collected ips ["+t.Gk.keys().join(", ")+"]"),t.qk.close(),t.$k.nk().then(function(e){t.Yk=e,t.m.debug("Already known matching ips ["+t.Yk.join(",")+"]");var i=t.Gk.keys();t.Yk.forEach(function(e){i.indexOf(e)>0&&(t.zk.push(e),t.Gk["delete"](e))}),t.Gk.keys().forEach(function(e){t.zk.push(e)})}).fail(function(e){t.m.warn("Get Previous working ips failed with error "+e.message),t.Gk.keys().forEach(function(e){t.zk.push(e)})})["finally"](function(){t.m.debug("Final private ip list ["+t.zk.join(",")+"]"),e.resolve(t.rC())}))}},this.Qk.onicecandidate=function(i){i.candidate&&t.zb(i.candidate.candidate),!i.candidate||t.qk.addIceCandidate(i.candidate)["catch"](function(i){e.reject({eC:!0,message:i.message}),o.Framework.clearTimeout(t.Wk),console.log("Error: Failure during addIceCandidate()")})},this.qk.onicecandidate=function(i){i.candidate&&t.zb(i.candidate.candidate),!i.candidate||t.Qk.addIceCandidate(i.candidate)["catch"](function(i){e.reject({eC:!0,message:i.message}),o.Framework.clearTimeout(t.Wk),console.log("Error: Failure during addIceCandidate()")})},this.Qk.createOffer().then(function(e){return t.Qk.setLocalDescription(e)}).then(function(){return t.qk.setRemoteDescription(t.Qk.localDescription)}).then(function(){return t.qk.createAnswer()}).then(function(e){return t.qk.setLocalDescription(e)}).then(function(){return t.Qk.setRemoteDescription(t.qk.localDescription)})["catch"](function(i){e.reject({eC:!0,message:i.message}),o.Framework.clearTimeout(t.Wk),console.log("Error: Failure creating offer")})}catch(i){e.reject({eC:!0,message:i.message})}else o.Framework.clearTimeout(this.Wk),e.reject({eC:!1,message:"webrtc datachannel not supported"});return e.vt},t.prototype.iC=function(){try{return null!=h.Xe&&null!=h.nC&&"function"==typeof new RTCPeerConnection(null,null).createDataChannel}catch(t){return!1}},t.prototype.zb=function(t){var e=/([0-9]{1,3}(\.[0-9]{1,3}){3})/,i=e.exec(t);if(i){var r=i[0];this.Gk.set(r,!0)}},t.prototype.rC=function(){var t=new a.oC;return this.zk.length>0&&t.sC(this.zk[0]),this.publicIp&&t.aC(this.publicIp),this.ik.JR(t),this.ik},t.prototype.rk=function(t,e,i){if(this.publicIp=t,this.cC(),0===i&&this.zk.length>1)this.zk.shift();else if(0!==i&&this.Yk.indexOf(this.zk[0])==-1)this.Yk.unshift(this.zk[0]),this.$k.ck(this.Yk.slice(0,2));else if(0!==i&&this.Yk.indexOf(this.zk[0])>0){var r=this.Yk.indexOf(this.zk[0]);this.Yk=this.Yk.splice(r,1),this.Yk.unshift(this.zk[0]),this.$k.ck(this.Yk.slice(0,2))}this.rC()},t.prototype.cC=function(){var t=this.zk.indexOf(this.publicIp);t>-1&&this.zk.splice(t,1)},t}();e.MR=p},function(t,e){"use strict";var i=function(){function t(){}return t.prototype.aC=function(t){this.publicIp=t},t.prototype.xn=function(){return this.publicIp},t.prototype.hC=function(t){this.pC=t},t.prototype.Ln=function(){return this.pC},t.prototype.uC=function(t){this.nic=t},t.prototype.Dn=function(){return this.nic},t.prototype.lC=function(t){this.nicName=t},t.prototype.Hn=function(){return this.nicName},t.prototype.sC=function(t){this.privateIp=t},t.prototype.Bn=function(){return this.privateIp},t.prototype.dC=function(t){this.netmask=t},t.prototype.fC=function(){return this.netmask},t.prototype.gC=function(t){this.vC=t},t.prototype._n=function(){return null},t}();e.oC=i},function(t,e){"use strict";var i=function(){function t(t,e,i){this.isLive=t,this.protocol=e,this.yC=i}return t.prototype.kk=function(){var t=new hive.snapshots.StreamInfo;return t.streamType=this.isLive?StreamType.LIVE:StreamType.Pf,t.streamProtocol=this.protocol,t.url=this.yC,t},t}();e.NR=i},function(t,e,i){"use strict";i(29);var r=i(1),n=i(4),o=n.ve,s=i(2),a=i(20),c=function(){function t(t){this.io=(new Date).getTime(),this.mC=t}return t}(),h=function(){function t(){this.wC=new o,this.m=(s.Framework.resolve(s.Framework.Fe.we)||console).log(),this.m.debug("INIT TICKET RESOLVER")}return t.prototype.resolve=function(t,e,i){var n=this,o=r.defer();return t&&(t.on(Services.kf,0,function(t){n.TC(t)}),t.on(Services.kf,2,function(t){n.TC(t)}),this.wC.set(e,new c(o))),o.vt},t.prototype.TC=function(t){var e=this,i=(new Date).getTime(),r=JSON.parse(t.msg),n=!1;this.wC.forEach(function(t,o){if(e.SC(o,r)){n=!0;var s=e.$l(o,r);s?(s.io=t.io,s.ro=i,t.mC.resolve(s)):t.mC.reject("Ticket verification failed"),e.wC["delete"](s)}}),n||this.m.warn("no pending ticket matching: "+t.msg)},t.prototype.Go=function(t){var e=new RegExp("^https?://api(?:-test)?.hivestreaming.com/v1/events/(?:wildcard/)?");if(e.test(t)){var i=this.bC();return i.Kh(t),i}return null},t.prototype.bC=function(){return new a.ap},t.prototype.SC=function(t,e){return t.bn()===e[a.ap.op]&&t.En()===e[a.ap.np]&&t.es()===e[a.ap.sp]},t.prototype.$l=function(t,e){return t.Uh(e),t.Qh()?t:null},t}();e.UR=h},function(t,e){"function"==typeof Object.create?t.t=function(t,e){t.EC=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,Ag:!1,Pg:!0,Ng:!0}})}:t.t=function(t,e){t.EC=e;var i=function(){};i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t}},function(t,e){t.t=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e,i){function r(t,i){var r={IC:[],RC:o};return arguments.length>=3&&(r.kC=arguments[2]),arguments.length>=4&&(r.CC=arguments[3]),f(i)?r.OC=i:i&&e.PC(r,i),T(r.OC)&&(r.OC=!1),T(r.kC)&&(r.kC=2),T(r.CC)&&(r.CC=!1),T(r.AC)&&(r.AC=!0),r.CC&&(r.RC=n),a(r,t,r.kC)}function n(t,e){var i=r.NC[e];return i?"["+r.CC[i][0]+"m"+t+"["+r.CC[i][1]+"m":t}function o(t,e){return t}function s(t){var e={};return t.forEach(function(t,i){e[t]=!0}),e}function a(t,i,r){if(t.AC&&i&&R(i.gt)&&i.gt!==e.gt&&(!i.constructor||i.constructor.prototype!==i)){var n=i.gt(r,t);return m(n)||(n=a(t,n,r)),n}var o=c(t,i);if(o)return o;var f=Object.keys(i),g=s(f);if(t.OC&&(f=Object.getOwnPropertyNames(i)),I(i)&&(f.indexOf("message")>=0||f.indexOf("description")>=0))return h(i);if(0===f.length){if(R(i)){var v=i.name?": "+i.name:"";return t.RC("[Function"+v+"]","special")}if(S(i))return t.RC(RegExp.prototype.toString.call(i),"regexp");if(E(i))return t.RC(Date.prototype.toString.call(i),"date");if(I(i))return h(i)}var y="",w=!1,T=["{","}"];if(d(i)&&(w=!0,T=["[","]"]),R(i)){var b=i.name?": "+i.name:"";y=" [Function"+b+"]"}if(S(i)&&(y=" "+RegExp.prototype.toString.call(i)),E(i)&&(y=" "+Date.prototype.toUTCString.call(i)),I(i)&&(y=" "+h(i)),0===f.length&&(!w||0==i.length))return T[0]+y+T[1];if(r<0)return S(i)?t.RC(RegExp.prototype.toString.call(i),"regexp"):t.RC("[Object]","special");t.IC.push(i);var k;return k=w?p(t,i,r,g,f):f.map(function(e){return u(t,i,r,g,e,w)}),t.IC.pop(),l(k,y,T)}function c(t,e){if(T(e))return t.RC("undefined","undefined");if(m(e)){var i="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.RC(i,"string")}return y(e)?t.RC(""+e,"number"):f(e)?t.RC(""+e,"boolean"):g(e)?t.RC("null","null"):void 0}function h(t){return"["+Error.prototype.toString.call(t)+"]"}function p(t,e,i,r,n){for(var o=[],s=0,a=e.length;s<a;++s)A(e,String(s))?o.push(u(t,e,i,r,String(s),!0)):o.push("");return n.forEach(function(n){n.match(/^\d+$/)||o.push(u(t,e,i,r,n,!0))}),o}function u(t,e,i,r,n,o){var s,c,h;if(h=Object.getOwnPropertyDescriptor(e,n)||{value:e[n]},h.get?c=h.set?t.RC("[Getter/Setter]","special"):t.RC("[Getter]","special"):h.set&&(c=t.RC("[Setter]","special")),A(r,n)||(s="["+n+"]"),c||(t.IC.indexOf(h.value)<0?(c=g(i)?a(t,h.value,null):a(t,h.value,i-1),c.indexOf("\n")>-1&&(c=o?c.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+c.split("\n").map(function(t){return"   "+t}).join("\n"))):c=t.RC("[Circular]","special")),T(s)){if(o&&n.match(/^\d+$/))return c;s=JSON.stringify(""+n),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.RC(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.RC(s,"string"))}return s+": "+c}function l(t,e,i){var r=0,n=t.reduce(function(t,e){return r++,e.indexOf("\n")>=0&&r++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0);return n>60?i[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+i[1]:i[0]+e+" "+t.join(", ")+" "+i[1]}function d(t){return Array.isArray(t)}function f(t){return"boolean"==typeof t}function g(t){return null===t}function v(t){return null==t}function y(t){return"number"==typeof t}function m(t){return"string"==typeof t}function w(t){return"symbol"==typeof t}function T(t){return void 0===t}function S(t){return b(t)&&"[object RegExp]"===C(t)}function b(t){return"object"==typeof t&&null!==t}function E(t){return b(t)&&"[object Date]"===C(t)}function I(t){return b(t)&&("[object Error]"===C(t)||t instanceof Error)}function R(t){return"function"==typeof t}function k(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||"undefined"==typeof t}function C(t){return Object.prototype.toString.call(t)}function O(t){return t<10?"0"+t.toString(10):t.toString(10)}function P(){var t=new Date,e=[O(t.getHours()),O(t.getMinutes()),O(t.getSeconds())].join(":");return[t.getDate(),F[t.getMonth()],e].join(" ")}function A(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var N=/%[sdj%]/g;e.format=function(t){if(!m(t)){for(var e=[],i=0;i<arguments.length;i++)e.push(r(arguments[i]));return e.join(" ")}for(var i=1,n=arguments,o=n.length,s=String(t).replace(N,function(t){if("%%"===t)return"%";if(i>=o)return t;switch(t){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch(e){return"[Circular]"}default:return t}}),a=n[i];i<o;a=n[++i])s+=g(a)||!b(a)?" "+a:" "+r(a);return s},e.xC=function(t,i){function r(){if(!n){if(process.throwDeprecation)throw new Error(i);process.traceDeprecation?console.trace(i):console.error(i),n=!0}return t.apply(this,arguments)}if(T(global.process))return function(){return e.xC(t,i).apply(this,arguments)};if(process.noDeprecation===!0)return t;var n=!1;return r};var x,B={};e.BC=function(t){if(T(x)&&(x=process.Ot.NODE_DEBUG||""),t=t.toUpperCase(),!B[t])if(new RegExp("\\b"+t+"\\b","i").test(x)){var i=process.pid;B[t]=function(){var r=e.format.apply(e,arguments);console.error("%s %d: %s",t,i,r)}}else B[t]=function(){};return B[t]},e.gt=r,r.CC={bold:[1,22],FC:[3,23],_C:[4,24],inverse:[7,27],DC:[37,39],HC:[90,39],LC:[30,39],blue:[34,39],MC:[36,39],green:[32,39],jC:[35,39],red:[31,39],UC:[33,39]},r.NC={VC:"cyan",number:"yellow",QC:"yellow",undefined:"grey",qC:"bold",JC:"green",xT:"magenta",KC:"red"},e.isArray=d,e.Om=f,e.Am=g,e.ak=v,e.Nm=y,e.xm=m,e.GC=w,e.Bm=T,e.zC=S,e.ov=b,e.WC=E,e.$C=I,e.Pm=R,e.YC=k,e.isBuffer=i(62);var F=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];e.log=function(){console.log("%s - %s",P(),e.format.apply(e,arguments))},e.qs=i(61),e.PC=function(t,e){if(!e||!b(e))return t;for(var i=Object.keys(e),r=i.length;r--;)t[i[r]]=e[i[r]];return t}},function(t,e){(function(e){t.t=e}).call(e,{})},function(t,e,i){"use strict";!function(){var e=i(3),r=e.log,n=e.ri;t.t.ri=n,t.t.Xe=e.Xe,t.t.Ye=e.Ye;var o=i(66)||null,s=i(68)||null,a=i(70)||null,c=i(72)||null;switch(n.ti){case"chrome":if(!o||!o.XC)return void r("Chrome shim is not included in this adapter release.");r("adapter.js shimming chrome."),t.t.nC=o,o.ZC(),o.tO(),e.ei(),o.eO(),o.XC(),o.iO(),o.rO();break;case"firefox":if(!a||!a.XC)return void r("Firefox shim is not included in this adapter release.");r("adapter.js shimming firefox."),t.t.nC=a,a.ZC(),e.ei(),a.eO(),a.XC(),a.iO();break;case"edge":if(!s||!s.XC)return void r("MS edge shim is not included in this adapter release.");r("adapter.js shimming edge."),t.t.nC=s,s.ZC(),e.ei(),s.XC();break;case"safari":if(!c)return void r("Safari shim is not included in this adapter release.");r("adapter.js shimming safari."),t.t.nC=c,c.ZC();break;default:r("Unsupported browser!")}}()},function(t,e,i){"use strict";var r=i(3).log,n=i(3).ri,o={tO:function(){window.MediaStream=window.MediaStream||window.webkitMediaStream},iO:function(){"object"!=typeof window||!window.RTCPeerConnection||"ontrack"in window.RTCPeerConnection.prototype||Object.defineProperty(window.RTCPeerConnection.prototype,"ontrack",{get:function(){return this.nO},set:function(t){var e=this;this.nO&&(this.removeEventListener("track",this.nO),this.removeEventListener("addstream",this.oO)),this.addEventListener("track",this.nO=t),this.addEventListener("addstream",this.oO=function(t){t.stream.addEventListener("addtrack",function(i){var r=new Event("track");r.track=i.track,r.receiver={track:i.track},r.sO=[t.stream],e.dispatchEvent(r)}),t.stream.getTracks().forEach(function(e){var i=new Event("track");i.track=e,i.receiver={track:e},i.sO=[t.stream],this.dispatchEvent(i)}.bind(this))}.bind(this))}})},rO:function(){if("object"==typeof window&&window.RTCPeerConnection&&!("getSenders"in RTCPeerConnection.prototype)&&"createDTMFSender"in RTCPeerConnection.prototype){RTCPeerConnection.prototype.getSenders=function(){return this.aO};var t=RTCPeerConnection.prototype.addStream,e=RTCPeerConnection.prototype.removeStream;RTCPeerConnection.prototype.addStream=function(e){var i=this;i.aO=i.aO||[],t.apply(i,[e]),e.getTracks().forEach(function(t){i.aO.push({track:t,get cO(){return void 0===this.hO&&("audio"===t.kind?this.hO=i.createDTMFSender(t):this.hO=null),this.hO}})})},RTCPeerConnection.prototype.removeStream=function(t){var i=this;i.aO=i.aO||[],e.apply(i,[t]),t.getTracks().forEach(function(t){var e=i.aO.find(function(e){return e.track===t});e&&i.aO.splice(i.aO.indexOf(e),1)})}}},eO:function(){"object"==typeof window&&(!window.HTMLMediaElement||"srcObject"in window.HTMLMediaElement.prototype||Object.defineProperty(window.HTMLMediaElement.prototype,"srcObject",{get:function(){return this.pO},set:function(t){var e=this;return this.pO=t,this.src&&URL.revokeObjectURL(this.src),t?(this.src=URL.createObjectURL(t),t.addEventListener("addtrack",function(){e.src&&URL.revokeObjectURL(e.src),e.src=URL.createObjectURL(t)}),void t.addEventListener("removetrack",function(){e.src&&URL.revokeObjectURL(e.src),e.src=URL.createObjectURL(t)})):void(this.src="")}}))},XC:function(){window.RTCPeerConnection||(window.RTCPeerConnection=function(t,e){return r("PeerConnection"),t&&t.uO&&(t.lO=t.uO),new webkitRTCPeerConnection(t,e)},window.RTCPeerConnection.prototype=webkitRTCPeerConnection.prototype,webkitRTCPeerConnection.generateCertificate&&Object.defineProperty(window.RTCPeerConnection,"generateCertificate",{get:function(){return webkitRTCPeerConnection.generateCertificate}}));var t=RTCPeerConnection.prototype.getStats;RTCPeerConnection.prototype.getStats=function(e,i,r){var n=this,o=arguments;if(arguments.length>0&&"function"==typeof e)return t.apply(this,arguments);if(0===t.length&&(0===arguments.length||"function"!=typeof arguments[0]))return t.apply(this,[]);var s=function(t){var e={},i=t.result();return i.forEach(function(t){var i={id:t.id,timestamp:t.timestamp,type:{dO:"local-candidate",fO:"remote-candidate"}[t.type]||t.type};t.names().forEach(function(e){i[e]=t.stat(e)}),e[i.id]=i}),e},a=function(t){return new Map(Object.keys(t).map(function(e){return[e,t[e]]}))};if(arguments.length>=2){var c=function(t){o[1](a(s(t)))};return t.apply(this,[c,arguments[0]])}return new Promise(function(e,i){t.apply(n,[function(t){e(a(s(t)))},i])}).then(i,r)},n.version<51&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){var e=RTCPeerConnection.prototype[t];RTCPeerConnection.prototype[t]=function(){var t=arguments,i=this,r=new Promise(function(r,n){e.apply(i,[t[0],r,n])});return t.length<2?r:r.then(function(){t[1].apply(null,[])},function(e){t.length>=3&&t[2].apply(null,[e])})}}),n.version<52&&["createOffer","createAnswer"].forEach(function(t){var e=RTCPeerConnection.prototype[t];RTCPeerConnection.prototype[t]=function(){var t=this;if(arguments.length<1||1===arguments.length&&"object"==typeof arguments[0]){var i=1===arguments.length?arguments[0]:void 0;return new Promise(function(r,n){e.apply(t,[r,n,i])})}return e.apply(this,arguments)}}),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){var e=RTCPeerConnection.prototype[t];RTCPeerConnection.prototype[t]=function(){return arguments[0]=new("addIceCandidate"===t?RTCIceCandidate:RTCSessionDescription)(arguments[0]),e.apply(this,arguments)}});var e=RTCPeerConnection.prototype.addIceCandidate;RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?e.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())}}};t.t={tO:o.tO,iO:o.iO,rO:o.rO,eO:o.eO,XC:o.XC,ZC:i(67)}},function(t,e,i){"use strict";var r=i(3).log,n=i(3).ri;t.t=function(){var t=function(t){if("object"!=typeof t||t.gO||t.optional)return t;var e={};return Object.keys(t).forEach(function(i){if("require"!==i&&"advanced"!==i&&"mediaSource"!==i){var r="object"==typeof t[i]?t[i]:{vO:t[i]};void 0!==r.yO&&"number"==typeof r.yO&&(r.min=r.max=r.yO);var n=function(t,e){return t?t+e.charAt(0).toUpperCase()+e.slice(1):"deviceId"===e?"sourceId":e};if(void 0!==r.vO){e.optional=e.optional||[];var o={};"number"==typeof r.vO?(o[n("min",i)]=r.vO,e.optional.push(o),o={},o[n("max",i)]=r.vO,e.optional.push(o)):(o[n("",i)]=r.vO,e.optional.push(o))}void 0!==r.yO&&"number"!=typeof r.yO?(e.gO=e.gO||{},e.gO[n("",i)]=r.yO):["min","max"].forEach(function(t){void 0!==r[t]&&(e.gO=e.gO||{},e.gO[n(t,i)]=r[t])})}}),t.mO&&(e.optional=(e.optional||[]).concat(t.mO)),e},e=function(e,i){if(e=JSON.parse(JSON.stringify(e)),e&&e.Mp&&(e.Mp=t(e.Mp)),e&&"object"==typeof e.video){var o=e.video.wO;o=o&&("object"==typeof o?o:{vO:o});var s=n.version<59;if(o&&("user"===o.yO||"environment"===o.yO||"user"===o.vO||"environment"===o.vO)&&(!navigator.mediaDevices.TO||!navigator.mediaDevices.TO().wO||s)&&(delete e.video.wO,"environment"===o.yO||"environment"===o.vO))return navigator.mediaDevices.SO().then(function(n){n=n.filter(function(t){return"videoinput"===t.kind});var s=n.find(function(t){return t.label.toLowerCase().indexOf("back")!==-1})||n.length&&n[n.length-1];return s&&(e.video.bO=o.yO?{yO:s.bO}:{vO:s.bO}),e.video=t(e.video),r("chrome: "+JSON.stringify(e)),i(e)});e.video=t(e.video)}return r("chrome: "+JSON.stringify(e)),i(e)},i=function(t){return{name:{EO:"NotAllowedError",IO:"OverconstrainedError"}[t.name]||t.name,message:t.message,RO:t.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}},o=function(t,r,n){e(t,function(t){navigator.webkitGetUserMedia(t,r,function(t){n(i(t))})})};navigator.getUserMedia=o;var s=function(t){return new Promise(function(e,i){navigator.getUserMedia(t,e,i)})};if(navigator.mediaDevices||(navigator.mediaDevices={getUserMedia:s,SO:function(){return new Promise(function(t){var e={Mp:"audioinput",video:"videoinput"};return MediaStreamTrack.getSources(function(i){t(i.map(function(t){return{label:t.label,kind:e[t.kind],bO:t.id,kO:""}}))})})},TO:function(){return{bO:!0,CO:!0,wO:!0,OO:!0,height:!0,width:!0}}}),navigator.mediaDevices.getUserMedia){var a=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);navigator.mediaDevices.getUserMedia=function(t){return e(t,function(t){return a(t).then(function(e){if(t.Mp&&!e.getAudioTracks().length||t.video&&!e.getVideoTracks().length)throw e.getTracks().forEach(function(t){t.stop()}),new DOMException("","NotFoundError");return e},function(t){return Promise.reject(i(t))})})}}else navigator.mediaDevices.getUserMedia=function(t){return s(t)};"undefined"==typeof navigator.mediaDevices.addEventListener&&(navigator.mediaDevices.addEventListener=function(){r("Dummy mediaDevices.addEventListener called.")}),"undefined"==typeof navigator.mediaDevices.removeEventListener&&(navigator.mediaDevices.removeEventListener=function(){r("Dummy mediaDevices.removeEventListener called.")})}},function(t,e,i){"use strict";function r(t){var e=t.filter(function(t){return"audio"===t.kind}),i=t.filter(function(t){return"video"===t.kind});for(t=[];e.length||i.length;)e.length&&t.push(e.shift()),
i.length&&t.push(i.shift());return t}function n(t){var e=!1;return t=JSON.parse(JSON.stringify(t)),t.filter(function(t){if(t&&(t.PO||t.url)){var i=t.PO||t.url,r="string"==typeof i;return r&&(i=[i]),i=i.filter(function(t){var i=0===t.indexOf("turn:")&&t.indexOf("transport=udp")!==-1&&t.indexOf("turn:[")===-1&&!e;return i?(e=!0,!0):0===t.indexOf("stun:")&&s.version>=14393}),delete t.url,t.PO=r?i[0]:i,!!i.length}return!1})}var o=i(35),s=i(3).ri,a={XC:function(){if(window.RTCIceGatherer&&(window.RTCIceCandidate||(window.RTCIceCandidate=function(t){return t}),window.RTCSessionDescription||(window.RTCSessionDescription=function(t){return t}),s.version<15025)){var t=Object.getOwnPropertyDescriptor(MediaStreamTrack.prototype,"enabled");Object.defineProperty(MediaStreamTrack.prototype,"enabled",{set:function(e){t.set.call(this,e);var i=new Event("enabled");i.enabled=e,this.dispatchEvent(i)}})}window.RTCPeerConnection=function(t){var e=this,i=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach(function(t){e[t]=i[t].bind(i)}),this.onicecandidate=null,this.onaddstream=null,this.AO=null,this.onremovestream=null,this.onsignalingstatechange=null,this.oniceconnectionstatechange=null,this.NO=null,this.onnegotiationneeded=null,this.ondatachannel=null,this.xO=[],this.BO=[],this.getLocalStreams=function(){return e.xO},this.getRemoteStreams=function(){return e.BO},this.localDescription=new RTCSessionDescription({type:"",sdp:""}),this.remoteDescription=new RTCSessionDescription({type:"",sdp:""}),this.signalingState="stable",this.iceConnectionState="new",this.iceGatheringState="new",this.FO={_O:"all",iceServers:[]},t&&t.uO)switch(t.uO){case"all":case"relay":this.FO._O=t.uO}this.DO=t&&"max-bundle"===t.bundlePolicy,t&&t.iceServers&&(this.FO.iceServers=n(t.iceServers)),this.HO=t,this.LO=[],this.MO=[]},window.RTCPeerConnection.prototype.jO=function(){var t=new Event("icegatheringstatechange");this.dispatchEvent(t),null!==this.NO&&this.NO(t)},window.RTCPeerConnection.prototype.UO=function(){var t=this,e=o.Kb(t.localDescription.sdp);this.MO.forEach(function(i){var r=!i.candidate||0===Object.keys(i.candidate).length;if(r)for(var n=1;n<e.length;n++)e[n].indexOf("\r\na=end-of-candidates\r\n")===-1&&(e[n]+="a=end-of-candidates\r\n");else e[i.candidate.sdpMLineIndex+1]+="a="+i.candidate.candidate+"\r\n";if(t.localDescription.sdp=e.join(""),t.dispatchEvent(i),null!==t.onicecandidate&&t.onicecandidate(i),!i.candidate&&"complete"!==t.iceGatheringState){var o=t.LO.every(function(t){return t.YE&&"completed"===t.YE.state});o&&"complete"!==t.iceGatheringStateChange&&(t.iceGatheringState="complete",t.jO())}}),this.MO=[]},window.RTCPeerConnection.prototype.getConfiguration=function(){return this.HO},window.RTCPeerConnection.prototype.addStream=function(t){if(s.version>=15025)this.xO.push(t);else{var e=t.clone();t.getTracks().forEach(function(t,i){var r=e.getTracks()[i];t.addEventListener("enabled",function(t){r.enabled=t.enabled})}),this.xO.push(e)}this.VO()},window.RTCPeerConnection.prototype.removeStream=function(t){var e=this.xO.indexOf(t);e>-1&&(this.xO.splice(e,1),this.VO())},window.RTCPeerConnection.prototype.getSenders=function(){return this.LO.filter(function(t){return!!t.tI}).map(function(t){return t.tI})},window.RTCPeerConnection.prototype.getReceivers=function(){return this.LO.filter(function(t){return!!t.eI}).map(function(t){return t.eI})},window.RTCPeerConnection.prototype.QO=function(t,e){var i={NE:[],xE:[],BE:[]},r=function(t,e){t=parseInt(t,10);for(var i=0;i<e.length;i++)if(e[i].oE===t||e[i].hE===t)return e[i]},n=function(t,e,i,n){var o=r(t.parameters.apt,i),s=r(e.parameters.apt,n);return o&&s&&o.name.toLowerCase()===s.name.toLowerCase()};return t.NE.forEach(function(r){for(var o=0;o<e.NE.length;o++){var s=e.NE[o];if(r.name.toLowerCase()===s.name.toLowerCase()&&r.sE===s.sE){if("rtx"===r.name.toLowerCase()&&r.parameters&&s.parameters.apt&&!n(r,s,t.NE,e.NE))continue;s=JSON.parse(JSON.stringify(s)),s.aE=Math.min(r.aE,s.aE),i.NE.push(s),s.yE=s.yE.filter(function(t){for(var e=0;e<r.yE.length;e++)if(r.yE[e].type===t.type&&r.yE[e].gE===t.gE)return!0;return!1});break}}}),t.xE.forEach(function(t){for(var r=0;r<e.xE.length;r++){var n=e.xE[r];if(t.uri===n.uri){i.xE.push(n);break}}}),i},window.RTCPeerConnection.prototype.qO=function(t,e){var i=this,r=new RTCIceGatherer(i.FO),n=new RTCIceTransport(r);r.JO=function(s){var a=new Event("icecandidate");a.candidate={sdpMid:t,sdpMLineIndex:e};var c=s.candidate,h=!c||0===Object.keys(c).length;h?void 0===r.state&&(r.state="completed"):(c.$b="RTCP"===n.$b?2:1,a.candidate.candidate=o.iE(c));var p=o.Kb(i.localDescription.sdp);h?p[a.candidate.sdpMLineIndex+1]+="a=end-of-candidates\r\n":p[a.candidate.sdpMLineIndex+1]+="a="+a.candidate.candidate+"\r\n",i.localDescription.sdp=p.join("");var u=i.KO?i.KO:i.LO,l=u.every(function(t){return t.YE&&"completed"===t.YE.state});switch(i.iceGatheringState){case"new":h||i.MO.push(a),h&&l&&i.MO.push(new Event("icecandidate"));break;case"gathering":i.UO(),h||(i.dispatchEvent(a),null!==i.onicecandidate&&i.onicecandidate(a)),l&&(i.dispatchEvent(new Event("icecandidate")),null!==i.onicecandidate&&i.onicecandidate(new Event("icecandidate")),i.iceGatheringState="complete",i.jO());break;case"complete":}},n.GO=function(){i.zO()};var s=new RTCDtlsTransport(n);return s.WO=function(){i.zO()},s.onerror=function(){s.state="failed",i.zO()},{YE:r,$O:n,XE:s}},window.RTCPeerConnection.prototype.YO=function(t,e,i){var r=this.QO(t.XO,t.ZO);e&&t.tI&&(r.tP=t.iI,r.FE={qE:o.qb},t.eP.length&&(r.FE.wE=t.eP[0].wE),t.tI.send(r)),i&&t.eI&&("video"===t.kind&&t.eP&&s.version<15019&&t.eP.forEach(function(t){delete t.ME}),r.tP=t.eP,r.FE={qE:t.qE},t.iI.length&&(r.FE.wE=t.iI[0].wE),t.eI.receive(r))},window.RTCPeerConnection.prototype.setLocalDescription=function(t){var e,i,r=this;if("offer"===t.type)this.KO&&(e=o.Kb(t.sdp),i=e.shift(),e.forEach(function(t,e){var i=o.AE(t);r.KO[e].XO=i}),this.LO=this.KO,delete this.KO);else if("answer"===t.type){e=o.Kb(r.remoteDescription.sdp),i=e.shift();var n=o.Gb(i,"a=ice-lite").length>0;e.forEach(function(t,e){var s=r.LO[e],a=s.YE,c=s.$O,h=s.XE,p=s.XO,u=s.ZO,l="0"===t.split("\n",1)[0].split(" ",2)[1];if(!l&&!s.iP){var d=o.CE(t,i),f=o.EE(t,i);n&&(f.IE="server"),r.DO&&0!==e||(c.start(a,d,n?"controlling":"controlled"),h.start(f));var g=r.QO(p,u);r.YO(s,g.NE.length>0,!1)}})}switch(this.localDescription={type:t.type,sdp:t.sdp},t.type){case"offer":this.rP("have-local-offer");break;case"answer":this.rP("stable");break;default:throw new TypeError('unsupported type "'+t.type+'"')}var s=arguments.length>1&&"function"==typeof arguments[1];if(s){var a=arguments[1];window.setTimeout(function(){a(),"new"===r.iceGatheringState&&(r.iceGatheringState="gathering",r.jO()),r.UO()},0)}var c=Promise.resolve();return c.then(function(){s||("new"===r.iceGatheringState&&(r.iceGatheringState="gathering",r.jO()),window.setTimeout(r.UO.bind(r),500))}),c},window.RTCPeerConnection.prototype.setRemoteDescription=function(t){var e=this,i=new MediaStream,r=[],n=o.Kb(t.sdp),a=n.shift(),c=o.Gb(a,"a=ice-lite").length>0;switch(this.DO=o.Gb(a,"a=group:BUNDLE ").length>0,n.forEach(function(n,h){var p=o.Jb(n),u=p[0].substr(2).split(" "),l=u[0],d="0"===u[1],f=o.rI(n,a),g=o.Gb(n,"a=mid:");if(g=g.length?g[0].substr(6):o.Qb(),"application"===l&&"DTLS/SCTP"===u[2])return void(e.LO[h]={ZE:g,iP:!0});var v,y,m,w,T,S,b,E,I,R,k,C,O=o.AE(n);d||(k=o.CE(n,a),C=o.EE(n,a),C.IE="client"),E=o.HE(n);var P,A=o.Gb(n,"a=ssrc:").map(function(t){return o.mE(t)}).filter(function(t){return"cname"===t.TE})[0];A&&(P=A.value);var N=o.Gb(n,"a=end-of-candidates",a).length>0,x=o.Gb(n,"a=candidate:").map(function(t){return o.zb(t)}).filter(function(t){return"1"===t.$b});if("offer"!==t.type||d)"answer"!==t.type||d||(v=e.LO[h],y=v.YE,m=v.$O,w=v.XE,T=v.tI,S=v.eI,b=v.iI,I=v.XO,e.LO[h].eP=E,e.LO[h].ZO=O,e.LO[h].qE=P,(c||N)&&x.length&&m.setRemoteCandidates(x),e.DO&&0!==h||(m.start(y,k,"controlling"),w.start(C)),e.YO(v,"sendrecv"===f||"recvonly"===f,"sendrecv"===f||"sendonly"===f),!S||"sendrecv"!==f&&"sendonly"!==f?delete v.eI:(R=S.track,r.push([R,S]),i.addTrack(R)));else{var B=e.DO&&h>0?{YE:e.LO[0].YE,$O:e.LO[0].$O,XE:e.LO[0].XE}:e.qO(g,h);if(!N||e.DO&&0!==h||B.$O.setRemoteCandidates(x),I=RTCRtpReceiver.getCapabilities(l),s.version<15019&&(I.NE=I.NE.filter(function(t){return"rtx"!==t.name})),b=[{wE:1001*(2*h+2)}],"sendrecv"!==f&&"sendonly"!==f||(S=new RTCRtpReceiver(B.XE,l),R=S.track,r.push([R,S]),i.addTrack(R)),e.xO.length>0&&e.xO[0].getTracks().length>=h){var F;"audio"===l?F=e.xO[0].getAudioTracks()[0]:"video"===l&&(F=e.xO[0].getVideoTracks()[0]),F&&(s.version>=15019&&"video"===l&&(b[0].ME={wE:1001*(2*h+2)+1}),T=new RTCRtpSender(F,B.XE))}e.LO[h]={YE:B.YE,$O:B.$O,XE:B.XE,XO:I,ZO:O,tI:T,eI:S,kind:l,ZE:g,qE:P,iI:b,eP:E},e.YO(e.LO[h],!1,"sendrecv"===f||"sendonly"===f)}}),this.remoteDescription={type:t.type,sdp:t.sdp},t.type){case"offer":this.rP("have-remote-offer");break;case"answer":this.rP("stable");break;default:throw new TypeError('unsupported type "'+t.type+'"')}return i.getTracks().length&&(e.BO.push(i),window.setTimeout(function(){var t=new Event("addstream");t.stream=i,e.dispatchEvent(t),null!==e.onaddstream&&window.setTimeout(function(){e.onaddstream(t)},0),r.forEach(function(t){var r=t[0],n=t[1],o=new Event("track");o.track=r,o.receiver=n,o.sO=[i],e.dispatchEvent(o),null!==e.AO&&window.setTimeout(function(){e.AO(o)},0)})},0)),arguments.length>1&&"function"==typeof arguments[1]&&window.setTimeout(arguments[1],0),Promise.resolve()},window.RTCPeerConnection.prototype.close=function(){this.LO.forEach(function(t){t.$O&&t.$O.stop(),t.XE&&t.XE.stop(),t.tI&&t.tI.stop(),t.eI&&t.eI.stop()}),this.rP("closed")},window.RTCPeerConnection.prototype.rP=function(t){this.signalingState=t;var e=new Event("signalingstatechange");this.dispatchEvent(e),null!==this.onsignalingstatechange&&this.onsignalingstatechange(e)},window.RTCPeerConnection.prototype.VO=function(){var t=new Event("negotiationneeded");this.dispatchEvent(t),null!==this.onnegotiationneeded&&this.onnegotiationneeded(t)},window.RTCPeerConnection.prototype.zO=function(){var t,e=this,i={nP:0,closed:0,oP:0,sP:0,connected:0,aP:0,_i:0};if(this.LO.forEach(function(t){i[t.$O.state]++,i[t.XE.state]++}),i.connected+=i.aP,t="new",i._i>0?t="failed":i.oP>0||i.sP>0?t="connecting":i.disconnected>0?t="disconnected":i["nP"]>0?t="new":(i.connected>0||i.aP>0)&&(t="connected"),t!==e.iceConnectionState){e.iceConnectionState=t;var r=new Event("iceconnectionstatechange");this.dispatchEvent(r),null!==this.oniceconnectionstatechange&&this.oniceconnectionstatechange(r)}},window.RTCPeerConnection.prototype.createOffer=function(){var t=this;if(this.KO)throw new Error("createOffer called while there is a pending offer.");var e;1===arguments.length&&"function"!=typeof arguments[0]?e=arguments[0]:3===arguments.length&&(e=arguments[2]);var i=[],n=0,a=0;if(this.xO.length&&(n=this.xO[0].getAudioTracks().length,a=this.xO[0].getVideoTracks().length),e){if(e.gO||e.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");void 0!==e.cP&&(n=e.cP),void 0!==e.hP&&(a=e.hP)}for(this.xO.length&&this.xO[0].getTracks().forEach(function(t){i.push({kind:t.kind,track:t,pP:"audio"===t.kind?n>0:a>0}),"audio"===t.kind?n--:"video"===t.kind&&a--});n>0||a>0;)n>0&&(i.push({kind:"audio",pP:!0}),n--),a>0&&(i.push({kind:"video",pP:!0}),a--);i=r(i);var c=o.WE(),h=[];i.forEach(function(e,i){var r=e.track,n=e.kind,a=o.Qb(),c=t.DO&&i>0?{YE:h[0].YE,$O:h[0].$O,XE:h[0].XE}:t.qO(a,i),p=RTCRtpSender.getCapabilities(n);s.version<15019&&(p.NE=p.NE.filter(function(t){return"rtx"!==t.name})),p.NE.forEach(function(t){"H264"===t.name&&void 0===t.parameters["uP"]&&(t.parameters["uP"]="1")});var u,l,d=[{wE:1001*(2*i+1)}];r&&(s.version>=15019&&"video"===n&&(d[0].ME={wE:1001*(2*i+1)+1}),u=new RTCRtpSender(r,c.XE)),e.pP&&(l=new RTCRtpReceiver(c.XE,n)),h[i]={YE:c.YE,$O:c.$O,XE:c.XE,XO:p,ZO:null,tI:u,eI:l,kind:n,ZE:a,iI:d,eP:null}}),this.DO&&(c+="a=group:BUNDLE "+h.map(function(t){return t.ZE}).join(" ")+"\r\n"),i.forEach(function(e,i){var r=h[i];c+=o.$E(r,r.XO,"offer",t.xO[0])}),this.KO=h;var p=new RTCSessionDescription({type:"offer",sdp:c});return arguments.length&&"function"==typeof arguments[0]&&window.setTimeout(arguments[0],0,p),Promise.resolve(p)},window.RTCPeerConnection.prototype.createAnswer=function(){var t=this,e=o.WE();this.DO&&(e+="a=group:BUNDLE "+this.LO.map(function(t){return t.ZE}).join(" ")+"\r\n"),this.LO.forEach(function(i){if(i.iP)return void(e+="m=application 0 DTLS/SCTP 5000\r\nc=IN IP4 0.0.0.0\r\na=mid:"+i.ZE+"\r\n");var r=t.QO(i.XO,i.ZO);e+=o.$E(i,r,"answer",t.xO[0])});var i=new RTCSessionDescription({type:"answer",sdp:e});return arguments.length&&"function"==typeof arguments[0]&&window.setTimeout(arguments[0],0,i),Promise.resolve(i)},window.RTCPeerConnection.prototype.addIceCandidate=function(t){if(t){var e=t.sdpMLineIndex;if(t.sdpMid)for(var i=0;i<this.LO.length;i++)if(this.LO[i].ZE===t.sdpMid){e=i;break}var r=this.LO[e];if(r){var n=Object.keys(t.candidate).length>0?o.zb(t.candidate):{};if("tcp"===n.protocol&&(0===n.port||9===n.port))return Promise.resolve();if("1"!==n.$b)return Promise.resolve();r.$O.addRemoteCandidate(n);var s=o.Kb(this.remoteDescription.sdp);s[e+1]+=(n.type?t.candidate.trim():"a=end-of-candidates")+"\r\n",this.remoteDescription.sdp=s.join("")}}else for(var a=0;a<this.LO.length;a++)if(this.LO[a].$O.addRemoteCandidate({}),this.DO)return Promise.resolve();return arguments.length>1&&"function"==typeof arguments[1]&&window.setTimeout(arguments[1],0),Promise.resolve()},window.RTCPeerConnection.prototype.getStats=function(){var t=[];this.LO.forEach(function(e){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach(function(i){e[i]&&t.push(e[i].getStats())})});var e=arguments.length>1&&"function"==typeof arguments[1]&&arguments[1],i=function(t){return{lP:"inbound-rtp",dP:"outbound-rtp",fP:"candidate-pair",dO:"local-candidate",fO:"remote-candidate"}[t.type]||t.type};return new Promise(function(r){var n=new Map;Promise.all(t).then(function(t){t.forEach(function(t){Object.keys(t).forEach(function(e){t[e].type=i(t[e]),n.set(e,t[e])})}),e&&window.setTimeout(e,0,n),r(n)})})}}};t.t={XC:a.XC,ZC:i(69)}},function(t,e){"use strict";t.t=function(){var t=function(t){return{name:{EO:"NotAllowedError"}[t.name]||t.name,message:t.message,RO:t.RO,toString:function(){return this.name}}},e=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);navigator.mediaDevices.getUserMedia=function(i){return e(i)["catch"](function(e){return Promise.reject(t(e))})}}},function(t,e,i){"use strict";var r=i(3).ri,n={iO:function(){"object"!=typeof window||!window.RTCPeerConnection||"ontrack"in window.RTCPeerConnection.prototype||Object.defineProperty(window.RTCPeerConnection.prototype,"ontrack",{get:function(){return this.nO},set:function(t){this.nO&&(this.removeEventListener("track",this.nO),this.removeEventListener("addstream",this.oO)),this.addEventListener("track",this.nO=t),this.addEventListener("addstream",this.oO=function(t){t.stream.getTracks().forEach(function(e){var i=new Event("track");i.track=e,i.receiver={track:e},i.sO=[t.stream],this.dispatchEvent(i)}.bind(this))}.bind(this))}})},eO:function(){"object"==typeof window&&(!window.HTMLMediaElement||"srcObject"in window.HTMLMediaElement.prototype||Object.defineProperty(window.HTMLMediaElement.prototype,"srcObject",{get:function(){return this.mozSrcObject},set:function(t){this.mozSrcObject=t}}))},XC:function(){if("object"==typeof window&&(window.RTCPeerConnection||window.mozRTCPeerConnection)){window.RTCPeerConnection||(window.RTCPeerConnection=function(t,e){if(r.version<38&&t&&t.iceServers){for(var i=[],n=0;n<t.iceServers.length;n++){var o=t.iceServers[n];if(o.hasOwnProperty("urls"))for(var s=0;s<o.PO.length;s++){var a={url:o.PO[s]};0===o.PO[s].indexOf("turn")&&(a.username=o.username,a.gP=o.gP),i.push(a)}else i.push(t.iceServers[n])}t.iceServers=i}return new mozRTCPeerConnection(t,e)},window.RTCPeerConnection.prototype=mozRTCPeerConnection.prototype,mozRTCPeerConnection.generateCertificate&&Object.defineProperty(window.RTCPeerConnection,"generateCertificate",{get:function(){return mozRTCPeerConnection.generateCertificate}}),window.RTCSessionDescription=mozRTCSessionDescription,window.RTCIceCandidate=mozRTCIceCandidate),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){var e=RTCPeerConnection.prototype[t];RTCPeerConnection.prototype[t]=function(){return arguments[0]=new("addIceCandidate"===t?RTCIceCandidate:RTCSessionDescription)(arguments[0]),e.apply(this,arguments)}});var t=RTCPeerConnection.prototype.addIceCandidate;RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?t.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())};var e=function(t){var e=new Map;return Object.keys(t).forEach(function(i){e.set(i,t[i]),e[i]=t[i]}),e},i={lP:"inbound-rtp",dP:"outbound-rtp",fP:"candidate-pair",dO:"local-candidate",fO:"remote-candidate"},n=RTCPeerConnection.prototype.getStats;RTCPeerConnection.prototype.getStats=function(t,o,s){return n.apply(this,[t||null]).then(function(t){if(r.version<48&&(t=e(t)),r.version<53&&!o)try{t.forEach(function(t){t.type=i[t.type]||t.type})}catch(n){if("TypeError"!==n.name)throw n;t.forEach(function(e,r){t.set(r,Object.assign({},e,{type:i[e.type]||e.type}))})}return t}).then(o,s)}}}};t.t={iO:n.iO,eO:n.eO,XC:n.XC,ZC:i(71)}},function(t,e,i){"use strict";var r=i(3).log,n=i(3).ri;t.t=function(){var t=function(t){return{name:{vP:"NotAllowedError",EO:"NotAllowedError"}[t.name]||t.name,message:{"The operation is insecure.":"The request is not allowed by the user agent or the platform in the current context."}[t.message]||t.message,RO:t.RO,toString:function(){return this.name+(this.message&&": ")+this.message}}},e=function(e,i,o){var s=function(t){if("object"!=typeof t||t.yP)return t;var e=[];return Object.keys(t).forEach(function(i){if("require"!==i&&"advanced"!==i&&"mediaSource"!==i){var r=t[i]="object"==typeof t[i]?t[i]:{vO:t[i]};if(void 0===r.min&&void 0===r.max&&void 0===r.yO||e.push(i),void 0!==r.yO&&("number"==typeof r.yO?r.min=r.max=r.yO:t[i]=r.yO,delete r.yO),void 0!==r.vO){t.mO=t.mO||[];var n={};"number"==typeof r.vO?n[i]={min:r.vO,max:r.vO}:n[i]=r.vO,t.mO.push(n),delete r.vO,Object.keys(r).length||delete t[i]}}}),e.length&&(t.yP=e),t};return e=JSON.parse(JSON.stringify(e)),n.version<38&&(r("spec: "+JSON.stringify(e)),e.Mp&&(e.Mp=s(e.Mp)),e.video&&(e.video=s(e.video)),r("ff37: "+JSON.stringify(e))),navigator.mozGetUserMedia(e,i,function(e){o(t(e))})},i=function(t){return new Promise(function(i,r){e(t,i,r)})};if(navigator.mediaDevices||(navigator.mediaDevices={getUserMedia:i,addEventListener:function(){},removeEventListener:function(){}}),navigator.mediaDevices.SO=navigator.mediaDevices.SO||function(){return new Promise(function(t){var e=[{kind:"audioinput",bO:"default",label:"",kO:""},{kind:"videoinput",bO:"default",label:"",kO:""}];t(e)})},n.version<41){var o=navigator.mediaDevices.SO.bind(navigator.mediaDevices);navigator.mediaDevices.SO=function(){return o().then(void 0,function(t){if("NotFoundError"===t.name)return[];throw t})}}if(n.version<49){var s=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);navigator.mediaDevices.getUserMedia=function(e){return s(e).then(function(t){if(e.Mp&&!t.getAudioTracks().length||e.video&&!t.getVideoTracks().length)throw t.getTracks().forEach(function(t){t.stop()}),new DOMException("The object can not be found here.","NotFoundError");return t},function(e){return Promise.reject(t(e))})}}navigator.getUserMedia=function(t,i,r){return n.version<44?e(t,i,r):(console.warn("navigator.getUserMedia has been replaced by navigator.mediaDevices.getUserMedia"),void navigator.mediaDevices.getUserMedia(t).then(i,r))}}},function(t,e){"use strict";var i={ZC:function(){navigator.getUserMedia||(navigator.webkitGetUserMedia?navigator.getUserMedia=navigator.webkitGetUserMedia.bind(navigator):navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&(navigator.getUserMedia=function(t,e,i){navigator.mediaDevices.getUserMedia(t).then(e,i)}.bind(navigator)))}};t.t={ZC:i.ZC}}]);

//# sourceMappingURL=bitmovin.hive.min.js.map


/***/ })
/******/ ]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgMTViNTlhMzU4MWU0Y2NkNjZkNGYiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvZG9tLnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvY29udGFpbmVyLnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvY29tcG9uZW50LnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2V2ZW50ZGlzcGF0Y2hlci50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9hcnJheXV0aWxzLnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL3BsYXllcnV0aWxzLnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvYnV0dG9uLnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvbGFiZWwudHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy90b2dnbGVidXR0b24udHMiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiYW5ndWxhclwiIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL3RpbWVvdXQudHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvYnJvd3NlcnV0aWxzLnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvcGxheWJhY2t0b2dnbGVidXR0b24udHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9zZWVrYmFyLnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL3N0cmluZ3V0aWxzLnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvY29udHJvbGJhci50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci91aXV0aWxzLnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvdWljb250YWluZXIudHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9wbGF5YmFja3RpbWVsYWJlbC50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3NwYWNlci50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3NlZWtiYXJsYWJlbC50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3NlbGVjdGJveC50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL2xpc3RzZWxlY3Rvci50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3ZvbHVtZWNvbnRyb2xidXR0b24udHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy92b2x1bWVzbGlkZXIudHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy92b2x1bWV0b2dnbGVidXR0b24udHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9lcnJvcm1lc3NhZ2VvdmVybGF5LnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvcGxheWJhY2t0b2dnbGVvdmVybGF5LnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvaHVnZXBsYXliYWNrdG9nZ2xlYnV0dG9uLnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvYXVkaW9vbmx5b3ZlcmxheS50cyIsIndlYnBhY2s6Ly8vLi9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi9iaXRkYXNoLWNvbnRyb2xsZXIudHMiLCJ3ZWJwYWNrOi8vLy4vYml0ZGFzaC1kaXJlY3RpdmUudHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvbWFpbi50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci91aW1hbmFnZXIudHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvZ3VpZC50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL2Z1bGxzY3JlZW50b2dnbGVidXR0b24udHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvaW1hZ2Vsb2FkZXIudHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9zdWJ0aXRsZXNlbGVjdGJveC50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3N1YnRpdGxlb3ZlcmxheS50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3R2bm9pc2VjYW52YXMudHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9pdGVtc2VsZWN0aW9ubGlzdC50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL2NsaWNrb3ZlcmxheS50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL2h1Z2VyZXBsYXlidXR0b24udHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9jbG9zZWJ1dHRvbi50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9zdG9yYWdldXRpbHMudHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi9oaXZlL2JpdG1vdmluLmhpdmUubWluLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsbUNBQTJCLDBCQUEwQixFQUFFO0FBQ3ZELHlDQUFpQyxlQUFlO0FBQ2hEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDhEQUFzRCwrREFBK0Q7O0FBRXJIO0FBQ0E7O0FBRUE7QUFDQTs7Ozs7Ozs7QUM3REE7QUFDQSw4Q0FBOEMsY0FBYztBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsT0FBTztBQUM1QjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsaUJBQWlCLGNBQWM7QUFDL0Isd0JBQXdCLGFBQWE7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLElBQUk7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLE9BQU87QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsdUJBQXVCO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixPQUFPO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLE9BQU87QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixRQUFRO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7Ozs7Ozs7O0FDbFpBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsZ0JBQWdCLHNDQUFzQyxpQkFBaUIsRUFBRTtBQUNuRix5QkFBeUIsdURBQXVEO0FBQ2hGO0FBQ0E7QUFDQSx1QkFBdUIsc0JBQXNCO0FBQzdDO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsOENBQThDLGNBQWM7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZEQUE2RCxpQ0FBaUM7QUFDOUYsZ0JBQWdCLDZCQUE2QjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsUUFBUTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJEQUEyRCxnQkFBZ0I7QUFDM0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLHFEQUFxRCxnQkFBZ0I7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDs7Ozs7Ozs7QUMzSEE7QUFDQSw4Q0FBOEMsY0FBYztBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLGFBQWE7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQix1QkFBdUI7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsOEJBQThCO0FBQzlDO0FBQ0E7QUFDQSw2RUFBNkUsd0NBQXdDO0FBQ3JIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGNBQWM7QUFDOUI7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLFlBQVksZ0RBQWdELCtCQUErQjtBQUN4SCxnQkFBZ0IsY0FBYztBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLElBQUk7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbURBQW1ELHdCQUF3QjtBQUMzRTtBQUNBLGlFQUFpRSxrQkFBa0I7QUFDbkY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsUUFBUTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsUUFBUTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFFBQVE7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0VBQWtFLG1DQUFtQztBQUNyRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrRUFBa0UsbUNBQW1DO0FBQ3JHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtFQUFrRSxtQ0FBbUM7QUFDckc7QUFDQTtBQUNBO0FBQ0EsNERBQTRELG1CQUFtQjtBQUMvRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNFQUFzRSxtQ0FBbUM7QUFDekcscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLHNFQUFzRSxtQ0FBbUM7QUFDekcscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTs7Ozs7Ozs7QUN2VUE7QUFDQTtBQUNBO0FBQ0EsVUFBVSxnQkFBZ0Isc0NBQXNDLGlCQUFpQixFQUFFO0FBQ25GLHlCQUF5Qix1REFBdUQ7QUFDaEY7QUFDQTtBQUNBLHVCQUF1QixzQkFBc0I7QUFDN0M7QUFDQTtBQUNBLENBQUM7QUFDRCw4Q0FBOEMsY0FBYztBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLDJCQUEyQjtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLGFBQWE7QUFDM0M7QUFDQTtBQUNBLDZDQUE2QyxnQkFBZ0I7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpRUFBaUUsaUNBQWlDO0FBQ2xHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0Esa0VBQWtFLHNCQUFzQjtBQUN4RjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixjQUFjO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixRQUFRO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQSxzQkFBc0IsMkJBQTJCO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7Ozs7Ozs7O0FDL0pEO0FBQ0EsOENBQThDLGNBQWM7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLElBQUk7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsNkRBQTZEOzs7Ozs7OztBQ3BCOUQ7QUFDQSw4Q0FBOEMsY0FBYztBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyx3RUFBd0U7QUFDN0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrRkFBa0YsNENBQTRDO0FBQzlIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZEQUE2RCxnQkFBZ0I7QUFDN0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0w7QUFDQSxDQUFDLGdFQUFnRTs7Ozs7Ozs7QUM5SGpFO0FBQ0E7QUFDQTtBQUNBLFVBQVUsZ0JBQWdCLHNDQUFzQyxpQkFBaUIsRUFBRTtBQUNuRix5QkFBeUIsdURBQXVEO0FBQ2hGO0FBQ0E7QUFDQSx1QkFBdUIsc0JBQXNCO0FBQzdDO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsOENBQThDLGNBQWM7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsQ0FBQztBQUNEOzs7Ozs7OztBQ3JFQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLGdCQUFnQixzQ0FBc0MsaUJBQWlCLEVBQUU7QUFDbkYseUJBQXlCLHVEQUF1RDtBQUNoRjtBQUNBO0FBQ0EsdUJBQXVCLHNCQUFzQjtBQUM3QztBQUNBO0FBQ0EsQ0FBQztBQUNELDhDQUE4QyxjQUFjO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsYUFBYTtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsT0FBTztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixRQUFRO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsZUFBZTtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixlQUFlO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxDQUFDO0FBQ0Q7Ozs7Ozs7O0FDdkhBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsZ0JBQWdCLHNDQUFzQyxpQkFBaUIsRUFBRTtBQUNuRix5QkFBeUIsdURBQXVEO0FBQ2hGO0FBQ0E7QUFDQSx1QkFBdUIsc0JBQXNCO0FBQzdDO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsOENBQThDLGNBQWM7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFFBQVE7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFFBQVE7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7Ozs7Ozs7QUNwSUEseUI7Ozs7Ozs7QUNBQTtBQUNBLDhDQUE4QyxjQUFjO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxnQkFBZ0I7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsUUFBUTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDs7Ozs7Ozs7QUM3REE7QUFDQSw4Q0FBOEMsY0FBYztBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLG1FQUFtRTs7Ozs7Ozs7QUNYcEU7QUFDQTtBQUNBO0FBQ0EsVUFBVSxnQkFBZ0Isc0NBQXNDLGlCQUFpQixFQUFFO0FBQ25GLHlCQUF5Qix1REFBdUQ7QUFDaEY7QUFDQTtBQUNBLHVCQUF1QixzQkFBc0I7QUFDN0M7QUFDQTtBQUNBLENBQUM7QUFDRCw4Q0FBOEMsY0FBYztBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLGFBQWE7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMseUJBQXlCO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULG1DQUFtQztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTs7Ozs7Ozs7QUM3RkE7QUFDQTtBQUNBO0FBQ0EsVUFBVSxnQkFBZ0Isc0NBQXNDLGlCQUFpQixFQUFFO0FBQ25GLHlCQUF5Qix1REFBdUQ7QUFDaEY7QUFDQTtBQUNBLHVCQUF1QixzQkFBc0I7QUFDN0M7QUFDQTtBQUNBLENBQUM7QUFDRCw4Q0FBOEMsY0FBYztBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLGFBQWE7QUFDN0M7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLCtCQUErQjtBQUN0RSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsc0JBQXNCO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsY0FBYztBQUNqRCx5Q0FBeUMscUJBQXFCO0FBQzlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxREFBcUQsdUJBQXVCO0FBQzVFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DO0FBQ25DLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtREFBbUQsZ0JBQWdCO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdURBQXVELGdCQUFnQjtBQUN2RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsT0FBTztBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLE9BQU87QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixPQUFPO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsT0FBTztBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsdUZBQXVGO0FBQ3BHLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxpRkFBaUY7QUFDOUYsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixRQUFRO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsbUJBQW1CO0FBQ3hELGlCQUFpQixRQUFRO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixhQUFhO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7QUN2dEJBO0FBQ0EsOENBQThDLGNBQWM7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLE9BQU87QUFDeEI7QUFDQTtBQUNBLGdDQUFnQyxvQ0FBb0M7QUFDcEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsT0FBTztBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsNEJBQTRCLEtBQUsseUJBQXlCO0FBQ3hGLFNBQVMseUJBQXlCO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLGNBQWM7QUFDdEQ7QUFDQSxpQkFBaUIsT0FBTztBQUN4QjtBQUNBO0FBQ0EsdURBQXVELHVDQUF1QywrREFBK0Q7QUFDN0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxnRUFBZ0U7Ozs7Ozs7O0FDakpqRTtBQUNBO0FBQ0E7QUFDQSxVQUFVLGdCQUFnQixzQ0FBc0MsaUJBQWlCLEVBQUU7QUFDbkYseUJBQXlCLHVEQUF1RDtBQUNoRjtBQUNBO0FBQ0EsdUJBQXVCLHNCQUFzQjtBQUM3QztBQUNBO0FBQ0EsQ0FBQztBQUNELDhDQUE4QyxjQUFjO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLENBQUM7QUFDRDs7Ozs7Ozs7QUNuRUE7QUFDQSw4Q0FBOEMsY0FBYztBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0VBQWdFLGdCQUFnQjtBQUNoRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLG9EQUFvRDs7Ozs7Ozs7QUNwQnJEO0FBQ0E7QUFDQTtBQUNBLFVBQVUsZ0JBQWdCLHNDQUFzQyxpQkFBaUIsRUFBRTtBQUNuRix5QkFBeUIsdURBQXVEO0FBQ2hGO0FBQ0E7QUFDQSx1QkFBdUIsc0JBQXNCO0FBQzdDO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsOENBQThDLGNBQWM7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFGQUFxRixnQkFBZ0I7QUFDckc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBEQUEwRCxpREFBaUQsRUFBRTtBQUM3RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSx3Q0FBd0M7QUFDeEM7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLHdDQUF3QztBQUN4QyxTQUFTO0FBQ1Q7QUFDQSxxQkFBcUI7QUFDckIsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7OztBQzlQQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLGdCQUFnQixzQ0FBc0MsaUJBQWlCLEVBQUU7QUFDbkYseUJBQXlCLHVEQUF1RDtBQUNoRjtBQUNBO0FBQ0EsdUJBQXVCLHNCQUFzQjtBQUM3QztBQUNBO0FBQ0EsQ0FBQztBQUNELDhDQUE4QyxjQUFjO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLDhGQUE4RjtBQUMvRjtBQUNBLDhFQUE4RTtBQUM5RSwwQkFBMEIsd0NBQXdDO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLGFBQWE7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Qsb0NBQW9DO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7Ozs7Ozs7O0FDbEpBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsZ0JBQWdCLHNDQUFzQyxpQkFBaUIsRUFBRTtBQUNuRix5QkFBeUIsdURBQXVEO0FBQ2hGO0FBQ0E7QUFDQSx1QkFBdUIsc0JBQXNCO0FBQzdDO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsOENBQThDLGNBQWM7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsYUFBYTtBQUM3QztBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEOzs7Ozs7OztBQ3JDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLGdCQUFnQixzQ0FBc0MsaUJBQWlCLEVBQUU7QUFDbkYseUJBQXlCLHVEQUF1RDtBQUNoRjtBQUNBO0FBQ0EsdUJBQXVCLHNCQUFzQjtBQUM3QztBQUNBO0FBQ0EsQ0FBQztBQUNELDhDQUE4QyxjQUFjO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixjQUFjO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLGFBQWE7QUFDN0M7QUFDQSw2Q0FBNkMscUNBQXFDO0FBQ2xGLDhDQUE4QyxzQ0FBc0M7QUFDcEYscURBQXFELG9DQUFvQztBQUN6RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxrQkFBa0I7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEOzs7Ozs7OztBQzdJQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLGdCQUFnQixzQ0FBc0MsaUJBQWlCLEVBQUU7QUFDbkYseUJBQXlCLHVEQUF1RDtBQUNoRjtBQUNBO0FBQ0EsdUJBQXVCLHNCQUFzQjtBQUM3QztBQUNBO0FBQ0EsQ0FBQztBQUNELDhDQUE4QyxjQUFjO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLGFBQWE7QUFDN0M7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLHNCQUFzQjtBQUM3RDtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMsZ0JBQWdCO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MsdUJBQXVCO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDs7Ozs7Ozs7QUNsRkE7QUFDQTtBQUNBO0FBQ0EsVUFBVSxnQkFBZ0Isc0NBQXNDLGlCQUFpQixFQUFFO0FBQ25GLHlCQUF5Qix1REFBdUQ7QUFDaEY7QUFDQTtBQUNBLHVCQUF1QixzQkFBc0I7QUFDN0M7QUFDQTtBQUNBLENBQUM7QUFDRCw4Q0FBOEMsY0FBYztBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsYUFBYTtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixRQUFRO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0IseUJBQXlCLHlCQUF5QjtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFFBQVE7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsUUFBUTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixPQUFPO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QyxxQkFBcUI7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxDQUFDO0FBQ0Q7Ozs7Ozs7O0FDcktBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsZ0JBQWdCLHNDQUFzQyxpQkFBaUIsRUFBRTtBQUNuRix5QkFBeUIsdURBQXVEO0FBQ2hGO0FBQ0E7QUFDQSx1QkFBdUIsc0JBQXNCO0FBQzdDO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsOENBQThDLGNBQWM7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxhQUFhO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7Ozs7Ozs7O0FDM0dBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsZ0JBQWdCLHNDQUFzQyxpQkFBaUIsRUFBRTtBQUNuRix5QkFBeUIsdURBQXVEO0FBQ2hGO0FBQ0E7QUFDQSx1QkFBdUIsc0JBQXNCO0FBQzdDO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsOENBQThDLGNBQWM7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsYUFBYTtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBOzs7Ozs7OztBQ3BIQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLGdCQUFnQixzQ0FBc0MsaUJBQWlCLEVBQUU7QUFDbkYseUJBQXlCLHVEQUF1RDtBQUNoRjtBQUNBO0FBQ0EsdUJBQXVCLHNCQUFzQjtBQUM3QztBQUNBO0FBQ0EsQ0FBQztBQUNELDhDQUE4QyxjQUFjO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLGFBQWE7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEOzs7Ozs7OztBQ2hFQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLGdCQUFnQixzQ0FBc0MsaUJBQWlCLEVBQUU7QUFDbkYseUJBQXlCLHVEQUF1RDtBQUNoRjtBQUNBO0FBQ0EsdUJBQXVCLHNCQUFzQjtBQUM3QztBQUNBO0FBQ0EsQ0FBQztBQUNELDhDQUE4QyxjQUFjO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxhQUFhO0FBQzdDO0FBQ0EsOENBQThDLG9DQUFvQztBQUNsRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDs7Ozs7Ozs7QUMxRUE7QUFDQTtBQUNBO0FBQ0EsVUFBVSxnQkFBZ0Isc0NBQXNDLGlCQUFpQixFQUFFO0FBQ25GLHlCQUF5Qix1REFBdUQ7QUFDaEY7QUFDQTtBQUNBLHVCQUF1QixzQkFBc0I7QUFDN0M7QUFDQTtBQUNBLENBQUM7QUFDRCw4Q0FBOEMsY0FBYztBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLGFBQWE7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7Ozs7Ozs7O0FDL0JBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsZ0JBQWdCLHNDQUFzQyxpQkFBaUIsRUFBRTtBQUNuRix5QkFBeUIsdURBQXVEO0FBQ2hGO0FBQ0E7QUFDQSx1QkFBdUIsc0JBQXNCO0FBQzdDO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsOENBQThDLGNBQWM7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxhQUFhO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDs7Ozs7Ozs7QUN0SUE7QUFDQTtBQUNBO0FBQ0EsVUFBVSxnQkFBZ0Isc0NBQXNDLGlCQUFpQixFQUFFO0FBQ25GLHlCQUF5Qix1REFBdUQ7QUFDaEY7QUFDQTtBQUNBLHVCQUF1QixzQkFBc0I7QUFDN0M7QUFDQTtBQUNBLENBQUM7QUFDRCw4Q0FBOEMsY0FBYztBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsYUFBYTtBQUM3QztBQUNBO0FBQ0EsdUNBQXVDLHlEQUF5RDtBQUNoRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDckRBO0FBQ0EsOENBQThDLGNBQWM7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7OztBQ1BBO0FBQ0EsOENBQThDLGNBQWM7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBOzs7Ozs7OztBQ2pHQTtBQUNBLDhDQUE4QyxjQUFjO0FBQzVEO0FBQ0EsaURBQWlEO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFFQUFxRSxvQkFBb0I7QUFDekY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0VBQXdFLCtDQUErQyxFQUFFO0FBQ3pILHNFQUFzRSxnREFBZ0QsRUFBRTtBQUN4SDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLEVBQUU7QUFDSDtBQUNBOzs7Ozs7OztBQzNGQTtBQUNBLDhDQUE4QyxjQUFjO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxpQ0FBaUM7QUFDNUMsV0FBVyxxQkFBcUI7QUFDaEM7QUFDQSxXQUFXLHNCQUFzQjtBQUNqQztBQUNBLFdBQVcsVUFBVTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFNBQVM7QUFDcEI7QUFDQTtBQUNBO0FBQ0EsV0FBVyxpQkFBaUI7QUFDNUI7QUFDQTtBQUNBLFdBQVcsb0NBQW9DO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQiwwQkFBMEI7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsU0FBUztBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7OztBQy9HQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLGdCQUFnQixzQ0FBc0MsaUJBQWlCLEVBQUU7QUFDbkYseUJBQXlCLHVEQUF1RDtBQUNoRjtBQUNBO0FBQ0EsdUJBQXVCLHNCQUFzQjtBQUM3QztBQUNBO0FBQ0EsQ0FBQztBQUNELDhDQUE4QyxjQUFjO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsZUFBZTtBQUMxQixXQUFXLG1CQUFtQjtBQUM5QjtBQUNBLGtEQUFvRTtBQUNwRTtBQUNBO0FBQ0EsV0FBVyxxQkFBcUI7QUFDaEMsV0FBVyxpQ0FBaUM7QUFDNUMsV0FBVyxzQkFBc0I7QUFDakMsV0FBVyxVQUFVO0FBQ3JCLFdBQVcsc0JBQXNCO0FBQ2pDLFdBQVcsb0JBQW9CO0FBQy9CO0FBQ0EsV0FBVyxhQUFhO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBLFdBQVcsaUJBQWlCO0FBQzVCLFdBQVcsa0JBQWtCO0FBQzdCO0FBQ0EsV0FBVyx1QkFBdUI7QUFDbEMsV0FBVyxpQkFBaUI7QUFDNUI7QUFDQSxXQUFXLG9CQUFvQjtBQUMvQixXQUFXLDZCQUE2QjtBQUN4QztBQUNBLFdBQVcsT0FBTztBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLGFBQWE7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsNkJBQTZCLGVBQWU7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QyxnQkFBZ0I7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtREFBbUQsZ0JBQWdCO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwREFBMEQ7QUFDMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtDQUErQyxzQ0FBc0MsRUFBRTtBQUN2RjtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0Msc0NBQXNDLEVBQUU7QUFDNUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRCxnQkFBZ0I7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsYUFBYTtBQUNqRDtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkMsMkNBQTJDO0FBQ3RGO0FBQ0EsbUVBQW1FLG1CQUFtQjtBQUN0RjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsYUFBYTtBQUNqRDtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkMscUVBQXFFO0FBQ2hIO0FBQ0EsbUVBQW1FLG1CQUFtQjtBQUN0RiwrQ0FBK0MscUJBQXFCO0FBQ3BFO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLEtBQUssd0RBQXdEO0FBQzdELENBQUMsMERBQTBEO0FBQzNEO0FBQ0E7QUFDQSxvRUFBb0UsZ0JBQWdCO0FBQ3BGO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxhQUFhO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQSxnQkFBZ0Isd0JBQXdCLDBCQUEwQixnQkFBZ0I7QUFDbEYsaURBQWlELHdCQUF3QjtBQUN6RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJFQUEyRSxvQ0FBb0M7QUFDL0c7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0Esb0ZBQW9GO0FBQ3BGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDREQUE0RCxnQkFBZ0I7QUFDNUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2Qyx1QkFBdUI7QUFDcEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbURBQW1EO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLHVCQUF1QjtBQUNwRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLDRDQUE0QyxFQUFFO0FBQ3BGLDJDQUEyQyxtREFBbUQsRUFBRTtBQUNoRyxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbURBQW1ELDBCQUEwQjtBQUM3RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtGQUFrRixrQkFBa0I7QUFDcEcsc0RBQXNEO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsaUVBQWlFLGdCQUFnQjtBQUNqRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsY0FBYztBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnRUFBZ0UsZ0JBQWdCO0FBQ2hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7Ozs7Ozs7O0FDbm9CRDtBQUNBLDhDQUE4QyxjQUFjO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQywyQ0FBMkM7Ozs7Ozs7O0FDVDVDO0FBQ0E7QUFDQTtBQUNBLFVBQVUsZ0JBQWdCLHNDQUFzQyxpQkFBaUIsRUFBRTtBQUNuRix5QkFBeUIsdURBQXVEO0FBQ2hGO0FBQ0E7QUFDQSx1QkFBdUIsc0JBQXNCO0FBQzdDO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsOENBQThDLGNBQWM7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsYUFBYTtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDs7Ozs7Ozs7QUNyREE7QUFDQSw4Q0FBOEMsY0FBYztBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDs7Ozs7Ozs7QUMzREE7QUFDQTtBQUNBO0FBQ0EsVUFBVSxnQkFBZ0Isc0NBQXNDLGlCQUFpQixFQUFFO0FBQ25GLHlCQUF5Qix1REFBdUQ7QUFDaEY7QUFDQTtBQUNBLHVCQUF1QixzQkFBc0I7QUFDN0M7QUFDQTtBQUNBLENBQUM7QUFDRCw4Q0FBOEMsY0FBYztBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxhQUFhO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUVBQWlFLGdCQUFnQjtBQUNqRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7Ozs7Ozs7O0FDMURBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsZ0JBQWdCLHNDQUFzQyxpQkFBaUIsRUFBRTtBQUNuRix5QkFBeUIsdURBQXVEO0FBQ2hGO0FBQ0E7QUFDQSx1QkFBdUIsc0JBQXNCO0FBQzdDO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsOENBQThDLGNBQWM7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLGFBQWE7QUFDN0M7QUFDQTtBQUNBLG1EQUFtRCwyQkFBMkI7QUFDOUU7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCxZQUFZO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3REFBd0QsZ0JBQWdCO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQ0FBK0Msc0JBQXNCO0FBQ3JFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsYUFBYTtBQUM3QztBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLDRDQUE0Qyw2QkFBNkI7QUFDekU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwREFBMEQsa0JBQWtCLEVBQUU7QUFDOUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0RkFBNEYscUJBQXFCO0FBQ2pIO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7Ozs7Ozs7QUNuV0Q7QUFDQTtBQUNBO0FBQ0EsVUFBVSxnQkFBZ0Isc0NBQXNDLGlCQUFpQixFQUFFO0FBQ25GLHlCQUF5Qix1REFBdUQ7QUFDaEY7QUFDQTtBQUNBLHVCQUF1QixzQkFBc0I7QUFDN0M7QUFDQTtBQUNBLENBQUM7QUFDRCw4Q0FBOEMsY0FBYztBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLGFBQWE7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRCxnQ0FBZ0M7QUFDdEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsa0JBQWtCO0FBQ3pDLDJCQUEyQixpQkFBaUI7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7Ozs7Ozs7O0FDakdBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsZ0JBQWdCLHNDQUFzQyxpQkFBaUIsRUFBRTtBQUNuRix5QkFBeUIsdURBQXVEO0FBQ2hGO0FBQ0E7QUFDQSx1QkFBdUIsc0JBQXNCO0FBQzdDO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsOENBQThDLGNBQWM7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxhQUFhO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsc0JBQXNCO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSw4QkFBOEI7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMsZ0JBQWdCO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLHVCQUF1QjtBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTs7Ozs7Ozs7QUN4R0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxnQkFBZ0Isc0NBQXNDLGlCQUFpQixFQUFFO0FBQ25GLHlCQUF5Qix1REFBdUQ7QUFDaEY7QUFDQTtBQUNBLHVCQUF1QixzQkFBc0I7QUFDN0M7QUFDQTtBQUNBLENBQUM7QUFDRCw4Q0FBOEMsY0FBYztBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxhQUFhO0FBQzdDO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsT0FBTztBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEOzs7Ozs7OztBQ25EQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLGdCQUFnQixzQ0FBc0MsaUJBQWlCLEVBQUU7QUFDbkYseUJBQXlCLHVEQUF1RDtBQUNoRjtBQUNBO0FBQ0EsdUJBQXVCLHNCQUFzQjtBQUM3QztBQUNBO0FBQ0EsQ0FBQztBQUNELDhDQUE4QyxjQUFjO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsYUFBYTtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDs7Ozs7Ozs7QUMvQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxnQkFBZ0Isc0NBQXNDLGlCQUFpQixFQUFFO0FBQ25GLHlCQUF5Qix1REFBdUQ7QUFDaEY7QUFDQTtBQUNBLHVCQUF1QixzQkFBc0I7QUFDN0M7QUFDQTtBQUNBLENBQUM7QUFDRCw4Q0FBOEMsY0FBYztBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7Ozs7Ozs7O0FDbkNBO0FBQ0EsOENBQThDLGNBQWM7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixjQUFjO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLElBQUk7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxtRUFBbUU7Ozs7Ozs7QUM5RnBFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxnQkFBZ0IsaURBQWlELGNBQWMsNEJBQTRCLE1BQU0sUUFBUSwrQkFBK0Isd0JBQXdCLHNCQUFzQixvQkFBb0IsYUFBYSxJQUFJLCtCQUErQixTQUFTLHFCQUFxQixTQUFTLHFCQUFxQixjQUFjLGNBQWMsY0FBYyxxQkFBcUIsS0FBSyw0QkFBNEIsZ0JBQWdCLFdBQVcsOEJBQThCLDZCQUE2QixpREFBaUQsU0FBUyxJQUFJLGNBQWMsc0JBQXNCLFdBQVcsOEJBQThCLDZGQUE2RixLQUFLLE9BQU8sdUJBQXVCLHdIQUF3SCw2RkFBNkYsK0RBQStELGFBQWEsdUNBQXVDLGNBQWMsMEJBQTBCLE1BQU0sZ0JBQWdCLFFBQVEsK0NBQStDLDZCQUE2QixzQ0FBc0Msd0RBQXdELHVCQUF1QiwyQkFBMkIsdUNBQXVDLGtDQUFrQyxjQUFjLDhCQUE4QixJQUFJLGlCQUFpQixJQUFJLDRCQUE0QixTQUFTLGlEQUFpRCxPQUFPLG9EQUFvRCxTQUFTLFVBQVUsY0FBYywrQkFBK0IsWUFBWSxjQUFjLElBQUksa0JBQWtCLFVBQVUsb0RBQW9ELFlBQVksZ0JBQWdCLDRIQUE0SCxzQkFBc0IsWUFBWSxJQUFJLHlCQUF5QiwyQkFBMkIsMkJBQTJCLFNBQVMsZ0JBQWdCLFdBQVcseUJBQXlCLGdIQUFnSCxLQUFLLFlBQVksSUFBSSwwQkFBMEIseUJBQXlCLGNBQWMsMkJBQTJCLDBCQUEwQixjQUFjLGtDQUFrQywwQkFBMEIsMkJBQTJCLDRCQUE0QiwyQkFBMkIsZ0JBQWdCLDJCQUEyQixJQUFJLCtEQUErRCxzR0FBc0csWUFBWSxrQkFBa0IsNENBQTRDLHlEQUF5RCxjQUFjLHVJQUF1SSxxQkFBcUIsOENBQThDLHFCQUFxQixVQUFVLFdBQVcsS0FBSyxXQUFXLHFCQUFxQixnQkFBZ0IsOERBQThELG9CQUFvQixLQUFLLDJEQUEyRCxjQUFjLEdBQUcsK0NBQStDLHFCQUFxQixnQkFBZ0IsV0FBVywwRkFBMEYscUNBQXFDLFlBQVksY0FBYyx3QkFBd0IsdVdBQXVXLElBQUksS0FBSyxxQkFBcUIsc0ZBQXNGLDBCQUEwQix5REFBeUQsS0FBSyw4QkFBOEIsR0FBRyx5REFBeUQsd0ZBQXdGLHlKQUF5Siw0R0FBNEcsT0FBTyxjQUFjLCtKQUErSixJQUFJLHdCQUF3QixPQUFPLCtFQUErRSx3REFBd0QsMEJBQTBCLFVBQVUsMENBQTBDLGlCQUFpQixpSEFBaUgsTUFBTSxjQUFjLDRCQUE0QiwwQkFBMEIsZ1NBQWdTLDJDQUEyQyxtQkFBbUIsSUFBSSxNQUFNLFdBQVcscUJBQXFCLCtCQUErQix3QkFBd0IsR0FBRyxvQkFBb0Isd0JBQXdCLG9CQUFvQixlQUFlLDZCQUE2QixzREFBc0Qsd0JBQXdCLHdFQUF3RSxjQUFjLCtCQUErQixNQUFNLGlDQUFpQyx5REFBeUQsb0ZBQW9GLGlCQUFpQiwyR0FBMkcsTUFBTSxvQkFBb0IsT0FBTyxjQUFjLGtCQUFrQix3RkFBd0YsNEJBQTRCLGdGQUFnRixxQ0FBcUMsNEdBQTRHLDBDQUEwQywwQkFBMEIsZ0JBQWdCLDhGQUE4RixpQkFBaUIsTUFBTSxtQ0FBbUMsTUFBTSxzQ0FBc0MsNkZBQTZGLDZDQUE2QyxJQUFJLFVBQVUsV0FBVywrREFBK0QsbURBQW1ELG1DQUFtQyxrQ0FBa0MsaUJBQWlCLE9BQU8sK0dBQStHLG9GQUFvRixnQkFBZ0IsV0FBVyxlQUFlLElBQUksbUJBQW1CLFNBQVMsYUFBYSxJQUFJLG1CQUFtQixTQUFTLGFBQWEsSUFBSSxtQkFBbUIsU0FBUyxhQUFhLElBQUksdUJBQXVCLFNBQVMsYUFBYSxPQUFPLGVBQWUsY0FBYyxtQkFBbUIsSUFBSSxnQkFBZ0IsU0FBUyxpQkFBaUIsY0FBYyxvSEFBb0gsOENBQThDLGtCQUFrQixXQUFXLGdCQUFnQiwrQkFBK0Isb0ZBQW9GLGlDQUFpQyx3S0FBd0sseURBQXlELGFBQWEsTUFBTSxrQkFBa0IsZ0NBQWdDLG9GQUFvRixNQUFNLDBJQUEwSSxpQkFBaUIsdUJBQXVCLCtCQUErQixhQUFhLHFCQUFxQiwyQ0FBMkMsMkNBQTJDLFVBQVUseUNBQXlDLElBQUkseUNBQXlDLFNBQVMsdUJBQXVCLGtEQUFrRCxjQUFjLDJCQUEyQixNQUFNLDJHQUEyRyx5Q0FBeUMsU0FBUyxvQkFBb0Isc0NBQXNDLGlHQUFpRyxrQkFBa0IsdVVBQXVVLEdBQUcsYUFBYSx1SEFBdUgsYUFBYSx5SkFBeUosT0FBTyxrQkFBa0IsY0FBYywwQkFBMEIsSUFBSSx5Q0FBeUMseURBQXlELFNBQVMsMkRBQTJELGFBQWEsSUFBSSxnREFBZ0QsU0FBUyxVQUFVLGFBQWEsMkZBQTJGLElBQUksa0NBQWtDLHFCQUFxQixTQUFTLHFEQUFxRCw0QkFBNEIsZ0JBQWdCLFVBQVUsNkZBQTZGLGlHQUFpRyw2REFBNkQsMEtBQTBLLFNBQVMseURBQXlELHdDQUF3Qyx5RUFBeUUsRUFBRSxFQUFFLDZDQUE2Qyw2RUFBNkUsSUFBSSxtQkFBbUIsSUFBSSxrQkFBa0IsU0FBUyw4QkFBOEIsaUNBQWlDLEdBQUcsUUFBUSxxQkFBcUIsdUJBQXVCLFVBQVUsT0FBTyw4R0FBOEcsNkNBQTZDLG9FQUFvRSxXQUFXLFVBQVUsWUFBWSxnQkFBZ0Isc0hBQXNILFFBQVEsVUFBVSxvQkFBb0IsNERBQTRELDJKQUEySiw4RkFBOEYsZ0JBQWdCLHFEQUFxRCw4Q0FBOEMsSUFBSSxnQ0FBZ0MsZUFBZSxTQUFTLDRQQUE0UCxZQUFZLE9BQU8sc0JBQXNCLGlEQUFpRCxzQkFBc0IseUJBQXlCLHFCQUFxQiwyREFBMkQsd0JBQXdCLG1EQUFtRCx3QkFBd0IsOEJBQThCLElBQUkseURBQXlELHVEQUF1RCxtQ0FBbUMsMEJBQTBCLDZDQUE2QyxnQkFBZ0IsMkJBQTJCLGlCQUFpQiw2Q0FBNkMscUJBQXFCLFdBQVcscUJBQXFCLHFCQUFxQixTQUFTLDBCQUEwQiw2QkFBNkIsdUJBQXVCLFlBQVksV0FBVyx3QkFBd0IscUJBQXFCLCtDQUErQyxTQUFTLHlCQUF5QixrREFBa0QsbUJBQW1CLG9FQUFvRSxvQkFBb0Isa0JBQWtCLHlEQUF5RCx3Q0FBd0Msa0lBQWtJLGVBQWUsa0JBQWtCLHFFQUFxRSwyQ0FBMkMsc0JBQXNCLEVBQUUsa0NBQWtDLG9IQUFvSCw2QkFBNkIsU0FBUyxpREFBaUQsVUFBVSxJQUFJLGNBQWMsaUJBQWlCLDBDQUEwQyxXQUFXLHVCQUF1QixTQUFTLGtCQUFrQixpR0FBaUcsbUJBQW1CLHlDQUF5QyxlQUFlLGNBQWMsbUNBQW1DLG1CQUFtQixxQ0FBcUMsV0FBVyxzQ0FBc0MsU0FBUyw0QkFBNEIseUVBQXlFLG1DQUFtQyw2QkFBNkIsdURBQXVELElBQUksMkJBQTJCLG1CQUFtQiwrRUFBK0UsaUJBQWlCLCtCQUErQiw0Q0FBNEMsRUFBRSwyQ0FBMkMscUNBQXFDLGVBQWUseUJBQXlCLG1EQUFtRCwwQkFBMEIsdURBQXVELEdBQUcsSUFBSSxrQkFBa0IsNkVBQTZFLGdLQUFnSyxrQ0FBa0MsOERBQThELCtEQUErRCxFQUFFLCtCQUErQixrQ0FBa0MsNk9BQTZPLDRCQUE0QixrQ0FBa0MsbVRBQW1ULGtDQUFrQyxlQUFlLFlBQVksbUJBQW1CLDhCQUE4QixtREFBbUQsT0FBTyxzSEFBc0gsaUNBQWlDLHlEQUF5RCwwQkFBMEIsc0RBQXNELGVBQWUscUNBQXFDLFdBQVcseUJBQXlCLFNBQVMsNEJBQTRCLGlEQUFpRCwwQkFBMEIsb0VBQW9FLElBQUksS0FBSyxnQkFBZ0IsMERBQTBELGVBQWUsNEJBQTRCLHFCQUFxQiw2REFBNkQsK0JBQStCLDZDQUE2QyxFQUFFLGdDQUFnQyxFQUFFLDRKQUE0SixFQUFFLGtCQUFrQixFQUFFLHNRQUFzUSxFQUFFLHdCQUF3QixFQUFFLGtJQUFrSSx5QkFBeUIsc0JBQXNCLElBQUksc0JBQXNCLG9CQUFvQix5QkFBeUIsVUFBVSxzQkFBc0IsY0FBYyx5a0JBQXlrQix1REFBdUQsa2NBQWtjLG9CQUFvQixtR0FBbUcsc0JBQXNCLHNFQUFzRSwyQkFBMkIsYUFBYSxxQkFBcUIsYUFBYSwrQkFBK0IsZ0NBQWdDLDhCQUE4QixTQUFTLDJCQUEyQixXQUFXLG1GQUFtRix3QkFBd0IscUJBQXFCLDJCQUEyQiwrQkFBK0IsK0JBQStCLG9DQUFvQyxvQ0FBb0Msb0NBQW9DLDRCQUE0QixhQUFhLHNCQUFzQixrQkFBa0IsK0JBQStCLDRCQUE0QiwwQkFBMEIsc0JBQXNCLG9CQUFvQixtQkFBbUIsbUJBQW1CLG1CQUFtQixxQkFBcUIsd0JBQXdCLHFCQUFxQixzQkFBc0IsdUZBQXVGLDBCQUEwQix1RkFBdUYseUJBQXlCLGNBQWMsc0JBQXNCLElBQUksMEJBQTBCLCtDQUErQyxFQUFFLFNBQVMsaUJBQWlCLFNBQVMsWUFBWSxXQUFXLGdEQUFnRCxjQUFjLDRCQUE0QixhQUFhLHNHQUFzRywrQkFBK0Isd0JBQXdCLHdCQUF3Qix1QkFBdUIsU0FBUyw4REFBOEQsT0FBTyxxR0FBcUcsS0FBSyxhQUFhLHlCQUF5QixzQkFBc0Isc0JBQXNCLHNHQUFzRywwQ0FBMEMsb0dBQW9HLE1BQU0sbUNBQW1DLHVMQUF1TCx1Q0FBdUMsY0FBYyxZQUFZLGdOQUFnTiw0RUFBNEUseUtBQXlLLDRDQUE0Qyx1QkFBdUIseUJBQXlCLElBQUksS0FBSyxvQkFBb0IsK0ZBQStGLHNCQUFzQiwwZEFBMGQsMkJBQTJCLDBJQUEwSSxNQUFNLHVGQUF1RixpREFBaUQsS0FBSyw0R0FBNEcsSUFBSSxNQUFNLGdEQUFnRCxpREFBaUQsS0FBSywwR0FBMEcsSUFBSSx3SUFBd0ksb0JBQW9CLHNIQUFzSCx1QkFBdUIsZUFBZSwwQkFBMEIsa0JBQWtCLHdCQUF3QixnQkFBZ0IsNEJBQTRCLGtEQUFrRCx5QkFBeUIsaUNBQWlDLDhFQUE4RSxpTEFBaUwsOEJBQThCLGtDQUFrQyxXQUFXLDBDQUEwQyxvRUFBb0UsV0FBVyxrREFBa0QsZ0NBQWdDLHdCQUF3QixjQUFjLGtDQUFrQywwRUFBMEUsU0FBUywyQkFBMkIsdUZBQXVGLHlCQUF5QixxQkFBcUIsMEJBQTBCLG9DQUFvQyxvSEFBb0gsc0JBQXNCLFVBQVUsY0FBYyx5Y0FBeWMseUVBQXlFLG9JQUFvSSxzREFBc0QsZUFBZSx3QkFBd0Isa0VBQWtFLCtIQUErSCwwQkFBMEIsd0NBQXdDLG1CQUFtQixJQUFJLFlBQVksS0FBSyxLQUFLLG9CQUFvQixLQUFLLHNCQUFzQixpQkFBaUIsaUJBQWlCLHVHQUF1RyxNQUFNLE1BQU0sV0FBVyxnRUFBZ0UsV0FBVyxnRUFBZ0UsV0FBVyxnRUFBZ0UsV0FBVyxnRUFBZ0UsV0FBVyw2QkFBNkIsc0JBQXNCLEtBQUssc0JBQXNCLEtBQUssdUZBQXVGLEtBQUsscUVBQXFFLG1EQUFtRCxzQ0FBc0MsT0FBTyx3REFBd0QsdUJBQXVCLFNBQVMsMENBQTBDLFFBQVEsbUNBQW1DLHlCQUF5QixrREFBa0QscURBQXFELE9BQU8sb0JBQW9CLHNCQUFzQiwwQkFBMEIsd0JBQXdCLFlBQVksOENBQThDLElBQUksdUJBQXVCLFNBQVMsV0FBVyxNQUFNLElBQUkscUJBQXFCLFFBQVEsSUFBSSxtQkFBbUIsU0FBUyxZQUFZLFVBQVUsc0JBQXNCLHFCQUFxQixxQkFBcUIsMEJBQTBCLHFCQUFxQixnQkFBZ0IsaUNBQWlDLHFCQUFxQixxREFBcUQsTUFBTSx1SUFBdUksTUFBTSwrREFBK0Qsb0NBQW9DLHFCQUFxQix1QkFBdUIsNENBQTRDLDZEQUE2RCx5Q0FBeUMsUUFBUSx5SUFBeUksZ0VBQWdFLG9CQUFvQixrQ0FBa0MsMkJBQTJCLHlCQUF5QixpREFBaUQsaUNBQWlDLG9DQUFvQyxpREFBaUQsU0FBUyxpQ0FBaUMsc0JBQXNCLE1BQU0sMkJBQTJCLCtJQUErSSw2QkFBNkIsOEpBQThKLDJCQUEyQiw0Q0FBNEMsMkJBQTJCLFlBQVksc0JBQXNCLHdCQUF3QiwyQkFBMkIsNEVBQTRFLElBQUksd0JBQXdCLG9CQUFvQiw0Q0FBNEMsd0JBQXdCLHNCQUFzQixNQUFNLDJCQUEyQiw0SUFBNEksS0FBSyxtQ0FBbUMsa0lBQWtJLCtDQUErQyxLQUFLLFlBQVksV0FBVyxLQUFLLFdBQVcsdUJBQXVCLEtBQUssUUFBUSw2Q0FBNkMsc0lBQXNJLEVBQUUsb0RBQW9ELDZCQUE2QixNQUFNLDJCQUEyQiwrRkFBK0YscUJBQXFCLGtDQUFrQyxLQUFLLFdBQVcsSUFBSSx1QkFBdUIsU0FBUywwQkFBMEIsK0hBQStILEtBQUssK1ZBQStWLGtCQUFrQixhQUFhLGtCQUFrQixZQUFZLE9BQU8sbUJBQW1CLHVCQUF1QixjQUFjLGVBQWUsYUFBYSxJQUFJLGlEQUFpRCxTQUFTLFVBQVUsY0FBYyxjQUFjLElBQUksNkJBQTZCLFdBQVcsY0FBYyxrQkFBa0IsSUFBSSxxREFBcUQsVUFBVSxRQUFRLDBCQUEwQixjQUFjLElBQUksV0FBVywyQkFBMkIsV0FBVyw2Q0FBNkMsb0NBQW9DLFVBQVUsbUNBQW1DLFFBQVEsV0FBVyxVQUFVLG9DQUFvQyxRQUFRLFdBQVcsVUFBVSxzQ0FBc0MsV0FBVztBQUMxMS9CO0FBQ0E7QUFDQTtBQUNBLGFBQWEsYUFBYSxnQkFBZ0Isa0RBQWtELHdFQUF3RSxtQ0FBbUMsbURBQW1ELDhFQUE4RSxrQkFBa0IsRUFBRTtBQUM1VixhQUFhLGNBQWMsc0JBQXNCLFlBQVksSUFBSSxpQkFBaUIsOENBQThDLFNBQVMsK0JBQStCLGtCQUFrQixhQUFhLDBDQUEwQyxhQUFhLG1CQUFtQixnREFBZ0Qsc0VBQXNFLDhCQUE4QixtQ0FBbUMsa0JBQWtCLGdCQUFnQiwyQkFBMkIsa0ZBQWtGLDBGQUEwRixtQkFBbUIsdUJBQXVCLGtHQUFrRyxFQUFFLDZGQUE2Rix1Q0FBdUMsV0FBVywwREFBMEQsd0RBQXdELDBFQUEwRSxpQ0FBaUMsa0RBQWtELDBEQUEwRCxvREFBb0QsOENBQThDLGdCQUFnQixlQUFlLGtDQUFrQyxTQUFTLElBQUksZUFBZSw4REFBOEQsdUVBQXVFLE9BQU8sRUFBRSxrREFBa0QsMERBQTBELDZEQUE2RCxzRUFBc0UsU0FBUyxFQUFFLDREQUE0RCxxRUFBcUUsU0FBUyxFQUFFLHFFQUFxRSxxQ0FBcUMsY0FBYyw4QkFBOEIsNkJBQTZCLGtCQUFrQixvRkFBb0YsMEJBQTBCLFdBQVcsMERBQTBELDhEQUE4RCwyREFBMkQsNkRBQTZELG1EQUFtRCwyREFBMkQseUVBQXlFLFlBQVksOEVBQThFLEVBQUUsMEJBQTBCLFdBQVcsd0RBQXdELDREQUE0RCx3REFBd0QsMERBQTBELG9EQUFvRCw0REFBNEQsMEVBQTBFLCtCQUErQixFQUFFLDJCQUEyQixrR0FBa0csMkJBQTJCLGdFQUFnRSwyQkFBMkIsZUFBZSxnSUFBZ0ksdUNBQXVDLHdFQUF3RSwyQkFBMkIsd0tBQXdLLDJCQUEyQixnQkFBZ0IsOEJBQThCLE9BQU8sNENBQTRDLHFDQUFxQyxrQ0FBa0MsK0JBQStCLDRCQUE0QiwyQkFBMkIsU0FBUywwQkFBMEIsZ0JBQWdCLGtDQUFrQyxxQ0FBcUMsdUNBQXVDLFlBQVksMkJBQTJCLGFBQWEsd0JBQXdCLDBCQUEwQix1QkFBdUIsMEJBQTBCLGlCQUFpQiwyQkFBMkIsa0RBQWtELDBCQUEwQixtR0FBbUcsR0FBRyxjQUFjLE9BQU8sb0JBQW9CLFlBQVksdUJBQXVCLGlCQUFpQjtBQUNqMUo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGFBQWEsdURBQXVELEtBQUssU0FBUyxZQUFZLGFBQWEsY0FBYyxrQkFBa0IsNkJBQTZCLGNBQWMscUJBQXFCLGNBQWMsdURBQXVELGdCQUFnQixnRkFBZ0YsaUJBQWlCLEVBQUUsdUNBQXVDLG1CQUFtQiwyQkFBMkIsY0FBYyxjQUFjLGlDQUFpQyxXQUFXLEtBQUssV0FBVywwQkFBMEIsb0JBQW9CLGNBQWMsa0VBQWtFLGNBQWMsOENBQThDLCtCQUErQiwwQ0FBMEMsK0JBQStCLCtCQUErQixvQ0FBb0MsY0FBYyxXQUFXLGVBQWUsa0JBQWtCLDBCQUEwQixhQUFhLFNBQVMsZ0JBQWdCLFNBQVMsaUVBQWlFLGFBQWEsb0JBQW9CLGtCQUFrQixrQkFBa0IsbUtBQW1LLGNBQWMsdUNBQXVDLGFBQWEsY0FBYyw0Q0FBNEMsZ0JBQWdCLGdCQUFnQixFQUFFLDJCQUEyQixrREFBa0Qsd0JBQXdCLG1CQUFtQiw2REFBNkQsZ0JBQWdCLEVBQUUsc0JBQXNCLGNBQWMsV0FBVyxxQkFBcUIsaUJBQWlCLGlCQUFpQixpQkFBaUIsYUFBYSxnQkFBZ0IsU0FBUyxtREFBbUQsb0NBQW9DLFdBQVcsa0JBQWtCLFdBQVcsc0JBQXNCLFdBQVcsc0JBQXNCLHFCQUFxQixnQkFBZ0IsS0FBSyxFQUFFLFNBQVMsR0FBRyxjQUFjLDRFQUE0RSxVQUFVLElBQUksK0JBQStCLFNBQVMsWUFBWSxZQUFZLGNBQWMsdUJBQXVCLHVCQUF1QixJQUFJLHNCQUFzQixFQUFFLGtCQUFrQiwyQkFBMkIsOERBQThELDRCQUE0QixPQUFPLGlCQUFpQixFQUFFLHFCQUFxQix3QkFBd0IsTUFBTSxJQUFJLHFDQUFxQyxTQUFTLE9BQU8sUUFBUSxXQUFXLFVBQVUsa0VBQWtFLFVBQVUsMkRBQTJELFNBQVMsb0JBQW9CLHdCQUF3QixjQUFjLFNBQVMsYUFBYSx3Q0FBd0MsU0FBUyxjQUFjLHNCQUFzQixjQUFjLHVDQUF1QyxjQUFjLHNDQUFzQyxjQUFjLHdDQUF3QyxjQUFjLHVDQUF1QyxhQUFhLG9DQUFvQyxnQkFBZ0IsbUZBQW1GLGtFQUFrRSx1RkFBdUYsY0FBYyxPQUFPLGNBQWMsdUZBQXVGLGNBQWMsa0VBQWtFLGtDQUFrQyxjQUFjLFNBQVMsaUJBQWlCLCtCQUErQixZQUFZLFlBQVksWUFBWSxPQUFPLDJCQUEyQixFQUFFLGdCQUFnQixjQUFjLFVBQVUsZ0JBQWdCLFNBQVMsaUJBQWlCLFlBQVksbUJBQW1CLE9BQU8sc0JBQXNCLFlBQVksa0JBQWtCLDhEQUE4RCxxQkFBcUIsb0JBQW9CLGlCQUFpQixjQUFjLG1CQUFtQixPQUFPLDJCQUEyQixFQUFFLGNBQWMsVUFBVSx1QkFBdUIsSUFBSSxvQ0FBb0MsU0FBUyxhQUFhLE9BQU8sY0FBYyxVQUFVLGdCQUFnQixlQUFlLGdCQUFnQixZQUFZLGlCQUFpQixFQUFFLGtCQUFrQixvQkFBb0IsY0FBYyxrQkFBa0IsZ0JBQWdCLE1BQU0sc0NBQXNDLElBQUksVUFBVSxTQUFTLFlBQVksd0NBQXdDLElBQUksVUFBVSxTQUFTLDRCQUE0QixnQkFBZ0IscUVBQXFFLFlBQVksY0FBYyxxQkFBcUIsY0FBYyxlQUFlLGNBQWMsa0JBQWtCLDJDQUEyQyxvQkFBb0IsR0FBRyxrQkFBa0Isb0JBQW9CLGNBQWMsdUJBQXVCLGNBQWMsMkJBQTJCLE1BQU0sdUVBQXVFLDZCQUE2QixzQkFBc0IsVUFBVSxnQkFBZ0IsRUFBRSxHQUFHLGtDQUFrQyxFQUFFLGNBQWMsbUNBQW1DLG9CQUFvQiwyQkFBMkIsY0FBYyxhQUFhLGNBQWMsZ0pBQWdKLGNBQWMsVUFBVSxnQkFBZ0IsRUFBRSxXQUFXLGVBQWUsY0FBYyxjQUFjLHVCQUF1QixvQ0FBb0MsZ0JBQWdCLGNBQWMsU0FBUyxFQUFFLEVBQUUsY0FBYyxpQkFBaUIsZ0JBQWdCLGtDQUFrQyxnQkFBZ0Isa0JBQWtCLFNBQVMsSUFBSSxnQkFBZ0IsU0FBUyxZQUFZLDRCQUE0QixjQUFjLGFBQWEsWUFBWSxPQUFPLDhFQUE4RSxLQUFLLFNBQVMsZ0JBQWdCLEtBQUssZ0JBQWdCLElBQUksSUFBSSxTQUFTLHNEQUFzRCxzQkFBc0IsUUFBUSxJQUFJLFlBQVksT0FBTyxvQkFBb0IsNkJBQTZCLElBQUksZ0pBQWdKLFVBQVUsU0FBUyxpQkFBaUIsbUZBQW1GLHdDQUF3QyxnQkFBZ0IsaUdBQWlHLGVBQWUsaUdBQWlHLGlCQUFpQixLQUFLLHlCQUF5Qiw2QkFBNkIsNkJBQTZCLGlCQUFpQix3QkFBd0IsYUFBYSxxQkFBcUIseUVBQXlFLGlCQUFpQix3QkFBd0Isd0JBQXdCLEdBQUcsd0ZBQXdGLHNCQUFzQiw4QkFBOEIsRUFBRSxjQUFjLFlBQVksTUFBTSw4QkFBOEIsS0FBSyxJQUFJLGtDQUFrQyxTQUFTLDJDQUEyQyxZQUFZLGNBQWMsNEJBQTRCLFNBQVMseUNBQXlDLGdCQUFnQiwyQkFBMkIsd0JBQXdCLFdBQVcsK0JBQStCLGNBQWMsMkJBQTJCLG1FQUFtRSxTQUFTLGtDQUFrQyxTQUFTLGlDQUFpQywwREFBMEQsY0FBYyw4QkFBOEIsNElBQTRJLFdBQVcscUJBQXFCLHlFQUF5RSw2RUFBNkUsU0FBUywyQkFBMkIsWUFBWSxzQkFBc0Isb0JBQW9CLDhCQUE4QixvQ0FBb0Msa0JBQWtCLHdEQUF3RCxFQUFFLHNDQUFzQyx5QkFBeUIsd0NBQXdDLHlCQUF5QixrQ0FBa0MsY0FBYyxJQUFJLGtDQUFrQyxTQUFTLGFBQWEsY0FBYyx5QkFBeUIsT0FBTyxJQUFJLFlBQVksU0FBUyxhQUFhLFlBQVksY0FBYyxrQ0FBa0Msc0JBQXNCLHVCQUF1QixpQkFBaUIsMEJBQTBCLHFCQUFxQiwwQkFBMEIsR0FBRyx5Q0FBeUMsV0FBVyxJQUFJLE9BQU8sU0FBUywyQkFBMkIsYUFBYSxlQUFlLFFBQVEsb0JBQW9CLGtCQUFrQiw0QkFBNEIsb0NBQW9DLHFCQUFxQixFQUFFLHFDQUFxQyw0QkFBNEIsU0FBUyxFQUFFLG9CQUFvQixrQkFBa0IsNEJBQTRCLDRCQUE0QixRQUFRLEVBQUUsb0JBQW9CLGtCQUFrQix1REFBdUQsa0NBQWtDLGtDQUFrQyxvQ0FBb0Msa0NBQWtDLG9DQUFvQyw0QkFBNEIsdUJBQXVCLGtCQUFrQixpQkFBaUIsVUFBVSxrRUFBa0UsbUNBQW1DLHlCQUF5QixJQUFJLHVFQUF1RSxpQkFBaUIsdUJBQXVCLG9CQUFvQixPQUFPLHFCQUFxQiwwQkFBMEIsNkJBQTZCLDBCQUEwQix1QkFBdUIsNEJBQTRCLCtCQUErQiw0QkFBNEIsZ0NBQWdDLDZCQUE2QixrREFBa0QsNkJBQTZCLDJCQUEyQiw2QkFBNkIsNkNBQTZDLDZCQUE2QixnQ0FBZ0MsMENBQTBDLDREQUE0RCwwQ0FBMEMsb0JBQW9CLG1DQUFtQyw0QkFBNEIsbUNBQW1DLDBCQUEwQixnREFBZ0QsMkJBQTJCLDhDQUE4QyxrQkFBa0IsNEJBQTRCLGtCQUFrQixvREFBb0QsMkJBQTJCLDBCQUEwQixrQkFBa0Isb0RBQW9ELG9CQUFvQiwwQkFBMEIsNkJBQTZCLDBCQUEwQixvQ0FBb0MsZUFBZSxrQ0FBa0MsZUFBZSxnRUFBZ0UsZUFBZSxrQ0FBa0MsNkJBQTZCLHlCQUF5QixhQUFhLGNBQWMsMEJBQTBCLEdBQUcsRUFBRSxpQ0FBaUMsMkJBQTJCLG1EQUFtRCwyQkFBMkIsK0NBQStDLGtDQUFrQyxpQ0FBaUMsMEJBQTBCLG1EQUFtRCxvRkFBb0Ysb0NBQW9DLDhCQUE4QixTQUFTLEVBQUUsYUFBYSw4QkFBOEIsUUFBUSxFQUFFLEVBQUUsMEJBQTBCLHdCQUF3QixrQ0FBa0Msa0JBQWtCLGdCQUFnQiw2QkFBNkIsYUFBYSxFQUFFLGlDQUFpQywrRkFBK0YsMkJBQTJCLHlCQUF5QixtQ0FBbUMsa0NBQWtDLG1HQUFtRyxJQUFJLDZCQUE2Qiw2QkFBNkIsYUFBYSw0QkFBNEIsZ0JBQWdCLHVCQUF1QixnREFBZ0QsK0JBQStCLDZCQUE2QixVQUFVLDZCQUE2QixhQUFhLFNBQVMsRUFBRSxvQkFBb0Isa0JBQWtCLDRCQUE0QixpQkFBaUIscURBQXFELGtCQUFrQixxQkFBcUIsa0JBQWtCLDJCQUEyQix5QkFBeUIscURBQXFELHVCQUF1QixvRUFBb0UscUJBQXFCLGtCQUFrQixtQ0FBbUMsc0RBQXNELDBDQUEwQyxtQkFBbUIsNENBQTRDLG9CQUFvQixxQkFBcUIsa0JBQWtCLGFBQWEsNEJBQTRCLG1DQUFtQyxzREFBc0QsMkJBQTJCLHFCQUFxQiw0Q0FBNEMsMkJBQTJCLG9CQUFvQiw2Q0FBNkMscUJBQXFCLGdFQUFnRSw4QkFBOEIsMkJBQTJCLGdFQUFnRSwwREFBMEQsMkJBQTJCLGdFQUFnRSxtQ0FBbUMsb0NBQW9DLGdCQUFnQixVQUFVLEVBQUUsYUFBYSxnQkFBZ0IsS0FBSyxFQUFFLE9BQU8saUJBQWlCLHVFQUF1RSxXQUFXLFNBQVMsRUFBRSxpQkFBaUIsYUFBYSw0QkFBNEIsYUFBYSxjQUFjLDBIQUEwSCxhQUFhLDJCQUEyQixhQUFhLFNBQVMsYUFBYSxTQUFTLGFBQWEsU0FBUyxhQUFhLFNBQVMsY0FBYyxnQkFBZ0IsZ0JBQWdCLGVBQWUsK0JBQStCLGNBQWMsVUFBVSxjQUFjLDZFQUE2RSxhQUFhLFNBQVMsYUFBYSxnQkFBZ0IsZ0JBQWdCLHlCQUF5QixjQUFjLHlCQUF5QixnQkFBZ0IsMEJBQTBCLGNBQWMsMEJBQTBCLGFBQWEsT0FBTyxhQUFhLHlFQUF5RSxjQUFjLElBQUksYUFBYSxvRUFBb0UsYUFBYSxTQUFTLGFBQWEsU0FBUyxpQkFBaUIsY0FBYyxTQUFTLEdBQUcsdUNBQXVDLGlCQUFpQixjQUFjLFNBQVMsR0FBRywrTUFBK00saUJBQWlCLGNBQWMsZ0NBQWdDLHFDQUFxQyxzQkFBc0IsR0FBRyxHQUFHLE9BQU8sTUFBTSxhQUFhLGlEQUFpRCxpQkFBaUIsR0FBRyxNQUFNLGFBQWEsYUFBYSxrQ0FBa0MsT0FBTyxpQkFBaUIsR0FBRyx3Q0FBd0MsOE1BQThNLCtCQUErQixvREFBb0QsZUFBZSxhQUFhLFlBQVksZUFBZSw2SkFBNkosZ0JBQWdCLDRCQUE0QixZQUFZLG1HQUFtRyxvQkFBb0IsaUJBQWlCLHlDQUF5QyxlQUFlLFNBQVMseUdBQXlHLHdHQUF3RyxzSkFBc0osS0FBSywrSUFBK0ksOEVBQThFLDBKQUEwSixLQUFLLHdIQUF3SCw4RUFBOEUsU0FBUyxlQUFlLHNHQUFzRyxrRkFBa0YsZ0NBQWdDLG9CQUFvQix1QkFBdUIsbUhBQW1ILFlBQVksaUNBQWlDLHFCQUFxQiwrRUFBK0UsK0RBQStELGVBQWUseUJBQXlCLGlCQUFpQixxREFBcUQsRUFBRSw4Q0FBOEMsbURBQW1ELHNJQUFzSSxLQUFLLDZEQUE2RCxpQkFBaUIsWUFBWSxLQUFLLDBCQUEwQixlQUFlLGFBQWEsTUFBTSxhQUFhLG1PQUFtTyxpQkFBaUIsR0FBRyxlQUFlLGVBQWUscUJBQXFCLGlCQUFpQixhQUFhLGdCQUFnQixhQUFhLHFEQUFxRCxnQkFBZ0Isb0JBQW9CLGtCQUFrQix5Q0FBeUMsb0JBQW9CLG1CQUFtQixnQkFBZ0IsSUFBSSx5QkFBeUIsMkZBQTJGLDhDQUE4Qyx3REFBd0QsRUFBRSx1QkFBdUIsVUFBVSxpQ0FBaUMsRUFBRSxVQUFVLFNBQVMsVUFBVSxtQkFBbUIsRUFBRSxZQUFZLG9CQUFvQixtQkFBbUIsZ0JBQWdCLElBQUkseUJBQXlCLGdHQUFnRyw4Q0FBOEMsb0NBQW9DLEVBQUUsdUJBQXVCLFVBQVUsaUNBQWlDLEVBQUUsV0FBVyxTQUFTLFVBQVUsbUJBQW1CLEVBQUUsWUFBWSxnQkFBZ0IsNEdBQTRHLDJIQUEySCxhQUFhLGlCQUFpQixtQkFBbUIsc0JBQXNCLG1CQUFtQixXQUFXLEtBQUsscUJBQXFCLFlBQVksUUFBUSxvQkFBb0IsU0FBUyxnQkFBZ0IscUVBQXFFLGtCQUFrQixrQkFBa0IsbUJBQW1CLHFFQUFxRSxrQkFBa0IsZ0JBQWdCLFdBQVcsZ0JBQWdCLE1BQU0saUJBQWlCLDJCQUEyQixNQUFNLDJCQUEyQixNQUFNLFlBQVksU0FBUyxrQkFBa0IsWUFBWSxtRUFBbUUsbUpBQW1KLGNBQWMsT0FBTyxnSUFBZ0ksNEJBQTRCLGtIQUFrSCxtQkFBbUIsZUFBZSwyQkFBMkIsZ0VBQWdFLDRDQUE0Qyx1QkFBdUIsK0ZBQStGLG9CQUFvQixhQUFhLG9CQUFvQixnQ0FBZ0Msc0JBQXNCLEdBQUcsR0FBRyxZQUFZLGdDQUFnQyxpQkFBaUIsb0JBQW9CLHdIQUF3SCxrQ0FBa0MsOENBQThDLDRCQUE0Qix3REFBd0QsMkJBQTJCLGVBQWUsK0JBQStCLCtDQUErQyxpQ0FBaUMsOEJBQThCLDBCQUEwQixZQUFZLGdHQUFnRywyQkFBMkIsa0JBQWtCLDRCQUE0QixtQ0FBbUMsR0FBRyxHQUFHLE9BQU8saUJBQWlCLGNBQWMsU0FBUyxHQUFHLE9BQU8saUJBQWlCLGFBQWEsbUNBQW1DLFNBQVMsR0FBRyxPQUFPLGlCQUFpQixhQUFhLGdEQUFnRCx1Q0FBdUMsbUJBQW1CLHdCQUF3Qix5QkFBeUIsZUFBZSx1QkFBdUIsNkJBQTZCLHdCQUF3Qix1Q0FBdUMsMkJBQTJCLGlCQUFpQiwwQkFBMEIsVUFBVSwyQkFBMkIsVUFBVSwyQkFBMkIsc0JBQXNCLDJCQUEyQixlQUFlLDJCQUEyQixlQUFlLDJCQUEyQixlQUFlLDJCQUEyQixlQUFlLEdBQUcsR0FBRyxNQUFNLGlCQUFpQixhQUFhLFdBQVcsbUhBQW1ILFFBQVEsaVdBQWlXLG1CQUFtQix5QkFBeUIsWUFBWSxFQUFFLHdGQUF3Rix3QkFBd0IsK0RBQStELDRCQUE0QixnQkFBZ0IsR0FBRyxHQUFHLHNFQUFzRSxpQkFBaUIsY0FBYyw2QkFBNkIsSUFBSSxtRUFBbUUsU0FBUyxhQUFhLHlCQUF5QixJQUFJLHVFQUF1RSxTQUFTLFVBQVUsMEJBQTBCLElBQUksMkRBQTJELFNBQVMsYUFBYSxHQUFHLEdBQUcsT0FBTyxpQkFBaUIsY0FBYyxVQUFVLGtDQUFrQyxpQkFBaUIseUVBQXlFLG1DQUFtQyxTQUFTLHNDQUFzQyw4QkFBOEIseUJBQXlCLEtBQUssU0FBUyxHQUFHLEdBQUcsT0FBTyxpQkFBaUIsYUFBYSw4QkFBOEIsYUFBYSxNQUFNLGFBQWEsaUJBQWlCLGFBQWEscVZBQXFWLHVDQUF1QyxTQUFTLEdBQUcsT0FBTyxpQkFBaUIsYUFBYSw4Q0FBOEMsU0FBUyxvQ0FBb0MsU0FBUyxHQUFHLE9BQU8saUJBQWlCLGFBQWEsK1JBQStSLFNBQVMsR0FBRyxPQUFPLGlCQUFpQixHQUFHLGlCQUFpQixHQUFHLE1BQU0sYUFBYSxpQkFBaUIsY0FBYyxTQUFTLEdBQUcsbUZBQW1GLGlDQUFpQyw0RkFBNEYsaURBQWlELGlCQUFpQixhQUFhLDRDQUE0QyxhQUFhLG1CQUFtQixnREFBZ0Qsc0VBQXNFLHlEQUF5RCxhQUFhLGlCQUFpQixpRUFBaUUsaUJBQWlCLGNBQWMsU0FBUyxHQUFHLDhDQUE4QyxNQUFNLGFBQWEsNE1BQTRNLGVBQWUsR0FBRyxNQUFNLGFBQWEsc0xBQXNMLGlCQUFpQixHQUFHLGlCQUFpQixjQUFjLFNBQVMsR0FBRyxPQUFPLGlCQUFpQixjQUFjLFNBQVMsR0FBRyxPQUFPLGlCQUFpQixjQUFjLFNBQVMsR0FBRyxPQUFPLGlCQUFpQixhQUFhLGVBQWUsU0FBUyxnQkFBZ0IsYUFBYSx3QkFBd0Isb0NBQW9DLE1BQU0sa0NBQWtDLHNCQUFzQixvRUFBb0UsR0FBRyxHQUFHLE9BQU8saUJBQWlCLGFBQWEsc0JBQXNCLFNBQVMsR0FBRyxPQUFPLGlCQUFpQixhQUFhLCtJQUErSSxrQ0FBa0MsY0FBYyxnQ0FBZ0MsbURBQW1ELDhCQUE4QiwwQkFBMEIsNEJBQTRCLFVBQVUsNEJBQTRCLG9CQUFvQixnREFBZ0QsZ0NBQWdDLHdCQUF3QixpQkFBaUIsS0FBSyxpQkFBaUIsMkJBQTJCLDREQUE0RCxPQUFPLFlBQVksb0lBQW9JLGdCQUFnQixtQkFBbUIsaUNBQWlDLGdDQUFnQywyREFBMkQsZ0NBQWdDLDRDQUE0QyxnQ0FBZ0MsNENBQTRDLDRCQUE0QixXQUFXLHlCQUF5QixhQUFhLEVBQUUsMkJBQTJCLFlBQVksMlNBQTJTLFlBQVkseVRBQXlULDJCQUEyQixrRkFBa0YsMkJBQTJCLHVCQUF1QixrRUFBa0UsWUFBWSxxRUFBcUUsZ0JBQWdCLE1BQU0sMENBQTBDLGlFQUFpRSxzQkFBc0IsWUFBWSxvREFBb0QsaUNBQWlDLDhCQUE4QixvQkFBb0IsOEJBQThCLG9CQUFvQix5Q0FBeUMsY0FBYyxlQUFlLG9CQUFvQix3QkFBd0Isb0JBQW9CLGNBQWMsNEJBQTRCLFlBQVksd0JBQXdCLGFBQWEsNExBQTRMLDJCQUEyQixxREFBcUQsOEJBQThCLHNEQUFzRCw2QkFBNkIsR0FBRyxHQUFHLE9BQU8saUJBQWlCLGNBQWMsMk5BQTJOLGtDQUFrQyxtQkFBbUIsOEJBQThCLFlBQVksbUNBQW1DLGlFQUFpRSxnQkFBZ0IsNEJBQTRCLFdBQVcsMENBQTBDLE9BQU8sbUNBQW1DLDJCQUEyQixXQUFXO0FBQ3B1K0IsZ0NBQWdDLG9CQUFvQix3QkFBd0Isb0JBQW9CLEVBQUUsaUNBQWlDLGtDQUFrQyx3QkFBd0IsZ0JBQWdCLDZDQUE2QyxNQUFNLHdDQUF3QyxnQ0FBZ0MsMEJBQTBCLEdBQUcsR0FBRyxPQUFPLGlCQUFpQixnQkFBZ0Isa0hBQWtILGtDQUFrQyx1QkFBdUIsK0JBQStCLFNBQVMsdUJBQXVCLG1MQUFtTCxTQUFTLG9FQUFvRSxFQUFFLG1CQUFtQixtQ0FBbUMsd0NBQXdDLHdFQUF3RSxHQUFHLEdBQUcsT0FBTyxpQkFBaUIsa0JBQWtCLHVFQUF1RSxTQUFTLEdBQUcsT0FBTyxpQkFBaUIsb0JBQW9CLDRIQUE0SCxxQ0FBcUMsU0FBUyxnRkFBZ0YsR0FBRyxHQUFHLE9BQU8sa0JBQWtCLG9CQUFvQixpQ0FBaUMsbUJBQW1CLGdCQUFnQixJQUFJLE9BQU8sa0JBQWtCLG9CQUFvQixpQ0FBaUMsbUJBQW1CLGdCQUFnQixJQUFJLE9BQU8saUJBQWlCLGtCQUFrQiwyREFBMkQsU0FBUyxHQUFHLE9BQU8sZUFBZSxHQUFHLGVBQWUsYUFBYSxhQUFhLDBCQUEwQixvREFBb0QseUZBQXlGLHVGQUF1RixTQUFTLDZRQUE2USxlQUFlLHNCQUFzQixpQkFBaUIsY0FBYyxTQUFTLEdBQUcsZ0JBQWdCLGlCQUFpQixrQkFBa0IsdUNBQXVDLGlDQUFpQyx5R0FBeUcsbUJBQW1CLGdDQUFnQyxFQUFFLGtCQUFrQixvTUFBb00sdUJBQXVCLEdBQUcsR0FBRyxhQUFhLGVBQWUsYUFBYSxNQUFNLGFBQWEsaUJBQWlCLGNBQWMsU0FBUyxHQUFHLG1DQUFtQyxpQkFBaUIsY0FBYyxTQUFTLEdBQUcsMkRBQTJELGlDQUFpQyw0RkFBNEYsbUZBQW1GLGVBQWUsYUFBYSxpQkFBaUIsY0FBYyxTQUFTLEdBQUcsa0VBQWtFLEVBQUUsRUFBRSxFQUFFLFlBQVksR0FBRyxFQUFFLGNBQWMsRUFBRSxXQUFXLEVBQUUsRUFBRSxFQUFFLFlBQVksRUFBRSxpR0FBaUcsaUJBQWlCLGFBQWEsTUFBTSxhQUFhLFFBQVEsaUJBQWlCLGNBQWMsU0FBUyxHQUFHLDZHQUE2RyxhQUFhLHVDQUF1QyxFQUFFLDhEQUE4RCxpQkFBaUIsR0FBRyxpQkFBaUIsYUFBYSx3REFBd0QsYUFBYSxvQ0FBb0MsaUJBQWlCLEdBQUcsaUJBQWlCLG9CQUFvQiw4TEFBOEwsc0NBQXNDLGdFQUFnRSw0QkFBNEIsY0FBYyxHQUFHLEdBQUcsT0FBTyxpQkFBaUIsZ0JBQWdCLDBCQUEwQixTQUFTLEdBQUcsT0FBTyxpQkFBaUIsYUFBYSwwT0FBME8sNkNBQTZDLHNEQUFzRCxrQ0FBa0MscUJBQXFCLHVEQUF1RCw4QkFBOEIsZ0JBQWdCLGtDQUFrQyxXQUFXLDhCQUE4QiwwREFBMEQsc0JBQXNCLG1CQUFtQixrQkFBa0IsZ0JBQWdCLGtCQUFrQixrREFBa0QsS0FBSyxpRUFBaUUsMkdBQTJHLG1CQUFtQixrREFBa0Qsd0JBQXdCLDJEQUEyRCxFQUFFLG1CQUFtQixtQkFBbUIsb0JBQW9CLDhCQUE4Qix5REFBeUQsR0FBRyxHQUFHLE9BQU8saUJBQWlCLFFBQVEsYUFBYSxRQUFRLFlBQVkseUJBQXlCLGdCQUFnQixVQUFVLFVBQVUsOEJBQThCLHdCQUF3QixvQkFBb0IsOENBQThDLGtDQUFrQyxZQUFZLE1BQU0sNkJBQTZCLGlCQUFpQixnQkFBZ0IsZ0JBQWdCLGNBQWMsc0NBQXNDLFdBQVcsWUFBWSxTQUFTLEVBQUUsbUJBQW1CLG9CQUFvQixVQUFVLDBCQUEwQixVQUFVLGdDQUFnQyxVQUFVLEVBQUUseURBQXlELHFCQUFxQiw2REFBNkQsYUFBYSxpQkFBaUIsb0NBQW9DLG9CQUFvQiw0QkFBNEIsSUFBSSxrQkFBa0IsU0FBUyxpREFBaUQsMkJBQTJCLGlCQUFpQixpQ0FBaUMsTUFBTSw4QkFBOEIsaUJBQWlCLFdBQVcsOENBQThDLG9CQUFvQixnQkFBZ0IsNEJBQTRCLGdCQUFnQiwyUEFBMlAsNEJBQTRCLGlCQUFpQiw2QkFBNkIsd0JBQXdCLFdBQVcsS0FBSyxXQUFXLDRCQUE0QixvQkFBb0IsOEJBQThCLDhEQUE4RCxHQUFHLEdBQUcsT0FBTyxFQUFFLHNDQUFzQyxxQkFBcUIsaUJBQWlCLGdCQUFnQixtREFBbUQsU0FBUyxnQkFBZ0IsYUFBYSxrQkFBa0Isa0NBQWtDLGlCQUFpQixpQkFBaUIsS0FBSyxpQkFBaUIsaUJBQWlCLFNBQVMsK0JBQStCLHlEQUF5RCx5REFBeUQsaUJBQWlCLFdBQVcsaUJBQWlCLDJCQUEyQiw4QkFBOEIsNkJBQTZCLHlEQUF5RCxpQkFBaUIsMkNBQTJDLGlCQUFpQixnQ0FBZ0MsZ0NBQWdDLHlEQUF5RCxpQkFBaUIsMkNBQTJDLG9CQUFvQiw0QkFBNEIseURBQXlELGlCQUFpQixhQUFhLEdBQUcsR0FBRyxPQUFPLEdBQUcscUJBQXFCLDZDQUE2QyxrQkFBa0IsNkVBQTZFLEtBQUssYUFBYSw4QkFBOEIsbUJBQW1CLGNBQWMsU0FBUyxHQUFHLE9BQU8sRUFBRSx5QkFBeUIscUJBQXFCLE1BQU0sYUFBYSw0Q0FBNEMsU0FBUyxVQUFVLEdBQUcsRUFBRSxHQUFHLFNBQVMsRUFBRSw4Q0FBOEMsWUFBWSxlQUFlLGtHQUFrRyxLQUFLLG9CQUFvQixnQkFBZ0IsUUFBUSx3Q0FBd0MsU0FBUyxvQkFBb0IsY0FBYyxtRUFBbUUsc0JBQXNCLGVBQWUsMkVBQTJFLG9CQUFvQixZQUFZLHdEQUF3RCx5QkFBeUIsZ0RBQWdELDZGQUE2RixNQUFNLEVBQUUsYUFBYSw0QkFBNEIsV0FBVyxVQUFVLHVFQUF1RSxNQUFNLG9FQUFvRSxNQUFNLHFCQUFxQixPQUFPLE9BQU8sdUNBQXVDLGtMQUFrTCxtQ0FBbUMsaUJBQWlCLG1DQUFtQyxxRUFBcUUsc0JBQXNCLGNBQWMsSUFBSSwwQkFBMEIsVUFBVSxJQUFJLDJDQUEyQyxVQUFVLElBQUksOENBQThDLFVBQVUseUNBQXlDLHFCQUFxQixXQUFXLDBEQUEwRCxnQkFBZ0Isa0dBQWtHLFFBQVEsa0JBQWtCLHFFQUFxRSx3REFBd0QsaUZBQWlGLHdFQUF3RSxnRkFBZ0Ysc0JBQXNCLHNJQUFzSSwwQkFBMEIsMEZBQTBGLGVBQWUsUUFBUSxnQkFBZ0IsVUFBVSw2Q0FBNkMsRUFBRSxTQUFTLGdCQUFnQixrRUFBa0UsbUJBQW1CLFNBQVMsa0JBQWtCLG1CQUFtQixrQkFBa0Isc0JBQXNCLGtCQUFrQixRQUFRLFdBQVcsc0NBQXNDLG9CQUFvQixlQUFlLGVBQWUsbUJBQW1CLFVBQVUsZUFBZSxnQkFBZ0IsdUJBQXVCLFdBQVcsc0JBQXNCLGVBQWUsK0ZBQStGLHFCQUFxQixXQUFXLG9FQUFvRSxRQUFRLG1CQUFtQixhQUFhLG1CQUFtQixnQkFBZ0IsRUFBRSxlQUFlLFdBQVcsK0NBQStDLGtEQUFrRCxXQUFXLG1CQUFtQixhQUFhLElBQUksY0FBYyxnQkFBZ0Isa0JBQWtCLGdCQUFnQixzREFBc0QsZ0JBQWdCLHFFQUFxRSxnQkFBZ0Isa0VBQWtFLG1CQUFtQixpREFBaUQsaUJBQWlCLDROQUE0TixrQkFBa0IsZ0JBQWdCLGtCQUFrQixzQkFBc0Isa0JBQWtCLFFBQVEsV0FBVyxzQ0FBc0Msb0JBQW9CLGVBQWUsZUFBZSxtQkFBbUIsVUFBVSxlQUFlLGdCQUFnQixpQ0FBaUMsVUFBVSxnQkFBZ0IsbVpBQW1aLDBXQUEwVyxjQUFjLGVBQWUsb0JBQW9CLGlFQUFpRSxlQUFlLG9CQUFvQiwrRkFBK0YsZ0JBQWdCLDRDQUE0QyxFQUFFLGVBQWUscUNBQXFDLE9BQU8sMkNBQTJDLEtBQUssZUFBZSxvQkFBb0IsMkNBQTJDLGdDQUFnQyxFQUFFLGVBQWUsb0NBQW9DLGtDQUFrQyxlQUFlLGdCQUFnQixnQkFBZ0Isb0JBQW9CLCtFQUErRSxlQUFlLG9CQUFvQixzQkFBc0IsNkNBQTZDLDZCQUE2QixrQ0FBa0MsWUFBWSxPQUFPLG1CQUFtQixFQUFFLG9DQUFvQyxtREFBbUQsSUFBSSxnRUFBZ0Usa0JBQWtCLCtEQUErRCxlQUFlLHdCQUF3QixtQkFBbUIsRUFBRSxtQkFBbUIseUNBQXlDLHdDQUF3QyxrQkFBa0IsK0RBQStELGVBQWUsd0JBQXdCLG1CQUFtQixFQUFFLG1CQUFtQix5Q0FBeUMsd0NBQXdDLGdCQUFnQixvQkFBb0IsZ0JBQWdCLGdCQUFnQixnQkFBZ0IsZ0JBQWdCLGdCQUFnQixnQkFBZ0IsZ0JBQWdCLGdCQUFnQixnQkFBZ0IsZ0JBQWdCLGdCQUFnQiwrQkFBK0IsS0FBSyxpQkFBaUIsV0FBVyxLQUFLLGtCQUFrQiw4R0FBOEcseUJBQXlCLGdCQUFnQixXQUFXLGVBQWUsNE1BQTRNLFFBQVEseUJBQXlCLHdFQUF3RSxzR0FBc0csZ0JBQWdCLGdCQUFnQixTQUFTLDRHQUE0RyxlQUFlLHlEQUF5RCxlQUFlLFFBQVEscUJBQXFCLG9EQUFvRCw4Q0FBOEMsbUNBQW1DLG9EQUFvRCxNQUFNLG1KQUFtSiwrQkFBK0IsZUFBZSx3QkFBd0IsaUJBQWlCLGVBQWUsZUFBZSxnQ0FBZ0Msc0RBQXNELFNBQVMsaUlBQWlJLGVBQWUsVUFBVSxlQUFlLHFDQUFxQyxvR0FBb0csZUFBZSxVQUFVLGtCQUFrQixvQkFBb0IsZUFBZSxpQkFBaUIsZUFBZSxnQkFBZ0Isc0RBQXNELGVBQWUsaUJBQWlCLGVBQWUsaUJBQWlCLGdCQUFnQiwwQ0FBMEMsU0FBUyxvRUFBb0UsNkJBQTZCLDRCQUE0Qix5Q0FBeUMsT0FBTyw2QkFBNkIsU0FBUyxlQUFlLGlCQUFpQixlQUFlLGlCQUFpQixlQUFlLGdCQUFnQixTQUFTLGVBQWUsaUJBQWlCLGdCQUFnQixRQUFRLFVBQVUsOEJBQThCLHFDQUFxQyxxQ0FBcUMsbUNBQW1DLG1DQUFtQyxtQ0FBbUMsbUNBQW1DLG1DQUFtQyxpQ0FBaUMsRUFBRSx3Q0FBd0Msd0JBQXdCLHNCQUFzQixzQ0FBc0MsU0FBUywrRkFBK0Ysc0JBQXNCLHNDQUFzQyxTQUFTLGtCQUFrQixzQkFBc0Isc0NBQXNDLFNBQVMsa0JBQWtCLHdCQUF3Qiw2QkFBNkIscUNBQXFDLDJGQUEyRiwrSEFBK0gsc0JBQXNCLFVBQVUsd0NBQXdDLGVBQWUsV0FBVywwQkFBMEIscUJBQXFCLGdDQUFnQyxTQUFTLGlCQUFpQixlQUFlLGFBQWEsTUFBTSxhQUFhLGNBQWMsWUFBWSxpQkFBaUIsY0FBYyxTQUFTLEdBQUcsZ0JBQWdCLE1BQU0sYUFBYSxxSUFBcUksaUJBQWlCLEdBQUcsTUFBTSxhQUFhLHVRQUF1USxTQUFTLEdBQUcsaUJBQWlCLGNBQWMsU0FBUyxHQUFHLHFCQUFxQixpQkFBaUIsZ0JBQWdCLDJCQUEyQixTQUFTLEdBQUcsa0JBQWtCLE1BQU0sYUFBYSxzSkFBc0osaUJBQWlCLEdBQUcsTUFBTSxhQUFhLGlIQUFpSCxpQkFBaUIsa0NBQWtDLGlCQUFpQixjQUFjLFVBQVUsa0RBQWtELG9CQUFvQixHQUFHLEdBQUcsT0FBTyxpQkFBaUIsNEVBQTRFLHFFQUFxRSxlQUFlLGFBQWEsaUJBQWlCLGNBQWMsU0FBUyxHQUFHLG1FQUFtRSxpQkFBaUIsYUFBYSwyQkFBMkIsa0VBQWtFLHFDQUFxQyxrQ0FBa0MsaUJBQWlCLGFBQWEsa0hBQWtILDhOQUE4Tiw0S0FBNEssK0VBQStFLFNBQVMsa01BQWtNLGVBQWUsSUFBSSxTQUFTLGlCQUFpQiwyQkFBMkIsV0FBVyxLQUFLLCtCQUErQixjQUFjLEtBQUssT0FBTyxzQ0FBc0MsRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLG9IQUFvSCxTQUFTLFNBQVMsV0FBVyxzTEFBc0wsdUJBQXVCLGlEQUFpRCwyQkFBMkIsbUNBQW1DLElBQUksdUNBQXVDLFNBQVMsK0ZBQStGLEVBQUUsMkJBQTJCLElBQUksd0JBQXdCLFNBQVMscUNBQXFDLDhCQUE4QixpQ0FBaUMsbUNBQW1DLDRCQUE0QixTQUFTLHVDQUF1Qyx5Q0FBeUMsOEJBQThCLDhDQUE4QyxtQkFBbUIsU0FBUyxRQUFRLHFDQUFxQyxpQ0FBaUMsbUNBQW1DLGtDQUFrQywwQkFBMEIscUNBQXFDLEdBQUcsR0FBRyxpQkFBaUIsaUJBQWlCLGFBQWEsK0NBQStDLGFBQWEsd0JBQXdCLGtDQUFrQyw2RUFBNkUsa0JBQWtCLFVBQVUsMkJBQTJCLG1WQUFtVixVQUFVLHdCQUF3QixpQkFBaUIsNEJBQTRCLGlCQUFpQiw4Q0FBOEMsOEVBQThFLHNCQUFzQixnQkFBZ0IsMEJBQTBCLGlDQUFpQyxVQUFVLGlDQUFpQywyQkFBMkIsbUJBQW1CLDJCQUEyQixrQkFBa0IsMkJBQTJCLHNCQUFzQiwyQkFBMkIsZUFBZSwyQkFBMkIsc0JBQXNCLDJCQUEyQix3REFBd0QsZ0JBQWdCLHdFQUF3RSw4RUFBOEUsMkJBQTJCLFlBQVksc0JBQXNCLDJCQUEyQixrQ0FBa0MsMkJBQTJCLDREQUE0RCwyQkFBMkIsOENBQThDLDJCQUEyQiw2RUFBNkUsaUNBQWlDLGlCQUFpQixHQUFHLEdBQUcsNkhBQTZILGlCQUFpQixVQUFVO0FBQzExeUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixhQUFhLG9JQUFvSSx3QkFBd0IsYUFBYSxnQkFBZ0IsZ0RBQWdELDZEQUE2RCxlQUFlLHNFQUFzRSxtREFBbUQsMkVBQTJFLCtDQUErQyxjQUFjLCtCQUErQix1QkFBdUIsY0FBYyxvRkFBb0YsY0FBYyxxQkFBcUIsZ0JBQWdCLGFBQWEsMEJBQTBCLGdDQUFnQyxJQUFJLGVBQWUsYUFBYSxtQkFBbUIsSUFBSSxLQUFLLDRDQUE0QywyQkFBMkIsU0FBUyxnQkFBZ0IsUUFBUSxTQUFTLG1CQUFtQixJQUFJLDJCQUEyQixTQUFTLFdBQVcsbUJBQW1CLElBQUkscUJBQXFCLGlEQUFpRCwwQkFBMEIsU0FBUyxnQkFBZ0IseUJBQXlCLGdDQUFnQyxrQkFBa0IsdUJBQXVCLElBQUksNEJBQTRCLFNBQVMsY0FBYyxtQkFBbUIsdUJBQXVCLGNBQWMsaUJBQWlCLGNBQWMsd0VBQXdFLGNBQWMscUJBQXFCLHdFQUF3RSxnQkFBZ0IscUJBQXFCLHdIQUF3SCxjQUFjLG9CQUFvQixvREFBb0QsZ0JBQWdCLE9BQU8sc0hBQXNILDJGQUEyRixJQUFJLEtBQUssSUFBSSxLQUFLLElBQUksS0FBSyxJQUFJLDRCQUE0QixJQUFJLEdBQUcsRUFBRSxhQUFhLElBQUksbUJBQW1CLElBQUksR0FBRyxFQUFFLGNBQWMsSUFBSSx5RUFBeUUsRUFBRSxvQkFBb0IsSUFBSSxHQUFHLEVBQUUsZ0JBQWdCLElBQUksRUFBRSxJQUFJLDJFQUEyRSxFQUFFLG9CQUFvQixJQUFJLEdBQUcsRUFBRSxnQkFBZ0IsSUFBSSxFQUFFLElBQUksaUJBQWlCLElBQUksMkVBQTJFLEVBQUUscUJBQXFCLElBQUksR0FBRyxFQUFFLGdCQUFnQixJQUFJLEVBQUUsSUFBSSxpQkFBaUIsSUFBSSxFQUFFLElBQUkseUVBQXlFLEVBQUUscUJBQXFCLElBQUksR0FBRyxFQUFFLGdCQUFnQixJQUFJLEVBQUUsSUFBSSxpQkFBaUIsSUFBSSxFQUFFLElBQUkseUVBQXlFLEVBQUUscUJBQXFCLElBQUksR0FBRyxFQUFFLGdCQUFnQixJQUFJLEVBQUUsSUFBSSxpQkFBaUIsSUFBSSxFQUFFLElBQUkseUVBQXlFLEVBQUUseUJBQXlCLElBQUksRUFBRSxJQUFJLGlCQUFpQixJQUFJLEVBQUUsSUFBSSx5RUFBeUUsRUFBRSxpREFBaUQsSUFBSSxrQkFBa0IsSUFBSSx5QkFBeUIsSUFBSSwwR0FBMEcsMkJBQTJCLGtGQUFrRixpREFBaUQsR0FBRyxJQUFJLFlBQVksT0FBTyxrREFBa0QsOEJBQThCLCtKQUErSixrQkFBa0Isa0JBQWtCLCtCQUErQixpREFBaUQsd0RBQXdELGtDQUFrQyxpQkFBaUIsdUNBQXVDLE9BQU8sVUFBVSxRQUFRLHVDQUF1QyxnREFBZ0QsaUNBQWlDLFNBQVMsbUJBQW1CLDZCQUE2QixLQUFLLFFBQVEscUVBQXFFLDBJQUEwSSxjQUFjLEtBQUssUUFBUSxnREFBZ0QseUVBQXlFLHVCQUF1QixTQUFTLG9CQUFvQix1Q0FBdUMsb0JBQW9CLHFCQUFxQixzREFBc0Qsb0JBQW9CLDJCQUEyQixJQUFJLDRDQUE0QyxTQUFTLFdBQVcsU0FBUyxnQ0FBZ0MsaUJBQWlCLG1CQUFtQixJQUFJLG9EQUFvRCx5QkFBeUIsRUFBRSxTQUFTLFlBQVkseUZBQXlGLHNCQUFzQixtQkFBbUIsTUFBTSxnQkFBZ0IscUJBQXFCLE1BQU0seUNBQXlDLElBQUksaUJBQWlCLG1CQUFtQiwwTUFBME0sTUFBTSxlQUFlLGtiQUFrYixvQkFBb0IsdUJBQXVCLHlCQUF5Qix5SkFBeUosS0FBSywyREFBMkQsOElBQThJLHFGQUFxRixvQkFBb0IsNkJBQTZCLG9CQUFvQiw4REFBOEQsMk1BQTJNLG9CQUFvQixlQUFlLGdFQUFnRSxrQkFBa0IsK0JBQStCLElBQUksa0tBQWtLLFNBQVMsa0JBQWtCLFNBQVMsbVJBQW1SLGtCQUFrQixTQUFTLHdHQUF3RyxrQkFBa0IsdUJBQXVCLGtCQUFrQixTQUFTLHFHQUFxRyxzQkFBc0IsaUJBQWlCLGdEQUFnRCxtQkFBbUIsSUFBSSxvR0FBb0csNENBQTRDLHNCQUFzQixzQkFBc0IsNkNBQTZDLHNCQUFzQixpRUFBaUUsS0FBSyw0R0FBNEcscUNBQXFDLDhFQUE4RSxzQkFBc0IsVUFBVSwyQkFBMkIsSUFBSSxtQkFBbUIsNERBQTRELGtFQUFrRSxLQUFLLHdIQUF3SCxxS0FBcUssd0JBQXdCLGFBQWEsbUJBQW1CLDBGQUEwRixTQUFTLHFFQUFxRSxTQUFTLG1IQUFtSCxhQUFhLDhCQUE4QixzREFBc0QsYUFBYSxtQ0FBbUMsaUNBQWlDLFlBQVksaUJBQWlCLHdFQUF3RSx5QkFBeUIsb0RBQW9ELG1JQUFtSSxpQkFBaUIsMEJBQTBCLG1CQUFtQixLQUFLLDBCQUEwQixVQUFVLHFCQUFxQixXQUFXLGtEQUFrRCxrQ0FBa0Msc0JBQXNCLHlGQUF5RixvQkFBb0Isb0NBQW9DLFFBQVEsSUFBSSxrQ0FBa0MsSUFBSSxNQUFNLGdLQUFnSyxzQkFBc0IsUUFBUSxFQUFFLHNHQUFzRyxtQkFBbUIsRUFBRSxnQkFBZ0IsWUFBWSxjQUFjLGlCQUFpQixpQ0FBaUMseUJBQXlCLHNEQUFzRCxFQUFFLGdCQUFnQixZQUFZLDBCQUEwQixnQkFBZ0Isc0hBQXNILGFBQWEsaUJBQWlCLDJGQUEyRix1QkFBdUIsa0JBQWtCLGtCQUFrQix5SEFBeUgsK0dBQStHLGtCQUFrQixNQUFNLE9BQU8sY0FBYyxrS0FBa0ssa0NBQWtDLGtCQUFrQix3RkFBd0Ysb0JBQW9CLG1CQUFtQixpQ0FBaUMsc0JBQXNCLHdMQUF3TCxtQkFBbUIsMkNBQTJDLHNCQUFzQixtQkFBbUIsMkNBQTJDLDBCQUEwQix1QkFBdUIsOENBQThDLHNDQUFzQyx5RkFBeUYsd0NBQXdDLE1BQU0scUNBQXFDLDBCQUEwQiw0RUFBNEUsZUFBZSxjQUFjLGdCQUFnQiwySEFBMkgsS0FBSywrQ0FBK0MsZUFBZSxnREFBZ0Qsd0JBQXdCLGtCQUFrQixzREFBc0QsMk5BQTJOLHdCQUF3Qix3QkFBd0IsaUNBQWlDLG1CQUFtQixrQkFBa0IsMENBQTBDLDBDQUEwQyxtQkFBbUIsNkJBQTZCLDhCQUE4Qix3QkFBd0IsYUFBYSx1Q0FBdUMseUJBQXlCLCtLQUErSyx3QkFBd0IsMENBQTBDLHlDQUF5Qyw2S0FBNkssd0JBQXdCLDBCQUEwQix5Q0FBeUMsZUFBZSxRQUFRLGFBQWEsNkZBQTZGLGFBQWEsd0JBQXdCLHdCQUF3Qix5Q0FBeUMsZUFBZSxrQ0FBa0MscUNBQXFDLFdBQVcsMERBQTBELHNCQUFzQix5Q0FBeUMsdURBQXVELHNCQUFzQiw2RkFBNkYsd0JBQXdCLG9CQUFvQix5Q0FBeUMsdURBQXVELHNCQUFzQiw2RkFBNkYsd0JBQXdCLG9CQUFvQix5Q0FBeUMsZUFBZSxvQkFBb0IscUNBQXFDLHFFQUFxRSxvQkFBb0IsTUFBTSw0SUFBNEksb0JBQW9CLHlDQUF5QyxlQUFlLDZDQUE2QyxxREFBcUQsMkNBQTJDLDRHQUE0RywwSEFBMEgsd0JBQXdCLHlDQUF5QyxtREFBbUQsNkNBQTZDLG9DQUFvQyx5Q0FBeUMsa0RBQWtELG1GQUFtRixxREFBcUQsK0RBQStELEtBQUssdUNBQXVDLCtDQUErQyx3QkFBd0Isb0JBQW9CLHlDQUF5QyxtREFBbUQsNkNBQTZDLDBFQUEwRSx1RUFBdUUsTUFBTSxrREFBa0QsNkJBQTZCLDJGQUEyRiw4RUFBOEUsS0FBSyxrR0FBa0csOEVBQThFLHdCQUF3QixvQkFBb0IseUNBQXlDLHVCQUF1Qiw2Q0FBNkMsZ0NBQWdDLDRHQUE0RyxtQkFBbUIsc0dBQXNHLGdMQUFnTCwwQkFBMEIseUNBQXlDLHVCQUF1Qiw4Q0FBOEMsa0VBQWtFLGtDQUFrQyxTQUFTLCtEQUErRCx5Q0FBeUMsc0ZBQXNGLHdCQUF3Qix5Q0FBeUMsdUJBQXVCLDhDQUE4QywrQ0FBK0MsZ0dBQWdHLHNDQUFzQyxzQkFBc0IsdURBQXVELEtBQUssa0JBQWtCLDBCQUEwQiw4RUFBOEUsc0JBQXNCLDhFQUE4RSxxSkFBcUosb0ZBQW9GLG9DQUFvQyxLQUFLLHVCQUF1QixJQUFJLDhHQUE4RyxtRkFBbUYsK0JBQStCLCtDQUErQyxzQkFBc0IsVUFBVSxzREFBc0QsNENBQTRDLElBQUksd0JBQXdCLHFDQUFxQyxTQUFTLDJCQUEyQixJQUFJLHdCQUF3Qiw2REFBNkQsdUJBQXVCLFdBQVcsMEJBQTBCLDZDQUE2Qyx5QkFBeUIsbURBQW1ELG9FQUFvRSxtSEFBbUgsc0JBQXNCLGtDQUFrQyxrRUFBa0UsS0FBSyw0R0FBNEcsd0NBQXdDLDJGQUEyRixzQkFBc0Isa0NBQWtDLHVIQUF1SCxzQkFBc0Isa0NBQWtDLHVHQUF1RyxzQkFBc0Isa0NBQWtDLHFCQUFxQixnRUFBZ0UsNkdBQTZHLGtCQUFrQiw0R0FBNEcsa0JBQWtCLDJOQUEyTixrQkFBa0IscUhBQXFILGtCQUFrQixtQkFBbUIsa0JBQWtCLHVFQUF1RSxrQ0FBa0MsVUFBVSxlQUFlLDRJQUE0SSxHQUFHLG1FQUFtRSxFQUFFLDJDQUEyQywrR0FBK0csb0ZBQW9GLDRCQUE0Qiw2SEFBNkgsa0JBQWtCLHNEQUFzRCxxQ0FBcUMsMEJBQTBCLDRDQUE0QyxJQUFJLGlCQUFpQixRQUFRLHNCQUFzQixZQUFZLGlCQUFpQiwwQkFBMEIsNkJBQTZCLElBQUksaUJBQWlCLFFBQVEsc0JBQXNCLFlBQVksaUJBQWlCLG1CQUFtQix3Q0FBd0MsU0FBUywrT0FBK08saURBQWlELElBQUksS0FBSyw0QkFBNEIsbUhBQW1ILHNCQUFzQiw0QkFBNEIsa0JBQWtCLGdGQUFnRixpR0FBaUcsdURBQXVELHlEQUF5RCxRQUFRLE9BQU8sb0JBQW9CLGtQQUFrUCxrQkFBa0IseUNBQXlDLDhGQUE4RiwySEFBMkgsZ0dBQWdHLDZHQUE2Ryx5RUFBeUUsMERBQTBELDZEQUE2RCxnQ0FBZ0MsK0VBQStFLHdEQUF3RCxrQkFBa0Isd0NBQXdDLEtBQUssTUFBTSxvRUFBb0UsNEVBQTRFLGdDQUFnQywwQ0FBMEMsMkJBQTJCLFlBQVksMEJBQTBCLDZCQUE2QixRQUFRLDBDQUEwQyxTQUFTLGtCQUFrQiwyQkFBMkIsa0JBQWtCLDJCQUEyQixHQUFHLEVBQUUsaUJBQWlCO0FBQzVveEI7QUFDQTtBQUNBO0FBQ0EsZUFBZSxhQUFhLGFBQWEsMkJBQTJCLGdDQUFnQyx5QkFBeUIsZUFBZSw4QkFBOEIsS0FBSyxVQUFVLE9BQU8sb0JBQW9CLGVBQWUsY0FBYyxLQUFLLG9FQUFvRSxTQUFTLDZJQUE2SSxhQUFhLElBQUksd0JBQXdCLGtCQUFrQixhQUFhLEtBQUssV0FBVyxrQkFBa0Isa0JBQWtCLDhDQUE4QyxFQUFFLGVBQWUsc0JBQXNCLEVBQUUsS0FBSyxZQUFZLFNBQVMsZ0JBQWdCLGVBQWUsdUxBQXVMLGtCQUFrQixzQkFBc0IsUUFBUSw2SEFBNkgsbUpBQW1KLDJCQUEyQix1Q0FBdUMsa0VBQWtFLGlDQUFpQyxrR0FBa0csd0JBQXdCLElBQUksZ0JBQWdCLGdCQUFnQixrQkFBa0IsY0FBYyxtRUFBbUUsNkJBQTZCLGtEQUFrRCxLQUFLLGdCQUFnQixlQUFlLGNBQWMsVUFBVSwwREFBMEQsS0FBSyxNQUFNLGtEQUFrRCxpRkFBaUYsMkhBQTJILGdCQUFnQixTQUFTLHlDQUF5QyxpQkFBaUIsYUFBYSw0Q0FBNEMsYUFBYSxtQkFBbUIsZ0RBQWdELHNFQUFzRSxTQUFTLGFBQWEsaUJBQWlCLGNBQWMsU0FBUyxHQUFHLDhEQUE4RCxpQkFBaUIsY0FBYyxTQUFTLEdBQUcsa0JBQWtCLGtCQUFrQixhQUFhLCtDQUErQyxnQkFBZ0IseUJBQXlCLHFCQUFxQixpQkFBaUIsY0FBYyxTQUFTLEdBQUcsNkJBQTZCLGlDQUFpQyw0RkFBNEYsdUpBQXVKLGlCQUFpQixhQUFhLDRCQUE0QixhQUFhLE1BQU0sYUFBYSw2SUFBNkksaUJBQWlCLEdBQUcsaUJBQWlCLGFBQWEsMkJBQTJCLHFFQUFxRSx3SkFBd0osZ0JBQWdCLHFDQUFxQyxpQkFBaUIsb09BQW9PLG9DQUFvQyw2TkFBNk4sNEJBQTRCLE9BQU8sa1FBQWtRLDZCQUE2QixnQ0FBZ0Msd0NBQXdDLElBQUkscU5BQXFOLFdBQVcsNkJBQTZCLDJFQUEyRSxHQUFHLEdBQUcsT0FBTyxpQkFBaUIsR0FBRyxpQkFBaUIsYUFBYSxzT0FBc08sa0JBQWtCLE1BQU0sYUFBYSxpQkFBaUIsY0FBYyxvcUJBQW9xQixrRUFBa0Usd0JBQXdCLG9DQUFvQyxFQUFFLFNBQVMsd0JBQXdCLEdBQUcsb0JBQW9CLHNDQUFzQyx1RUFBdUUsd0dBQXdHLG9CQUFvQixzQ0FBc0MscUJBQXFCLDBCQUEwQixxQkFBcUIsMEJBQTBCLGVBQWUsMkJBQTJCLGlCQUFpQiwyQkFBMkIsc0JBQXNCLFdBQVcsS0FBSyxXQUFXLGlCQUFpQiw0QkFBNEIsNEJBQTRCLDRCQUE0QixxQkFBcUIsZ0NBQWdDLHNCQUFzQiw4REFBOEQsSUFBSSxFQUFFLFdBQVcsb09BQW9PLGVBQWUsdUdBQXVHLGtCQUFrQiwyQkFBMkIsV0FBVyxrREFBa0QscUNBQXFDLG9DQUFvQyw2QkFBNkIsdUJBQXVCLDZCQUE2QixZQUFZLGFBQWEsT0FBTyxNQUFNLCtEQUErRCxlQUFlLGFBQWEsbUhBQW1ILHdLQUF3SyxhQUFhLGlKQUFpSixFQUFFLGFBQWEsa0JBQWtCLEVBQUUsa0JBQWtCLDBGQUEwRix1QkFBdUIsOERBQThELGNBQWMsNEJBQTRCLFdBQVcsNkRBQTZELHVEQUF1RCx1QkFBdUIsMERBQTBELEVBQUUsMkJBQTJCLHVFQUF1RSxnRUFBZ0UsU0FBUyw0QkFBNEIsMEJBQTBCLElBQUksZUFBZSxpTUFBaU0sU0FBUyxtREFBbUQsNEJBQTRCLE9BQU8sb0lBQW9JLFdBQVcsMEJBQTBCLDBGQUEwRiw0QkFBNEIsMEZBQTBGLDJCQUEyQixjQUFjLDJCQUEyQiwyQkFBMkIsb0JBQW9CLGdFQUFnRSxTQUFTLCtDQUErQyxTQUFTLEVBQUUsMkJBQTJCLHdFQUF3RSw4QkFBOEIseUJBQXlCLDJCQUEyQixrQkFBa0IsNEJBQTRCLGlCQUFpQixLQUFLLGlCQUFpQiwyUkFBMlIsaUxBQWlMLFNBQVMsMEJBQTBCLDhCQUE4QiwyQkFBMkIsU0FBUyw0QkFBNEIsYUFBYSxnQ0FBZ0MsMkJBQTJCLGtCQUFrQixrQ0FBa0MsMEZBQTBGLFNBQVMsNEJBQTRCLDhGQUE4RiwwQkFBMEIsaUJBQWlCLDZFQUE2RSwyQkFBMkIsV0FBVywrQ0FBK0MsT0FBTywyQ0FBMkMsMkJBQTJCLG9DQUFvQywyQkFBMkIsV0FBVyxjQUFjLG1DQUFtQyxlQUFlLHdNQUF3TSxpREFBaUQsR0FBRywyQkFBMkIsV0FBVyxJQUFJLGlDQUFpQyxhQUFhLDZFQUE2RSxFQUFFLFNBQVMseUVBQXlFLFFBQVEsR0FBRywyQkFBMkIsNkVBQTZFLDBCQUEwQixpQkFBaUIsY0FBYyx5QkFBeUIseUdBQXlHLFNBQVMscUNBQXFDLHVDQUF1Qyx3QkFBd0IsY0FBYyw2QkFBNkIsdUJBQXVCLG9GQUFvRiw2REFBNkQsRUFBRSwyQkFBMkIsbUVBQW1FLDJCQUEyQixVQUFVLDhCQUE4QixVQUFVLFlBQVksdUhBQXVILDJCQUEyQixlQUFlLDJCQUEyQixrQ0FBa0MsR0FBRyxHQUFHLFdBQVcsaUJBQWlCLG9JQUFvSSxpQkFBaUIsYUFBYSxnQ0FBZ0MsY0FBYyxzREFBc0Qsd0JBQXdCLE1BQU0sMEJBQTBCLFVBQVUsNEJBQTRCLHlDQUF5QyxrQ0FBa0Msc0RBQXNELDhDQUE4QyxlQUFlLDJDQUEyQyxtQ0FBbUMsTUFBTSx5QkFBeUIsNkJBQTZCLG1CQUFtQixhQUFhLFFBQVEsNkJBQTZCLDZEQUE2RCx3QkFBd0Isd0NBQXdDLGdDQUFnQyxrRUFBa0UsZ0ZBQWdGLHVHQUF1RyxxQkFBcUIsd0JBQXdCLHFEQUFxRCw0QkFBNEIsMkdBQTJHLHFDQUFxQyx3QkFBd0Isc0dBQXNHLDBCQUEwQixzR0FBc0csRUFBRSxTQUFTLGtCQUFrQix1QkFBdUIsMERBQTBELHVCQUF1Qiw2Q0FBNkMsVUFBVSwrQkFBK0IsZ0NBQWdDLG9DQUFvQyxrQ0FBa0MscUNBQXFDLDZDQUE2QyxHQUFHLEdBQUcsT0FBTyxRQUFRLGlCQUFpQixhQUFhLCtCQUErQixjQUFjLDhCQUE4QixrREFBa0QsaUJBQWlCLGdCQUFnQix5QkFBeUIsb0JBQW9CLEdBQUcsR0FBRywyQkFBMkIsaUJBQWlCLE1BQU0sZUFBZSxhQUFhLG9PQUFvTyxxQkFBcUIsU0FBUyx3RUFBd0UsU0FBUyxtQkFBbUIsd0VBQXdFLGdCQUFnQix1QkFBdUIsZ0JBQWdCLDZEQUE2RCxrQkFBa0IsMkRBQTJELElBQUksY0FBYyxzQ0FBc0MsZUFBZSxFQUFFLG9CQUFvQixpQkFBaUIsS0FBSyx1RUFBdUUsVUFBVSxlQUFlLHFDQUFxQyxXQUFXLGdUQUFnVCxLQUFLLFNBQVMsa0JBQWtCLGtEQUFrRCxZQUFZLGNBQWMseUNBQXlDLHVDQUF1QyxVQUFVLElBQUksSUFBSSxJQUFJLFNBQVMsZ0dBQWdHLEtBQUssSUFBSSxJQUFJLGdCQUFnQixLQUFLLElBQUksWUFBWSxTQUFTLHVCQUF1QixLQUFLLElBQUksU0FBUyxzS0FBc0ssSUFBSSx3akNBQXdqQyxFQUFFLHdTQUF3UyxnQkFBZ0IsaTJCQUFpMkIsZ0NBQWdDLHFDQUFxQywyQ0FBMkMsTUFBTSxvREFBb0QseUNBQXlDLHlDQUF5Qyw4QkFBOEIsZ0RBQWdELGtEQUFrRCxRQUFRLG9HQUFvRyxJQUFJLDhYQUE4WCxnREFBZ0QsNk5BQTZOLG1FQUFtRSxLQUFLLHFNQUFxTSxFQUFFLHFJQUFxSSxpUEFBaVAscUdBQXFHLDZJQUE2SSx3Q0FBd0MsdUJBQXVCLCtDQUErQyxFQUFFLHdKQUF3SixJQUFJLG1GQUFtRixJQUFJLDBFQUEwRSxTQUFTLElBQUksSUFBSSxvREFBb0QsNERBQTRELCtFQUErRSxFQUFFLHVZQUF1WSxHQUFHLEdBQUcsS0FBSyxFQUFFLDhDQUE4QyxHQUFHLEdBQUcsZUFBZSxJQUFJLGtGQUFrRix3R0FBd0csWUFBWSxzRUFBc0UsbVRBQW1ULHNCQUFzQix3V0FBd1csOE9BQThPLGdMQUFnTCxhQUFhLHdDQUF3Qyx5REFBeUQsNEJBQTRCLDJJQUEySSwrVUFBK1UsSUFBSSw0R0FBNEcsaVRBQWlULGlCQUFpQiwrQ0FBK0MsNkZBQTZGLDBCQUEwQiw0QkFBNEIsOEJBQThCLG9CQUFvQiw2QkFBNkIsb0JBQW9CLDZCQUE2QixvQkFBb0IsNkJBQTZCLG9CQUFvQiw2QkFBNkIsb0JBQW9CLE9BQU8sK0VBQStFLG9CQUFvQixTQUFTLHFCQUFxQixnQkFBZ0IsT0FBTyxrQkFBa0Isc0JBQXNCLE9BQU8sS0FBSyxPQUFPLGlEQUFpRCxPQUFPLGlCQUFpQixPQUFPLGlCQUFpQix3RkFBd0YsU0FBUyx5Q0FBeUMsd0JBQXdCLGlCQUFpQixZQUFZLGdDQUFnQyxjQUFjLHNCQUFzQixRQUFRLGFBQWEsOEJBQThCLHNDQUFzQyxlQUFlLFVBQVUsbVNBQW1TLGlCQUFpQixZQUFZLFlBQVksNkJBQTZCLGlCQUFpQixtREFBbUQsYUFBYSx1RUFBdUUscUJBQXFCLGlSQUFpUixxQkFBcUIsb0NBQW9DLFlBQVksRUFBRSxrQ0FBa0Msb0JBQW9CLFVBQVUsc0RBQXNELE1BQU0sdURBQXVELE1BQU0sc0RBQXNELE1BQU0sc0JBQXNCLFVBQVUsYUFBYSxRQUFRLHlCQUF5QixZQUFZLElBQUksS0FBSyxXQUFXLGlDQUFpQyxPQUFPLGFBQWEsTUFBTSxnQkFBZ0IsT0FBTyxPQUFPLHFDQUFxQywyWEFBMlgsc0RBQXNELDZFQUE2RSxjQUFjLGNBQWMsMEJBQTBCLHNOQUFzTiwwQkFBMEIseUNBQXlDLFlBQVksRUFBRSxrQ0FBa0Msb0JBQW9CLFVBQVUsc0RBQXNELE1BQU0sc0RBQXNELE1BQU0scURBQXFELE1BQU0sZ0JBQWdCLE9BQU8sT0FBTywwQ0FBMEMsNlZBQTZWLHlCQUF5Qix1SEFBdUgseUJBQXlCLHdDQUF3QyxZQUFZLEVBQUUsa0NBQWtDLG9CQUFvQixVQUFVLG9EQUFvRCxNQUFNLGlEQUFpRCxNQUFNLGdCQUFnQixPQUFPLE9BQU8seUNBQXlDLDJOQUEyTixpQkFBaUIsWUFBWSxrQ0FBa0Msd0RBQXdELHFDQUFxQztBQUN6aTZCLHczREFBdzNELG9DQUFvQyxtREFBbUQsWUFBWSxFQUFFLGtDQUFrQyxvQkFBb0IsVUFBVSxpREFBaUQsTUFBTSwwREFBMEQsTUFBTSw2REFBNkQsTUFBTSxxREFBcUQsTUFBTSxzREFBc0QsTUFBTSwrREFBK0QsTUFBTSxtRUFBbUUsTUFBTSxvREFBb0QsTUFBTSxxREFBcUQsTUFBTSx5REFBeUQsTUFBTSxzREFBc0QsTUFBTSx1REFBdUQsTUFBTSx1REFBdUQsTUFBTSwwREFBMEQsTUFBTSwyREFBMkQsTUFBTSw4REFBOEQsTUFBTSwyREFBMkQsTUFBTSw0REFBNEQsTUFBTSw0REFBNEQsTUFBTSx3REFBd0QsTUFBTSx5REFBeUQsTUFBTSw2REFBNkQsTUFBTSw0REFBNEQsTUFBTSw0REFBNEQsTUFBTSx5REFBeUQsTUFBTSwwREFBMEQsTUFBTSx5REFBeUQsTUFBTSx3REFBd0QsTUFBTSxzREFBc0QsTUFBTSx1REFBdUQsTUFBTSw0REFBNEQsTUFBTSwrREFBK0QsTUFBTSxrRUFBa0UsTUFBTSxnRUFBZ0UsTUFBTSxzRUFBc0UsTUFBTSxzRUFBc0UsTUFBTSxzRUFBc0UsTUFBTSw4REFBOEQsTUFBTSwrREFBK0QsTUFBTSxxRUFBcUUsTUFBTSxxRUFBcUUsTUFBTSxxRUFBcUUsTUFBTSwyREFBMkQsTUFBTSx5REFBeUQsTUFBTSwwREFBMEQsTUFBTSwrREFBK0QsTUFBTSxnQkFBZ0IsT0FBTyxPQUFPLG9EQUFvRCwydUxBQTJ1TCxvQ0FBb0Msa3pGQUFrekYsb0NBQW9DLG1EQUFtRCxZQUFZLEVBQUUsa0NBQWtDLG9CQUFvQixVQUFVLGlEQUFpRCxNQUFNLG1EQUFtRCxNQUFNLGlEQUFpRCxNQUFNLG1EQUFtRCxNQUFNLG9EQUFvRCxNQUFNLDJEQUEyRCxNQUFNLDBEQUEwRCxNQUFNLHVEQUF1RCxNQUFNLHNEQUFzRCxNQUFNLDREQUE0RCxNQUFNLDJEQUEyRCxNQUFNLHdEQUF3RCxNQUFNLHVEQUF1RCxNQUFNLHdEQUF3RCxNQUFNLHlEQUF5RCxNQUFNLG1EQUFtRCxNQUFNLDhEQUE4RCxNQUFNLGtFQUFrRSxNQUFNLDZEQUE2RCxNQUFNLDJEQUEyRCxNQUFNLDJEQUEyRCxNQUFNLDZEQUE2RCxNQUFNLDBEQUEwRCxNQUFNLDJEQUEyRCxNQUFNLDREQUE0RCxNQUFNLDJEQUEyRCxNQUFNLDREQUE0RCxNQUFNLHlEQUF5RCxNQUFNLDREQUE0RCxNQUFNLDBEQUEwRCxNQUFNLDJEQUEyRCxNQUFNLDJEQUEyRCxNQUFNLDREQUE0RCxNQUFNLDREQUE0RCxNQUFNLDZEQUE2RCxNQUFNLGdCQUFnQixPQUFPLE9BQU8sb0RBQW9ELDhpSUFBOGlJLDJDQUEyQyxxL0JBQXEvQiwyQ0FBMkMsMERBQTBELFlBQVksRUFBRSxrQ0FBa0Msb0JBQW9CLFVBQVUsdURBQXVELE1BQU0sdURBQXVELE1BQU0sdURBQXVELE1BQU0sNERBQTRELE1BQU0sK0RBQStELE1BQU0sNkRBQTZELE1BQU0sd0RBQXdELE1BQU0seURBQXlELE1BQU0sd0RBQXdELE1BQU0sd0RBQXdELE1BQU0sMkRBQTJELE1BQU0seURBQXlELE1BQU0sZ0JBQWdCLE9BQU8sT0FBTywyREFBMkQsNDdDQUE0N0MsMkNBQTJDLHNQQUFzUCwyQ0FBMkMsMERBQTBELFlBQVksRUFBRSxrQ0FBa0Msb0JBQW9CLFVBQVUseURBQXlELE1BQU0scURBQXFELE1BQU0sMkRBQTJELE1BQU0sZ0JBQWdCLE9BQU8sT0FBTywyREFBMkQsK1hBQStYLDZDQUE2QyxtWkFBbVosNkNBQTZDLDREQUE0RCxZQUFZLEVBQUUsa0NBQWtDLG9CQUFvQixVQUFVLGlEQUFpRCxNQUFNLG1EQUFtRCxNQUFNLHVEQUF1RCxNQUFNLHVEQUF1RCxNQUFNLHFEQUFxRCxNQUFNLHNEQUFzRCxNQUFNLGdCQUFnQixPQUFPLE9BQU8sNkRBQTZELHVvQkFBdW9CLG9DQUFvQywrV0FBK1csb0NBQW9DLG1EQUFtRCxZQUFZLEVBQUUsa0NBQWtDLG9CQUFvQixVQUFVLG9HQUFvRyxNQUFNLGdHQUFnRyxNQUFNLGdHQUFnRyxNQUFNLHFEQUFxRCxNQUFNLHNEQUFzRCxNQUFNLGtEQUFrRCxNQUFNLGdCQUFnQixPQUFPLE9BQU8sb0RBQW9ELHltQkFBeW1CLHVDQUF1QywwTkFBME4sdUNBQXVDLHNEQUFzRCxZQUFZLEVBQUUsa0NBQWtDLG9CQUFvQixVQUFVLGdEQUFnRCxNQUFNLHVEQUF1RCxNQUFNLDJEQUEyRCxNQUFNLGdCQUFnQixPQUFPLE9BQU8sdURBQXVELCtWQUErVix1Q0FBdUMseVVBQXlVLHVDQUF1QyxzREFBc0QsWUFBWSxFQUFFLGtDQUFrQyxvQkFBb0IsVUFBVSx1REFBdUQsTUFBTSwyREFBMkQsTUFBTSwyREFBMkQsTUFBTSx5REFBeUQsTUFBTSxnQkFBZ0IsT0FBTyxPQUFPLHVEQUF1RCxxZkFBcWYsc0NBQXNDLHVOQUF1TixzQ0FBc0MscURBQXFELFlBQVksRUFBRSxrQ0FBa0Msb0JBQW9CLFVBQVUsc0JBQXNCLFVBQVUsMEJBQTBCLFFBQVEseUJBQXlCLFlBQVksSUFBSSxLQUFLLFdBQVcsOENBQThDLE9BQU8sYUFBYSxNQUFNLHNCQUFzQixVQUFVLDJCQUEyQixRQUFRLHlCQUF5QixZQUFZLElBQUksS0FBSyxXQUFXLCtDQUErQyxPQUFPLGFBQWEsTUFBTSxnQkFBZ0IsT0FBTyxPQUFPO0FBQ252K0IsdUZBQXVGLGdGQUFnRixvSEFBb0gsY0FBYyxxRUFBcUUsa0ZBQWtGLHVIQUF1SCxjQUFjLGNBQWMsdUNBQXVDLDhMQUE4TCx1Q0FBdUMsc0RBQXNELFlBQVksRUFBRSxrQ0FBa0Msb0JBQW9CLFVBQVUsb0RBQW9ELE1BQU0sK0NBQStDLE1BQU0sd0RBQXdELE1BQU0sZ0JBQWdCLE9BQU8sT0FBTyx1REFBdUQsbVVBQW1VLHVDQUF1Qyw4TEFBOEwsdUNBQXVDLHNEQUFzRCxZQUFZLEVBQUUsa0NBQWtDLG9CQUFvQixVQUFVLG9EQUFvRCxNQUFNLCtDQUErQyxNQUFNLHdEQUF3RCxNQUFNLGdCQUFnQixPQUFPLE9BQU8sdURBQXVELG1VQUFtVSxtQ0FBbUMsOG1CQUE4bUIsbUNBQW1DLGtEQUFrRCxZQUFZLEVBQUUsa0NBQWtDLG9CQUFvQixVQUFVLHVEQUF1RCxNQUFNLHdEQUF3RCxNQUFNLDJEQUEyRCxNQUFNLDREQUE0RCxNQUFNLDJEQUEyRCxNQUFNLDREQUE0RCxNQUFNLDREQUE0RCxNQUFNLGdCQUFnQixPQUFPLE9BQU8sbURBQW1ELDQzQkFBNDNCLDJDQUEyQyxvMkJBQW8yQiwyQ0FBMkMsMERBQTBELFlBQVksRUFBRSxrQ0FBa0Msb0JBQW9CLFVBQVUsc0RBQXNELE1BQU0saURBQWlELE1BQU0sMEVBQTBFLE1BQU0sa0dBQWtHLE1BQU0seUZBQXlGLE1BQU0sc0JBQXNCLFVBQVUsZ0JBQWdCLFlBQVksZ0NBQWdDLFlBQVksSUFBSSxLQUFLLG1EQUFtRCxrQkFBa0IsbUdBQW1HLE9BQU8sYUFBYSxNQUFNLHlGQUF5RixNQUFNLCtGQUErRixNQUFNLG9HQUFvRyxNQUFNLHVCQUF1QixVQUFVLGlCQUFpQixZQUFZLGdDQUFnQyxZQUFZLElBQUksS0FBSyxtREFBbUQsa0JBQWtCLG9HQUFvRyxPQUFPLGFBQWEsTUFBTSx1RkFBdUYsTUFBTSwyRkFBMkYsTUFBTSx1REFBdUQsTUFBTSxnQkFBZ0IsT0FBTyxPQUFPLDJEQUEyRCxpa0JBQWlrQixtRUFBbUUsWUFBWSxzQkFBc0IsS0FBSyx3Q0FBd0Msc0JBQXNCLGNBQWMsZ1lBQWdZLHNFQUFzRSxZQUFZLHVCQUF1QixLQUFLLHlDQUF5QyxzQkFBc0IsY0FBYyw2VEFBNlQsK0NBQStDLG8yQkFBbzJCLCtDQUErQyw4REFBOEQsWUFBWSxFQUFFLGtDQUFrQyxvQkFBb0IsVUFBVSxzREFBc0QsTUFBTSxpREFBaUQsTUFBTSwwRUFBMEUsTUFBTSxrR0FBa0csTUFBTSx5RkFBeUYsTUFBTSxzQkFBc0IsVUFBVSxnQkFBZ0IsWUFBWSxnQ0FBZ0MsWUFBWSxJQUFJLEtBQUssbURBQW1ELGtCQUFrQix3RUFBd0UsT0FBTyxhQUFhLE1BQU0seUZBQXlGLE1BQU0sK0ZBQStGLE1BQU0sb0dBQW9HLE1BQU0sdUJBQXVCLFVBQVUsaUJBQWlCLFlBQVksZ0NBQWdDLFlBQVksSUFBSSxLQUFLLG1EQUFtRCxrQkFBa0IseUVBQXlFLE9BQU8sYUFBYSxNQUFNLHVGQUF1RixNQUFNLDJGQUEyRixNQUFNLHVEQUF1RCxNQUFNLGdCQUFnQixPQUFPLE9BQU8sK0RBQStELHFrQkFBcWtCLG1FQUFtRSw2REFBNkQsc0JBQXNCLG1CQUFtQixjQUFjLGdZQUFnWSxzRUFBc0UsK0RBQStELHVCQUF1QixtQkFBbUIsY0FBYyw4VEFBOFQsZUFBZTtBQUM5dmEsZUFBZSxhQUFhLDhEQUE4RCxhQUFhLHVEQUF1RCxjQUFjLGFBQWEseUVBQXlFLGFBQWEseURBQXlELGFBQWEseURBQXlELGNBQWMsd0NBQXdDLHVEQUF1RCxtQ0FBbUMsK0JBQStCLGlCQUFpQixjQUFjLGFBQWEscUJBQXFCLGlCQUFpQixLQUFLLDZGQUE2RixhQUFhLGtCQUFrQiw0Q0FBNEMsa0JBQWtCLDRDQUE0Qyw4QkFBOEIsK0ZBQStGLGNBQWMsMkJBQTJCLGNBQWMsb0NBQW9DLGFBQWEsdURBQXVELGFBQWEsdURBQXVELGdCQUFnQixnRUFBZ0UsZ0RBQWdELG9CQUFvQixpTUFBaU0sb0JBQW9CLG9KQUFvSixzQkFBc0IsYUFBYSxnQkFBZ0IsbURBQW1ELG9CQUFvQiw0TEFBNEwsMEJBQTBCLGFBQWEsa0JBQWtCLG1EQUFtRCxzQkFBc0Isd05BQXdOLHNCQUFzQixzSkFBc0osc0JBQXNCLGFBQWEsZ0JBQWdCLHFEQUFxRCxvQkFBb0Isb0pBQW9KLHNCQUFzQixhQUFhLGdCQUFnQixtREFBbUQsb0JBQW9CLGlGQUFpRixnQkFBZ0IseUNBQXlDLGtCQUFrQixvQkFBb0Isa05BQWtOLGtCQUFrQix5QkFBeUIsS0FBSyxFQUFFLHlCQUF5QixhQUFhLEtBQUssbUJBQW1CLE9BQU8sYUFBYSxvQkFBb0IsMkJBQTJCLEtBQUssaUJBQWlCLEtBQUssc0JBQXNCLG9CQUFvQiwyQkFBMkIsS0FBSywwQkFBMEIsS0FBSyxzQkFBc0Isb0JBQW9CLG1FQUFtRSxvQkFBb0IsOElBQThJLHNCQUFzQixlQUFlLHNCQUFzQixxREFBcUQsb0JBQW9CLGtLQUFrSyxjQUFjLHFEQUFxRCxrQkFBa0IsZ0dBQWdHLG9CQUFvQiw4SUFBOEksc0JBQXNCLGVBQWUsc0JBQXNCLHFEQUFxRCxTQUFTLHVDQUF1Qyw2RUFBNkUsOENBQThDLFdBQVcscUJBQXFCLHdDQUF3QyxpQkFBaUIsT0FBTyw0QkFBNEIsc0JBQXNCLGtCQUFrQixPQUFPLG1DQUFtQyx1Q0FBdUMsa0JBQWtCLFNBQVMsK0JBQStCLFNBQVMsdUNBQXVDLDBCQUEwQixXQUFXLGdDQUFnQyxtQ0FBbUMsMkJBQTJCLFNBQVMsbUNBQW1DLE9BQU8sV0FBVyxrQ0FBa0MsZ0JBQWdCLHVDQUF1Qyw0QkFBNEIsV0FBVyxpQ0FBaUMsdUNBQXVDLDRCQUE0QixLQUFLLGdDQUFnQyx1Q0FBdUMsNEJBQTRCLEtBQUssNEJBQTRCLDJCQUEyQiwyQkFBMkIsMEJBQTBCLDZCQUE2QixzREFBc0Qsb0JBQW9CLE1BQU0sNkJBQTZCLHNEQUFzRCxvQkFBb0IsU0FBUyw0QkFBNEIsaUNBQWlDLFdBQVcsaUJBQWlCLDRCQUE0QixzQ0FBc0MsaUNBQWlDLFVBQVUsYUFBYSwrQkFBK0IsNEJBQTRCLG1CQUFtQiw0QkFBNEIsU0FBUywyQkFBMkIsV0FBVyxpQ0FBaUMsNkJBQTZCLGFBQWEsUUFBUSxLQUFLLDJCQUEyQiw0Q0FBNEMsZ0JBQWdCLHVCQUF1QixXQUFXLEtBQUssV0FBVywwQ0FBMEMsUUFBUSxXQUFXLHVCQUF1QixXQUFXLDhDQUE4QyxTQUFTLGdDQUFnQyxzSUFBc0ksT0FBTyxpQkFBaUIscUJBQXFCLHNCQUFzQixrQkFBa0IsZUFBZSxFQUFFLGlDQUFpQywrQkFBK0IsaUNBQWlDLG9CQUFvQiwwQkFBMEIsZ0JBQWdCLGtDQUFrQywrQkFBK0IsU0FBUyw2QkFBNkIsNEVBQTRFLHlGQUF5RixpQkFBaUIsZ0JBQWdCLFNBQVMsa0NBQWtDLG9CQUFvQixzQkFBc0IsNEJBQTRCLHVDQUF1QyxnQkFBZ0IsR0FBRyw0QkFBNEIsb0JBQW9CLGlCQUFpQiw0QkFBNEIsOEJBQThCLGVBQWUsOEJBQThCLFdBQVcsNkVBQTZFLHFCQUFxQixLQUFLLGdCQUFnQixvQ0FBb0MsMENBQTBDLGtDQUFrQyxpVkFBaVYsb0NBQW9DLDhFQUE4RSw4RkFBOEYsVUFBVSxzQ0FBc0MsV0FBVyxFQUFFLFdBQVcsU0FBUyxNQUFNLDZFQUE2RSxLQUFLLElBQUksMENBQTBDLFNBQVMsd0VBQXdFLG9DQUFvQyw4RUFBOEUsbUdBQW1HLFlBQVksc0NBQXNDLFdBQVcsRUFBRSxXQUFXLFNBQVMsTUFBTSxpRkFBaUYsNENBQTRDLFdBQVcsU0FBUyxnRUFBZ0Usb0NBQW9DLGVBQWUsUUFBUSw2RUFBNkUsSUFBSSxpQ0FBaUMsU0FBUyx3RUFBd0Usb0NBQW9DLGVBQWUsVUFBVSx1RkFBdUYsS0FBSyxpQ0FBaUMsU0FBUyxFQUFFLFNBQVMsc0NBQXNDLCtCQUErQixTQUFTLDJCQUEyQiwwREFBMEQscUJBQXFCLHVCQUF1QixnQkFBZ0IsU0FBUyxhQUFhLHdEQUF3RCxPQUFPLHdEQUF3RCxPQUFPLHdEQUF3RCxnQkFBZ0IsVUFBVSxLQUFLLHlDQUF5QyxLQUFLLGtCQUFrQix5Q0FBeUMsMkRBQTJELDhCQUE4QixlQUFlLEVBQUUsbUNBQW1DLHlJQUF5SSw4Q0FBOEMsMkVBQTJFLDBCQUEwQixpQkFBaUIsZ0NBQWdDLGtCQUFrQiwrQkFBK0IsYUFBYSxHQUFHLDREQUE0RCxrQkFBa0IsZ0RBQWdELGFBQWEsR0FBRyxFQUFFLGtCQUFrQiwwREFBMEQsV0FBVyw0Q0FBNEMsa0JBQWtCLFFBQVEsMEJBQTBCLFlBQVksaUJBQWlCLG1CQUFtQixrQkFBa0Isa0JBQWtCLEVBQUUsa0JBQWtCLGlCQUFpQixrQkFBa0Isa0JBQWtCLEVBQUUsK0JBQStCLDhCQUE4QixrQkFBa0Isa0JBQWtCLEVBQUUsaUJBQWlCLGdCQUFnQixhQUFhLHFFQUFxRSxjQUFjLGtDQUFrQyxJQUFJLFdBQVcsS0FBSyxvQkFBb0IsV0FBVywyQ0FBMkMsRUFBRSxLQUFLLHNCQUFzQixhQUFhLG9IQUFvSCxFQUFFLEtBQUssb0JBQW9CLFdBQVcsK0hBQStILEdBQUcsR0FBRyw0Q0FBNEMsS0FBSyxvQkFBb0Isb0JBQW9CLGFBQWEsTUFBTSxrQkFBa0Isa0JBQWtCLGFBQWEsTUFBTSxvQkFBb0IsYUFBYSxhQUFhLFdBQVcsa0JBQWtCLGtCQUFrQixjQUFjLE1BQU0sc0JBQXNCLFFBQVEsMERBQTBELGtDQUFrQyw0QkFBNEIsRUFBRSxtQkFBbUIsNEJBQTRCLFlBQVksT0FBTyw0QkFBNEIsMEJBQTBCLGVBQWUsbUJBQW1CLHFCQUFxQixnQ0FBZ0MsK0RBQStELGlDQUFpQyx1QkFBdUIsOEJBQThCLHlCQUF5QixnQ0FBZ0Msb0RBQW9ELGdFQUFnRSx3REFBd0QsOEJBQThCLHlCQUF5QixnQ0FBZ0MsNklBQTZJLHNCQUFzQix3QkFBd0IsMkJBQTJCLE9BQU8sOEJBQThCLHlCQUF5Qiw0QkFBNEIseUJBQXlCLG1CQUFtQixpQkFBaUIsbUJBQW1CLGtCQUFrQixhQUFhLHFDQUFxQyxHQUFHLGdEQUFnRCwyQkFBMkIsU0FBUyxTQUFTLCtCQUErQixnRUFBZ0UsZ0VBQWdFLGVBQWUsZUFBZSxpQkFBaUIsdUVBQXVFLGVBQWUsRUFBRSxlQUFlLDRDQUE0QyxpQkFBaUIsTUFBTSxrS0FBa0ssZUFBZSxJQUFJLDRCQUE0Qix5QkFBeUIscUVBQXFFLG1CQUFtQiw2REFBNkQsV0FBVyw2Q0FBNkMsb0JBQW9CLDZDQUE2QyxvQkFBb0IsNkNBQTZDLHdCQUF3QixxREFBcUQsd0JBQXdCLHFEQUFxRCx3QkFBd0IscURBQXFELHNCQUFzQixzQkFBc0Isc0JBQXNCLHNCQUFzQixzQkFBc0Isc0JBQXNCLG9CQUFvQiw2Q0FBNkMsb0JBQW9CLDZDQUE2QyxnQkFBZ0IsU0FBUyxVQUFVLGtDQUFrQyxrQ0FBa0Msa0JBQWtCLGVBQWUsOEJBQThCLCtEQUErRCxnQkFBZ0IsMERBQTBELDhCQUE4QixrQkFBa0IsY0FBYyx1QkFBdUIsZ0VBQWdFLGtEQUFrRCxrQ0FBa0MsZ0JBQWdCLFVBQVUsUUFBUSxNQUFNLGNBQWMsSUFBSSxzQkFBc0IsV0FBVyx1RUFBdUUsdUZBQXVGLE9BQU8sUUFBUSxVQUFVLDRCQUE0QixxQkFBcUIsNEJBQTRCLHFCQUFxQixnQ0FBZ0MseUJBQXlCLG1CQUFtQixTQUFTLE1BQU0sbUZBQW1GLHFCQUFxQix1QkFBdUIsa0RBQWtELGNBQWMsd0JBQXdCLGdJQUFnSSx1Q0FBdUMsd0JBQXdCLG9CQUFvQix5QkFBeUIsdURBQXVELDBCQUEwQixtRkFBbUYsc0NBQXNDLGdFQUFnRSxvRUFBb0UsNEJBQTRCLG1GQUFtRiw0REFBNEQsNEJBQTRCLHFDQUFxQyw4QkFBOEIseUVBQXlFLE9BQU8sd0JBQXdCLGFBQWEscUNBQXFDLFVBQVUsRUFBRSxnQ0FBZ0MsbUNBQW1DLG1CQUFtQixFQUFFLDRCQUE0QixzQ0FBc0MsMEJBQTBCLEVBQUUsMkJBQTJCLHVDQUF1Qyx5QkFBeUIsMkNBQTJDLDJCQUEyQiw4RUFBOEUsMENBQTBDLDBDQUEwQywyQ0FBMkMsMERBQTBELDRDQUE0Qyx5Q0FBeUMscUNBQXFDLFVBQVUsb0JBQW9CLHlCQUF5Qiw2Q0FBNkMscUlBQXFJLDhCQUE4QiwrQ0FBK0MsdUJBQXVCLGlCQUFpQiwyREFBMkQsS0FBSywrQkFBK0IsZ0VBQWdFLDhCQUE4Qiw2Q0FBNkMsZ0JBQWdCLFNBQVMsMEJBQTBCLGtDQUFrQyx5Q0FBeUMsRUFBRSxvQkFBb0IsU0FBUyxtQkFBbUIsU0FBUyxPQUFPLHFDQUFxQyxnR0FBZ0csb0JBQW9CLEdBQUcsOEJBQThCLHlDQUF5QyxlQUFlLHlFQUF5RSxtQ0FBbUMsSUFBSSxvQ0FBb0MsbUJBQW1CLFVBQVUsUUFBUSxVQUFVLGtFQUFrRSxTQUFTLHFDQUFxQyw4QkFBOEIsa0JBQWtCLDBFQUEwRSxvQ0FBb0MsZ0NBQWdDLEVBQUUsOEJBQThCLGtCQUFrQiwwRUFBMEUsb0NBQW9DLFdBQVcsMENBQTBDLEVBQUUsZ0NBQWdDLGtEQUFrRCwwRUFBMEUsSUFBSSx3REFBd0QsU0FBUyx1QkFBdUIsMENBQTBDLHNGQUFzRixRQUFRLElBQUksTUFBTSxvQ0FBb0MsU0FBUywrQkFBK0IsU0FBUywrQkFBK0IsbUJBQW1CLDBFQUEwRSxtREFBbUQsK0JBQStCLElBQUksOEJBQThCLG1CQUFtQiwwRUFBMEUsbURBQW1ELDhCQUE4QixJQUFJLCtCQUErQiw4REFBOEQsOEJBQThCLHFCQUFxQiwwRUFBMEUsK0JBQStCLGlEQUFpRCxtREFBbUQsOEJBQThCLGNBQWMsMEVBQTBFLDBCQUEwQix3Q0FBd0MsU0FBUyxFQUFFLDhCQUE4QixrQkFBa0IsMEVBQTBFLG9DQUFvQyxXQUFXLDBDQUEwQyxFQUFFLDJCQUEyQiwwREFBMEQsbUNBQW1DLDJCQUEyQixrQkFBa0IsTUFBTSw0QkFBNEIsMkJBQTJCLFVBQVUsRUFBRSxtQ0FBbUMsS0FBSyx3Q0FBd0MsV0FBVyxjQUFjLEVBQUUsb0JBQW9CLDRCQUE0QixpQkFBaUIscUJBQXFCLHdCQUF3QixNQUFNLElBQUksV0FBVyxTQUFTLHVCQUF1QixnQkFBZ0IsMENBQTBDLFNBQVMsRUFBRSxzQkFBc0Isd0JBQXdCLHFCQUFxQix3QkFBd0IsTUFBTSxJQUFJLFdBQVcsU0FBUyxnRUFBZ0UsU0FBUyxFQUFFLGtCQUFrQixvREFBb0QsMEJBQTBCLElBQUksZ0JBQWdCLFNBQVMsK0JBQStCLE1BQU0sRUFBRSx5QkFBeUIsU0FBUyxFQUFFLGlCQUFpQixtREFBbUQsb0JBQW9CLHVEQUF1RCx5QkFBeUIsdUZBQXVGLDRCQUE0QixvQkFBb0IsUUFBUSxjQUFjLEVBQUUsdUJBQXVCLDJCQUEyQix3QkFBd0IsbUVBQW1FLFNBQVMsRUFBRSx3REFBd0QsK0RBQStELHFDQUFxQyxtQkFBbUIsNkJBQTZCLGlDQUFpQyxzR0FBc0csbURBQW1ELDJEQUEyRCxvQkFBb0IsU0FBUyxpQkFBaUIsNEZBQTRGLFNBQVMsc0JBQXNCLHVsQkFBdWxCLDJCQUEyQixzQkFBc0IsbUNBQW1DLDBCQUEwQixpQ0FBaUMsZUFBZSxtQ0FBbUMsNkJBQTZCLGlDQUFpQyx1QkFBdUIseUNBQXlDLHFCQUFxQixvQ0FBb0Msb0NBQW9DLG9DQUFvQyxjQUFjLHdDQUF3QyxTQUFTLGtDQUFrQywwQ0FBMEMsMkNBQTJDLFdBQVcsU0FBUyxvQ0FBb0MsZ0RBQWdELHNEQUFzRCwrQkFBK0IsMEVBQTBFLHNEQUFzRCxrQ0FBa0MsMEJBQTBCLGtDQUFrQywyQkFBMkIscUJBQXFCLCtEQUErRCx5Q0FBeUMsSUFBSSxrQkFBa0Isc0JBQXNCLHNDQUFzQyx3QkFBd0IsNEJBQTRCLGdDQUFnQyx5Q0FBeUMscUJBQXFCLDZEQUE2RCx5QkFBeUIsS0FBSyxJQUFJLGtCQUFrQixrREFBa0Qsd0JBQXdCLFNBQVMscUNBQXFDLG9CQUFvQiwwQkFBMEIsdUJBQXVCLG9FQUFvRSxTQUFTLGtDQUFrQyx1QkFBdUIsd0RBQXdELDZFQUE2RSw2QkFBNkIsbUJBQW1CLFVBQVUsUUFBUSxlQUFlLHFKQUFxSixvREFBb0QsZ0NBQWdDLDBDQUEwQyxNQUFNLEVBQUUseUJBQXlCLFVBQVUsOEJBQThCLHdDQUF3QyxNQUFNLEVBQUUseUJBQXlCLFFBQVEsK0JBQStCLHVCQUF1QiwrQkFBK0IscUJBQXFCLGdDQUFnQyxxQ0FBcUMsbUJBQW1CLDRDQUE0Qyw4QkFBOEIsb0RBQW9ELDZCQUE2Qix1REFBdUQsNkJBQTZCLHdCQUF3QixtQkFBbUIsS0FBSyxrQ0FBa0MsdUJBQXVCLGdDQUFnQyx3QkFBd0IsbUJBQW1CLEtBQUssa0NBQWtDLDJCQUEyQiw0QkFBNEIsa0JBQWtCLGlFQUFpRSw4QkFBOEIsa0JBQWtCLHFFQUFxRSw4QkFBOEIsZ0JBQWdCLHVCQUF1QixRQUFRLHFCQUFxQiwwQkFBMEIsRUFBRSxhQUFhLDBCQUEwQixFQUFFLFNBQVMsWUFBWSxpQ0FBaUMsNERBQTRELGFBQWEsMEJBQTBCLFNBQVMsa0NBQWtDLDREQUE0RCxnQ0FBZ0Msb0NBQW9DLHdCQUF3Qix5QkFBeUIsc0RBQXNELE1BQU0sb0RBQW9ELFdBQVcsa0NBQWtDLHNCQUFzQixTQUFTLGdDQUFnQyxnQkFBZ0IsR0FBRyxhQUFhLDRCQUE0QixxQkFBcUIsWUFBWSxvQ0FBb0MsNkJBQTZCLE1BQU0sdUNBQXVDLFNBQVMseUNBQXlDLDJCQUEyQixNQUFNLHFDQUFxQyxTQUFTLDJCQUEyQixpRkFBaUYsNEJBQTRCLDJCQUEyQix3QkFBd0IsNkJBQTZCLDJDQUEyQyxvQkFBb0IsOEJBQThCLHFEQUFxRCw0Q0FBNEMsNEJBQTRCLGNBQWMsc0NBQXNDLDRCQUE0QixnQkFBZ0Isc0NBQXNDLG1CQUFtQixTQUFTLE9BQU8sa0NBQWtDLDBCQUEwQixvQkFBb0IsVUFBVSw4QkFBOEIscUVBQXFFLGdCQUFnQixpQ0FBaUMsOEJBQThCLHNDQUFzQyw0REFBNEQsY0FBYyxnQ0FBZ0MsdURBQXVELGtDQUFrQyxrQkFBa0IsMkJBQTJCLE9BQU8sNEJBQTRCLHFCQUFxQiw0QkFBNEIscUJBQXFCLDhCQUE4Qix1QkFBdUIsbUJBQW1CLFNBQVMsa0JBQWtCLGtIQUFrSCw4RkFBOEYsY0FBYyw2QkFBNkIsb0JBQW9CLHNDQUFzQyxpQkFBaUIsUUFBUSwrQkFBK0Isa0NBQWtDLHNEQUFzRCwrQkFBK0IsNkNBQTZDLDJJQUEySSwrQkFBK0IscUJBQXFCLDZCQUE2QixtQ0FBbUMsbUNBQW1DLHFCQUFxQixtQkFBbUIsMkJBQTJCLDhGQUE4RixTQUFTLDhCQUE4Qiw4QkFBOEIsb0NBQW9DLG9DQUFvQyxzQ0FBc0MsU0FBUyx5Q0FBeUMseUNBQXlDLHNDQUFzQyxTQUFTLDZCQUE2Qiw4QkFBOEIsU0FBUyxFQUFFLCtCQUErQixtQ0FBbUMsMkJBQTJCLDhCQUE4QixZQUFZLEVBQUUsOEJBQThCLDRGQUE0Rix3QkFBd0IscUVBQXFFLDJCQUEyQixRQUFRLDhCQUE4Qix3QkFBd0IsbUJBQW1CLFNBQVMsaUJBQWlCO0FBQ3h2K0IsaUhBQWlILHdEQUF3RCw0QkFBNEIsbUVBQW1FLCtCQUErQixXQUFXLFlBQVksbUVBQW1FLCtCQUErQixXQUFXLFlBQVksc0VBQXNFLDZCQUE2QixtQ0FBbUMsbUNBQW1DLDZFQUE2RSw4QkFBOEIsdUNBQXVDLGNBQWMsb0NBQW9DLDhEQUE4RCxTQUFTLDJCQUEyQix1Q0FBdUMsMERBQTBELG1CQUFtQixTQUFTLGlDQUFpQyxrTUFBa00sNERBQTRELDZCQUE2QixpQkFBaUIsNkJBQTZCLDZCQUE2QiwyQkFBMkIsZ0RBQWdELG1DQUFtQywyQkFBMkIsYUFBYSxlQUFlLHVFQUF1RSxTQUFTLDhCQUE4Qiw4QkFBOEIsNkJBQTZCLDJCQUEyQix5R0FBeUcsb0NBQW9DLG9DQUFvQyw4QkFBOEIsNEJBQTRCLFNBQVMsU0FBUywyQkFBMkIsc0VBQXNFLHlCQUF5QiwyQkFBMkIsa0NBQWtDLG1DQUFtQyxxREFBcUQscUNBQXFDLHdCQUF3QixRQUFRLHlEQUF5RCxlQUFlLG9EQUFvRCxRQUFRLDZDQUE2QyxNQUFNLGdCQUFnQixnRUFBZ0UsYUFBYSw0QkFBNEIsRUFBRSxFQUFFLEVBQUUsOEJBQThCLGNBQWMsdUVBQXVFLFNBQVMsV0FBVyxtQkFBbUIsU0FBUyx1QkFBdUIsOEpBQThKLDREQUE0RCwrQkFBK0IscUNBQXFDLHFDQUFxQyw0REFBNEQsbUJBQW1CLFNBQVMsa0NBQWtDLDJPQUEyTyw0REFBNEQsNkJBQTZCLCtDQUErQyw2QkFBNkIsNkJBQTZCLGlEQUFpRCw2QkFBNkIsNkJBQTZCLHNKQUFzSixtQ0FBbUMsNkJBQTZCLHFKQUFxSiwyQkFBMkIsc0VBQXNFLDBCQUEwQiw4QkFBOEIsaURBQWlELG9DQUFvQyx1Q0FBdUMsNEJBQTRCLFNBQVMseUNBQXlDLDRDQUE0Qyw0QkFBNEIsU0FBUywyQkFBMkIsdUJBQXVCLDRCQUE0QixjQUFjLGdDQUFnQyxtQkFBbUIsU0FBUyxzQkFBc0IsOEpBQThKLDJFQUEyRSw2QkFBNkIsc0JBQXNCLDZCQUE2Qiw0RkFBNEYsNkJBQTZCLCtMQUErTCxtQ0FBbUMsaURBQWlELDJCQUEyQiw2RUFBNkUsb0JBQW9CLDhCQUE4Qiw4QkFBOEIsb0NBQW9DLG9DQUFvQyw0QkFBNEIsU0FBUyx5Q0FBeUMseUNBQXlDLG1DQUFtQyxhQUFhLDJCQUEyQixvQkFBb0IsbUJBQW1CLFNBQVMsdUJBQXVCLDhKQUE4SiwyRUFBMkUsK0JBQStCLHFDQUFxQyxxQ0FBcUMsNERBQTRELG1CQUFtQixTQUFTLHVCQUF1Qiw4SkFBOEosNERBQTRELCtCQUErQixxQ0FBcUMscUNBQXFDLDREQUE0RCxtQkFBbUIsU0FBUyxPQUFPLHFHQUFxRyx1REFBdUQsK0JBQStCLGtCQUFrQixtQkFBbUIsMkJBQTJCLFNBQVMsbUJBQW1CLFVBQVUsUUFBUSxlQUFlLHFKQUFxSiw0REFBNEQsNkJBQTZCLDJCQUEyQixtQ0FBbUMsNkJBQTZCLG1DQUFtQyx3Q0FBd0MsNkJBQTZCLE1BQU0sVUFBVSx5QkFBeUIsY0FBYyxLQUFLLHFCQUFxQixxQkFBcUIsS0FBSyxJQUFJLG9HQUFvRyxtQ0FBbUMsbUNBQW1DLDJHQUEyRyxpQ0FBaUMsb0NBQW9DLHFDQUFxQyxvQ0FBb0MsOEJBQThCLG9DQUFvQyw0QkFBNEIsb0NBQW9DLDZCQUE2Qix3QkFBd0IsZ0NBQWdDLHdCQUF3Qiw0QkFBNEIscUJBQXFCLDhCQUE4Qix1QkFBdUIsOEJBQThCLDhDQUE4QyxrQ0FBa0MsNERBQTRELGdDQUFnQyxtQ0FBbUMsaURBQWlELHdCQUF3Qiw2RkFBNkYsb0NBQW9DLHNDQUFzQyw0QkFBNEIsU0FBUyx5Q0FBeUMsMkNBQTJDLG1DQUFtQyxhQUFhLDRCQUE0QixpQ0FBaUMsNEJBQTRCLDZDQUE2QywyQkFBMkIsb0JBQW9CLDhCQUE4QixNQUFNLG9HQUFvRyw4QkFBOEIsdUJBQXVCLDhCQUE4Qix1QkFBdUIsOEJBQThCLHNDQUFzQyxpRUFBaUUsVUFBVSxRQUFRLG9CQUFvQixnTEFBZ0wsdURBQXVELG9DQUFvQyxXQUFXLHNDQUFzQywyQkFBMkIsSUFBSSx5Q0FBeUMsV0FBVywyQ0FBMkMsMkJBQTJCLElBQUksbUJBQW1CLFNBQVMsdUJBQXVCLDhKQUE4Siw0REFBNEQsbUJBQW1CLFVBQVUsUUFBUSx5QkFBeUIsOExBQThMLDREQUE0RCw2QkFBNkIsMkRBQTJELDZCQUE2QiwwRkFBMEYsNkJBQTZCLHVCQUF1QixrYkFBa2IsbUNBQW1DLHVEQUF1RCxzQkFBc0IsOENBQThDLHNCQUFzQixzREFBc0QsK0JBQStCLDZFQUE2RSxTQUFTLGlDQUFpQyw2RUFBNkUsOEJBQThCLHVFQUF1RSw0QkFBNEIsY0FBYyxtQkFBbUIsUUFBUSxXQUFXLFVBQVUsNEJBQTRCLGNBQWMsbUJBQW1CLE9BQU8sVUFBVSxVQUFVLDRCQUE0Qix5Q0FBeUMsNEJBQTRCLDhDQUE4Qyw0QkFBNEIsdUZBQXVGLDRCQUE0Qix5RUFBeUUsNEJBQTRCLGNBQWMsZ0JBQWdCLHdDQUF3Qyw4QkFBOEIsY0FBYyxnQkFBZ0Isd0NBQXdDLDZCQUE2Qix3QkFBd0IsZ0NBQWdDLHdCQUF3QixpQ0FBaUMsb0VBQW9FLFNBQVMsNEJBQTRCLDZEQUE2RCwrQkFBK0IsU0FBUyxrQ0FBa0MsNERBQTRELGdDQUFnQyxtQ0FBbUMsaURBQWlELFNBQVMsZ0NBQWdDLElBQUksS0FBSyx3QkFBd0IscUJBQXFCLDRDQUE0QyxpQkFBaUIseUJBQXlCLDRCQUE0QixnQkFBZ0IsY0FBYyxxREFBcUQsOEJBQThCLGlCQUFpQixrR0FBa0csc0VBQXNFLEtBQUssZ0JBQWdCLGtCQUFrQixvR0FBb0csMEVBQTBFLDhFQUE4RSxPQUFPLHNDQUFzQyxLQUFLLFFBQVEseUNBQXlDLG9CQUFvQiw0QkFBNEIsY0FBYyxzQ0FBc0MsTUFBTSx5REFBeUQsS0FBSyx5QkFBeUIsd0NBQXdDLDRDQUE0QyxTQUFTLG9DQUFvQyxxREFBcUQseUNBQXlDLDBEQUEwRCw2QkFBNkIsK0JBQStCLDZCQUE2QiwrQkFBK0IsMkJBQTJCLGdFQUFnRSx1QkFBdUIsOEJBQThCLE1BQU0sa0dBQWtHLDhCQUE4QixtQ0FBbUMsdURBQXVELDBDQUEwQyxtQ0FBbUMsbUdBQW1HLDhCQUE4QixlQUFlLG1FQUFtRSx5SkFBeUosNkNBQTZDLHlKQUF5SiwyQkFBMkIsc0hBQXNILDJCQUEyQixNQUFNLDJJQUEySSxTQUFTLDJCQUEyQixXQUFXLFlBQVksY0FBYyxPQUFPLFVBQVUsVUFBVSwyQkFBMkIsV0FBVyxXQUFXLGFBQWEsUUFBUSxXQUFXLFVBQVUsZ0NBQWdDLDZDQUE2QyxzSUFBc0ksbUNBQW1DLGFBQWEsaUVBQWlFLE1BQU0seUNBQXlDLHNDQUFzQyxhQUFhLFVBQVUsRUFBRSxNQUFNLG1CQUFtQix3Q0FBd0MsYUFBYSx1QkFBdUIsRUFBRSxNQUFNLDJDQUEyQyxrQ0FBa0MsYUFBYSxjQUFjLEVBQUUsNkJBQTZCLE1BQU0sNkVBQTZFLDJFQUEyRSx5QkFBeUIsbUJBQW1CLFNBQVMsdUJBQXVCLDhKQUE4Siw0REFBNEQsK0JBQStCLHFDQUFxQyxrQ0FBa0Msd0NBQXdDLHlDQUF5QywrQ0FBK0MsK0pBQStKLE9BQU8sZUFBZSxlQUFlLHFCQUFxQixlQUFlLGtCQUFrQiw2R0FBNkcsYUFBYSxtQkFBbUIsd0JBQXdCLEtBQUssT0FBTyxFQUFFLHlCQUF5QiwyQ0FBMkMsU0FBUyx3QkFBd0IsMEJBQTBCLE9BQU8sRUFBRSw4Q0FBOEMsK0ZBQStGLFNBQVMsd0JBQXdCLDBCQUEwQixPQUFPLEVBQUUsOENBQThDLHNFQUFzRSxTQUFTLGNBQWMsb0JBQW9CLGdCQUFnQiwwQkFBMEIsb0JBQW9CLGNBQWMsb0JBQW9CLEtBQUssaUJBQWlCLDBCQUEwQixjQUFjLDBFQUEwRSxjQUFjLFVBQVUsaUJBQWlCLGdCQUFnQixNQUFNLGFBQWEsaUJBQWlCLG1CQUFtQixpQkFBaUIsa0JBQWtCLEtBQUssd0NBQXdDLElBQUksb0JBQW9CLDRCQUE0QixPQUFPLEVBQUUsMkJBQTJCLG1NQUFtTSxnSEFBZ0gsYUFBYSwwQkFBMEIsOEJBQThCLFdBQVcsY0FBYyw2Q0FBNkMsTUFBTSxhQUFhLGlCQUFpQixpQkFBaUIsa0JBQWtCLEtBQUssK0JBQStCLElBQUksMkRBQTJELHlEQUF5RCxLQUFLLG9JQUFvSSxlQUFlLGFBQWEsVUFBVSwyQkFBMkIsYUFBYSxnQ0FBZ0MsY0FBYyxtQkFBbUIsaUJBQWlCLGNBQWMsdUNBQXVDLEtBQUssT0FBTyxpQ0FBaUMsU0FBUyxjQUFjLFVBQVUsb0lBQW9JLGFBQWEsMkVBQTJFLGdCQUFnQixNQUFNLGdCQUFnQixLQUFLLG1CQUFtQixVQUFVLEtBQUssV0FBVyw0QkFBNEIsZ0JBQWdCLFlBQVksVUFBVSxtQkFBbUIsd0NBQXdDLGdCQUFnQixzRkFBc0YsZ0JBQWdCLEtBQUssMkNBQTJDLFVBQVUsS0FBSyxXQUFXLDRDQUE0QyxnQkFBZ0IsYUFBYSw0QkFBNEIsa0NBQWtDLHVDQUF1QyxnQkFBZ0IsY0FBYyxVQUFVLCtDQUErQyw0REFBNEQsZ0JBQWdCLHlDQUF5QyxJQUFJLDhDQUE4QyxpQkFBaUIsWUFBWSxVQUFVLHlDQUF5QyxXQUFXLEtBQUssZUFBZSxPQUFPLHNDQUFzQyxRQUFRLGtFQUFrRSxnQkFBZ0Isa0NBQWtDLGdCQUFnQixPQUFPLFFBQVEsUUFBUSxPQUFPLHNDQUFzQyw0Q0FBNEMsY0FBYyxtQ0FBbUMsT0FBTyxRQUFRLFFBQVEsU0FBUyxLQUFLLDZCQUE2Qix3RkFBd0YsMERBQTBELGtCQUFrQixjQUFjLGVBQWUsaUJBQWlCLCtEQUErRCxpQkFBaUIsa0RBQWtELDRDQUE0QyxvQkFBb0IsU0FBUyxvSEFBb0gsMEVBQTBFLE9BQU8sYUFBYSxLQUFLLE9BQU8sRUFBRSx3REFBd0QsdURBQXVELFNBQVMsV0FBVyw2RkFBNkYsY0FBYyxVQUFVLHNFQUFzRSxjQUFjLFNBQVMsY0FBYyw4Q0FBOEMsY0FBYyxTQUFTLGNBQWMsb0JBQW9CLGtCQUFrQix5QkFBeUIsZ0JBQWdCLHVCQUF1QixhQUFhLHNCQUFzQixjQUFjLHFCQUFxQixVQUFVLGdJQUFnSSxjQUFjLHdHQUF3RyxjQUFjLFVBQVUsNEZBQTRGLGNBQWMsVUFBVSxnQ0FBZ0MsY0FBYyxLQUFLLGNBQWMsYUFBYSxZQUFZLFlBQVksS0FBSywrRUFBK0UsdURBQXVELFdBQVcscUJBQXFCLHlEQUF5RCxnQkFBZ0IsdUJBQXVCLGtCQUFrQix5QkFBeUIsYUFBYSx3Q0FBd0MsZ0JBQWdCLGtDQUFrQyxzQ0FBc0MsWUFBWSxPQUFPLHFDQUFxQyxLQUFLLFFBQVEsUUFBUSxlQUFlLGdCQUFnQixNQUFNLHVEQUF1RCxjQUFjLG1CQUFtQixRQUFRLDRCQUE0Qix3S0FBd0ssNEJBQTRCLGNBQWMseUJBQXlCLFFBQVEsYUFBYSw2Q0FBNkMsU0FBUztBQUNqaXdCO0FBQ0Esa0JBQWtCLGtCQUFrQixnQkFBZ0IsK0RBQStELGlDQUFpQyxVQUFVLEVBQUUsd0JBQXdCLHFIQUFxSCxTQUFTLHVDQUF1QyxJQUFJLEVBQUUsV0FBVyxRQUFRLGdCQUFnQixZQUFZLGtDQUFrQyxrQkFBa0IsaUJBQWlCLFdBQVcsaUhBQWlILFNBQVMsa0JBQWtCLHFEQUFxRCxXQUFXLFFBQVEsb0JBQW9CLGFBQWEsNENBQTRDLGdDQUFnQyxzQ0FBc0MsUUFBUSxXQUFXLDBDQUEwQyxvQ0FBb0MsUUFBUSxXQUFXLGlDQUFpQywwQkFBMEIsYUFBYSxpR0FBaUcsZ0JBQWdCLGtLQUFrSyxjQUFjLDJCQUEyQixlQUFlLDRCQUE0Qix1QkFBdUIsaUJBQWlCLHVCQUF1QixxQkFBcUIsK0JBQStCLGlCQUFpQiw4QkFBOEIsdUJBQXVCLGlCQUFpQix1QkFBdUIscUJBQXFCLCtCQUErQixpQkFBaUIsZ0NBQWdDLElBQUksV0FBVyxXQUFXLGlCQUFpQixrQkFBa0IsOEJBQThCLFFBQVEsb0JBQW9CLGlCQUFpQix3RkFBd0YseUJBQXlCLGVBQWUsOEJBQThCLGVBQWUsZ0NBQWdDLG1CQUFtQixpQkFBaUIsV0FBVywrSEFBK0gsU0FBUyxtQkFBbUIsa0JBQWtCLDhCQUE4QixtQkFBbUIseUNBQXlDLG1CQUFtQiwrRUFBK0UsK0JBQStCLDBCQUEwQix1QkFBdUIsd0NBQXdDLGdDQUFnQyxTQUFTLDRGQUE0RiwyREFBMkQsUUFBUSxVQUFVLFlBQVksd0VBQXdFLFFBQVEsV0FBVywwQ0FBMEMsdUJBQXVCLGlCQUFpQixJQUFJLDRCQUE0Qix5RUFBeUUsbUJBQW1CLFlBQVksVUFBVSxjQUFjLFNBQVMsbUJBQW1CLHNEQUFzRCxTQUFTLGVBQWUsZ0NBQWdDLHNDQUFzQyx3QkFBd0IseUJBQXlCLFVBQVUsU0FBUyxxQkFBcUIsd0JBQXdCLHdCQUF3QixnQ0FBZ0MsOEJBQThCLFFBQVEsWUFBWSxpQkFBaUIsZ0VBQWdFLFNBQVMsaUJBQWlCLDZDQUE2QyxjQUFjLCtCQUErQiwrREFBK0Qsd0JBQXdCLGdDQUFnQyw4QkFBOEIsUUFBUSxZQUFZLGlCQUFpQiw2Q0FBNkMsY0FBYywrQkFBK0IsK0RBQStELHdCQUF3QixrQkFBa0IsWUFBWSxxQkFBcUIsa0JBQWtCLDhCQUE4QixtQkFBbUIsMkNBQTJDLHFCQUFxQixrQkFBa0IsK0JBQStCLG9CQUFvQiw4QkFBOEIsNERBQTRELDBCQUEwQix1QkFBdUIsd0NBQXdDLGdDQUFnQywrQkFBK0IsUUFBUSxXQUFXLGVBQWUsS0FBSyxXQUFXLGNBQWMsNERBQTRELHNDQUFzQyxrRUFBa0UsK0RBQStELDRCQUE0QixRQUFRLFdBQVcsMENBQTBDLFNBQVMsY0FBYyxRQUFRLElBQUksaURBQWlELHlDQUF5Qyx1R0FBdUcsVUFBVSxnQkFBZ0IsVUFBVSx5Q0FBeUMsaUJBQWlCLDZCQUE2QixRQUFRLFdBQVcseURBQXlELFdBQVcsd0JBQXdCLFdBQVcsU0FBUyx3QkFBd0IsdUJBQXVCLGtDQUFrQyw2QkFBNkIseUJBQXlCLGlCQUFpQixZQUFZLHdHQUF3RyxXQUFXLGFBQWEsNkVBQTZFLGVBQWUsWUFBWSw4QkFBOEIseUJBQXlCLHNCQUFzQixvQkFBb0IsUUFBUSw2Q0FBNkMscUJBQXFCLEdBQUcsU0FBUyxnSEFBZ0gscURBQXFELDBqQkFBMGpCLDRGQUE0Rix5UkFBeVIsMkNBQTJDLDhIQUE4SCxnQ0FBZ0Msc0VBQXNFLDhDQUE4QyxNQUFNLFFBQVEsV0FBVyxnQkFBZ0IsS0FBSyxNQUFNLGVBQWUsc0JBQXNCLFlBQVksc0dBQXNHLFNBQVMsVUFBVSxVQUFVLFlBQVksWUFBWSxZQUFZLFlBQVksRUFBRSw2QkFBNkIsb0JBQW9CLCtCQUErQixnQkFBZ0IsMEJBQTBCLGdCQUFnQixvREFBb0QsZ0JBQWdCLGdCQUFnQixnQkFBZ0Isc0NBQXNDLGdCQUFnQiw0Q0FBNEMsZ0JBQWdCLHlCQUF5QixnQkFBZ0IsNEJBQTRCLDhCQUE4QixVQUFVLFFBQVEsV0FBVyw4Q0FBOEMsYUFBYSxnQkFBZ0IsMkNBQTJDLFlBQVksRUFBRSx3QkFBd0IsNkZBQTZGLHFCQUFxQiwrSkFBK0osd0RBQXdELHFCQUFxQixrQkFBa0IsaUVBQWlFLDJCQUEyQixxQkFBcUIsV0FBVyxxQkFBcUIsS0FBSyxtQ0FBbUMsVUFBVSxTQUFTLGtCQUFrQixrRUFBa0Usa0NBQWtDLFFBQVEsbUJBQW1CLDBCQUEwQiw0QkFBNEIsb0JBQW9CLGlCQUFpQixJQUFJLFNBQVMsSUFBSSxrQkFBa0Isd0JBQXdCLDZEQUE2RCxvQkFBb0IsK0JBQStCLCtCQUErQixJQUFJLHNFQUFzRSxnQ0FBZ0MsS0FBSyxTQUFTLEdBQUcsaUhBQWlILDZCQUE2QixHQUFHLGtCQUFrQixzQkFBc0IsNkRBQTZELE1BQU0sRUFBRSwyREFBMkQsNFhBQTRYLGlCQUFpQixLQUFLLDJDQUEyQyxTQUFTLE9BQU8sU0FBUyxrQkFBa0IsSUFBSSxrQ0FBa0MsU0FBUyxVQUFVLGVBQWUsVUFBVSx3QkFBd0IsUUFBUSxJQUFJLHFCQUFxQixTQUFTLHdCQUF3QixlQUFlLGdCQUFnQixnRUFBZ0UsbURBQW1ELGdCQUFnQix1Q0FBdUMsNkJBQTZCLGlEQUFpRCxnQkFBZ0IsNENBQTRDLGdEQUFnRCxnREFBZ0QsZUFBZSxxREFBcUQscUVBQXFFLDJCQUEyQiwwQkFBMEIsRUFBRTtBQUMvMVY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsUUFBUSxVQUFVLG1CQUFtQixjQUFjLE9BQU8sbUJBQW1CLGlCQUFpQixZQUFZLCtEQUErRCxnQ0FBZ0MsaUNBQWlDLG1CQUFtQixvQkFBb0IsbUNBQW1DLGtCQUFrQixnQkFBZ0IsbURBQW1ELHlEQUF5RCxrQkFBa0IsMENBQTBDLG9CQUFvQixtQkFBbUIsa0RBQWtELHNCQUFzQiw2QkFBNkIsb0JBQW9CLHNDQUFzQyw2QkFBNkIsSUFBSSxLQUFLLDhCQUE4Qiw0QkFBNEIsaUJBQWlCLElBQUkseUJBQXlCLHVCQUF1QixlQUFlLHdCQUF3QixvREFBb0Qsa0JBQWtCLHlCQUF5QiwrQkFBK0Isb0JBQW9CLGlCQUFpQixJQUFJLHFDQUFxQyx3QkFBd0IsV0FBVyxTQUFTLHNCQUFzQiwrQkFBK0IsSUFBSSxLQUFLLDhCQUE4Qix5REFBeUQsa0JBQWtCLG1CQUFtQiw0QkFBNEIsSUFBSSxvREFBb0QsMEJBQTBCLFNBQVMsc0JBQXNCLCtCQUErQixJQUFJLEtBQUssOEJBQThCLCtCQUErQixrQkFBa0IsbUJBQW1CLDRCQUE0QixJQUFJLDhDQUE4Qyx3QkFBd0IsU0FBUyxzQkFBc0IsSUFBSSxrREFBa0QsU0FBUyx5Q0FBeUMsbUJBQW1CLGlEQUFpRCxrQkFBa0IsaUJBQWlCLDZCQUE2QixnQkFBZ0IsbUVBQW1FLGdCQUFnQixrREFBa0QscUNBQXFDLHlCQUF5QixNQUFNLFlBQVksSUFBSSxrQkFBa0Isb0JBQW9CLFFBQVEsdUJBQXVCLGtCQUFrQix5QkFBeUIsOEJBQThCLE1BQU0sb0JBQW9CLCtCQUErQix1Q0FBdUMsa0JBQWtCLDZCQUE2QixvQkFBb0IsaUNBQWlDLGdCQUFnQixjQUFjLGdCQUFnQixTQUFTLHNCQUFzQixxQkFBcUIsNEJBQTRCLGdCQUFnQixxQkFBcUIsb0NBQW9DLFNBQVMsRUFBRSxTQUFTLE9BQU8sYUFBYSwwQkFBMEIsNENBQTRDLDBCQUEwQiw0Q0FBNEMsMEJBQTBCLHlDQUF5QywwQkFBMEIsNENBQTRDLGtEQUFrRCxLQUFLLHdDQUF3QyxpQkFBaUIsY0FBYyxpRUFBaUUsa0JBQWtCLFlBQVksS0FBSyxLQUFLLGlCQUFpQixxREFBcUQscXFEQUFxcUQsd0RBQXdELGVBQWUsMENBQTBDLHVCQUF1Qiw0QkFBNEIsK0xBQStMLElBQUksZ0VBQWdFLFNBQVMsa0JBQWtCLHlCQUF5QiwrQkFBK0IsNEJBQTRCLGtCQUFrQix1REFBdUQsY0FBYyw0RUFBNEUsa0JBQWtCLDREQUE0RCxLQUFLLEtBQUssc0JBQXNCLEtBQUssb0NBQW9DLGlCQUFpQiwwS0FBMEssc0VBQXNFLGVBQWUsMENBQTBDLG1JQUFtSSxrQkFBa0IseUJBQXlCLCtCQUErQixFQUFFLDBCQUEwQixHQUFHO0FBQzUyTSxzREFBc0Qsb05BQW9OLFVBQVUsMEVBQTBFLGlFQUFpRSw4QkFBOEIsTUFBTSxpQkFBaUIsK0JBQStCLE1BQU0saUJBQWlCLCtCQUErQixNQUFNLGlCQUFpQjtBQUNoa0I7QUFDQSwwQ0FBMEMsbURBQW1ELDRCQUE0QixvQkFBb0IscUJBQXFCLGtDQUFrQyxxQkFBcUIscUJBQXFCLDBFQUEwRSxLQUFLLDZCQUE2QixzQ0FBc0MsaUJBQWlCLElBQUksV0FBVyx3Q0FBd0Msa0NBQWtDLFNBQVMsdUJBQXVCLDhFQUE4RSxHQUFHLGNBQWMsMkZBQTJGLHFCQUFxQiwrQkFBK0Isc0RBQXNELFdBQVcsNEpBQTRKLG1DQUFtQyxrQ0FBa0MscUNBQXFDLHFDQUFxQyxtQ0FBbUMsa0NBQWtDLG1DQUFtQyxzQ0FBc0MscUNBQXFDLHFDQUFxQyxxQ0FBcUMscUNBQXFDLHNDQUFzQyxzQ0FBc0MsYUFBYSx3QkFBd0IsV0FBVyxLQUFLLG9CQUFvQixVQUFVLGlCQUFpQixLQUFLLEVBQUUsYUFBYSx3QkFBd0IsV0FBVyxLQUFLLG9CQUFvQixVQUFVLGlCQUFpQixLQUFLLEVBQUUsYUFBYSxXQUFXLHNFQUFzRSxvQkFBb0IsaUJBQWlCLHNCQUFzQixFQUFFLFNBQVMsbUhBQW1ILHVDQUF1QyxxQkFBcUIsaUJBQWlCLGVBQWUsMkJBQTJCLHVGQUF1RixXQUFXLE1BQU0sd0VBQXdFLHdDQUF3QyxpQkFBaUIsNkJBQTZCLFNBQVMsMkJBQTJCLGtCQUFrQixxQkFBcUIsZ0NBQWdDLGVBQWUsc0RBQXNELFlBQVksaUJBQWlCLElBQUksV0FBVyxNQUFNLFlBQVksYUFBYSxNQUFNLG9CQUFvQiw2Q0FBNkMsVUFBVSx5REFBeUQsMkRBQTJELHNCQUFzQixZQUFZLFdBQVcsZUFBZSxTQUFTLHVCQUF1QixTQUFTLG1CQUFtQixtRkFBbUYsdUZBQXVGLHdDQUF3QywyQ0FBMkMsaUJBQWlCLDZFQUE2RSxZQUFZLHdCQUF3QixvQkFBb0IseUhBQXlILG9CQUFvQix5QkFBeUIsb0JBQW9CLFVBQVUsd0JBQXdCLHFDQUFxQyxtQkFBbUIsZUFBZSxxQkFBcUIsMERBQTBELHFCQUFxQiwrQ0FBK0Msb0JBQW9CLGVBQWUsdUlBQXVJLDhEQUE4RCxxQ0FBcUMsb0JBQW9CLDBDQUEwQyxvQkFBb0IsU0FBUyx5QkFBeUIscURBQXFELDRCQUE0QixtS0FBbUssV0FBVywwQkFBMEIsU0FBUyxxQkFBcUIsbUNBQW1DLGFBQWEsdUJBQXVCLHlEQUF5RCxvQkFBb0IsZUFBZSxxQkFBcUIsb0RBQW9ELCtCQUErQiwwQ0FBMEMsV0FBVyxvQkFBb0IsZ0JBQWdCLDhEQUE4RCxxQ0FBcUMsb0JBQW9CLGtDQUFrQyxxQkFBcUIsd0NBQXdDLG1GQUFtRiw2REFBNkQsbUVBQW1FLDhEQUE4RCxzRUFBc0UsaURBQWlELHFCQUFxQiwwQkFBMEIsV0FBVyxxQkFBcUIsVUFBVSxvQkFBb0IsZUFBZSw4TEFBOEwsOERBQThELHNFQUFzRSxrQ0FBa0MsdUJBQXVCLDREQUE0RCxZQUFZLG9DQUFvQyxxQkFBcUIsc0JBQXNCLG1CQUFtQixZQUFZLFlBQVksS0FBSyxXQUFXLGlCQUFpQixhQUFhLE1BQU0saURBQWlELDRCQUE0Qix3Q0FBd0MscUJBQXFCLGlCQUFpQixXQUFXLHVCQUF1QixXQUFXLHFCQUFxQiwyQkFBMkIsSUFBSSxZQUFZLFNBQVMsb0JBQW9CLGVBQWUsc05BQXNOLDhEQUE4RCxvREFBb0QsNkRBQTZELGlFQUFpRSw4REFBOEQsa0JBQWtCLHFCQUFxQixnQ0FBZ0MsZUFBZSxzREFBc0QsWUFBWSxpQkFBaUIsSUFBSSxXQUFXLE1BQU0sWUFBWSxhQUFhLE1BQU0sb0JBQW9CLDZDQUE2QyxVQUFVLHNFQUFzRSwrQ0FBK0MscUJBQXFCLHlEQUF5RCwyREFBMkQsc0JBQXNCLFlBQVksV0FBVyxlQUFlLCtDQUErQyxxQkFBcUIsd0dBQXdHLHNDQUFzQyxXQUFXLG9CQUFvQixlQUFlLGtTQUFrUyw4REFBOEQsc0VBQXNFLGlEQUFpRCxxQkFBcUIsMEJBQTBCLFdBQVcscUJBQXFCLFVBQVUsb0JBQW9CLGVBQWUsK0lBQStJLDhEQUE4RCxvREFBb0QsOERBQThELG9EQUFvRCw4REFBOEQsb0RBQW9ELDhEQUE4RCxvREFBb0QsOERBQThELG9EQUFvRCw4REFBOEQsd0VBQXdFLHlGQUF5RixvQkFBb0Isa0pBQWtKLDhFQUE4RSxHQUFHLDBFQUEwRSw4REFBOEQsbUZBQW1GLGlHQUFpRyxvQkFBb0IscUlBQXFJLDhFQUE4RSxHQUFHLHNHQUFzRyw4REFBOEQsdUVBQXVFLGlCQUFpQixpQkFBaUIsS0FBSyxpQkFBaUIsVUFBVSwwQkFBMEIsOERBQThELGtGQUFrRix3QkFBd0IsaUJBQWlCLEtBQUssaUJBQWlCLGVBQWUsdURBQXVELG9GQUFvRiw4REFBOEQsNkdBQTZHLCtKQUErSixvQkFBb0IsZUFBZSx3TEFBd0wsdUNBQXVDO0FBQ2x0VyxtRkFBbUY7QUFDbkY7QUFDQSwwQ0FBMEMsK0RBQStELGdDQUFnQyxTQUFTLGtWQUFrVixVQUFVLDBxQkFBMHFCLFVBQVUsaUhBQWlILHVCQUF1QixzRkFBc0Ysb0JBQW9CLHlCQUF5Qix5QkFBeUIscUVBQXFFLHlEQUF5RCxJQUFJLGFBQWEsWUFBWSxTQUFTLHVCQUF1QiwwQkFBMEIsS0FBSyxFQUFFLGVBQWUsdUJBQXVCLDBCQUEwQixLQUFLLEVBQUUsZUFBZSx1QkFBdUIsMEJBQTBCLHdCQUF3QixFQUFFLGVBQWUseUJBQXlCLDBCQUEwQiwwQkFBMEIsRUFBRSxlQUFlLHFCQUFxQiwwQkFBMEIsMEJBQTBCLEVBQUUsZUFBZSxxQkFBcUIsMEJBQTBCLDBCQUEwQixFQUFFLGVBQWUscUJBQXFCLDBCQUEwQiwwQkFBMEIsRUFBRSxlQUFlLHFCQUFxQiwwQkFBMEIsdUJBQXVCLEVBQUUsZUFBZSxxQkFBcUIsMEJBQTBCLDZCQUE2QixFQUFFLGVBQWUsdUJBQXVCLDRCQUE0QixzQkFBc0IsbUlBQW1JLElBQUksc0NBQXNDLFNBQVMsd0RBQXdELG9CQUFvQixrQkFBa0IscUJBQXFCLHdCQUF3QixrQkFBa0Isd0JBQXdCLG1CQUFtQiw0QkFBNEIscUJBQXFCLGdDQUFnQyxxQkFBcUIsaUNBQWlDLHlDQUF5QyxJQUFJLDZCQUE2QixTQUFTLHdEQUF3RCxvQkFBb0Isa0JBQWtCLHFCQUFxQiw4QkFBOEIsa0JBQWtCLHdCQUF3QixtQkFBbUIsaUNBQWlDLHFCQUFxQixnQ0FBZ0MscUJBQXFCLGtDQUFrQyxxQkFBcUIsK0VBQStFLHFCQUFxQiw0RUFBNEUsd0JBQXdCLHNFQUFzRSxxQkFBcUIsK0VBQStFLHFCQUFxQiw0RUFBNEUsd0hBQXdILDRCQUE0QixzQkFBc0IsdUlBQXVJLHFEQUFxRCxrQkFBa0IscUZBQXFGLElBQUksMkJBQTJCLHNDQUFzQyxTQUFTLDREQUE0RCxvQkFBb0IsbUJBQW1CLHFCQUFxQix3QkFBd0IsbUJBQW1CLG9CQUFvQixvQkFBb0IsNEJBQTRCLHFCQUFxQiw0QkFBNEIscUJBQXFCLDhCQUE4QixxQkFBcUIsbUVBQW1FLHFCQUFxQixnRUFBZ0Usb0JBQW9CLDBEQUEwRCxxQkFBcUIsbUVBQW1FLHFCQUFxQixnRUFBZ0UscUJBQXFCLHVCQUF1QixRQUFRLGtHQUFrRywyRUFBMkUsV0FBVyxrQkFBa0IseUZBQXlGLE9BQU8sa05BQWtOLDBCQUEwQix1SkFBdUosbUNBQW1DLFdBQVcsc0JBQXNCLG1HQUFtRyx1QkFBdUIsZ0NBQWdDLElBQUksV0FBVyxXQUFXLHVCQUF1QixtRUFBbUUsNEVBQTRFLElBQUksNEJBQTRCLFdBQVcsRUFBRSxTQUFTLDhEQUE4RCx3QkFBd0IsV0FBVyxJQUFJLG1EQUFtRCxTQUFTLHNCQUFzQixnREFBZ0QsS0FBSyxvQ0FBb0MsK0JBQStCLHFCQUFxQixxR0FBcUcscUJBQXFCLGtLQUFrSyxxQkFBcUIsZUFBZSxrREFBa0QscUJBQXFCLGNBQWMscUJBQXFCLGNBQWMsc0JBQXNCLHNGQUFzRiw2QkFBNkIsY0FBYyxFQUFFLDhCQUE4QixnR0FBZ0csaUZBQWlGLHlFQUF5RSxLQUFLLGdHQUFnRyw0QkFBNEIsZUFBZSxxQkFBcUIsOEJBQThCLHFCQUFxQiw4QkFBOEIseUJBQXlCLHNGQUFzRiw2QkFBNkIsY0FBYyxFQUFFLHNDQUFzQyw0RkFBNEYscUVBQXFFLHFFQUFxRSxtRUFBbUUseURBQXlELHlCQUF5QixnRUFBZ0UscUJBQXFCLGtGQUFrRixxQkFBcUIsb0ZBQW9GLHFCQUFxQixpRUFBaUUscUJBQXFCLGtFQUFrRSxxQkFBcUIsK0RBQStELHNCQUFzQix1REFBdUQscUJBQXFCLGtFQUFrRSxxQkFBcUIsK0RBQStELHlCQUF5QixnRUFBZ0Usd09BQXdPLHFGQUFxRixJQUFJLFlBQVksc0RBQXNELFNBQVMsaURBQWlELCtCQUErQixTQUFTLG9PQUFvTyxVQUFVLGtHQUFrRztBQUNoNVQ7QUFDQSx3QkFBd0IseWRBQXlkLGVBQWUsYUFBYSxTQUFTLGdCQUFnQiwrQ0FBK0MsOEJBQThCLDRDQUE0QyxnQkFBZ0IsRUFBRSxrQkFBa0Isc0JBQXNCLDJCQUEyQixtQ0FBbUMsRUFBRSxvQkFBb0Isa0NBQWtDLHdCQUF3QixFQUFFLGtCQUFrQixNQUFNLHNGQUFzRixXQUFXLDBHQUEwRyxLQUFLLFdBQVcsa0JBQWtCLHdCQUF3QixNQUFNLHFDQUFxQyxNQUFNLDBCQUEwQixNQUFNLHVCQUF1QixTQUFTLGtCQUFrQixTQUFTLG9HQUFvRyxhQUFhLHFOQUFxTixrQkFBa0IsK0JBQStCLGtCQUFrQixnQ0FBZ0MsMkJBQTJCLG9HQUFvRyxrQkFBa0IsV0FBVywrRkFBK0Ysa0JBQWtCLDZCQUE2QixPQUFPLDJGQUEyRixrQkFBa0Isb0hBQW9ILGtCQUFrQixjQUFjLHNDQUFzQyxPQUFPLFdBQVcsaURBQWlELFNBQVMsa0JBQWtCLGdCQUFnQiwyRUFBMkUsU0FBUyw4Q0FBOEMsOEJBQThCLDhCQUE4QixVQUFVLFNBQVMsa0JBQWtCLDRDQUE0QyxPQUFPLCtCQUErQixrQkFBa0IsZ0JBQWdCLDJFQUEyRSxvRUFBb0UsSUFBSSxrQkFBa0Isd0JBQXdCLGdDQUFnQyxvQkFBb0Isa0ZBQWtGLGtCQUFrQiwwQkFBMEIsd0JBQXdCLGtCQUFrQiw4QkFBOEIsT0FBTyx5Q0FBeUMsb0JBQW9CLGlDQUFpQyxPQUFPLDBCQUEwQixvQkFBb0IsMEJBQTBCLGdDQUFnQyxtREFBbUQsSUFBSSxvQkFBb0IsY0FBYyxvQkFBb0IsT0FBTyx3QkFBd0IscUNBQXFDLDhDQUE4QyxtQ0FBbUMsaUJBQWlCLFNBQVMsa0JBQWtCLDZEQUE2RCxrQkFBa0IsV0FBVyx3QkFBd0IsaUNBQWlDLFdBQVcsS0FBSywwQ0FBMEMsTUFBTSx3Q0FBd0MsMENBQTBDLDhFQUE4RSx5REFBeUQsK0NBQStDLG1CQUFtQixJQUFJLG9CQUFvQixTQUFTLHdGQUF3RiwrQkFBK0IsdUdBQXVHLGlDQUFpQyxFQUFFLFFBQVEsZ0NBQWdDLGlCQUFpQixnRkFBZ0YsV0FBVyxJQUFJLGtCQUFrQixrSEFBa0gsZUFBZSxxQkFBcUIscUJBQXFCLHFFQUFxRSxtQkFBbUIsbUNBQW1DLHNCQUFzQixFQUFFLEVBQUUsNkVBQTZFLG1EQUFtRCxPQUFPLDBDQUEwQyxPQUFPLG9EQUFvRCw2QkFBNkIsYUFBYSwyQkFBMkIsS0FBSyxFQUFFLG1CQUFtQiw2SkFBNkosT0FBTyxLQUFLLGtCQUFrQixRQUFRLHFDQUFxQyxlQUFlLHFCQUFxQixxQkFBcUIsS0FBSyw0QkFBNEIsNkJBQTZCLGtDQUFrQywyQkFBMkIseUJBQXlCLGtCQUFrQiwwQkFBMEIsb0RBQW9ELHdCQUF3Qix3Q0FBd0MsZUFBZSxxQkFBcUIsb0JBQW9CLEVBQUUsNENBQTRDLHVCQUF1QixTQUFTLGlCQUFpQiw4RkFBOEYsd0JBQXdCLHFCQUFxQixzUUFBc1EsNENBQTRDLGtKQUFrSiw0SEFBNEgsb0JBQW9CLHNCQUFzQixXQUFXLGlCQUFpQiwwRkFBMEYsNEJBQTRCLGtCQUFrQixnQ0FBZ0Msc0JBQXNCLGtCQUFrQiw4QkFBOEIsT0FBTyxpQkFBaUIsYUFBYSxnQ0FBZ0MsZ0JBQWdCLGtEQUFrRCxpQ0FBaUMsMkJBQTJCLEdBQUcsZ0JBQWdCLDBCQUEwQixtS0FBbUssd1JBQXdSLGtDQUFrQyx5Q0FBeUMsNkVBQTZFLGdDQUFnQyxtQkFBbUIsaUNBQWlDLGdCQUFnQiw0QkFBNEIsZ0JBQWdCLDJCQUEyQixXQUFXLDZEQUE2RCxrQ0FBa0MsRUFBRSw2QkFBNkIsdURBQXVELGdJQUFnSSxZQUFZLGdCQUFnQix1QkFBdUIsMEJBQTBCLHlCQUF5QixzQkFBc0IsdUJBQXVCLHFDQUFxQyx1QkFBdUIsRUFBRSxHQUFHLCtCQUErQix1REFBdUQsaUNBQWlDLFdBQVcsa05BQWtOLDJIQUEySCxZQUFZLDJCQUEyQiwrQ0FBK0MsK0JBQStCLDJJQUEySSwyQkFBMkIsS0FBSyxpQkFBaUIsRUFBRSxvQkFBb0IsSUFBSSxzRkFBc0YsU0FBUyw0Q0FBNEMsZ0JBQWdCLE1BQU0sdUZBQXVGLFVBQVUsMkJBQTJCLDhDQUE4QywyQkFBMkIsV0FBVywwREFBMEQsbUNBQW1DLFdBQVcsZ0NBQWdDLHlIQUF5SCxpQkFBaUIsa0RBQWtELDRCQUE0Qiw2QkFBNkIsMkJBQTJCLHFCQUFxQixHQUFHLEdBQUcsT0FBTyxpQkFBaUIsYUFBYSxnREFBZ0QsY0FBYyxxQ0FBcUMsNkZBQTZGLEdBQUcsR0FBRyxPQUFPLGVBQWUsYUFBYSxpQkFBaUIsYUFBYSx5REFBeUQsaUNBQWlDLFNBQVMsaUNBQWlDLDRCQUE0Qiw2QkFBNkIsZ0JBQWdCLHNDQUFzQyxvQ0FBb0MsSUFBSSxJQUFJLFNBQVMsc0NBQXNDLGtDQUFrQyx1Q0FBdUMscUNBQXFDLElBQUksSUFBSSxTQUFTLHVDQUF1QyxtQ0FBbUMsR0FBRyxHQUFHLE9BQU8sZUFBZSxhQUFhLGlCQUFpQixnQkFBZ0Isb0JBQW9CLGlDQUFpQyxlQUFlLDJCQUEyQiwrQkFBK0IsR0FBRyxHQUFHLE9BQU8saUJBQWlCLGFBQWEsNENBQTRDLGFBQWEsbUJBQW1CLGdEQUFnRCxzRUFBc0Usa0NBQWtDLGFBQWEsTUFBTSxhQUFhLGtCQUFrQixhQUFhLDhDQUE4Qyw4R0FBOEcsZ0JBQWdCLElBQUksT0FBTyxrQkFBa0IsYUFBYSw4Q0FBOEMsK0xBQStMLGdCQUFnQixJQUFJLE9BQU8saUJBQWlCLEdBQUcsaUJBQWlCLEdBQUcsaUJBQWlCLGNBQWMsd0JBQXdCLG9pQkFBb2lCLEdBQUcsR0FBRyxPQUFPLGVBQWUsYUFBYSxpQkFBaUIsYUFBYSxXQUFXLHdKQUF3SixTQUFTLGdEQUFnRCx3QkFBd0IsbURBQW1ELEtBQUssS0FBSyx1QkFBdUIsaURBQWlELDhCQUE4Qix1Q0FBdUMsNEJBQTRCLHNCQUFzQixTQUFTLDRCQUE0QiwyQkFBMkIsc0JBQXNCLFlBQVksaUJBQWlCLFNBQVMsR0FBRyxHQUFHLE9BQU8saUJBQWlCLGFBQWEsd0NBQXdDLGNBQWMseURBQXlELGlDQUFpQyxXQUFXLHlNQUF5TSxPQUFPLFdBQVcsMkJBQTJCLHNDQUFzQywrR0FBK0csYUFBYSx1RUFBdUUscUZBQXFGLEdBQUcsR0FBRyxPQUFPLGlCQUFpQixhQUFhLDBDQUEwQyxhQUFhLG1CQUFtQixnREFBZ0Qsc0VBQXNFLDJJQUEySSxlQUFlLGtCQUFrQixhQUFhLCtDQUErQyxnQkFBZ0Isb0JBQW9CLGdCQUFnQixxR0FBcUcsaUNBQWlDLFlBQVksbUNBQW1DLG9CQUFvQiwyQkFBMkIsU0FBUywyQkFBMkIsV0FBVywwQ0FBMEMsWUFBWSwwQkFBMEIsYUFBYSwwSEFBMEgsNkJBQTZCLHFFQUFxRSwyRkFBMkYsb0JBQW9CLDJpQkFBMmlCLGFBQWEsNkJBQTZCLHFMQUFxTCx1QkFBdUIscUNBQXFDLCtDQUErQyxnRUFBZ0UscUJBQXFCLGVBQWUsdUNBQXVDLFdBQVcsbUVBQW1FLG9DQUFvQyxtQkFBbUIsRUFBRSxrQ0FBa0MsbUJBQW1CLEVBQUUsMkJBQTJCLGlDQUFpQyw4QkFBOEIsMEJBQTBCLDhCQUE4QixXQUFXLDZFQUE2RSwyRUFBMkUsK0xBQStMLGlFQUFpRSxhQUFhLHNFQUFzRSxFQUFFLDhCQUE4Qix1RkFBdUYsOEJBQThCLDJDQUEyQyw0QkFBNEIseUhBQXlILHNCQUFzQixpQ0FBaUMsZ0NBQWdDLFdBQVcsNEhBQTRILHlDQUF5Qyw4Q0FBOEMsMkZBQTJGLHNGQUFzRixFQUFFLDhCQUE4QixxQkFBcUIsNEJBQTRCLFdBQVcseUdBQXlHLG1DQUFtQyxtSUFBbUksbUJBQW1CLHNDQUFzQyw0QkFBNEIsZ0NBQWdDLG9GQUFvRixFQUFFLGlDQUFpQyxTQUFTLHFDQUFxQywyQkFBMkIsU0FBUyxtRkFBbUYsU0FBUyxnQ0FBZ0MsT0FBTyw0R0FBNEcsc0ZBQXNGLG9DQUFvQyx1RkFBdUYseUNBQXlDLGlHQUFpRyxxQ0FBcUMsU0FBUyw0RkFBNEYsNEJBQTRCLFVBQVUsMkJBQTJCLG9CQUFvQiw0QkFBNEIsNkNBQTZDLDRCQUE0QixrQ0FBa0MsbUNBQW1DLDZDQUE2QyxtQkFBbUIsRUFBRSxFQUFFLDRCQUE0QixXQUFXLHlEQUF5RCw2RUFBNkUsa0RBQWtELDBDQUEwQyw4R0FBOEcsdUdBQXVHLGFBQWEsdUVBQXVFLDRFQUE0RSxrQkFBa0Isb0NBQW9DLEtBQUssUUFBUSxtTEFBbUwsOE5BQThOLGVBQWUsK0RBQStELHVCQUF1QiwyR0FBMkcsUUFBUSwrREFBK0Qsd0JBQXdCLG1CQUFtQixFQUFFLDZJQUE2SSxnQ0FBZ0MsZ0JBQWdCLHlGQUF5RixzQkFBc0IseUJBQXlCLFFBQVEsY0FBYyx5QkFBeUIsT0FBTyxVQUFVLFNBQVMsMkJBQTJCLFdBQVcsb0VBQW9FLGlCQUFpQixtREFBbUQsd0JBQXdCLGFBQWEsdUZBQXVGLFNBQVMsMkJBQTJCLHVCQUF1QixrR0FBa0csRUFBRSxrQ0FBa0MseUNBQXlDLDRKQUE0SixnQ0FBZ0MsbUJBQW1CLFlBQVksaUNBQWlDLHVOQUF1Tiw2Q0FBNkMsOEJBQThCLGVBQWUsUUFBUSx3QkFBd0IsUUFBUSxtQ0FBbUMsNENBQTRDLDRCQUE0QixpQ0FBaUMseUlBQXlJLDJCQUEyQixXQUFXLDZEQUE2RCxnSEFBZ0gsb0NBQW9DLDJCQUEyQix3Q0FBd0MsMEJBQTBCLG1CQUFtQiwyQkFBMkIsVUFBVSwyQkFBMkIsNEVBQTRFLHNHQUFzRyxvQkFBb0IsK0lBQStJLG1CQUFtQixxQ0FBcUMsb0JBQW9CLDZCQUE2Qix3RkFBd0YsZ0NBQWdDLHdDQUF3QyxRQUFRLDhEQUE4RCxFQUFFLDJCQUEyQiwyRkFBMkYsR0FBRyxHQUFHLDZCQUE2QixpQkFBaUIsYUFBYSw0Q0FBNEMsYUFBYSxtQkFBbUIsZ0RBQWdELHNFQUFzRSxnQkFBZ0IsYUFBYSxNQUFNLGFBQWEsa0JBQWtCLGFBQWEsOENBQThDLG1HQUFtRyxnQkFBZ0IsYUFBYSxPQUFPLGlCQUFpQixHQUFHLGlCQUFpQixHQUFHLGVBQWUsYUFBYSxpQkFBaUIsY0FBYyxTQUFTLEdBQUcscUNBQXFDLEVBQUUsRUFBRSxFQUFFLGtCQUFrQixHQUFHLEVBQUUsY0FBYyxFQUFFLFdBQVcsRUFBRSxFQUFFLEVBQUUsUUFBUSxFQUFFLG1CQUFtQixFQUFFLFdBQVcsRUFBRSxFQUFFLEVBQUUsUUFBUSxFQUFFLGFBQWEsRUFBRSxXQUFXLEVBQUUsRUFBRSxFQUFFLFFBQVEsRUFBRSxPQUFPLEVBQUUsU0FBUyxpQkFBaUIsYUFBYSwwQ0FBMEMsYUFBYSxtQkFBbUIsZ0RBQWdELHNFQUFzRSx1QkFBdUIsYUFBYSwrQ0FBK0MsaUNBQWlDLFVBQVUsb0JBQW9CLFVBQVUsNkJBQTZCLG9CQUFvQix3QkFBd0Isd0NBQXdDLGtEQUFrRCwrRkFBK0YsMkJBQTJCLGdDQUFnQyx1REFBdUQsaU1BQWlNLFVBQVUsMkJBQTJCLDRCQUE0QixHQUFHLE9BQU8sT0FBTyxRQUFRLFFBQVEsaUJBQWlCLGFBQWEsNENBQTRDLGFBQWEsbUJBQW1CLGdEQUFnRCxzRUFBc0UsUUFBUSxhQUFhLE1BQU0sYUFBYSxrQkFBa0IsYUFBYSwrQ0FBK0MsZ0JBQWdCLGFBQWEsT0FBTyxpQkFBaUIsR0FBRyxpQkFBaUIsR0FBRyxpQkFBaUIsYUFBYSw0RUFBNEUsZ0JBQWdCLDRFQUE0RSxpQ0FBaUMsWUFBWSxtQ0FBbUMsWUFBWSwyQkFBMkIsU0FBUywyQkFBMkIscUJBQXFCLHVDQUF1QywwQ0FBMEMsNERBQTRELDJCQUEyQixrQ0FBa0MsOEJBQThCLG9EQUFvRCxTQUFTLGdDQUFnQyw0QkFBNEIsK0JBQStCLFNBQVMsNEJBQTRCLG1GQUFtRiw4QkFBOEIsMEJBQTBCLHlFQUF5RSw4QkFBOEIsZUFBZSwwRUFBMEUscURBQXFELHVCQUF1QixnQ0FBZ0MsOEJBQThCLG1DQUFtQyx1QkFBdUIsOEJBQThCLDhCQUE4QixnQkFBZ0IsdUJBQXVCLGlDQUFpQyxTQUFTLHNDQUFzQyw0QkFBNEIsU0FBUyxtRkFBbUYsU0FBUyx5Q0FBeUMsV0FBVyxrQ0FBa0MsT0FBTyxxREFBcUQsNkdBQTZHLGdCQUFnQix1RUFBdUUsa0NBQWtDLFNBQVMsNEZBQTRGLFNBQVMsNEJBQTRCLDRCQUE0Qiw0QkFBNEIsVUFBVSxnQ0FBZ0MscUJBQXFCLDJCQUEyQixVQUFVLGtDQUFrQyx3QkFBd0Isa0NBQWtDLDJCQUEyQixJQUFJLG1CQUFtQiw2TkFBNk4sU0FBUywyQkFBMkIsOEJBQThCLDJCQUEyQix3QkFBd0IscUJBQXFCLHdDQUF3Qyw0QkFBNEIsK0JBQStCLEVBQUUsc0JBQXNCLG1CQUFtQixvQ0FBb0Msb0dBQW9HLEdBQUcsR0FBRywyQkFBMkIsZUFBZSxhQUFhLE1BQU0sYUFBYSxNQUFNLGFBQWEsNEdBQTRHLGlCQUFpQixHQUFHLGlCQUFpQixHQUFHLGlCQUFpQixhQUFhLHlGQUF5RixrQ0FBa0Msb0JBQW9CLG9CQUFvQixpQkFBaUIsY0FBYyxxQ0FBcUMsNmVBQTZlLEdBQUcsR0FBRyxPQUFPLGVBQWUsYUFBYSxpQkFBaUIsY0FBYyxrQ0FBa0MsZ0JBQWdCLDJCQUEyQixxQkFBcUIsNEJBQTRCLFVBQVUsMkJBQTJCLGVBQWUsR0FBRyxHQUFHLE9BQU8saUJBQWlCLGFBQWEsMENBQTBDLGFBQWEsbUJBQW1CLGdEQUFnRCxzRUFBc0Usb0RBQW9ELGFBQWEsa1JBQWtSLGlDQUFpQyxpREFBaUQsb0NBQW9DLGVBQWUsMEJBQTBCLGFBQWEsRUFBRSx3QkFBd0IsZUFBZSxhQUFhLHVCQUF1QixZQUFZLE1BQU0sMkJBQTJCLFdBQVcsMEJBQTBCLGdCQUFnQix3Q0FBd0MsaUNBQWlDLDRCQUE0QjtBQUMxcitCLHNGQUFzRixNQUFNLElBQUksZ0JBQWdCLG1CQUFtQiw0RUFBNEUsdUJBQXVCLGtEQUFrRCxpQ0FBaUMscUJBQXFCLGlHQUFpRyxLQUFLLGFBQWEscUNBQXFDLHVCQUF1Qix5S0FBeUssbUJBQW1CLDZMQUE2TCxFQUFFLFNBQVMseUhBQXlILDhIQUE4SCw0QkFBNEIsOEJBQThCLHlFQUF5RSxPQUFPLGtCQUFrQiwwQkFBMEIsNkRBQTZELHlEQUF5RCwyQkFBMkIsY0FBYyxHQUFHLEdBQUcsT0FBTyxrQkFBa0IsYUFBYSwwQkFBMEIsd0NBQXdDLFdBQVcsMEJBQTBCLGdCQUFnQixrREFBa0Qsc0NBQXNDLGFBQWEsbUJBQW1CLDJCQUEyQixhQUFhLHVCQUF1QixHQUFHLElBQUksT0FBTyxpQkFBaUIsYUFBYSwrQkFBK0IsYUFBYSxnTEFBZ0wsaUNBQWlDLFdBQVcsK0RBQStELDRCQUE0Qiw4RkFBOEYsTUFBTSxJQUFJLDJDQUEyQyxnQ0FBZ0MsbUJBQW1CLDZGQUE2RixFQUFFLFNBQVMseUZBQXlGLGlDQUFpQyxHQUFHLEdBQUcsT0FBTyxpQkFBaUIsYUFBYSx1Q0FBdUMsYUFBYSxxSkFBcUosaUNBQWlDLHFEQUFxRCxvQ0FBb0MsZUFBZSxzQ0FBc0MsYUFBYSxFQUFFLHdCQUF3QixlQUFlLGFBQWEsdUJBQXVCLFlBQVksTUFBTSwyQkFBMkIsV0FBVywwQkFBMEIsNEJBQTRCLDRFQUE0RSw4QkFBOEIsMEJBQTBCLHNHQUFzRyx1QkFBdUIsZ0JBQWdCLFNBQVMsMkZBQTJGLHVCQUF1QiwrR0FBK0csbUJBQW1CLGlIQUFpSCx1QkFBdUIsNEJBQTRCLHFDQUFxQyxtQkFBbUIsb0ZBQW9GLE9BQU8sb0JBQW9CLDBCQUEwQixtRUFBbUUsbUJBQW1CLGlEQUFpRCxFQUFFLEdBQUcsR0FBRyxPQUFPLGlCQUFpQixhQUFhLCtEQUErRCxhQUFhLHdGQUF3RixzQ0FBc0MsV0FBVyxtQ0FBbUMsT0FBTyxrRUFBa0UsNkNBQTZDLHFCQUFxQixFQUFFLEtBQUssNkJBQTZCLDBMQUEwTCx1QkFBdUIsdUZBQXVGLGFBQWEsMkZBQTJGLDZEQUE2RCxxQ0FBcUMsbUVBQW1FLGVBQWUsT0FBTywrQkFBK0IsZ0NBQWdDLDZDQUE2Qyw2QkFBNkIsMkJBQTJCLHVCQUF1Qiw4QkFBOEIseUNBQXlDLEdBQUcsR0FBRyxPQUFPLGlCQUFpQixhQUFhLDBCQUEwQixZQUFZLG9EQUFvRCxhQUFhLDRCQUE0QixhQUFhLDJKQUEySixTQUFTLEdBQUcsT0FBTyxpQkFBaUIsYUFBYSwrQ0FBK0MsMENBQTBDLDBLQUEwSyw0QkFBNEIsVUFBVSw0QkFBNEIsV0FBVywyQkFBMkIsNERBQTRELDhCQUE4QixzREFBc0QsNEJBQTRCLGtTQUFrUyw0QkFBNEIscUhBQXFILDJCQUEyQiwrQ0FBK0Msc05BQXNOLElBQUksb0NBQW9DLHVCQUF1QixrQ0FBa0MscUdBQXFHLFNBQVMsc0RBQXNELHVDQUF1QyxvQ0FBb0MsbUJBQW1CLHVCQUF1QixtQ0FBbUMsb0NBQW9DLDRCQUE0QixjQUFjLEVBQUUsK0dBQStHLG9DQUFvQyx3QkFBd0IsWUFBWSxrQ0FBa0MsZ0JBQWdCLHdCQUF3QixZQUFZLEVBQUUsb0ZBQW9GLGdEQUFnRCxtQkFBbUIsZUFBZSxFQUFFLDRCQUE0QixpR0FBaUcsMkJBQTJCLE1BQU0scUJBQXFCLHlCQUF5QixNQUFNLDRCQUE0QixNQUFNLHdCQUF3QixTQUFTLGdDQUFnQyx3QkFBd0Isd0NBQXdDLG9DQUFvQyxpQ0FBaUMsY0FBYyxFQUFFLDhCQUE4QiwySkFBMkosMkJBQTJCLGtCQUFrQiwyQkFBMkIsa0JBQWtCLDRCQUE0Qix5RkFBeUYsNEJBQTRCLHVCQUF1QixpQ0FBaUMsK0JBQStCLHlCQUF5Qiw4QkFBOEIsOEVBQThFLDRCQUE0QiwwQkFBMEIsNEJBQTRCLDBCQUEwQiw0QkFBNEIsVUFBVSw0QkFBNEIsVUFBVSw2QkFBNkIsR0FBRyxHQUFHLE9BQU8saUJBQWlCLGFBQWEsa05BQWtOLHNDQUFzQyw4R0FBOEcsMkJBQTJCLFdBQVcsMEZBQTBGLE9BQU8sYUFBYSw0QkFBNEIsYUFBYSw4QkFBOEIseURBQXlELDJCQUEyQixXQUFXLHVDQUF1QyxtQkFBbUIsbUJBQW1CLG9CQUFvQixtQkFBbUIsK0NBQStDLHdCQUF3QixhQUFhLEVBQUUsaUNBQWlDLFdBQVcsK0VBQStFLGtDQUFrQyxnQkFBZ0IsbURBQW1ELE1BQU0sOERBQThELE1BQU0sNkNBQTZDLE1BQU0sZ0VBQWdFLGlGQUFpRiw0RkFBNEYsMENBQTBDLDJCQUEyQixHQUFHLGdDQUFnQyxtQ0FBbUMsR0FBRyxHQUFHLE9BQU8sdUJBQXVCLEdBQUcsaUJBQWlCLGFBQWEscUVBQXFFLGFBQWEsMFBBQTBQLGlDQUFpQyxXQUFXLG1DQUFtQyx3REFBd0QsT0FBTywyQkFBMkIsNENBQTRDLDJCQUEyQix1QkFBdUIsNkNBQTZDLFVBQVUsd0JBQXdCLEVBQUUsb0JBQW9CLHFGQUFxRixZQUFZLHdFQUF3RSx1Q0FBdUMsMkhBQTJILG9FQUFvRSxrQkFBa0IseUJBQXlCLGlEQUFpRCxrQ0FBa0MsYUFBYSxFQUFFLG1CQUFtQixrR0FBa0csYUFBYSxFQUFFLHdCQUF3QiwwRUFBMEUsSUFBSSxvQ0FBb0MsOEdBQThHLFVBQVUsd0JBQXdCLHdGQUF3RixFQUFFLG9DQUFvQyw4R0FBOEcsVUFBVSx3QkFBd0Isd0ZBQXdGLEVBQUUsd0NBQXdDLG1DQUFtQyxrQkFBa0Isd0RBQXdELGtCQUFrQiwyQkFBMkIsbUJBQW1CLG1DQUFtQyxrQkFBa0Isd0RBQXdELHVCQUF1QixVQUFVLHdCQUF3Qiw4RUFBOEUsRUFBRSxTQUFTLFVBQVUsd0JBQXdCLEVBQUUsaURBQWlELGlEQUFpRCxFQUFFLFlBQVksMkJBQTJCLElBQUkscUdBQXFHLFNBQVMsVUFBVSw0QkFBNEIsY0FBYyxJQUFJLFNBQVMsSUFBSSxFQUFFLEVBQUUsZUFBZSxNQUFNLFdBQVcsbUJBQW1CLDJCQUEyQixlQUFlLG1HQUFtRyxnQ0FBZ0MscUVBQXFFLDBHQUEwRyw4Q0FBOEMsa0NBQWtDLHVGQUF1RixVQUFVLDJCQUEyQixxQ0FBcUMsMEJBQTBCLEdBQUcsR0FBRyxPQUFPLGVBQWUsYUFBYSxpQkFBaUIsY0FBYyxrQ0FBa0MsZ0JBQWdCLDJCQUEyQixxQkFBcUIsNEJBQTRCLFVBQVUsMkJBQTJCLGVBQWUsNEJBQTRCLFdBQVcsMkJBQTJCLGdCQUFnQiw0QkFBNEIsZUFBZSwyQkFBMkIsb0JBQW9CLDRCQUE0QixpQkFBaUIsMkJBQTJCLHNCQUFzQiw0QkFBNEIsZUFBZSwyQkFBMkIsb0JBQW9CLDRCQUE0QixVQUFVLDJCQUEyQixZQUFZLEdBQUcsR0FBRyxPQUFPLGVBQWUsYUFBYSxpQkFBaUIsa0JBQWtCLHdDQUF3QyxpQ0FBaUMsb0NBQW9DLDZHQUE2RyxHQUFHLEdBQUcsT0FBTyxpQkFBaUIsYUFBYSxNQUFNLHFEQUFxRCxjQUFjLHVDQUF1QyxTQUFTLGdCQUFnQixhQUFhLGtIQUFrSCwyQ0FBMkMsdUJBQXVCLDBDQUEwQyxRQUFRLGlDQUFpQyxRQUFRLGdDQUFnQyw0QkFBNEIsMkRBQTJELDhCQUE4QixjQUFjLEtBQUssZ0JBQWdCLGtHQUFrRyx1REFBdUQsNEJBQTRCLHVGQUF1RixjQUFjLGdCQUFnQixpQkFBaUIsWUFBWSwyQkFBMkIsZ0JBQWdCLDhCQUE4QixxRUFBcUUsOEJBQThCLDZCQUE2QixHQUFHLEdBQUcsT0FBTyxlQUFlLG1EQUFtRCw4Q0FBOEMsYUFBYSwyQkFBMkIsRUFBRSxtQkFBbUIsT0FBTyxtQkFBbUIscUVBQXFFLGVBQWUsZ0JBQWdCLG9IQUFvSCxpQkFBaUIsZ0JBQWdCLE9BQU8sWUFBWSx3TkFBd04sZ0JBQWdCLGNBQWMscURBQXFELGdCQUFnQixTQUFTLGNBQWMsU0FBUywrQkFBK0IsUUFBUSxJQUFJLGtCQUFrQixpRkFBaUYsZ0JBQWdCLDRCQUE0QixhQUFhLGNBQWMsNEJBQTRCLG9IQUFvSCxpQkFBaUIsU0FBUyw0QkFBNEIseUNBQXlDLGdFQUFnRSw0REFBNEQsb0JBQW9CLG1CQUFtQixJQUFJLEdBQUcsa0NBQWtDLDRCQUE0QixxQkFBcUIsMEtBQTBLLCtGQUErRixhQUFhLE1BQU0sMENBQTBDLHNCQUFzQixzQkFBc0IsZ0JBQWdCLDZDQUE2QyxTQUFTLDZGQUE2Rix3QkFBd0IsMEZBQTBGLGNBQWMsK0NBQStDLHNCQUFzQiw0QkFBNEIsSUFBSSw4REFBOEQsNkJBQTZCLDBDQUEwQyxJQUFJLHdCQUF3QixVQUFVLDRDQUE0QyxXQUFXLHNRQUFzUSxhQUFhLDBEQUEwRCxjQUFjLHFEQUFxRCxnQ0FBZ0Msb01BQW9NLGdCQUFnQixrQkFBa0IsaUNBQWlDLDhFQUE4RSxJQUFJLG1HQUFtRyxjQUFjLHdCQUF3QixjQUFjLDBCQUEwQixjQUFjLGdCQUFnQixjQUFjLGVBQWUsY0FBYyx5QkFBeUIsY0FBYyx5QkFBeUIsY0FBYyx5QkFBeUIsY0FBYyxrQkFBa0IsY0FBYyxzQ0FBc0MsY0FBYyxtQ0FBbUMsY0FBYyxvQ0FBb0MsY0FBYywyREFBMkQsY0FBYywyQkFBMkIsY0FBYyx3SEFBd0gsY0FBYyx5Q0FBeUMsY0FBYyw4Q0FBOEMsYUFBYSxpRkFBaUYsZ0RBQWdELGdCQUFnQixpREFBaUQsaUJBQWlCLHFCQUFxQixVQUFVLGlCQUFpQixtQkFBbUIsNEJBQTRCLG1CQUFtQixxRUFBcUUsc0JBQXNCLGlCQUFpQixVQUFVLCtCQUErQiwrQkFBK0IsYUFBYSw4QkFBOEIsU0FBUyxtQkFBbUIsa0JBQWtCLFNBQVMsSUFBSSx1Q0FBdUMsU0FBUyxvQkFBb0IsYUFBYSxPQUFPLCtDQUErQyxnRUFBZ0UsK0JBQStCLHVDQUF1Qyx3Q0FBd0MsdUNBQXVDLFNBQVMsVUFBVSxXQUFXLGlCQUFpQix5R0FBeUcsa0JBQWtCLGdCQUFnQixrQ0FBa0Msa0NBQWtDLHVCQUF1QixZQUFZLGNBQWMsd0pBQXdKLE9BQU8sa0dBQWtHLHlIQUF5SCxnRkFBZ0YsaUJBQWlCLHVEQUF1RCwrQkFBK0Isc0JBQXNCLG9DQUFvQyxJQUFJLGlCQUFpQixVQUFVLGVBQWUsYUFBYSxNQUFNLFdBQVcsRUFBRSxpQkFBaUIsYUFBYSxZQUFZLDBCQUEwQixpQ0FBaUMsNERBQTRELGFBQWEsZ0dBQWdHLDJGQUEyRixNQUFNLGtHQUFrRyw4RUFBOEUsTUFBTSwrRkFBK0YsNkRBQTZELE1BQU0seUZBQXlGLGlEQUFpRCxNQUFNLG1DQUFtQyxHQUFHLGlCQUFpQixhQUFhLDRCQUE0QixjQUFjLGdFQUFnRSxlQUFlLHdLQUF3SyxlQUFlLGVBQWUsaUJBQWlCLFdBQVcsa01BQWtNLGlEQUFpRCx5QkFBeUIsNEJBQTRCLGNBQWMsb0NBQW9DLDJDQUEyQyx5QkFBeUIsc0JBQXNCLFFBQVEsdUNBQXVDLGFBQWEsY0FBYyxFQUFFLGVBQWUsdUpBQXVKLGtEQUFrRCxnQkFBZ0IsdUZBQXVGLGtEQUFrRCxXQUFXLCtEQUErRCxXQUFXLGlCQUFpQixnR0FBZ0csRUFBRSxFQUFFLHNEQUFzRCxXQUFXLCtEQUErRCw0QkFBNEIsbUJBQW1CLEVBQUUsa0NBQWtDLElBQUksZUFBZSwwS0FBMEssZUFBZSxlQUFlLGlCQUFpQixXQUFXLHFJQUFxSSwrREFBK0QsbURBQW1ELCtEQUErRCxzQkFBc0IsR0FBRyxlQUFlLGtFQUFrRSxpRkFBaUYseUxBQXlMLGVBQWUsb0RBQW9ELEdBQUcsMkNBQTJDLHFEQUFxRCx1QkFBdUIsMkVBQTJFLGlHQUFpRyxrQkFBa0IsUUFBUSxjQUFjLDZCQUE2QixPQUFPLG9DQUFvQywyQ0FBMkMsa0JBQWtCLDhCQUE4QixlQUFlLFlBQVksSUFBSSxlQUFlLDhDQUE4QyxlQUFlLElBQUksd0JBQXdCLGtCQUFrQixlQUFlLHNDQUFzQyxpQ0FBaUMsdUJBQXVCLFdBQVcsS0FBSyxZQUFZLG9HQUFvRyxxQ0FBcUMsMENBQTBDLG1EQUFtRCxzQkFBc0IsRUFBRSxzQ0FBc0Msb0JBQW9CLGFBQWEsa0NBQWtDLEdBQUcsbUVBQW1FLHFDQUFxQywwQ0FBMEMsV0FBVyw0RUFBNEUsK0NBQStDLGlDQUFpQyxtQkFBbUIsRUFBRSxnQ0FBZ0MsdUZBQXVGLHFDQUFxQywwQ0FBMEMsNEhBQTRILEVBQUUsa0RBQWtELHVEQUF1RCwwR0FBMEcsS0FBSyxrREFBa0QsaUJBQWlCLGFBQWEseUJBQXlCLGVBQWUsa0JBQWtCLGlEQUFpRCxTQUFTLDBDQUEwQyxxREFBcUQsa0NBQWtDLFNBQVMseURBQXlELG9CQUFvQiw2RUFBNkUsa0JBQWtCLDBCQUEwQixTQUFTLGlFQUFpRSw2RUFBNkUsbURBQW1ELHVEQUF1RCw2QkFBNkIsb0JBQW9CLEdBQUcscURBQXFELGlCQUFpQix3RkFBd0YsaUJBQWlCLDRCQUE0QixLQUFLLEVBQUUsbUJBQW1CLHVRQUF1USx1QkFBdUIsNEJBQTRCLEVBQUUseUJBQXlCLGtEQUFrRCwyQkFBMkIsNEJBQTRCLFFBQVEsRUFBRSxRQUFRLDBEQUEwRCxFQUFFLG1CQUFtQiw0Q0FBNEMsZUFBZSxPQUFPLE1BQU0sK0NBQStDLDJFQUEyRSxxREFBcUQsbUJBQW1CLGdCQUFnQiw2Q0FBNkMsUUFBUSxFQUFFLEdBQUcseUJBQXlCLGtCQUFrQixpQ0FBaUMsOEJBQThCLEdBQUcsb0RBQW9ELDZCQUE2QiwrQkFBK0IsT0FBTyxvQ0FBb0MsK0NBQStDLG9CQUFvQixPQUFPLDRDQUE0QyxHQUFHLEVBQUUsRUFBRSxlQUFlLE9BQU8sNkNBQTZDLHVDQUF1Qyx1RUFBdUUsZ0RBQWdELHVCQUF1Qiw2QkFBNkIsaUhBQWlILFNBQVMsdUNBQXVDLFNBQVMsYUFBYSw0QkFBNEIsRUFBRSxHQUFHLHFEQUFxRCxhQUFhLGlIQUFpSCxpREFBaUQseUhBQXlILG9EQUFvRCxHQUFHLGlCQUFpQixhQUFhLGNBQWMsMkJBQTJCLHVCQUF1Qix5QkFBeUIsdUJBQXVCLEVBQUUsU0FBUyxtQkFBbUI7QUFDeHgrQiw0QkFBNEIsU0FBUyxjQUFjLFNBQVMsNERBQTRELHFCQUFxQix1Q0FBdUMseUNBQXlDLDRGQUE0Riw0REFBNEQsd0NBQXdDLFNBQVMsRUFBRSx5QkFBeUIsY0FBYyx1RkFBdUYsU0FBUywwRUFBMEUsU0FBUyxvQkFBb0IsNEVBQTRFLDREQUE0RCxnQkFBZ0IsbUJBQW1CLDJCQUEyQixtQ0FBbUMsRUFBRSxxQ0FBcUMsK0NBQStDLGtGQUFrRixrQkFBa0Isc1JBQXNSLFlBQVksa0NBQWtDLFlBQVksa0RBQWtELGVBQWUsb0RBQW9ELGVBQWUsbUdBQW1HLHVCQUF1QixzQkFBc0Isc0NBQXNDLCtIQUErSCxrREFBa0QsMkNBQTJDLGlEQUFpRCxrREFBa0QsMENBQTBDLDRCQUE0Qix3REFBd0QsaUJBQWlCLFdBQVcsd0ZBQXdGLHVFQUF1RSxxSkFBcUosNkJBQTZCLHNDQUFzQyxFQUFFLG9GQUFvRixhQUFhLGdFQUFnRSxlQUFlLDBEQUEwRCxvQ0FBb0MsS0FBSyxnQkFBZ0Isb0NBQW9DLHVCQUF1Qix5Q0FBeUMsb0JBQW9CLEVBQUUsa0JBQWtCLFVBQVUsNkRBQTZELHlCQUF5QixzQ0FBc0MsMERBQTBELGtDQUFrQyxhQUFhLGtCQUFrQixZQUFZLEVBQUUsNERBQTRELGtDQUFrQyxhQUFhLGtCQUFrQixZQUFZLEVBQUUscURBQXFELE9BQU8sa0JBQWtCLGlCQUFpQixpQkFBaUIsWUFBWSxXQUFXLDRDQUE0QyxxQkFBcUIsb0RBQW9ELDBEQUEwRCxnQ0FBZ0MsWUFBWSxjQUFjLEtBQUssY0FBYyw2REFBNkQsNEZBQTRGLG1HQUFtRyxZQUFZLGNBQWMseURBQXlELFNBQVMsRUFBRSxRQUFRLDJCQUEyQixZQUFZLGNBQWMsS0FBSyxjQUFjLGtCQUFrQixhQUFhLFFBQVEsSUFBSSxxREFBcUQsK0RBQStELGlCQUFpQixnQ0FBZ0MsYUFBYSwwQkFBMEIsa0RBQWtELGlHQUFpRyxtQ0FBbUMsZ0tBQWdLLDJDQUEyQyxzQ0FBc0MsRUFBRSw0QkFBNEIscUVBQXFFLE1BQU0sdVBBQXVQLE1BQU0saUJBQWlCLGlCQUFpQixRQUFRLDhCQUE4Qix1QkFBdUIsT0FBTyxzQkFBc0Isd0JBQXdCLEVBQUUsZ0JBQWdCLHVEQUF1RCx5QkFBeUIsMEJBQTBCLFFBQVEsNkhBQTZILFlBQVksa0JBQWtCLFFBQVEsb0RBQW9ELG9FQUFvRSxlQUFlLGdGQUFnRixjQUFjLGFBQWEsa0NBQWtDLDJCQUEyQiw0Q0FBNEMsb0NBQW9DLHdCQUF3Qiw0RkFBNEYsY0FBYyw0QkFBNEIsdUZBQXVGLGdCQUFnQiwwQkFBMEIsRUFBRSw4QkFBOEIsc0JBQXNCLFNBQVMsd0NBQXdDLE1BQU0sK0JBQStCLE1BQU0sNkRBQTZELDBEQUEwRCxNQUFNLG1CQUFtQiw2QkFBNkIsaUZBQWlGLElBQUksd0JBQXdCLHlCQUF5QiwrR0FBK0csSUFBSSxxRUFBcUUsNEZBQTRGLDBFQUEwRSw2RkFBNkYsK0ZBQStGLFdBQVcsRUFBRSxzQ0FBc0MscURBQXFELDBDQUEwQyxlQUFlLHFCQUFxQixxQkFBcUIsS0FBSyxlQUFlLHdGQUF3RixlQUFlLHFCQUFxQixpQkFBaUIsRUFBRSw4WUFBOFksS0FBSyxpQkFBaUIsMENBQTBDLFdBQVcsbUlBQW1JLHFCQUFxQixPQUFPLGdCQUFnQixxSkFBcUosTUFBTSxvSUFBb0ksa0JBQWtCLDhCQUE4QixTQUFTLHVFQUF1RSxrREFBa0QsMEJBQTBCLHNCQUFzQixTQUFTLHlDQUF5QyxNQUFNLCtCQUErQixNQUFNLDZEQUE2RCx3RUFBd0UsNkJBQTZCLGlGQUFpRixpQkFBaUIsMEJBQTBCLHVDQUF1Qyw2RkFBNkYsUUFBUSxJQUFJLEVBQUUsOEdBQThHLHFEQUFxRCw0QkFBNEIsd0VBQXdFLG9CQUFvQixtREFBbUQsc0JBQXNCLHdDQUF3Qyx5RkFBeUYsa0RBQWtELHFDQUFxQyxtRkFBbUYsa0RBQWtELGdCQUFnQiwrQ0FBK0MsK0JBQStCLGdDQUFnQyxtTUFBbU0sdUJBQXVCLDRDQUE0QyxrR0FBa0csMkRBQTJELFdBQVcsaUZBQWlGLE1BQU0sNEdBQTRHLGlCQUFpQixrR0FBa0csZ0dBQWdHLGdEQUFnRCwrREFBK0QsUUFBUSxnREFBZ0QsNkNBQTZDLEVBQUUsU0FBUyxlQUFlLG1CQUFtQixxQkFBcUIsbUJBQW1CLE9BQU8sT0FBTyxrQkFBa0Isd0JBQXdCLDZDQUE2QyxpQ0FBaUMsNkNBQTZDLCtDQUErQyxxQkFBcUIsNEJBQTRCLHVFQUF1RSxFQUFFLFlBQVksZ0JBQWdCLEVBQUUsNkNBQTZDLGtCQUFrQix5RUFBeUUseUVBQXlFLG1EQUFtRCxZQUFZLDRDQUE0QyxXQUFXLGdDQUFnQyxZQUFZLGlDQUFpQyxtQkFBbUIsRUFBRSxpSEFBaUgsNERBQTRELG9CQUFvQix1REFBdUQsWUFBWSxnREFBZ0QsbUdBQW1HLHNCQUFzQiw4QkFBOEIsRUFBRSxpQ0FBaUMsb0JBQW9CLEVBQUUsaUhBQWlILGdFQUFnRSxNQUFNLHNCQUFzQix3QkFBd0IsaUJBQWlCLGlDQUFpQyxJQUFJLE1BQU0saUJBQWlCLE1BQU0sNkRBQTZELHlFQUF5RSx1Q0FBdUMsMkJBQTJCLHVDQUF1Qyx3R0FBd0csaUJBQWlCLGlCQUFpQiwwQ0FBMEMsbUNBQW1DLGdIQUFnSCx3REFBd0QsU0FBUyw0QkFBNEIsNkZBQTZGLDhCQUE4QixFQUFFLEVBQUUsc0ZBQXNGLE9BQU8sa0dBQWtHLGtCQUFrQiwrQkFBK0IsY0FBYyxnQ0FBZ0Msc0JBQXNCLG1DQUFtQyxnQ0FBZ0MsRUFBRSxtQ0FBbUMsRUFBRSxLQUFLLEtBQUssa0JBQWtCLGVBQWUsYUFBYSxlQUFlLGtCQUFrQixPQUFPLE1BQU0scUJBQXFCLCtEQUErRCxtQkFBbUIsb0VBQW9FLGdEQUFnRCxpQ0FBaUMsNEJBQTRCLElBQUksaUJBQWlCLGFBQWEsaUJBQWlCLGNBQWMsd0tBQXdLLGVBQWUsZUFBZSxpQkFBaUIsa01BQWtNLHlDQUF5Qyx5QkFBeUIsc0JBQXNCLFFBQVEsdUNBQXVDLGFBQWEsY0FBYyxFQUFFLGVBQWUsMEtBQTBLLGVBQWUseUJBQXlCLGlCQUFpQixxQkFBcUIsR0FBRyxlQUFlLHFGQUFxRixrRUFBa0Usa0NBQWtDLGlCQUFpQixzQkFBc0IsS0FBSyxzQkFBc0Isd0NBQXdDLGNBQWMsS0FBSyxPQUFPLGFBQWEseUVBQXlFLDZCQUE2QixlQUFlLHFDQUFxQyxtTEFBbUwsZUFBZSxpREFBaUQsd0xBQXdMLHFDQUFxQywwQ0FBMEMsNEhBQTRILEVBQUUsa0RBQWtELHVEQUF1RCx3R0FBd0csa0JBQWtCLGNBQWMsMENBQTBDLHdCQUF3QixJQUFJLElBQUksa0dBQWtHLHdDQUF3QyxxREFBcUQsZ0RBQWdELCtDQUErQyxzQkFBc0IseUJBQXlCLEVBQUUsU0FBUyxnQ0FBZ0Msd0JBQXdCLHdCQUF3QixJQUFJLHVCQUF1QixHQUFHLEVBQUUsU0FBUyxnQkFBZ0IsS0FBSyxrQ0FBa0MsaUJBQWlCLGFBQWEseUJBQXlCLGVBQWUsa0JBQWtCLE9BQU8sTUFBTSwwQ0FBMEMsMEJBQTBCLG9IQUFvSCxtREFBbUQscURBQXFELG1CQUFtQixrQkFBa0IscUNBQXFDLFNBQVMsMENBQTBDLHFEQUFxRCx1Q0FBdUMsU0FBUyx5SkFBeUosY0FBYyxTQUFTLDRCQUE0QixrQkFBa0IseUVBQXlFLHdCQUF3QixnTkFBZ04sUUFBUSxFQUFFLGVBQWUsaUNBQWlDLFNBQVMsR0FBRyxvREFBb0QsNENBQTRDLGtDQUFrQyxrRUFBa0UsK0JBQStCLFFBQVEsOENBQThDLEVBQUUsOENBQThDLEVBQUUsS0FBSyxFQUFFLGVBQWUsNkRBQTZELHFDQUFxQyxtQ0FBbUMscUNBQXFDLFFBQVEsR0FBRyxpQkFBaUIsdUVBQXVFLGdEQUFnRCw2QkFBNkIsaUhBQWlILFNBQVMsd0VBQXdFLFNBQVMsYUFBYSw0QkFBNEIsR0FBRyx1Q0FBdUMsdUxBQXVMLGVBQWUsYUFBYSxPQUFPLGNBQWMsK05BQStOLGlEQUFpRCxxQkFBcUIsS0FBSyxTQUFTOztBQUUxdW5CIiwiZmlsZSI6Im1pLWFuZ3VsYXItYml0ZGFzaC1wbGF5ZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHtcbiBcdFx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuIFx0XHRcdFx0Z2V0OiBnZXR0ZXJcbiBcdFx0XHR9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAzMCk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjay9ib290c3RyYXAgMTViNTlhMzU4MWU0Y2NkNjZkNGYiLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG4vKipcclxuICogU2ltcGxlIERPTSBtYW5pcHVsYXRpb24gYW5kIERPTSBlbGVtZW50IGV2ZW50IGhhbmRsaW5nIG1vZGVsZWQgYWZ0ZXIgalF1ZXJ5IChhcyByZXBsYWNlbWVudCBmb3IgalF1ZXJ5KS5cclxuICpcclxuICogTGlrZSBqUXVlcnksIERPTSBvcGVyYXRlcyBvbiBzaW5nbGUgZWxlbWVudHMgYW5kIGxpc3RzIG9mIGVsZW1lbnRzLiBGb3IgZXhhbXBsZTogY3JlYXRpbmcgYW4gZWxlbWVudCByZXR1cm5zIGEgRE9NXHJcbiAqIGluc3RhbmNlIHdpdGggYSBzaW5nbGUgZWxlbWVudCwgc2VsZWN0aW5nIGVsZW1lbnRzIHJldHVybnMgYSBET00gaW5zdGFuY2Ugd2l0aCB6ZXJvLCBvbmUsIG9yIG1hbnkgZWxlbWVudHMuIFNpbWlsYXJcclxuICogdG8galF1ZXJ5LCBzZXR0ZXJzIHVzdWFsbHkgYWZmZWN0IGFsbCBlbGVtZW50cywgd2hpbGUgZ2V0dGVycyBvcGVyYXRlIG9uIG9ubHkgdGhlIGZpcnN0IGVsZW1lbnQuXHJcbiAqIEFsc28gc2ltaWxhciB0byBqUXVlcnksIG1vc3QgbWV0aG9kcyAoZXhjZXB0IGdldHRlcnMpIHJldHVybiB0aGUgRE9NIGluc3RhbmNlIGZhY2lsaXRhdGluZyBlYXN5IGNoYWluaW5nIG9mIG1ldGhvZFxyXG4gKiBjYWxscy5cclxuICpcclxuICogQnVpbHQgd2l0aCB0aGUgaGVscCBvZjogaHR0cDovL3lvdW1pZ2h0bm90bmVlZGpxdWVyeS5jb20vXHJcbiAqL1xyXG52YXIgRE9NID0gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIERPTShzb21ldGhpbmcsIGF0dHJpYnV0ZXMpIHtcclxuICAgICAgICB0aGlzLmRvY3VtZW50ID0gZG9jdW1lbnQ7IC8vIFNldCB0aGUgZ2xvYmFsIGRvY3VtZW50IHRvIHRoZSBsb2NhbCBkb2N1bWVudCBmaWVsZFxyXG4gICAgICAgIGlmIChzb21ldGhpbmcgaW5zdGFuY2VvZiBBcnJheSkge1xyXG4gICAgICAgICAgICBpZiAoc29tZXRoaW5nLmxlbmd0aCA+IDAgJiYgc29tZXRoaW5nWzBdIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBlbGVtZW50cyA9IHNvbWV0aGluZztcclxuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudHMgPSBlbGVtZW50cztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChzb21ldGhpbmcgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xyXG4gICAgICAgICAgICB2YXIgZWxlbWVudCA9IHNvbWV0aGluZztcclxuICAgICAgICAgICAgdGhpcy5lbGVtZW50cyA9IFtlbGVtZW50XTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoc29tZXRoaW5nIGluc3RhbmNlb2YgRG9jdW1lbnQpIHtcclxuICAgICAgICAgICAgLy8gV2hlbiBhIGRvY3VtZW50IGlzIHBhc3NlZCBpbiwgd2UgZG8gbm90IGRvIGFueXRoaW5nIHdpdGggaXQsIGJ1dCBieSBzZXR0aW5nIHRoaXMuZWxlbWVudHMgdG8gbnVsbFxyXG4gICAgICAgICAgICAvLyB3ZSBnaXZlIHRoZSBldmVudCBoYW5kbGluZyBtZXRob2QgYSBtZWFucyB0byBkZXRlY3QgaWYgdGhlIGV2ZW50cyBzaG91bGQgYmUgcmVnaXN0ZXJlZCBvbiB0aGUgZG9jdW1lbnRcclxuICAgICAgICAgICAgLy8gaW5zdGVhZCBvZiBlbGVtZW50cy5cclxuICAgICAgICAgICAgdGhpcy5lbGVtZW50cyA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGF0dHJpYnV0ZXMpIHtcclxuICAgICAgICAgICAgdmFyIHRhZ05hbWUgPSBzb21ldGhpbmc7XHJcbiAgICAgICAgICAgIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWdOYW1lKTtcclxuICAgICAgICAgICAgZm9yICh2YXIgYXR0cmlidXRlTmFtZSBpbiBhdHRyaWJ1dGVzKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYXR0cmlidXRlVmFsdWUgPSBhdHRyaWJ1dGVzW2F0dHJpYnV0ZU5hbWVdO1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSwgYXR0cmlidXRlVmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudHMgPSBbZWxlbWVudF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB2YXIgc2VsZWN0b3IgPSBzb21ldGhpbmc7XHJcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudHMgPSB0aGlzLmZpbmRDaGlsZEVsZW1lbnRzKHNlbGVjdG9yKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRE9NLnByb3RvdHlwZSwgXCJsZW5ndGhcIiwge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEdldHMgdGhlIG51bWJlciBvZiBlbGVtZW50cyB0aGF0IHRoaXMgRE9NIGluc3RhbmNlIGN1cnJlbnRseSBob2xkcy5cclxuICAgICAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSB0aGUgbnVtYmVyIG9mIGVsZW1lbnRzXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnRzID8gdGhpcy5lbGVtZW50cy5sZW5ndGggOiAwO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIHRoZSBIVE1MIGVsZW1lbnRzIHRoYXQgdGhpcyBET00gaW5zdGFuY2UgY3VycmVudGx5IGhvbGRzLlxyXG4gICAgICogQHJldHVybnMge0hUTUxFbGVtZW50W119IHRoZSByYXcgSFRNTCBlbGVtZW50c1xyXG4gICAgICogQGRlcHJlY2F0ZWQgdXNlIHtAbGluayAjZ2V0KCl9IGluc3RlYWRcclxuICAgICAqL1xyXG4gICAgRE9NLnByb3RvdHlwZS5nZXRFbGVtZW50cyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXQoKTtcclxuICAgIH07XHJcbiAgICBET00ucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIChpbmRleCkge1xyXG4gICAgICAgIGlmIChpbmRleCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnRzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICghdGhpcy5lbGVtZW50cyB8fCBpbmRleCA+PSB0aGlzLmVsZW1lbnRzLmxlbmd0aCB8fCBpbmRleCA8IC10aGlzLmVsZW1lbnRzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChpbmRleCA8IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudHNbdGhpcy5lbGVtZW50cy5sZW5ndGggLSBpbmRleF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50c1tpbmRleF07XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQSBzaG9ydGN1dCBtZXRob2QgZm9yIGl0ZXJhdGluZyBhbGwgZWxlbWVudHMuIFNob3J0cyB0aGlzLmVsZW1lbnRzLmZvckVhY2goLi4uKSB0byB0aGlzLmZvckVhY2goLi4uKS5cclxuICAgICAqIEBwYXJhbSBoYW5kbGVyIHRoZSBoYW5kbGVyIHRvIGV4ZWN1dGUgYW4gb3BlcmF0aW9uIG9uIGFuIGVsZW1lbnRcclxuICAgICAqL1xyXG4gICAgRE9NLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gKGhhbmRsZXIpIHtcclxuICAgICAgICBpZiAoIXRoaXMuZWxlbWVudHMpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmVsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHtcclxuICAgICAgICAgICAgaGFuZGxlcihlbGVtZW50KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBET00ucHJvdG90eXBlLmZpbmRDaGlsZEVsZW1lbnRzT2ZFbGVtZW50ID0gZnVuY3Rpb24gKGVsZW1lbnQsIHNlbGVjdG9yKSB7XHJcbiAgICAgICAgdmFyIGNoaWxkRWxlbWVudHMgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpO1xyXG4gICAgICAgIC8vIENvbnZlcnQgTm9kZUxpc3QgdG8gQXJyYXlcclxuICAgICAgICAvLyBodHRwczovL3RvZGRtb3R0by5jb20vYS1jb21wcmVoZW5zaXZlLWRpdmUtaW50by1ub2RlbGlzdHMtYXJyYXlzLWNvbnZlcnRpbmctbm9kZWxpc3RzLWFuZC11bmRlcnN0YW5kaW5nLXRoZS1kb20vXHJcbiAgICAgICAgcmV0dXJuIFtdLnNsaWNlLmNhbGwoY2hpbGRFbGVtZW50cyk7XHJcbiAgICB9O1xyXG4gICAgRE9NLnByb3RvdHlwZS5maW5kQ2hpbGRFbGVtZW50cyA9IGZ1bmN0aW9uIChzZWxlY3Rvcikge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdmFyIGFsbENoaWxkRWxlbWVudHMgPSBbXTtcclxuICAgICAgICBpZiAodGhpcy5lbGVtZW50cykge1xyXG4gICAgICAgICAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHtcclxuICAgICAgICAgICAgICAgIGFsbENoaWxkRWxlbWVudHMgPSBhbGxDaGlsZEVsZW1lbnRzLmNvbmNhdChfdGhpcy5maW5kQ2hpbGRFbGVtZW50c09mRWxlbWVudChlbGVtZW50LCBzZWxlY3RvcikpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZpbmRDaGlsZEVsZW1lbnRzT2ZFbGVtZW50KGRvY3VtZW50LCBzZWxlY3Rvcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBhbGxDaGlsZEVsZW1lbnRzO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogRmluZHMgYWxsIGNoaWxkIGVsZW1lbnRzIG9mIGFsbCBlbGVtZW50cyBtYXRjaGluZyB0aGUgc3VwcGxpZWQgc2VsZWN0b3IuXHJcbiAgICAgKiBAcGFyYW0gc2VsZWN0b3IgdGhlIHNlbGVjdG9yIHRvIG1hdGNoIHdpdGggY2hpbGQgZWxlbWVudHNcclxuICAgICAqIEByZXR1cm5zIHtET019IGEgbmV3IERPTSBpbnN0YW5jZSByZXByZXNlbnRpbmcgYWxsIG1hdGNoZWQgY2hpbGRyZW5cclxuICAgICAqL1xyXG4gICAgRE9NLnByb3RvdHlwZS5maW5kID0gZnVuY3Rpb24gKHNlbGVjdG9yKSB7XHJcbiAgICAgICAgdmFyIGFsbENoaWxkRWxlbWVudHMgPSB0aGlzLmZpbmRDaGlsZEVsZW1lbnRzKHNlbGVjdG9yKTtcclxuICAgICAgICByZXR1cm4gbmV3IERPTShhbGxDaGlsZEVsZW1lbnRzKTtcclxuICAgIH07XHJcbiAgICBET00ucHJvdG90eXBlLmh0bWwgPSBmdW5jdGlvbiAoY29udGVudCkge1xyXG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zZXRIdG1sKGNvbnRlbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0SHRtbCgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBET00ucHJvdG90eXBlLmdldEh0bWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudHNbMF0uaW5uZXJIVE1MO1xyXG4gICAgfTtcclxuICAgIERPTS5wcm90b3R5cGUuc2V0SHRtbCA9IGZ1bmN0aW9uIChjb250ZW50KSB7XHJcbiAgICAgICAgaWYgKGNvbnRlbnQgPT09IHVuZGVmaW5lZCB8fCBjb250ZW50ID09IG51bGwpIHtcclxuICAgICAgICAgICAgLy8gU2V0IHRvIGVtcHR5IHN0cmluZyB0byBhdm9pZCBpbm5lckhUTUwgZ2V0dGluZyBzZXQgdG8gJ3VuZGVmaW5lZCcgKGFsbCBicm93c2Vycykgb3IgJ251bGwnIChJRTkpXHJcbiAgICAgICAgICAgIGNvbnRlbnQgPSAnJztcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7XHJcbiAgICAgICAgICAgIGVsZW1lbnQuaW5uZXJIVE1MID0gY29udGVudDtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIENsZWFycyB0aGUgaW5uZXIgSFRNTCBvZiBhbGwgZWxlbWVudHMgKGRlbGV0ZXMgYWxsIGNoaWxkcmVuKS5cclxuICAgICAqIEByZXR1cm5zIHtET019XHJcbiAgICAgKi9cclxuICAgIERPTS5wcm90b3R5cGUuZW1wdHkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7XHJcbiAgICAgICAgICAgIGVsZW1lbnQuaW5uZXJIVE1MID0gJyc7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRoZSBjdXJyZW50IHZhbHVlIG9mIHRoZSBmaXJzdCBmb3JtIGVsZW1lbnQsIGUuZy4gdGhlIHNlbGVjdGVkIHZhbHVlIG9mIGEgc2VsZWN0IGJveCBvciB0aGUgdGV4dCBpZiBhblxyXG4gICAgICogaW5wdXQgZmllbGQuXHJcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSB0aGUgdmFsdWUgb2YgYSBmb3JtIGVsZW1lbnRcclxuICAgICAqL1xyXG4gICAgRE9NLnByb3RvdHlwZS52YWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGVsZW1lbnQgPSB0aGlzLmVsZW1lbnRzWzBdO1xyXG4gICAgICAgIGlmIChlbGVtZW50IGluc3RhbmNlb2YgSFRNTFNlbGVjdEVsZW1lbnQgfHwgZWxlbWVudCBpbnN0YW5jZW9mIEhUTUxJbnB1dEVsZW1lbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQudmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBUT0RPIGFkZCBzdXBwb3J0IGZvciBtaXNzaW5nIGZvcm0gZWxlbWVudHNcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwidmFsKCkgbm90IHN1cHBvcnRlZCBmb3IgXCIgKyB0eXBlb2YgZWxlbWVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIERPTS5wcm90b3R5cGUuYXR0ciA9IGZ1bmN0aW9uIChhdHRyaWJ1dGUsIHZhbHVlKSB7XHJcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNldEF0dHIoYXR0cmlidXRlLCB2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRBdHRyKGF0dHJpYnV0ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIERPTS5wcm90b3R5cGUuZ2V0QXR0ciA9IGZ1bmN0aW9uIChhdHRyaWJ1dGUpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50c1swXS5nZXRBdHRyaWJ1dGUoYXR0cmlidXRlKTtcclxuICAgIH07XHJcbiAgICBET00ucHJvdG90eXBlLnNldEF0dHIgPSBmdW5jdGlvbiAoYXR0cmlidXRlLCB2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkge1xyXG4gICAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShhdHRyaWJ1dGUsIHZhbHVlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICBET00ucHJvdG90eXBlLmRhdGEgPSBmdW5jdGlvbiAoZGF0YUF0dHJpYnV0ZSwgdmFsdWUpIHtcclxuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2V0RGF0YShkYXRhQXR0cmlidXRlLCB2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXREYXRhKGRhdGFBdHRyaWJ1dGUpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBET00ucHJvdG90eXBlLmdldERhdGEgPSBmdW5jdGlvbiAoZGF0YUF0dHJpYnV0ZSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnRzWzBdLmdldEF0dHJpYnV0ZSgnZGF0YS0nICsgZGF0YUF0dHJpYnV0ZSk7XHJcbiAgICB9O1xyXG4gICAgRE9NLnByb3RvdHlwZS5zZXREYXRhID0gZnVuY3Rpb24gKGRhdGFBdHRyaWJ1dGUsIHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7XHJcbiAgICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdkYXRhLScgKyBkYXRhQXR0cmlidXRlLCB2YWx1ZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBBcHBlbmRzIG9uZSBvciBtb3JlIERPTSBlbGVtZW50cyBhcyBjaGlsZHJlbiB0byBhbGwgZWxlbWVudHMuXHJcbiAgICAgKiBAcGFyYW0gY2hpbGRFbGVtZW50cyB0aGUgY2hyaWxkIGVsZW1lbnRzIHRvIGFwcGVuZFxyXG4gICAgICogQHJldHVybnMge0RPTX1cclxuICAgICAqL1xyXG4gICAgRE9NLnByb3RvdHlwZS5hcHBlbmQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGNoaWxkRWxlbWVudHMgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICBjaGlsZEVsZW1lbnRzW19pXSA9IGFyZ3VtZW50c1tfaV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkge1xyXG4gICAgICAgICAgICBjaGlsZEVsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKGNoaWxkRWxlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgY2hpbGRFbGVtZW50LmVsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKF8sIGluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5hcHBlbmRDaGlsZChjaGlsZEVsZW1lbnQuZWxlbWVudHNbaW5kZXhdKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZXMgYWxsIGVsZW1lbnRzIGZyb20gdGhlIERPTS5cclxuICAgICAqL1xyXG4gICAgRE9NLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7XHJcbiAgICAgICAgICAgIHZhciBwYXJlbnQgPSBlbGVtZW50LnBhcmVudE5vZGU7XHJcbiAgICAgICAgICAgIGlmIChwYXJlbnQpIHtcclxuICAgICAgICAgICAgICAgIHBhcmVudC5yZW1vdmVDaGlsZChlbGVtZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0aGUgb2Zmc2V0IG9mIHRoZSBmaXJzdCBlbGVtZW50IGZyb20gdGhlIGRvY3VtZW50J3MgdG9wIGxlZnQgY29ybmVyLlxyXG4gICAgICogQHJldHVybnMge09mZnNldH1cclxuICAgICAqL1xyXG4gICAgRE9NLnByb3RvdHlwZS5vZmZzZXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGVsZW1lbnQgPSB0aGlzLmVsZW1lbnRzWzBdO1xyXG4gICAgICAgIHZhciBlbGVtZW50UmVjdCA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgdmFyIGh0bWxSZWN0ID0gZG9jdW1lbnQuYm9keS5wYXJlbnRFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgIC8vIFZpcnR1YWwgdmlld3BvcnQgc2Nyb2xsIGhhbmRsaW5nIChlLmcuIHBpbmNoIHpvb21lZCB2aWV3cG9ydHMgaW4gbW9iaWxlIGJyb3dzZXJzIG9yIGRlc2t0b3AgQ2hyb21lL0VkZ2UpXHJcbiAgICAgICAgLy8gJ25vcm1hbCcgem9vbXMgYW5kIHZpcnR1YWwgdmlld3BvcnQgem9vbXMgKGFrYSBsYXlvdXQgdmlld3BvcnQpIHJlc3VsdCBpbiBkaWZmZXJlbnRcclxuICAgICAgICAvLyBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpIHJlc3VsdHM6XHJcbiAgICAgICAgLy8gIC0gd2l0aCBub3JtYWwgc2Nyb2xscywgdGhlIGNsaWVudFJlY3QgZGVjcmVhc2VzIHdpdGggYW4gaW5jcmVhc2UgaW4gc2Nyb2xsKFRvcHxMZWZ0KS9wYWdlKFh8WSlPZmZzZXRcclxuICAgICAgICAvLyAgLSB3aXRoIHBpbmNoIHpvb20gc2Nyb2xscywgdGhlIGNsaWVudFJlY3Qgc3RheXMgdGhlIHNhbWUgd2hpbGUgc2Nyb2xsL3BhZ2VPZmZzZXQgY2hhbmdlc1xyXG4gICAgICAgIC8vIFRoaXMgbWVhbnMsIHRoYXQgdGhlIGNvbWJpbmF0aW9uIG9mIGNsaWVudFJlY3QgKyBzY3JvbGwvcGFnZU9mZnNldCBkb2VzIG5vdCB3b3JrIHRvIGNhbGN1bGF0ZSB0aGUgb2Zmc2V0XHJcbiAgICAgICAgLy8gZnJvbSB0aGUgZG9jdW1lbnQncyB1cHBlciBsZWZ0IG9yaWdpbiB3aGVuIHBpbmNoIHpvb20gaXMgdXNlZC5cclxuICAgICAgICAvLyBUbyB3b3JrIGFyb3VuZCB0aGlzIGlzc3VlLCB3ZSBkbyBub3QgdXNlIHNjcm9sbC9wYWdlT2Zmc2V0IGJ1dCBnZXQgdGhlIGNsaWVudFJlY3Qgb2YgdGhlIGh0bWwgZWxlbWVudCBhbmRcclxuICAgICAgICAvLyBzdWJ0cmFjdCBpdCBmcm9tIHRoZSBlbGVtZW50J3MgcmVjdCwgd2hpY2ggYWx3YXlzIHJlc3VsdHMgaW4gdGhlIG9mZnNldCBmcm9tIHRoZSBkb2N1bWVudCBvcmlnaW4uXHJcbiAgICAgICAgLy8gTk9URTogdGhlIGN1cnJlbnQgd2F5IG9mIG9mZnNldCBjYWxjdWxhdGlvbiB3YXMgaW1wbGVtZW50ZWQgc3BlY2lmaWNhbGx5IHRvIHRyYWNrIGV2ZW50IHBvc2l0aW9ucyBvbiB0aGVcclxuICAgICAgICAvLyBzZWVrIGJhciwgYW5kIGl0IG1pZ2h0IGJyZWFrIGNvbXBhdGliaWxpdHkgd2l0aCBqUXVlcnkncyBvZmZzZXQoKSBtZXRob2QuIElmIHRoaXMgZXZlciB0dXJucyBvdXQgdG8gYmUgYVxyXG4gICAgICAgIC8vIHByb2JsZW0sIHRoaXMgbWV0aG9kIHNob3VsZCBiZSByZXZlcnRlZCB0byB0aGUgb2xkIHZlcnNpb24gYW5kIHRoZSBvZmZzZXQgY2FsY3VsYXRpb24gbW92ZWQgdG8gdGhlIHNlZWsgYmFyLlxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHRvcDogZWxlbWVudFJlY3QudG9wIC0gaHRtbFJlY3QudG9wLFxyXG4gICAgICAgICAgICBsZWZ0OiBlbGVtZW50UmVjdC5sZWZ0IC0gaHRtbFJlY3QubGVmdCxcclxuICAgICAgICB9O1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0aGUgd2lkdGggb2YgdGhlIGZpcnN0IGVsZW1lbnQuXHJcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSB0aGUgd2lkdGggb2YgdGhlIGZpcnN0IGVsZW1lbnRcclxuICAgICAqL1xyXG4gICAgRE9NLnByb3RvdHlwZS53aWR0aCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyBUT0RPIGNoZWNrIGlmIHRoaXMgaXMgdGhlIHNhbWUgYXMgalF1ZXJ5J3Mgd2lkdGgoKSAocHJvYmFibHkgbm90KVxyXG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnRzWzBdLm9mZnNldFdpZHRoO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0aGUgaGVpZ2h0IG9mIHRoZSBmaXJzdCBlbGVtZW50LlxyXG4gICAgICogQHJldHVybnMge251bWJlcn0gdGhlIGhlaWdodCBvZiB0aGUgZmlyc3QgZWxlbWVudFxyXG4gICAgICovXHJcbiAgICBET00ucHJvdG90eXBlLmhlaWdodCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyBUT0RPIGNoZWNrIGlmIHRoaXMgaXMgdGhlIHNhbWUgYXMgalF1ZXJ5J3MgaGVpZ2h0KCkgKHByb2JhYmx5IG5vdClcclxuICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50c1swXS5vZmZzZXRIZWlnaHQ7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBBdHRhY2hlcyBhbiBldmVudCBoYW5kbGVyIHRvIG9uZSBvciBtb3JlIGV2ZW50cyBvbiBhbGwgZWxlbWVudHMuXHJcbiAgICAgKiBAcGFyYW0gZXZlbnROYW1lIHRoZSBldmVudCBuYW1lIChvciBtdWx0aXBsZSBuYW1lcyBzZXBhcmF0ZWQgYnkgc3BhY2UpIHRvIGxpc3RlbiB0b1xyXG4gICAgICogQHBhcmFtIGV2ZW50SGFuZGxlciB0aGUgZXZlbnQgaGFuZGxlciB0byBjYWxsIHdoZW4gdGhlIGV2ZW50IGZpcmVzXHJcbiAgICAgKiBAcmV0dXJucyB7RE9NfVxyXG4gICAgICovXHJcbiAgICBET00ucHJvdG90eXBlLm9uID0gZnVuY3Rpb24gKGV2ZW50TmFtZSwgZXZlbnRIYW5kbGVyKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB2YXIgZXZlbnRzID0gZXZlbnROYW1lLnNwbGl0KCcgJyk7XHJcbiAgICAgICAgZXZlbnRzLmZvckVhY2goZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIGlmIChfdGhpcy5lbGVtZW50cyA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBldmVudEhhbmRsZXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgZXZlbnRIYW5kbGVyKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZW1vdmVzIGFuIGV2ZW50IGhhbmRsZXIgZnJvbSBvbmUgb3IgbW9yZSBldmVudHMgb24gYWxsIGVsZW1lbnRzLlxyXG4gICAgICogQHBhcmFtIGV2ZW50TmFtZSB0aGUgZXZlbnQgbmFtZSAob3IgbXVsdGlwbGUgbmFtZXMgc2VwYXJhdGVkIGJ5IHNwYWNlKSB0byByZW1vdmUgdGhlIGhhbmRsZXIgZnJvbVxyXG4gICAgICogQHBhcmFtIGV2ZW50SGFuZGxlciB0aGUgZXZlbnQgaGFuZGxlciB0byByZW1vdmVcclxuICAgICAqIEByZXR1cm5zIHtET019XHJcbiAgICAgKi9cclxuICAgIERPTS5wcm90b3R5cGUub2ZmID0gZnVuY3Rpb24gKGV2ZW50TmFtZSwgZXZlbnRIYW5kbGVyKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB2YXIgZXZlbnRzID0gZXZlbnROYW1lLnNwbGl0KCcgJyk7XHJcbiAgICAgICAgZXZlbnRzLmZvckVhY2goZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIGlmIChfdGhpcy5lbGVtZW50cyA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCBldmVudEhhbmRsZXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgZXZlbnRIYW5kbGVyKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBBZGRzIHRoZSBzcGVjaWZpZWQgY2xhc3MoZXMpIHRvIGFsbCBlbGVtZW50cy5cclxuICAgICAqIEBwYXJhbSBjbGFzc05hbWUgdGhlIGNsYXNzKGVzKSB0byBhZGQsIG11bHRpcGxlIGNsYXNzZXMgc2VwYXJhdGVkIGJ5IHNwYWNlXHJcbiAgICAgKiBAcmV0dXJucyB7RE9NfVxyXG4gICAgICovXHJcbiAgICBET00ucHJvdG90eXBlLmFkZENsYXNzID0gZnVuY3Rpb24gKGNsYXNzTmFtZSkge1xyXG4gICAgICAgIHRoaXMuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkge1xyXG4gICAgICAgICAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QpIHtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChjbGFzc05hbWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5jbGFzc05hbWUgKz0gJyAnICsgY2xhc3NOYW1lO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZW1vdmVkIHRoZSBzcGVjaWZpZWQgY2xhc3MoZXMpIGZyb20gYWxsIGVsZW1lbnRzLlxyXG4gICAgICogQHBhcmFtIGNsYXNzTmFtZSB0aGUgY2xhc3MoZXMpIHRvIHJlbW92ZSwgbXVsdGlwbGUgY2xhc3NlcyBzZXBhcmF0ZWQgYnkgc3BhY2VcclxuICAgICAqIEByZXR1cm5zIHtET019XHJcbiAgICAgKi9cclxuICAgIERPTS5wcm90b3R5cGUucmVtb3ZlQ2xhc3MgPSBmdW5jdGlvbiAoY2xhc3NOYW1lKSB7XHJcbiAgICAgICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7XHJcbiAgICAgICAgICAgIGlmIChlbGVtZW50LmNsYXNzTGlzdCkge1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzTmFtZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LmNsYXNzTmFtZSA9IGVsZW1lbnQuY2xhc3NOYW1lLnJlcGxhY2UobmV3IFJlZ0V4cCgnKF58XFxcXGIpJyArIGNsYXNzTmFtZS5zcGxpdCgnICcpLmpvaW4oJ3wnKSArICcoXFxcXGJ8JCknLCAnZ2knKSwgJyAnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2tzIGlmIGFueSBvZiB0aGUgZWxlbWVudHMgaGFzIHRoZSBzcGVjaWZpZWQgY2xhc3MuXHJcbiAgICAgKiBAcGFyYW0gY2xhc3NOYW1lIHRoZSBjbGFzcyBuYW1lIHRvIGNoZWNrXHJcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpZiBvbmUgb2YgdGhlIGVsZW1lbnRzIGhhcyB0aGUgY2xhc3MgYXR0YWNoZWQsIGVsc2UgaWYgbm8gZWxlbWVudCBoYXMgaXQgYXR0YWNoZWRcclxuICAgICAqL1xyXG4gICAgRE9NLnByb3RvdHlwZS5oYXNDbGFzcyA9IGZ1bmN0aW9uIChjbGFzc05hbWUpIHtcclxuICAgICAgICB2YXIgaGFzQ2xhc3MgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHtcclxuICAgICAgICAgICAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoY2xhc3NOYW1lKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFNpbmNlIHdlIGFyZSBpbnNpZGUgYSBoYW5kbGVyLCB3ZSBjYW4ndCBqdXN0ICdyZXR1cm4gdHJ1ZScuIEluc3RlYWQsIHdlIHNhdmUgaXQgdG8gYSB2YXJpYWJsZVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGFuZCByZXR1cm4gaXQgYXQgdGhlIGVuZCBvZiB0aGUgZnVuY3Rpb24gYm9keS5cclxuICAgICAgICAgICAgICAgICAgICBoYXNDbGFzcyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobmV3IFJlZ0V4cCgnKF58ICknICsgY2xhc3NOYW1lICsgJyggfCQpJywgJ2dpJykudGVzdChlbGVtZW50LmNsYXNzTmFtZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBTZWUgY29tbWVudCBhYm92ZVxyXG4gICAgICAgICAgICAgICAgICAgIGhhc0NsYXNzID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBoYXNDbGFzcztcclxuICAgIH07XHJcbiAgICBET00ucHJvdG90eXBlLmNzcyA9IGZ1bmN0aW9uIChwcm9wZXJ0eU5hbWVPckNvbGxlY3Rpb24sIHZhbHVlKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBwcm9wZXJ0eU5hbWVPckNvbGxlY3Rpb24gPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgIHZhciBwcm9wZXJ0eU5hbWUgPSBwcm9wZXJ0eU5hbWVPckNvbGxlY3Rpb247XHJcbiAgICAgICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAyKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zZXRDc3MocHJvcGVydHlOYW1lLCB2YWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRDc3MocHJvcGVydHlOYW1lKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdmFyIHByb3BlcnR5VmFsdWVDb2xsZWN0aW9uID0gcHJvcGVydHlOYW1lT3JDb2xsZWN0aW9uO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zZXRDc3NDb2xsZWN0aW9uKHByb3BlcnR5VmFsdWVDb2xsZWN0aW9uKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgRE9NLnByb3RvdHlwZS5nZXRDc3MgPSBmdW5jdGlvbiAocHJvcGVydHlOYW1lKSB7XHJcbiAgICAgICAgcmV0dXJuIGdldENvbXB1dGVkU3R5bGUodGhpcy5lbGVtZW50c1swXSlbcHJvcGVydHlOYW1lXTtcclxuICAgIH07XHJcbiAgICBET00ucHJvdG90eXBlLnNldENzcyA9IGZ1bmN0aW9uIChwcm9wZXJ0eU5hbWUsIHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7XHJcbiAgICAgICAgICAgIC8vIDxhbnk+IGNhc3QgdG8gcmVzb2x2ZSBUUzcwMTU6IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzM2NjI3MTE0LzM3MDI1MlxyXG4gICAgICAgICAgICBlbGVtZW50LnN0eWxlW3Byb3BlcnR5TmFtZV0gPSB2YWx1ZTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICBET00ucHJvdG90eXBlLnNldENzc0NvbGxlY3Rpb24gPSBmdW5jdGlvbiAocnVsZVZhbHVlQ29sbGVjdGlvbikge1xyXG4gICAgICAgIHRoaXMuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkge1xyXG4gICAgICAgICAgICAvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8zNDQ5MDU3My8zNzAyNTJcclxuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihlbGVtZW50LnN0eWxlLCBydWxlVmFsdWVDb2xsZWN0aW9uKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICByZXR1cm4gRE9NO1xyXG59KCkpO1xyXG5leHBvcnRzLkRPTSA9IERPTTtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9kb20udHNcbi8vIG1vZHVsZSBpZCA9IDBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBjb21wb25lbnRfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudFwiKTtcclxudmFyIGRvbV8xID0gcmVxdWlyZShcIi4uL2RvbVwiKTtcclxudmFyIGFycmF5dXRpbHNfMSA9IHJlcXVpcmUoXCIuLi9hcnJheXV0aWxzXCIpO1xyXG4vKipcclxuICogQSBjb250YWluZXIgY29tcG9uZW50IHRoYXQgY2FuIGNvbnRhaW4gYSBjb2xsZWN0aW9uIG9mIGNoaWxkIGNvbXBvbmVudHMuXHJcbiAqIENvbXBvbmVudHMgY2FuIGJlIGFkZGVkIGF0IGNvbnN0cnVjdGlvbiB0aW1lIHRocm91Z2ggdGhlIHtAbGluayBDb250YWluZXJDb25maWcjY29tcG9uZW50c30gc2V0dGluZywgb3IgbGF0ZXJcclxuICogdGhyb3VnaCB0aGUge0BsaW5rIENvbnRhaW5lciNhZGRDb21wb25lbnR9IG1ldGhvZC4gVGhlIFVJTWFuYWdlciBhdXRvbWF0aWNhbGx5IHRha2VzIGNhcmUgb2YgYWxsIGNvbXBvbmVudHMsIGkuZS4gaXRcclxuICogaW5pdGlhbGl6ZXMgYW5kIGNvbmZpZ3VyZXMgdGhlbSBhdXRvbWF0aWNhbGx5LlxyXG4gKlxyXG4gKiBJbiB0aGUgRE9NLCB0aGUgY29udGFpbmVyIGNvbnNpc3RzIG9mIGFuIG91dGVyIDxkaXY+ICh0aGF0IGNhbiBiZSBjb25maWd1cmVkIGJ5IHRoZSBjb25maWcpIGFuZCBhbiBpbm5lciB3cmFwcGVyXHJcbiAqIDxkaXY+IHRoYXQgY29udGFpbnMgdGhlIGNvbXBvbmVudHMuIFRoaXMgZG91YmxlLTxkaXY+LXN0cnVjdHVyZSBpcyBvZnRlbiByZXF1aXJlZCB0byBhY2hpZXZlIG1hbnkgYWR2YW5jZWQgZWZmZWN0c1xyXG4gKiBpbiBDU1MgYW5kL29yIEpTLCBlLmcuIGFuaW1hdGlvbnMgYW5kIGNlcnRhaW4gZm9ybWF0dGluZyB3aXRoIGFic29sdXRlIHBvc2l0aW9uaW5nLlxyXG4gKlxyXG4gKiBET00gZXhhbXBsZTpcclxuICogPGNvZGU+XHJcbiAqICAgICA8ZGl2IGNsYXNzPSd1aS1jb250YWluZXInPlxyXG4gKiAgICAgICAgIDxkaXYgY2xhc3M9J2NvbnRhaW5lci13cmFwcGVyJz5cclxuICogICAgICAgICAgICAgLi4uIGNoaWxkIGNvbXBvbmVudHMgLi4uXHJcbiAqICAgICAgICAgPC9kaXY+XHJcbiAqICAgICA8L2Rpdj5cclxuICogPC9jb2RlPlxyXG4gKi9cclxudmFyIENvbnRhaW5lciA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoQ29udGFpbmVyLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gQ29udGFpbmVyKGNvbmZpZykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGNvbmZpZykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5jb25maWcgPSBfdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIHtcclxuICAgICAgICAgICAgY3NzQ2xhc3M6ICd1aS1jb250YWluZXInLFxyXG4gICAgICAgICAgICBjb21wb25lbnRzOiBbXSxcclxuICAgICAgICB9LCBfdGhpcy5jb25maWcpO1xyXG4gICAgICAgIF90aGlzLmNvbXBvbmVudHNUb0FkZCA9IFtdO1xyXG4gICAgICAgIF90aGlzLmNvbXBvbmVudHNUb1JlbW92ZSA9IFtdO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQWRkcyBhIGNoaWxkIGNvbXBvbmVudCB0byB0aGUgY29udGFpbmVyLlxyXG4gICAgICogQHBhcmFtIGNvbXBvbmVudCB0aGUgY29tcG9uZW50IHRvIGFkZFxyXG4gICAgICovXHJcbiAgICBDb250YWluZXIucHJvdG90eXBlLmFkZENvbXBvbmVudCA9IGZ1bmN0aW9uIChjb21wb25lbnQpIHtcclxuICAgICAgICB0aGlzLmNvbmZpZy5jb21wb25lbnRzLnB1c2goY29tcG9uZW50KTtcclxuICAgICAgICB0aGlzLmNvbXBvbmVudHNUb0FkZC5wdXNoKGNvbXBvbmVudCk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZW1vdmVzIGEgY2hpbGQgY29tcG9uZW50IGZyb20gdGhlIGNvbnRhaW5lci5cclxuICAgICAqIEBwYXJhbSBjb21wb25lbnQgdGhlIGNvbXBvbmVudCB0byByZW1vdmVcclxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlmIHRoZSBjb21wb25lbnQgaGFzIGJlZW4gcmVtb3ZlZCwgZmFsc2UgaWYgaXQgaXMgbm90IGNvbnRhaW5lZCBpbiB0aGlzIGNvbnRhaW5lclxyXG4gICAgICovXHJcbiAgICBDb250YWluZXIucHJvdG90eXBlLnJlbW92ZUNvbXBvbmVudCA9IGZ1bmN0aW9uIChjb21wb25lbnQpIHtcclxuICAgICAgICBpZiAoYXJyYXl1dGlsc18xLkFycmF5VXRpbHMucmVtb3ZlKHRoaXMuY29uZmlnLmNvbXBvbmVudHMsIGNvbXBvbmVudCkgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aGlzLmNvbXBvbmVudHNUb1JlbW92ZS5wdXNoKGNvbXBvbmVudCk7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEdldHMgYW4gYXJyYXkgb2YgYWxsIGNoaWxkIGNvbXBvbmVudHMgaW4gdGhpcyBjb250YWluZXIuXHJcbiAgICAgKiBAcmV0dXJucyB7Q29tcG9uZW50PENvbXBvbmVudENvbmZpZz5bXX1cclxuICAgICAqL1xyXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5nZXRDb21wb25lbnRzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbmZpZy5jb21wb25lbnRzO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUmVtb3ZlcyBhbGwgY2hpbGQgY29tcG9uZW50cyBmcm9tIHRoZSBjb250YWluZXIuXHJcbiAgICAgKi9cclxuICAgIENvbnRhaW5lci5wcm90b3R5cGUucmVtb3ZlQ29tcG9uZW50cyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gdGhpcy5nZXRDb21wb25lbnRzKCkuc2xpY2UoKTsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgdmFyIGNvbXBvbmVudCA9IF9hW19pXTtcclxuICAgICAgICAgICAgdGhpcy5yZW1vdmVDb21wb25lbnQoY29tcG9uZW50KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBVcGRhdGVzIHRoZSBET00gb2YgdGhlIGNvbnRhaW5lciB3aXRoIHRoZSBjdXJyZW50IGNvbXBvbmVudHMuXHJcbiAgICAgKi9cclxuICAgIENvbnRhaW5lci5wcm90b3R5cGUudXBkYXRlQ29tcG9uZW50cyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvKiBXZSBjYW5ub3QganVzdCBjbGVhciB0aGUgY29udGFpbmVyIHRvIHJlbW92ZSBhbGwgZWxlbWVudHMgYW5kIHRoZW4gcmUtYWRkIHRob3NlIHRoYXQgc2hvdWxkIHN0YXksIGJlY2F1c2VcclxuICAgICAgICAgKiBJRSBsb29zZXMgdGhlIGlubmVySFRNTCBvZiB1bmF0dGFjaGVkIGVsZW1lbnRzLCBsZWFkaW5nIHRvIGVtcHR5IGVsZW1lbnRzIHdpdGhpbiB0aGUgY29udGFpbmVyIChlLmcuIG1pc3NpbmdcclxuICAgICAgICAgKiBzdWJ0aXRsZSB0ZXh0IGluIFN1YnRpdGxlTGFiZWwpLlxyXG4gICAgICAgICAqIEluc3RlYWQsIHdlIGtlZXAgYSBsaXN0IG9mIGVsZW1lbnRzIHRvIGFkZCBhbmQgcmVtb3ZlLCBsZWF2aW5nIHJlbWFpbmluZyBlbGVtZW50cyBhbG9uZS4gQnkga2VlcGluZyB0aGVtIGluXHJcbiAgICAgICAgICogdGhlIERPTSwgdGhlaXIgY29udGVudCBnZXRzIHByZXNlcnZlZCBpbiBhbGwgYnJvd3NlcnMuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdmFyIGNvbXBvbmVudDtcclxuICAgICAgICB3aGlsZSAoY29tcG9uZW50ID0gdGhpcy5jb21wb25lbnRzVG9SZW1vdmUuc2hpZnQoKSkge1xyXG4gICAgICAgICAgICBjb21wb25lbnQuZ2V0RG9tRWxlbWVudCgpLnJlbW92ZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB3aGlsZSAoY29tcG9uZW50ID0gdGhpcy5jb21wb25lbnRzVG9BZGQuc2hpZnQoKSkge1xyXG4gICAgICAgICAgICB0aGlzLmlubmVyQ29udGFpbmVyRWxlbWVudC5hcHBlbmQoY29tcG9uZW50LmdldERvbUVsZW1lbnQoKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIENvbnRhaW5lci5wcm90b3R5cGUudG9Eb21FbGVtZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vIENyZWF0ZSB0aGUgY29udGFpbmVyIGVsZW1lbnQgKHRoZSBvdXRlciA8ZGl2PilcclxuICAgICAgICB2YXIgY29udGFpbmVyRWxlbWVudCA9IG5ldyBkb21fMS5ET00odGhpcy5jb25maWcudGFnLCB7XHJcbiAgICAgICAgICAgICdpZCc6IHRoaXMuY29uZmlnLmlkLFxyXG4gICAgICAgICAgICAnY2xhc3MnOiB0aGlzLmdldENzc0NsYXNzZXMoKSxcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBDcmVhdGUgdGhlIGlubmVyIGNvbnRhaW5lciBlbGVtZW50ICh0aGUgaW5uZXIgPGRpdj4pIHRoYXQgd2lsbCBjb250YWluIHRoZSBjb21wb25lbnRzXHJcbiAgICAgICAgdmFyIGlubmVyQ29udGFpbmVyID0gbmV3IGRvbV8xLkRPTSh0aGlzLmNvbmZpZy50YWcsIHtcclxuICAgICAgICAgICAgJ2NsYXNzJzogdGhpcy5wcmVmaXhDc3MoJ2NvbnRhaW5lci13cmFwcGVyJyksXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5pbm5lckNvbnRhaW5lckVsZW1lbnQgPSBpbm5lckNvbnRhaW5lcjtcclxuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gdGhpcy5jb25maWcuY29tcG9uZW50czsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgdmFyIGluaXRpYWxDb21wb25lbnQgPSBfYVtfaV07XHJcbiAgICAgICAgICAgIHRoaXMuY29tcG9uZW50c1RvQWRkLnB1c2goaW5pdGlhbENvbXBvbmVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMudXBkYXRlQ29tcG9uZW50cygpO1xyXG4gICAgICAgIGNvbnRhaW5lckVsZW1lbnQuYXBwZW5kKGlubmVyQ29udGFpbmVyKTtcclxuICAgICAgICByZXR1cm4gY29udGFpbmVyRWxlbWVudDtcclxuICAgIH07XHJcbiAgICByZXR1cm4gQ29udGFpbmVyO1xyXG59KGNvbXBvbmVudF8xLkNvbXBvbmVudCkpO1xyXG5leHBvcnRzLkNvbnRhaW5lciA9IENvbnRhaW5lcjtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL2NvbnRhaW5lci50c1xuLy8gbW9kdWxlIGlkID0gMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgZ3VpZF8xID0gcmVxdWlyZShcIi4uL2d1aWRcIik7XHJcbnZhciBkb21fMSA9IHJlcXVpcmUoXCIuLi9kb21cIik7XHJcbnZhciBldmVudGRpc3BhdGNoZXJfMSA9IHJlcXVpcmUoXCIuLi9ldmVudGRpc3BhdGNoZXJcIik7XHJcbi8qKlxyXG4gKiBUaGUgYmFzZSBjbGFzcyBvZiB0aGUgVUkgZnJhbWV3b3JrLlxyXG4gKiBFYWNoIGNvbXBvbmVudCBtdXN0IGV4dGVuZCB0aGlzIGNsYXNzIGFuZCBvcHRpb25hbGx5IHRoZSBjb25maWcgaW50ZXJmYWNlLlxyXG4gKi9cclxudmFyIENvbXBvbmVudCA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICAvKipcclxuICAgICAqIENvbnN0cnVjdHMgYSBjb21wb25lbnQgd2l0aCBhbiBvcHRpb25hbGx5IHN1cHBsaWVkIGNvbmZpZy4gQWxsIHN1YmNsYXNzZXMgbXVzdCBjYWxsIHRoZSBjb25zdHJ1Y3RvciBvZiB0aGVpclxyXG4gICAgICogc3VwZXJjbGFzcyBhbmQgdGhlbiBtZXJnZSB0aGVpciBjb25maWd1cmF0aW9uIGludG8gdGhlIGNvbXBvbmVudCdzIGNvbmZpZ3VyYXRpb24uXHJcbiAgICAgKiBAcGFyYW0gY29uZmlnIHRoZSBjb25maWd1cmF0aW9uIGZvciB0aGUgY29tcG9uZW50XHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIENvbXBvbmVudChjb25maWcpIHtcclxuICAgICAgICBpZiAoY29uZmlnID09PSB2b2lkIDApIHsgY29uZmlnID0ge307IH1cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBUaGUgbGlzdCBvZiBldmVudHMgdGhhdCB0aGlzIGNvbXBvbmVudCBvZmZlcnMuIFRoZXNlIGV2ZW50cyBzaG91bGQgYWx3YXlzIGJlIHByaXZhdGUgYW5kIG9ubHkgZGlyZWN0bHlcclxuICAgICAgICAgKiBhY2Nlc3NlZCBmcm9tIHdpdGhpbiB0aGUgaW1wbGVtZW50aW5nIGNvbXBvbmVudC5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEJlY2F1c2UgVHlwZVNjcmlwdCBkb2VzIG5vdCBzdXBwb3J0IHByaXZhdGUgcHJvcGVydGllcyB3aXRoIHRoZSBzYW1lIG5hbWUgb24gZGlmZmVyZW50IGNsYXNzIGhpZXJhcmNoeSBsZXZlbHNcclxuICAgICAgICAgKiAoaS5lLiBzdXBlcmNsYXNzIGFuZCBzdWJjbGFzcyBjYW5ub3QgY29udGFpbiBhIHByaXZhdGUgcHJvcGVydHkgd2l0aCB0aGUgc2FtZSBuYW1lKSwgdGhlIGRlZmF1bHQgbmFtaW5nXHJcbiAgICAgICAgICogY29udmVudGlvbiBmb3IgdGhlIGV2ZW50IGxpc3Qgb2YgYSBjb21wb25lbnQgdGhhdCBzaG91bGQgYmUgZm9sbG93ZWQgYnkgc3ViY2xhc3NlcyBpcyB0aGUgY29uY2F0ZW5hdGlvbiBvZiB0aGVcclxuICAgICAgICAgKiBjYW1lbC1jYXNlZCBjbGFzcyBuYW1lICsgJ0V2ZW50cycgKGUuZy4gU3ViQ2xhc3MgZXh0ZW5kcyBDb21wb25lbnQgPT4gc3ViQ2xhc3NFdmVudHMpLlxyXG4gICAgICAgICAqIFNlZSB7QGxpbmsgI2NvbXBvbmVudEV2ZW50c30gZm9yIGFuIGV4YW1wbGUuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBFdmVudCBwcm9wZXJ0aWVzIHNob3VsZCBiZSBuYW1lZCBpbiBjYW1lbCBjYXNlIHdpdGggYW4gJ29uJyBwcmVmaXggYW5kIGluIHRoZSBwcmVzZW50IHRlbnNlLiBBc3luYyBldmVudHMgbWF5XHJcbiAgICAgICAgICogaGF2ZSBhIHN0YXJ0IGV2ZW50ICh3aGVuIHRoZSBvcGVyYXRpb24gc3RhcnRzKSBpbiB0aGUgcHJlc2VudCB0ZW5zZSwgYW5kIG11c3QgaGF2ZSBhbiBlbmQgZXZlbnQgKHdoZW4gdGhlXHJcbiAgICAgICAgICogb3BlcmF0aW9uIGVuZHMpIGluIHRoZSBwYXN0IHRlbnNlIChvciBwcmVzZW50IHRlbnNlIGluIHNwZWNpYWwgY2FzZXMgKGUuZy4gb25TdGFydC9vblN0YXJ0ZWQgb3Igb25QbGF5L29uUGxheWluZykuXHJcbiAgICAgICAgICogU2VlIHtAbGluayAjY29tcG9uZW50RXZlbnRzI29uU2hvd30gZm9yIGFuIGV4YW1wbGUuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBFYWNoIGV2ZW50IHNob3VsZCBiZSBhY2NvbXBhbmllZCB3aXRoIGEgcHJvdGVjdGVkIG1ldGhvZCBuYW1lZCBieSB0aGUgY29udmVudGlvbiBldmVudE5hbWUgKyAnRXZlbnQnXHJcbiAgICAgICAgICogKGUuZy4gb25TdGFydEV2ZW50KSwgdGhhdCBhY3R1YWxseSB0cmlnZ2VycyB0aGUgZXZlbnQgYnkgY2FsbGluZyB7QGxpbmsgRXZlbnREaXNwYXRjaGVyI2Rpc3BhdGNoIGRpc3BhdGNofSBhbmRcclxuICAgICAgICAgKiBwYXNzaW5nIGEgcmVmZXJlbmNlIHRvIHRoZSBjb21wb25lbnQgYXMgZmlyc3QgcGFyYW1ldGVyLiBDb21wb25lbnRzIHNob3VsZCBhbHdheXMgdHJpZ2dlciB0aGVpciBldmVudHMgd2l0aCB0aGVzZVxyXG4gICAgICAgICAqIG1ldGhvZHMuIEltcGxlbWVudGluZyB0aGlzIHBhdHRlcm4gZ2l2ZXMgc3ViY2xhc3NlcyBtZWFucyB0byBkaXJlY3RseSBsaXN0ZW4gdG8gdGhlIGV2ZW50cyBieSBvdmVycmlkaW5nIHRoZVxyXG4gICAgICAgICAqIG1ldGhvZCAoYW5kIHNhdmluZyB0aGUgb3ZlcmhlYWQgb2YgcGFzc2luZyBhIGhhbmRsZXIgdG8gdGhlIGV2ZW50IGRpc3BhdGNoZXIpIGFuZCBtb3JlIGltcG9ydGFudGx5IHRvIHRyaWdnZXJcclxuICAgICAgICAgKiB0aGVzZSBldmVudHMgd2l0aG91dCBoYXZpbmcgYWNjZXNzIHRvIHRoZSBwcml2YXRlIGV2ZW50IGxpc3QuXHJcbiAgICAgICAgICogU2VlIHtAbGluayAjb25TaG93fSBmb3IgYW4gZXhhbXBsZS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIFRvIHByb3ZpZGUgZXh0ZXJuYWwgY29kZSB0aGUgcG9zc2liaWxpdHkgdG8gbGlzdGVuIHRvIHRoaXMgY29tcG9uZW50J3MgZXZlbnRzIChzdWJzY3JpYmUsIHVuc3Vic2NyaWJlLCBldGMuKSxcclxuICAgICAgICAgKiBlYWNoIGV2ZW50IHNob3VsZCBhbHNvIGJlIGFjY29tcGFuaWVkIGJ5IGEgcHVibGljIGdldHRlciBmdW5jdGlvbiB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgdGhlIGV2ZW50J3MgcHJvcGVydHksXHJcbiAgICAgICAgICogdGhhdCByZXR1cm5zIHRoZSB7QGxpbmsgRXZlbnR9IG9idGFpbmVkIGZyb20gdGhlIGV2ZW50IGRpc3BhdGNoZXIgYnkgY2FsbGluZyB7QGxpbmsgRXZlbnREaXNwYXRjaGVyI2dldEV2ZW50fS5cclxuICAgICAgICAgKiBTZWUge0BsaW5rICNvblNob3d9IGZvciBhbiBleGFtcGxlLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogRnVsbCBleGFtcGxlIGZvciBhbiBldmVudCByZXByZXNlbnRpbmcgYW4gZXhhbXBsZSBhY3Rpb24gaW4gYSBleGFtcGxlIGNvbXBvbmVudDpcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIDxjb2RlPlxyXG4gICAgICAgICAqIC8vIERlZmluZSBhbiBleGFtcGxlIGNvbXBvbmVudCBjbGFzcyB3aXRoIGFuIGV4YW1wbGUgZXZlbnRcclxuICAgICAgICAgKiBjbGFzcyBFeGFtcGxlQ29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50PENvbXBvbmVudENvbmZpZz4ge1xyXG4gICAgICAgICAgICpcclxuICAgICAgICAgICAqICAgICBwcml2YXRlIGV4YW1wbGVDb21wb25lbnRFdmVudHMgPSB7XHJcbiAgICAgICAgICAgKiAgICAgICAgIG9uRXhhbXBsZUFjdGlvbjogbmV3IEV2ZW50RGlzcGF0Y2hlcjxFeGFtcGxlQ29tcG9uZW50LCBOb0FyZ3M+KClcclxuICAgICAgICAgICAqICAgICB9XHJcbiAgICAgICAgICAgKlxyXG4gICAgICAgICAgICogICAgIC8vIGNvbnN0cnVjdG9yIGFuZCBvdGhlciBzdHVmZi4uLlxyXG4gICAgICAgICAgICpcclxuICAgICAgICAgICAqICAgICBwcm90ZWN0ZWQgb25FeGFtcGxlQWN0aW9uRXZlbnQoKSB7XHJcbiAgICAgICAgICAgKiAgICAgICAgdGhpcy5leGFtcGxlQ29tcG9uZW50RXZlbnRzLm9uRXhhbXBsZUFjdGlvbi5kaXNwYXRjaCh0aGlzKTtcclxuICAgICAgICAgICAqICAgIH1cclxuICAgICAgICAgICAqXHJcbiAgICAgICAgICAgKiAgICBnZXQgb25FeGFtcGxlQWN0aW9uKCk6IEV2ZW50PEV4YW1wbGVDb21wb25lbnQsIE5vQXJncz4ge1xyXG4gICAgICAgICAgICogICAgICAgIHJldHVybiB0aGlzLmV4YW1wbGVDb21wb25lbnRFdmVudHMub25FeGFtcGxlQWN0aW9uLmdldEV2ZW50KCk7XHJcbiAgICAgICAgICAgKiAgICB9XHJcbiAgICAgICAgICAgKiB9XHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiAvLyBDcmVhdGUgYW4gaW5zdGFuY2Ugb2YgdGhlIGNvbXBvbmVudCBzb21ld2hlcmVcclxuICAgICAgICAgKiB2YXIgZXhhbXBsZUNvbXBvbmVudEluc3RhbmNlID0gbmV3IEV4YW1wbGVDb21wb25lbnQoKTtcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIC8vIFN1YnNjcmliZSB0byB0aGUgZXhhbXBsZSBldmVudCBvbiB0aGUgY29tcG9uZW50XHJcbiAgICAgICAgICogZXhhbXBsZUNvbXBvbmVudEluc3RhbmNlLm9uRXhhbXBsZUFjdGlvbi5zdWJzY3JpYmUoZnVuY3Rpb24gKHNlbmRlcjogRXhhbXBsZUNvbXBvbmVudCkge1xyXG4gICAgICAgICAgICogICAgIGNvbnNvbGUubG9nKCdvbkV4YW1wbGVBY3Rpb24gb2YgJyArIHNlbmRlciArICcgaGFzIGZpcmVkIScpO1xyXG4gICAgICAgICAgICogfSk7XHJcbiAgICAgICAgICogPC9jb2RlPlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuY29tcG9uZW50RXZlbnRzID0ge1xyXG4gICAgICAgICAgICBvblNob3c6IG5ldyBldmVudGRpc3BhdGNoZXJfMS5FdmVudERpc3BhdGNoZXIoKSxcclxuICAgICAgICAgICAgb25IaWRlOiBuZXcgZXZlbnRkaXNwYXRjaGVyXzEuRXZlbnREaXNwYXRjaGVyKCksXHJcbiAgICAgICAgICAgIG9uSG92ZXJDaGFuZ2VkOiBuZXcgZXZlbnRkaXNwYXRjaGVyXzEuRXZlbnREaXNwYXRjaGVyKCksXHJcbiAgICAgICAgfTtcclxuICAgICAgICAvLyBDcmVhdGUgdGhlIGNvbmZpZ3VyYXRpb24gZm9yIHRoaXMgY29tcG9uZW50XHJcbiAgICAgICAgdGhpcy5jb25maWcgPSB0aGlzLm1lcmdlQ29uZmlnKGNvbmZpZywge1xyXG4gICAgICAgICAgICB0YWc6ICdkaXYnLFxyXG4gICAgICAgICAgICBpZDogJ21pLXdiYy1pZC0nICsgZ3VpZF8xLkd1aWQubmV4dCgpLFxyXG4gICAgICAgICAgICBjc3NQcmVmaXg6ICdtaS13YmMnLFxyXG4gICAgICAgICAgICBjc3NDbGFzczogJ3VpLWNvbXBvbmVudCcsXHJcbiAgICAgICAgICAgIGNzc0NsYXNzZXM6IFtdLFxyXG4gICAgICAgICAgICBoaWRkZW46IGZhbHNlLFxyXG4gICAgICAgIH0sIHt9KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogSW5pdGlhbGl6ZXMgdGhlIGNvbXBvbmVudCwgZS5nLiBieSBhcHBseWluZyBjb25maWcgc2V0dGluZ3MuXHJcbiAgICAgKiBUaGlzIG1ldGhvZCBtdXN0IG5vdCBiZSBjYWxsZWQgZnJvbSBvdXRzaWRlIHRoZSBVSSBmcmFtZXdvcmsuXHJcbiAgICAgKlxyXG4gICAgICogVGhpcyBtZXRob2QgaXMgYXV0b21hdGljYWxseSBjYWxsZWQgYnkgdGhlIHtAbGluayBVSUluc3RhbmNlTWFuYWdlcn0uIElmIHRoZSBjb21wb25lbnQgaXMgYW4gaW5uZXIgY29tcG9uZW50IG9mXHJcbiAgICAgKiBzb21lIGNvbXBvbmVudCwgYW5kIHRodXMgZW5jYXBzdWxhdGVkIGFiZCBtYW5hZ2VkIGludGVybmFsbHkgYW5kIG5ldmVyIGRpcmVjdGx5IGV4cG9zZWQgdG8gdGhlIFVJTWFuYWdlcixcclxuICAgICAqIHRoaXMgbWV0aG9kIG11c3QgYmUgY2FsbGVkIGZyb20gdGhlIG1hbmFnaW5nIGNvbXBvbmVudCdzIHtAbGluayAjaW5pdGlhbGl6ZX0gbWV0aG9kLlxyXG4gICAgICovXHJcbiAgICBDb21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5oaWRkZW4gPSB0aGlzLmNvbmZpZy5oaWRkZW47XHJcbiAgICAgICAgLy8gSGlkZSB0aGUgY29tcG9uZW50IGF0IGluaXRpYWxpemF0aW9uIGlmIGl0IGlzIGNvbmZpZ3VyZWQgdG8gYmUgaGlkZGVuXHJcbiAgICAgICAgaWYgKHRoaXMuaXNIaWRkZW4oKSkge1xyXG4gICAgICAgICAgICB0aGlzLmhpZGRlbiA9IGZhbHNlOyAvLyBTZXQgZmxhZyB0byBmYWxzZSBmb3IgdGhlIGZvbGxvd2luZyBoaWRlKCkgY2FsbCB0byB3b3JrIChoaWRlKCkgY2hlY2tzIHRoZSBmbGFnKVxyXG4gICAgICAgICAgICB0aGlzLmhpZGUoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBDb25maWd1cmVzIHRoZSBjb21wb25lbnQgZm9yIHRoZSBzdXBwbGllZCBQbGF5ZXIgYW5kIFVJSW5zdGFuY2VNYW5hZ2VyLiBUaGlzIGlzIHRoZSBwbGFjZSB3aGVyZSBhbGwgdGhlIG1hZ2ljXHJcbiAgICAgKiBoYXBwZW5zLCB3aGVyZSBjb21wb25lbnRzIHR5cGljYWxseSBzdWJzY3JpYmUgYW5kIHJlYWN0IHRvIGV2ZW50cyAob24gdGhlaXIgRE9NIGVsZW1lbnQsIHRoZSBQbGF5ZXIsIG9yIHRoZVxyXG4gICAgICogVUlJbnN0YW5jZU1hbmFnZXIpLCBhbmQgYmFzaWNhbGx5IGV2ZXJ5dGhpbmcgdGhhdCBtYWtlcyB0aGVtIGludGVyYWN0aXZlLlxyXG4gICAgICogVGhpcyBtZXRob2QgaXMgY2FsbGVkIG9ubHkgb25jZSwgd2hlbiB0aGUgVUlNYW5hZ2VyIGluaXRpYWxpemVzIHRoZSBVSS5cclxuICAgICAqXHJcbiAgICAgKiBTdWJjbGFzc2VzIHVzdWFsbHkgb3ZlcndyaXRlIHRoaXMgbWV0aG9kIHRvIGFkZCB0aGVpciBvd24gZnVuY3Rpb25hbGl0eS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gcGxheWVyIHRoZSBwbGF5ZXIgd2hpY2ggdGhpcyBjb21wb25lbnQgY29udHJvbHNcclxuICAgICAqIEBwYXJhbSB1aW1hbmFnZXIgdGhlIFVJSW5zdGFuY2VNYW5hZ2VyIHRoYXQgbWFuYWdlcyB0aGlzIGNvbXBvbmVudFxyXG4gICAgICovXHJcbiAgICBDb21wb25lbnQucHJvdG90eXBlLmNvbmZpZ3VyZSA9IGZ1bmN0aW9uIChwbGF5ZXIsIHVpbWFuYWdlcikge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5vblNob3cuc3Vic2NyaWJlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdWltYW5hZ2VyLm9uQ29tcG9uZW50U2hvdy5kaXNwYXRjaChfdGhpcyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5vbkhpZGUuc3Vic2NyaWJlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdWltYW5hZ2VyLm9uQ29tcG9uZW50SGlkZS5kaXNwYXRjaChfdGhpcyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gVHJhY2sgdGhlIGhvdmVyZWQgc3RhdGUgb2YgdGhlIGVsZW1lbnRcclxuICAgICAgICB0aGlzLmdldERvbUVsZW1lbnQoKS5vbignbW91c2VlbnRlcicsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgX3RoaXMub25Ib3ZlckNoYW5nZWRFdmVudCh0cnVlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmdldERvbUVsZW1lbnQoKS5vbignbW91c2VsZWF2ZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgX3RoaXMub25Ib3ZlckNoYW5nZWRFdmVudChmYWxzZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZWxlYXNlcyBhbGwgcmVzb3VyY2VzIGFuZCBkZXBlbmRlbmNpZXMgdGhhdCB0aGUgY29tcG9uZW50IGhvbGRzLiBQbGF5ZXIsIERPTSwgYW5kIFVJTWFuYWdlciBldmVudHMgYXJlXHJcbiAgICAgKiBhdXRvbWF0aWNhbGx5IHJlbW92ZWQgZHVyaW5nIHJlbGVhc2UgYW5kIGRvIG5vdCBleHBsaWNpdGx5IG5lZWQgdG8gYmUgcmVtb3ZlZCBoZXJlLlxyXG4gICAgICogVGhpcyBtZXRob2QgaXMgY2FsbGVkIGJ5IHRoZSBVSU1hbmFnZXIgd2hlbiBpdCByZWxlYXNlcyB0aGUgVUkuXHJcbiAgICAgKlxyXG4gICAgICogU3ViY2xhc3NlcyB0aGF0IG5lZWQgdG8gcmVsZWFzZSByZXNvdXJjZXMgc2hvdWxkIG92ZXJyaWRlIHRoaXMgbWV0aG9kIGFuZCBjYWxsIHN1cGVyLnJlbGVhc2UoKS5cclxuICAgICAqL1xyXG4gICAgQ29tcG9uZW50LnByb3RvdHlwZS5yZWxlYXNlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vIE5vdGhpbmcgdG8gZG8gaGVyZSwgb3ZlcnJpZGUgd2hlcmUgbmVjZXNzYXJ5XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBHZW5lcmF0ZSB0aGUgRE9NIGVsZW1lbnQgZm9yIHRoaXMgY29tcG9uZW50LlxyXG4gICAgICpcclxuICAgICAqIFN1YmNsYXNzZXMgdXN1YWxseSBvdmVyd3JpdGUgdGhpcyBtZXRob2QgdG8gZXh0ZW5kIG9yIHJlcGxhY2UgdGhlIERPTSBlbGVtZW50IHdpdGggdGhlaXIgb3duIGRlc2lnbi5cclxuICAgICAqL1xyXG4gICAgQ29tcG9uZW50LnByb3RvdHlwZS50b0RvbUVsZW1lbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGVsZW1lbnQgPSBuZXcgZG9tXzEuRE9NKHRoaXMuY29uZmlnLnRhZywge1xyXG4gICAgICAgICAgICAnaWQnOiB0aGlzLmNvbmZpZy5pZCxcclxuICAgICAgICAgICAgJ2NsYXNzJzogdGhpcy5nZXRDc3NDbGFzc2VzKCksXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRoZSBET00gZWxlbWVudCBvZiB0aGlzIGNvbXBvbmVudC4gQ3JlYXRlcyB0aGUgRE9NIGVsZW1lbnQgaWYgaXQgZG9lcyBub3QgeWV0IGV4aXN0LlxyXG4gICAgICpcclxuICAgICAqIFNob3VsZCBub3QgYmUgb3ZlcndyaXR0ZW4gYnkgc3ViY2xhc3Nlcy5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyB7RE9NfVxyXG4gICAgICovXHJcbiAgICBDb21wb25lbnQucHJvdG90eXBlLmdldERvbUVsZW1lbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmVsZW1lbnQpIHtcclxuICAgICAgICAgICAgdGhpcy5lbGVtZW50ID0gdGhpcy50b0RvbUVsZW1lbnQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudDtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIE1lcmdlcyBhIGNvbmZpZ3VyYXRpb24gd2l0aCBhIGRlZmF1bHQgY29uZmlndXJhdGlvbiBhbmQgYSBiYXNlIGNvbmZpZ3VyYXRpb24gZnJvbSB0aGUgc3VwZXJjbGFzcy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gY29uZmlnIHRoZSBjb25maWd1cmF0aW9uIHNldHRpbmdzIGZvciB0aGUgY29tcG9uZW50cywgYXMgdXN1YWxseSBwYXNzZWQgdG8gdGhlIGNvbnN0cnVjdG9yXHJcbiAgICAgKiBAcGFyYW0gZGVmYXVsdHMgYSBkZWZhdWx0IGNvbmZpZ3VyYXRpb24gZm9yIHNldHRpbmdzIHRoYXQgYXJlIG5vdCBwYXNzZWQgd2l0aCB0aGUgY29uZmlndXJhdGlvblxyXG4gICAgICogQHBhcmFtIGJhc2UgY29uZmlndXJhdGlvbiBpbmhlcml0ZWQgZnJvbSBhIHN1cGVyY2xhc3NcclxuICAgICAqIEByZXR1cm5zIHtDb25maWd9XHJcbiAgICAgKi9cclxuICAgIENvbXBvbmVudC5wcm90b3R5cGUubWVyZ2VDb25maWcgPSBmdW5jdGlvbiAoY29uZmlnLCBkZWZhdWx0cywgYmFzZSkge1xyXG4gICAgICAgIC8vIEV4dGVuZCBkZWZhdWx0IGNvbmZpZyB3aXRoIHN1cHBsaWVkIGNvbmZpZ1xyXG4gICAgICAgIHZhciBtZXJnZWQgPSBPYmplY3QuYXNzaWduKHt9LCBiYXNlLCBkZWZhdWx0cywgY29uZmlnKTtcclxuICAgICAgICAvLyBSZXR1cm4gdGhlIGV4dGVuZGVkIGNvbmZpZ1xyXG4gICAgICAgIHJldHVybiBtZXJnZWQ7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBIZWxwZXIgbWV0aG9kIHRoYXQgcmV0dXJucyBhIHN0cmluZyBvZiBhbGwgQ1NTIGNsYXNzZXMgb2YgdGhlIGNvbXBvbmVudC5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxyXG4gICAgICovXHJcbiAgICBDb21wb25lbnQucHJvdG90eXBlLmdldENzc0NsYXNzZXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICAvLyBNZXJnZSBhbGwgQ1NTIGNsYXNzZXMgaW50byBzaW5nbGUgYXJyYXlcclxuICAgICAgICB2YXIgZmxhdHRlbmVkQXJyYXkgPSBbdGhpcy5jb25maWcuY3NzQ2xhc3NdLmNvbmNhdCh0aGlzLmNvbmZpZy5jc3NDbGFzc2VzKTtcclxuICAgICAgICAvLyBQcmVmaXggY2xhc3Nlc1xyXG4gICAgICAgIGZsYXR0ZW5lZEFycmF5ID0gZmxhdHRlbmVkQXJyYXkubWFwKGZ1bmN0aW9uIChjc3MpIHtcclxuICAgICAgICAgICAgcmV0dXJuIF90aGlzLnByZWZpeENzcyhjc3MpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIEpvaW4gYXJyYXkgdmFsdWVzIGludG8gYSBzdHJpbmdcclxuICAgICAgICB2YXIgZmxhdHRlbmVkU3RyaW5nID0gZmxhdHRlbmVkQXJyYXkuam9pbignICcpO1xyXG4gICAgICAgIC8vIFJldHVybiB0cmltbWVkIHN0cmluZyB0byBwcmV2ZW50IHdoaXRlc3BhY2UgYXQgdGhlIGVuZCBmcm9tIHRoZSBqb2luIG9wZXJhdGlvblxyXG4gICAgICAgIHJldHVybiBmbGF0dGVuZWRTdHJpbmcudHJpbSgpO1xyXG4gICAgfTtcclxuICAgIENvbXBvbmVudC5wcm90b3R5cGUucHJlZml4Q3NzID0gZnVuY3Rpb24gKGNzc0NsYXNzT3JJZCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbmZpZy5jc3NQcmVmaXggKyAnLScgKyBjc3NDbGFzc09ySWQ7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRoZSBjb25maWd1cmF0aW9uIG9iamVjdCBvZiB0aGUgY29tcG9uZW50LlxyXG4gICAgICogQHJldHVybnMge0NvbmZpZ31cclxuICAgICAqL1xyXG4gICAgQ29tcG9uZW50LnByb3RvdHlwZS5nZXRDb25maWcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlnO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogSGlkZXMgdGhlIGNvbXBvbmVudCBpZiBzaG93bi5cclxuICAgICAqIFRoaXMgbWV0aG9kIGJhc2ljYWxseSB0cmFuc2ZlcnMgdGhlIGNvbXBvbmVudCBpbnRvIHRoZSBoaWRkZW4gc3RhdGUuIEFjdHVhbCBoaWRpbmcgaXMgZG9uZSB2aWEgQ1NTLlxyXG4gICAgICovXHJcbiAgICBDb21wb25lbnQucHJvdG90eXBlLmhpZGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmhpZGRlbikge1xyXG4gICAgICAgICAgICB0aGlzLmhpZGRlbiA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuZ2V0RG9tRWxlbWVudCgpLmFkZENsYXNzKHRoaXMucHJlZml4Q3NzKENvbXBvbmVudC5DTEFTU19ISURERU4pKTtcclxuICAgICAgICAgICAgdGhpcy5vbkhpZGVFdmVudCgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFNob3dzIHRoZSBjb21wb25lbnQgaWYgaGlkZGVuLlxyXG4gICAgICovXHJcbiAgICBDb21wb25lbnQucHJvdG90eXBlLnNob3cgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaGlkZGVuKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2V0RG9tRWxlbWVudCgpLnJlbW92ZUNsYXNzKHRoaXMucHJlZml4Q3NzKENvbXBvbmVudC5DTEFTU19ISURERU4pKTtcclxuICAgICAgICAgICAgdGhpcy5oaWRkZW4gPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5vblNob3dFdmVudCgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIERldGVybWluZXMgaWYgdGhlIGNvbXBvbmVudCBpcyBoaWRkZW4uXHJcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpZiB0aGUgY29tcG9uZW50IGlzIGhpZGRlbiwgZWxzZSBmYWxzZVxyXG4gICAgICovXHJcbiAgICBDb21wb25lbnQucHJvdG90eXBlLmlzSGlkZGVuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmhpZGRlbjtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIERldGVybWluZXMgaWYgdGhlIGNvbXBvbmVudCBpcyBzaG93bi5cclxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlmIHRoZSBjb21wb25lbnQgaXMgdmlzaWJsZSwgZWxzZSBmYWxzZVxyXG4gICAgICovXHJcbiAgICBDb21wb25lbnQucHJvdG90eXBlLmlzU2hvd24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuICF0aGlzLmlzSGlkZGVuKCk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBUb2dnbGVzIHRoZSBoaWRkZW4gc3RhdGUgYnkgaGlkaW5nIHRoZSBjb21wb25lbnQgaWYgaXQgaXMgc2hvd24sIG9yIHNob3dpbmcgaXQgaWYgaGlkZGVuLlxyXG4gICAgICovXHJcbiAgICBDb21wb25lbnQucHJvdG90eXBlLnRvZ2dsZUhpZGRlbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodGhpcy5pc0hpZGRlbigpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2hvdygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5oaWRlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogRGV0ZXJtaW5lcyBpZiB0aGUgY29tcG9uZW50IGlzIGN1cnJlbnRseSBob3ZlcmVkLlxyXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IHRydWUgaWYgdGhlIGNvbXBvbmVudCBpcyBob3ZlcmVkLCBlbHNlIGZhbHNlXHJcbiAgICAgKi9cclxuICAgIENvbXBvbmVudC5wcm90b3R5cGUuaXNIb3ZlcmVkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmhvdmVyZWQ7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBGaXJlcyB0aGUgb25TaG93IGV2ZW50LlxyXG4gICAgICogU2VlIHRoZSBkZXRhaWxlZCBleHBsYW5hdGlvbiBvbiBldmVudCBhcmNoaXRlY3R1cmUgb24gdGhlIHtAbGluayAjY29tcG9uZW50RXZlbnRzIGV2ZW50cyBsaXN0fS5cclxuICAgICAqL1xyXG4gICAgQ29tcG9uZW50LnByb3RvdHlwZS5vblNob3dFdmVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLmNvbXBvbmVudEV2ZW50cy5vblNob3cuZGlzcGF0Y2godGhpcyk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBGaXJlcyB0aGUgb25IaWRlIGV2ZW50LlxyXG4gICAgICogU2VlIHRoZSBkZXRhaWxlZCBleHBsYW5hdGlvbiBvbiBldmVudCBhcmNoaXRlY3R1cmUgb24gdGhlIHtAbGluayAjY29tcG9uZW50RXZlbnRzIGV2ZW50cyBsaXN0fS5cclxuICAgICAqL1xyXG4gICAgQ29tcG9uZW50LnByb3RvdHlwZS5vbkhpZGVFdmVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLmNvbXBvbmVudEV2ZW50cy5vbkhpZGUuZGlzcGF0Y2godGhpcyk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBGaXJlcyB0aGUgb25Ib3ZlckNoYW5nZWQgZXZlbnQuXHJcbiAgICAgKiBTZWUgdGhlIGRldGFpbGVkIGV4cGxhbmF0aW9uIG9uIGV2ZW50IGFyY2hpdGVjdHVyZSBvbiB0aGUge0BsaW5rICNjb21wb25lbnRFdmVudHMgZXZlbnRzIGxpc3R9LlxyXG4gICAgICovXHJcbiAgICBDb21wb25lbnQucHJvdG90eXBlLm9uSG92ZXJDaGFuZ2VkRXZlbnQgPSBmdW5jdGlvbiAoaG92ZXJlZCkge1xyXG4gICAgICAgIHRoaXMuaG92ZXJlZCA9IGhvdmVyZWQ7XHJcbiAgICAgICAgdGhpcy5jb21wb25lbnRFdmVudHMub25Ib3ZlckNoYW5nZWQuZGlzcGF0Y2godGhpcywgeyBob3ZlcmVkOiBob3ZlcmVkIH0pO1xyXG4gICAgfTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb21wb25lbnQucHJvdG90eXBlLCBcIm9uU2hvd1wiLCB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogR2V0cyB0aGUgZXZlbnQgdGhhdCBpcyBmaXJlZCB3aGVuIHRoZSBjb21wb25lbnQgaXMgc2hvd2luZy5cclxuICAgICAgICAgKiBTZWUgdGhlIGRldGFpbGVkIGV4cGxhbmF0aW9uIG9uIGV2ZW50IGFyY2hpdGVjdHVyZSBvbiB0aGUge0BsaW5rICNjb21wb25lbnRFdmVudHMgZXZlbnRzIGxpc3R9LlxyXG4gICAgICAgICAqIEByZXR1cm5zIHtFdmVudDxDb21wb25lbnQ8Q29uZmlnPiwgTm9BcmdzPn1cclxuICAgICAgICAgKi9cclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29tcG9uZW50RXZlbnRzLm9uU2hvdy5nZXRFdmVudCgpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbXBvbmVudC5wcm90b3R5cGUsIFwib25IaWRlXCIsIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBHZXRzIHRoZSBldmVudCB0aGF0IGlzIGZpcmVkIHdoZW4gdGhlIGNvbXBvbmVudCBpcyBoaWRpbmcuXHJcbiAgICAgICAgICogU2VlIHRoZSBkZXRhaWxlZCBleHBsYW5hdGlvbiBvbiBldmVudCBhcmNoaXRlY3R1cmUgb24gdGhlIHtAbGluayAjY29tcG9uZW50RXZlbnRzIGV2ZW50cyBsaXN0fS5cclxuICAgICAgICAgKiBAcmV0dXJucyB7RXZlbnQ8Q29tcG9uZW50PENvbmZpZz4sIE5vQXJncz59XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbXBvbmVudEV2ZW50cy5vbkhpZGUuZ2V0RXZlbnQoKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb21wb25lbnQucHJvdG90eXBlLCBcIm9uSG92ZXJDaGFuZ2VkXCIsIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBHZXRzIHRoZSBldmVudCB0aGF0IGlzIGZpcmVkIHdoZW4gdGhlIGNvbXBvbmVudCdzIGhvdmVyLXN0YXRlIGlzIGNoYW5naW5nLlxyXG4gICAgICAgICAqIEByZXR1cm5zIHtFdmVudDxDb21wb25lbnQ8Q29uZmlnPiwgQ29tcG9uZW50SG92ZXJDaGFuZ2VkRXZlbnRBcmdzPn1cclxuICAgICAgICAgKi9cclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29tcG9uZW50RXZlbnRzLm9uSG92ZXJDaGFuZ2VkLmdldEV2ZW50KCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gQ29tcG9uZW50O1xyXG59KCkpO1xyXG4vKipcclxuICogVGhlIGNsYXNzbmFtZSB0aGF0IGlzIGF0dGFjaGVkIHRvIHRoZSBlbGVtZW50IHdoZW4gaXQgaXMgaW4gdGhlIGhpZGRlbiBzdGF0ZS5cclxuICogQHR5cGUge3N0cmluZ31cclxuICovXHJcbkNvbXBvbmVudC5DTEFTU19ISURERU4gPSAnaGlkZGVuJztcclxuZXhwb3J0cy5Db21wb25lbnQgPSBDb21wb25lbnQ7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9jb21wb25lbnQudHNcbi8vIG1vZHVsZSBpZCA9IDJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBhcnJheXV0aWxzXzEgPSByZXF1aXJlKFwiLi9hcnJheXV0aWxzXCIpO1xyXG4vKipcclxuICogRXZlbnQgZGlzcGF0Y2hlciB0byBzdWJzY3JpYmUgYW5kIHRyaWdnZXIgZXZlbnRzLiBFYWNoIGV2ZW50IHNob3VsZCBoYXZlIGl0cyBvd24gZGlzcGF0Y2hlci5cclxuICovXHJcbnZhciBFdmVudERpc3BhdGNoZXIgPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gRXZlbnREaXNwYXRjaGVyKCkge1xyXG4gICAgICAgIHRoaXMubGlzdGVuZXJzID0gW107XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIHtAaW5oZXJpdERvY31cclxuICAgICAqL1xyXG4gICAgRXZlbnREaXNwYXRjaGVyLnByb3RvdHlwZS5zdWJzY3JpYmUgPSBmdW5jdGlvbiAobGlzdGVuZXIpIHtcclxuICAgICAgICB0aGlzLmxpc3RlbmVycy5wdXNoKG5ldyBFdmVudExpc3RlbmVyV3JhcHBlcihsaXN0ZW5lcikpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICoge0Bpbmhlcml0RG9jfVxyXG4gICAgICovXHJcbiAgICBFdmVudERpc3BhdGNoZXIucHJvdG90eXBlLnN1YnNjcmliZU9uY2UgPSBmdW5jdGlvbiAobGlzdGVuZXIpIHtcclxuICAgICAgICB0aGlzLmxpc3RlbmVycy5wdXNoKG5ldyBFdmVudExpc3RlbmVyV3JhcHBlcihsaXN0ZW5lciwgdHJ1ZSkpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICoge0Bpbmhlcml0RG9jfVxyXG4gICAgICovXHJcbiAgICBFdmVudERpc3BhdGNoZXIucHJvdG90eXBlLnN1YnNjcmliZVJhdGVMaW1pdGVkID0gZnVuY3Rpb24gKGxpc3RlbmVyLCByYXRlTXMpIHtcclxuICAgICAgICB0aGlzLmxpc3RlbmVycy5wdXNoKG5ldyBSYXRlTGltaXRlZEV2ZW50TGlzdGVuZXJXcmFwcGVyKGxpc3RlbmVyLCByYXRlTXMpKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIHtAaW5oZXJpdERvY31cclxuICAgICAqL1xyXG4gICAgRXZlbnREaXNwYXRjaGVyLnByb3RvdHlwZS51bnN1YnNjcmliZSA9IGZ1bmN0aW9uIChsaXN0ZW5lcikge1xyXG4gICAgICAgIC8vIEl0ZXJhdGUgdGhyb3VnaCBsaXN0ZW5lcnMsIGNvbXBhcmUgd2l0aCBwYXJhbWV0ZXIsIGFuZCByZW1vdmUgaWYgZm91bmRcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGlzdGVuZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBzdWJzY3JpYmVkTGlzdGVuZXIgPSB0aGlzLmxpc3RlbmVyc1tpXTtcclxuICAgICAgICAgICAgaWYgKHN1YnNjcmliZWRMaXN0ZW5lci5saXN0ZW5lciA9PT0gbGlzdGVuZXIpIHtcclxuICAgICAgICAgICAgICAgIGFycmF5dXRpbHNfMS5BcnJheVV0aWxzLnJlbW92ZSh0aGlzLmxpc3RlbmVycywgc3Vic2NyaWJlZExpc3RlbmVyKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZXMgYWxsIGxpc3RlbmVycyBmcm9tIHRoaXMgZGlzcGF0Y2hlci5cclxuICAgICAqL1xyXG4gICAgRXZlbnREaXNwYXRjaGVyLnByb3RvdHlwZS51bnN1YnNjcmliZUFsbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLmxpc3RlbmVycyA9IFtdO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogRGlzcGF0Y2hlcyBhbiBldmVudCB0byBhbGwgc3Vic2NyaWJlZCBsaXN0ZW5lcnMuXHJcbiAgICAgKiBAcGFyYW0gc2VuZGVyIHRoZSBzb3VyY2Ugb2YgdGhlIGV2ZW50XHJcbiAgICAgKiBAcGFyYW0gYXJncyB0aGUgYXJndW1lbnRzIGZvciB0aGUgZXZlbnRcclxuICAgICAqL1xyXG4gICAgRXZlbnREaXNwYXRjaGVyLnByb3RvdHlwZS5kaXNwYXRjaCA9IGZ1bmN0aW9uIChzZW5kZXIsIGFyZ3MpIHtcclxuICAgICAgICBpZiAoYXJncyA9PT0gdm9pZCAwKSB7IGFyZ3MgPSBudWxsOyB9XHJcbiAgICAgICAgdmFyIGxpc3RlbmVyc1RvUmVtb3ZlID0gW107XHJcbiAgICAgICAgLy8gQ2FsbCBldmVyeSBsaXN0ZW5lclxyXG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSB0aGlzLmxpc3RlbmVyczsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgdmFyIGxpc3RlbmVyID0gX2FbX2ldO1xyXG4gICAgICAgICAgICBsaXN0ZW5lci5maXJlKHNlbmRlciwgYXJncyk7XHJcbiAgICAgICAgICAgIGlmIChsaXN0ZW5lci5pc09uY2UoKSkge1xyXG4gICAgICAgICAgICAgICAgbGlzdGVuZXJzVG9SZW1vdmUucHVzaChsaXN0ZW5lcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gUmVtb3ZlIG9uZS10aW1lIGxpc3RlbmVyXHJcbiAgICAgICAgZm9yICh2YXIgX2IgPSAwLCBsaXN0ZW5lcnNUb1JlbW92ZV8xID0gbGlzdGVuZXJzVG9SZW1vdmU7IF9iIDwgbGlzdGVuZXJzVG9SZW1vdmVfMS5sZW5ndGg7IF9iKyspIHtcclxuICAgICAgICAgICAgdmFyIGxpc3RlbmVyVG9SZW1vdmUgPSBsaXN0ZW5lcnNUb1JlbW92ZV8xW19iXTtcclxuICAgICAgICAgICAgYXJyYXl1dGlsc18xLkFycmF5VXRpbHMucmVtb3ZlKHRoaXMubGlzdGVuZXJzLCBsaXN0ZW5lclRvUmVtb3ZlKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRoZSBldmVudCB0aGF0IHRoaXMgZGlzcGF0Y2hlciBtYW5hZ2VzIGFuZCBvbiB3aGljaCBsaXN0ZW5lcnMgY2FuIHN1YnNjcmliZSBhbmQgdW5zdWJzY3JpYmUgZXZlbnQgaGFuZGxlcnMuXHJcbiAgICAgKiBAcmV0dXJucyB7RXZlbnR9XHJcbiAgICAgKi9cclxuICAgIEV2ZW50RGlzcGF0Y2hlci5wcm90b3R5cGUuZ2V0RXZlbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8gRm9yIG5vdywganVzdCBjYXN0IHRoZSBldmVudCBkaXNwYXRjaGVyIHRvIHRoZSBldmVudCBpbnRlcmZhY2UuIEF0IHNvbWUgcG9pbnQgaW4gdGhlIGZ1dHVyZSB3aGVuIHRoZVxyXG4gICAgICAgIC8vIGNvZGViYXNlIGdyb3dzLCBpdCBtaWdodCBtYWtlIHNlbnNlIHRvIHNwbGl0IHRoZSBkaXNwYXRjaGVyIGludG8gc2VwYXJhdGUgZGlzcGF0Y2hlciBhbmQgZXZlbnQgY2xhc3Nlcy5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICByZXR1cm4gRXZlbnREaXNwYXRjaGVyO1xyXG59KCkpO1xyXG5leHBvcnRzLkV2ZW50RGlzcGF0Y2hlciA9IEV2ZW50RGlzcGF0Y2hlcjtcclxuLyoqXHJcbiAqIEEgYmFzaWMgZXZlbnQgbGlzdGVuZXIgd3JhcHBlciB0byBtYW5hZ2UgbGlzdGVuZXJzIHdpdGhpbiB0aGUge0BsaW5rIEV2ZW50RGlzcGF0Y2hlcn0uIFRoaXMgaXMgYSAncHJpdmF0ZScgY2xhc3NcclxuICogZm9yIGludGVybmFsIGRpc3BhdGNoZXIgdXNlIGFuZCBpdCBpcyB0aGVyZWZvcmUgbm90IGV4cG9ydGVkLlxyXG4gKi9cclxudmFyIEV2ZW50TGlzdGVuZXJXcmFwcGVyID0gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIEV2ZW50TGlzdGVuZXJXcmFwcGVyKGxpc3RlbmVyLCBvbmNlKSB7XHJcbiAgICAgICAgaWYgKG9uY2UgPT09IHZvaWQgMCkgeyBvbmNlID0gZmFsc2U7IH1cclxuICAgICAgICB0aGlzLmV2ZW50TGlzdGVuZXIgPSBsaXN0ZW5lcjtcclxuICAgICAgICB0aGlzLm9uY2UgPSBvbmNlO1xyXG4gICAgfVxyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEV2ZW50TGlzdGVuZXJXcmFwcGVyLnByb3RvdHlwZSwgXCJsaXN0ZW5lclwiLCB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogUmV0dXJucyB0aGUgd3JhcHBlZCBldmVudCBsaXN0ZW5lci5cclxuICAgICAgICAgKiBAcmV0dXJucyB7RXZlbnRMaXN0ZW5lcjxTZW5kZXIsIEFyZ3M+fVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ldmVudExpc3RlbmVyO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgLyoqXHJcbiAgICAgKiBGaXJlcyB0aGUgd3JhcHBlZCBldmVudCBsaXN0ZW5lciB3aXRoIHRoZSBnaXZlbiBhcmd1bWVudHMuXHJcbiAgICAgKiBAcGFyYW0gc2VuZGVyXHJcbiAgICAgKiBAcGFyYW0gYXJnc1xyXG4gICAgICovXHJcbiAgICBFdmVudExpc3RlbmVyV3JhcHBlci5wcm90b3R5cGUuZmlyZSA9IGZ1bmN0aW9uIChzZW5kZXIsIGFyZ3MpIHtcclxuICAgICAgICB0aGlzLmV2ZW50TGlzdGVuZXIoc2VuZGVyLCBhcmdzKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIENoZWNrcyBpZiB0aGlzIGxpc3RlbmVyIGlzIHNjaGVkdWxlZCB0byBiZSBjYWxsZWQgb25seSBvbmNlLlxyXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IG9uY2UgaWYgdHJ1ZVxyXG4gICAgICovXHJcbiAgICBFdmVudExpc3RlbmVyV3JhcHBlci5wcm90b3R5cGUuaXNPbmNlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm9uY2U7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEV2ZW50TGlzdGVuZXJXcmFwcGVyO1xyXG59KCkpO1xyXG4vKipcclxuICogRXh0ZW5kcyB0aGUgYmFzaWMge0BsaW5rIEV2ZW50TGlzdGVuZXJXcmFwcGVyfSB3aXRoIHJhdGUtbGltaXRpbmcgZnVuY3Rpb25hbGl0eS5cclxuICovXHJcbnZhciBSYXRlTGltaXRlZEV2ZW50TGlzdGVuZXJXcmFwcGVyID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhSYXRlTGltaXRlZEV2ZW50TGlzdGVuZXJXcmFwcGVyLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gUmF0ZUxpbWl0ZWRFdmVudExpc3RlbmVyV3JhcHBlcihsaXN0ZW5lciwgcmF0ZU1zKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgbGlzdGVuZXIpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMucmF0ZU1zID0gcmF0ZU1zO1xyXG4gICAgICAgIF90aGlzLmxhc3RGaXJlVGltZSA9IDA7XHJcbiAgICAgICAgLy8gV3JhcCB0aGUgZXZlbnQgbGlzdGVuZXIgd2l0aCBhbiBldmVudCBsaXN0ZW5lciB0aGF0IGRvZXMgdGhlIHJhdGUtbGltaXRpbmdcclxuICAgICAgICBfdGhpcy5yYXRlTGltaXRpbmdFdmVudExpc3RlbmVyID0gZnVuY3Rpb24gKHNlbmRlciwgYXJncykge1xyXG4gICAgICAgICAgICBpZiAoRGF0ZS5ub3coKSAtIF90aGlzLmxhc3RGaXJlVGltZSA+IF90aGlzLnJhdGVNcykge1xyXG4gICAgICAgICAgICAgICAgLy8gT25seSBpZiBlbm91Z2ggdGltZSBzaW5jZSB0aGUgcHJldmlvdXMgY2FsbCBoYXMgcGFzc2VkLCBjYWxsIHRoZVxyXG4gICAgICAgICAgICAgICAgLy8gYWN0dWFsIGV2ZW50IGxpc3RlbmVyIGFuZCByZWNvcmQgdGhlIGN1cnJlbnQgdGltZVxyXG4gICAgICAgICAgICAgICAgX3RoaXMuZmlyZVN1cGVyKHNlbmRlciwgYXJncyk7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5sYXN0RmlyZVRpbWUgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBSYXRlTGltaXRlZEV2ZW50TGlzdGVuZXJXcmFwcGVyLnByb3RvdHlwZS5maXJlU3VwZXIgPSBmdW5jdGlvbiAoc2VuZGVyLCBhcmdzKSB7XHJcbiAgICAgICAgLy8gRmlyZSB0aGUgYWN0dWFsIGV4dGVybmFsIGV2ZW50IGxpc3RlbmVyXHJcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5maXJlLmNhbGwodGhpcywgc2VuZGVyLCBhcmdzKTtcclxuICAgIH07XHJcbiAgICBSYXRlTGltaXRlZEV2ZW50TGlzdGVuZXJXcmFwcGVyLnByb3RvdHlwZS5maXJlID0gZnVuY3Rpb24gKHNlbmRlciwgYXJncykge1xyXG4gICAgICAgIC8vIEZpcmUgdGhlIGludGVybmFsIHJhdGUtbGltaXRpbmcgbGlzdGVuZXIgaW5zdGVhZCBvZiB0aGUgZXh0ZXJuYWwgZXZlbnQgbGlzdGVuZXJcclxuICAgICAgICB0aGlzLnJhdGVMaW1pdGluZ0V2ZW50TGlzdGVuZXIoc2VuZGVyLCBhcmdzKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gUmF0ZUxpbWl0ZWRFdmVudExpc3RlbmVyV3JhcHBlcjtcclxufShFdmVudExpc3RlbmVyV3JhcHBlcikpO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL2V2ZW50ZGlzcGF0Y2hlci50c1xuLy8gbW9kdWxlIGlkID0gM1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgQXJyYXlVdGlscztcclxuKGZ1bmN0aW9uIChBcnJheVV0aWxzKSB7XHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZXMgYW4gaXRlbSBmcm9tIGFuIGFycmF5LlxyXG4gICAgICogQHBhcmFtIGFycmF5IHRoZSBhcnJheSB0aGF0IG1heSBjb250YWluIHRoZSBpdGVtIHRvIHJlbW92ZVxyXG4gICAgICogQHBhcmFtIGl0ZW0gdGhlIGl0ZW0gdG8gcmVtb3ZlIGZyb20gdGhlIGFycmF5XHJcbiAgICAgKiBAcmV0dXJucyB7YW55fSB0aGUgcmVtb3ZlZCBpdGVtIG9yIG51bGwgaWYgaXQgd2Fzbid0IHBhcnQgb2YgdGhlIGFycmF5XHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIHJlbW92ZShhcnJheSwgaXRlbSkge1xyXG4gICAgICAgIHZhciBpbmRleCA9IGFycmF5LmluZGV4T2YoaXRlbSk7XHJcbiAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGFycmF5LnNwbGljZShpbmRleCwgMSlbMF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBBcnJheVV0aWxzLnJlbW92ZSA9IHJlbW92ZTtcclxufSkoQXJyYXlVdGlscyA9IGV4cG9ydHMuQXJyYXlVdGlscyB8fCAoZXhwb3J0cy5BcnJheVV0aWxzID0ge30pKTtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9hcnJheXV0aWxzLnRzXG4vLyBtb2R1bGUgaWQgPSA0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBldmVudGRpc3BhdGNoZXJfMSA9IHJlcXVpcmUoXCIuL2V2ZW50ZGlzcGF0Y2hlclwiKTtcclxudmFyIGJyb3dzZXJ1dGlsc18xID0gcmVxdWlyZShcIi4vYnJvd3NlcnV0aWxzXCIpO1xyXG52YXIgUGxheWVyVXRpbHM7XHJcbihmdW5jdGlvbiAoUGxheWVyVXRpbHMpIHtcclxuICAgIHZhciBQbGF5ZXJTdGF0ZTtcclxuICAgIChmdW5jdGlvbiAoUGxheWVyU3RhdGUpIHtcclxuICAgICAgICBQbGF5ZXJTdGF0ZVtQbGF5ZXJTdGF0ZVtcIklETEVcIl0gPSAwXSA9IFwiSURMRVwiO1xyXG4gICAgICAgIFBsYXllclN0YXRlW1BsYXllclN0YXRlW1wiUFJFUEFSRURcIl0gPSAxXSA9IFwiUFJFUEFSRURcIjtcclxuICAgICAgICBQbGF5ZXJTdGF0ZVtQbGF5ZXJTdGF0ZVtcIlBMQVlJTkdcIl0gPSAyXSA9IFwiUExBWUlOR1wiO1xyXG4gICAgICAgIFBsYXllclN0YXRlW1BsYXllclN0YXRlW1wiUEFVU0VEXCJdID0gM10gPSBcIlBBVVNFRFwiO1xyXG4gICAgICAgIFBsYXllclN0YXRlW1BsYXllclN0YXRlW1wiRklOSVNIRURcIl0gPSA0XSA9IFwiRklOSVNIRURcIjtcclxuICAgIH0pKFBsYXllclN0YXRlID0gUGxheWVyVXRpbHMuUGxheWVyU3RhdGUgfHwgKFBsYXllclV0aWxzLlBsYXllclN0YXRlID0ge30pKTtcclxuICAgIGZ1bmN0aW9uIGlzU291cmNlTG9hZGVkKHBsYXllcikge1xyXG4gICAgICAgIHJldHVybiBwbGF5ZXIuZ2V0Q29uZmlnKCkuc291cmNlICE9PSB1bmRlZmluZWQ7XHJcbiAgICB9XHJcbiAgICBQbGF5ZXJVdGlscy5pc1NvdXJjZUxvYWRlZCA9IGlzU291cmNlTG9hZGVkO1xyXG4gICAgZnVuY3Rpb24gaXNUaW1lU2hpZnRBdmFpbGFibGUocGxheWVyKSB7XHJcbiAgICAgICAgcmV0dXJuIHBsYXllci5pc0xpdmUoKSAmJiBwbGF5ZXIuZ2V0TWF4VGltZVNoaWZ0KCkgIT09IDA7XHJcbiAgICB9XHJcbiAgICBQbGF5ZXJVdGlscy5pc1RpbWVTaGlmdEF2YWlsYWJsZSA9IGlzVGltZVNoaWZ0QXZhaWxhYmxlO1xyXG4gICAgZnVuY3Rpb24gZ2V0U3RhdGUocGxheWVyKSB7XHJcbiAgICAgICAgaWYgKHBsYXllci5oYXNFbmRlZCgpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBQbGF5ZXJTdGF0ZS5GSU5JU0hFRDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAocGxheWVyLmlzUGxheWluZygpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBQbGF5ZXJTdGF0ZS5QTEFZSU5HO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChwbGF5ZXIuaXNQYXVzZWQoKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gUGxheWVyU3RhdGUuUEFVU0VEO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChpc1NvdXJjZUxvYWRlZChwbGF5ZXIpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBQbGF5ZXJTdGF0ZS5QUkVQQVJFRDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBQbGF5ZXJTdGF0ZS5JRExFO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFBsYXllclV0aWxzLmdldFN0YXRlID0gZ2V0U3RhdGU7XHJcbiAgICB2YXIgVGltZVNoaWZ0QXZhaWxhYmlsaXR5RGV0ZWN0b3IgPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIFRpbWVTaGlmdEF2YWlsYWJpbGl0eURldGVjdG9yKHBsYXllcikge1xyXG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgICAgICB0aGlzLnRpbWVTaGlmdEF2YWlsYWJpbGl0eUNoYW5nZWRFdmVudCA9IG5ldyBldmVudGRpc3BhdGNoZXJfMS5FdmVudERpc3BhdGNoZXIoKTtcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXIgPSBwbGF5ZXI7XHJcbiAgICAgICAgICAgIHRoaXMudGltZVNoaWZ0QXZhaWxhYmxlID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB2YXIgdGltZVNoaWZ0RGV0ZWN0b3IgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5kZXRlY3QoKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgLy8gVHJ5IHRvIGRldGVjdCB0aW1lc2hpZnQgYXZhaWxhYmlsaXR5IGluIE9OX1JFQURZLCB3aGljaCB3b3JrcyBmb3IgREFTSCBzdHJlYW1zXHJcbiAgICAgICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1JFQURZLCB0aW1lU2hpZnREZXRlY3Rvcik7XHJcbiAgICAgICAgICAgIC8vIFdpdGggSExTL05hdGl2ZVBsYXllciBzdHJlYW1zLCBnZXRNYXhUaW1lU2hpZnQgY2FuIGJlIDAgYmVmb3JlIHRoZSBidWZmZXIgZmlsbHMsIHNvIHdlIG5lZWQgdG8gYWRkaXRpb25hbGx5XHJcbiAgICAgICAgICAgIC8vIGNoZWNrIHRpbWVzaGlmdCBhdmFpbGFiaWxpdHkgaW4gT05fVElNRV9DSEFOR0VEXHJcbiAgICAgICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1RJTUVfQ0hBTkdFRCwgdGltZVNoaWZ0RGV0ZWN0b3IpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBUaW1lU2hpZnRBdmFpbGFiaWxpdHlEZXRlY3Rvci5wcm90b3R5cGUuZGV0ZWN0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5wbGF5ZXIuaXNMaXZlKCkpIHtcclxuICAgICAgICAgICAgICAgIHZhciB0aW1lU2hpZnRBdmFpbGFibGVOb3cgPSBQbGF5ZXJVdGlscy5pc1RpbWVTaGlmdEF2YWlsYWJsZSh0aGlzLnBsYXllcik7XHJcbiAgICAgICAgICAgICAgICAvLyBXaGVuIHRoZSBhdmFpbGFiaWxpdHkgY2hhbmdlcywgd2UgZmlyZSB0aGUgZXZlbnRcclxuICAgICAgICAgICAgICAgIGlmICh0aW1lU2hpZnRBdmFpbGFibGVOb3cgIT09IHRoaXMudGltZVNoaWZ0QXZhaWxhYmxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50aW1lU2hpZnRBdmFpbGFiaWxpdHlDaGFuZ2VkRXZlbnQuZGlzcGF0Y2godGhpcy5wbGF5ZXIsIHsgdGltZVNoaWZ0QXZhaWxhYmxlOiB0aW1lU2hpZnRBdmFpbGFibGVOb3cgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50aW1lU2hpZnRBdmFpbGFibGUgPSB0aW1lU2hpZnRBdmFpbGFibGVOb3c7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUaW1lU2hpZnRBdmFpbGFiaWxpdHlEZXRlY3Rvci5wcm90b3R5cGUsIFwib25UaW1lU2hpZnRBdmFpbGFiaWxpdHlDaGFuZ2VkXCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy50aW1lU2hpZnRBdmFpbGFiaWxpdHlDaGFuZ2VkRXZlbnQuZ2V0RXZlbnQoKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIFRpbWVTaGlmdEF2YWlsYWJpbGl0eURldGVjdG9yO1xyXG4gICAgfSgpKTtcclxuICAgIFBsYXllclV0aWxzLlRpbWVTaGlmdEF2YWlsYWJpbGl0eURldGVjdG9yID0gVGltZVNoaWZ0QXZhaWxhYmlsaXR5RGV0ZWN0b3I7XHJcbiAgICAvKipcclxuICAgICAqIERldGVjdHMgY2hhbmdlcyBvZiB0aGUgc3RyZWFtIHR5cGUsIGkuZS4gY2hhbmdlcyBvZiB0aGUgcmV0dXJuIHZhbHVlIG9mIHRoZSBwbGF5ZXIjaXNMaXZlIG1ldGhvZC5cclxuICAgICAqIE5vcm1hbGx5LCBhIHN0cmVhbSBjYW5ub3QgY2hhbmdlIGl0cyB0eXBlIGR1cmluZyBwbGF5YmFjaywgaXQncyBlaXRoZXIgVk9EIG9yIGxpdmUuIER1ZSB0byBidWdzIG9uIHNvbWVcclxuICAgICAqIHBsYXRmb3JtcyBvciBicm93c2VycywgaXQgY2FuIHN0aWxsIGNoYW5nZS4gSXQgaXMgdGhlcmVmb3JlIHVucmVsaWFibGUgdG8ganVzdCBjaGVjayAjaXNMaXZlIGFuZCB0aGlzIGRldGVjdG9yXHJcbiAgICAgKiBzaG91bGQgYmUgdXNlZCBhcyBhIHdvcmthcm91bmQgaW5zdGVhZC5cclxuICAgICAqXHJcbiAgICAgKiBLbm93biBjYXNlczpcclxuICAgICAqXHJcbiAgICAgKiAtIEhMUyBWT0Qgb24gQW5kcm9pZCA0LjNcclxuICAgICAqIFZpZGVvIGR1cmF0aW9uIGlzIGluaXRpYWxseSAnSW5maW5pdHknIGFuZCBvbmx5IGdldHMgYXZhaWxhYmxlIGFmdGVyIHBsYXliYWNrIHN0YXJ0cywgc28gc3RyZWFtcyBhcmUgd3JvbmdseVxyXG4gICAgICogcmVwb3J0ZWQgYXMgJ2xpdmUnIGJlZm9yZSBwbGF5YmFjayAodGhlIGxpdmUtY2hlY2sgaW4gdGhlIHBsYXllciBjaGVja3MgZm9yIGluZmluaXRlIGR1cmF0aW9uKS5cclxuICAgICAqL1xyXG4gICAgdmFyIExpdmVTdHJlYW1EZXRlY3RvciA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gTGl2ZVN0cmVhbURldGVjdG9yKHBsYXllcikge1xyXG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgICAgICB0aGlzLmxpdmVDaGFuZ2VkRXZlbnQgPSBuZXcgZXZlbnRkaXNwYXRjaGVyXzEuRXZlbnREaXNwYXRjaGVyKCk7XHJcbiAgICAgICAgICAgIHRoaXMucGxheWVyID0gcGxheWVyO1xyXG4gICAgICAgICAgICB0aGlzLmxpdmUgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIHZhciBsaXZlRGV0ZWN0b3IgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5kZXRlY3QoKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgLy8gSW5pdGlhbGl6ZSB3aGVuIHBsYXllciBpcyByZWFkeVxyXG4gICAgICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9SRUFEWSwgbGl2ZURldGVjdG9yKTtcclxuICAgICAgICAgICAgLy8gUmUtZXZhbHVhdGUgd2hlbiBwbGF5YmFjayBzdGFydHNcclxuICAgICAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fUExBWSwgbGl2ZURldGVjdG9yKTtcclxuICAgICAgICAgICAgLy8gSExTIGxpdmUgZGV0ZWN0aW9uIHdvcmthcm91bmQgZm9yIEFuZHJvaWQ6XHJcbiAgICAgICAgICAgIC8vIEFsc28gcmUtZXZhbHVhdGUgZHVyaW5nIHBsYXliYWNrLCBiZWNhdXNlIHRoYXQgaXMgd2hlbiB0aGUgbGl2ZSBmbGFnIG1pZ2h0IGNoYW5nZS5cclxuICAgICAgICAgICAgLy8gKERvaW5nIGl0IG9ubHkgaW4gQW5kcm9pZCBDaHJvbWUgc2F2ZXMgdW5uZWNlc3Nhcnkgb3ZlcmhlYWQgb24gb3RoZXIgcGxhdHRmb3JtcylcclxuICAgICAgICAgICAgaWYgKGJyb3dzZXJ1dGlsc18xLkJyb3dzZXJVdGlscy5pc0FuZHJvaWQgJiYgYnJvd3NlcnV0aWxzXzEuQnJvd3NlclV0aWxzLmlzQ2hyb21lKSB7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9USU1FX0NIQU5HRUQsIGxpdmVEZXRlY3Rvcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgTGl2ZVN0cmVhbURldGVjdG9yLnByb3RvdHlwZS5kZXRlY3QgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBsaXZlTm93ID0gdGhpcy5wbGF5ZXIuaXNMaXZlKCk7XHJcbiAgICAgICAgICAgIC8vIENvbXBhcmUgY3VycmVudCB0byBwcmV2aW91cyBsaXZlIHN0YXRlIGZsYWcgYW5kIGZpcmUgZXZlbnQgd2hlbiBpdCBjaGFuZ2VzLiBTaW5jZSB3ZSBpbml0aWFsaXplIHRoZSBmbGFnXHJcbiAgICAgICAgICAgIC8vIHdpdGggdW5kZWZpbmVkLCB0aGVyZSBpcyBhbHdheXMgYXQgbGVhc3QgYW4gaW5pdGlhbCBldmVudCBmaXJlZCB0aGF0IHRlbGxzIGxpc3RlbmVycyB0aGUgbGl2ZSBzdGF0ZS5cclxuICAgICAgICAgICAgaWYgKGxpdmVOb3cgIT09IHRoaXMubGl2ZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5saXZlQ2hhbmdlZEV2ZW50LmRpc3BhdGNoKHRoaXMucGxheWVyLCB7IGxpdmU6IGxpdmVOb3cgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxpdmUgPSBsaXZlTm93O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTGl2ZVN0cmVhbURldGVjdG9yLnByb3RvdHlwZSwgXCJvbkxpdmVDaGFuZ2VkXCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5saXZlQ2hhbmdlZEV2ZW50LmdldEV2ZW50KCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBMaXZlU3RyZWFtRGV0ZWN0b3I7XHJcbiAgICB9KCkpO1xyXG4gICAgUGxheWVyVXRpbHMuTGl2ZVN0cmVhbURldGVjdG9yID0gTGl2ZVN0cmVhbURldGVjdG9yO1xyXG59KShQbGF5ZXJVdGlscyA9IGV4cG9ydHMuUGxheWVyVXRpbHMgfHwgKGV4cG9ydHMuUGxheWVyVXRpbHMgPSB7fSkpO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL3BsYXllcnV0aWxzLnRzXG4vLyBtb2R1bGUgaWQgPSA1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgY29tcG9uZW50XzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRcIik7XHJcbnZhciBkb21fMSA9IHJlcXVpcmUoXCIuLi9kb21cIik7XHJcbnZhciBldmVudGRpc3BhdGNoZXJfMSA9IHJlcXVpcmUoXCIuLi9ldmVudGRpc3BhdGNoZXJcIik7XHJcbi8qKlxyXG4gKiBBIHNpbXBsZSBjbGlja2FibGUgYnV0dG9uLlxyXG4gKi9cclxudmFyIEJ1dHRvbiA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoQnV0dG9uLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gQnV0dG9uKGNvbmZpZykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGNvbmZpZykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5idXR0b25FdmVudHMgPSB7XHJcbiAgICAgICAgICAgIG9uQ2xpY2s6IG5ldyBldmVudGRpc3BhdGNoZXJfMS5FdmVudERpc3BhdGNoZXIoKSxcclxuICAgICAgICB9O1xyXG4gICAgICAgIF90aGlzLmNvbmZpZyA9IF90aGlzLm1lcmdlQ29uZmlnKGNvbmZpZywge1xyXG4gICAgICAgICAgICBjc3NDbGFzczogJ3VpLWJ1dHRvbicsXHJcbiAgICAgICAgfSwgX3RoaXMuY29uZmlnKTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBCdXR0b24ucHJvdG90eXBlLnRvRG9tRWxlbWVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIC8vIENyZWF0ZSB0aGUgYnV0dG9uIGVsZW1lbnQgd2l0aCB0aGUgdGV4dCBsYWJlbFxyXG4gICAgICAgIHZhciBidXR0b25FbGVtZW50ID0gbmV3IGRvbV8xLkRPTSgnYnV0dG9uJywge1xyXG4gICAgICAgICAgICAndHlwZSc6ICdidXR0b24nLFxyXG4gICAgICAgICAgICAnaWQnOiB0aGlzLmNvbmZpZy5pZCxcclxuICAgICAgICAgICAgJ2NsYXNzJzogdGhpcy5nZXRDc3NDbGFzc2VzKCksXHJcbiAgICAgICAgfSkuYXBwZW5kKG5ldyBkb21fMS5ET00oJ3NwYW4nLCB7XHJcbiAgICAgICAgICAgICdjbGFzcyc6IHRoaXMucHJlZml4Q3NzKCdsYWJlbCcpLFxyXG4gICAgICAgIH0pLmh0bWwodGhpcy5jb25maWcudGV4dCkpO1xyXG4gICAgICAgIC8vIExpc3RlbiBmb3IgdGhlIGNsaWNrIGV2ZW50IG9uIHRoZSBidXR0b24gZWxlbWVudCBhbmQgdHJpZ2dlciB0aGUgY29ycmVzcG9uZGluZyBldmVudCBvbiB0aGUgYnV0dG9uIGNvbXBvbmVudFxyXG4gICAgICAgIGJ1dHRvbkVsZW1lbnQub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBfdGhpcy5vbkNsaWNrRXZlbnQoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gYnV0dG9uRWxlbWVudDtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFNldHMgdGV4dCBvbiB0aGUgbGFiZWwgb2YgdGhlIGJ1dHRvbi5cclxuICAgICAqIEBwYXJhbSB0ZXh0IHRoZSB0ZXh0IHRvIHB1dCBpbnRvIHRoZSBsYWJlbCBvZiB0aGUgYnV0dG9uXHJcbiAgICAgKi9cclxuICAgIEJ1dHRvbi5wcm90b3R5cGUuc2V0VGV4dCA9IGZ1bmN0aW9uICh0ZXh0KSB7XHJcbiAgICAgICAgdGhpcy5nZXREb21FbGVtZW50KCkuZmluZCgnLicgKyB0aGlzLnByZWZpeENzcygnbGFiZWwnKSkuaHRtbCh0ZXh0KTtcclxuICAgIH07XHJcbiAgICBCdXR0b24ucHJvdG90eXBlLm9uQ2xpY2tFdmVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLmJ1dHRvbkV2ZW50cy5vbkNsaWNrLmRpc3BhdGNoKHRoaXMpO1xyXG4gICAgfTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCdXR0b24ucHJvdG90eXBlLCBcIm9uQ2xpY2tcIiwge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEdldHMgdGhlIGV2ZW50IHRoYXQgaXMgZmlyZWQgd2hlbiB0aGUgYnV0dG9uIGlzIGNsaWNrZWQuXHJcbiAgICAgICAgICogQHJldHVybnMge0V2ZW50PEJ1dHRvbjxDb25maWc+LCBOb0FyZ3M+fVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5idXR0b25FdmVudHMub25DbGljay5nZXRFdmVudCgpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIEJ1dHRvbjtcclxufShjb21wb25lbnRfMS5Db21wb25lbnQpKTtcclxuZXhwb3J0cy5CdXR0b24gPSBCdXR0b247XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9idXR0b24udHNcbi8vIG1vZHVsZSBpZCA9IDZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBjb21wb25lbnRfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudFwiKTtcclxudmFyIGRvbV8xID0gcmVxdWlyZShcIi4uL2RvbVwiKTtcclxudmFyIGV2ZW50ZGlzcGF0Y2hlcl8xID0gcmVxdWlyZShcIi4uL2V2ZW50ZGlzcGF0Y2hlclwiKTtcclxuLyoqXHJcbiAqIEEgc2ltcGxlIHRleHQgbGFiZWwuXHJcbiAqXHJcbiAqIERPTSBleGFtcGxlOlxyXG4gKiA8Y29kZT5cclxuICogICAgIDxzcGFuIGNsYXNzPSd1aS1sYWJlbCc+Li4uc29tZSB0ZXh0Li4uPC9zcGFuPlxyXG4gKiA8L2NvZGU+XHJcbiAqL1xyXG52YXIgTGFiZWwgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKExhYmVsLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gTGFiZWwoY29uZmlnKSB7XHJcbiAgICAgICAgaWYgKGNvbmZpZyA9PT0gdm9pZCAwKSB7IGNvbmZpZyA9IHt9OyB9XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgY29uZmlnKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLmxhYmVsRXZlbnRzID0ge1xyXG4gICAgICAgICAgICBvbkNsaWNrOiBuZXcgZXZlbnRkaXNwYXRjaGVyXzEuRXZlbnREaXNwYXRjaGVyKCksXHJcbiAgICAgICAgICAgIG9uVGV4dENoYW5nZWQ6IG5ldyBldmVudGRpc3BhdGNoZXJfMS5FdmVudERpc3BhdGNoZXIoKSxcclxuICAgICAgICB9O1xyXG4gICAgICAgIF90aGlzLmNvbmZpZyA9IF90aGlzLm1lcmdlQ29uZmlnKGNvbmZpZywge1xyXG4gICAgICAgICAgICBjc3NDbGFzczogJ3VpLWxhYmVsJyxcclxuICAgICAgICB9LCBfdGhpcy5jb25maWcpO1xyXG4gICAgICAgIF90aGlzLnRleHQgPSBfdGhpcy5jb25maWcudGV4dDtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBMYWJlbC5wcm90b3R5cGUudG9Eb21FbGVtZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdmFyIGxhYmVsRWxlbWVudCA9IG5ldyBkb21fMS5ET00oJ3NwYW4nLCB7XHJcbiAgICAgICAgICAgICdpZCc6IHRoaXMuY29uZmlnLmlkLFxyXG4gICAgICAgICAgICAnY2xhc3MnOiB0aGlzLmdldENzc0NsYXNzZXMoKSxcclxuICAgICAgICB9KS5odG1sKHRoaXMudGV4dCk7XHJcbiAgICAgICAgbGFiZWxFbGVtZW50Lm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgX3RoaXMub25DbGlja0V2ZW50KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIGxhYmVsRWxlbWVudDtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFNldCB0aGUgdGV4dCBvbiB0aGlzIGxhYmVsLlxyXG4gICAgICogQHBhcmFtIHRleHRcclxuICAgICAqL1xyXG4gICAgTGFiZWwucHJvdG90eXBlLnNldFRleHQgPSBmdW5jdGlvbiAodGV4dCkge1xyXG4gICAgICAgIHRoaXMudGV4dCA9IHRleHQ7XHJcbiAgICAgICAgdGhpcy5nZXREb21FbGVtZW50KCkuaHRtbCh0ZXh0KTtcclxuICAgICAgICB0aGlzLm9uVGV4dENoYW5nZWRFdmVudCh0ZXh0KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEdldHMgdGhlIHRleHQgb24gdGhpcyBsYWJlbC5cclxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIHRleHQgb24gdGhlIGxhYmVsXHJcbiAgICAgKi9cclxuICAgIExhYmVsLnByb3RvdHlwZS5nZXRUZXh0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnRleHQ7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBDbGVhcnMgdGhlIHRleHQgb24gdGhpcyBsYWJlbC5cclxuICAgICAqL1xyXG4gICAgTGFiZWwucHJvdG90eXBlLmNsZWFyVGV4dCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLmdldERvbUVsZW1lbnQoKS5odG1sKCcnKTtcclxuICAgICAgICB0aGlzLm9uVGV4dENoYW5nZWRFdmVudChudWxsKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFRlc3RzIGlmIHRoZSBsYWJlbCBpcyBlbXB0eSBhbmQgZG9lcyBub3QgY29udGFpbiBhbnkgdGV4dC5cclxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIGxhYmVsIGlzIGVtcHR5LCBlbHNlIGZhbHNlXHJcbiAgICAgKi9cclxuICAgIExhYmVsLnByb3RvdHlwZS5pc0VtcHR5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiAhdGhpcy50ZXh0O1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogRmlyZXMgdGhlIHtAbGluayAjb25DbGlja30gZXZlbnQuXHJcbiAgICAgKiBDYW4gYmUgdXNlZCBieSBzdWJjbGFzc2VzIHRvIGxpc3RlbiB0byB0aGlzIGV2ZW50IHdpdGhvdXQgc3Vic2NyaWJpbmcgYW4gZXZlbnQgbGlzdGVuZXIgYnkgb3ZlcndyaXRpbmcgdGhlIG1ldGhvZFxyXG4gICAgICogYW5kIGNhbGxpbmcgdGhlIHN1cGVyIG1ldGhvZC5cclxuICAgICAqL1xyXG4gICAgTGFiZWwucHJvdG90eXBlLm9uQ2xpY2tFdmVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLmxhYmVsRXZlbnRzLm9uQ2xpY2suZGlzcGF0Y2godGhpcyk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBGaXJlcyB0aGUge0BsaW5rICNvbkNsaWNrfSBldmVudC5cclxuICAgICAqIENhbiBiZSB1c2VkIGJ5IHN1YmNsYXNzZXMgdG8gbGlzdGVuIHRvIHRoaXMgZXZlbnQgd2l0aG91dCBzdWJzY3JpYmluZyBhbiBldmVudCBsaXN0ZW5lciBieSBvdmVyd3JpdGluZyB0aGUgbWV0aG9kXHJcbiAgICAgKiBhbmQgY2FsbGluZyB0aGUgc3VwZXIgbWV0aG9kLlxyXG4gICAgICovXHJcbiAgICBMYWJlbC5wcm90b3R5cGUub25UZXh0Q2hhbmdlZEV2ZW50ID0gZnVuY3Rpb24gKHRleHQpIHtcclxuICAgICAgICB0aGlzLmxhYmVsRXZlbnRzLm9uVGV4dENoYW5nZWQuZGlzcGF0Y2godGhpcywgdGV4dCk7XHJcbiAgICB9O1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KExhYmVsLnByb3RvdHlwZSwgXCJvbkNsaWNrXCIsIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBHZXRzIHRoZSBldmVudCB0aGF0IGlzIGZpcmVkIHdoZW4gdGhlIGxhYmVsIGlzIGNsaWNrZWQuXHJcbiAgICAgICAgICogQHJldHVybnMge0V2ZW50PExhYmVsPExhYmVsQ29uZmlnPiwgTm9BcmdzPn1cclxuICAgICAgICAgKi9cclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGFiZWxFdmVudHMub25DbGljay5nZXRFdmVudCgpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KExhYmVsLnByb3RvdHlwZSwgXCJvblRleHRDaGFuZ2VkXCIsIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBHZXRzIHRoZSBldmVudCB0aGF0IGlzIGZpcmVkIHdoZW4gdGhlIHRleHQgb24gdGhlIGxhYmVsIGlzIGNoYW5nZWQuXHJcbiAgICAgICAgICogQHJldHVybnMge0V2ZW50PExhYmVsPExhYmVsQ29uZmlnPiwgc3RyaW5nPn1cclxuICAgICAgICAgKi9cclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGFiZWxFdmVudHMub25UZXh0Q2hhbmdlZC5nZXRFdmVudCgpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIExhYmVsO1xyXG59KGNvbXBvbmVudF8xLkNvbXBvbmVudCkpO1xyXG5leHBvcnRzLkxhYmVsID0gTGFiZWw7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9sYWJlbC50c1xuLy8gbW9kdWxlIGlkID0gN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGJ1dHRvbl8xID0gcmVxdWlyZShcIi4vYnV0dG9uXCIpO1xyXG52YXIgZXZlbnRkaXNwYXRjaGVyXzEgPSByZXF1aXJlKFwiLi4vZXZlbnRkaXNwYXRjaGVyXCIpO1xyXG4vKipcclxuICogQSBidXR0b24gdGhhdCBjYW4gYmUgdG9nZ2xlZCBiZXR3ZWVuICdvbicgYW5kICdvZmYnIHN0YXRlcy5cclxuICovXHJcbnZhciBUb2dnbGVCdXR0b24gPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKFRvZ2dsZUJ1dHRvbiwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIFRvZ2dsZUJ1dHRvbihjb25maWcpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBjb25maWcpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMudG9nZ2xlQnV0dG9uRXZlbnRzID0ge1xyXG4gICAgICAgICAgICBvblRvZ2dsZTogbmV3IGV2ZW50ZGlzcGF0Y2hlcl8xLkV2ZW50RGlzcGF0Y2hlcigpLFxyXG4gICAgICAgICAgICBvblRvZ2dsZU9uOiBuZXcgZXZlbnRkaXNwYXRjaGVyXzEuRXZlbnREaXNwYXRjaGVyKCksXHJcbiAgICAgICAgICAgIG9uVG9nZ2xlT2ZmOiBuZXcgZXZlbnRkaXNwYXRjaGVyXzEuRXZlbnREaXNwYXRjaGVyKCksXHJcbiAgICAgICAgfTtcclxuICAgICAgICBfdGhpcy5jb25maWcgPSBfdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIHtcclxuICAgICAgICAgICAgY3NzQ2xhc3M6ICd1aS10b2dnbGVidXR0b24nLFxyXG4gICAgICAgIH0sIF90aGlzLmNvbmZpZyk7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBUb2dnbGVzIHRoZSBidXR0b24gdG8gdGhlICdvbicgc3RhdGUuXHJcbiAgICAgKi9cclxuICAgIFRvZ2dsZUJ1dHRvbi5wcm90b3R5cGUub24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNPZmYoKSkge1xyXG4gICAgICAgICAgICB0aGlzLm9uU3RhdGUgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLmdldERvbUVsZW1lbnQoKS5yZW1vdmVDbGFzcyh0aGlzLnByZWZpeENzcyhUb2dnbGVCdXR0b24uQ0xBU1NfT0ZGKSk7XHJcbiAgICAgICAgICAgIHRoaXMuZ2V0RG9tRWxlbWVudCgpLmFkZENsYXNzKHRoaXMucHJlZml4Q3NzKFRvZ2dsZUJ1dHRvbi5DTEFTU19PTikpO1xyXG4gICAgICAgICAgICB0aGlzLm9uVG9nZ2xlRXZlbnQoKTtcclxuICAgICAgICAgICAgdGhpcy5vblRvZ2dsZU9uRXZlbnQoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBUb2dnbGVzIHRoZSBidXR0b24gdG8gdGhlICdvZmYnIHN0YXRlLlxyXG4gICAgICovXHJcbiAgICBUb2dnbGVCdXR0b24ucHJvdG90eXBlLm9mZiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodGhpcy5pc09uKCkpIHtcclxuICAgICAgICAgICAgdGhpcy5vblN0YXRlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuZ2V0RG9tRWxlbWVudCgpLnJlbW92ZUNsYXNzKHRoaXMucHJlZml4Q3NzKFRvZ2dsZUJ1dHRvbi5DTEFTU19PTikpO1xyXG4gICAgICAgICAgICB0aGlzLmdldERvbUVsZW1lbnQoKS5hZGRDbGFzcyh0aGlzLnByZWZpeENzcyhUb2dnbGVCdXR0b24uQ0xBU1NfT0ZGKSk7XHJcbiAgICAgICAgICAgIHRoaXMub25Ub2dnbGVFdmVudCgpO1xyXG4gICAgICAgICAgICB0aGlzLm9uVG9nZ2xlT2ZmRXZlbnQoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBUb2dnbGUgdGhlIGJ1dHRvbiAnb24nIGlmIGl0IGlzICdvZmYnLCBvciAnb2ZmJyBpZiBpdCBpcyAnb24nLlxyXG4gICAgICovXHJcbiAgICBUb2dnbGVCdXR0b24ucHJvdG90eXBlLnRvZ2dsZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodGhpcy5pc09uKCkpIHtcclxuICAgICAgICAgICAgdGhpcy5vZmYoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMub24oKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVja3MgaWYgdGhlIHRvZ2dsZSBidXR0b24gaXMgaW4gdGhlICdvbicgc3RhdGUuXHJcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpZiBidXR0b24gaXMgJ29uJywgZmFsc2UgaWYgJ29mZidcclxuICAgICAqL1xyXG4gICAgVG9nZ2xlQnV0dG9uLnByb3RvdHlwZS5pc09uID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm9uU3RhdGU7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVja3MgaWYgdGhlIHRvZ2dsZSBidXR0b24gaXMgaW4gdGhlICdvZmYnIHN0YXRlLlxyXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IHRydWUgaWYgYnV0dG9uIGlzICdvZmYnLCBmYWxzZSBpZiAnb24nXHJcbiAgICAgKi9cclxuICAgIFRvZ2dsZUJ1dHRvbi5wcm90b3R5cGUuaXNPZmYgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuICF0aGlzLmlzT24oKTtcclxuICAgIH07XHJcbiAgICBUb2dnbGVCdXR0b24ucHJvdG90eXBlLm9uQ2xpY2tFdmVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLm9uQ2xpY2tFdmVudC5jYWxsKHRoaXMpO1xyXG4gICAgICAgIC8vIEZpcmUgdGhlIHRvZ2dsZSBldmVudCB0b2dldGhlciB3aXRoIHRoZSBjbGljayBldmVudFxyXG4gICAgICAgIC8vICh0aGV5IGFyZSB0ZWNobmljYWxseSB0aGUgc2FtZSwgb25seSB0aGUgc2VtYW50aWNzIGFyZSBkaWZmZXJlbnQpXHJcbiAgICAgICAgdGhpcy5vblRvZ2dsZUV2ZW50KCk7XHJcbiAgICB9O1xyXG4gICAgVG9nZ2xlQnV0dG9uLnByb3RvdHlwZS5vblRvZ2dsZUV2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMudG9nZ2xlQnV0dG9uRXZlbnRzLm9uVG9nZ2xlLmRpc3BhdGNoKHRoaXMpO1xyXG4gICAgfTtcclxuICAgIFRvZ2dsZUJ1dHRvbi5wcm90b3R5cGUub25Ub2dnbGVPbkV2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMudG9nZ2xlQnV0dG9uRXZlbnRzLm9uVG9nZ2xlT24uZGlzcGF0Y2godGhpcyk7XHJcbiAgICB9O1xyXG4gICAgVG9nZ2xlQnV0dG9uLnByb3RvdHlwZS5vblRvZ2dsZU9mZkV2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMudG9nZ2xlQnV0dG9uRXZlbnRzLm9uVG9nZ2xlT2ZmLmRpc3BhdGNoKHRoaXMpO1xyXG4gICAgfTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUb2dnbGVCdXR0b24ucHJvdG90eXBlLCBcIm9uVG9nZ2xlXCIsIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBHZXRzIHRoZSBldmVudCB0aGF0IGlzIGZpcmVkIHdoZW4gdGhlIGJ1dHRvbiBpcyB0b2dnbGVkLlxyXG4gICAgICAgICAqIEByZXR1cm5zIHtFdmVudDxUb2dnbGVCdXR0b248Q29uZmlnPiwgTm9BcmdzPn1cclxuICAgICAgICAgKi9cclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudG9nZ2xlQnV0dG9uRXZlbnRzLm9uVG9nZ2xlLmdldEV2ZW50KCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVG9nZ2xlQnV0dG9uLnByb3RvdHlwZSwgXCJvblRvZ2dsZU9uXCIsIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBHZXRzIHRoZSBldmVudCB0aGF0IGlzIGZpcmVkIHdoZW4gdGhlIGJ1dHRvbiBpcyB0b2dnbGVkICdvbicuXHJcbiAgICAgICAgICogQHJldHVybnMge0V2ZW50PFRvZ2dsZUJ1dHRvbjxDb25maWc+LCBOb0FyZ3M+fVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy50b2dnbGVCdXR0b25FdmVudHMub25Ub2dnbGVPbi5nZXRFdmVudCgpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRvZ2dsZUJ1dHRvbi5wcm90b3R5cGUsIFwib25Ub2dnbGVPZmZcIiwge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEdldHMgdGhlIGV2ZW50IHRoYXQgaXMgZmlyZWQgd2hlbiB0aGUgYnV0dG9uIGlzIHRvZ2dsZWQgJ29mZicuXHJcbiAgICAgICAgICogQHJldHVybnMge0V2ZW50PFRvZ2dsZUJ1dHRvbjxDb25maWc+LCBOb0FyZ3M+fVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy50b2dnbGVCdXR0b25FdmVudHMub25Ub2dnbGVPZmYuZ2V0RXZlbnQoKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIHJldHVybiBUb2dnbGVCdXR0b247XHJcbn0oYnV0dG9uXzEuQnV0dG9uKSk7XHJcblRvZ2dsZUJ1dHRvbi5DTEFTU19PTiA9ICdvbic7XHJcblRvZ2dsZUJ1dHRvbi5DTEFTU19PRkYgPSAnb2ZmJztcclxuZXhwb3J0cy5Ub2dnbGVCdXR0b24gPSBUb2dnbGVCdXR0b247XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy90b2dnbGVidXR0b24udHNcbi8vIG1vZHVsZSBpZCA9IDhcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSBhbmd1bGFyO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIFwiYW5ndWxhclwiXG4vLyBtb2R1bGUgaWQgPSA5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbi8vIFRPRE8gY2hhbmdlIHRvIGludGVybmFsIChub3QgZXhwb3J0ZWQpIGNsYXNzLCBob3cgdG8gdXNlIGluIG90aGVyIGZpbGVzP1xyXG4vKipcclxuICogRXhlY3V0ZXMgYSBjYWxsYmFjayBhZnRlciBhIHNwZWNpZmllZCBhbW91bnQgb2YgdGltZSwgb3B0aW9uYWxseSByZXBlYXRlZGx5IHVudGlsIHN0b3BwZWQuXHJcbiAqL1xyXG52YXIgVGltZW91dCA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgYSBuZXcgdGltZW91dCBjYWxsYmFjayBoYW5kbGVyLlxyXG4gICAgICogQHBhcmFtIGRlbGF5IHRoZSBkZWxheSBpbiBtaWxsaXNlY29uZHMgYWZ0ZXIgd2hpY2ggdGhlIGNhbGxiYWNrIHNob3VsZCBiZSBleGVjdXRlZFxyXG4gICAgICogQHBhcmFtIGNhbGxiYWNrIHRoZSBjYWxsYmFjayB0byBleGVjdXRlIGFmdGVyIHRoZSBkZWxheSB0aW1lXHJcbiAgICAgKiBAcGFyYW0gcmVwZWF0IGlmIHRydWUsIGNhbGwgdGhlIGNhbGxiYWNrIHJlcGVhdGVkbHkgaW4gZGVsYXkgaW50ZXJ2YWxzXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIFRpbWVvdXQoZGVsYXksIGNhbGxiYWNrLCByZXBlYXQpIHtcclxuICAgICAgICBpZiAocmVwZWF0ID09PSB2b2lkIDApIHsgcmVwZWF0ID0gZmFsc2U7IH1cclxuICAgICAgICB0aGlzLmRlbGF5ID0gZGVsYXk7XHJcbiAgICAgICAgdGhpcy5jYWxsYmFjayA9IGNhbGxiYWNrO1xyXG4gICAgICAgIHRoaXMucmVwZWF0ID0gcmVwZWF0O1xyXG4gICAgICAgIHRoaXMudGltZW91dEhhbmRsZSA9IDA7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFN0YXJ0cyB0aGUgdGltZW91dCBhbmQgY2FsbHMgdGhlIGNhbGxiYWNrIHdoZW4gdGhlIHRpbWVvdXQgZGVsYXkgaGFzIHBhc3NlZC5cclxuICAgICAqIEByZXR1cm5zIHtUaW1lb3V0fSB0aGUgY3VycmVudCB0aW1lb3V0IChzbyB0aGUgc3RhcnQgY2FsbCBjYW4gYmUgY2hhaW5lZCB0byB0aGUgY29uc3RydWN0b3IpXHJcbiAgICAgKi9cclxuICAgIFRpbWVvdXQucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMucmVzZXQoKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIENsZWFycyB0aGUgdGltZW91dC4gVGhlIGNhbGxiYWNrIHdpbGwgbm90IGJlIGNhbGxlZCBpZiBjbGVhciBpcyBjYWxsZWQgZHVyaW5nIHRoZSB0aW1lb3V0LlxyXG4gICAgICovXHJcbiAgICBUaW1lb3V0LnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0SGFuZGxlKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJlc2V0cyB0aGUgcGFzc2VkIHRpbWVvdXQgZGVsYXkgdG8gemVyby4gQ2FuIGJlIHVzZWQgdG8gZGVmZXIgdGhlIGNhbGxpbmcgb2YgdGhlIGNhbGxiYWNrLlxyXG4gICAgICovXHJcbiAgICBUaW1lb3V0LnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHZhciBsYXN0U2NoZWR1bGVUaW1lID0gMDtcclxuICAgICAgICB2YXIgZGVsYXlBZGp1c3QgPSAwO1xyXG4gICAgICAgIHRoaXMuY2xlYXIoKTtcclxuICAgICAgICB2YXIgaW50ZXJuYWxDYWxsYmFjayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgX3RoaXMuY2FsbGJhY2soKTtcclxuICAgICAgICAgICAgaWYgKF90aGlzLnJlcGVhdCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG5vdyA9IERhdGUubm93KCk7XHJcbiAgICAgICAgICAgICAgICAvLyBUaGUgdGltZSBvZiBvbmUgaXRlcmF0aW9uIGZyb20gc2NoZWR1bGluZyB0byBleGVjdXRpbmcgdGhlIGNhbGxiYWNrICh1c3VhbGx5IGEgYml0IGxvbmdlciB0aGFuIHRoZSBkZWxheVxyXG4gICAgICAgICAgICAgICAgLy8gdGltZSlcclxuICAgICAgICAgICAgICAgIHZhciBkZWx0YSA9IG5vdyAtIGxhc3RTY2hlZHVsZVRpbWU7XHJcbiAgICAgICAgICAgICAgICAvLyBDYWxjdWxhdGUgdGhlIGRlbGF5IGFkanVzdG1lbnQgZm9yIHRoZSBuZXh0IHNjaGVkdWxlIHRvIGtlZXAgYSBzdGVhZHkgZGVsYXkgaW50ZXJ2YWwgb3ZlciB0aW1lXHJcbiAgICAgICAgICAgICAgICBkZWxheUFkanVzdCA9IF90aGlzLmRlbGF5IC0gZGVsdGEgKyBkZWxheUFkanVzdDtcclxuICAgICAgICAgICAgICAgIGxhc3RTY2hlZHVsZVRpbWUgPSBub3c7XHJcbiAgICAgICAgICAgICAgICAvLyBTY2hlZHVsZSBuZXh0IGV4ZWN1dGlvbiBieSB0aGUgYWRqdXN0ZWQgZGVsYXlcclxuICAgICAgICAgICAgICAgIF90aGlzLnRpbWVvdXRIYW5kbGUgPSB3aW5kb3cuc2V0VGltZW91dChpbnRlcm5hbENhbGxiYWNrLCBfdGhpcy5kZWxheSArIGRlbGF5QWRqdXN0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgbGFzdFNjaGVkdWxlVGltZSA9IERhdGUubm93KCk7XHJcbiAgICAgICAgdGhpcy50aW1lb3V0SGFuZGxlID0gd2luZG93LnNldFRpbWVvdXQoaW50ZXJuYWxDYWxsYmFjaywgdGhpcy5kZWxheSk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFRpbWVvdXQ7XHJcbn0oKSk7XHJcbmV4cG9ydHMuVGltZW91dCA9IFRpbWVvdXQ7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvdGltZW91dC50c1xuLy8gbW9kdWxlIGlkID0gMTBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIEJyb3dzZXJVdGlscztcclxuKGZ1bmN0aW9uIChCcm93c2VyVXRpbHMpIHtcclxuICAgIC8vIGlzTW9iaWxlIG9ubHkgbmVlZHMgdG8gYmUgZXZhbHVhdGVkIG9uY2UgKGl0IGNhbm5vdCBjaGFuZ2UgZHVyaW5nIGEgYnJvd3NlciBzZXNzaW9uKVxyXG4gICAgLy8gTW9iaWxlIGRldGVjdGlvbiBhY2NvcmRpbmcgdG8gTW96aWxsYSByZWNvbW1lbmRhdGlvbjogXCJJbiBzdW1tYXJ5LCB3ZSByZWNvbW1lbmQgbG9va2luZyBmb3IgdGhlIHN0cmluZyDigJxNb2Jp4oCdXHJcbiAgICAvLyBhbnl3aGVyZSBpbiB0aGUgVXNlciBBZ2VudCB0byBkZXRlY3QgYSBtb2JpbGUgZGV2aWNlLlwiXHJcbiAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9IVFRQL0Jyb3dzZXJfZGV0ZWN0aW9uX3VzaW5nX3RoZV91c2VyX2FnZW50XHJcbiAgICBCcm93c2VyVXRpbHMuaXNNb2JpbGUgPSBuYXZpZ2F0b3IgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudCAmJiAvTW9iaS8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcclxuICAgIEJyb3dzZXJVdGlscy5pc0Nocm9tZSA9IG5hdmlnYXRvciAmJiBuYXZpZ2F0b3IudXNlckFnZW50ICYmIC9DaHJvbWUvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XHJcbiAgICBCcm93c2VyVXRpbHMuaXNBbmRyb2lkID0gbmF2aWdhdG9yICYmIG5hdmlnYXRvci51c2VyQWdlbnQgJiYgL0FuZHJvaWQvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XHJcbn0pKEJyb3dzZXJVdGlscyA9IGV4cG9ydHMuQnJvd3NlclV0aWxzIHx8IChleHBvcnRzLkJyb3dzZXJVdGlscyA9IHt9KSk7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvYnJvd3NlcnV0aWxzLnRzXG4vLyBtb2R1bGUgaWQgPSAxMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIHRvZ2dsZWJ1dHRvbl8xID0gcmVxdWlyZShcIi4vdG9nZ2xlYnV0dG9uXCIpO1xyXG52YXIgcGxheWVydXRpbHNfMSA9IHJlcXVpcmUoXCIuLi9wbGF5ZXJ1dGlsc1wiKTtcclxuLyoqXHJcbiAqIEEgYnV0dG9uIHRoYXQgdG9nZ2xlcyBiZXR3ZWVuIHBsYXliYWNrIGFuZCBwYXVzZS5cclxuICovXHJcbnZhciBQbGF5YmFja1RvZ2dsZUJ1dHRvbiA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoUGxheWJhY2tUb2dnbGVCdXR0b24sIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBQbGF5YmFja1RvZ2dsZUJ1dHRvbihjb25maWcpIHtcclxuICAgICAgICBpZiAoY29uZmlnID09PSB2b2lkIDApIHsgY29uZmlnID0ge307IH1cclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBjb25maWcpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMuY29uZmlnID0gX3RoaXMubWVyZ2VDb25maWcoY29uZmlnLCB7XHJcbiAgICAgICAgICAgIGNzc0NsYXNzOiAndWktcGxheWJhY2t0b2dnbGVidXR0b24nLFxyXG4gICAgICAgICAgICB0ZXh0OiAnUGxheS9QYXVzZScsXHJcbiAgICAgICAgfSwgX3RoaXMuY29uZmlnKTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBQbGF5YmFja1RvZ2dsZUJ1dHRvbi5wcm90b3R5cGUuY29uZmlndXJlID0gZnVuY3Rpb24gKHBsYXllciwgdWltYW5hZ2VyLCBoYW5kbGVDbGlja0V2ZW50KSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBpZiAoaGFuZGxlQ2xpY2tFdmVudCA9PT0gdm9pZCAwKSB7IGhhbmRsZUNsaWNrRXZlbnQgPSB0cnVlOyB9XHJcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5jb25maWd1cmUuY2FsbCh0aGlzLCBwbGF5ZXIsIHVpbWFuYWdlcik7XHJcbiAgICAgICAgdmFyIGlzU2Vla2luZyA9IGZhbHNlO1xyXG4gICAgICAgIC8vIEhhbmRsZXIgdG8gdXBkYXRlIGJ1dHRvbiBzdGF0ZSBiYXNlZCBvbiBwbGF5ZXIgc3RhdGVcclxuICAgICAgICB2YXIgcGxheWJhY2tTdGF0ZUhhbmRsZXIgPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgLy8gSWYgdGhlIFVJIGlzIGN1cnJlbnRseSBzZWVraW5nLCBwbGF5YmFjayBpcyB0ZW1wb3JhcmlseSBzdG9wcGVkIGJ1dCB0aGUgYnV0dG9ucyBzaG91bGRcclxuICAgICAgICAgICAgLy8gbm90IHJlZmxlY3QgdGhhdCBhbmQgc3RheSBhcy1pcyAoZS5nIGluZGljYXRlIHBsYXliYWNrIHdoaWxlIHNlZWtpbmcpLlxyXG4gICAgICAgICAgICBpZiAoaXNTZWVraW5nKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHBsYXllci5pc1BsYXlpbmcoKSkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMub24oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLm9mZigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICAvLyBDYWxsIGhhbmRsZXIgdXBvbiB0aGVzZSBldmVudHNcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9QTEFZLCBwbGF5YmFja1N0YXRlSGFuZGxlcik7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fUEFVU0VELCBwbGF5YmFja1N0YXRlSGFuZGxlcik7XHJcbiAgICAgICAgLy8gd2hlbiBwbGF5YmFjayBmaW5pc2hlcywgcGxheWVyIHR1cm5zIHRvIHBhdXNlZCBtb2RlXHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fUExBWUJBQ0tfRklOSVNIRUQsIHBsYXliYWNrU3RhdGVIYW5kbGVyKTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9DQVNUX1NUQVJURUQsIHBsYXliYWNrU3RhdGVIYW5kbGVyKTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9DQVNUX1BMQVlJTkcsIHBsYXliYWNrU3RhdGVIYW5kbGVyKTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9DQVNUX1BBVVNFRCwgcGxheWJhY2tTdGF0ZUhhbmRsZXIpO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX0NBU1RfUExBWUJBQ0tfRklOSVNIRUQsIHBsYXliYWNrU3RhdGVIYW5kbGVyKTtcclxuICAgICAgICAvLyBEZXRlY3QgYWJzZW5jZSBvZiB0aW1lc2hpZnRpbmcgb24gbGl2ZSBzdHJlYW1zIGFuZCBhZGQgdGFnZ2luZyBjbGFzcyB0byBjb252ZXJ0IGJ1dHRvbiBpY29ucyB0byBwbGF5L3N0b3BcclxuICAgICAgICB2YXIgdGltZVNoaWZ0RGV0ZWN0b3IgPSBuZXcgcGxheWVydXRpbHNfMS5QbGF5ZXJVdGlscy5UaW1lU2hpZnRBdmFpbGFiaWxpdHlEZXRlY3RvcihwbGF5ZXIpO1xyXG4gICAgICAgIHRpbWVTaGlmdERldGVjdG9yLm9uVGltZVNoaWZ0QXZhaWxhYmlsaXR5Q2hhbmdlZC5zdWJzY3JpYmUoZnVuY3Rpb24gKHNlbmRlciwgYXJncykge1xyXG4gICAgICAgICAgICBpZiAoIWFyZ3MudGltZVNoaWZ0QXZhaWxhYmxlKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5nZXREb21FbGVtZW50KCkuYWRkQ2xhc3MoX3RoaXMucHJlZml4Q3NzKFBsYXliYWNrVG9nZ2xlQnV0dG9uLkNMQVNTX1NUT1BUT0dHTEUpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLmdldERvbUVsZW1lbnQoKS5yZW1vdmVDbGFzcyhfdGhpcy5wcmVmaXhDc3MoUGxheWJhY2tUb2dnbGVCdXR0b24uQ0xBU1NfU1RPUFRPR0dMRSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGltZVNoaWZ0RGV0ZWN0b3IuZGV0ZWN0KCk7IC8vIEluaXRpYWwgZGV0ZWN0aW9uXHJcbiAgICAgICAgaWYgKGhhbmRsZUNsaWNrRXZlbnQpIHtcclxuICAgICAgICAgICAgLy8gQ29udHJvbCBwbGF5ZXIgYnkgYnV0dG9uIGV2ZW50c1xyXG4gICAgICAgICAgICAvLyBXaGVuIGEgYnV0dG9uIGV2ZW50IHRyaWdnZXJzIGEgcGxheWVyIEFQSSBjYWxsLCBldmVudHMgYXJlIGZpcmVkIHdoaWNoIGluIHR1cm4gY2FsbCB0aGUgZXZlbnQgaGFuZGxlclxyXG4gICAgICAgICAgICAvLyBhYm92ZSB0aGF0IHVwZGF0ZWQgdGhlIGJ1dHRvbiBzdGF0ZS5cclxuICAgICAgICAgICAgdGhpcy5vbkNsaWNrLnN1YnNjcmliZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocGxheWVyLmlzUGxheWluZygpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyLnBhdXNlKCd1aScpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyLnBsYXkoJ3VpJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBUcmFjayBVSSBzZWVraW5nIHN0YXR1c1xyXG4gICAgICAgIHVpbWFuYWdlci5vblNlZWsuc3Vic2NyaWJlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaXNTZWVraW5nID0gdHJ1ZTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB1aW1hbmFnZXIub25TZWVrZWQuc3Vic2NyaWJlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaXNTZWVraW5nID0gZmFsc2U7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gU3RhcnR1cCBpbml0XHJcbiAgICAgICAgcGxheWJhY2tTdGF0ZUhhbmRsZXIobnVsbCk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFBsYXliYWNrVG9nZ2xlQnV0dG9uO1xyXG59KHRvZ2dsZWJ1dHRvbl8xLlRvZ2dsZUJ1dHRvbikpO1xyXG5QbGF5YmFja1RvZ2dsZUJ1dHRvbi5DTEFTU19TVE9QVE9HR0xFID0gJ3N0b3B0b2dnbGUnO1xyXG5leHBvcnRzLlBsYXliYWNrVG9nZ2xlQnV0dG9uID0gUGxheWJhY2tUb2dnbGVCdXR0b247XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9wbGF5YmFja3RvZ2dsZWJ1dHRvbi50c1xuLy8gbW9kdWxlIGlkID0gMTJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBjb21wb25lbnRfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudFwiKTtcclxudmFyIGRvbV8xID0gcmVxdWlyZShcIi4uL2RvbVwiKTtcclxudmFyIGV2ZW50ZGlzcGF0Y2hlcl8xID0gcmVxdWlyZShcIi4uL2V2ZW50ZGlzcGF0Y2hlclwiKTtcclxudmFyIHRpbWVvdXRfMSA9IHJlcXVpcmUoXCIuLi90aW1lb3V0XCIpO1xyXG52YXIgcGxheWVydXRpbHNfMSA9IHJlcXVpcmUoXCIuLi9wbGF5ZXJ1dGlsc1wiKTtcclxuLyoqXHJcbiAqIEEgc2VlayBiYXIgdG8gc2VlayB3aXRoaW4gdGhlIHBsYXllcidzIG1lZGlhLiBJdCBkaXNwbGF5cyB0aGUgY3VycmVudCBwbGF5YmFjayBwb3NpdGlvbiwgYW1vdW50IG9mIGJ1ZmZlZCBkYXRhLCBzZWVrXHJcbiAqIHRhcmdldCwgYW5kIGtlZXBzIHN0YXR1cyBhYm91dCBhbiBvbmdvaW5nIHNlZWsuXHJcbiAqXHJcbiAqIFRoZSBzZWVrIGJhciBkaXNwbGF5cyBkaWZmZXJlbnQgJ2JhcnMnOlxyXG4gKiAgLSB0aGUgcGxheWJhY2sgcG9zaXRpb24sIGkuZS4gdGhlIHBvc2l0aW9uIGluIHRoZSBtZWRpYSBhdCB3aGljaCB0aGUgcGxheWVyIGN1cnJlbnQgcGxheWJhY2sgcG9pbnRlciBpcyBwb3NpdGlvbmVkXHJcbiAqICAtIHRoZSBidWZmZXIgcG9zaXRpb24sIHdoaWNoIHVzdWFsbHkgaXMgdGhlIHBsYXliYWNrIHBvc2l0aW9uIHBsdXMgdGhlIHRpbWUgc3BhbiB0aGF0IGlzIGFscmVhZHkgYnVmZmVyZWQgYWhlYWRcclxuICogIC0gdGhlIHNlZWsgcG9zaXRpb24sIHVzZWQgdG8gcHJldmlldyB0byB3aGVyZSBpbiB0aGUgdGltZWxpbmUgYSBzZWVrIHdpbGwganVtcCB0b1xyXG4gKi9cclxudmFyIFNlZWtCYXIgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKFNlZWtCYXIsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBTZWVrQmFyKGNvbmZpZykge1xyXG4gICAgICAgIGlmIChjb25maWcgPT09IHZvaWQgMCkgeyBjb25maWcgPSB7fTsgfVxyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGNvbmZpZykgfHwgdGhpcztcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBCdWZmZXIgb2YgdGhlIHRoZSBjdXJyZW50IHBsYXliYWNrIHBvc2l0aW9uLiBUaGUgcG9zaXRpb24gbXVzdCBiZSBidWZmZXJlZCBpbiBjYXNlIHRoZSBlbGVtZW50XHJcbiAgICAgICAgICogbmVlZHMgdG8gYmUgcmVmcmVzaGVkIHdpdGgge0BsaW5rICNyZWZyZXNoUGxheWJhY2tQb3NpdGlvbn0uXHJcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cclxuICAgICAgICAgKi9cclxuICAgICAgICBfdGhpcy5wbGF5YmFja1Bvc2l0aW9uUGVyY2VudGFnZSA9IDA7XHJcbiAgICAgICAgLy8gaHR0cHM6Ly9oYWNrcy5tb3ppbGxhLm9yZy8yMDEzLzA0L2RldGVjdGluZy10b3VjaC1pdHMtdGhlLXdoeS1ub3QtdGhlLWhvdy9cclxuICAgICAgICBfdGhpcy50b3VjaFN1cHBvcnRlZCA9ICgnb250b3VjaHN0YXJ0JyBpbiB3aW5kb3cpO1xyXG4gICAgICAgIF90aGlzLnNlZWtCYXJFdmVudHMgPSB7XHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBGaXJlZCB3aGVuIGEgc2NydWJiaW5nIHNlZWsgb3BlcmF0aW9uIGlzIHN0YXJ0ZWQuXHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICBvblNlZWs6IG5ldyBldmVudGRpc3BhdGNoZXJfMS5FdmVudERpc3BhdGNoZXIoKSxcclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIEZpcmVkIGR1cmluZyBhIHNjcnViYmluZyBzZWVrIHRvIGluZGljYXRlIHRoYXQgdGhlIHNlZWsgcHJldmlldyAoaS5lLiB0aGUgdmlkZW8gZnJhbWUpIHNob3VsZCBiZSB1cGRhdGVkLlxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgb25TZWVrUHJldmlldzogbmV3IGV2ZW50ZGlzcGF0Y2hlcl8xLkV2ZW50RGlzcGF0Y2hlcigpLFxyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICogRmlyZWQgd2hlbiBhIHNjcnViYmluZyBzZWVrIGhhcyBmaW5pc2hlZCBvciB3aGVuIGEgZGlyZWN0IHNlZWsgaXMgaXNzdWVkLlxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgb25TZWVrZWQ6IG5ldyBldmVudGRpc3BhdGNoZXJfMS5FdmVudERpc3BhdGNoZXIoKSxcclxuICAgICAgICB9O1xyXG4gICAgICAgIF90aGlzLmNvbmZpZyA9IF90aGlzLm1lcmdlQ29uZmlnKGNvbmZpZywge1xyXG4gICAgICAgICAgICBjc3NDbGFzczogJ3VpLXNlZWtiYXInLFxyXG4gICAgICAgICAgICB2ZXJ0aWNhbDogZmFsc2UsXHJcbiAgICAgICAgICAgIHNtb290aFBsYXliYWNrUG9zaXRpb25VcGRhdGVJbnRlcnZhbE1zOiA1MCxcclxuICAgICAgICAgICAgaGlkZUluTGl2ZVBsYXliYWNrOiB0cnVlLFxyXG4gICAgICAgIH0sIF90aGlzLmNvbmZpZyk7XHJcbiAgICAgICAgX3RoaXMubGFiZWwgPSBfdGhpcy5jb25maWcubGFiZWw7XHJcbiAgICAgICAgX3RoaXMudGltZWxpbmVNYXJrZXJzID0gW107XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgU2Vla0Jhci5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmluaXRpYWxpemUuY2FsbCh0aGlzKTtcclxuICAgICAgICBpZiAodGhpcy5oYXNMYWJlbCgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2V0TGFiZWwoKS5pbml0aWFsaXplKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFNlZWtCYXIucHJvdG90eXBlLmNvbmZpZ3VyZSA9IGZ1bmN0aW9uIChwbGF5ZXIsIHVpbWFuYWdlciwgY29uZmlndXJlU2Vlaykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgaWYgKGNvbmZpZ3VyZVNlZWsgPT09IHZvaWQgMCkgeyBjb25maWd1cmVTZWVrID0gdHJ1ZTsgfVxyXG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuY29uZmlndXJlLmNhbGwodGhpcywgcGxheWVyLCB1aW1hbmFnZXIpO1xyXG4gICAgICAgIC8vIGxldCBjb25maWcgPSA8U2Vla0JhckNvbmZpZz50aGlzLmdldENvbmZpZygpO1xyXG4gICAgICAgIGlmICghY29uZmlndXJlU2Vlaykge1xyXG4gICAgICAgICAgICAvLyBUaGUgY29uZmlndXJlU2VlayBmbGFnIGNhbiBiZSB1c2VkIGJ5IHN1YmNsYXNzZXMgdG8gZGlzYWJsZSBjb25maWd1cmF0aW9uIGFzIHNlZWsgYmFyLiBFLmcuIHRoZSB2b2x1bWVcclxuICAgICAgICAgICAgLy8gc2xpZGVyIGlzIHJldXNpbmcgdGhpcyBjb21wb25lbnQgYnV0IGFkZHMgaXRzIG93biBmdW5jdGlvbmFsaXR5LCBhbmQgZG9lcyBub3QgbmVlZCB0aGUgc2VlayBmdW5jdGlvbmFsaXR5LlxyXG4gICAgICAgICAgICAvLyBUaGlzIGlzIGFjdHVhbGx5IGEgaGFjaywgdGhlIHByb3BlciBzb2x1dGlvbiB3b3VsZCBiZSBmb3IgYm90aCBzZWVrIGJhciBhbmQgdm9sdW1lIHNsaWRlcnMgdG8gZXh0ZW5kXHJcbiAgICAgICAgICAgIC8vIGEgY29tbW9uIGJhc2Ugc2xpZGVyIGNvbXBvbmVudCBhbmQgaW1wbGVtZW50IHRoZWlyIGZ1bmN0aW9uYWxpdHkgdGhlcmUuXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHBsYXliYWNrTm90SW5pdGlhbGl6ZWQgPSB0cnVlO1xyXG4gICAgICAgIHZhciBpc1BsYXlpbmcgPSBmYWxzZTtcclxuICAgICAgICB2YXIgaXNTZWVraW5nID0gZmFsc2U7XHJcbiAgICAgICAgLy8gVXBkYXRlIHBsYXliYWNrIGFuZCBidWZmZXIgcG9zaXRpb25zXHJcbiAgICAgICAgdmFyIHBsYXliYWNrUG9zaXRpb25IYW5kbGVyID0gZnVuY3Rpb24gKGV2ZW50LCBmb3JjZVVwZGF0ZSkge1xyXG4gICAgICAgICAgICBpZiAoZXZlbnQgPT09IHZvaWQgMCkgeyBldmVudCA9IG51bGw7IH1cclxuICAgICAgICAgICAgaWYgKGZvcmNlVXBkYXRlID09PSB2b2lkIDApIHsgZm9yY2VVcGRhdGUgPSBmYWxzZTsgfVxyXG4gICAgICAgICAgICAvLyBPbmNlIHRoaXMgaGFuZGxlciBvcyBjYWxsZWQsIHBsYXliYWNrIGhhcyBiZWVuIHN0YXJ0ZWQgYW5kIHdlIHNldCB0aGUgZmxhZyB0byBmYWxzZVxyXG4gICAgICAgICAgICBwbGF5YmFja05vdEluaXRpYWxpemVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGlmIChpc1NlZWtpbmcpIHtcclxuICAgICAgICAgICAgICAgIC8vIFdlIGNhdWdodCBhIHNlZWsgcHJldmlldyBzZWVrLCBkbyBub3QgdXBkYXRlIHRoZSBzZWVrYmFyXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHBsYXllci5pc0xpdmUoKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHBsYXllci5nZXRNYXhUaW1lU2hpZnQoKSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgY2FzZSBtdXN0IGJlIGV4cGxpY2l0bHkgaGFuZGxlZCB0byBhdm9pZCBkaXZpc2lvbiBieSB6ZXJvXHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2V0UGxheWJhY2tQb3NpdGlvbigxMDApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBsYXliYWNrUG9zaXRpb25QZXJjZW50YWdlID0gMTAwIC0gKDEwMCAvIHBsYXllci5nZXRNYXhUaW1lU2hpZnQoKSAqIHBsYXllci5nZXRUaW1lU2hpZnQoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2V0UGxheWJhY2tQb3NpdGlvbihwbGF5YmFja1Bvc2l0aW9uUGVyY2VudGFnZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBBbHdheXMgc2hvdyBmdWxsIGJ1ZmZlciBmb3IgbGl2ZSBzdHJlYW1zXHJcbiAgICAgICAgICAgICAgICBfdGhpcy5zZXRCdWZmZXJQb3NpdGlvbigxMDApO1xyXG4gICAgICAgICAgICAgICAgLy8gSGlkZSBTZWVrQmFyIGlmIHJlcXVpcmVkLlxyXG4gICAgICAgICAgICAgICAgLy8gaWYgKGNvbmZpZy5oaWRlSW5MaXZlUGxheWJhY2spIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgIC8vIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZhciBwbGF5YmFja1Bvc2l0aW9uUGVyY2VudGFnZSA9IDEwMCAvIHBsYXllci5nZXREdXJhdGlvbigpICogcGxheWVyLmdldEN1cnJlbnRUaW1lKCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgdmlkZW9CdWZmZXJMZW5ndGggPSBwbGF5ZXIuZ2V0VmlkZW9CdWZmZXJMZW5ndGgoKTtcclxuICAgICAgICAgICAgICAgIHZhciBhdWRpb0J1ZmZlckxlbmd0aCA9IHBsYXllci5nZXRBdWRpb0J1ZmZlckxlbmd0aCgpO1xyXG4gICAgICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIHRoZSBidWZmZXIgbGVuZ3RoIHdoaWNoIGlzIHRoZSBzbWFsbGVyIGxlbmd0aCBvZiB0aGUgYXVkaW8gYW5kIHZpZGVvIGJ1ZmZlcnMuIElmIG9uZSBvZiB0aGVzZVxyXG4gICAgICAgICAgICAgICAgLy8gYnVmZmVycyBpcyBub3QgYXZhaWxhYmxlLCB3ZSBzZXQgaXQncyB2YWx1ZSB0byBNQVhfVkFMVUUgdG8gbWFrZSBzdXJlIHRoYXQgdGhlIG90aGVyIHJlYWwgdmFsdWUgaXMgdGFrZW5cclxuICAgICAgICAgICAgICAgIC8vIGFzIHRoZSBidWZmZXIgbGVuZ3RoLlxyXG4gICAgICAgICAgICAgICAgdmFyIGJ1ZmZlckxlbmd0aCA9IE1hdGgubWluKHZpZGVvQnVmZmVyTGVuZ3RoICE9IG51bGwgPyB2aWRlb0J1ZmZlckxlbmd0aCA6IE51bWJlci5NQVhfVkFMVUUsIGF1ZGlvQnVmZmVyTGVuZ3RoICE9IG51bGwgPyBhdWRpb0J1ZmZlckxlbmd0aCA6IE51bWJlci5NQVhfVkFMVUUpO1xyXG4gICAgICAgICAgICAgICAgLy8gSWYgYm90aCBidWZmZXIgbGVuZ3RocyBhcmUgbWlzc2luZywgd2Ugc2V0IHRoZSBidWZmZXIgbGVuZ3RoIHRvIHplcm9cclxuICAgICAgICAgICAgICAgIGlmIChidWZmZXJMZW5ndGggPT09IE51bWJlci5NQVhfVkFMVUUpIHtcclxuICAgICAgICAgICAgICAgICAgICBidWZmZXJMZW5ndGggPSAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmFyIGJ1ZmZlclBlcmNlbnRhZ2UgPSAxMDAgLyBwbGF5ZXIuZ2V0RHVyYXRpb24oKSAqIGJ1ZmZlckxlbmd0aDtcclxuICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBwbGF5YmFjayBwb3NpdGlvbiBvbmx5IGluIHBhdXNlZCBzdGF0ZSBvciBpbiB0aGUgaW5pdGlhbCBzdGFydHVwIHN0YXRlIHdoZXJlIHBsYXllciBpcyBuZWl0aGVyXHJcbiAgICAgICAgICAgICAgICAvLyBwYXVzZWQgbm9yIHBsYXlpbmcuIFBsYXliYWNrIHVwZGF0ZXMgYXJlIGhhbmRsZWQgaW4gdGhlIFRpbWVvdXQgYmVsb3cuXHJcbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMuY29uZmlnLnNtb290aFBsYXliYWNrUG9zaXRpb25VcGRhdGVJbnRlcnZhbE1zID09PSBTZWVrQmFyLlNNT09USF9QTEFZQkFDS19QT1NJVElPTl9VUERBVEVfRElTQUJMRURcclxuICAgICAgICAgICAgICAgICAgICB8fCBmb3JjZVVwZGF0ZSB8fCBwbGF5ZXIuaXNQYXVzZWQoKSB8fCAocGxheWVyLmlzUGF1c2VkKCkgPT09IHBsYXllci5pc1BsYXlpbmcoKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5zZXRQbGF5YmFja1Bvc2l0aW9uKHBsYXliYWNrUG9zaXRpb25QZXJjZW50YWdlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIF90aGlzLnNldEJ1ZmZlclBvc2l0aW9uKHBsYXliYWNrUG9zaXRpb25QZXJjZW50YWdlICsgYnVmZmVyUGVyY2VudGFnZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIC8vIFVwZGF0ZSBzZWVrYmFyIHVwb24gdGhlc2UgZXZlbnRzXHJcbiAgICAgICAgLy8gaW5pdCBwbGF5YmFjayBwb3NpdGlvbiB3aGVuIHRoZSBwbGF5ZXIgaXMgcmVhZHlcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9SRUFEWSwgcGxheWJhY2tQb3NpdGlvbkhhbmRsZXIpO1xyXG4gICAgICAgIC8vIHVwZGF0ZSBwbGF5YmFjayBwb3NpdGlvbiB3aGVuIGl0IGNoYW5nZXNcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9USU1FX0NIQU5HRUQsIHBsYXliYWNrUG9zaXRpb25IYW5kbGVyKTtcclxuICAgICAgICAvLyB1cGRhdGUgYnVmZmVybGV2ZWwgd2hlbiBidWZmZXJpbmcgaXMgY29tcGxldGVcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9TVEFMTF9FTkRFRCwgcGxheWJhY2tQb3NpdGlvbkhhbmRsZXIpO1xyXG4gICAgICAgIC8vIHVwZGF0ZSBwbGF5YmFjayBwb3NpdGlvbiB3aGVuIGEgc2VlayBoYXMgZmluaXNoZWRcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9TRUVLRUQsIHBsYXliYWNrUG9zaXRpb25IYW5kbGVyKTtcclxuICAgICAgICAvLyB1cGRhdGUgcGxheWJhY2sgcG9zaXRpb24gd2hlbiBhIHRpbWVzaGlmdCBoYXMgZmluaXNoZWRcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9USU1FX1NISUZURUQsIHBsYXliYWNrUG9zaXRpb25IYW5kbGVyKTtcclxuICAgICAgICAvLyB1cGRhdGUgYnVmZmVybGV2ZWwgd2hlbiBhIHNlZ21lbnQgaGFzIGJlZW4gZG93bmxvYWRlZFxyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1NFR01FTlRfUkVRVUVTVF9GSU5JU0hFRCwgcGxheWJhY2tQb3NpdGlvbkhhbmRsZXIpO1xyXG4gICAgICAgIC8vIHVwZGF0ZSBwbGF5YmFjayBwb3NpdGlvbiBvZiBDYXN0IHBsYXliYWNrXHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fQ0FTVF9USU1FX1VQREFURUQsIHBsYXliYWNrUG9zaXRpb25IYW5kbGVyKTtcclxuICAgICAgICAvLyBTZWVrIGhhbmRsaW5nXHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fU0VFSywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBfdGhpcy5zZXRTZWVraW5nKHRydWUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1NFRUtFRCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBfdGhpcy5zZXRTZWVraW5nKGZhbHNlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9USU1FX1NISUZULCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIF90aGlzLnNldFNlZWtpbmcodHJ1ZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fVElNRV9TSElGVEVELCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIF90aGlzLnNldFNlZWtpbmcoZmFsc2UpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHZhciBzZWVrID0gZnVuY3Rpb24gKHBlcmNlbnRhZ2UpIHtcclxuICAgICAgICAgICAgaWYgKHBsYXllci5pc0xpdmUoKSkge1xyXG4gICAgICAgICAgICAgICAgcGxheWVyLnRpbWVTaGlmdChwbGF5ZXIuZ2V0TWF4VGltZVNoaWZ0KCkgLSAocGxheWVyLmdldE1heFRpbWVTaGlmdCgpICogKHBlcmNlbnRhZ2UgLyAxMDApKSwgJ3VpJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXIuc2VlayhwbGF5ZXIuZ2V0RHVyYXRpb24oKSAqIChwZXJjZW50YWdlIC8gMTAwKSwgJ3VpJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMub25TZWVrLnN1YnNjcmliZShmdW5jdGlvbiAoc2VuZGVyKSB7XHJcbiAgICAgICAgICAgIGlzU2Vla2luZyA9IHRydWU7IC8vIHRyYWNrIHNlZWtpbmcgc3RhdHVzIHNvIHdlIGNhbiBjYXRjaCBldmVudHMgZnJvbSBzZWVrIHByZXZpZXcgc2Vla3NcclxuICAgICAgICAgICAgLy8gTm90aWZ5IFVJIG1hbmFnZXIgb2Ygc3RhcnRlZCBzZWVrXHJcbiAgICAgICAgICAgIHVpbWFuYWdlci5vblNlZWsuZGlzcGF0Y2goc2VuZGVyKTtcclxuICAgICAgICAgICAgLy8gU2F2ZSBjdXJyZW50IHBsYXliYWNrIHN0YXRlXHJcbiAgICAgICAgICAgIGlzUGxheWluZyA9IHBsYXllci5pc1BsYXlpbmcoKTtcclxuICAgICAgICAgICAgLy8gUGF1c2UgcGxheWJhY2sgd2hpbGUgc2Vla2luZ1xyXG4gICAgICAgICAgICBpZiAoaXNQbGF5aW5nKSB7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXIucGF1c2UoJ3VpJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLm9uU2Vla1ByZXZpZXcuc3Vic2NyaWJlKGZ1bmN0aW9uIChzZW5kZXIsIGFyZ3MpIHtcclxuICAgICAgICAgICAgLy8gTm90aWZ5IFVJIG1hbmFnZXIgb2Ygc2VlayBwcmV2aWV3XHJcbiAgICAgICAgICAgIHVpbWFuYWdlci5vblNlZWtQcmV2aWV3LmRpc3BhdGNoKHNlbmRlciwgYXJncyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5vblNlZWtQcmV2aWV3LnN1YnNjcmliZVJhdGVMaW1pdGVkKGZ1bmN0aW9uIChzZW5kZXIsIGFyZ3MpIHtcclxuICAgICAgICAgICAgLy8gUmF0ZS1saW1pdGVkIHNjcnViYmluZyBzZWVrXHJcbiAgICAgICAgICAgIGlmIChhcmdzLnNjcnViYmluZykge1xyXG4gICAgICAgICAgICAgICAgc2VlayhhcmdzLnBvc2l0aW9uKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIDIwMCk7XHJcbiAgICAgICAgdGhpcy5vblNlZWtlZC5zdWJzY3JpYmUoZnVuY3Rpb24gKHNlbmRlciwgcGVyY2VudGFnZSkge1xyXG4gICAgICAgICAgICBpc1NlZWtpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgLy8gRG8gdGhlIHNlZWtcclxuICAgICAgICAgICAgc2VlayhwZXJjZW50YWdlKTtcclxuICAgICAgICAgICAgLy8gQ29udGludWUgcGxheWJhY2sgYWZ0ZXIgc2VlayBpZiBwbGF5ZXIgd2FzIHBsYXlpbmcgd2hlbiBzZWVrIHN0YXJ0ZWRcclxuICAgICAgICAgICAgaWYgKGlzUGxheWluZykge1xyXG4gICAgICAgICAgICAgICAgcGxheWVyLnBsYXkoJ3VpJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gTm90aWZ5IFVJIG1hbmFnZXIgb2YgZmluaXNoZWQgc2Vla1xyXG4gICAgICAgICAgICB1aW1hbmFnZXIub25TZWVrZWQuZGlzcGF0Y2goc2VuZGVyKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAodGhpcy5oYXNMYWJlbCgpKSB7XHJcbiAgICAgICAgICAgIC8vIENvbmZpZ3VyZSBhIHNlZWtiYXIgbGFiZWwgdGhhdCBpcyBpbnRlcm5hbCB0byB0aGUgc2Vla2JhcilcclxuICAgICAgICAgICAgdGhpcy5nZXRMYWJlbCgpLmNvbmZpZ3VyZShwbGF5ZXIsIHVpbWFuYWdlcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIEhpZGUgc2Vla2JhciBmb3IgbGl2ZSBzb3VyY2VzIHdpdGhvdXQgdGltZXNoaWZ0XHJcbiAgICAgICAgdmFyIGlzTGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIHZhciBoYXNUaW1lU2hpZnQgPSBmYWxzZTtcclxuICAgICAgICB2YXIgc3dpdGNoVmlzaWJpbGl0eSA9IGZ1bmN0aW9uIChpc0xpdmUsIGhhc1RpbWVTaGlmdCkge1xyXG4gICAgICAgICAgICBpZiAoaXNMaXZlICYmICFoYXNUaW1lU2hpZnQpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLmhpZGUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLnNob3coKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBwbGF5YmFja1Bvc2l0aW9uSGFuZGxlcihudWxsLCB0cnVlKTtcclxuICAgICAgICAgICAgX3RoaXMucmVmcmVzaFBsYXliYWNrUG9zaXRpb24oKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciBsaXZlU3RyZWFtRGV0ZWN0b3IgPSBuZXcgcGxheWVydXRpbHNfMS5QbGF5ZXJVdGlscy5MaXZlU3RyZWFtRGV0ZWN0b3IocGxheWVyKTtcclxuICAgICAgICBsaXZlU3RyZWFtRGV0ZWN0b3Iub25MaXZlQ2hhbmdlZC5zdWJzY3JpYmUoZnVuY3Rpb24gKHNlbmRlciwgYXJncykge1xyXG4gICAgICAgICAgICBpc0xpdmUgPSBhcmdzLmxpdmU7XHJcbiAgICAgICAgICAgIHN3aXRjaFZpc2liaWxpdHkoaXNMaXZlLCBoYXNUaW1lU2hpZnQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHZhciB0aW1lU2hpZnREZXRlY3RvciA9IG5ldyBwbGF5ZXJ1dGlsc18xLlBsYXllclV0aWxzLlRpbWVTaGlmdEF2YWlsYWJpbGl0eURldGVjdG9yKHBsYXllcik7XHJcbiAgICAgICAgdGltZVNoaWZ0RGV0ZWN0b3Iub25UaW1lU2hpZnRBdmFpbGFiaWxpdHlDaGFuZ2VkLnN1YnNjcmliZShmdW5jdGlvbiAoc2VuZGVyLCBhcmdzKSB7XHJcbiAgICAgICAgICAgIGhhc1RpbWVTaGlmdCA9IGFyZ3MudGltZVNoaWZ0QXZhaWxhYmxlO1xyXG4gICAgICAgICAgICBzd2l0Y2hWaXNpYmlsaXR5KGlzTGl2ZSwgaGFzVGltZVNoaWZ0KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBJbml0aWFsIGRldGVjdGlvblxyXG4gICAgICAgIGxpdmVTdHJlYW1EZXRlY3Rvci5kZXRlY3QoKTtcclxuICAgICAgICB0aW1lU2hpZnREZXRlY3Rvci5kZXRlY3QoKTtcclxuICAgICAgICAvLyBSZWZyZXNoIHRoZSBwbGF5YmFjayBwb3NpdGlvbiB3aGVuIHRoZSBwbGF5ZXIgcmVzaXplZCBvciB0aGUgVUkgaXMgY29uZmlndXJlZC4gVGhlIHBsYXliYWNrIHBvc2l0aW9uIG1hcmtlclxyXG4gICAgICAgIC8vIGlzIHBvc2l0aW9uZWQgYWJzb2x1dGVseSBhbmQgbXVzdCB0aGVyZWZvcmUgYmUgdXBkYXRlZCB3aGVuIHRoZSBzaXplIG9mIHRoZSBzZWVrYmFyIGNoYW5nZXMuXHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fUExBWUVSX1JFU0laRSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBfdGhpcy5yZWZyZXNoUGxheWJhY2tQb3NpdGlvbigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIEFkZGl0aW9uYWxseSwgd2hlbiB0aGlzIGNvZGUgaXMgY2FsbGVkLCB0aGUgc2Vla2JhciBpcyBub3QgcGFydCBvZiB0aGUgVUkgeWV0IGFuZCB0aGVyZWZvcmUgZG9lcyBub3QgaGF2ZSBhIHNpemUsXHJcbiAgICAgICAgLy8gcmVzdWx0aW5nIGluIGEgd3JvbmcgaW5pdGlhbCBwb3NpdGlvbiBvZiB0aGUgbWFya2VyLiBSZWZyZXNoaW5nIGl0IG9uY2UgdGhlIFVJIGlzIGNvbmZpZ3VyZWQgc29sdmVkIHRoaXMgaXNzdWUuXHJcbiAgICAgICAgdWltYW5hZ2VyLm9uQ29uZmlndXJlZC5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBfdGhpcy5yZWZyZXNoUGxheWJhY2tQb3NpdGlvbigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIEl0IGNhbiBhbHNvIGhhcHBlbiB0aGF0IHRoZSB2YWx1ZSBjaGFuZ2VzIG9uY2UgdGhlIHBsYXllciBpcyByZWFkeSwgb3Igd2hlbiBhIG5ldyBzb3VyY2UgaXMgbG9hZGVkLCBzbyB3ZSBuZWVkXHJcbiAgICAgICAgLy8gdG8gdXBkYXRlIG9uIE9OX1JFQURZIHRvb1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1JFQURZLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIF90aGlzLnJlZnJlc2hQbGF5YmFja1Bvc2l0aW9uKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gSW5pdGlhbGl6ZSBzZWVrYmFyXHJcbiAgICAgICAgcGxheWJhY2tQb3NpdGlvbkhhbmRsZXIoKTsgLy8gU2V0IHRoZSBwbGF5YmFjayBwb3NpdGlvblxyXG4gICAgICAgIHRoaXMuc2V0QnVmZmVyUG9zaXRpb24oMCk7XHJcbiAgICAgICAgdGhpcy5zZXRTZWVrUG9zaXRpb24oMCk7XHJcbiAgICAgICAgaWYgKHRoaXMuY29uZmlnLnNtb290aFBsYXliYWNrUG9zaXRpb25VcGRhdGVJbnRlcnZhbE1zICE9PSBTZWVrQmFyLlNNT09USF9QTEFZQkFDS19QT1NJVElPTl9VUERBVEVfRElTQUJMRUQpIHtcclxuICAgICAgICAgICAgdGhpcy5jb25maWd1cmVTbW9vdGhQbGF5YmFja1Bvc2l0aW9uVXBkYXRlcihwbGF5ZXIsIHVpbWFuYWdlcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY29uZmlndXJlTWFya2VycyhwbGF5ZXIsIHVpbWFuYWdlcik7XHJcbiAgICB9O1xyXG4gICAgU2Vla0Jhci5wcm90b3R5cGUuY29uZmlndXJlU21vb3RoUGxheWJhY2tQb3NpdGlvblVwZGF0ZXIgPSBmdW5jdGlvbiAocGxheWVyLCB1aW1hbmFnZXIpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIC8qXHJcbiAgICAgICAgICogUGxheWJhY2sgcG9zaXRpb24gdXBkYXRlXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBXZSBkbyBub3QgdXBkYXRlIHRoZSBwb3NpdGlvbiBkaXJlY3RseSBmcm9tIHRoZSBPTl9USU1FX0NIQU5HRUQgZXZlbnQsIGJlY2F1c2UgaXQgYXJyaXZlcyB2ZXJ5IGppdHRlcnkgYW5kXHJcbiAgICAgICAgICogcmVzdWx0cyBpbiBhIGppdHRlcnkgcG9zaXRpb24gaW5kaWNhdG9yIHNpbmNlIHRoZSBDU1MgdHJhbnNpdGlvbiB0aW1lIGlzIHN0YXRpY2FsbHkgc2V0LlxyXG4gICAgICAgICAqIFRvIHdvcmsgYXJvdW5kIHRoaXMgaXNzdWUsIHdlIG1haW50YWluIGEgbG9jYWwgcGxheWJhY2sgcG9zaXRpb24gdGhhdCBpcyB1cGRhdGVkIGluIGEgc3RhYmxlIHJlZ3VsYXIgaW50ZXJ2YWxcclxuICAgICAgICAgKiBhbmQga2VwdCBpbiBzeW5jIHdpdGggdGhlIHBsYXllci5cclxuICAgICAgICAgKi9cclxuICAgICAgICB2YXIgY3VycmVudFRpbWVTZWVrQmFyID0gMDtcclxuICAgICAgICB2YXIgY3VycmVudFRpbWVQbGF5ZXIgPSAwO1xyXG4gICAgICAgIHZhciB1cGRhdGVJbnRlcnZhbE1zID0gNTA7XHJcbiAgICAgICAgdmFyIGN1cnJlbnRUaW1lVXBkYXRlRGVsdGFTZWNzID0gdXBkYXRlSW50ZXJ2YWxNcyAvIDEwMDA7XHJcbiAgICAgICAgdGhpcy5zbW9vdGhQbGF5YmFja1Bvc2l0aW9uVXBkYXRlciA9IG5ldyB0aW1lb3V0XzEuVGltZW91dCh1cGRhdGVJbnRlcnZhbE1zLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGN1cnJlbnRUaW1lU2Vla0JhciArPSBjdXJyZW50VGltZVVwZGF0ZURlbHRhU2VjcztcclxuICAgICAgICAgICAgY3VycmVudFRpbWVQbGF5ZXIgPSBwbGF5ZXIuZ2V0Q3VycmVudFRpbWUoKTtcclxuICAgICAgICAgICAgLy8gU3luYyBjdXJyZW50VGltZSBvZiBzZWVrYmFyIHRvIHBsYXllclxyXG4gICAgICAgICAgICB2YXIgY3VycmVudFRpbWVEZWx0YSA9IGN1cnJlbnRUaW1lU2Vla0JhciAtIGN1cnJlbnRUaW1lUGxheWVyO1xyXG4gICAgICAgICAgICAvLyBJZiB0aGUgZGVsdGEgaXMgbGFyZ2VyIHRoYXQgMiBzZWNzLCBkaXJlY3RseSBqdW1wIHRoZSBzZWVrYmFyIHRvIHRoZVxyXG4gICAgICAgICAgICAvLyBwbGF5ZXIgdGltZSBpbnN0ZWFkIG9mIHNtb290aGx5IGZhc3QgZm9yd2FyZGluZy9yZXdpbmRpbmcuXHJcbiAgICAgICAgICAgIGlmIChNYXRoLmFicyhjdXJyZW50VGltZURlbHRhKSA+IDIpIHtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRUaW1lU2Vla0JhciA9IGN1cnJlbnRUaW1lUGxheWVyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGN1cnJlbnRUaW1lRGVsdGEgPD0gLWN1cnJlbnRUaW1lVXBkYXRlRGVsdGFTZWNzKSB7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50VGltZVNlZWtCYXIgKz0gY3VycmVudFRpbWVVcGRhdGVEZWx0YVNlY3M7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoY3VycmVudFRpbWVEZWx0YSA+PSBjdXJyZW50VGltZVVwZGF0ZURlbHRhU2Vjcykge1xyXG4gICAgICAgICAgICAgICAgY3VycmVudFRpbWVTZWVrQmFyIC09IGN1cnJlbnRUaW1lVXBkYXRlRGVsdGFTZWNzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBwbGF5YmFja1Bvc2l0aW9uUGVyY2VudGFnZSA9IDEwMCAvIHBsYXllci5nZXREdXJhdGlvbigpICogY3VycmVudFRpbWVTZWVrQmFyO1xyXG4gICAgICAgICAgICBfdGhpcy5zZXRQbGF5YmFja1Bvc2l0aW9uKHBsYXliYWNrUG9zaXRpb25QZXJjZW50YWdlKTtcclxuICAgICAgICB9LCB0cnVlKTtcclxuICAgICAgICB2YXIgc3RhcnRTbW9vdGhQbGF5YmFja1Bvc2l0aW9uVXBkYXRlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKCFwbGF5ZXIuaXNMaXZlKCkpIHtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRUaW1lU2Vla0JhciA9IHBsYXllci5nZXRDdXJyZW50VGltZSgpO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuc21vb3RoUGxheWJhY2tQb3NpdGlvblVwZGF0ZXIuc3RhcnQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdmFyIHN0b3BTbW9vdGhQbGF5YmFja1Bvc2l0aW9uVXBkYXRlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgX3RoaXMuc21vb3RoUGxheWJhY2tQb3NpdGlvblVwZGF0ZXIuY2xlYXIoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1BMQVksIHN0YXJ0U21vb3RoUGxheWJhY2tQb3NpdGlvblVwZGF0ZXIpO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX0NBU1RfUExBWUlORywgc3RhcnRTbW9vdGhQbGF5YmFja1Bvc2l0aW9uVXBkYXRlcik7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fUEFVU0VELCBzdG9wU21vb3RoUGxheWJhY2tQb3NpdGlvblVwZGF0ZXIpO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX0NBU1RfUEFVU0VELCBzdG9wU21vb3RoUGxheWJhY2tQb3NpdGlvblVwZGF0ZXIpO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1NFRUtFRCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBjdXJyZW50VGltZVNlZWtCYXIgPSBwbGF5ZXIuZ2V0Q3VycmVudFRpbWUoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAocGxheWVyLmlzUGxheWluZygpKSB7XHJcbiAgICAgICAgICAgIHN0YXJ0U21vb3RoUGxheWJhY2tQb3NpdGlvblVwZGF0ZXIoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgU2Vla0Jhci5wcm90b3R5cGUuY29uZmlndXJlTWFya2VycyA9IGZ1bmN0aW9uIChwbGF5ZXIsIHVpbWFuYWdlcikge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdmFyIGNsZWFyTWFya2VycyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgX3RoaXMudGltZWxpbmVNYXJrZXJzID0gW107XHJcbiAgICAgICAgICAgIF90aGlzLnVwZGF0ZU1hcmtlcnMoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciBzZXR1cE1hcmtlcnMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNsZWFyTWFya2VycygpO1xyXG4gICAgICAgICAgICB2YXIgaGFzTWFya2Vyc0luVWlDb25maWcgPSB1aW1hbmFnZXIuZ2V0Q29uZmlnKCkubWV0YWRhdGEgJiYgdWltYW5hZ2VyLmdldENvbmZpZygpLm1ldGFkYXRhLm1hcmtlcnNcclxuICAgICAgICAgICAgICAgICYmIHVpbWFuYWdlci5nZXRDb25maWcoKS5tZXRhZGF0YS5tYXJrZXJzLmxlbmd0aCA+IDA7XHJcbiAgICAgICAgICAgIHZhciBoYXNNYXJrZXJzSW5QbGF5ZXJDb25maWcgPSBwbGF5ZXIuZ2V0Q29uZmlnKCkuc291cmNlICYmIHBsYXllci5nZXRDb25maWcoKS5zb3VyY2UubWFya2Vyc1xyXG4gICAgICAgICAgICAgICAgJiYgcGxheWVyLmdldENvbmZpZygpLnNvdXJjZS5tYXJrZXJzLmxlbmd0aCA+IDA7XHJcbiAgICAgICAgICAgIC8vIFRha2UgbWFya2VycyBmcm9tIHRoZSBVSSBjb25maWcuIElmIG5vIG1hcmtlcnMgZGVmaW5lZCwgdHJ5IHRvIHRha2UgdGhlbSBmcm9tIHRoZSBwbGF5ZXIncyBzb3VyY2UgY29uZmlnLlxyXG4gICAgICAgICAgICB2YXIgbWFya2VycyA9IGhhc01hcmtlcnNJblVpQ29uZmlnID8gdWltYW5hZ2VyLmdldENvbmZpZygpLm1ldGFkYXRhLm1hcmtlcnMgOlxyXG4gICAgICAgICAgICAgICAgaGFzTWFya2Vyc0luUGxheWVyQ29uZmlnID8gcGxheWVyLmdldENvbmZpZygpLnNvdXJjZS5tYXJrZXJzIDogbnVsbDtcclxuICAgICAgICAgICAgLy8gR2VuZXJhdGUgdGltZWxpbmUgbWFya2VycyBmcm9tIHRoZSBjb25maWcgaWYgd2UgaGF2ZSBtYXJrZXJzIGFuZCBpZiB3ZSBoYXZlIGEgZHVyYXRpb25cclxuICAgICAgICAgICAgLy8gVGhlIGR1cmF0aW9uIGNoZWNrIGlzIGZvciBidWdneSBwbGF0Zm9ybXMgd2hlcmUgdGhlIGR1cmF0aW9uIGlzIG5vdCBhdmFpbGFibGUgaW5zdGFudGx5IChDaHJvbWUgb24gQW5kcm9pZCA0LjMpXHJcbiAgICAgICAgICAgIGlmIChtYXJrZXJzICYmIHBsYXllci5nZXREdXJhdGlvbigpICE9PSBJbmZpbml0eSkge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBtYXJrZXJzXzEgPSBtYXJrZXJzOyBfaSA8IG1hcmtlcnNfMS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbWFya2VyID0gbWFya2Vyc18xW19pXTtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy50aW1lbGluZU1hcmtlcnMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWU6IDEwMCAvIHBsYXllci5nZXREdXJhdGlvbigpICogbWFya2VyLnRpbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBtYXJrZXIudGl0bGUsXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gUG9wdWxhdGUgdGhlIHRpbWVsaW5lIHdpdGggdGhlIG1hcmtlcnNcclxuICAgICAgICAgICAgX3RoaXMudXBkYXRlTWFya2VycygpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgLy8gQWRkIG1hcmtlcnMgd2hlbiBhIHNvdXJjZSBpcyBsb2FkZWRcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9SRUFEWSwgc2V0dXBNYXJrZXJzKTtcclxuICAgICAgICAvLyBSZW1vdmUgbWFya2VycyB3aGVuIHVubG9hZGVkXHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fU09VUkNFX1VOTE9BREVELCBjbGVhck1hcmtlcnMpO1xyXG4gICAgICAgIC8vIEluaXQgbWFya2VycyBhdCBzdGFydHVwXHJcbiAgICAgICAgc2V0dXBNYXJrZXJzKCk7XHJcbiAgICB9O1xyXG4gICAgU2Vla0Jhci5wcm90b3R5cGUucmVsZWFzZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLnJlbGVhc2UuY2FsbCh0aGlzKTtcclxuICAgICAgICBpZiAodGhpcy5zbW9vdGhQbGF5YmFja1Bvc2l0aW9uVXBkYXRlcikge1xyXG4gICAgICAgICAgICB0aGlzLnNtb290aFBsYXliYWNrUG9zaXRpb25VcGRhdGVyLmNsZWFyKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFNlZWtCYXIucHJvdG90eXBlLnRvRG9tRWxlbWVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZy52ZXJ0aWNhbCkge1xyXG4gICAgICAgICAgICB0aGlzLmNvbmZpZy5jc3NDbGFzc2VzLnB1c2goJ3ZlcnRpY2FsJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBzZWVrQmFyQ29udGFpbmVyID0gbmV3IGRvbV8xLkRPTSgnZGl2Jywge1xyXG4gICAgICAgICAgICAnaWQnOiB0aGlzLmNvbmZpZy5pZCxcclxuICAgICAgICAgICAgJ2NsYXNzJzogdGhpcy5nZXRDc3NDbGFzc2VzKCksXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdmFyIHNlZWtCYXIgPSBuZXcgZG9tXzEuRE9NKCdkaXYnLCB7XHJcbiAgICAgICAgICAgICdjbGFzcyc6IHRoaXMucHJlZml4Q3NzKCdzZWVrYmFyJyksXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5zZWVrQmFyID0gc2Vla0JhcjtcclxuICAgICAgICAvLyBJbmRpY2F0b3IgdGhhdCBzaG93cyB0aGUgYnVmZmVyIGZpbGwgbGV2ZWxcclxuICAgICAgICB2YXIgc2Vla0JhckJ1ZmZlckxldmVsID0gbmV3IGRvbV8xLkRPTSgnZGl2Jywge1xyXG4gICAgICAgICAgICAnY2xhc3MnOiB0aGlzLnByZWZpeENzcygnc2Vla2Jhci1idWZmZXJsZXZlbCcpLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuc2Vla0JhckJ1ZmZlclBvc2l0aW9uID0gc2Vla0JhckJ1ZmZlckxldmVsO1xyXG4gICAgICAgIC8vIEluZGljYXRvciB0aGF0IHNob3dzIHRoZSBjdXJyZW50IHBsYXliYWNrIHBvc2l0aW9uXHJcbiAgICAgICAgdmFyIHNlZWtCYXJQbGF5YmFja1Bvc2l0aW9uID0gbmV3IGRvbV8xLkRPTSgnZGl2Jywge1xyXG4gICAgICAgICAgICAnY2xhc3MnOiB0aGlzLnByZWZpeENzcygnc2Vla2Jhci1wbGF5YmFja3Bvc2l0aW9uJyksXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5zZWVrQmFyUGxheWJhY2tQb3NpdGlvbiA9IHNlZWtCYXJQbGF5YmFja1Bvc2l0aW9uO1xyXG4gICAgICAgIC8vIEEgbWFya2VyIG9mIHRoZSBjdXJyZW50IHBsYXliYWNrIHBvc2l0aW9uLCBlLmcuIGEgZG90IG9yIGxpbmVcclxuICAgICAgICB2YXIgc2Vla0JhclBsYXliYWNrUG9zaXRpb25NYXJrZXIgPSBuZXcgZG9tXzEuRE9NKCdkaXYnLCB7XHJcbiAgICAgICAgICAgICdjbGFzcyc6IHRoaXMucHJlZml4Q3NzKCdzZWVrYmFyLXBsYXliYWNrcG9zaXRpb24tbWFya2VyJyksXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5zZWVrQmFyUGxheWJhY2tQb3NpdGlvbk1hcmtlciA9IHNlZWtCYXJQbGF5YmFja1Bvc2l0aW9uTWFya2VyO1xyXG4gICAgICAgIC8vIEluZGljYXRvciB0aGF0IHNob3cgd2hlcmUgYSBzZWVrIHdpbGwgZ28gdG9cclxuICAgICAgICB2YXIgc2Vla0JhclNlZWtQb3NpdGlvbiA9IG5ldyBkb21fMS5ET00oJ2RpdicsIHtcclxuICAgICAgICAgICAgJ2NsYXNzJzogdGhpcy5wcmVmaXhDc3MoJ3NlZWtiYXItc2Vla3Bvc2l0aW9uJyksXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5zZWVrQmFyU2Vla1Bvc2l0aW9uID0gc2Vla0JhclNlZWtQb3NpdGlvbjtcclxuICAgICAgICAvLyBJbmRpY2F0b3IgdGhhdCBzaG93cyB0aGUgZnVsbCBzZWVrYmFyXHJcbiAgICAgICAgdmFyIHNlZWtCYXJCYWNrZHJvcCA9IG5ldyBkb21fMS5ET00oJ2RpdicsIHtcclxuICAgICAgICAgICAgJ2NsYXNzJzogdGhpcy5wcmVmaXhDc3MoJ3NlZWtiYXItYmFja2Ryb3AnKSxcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnNlZWtCYXJCYWNrZHJvcCA9IHNlZWtCYXJCYWNrZHJvcDtcclxuICAgICAgICB2YXIgc2Vla0JhckNoYXB0ZXJNYXJrZXJzQ29udGFpbmVyID0gbmV3IGRvbV8xLkRPTSgnZGl2Jywge1xyXG4gICAgICAgICAgICAnY2xhc3MnOiB0aGlzLnByZWZpeENzcygnc2Vla2Jhci1tYXJrZXJzJyksXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5zZWVrQmFyTWFya2Vyc0NvbnRhaW5lciA9IHNlZWtCYXJDaGFwdGVyTWFya2Vyc0NvbnRhaW5lcjtcclxuICAgICAgICBzZWVrQmFyLmFwcGVuZChzZWVrQmFyQmFja2Ryb3AsIHNlZWtCYXJCdWZmZXJMZXZlbCwgc2Vla0JhclNlZWtQb3NpdGlvbiwgc2Vla0JhclBsYXliYWNrUG9zaXRpb24sIHNlZWtCYXJDaGFwdGVyTWFya2Vyc0NvbnRhaW5lciwgc2Vla0JhclBsYXliYWNrUG9zaXRpb25NYXJrZXIpO1xyXG4gICAgICAgIHZhciBzZWVraW5nID0gZmFsc2U7XHJcbiAgICAgICAgLy8gRGVmaW5lIGhhbmRsZXIgZnVuY3Rpb25zIHNvIHdlIGNhbiBhdHRhY2gvcmVtb3ZlIHRoZW0gbGF0ZXJcclxuICAgICAgICB2YXIgbW91c2VUb3VjaE1vdmVIYW5kbGVyID0gZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAvLyBBdm9pZCBwcm9wYWdhdGlvbiB0byBWUiBoYW5kbGVyXHJcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgIHZhciB0YXJnZXRQZXJjZW50YWdlID0gMTAwICogX3RoaXMuZ2V0T2Zmc2V0KGUpO1xyXG4gICAgICAgICAgICBfdGhpcy5zZXRTZWVrUG9zaXRpb24odGFyZ2V0UGVyY2VudGFnZSk7XHJcbiAgICAgICAgICAgIF90aGlzLnNldFBsYXliYWNrUG9zaXRpb24odGFyZ2V0UGVyY2VudGFnZSk7XHJcbiAgICAgICAgICAgIF90aGlzLm9uU2Vla1ByZXZpZXdFdmVudCh0YXJnZXRQZXJjZW50YWdlLCB0cnVlKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciBtb3VzZVRvdWNoVXBIYW5kbGVyID0gZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAvLyBSZW1vdmUgaGFuZGxlcnMsIHNlZWsgb3BlcmF0aW9uIGlzIGZpbmlzaGVkXHJcbiAgICAgICAgICAgIG5ldyBkb21fMS5ET00oZG9jdW1lbnQpLm9mZigndG91Y2htb3ZlIG1vdXNlbW92ZScsIG1vdXNlVG91Y2hNb3ZlSGFuZGxlcik7XHJcbiAgICAgICAgICAgIG5ldyBkb21fMS5ET00oZG9jdW1lbnQpLm9mZigndG91Y2hlbmQgbW91c2V1cCcsIG1vdXNlVG91Y2hVcEhhbmRsZXIpO1xyXG4gICAgICAgICAgICB2YXIgdGFyZ2V0UGVyY2VudGFnZSA9IDEwMCAqIF90aGlzLmdldE9mZnNldChlKTtcclxuICAgICAgICAgICAgdmFyIHNuYXBwZWRDaGFwdGVyID0gX3RoaXMuZ2V0TWFya2VyQXRQb3NpdGlvbih0YXJnZXRQZXJjZW50YWdlKTtcclxuICAgICAgICAgICAgX3RoaXMuc2V0U2Vla2luZyhmYWxzZSk7XHJcbiAgICAgICAgICAgIHNlZWtpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgLy8gRmlyZSBzZWVrZWQgZXZlbnRcclxuICAgICAgICAgICAgX3RoaXMub25TZWVrZWRFdmVudChzbmFwcGVkQ2hhcHRlciA/IHNuYXBwZWRDaGFwdGVyLnRpbWUgOiB0YXJnZXRQZXJjZW50YWdlKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIC8vIEEgc2VlayBhbHdheXMgc3RhcnQgd2l0aCBhIHRvdWNoc3RhcnQgb3IgbW91c2Vkb3duIGRpcmVjdGx5IG9uIHRoZSBzZWVrYmFyLlxyXG4gICAgICAgIC8vIFRvIHRyYWNrIGEgbW91c2Ugc2VlayBhbHNvIG91dHNpZGUgdGhlIHNlZWtiYXIgKGZvciB0b3VjaCBldmVudHMgdGhpcyB3b3JrcyBhdXRvbWF0aWNhbGx5KSxcclxuICAgICAgICAvLyBzbyB0aGUgdXNlciBkb2VzIG5vdCBuZWVkIHRvIHRha2UgY2FyZSB0aGF0IHRoZSBtb3VzZSBhbHdheXMgc3RheXMgb24gdGhlIHNlZWtiYXIsIHdlIGF0dGFjaCB0aGUgbW91c2Vtb3ZlXHJcbiAgICAgICAgLy8gYW5kIG1vdXNldXAgaGFuZGxlcnMgdG8gdGhlIHdob2xlIGRvY3VtZW50LiBBIHNlZWsgaXMgdHJpZ2dlcmVkIHdoZW4gdGhlIHVzZXIgbGlmdHMgdGhlIG1vdXNlIGtleS5cclxuICAgICAgICAvLyBBIHNlZWsgbW91c2UgZ2VzdHVyZSBpcyB0aHVzIGJhc2ljYWxseSBhIGNsaWNrIHdpdGggYSBsb25nIHRpbWUgZnJhbWUgYmV0d2VlbiBkb3duIGFuZCB1cCBldmVudHMuXHJcbiAgICAgICAgc2Vla0Jhci5vbigndG91Y2hzdGFydCBtb3VzZWRvd24nLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICB2YXIgaXNUb3VjaEV2ZW50ID0gX3RoaXMudG91Y2hTdXBwb3J0ZWQgJiYgZSBpbnN0YW5jZW9mIFRvdWNoRXZlbnQ7XHJcbiAgICAgICAgICAgIC8vIFByZXZlbnQgc2VsZWN0aW9uIG9mIERPTSBlbGVtZW50cyAoYWxzbyBwcmV2ZW50cyBtb3VzZWRvd24gaWYgY3VycmVudCBldmVudCBpcyB0b3VjaHN0YXJ0KVxyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIC8vIEF2b2lkIHByb3BhZ2F0aW9uIHRvIFZSIGhhbmRsZXJcclxuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgX3RoaXMuc2V0U2Vla2luZyh0cnVlKTsgLy8gU2V0IHNlZWtpbmcgY2xhc3Mgb24gRE9NIGVsZW1lbnRcclxuICAgICAgICAgICAgc2Vla2luZyA9IHRydWU7IC8vIFNldCBzZWVrIHRyYWNraW5nIGZsYWdcclxuICAgICAgICAgICAgLy8gRmlyZSBzZWVrZWQgZXZlbnRcclxuICAgICAgICAgICAgX3RoaXMub25TZWVrRXZlbnQoKTtcclxuICAgICAgICAgICAgLy8gQWRkIGhhbmRsZXIgdG8gdHJhY2sgdGhlIHNlZWsgb3BlcmF0aW9uIG92ZXIgdGhlIHdob2xlIGRvY3VtZW50XHJcbiAgICAgICAgICAgIG5ldyBkb21fMS5ET00oZG9jdW1lbnQpLm9uKGlzVG91Y2hFdmVudCA/ICd0b3VjaG1vdmUnIDogJ21vdXNlbW92ZScsIG1vdXNlVG91Y2hNb3ZlSGFuZGxlcik7XHJcbiAgICAgICAgICAgIG5ldyBkb21fMS5ET00oZG9jdW1lbnQpLm9uKGlzVG91Y2hFdmVudCA/ICd0b3VjaGVuZCcgOiAnbW91c2V1cCcsIG1vdXNlVG91Y2hVcEhhbmRsZXIpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIERpc3BsYXkgc2VlayB0YXJnZXQgaW5kaWNhdG9yIHdoZW4gbW91c2UgaG92ZXJzIG9yIGZpbmdlciBzbGlkZXMgb3ZlciBzZWVrYmFyXHJcbiAgICAgICAgc2Vla0Jhci5vbigndG91Y2htb3ZlIG1vdXNlbW92ZScsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgaWYgKHNlZWtpbmcpIHtcclxuICAgICAgICAgICAgICAgIC8vIER1cmluZyBhIHNlZWsgKHdoZW4gbW91c2UgaXMgZG93biBvciB0b3VjaCBtb3ZlIGFjdGl2ZSksIHdlIG5lZWQgdG8gc3RvcCBwcm9wYWdhdGlvbiB0byBhdm9pZFxyXG4gICAgICAgICAgICAgICAgLy8gdGhlIFZSIHZpZXdwb3J0IHJlYWN0aW5nIHRvIHRoZSBtb3Zlcy5cclxuICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICAvLyBCZWNhdXNlIHRoZSBzdG9wcGVkIHByb3BhZ2F0aW9uIGluaGliaXRzIHRoZSBldmVudCBvbiB0aGUgZG9jdW1lbnQsIHdlIG5lZWQgdG8gY2FsbCBpdCBmcm9tIGhlcmVcclxuICAgICAgICAgICAgICAgIG1vdXNlVG91Y2hNb3ZlSGFuZGxlcihlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgcG9zaXRpb24gPSAxMDAgKiBfdGhpcy5nZXRPZmZzZXQoZSk7XHJcbiAgICAgICAgICAgIF90aGlzLnNldFNlZWtQb3NpdGlvbihwb3NpdGlvbik7XHJcbiAgICAgICAgICAgIF90aGlzLm9uU2Vla1ByZXZpZXdFdmVudChwb3NpdGlvbiwgZmFsc2UpO1xyXG4gICAgICAgICAgICBpZiAoX3RoaXMuaGFzTGFiZWwoKSAmJiBfdGhpcy5nZXRMYWJlbCgpLmlzSGlkZGVuKCkpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLmdldExhYmVsKCkuc2hvdygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gSGlkZSBzZWVrIHRhcmdldCBpbmRpY2F0b3Igd2hlbiBtb3VzZSBvciBmaW5nZXIgbGVhdmVzIHNlZWtiYXJcclxuICAgICAgICBzZWVrQmFyLm9uKCd0b3VjaGVuZCBtb3VzZWxlYXZlJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICBfdGhpcy5zZXRTZWVrUG9zaXRpb24oMCk7XHJcbiAgICAgICAgICAgIGlmIChfdGhpcy5oYXNMYWJlbCgpKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5nZXRMYWJlbCgpLmhpZGUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHNlZWtCYXJDb250YWluZXIuYXBwZW5kKHNlZWtCYXIpO1xyXG4gICAgICAgIGlmICh0aGlzLmxhYmVsKSB7XHJcbiAgICAgICAgICAgIHNlZWtCYXJDb250YWluZXIuYXBwZW5kKHRoaXMubGFiZWwuZ2V0RG9tRWxlbWVudCgpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHNlZWtCYXJDb250YWluZXI7XHJcbiAgICB9O1xyXG4gICAgU2Vla0Jhci5wcm90b3R5cGUudXBkYXRlTWFya2VycyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLnNlZWtCYXJNYXJrZXJzQ29udGFpbmVyLmVtcHR5KCk7XHJcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IHRoaXMudGltZWxpbmVNYXJrZXJzOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICB2YXIgbWFya2VyID0gX2FbX2ldO1xyXG4gICAgICAgICAgICB0aGlzLnNlZWtCYXJNYXJrZXJzQ29udGFpbmVyLmFwcGVuZChuZXcgZG9tXzEuRE9NKCdkaXYnLCB7XHJcbiAgICAgICAgICAgICAgICAnY2xhc3MnOiB0aGlzLnByZWZpeENzcygnc2Vla2Jhci1tYXJrZXInKSxcclxuICAgICAgICAgICAgICAgICdkYXRhLW1hcmtlci10aW1lJzogU3RyaW5nKG1hcmtlci50aW1lKSxcclxuICAgICAgICAgICAgICAgICdkYXRhLW1hcmtlci10aXRsZSc6IFN0cmluZyhtYXJrZXIudGl0bGUpLFxyXG4gICAgICAgICAgICB9KS5jc3Moe1xyXG4gICAgICAgICAgICAgICAgJ3dpZHRoJzogbWFya2VyLnRpbWUgKyAnJScsXHJcbiAgICAgICAgICAgIH0pKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgU2Vla0Jhci5wcm90b3R5cGUuZ2V0TWFya2VyQXRQb3NpdGlvbiA9IGZ1bmN0aW9uIChwZXJjZW50YWdlKSB7XHJcbiAgICAgICAgdmFyIHNuYXBwZWRNYXJrZXIgPSBudWxsO1xyXG4gICAgICAgIHZhciBzbmFwcGluZ1JhbmdlID0gMTtcclxuICAgICAgICBpZiAodGhpcy50aW1lbGluZU1hcmtlcnMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gdGhpcy50aW1lbGluZU1hcmtlcnM7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbWFya2VyID0gX2FbX2ldO1xyXG4gICAgICAgICAgICAgICAgaWYgKHBlcmNlbnRhZ2UgPj0gbWFya2VyLnRpbWUgLSBzbmFwcGluZ1JhbmdlICYmIHBlcmNlbnRhZ2UgPD0gbWFya2VyLnRpbWUgKyBzbmFwcGluZ1JhbmdlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc25hcHBlZE1hcmtlciA9IG1hcmtlcjtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gc25hcHBlZE1hcmtlcjtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEdldHMgdGhlIGhvcml6b250YWwgb2Zmc2V0IG9mIGEgbW91c2UvdG91Y2ggZXZlbnQgcG9pbnQgZnJvbSB0aGUgbGVmdCBlZGdlIG9mIHRoZSBzZWVrIGJhci5cclxuICAgICAqIEBwYXJhbSBldmVudFBhZ2VYIHRoZSBwYWdlWCBjb29yZGluYXRlIG9mIGFuIGV2ZW50IHRvIGNhbGN1bGF0ZSB0aGUgb2Zmc2V0IGZyb21cclxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IGEgbnVtYmVyIGluIHRoZSByYW5nZSBvZiBbMCwgMV0sIHdoZXJlIDAgaXMgdGhlIGxlZnQgZWRnZSBhbmQgMSBpcyB0aGUgcmlnaHQgZWRnZVxyXG4gICAgICovXHJcbiAgICBTZWVrQmFyLnByb3RvdHlwZS5nZXRIb3Jpem9udGFsT2Zmc2V0ID0gZnVuY3Rpb24gKGV2ZW50UGFnZVgpIHtcclxuICAgICAgICB2YXIgZWxlbWVudE9mZnNldFB4ID0gdGhpcy5zZWVrQmFyLm9mZnNldCgpLmxlZnQ7XHJcbiAgICAgICAgdmFyIHdpZHRoUHggPSB0aGlzLnNlZWtCYXIud2lkdGgoKTtcclxuICAgICAgICB2YXIgb2Zmc2V0UHggPSBldmVudFBhZ2VYIC0gZWxlbWVudE9mZnNldFB4O1xyXG4gICAgICAgIHZhciBvZmZzZXQgPSAxIC8gd2lkdGhQeCAqIG9mZnNldFB4O1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNhbml0aXplT2Zmc2V0KG9mZnNldCk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIHRoZSB2ZXJ0aWNhbCBvZmZzZXQgb2YgYSBtb3VzZS90b3VjaCBldmVudCBwb2ludCBmcm9tIHRoZSBib3R0b20gZWRnZSBvZiB0aGUgc2VlayBiYXIuXHJcbiAgICAgKiBAcGFyYW0gZXZlbnRQYWdlWSB0aGUgcGFnZVggY29vcmRpbmF0ZSBvZiBhbiBldmVudCB0byBjYWxjdWxhdGUgdGhlIG9mZnNldCBmcm9tXHJcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBhIG51bWJlciBpbiB0aGUgcmFuZ2Ugb2YgWzAsIDFdLCB3aGVyZSAwIGlzIHRoZSBib3R0b20gZWRnZSBhbmQgMSBpcyB0aGUgdG9wIGVkZ2VcclxuICAgICAqL1xyXG4gICAgU2Vla0Jhci5wcm90b3R5cGUuZ2V0VmVydGljYWxPZmZzZXQgPSBmdW5jdGlvbiAoZXZlbnRQYWdlWSkge1xyXG4gICAgICAgIHZhciBlbGVtZW50T2Zmc2V0UHggPSB0aGlzLnNlZWtCYXIub2Zmc2V0KCkudG9wO1xyXG4gICAgICAgIHZhciB3aWR0aFB4ID0gdGhpcy5zZWVrQmFyLmhlaWdodCgpO1xyXG4gICAgICAgIHZhciBvZmZzZXRQeCA9IGV2ZW50UGFnZVkgLSBlbGVtZW50T2Zmc2V0UHg7XHJcbiAgICAgICAgdmFyIG9mZnNldCA9IDEgLyB3aWR0aFB4ICogb2Zmc2V0UHg7XHJcbiAgICAgICAgcmV0dXJuIDEgLSB0aGlzLnNhbml0aXplT2Zmc2V0KG9mZnNldCk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIHRoZSBtb3VzZSBvciB0b3VjaCBldmVudCBvZmZzZXQgZm9yIHRoZSBjdXJyZW50IGNvbmZpZ3VyYXRpb24gKGhvcml6b250YWwgb3IgdmVydGljYWwpLlxyXG4gICAgICogQHBhcmFtIGUgdGhlIGV2ZW50IHRvIGNhbGN1bGF0ZSB0aGUgb2Zmc2V0IGZyb21cclxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IGEgbnVtYmVyIGluIHRoZSByYW5nZSBvZiBbMCwgMV1cclxuICAgICAqIEBzZWUgI2dldEhvcml6b250YWxPZmZzZXRcclxuICAgICAqIEBzZWUgI2dldFZlcnRpY2FsT2Zmc2V0XHJcbiAgICAgKi9cclxuICAgIFNlZWtCYXIucHJvdG90eXBlLmdldE9mZnNldCA9IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgaWYgKHRoaXMudG91Y2hTdXBwb3J0ZWQgJiYgZSBpbnN0YW5jZW9mIFRvdWNoRXZlbnQpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuY29uZmlnLnZlcnRpY2FsKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRWZXJ0aWNhbE9mZnNldChlLnR5cGUgPT09ICd0b3VjaGVuZCcgPyBlLmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VZIDogZS50b3VjaGVzWzBdLnBhZ2VZKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldEhvcml6b250YWxPZmZzZXQoZS50eXBlID09PSAndG91Y2hlbmQnID8gZS5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWCA6IGUudG91Y2hlc1swXS5wYWdlWCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoZSBpbnN0YW5jZW9mIE1vdXNlRXZlbnQpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuY29uZmlnLnZlcnRpY2FsKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRWZXJ0aWNhbE9mZnNldChlLnBhZ2VZKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldEhvcml6b250YWxPZmZzZXQoZS5wYWdlWCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChjb25zb2xlKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ2ludmFsaWQgZXZlbnQnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBTYW5pdGl6ZXMgdGhlIG1vdXNlIG9mZnNldCB0byB0aGUgcmFuZ2Ugb2YgWzAsIDFdLlxyXG4gICAgICpcclxuICAgICAqIFdoZW4gdHJhY2tpbmcgdGhlIG1vdXNlIG91dHNpZGUgdGhlIHNlZWsgYmFyLCB0aGUgb2Zmc2V0IGNhbiBiZSBvdXRzaWRlIHRoZSBkZXNpcmVkIHJhbmdlIGFuZCB0aGlzIG1ldGhvZFxyXG4gICAgICogbGltaXRzIGl0IHRvIHRoZSBkZXNpcmVkIHJhbmdlLiBFLmcuIGEgbW91c2UgZXZlbnQgbGVmdCBvZiB0aGUgbGVmdCBlZGdlIG9mIGEgc2VlayBiYXIgeWllbGRzIGFuIG9mZnNldCBiZWxvd1xyXG4gICAgICogemVybywgYnV0IHRvIGRpc3BsYXkgdGhlIHNlZWsgdGFyZ2V0IG9uIHRoZSBzZWVrIGJhciwgd2UgbmVlZCB0byBsaW1pdCBpdCB0byB6ZXJvLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBvZmZzZXQgdGhlIG9mZnNldCB0byBzYW5pdGl6ZVxyXG4gICAgICogQHJldHVybnMge251bWJlcn0gdGhlIHNhbml0aXplZCBvZmZzZXQuXHJcbiAgICAgKi9cclxuICAgIFNlZWtCYXIucHJvdG90eXBlLnNhbml0aXplT2Zmc2V0ID0gZnVuY3Rpb24gKG9mZnNldCkge1xyXG4gICAgICAgIC8vIFNpbmNlIHdlIHRyYWNrIG1vdXNlIG1vdmVzIG92ZXIgdGhlIHdob2xlIGRvY3VtZW50LCB0aGUgdGFyZ2V0IGNhbiBiZSBvdXRzaWRlIHRoZSBzZWVrIHJhbmdlLFxyXG4gICAgICAgIC8vIGFuZCB3ZSBuZWVkIHRvIGxpbWl0IGl0IHRvIHRoZSBbMCwgMV0gcmFuZ2UuXHJcbiAgICAgICAgaWYgKG9mZnNldCA8IDApIHtcclxuICAgICAgICAgICAgb2Zmc2V0ID0gMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAob2Zmc2V0ID4gMSkge1xyXG4gICAgICAgICAgICBvZmZzZXQgPSAxO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gb2Zmc2V0O1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogU2V0cyB0aGUgcG9zaXRpb24gb2YgdGhlIHBsYXliYWNrIHBvc2l0aW9uIGluZGljYXRvci5cclxuICAgICAqIEBwYXJhbSBwZXJjZW50IGEgbnVtYmVyIGJldHdlZW4gMCBhbmQgMTAwIGFzIHJldHVybmVkIGJ5IHRoZSBwbGF5ZXJcclxuICAgICAqL1xyXG4gICAgU2Vla0Jhci5wcm90b3R5cGUuc2V0UGxheWJhY2tQb3NpdGlvbiA9IGZ1bmN0aW9uIChwZXJjZW50KSB7XHJcbiAgICAgICAgdGhpcy5wbGF5YmFja1Bvc2l0aW9uUGVyY2VudGFnZSA9IHBlcmNlbnQ7XHJcbiAgICAgICAgLy8gU2V0IHBvc2l0aW9uIG9mIHRoZSBiYXJcclxuICAgICAgICB0aGlzLnNldFBvc2l0aW9uKHRoaXMuc2Vla0JhclBsYXliYWNrUG9zaXRpb24sIHBlcmNlbnQpO1xyXG4gICAgICAgIC8vIFNldCBwb3NpdGlvbiBvZiB0aGUgbWFya2VyXHJcbiAgICAgICAgdmFyIHRvdGFsU2l6ZSA9ICh0aGlzLmNvbmZpZy52ZXJ0aWNhbCA/ICh0aGlzLnNlZWtCYXIuaGVpZ2h0KCkgLSB0aGlzLnNlZWtCYXJQbGF5YmFja1Bvc2l0aW9uTWFya2VyLmhlaWdodCgpKSA6IHRoaXMuc2Vla0Jhci53aWR0aCgpKTtcclxuICAgICAgICB2YXIgcHggPSAodG90YWxTaXplKSAvIDEwMCAqIHBlcmNlbnQ7XHJcbiAgICAgICAgaWYgKHRoaXMuY29uZmlnLnZlcnRpY2FsKSB7XHJcbiAgICAgICAgICAgIHB4ID0gdGhpcy5zZWVrQmFyLmhlaWdodCgpIC0gcHggLSB0aGlzLnNlZWtCYXJQbGF5YmFja1Bvc2l0aW9uTWFya2VyLmhlaWdodCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgc3R5bGUgPSB0aGlzLmNvbmZpZy52ZXJ0aWNhbCA/XHJcbiAgICAgICAgICAgIC8vIC1tcy10cmFuc2Zvcm0gcmVxdWlyZWQgZm9yIElFOVxyXG4gICAgICAgICAgICB7ICd0cmFuc2Zvcm0nOiAndHJhbnNsYXRlWSgnICsgcHggKyAncHgpJywgJy1tcy10cmFuc2Zvcm0nOiAndHJhbnNsYXRlWSgnICsgcHggKyAncHgpJyB9IDpcclxuICAgICAgICAgICAgeyAndHJhbnNmb3JtJzogJ3RyYW5zbGF0ZVgoJyArIHB4ICsgJ3B4KScsICctbXMtdHJhbnNmb3JtJzogJ3RyYW5zbGF0ZVgoJyArIHB4ICsgJ3B4KScgfTtcclxuICAgICAgICB0aGlzLnNlZWtCYXJQbGF5YmFja1Bvc2l0aW9uTWFya2VyLmNzcyhzdHlsZSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZWZyZXNoZXMgdGhlIHBsYXliYWNrIHBvc2l0aW9uLiBDYW4gYmUgdXNlZCBieSBzdWJjbGFzc2VzIHRvIHJlZnJlc2ggdGhlIHBvc2l0aW9uIHdoZW5cclxuICAgICAqIHRoZSBzaXplIG9mIHRoZSBjb21wb25lbnQgY2hhbmdlcy5cclxuICAgICAqL1xyXG4gICAgU2Vla0Jhci5wcm90b3R5cGUucmVmcmVzaFBsYXliYWNrUG9zaXRpb24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5zZXRQbGF5YmFja1Bvc2l0aW9uKHRoaXMucGxheWJhY2tQb3NpdGlvblBlcmNlbnRhZ2UpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogU2V0cyB0aGUgcG9zaXRpb24gdW50aWwgd2hpY2ggbWVkaWEgaXMgYnVmZmVyZWQuXHJcbiAgICAgKiBAcGFyYW0gcGVyY2VudCBhIG51bWJlciBiZXR3ZWVuIDAgYW5kIDEwMFxyXG4gICAgICovXHJcbiAgICBTZWVrQmFyLnByb3RvdHlwZS5zZXRCdWZmZXJQb3NpdGlvbiA9IGZ1bmN0aW9uIChwZXJjZW50KSB7XHJcbiAgICAgICAgdGhpcy5zZXRQb3NpdGlvbih0aGlzLnNlZWtCYXJCdWZmZXJQb3NpdGlvbiwgcGVyY2VudCk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBTZXRzIHRoZSBwb3NpdGlvbiB3aGVyZSBhIHNlZWssIGlmIGV4ZWN1dGVkLCB3b3VsZCBqdW1wIHRvLlxyXG4gICAgICogQHBhcmFtIHBlcmNlbnQgYSBudW1iZXIgYmV0d2VlbiAwIGFuZCAxMDBcclxuICAgICAqL1xyXG4gICAgU2Vla0Jhci5wcm90b3R5cGUuc2V0U2Vla1Bvc2l0aW9uID0gZnVuY3Rpb24gKHBlcmNlbnQpIHtcclxuICAgICAgICB0aGlzLnNldFBvc2l0aW9uKHRoaXMuc2Vla0JhclNlZWtQb3NpdGlvbiwgcGVyY2VudCk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgdGhlIGFjdHVhbCBwb3NpdGlvbiAod2lkdGggb3IgaGVpZ2h0KSBvZiBhIERPTSBlbGVtZW50IHRoYXQgcmVwcmVzZW50IGEgYmFyIGluIHRoZSBzZWVrIGJhci5cclxuICAgICAqIEBwYXJhbSBlbGVtZW50IHRoZSBlbGVtZW50IHRvIHNldCB0aGUgcG9zaXRpb24gZm9yXHJcbiAgICAgKiBAcGFyYW0gcGVyY2VudCBhIG51bWJlciBiZXR3ZWVuIDAgYW5kIDEwMFxyXG4gICAgICovXHJcbiAgICBTZWVrQmFyLnByb3RvdHlwZS5zZXRQb3NpdGlvbiA9IGZ1bmN0aW9uIChlbGVtZW50LCBwZXJjZW50KSB7XHJcbiAgICAgICAgdmFyIHNjYWxlID0gcGVyY2VudCAvIDEwMDtcclxuICAgICAgICB2YXIgc3R5bGUgPSB0aGlzLmNvbmZpZy52ZXJ0aWNhbCA/XHJcbiAgICAgICAgICAgIC8vIC1tcy10cmFuc2Zvcm0gcmVxdWlyZWQgZm9yIElFOVxyXG4gICAgICAgICAgICB7ICd0cmFuc2Zvcm0nOiAnc2NhbGVZKCcgKyBzY2FsZSArICcpJywgJy1tcy10cmFuc2Zvcm0nOiAnc2NhbGVZKCcgKyBzY2FsZSArICcpJyB9IDpcclxuICAgICAgICAgICAgeyAndHJhbnNmb3JtJzogJ3NjYWxlWCgnICsgc2NhbGUgKyAnKScsICctbXMtdHJhbnNmb3JtJzogJ3NjYWxlWCgnICsgc2NhbGUgKyAnKScgfTtcclxuICAgICAgICBlbGVtZW50LmNzcyhzdHlsZSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBQdXRzIHRoZSBzZWVrIGJhciBpbnRvIG9yIG91dCBvZiBzZWVraW5nIHN0YXRlIGJ5IGFkZGluZy9yZW1vdmluZyBhIGNsYXNzIHRvIHRoZSBET00gZWxlbWVudC4gVGhpcyBjYW4gYmUgdXNlZFxyXG4gICAgICogdG8gYWRqdXN0IHRoZSBzdHlsaW5nIHdoaWxlIHNlZWtpbmcuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHNlZWtpbmcgc2hvdWxkIGJlIHRydWUgd2hlbiBlbnRlcmluZyBzZWVrIHN0YXRlLCBmYWxzZSB3aGVuIGV4aXRpbmcgdGhlIHNlZWsgc3RhdGVcclxuICAgICAqL1xyXG4gICAgU2Vla0Jhci5wcm90b3R5cGUuc2V0U2Vla2luZyA9IGZ1bmN0aW9uIChzZWVraW5nKSB7XHJcbiAgICAgICAgaWYgKHNlZWtpbmcpIHtcclxuICAgICAgICAgICAgdGhpcy5nZXREb21FbGVtZW50KCkuYWRkQ2xhc3ModGhpcy5wcmVmaXhDc3MoU2Vla0Jhci5DTEFTU19TRUVLSU5HKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmdldERvbUVsZW1lbnQoKS5yZW1vdmVDbGFzcyh0aGlzLnByZWZpeENzcyhTZWVrQmFyLkNMQVNTX1NFRUtJTkcpKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVja3MgaWYgdGhlIHNlZWsgYmFyIGlzIGN1cnJlbnRseSBpbiB0aGUgc2VlayBzdGF0ZS5cclxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlmIGluIHNlZWsgc3RhdGUsIGVsc2UgZmFsc2VcclxuICAgICAqL1xyXG4gICAgU2Vla0Jhci5wcm90b3R5cGUuaXNTZWVraW5nID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldERvbUVsZW1lbnQoKS5oYXNDbGFzcyh0aGlzLnByZWZpeENzcyhTZWVrQmFyLkNMQVNTX1NFRUtJTkcpKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIENoZWNrcyBpZiB0aGUgc2VlayBiYXIgaGFzIGEge0BsaW5rIFNlZWtCYXJMYWJlbH0uXHJcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpZiB0aGUgc2VlayBiYXIgaGFzIGEgbGFiZWwsIGVsc2UgZmFsc2VcclxuICAgICAqL1xyXG4gICAgU2Vla0Jhci5wcm90b3R5cGUuaGFzTGFiZWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubGFiZWwgIT0gbnVsbDtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEdldHMgdGhlIGxhYmVsIG9mIHRoaXMgc2VlayBiYXIuXHJcbiAgICAgKiBAcmV0dXJucyB7U2Vla0JhckxhYmVsfSB0aGUgbGFiZWwgaWYgdGhpcyBzZWVrIGJhciBoYXMgYSBsYWJlbCwgZWxzZSBudWxsXHJcbiAgICAgKi9cclxuICAgIFNlZWtCYXIucHJvdG90eXBlLmdldExhYmVsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmxhYmVsO1xyXG4gICAgfTtcclxuICAgIFNlZWtCYXIucHJvdG90eXBlLm9uU2Vla0V2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuc2Vla0JhckV2ZW50cy5vblNlZWsuZGlzcGF0Y2godGhpcyk7XHJcbiAgICB9O1xyXG4gICAgU2Vla0Jhci5wcm90b3R5cGUub25TZWVrUHJldmlld0V2ZW50ID0gZnVuY3Rpb24gKHBlcmNlbnRhZ2UsIHNjcnViYmluZykge1xyXG4gICAgICAgIHZhciBzbmFwcGVkTWFya2VyID0gdGhpcy5nZXRNYXJrZXJBdFBvc2l0aW9uKHBlcmNlbnRhZ2UpO1xyXG4gICAgICAgIGlmICh0aGlzLmxhYmVsKSB7XHJcbiAgICAgICAgICAgIHRoaXMubGFiZWwuZ2V0RG9tRWxlbWVudCgpLmNzcyh7XHJcbiAgICAgICAgICAgICAgICAnbGVmdCc6IChzbmFwcGVkTWFya2VyID8gc25hcHBlZE1hcmtlci50aW1lIDogcGVyY2VudGFnZSkgKyAnJScsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnNlZWtCYXJFdmVudHMub25TZWVrUHJldmlldy5kaXNwYXRjaCh0aGlzLCB7XHJcbiAgICAgICAgICAgIHNjcnViYmluZzogc2NydWJiaW5nLFxyXG4gICAgICAgICAgICBwb3NpdGlvbjogcGVyY2VudGFnZSxcclxuICAgICAgICAgICAgbWFya2VyOiBzbmFwcGVkTWFya2VyLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIFNlZWtCYXIucHJvdG90eXBlLm9uU2Vla2VkRXZlbnQgPSBmdW5jdGlvbiAocGVyY2VudGFnZSkge1xyXG4gICAgICAgIHRoaXMuc2Vla0JhckV2ZW50cy5vblNlZWtlZC5kaXNwYXRjaCh0aGlzLCBwZXJjZW50YWdlKTtcclxuICAgIH07XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU2Vla0Jhci5wcm90b3R5cGUsIFwib25TZWVrXCIsIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBHZXRzIHRoZSBldmVudCB0aGF0IGlzIGZpcmVkIHdoZW4gYSBzY3J1YmJpbmcgc2VlayBvcGVyYXRpb24gaXMgc3RhcnRlZC5cclxuICAgICAgICAgKiBAcmV0dXJucyB7RXZlbnQ8U2Vla0JhciwgTm9BcmdzPn1cclxuICAgICAgICAgKi9cclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2Vla0JhckV2ZW50cy5vblNlZWsuZ2V0RXZlbnQoKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTZWVrQmFyLnByb3RvdHlwZSwgXCJvblNlZWtQcmV2aWV3XCIsIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBHZXRzIHRoZSBldmVudCB0aGF0IGlzIGZpcmVkIGR1cmluZyBhIHNjcnViYmluZyBzZWVrICh0byBpbmRpY2F0ZSB0aGF0IHRoZSBzZWVrIHByZXZpZXcsIGkuZS4gdGhlIHZpZGVvIGZyYW1lLFxyXG4gICAgICAgICAqIHNob3VsZCBiZSB1cGRhdGVkKSwgb3IgZHVyaW5nIGEgbm9ybWFsIHNlZWsgcHJldmlldyB3aGVuIHRoZSBzZWVrIGJhciBpcyBob3ZlcmVkIChhbmQgdGhlIHNlZWsgdGFyZ2V0LFxyXG4gICAgICAgICAqIGkuZS4gdGhlIHNlZWsgYmFyIGxhYmVsLCBzaG91bGQgYmUgdXBkYXRlZCkuXHJcbiAgICAgICAgICogQHJldHVybnMge0V2ZW50PFNlZWtCYXIsIFNlZWtQcmV2aWV3RXZlbnRBcmdzPn1cclxuICAgICAgICAgKi9cclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2Vla0JhckV2ZW50cy5vblNlZWtQcmV2aWV3LmdldEV2ZW50KCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU2Vla0Jhci5wcm90b3R5cGUsIFwib25TZWVrZWRcIiwge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEdldHMgdGhlIGV2ZW50IHRoYXQgaXMgZmlyZWQgd2hlbiBhIHNjcnViYmluZyBzZWVrIGhhcyBmaW5pc2hlZCBvciB3aGVuIGEgZGlyZWN0IHNlZWsgaXMgaXNzdWVkLlxyXG4gICAgICAgICAqIEByZXR1cm5zIHtFdmVudDxTZWVrQmFyLCBudW1iZXI+fVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zZWVrQmFyRXZlbnRzLm9uU2Vla2VkLmdldEV2ZW50KCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBTZWVrQmFyLnByb3RvdHlwZS5vblNob3dFdmVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLm9uU2hvd0V2ZW50LmNhbGwodGhpcyk7XHJcbiAgICAgICAgLy8gUmVmcmVzaCB0aGUgcG9zaXRpb24gb2YgdGhlIHBsYXliYWNrIHBvc2l0aW9uIHdoZW4gdGhlIHNlZWsgYmFyIGJlY29tZXMgdmlzaWJsZS4gVG8gY29ycmVjdGx5IHNldCB0aGUgcG9zaXRpb24sXHJcbiAgICAgICAgLy8gdGhlIERPTSBlbGVtZW50IG11c3QgYmUgZnVsbHkgaW5pdGlhbGl6ZWQgYW4gaGF2ZSBpdHMgc2l6ZSBjYWxjdWxhdGVkLCBiZWNhdXNlIHRoZSBwb3NpdGlvbiBpcyBzZXQgYXMgYW4gYWJzb2x1dGVcclxuICAgICAgICAvLyB2YWx1ZSBjYWxjdWxhdGVkIGZyb20gdGhlIHNpemUuIFRoaXMgcmVxdWlyZWQgc2l6ZSBpcyBub3Qga25vd24gd2hlbiBpdCBpcyBoaWRkZW4uXHJcbiAgICAgICAgLy8gRm9yIHN1Y2ggY2FzZXMsIHdlIHJlZnJlc2ggdGhlIHBvc2l0aW9uIGhlcmUgaW4gb25TaG93IGJlY2F1c2UgaGVyZSBpdCBpcyBndWFyYW50ZWVkIHRoYXQgdGhlIGNvbXBvbmVudCBrbm93c1xyXG4gICAgICAgIC8vIGl0cyBzaXplIGFuZCBjYW4gc2V0IHRoZSBwb3NpdGlvbiBjb3JyZWN0bHkuXHJcbiAgICAgICAgdGhpcy5yZWZyZXNoUGxheWJhY2tQb3NpdGlvbigpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBTZWVrQmFyO1xyXG59KGNvbXBvbmVudF8xLkNvbXBvbmVudCkpO1xyXG5TZWVrQmFyLlNNT09USF9QTEFZQkFDS19QT1NJVElPTl9VUERBVEVfRElTQUJMRUQgPSAtMTtcclxuLyoqXHJcbiAqIFRoZSBDU1MgY2xhc3MgdGhhdCBpcyBhZGRlZCB0byB0aGUgRE9NIGVsZW1lbnQgd2hpbGUgdGhlIHNlZWsgYmFyIGlzIGluICdzZWVraW5nJyBzdGF0ZS5cclxuICovXHJcblNlZWtCYXIuQ0xBU1NfU0VFS0lORyA9ICdzZWVraW5nJztcclxuZXhwb3J0cy5TZWVrQmFyID0gU2Vla0JhcjtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3NlZWtiYXIudHNcbi8vIG1vZHVsZSBpZCA9IDEzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBTdHJpbmdVdGlscztcclxuKGZ1bmN0aW9uIChTdHJpbmdVdGlscykge1xyXG4gICAgU3RyaW5nVXRpbHMuRk9STUFUX0hITU1TUyA9ICdoaDptbTpzcyc7XHJcbiAgICBTdHJpbmdVdGlscy5GT1JNQVRfTU1TUyA9ICdtbTpzcyc7XHJcbiAgICAvKipcclxuICAgICAqIEZvcm1hdHMgYSBudW1iZXIgb2Ygc2Vjb25kcyBpbnRvIGEgdGltZSBzdHJpbmcgd2l0aCB0aGUgcGF0dGVybiBoaDptbTpzcy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gdG90YWxTZWNvbmRzIHRoZSB0b3RhbCBudW1iZXIgb2Ygc2Vjb25kcyB0byBmb3JtYXQgdG8gc3RyaW5nXHJcbiAgICAgKiBAcGFyYW0gZm9ybWF0IHRoZSB0aW1lIGZvcm1hdCB0byBvdXRwdXQgKGRlZmF1bHQ6IGhoOm1tOnNzKVxyXG4gICAgICogQHJldHVybnMge3N0cmluZ30gdGhlIGZvcm1hdHRlZCB0aW1lIHN0cmluZ1xyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBzZWNvbmRzVG9UaW1lKHRvdGFsU2Vjb25kcywgZm9ybWF0KSB7XHJcbiAgICAgICAgaWYgKGZvcm1hdCA9PT0gdm9pZCAwKSB7IGZvcm1hdCA9IFN0cmluZ1V0aWxzLkZPUk1BVF9ISE1NU1M7IH1cclxuICAgICAgICB2YXIgaXNOZWdhdGl2ZSA9IHRvdGFsU2Vjb25kcyA8IDA7XHJcbiAgICAgICAgaWYgKGlzTmVnYXRpdmUpIHtcclxuICAgICAgICAgICAgLy8gSWYgdGhlIHRpbWUgaXMgbmVnYXRpdmUsIHdlIG1ha2UgaXQgcG9zaXRpdmUgZm9yIHRoZSBjYWxjdWxhdGlvbiBiZWxvd1xyXG4gICAgICAgICAgICAvLyAoZWxzZSB3ZSdkIGdldCBhbGwgbmVnYXRpdmUgbnVtYmVycykgYW5kIHJlYXR0YWNoIHRoZSBuZWdhdGl2ZSBzaWduIGxhdGVyLlxyXG4gICAgICAgICAgICB0b3RhbFNlY29uZHMgPSAtdG90YWxTZWNvbmRzO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBTcGxpdCBpbnRvIHNlcGFyYXRlIHRpbWUgcGFydHNcclxuICAgICAgICB2YXIgaG91cnMgPSBNYXRoLmZsb29yKHRvdGFsU2Vjb25kcyAvIDM2MDApO1xyXG4gICAgICAgIHZhciBtaW51dGVzID0gTWF0aC5mbG9vcih0b3RhbFNlY29uZHMgLyA2MCkgLSBob3VycyAqIDYwO1xyXG4gICAgICAgIHZhciBzZWNvbmRzID0gTWF0aC5mbG9vcih0b3RhbFNlY29uZHMpICUgNjA7XHJcbiAgICAgICAgcmV0dXJuIChpc05lZ2F0aXZlID8gJy0nIDogJycpICsgZm9ybWF0XHJcbiAgICAgICAgICAgIC5yZXBsYWNlKCdoaCcsIGxlZnRQYWRXaXRoWmVyb3MoaG91cnMsIDIpKVxyXG4gICAgICAgICAgICAucmVwbGFjZSgnbW0nLCBsZWZ0UGFkV2l0aFplcm9zKG1pbnV0ZXMsIDIpKVxyXG4gICAgICAgICAgICAucmVwbGFjZSgnc3MnLCBsZWZ0UGFkV2l0aFplcm9zKHNlY29uZHMsIDIpKTtcclxuICAgIH1cclxuICAgIFN0cmluZ1V0aWxzLnNlY29uZHNUb1RpbWUgPSBzZWNvbmRzVG9UaW1lO1xyXG4gICAgLyoqXHJcbiAgICAgKiBDb252ZXJ0cyBhIG51bWJlciB0byBhIHN0cmluZyBhbmQgbGVmdC1wYWRzIGl0IHdpdGggemVyb3MgdG8gdGhlIHNwZWNpZmllZCBsZW5ndGguXHJcbiAgICAgKiBFeGFtcGxlOiBsZWZ0UGFkV2l0aFplcm9zKDEyMywgNSkgPT4gJzAwMTIzJ1xyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBudW0gdGhlIG51bWJlciB0byBjb252ZXJ0IHRvIHN0cmluZyBhbmQgcGFkIHdpdGggemVyb3NcclxuICAgICAqIEBwYXJhbSBsZW5ndGggdGhlIGRlc2lyZWQgbGVuZ3RoIG9mIHRoZSBwYWRkZWQgc3RyaW5nXHJcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSB0aGUgcGFkZGVkIG51bWJlciBhcyBzdHJpbmdcclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gbGVmdFBhZFdpdGhaZXJvcyhudW0sIGxlbmd0aCkge1xyXG4gICAgICAgIHZhciB0ZXh0ID0gbnVtICsgJyc7XHJcbiAgICAgICAgdmFyIHBhZGRpbmcgPSAnMDAwMDAwMDAwMCcuc3Vic3RyKDAsIGxlbmd0aCAtIHRleHQubGVuZ3RoKTtcclxuICAgICAgICByZXR1cm4gcGFkZGluZyArIHRleHQ7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEZpbGxzIG91dCBwbGFjZWhvbGRlcnMgaW4gYW4gYWQgbWVzc2FnZS5cclxuICAgICAqXHJcbiAgICAgKiBIYXMgdGhlIHBsYWNlaG9sZGVycyAne3JlbWFpbmluZ1RpbWVbZm9ybWF0U3RyaW5nXX0nLCAne3BsYXllZFRpbWVbZm9ybWF0U3RyaW5nXX0nIGFuZFxyXG4gICAgICogJ3thZER1cmF0aW9uW2Zvcm1hdFN0cmluZ119Jywgd2hpY2ggYXJlIHJlcGxhY2VkIGJ5IHRoZSByZW1haW5pbmcgdGltZSB1bnRpbCB0aGUgYWQgY2FuIGJlIHNraXBwZWQsIHRoZSBjdXJyZW50XHJcbiAgICAgKiB0aW1lIG9yIHRoZSBhZCBkdXJhdGlvbi4gVGhlIGZvcm1hdCBzdHJpbmcgaXMgb3B0aW9uYWwuIElmIG5vdCBzcGVjaWZpZWQsIHRoZSBwbGFjZWhvbGRlciBpcyByZXBsYWNlZCBieSB0aGUgdGltZVxyXG4gICAgICogaW4gc2Vjb25kcy4gSWYgc3BlY2lmaWVkLCBpdCBtdXN0IGJlIG9mIHRoZSBmb2xsb3dpbmcgZm9ybWF0OlxyXG4gICAgICogLSAlZCAtIEluc2VydHMgdGhlIHRpbWUgYXMgYW4gaW50ZWdlci5cclxuICAgICAqIC0gJTBOZCAtIEluc2VydHMgdGhlIHRpbWUgYXMgYW4gaW50ZWdlciB3aXRoIGxlYWRpbmcgemVyb2VzLCBpZiB0aGUgbGVuZ3RoIG9mIHRoZSB0aW1lIHN0cmluZyBpcyBzbWFsbGVyIHRoYW4gTi5cclxuICAgICAqIC0gJWYgLSBJbnNlcnRzIHRoZSB0aW1lIGFzIGEgZmxvYXQuXHJcbiAgICAgKiAtICUwTmYgLSBJbnNlcnRzIHRoZSB0aW1lIGFzIGEgZmxvYXQgd2l0aCBsZWFkaW5nIHplcm9lcy5cclxuICAgICAqIC0gJS5NZiAtIEluc2VydHMgdGhlIHRpbWUgYXMgYSBmbG9hdCB3aXRoIE0gZGVjaW1hbCBwbGFjZXMuIENhbiBiZSBjb21iaW5lZCB3aXRoICUwTmYsIGUuZy4gJTA0LjJmICh0aGUgdGltZVxyXG4gICAgICogMTAuMTIzXHJcbiAgICAgKiB3b3VsZCBiZSBwcmludGVkIGFzIDAwMTAuMTIpLlxyXG4gICAgICogLSAlaGg6bW06c3NcclxuICAgICAqIC0gJW1tOnNzXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGFkTWVzc2FnZSBhbiBhZCBtZXNzYWdlIHdpdGggb3B0aW9uYWwgcGxhY2Vob2xkZXJzIHRvIGZpbGxcclxuICAgICAqIEBwYXJhbSBza2lwT2Zmc2V0IGlmIHNwZWNpZmllZCwge3JlbWFpbmluZ1RpbWV9IHdpbGwgYmUgZmlsbGVkIHdpdGggdGhlIHJlbWFpbmluZyB0aW1lIHVudGlsIHRoZSBhZCBjYW4gYmUgc2tpcHBlZFxyXG4gICAgICogQHBhcmFtIHBsYXllciB0aGUgcGxheWVyIHRvIGdldCB0aGUgdGltZSBkYXRhIGZyb21cclxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IHRoZSBhZCBtZXNzYWdlIHdpdGggZmlsbGVkIHBsYWNlaG9sZGVyc1xyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiByZXBsYWNlQWRNZXNzYWdlUGxhY2Vob2xkZXJzKGFkTWVzc2FnZSwgc2tpcE9mZnNldCwgcGxheWVyKSB7XHJcbiAgICAgICAgdmFyIGFkTWVzc2FnZVBsYWNlaG9sZGVyUmVnZXggPSBuZXcgUmVnRXhwKCdcXFxceyhyZW1haW5pbmdUaW1lfHBsYXllZFRpbWV8YWREdXJhdGlvbikofXwlKCgwWzEtOV1cXFxcZCooXFxcXC5cXFxcZCsoZHxmKXxkfGYpfFxcXFwuXFxcXGQrZnxkfGYpfGhoOm1tOnNzfG1tOnNzKX0pJywgJ2cnKTtcclxuICAgICAgICByZXR1cm4gYWRNZXNzYWdlLnJlcGxhY2UoYWRNZXNzYWdlUGxhY2Vob2xkZXJSZWdleCwgZnVuY3Rpb24gKGZvcm1hdFN0cmluZykge1xyXG4gICAgICAgICAgICB2YXIgdGltZSA9IDA7XHJcbiAgICAgICAgICAgIGlmIChmb3JtYXRTdHJpbmcuaW5kZXhPZigncmVtYWluaW5nVGltZScpID4gLTEpIHtcclxuICAgICAgICAgICAgICAgIGlmIChza2lwT2Zmc2V0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGltZSA9IE1hdGguY2VpbChza2lwT2Zmc2V0IC0gcGxheWVyLmdldEN1cnJlbnRUaW1lKCkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGltZSA9IHBsYXllci5nZXREdXJhdGlvbigpIC0gcGxheWVyLmdldEN1cnJlbnRUaW1lKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoZm9ybWF0U3RyaW5nLmluZGV4T2YoJ3BsYXllZFRpbWUnKSA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICB0aW1lID0gcGxheWVyLmdldEN1cnJlbnRUaW1lKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoZm9ybWF0U3RyaW5nLmluZGV4T2YoJ2FkRHVyYXRpb24nKSA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICB0aW1lID0gcGxheWVyLmdldER1cmF0aW9uKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGZvcm1hdE51bWJlcih0aW1lLCBmb3JtYXRTdHJpbmcpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgU3RyaW5nVXRpbHMucmVwbGFjZUFkTWVzc2FnZVBsYWNlaG9sZGVycyA9IHJlcGxhY2VBZE1lc3NhZ2VQbGFjZWhvbGRlcnM7XHJcbiAgICBmdW5jdGlvbiBmb3JtYXROdW1iZXIodGltZSwgZm9ybWF0KSB7XHJcbiAgICAgICAgdmFyIGZvcm1hdFN0cmluZ1ZhbGlkYXRpb25SZWdleCA9IC8lKCgwWzEtOV1cXGQqKFxcLlxcZCsoZHxmKXxkfGYpfFxcLlxcZCtmfGR8Zil8aGg6bW06c3N8bW06c3MpLztcclxuICAgICAgICB2YXIgbGVhZGluZ1plcm9lc1JlZ2V4ID0gLyglMFsxLTldXFxkKikoPz0oXFwuXFxkK2Z8ZnxkKSkvO1xyXG4gICAgICAgIHZhciBkZWNpbWFsUGxhY2VzUmVnZXggPSAvXFwuXFxkKig/PWYpLztcclxuICAgICAgICBpZiAoIWZvcm1hdFN0cmluZ1ZhbGlkYXRpb25SZWdleC50ZXN0KGZvcm1hdCkpIHtcclxuICAgICAgICAgICAgLy8gSWYgdGhlIGZvcm1hdCBpcyBpbnZhbGlkLCB3ZSBzZXQgYSBkZWZhdWx0IGZhbGxiYWNrIGZvcm1hdFxyXG4gICAgICAgICAgICBmb3JtYXQgPSAnJWQnO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBEZXRlcm1pbmUgdGhlIG51bWJlciBvZiBsZWFkaW5nIHplcm9zXHJcbiAgICAgICAgdmFyIGxlYWRpbmdaZXJvZXMgPSAwO1xyXG4gICAgICAgIHZhciBsZWFkaW5nWmVyb2VzTWF0Y2hlcyA9IGZvcm1hdC5tYXRjaChsZWFkaW5nWmVyb2VzUmVnZXgpO1xyXG4gICAgICAgIGlmIChsZWFkaW5nWmVyb2VzTWF0Y2hlcykge1xyXG4gICAgICAgICAgICBsZWFkaW5nWmVyb2VzID0gcGFyc2VJbnQobGVhZGluZ1plcm9lc01hdGNoZXNbMF0uc3Vic3RyaW5nKDIpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gRGV0ZXJtaW5lIHRoZSBudW1iZXIgb2YgZGVjaW1hbCBwbGFjZXNcclxuICAgICAgICB2YXIgbnVtRGVjaW1hbFBsYWNlcyA9IG51bGw7XHJcbiAgICAgICAgdmFyIGRlY2ltYWxQbGFjZXNNYXRjaGVzID0gZm9ybWF0Lm1hdGNoKGRlY2ltYWxQbGFjZXNSZWdleCk7XHJcbiAgICAgICAgaWYgKGRlY2ltYWxQbGFjZXNNYXRjaGVzICYmICFpc05hTihwYXJzZUludChkZWNpbWFsUGxhY2VzTWF0Y2hlc1swXS5zdWJzdHJpbmcoMSkpKSkge1xyXG4gICAgICAgICAgICBudW1EZWNpbWFsUGxhY2VzID0gcGFyc2VJbnQoZGVjaW1hbFBsYWNlc01hdGNoZXNbMF0uc3Vic3RyaW5nKDEpKTtcclxuICAgICAgICAgICAgaWYgKG51bURlY2ltYWxQbGFjZXMgPiAyMCkge1xyXG4gICAgICAgICAgICAgICAgbnVtRGVjaW1hbFBsYWNlcyA9IDIwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIEZsb2F0IGZvcm1hdFxyXG4gICAgICAgIGlmIChmb3JtYXQuaW5kZXhPZignZicpID4gLTEpIHtcclxuICAgICAgICAgICAgdmFyIHRpbWVTdHJpbmcgPSAnJztcclxuICAgICAgICAgICAgaWYgKG51bURlY2ltYWxQbGFjZXMgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIC8vIEFwcGx5IGZpeGVkIG51bWJlciBvZiBkZWNpbWFsIHBsYWNlc1xyXG4gICAgICAgICAgICAgICAgdGltZVN0cmluZyA9IHRpbWUudG9GaXhlZChudW1EZWNpbWFsUGxhY2VzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRpbWVTdHJpbmcgPSAnJyArIHRpbWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gQXBwbHkgbGVhZGluZyB6ZXJvc1xyXG4gICAgICAgICAgICBpZiAodGltZVN0cmluZy5pbmRleE9mKCcuJykgPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGxlZnRQYWRXaXRoWmVyb3ModGltZVN0cmluZywgdGltZVN0cmluZy5sZW5ndGggKyAobGVhZGluZ1plcm9lcyAtIHRpbWVTdHJpbmcuaW5kZXhPZignLicpKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbGVmdFBhZFdpdGhaZXJvcyh0aW1lU3RyaW5nLCBsZWFkaW5nWmVyb2VzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChmb3JtYXQuaW5kZXhPZignOicpID4gLTEpIHtcclxuICAgICAgICAgICAgdmFyIHRvdGFsU2Vjb25kcyA9IE1hdGguY2VpbCh0aW1lKTtcclxuICAgICAgICAgICAgLy8gaGg6bW06c3MgZm9ybWF0XHJcbiAgICAgICAgICAgIGlmIChmb3JtYXQuaW5kZXhPZignaGgnKSA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc2Vjb25kc1RvVGltZSh0b3RhbFNlY29uZHMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdmFyIG1pbnV0ZXMgPSBNYXRoLmZsb29yKHRvdGFsU2Vjb25kcyAvIDYwKTtcclxuICAgICAgICAgICAgICAgIHZhciBzZWNvbmRzID0gdG90YWxTZWNvbmRzICUgNjA7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbGVmdFBhZFdpdGhaZXJvcyhtaW51dGVzLCAyKSArICc6JyArIGxlZnRQYWRXaXRoWmVyb3Moc2Vjb25kcywgMik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBsZWZ0UGFkV2l0aFplcm9zKE1hdGguY2VpbCh0aW1lKSwgbGVhZGluZ1plcm9lcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59KShTdHJpbmdVdGlscyA9IGV4cG9ydHMuU3RyaW5nVXRpbHMgfHwgKGV4cG9ydHMuU3RyaW5nVXRpbHMgPSB7fSkpO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL3N0cmluZ3V0aWxzLnRzXG4vLyBtb2R1bGUgaWQgPSAxNFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGNvbnRhaW5lcl8xID0gcmVxdWlyZShcIi4vY29udGFpbmVyXCIpO1xyXG52YXIgdWl1dGlsc18xID0gcmVxdWlyZShcIi4uL3VpdXRpbHNcIik7XHJcbnZhciBzcGFjZXJfMSA9IHJlcXVpcmUoXCIuL3NwYWNlclwiKTtcclxuLyoqXHJcbiAqIEEgY29udGFpbmVyIGZvciBtYWluIHBsYXllciBjb250cm9sIGNvbXBvbmVudHMsIGUuZy4gcGxheSB0b2dnbGUgYnV0dG9uLCBzZWVrIGJhciwgdm9sdW1lIGNvbnRyb2wsIGZ1bGxzY3JlZW4gdG9nZ2xlXHJcbiAqIGJ1dHRvbi5cclxuICovXHJcbnZhciBDb250cm9sQmFyID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhDb250cm9sQmFyLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gQ29udHJvbEJhcihjb25maWcsIGF1dG9IaWRlKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgY29uZmlnKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLmNvbmZpZyA9IF90aGlzLm1lcmdlQ29uZmlnKGNvbmZpZywge1xyXG4gICAgICAgICAgICBjc3NDbGFzczogJ3VpLWNvbnRyb2xiYXInLFxyXG4gICAgICAgICAgICBoaWRkZW46IGF1dG9IaWRlLFxyXG4gICAgICAgIH0sIF90aGlzLmNvbmZpZyk7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgQ29udHJvbEJhci5wcm90b3R5cGUuY29uZmlndXJlID0gZnVuY3Rpb24gKHBsYXllciwgdWltYW5hZ2VyKSB7XHJcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5jb25maWd1cmUuY2FsbCh0aGlzLCBwbGF5ZXIsIHVpbWFuYWdlcik7XHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIC8vIENvdW50cyBob3cgbWFueSBjb21wb25lbnRzIGFyZSBob3ZlcmVkIGFuZCBibG9jayBoaWRpbmcgb2YgdGhlIGNvbnRyb2wgYmFyXHJcbiAgICAgICAgdmFyIGhvdmVyU3RhY2tDb3VudCA9IDA7XHJcbiAgICAgICAgLy8gVHJhY2sgaG92ZXIgc3RhdHVzIG9mIGNoaWxkIGNvbXBvbmVudHNcclxuICAgICAgICB1aXV0aWxzXzEuVUlVdGlscy50cmF2ZXJzZVRyZWUodGhpcywgZnVuY3Rpb24gKGNvbXBvbmVudCkge1xyXG4gICAgICAgICAgICAvLyBEbyBub3QgdHJhY2sgaG92ZXIgc3RhdHVzIG9mIGNoaWxkIGNvbnRhaW5lcnMgb3Igc3BhY2Vycywgb25seSBvZiAncmVhbCcgY29udHJvbHNcclxuICAgICAgICAgICAgaWYgKGNvbXBvbmVudCBpbnN0YW5jZW9mIGNvbnRhaW5lcl8xLkNvbnRhaW5lciB8fCBjb21wb25lbnQgaW5zdGFuY2VvZiBzcGFjZXJfMS5TcGFjZXIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBTdWJzY3JpYmUgaG92ZXIgZXZlbnQgYW5kIGtlZXAgYSBjb3VudCBvZiB0aGUgbnVtYmVyIG9mIGhvdmVyZWQgY2hpbGRyZW5cclxuICAgICAgICAgICAgY29tcG9uZW50Lm9uSG92ZXJDaGFuZ2VkLnN1YnNjcmliZShmdW5jdGlvbiAoc2VuZGVyLCBhcmdzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYXJncy5ob3ZlcmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaG92ZXJTdGFja0NvdW50Kys7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBob3ZlclN0YWNrQ291bnQtLTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdWltYW5hZ2VyLm9uQ29udHJvbHNTaG93LnN1YnNjcmliZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChzZWxmLmNvbmZpZy5oaWRkZW4pIHtcclxuICAgICAgICAgICAgICAgIHNlbGYuc2hvdygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdWltYW5hZ2VyLm9uUHJldmlld0NvbnRyb2xzSGlkZS5zdWJzY3JpYmUoZnVuY3Rpb24gKHNlbmRlciwgYXJncykge1xyXG4gICAgICAgICAgICAvLyBDYW5jZWwgdGhlIGhpZGUgZXZlbnQgaWYgaG92ZXJlZCBjaGlsZCBjb21wb25lbnRzIGJsb2NrIGhpZGluZ1xyXG4gICAgICAgICAgICBhcmdzLmNhbmNlbCA9IChob3ZlclN0YWNrQ291bnQgPiAwKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB1aW1hbmFnZXIub25Db250cm9sc0hpZGUuc3Vic2NyaWJlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKHNlbGYuY29uZmlnLmhpZGRlbikge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5oaWRlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gQ29udHJvbEJhcjtcclxufShjb250YWluZXJfMS5Db250YWluZXIpKTtcclxuZXhwb3J0cy5Db250cm9sQmFyID0gQ29udHJvbEJhcjtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL2NvbnRyb2xiYXIudHNcbi8vIG1vZHVsZSBpZCA9IDE1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBjb250YWluZXJfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvY29udGFpbmVyXCIpO1xyXG52YXIgVUlVdGlscztcclxuKGZ1bmN0aW9uIChVSVV0aWxzKSB7XHJcbiAgICBmdW5jdGlvbiB0cmF2ZXJzZVRyZWUoY29tcG9uZW50LCB2aXNpdCkge1xyXG4gICAgICAgIHZhciByZWN1cnNpdmVUcmVlV2Fsa2VyID0gZnVuY3Rpb24gKGNvbXBvbmVudCwgcGFyZW50KSB7XHJcbiAgICAgICAgICAgIHZpc2l0KGNvbXBvbmVudCwgcGFyZW50KTtcclxuICAgICAgICAgICAgLy8gSWYgdGhlIGN1cnJlbnQgY29tcG9uZW50IGlzIGEgY29udGFpbmVyLCB2aXNpdCBpdCdzIGNoaWxkcmVuXHJcbiAgICAgICAgICAgIGlmIChjb21wb25lbnQgaW5zdGFuY2VvZiBjb250YWluZXJfMS5Db250YWluZXIpIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSBjb21wb25lbnQuZ2V0Q29tcG9uZW50cygpOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjaGlsZENvbXBvbmVudCA9IF9hW19pXTtcclxuICAgICAgICAgICAgICAgICAgICByZWN1cnNpdmVUcmVlV2Fsa2VyKGNoaWxkQ29tcG9uZW50LCBjb21wb25lbnQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICAvLyBXYWxrIGFuZCBjb25maWd1cmUgdGhlIGNvbXBvbmVudCB0cmVlXHJcbiAgICAgICAgcmVjdXJzaXZlVHJlZVdhbGtlcihjb21wb25lbnQpO1xyXG4gICAgfVxyXG4gICAgVUlVdGlscy50cmF2ZXJzZVRyZWUgPSB0cmF2ZXJzZVRyZWU7XHJcbn0pKFVJVXRpbHMgPSBleHBvcnRzLlVJVXRpbHMgfHwgKGV4cG9ydHMuVUlVdGlscyA9IHt9KSk7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvdWl1dGlscy50c1xuLy8gbW9kdWxlIGlkID0gMTZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBjb250YWluZXJfMSA9IHJlcXVpcmUoXCIuL2NvbnRhaW5lclwiKTtcclxudmFyIGRvbV8xID0gcmVxdWlyZShcIi4uL2RvbVwiKTtcclxudmFyIHRpbWVvdXRfMSA9IHJlcXVpcmUoXCIuLi90aW1lb3V0XCIpO1xyXG52YXIgcGxheWVydXRpbHNfMSA9IHJlcXVpcmUoXCIuLi9wbGF5ZXJ1dGlsc1wiKTtcclxuLyoqXHJcbiAqIFRoZSBiYXNlIGNvbnRhaW5lciB0aGF0IGNvbnRhaW5zIGFsbCBvZiB0aGUgVUkuIFRoZSBVSUNvbnRhaW5lciBpcyBwYXNzZWQgdG8gdGhlIHtAbGluayBVSU1hbmFnZXJ9IHRvIGJ1aWxkIGFuZFxyXG4gKiBzZXR1cCB0aGUgVUkuXHJcbiAqL1xyXG52YXIgVUlDb250YWluZXIgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKFVJQ29udGFpbmVyLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gVUlDb250YWluZXIoY29uZmlnKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgY29uZmlnKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLmNvbmZpZyA9IF90aGlzLm1lcmdlQ29uZmlnKGNvbmZpZywge1xyXG4gICAgICAgICAgICBjc3NDbGFzczogJ3VpLXVpY29udGFpbmVyJyxcclxuICAgICAgICAgICAgaGlkZURlbGF5OiAyNTAwLFxyXG4gICAgICAgIH0sIF90aGlzLmNvbmZpZyk7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgVUlDb250YWluZXIucHJvdG90eXBlLmNvbmZpZ3VyZSA9IGZ1bmN0aW9uIChwbGF5ZXIsIHVpbWFuYWdlcikge1xyXG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuY29uZmlndXJlLmNhbGwodGhpcywgcGxheWVyLCB1aW1hbmFnZXIpO1xyXG4gICAgICAgIHRoaXMuY29uZmlndXJlVUlTaG93SGlkZShwbGF5ZXIsIHVpbWFuYWdlcik7XHJcbiAgICAgICAgdGhpcy5jb25maWd1cmVQbGF5ZXJTdGF0ZXMocGxheWVyLCB1aW1hbmFnZXIpO1xyXG4gICAgfTtcclxuICAgIFVJQ29udGFpbmVyLnByb3RvdHlwZS5jb25maWd1cmVVSVNob3dIaWRlID0gZnVuY3Rpb24gKHBsYXllciwgdWltYW5hZ2VyKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB2YXIgY29udGFpbmVyID0gdGhpcy5nZXREb21FbGVtZW50KCk7XHJcbiAgICAgICAgdmFyIGNvbmZpZyA9IHRoaXMuZ2V0Q29uZmlnKCk7XHJcbiAgICAgICAgaWYgKGNvbmZpZy5oaWRlRGVsYXkgPT09IC0xKSB7XHJcbiAgICAgICAgICAgIHVpbWFuYWdlci5vbkNvbmZpZ3VyZWQuc3Vic2NyaWJlKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHVpbWFuYWdlci5vbkNvbnRyb2xzU2hvdy5kaXNwYXRjaChfdGhpcyk7IH0pO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBpc1VpU2hvd24gPSBmYWxzZTtcclxuICAgICAgICB2YXIgaXNTZWVraW5nID0gZmFsc2U7XHJcbiAgICAgICAgdmFyIGlzRmlyc3RUb3VjaCA9IHRydWU7XHJcbiAgICAgICAgdmFyIHNob3dVaSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKCFpc1VpU2hvd24pIHtcclxuICAgICAgICAgICAgICAgIC8vIExldCBzdWJzY3JpYmVycyBrbm93IHRoYXQgdGhleSBzaG91bGQgcmV2ZWFsIHRoZW1zZWx2ZXNcclxuICAgICAgICAgICAgICAgIHVpbWFuYWdlci5vbkNvbnRyb2xzU2hvdy5kaXNwYXRjaChfdGhpcyk7XHJcbiAgICAgICAgICAgICAgICBpc1VpU2hvd24gPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIERvbid0IHRyaWdnZXIgdGltZW91dCB3aGlsZSBzZWVraW5nIChpdCB3aWxsIGJlIHRyaWdnZXJlZCBvbmNlIHRoZSBzZWVrIGlzIGZpbmlzaGVkKSBvciBjYXN0aW5nXHJcbiAgICAgICAgICAgIGlmICghaXNTZWVraW5nICYmICFwbGF5ZXIuaXNDYXN0aW5nKCkpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLnVpSGlkZVRpbWVvdXQuc3RhcnQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdmFyIGhpZGVVaSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgLy8gSGlkZSB0aGUgVUkgb25seSBpZiBpdCBpcyBzaG93biwgYW5kIGlmIG5vdCBjYXN0aW5nXHJcbiAgICAgICAgICAgIGlmIChpc1VpU2hvd24gJiYgIXBsYXllci5pc0Nhc3RpbmcoKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gSXNzdWUgYSBwcmV2aWV3IGV2ZW50IHRvIGNoZWNrIGlmIHdlIGFyZSBnb29kIHRvIGhpZGUgdGhlIGNvbnRyb2xzXHJcbiAgICAgICAgICAgICAgICB2YXIgcHJldmlld0hpZGVFdmVudEFyZ3MgPSB7fTtcclxuICAgICAgICAgICAgICAgIHVpbWFuYWdlci5vblByZXZpZXdDb250cm9sc0hpZGUuZGlzcGF0Y2goX3RoaXMsIHByZXZpZXdIaWRlRXZlbnRBcmdzKTtcclxuICAgICAgICAgICAgICAgIGlmICghcHJldmlld0hpZGVFdmVudEFyZ3MuY2FuY2VsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIHByZXZpZXcgd2Fzbid0IGNhbmNlbGVkLCBsZXQgc3Vic2NyaWJlcnMga25vdyB0aGF0IHRoZXkgc2hvdWxkIG5vdyBoaWRlIHRoZW1zZWx2ZXNcclxuICAgICAgICAgICAgICAgICAgICB1aW1hbmFnZXIub25Db250cm9sc0hpZGUuZGlzcGF0Y2goX3RoaXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlzVWlTaG93biA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIGhpZGUgcHJldmlldyB3YXMgY2FuY2VsZWQsIGNvbnRpbnVlIHRvIHNob3cgVUlcclxuICAgICAgICAgICAgICAgICAgICBzaG93VWkoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgLy8gVGltZW91dCB0byBkZWZlciBVSSBoaWRpbmcgYnkgdGhlIGNvbmZpZ3VyZWQgZGVsYXkgdGltZVxyXG4gICAgICAgIHRoaXMudWlIaWRlVGltZW91dCA9IG5ldyB0aW1lb3V0XzEuVGltZW91dChjb25maWcuaGlkZURlbGF5LCBoaWRlVWkpO1xyXG4gICAgICAgIC8vIE9uIHRvdWNoIGRpc3BsYXlzLCB0aGUgZmlyc3QgdG91Y2ggcmV2ZWFscyB0aGUgVUlcclxuICAgICAgICBjb250YWluZXIub24oJ3RvdWNoZW5kJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgaWYgKCFpc1VpU2hvd24pIHtcclxuICAgICAgICAgICAgICAgIC8vIE9ubHkgaWYgdGhlIFVJIGlzIGhpZGRlbiwgd2UgcHJldmVudCBvdGhlciBhY3Rpb25zIChleGNlcHQgZm9yIHRoZSBmaXJzdCB0b3VjaCkgYW5kIHJldmVhbCB0aGUgVUkgaW5zdGVhZC5cclxuICAgICAgICAgICAgICAgIC8vIFRoZSBmaXJzdCB0b3VjaCBpcyBub3QgcHJldmVudGVkIHRvIGxldCBvdGhlciBsaXN0ZW5lcnMgcmVjZWl2ZSB0aGUgZXZlbnQgYW5kIHRyaWdnZXIgYW4gaW5pdGlhbCBhY3Rpb24sIGUuZy5cclxuICAgICAgICAgICAgICAgIC8vIHRoZSBodWdlIHBsYXliYWNrIGJ1dHRvbiBjYW4gZGlyZWN0bHkgc3RhcnQgcGxheWJhY2sgaW5zdGVhZCBvZiByZXF1aXJpbmcgYSBkb3VibGUgdGFwIHdoaWNoIDEuIHJldmVhbHNcclxuICAgICAgICAgICAgICAgIC8vIHRoZSBVSSBhbmQgMi4gc3RhcnRzIHBsYXliYWNrLlxyXG4gICAgICAgICAgICAgICAgaWYgKGlzRmlyc3RUb3VjaCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlzRmlyc3RUb3VjaCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgc2hvd1VpKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBXaGVuIHRoZSBtb3VzZSBlbnRlcnMsIHdlIHNob3cgdGhlIFVJXHJcbiAgICAgICAgY29udGFpbmVyLm9uKCdtb3VzZWVudGVyJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBzaG93VWkoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBXaGVuIHRoZSBtb3VzZSBtb3ZlcyB3aXRoaW4sIHdlIHNob3cgdGhlIFVJXHJcbiAgICAgICAgY29udGFpbmVyLm9uKCdtb3VzZW1vdmUnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHNob3dVaSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIFdoZW4gdGhlIG1vdXNlIGxlYXZlcywgd2UgY2FuIHByZXBhcmUgdG8gaGlkZSB0aGUgVUksIGV4Y2VwdCBhIHNlZWsgaXMgZ29pbmcgb25cclxuICAgICAgICBjb250YWluZXIub24oJ21vdXNlbGVhdmUnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIC8vIFdoZW4gYSBzZWVrIGlzIGdvaW5nIG9uLCB0aGUgc2VlayBzY3J1YiBwb2ludGVyIG1heSBleGl0IHRoZSBVSSBhcmVhIHdoaWxlIHN0aWxsIHNlZWtpbmcsIGFuZCB3ZSBkbyBub3QgaGlkZVxyXG4gICAgICAgICAgICAvLyB0aGUgVUkgaW4gc3VjaCBjYXNlc1xyXG4gICAgICAgICAgICBpZiAoIWlzU2Vla2luZykge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMudWlIaWRlVGltZW91dC5zdGFydCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdWltYW5hZ2VyLm9uU2Vlay5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBfdGhpcy51aUhpZGVUaW1lb3V0LmNsZWFyKCk7IC8vIERvbid0IGhpZGUgVUkgd2hpbGUgYSBzZWVrIGlzIGluIHByb2dyZXNzXHJcbiAgICAgICAgICAgIGlzU2Vla2luZyA9IHRydWU7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdWltYW5hZ2VyLm9uU2Vla2VkLnN1YnNjcmliZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlzU2Vla2luZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICBfdGhpcy51aUhpZGVUaW1lb3V0LnN0YXJ0KCk7IC8vIFJlLWVuYWJsZSBVSSBoaWRlIHRpbWVvdXQgYWZ0ZXIgYSBzZWVrXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fQ0FTVF9TVEFSVEVELCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHNob3dVaSgpOyAvLyBTaG93IFVJIHdoZW4gYSBDYXN0IHNlc3Npb24gaGFzIHN0YXJ0ZWQgKFVJIHdpbGwgdGhlbiBzdGF5IHBlcm1hbmVudGx5IG9uIGR1cmluZyB0aGUgc2Vzc2lvbilcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBVSUNvbnRhaW5lci5wcm90b3R5cGUuY29uZmlndXJlUGxheWVyU3RhdGVzID0gZnVuY3Rpb24gKHBsYXllciwgdWltYW5hZ2VyKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB2YXIgY29udGFpbmVyID0gdGhpcy5nZXREb21FbGVtZW50KCk7XHJcbiAgICAgICAgLy8gQ29udmVydCBwbGF5ZXIgc3RhdGVzIGludG8gQ1NTIGNsYXNzIG5hbWVzXHJcbiAgICAgICAgdmFyIHN0YXRlQ2xhc3NOYW1lcyA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIHN0YXRlIGluIHBsYXllcnV0aWxzXzEuUGxheWVyVXRpbHMuUGxheWVyU3RhdGUpIHtcclxuICAgICAgICAgICAgaWYgKGlzTmFOKE51bWJlcihzdGF0ZSkpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZW51bU5hbWUgPSBwbGF5ZXJ1dGlsc18xLlBsYXllclV0aWxzLlBsYXllclN0YXRlW3BsYXllcnV0aWxzXzEuUGxheWVyVXRpbHMuUGxheWVyU3RhdGVbc3RhdGVdXTtcclxuICAgICAgICAgICAgICAgIHN0YXRlQ2xhc3NOYW1lc1twbGF5ZXJ1dGlsc18xLlBsYXllclV0aWxzLlBsYXllclN0YXRlW3N0YXRlXV0gPVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJlZml4Q3NzKFVJQ29udGFpbmVyLlNUQVRFX1BSRUZJWCArIGVudW1OYW1lLnRvTG93ZXJDYXNlKCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciByZW1vdmVTdGF0ZXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5yZW1vdmVDbGFzcyhzdGF0ZUNsYXNzTmFtZXNbcGxheWVydXRpbHNfMS5QbGF5ZXJVdGlscy5QbGF5ZXJTdGF0ZS5JRExFXSk7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5yZW1vdmVDbGFzcyhzdGF0ZUNsYXNzTmFtZXNbcGxheWVydXRpbHNfMS5QbGF5ZXJVdGlscy5QbGF5ZXJTdGF0ZS5QUkVQQVJFRF0pO1xyXG4gICAgICAgICAgICBjb250YWluZXIucmVtb3ZlQ2xhc3Moc3RhdGVDbGFzc05hbWVzW3BsYXllcnV0aWxzXzEuUGxheWVyVXRpbHMuUGxheWVyU3RhdGUuUExBWUlOR10pO1xyXG4gICAgICAgICAgICBjb250YWluZXIucmVtb3ZlQ2xhc3Moc3RhdGVDbGFzc05hbWVzW3BsYXllcnV0aWxzXzEuUGxheWVyVXRpbHMuUGxheWVyU3RhdGUuUEFVU0VEXSk7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5yZW1vdmVDbGFzcyhzdGF0ZUNsYXNzTmFtZXNbcGxheWVydXRpbHNfMS5QbGF5ZXJVdGlscy5QbGF5ZXJTdGF0ZS5GSU5JU0hFRF0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fUkVBRFksIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmVtb3ZlU3RhdGVzKCk7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5hZGRDbGFzcyhzdGF0ZUNsYXNzTmFtZXNbcGxheWVydXRpbHNfMS5QbGF5ZXJVdGlscy5QbGF5ZXJTdGF0ZS5QUkVQQVJFRF0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1BMQVksIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmVtb3ZlU3RhdGVzKCk7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5hZGRDbGFzcyhzdGF0ZUNsYXNzTmFtZXNbcGxheWVydXRpbHNfMS5QbGF5ZXJVdGlscy5QbGF5ZXJTdGF0ZS5QTEFZSU5HXSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fUEFVU0VELCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJlbW92ZVN0YXRlcygpO1xyXG4gICAgICAgICAgICBjb250YWluZXIuYWRkQ2xhc3Moc3RhdGVDbGFzc05hbWVzW3BsYXllcnV0aWxzXzEuUGxheWVyVXRpbHMuUGxheWVyU3RhdGUuUEFVU0VEXSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fUExBWUJBQ0tfRklOSVNIRUQsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmVtb3ZlU3RhdGVzKCk7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5hZGRDbGFzcyhzdGF0ZUNsYXNzTmFtZXNbcGxheWVydXRpbHNfMS5QbGF5ZXJVdGlscy5QbGF5ZXJTdGF0ZS5GSU5JU0hFRF0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1NPVVJDRV9VTkxPQURFRCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZW1vdmVTdGF0ZXMoKTtcclxuICAgICAgICAgICAgY29udGFpbmVyLmFkZENsYXNzKHN0YXRlQ2xhc3NOYW1lc1twbGF5ZXJ1dGlsc18xLlBsYXllclV0aWxzLlBsYXllclN0YXRlLklETEVdKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBJbml0IGluIGN1cnJlbnQgcGxheWVyIHN0YXRlXHJcbiAgICAgICAgY29udGFpbmVyLmFkZENsYXNzKHN0YXRlQ2xhc3NOYW1lc1twbGF5ZXJ1dGlsc18xLlBsYXllclV0aWxzLmdldFN0YXRlKHBsYXllcildKTtcclxuICAgICAgICAvLyBGdWxsc2NyZWVuIG1hcmtlciBjbGFzc1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX0ZVTExTQ1JFRU5fRU5URVIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgY29udGFpbmVyLmFkZENsYXNzKF90aGlzLnByZWZpeENzcyhVSUNvbnRhaW5lci5GVUxMU0NSRUVOKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fRlVMTFNDUkVFTl9FWElULCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5yZW1vdmVDbGFzcyhfdGhpcy5wcmVmaXhDc3MoVUlDb250YWluZXIuRlVMTFNDUkVFTikpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIEluaXQgZnVsbHNjcmVlbiBzdGF0ZVxyXG4gICAgICAgIGlmIChwbGF5ZXIuaXNGdWxsc2NyZWVuKCkpIHtcclxuICAgICAgICAgICAgY29udGFpbmVyLmFkZENsYXNzKHRoaXMucHJlZml4Q3NzKFVJQ29udGFpbmVyLkZVTExTQ1JFRU4pKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gQnVmZmVyaW5nIG1hcmtlciBjbGFzc1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1NUQUxMX1NUQVJURUQsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgY29udGFpbmVyLmFkZENsYXNzKF90aGlzLnByZWZpeENzcyhVSUNvbnRhaW5lci5CVUZGRVJJTkcpKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9TVEFMTF9FTkRFRCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBjb250YWluZXIucmVtb3ZlQ2xhc3MoX3RoaXMucHJlZml4Q3NzKFVJQ29udGFpbmVyLkJVRkZFUklORykpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIEluaXQgYnVmZmVyaW5nIHN0YXRlXHJcbiAgICAgICAgaWYgKHBsYXllci5pc1N0YWxsZWQoKSkge1xyXG4gICAgICAgICAgICBjb250YWluZXIuYWRkQ2xhc3ModGhpcy5wcmVmaXhDc3MoVUlDb250YWluZXIuQlVGRkVSSU5HKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFJlbW90ZUNvbnRyb2wgbWFya2VyIGNsYXNzXHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fQ0FTVF9TVEFSVEVELCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5hZGRDbGFzcyhfdGhpcy5wcmVmaXhDc3MoVUlDb250YWluZXIuUkVNT1RFX0NPTlRST0wpKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9DQVNUX1NUT1BQRUQsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgY29udGFpbmVyLnJlbW92ZUNsYXNzKF90aGlzLnByZWZpeENzcyhVSUNvbnRhaW5lci5SRU1PVEVfQ09OVFJPTCkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIEluaXQgUmVtb3RlQ29udHJvbCBzdGF0ZVxyXG4gICAgICAgIGlmIChwbGF5ZXIuaXNDYXN0aW5nKCkpIHtcclxuICAgICAgICAgICAgY29udGFpbmVyLmFkZENsYXNzKHRoaXMucHJlZml4Q3NzKFVJQ29udGFpbmVyLlJFTU9URV9DT05UUk9MKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIENvbnRyb2xzIHZpc2liaWxpdHkgbWFya2VyIGNsYXNzXHJcbiAgICAgICAgdWltYW5hZ2VyLm9uQ29udHJvbHNTaG93LnN1YnNjcmliZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5yZW1vdmVDbGFzcyhfdGhpcy5wcmVmaXhDc3MoVUlDb250YWluZXIuQ09OVFJPTFNfSElEREVOKSk7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5hZGRDbGFzcyhfdGhpcy5wcmVmaXhDc3MoVUlDb250YWluZXIuQ09OVFJPTFNfU0hPV04pKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB1aW1hbmFnZXIub25Db250cm9sc0hpZGUuc3Vic2NyaWJlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgY29udGFpbmVyLnJlbW92ZUNsYXNzKF90aGlzLnByZWZpeENzcyhVSUNvbnRhaW5lci5DT05UUk9MU19TSE9XTikpO1xyXG4gICAgICAgICAgICBjb250YWluZXIuYWRkQ2xhc3MoX3RoaXMucHJlZml4Q3NzKFVJQ29udGFpbmVyLkNPTlRST0xTX0hJRERFTikpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIExheW91dCBzaXplIGNsYXNzZXNcclxuICAgICAgICB2YXIgdXBkYXRlTGF5b3V0U2l6ZUNsYXNzZXMgPSBmdW5jdGlvbiAod2lkdGgsIGhlaWdodCkge1xyXG4gICAgICAgICAgICBjb250YWluZXIucmVtb3ZlQ2xhc3MoX3RoaXMucHJlZml4Q3NzKCdsYXlvdXQtbWF4LXdpZHRoLTQwMCcpKTtcclxuICAgICAgICAgICAgY29udGFpbmVyLnJlbW92ZUNsYXNzKF90aGlzLnByZWZpeENzcygnbGF5b3V0LW1heC13aWR0aC02MDAnKSk7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5yZW1vdmVDbGFzcyhfdGhpcy5wcmVmaXhDc3MoJ2xheW91dC1tYXgtd2lkdGgtODAwJykpO1xyXG4gICAgICAgICAgICBjb250YWluZXIucmVtb3ZlQ2xhc3MoX3RoaXMucHJlZml4Q3NzKCdsYXlvdXQtbWF4LXdpZHRoLTEyMDAnKSk7XHJcbiAgICAgICAgICAgIGlmICh3aWR0aCA8PSA0MDApIHtcclxuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5hZGRDbGFzcyhfdGhpcy5wcmVmaXhDc3MoJ2xheW91dC1tYXgtd2lkdGgtNDAwJykpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHdpZHRoIDw9IDYwMCkge1xyXG4gICAgICAgICAgICAgICAgY29udGFpbmVyLmFkZENsYXNzKF90aGlzLnByZWZpeENzcygnbGF5b3V0LW1heC13aWR0aC02MDAnKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAod2lkdGggPD0gODAwKSB7XHJcbiAgICAgICAgICAgICAgICBjb250YWluZXIuYWRkQ2xhc3MoX3RoaXMucHJlZml4Q3NzKCdsYXlvdXQtbWF4LXdpZHRoLTgwMCcpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICh3aWR0aCA8PSAxMjAwKSB7XHJcbiAgICAgICAgICAgICAgICBjb250YWluZXIuYWRkQ2xhc3MoX3RoaXMucHJlZml4Q3NzKCdsYXlvdXQtbWF4LXdpZHRoLTEyMDAnKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1BMQVlFUl9SRVNJWkUsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIC8vIENvbnZlcnQgc3RyaW5ncyAod2l0aCBcInB4XCIgc3VmZml4KSB0byBpbnRzXHJcbiAgICAgICAgICAgIHZhciB3aWR0aCA9IE1hdGgucm91bmQoTnVtYmVyKGUud2lkdGguc3Vic3RyaW5nKDAsIGUud2lkdGgubGVuZ3RoIC0gMikpKTtcclxuICAgICAgICAgICAgdmFyIGhlaWdodCA9IE1hdGgucm91bmQoTnVtYmVyKGUuaGVpZ2h0LnN1YnN0cmluZygwLCBlLmhlaWdodC5sZW5ndGggLSAyKSkpO1xyXG4gICAgICAgICAgICB1cGRhdGVMYXlvdXRTaXplQ2xhc3Nlcyh3aWR0aCwgaGVpZ2h0KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBJbml0IGxheW91dCBzdGF0ZVxyXG4gICAgICAgIHVwZGF0ZUxheW91dFNpemVDbGFzc2VzKG5ldyBkb21fMS5ET00ocGxheWVyLmdldEZpZ3VyZSgpKS53aWR0aCgpLCBuZXcgZG9tXzEuRE9NKHBsYXllci5nZXRGaWd1cmUoKSkuaGVpZ2h0KCkpO1xyXG4gICAgfTtcclxuICAgIFVJQ29udGFpbmVyLnByb3RvdHlwZS5yZWxlYXNlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUucmVsZWFzZS5jYWxsKHRoaXMpO1xyXG4gICAgICAgIHRoaXMudWlIaWRlVGltZW91dC5jbGVhcigpO1xyXG4gICAgfTtcclxuICAgIFVJQ29udGFpbmVyLnByb3RvdHlwZS50b0RvbUVsZW1lbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGNvbnRhaW5lciA9IF9zdXBlci5wcm90b3R5cGUudG9Eb21FbGVtZW50LmNhbGwodGhpcyk7XHJcbiAgICAgICAgLy8gRGV0ZWN0IGZsZXhib3ggc3VwcG9ydCAobm90IHN1cHBvcnRlZCBpbiBJRTkpXHJcbiAgICAgICAgaWYgKGRvY3VtZW50ICYmIHR5cGVvZiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJykuc3R5bGUuZmxleCAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgY29udGFpbmVyLmFkZENsYXNzKHRoaXMucHJlZml4Q3NzKCdmbGV4Ym94JykpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY29udGFpbmVyLmFkZENsYXNzKHRoaXMucHJlZml4Q3NzKCduby1mbGV4Ym94JykpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY29udGFpbmVyO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBVSUNvbnRhaW5lcjtcclxufShjb250YWluZXJfMS5Db250YWluZXIpKTtcclxuVUlDb250YWluZXIuU1RBVEVfUFJFRklYID0gJ3BsYXllci1zdGF0ZS0nO1xyXG5VSUNvbnRhaW5lci5GVUxMU0NSRUVOID0gJ2Z1bGxzY3JlZW4nO1xyXG5VSUNvbnRhaW5lci5CVUZGRVJJTkcgPSAnYnVmZmVyaW5nJztcclxuVUlDb250YWluZXIuUkVNT1RFX0NPTlRST0wgPSAncmVtb3RlLWNvbnRyb2wnO1xyXG5VSUNvbnRhaW5lci5DT05UUk9MU19TSE9XTiA9ICdjb250cm9scy1zaG93bic7XHJcblVJQ29udGFpbmVyLkNPTlRST0xTX0hJRERFTiA9ICdjb250cm9scy1oaWRkZW4nO1xyXG5leHBvcnRzLlVJQ29udGFpbmVyID0gVUlDb250YWluZXI7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy91aWNvbnRhaW5lci50c1xuLy8gbW9kdWxlIGlkID0gMTdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBsYWJlbF8xID0gcmVxdWlyZShcIi4vbGFiZWxcIik7XHJcbnZhciBwbGF5ZXJ1dGlsc18xID0gcmVxdWlyZShcIi4uL3BsYXllcnV0aWxzXCIpO1xyXG52YXIgc3RyaW5ndXRpbHNfMSA9IHJlcXVpcmUoXCIuLi9zdHJpbmd1dGlsc1wiKTtcclxudmFyIFBsYXliYWNrVGltZUxhYmVsTW9kZTtcclxuKGZ1bmN0aW9uIChQbGF5YmFja1RpbWVMYWJlbE1vZGUpIHtcclxuICAgIFBsYXliYWNrVGltZUxhYmVsTW9kZVtQbGF5YmFja1RpbWVMYWJlbE1vZGVbXCJDdXJyZW50VGltZVwiXSA9IDBdID0gXCJDdXJyZW50VGltZVwiO1xyXG4gICAgUGxheWJhY2tUaW1lTGFiZWxNb2RlW1BsYXliYWNrVGltZUxhYmVsTW9kZVtcIlRvdGFsVGltZVwiXSA9IDFdID0gXCJUb3RhbFRpbWVcIjtcclxuICAgIFBsYXliYWNrVGltZUxhYmVsTW9kZVtQbGF5YmFja1RpbWVMYWJlbE1vZGVbXCJDdXJyZW50QW5kVG90YWxUaW1lXCJdID0gMl0gPSBcIkN1cnJlbnRBbmRUb3RhbFRpbWVcIjtcclxufSkoUGxheWJhY2tUaW1lTGFiZWxNb2RlID0gZXhwb3J0cy5QbGF5YmFja1RpbWVMYWJlbE1vZGUgfHwgKGV4cG9ydHMuUGxheWJhY2tUaW1lTGFiZWxNb2RlID0ge30pKTtcclxuLyoqXHJcbiAqIEEgbGFiZWwgdGhhdCBkaXNwbGF5IHRoZSBjdXJyZW50IHBsYXliYWNrIHRpbWUgYW5kIHRoZSB0b3RhbCB0aW1lIHRocm91Z2gge0BsaW5rIFBsYXliYWNrVGltZUxhYmVsI3NldFRpbWUgc2V0VGltZX1cclxuICogb3IgYW55IHN0cmluZyB0aHJvdWdoIHtAbGluayBQbGF5YmFja1RpbWVMYWJlbCNzZXRUZXh0IHNldFRleHR9LlxyXG4gKi9cclxudmFyIFBsYXliYWNrVGltZUxhYmVsID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhQbGF5YmFja1RpbWVMYWJlbCwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIFBsYXliYWNrVGltZUxhYmVsKGNvbmZpZykge1xyXG4gICAgICAgIGlmIChjb25maWcgPT09IHZvaWQgMCkgeyBjb25maWcgPSB7fTsgfVxyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGNvbmZpZykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5jb25maWcgPSBfdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIHtcclxuICAgICAgICAgICAgY3NzQ2xhc3M6ICd1aS1wbGF5YmFja3RpbWVsYWJlbCcsXHJcbiAgICAgICAgICAgIHRpbWVMYWJlbE1vZGU6IFBsYXliYWNrVGltZUxhYmVsTW9kZS5DdXJyZW50QW5kVG90YWxUaW1lLFxyXG4gICAgICAgICAgICBoaWRlSW5MaXZlUGxheWJhY2s6IGZhbHNlLFxyXG4gICAgICAgIH0sIF90aGlzLmNvbmZpZyk7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgUGxheWJhY2tUaW1lTGFiZWwucHJvdG90eXBlLmNvbmZpZ3VyZSA9IGZ1bmN0aW9uIChwbGF5ZXIsIHVpbWFuYWdlcikge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5jb25maWd1cmUuY2FsbCh0aGlzLCBwbGF5ZXIsIHVpbWFuYWdlcik7XHJcbiAgICAgICAgdmFyIGNvbmZpZyA9IHRoaXMuZ2V0Q29uZmlnKCk7XHJcbiAgICAgICAgdmFyIGxpdmUgPSBmYWxzZTtcclxuICAgICAgICB2YXIgbGl2ZUNzc0NsYXNzID0gdGhpcy5wcmVmaXhDc3MoJ3VpLXBsYXliYWNrdGltZWxhYmVsLWxpdmUnKTtcclxuICAgICAgICB2YXIgbGl2ZUVkZ2VDc3NDbGFzcyA9IHRoaXMucHJlZml4Q3NzKCd1aS1wbGF5YmFja3RpbWVsYWJlbC1saXZlLWVkZ2UnKTtcclxuICAgICAgICB2YXIgbWluV2lkdGggPSAwO1xyXG4gICAgICAgIHZhciBsaXZlQ2xpY2tIYW5kbGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBwbGF5ZXIudGltZVNoaWZ0KDApO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdmFyIHVwZGF0ZUxpdmVTdGF0ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgLy8gUGxheWVyIGlzIHBsYXlpbmcgYSBsaXZlIHN0cmVhbSB3aGVuIHRoZSBkdXJhdGlvbiBpcyBpbmZpbml0ZVxyXG4gICAgICAgICAgICBsaXZlID0gcGxheWVyLmlzTGl2ZSgpO1xyXG4gICAgICAgICAgICAvLyBBdHRhY2gvZGV0YWNoIGxpdmUgbWFya2VyIGNsYXNzXHJcbiAgICAgICAgICAgIGlmIChsaXZlKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5nZXREb21FbGVtZW50KCkuYWRkQ2xhc3MobGl2ZUNzc0NsYXNzKTtcclxuICAgICAgICAgICAgICAgIF90aGlzLnNldFRleHQoJ0xpdmUnKTtcclxuICAgICAgICAgICAgICAgIGlmIChjb25maWcuaGlkZUluTGl2ZVBsYXliYWNrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgX3RoaXMub25DbGljay5zdWJzY3JpYmUobGl2ZUNsaWNrSGFuZGxlcik7XHJcbiAgICAgICAgICAgICAgICB1cGRhdGVMaXZlVGltZXNoaWZ0U3RhdGUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLmdldERvbUVsZW1lbnQoKS5yZW1vdmVDbGFzcyhsaXZlQ3NzQ2xhc3MpO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuZ2V0RG9tRWxlbWVudCgpLnJlbW92ZUNsYXNzKGxpdmVFZGdlQ3NzQ2xhc3MpO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMub25DbGljay51bnN1YnNjcmliZShsaXZlQ2xpY2tIYW5kbGVyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdmFyIHVwZGF0ZUxpdmVUaW1lc2hpZnRTdGF0ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKHBsYXllci5nZXRUaW1lU2hpZnQoKSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuZ2V0RG9tRWxlbWVudCgpLmFkZENsYXNzKGxpdmVFZGdlQ3NzQ2xhc3MpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuZ2V0RG9tRWxlbWVudCgpLnJlbW92ZUNsYXNzKGxpdmVFZGdlQ3NzQ2xhc3MpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICB2YXIgbGl2ZVN0cmVhbURldGVjdG9yID0gbmV3IHBsYXllcnV0aWxzXzEuUGxheWVyVXRpbHMuTGl2ZVN0cmVhbURldGVjdG9yKHBsYXllcik7XHJcbiAgICAgICAgbGl2ZVN0cmVhbURldGVjdG9yLm9uTGl2ZUNoYW5nZWQuc3Vic2NyaWJlKGZ1bmN0aW9uIChzZW5kZXIsIGFyZ3MpIHtcclxuICAgICAgICAgICAgbGl2ZSA9IGFyZ3MubGl2ZTtcclxuICAgICAgICAgICAgdXBkYXRlTGl2ZVN0YXRlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgbGl2ZVN0cmVhbURldGVjdG9yLmRldGVjdCgpOyAvLyBJbml0aWFsIGRldGVjdGlvblxyXG4gICAgICAgIHZhciBwbGF5YmFja1RpbWVIYW5kbGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoIWxpdmUgJiYgcGxheWVyLmdldER1cmF0aW9uKCkgIT09IEluZmluaXR5KSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5zZXRUaW1lKHBsYXllci5nZXRDdXJyZW50VGltZSgpLCBwbGF5ZXIuZ2V0RHVyYXRpb24oKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gVG8gYXZvaWQgJ2p1bXBpbmcnIGluIHRoZSBVSSBieSB2YXJ5aW5nIGxhYmVsIHNpemVzIGR1ZSB0byBub24tbW9ub3NwYWNlZCBmb250cyxcclxuICAgICAgICAgICAgLy8gd2UgZ3JhZHVhbGx5IGluY3JlYXNlIHRoZSBtaW4td2lkdGggd2l0aCB0aGUgY29udGVudCB0byByZWFjaCBhIHN0YWJsZSBzaXplLlxyXG4gICAgICAgICAgICB2YXIgd2lkdGggPSBfdGhpcy5nZXREb21FbGVtZW50KCkud2lkdGgoKTtcclxuICAgICAgICAgICAgaWYgKHdpZHRoID4gbWluV2lkdGgpIHtcclxuICAgICAgICAgICAgICAgIG1pbldpZHRoID0gd2lkdGg7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5nZXREb21FbGVtZW50KCkuY3NzKHtcclxuICAgICAgICAgICAgICAgICAgICAnbWluLXdpZHRoJzogbWluV2lkdGggKyAncHgnLFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1RJTUVfQ0hBTkdFRCwgcGxheWJhY2tUaW1lSGFuZGxlcik7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fU0VFS0VELCBwbGF5YmFja1RpbWVIYW5kbGVyKTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9DQVNUX1RJTUVfVVBEQVRFRCwgcGxheWJhY2tUaW1lSGFuZGxlcik7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fVElNRV9TSElGVCwgdXBkYXRlTGl2ZVRpbWVzaGlmdFN0YXRlKTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9USU1FX1NISUZURUQsIHVwZGF0ZUxpdmVUaW1lc2hpZnRTdGF0ZSk7XHJcbiAgICAgICAgdmFyIGluaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIC8vIFJlc2V0IG1pbi13aWR0aCB3aGVuIGEgbmV3IHNvdXJjZSBpcyByZWFkeSAoZXNwZWNpYWxseSBmb3Igc3dpdGNoaW5nIFZPRC9MaXZlIG1vZGVzIHdoZXJlIHRoZSBsYWJlbCBjb250ZW50XHJcbiAgICAgICAgICAgIC8vIGNoYW5nZXMpXHJcbiAgICAgICAgICAgIG1pbldpZHRoID0gMDtcclxuICAgICAgICAgICAgX3RoaXMuZ2V0RG9tRWxlbWVudCgpLmNzcyh7XHJcbiAgICAgICAgICAgICAgICAnbWluLXdpZHRoJzogbnVsbCxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIC8vIFNldCB0aW1lIGZvcm1hdCBkZXBlbmRpbmcgb24gc291cmNlIGR1cmF0aW9uXHJcbiAgICAgICAgICAgIF90aGlzLnRpbWVGb3JtYXQgPSBNYXRoLmFicyhwbGF5ZXIuaXNMaXZlKCkgPyBwbGF5ZXIuZ2V0TWF4VGltZVNoaWZ0KCkgOiBwbGF5ZXIuZ2V0RHVyYXRpb24oKSkgPj0gMzYwMCA/XHJcbiAgICAgICAgICAgICAgICBzdHJpbmd1dGlsc18xLlN0cmluZ1V0aWxzLkZPUk1BVF9ISE1NU1MgOiBzdHJpbmd1dGlsc18xLlN0cmluZ1V0aWxzLkZPUk1BVF9NTVNTO1xyXG4gICAgICAgICAgICAvLyBVcGRhdGUgdGltZSBhZnRlciB0aGUgZm9ybWF0IGhhcyBiZWVuIHNldFxyXG4gICAgICAgICAgICBwbGF5YmFja1RpbWVIYW5kbGVyKCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9SRUFEWSwgaW5pdCk7XHJcbiAgICAgICAgaW5pdCgpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogU2V0cyB0aGUgY3VycmVudCBwbGF5YmFjayB0aW1lIGFuZCB0b3RhbCBkdXJhdGlvbi5cclxuICAgICAqIEBwYXJhbSBwbGF5YmFja1NlY29uZHMgdGhlIGN1cnJlbnQgcGxheWJhY2sgdGltZSBpbiBzZWNvbmRzXHJcbiAgICAgKiBAcGFyYW0gZHVyYXRpb25TZWNvbmRzIHRoZSB0b3RhbCBkdXJhdGlvbiBpbiBzZWNvbmRzXHJcbiAgICAgKi9cclxuICAgIFBsYXliYWNrVGltZUxhYmVsLnByb3RvdHlwZS5zZXRUaW1lID0gZnVuY3Rpb24gKHBsYXliYWNrU2Vjb25kcywgZHVyYXRpb25TZWNvbmRzKSB7XHJcbiAgICAgICAgdmFyIGN1cnJlbnRUaW1lID0gc3RyaW5ndXRpbHNfMS5TdHJpbmdVdGlscy5zZWNvbmRzVG9UaW1lKHBsYXliYWNrU2Vjb25kcywgdGhpcy50aW1lRm9ybWF0KTtcclxuICAgICAgICB2YXIgdG90YWxUaW1lID0gc3RyaW5ndXRpbHNfMS5TdHJpbmdVdGlscy5zZWNvbmRzVG9UaW1lKGR1cmF0aW9uU2Vjb25kcywgdGhpcy50aW1lRm9ybWF0KTtcclxuICAgICAgICBzd2l0Y2ggKHRoaXMuY29uZmlnLnRpbWVMYWJlbE1vZGUpIHtcclxuICAgICAgICAgICAgY2FzZSBQbGF5YmFja1RpbWVMYWJlbE1vZGUuQ3VycmVudFRpbWU6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFRleHQoXCJcIiArIGN1cnJlbnRUaW1lKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFBsYXliYWNrVGltZUxhYmVsTW9kZS5Ub3RhbFRpbWU6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFRleHQoXCJcIiArIHRvdGFsVGltZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBQbGF5YmFja1RpbWVMYWJlbE1vZGUuQ3VycmVudEFuZFRvdGFsVGltZTpcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0VGV4dChjdXJyZW50VGltZSArIFwiIC8gXCIgKyB0b3RhbFRpbWUpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogU2V0cyB0aGUgY3VycmVudCB0aW1lIGZvcm1hdFxyXG4gICAgICogQHBhcmFtIHRpbWVGb3JtYXQgdGhlIHRpbWUgZm9ybWF0XHJcbiAgICAgKi9cclxuICAgIFBsYXliYWNrVGltZUxhYmVsLnByb3RvdHlwZS5zZXRUaW1lRm9ybWF0ID0gZnVuY3Rpb24gKHRpbWVGb3JtYXQpIHtcclxuICAgICAgICB0aGlzLnRpbWVGb3JtYXQgPSB0aW1lRm9ybWF0O1xyXG4gICAgfTtcclxuICAgIHJldHVybiBQbGF5YmFja1RpbWVMYWJlbDtcclxufShsYWJlbF8xLkxhYmVsKSk7XHJcbmV4cG9ydHMuUGxheWJhY2tUaW1lTGFiZWwgPSBQbGF5YmFja1RpbWVMYWJlbDtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3BsYXliYWNrdGltZWxhYmVsLnRzXG4vLyBtb2R1bGUgaWQgPSAxOFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGNvbXBvbmVudF8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50XCIpO1xyXG4vKipcclxuICogQSBkdW1teSBjb21wb25lbnQgdGhhdCBqdXN0IHJlc2VydmVzIHNvbWUgc3BhY2UgYW5kIGRvZXMgbm90aGluZyBlbHNlLlxyXG4gKi9cclxudmFyIFNwYWNlciA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoU3BhY2VyLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gU3BhY2VyKGNvbmZpZykge1xyXG4gICAgICAgIGlmIChjb25maWcgPT09IHZvaWQgMCkgeyBjb25maWcgPSB7fTsgfVxyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGNvbmZpZykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5jb25maWcgPSBfdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIHtcclxuICAgICAgICAgICAgY3NzQ2xhc3M6ICd1aS1zcGFjZXInLFxyXG4gICAgICAgIH0sIF90aGlzLmNvbmZpZyk7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgU3BhY2VyLnByb3RvdHlwZS5vblNob3dFdmVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyBkaXNhYmxlIGV2ZW50IGZpcmluZyBieSBvdmVyd3JpdGluZyBhbmQgbm90IGNhbGxpbmcgc3VwZXJcclxuICAgIH07XHJcbiAgICBTcGFjZXIucHJvdG90eXBlLm9uSGlkZUV2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vIGRpc2FibGUgZXZlbnQgZmlyaW5nIGJ5IG92ZXJ3cml0aW5nIGFuZCBub3QgY2FsbGluZyBzdXBlclxyXG4gICAgfTtcclxuICAgIFNwYWNlci5wcm90b3R5cGUub25Ib3ZlckNoYW5nZWRFdmVudCA9IGZ1bmN0aW9uIChob3ZlcmVkKSB7XHJcbiAgICAgICAgLy8gZGlzYWJsZSBldmVudCBmaXJpbmcgYnkgb3ZlcndyaXRpbmcgYW5kIG5vdCBjYWxsaW5nIHN1cGVyXHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFNwYWNlcjtcclxufShjb21wb25lbnRfMS5Db21wb25lbnQpKTtcclxuZXhwb3J0cy5TcGFjZXIgPSBTcGFjZXI7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9zcGFjZXIudHNcbi8vIG1vZHVsZSBpZCA9IDE5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgY29udGFpbmVyXzEgPSByZXF1aXJlKFwiLi9jb250YWluZXJcIik7XHJcbnZhciBsYWJlbF8xID0gcmVxdWlyZShcIi4vbGFiZWxcIik7XHJcbnZhciBjb21wb25lbnRfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudFwiKTtcclxudmFyIHN0cmluZ3V0aWxzXzEgPSByZXF1aXJlKFwiLi4vc3RyaW5ndXRpbHNcIik7XHJcbnZhciBpbWFnZWxvYWRlcl8xID0gcmVxdWlyZShcIi4uL2ltYWdlbG9hZGVyXCIpO1xyXG4vKipcclxuICogQSBsYWJlbCBmb3IgYSB7QGxpbmsgU2Vla0Jhcn0gdGhhdCBjYW4gZGlzcGxheSB0aGUgc2VlayB0YXJnZXQgdGltZSwgYSB0aHVtYm5haWwsIGFuZCB0aXRsZSAoZS5nLiBjaGFwdGVyIHRpdGxlKS5cclxuICovXHJcbnZhciBTZWVrQmFyTGFiZWwgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKFNlZWtCYXJMYWJlbCwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIFNlZWtCYXJMYWJlbChjb25maWcpIHtcclxuICAgICAgICBpZiAoY29uZmlnID09PSB2b2lkIDApIHsgY29uZmlnID0ge307IH1cclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBjb25maWcpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMudGltZUxhYmVsID0gbmV3IGxhYmVsXzEuTGFiZWwoeyBjc3NDbGFzc2VzOiBbJ3NlZWtiYXItbGFiZWwtdGltZSddIH0pO1xyXG4gICAgICAgIF90aGlzLnRpdGxlTGFiZWwgPSBuZXcgbGFiZWxfMS5MYWJlbCh7IGNzc0NsYXNzZXM6IFsnc2Vla2Jhci1sYWJlbC10aXRsZSddIH0pO1xyXG4gICAgICAgIF90aGlzLnRodW1ibmFpbCA9IG5ldyBjb21wb25lbnRfMS5Db21wb25lbnQoeyBjc3NDbGFzc2VzOiBbJ3NlZWtiYXItdGh1bWJuYWlsJ10gfSk7XHJcbiAgICAgICAgX3RoaXMudGh1bWJuYWlsSW1hZ2VMb2FkZXIgPSBuZXcgaW1hZ2Vsb2FkZXJfMS5JbWFnZUxvYWRlcigpO1xyXG4gICAgICAgIF90aGlzLmNvbmZpZyA9IF90aGlzLm1lcmdlQ29uZmlnKGNvbmZpZywge1xyXG4gICAgICAgICAgICBjc3NDbGFzczogJ3VpLXNlZWtiYXItbGFiZWwnLFxyXG4gICAgICAgICAgICBjb21wb25lbnRzOiBbbmV3IGNvbnRhaW5lcl8xLkNvbnRhaW5lcih7XHJcbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50czogW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLnRodW1ibmFpbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IGNvbnRhaW5lcl8xLkNvbnRhaW5lcih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRzOiBbX3RoaXMudGl0bGVMYWJlbCwgX3RoaXMudGltZUxhYmVsXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNzc0NsYXNzOiAnc2Vla2Jhci1sYWJlbC1tZXRhZGF0YScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgICAgICAgICBjc3NDbGFzczogJ3NlZWtiYXItbGFiZWwtaW5uZXInLFxyXG4gICAgICAgICAgICAgICAgfSldLFxyXG4gICAgICAgICAgICBoaWRkZW46IHRydWUsXHJcbiAgICAgICAgfSwgX3RoaXMuY29uZmlnKTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBTZWVrQmFyTGFiZWwucHJvdG90eXBlLmNvbmZpZ3VyZSA9IGZ1bmN0aW9uIChwbGF5ZXIsIHVpbWFuYWdlcikge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5jb25maWd1cmUuY2FsbCh0aGlzLCBwbGF5ZXIsIHVpbWFuYWdlcik7XHJcbiAgICAgICAgdWltYW5hZ2VyLm9uU2Vla1ByZXZpZXcuc3Vic2NyaWJlUmF0ZUxpbWl0ZWQoZnVuY3Rpb24gKHNlbmRlciwgYXJncykge1xyXG4gICAgICAgICAgICBpZiAocGxheWVyLmlzTGl2ZSgpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbWF4VGltZVNoaWZ0ID0gcGxheWVyLmdldE1heFRpbWVTaGlmdCgpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHRpbWUgPSBtYXhUaW1lU2hpZnQgLSBtYXhUaW1lU2hpZnQgKiAoYXJncy5wb3NpdGlvbiAvIDEwMCk7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5zZXRUaW1lKHRpbWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdmFyIHBlcmNlbnRhZ2UgPSAwO1xyXG4gICAgICAgICAgICAgICAgaWYgKGFyZ3MubWFya2VyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGVyY2VudGFnZSA9IGFyZ3MubWFya2VyLnRpbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2V0VGl0bGVUZXh0KGFyZ3MubWFya2VyLnRpdGxlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHBlcmNlbnRhZ2UgPSBhcmdzLnBvc2l0aW9uO1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnNldFRpdGxlVGV4dChudWxsKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhciB0aW1lID0gcGxheWVyLmdldER1cmF0aW9uKCkgKiAocGVyY2VudGFnZSAvIDEwMCk7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5zZXRUaW1lKHRpbWUpO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuc2V0VGh1bWJuYWlsKHBsYXllci5nZXRUaHVtYih0aW1lKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCAxMDApO1xyXG4gICAgICAgIHZhciBpbml0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAvLyBTZXQgdGltZSBmb3JtYXQgZGVwZW5kaW5nIG9uIHNvdXJjZSBkdXJhdGlvblxyXG4gICAgICAgICAgICBfdGhpcy50aW1lRm9ybWF0ID0gTWF0aC5hYnMocGxheWVyLmlzTGl2ZSgpID8gcGxheWVyLmdldE1heFRpbWVTaGlmdCgpIDogcGxheWVyLmdldER1cmF0aW9uKCkpID49IDM2MDAgP1xyXG4gICAgICAgICAgICAgICAgc3RyaW5ndXRpbHNfMS5TdHJpbmdVdGlscy5GT1JNQVRfSEhNTVNTIDogc3RyaW5ndXRpbHNfMS5TdHJpbmdVdGlscy5GT1JNQVRfTU1TUztcclxuICAgICAgICB9O1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1JFQURZLCBpbml0KTtcclxuICAgICAgICBpbml0KCk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBTZXRzIGFyYml0cmFyeSB0ZXh0IG9uIHRoZSBsYWJlbC5cclxuICAgICAqIEBwYXJhbSB0ZXh0IHRoZSB0ZXh0IHRvIHNob3cgb24gdGhlIGxhYmVsXHJcbiAgICAgKi9cclxuICAgIFNlZWtCYXJMYWJlbC5wcm90b3R5cGUuc2V0VGV4dCA9IGZ1bmN0aW9uICh0ZXh0KSB7XHJcbiAgICAgICAgdGhpcy50aW1lTGFiZWwuc2V0VGV4dCh0ZXh0KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFNldHMgYSB0aW1lIHRvIGJlIGRpc3BsYXllZCBvbiB0aGUgbGFiZWwuXHJcbiAgICAgKiBAcGFyYW0gc2Vjb25kcyB0aGUgdGltZSBpbiBzZWNvbmRzIHRvIGRpc3BsYXkgb24gdGhlIGxhYmVsXHJcbiAgICAgKi9cclxuICAgIFNlZWtCYXJMYWJlbC5wcm90b3R5cGUuc2V0VGltZSA9IGZ1bmN0aW9uIChzZWNvbmRzKSB7XHJcbiAgICAgICAgdGhpcy5zZXRUZXh0KHN0cmluZ3V0aWxzXzEuU3RyaW5nVXRpbHMuc2Vjb25kc1RvVGltZShzZWNvbmRzLCB0aGlzLnRpbWVGb3JtYXQpKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFNldHMgdGhlIHRleHQgb24gdGhlIHRpdGxlIGxhYmVsLlxyXG4gICAgICogQHBhcmFtIHRleHQgdGhlIHRleHQgdG8gc2hvdyBvbiB0aGUgbGFiZWxcclxuICAgICAqL1xyXG4gICAgU2Vla0JhckxhYmVsLnByb3RvdHlwZS5zZXRUaXRsZVRleHQgPSBmdW5jdGlvbiAodGV4dCkge1xyXG4gICAgICAgIHRoaXMudGl0bGVMYWJlbC5zZXRUZXh0KHRleHQpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogU2V0cyBvciByZW1vdmVzIGEgdGh1bWJuYWlsIG9uIHRoZSBsYWJlbC5cclxuICAgICAqIEBwYXJhbSB0aHVtYm5haWwgdGhlIHRodW1ibmFpbCB0byBkaXNwbGF5IG9uIHRoZSBsYWJlbCBvciBudWxsIHRvIHJlbW92ZSBhIGRpc3BsYXllZCB0aHVtYm5haWxcclxuICAgICAqL1xyXG4gICAgU2Vla0JhckxhYmVsLnByb3RvdHlwZS5zZXRUaHVtYm5haWwgPSBmdW5jdGlvbiAodGh1bWJuYWlsKSB7XHJcbiAgICAgICAgaWYgKHRodW1ibmFpbCA9PT0gdm9pZCAwKSB7IHRodW1ibmFpbCA9IG51bGw7IH1cclxuICAgICAgICB2YXIgdGh1bWJuYWlsRWxlbWVudCA9IHRoaXMudGh1bWJuYWlsLmdldERvbUVsZW1lbnQoKTtcclxuICAgICAgICBpZiAodGh1bWJuYWlsID09IG51bGwpIHtcclxuICAgICAgICAgICAgdGh1bWJuYWlsRWxlbWVudC5jc3Moe1xyXG4gICAgICAgICAgICAgICAgJ2JhY2tncm91bmQtaW1hZ2UnOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgJ2Rpc3BsYXknOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgJ3dpZHRoJzogbnVsbCxcclxuICAgICAgICAgICAgICAgICdoZWlnaHQnOiBudWxsLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIFdlIHVzZSB0aGUgdGh1bWJuYWlsIGltYWdlIGxvYWRlciB0byBtYWtlIHN1cmUgdGhlIHRodW1ibmFpbCBpcyBsb2FkZWQgYW5kIGl0J3Mgc2l6ZSBpcyBrbm93biBiZWZvcmUgYmUgY2FuXHJcbiAgICAgICAgICAgIC8vIGNhbGN1bGF0ZSB0aGUgQ1NTIHByb3BlcnRpZXMgYW5kIHNldCB0aGVtIG9uIHRoZSBlbGVtZW50LlxyXG4gICAgICAgICAgICB0aGlzLnRodW1ibmFpbEltYWdlTG9hZGVyLmxvYWQodGh1bWJuYWlsLnVybCwgZnVuY3Rpb24gKHVybCwgd2lkdGgsIGhlaWdodCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRodW1ibmFpbENvdW50WCA9IHdpZHRoIC8gdGh1bWJuYWlsLnc7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGh1bWJuYWlsQ291bnRZID0gaGVpZ2h0IC8gdGh1bWJuYWlsLmg7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGh1bWJuYWlsSW5kZXhYID0gdGh1bWJuYWlsLnggLyB0aHVtYm5haWwudztcclxuICAgICAgICAgICAgICAgIHZhciB0aHVtYm5haWxJbmRleFkgPSB0aHVtYm5haWwueSAvIHRodW1ibmFpbC5oO1xyXG4gICAgICAgICAgICAgICAgdmFyIHNpemVYID0gMTAwICogdGh1bWJuYWlsQ291bnRYO1xyXG4gICAgICAgICAgICAgICAgdmFyIHNpemVZID0gMTAwICogdGh1bWJuYWlsQ291bnRZO1xyXG4gICAgICAgICAgICAgICAgdmFyIG9mZnNldFggPSAxMDAgKiB0aHVtYm5haWxJbmRleFg7XHJcbiAgICAgICAgICAgICAgICB2YXIgb2Zmc2V0WSA9IDEwMCAqIHRodW1ibmFpbEluZGV4WTtcclxuICAgICAgICAgICAgICAgIHZhciBhc3BlY3RSYXRpbyA9IDEgLyB0aHVtYm5haWwudyAqIHRodW1ibmFpbC5oO1xyXG4gICAgICAgICAgICAgICAgLy8gVGhlIHRodW1ibmFpbCBzaXplIGlzIHNldCBieSBzZXR0aW5nIHRoZSBDU1MgJ3dpZHRoJyBhbmQgJ3BhZGRpbmctYm90dG9tJyBwcm9wZXJ0aWVzLiAncGFkZGluZy1ib3R0b20nIGlzXHJcbiAgICAgICAgICAgICAgICAvLyB1c2VkIGJlY2F1c2UgaXQgaXMgcmVsYXRpdmUgdG8gdGhlIHdpZHRoIGFuZCBjYW4gYmUgdXNlZCB0byBzZXQgdGhlIGFzcGVjdCByYXRpbyBvZiB0aGUgdGh1bWJuYWlsLlxyXG4gICAgICAgICAgICAgICAgLy8gQSBkZWZhdWx0IHZhbHVlIGZvciB3aWR0aCBpcyBzZXQgaW4gdGhlIHN0eWxlc2hlZXQgYW5kIGNhbiBiZSBvdmVyd3JpdHRlbiBmcm9tIHRoZXJlIG9yIGFueXdoZXJlIGVsc2UuXHJcbiAgICAgICAgICAgICAgICB0aHVtYm5haWxFbGVtZW50LmNzcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgJ2Rpc3BsYXknOiAnaW5oZXJpdCcsXHJcbiAgICAgICAgICAgICAgICAgICAgJ2JhY2tncm91bmQtaW1hZ2UnOiBcInVybChcIiArIHRodW1ibmFpbC51cmwgKyBcIilcIixcclxuICAgICAgICAgICAgICAgICAgICAncGFkZGluZy1ib3R0b20nOiAxMDAgKiBhc3BlY3RSYXRpbyArIFwiJVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICdiYWNrZ3JvdW5kLXNpemUnOiBzaXplWCArIFwiJSBcIiArIHNpemVZICsgXCIlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgJ2JhY2tncm91bmQtcG9zaXRpb24nOiBcIi1cIiArIG9mZnNldFggKyBcIiUgLVwiICsgb2Zmc2V0WSArIFwiJVwiLFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICByZXR1cm4gU2Vla0JhckxhYmVsO1xyXG59KGNvbnRhaW5lcl8xLkNvbnRhaW5lcikpO1xyXG5leHBvcnRzLlNlZWtCYXJMYWJlbCA9IFNlZWtCYXJMYWJlbDtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3NlZWtiYXJsYWJlbC50c1xuLy8gbW9kdWxlIGlkID0gMjBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBsaXN0c2VsZWN0b3JfMSA9IHJlcXVpcmUoXCIuL2xpc3RzZWxlY3RvclwiKTtcclxudmFyIGRvbV8xID0gcmVxdWlyZShcIi4uL2RvbVwiKTtcclxuLyoqXHJcbiAqIEEgc2ltcGxlIHNlbGVjdCBib3ggcHJvdmlkaW5nIHRoZSBwb3NzaWJpbGl0eSB0byBzZWxlY3QgYSBzaW5nbGUgaXRlbSBvdXQgb2YgYSBsaXN0IG9mIGF2YWlsYWJsZSBpdGVtcy5cclxuICpcclxuICogRE9NIGV4YW1wbGU6XHJcbiAqIDxjb2RlPlxyXG4gKiAgICAgPHNlbGVjdCBjbGFzcz0ndWktc2VsZWN0Ym94Jz5cclxuICogICAgICAgICA8b3B0aW9uIHZhbHVlPSdrZXknPmxhYmVsPC9vcHRpb24+XHJcbiAqICAgICAgICAgLi4uXHJcbiAqICAgICA8L3NlbGVjdD5cclxuICogPC9jb2RlPlxyXG4gKi9cclxudmFyIFNlbGVjdEJveCA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoU2VsZWN0Qm94LCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gU2VsZWN0Qm94KGNvbmZpZykge1xyXG4gICAgICAgIGlmIChjb25maWcgPT09IHZvaWQgMCkgeyBjb25maWcgPSB7fTsgfVxyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGNvbmZpZykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5jb25maWcgPSBfdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIHtcclxuICAgICAgICAgICAgY3NzQ2xhc3M6ICd1aS1zZWxlY3Rib3gnLFxyXG4gICAgICAgIH0sIF90aGlzLmNvbmZpZyk7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgU2VsZWN0Qm94LnByb3RvdHlwZS50b0RvbUVsZW1lbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB2YXIgc2VsZWN0RWxlbWVudCA9IG5ldyBkb21fMS5ET00oJ3NlbGVjdCcsIHtcclxuICAgICAgICAgICAgJ2lkJzogdGhpcy5jb25maWcuaWQsXHJcbiAgICAgICAgICAgICdjbGFzcyc6IHRoaXMuZ2V0Q3NzQ2xhc3NlcygpLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuc2VsZWN0RWxlbWVudCA9IHNlbGVjdEVsZW1lbnQ7XHJcbiAgICAgICAgdGhpcy51cGRhdGVEb21JdGVtcygpO1xyXG4gICAgICAgIHNlbGVjdEVsZW1lbnQub24oJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIHZhbHVlID0gc2VsZWN0RWxlbWVudC52YWwoKTtcclxuICAgICAgICAgICAgX3RoaXMub25JdGVtU2VsZWN0ZWRFdmVudCh2YWx1ZSwgZmFsc2UpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBzZWxlY3RFbGVtZW50O1xyXG4gICAgfTtcclxuICAgIFNlbGVjdEJveC5wcm90b3R5cGUudXBkYXRlRG9tSXRlbXMgPSBmdW5jdGlvbiAoc2VsZWN0ZWRWYWx1ZSkge1xyXG4gICAgICAgIGlmIChzZWxlY3RlZFZhbHVlID09PSB2b2lkIDApIHsgc2VsZWN0ZWRWYWx1ZSA9IG51bGw7IH1cclxuICAgICAgICAvLyBEZWxldGUgYWxsIGNoaWxkcmVuXHJcbiAgICAgICAgdGhpcy5zZWxlY3RFbGVtZW50LmVtcHR5KCk7XHJcbiAgICAgICAgLy8gQWRkIHVwZGF0ZWQgY2hpbGRyZW5cclxuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gdGhpcy5pdGVtczsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgdmFyIGl0ZW0gPSBfYVtfaV07XHJcbiAgICAgICAgICAgIHZhciBvcHRpb25FbGVtZW50ID0gbmV3IGRvbV8xLkRPTSgnb3B0aW9uJywge1xyXG4gICAgICAgICAgICAgICAgJ3ZhbHVlJzogaXRlbS5rZXksXHJcbiAgICAgICAgICAgIH0pLmh0bWwoaXRlbS5sYWJlbCk7XHJcbiAgICAgICAgICAgIGlmIChpdGVtLmtleSA9PT0gU3RyaW5nKHNlbGVjdGVkVmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICBvcHRpb25FbGVtZW50LmF0dHIoJ3NlbGVjdGVkJywgJ3NlbGVjdGVkJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RFbGVtZW50LmFwcGVuZChvcHRpb25FbGVtZW50KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgU2VsZWN0Qm94LnByb3RvdHlwZS5vbkl0ZW1BZGRlZEV2ZW50ID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5vbkl0ZW1BZGRlZEV2ZW50LmNhbGwodGhpcywgdmFsdWUpO1xyXG4gICAgICAgIHRoaXMudXBkYXRlRG9tSXRlbXModGhpcy5zZWxlY3RlZEl0ZW0pO1xyXG4gICAgfTtcclxuICAgIFNlbGVjdEJveC5wcm90b3R5cGUub25JdGVtUmVtb3ZlZEV2ZW50ID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5vbkl0ZW1SZW1vdmVkRXZlbnQuY2FsbCh0aGlzLCB2YWx1ZSk7XHJcbiAgICAgICAgdGhpcy51cGRhdGVEb21JdGVtcyh0aGlzLnNlbGVjdGVkSXRlbSk7XHJcbiAgICB9O1xyXG4gICAgU2VsZWN0Qm94LnByb3RvdHlwZS5vbkl0ZW1TZWxlY3RlZEV2ZW50ID0gZnVuY3Rpb24gKHZhbHVlLCB1cGRhdGVEb21JdGVtcykge1xyXG4gICAgICAgIGlmICh1cGRhdGVEb21JdGVtcyA9PT0gdm9pZCAwKSB7IHVwZGF0ZURvbUl0ZW1zID0gdHJ1ZTsgfVxyXG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUub25JdGVtU2VsZWN0ZWRFdmVudC5jYWxsKHRoaXMsIHZhbHVlKTtcclxuICAgICAgICBpZiAodXBkYXRlRG9tSXRlbXMpIHtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVEb21JdGVtcyh2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHJldHVybiBTZWxlY3RCb3g7XHJcbn0obGlzdHNlbGVjdG9yXzEuTGlzdFNlbGVjdG9yKSk7XHJcbmV4cG9ydHMuU2VsZWN0Qm94ID0gU2VsZWN0Qm94O1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvc2VsZWN0Ym94LnRzXG4vLyBtb2R1bGUgaWQgPSAyMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGNvbXBvbmVudF8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50XCIpO1xyXG52YXIgZXZlbnRkaXNwYXRjaGVyXzEgPSByZXF1aXJlKFwiLi4vZXZlbnRkaXNwYXRjaGVyXCIpO1xyXG52YXIgYXJyYXl1dGlsc18xID0gcmVxdWlyZShcIi4uL2FycmF5dXRpbHNcIik7XHJcbnZhciBMaXN0U2VsZWN0b3IgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKExpc3RTZWxlY3RvciwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIExpc3RTZWxlY3Rvcihjb25maWcpIHtcclxuICAgICAgICBpZiAoY29uZmlnID09PSB2b2lkIDApIHsgY29uZmlnID0ge307IH1cclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBjb25maWcpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMubGlzdFNlbGVjdG9yRXZlbnRzID0ge1xyXG4gICAgICAgICAgICBvbkl0ZW1BZGRlZDogbmV3IGV2ZW50ZGlzcGF0Y2hlcl8xLkV2ZW50RGlzcGF0Y2hlcigpLFxyXG4gICAgICAgICAgICBvbkl0ZW1SZW1vdmVkOiBuZXcgZXZlbnRkaXNwYXRjaGVyXzEuRXZlbnREaXNwYXRjaGVyKCksXHJcbiAgICAgICAgICAgIG9uSXRlbVNlbGVjdGVkOiBuZXcgZXZlbnRkaXNwYXRjaGVyXzEuRXZlbnREaXNwYXRjaGVyKCksXHJcbiAgICAgICAgfTtcclxuICAgICAgICBfdGhpcy5jb25maWcgPSBfdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIHtcclxuICAgICAgICAgICAgaXRlbXM6IFtdLFxyXG4gICAgICAgICAgICBjc3NDbGFzczogJ3VpLWxpc3RzZWxlY3RvcicsXHJcbiAgICAgICAgfSwgX3RoaXMuY29uZmlnKTtcclxuICAgICAgICBfdGhpcy5pdGVtcyA9IF90aGlzLmNvbmZpZy5pdGVtcztcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBMaXN0U2VsZWN0b3IucHJvdG90eXBlLmdldEl0ZW1JbmRleCA9IGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICBmb3IgKHZhciBpbmRleCBpbiB0aGlzLml0ZW1zKSB7XHJcbiAgICAgICAgICAgIGlmIChrZXkgPT09IHRoaXMuaXRlbXNbaW5kZXhdLmtleSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KGluZGV4KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gLTE7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVja3MgaWYgdGhlIHNwZWNpZmllZCBpdGVtIGlzIHBhcnQgb2YgdGhpcyBzZWxlY3Rvci5cclxuICAgICAqIEBwYXJhbSBrZXkgdGhlIGtleSBvZiB0aGUgaXRlbSB0byBjaGVja1xyXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IHRydWUgaWYgdGhlIGl0ZW0gaXMgcGFydCBvZiB0aGlzIHNlbGVjdG9yLCBlbHNlIGZhbHNlXHJcbiAgICAgKi9cclxuICAgIExpc3RTZWxlY3Rvci5wcm90b3R5cGUuaGFzSXRlbSA9IGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRJdGVtSW5kZXgoa2V5KSA+IC0xO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQWRkcyBhbiBpdGVtIHRvIHRoaXMgc2VsZWN0b3IgYnkgYXBwZW5kaW5nIGl0IHRvIHRoZSBlbmQgb2YgdGhlIGxpc3Qgb2YgaXRlbXMuIElmIGFuIGl0ZW0gd2l0aCB0aGUgc3BlY2lmaWVkXHJcbiAgICAgKiBrZXkgYWxyZWFkeSBleGlzdHMsIGl0IGlzIHJlcGxhY2VkLlxyXG4gICAgICogQHBhcmFtIGtleSB0aGUga2V5IG9mIHRoZSBpdGVtIHRvIGFkZFxyXG4gICAgICogQHBhcmFtIGxhYmVsIHRoZSAoaHVtYW4tcmVhZGFibGUpIGxhYmVsIG9mIHRoZSBpdGVtIHRvIGFkZFxyXG4gICAgICovXHJcbiAgICBMaXN0U2VsZWN0b3IucHJvdG90eXBlLmFkZEl0ZW0gPSBmdW5jdGlvbiAoa2V5LCBsYWJlbCkge1xyXG4gICAgICAgIHRoaXMucmVtb3ZlSXRlbShrZXkpOyAvLyBUcnkgdG8gcmVtb3ZlIGtleSBmaXJzdCB0byBnZXQgb3ZlcndyaXRlIGJlaGF2aW9yIGFuZCBhdm9pZCBkdXBsaWNhdGUga2V5c1xyXG4gICAgICAgIHRoaXMuaXRlbXMucHVzaCh7IGtleToga2V5LCBsYWJlbDogbGFiZWwgfSk7XHJcbiAgICAgICAgdGhpcy5vbkl0ZW1BZGRlZEV2ZW50KGtleSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZW1vdmVzIGFuIGl0ZW0gZnJvbSB0aGlzIHNlbGVjdG9yLlxyXG4gICAgICogQHBhcmFtIGtleSB0aGUga2V5IG9mIHRoZSBpdGVtIHRvIHJlbW92ZVxyXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IHRydWUgaWYgcmVtb3ZhbCB3YXMgc3VjY2Vzc2Z1bCwgZmFsc2UgaWYgdGhlIGl0ZW0gaXMgbm90IHBhcnQgb2YgdGhpcyBzZWxlY3RvclxyXG4gICAgICovXHJcbiAgICBMaXN0U2VsZWN0b3IucHJvdG90eXBlLnJlbW92ZUl0ZW0gPSBmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5nZXRJdGVtSW5kZXgoa2V5KTtcclxuICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xyXG4gICAgICAgICAgICBhcnJheXV0aWxzXzEuQXJyYXlVdGlscy5yZW1vdmUodGhpcy5pdGVtcywgdGhpcy5pdGVtc1tpbmRleF0pO1xyXG4gICAgICAgICAgICB0aGlzLm9uSXRlbVJlbW92ZWRFdmVudChrZXkpO1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogU2VsZWN0cyBhbiBpdGVtIGZyb20gdGhlIGl0ZW1zIGluIHRoaXMgc2VsZWN0b3IuXHJcbiAgICAgKiBAcGFyYW0ga2V5IHRoZSBrZXkgb2YgdGhlIGl0ZW0gdG8gc2VsZWN0XHJcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpcyB0aGUgc2VsZWN0aW9uIHdhcyBzdWNjZXNzZnVsLCBmYWxzZSBpZiB0aGUgc2VsZWN0ZWQgaXRlbSBpcyBub3QgcGFydCBvZiB0aGUgc2VsZWN0b3JcclxuICAgICAqL1xyXG4gICAgTGlzdFNlbGVjdG9yLnByb3RvdHlwZS5zZWxlY3RJdGVtID0gZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgIGlmIChrZXkgPT09IHRoaXMuc2VsZWN0ZWRJdGVtKSB7XHJcbiAgICAgICAgICAgIC8vIGl0ZW1Db25maWcgaXMgYWxyZWFkeSBzZWxlY3RlZCwgc3VwcHJlc3MgYW55IGZ1cnRoZXIgYWN0aW9uXHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmdldEl0ZW1JbmRleChrZXkpO1xyXG4gICAgICAgIGlmIChpbmRleCA+IC0xKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJdGVtID0ga2V5O1xyXG4gICAgICAgICAgICB0aGlzLm9uSXRlbVNlbGVjdGVkRXZlbnQoa2V5KTtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdGhlIGtleSBvZiB0aGUgc2VsZWN0ZWQgaXRlbS5cclxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IHRoZSBrZXkgb2YgdGhlIHNlbGVjdGVkIGl0ZW0gb3IgbnVsbCBpZiBubyBpdGVtIGlzIHNlbGVjdGVkXHJcbiAgICAgKi9cclxuICAgIExpc3RTZWxlY3Rvci5wcm90b3R5cGUuZ2V0U2VsZWN0ZWRJdGVtID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNlbGVjdGVkSXRlbTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZXMgYWxsIGl0ZW1zIGZyb20gdGhpcyBzZWxlY3Rvci5cclxuICAgICAqL1xyXG4gICAgTGlzdFNlbGVjdG9yLnByb3RvdHlwZS5jbGVhckl0ZW1zID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vIGxvY2FsIGNvcHkgZm9yIGl0ZXJhdGlvbiBhZnRlciBjbGVhclxyXG4gICAgICAgIHZhciBpdGVtcyA9IHRoaXMuaXRlbXM7XHJcbiAgICAgICAgLy8gY2xlYXIgaXRlbXNcclxuICAgICAgICB0aGlzLml0ZW1zID0gW107XHJcbiAgICAgICAgLy8gY2xlYXIgdGhlIHNlbGVjdGlvbiBhcyB0aGUgc2VsZWN0ZWQgaXRlbSBpcyBhbHNvIHJlbW92ZWRcclxuICAgICAgICB0aGlzLnNlbGVjdGVkSXRlbSA9IG51bGw7XHJcbiAgICAgICAgLy8gZmlyZSBldmVudHNcclxuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIGl0ZW1zXzEgPSBpdGVtczsgX2kgPCBpdGVtc18xLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICB2YXIgaXRlbSA9IGl0ZW1zXzFbX2ldO1xyXG4gICAgICAgICAgICB0aGlzLm9uSXRlbVJlbW92ZWRFdmVudChpdGVtLmtleSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0aGUgbnVtYmVyIG9mIGl0ZW1zIGluIHRoaXMgc2VsZWN0b3IuXHJcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfVxyXG4gICAgICovXHJcbiAgICBMaXN0U2VsZWN0b3IucHJvdG90eXBlLml0ZW1Db3VudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5pdGVtcykubGVuZ3RoO1xyXG4gICAgfTtcclxuICAgIExpc3RTZWxlY3Rvci5wcm90b3R5cGUub25JdGVtQWRkZWRFdmVudCA9IGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICB0aGlzLmxpc3RTZWxlY3RvckV2ZW50cy5vbkl0ZW1BZGRlZC5kaXNwYXRjaCh0aGlzLCBrZXkpO1xyXG4gICAgfTtcclxuICAgIExpc3RTZWxlY3Rvci5wcm90b3R5cGUub25JdGVtUmVtb3ZlZEV2ZW50ID0gZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgIHRoaXMubGlzdFNlbGVjdG9yRXZlbnRzLm9uSXRlbVJlbW92ZWQuZGlzcGF0Y2godGhpcywga2V5KTtcclxuICAgIH07XHJcbiAgICBMaXN0U2VsZWN0b3IucHJvdG90eXBlLm9uSXRlbVNlbGVjdGVkRXZlbnQgPSBmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgdGhpcy5saXN0U2VsZWN0b3JFdmVudHMub25JdGVtU2VsZWN0ZWQuZGlzcGF0Y2godGhpcywga2V5KTtcclxuICAgIH07XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTGlzdFNlbGVjdG9yLnByb3RvdHlwZSwgXCJvbkl0ZW1BZGRlZFwiLCB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogR2V0cyB0aGUgZXZlbnQgdGhhdCBpcyBmaXJlZCB3aGVuIGFuIGl0ZW0gaXMgYWRkZWQgdG8gdGhlIGxpc3Qgb2YgaXRlbXMuXHJcbiAgICAgICAgICogQHJldHVybnMge0V2ZW50PExpc3RTZWxlY3RvcjxDb25maWc+LCBzdHJpbmc+fVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5saXN0U2VsZWN0b3JFdmVudHMub25JdGVtQWRkZWQuZ2V0RXZlbnQoKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShMaXN0U2VsZWN0b3IucHJvdG90eXBlLCBcIm9uSXRlbVJlbW92ZWRcIiwge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEdldHMgdGhlIGV2ZW50IHRoYXQgaXMgZmlyZWQgd2hlbiBhbiBpdGVtIGlzIHJlbW92ZWQgZnJvbSB0aGUgbGlzdCBvZiBpdGVtcy5cclxuICAgICAgICAgKiBAcmV0dXJucyB7RXZlbnQ8TGlzdFNlbGVjdG9yPENvbmZpZz4sIHN0cmluZz59XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxpc3RTZWxlY3RvckV2ZW50cy5vbkl0ZW1SZW1vdmVkLmdldEV2ZW50KCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTGlzdFNlbGVjdG9yLnByb3RvdHlwZSwgXCJvbkl0ZW1TZWxlY3RlZFwiLCB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogR2V0cyB0aGUgZXZlbnQgdGhhdCBpcyBmaXJlZCB3aGVuIGFuIGl0ZW0gaXMgc2VsZWN0ZWQgZnJvbSB0aGUgbGlzdCBvZiBpdGVtcy5cclxuICAgICAgICAgKiBAcmV0dXJucyB7RXZlbnQ8TGlzdFNlbGVjdG9yPENvbmZpZz4sIHN0cmluZz59XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxpc3RTZWxlY3RvckV2ZW50cy5vbkl0ZW1TZWxlY3RlZC5nZXRFdmVudCgpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIExpc3RTZWxlY3RvcjtcclxufShjb21wb25lbnRfMS5Db21wb25lbnQpKTtcclxuZXhwb3J0cy5MaXN0U2VsZWN0b3IgPSBMaXN0U2VsZWN0b3I7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9saXN0c2VsZWN0b3IudHNcbi8vIG1vZHVsZSBpZCA9IDIyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgY29udGFpbmVyXzEgPSByZXF1aXJlKFwiLi9jb250YWluZXJcIik7XHJcbnZhciB2b2x1bWVzbGlkZXJfMSA9IHJlcXVpcmUoXCIuL3ZvbHVtZXNsaWRlclwiKTtcclxudmFyIHZvbHVtZXRvZ2dsZWJ1dHRvbl8xID0gcmVxdWlyZShcIi4vdm9sdW1ldG9nZ2xlYnV0dG9uXCIpO1xyXG52YXIgdGltZW91dF8xID0gcmVxdWlyZShcIi4uL3RpbWVvdXRcIik7XHJcbi8qKlxyXG4gKiBBIGNvbXBvc2l0ZSB2b2x1bWUgY29udHJvbCB0aGF0IGNvbnNpc3RzIG9mIGFuZCBpbnRlcm5hbGx5IG1hbmFnZXMgYSB2b2x1bWUgY29udHJvbCBidXR0b24gdGhhdCBjYW4gYmUgdXNlZFxyXG4gKiBmb3IgbXV0aW5nLCBhbmQgYSAoZGVwZW5kaW5nIG9uIHRoZSBDU1Mgc3R5bGUsIGUuZy4gc2xpZGUtb3V0KSB2b2x1bWUgY29udHJvbCBiYXIuXHJcbiAqL1xyXG52YXIgVm9sdW1lQ29udHJvbEJ1dHRvbiA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoVm9sdW1lQ29udHJvbEJ1dHRvbiwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIFZvbHVtZUNvbnRyb2xCdXR0b24oY29uZmlnKSB7XHJcbiAgICAgICAgaWYgKGNvbmZpZyA9PT0gdm9pZCAwKSB7IGNvbmZpZyA9IHt9OyB9XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgY29uZmlnKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLnZvbHVtZVRvZ2dsZUJ1dHRvbiA9IG5ldyB2b2x1bWV0b2dnbGVidXR0b25fMS5Wb2x1bWVUb2dnbGVCdXR0b24oKTtcclxuICAgICAgICBfdGhpcy52b2x1bWVTbGlkZXIgPSBuZXcgdm9sdW1lc2xpZGVyXzEuVm9sdW1lU2xpZGVyKHtcclxuICAgICAgICAgICAgdmVydGljYWw6IGNvbmZpZy52ZXJ0aWNhbCAhPSBudWxsID8gY29uZmlnLnZlcnRpY2FsIDogdHJ1ZSxcclxuICAgICAgICAgICAgaGlkZGVuOiB0cnVlLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIF90aGlzLmNvbmZpZyA9IF90aGlzLm1lcmdlQ29uZmlnKGNvbmZpZywge1xyXG4gICAgICAgICAgICBjc3NDbGFzczogJ3VpLXZvbHVtZWNvbnRyb2xidXR0b24nLFxyXG4gICAgICAgICAgICBjb21wb25lbnRzOiBbX3RoaXMudm9sdW1lVG9nZ2xlQnV0dG9uLCBfdGhpcy52b2x1bWVTbGlkZXJdLFxyXG4gICAgICAgICAgICBoaWRlRGVsYXk6IDUwMCxcclxuICAgICAgICB9LCBfdGhpcy5jb25maWcpO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIFZvbHVtZUNvbnRyb2xCdXR0b24ucHJvdG90eXBlLmNvbmZpZ3VyZSA9IGZ1bmN0aW9uIChwbGF5ZXIsIHVpbWFuYWdlcikge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5jb25maWd1cmUuY2FsbCh0aGlzLCBwbGF5ZXIsIHVpbWFuYWdlcik7XHJcbiAgICAgICAgdmFyIHZvbHVtZVRvZ2dsZUJ1dHRvbiA9IHRoaXMuZ2V0Vm9sdW1lVG9nZ2xlQnV0dG9uKCk7XHJcbiAgICAgICAgdmFyIHZvbHVtZVNsaWRlciA9IHRoaXMuZ2V0Vm9sdW1lU2xpZGVyKCk7XHJcbiAgICAgICAgdGhpcy52b2x1bWVTbGlkZXJIaWRlVGltZW91dCA9IG5ldyB0aW1lb3V0XzEuVGltZW91dCh0aGlzLmdldENvbmZpZygpLmhpZGVEZWxheSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2b2x1bWVTbGlkZXIuaGlkZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8qXHJcbiAgICAgICAgICogVm9sdW1lIFNsaWRlciB2aXNpYmlsaXR5IGhhbmRsaW5nXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBUaGUgdm9sdW1lIHNsaWRlciBzaGFsbCBiZSB2aXNpYmxlIHdoaWxlIHRoZSB1c2VyIGhvdmVycyB0aGUgbXV0ZSB0b2dnbGUgYnV0dG9uLCB3aGlsZSB0aGUgdXNlciBob3ZlcnMgdGhlXHJcbiAgICAgICAgICogdm9sdW1lIHNsaWRlciwgYW5kIHdoaWxlIHRoZSB1c2VyIHNsaWRlcyB0aGUgdm9sdW1lIHNsaWRlci4gSWYgbm9uZSBvZiB0aGVzZSBzaXR1YXRpb25zIGFyZSB0cnVlLCB0aGUgc2xpZGVyXHJcbiAgICAgICAgICogc2hhbGwgZGlzYXBwZWFyLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHZhciB2b2x1bWVTbGlkZXJIb3ZlcmVkID0gZmFsc2U7XHJcbiAgICAgICAgdm9sdW1lVG9nZ2xlQnV0dG9uLmdldERvbUVsZW1lbnQoKS5vbignbW91c2VlbnRlcicsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgLy8gU2hvdyB2b2x1bWUgc2xpZGVyIHdoZW4gbW91c2UgZW50ZXJzIHRoZSBidXR0b24gYXJlYVxyXG4gICAgICAgICAgICBpZiAodm9sdW1lU2xpZGVyLmlzSGlkZGVuKCkpIHtcclxuICAgICAgICAgICAgICAgIHZvbHVtZVNsaWRlci5zaG93KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gQXZvaWQgaGlkaW5nIG9mIHRoZSBzbGlkZXIgd2hlbiBidXR0b24gaXMgaG92ZXJlZFxyXG4gICAgICAgICAgICBfdGhpcy52b2x1bWVTbGlkZXJIaWRlVGltZW91dC5jbGVhcigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHZvbHVtZVRvZ2dsZUJ1dHRvbi5nZXREb21FbGVtZW50KCkub24oJ21vdXNlbGVhdmUnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIC8vIEhpZGUgc2xpZGVyIGRlbGF5ZWQgd2hlbiBidXR0b24gaXMgbGVmdFxyXG4gICAgICAgICAgICBfdGhpcy52b2x1bWVTbGlkZXJIaWRlVGltZW91dC5yZXNldCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHZvbHVtZVNsaWRlci5nZXREb21FbGVtZW50KCkub24oJ21vdXNlZW50ZXInLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIC8vIFdoZW4gdGhlIHNsaWRlciBpcyBlbnRlcmVkLCBjYW5jZWwgdGhlIGhpZGUgdGltZW91dCBhY3RpdmF0ZWQgYnkgbGVhdmluZyB0aGUgYnV0dG9uXHJcbiAgICAgICAgICAgIF90aGlzLnZvbHVtZVNsaWRlckhpZGVUaW1lb3V0LmNsZWFyKCk7XHJcbiAgICAgICAgICAgIHZvbHVtZVNsaWRlckhvdmVyZWQgPSB0cnVlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHZvbHVtZVNsaWRlci5nZXREb21FbGVtZW50KCkub24oJ21vdXNlbGVhdmUnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIC8vIFdoZW4gbW91c2UgbGVhdmVzIHRoZSBzbGlkZXIsIG9ubHkgaGlkZSBpdCBpZiB0aGVyZSBpcyBubyBzbGlkZSBvcGVyYXRpb24gaW4gcHJvZ3Jlc3NcclxuICAgICAgICAgICAgaWYgKHZvbHVtZVNsaWRlci5pc1NlZWtpbmcoKSkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMudm9sdW1lU2xpZGVySGlkZVRpbWVvdXQuY2xlYXIoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLnZvbHVtZVNsaWRlckhpZGVUaW1lb3V0LnJlc2V0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdm9sdW1lU2xpZGVySG92ZXJlZCA9IGZhbHNlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHZvbHVtZVNsaWRlci5vblNlZWtlZC5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAvLyBXaGVuIGEgc2xpZGUgb3BlcmF0aW9uIGlzIGRvbmUgYW5kIHRoZSBzbGlkZXIgbm90IGhvdmVyZWQgKG1vdXNlIG91dHNpZGUgc2xpZGVyKSwgaGlkZSBzbGlkZXIgZGVsYXllZFxyXG4gICAgICAgICAgICBpZiAoIXZvbHVtZVNsaWRlckhvdmVyZWQpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLnZvbHVtZVNsaWRlckhpZGVUaW1lb3V0LnJlc2V0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBWb2x1bWVDb250cm9sQnV0dG9uLnByb3RvdHlwZS5yZWxlYXNlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUucmVsZWFzZS5jYWxsKHRoaXMpO1xyXG4gICAgICAgIHRoaXMudm9sdW1lU2xpZGVySGlkZVRpbWVvdXQuY2xlYXIoKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFByb3ZpZGVzIGFjY2VzcyB0byB0aGUgaW50ZXJuYWxseSBtYW5hZ2VkIHZvbHVtZSB0b2dnbGUgYnV0dG9uLlxyXG4gICAgICogQHJldHVybnMge1ZvbHVtZVRvZ2dsZUJ1dHRvbn1cclxuICAgICAqL1xyXG4gICAgVm9sdW1lQ29udHJvbEJ1dHRvbi5wcm90b3R5cGUuZ2V0Vm9sdW1lVG9nZ2xlQnV0dG9uID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnZvbHVtZVRvZ2dsZUJ1dHRvbjtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFByb3ZpZGVzIGFjY2VzcyB0byB0aGUgaW50ZXJuYWxseSBtYW5hZ2VkIHZvbHVtZSBzaWxkZXIuXHJcbiAgICAgKiBAcmV0dXJucyB7Vm9sdW1lU2xpZGVyfVxyXG4gICAgICovXHJcbiAgICBWb2x1bWVDb250cm9sQnV0dG9uLnByb3RvdHlwZS5nZXRWb2x1bWVTbGlkZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudm9sdW1lU2xpZGVyO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBWb2x1bWVDb250cm9sQnV0dG9uO1xyXG59KGNvbnRhaW5lcl8xLkNvbnRhaW5lcikpO1xyXG5leHBvcnRzLlZvbHVtZUNvbnRyb2xCdXR0b24gPSBWb2x1bWVDb250cm9sQnV0dG9uO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvdm9sdW1lY29udHJvbGJ1dHRvbi50c1xuLy8gbW9kdWxlIGlkID0gMjNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBzZWVrYmFyXzEgPSByZXF1aXJlKFwiLi9zZWVrYmFyXCIpO1xyXG4vKipcclxuICogQSBzaW1wbGUgdm9sdW1lIHNsaWRlciBjb21wb25lbnQgdG8gYWRqdXN0IHRoZSBwbGF5ZXIncyB2b2x1bWUgc2V0dGluZy5cclxuICovXHJcbnZhciBWb2x1bWVTbGlkZXIgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKFZvbHVtZVNsaWRlciwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIFZvbHVtZVNsaWRlcihjb25maWcpIHtcclxuICAgICAgICBpZiAoY29uZmlnID09PSB2b2lkIDApIHsgY29uZmlnID0ge307IH1cclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBjb25maWcpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMuY29uZmlnID0gX3RoaXMubWVyZ2VDb25maWcoY29uZmlnLCB7XHJcbiAgICAgICAgICAgIGNzc0NsYXNzOiAndWktdm9sdW1lc2xpZGVyJyxcclxuICAgICAgICAgICAgaGlkZUlmVm9sdW1lQ29udHJvbFByb2hpYml0ZWQ6IHRydWUsXHJcbiAgICAgICAgfSwgX3RoaXMuY29uZmlnKTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBWb2x1bWVTbGlkZXIucHJvdG90eXBlLmNvbmZpZ3VyZSA9IGZ1bmN0aW9uIChwbGF5ZXIsIHVpbWFuYWdlcikge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5jb25maWd1cmUuY2FsbCh0aGlzLCBwbGF5ZXIsIHVpbWFuYWdlciwgZmFsc2UpO1xyXG4gICAgICAgIHZhciBjb25maWcgPSB0aGlzLmdldENvbmZpZygpO1xyXG4gICAgICAgIGlmIChjb25maWcuaGlkZUlmVm9sdW1lQ29udHJvbFByb2hpYml0ZWQgJiYgIXRoaXMuZGV0ZWN0Vm9sdW1lQ29udHJvbEF2YWlsYWJpbGl0eShwbGF5ZXIpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaGlkZSgpO1xyXG4gICAgICAgICAgICAvLyBXZSBjYW4ganVzdCByZXR1cm4gZnJvbSBoZXJlLCBiZWNhdXNlIHRoZSB1c2VyIHdpbGwgbmV2ZXIgaW50ZXJhY3Qgd2l0aCB0aGUgY29udHJvbCBhbmQgYW55IGNvbmZpZ3VyZWRcclxuICAgICAgICAgICAgLy8gZnVuY3Rpb25hbGl0eSB3b3VsZCBvbmx5IGVhdCByZXNvdXJjZXMgZm9yIG5vIHJlYXNvbi5cclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgdm9sdW1lQ2hhbmdlSGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKHBsYXllci5pc011dGVkKCkpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLnNldFBsYXliYWNrUG9zaXRpb24oMCk7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5zZXRCdWZmZXJQb3NpdGlvbigwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLnNldFBsYXliYWNrUG9zaXRpb24ocGxheWVyLmdldFZvbHVtZSgpKTtcclxuICAgICAgICAgICAgICAgIF90aGlzLnNldEJ1ZmZlclBvc2l0aW9uKHBsYXllci5nZXRWb2x1bWUoKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1JFQURZLCB2b2x1bWVDaGFuZ2VIYW5kbGVyKTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9WT0xVTUVfQ0hBTkdFRCwgdm9sdW1lQ2hhbmdlSGFuZGxlcik7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fTVVURUQsIHZvbHVtZUNoYW5nZUhhbmRsZXIpO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1VOTVVURUQsIHZvbHVtZUNoYW5nZUhhbmRsZXIpO1xyXG4gICAgICAgIHRoaXMub25TZWVrUHJldmlldy5zdWJzY3JpYmVSYXRlTGltaXRlZChmdW5jdGlvbiAoc2VuZGVyLCBhcmdzKSB7XHJcbiAgICAgICAgICAgIGlmIChhcmdzLnNjcnViYmluZykge1xyXG4gICAgICAgICAgICAgICAgcGxheWVyLnNldFZvbHVtZShhcmdzLnBvc2l0aW9uLCBWb2x1bWVTbGlkZXIuaXNzdWVyTmFtZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCA1MCk7XHJcbiAgICAgICAgdGhpcy5vblNlZWtlZC5zdWJzY3JpYmUoZnVuY3Rpb24gKHNlbmRlciwgcGVyY2VudGFnZSkge1xyXG4gICAgICAgICAgICBwbGF5ZXIuc2V0Vm9sdW1lKHBlcmNlbnRhZ2UsIFZvbHVtZVNsaWRlci5pc3N1ZXJOYW1lKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBVcGRhdGUgdGhlIHZvbHVtZSBzbGlkZXIgbWFya2VyIHdoZW4gdGhlIHBsYXllciByZXNpemVkLCBhIHNvdXJjZSBpcyBsb2FkZWQgYW5kIHBsYXllciBpcyByZWFkeSxcclxuICAgICAgICAvLyBvciB0aGUgVUkgaXMgY29uZmlndXJlZC4gQ2hlY2sgdGhlIHNlZWtiYXIgZm9yIGEgZGV0YWlsZWQgZGVzY3JpcHRpb24uXHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fUExBWUVSX1JFU0laRSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBfdGhpcy5yZWZyZXNoUGxheWJhY2tQb3NpdGlvbigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1JFQURZLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIF90aGlzLnJlZnJlc2hQbGF5YmFja1Bvc2l0aW9uKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdWltYW5hZ2VyLm9uQ29uZmlndXJlZC5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBfdGhpcy5yZWZyZXNoUGxheWJhY2tQb3NpdGlvbigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIEluaXQgdm9sdW1lIGJhclxyXG4gICAgICAgIHZvbHVtZUNoYW5nZUhhbmRsZXIoKTtcclxuICAgIH07XHJcbiAgICBWb2x1bWVTbGlkZXIucHJvdG90eXBlLmRldGVjdFZvbHVtZUNvbnRyb2xBdmFpbGFiaWxpdHkgPSBmdW5jdGlvbiAocGxheWVyKSB7XHJcbiAgICAgICAgLy8gU3RvcmUgY3VycmVudCBwbGF5ZXIgc3RhdGUgc28gd2UgY2FuIHJlc3RvcmUgaXQgbGF0ZXJcclxuICAgICAgICB2YXIgdm9sdW1lID0gcGxheWVyLmdldFZvbHVtZSgpO1xyXG4gICAgICAgIHZhciBtdXRlZCA9IHBsYXllci5pc011dGVkKCk7XHJcbiAgICAgICAgdmFyIHBsYXlpbmcgPSBwbGF5ZXIuaXNQbGF5aW5nKCk7XHJcbiAgICAgICAgLypcclxuICAgICAgICAgKiBcIk9uIGlPUyBkZXZpY2VzLCB0aGUgYXVkaW8gbGV2ZWwgaXMgYWx3YXlzIHVuZGVyIHRoZSB1c2Vy4oCZcyBwaHlzaWNhbCBjb250cm9sLiBUaGUgdm9sdW1lIHByb3BlcnR5IGlzIG5vdFxyXG4gICAgICAgICAqIHNldHRhYmxlIGluIEphdmFTY3JpcHQuIFJlYWRpbmcgdGhlIHZvbHVtZSBwcm9wZXJ0eSBhbHdheXMgcmV0dXJucyAxLlwiXHJcbiAgICAgICAgICogaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2xpYnJhcnkvY29udGVudC9kb2N1bWVudGF0aW9uL0F1ZGlvVmlkZW8vQ29uY2VwdHVhbC9Vc2luZ19IVE1MNV9BdWRpb19WaWRlby9EZXZpY2UtU3BlY2lmaWNDb25zaWRlcmF0aW9ucy9EZXZpY2UtU3BlY2lmaWNDb25zaWRlcmF0aW9ucy5odG1sXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBPdXIgcGxheWVyIEFQSSByZXR1cm5zIGEgdm9sdW1lIHJhbmdlIG9mIFswLCAxMDBdIHNvIHdlIG5lZWQgdG8gY2hlY2sgZm9yIDEwMCBpbnN0ZWFkIG9mIDEuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgLy8gT25seSBpZiB0aGUgdm9sdW1lIGlzIDEwMCwgdGhlcmUncyB0aGUgcG9zc2liaWxpdHkgd2UgYXJlIG9uIGEgdm9sdW1lLWNvbnRyb2wtcmVzdHJpY3RlZCBpT1MgZGV2aWNlXHJcbiAgICAgICAgaWYgKHZvbHVtZSA9PT0gMTAwKSB7XHJcbiAgICAgICAgICAgIC8vIFdlIHNldCB0aGUgdm9sdW1lIHRvIHplcm8gKHRoYXQncyB0aGUgb25seSB2YWx1ZSB0aGF0IGRvZXMgbm90IHVubXV0ZSBhIG11dGVkIHBsYXllciEpXHJcbiAgICAgICAgICAgIHBsYXllci5zZXRWb2x1bWUoMCwgVm9sdW1lU2xpZGVyLmlzc3Vlck5hbWUpO1xyXG4gICAgICAgICAgICAvLyBUaGVuIHdlIGNoZWNrIGlmIHRoZSB2YWx1ZSBpcyBzdGlsbCAxMDBcclxuICAgICAgICAgICAgaWYgKHBsYXllci5nZXRWb2x1bWUoKSA9PT0gMTAwKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBJZiB0aGUgdm9sdW1lIHN0YXllZCBhdCAxMDAsIHdlJ3JlIG9uIGEgdm9sdW1lLWNvbnRyb2wtcmVzdHJpY3RlZCBkZXZpY2VcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIFdlIGNhbiBjb250cm9sIHZvbHVtZSwgc28gd2UgbXVzdCByZXN0b3JlIHRoZSBwcmV2aW91cyBwbGF5ZXIgc3RhdGVcclxuICAgICAgICAgICAgICAgIHBsYXllci5zZXRWb2x1bWUodm9sdW1lLCBWb2x1bWVTbGlkZXIuaXNzdWVyTmFtZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAobXV0ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBwbGF5ZXIubXV0ZShWb2x1bWVTbGlkZXIuaXNzdWVyTmFtZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAocGxheWluZykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZSB2b2x1bWUgcmVzdG9yZSBhYm92ZSBwYXVzZXMgYXV0b3BsYXkgb24gbW9iaWxlIGRldmljZXMgKGUuZy4gQW5kcm9pZCkgc28gd2UgbmVlZCB0byByZXN1bWUgcGxheWJhY2tcclxuICAgICAgICAgICAgICAgICAgICAvLyAoV2UgY2Fubm90IGNoZWNrIGlzUGF1c2VkKCkgaGVyZSBiZWNhdXNlIGl0IGlzIG5vdCBzZXQgd2hlbiBwbGF5YmFjayBpcyBwcm9oaWJpdGVkIGJ5IHRoZSBtb2JpbGUgcGxhdGZvcm0pXHJcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyLnBsYXkoVm9sdW1lU2xpZGVyLmlzc3Vlck5hbWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIFZvbHVtZSBpcyBub3QgMTAwLCBzbyB3ZSdyZSBkZWZpbml0ZWx5IG5vdCBvbiBhIHZvbHVtZS1jb250cm9sLXJlc3RyaWN0ZWQgaU9TIGRldmljZVxyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFZvbHVtZVNsaWRlcjtcclxufShzZWVrYmFyXzEuU2Vla0JhcikpO1xyXG5Wb2x1bWVTbGlkZXIuaXNzdWVyTmFtZSA9ICd1aSc7XHJcbmV4cG9ydHMuVm9sdW1lU2xpZGVyID0gVm9sdW1lU2xpZGVyO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvdm9sdW1lc2xpZGVyLnRzXG4vLyBtb2R1bGUgaWQgPSAyNFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIHRvZ2dsZWJ1dHRvbl8xID0gcmVxdWlyZShcIi4vdG9nZ2xlYnV0dG9uXCIpO1xyXG4vKipcclxuICogQSBidXR0b24gdGhhdCB0b2dnbGVzIGF1ZGlvIG11dGluZy5cclxuICovXHJcbnZhciBWb2x1bWVUb2dnbGVCdXR0b24gPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKFZvbHVtZVRvZ2dsZUJ1dHRvbiwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIFZvbHVtZVRvZ2dsZUJ1dHRvbihjb25maWcpIHtcclxuICAgICAgICBpZiAoY29uZmlnID09PSB2b2lkIDApIHsgY29uZmlnID0ge307IH1cclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBjb25maWcpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMuY29uZmlnID0gX3RoaXMubWVyZ2VDb25maWcoY29uZmlnLCB7XHJcbiAgICAgICAgICAgIGNzc0NsYXNzOiAndWktdm9sdW1ldG9nZ2xlYnV0dG9uJyxcclxuICAgICAgICAgICAgdGV4dDogJ1ZvbHVtZS9NdXRlJyxcclxuICAgICAgICB9LCBfdGhpcy5jb25maWcpO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIFZvbHVtZVRvZ2dsZUJ1dHRvbi5wcm90b3R5cGUuY29uZmlndXJlID0gZnVuY3Rpb24gKHBsYXllciwgdWltYW5hZ2VyKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmNvbmZpZ3VyZS5jYWxsKHRoaXMsIHBsYXllciwgdWltYW5hZ2VyKTtcclxuICAgICAgICB2YXIgbXV0ZVN0YXRlSGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKHBsYXllci5pc011dGVkKCkpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLm9uKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5vZmYoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdmFyIHZvbHVtZUxldmVsSGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgLy8gVG9nZ2xlIGxvdyBjbGFzcyB0byBkaXNwbGF5IGxvdyB2b2x1bWUgaWNvbiBiZWxvdyA1MCUgdm9sdW1lXHJcbiAgICAgICAgICAgIGlmIChwbGF5ZXIuZ2V0Vm9sdW1lKCkgPCA1MCkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuZ2V0RG9tRWxlbWVudCgpLmFkZENsYXNzKF90aGlzLnByZWZpeENzcygnbG93JykpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuZ2V0RG9tRWxlbWVudCgpLnJlbW92ZUNsYXNzKF90aGlzLnByZWZpeENzcygnbG93JykpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9NVVRFRCwgbXV0ZVN0YXRlSGFuZGxlcik7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fVU5NVVRFRCwgbXV0ZVN0YXRlSGFuZGxlcik7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fVk9MVU1FX0NIQU5HRUQsIHZvbHVtZUxldmVsSGFuZGxlcik7XHJcbiAgICAgICAgdGhpcy5vbkNsaWNrLnN1YnNjcmliZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChwbGF5ZXIuaXNNdXRlZCgpKSB7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXIudW5tdXRlKCd1aS12b2x1bWV0b2dnbGVidXR0b24nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHBsYXllci5tdXRlKCd1aS12b2x1bWV0b2dnbGVidXR0b24nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIFN0YXJ0dXAgaW5pdFxyXG4gICAgICAgIG11dGVTdGF0ZUhhbmRsZXIoKTtcclxuICAgICAgICB2b2x1bWVMZXZlbEhhbmRsZXIoKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gVm9sdW1lVG9nZ2xlQnV0dG9uO1xyXG59KHRvZ2dsZWJ1dHRvbl8xLlRvZ2dsZUJ1dHRvbikpO1xyXG5leHBvcnRzLlZvbHVtZVRvZ2dsZUJ1dHRvbiA9IFZvbHVtZVRvZ2dsZUJ1dHRvbjtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3ZvbHVtZXRvZ2dsZWJ1dHRvbi50c1xuLy8gbW9kdWxlIGlkID0gMjVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBjb250YWluZXJfMSA9IHJlcXVpcmUoXCIuL2NvbnRhaW5lclwiKTtcclxudmFyIGxhYmVsXzEgPSByZXF1aXJlKFwiLi9sYWJlbFwiKTtcclxudmFyIHR2bm9pc2VjYW52YXNfMSA9IHJlcXVpcmUoXCIuL3R2bm9pc2VjYW52YXNcIik7XHJcbi8qKlxyXG4gKiBPdmVybGF5cyB0aGUgcGxheWVyIGFuZCBkaXNwbGF5cyBlcnJvciBtZXNzYWdlcy5cclxuICovXHJcbnZhciBFcnJvck1lc3NhZ2VPdmVybGF5ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhFcnJvck1lc3NhZ2VPdmVybGF5LCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gRXJyb3JNZXNzYWdlT3ZlcmxheShjb25maWcpIHtcclxuICAgICAgICBpZiAoY29uZmlnID09PSB2b2lkIDApIHsgY29uZmlnID0ge307IH1cclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBjb25maWcpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMuZXJyb3JMYWJlbCA9IG5ldyBsYWJlbF8xLkxhYmVsKHsgY3NzQ2xhc3M6ICd1aS1lcnJvcm1lc3NhZ2UtbGFiZWwnIH0pO1xyXG4gICAgICAgIF90aGlzLnR2Tm9pc2VCYWNrZ3JvdW5kID0gbmV3IHR2bm9pc2VjYW52YXNfMS5Udk5vaXNlQ2FudmFzKCk7XHJcbiAgICAgICAgX3RoaXMuY29uZmlnID0gX3RoaXMubWVyZ2VDb25maWcoY29uZmlnLCB7XHJcbiAgICAgICAgICAgIGNzc0NsYXNzOiAndWktZXJyb3JtZXNzYWdlLW92ZXJsYXknLFxyXG4gICAgICAgICAgICBjb21wb25lbnRzOiBbX3RoaXMudHZOb2lzZUJhY2tncm91bmQsIF90aGlzLmVycm9yTGFiZWxdLFxyXG4gICAgICAgICAgICBoaWRkZW46IHRydWUsXHJcbiAgICAgICAgfSwgX3RoaXMuY29uZmlnKTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBFcnJvck1lc3NhZ2VPdmVybGF5LnByb3RvdHlwZS5jb25maWd1cmUgPSBmdW5jdGlvbiAocGxheWVyLCB1aW1hbmFnZXIpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuY29uZmlndXJlLmNhbGwodGhpcywgcGxheWVyLCB1aW1hbmFnZXIpO1xyXG4gICAgICAgIHZhciBjb25maWcgPSB0aGlzLmdldENvbmZpZygpO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX0VSUk9SLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgdmFyIG1lc3NhZ2UgPSBldmVudC5tZXNzYWdlO1xyXG4gICAgICAgICAgICAvLyBQcm9jZXNzIG1lc3NhZ2UgdHJhbnNsYXRpb25zXHJcbiAgICAgICAgICAgIGlmIChjb25maWcubWVzc2FnZXMpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY29uZmlnLm1lc3NhZ2VzID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gVHJhbnNsYXRpb24gZnVuY3Rpb24gZm9yIGFsbCBlcnJvcnNcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gY29uZmlnLm1lc3NhZ2VzKGV2ZW50KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNvbmZpZy5tZXNzYWdlc1tldmVudC5jb2RlXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIEl0J3Mgbm90IGEgdHJhbnNsYXRpb24gZnVuY3Rpb24sIHNvIGl0IG11c3QgYmUgYSBtYXAgb2Ygc3RyaW5ncyBvciB0cmFuc2xhdGlvbiBmdW5jdGlvbnNcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY3VzdG9tTWVzc2FnZSA9IGNvbmZpZy5tZXNzYWdlc1tldmVudC5jb2RlXTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGN1c3RvbU1lc3NhZ2UgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBjdXN0b21NZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIG1lc3NhZ2UgaXMgYSB0cmFuc2xhdGlvbiBmdW5jdGlvbiwgc28gd2UgY2FsbCBpdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gY3VzdG9tTWVzc2FnZShldmVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIF90aGlzLmVycm9yTGFiZWwuc2V0VGV4dChtZXNzYWdlKTtcclxuICAgICAgICAgICAgX3RoaXMudHZOb2lzZUJhY2tncm91bmQuc3RhcnQoKTtcclxuICAgICAgICAgICAgX3RoaXMuc2hvdygpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1NPVVJDRV9MT0FERUQsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICBpZiAoX3RoaXMuaXNTaG93bigpKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy50dk5vaXNlQmFja2dyb3VuZC5zdG9wKCk7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5oaWRlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBFcnJvck1lc3NhZ2VPdmVybGF5LnByb3RvdHlwZS5yZWxlYXNlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUucmVsZWFzZS5jYWxsKHRoaXMpO1xyXG4gICAgICAgIC8vIENhbnZhcyByZW5kZXJpbmcgbXVzdCBiZSBleHBsaWNpdGx5IHN0b3BwZWQsIGVsc2UgaXQganVzdCBjb250aW51ZXMgZm9yZXZlciBhbmQgaG9ncyByZXNvdXJjZXNcclxuICAgICAgICB0aGlzLnR2Tm9pc2VCYWNrZ3JvdW5kLnN0b3AoKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gRXJyb3JNZXNzYWdlT3ZlcmxheTtcclxufShjb250YWluZXJfMS5Db250YWluZXIpKTtcclxuZXhwb3J0cy5FcnJvck1lc3NhZ2VPdmVybGF5ID0gRXJyb3JNZXNzYWdlT3ZlcmxheTtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL2Vycm9ybWVzc2FnZW92ZXJsYXkudHNcbi8vIG1vZHVsZSBpZCA9IDI2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgY29udGFpbmVyXzEgPSByZXF1aXJlKFwiLi9jb250YWluZXJcIik7XHJcbnZhciBodWdlcGxheWJhY2t0b2dnbGVidXR0b25fMSA9IHJlcXVpcmUoXCIuL2h1Z2VwbGF5YmFja3RvZ2dsZWJ1dHRvblwiKTtcclxuLyoqXHJcbiAqIE92ZXJsYXlzIHRoZSBwbGF5ZXIgYW5kIGRpc3BsYXlzIGVycm9yIG1lc3NhZ2VzLlxyXG4gKi9cclxudmFyIFBsYXliYWNrVG9nZ2xlT3ZlcmxheSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoUGxheWJhY2tUb2dnbGVPdmVybGF5LCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gUGxheWJhY2tUb2dnbGVPdmVybGF5KGNvbmZpZykge1xyXG4gICAgICAgIGlmIChjb25maWcgPT09IHZvaWQgMCkgeyBjb25maWcgPSB7fTsgfVxyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGNvbmZpZykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5wbGF5YmFja1RvZ2dsZUJ1dHRvbiA9IG5ldyBodWdlcGxheWJhY2t0b2dnbGVidXR0b25fMS5IdWdlUGxheWJhY2tUb2dnbGVCdXR0b24oKTtcclxuICAgICAgICBfdGhpcy5jb25maWcgPSBfdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIHtcclxuICAgICAgICAgICAgY3NzQ2xhc3M6ICd1aS1wbGF5YmFja3RvZ2dsZS1vdmVybGF5JyxcclxuICAgICAgICAgICAgY29tcG9uZW50czogW190aGlzLnBsYXliYWNrVG9nZ2xlQnV0dG9uXSxcclxuICAgICAgICB9LCBfdGhpcy5jb25maWcpO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIHJldHVybiBQbGF5YmFja1RvZ2dsZU92ZXJsYXk7XHJcbn0oY29udGFpbmVyXzEuQ29udGFpbmVyKSk7XHJcbmV4cG9ydHMuUGxheWJhY2tUb2dnbGVPdmVybGF5ID0gUGxheWJhY2tUb2dnbGVPdmVybGF5O1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvcGxheWJhY2t0b2dnbGVvdmVybGF5LnRzXG4vLyBtb2R1bGUgaWQgPSAyN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIHBsYXliYWNrdG9nZ2xlYnV0dG9uXzEgPSByZXF1aXJlKFwiLi9wbGF5YmFja3RvZ2dsZWJ1dHRvblwiKTtcclxudmFyIGRvbV8xID0gcmVxdWlyZShcIi4uL2RvbVwiKTtcclxuLyoqXHJcbiAqIEEgYnV0dG9uIHRoYXQgb3ZlcmxheXMgdGhlIHZpZGVvIGFuZCB0b2dnbGVzIGJldHdlZW4gcGxheWJhY2sgYW5kIHBhdXNlLlxyXG4gKi9cclxudmFyIEh1Z2VQbGF5YmFja1RvZ2dsZUJ1dHRvbiA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoSHVnZVBsYXliYWNrVG9nZ2xlQnV0dG9uLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gSHVnZVBsYXliYWNrVG9nZ2xlQnV0dG9uKGNvbmZpZykge1xyXG4gICAgICAgIGlmIChjb25maWcgPT09IHZvaWQgMCkgeyBjb25maWcgPSB7fTsgfVxyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGNvbmZpZykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5jb25maWcgPSBfdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIHtcclxuICAgICAgICAgICAgY3NzQ2xhc3M6ICd1aS1odWdlcGxheWJhY2t0b2dnbGVidXR0b24nLFxyXG4gICAgICAgICAgICB0ZXh0OiAnUGxheS9QYXVzZScsXHJcbiAgICAgICAgfSwgX3RoaXMuY29uZmlnKTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBIdWdlUGxheWJhY2tUb2dnbGVCdXR0b24ucHJvdG90eXBlLmNvbmZpZ3VyZSA9IGZ1bmN0aW9uIChwbGF5ZXIsIHVpbWFuYWdlcikge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgLy8gVXBkYXRlIGJ1dHRvbiBzdGF0ZSB0aHJvdWdoIEFQSSBldmVudHNcclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmNvbmZpZ3VyZS5jYWxsKHRoaXMsIHBsYXllciwgdWltYW5hZ2VyLCBmYWxzZSk7XHJcbiAgICAgICAgdmFyIHRvZ2dsZVBsYXliYWNrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAocGxheWVyLmlzUGxheWluZygpKSB7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXIucGF1c2UoJ3VpJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXIucGxheSgndWknKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdmFyIHRvZ2dsZUZ1bGxzY3JlZW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChwbGF5ZXIuaXNGdWxsc2NyZWVuKCkpIHtcclxuICAgICAgICAgICAgICAgIHBsYXllci5leGl0RnVsbHNjcmVlbigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcGxheWVyLmVudGVyRnVsbHNjcmVlbigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICB2YXIgZmlyc3RQbGF5ID0gdHJ1ZTtcclxuICAgICAgICB2YXIgY2xpY2tUaW1lID0gMDtcclxuICAgICAgICB2YXIgZG91YmxlQ2xpY2tUaW1lID0gMDtcclxuICAgICAgICAvKlxyXG4gICAgICAgICAqIFlvdVR1YmUtc3R5bGUgdG9nZ2xlIGJ1dHRvbiBoYW5kbGluZ1xyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogVGhlIGdvYWwgaXMgdG8gcHJldmVudCBhIHNob3J0IHBhdXNlIG9yIHBsYXliYWNrIGludGVydmFsIGJldHdlZW4gYSBjbGljaywgdGhhdCB0b2dnbGVzIHBsYXliYWNrLCBhbmQgYVxyXG4gICAgICAgICAqIGRvdWJsZSBjbGljaywgdGhhdCB0b2dnbGVzIGZ1bGxzY3JlZW4uIEluIHRoaXMgbmFpdmUgYXBwcm9hY2gsIHRoZSBmaXJzdCBjbGljayB3b3VsZCBlLmcuIHN0YXJ0IHBsYXliYWNrLFxyXG4gICAgICAgICAqIHRoZSBzZWNvbmQgY2xpY2sgd291bGQgYmUgZGV0ZWN0ZWQgYXMgZG91YmxlIGNsaWNrIGFuZCB0b2dnbGUgdG8gZnVsbHNjcmVlbiwgYW5kIGFzIHNlY29uZCBub3JtYWwgY2xpY2sgc3RvcFxyXG4gICAgICAgICAqIHBsYXliYWNrLCB3aGljaCByZXN1bHRzIGlzIGEgc2hvcnQgcGxheWJhY2sgaW50ZXJ2YWwgd2l0aCBtYXggbGVuZ3RoIG9mIHRoZSBkb3VibGUgY2xpY2sgZGV0ZWN0aW9uXHJcbiAgICAgICAgICogcGVyaW9kICh1c3VhbGx5IDUwMG1zKS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIFRvIHNvbHZlIHRoaXMgaXNzdWUsIHdlIGRlZmVyIGhhbmRsaW5nIG9mIHRoZSBmaXJzdCBjbGljayBmb3IgMjAwbXMsIHdoaWNoIGlzIGFsbW9zdCB1bm5vdGljZWFibGUgdG8gdGhlIHVzZXIsXHJcbiAgICAgICAgICogYW5kIGp1c3QgdG9nZ2xlIHBsYXliYWNrIGlmIG5vIHNlY29uZCBjbGljayAoZG91YmxlIGNsaWNrKSBoYXMgYmVlbiByZWdpc3RlcmVkIGR1cmluZyB0aGlzIHBlcmlvZC4gSWYgYSBkb3VibGVcclxuICAgICAgICAgKiBjbGljayBpcyByZWdpc3RlcmVkLCB3ZSBqdXN0IHRvZ2dsZSB0aGUgZnVsbHNjcmVlbi4gSW4gdGhlIGZpcnN0IDIwMG1zLCB1bmRlc2lyZWQgcGxheWJhY2sgY2hhbmdlcyB0aHVzIGNhbm5vdFxyXG4gICAgICAgICAqIGhhcHBlbi4gSWYgYSBkb3VibGUgY2xpY2sgaXMgcmVnaXN0ZXJlZCB3aXRoaW4gNTAwbXMsIHdlIHVuZG8gdGhlIHBsYXliYWNrIGNoYW5nZSBhbmQgc3dpdGNoIGZ1bGxzY3JlZW4gbW9kZS5cclxuICAgICAgICAgKiBJbiB0aGUgZW5kLCB0aGlzIG1ldGhvZCBiYXNpY2FsbHkgaW50cm9kdWNlcyBhIDIwMG1zIG9ic2VydmluZyBpbnRlcnZhbCBpbiB3aGljaCBwbGF5YmFjayBjaGFuZ2VzIGFyZSBwcmV2ZW50ZWRcclxuICAgICAgICAgKiBpZiBhIGRvdWJsZSBjbGljayBoYXBwZW5zLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMub25DbGljay5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAvLyBEaXJlY3RseSBzdGFydCBwbGF5YmFjayBvbiBmaXJzdCBjbGljayBvZiB0aGUgYnV0dG9uLlxyXG4gICAgICAgICAgICAvLyBUaGlzIGlzIGEgcmVxdWlyZWQgd29ya2Fyb3VuZCBmb3IgbW9iaWxlIGJyb3dzZXJzIHdoZXJlIHZpZGVvIHBsYXliYWNrIG5lZWRzIHRvIGJlIHRyaWdnZXJlZCBkaXJlY3RseVxyXG4gICAgICAgICAgICAvLyBieSB0aGUgdXNlci4gQSBkZWZlcnJlZCBwbGF5YmFjayBzdGFydCB0aHJvdWdoIHRoZSB0aW1lb3V0IGJlbG93IGlzIG5vdCBjb25zaWRlcmVkIGFzIHVzZXIgYWN0aW9uIGFuZFxyXG4gICAgICAgICAgICAvLyB0aGVyZWZvcmUgaWdub3JlZCBieSBtb2JpbGUgYnJvd3NlcnMuXHJcbiAgICAgICAgICAgIGlmIChmaXJzdFBsYXkpIHtcclxuICAgICAgICAgICAgICAgIC8vIFRyeSB0byBzdGFydCBwbGF5YmFjay4gVGhlbiB3ZSB3YWl0IGZvciBPTl9QTEFZIGFuZCBvbmx5IHdoZW4gaXQgYXJyaXZlcywgd2UgZGlzYWJsZSB0aGUgZmlyc3RQbGF5IGZsYWcuXHJcbiAgICAgICAgICAgICAgICAvLyBJZiB3ZSBkaXNhYmxlIHRoZSBmbGFnIGhlcmUsIG9uQ2xpY2sgd2FzIHRyaWdnZXJlZCBwcm9ncmFtbWF0aWNhbGx5IGluc3RlYWQgb2YgYnkgYSB1c2VyIGludGVyYWN0aW9uLCBhbmRcclxuICAgICAgICAgICAgICAgIC8vIHBsYXliYWNrIGlzIGJsb2NrZWQgKGUuZy4gb24gbW9iaWxlIGRldmljZXMgZHVlIHRvIHRoZSBwcm9ncmFtbWF0aWMgcGxheSgpIGNhbGwpLCB3ZSBsb29zZSB0aGUgY2hhbmNlIHRvXHJcbiAgICAgICAgICAgICAgICAvLyBldmVyIHN0YXJ0IHBsYXliYWNrIHRocm91Z2ggYSB1c2VyIGludGVyYWN0aW9uIGFnYWluIHdpdGggdGhpcyBidXR0b24uXHJcbiAgICAgICAgICAgICAgICB0b2dnbGVQbGF5YmFjaygpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBub3cgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgICAgICBpZiAobm93IC0gY2xpY2tUaW1lIDwgMjAwKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBXZSBoYXZlIGEgZG91YmxlIGNsaWNrIGluc2lkZSB0aGUgMjAwbXMgaW50ZXJ2YWwsIGp1c3QgdG9nZ2xlIGZ1bGxzY3JlZW4gbW9kZVxyXG4gICAgICAgICAgICAgICAgdG9nZ2xlRnVsbHNjcmVlbigpO1xyXG4gICAgICAgICAgICAgICAgZG91YmxlQ2xpY2tUaW1lID0gbm93O1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKG5vdyAtIGNsaWNrVGltZSA8IDUwMCkge1xyXG4gICAgICAgICAgICAgICAgLy8gV2UgaGF2ZSBhIGRvdWJsZSBjbGljayBpbnNpZGUgdGhlIDUwMG1zIGludGVydmFsLCB1bmRvIHBsYXliYWNrIHRvZ2dsZSBhbmQgdG9nZ2xlIGZ1bGxzY3JlZW4gbW9kZVxyXG4gICAgICAgICAgICAgICAgdG9nZ2xlRnVsbHNjcmVlbigpO1xyXG4gICAgICAgICAgICAgICAgdG9nZ2xlUGxheWJhY2soKTtcclxuICAgICAgICAgICAgICAgIGRvdWJsZUNsaWNrVGltZSA9IG5vdztcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjbGlja1RpbWUgPSBub3c7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKERhdGUubm93KCkgLSBkb3VibGVDbGlja1RpbWUgPiAyMDApIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBObyBkb3VibGUgY2xpY2sgZGV0ZWN0ZWQsIHNvIHdlIHRvZ2dsZSBwbGF5YmFjayBhbmQgd2FpdCB3aGF0IGhhcHBlbnMgbmV4dFxyXG4gICAgICAgICAgICAgICAgICAgIHRvZ2dsZVBsYXliYWNrKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIDIwMCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fUExBWSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAvLyBQbGF5YmFjayBoYXMgcmVhbGx5IHN0YXJ0ZWQsIHdlIGNhbiBkaXNhYmxlIHRoZSBmbGFnIHRvIHN3aXRjaCB0byBub3JtYWwgdG9nZ2xlIGJ1dHRvbiBoYW5kbGluZ1xyXG4gICAgICAgICAgICBmaXJzdFBsYXkgPSBmYWxzZTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBIaWRlIGJ1dHRvbiB3aGlsZSBpbml0aWFsaXppbmcgYSBDYXN0IHNlc3Npb25cclxuICAgICAgICB2YXIgY2FzdEluaXRpYWxpemF0aW9uSGFuZGxlciA9IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICBpZiAoZXZlbnQudHlwZSA9PT0gcGxheWVyLkVWRU5ULk9OX0NBU1RfU1RBUlQpIHtcclxuICAgICAgICAgICAgICAgIC8vIEhpZGUgYnV0dG9uIHdoZW4gc2Vzc2lvbiBpcyBiZWluZyBpbml0aWFsaXplZFxyXG4gICAgICAgICAgICAgICAgX3RoaXMuaGlkZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gU2hvdyBidXR0b24gd2hlbiBzZXNzaW9uIGlzIGVzdGFibGlzaGVkIG9yIGluaXRpYWxpemF0aW9uIHdhcyBhYm9ydGVkXHJcbiAgICAgICAgICAgICAgICBfdGhpcy5zaG93KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX0NBU1RfU1RBUlQsIGNhc3RJbml0aWFsaXphdGlvbkhhbmRsZXIpO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX0NBU1RfU1RBUlRFRCwgY2FzdEluaXRpYWxpemF0aW9uSGFuZGxlcik7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fQ0FTVF9TVE9QUEVELCBjYXN0SW5pdGlhbGl6YXRpb25IYW5kbGVyKTtcclxuICAgIH07XHJcbiAgICBIdWdlUGxheWJhY2tUb2dnbGVCdXR0b24ucHJvdG90eXBlLnRvRG9tRWxlbWVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgYnV0dG9uRWxlbWVudCA9IF9zdXBlci5wcm90b3R5cGUudG9Eb21FbGVtZW50LmNhbGwodGhpcyk7XHJcbiAgICAgICAgLy8gQWRkIGNoaWxkIHRoYXQgY29udGFpbnMgdGhlIHBsYXkgYnV0dG9uIGltYWdlXHJcbiAgICAgICAgLy8gU2V0dGluZyB0aGUgaW1hZ2UgZGlyZWN0bHkgb24gdGhlIGJ1dHRvbiBkb2VzIG5vdCB3b3JrIHRvZ2V0aGVyIHdpdGggc2NhbGluZyBhbmltYXRpb25zLCBiZWNhdXNlIHRoZSBidXR0b25cclxuICAgICAgICAvLyBjYW4gY292ZXIgdGhlIHdob2xlIHZpZGVvIHBsYXllciBhcmUgYW5kIHNjYWxpbmcgd291bGQgZXh0ZW5kIGl0IGJleW9uZC4gQnkgYWRkaW5nIGFuIGlubmVyIGVsZW1lbnQsIGNvbmZpbmVkXHJcbiAgICAgICAgLy8gdG8gdGhlIHNpemUgaWYgdGhlIGltYWdlLCBpdCBjYW4gc2NhbGUgaW5zaWRlIHRoZSBwbGF5ZXIgd2l0aG91dCBvdmVyc2hvb3RpbmcuXHJcbiAgICAgICAgYnV0dG9uRWxlbWVudC5hcHBlbmQobmV3IGRvbV8xLkRPTSgnZGl2Jywge1xyXG4gICAgICAgICAgICAnY2xhc3MnOiB0aGlzLnByZWZpeENzcygnaW1hZ2UnKSxcclxuICAgICAgICB9KSk7XHJcbiAgICAgICAgcmV0dXJuIGJ1dHRvbkVsZW1lbnQ7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEh1Z2VQbGF5YmFja1RvZ2dsZUJ1dHRvbjtcclxufShwbGF5YmFja3RvZ2dsZWJ1dHRvbl8xLlBsYXliYWNrVG9nZ2xlQnV0dG9uKSk7XHJcbmV4cG9ydHMuSHVnZVBsYXliYWNrVG9nZ2xlQnV0dG9uID0gSHVnZVBsYXliYWNrVG9nZ2xlQnV0dG9uO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvaHVnZXBsYXliYWNrdG9nZ2xlYnV0dG9uLnRzXG4vLyBtb2R1bGUgaWQgPSAyOFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGNvbnRhaW5lcl8xID0gcmVxdWlyZShcIi4vY29udGFpbmVyXCIpO1xyXG52YXIgY29tcG9uZW50XzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRcIik7XHJcbi8vIGltcG9ydCBQbGF5ZXJFdmVudCA9IGJpdG1vdmluLlBsYXllckFQSS5QbGF5ZXJFdmVudDtcclxuLyoqXHJcbiAqIE92ZXJsYXlzIHRoZSBwbGF5ZXIgYW5kIGRpc3BsYXlzIGFuIGF1ZGlvLW9ubHkgaW5kaWNhdG9yLlxyXG4gKi9cclxudmFyIEF1ZGlvT25seU92ZXJsYXkgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKEF1ZGlvT25seU92ZXJsYXksIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBBdWRpb09ubHlPdmVybGF5KGNvbmZpZykge1xyXG4gICAgICAgIGlmIChjb25maWcgPT09IHZvaWQgMCkgeyBjb25maWcgPSB7fTsgfVxyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGNvbmZpZykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5hdWRpb29ubHkgPSBbXHJcbiAgICAgICAgICAgIG5ldyBjb21wb25lbnRfMS5Db21wb25lbnQoeyB0YWc6ICdkaXYnLCBjc3NDbGFzczogJ3VpLWF1ZGlvb25seS1vdmVybGF5LWluZGljYXRvcicgfSksXHJcbiAgICAgICAgXTtcclxuICAgICAgICBfdGhpcy5jb25maWcgPSBfdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIHtcclxuICAgICAgICAgICAgY3NzQ2xhc3M6ICd1aS1hdWRpb29ubHktb3ZlcmxheScsXHJcbiAgICAgICAgICAgIGNvbXBvbmVudHM6IF90aGlzLmF1ZGlvb25seSxcclxuICAgICAgICAgICAgaGlkZGVuOiBmYWxzZSxcclxuICAgICAgICB9LCBfdGhpcy5jb25maWcpO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIEF1ZGlvT25seU92ZXJsYXkucHJvdG90eXBlLmNvbmZpZ3VyZSA9IGZ1bmN0aW9uIChwbGF5ZXIsIHVpbWFuYWdlcikge1xyXG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuY29uZmlndXJlLmNhbGwodGhpcywgcGxheWVyLCB1aW1hbmFnZXIpO1xyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICB2YXIgaW1hZ2UgPSBzZWxmLmdldERvbUVsZW1lbnQoKS5jc3MoJ2JhY2tncm91bmQtaW1hZ2UnKTtcclxuICAgICAgICAvLyBIaWRlIG92ZXJsYXkgd2hlbiBQbGF5ZXIgaXMgcGF1c2VkLCBzbyB3ZSBjYW4gc2VlIHRoZSBCaWcgUGxheSBCdXR0b25cclxuICAgICAgICAvLyBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9QQVVTRUQsIChldmVudCkgPT4ge1xyXG4gICAgICAgIC8vICAgc2VsZi5nZXREb21FbGVtZW50KCkuY3NzKCdiYWNrZ3JvdW5kLWltYWdlJywgJ25vbmUnKTtcclxuICAgICAgICAvLyB9KTtcclxuICAgICAgICAvL1xyXG4gICAgICAgIC8vIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1BMQVksIChldmVudCkgPT4ge1xyXG4gICAgICAgIC8vICAgc2VsZi5nZXREb21FbGVtZW50KCkuY3NzKCdiYWNrZ3JvdW5kLWltYWdlJywgaW1hZ2UpO1xyXG4gICAgICAgIC8vIH0pO1xyXG4gICAgICAgIC8vXHJcbiAgICAgICAgLy8gLy8gSGlkZSBvdmVybGF5IGlmIHBsYXllciBpcyAgcGF1c2VkIGF0IGluaXQgKGUuZy4gb24gbW9iaWxlIGRldmljZXMpXHJcbiAgICAgICAgLy8gaWYgKCFwbGF5ZXIuaXNQbGF5aW5nKCkpIHtcclxuICAgICAgICAvLyAgIHNlbGYuZ2V0RG9tRWxlbWVudCgpLmNzcygnYmFja2dyb3VuZC1pbWFnZScsICdub25lJyk7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgfTtcclxuICAgIHJldHVybiBBdWRpb09ubHlPdmVybGF5O1xyXG59KGNvbnRhaW5lcl8xLkNvbnRhaW5lcikpO1xyXG5leHBvcnRzLkF1ZGlvT25seU92ZXJsYXkgPSBBdWRpb09ubHlPdmVybGF5O1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvYXVkaW9vbmx5b3ZlcmxheS50c1xuLy8gbW9kdWxlIGlkID0gMjlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGFuZ3VsYXIgPSByZXF1aXJlKFwiYW5ndWxhclwiKTtcclxudmFyIGJpdGRhc2hfY29udHJvbGxlcl8xID0gcmVxdWlyZShcIi4vYml0ZGFzaC1jb250cm9sbGVyXCIpO1xyXG52YXIgYml0ZGFzaF9kaXJlY3RpdmVfMSA9IHJlcXVpcmUoXCIuL2JpdGRhc2gtZGlyZWN0aXZlXCIpO1xyXG5leHBvcnRzLmRlZmF1bHQgPSBhbmd1bGFyLm1vZHVsZSgnbWkuQml0ZGFzaFBsYXllcicsIFtdKVxyXG4gICAgLmNvbnRyb2xsZXIoJ01pQml0ZGFzaENvbnRyb2xsZXInLCBiaXRkYXNoX2NvbnRyb2xsZXJfMS5kZWZhdWx0KVxyXG4gICAgLmRpcmVjdGl2ZSgnbWlCaXRkYXNoUGxheWVyJywgYml0ZGFzaF9kaXJlY3RpdmVfMS5kZWZhdWx0KTtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9pbmRleC50c1xuLy8gbW9kdWxlIGlkID0gMzFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGFuZ3VsYXIgPSByZXF1aXJlKFwiYW5ndWxhclwiKTtcclxudmFyIEJpdG1vdmluQ29udHJvbGxlciA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBCaXRtb3ZpbkNvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XHJcbiAgICAgICAgdGhpcy4kc2NvcGUgPSAkc2NvcGU7XHJcbiAgICAgICAgdGhpcy4kbG9nID0gJGxvZztcclxuICAgICAgICB0aGlzLnN0YXRlID0ge307XHJcbiAgICAgICAgdGhpcy5jb25maWcgPSB7fTtcclxuICAgICAgICB0aGlzLm9wdGlvbnMgPSB7fTtcclxuICAgIH1cclxuICAgIEJpdG1vdmluQ29udHJvbGxlci5wcm90b3R5cGUuJG9uSW5pdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLnN0YXRlID0gdGhpcy4kc2NvcGUuc3RhdGUgPSB7fTtcclxuICAgICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQodGhpcy4kc2NvcGUuY29uZmlnKSAmJiBhbmd1bGFyLmlzRGVmaW5lZCh0aGlzLiRzY29wZS5jb25maWcua2V5KSkge1xyXG4gICAgICAgICAgICB0aGlzLmNvbmZpZyA9IHRoaXMuJHNjb3BlLmNvbmZpZztcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuJGxvZy5lcnJvcihcImJhc2ljIGNvbmZpZyBmb3IgYml0ZGFzaCBwbGF5ZXIgaXMgbWlzc2luZyFcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZCh0aGlzLiRzY29wZS5vcHRpb25zKSkge1xyXG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMgPSB0aGlzLiRzY29wZS5vcHRpb25zO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQodGhpcy4kc2NvcGUud2ViY2FzdCkpIHtcclxuICAgICAgICAgICAgdGhpcy5wcm9jZXNzV2ViY2FzdCh0aGlzLiRzY29wZS53ZWJjYXN0KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgQml0bW92aW5Db250cm9sbGVyLnByb3RvdHlwZS5wcm9jZXNzV2ViY2FzdCA9IGZ1bmN0aW9uICh3ZWJjYXN0KSB7XHJcbiAgICAgICAgdmFyIHN0YXRlUHJvcGVydHkgPSB0aGlzLm9wdGlvbnMuZm9yY2VkU3RhdGUgfHwgd2ViY2FzdC5zdGF0ZTtcclxuICAgICAgICBpZiAoc3RhdGVQcm9wZXJ0eSA9PT0gJ29uZGVtYW5kJykge1xyXG4gICAgICAgICAgICB2YXIgbGFuZ3VhZ2VJbmRleF8xID0gMDtcclxuICAgICAgICAgICAgd2ViY2FzdC5sYW5ndWFnZXMuc29tZShmdW5jdGlvbiAobGFuZywgaW5kZXgpIHtcclxuICAgICAgICAgICAgICAgIGlmICh3ZWJjYXN0Lmxhbmd1YWdlID09PSBsYW5nLmxhbmd1YWdlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGFuZ3VhZ2VJbmRleF8xID0gaW5kZXg7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnN0YXRlLmRhdGEgPSB3ZWJjYXN0Lmxhbmd1YWdlc1tsYW5ndWFnZUluZGV4XzFdLm9uZGVtYW5kU3RhdGVEYXRhO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5zdGF0ZS5kYXRhID0gd2ViY2FzdFtzdGF0ZVByb3BlcnR5ICsgJ1N0YXRlRGF0YSddO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmNvbmZpZy5zb3VyY2UgPSB0aGlzLmdldFBsYXllckNvbmZpZ1NvdXJjZSh3ZWJjYXN0KTtcclxuICAgICAgICB0aGlzLmNvbmZpZy5zdHlsZSA9IHsgdXg6IGZhbHNlIH07XHJcbiAgICB9O1xyXG4gICAgQml0bW92aW5Db250cm9sbGVyLnByb3RvdHlwZS5nZXRQbGF5ZXJDb25maWdTb3VyY2UgPSBmdW5jdGlvbiAod2ViY2FzdCkge1xyXG4gICAgICAgIHJldHVybiB3ZWJjYXN0LnVzZURWUlBsYXliYWNrSW5Qb3N0bGl2ZSAmJiB3ZWJjYXN0LnN0YXRlID09PSAncG9zdGxpdmUnID9cclxuICAgICAgICAgICAgdGhpcy5nZXREVlJQbGF5YmFja1RvUG9zdGxpdmUod2ViY2FzdClcclxuICAgICAgICAgICAgOiB0aGlzLmdldFBsYXllckNvbmZpZ1NvdXJjZUJ5U3RhdGUod2ViY2FzdCk7XHJcbiAgICB9O1xyXG4gICAgQml0bW92aW5Db250cm9sbGVyLnByb3RvdHlwZS5nZXREVlJQbGF5YmFja1RvUG9zdGxpdmUgPSBmdW5jdGlvbiAod2ViY2FzdCkge1xyXG4gICAgICAgIHZhciBobHMgPSB3ZWJjYXN0WydsaXZlU3RhdGVEYXRhJ10ucGxheW91dC5obHNEdnJVcmw7XHJcbiAgICAgICAgdmFyIHRpdGxlID0gd2ViY2FzdC5uYW1lO1xyXG4gICAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZCh3ZWJjYXN0Wydwb3N0bGl2ZVN0YXRlRGF0YSddLnBsYXlvdXQub2Zmc2V0KSkge1xyXG4gICAgICAgICAgICB2YXIgb2Zmc2V0ID0gcGFyc2VJbnQod2ViY2FzdFsncG9zdGxpdmVTdGF0ZURhdGEnXS5wbGF5b3V0Lm9mZnNldCwgMTApO1xyXG4gICAgICAgICAgICBpZiAob2Zmc2V0KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgb2Zmc2V0UHJlZml4ID0gdm9pZCAwO1xyXG4gICAgICAgICAgICAgICAgdmFyIHBhcnNlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcclxuICAgICAgICAgICAgICAgIHBhcnNlci5ocmVmID0gd2ViY2FzdFsnbGl2ZVN0YXRlRGF0YSddLnBsYXlvdXQuaGxzRHZyVXJsO1xyXG4gICAgICAgICAgICAgICAgb2Zmc2V0UHJlZml4ID0gKHBhcnNlci5zZWFyY2gpID8gJyYnIDogJz8nO1xyXG4gICAgICAgICAgICAgICAgaGxzICs9IG9mZnNldFByZWZpeCArIFwid293emFkdnJwbGF5bGlzdHN0YXJ0PVwiICsgb2Zmc2V0ICsgXCIwMDBcIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4geyBobHM6IGhscywgdGl0bGU6IHRpdGxlIH07XHJcbiAgICB9O1xyXG4gICAgQml0bW92aW5Db250cm9sbGVyLnByb3RvdHlwZS5nZXRQbGF5ZXJDb25maWdTb3VyY2VCeVN0YXRlID0gZnVuY3Rpb24gKHdlYmNhc3QpIHtcclxuICAgICAgICB2YXIgaGxzID0gdGhpcy5zdGF0ZS5kYXRhLnBsYXlvdXQuaGxzVXJsO1xyXG4gICAgICAgIHZhciB0aXRsZSA9IHdlYmNhc3QubmFtZTtcclxuICAgICAgICB2YXIgaGl2ZVNlcnZpY2VVcmwgPSB0aGlzLmdldEhpdmVTZXJ2aWNlVXJsQnlMYW5nKHdlYmNhc3QpO1xyXG4gICAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZCh0aGlzLnN0YXRlLmRhdGEucGxheW91dC52aWRlb01hbmFnZXJIbHNVcmwpICYmIHRoaXMuc3RhdGUuZGF0YS5wbGF5b3V0LnZpZGVvTWFuYWdlckhsc1VybCkge1xyXG4gICAgICAgICAgICBobHMgPSB0aGlzLnN0YXRlLmRhdGEucGxheW91dC52aWRlb01hbmFnZXJIbHNVcmw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZCh0aGlzLnN0YXRlLmRhdGEucGxheW91dC5vZmZzZXQpKSB7XHJcbiAgICAgICAgICAgIHZhciBvZmZzZXQgPSBwYXJzZUludCh0aGlzLnN0YXRlLmRhdGEucGxheW91dC5vZmZzZXQsIDEwKTtcclxuICAgICAgICAgICAgaWYgKG9mZnNldCA+IDApIHtcclxuICAgICAgICAgICAgICAgIHZhciBvZmZzZXRQcmVmaXggPSB2b2lkIDA7XHJcbiAgICAgICAgICAgICAgICB2YXIgcGFyc2VyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xyXG4gICAgICAgICAgICAgICAgcGFyc2VyLmhyZWYgPSBobHM7XHJcbiAgICAgICAgICAgICAgICBvZmZzZXRQcmVmaXggPSAocGFyc2VyLnNlYXJjaCkgPyAnJicgOiAnPyc7XHJcbiAgICAgICAgICAgICAgICBobHMgKz0gb2Zmc2V0UHJlZml4ICsgXCJzdGFydD1cIiArIG9mZnNldDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4geyBobHM6IGhscywgdGl0bGU6IHRpdGxlLCBoaXZlU2VydmljZVVybDogaGl2ZVNlcnZpY2VVcmwgfTtcclxuICAgIH07XHJcbiAgICBCaXRtb3ZpbkNvbnRyb2xsZXIucHJvdG90eXBlLmdldEhpdmVTZXJ2aWNlVXJsQnlMYW5nID0gZnVuY3Rpb24gKHdlYmNhc3QpIHtcclxuICAgICAgICB2YXIgaGl2ZVNlcnZpY2VVcmwgPSBudWxsO1xyXG4gICAgICAgIGlmICh3ZWJjYXN0Lmxhbmd1YWdlcyAmJiB3ZWJjYXN0Lmxhbmd1YWdlKSB7XHJcbiAgICAgICAgICAgIHdlYmNhc3QubGFuZ3VhZ2VzLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICAgICAgICAgIGlmIChpdGVtLmxhbmd1YWdlID09PSB3ZWJjYXN0Lmxhbmd1YWdlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaGl2ZVNlcnZpY2VVcmwgPSBhbmd1bGFyLmNvcHkoaXRlbS5oaXZlU2VydmljZVVybCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gaGl2ZVNlcnZpY2VVcmw7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEJpdG1vdmluQ29udHJvbGxlcjtcclxufSgpKTtcclxuQml0bW92aW5Db250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XHJcbmV4cG9ydHMuZGVmYXVsdCA9IEJpdG1vdmluQ29udHJvbGxlcjtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9iaXRkYXNoLWNvbnRyb2xsZXIudHNcbi8vIG1vZHVsZSBpZCA9IDMyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBhbmd1bGFyID0gcmVxdWlyZShcImFuZ3VsYXJcIik7XHJcbnZhciBCaXRkYXNoRGlyZWN0aXZlID0gZnVuY3Rpb24gKCR3aW5kb3csICRsb2cpIHsgcmV0dXJuICh7XHJcbiAgICBjb250cm9sbGVyOiAnTWlCaXRkYXNoQ29udHJvbGxlcicsXHJcbiAgICBjb250cm9sbGVyQXM6ICdiaXRkYXNoVm0nLFxyXG4gICAgcmVwbGFjZTogdHJ1ZSxcclxuICAgIHJlc3RyaWN0OiAnRUEnLFxyXG4gICAgc2NvcGU6IHtcclxuICAgICAgICBjb25maWc6ICc9JyxcclxuICAgICAgICBvcHRpb25zOiAnPT8nLFxyXG4gICAgICAgIHdlYmNhc3Q6ICc9JyxcclxuICAgIH0sXHJcbiAgICB0ZW1wbGF0ZTogXCI8ZGl2IGlkPVxcXCJtaS1iaXRkYXNoLXBsYXllclxcXCIgd2lkdGg9XFxcIjEwMCVcXFwiIGhlaWdodD1cXFwiYXV0b1xcXCI+PC9kaXY+XCIsXHJcbiAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUpIHtcclxuICAgICAgICB2YXIgYml0bW92aW5QbGF5ZXI7XHJcbiAgICAgICAgdmFyIGJpdG1vdmluVUlNYW5hZ2VyO1xyXG4gICAgICAgIHZhciBiaXRtb3ZpbkNvbnRyb2xiYXI7XHJcbiAgICAgICAgdmFyIGNvbmZpZyA9IHNjb3BlLmNvbmZpZztcclxuICAgICAgICB2YXIgd2ViY2FzdCA9IHNjb3BlLndlYmNhc3Q7XHJcbiAgICAgICAgdmFyIHN0YXRlRGF0YSA9IHNjb3BlLnN0YXRlLmRhdGE7XHJcbiAgICAgICAgYnVpbGRQbGF5ZXIoKTtcclxuICAgICAgICBmdW5jdGlvbiBidWlsZFBsYXllcigpIHtcclxuICAgICAgICAgICAgYml0bW92aW5QbGF5ZXIgPSAkd2luZG93LndpbmRvdy5iaXRtb3Zpbi5wbGF5ZXIoJ21pLWJpdGRhc2gtcGxheWVyJyk7XHJcbiAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChiaXRtb3ZpblBsYXllcikgJiYgYml0bW92aW5QbGF5ZXIuaXNSZWFkeSgpID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICBiaXRtb3ZpblBsYXllci5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICBiaXRtb3ZpblBsYXllciA9ICR3aW5kb3cud2luZG93LmJpdG1vdmluLnBsYXllcignbWktYml0ZGFzaC1wbGF5ZXInKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoKHdlYmNhc3Quc3RhdGUgPT09ICdsaXZlJykgJiYgY29uZmlnLnNvdXJjZS5oaXZlU2VydmljZVVybCkge1xyXG4gICAgICAgICAgICAgICAgLy8gR2V0IGEgaGl2ZS1lbmFibGVkIHBsYXllciB0aHJvdWdoIGJpdGRhc2guaW5pdEhpdmVTRE5cclxuICAgICAgICAgICAgICAgICR3aW5kb3cud2luZG93LmJpdG1vdmluLmluaXRIaXZlU0ROKGJpdG1vdmluUGxheWVyLCB7IGRlYnVnTGV2ZWw6ICdvZmYnIH0pO1xyXG4gICAgICAgICAgICAgICAgLy8gQ29uZmlndXJlIGFuZCBTZXR1cCBiaXRtb3ZpbiBpbiBpbml0U2Vzc2lvbiBjYWxsYmFja1xyXG4gICAgICAgICAgICAgICAgYml0bW92aW5QbGF5ZXIuaW5pdFNlc3Npb24oY29uZmlnLnNvdXJjZS5oaXZlU2VydmljZVVybCkudGhlbihmdW5jdGlvbiAoc2Vzc2lvbikge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBoaXZlQ29uZmlnID0gYW5ndWxhci5jb3B5KGNvbmZpZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaGl2ZUNvbmZpZy5zb3VyY2UuaGxzID0gc2Vzc2lvbi5tYW5pZmVzdDtcclxuICAgICAgICAgICAgICAgICAgICBsb2FkUGxheWVyKGhpdmVDb25maWcpO1xyXG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIEhhbmRsZSB0aGUgY2FzZSBpZiBIaXZlIGluaXQgZmFpbHNcclxuICAgICAgICAgICAgICAgICAgICAkbG9nLndhcm4oXCJIaXZlIGluaXQgZmFpbHM6IFwiICsgcmVhc29uLmNvZGUgKyBcIiAtIFwiICsgcmVhc29uLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxvYWRQbGF5ZXIoY29uZmlnKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbG9hZFBsYXllcihjb25maWcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIGxvYWRQbGF5ZXIoY29uZikge1xyXG4gICAgICAgICAgICBiaXRtb3ZpblBsYXllclxyXG4gICAgICAgICAgICAgICAgLnNldHVwKGNvbmYpXHJcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBiaXRtb3ZpblVJTWFuYWdlciA9ICR3aW5kb3cud2luZG93LmJpdG1vdmluLnBsYXllcnVpLlVJTWFuYWdlci5GYWN0b3J5O1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzQXVkaW9Pbmx5KCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBiaXRtb3ZpblVJTWFuYWdlci5idWlsZEF1ZGlvT25seVVJKGJpdG1vdmluUGxheWVyKTtcclxuICAgICAgICAgICAgICAgICAgICBzZXRBdWRpb09ubHlTdGlsbEltYWdlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBiaXRtb3ZpblVJTWFuYWdlci5idWlsZEF1ZGlvVmlkZW9VSShiaXRtb3ZpblBsYXllcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBiaXRtb3ZpbkNvbnRyb2xiYXIgPSBnZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdiaXRtb3ZpbnBsYXllci1jb250YWluZXInKTtcclxuICAgICAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChiaXRtb3ZpbkNvbnRyb2xiYXIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYml0bW92aW5Db250cm9sYmFyLnN0eWxlLm1pbldpZHRoID0gJzE3NXB4JztcclxuICAgICAgICAgICAgICAgICAgICBiaXRtb3ZpbkNvbnRyb2xiYXIuc3R5bGUubWluSGVpZ2h0ID0gJzEwMXB4JztcclxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYml0bW92aW5wbGF5ZXItdmlkZW8tbWktYml0ZGFzaC1wbGF5ZXInKS5zZXRBdHRyaWJ1dGUoJ3RpdGxlJywgd2ViY2FzdC5uYW1lKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xyXG4gICAgICAgICAgICAgICAgJGxvZy5sb2coXCJFcnJvcjogXCIgKyByZWFzb24uY29kZSArIFwiIC0gXCIgKyByZWFzb24ubWVzc2FnZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBpc0F1ZGlvT25seSgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHdlYmNhc3QubGF5b3V0LmxheW91dCA9PT0gJ2F1ZGlvLW9ubHknO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBzZXRBdWRpb09ubHlTdGlsbEltYWdlKCkge1xyXG4gICAgICAgICAgICB2YXIgZWxlbWVudCA9IGdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ21pLXdiYy11aS1hdWRpb29ubHktb3ZlcmxheScpO1xyXG4gICAgICAgICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQod2ViY2FzdC50aGVtZS5hdWRpb09ubHlGaWxlVXJsKSAmJiB3ZWJjYXN0LnRoZW1lLmF1ZGlvT25seUZpbGVVcmwpIHtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gXCJ1cmwoXCIgKyB3ZWJjYXN0LnRoZW1lLmF1ZGlvT25seUZpbGVVcmwgKyBcIilcIjtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZFNpemUgPSAnY29udGFpbic7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlLmFuaW1hdGlvbiA9ICdub25lJztcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZFBvc2l0aW9uID0gJ2NlbnRlcic7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW1hZ2VfMSA9IGVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZEltYWdlO1xyXG4gICAgICAgICAgICAgICAgYml0bW92aW5QbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKCdvblBhdXNlZCcsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gJ25vbmUnOyB9KTtcclxuICAgICAgICAgICAgICAgIGJpdG1vdmluUGxheWVyLmFkZEV2ZW50SGFuZGxlcignb25QbGF5JywgZnVuY3Rpb24gKCkgeyByZXR1cm4gZWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBpbWFnZV8xOyB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBnZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGNsYXNzTmFtZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShjbGFzc05hbWUpWzBdO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSk7IH07XHJcbmV4cG9ydHMuZGVmYXVsdCA9IEJpdGRhc2hEaXJlY3RpdmU7XHJcbkJpdGRhc2hEaXJlY3RpdmUuJGluamVjdCA9IFsnJHdpbmRvdycsICckbG9nJ107XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vYml0ZGFzaC1kaXJlY3RpdmUudHNcbi8vIG1vZHVsZSBpZCA9IDMzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbi8vLyA8cmVmZXJlbmNlIHBhdGg9J3BsYXllci5kLnRzJyAvPlxyXG52YXIgdWltYW5hZ2VyXzEgPSByZXF1aXJlKFwiLi91aW1hbmFnZXJcIik7XHJcbnZhciBidXR0b25fMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvYnV0dG9uXCIpO1xyXG52YXIgY29udHJvbGJhcl8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9jb250cm9sYmFyXCIpO1xyXG52YXIgaHVnZXBsYXliYWNrdG9nZ2xlYnV0dG9uXzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL2h1Z2VwbGF5YmFja3RvZ2dsZWJ1dHRvblwiKTtcclxudmFyIHBsYXliYWNrdGltZWxhYmVsXzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL3BsYXliYWNrdGltZWxhYmVsXCIpO1xyXG52YXIgcGxheWJhY2t0b2dnbGVidXR0b25fMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvcGxheWJhY2t0b2dnbGVidXR0b25cIik7XHJcbnZhciBzZWVrYmFyXzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL3NlZWtiYXJcIik7XHJcbnZhciBzZWxlY3Rib3hfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvc2VsZWN0Ym94XCIpO1xyXG52YXIgaXRlbXNlbGVjdGlvbmxpc3RfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvaXRlbXNlbGVjdGlvbmxpc3RcIik7XHJcbi8vIGltcG9ydCB7U2V0dGluZ3NQYW5lbCwgU2V0dGluZ3NQYW5lbEl0ZW19IGZyb20gJy4vY29tcG9uZW50cy9zZXR0aW5nc3BhbmVsJztcclxuLy8gaW1wb3J0IHtTZXR0aW5nc1RvZ2dsZUJ1dHRvbn0gZnJvbSAnLi9jb21wb25lbnRzL3NldHRpbmdzdG9nZ2xlYnV0dG9uJztcclxudmFyIHRvZ2dsZWJ1dHRvbl8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy90b2dnbGVidXR0b25cIik7XHJcbi8vIGltcG9ydCB7VmlkZW9RdWFsaXR5U2VsZWN0Qm94fSBmcm9tICcuL2NvbXBvbmVudHMvdmlkZW9xdWFsaXR5c2VsZWN0Ym94JztcclxudmFyIHZvbHVtZXRvZ2dsZWJ1dHRvbl8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy92b2x1bWV0b2dnbGVidXR0b25cIik7XHJcbi8vIGltcG9ydCB7V2F0ZXJtYXJrfSBmcm9tICcuL2NvbXBvbmVudHMvd2F0ZXJtYXJrJztcclxudmFyIHVpY29udGFpbmVyXzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL3VpY29udGFpbmVyXCIpO1xyXG52YXIgY29udGFpbmVyXzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL2NvbnRhaW5lclwiKTtcclxudmFyIGxhYmVsXzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL2xhYmVsXCIpO1xyXG52YXIgY29tcG9uZW50XzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL2NvbXBvbmVudFwiKTtcclxudmFyIGVycm9ybWVzc2FnZW92ZXJsYXlfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvZXJyb3JtZXNzYWdlb3ZlcmxheVwiKTtcclxudmFyIHNlZWtiYXJsYWJlbF8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9zZWVrYmFybGFiZWxcIik7XHJcbi8vIGltcG9ydCB7VGl0bGVCYXJ9IGZyb20gJy4vY29tcG9uZW50cy90aXRsZWJhcic7XHJcbnZhciB2b2x1bWVjb250cm9sYnV0dG9uXzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL3ZvbHVtZWNvbnRyb2xidXR0b25cIik7XHJcbnZhciBjbGlja292ZXJsYXlfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvY2xpY2tvdmVybGF5XCIpO1xyXG52YXIgaHVnZXJlcGxheWJ1dHRvbl8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9odWdlcmVwbGF5YnV0dG9uXCIpO1xyXG4vLyBpbXBvcnQge0J1ZmZlcmluZ092ZXJsYXl9IGZyb20gJy4vY29tcG9uZW50cy9idWZmZXJpbmdvdmVybGF5JztcclxudmFyIHBsYXliYWNrdG9nZ2xlb3ZlcmxheV8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9wbGF5YmFja3RvZ2dsZW92ZXJsYXlcIik7XHJcbnZhciBjbG9zZWJ1dHRvbl8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9jbG9zZWJ1dHRvblwiKTtcclxuLy8gaW1wb3J0IHtNZXRhZGF0YUxhYmVsLCBNZXRhZGF0YUxhYmVsQ29udGVudH0gZnJvbSAnLi9jb21wb25lbnRzL21ldGFkYXRhbGFiZWwnO1xyXG52YXIgdm9sdW1lc2xpZGVyXzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL3ZvbHVtZXNsaWRlclwiKTtcclxudmFyIHNwYWNlcl8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9zcGFjZXJcIik7XHJcbnZhciBhcnJheXV0aWxzXzEgPSByZXF1aXJlKFwiLi9hcnJheXV0aWxzXCIpO1xyXG52YXIgc3RyaW5ndXRpbHNfMSA9IHJlcXVpcmUoXCIuL3N0cmluZ3V0aWxzXCIpO1xyXG52YXIgcGxheWVydXRpbHNfMSA9IHJlcXVpcmUoXCIuL3BsYXllcnV0aWxzXCIpO1xyXG52YXIgdWl1dGlsc18xID0gcmVxdWlyZShcIi4vdWl1dGlsc1wiKTtcclxudmFyIGJyb3dzZXJ1dGlsc18xID0gcmVxdWlyZShcIi4vYnJvd3NlcnV0aWxzXCIpO1xyXG52YXIgc3RvcmFnZXV0aWxzXzEgPSByZXF1aXJlKFwiLi9zdG9yYWdldXRpbHNcIik7XHJcbnZhciBhdWRpb29ubHlvdmVybGF5XzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL2F1ZGlvb25seW92ZXJsYXlcIik7XHJcbi8vIE9iamVjdC5hc3NpZ24gcG9seWZpbGwgZm9yIEVTNS9JRTlcclxuLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZGUvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvT2JqZWN0L2Fzc2lnblxyXG5pZiAodHlwZW9mIE9iamVjdC5hc3NpZ24gIT09ICdmdW5jdGlvbicpIHtcclxuICAgIE9iamVjdC5hc3NpZ24gPSBmdW5jdGlvbiAodGFyZ2V0KSB7XHJcbiAgICAgICAgJ3VzZSBzdHJpY3QnO1xyXG4gICAgICAgIGlmICh0YXJnZXQgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY29udmVydCB1bmRlZmluZWQgb3IgbnVsbCB0byBvYmplY3QnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGFyZ2V0ID0gT2JqZWN0KHRhcmdldCk7XHJcbiAgICAgICAgZm9yICh2YXIgaW5kZXggPSAxOyBpbmRleCA8IGFyZ3VtZW50cy5sZW5ndGg7IGluZGV4KyspIHtcclxuICAgICAgICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpbmRleF07XHJcbiAgICAgICAgICAgIGlmIChzb3VyY2UgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0YXJnZXQ7XHJcbiAgICB9O1xyXG59XHJcbnZhciBwbGF5ZXJ1aSA9IHtcclxuICAgIHZlcnNpb246ICd7e1ZFUlNJT059fScsXHJcbiAgICAvLyBNYW5hZ2VtZW50XHJcbiAgICBVSU1hbmFnZXI6IHVpbWFuYWdlcl8xLlVJTWFuYWdlcixcclxuICAgIFVJSW5zdGFuY2VNYW5hZ2VyOiB1aW1hbmFnZXJfMS5VSUluc3RhbmNlTWFuYWdlcixcclxuICAgIC8vIFV0aWxzXHJcbiAgICBBcnJheVV0aWxzOiBhcnJheXV0aWxzXzEuQXJyYXlVdGlscyxcclxuICAgIFN0cmluZ1V0aWxzOiBzdHJpbmd1dGlsc18xLlN0cmluZ1V0aWxzLFxyXG4gICAgUGxheWVyVXRpbHM6IHBsYXllcnV0aWxzXzEuUGxheWVyVXRpbHMsXHJcbiAgICBVSVV0aWxzOiB1aXV0aWxzXzEuVUlVdGlscyxcclxuICAgIEJyb3dzZXJVdGlsczogYnJvd3NlcnV0aWxzXzEuQnJvd3NlclV0aWxzLFxyXG4gICAgU3RvcmFnZVV0aWxzOiBzdG9yYWdldXRpbHNfMS5TdG9yYWdlVXRpbHMsXHJcbiAgICAvLyBDb21wb25lbnRzXHJcbiAgICBBdWRpb09ubHlPdmVybGF5OiBhdWRpb29ubHlvdmVybGF5XzEuQXVkaW9Pbmx5T3ZlcmxheSxcclxuICAgIC8vIEJ1ZmZlcmluZ092ZXJsYXksXHJcbiAgICBCdXR0b246IGJ1dHRvbl8xLkJ1dHRvbixcclxuICAgIENsaWNrT3ZlcmxheTogY2xpY2tvdmVybGF5XzEuQ2xpY2tPdmVybGF5LFxyXG4gICAgQ2xvc2VCdXR0b246IGNsb3NlYnV0dG9uXzEuQ2xvc2VCdXR0b24sXHJcbiAgICBDb21wb25lbnQ6IGNvbXBvbmVudF8xLkNvbXBvbmVudCxcclxuICAgIENvbnRhaW5lcjogY29udGFpbmVyXzEuQ29udGFpbmVyLFxyXG4gICAgQ29udHJvbEJhcjogY29udHJvbGJhcl8xLkNvbnRyb2xCYXIsXHJcbiAgICBFcnJvck1lc3NhZ2VPdmVybGF5OiBlcnJvcm1lc3NhZ2VvdmVybGF5XzEuRXJyb3JNZXNzYWdlT3ZlcmxheSxcclxuICAgIEh1Z2VQbGF5YmFja1RvZ2dsZUJ1dHRvbjogaHVnZXBsYXliYWNrdG9nZ2xlYnV0dG9uXzEuSHVnZVBsYXliYWNrVG9nZ2xlQnV0dG9uLFxyXG4gICAgSHVnZVJlcGxheUJ1dHRvbjogaHVnZXJlcGxheWJ1dHRvbl8xLkh1Z2VSZXBsYXlCdXR0b24sXHJcbiAgICBMYWJlbDogbGFiZWxfMS5MYWJlbCxcclxuICAgIC8vIE1ldGFkYXRhTGFiZWwsXHJcbiAgICAvLyBNZXRhZGF0YUxhYmVsQ29udGVudCxcclxuICAgIFBsYXliYWNrVGltZUxhYmVsOiBwbGF5YmFja3RpbWVsYWJlbF8xLlBsYXliYWNrVGltZUxhYmVsLFxyXG4gICAgUGxheWJhY2tUaW1lTGFiZWxNb2RlOiBwbGF5YmFja3RpbWVsYWJlbF8xLlBsYXliYWNrVGltZUxhYmVsTW9kZSxcclxuICAgIFBsYXliYWNrVG9nZ2xlQnV0dG9uOiBwbGF5YmFja3RvZ2dsZWJ1dHRvbl8xLlBsYXliYWNrVG9nZ2xlQnV0dG9uLFxyXG4gICAgUGxheWJhY2tUb2dnbGVPdmVybGF5OiBwbGF5YmFja3RvZ2dsZW92ZXJsYXlfMS5QbGF5YmFja1RvZ2dsZU92ZXJsYXksXHJcbiAgICBTZWVrQmFyOiBzZWVrYmFyXzEuU2Vla0JhcixcclxuICAgIFNlZWtCYXJMYWJlbDogc2Vla2JhcmxhYmVsXzEuU2Vla0JhckxhYmVsLFxyXG4gICAgU2VsZWN0Qm94OiBzZWxlY3Rib3hfMS5TZWxlY3RCb3gsXHJcbiAgICBJdGVtU2VsZWN0aW9uTGlzdDogaXRlbXNlbGVjdGlvbmxpc3RfMS5JdGVtU2VsZWN0aW9uTGlzdCxcclxuICAgIC8vIFNldHRpbmdzUGFuZWwsXHJcbiAgICAvLyBTZXR0aW5nc1BhbmVsSXRlbSxcclxuICAgIC8vIFNldHRpbmdzVG9nZ2xlQnV0dG9uLFxyXG4gICAgU3BhY2VyOiBzcGFjZXJfMS5TcGFjZXIsXHJcbiAgICAvLyBUaXRsZUJhcixcclxuICAgIFRvZ2dsZUJ1dHRvbjogdG9nZ2xlYnV0dG9uXzEuVG9nZ2xlQnV0dG9uLFxyXG4gICAgVUlDb250YWluZXI6IHVpY29udGFpbmVyXzEuVUlDb250YWluZXIsXHJcbiAgICAvLyBWaWRlb1F1YWxpdHlTZWxlY3RCb3gsXHJcbiAgICBWb2x1bWVDb250cm9sQnV0dG9uOiB2b2x1bWVjb250cm9sYnV0dG9uXzEuVm9sdW1lQ29udHJvbEJ1dHRvbixcclxuICAgIFZvbHVtZVNsaWRlcjogdm9sdW1lc2xpZGVyXzEuVm9sdW1lU2xpZGVyLFxyXG4gICAgVm9sdW1lVG9nZ2xlQnV0dG9uOiB2b2x1bWV0b2dnbGVidXR0b25fMS5Wb2x1bWVUb2dnbGVCdXR0b24sXHJcbn07XHJcbndpbmRvdy5iaXRtb3Zpbi5wbGF5ZXJ1aSA9IHBsYXllcnVpO1xyXG5tb2R1bGUuZXhwb3J0cyA9IHBsYXllcnVpO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL21haW4udHNcbi8vIG1vZHVsZSBpZCA9IDM0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgdWljb250YWluZXJfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvdWljb250YWluZXJcIik7XHJcbnZhciBkb21fMSA9IHJlcXVpcmUoXCIuL2RvbVwiKTtcclxudmFyIGNvbXBvbmVudF8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9jb21wb25lbnRcIik7XHJcbnZhciBjb250YWluZXJfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvY29udGFpbmVyXCIpO1xyXG52YXIgcGxheWJhY2t0b2dnbGVidXR0b25fMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvcGxheWJhY2t0b2dnbGVidXR0b25cIik7XHJcbnZhciBmdWxsc2NyZWVudG9nZ2xlYnV0dG9uXzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL2Z1bGxzY3JlZW50b2dnbGVidXR0b25cIik7XHJcbi8vIGltcG9ydCB7VlJUb2dnbGVCdXR0b259IGZyb20gJy4vY29tcG9uZW50cy92cnRvZ2dsZWJ1dHRvbic7XHJcbi8vIGltcG9ydCB7Vm9sdW1lVG9nZ2xlQnV0dG9ufSBmcm9tICcuL2NvbXBvbmVudHMvdm9sdW1ldG9nZ2xlYnV0dG9uJztcclxudmFyIHNlZWtiYXJfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvc2Vla2JhclwiKTtcclxudmFyIHBsYXliYWNrdGltZWxhYmVsXzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL3BsYXliYWNrdGltZWxhYmVsXCIpOyAvLyAsIFBsYXliYWNrVGltZUxhYmVsTW9kZVxyXG52YXIgY29udHJvbGJhcl8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9jb250cm9sYmFyXCIpO1xyXG52YXIgZXZlbnRkaXNwYXRjaGVyXzEgPSByZXF1aXJlKFwiLi9ldmVudGRpc3BhdGNoZXJcIik7XHJcbi8vIGltcG9ydCB7U2V0dGluZ3NUb2dnbGVCdXR0b259IGZyb20gJy4vY29tcG9uZW50cy9zZXR0aW5nc3RvZ2dsZWJ1dHRvbic7XHJcbi8vIGltcG9ydCB7U2V0dGluZ3NQYW5lbCwgU2V0dGluZ3NQYW5lbEl0ZW19IGZyb20gJy4vY29tcG9uZW50cy9zZXR0aW5nc3BhbmVsJztcclxuLy8gaW1wb3J0IHtWaWRlb1F1YWxpdHlTZWxlY3RCb3h9IGZyb20gJy4vY29tcG9uZW50cy92aWRlb3F1YWxpdHlzZWxlY3Rib3gnO1xyXG4vLyBpbXBvcnQge1dhdGVybWFya30gZnJvbSAnLi9jb21wb25lbnRzL3dhdGVybWFyayc7XHJcbi8vIGltcG9ydCB7QXVkaW9RdWFsaXR5U2VsZWN0Qm94fSBmcm9tICcuL2NvbXBvbmVudHMvYXVkaW9xdWFsaXR5c2VsZWN0Ym94JztcclxuLy8gaW1wb3J0IHtBdWRpb1RyYWNrU2VsZWN0Qm94fSBmcm9tICcuL2NvbXBvbmVudHMvYXVkaW90cmFja3NlbGVjdGJveCc7XHJcbnZhciBzZWVrYmFybGFiZWxfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvc2Vla2JhcmxhYmVsXCIpO1xyXG4vLyBpbXBvcnQge1ZvbHVtZVNsaWRlcn0gZnJvbSAnLi9jb21wb25lbnRzL3ZvbHVtZXNsaWRlcic7XHJcbnZhciBzdWJ0aXRsZXNlbGVjdGJveF8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9zdWJ0aXRsZXNlbGVjdGJveFwiKTtcclxudmFyIHN1YnRpdGxlb3ZlcmxheV8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9zdWJ0aXRsZW92ZXJsYXlcIik7XHJcbnZhciB2b2x1bWVjb250cm9sYnV0dG9uXzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL3ZvbHVtZWNvbnRyb2xidXR0b25cIik7XHJcbi8vIGltcG9ydCB7Q2FzdFRvZ2dsZUJ1dHRvbn0gZnJvbSAnLi9jb21wb25lbnRzL2Nhc3R0b2dnbGVidXR0b24nO1xyXG4vLyBpbXBvcnQge0Nhc3RTdGF0dXNPdmVybGF5fSBmcm9tICcuL2NvbXBvbmVudHMvY2FzdHN0YXR1c292ZXJsYXknO1xyXG52YXIgZXJyb3JtZXNzYWdlb3ZlcmxheV8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9lcnJvcm1lc3NhZ2VvdmVybGF5XCIpO1xyXG4vLyBpbXBvcnQge1BsYXliYWNrU3BlZWRTZWxlY3RCb3h9IGZyb20gJy4vY29tcG9uZW50cy9wbGF5YmFja3NwZWVkc2VsZWN0Ym94JztcclxuLy8gaW1wb3J0IHtCdWZmZXJpbmdPdmVybGF5fSBmcm9tICcuL2NvbXBvbmVudHMvYnVmZmVyaW5nb3ZlcmxheSc7XHJcbnZhciBwbGF5YmFja3RvZ2dsZW92ZXJsYXlfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvcGxheWJhY2t0b2dnbGVvdmVybGF5XCIpO1xyXG4vLyBpbXBvcnQge0FpclBsYXlUb2dnbGVCdXR0b259IGZyb20gJy4vY29tcG9uZW50cy9haXJwbGF5dG9nZ2xlYnV0dG9uJztcclxuLy8gaW1wb3J0IHtQaWN0dXJlSW5QaWN0dXJlVG9nZ2xlQnV0dG9ufSBmcm9tICcuL2NvbXBvbmVudHMvcGljdHVyZWlucGljdHVyZXRvZ2dsZWJ1dHRvbic7XHJcbnZhciBhdWRpb29ubHlvdmVybGF5XzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL2F1ZGlvb25seW92ZXJsYXlcIik7XHJcbi8vIGltcG9ydCB7U3BhY2VyfSBmcm9tICcuL2NvbXBvbmVudHMvc3BhY2VyJztcclxudmFyIHVpdXRpbHNfMSA9IHJlcXVpcmUoXCIuL3VpdXRpbHNcIik7XHJcbnZhciBhcnJheXV0aWxzXzEgPSByZXF1aXJlKFwiLi9hcnJheXV0aWxzXCIpO1xyXG52YXIgYnJvd3NlcnV0aWxzXzEgPSByZXF1aXJlKFwiLi9icm93c2VydXRpbHNcIik7XHJcbnZhciBVSU1hbmFnZXIgPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gVUlNYW5hZ2VyKHBsYXllciwgcGxheWVyVWlPclVpVmFyaWFudHMsIGNvbmZpZykge1xyXG4gICAgICAgIGlmIChjb25maWcgPT09IHZvaWQgMCkgeyBjb25maWcgPSB7fTsgfVxyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgaWYgKHBsYXllclVpT3JVaVZhcmlhbnRzIGluc3RhbmNlb2YgdWljb250YWluZXJfMS5VSUNvbnRhaW5lcikge1xyXG4gICAgICAgICAgICAvLyBTaW5nbGUtVUkgY29uc3RydWN0b3IgaGFzIGJlZW4gY2FsbGVkLCB0cmFuc2Zvcm0gYXJndW1lbnRzIHRvIFVJVmFyaWFudFtdIHNpZ25hdHVyZVxyXG4gICAgICAgICAgICB2YXIgcGxheWVyVWkgPSBwbGF5ZXJVaU9yVWlWYXJpYW50cztcclxuICAgICAgICAgICAgdmFyIGFkc1VpID0gbnVsbDtcclxuICAgICAgICAgICAgdmFyIHVpVmFyaWFudHMgPSBbXTtcclxuICAgICAgICAgICAgLy8gQWRkIHRoZSBhZHMgVUkgaWYgZGVmaW5lZFxyXG4gICAgICAgICAgICBpZiAoYWRzVWkpIHtcclxuICAgICAgICAgICAgICAgIHVpVmFyaWFudHMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgdWk6IGFkc1VpLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbmRpdGlvbjogZnVuY3Rpb24gKGNvbnRleHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRleHQuaXNBZFdpdGhVSTtcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gQWRkIHRoZSBkZWZhdWx0IHBsYXllciBVSVxyXG4gICAgICAgICAgICB1aVZhcmlhbnRzLnB1c2goeyB1aTogcGxheWVyVWkgfSk7XHJcbiAgICAgICAgICAgIHRoaXMudWlWYXJpYW50cyA9IHVpVmFyaWFudHM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBEZWZhdWx0IGNvbnN0cnVjdG9yIChVSVZhcmlhbnRbXSkgaGFzIGJlZW4gY2FsbGVkXHJcbiAgICAgICAgICAgIHRoaXMudWlWYXJpYW50cyA9IHBsYXllclVpT3JVaVZhcmlhbnRzO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnBsYXllciA9IHBsYXllcjtcclxuICAgICAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcclxuICAgICAgICB0aGlzLm1hbmFnZXJQbGF5ZXJXcmFwcGVyID0gbmV3IFBsYXllcldyYXBwZXIocGxheWVyKTtcclxuICAgICAgICBpZiAoY29uZmlnLmNvbnRhaW5lcikge1xyXG4gICAgICAgICAgICAvLyBVbmZvcnR1bmF0ZWx5IFwidWlDb250YWluZXJFbGVtZW50ID0gbmV3IERPTShjb25maWcuY29udGFpbmVyKVwiIHdpbGwgbm90IGFjY2VwdCB0aGUgY29udGFpbmVyIHdpdGhcclxuICAgICAgICAgICAgLy8gc3RyaW5nfEhUTUxFbGVtZW50IHR5cGUgZGlyZWN0bHksIGFsdGhvdWdoIGl0IGFjY2VwdHMgYm90aCB0eXBlcywgc28gd2UgbmVlZCB0byBzcGl0IHRoZXNlIHR3byBjYXNlcyB1cCBoZXJlLlxyXG4gICAgICAgICAgICAvLyBUT0RPIGNoZWNrIGluIHVwY29taW5nIFRTIHZlcnNpb25zIGlmIHRoZSBjb250YWluZXIgY2FuIGJlIHBhc3NlZCBpbiBkaXJlY3RseSwgb3IgZml4IHRoZSBjb25zdHJ1Y3RvclxyXG4gICAgICAgICAgICB0aGlzLnVpQ29udGFpbmVyRWxlbWVudCA9IGNvbmZpZy5jb250YWluZXIgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCA/XHJcbiAgICAgICAgICAgICAgICBuZXcgZG9tXzEuRE9NKGNvbmZpZy5jb250YWluZXIpIDogbmV3IGRvbV8xLkRPTShjb25maWcuY29udGFpbmVyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMudWlDb250YWluZXJFbGVtZW50ID0gbmV3IGRvbV8xLkRPTShwbGF5ZXIuZ2V0RmlndXJlKCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBDcmVhdGUgVUkgaW5zdGFuY2UgbWFuYWdlcnMgZm9yIHRoZSBVSSB2YXJpYW50c1xyXG4gICAgICAgIC8vIFRoZSBpbnN0YW5jZSBtYW5hZ2VycyBtYXAgdG8gdGhlIGNvcnJlc3BvbmRpbmcgVUkgdmFyaWFudHMgYnkgdGhlaXIgYXJyYXkgaW5kZXhcclxuICAgICAgICB0aGlzLnVpSW5zdGFuY2VNYW5hZ2VycyA9IFtdO1xyXG4gICAgICAgIHZhciB1aVZhcmlhbnRzV2l0aG91dENvbmRpdGlvbiA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSB0aGlzLnVpVmFyaWFudHM7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciB1aVZhcmlhbnQgPSBfYVtfaV07XHJcbiAgICAgICAgICAgIGlmICh1aVZhcmlhbnQuY29uZGl0aW9uID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIC8vIENvbGxlY3QgdmFyaWFudHMgd2l0aG91dCBjb25kaXRpb25zIGZvciBlcnJvciBjaGVja2luZ1xyXG4gICAgICAgICAgICAgICAgdWlWYXJpYW50c1dpdGhvdXRDb25kaXRpb24ucHVzaCh1aVZhcmlhbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIENyZWF0ZSB0aGUgaW5zdGFuY2UgbWFuYWdlciBmb3IgYSBVSSB2YXJpYW50XHJcbiAgICAgICAgICAgIHRoaXMudWlJbnN0YW5jZU1hbmFnZXJzLnB1c2gobmV3IEludGVybmFsVUlJbnN0YW5jZU1hbmFnZXIocGxheWVyLCB1aVZhcmlhbnQudWksIHRoaXMuY29uZmlnKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIE1ha2Ugc3VyZSB0aGF0IHRoZXJlIGlzIG9ubHkgb25lIFVJIHZhcmlhbnQgd2l0aG91dCBhIGNvbmRpdGlvblxyXG4gICAgICAgIC8vIEl0IGRvZXMgbm90IG1ha2Ugc2Vuc2UgdG8gaGF2ZSBtdWx0aXBsZSB2YXJpYW50cyB3aXRob3V0IGNvbmRpdGlvbiwgYmVjYXVzZSBvbmx5IHRoZSBmaXJzdCBvbmUgaW4gdGhlIGxpc3RcclxuICAgICAgICAvLyAodGhlIG9uZSB3aXRoIHRoZSBsb3dlc3QgaW5kZXgpIHdpbGwgZXZlciBiZSBzZWxlY3RlZC5cclxuICAgICAgICBpZiAodWlWYXJpYW50c1dpdGhvdXRDb25kaXRpb24ubGVuZ3RoID4gMSkge1xyXG4gICAgICAgICAgICB0aHJvdyBFcnJvcignVG9vIG1hbnkgVUlzIHdpdGhvdXQgYSBjb25kaXRpb246IFlvdSBjYW5ub3QgaGF2ZSBtb3JlIHRoYW4gb25lIGRlZmF1bHQgVUknKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gTWFrZSBzdXJlIHRoYXQgdGhlIGRlZmF1bHQgVUkgdmFyaWFudCwgaWYgZGVmaW5lZCwgaXMgYXQgdGhlIGVuZCBvZiB0aGUgbGlzdCAobGFzdCBpbmRleClcclxuICAgICAgICAvLyBJZiBpdCBjb21lcyBlYXJsaWVyLCB0aGUgdmFyaWFudHMgd2l0aCBjb25kaXRpb25zIHRoYXQgY29tZSBhZnRlcndhcmRzIHdpbGwgbmV2ZXIgYmUgc2VsZWN0ZWQgYmVjYXVzZSB0aGVcclxuICAgICAgICAvLyBkZWZhdWx0IHZhcmlhbnQgd2l0aG91dCBhIGNvbmRpdGlvbiBhbHdheXMgZXZhbHVhdGVzIHRvICd0cnVlJ1xyXG4gICAgICAgIGlmICh1aVZhcmlhbnRzV2l0aG91dENvbmRpdGlvbi5sZW5ndGggPiAwXHJcbiAgICAgICAgICAgICYmIHVpVmFyaWFudHNXaXRob3V0Q29uZGl0aW9uWzBdICE9PSB0aGlzLnVpVmFyaWFudHNbdGhpcy51aVZhcmlhbnRzLmxlbmd0aCAtIDFdKSB7XHJcbiAgICAgICAgICAgIHRocm93IEVycm9yKCdJbnZhbGlkIFVJIHZhcmlhbnQgb3JkZXI6IHRoZSBkZWZhdWx0IFVJICh3aXRob3V0IGNvbmRpdGlvbikgbXVzdCBiZSBhdCB0aGUgZW5kIG9mIHRoZSBsaXN0Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBhZFN0YXJ0ZWRFdmVudCA9IG51bGw7IC8vIGtlZXAgdGhlIGV2ZW50IHN0b3JlZCBoZXJlIGR1cmluZyBhZCBwbGF5YmFja1xyXG4gICAgICAgIHZhciBpc01vYmlsZSA9IGJyb3dzZXJ1dGlsc18xLkJyb3dzZXJVdGlscy5pc01vYmlsZTtcclxuICAgICAgICAvLyBEeW5hbWljYWxseSBzZWxlY3QgYSBVSSB2YXJpYW50IHRoYXQgbWF0Y2hlcyB0aGUgY3VycmVudCBVSSBjb25kaXRpb24uXHJcbiAgICAgICAgdmFyIHJlc29sdmVVaVZhcmlhbnQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHRoYXQgdGhlIE9OX0FEX1NUQVJURUQgZXZlbnQgZGF0YSBpcyBwZXJzaXN0ZWQgdGhyb3VnaCBhZCBwbGF5YmFjayBpbiBjYXNlIG90aGVyIGV2ZW50cyBoYXBwZW5cclxuICAgICAgICAgICAgLy8gaW4gdGhlIG1lYW50aW1lLCBlLmcuIHBsYXllciByZXNpemUuIFdlIG5lZWQgdG8gc3RvcmUgdGhpcyBkYXRhIGJlY2F1c2UgdGhlcmUgaXMgbm8gb3RoZXIgd2F5IHRvIGZpbmQgb3V0XHJcbiAgICAgICAgICAgIC8vIGFkIGRldGFpbHMgKGUuZy4gdGhlIGFkIGNsaWVudCkgd2hpbGUgYW4gYWQgaXMgcGxheWluZy5cclxuICAgICAgICAgICAgLy8gRXhpc3RpbmcgZXZlbnQgZGF0YSBzaWduYWxzIHRoYXQgYW4gYWQgaXMgY3VycmVudGx5IGFjdGl2ZS4gV2UgY2Fubm90IHVzZSBwbGF5ZXIuaXNBZCgpIGJlY2F1c2UgaXQgcmV0dXJuc1xyXG4gICAgICAgICAgICAvLyB0cnVlIG9uIGFkIHN0YXJ0IGFuZCBhbHNvIG9uIGFkIGVuZCBldmVudHMsIHdoaWNoIGlzIHByb2JsZW1hdGljLlxyXG4gICAgICAgICAgICBpZiAoZXZlbnQgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChldmVudC50eXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gV2hlbiB0aGUgYWQgc3RhcnRzLCB3ZSBzdG9yZSB0aGUgZXZlbnQgZGF0YVxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgcGxheWVyLkVWRU5ULk9OX0FEX1NUQVJURUQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkU3RhcnRlZEV2ZW50ID0gZXZlbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFdoZW4gdGhlIGFkIGVuZHMsIHdlIGRlbGV0ZSB0aGUgZXZlbnQgZGF0YVxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgcGxheWVyLkVWRU5ULk9OX0FEX0ZJTklTSEVEOlxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgcGxheWVyLkVWRU5ULk9OX0FEX1NLSVBQRUQ6XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBwbGF5ZXIuRVZFTlQuT05fQURfRVJST1I6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkU3RhcnRlZEV2ZW50ID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gV2hlbiBhIG5ldyBzb3VyY2UgaXMgbG9hZGVkIGR1cmluZyBhZCBwbGF5YmFjaywgdGhlcmUgd2lsbCBiZSBubyBhZCBlbmQgZXZlbnQgc28gd2UgZGV0ZWN0IHRoZSBlbmRcclxuICAgICAgICAgICAgICAgICAgICAvLyBvZiB0aGUgYWQgcGxheWJhY2sgYnkgY2hlY2tpbmcgaXNBZCgpIGluIE9OX1JFQURZLCBiZWNhdXNlIE9OX1JFQURZIGFsd2F5cyBhcnJpdmVzIHdoZW4gdGhlIHNvdXJjZVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNoYW5nZXMuXHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBwbGF5ZXIuRVZFTlQuT05fUkVBRFk6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhZFN0YXJ0ZWRFdmVudCAmJiAhcGxheWVyLmlzQWQoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTdGFydGVkRXZlbnQgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gRGV0ZWN0IGlmIGFuIGFkIGhhcyBzdGFydGVkXHJcbiAgICAgICAgICAgIHZhciBhZCA9IGFkU3RhcnRlZEV2ZW50ICE9IG51bGw7XHJcbiAgICAgICAgICAgIHZhciBhZFdpdGhVSSA9IGFkICYmIGFkU3RhcnRlZEV2ZW50LmNsaWVudFR5cGUgPT09ICd2YXN0JztcclxuICAgICAgICAgICAgLy8gRGV0ZXJtaW5lIHRoZSBjdXJyZW50IGNvbnRleHQgZm9yIHdoaWNoIHRoZSBVSSB2YXJpYW50IHdpbGwgYmUgcmVzb2x2ZWRcclxuICAgICAgICAgICAgdmFyIGNvbnRleHQgPSB7XHJcbiAgICAgICAgICAgICAgICBpc0FkOiBhZCxcclxuICAgICAgICAgICAgICAgIGlzQWRXaXRoVUk6IGFkV2l0aFVJLFxyXG4gICAgICAgICAgICAgICAgYWRDbGllbnRUeXBlOiBhZCA/IGFkU3RhcnRlZEV2ZW50LmNsaWVudFR5cGUgOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgaXNGdWxsc2NyZWVuOiBfdGhpcy5wbGF5ZXIuaXNGdWxsc2NyZWVuKCksXHJcbiAgICAgICAgICAgICAgICBpc01vYmlsZTogaXNNb2JpbGUsXHJcbiAgICAgICAgICAgICAgICBpc1BsYXlpbmc6IF90aGlzLnBsYXllci5pc1BsYXlpbmcoKSxcclxuICAgICAgICAgICAgICAgIHdpZHRoOiBfdGhpcy51aUNvbnRhaW5lckVsZW1lbnQud2lkdGgoKSxcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50V2lkdGg6IGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGgsXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHZhciBuZXh0VWkgPSBudWxsO1xyXG4gICAgICAgICAgICB2YXIgdWlWYXJpYW50Q2hhbmdlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAvLyBTZWxlY3QgbmV3IFVJIHZhcmlhbnRcclxuICAgICAgICAgICAgLy8gSWYgbm8gdmFyaWFudCBjb25kaXRpb24gaXMgZnVsZmlsbGVkLCB3ZSBzd2l0Y2ggdG8gKm5vKiBVSVxyXG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gX3RoaXMudWlWYXJpYW50czsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciB1aVZhcmlhbnQgPSBfYVtfaV07XHJcbiAgICAgICAgICAgICAgICBpZiAodWlWYXJpYW50LmNvbmRpdGlvbiA9PSBudWxsIHx8IHVpVmFyaWFudC5jb25kaXRpb24oY29udGV4dCkgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0VWkgPSBfdGhpcy51aUluc3RhbmNlTWFuYWdlcnNbX3RoaXMudWlWYXJpYW50cy5pbmRleE9mKHVpVmFyaWFudCldO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIERldGVybWluZSBpZiB0aGUgVUkgdmFyaWFudCBpcyBjaGFuZ2luZ1xyXG4gICAgICAgICAgICBpZiAobmV4dFVpICE9PSBfdGhpcy5jdXJyZW50VWkpIHtcclxuICAgICAgICAgICAgICAgIHVpVmFyaWFudENoYW5nZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ3N3aXRjaGVkIGZyb20gJywgdGhpcy5jdXJyZW50VWkgPyB0aGlzLmN1cnJlbnRVaS5nZXRVSSgpIDogJ25vbmUnLFxyXG4gICAgICAgICAgICAgICAgLy8gICAnIHRvICcsIG5leHRVaSA/IG5leHRVaS5nZXRVSSgpIDogJ25vbmUnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBPbmx5IGlmIHRoZSBVSSB2YXJpYW50IGlzIGNoYW5naW5nLCB3ZSBuZWVkIHRvIGRvIHNvbWUgc3R1ZmYuIEVsc2Ugd2UganVzdCBsZWF2ZSBldmVyeXRoaW5nIGFzLWlzLlxyXG4gICAgICAgICAgICBpZiAodWlWYXJpYW50Q2hhbmdlZCkge1xyXG4gICAgICAgICAgICAgICAgLy8gSGlkZSB0aGUgY3VycmVudGx5IGFjdGl2ZSBVSSB2YXJpYW50XHJcbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMuY3VycmVudFVpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuY3VycmVudFVpLmdldFVJKCkuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gQXNzaWduIHRoZSBuZXcgVUkgdmFyaWFudCBhcyBjdXJyZW50IFVJXHJcbiAgICAgICAgICAgICAgICBfdGhpcy5jdXJyZW50VWkgPSBuZXh0VWk7XHJcbiAgICAgICAgICAgICAgICAvLyBXaGVuIHdlIHN3aXRjaCB0byBhIGRpZmZlcmVudCBVSSBpbnN0YW5jZSwgdGhlcmUncyBzb21lIGFkZGl0aW9uYWwgc3R1ZmYgdG8gbWFuYWdlLiBJZiB3ZSBkbyBub3Qgc3dpdGNoXHJcbiAgICAgICAgICAgICAgICAvLyB0byBhbiBpbnN0YW5jZSwgd2UncmUgZG9uZSBoZXJlLlxyXG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLmN1cnJlbnRVaSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQWRkIHRoZSBVSSB0byB0aGUgRE9NIChhbmQgY29uZmlndXJlIGl0KSB0aGUgZmlyc3QgdGltZSBpdCBpcyBzZWxlY3RlZFxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghX3RoaXMuY3VycmVudFVpLmlzQ29uZmlndXJlZCgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmFkZFVpKF90aGlzLmN1cnJlbnRVaSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHRoaXMgaXMgYW4gYWQgVUksIHdlIG5lZWQgdG8gcmVsYXkgdGhlIHNhdmVkIE9OX0FEX1NUQVJURUQgZXZlbnQgZGF0YSBzbyBhZCBjb21wb25lbnRzIGNhbiBjb25maWd1cmVcclxuICAgICAgICAgICAgICAgICAgICAvLyB0aGVtc2VsdmVzIGZvciB0aGUgY3VycmVudCBhZC5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoY29udGV4dC5pc0FkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIFJlbGF5IHRoZSBPTl9BRF9TVEFSVEVEIGV2ZW50IHRvIHRoZSBhZHMgVUlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICogQmVjYXVzZSB0aGUgYWRzIFVJIGlzIGluaXRpYWxpemVkIGluIHRoZSBPTl9BRF9TVEFSVEVEIGhhbmRsZXIsIGkuZS4gd2hlbiB0aGUgT05fQURfU1RBUlRFRCBldmVudCBoYXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICogYWxyZWFkeSBiZWVuIGZpcmVkLCBjb21wb25lbnRzIGluIHRoZSBhZHMgVUkgdGhhdCBsaXN0ZW4gZm9yIHRoZSBPTl9BRF9TVEFSVEVEIGV2ZW50IG5ldmVyIHJlY2VpdmUgaXQuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIFNpbmNlIHRoaXMgY2FuIGJyZWFrIGZ1bmN0aW9uYWxpdHkgb2YgY29tcG9uZW50cyB0aGF0IHJlbHkgb24gdGhpcyBldmVudCwgd2UgcmVsYXkgdGhlIGV2ZW50IHRvIHRoZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBhZHMgVUkgY29tcG9uZW50cyB3aXRoIHRoZSBmb2xsb3dpbmcgY2FsbC5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmN1cnJlbnRVaS5nZXRXcmFwcGVkUGxheWVyKCkuZmlyZUV2ZW50SW5VSShfdGhpcy5wbGF5ZXIuRVZFTlQuT05fQURfU1RBUlRFRCwgYWRTdGFydGVkRXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5jdXJyZW50VWkuZ2V0VUkoKS5zaG93KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIC8vIExpc3RlbiB0byB0aGUgZm9sbG93aW5nIGV2ZW50cyB0byB0cmlnZ2VyIFVJIHZhcmlhbnQgcmVzb2x1dGlvblxyXG4gICAgICAgIHRoaXMubWFuYWdlclBsYXllcldyYXBwZXIuZ2V0UGxheWVyKCkuYWRkRXZlbnRIYW5kbGVyKHRoaXMucGxheWVyLkVWRU5ULk9OX1JFQURZLCByZXNvbHZlVWlWYXJpYW50KTtcclxuICAgICAgICB0aGlzLm1hbmFnZXJQbGF5ZXJXcmFwcGVyLmdldFBsYXllcigpLmFkZEV2ZW50SGFuZGxlcih0aGlzLnBsYXllci5FVkVOVC5PTl9QTEFZLCByZXNvbHZlVWlWYXJpYW50KTtcclxuICAgICAgICB0aGlzLm1hbmFnZXJQbGF5ZXJXcmFwcGVyLmdldFBsYXllcigpLmFkZEV2ZW50SGFuZGxlcih0aGlzLnBsYXllci5FVkVOVC5PTl9QQVVTRUQsIHJlc29sdmVVaVZhcmlhbnQpO1xyXG4gICAgICAgIHRoaXMubWFuYWdlclBsYXllcldyYXBwZXIuZ2V0UGxheWVyKCkuYWRkRXZlbnRIYW5kbGVyKHRoaXMucGxheWVyLkVWRU5ULk9OX0FEX1NUQVJURUQsIHJlc29sdmVVaVZhcmlhbnQpO1xyXG4gICAgICAgIHRoaXMubWFuYWdlclBsYXllcldyYXBwZXIuZ2V0UGxheWVyKCkuYWRkRXZlbnRIYW5kbGVyKHRoaXMucGxheWVyLkVWRU5ULk9OX0FEX0ZJTklTSEVELCByZXNvbHZlVWlWYXJpYW50KTtcclxuICAgICAgICB0aGlzLm1hbmFnZXJQbGF5ZXJXcmFwcGVyLmdldFBsYXllcigpLmFkZEV2ZW50SGFuZGxlcih0aGlzLnBsYXllci5FVkVOVC5PTl9BRF9TS0lQUEVELCByZXNvbHZlVWlWYXJpYW50KTtcclxuICAgICAgICB0aGlzLm1hbmFnZXJQbGF5ZXJXcmFwcGVyLmdldFBsYXllcigpLmFkZEV2ZW50SGFuZGxlcih0aGlzLnBsYXllci5FVkVOVC5PTl9BRF9FUlJPUiwgcmVzb2x2ZVVpVmFyaWFudCk7XHJcbiAgICAgICAgdGhpcy5tYW5hZ2VyUGxheWVyV3JhcHBlci5nZXRQbGF5ZXIoKS5hZGRFdmVudEhhbmRsZXIodGhpcy5wbGF5ZXIuRVZFTlQuT05fUExBWUVSX1JFU0laRSwgcmVzb2x2ZVVpVmFyaWFudCk7XHJcbiAgICAgICAgdGhpcy5tYW5hZ2VyUGxheWVyV3JhcHBlci5nZXRQbGF5ZXIoKS5hZGRFdmVudEhhbmRsZXIodGhpcy5wbGF5ZXIuRVZFTlQuT05fRlVMTFNDUkVFTl9FTlRFUiwgcmVzb2x2ZVVpVmFyaWFudCk7XHJcbiAgICAgICAgdGhpcy5tYW5hZ2VyUGxheWVyV3JhcHBlci5nZXRQbGF5ZXIoKS5hZGRFdmVudEhhbmRsZXIodGhpcy5wbGF5ZXIuRVZFTlQuT05fRlVMTFNDUkVFTl9FWElULCByZXNvbHZlVWlWYXJpYW50KTtcclxuICAgICAgICAvLyBJbml0aWFsaXplIHRoZSBVSVxyXG4gICAgICAgIHJlc29sdmVVaVZhcmlhbnQobnVsbCk7XHJcbiAgICB9XHJcbiAgICBVSU1hbmFnZXIucHJvdG90eXBlLmdldENvbmZpZyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb25maWc7XHJcbiAgICB9O1xyXG4gICAgVUlNYW5hZ2VyLnByb3RvdHlwZS5hZGRVaSA9IGZ1bmN0aW9uICh1aSkge1xyXG4gICAgICAgIHZhciBkb20gPSB1aS5nZXRVSSgpLmdldERvbUVsZW1lbnQoKTtcclxuICAgICAgICB2YXIgcGxheWVyID0gdWkuZ2V0V3JhcHBlZFBsYXllcigpO1xyXG4gICAgICAgIHVpLmNvbmZpZ3VyZUNvbnRyb2xzKCk7XHJcbiAgICAgICAgLyogQXBwZW5kIHRoZSBVSSBET00gYWZ0ZXIgY29uZmlndXJhdGlvbiB0byBhdm9pZCBDU1MgdHJhbnNpdGlvbnMgYXQgaW5pdGlhbGl6YXRpb25cclxuICAgICAgICAgKiBFeGFtcGxlOiBDb21wb25lbnRzIGFyZSBoaWRkZW4gZHVyaW5nIGNvbmZpZ3VyYXRpb24gYW5kIHRoZXNlIGhpZGVzIG1heSB0cmlnZ2VyIENTUyB0cmFuc2l0aW9ucyB0aGF0IGFyZVxyXG4gICAgICAgICAqIHVuZGVzaXJhYmxlIGF0IHRoaXMgdGltZS4gKi9cclxuICAgICAgICB0aGlzLnVpQ29udGFpbmVyRWxlbWVudC5hcHBlbmQoZG9tKTtcclxuICAgICAgICAvLyBTb21lIGNvbXBvbmVudHMgaW5pdGlhbGl6ZSB0aGVpciBzdGF0ZSBvbiBPTl9SRUFEWS4gV2hlbiB0aGUgVUkgaXMgbG9hZGVkIGFmdGVyIHRoZSBwbGF5ZXIgaXMgYWxyZWFkeSByZWFkeSxcclxuICAgICAgICAvLyB0aGV5IHdpbGwgbmV2ZXIgcmVjZWl2ZSB0aGUgZXZlbnQgc28gd2UgZmlyZSBpdCBmcm9tIGhlcmUgaW4gc3VjaCBjYXNlcy5cclxuICAgICAgICBpZiAocGxheWVyLmlzUmVhZHkoKSkge1xyXG4gICAgICAgICAgICBwbGF5ZXIuZmlyZUV2ZW50SW5VSShwbGF5ZXIuRVZFTlQuT05fUkVBRFksIHt9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gRmlyZSBvbkNvbmZpZ3VyZWQgYWZ0ZXIgVUkgRE9NIGVsZW1lbnRzIGFyZSBzdWNjZXNzZnVsbHkgYWRkZWQuIFdoZW4gZmlyZWQgaW1tZWRpYXRlbHksIHRoZSBET00gZWxlbWVudHNcclxuICAgICAgICAvLyBtaWdodCBub3QgYmUgZnVsbHkgY29uZmlndXJlZCBhbmQgZS5nLiBkbyBub3QgaGF2ZSBhIHNpemUuXHJcbiAgICAgICAgLy8gaHR0cHM6Ly9zd2l6ZWMuY29tL2Jsb2cvaG93LXRvLXByb3Blcmx5LXdhaXQtZm9yLWRvbS1lbGVtZW50cy10by1zaG93LXVwLWluLW1vZGVybi1icm93c2Vycy9zd2l6ZWMvNjY2M1xyXG4gICAgICAgIGlmICh3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKSB7XHJcbiAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbiAoKSB7IHVpLm9uQ29uZmlndXJlZC5kaXNwYXRjaCh1aS5nZXRVSSgpKTsgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBJRTkgZmFsbGJhY2tcclxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHVpLm9uQ29uZmlndXJlZC5kaXNwYXRjaCh1aS5nZXRVSSgpKTsgfSwgMCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFVJTWFuYWdlci5wcm90b3R5cGUucmVsZWFzZVVpID0gZnVuY3Rpb24gKHVpKSB7XHJcbiAgICAgICAgdWkucmVsZWFzZUNvbnRyb2xzKCk7XHJcbiAgICAgICAgdWkuZ2V0VUkoKS5nZXREb21FbGVtZW50KCkucmVtb3ZlKCk7XHJcbiAgICAgICAgdWkuY2xlYXJFdmVudEhhbmRsZXJzKCk7XHJcbiAgICB9O1xyXG4gICAgVUlNYW5hZ2VyLnByb3RvdHlwZS5yZWxlYXNlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSB0aGlzLnVpSW5zdGFuY2VNYW5hZ2VyczsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgdmFyIHVpSW5zdGFuY2VNYW5hZ2VyID0gX2FbX2ldO1xyXG4gICAgICAgICAgICB0aGlzLnJlbGVhc2VVaSh1aUluc3RhbmNlTWFuYWdlcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMubWFuYWdlclBsYXllcldyYXBwZXIuY2xlYXJFdmVudEhhbmRsZXJzKCk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFVJTWFuYWdlcjtcclxufSgpKTtcclxuZXhwb3J0cy5VSU1hbmFnZXIgPSBVSU1hbmFnZXI7XHJcbihmdW5jdGlvbiAoVUlNYW5hZ2VyKSB7XHJcbiAgICB2YXIgRmFjdG9yeTtcclxuICAgIChmdW5jdGlvbiAoRmFjdG9yeSkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGJ1aWxkQXVkaW9WaWRlb1VJKHBsYXllciwgY29uZmlnKSB7XHJcbiAgICAgICAgICAgIGlmIChjb25maWcgPT09IHZvaWQgMCkgeyBjb25maWcgPSB7fTsgfVxyXG4gICAgICAgICAgICB2YXIgY29udHJvbEJhciA9IG5ldyBjb250cm9sYmFyXzEuQ29udHJvbEJhcih7XHJcbiAgICAgICAgICAgICAgICBjb21wb25lbnRzOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IHBsYXliYWNrdG9nZ2xlYnV0dG9uXzEuUGxheWJhY2tUb2dnbGVCdXR0b24oKSxcclxuICAgICAgICAgICAgICAgICAgICBuZXcgc2Vla2Jhcl8xLlNlZWtCYXIoeyBsYWJlbDogbmV3IHNlZWtiYXJsYWJlbF8xLlNlZWtCYXJMYWJlbCgpIH0pLFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBwbGF5YmFja3RpbWVsYWJlbF8xLlBsYXliYWNrVGltZUxhYmVsKCksXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IHZvbHVtZWNvbnRyb2xidXR0b25fMS5Wb2x1bWVDb250cm9sQnV0dG9uKHsgJ3ZlcnRpY2FsJzogdHJ1ZSB9KSxcclxuICAgICAgICAgICAgICAgICAgICBuZXcgZnVsbHNjcmVlbnRvZ2dsZWJ1dHRvbl8xLkZ1bGxzY3JlZW5Ub2dnbGVCdXR0b24oKSxcclxuICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgIH0sIHRydWUpO1xyXG4gICAgICAgICAgICB2YXIgdWkgPSBuZXcgdWljb250YWluZXJfMS5VSUNvbnRhaW5lcih7XHJcbiAgICAgICAgICAgICAgICBjb21wb25lbnRzOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IHBsYXliYWNrdG9nZ2xlb3ZlcmxheV8xLlBsYXliYWNrVG9nZ2xlT3ZlcmxheSgpLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xCYXIsXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IGVycm9ybWVzc2FnZW92ZXJsYXlfMS5FcnJvck1lc3NhZ2VPdmVybGF5KCksXHJcbiAgICAgICAgICAgICAgICBdLCBjc3NDbGFzc2VzOiBbJ3VpLXNraW4nXSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIC8vIEp1c3QgaGVyZSB0byBhdm9pZCBsaW50ZXIgZXJyb3JzXHJcbiAgICAgICAgICAgIHZhciBzc0JveCA9IG5ldyBzdWJ0aXRsZXNlbGVjdGJveF8xLlN1YnRpdGxlU2VsZWN0Qm94KCk7XHJcbiAgICAgICAgICAgIHNzQm94LmhpZGUoKTtcclxuICAgICAgICAgICAgdmFyIHNzT3ZlcmxheSA9IG5ldyBzdWJ0aXRsZW92ZXJsYXlfMS5TdWJ0aXRsZU92ZXJsYXkoKTtcclxuICAgICAgICAgICAgc3NPdmVybGF5LmhpZGUoKTtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBVSU1hbmFnZXIocGxheWVyLCB1aSwgY29uZmlnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgRmFjdG9yeS5idWlsZEF1ZGlvVmlkZW9VSSA9IGJ1aWxkQXVkaW9WaWRlb1VJO1xyXG4gICAgICAgIGZ1bmN0aW9uIGJ1aWxkQXVkaW9Pbmx5VUkocGxheWVyLCBjb25maWcpIHtcclxuICAgICAgICAgICAgaWYgKGNvbmZpZyA9PT0gdm9pZCAwKSB7IGNvbmZpZyA9IHt9OyB9XHJcbiAgICAgICAgICAgIHZhciBjb250cm9sQmFyID0gbmV3IGNvbnRyb2xiYXJfMS5Db250cm9sQmFyKHtcclxuICAgICAgICAgICAgICAgIGNvbXBvbmVudHM6IFtcclxuICAgICAgICAgICAgICAgICAgICBuZXcgcGxheWJhY2t0b2dnbGVidXR0b25fMS5QbGF5YmFja1RvZ2dsZUJ1dHRvbigpLFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBzZWVrYmFyXzEuU2Vla0Jhcih7IGxhYmVsOiBuZXcgc2Vla2JhcmxhYmVsXzEuU2Vla0JhckxhYmVsKCksIGhpZGVJbkxpdmVQbGF5YmFjazogdHJ1ZSB9KSxcclxuICAgICAgICAgICAgICAgICAgICBuZXcgcGxheWJhY2t0aW1lbGFiZWxfMS5QbGF5YmFja1RpbWVMYWJlbCgpLFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyB2b2x1bWVjb250cm9sYnV0dG9uXzEuVm9sdW1lQ29udHJvbEJ1dHRvbih7ICd2ZXJ0aWNhbCc6IHRydWUgfSksXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IGNvbXBvbmVudF8xLkNvbXBvbmVudCh7IGNzc0NsYXNzOiAnc3BhY2VyJyB9KSxcclxuICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgIH0sIGZhbHNlKTtcclxuICAgICAgICAgICAgdmFyIHVpID0gbmV3IHVpY29udGFpbmVyXzEuVUlDb250YWluZXIoe1xyXG4gICAgICAgICAgICAgICAgY29tcG9uZW50czogW1xyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBhdWRpb29ubHlvdmVybGF5XzEuQXVkaW9Pbmx5T3ZlcmxheSgpLFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBwbGF5YmFja3RvZ2dsZW92ZXJsYXlfMS5QbGF5YmFja1RvZ2dsZU92ZXJsYXkoKSxcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sQmFyLFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBlcnJvcm1lc3NhZ2VvdmVybGF5XzEuRXJyb3JNZXNzYWdlT3ZlcmxheSgpLFxyXG4gICAgICAgICAgICAgICAgXSwgY3NzQ2xhc3NlczogWyd1aS1za2luJ10sXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFVJTWFuYWdlcihwbGF5ZXIsIHVpLCBjb25maWcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBGYWN0b3J5LmJ1aWxkQXVkaW9Pbmx5VUkgPSBidWlsZEF1ZGlvT25seVVJO1xyXG4gICAgfSkoRmFjdG9yeSA9IFVJTWFuYWdlci5GYWN0b3J5IHx8IChVSU1hbmFnZXIuRmFjdG9yeSA9IHt9KSk7XHJcbn0pKFVJTWFuYWdlciA9IGV4cG9ydHMuVUlNYW5hZ2VyIHx8IChleHBvcnRzLlVJTWFuYWdlciA9IHt9KSk7XHJcbmV4cG9ydHMuVUlNYW5hZ2VyID0gVUlNYW5hZ2VyO1xyXG4vKipcclxuICogRW5jYXBzdWxhdGVzIGZ1bmN0aW9uYWxpdHkgdG8gbWFuYWdlIGEgVUkgaW5zdGFuY2UuIFVzZWQgYnkgdGhlIHtAbGluayBVSU1hbmFnZXJ9IHRvIG1hbmFnZSBtdWx0aXBsZSBVSSBpbnN0YW5jZXMuXHJcbiAqL1xyXG52YXIgVUlJbnN0YW5jZU1hbmFnZXIgPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gVUlJbnN0YW5jZU1hbmFnZXIocGxheWVyLCB1aSwgY29uZmlnKSB7XHJcbiAgICAgICAgaWYgKGNvbmZpZyA9PT0gdm9pZCAwKSB7IGNvbmZpZyA9IHt9OyB9XHJcbiAgICAgICAgdGhpcy5ldmVudHMgPSB7XHJcbiAgICAgICAgICAgIG9uQ29uZmlndXJlZDogbmV3IGV2ZW50ZGlzcGF0Y2hlcl8xLkV2ZW50RGlzcGF0Y2hlcigpLFxyXG4gICAgICAgICAgICBvblNlZWs6IG5ldyBldmVudGRpc3BhdGNoZXJfMS5FdmVudERpc3BhdGNoZXIoKSxcclxuICAgICAgICAgICAgb25TZWVrUHJldmlldzogbmV3IGV2ZW50ZGlzcGF0Y2hlcl8xLkV2ZW50RGlzcGF0Y2hlcigpLFxyXG4gICAgICAgICAgICBvblNlZWtlZDogbmV3IGV2ZW50ZGlzcGF0Y2hlcl8xLkV2ZW50RGlzcGF0Y2hlcigpLFxyXG4gICAgICAgICAgICBvbkNvbXBvbmVudFNob3c6IG5ldyBldmVudGRpc3BhdGNoZXJfMS5FdmVudERpc3BhdGNoZXIoKSxcclxuICAgICAgICAgICAgb25Db21wb25lbnRIaWRlOiBuZXcgZXZlbnRkaXNwYXRjaGVyXzEuRXZlbnREaXNwYXRjaGVyKCksXHJcbiAgICAgICAgICAgIG9uQ29udHJvbHNTaG93OiBuZXcgZXZlbnRkaXNwYXRjaGVyXzEuRXZlbnREaXNwYXRjaGVyKCksXHJcbiAgICAgICAgICAgIG9uUHJldmlld0NvbnRyb2xzSGlkZTogbmV3IGV2ZW50ZGlzcGF0Y2hlcl8xLkV2ZW50RGlzcGF0Y2hlcigpLFxyXG4gICAgICAgICAgICBvbkNvbnRyb2xzSGlkZTogbmV3IGV2ZW50ZGlzcGF0Y2hlcl8xLkV2ZW50RGlzcGF0Y2hlcigpLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJXcmFwcGVyID0gbmV3IFBsYXllcldyYXBwZXIocGxheWVyKTtcclxuICAgICAgICB0aGlzLnVpID0gdWk7XHJcbiAgICAgICAgdGhpcy5jb25maWcgPSBjb25maWc7XHJcbiAgICB9XHJcbiAgICBVSUluc3RhbmNlTWFuYWdlci5wcm90b3R5cGUuZ2V0Q29uZmlnID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbmZpZztcclxuICAgIH07XHJcbiAgICBVSUluc3RhbmNlTWFuYWdlci5wcm90b3R5cGUuZ2V0VUkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudWk7XHJcbiAgICB9O1xyXG4gICAgVUlJbnN0YW5jZU1hbmFnZXIucHJvdG90eXBlLmdldFBsYXllciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5wbGF5ZXJXcmFwcGVyLmdldFBsYXllcigpO1xyXG4gICAgfTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShVSUluc3RhbmNlTWFuYWdlci5wcm90b3R5cGUsIFwib25Db25maWd1cmVkXCIsIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBGaXJlcyB3aGVuIHRoZSBVSSBpcyBmdWxseSBjb25maWd1cmVkIGFuZCBhZGRlZCB0byB0aGUgRE9NLlxyXG4gICAgICAgICAqIEByZXR1cm5zIHtFdmVudERpc3BhdGNoZXJ9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmV2ZW50cy5vbkNvbmZpZ3VyZWQ7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVUlJbnN0YW5jZU1hbmFnZXIucHJvdG90eXBlLCBcIm9uU2Vla1wiLCB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogRmlyZXMgd2hlbiBhIHNlZWsgc3RhcnRzLlxyXG4gICAgICAgICAqIEByZXR1cm5zIHtFdmVudERpc3BhdGNoZXJ9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmV2ZW50cy5vblNlZWs7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVUlJbnN0YW5jZU1hbmFnZXIucHJvdG90eXBlLCBcIm9uU2Vla1ByZXZpZXdcIiwge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEZpcmVzIHdoZW4gdGhlIHNlZWsgdGltZWxpbmUgaXMgc2NydWJiZWQuXHJcbiAgICAgICAgICogQHJldHVybnMge0V2ZW50RGlzcGF0Y2hlcn1cclxuICAgICAgICAgKi9cclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZXZlbnRzLm9uU2Vla1ByZXZpZXc7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVUlJbnN0YW5jZU1hbmFnZXIucHJvdG90eXBlLCBcIm9uU2Vla2VkXCIsIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBGaXJlcyB3aGVuIGEgc2VlayBpcyBmaW5pc2hlZC5cclxuICAgICAgICAgKiBAcmV0dXJucyB7RXZlbnREaXNwYXRjaGVyfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ldmVudHMub25TZWVrZWQ7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVUlJbnN0YW5jZU1hbmFnZXIucHJvdG90eXBlLCBcIm9uQ29tcG9uZW50U2hvd1wiLCB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogRmlyZXMgd2hlbiBhIGNvbXBvbmVudCBpcyBzaG93aW5nLlxyXG4gICAgICAgICAqIEByZXR1cm5zIHtFdmVudERpc3BhdGNoZXJ9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmV2ZW50cy5vbkNvbXBvbmVudFNob3c7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVUlJbnN0YW5jZU1hbmFnZXIucHJvdG90eXBlLCBcIm9uQ29tcG9uZW50SGlkZVwiLCB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogRmlyZXMgd2hlbiBhIGNvbXBvbmVudCBpcyBoaWRpbmcuXHJcbiAgICAgICAgICogQHJldHVybnMge0V2ZW50RGlzcGF0Y2hlcn1cclxuICAgICAgICAgKi9cclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZXZlbnRzLm9uQ29tcG9uZW50SGlkZTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShVSUluc3RhbmNlTWFuYWdlci5wcm90b3R5cGUsIFwib25Db250cm9sc1Nob3dcIiwge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEZpcmVzIHdoZW4gdGhlIFVJIGNvbnRyb2xzIGFyZSBzaG93aW5nLlxyXG4gICAgICAgICAqIEByZXR1cm5zIHtFdmVudERpc3BhdGNoZXJ9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmV2ZW50cy5vbkNvbnRyb2xzU2hvdztcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShVSUluc3RhbmNlTWFuYWdlci5wcm90b3R5cGUsIFwib25QcmV2aWV3Q29udHJvbHNIaWRlXCIsIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBGaXJlcyBiZWZvcmUgdGhlIFVJIGNvbnRyb2xzIGFyZSBoaWRpbmcgdG8gY2hlY2sgaWYgdGhleSBhcmUgYWxsb3dlZCB0byBoaWRlLlxyXG4gICAgICAgICAqIEByZXR1cm5zIHtFdmVudERpc3BhdGNoZXJ9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmV2ZW50cy5vblByZXZpZXdDb250cm9sc0hpZGU7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVUlJbnN0YW5jZU1hbmFnZXIucHJvdG90eXBlLCBcIm9uQ29udHJvbHNIaWRlXCIsIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBGaXJlcyB3aGVuIHRoZSBVSSBjb250cm9scyBhcmUgaGlkaW5nLlxyXG4gICAgICAgICAqIEByZXR1cm5zIHtFdmVudERpc3BhdGNoZXJ9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmV2ZW50cy5vbkNvbnRyb2xzSGlkZTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIFVJSW5zdGFuY2VNYW5hZ2VyLnByb3RvdHlwZS5jbGVhckV2ZW50SGFuZGxlcnMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJXcmFwcGVyLmNsZWFyRXZlbnRIYW5kbGVycygpO1xyXG4gICAgICAgIHZhciBldmVudHMgPSB0aGlzLmV2ZW50czsgLy8gYXZvaWQgVFM3MDE3XHJcbiAgICAgICAgZm9yICh2YXIgZXZlbnRfMSBpbiBldmVudHMpIHtcclxuICAgICAgICAgICAgdmFyIGRpc3BhdGNoZXIgPSBldmVudHNbZXZlbnRfMV07XHJcbiAgICAgICAgICAgIGRpc3BhdGNoZXIudW5zdWJzY3JpYmVBbGwoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFVJSW5zdGFuY2VNYW5hZ2VyO1xyXG59KCkpO1xyXG5leHBvcnRzLlVJSW5zdGFuY2VNYW5hZ2VyID0gVUlJbnN0YW5jZU1hbmFnZXI7XHJcbi8qKlxyXG4gKiBFeHRlbmRzIHRoZSB7QGxpbmsgVUlJbnN0YW5jZU1hbmFnZXJ9IGZvciBpbnRlcm5hbCB1c2UgaW4gdGhlIHtAbGluayBVSU1hbmFnZXJ9IGFuZCBwcm92aWRlcyBhY2Nlc3MgdG8gZnVuY3Rpb25hbGl0eVxyXG4gKiB0aGF0IGNvbXBvbmVudHMgcmVjZWl2aW5nIGEgcmVmZXJlbmNlIHRvIHRoZSB7QGxpbmsgVUlJbnN0YW5jZU1hbmFnZXJ9IHNob3VsZCBub3QgaGF2ZSBhY2Nlc3MgdG8uXHJcbiAqL1xyXG52YXIgSW50ZXJuYWxVSUluc3RhbmNlTWFuYWdlciA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoSW50ZXJuYWxVSUluc3RhbmNlTWFuYWdlciwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIEludGVybmFsVUlJbnN0YW5jZU1hbmFnZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xyXG4gICAgfVxyXG4gICAgSW50ZXJuYWxVSUluc3RhbmNlTWFuYWdlci5wcm90b3R5cGUuZ2V0V3JhcHBlZFBsYXllciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyBUT0RPIGZpbmQgYSBub24taGFja3kgd2F5IHRvIHByb3ZpZGUgdGhlIFdyYXBwZWRQbGF5ZXIgdG8gdGhlIFVJTWFuYWdlciB3aXRob3V0IGV4cG9ydGluZyBpdFxyXG4gICAgICAgIC8vIGdldFBsYXllcigpIGFjdHVhbGx5IHJldHVybnMgdGhlIFdyYXBwZWRQbGF5ZXIgYnV0IGl0cyByZXR1cm4gdHlwZSBpcyBzZXQgdG8gUGxheWVyIHNvIHRoZSBXcmFwcGVkUGxheWVyIGRvZXNcclxuICAgICAgICAvLyBub3QgbmVlZCB0byBiZSBleHBvcnRlZFxyXG4gICAgICAgIHJldHVybiB0aGlzLmdldFBsYXllcigpO1xyXG4gICAgfTtcclxuICAgIEludGVybmFsVUlJbnN0YW5jZU1hbmFnZXIucHJvdG90eXBlLmNvbmZpZ3VyZUNvbnRyb2xzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuY29uZmlndXJlQ29udHJvbHNUcmVlKHRoaXMuZ2V0VUkoKSk7XHJcbiAgICAgICAgdGhpcy5jb25maWd1cmVkID0gdHJ1ZTtcclxuICAgIH07XHJcbiAgICBJbnRlcm5hbFVJSW5zdGFuY2VNYW5hZ2VyLnByb3RvdHlwZS5pc0NvbmZpZ3VyZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlndXJlZDtcclxuICAgIH07XHJcbiAgICBJbnRlcm5hbFVJSW5zdGFuY2VNYW5hZ2VyLnByb3RvdHlwZS5jb25maWd1cmVDb250cm9sc1RyZWUgPSBmdW5jdGlvbiAoY29tcG9uZW50KSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB2YXIgY29uZmlndXJlZENvbXBvbmVudHMgPSBbXTtcclxuICAgICAgICB1aXV0aWxzXzEuVUlVdGlscy50cmF2ZXJzZVRyZWUoY29tcG9uZW50LCBmdW5jdGlvbiAoY29tcG9uZW50KSB7XHJcbiAgICAgICAgICAgIC8vIEZpcnN0LCBjaGVjayBpZiB3ZSBoYXZlIGFscmVhZHkgY29uZmlndXJlZCBhIGNvbXBvbmVudCwgYW5kIHRocm93IGFuIGVycm9yIGlmIHdlIGRpZC4gTXVsdGlwbGUgY29uZmlndXJhdGlvblxyXG4gICAgICAgICAgICAvLyBvZiB0aGUgc2FtZSBjb21wb25lbnQgbGVhZHMgdG8gdW5leHBlY3RlZCBVSSBiZWhhdmlvci4gQWxzbywgYSBjb21wb25lbnQgdGhhdCBpcyBpbiB0aGUgVUkgdHJlZSBtdWx0aXBsZVxyXG4gICAgICAgICAgICAvLyB0aW1lcyBoaW50cyBhdCBhIHdyb25nIFVJIHN0cnVjdHVyZS5cclxuICAgICAgICAgICAgLy8gV2UgY291bGQganVzdCBza2lwIGNvbmZpZ3VyYXRpb24gaW4gc3VjaCBhIGNhc2UgYW5kIG5vdCB0aHJvdyBhbiBleGNlcHRpb24sIGJ1dCBlbmZvcmNpbmcgYSBjbGVhbiBVSSB0cmVlXHJcbiAgICAgICAgICAgIC8vIHNlZW1zIGxpa2UgdGhlIGJldHRlciBjaG9pY2UuXHJcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgY29uZmlndXJlZENvbXBvbmVudHNfMSA9IGNvbmZpZ3VyZWRDb21wb25lbnRzOyBfaSA8IGNvbmZpZ3VyZWRDb21wb25lbnRzXzEubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY29uZmlndXJlZENvbXBvbmVudCA9IGNvbmZpZ3VyZWRDb21wb25lbnRzXzFbX2ldO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvbmZpZ3VyZWRDb21wb25lbnQgPT09IGNvbXBvbmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFdyaXRlIHRoZSBjb21wb25lbnQgdG8gdGhlIGNvbnNvbGUgdG8gc2ltcGxpZnkgaWRlbnRpZmljYXRpb24gb2YgdGhlIGN1bHByaXRcclxuICAgICAgICAgICAgICAgICAgICAvLyAoZS5nLiBieSBpbnNwZWN0aW5nIHRoZSBjb25maWcpXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnNvbGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignQ2lyY3VsYXIgcmVmZXJlbmNlIGluIFVJIHRyZWUnLCBjb21wb25lbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvLyBBZGRpdGlvbmFsbHkgdGhyb3cgYW4gZXJyb3IsIGJlY2F1c2UgdGhpcyBjYXNlIG11c3Qgbm90IGhhcHBlbiBhbmQgbGVhZHMgdG8gdW5leHBlY3RlZCBVSSBiZWhhdmlvci5cclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcignQ2lyY3VsYXIgcmVmZXJlbmNlIGluIFVJIHRyZWU6ICcgKyBjb21wb25lbnQuY29uc3RydWN0b3IubmFtZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29tcG9uZW50LmluaXRpYWxpemUoKTtcclxuICAgICAgICAgICAgY29tcG9uZW50LmNvbmZpZ3VyZShfdGhpcy5nZXRQbGF5ZXIoKSwgX3RoaXMpO1xyXG4gICAgICAgICAgICBjb25maWd1cmVkQ29tcG9uZW50cy5wdXNoKGNvbXBvbmVudCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgSW50ZXJuYWxVSUluc3RhbmNlTWFuYWdlci5wcm90b3R5cGUucmVsZWFzZUNvbnRyb2xzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vIERvIG5vdCBjYWxsIHJlbGVhc2UgbWV0aG9kcyBpZiB0aGUgY29tcG9uZW50cyBoYXZlIG5ldmVyIGJlZW4gY29uZmlndXJlZDsgdGhpcyBjYW4gcmVzdWx0IGluIGV4Y2VwdGlvbnNcclxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVsZWFzZUNvbnRyb2xzVHJlZSh0aGlzLmdldFVJKCkpO1xyXG4gICAgICAgICAgICB0aGlzLmNvbmZpZ3VyZWQgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5yZWxlYXNlZCA9IHRydWU7XHJcbiAgICB9O1xyXG4gICAgSW50ZXJuYWxVSUluc3RhbmNlTWFuYWdlci5wcm90b3R5cGUuaXNSZWxlYXNlZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5yZWxlYXNlZDtcclxuICAgIH07XHJcbiAgICBJbnRlcm5hbFVJSW5zdGFuY2VNYW5hZ2VyLnByb3RvdHlwZS5yZWxlYXNlQ29udHJvbHNUcmVlID0gZnVuY3Rpb24gKGNvbXBvbmVudCkge1xyXG4gICAgICAgIGNvbXBvbmVudC5yZWxlYXNlKCk7XHJcbiAgICAgICAgaWYgKGNvbXBvbmVudCBpbnN0YW5jZW9mIGNvbnRhaW5lcl8xLkNvbnRhaW5lcikge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gY29tcG9uZW50LmdldENvbXBvbmVudHMoKTsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBjaGlsZENvbXBvbmVudCA9IF9hW19pXTtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVsZWFzZUNvbnRyb2xzVHJlZShjaGlsZENvbXBvbmVudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgSW50ZXJuYWxVSUluc3RhbmNlTWFuYWdlci5wcm90b3R5cGUuY2xlYXJFdmVudEhhbmRsZXJzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuY2xlYXJFdmVudEhhbmRsZXJzLmNhbGwodGhpcyk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEludGVybmFsVUlJbnN0YW5jZU1hbmFnZXI7XHJcbn0oVUlJbnN0YW5jZU1hbmFnZXIpKTtcclxuLyoqXHJcbiAqIFdyYXBzIHRoZSBwbGF5ZXIgdG8gdHJhY2sgZXZlbnQgaGFuZGxlcnMgYW5kIHByb3ZpZGUgYSBzaW1wbGUgbWV0aG9kIHRvIHJlbW92ZSBhbGwgcmVnaXN0ZXJlZCBldmVudFxyXG4gKiBoYW5kbGVycyBmcm9tIHRoZSBwbGF5ZXIuXHJcbiAqL1xyXG52YXIgUGxheWVyV3JhcHBlciA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBQbGF5ZXJXcmFwcGVyKHBsYXllcikge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5ldmVudEhhbmRsZXJzID0ge307XHJcbiAgICAgICAgdGhpcy5wbGF5ZXIgPSBwbGF5ZXI7XHJcbiAgICAgICAgLy8gQ29sbGVjdCBhbGwgbWVtYmVycyBvZiB0aGUgcGxheWVyIChwdWJsaWMgQVBJIG1ldGhvZHMgYW5kIHByb3BlcnRpZXMgb2YgdGhlIHBsYXllcilcclxuICAgICAgICAvLyAoT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMocGxheWVyKSBkb2VzIG5vdCB3b3JrIHdpdGggdGhlIHBsYXllciBUeXBlU2NyaXB0IGNsYXNzIHN0YXJ0aW5nIGluIDcuMilcclxuICAgICAgICB2YXIgbWVtYmVycyA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIG1lbWJlciBpbiBwbGF5ZXIpIHtcclxuICAgICAgICAgICAgbWVtYmVycy5wdXNoKG1lbWJlcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFNwbGl0IHRoZSBtZW1iZXJzIGludG8gbWV0aG9kcyBhbmQgcHJvcGVydGllc1xyXG4gICAgICAgIHZhciBtZXRob2RzID0gW107XHJcbiAgICAgICAgdmFyIHByb3BlcnRpZXMgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIG1lbWJlcnNfMSA9IG1lbWJlcnM7IF9pIDwgbWVtYmVyc18xLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICB2YXIgbWVtYmVyID0gbWVtYmVyc18xW19pXTtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBwbGF5ZXJbbWVtYmVyXSA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgbWV0aG9kcy5wdXNoKG1lbWJlcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLnB1c2gobWVtYmVyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBDcmVhdGUgd3JhcHBlciBvYmplY3RcclxuICAgICAgICB2YXIgd3JhcHBlciA9IHt9O1xyXG4gICAgICAgIHZhciBfbG9vcF8xID0gZnVuY3Rpb24gKG1ldGhvZCkge1xyXG4gICAgICAgICAgICB3cmFwcGVyW21ldGhvZF0gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnY2FsbGVkICcgKyBtZW1iZXIpOyAvLyB0cmFjayBtZXRob2QgY2FsbHMgb24gdGhlIHBsYXllclxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBsYXllclttZXRob2RdLmFwcGx5KHBsYXllciwgYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIC8vIEFkZCBmdW5jdGlvbiB3cmFwcGVycyBmb3IgYWxsIEFQSSBtZXRob2RzIHRoYXQgZG8gbm90aGluZyBidXQgY2FsbGluZyB0aGUgYmFzZSBtZXRob2Qgb24gdGhlIHBsYXllclxyXG4gICAgICAgIGZvciAodmFyIF9hID0gMCwgbWV0aG9kc18xID0gbWV0aG9kczsgX2EgPCBtZXRob2RzXzEubGVuZ3RoOyBfYSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBtZXRob2QgPSBtZXRob2RzXzFbX2FdO1xyXG4gICAgICAgICAgICBfbG9vcF8xKG1ldGhvZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBfbG9vcF8yID0gZnVuY3Rpb24gKHByb3BlcnR5KSB7XHJcbiAgICAgICAgICAgIC8vIEdldCBhbiBldmVudHVhbGx5IGV4aXN0aW5nIHByb3BlcnR5IGRlc2NyaXB0b3IgdG8gZGlmZmVyZW50aWF0ZSBiZXR3ZWVuIHBsYWluIHByb3BlcnRpZXMgYW5kIHByb3BlcnRpZXMgd2l0aFxyXG4gICAgICAgICAgICAvLyBnZXR0ZXJzL3NldHRlcnMuXHJcbiAgICAgICAgICAgIHZhciBwcm9wZXJ0eURlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHBsYXllciwgcHJvcGVydHkpIHx8XHJcbiAgICAgICAgICAgICAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKE9iamVjdC5nZXRQcm90b3R5cGVPZihwbGF5ZXIpLCBwcm9wZXJ0eSk7XHJcbiAgICAgICAgICAgIC8vIElmIHRoZSBwcm9wZXJ0eSBoYXMgZ2V0dGVycy9zZXR0ZXJzLCB3cmFwIHRoZW0gYWNjb3JkaW5nbHkuLi5cclxuICAgICAgICAgICAgaWYgKHByb3BlcnR5RGVzY3JpcHRvciAmJiAocHJvcGVydHlEZXNjcmlwdG9yLmdldCB8fCBwcm9wZXJ0eURlc2NyaXB0b3Iuc2V0KSkge1xyXG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHdyYXBwZXIsIHByb3BlcnR5LCB7XHJcbiAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBwcm9wZXJ0eURlc2NyaXB0b3IuZ2V0LmNhbGwocGxheWVyKTsgfSxcclxuICAgICAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gcHJvcGVydHlEZXNjcmlwdG9yLnNldC5jYWxsKHBsYXllciwgdmFsdWUpOyB9LFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB3cmFwcGVyW3Byb3BlcnR5XSA9IHBsYXllcltwcm9wZXJ0eV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIC8vIEFkZCBhbGwgcHVibGljIHByb3BlcnRpZXMgb2YgdGhlIHBsYXllciB0byB0aGUgd3JhcHBlclxyXG4gICAgICAgIGZvciAodmFyIF9iID0gMCwgcHJvcGVydGllc18xID0gcHJvcGVydGllczsgX2IgPCBwcm9wZXJ0aWVzXzEubGVuZ3RoOyBfYisrKSB7XHJcbiAgICAgICAgICAgIHZhciBwcm9wZXJ0eSA9IHByb3BlcnRpZXNfMVtfYl07XHJcbiAgICAgICAgICAgIF9sb29wXzIocHJvcGVydHkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBFeHBsaWNpdGx5IGFkZCBhIHdyYXBwZXIgbWV0aG9kIGZvciAnYWRkRXZlbnRIYW5kbGVyJyB0aGF0IGFkZHMgYWRkZWQgZXZlbnQgaGFuZGxlcnMgdG8gdGhlIGV2ZW50IGxpc3RcclxuICAgICAgICB3cmFwcGVyLmFkZEV2ZW50SGFuZGxlciA9IGZ1bmN0aW9uIChldmVudFR5cGUsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIoZXZlbnRUeXBlLCBjYWxsYmFjayk7XHJcbiAgICAgICAgICAgIGlmICghX3RoaXMuZXZlbnRIYW5kbGVyc1tldmVudFR5cGVdKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5ldmVudEhhbmRsZXJzW2V2ZW50VHlwZV0gPSBbXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBfdGhpcy5ldmVudEhhbmRsZXJzW2V2ZW50VHlwZV0ucHVzaChjYWxsYmFjayk7XHJcbiAgICAgICAgICAgIHJldHVybiB3cmFwcGVyO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgLy8gRXhwbGljaXRseSBhZGQgYSB3cmFwcGVyIG1ldGhvZCBmb3IgJ3JlbW92ZUV2ZW50SGFuZGxlcicgdGhhdCByZW1vdmVzIHJlbW92ZWQgZXZlbnQgaGFuZGxlcnMgZnJvbSB0aGUgZXZlbnQgbGlzdFxyXG4gICAgICAgIHdyYXBwZXIucmVtb3ZlRXZlbnRIYW5kbGVyID0gZnVuY3Rpb24gKGV2ZW50VHlwZSwgY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgcGxheWVyLnJlbW92ZUV2ZW50SGFuZGxlcihldmVudFR5cGUsIGNhbGxiYWNrKTtcclxuICAgICAgICAgICAgaWYgKF90aGlzLmV2ZW50SGFuZGxlcnNbZXZlbnRUeXBlXSkge1xyXG4gICAgICAgICAgICAgICAgYXJyYXl1dGlsc18xLkFycmF5VXRpbHMucmVtb3ZlKF90aGlzLmV2ZW50SGFuZGxlcnNbZXZlbnRUeXBlXSwgY2FsbGJhY2spO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB3cmFwcGVyO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgd3JhcHBlci5maXJlRXZlbnRJblVJID0gZnVuY3Rpb24gKGV2ZW50LCBkYXRhKSB7XHJcbiAgICAgICAgICAgIGlmIChfdGhpcy5ldmVudEhhbmRsZXJzW2V2ZW50XSkge1xyXG4gICAgICAgICAgICAgICAgLy8gRXh0ZW5kIHRoZSBkYXRhIG9iamVjdCB3aXRoIGRlZmF1bHQgdmFsdWVzIHRvIGNvbnZlcnQgaXQgdG8gYSB7QGxpbmsgUGxheWVyRXZlbnR9IG9iamVjdC5cclxuICAgICAgICAgICAgICAgIHZhciBwbGF5ZXJFdmVudERhdGEgPSBPYmplY3QuYXNzaWduKHt9LCB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IGV2ZW50LFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIEFkZCBhIG1hcmtlciBwcm9wZXJ0eSBzbyB0aGUgVUkgY2FuIGRldGVjdCBVSS1pbnRlcm5hbCBwbGF5ZXIgZXZlbnRzXHJcbiAgICAgICAgICAgICAgICAgICAgdWlTb3VyY2VkOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgfSwgZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAvLyBFeGVjdXRlIHRoZSByZWdpc3RlcmVkIGNhbGxiYWNrc1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IF90aGlzLmV2ZW50SGFuZGxlcnNbZXZlbnRdOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjYWxsYmFjayA9IF9hW19pXTtcclxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhwbGF5ZXJFdmVudERhdGEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLndyYXBwZXIgPSB3cmFwcGVyO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGEgd3JhcHBlZCBwbGF5ZXIgb2JqZWN0IHRoYXQgY2FuIGJlIHVzZWQgb24gcGxhY2Ugb2YgdGhlIG5vcm1hbCBwbGF5ZXIgb2JqZWN0LlxyXG4gICAgICogQHJldHVybnMge1dyYXBwZWRQbGF5ZXJ9IGEgd3JhcHBlZCBwbGF5ZXJcclxuICAgICAqL1xyXG4gICAgUGxheWVyV3JhcHBlci5wcm90b3R5cGUuZ2V0UGxheWVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLndyYXBwZXI7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBDbGVhcnMgYWxsIHJlZ2lzdGVyZWQgZXZlbnQgaGFuZGxlcnMgZnJvbSB0aGUgcGxheWVyIHRoYXQgd2VyZSBhZGRlZCB0aHJvdWdoIHRoZSB3cmFwcGVkIHBsYXllci5cclxuICAgICAqL1xyXG4gICAgUGxheWVyV3JhcHBlci5wcm90b3R5cGUuY2xlYXJFdmVudEhhbmRsZXJzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGZvciAodmFyIGV2ZW50VHlwZSBpbiB0aGlzLmV2ZW50SGFuZGxlcnMpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IHRoaXMuZXZlbnRIYW5kbGVyc1tldmVudFR5cGVdOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNhbGxiYWNrID0gX2FbX2ldO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIucmVtb3ZlRXZlbnRIYW5kbGVyKGV2ZW50VHlwZSwgY2FsbGJhY2spO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHJldHVybiBQbGF5ZXJXcmFwcGVyO1xyXG59KCkpO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL3VpbWFuYWdlci50c1xuLy8gbW9kdWxlIGlkID0gMzVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIEd1aWQ7XHJcbihmdW5jdGlvbiAoR3VpZCkge1xyXG4gICAgdmFyIGd1aWQgPSAxO1xyXG4gICAgZnVuY3Rpb24gbmV4dCgpIHtcclxuICAgICAgICByZXR1cm4gZ3VpZCsrO1xyXG4gICAgfVxyXG4gICAgR3VpZC5uZXh0ID0gbmV4dDtcclxufSkoR3VpZCA9IGV4cG9ydHMuR3VpZCB8fCAoZXhwb3J0cy5HdWlkID0ge30pKTtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9ndWlkLnRzXG4vLyBtb2R1bGUgaWQgPSAzNlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIHRvZ2dsZWJ1dHRvbl8xID0gcmVxdWlyZShcIi4vdG9nZ2xlYnV0dG9uXCIpO1xyXG4vKipcclxuICogQSBidXR0b24gdGhhdCB0b2dnbGVzIHRoZSBwbGF5ZXIgYmV0d2VlbiB3aW5kb3dlZCBhbmQgZnVsbHNjcmVlbiB2aWV3LlxyXG4gKi9cclxudmFyIEZ1bGxzY3JlZW5Ub2dnbGVCdXR0b24gPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKEZ1bGxzY3JlZW5Ub2dnbGVCdXR0b24sIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBGdWxsc2NyZWVuVG9nZ2xlQnV0dG9uKGNvbmZpZykge1xyXG4gICAgICAgIGlmIChjb25maWcgPT09IHZvaWQgMCkgeyBjb25maWcgPSB7fTsgfVxyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGNvbmZpZykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5jb25maWcgPSBfdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIHtcclxuICAgICAgICAgICAgY3NzQ2xhc3M6ICd1aS1mdWxsc2NyZWVudG9nZ2xlYnV0dG9uJyxcclxuICAgICAgICAgICAgdGV4dDogJ0Z1bGxzY3JlZW4nLFxyXG4gICAgICAgIH0sIF90aGlzLmNvbmZpZyk7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgRnVsbHNjcmVlblRvZ2dsZUJ1dHRvbi5wcm90b3R5cGUuY29uZmlndXJlID0gZnVuY3Rpb24gKHBsYXllciwgdWltYW5hZ2VyKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmNvbmZpZ3VyZS5jYWxsKHRoaXMsIHBsYXllciwgdWltYW5hZ2VyKTtcclxuICAgICAgICB2YXIgZnVsbHNjcmVlblN0YXRlSGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKHBsYXllci5pc0Z1bGxzY3JlZW4oKSkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMub24oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLm9mZigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9GVUxMU0NSRUVOX0VOVEVSLCBmdWxsc2NyZWVuU3RhdGVIYW5kbGVyKTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9GVUxMU0NSRUVOX0VYSVQsIGZ1bGxzY3JlZW5TdGF0ZUhhbmRsZXIpO1xyXG4gICAgICAgIHRoaXMub25DbGljay5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAocGxheWVyLmlzRnVsbHNjcmVlbigpKSB7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXIuZXhpdEZ1bGxzY3JlZW4oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHBsYXllci5lbnRlckZ1bGxzY3JlZW4oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIFN0YXJ0dXAgaW5pdFxyXG4gICAgICAgIGZ1bGxzY3JlZW5TdGF0ZUhhbmRsZXIoKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gRnVsbHNjcmVlblRvZ2dsZUJ1dHRvbjtcclxufSh0b2dnbGVidXR0b25fMS5Ub2dnbGVCdXR0b24pKTtcclxuZXhwb3J0cy5GdWxsc2NyZWVuVG9nZ2xlQnV0dG9uID0gRnVsbHNjcmVlblRvZ2dsZUJ1dHRvbjtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL2Z1bGxzY3JlZW50b2dnbGVidXR0b24udHNcbi8vIG1vZHVsZSBpZCA9IDM3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBkb21fMSA9IHJlcXVpcmUoXCIuL2RvbVwiKTtcclxuLyoqXHJcbiAqIFRyYWNrcyB0aGUgbG9hZGluZyBzdGF0ZSBvZiBpbWFnZXMuXHJcbiAqL1xyXG52YXIgSW1hZ2VMb2FkZXIgPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gSW1hZ2VMb2FkZXIoKSB7XHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHt9O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBMb2FkcyBhbiBpbWFnZSBhbmQgY2FsbCB0aGUgY2FsbGJhY2sgb25jZSB0aGUgaW1hZ2UgaXMgbG9hZGVkLiBJZiB0aGUgaW1hZ2UgaXMgYWxyZWFkeSBsb2FkZWQsIHRoZSBjYWxsYmFja1xyXG4gICAgICogaXMgY2FsbGVkIGltbWVkaWF0ZWx5LCBlbHNlIGl0IGlzIGNhbGxlZCBvbmNlIGxvYWRpbmcgaGFzIGZpbmlzaGVkLiBDYWxsaW5nIHRoaXMgbWV0aG9kIG11bHRpcGxlIHRpbWVzIGZvciB0aGVcclxuICAgICAqIHNhbWUgaW1hZ2Ugd2hpbGUgaXQgaXMgbG9hZGluZyBjYWxscyBvbmx5IGxldCBjYWxsYmFjayBwYXNzZWQgaW50byB0aGUgbGFzdCBjYWxsLlxyXG4gICAgICogQHBhcmFtIHVybCBUaGUgdXJsIHRvIHRoZSBpbWFnZSB0byBsb2FkXHJcbiAgICAgKiBAcGFyYW0gbG9hZGVkQ2FsbGJhY2sgVGhlIGNhbGxiYWNrIHRoYXQgaXMgY2FsbGVkIHdoZW4gdGhlIGltYWdlIGlzIGxvYWRlZFxyXG4gICAgICovXHJcbiAgICBJbWFnZUxvYWRlci5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uICh1cmwsIGxvYWRlZENhbGxiYWNrKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBpZiAoIXRoaXMuc3RhdGVbdXJsXSkge1xyXG4gICAgICAgICAgICAvLyBXaGVuIHRoZSBpbWFnZSB3YXMgbmV2ZXIgYXR0ZW1wdGVkIHRvIGJlIGxvYWRlZCBiZWZvcmUsIHdlIGNyZWF0ZSBhIHN0YXRlIGFuZCBzdG9yZSBpdCBpbiB0aGUgc3RhdGUgbWFwXHJcbiAgICAgICAgICAgIC8vIGZvciBsYXRlciB1c2Ugd2hlbiB0aGUgc2FtZSBpbWFnZSBpcyByZXF1ZXN0ZWQgdG8gYmUgbG9hZGVkIGFnYWluLlxyXG4gICAgICAgICAgICB2YXIgc3RhdGVfMSA9IHtcclxuICAgICAgICAgICAgICAgIHVybDogdXJsLFxyXG4gICAgICAgICAgICAgICAgaW1hZ2U6IG5ldyBkb21fMS5ET00oJ2ltZycsIHt9KSxcclxuICAgICAgICAgICAgICAgIGxvYWRlZENhbGxiYWNrOiBsb2FkZWRDYWxsYmFjayxcclxuICAgICAgICAgICAgICAgIGxvYWRlZDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICB3aWR0aDogMCxcclxuICAgICAgICAgICAgICAgIGhlaWdodDogMCxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdGhpcy5zdGF0ZVt1cmxdID0gc3RhdGVfMTtcclxuICAgICAgICAgICAgLy8gTGlzdGVuIHRvIHRoZSBsb2FkIGV2ZW50LCB1cGRhdGUgdGhlIHN0YXRlIGFuZCBjYWxsIHRoZSBjYWxsYmFjayBvbmNlIHRoZSBpbWFnZSBpcyBsb2FkZWRcclxuICAgICAgICAgICAgc3RhdGVfMS5pbWFnZS5vbignbG9hZCcsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZV8xLmxvYWRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZV8xLndpZHRoID0gc3RhdGVfMS5pbWFnZS5nZXQoMCkud2lkdGg7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZV8xLmhlaWdodCA9IHN0YXRlXzEuaW1hZ2UuZ2V0KDApLmhlaWdodDtcclxuICAgICAgICAgICAgICAgIF90aGlzLmNhbGxMb2FkZWRDYWxsYmFjayhzdGF0ZV8xKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIC8vIFNldCB0aGUgaW1hZ2UgVVJMIHRvIHN0YXJ0IHRoZSBsb2FkaW5nXHJcbiAgICAgICAgICAgIHN0YXRlXzEuaW1hZ2UuYXR0cignc3JjJywgc3RhdGVfMS51cmwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gV2UgaGF2ZSBhIHN0YXRlIGZvciB0aGUgcmVxdWVzdGVkIGltYWdlLCBzbyBpdCBpcyBlaXRoZXIgYWxyZWFkeSBsb2FkZWQgb3IgY3VycmVudGx5IGxvYWRpbmdcclxuICAgICAgICAgICAgdmFyIHN0YXRlID0gdGhpcy5zdGF0ZVt1cmxdO1xyXG4gICAgICAgICAgICAvLyBXZSBvdmVyd3JpdGUgdGhlIGNhbGxiYWNrIHRvIG1ha2Ugc3VyZSB0aGF0IG9ubHkgdGhlIGNhbGxiYWNrIG9mIHRoZSBsYXRlc3QgY2FsbCBnZXRzIGV4ZWN1dGVkLlxyXG4gICAgICAgICAgICAvLyBFYXJsaWVyIGNhbGxiYWNrcyBiZWNvbWUgaW52YWxpZCBvbmNlIGEgbmV3IGxvYWQgY2FsbCBhcnJpdmVzLCBhbmQgdGhleSBhcmUgbm90IGNhbGxlZCBhcyBsb25nIGFzIHRoZSBpbWFnZVxyXG4gICAgICAgICAgICAvLyBpcyBub3QgbG9hZGVkLlxyXG4gICAgICAgICAgICBzdGF0ZS5sb2FkZWRDYWxsYmFjayA9IGxvYWRlZENhbGxiYWNrO1xyXG4gICAgICAgICAgICAvLyBXaGVuIHRoZSBpbWFnZSBpcyBhbHJlYWR5IGxvYWRlZCwgd2UgZGlyZWN0bHkgZXhlY3V0ZSB0aGUgY2FsbGJhY2sgaW5zdGVhZCBvZiB3YWl0aW5nIGZvciB0aGUgbG9hZCBldmVudFxyXG4gICAgICAgICAgICBpZiAoc3RhdGUubG9hZGVkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhbGxMb2FkZWRDYWxsYmFjayhzdGF0ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgSW1hZ2VMb2FkZXIucHJvdG90eXBlLmNhbGxMb2FkZWRDYWxsYmFjayA9IGZ1bmN0aW9uIChzdGF0ZSkge1xyXG4gICAgICAgIHN0YXRlLmxvYWRlZENhbGxiYWNrKHN0YXRlLnVybCwgc3RhdGUud2lkdGgsIHN0YXRlLmhlaWdodCk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEltYWdlTG9hZGVyO1xyXG59KCkpO1xyXG5leHBvcnRzLkltYWdlTG9hZGVyID0gSW1hZ2VMb2FkZXI7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvaW1hZ2Vsb2FkZXIudHNcbi8vIG1vZHVsZSBpZCA9IDM4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgc2VsZWN0Ym94XzEgPSByZXF1aXJlKFwiLi9zZWxlY3Rib3hcIik7XHJcbi8qKlxyXG4gKiBBIHNlbGVjdCBib3ggcHJvdmlkaW5nIGEgc2VsZWN0aW9uIGJldHdlZW4gYXZhaWxhYmxlIHN1YnRpdGxlIGFuZCBjYXB0aW9uIHRyYWNrcy5cclxuICovXHJcbnZhciBTdWJ0aXRsZVNlbGVjdEJveCA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoU3VidGl0bGVTZWxlY3RCb3gsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBTdWJ0aXRsZVNlbGVjdEJveChjb25maWcpIHtcclxuICAgICAgICBpZiAoY29uZmlnID09PSB2b2lkIDApIHsgY29uZmlnID0ge307IH1cclxuICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgY29uZmlnKSB8fCB0aGlzO1xyXG4gICAgfVxyXG4gICAgU3VidGl0bGVTZWxlY3RCb3gucHJvdG90eXBlLmNvbmZpZ3VyZSA9IGZ1bmN0aW9uIChwbGF5ZXIsIHVpbWFuYWdlcikge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5jb25maWd1cmUuY2FsbCh0aGlzLCBwbGF5ZXIsIHVpbWFuYWdlcik7XHJcbiAgICAgICAgdmFyIHNlbGVjdEN1cnJlbnRTdWJ0aXRsZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGN1cnJlbnRTdWJ0aXRsZSA9IHBsYXllci5nZXRTdWJ0aXRsZSgpO1xyXG4gICAgICAgICAgICBpZiAoY3VycmVudFN1YnRpdGxlKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5zZWxlY3RJdGVtKGN1cnJlbnRTdWJ0aXRsZS5pZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciB1cGRhdGVTdWJ0aXRsZXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIF90aGlzLmNsZWFySXRlbXMoKTtcclxuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IHBsYXllci5nZXRBdmFpbGFibGVTdWJ0aXRsZXMoKTsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBzdWJ0aXRsZSA9IF9hW19pXTtcclxuICAgICAgICAgICAgICAgIF90aGlzLmFkZEl0ZW0oc3VidGl0bGUuaWQsIHN1YnRpdGxlLmxhYmVsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBTZWxlY3QgdGhlIGNvcnJlY3Qgc3VidGl0bGUgYWZ0ZXIgdGhlIHN1YnRpdGxlcyBoYXZlIGJlZW4gYWRkZWRcclxuICAgICAgICAgICAgc2VsZWN0Q3VycmVudFN1YnRpdGxlKCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLm9uSXRlbVNlbGVjdGVkLnN1YnNjcmliZShmdW5jdGlvbiAoc2VuZGVyLCB2YWx1ZSkge1xyXG4gICAgICAgICAgICBwbGF5ZXIuc2V0U3VidGl0bGUodmFsdWUgPT09ICdudWxsJyA/IG51bGwgOiB2YWx1ZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gUmVhY3QgdG8gQVBJIGV2ZW50c1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1NVQlRJVExFX0FEREVELCB1cGRhdGVTdWJ0aXRsZXMpO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1NVQlRJVExFX0NIQU5HRUQsIHNlbGVjdEN1cnJlbnRTdWJ0aXRsZSk7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fU1VCVElUTEVfUkVNT1ZFRCwgdXBkYXRlU3VidGl0bGVzKTtcclxuICAgICAgICAvLyBVcGRhdGUgc3VidGl0bGVzIHdoZW4gc291cmNlIGdvZXMgYXdheVxyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1NPVVJDRV9VTkxPQURFRCwgdXBkYXRlU3VidGl0bGVzKTtcclxuICAgICAgICAvLyBVcGRhdGUgc3VidGl0bGVzIHdoZW4gYSBuZXcgc291cmNlIGlzIGxvYWRlZFxyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1JFQURZLCB1cGRhdGVTdWJ0aXRsZXMpO1xyXG4gICAgICAgIC8vIFVwZGF0ZSBzdWJ0aXRsZXMgd2hlbiB0aGUgcGVyaW9kIHdpdGhpbiBhIHNvdXJjZSBjaGFuZ2VzXHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fUEVSSU9EX1NXSVRDSEVELCB1cGRhdGVTdWJ0aXRsZXMpO1xyXG4gICAgICAgIC8vIFBvcHVsYXRlIHN1YnRpdGxlcyBhdCBzdGFydHVwXHJcbiAgICAgICAgdXBkYXRlU3VidGl0bGVzKCk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFN1YnRpdGxlU2VsZWN0Qm94O1xyXG59KHNlbGVjdGJveF8xLlNlbGVjdEJveCkpO1xyXG5leHBvcnRzLlN1YnRpdGxlU2VsZWN0Qm94ID0gU3VidGl0bGVTZWxlY3RCb3g7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9zdWJ0aXRsZXNlbGVjdGJveC50c1xuLy8gbW9kdWxlIGlkID0gMzlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBjb250YWluZXJfMSA9IHJlcXVpcmUoXCIuL2NvbnRhaW5lclwiKTtcclxudmFyIGxhYmVsXzEgPSByZXF1aXJlKFwiLi9sYWJlbFwiKTtcclxudmFyIGNvbnRyb2xiYXJfMSA9IHJlcXVpcmUoXCIuL2NvbnRyb2xiYXJcIik7XHJcbi8qKlxyXG4gKiBPdmVybGF5cyB0aGUgcGxheWVyIHRvIGRpc3BsYXkgc3VidGl0bGVzLlxyXG4gKi9cclxudmFyIFN1YnRpdGxlT3ZlcmxheSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoU3VidGl0bGVPdmVybGF5LCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gU3VidGl0bGVPdmVybGF5KGNvbmZpZykge1xyXG4gICAgICAgIGlmIChjb25maWcgPT09IHZvaWQgMCkgeyBjb25maWcgPSB7fTsgfVxyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGNvbmZpZykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5wcmV2aWV3U3VidGl0bGVBY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICBfdGhpcy5wcmV2aWV3U3VidGl0bGUgPSBuZXcgU3VidGl0bGVMYWJlbCh7IHRleHQ6ICdleGFtcGxlIHN1YnRpdGxlJyB9KTtcclxuICAgICAgICBfdGhpcy5jb25maWcgPSBfdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIHtcclxuICAgICAgICAgICAgY3NzQ2xhc3M6ICd1aS1zdWJ0aXRsZS1vdmVybGF5JyxcclxuICAgICAgICB9LCBfdGhpcy5jb25maWcpO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIFN1YnRpdGxlT3ZlcmxheS5wcm90b3R5cGUuY29uZmlndXJlID0gZnVuY3Rpb24gKHBsYXllciwgdWltYW5hZ2VyKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmNvbmZpZ3VyZS5jYWxsKHRoaXMsIHBsYXllciwgdWltYW5hZ2VyKTtcclxuICAgICAgICB2YXIgc3VidGl0bGVNYW5hZ2VyID0gbmV3IEFjdGl2ZVN1YnRpdGxlTWFuYWdlcigpO1xyXG4gICAgICAgIHRoaXMuc3VidGl0bGVNYW5hZ2VyID0gc3VidGl0bGVNYW5hZ2VyO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX0NVRV9FTlRFUiwgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIC8vIFNhbml0aXplIGN1ZSBkYXRhIChtdXN0IGJlIGRvbmUgYmVmb3JlIHRoZSBjdWUgSUQgaXMgZ2VuZXJhdGVkIGluIHN1YnRpdGxlTWFuYWdlci5jdWVFbnRlcilcclxuICAgICAgICAgICAgaWYgKGV2ZW50LnBvc2l0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBTb21ldGltZXMgdGhlIHBvc2l0aW9ucyBhcmUgdW5kZWZpbmVkLCB3ZSBhc3N1bWUgdGhlbSB0byBiZSB6ZXJvXHJcbiAgICAgICAgICAgICAgICBldmVudC5wb3NpdGlvbi5yb3cgPSBldmVudC5wb3NpdGlvbi5yb3cgfHwgMDtcclxuICAgICAgICAgICAgICAgIGV2ZW50LnBvc2l0aW9uLmNvbHVtbiA9IGV2ZW50LnBvc2l0aW9uLmNvbHVtbiB8fCAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBsYWJlbFRvQWRkID0gc3VidGl0bGVNYW5hZ2VyLmN1ZUVudGVyKGV2ZW50KTtcclxuICAgICAgICAgICAgaWYgKF90aGlzLnByZXZpZXdTdWJ0aXRsZUFjdGl2ZSkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMucmVtb3ZlQ29tcG9uZW50KF90aGlzLnByZXZpZXdTdWJ0aXRsZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgX3RoaXMuYWRkQ29tcG9uZW50KGxhYmVsVG9BZGQpO1xyXG4gICAgICAgICAgICBfdGhpcy51cGRhdGVDb21wb25lbnRzKCk7XHJcbiAgICAgICAgICAgIF90aGlzLnNob3coKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9DVUVfRVhJVCwgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIHZhciBsYWJlbFRvUmVtb3ZlID0gc3VidGl0bGVNYW5hZ2VyLmN1ZUV4aXQoZXZlbnQpO1xyXG4gICAgICAgICAgICBpZiAobGFiZWxUb1JlbW92ZSkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMucmVtb3ZlQ29tcG9uZW50KGxhYmVsVG9SZW1vdmUpO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMudXBkYXRlQ29tcG9uZW50cygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICghc3VidGl0bGVNYW5hZ2VyLmhhc0N1ZXMpIHtcclxuICAgICAgICAgICAgICAgIGlmICghX3RoaXMucHJldmlld1N1YnRpdGxlQWN0aXZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuYWRkQ29tcG9uZW50KF90aGlzLnByZXZpZXdTdWJ0aXRsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMudXBkYXRlQ29tcG9uZW50cygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdmFyIHN1YnRpdGxlQ2xlYXJIYW5kbGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBfdGhpcy5oaWRlKCk7XHJcbiAgICAgICAgICAgIHN1YnRpdGxlTWFuYWdlci5jbGVhcigpO1xyXG4gICAgICAgICAgICBfdGhpcy5yZW1vdmVDb21wb25lbnRzKCk7XHJcbiAgICAgICAgICAgIF90aGlzLnVwZGF0ZUNvbXBvbmVudHMoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX0FVRElPX0NIQU5HRUQsIHN1YnRpdGxlQ2xlYXJIYW5kbGVyKTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9TVUJUSVRMRV9DSEFOR0VELCBzdWJ0aXRsZUNsZWFySGFuZGxlcik7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fU0VFSywgc3VidGl0bGVDbGVhckhhbmRsZXIpO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1RJTUVfU0hJRlQsIHN1YnRpdGxlQ2xlYXJIYW5kbGVyKTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9QTEFZQkFDS19GSU5JU0hFRCwgc3VidGl0bGVDbGVhckhhbmRsZXIpO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1NPVVJDRV9VTkxPQURFRCwgc3VidGl0bGVDbGVhckhhbmRsZXIpO1xyXG4gICAgICAgIHVpbWFuYWdlci5vbkNvbXBvbmVudFNob3cuc3Vic2NyaWJlKGZ1bmN0aW9uIChjb21wb25lbnQpIHtcclxuICAgICAgICAgICAgaWYgKGNvbXBvbmVudCBpbnN0YW5jZW9mIGNvbnRyb2xiYXJfMS5Db250cm9sQmFyKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5nZXREb21FbGVtZW50KCkuYWRkQ2xhc3MoX3RoaXMucHJlZml4Q3NzKFN1YnRpdGxlT3ZlcmxheS5DTEFTU19DT05UUk9MQkFSX1ZJU0lCTEUpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHVpbWFuYWdlci5vbkNvbXBvbmVudEhpZGUuc3Vic2NyaWJlKGZ1bmN0aW9uIChjb21wb25lbnQpIHtcclxuICAgICAgICAgICAgaWYgKGNvbXBvbmVudCBpbnN0YW5jZW9mIGNvbnRyb2xiYXJfMS5Db250cm9sQmFyKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5nZXREb21FbGVtZW50KCkucmVtb3ZlQ2xhc3MoX3RoaXMucHJlZml4Q3NzKFN1YnRpdGxlT3ZlcmxheS5DTEFTU19DT05UUk9MQkFSX1ZJU0lCTEUpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuY29uZmlndXJlQ2VhNjA4Q2FwdGlvbnMocGxheWVyLCB1aW1hbmFnZXIpO1xyXG4gICAgICAgIC8vIEluaXRcclxuICAgICAgICBzdWJ0aXRsZUNsZWFySGFuZGxlcigpO1xyXG4gICAgfTtcclxuICAgIFN1YnRpdGxlT3ZlcmxheS5wcm90b3R5cGUuY29uZmlndXJlQ2VhNjA4Q2FwdGlvbnMgPSBmdW5jdGlvbiAocGxheWVyLCB1aW1hbmFnZXIpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIC8vIFRoZSBjYWxjdWxhdGVkIGZvbnQgc2l6ZVxyXG4gICAgICAgIHZhciBmb250U2l6ZSA9IDA7XHJcbiAgICAgICAgLy8gVGhlIHJlcXVpcmVkIGxldHRlciBzcGFjaW5nIHNwcmVhZCB0aGUgdGV4dCBjaGFyYWN0ZXJzIGV2ZW5seSBhY3Jvc3MgdGhlIGdyaWRcclxuICAgICAgICB2YXIgZm9udExldHRlclNwYWNpbmcgPSAwO1xyXG4gICAgICAgIC8vIEZsYWcgdGVsbGluZyBpZiBhIGZvbnQgc2l6ZSBjYWxjdWxhdGlvbiBpcyByZXF1aXJlZCBvZiBpZiB0aGUgY3VycmVudCB2YWx1ZXMgYXJlIHZhbGlkXHJcbiAgICAgICAgdmFyIGZvbnRTaXplQ2FsY3VsYXRpb25SZXF1aXJlZCA9IHRydWU7XHJcbiAgICAgICAgLy8gRmxhZyB0ZWxsaW5nIGlmIHRoZSBDRUEtNjA4IG1vZGUgaXMgZW5hYmxlZFxyXG4gICAgICAgIHZhciBlbmFibGVkID0gZmFsc2U7XHJcbiAgICAgICAgdmFyIHVwZGF0ZUNFQTYwOEZvbnRTaXplID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgZHVtbXlMYWJlbCA9IG5ldyBTdWJ0aXRsZUxhYmVsKHsgdGV4dDogJ1gnIH0pO1xyXG4gICAgICAgICAgICBkdW1teUxhYmVsLmdldERvbUVsZW1lbnQoKS5jc3Moe1xyXG4gICAgICAgICAgICAgICAgLy8gQnkgdXNpbmcgYSBsYXJnZSBmb250IHNpemUgd2UgZG8gbm90IG5lZWQgdG8gdXNlIG11bHRpcGxlIGxldHRlcnMgYW5kIGNhbiBnZXQgc3RpbGwgYW5cclxuICAgICAgICAgICAgICAgIC8vIGFjY3VyYXRlIG1lYXN1cmVtZW50IGV2ZW4gdGhvdWdoIHRoZSByZXR1cm5lZCBzaXplIGlzIGFuIGludGVnZXIgdmFsdWVcclxuICAgICAgICAgICAgICAgICdmb250LXNpemUnOiAnMjAwcHgnLFxyXG4gICAgICAgICAgICAgICAgJ2xpbmUtaGVpZ2h0JzogJzIwMHB4JyxcclxuICAgICAgICAgICAgICAgICd2aXNpYmlsaXR5JzogJ2hpZGRlbicsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBfdGhpcy5hZGRDb21wb25lbnQoZHVtbXlMYWJlbCk7XHJcbiAgICAgICAgICAgIF90aGlzLnVwZGF0ZUNvbXBvbmVudHMoKTtcclxuICAgICAgICAgICAgX3RoaXMuc2hvdygpO1xyXG4gICAgICAgICAgICB2YXIgZHVtbXlMYWJlbENoYXJXaWR0aCA9IGR1bW15TGFiZWwuZ2V0RG9tRWxlbWVudCgpLndpZHRoKCk7XHJcbiAgICAgICAgICAgIHZhciBkdW1teUxhYmVsQ2hhckhlaWdodCA9IGR1bW15TGFiZWwuZ2V0RG9tRWxlbWVudCgpLmhlaWdodCgpO1xyXG4gICAgICAgICAgICB2YXIgZm9udFNpemVSYXRpbyA9IGR1bW15TGFiZWxDaGFyV2lkdGggLyBkdW1teUxhYmVsQ2hhckhlaWdodDtcclxuICAgICAgICAgICAgX3RoaXMucmVtb3ZlQ29tcG9uZW50KGR1bW15TGFiZWwpO1xyXG4gICAgICAgICAgICBfdGhpcy51cGRhdGVDb21wb25lbnRzKCk7XHJcbiAgICAgICAgICAgIGlmICghX3RoaXMuc3VidGl0bGVNYW5hZ2VyLmhhc0N1ZXMpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLmhpZGUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBUaGUgc2l6ZSByYXRpbyBvZiB0aGUgbGV0dGVyIGdyaWRcclxuICAgICAgICAgICAgdmFyIGZvbnRHcmlkU2l6ZVJhdGlvID0gKGR1bW15TGFiZWxDaGFyV2lkdGggKiBTdWJ0aXRsZU92ZXJsYXkuQ0VBNjA4X05VTV9DT0xVTU5TKSAvXHJcbiAgICAgICAgICAgICAgICAoZHVtbXlMYWJlbENoYXJIZWlnaHQgKiBTdWJ0aXRsZU92ZXJsYXkuQ0VBNjA4X05VTV9ST1dTKTtcclxuICAgICAgICAgICAgLy8gVGhlIHNpemUgcmF0aW8gb2YgdGhlIGF2YWlsYWJsZSBzcGFjZSBmb3IgdGhlIGdyaWRcclxuICAgICAgICAgICAgdmFyIHN1YnRpdGxlT3ZlcmxheVNpemVSYXRpbyA9IF90aGlzLmdldERvbUVsZW1lbnQoKS53aWR0aCgpIC8gX3RoaXMuZ2V0RG9tRWxlbWVudCgpLmhlaWdodCgpO1xyXG4gICAgICAgICAgICBpZiAoc3VidGl0bGVPdmVybGF5U2l6ZVJhdGlvID4gZm9udEdyaWRTaXplUmF0aW8pIHtcclxuICAgICAgICAgICAgICAgIC8vIFdoZW4gdGhlIGF2YWlsYWJsZSBzcGFjZSBpcyB3aWRlciB0aGFuIHRoZSB0ZXh0IGdyaWQsIHRoZSBmb250IHNpemUgaXMgc2ltcGx5XHJcbiAgICAgICAgICAgICAgICAvLyBkZXRlcm1pbmVkIGJ5IHRoZSBoZWlnaHQgb2YgdGhlIGF2YWlsYWJsZSBzcGFjZS5cclxuICAgICAgICAgICAgICAgIGZvbnRTaXplID0gX3RoaXMuZ2V0RG9tRWxlbWVudCgpLmhlaWdodCgpIC8gU3VidGl0bGVPdmVybGF5LkNFQTYwOF9OVU1fUk9XUztcclxuICAgICAgICAgICAgICAgIC8vIENhbGN1bGF0ZSB0aGUgYWRkaXRpb25hbCBsZXR0ZXIgc3BhY2luZyByZXF1aXJlZCB0byBldmVubHkgc3ByZWFkIHRoZSB0ZXh0IGFjcm9zcyB0aGUgZ3JpZCdzIHdpZHRoXHJcbiAgICAgICAgICAgICAgICB2YXIgZ3JpZFNsb3RXaWR0aCA9IF90aGlzLmdldERvbUVsZW1lbnQoKS53aWR0aCgpIC8gU3VidGl0bGVPdmVybGF5LkNFQTYwOF9OVU1fQ09MVU1OUztcclxuICAgICAgICAgICAgICAgIHZhciBmb250Q2hhcldpZHRoID0gZm9udFNpemUgKiBmb250U2l6ZVJhdGlvO1xyXG4gICAgICAgICAgICAgICAgZm9udExldHRlclNwYWNpbmcgPSBncmlkU2xvdFdpZHRoIC0gZm9udENoYXJXaWR0aDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIFdoZW4gdGhlIGF2YWlsYWJsZSBzcGFjZSBpcyBub3Qgd2lkZSBlbm91Z2gsIHRleHRzIHdvdWxkIHZlcnRpY2FsbHkgb3ZlcmxhcCBpZiB3ZSB0YWtlXHJcbiAgICAgICAgICAgICAgICAvLyB0aGUgaGVpZ2h0IGFzIGEgYmFzZSBmb3IgdGhlIGZvbnQgc2l6ZSwgc28gd2UgbmVlZCB0byBsaW1pdCB0aGUgaGVpZ2h0LiBXZSBkbyB0aGF0XHJcbiAgICAgICAgICAgICAgICAvLyBieSBkZXRlcm1pbmluZyB0aGUgZm9udCBzaXplIGJ5IHRoZSB3aWR0aCBvZiB0aGUgYXZhaWxhYmxlIHNwYWNlLlxyXG4gICAgICAgICAgICAgICAgZm9udFNpemUgPSBfdGhpcy5nZXREb21FbGVtZW50KCkud2lkdGgoKSAvIFN1YnRpdGxlT3ZlcmxheS5DRUE2MDhfTlVNX0NPTFVNTlMgLyBmb250U2l6ZVJhdGlvO1xyXG4gICAgICAgICAgICAgICAgZm9udExldHRlclNwYWNpbmcgPSAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIFVwZGF0ZSBmb250LXNpemUgb2YgYWxsIGFjdGl2ZSBzdWJ0aXRsZSBsYWJlbHNcclxuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IF90aGlzLmdldENvbXBvbmVudHMoKTsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBsYWJlbCA9IF9hW19pXTtcclxuICAgICAgICAgICAgICAgIGlmIChsYWJlbCBpbnN0YW5jZW9mIFN1YnRpdGxlTGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBsYWJlbC5nZXREb21FbGVtZW50KCkuY3NzKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ2ZvbnQtc2l6ZSc6IGZvbnRTaXplICsgXCJweFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnbGV0dGVyLXNwYWNpbmcnOiBmb250TGV0dGVyU3BhY2luZyArIFwicHhcIixcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fUExBWUVSX1JFU0laRSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoZW5hYmxlZCkge1xyXG4gICAgICAgICAgICAgICAgdXBkYXRlQ0VBNjA4Rm9udFNpemUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGZvbnRTaXplQ2FsY3VsYXRpb25SZXF1aXJlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9DVUVfRU5URVIsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICB2YXIgaXNDRUE2MDggPSBldmVudC5wb3NpdGlvbiAhPSBudWxsO1xyXG4gICAgICAgICAgICBpZiAoIWlzQ0VBNjA4KSB7XHJcbiAgICAgICAgICAgICAgICAvLyBTa2lwIGFsbCBub24tQ0VBNjA4IGN1ZXNcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgbGFiZWxzID0gX3RoaXMuc3VidGl0bGVNYW5hZ2VyLmdldEN1ZXMoZXZlbnQpO1xyXG4gICAgICAgICAgICBpZiAoIWVuYWJsZWQpIHtcclxuICAgICAgICAgICAgICAgIGVuYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuZ2V0RG9tRWxlbWVudCgpLmFkZENsYXNzKF90aGlzLnByZWZpeENzcyhTdWJ0aXRsZU92ZXJsYXkuQ0xBU1NfQ0VBXzYwOCkpO1xyXG4gICAgICAgICAgICAgICAgLy8gV2UgY29uZGl0aW9uYWxseSB1cGRhdGUgdGhlIGZvbnQgc2l6ZSBieSB0aGlzIGZsYWcgaGVyZSB0byBhdm9pZCB1cGRhdGluZyBldmVyeSB0aW1lIGEgc3VidGl0bGVcclxuICAgICAgICAgICAgICAgIC8vIGlzIGFkZGVkIGludG8gYW4gZW1wdHkgb3ZlcmxheS4gQmVjYXVzZSB3ZSByZXNldCB0aGUgb3ZlcmxheSB3aGVuIGFsbCBzdWJ0aXRsZXMgYXJlIGdvbmUsIHRoaXNcclxuICAgICAgICAgICAgICAgIC8vIHdvdWxkIHRyaWdnZXIgYW4gdW5uZWNlc3NhcnkgdXBkYXRlIGV2ZXJ5IHRpbWUsIGJ1dCBpdCdzIG9ubHkgcmVxdWlyZWQgdW5kZXIgY2VydGFpbiBjb25kaXRpb25zLFxyXG4gICAgICAgICAgICAgICAgLy8gZS5nLiBhZnRlciB0aGUgcGxheWVyIHNpemUgaGFzIGNoYW5nZWQuXHJcbiAgICAgICAgICAgICAgICBpZiAoZm9udFNpemVDYWxjdWxhdGlvblJlcXVpcmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlQ0VBNjA4Rm9udFNpemUoKTtcclxuICAgICAgICAgICAgICAgICAgICBmb250U2l6ZUNhbGN1bGF0aW9uUmVxdWlyZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIGxhYmVsc18xID0gbGFiZWxzOyBfaSA8IGxhYmVsc18xLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGxhYmVsID0gbGFiZWxzXzFbX2ldO1xyXG4gICAgICAgICAgICAgICAgbGFiZWwuZ2V0RG9tRWxlbWVudCgpLmNzcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgJ2xlZnQnOiBldmVudC5wb3NpdGlvbi5jb2x1bW4gKiBTdWJ0aXRsZU92ZXJsYXkuQ0VBNjA4X0NPTFVNTl9PRkZTRVQgKyBcIiVcIixcclxuICAgICAgICAgICAgICAgICAgICAndG9wJzogZXZlbnQucG9zaXRpb24ucm93ICogU3VidGl0bGVPdmVybGF5LkNFQTYwOF9ST1dfT0ZGU0VUICsgXCIlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgJ2ZvbnQtc2l6ZSc6IGZvbnRTaXplICsgXCJweFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICdsZXR0ZXItc3BhY2luZyc6IGZvbnRMZXR0ZXJTcGFjaW5nICsgXCJweFwiLFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB2YXIgcmVzZXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIF90aGlzLmdldERvbUVsZW1lbnQoKS5yZW1vdmVDbGFzcyhfdGhpcy5wcmVmaXhDc3MoU3VidGl0bGVPdmVybGF5LkNMQVNTX0NFQV82MDgpKTtcclxuICAgICAgICAgICAgZW5hYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fQ1VFX0VYSVQsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKCFfdGhpcy5zdWJ0aXRsZU1hbmFnZXIuaGFzQ3Vlcykge1xyXG4gICAgICAgICAgICAgICAgLy8gRGlzYWJsZSBDRUEtNjA4IG1vZGUgd2hlbiBhbGwgc3VidGl0bGVzIGFyZSBnb25lICh0byBhbGxvdyBjb3JyZWN0IGZvcm1hdHRpbmcgYW5kXHJcbiAgICAgICAgICAgICAgICAvLyBkaXNwbGF5IG9mIG90aGVyIHR5cGVzIG9mIHN1YnRpdGxlcywgZS5nLiB0aGUgZm9ybWF0dGluZyBwcmV2aWV3IHN1YnRpdGxlKVxyXG4gICAgICAgICAgICAgICAgcmVzZXQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1NPVVJDRV9VTkxPQURFRCwgcmVzZXQpO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1NVQlRJVExFX0NIQU5HRUQsIHJlc2V0KTtcclxuICAgIH07XHJcbiAgICBTdWJ0aXRsZU92ZXJsYXkucHJvdG90eXBlLmVuYWJsZVByZXZpZXdTdWJ0aXRsZUxhYmVsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMucHJldmlld1N1YnRpdGxlQWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICBpZiAoIXRoaXMuc3VidGl0bGVNYW5hZ2VyLmhhc0N1ZXMpIHtcclxuICAgICAgICAgICAgdGhpcy5hZGRDb21wb25lbnQodGhpcy5wcmV2aWV3U3VidGl0bGUpO1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUNvbXBvbmVudHMoKTtcclxuICAgICAgICAgICAgdGhpcy5zaG93KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFN1YnRpdGxlT3ZlcmxheS5wcm90b3R5cGUucmVtb3ZlUHJldmlld1N1YnRpdGxlTGFiZWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5wcmV2aWV3U3VidGl0bGVBY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnJlbW92ZUNvbXBvbmVudCh0aGlzLnByZXZpZXdTdWJ0aXRsZSk7XHJcbiAgICAgICAgdGhpcy51cGRhdGVDb21wb25lbnRzKCk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFN1YnRpdGxlT3ZlcmxheTtcclxufShjb250YWluZXJfMS5Db250YWluZXIpKTtcclxuU3VidGl0bGVPdmVybGF5LkNMQVNTX0NPTlRST0xCQVJfVklTSUJMRSA9ICdjb250cm9sYmFyLXZpc2libGUnO1xyXG5TdWJ0aXRsZU92ZXJsYXkuQ0xBU1NfQ0VBXzYwOCA9ICdjZWE2MDgnO1xyXG4vLyBUaGUgbnVtYmVyIG9mIHJvd3MgaW4gYSBjZWE2MDggZ3JpZFxyXG5TdWJ0aXRsZU92ZXJsYXkuQ0VBNjA4X05VTV9ST1dTID0gMTU7XHJcbi8vIFRoZSBudW1iZXIgb2YgY29sdW1ucyBpbiBhIGNlYTYwOCBncmlkXHJcblN1YnRpdGxlT3ZlcmxheS5DRUE2MDhfTlVNX0NPTFVNTlMgPSAzMjtcclxuLy8gVGhlIG9mZnNldCBpbiBwZXJjZW50IGZvciBvbmUgcm93ICh3aGljaCBpcyBhbHNvIHRoZSBoZWlnaHQgb2YgYSByb3cpXHJcblN1YnRpdGxlT3ZlcmxheS5DRUE2MDhfUk9XX09GRlNFVCA9IDEwMCAvIFN1YnRpdGxlT3ZlcmxheS5DRUE2MDhfTlVNX1JPV1M7XHJcbi8vIFRoZSBvZmZzZXQgaW4gcGVyY2VudCBmb3Igb25lIGNvbHVtbiAod2hpY2ggaXMgYWxzbyB0aGUgd2lkdGggb2YgYSBjb2x1bW4pXHJcblN1YnRpdGxlT3ZlcmxheS5DRUE2MDhfQ09MVU1OX09GRlNFVCA9IDEwMCAvIFN1YnRpdGxlT3ZlcmxheS5DRUE2MDhfTlVNX0NPTFVNTlM7XHJcbmV4cG9ydHMuU3VidGl0bGVPdmVybGF5ID0gU3VidGl0bGVPdmVybGF5O1xyXG52YXIgU3VidGl0bGVMYWJlbCA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoU3VidGl0bGVMYWJlbCwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIFN1YnRpdGxlTGFiZWwoY29uZmlnKSB7XHJcbiAgICAgICAgaWYgKGNvbmZpZyA9PT0gdm9pZCAwKSB7IGNvbmZpZyA9IHt9OyB9XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgY29uZmlnKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLmNvbmZpZyA9IF90aGlzLm1lcmdlQ29uZmlnKGNvbmZpZywge1xyXG4gICAgICAgICAgICBjc3NDbGFzczogJ3VpLXN1YnRpdGxlLWxhYmVsJyxcclxuICAgICAgICB9LCBfdGhpcy5jb25maWcpO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIHJldHVybiBTdWJ0aXRsZUxhYmVsO1xyXG59KGxhYmVsXzEuTGFiZWwpKTtcclxudmFyIEFjdGl2ZVN1YnRpdGxlTWFuYWdlciA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBBY3RpdmVTdWJ0aXRsZU1hbmFnZXIoKSB7XHJcbiAgICAgICAgdGhpcy5hY3RpdmVTdWJ0aXRsZUN1ZU1hcCA9IHt9O1xyXG4gICAgICAgIHRoaXMuYWN0aXZlU3VidGl0bGVDdWVDb3VudCA9IDA7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENhbGN1bGF0ZXMgYSB1bmlxdWUgSUQgZm9yIGEgc3VidGl0bGUgY3VlLCB3aGljaCBpcyBuZWVkZWQgdG8gYXNzb2NpYXRlIGFuIE9OX0NVRV9FTlRFUiB3aXRoIGl0cyBPTl9DVUVfRVhJVFxyXG4gICAgICogZXZlbnQgc28gd2UgY2FuIHJlbW92ZSB0aGUgY29ycmVjdCBzdWJ0aXRsZSBpbiBPTl9DVUVfRVhJVCB3aGVuIG11bHRpcGxlIHN1YnRpdGxlcyBhcmUgYWN0aXZlIGF0IHRoZSBzYW1lIHRpbWUuXHJcbiAgICAgKiBUaGUgc3RhcnQgdGltZSBwbHVzIHRoZSB0ZXh0IHNob3VsZCBtYWtlIGEgdW5pcXVlIGlkZW50aWZpZXIsIGFuZCBpbiB0aGUgb25seSBjYXNlIHdoZXJlIGEgY29sbGlzaW9uXHJcbiAgICAgKiBjYW4gaGFwcGVuLCB0d28gc2ltaWxhciB0ZXh0cyB3aWxsIGJlIGRpc3BsYXllZCBhdCBhIHNpbWlsYXIgdGltZSBhbmQgYSBzaW1pbGFyIHBvc2l0aW9uIChvciB3aXRob3V0IHBvc2l0aW9uKS5cclxuICAgICAqIFRoZSBzdGFydCB0aW1lIHNob3VsZCBhbHdheXMgYmUga25vd24sIGJlY2F1c2UgaXQgaXMgcmVxdWlyZWQgdG8gc2NoZWR1bGUgdGhlIE9OX0NVRV9FTlRFUiBldmVudC4gVGhlIGVuZCB0aW1lXHJcbiAgICAgKiBtdXN0IG5vdCBuZWNlc3NhcmlseSBiZSBrbm93biBhbmQgdGhlcmVmb3JlIGNhbm5vdCBiZSB1c2VkIGZvciB0aGUgSUQuXHJcbiAgICAgKiBAcGFyYW0gZXZlbnRcclxuICAgICAqIEByZXR1cm4ge3N0cmluZ31cclxuICAgICAqL1xyXG4gICAgQWN0aXZlU3VidGl0bGVNYW5hZ2VyLmNhbGN1bGF0ZUlkID0gZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgdmFyIGlkID0gZXZlbnQuc3RhcnQgKyAnLScgKyBldmVudC50ZXh0O1xyXG4gICAgICAgIGlmIChldmVudC5wb3NpdGlvbikge1xyXG4gICAgICAgICAgICBpZCArPSAnLScgKyBldmVudC5wb3NpdGlvbi5yb3cgKyAnLScgKyBldmVudC5wb3NpdGlvbi5jb2x1bW47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBpZDtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEFkZHMgYSBzdWJ0aXRsZSBjdWUgdG8gdGhlIG1hbmFnZXIgYW5kIHJldHVybnMgdGhlIGxhYmVsIHRoYXQgc2hvdWxkIGJlIGFkZGVkIHRvIHRoZSBzdWJ0aXRsZSBvdmVybGF5LlxyXG4gICAgICogQHBhcmFtIGV2ZW50XHJcbiAgICAgKiBAcmV0dXJuIHtTdWJ0aXRsZUxhYmVsfVxyXG4gICAgICovXHJcbiAgICBBY3RpdmVTdWJ0aXRsZU1hbmFnZXIucHJvdG90eXBlLmN1ZUVudGVyID0gZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgdmFyIGlkID0gQWN0aXZlU3VidGl0bGVNYW5hZ2VyLmNhbGN1bGF0ZUlkKGV2ZW50KTtcclxuICAgICAgICB2YXIgbGFiZWwgPSBuZXcgU3VidGl0bGVMYWJlbCh7XHJcbiAgICAgICAgICAgIC8vIFByZWZlciB0aGUgSFRNTCBzdWJ0aXRsZSB0ZXh0IGlmIHNldCwgZWxzZSB1c2UgdGhlIHBsYWluIHRleHRcclxuICAgICAgICAgICAgdGV4dDogZXZlbnQuaHRtbCB8fCBldmVudC50ZXh0LFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIENyZWF0ZSBhcnJheSBmb3IgaWQgaWYgaXQgZG9lcyBub3QgZXhpc3RcclxuICAgICAgICB0aGlzLmFjdGl2ZVN1YnRpdGxlQ3VlTWFwW2lkXSA9IHRoaXMuYWN0aXZlU3VidGl0bGVDdWVNYXBbaWRdIHx8IFtdO1xyXG4gICAgICAgIC8vIEFkZCBjdWVcclxuICAgICAgICB0aGlzLmFjdGl2ZVN1YnRpdGxlQ3VlTWFwW2lkXS5wdXNoKHsgZXZlbnQ6IGV2ZW50LCBsYWJlbDogbGFiZWwgfSk7XHJcbiAgICAgICAgdGhpcy5hY3RpdmVTdWJ0aXRsZUN1ZUNvdW50Kys7XHJcbiAgICAgICAgcmV0dXJuIGxhYmVsO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0aGUgbGFiZWwgYXNzb2NpYXRlZCB3aXRoIGFuIGFscmVhZHkgYWRkZWQgY3VlLlxyXG4gICAgICogQHBhcmFtIGV2ZW50XHJcbiAgICAgKiBAcmV0dXJuIHtTdWJ0aXRsZUxhYmVsfVxyXG4gICAgICovXHJcbiAgICBBY3RpdmVTdWJ0aXRsZU1hbmFnZXIucHJvdG90eXBlLmdldEN1ZXMgPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICB2YXIgaWQgPSBBY3RpdmVTdWJ0aXRsZU1hbmFnZXIuY2FsY3VsYXRlSWQoZXZlbnQpO1xyXG4gICAgICAgIHZhciBhY3RpdmVTdWJ0aXRsZUN1ZXMgPSB0aGlzLmFjdGl2ZVN1YnRpdGxlQ3VlTWFwW2lkXTtcclxuICAgICAgICBpZiAoYWN0aXZlU3VidGl0bGVDdWVzICYmIGFjdGl2ZVN1YnRpdGxlQ3Vlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBhY3RpdmVTdWJ0aXRsZUN1ZXMubWFwKGZ1bmN0aW9uIChjdWUpIHsgcmV0dXJuIGN1ZS5sYWJlbDsgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZW1vdmVzIHRoZSBzdWJ0aXRsZSBjdWUgZnJvbSB0aGUgbWFuYWdlciBhbmQgcmV0dXJucyB0aGUgbGFiZWwgdGhhdCBzaG91bGQgYmUgcmVtb3ZlZCBmcm9tIHRoZSBzdWJ0aXRsZSBvdmVybGF5LFxyXG4gICAgICogb3IgbnVsbCBpZiB0aGVyZSBpcyBubyBhc3NvY2lhdGVkIGxhYmVsIGV4aXN0aW5nIChlLmcuIGJlY2F1c2UgYWxsIGxhYmVscyBoYXZlIGJlZW4ge0BsaW5rICNjbGVhciBjbGVhcmVkfS5cclxuICAgICAqIEBwYXJhbSBldmVudFxyXG4gICAgICogQHJldHVybiB7U3VidGl0bGVMYWJlbHxudWxsfVxyXG4gICAgICovXHJcbiAgICBBY3RpdmVTdWJ0aXRsZU1hbmFnZXIucHJvdG90eXBlLmN1ZUV4aXQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICB2YXIgaWQgPSBBY3RpdmVTdWJ0aXRsZU1hbmFnZXIuY2FsY3VsYXRlSWQoZXZlbnQpO1xyXG4gICAgICAgIHZhciBhY3RpdmVTdWJ0aXRsZUN1ZXMgPSB0aGlzLmFjdGl2ZVN1YnRpdGxlQ3VlTWFwW2lkXTtcclxuICAgICAgICBpZiAoYWN0aXZlU3VidGl0bGVDdWVzICYmIGFjdGl2ZVN1YnRpdGxlQ3Vlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIC8vIFJlbW92ZSBjdWVcclxuICAgICAgICAgICAgLyogV2UgYXBwbHkgdGhlIEZJRk8gYXBwcm9hY2ggaGVyZSBhbmQgcmVtb3ZlIHRoZSBvbGRlc3QgY3VlIGZyb20gdGhlIGFzc29jaWF0ZWQgaWQuIFdoZW4gdGhlcmUgYXJlIG11bHRpcGxlIGN1ZXNcclxuICAgICAgICAgICAgICogd2l0aCB0aGUgc2FtZSBpZCwgdGhlcmUgaXMgbm8gd2F5IHRvIGtub3cgd2hpY2ggb25lIG9mIHRoZSBjdWVzIGlzIHRvIGJlIGRlbGV0ZWQsIHNvIHdlIGp1c3QgaG9wZSB0aGF0IEZJRk9cclxuICAgICAgICAgICAgICogd29ya3MgZmluZS4gVGhlb3JldGljYWxseSBpdCBjYW4gaGFwcGVuIHRoYXQgdHdvIGN1ZXMgd2l0aCBjb2xsaWRpbmcgaWRzIGFyZSByZW1vdmVkIGF0IGRpZmZlcmVudCB0aW1lcywgaW5cclxuICAgICAgICAgICAgICogdGhlIHdyb25nIG9yZGVyLiBUaGlzIHJhcmUgY2FzZSBoYXMgeWV0IHRvIGJlIG9ic2VydmVkLiBJZiBpdCBldmVyIGdldHMgYW4gaXNzdWUsIHdlIGNhbiB0YWtlIHRoZSB1bnN0YWJsZVxyXG4gICAgICAgICAgICAgKiBjdWUgZW5kIHRpbWUgKHdoaWNoIGNhbiBjaGFuZ2UgYmV0d2VlbiBPTl9DVUVfRU5URVIgYW5kIE9OX0NVRV9FWElUIElOIE9OX0NVRV9VUERBVEUpIGFuZCB1c2UgaXQgYXMgYW5cclxuICAgICAgICAgICAgICogYWRkaXRpb25hbCBoaW50IHRvIHRyeSBhbmQgcmVtb3ZlIHRoZSBjb3JyZWN0IG9uZSBvZiB0aGUgY29sbGlkaW5nIGN1ZXMuXHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICB2YXIgYWN0aXZlU3VidGl0bGVDdWUgPSBhY3RpdmVTdWJ0aXRsZUN1ZXMuc2hpZnQoKTtcclxuICAgICAgICAgICAgdGhpcy5hY3RpdmVTdWJ0aXRsZUN1ZUNvdW50LS07XHJcbiAgICAgICAgICAgIHJldHVybiBhY3RpdmVTdWJ0aXRsZUN1ZS5sYWJlbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQWN0aXZlU3VidGl0bGVNYW5hZ2VyLnByb3RvdHlwZSwgXCJjdWVDb3VudFwiLCB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogUmV0dXJucyB0aGUgbnVtYmVyIG9mIGFjdGl2ZSBzdWJ0aXRsZSBjdWVzLlxyXG4gICAgICAgICAqIEByZXR1cm4ge251bWJlcn1cclxuICAgICAgICAgKi9cclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgLy8gV2UgZXhwbGljaXRseSBjb3VudCB0aGUgY3VlcyB0byBzYXZlIGFuIEFycmF5LnJlZHVjZSBvbiBldmVyeSBjdWVDb3VudCBjYWxsICh3aGljaCBjYW4gaGFwcGVuIGZyZXF1ZW50bHkpXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmFjdGl2ZVN1YnRpdGxlQ3VlQ291bnQ7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQWN0aXZlU3VidGl0bGVNYW5hZ2VyLnByb3RvdHlwZSwgXCJoYXNDdWVzXCIsIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlcmUgYXJlIGFjdGl2ZSBzdWJ0aXRsZSBjdWVzLCBlbHNlIGZhbHNlLlxyXG4gICAgICAgICAqIEByZXR1cm4ge2Jvb2xlYW59XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmN1ZUNvdW50ID4gMDtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIC8qKlxyXG4gICAgICogUmVtb3ZlcyBhbGwgc3VidGl0bGUgY3VlcyBmcm9tIHRoZSBtYW5hZ2VyLlxyXG4gICAgICovXHJcbiAgICBBY3RpdmVTdWJ0aXRsZU1hbmFnZXIucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuYWN0aXZlU3VidGl0bGVDdWVNYXAgPSB7fTtcclxuICAgICAgICB0aGlzLmFjdGl2ZVN1YnRpdGxlQ3VlQ291bnQgPSAwO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBBY3RpdmVTdWJ0aXRsZU1hbmFnZXI7XHJcbn0oKSk7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9zdWJ0aXRsZW92ZXJsYXkudHNcbi8vIG1vZHVsZSBpZCA9IDQwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgY29tcG9uZW50XzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRcIik7XHJcbnZhciBkb21fMSA9IHJlcXVpcmUoXCIuLi9kb21cIik7XHJcbi8qKlxyXG4gKiBBbmltYXRlZCBhbmFsb2cgVFYgc3RhdGljIG5vaXNlLlxyXG4gKi9cclxudmFyIFR2Tm9pc2VDYW52YXMgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKFR2Tm9pc2VDYW52YXMsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBUdk5vaXNlQ2FudmFzKGNvbmZpZykge1xyXG4gICAgICAgIGlmIChjb25maWcgPT09IHZvaWQgMCkgeyBjb25maWcgPSB7fTsgfVxyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGNvbmZpZykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5jYW52YXNXaWR0aCA9IDE2MDtcclxuICAgICAgICBfdGhpcy5jYW52YXNIZWlnaHQgPSA5MDtcclxuICAgICAgICBfdGhpcy5pbnRlcmZlcmVuY2VIZWlnaHQgPSA1MDtcclxuICAgICAgICBfdGhpcy5sYXN0RnJhbWVVcGRhdGUgPSAwO1xyXG4gICAgICAgIF90aGlzLmZyYW1lSW50ZXJ2YWwgPSA2MDtcclxuICAgICAgICBfdGhpcy51c2VBbmltYXRpb25GcmFtZSA9ICEhd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZTtcclxuICAgICAgICBfdGhpcy5jb25maWcgPSBfdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIHtcclxuICAgICAgICAgICAgY3NzQ2xhc3M6ICd1aS10dm5vaXNlY2FudmFzJyxcclxuICAgICAgICB9LCBfdGhpcy5jb25maWcpO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIFR2Tm9pc2VDYW52YXMucHJvdG90eXBlLnRvRG9tRWxlbWVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jYW52YXMgPSBuZXcgZG9tXzEuRE9NKCdjYW52YXMnLCB7ICdjbGFzcyc6IHRoaXMuZ2V0Q3NzQ2xhc3NlcygpIH0pO1xyXG4gICAgfTtcclxuICAgIFR2Tm9pc2VDYW52YXMucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuY2FudmFzRWxlbWVudCA9IHRoaXMuY2FudmFzLmdldCgwKTtcclxuICAgICAgICB0aGlzLmNhbnZhc0NvbnRleHQgPSB0aGlzLmNhbnZhc0VsZW1lbnQuZ2V0Q29udGV4dCgnMmQnKTtcclxuICAgICAgICB0aGlzLm5vaXNlQW5pbWF0aW9uV2luZG93UG9zID0gLXRoaXMuY2FudmFzSGVpZ2h0O1xyXG4gICAgICAgIHRoaXMubGFzdEZyYW1lVXBkYXRlID0gMDtcclxuICAgICAgICB0aGlzLmNhbnZhc0VsZW1lbnQud2lkdGggPSB0aGlzLmNhbnZhc1dpZHRoO1xyXG4gICAgICAgIHRoaXMuY2FudmFzRWxlbWVudC5oZWlnaHQgPSB0aGlzLmNhbnZhc0hlaWdodDtcclxuICAgICAgICB0aGlzLnJlbmRlckZyYW1lKCk7XHJcbiAgICB9O1xyXG4gICAgVHZOb2lzZUNhbnZhcy5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodGhpcy51c2VBbmltYXRpb25GcmFtZSkge1xyXG4gICAgICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLmZyYW1lVXBkYXRlSGFuZGxlcklkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmZyYW1lVXBkYXRlSGFuZGxlcklkKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgVHZOb2lzZUNhbnZhcy5wcm90b3R5cGUucmVuZGVyRnJhbWUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8gVGhpcyBjb2RlIGhhcyBiZWVuIGNvcGllZCBmcm9tIHRoZSBwbGF5ZXIgY29udHJvbHMuanMgYW5kIHNpbXBsaWZpZWRcclxuICAgICAgICBpZiAodGhpcy5sYXN0RnJhbWVVcGRhdGUgKyB0aGlzLmZyYW1lSW50ZXJ2YWwgPiBuZXcgRGF0ZSgpLmdldFRpbWUoKSkge1xyXG4gICAgICAgICAgICAvLyBJdCdzIHRvbyBlYXJseSB0byByZW5kZXIgdGhlIG5leHQgZnJhbWVcclxuICAgICAgICAgICAgdGhpcy5zY2hlZHVsZU5leHRSZW5kZXIoKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgY3VycmVudFBpeGVsT2Zmc2V0O1xyXG4gICAgICAgIHZhciBjYW52YXNXaWR0aCA9IHRoaXMuY2FudmFzV2lkdGg7XHJcbiAgICAgICAgdmFyIGNhbnZhc0hlaWdodCA9IHRoaXMuY2FudmFzSGVpZ2h0O1xyXG4gICAgICAgIC8vIENyZWF0ZSB0ZXh0dXJlXHJcbiAgICAgICAgdmFyIG5vaXNlSW1hZ2UgPSB0aGlzLmNhbnZhc0NvbnRleHQuY3JlYXRlSW1hZ2VEYXRhKGNhbnZhc1dpZHRoLCBjYW52YXNIZWlnaHQpO1xyXG4gICAgICAgIC8vIEZpbGwgdGV4dHVyZSB3aXRoIG5vaXNlXHJcbiAgICAgICAgZm9yICh2YXIgeSA9IDA7IHkgPCBjYW52YXNIZWlnaHQ7IHkrKykge1xyXG4gICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IGNhbnZhc1dpZHRoOyB4KyspIHtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRQaXhlbE9mZnNldCA9IChjYW52YXNXaWR0aCAqIHkgKiA0KSArIHggKiA0O1xyXG4gICAgICAgICAgICAgICAgbm9pc2VJbWFnZS5kYXRhW2N1cnJlbnRQaXhlbE9mZnNldF0gPSBNYXRoLnJhbmRvbSgpICogMjU1O1xyXG4gICAgICAgICAgICAgICAgaWYgKHkgPCB0aGlzLm5vaXNlQW5pbWF0aW9uV2luZG93UG9zIHx8IHkgPiB0aGlzLm5vaXNlQW5pbWF0aW9uV2luZG93UG9zICsgdGhpcy5pbnRlcmZlcmVuY2VIZWlnaHQpIHtcclxuICAgICAgICAgICAgICAgICAgICBub2lzZUltYWdlLmRhdGFbY3VycmVudFBpeGVsT2Zmc2V0XSAqPSAwLjg1O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbm9pc2VJbWFnZS5kYXRhW2N1cnJlbnRQaXhlbE9mZnNldCArIDFdID0gbm9pc2VJbWFnZS5kYXRhW2N1cnJlbnRQaXhlbE9mZnNldF07XHJcbiAgICAgICAgICAgICAgICBub2lzZUltYWdlLmRhdGFbY3VycmVudFBpeGVsT2Zmc2V0ICsgMl0gPSBub2lzZUltYWdlLmRhdGFbY3VycmVudFBpeGVsT2Zmc2V0XTtcclxuICAgICAgICAgICAgICAgIG5vaXNlSW1hZ2UuZGF0YVtjdXJyZW50UGl4ZWxPZmZzZXQgKyAzXSA9IDUwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFB1dCB0ZXh0dXJlIG9udG8gY2FudmFzXHJcbiAgICAgICAgdGhpcy5jYW52YXNDb250ZXh0LnB1dEltYWdlRGF0YShub2lzZUltYWdlLCAwLCAwKTtcclxuICAgICAgICB0aGlzLmxhc3RGcmFtZVVwZGF0ZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xyXG4gICAgICAgIHRoaXMubm9pc2VBbmltYXRpb25XaW5kb3dQb3MgKz0gNztcclxuICAgICAgICBpZiAodGhpcy5ub2lzZUFuaW1hdGlvbldpbmRvd1BvcyA+IGNhbnZhc0hlaWdodCkge1xyXG4gICAgICAgICAgICB0aGlzLm5vaXNlQW5pbWF0aW9uV2luZG93UG9zID0gLWNhbnZhc0hlaWdodDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zY2hlZHVsZU5leHRSZW5kZXIoKTtcclxuICAgIH07XHJcbiAgICBUdk5vaXNlQ2FudmFzLnByb3RvdHlwZS5zY2hlZHVsZU5leHRSZW5kZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMudXNlQW5pbWF0aW9uRnJhbWUpIHtcclxuICAgICAgICAgICAgdGhpcy5mcmFtZVVwZGF0ZUhhbmRsZXJJZCA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5yZW5kZXJGcmFtZS5iaW5kKHRoaXMpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuZnJhbWVVcGRhdGVIYW5kbGVySWQgPSBzZXRUaW1lb3V0KHRoaXMucmVuZGVyRnJhbWUuYmluZCh0aGlzKSwgdGhpcy5mcmFtZUludGVydmFsKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFR2Tm9pc2VDYW52YXM7XHJcbn0oY29tcG9uZW50XzEuQ29tcG9uZW50KSk7XHJcbmV4cG9ydHMuVHZOb2lzZUNhbnZhcyA9IFR2Tm9pc2VDYW52YXM7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy90dm5vaXNlY2FudmFzLnRzXG4vLyBtb2R1bGUgaWQgPSA0MVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGxpc3RzZWxlY3Rvcl8xID0gcmVxdWlyZShcIi4vbGlzdHNlbGVjdG9yXCIpO1xyXG52YXIgZG9tXzEgPSByZXF1aXJlKFwiLi4vZG9tXCIpO1xyXG52YXIgSXRlbVNlbGVjdGlvbkxpc3QgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKEl0ZW1TZWxlY3Rpb25MaXN0LCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gSXRlbVNlbGVjdGlvbkxpc3QoY29uZmlnKSB7XHJcbiAgICAgICAgaWYgKGNvbmZpZyA9PT0gdm9pZCAwKSB7IGNvbmZpZyA9IHt9OyB9XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgY29uZmlnKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLmNvbmZpZyA9IF90aGlzLm1lcmdlQ29uZmlnKGNvbmZpZywge1xyXG4gICAgICAgICAgICB0YWc6ICd1bCcsXHJcbiAgICAgICAgICAgIGNzc0NsYXNzOiAndWktaXRlbXNlbGVjdGlvbmxpc3QnLFxyXG4gICAgICAgIH0sIF90aGlzLmNvbmZpZyk7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgSXRlbVNlbGVjdGlvbkxpc3QucHJvdG90eXBlLmlzQWN0aXZlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLml0ZW1zLmxlbmd0aCA+IDE7XHJcbiAgICB9O1xyXG4gICAgSXRlbVNlbGVjdGlvbkxpc3QucHJvdG90eXBlLnRvRG9tRWxlbWVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgbGlzdEVsZW1lbnQgPSBuZXcgZG9tXzEuRE9NKCd1bCcsIHtcclxuICAgICAgICAgICAgJ2lkJzogdGhpcy5jb25maWcuaWQsXHJcbiAgICAgICAgICAgICdjbGFzcyc6IHRoaXMuZ2V0Q3NzQ2xhc3NlcygpLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMubGlzdEVsZW1lbnQgPSBsaXN0RWxlbWVudDtcclxuICAgICAgICB0aGlzLnVwZGF0ZURvbUl0ZW1zKCk7XHJcbiAgICAgICAgcmV0dXJuIGxpc3RFbGVtZW50O1xyXG4gICAgfTtcclxuICAgIEl0ZW1TZWxlY3Rpb25MaXN0LnByb3RvdHlwZS51cGRhdGVEb21JdGVtcyA9IGZ1bmN0aW9uIChzZWxlY3RlZFZhbHVlKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBpZiAoc2VsZWN0ZWRWYWx1ZSA9PT0gdm9pZCAwKSB7IHNlbGVjdGVkVmFsdWUgPSBudWxsOyB9XHJcbiAgICAgICAgLy8gRGVsZXRlIGFsbCBjaGlsZHJlblxyXG4gICAgICAgIHRoaXMubGlzdEVsZW1lbnQuZW1wdHkoKTtcclxuICAgICAgICB2YXIgc2VsZWN0ZWRMaXN0SXRlbSA9IG51bGw7XHJcbiAgICAgICAgdmFyIHNlbGVjdEl0ZW0gPSBmdW5jdGlvbiAobGlzdEl0ZW0pIHtcclxuICAgICAgICAgICAgbGlzdEl0ZW0uYWRkQ2xhc3MoX3RoaXMucHJlZml4Q3NzKEl0ZW1TZWxlY3Rpb25MaXN0LkNMQVNTX1NFTEVDVEVEKSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB2YXIgZGVzZWxlY3RJdGVtID0gZnVuY3Rpb24gKGxpc3RJdGVtKSB7XHJcbiAgICAgICAgICAgIGxpc3RJdGVtLnJlbW92ZUNsYXNzKF90aGlzLnByZWZpeENzcyhJdGVtU2VsZWN0aW9uTGlzdC5DTEFTU19TRUxFQ1RFRCkpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdmFyIF9sb29wXzEgPSBmdW5jdGlvbiAoaXRlbSkge1xyXG4gICAgICAgICAgICB2YXIgbGlzdEl0ZW0gPSBuZXcgZG9tXzEuRE9NKCdsaScsIHtcclxuICAgICAgICAgICAgICAgICd0eXBlJzogJ2xpJyxcclxuICAgICAgICAgICAgICAgICdjbGFzcyc6IHRoaXNfMS5wcmVmaXhDc3MoJ3VpLXNlbGVjdGlvbmxpc3RpdGVtJyksXHJcbiAgICAgICAgICAgIH0pLmFwcGVuZChuZXcgZG9tXzEuRE9NKCdhJywge30pLmh0bWwoaXRlbS5sYWJlbCkpO1xyXG4gICAgICAgICAgICBpZiAoIXNlbGVjdGVkTGlzdEl0ZW0pIHtcclxuICAgICAgICAgICAgICAgIGlmIChzZWxlY3RlZFZhbHVlID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZExpc3RJdGVtID0gbGlzdEl0ZW07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChTdHJpbmcoc2VsZWN0ZWRWYWx1ZSkgPT09IGl0ZW0ua2V5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRMaXN0SXRlbSA9IGxpc3RJdGVtO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIEhhbmRsZSBsaXN0IGl0ZW0gc2VsZWN0aW9uc1xyXG4gICAgICAgICAgICBsaXN0SXRlbS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBEZXNlbGVjdCB0aGUgcHJldmlvdXMgaXRlbSAoaWYgdGhlcmUgd2FzIGEgc2VsZWN0ZWQgaXRlbSlcclxuICAgICAgICAgICAgICAgIGlmIChzZWxlY3RlZExpc3RJdGVtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVzZWxlY3RJdGVtKHNlbGVjdGVkTGlzdEl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gU2VsZWN0IHRoZSBjbGlja2VkIGl0ZW1cclxuICAgICAgICAgICAgICAgIHNlbGVjdGVkTGlzdEl0ZW0gPSBsaXN0SXRlbTtcclxuICAgICAgICAgICAgICAgIHNlbGVjdEl0ZW0obGlzdEl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgLy8gRmlyZSB0aGUgZXZlbnRcclxuICAgICAgICAgICAgICAgIF90aGlzLm9uSXRlbVNlbGVjdGVkRXZlbnQoaXRlbS5rZXksIGZhbHNlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIC8vIFNlbGVjdCBkZWZhdWx0IGl0ZW1cclxuICAgICAgICAgICAgaWYgKHNlbGVjdGVkTGlzdEl0ZW0pIHtcclxuICAgICAgICAgICAgICAgIHNlbGVjdEl0ZW0oc2VsZWN0ZWRMaXN0SXRlbSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpc18xLmxpc3RFbGVtZW50LmFwcGVuZChsaXN0SXRlbSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB2YXIgdGhpc18xID0gdGhpcztcclxuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gdGhpcy5pdGVtczsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgdmFyIGl0ZW0gPSBfYVtfaV07XHJcbiAgICAgICAgICAgIF9sb29wXzEoaXRlbSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIEl0ZW1TZWxlY3Rpb25MaXN0LnByb3RvdHlwZS5vbkl0ZW1BZGRlZEV2ZW50ID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5vbkl0ZW1BZGRlZEV2ZW50LmNhbGwodGhpcywgdmFsdWUpO1xyXG4gICAgICAgIHRoaXMudXBkYXRlRG9tSXRlbXModGhpcy5zZWxlY3RlZEl0ZW0pO1xyXG4gICAgfTtcclxuICAgIEl0ZW1TZWxlY3Rpb25MaXN0LnByb3RvdHlwZS5vbkl0ZW1SZW1vdmVkRXZlbnQgPSBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLm9uSXRlbVJlbW92ZWRFdmVudC5jYWxsKHRoaXMsIHZhbHVlKTtcclxuICAgICAgICB0aGlzLnVwZGF0ZURvbUl0ZW1zKHRoaXMuc2VsZWN0ZWRJdGVtKTtcclxuICAgIH07XHJcbiAgICBJdGVtU2VsZWN0aW9uTGlzdC5wcm90b3R5cGUub25JdGVtU2VsZWN0ZWRFdmVudCA9IGZ1bmN0aW9uICh2YWx1ZSwgdXBkYXRlRG9tSXRlbXMpIHtcclxuICAgICAgICBpZiAodXBkYXRlRG9tSXRlbXMgPT09IHZvaWQgMCkgeyB1cGRhdGVEb21JdGVtcyA9IHRydWU7IH1cclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLm9uSXRlbVNlbGVjdGVkRXZlbnQuY2FsbCh0aGlzLCB2YWx1ZSk7XHJcbiAgICAgICAgaWYgKHVwZGF0ZURvbUl0ZW1zKSB7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlRG9tSXRlbXModmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICByZXR1cm4gSXRlbVNlbGVjdGlvbkxpc3Q7XHJcbn0obGlzdHNlbGVjdG9yXzEuTGlzdFNlbGVjdG9yKSk7XHJcbkl0ZW1TZWxlY3Rpb25MaXN0LkNMQVNTX1NFTEVDVEVEID0gJ3NlbGVjdGVkJztcclxuZXhwb3J0cy5JdGVtU2VsZWN0aW9uTGlzdCA9IEl0ZW1TZWxlY3Rpb25MaXN0O1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvaXRlbXNlbGVjdGlvbmxpc3QudHNcbi8vIG1vZHVsZSBpZCA9IDQyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgYnV0dG9uXzEgPSByZXF1aXJlKFwiLi9idXR0b25cIik7XHJcbi8qKlxyXG4gKiBBIGNsaWNrIG92ZXJsYXkgdGhhdCBvcGVucyBhbiB1cmwgaW4gYSBuZXcgdGFiIGlmIGNsaWNrZWQuXHJcbiAqL1xyXG52YXIgQ2xpY2tPdmVybGF5ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhDbGlja092ZXJsYXksIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBDbGlja092ZXJsYXkoY29uZmlnKSB7XHJcbiAgICAgICAgaWYgKGNvbmZpZyA9PT0gdm9pZCAwKSB7IGNvbmZpZyA9IHt9OyB9XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgY29uZmlnKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLmNvbmZpZyA9IF90aGlzLm1lcmdlQ29uZmlnKGNvbmZpZywge1xyXG4gICAgICAgICAgICBjc3NDbGFzczogJ3VpLWNsaWNrb3ZlcmxheScsXHJcbiAgICAgICAgfSwgX3RoaXMuY29uZmlnKTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBDbGlja092ZXJsYXkucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5pbml0aWFsaXplLmNhbGwodGhpcyk7XHJcbiAgICAgICAgdGhpcy5zZXRVcmwodGhpcy5jb25maWcudXJsKTtcclxuICAgICAgICB2YXIgZWxlbWVudCA9IHRoaXMuZ2V0RG9tRWxlbWVudCgpO1xyXG4gICAgICAgIGVsZW1lbnQub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoZWxlbWVudC5kYXRhKCd1cmwnKSkge1xyXG4gICAgICAgICAgICAgICAgd2luZG93Lm9wZW4oZWxlbWVudC5kYXRhKCd1cmwnKSwgJ19ibGFuaycpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIHRoZSBVUkwgdGhhdCBzaG91bGQgYmUgZm9sbG93ZWQgd2hlbiB0aGUgd2F0ZXJtYXJrIGlzIGNsaWNrZWQuXHJcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSB0aGUgd2F0ZXJtYXJrIFVSTFxyXG4gICAgICovXHJcbiAgICBDbGlja092ZXJsYXkucHJvdG90eXBlLmdldFVybCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXREb21FbGVtZW50KCkuZGF0YSgndXJsJyk7XHJcbiAgICB9O1xyXG4gICAgQ2xpY2tPdmVybGF5LnByb3RvdHlwZS5zZXRVcmwgPSBmdW5jdGlvbiAodXJsKSB7XHJcbiAgICAgICAgaWYgKHVybCA9PT0gdW5kZWZpbmVkIHx8IHVybCA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHVybCA9ICcnO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmdldERvbUVsZW1lbnQoKS5kYXRhKCd1cmwnLCB1cmwpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBDbGlja092ZXJsYXk7XHJcbn0oYnV0dG9uXzEuQnV0dG9uKSk7XHJcbmV4cG9ydHMuQ2xpY2tPdmVybGF5ID0gQ2xpY2tPdmVybGF5O1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvY2xpY2tvdmVybGF5LnRzXG4vLyBtb2R1bGUgaWQgPSA0M1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGJ1dHRvbl8xID0gcmVxdWlyZShcIi4vYnV0dG9uXCIpO1xyXG52YXIgZG9tXzEgPSByZXF1aXJlKFwiLi4vZG9tXCIpO1xyXG4vKipcclxuICogQSBidXR0b24gdG8gcGxheS9yZXBsYXkgYSB2aWRlby5cclxuICovXHJcbnZhciBIdWdlUmVwbGF5QnV0dG9uID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhIdWdlUmVwbGF5QnV0dG9uLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gSHVnZVJlcGxheUJ1dHRvbihjb25maWcpIHtcclxuICAgICAgICBpZiAoY29uZmlnID09PSB2b2lkIDApIHsgY29uZmlnID0ge307IH1cclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBjb25maWcpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMuY29uZmlnID0gX3RoaXMubWVyZ2VDb25maWcoY29uZmlnLCB7XHJcbiAgICAgICAgICAgIGNzc0NsYXNzOiAndWktaHVnZXJlcGxheWJ1dHRvbicsXHJcbiAgICAgICAgICAgIHRleHQ6ICdSZXBsYXknLFxyXG4gICAgICAgIH0sIF90aGlzLmNvbmZpZyk7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgSHVnZVJlcGxheUJ1dHRvbi5wcm90b3R5cGUuY29uZmlndXJlID0gZnVuY3Rpb24gKHBsYXllciwgdWltYW5hZ2VyKSB7XHJcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5jb25maWd1cmUuY2FsbCh0aGlzLCBwbGF5ZXIsIHVpbWFuYWdlcik7XHJcbiAgICAgICAgdGhpcy5vbkNsaWNrLnN1YnNjcmliZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHBsYXllci5wbGF5KCd1aScpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIEh1Z2VSZXBsYXlCdXR0b24ucHJvdG90eXBlLnRvRG9tRWxlbWVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgYnV0dG9uRWxlbWVudCA9IF9zdXBlci5wcm90b3R5cGUudG9Eb21FbGVtZW50LmNhbGwodGhpcyk7XHJcbiAgICAgICAgLy8gQWRkIGNoaWxkIHRoYXQgY29udGFpbnMgdGhlIHBsYXkgYnV0dG9uIGltYWdlXHJcbiAgICAgICAgLy8gU2V0dGluZyB0aGUgaW1hZ2UgZGlyZWN0bHkgb24gdGhlIGJ1dHRvbiBkb2VzIG5vdCB3b3JrIHRvZ2V0aGVyIHdpdGggc2NhbGluZyBhbmltYXRpb25zLCBiZWNhdXNlIHRoZSBidXR0b25cclxuICAgICAgICAvLyBjYW4gY292ZXIgdGhlIHdob2xlIHZpZGVvIHBsYXllciBhcmUgYW5kIHNjYWxpbmcgd291bGQgZXh0ZW5kIGl0IGJleW9uZC4gQnkgYWRkaW5nIGFuIGlubmVyIGVsZW1lbnQsIGNvbmZpbmVkXHJcbiAgICAgICAgLy8gdG8gdGhlIHNpemUgaWYgdGhlIGltYWdlLCBpdCBjYW4gc2NhbGUgaW5zaWRlIHRoZSBwbGF5ZXIgd2l0aG91dCBvdmVyc2hvb3RpbmcuXHJcbiAgICAgICAgYnV0dG9uRWxlbWVudC5hcHBlbmQobmV3IGRvbV8xLkRPTSgnZGl2Jywge1xyXG4gICAgICAgICAgICAnY2xhc3MnOiB0aGlzLnByZWZpeENzcygnaW1hZ2UnKSxcclxuICAgICAgICB9KSk7XHJcbiAgICAgICAgcmV0dXJuIGJ1dHRvbkVsZW1lbnQ7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEh1Z2VSZXBsYXlCdXR0b247XHJcbn0oYnV0dG9uXzEuQnV0dG9uKSk7XHJcbmV4cG9ydHMuSHVnZVJlcGxheUJ1dHRvbiA9IEh1Z2VSZXBsYXlCdXR0b247XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9odWdlcmVwbGF5YnV0dG9uLnRzXG4vLyBtb2R1bGUgaWQgPSA0NFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGJ1dHRvbl8xID0gcmVxdWlyZShcIi4vYnV0dG9uXCIpO1xyXG4vKipcclxuICogQSBidXR0b24gdGhhdCBjbG9zZXMgKGhpZGVzKSBhIGNvbmZpZ3VyZWQgY29tcG9uZW50LlxyXG4gKi9cclxudmFyIENsb3NlQnV0dG9uID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhDbG9zZUJ1dHRvbiwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIENsb3NlQnV0dG9uKGNvbmZpZykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGNvbmZpZykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5jb25maWcgPSBfdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIHtcclxuICAgICAgICAgICAgY3NzQ2xhc3M6ICd1aS1jbG9zZWJ1dHRvbicsXHJcbiAgICAgICAgICAgIHRleHQ6ICdDbG9zZScsXHJcbiAgICAgICAgfSwgX3RoaXMuY29uZmlnKTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBDbG9zZUJ1dHRvbi5wcm90b3R5cGUuY29uZmlndXJlID0gZnVuY3Rpb24gKHBsYXllciwgdWltYW5hZ2VyKSB7XHJcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5jb25maWd1cmUuY2FsbCh0aGlzLCBwbGF5ZXIsIHVpbWFuYWdlcik7XHJcbiAgICAgICAgdmFyIGNvbmZpZyA9IHRoaXMuZ2V0Q29uZmlnKCk7XHJcbiAgICAgICAgdGhpcy5vbkNsaWNrLnN1YnNjcmliZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNvbmZpZy50YXJnZXQuaGlkZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBDbG9zZUJ1dHRvbjtcclxufShidXR0b25fMS5CdXR0b24pKTtcclxuZXhwb3J0cy5DbG9zZUJ1dHRvbiA9IENsb3NlQnV0dG9uO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvY2xvc2VidXR0b24udHNcbi8vIG1vZHVsZSBpZCA9IDQ1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBTdG9yYWdlVXRpbHM7XHJcbihmdW5jdGlvbiAoU3RvcmFnZVV0aWxzKSB7XHJcbiAgICB2YXIgaGFzTG9jYWxTdG9yYWdlQ2FjaGU7XHJcbiAgICBmdW5jdGlvbiBoYXNMb2NhbFN0b3JhZ2UoKSB7XHJcbiAgICAgICAgaWYgKGhhc0xvY2FsU3RvcmFnZUNhY2hlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBoYXNMb2NhbFN0b3JhZ2VDYWNoZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gaGFzTG9jYWxTdG9yYWdlIGlzIHVzZWQgdG8gc2FmZWx5IGVuc3VyZSB3ZSBjYW4gdXNlIGxvY2FsU3RvcmFnZVxyXG4gICAgICAgIC8vIHRha2VuIGZyb20gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1dlYl9TdG9yYWdlX0FQSS9Vc2luZ190aGVfV2ViX1N0b3JhZ2VfQVBJI0ZlYXR1cmUtZGV0ZWN0aW5nX2xvY2FsU3RvcmFnZVxyXG4gICAgICAgIHZhciBzdG9yYWdlID0gd2luZG93Wydsb2NhbFN0b3JhZ2UnXTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB2YXIgeCA9ICdfX3N0b3JhZ2VfdGVzdF9fJztcclxuICAgICAgICAgICAgc3RvcmFnZS5zZXRJdGVtKHgsIHgpO1xyXG4gICAgICAgICAgICBzdG9yYWdlLnJlbW92ZUl0ZW0oeCk7XHJcbiAgICAgICAgICAgIGhhc0xvY2FsU3RvcmFnZUNhY2hlID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgaGFzTG9jYWxTdG9yYWdlQ2FjaGUgPSBlIGluc3RhbmNlb2YgRE9NRXhjZXB0aW9uICYmIChcclxuICAgICAgICAgICAgLy8gZXZlcnl0aGluZyBleGNlcHQgRmlyZWZveFxyXG4gICAgICAgICAgICBlLmNvZGUgPT09IDIyIHx8XHJcbiAgICAgICAgICAgICAgICAvLyBGaXJlZm94XHJcbiAgICAgICAgICAgICAgICBlLmNvZGUgPT09IDEwMTQgfHxcclxuICAgICAgICAgICAgICAgIC8vIHRlc3QgbmFtZSBmaWVsZCB0b28sIGJlY2F1c2UgY29kZSBtaWdodCBub3QgYmUgcHJlc2VudFxyXG4gICAgICAgICAgICAgICAgLy8gZXZlcnl0aGluZyBleGNlcHQgRmlyZWZveFxyXG4gICAgICAgICAgICAgICAgZS5uYW1lID09PSAnUXVvdGFFeGNlZWRlZEVycm9yJyB8fFxyXG4gICAgICAgICAgICAgICAgLy8gRmlyZWZveFxyXG4gICAgICAgICAgICAgICAgZS5uYW1lID09PSAnTlNfRVJST1JfRE9NX1FVT1RBX1JFQUNIRUQnKSAmJlxyXG4gICAgICAgICAgICAgICAgLy8gYWNrbm93bGVkZ2UgUXVvdGFFeGNlZWRlZEVycm9yIG9ubHkgaWYgdGhlcmUncyBzb21ldGhpbmcgYWxyZWFkeSBzdG9yZWRcclxuICAgICAgICAgICAgICAgIHN0b3JhZ2UubGVuZ3RoICE9PSAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gaGFzTG9jYWxTdG9yYWdlQ2FjaGU7XHJcbiAgICB9XHJcbiAgICBTdG9yYWdlVXRpbHMuaGFzTG9jYWxTdG9yYWdlID0gaGFzTG9jYWxTdG9yYWdlO1xyXG4gICAgLyoqXHJcbiAgICAgKiBTdG9yZXMgYSBzdHJpbmcgaXRlbSBpbnRvIGxvY2FsU3RvcmFnZS5cclxuICAgICAqIEBwYXJhbSBrZXkgdGhlIGl0ZW0ncyBrZXlcclxuICAgICAqIEBwYXJhbSBkYXRhIHRoZSBpdGVtJ3MgZGF0YVxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBzZXRJdGVtKGtleSwgZGF0YSkge1xyXG4gICAgICAgIGlmIChTdG9yYWdlVXRpbHMuaGFzTG9jYWxTdG9yYWdlKCkpIHtcclxuICAgICAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKGtleSwgZGF0YSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgU3RvcmFnZVV0aWxzLnNldEl0ZW0gPSBzZXRJdGVtO1xyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIGFuIGl0ZW0ncyBzdHJpbmcgdmFsdWUgZnJvbSB0aGUgbG9jYWxTdG9yYWdlLlxyXG4gICAgICogQHBhcmFtIGtleSB0aGUga2V5IHRvIGxvb2sgdXAgaXRzIGFzc29jaWF0ZWQgdmFsdWVcclxuICAgICAqIEByZXR1cm4ge3N0cmluZyB8IG51bGx9IFJldHVybnMgdGhlIHN0cmluZyBpZiBmb3VuZCwgbnVsbCBpZiB0aGVyZSBpcyBubyBkYXRhIHN0b3JlZCBmb3IgdGhlIGtleVxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBnZXRJdGVtKGtleSkge1xyXG4gICAgICAgIGlmIChTdG9yYWdlVXRpbHMuaGFzTG9jYWxTdG9yYWdlKCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgU3RvcmFnZVV0aWxzLmdldEl0ZW0gPSBnZXRJdGVtO1xyXG4gICAgLyoqXHJcbiAgICAgKiBTdG9yZXMgYW4gb2JqZWN0IGludG8gbG9jYWxTdG9yYWdlLiBUaGUgb2JqZWN0IHdpbGwgYmUgc2VyaWFsaXplZCB0byBKU09OLiBUaGUgZm9sbG93aW5nIHR5cGVzIGFyZSBzdXBwb3J0ZWRcclxuICAgICAqIGluIGFkZGl0aW9uIHRvIHRoZSBkZWZhdWx0IHR5cGVzOlxyXG4gICAgICogIC0gQ29sb3JVdGlscy5Db2xvclxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBrZXkgdGhlIGtleSB0byBzdG9yZSB0aGUgZGF0YSB0b1xyXG4gICAgICogQHBhcmFtIGRhdGEgdGhlIG9iamVjdCB0byBzdG9yZVxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBzZXRPYmplY3Qoa2V5LCBkYXRhKSB7XHJcbiAgICAgICAgaWYgKFN0b3JhZ2VVdGlscy5oYXNMb2NhbFN0b3JhZ2UoKSkge1xyXG4gICAgICAgICAgICB2YXIganNvbiA9IEpTT04uc3RyaW5naWZ5KGRhdGEpO1xyXG4gICAgICAgICAgICBzZXRJdGVtKGtleSwganNvbik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgU3RvcmFnZVV0aWxzLnNldE9iamVjdCA9IHNldE9iamVjdDtcclxuICAgIC8qKlxyXG4gICAgICogR2V0cyBhbiBvYmplY3QgZm9yIHRoZSBnaXZlbiBrZXkgZnJvbSBsb2NhbFN0b3JhZ2UuIFRoZSBvYmplY3Qgd2lsbCBiZSBkZXNlcmlhbGl6ZWQgZnJvbSBKU09OLiBCZXNpZGUgdGhlXHJcbiAgICAgKiBkZWZhdWx0IHR5cGVzLCB0aGUgZm9sbG93aW5nIHR5cGVzIGFyZSBzdXBwb3J0ZWQ6XHJcbiAgICAgKiAgLSBDb2xvclV0aWxzLkNvbG9yXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGtleSB0aGUga2V5IHRvIGxvb2sgdXAgaXRzIGFzc29jaWF0ZWQgb2JqZWN0XHJcbiAgICAgKiBAcmV0dXJuIHthbnl9IFJldHVybnMgdGhlIG9iamVjdCBpZiBmb3VuZCwgbnVsbCBvdGhlcndpc2VcclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gZ2V0T2JqZWN0KGtleSkge1xyXG4gICAgICAgIGlmIChTdG9yYWdlVXRpbHMuaGFzTG9jYWxTdG9yYWdlKCkpIHtcclxuICAgICAgICAgICAgdmFyIGpzb24gPSBnZXRJdGVtKGtleSk7XHJcbiAgICAgICAgICAgIGlmIChrZXkpIHtcclxuICAgICAgICAgICAgICAgIHZhciBvYmplY3QgPSBKU09OLnBhcnNlKGpzb24pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG9iamVjdDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICAgIFN0b3JhZ2VVdGlscy5nZXRPYmplY3QgPSBnZXRPYmplY3Q7XHJcbn0pKFN0b3JhZ2VVdGlscyA9IGV4cG9ydHMuU3RvcmFnZVV0aWxzIHx8IChleHBvcnRzLlN0b3JhZ2VVdGlscyA9IHt9KSk7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvc3RvcmFnZXV0aWxzLnRzXG4vLyBtb2R1bGUgaWQgPSA0NlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKiEgSGl2ZSBTdGF0cyBQYWNrIGJ1aWxkIDMuMi4wIENvcHlyaWdodChjKSAyMDE1IEhpdmVTdHJlYW1pbmcgQUIsIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBBdXRob3JzOiBtaWthZWwuaG9ncXZpc3RAaGl2ZXN0cmVhbWluZy5jb20gLSByaWNjYXJkby5yZWFsZUBoaXZlc3RyZWFtaW5nLmNvbSAtIHJvYmVydG8ucm92ZXJzb0BoaXZlc3RyZWFtaW5nLmNvbSAqL1xuLyohIEF0YXR1c0pzIC0gdjIuMy4xMiAtIDIwMTYtMDctMDNcbiAqIENvcHlyaWdodCAoYykgMjAxNiBBdGF0dXMgKi9cbiFmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEsYil7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhLGIpfWZ1bmN0aW9uIGMoYSl7cmV0dXJuXCJ1bmRlZmluZWRcIj09dHlwZW9mIGF9aWYoYSl7dmFyIGQ9e30sZT1hLlRyYWNlS2l0LGY9W10uc2xpY2UsZz1cIj9cIjtkLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gYS5UcmFjZUtpdD1lLGR9LGQud3JhcD1mdW5jdGlvbihhKXtmdW5jdGlvbiBiKCl7dHJ5e3JldHVybiBhLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1jYXRjaChiKXt0aHJvdyBkLnJlcG9ydChiKSxifX1yZXR1cm4gYn0sZC5yZXBvcnQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBjKGEpe2koKSxtLnB1c2goYSl9ZnVuY3Rpb24gZShhKXtmb3IodmFyIGI9bS5sZW5ndGgtMTtiPj0wOy0tYiltW2JdPT09YSYmbS5zcGxpY2UoYiwxKX1mdW5jdGlvbiBnKGEsYyl7dmFyIGU9bnVsbDtpZighY3x8ZC5jb2xsZWN0V2luZG93RXJyb3JzKXtmb3IodmFyIGcgaW4gbSlpZihiKG0sZykpdHJ5e21bZ10uYXBwbHkobnVsbCxbYV0uY29uY2F0KGYuY2FsbChhcmd1bWVudHMsMikpKX1jYXRjaChoKXtlPWh9aWYoZSl0aHJvdyBlfX1mdW5jdGlvbiBoKGEsYixjLGUsZil7dmFyIGg9bnVsbDtpZihmKWg9ZC5jb21wdXRlU3RhY2tUcmFjZShmKTtlbHNlIGlmKG8pZC5jb21wdXRlU3RhY2tUcmFjZS5hdWdtZW50U3RhY2tUcmFjZVdpdGhJbml0aWFsRWxlbWVudChvLGIsYyxhKSxoPW8sbz1udWxsLG49bnVsbDtlbHNle3ZhciBpPXt1cmw6YixsaW5lOmMsY29sdW1uOmV9O2kuZnVuYz1kLmNvbXB1dGVTdGFja1RyYWNlLmd1ZXNzRnVuY3Rpb25OYW1lKGkudXJsLGkubGluZSksaS5jb250ZXh0PWQuY29tcHV0ZVN0YWNrVHJhY2UuZ2F0aGVyQ29udGV4dChpLnVybCxpLmxpbmUpLGg9e21vZGU6XCJvbmVycm9yXCIsbWVzc2FnZTphLHVybDpkb2N1bWVudC5sb2NhdGlvbi5ocmVmLHN0YWNrOltpXSx1c2VyYWdlbnQ6bmF2aWdhdG9yLnVzZXJBZ2VudH19cmV0dXJuIGcoaCxcImZyb20gd2luZG93Lm9uZXJyb3JcIiksaz9rLmFwcGx5KHRoaXMsYXJndW1lbnRzKTohMX1mdW5jdGlvbiBpKCl7bCE9PSEwJiYoaz1hLm9uZXJyb3IsYS5vbmVycm9yPWgsbD0hMCl9ZnVuY3Rpb24gaihiKXt2YXIgYz1mLmNhbGwoYXJndW1lbnRzLDEpO2lmKG8pe2lmKG49PT1iKXJldHVybjt2YXIgZT1vO289bnVsbCxuPW51bGwsZy5hcHBseShudWxsLFtlLG51bGxdLmNvbmNhdChjKSl9dmFyIGg9ZC5jb21wdXRlU3RhY2tUcmFjZShiKTt0aHJvdyBvPWgsbj1iLGEuc2V0VGltZW91dChmdW5jdGlvbigpe249PT1iJiYobz1udWxsLG49bnVsbCxnLmFwcGx5KG51bGwsW2gsbnVsbF0uY29uY2F0KGMpKSl9LGguaW5jb21wbGV0ZT8yZTM6MCksYn12YXIgayxsLG09W10sbj1udWxsLG89bnVsbDtyZXR1cm4gai5zdWJzY3JpYmU9YyxqLnVuc3Vic2NyaWJlPWUsan0oKSxkLmNvbXB1dGVTdGFja1RyYWNlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShiKXtpZighZC5yZW1vdGVGZXRjaGluZylyZXR1cm5cIlwiO3RyeXt2YXIgYz1mdW5jdGlvbigpe3RyeXtyZXR1cm4gbmV3IGEuWE1MSHR0cFJlcXVlc3R9Y2F0Y2goYil7cmV0dXJuIG5ldyBhLkFjdGl2ZVhPYmplY3QoXCJNaWNyb3NvZnQuWE1MSFRUUFwiKX19LGU9YygpO3JldHVybiBlLm9wZW4oXCJHRVRcIixiLCExKSxlLnNlbmQoXCJcIiksZS5yZXNwb25zZVRleHR9Y2F0Y2goZil7cmV0dXJuXCJcIn19ZnVuY3Rpb24gZihhKXtpZihcInN0cmluZ1wiIT10eXBlb2YgYSlyZXR1cm5bXTtpZighYih3LGEpKXt2YXIgYz1cIlwiLGQ9XCJcIjt0cnl7ZD1kb2N1bWVudC5kb21haW59Y2F0Y2goZil7fS0xIT09YS5pbmRleE9mKGQpJiYoYz1lKGEpKSx3W2FdPWM/Yy5zcGxpdChcIlxcblwiKTpbXX1yZXR1cm4gd1thXX1mdW5jdGlvbiBoKGEsYil7dmFyIGQsZT0vZnVuY3Rpb24gKFteKF0qKVxcKChbXildKilcXCkvLGg9L1snXCJdPyhbMC05QS1aYS16JF9dKylbJ1wiXT9cXHMqWzo9XVxccyooZnVuY3Rpb258ZXZhbHxuZXcgRnVuY3Rpb24pLyxpPVwiXCIsaj0xMCxrPWYoYSk7aWYoIWsubGVuZ3RoKXJldHVybiBnO2Zvcih2YXIgbD0wO2o+bDsrK2wpaWYoaT1rW2ItbF0raSwhYyhpKSl7aWYoZD1oLmV4ZWMoaSkpcmV0dXJuIGRbMV07aWYoZD1lLmV4ZWMoaSkpcmV0dXJuIGRbMV19cmV0dXJuIGd9ZnVuY3Rpb24gaShhLGIpe3ZhciBlPWYoYSk7aWYoIWUubGVuZ3RoKXJldHVybiBudWxsO3ZhciBnPVtdLGg9TWF0aC5mbG9vcihkLmxpbmVzT2ZDb250ZXh0LzIpLGk9aCtkLmxpbmVzT2ZDb250ZXh0JTIsaj1NYXRoLm1heCgwLGItaC0xKSxrPU1hdGgubWluKGUubGVuZ3RoLGIraS0xKTtiLT0xO2Zvcih2YXIgbD1qO2s+bDsrK2wpYyhlW2xdKXx8Zy5wdXNoKGVbbF0pO3JldHVybiBnLmxlbmd0aD4wP2c6bnVsbH1mdW5jdGlvbiBqKGEpe3JldHVybiBhLnJlcGxhY2UoL1tcXC1cXFtcXF17fSgpKis/LixcXFxcXFxeJHwjXS9nLFwiXFxcXCQmXCIpfWZ1bmN0aW9uIGsoYSl7cmV0dXJuIGooYSkucmVwbGFjZShcIjxcIixcIig/Ojx8Jmx0OylcIikucmVwbGFjZShcIj5cIixcIig/Oj58Jmd0OylcIikucmVwbGFjZShcIiZcIixcIig/OiZ8JmFtcDspXCIpLnJlcGxhY2UoJ1wiJywnKD86XCJ8JnF1b3Q7KScpLnJlcGxhY2UoL1xccysvZyxcIlxcXFxzK1wiKX1mdW5jdGlvbiBsKGEsYil7Zm9yKHZhciBjLGQsZT0wLGc9Yi5sZW5ndGg7Zz5lOysrZSlpZigoYz1mKGJbZV0pKS5sZW5ndGgmJihjPWMuam9pbihcIlxcblwiKSxkPWEuZXhlYyhjKSkpcmV0dXJue3VybDpiW2VdLGxpbmU6Yy5zdWJzdHJpbmcoMCxkLmluZGV4KS5zcGxpdChcIlxcblwiKS5sZW5ndGgsY29sdW1uOmQuaW5kZXgtYy5sYXN0SW5kZXhPZihcIlxcblwiLGQuaW5kZXgpLTF9O3JldHVybiBudWxsfWZ1bmN0aW9uIG0oYSxiLGMpe3ZhciBkLGU9ZihiKSxnPW5ldyBSZWdFeHAoXCJcXFxcYlwiK2ooYSkrXCJcXFxcYlwiKTtyZXR1cm4gYy09MSxlJiZlLmxlbmd0aD5jJiYoZD1nLmV4ZWMoZVtjXSkpP2QuaW5kZXg6bnVsbH1mdW5jdGlvbiBuKGIpe2Zvcih2YXIgYyxkLGUsZixnPVthLmxvY2F0aW9uLmhyZWZdLGg9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzY3JpcHRcIiksaT1cIlwiK2IsbT0vXmZ1bmN0aW9uKD86XFxzKyhbXFx3JF0rKSk/XFxzKlxcKChbXFx3XFxzLF0qKVxcKVxccypcXHtcXHMqKFxcU1tcXHNcXFNdKlxcUylcXHMqXFx9XFxzKiQvLG49L15mdW5jdGlvbiBvbihbXFx3JF0rKVxccypcXChldmVudFxcKVxccypcXHtcXHMqKFxcU1tcXHNcXFNdKlxcUylcXHMqXFx9XFxzKiQvLG89MDtvPGgubGVuZ3RoOysrbyl7dmFyIHA9aFtvXTtwLnNyYyYmZy5wdXNoKHAuc3JjKX1pZihlPW0uZXhlYyhpKSl7dmFyIHE9ZVsxXT9cIlxcXFxzK1wiK2VbMV06XCJcIixyPWVbMl0uc3BsaXQoXCIsXCIpLmpvaW4oXCJcXFxccyosXFxcXHMqXCIpO2M9aihlWzNdKS5yZXBsYWNlKC87JC8sXCI7P1wiKSxkPW5ldyBSZWdFeHAoXCJmdW5jdGlvblwiK3ErXCJcXFxccypcXFxcKFxcXFxzKlwiK3IrXCJcXFxccypcXFxcKVxcXFxzKntcXFxccypcIitjK1wiXFxcXHMqfVwiKX1lbHNlIGQ9bmV3IFJlZ0V4cChqKGkpLnJlcGxhY2UoL1xccysvZyxcIlxcXFxzK1wiKSk7aWYoZj1sKGQsZykpcmV0dXJuIGY7aWYoZT1uLmV4ZWMoaSkpe3ZhciBzPWVbMV07aWYoYz1rKGVbMl0pLGQ9bmV3IFJlZ0V4cChcIm9uXCIrcytcIj1bXFxcXCdcXFwiXVxcXFxzKlwiK2MrXCJcXFxccypbXFxcXCdcXFwiXVwiLFwiaVwiKSxmPWwoZCxnWzBdKSlyZXR1cm4gZjtpZihkPW5ldyBSZWdFeHAoYyksZj1sKGQsZykpcmV0dXJuIGZ9cmV0dXJuIG51bGx9ZnVuY3Rpb24gbyhhKXtpZighYS5zdGFjaylyZXR1cm4gbnVsbDtmb3IodmFyIGIsZCxlPS9eXFxzKmF0ICguKj8pID9cXCg/KCg/OmZpbGV8aHR0cHM/fGNocm9tZS1leHRlbnNpb24pOi4qPyk6KFxcZCspKD86OihcXGQrKSk/XFwpP1xccyokL2ksZj0vXlxccyooLio/KSg/OlxcKCguKj8pXFwpKT9APygoPzpmaWxlfGh0dHBzP3xjaHJvbWUpOi4qPyk6KFxcZCspKD86OihcXGQrKSk/XFxzKiQvaSxqPS9eXFxzKmF0ICg/OigoPzpcXFtvYmplY3Qgb2JqZWN0XFxdKT8uKykgKT9cXCg/KCg/Om1zLWFwcHh8aHR0cHxodHRwcyk6Lio/KTooXFxkKykoPzo6KFxcZCspKT9cXCk/XFxzKiQvaSxrPWEuc3RhY2suc3BsaXQoXCJcXG5cIiksbD1bXSxuPS9eKC4qKSBpcyB1bmRlZmluZWQkLy5leGVjKGEubWVzc2FnZSksbz0wLHA9ay5sZW5ndGg7cD5vOysrbyl7aWYoYj1mLmV4ZWMoa1tvXSkpZD17dXJsOmJbM10sZnVuYzpiWzFdfHxnLGFyZ3M6YlsyXT9iWzJdLnNwbGl0KFwiLFwiKTpcIlwiLGxpbmU6K2JbNF0sY29sdW1uOmJbNV0/K2JbNV06bnVsbH07ZWxzZSBpZihiPWUuZXhlYyhrW29dKSlkPXt1cmw6YlsyXSxmdW5jOmJbMV18fGcsbGluZTorYlszXSxjb2x1bW46Yls0XT8rYls0XTpudWxsfTtlbHNle2lmKCEoYj1qLmV4ZWMoa1tvXSkpKWNvbnRpbnVlO2Q9e3VybDpiWzJdLGZ1bmM6YlsxXXx8ZyxsaW5lOitiWzNdLGNvbHVtbjpiWzRdPytiWzRdOm51bGx9fSFkLmZ1bmMmJmQubGluZSYmKGQuZnVuYz1oKGQudXJsLGQubGluZSkpLGQubGluZSYmKGQuY29udGV4dD1pKGQudXJsLGQubGluZSkpLGwucHVzaChkKX1yZXR1cm4gbC5sZW5ndGg/KGxbMF0mJmxbMF0ubGluZSYmIWxbMF0uY29sdW1uJiZuP2xbMF0uY29sdW1uPW0oblsxXSxsWzBdLnVybCxsWzBdLmxpbmUpOmxbMF0uY29sdW1ufHxjKGEuY29sdW1uTnVtYmVyKXx8KGxbMF0uY29sdW1uPWEuY29sdW1uTnVtYmVyKzEpLHttb2RlOlwic3RhY2tcIixuYW1lOmEubmFtZSxtZXNzYWdlOmEubWVzc2FnZSx1cmw6ZG9jdW1lbnQubG9jYXRpb24uaHJlZixzdGFjazpsLHVzZXJhZ2VudDpuYXZpZ2F0b3IudXNlckFnZW50fSk6bnVsbH1mdW5jdGlvbiBwKGEpe2Zvcih2YXIgYixjPWEuc3RhY2t0cmFjZSxkPS8gbGluZSAoXFxkKyksIGNvbHVtbiAoXFxkKykgaW4gKD86PGFub255bW91cyBmdW5jdGlvbjogKFtePl0rKT58KFteXFwpXSspKVxcKCguKilcXCkgaW4gKC4qKTpcXHMqJC9pLGU9Yy5zcGxpdChcIlxcblwiKSxmPVtdLGc9MCxqPWUubGVuZ3RoO2o+ZztnKz0yKWlmKGI9ZC5leGVjKGVbZ10pKXt2YXIgaz17bGluZTorYlsxXSxjb2x1bW46K2JbMl0sZnVuYzpiWzNdfHxiWzRdLGFyZ3M6Yls1XT9iWzVdLnNwbGl0KFwiLFwiKTpbXSx1cmw6Yls2XX07aWYoIWsuZnVuYyYmay5saW5lJiYoay5mdW5jPWgoay51cmwsay5saW5lKSksay5saW5lKXRyeXtrLmNvbnRleHQ9aShrLnVybCxrLmxpbmUpfWNhdGNoKGwpe31rLmNvbnRleHR8fChrLmNvbnRleHQ9W2VbZysxXV0pLGYucHVzaChrKX1yZXR1cm4gZi5sZW5ndGg/e21vZGU6XCJzdGFja3RyYWNlXCIsbmFtZTphLm5hbWUsbWVzc2FnZTphLm1lc3NhZ2UsdXJsOmRvY3VtZW50LmxvY2F0aW9uLmhyZWYsc3RhY2s6Zix1c2VyYWdlbnQ6bmF2aWdhdG9yLnVzZXJBZ2VudH06bnVsbH1mdW5jdGlvbiBxKGMpe3ZhciBkPWMubWVzc2FnZS5zcGxpdChcIlxcblwiKTtpZihkLmxlbmd0aDw0KXJldHVybiBudWxsO3ZhciBlLGcsaixtLG49L15cXHMqTGluZSAoXFxkKykgb2YgbGlua2VkIHNjcmlwdCAoKD86ZmlsZXxodHRwcz8pXFxTKykoPzo6IGluIGZ1bmN0aW9uIChcXFMrKSk/XFxzKiQvaSxvPS9eXFxzKkxpbmUgKFxcZCspIG9mIGlubGluZSMoXFxkKykgc2NyaXB0IGluICgoPzpmaWxlfGh0dHBzPylcXFMrKSg/OjogaW4gZnVuY3Rpb24gKFxcUyspKT9cXHMqJC9pLHA9L15cXHMqTGluZSAoXFxkKykgb2YgZnVuY3Rpb24gc2NyaXB0XFxzKiQvaSxxPVtdLHI9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzY3JpcHRcIikscz1bXTtmb3IoZyBpbiByKWIocixnKSYmIXJbZ10uc3JjJiZzLnB1c2gocltnXSk7Zm9yKGc9MixqPWQubGVuZ3RoO2o+ZztnKz0yKXt2YXIgdD1udWxsO2lmKGU9bi5leGVjKGRbZ10pKXQ9e3VybDplWzJdLGZ1bmM6ZVszXSxsaW5lOitlWzFdfTtlbHNlIGlmKGU9by5leGVjKGRbZ10pKXt0PXt1cmw6ZVszXSxmdW5jOmVbNF19O3ZhciB1PStlWzFdLHY9c1tlWzJdLTFdO2lmKHYmJihtPWYodC51cmwpKSl7bT1tLmpvaW4oXCJcXG5cIik7dmFyIHc9bS5pbmRleE9mKHYuaW5uZXJUZXh0KTt3Pj0wJiYodC5saW5lPXUrbS5zdWJzdHJpbmcoMCx3KS5zcGxpdChcIlxcblwiKS5sZW5ndGgpfX1lbHNlIGlmKGU9cC5leGVjKGRbZ10pKXt2YXIgeD1hLmxvY2F0aW9uLmhyZWYucmVwbGFjZSgvIy4qJC8sXCJcIikseT1lWzFdLHo9bmV3IFJlZ0V4cChrKGRbZysxXSkpO209bCh6LFt4XSksdD17dXJsOngsbGluZTptP20ubGluZTp5LGZ1bmM6XCJcIn19aWYodCl7dC5mdW5jfHwodC5mdW5jPWgodC51cmwsdC5saW5lKSk7dmFyIEE9aSh0LnVybCx0LmxpbmUpLEI9QT9BW01hdGguZmxvb3IoQS5sZW5ndGgvMildOm51bGw7dC5jb250ZXh0PUEmJkIucmVwbGFjZSgvXlxccyovLFwiXCIpPT09ZFtnKzFdLnJlcGxhY2UoL15cXHMqLyxcIlwiKT9BOltkW2crMV1dLHEucHVzaCh0KX19cmV0dXJuIHEubGVuZ3RoP3ttb2RlOlwibXVsdGlsaW5lXCIsbmFtZTpjLm5hbWUsbWVzc2FnZTpkWzBdLHVybDpkb2N1bWVudC5sb2NhdGlvbi5ocmVmLHN0YWNrOnEsdXNlcmFnZW50Om5hdmlnYXRvci51c2VyQWdlbnR9Om51bGx9ZnVuY3Rpb24gcihhLGIsYyxkKXt2YXIgZT17dXJsOmIsbGluZTpjfTtpZihlLnVybCYmZS5saW5lKXthLmluY29tcGxldGU9ITEsZS5mdW5jfHwoZS5mdW5jPWgoZS51cmwsZS5saW5lKSksZS5jb250ZXh0fHwoZS5jb250ZXh0PWkoZS51cmwsZS5saW5lKSk7dmFyIGY9LyAnKFteJ10rKScgLy5leGVjKGQpO2lmKGYmJihlLmNvbHVtbj1tKGZbMV0sZS51cmwsZS5saW5lKSksYS5zdGFjay5sZW5ndGg+MCYmYS5zdGFja1swXS51cmw9PT1lLnVybCl7aWYoYS5zdGFja1swXS5saW5lPT09ZS5saW5lKXJldHVybiExO2lmKCFhLnN0YWNrWzBdLmxpbmUmJmEuc3RhY2tbMF0uZnVuYz09PWUuZnVuYylyZXR1cm4gYS5zdGFja1swXS5saW5lPWUubGluZSxhLnN0YWNrWzBdLmNvbnRleHQ9ZS5jb250ZXh0LCExfXJldHVybiBhLnN0YWNrLnVuc2hpZnQoZSksYS5wYXJ0aWFsPSEwLCEwfXJldHVybiBhLmluY29tcGxldGU9ITAsITF9ZnVuY3Rpb24gcyhhLGIpe2Zvcih2YXIgYyxlLGYsaT0vZnVuY3Rpb25cXHMrKFtfJGEtekEtWlxceEEwLVxcdUZGRkZdW18kYS16QS1aMC05XFx4QTAtXFx1RkZGRl0qKT9cXHMqXFwoL2ksaj1bXSxrPXt9LGw9ITEsbz1zLmNhbGxlcjtvJiYhbDtvPW8uY2FsbGVyKWlmKG8hPT10JiZvIT09ZC5yZXBvcnQpe2lmKGU9e3VybDpudWxsLGZ1bmM6ZyxsaW5lOm51bGwsY29sdW1uOm51bGx9LG8ubmFtZT9lLmZ1bmM9by5uYW1lOihjPWkuZXhlYyhvLnRvU3RyaW5nKCkpKSYmKGUuZnVuYz1jWzFdKSxcInVuZGVmaW5lZFwiPT10eXBlb2YgZS5mdW5jKXRyeXtlLmZ1bmM9Yy5pbnB1dC5zdWJzdHJpbmcoMCxjLmlucHV0LmluZGV4T2YoXCJ7XCIpKX1jYXRjaChwKXt9aWYoZj1uKG8pKXtlLnVybD1mLnVybCxlLmxpbmU9Zi5saW5lLGUuZnVuYz09PWcmJihlLmZ1bmM9aChlLnVybCxlLmxpbmUpKTt2YXIgcT0vICcoW14nXSspJyAvLmV4ZWMoYS5tZXNzYWdlfHxhLmRlc2NyaXB0aW9uKTtxJiYoZS5jb2x1bW49bShxWzFdLGYudXJsLGYubGluZSkpfWtbXCJcIitvXT9sPSEwOmtbXCJcIitvXT0hMCxqLnB1c2goZSl9YiYmai5zcGxpY2UoMCxiKTt2YXIgdT17bW9kZTpcImNhbGxlcnNcIixuYW1lOmEubmFtZSxtZXNzYWdlOmEubWVzc2FnZSx1cmw6ZG9jdW1lbnQubG9jYXRpb24uaHJlZixzdGFjazpqLHVzZXJhZ2VudDpuYXZpZ2F0b3IudXNlckFnZW50fTtyZXR1cm4gcih1LGEuc291cmNlVVJMfHxhLmZpbGVOYW1lLGEubGluZXx8YS5saW5lTnVtYmVyLGEubWVzc2FnZXx8YS5kZXNjcmlwdGlvbiksdX1mdW5jdGlvbiB0KGEsYil7dmFyIGM9bnVsbDtiPW51bGw9PWI/MDorYjt0cnl7aWYoYz1wKGEpKXJldHVybiBjfWNhdGNoKGQpe2lmKHYpdGhyb3cgZH10cnl7aWYoYz1vKGEpKXJldHVybiBjfWNhdGNoKGQpe2lmKHYpdGhyb3cgZH10cnl7aWYoYz1xKGEpKXJldHVybiBjfWNhdGNoKGQpe2lmKHYpdGhyb3cgZH10cnl7aWYoYz1zKGEsYisxKSlyZXR1cm4gY31jYXRjaChkKXtpZih2KXRocm93IGR9cmV0dXJue21vZGU6XCJmYWlsZWRcIn19ZnVuY3Rpb24gdShhKXthPShudWxsPT1hPzA6K2EpKzE7dHJ5e3Rocm93IG5ldyBFcnJvcn1jYXRjaChiKXtyZXR1cm4gdChiLGErMSl9fXZhciB2PSExLHc9e307cmV0dXJuIHQuYXVnbWVudFN0YWNrVHJhY2VXaXRoSW5pdGlhbEVsZW1lbnQ9cix0Lmd1ZXNzRnVuY3Rpb25OYW1lPWgsdC5nYXRoZXJDb250ZXh0PWksdC5vZkNhbGxlcj11LHQuZ2V0U291cmNlPWYsdH0oKSxkLmV4dGVuZFRvQXN5bmNocm9ub3VzQ2FsbGJhY2tzPWZ1bmN0aW9uKCl7dmFyIGI9ZnVuY3Rpb24oYil7dmFyIGM9YVtiXTthW2JdPWZ1bmN0aW9uKCl7dmFyIGE9Zi5jYWxsKGFyZ3VtZW50cyksYj1hWzBdO3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIGImJihhWzBdPWQud3JhcChiKSksYy5hcHBseT9jLmFwcGx5KHRoaXMsYSk6YyhhWzBdLGFbMV0pfX07YihcInNldFRpbWVvdXRcIiksYihcInNldEludGVydmFsXCIpfSxkLnJlbW90ZUZldGNoaW5nfHwoZC5yZW1vdGVGZXRjaGluZz0hMCksZC5jb2xsZWN0V2luZG93RXJyb3JzfHwoZC5jb2xsZWN0V2luZG93RXJyb3JzPSEwKSwoIWQubGluZXNPZkNvbnRleHR8fGQubGluZXNPZkNvbnRleHQ8MSkmJihkLmxpbmVzT2ZDb250ZXh0PTExKSxhLlRyYWNlS2l0PWR9fShcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzpnbG9iYWwpLGZ1bmN0aW9uKGEsYil7XCJ1c2Ugc3RyaWN0XCI7aWYoYSl7dmFyIGM9YS5ldmVudC5hZGQ7YS5ldmVudC5hZGQ9ZnVuY3Rpb24oZCxlLGYsZyxoKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBmJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBmLmhhbmRsZXIpcmV0dXJuIGMuY2FsbCh0aGlzLGQsZSxmLGcsaCk7dmFyIGk7cmV0dXJuIGYuaGFuZGxlcj8oaT1mLmhhbmRsZXIsZi5oYW5kbGVyPWIud3JhcChmLmhhbmRsZXIpKTooaT1mLGY9Yi53cmFwKGYpKSxmLmd1aWQ9aS5ndWlkP2kuZ3VpZDppLmd1aWQ9YS5ndWlkKyssYy5jYWxsKHRoaXMsZCxlLGYsZyxoKX07dmFyIGQ9YS5mbi5yZWFkeTthLmZuLnJlYWR5PWZ1bmN0aW9uKGEpe3JldHVybiBkLmNhbGwodGhpcyxiLndyYXAoYSkpfTt2YXIgZT1hLmFqYXg7YS5hamF4PWZ1bmN0aW9uKGMsZCl7XCJvYmplY3RcIj09dHlwZW9mIGMmJihkPWMsYz12b2lkIDApLGQ9ZHx8e307Zm9yKHZhciBmLGc9W1wiY29tcGxldGVcIixcImVycm9yXCIsXCJzdWNjZXNzXCJdO2Y9Zy5wb3AoKTspYS5pc0Z1bmN0aW9uKGRbZl0pJiYoZFtmXT1iLndyYXAoZFtmXSkpO3RyeXtyZXR1cm4gYz9lLmNhbGwodGhpcyxjLGQpOmUuY2FsbCh0aGlzLGQpfWNhdGNoKGgpe3Rocm93IGIucmVwb3J0KGgpLGh9fX19KHdpbmRvdy5qUXVlcnksd2luZG93LlRyYWNlS2l0KSxmdW5jdGlvbihhLGIsYyxkKXtmdW5jdGlvbiBlKGEpe3ZhciBiPWEsYz1hLnNwbGl0KFwiLy9cIilbMV07aWYoYyl7dmFyIGQ9Yy5pbmRleE9mKFwiP1wiKSxlPWMudG9TdHJpbmcoKS5zdWJzdHJpbmcoMCxkKSxmPWUuc3BsaXQoXCIvXCIpLnNsaWNlKDAsNCkuam9pbihcIi9cIiksZz1lLnN1YnN0cmluZygwLDQ4KTtiPWYubGVuZ3RoPGcubGVuZ3RoP2Y6ZyxiIT09ZSYmKGIrPVwiLi5cIil9cmV0dXJuIGJ9ZnVuY3Rpb24gZihhLGIsYyxmKXtpZihLJiYoTHx8Yi5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSkpe3ZhciBnPVwiQUpBWCBFcnJvcjogXCIrKGIuc3RhdHVzVGV4dHx8XCJ1bmtub3duXCIpK1wiIFwiKyhjLnR5cGV8fFwidW5rbm93blwiKStcIiBcIisoZShjLnVybCl8fFwidW5rbm93blwiKTtWLnNlbmQoZnx8YS50eXBlLHtzdGF0dXM6Yi5zdGF0dXMsc3RhdHVzVGV4dDpiLnN0YXR1c1RleHQsdHlwZTpjLnR5cGUsdXJsOmMudXJsLGFqYXhFcnJvck1lc3NhZ2U6Zyxjb250ZW50VHlwZTpjLmNvbnRlbnRUeXBlLHJlcXVlc3REYXRhOmMuZGF0YSYmYy5kYXRhLnNsaWNlP2MuZGF0YS5zbGljZSgwLDEwMjQwKTpkLHJlc3BvbnNlRGF0YTpiLnJlc3BvbnNlVGV4dCYmYi5yZXNwb25zZVRleHQuc2xpY2U/Yi5yZXNwb25zZVRleHQuc2xpY2UoMCwxMDI0MCk6ZCxhY3RpdmVUYXJnZXQ6YS50YXJnZXQmJmEudGFyZ2V0LmFjdGl2ZUVsZW1lbnQ/YS50YXJnZXQuYWN0aXZlRWxlbWVudC5vdXRlckhUTUw6ZH0pfX1mdW5jdGlvbiBnKCl7cmV0dXJuIG8mJlwiXCIhPT1vPyEwOihSLmxvZyhcIkF0YXR1cyBBUEkga2V5IGhhcyBub3QgYmVlbiBjb25maWd1cmVkLCBtYWtlIHN1cmUgeW91IGNhbGwgYXRhdHVzLmNvbmZpZyh5b3VyQXBpS2V5KVwiKSwhMSl9ZnVuY3Rpb24gaCgpe3ZhciBjPWIuZG9jdW1lbnRFbGVtZW50LGQ9Yi5nZXRFbGVtZW50c0J5VGFnTmFtZShcImJvZHlcIilbMF0sZT1hLmlubmVyV2lkdGh8fGMuY2xpZW50V2lkdGh8fGQuY2xpZW50V2lkdGgsZj1hLmlubmVySGVpZ2h0fHxjLmNsaWVudEhlaWdodHx8ZC5jbGllbnRIZWlnaHQ7cmV0dXJue3dpZHRoOmUsaGVpZ2h0OmZ9fWZ1bmN0aW9uIGkoYSl7dmFyIGI9KG5ldyBEYXRlKS50b0pTT04oKTt0cnl7dmFyIGM9XCJhdGF0dXNqcz1cIitiK1wiPVwiK1IuZ2V0UmFuZG9tSW50KCk7XCJ1bmRlZmluZWRcIj09dHlwZW9mIGxvY2FsU3RvcmFnZVtjXSYmKGxvY2FsU3RvcmFnZVtjXT1hKX1jYXRjaChkKXtSLmxvZyhcIkF0YXR1czogTG9jYWxTdG9yYWdlIGZ1bGwsIGNhbm5vdCBzYXZlIGV4Y2VwdGlvblwiKX19ZnVuY3Rpb24gaigpe3RyeXtyZXR1cm5cImxvY2FsU3RvcmFnZVwiaW4gYSYmbnVsbCE9PWEubG9jYWxTdG9yYWdlfWNhdGNoKGIpe3JldHVybiExfX1mdW5jdGlvbiBrKCl7aWYoaigpJiZsb2NhbFN0b3JhZ2UubGVuZ3RoPjApZm9yKHZhciBhIGluIGxvY2FsU3RvcmFnZSlpZihcImF0YXR1c2pzPVwiPT09YS5zdWJzdHJpbmcoMCw5KSl7dHJ5e3ZhciBiPUpTT04ucGFyc2UobG9jYWxTdG9yYWdlW2FdKTtcImFwaWtleVwiaW4gYiYmbShOLGIpfWNhdGNoKGMpe1IubG9nKFwiQXRhdHVzOiBJbnZhbGlkIEpTT04gb2JqZWN0IGluIExvY2FsU3RvcmFnZVwiKX1sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShhKX19ZnVuY3Rpb24gbChhLGMpe2lmKGM9Y3x8e30sIWEuc3RhY2t8fCFhLnN0YWNrLmxlbmd0aClyZXR1cm4gdm9pZCBSLmxvZyhcIkF0YXR1czogQ2FuY2VsaW5nIHNlbmQgZHVlIHRvIG5vIHN0YWNrdHJhY2UuXCIpO1IuaXNFbXB0eShjLmN1c3RvbURhdGEpJiYoYy5jdXN0b21EYXRhPVwiZnVuY3Rpb25cIj09dHlwZW9mIHA/cCgpOnApLFIuaXNFbXB0eShjLnRhZ3MpJiYoYy50YWdzPUUpO3ZhciBkPWMuY3VzdG9tRGF0YSYmYy5jdXN0b21EYXRhLmFqYXhFcnJvck1lc3NhZ2V8fGEubWVzc2FnZTtpZihkJiYwPT09ZC5pbmRleE9mKFwiVW5jYXVnaHQgXCIpJiYoZD1hLm1lc3NhZ2Uuc3Vic3RyaW5nKDkpKSxkPWR8fGMuc3RhdHVzfHxcIlNjcmlwdCBlcnJvci5cIix3JiZ3LnRlc3QoZCkpcmV0dXJuIHZvaWQgUi5sb2coXCJBdGF0dXM6IGNhbmNlbGluZyBzZW5kIGR1ZSB0byBpZ25vcmUgZXJyb3JzXCIpO3ZhciBlPVtdO2Euc3RhY2smJmEuc3RhY2subGVuZ3RoJiZSLmZvckVhY2goYS5zdGFjayxmdW5jdGlvbihhLGIpe1IuZW5kc1dpdGgoYi51cmwsXCIvYXRhdHVzLmpzXCIpfHxlLnB1c2goe2xuOmIubGluZXx8MCxjbjpiLmNvbHVtbnx8MCxmOmIudXJsfHxcImFub255bW91c1wiLG06Yi5mdW5jfHxcIlthbm9ueW1vdXNdXCJ9KX0pO3ZhciBmPVthLm5hbWUsZCxKU09OLnN0cmluZ2lmeShlKV0uam9pbihcInxcIik7aWYoZj09PXgpcmV0dXJuIHZvaWQgUi5sb2coXCJBdGF0dXM6IGNhbmNlbGluZyBzZW5kIGR1ZSB0byBkdXBsaWNhdGUgZXJyb3JzXCIpO3g9Zjt2YXIgZz1jLmN1c3RvbURhdGE7dHJ5e0pTT04uc3RyaW5naWZ5KGcpfWNhdGNoKGgpe3ZhciBpPVwiQ2Fubm90IGFkZCBjdXN0b20gZGF0YTsgbWF5IGNvbnRhaW4gY2lyY3VsYXIgcmVmZXJlbmNlXCI7Zz17ZXJyb3I6aX0sUi5sb2coXCJBdGF0dXM6IFwiK2kpfXZhciBqPVUuZ2V0QWxsRXZlbnRzKCk7Uy5jbGVhcigpO3ZhciBrPXtcImNsYXNzXCI6YS5uYW1lLG5hbWU6ZCxiYWNrVHJhY2VzOmUsdXNlckFjdGlvbnM6aixuZXQ6bnVsbCxjdXN0b21EYXRhOmd8fG51bGwsdGFnczpjLnRhZ3Msc291cmNlbWFwOkoscmVxdWVzdDp7dXJsOmIubG9jYXRpb24uaHJlZix1YTpuYXZpZ2F0b3IudXNlckFnZW50fX07aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgeSYmKGsuZ3JvdXBpbmdLZXk9eShrKSksXCJmdW5jdGlvblwiPT10eXBlb2Ygeil7dmFyIGw9eihrKTtsJiZtKE4sayl9ZWxzZSBtKE4sayl9ZnVuY3Rpb24gbShjLGQpe2lmKEcmJkcubGVuZ3RoJiYtMT09PUcuaW5kZXhPZihsb2NhdGlvbi5ob3N0KSlyZXR1cm4gdm9pZCBSLmxvZyhcIkF0YXR1czogY2FuY2VsaW5nIHNlbmQgZHVlIHRvIG5vdCBhIGFsbG93ZWQgZG9tYWluXCIpO2lmKGcoKSl7aWYoIWQudHMpe3ZhciBlPWEuc2NyZWVufHxoKCk7ZC50cz0obmV3IERhdGUpLmdldFRpbWUoKSxkLmFwaWtleT1vLGQucmVxdWVzdD1kLnJlcXVlc3R8fHt9LGQucmVxdWVzdC51cmw9ZC5yZXF1ZXN0LnVybHx8Yi5sb2NhdGlvbi5ocmVmLGQucmVxdWVzdC51YT1kLnJlcXVlc3QudWF8fG5hdmlnYXRvci51c2VyQWdlbnQsZC5yZXF1ZXN0Lnc9ZS53aWR0aCxkLnJlcXVlc3QuaD1lLmhlaWdodCxkLnY9cnx8XCJcIixkLl92PUJ8fFwiXCJ9cSYmKGQuY2lkPXEudXNlcklkfHxudWxsKSxSLmxvZyhcIlNlbmRpbmcgZGF0YSB0byBBdGF0dXMgUmVjZWl2ZXI6XCIsZCksbihjLEpTT04uc3RyaW5naWZ5KGQpKX19ZnVuY3Rpb24gbihhLGIpe3ZhciBjPW5ldyBJbWFnZSxkPU0rYStcIj9kYXRhPVwiK2VuY29kZVVSSUNvbXBvbmVudChiKTtjLmNyb3NzT3JpZ2luPVwiYW5vbnltb3VzXCIsYy5vbmxvYWQ9ZnVuY3Rpb24oKXtrKCl9LGMub25lcnJvcj1jLm9uYWJvcnQ9ZnVuY3Rpb24oKXtJJiZhPT09TiYmaShiKX0sYy5zcmM9ZH12YXIgbyxwLHEscixzLHQsdSx2LHcseCx5LHosQSxCPVwiMi4zLjEyXCIsQz1UcmFjZUtpdC5ub0NvbmZsaWN0KCksRD1hLmF0YXR1cyxFPVtdLEY9ITEsRz1bXSxIPSExLEk9ITEsSj0hMSxLPSExLEw9ITEsTT1cImh0dHBzOi8vYnItcnguYXRhdHVzLmNvbVwiLE49XCIvdHJhY2svYnJvd3Nlci9lcnJvcnNcIixPPVwiL3RyYWNrL2Jyb3dzZXIvcGVyZlwiLFA9XCIvdHJhY2svYnJvd3Nlci9wZXJmL2FqYXhcIixRPVwiL3RyYWNrL2Jyb3dzZXIvcGVyZi90eG5cIjtjJiYoQT1jKGIpKTt2YXIgUj17aXNCb29sZWFuOmZ1bmN0aW9uKGEpe3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBhJiZcImJvb2xlYW5cIj09dHlwZW9mIGF9LGlzU3RyaW5nOmZ1bmN0aW9uKGEpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBhfSxpc0FycmF5OmZ1bmN0aW9uKGEpe3JldHVyblwiW29iamVjdCBBcnJheV1cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhKX0sZW5kc1dpdGg6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYSYmYj8tMSE9PWEuaW5kZXhPZihiLGEubGVuZ3RoLWIubGVuZ3RoKTohMX0sam9pblJlZ0V4cDpmdW5jdGlvbihhKXtmb3IodmFyIGIsYz1bXSxkPTAsZT1hLmxlbmd0aDtlPmQ7ZCsrKWI9YVtkXSxSLmlzU3RyaW5nKGIpP2MucHVzaChiLnJlcGxhY2UoLyhbLiorP1xcXj0hOiR7fSgpfFxcW1xcXVxcL1xcXFxdKS9nLFwiXFxcXCQxXCIpKTpiJiZiLnNvdXJjZSYmYy5wdXNoKGIuc291cmNlKTtyZXR1cm4gbmV3IFJlZ0V4cChjLmpvaW4oXCJ8XCIpLFwiaVwiKX0sZ2V0VGFyZ2V0VXJsOmZ1bmN0aW9uKGIpe3JldHVybiBhLlhEb21haW5SZXF1ZXN0JiZIJiYoYj1iLnNsaWNlKDYpKSxifSxub3c6ZnVuY3Rpb24oKXtyZXR1cm4obmV3IERhdGUpLmdldFRpbWUoKX0scGFkOmZ1bmN0aW9uKGEpe3JldHVybiBhPVN0cmluZyhhKSwxPT09YS5sZW5ndGgmJihhPVwiMFwiK2EpLGF9LG1lcmdlOmZ1bmN0aW9uKGEsYil7dmFyIGMsZD17fTtmb3IoYyBpbiBhKWRbY109YVtjXTtmb3IoYyBpbiBiKWRbY109YltjXTtyZXR1cm4gZH0sbWVyZ2VBcnJheTpmdW5jdGlvbihhLGIpe3JldHVybiBudWxsIT1iP2EuY29uY2F0KGIpOmF9LGZvckVhY2g6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9MDtjPGEubGVuZ3RoO2MrKyliLmNhbGwobnVsbCxjLGFbY10pfSxpc0VtcHR5OmZ1bmN0aW9uKGEpe2Zvcih2YXIgYiBpbiBhKWlmKGEuaGFzT3duUHJvcGVydHkoYikpcmV0dXJuITE7cmV0dXJuITB9LGdldFJhbmRvbUludDpmdW5jdGlvbigpe3JldHVybiBNYXRoLmZsb29yKDkwMDcxOTkyNTQ3NDA5OTIqTWF0aC5yYW5kb20oKSl9LGxvZzpmdW5jdGlvbihiLGMpe0YmJmEuY29uc29sZSYmYS5jb25zb2xlLmxvZyYmKGEuY29uc29sZS5sb2coYiksYyYmYS5jb25zb2xlLmxvZyhjKSl9LGJpbmQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gYS5hcHBseShiLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykpfX0sY2FuQWxsb3dJbnNlY3VyZVN1Ym1pc3Npb25zOmZ1bmN0aW9uKCl7dmFyIGI9YS5uYXZpZ2F0b3IudXNlckFnZW50LGM9Yi5tYXRjaCgvVHJpZGVudFxcLyhbXFxkLl0rKS8pLGQ9YyYmXCI3LjBcIj09PWNbMV0/MTE6KGI9Yi5tYXRjaCgvTVNJRSAoW1xcZC5dKykvKSk/cGFyc2VJbnQoYlsxXSwxMCk6ITE7cmV0dXJuIGQmJjk+PWR9LHV1aWQ0OmZ1bmN0aW9uKCl7cmV0dXJuXCJ4eHh4eHh4eHh4eHg0eHh4eXh4eHh4eHh4eHh4eHh4eFwiLnJlcGxhY2UoL1t4eV0vZyxmdW5jdGlvbihhKXt2YXIgYj0xNipNYXRoLnJhbmRvbSgpfDAsYz1cInhcIj09PWE/YjozJmJ8ODtyZXR1cm4gYy50b1N0cmluZygxNil9KX0sYWRkRXZlbnRMaXN0ZW5lcjpmdW5jdGlvbihiLGMsZCl7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGEuYXR0YWNoRXZlbnQ/YS5hdHRhY2hFdmVudChcIm9uXCIrYixjKTphLmFkZEV2ZW50TGlzdGVuZXI/YS5hZGRFdmVudExpc3RlbmVyKGIsYyxkKTp2b2lkIDB9LGFycmF5RnJvbU9iamVjdDpmdW5jdGlvbihhKXt2YXIgYj1bXTtmb3IodmFyIGMgaW4gYSlhLmhhc093blByb3BlcnR5KGMpJiZiLnB1c2goYVtjXSk7cmV0dXJuIGJ9fSxTPXtldmVudE9iamVjdDp7fSxhbGw6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPXRoaXMuZ2V0RXZlbnRPYmplY3QoYSksYz1bXSxkPTA7ZDxiLmxlbmd0aDtkKyspYy5wdXNoKGJbZF0udmFsdWUpO3JldHVybiBjfSxjbGVhcjpmdW5jdGlvbigpe2Zvcih2YXIgYSBpbiB0aGlzLmV2ZW50T2JqZWN0KXRoaXMuZXZlbnRPYmplY3QuaGFzT3duUHJvcGVydHkoYSkmJih0aGlzLmV2ZW50T2JqZWN0W2FdLmxlbmd0aD0wKX0sYWRkOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5nZXRFdmVudE9iamVjdChhKSxkPVIudXVpZDQoKTtyZXR1cm4gYy5wdXNoKHtrZXk6ZCx2YWx1ZTpifSksdGhpcy50cnVuY2F0ZUV2ZW50T2JqZWN0KGEsMTApLGR9LGdldDpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz10aGlzLmdldEV2ZW50T2JqZWN0KGEpLGQ9MDtkPGMubGVuZ3RoO2QrKylpZihjW2RdLmtleT09PWIpcmV0dXJuIGNbZF0udmFsdWU7cmV0dXJuITF9LGdldEV2ZW50T2JqZWN0OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmV2ZW50T2JqZWN0W2FdfHwodGhpcy5ldmVudE9iamVjdFthXT1bXSksdGhpcy5ldmVudE9iamVjdFthXX0sdHJ1bmNhdGVFdmVudE9iamVjdDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ2V0RXZlbnRPYmplY3QoYSk7Yy5sZW5ndGg+YiYmKHRoaXMuZXZlbnRPYmplY3RbYV09Yy5zbGljZShjLmxlbmd0aC1iKSl9fSxUPXthdHRhY2g6ZnVuY3Rpb24oYixjLGQsZSxmKXtiPWJ8fGEuY29uc29sZXx8e307Zm9yKHZhciBnPWZ8fFtcImxvZ1wiLFwiZGVidWdcIixcImluZm9cIixcIndhcm5cIixcImVycm9yXCJdLGg9Zy5wb3AoKSxpPWZ1bmN0aW9uKGEsYixkKXtjJiZTLmFkZChcInVzZXJcIix7dHM6Ui5ub3coKSxjOlwiY29uc29sZVwiLGw6YSxtOmJ9KSxcImVycm9yXCI9PT1hJiZlJiZWLm5vdGlmeShuZXcgRXJyb3IoYiksZCl9O2g7KXRoaXMud3JhcENvbnNvbGVNZXRob2QoYixoLGQsaSksaD1nLnBvcCgpfSx3cmFwQ29uc29sZU1ldGhvZDpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1hW2JdLGY9YTtiIGluIGEmJihhW2JdPWZ1bmN0aW9uKCl7dmFyIGE9W10uc2xpY2UuY2FsbChhcmd1bWVudHMpLGc9XCJcIithLmpvaW4oXCIgXCIpLGg9e2xldmVsOmIsbG9nZ2VyOlwiY29uc29sZVwifTtkJiZkKGIsZyxoKSxlJiZjJiZGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHkuY2FsbChlLGYsYSl9KX19LFU9e2F0dGFjaDpmdW5jdGlvbigpe3ZhciBhPVIuYmluZCh0aGlzLm9uRG9jdW1lbnRDbGlja2VkLHRoaXMpLGM9Ui5iaW5kKHRoaXMub25JbnB1dENoYW5nZWQsdGhpcyk7Yi5hZGRFdmVudExpc3RlbmVyPyhiLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGEsITApLGIuYWRkRXZlbnRMaXN0ZW5lcihcImJsdXJcIixjLCEwKSk6Yi5hdHRhY2hFdmVudCYmKGIuYXR0YWNoRXZlbnQoXCJvbmNsaWNrXCIsYSksYi5hdHRhY2hFdmVudChcIm9uZm9jdXNvdXRcIixjKSl9LHdyaXRlVXNlckV2ZW50OmZ1bmN0aW9uKGEsYixjLGQpe1wicGFzc3dvcmRcIj09PXRoaXMuZ2V0RWxlbWVudFR5cGUoYSkmJihjPXZvaWQgMCksUy5hZGQoXCJ1c2VyXCIse3RzOlIubm93KCksYTpiLGU6dGhpcy5nZXRPdXRlckhUTUwoYSksdjp0aGlzLmdldFZhbHVlS2luZChjLGQpfSl9LG9uRG9jdW1lbnRDbGlja2VkOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ2V0RWxlbWVudEZyb21FdmVudChhKTtiJiZiLnRhZ05hbWUmJih0aGlzLmlzVGFyZ2V0KGIsXCJhXCIpfHx0aGlzLmlzVGFyZ2V0KGIsXCJidXR0b25cIil8fHRoaXMuaXNUYXJnZXQoYixcImlucHV0XCIsW1wiYnV0dG9uXCIsXCJzdWJtaXRcIl0pP3RoaXMud3JpdGVVc2VyRXZlbnQoYixcImNsaWNrXCIpOnRoaXMuaXNUYXJnZXQoYixcImlucHV0XCIsW1wiY2hlY2tib3hcIixcInJhZGlvXCJdKSYmdGhpcy53cml0ZVVzZXJFdmVudChiLFwiY2hlY2tcIixiLnZhbHVlLGIuY2hlY2tlZCkpfSxvbklucHV0Q2hhbmdlZDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldEVsZW1lbnRGcm9tRXZlbnQoYSk7YiYmYi50YWdOYW1lJiYodGhpcy5pc1RhcmdldChiLFwidGV4dGFyZWFcIik/dGhpcy53cml0ZVVzZXJFdmVudChiLFwiaW5wdXRcIixiLnZhbHVlKTp0aGlzLmlzVGFyZ2V0KGIsXCJzZWxlY3RcIikmJmIub3B0aW9ucyYmYi5vcHRpb25zLmxlbmd0aD90aGlzLm9uU2VsZWN0SW5wdXRDaGFuZ2VkKGIpOnRoaXMuaXNUYXJnZXQoYixcImlucHV0XCIpJiYhdGhpcy5pc1RhcmdldChiLFwiaW5wdXRcIixbXCJidXR0b25cIixcInN1Ym1pdFwiLFwiaGlkZGVuXCIsXCJjaGVja2JveFwiLFwicmFkaW9cIl0pJiZ0aGlzLndyaXRlVXNlckV2ZW50KGIsXCJpbnB1dFwiLGIudmFsdWUpKX0sb25TZWxlY3RJbnB1dENoYW5nZWQ6ZnVuY3Rpb24oYSl7aWYoYS5tdWx0aXBsZSl7Zm9yKHZhciBiPTA7YjxhLm9wdGlvbnMubGVuZ3RoO2IrKylpZihhLm9wdGlvbnNbYl0uc2VsZWN0ZWQpe3RoaXMud3JpdGVVc2VyRXZlbnQoYSxcInNlbGVjdFwiLGEub3B0aW9uc1tiXS52YWx1ZSk7YnJlYWt9fWVsc2UgMDw9YS5zZWxlY3RlZEluZGV4JiZhLm9wdGlvbnNbYS5zZWxlY3RlZEluZGV4XSYmdGhpcy53cml0ZVVzZXJFdmVudChhLFwic2VsZWN0XCIsYS5vcHRpb25zW2Euc2VsZWN0ZWRJbmRleF0udmFsdWUpfSxnZXRFbGVtZW50RnJvbUV2ZW50OmZ1bmN0aW9uKGEpe3JldHVybiBhLnRhcmdldHx8Yi5lbGVtZW50RnJvbVBvaW50KGEuY2xpZW50WCxhLmNsaWVudFkpfSxpc1RhcmdldDpmdW5jdGlvbihhLGIsYyl7aWYoYS50YWdOYW1lLnRvTG93ZXJDYXNlKCkhPT1iLnRvTG93ZXJDYXNlKCkpcmV0dXJuITE7aWYoIWMpcmV0dXJuITA7Zm9yKHZhciBkPXRoaXMuZ2V0RWxlbWVudFR5cGUoYSksZT0wO2U8Yy5sZW5ndGg7ZSsrKWlmKGNbZV09PT1kKXJldHVybiEwO3JldHVybiExfSxnZXRFbGVtZW50VHlwZTpmdW5jdGlvbihhKXtyZXR1cm4oYS5nZXRBdHRyaWJ1dGUoXCJ0eXBlXCIpfHxcIlwiKS50b0xvd2VyQ2FzZSgpfSxnZXRPdXRlckhUTUw6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPVwiPFwiK2EudGFnTmFtZS50b0xvd2VyQ2FzZSgpLGM9YS5hdHRyaWJ1dGVzLGQ9MCxlPWMubGVuZ3RoO2U+ZDtkKyspe3ZhciBmPWNbZF0ubmFtZTtcInZhbHVlXCIhPT1mLnRvTG93ZXJDYXNlKCkmJihiKz1cIiBcIitmKyc9XCInK2NbZF0udmFsdWUrJ1wiJyl9cmV0dXJuIGIrPVwiID5cIn0sZ2V0VmFsdWVLaW5kOmZ1bmN0aW9uKGEsYil7cmV0dXJuIG51bGw9PWE/bnVsbDp7bGVuZ3RoOmEubGVuZ3RoLGNoZWNrZWQ6YixwYXR0ZXJuOnRoaXMubWF0Y2hJbnB1dFBhdHRlcm4oYSl9fSxtYXRjaElucHV0UGF0dGVybjpmdW5jdGlvbihhKXtyZXR1cm5cIlwiPT09YT9cImVtcHR5XCI6L15bYS16MC05ISMkJSYnKis9P1xcXl9ge3x9flxcLV0rKD86XFwuW2EtejAtOSEjJCUmJyorPT9cXF5fYHt8fX5cXC1dKykqQCg/OlthLXowLTldKD86W2EtejAtOVxcLV0qW2EtejAtOV0pP1xcLikrW2EtejAtOV0oPzpbYS16MC05XFwtXSpbYS16MC05XSk/JC8udGVzdChhKT9cImVtYWlsXCI6L14oMD9bMS05XXxbMTJdWzAtOV18M1swMV0pW1xcL1xcLV0oMD9bMS05XXwxWzAxMl0pW1xcL1xcLV1cXGR7NH0kLy50ZXN0KGEpfHwvXihcXGR7NH1bXFwvXFwtXSgwP1sxLTldfDFbMDEyXSlbXFwvXFwtXTA/WzEtOV18WzEyXVswLTldfDNbMDFdKSQvLnRlc3QoYSk/XCJkYXRlXCI6L14oPzooPzpcXCs/MVxccyooPzpbLlxcLV1cXHMqKT8pPyg/OlxcKFxccyooWzItOV0xWzAyLTldfFsyLTldWzAyLThdMXxbMi05XVswMi04XVswMi05XSlcXHMqXFwpfChbMi05XTFbMDItOV18WzItOV1bMDItOF0xfFsyLTldWzAyLThdWzAyLTldKSlcXHMqKD86Wy5cXC1dXFxzKik/KT8oWzItOV0xWzAyLTldfFsyLTldWzAyLTldMXxbMi05XVswMi05XXsyfSlcXHMqKD86Wy5cXC1dXFxzKik/KFswLTldezR9KSg/OlxccyooPzojfHhcXC4/fGV4dFxcLj98ZXh0ZW5zaW9uKVxccyooXFxkKykpPyQvLnRlc3QoYSk/XCJwaG9uZVwiOi9eXFxzKiQvLnRlc3QoYSk/XCJ3aGl0ZXNwYWNlXCI6L15cXGQqJC8udGVzdChhKT9cIm51bWVyaWNcIjpcImNoYXJhY3RlclwifSxnZXRBbGxFdmVudHM6ZnVuY3Rpb24oKXtyZXR1cm4gUy5hbGwoXCJ1c2VyXCIpfX0sVj17bm9Db25mbGljdDpmdW5jdGlvbigpe3JldHVybiBhLmF0YXR1cz1ELFZ9LGlzQ29uZmlndXJlZDpmdW5jdGlvbigpe3JldHVybiEhb30sY29uZmlnOmZ1bmN0aW9uKGIsYyl7cmV0dXJuIGM9Y3x8e30sbz1iLEMucmVtb3RlRmV0Y2hpbmc9ITEsdz1bXSxjJiYocD1jLmN1c3RvbURhdGEsRT1jLnRhZ3N8fFtdLEo9ISghYy5lbmFibGVTb3VyY2VtYXAmJiFjLnNvdXJjZW1hcCkscz0hIWMuZGlzYWJsZVVzZXJBY3Rpb25zLHQ9ISFjLmRpc2FibGVBamF4TW9uaXRvcmluZyx1PSEhYy5kaXNhYmxlUlVNLEY9ISFjLmRlYnVnTW9kZSxjLmlnbm9yZUVycm9ycyYmUi5pc0FycmF5KGMuaWdub3JlRXJyb3JzKSYmKHc9Yy5pZ25vcmVFcnJvcnMpLFYuc2V0QWxsb3dlZERvbWFpbnMoYy5hbGxvd2VkRG9tYWlucyksVi5zZXRWZXJzaW9uKGMudmVyc2lvbiksVi5lbmFibGVPZmZsaW5lKGMuZW5hYmxlT2ZmbGluZXx8Yy5vZmZsaW5lKSxWLm9uQmVmb3JlRXJyb3JTZW5kKGMuYmVmb3JlRXJyb3JTZW5kKSxWLnNldEdyb3VwaW5nS2V5Q2FsbGJhY2soYy5ncm91cGluZ0tleUNhbGxiYWNrKSksSD1SLmNhbkFsbG93SW5zZWN1cmVTdWJtaXNzaW9ucygpLHcucHVzaCgvXlNjcmlwdCBlcnJvclxcLj8kLyksdy5wdXNoKC9eSmF2YXNjcmlwdCBlcnJvcjogU2NyaXB0IGVycm9yXFwuPyBvbiBsaW5lIDAkLyksdz1SLmpvaW5SZWdFeHAodyksaygpLHY9e2VuYWJsZWQ6ITAsdGltZWxpbmU6ITAsZGlzcGxheTohMCxlcnJvcjohMCxsZXZlbHM6bnVsbH0sUi5pc0Jvb2xlYW4oYy5jb25zb2xlKSYmKHYuZW5hYmxlZD1jLmNvbnNvbGUpLFIuaXNCb29sZWFuKGMuY29uc29sZVRpbWVsaW5lKSYmKHYudGltZWxpbmU9Yy5jb25zb2xlVGltZWxpbmUpLFIuaXNCb29sZWFuKGMuY29uc29sZURpc3BsYXkpJiYodi5kaXNwbGF5PWMuY29uc29sZURpc3BsYXkpLFIuaXNCb29sZWFuKGMuY29uc29sZUVycm9yTm90aWZ5KSYmKHYuZXJyb3I9Yy5jb25zb2xlRXJyb3JOb3RpZnkpLFIuaXNBcnJheShjLmNvbnNvbGVUaW1lbGluZUxldmVscykmJih2LmxldmVscz1jLmNvbnNvbGVUaW1lbGluZUxldmVscyksdi5lbmFibGVkJiZcImNvbnNvbGVcImluIGEmJmEuY29uc29sZS5sb2cmJlQuYXR0YWNoKGEuY29uc29sZSx2LnRpbWVsaW5lLHYuZGlzcGxheSx2LmVycm9yLHYubGV2ZWxzKSxzfHxVLmF0dGFjaCgpLHR8fHV8fFYuX19hdHRhY2hBamF4SG9va3MoKSxWfSxpbnN0YWxsOmZ1bmN0aW9uKCl7cmV0dXJuIGcoKT8oQy5yZXBvcnQuc3Vic2NyaWJlKGwpLEMuZXh0ZW5kVG9Bc3luY2hyb25vdXNDYWxsYmFja3MoKSxBJiZLJiZBLmFqYXhFcnJvcihmKSxWKTp2b2lkIDB9LHVuaW5zdGFsbDpmdW5jdGlvbigpe3JldHVybiBvPW51bGwsQy5yZXBvcnQudW5zdWJzY3JpYmUobCksQSYmSyYmQS51bmJpbmQoXCJhamF4RXJyb3JcIixmKSxWfSxzZXRDdXN0b21EYXRhOmZ1bmN0aW9uKGEpe3JldHVybiBwPWEsVn0sc2V0VGFnczpmdW5jdGlvbihhKXtyZXR1cm4gRT1hLFZ9LHNldEFsbG93ZWREb21haW5zOmZ1bmN0aW9uKGEpe3JldHVybiBhJiZSLmlzQXJyYXkoYSkmJihHPWEpLFZ9LGdldEFsbG93ZWREb21haW5zOmZ1bmN0aW9uKCl7cmV0dXJuIEd9LHNldFVzZXI6ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIHE9e30sYSYmKHEudXNlcklkPVwiXCIrYSksYiYmKHEuZW1haWw9XCJcIitiKSxjJiYocS5maXJzdE5hbWU9XCJcIitjKSxkJiYocS5sYXN0TmFtZT1cIlwiK2QpLFZ9LHNldFZlcnNpb246ZnVuY3Rpb24oYSl7cmV0dXJuIGEmJihyPVwiXCIrYSksVn0sZW5hYmxlT2ZmbGluZTpmdW5jdGlvbihhKXtyZXR1cm4gUi5pc0Jvb2xlYW4oYSkmJihJPWEpLFZ9LG9uQmVmb3JlRXJyb3JTZW5kOmZ1bmN0aW9uKGEpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIGEmJih6PWEpLFZ9LHNldEdyb3VwaW5nS2V5Q2FsbGJhY2s6ZnVuY3Rpb24oYSl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgYSYmKHk9YSksVn0sc2V0QVBJRW5kcG9pbnQ6ZnVuY3Rpb24oYSl7cmV0dXJuIE09YSxWfSxpbml0OmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYyYmKGI9Ynx8e30sYi5jdXN0b21EYXRhPWMpLFYuY29uZmlnKGEsYil9LHdpdGhDdXN0b21EYXRhOmZ1bmN0aW9uKGEpe3JldHVybiBWLnNldEN1c3RvbURhdGEoYSl9LHdpdGhUYWdzOmZ1bmN0aW9uKGEpe3JldHVybiBWLnNldFRhZ3MoYSl9LGF0dGFjaDpmdW5jdGlvbigpe3JldHVybiBWLmluc3RhbGwoKX0sZGV0YWNoOmZ1bmN0aW9uKCl7cmV0dXJuIFYudW5pbnN0YWxsKCl9LG5vdGlmeTpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIFYuc2VuZChhLGIsYyl9LHNlbmRQZXJmOmZ1bmN0aW9uKGEpe3JldHVybiB1P3ZvaWQgUi5sb2coXCJSVU0gaXMgZGlzYWJsZWQuIFBsZWFzZSBlbmFibGUgaXQgaW4gdGhlIGNvbmZpZyBvcHRpb25zLlwiKTptKE8sYSl9LHNlbmRBamF4UGVyZjpmdW5jdGlvbihhKXtyZXR1cm4gdT92b2lkIFIubG9nKFwiUlVNIGlzIGRpc2FibGVkLiBQbGVhc2UgZW5hYmxlIGl0IGluIHRoZSBjb25maWcgb3B0aW9ucy5cIik6bShQLGEpfSxzZW5kVHhuUGVyZjpmdW5jdGlvbihhKXtyZXR1cm4gbShRLGEpfSxzZW5kOmZ1bmN0aW9uKGEsYixjKXt0cnl7bChDLmNvbXB1dGVTdGFja1RyYWNlKGEpLHtjdXN0b21EYXRhOlIubWVyZ2UocCxiKSx0YWdzOlIubWVyZ2VBcnJheShFLGMpfSl9Y2F0Y2goZCl7aWYoYSE9PWQpdGhyb3cgZH1yZXR1cm4gVn0sX2hlbHBlcjpSfTthLmF0YXR1cz1WfSh3aW5kb3csZG9jdW1lbnQsd2luZG93LmpRdWVyeSksZnVuY3Rpb24oYSxiLGMpe2Z1bmN0aW9uIGQoYSl7YS5wbDw9MHx8YXRhdHVzLnNlbmRQZXJmKGEpfWZ1bmN0aW9uIGUoKXt2YXIgYj1hLnBlcmZvcm1hbmNlfHxhLm1velBlcmZvcm1hbmNlfHxhLm1zUGVyZm9ybWFuY2V8fGEud2Via2l0UGVyZm9ybWFuY2UsYz1iLnRpbWluZyxlPWIubmF2aWdhdGlvbjtpZigwPT09Yy5sb2FkRXZlbnRFbmQpcmV0dXJuITE7Y2xlYXJJbnRlcnZhbChpKSxpPW51bGw7dmFyIGY9Yy5uYXZpZ2F0aW9uU3RhcnQ7MD49ZiYmKGY9Yy5mZXRjaFN0YXJ0KTt2YXIgZz17fTtmb3IodmFyIGggaW4gailnW2pbaF1dPS0xLGggaW4gYyYmKGNbaF08PTB8fChnW2pbaF1dPWNbaF0tZikpO3ZhciBrPXtudHk6ZS50eXBlLHJjOmUucmVkaXJlY3RDb3VudCxudDpnLnJwcy1nLm5zLGRwOmcuZGNlLWcucnBzLHByOmcubGUtZy5kY2UsZmU6Zy5sZS1nLnJwcyxwbDpnLmxlLWcubnN9O2Qoayl9ZnVuY3Rpb24gZigpe2lmKCFofHwhaC5iRG9uZSlyZXR1cm4hMTtjbGVhckludGVydmFsKGkpLGk9ITE7dmFyIGE9aC5nZXRNZWFzdXJlcygpO2lmKG51bGwhPWEmJm51bGwhPWEuYmFja2VuZCYmbnVsbCE9YS5mcm9udGVuZCYmbnVsbCE9YVtcInBhZ2UgbG9hZCB0aW1lXCJdJiZudWxsIT1hW1widG90YWwgbG9hZCB0aW1lXCJdKXt2YXIgYj1hLmJhY2tlbmQsYz1hLmJhY2tlbmQrYS5mcm9udGVuZCxlPXtudHk6MCxyYzowLG50OmIsZHA6Yy1iLHByOmFbXCJ0b3RhbCBsb2FkIHRpbWVcIl0tYyxmZTphW1widG90YWwgbG9hZCB0aW1lXCJdLWIscGw6YVtcInRvdGFsIGxvYWQgdGltZVwiXX07ZChlKX19dmFyIGc9KG5ldyBEYXRlKS5nZXRUaW1lKCksaD1ofHx7fTtoLnE9aC5xfHxbXSxoLnZlcnNpb249XCIwLjNcIixoLnRhcmdldE9yaWdpbj1iLmxvY2F0aW9uLnByb3RvY29sK1wiLy9cIitiLmxvY2F0aW9uLmhvc3RuYW1lLGguYlBvc3RNZXNzYWdlPSExLGguYmVhY29uVXJsPWguYmVhY29uVXJsfHxcIi9pbWFnZXMvYmVhY29uLmdpZlwiLGguYXV0b3J1bj0hMSxoLmluaXQ9ZnVuY3Rpb24oKXtpZihoLmJEb25lPSExLGguYlVubG9hZGVkPSExLGgubWFya3M9e30saC5tZWFzdXJlcz17fSxoLnN0YXJ0cz17fSxoLmZpbmRTdGFydFRpbWUoKSxoLmFkZEV2ZW50TGlzdGVuZXIoXCJiZWZvcmV1bmxvYWRcIixoLmJlZm9yZVVubG9hZCwhMSksaC5hZGRFdmVudExpc3RlbmVyKFwicGFnZWhpZGVcIixoLmJlZm9yZVVubG9hZCwhMSksaC5hZGRFdmVudExpc3RlbmVyKFwidW5sb2FkXCIsaC5iZWZvcmVVbmxvYWQsITEpLGgucHJvY2Vzc1EoKSxcImNvbXBsZXRlXCI9PT1iLnJlYWR5U3RhdGUpe3ZhciBjPWEucGVyZm9ybWFuY2V8fGEubW96UGVyZm9ybWFuY2V8fGEubXNQZXJmb3JtYW5jZXx8YS53ZWJraXRQZXJmb3JtYW5jZTtjJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgYy50aW1pbmcmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBjLnRpbWluZy5sb2FkRXZlbnRFbmQmJihoLm1hcmsoXCJmaXJzdGJ5dGVcIixjLnRpbWluZy5yZXNwb25zZVN0YXJ0KSxoLm1hcmsoXCJvbmxvYWRcIixjLnRpbWluZy5sb2FkRXZlbnRFbmQpKSxoLmRvbmUoKX1lbHNlIGguYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIixoLm9ubG9hZCwhMSl9LGgucHJvY2Vzc1E9ZnVuY3Rpb24oKXtmb3IodmFyIGE9aC5xLmxlbmd0aCxiPTA7YT5iO2IrKyl7dmFyIGM9aC5xW2JdLGQ9Y1swXTtcIm1hcmtcIj09PWQ/aC5tYXJrKGNbMV0sY1syXSk6XCJtZWFzdXJlXCI9PT1kP2gubWVhc3VyZShjWzFdLGNbMl0sY1szXSk6XCJkb25lXCI9PT1kJiZoLmRvbmUoY1sxXSl9fSxoLm1hcms9ZnVuY3Rpb24oYixjKXtyZXR1cm4gaC5kcHJpbnQoXCJSVU1fRVBJU09ERVMubWFyazogXCIrYitcIiwgXCIrYyksYj8oaC5tYXJrc1tiXT1wYXJzZUludChjfHwobmV3IERhdGUpLmdldFRpbWUoKSksaC5iUG9zdE1lc3NhZ2UmJmEucG9zdE1lc3NhZ2UoXCJSVU1fRVBJU09ERVM6bWFyazpcIitiK1wiOlwiK2MsaC50YXJnZXRPcmlnaW4pLHZvaWQoXCJmaXJzdGJ5dGVcIj09PWI/aC5tZWFzdXJlKFwiYmFja2VuZFwiLFwic3RhcnR0aW1lXCIsXCJmaXJzdGJ5dGVcIik6XCJvbmxvYWRcIj09PWI/KGgubWVhc3VyZShcImZyb250ZW5kXCIsXCJmaXJzdGJ5dGVcIixcIm9ubG9hZFwiKSxoLm1lYXN1cmUoXCJwYWdlIGxvYWQgdGltZVwiLFwic3RhcnR0aW1lXCIsXCJvbmxvYWRcIikpOlwiZG9uZVwiPT09YiYmaC5tZWFzdXJlKFwidG90YWwgbG9hZCB0aW1lXCIsXCJzdGFydHRpbWVcIixcImRvbmVcIikpKTp2b2lkIGguZHByaW50KFwiRXJyb3I6IG1hcmtOYW1lIGlzIHVuZGVmaW5lZCBpbiBSVU1fRVBJU09ERVMubWFyay5cIil9LGgubWVhc3VyZT1mdW5jdGlvbihiLGMsZCl7aWYoaC5kcHJpbnQoXCJSVU1fRVBJU09ERVMubWVhc3VyZTogXCIrYitcIiwgXCIrYytcIiwgXCIrZCksIWIpcmV0dXJuIHZvaWQgaC5kcHJpbnQoXCJFcnJvcjogZXBpc29kZU5hbWUgaXMgdW5kZWZpbmVkIGluIFJVTV9FUElTT0RFUy5tZWFzdXJlLlwiKTt2YXIgZTtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgYyllPVwibnVtYmVyXCI9PXR5cGVvZiBoLm1hcmtzW2JdP2gubWFya3NbYl06KG5ldyBEYXRlKS5nZXRUaW1lKCk7ZWxzZSBpZihcIm51bWJlclwiPT10eXBlb2YgaC5tYXJrc1tjXSllPWgubWFya3NbY107ZWxzZXtpZihcIm51bWJlclwiIT10eXBlb2YgYylyZXR1cm4gdm9pZCBoLmRwcmludChcIkVycm9yOiB1bmV4cGVjdGVkIHN0YXJ0TmFtZU9yVGltZSBpbiBSVU1fRVBJU09ERVMubWVhc3VyZTogXCIrYyk7ZT1jfXZhciBmO2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBkKWY9KG5ldyBEYXRlKS5nZXRUaW1lKCk7ZWxzZSBpZihcIm51bWJlclwiPT10eXBlb2YgaC5tYXJrc1tkXSlmPWgubWFya3NbZF07ZWxzZXtpZihcIm51bWJlclwiIT10eXBlb2YgZClyZXR1cm4gdm9pZCBoLmRwcmludChcIkVycm9yOiB1bmV4cGVjdGVkIGVuZE5hbWVPclRpbWUgaW4gUlVNX0VQSVNPREVTLm1lYXN1cmU6IFwiK2QpO2Y9ZH1oLnN0YXJ0c1tiXT1wYXJzZUludChlKSxoLm1lYXN1cmVzW2JdPXBhcnNlSW50KGYtZSksaC5iUG9zdE1lc3NhZ2UmJmEucG9zdE1lc3NhZ2UoXCJSVU1fRVBJU09ERVM6bWVhc3VyZTpcIitiK1wiOlwiK2UrXCI6XCIrZixoLnRhcmdldE9yaWdpbil9LGguZG9uZT1mdW5jdGlvbihiKXtoLmJEb25lPSEwLGgubWFyayhcImRvbmVcIiksaC5iUG9zdE1lc3NhZ2UmJmEucG9zdE1lc3NhZ2UoXCJSVU1fRVBJU09ERVM6ZG9uZVwiLGgudGFyZ2V0T3JpZ2luKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBiJiZiKCl9LGguZ2V0TWFya3M9ZnVuY3Rpb24oKXtyZXR1cm4gaC5tYXJrc30saC5nZXRNZWFzdXJlcz1mdW5jdGlvbigpe3JldHVybiBoLm1lYXN1cmVzfSxoLmdldFN0YXJ0cz1mdW5jdGlvbigpe3JldHVybiBoLnN0YXJ0c30saC5maW5kU3RhcnRUaW1lPWZ1bmN0aW9uKCl7dmFyIGE9aC5maW5kU3RhcnRXZWJUaW1pbmcoKXx8aC5maW5kU3RhcnRDb29raWUoKTthJiZoLm1hcmsoXCJzdGFydHRpbWVcIixhKX0saC5maW5kU3RhcnRXZWJUaW1pbmc9ZnVuY3Rpb24oKXt2YXIgYixjPWEucGVyZm9ybWFuY2V8fGEubW96UGVyZm9ybWFuY2V8fGEubXNQZXJmb3JtYW5jZXx8YS53ZWJraXRQZXJmb3JtYW5jZTtyZXR1cm4gYyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGMudGltaW5nJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgYy50aW1pbmcubmF2aWdhdGlvblN0YXJ0JiYoYj1jLnRpbWluZy5uYXZpZ2F0aW9uU3RhcnQsaC5kcHJpbnQoXCJSVU1fRVBJU09ERVMuZmluZFN0YXJ0V2ViVGltaW5nOiBzdGFydFRpbWUgPSBcIitiKSksYn0saC5maW5kU3RhcnRDb29raWU9ZnVuY3Rpb24oKXtmb3IodmFyIGQ9Yi5jb29raWUuc3BsaXQoXCIgXCIpLGU9MDtlPGQubGVuZ3RoO2UrKylpZigwPT09ZFtlXS5pbmRleE9mKFwiUlVNX0VQSVNPREVTPVwiKSl7Zm9yKHZhciBmLGcsaT1kW2VdLnN1YnN0cmluZyhcIlJVTV9FUElTT0RFUz1cIi5sZW5ndGgpLnNwbGl0KFwiJlwiKSxqPTA7ajxpLmxlbmd0aDtqKyspaWYoMD09PWlbal0uaW5kZXhPZihcInM9XCIpKWY9aVtqXS5zdWJzdHJpbmcoMik7ZWxzZSBpZigwPT09aVtqXS5pbmRleE9mKFwicj1cIikpe3ZhciBrPWlbal0uc3Vic3RyaW5nKDIpO2s9ay5yZXBsYWNlKC87JC8sXCJcIiksZz1hLmVzY2FwZShiLnJlZmVycmVyKT09PWt9aWYoZyYmZilyZXR1cm4gaC5kcHJpbnQoXCJSVU1fRVBJU09ERVMuZmluZFN0YXJ0Q29va2llOiBzdGFydFRpbWUgPSBcIitmKSxmfXJldHVybiBjfSxoLmJlZm9yZVVubG9hZD1mdW5jdGlvbigpe2guYlVubG9hZGVkfHwoYi5jb29raWU9XCJSVU1fRVBJU09ERVM9cz1cIitOdW1iZXIobmV3IERhdGUpK1wiJnI9XCIrYS5lc2NhcGUoYi5sb2NhdGlvbikrXCI7IHBhdGg9L1wiLGguYlVubG9hZGVkPSEwKX0saC5vbmxvYWQ9ZnVuY3Rpb24oKXtoLm1hcmsoXCJvbmxvYWRcIiksaC5kb25lKCl9LGguYWRkRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihiLGMsZCl7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGEuYXR0YWNoRXZlbnQ/YS5hdHRhY2hFdmVudChcIm9uXCIrYixjKTphLmFkZEV2ZW50TGlzdGVuZXI/YS5hZGRFdmVudExpc3RlbmVyKGIsYyxkKTp2b2lkIDB9LGguZHByaW50PWZ1bmN0aW9uKCl7fSxoLmluaXQoKTt2YXIgaT1udWxsLGo9e25hdmlnYXRpb25TdGFydDpcIm5zXCIscmVkaXJlY3RTdGFydDpcInJkc1wiLHJlZGlyZWN0RW5kOlwicmRlXCIsdW5sb2FkRXZlbnRTdGFydDpcInVzXCIsdW5sb2FkRXZlbnRFbmQ6XCJ1ZVwiLGZldGNoU3RhcnQ6XCJmc1wiLGRvbWFpbkxvb2t1cFN0YXJ0OlwiZGxzXCIsZG9tYWluTG9va3VwRW5kOlwiZGxlXCIsY29ubmVjdFN0YXJ0OlwiY3NcIixzZWN1cmVDb25uZWN0aW9uU3RhcnQ6XCJzY3NcIixjb25uZWN0RW5kOlwiY2VcIixoYW5kc2hha2VTdGFydDpcImhzXCIscmVxdWVzdFN0YXJ0OlwicnFzXCIscmVzcG9uc2VTdGFydDpcInJwc1wiLHJlc3BvbnNlRW5kOlwicnBlXCIsZG9tTG9hZGluZzpcImRsXCIsZG9tSW50ZXJhY3RpdmU6XCJkaVwiLGRvbUNvbnRlbnRMb2FkZWRFdmVudFN0YXJ0OlwiZGNzXCIsZG9tQ29udGVudExvYWRlZEV2ZW50RW5kOlwiZGNlXCIsZG9tQ29tcGxldGU6XCJkY1wiLGxvYWRFdmVudFN0YXJ0OlwibHNcIixsb2FkRXZlbnRFbmQ6XCJsZVwifSxrPWEucGVyZm9ybWFuY2V8fGEubW96UGVyZm9ybWFuY2V8fGEubXNQZXJmb3JtYW5jZXx8YS53ZWJraXRQZXJmb3JtYW5jZTtrJiZcInVuZGVmaW5lZFwiIT10eXBlb2Ygay50aW1pbmcmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBrLm5hdmlnYXRpb24/aT1zZXRJbnRlcnZhbChlLDEwMCk6KGgubWFyayhcImZpcnN0Ynl0ZVwiLGcpLGk9c2V0SW50ZXJ2YWwoZiwxMDApKX0od2luZG93LGRvY3VtZW50KSxhdGF0dXMuX19hdHRhY2hBamF4SG9va3M9ZnVuY3Rpb24oKXshZnVuY3Rpb24oYSxiKXt2YXIgYz1hdGF0dXMuX2hlbHBlcixkPXtxdWV1ZTpbXSxiYXRjaFNpemU6MjUscHJvY2Vzc2luZzohMSxiVW5sb2FkZWQ6ITEscHVzaDpmdW5jdGlvbihhKXtcInN0cmluZ1wiPT10eXBlb2YgYS51cmwmJmEudXJsLmluZGV4T2YoXCIuaHRtbFwiKT4wfHwodGhpcy5xdWV1ZS5wdXNoKGEpLHRoaXMucXVldWUubGVuZ3RoPj10aGlzLmJhdGNoU2l6ZSYmdGhpcy5fcHJvY2Vzc1F1ZXVlKCkpfSxfcHJvY2Vzc1F1ZXVlOmZ1bmN0aW9uKCl7aWYoIXRoaXMucHJvY2Vzc2luZyYmdGhpcy5xdWV1ZS5sZW5ndGgpe3RoaXMucHJvY2Vzc2luZz0hMDt0cnl7Zm9yKHZhciBhPXt9LGI9e30sZD0wO2Q8dGhpcy5xdWV1ZS5sZW5ndGg7ZCsrKXt2YXIgZSxmPXRoaXMucXVldWVbZF07aWYoZi5zdGF0dXM8NDAwKXtlPWYubWV0aG9kK2YudXJsO3ZhciBnPWYucmVzcEF2YWlsVGltZS1mLnNlbmRUaW1lLGg9Zi5yZXNwUHJvY1RpbWUtZi5yZXNwQXZhaWxUaW1lLGk9Zi5yZWNlaXZlZFNpemUsaj1mLnNlbmRTaXplLGs9YVtlXTtpZihrKXtrLmMrKzt2YXIgbD1rLnJlO2wudD1sLnQrZyxsLmxvPWwubG88Zz9sLmxvOmcsbC5oaT1sLmhpPmc/bC5oaTpnLGwuc3NxPWwuc3NxK2cqZzt2YXIgbT1rLmNiO20udD1tLnQraCxtLmxvPW0ubG88aD9tLmxvOmgsbS5oaT1tLmhpPmg/bS5oaTpoLG0uc3NxPW0uc3NxK2gqaDt2YXIgbj1rLnJzO24udD1uLnQraSxuLmxvPW4ubG88aT9uLmxvOmksbi5oaT1uLmhpPmk/bi5oaTppLG4uc3NxPW4uc3NxK2kqaTt2YXIgbz1rLnNzO28udD1vLnQraixvLmxvPW8ubG88aj9vLmxvOmosby5oaT1vLmhpPmo/by5oaTpqLG8uc3NxPW8uc3NxK2oqan1lbHNlIGFbZV09e206Zi5tZXRob2QsdXJsOmYudXJsLGM6MSxyZTp7dDpnLGxvOmcsaGk6Zyxzc3E6ZypnfSxjYjp7dDpoLGxvOmgsaGk6aCxzc3E6aCpofSxyczp7dDpmLnJlY2VpdmVkU2l6ZSxsbzpmLnJlY2VpdmVkU2l6ZSxoaTpmLnJlY2VpdmVkU2l6ZSxzc3E6Zi5yZWNlaXZlZFNpemUqZi5yZWNlaXZlZFNpemV9LHNzOnt0OmYuc2VuZFNpemUsbG86Zi5zZW5kU2l6ZSxoaTpmLnNlbmRTaXplLHNzcTpmLnNlbmRTaXplKmYuc2VuZFNpemV9fX1lbHNlIGU9Zi5tZXRob2QrZi5zdGF0dXMrZi51cmwsYltlXT9iW2VdLmMrKzpiW2VdPXttOmYubWV0aG9kLHVybDpmLnVybCxzdDpmLnN0YXR1cyxjOjF9fXZhciBwPXt4aHI6Yy5hcnJheUZyb21PYmplY3QoYSkseGhyRXJyb3I6Yy5hcnJheUZyb21PYmplY3QoYil9O2F0YXR1cy5zZW5kQWpheFBlcmYocCl9Y2F0Y2gocSl7Yy5sb2coXCJFcnJvciB3aGlsZSBwcm9jZXNzaW5nIHF1ZXVlOiBcIixxKX1maW5hbGx5e3RoaXMucXVldWU9W10sdGhpcy5wcm9jZXNzaW5nPSExfX19LGJlZm9yZVVubG9hZDpmdW5jdGlvbigpe2QuYlVubG9hZGVkfHwoZC5fcHJvY2Vzc1F1ZXVlKCksZC5iVW5sb2FkZWQ9ITApfX07Yy5hZGRFdmVudExpc3RlbmVyKFwiYmVmb3JldW5sb2FkXCIsZC5iZWZvcmVVbmxvYWQsITEpO3ZhciBlPXtzdXBwb3J0OmZ1bmN0aW9uKGEpe3JldHVybiFhfHxcImFwcGx5XCJpbiBhfSxhcm91bmQ6ZnVuY3Rpb24oYSxiLGQsZSl7cmV0dXJuIGE9YXx8ZnVuY3Rpb24oKXt9LGZ1bmN0aW9uKCl7dmFyIGYsZz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO3RyeXtiJiYoZj1iLmFwcGx5KHRoaXMsZykpfWNhdGNoKGgpe2MubG9nKGUsaCl9dmFyIGk7dHJ5e2k9YS5hcHBseSh0aGlzLGZ8fGcpfWZpbmFsbHl7dHJ5e2QmJmQuYXBwbHkodGhpcyxnKX1jYXRjaChoKXtjLmxvZyhlLGgpfX1yZXR1cm4gaX19LGJlZm9yZTpmdW5jdGlvbihhLGIpe3JldHVybiBlLmFyb3VuZChhLGIpfSxhZnRlcjpmdW5jdGlvbihhLGIpe3JldHVybiBlLmFyb3VuZChhLG51bGwsYil9LHRpbWVvdXQ6ZnVuY3Rpb24oYSl7c2V0VGltZW91dChhLDApfSx3cmFwQWRkRXZlbnRMaXN0ZW5lcjpmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihhLGIpe2lmKChcImxvYWRcIj09PWF8fFwiZXJyb3JcIj09PWEpJiZiJiZ0aGlzLl9hdHJ1bVhockRhdGEpe3ZhciBjO2IuX19hdHJ1bUludGVyY2VwdG9yP2M9Yi5fX2F0cnVtSW50ZXJjZXB0b3I6ZS5zdXBwb3J0KGIpPyhjPWcud3JhcFhIUihiLHRoaXMsXCJYSFIuaW52b2tlRXZlbnRMaXN0ZW5lclwiKSxiLl9fYXRydW1JbnRlcmNlcHRvcj1jKTpjPW51bGw7dmFyIGQ7cmV0dXJuIGMmJihkPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyksZFsxXT1jKSxkfX19LHdyYXBSZW1vdmVFdmVudExpc3RlbmVyOmZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGEsYil7aWYodGhpcy5fYXRydW1YaHJEYXRhKXt2YXIgYz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO3JldHVybiBiLl9fYXRydW1JbnRlcmNlcHRvciYmKGNbMV09Yi5fX2F0cnVtSW50ZXJjZXB0b3IpLGN9fX0sYXJvdW5kV2l0aEhhbmRsZUV2ZW50OmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBmPWE7cmV0dXJuIGEmJlwib2JqZWN0XCI9PXR5cGVvZiBhJiZcInRvU3RyaW5nXCJpbiBhJiZcIlt4cGNvbm5lY3Qgd3JhcHBlZCBuc0lET01FdmVudExpc3RlbmVyXVwiPT09YS50b1N0cmluZygpJiZcImhhbmRsZUV2ZW50XCJpbiBhJiYoZj1mdW5jdGlvbigpe2EuaGFuZGxlRXZlbnQuYXBwbHkodGhpcyxBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpKX0pLGUuYXJvdW5kKGYsYixjLGQpfSxnZXRGdWxseVF1YWxpZmllZFVybDpmdW5jdGlvbihhKXt2YXIgYz1iLmNyZWF0ZUVsZW1lbnQoXCJhXCIpO3JldHVybiBjLmhyZWY9YSxjLmhyZWZ9fTtpZihhLlhNTEh0dHBSZXF1ZXN0JiZhLlhNTEh0dHBSZXF1ZXN0LnByb3RvdHlwZSl7dmFyIGY9YS5YTUxIdHRwUmVxdWVzdC5wcm90b3R5cGU7aWYoIShcIm9wZW5cImluIGYmJlwic2VuZFwiaW4gZikpcmV0dXJuO2lmKCFlLnN1cHBvcnQoZi5vcGVuKXx8IWUuc3VwcG9ydChmLnNlbmQpKXJldHVybjt2YXIgZz17fTtnLmNhcHR1cmVBamF4VGltaW5ncz1mdW5jdGlvbihhKXt2YXIgYj1hLl9hdHJ1bVhockRhdGE7aWYoYil7dmFyIGM9KG5ldyBEYXRlKS5nZXRUaW1lKCk7Mj09PWEucmVhZHlTdGF0ZT9iLmZpcnN0Qnl0ZVRpbWU9Yi5maXJzdEJ5dGVUaW1lfHxjOjQ9PT1hLnJlYWR5U3RhdGUmJihiLnJlc3BBdmFpbFRpbWU9Yi5yZXNwQXZhaWxUaW1lfHxjLGIuZmlyc3RCeXRlVGltZT1iLmZpcnN0Qnl0ZVRpbWV8fGMpfX0sZy5zZW5kUGF5bG9hZD1mdW5jdGlvbihhLGIpe2IucmVjZWl2ZWRTaXplPTAsYS5yZXNwb25zZVR5cGUmJlwidGV4dFwiIT09YS5yZXNwb25zZVR5cGV8fFwic3RyaW5nXCI9PXR5cGVvZiBhLnJlc3BvbnNlVGV4dCYmKGIucmVjZWl2ZWRTaXplPWEucmVzcG9uc2VUZXh0Lmxlbmd0aCksYi5zdGF0dXM9YS5zdGF0dXMsZC5wdXNoKGIpfSxnLndyYXBYSFI9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBlLmFyb3VuZFdpdGhIYW5kbGVFdmVudChhLGZ1bmN0aW9uKCl7Zy5jYXB0dXJlQWpheFRpbWluZ3ModGhpcyl9LGZ1bmN0aW9uKCl7dmFyIGE9Yi5fYXRydW1YaHJEYXRhO2lmKGEmJjQ9PT1iLnJlYWR5U3RhdGUpe3ZhciBjPShuZXcgRGF0ZSkuZ2V0VGltZSgpO2EucmVzcFByb2NUaW1lPWEucmVzcFByb2NUaW1lfHxjLGcuc2VuZFBheWxvYWQoYixhKSxkZWxldGUgYi5fYXRydW1YaHJEYXRhfX0sYyl9LGcuYWpheERvbmU9ZnVuY3Rpb24oYSl7aWYoYS5fYXRydW1YaHJEYXRhKXt2YXIgYj0obmV3IERhdGUpLmdldFRpbWUoKSszZTQsYz1mdW5jdGlvbigpe2cuY2FwdHVyZUFqYXhUaW1pbmdzKGEpO3ZhciBkPWEuX2F0cnVtWGhyRGF0YTtpZihkKXt2YXIgZT0obmV3IERhdGUpLmdldFRpbWUoKTs0PT09YS5yZWFkeVN0YXRlPyhkLnJlc3BQcm9jVGltZT1kLnJlc3BQcm9jVGltZXx8ZSxnLnNlbmRQYXlsb2FkKGEsZCksZGVsZXRlIGEuX2F0cnVtWGhyRGF0YSk6Yj5lP3NldFRpbWVvdXQoYyw1MCk6ZGVsZXRlIGEuX2F0cnVtWGhyRGF0YX19O2MoKX19LGYub3Blbj1lLmFyb3VuZChmLm9wZW4sZnVuY3Rpb24oKXt2YXIgYT0xPD1hcmd1bWVudHMubGVuZ3RoP1N0cmluZyhhcmd1bWVudHNbMF0pOlwiXCIsYj0yPD1hcmd1bWVudHMubGVuZ3RoP1N0cmluZyhhcmd1bWVudHNbMV0pOlwiXCIsYz1hdGF0dXMuZ2V0QWxsb3dlZERvbWFpbnMoKSxkPSEwO2lmKGI9ZS5nZXRGdWxseVF1YWxpZmllZFVybChiKSxiJiZjJiZjLmxlbmd0aCl7ZD0hMTtmb3IodmFyIGY9MDtmPGMubGVuZ3RoO2YrKyl7dmFyIGc9Y1tmXTtpZihnJiZiLmluZGV4T2YoZyk+LTEpe2Q9ITA7YnJlYWt9fX1kJiYoYj1iJiZiLnNwbGl0KFwiP1wiKVswXSx0aGlzLl9hdHJ1bVhockRhdGE9e21ldGhvZDphLHVybDpiLHNlbmRUaW1lOm51bGwsc2VuZFNpemU6bnVsbCxmaXJzdEJ5dGVUaW1lOm51bGwscmVzcEF2YWlsVGltZTpudWxsLHJlc3BQcm9jVGltZTpudWxsLHJlY2VpdmVkU2l6ZTpudWxsLHBhcmVudFBoYXNlOm51bGx9KX0sbnVsbCxcIlhIUi5vcGVuXCIpLGYuc2VuZD1lLmFyb3VuZChmLnNlbmQsZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9YS5fYXRydW1YaHJEYXRhO2lmKGIpe3ZhciBjPShuZXcgRGF0ZSkuZ2V0VGltZSgpO2Iuc2VuZFRpbWU9Yi5zZW5kVGltZXx8YyxiLnNlbmRTaXplPTE8PWFyZ3VtZW50cy5sZW5ndGgmJmFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF0ubGVuZ3RofHwwOjA7dmFyIGQ9MCxmPWZ1bmN0aW9uKCl7aWYoND09PWEucmVhZHlTdGF0ZSlnLmFqYXhEb25lKGEpO2Vsc2V7dmFyIGI9bnVsbDt0cnl7Yj1hLm9ucmVhZHlzdGF0ZWNoYW5nZX1jYXRjaChjKXtyZXR1cm4gdm9pZCBnLmFqYXhEb25lKGEpfWQrKyxiP2Uuc3VwcG9ydChiKT9hLm9ucmVhZHlzdGF0ZWNoYW5nZT1nLndyYXBYSFIoYixhLFwiWEhSLm9uUmVhZHlTdGF0ZUNoYW5nZVwiKTpnLmFqYXhEb25lKGEpOjU+ZD9lLnRpbWVvdXQoZik6Zy5hamF4RG9uZShhKX19O2YoKX19LG51bGwsXCJYSFIuc2VuZFwiKSxcImFkZEV2ZW50TGlzdGVuZXJcImluIGYmJlwicmVtb3ZlRXZlbnRMaXN0ZW5lclwiaW4gZiYmZS5zdXBwb3J0KGYuYWRkRXZlbnRMaXN0ZW5lcikmJmUuc3VwcG9ydChmLnJlbW92ZUV2ZW50TGlzdGVuZXIpJiYoZi5hZGRFdmVudExpc3RlbmVyPWUuYXJvdW5kKGYuYWRkRXZlbnRMaXN0ZW5lcixlLndyYXBBZGRFdmVudExpc3RlbmVyKCksbnVsbCxcIlhIUi5hZGRFdmVudExpc3RlbmVyXCIpLGYucmVtb3ZlRXZlbnRMaXN0ZW5lcj1lLmFyb3VuZChmLnJlbW92ZUV2ZW50TGlzdGVuZXIsZS53cmFwUmVtb3ZlRXZlbnRMaXN0ZW5lcigpLG51bGwsXCJYSFIucmVtb3ZlRXZlbnRMaXN0ZW5lclwiKSl9fSh3aW5kb3csZG9jdW1lbnQpfSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEsYixjKXtpZighKDA+PWIpKXt2YXIgZD17bmFtZTphLGR1cjpiLHN0OmN9O2F0YXR1cy5zZW5kVHhuUGVyZihkKX19ZnVuY3Rpb24gYyhhKXtyZXR1cm4gaCtcIiBcIithfWZ1bmN0aW9uIGQoKXt0cnl7cmV0dXJuXCJsb2NhbFN0b3JhZ2VcImluIGEmJm51bGwhPT1hLmxvY2FsU3RvcmFnZTt9Y2F0Y2goYil7cmV0dXJuITF9fWZ1bmN0aW9uIGUoYSl7dmFyIGI9aS5ub3coKTt0cnl7bG9jYWxTdG9yYWdlLnNldEl0ZW0oYyhhKSxiKX1jYXRjaChkKXt9fWZ1bmN0aW9uIGYoYSl7dmFyIGI9bnVsbCxkPWMoYSk7dHJ5e2I9bG9jYWxTdG9yYWdlLmdldEl0ZW0oZCksbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oZCl9Y2F0Y2goZSl7fXZhciBmPTA7cmV0dXJuIGImJihmPWkubm93KCktYiksZn1mdW5jdGlvbiBnKGEpe3RyeXt2YXIgYj1jKGEpO2xvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGIpfWNhdGNoKGQpe319dmFyIGg9XCJhdGF0dXMuY29tL1wiLGk9YXRhdHVzLl9oZWxwZXIsaj0xLGs9MDthdGF0dXMuYmVnaW5UcmFuc2FjdGlvbj1mdW5jdGlvbihhKXtkKCkmJmUoYSl9LGF0YXR1cy5lbmRUcmFuc2FjdGlvbj1mdW5jdGlvbihhKXtpZihkKCkpe3ZhciBjPWYoYSk7YihhLGMsail9fSxhdGF0dXMuZmFpbFRyYW5zYWN0aW9uPWZ1bmN0aW9uKGEpe2lmKGQoKSl7dmFyIGM9ZihhKTtiKGEsYyxrKX19LGF0YXR1cy5jYW5jZWxUcmFuc2FjdGlvbj1mdW5jdGlvbihhKXtkKCkmJmcoYSl9fSh3aW5kb3csZG9jdW1lbnQpO1xuLyohIGh0dHBzOi8vZ2l0aHViLmNvbS90dGF1YmVydC9ub2RlLWFycmF5YnVmZmVyLXNsaWNlXG4gKiAoYykgMjAxNCBUaW0gVGF1YmVydCA8dGltQHRpbXRhdWJlcnQuZGU+XG4gKiBhcnJheWJ1ZmZlci1zbGljZSBtYXkgYmUgZnJlZWx5IGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS4qL1xuIWZ1bmN0aW9uKHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHQocix0KXtyZXR1cm4gcj0wfHJ8fDAscjwwP01hdGgubWF4KHIrdCwwKTpNYXRoLm1pbihyLHQpfUFycmF5QnVmZmVyLnByb3RvdHlwZS5zbGljZXx8KEFycmF5QnVmZmVyLnByb3RvdHlwZS5zbGljZT1mdW5jdGlvbihlLG4pe3ZhciBmPXRoaXMuYnl0ZUxlbmd0aCxpPXQoZSxmKSxhPWY7aWYobiE9PXImJihhPXQobixmKSksaT5hKXJldHVybiBuZXcgQXJyYXlCdWZmZXIoMCk7dmFyIHU9YS1pLHk9bmV3IEFycmF5QnVmZmVyKHUpLG89bmV3IFVpbnQ4QXJyYXkoeSkscz1uZXcgVWludDhBcnJheSh0aGlzLGksdSk7cmV0dXJuIG8uc2V0KHMpLHl9KX0oKTtcbiFmdW5jdGlvbih0KXtmdW5jdGlvbiBlKHIpe2lmKGlbcl0pcmV0dXJuIGlbcl0udDt2YXIgbj1pW3JdPXt0Ont9LGlkOnIsbG9hZGVkOiExfTtyZXR1cm4gdFtyXS5jYWxsKG4udCxuLG4udCxlKSxuLmxvYWRlZD0hMCxuLnR9dmFyIGk9e307cmV0dXJuIGUuaT10LGUuYz1pLGUubz1cIlwiLGUoMCl9KFtmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gaSgpe3RoaXMuY29uc3RydWN0b3I9dH1mb3IodmFyIHIgaW4gZSllLmhhc093blByb3BlcnR5KHIpJiYodFtyXT1lW3JdKTt0LnByb3RvdHlwZT1udWxsPT09ZT9PYmplY3QuY3JlYXRlKGUpOihpLnByb3RvdHlwZT1lLnByb3RvdHlwZSxuZXcgaSl9LG49aSgyNSksbz1pKDcpLHM9aSg5KSxhPWkoMSk7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIGMpdmFyIGM9M2U0O3ZhciBoPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxpKXt2YXIgcj10LmNhbGwodGhpcyxpKXx8dGhpcztyZXR1cm4gci5wbHVnaW5OYW1lPVwiYml0bW92aW5cIixyLnM9ITEsci5wbGF5ZXI9ZSxyLnBsYXllci5pbml0U2Vzc2lvbj1mdW5jdGlvbih0KXtyZXR1cm4gci5oKCksci5wKHQpLnRpbWVvdXQoYyxyLnUrXCIgSGl2ZSBQbHVnaW4gaW5pdGlhbGl6YXRpb24gdGltZW91dFwiKS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiByLmwoKSx0LmcoKX0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24odCl7cmV0dXJuIHIudigpLHIuaCgpLHIubSgpLmRlYnVnKHIudStcIiBlcnJvciBvY2N1cnJlZCByZXNvbHZpbmcgdGhlIHRpY2tldCAtIFwiK3Quc3RhY2spLGEucmVqZWN0KHQpfSl9LHIubSgpLm5vdGljZShyLnUrXCJyZWdpc3RlcmVkIHBsdWdpbiBbbmFtZTpcIityLlQoKStcIl1baWQ6IFwiK3IuUygpK1wiXVt2ZXJzaW9uOiBcIityLkkoKStcIl1cIikscn1yZXR1cm4gcihlLHQpLGUucHJvdG90eXBlLmw9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuc3x8KHRoaXMucGxheWVyLmFkZEV2ZW50SGFuZGxlcihcIm9uUmVhZHlcIixmdW5jdGlvbigpe2lmKHQubSgpLmRlYnVnKFwiYml0bW92aW4ucGxheWVyLkVWRU5ULk9OX1JFQURZXCIpLHQuUigpKXt2YXIgZT0hIXQucGxheWVyLmdldENvbmZpZygpLnBsYXliYWNrJiZ0LnBsYXllci5nZXRDb25maWcoKS5wbGF5YmFjay5hdXRvO2UmJnQuayghMSksdC5DKCkmJih0Lk89bmV3IG8uUCl9fSksdGhpcy5wbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKFwib25QbGF5XCIsZnVuY3Rpb24oKXt0Lm0oKS5kZWJ1ZyhcImJpdG1vdmluLnBsYXllci5FVkVOVC5PTl9QTEFZXCIpLHQuQShzLkYuQi5OKX0pLHRoaXMucGxheWVyLmFkZEV2ZW50SGFuZGxlcihcIm9uRXJyb3JcIixmdW5jdGlvbihlKXt0Lm0oKS5kZWJ1ZyhcImJpdG1vdmluLnBsYXllci5FVkVOVC5PTl9FUlJPUlwiKTt2YXIgaT0tMSxyPW51bGw7aWYobnVsbCE9ZSl0cnl7aT1lLmNvZGUscj1KU09OLnN0cmluZ2lmeShlLG51bGwpfWNhdGNoKG4pe3I9ZX10Lm9uRXJyb3IoaSxyKX0pLHRoaXMucGxheWVyLmFkZEV2ZW50SGFuZGxlcihcIm9uUGxheWJhY2tGaW5pc2hlZFwiLGZ1bmN0aW9uKCl7dC5tKCkuZGVidWcoXCJiaXRtb3Zpbi5wbGF5ZXIuRVZFTlQuT05fUExBWUJBQ0tfRklOSVNIRURcIiksdC5fKHMuRi5CLkQse2NvZGU6MX0pfSksdGhpcy5wbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKFwib25TZWVrXCIsZnVuY3Rpb24oKXt0Lm0oKS5kZWJ1ZyhcImJpdG1vdmluLnBsYXllci5FVkVOVC5PTl9TRUVLXCIpLHQuXyhzLkYuQi5IKX0pLHRoaXMucGxheWVyLmFkZEV2ZW50SGFuZGxlcihcIm9uRnVsbHNjcmVlbkVudGVyXCIsZnVuY3Rpb24oKXt0Lm0oKS5kZWJ1ZyhcImJpdG1vdmluLnBsYXllci5FVkVOVC5PTl9GVUxMU0NSRUVOX0VOVEVSXCIpLHQuXyhzLkYuQi5MLHt2YWx1ZTohMH0pfSksdGhpcy5wbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKFwib25GdWxsc2NyZWVuRXhpdFwiLGZ1bmN0aW9uKCl7dC5tKCkuZGVidWcoXCJiaXRtb3Zpbi5wbGF5ZXIuRVZFTlQuT05fRlVMTFNDUkVFTl9FWElUXCIpLHQuXyhzLkYuQi5MLHt2YWx1ZTohMX0pfSksdGhpcy5wbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKFwib25TZWdtZW50UmVxdWVzdEZpbmlzaGVkXCIsZnVuY3Rpb24oZSl7dmFyIGk9ZS5taW1lVHlwZS5pbmRleE9mKFwidmlkZW9cIik+PTA7aWYoZS5zdWNjZXNzKXt2YXIgcj04KmUuc2l6ZS9lLmRvd25sb2FkVGltZTt0Lk8uTShpLHQuaixlLnNpemUpLHQuTy5VKHIpfWVsc2UgdC5PLlYoaSx0LmopfSksMD09PXRoaXMucSgpLmluZGV4T2YoXCI3XCIpP3RoaXMuSigpOjA9PT10aGlzLnEoKS5pbmRleE9mKFwiNlwiKSYmdGhpcy5LKCksdGhpcy5zPSEwKX0sZS5wcm90b3R5cGUuSz1mdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy5wbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKFwib25TdGFydEJ1ZmZlcmluZ1wiLGZ1bmN0aW9uKCl7dC5tKCkuZGVidWcoXCJiaXRtb3Zpbi5wbGF5ZXIuRVZFTlQuT05fU1RBUlRfQlVGRkVSSU5HXCIpLHQuaygpfSksdGhpcy5wbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKFwib25TdG9wQnVmZmVyaW5nXCIsZnVuY3Rpb24oKXt0Lm0oKS5kZWJ1ZyhcImJpdG1vdmluLnBsYXllci5FVkVOVC5PTl9TVE9QX0JVRkZFUklOR1wiKSx0LkcoKX0pLHRoaXMucGxheWVyLmFkZEV2ZW50SGFuZGxlcihcIm9uUGF1c2VcIixmdW5jdGlvbigpe3QubSgpLmRlYnVnKFwiYml0bW92aW4ucGxheWVyLkVWRU5ULk9OX1BBVVNFXCIpLHQuQShzLkYuQi5XKX0pLHRoaXMucGxheWVyLmFkZEV2ZW50SGFuZGxlcihcIm9uVmlkZW9Eb3dubG9hZFF1YWxpdHlDaGFuZ2VcIixmdW5jdGlvbihlKXt2YXIgaT10LiQoKTtpPT09U3RyZWFtUHJvdG9jb2wuWT90LlgoZS50YXJnZXRRdWFsaXR5KTp0LlgoZS50YXJnZXRRdWFsaXR5LnNwbGl0KFwiYnJcIilbMV0pfSl9LGUucHJvdG90eXBlLko9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMucGxheWVyLmFkZEV2ZW50SGFuZGxlcihcIm9uU3RhbGxTdGFydGVkXCIsZnVuY3Rpb24oKXt0Lm0oKS5kZWJ1ZyhcImJpdG1vdmluLnBsYXllci5FVkVOVC5PTl9TVEFMTF9TVEFSVEVEXCIpLHQuaygpfSksdGhpcy5wbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKFwib25TdGFsbEVuZGVkXCIsZnVuY3Rpb24oKXt0Lm0oKS5kZWJ1ZyhcImJpdG1vdmluLnBsYXllci5FVkVOVC5PTl9TVEFMTF9FTkRFRFwiKSx0LkcoKX0pLHRoaXMucGxheWVyLmFkZEV2ZW50SGFuZGxlcihcIm9uUGF1c2VkXCIsZnVuY3Rpb24oKXt0Lm0oKS5kZWJ1ZyhcImJpdG1vdmluLnBsYXllci5FVkVOVC5PTl9QQVVTRURcIiksdC5BKHMuRi5CLlcpfSksdGhpcy5wbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKFwib25WaWRlb0Rvd25sb2FkUXVhbGl0eUNoYW5nZWRcIixmdW5jdGlvbihlKXt0LlgoZS50YXJnZXRRdWFsaXR5SWQuYml0cmF0ZSl9KX0sZS5wcm90b3R5cGUuWD1mdW5jdGlvbih0KXt0aGlzLm0oKS5kZWJ1ZyhcIm5ld0JpdHJhdGVcIix0KSx0aGlzLmomJnQ+dGhpcy5qP3RoaXMuTy5aKCk6dGhpcy5qJiZ0aGlzLmo+dCYmdGhpcy5PLnR0KCksdGhpcy5qPXR9LGUucHJvdG90eXBlLkE9ZnVuY3Rpb24odCl7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHRoaXMuZXQmJnRoaXMuZXQhPT10JiYodGhpcy5fKHQpLHRoaXMuZXQ9dCl9LGUucHJvdG90eXBlLml0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy4kKCk7cmV0dXJuIHQ9PT1TdHJlYW1Qcm90b2NvbC5ZP3RoaXMucGxheWVyLmdldENvbmZpZygpLnNvdXJjZS5obHM6dD09PVN0cmVhbVByb3RvY29sLnJ0P3RoaXMucGxheWVyLmdldENvbmZpZygpLnNvdXJjZS5kYXNoOnZvaWQgMH0sZS5wcm90b3R5cGUuZ2V0Q3VycmVudFRpbWU9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9dGhpcy5wbGF5ZXI/TWF0aC5yb3VuZCgxZTMqdGhpcy5wbGF5ZXIuZ2V0Q3VycmVudFRpbWUoKSk6MH0sZS5wcm90b3R5cGUubnQ9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9dGhpcy5wbGF5ZXImJm51bGwhPXRoaXMucGxheWVyLmdldFZpZGVvQnVmZmVyTGVuZ3RoJiZ0aGlzLnBsYXllci5nZXRWaWRlb0J1ZmZlckxlbmd0aCgpPjA/TWF0aC5tYXgoMCxNYXRoLnJvdW5kKDFlMyp0aGlzLnBsYXllci5nZXRWaWRlb0J1ZmZlckxlbmd0aCgpKSk6MH0sZS5wcm90b3R5cGUub3Q9ZnVuY3Rpb24oKXtpZih0aGlzLnBsYXllcil7dmFyIHQ9dGhpcy5wbGF5ZXIuZ2V0RmlndXJlKCk7cmV0dXJue3dpZHRoOnQub2Zmc2V0V2lkdGgsaGVpZ2h0OnQub2Zmc2V0SGVpZ2h0fX19LGUucHJvdG90eXBlLmlzRnVsbHNjcmVlbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBsYXllci5pc0Z1bGxzY3JlZW4oKX0sZS5wcm90b3R5cGUuaXNMaXZlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGxheWVyLmlzTGl2ZSgpfSxlLnByb3RvdHlwZS5zdD1mdW5jdGlvbigpe3JldHVybiEwfSxlLnByb3RvdHlwZS4kPWZ1bmN0aW9uKCl7aWYodGhpcy5wbGF5ZXIpe3ZhciB0PXRoaXMucGxheWVyLmdldFN0cmVhbVR5cGUoKTtpZihcImhsc1wiPT09dClyZXR1cm4gU3RyZWFtUHJvdG9jb2wuWTtpZihcImRhc2hcIj09PXQpcmV0dXJuIFN0cmVhbVByb3RvY29sLnJ0fXJldHVybiBudWxsfSxlLnByb3RvdHlwZS5hdD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuTztyZXR1cm4gdGhpcy5PPW5ldyBvLlAsdH0sZS5wcm90b3R5cGUuVD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBsdWdpbk5hbWV9LGUucHJvdG90eXBlLkk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jdCgpfSxlLnByb3RvdHlwZS5odD1mdW5jdGlvbigpe2lmKHRoaXMucGxheWVyKXJldHVybiB0aGlzLnBsYXllci5nZXRQbGF5ZXJUeXBlKCl9LGUucHJvdG90eXBlLnE9ZnVuY3Rpb24oKXtyZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2YgYml0bW92aW4ucGxheWVyLnZlcnNpb24/Yml0bW92aW4ucGxheWVyLnZlcnNpb246dGhpcy5wbGF5ZXIuZ2V0VmVyc2lvbigpfSxlfShuLnB0LlBsdWdpbik7ZS51dD1oO3ZhciBwPWZ1bmN0aW9uKHQsZSl7bmV3IGgodCxlKX07Yml0bW92aW4uaW5pdEhpdmVTRE49cH0sZnVuY3Rpb24odCxlLGkpey8qIVxuICpcbiAqIENvcHlyaWdodCAyMDA5LTIwMTYgS3JpcyBLb3dhbCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIE1JVFxuICogbGljZW5zZSBmb3VuZCBhdCBodHRwczovL2dpdGh1Yi5jb20va3Jpc2tvd2FsL3EvYmxvYi92MS9MSUNFTlNFXG4gKlxuICogV2l0aCBwYXJ0cyBieSBUeWxlciBDbG9zZVxuICogQ29weXJpZ2h0IDIwMDctMjAwOSBUeWxlciBDbG9zZSB1bmRlciB0aGUgdGVybXMgb2YgdGhlIE1JVCBYIGxpY2Vuc2UgZm91bmRcbiAqIGF0IGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UuaHRtbFxuICogRm9ya2VkIGF0IHJlZl9zZW5kLmpzIHZlcnNpb246IDIwMDktMDUtMTFcbiAqXG4gKiBXaXRoIHBhcnRzIGJ5IE1hcmsgTWlsbGVyXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTEgR29vZ2xlIEluYy5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbiAgIWZ1bmN0aW9uKGUpe1widXNlIHN0cmljdFwiO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGJvb3RzdHJhcClib290c3RyYXAoXCJwcm9taXNlXCIsZSk7ZWxzZXt0LnQ9ZSgpfX0oZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiB0KHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB6LmFwcGx5KHQsYXJndW1lbnRzKX19ZnVuY3Rpb24gZSh0KXtyZXR1cm4gdD09PU9iamVjdCh0KX1mdW5jdGlvbiBpKHQpe3JldHVyblwiW29iamVjdCBTdG9wSXRlcmF0aW9uXVwiPT09aXQodCl8fHQgaW5zdGFuY2VvZiBxfWZ1bmN0aW9uIHIodCxlKXtpZihVJiZlLnN0YWNrJiZcIm9iamVjdFwiPT10eXBlb2YgdCYmbnVsbCE9PXQmJnQuc3RhY2smJnQuc3RhY2suaW5kZXhPZihydCk9PT0tMSl7Zm9yKHZhciBpPVtdLHI9ZTtyO3I9ci5zb3VyY2Upci5zdGFjayYmaS51bnNoaWZ0KHIuc3RhY2spO2kudW5zaGlmdCh0LnN0YWNrKTt2YXIgbz1pLmpvaW4oXCJcXG5cIitydCtcIlxcblwiKTt0LnN0YWNrPW4obyl9fWZ1bmN0aW9uIG4odCl7Zm9yKHZhciBlPXQuc3BsaXQoXCJcXG5cIiksaT1bXSxyPTA7cjxlLmxlbmd0aDsrK3Ipe3ZhciBuPWVbcl07YShuKXx8byhuKXx8IW58fGkucHVzaChuKX1yZXR1cm4gaS5qb2luKFwiXFxuXCIpfWZ1bmN0aW9uIG8odCl7cmV0dXJuIHQuaW5kZXhPZihcIihtb2R1bGUuanM6XCIpIT09LTF8fHQuaW5kZXhPZihcIihub2RlLmpzOlwiKSE9PS0xfWZ1bmN0aW9uIHModCl7dmFyIGU9L2F0IC4rIFxcKCguKyk6KFxcZCspOig/OlxcZCspXFwpJC8uZXhlYyh0KTtpZihlKXJldHVybltlWzFdLE51bWJlcihlWzJdKV07dmFyIGk9L2F0IChbXiBdKyk6KFxcZCspOig/OlxcZCspJC8uZXhlYyh0KTtpZihpKXJldHVybltpWzFdLE51bWJlcihpWzJdKV07dmFyIHI9Ly4qQCguKyk6KFxcZCspJC8uZXhlYyh0KTtyZXR1cm4gcj9bclsxXSxOdW1iZXIoclsyXSldOnZvaWQgMH1mdW5jdGlvbiBhKHQpe3ZhciBlPXModCk7aWYoIWUpcmV0dXJuITE7dmFyIGk9ZVswXSxyPWVbMV07cmV0dXJuIGk9PT1RJiZyPj1KJiZyPD1jdH1mdW5jdGlvbiBjKCl7aWYoVSl0cnl7dGhyb3cgbmV3IEVycm9yfWNhdGNoKHQpe3ZhciBlPXQuc3RhY2suc3BsaXQoXCJcXG5cIiksaT1lWzBdLmluZGV4T2YoXCJAXCIpPjA/ZVsxXTplWzJdLHI9cyhpKTtpZighcilyZXR1cm47cmV0dXJuIFE9clswXSxyWzFdfX1mdW5jdGlvbiBoKHQsZSxpKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2YgY29uc29sZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgY29uc29sZS53YXJuJiZjb25zb2xlLndhcm4oZStcIiBpcyBkZXByZWNhdGVkLCB1c2UgXCIraStcIiBpbnN0ZWFkLlwiLG5ldyBFcnJvcihcIlwiKS5zdGFjayksdC5hcHBseSh0LGFyZ3VtZW50cyl9fWZ1bmN0aW9uIHAodCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBmP3Q6bSh0KT9DKHQpOmsodCl9ZnVuY3Rpb24gdSgpe2Z1bmN0aW9uIHQodCl7ZT10LHAubHQmJlUmJihvLnNvdXJjZT10KSwkKGksZnVuY3Rpb24oZSxpKXtwLmR0KGZ1bmN0aW9uKCl7dC5mdC5hcHBseSh0LGkpfSl9LHZvaWQgMCksaT12b2lkIDAscj12b2lkIDB9dmFyIGUsaT1bXSxyPVtdLG49Wih1LnByb3RvdHlwZSksbz1aKGYucHJvdG90eXBlKTtpZihvLmZ0PWZ1bmN0aW9uKHQsbixvKXt2YXIgcz1XKGFyZ3VtZW50cyk7aT8oaS5wdXNoKHMpLFwid2hlblwiPT09biYmb1sxXSYmci5wdXNoKG9bMV0pKTpwLmR0KGZ1bmN0aW9uKCl7ZS5mdC5hcHBseShlLHMpfSl9LG8udmFsdWVPZj1mdW5jdGlvbigpe2lmKGkpcmV0dXJuIG87dmFyIHQ9dihlKTtyZXR1cm4geSh0KSYmKGU9dCksdH0sby5ndD1mdW5jdGlvbigpe3JldHVybiBlP2UuZ3QoKTp7c3RhdGU6XCJwZW5kaW5nXCJ9fSxwLmx0JiZVKXRyeXt0aHJvdyBuZXcgRXJyb3J9Y2F0Y2gocyl7by5zdGFjaz1zLnN0YWNrLnN1YnN0cmluZyhzLnN0YWNrLmluZGV4T2YoXCJcXG5cIikrMSl9cmV0dXJuIG4udnQ9byxuLnJlc29sdmU9ZnVuY3Rpb24oaSl7ZXx8dChwKGkpKX0sbi55dD1mdW5jdGlvbihpKXtlfHx0KGsoaSkpfSxuLnJlamVjdD1mdW5jdGlvbihpKXtlfHx0KFIoaSkpfSxuLm5vdGlmeT1mdW5jdGlvbih0KXtlfHwkKHIsZnVuY3Rpb24oZSxpKXtwLmR0KGZ1bmN0aW9uKCl7aSh0KX0pfSx2b2lkIDApfSxufWZ1bmN0aW9uIGwodCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKFwicmVzb2x2ZXIgbXVzdCBiZSBhIGZ1bmN0aW9uLlwiKTt2YXIgZT11KCk7dHJ5e3QoZS5yZXNvbHZlLGUucmVqZWN0LGUubm90aWZ5KX1jYXRjaChpKXtlLnJlamVjdChpKX1yZXR1cm4gZS52dH1mdW5jdGlvbiBkKHQpe3JldHVybiBsKGZ1bmN0aW9uKGUsaSl7Zm9yKHZhciByPTAsbj10Lmxlbmd0aDtyPG47cisrKXAodFtyXSkudGhlbihlLGkpfSl9ZnVuY3Rpb24gZih0LGUsaSl7dm9pZCAwPT09ZSYmKGU9ZnVuY3Rpb24odCl7cmV0dXJuIFIobmV3IEVycm9yKFwiUHJvbWlzZSBkb2VzIG5vdCBzdXBwb3J0IG9wZXJhdGlvbjogXCIrdCkpfSksdm9pZCAwPT09aSYmKGk9ZnVuY3Rpb24oKXtyZXR1cm57c3RhdGU6XCJ1bmtub3duXCJ9fSk7dmFyIHI9WihmLnByb3RvdHlwZSk7aWYoci5mdD1mdW5jdGlvbihpLG4sbyl7dmFyIHM7dHJ5e3M9dFtuXT90W25dLmFwcGx5KHIsbyk6ZS5jYWxsKHIsbixvKX1jYXRjaChhKXtzPVIoYSl9aSYmaShzKX0sci5ndD1pLGkpe3ZhciBuPWkoKTtcInJlamVjdGVkXCI9PT1uLnN0YXRlJiYoci5leGNlcHRpb249bi5yZWFzb24pLHIudmFsdWVPZj1mdW5jdGlvbigpe3ZhciB0PWkoKTtyZXR1cm5cInBlbmRpbmdcIj09PXQuc3RhdGV8fFwicmVqZWN0ZWRcIj09PXQuc3RhdGU/cjp0LnZhbHVlfX1yZXR1cm4gcn1mdW5jdGlvbiBnKHQsZSxpLHIpe3JldHVybiBwKHQpLnRoZW4oZSxpLHIpfWZ1bmN0aW9uIHYodCl7aWYoeSh0KSl7dmFyIGU9dC5ndCgpO2lmKFwiZnVsZmlsbGVkXCI9PT1lLnN0YXRlKXJldHVybiBlLnZhbHVlfXJldHVybiB0fWZ1bmN0aW9uIHkodCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBmfWZ1bmN0aW9uIG0odCl7cmV0dXJuIGUodCkmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQudGhlbn1mdW5jdGlvbiB3KHQpe3JldHVybiB5KHQpJiZcInBlbmRpbmdcIj09PXQuZ3QoKS5zdGF0ZX1mdW5jdGlvbiBUKHQpe3JldHVybiF5KHQpfHxcImZ1bGZpbGxlZFwiPT09dC5ndCgpLnN0YXRlfWZ1bmN0aW9uIFModCl7cmV0dXJuIHkodCkmJlwicmVqZWN0ZWRcIj09PXQuZ3QoKS5zdGF0ZX1mdW5jdGlvbiBiKCl7bnQubGVuZ3RoPTAsb3QubGVuZ3RoPTAsYXR8fChhdD0hMCl9ZnVuY3Rpb24gRSh0LGUpe2F0JiYoXCJvYmplY3RcIj09dHlwZW9mIHByb2Nlc3MmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHByb2Nlc3MuZW1pdCYmcC5kdC53dChmdW5jdGlvbigpe1kob3QsdCkhPT0tMSYmKHByb2Nlc3MuZW1pdChcInVuaGFuZGxlZFJlamVjdGlvblwiLGUsdCksc3QucHVzaCh0KSl9KSxvdC5wdXNoKHQpLGUmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBlLnN0YWNrP250LnB1c2goZS5zdGFjayk6bnQucHVzaChcIihubyBzdGFjaykgXCIrZSkpfWZ1bmN0aW9uIEkodCl7aWYoYXQpe3ZhciBlPVkob3QsdCk7ZSE9PS0xJiYoXCJvYmplY3RcIj09dHlwZW9mIHByb2Nlc3MmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHByb2Nlc3MuZW1pdCYmcC5kdC53dChmdW5jdGlvbigpe3ZhciBpPVkoc3QsdCk7aSE9PS0xJiYocHJvY2Vzcy5lbWl0KFwicmVqZWN0aW9uSGFuZGxlZFwiLG50W2VdLHQpLHN0LnNwbGljZShpLDEpKX0pLG90LnNwbGljZShlLDEpLG50LnNwbGljZShlLDEpKX19ZnVuY3Rpb24gUih0KXt2YXIgZT1mKHt3aGVuOmZ1bmN0aW9uKGUpe3JldHVybiBlJiZJKHRoaXMpLGU/ZSh0KTp0aGlzfX0sZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sZnVuY3Rpb24oKXtyZXR1cm57c3RhdGU6XCJyZWplY3RlZFwiLHJlYXNvbjp0fX0pO3JldHVybiBFKGUsdCksZX1mdW5jdGlvbiBrKHQpe3JldHVybiBmKHt3aGVuOmZ1bmN0aW9uKCl7cmV0dXJuIHR9LGdldDpmdW5jdGlvbihlKXtyZXR1cm4gdFtlXX0sc2V0OmZ1bmN0aW9uKGUsaSl7dFtlXT1pfSxcImRlbGV0ZVwiOmZ1bmN0aW9uKGUpe2RlbGV0ZSB0W2VdfSxUdDpmdW5jdGlvbihlLGkpe3JldHVybiBudWxsPT09ZXx8dm9pZCAwPT09ZT90LmFwcGx5KHZvaWQgMCxpKTp0W2VdLmFwcGx5KHQsaSl9LGFwcGx5OmZ1bmN0aW9uKGUsaSl7cmV0dXJuIHQuYXBwbHkoZSxpKX0sa2V5czpmdW5jdGlvbigpe3JldHVybiBldCh0KX19LHZvaWQgMCxmdW5jdGlvbigpe3JldHVybntzdGF0ZTpcImZ1bGZpbGxlZFwiLHZhbHVlOnR9fSl9ZnVuY3Rpb24gQyh0KXt2YXIgZT11KCk7cmV0dXJuIHAuZHQoZnVuY3Rpb24oKXt0cnl7dC50aGVuKGUucmVzb2x2ZSxlLnJlamVjdCxlLm5vdGlmeSl9Y2F0Y2goaSl7ZS5yZWplY3QoaSl9fSksZS52dH1mdW5jdGlvbiBPKHQpe3JldHVybiBmKHtTdDpmdW5jdGlvbigpe319LGZ1bmN0aW9uKGUsaSl7cmV0dXJuIEYodCxlLGkpfSxmdW5jdGlvbigpe3JldHVybiBwKHQpLmd0KCl9KX1mdW5jdGlvbiBQKHQsZSxpKXtyZXR1cm4gcCh0KS5idChlLGkpfWZ1bmN0aW9uIEEodCl7cmV0dXJuIGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LGUpe3ZhciBzO2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBTdG9wSXRlcmF0aW9uKXt0cnl7cz1yW3RdKGUpfWNhdGNoKGEpe3JldHVybiBSKGEpfXJldHVybiBzLmRvbmU/cChzLnZhbHVlKTpnKHMudmFsdWUsbixvKX10cnl7cz1yW3RdKGUpfWNhdGNoKGEpe3JldHVybiBpKGEpP3AoYS52YWx1ZSk6UihhKX1yZXR1cm4gZyhzLG4sbyl9dmFyIHI9dC5hcHBseSh0aGlzLGFyZ3VtZW50cyksbj1lLmJpbmQoZSxcIm5leHRcIiksbz1lLmJpbmQoZSxcInRocm93XCIpO3JldHVybiBuKCl9fWZ1bmN0aW9uIE4odCl7cC5kb25lKHAuYXN5bmModCkoKSl9ZnVuY3Rpb24geCh0KXt0aHJvdyBuZXcgcSh0KX1mdW5jdGlvbiBCKHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBQKFt0aGlzLF8oYXJndW1lbnRzKV0sZnVuY3Rpb24oZSxpKXtyZXR1cm4gdC5hcHBseShlLGkpfSl9fWZ1bmN0aW9uIEYodCxlLGkpe3JldHVybiBwKHQpLkV0KGUsaSl9ZnVuY3Rpb24gXyh0KXtyZXR1cm4gZyh0LGZ1bmN0aW9uKHQpe3ZhciBlPTAsaT11KCk7cmV0dXJuICQodCxmdW5jdGlvbihyLG4sbyl7dmFyIHM7eShuKSYmXCJmdWxmaWxsZWRcIj09PShzPW4uZ3QoKSkuc3RhdGU/dFtvXT1zLnZhbHVlOigrK2UsZyhuLGZ1bmN0aW9uKHIpe3Rbb109ciwwPT09LS1lJiZpLnJlc29sdmUodCl9LGkucmVqZWN0LGZ1bmN0aW9uKHQpe2kubm90aWZ5KHtpbmRleDpvLHZhbHVlOnR9KX0pKX0sdm9pZCAwKSwwPT09ZSYmaS5yZXNvbHZlKHQpLGkudnR9KX1mdW5jdGlvbiBEKHQpe2lmKDA9PT10Lmxlbmd0aClyZXR1cm4gcC5yZXNvbHZlKCk7dmFyIGU9cC5kZWZlcigpLGk9MDtyZXR1cm4gJCh0LGZ1bmN0aW9uKHIsbixvKXtmdW5jdGlvbiBzKHQpe2UucmVzb2x2ZSh0KX1mdW5jdGlvbiBhKHQpe2ktLSwwPT09aSYmKHQubWVzc2FnZT1cIlEgY2FuJ3QgZ2V0IGZ1bGZpbGxtZW50IHZhbHVlIGZyb20gYW55IHByb21pc2UsIGFsbCBwcm9taXNlcyB3ZXJlIHJlamVjdGVkLiBMYXN0IGVycm9yIG1lc3NhZ2U6IFwiK3QubWVzc2FnZSxlLnJlamVjdCh0KSl9ZnVuY3Rpb24gYyh0KXtlLm5vdGlmeSh7aW5kZXg6byx2YWx1ZTp0fSl9dmFyIGg9dFtvXTtpKyssZyhoLHMsYSxjKX0sdm9pZCAwKSxlLnZ0fWZ1bmN0aW9uIEgodCl7cmV0dXJuIGcodCxmdW5jdGlvbih0KXtyZXR1cm4gdD1YKHQscCksZyhfKFgodCxmdW5jdGlvbih0KXtyZXR1cm4gZyh0LEssSyl9KSksZnVuY3Rpb24oKXtyZXR1cm4gdH0pfSl9ZnVuY3Rpb24gTCh0KXtyZXR1cm4gcCh0KS5JdCgpfWZ1bmN0aW9uIE0odCxlKXtyZXR1cm4gcCh0KS50aGVuKHZvaWQgMCx2b2lkIDAsZSl9ZnVuY3Rpb24gaih0LGUpe3JldHVybiBwKHQpLlJ0KGUpfXZhciBVPSExO3RyeXt0aHJvdyBuZXcgRXJyb3J9Y2F0Y2goVil7VT0hIVYuc3RhY2t9dmFyIFEscSxKPWMoKSxLPWZ1bmN0aW9uKCl7fSxHPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe2Zvcih2YXIgdCxyO2kubmV4dDspaT1pLm5leHQsdD1pLmt0LGkua3Q9dm9pZCAwLHI9aS5kb21haW4sciYmKGkuZG9tYWluPXZvaWQgMCxyLmVudGVyKCkpLGUodCxyKTtmb3IoO2gubGVuZ3RoOyl0PWgucG9wKCksZSh0KTtuPSExfWZ1bmN0aW9uIGUoZSxpKXt0cnl7ZSgpfWNhdGNoKHIpe2lmKHMpdGhyb3cgaSYmaS5leGl0KCksc2V0VGltZW91dCh0LDApLGkmJmkuZW50ZXIoKSxyO3NldFRpbWVvdXQoZnVuY3Rpb24oKXt0aHJvdyByfSwwKX1pJiZpLmV4aXQoKX12YXIgaT17a3Q6dm9pZCAwLG5leHQ6bnVsbH0scj1pLG49ITEsbz12b2lkIDAscz0hMSxhPSExO3RyeXthPW5hdmlnYXRvciYmKFwiTWljcm9zb2Z0IEludGVybmV0IEV4cGxvcmVyXCI9PT1uYXZpZ2F0b3IuYXBwTmFtZXx8bnVsbCE9bmF2aWdhdG9yLmFwcFZlcnNpb24ubWF0Y2goLyh0cmlkZW50KS4rcnZbOlxcc10oW1xcd1xcLl0rKS4rbGlrZVxcc2dlY2tvL2kpKX1jYXRjaChjKXt9dmFyIGg9W107aWYoRz1mdW5jdGlvbih0KXtcInVuZGVmaW5lZFwiIT10eXBlb2YgRnJhbWV3b3JrJiZGcmFtZXdvcmsuQ3QoKT9GcmFtZXdvcmsuc2V0VGltZW91dCh0LDApOihyPXIubmV4dD17a3Q6dCxkb21haW46cyYmcHJvY2Vzcy5kb21haW4sbmV4dDpudWxsfSxufHwobj0hMCxvKCkpKX0sXCJvYmplY3RcIj09dHlwZW9mIHByb2Nlc3MmJlwiW29iamVjdCBwcm9jZXNzXVwiPT09cHJvY2Vzcy50b1N0cmluZygpJiZwcm9jZXNzLmR0KXM9ITAsbz1mdW5jdGlvbigpe3Byb2Nlc3MuZHQodCl9O2Vsc2UgaWYoXCJmdW5jdGlvblwiIT10eXBlb2Ygc2V0SW1tZWRpYXRlfHxhKWlmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBNZXNzYWdlQ2hhbm5lbHx8YSlvPWZ1bmN0aW9uKCl7c2V0VGltZW91dCh0LDApfTtlbHNle3ZhciBwPW5ldyBNZXNzYWdlQ2hhbm5lbDtwLnBvcnQxLm9ubWVzc2FnZT1mdW5jdGlvbigpe289dSxwLnBvcnQxLm9ubWVzc2FnZT10LHQoKX07dmFyIHU9ZnVuY3Rpb24oKXtwLnBvcnQyLnBvc3RNZXNzYWdlKDApfTtvPWZ1bmN0aW9uKCl7c2V0VGltZW91dCh0LDApLHUoKX19ZWxzZSBvPVwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/c2V0SW1tZWRpYXRlLmJpbmQod2luZG93LHQpOmZ1bmN0aW9uKCl7c2V0SW1tZWRpYXRlKHQpfTtyZXR1cm4gRy53dD1mdW5jdGlvbih0KXtoLnB1c2godCksbnx8KG49ITAsbygpKX0sR30oKSx6PUZ1bmN0aW9uLmNhbGwsVz10KEFycmF5LnByb3RvdHlwZS5zbGljZSksJD10KEFycmF5LnByb3RvdHlwZS5yZWR1Y2V8fGZ1bmN0aW9uKHQsZSl7dmFyIGk9MCxyPXRoaXMubGVuZ3RoO2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKWZvcig7Oyl7aWYoaSBpbiB0aGlzKXtlPXRoaXNbaSsrXTticmVha31pZigrK2k+PXIpdGhyb3cgbmV3IFR5cGVFcnJvcn1mb3IoO2k8cjtpKyspaSBpbiB0aGlzJiYoZT10KGUsdGhpc1tpXSxpKSk7cmV0dXJuIGV9KSxZPXQoQXJyYXkucHJvdG90eXBlLmluZGV4T2Z8fGZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8dGhpcy5sZW5ndGg7ZSsrKWlmKHRoaXNbZV09PT10KXJldHVybiBlO3JldHVybi0xfSksWD10KEFycmF5LnByb3RvdHlwZS5tYXB8fGZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcyxyPVtdO3JldHVybiAkKGksZnVuY3Rpb24obixvLHMpe3IucHVzaCh0LmNhbGwoZSxvLHMsaSkpfSx2b2lkIDApLHJ9KSxaPU9iamVjdC5jcmVhdGV8fGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGUucHJvdG90eXBlPXQsbmV3IGV9LHR0PXQoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSksZXQ9T2JqZWN0LmtleXN8fGZ1bmN0aW9uKHQpe3ZhciBlPVtdO2Zvcih2YXIgaSBpbiB0KXR0KHQsaSkmJmUucHVzaChpKTtyZXR1cm4gZX0saXQ9dChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nKTtxPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBSZXR1cm5WYWx1ZT9SZXR1cm5WYWx1ZTpmdW5jdGlvbih0KXt0aGlzLnZhbHVlPXR9O3ZhciBydD1cIkZyb20gcHJldmlvdXMgZXZlbnQ6XCI7cC5yZXNvbHZlPXAscC5kdD1HLHAubHQ9ITEsXCJvYmplY3RcIj09dHlwZW9mIHByb2Nlc3MmJnByb2Nlc3MmJnByb2Nlc3MuT3QmJnByb2Nlc3MuT3QuUV9ERUJVRyYmKHAubHQ9ITApLHAuZGVmZXI9dSx1LnByb3RvdHlwZS5QdD1mdW5jdGlvbigpe3ZhciB0PXRoaXM7cmV0dXJuIGZ1bmN0aW9uKGUsaSl7ZT90LnJlamVjdChlKTphcmd1bWVudHMubGVuZ3RoPjI/dC5yZXNvbHZlKFcoYXJndW1lbnRzLDEpKTp0LnJlc29sdmUoaSl9fSxwLlByb21pc2U9bCxwLnZ0PWwsbC5yYWNlPWQsbC5hbGw9XyxsLnJlamVjdD1SLGwucmVzb2x2ZT1wLHAuQXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHR9LGYucHJvdG90eXBlLkF0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LHAuam9pbj1mdW5jdGlvbih0LGUpe3JldHVybiBwKHQpLmpvaW4oZSl9LGYucHJvdG90eXBlLmpvaW49ZnVuY3Rpb24odCl7cmV0dXJuIHAoW3RoaXMsdF0pLmJ0KGZ1bmN0aW9uKHQsZSl7aWYodD09PWUpcmV0dXJuIHQ7dGhyb3cgbmV3IEVycm9yKFwiUSBjYW4ndCBqb2luOiBub3QgdGhlIHNhbWU6IFwiK3QrXCIgXCIrZSl9KX0scC5yYWNlPWQsZi5wcm90b3R5cGUucmFjZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRoZW4ocC5yYWNlKX0scC5OdD1mLGYucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJbb2JqZWN0IFByb21pc2VdXCJ9LGYucHJvdG90eXBlLnRoZW49ZnVuY3Rpb24odCxlLGkpe2Z1bmN0aW9uIG4oZSl7dHJ5e3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/dChlKTplfWNhdGNoKGkpe3JldHVybiBSKGkpfX1mdW5jdGlvbiBvKHQpe2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpe3IodCxhKTt0cnl7cmV0dXJuIGUodCl9Y2F0Y2goaSl7cmV0dXJuIFIoaSl9fXJldHVybiBSKHQpfWZ1bmN0aW9uIHModCl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgaT9pKHQpOnR9dmFyIGE9dGhpcyxjPXUoKSxoPSExO3JldHVybiBwLmR0KGZ1bmN0aW9uKCl7YS5mdChmdW5jdGlvbih0KXtofHwoaD0hMCxjLnJlc29sdmUobih0KSkpfSxcIndoZW5cIixbZnVuY3Rpb24odCl7aHx8KGg9ITAsYy5yZXNvbHZlKG8odCkpKX1dKX0pLGEuZnQodm9pZCAwLFwid2hlblwiLFt2b2lkIDAsZnVuY3Rpb24odCl7dmFyIGUsaT0hMTt0cnl7ZT1zKHQpfWNhdGNoKHIpe2lmKGk9ITAsIXAub25lcnJvcil0aHJvdyByO3Aub25lcnJvcihyKX1pfHxjLm5vdGlmeShlKX1dKSxjLnZ0fSxwLnh0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHAodCkueHQoZSl9LGYucHJvdG90eXBlLnh0PWZ1bmN0aW9uKHQpe3JldHVybiB0PXAodCksdGhpcy50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiB0LkZ0KGUpLkJ0KGUpfSl9LHAud2hlbj1nLGYucHJvdG90eXBlLkJ0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gdH0pfSxwLkJ0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHAodCkuQnQoZSl9LGYucHJvdG90eXBlLl90PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnRoZW4oZnVuY3Rpb24oKXt0aHJvdyB0fSl9LHAuX3Q9ZnVuY3Rpb24odCxlKXtyZXR1cm4gcCh0KS5fdChlKX0scC5EdD12LHAuSHQ9eSxwLkx0PW0scC5NdD13LGYucHJvdG90eXBlLk10PWZ1bmN0aW9uKCl7cmV0dXJuXCJwZW5kaW5nXCI9PT10aGlzLmd0KCkuc3RhdGV9LHAuanQ9VCxmLnByb3RvdHlwZS5qdD1mdW5jdGlvbigpe3JldHVyblwiZnVsZmlsbGVkXCI9PT10aGlzLmd0KCkuc3RhdGV9LHAuVXQ9UyxmLnByb3RvdHlwZS5VdD1mdW5jdGlvbigpe3JldHVyblwicmVqZWN0ZWRcIj09PXRoaXMuZ3QoKS5zdGF0ZX07dmFyIG50PVtdLG90PVtdLHN0PVtdLGF0PSEwO3AuVnQ9YixwLlF0PWZ1bmN0aW9uKCl7cmV0dXJuIG50LnNsaWNlKCl9LHAucXQ9ZnVuY3Rpb24oKXtiKCksYXQ9ITF9LGIoKSxwLnJlamVjdD1SLHAueXQ9ayxwLkp0PU8scC5idD1QLGYucHJvdG90eXBlLmJ0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuYWxsKCkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gdC5hcHBseSh2b2lkIDAsZSl9LGUpfSxwLmFzeW5jPUEscC5LdD1OLHBbXCJHdFwiXT14LHAuenQ9QixwLkV0PUYsZi5wcm90b3R5cGUuRXQ9ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLHI9dSgpO3JldHVybiBwLmR0KGZ1bmN0aW9uKCl7aS5mdChyLnJlc29sdmUsdCxlKX0pLHIudnR9LHAuZ2V0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHAodCkuRXQoXCJnZXRcIixbZV0pfSxmLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuRXQoXCJnZXRcIixbdF0pfSxwLnNldD1mdW5jdGlvbih0LGUsaSl7cmV0dXJuIHAodCkuRXQoXCJzZXRcIixbZSxpXSl9LGYucHJvdG90eXBlLnNldD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLkV0KFwic2V0XCIsW3QsZV0pfSxwLld0PXBbXCJkZWxldGVcIl09ZnVuY3Rpb24odCxlKXtyZXR1cm4gcCh0KS5FdChcImRlbGV0ZVwiLFtlXSl9LGYucHJvdG90eXBlLld0PWYucHJvdG90eXBlW1wiZGVsZXRlXCJdPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLkV0KFwiZGVsZXRlXCIsW3RdKX0scC4kdD1wLlR0PWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gcCh0KS5FdChcInBvc3RcIixbZSxpXSl9LGYucHJvdG90eXBlLiR0PWYucHJvdG90eXBlLlR0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuRXQoXCJwb3N0XCIsW3QsZV0pfSxwLnNlbmQ9cC5ZdD1wLlh0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHAodCkuRXQoXCJwb3N0XCIsW2UsVyhhcmd1bWVudHMsMildKX0sZi5wcm90b3R5cGUuc2VuZD1mLnByb3RvdHlwZS5ZdD1mLnByb3RvdHlwZS5YdD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5FdChcInBvc3RcIixbdCxXKGFyZ3VtZW50cywxKV0pfSxwLlp0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHAodCkuRXQoXCJhcHBseVwiLFt2b2lkIDAsZV0pfSxmLnByb3RvdHlwZS5adD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5FdChcImFwcGx5XCIsW3ZvaWQgMCx0XSl9LHBbXCJ0ZVwiXT1wLkZ0PWZ1bmN0aW9uKHQpe3JldHVybiBwKHQpLkV0KFwiYXBwbHlcIixbdm9pZCAwLFcoYXJndW1lbnRzLDEpXSl9LGYucHJvdG90eXBlLkZ0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuRXQoXCJhcHBseVwiLFt2b2lkIDAsVyhhcmd1bWVudHMpXSl9LHAuZWU9ZnVuY3Rpb24odCl7dmFyIGU9cCh0KSxpPVcoYXJndW1lbnRzLDEpO3JldHVybiBmdW5jdGlvbigpe3JldHVybiBlLkV0KFwiYXBwbHlcIixbdGhpcyxpLmNvbmNhdChXKGFyZ3VtZW50cykpXSl9fSxmLnByb3RvdHlwZS5lZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMsZT1XKGFyZ3VtZW50cyk7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHQuRXQoXCJhcHBseVwiLFt0aGlzLGUuY29uY2F0KFcoYXJndW1lbnRzKSldKX19LHAua2V5cz1mdW5jdGlvbih0KXtyZXR1cm4gcCh0KS5FdChcImtleXNcIixbXSl9LGYucHJvdG90eXBlLmtleXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5FdChcImtleXNcIixbXSl9LHAuYWxsPV8sZi5wcm90b3R5cGUuYWxsPWZ1bmN0aW9uKCl7cmV0dXJuIF8odGhpcyl9LHAuaWU9RCxmLnByb3RvdHlwZS5pZT1mdW5jdGlvbigpe3JldHVybiBEKHRoaXMpfSxwLnJlPWgoSCxcImFsbFJlc29sdmVkXCIsXCJhbGxTZXR0bGVkXCIpLGYucHJvdG90eXBlLnJlPWZ1bmN0aW9uKCl7cmV0dXJuIEgodGhpcyl9LHAuSXQ9TCxmLnByb3RvdHlwZS5JdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIF8oWCh0LGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gdC5ndCgpfXJldHVybiB0PXAodCksdC50aGVuKGUsZSl9KSl9KX0scC5mYWlsPXBbXCJjYXRjaFwiXT1mdW5jdGlvbih0LGUpe3JldHVybiBwKHQpLnRoZW4odm9pZCAwLGUpfSxmLnByb3RvdHlwZS5mYWlsPWYucHJvdG90eXBlW1wiY2F0Y2hcIl09ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudGhlbih2b2lkIDAsdCl9LHAucHJvZ3Jlc3M9TSxmLnByb3RvdHlwZS5wcm9ncmVzcz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy50aGVuKHZvaWQgMCx2b2lkIDAsdCl9LHAubmU9cFtcImZpbmFsbHlcIl09ZnVuY3Rpb24odCxlKXtyZXR1cm4gcCh0KVtcImZpbmFsbHlcIl0oZSl9LGYucHJvdG90eXBlLm5lPWYucHJvdG90eXBlW1wiZmluYWxseVwiXT1mdW5jdGlvbih0KXtpZighdHx8XCJmdW5jdGlvblwiIT10eXBlb2YgdC5hcHBseSl0aHJvdyBuZXcgRXJyb3IoXCJRIGNhbid0IGFwcGx5IGZpbmFsbHkgY2FsbGJhY2tcIik7cmV0dXJuIHQ9cCh0KSx0aGlzLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIHQuRnQoKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGV9KX0sZnVuY3Rpb24oZSl7cmV0dXJuIHQuRnQoKS50aGVuKGZ1bmN0aW9uKCl7dGhyb3cgZX0pfSl9LHAuZG9uZT1mdW5jdGlvbih0LGUsaSxyKXtyZXR1cm4gcCh0KS5kb25lKGUsaSxyKX0sZi5wcm90b3R5cGUuZG9uZT1mdW5jdGlvbih0LGUsaSl7dmFyIG49ZnVuY3Rpb24odCl7cC5kdChmdW5jdGlvbigpe2lmKHIodCxvKSwhcC5vbmVycm9yKXRocm93IHQ7cC5vbmVycm9yKHQpfSl9LG89dHx8ZXx8aT90aGlzLnRoZW4odCxlLGkpOnRoaXM7XCJvYmplY3RcIj09dHlwZW9mIHByb2Nlc3MmJnByb2Nlc3MmJnByb2Nlc3MuZG9tYWluJiYobj1wcm9jZXNzLmRvbWFpbi5iaW5kKG4pKSxvLnRoZW4odm9pZCAwLG4pfSxwLnRpbWVvdXQ9ZnVuY3Rpb24odCxlLGkpe3JldHVybiBwKHQpLnRpbWVvdXQoZSxpKX0sZi5wcm90b3R5cGUudGltZW91dD1mdW5jdGlvbih0LGUpe3ZhciBpPXUoKSxyPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtlJiZcInN0cmluZ1wiIT10eXBlb2YgZXx8KGU9bmV3IEVycm9yKGV8fFwiVGltZWQgb3V0IGFmdGVyIFwiK3QrXCIgbXNcIiksZS5jb2RlPVwiRVRJTUVET1VUXCIpLGkucmVqZWN0KGUpfSx0KTtyZXR1cm4gdGhpcy50aGVuKGZ1bmN0aW9uKHQpe2NsZWFyVGltZW91dChyKSxpLnJlc29sdmUodCl9LGZ1bmN0aW9uKHQpe2NsZWFyVGltZW91dChyKSxpLnJlamVjdCh0KX0saS5ub3RpZnkpLGkudnR9LHAuZGVsYXk9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9dCx0PXZvaWQgMCkscCh0KS5kZWxheShlKX0sZi5wcm90b3R5cGUuZGVsYXk9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudGhlbihmdW5jdGlvbihlKXt2YXIgaT11KCk7cmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtpLnJlc29sdmUoZSl9LHQpLGkudnR9KX0scC5vZT1mdW5jdGlvbih0LGUpe3JldHVybiBwKHQpLm9lKGUpfSxmLnByb3RvdHlwZS5vZT1mdW5jdGlvbih0KXt2YXIgZT11KCksaT1XKHQpO3JldHVybiBpLnB1c2goZS5QdCgpKSx0aGlzLlp0KGkpLmZhaWwoZS5yZWplY3QpLGUudnR9LHAuc2U9ZnVuY3Rpb24odCl7dmFyIGU9Vyhhcmd1bWVudHMsMSk7cmV0dXJuIHAodCkub2UoZSl9LGYucHJvdG90eXBlLnNlPWZ1bmN0aW9uKCl7dmFyIHQ9Vyhhcmd1bWVudHMpLGU9dSgpO3JldHVybiB0LnB1c2goZS5QdCgpKSx0aGlzLlp0KHQpLmZhaWwoZS5yZWplY3QpLGUudnR9LHAuYWU9cC5jZT1mdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBFcnJvcihcIlEgY2FuJ3Qgd3JhcCBhbiB1bmRlZmluZWQgZnVuY3Rpb25cIik7dmFyIGU9Vyhhcmd1bWVudHMsMSk7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGk9ZS5jb25jYXQoVyhhcmd1bWVudHMpKSxyPXUoKTtyZXR1cm4gaS5wdXNoKHIuUHQoKSkscCh0KS5adChpKS5mYWlsKHIucmVqZWN0KSxyLnZ0fX0sZi5wcm90b3R5cGUuYWU9Zi5wcm90b3R5cGUuY2U9ZnVuY3Rpb24oKXt2YXIgdD1XKGFyZ3VtZW50cyk7cmV0dXJuIHQudW5zaGlmdCh0aGlzKSxwLmNlLmFwcGx5KHZvaWQgMCx0KX0scC5oZT1mdW5jdGlvbih0LGUpe3ZhciBpPVcoYXJndW1lbnRzLDIpO3JldHVybiBmdW5jdGlvbigpe2Z1bmN0aW9uIHIoKXtyZXR1cm4gdC5hcHBseShlLGFyZ3VtZW50cyl9dmFyIG49aS5jb25jYXQoVyhhcmd1bWVudHMpKSxvPXUoKTtyZXR1cm4gbi5wdXNoKG8uUHQoKSkscChyKS5adChuKS5mYWlsKG8ucmVqZWN0KSxvLnZ0fX0sZi5wcm90b3R5cGUuaGU9ZnVuY3Rpb24oKXt2YXIgdD1XKGFyZ3VtZW50cywwKTtyZXR1cm4gdC51bnNoaWZ0KHRoaXMpLHAuaGUuYXBwbHkodm9pZCAwLHQpfSxwLnBlPXAudWU9ZnVuY3Rpb24odCxlLGkpe3JldHVybiBwKHQpLnVlKGUsaSl9LGYucHJvdG90eXBlLnBlPWYucHJvdG90eXBlLnVlPWZ1bmN0aW9uKHQsZSl7dmFyIGk9VyhlfHxbXSkscj11KCk7cmV0dXJuIGkucHVzaChyLlB0KCkpLHRoaXMuRXQoXCJwb3N0XCIsW3QsaV0pLmZhaWwoci5yZWplY3QpLHIudnR9LHAubGU9cC5kZT1wLmZlPWZ1bmN0aW9uKHQsZSl7dmFyIGk9Vyhhcmd1bWVudHMsMikscj11KCk7cmV0dXJuIGkucHVzaChyLlB0KCkpLHAodCkuRXQoXCJwb3N0XCIsW2UsaV0pLmZhaWwoci5yZWplY3QpLHIudnR9LGYucHJvdG90eXBlLmxlPWYucHJvdG90eXBlLmRlPWYucHJvdG90eXBlLmZlPWZ1bmN0aW9uKHQpe3ZhciBlPVcoYXJndW1lbnRzLDEpLGk9dSgpO3JldHVybiBlLnB1c2goaS5QdCgpKSx0aGlzLkV0KFwicG9zdFwiLFt0LGVdKS5mYWlsKGkucmVqZWN0KSxpLnZ0fSxwLlJ0PWosZi5wcm90b3R5cGUuUnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQ/dm9pZCB0aGlzLnRoZW4oZnVuY3Rpb24oZSl7cC5kdChmdW5jdGlvbigpe3QobnVsbCxlKX0pfSxmdW5jdGlvbihlKXtwLmR0KGZ1bmN0aW9uKCl7dChlKX0pfSk6dGhpc30scC5nZT1mdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcihcIlEubm9Db25mbGljdCBvbmx5IHdvcmtzIHdoZW4gUSBpcyB1c2VkIGFzIGEgZ2xvYmFsXCIpfTt2YXIgY3Q9YygpO3JldHVybiBwfSl9LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjt2YXIgcixuPWkoMTUpLG89aSg0KSxzPW8udmU7IWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7QiYmY29uc29sZS5sb2coXCJGcmFtZXdvcmsgYWxyZWFkeSBpbml0aWFsaXplZFwiKSx0LnllKCksTj1uZXcgRGF0ZSxlLmFwcGx5KEQpLEI9RC5yZXNvbHZlKGsubWUpLF89RC5yZXNvbHZlKGsud2UpLEw9Qi5DdCgpfWZ1bmN0aW9uIGkoKXtGPUQucmVzb2x2ZShrLlRlKSxGLmluaXQoKX1mdW5jdGlvbiByKCl7cmV0dXJuIEZ9ZnVuY3Rpb24gbygpe3JldHVybiBEfWZ1bmN0aW9uIGEoKXtyZXR1cm4gX31mdW5jdGlvbiBjKCl7cmV0dXJuIEJ9ZnVuY3Rpb24gaCh0KXtyZXR1cm4gSC5nZXQodCl9ZnVuY3Rpb24gcCh0LGUpe3ZhciBpPW5ldyBDKHQpO3JldHVybiBpLmFwcGx5KGUpLEguc2V0KHQsaSksaX1mdW5jdGlvbiB1KGUpe0E9dC5TZShlKX1mdW5jdGlvbiBsKHQpe3JldHVybiBudWxsIT1BP0EuY29udGV4dC5yZXNvbHZlKHQpOihjb25zb2xlLndhcm4oXCJ1bmRlZmluZWQgY29udGV4dFwiKSxudWxsKX1mdW5jdGlvbiBkKCl7cmV0dXJuIEF9ZnVuY3Rpb24gZigpe3JldHVybiBCLnRpbWUoKX1mdW5jdGlvbiBnKHQsZSl7cmV0dXJuIEIuc2V0VGltZW91dCh0LGUpfWZ1bmN0aW9uIHYodCl7cmV0dXJuIEIuY2xlYXJUaW1lb3V0KHQpfWZ1bmN0aW9uIHkodCxlKXtyZXR1cm4gQi5zZXRJbnRlcnZhbCh0LGUpfWZ1bmN0aW9uIG0odCl7cmV0dXJuIEIuY2xlYXJJbnRlcnZhbCh0KX1mdW5jdGlvbiB3KCl7Qi5iZSgpfWZ1bmN0aW9uIFQoKXtELkVlKCksRD1uZXcgbi5JZSxIPW5ldyBzLEE9bnVsbCxOPW51bGwsTD0hMSx4PW51bGwsQj1udWxsLEY9bnVsbCxfPW51bGx9ZnVuY3Rpb24gUyh0KXt4PXR9ZnVuY3Rpb24gYigpe3JldHVybiB4fHwoeD0obmV3IERhdGUpLmdldFRpbWUoKSkseD0oOTMwMSp4KzQ5Mjk3KSUyMzMyODAseC8yMzMyODB9ZnVuY3Rpb24gRSgpe3JldHVybiBOfWZ1bmN0aW9uIEkoKXtyZXR1cm4gTH12YXIgUj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHR9KCk7Ui5SZT1cIndzOi8vMTI3LjAuMC4xOjgwMDAvaGl2ZVwiLHQua2U9Ujt2YXIgaz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHR9KCk7ay5tZT1cIlRpbWVyU2NoZWR1bGVyXCIsay5DZT1cImlkZW50aXR5UHJvdmlkZXJcIixrLlRlPVwiTmV0d29ya0NvbXBvbmVudFwiLGsuT2U9XCJydGNNYW5hZ2VyXCIsay5QZT1cInRyYW5zcG9ydFwiLGsuQWU9XCJodHRwTWFuYWdlclwiLGsuTmU9XCJodHRwUmVxdWVzdFwiLGsud2U9XCJsb2dnZXJcIixrLnhlPVwic2VydmVyTWFuYWdlclwiLGsuQmU9XCJzZXJ2aWNlc0NsaWVudFwiLHQuRmU9azt2YXIgQz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5pZD10LHRoaXMuY29udGV4dD1uZXcgbi5JZX1yZXR1cm4gdC5wcm90b3R5cGUuYXBwbHk9ZnVuY3Rpb24odCl7dC5hcHBseSh0aGlzLmNvbnRleHQpfSx0fSgpO3QuX2U9Qzt2YXIgTzshZnVuY3Rpb24odCl7dFt0LkRlPTBdPVwiSFRUUFwiLHRbdC5IZT0xXT1cIlJUQ1wiLHRbdC5MZT0yXT1cIlVEUFwifShPPXQuTWV8fCh0Lk1lPXt9KSk7dmFyIFA7IWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIGkoKXtyZXR1cm5cIltcIitmKCkrXCJdIFtcIit0LmplKCkuaWQrXCJdXCJ9ZS5VZT1pfShQPXQuVmV8fCh0LlZlPXt9KSk7dmFyIEEsTix4LEIsRixfLEQ9bmV3IG4uSWUsSD1uZXcgcyxMPSExO3QuUWU9ZSx0LnFlPWksdC5KZT1yLHQuc3lzdGVtPW8sdC5tPWEsdC5LZT1jLHQuU2U9aCx0LkdlPXAsdC56ZT11LHQucmVzb2x2ZT1sLHQuamU9ZCx0LnRpbWU9Zix0LnNldFRpbWVvdXQ9Zyx0LmNsZWFyVGltZW91dD12LHQuc2V0SW50ZXJ2YWw9eSx0LmNsZWFySW50ZXJ2YWw9bSx0LmJlPXcsdC55ZT1ULHQuV2U9Uyx0LnJhbmRvbT1iLHQuJGU9RSx0LkN0PUl9KHI9ZS5GcmFtZXdvcmt8fChlLkZyYW1ld29yaz17fSkpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWwmJihnbG9iYWwuRnJhbWV3b3JrPXIpfSxmdW5jdGlvbih0LGUpe1widXNlIHN0cmljdFwiO3ZhciBpPSEwLHI9e1llOmZ1bmN0aW9uKHQpe3JldHVyblwiYm9vbGVhblwiIT10eXBlb2YgdD9uZXcgRXJyb3IoXCJBcmd1bWVudCB0eXBlOiBcIit0eXBlb2YgdCtcIi4gUGxlYXNlIHVzZSBhIGJvb2xlYW4uXCIpOihpPXQsdD9cImFkYXB0ZXIuanMgbG9nZ2luZyBkaXNhYmxlZFwiOlwiYWRhcHRlci5qcyBsb2dnaW5nIGVuYWJsZWRcIil9LGxvZzpmdW5jdGlvbigpe2lmKFwib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3cpe2lmKGkpcmV0dXJuO1widW5kZWZpbmVkXCIhPXR5cGVvZiBjb25zb2xlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBjb25zb2xlLmxvZyYmY29uc29sZS5sb2cuYXBwbHkoY29uc29sZSxhcmd1bWVudHMpfX0sWGU6ZnVuY3Rpb24odCxlLGkpe3ZhciByPXQubWF0Y2goZSk7cmV0dXJuIHImJnIubGVuZ3RoPj1pJiZwYXJzZUludChyW2ldLDEwKX0sWmU6ZnVuY3Rpb24oKXt2YXIgdD17fTtpZih0LnRpPW51bGwsdC52ZXJzaW9uPW51bGwsXCJ1bmRlZmluZWRcIj09dHlwZW9mIHdpbmRvd3x8IXdpbmRvdy5uYXZpZ2F0b3IpcmV0dXJuIHQudGk9XCJOb3QgYSBicm93c2VyLlwiLHQ7aWYobmF2aWdhdG9yLm1vekdldFVzZXJNZWRpYSl0LnRpPVwiZmlyZWZveFwiLHQudmVyc2lvbj10aGlzLlhlKG5hdmlnYXRvci51c2VyQWdlbnQsL0ZpcmVmb3hcXC8oXFxkKylcXC4vLDEpO2Vsc2UgaWYobmF2aWdhdG9yLndlYmtpdEdldFVzZXJNZWRpYSlpZih3aW5kb3cud2Via2l0UlRDUGVlckNvbm5lY3Rpb24pdC50aT1cImNocm9tZVwiLHQudmVyc2lvbj10aGlzLlhlKG5hdmlnYXRvci51c2VyQWdlbnQsL0Nocm9tKGV8aXVtKVxcLyhcXGQrKVxcLi8sMik7ZWxzZXtpZighbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvVmVyc2lvblxcLyhcXGQrKS4oXFxkKykvKSlyZXR1cm4gdC50aT1cIlVuc3VwcG9ydGVkIHdlYmtpdC1iYXNlZCBicm93c2VyIHdpdGggR1VNIHN1cHBvcnQgYnV0IG5vIFdlYlJUQyBzdXBwb3J0LlwiLHQ7dC50aT1cInNhZmFyaVwiLHQudmVyc2lvbj10aGlzLlhlKG5hdmlnYXRvci51c2VyQWdlbnQsL0FwcGxlV2ViS2l0XFwvKFxcZCspXFwuLywxKX1lbHNlIGlmKG5hdmlnYXRvci5tZWRpYURldmljZXMmJm5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0VkZ2VcXC8oXFxkKykuKFxcZCspJC8pKXQudGk9XCJlZGdlXCIsdC52ZXJzaW9uPXRoaXMuWGUobmF2aWdhdG9yLnVzZXJBZ2VudCwvRWRnZVxcLyhcXGQrKS4oXFxkKykkLywyKTtlbHNle2lmKCFuYXZpZ2F0b3IubWVkaWFEZXZpY2VzfHwhbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvQXBwbGVXZWJLaXRcXC8oXFxkKylcXC4vKSlyZXR1cm4gdC50aT1cIk5vdCBhIHN1cHBvcnRlZCBicm93c2VyLlwiLHQ7dC50aT1cInNhZmFyaVwiLHQudmVyc2lvbj10aGlzLlhlKG5hdmlnYXRvci51c2VyQWdlbnQsL0FwcGxlV2ViS2l0XFwvKFxcZCspXFwuLywxKX1yZXR1cm4gdH0sZWk6ZnVuY3Rpb24oKXtpZihcIm9iamVjdFwiPT10eXBlb2Ygd2luZG93JiZ3aW5kb3cuSFRNTE1lZGlhRWxlbWVudCYmXCJzcmNPYmplY3RcImluIHdpbmRvdy5IVE1MTWVkaWFFbGVtZW50LnByb3RvdHlwZSl7dmFyIHQ9VVJMLmNyZWF0ZU9iamVjdFVSTC5iaW5kKFVSTCksZT1VUkwucmV2b2tlT2JqZWN0VVJMLmJpbmQoVVJMKSxpPW5ldyBNYXAscj0wO1VSTC5jcmVhdGVPYmplY3RVUkw9ZnVuY3Rpb24oZSl7aWYoXCJnZXRUcmFja3NcImluIGUpe3ZhciBuPVwicG9seWJsb2I6XCIrICsrcjtyZXR1cm4gaS5zZXQobixlKSxjb25zb2xlLmxvZyhcIlVSTC5jcmVhdGVPYmplY3RVUkwoc3RyZWFtKSBpcyBkZXByZWNhdGVkISBVc2UgZWxlbS5zcmNPYmplY3QgPSBzdHJlYW0gaW5zdGVhZCFcIiksbn1yZXR1cm4gdChlKX0sVVJMLnJldm9rZU9iamVjdFVSTD1mdW5jdGlvbih0KXtlKHQpLGlbXCJkZWxldGVcIl0odCl9O3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iod2luZG93LkhUTUxNZWRpYUVsZW1lbnQucHJvdG90eXBlLFwic3JjXCIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3cuSFRNTE1lZGlhRWxlbWVudC5wcm90b3R5cGUsXCJzcmNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG4uZ2V0LmFwcGx5KHRoaXMpfSxzZXQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuaWk9aS5nZXQodCl8fG51bGwsbi5zZXQuYXBwbHkodGhpcyxbdF0pfX0pO3ZhciBvPUhUTUxNZWRpYUVsZW1lbnQucHJvdG90eXBlLnNldEF0dHJpYnV0ZTtIVE1MTWVkaWFFbGVtZW50LnByb3RvdHlwZS5zZXRBdHRyaWJ1dGU9ZnVuY3Rpb24oKXtyZXR1cm4gMj09PWFyZ3VtZW50cy5sZW5ndGgmJlwic3JjXCI9PT0oXCJcIithcmd1bWVudHNbMF0pLnRvTG93ZXJDYXNlKCkmJih0aGlzLmlpPWkuZ2V0KGFyZ3VtZW50c1sxXSl8fG51bGwpLG8uYXBwbHkodGhpcyxhcmd1bWVudHMpfX19fTt0LnQ9e2xvZzpyLmxvZyxZZTpyLlllLHJpOnIuWmUoKSxYZTpyLlhlLGVpOnIuZWksWmU6ci5aZS5iaW5kKHIpfX0sZnVuY3Rpb24odCxlLGkpe3ZhciByPWkoMzIpO3QudD17dmU6ci5NYXAsbmk6ci5uaSxvaTpyLm9pfX0sZnVuY3Rpb24odCxlKXtcInVzZSBzdHJpY3RcIjt2YXIgaTshZnVuY3Rpb24odCl7dC5zaT1cInN0YXRzQ2xpZW50XCIsdC5CZT1cInNlcnZpY2VzQ2xpZW50XCIsdC5haT1cInRpY2tldFJlc29sdmVyXCIsdC5DZT1cImlkZW50aXR5UHJvdmlkZXJcIix0LmNpPVwiY29ubkluZm9Qcm92aWRlclwiLHQuaGk9XCJwZWVySW5mb1wiLHQucGk9XCJzdHJlYW1JbmZvUHJvdmlkZXJcIix0LnVpPVwicmVwb3J0aW5nXCIsdC5saT1cInN0YXRzU3RvcmVcIix0LmRpPVwidHJhY2tNYW5hZ2VyXCIsdC5maT1cInRyYWNrQ2xpZW50XCJ9KGk9ZS5naXx8KGUuZ2k9e30pKX0sZnVuY3Rpb24odCxlKXt0LnQ9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEZ1bmN0aW9ufX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCxlKXtmdW5jdGlvbiBpKCl7cmV0dXJuIHQoKT92b2lkIHYud2hlbihlKCksaSxyLnJlamVjdCk6ci5yZXNvbHZlKCEwKX12YXIgcj12LmRlZmVyKCk7cmV0dXJuIHYuZHQoaSksci52dH1mdW5jdGlvbiBuKHQsZSxpKXtyZXR1cm4gdm9pZCAwPT09aSYmKGk9ITApLG8oXCJHRVRcIix0LGUsaSl9ZnVuY3Rpb24gbyh0LGUsaSxyKXt2b2lkIDA9PT1yJiYocj0hMCk7dmFyIG49di5kZWZlcigpO3RyeXt2YXIgbz1uZXcgWE1MSHR0cFJlcXVlc3Q7by5vcGVuKHQsZSxyKSx2b2lkIDAhPWkmJm51bGwhPWkmJm8uc2V0UmVxdWVzdEhlYWRlcihcIkNvbnRlbnQtVHlwZVwiLGkpLG8ub25sb2FkPWZ1bmN0aW9uKCl7MjAwPT1vLnN0YXR1cz9uLnJlc29sdmUoby5yZXNwb25zZSk6bi5yZWplY3Qoe3N0YXR1czpvLnN0YXR1cyxyZWFzb246by5zdGF0dXNUZXh0LGJvZHk6by5yZXNwb25zZVRleHR9KX0sby5vbmVycm9yPWZ1bmN0aW9uKHQpe24ucmVqZWN0KHtzdGF0dXM6LTEscmVhc29uOlwiTmV0d29yayBFcnJvclwifSl9LG8uc2VuZCgpfWNhdGNoKHMpe24ucmVqZWN0KHtzdGF0dXM6LTEscmVhc29uOnN9KX1yZXR1cm4gbi52dH1mdW5jdGlvbiBzKHQsZSxpLHIpe3ZvaWQgMD09PXImJihyPSEwKTt2YXIgbj12LmRlZmVyKCk7dHJ5e3ZhciBvPW5ldyBYTUxIdHRwUmVxdWVzdDtvLm9wZW4oXCJQT1NUXCIsdCxyKSx2b2lkIDAhPWkmJm51bGwhPWkmJm8uc2V0UmVxdWVzdEhlYWRlcihcIkNvbnRlbnQtVHlwZVwiLGkpLG8ub25sb2FkPWZ1bmN0aW9uKCl7MjAwPT1vLnN0YXR1cz9uLnJlc29sdmUoby5yZXNwb25zZSk6bi5yZWplY3Qoe3N0YXR1czpvLnN0YXR1cyxyZWFzb246by5zdGF0dXNUZXh0fSl9LG8ub25lcnJvcj1mdW5jdGlvbih0KXtuLnJlamVjdCh7c3RhdHVzOi0xLHJlYXNvbjpcIk5ldHdvcmsgRXJyb3JcIn0pfSxvLnNlbmQoZSl9Y2F0Y2gocyl7bi5yZWplY3Qoe3N0YXR1czotMSxyZWFzb246c30pfXJldHVybiBuLnZ0fWZ1bmN0aW9uIGEodCxlKXt2YXIgaSxyLG49ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImJhc2VcIiksbz1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiaGVhZFwiKSxzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpLGE9bjtyZXR1cm4gbj9pPW4uaHJlZjphPW8uYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJhc2VcIikpLGEuaHJlZj10LHMuaHJlZj1lLHI9cy5ocmVmLG4/bi5ocmVmPWk6by5yZW1vdmVDaGlsZChhKSxyfWZ1bmN0aW9uIGMoKXtmb3IodmFyIHQ9W10sZT0wO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspdFtlXT1hcmd1bWVudHNbZV07Zm9yKHZhciBpPXRbMF0scj0xO3I8dC5sZW5ndGg7cisrKXt2YXIgbj1uZXcgUmVnRXhwKFwiXFxcXHtcIisoci0xKStcIlxcXFx9XCIsXCJnbVwiKTtpPWkucmVwbGFjZShuLHRbcl0pfXJldHVybiBpfWZ1bmN0aW9uIGgodCxlKXtmb3IodmFyIGkgaW4gdCl0Lmhhc093blByb3BlcnR5KGkpJiZlLmhhc093blByb3BlcnR5KGkpJiYoZVtpXT10W2ldKX1mdW5jdGlvbiBwKHQsZSxpKXt2YXIgcj1nKHQpLnZpKCEwKTtmb3IodmFyIG4gaW4gcil0cnl7aWYoci5oYXNPd25Qcm9wZXJ0eShuKSYmZS5oYXNPd25Qcm9wZXJ0eShuKSYmaS5oYXNPd25Qcm9wZXJ0eShlW25dKSl7dmFyIG89ZVtuXSxzPXJbbl07aVtvXT11KHMsaVtvXSl9fWNhdGNoKGEpe319ZnVuY3Rpb24gdSh0LGUpe3ZhciBpO3N3aXRjaCh0eXBlb2YgZSl7Y2FzZVwibnVtYmVyXCI6aT1wYXJzZUludCh0KTticmVhaztjYXNlXCJib29sZWFuXCI6aT1cInRydWVcIj09PXQ7YnJlYWs7ZGVmYXVsdDppPXR9cmV0dXJuIGl9ZnVuY3Rpb24gbCh0LGUsaSl7dmFyIHI9bmV3IG07cmV0dXJuIHIudGlja2V0VXJsPXQsci5jb2RlPWUsci5tZXNzYWdlPXcoZSksci5kZXRhaWxlZE1lc3NhZ2U9aSxyfXZhciBkPWkoNCksZj1kLnZlLGc9aSgyMSksdj1pKDEpLHk9aSgxNyksbT15LnB0LkhpdmVTZXNzaW9uRXJyb3Isdz15LnB0LmdldEhpdmVTZXNzaW9uRXJyb3JNZXNzYWdlLFQ9eS5wdC5IaXZlU2Vzc2lvbixTPWkoMjYpLGI9aSg0NiksRT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7aWYoIWUpe2lmKDA9PU9iamVjdC5rZXlzKHQubWFwcGluZykubGVuZ3RoJiYhdC55aSlyZXR1cm4gY29uc29sZS5lcnJvcihcIm5vIHJlZ2lzdGVyZWQgZGVmYXVsdCBIaXZlUmVxdWVzdEZhY3RvcnkgdGVjaFwiKSx0LnlpPSEwLHQubWkoKTtlPU9iamVjdC5rZXlzKHQubWFwcGluZylbMF19aWYoIShlIGluIHQubWFwcGluZykpcmV0dXJuIHQueWl8fChjb25zb2xlLmVycm9yKFwibm8gcmVnaXN0ZXJlZCBIaXZlUmVxdWVzdEZhY3RvcnkgdGVjaCBmb3IgIFwiK2UpLHQueWk9ITApLHQubWkoKTt2YXIgaT10Lm1hcHBpbmdbZV07c3dpdGNoKGkudGVjaCl7Y2FzZVwiSGl2ZUpTXCI6cmV0dXJuIHQubWkoKTtjYXNlXCJIaXZlSnNQcm94eVwiOnJldHVybiBpLndpP25ldyBTLlRpKGUpOihpLndpPSEwLG5ldyBiLlNpKGUpKTtjYXNlXCJIaXZlSmF2YVwiOmNhc2VcIlN0YXRzSlNcIjpyZXR1cm4gdC5taSgpfX1yZXR1cm4gdC5taT1mdW5jdGlvbigpe3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBPcmlnaW5hbFhNTEh0dHBSZXF1ZXN0P25ldyBPcmlnaW5hbFhNTEh0dHBSZXF1ZXN0Om5ldyBYTUxIdHRwUmVxdWVzdH0sdC5jbGVhcj1mdW5jdGlvbigpe3QubWFwcGluZz17fX0sdC5iaT1mdW5jdGlvbihlLGkpe2UgaW4gdC5tYXBwaW5nfHwodC5tYXBwaW5nW2VdPXt9KSx0Lm1hcHBpbmdbZV0udGVjaD1pfSx0fSgpO0UubWFwcGluZz17fSxFLnlpPSExLGUuSGl2ZVJlcXVlc3RGYWN0b3J5PUU7dmFyIEk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxpLHIpe3RoaXMuRWk9ITEsdGhpcy50aWNrZXRVcmw9dCx0aGlzLnRpY2tldD1lLHRoaXMubWFuaWZlc3Q9aSx0aGlzLklpPXYuZGVmZXIoKSx0aGlzLlJpPXIsdGhpcy5SaSYmdGhpcy5JaS5yZXNvbHZlKHRoaXMuUmkpfXJldHVybiB0LnByb3RvdHlwZS5zdD1mdW5jdGlvbih0KXtyZXR1cm4gbnVsbCE9PXRoaXMudGVjaCYmdGhpcy50ZWNoLnN0KHQsdGhpcyl9LHQucHJvdG90eXBlLmtpPWZ1bmN0aW9uKHQpe3RoaXMuRWkhPXQmJih0aGlzLkVpPXQsdGhpcy50ZWNoJiZ0aGlzLnRlY2guQ2kodGhpcyx0KSl9LHQucHJvdG90eXBlLk9pPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuRWl9LHQucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKHQpe2lmKG51bGwhPXRoaXMudGVjaClyZXR1cm4gdGhpcy50ZWNoLlBpKHRoaXMsdCl9LHQucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGlja2V0LnRvU3RyaW5nKCl9LHQucHJvdG90eXBlLmc9ZnVuY3Rpb24oKXt2YXIgdD1uZXcgVDtyZXR1cm4gdC5pZD10aGlzLmlkLHQudGlja2V0VXJsPXRoaXMudGlja2V0VXJsLHQubWFuaWZlc3Q9dGhpcy5tYW5pZmVzdCx0LnRlY2g9dGhpcy50ZWNoLkFpKCksdH0sdC5wcm90b3R5cGUuTmk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5JaS52dH0sdC5wcm90b3R5cGUueGk9ZnVuY3Rpb24odCl7dGhpcy5SaT10LHRoaXMuSWkucmVzb2x2ZSh0aGlzLlJpKX0sdH0oKTtlLkJpPUk7dmFyIFI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0fSgpO2UuRmk9Ujt2YXIgaz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLnN1Y2Nlc3M9MCx0aGlzLl9pPTAsdGhpcy5EaT0wfXJldHVybiB0fSgpO2UuSGk9azt2YXIgQz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLkxpPTAsdGhpcy5NaT0wLHRoaXMuamk9bmV3IGYsdGhpcy5VaT1uZXcgZn1yZXR1cm4gdC5wcm90b3R5cGUuTT1mdW5jdGlvbih0LGUsaSxyKXt2b2lkIDA9PT1yJiYocj0hMCk7dmFyIG49dD90aGlzLmppOnRoaXMuVWk7bi5oYXMoZSl8fG4uc2V0KGUsbmV3IGspO3ZhciBvPW4uZ2V0KGUpO28uRGkrPWksciYmby5zdWNjZXNzKyt9LHQucHJvdG90eXBlLlY9ZnVuY3Rpb24odCxlKXt2YXIgaT10P3RoaXMuamk6dGhpcy5VaTtpLmhhcyhlKXx8aS5zZXQoZSxuZXcgayksaS5nZXQoZSkuX2krK30sdC5wcm90b3R5cGUuVT1mdW5jdGlvbih0KXt0aGlzLmJhbmR3aWR0aD10fSx0LnByb3RvdHlwZS5aPWZ1bmN0aW9uKCl7dGhpcy5MaSsrfSx0LnByb3RvdHlwZS50dD1mdW5jdGlvbigpe3RoaXMuTWkrK30sdC5wcm90b3R5cGUuVmk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iYW5kd2lkdGh9LHQucHJvdG90eXBlLlFpPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaml9LHQucHJvdG90eXBlLnFpPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuVWl9LHQucHJvdG90eXBlLkppPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuTGl9LHQucHJvdG90eXBlLktpPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuTWl9LHR9KCk7ZS5QPUM7dmFyIE89ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dmFyIGU9dGhpcztpZih0LkdpKXRocm93IG5ldyBFcnJvcihcIkVycm9yOiBJbnN0YW50aWF0aW9uIGZhaWxlZDogVXNlIFZpc2liaWxpdHlDaGFuZ2VMaXN0ZW5lci5nZXRJbnN0YW5jZSgpIGluc3RlYWQgb2YgbmV3LlwiKTt2YXIgaSxyO1widW5kZWZpbmVkXCIhPXR5cGVvZiBkb2N1bWVudC5oaWRkZW4/KGk9XCJoaWRkZW5cIixyPVwidmlzaWJpbGl0eWNoYW5nZVwiKTpcInVuZGVmaW5lZFwiIT10eXBlb2YgZG9jdW1lbnQubXNIaWRkZW4/KGk9XCJtc0hpZGRlblwiLHI9XCJtc3Zpc2liaWxpdHljaGFuZ2VcIik6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGRvY3VtZW50LndlYmtpdEhpZGRlbiYmKGk9XCJ3ZWJraXRIaWRkZW5cIixyPVwid2Via2l0dmlzaWJpbGl0eWNoYW5nZVwiKSxcInVuZGVmaW5lZFwiIT10eXBlb2YgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lciYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGRvY3VtZW50W2ldP2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIocixmdW5jdGlvbigpe3ZhciB0PSFkb2N1bWVudFtpXTtlLnppLmZvckVhY2goZnVuY3Rpb24oaSl7aS5jYWxsKGUsdCl9KX0sITEpOnQubSYmdC5tLmRlYnVnKFwid2FybiAtIHZpc2liaWxpdHlDaGFuZ2UgbGlzdGVuZXIgbm90IHN1cHBvcnRlZFwiKSx0aGlzLnppPW5ldyBBcnJheX1yZXR1cm4gdC5XaT1mdW5jdGlvbihlKXtyZXR1cm4gZSYmKHRoaXMubT1lKSx2b2lkIDA9PT10aGlzLkdpJiYodGhpcy5HaT1uZXcgdCksdGhpcy5HaX0sdC5wcm90b3R5cGUuJGk9ZnVuY3Rpb24odCl7dGhpcy56aS5wdXNoKHQpfSx0fSgpO2UuWWk9TyxlLlhpPXIsZS5aaT1uLGUudHI9byxlLmVyPXMsZS5pcj1hLGUucnI9YyxlLm5yPWgsZS5vcj1wLGUuc3I9bDt2YXIgUD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQuZ2V0SXRlbT1mdW5jdGlvbih0KXt0cnl7cmV0dXJuIHdpbmRvdy5zZXNzaW9uU3RvcmFnZT93aW5kb3cuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSh0KTpudWxsfWNhdGNoKGUpe3JldHVybiBudWxsfX0sdC5zZXRJdGVtPWZ1bmN0aW9uKHQsZSl7dHJ5e3JldHVybiEhd2luZG93LnNlc3Npb25TdG9yYWdlJiYod2luZG93LnNlc3Npb25TdG9yYWdlLnNldEl0ZW0odCxlKSwhMCl9Y2F0Y2goaSl7cmV0dXJuITF9fSx0LnJlbW92ZUl0ZW09ZnVuY3Rpb24odCl7dHJ5e3dpbmRvdy5zZXNzaW9uU3RvcmFnZSYmd2luZG93LnNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0odCl9Y2F0Y2goZSl7cmV0dXJuIG51bGx9fSx0fSgpO2UuYXI9UDt2YXIgQT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5jcj10fXJldHVybiB0LnByb3RvdHlwZS5ocj1mdW5jdGlvbih0KXt2YXIgZT1EYXRlLm5vdygpO3JldHVybiB0aGlzLmlzRXF1YWwodGhpcy5wcix0KXx8KHRoaXMudXI9ZSksdGhpcy5wcj10LGUtdGhpcy51cj49dGhpcy5jcn0sdC5wcm90b3R5cGUuaXNFcXVhbD1mdW5jdGlvbih0LGUpe2lmKHQmJmUpe3ZhciBpPVtlLmxyLXQubHIsZS5kci10LmRyLGUuZ3ItdC5ncl07cmV0dXJuIGkucmVkdWNlKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQmJk1hdGguYWJzKGUpPDEwfSwhMCl9cmV0dXJuITF9LHR9KCk7ZS52cj1BfSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHIsbj1pKDExKSxvPWkoMTgpLHM9aSgxMik7IWZ1bmN0aW9uKHQpe3ZhciBlOyFmdW5jdGlvbih0KXt2YXIgZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLm1vbml0b3JQb3J0PW8ua2UueXI/cy53ci5tcjpzLndyLlRyLHRoaXMucGxheWVyUG9ydD1vLmtlLnlyP3Mud3IuU3I6cy53ci5icix0aGlzLmZlZWRiYWNrUGVyaW9kPTJlMyx0aGlzLmlkbGVUaW1lUGVyaW9kPTZlNCx0aGlzLnVzZVNlc3Npb25DaGVjaz1vLmtlLkVyLHRoaXMuZGVidWdMZXZlbD1cIm5vdGljZVwiLHRoaXMuaGl2ZVRlY2hPcmRlcj1bXSx0aGlzLnRlbGVtZXRyeUlkPW51bGwsdGhpcy5zaWxlbnQ9ITEsdGhpcy5sb2dnZXJUaW1lc3RhbXA9bi5IaXZlQ29uZmlnLkZyYW1ld29yay5Mb2dnZXJUaW1lc3RhbXAsdGhpcy5vblNvdXJjZVNldENvbXBsZXRlZD1mdW5jdGlvbih0KXt9LHRoaXMub25Mb2FkaW5nQ29tcGxldGVkPWZ1bmN0aW9uKHQpe319cmV0dXJuIHR9KCk7dC5Jcj1lO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3RoaXMuaW5pdFRpbWVvdXQ9M2U0LHRoaXMub25FcnJvcj1mdW5jdGlvbih0KXtyZXR1cm4hMH0sdGhpcy5vbkFjdGl2ZVNlc3Npb249ZnVuY3Rpb24odCl7fX1yZXR1cm4gdH0oKTt0LlJyPWk7dmFyIHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dGhpcy5oaXZlUGxheWVyUG9ydD1cInBsYXllclBvcnRcIix0aGlzLmhpdmVNb25pdG9yUG9ydD1cIm1vbml0b3JQb3J0XCIsdGhpcy5oaXZlU2lsZW50PVwic2lsZW50XCIsdGhpcy5oaXZlRGVidWdMZXZlbD1cImRlYnVnTGV2ZWxcIix0aGlzLmhpdmVEZWJ1Z1RpbWVzdGFtcD1cImxvZ2dlclRpbWVzdGFtcFwiLHRoaXMuaGl2ZVNldHVwVGltZW91dD1cInNldHVwVGltZW91dFwiLHRoaXMuaGl2ZUphdmFUaW1lb3V0PVwiaW5pdFRpbWVvdXRcIix0aGlzLmhpdmVXYXJuSmF2YVRpbWVvdXQ9XCJ3YXJuU2xvd1Jlc3BUaW1lb3V0XCJ9cmV0dXJuIHR9KCk7dC5rcj1yfShlPXQuSXJ8fCh0LklyPXt9KSl9KHI9ZS5wdHx8KGUucHQ9e30pKTt2YXIgYTshZnVuY3Rpb24odCl7dmFyIGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0fSgpO2UuZW5hYmxlZFJVTT0hMSxlLmVuYWJsZUtleUNvbWJpbmF0aW9uPSEwLGUuZW5hYmxlZEVycm9yRmlsdGVyPSEwLHQuRXJyb3JNb25pdG9yPWV9KGE9ZS5IaXZlQ29uZmlnfHwoZS5IaXZlQ29uZmlnPXt9KSksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiB3aW5kb3cuSGl2ZUNvbmZpZyYmKHdpbmRvdy5IaXZlQ29uZmlnPXt9KSx3aW5kb3cuSGl2ZUNvbmZpZy5FcnJvck1vbml0b3I9YS5FcnJvck1vbml0b3IpfSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHIsbj10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBpKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWZvcih2YXIgciBpbiBlKWUuaGFzT3duUHJvcGVydHkocikmJih0W3JdPWVbcl0pO3QucHJvdG90eXBlPW51bGw9PT1lP09iamVjdC5jcmVhdGUoZSk6KGkucHJvdG90eXBlPWUucHJvdG90eXBlLG5ldyBpKX0sbz1pKDI4KS5DcixzPWkoMSksYT1pKDIpLGM9aSg1KSxoPWkoMTMpLHA9aSgxMCksdT1pKDIzKTshZnVuY3Rpb24odCl7dmFyIGU9XCJbVFJBQ0tdIFwiO3QuT3I9XCJoaXZlLWNsaWVudC10cmFja1wiLHQuUHI9XCJ0cmFja2V2ZW50XCIsdC5Bcj1cIk5VTExJRFwiLHQuTnI9XCJcIjt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHR9KCk7aS54cj0wLGkuQnI9MSxpLkZyPTIsaS5fcj0xMDAsaS5Ecj0yMDAsdC5Icj1pO3ZhciByOyFmdW5jdGlvbih0KXt0W3QuTj0wXT1cIlBMQVlJTkdcIix0W3QuTHI9MV09XCJCVUZGRVJJTkdcIix0W3QuVz0yXT1cIlBBVVNFRFwiLHRbdC5IPTNdPVwiU0tJUFwiLHRbdC5EPTRdPVwiU1RPUFBFRFwiLHRbdC5FUlJPUj01XT1cIkVSUk9SXCIsdFt0Lk1yPTZdPVwiV0lORE9XX1NJWkVcIix0W3QuTD03XT1cIkZVTExTQ1JFRU5cIix0W3QuanI9OF09XCJWSVNJQkxFXCIsdFt0LkhJRERFTj05XT1cIkhJRERFTlwifShyPXQuQnx8KHQuQj17fSkpO3ZhciBsOyFmdW5jdGlvbih0KXt0W3QuVXI9MF09XCJKQVZBX05PVF9SRUFDSEFCTEVcIix0W3QuVnI9MV09XCJKQVZBX05PVF9SRUFEWVwiLHRbdC5Rcj0yXT1cIkpBVkFfV1JPTkdfVkVSU0lPTlwiLHRbdC5xcj0zXT1cIkpBVkFfU0VTU0lPTl9CVVNZXCIsdFt0LkpyPTRdPVwiSkFWQV9TRVNTSU9OX0VSUk9SXCIsdFt0LktyPTVdPVwiSkFWQV9USUNLRVRfVElNRU9VVFwifShsPXQuR3J8fCh0LkdyPXt9KSk7dmFyIGQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0fSgpO3QuenI9ZDt2YXIgZj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHR9KCk7dC5Xcj1mO3ZhciBnPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdH0oKTt0LiRyPWc7dmFyIHY9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dGhpcy50eXBlPWkuRnJ9cmV0dXJuIHR9KCkseT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLnNlc3Npb25zPW5ldyBBcnJheX1yZXR1cm4gdC5wcm90b3R5cGUuWXI9ZnVuY3Rpb24odCxlKXt2YXIgaTt0aGlzLnNlc3Npb25zLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5zZXNzaW9uSWQ9PXQmJihpPWUpfSksaXx8KGk9bmV3IG0saS5zZXNzaW9uSWQ9dCx0aGlzLnNlc3Npb25zLnB1c2goaSkpLGkuZXZlbnRzLnB1c2goZSl9LHR9KCk7dC5Ycj15O3ZhciBtPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3RoaXMuZXZlbnRzPW5ldyBBcnJheX1yZXR1cm4gdH0oKTt0LlpyPW07dmFyIHc9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7dGhpcy5tPWEuRnJhbWV3b3JrLnJlc29sdmUoYS5GcmFtZXdvcmsuRmUud2UpLmxvZygpLHRoaXMudG49YS5GcmFtZXdvcmsucmVzb2x2ZShjLmdpLmNpKSx0aGlzLmVuPW5ldyBBcnJheSx0aGlzLmluPW5ldyBBcnJheSx0aGlzLnJuPW5ldyBBcnJheX1yZXR1cm4gaS5wcm90b3R5cGUubm49ZnVuY3Rpb24odCl7dGhpcy5jbGllbnQ9dH0saS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbih0LGkpe3RoaXMuc249dCx0aGlzLmFuKGkpLHRoaXMubS5kZWJ1ZyhlK1wiSU5JVCBJRDogXCIrdCl9LGkucHJvdG90eXBlLmFuPWZ1bmN0aW9uKHQsZSl7dGhpcy5hcHA9dCxlJiYodGhpcy5jbj1lKX0saS5wcm90b3R5cGUuaG49ZnVuY3Rpb24odCl7dGhpcy5wbj10fSxpLnByb3RvdHlwZS51bj1mdW5jdGlvbih0KXt2YXIgZT1uZXcgUyh0LHRoaXMpO3RoaXMuZW4ucHVzaChlKSx0aGlzLmxuPW51bGwsdGhpcy5jbGllbnQuZG4oITApfSxpLnByb3RvdHlwZS53aT1mdW5jdGlvbih0LGkscil7aWYoIXRoaXMubG4pZm9yKHZhciBuPTA7bjx0aGlzLmVuLmxlbmd0aDtuKyspe3ZhciBvPXRoaXMuZW5bbl07aWYoby50aWNrZXQuc2Vzc2lvbklkPT09dCl7dGhpcy5tLmRlYnVnKGUrXCJBY3RpdmF0aW5nIFRyYWNrIGZvciBzZXNzaW9uIFwiK3QpLHRoaXMubG49bzticmVha319aWYodGhpcy5sbil7aWYodGhpcy5sbi50aWNrZXQuc2Vzc2lvbklkIT10KXJldHVybiB2b2lkIHRoaXMubS53YXJuKGUrXCJpZ25vcmluZyBtYW5pZmVzdCBub3QgbWF0Y2hpbmcgZXZlbnQgXCIrdGhpcy5sbi50aWNrZXQuc2Vzc2lvbklkK1wiICE9IFwiK3QpO2lmKCF0aGlzLmxuLmZuKXt2YXIgcz1uZXcgYih0LGkscik7dGhpcy5sbi5nbihzKSx0aGlzLmNsaWVudC5kbigpfX19LGkucHJvdG90eXBlLnZuPWZ1bmN0aW9uKHQsZSxpKXtudWxsIT10aGlzLmxuJiYodGhpcy5sbi5mbnx8dGhpcy5sbi55bi5wdXNoKG5ldyBrKHQsZSxpKSkpfSxpLnByb3RvdHlwZS5tbj1mdW5jdGlvbih0LGUsaSl7dGhpcy5pbi5wdXNoKG5ldyBJKHQsZSxpKSksdGhpcy5jbGllbnQuZG4oKX0saS5wcm90b3R5cGUud249ZnVuY3Rpb24odCxlLGkpe3RoaXMucm4ucHVzaChuZXcgUih0LGUsaSkpLHRoaXMuY2xpZW50LmRuKCl9LGkucHJvdG90eXBlLlRuPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7dCYmdC5mb3JFYWNoKGZ1bmN0aW9uKHQpe2Uucm4ucHVzaCh0KX0pfSxpLnByb3RvdHlwZS5Tbj1mdW5jdGlvbigpe3ZhciB0PW5ldyBmO3RoaXMuY24/KHQucGFydG5lcklkPXRoaXMuY24ucGFydG5lcklkLHQuY3VzdG9tZXJJZD10aGlzLmNuLmN1c3RvbWVySWQpOnRoaXMubG4mJih0LnBhcnRuZXJJZD10aGlzLmxuLnRpY2tldC5ibigpLHQuY3VzdG9tZXJJZD10aGlzLmxuLnRpY2tldC5FbigpKSx0LnZlcnNpb249dGhpcy5hcHAuYXBwK1wiX1wiKyh0aGlzLmNuP3RoaXMuY24udmVyc2lvbjp0aGlzLmFwcC52ZXJzaW9uKSx0aGlzLmNuJiYodC5pbnN0YWxsVmVyc2lvbj10aGlzLmNuLmluc3RhbGxWZXJzaW9uLHQuaW5zdGFsbFRzPXRoaXMuY24uaW5zdGFsbFRzKTt2YXIgZT1uZXcgbztyZXR1cm4gZS5JbihuYXZpZ2F0b3IudXNlckFnZW50KSx0Lm9zPWUuUm4oKS5uYW1lK1wiIFwiK2UuUm4oKS52ZXJzaW9uLHRoaXMucG4mJih0LmNvbW1WZXJzaW9uPXRoaXMucG4uY29tbVZlcnNpb24sdC5wbHVnaW5OYW1lPXRoaXMucG4ucGx1Z2luTmFtZSx0LnBsdWdpblZlcnNpb249dGhpcy5wbi5wbHVnaW5WZXJzaW9uLHQucGxheWVyVGVjaD10aGlzLnBuLnBsYXllclRlY2gsdC5wbGF5ZXJWZXJzaW9uPXRoaXMucG4ucGxheWVyVmVyc2lvbix0aGlzLnBuLnRlbGVtZXRyeUlkJiYodC50ZWxlbWV0cnlJZD10aGlzLnBuLnRlbGVtZXRyeUlkKSksdH0saS5wcm90b3R5cGUua249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sbj90aGlzLmxuOnRoaXMuZW4mJnRoaXMuZW4ubGVuZ3RoPjA/dGhpcy5lblt0aGlzLmVuLmxlbmd0aC0xXTp2b2lkIDB9LGkucHJvdG90eXBlLkNuPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyxpPXMuZGVmZXIoKTswPT10aGlzLmVuLmxlbmd0aCYmMD09dGhpcy5pbi5sZW5ndGgmJmkucmVqZWN0KFwibm90aGluZyB0byBzZW5kXCIpO3ZhciByPW5ldyBkO3IuYXBwPXQuT3Isci5jcmVhdGVkQXQ9YS5GcmFtZXdvcmsudGltZSgpLHIuZ3VpZD10aGlzLnNuLHIubmFtZT10LlByO3ZhciBuPXRoaXMua24oKTtpZihuKXt2YXIgbz1uLnRpY2tldC5PbigpLnJlcGxhY2UoL1tcXFtcXF1dL2csXCJcIik7ci50YWdzPVtvXSxyLnRhZ3MucHVzaChuLnRpY2tldC5ibigpKSxyLnRhZ3MucHVzaChuLnRpY2tldC5FbigpKX1lbHNlIHIudGFncz1uZXcgQXJyYXk7dmFyIGM9bmV3IHk7cmV0dXJuIGMucGVlcj10aGlzLlNuKCksdGhpcy5lbi5mb3JFYWNoKGZ1bmN0aW9uKHQpe3QuZm58fGMuWXIodC50aWNrZXQuc2Vzc2lvbklkLHQpfSksdGhpcy5pbi5mb3JFYWNoKGZ1bmN0aW9uKHQpe2MuWXIodC5zZXNzaW9uSWQsdCl9KSx0aGlzLnJuLmZvckVhY2goZnVuY3Rpb24odCl7Yy5Zcih0LnNlc3Npb25JZCx0KX0pLHIuZGF0YT1jLHRoaXMudG4uUG4oKS50aGVuKGZ1bmN0aW9uKHQpe3ZhciBpPWUuQW4odCk7Yy5ZcihcIm51bGxcIixpKX0pLmZhaWwoZnVuY3Rpb24odCl7fSlbXCJmaW5hbGx5XCJdKGZ1bmN0aW9uKCl7cmV0dXJuIGkucmVzb2x2ZShyKX0pLmRvbmUoKSxpLnZ0fSxpLnByb3RvdHlwZS5Bbj1mdW5jdGlvbih0KXt2YXIgZT1uZXcgdjtlLnRzPWEuRnJhbWV3b3JrLnRpbWUoKTt2YXIgaT10Lk5uKCk7cmV0dXJuIGkueG4oKSYmKGUucHViSXA9aS54bigpKSxpLkJuKCkmJihlLnByaXZJcD1pLkJuKCkpLHQuRm4oKSYmKGUuaG9zdG5hbWU9dC5GbigpKSxpLl9uKCkmJihlLm5ldG1hc2s9aS5fbigpKSxpLkRuKCkmJihlLm5pYz1pLkRuKCkpLGkuSG4oKSYmKGUubmljTmFtZT1pLkhuKCkpLGkuTG4oKSYmKGUubWFjPWkuTG4oKSksZX0saS5wcm90b3R5cGUuTW49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jbj90aGlzLmNuLnVzZXJBZ2VudDpuYXZpZ2F0b3IudXNlckFnZW50fSxpLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMuZW49bmV3IEFycmF5LHRoaXMuaW49bmV3IEFycmF5LHRoaXMucm49bmV3IEFycmF5fSxpLnByb3RvdHlwZS5qbj1mdW5jdGlvbih0KXt9LGl9KCk7dC5Vbj13O3ZhciBUPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLlZuPWlzTmFOKHUuSGl2ZUNvbmZpZy5EZWJ1Z0xvZ3MuVHJhY2tTbmFwc2hvdExvZ3MpPzA6dS5IaXZlQ29uZmlnLkRlYnVnTG9ncy5UcmFja1NuYXBzaG90TG9ncyx0aGlzLlFuPXQsdGhpcy5tPWEuRnJhbWV3b3JrLnJlc29sdmUoYS5GcmFtZXdvcmsuRmUud2UpLmxvZygpLHRoaXMuY2xpZW50PWEuRnJhbWV3b3JrLnJlc29sdmUoYy5naS5CZSksdGhpcy5Rbi5ubih0aGlzKX1yZXR1cm4gdC5wcm90b3R5cGUuZG49ZnVuY3Rpb24odCl7dm9pZCAwPT09dCYmKHQ9ITEpO3ZhciBlPXQ/aC5Lbi5Kbi5xbjpoLktuLkpuLkduO2lmKHRoaXMuem4pe3ZhciBpPXRoaXMuV24tKG5ldyBEYXRlKS5nZXRUaW1lKCk7aT5lJiYoYS5GcmFtZXdvcmsuY2xlYXJUaW1lb3V0KHRoaXMuem4pLHRoaXMuV249bnVsbCx0aGlzLiRuKGUpKX1lbHNlIHRoaXMuJG4oZSl9LHQucHJvdG90eXBlLiRuPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7dGhpcy56bj1hLkZyYW1ld29yay5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS5ZbigpfSx0KSx0aGlzLlduPShuZXcgRGF0ZSkuZ2V0VGltZSgpK3R9LHQucHJvdG90eXBlLlluPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLnpuPW51bGwsdGhpcy5Xbj1udWxsLHRoaXMubS5kZWJ1ZyhlK1wiVEFLSU5HIEEgVFJBQ0sgU05BUFNIT1RcIiksXG4gIHRoaXMuUW4uQ24oKS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiB0LmZvcndhcmQoZSl9KVtcImZpbmFsbHlcIl0oZnVuY3Rpb24oKXtyZXR1cm4gdC5Rbi5yZXNldCgpfSl9LHQucHJvdG90eXBlLmZvcndhcmQ9ZnVuY3Rpb24odCl7aWYodGhpcy5jbGllbnQmJnRoaXMuY2xpZW50LlhuKCkpe3ZhciBpPUpTT04uc3RyaW5naWZ5KHQpO3N3aXRjaCh0aGlzLlZuKXtjYXNlIDA6ZGVmYXVsdDp0aGlzLm0uZGVidWcoZStcIlRSQUNLIEVWRU5UXCIpO2JyZWFrO2Nhc2UgMTp0aGlzLm0uZGVidWcoZStcIlRSQUNLIEVWRU5UOlwiK2kpfXZhciByPW5ldyBwLlpuKFNlcnZpY2VzLnRvLDIsaSk7dGhpcy5jbGllbnQuWG4oKS5zZW5kKHIpfX0sdH0oKTt0LmVvPVQ7dmFyIFM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy5jcmVhdGVkQXQ9KG5ldyBEYXRlKS5nZXRUaW1lKCksdGhpcy5mbj0hMSx0aGlzLnRpY2tldD10LHRoaXMubWFuaWZlc3RzPW5ldyBBcnJheSx0aGlzLnluPW5ldyBBcnJheSx0aGlzLlFuPWV9cmV0dXJuIHQucHJvdG90eXBlLmduPWZ1bmN0aW9uKHQpe3RoaXMubWFuaWZlc3RzLnB1c2godCl9LHQucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3ZhciB0PXt9O3QudHlwZT1pLnhyLHQudGlja2V0PXt9LHQudGlja2V0LnVybD10aGlzLnRpY2tldC50aWNrZXRVcmwsdC50aWNrZXQucmVxVHM9dGhpcy50aWNrZXQuaW8sdC50aWNrZXQucmVzcFRzPXRoaXMudGlja2V0LnJvLHQudGlja2V0LnVzZXJBZ2VudD10aGlzLlFuLk1uKCksdC5tYW5pZmVzdHM9W10sdGhpcy5tYW5pZmVzdHMuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgaT17fTtpLnVybD1lLnVybCxpLnJlc3BUcz1lLnJvLGkucmVzcENvZGU9ZS5yZXNwQ29kZSx0Lm1hbmlmZXN0cy5wdXNoKGkpfSk7dmFyIGU9LTEscj0tMSxuPS0xO3JldHVybiB0aGlzLnluLmZvckVhY2goZnVuY3Rpb24odCl7dC5ubz4wJiYoZT09LTEmJihlPXQudHMscj10Lm5vKSxuPXQubm8pfSksZSE9LTEmJih0LnBsYXlUcz1lKSxuIT0tMSYmKHQuYnVmZlRpbWU9biksciE9LTEmJih0LmluaXRCdWZmVGltZT1yKSx0fSx0fSgpO3Qub289Uzt2YXIgYj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLGkpe3RoaXMuZXZlbnRJZD10LHRoaXMudXJsPWUsdGhpcy5ybz0obmV3IERhdGUpLmdldFRpbWUoKSx0aGlzLnJlc3BDb2RlPWl9cmV0dXJuIHR9KCk7dC5zbz1iO3ZhciBFPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsaSxyKXt0aGlzLnRzPShuZXcgRGF0ZSkuZ2V0VGltZSgpLHRoaXMuc2Vzc2lvbklkPXQsdGhpcy5zZXNzaW9uSWR8fCh0aGlzLnNlc3Npb25JZD1cIm51bGxcIiksdGhpcy5ldmVudD1lLHRoaXMuYW89aSxyJiYodGhpcy50cz1yKX1yZXR1cm4gdC5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7dmFyIHQ9e307cmV0dXJuIHQudHlwZT10aGlzLmNvK3RoaXMuZXZlbnQsdC50cz10aGlzLnRzLHRoaXMuYW8mJih0LnBhcmFtZXRlcnM9dGhpcy5hbyksdH0sdH0oKTt0LmhvPUU7dmFyIEk9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLHIsbixvKXt2YXIgcz10LmNhbGwodGhpcyxlLHIsbixvKXx8dGhpcztyZXR1cm4gcy5jbz1pLl9yLHN9cmV0dXJuIG4oZSx0KSxlfShFKTt0LnBvPUk7dmFyIFI9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLHIsbixvKXt2YXIgcz10LmNhbGwodGhpcyxlLHIsbixvKXx8dGhpcztyZXR1cm4gcy5jbz1pLkRyLHN9cmV0dXJuIG4oZSx0KSxlfShFKTt0LnVvPVI7dmFyIGs9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxpKXt0aGlzLnRzPShuZXcgRGF0ZSkuZ2V0VGltZSgpLHRoaXMubHI9dCx0aGlzLmxvPWUsdGhpcy5ubz1pfXJldHVybiB0fSgpO3QuZG89a30ocj1lLkZ8fChlLkY9e30pKX0sZnVuY3Rpb24odCxlKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBpKCl7aWYodGhpcy5mbylyZXR1cm4gdGhpcy5mbzt2YXIgdD13aW5kb3cmJndpbmRvdy53aW5kb3c/d2luZG93LndpbmRvdy52bzp2b2lkIDA7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHQmJnQubG9nJiZ0LmRlYnVnJiZ0LmluZm8mJnQud2FybiYmdC5lcnJvciYmKHRoaXMuZm89dCksIXRoaXMuZm8pe3ZhciBlPSEoXCJ1bmRlZmluZWRcIj09dHlwZW9mIHdpbmRvdy5jb25zb2xlKSxpPWU/Y29uc29sZS5sb2cuYmluZChjb25zb2xlKTpmdW5jdGlvbigpe307dGhpcy5mbz17bG9nOmksZGVidWc6ZSYmd2luZG93LmNvbnNvbGUuZGVidWc/d2luZG93LmNvbnNvbGUuZGVidWcuYmluZChjb25zb2xlKTppLGluZm86ZSYmd2luZG93LmNvbnNvbGUuaW5mbz93aW5kb3cuY29uc29sZS5pbmZvLmJpbmQoY29uc29sZSk6aSx3YXJuOmUmJndpbmRvdy5jb25zb2xlLndhcm4/d2luZG93LmNvbnNvbGUud2Fybi5iaW5kKGNvbnNvbGUpOmksZXJyb3I6ZSYmd2luZG93LmNvbnNvbGUuZXJyb3I/d2luZG93LmNvbnNvbGUuZXJyb3IuYmluZChjb25zb2xlKTppfX1yZXR1cm4gdGhpcy5mb31lLnU9XCJbSGl2ZVNlcnZpY2VzXSBcIjt2YXIgcj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHR9KCk7ci55bz0yNTAsZS5rZT1yO3ZhciBuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsaSl7dGhpcy5tc2dJZD1lLHRoaXMuc2VydmljZT10LHRoaXMubXNnPWl9cmV0dXJuIHQucHJvdG90eXBlLm1vPWZ1bmN0aW9uKCl7dmFyIHQ9bmV3IFVpbnQ4QXJyYXkoW3RoaXMuc2VydmljZT4+OCwyNTUmdGhpcy5zZXJ2aWNlXSksZT1uZXcgVWludDhBcnJheShbdGhpcy5tc2dJZF0pLGk9W3QsZSx0aGlzLm1zZ107cmV0dXJuIG5ldyBCbG9iKGkse3R5cGU6XCJhcHBsaWNhdGlvbi9vY3RldC1iaW5hcnlcIn0pfSx0LndvPWZ1bmN0aW9uKGUpe3ZhciBpPShTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsbmV3IFVpbnQ4QXJyYXkoZSkpLFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxuZXcgVWludDhBcnJheShlLnNsaWNlKDMpKSkpLHI9bmV3IFVpbnQ4QXJyYXkoZS5zbGljZSgwLDIpKSxuPW5ldyBVaW50OEFycmF5KGUuc2xpY2UoMiwzKSksbz0oclswXTw8OCkrclsxXTtyZXR1cm4gbmV3IHQobyxuWzBdLGkpfSx0fSgpO2UuWm49bixlLm09aX0sZnVuY3Rpb24odCxlKXtcInVzZSBzdHJpY3RcIjt2YXIgaTshZnVuY3Rpb24odCl7dmFyIGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0fSgpO2UuTG9nZ2VyVGltZXN0YW1wPSEwLHQuRnJhbWV3b3JrPWU7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0fSgpO2kuTWV0cmljU25hcHNob3RMb2dzPTAsaS5UcmFja1NuYXBzaG90TG9ncz0wLHQuRGVidWdMb2dzPWl9KGk9ZS5IaXZlQ29uZmlnfHwoZS5IaXZlQ29uZmlnPXt9KSksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiB3aW5kb3cuSGl2ZUNvbmZpZyYmKHdpbmRvdy5IaXZlQ29uZmlnPXt9KSx3aW5kb3cuSGl2ZUNvbmZpZy5GcmFtZXdvcms9aS5GcmFtZXdvcmssd2luZG93LkhpdmVDb25maWcuRGVidWdMb2dzPWkuRGVidWdMb2dzKX0sZnVuY3Rpb24odCxlKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHR9KCk7aS5Ubz1cIjEyNy4wLjAuMVwiLGkuYnI9ODk5OSxpLlNyPTg5OTgsaS5Ucj04ODk5LGkubXI9ODg5OCxpLlNvPVwiLy97MH06ezF9Lz9jYWxsYmFjaz17Mn17M31oaXZlUGx1Z2luSWQ9ezR9XCIsaS5ibz1cIi8vezB9OnsxfS8/Y2FsbGJhY2s9ezJ9XCIsaS5Fcj0hMCxpLkVvPS8oKGh0dHB8aHR0cHMpOlxcL1xcLyguKik6KFswLTldKilcXC8oWzAtOWEtei1dKikuaXNtXFwvKSguKikvLGkuSW89XCIyMDEzLjEuMVwiLGUud3I9aX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO3ZhciByOyFmdW5jdGlvbih0KXt0LlJvPSEwO3ZhciBlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdH0oKTtlLmtvPVwid3NzOi8vYmVlLmhpdmVzdHJlYW1pbmcuY29tOjQ0My92MS9oaXZlanNcIixlLkNvPVwid3NzOi8vYmVlLXRlc3QuaGl2ZXN0cmVhbWluZy5jb206NDQzL3YxL2hpdmVqc1wiLGUuT289e2ljZVNlcnZlcnM6W3t1cmw6XCJzdHVuOnN0dW4uaGl2ZXN0cmVhbWluZy5jb206MzY3OFwifV19LGUuUG89M2U0LGUuR249M2U1LGUucW49OGU0LGUuQW89M2U0LGUuTm89MTAwLGUueG89MWU0LHQuSm49ZX0ocj1lLktufHwoZS5Lbj17fSkpfSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHIsbj1pKDQpLG89bi52ZSxzPWkoMSksYT1pKDIpLGM9aSg5KSxoPWkoNSkscD1pKDI3KTshZnVuY3Rpb24odCl7dFt0LklETEU9MF09XCJJRExFXCIsdFt0LkJvPTFdPVwiUExBWVwifShyPWUuRm98fChlLkZvPXt9KSk7dmFyIHU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxpLHIpe3RoaXMudGlja2V0PXQsdGhpcy5fbz1lLHRoaXMuYXBwPWksdGhpcy5pZGVudGl0eT1yLHRoaXMuRG89YS5GcmFtZXdvcmsucmVzb2x2ZShoLmdpLmxpKSx0aGlzLkhvPWEuRnJhbWV3b3JrLnJlc29sdmUoaC5naS5zaSksdGhpcy5Rbj1hLkZyYW1ld29yay5yZXNvbHZlKGguZ2kuZGkpLHRoaXMuTG89bmV3IGMuRi5lbyh0aGlzLlFuKX1yZXR1cm4gdC5wcm90b3R5cGUuYW49ZnVuY3Rpb24odCxlLGkpe3RoaXMuYXBwPW5ldyBsKHQsZSksdGhpcy5Eby5hbih0aGlzLmFwcCksdGhpcy5Rbi5hbih0aGlzLmFwcCxpKX0sdC5wcm90b3R5cGUuQ2k9ZnVuY3Rpb24odCl7dGhpcy5Iby5DaSh0KX0sdH0oKTtlLk1vPXU7dmFyIGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy5hcHA9dCx0aGlzLnZlcnNpb249ZX1yZXR1cm4gdH0oKTtlLmpvPWw7dmFyIGQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dGhpcy5Vbz1udWxsLHRoaXMuVm89bnVsbCx0aGlzLlFvPW5ldyBvLHRoaXMubT1hLkZyYW1ld29yay5yZXNvbHZlKGEuRnJhbWV3b3JrLkZlLndlKS5sb2coKSx0aGlzLm0uZGVidWcoXCJJTklUIFJFUE9SVElOR1wiKSx0aGlzLl9vPWEuRnJhbWV3b3JrLnJlc29sdmUoaC5naS5CZSksdGhpcy5xbz1hLkZyYW1ld29yay5yZXNvbHZlKGguZ2kuQ2UpLHRoaXMuSm89YS5GcmFtZXdvcmsucmVzb2x2ZShoLmdpLmFpKX1yZXR1cm4gdC5wcm90b3R5cGUuaW5pdFNlc3Npb249ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLHI9cy5kZWZlcigpLG49dGhpcy5xby5LbygpLG89dGhpcy5Kby5Hbyh0KTtyZXR1cm4gbnVsbCE9bz9uLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIGkuem8odCxvLHIsZSl9KS5mYWlsKHIucmVqZWN0KTpyLnJlamVjdChcIlRpY2tldCBVUkwgbm90IHZhbGlkXCIpLHIudnR9LHQucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKCl7dGhpcy5fby5jbG9zZSgpfSx0LnByb3RvdHlwZS56bz1mdW5jdGlvbih0LGUsaSxyKXt2YXIgbj10aGlzO3RoaXMuVW89dC5XbygpLHRoaXMuVm89dC4kbygpO3ZhciBvPXRoaXMuX28uaW5pdCh0aGlzLlVvLGUpLHM9dGhpcy5Kby5yZXNvbHZlKG8uWW8sZSxyKTtvLnZ0LnRoZW4oZnVuY3Rpb24oZSl7cy50aGVuKGZ1bmN0aW9uKGUpe3ZhciByPWUuc2Vzc2lvbklkO2lmKG4uUW8uaGFzKHIpKXt2YXIgbz1uLlFvLmdldChyKTtuLm0ud2FybihcIlNFU1NJT04gQUxSRUFEWSBFWElTVElORyBcIitvLkRvLnRpY2tldCl9ZWxzZXt2YXIgcz1uZXcgbChwLkhpdmUuWG8oKSxwLkhpdmUuZ2V0VmVyc2lvbigpKSxhPW5ldyB1KGUsbi5fbyxzLHQpO2EuRG8uaW5pdChuLlZvLGUscyxyKSxhLlFuLmluaXQobi5WbyxzKSxhLlFuLnVuKGUpLG4uUW8uc2V0KHIsYSksbi5tLmRlYnVnKFwiU0VTU0lPTiBTRVQgXCIsciksaS5yZXNvbHZlKGEpfX0pLmZhaWwoZnVuY3Rpb24odCl7cmV0dXJuIGkucmVqZWN0KHQ/dDpcIkVycm9yIHJlc29sdmluZyB0aGUgdGlja2V0XCIpfSksZS5vbmVycm9yKGZ1bmN0aW9uKHQpe2kucmVqZWN0KFwiRXJyb3IgZXN0YWJsaXNoaW5nIGNvbm5lY3Rpb24gdG8gSGl2ZSBTZXJ2aWNlc1wiKX0pfSkuZmFpbChmdW5jdGlvbih0KXtyZXR1cm4gaS5yZWplY3QodCl9KSx0aGlzLl9vLmNvbm5lY3QoKX0sdC5wcm90b3R5cGUuWm89ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5lcygpPT09ZS5lcygpJiZ0LkVuKCk9PT1lLkVuKCkmJnQuYm4oKT09PWUuYm4oKX0sdH0oKTtlLnJzPWR9LGZ1bmN0aW9uKHQsZSxpKXt2YXIgcixyOyFmdW5jdGlvbihlKXt0LnQ9ZSgpfShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbiB0KGUsaSxuKXtmdW5jdGlvbiBvKGEsYyl7aWYoIWlbYV0pe2lmKCFlW2FdKXt2YXIgaD1cImZ1bmN0aW9uXCI9PXR5cGVvZiByJiZyO2lmKCFjJiZoKXJldHVybiByKGEsITApO2lmKHMpcmV0dXJuIHMoYSwhMCk7dmFyIHA9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIithK1wiJ1wiKTt0aHJvdyBwLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIscH12YXIgdT1pW2FdPXt0Ont9fTtlW2FdWzBdLmNhbGwodS50LGZ1bmN0aW9uKHQpe3ZhciBpPWVbYV1bMV1bdF07cmV0dXJuIG8oaT9pOnQpfSx1LHUudCx0LGUsaSxuKX1yZXR1cm4gaVthXS50fWZvcih2YXIgcz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByJiZyLGE9MDthPG4ubGVuZ3RoO2ErKylvKG5bYV0pO3JldHVybiBvfSh7MTpbZnVuY3Rpb24odCxlLGkpe3ZhciByPXQoXCIuL2tlcm5lbFwiKTtpLkllPXIuSWU7dmFyIG49dChcIi4vdHlwZV9iaW5kaW5nXCIpO2kubnM9bi5uczt2YXIgbz10KFwiLi90eXBlX2JpbmRpbmdfc2NvcGVcIik7aS5zcz1vLnNzfSx7XCIuL2tlcm5lbFwiOjIsXCIuL3R5cGVfYmluZGluZ1wiOjQsXCIuL3R5cGVfYmluZGluZ19zY29wZVwiOjV9XSwyOltmdW5jdGlvbih0LGUsaSl7dmFyIHI9dChcIi4vdHlwZV9iaW5kaW5nX3Njb3BlXCIpLG49dChcIi4vbG9va3VwXCIpLG89ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dGhpcy5hcz1uZXcgbi5jc31yZXR1cm4gdC5wcm90b3R5cGUuYmluZD1mdW5jdGlvbih0KXt0aGlzLmFzLmFkZCh0LmhzLHQpfSx0LnByb3RvdHlwZS5wcz1mdW5jdGlvbih0KXt0cnl7dGhpcy5hcy5yZW1vdmUodCl9Y2F0Y2goZSl7dGhyb3cgbmV3IEVycm9yKFwiQ291bGQgbm90IHJlc29sdmUgc2VydmljZSBcIit0KX19LHQucHJvdG90eXBlLkVlPWZ1bmN0aW9uKCl7dGhpcy5hcz1uZXcgbi5jc30sdC5wcm90b3R5cGUucmVzb2x2ZT1mdW5jdGlvbih0KXt2YXIgZTtpZighdGhpcy5hcy51cyh0KSlyZXR1cm4gbnVsbDtlPXRoaXMuYXMuZ2V0KHQpO3ZhciBpPWVbMF07aWYoaS5zY29wZT09PXIuc3MubHMmJm51bGwhPT1pLmRzKXJldHVybiBpLmRzO3ZhciBuPXRoaXMuZnMoaS5ncyk7cmV0dXJuIGkuZHM9bixufSx0LnByb3RvdHlwZS52cz1mdW5jdGlvbih0KXt2YXIgZSxpLHIsbixvLHM7cmV0dXJuIG89LygoXFwvXFwvLiokKXwoXFwvXFwqW1xcc1xcU10qP1xcKlxcLykpL2dtLHM9LyhbXlxccyxdKykvZyxlPXQudG9TdHJpbmcoKS5yZXBsYWNlKG8sXCJcIiksaT1lLmluZGV4T2YoXCIoXCIpKzEscj1lLmluZGV4T2YoXCIpXCIpLG49XCJmdW5jdGlvblwiPT10eXBlb2YgTWFwJiYtMSE9PWUuaW5kZXhPZihcImNsYXNzXCIpJiYtMT09PWUuaW5kZXhPZihcImNvbnN0cnVjdG9yXCIpP251bGw6ZS5zbGljZShpLHIpLm1hdGNoKHMpLG51bGw9PT1uJiYobj1bXSksbn0sdC5wcm90b3R5cGUuZnM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy52cyh0KTtpZigwPT09ZS5sZW5ndGgpcmV0dXJuIG5ldyB0O2Zvcih2YXIgaT1bXSxyPW51bGwsbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgbz1lW25dO3I9dGhpcy5yZXNvbHZlKG8pLGkucHVzaChyKX1yZXR1cm4gdGhpcy55cyh0LGkpfSx0LnByb3RvdHlwZS55cz1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcoRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuYXBwbHkodCxbbnVsbF0uY29uY2F0KGUpKSl9LHR9KCk7aS5JZT1vfSx7XCIuL2xvb2t1cFwiOjMsXCIuL3R5cGVfYmluZGluZ19zY29wZVwiOjV9XSwzOltmdW5jdGlvbih0LGUsaSl7dmFyIHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy5rZXk9dCx0aGlzLnZhbHVlPW5ldyBBcnJheSx0aGlzLnZhbHVlLnB1c2goZSl9cmV0dXJuIHR9KCksbj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLm1zPW5ldyBBcnJheX1yZXR1cm4gdC5wcm90b3R5cGUud3M9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPS0xLGk9MDtpPHRoaXMubXMubGVuZ3RoO2krKyl7dmFyIHI9dGhpcy5tc1tpXTtyLmtleT09PXQmJihlPWkpfXJldHVybiBlfSx0LnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24odCxlKXtpZihudWxsPT09dHx8dm9pZCAwPT09dCl0aHJvdyBuZXcgRXJyb3IoXCJBcmd1bWVudCBOdWxsXCIpO2lmKG51bGw9PT1lfHx2b2lkIDA9PT1lKXRocm93IG5ldyBFcnJvcihcIkFyZ3VtZW50IE51bGxcIik7dmFyIGk9dGhpcy53cyh0KTtpZigtMSE9PWkpe3ZhciBuPXRoaXMubXNbaV07bi5rZXk9PT10JiZuLnZhbHVlLnB1c2goZSl9ZWxzZSB0aGlzLm1zLnB1c2gobmV3IHIodCxlKSl9LHQucHJvdG90eXBlLmdldD1mdW5jdGlvbih0KXtpZihudWxsPT09dHx8dm9pZCAwPT09dCl0aHJvdyBuZXcgRXJyb3IoXCJBcmd1bWVudCBOdWxsXCIpO3ZhciBlPXRoaXMud3ModCk7aWYoLTE9PT1lKXRocm93IG5ldyBFcnJvcihcIktleSBOb3QgRm91bmRcIik7dmFyIGk9dGhpcy5tc1tlXTtyZXR1cm4gaS5rZXk9PT10P2kudmFsdWU6dm9pZCAwfSx0LnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24odCl7aWYobnVsbD09PXR8fHZvaWQgMD09PXQpdGhyb3cgbmV3IEVycm9yKFwiQXJndW1lbnQgTnVsbFwiKTt2YXIgZT10aGlzLndzKHQpO2lmKC0xPT09ZSl0aHJvdyBuZXcgRXJyb3IoXCJLZXkgTm90IEZvdW5kXCIpO3RoaXMubXMuc3BsaWNlKGUsMSl9LHQucHJvdG90eXBlLnVzPWZ1bmN0aW9uKHQpe2lmKG51bGw9PT10fHx2b2lkIDA9PT10KXRocm93IG5ldyBFcnJvcihcIkFyZ3VtZW50IE51bGxcIik7dmFyIGU9dGhpcy53cyh0KTtyZXR1cm4tMSE9PWV9LHR9KCk7aS5jcz1ufSx7fV0sNDpbZnVuY3Rpb24odCxlLGkpe3ZhciByPXQoXCIuL3R5cGVfYmluZGluZ19zY29wZVwiKSxuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsaSl7aWYodGhpcy5ocz10LHRoaXMuZ3M9ZSx0aGlzLmRzPW51bGwsXCJ1bmRlZmluZWRcIj09dHlwZW9mIGkpdGhpcy5zY29wZT1yLnNzLlRzO2Vsc2V7aWYoIXIuc3NbaV0pe3ZhciBuPVwiSW52YWxpZCBzY29wZSB0eXBlIFwiK2k7dGhyb3cgbmV3IEVycm9yKG4pfXRoaXMuc2NvcGU9aX19cmV0dXJuIHR9KCk7aS5ucz1ufSx7XCIuL3R5cGVfYmluZGluZ19zY29wZVwiOjV9XSw1OltmdW5jdGlvbih0LGUsaSl7dmFyIHI7IWZ1bmN0aW9uKHQpe3RbdC5Ucz0wXT1cIlRyYW5zaWVudFwiLHRbdC5scz0xXT1cIlNpbmdsZXRvblwifShyfHwocj17fSkpLGkuc3M9cn0se31dfSx7fSxbMV0pKDEpfSl9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBUaHJpZnQ9e1NzOlwiMC45LjJcIixiczp7RXM6MCxJczoxLEJPT0w6MixCWVRFOjMsUnM6Myxrczo0LENzOjYsT3M6OCxQczoxMCxBczoxMSxOczoxMSx4czoxMixCczoxMyxGczoxNCxfczoxNSxEczoxNixIczoxN30sTHM6e01zOjEsanM6MixVczozLFZzOjR9LFFzOmZ1bmN0aW9uKHQpe3ZhciBlPTA7Zm9yKHZhciBpIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShpKSYmZSsrO3JldHVybiBlfSxxczpmdW5jdGlvbih0LGUsaSl7ZnVuY3Rpb24gcigpe31yLnByb3RvdHlwZT1lLnByb3RvdHlwZSx0LnByb3RvdHlwZT1uZXcgcix0LnByb3RvdHlwZS5uYW1lPWl8fFwiXCJ9fTtUaHJpZnQuSnM9ZnVuY3Rpb24odCl7dGhpcy5tZXNzYWdlPXR9LFRocmlmdC5xcyhUaHJpZnQuSnMsRXJyb3IsXCJURXhjZXB0aW9uXCIpLFRocmlmdC5Kcy5wcm90b3R5cGUuS3M9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tZXNzYWdlfSxUaHJpZnQuR3M9e3pzOjAsV3M6MSwkczoyLFlzOjMsWHM6NCxaczo1LHRhOjYsZWE6NyxpYTo4LHJhOjksbmE6MTB9LFRocmlmdC5vYT1mdW5jdGlvbih0LGUpe3RoaXMubWVzc2FnZT10LHRoaXMuY29kZT1cIm51bWJlclwiPT10eXBlb2YgZT9lOjB9LFRocmlmdC5xcyhUaHJpZnQub2EsVGhyaWZ0LkpzLFwiVEFwcGxpY2F0aW9uRXhjZXB0aW9uXCIpLFRocmlmdC5vYS5wcm90b3R5cGUucmVhZD1mdW5jdGlvbih0KXtmb3IoOzspe3ZhciBlPXQuc2EoKTtpZihlLmFhPT1UaHJpZnQuYnMuRXMpYnJlYWs7dmFyIGk9ZS5jYTtzd2l0Y2goaSl7Y2FzZSAxOmUuYWE9PVRocmlmdC5icy5Bcz8oZT10LmhhKCksdGhpcy5tZXNzYWdlPWUudmFsdWUpOmU9dC5wYShlLmFhKTticmVhaztjYXNlIDI6ZS5hYT09VGhyaWZ0LmJzLk9zPyhlPXQudWEoKSx0aGlzLmNvZGU9ZS52YWx1ZSk6ZT10LnBhKGUuYWEpO2JyZWFrO2RlZmF1bHQ6ZT10LnBhKGUuYWEpfXQubGEoKX10LmRhKCl9LFRocmlmdC5vYS5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24odCl7dC5mYShcIlRBcHBsaWNhdGlvbkV4Y2VwdGlvblwiKSx0aGlzLm1lc3NhZ2UmJih0LmdhKFwibWVzc2FnZVwiLFRocmlmdC5icy5BcywxKSx0LnZhKHRoaXMuS3MoKSksdC55YSgpKSx0aGlzLmNvZGUmJih0LmdhKFwidHlwZVwiLFRocmlmdC5icy5PcywyKSx0Lm1hKHRoaXMuY29kZSksdC55YSgpKSx0LndhKCksdC5UYSgpfSxUaHJpZnQub2EucHJvdG90eXBlLlNhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29kZX0sVGhyaWZ0LmJhPVRocmlmdC5FYT1mdW5jdGlvbih0LGUpe3RoaXMudXJsPXQsdGhpcy5JYT0wLHRoaXMuUmE9MCx0aGlzLmthPWUmJmUua2EsdGhpcy5DYT1cIlwiLHRoaXMuT2E9XCJcIn0sVGhyaWZ0LkVhLnByb3RvdHlwZT17UGE6ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIG5ldyBYTUxIdHRwUmVxdWVzdH1jYXRjaCh0KXt9dHJ5e3JldHVybiBuZXcgQWN0aXZlWE9iamVjdChcIk1zeG1sMi5YTUxIVFRQXCIpfWNhdGNoKGUpe310cnl7cmV0dXJuIG5ldyBBY3RpdmVYT2JqZWN0KFwiTWljcm9zb2Z0LlhNTEhUVFBcIil9Y2F0Y2goaSl7fXRocm93XCJZb3VyIGJyb3dzZXIgZG9lc24ndCBzdXBwb3J0IFhIUi5cIn0sZmx1c2g6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzO2lmKHQmJiFlfHx2b2lkIDA9PT10aGlzLnVybHx8XCJcIj09PXRoaXMudXJsKXJldHVybiB0aGlzLkNhO3ZhciByPXRoaXMuUGEoKTtpZihyLm92ZXJyaWRlTWltZVR5cGUmJnIub3ZlcnJpZGVNaW1lVHlwZShcImFwcGxpY2F0aW9uL2pzb25cIiksZSYmKHIub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7dmFyIHQ9ZTtyZXR1cm4gZnVuY3Rpb24oKXs0PT10aGlzLnJlYWR5U3RhdGUmJjIwMD09dGhpcy5zdGF0dXMmJihpLkFhKHRoaXMucmVzcG9uc2VUZXh0KSx0KCkpfX0oKSksci5vcGVuKFwiUE9TVFwiLHRoaXMudXJsLCEhdCksci5zZW5kKHRoaXMuQ2EpLCF0fHwhZSl7aWYoNCE9ci5yZWFkeVN0YXRlKXRocm93XCJlbmNvdW50ZXJlZCBhbiB1bmtub3duIGFqYXggcmVhZHkgc3RhdGU6IFwiK3IucmVhZHlTdGF0ZTtpZigyMDAhPXIuc3RhdHVzKXRocm93XCJlbmNvdW50ZXJlZCBhIHVua25vd24gcmVxdWVzdCBzdGF0dXM6IFwiK3Iuc3RhdHVzO3RoaXMuT2E9ci5yZXNwb25zZVRleHQsdGhpcy5OYT10aGlzLk9hLmxlbmd0aCx0aGlzLklhPXRoaXMuT2EubGVuZ3RoLHRoaXMuUmE9MH19LHhhOmZ1bmN0aW9uKHQsZSxpLHIpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBqUXVlcnl8fFwidW5kZWZpbmVkXCI9PXR5cGVvZiBqUXVlcnkuRGVmZXJyZWQpdGhyb3dcIlRocmlmdC5qcyByZXF1aXJlcyBqUXVlcnkgMS41KyB0byB1c2UgYXN5bmNocm9ub3VzIHJlcXVlc3RzXCI7dmFyIG49dGhpcyxvPWpRdWVyeS5hamF4KHt1cmw6dGhpcy51cmwsZGF0YTplLHR5cGU6XCJQT1NUXCIsZHM6ITEsY29udGVudFR5cGU6XCJhcHBsaWNhdGlvbi9qc29uXCIsQmE6XCJ0ZXh0IHRocmlmdFwiLEZhOntfYTpmdW5jdGlvbihlKXtuLkFhKGUpO3ZhciBpPXIuY2FsbCh0KTtyZXR1cm4gaX19LGNvbnRleHQ6dCxzdWNjZXNzOmpRdWVyeS5tYWtlQXJyYXkoaSkucG9wKCl9KTtyZXR1cm4gb30sQWE6ZnVuY3Rpb24odCl7dGhpcy5PYT10LHRoaXMuTmE9dGhpcy5PYS5sZW5ndGgsdGhpcy5JYT10aGlzLk9hLmxlbmd0aCx0aGlzLlJhPTB9LGlzT3BlbjpmdW5jdGlvbigpe3JldHVybiEwfSxvcGVuOmZ1bmN0aW9uKCl7fSxjbG9zZTpmdW5jdGlvbigpe30scmVhZDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLklhLXRoaXMuUmE7aWYoMD09PWUpcmV0dXJuXCJcIjt2YXIgaT10O2U8dCYmKGk9ZSk7dmFyIHI9dGhpcy5yZWFkX2J1Zi5zdWJzdHIodGhpcy5SYSxpKTtyZXR1cm4gdGhpcy5SYSs9aSxyfSxEYTpmdW5jdGlvbigpe3JldHVybiB0aGlzLk9hfSx3cml0ZTpmdW5jdGlvbih0KXt0aGlzLkNhPXR9LEhhOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuQ2F9fSxUaHJpZnQuTGE9ZnVuY3Rpb24odCl7dGhpcy5NYSh0KX0sVGhyaWZ0LkxhLnByb3RvdHlwZT17TWE6ZnVuY3Rpb24odCl7dGhpcy51cmw9dCx0aGlzLmphPW51bGwsdGhpcy5jYWxsYmFja3M9W10sdGhpcy5VYT1bXSx0aGlzLkNhPVwiXCIsdGhpcy5PYT1cIlwiLHRoaXMuVmE9MCx0aGlzLlFhPTB9LGZsdXNoOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpczt0aGlzLmlzT3BlbigpPyh0aGlzLmphLnNlbmQodGhpcy5DYSksdGhpcy5jYWxsYmFja3MucHVzaChmdW5jdGlvbigpe3ZhciB0PWU7cmV0dXJuIGZ1bmN0aW9uKGUpe2kuQWEoZSksdCgpfX0oKSkpOnRoaXMuVWEucHVzaCh7cWE6dGhpcy5DYSxKYTplfSl9LEthOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLlVhLmxlbmd0aD4wJiYodGhpcy5VYS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3RoaXMuamEuc2VuZChlLnFhKSx0aGlzLmNhbGxiYWNrcy5wdXNoKGZ1bmN0aW9uKCl7dmFyIGk9ZS5KYTtyZXR1cm4gZnVuY3Rpb24oZSl7dC5BYShlKSxpKCl9fSgpKX0pLHRoaXMuVWE9W10pfSxHYTpmdW5jdGlvbih0KXt0aGlzLk1hKHRoaXMudXJsKX0semE6ZnVuY3Rpb24odCl7dGhpcy5jYWxsYmFja3MubGVuZ3RoJiZ0aGlzLmNhbGxiYWNrcy5zaGlmdCgpKHQuZGF0YSl9LFdhOmZ1bmN0aW9uKHQpe2NvbnNvbGUubG9nKFwiVGhyaWZ0IFdlYlNvY2tldCBFcnJvcjogXCIrdC50b1N0cmluZygpKSx0aGlzLmphLmNsb3NlKCl9LEFhOmZ1bmN0aW9uKHQpe3RoaXMuT2E9dCx0aGlzLk5hPXRoaXMuT2EubGVuZ3RoLHRoaXMuSWE9dGhpcy5PYS5sZW5ndGgsdGhpcy5SYT0wfSxpc09wZW46ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5qYSYmdGhpcy5qYS5yZWFkeVN0YXRlPT10aGlzLmphLk9QRU59LG9wZW46ZnVuY3Rpb24oKXt0aGlzLmphJiZ0aGlzLmphLnJlYWR5U3RhdGUhPXRoaXMuamEuQ0xPU0VEfHwodGhpcy5qYT1uZXcgV2ViU29ja2V0KHRoaXMudXJsKSx0aGlzLmphLm9ub3Blbj10aGlzLkthLmJpbmQodGhpcyksdGhpcy5qYS5vbm1lc3NhZ2U9dGhpcy56YS5iaW5kKHRoaXMpLHRoaXMuamEub25lcnJvcj10aGlzLldhLmJpbmQodGhpcyksdGhpcy5qYS5vbmNsb3NlPXRoaXMuR2EuYmluZCh0aGlzKSl9LGNsb3NlOmZ1bmN0aW9uKCl7dGhpcy5qYS5jbG9zZSgpfSxyZWFkOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuSWEtdGhpcy5SYTtpZigwPT09ZSlyZXR1cm5cIlwiO3ZhciBpPXQ7ZTx0JiYoaT1lKTt2YXIgcj10aGlzLnJlYWRfYnVmLnN1YnN0cih0aGlzLlJhLGkpO3JldHVybiB0aGlzLlJhKz1pLHJ9LERhOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuT2F9LHdyaXRlOmZ1bmN0aW9uKHQpe3RoaXMuQ2E9dH0sSGE6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5DYX19LFRocmlmdC4kYT1UaHJpZnQuWWE9ZnVuY3Rpb24odCl7dGhpcy5YYT10fSxUaHJpZnQuWWEuYnM9e30sVGhyaWZ0LllhLmJzW1RocmlmdC5icy5CT09MXT0nXCJ0ZlwiJyxUaHJpZnQuWWEuYnNbVGhyaWZ0LmJzLkJZVEVdPSdcImk4XCInLFRocmlmdC5ZYS5ic1tUaHJpZnQuYnMuQ3NdPSdcImkxNlwiJyxUaHJpZnQuWWEuYnNbVGhyaWZ0LmJzLk9zXT0nXCJpMzJcIicsVGhyaWZ0LllhLmJzW1RocmlmdC5icy5Qc109J1wiaTY0XCInLFRocmlmdC5ZYS5ic1tUaHJpZnQuYnMua3NdPSdcImRibFwiJyxUaHJpZnQuWWEuYnNbVGhyaWZ0LmJzLnhzXT0nXCJyZWNcIicsVGhyaWZ0LllhLmJzW1RocmlmdC5icy5Bc109J1wic3RyXCInLFRocmlmdC5ZYS5ic1tUaHJpZnQuYnMuQnNdPSdcIm1hcFwiJyxUaHJpZnQuWWEuYnNbVGhyaWZ0LmJzLl9zXT0nXCJsc3RcIicsVGhyaWZ0LllhLmJzW1RocmlmdC5icy5Gc109J1wic2V0XCInLFRocmlmdC5ZYS5aYT17fSxUaHJpZnQuWWEuWmEudGM9VGhyaWZ0LmJzLkJPT0wsVGhyaWZ0LllhLlphLmVjPVRocmlmdC5icy5CWVRFLFRocmlmdC5ZYS5aYS5pYz1UaHJpZnQuYnMuQ3MsVGhyaWZ0LllhLlphLnJjPVRocmlmdC5icy5PcyxUaHJpZnQuWWEuWmEubmM9VGhyaWZ0LmJzLlBzLFRocmlmdC5ZYS5aYS5vYz1UaHJpZnQuYnMua3MsVGhyaWZ0LllhLlphLnNjPVRocmlmdC5icy54cyxUaHJpZnQuWWEuWmEuYWM9VGhyaWZ0LmJzLkFzLFRocmlmdC5ZYS5aYS5tYXA9VGhyaWZ0LmJzLkJzLFRocmlmdC5ZYS5aYS5jYz1UaHJpZnQuYnMuX3MsVGhyaWZ0LllhLlphLnNldD1UaHJpZnQuYnMuRnMsVGhyaWZ0LllhLlNzPTEsVGhyaWZ0LllhLnByb3RvdHlwZT17aGM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5YYX0scGM6ZnVuY3Rpb24odCxlLGkpe3RoaXMudWM9W10sdGhpcy5sYz1bXSx0aGlzLnVjLnB1c2goW1RocmlmdC5ZYS5TcywnXCInK3QrJ1wiJyxlLGldKX0sZGM6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnVjLnBvcCgpO3RoaXMuZmM9dGhpcy51Yy5wb3AoKSx0aGlzLmZjLnB1c2godCksdGhpcy5nYz1cIltcIit0aGlzLmZjLmpvaW4oXCIsXCIpK1wiXVwiLHRoaXMuWGEud3JpdGUodGhpcy5nYyl9LGZhOmZ1bmN0aW9uKHQpe3RoaXMubGMucHVzaCh0aGlzLnVjLmxlbmd0aCksdGhpcy51Yy5wdXNoKHt9KX0sVGE6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmxjLnBvcCgpLGU9dGhpcy51Y1t0XSxpPVwie1wiLHI9ITA7Zm9yKHZhciBuIGluIGUpcj9yPSExOmkrPVwiLFwiLGkrPW4rXCI6XCIrZVtuXTtpKz1cIn1cIix0aGlzLnVjW3RdPWl9LGdhOmZ1bmN0aW9uKHQsZSxpKXt0aGlzLmxjLnB1c2godGhpcy51Yy5sZW5ndGgpLHRoaXMudWMucHVzaCh7dmM6J1wiJytpKydcIicseWM6VGhyaWZ0LllhLmJzW2VdfSl9LHlhOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy51Yy5wb3AoKSxlPXRoaXMudWMucG9wKCk7dGhpcy51Y1t0aGlzLnVjLmxlbmd0aC0xXVtlLnZjXT1cIntcIitlLnljK1wiOlwiK3QrXCJ9XCIsdGhpcy5sYy5wb3AoKX0sd2E6ZnVuY3Rpb24oKXt9LG1jOmZ1bmN0aW9uKHQsZSxpKXt0aGlzLmxjLnB1c2godGhpcy51Yy5sZW5ndGgpLHRoaXMudWMucHVzaChbVGhyaWZ0LllhLmJzW3RdLFRocmlmdC5ZYS5ic1tlXSwwXSl9LHdjOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5sYy5wb3AoKTtpZih0IT10aGlzLnVjLmxlbmd0aCl7KHRoaXMudWMubGVuZ3RoLXQtMSklMiE9PTAmJnRoaXMudWMucHVzaChcIlwiKTt2YXIgZT0odGhpcy51Yy5sZW5ndGgtdC0xKS8yO3RoaXMudWNbdF1bdGhpcy51Y1t0XS5sZW5ndGgtMV09ZTtmb3IodmFyIGk9XCJ9XCIscj0hMDt0aGlzLnVjLmxlbmd0aD50KzE7KXt2YXIgbj10aGlzLnVjLnBvcCgpLG89dGhpcy51Yy5wb3AoKTtyP3I9ITE6aT1cIixcIitpLGlzTmFOKG8pfHwobz0nXCInK28rJ1wiJyksaT1vK1wiOlwiK24raX1pPVwie1wiK2ksdGhpcy51Y1t0XS5wdXNoKGkpLHRoaXMudWNbdF09XCJbXCIrdGhpcy51Y1t0XS5qb2luKFwiLFwiKStcIl1cIn19LFRjOmZ1bmN0aW9uKHQsZSl7dGhpcy5sYy5wdXNoKHRoaXMudWMubGVuZ3RoKSx0aGlzLnVjLnB1c2goW1RocmlmdC5ZYS5ic1t0XSxlXSl9LFNjOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMubGMucG9wKCk7dGhpcy51Yy5sZW5ndGg+dCsxOyl7dmFyIGU9dGhpcy51Y1t0KzFdO3RoaXMudWMuc3BsaWNlKHQrMSwxKSx0aGlzLnVjW3RdLnB1c2goZSl9dGhpcy51Y1t0XT1cIltcIit0aGlzLnVjW3RdLmpvaW4oXCIsXCIpK1wiXVwifSxiYzpmdW5jdGlvbih0LGUpe3RoaXMubGMucHVzaCh0aGlzLnVjLmxlbmd0aCksdGhpcy51Yy5wdXNoKFtUaHJpZnQuWWEuYnNbdF0sZV0pfSxFYzpmdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLmxjLnBvcCgpO3RoaXMudWMubGVuZ3RoPnQrMTspe3ZhciBlPXRoaXMudWNbdCsxXTt0aGlzLnVjLnNwbGljZSh0KzEsMSksdGhpcy51Y1t0XS5wdXNoKGUpfXRoaXMudWNbdF09XCJbXCIrdGhpcy51Y1t0XS5qb2luKFwiLFwiKStcIl1cIn0sSWM6ZnVuY3Rpb24odCl7dGhpcy51Yy5wdXNoKHQ/MTowKX0sUmM6ZnVuY3Rpb24odCl7dGhpcy51Yy5wdXNoKHQpfSxrYzpmdW5jdGlvbih0KXt0aGlzLnVjLnB1c2godCl9LG1hOmZ1bmN0aW9uKHQpe3RoaXMudWMucHVzaCh0KX0sQ2M6ZnVuY3Rpb24odCl7dGhpcy51Yy5wdXNoKHQpfSxPYzpmdW5jdGlvbih0KXt0aGlzLnVjLnB1c2godCl9LHZhOmZ1bmN0aW9uKHQpe2lmKG51bGw9PT10KXRoaXMudWMucHVzaChudWxsKTtlbHNle2Zvcih2YXIgZT1cIlwiLGk9MDtpPHQubGVuZ3RoO2krKyl7dmFyIHI9dC5jaGFyQXQoaSk7ZSs9J1wiJz09PXI/J1xcXFxcIic6XCJcXFxcXCI9PT1yP1wiXFxcXFxcXFxcIjpcIlxcYlwiPT09cj9cIlxcXFxiXCI6XCJcXGZcIj09PXI/XCJcXFxcZlwiOlwiXFxuXCI9PT1yP1wiXFxcXG5cIjpcIlxcclwiPT09cj9cIlxcXFxyXCI6XCJcXHRcIj09PXI/XCJcXFxcdFwiOnJ9dGhpcy51Yy5wdXNoKCdcIicrZSsnXCInKX19LFBjOmZ1bmN0aW9uKHQpe3RoaXMudmEodCl9LEFjOmZ1bmN0aW9uKCl7dGhpcy5OYz1bXSx0aGlzLlJhPVtdLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBKU09OJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBKU09OLnBhcnNlP3RoaXMueGM9SlNPTi5wYXJzZSh0aGlzLlhhLkRhKCkpOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBqUXVlcnk/dGhpcy54Yz1qUXVlcnkucGFyc2VKU09OKHRoaXMuWGEuRGEoKSk6dGhpcy54Yz1ldmFsKHRoaXMuWGEuRGEoKSk7dmFyIHI9e30sdmVyc2lvbj10aGlzLnhjLnNoaWZ0KCk7aWYodmVyc2lvbiE9VGhyaWZ0LllhLlNzKXRocm93XCJXcm9uZyB0aHJpZnQgcHJvdG9jb2wgdmVyc2lvbjogXCIrdmVyc2lvbjtyZXR1cm4gci5CYz10aGlzLnhjLnNoaWZ0KCksci5GYz10aGlzLnhjLnNoaWZ0KCksci5fYz10aGlzLnhjLnNoaWZ0KCksdGhpcy5OYy5wdXNoKHRoaXMueGMuc2hpZnQoKSkscn0sRGM6ZnVuY3Rpb24oKXt9LEhjOmZ1bmN0aW9uKHQpe3ZhciBlPXt9O3JldHVybiBlLkJjPVwiXCIsdGhpcy5OY1t0aGlzLk5jLmxlbmd0aC0xXWluc3RhbmNlb2YgQXJyYXkmJnRoaXMuTmMucHVzaCh0aGlzLk5jW3RoaXMuTmMubGVuZ3RoLTFdLnNoaWZ0KCkpLGV9LGRhOmZ1bmN0aW9uKCl7dGhpcy5OY1t0aGlzLk5jLmxlbmd0aC0yXWluc3RhbmNlb2YgQXJyYXkmJnRoaXMuTmMucG9wKCl9LHNhOmZ1bmN0aW9uKCl7dmFyIHQ9e30sZT0tMSxpPVRocmlmdC5icy5Fcztmb3IodmFyIHIgaW4gdGhpcy5OY1t0aGlzLk5jLmxlbmd0aC0xXSlpZihudWxsIT09cil7ZT1wYXJzZUludChyLDEwKSx0aGlzLlJhLnB1c2godGhpcy5OYy5sZW5ndGgpO3ZhciBuPXRoaXMuTmNbdGhpcy5OYy5sZW5ndGgtMV1bZV07ZGVsZXRlIHRoaXMuTmNbdGhpcy5OYy5sZW5ndGgtMV1bZV0sdGhpcy5OYy5wdXNoKG4pO2JyZWFrfWlmKGUhPS0xKWZvcih2YXIgbyBpbiB0aGlzLk5jW3RoaXMuTmMubGVuZ3RoLTFdKW51bGwhPT1UaHJpZnQuWWEuWmFbb10mJihpPVRocmlmdC5ZYS5aYVtvXSx0aGlzLk5jW3RoaXMuTmMubGVuZ3RoLTFdPXRoaXMuTmNbdGhpcy5OYy5sZW5ndGgtMV1bb10pO3JldHVybiB0LkJjPVwiXCIsdC5hYT1pLHQuY2E9ZSx0fSxsYTpmdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLlJhLnBvcCgpO3RoaXMuTmMubGVuZ3RoPnQ7KXRoaXMuTmMucG9wKCl9LExjOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5OYy5wb3AoKSxlPXQuc2hpZnQoKTtlIGluc3RhbmNlb2YgQXJyYXkmJih0aGlzLk5jLnB1c2godCksdD1lLGU9dC5zaGlmdCgpKTt2YXIgaT17fTtyZXR1cm4gaS5NYz1UaHJpZnQuWWEuWmFbZV0saS5qYz1UaHJpZnQuWWEuWmFbdC5zaGlmdCgpXSxpLnNpemU9dC5zaGlmdCgpLHRoaXMuUmEucHVzaCh0aGlzLk5jLmxlbmd0aCksdGhpcy5OYy5wdXNoKHQuc2hpZnQoKSksaX0sVWM6ZnVuY3Rpb24oKXt0aGlzLmxhKCl9LFZjOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5OY1t0aGlzLk5jLmxlbmd0aC0xXSxlPXt9O3JldHVybiBlLlFjPVRocmlmdC5ZYS5aYVt0LnNoaWZ0KCldLGUuc2l6ZT10LnNoaWZ0KCksdGhpcy5SYS5wdXNoKHRoaXMuTmMubGVuZ3RoKSx0aGlzLk5jLnB1c2godCksZX0scWM6ZnVuY3Rpb24oKXt0aGlzLmxhKCl9LEpjOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuVmModCxlKX0sS2M6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5xYygpfSxHYzpmdW5jdGlvbigpe3ZhciB0PXRoaXMudWEoKTtyZXR1cm4gbnVsbCE9PXQmJlwiMVwiPT10LnZhbHVlP3QudmFsdWU9ITA6dC52YWx1ZT0hMSx0fSx6YzpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVhKCl9LFdjOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudWEoKX0sdWE6ZnVuY3Rpb24odCl7dm9pZCAwPT09dCYmKHQ9dGhpcy5OY1t0aGlzLk5jLmxlbmd0aC0xXSk7dmFyIGU9e307aWYodCBpbnN0YW5jZW9mIEFycmF5KTA9PT10Lmxlbmd0aD9lLnZhbHVlPXZvaWQgMDplLnZhbHVlPXQuc2hpZnQoKTtlbHNlIGlmKHQgaW5zdGFuY2VvZiBPYmplY3Qpe2Zvcih2YXIgaSBpbiB0KWlmKG51bGwhPT1pKXt0aGlzLk5jLnB1c2godFtpXSksZGVsZXRlIHRbaV0sZS52YWx1ZT1pO2JyZWFrfX1lbHNlIGUudmFsdWU9dCx0aGlzLk5jLnBvcCgpO3JldHVybiBlfSwkYzpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVhKCl9LFljOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudWEoKX0saGE6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnVhKCk7cmV0dXJuIHR9LFhjOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaGEoKX0scGE6ZnVuY3Rpb24odCl7dmFyIGUsaTtzd2l0Y2godCl7Y2FzZSBUaHJpZnQuYnMuRXM6cmV0dXJuIG51bGw7Y2FzZSBUaHJpZnQuYnMuQk9PTDpyZXR1cm4gdGhpcy5HYygpO2Nhc2UgVGhyaWZ0LmJzLkJZVEU6cmV0dXJuIHRoaXMuemMoKTtjYXNlIFRocmlmdC5icy5DczpyZXR1cm4gdGhpcy5XYygpO2Nhc2UgVGhyaWZ0LmJzLk9zOnJldHVybiB0aGlzLnVhKCk7Y2FzZSBUaHJpZnQuYnMuUHM6cmV0dXJuIHRoaXMuJGMoKTtjYXNlIFRocmlmdC5icy5rczpyZXR1cm4gdGhpcy5ZYygpO2Nhc2UgVGhyaWZ0LmJzLkFzOnJldHVybiB0aGlzLmhhKCk7Y2FzZSBUaHJpZnQuYnMueHM6Zm9yKHRoaXMuSGMoKTs7KXtpZihlPXRoaXMuc2EoKSxlLmFhPT1UaHJpZnQuYnMuRXMpYnJlYWs7dGhpcy5wYShlLmFhKSx0aGlzLmxhKCl9cmV0dXJuIHRoaXMuZGEoKSxudWxsO2Nhc2UgVGhyaWZ0LmJzLkJzOmZvcihlPXRoaXMuTGMoKSxpPTA7aTxlLnNpemU7aSsrKWk+MCYmdGhpcy5OYy5sZW5ndGg+dGhpcy5SYVt0aGlzLlJhLmxlbmd0aC0xXSsxJiZ0aGlzLk5jLnBvcCgpLHRoaXMucGEoZS5NYyksdGhpcy5wYShlLmpjKTtyZXR1cm4gdGhpcy5VYygpLG51bGw7Y2FzZSBUaHJpZnQuYnMuRnM6Zm9yKGU9dGhpcy5KYygpLGk9MDtpPGUuc2l6ZTtpKyspdGhpcy5wYShlLlFjKTtyZXR1cm4gdGhpcy5LYygpLG51bGw7Y2FzZSBUaHJpZnQuYnMuX3M6Zm9yKGU9dGhpcy5WYygpLGk9MDtpPGUuc2l6ZTtpKyspdGhpcy5wYShlLlFjKTtyZXR1cm4gdGhpcy5xYygpLG51bGx9fX0sVGhyaWZ0LlpjPWZ1bmN0aW9uKHQsZSxpLHIpe1RocmlmdC5ZYS5jYWxsKHRoaXMsZSxpLHIpLHRoaXMudGg9dH0sVGhyaWZ0LnFzKFRocmlmdC5aYyxUaHJpZnQuWWEsXCJtdWx0aXBsZXhQcm90b2NvbFwiKSxUaHJpZnQuWmMucHJvdG90eXBlLnBjPWZ1bmN0aW9uKHQsZSxpKXtlPT09VGhyaWZ0LkxzLk1zfHxlPT09VGhyaWZ0LkxzLlZzP1RocmlmdC5ZYS5wcm90b3R5cGUucGMuY2FsbCh0aGlzLHRoaXMudGgrXCI6XCIrdCxlLGkpOlRocmlmdC5ZYS5wcm90b3R5cGUucGMuY2FsbCh0aGlzLHQsZSxpKX0sVGhyaWZ0LmVoPWZ1bmN0aW9uKCl7dGhpcy5paD0wfSxUaHJpZnQuZWgucHJvdG90eXBlLnJoPWZ1bmN0aW9uKHQsZSxpKXtlLmVvJiYoZT1lLmVvKTt2YXIgcj10aGlzO2UucHJvdG90eXBlLm5oPWZ1bmN0aW9uKCl7cmV0dXJuIHIuaWgrPTEsci5paH07dmFyIG49bmV3IGUobmV3IFRocmlmdC5aYyh0LGkpKTtyZXR1cm4gbn0sbW9kdWxlLnQ9VGhyaWZ0fSxmdW5jdGlvbih0LGUpe1widXNlIHN0cmljdFwiO3ZhciBpOyFmdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQpe3JldHVybiBuW3RdfXZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdH0oKTt0LkhpdmVTZXNzaW9uPWk7dmFyIHI7IWZ1bmN0aW9uKHQpe3RbdC5vaD0wXT1cIkdFTkVSSUNfRVJST1JcIix0W3Quc2g9MV09XCJOT19URUNIX0FWQUlMQUJMRVwiLHRbdC5haD0yXT1cIk5PX1RFQ0hfUkVTT0xWRURcIix0W3QuaGg9M109XCJURUNIX0VSUk9SXCIsdFt0LnBoPTRdPVwiVElDS0VUX0VSUk9SXCJ9KHI9dC51aHx8KHQudWg9e30pKTt2YXIgbjshZnVuY3Rpb24odCl7dFt0W1wibGhcIl09MF09XCJHZW5lcmljIFVuZGVmaW5lZCBFcnJvclwiLHRbdFtcImRoXCJdPTFdPVwiTm8gVGVjaCBhdmFpbGFibGUgdG8gcmVzb2x2ZSB0aGUgdGlja2V0XCIsdFt0W1wiZmhcIl09Ml09XCJObyBhdmFpbGFibGUgVGVjaCBjb3VsZCByZXNvbHZlZCB0aGUgdGlja2V0XCIsdFt0W1wiZ2hcIl09M109XCJTdG9wcGVkIHJlc29sdmluZyBzZXNzaW9uIG9uIGxhc3QgdGVjaCBvbkVycm9yXCIsdFt0W1widmhcIl09NF09XCJUaGUgdGlja2V0IGNvdWxkIG5vdCBiZSByZXNvbHZlZFwifShufHwobj17fSkpO3ZhciBvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdH0oKTt0LkhpdmVTZXNzaW9uRXJyb3I9bzt2YXIgcz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt0aGlzLmNvZGU9dCx0aGlzLm1lc3NhZ2U9ZX1yZXR1cm4gdH0oKTt0LkhpdmVUZWNoRXJyb3I9czt2YXIgYTshZnVuY3Rpb24odCl7dFt0LnloPTBdPVwiTk9UX1JFQURZXCIsdFt0Lm1oPTFdPVwiUExVR0lOX0VSUk9SXCIsdFt0LndoPTJdPVwiU0VTU0lPTl9FUlJPUlwiLHRbdC5waD0zXT1cIlRJQ0tFVF9FUlJPUlwiLHRbdC5UaD00XT1cIlZFUlNJT05fRVJST1JcIix0W3QuU2g9NV09XCJUSU1FT1VUX0VSUk9SXCJ9KGE9dC5iaHx8KHQuYmg9e30pKTt2YXIgYzshZnVuY3Rpb24odCl7dFt0LkVoPTBdPVwiT0tcIix0W3QuSWg9MV09XCJISVZFX05PVF9BTExPV0VEXCIsdFt0LlJoPTJdPVwiVElDS0VUX05PVF9SRVNPTFZFRFwiLHRbdC5raD0zXT1cIlRJTUVPVVRfUkVTT0xWSU5HX1RJQ0tFVFwifShjPXQuQ2h8fCh0LkNoPXt9KSksdC5nZXRIaXZlU2Vzc2lvbkVycm9yTWVzc2FnZT1lO3ZhciBoPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLk9oPXR9cmV0dXJuIHQucHJvdG90eXBlLmdldFBsdWdpblN0YXR1c0NvZGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5PaC5QaCgpfSx0fSgpO3QuQWg9aH0oaT1lLnB0fHwoZS5wdD17fSkpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJihcInVuZGVmaW5lZFwiPT10eXBlb2Ygd2luZG93LnB0JiYod2luZG93LnB0PXt9KSx3aW5kb3cucHQuZ2V0SGl2ZVNlc3Npb25FcnJvck1lc3NhZ2U9aS5nZXRIaXZlU2Vzc2lvbkVycm9yTWVzc2FnZSl9LGZ1bmN0aW9uKHQsZSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0fSgpO2kueXI9XCJodHRwczpcIj09PWxvY2F0aW9uLnByb3RvY29sLGkuRXI9ITAsaS5OaD0xZTQsaS54aD02ZTQsZS5rZT1pfSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9aSg0MSksbj1pKDgpLG89aSgyNSk7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIHMpdmFyIHM9XCI1OTI4MzVhNmI0MjA0ZGQxOTdjMDA0ODg2MTAwMDNlMFwiO2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBhKXZhciBhPVwiMC44XCI7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIGMpdmFyIGM9ITA7dmFyIGg9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7aWYodGhpcy5zdD0hMSx0LkdpKXRocm93IG5ldyBFcnJvcihcIkVycm9yOiBJbnN0YW50aWF0aW9uIGZhaWxlZDogVXNlIEF0YXR1c0xvZ2dlci5nZXRJbnN0YW5jZSgpIGluc3RlYWQgb2YgbmV3LlwiKTt2YXIgZSxpPXZvaWQgMCE9bi5IaXZlQ29uZmlnLkVycm9yTW9uaXRvci5rZXk/bi5IaXZlQ29uZmlnLkVycm9yTW9uaXRvci5rZXk6cyxyPTE9PW4uSGl2ZUNvbmZpZy5FcnJvck1vbml0b3IuZW5hYmxlZFJVTSxhPTE9PW4uSGl2ZUNvbmZpZy5FcnJvck1vbml0b3IuZW5hYmxlS2V5Q29tYmluYXRpb24saD0xPT1uLkhpdmVDb25maWcuRXJyb3JNb25pdG9yLmVuYWJsZWRFcnJvckZpbHRlcjtoJiYoZT10aGlzLkJoKCkpLGF0YXR1cyYmKHZvaWQgMD09bi5IaXZlQ29uZmlnLkVycm9yTW9uaXRvci5lbmFibGVkJiZjfHx2b2lkIDAhPW4uSGl2ZUNvbmZpZy5FcnJvck1vbml0b3IuZW5hYmxlZCYmMT09bi5IaXZlQ29uZmlnLkVycm9yTW9uaXRvci5lbmFibGVkKSYmKGF0YXR1cy5jb25maWcoaSx7ZW5hYmxlU291cmNlbWFwOiEwLGRpc2FibGVSVU06IXIsdmVyc2lvbjpvLnZlcnNpb24sYmVmb3JlRXJyb3JTZW5kOmZ1bmN0aW9uKHQpe3ZhciBpPSExO2lmKHQmJnQuY3VzdG9tRGF0YSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHQuY3VzdG9tRGF0YS5mb3JjZVNlbmQmJihpPXQuY3VzdG9tRGF0YS5mb3JjZVNlbmQsZGVsZXRlIHQuY3VzdG9tRGF0YS5mb3JjZVNlbmQsMD09PU9iamVjdC5rZXlzKHQuY3VzdG9tRGF0YSkubGVuZ3RoJiYodC5jdXN0b21EYXRhPW51bGwpKSwhaHx8aSlyZXR1cm4hMDtpZighZSlyZXR1cm4hMTt0cnl7dmFyIHI9ITE7aWYodC5iYWNrVHJhY2VzKXtmb3IodmFyIG49MCxvPXQuYmFja1RyYWNlcztuPG8ubGVuZ3RoO24rKyl7dmFyIHM9b1tuXSxhPXMuZi5pbmRleE9mKGUpPi0xO2lmKGEmJnMubG4+NSl7cj0hMDticmVha319ciYmKHQubmFtZT10Lm5hbWUucmVwbGFjZSgvJXMgXFxbWzAtOV17Mn06WzAtOV17Mn06WzAtOV17Mn06WzAtOV0rXSAvLFwiXCIpLHQubmFtZS5pbmRleE9mKFwiU3RhdHVzIENvZGUgRXJyb3I6XCIpPj0wJiYodC50YWdzPVtcIlBsdWdpbiBFcnJvciBDb2RlXCIsdC5uYW1lLnNwbGl0KFwiOlwiKVsxXS50cmltKCldKSl9cmV0dXJuIHJ9Y2F0Y2goYyl7cmV0dXJuITF9fX0pLmluc3RhbGwoKSxhJiZ0aGlzLkZoKCksdGhpcy5zdD0hMCx3aW5kb3cuY29uc29sZSYmY29uc29sZS5sb2coXCJbSGl2ZUNvbW1dIEVycm9yIE1vbml0b3IgaW5zdGFsbGVkIFtSVU06XCIrcitcIiwgS2V5SGFuZGxlcjpcIithK1wiXVwiKSxoJiYhZSYmdGhpcy5faChcIkNvdWxkIG5vdCBleHRyYWN0IGVycm9yIGZpbHRlclwiKSl9cmV0dXJuIHQuV2k9ZnVuY3Rpb24oKXtyZXR1cm4gdm9pZCAwPT09dGhpcy5HaSYmKHRoaXMuR2k9bmV3IHQpLHRoaXMuR2l9LHQucHJvdG90eXBlLkZoPWZ1bmN0aW9uKCl7ci5IaC5XaSgpLkRoKFsxNiwxNyw4OF0sZnVuY3Rpb24oKXt0cnl7dGhyb3cgbmV3IEVycm9yKFwiVXBsb2FkIGNvbnNvbGUgbG9nc1wiKX1jYXRjaCh0KXthdGF0dXMubm90aWZ5KHQpLHdpbmRvdy5jb25zb2xlJiZjb25zb2xlLmxvZyhcIltIaXZlQ29tbV0gY29uc29sZSBsb2cgdXBsb2FkZWQgZm9yIGRlYnVnZ2luZ1wiKX19KX0sdC5wcm90b3R5cGUuQmg9ZnVuY3Rpb24oKXt0cnl7dGhyb3cgbmV3IEVycm9yKFwidGVzdFwiKX1jYXRjaCh0KXt2YXIgZT10LnN0YWNrLm1hdGNoKC8oXFwvXFwvLipcXC5qcykvaSk7aWYoZSYmZS5sZW5ndGg+MClyZXR1cm4gZVswXX19LHQucHJvdG90eXBlLnNldFVzZXI9ZnVuY3Rpb24odCl7YXRhdHVzJiZ0aGlzLnN0JiZhdGF0dXMuc2V0VXNlcih0KX0sdC5wcm90b3R5cGUuTGg9ZnVuY3Rpb24odCl7dGhpcy5tPXR9LHQucHJvdG90eXBlLnNldEN1c3RvbURhdGE9ZnVuY3Rpb24odCl7YXRhdHVzJiZ0aGlzLnN0JiZhdGF0dXMuc2V0Q3VzdG9tRGF0YSh0KX0sdC5wcm90b3R5cGUuX2g9ZnVuY3Rpb24odCxlKXtpZih0aGlzLm0mJnRoaXMubS53YXJuKHQpLGF0YXR1cyYmdGhpcy5zdCl0cnl7dGhyb3cgbmV3IEVycm9yKHQpfWNhdGNoKGkpe2V8fChlPXt9KSxlLmZvcmNlU2VuZD0hMCxhdGF0dXMubm90aWZ5KGksZSl9fSx0LnByb3RvdHlwZS5zZXRUYWdzPWZ1bmN0aW9uKHQpe2F0YXR1cyYmdGhpcy5zdCYmYXRhdHVzLnNldFRhZ3ModCl9LHQucHJvdG90eXBlLm5vdGlmeT1mdW5jdGlvbih0LGUpe2F0YXR1cyYmdGhpcy5zdCYmKGV8fChlPXt9KSxlLmZvcmNlU2VuZD0hMCxhdGF0dXMubm90aWZ5KHQsZSkpfSx0fSgpO2UuRXJyb3JNb25pdG9yPWh9LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1pKDIxKSxuPWkoMzQpLG89bi5NaCxzPW4uamgsYT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLlNvdXJjZVVSTFBhcmFtcz17fX1yZXR1cm4gdC5wcm90b3R5cGUuVWg9ZnVuY3Rpb24odCl7Zm9yKHZhciBlIGluIHQpaWYoXCJTb3VyY2VVUkxQYXJhbXNcIj09PWUpZm9yKHZhciBpIGluIHRbZV0pdGhpc1tlXVtpXT10W2VdW2ldO2Vsc2UgdGhpc1tlXT10W2VdO3RoaXMuVmgoKX0sdC5wcm90b3R5cGUuUWg9ZnVuY3Rpb24oKXt2YXIgdD1cImI2NjE0YzNlNGNkMWQxNGVlZDZiMzllZjJiZjZiOWEzZTNkNmRmY2QyNjY5OWQ3MjcwZDg4NzkyM2JjYmY4M2VmYjNkYWRiNzE3YzBiYWZiMWQ0OGRjZTM2MWViMzY5YjdjYzQ2ZTU3NDA1ZWJmYmRkODZjMzE3NTUzMmZlNTZjYzc3ZjQ3M2QzNDViMmNiNmZlYWZiNWFiMGUyNGYzNjRhM2QyNTlmMjdlNGEyZmQ5NzQ2ODI2NWJkZGZkM2RkZDNhYzY0MjUxZGI2NTBjYTAyODBhZjJiMmM0NWU4YjFjOGYwNDBmMmM0MzNhYzBhMTU3ZDJiM2ZkOTE1MTcyNTNcIixlPVwiMDEwMDAxXCIsaT10aGlzLkNvbnRlbnRJZCt0aGlzLlNpdGVJZCt0aGlzLkNST0lkK3RoaXMuU291cmNlVVJMLHI9bmV3IG87ci5xaCh0LGUpO3ZhciBuPXModGhpcy5TaWduYXR1cmUpO3JldHVybiByLkpoKGksbil9LHQucHJvdG90eXBlLktoPWZ1bmN0aW9uKHQpe3RoaXMudGlja2V0VXJsPXQ7dmFyIGU9ci5wYXJzZSh0KSxpPWUucGF0aC5zcGxpdChcIi9cIikuc2xpY2UoMyk7aWYodGhpcy5TaXRlSWQ9aVswXSx0aGlzLkNST0lkPWlbMV0sdGhpcy5Db250ZW50SWQ9aVsyXSx0aGlzLkdoPWlbM10sZS52aSl0cnl7dmFyIG49ZS52aS5zcGxpdChcIiZcIik7Zm9yKHZhciBvIGluIG4pe3ZhciBzPW5bb10uc3BsaXQoLz0oLispLyk7dGhpcy5Tb3VyY2VVUkxQYXJhbXNbc1swXV09c1sxXX19Y2F0Y2goYSl7fXRoaXMuemg9dC5pbmRleE9mKFwiYXBpLXRlc3RcIik+LTF9LHQucHJvdG90eXBlLmJuPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuU2l0ZUlkfSx0LnByb3RvdHlwZS5Fbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLkNST0lkfSx0LnByb3RvdHlwZS5lcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLkNvbnRlbnRJZH0sdC5wcm90b3R5cGUuV2g9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5HaH0sdC5wcm90b3R5cGUuJGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5Tb3VyY2VVUkx9LHQucHJvdG90eXBlLlloPWZ1bmN0aW9uKCl7aWYodGhpcy5YaD10aGlzLlNvdXJjZVVSTCx2b2lkIDAhPXRoaXMuU291cmNlVVJMUGFyYW1zKXt2YXIgdD1uZXcgQXJyYXk7Zm9yKHZhciBlIGluIHRoaXMuU291cmNlVVJMUGFyYW1zKXQucHVzaChlK1wiPVwiK3RoaXMuU291cmNlVVJMUGFyYW1zW2VdKTt0Lmxlbmd0aD4wJiZ0aGlzLlhoJiYodGhpcy5YaCs9KHRoaXMuWGguaW5kZXhPZihcIj9cIik+MD9cIiZcIjpcIj9cIikrdC5qb2luKFwiJlwiKSl9fSx0LnByb3RvdHlwZS5WaD1mdW5jdGlvbigpe3ZhciB0PWkoMjIpO3RoaXMuc2Vzc2lvbklkPXQuWmgoKX0sdC5wcm90b3R5cGUudHA9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5YaHx8dGhpcy5ZaCgpLHRoaXMuWGh9LHQucHJvdG90eXBlLk9uPWZ1bmN0aW9uKCl7cmV0dXJuXCJbXCIrdGhpcy5TaXRlSWQrXCIvXCIrdGhpcy5DUk9JZCtcIi9cIit0aGlzLkNvbnRlbnRJZCtcIl1cIn0sdC5wcm90b3R5cGUuZXA9ZnVuY3Rpb24oKXtyZXR1cm5bdGhpcy5TaXRlSWQsdGhpcy5DUk9JZCx0aGlzLkNvbnRlbnRJZF19LHQucHJvdG90eXBlLmlwPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuU291cmNlVVJMK1wiLVtcIit0aGlzLlNpdGVJZCtcIi9cIit0aGlzLkNST0lkK1wiL1wiK3RoaXMuQ29udGVudElkK1wiXVwifSx0LnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLk9uKCl9LHR9KCk7YS5ycD1cIl5odHRwcz86Ly9hcGkoPzotdGVzdCk/LmhpdmVzdHJlYW1pbmcuY29tL3YxL2V2ZW50cy8oPzp3aWxkY2FyZC8pP1wiLGEubnA9XCJDUk9JZFwiLGEub3A9XCJTaXRlSWRcIixhLnNwPVwiQ29udGVudElkXCIsZS5hcD1hfSxmdW5jdGlvbih0LGUsaSl7dmFyIHIsbixvOy8qIVxuICogVVJJLmpzIC0gTXV0YXRpbmcgVVJMc1xuICpcbiAqIFZlcnNpb246IDEuMTguMTBcbiAqXG4gKiBBdXRob3I6IFJvZG5leSBSZWhtXG4gKiBXZWI6IGh0dHA6Ly9tZWRpYWxpemUuZ2l0aHViLmlvL1VSSS5qcy9cbiAqXG4gKiBMaWNlbnNlZCB1bmRlclxuICogICBNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKlxuICovXG4gICFmdW5jdGlvbihzLGEpe1widXNlIHN0cmljdFwiO1wib2JqZWN0XCI9PXR5cGVvZiB0JiZ0LnQ/dC50PWEoaSg2KSxpKDYpLGkoNikpOihuPVtpKDYpLGkoNiksaSg2KV0scj1hLG89XCJmdW5jdGlvblwiPT10eXBlb2Ygcj9yLmFwcGx5KGUsbik6ciwhKHZvaWQgMCE9PW8mJih0LnQ9bykpKX0odGhpcyxmdW5jdGlvbih0LGUsaSxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQsZSl7dmFyIGk9YXJndW1lbnRzLmxlbmd0aD49MSxyPWFyZ3VtZW50cy5sZW5ndGg+PTI7aWYoISh0aGlzIGluc3RhbmNlb2YgbikpcmV0dXJuIGk/cj9uZXcgbih0LGUpOm5ldyBuKHQpOm5ldyBuO2lmKHZvaWQgMD09PXQpe2lmKGkpdGhyb3cgbmV3IFR5cGVFcnJvcihcInVuZGVmaW5lZCBpcyBub3QgYSB2YWxpZCBhcmd1bWVudCBmb3IgVVJJXCIpO3Q9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGxvY2F0aW9uP2xvY2F0aW9uLmhyZWYrXCJcIjpcIlwifWlmKG51bGw9PT10JiZpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJudWxsIGlzIG5vdCBhIHZhbGlkIGFyZ3VtZW50IGZvciBVUklcIik7cmV0dXJuIHRoaXMuaHJlZih0KSx2b2lkIDAhPT1lP3RoaXMuY3AoZSk6dGhpc31mdW5jdGlvbiBvKHQpe3JldHVybiB0LnJlcGxhY2UoLyhbLiorP149IToke30oKXxbXFxdXFwvXFxcXF0pL2csXCJcXFxcJDFcIil9ZnVuY3Rpb24gcyh0KXtyZXR1cm4gdm9pZCAwPT09dD9cIlVuZGVmaW5lZFwiOlN0cmluZyhPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCkpLnNsaWNlKDgsLTEpfWZ1bmN0aW9uIGEodCl7cmV0dXJuXCJBcnJheVwiPT09cyh0KX1mdW5jdGlvbiBjKHQsZSl7dmFyIGkscixuPXt9O2lmKFwiUmVnRXhwXCI9PT1zKGUpKW49bnVsbDtlbHNlIGlmKGEoZSkpZm9yKGk9MCxyPWUubGVuZ3RoO2k8cjtpKyspbltlW2ldXT0hMDtlbHNlIG5bZV09ITA7Zm9yKGk9MCxyPXQubGVuZ3RoO2k8cjtpKyspe3ZhciBvPW4mJnZvaWQgMCE9PW5bdFtpXV18fCFuJiZlLnRlc3QodFtpXSk7byYmKHQuc3BsaWNlKGksMSksci0tLGktLSl9cmV0dXJuIHR9ZnVuY3Rpb24gaCh0LGUpe3ZhciBpLHI7aWYoYShlKSl7Zm9yKGk9MCxyPWUubGVuZ3RoO2k8cjtpKyspaWYoIWgodCxlW2ldKSlyZXR1cm4hMTtyZXR1cm4hMH12YXIgbj1zKGUpO2ZvcihpPTAscj10Lmxlbmd0aDtpPHI7aSsrKWlmKFwiUmVnRXhwXCI9PT1uKXtpZihcInN0cmluZ1wiPT10eXBlb2YgdFtpXSYmdFtpXS5tYXRjaChlKSlyZXR1cm4hMH1lbHNlIGlmKHRbaV09PT1lKXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIHAodCxlKXtpZighYSh0KXx8IWEoZSkpcmV0dXJuITE7aWYodC5sZW5ndGghPT1lLmxlbmd0aClyZXR1cm4hMTt0LnNvcnQoKSxlLnNvcnQoKTtmb3IodmFyIGk9MCxyPXQubGVuZ3RoO2k8cjtpKyspaWYodFtpXSE9PWVbaV0pcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24gdSh0KXt2YXIgZT0vXlxcLyt8XFwvKyQvZztyZXR1cm4gdC5yZXBsYWNlKGUsXCJcIil9ZnVuY3Rpb24gbCh0KXtyZXR1cm4gZXNjYXBlKHQpfWZ1bmN0aW9uIGQodCl7cmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudCh0KS5yZXBsYWNlKC9bIScoKSpdL2csbCkucmVwbGFjZSgvXFwqL2csXCIlMkFcIil9ZnVuY3Rpb24gZih0KXtyZXR1cm4gZnVuY3Rpb24oZSxpKXtyZXR1cm4gdm9pZCAwPT09ZT90aGlzLmhwW3RdfHxcIlwiOih0aGlzLmhwW3RdPWV8fG51bGwsdGhpcy5wcCghaSksdGhpcyl9fWZ1bmN0aW9uIGcodCxlKXtyZXR1cm4gZnVuY3Rpb24oaSxyKXtyZXR1cm4gdm9pZCAwPT09aT90aGlzLmhwW3RdfHxcIlwiOihudWxsIT09aSYmKGkrPVwiXCIsaS5jaGFyQXQoMCk9PT1lJiYoaT1pLnN1YnN0cmluZygxKSkpLHRoaXMuaHBbdF09aSx0aGlzLnBwKCFyKSx0aGlzKX19dmFyIHY9ciYmci51cDtuLnZlcnNpb249XCIxLjE4LjEwXCI7dmFyIHk9bi5wcm90b3R5cGUsbT1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O24uaHA9ZnVuY3Rpb24oKXtyZXR1cm57cHJvdG9jb2w6bnVsbCx1c2VybmFtZTpudWxsLHBhc3N3b3JkOm51bGwsaG9zdG5hbWU6bnVsbCx1cm46bnVsbCxwb3J0Om51bGwscGF0aDpudWxsLHZpOm51bGwsbHA6bnVsbCxkcDpuLmRwLGZwOm4uZnB9fSxuLmRwPSExLG4uZnA9ITAsbi5ncD0vXlthLXpdW2EtejAtOS4rLV0qJC9pLG4udnA9L1teYS16MC05XFwuLV0vaSxuLnlwPS8oeG4tLSkvaSxuLm1wPS9eXFxkezEsM31cXC5cXGR7MSwzfVxcLlxcZHsxLDN9XFwuXFxkezEsM30kLyxuLndwPS9eXFxzKigoKFswLTlBLUZhLWZdezEsNH06KXs3fShbMC05QS1GYS1mXXsxLDR9fDopKXwoKFswLTlBLUZhLWZdezEsNH06KXs2fSg6WzAtOUEtRmEtZl17MSw0fXwoKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKShcXC4oMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSl8OikpfCgoWzAtOUEtRmEtZl17MSw0fTopezV9KCgoOlswLTlBLUZhLWZdezEsNH0pezEsMn0pfDooKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKShcXC4oMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSl8OikpfCgoWzAtOUEtRmEtZl17MSw0fTopezR9KCgoOlswLTlBLUZhLWZdezEsNH0pezEsM30pfCgoOlswLTlBLUZhLWZdezEsNH0pPzooKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKShcXC4oMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSkpfDopKXwoKFswLTlBLUZhLWZdezEsNH06KXszfSgoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDR9KXwoKDpbMC05QS1GYS1mXXsxLDR9KXswLDJ9OigoMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKFxcLigyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkpezN9KSl8OikpfCgoWzAtOUEtRmEtZl17MSw0fTopezJ9KCgoOlswLTlBLUZhLWZdezEsNH0pezEsNX0pfCgoOlswLTlBLUZhLWZdezEsNH0pezAsM306KCgyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoXFwuKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSl7M30pKXw6KSl8KChbMC05QS1GYS1mXXsxLDR9Oil7MX0oKCg6WzAtOUEtRmEtZl17MSw0fSl7MSw2fSl8KCg6WzAtOUEtRmEtZl17MSw0fSl7MCw0fTooKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKShcXC4oMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSkpfDopKXwoOigoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDd9KXwoKDpbMC05QS1GYS1mXXsxLDR9KXswLDV9OigoMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKFxcLigyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkpezN9KSl8OikpKSglLispP1xccyokLyxuLlRwPS9cXGIoKD86W2Etel1bXFx3LV0rOig/OlxcL3sxLDN9fFthLXowLTklXSl8d3d3XFxkezAsM31bLl18W2EtejAtOS5cXC1dK1suXVthLXpdezIsNH1cXC8pKD86W15cXHMoKTw+XSt8XFwoKFteXFxzKCk8Pl0rfChcXChbXlxccygpPD5dK1xcKSkpKlxcKSkrKD86XFwoKFteXFxzKCk8Pl0rfChcXChbXlxccygpPD5dK1xcKSkpKlxcKXxbXlxcc2AhKClcXFtcXF17fTs6J1wiLiw8Pj/Cq8K74oCc4oCd4oCY4oCZXSkpL2dpLG4uU3A9e3N0YXJ0Oi9cXGIoPzooW2Etel1bYS16MC05ListXSo6XFwvXFwvKXx3d3dcXC4pL2dpLGVuZDovW1xcc1xcclxcbl18JC8sdHJpbTovW2AhKClcXFtcXF17fTs6J1wiLiw8Pj/Cq8K74oCc4oCd4oCe4oCY4oCZXSskLyxicDovKFxcKFteXFwpXSpcXCl8XFxbW15cXF1dKlxcXXxcXHtbXn1dKlxcfXw8W14+XSo+KS9nfSxuLkVwPXtJcDpcIjgwXCIsUnA6XCI0NDNcIixrcDpcIjIxXCIsQ3A6XCI3MFwiLE9wOlwiODBcIixQcDpcIjQ0M1wifSxuLkFwPS9bXmEtekEtWjAtOVxcLi1dLyxuLk5wPXthOlwiaHJlZlwiLHhwOlwiY2l0ZVwiLGxpbms6XCJocmVmXCIsQnA6XCJocmVmXCIsRnA6XCJzcmNcIixmb3JtOlwiYWN0aW9uXCIsX3A6XCJzcmNcIixEcDpcImhyZWZcIixIcDpcInNyY1wiLExwOlwic3JjXCIsc291cmNlOlwic3JjXCIsdHJhY2s6XCJzcmNcIixpbnB1dDpcInNyY1wiLE1wOlwic3JjXCIsdmlkZW86XCJzcmNcIn0sbi5qcD1mdW5jdGlvbih0KXtpZih0JiZ0Lm5vZGVOYW1lKXt2YXIgZT10Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7aWYoXCJpbnB1dFwiIT09ZXx8XCJpbWFnZVwiPT09dC50eXBlKXJldHVybiBuLk5wW2VdfX0sbi5lbmNvZGU9ZCxuLmRlY29kZT1kZWNvZGVVUklDb21wb25lbnQsbi5VcD1mdW5jdGlvbigpe24uZW5jb2RlPWVzY2FwZSxuLmRlY29kZT11bmVzY2FwZX0sbi5WcD1mdW5jdGlvbigpe24uZW5jb2RlPWQsbi5kZWNvZGU9ZGVjb2RlVVJJQ29tcG9uZW50fSxuLlFwPXtwYXRobmFtZTp7ZW5jb2RlOntxcDovJSgyNHwyNnwyQnwyQ3wzQnwzRHwzQXw0MCkvZ2ksbWFwOntcIiUyNFwiOlwiJFwiLFwiJTI2XCI6XCImXCIsXCIlMkJcIjpcIitcIixcIiUyQ1wiOlwiLFwiLFwiJTNCXCI6XCI7XCIsXCIlM0RcIjpcIj1cIixcIiUzQVwiOlwiOlwiLFwiJTQwXCI6XCJAXCJ9fSxkZWNvZGU6e3FwOi9bXFwvXFw/I10vZyxtYXA6e0pwOlwiJTJGXCIsS3A6XCIlM0ZcIixHcDpcIiUyM1wifX19LHpwOntlbmNvZGU6e3FwOi8lKDIxfDIzfDI0fDI2fDI3fDI4fDI5fDJBfDJCfDJDfDJGfDNBfDNCfDNEfDNGfDQwfDVCfDVEKS9naSxtYXA6e1wiJTNBXCI6XCI6XCIsV3A6XCIvXCIsJHA6XCI/XCIsWXA6XCIjXCIsWHA6XCJbXCIsWnA6XCJdXCIsXCIlNDBcIjpcIkBcIix0dTpcIiFcIixcIiUyNFwiOlwiJFwiLFwiJTI2XCI6XCImXCIsZXU6XCInXCIsaXU6XCIoXCIscnU6XCIpXCIsbnU6XCIqXCIsXCIlMkJcIjpcIitcIixcIiUyQ1wiOlwiLFwiLFwiJTNCXCI6XCI7XCIsXCIlM0RcIjpcIj1cIn19fSxvdTp7ZW5jb2RlOntxcDovJSgyMXwyNHwyN3wyOHwyOXwyQXwyQnwyQ3wzQnwzRHw0MCkvZ2ksbWFwOnt0dTpcIiFcIixcIiUyNFwiOlwiJFwiLGV1OlwiJ1wiLGl1OlwiKFwiLHJ1OlwiKVwiLG51OlwiKlwiLFwiJTJCXCI6XCIrXCIsXCIlMkNcIjpcIixcIixcIiUzQlwiOlwiO1wiLFwiJTNEXCI6XCI9XCIsXCIlNDBcIjpcIkBcIn19LGRlY29kZTp7cXA6L1tcXC9cXD8jOl0vZyxtYXA6e0pwOlwiJTJGXCIsS3A6XCIlM0ZcIixHcDpcIiUyM1wiLHN1OlwiJTNBXCJ9fX19LG4uYXU9ZnVuY3Rpb24odCxlKXt2YXIgaT1uLmVuY29kZSh0K1wiXCIpO3JldHVybiB2b2lkIDA9PT1lJiYoZT1uLmZwKSxlP2kucmVwbGFjZSgvJTIwL2csXCIrXCIpOml9LG4uY3U9ZnVuY3Rpb24odCxlKXt0Kz1cIlwiLHZvaWQgMD09PWUmJihlPW4uZnApO3RyeXtyZXR1cm4gbi5kZWNvZGUoZT90LnJlcGxhY2UoL1xcKy9nLFwiJTIwXCIpOnQpfWNhdGNoKGkpe3JldHVybiB0fX07dmFyIHcsVD17ZW5jb2RlOlwiZW5jb2RlXCIsZGVjb2RlOlwiZGVjb2RlXCJ9LFM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZnVuY3Rpb24oaSl7dHJ5e3JldHVybiBuW2VdKGkrXCJcIikucmVwbGFjZShuLlFwW3RdW2VdLnFwLGZ1bmN0aW9uKGkpe3JldHVybiBuLlFwW3RdW2VdLm1hcFtpXX0pfWNhdGNoKHIpe3JldHVybiBpfX19O2Zvcih3IGluIFQpblt3K1wiUGF0aFNlZ21lbnRcIl09UyhcInBhdGhuYW1lXCIsVFt3XSksblt3K1wiVXJuUGF0aFNlZ21lbnRcIl09UyhcInVybnBhdGhcIixUW3ddKTt2YXIgYj1mdW5jdGlvbih0LGUsaSl7cmV0dXJuIGZ1bmN0aW9uKHIpe3ZhciBvO289aT9mdW5jdGlvbih0KXtyZXR1cm4gbltlXShuW2ldKHQpKX06bltlXTtmb3IodmFyIHM9KHIrXCJcIikuc3BsaXQodCksYT0wLGM9cy5sZW5ndGg7YTxjO2ErKylzW2FdPW8oc1thXSk7cmV0dXJuIHMuam9pbih0KX19O24uaHU9YihcIi9cIixcImRlY29kZVBhdGhTZWdtZW50XCIpLG4ucHU9YihcIjpcIixcImRlY29kZVVyblBhdGhTZWdtZW50XCIpLG4udXU9YihcIi9cIixcImVuY29kZVBhdGhTZWdtZW50XCIsXCJkZWNvZGVcIiksbi5sdT1iKFwiOlwiLFwiZW5jb2RlVXJuUGF0aFNlZ21lbnRcIixcImRlY29kZVwiKSxuLmR1PVMoXCJyZXNlcnZlZFwiLFwiZW5jb2RlXCIpLG4ucGFyc2U9ZnVuY3Rpb24odCxlKXt2YXIgaTtyZXR1cm4gZXx8KGU9e30pLGk9dC5pbmRleE9mKFwiI1wiKSxpPi0xJiYoZS5scD10LnN1YnN0cmluZyhpKzEpfHxudWxsLHQ9dC5zdWJzdHJpbmcoMCxpKSksaT10LmluZGV4T2YoXCI/XCIpLGk+LTEmJihlLnZpPXQuc3Vic3RyaW5nKGkrMSl8fG51bGwsdD10LnN1YnN0cmluZygwLGkpKSxcIi8vXCI9PT10LnN1YnN0cmluZygwLDIpPyhlLnByb3RvY29sPW51bGwsdD10LnN1YnN0cmluZygyKSx0PW4uZnUodCxlKSk6KGk9dC5pbmRleE9mKFwiOlwiKSxpPi0xJiYoZS5wcm90b2NvbD10LnN1YnN0cmluZygwLGkpfHxudWxsLGUucHJvdG9jb2wmJiFlLnByb3RvY29sLm1hdGNoKG4uZ3ApP2UucHJvdG9jb2w9dm9pZCAwOlwiLy9cIj09PXQuc3Vic3RyaW5nKGkrMSxpKzMpPyh0PXQuc3Vic3RyaW5nKGkrMyksdD1uLmZ1KHQsZSkpOih0PXQuc3Vic3RyaW5nKGkrMSksZS51cm49ITApKSksZS5wYXRoPXQsZX0sbi5ndT1mdW5jdGlvbih0LGUpe3Q9dC5yZXBsYWNlKC9cXFxcL2csXCIvXCIpO3ZhciBpLHIsbj10LmluZGV4T2YoXCIvXCIpO2lmKG49PT0tMSYmKG49dC5sZW5ndGgpLFwiW1wiPT09dC5jaGFyQXQoMCkpaT10LmluZGV4T2YoXCJdXCIpLGUuaG9zdG5hbWU9dC5zdWJzdHJpbmcoMSxpKXx8bnVsbCxlLnBvcnQ9dC5zdWJzdHJpbmcoaSsyLG4pfHxudWxsLFwiL1wiPT09ZS5wb3J0JiYoZS5wb3J0PW51bGwpO2Vsc2V7dmFyIG89dC5pbmRleE9mKFwiOlwiKSxzPXQuaW5kZXhPZihcIi9cIiksYT10LmluZGV4T2YoXCI6XCIsbysxKTthIT09LTEmJihzPT09LTF8fGE8cyk/KGUuaG9zdG5hbWU9dC5zdWJzdHJpbmcoMCxuKXx8bnVsbCxlLnBvcnQ9bnVsbCk6KHI9dC5zdWJzdHJpbmcoMCxuKS5zcGxpdChcIjpcIiksZS5ob3N0bmFtZT1yWzBdfHxudWxsLGUucG9ydD1yWzFdfHxudWxsKX1yZXR1cm4gZS5ob3N0bmFtZSYmXCIvXCIhPT10LnN1YnN0cmluZyhuKS5jaGFyQXQoMCkmJihuKyssdD1cIi9cIit0KSx0LnN1YnN0cmluZyhuKXx8XCIvXCJ9LG4uZnU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD1uLnZ1KHQsZSksbi5ndSh0LGUpfSxuLnZ1PWZ1bmN0aW9uKHQsZSl7dmFyIGkscj10LmluZGV4T2YoXCIvXCIpLG89dC5sYXN0SW5kZXhPZihcIkBcIixyPi0xP3I6dC5sZW5ndGgtMSk7cmV0dXJuIG8+LTEmJihyPT09LTF8fG88cik/KGk9dC5zdWJzdHJpbmcoMCxvKS5zcGxpdChcIjpcIiksZS51c2VybmFtZT1pWzBdP24uZGVjb2RlKGlbMF0pOm51bGwsaS5zaGlmdCgpLGUucGFzc3dvcmQ9aVswXT9uLmRlY29kZShpLmpvaW4oXCI6XCIpKTpudWxsLHQ9dC5zdWJzdHJpbmcobysxKSk6KGUudXNlcm5hbWU9bnVsbCxlLnBhc3N3b3JkPW51bGwpLHR9LG4ueXU9ZnVuY3Rpb24odCxlKXtpZighdClyZXR1cm57fTtpZih0PXQucmVwbGFjZSgvJisvZyxcIiZcIikucmVwbGFjZSgvXlxcPyomKnwmKyQvZyxcIlwiKSwhdClyZXR1cm57fTtmb3IodmFyIGkscixvLHM9e30sYT10LnNwbGl0KFwiJlwiKSxjPWEubGVuZ3RoLGg9MDtoPGM7aCsrKWk9YVtoXS5zcGxpdChcIj1cIikscj1uLmN1KGkuc2hpZnQoKSxlKSxvPWkubGVuZ3RoP24uY3UoaS5qb2luKFwiPVwiKSxlKTpudWxsLG0uY2FsbChzLHIpPyhcInN0cmluZ1wiIT10eXBlb2Ygc1tyXSYmbnVsbCE9PXNbcl18fChzW3JdPVtzW3JdXSksc1tyXS5wdXNoKG8pKTpzW3JdPW87cmV0dXJuIHN9LG4ucHA9ZnVuY3Rpb24odCl7dmFyIGU9XCJcIjtyZXR1cm4gdC5wcm90b2NvbCYmKGUrPXQucHJvdG9jb2wrXCI6XCIpLHQudXJufHwhZSYmIXQuaG9zdG5hbWV8fChlKz1cIi8vXCIpLGUrPW4ubXUodCl8fFwiXCIsXCJzdHJpbmdcIj09dHlwZW9mIHQucGF0aCYmKFwiL1wiIT09dC5wYXRoLmNoYXJBdCgwKSYmXCJzdHJpbmdcIj09dHlwZW9mIHQuaG9zdG5hbWUmJihlKz1cIi9cIiksZSs9dC5wYXRoKSxcInN0cmluZ1wiPT10eXBlb2YgdC52aSYmdC52aSYmKGUrPVwiP1wiK3QudmkpLFwic3RyaW5nXCI9PXR5cGVvZiB0LmxwJiZ0LmxwJiYoZSs9XCIjXCIrdC5scCksZX0sbi53dT1mdW5jdGlvbih0KXt2YXIgZT1cIlwiO3JldHVybiB0Lmhvc3RuYW1lPyhlKz1uLndwLnRlc3QodC5ob3N0bmFtZSk/XCJbXCIrdC5ob3N0bmFtZStcIl1cIjp0Lmhvc3RuYW1lLHQucG9ydCYmKGUrPVwiOlwiK3QucG9ydCksZSk6XCJcIn0sbi5tdT1mdW5jdGlvbih0KXtyZXR1cm4gbi5UdSh0KStuLnd1KHQpfSxuLlR1PWZ1bmN0aW9uKHQpe3ZhciBlPVwiXCI7cmV0dXJuIHQudXNlcm5hbWUmJihlKz1uLmVuY29kZSh0LnVzZXJuYW1lKSksdC5wYXNzd29yZCYmKGUrPVwiOlwiK24uZW5jb2RlKHQucGFzc3dvcmQpKSxlJiYoZSs9XCJAXCIpLGV9LG4uU3U9ZnVuY3Rpb24odCxlLGkpe3ZhciByLG8scyxjLGg9XCJcIjtmb3IobyBpbiB0KWlmKG0uY2FsbCh0LG8pJiZvKWlmKGEodFtvXSkpZm9yKHI9e30scz0wLGM9dFtvXS5sZW5ndGg7czxjO3MrKyl2b2lkIDAhPT10W29dW3NdJiZ2b2lkIDA9PT1yW3Rbb11bc10rXCJcIl0mJihoKz1cIiZcIituLmJ1KG8sdFtvXVtzXSxpKSxlIT09ITAmJihyW3Rbb11bc10rXCJcIl09ITApKTtlbHNlIHZvaWQgMCE9PXRbb10mJihoKz1cIiZcIituLmJ1KG8sdFtvXSxpKSk7cmV0dXJuIGguc3Vic3RyaW5nKDEpfSxuLmJ1PWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gbi5hdSh0LGkpKyhudWxsIT09ZT9cIj1cIituLmF1KGUsaSk6XCJcIil9LG4uRXU9ZnVuY3Rpb24odCxlLGkpe2lmKFwib2JqZWN0XCI9PXR5cGVvZiBlKWZvcih2YXIgciBpbiBlKW0uY2FsbChlLHIpJiZuLkV1KHQscixlW3JdKTtlbHNle2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoXCJVUkkuYWRkUXVlcnkoKSBhY2NlcHRzIGFuIG9iamVjdCwgc3RyaW5nIGFzIHRoZSBuYW1lIHBhcmFtZXRlclwiKTtpZih2b2lkIDA9PT10W2VdKXJldHVybiB2b2lkKHRbZV09aSk7XCJzdHJpbmdcIj09dHlwZW9mIHRbZV0mJih0W2VdPVt0W2VdXSksYShpKXx8KGk9W2ldKSx0W2VdPSh0W2VdfHxbXSkuY29uY2F0KGkpfX0sbi5JdT1mdW5jdGlvbih0LGUsaSl7dmFyIHIsbyxoO2lmKGEoZSkpZm9yKHI9MCxvPWUubGVuZ3RoO3I8bztyKyspdFtlW3JdXT12b2lkIDA7ZWxzZSBpZihcIlJlZ0V4cFwiPT09cyhlKSlmb3IoaCBpbiB0KWUudGVzdChoKSYmKHRbaF09dm9pZCAwKTtlbHNlIGlmKFwib2JqZWN0XCI9PXR5cGVvZiBlKWZvcihoIGluIGUpbS5jYWxsKGUsaCkmJm4uSXUodCxoLGVbaF0pO2Vsc2V7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlVSSS5yZW1vdmVRdWVyeSgpIGFjY2VwdHMgYW4gb2JqZWN0LCBzdHJpbmcsIFJlZ0V4cCBhcyB0aGUgZmlyc3QgcGFyYW1ldGVyXCIpO3ZvaWQgMCE9PWk/XCJSZWdFeHBcIj09PXMoaSk/IWEodFtlXSkmJmkudGVzdCh0W2VdKT90W2VdPXZvaWQgMDp0W2VdPWModFtlXSxpKTp0W2VdIT09U3RyaW5nKGkpfHxhKGkpJiYxIT09aS5sZW5ndGg/YSh0W2VdKSYmKHRbZV09Yyh0W2VdLGkpKTp0W2VdPXZvaWQgMDp0W2VdPXZvaWQgMH19LG4uUnU9ZnVuY3Rpb24odCxlLGkscil7c3dpdGNoKHMoZSkpe2Nhc2VcIlN0cmluZ1wiOmJyZWFrO2Nhc2VcIlJlZ0V4cFwiOmZvcih2YXIgbyBpbiB0KWlmKG0uY2FsbCh0LG8pJiZlLnRlc3QobykmJih2b2lkIDA9PT1pfHxuLlJ1KHQsbyxpKSkpcmV0dXJuITA7cmV0dXJuITE7Y2FzZVwiT2JqZWN0XCI6Zm9yKHZhciBjIGluIGUpaWYobS5jYWxsKGUsYykmJiFuLlJ1KHQsYyxlW2NdKSlyZXR1cm4hMTtyZXR1cm4hMDtkZWZhdWx0OnRocm93IG5ldyBUeXBlRXJyb3IoXCJVUkkuaGFzUXVlcnkoKSBhY2NlcHRzIGEgc3RyaW5nLCByZWd1bGFyIGV4cHJlc3Npb24gb3Igb2JqZWN0IGFzIHRoZSBuYW1lIHBhcmFtZXRlclwiKX1zd2l0Y2gocyhpKSl7Y2FzZVwiVW5kZWZpbmVkXCI6cmV0dXJuIGUgaW4gdDtjYXNlXCJCb29sZWFuXCI6dmFyIHU9Qm9vbGVhbihhKHRbZV0pP3RbZV0ubGVuZ3RoOnRbZV0pO3JldHVybiBpPT09dTtjYXNlXCJGdW5jdGlvblwiOnJldHVybiEhaSh0W2VdLGUsdCk7Y2FzZVwiQXJyYXlcIjppZighYSh0W2VdKSlyZXR1cm4hMTt2YXIgbD1yP2g6cDtyZXR1cm4gbCh0W2VdLGkpO2Nhc2VcIlJlZ0V4cFwiOnJldHVybiBhKHRbZV0pPyEhciYmaCh0W2VdLGkpOkJvb2xlYW4odFtlXSYmdFtlXS5tYXRjaChpKSk7Y2FzZVwiTnVtYmVyXCI6aT1TdHJpbmcoaSk7Y2FzZVwiU3RyaW5nXCI6cmV0dXJuIGEodFtlXSk/ISFyJiZoKHRbZV0saSk6dFtlXT09PWk7ZGVmYXVsdDp0aHJvdyBuZXcgVHlwZUVycm9yKFwiVVJJLmhhc1F1ZXJ5KCkgYWNjZXB0cyB1bmRlZmluZWQsIGJvb2xlYW4sIHN0cmluZywgbnVtYmVyLCBSZWdFeHAsIEZ1bmN0aW9uIGFzIHRoZSB2YWx1ZSBwYXJhbWV0ZXJcIil9fSxuLmt1PWZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLGU9W10saT0wLHI9MDtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKXt2YXIgbz1uZXcgbihhcmd1bWVudHNbcl0pO3QucHVzaChvKTtmb3IodmFyIHM9by5DdSgpLGE9MDthPHMubGVuZ3RoO2ErKylcInN0cmluZ1wiPT10eXBlb2Ygc1thXSYmZS5wdXNoKHNbYV0pLHNbYV0mJmkrK31pZighZS5sZW5ndGh8fCFpKXJldHVybiBuZXcgbihcIlwiKTt2YXIgYz1uZXcgbihcIlwiKS5DdShlKTtyZXR1cm5cIlwiIT09dFswXS5wYXRoKCkmJlwiL1wiIT09dFswXS5wYXRoKCkuc2xpY2UoMCwxKXx8Yy5wYXRoKFwiL1wiK2MucGF0aCgpKSxjLm5vcm1hbGl6ZSgpfSxuLk91PWZ1bmN0aW9uKHQsZSl7dmFyIGkscj1NYXRoLm1pbih0Lmxlbmd0aCxlLmxlbmd0aCk7Zm9yKGk9MDtpPHI7aSsrKWlmKHQuY2hhckF0KGkpIT09ZS5jaGFyQXQoaSkpe2ktLTticmVha31yZXR1cm4gaTwxP3QuY2hhckF0KDApPT09ZS5jaGFyQXQoMCkmJlwiL1wiPT09dC5jaGFyQXQoMCk/XCIvXCI6XCJcIjooXCIvXCI9PT10LmNoYXJBdChpKSYmXCIvXCI9PT1lLmNoYXJBdChpKXx8KGk9dC5zdWJzdHJpbmcoMCxpKS5sYXN0SW5kZXhPZihcIi9cIikpLHQuc3Vic3RyaW5nKDAsaSsxKSl9LG4uUHU9ZnVuY3Rpb24odCxlLGkpe2l8fChpPXt9KTt2YXIgcj1pLnN0YXJ0fHxuLlNwLnN0YXJ0LG89aS5lbmR8fG4uU3AuZW5kLHM9aS50cmltfHxuLlNwLnRyaW0sYT1pLmJwfHxuLlNwLmJwLGM9L1thLXowLTktXT1bXCInXT8kL2k7Zm9yKHIubGFzdEluZGV4PTA7Oyl7dmFyIGg9ci5leGVjKHQpO2lmKCFoKWJyZWFrO3ZhciBwPWguaW5kZXg7aWYoaS5pZ25vcmVIdG1sKXt2YXIgdT10LnNsaWNlKE1hdGgubWF4KHAtMywwKSxwKTtpZih1JiZjLnRlc3QodSkpY29udGludWV9Zm9yKHZhciBsPXArdC5zbGljZShwKS5zZWFyY2gobyksZD10LnNsaWNlKHAsbCksZj0tMTs7KXt2YXIgZz1hLmV4ZWMoZCk7aWYoIWcpYnJlYWs7dmFyIHY9Zy5pbmRleCtnWzBdLmxlbmd0aDtmPU1hdGgubWF4KGYsdil9aWYoZD1mPi0xP2Quc2xpY2UoMCxmKStkLnNsaWNlKGYpLnJlcGxhY2UocyxcIlwiKTpkLnJlcGxhY2UocyxcIlwiKSwhKGQubGVuZ3RoPD1oWzBdLmxlbmd0aHx8aS5pZ25vcmUmJmkuaWdub3JlLnRlc3QoZCkpKXtsPXArZC5sZW5ndGg7dmFyIHk9ZShkLHAsbCx0KTt2b2lkIDAhPT15Pyh5PVN0cmluZyh5KSx0PXQuc2xpY2UoMCxwKSt5K3Quc2xpY2UobCksci5sYXN0SW5kZXg9cCt5Lmxlbmd0aCk6ci5sYXN0SW5kZXg9bH19cmV0dXJuIHIubGFzdEluZGV4PTAsdH0sbi5BdT1mdW5jdGlvbihlKXtpZihlLm1hdGNoKG4uQXApKXtpZighdCl0aHJvdyBuZXcgVHlwZUVycm9yKCdIb3N0bmFtZSBcIicrZSsnXCIgY29udGFpbnMgY2hhcmFjdGVycyBvdGhlciB0aGFuIFtBLVowLTkuLV0gYW5kIFB1bnljb2RlLmpzIGlzIG5vdCBhdmFpbGFibGUnKTtpZih0LnRvQVNDSUkoZSkubWF0Y2gobi5BcCkpdGhyb3cgbmV3IFR5cGVFcnJvcignSG9zdG5hbWUgXCInK2UrJ1wiIGNvbnRhaW5zIGNoYXJhY3RlcnMgb3RoZXIgdGhhbiBbQS1aMC05Li1dJyl9fSxuLmdlPWZ1bmN0aW9uKHQpe2lmKHQpe3ZhciBlPXt1cDp0aGlzLmdlKCl9O3JldHVybiByLk51JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiByLk51LmdlJiYoZS5OdT1yLk51LmdlKCkpLHIueHUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHIueHUuZ2UmJihlLnh1PXIueHUuZ2UoKSksci5CdSYmXCJmdW5jdGlvblwiPT10eXBlb2Ygci5CdS5nZSYmKGUuQnU9ci5CdS5nZSgpKSxlfXJldHVybiByLnVwPT09dGhpcyYmKHIudXA9diksdGhpc30seS5wcD1mdW5jdGlvbih0KXtyZXR1cm4gdD09PSEwP3RoaXMuRnU9ITA6KHZvaWQgMD09PXR8fHRoaXMuRnUpJiYodGhpcy5fdT1uLnBwKHRoaXMuaHApLHRoaXMuRnU9ITEpLHRoaXN9LHkuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG4odGhpcyl9LHkudmFsdWVPZj15LnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHAoITEpLl91fSx5LnByb3RvY29sPWYoXCJwcm90b2NvbFwiKSx5LnVzZXJuYW1lPWYoXCJ1c2VybmFtZVwiKSx5LnBhc3N3b3JkPWYoXCJwYXNzd29yZFwiKSx5Lmhvc3RuYW1lPWYoXCJob3N0bmFtZVwiKSx5LnBvcnQ9ZihcInBvcnRcIikseS52aT1nKFwicXVlcnlcIixcIj9cIikseS5scD1nKFwiZnJhZ21lbnRcIixcIiNcIikseS5zZWFyY2g9ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLnZpKHQsZSk7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGkmJmkubGVuZ3RoP1wiP1wiK2k6aX0seS5oYXNoPWZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5scCh0LGUpO3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBpJiZpLmxlbmd0aD9cIiNcIitpOml9LHkucGF0aG5hbWU9ZnVuY3Rpb24odCxlKXtpZih2b2lkIDA9PT10fHx0PT09ITApe3ZhciBpPXRoaXMuaHAucGF0aHx8KHRoaXMuaHAuaG9zdG5hbWU/XCIvXCI6XCJcIik7cmV0dXJuIHQ/KHRoaXMuaHAudXJuP24ucHU6bi5odSkoaSk6aX1yZXR1cm4gdGhpcy5ocC51cm4/dGhpcy5ocC5wYXRoPXQ/bi5sdSh0KTpcIlwiOnRoaXMuaHAucGF0aD10P24udXUodCk6XCIvXCIsdGhpcy5wcCghZSksdGhpc30seS5wYXRoPXkucGF0aG5hbWUseS5ocmVmPWZ1bmN0aW9uKHQsZSl7dmFyIGk7aWYodm9pZCAwPT09dClyZXR1cm4gdGhpcy50b1N0cmluZygpO3RoaXMuX3U9XCJcIix0aGlzLmhwPW4uaHAoKTt2YXIgcj10IGluc3RhbmNlb2YgbixvPVwib2JqZWN0XCI9PXR5cGVvZiB0JiYodC5ob3N0bmFtZXx8dC5wYXRofHx0LnBhdGhuYW1lKTtpZih0Lm5vZGVOYW1lKXt2YXIgcz1uLmpwKHQpO3Q9dFtzXXx8XCJcIixvPSExfWlmKCFyJiZvJiZ2b2lkIDAhPT10LnBhdGhuYW1lJiYodD10LnRvU3RyaW5nKCkpLFwic3RyaW5nXCI9PXR5cGVvZiB0fHx0IGluc3RhbmNlb2YgU3RyaW5nKXRoaXMuaHA9bi5wYXJzZShTdHJpbmcodCksdGhpcy5ocCk7ZWxzZXtpZighciYmIW8pdGhyb3cgbmV3IFR5cGVFcnJvcihcImludmFsaWQgaW5wdXRcIik7dmFyIGE9cj90LmhwOnQ7Zm9yKGkgaW4gYSltLmNhbGwodGhpcy5ocCxpKSYmKHRoaXMuaHBbaV09YVtpXSl9cmV0dXJuIHRoaXMucHAoIWUpLHRoaXN9LHkuaXM9ZnVuY3Rpb24odCl7dmFyIGU9ITEscj0hMSxvPSExLHM9ITEsYT0hMSxjPSExLGg9ITEscD0hdGhpcy5ocC51cm47c3dpdGNoKHRoaXMuaHAuaG9zdG5hbWUmJihwPSExLHI9bi5tcC50ZXN0KHRoaXMuaHAuaG9zdG5hbWUpLG89bi53cC50ZXN0KHRoaXMuaHAuaG9zdG5hbWUpLGU9cnx8byxzPSFlLGE9cyYmaSYmaS5oYXModGhpcy5ocC5ob3N0bmFtZSksYz1zJiZuLnZwLnRlc3QodGhpcy5ocC5ob3N0bmFtZSksaD1zJiZuLnlwLnRlc3QodGhpcy5ocC5ob3N0bmFtZSkpLHQudG9Mb3dlckNhc2UoKSl7Y2FzZVwicmVsYXRpdmVcIjpyZXR1cm4gcDtjYXNlXCJhYnNvbHV0ZVwiOnJldHVybiFwO2Nhc2VcImRvbWFpblwiOmNhc2VcIm5hbWVcIjpyZXR1cm4gcztjYXNlXCJzbGRcIjpyZXR1cm4gYTtjYXNlXCJpcFwiOnJldHVybiBlO2Nhc2VcImlwNFwiOmNhc2VcImlwdjRcIjpjYXNlXCJpbmV0NFwiOnJldHVybiByO2Nhc2VcImlwNlwiOmNhc2VcImlwdjZcIjpjYXNlXCJpbmV0NlwiOnJldHVybiBvO2Nhc2VcImlkblwiOnJldHVybiBjO2Nhc2VcInVybFwiOnJldHVybiF0aGlzLmhwLnVybjtjYXNlXCJ1cm5cIjpyZXR1cm4hIXRoaXMuaHAudXJuO2Nhc2VcInB1bnljb2RlXCI6cmV0dXJuIGh9cmV0dXJuIG51bGx9O3ZhciBFPXkucHJvdG9jb2wsST15LnBvcnQsUj15Lmhvc3RuYW1lO3kucHJvdG9jb2w9ZnVuY3Rpb24odCxlKXtpZih2b2lkIDAhPT10JiZ0JiYodD10LnJlcGxhY2UoLzooXFwvXFwvKT8kLyxcIlwiKSwhdC5tYXRjaChuLmdwKSkpdGhyb3cgbmV3IFR5cGVFcnJvcignUHJvdG9jb2wgXCInK3QrXCJcXFwiIGNvbnRhaW5zIGNoYXJhY3RlcnMgb3RoZXIgdGhhbiBbQS1aMC05ListXSBvciBkb2Vzbid0IHN0YXJ0IHdpdGggW0EtWl1cIik7cmV0dXJuIEUuY2FsbCh0aGlzLHQsZSl9LHkuc2NoZW1lPXkucHJvdG9jb2wseS5wb3J0PWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5ocC51cm4pcmV0dXJuIHZvaWQgMD09PXQ/XCJcIjp0aGlzO2lmKHZvaWQgMCE9PXQmJigwPT09dCYmKHQ9bnVsbCksdCYmKHQrPVwiXCIsXCI6XCI9PT10LmNoYXJBdCgwKSYmKHQ9dC5zdWJzdHJpbmcoMSkpLHQubWF0Y2goL1teMC05XS8pKSkpdGhyb3cgbmV3IFR5cGVFcnJvcignUG9ydCBcIicrdCsnXCIgY29udGFpbnMgY2hhcmFjdGVycyBvdGhlciB0aGFuIFswLTldJyk7cmV0dXJuIEkuY2FsbCh0aGlzLHQsZSl9LHkuaG9zdG5hbWU9ZnVuY3Rpb24odCxlKXtpZih0aGlzLmhwLnVybilyZXR1cm4gdm9pZCAwPT09dD9cIlwiOnRoaXM7aWYodm9pZCAwIT09dCl7dmFyIGk9e30scj1uLmd1KHQsaSk7aWYoXCIvXCIhPT1yKXRocm93IG5ldyBUeXBlRXJyb3IoJ0hvc3RuYW1lIFwiJyt0KydcIiBjb250YWlucyBjaGFyYWN0ZXJzIG90aGVyIHRoYW4gW0EtWjAtOS4tXScpO3Q9aS5ob3N0bmFtZX1yZXR1cm4gUi5jYWxsKHRoaXMsdCxlKX0seS5vcmlnaW49ZnVuY3Rpb24odCxlKXtpZih0aGlzLmhwLnVybilyZXR1cm4gdm9pZCAwPT09dD9cIlwiOnRoaXM7aWYodm9pZCAwPT09dCl7dmFyIGk9dGhpcy5wcm90b2NvbCgpLHI9dGhpcy5EdSgpO3JldHVybiByPyhpP2krXCI6Ly9cIjpcIlwiKSt0aGlzLkR1KCk6XCJcIn12YXIgbz1uKHQpO3JldHVybiB0aGlzLnByb3RvY29sKG8ucHJvdG9jb2woKSkuRHUoby5EdSgpKS5wcCghZSksdGhpc30seS5ob3N0PWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5ocC51cm4pcmV0dXJuIHZvaWQgMD09PXQ/XCJcIjp0aGlzO2lmKHZvaWQgMD09PXQpcmV0dXJuIHRoaXMuaHAuaG9zdG5hbWU/bi53dSh0aGlzLmhwKTpcIlwiO3ZhciBpPW4uZ3UodCx0aGlzLmhwKTtpZihcIi9cIiE9PWkpdGhyb3cgbmV3IFR5cGVFcnJvcignSG9zdG5hbWUgXCInK3QrJ1wiIGNvbnRhaW5zIGNoYXJhY3RlcnMgb3RoZXIgdGhhbiBbQS1aMC05Li1dJyk7cmV0dXJuIHRoaXMucHAoIWUpLHRoaXN9LHkuRHU9ZnVuY3Rpb24odCxlKXtpZih0aGlzLmhwLnVybilyZXR1cm4gdm9pZCAwPT09dD9cIlwiOnRoaXM7aWYodm9pZCAwPT09dClyZXR1cm4gdGhpcy5ocC5ob3N0bmFtZT9uLm11KHRoaXMuaHApOlwiXCI7dmFyIGk9bi5mdSh0LHRoaXMuaHApO2lmKFwiL1wiIT09aSl0aHJvdyBuZXcgVHlwZUVycm9yKCdIb3N0bmFtZSBcIicrdCsnXCIgY29udGFpbnMgY2hhcmFjdGVycyBvdGhlciB0aGFuIFtBLVowLTkuLV0nKTtyZXR1cm4gdGhpcy5wcCghZSksdGhpc30seS5IdT1mdW5jdGlvbih0LGUpe2lmKHRoaXMuaHAudXJuKXJldHVybiB2b2lkIDA9PT10P1wiXCI6dGhpcztpZih2b2lkIDA9PT10KXt2YXIgaT1uLlR1KHRoaXMuaHApO3JldHVybiBpP2kuc3Vic3RyaW5nKDAsaS5sZW5ndGgtMSk6aX1yZXR1cm5cIkBcIiE9PXRbdC5sZW5ndGgtMV0mJih0Kz1cIkBcIiksbi52dSh0LHRoaXMuaHApLHRoaXMucHAoIWUpLHRoaXN9LHkuTHU9ZnVuY3Rpb24odCxlKXt2YXIgaTtyZXR1cm4gdm9pZCAwPT09dD90aGlzLnBhdGgoKSt0aGlzLnNlYXJjaCgpK3RoaXMuaGFzaCgpOihpPW4ucGFyc2UodCksdGhpcy5ocC5wYXRoPWkucGF0aCx0aGlzLmhwLnZpPWkudmksdGhpcy5ocC5scD1pLmxwLHRoaXMucHAoIWUpLHRoaXMpfSx5Lk11PWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5ocC51cm4pcmV0dXJuIHZvaWQgMD09PXQ/XCJcIjp0aGlzO2lmKHZvaWQgMD09PXQpe2lmKCF0aGlzLmhwLmhvc3RuYW1lfHx0aGlzLmlzKFwiSVBcIikpcmV0dXJuXCJcIjt2YXIgaT10aGlzLmhwLmhvc3RuYW1lLmxlbmd0aC10aGlzLmRvbWFpbigpLmxlbmd0aC0xO3JldHVybiB0aGlzLmhwLmhvc3RuYW1lLnN1YnN0cmluZygwLGkpfHxcIlwifXZhciByPXRoaXMuaHAuaG9zdG5hbWUubGVuZ3RoLXRoaXMuZG9tYWluKCkubGVuZ3RoLHM9dGhpcy5ocC5ob3N0bmFtZS5zdWJzdHJpbmcoMCxyKSxhPW5ldyBSZWdFeHAoXCJeXCIrbyhzKSk7cmV0dXJuIHQmJlwiLlwiIT09dC5jaGFyQXQodC5sZW5ndGgtMSkmJih0Kz1cIi5cIiksdCYmbi5BdSh0KSx0aGlzLmhwLmhvc3RuYW1lPXRoaXMuaHAuaG9zdG5hbWUucmVwbGFjZShhLHQpLHRoaXMucHAoIWUpLHRoaXN9LHkuZG9tYWluPWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5ocC51cm4pcmV0dXJuIHZvaWQgMD09PXQ/XCJcIjp0aGlzO2lmKFwiYm9vbGVhblwiPT10eXBlb2YgdCYmKGU9dCx0PXZvaWQgMCksdm9pZCAwPT09dCl7aWYoIXRoaXMuaHAuaG9zdG5hbWV8fHRoaXMuaXMoXCJJUFwiKSlyZXR1cm5cIlwiO3ZhciBpPXRoaXMuaHAuaG9zdG5hbWUubWF0Y2goL1xcLi9nKTtpZihpJiZpLmxlbmd0aDwyKXJldHVybiB0aGlzLmhwLmhvc3RuYW1lO3ZhciByPXRoaXMuaHAuaG9zdG5hbWUubGVuZ3RoLXRoaXMuanUoZSkubGVuZ3RoLTE7cmV0dXJuIHI9dGhpcy5ocC5ob3N0bmFtZS5sYXN0SW5kZXhPZihcIi5cIixyLTEpKzEsdGhpcy5ocC5ob3N0bmFtZS5zdWJzdHJpbmcocil8fFwiXCJ9aWYoIXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcImNhbm5vdCBzZXQgZG9tYWluIGVtcHR5XCIpO2lmKG4uQXUodCksIXRoaXMuaHAuaG9zdG5hbWV8fHRoaXMuaXMoXCJJUFwiKSl0aGlzLmhwLmhvc3RuYW1lPXQ7ZWxzZXt2YXIgcz1uZXcgUmVnRXhwKG8odGhpcy5kb21haW4oKSkrXCIkXCIpO3RoaXMuaHAuaG9zdG5hbWU9dGhpcy5ocC5ob3N0bmFtZS5yZXBsYWNlKHMsdCl9cmV0dXJuIHRoaXMucHAoIWUpLHRoaXN9LHkuanU9ZnVuY3Rpb24odCxlKXtpZih0aGlzLmhwLnVybilyZXR1cm4gdm9pZCAwPT09dD9cIlwiOnRoaXM7aWYoXCJib29sZWFuXCI9PXR5cGVvZiB0JiYoZT10LHQ9dm9pZCAwKSx2b2lkIDA9PT10KXtpZighdGhpcy5ocC5ob3N0bmFtZXx8dGhpcy5pcyhcIklQXCIpKXJldHVyblwiXCI7dmFyIHI9dGhpcy5ocC5ob3N0bmFtZS5sYXN0SW5kZXhPZihcIi5cIiksbj10aGlzLmhwLmhvc3RuYW1lLnN1YnN0cmluZyhyKzEpO3JldHVybiBlIT09ITAmJmkmJmkubGlzdFtuLnRvTG93ZXJDYXNlKCldP2kuZ2V0KHRoaXMuaHAuaG9zdG5hbWUpfHxuOm59dmFyIHM7aWYoIXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcImNhbm5vdCBzZXQgVExEIGVtcHR5XCIpO2lmKHQubWF0Y2goL1teYS16QS1aMC05LV0vKSl7aWYoIWl8fCFpLmlzKHQpKXRocm93IG5ldyBUeXBlRXJyb3IoJ1RMRCBcIicrdCsnXCIgY29udGFpbnMgY2hhcmFjdGVycyBvdGhlciB0aGFuIFtBLVowLTldJyk7cz1uZXcgUmVnRXhwKG8odGhpcy5qdSgpKStcIiRcIiksdGhpcy5ocC5ob3N0bmFtZT10aGlzLmhwLmhvc3RuYW1lLnJlcGxhY2Uocyx0KX1lbHNle2lmKCF0aGlzLmhwLmhvc3RuYW1lfHx0aGlzLmlzKFwiSVBcIikpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwiY2Fubm90IHNldCBUTEQgb24gbm9uLWRvbWFpbiBob3N0XCIpO3M9bmV3IFJlZ0V4cChvKHRoaXMuanUoKSkrXCIkXCIpLHRoaXMuaHAuaG9zdG5hbWU9dGhpcy5ocC5ob3N0bmFtZS5yZXBsYWNlKHMsdCl9cmV0dXJuIHRoaXMucHAoIWUpLHRoaXN9LHkuVXU9ZnVuY3Rpb24odCxlKXtpZih0aGlzLmhwLnVybilyZXR1cm4gdm9pZCAwPT09dD9cIlwiOnRoaXM7aWYodm9pZCAwPT09dHx8dD09PSEwKXtpZighdGhpcy5ocC5wYXRoJiYhdGhpcy5ocC5ob3N0bmFtZSlyZXR1cm5cIlwiO2lmKFwiL1wiPT09dGhpcy5ocC5wYXRoKXJldHVyblwiL1wiO3ZhciBpPXRoaXMuaHAucGF0aC5sZW5ndGgtdGhpcy5maWxlbmFtZSgpLmxlbmd0aC0xLHI9dGhpcy5ocC5wYXRoLnN1YnN0cmluZygwLGkpfHwodGhpcy5ocC5ob3N0bmFtZT9cIi9cIjpcIlwiKTtyZXR1cm4gdD9uLmh1KHIpOnJ9dmFyIHM9dGhpcy5ocC5wYXRoLmxlbmd0aC10aGlzLmZpbGVuYW1lKCkubGVuZ3RoLGE9dGhpcy5ocC5wYXRoLnN1YnN0cmluZygwLHMpLGM9bmV3IFJlZ0V4cChcIl5cIitvKGEpKTtyZXR1cm4gdGhpcy5pcyhcInJlbGF0aXZlXCIpfHwodHx8KHQ9XCIvXCIpLFwiL1wiIT09dC5jaGFyQXQoMCkmJih0PVwiL1wiK3QpKSx0JiZcIi9cIiE9PXQuY2hhckF0KHQubGVuZ3RoLTEpJiYodCs9XCIvXCIpLHQ9bi51dSh0KSx0aGlzLmhwLnBhdGg9dGhpcy5ocC5wYXRoLnJlcGxhY2UoYyx0KSx0aGlzLnBwKCFlKSx0aGlzfSx5LmZpbGVuYW1lPWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5ocC51cm4pcmV0dXJuIHZvaWQgMD09PXQ/XCJcIjp0aGlzO2lmKFwic3RyaW5nXCIhPXR5cGVvZiB0KXtpZighdGhpcy5ocC5wYXRofHxcIi9cIj09PXRoaXMuaHAucGF0aClyZXR1cm5cIlwiO3ZhciBpPXRoaXMuaHAucGF0aC5sYXN0SW5kZXhPZihcIi9cIikscj10aGlzLmhwLnBhdGguc3Vic3RyaW5nKGkrMSk7cmV0dXJuIHQ/bi5kZWNvZGVQYXRoU2VnbWVudChyKTpyfXZhciBzPSExO1wiL1wiPT09dC5jaGFyQXQoMCkmJih0PXQuc3Vic3RyaW5nKDEpKSx0Lm1hdGNoKC9cXC4/XFwvLykmJihzPSEwKTt2YXIgYT1uZXcgUmVnRXhwKG8odGhpcy5maWxlbmFtZSgpKStcIiRcIik7cmV0dXJuIHQ9bi51dSh0KSx0aGlzLmhwLnBhdGg9dGhpcy5ocC5wYXRoLnJlcGxhY2UoYSx0KSxzP3RoaXMuVnUoZSk6dGhpcy5wcCghZSksdGhpc30seS5zdWZmaXg9ZnVuY3Rpb24odCxlKXtpZih0aGlzLmhwLnVybilyZXR1cm4gdm9pZCAwPT09dD9cIlwiOnRoaXM7aWYodm9pZCAwPT09dHx8dD09PSEwKXtpZighdGhpcy5ocC5wYXRofHxcIi9cIj09PXRoaXMuaHAucGF0aClyZXR1cm5cIlwiO3ZhciBpLHIscz10aGlzLmZpbGVuYW1lKCksYT1zLmxhc3RJbmRleE9mKFwiLlwiKTtyZXR1cm4gYT09PS0xP1wiXCI6KGk9cy5zdWJzdHJpbmcoYSsxKSxyPS9eW2EtejAtOSVdKyQvaS50ZXN0KGkpP2k6XCJcIix0P24uZGVjb2RlUGF0aFNlZ21lbnQocik6cil9XCIuXCI9PT10LmNoYXJBdCgwKSYmKHQ9dC5zdWJzdHJpbmcoMSkpO3ZhciBjLGg9dGhpcy5zdWZmaXgoKTtpZihoKWM9dD9uZXcgUmVnRXhwKG8oaCkrXCIkXCIpOm5ldyBSZWdFeHAobyhcIi5cIitoKStcIiRcIik7ZWxzZXtpZighdClyZXR1cm4gdGhpczt0aGlzLmhwLnBhdGgrPVwiLlwiK24udXUodCl9cmV0dXJuIGMmJih0PW4udXUodCksdGhpcy5ocC5wYXRoPXRoaXMuaHAucGF0aC5yZXBsYWNlKGMsdCkpLHRoaXMucHAoIWUpLHRoaXN9LHkuQ3U9ZnVuY3Rpb24odCxlLGkpe3ZhciByPXRoaXMuaHAudXJuP1wiOlwiOlwiL1wiLG49dGhpcy5wYXRoKCksbz1cIi9cIj09PW4uc3Vic3RyaW5nKDAsMSkscz1uLnNwbGl0KHIpO2lmKHZvaWQgMCE9PXQmJlwibnVtYmVyXCIhPXR5cGVvZiB0JiYoaT1lLGU9dCx0PXZvaWQgMCksdm9pZCAwIT09dCYmXCJudW1iZXJcIiE9dHlwZW9mIHQpdGhyb3cgbmV3IEVycm9yKCdCYWQgc2VnbWVudCBcIicrdCsnXCIsIG11c3QgYmUgMC1iYXNlZCBpbnRlZ2VyJyk7aWYobyYmcy5zaGlmdCgpLHQ8MCYmKHQ9TWF0aC5tYXgocy5sZW5ndGgrdCwwKSksdm9pZCAwPT09ZSlyZXR1cm4gdm9pZCAwPT09dD9zOnNbdF07aWYobnVsbD09PXR8fHZvaWQgMD09PXNbdF0paWYoYShlKSl7cz1bXTtmb3IodmFyIGM9MCxoPWUubGVuZ3RoO2M8aDtjKyspKGVbY10ubGVuZ3RofHxzLmxlbmd0aCYmc1tzLmxlbmd0aC0xXS5sZW5ndGgpJiYocy5sZW5ndGgmJiFzW3MubGVuZ3RoLTFdLmxlbmd0aCYmcy5wb3AoKSxzLnB1c2godShlW2NdKSkpfWVsc2UoZXx8XCJzdHJpbmdcIj09dHlwZW9mIGUpJiYoZT11KGUpLFwiXCI9PT1zW3MubGVuZ3RoLTFdP3Nbcy5sZW5ndGgtMV09ZTpzLnB1c2goZSkpO2Vsc2UgZT9zW3RdPXUoZSk6cy5zcGxpY2UodCwxKTtyZXR1cm4gbyYmcy51bnNoaWZ0KFwiXCIpLHRoaXMucGF0aChzLmpvaW4ociksaSl9LHkuUXU9ZnVuY3Rpb24odCxlLGkpe3ZhciByLG8scztpZihcIm51bWJlclwiIT10eXBlb2YgdCYmKGk9ZSxlPXQsdD12b2lkIDApLHZvaWQgMD09PWUpe2lmKHI9dGhpcy5DdSh0LGUsaSksYShyKSlmb3Iobz0wLHM9ci5sZW5ndGg7bzxzO28rKylyW29dPW4uZGVjb2RlKHJbb10pO2Vsc2Ugcj12b2lkIDAhPT1yP24uZGVjb2RlKHIpOnZvaWQgMDtyZXR1cm4gcn1pZihhKGUpKWZvcihvPTAscz1lLmxlbmd0aDtvPHM7bysrKWVbb109bi5lbmNvZGUoZVtvXSk7ZWxzZSBlPVwic3RyaW5nXCI9PXR5cGVvZiBlfHxlIGluc3RhbmNlb2YgU3RyaW5nP24uZW5jb2RlKGUpOmU7cmV0dXJuIHRoaXMuQ3UodCxlLGkpfTt2YXIgaz15LnZpO3JldHVybiB5LnZpPWZ1bmN0aW9uKHQsZSl7aWYodD09PSEwKXJldHVybiBuLnl1KHRoaXMuaHAudmksdGhpcy5ocC5mcCk7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgdCl7dmFyIGk9bi55dSh0aGlzLmhwLnZpLHRoaXMuaHAuZnApLHI9dC5jYWxsKHRoaXMsaSk7cmV0dXJuIHRoaXMuaHAudmk9bi5TdShyfHxpLHRoaXMuaHAuZHAsdGhpcy5ocC5mcCksdGhpcy5wcCghZSksdGhpc31yZXR1cm4gdm9pZCAwIT09dCYmXCJzdHJpbmdcIiE9dHlwZW9mIHQ/KHRoaXMuaHAudmk9bi5TdSh0LHRoaXMuaHAuZHAsdGhpcy5ocC5mcCksdGhpcy5wcCghZSksdGhpcyk6ay5jYWxsKHRoaXMsdCxlKX0seS5xdT1mdW5jdGlvbih0LGUsaSl7dmFyIHI9bi55dSh0aGlzLmhwLnZpLHRoaXMuaHAuZnApO2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0fHx0IGluc3RhbmNlb2YgU3RyaW5nKXJbdF09dm9pZCAwIT09ZT9lOm51bGw7ZWxzZXtpZihcIm9iamVjdFwiIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiVVJJLmFkZFF1ZXJ5KCkgYWNjZXB0cyBhbiBvYmplY3QsIHN0cmluZyBhcyB0aGUgbmFtZSBwYXJhbWV0ZXJcIik7Zm9yKHZhciBvIGluIHQpbS5jYWxsKHQsbykmJihyW29dPXRbb10pfXJldHVybiB0aGlzLmhwLnZpPW4uU3Uocix0aGlzLmhwLmRwLHRoaXMuaHAuZnApLFwic3RyaW5nXCIhPXR5cGVvZiB0JiYoaT1lKSx0aGlzLnBwKCFpKSx0aGlzfSx5LkV1PWZ1bmN0aW9uKHQsZSxpKXt2YXIgcj1uLnl1KHRoaXMuaHAudmksdGhpcy5ocC5mcCk7cmV0dXJuIG4uRXUocix0LHZvaWQgMD09PWU/bnVsbDplKSx0aGlzLmhwLnZpPW4uU3Uocix0aGlzLmhwLmRwLHRoaXMuaHAuZnApLFwic3RyaW5nXCIhPXR5cGVvZiB0JiYoaT1lKSx0aGlzLnBwKCFpKSx0aGlzfSx5Lkl1PWZ1bmN0aW9uKHQsZSxpKXt2YXIgcj1uLnl1KHRoaXMuaHAudmksdGhpcy5ocC5mcCk7cmV0dXJuIG4uSXUocix0LGUpLHRoaXMuaHAudmk9bi5TdShyLHRoaXMuaHAuZHAsdGhpcy5ocC5mcCksXCJzdHJpbmdcIiE9dHlwZW9mIHQmJihpPWUpLHRoaXMucHAoIWkpLHRoaXN9LHkuUnU9ZnVuY3Rpb24odCxlLGkpe3ZhciByPW4ueXUodGhpcy5ocC52aSx0aGlzLmhwLmZwKTtyZXR1cm4gbi5SdShyLHQsZSxpKX0seS5KdT15LnF1LHkuS3U9eS5FdSx5Lkd1PXkuSXUseS56dT15LlJ1LHkubm9ybWFsaXplPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaHAudXJuP3RoaXMuWXUoITEpLlZ1KCExKS4kdSghMSkuV3UoITEpLnBwKCk6dGhpcy5ZdSghMSkuWnUoITEpLlh1KCExKS5WdSghMSkuJHUoITEpLld1KCExKS5wcCgpfSx5Lll1PWZ1bmN0aW9uKHQpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiB0aGlzLmhwLnByb3RvY29sJiYodGhpcy5ocC5wcm90b2NvbD10aGlzLmhwLnByb3RvY29sLnRvTG93ZXJDYXNlKCksdGhpcy5wcCghdCkpLHRoaXN9LHkuWnU9ZnVuY3Rpb24oaSl7cmV0dXJuIHRoaXMuaHAuaG9zdG5hbWUmJih0aGlzLmlzKFwiSUROXCIpJiZ0P3RoaXMuaHAuaG9zdG5hbWU9dC50b0FTQ0lJKHRoaXMuaHAuaG9zdG5hbWUpOnRoaXMuaXMoXCJJUHY2XCIpJiZlJiYodGhpcy5ocC5ob3N0bmFtZT1lLmJlc3QodGhpcy5ocC5ob3N0bmFtZSkpLHRoaXMuaHAuaG9zdG5hbWU9dGhpcy5ocC5ob3N0bmFtZS50b0xvd2VyQ2FzZSgpLHRoaXMucHAoIWkpKSx0aGlzfSx5Llh1PWZ1bmN0aW9uKHQpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiB0aGlzLmhwLnByb3RvY29sJiZ0aGlzLmhwLnBvcnQ9PT1uLkVwW3RoaXMuaHAucHJvdG9jb2xdJiYodGhpcy5ocC5wb3J0PW51bGwsdGhpcy5wcCghdCkpLHRoaXN9LHkuVnU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5ocC5wYXRoO2lmKCFlKXJldHVybiB0aGlzO2lmKHRoaXMuaHAudXJuKXJldHVybiB0aGlzLmhwLnBhdGg9bi5sdSh0aGlzLmhwLnBhdGgpLHRoaXMucHAoIXQpLHRoaXM7aWYoXCIvXCI9PT10aGlzLmhwLnBhdGgpcmV0dXJuIHRoaXM7ZT1uLnV1KGUpO3ZhciBpLHIsbyxzPVwiXCI7Zm9yKFwiL1wiIT09ZS5jaGFyQXQoMCkmJihpPSEwLGU9XCIvXCIrZSksXCIvLi5cIiE9PWUuc2xpY2UoLTMpJiZcIi8uXCIhPT1lLnNsaWNlKC0yKXx8KGUrPVwiL1wiKSxlPWUucmVwbGFjZSgvKFxcLyhcXC5cXC8pKyl8KFxcL1xcLiQpL2csXCIvXCIpLnJlcGxhY2UoL1xcL3syLH0vZyxcIi9cIiksaSYmKHM9ZS5zdWJzdHJpbmcoMSkubWF0Y2goL14oXFwuXFwuXFwvKSsvKXx8XCJcIixzJiYocz1zWzBdKSk7Oyl7aWYocj1lLnNlYXJjaCgvXFwvXFwuXFwuKFxcL3wkKS8pLHI9PT0tMSlicmVhazswIT09cj8obz1lLnN1YnN0cmluZygwLHIpLmxhc3RJbmRleE9mKFwiL1wiKSxvPT09LTEmJihvPXIpLGU9ZS5zdWJzdHJpbmcoMCxvKStlLnN1YnN0cmluZyhyKzMpKTplPWUuc3Vic3RyaW5nKDMpfXJldHVybiBpJiZ0aGlzLmlzKFwicmVsYXRpdmVcIikmJihlPXMrZS5zdWJzdHJpbmcoMSkpLHRoaXMuaHAucGF0aD1lLHRoaXMucHAoIXQpLHRoaXN9LHkudGw9eS5WdSx5LiR1PWZ1bmN0aW9uKHQpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiB0aGlzLmhwLnZpJiYodGhpcy5ocC52aS5sZW5ndGg/dGhpcy52aShuLnl1KHRoaXMuaHAudmksdGhpcy5ocC5mcCkpOnRoaXMuaHAudmk9bnVsbCx0aGlzLnBwKCF0KSksdGhpc30seS5XdT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5ocC5scHx8KHRoaXMuaHAubHA9bnVsbCx0aGlzLnBwKCF0KSksdGhpc30seS5lbD15LiR1LHkuaWw9eS5XdSx5LlVwPWZ1bmN0aW9uKCl7dmFyIHQ9bi5lbmNvZGUsZT1uLmRlY29kZTtuLmVuY29kZT1lc2NhcGUsbi5kZWNvZGU9ZGVjb2RlVVJJQ29tcG9uZW50O3RyeXt0aGlzLm5vcm1hbGl6ZSgpfWZpbmFsbHl7bi5lbmNvZGU9dCxuLmRlY29kZT1lfXJldHVybiB0aGlzfSx5LlZwPWZ1bmN0aW9uKCl7dmFyIHQ9bi5lbmNvZGUsZT1uLmRlY29kZTtuLmVuY29kZT1kLG4uZGVjb2RlPXVuZXNjYXBlO3RyeXt0aGlzLm5vcm1hbGl6ZSgpfWZpbmFsbHl7bi5lbmNvZGU9dCxuLmRlY29kZT1lfXJldHVybiB0aGlzfSx5LnJsPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5jbG9uZSgpO2UudXNlcm5hbWUoXCJcIikucGFzc3dvcmQoXCJcIikubm9ybWFsaXplKCk7dmFyIGk9XCJcIjtpZihlLmhwLnByb3RvY29sJiYoaSs9ZS5ocC5wcm90b2NvbCtcIjovL1wiKSxlLmhwLmhvc3RuYW1lJiYoZS5pcyhcInB1bnljb2RlXCIpJiZ0PyhpKz10LnRvVW5pY29kZShlLmhwLmhvc3RuYW1lKSxlLmhwLnBvcnQmJihpKz1cIjpcIitlLmhwLnBvcnQpKTppKz1lLmhvc3QoKSksZS5ocC5ob3N0bmFtZSYmZS5ocC5wYXRoJiZcIi9cIiE9PWUuaHAucGF0aC5jaGFyQXQoMCkmJihpKz1cIi9cIiksaSs9ZS5wYXRoKCEwKSxlLmhwLnZpKXtmb3IodmFyIHI9XCJcIixvPTAscz1lLmhwLnZpLnNwbGl0KFwiJlwiKSxhPXMubGVuZ3RoO288YTtvKyspe3ZhciBjPShzW29dfHxcIlwiKS5zcGxpdChcIj1cIik7cis9XCImXCIrbi5jdShjWzBdLHRoaXMuaHAuZnApLnJlcGxhY2UoLyYvZyxcIiUyNlwiKSx2b2lkIDAhPT1jWzFdJiYocis9XCI9XCIrbi5jdShjWzFdLHRoaXMuaHAuZnApLnJlcGxhY2UoLyYvZyxcIiUyNlwiKSl9aSs9XCI/XCIrci5zdWJzdHJpbmcoMSl9cmV0dXJuIGkrPW4uY3UoZS5oYXNoKCksITApfSx5LmNwPWZ1bmN0aW9uKHQpe3ZhciBlLGkscixvPXRoaXMuY2xvbmUoKSxzPVtcInByb3RvY29sXCIsXCJ1c2VybmFtZVwiLFwicGFzc3dvcmRcIixcImhvc3RuYW1lXCIsXCJwb3J0XCJdO2lmKHRoaXMuaHAudXJuKXRocm93IG5ldyBFcnJvcihcIlVSTnMgZG8gbm90IGhhdmUgYW55IGdlbmVyYWxseSBkZWZpbmVkIGhpZXJhcmNoaWNhbCBjb21wb25lbnRzXCIpO2lmKHQgaW5zdGFuY2VvZiBufHwodD1uZXcgbih0KSksby5ocC5wcm90b2NvbClyZXR1cm4gbztpZihvLmhwLnByb3RvY29sPXQuaHAucHJvdG9jb2wsdGhpcy5ocC5ob3N0bmFtZSlyZXR1cm4gbztmb3IoaT0wO3I9c1tpXTtpKyspby5ocFtyXT10LmhwW3JdO3JldHVybiBvLmhwLnBhdGg/KFwiLi5cIj09PW8uaHAucGF0aC5zdWJzdHJpbmcoLTIpJiYoby5ocC5wYXRoKz1cIi9cIiksXCIvXCIhPT1vLnBhdGgoKS5jaGFyQXQoMCkmJihlPXQuVXUoKSxlPWU/ZTowPT09dC5wYXRoKCkuaW5kZXhPZihcIi9cIik/XCIvXCI6XCJcIixvLmhwLnBhdGg9KGU/ZStcIi9cIjpcIlwiKStvLmhwLnBhdGgsby5WdSgpKSk6KG8uaHAucGF0aD10LmhwLnBhdGgsby5ocC52aXx8KG8uaHAudmk9dC5ocC52aSkpLG8ucHAoKSxvfSx5Lm5sPWZ1bmN0aW9uKHQpe3ZhciBlLGkscixvLHMsYT10aGlzLmNsb25lKCkubm9ybWFsaXplKCk7aWYoYS5ocC51cm4pdGhyb3cgbmV3IEVycm9yKFwiVVJOcyBkbyBub3QgaGF2ZSBhbnkgZ2VuZXJhbGx5IGRlZmluZWQgaGllcmFyY2hpY2FsIGNvbXBvbmVudHNcIik7aWYodD1uZXcgbih0KS5ub3JtYWxpemUoKSxlPWEuaHAsaT10LmhwLG89YS5wYXRoKCkscz10LnBhdGgoKSxcIi9cIiE9PW8uY2hhckF0KDApKXRocm93IG5ldyBFcnJvcihcIlVSSSBpcyBhbHJlYWR5IHJlbGF0aXZlXCIpO2lmKFwiL1wiIT09cy5jaGFyQXQoMCkpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNhbGN1bGF0ZSBhIFVSSSByZWxhdGl2ZSB0byBhbm90aGVyIHJlbGF0aXZlIFVSSVwiKTtpZihlLnByb3RvY29sPT09aS5wcm90b2NvbCYmKGUucHJvdG9jb2w9bnVsbCksZS51c2VybmFtZSE9PWkudXNlcm5hbWV8fGUucGFzc3dvcmQhPT1pLnBhc3N3b3JkKXJldHVybiBhLnBwKCk7aWYobnVsbCE9PWUucHJvdG9jb2x8fG51bGwhPT1lLnVzZXJuYW1lfHxudWxsIT09ZS5wYXNzd29yZClyZXR1cm4gYS5wcCgpO2lmKGUuaG9zdG5hbWUhPT1pLmhvc3RuYW1lfHxlLnBvcnQhPT1pLnBvcnQpcmV0dXJuIGEucHAoKTtpZihlLmhvc3RuYW1lPW51bGwsZS5wb3J0PW51bGwsbz09PXMpcmV0dXJuIGUucGF0aD1cIlwiLGEucHAoKTtpZihyPW4uT3UobyxzKSwhcilyZXR1cm4gYS5wcCgpO3ZhciBjPWkucGF0aC5zdWJzdHJpbmcoci5sZW5ndGgpLnJlcGxhY2UoL1teXFwvXSokLyxcIlwiKS5yZXBsYWNlKC8uKj9cXC8vZyxcIi4uL1wiKTtyZXR1cm4gZS5wYXRoPWMrZS5wYXRoLnN1YnN0cmluZyhyLmxlbmd0aCl8fFwiLi9cIixhLnBwKCl9LHkub2w9ZnVuY3Rpb24odCl7dmFyIGUsaSxyLG89dGhpcy5jbG9uZSgpLHM9bmV3IG4odCksYz17fSxoPXt9LHU9e307aWYoby5ub3JtYWxpemUoKSxzLm5vcm1hbGl6ZSgpLG8udG9TdHJpbmcoKT09PXMudG9TdHJpbmcoKSlyZXR1cm4hMDtpZihlPW8udmkoKSxpPXMudmkoKSxvLnZpKFwiXCIpLHMudmkoXCJcIiksby50b1N0cmluZygpIT09cy50b1N0cmluZygpKXJldHVybiExO2lmKGUubGVuZ3RoIT09aS5sZW5ndGgpcmV0dXJuITE7Yz1uLnl1KGUsdGhpcy5ocC5mcCksaD1uLnl1KGksdGhpcy5ocC5mcCk7Zm9yKHIgaW4gYylpZihtLmNhbGwoYyxyKSl7aWYoYShjW3JdKSl7aWYoIXAoY1tyXSxoW3JdKSlyZXR1cm4hMX1lbHNlIGlmKGNbcl0hPT1oW3JdKXJldHVybiExO3Vbcl09ITB9Zm9yKHIgaW4gaClpZihtLmNhbGwoaCxyKSYmIXVbcl0pcmV0dXJuITE7cmV0dXJuITB9LHkuZHA9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuaHAuZHA9ISF0LHRoaXN9LHkuZnA9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuaHAuZnA9ISF0LHRoaXN9LG59KX0sZnVuY3Rpb24odCxlLGkpey8qISB1dWlkLmpzXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTAtMjAxMiBSb2JlcnQgS2llZmZlclxuICogTUlUIExpY2Vuc2UgLSBodHRwOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG4gKi9cbiAgIWZ1bmN0aW9uKGUpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIoKXt2YXIgdD1lLmNyeXB0b3x8ZS5tc0NyeXB0bztpZighaCYmdCYmdC5nZXRSYW5kb21WYWx1ZXMpdHJ5e3ZhciBpPW5ldyBVaW50OEFycmF5KDE2KTtsPWg9ZnVuY3Rpb24oKXtyZXR1cm4gdC5nZXRSYW5kb21WYWx1ZXMoaSksaX0saCgpfWNhdGNoKHIpe31pZighaCl7dmFyIG49bmV3IEFycmF5KDE2KTtwPWg9ZnVuY3Rpb24oKXtmb3IodmFyIHQsZT0wO2U8MTY7ZSsrKTA9PT0oMyZlKSYmKHQ9NDI5NDk2NzI5NipNYXRoLnJhbmRvbSgpKSxuW2VdPXQ+Pj4oKDMmZSk8PDMpJjI1NTtyZXR1cm4gbn0sXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGNvbnNvbGUmJmNvbnNvbGUud2FybiYmY29uc29sZS53YXJuKFwiW1NFQ1VSSVRZXSBub2RlLXV1aWQ6IGNyeXB0byBub3QgdXNhYmxlLCBmYWxsaW5nIGJhY2sgdG8gaW5zZWN1cmUgTWF0aC5yYW5kb20oKVwiKX19ZnVuY3Rpb24gbigpe3RyeXt2YXIgdD1pKDMzKS5yYW5kb21CeXRlczt1PWg9dCYmZnVuY3Rpb24oKXtyZXR1cm4gdCgxNil9LGgoKX1jYXRjaChlKXt9fWZ1bmN0aW9uIG8odCxlLGkpe3ZhciByPWUmJml8fDAsbj0wO2ZvcihlPWV8fFtdLHQudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9bMC05YS1mXXsyfS9nLGZ1bmN0aW9uKHQpe248MTYmJihlW3IrbisrXT12W3RdKX0pO248MTY7KWVbcituKytdPTA7cmV0dXJuIGV9ZnVuY3Rpb24gcyh0LGUpe3ZhciBpPWV8fDAscj1nO3JldHVybiByW3RbaSsrXV0rclt0W2krK11dK3JbdFtpKytdXStyW3RbaSsrXV0rXCItXCIrclt0W2krK11dK3JbdFtpKytdXStcIi1cIityW3RbaSsrXV0rclt0W2krK11dK1wiLVwiK3JbdFtpKytdXStyW3RbaSsrXV0rXCItXCIrclt0W2krK11dK3JbdFtpKytdXStyW3RbaSsrXV0rclt0W2krK11dK3JbdFtpKytdXStyW3RbaSsrXV19ZnVuY3Rpb24gYSh0LGUsaSl7dmFyIHI9ZSYmaXx8MCxuPWV8fFtdO3Q9dHx8e307dmFyIG89bnVsbCE9dC5jbG9ja3NlcT90LmNsb2Nrc2VxOlQsYT1udWxsIT10Lm1zZWNzP3QubXNlY3M6KG5ldyBEYXRlKS5nZXRUaW1lKCksYz1udWxsIT10Lm5zZWNzP3QubnNlY3M6YisxLGg9YS1TKyhjLWIpLzFlNDtpZihoPDAmJm51bGw9PXQuY2xvY2tzZXEmJihvPW8rMSYxNjM4MyksKGg8MHx8YT5TKSYmbnVsbD09dC5uc2VjcyYmKGM9MCksYz49MWU0KXRocm93IG5ldyBFcnJvcihcInV1aWQudjEoKTogQ2FuJ3QgY3JlYXRlIG1vcmUgdGhhbiAxME0gdXVpZHMvc2VjXCIpO1M9YSxiPWMsVD1vLGErPTEyMjE5MjkyOGU1O3ZhciBwPSgxZTQqKDI2ODQzNTQ1NSZhKStjKSU0Mjk0OTY3Mjk2O25bcisrXT1wPj4+MjQmMjU1LG5bcisrXT1wPj4+MTYmMjU1LG5bcisrXT1wPj4+OCYyNTUsbltyKytdPTI1NSZwO3ZhciB1PWEvNDI5NDk2NzI5NioxZTQmMjY4NDM1NDU1O25bcisrXT11Pj4+OCYyNTUsbltyKytdPTI1NSZ1LG5bcisrXT11Pj4+MjQmMTV8MTYsbltyKytdPXU+Pj4xNiYyNTUsbltyKytdPW8+Pj44fDEyOCxuW3IrK109MjU1Jm87Zm9yKHZhciBsPXQubm9kZXx8dyxkPTA7ZDw2O2QrKyluW3IrZF09bFtkXTtyZXR1cm4gZT9lOnMobil9ZnVuY3Rpb24gYyh0LGUsaSl7dmFyIHI9ZSYmaXx8MDtcInN0cmluZ1wiPT10eXBlb2YgdCYmKGU9XCJiaW5hcnlcIj09PXQ/bmV3IGYoMTYpOm51bGwsdD1udWxsKSx0PXR8fHt9O3ZhciBuPXQucmFuZG9tfHwodC5ybmd8fGgpKCk7aWYobls2XT0xNSZuWzZdfDY0LG5bOF09NjMmbls4XXwxMjgsZSlmb3IodmFyIG89MDtvPDE2O28rKyllW3Irb109bltvXTtyZXR1cm4gZXx8cyhuKX12YXIgaCxwLHUsbCxkO2U/cigpOm4oKTtmb3IodmFyIGY9XCJmdW5jdGlvblwiPT10eXBlb2YgQnVmZmVyP0J1ZmZlcjpBcnJheSxnPVtdLHY9e30seT0wO3k8MjU2O3krKylnW3ldPSh5KzI1NikudG9TdHJpbmcoMTYpLnN1YnN0cigxKSx2W2dbeV1dPXk7dmFyIG09aCgpLHc9WzF8bVswXSxtWzFdLG1bMl0sbVszXSxtWzRdLG1bNV1dLFQ9MTYzODMmKG1bNl08PDh8bVs3XSksUz0wLGI9MCxFPWM7RS5zbD1hLEUuWmg9YyxFLnBhcnNlPW8sRS5hbD1zLEUuY2w9ZixFLmhsPWgsRS5wbD1wLEUudWw9dSxFLmxsPWwsXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHQmJnQudD90LnQ9RTooZD1lLmRsLEUuZ2U9ZnVuY3Rpb24oKXtyZXR1cm4gZS5kbD1kLEV9LGUuZGw9RSl9KFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Om51bGwpfSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHIsbj10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBpKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWZvcih2YXIgciBpbiBlKWUuaGFzT3duUHJvcGVydHkocikmJih0W3JdPWVbcl0pO3QucHJvdG90eXBlPW51bGw9PT1lP09iamVjdC5jcmVhdGUoZSk6KGkucHJvdG90eXBlPWUucHJvdG90eXBlLG5ldyBpKX0sbz1pKDExKTshZnVuY3Rpb24odCl7dmFyIGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0fSgpO2UuRGFzaEZpbHRlckJpdHJhdGVzPW51bGwsZS5EYXNoUmVtb3ZlQml0cmF0ZVNpemU9ITEsdC5EYXNoPWU7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0fSgpO2kuZmw9ITAsdC5TdGF0cz1pO3ZhciByPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gbnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBuKGUsdCksZX0oby5IaXZlQ29uZmlnLkRlYnVnTG9ncyk7ci5nbD0wLHQuRGVidWdMb2dzPXI7dmFyIHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0fSgpO3MudXNpej1udWxsLHQuVURQQnJvYWRjYXN0PXN9KHI9ZS5IaXZlQ29uZmlnfHwoZS5IaXZlQ29uZmlnPXt9KSksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiB3aW5kb3cuSGl2ZUNvbmZpZyYmKHdpbmRvdy5IaXZlQ29uZmlnPXt9KSx3aW5kb3cuSGl2ZUNvbmZpZy5EYXNoPXIuRGFzaCx3aW5kb3cuSGl2ZUNvbmZpZy5TdGF0cz1yLlN0YXRzLHdpbmRvdy5IaXZlQ29uZmlnLlVEUEJyb2FkY2FzdD1yLlVEUEJyb2FkY2FzdCx3aW5kb3cuSGl2ZUNvbmZpZy5EZWJ1Z0xvZ3M9ci5EZWJ1Z0xvZ3MpfSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHIsbj1pKDExKSxvPWkoNCkscz1vLnZlOyFmdW5jdGlvbih0KXt2YXIgZTshZnVuY3Rpb24odCl7dFt0Lm9mZj0wXT1cIm9mZlwiLHRbdC5lcnJvcj0xXT1cImVycm9yXCIsdFt0Lndhcm49Ml09XCJ3YXJuXCIsdFt0Lm5vdGljZT0zXT1cIm5vdGljZVwiLHRbdC5pbmZvPTRdPVwiaW5mb1wiLHRbdC5kZWJ1Zz01XT1cImRlYnVnXCIsdFt0LnRyYWNlPTZdPVwidHJhY2VcIn0oZT10LnZsfHwodC52bD17fSkpO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3RoaXMudGltZXN0YW1wPWZ1bmN0aW9uKCl7fSx0aGlzLnlsPW5ldyBzLHRoaXMubGV2ZWw9ZS5kZWJ1Zyx0aGlzLnRpbWVzdGFtcC50b1N0cmluZz1mdW5jdGlvbigpe3ZhciB0PW5ldyBEYXRlLGU9KFwiMFwiK3QuZ2V0VVRDSG91cnMoKSkuc2xpY2UoLTIpK1wiOlwiKyhcIjBcIit0LmdldFVUQ01pbnV0ZXMoKSkuc2xpY2UoLTIpK1wiOlwiKyhcIjBcIit0LmdldFVUQ1NlY29uZHMoKSkuc2xpY2UoLTIpK1wiOlwiK3QuZ2V0VVRDTWlsbGlzZWNvbmRzKCk7cmV0dXJuXCJbXCIrZStcIl1cIn0sdGhpcy5tPVwidW5kZWZpbmVkXCI9PXR5cGVvZiBjb25zb2xlP3tsb2c6ZnVuY3Rpb24oKXt9fTpjb25zb2xlLHRoaXMubS50cmFjZXx8KHRoaXMubS50cmFjZT10aGlzLm0ubG9nKSx0aGlzLm0uZGVidWd8fCh0aGlzLm0uZGVidWc9dGhpcy5tLmxvZyksdGhpcy5tLmluZm98fCh0aGlzLm0uaW5mbz10aGlzLm0ubG9nKSx0aGlzLm0ud2Fybnx8KHRoaXMubS53YXJuPXRoaXMubS5sb2cpLHRoaXMubS5lcnJvcnx8KHRoaXMubS5lcnJvcj10aGlzLm0ubG9nKSx0aGlzLm1sKGVbdGhpcy5sZXZlbF0pfXJldHVybiB0LnByb3RvdHlwZS5tbD1mdW5jdGlvbih0LGkpe24uSGl2ZUNvbmZpZy5GcmFtZXdvcmsuSGl2ZURlYnVnTGV2ZWwmJnZvaWQgMCE9ZVtuLkhpdmVDb25maWcuRnJhbWV3b3JrLkhpdmVEZWJ1Z0xldmVsXT90aGlzLmxldmVsPWVbbi5IaXZlQ29uZmlnLkZyYW1ld29yay5IaXZlRGVidWdMZXZlbF06dm9pZCAwIT1lW3RdP3RoaXMubGV2ZWw9ZVt0XTpjb25zb2xlLmxvZyhcIldyb25nIGxvZ2dpbmcgbGV2ZWw6IFwiK3QsZSksdGhpcy53bChpKX0sdC5wcm90b3R5cGUud2w9ZnVuY3Rpb24odCl7dmFyIGk9e2xvZzp0aGlzLlRsKHRoaXMubS5sb2csZS5lcnJvcix0KSxlcnJvcjp0aGlzLlRsKHRoaXMubS5lcnJvcixlLmVycm9yLHQpLHdhcm46dGhpcy5UbCh0aGlzLm0ud2FybixlLndhcm4sdCksbm90aWNlOnRoaXMuVGwodGhpcy5tLmluZm8sZS5ub3RpY2UsdCksaW5mbzp0aGlzLlRsKHRoaXMubS5pbmZvLGUuaW5mbyx0KSxkZWJ1Zzp0aGlzLlRsKHRoaXMubS5kZWJ1ZyxlLmRlYnVnLHQpLHRyYWNlOnRoaXMuVGwodGhpcy5tLnRyYWNlLGUudHJhY2UsdCl9O3Q/dGhpcy55bC5zZXQodCxpKTp0aGlzLlNsPWl9LHQucHJvdG90eXBlLlRsPWZ1bmN0aW9uKHQsZSxpKXtpZighKHRoaXMubGV2ZWw+PWUpKXJldHVybiBmdW5jdGlvbigpe307dHJ5e3JldHVybiBuLkhpdmVDb25maWcuRnJhbWV3b3JrLkxvZ2dlclRpbWVzdGFtcD9pP0Z1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmNhbGwodCxjb25zb2xlLFwiJXMgJXNcIix0aGlzLnRpbWVzdGFtcCxpKTpGdW5jdGlvbi5wcm90b3R5cGUuYmluZC5jYWxsKHQsY29uc29sZSxcIiVzXCIsdGhpcy50aW1lc3RhbXApOkZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmNhbGwodCxjb25zb2xlKX1jYXRjaChyKXt9fSx0LnByb3RvdHlwZS5sb2c9ZnVuY3Rpb24odCl7cmV0dXJuIHQ/KHRoaXMueWwuaGFzKHQpfHx0aGlzLm1sKGVbdGhpcy5sZXZlbF0sdCksdGhpcy55bC5nZXQodCkpOnRoaXMuU2x9LHR9KCk7dC5ibD1pfShyPWUuRWx8fChlLkVsPXt9KSl9LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1pKDQpLG49ci52ZSxvPWkoMSkscz1pKDIpLGE9aSg0MCksYz1pKDQ5KSxoPWkoMTcpLHA9aSgxMSksdT1pKDcpLGw9aSg0MiksZD1pKDkpLGY9aSgzNyksZz1pKDUpLHY9aSg1MCkseT1pKDQ4KSxtPWkoMjcpLHc9aSgxOSksVD1pKDIwKSxTPWkoMTgpLGI9YS5wdC5JcixFPWMucHQuSWwsST1oLnB0LnVoLFI9aC5wdC5DaCxrPWgucHQuSGl2ZVRlY2hFcnJvcixDPWgucHQuYmgsTz1oLnB0LkFoO2UudmVyc2lvbj1cIjMuMi4wXCI7dmFyIFA7IWZ1bmN0aW9uKHQpe3ZhciByPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLlJsPVtFW0UuSGl2ZUphdmFdLEVbRS5IaXZlSnNQcm94eV0sRVtFLkhpdmVKU10sRVtFLlN0YXRzSlNdXSx0aGlzLmtsPW5ldyBuLHRoaXMuQ2w9bmV3IEFycmF5LHRoaXMuT2w9bmV3IEFycmF5LHRoaXMuUGw9bnVsbCx0aGlzLkFsPTAsdGhpcy5ObD0wLHRoaXMudT1cIltIaXZlQ29tbV0gXCIsdGhpcy54bD0wLHRoaXMuQmw9dS5hci5nZXRJdGVtKFwiaGl2ZVBsdWdpbklkXCIpLHRoaXMuQmx8fCh0aGlzLkJsPU1hdGguYWJzKE1hdGguZmxvb3IoNjg3MTk0NzY3MzYqTWF0aC5yYW5kb20oKSkpLnRvU3RyaW5nKDE2KSx1LmFyLnNldEl0ZW0oXCJoaXZlUGx1Z2luSWRcIix0aGlzLkJsKSksdy5FcnJvck1vbml0b3IuV2koKSx0aGlzLm9wdGlvbnNfPW5ldyBiLkZsLHRoaXMuX2wodCksdS5ucih0LHRoaXMub3B0aW9uc18pLHUub3Iod2luZG93LmxvY2F0aW9uLmhyZWYsbmV3IGIuRGwsdGhpcy5vcHRpb25zXyksYS5MbC5IbCh0aGlzLm9wdGlvbnNfKSx0aGlzLmZvPXMuRnJhbWV3b3JrLnJlc29sdmUocy5GcmFtZXdvcmsuRmUud2UpLHAuSGl2ZUNvbmZpZy5GcmFtZXdvcmsuTG9nZ2VyVGltZXN0YW1wPXRoaXMub3B0aW9ucygpLmxvZ2dlclRpbWVzdGFtcCx0aGlzLmZvLm1sKHRoaXMub3B0aW9ucygpLmRlYnVnTGV2ZWwpLHcuRXJyb3JNb25pdG9yLldpKCkuTGgodGhpcy5mby5sb2coKSk7dmFyIGU9cy5GcmFtZXdvcmsucmVzb2x2ZShnLmdpLkNlKSxpPXMuRnJhbWV3b3JrLnJlc29sdmUoZy5naS5jaSk7ZS5LbygpLnRoZW4oZnVuY3Rpb24odCl7dy5FcnJvck1vbml0b3IuV2koKS5zZXRVc2VyKHQuV28oKSl9KTt2YXIgcj17fTtpLlBuKCkudGhlbihmdW5jdGlvbih0KXtyPXtwSVBBZGRyOnQuTm4oKS5CbigpfSx3LkVycm9yTW9uaXRvci5XaSgpLnNldEN1c3RvbURhdGEocil9KSx3aW5kb3cudm89dGhpcy5mby5sb2coKSx0aGlzLk1sKCksdGhpcy5qbD1uZXcgTyh0aGlzKSxuZXcgbC5VbCh0aGlzKTt2YXIgbz10aGlzLm9wdGlvbnMoKS5pZGxlVGltZVBlcmlvZD50aGlzLm9wdGlvbnMoKS5mZWVkYmFja1BlcmlvZD90aGlzLm9wdGlvbnMoKS5pZGxlVGltZVBlcmlvZDpTLmtlLnhoO3RoaXMuVmw9bmV3IHUudnIobyl9cmV0dXJuIHQucHJvdG90eXBlLm9wdGlvbnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcHRpb25zX30sdC5wcm90b3R5cGUubT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmZvLmxvZygpfSx0LnByb3RvdHlwZS5TPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuQmx9LHQucHJvdG90eXBlLmN0PWZ1bmN0aW9uKCl7cmV0dXJuIGUudmVyc2lvbn0sdC5wcm90b3R5cGUuUWw9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MCxlPXRoaXMuT2w7dDxlLmxlbmd0aDt0Kyspe3ZhciBpPWVbdF07aS50ZWNoLnFsKHRoaXMpfX0sdC5wcm90b3R5cGUuX2w9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IHkuU3RhdHNKUyh0aGlzLHQpO3RoaXMua2wuc2V0KHkuU3RhdHNKUy5KbCxlKTt2YXIgcj1pKDQzKS5IaXZlSmF2YTt0aGlzLmtsLnNldChyLkpsLG5ldyByKHRoaXMsdCkpO3ZhciBuPXQuaGl2ZVRlY2hPcmRlcjtpZighbnx8biBpbnN0YW5jZW9mIEFycmF5KWlmKG4mJm4ubGVuZ3RoPjApZm9yKHZhciBvPW4ubGVuZ3RoO28tLTspe3ZhciBzPW5bb107XCJzdHJpbmdcIiE9dHlwZW9mIHN8fHRoaXMuUmwuaW5kZXhPZihzKT09LTE/KGNvbnNvbGUud2Fybih0aGlzLnUrJ1RoZSBcIicrcysnXCIgSGl2ZSB0ZWNoIGlzIHVuZGVmaW5lZCcpLG4uc3BsaWNlKG8sMSkpOlwic3RyaW5nXCI9PXR5cGVvZiBzJiZ0aGlzLmtsLmhhcyhzKXx8Y29uc29sZS53YXJuKHRoaXMudSsnVGhlIFwiJytzKydcIiBIaXZlIHRlY2ggaXMgbm90IGVuYWJsZWQgb24gdGhpcyBwbHVnaW4nKX1lbHNlIG49dGhpcy5SbDtlbHNlIGNvbnNvbGUud2Fybih0aGlzLnUrXCJoaXZlVGVjaE9yZGVyIHZhbHVlIG5vdCBhY2NlcHRlZC4gSXQgbXVzdCBiZSBhbiBhcnJheSBvZiBzdHJpbmdzXCIpLG49dGhpcy5SbDt0LmhpdmVUZWNoT3JkZXI9bn0sdC5wcm90b3R5cGUucD1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3RoaXMubSgpLm5vdGljZSh0aGlzLnUrXCJyZXNvbHZpbmcgXCIrdCksdGhpcy5LbCh0KTt2YXIgaT1vLmRlZmVyKCkscj10aGlzLkdsKCkudmFsdWVzKCk7MD09ci5sZW5ndGgmJmkucmVqZWN0KHUuc3IodCxJLnNoKSk7dmFyIG4scyxhPSExLGM9ITEsaD0wLHA9bnVsbDtyZXR1cm4gdS5YaShmdW5jdGlvbigpe3JldHVybiFhJiYhYyYmaDxyLmxlbmd0aCYmIW59LGZ1bmN0aW9uKCl7dmFyIGk9cltoKytdO2kuemwoKTt2YXIgdTtyZXR1cm4gdT1pLldsKCkmJiFzP2UuJGwodCk6by5yZXNvbHZlKG51bGwpLHUudGhlbihmdW5jdGlvbihyKXtudWxsIT1yJiYocz1yKTt2YXIgbj1pLllsKCk7cmV0dXJuIGkuaW5pdFNlc3Npb24odCxzKS50aW1lb3V0KG4sXCJbXCIraS5BaSgpK1wiXSBFcnJvcjogaW5pdGlhbGl6YXRpb24gdGltZWQgb3V0IGFmdGVyIFwiK24rXCJtc1wiKS50aGVuKGZ1bmN0aW9uKHQpe3A9dCxlLlhsKHAsaSksYT0hMCwhaS5XbCgpJiZzJiZzLlFuLnJlc2V0KCksZS5tKCkubm90aWNlKGUudStcImluaXRpYWxpemluZyBTZXNzaW9uOltcIitwLmlkK1wiXSBUaWNrZXQ6XCIrcC50aWNrZXQudG9TdHJpbmcoKStcIiBIaXZlVGVjaDpbXCIrcC50ZWNoLkFpKCkrXCJdXCIpLG8ucmVzb2x2ZSghMCl9LGZ1bmN0aW9uKHIpe3IgaW5zdGFuY2VvZiBFcnJvciYmKHI9bmV3IGsoQy5TaCxyLm1lc3NhZ2UpLGkuWmwocikpLHIudGlja2V0VXJsPXQsYz0haS5vbkVycm9yKHIpLGUubSgpLmRlYnVnKGUudStcInRlY2ggXCIraS5BaSgpK1wiOiBcIityLm1lc3NhZ2UpLG8ucmVzb2x2ZSghMCl9KX0sZnVuY3Rpb24odCl7bj10LG8ucmVzb2x2ZSghMCl9KX0pLnRoZW4oZnVuY3Rpb24oKXtuP2kucmVqZWN0KHUuc3IodCxJLnBoLG4pKTpjP2kucmVqZWN0KHUuc3IodCxJLmhoKSk6YT9pLnJlc29sdmUocCk6aS5yZWplY3QodS5zcih0LEkuc2gpKX0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24oZSl7dy5FcnJvck1vbml0b3IuV2koKS5faChlKSxpLnJlamVjdCh1LnNyKHQsSS5vaCxlLnRvU3RyaW5nKCkpKX0pLmRvbmUoKSxpLnZ0fSx0LnByb3RvdHlwZS4kbD1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3JldHVybiBtLkhpdmUuUmVwb3J0aW5nKCkuaW5pdFNlc3Npb24odCwhMSkudGhlbihmdW5jdGlvbihpKXtyZXR1cm4gZS5tKCkuZGVidWcoZS51K1widmVyaWZpZWQgdGlja2V0IFwiK3QpLGUuaG4oaSksaX0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24odCl7cmV0dXJuIG8ucmVqZWN0KFwiVGlja2V0IG5vdCB2ZXJpZmllZCwgZXJyb3I6IFwiK3QubWVzc2FnZSl9KX0sdC5wcm90b3R5cGUuR2w9ZnVuY3Rpb24oKXt2YXIgdD1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMub3B0aW9ucygpLmhpdmVUZWNoT3JkZXIpKSxlPW5ldyBuO2Zvcih2YXIgaSBpbiB0KXRoaXMua2wuaGFzKHRbaV0pJiZlLnNldCh0W2ldLHRoaXMua2wuZ2V0KHRbaV0pKTtyZXR1cm4gZX0sdC5wcm90b3R5cGUuS2w9ZnVuY3Rpb24odCl7dmFyIGU9dy5FcnJvck1vbml0b3IuV2koKTt0cnl7dmFyIGk9bmV3IFQuYXA7aS5LaCh0KSxpLmJuKCkmJmkuRW4oKSYmaS5lcygpP2Uuc2V0VGFncyhbaS5ibigpLGkuRW4oKSxpLmVzKCldKTplLl9oKHRoaXMudStcIiBUaWNrZXQgbm90IHZhbGlkLCB3ZSBjb3VsZCBub3QgcmVzb2x2ZSB0aGUgdHJpcGxlIHBhcnRuZXJJZC9DdXN0b21lcklkL0NvbnRlbnRJZDogXCIraS5ibigpK1wiL1wiK2kuRW4oKStcIi9cIitpLmVzKCkpfWNhdGNoKHIpe3RoaXMubSgpLndhcm4odGhpcy51K1wiIFwiK3IubWVzc2FnZSxyKSxlLm5vdGlmeShyKX19LHQucHJvdG90eXBlLmhuPWZ1bmN0aW9uKHQpe3ZhciBpPXtjb21tVmVyc2lvbjplLnZlcnNpb24scGx1Z2luTmFtZTp0aGlzLlQoKSxwbHVnaW5WZXJzaW9uOnRoaXMuSSgpLHBsYXllclRlY2g6dGhpcy5odCgpLHBsYXllclZlcnNpb246dGhpcy5xKCksdGVsZW1ldHJ5SWQ6dGhpcy50ZCgpfTt0LlFuLmhuKGkpfSx0LnByb3RvdHlwZS52PWZ1bmN0aW9uKCl7d2luZG93LkhpdmVSZXF1ZXN0PVhNTEh0dHBSZXF1ZXN0LHUuSGl2ZVJlcXVlc3RGYWN0b3J5LmNsZWFyKCksbS5IaXZlLlJlcG9ydGluZygpLmNsb3NlKCl9LHQucHJvdG90eXBlLmVkPWZ1bmN0aW9uKHQpe3RoaXMuUGwmJnRoaXMuUGwudGVjaD8odC5zZXNzaW9uSWQ9dGhpcy5QbC5pZCx0aGlzLlBsLnRlY2gud24odGhpcy5QbCx0KSk6dGhpcy5DbC5wdXNoKHQpfSx0LnByb3RvdHlwZS5yZD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuQ2w7cmV0dXJuIHRoaXMuQ2w9bmV3IEFycmF5LHR9LHQucHJvdG90eXBlLk1sPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPXdpbmRvdztlLmFkZEV2ZW50TGlzdGVuZXI/ZS5hZGRFdmVudExpc3RlbmVyKFwiYmVmb3JldW5sb2FkXCIsZnVuY3Rpb24oKXt0Lm5kKCEwKX0sITEpOmUuYXR0YWNoRXZlbnQoXCJvbmJlZm9yZXVubG9hZFwiLGZ1bmN0aW9uKCl7dC5uZCghMCl9KX0sdC5wcm90b3R5cGUuaD1mdW5jdGlvbih0KXt0aGlzLm5kKHQpLHRoaXMuUGw9bnVsbCx0aGlzLk9sPW5ldyBBcnJheSx0aGlzLkFsPTAsdGhpcy5ObD0wLHRoaXMub2QoKX0sdC5wcm90b3R5cGUuWGw9ZnVuY3Rpb24odCxlKXt0LnRlY2g9ZSx0aGlzLk9sLnB1c2godCl9LHQucHJvdG90eXBlLlI9ZnVuY3Rpb24odCl7aWYobnVsbD09dGhpcy5QbCl7Zm9yKHZhciBlPXQ/dDp0aGlzLml0KCksaT0wO2k8dGhpcy5PbC5sZW5ndGg7aSsrKXt2YXIgcj10aGlzLk9sW2ldO2lmKHIuc3QoZSkpcmV0dXJuIHRoaXMuUGw9cix0aGlzLlBsLlJpP3RoaXMuUGwuUmkuX28uc2QodGhpcy5QbC50aWNrZXQpOnRoaXMuYWQoKSx0aGlzLk9sPW5ldyBBcnJheSx0aGlzLlBsLnRlY2gub25BY3RpdmVTZXNzaW9uKHRoaXMuUGwpLHRoaXMubSgpLm5vdGljZSh0aGlzLnUrXCJhY3RpdmF0aW5nIFNlc3Npb246W1wiK3RoaXMuUGwuaWQrXCJdIFRpY2tldDpcIit0aGlzLlBsLnRpY2tldC50b1N0cmluZygpK1wiIEhpdmVUZWNoOltcIit0aGlzLlBsLnRlY2guQWkoKStcIl1cIiksdGhpcy5oZCgpLCEwfXRoaXMubSgpLndhcm4odGhpcy51K1wiQ2xvc2luZyBzZXNzaW9ucyAtIHRoZSBhY3RpdmUgc3RyZWFtIGRvZXNuJ3QgbWF0Y2ggYW55IGluaXRpYWxpemVkIHNlc3Npb25zXCIpLHRoaXMubSgpLndhcm4odGhpcy51K1wiQWN0aXZlOlwiK2UrXCIgLSBpbml0aWFsaXplZDogXCIrdGhpcy5PbC5sZW5ndGgpLHRoaXMuaCgpfXJldHVybiExfSx0LnByb3RvdHlwZS5DPWZ1bmN0aW9uKCl7aWYodGhpcy5QbClyZXR1cm4gdGhpcy5QbC5nKCl9LHQucHJvdG90eXBlLmFkPWZ1bmN0aW9uKCl7dmFyIHQ9ITE7dGhpcy5PbC5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UuUmkmJih0PSEwKX0pLHQmJm0uSGl2ZS5SZXBvcnRpbmcoKS5jbG9zZSgpfSx0LnByb3RvdHlwZS5wZD1mdW5jdGlvbigpe2lmKG51bGwhPXRoaXMuUGwpe2lmKHRoaXMuUGwuc3QodGhpcy5pdCgpKSlyZXR1cm4hMDt0aGlzLm0oKS53YXJuKHRoaXMudStcIlNlc3Npb24gc3JjIG1pc21hdGNoOiBcIit0aGlzLml0KCkrXCIgIT0gXCIrdGhpcy5QbC5tYW5pZmVzdCksdGhpcy5oKCl9cmV0dXJuITF9LHQucHJvdG90eXBlLm5kPWZ1bmN0aW9uKHQpe2lmKG51bGwhPXRoaXMuUGwpdGhpcy5tKCkubm90aWNlKHRoaXMudStcIlN0b3BwaW5nIHNlc3Npb24gW1wiK3RoaXMuUGwuaWQrXCJdXCIpLHRoaXMuUGwuY2xvc2UodCk7ZWxzZSBpZih0aGlzLk9sLmxlbmd0aD4wKXt2YXIgZT10aGlzLk9sWzBdO3RoaXMubSgpLm5vdGljZSh0aGlzLnUrXCJBdHRlbXB0IHRvIHN0b3BwaW5nIHNlc3Npb24gW1wiK2UuaWQrXCJdXCIpLGUuY2xvc2UodCl9fSx0LnByb3RvdHlwZS5oZD1mdW5jdGlvbigpe3ZhciB0PXRoaXM7bnVsbD09dGhpcy51ZCYmKHRoaXMudWQ9c2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXt0LmxkKCl9LHRoaXMub3B0aW9ucygpLmZlZWRiYWNrUGVyaW9kKSx0aGlzLmxkKCkpfSx0LnByb3RvdHlwZS5vZD1mdW5jdGlvbigpe2NsZWFySW50ZXJ2YWwodGhpcy51ZCksdGhpcy51ZD1udWxsfSx0LnByb3RvdHlwZS5sZD1mdW5jdGlvbigpe3ZhciB0PXRoaXM7aWYodGhpcy5wZCgpKXtpZighdGhpcy5zdCgpKXJldHVybiB2b2lkIHRoaXMuaCgpO3ZhciBlPW5ldyB1LkZpO2UubHI9dGhpcy5nZXRDdXJyZW50VGltZSgpLGUuZHI9dGhpcy5udCgpLGUuZ3I9dGhpcy5BbCxlLndpZHRoPXRoaXMub3QoKS53aWR0aCxlLmhlaWdodD10aGlzLm90KCkuaGVpZ2h0LGUuZGQ9dGhpcy5pc0Z1bGxzY3JlZW4oKSx0aGlzLlBsLmtpKHRoaXMuVmwuaHIoZSkpLHRoaXMuUGwudGVjaC5mZCh0aGlzLlBsLGUpLmZhaWwoZnVuY3Rpb24oZSl7dC5tKCkud2Fybih0LnUrXCJzdGF0cyBoYW5kbGluZyBmYWlsZWRcIixlKSx0Lm9kKCl9KX19LHQucHJvdG90eXBlLmdkPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0cnl7dS5ZaS5XaSh0aGlzLm0oKSkuJGkoZnVuY3Rpb24oZSl7dmFyIGk9dC52ZCgpO2kmJiFpLk9pKCkmJih0Ll8oZT9kLkYuQi5qcjpkLkYuQi5ISURERU4pLHQubSgpLmRlYnVnKGU/XCJ2aXNpYmxlXCI6XCJoaWRkZW5cIikpfSl9Y2F0Y2goZSl7dy5FcnJvck1vbml0b3IuV2koKS5faChcImVycm9yIHNldHRpbmcgdXAgdGhlIHZpc2liaWxpdHlDaGFuZ2UgbGlzdGVuZXJcIix7ZXJyb3I6ZX0pfX0sdC5wcm90b3R5cGUuaz1mdW5jdGlvbih0KXt0aGlzLnBkKCkmJnRoaXMuTmw8PTAmJih0aGlzLk5sPURhdGUubm93KCksKHZvaWQgMD09dHx8dCkmJnRoaXMuXyhkLkYuQi5McikpfSx0LnByb3RvdHlwZS5HPWZ1bmN0aW9uKCl7dmFyIHQ9MD09dGhpcy5BbDtpZih0aGlzLk5sPjApe3ZhciBlPURhdGUubm93KCktdGhpcy5ObDtyZXR1cm4gdGhpcy5BbCs9ZSx0aGlzLm0oKS5kZWJ1Zyh0aGlzLnUrXCJyZXBvcnRpbmcgbmV3IGJ1ZmZlcmluZyBldmVudCBvZiBcIitlKSx0aGlzLk5sPTAsdCYmdGhpcy5sZCgpLCEwfXJldHVybiExfSx0LnByb3RvdHlwZS5vbkVycm9yPWZ1bmN0aW9uKHQsZSxpKXt2b2lkIDA9PT1pJiYoaT0hMCksdGhpcy5fKGQuRi5CLkVSUk9SLHtjb2RlOi0xLFwicGxheWVyLWNvZGVcIjp0fSksaSYmdGhpcy5oKCl9LHQucHJvdG90eXBlLl89ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLHI9dGhpcy52ZCgpO251bGw9PXJ8fHIhPXRoaXMuUGwmJnIudGVjaC5BaSgpPT09RVtFLkhpdmVKYXZhXXx8ci50ZWNoLnlkKHIsdCxlKS5mYWlsKGZ1bmN0aW9uKHQpe2kubSgpLndhcm4oaS51K1wiZXJyb3IgaW4gZm9yd2FyZGluZyBwbGF5ZXIgZXZlbnQgdG8gdGVjaFwiLHQpfSl9LHQucHJvdG90eXBlLnZkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuUGw/dGhpcy5QbDp0aGlzLk9sJiZ0aGlzLk9sLmxlbmd0aD4wP3RoaXMuT2xbMF06dm9pZCAwfSx0LnByb3RvdHlwZS5tZD1mdW5jdGlvbigpe3RoaXMueGw9MH0sdC5wcm90b3R5cGUud2Q9ZnVuY3Rpb24odCxlKXt0aGlzLm1kKCk7dmFyIGk9NyxyPTY7dGhpcy54bCs9dDw8NCppLGUmJjA9PT10JiYodGhpcy54bCs9MTw8NCooci1FW2UuQWkoKV0pKSx0PjAmJncuRXJyb3JNb25pdG9yLldpKCkuX2godGhpcy51K1wiU3RhdHVzIENvZGUgRXJyb3I6IFwiK1JbdF0pfSx0LnByb3RvdHlwZS5QaD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnhsfSx0LnByb3RvdHlwZS50ZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm9wdGlvbnMoKS50ZWxlbWV0cnlJZH0sdH0oKTt0LlBsdWdpbj1yfShQPWUucHR8fChlLnB0PXt9KSkscy5GcmFtZXdvcmsuUWUobmV3IGYuVGQpLHMuRnJhbWV3b3JrLkdlKFwicGVlcjBcIixuZXcgdi5TZCkscy5GcmFtZXdvcmsuemUoXCJwZWVyMFwiKSx3aW5kb3cuSGl2ZVJlcXVlc3RGYWN0b3J5PXUuSGl2ZVJlcXVlc3RGYWN0b3J5fSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9aSg0NSksbj1pKDcpLG89ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMucmVhZHlTdGF0ZT0zLHRoaXMuc3RhdHVzPTAsdCYmKHRoaXMuc2Vzc2lvbklkPXQpfXJldHVybiB0LkxoPWZ1bmN0aW9uKGUpe3QubT1lfSx0LnJlZ2lzdGVyPWZ1bmN0aW9uKGUsaSl7dC5iZFtlXT1pfSx0LnByb3RvdHlwZS5FZD1mdW5jdGlvbihlKXt0aGlzLnNlc3Npb25JZHx8KHRoaXMuc2Vzc2lvbklkPXQuYmRbZV0pfSx0LnByb3RvdHlwZS5vcGVuPWZ1bmN0aW9uKHQsZSxpKXt2b2lkIDA9PT1pJiYoaT0hMSksdGhpcy5tZXRob2Q9dCx0aGlzLnVybD1lLHRoaXMuSWQ9aX0sdC5wcm90b3R5cGUuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuUmR9LHQucHJvdG90eXBlLmdldFJlc3BvbnNlSGVhZGVyPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCk7aWYoZSl7dmFyIGk9W10scj1lLnNwbGl0KFwiXFxuXCIpO3JldHVybiByLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIGU9dC5zcGxpdChcIjpcIik7aVtlWzBdXT1lWzFdfSksaVt0XX19LHQucHJvdG90eXBlLnNlbmQ9ZnVuY3Rpb24oKXtpZih0Lm0mJnQubS5kZWJ1Zyh0aGlzLm1ldGhvZCtcIiBcIit0aGlzLnVybCksIXRoaXMuc2Vzc2lvbklkKXt2YXIgZT1PYmplY3Qua2V5cyh0LmJkKTtlLmxlbmd0aD4wJiYodGhpcy5zZXNzaW9uSWQ9dC5iZFtlWzBdXSl9dmFyIGk9dGhpcyxvPW5ldyBYTUxIdHRwUmVxdWVzdDswPT09dGhpcy51cmwuaW5kZXhPZihcIi8vXCIpJiYodGhpcy51cmw9bG9jYXRpb24ucHJvdG9jb2wrdGhpcy51cmwpO3ZhciBzPW4ucnIoci5DZC5rZCxyLkNkLlRvLHIuQ2QuT2QsdGhpcy5zZXNzaW9uSWQsZW5jb2RlVVJJQ29tcG9uZW50KHRoaXMudXJsKSk7by5vcGVuKFwiR0VUXCIscyksdGhpcy5yZXNwb25zZVR5cGUmJihvLnJlc3BvbnNlVHlwZT10aGlzLnJlc3BvbnNlVHlwZSksby5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXt9LG8ub25sb2FkPWZ1bmN0aW9uKCl7aWYoND09PW8ucmVhZHlTdGF0ZSl0cnl7aS5SZD1vLmdldEFsbFJlc3BvbnNlSGVhZGVycygpLGkucmVzcG9uc2U9by5yZXNwb25zZTt2YXIgZT1vLnJlc3BvbnNlLmJ5dGVMZW5ndGg7XCJhcnJheWJ1ZmZlclwiIT09by5yZXNwb25zZVR5cGUmJihpLnJlc3BvbnNlVGV4dD1vLnJlc3BvbnNlKSxpLnJlYWR5U3RhdGU9NCxpLnN0YXR1cz1vLnN0YXR1cyxpLm9ucHJvZ3Jlc3Moe2xlbmd0aENvbXB1dGFibGU6ITAsbG9hZGVkOmUsdG90YWw6ZX0pLGkub25yZWFkeXN0YXRlY2hhbmdlKHt0eXBlOlwibG9hZGVuZFwiLHRhcmdldDppLGN1cnJlbnRUYXJnZXQ6aSxidWJibGVzOiExLGNhbmNlbGFibGU6ITEsbGVuZ3RoQ29tcHV0YWJsZTohMSxsb2FkZWQ6ZSx0b3RhbDplfSksaS5vbmxvYWQoKSxpLm9ubG9hZGVuZCh7dHlwZTpcImxvYWRlbmRcIix0YXJnZXQ6aSxjdXJyZW50VGFyZ2V0OmksYnViYmxlczohMSxjYW5jZWxhYmxlOiExLGxlbmd0aENvbXB1dGFibGU6ITEsbG9hZGVkOmUsdG90YWw6MH0pfWNhdGNoKHIpe3QubSYmdC5tLndhcm4ocil9fSxvLm9uZXJyb3I9ZnVuY3Rpb24oZSl7dC5tJiZ0Lm0ud2FybihcIm9uRXJyb3I6IFwiK0pTT04uc3RyaW5naWZ5KGUpKSxpLm9uZXJyb3IoZSl9LG8ub25hYm9ydD1mdW5jdGlvbihlKXt0Lm0mJnQubS53YXJuKFwib25BYm9ydDogXCIrSlNPTi5zdHJpbmdpZnkoZSkpfSxvLnNlbmQoKX0sdC5wcm90b3R5cGUuYWJvcnQ9ZnVuY3Rpb24oKXt9LHQucHJvdG90eXBlLm9ubG9hZD1mdW5jdGlvbigpe30sdC5wcm90b3R5cGUub25sb2FkZW5kPWZ1bmN0aW9uKHQpe30sdC5wcm90b3R5cGUub25lcnJvcj1mdW5jdGlvbih0KXt9LHQucHJvdG90eXBlLm9ucHJvZ3Jlc3M9ZnVuY3Rpb24odCl7fSx0LnByb3RvdHlwZS5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24odCl7fSx0fSgpO28uYmQ9e30sZS5UaT1vfSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9aSgyKSxuPWkoNSksbz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQuUmVwb3J0aW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHQuYXBwPVwiU1RBVFNcIixyLkZyYW1ld29yay5yZXNvbHZlKG4uZ2kudWkpfSx0LlhvPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXBwfSx0LmdldFZlcnNpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52ZXJzaW9ufSx0fSgpO28udmVyc2lvbj1cIjMuMi4wXCIsZS5IaXZlPW99LGZ1bmN0aW9uKHQsZSxpKXt2YXIgcjshZnVuY3Rpb24obixvKXtcInVzZSBzdHJpY3RcIjt2YXIgcz1cIjAuNy4xMlwiLGE9XCJcIixjPVwiP1wiLGg9XCJmdW5jdGlvblwiLHA9XCJ1bmRlZmluZWRcIix1PVwib2JqZWN0XCIsbD1cInN0cmluZ1wiLGQ9XCJtYWpvclwiLGY9XCJtb2RlbFwiLGc9XCJuYW1lXCIsdj1cInR5cGVcIix5PVwidmVuZG9yXCIsbT1cInZlcnNpb25cIix3PVwiYXJjaGl0ZWN0dXJlXCIsVD1cImNvbnNvbGVcIixTPVwibW9iaWxlXCIsYj1cInRhYmxldFwiLEU9XCJzbWFydHR2XCIsST1cIndlYXJhYmxlXCIsUj1cImVtYmVkZGVkXCIsaz17ZXh0ZW5kOmZ1bmN0aW9uKHQsZSl7dmFyIGk9e307Zm9yKHZhciByIGluIHQpZVtyXSYmZVtyXS5sZW5ndGglMj09PTA/aVtyXT1lW3JdLmNvbmNhdCh0W3JdKTppW3JdPXRbcl07cmV0dXJuIGl9LGhhczpmdW5jdGlvbih0LGUpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiB0JiZlLnRvTG93ZXJDYXNlKCkuaW5kZXhPZih0LnRvTG93ZXJDYXNlKCkpIT09LTF9LFBkOmZ1bmN0aW9uKHQpe3JldHVybiB0LnRvTG93ZXJDYXNlKCl9LEFkOmZ1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdD09PWw/dC5yZXBsYWNlKC9bXlxcZFxcLl0vZyxcIlwiKS5zcGxpdChcIi5cIilbMF06b30sdHJpbTpmdW5jdGlvbih0KXtyZXR1cm4gdC5yZXBsYWNlKC9eW1xcc1xcdUZFRkZcXHhBMF0rfFtcXHNcXHVGRUZGXFx4QTBdKyQvZyxcIlwiKX19LEM9e05kOmZ1bmN0aW9uKCl7Zm9yKHZhciB0LGUsaSxyLG4scyxhLGM9MCxsPWFyZ3VtZW50cztjPGwubGVuZ3RoJiYhczspe3ZhciBkPWxbY10sZj1sW2MrMV07aWYodHlwZW9mIHQ9PT1wKXt0PXt9O2ZvcihyIGluIGYpZi5oYXNPd25Qcm9wZXJ0eShyKSYmKG49ZltyXSx0eXBlb2Ygbj09PXU/dFtuWzBdXT1vOnRbbl09byl9Zm9yKGU9aT0wO2U8ZC5sZW5ndGgmJiFzOylpZihzPWRbZSsrXS5leGVjKHRoaXMueGQoKSkpZm9yKHI9MDtyPGYubGVuZ3RoO3IrKylhPXNbKytpXSxuPWZbcl0sdHlwZW9mIG49PT11JiZuLmxlbmd0aD4wPzI9PW4ubGVuZ3RoP3R5cGVvZiBuWzFdPT1oP3RbblswXV09blsxXS5jYWxsKHRoaXMsYSk6dFtuWzBdXT1uWzFdOjM9PW4ubGVuZ3RoP3R5cGVvZiBuWzFdIT09aHx8blsxXS5leGVjJiZuWzFdLnRlc3Q/dFtuWzBdXT1hP2EucmVwbGFjZShuWzFdLG5bMl0pOm86dFtuWzBdXT1hP25bMV0uY2FsbCh0aGlzLGEsblsyXSk6bzo0PT1uLmxlbmd0aCYmKHRbblswXV09YT9uWzNdLmNhbGwodGhpcyxhLnJlcGxhY2UoblsxXSxuWzJdKSk6byk6dFtuXT1hP2E6bztjKz0yfXJldHVybiB0fSxhYzpmdW5jdGlvbih0LGUpe2Zvcih2YXIgaSBpbiBlKWlmKHR5cGVvZiBlW2ldPT09dSYmZVtpXS5sZW5ndGg+MCl7Zm9yKHZhciByPTA7cjxlW2ldLmxlbmd0aDtyKyspaWYoay5oYXMoZVtpXVtyXSx0KSlyZXR1cm4gaT09PWM/bzppfWVsc2UgaWYoay5oYXMoZVtpXSx0KSlyZXR1cm4gaT09PWM/bzppO3JldHVybiB0fX0sTz17dGk6e0JkOnt2ZXJzaW9uOntcIjEuMFwiOlwiLzhcIiwxLjI6XCIvMVwiLDEuMzpcIi8zXCIsXCIyLjBcIjpcIi80MTJcIixcIjIuMC4yXCI6XCIvNDE2XCIsXCIyLjAuM1wiOlwiLzQxN1wiLFwiMi4wLjRcIjpcIi80MTlcIixLcDpcIi9cIn19fSxGZDp7X2Q6e0RkOntIZDpbXCJTRFwiLFwiS0ZcIl19fSxMZDp7RGQ6e01kOlwiNzM3M0tUXCJ9LHZlbmRvcjp7amQ6XCJBUEFcIixVZDpcIlNwcmludFwifX19LG9zOntWZDp7dmVyc2lvbjp7UWQ6XCI0LjkwXCIsXCJOVCAzLjExXCI6XCJOVDMuNTFcIixcIk5UIDQuMFwiOlwiTlQ0LjBcIiwyMDAwOlwiTlQgNS4wXCIscWQ6W1wiTlQgNS4xXCIsXCJOVCA1LjJcIl0sSmQ6XCJOVCA2LjBcIiw3OlwiTlQgNi4xXCIsODpcIk5UIDYuMlwiLDguMTpcIk5UIDYuM1wiLDEwOltcIk5UIDYuNFwiLFwiTlQgMTAuMFwiXSxLZDpcIkFSTVwifX19fSxQPXt0aTpbWy8ob3BlcmFcXHNtaW5pKVxcLyhbXFx3XFwuLV0rKS9pLC8ob3BlcmFcXHNbbW9iaWxldGFiXSspLit2ZXJzaW9uXFwvKFtcXHdcXC4tXSspL2ksLyhvcGVyYSkuK3ZlcnNpb25cXC8oW1xcd1xcLl0rKS9pLC8ob3BlcmEpW1xcL1xcc10rKFtcXHdcXC5dKykvaV0sW2csbV0sWy8ob3Bpb3MpW1xcL1xcc10rKFtcXHdcXC5dKykvaV0sW1tnLFwiT3BlcmEgTWluaVwiXSxtXSxbL1xccyhvcHIpXFwvKFtcXHdcXC5dKykvaV0sW1tnLFwiT3BlcmFcIl0sbV0sWy8oa2luZGxlKVxcLyhbXFx3XFwuXSspL2ksLyhsdW5hc2NhcGV8bWF4dGhvbnxuZXRmcm9udHxqYXNtaW5lfGJsYXplcilbXFwvXFxzXT8oW1xcd1xcLl0rKSovaSwvKGF2YW50XFxzfGllbW9iaWxlfHNsaW18YmFpZHUpKD86YnJvd3Nlcik/W1xcL1xcc10/KFtcXHdcXC5dKikvaSwvKD86bXN8XFwoKShpZSlcXHMoW1xcd1xcLl0rKS9pLC8ocmVrb25xKVxcLyhbXFx3XFwuXSspKi9pLC8oY2hyb21pdW18ZmxvY2t8cm9ja21lbHR8bWlkb3JpfGVwaXBoYW55fHNpbGt8c2t5ZmlyZXxvdmlicm93c2VyfGJvbHR8aXJvbnx2aXZhbGRpfGlyaWRpdW18cGhhbnRvbWpzKVxcLyhbXFx3XFwuLV0rKS9pXSxbZyxtXSxbLyh0cmlkZW50KS4rcnZbOlxcc10oW1xcd1xcLl0rKS4rbGlrZVxcc2dlY2tvL2ldLFtbZyxcIklFXCJdLG1dLFsvKGVkZ2UpXFwvKChcXGQrKT9bXFx3XFwuXSspL2ldLFtnLG1dLFsvKHlhYnJvd3NlcilcXC8oW1xcd1xcLl0rKS9pXSxbW2csXCJZYW5kZXhcIl0sbV0sWy8oY29tb2RvX2RyYWdvbilcXC8oW1xcd1xcLl0rKS9pXSxbW2csL18vZyxcIiBcIl0sbV0sWy8obWljcm9tZXNzZW5nZXIpXFwvKFtcXHdcXC5dKykvaV0sW1tnLFwiV2VDaGF0XCJdLG1dLFsveGlhb21pXFwvbWl1aWJyb3dzZXJcXC8oW1xcd1xcLl0rKS9pXSxbbSxbZyxcIk1JVUkgQnJvd3NlclwiXV0sWy9cXHN3dlxcKS4rKGNocm9tZSlcXC8oW1xcd1xcLl0rKS9pXSxbW2csLyguKykvLFwiJDEgV2ViVmlld1wiXSxtXSxbL2FuZHJvaWQuK3NhbXN1bmdicm93c2VyXFwvKFtcXHdcXC5dKykvaSwvYW5kcm9pZC4rdmVyc2lvblxcLyhbXFx3XFwuXSspXFxzKyg/Om1vYmlsZVxccz9zYWZhcml8c2FmYXJpKSovaV0sW20sW2csXCJBbmRyb2lkIEJyb3dzZXJcIl1dLFsvKGNocm9tZXxvbW5pd2VifGFyb3JhfFt0aXplbm9rYV17NX1cXHM/YnJvd3NlcilcXC92PyhbXFx3XFwuXSspL2ksLyhxcWJyb3dzZXIpW1xcL1xcc10/KFtcXHdcXC5dKykvaV0sW2csbV0sWy8odWNcXHM/YnJvd3NlcilbXFwvXFxzXT8oW1xcd1xcLl0rKS9pLC91Y3dlYi4rKHVjYnJvd3NlcilbXFwvXFxzXT8oW1xcd1xcLl0rKS9pLC9qdWMuKyh1Y3dlYilbXFwvXFxzXT8oW1xcd1xcLl0rKS9pXSxbW2csXCJVQ0Jyb3dzZXJcIl0sbV0sWy8oZG9sZmluKVxcLyhbXFx3XFwuXSspL2ldLFtbZyxcIkRvbHBoaW5cIl0sbV0sWy8oKD86YW5kcm9pZC4rKWNybW98Y3Jpb3MpXFwvKFtcXHdcXC5dKykvaV0sW1tnLFwiQ2hyb21lXCJdLG1dLFsvO2ZiYXZcXC8oW1xcd1xcLl0rKTsvaV0sW20sW2csXCJGYWNlYm9va1wiXV0sWy9meGlvc1xcLyhbXFx3XFwuLV0rKS9pXSxbbSxbZyxcIkZpcmVmb3hcIl1dLFsvdmVyc2lvblxcLyhbXFx3XFwuXSspLis/bW9iaWxlXFwvXFx3K1xccyhzYWZhcmkpL2ldLFttLFtnLFwiTW9iaWxlIFNhZmFyaVwiXV0sWy92ZXJzaW9uXFwvKFtcXHdcXC5dKykuKz8obW9iaWxlXFxzP3NhZmFyaXxzYWZhcmkpL2ldLFttLGddLFsvd2Via2l0Lis/KG1vYmlsZVxccz9zYWZhcml8c2FmYXJpKShcXC9bXFx3XFwuXSspL2ldLFtnLFttLEMuYWMsTy50aS5CZC52ZXJzaW9uXV0sWy8oa29ucXVlcm9yKVxcLyhbXFx3XFwuXSspL2ksLyh3ZWJraXR8a2h0bWwpXFwvKFtcXHdcXC5dKykvaV0sW2csbV0sWy8obmF2aWdhdG9yfG5ldHNjYXBlKVxcLyhbXFx3XFwuLV0rKS9pXSxbW2csXCJOZXRzY2FwZVwiXSxtXSxbLyhzd2lmdGZveCkvaSwvKGljZWRyYWdvbnxpY2V3ZWFzZWx8Y2FtaW5vfGNoaW1lcmF8ZmVubmVjfG1hZW1vXFxzYnJvd3NlcnxtaW5pbW98Y29ua2Vyb3IpW1xcL1xcc10/KFtcXHdcXC5cXCtdKykvaSwvKGZpcmVmb3h8c2VhbW9ua2V5fGstbWVsZW9ufGljZWNhdHxpY2VhcGV8ZmlyZWJpcmR8cGhvZW5peClcXC8oW1xcd1xcLi1dKykvaSwvKG1vemlsbGEpXFwvKFtcXHdcXC5dKykuK3J2XFw6LitnZWNrb1xcL1xcZCsvaSwvKHBvbGFyaXN8bHlueHxkaWxsb3xpY2FifGRvcmlzfGFtYXlhfHczbXxuZXRzdXJmfHNsZWlwbmlyKVtcXC9cXHNdPyhbXFx3XFwuXSspL2ksLyhsaW5rcylcXHNcXCgoW1xcd1xcLl0rKS9pLC8oZ29icm93c2VyKVxcLz8oW1xcd1xcLl0rKSovaSwvKGljZVxccz9icm93c2VyKVxcL3Y/KFtcXHdcXC5fXSspL2ksLyhtb3NhaWMpW1xcL1xcc10oW1xcd1xcLl0rKS9pXSxbZyxtXV0sR2Q6W1svKD86KGFtZHx4KD86KD86ODZ8NjQpW18tXSk/fHdvd3x3aW4pNjQpWztcXCldL2ldLFtbdyxcImFtZDY0XCJdXSxbLyhpYTMyKD89OykpL2ldLFtbdyxrLlBkXV0sWy8oKD86aVszNDZdfHgpODYpWztcXCldL2ldLFtbdyxcImlhMzJcIl1dLFsvd2luZG93c1xccyhjZXxtb2JpbGUpO1xcc3BwYzsvaV0sW1t3LFwiYXJtXCJdXSxbLygoPzpwcGN8cG93ZXJwYykoPzo2NCk/KSg/Olxcc21hY3w7fFxcKSkvaV0sW1t3LC9vd2VyLyxcIlwiLGsuUGRdXSxbLyhzdW40XFx3KVs7XFwpXS9pXSxbW3csXCJzcGFyY1wiXV0sWy8oKD86YXZyMzJ8aWE2NCg/PTspKXw2OGsoPz1cXCkpfGFybSg/OjY0fCg/PXZcXGQrOykpfCg/PWF0bWVsXFxzKWF2cnwoPzppcml4fG1pcHN8c3BhcmMpKD86NjQpPyg/PTspfHBhLXJpc2MpL2ldLFtbdyxrLlBkXV1dLEZkOltbL1xcKChpcGFkfHBsYXlib29rKTtbXFx3XFxzXFwpOy1dKyhyaW18YXBwbGUpL2ldLFtmLHksW3YsYl1dLFsvYXBwbGVjb3JlbWVkaWFcXC9bXFx3XFwuXSsgXFwoKGlwYWQpL10sW2YsW3ksXCJBcHBsZVwiXSxbdixiXV0sWy8oYXBwbGVcXHN7MCwxfXR2KS9pXSxbW2YsXCJBcHBsZSBUVlwiXSxbeSxcIkFwcGxlXCJdXSxbLyhhcmNob3MpXFxzKGdhbWVwYWQyPykvaSwvKGhwKS4rKHRvdWNocGFkKS9pLC8oaHApLisodGFibGV0KS9pLC8oa2luZGxlKVxcLyhbXFx3XFwuXSspL2ksL1xccyhub29rKVtcXHdcXHNdK2J1aWxkXFwvKFxcdyspL2ksLyhkZWxsKVxccyhzdHJlYVtrcHJcXHNcXGRdKltcXGRrb10pL2ldLFt5LGYsW3YsYl1dLFsvKGtmW0Etel0rKVxcc2J1aWxkXFwvW1xcd1xcLl0rLipzaWxrXFwvL2ldLFtmLFt5LFwiQW1hem9uXCJdLFt2LGJdXSxbLyhzZHxrZilbMDM0OWhpam9yc3R1d10rXFxzYnVpbGRcXC9bXFx3XFwuXSsuKnNpbGtcXC8vaV0sW1tmLEMuYWMsTy5GZC5fZC5EZF0sW3ksXCJBbWF6b25cIl0sW3YsU11dLFsvXFwoKGlwW2hvbmVkfFxcc1xcdypdKyk7LisoYXBwbGUpL2ldLFtmLHksW3YsU11dLFsvXFwoKGlwW2hvbmVkfFxcc1xcdypdKyk7L2ldLFtmLFt5LFwiQXBwbGVcIl0sW3YsU11dLFsvKGJsYWNrYmVycnkpW1xccy1dPyhcXHcrKS9pLC8oYmxhY2tiZXJyeXxiZW5xfHBhbG0oPz1cXC0pfHNvbnllcmljc3NvbnxhY2VyfGFzdXN8ZGVsbHxodWF3ZWl8bWVpenV8bW90b3JvbGF8cG9seXRyb24pW1xcc18tXT8oW1xcdy1dKykqL2ksLyhocClcXHMoW1xcd1xcc10rXFx3KS9pLC8oYXN1cyktPyhcXHcrKS9pXSxbeSxmLFt2LFNdXSxbL1xcKGJiMTA7XFxzKFxcdyspL2ldLFtmLFt5LFwiQmxhY2tCZXJyeVwiXSxbdixTXV0sWy9hbmRyb2lkLisodHJhbnNmb1twcmltZVxcc117NCwxMH1cXHNcXHcrfGVlZXBjfHNsaWRlclxcc1xcdyt8bmV4dXMgN3xwYWRmb25lKS9pXSxbZixbeSxcIkFzdXNcIl0sW3YsYl1dLFsvKHNvbnkpXFxzKHRhYmxldFxcc1twc10pXFxzYnVpbGRcXC8vaSwvKHNvbnkpPyg/OnNncC4rKVxcc2J1aWxkXFwvL2ldLFtbeSxcIlNvbnlcIl0sW2YsXCJYcGVyaWEgVGFibGV0XCJdLFt2LGJdXSxbLyg/OnNvbnkpPyg/Oig/Oig/OmN8ZClcXGR7NH0pfCg/OnNvWy1sXS4rKSlcXHNidWlsZFxcLy9pXSxbW3ksXCJTb255XCJdLFtmLFwiWHBlcmlhIFBob25lXCJdLFt2LFNdXSxbL1xccyhvdXlhKVxccy9pLC8obmludGVuZG8pXFxzKFt3aWRzM3VdKykvaV0sW3ksZixbdixUXV0sWy9hbmRyb2lkLis7XFxzKHNoaWVsZClcXHNidWlsZC9pXSxbZixbeSxcIk52aWRpYVwiXSxbdixUXV0sWy8ocGxheXN0YXRpb25cXHNbMzRwb3J0YWJsZXZpXSspL2ldLFtmLFt5LFwiU29ueVwiXSxbdixUXV0sWy8oc3ByaW50XFxzKFxcdyspKS9pXSxbW3ksQy5hYyxPLkZkLkxkLnZlbmRvcl0sW2YsQy5hYyxPLkZkLkxkLkRkXSxbdixTXV0sWy8obGVub3ZvKVxccz8oUyg/OjUwMDB8NjAwMCkrKD86Wy1dW1xcdytdKSkvaV0sW3ksZixbdixiXV0sWy8oaHRjKVs7X1xccy1dKyhbXFx3XFxzXSsoPz1cXCkpfFxcdyspKi9pLC8oenRlKS0oXFx3KykqL2ksLyhhbGNhdGVsfGdlZWtzcGhvbmV8aHVhd2VpfGxlbm92b3xuZXhpYW58cGFuYXNvbmljfCg/PTtcXHMpc29ueSlbX1xccy1dPyhbXFx3LV0rKSovaV0sW3ksW2YsL18vZyxcIiBcIl0sW3YsU11dLFsvKG5leHVzXFxzOSkvaV0sW2YsW3ksXCJIVENcIl0sW3YsYl1dLFsvKG5leHVzXFxzNnApL2ldLFtmLFt5LFwiSHVhd2VpXCJdLFt2LFNdXSxbLyhtaWNyb3NvZnQpO1xccyhsdW1pYVtcXHNcXHddKykvaV0sW3ksZixbdixTXV0sWy9bXFxzXFwoO10oeGJveCg/Olxcc29uZSk/KVtcXHNcXCk7XS9pXSxbZixbeSxcIk1pY3Jvc29mdFwiXSxbdixUXV0sWy8oa2luXFwuW29uZXR3XXszfSkvaV0sW1tmLC9cXC4vZyxcIiBcIl0sW3ksXCJNaWNyb3NvZnRcIl0sW3YsU11dLFsvXFxzKG1pbGVzdG9uZXxkcm9pZCg/OlsyLTR4XXxcXHMoPzpiaW9uaWN8eDJ8cHJvfHJhenIpKT8oOj9cXHM0Zyk/KVtcXHdcXHNdK2J1aWxkXFwvL2ksL21vdFtcXHMtXT8oXFx3KykqL2ksLyhYVFxcZHszLDR9KSBidWlsZFxcLy9pLC8obmV4dXNcXHM2KS9pXSxbZixbeSxcIk1vdG9yb2xhXCJdLFt2LFNdXSxbL2FuZHJvaWQuK1xccyhtejYwXFxkfHhvb21bXFxzMl17MCwyfSlcXHNidWlsZFxcLy9pXSxbZixbeSxcIk1vdG9yb2xhXCJdLFt2LGJdXSxbL2hiYnR2XFwvXFxkK1xcLlxcZCtcXC5cXGQrXFxzK1xcKFtcXHdcXHNdKjtcXHMqKFxcd1teO10qKTsoW147XSopL2ldLFtbeSxrLnRyaW1dLFtmLGsudHJpbV0sW3YsRV1dLFsvaGJidHYuK21hcGxlOyhcXGQrKS9pXSxbW2YsL14vLFwiU21hcnRUVlwiXSxbeSxcIlNhbXN1bmdcIl0sW3YsRV1dLFsvXFwoZHR2W1xcKTtdLisoYXF1b3MpL2ldLFtmLFt5LFwiU2hhcnBcIl0sW3YsRV1dLFsvYW5kcm9pZC4rKChzY2gtaVs4OV0wXFxkfHNody1tMzgwc3xndC1wXFxkezR9fGd0LW5cXGQrfHNnaC10OFs1Nl05fG5leHVzIDEwKSkvaSwvKChTTS1UXFx3KykpL2ldLFtbeSxcIlNhbXN1bmdcIl0sZixbdixiXV0sWy9zbWFydC10di4rKHNhbXN1bmcpL2ldLFt5LFt2LEVdLGZdLFsvKChzW2NncF1oLVxcdyt8Z3QtXFx3K3xnYWxheHlcXHNuZXh1c3xzbS1cXHdbXFx3XFxkXSspKS9pLC8oc2FtW3N1bmddKilbXFxzLV0qKFxcdystP1tcXHctXSopKi9pLC9zZWMtKChzZ2hcXHcrKSkvaV0sW1t5LFwiU2Ftc3VuZ1wiXSxmLFt2LFNdXSxbL3NpZS0oXFx3KykqL2ldLFtmLFt5LFwiU2llbWVuc1wiXSxbdixTXV0sWy8obWFlbW98bm9raWEpLioobjkwMHxsdW1pYVxcc1xcZCspL2ksLyhub2tpYSlbXFxzXy1dPyhbXFx3LV0rKSovaV0sW1t5LFwiTm9raWFcIl0sZixbdixTXV0sWy9hbmRyb2lkXFxzM1xcLltcXHNcXHc7LV17MTB9KGFcXGR7M30pL2ldLFtmLFt5LFwiQWNlclwiXSxbdixiXV0sWy9hbmRyb2lkXFxzM1xcLltcXHNcXHc7LV17MTB9KGxnPyktKFswNmN2OV17Myw0fSkvaV0sW1t5LFwiTEdcIl0sZixbdixiXV0sWy8obGcpIG5ldGNhc3RcXC50di9pXSxbeSxmLFt2LEVdXSxbLyhuZXh1c1xcc1s0NV0pL2ksL2xnW2U7XFxzXFwvLV0rKFxcdyspKi9pXSxbZixbeSxcIkxHXCJdLFt2LFNdXSxbL2FuZHJvaWQuKyhpZGVhdGFiW2EtejAtOVxcLVxcc10rKS9pXSxbZixbeSxcIkxlbm92b1wiXSxbdixiXV0sWy9saW51eDsuKygoam9sbGEpKTsvaV0sW3ksZixbdixTXV0sWy8oKHBlYmJsZSkpYXBwXFwvW1xcZFxcLl0rXFxzL2ldLFt5LGYsW3YsSV1dLFsvYW5kcm9pZC4rO1xccyhnbGFzcylcXHNcXGQvaV0sW2YsW3ksXCJHb29nbGVcIl0sW3YsSV1dLFsvYW5kcm9pZC4rKFxcdyspXFxzK2J1aWxkXFwvaG1cXDEvaSwvYW5kcm9pZC4rKGhtW1xcc1xcLV9dKm5vdGU/W1xcc19dKig/OlxcZFxcdyk/KVxccytidWlsZC9pLC9hbmRyb2lkLisobWlbXFxzXFwtX10qKD86b25lfG9uZVtcXHNfXXBsdXN8bm90ZSBsdGUpP1tcXHNfXSooPzpcXGRcXHcpPylcXHMrYnVpbGQvaV0sW1tmLC9fL2csXCIgXCJdLFt5LFwiWGlhb21pXCJdLFt2LFNdXSxbL2FuZHJvaWQuK2EwMDAoMSlcXHMrYnVpbGQvaV0sW2YsW3ksXCJPbmVQbHVzXCJdLFt2LFNdXSxbL1xccyh0YWJsZXQpWztcXC9dL2ksL1xccyhtb2JpbGUpKD86WztcXC9dfFxcc3NhZmFyaSkvaV0sW1t2LGsuUGRdLHksZl1dLHpkOltbL3dpbmRvd3MuK1xcc2VkZ2VcXC8oW1xcd1xcLl0rKS9pXSxbbSxbZyxcIkVkZ2VIVE1MXCJdXSxbLyhwcmVzdG8pXFwvKFtcXHdcXC5dKykvaSwvKHdlYmtpdHx0cmlkZW50fG5ldGZyb250fG5ldHN1cmZ8YW1heWF8bHlueHx3M20pXFwvKFtcXHdcXC5dKykvaSwvKGtodG1sfHRhc21hbnxsaW5rcylbXFwvXFxzXVxcKD8oW1xcd1xcLl0rKS9pLC8oaWNhYilbXFwvXFxzXShbMjNdXFwuW1xcZFxcLl0rKS9pXSxbZyxtXSxbL3J2XFw6KFtcXHdcXC5dKykuKihnZWNrbykvaV0sW20sZ11dLG9zOltbL21pY3Jvc29mdFxccyh3aW5kb3dzKVxccyh2aXN0YXx4cCkvaV0sW2csbV0sWy8od2luZG93cylcXHNudFxcczZcXC4yO1xccyhhcm0pL2ksLyh3aW5kb3dzXFxzcGhvbmUoPzpcXHNvcykqKVtcXHNcXC9dPyhbXFxkXFwuXFxzXStcXHcpKi9pLC8od2luZG93c1xcc21vYmlsZXx3aW5kb3dzKVtcXHNcXC9dPyhbbnRjZVxcZFxcLlxcc10rXFx3KS9pXSxbZyxbbSxDLmFjLE8ub3MuVmQudmVyc2lvbl1dLFsvKHdpbig/PTN8OXxuKXx3aW5cXHM5eFxccykoW250XFxkXFwuXSspL2ldLFtbZyxcIldpbmRvd3NcIl0sW20sQy5hYyxPLm9zLlZkLnZlcnNpb25dXSxbL1xcKChiYikoMTApOy9pXSxbW2csXCJCbGFja0JlcnJ5XCJdLG1dLFsvKGJsYWNrYmVycnkpXFx3KlxcLz8oW1xcd1xcLl0rKSovaSwvKHRpemVuKVtcXC9cXHNdKFtcXHdcXC5dKykvaSwvKGFuZHJvaWR8d2Vib3N8cGFsbVxcc29zfHFueHxiYWRhfHJpbVxcc3RhYmxldFxcc29zfG1lZWdvfGNvbnRpa2kpW1xcL1xccy1dPyhbXFx3XFwuXSspKi9pLC9saW51eDsuKyhzYWlsZmlzaCk7L2ldLFtnLG1dLFsvKHN5bWJpYW5cXHM/b3N8c3ltYm9zfHM2MCg/PTspKVtcXC9cXHMtXT8oW1xcd1xcLl0rKSovaV0sW1tnLFwiU3ltYmlhblwiXSxtXSxbL1xcKChzZXJpZXM0MCk7L2ldLFtnXSxbL21vemlsbGEuK1xcKG1vYmlsZTsuK2dlY2tvLitmaXJlZm94L2ldLFtbZyxcIkZpcmVmb3ggT1NcIl0sbV0sWy8obmludGVuZG98cGxheXN0YXRpb24pXFxzKFt3aWRzMzRwb3J0YWJsZXZ1XSspL2ksLyhtaW50KVtcXC9cXHNcXChdPyhcXHcrKSovaSwvKG1hZ2VpYXx2ZWN0b3JsaW51eClbO1xcc10vaSwvKGpvbGl8W2t4bG5dP3VidW50dXxkZWJpYW58W29wZW5dKnN1c2V8Z2VudG9vfCg/PVxccylhcmNofHNsYWNrd2FyZXxmZWRvcmF8bWFuZHJpdmF8Y2VudG9zfHBjbGludXhvc3xyZWRoYXR8emVud2Fsa3xsaW5wdXMpW1xcL1xccy1dPyg/IWNocm9tKShbXFx3XFwuLV0rKSovaSwvKGh1cmR8bGludXgpXFxzPyhbXFx3XFwuXSspKi9pLC8oZ251KVxccz8oW1xcd1xcLl0rKSovaV0sW2csbV0sWy8oY3JvcylcXHNbXFx3XStcXHMoW1xcd1xcLl0rXFx3KS9pXSxbW2csXCJDaHJvbWl1bSBPU1wiXSxtXSxbLyhzdW5vcylcXHM/KFtcXHdcXC5dK1xcZCkqL2ldLFtbZyxcIlNvbGFyaXNcIl0sbV0sWy9cXHMoW2ZyZW50b3BjLV17MCw0fWJzZHxkcmFnb25mbHkpXFxzPyhbXFx3XFwuXSspKi9pXSxbZyxtXSxbLyhoYWlrdSlcXHMoXFx3KykvaV0sW2csbV0sWy8oaXBbaG9uZWFkXSspKD86Lipvc1xccyhbXFx3XSspKlxcc2xpa2VcXHNtYWN8O1xcc29wZXJhKS9pXSxbW2csXCJpT1NcIl0sW20sL18vZyxcIi5cIl1dLFsvKG1hY1xcc29zXFxzeClcXHM/KFtcXHdcXHNcXC5dK1xcdykqL2ksLyhtYWNpbnRvc2h8bWFjKD89X3Bvd2VycGMpXFxzKS9pXSxbW2csXCJNYWMgT1NcIl0sW20sL18vZyxcIi5cIl1dLFsvKCg/Om9wZW4pP3NvbGFyaXMpW1xcL1xccy1dPyhbXFx3XFwuXSspKi9pLC8oYWl4KVxccygoXFxkKSg/PVxcLnxcXCl8XFxzKVtcXHdcXC5dKikqL2ksLyhwbGFuXFxzOXxtaW5peHxiZW9zfG9zXFwvMnxhbWlnYW9zfG1vcnBob3N8cmlzY1xcc29zfG9wZW52bXMpL2ksLyh1bml4KVxccz8oW1xcd1xcLl0rKSovaV0sW2csbV1dfSxBPWZ1bmN0aW9uKHQsZSl7aWYoISh0aGlzIGluc3RhbmNlb2YgQSkpcmV0dXJuIG5ldyBBKHQsZSkuV2QoKTt2YXIgaT10fHwobiYmbi5uYXZpZ2F0b3ImJm4ubmF2aWdhdG9yLnVzZXJBZ2VudD9uLm5hdmlnYXRvci51c2VyQWdlbnQ6YSkscj1lP2suZXh0ZW5kKFAsZSk6UDtyZXR1cm4gdGhpcy4kZD1mdW5jdGlvbigpe3ZhciB0PUMuTmQuYXBwbHkodGhpcyxyLnRpKTtyZXR1cm4gdC5BZD1rLkFkKHQudmVyc2lvbiksdH0sdGhpcy5ZZD1mdW5jdGlvbigpe3JldHVybiBDLk5kLmFwcGx5KHRoaXMsci5HZCl9LHRoaXMuWGQ9ZnVuY3Rpb24oKXtyZXR1cm4gQy5OZC5hcHBseSh0aGlzLHIuRmQpfSx0aGlzLlpkPWZ1bmN0aW9uKCl7cmV0dXJuIEMuTmQuYXBwbHkodGhpcyxyLnpkKX0sdGhpcy5Sbj1mdW5jdGlvbigpe3JldHVybiBDLk5kLmFwcGx5KHRoaXMsci5vcyl9LHRoaXMuV2Q9ZnVuY3Rpb24oKXtyZXR1cm57dGY6dGhpcy54ZCgpLHRpOnRoaXMuJGQoKSx6ZDp0aGlzLlpkKCksb3M6dGhpcy5SbigpLEZkOnRoaXMuWGQoKSxHZDp0aGlzLllkKCl9fSx0aGlzLnhkPWZ1bmN0aW9uKCl7cmV0dXJuIGl9LHRoaXMuSW49ZnVuY3Rpb24odCl7cmV0dXJuIGk9dCx0aGlzfSx0aGlzfTtBLlZFUlNJT049cyxBLmVmPXtcImlmXCI6ZyxyZjpkLFZFUlNJT046bX0sQS5uZj17c2Y6d30sQS5hZj17Y2Y6ZixWRU5ET1I6eSxoZjp2LHBmOlQsdWY6UyxsZjpFLGRmOmIsZmY6SSxnZjpSfSxBLnZmPXtcImlmXCI6ZyxWRVJTSU9OOm19LEEueWY9e1wiaWZcIjpnLFZFUlNJT046bX0sdHlwZW9mIGUhPT1wPyh0eXBlb2YgdCE9PXAmJnQudCYmKGU9dC50PUEpLGUuQ3I9QSk6XCJmdW5jdGlvblwiPT09aCYmaSg2NCk/KHI9ZnVuY3Rpb24oKXtyZXR1cm4gQX0uY2FsbChlLGksZSx0KSwhKHIhPT1vJiYodC50PXIpKSk6bi5Dcj1BO3ZhciBOPW4ualF1ZXJ5fHxuLlplcHRvO2lmKHR5cGVvZiBOIT09cCl7dmFyIHg9bmV3IEE7Ti50Zj14LldkKCksTi50Zi5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4geC54ZCgpfSxOLnRmLnNldD1mdW5jdGlvbih0KXt4LkluKHQpO3ZhciBlPXguV2QoKTtmb3IodmFyIGkgaW4gZSlOLnRmW2ldPWVbaV19fX0oXCJvYmplY3RcIj09dHlwZW9mIHdpbmRvdz93aW5kb3c6dGhpcyl9LGZ1bmN0aW9uKHQsZSl7U2VydmljZXM9ezE6XCJSRU1PVEVfRVhFQ1VUT1JcIixtZjoxLDI6XCJQRUVSX0ZPUldBUkRFUlwiLHdmOjIsMzpcIlBFRVJfSU5ERVhcIixUZjozLDQ6XCJQRUVSX0JST0FEQ0FTVFwiLFNmOjQsNTpcIlBFRVJfRklMVEVSXCIsYmY6NSw2OlwiUEVFUl9MT0dHSU5HXCIsRWY6Niw3OlwiSElWRUpTX1RSQUNLRVJcIixJZjo3LDg6XCJQRUVSX1NZU1RFTVwiLFJmOjgsOTpcIkhJVkVKU19TTkFQU0hPVFNcIix0bzo5LDEwOlwiSElWRUpTX1RJQ0tFVFNcIixrZjoxMCwxMTpcIkhJVkVKU19LRUVQQUxJVkVcIixDZjoxMSwxMjpcIkhJVkVKU19GT1JXQVJESU5HXCIsT2Y6MTJ9fSxmdW5jdGlvbih0LGUsaSl7dmFyIHI9aSgxNik7U3RyZWFtVHlwZT17MTpcIkxJVkVcIixMSVZFOjEsMjpcIlZPRFwiLFBmOjJ9LFN0cmVhbVByb3RvY29sPXsxOlwiREFTSFwiLHJ0OjEsMjpcIkhEU1wiLEFmOjIsMzpcIkhMU1wiLFk6Myw0OlwiU1NcIixOZjo0fSxDbGllbnRUeXBlPXsxOlwiSkFWQVwiLHhmOjEsMjpcIlNUQVRTX09OTFlcIixCZjoyLDM6XCJKU19ESVJFQ1RcIixGZjozLDQ6XCJKU19QUk9YWVwiLF9mOjR9LEV2ZW50SWQ9ZnVuY3Rpb24odCl7dGhpcy5wYXJ0bmVySWQ9bnVsbCx0aGlzLmN1c3RvbWVySWQ9bnVsbCx0aGlzLmNvbnRlbnRJZD1udWxsLHRoaXMudGFncz1udWxsLHQmJih2b2lkIDAhPT10LnBhcnRuZXJJZCYmKHRoaXMucGFydG5lcklkPXQucGFydG5lcklkKSx2b2lkIDAhPT10LmN1c3RvbWVySWQmJih0aGlzLmN1c3RvbWVySWQ9dC5jdXN0b21lcklkKSx2b2lkIDAhPT10LmNvbnRlbnRJZCYmKHRoaXMuY29udGVudElkPXQuY29udGVudElkKSx2b2lkIDAhPT10LnRhZ3MmJih0aGlzLnRhZ3M9dC50YWdzKSl9LEV2ZW50SWQucHJvdG90eXBlPXt9LEV2ZW50SWQucHJvdG90eXBlLnJlYWQ9ZnVuY3Rpb24odCl7Zm9yKHQuSGMoKTs7KXt2YXIgZT10LnNhKCksaT0oZS5CYyxlLmFhKSxuPWUuY2E7aWYoaT09ci5icy5FcylicmVhaztzd2l0Y2gobil7Y2FzZSAxOmk9PXIuYnMuQXM/dGhpcy5wYXJ0bmVySWQ9dC5oYSgpLnZhbHVlOnQucGEoaSk7YnJlYWs7Y2FzZSAyOmk9PXIuYnMuQXM/dGhpcy5jdXN0b21lcklkPXQuaGEoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2Nhc2UgMzppPT1yLmJzLkFzP3RoaXMuY29udGVudElkPXQuaGEoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2Nhc2UgNDppZihpPT1yLmJzLl9zKXt2YXIgbyxzPTA7dGhpcy50YWdzPVtdO3ZhciBhPTA7bz10LlZjKCksYT1vLlFjLHM9by5zaXplO2Zvcih2YXIgYz0wO2M8czsrK2Mpe3ZhciBoPW51bGw7aD10LmhhKCkudmFsdWUsdGhpcy50YWdzLnB1c2goaCl9dC5xYygpfWVsc2UgdC5wYShpKTticmVhaztkZWZhdWx0OnQucGEoaSl9dC5sYSgpfXQuZGEoKX0sRXZlbnRJZC5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24odCl7aWYodC5mYShcIkV2ZW50SWRcIiksbnVsbCE9PXRoaXMucGFydG5lcklkJiZ2b2lkIDAhPT10aGlzLnBhcnRuZXJJZCYmKHQuZ2EoXCJwYXJ0bmVySWRcIixyLmJzLkFzLDEpLHQudmEodGhpcy5wYXJ0bmVySWQpLHQueWEoKSksbnVsbCE9PXRoaXMuY3VzdG9tZXJJZCYmdm9pZCAwIT09dGhpcy5jdXN0b21lcklkJiYodC5nYShcImN1c3RvbWVySWRcIixyLmJzLkFzLDIpLHQudmEodGhpcy5jdXN0b21lcklkKSx0LnlhKCkpLG51bGwhPT10aGlzLmNvbnRlbnRJZCYmdm9pZCAwIT09dGhpcy5jb250ZW50SWQmJih0LmdhKFwiY29udGVudElkXCIsci5icy5BcywzKSx0LnZhKHRoaXMuY29udGVudElkKSx0LnlhKCkpLG51bGwhPT10aGlzLnRhZ3MmJnZvaWQgMCE9PXRoaXMudGFncyl7dC5nYShcInRhZ3NcIixyLmJzLl9zLDQpLHQuVGMoci5icy5Bcyx0aGlzLnRhZ3MubGVuZ3RoKTtmb3IodmFyIGUgaW4gdGhpcy50YWdzKXRoaXMudGFncy5oYXNPd25Qcm9wZXJ0eShlKSYmKGU9dGhpcy50YWdzW2VdLHQudmEoZSkpO3QuU2MoKSx0LnlhKCl9dC53YSgpLHQuVGEoKX0sU25hcHNob3RJbmZvPWZ1bmN0aW9uKHQpe3RoaXMudGltZXN0YW1wPW51bGwsdGhpcy5hcGlTZXJ2ZXI9bnVsbCx0aGlzLmNsaWVudElwPW51bGwsdCYmKHZvaWQgMCE9PXQudGltZXN0YW1wJiYodGhpcy50aW1lc3RhbXA9dC50aW1lc3RhbXApLHZvaWQgMCE9PXQuYXBpU2VydmVyJiYodGhpcy5hcGlTZXJ2ZXI9dC5hcGlTZXJ2ZXIpLHZvaWQgMCE9PXQuY2xpZW50SXAmJih0aGlzLmNsaWVudElwPXQuY2xpZW50SXApKX0sU25hcHNob3RJbmZvLnByb3RvdHlwZT17fSxTbmFwc2hvdEluZm8ucHJvdG90eXBlLnJlYWQ9ZnVuY3Rpb24odCl7Zm9yKHQuSGMoKTs7KXt2YXIgZT10LnNhKCksaT0oZS5CYyxlLmFhKSxuPWUuY2E7aWYoaT09ci5icy5FcylicmVhaztzd2l0Y2gobil7Y2FzZSAxOmk9PXIuYnMuUHM/dGhpcy50aW1lc3RhbXA9dC4kYygpLnZhbHVlOnQucGEoaSk7YnJlYWs7Y2FzZSAyOmk9PXIuYnMuQXM/dGhpcy5hcGlTZXJ2ZXI9dC5oYSgpLnZhbHVlOnQucGEoaSk7YnJlYWs7Y2FzZSAzOmk9PXIuYnMuQXM/dGhpcy5jbGllbnRJcD10LmhhKCkudmFsdWU6dC5wYShpKTticmVhaztkZWZhdWx0OnQucGEoaSl9dC5sYSgpfXQuZGEoKX0sU25hcHNob3RJbmZvLnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbih0KXt0LmZhKFwiU25hcHNob3RJbmZvXCIpLG51bGwhPT10aGlzLnRpbWVzdGFtcCYmdm9pZCAwIT09dGhpcy50aW1lc3RhbXAmJih0LmdhKFwidGltZXN0YW1wXCIsci5icy5QcywxKSx0LkNjKHRoaXMudGltZXN0YW1wKSx0LnlhKCkpLG51bGwhPT10aGlzLmFwaVNlcnZlciYmdm9pZCAwIT09dGhpcy5hcGlTZXJ2ZXImJih0LmdhKFwiYXBpU2VydmVyXCIsci5icy5BcywyKSx0LnZhKHRoaXMuYXBpU2VydmVyKSx0LnlhKCkpLG51bGwhPT10aGlzLmNsaWVudElwJiZ2b2lkIDAhPT10aGlzLmNsaWVudElwJiYodC5nYShcImNsaWVudElwXCIsci5icy5BcywzKSx0LnZhKHRoaXMuY2xpZW50SXApLHQueWEoKSksdC53YSgpLHQuVGEoKX0sSW5ldEFkZHJlc3M9ZnVuY3Rpb24odCl7dGhpcy5hZGRyZXNzPW51bGwsdGhpcy5wb3J0PW51bGwsdCYmKHZvaWQgMCE9PXQuYWRkcmVzcyYmKHRoaXMuYWRkcmVzcz10LmFkZHJlc3MpLHZvaWQgMCE9PXQucG9ydCYmKHRoaXMucG9ydD10LnBvcnQpKX0sSW5ldEFkZHJlc3MucHJvdG90eXBlPXt9LEluZXRBZGRyZXNzLnByb3RvdHlwZS5yZWFkPWZ1bmN0aW9uKHQpe2Zvcih0LkhjKCk7Oyl7dmFyIGU9dC5zYSgpLGk9KGUuQmMsZS5hYSksbj1lLmNhO2lmKGk9PXIuYnMuRXMpYnJlYWs7c3dpdGNoKG4pe2Nhc2UgMTppPT1yLmJzLkFzP3RoaXMuYWRkcmVzcz10LlhjKCkudmFsdWU6dC5wYShpKTticmVhaztjYXNlIDI6aT09ci5icy5Pcz90aGlzLnBvcnQ9dC51YSgpLnZhbHVlOnQucGEoaSk7YnJlYWs7ZGVmYXVsdDp0LnBhKGkpfXQubGEoKX10LmRhKCl9LEluZXRBZGRyZXNzLnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbih0KXt0LmZhKFwiSW5ldEFkZHJlc3NcIiksbnVsbCE9PXRoaXMuYWRkcmVzcyYmdm9pZCAwIT09dGhpcy5hZGRyZXNzJiYodC5nYShcImFkZHJlc3NcIixyLmJzLkFzLDEpLHQuUGModGhpcy5hZGRyZXNzKSx0LnlhKCkpLG51bGwhPT10aGlzLnBvcnQmJnZvaWQgMCE9PXRoaXMucG9ydCYmKHQuZ2EoXCJwb3J0XCIsci5icy5PcywyKSx0Lm1hKHRoaXMucG9ydCksdC55YSgpKSx0LndhKCksdC5UYSgpfX0sZnVuY3Rpb24odCxlLGkpe3ZhciByPWkoMTYpO1widW5kZWZpbmVkXCI9PXR5cGVvZiBoaXZlJiYoaGl2ZT17fSksXCJ1bmRlZmluZWRcIj09dHlwZW9mIGhpdmUuc25hcHNob3RzJiYoaGl2ZS5zbmFwc2hvdHM9e30pLGhpdmUuc25hcHNob3RzLlRyYWZmaWM9ZnVuY3Rpb24odCl7dGhpcy5yZXFOPW51bGwsdGhpcy5yZXNwRmFsbGJhY2tOPW51bGwsdGhpcy5yZXNwRmFsbGJhY2tFcnJOPW51bGwsdGhpcy5yZXNwUDJwTj1udWxsLHRoaXMucmVxT3RoZXJOPW51bGwsdGhpcy5yZXNwRmFsbGJhY2tPdGhlck49bnVsbCx0aGlzLnJlc3BGYWxsYmFja090aGVydEVyck49bnVsbCx0aGlzLnNyY1JlcU49bnVsbCx0aGlzLnNyY1Jlc3BOPW51bGwsdGhpcy5zcmNSZXNwRXJyTj1udWxsLHRoaXMuc3JjUmVxUXQ9bnVsbCx0aGlzLnNyY1Jlc3BRdD1udWxsLHRoaXMuc3JjT3ZlclF0PW51bGwsdGhpcy5zcmNPdGhlclJlcU49bnVsbCx0aGlzLnNyY090aGVyUmVzcE49bnVsbCx0aGlzLnNyY090aGVyUmVzcEVyck49bnVsbCx0aGlzLnNyY090aGVyUmVxUXQ9bnVsbCx0aGlzLnNyY090aGVyUmVzcFF0PW51bGwsdGhpcy5zcmNPdGhlck92ZXJRdD1udWxsLHRoaXMucDJwU3ViUmVxTj1udWxsLHRoaXMucDJwU3ViUmVzcE49bnVsbCx0aGlzLnAycFN1YlJlc3BQYXJ0Tj1udWxsLHRoaXMucDJwU3ViUmVzcEVyck49bnVsbCx0aGlzLnAycFN1YlJlc3BFeHBOPW51bGwsdGhpcy5wMnBTdWJSZXFRdD1udWxsLHRoaXMucDJwU3ViUmVzcFF0PW51bGwsdGhpcy5wMnBEaXJlY3RRdD1udWxsLHRoaXMucDJwUmVsYXlRdD1udWxsLHRoaXMucDJwTmF0UXQ9bnVsbCx0aGlzLnAycFVkcGJRdD1udWxsLHRoaXMuZmFsbEFnZW50UmVzcE49bnVsbCx0aGlzLmZhbGxBZ2VudFByZWRIaXROPW51bGwsdGhpcy5mYWxsQWdlbnRGYWlsZWRSZXNwTj1udWxsLHRoaXMuZmFsbEFnZW50UHJlZE1pc3NOPW51bGwsdGhpcy5mYWxsQWdlbnRQcmVkUGFydGlhbEhpdE49bnVsbCx0aGlzLmZhbGxBZ2VuVHJhZmZpY1N1Y2Nlc3NRdD1udWxsLHRoaXMuZmFsbEFnZW5UcmFmZmljRmFpbHVyZVF0PW51bGwsdGhpcy5wMnBBZ2VudFByZWRIaXROPW51bGwsdGhpcy5wMnBBZ2VudFByZWRNaXNzTj1udWxsLHRoaXMucDJwQWdlbnRQcmVkUGFydGlhbEhpdE49bnVsbCx0aGlzLnAycEFnZW5UcmFmZmljU3VjY2Vzc1F0PW51bGwsdGhpcy5wMnBBZ2VuVHJhZmZpY0ZhaWx1cmVRdD1udWxsLHRoaXMucmVzcFAycE90aGVyTj1udWxsLHRoaXMubENhY2hlUmVzcE49bnVsbCx0aGlzLmxDYWNoZVJlc3BRdD1udWxsLHRoaXMucDJwT3V0U2l0ZUxvd1ByaW89bnVsbCx0JiYodm9pZCAwIT09dC5yZXFOJiYodGhpcy5yZXFOPXQucmVxTiksdm9pZCAwIT09dC5yZXNwRmFsbGJhY2tOJiYodGhpcy5yZXNwRmFsbGJhY2tOPXQucmVzcEZhbGxiYWNrTiksdm9pZCAwIT09dC5yZXNwRmFsbGJhY2tFcnJOJiYodGhpcy5yZXNwRmFsbGJhY2tFcnJOPXQucmVzcEZhbGxiYWNrRXJyTiksdm9pZCAwIT09dC5yZXNwUDJwTiYmKHRoaXMucmVzcFAycE49dC5yZXNwUDJwTiksdm9pZCAwIT09dC5yZXFPdGhlck4mJih0aGlzLnJlcU90aGVyTj10LnJlcU90aGVyTiksdm9pZCAwIT09dC5yZXNwRmFsbGJhY2tPdGhlck4mJih0aGlzLnJlc3BGYWxsYmFja090aGVyTj10LnJlc3BGYWxsYmFja090aGVyTiksdm9pZCAwIT09dC5yZXNwRmFsbGJhY2tPdGhlcnRFcnJOJiYodGhpcy5yZXNwRmFsbGJhY2tPdGhlcnRFcnJOPXQucmVzcEZhbGxiYWNrT3RoZXJ0RXJyTiksdm9pZCAwIT09dC5zcmNSZXFOJiYodGhpcy5zcmNSZXFOPXQuc3JjUmVxTiksdm9pZCAwIT09dC5zcmNSZXNwTiYmKHRoaXMuc3JjUmVzcE49dC5zcmNSZXNwTiksdm9pZCAwIT09dC5zcmNSZXNwRXJyTiYmKHRoaXMuc3JjUmVzcEVyck49dC5zcmNSZXNwRXJyTiksdm9pZCAwIT09dC5zcmNSZXFRdCYmKHRoaXMuc3JjUmVxUXQ9dC5zcmNSZXFRdCksdm9pZCAwIT09dC5zcmNSZXNwUXQmJih0aGlzLnNyY1Jlc3BRdD10LnNyY1Jlc3BRdCksdm9pZCAwIT09dC5zcmNPdmVyUXQmJih0aGlzLnNyY092ZXJRdD10LnNyY092ZXJRdCksdm9pZCAwIT09dC5zcmNPdGhlclJlcU4mJih0aGlzLnNyY090aGVyUmVxTj10LnNyY090aGVyUmVxTiksdm9pZCAwIT09dC5zcmNPdGhlclJlc3BOJiYodGhpcy5zcmNPdGhlclJlc3BOPXQuc3JjT3RoZXJSZXNwTiksdm9pZCAwIT09dC5zcmNPdGhlclJlc3BFcnJOJiYodGhpcy5zcmNPdGhlclJlc3BFcnJOPXQuc3JjT3RoZXJSZXNwRXJyTiksdm9pZCAwIT09dC5zcmNPdGhlclJlcVF0JiYodGhpcy5zcmNPdGhlclJlcVF0PXQuc3JjT3RoZXJSZXFRdCksdm9pZCAwIT09dC5zcmNPdGhlclJlc3BRdCYmKHRoaXMuc3JjT3RoZXJSZXNwUXQ9dC5zcmNPdGhlclJlc3BRdCksdm9pZCAwIT09dC5zcmNPdGhlck92ZXJRdCYmKHRoaXMuc3JjT3RoZXJPdmVyUXQ9dC5zcmNPdGhlck92ZXJRdCksXG52b2lkIDAhPT10LnAycFN1YlJlcU4mJih0aGlzLnAycFN1YlJlcU49dC5wMnBTdWJSZXFOKSx2b2lkIDAhPT10LnAycFN1YlJlc3BOJiYodGhpcy5wMnBTdWJSZXNwTj10LnAycFN1YlJlc3BOKSx2b2lkIDAhPT10LnAycFN1YlJlc3BQYXJ0TiYmKHRoaXMucDJwU3ViUmVzcFBhcnROPXQucDJwU3ViUmVzcFBhcnROKSx2b2lkIDAhPT10LnAycFN1YlJlc3BFcnJOJiYodGhpcy5wMnBTdWJSZXNwRXJyTj10LnAycFN1YlJlc3BFcnJOKSx2b2lkIDAhPT10LnAycFN1YlJlc3BFeHBOJiYodGhpcy5wMnBTdWJSZXNwRXhwTj10LnAycFN1YlJlc3BFeHBOKSx2b2lkIDAhPT10LnAycFN1YlJlcVF0JiYodGhpcy5wMnBTdWJSZXFRdD10LnAycFN1YlJlcVF0KSx2b2lkIDAhPT10LnAycFN1YlJlc3BRdCYmKHRoaXMucDJwU3ViUmVzcFF0PXQucDJwU3ViUmVzcFF0KSx2b2lkIDAhPT10LnAycERpcmVjdFF0JiYodGhpcy5wMnBEaXJlY3RRdD10LnAycERpcmVjdFF0KSx2b2lkIDAhPT10LnAycFJlbGF5UXQmJih0aGlzLnAycFJlbGF5UXQ9dC5wMnBSZWxheVF0KSx2b2lkIDAhPT10LnAycE5hdFF0JiYodGhpcy5wMnBOYXRRdD10LnAycE5hdFF0KSx2b2lkIDAhPT10LnAycFVkcGJRdCYmKHRoaXMucDJwVWRwYlF0PXQucDJwVWRwYlF0KSx2b2lkIDAhPT10LmZhbGxBZ2VudFJlc3BOJiYodGhpcy5mYWxsQWdlbnRSZXNwTj10LmZhbGxBZ2VudFJlc3BOKSx2b2lkIDAhPT10LmZhbGxBZ2VudFByZWRIaXROJiYodGhpcy5mYWxsQWdlbnRQcmVkSGl0Tj10LmZhbGxBZ2VudFByZWRIaXROKSx2b2lkIDAhPT10LmZhbGxBZ2VudEZhaWxlZFJlc3BOJiYodGhpcy5mYWxsQWdlbnRGYWlsZWRSZXNwTj10LmZhbGxBZ2VudEZhaWxlZFJlc3BOKSx2b2lkIDAhPT10LmZhbGxBZ2VudFByZWRNaXNzTiYmKHRoaXMuZmFsbEFnZW50UHJlZE1pc3NOPXQuZmFsbEFnZW50UHJlZE1pc3NOKSx2b2lkIDAhPT10LmZhbGxBZ2VudFByZWRQYXJ0aWFsSGl0TiYmKHRoaXMuZmFsbEFnZW50UHJlZFBhcnRpYWxIaXROPXQuZmFsbEFnZW50UHJlZFBhcnRpYWxIaXROKSx2b2lkIDAhPT10LmZhbGxBZ2VuVHJhZmZpY1N1Y2Nlc3NRdCYmKHRoaXMuZmFsbEFnZW5UcmFmZmljU3VjY2Vzc1F0PXQuZmFsbEFnZW5UcmFmZmljU3VjY2Vzc1F0KSx2b2lkIDAhPT10LmZhbGxBZ2VuVHJhZmZpY0ZhaWx1cmVRdCYmKHRoaXMuZmFsbEFnZW5UcmFmZmljRmFpbHVyZVF0PXQuZmFsbEFnZW5UcmFmZmljRmFpbHVyZVF0KSx2b2lkIDAhPT10LnAycEFnZW50UHJlZEhpdE4mJih0aGlzLnAycEFnZW50UHJlZEhpdE49dC5wMnBBZ2VudFByZWRIaXROKSx2b2lkIDAhPT10LnAycEFnZW50UHJlZE1pc3NOJiYodGhpcy5wMnBBZ2VudFByZWRNaXNzTj10LnAycEFnZW50UHJlZE1pc3NOKSx2b2lkIDAhPT10LnAycEFnZW50UHJlZFBhcnRpYWxIaXROJiYodGhpcy5wMnBBZ2VudFByZWRQYXJ0aWFsSGl0Tj10LnAycEFnZW50UHJlZFBhcnRpYWxIaXROKSx2b2lkIDAhPT10LnAycEFnZW5UcmFmZmljU3VjY2Vzc1F0JiYodGhpcy5wMnBBZ2VuVHJhZmZpY1N1Y2Nlc3NRdD10LnAycEFnZW5UcmFmZmljU3VjY2Vzc1F0KSx2b2lkIDAhPT10LnAycEFnZW5UcmFmZmljRmFpbHVyZVF0JiYodGhpcy5wMnBBZ2VuVHJhZmZpY0ZhaWx1cmVRdD10LnAycEFnZW5UcmFmZmljRmFpbHVyZVF0KSx2b2lkIDAhPT10LnJlc3BQMnBPdGhlck4mJih0aGlzLnJlc3BQMnBPdGhlck49dC5yZXNwUDJwT3RoZXJOKSx2b2lkIDAhPT10LmxDYWNoZVJlc3BOJiYodGhpcy5sQ2FjaGVSZXNwTj10LmxDYWNoZVJlc3BOKSx2b2lkIDAhPT10LmxDYWNoZVJlc3BRdCYmKHRoaXMubENhY2hlUmVzcFF0PXQubENhY2hlUmVzcFF0KSx2b2lkIDAhPT10LnAycE91dFNpdGVMb3dQcmlvJiYodGhpcy5wMnBPdXRTaXRlTG93UHJpbz10LnAycE91dFNpdGVMb3dQcmlvKSl9LGhpdmUuc25hcHNob3RzLlRyYWZmaWMucHJvdG90eXBlPXt9LGhpdmUuc25hcHNob3RzLlRyYWZmaWMucHJvdG90eXBlLnJlYWQ9ZnVuY3Rpb24odCl7Zm9yKHQuSGMoKTs7KXt2YXIgZT10LnNhKCksaT0oZS5CYyxlLmFhKSxuPWUuY2E7aWYoaT09ci5icy5FcylicmVhaztzd2l0Y2gobil7Y2FzZSAxOmk9PXIuYnMuT3M/dGhpcy5yZXFOPXQudWEoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2Nhc2UgMjppPT1yLmJzLmtzP3RoaXMucmVzcEZhbGxiYWNrTj10LlljKCkudmFsdWU6dC5wYShpKTticmVhaztjYXNlIDM6aT09ci5icy5Pcz90aGlzLnJlc3BGYWxsYmFja0Vyck49dC51YSgpLnZhbHVlOnQucGEoaSk7YnJlYWs7Y2FzZSA0Omk9PXIuYnMua3M/dGhpcy5yZXNwUDJwTj10LlljKCkudmFsdWU6dC5wYShpKTticmVhaztjYXNlIDU6aT09ci5icy5Pcz90aGlzLnJlcU90aGVyTj10LnVhKCkudmFsdWU6dC5wYShpKTticmVhaztjYXNlIDY6aT09ci5icy5Pcz90aGlzLnJlc3BGYWxsYmFja090aGVyTj10LnVhKCkudmFsdWU6dC5wYShpKTticmVhaztjYXNlIDc6aT09ci5icy5Pcz90aGlzLnJlc3BGYWxsYmFja090aGVydEVyck49dC51YSgpLnZhbHVlOnQucGEoaSk7YnJlYWs7Y2FzZSA4Omk9PXIuYnMuT3M/dGhpcy5zcmNSZXFOPXQudWEoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2Nhc2UgOTppPT1yLmJzLk9zP3RoaXMuc3JjUmVzcE49dC51YSgpLnZhbHVlOnQucGEoaSk7YnJlYWs7Y2FzZSAxMDppPT1yLmJzLk9zP3RoaXMuc3JjUmVzcEVyck49dC51YSgpLnZhbHVlOnQucGEoaSk7YnJlYWs7Y2FzZSAxMTppPT1yLmJzLlBzP3RoaXMuc3JjUmVxUXQ9dC4kYygpLnZhbHVlOnQucGEoaSk7YnJlYWs7Y2FzZSAxMjppPT1yLmJzLlBzP3RoaXMuc3JjUmVzcFF0PXQuJGMoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2Nhc2UgMTM6aT09ci5icy5Qcz90aGlzLnNyY092ZXJRdD10LiRjKCkudmFsdWU6dC5wYShpKTticmVhaztjYXNlIDE0Omk9PXIuYnMuT3M/dGhpcy5zcmNPdGhlclJlcU49dC51YSgpLnZhbHVlOnQucGEoaSk7YnJlYWs7Y2FzZSAxNTppPT1yLmJzLk9zP3RoaXMuc3JjT3RoZXJSZXNwTj10LnVhKCkudmFsdWU6dC5wYShpKTticmVhaztjYXNlIDE2Omk9PXIuYnMuT3M/dGhpcy5zcmNPdGhlclJlc3BFcnJOPXQudWEoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2Nhc2UgMTc6aT09ci5icy5Qcz90aGlzLnNyY090aGVyUmVxUXQ9dC4kYygpLnZhbHVlOnQucGEoaSk7YnJlYWs7Y2FzZSAxODppPT1yLmJzLlBzP3RoaXMuc3JjT3RoZXJSZXNwUXQ9dC4kYygpLnZhbHVlOnQucGEoaSk7YnJlYWs7Y2FzZSAxOTppPT1yLmJzLlBzP3RoaXMuc3JjT3RoZXJPdmVyUXQ9dC4kYygpLnZhbHVlOnQucGEoaSk7YnJlYWs7Y2FzZSAyMDppPT1yLmJzLk9zP3RoaXMucDJwU3ViUmVxTj10LnVhKCkudmFsdWU6dC5wYShpKTticmVhaztjYXNlIDIxOmk9PXIuYnMuT3M/dGhpcy5wMnBTdWJSZXNwTj10LnVhKCkudmFsdWU6dC5wYShpKTticmVhaztjYXNlIDIyOmk9PXIuYnMua3M/dGhpcy5wMnBTdWJSZXNwUGFydE49dC5ZYygpLnZhbHVlOnQucGEoaSk7YnJlYWs7Y2FzZSAyMzppPT1yLmJzLmtzP3RoaXMucDJwU3ViUmVzcEVyck49dC5ZYygpLnZhbHVlOnQucGEoaSk7YnJlYWs7Y2FzZSAyNDppPT1yLmJzLk9zP3RoaXMucDJwU3ViUmVzcEV4cE49dC51YSgpLnZhbHVlOnQucGEoaSk7YnJlYWs7Y2FzZSAyNTppPT1yLmJzLlBzP3RoaXMucDJwU3ViUmVxUXQ9dC4kYygpLnZhbHVlOnQucGEoaSk7YnJlYWs7Y2FzZSAyNjppPT1yLmJzLlBzP3RoaXMucDJwU3ViUmVzcFF0PXQuJGMoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2Nhc2UgMjc6aT09ci5icy5Qcz90aGlzLnAycERpcmVjdFF0PXQuJGMoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2Nhc2UgMjg6aT09ci5icy5Qcz90aGlzLnAycFJlbGF5UXQ9dC4kYygpLnZhbHVlOnQucGEoaSk7YnJlYWs7Y2FzZSAyOTppPT1yLmJzLlBzP3RoaXMucDJwTmF0UXQ9dC4kYygpLnZhbHVlOnQucGEoaSk7YnJlYWs7Y2FzZSAzMDppPT1yLmJzLlBzP3RoaXMucDJwVWRwYlF0PXQuJGMoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2Nhc2UgMzE6aT09ci5icy5Pcz90aGlzLmZhbGxBZ2VudFJlc3BOPXQudWEoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2Nhc2UgMzI6aT09ci5icy5Pcz90aGlzLmZhbGxBZ2VudFByZWRIaXROPXQudWEoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2Nhc2UgMzM6aT09ci5icy5Pcz90aGlzLmZhbGxBZ2VudEZhaWxlZFJlc3BOPXQudWEoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2Nhc2UgMzQ6aT09ci5icy5Pcz90aGlzLmZhbGxBZ2VudFByZWRNaXNzTj10LnVhKCkudmFsdWU6dC5wYShpKTticmVhaztjYXNlIDM1Omk9PXIuYnMuT3M/dGhpcy5mYWxsQWdlbnRQcmVkUGFydGlhbEhpdE49dC51YSgpLnZhbHVlOnQucGEoaSk7YnJlYWs7Y2FzZSAzNjppPT1yLmJzLlBzP3RoaXMuZmFsbEFnZW5UcmFmZmljU3VjY2Vzc1F0PXQuJGMoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2Nhc2UgMzc6aT09ci5icy5Qcz90aGlzLmZhbGxBZ2VuVHJhZmZpY0ZhaWx1cmVRdD10LiRjKCkudmFsdWU6dC5wYShpKTticmVhaztjYXNlIDM4Omk9PXIuYnMuT3M/dGhpcy5wMnBBZ2VudFByZWRIaXROPXQudWEoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2Nhc2UgMzk6aT09ci5icy5Pcz90aGlzLnAycEFnZW50UHJlZE1pc3NOPXQudWEoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2Nhc2UgNDA6aT09ci5icy5Pcz90aGlzLnAycEFnZW50UHJlZFBhcnRpYWxIaXROPXQudWEoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2Nhc2UgNDE6aT09ci5icy5Qcz90aGlzLnAycEFnZW5UcmFmZmljU3VjY2Vzc1F0PXQuJGMoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2Nhc2UgNDI6aT09ci5icy5Qcz90aGlzLnAycEFnZW5UcmFmZmljRmFpbHVyZVF0PXQuJGMoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2Nhc2UgNDM6aT09ci5icy5Pcz90aGlzLnJlc3BQMnBPdGhlck49dC51YSgpLnZhbHVlOnQucGEoaSk7YnJlYWs7Y2FzZSA0NDppPT1yLmJzLk9zP3RoaXMubENhY2hlUmVzcE49dC51YSgpLnZhbHVlOnQucGEoaSk7YnJlYWs7Y2FzZSA0NTppPT1yLmJzLlBzP3RoaXMubENhY2hlUmVzcFF0PXQuJGMoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2Nhc2UgNDY6aT09ci5icy5Qcz90aGlzLnAycE91dFNpdGVMb3dQcmlvPXQuJGMoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2RlZmF1bHQ6dC5wYShpKX10LmxhKCl9dC5kYSgpfSxoaXZlLnNuYXBzaG90cy5UcmFmZmljLnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbih0KXt0LmZhKFwiVHJhZmZpY1wiKSxudWxsIT09dGhpcy5yZXFOJiZ2b2lkIDAhPT10aGlzLnJlcU4mJih0LmdhKFwicmVxTlwiLHIuYnMuT3MsMSksdC5tYSh0aGlzLnJlcU4pLHQueWEoKSksbnVsbCE9PXRoaXMucmVzcEZhbGxiYWNrTiYmdm9pZCAwIT09dGhpcy5yZXNwRmFsbGJhY2tOJiYodC5nYShcInJlc3BGYWxsYmFja05cIixyLmJzLmtzLDIpLHQuT2ModGhpcy5yZXNwRmFsbGJhY2tOKSx0LnlhKCkpLG51bGwhPT10aGlzLnJlc3BGYWxsYmFja0Vyck4mJnZvaWQgMCE9PXRoaXMucmVzcEZhbGxiYWNrRXJyTiYmKHQuZ2EoXCJyZXNwRmFsbGJhY2tFcnJOXCIsci5icy5PcywzKSx0Lm1hKHRoaXMucmVzcEZhbGxiYWNrRXJyTiksdC55YSgpKSxudWxsIT09dGhpcy5yZXNwUDJwTiYmdm9pZCAwIT09dGhpcy5yZXNwUDJwTiYmKHQuZ2EoXCJyZXNwUDJwTlwiLHIuYnMua3MsNCksdC5PYyh0aGlzLnJlc3BQMnBOKSx0LnlhKCkpLG51bGwhPT10aGlzLnJlcU90aGVyTiYmdm9pZCAwIT09dGhpcy5yZXFPdGhlck4mJih0LmdhKFwicmVxT3RoZXJOXCIsci5icy5Pcyw1KSx0Lm1hKHRoaXMucmVxT3RoZXJOKSx0LnlhKCkpLG51bGwhPT10aGlzLnJlc3BGYWxsYmFja090aGVyTiYmdm9pZCAwIT09dGhpcy5yZXNwRmFsbGJhY2tPdGhlck4mJih0LmdhKFwicmVzcEZhbGxiYWNrT3RoZXJOXCIsci5icy5Pcyw2KSx0Lm1hKHRoaXMucmVzcEZhbGxiYWNrT3RoZXJOKSx0LnlhKCkpLG51bGwhPT10aGlzLnJlc3BGYWxsYmFja090aGVydEVyck4mJnZvaWQgMCE9PXRoaXMucmVzcEZhbGxiYWNrT3RoZXJ0RXJyTiYmKHQuZ2EoXCJyZXNwRmFsbGJhY2tPdGhlcnRFcnJOXCIsci5icy5Pcyw3KSx0Lm1hKHRoaXMucmVzcEZhbGxiYWNrT3RoZXJ0RXJyTiksdC55YSgpKSxudWxsIT09dGhpcy5zcmNSZXFOJiZ2b2lkIDAhPT10aGlzLnNyY1JlcU4mJih0LmdhKFwic3JjUmVxTlwiLHIuYnMuT3MsOCksdC5tYSh0aGlzLnNyY1JlcU4pLHQueWEoKSksbnVsbCE9PXRoaXMuc3JjUmVzcE4mJnZvaWQgMCE9PXRoaXMuc3JjUmVzcE4mJih0LmdhKFwic3JjUmVzcE5cIixyLmJzLk9zLDkpLHQubWEodGhpcy5zcmNSZXNwTiksdC55YSgpKSxudWxsIT09dGhpcy5zcmNSZXNwRXJyTiYmdm9pZCAwIT09dGhpcy5zcmNSZXNwRXJyTiYmKHQuZ2EoXCJzcmNSZXNwRXJyTlwiLHIuYnMuT3MsMTApLHQubWEodGhpcy5zcmNSZXNwRXJyTiksdC55YSgpKSxudWxsIT09dGhpcy5zcmNSZXFRdCYmdm9pZCAwIT09dGhpcy5zcmNSZXFRdCYmKHQuZ2EoXCJzcmNSZXFRdFwiLHIuYnMuUHMsMTEpLHQuQ2ModGhpcy5zcmNSZXFRdCksdC55YSgpKSxudWxsIT09dGhpcy5zcmNSZXNwUXQmJnZvaWQgMCE9PXRoaXMuc3JjUmVzcFF0JiYodC5nYShcInNyY1Jlc3BRdFwiLHIuYnMuUHMsMTIpLHQuQ2ModGhpcy5zcmNSZXNwUXQpLHQueWEoKSksbnVsbCE9PXRoaXMuc3JjT3ZlclF0JiZ2b2lkIDAhPT10aGlzLnNyY092ZXJRdCYmKHQuZ2EoXCJzcmNPdmVyUXRcIixyLmJzLlBzLDEzKSx0LkNjKHRoaXMuc3JjT3ZlclF0KSx0LnlhKCkpLG51bGwhPT10aGlzLnNyY090aGVyUmVxTiYmdm9pZCAwIT09dGhpcy5zcmNPdGhlclJlcU4mJih0LmdhKFwic3JjT3RoZXJSZXFOXCIsci5icy5PcywxNCksdC5tYSh0aGlzLnNyY090aGVyUmVxTiksdC55YSgpKSxudWxsIT09dGhpcy5zcmNPdGhlclJlc3BOJiZ2b2lkIDAhPT10aGlzLnNyY090aGVyUmVzcE4mJih0LmdhKFwic3JjT3RoZXJSZXNwTlwiLHIuYnMuT3MsMTUpLHQubWEodGhpcy5zcmNPdGhlclJlc3BOKSx0LnlhKCkpLG51bGwhPT10aGlzLnNyY090aGVyUmVzcEVyck4mJnZvaWQgMCE9PXRoaXMuc3JjT3RoZXJSZXNwRXJyTiYmKHQuZ2EoXCJzcmNPdGhlclJlc3BFcnJOXCIsci5icy5PcywxNiksdC5tYSh0aGlzLnNyY090aGVyUmVzcEVyck4pLHQueWEoKSksbnVsbCE9PXRoaXMuc3JjT3RoZXJSZXFRdCYmdm9pZCAwIT09dGhpcy5zcmNPdGhlclJlcVF0JiYodC5nYShcInNyY090aGVyUmVxUXRcIixyLmJzLlBzLDE3KSx0LkNjKHRoaXMuc3JjT3RoZXJSZXFRdCksdC55YSgpKSxudWxsIT09dGhpcy5zcmNPdGhlclJlc3BRdCYmdm9pZCAwIT09dGhpcy5zcmNPdGhlclJlc3BRdCYmKHQuZ2EoXCJzcmNPdGhlclJlc3BRdFwiLHIuYnMuUHMsMTgpLHQuQ2ModGhpcy5zcmNPdGhlclJlc3BRdCksdC55YSgpKSxudWxsIT09dGhpcy5zcmNPdGhlck92ZXJRdCYmdm9pZCAwIT09dGhpcy5zcmNPdGhlck92ZXJRdCYmKHQuZ2EoXCJzcmNPdGhlck92ZXJRdFwiLHIuYnMuUHMsMTkpLHQuQ2ModGhpcy5zcmNPdGhlck92ZXJRdCksdC55YSgpKSxudWxsIT09dGhpcy5wMnBTdWJSZXFOJiZ2b2lkIDAhPT10aGlzLnAycFN1YlJlcU4mJih0LmdhKFwicDJwU3ViUmVxTlwiLHIuYnMuT3MsMjApLHQubWEodGhpcy5wMnBTdWJSZXFOKSx0LnlhKCkpLG51bGwhPT10aGlzLnAycFN1YlJlc3BOJiZ2b2lkIDAhPT10aGlzLnAycFN1YlJlc3BOJiYodC5nYShcInAycFN1YlJlc3BOXCIsci5icy5PcywyMSksdC5tYSh0aGlzLnAycFN1YlJlc3BOKSx0LnlhKCkpLG51bGwhPT10aGlzLnAycFN1YlJlc3BQYXJ0TiYmdm9pZCAwIT09dGhpcy5wMnBTdWJSZXNwUGFydE4mJih0LmdhKFwicDJwU3ViUmVzcFBhcnROXCIsci5icy5rcywyMiksdC5PYyh0aGlzLnAycFN1YlJlc3BQYXJ0TiksdC55YSgpKSxudWxsIT09dGhpcy5wMnBTdWJSZXNwRXJyTiYmdm9pZCAwIT09dGhpcy5wMnBTdWJSZXNwRXJyTiYmKHQuZ2EoXCJwMnBTdWJSZXNwRXJyTlwiLHIuYnMua3MsMjMpLHQuT2ModGhpcy5wMnBTdWJSZXNwRXJyTiksdC55YSgpKSxudWxsIT09dGhpcy5wMnBTdWJSZXNwRXhwTiYmdm9pZCAwIT09dGhpcy5wMnBTdWJSZXNwRXhwTiYmKHQuZ2EoXCJwMnBTdWJSZXNwRXhwTlwiLHIuYnMuT3MsMjQpLHQubWEodGhpcy5wMnBTdWJSZXNwRXhwTiksdC55YSgpKSxudWxsIT09dGhpcy5wMnBTdWJSZXFRdCYmdm9pZCAwIT09dGhpcy5wMnBTdWJSZXFRdCYmKHQuZ2EoXCJwMnBTdWJSZXFRdFwiLHIuYnMuUHMsMjUpLHQuQ2ModGhpcy5wMnBTdWJSZXFRdCksdC55YSgpKSxudWxsIT09dGhpcy5wMnBTdWJSZXNwUXQmJnZvaWQgMCE9PXRoaXMucDJwU3ViUmVzcFF0JiYodC5nYShcInAycFN1YlJlc3BRdFwiLHIuYnMuUHMsMjYpLHQuQ2ModGhpcy5wMnBTdWJSZXNwUXQpLHQueWEoKSksbnVsbCE9PXRoaXMucDJwRGlyZWN0UXQmJnZvaWQgMCE9PXRoaXMucDJwRGlyZWN0UXQmJih0LmdhKFwicDJwRGlyZWN0UXRcIixyLmJzLlBzLDI3KSx0LkNjKHRoaXMucDJwRGlyZWN0UXQpLHQueWEoKSksbnVsbCE9PXRoaXMucDJwUmVsYXlRdCYmdm9pZCAwIT09dGhpcy5wMnBSZWxheVF0JiYodC5nYShcInAycFJlbGF5UXRcIixyLmJzLlBzLDI4KSx0LkNjKHRoaXMucDJwUmVsYXlRdCksdC55YSgpKSxudWxsIT09dGhpcy5wMnBOYXRRdCYmdm9pZCAwIT09dGhpcy5wMnBOYXRRdCYmKHQuZ2EoXCJwMnBOYXRRdFwiLHIuYnMuUHMsMjkpLHQuQ2ModGhpcy5wMnBOYXRRdCksdC55YSgpKSxudWxsIT09dGhpcy5wMnBVZHBiUXQmJnZvaWQgMCE9PXRoaXMucDJwVWRwYlF0JiYodC5nYShcInAycFVkcGJRdFwiLHIuYnMuUHMsMzApLHQuQ2ModGhpcy5wMnBVZHBiUXQpLHQueWEoKSksbnVsbCE9PXRoaXMuZmFsbEFnZW50UmVzcE4mJnZvaWQgMCE9PXRoaXMuZmFsbEFnZW50UmVzcE4mJih0LmdhKFwiZmFsbEFnZW50UmVzcE5cIixyLmJzLk9zLDMxKSx0Lm1hKHRoaXMuZmFsbEFnZW50UmVzcE4pLHQueWEoKSksbnVsbCE9PXRoaXMuZmFsbEFnZW50UHJlZEhpdE4mJnZvaWQgMCE9PXRoaXMuZmFsbEFnZW50UHJlZEhpdE4mJih0LmdhKFwiZmFsbEFnZW50UHJlZEhpdE5cIixyLmJzLk9zLDMyKSx0Lm1hKHRoaXMuZmFsbEFnZW50UHJlZEhpdE4pLHQueWEoKSksbnVsbCE9PXRoaXMuZmFsbEFnZW50RmFpbGVkUmVzcE4mJnZvaWQgMCE9PXRoaXMuZmFsbEFnZW50RmFpbGVkUmVzcE4mJih0LmdhKFwiZmFsbEFnZW50RmFpbGVkUmVzcE5cIixyLmJzLk9zLDMzKSx0Lm1hKHRoaXMuZmFsbEFnZW50RmFpbGVkUmVzcE4pLHQueWEoKSksbnVsbCE9PXRoaXMuZmFsbEFnZW50UHJlZE1pc3NOJiZ2b2lkIDAhPT10aGlzLmZhbGxBZ2VudFByZWRNaXNzTiYmKHQuZ2EoXCJmYWxsQWdlbnRQcmVkTWlzc05cIixyLmJzLk9zLDM0KSx0Lm1hKHRoaXMuZmFsbEFnZW50UHJlZE1pc3NOKSx0LnlhKCkpLG51bGwhPT10aGlzLmZhbGxBZ2VudFByZWRQYXJ0aWFsSGl0TiYmdm9pZCAwIT09dGhpcy5mYWxsQWdlbnRQcmVkUGFydGlhbEhpdE4mJih0LmdhKFwiZmFsbEFnZW50UHJlZFBhcnRpYWxIaXROXCIsci5icy5PcywzNSksdC5tYSh0aGlzLmZhbGxBZ2VudFByZWRQYXJ0aWFsSGl0TiksdC55YSgpKSxudWxsIT09dGhpcy5mYWxsQWdlblRyYWZmaWNTdWNjZXNzUXQmJnZvaWQgMCE9PXRoaXMuZmFsbEFnZW5UcmFmZmljU3VjY2Vzc1F0JiYodC5nYShcImZhbGxBZ2VuVHJhZmZpY1N1Y2Nlc3NRdFwiLHIuYnMuUHMsMzYpLHQuQ2ModGhpcy5mYWxsQWdlblRyYWZmaWNTdWNjZXNzUXQpLHQueWEoKSksbnVsbCE9PXRoaXMuZmFsbEFnZW5UcmFmZmljRmFpbHVyZVF0JiZ2b2lkIDAhPT10aGlzLmZhbGxBZ2VuVHJhZmZpY0ZhaWx1cmVRdCYmKHQuZ2EoXCJmYWxsQWdlblRyYWZmaWNGYWlsdXJlUXRcIixyLmJzLlBzLDM3KSx0LkNjKHRoaXMuZmFsbEFnZW5UcmFmZmljRmFpbHVyZVF0KSx0LnlhKCkpLG51bGwhPT10aGlzLnAycEFnZW50UHJlZEhpdE4mJnZvaWQgMCE9PXRoaXMucDJwQWdlbnRQcmVkSGl0TiYmKHQuZ2EoXCJwMnBBZ2VudFByZWRIaXROXCIsci5icy5PcywzOCksdC5tYSh0aGlzLnAycEFnZW50UHJlZEhpdE4pLHQueWEoKSksbnVsbCE9PXRoaXMucDJwQWdlbnRQcmVkTWlzc04mJnZvaWQgMCE9PXRoaXMucDJwQWdlbnRQcmVkTWlzc04mJih0LmdhKFwicDJwQWdlbnRQcmVkTWlzc05cIixyLmJzLk9zLDM5KSx0Lm1hKHRoaXMucDJwQWdlbnRQcmVkTWlzc04pLHQueWEoKSksbnVsbCE9PXRoaXMucDJwQWdlbnRQcmVkUGFydGlhbEhpdE4mJnZvaWQgMCE9PXRoaXMucDJwQWdlbnRQcmVkUGFydGlhbEhpdE4mJih0LmdhKFwicDJwQWdlbnRQcmVkUGFydGlhbEhpdE5cIixyLmJzLk9zLDQwKSx0Lm1hKHRoaXMucDJwQWdlbnRQcmVkUGFydGlhbEhpdE4pLHQueWEoKSksbnVsbCE9PXRoaXMucDJwQWdlblRyYWZmaWNTdWNjZXNzUXQmJnZvaWQgMCE9PXRoaXMucDJwQWdlblRyYWZmaWNTdWNjZXNzUXQmJih0LmdhKFwicDJwQWdlblRyYWZmaWNTdWNjZXNzUXRcIixyLmJzLlBzLDQxKSx0LkNjKHRoaXMucDJwQWdlblRyYWZmaWNTdWNjZXNzUXQpLHQueWEoKSksbnVsbCE9PXRoaXMucDJwQWdlblRyYWZmaWNGYWlsdXJlUXQmJnZvaWQgMCE9PXRoaXMucDJwQWdlblRyYWZmaWNGYWlsdXJlUXQmJih0LmdhKFwicDJwQWdlblRyYWZmaWNGYWlsdXJlUXRcIixyLmJzLlBzLDQyKSx0LkNjKHRoaXMucDJwQWdlblRyYWZmaWNGYWlsdXJlUXQpLHQueWEoKSksbnVsbCE9PXRoaXMucmVzcFAycE90aGVyTiYmdm9pZCAwIT09dGhpcy5yZXNwUDJwT3RoZXJOJiYodC5nYShcInJlc3BQMnBPdGhlck5cIixyLmJzLk9zLDQzKSx0Lm1hKHRoaXMucmVzcFAycE90aGVyTiksdC55YSgpKSxudWxsIT09dGhpcy5sQ2FjaGVSZXNwTiYmdm9pZCAwIT09dGhpcy5sQ2FjaGVSZXNwTiYmKHQuZ2EoXCJsQ2FjaGVSZXNwTlwiLHIuYnMuT3MsNDQpLHQubWEodGhpcy5sQ2FjaGVSZXNwTiksdC55YSgpKSxudWxsIT09dGhpcy5sQ2FjaGVSZXNwUXQmJnZvaWQgMCE9PXRoaXMubENhY2hlUmVzcFF0JiYodC5nYShcImxDYWNoZVJlc3BRdFwiLHIuYnMuUHMsNDUpLHQuQ2ModGhpcy5sQ2FjaGVSZXNwUXQpLHQueWEoKSksbnVsbCE9PXRoaXMucDJwT3V0U2l0ZUxvd1ByaW8mJnZvaWQgMCE9PXRoaXMucDJwT3V0U2l0ZUxvd1ByaW8mJih0LmdhKFwicDJwT3V0U2l0ZUxvd1ByaW9cIixyLmJzLlBzLDQ2KSx0LkNjKHRoaXMucDJwT3V0U2l0ZUxvd1ByaW8pLHQueWEoKSksdC53YSgpLHQuVGEoKX0saGl2ZS5zbmFwc2hvdHMuTWV0cmljcz1mdW5jdGlvbih0KXt0aGlzLnVwQlc9bnVsbCx0aGlzLmRvd25CVz1udWxsLHRoaXMubWVtTj1udWxsLHRoaXMucHJ0SW5OPW51bGwsdGhpcy5wcnRPdXROPW51bGwsdGhpcy5pbml0VmlkZW9CdWZRdD1udWxsLHRoaXMudmlkZW9BdmdCdWZRdD1udWxsLHRoaXMudmlkZW9CdWZRdD1udWxsLHRoaXMudmlkZW9CdWZOPW51bGwsdGhpcy5pbml0QXVkaW9CdWZRdD1udWxsLHRoaXMuYXVkaW9BdmdCdWZRdD1udWxsLHRoaXMuYXVkaW9CdWZRdD1udWxsLHRoaXMuYXVkaW9CdWZOPW51bGwsdGhpcy5iaXRyYXRlVXBOPW51bGwsdGhpcy5iaXRyYXRlRHduTj1udWxsLHRoaXMuZGVsYXk9bnVsbCx0aGlzLmRlbGF5RW5mb3JjZW1lbnQ9bnVsbCx0aGlzLmxvb2t1cFJlcUVzdGFibGlzaGVkPW51bGwsdGhpcy5sb29rdXBSZXFBY2NlcHQ9bnVsbCx0aGlzLmZhbGxiYWNrQXZnVHA9bnVsbCx0aGlzLnNyY1Rocm91Z2hwdXQ9bnVsbCx0aGlzLmRpc2tSZWFkVGltZW91dD1udWxsLHRoaXMuZGlza1JlYWRSYXRlPW51bGwsdGhpcy5kaXNrU3RvcmVSYXRlPW51bGwsdGhpcy5kaXNrUmVtb3ZlUmF0ZT1udWxsLHRoaXMuZGlza0NhY2hlU2l6ZT1udWxsLHRoaXMuY2xpZW50QnVmZmVyTXM9bnVsbCx0aGlzLmxvb2t1cFRvdGFsPW51bGwsdGhpcy5sb29rdXBOb3RGb3VuZD1udWxsLHRoaXMubG9va3VwRmFpbGVkPW51bGwsdGhpcy5sb29rdXBMYXRlbmN5PW51bGwsdGhpcy50cmFja2VyRmFpbGVkPW51bGwsdGhpcy50cmFja2VyTGF0ZW5jeT1udWxsLHRoaXMuc25hcHNob3RGYWlsZWQ9bnVsbCx0aGlzLnNuYXBzaG90TGF0ZW5jeT1udWxsLHQmJih2b2lkIDAhPT10LnVwQlcmJih0aGlzLnVwQlc9dC51cEJXKSx2b2lkIDAhPT10LmRvd25CVyYmKHRoaXMuZG93bkJXPXQuZG93bkJXKSx2b2lkIDAhPT10Lm1lbU4mJih0aGlzLm1lbU49dC5tZW1OKSx2b2lkIDAhPT10LnBydEluTiYmKHRoaXMucHJ0SW5OPXQucHJ0SW5OKSx2b2lkIDAhPT10LnBydE91dE4mJih0aGlzLnBydE91dE49dC5wcnRPdXROKSx2b2lkIDAhPT10LmluaXRWaWRlb0J1ZlF0JiYodGhpcy5pbml0VmlkZW9CdWZRdD10LmluaXRWaWRlb0J1ZlF0KSx2b2lkIDAhPT10LnZpZGVvQXZnQnVmUXQmJih0aGlzLnZpZGVvQXZnQnVmUXQ9dC52aWRlb0F2Z0J1ZlF0KSx2b2lkIDAhPT10LnZpZGVvQnVmUXQmJih0aGlzLnZpZGVvQnVmUXQ9dC52aWRlb0J1ZlF0KSx2b2lkIDAhPT10LnZpZGVvQnVmTiYmKHRoaXMudmlkZW9CdWZOPXQudmlkZW9CdWZOKSx2b2lkIDAhPT10LmluaXRBdWRpb0J1ZlF0JiYodGhpcy5pbml0QXVkaW9CdWZRdD10LmluaXRBdWRpb0J1ZlF0KSx2b2lkIDAhPT10LmF1ZGlvQXZnQnVmUXQmJih0aGlzLmF1ZGlvQXZnQnVmUXQ9dC5hdWRpb0F2Z0J1ZlF0KSx2b2lkIDAhPT10LmF1ZGlvQnVmUXQmJih0aGlzLmF1ZGlvQnVmUXQ9dC5hdWRpb0J1ZlF0KSx2b2lkIDAhPT10LmF1ZGlvQnVmTiYmKHRoaXMuYXVkaW9CdWZOPXQuYXVkaW9CdWZOKSx2b2lkIDAhPT10LmJpdHJhdGVVcE4mJih0aGlzLmJpdHJhdGVVcE49dC5iaXRyYXRlVXBOKSx2b2lkIDAhPT10LmJpdHJhdGVEd25OJiYodGhpcy5iaXRyYXRlRHduTj10LmJpdHJhdGVEd25OKSx2b2lkIDAhPT10LmRlbGF5JiYodGhpcy5kZWxheT10LmRlbGF5KSx2b2lkIDAhPT10LmRlbGF5RW5mb3JjZW1lbnQmJih0aGlzLmRlbGF5RW5mb3JjZW1lbnQ9dC5kZWxheUVuZm9yY2VtZW50KSx2b2lkIDAhPT10Lmxvb2t1cFJlcUVzdGFibGlzaGVkJiYodGhpcy5sb29rdXBSZXFFc3RhYmxpc2hlZD10Lmxvb2t1cFJlcUVzdGFibGlzaGVkKSx2b2lkIDAhPT10Lmxvb2t1cFJlcUFjY2VwdCYmKHRoaXMubG9va3VwUmVxQWNjZXB0PXQubG9va3VwUmVxQWNjZXB0KSx2b2lkIDAhPT10LmZhbGxiYWNrQXZnVHAmJih0aGlzLmZhbGxiYWNrQXZnVHA9dC5mYWxsYmFja0F2Z1RwKSx2b2lkIDAhPT10LnNyY1Rocm91Z2hwdXQmJih0aGlzLnNyY1Rocm91Z2hwdXQ9dC5zcmNUaHJvdWdocHV0KSx2b2lkIDAhPT10LmRpc2tSZWFkVGltZW91dCYmKHRoaXMuZGlza1JlYWRUaW1lb3V0PXQuZGlza1JlYWRUaW1lb3V0KSx2b2lkIDAhPT10LmRpc2tSZWFkUmF0ZSYmKHRoaXMuZGlza1JlYWRSYXRlPXQuZGlza1JlYWRSYXRlKSx2b2lkIDAhPT10LmRpc2tTdG9yZVJhdGUmJih0aGlzLmRpc2tTdG9yZVJhdGU9dC5kaXNrU3RvcmVSYXRlKSx2b2lkIDAhPT10LmRpc2tSZW1vdmVSYXRlJiYodGhpcy5kaXNrUmVtb3ZlUmF0ZT10LmRpc2tSZW1vdmVSYXRlKSx2b2lkIDAhPT10LmRpc2tDYWNoZVNpemUmJih0aGlzLmRpc2tDYWNoZVNpemU9dC5kaXNrQ2FjaGVTaXplKSx2b2lkIDAhPT10LmNsaWVudEJ1ZmZlck1zJiYodGhpcy5jbGllbnRCdWZmZXJNcz10LmNsaWVudEJ1ZmZlck1zKSx2b2lkIDAhPT10Lmxvb2t1cFRvdGFsJiYodGhpcy5sb29rdXBUb3RhbD10Lmxvb2t1cFRvdGFsKSx2b2lkIDAhPT10Lmxvb2t1cE5vdEZvdW5kJiYodGhpcy5sb29rdXBOb3RGb3VuZD10Lmxvb2t1cE5vdEZvdW5kKSx2b2lkIDAhPT10Lmxvb2t1cEZhaWxlZCYmKHRoaXMubG9va3VwRmFpbGVkPXQubG9va3VwRmFpbGVkKSx2b2lkIDAhPT10Lmxvb2t1cExhdGVuY3kmJih0aGlzLmxvb2t1cExhdGVuY3k9dC5sb29rdXBMYXRlbmN5KSx2b2lkIDAhPT10LnRyYWNrZXJGYWlsZWQmJih0aGlzLnRyYWNrZXJGYWlsZWQ9dC50cmFja2VyRmFpbGVkKSx2b2lkIDAhPT10LnRyYWNrZXJMYXRlbmN5JiYodGhpcy50cmFja2VyTGF0ZW5jeT10LnRyYWNrZXJMYXRlbmN5KSx2b2lkIDAhPT10LnNuYXBzaG90RmFpbGVkJiYodGhpcy5zbmFwc2hvdEZhaWxlZD10LnNuYXBzaG90RmFpbGVkKSx2b2lkIDAhPT10LnNuYXBzaG90TGF0ZW5jeSYmKHRoaXMuc25hcHNob3RMYXRlbmN5PXQuc25hcHNob3RMYXRlbmN5KSl9LGhpdmUuc25hcHNob3RzLk1ldHJpY3MucHJvdG90eXBlPXt9LGhpdmUuc25hcHNob3RzLk1ldHJpY3MucHJvdG90eXBlLnJlYWQ9ZnVuY3Rpb24odCl7Zm9yKHQuSGMoKTs7KXt2YXIgZT10LnNhKCksaT0oZS5CYyxlLmFhKSxuPWUuY2E7aWYoaT09ci5icy5FcylicmVhaztzd2l0Y2gobil7Y2FzZSAxOmk9PXIuYnMuT3M/dGhpcy51cEJXPXQudWEoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2Nhc2UgMjppPT1yLmJzLk9zP3RoaXMuZG93bkJXPXQudWEoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2Nhc2UgMzppPT1yLmJzLk9zP3RoaXMubWVtTj10LnVhKCkudmFsdWU6dC5wYShpKTticmVhaztjYXNlIDQ6aT09ci5icy5Pcz90aGlzLnBydEluTj10LnVhKCkudmFsdWU6dC5wYShpKTticmVhaztjYXNlIDU6aT09ci5icy5Pcz90aGlzLnBydE91dE49dC51YSgpLnZhbHVlOnQucGEoaSk7YnJlYWs7Y2FzZSA2Omk9PXIuYnMuUHM/dGhpcy5pbml0VmlkZW9CdWZRdD10LiRjKCkudmFsdWU6dC5wYShpKTticmVhaztjYXNlIDc6aT09ci5icy5rcz90aGlzLnZpZGVvQXZnQnVmUXQ9dC5ZYygpLnZhbHVlOnQucGEoaSk7YnJlYWs7Y2FzZSA4Omk9PXIuYnMuUHM/dGhpcy52aWRlb0J1ZlF0PXQuJGMoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2Nhc2UgOTppPT1yLmJzLk9zP3RoaXMudmlkZW9CdWZOPXQudWEoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2Nhc2UgMTA6aT09ci5icy5Pcz90aGlzLmluaXRBdWRpb0J1ZlF0PXQudWEoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2Nhc2UgMTE6aT09ci5icy5rcz90aGlzLmF1ZGlvQXZnQnVmUXQ9dC5ZYygpLnZhbHVlOnQucGEoaSk7YnJlYWs7Y2FzZSAxMjppPT1yLmJzLlBzP3RoaXMuYXVkaW9CdWZRdD10LiRjKCkudmFsdWU6dC5wYShpKTticmVhaztjYXNlIDEzOmk9PXIuYnMuT3M/dGhpcy5hdWRpb0J1Zk49dC51YSgpLnZhbHVlOnQucGEoaSk7YnJlYWs7Y2FzZSAxNDppPT1yLmJzLk9zP3RoaXMuYml0cmF0ZVVwTj10LnVhKCkudmFsdWU6dC5wYShpKTticmVhaztjYXNlIDE1Omk9PXIuYnMuT3M/dGhpcy5iaXRyYXRlRHduTj10LnVhKCkudmFsdWU6dC5wYShpKTticmVhaztjYXNlIDE2Omk9PXIuYnMuT3M/dGhpcy5kZWxheT10LnVhKCkudmFsdWU6dC5wYShpKTticmVhaztjYXNlIDE3Omk9PXIuYnMuT3M/dGhpcy5kZWxheUVuZm9yY2VtZW50PXQudWEoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2Nhc2UgMTg6aT09ci5icy5Pcz90aGlzLmxvb2t1cFJlcUVzdGFibGlzaGVkPXQudWEoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2Nhc2UgMTk6aT09ci5icy5Pcz90aGlzLmxvb2t1cFJlcUFjY2VwdD10LnVhKCkudmFsdWU6dC5wYShpKTticmVhaztjYXNlIDIwOmk9PXIuYnMua3M/dGhpcy5mYWxsYmFja0F2Z1RwPXQuWWMoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2Nhc2UgMjE6aT09ci5icy5rcz90aGlzLnNyY1Rocm91Z2hwdXQ9dC5ZYygpLnZhbHVlOnQucGEoaSk7YnJlYWs7Y2FzZSAyMjppPT1yLmJzLk9zP3RoaXMuZGlza1JlYWRUaW1lb3V0PXQudWEoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2Nhc2UgMjM6aT09ci5icy5rcz90aGlzLmRpc2tSZWFkUmF0ZT10LlljKCkudmFsdWU6dC5wYShpKTticmVhaztjYXNlIDI0Omk9PXIuYnMua3M/dGhpcy5kaXNrU3RvcmVSYXRlPXQuWWMoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2Nhc2UgMjU6aT09ci5icy5rcz90aGlzLmRpc2tSZW1vdmVSYXRlPXQuWWMoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2Nhc2UgMjY6aT09ci5icy5Qcz90aGlzLmRpc2tDYWNoZVNpemU9dC4kYygpLnZhbHVlOnQucGEoaSk7YnJlYWs7Y2FzZSAyNzppPT1yLmJzLk9zP3RoaXMuY2xpZW50QnVmZmVyTXM9dC51YSgpLnZhbHVlOnQucGEoaSk7YnJlYWs7Y2FzZSAyODppPT1yLmJzLk9zP3RoaXMubG9va3VwVG90YWw9dC51YSgpLnZhbHVlOnQucGEoaSk7YnJlYWs7Y2FzZSAyOTppPT1yLmJzLk9zP3RoaXMubG9va3VwTm90Rm91bmQ9dC51YSgpLnZhbHVlOnQucGEoaSk7YnJlYWs7Y2FzZSAzMDppPT1yLmJzLk9zP3RoaXMubG9va3VwRmFpbGVkPXQudWEoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2Nhc2UgMzE6aT09ci5icy5Pcz90aGlzLmxvb2t1cExhdGVuY3k9dC51YSgpLnZhbHVlOnQucGEoaSk7YnJlYWs7Y2FzZSAzMjppPT1yLmJzLk9zP3RoaXMudHJhY2tlckZhaWxlZD10LnVhKCkudmFsdWU6dC5wYShpKTticmVhaztjYXNlIDMzOmk9PXIuYnMuT3M/dGhpcy50cmFja2VyTGF0ZW5jeT10LnVhKCkudmFsdWU6dC5wYShpKTticmVhaztjYXNlIDM0Omk9PXIuYnMuT3M/dGhpcy5zbmFwc2hvdEZhaWxlZD10LnVhKCkudmFsdWU6dC5wYShpKTticmVhaztjYXNlIDM1Omk9PXIuYnMuT3M/dGhpcy5zbmFwc2hvdExhdGVuY3k9dC51YSgpLnZhbHVlOnQucGEoaSk7YnJlYWs7ZGVmYXVsdDp0LnBhKGkpfXQubGEoKX10LmRhKCl9LGhpdmUuc25hcHNob3RzLk1ldHJpY3MucHJvdG90eXBlLndyaXRlPWZ1bmN0aW9uKHQpe3QuZmEoXCJNZXRyaWNzXCIpLG51bGwhPT10aGlzLnVwQlcmJnZvaWQgMCE9PXRoaXMudXBCVyYmKHQuZ2EoXCJ1cEJXXCIsci5icy5PcywxKSx0Lm1hKHRoaXMudXBCVyksdC55YSgpKSxudWxsIT09dGhpcy5kb3duQlcmJnZvaWQgMCE9PXRoaXMuZG93bkJXJiYodC5nYShcImRvd25CV1wiLHIuYnMuT3MsMiksdC5tYSh0aGlzLmRvd25CVyksdC55YSgpKSxudWxsIT09dGhpcy5tZW1OJiZ2b2lkIDAhPT10aGlzLm1lbU4mJih0LmdhKFwibWVtTlwiLHIuYnMuT3MsMyksdC5tYSh0aGlzLm1lbU4pLHQueWEoKSksbnVsbCE9PXRoaXMucHJ0SW5OJiZ2b2lkIDAhPT10aGlzLnBydEluTiYmKHQuZ2EoXCJwcnRJbk5cIixyLmJzLk9zLDQpLHQubWEodGhpcy5wcnRJbk4pLHQueWEoKSksbnVsbCE9PXRoaXMucHJ0T3V0TiYmdm9pZCAwIT09dGhpcy5wcnRPdXROJiYodC5nYShcInBydE91dE5cIixyLmJzLk9zLDUpLHQubWEodGhpcy5wcnRPdXROKSx0LnlhKCkpLG51bGwhPT10aGlzLmluaXRWaWRlb0J1ZlF0JiZ2b2lkIDAhPT10aGlzLmluaXRWaWRlb0J1ZlF0JiYodC5nYShcImluaXRWaWRlb0J1ZlF0XCIsci5icy5Qcyw2KSx0LkNjKHRoaXMuaW5pdFZpZGVvQnVmUXQpLHQueWEoKSksbnVsbCE9PXRoaXMudmlkZW9BdmdCdWZRdCYmdm9pZCAwIT09dGhpcy52aWRlb0F2Z0J1ZlF0JiYodC5nYShcInZpZGVvQXZnQnVmUXRcIixyLmJzLmtzLDcpLHQuT2ModGhpcy52aWRlb0F2Z0J1ZlF0KSx0LnlhKCkpLG51bGwhPT10aGlzLnZpZGVvQnVmUXQmJnZvaWQgMCE9PXRoaXMudmlkZW9CdWZRdCYmKHQuZ2EoXCJ2aWRlb0J1ZlF0XCIsci5icy5Qcyw4KSx0LkNjKHRoaXMudmlkZW9CdWZRdCksdC55YSgpKSxudWxsIT09dGhpcy52aWRlb0J1Zk4mJnZvaWQgMCE9PXRoaXMudmlkZW9CdWZOJiYodC5nYShcInZpZGVvQnVmTlwiLHIuYnMuT3MsOSksdC5tYSh0aGlzLnZpZGVvQnVmTiksdC55YSgpKSxudWxsIT09dGhpcy5pbml0QXVkaW9CdWZRdCYmdm9pZCAwIT09dGhpcy5pbml0QXVkaW9CdWZRdCYmKHQuZ2EoXCJpbml0QXVkaW9CdWZRdFwiLHIuYnMuT3MsMTApLHQubWEodGhpcy5pbml0QXVkaW9CdWZRdCksdC55YSgpKSxudWxsIT09dGhpcy5hdWRpb0F2Z0J1ZlF0JiZ2b2lkIDAhPT10aGlzLmF1ZGlvQXZnQnVmUXQmJih0LmdhKFwiYXVkaW9BdmdCdWZRdFwiLHIuYnMua3MsMTEpLHQuT2ModGhpcy5hdWRpb0F2Z0J1ZlF0KSx0LnlhKCkpLG51bGwhPT10aGlzLmF1ZGlvQnVmUXQmJnZvaWQgMCE9PXRoaXMuYXVkaW9CdWZRdCYmKHQuZ2EoXCJhdWRpb0J1ZlF0XCIsci5icy5QcywxMiksdC5DYyh0aGlzLmF1ZGlvQnVmUXQpLHQueWEoKSksbnVsbCE9PXRoaXMuYXVkaW9CdWZOJiZ2b2lkIDAhPT10aGlzLmF1ZGlvQnVmTiYmKHQuZ2EoXCJhdWRpb0J1Zk5cIixyLmJzLk9zLDEzKSx0Lm1hKHRoaXMuYXVkaW9CdWZOKSx0LnlhKCkpLG51bGwhPT10aGlzLmJpdHJhdGVVcE4mJnZvaWQgMCE9PXRoaXMuYml0cmF0ZVVwTiYmKHQuZ2EoXCJiaXRyYXRlVXBOXCIsci5icy5PcywxNCksdC5tYSh0aGlzLmJpdHJhdGVVcE4pLHQueWEoKSksbnVsbCE9PXRoaXMuYml0cmF0ZUR3bk4mJnZvaWQgMCE9PXRoaXMuYml0cmF0ZUR3bk4mJih0LmdhKFwiYml0cmF0ZUR3bk5cIixyLmJzLk9zLDE1KSx0Lm1hKHRoaXMuYml0cmF0ZUR3bk4pLHQueWEoKSksbnVsbCE9PXRoaXMuZGVsYXkmJnZvaWQgMCE9PXRoaXMuZGVsYXkmJih0LmdhKFwiZGVsYXlcIixyLmJzLk9zLDE2KSx0Lm1hKHRoaXMuZGVsYXkpLHQueWEoKSksbnVsbCE9PXRoaXMuZGVsYXlFbmZvcmNlbWVudCYmdm9pZCAwIT09dGhpcy5kZWxheUVuZm9yY2VtZW50JiYodC5nYShcImRlbGF5RW5mb3JjZW1lbnRcIixyLmJzLk9zLDE3KSx0Lm1hKHRoaXMuZGVsYXlFbmZvcmNlbWVudCksdC55YSgpKSxudWxsIT09dGhpcy5sb29rdXBSZXFFc3RhYmxpc2hlZCYmdm9pZCAwIT09dGhpcy5sb29rdXBSZXFFc3RhYmxpc2hlZCYmKHQuZ2EoXCJsb29rdXBSZXFFc3RhYmxpc2hlZFwiLHIuYnMuT3MsMTgpLHQubWEodGhpcy5sb29rdXBSZXFFc3RhYmxpc2hlZCksdC55YSgpKSxudWxsIT09dGhpcy5sb29rdXBSZXFBY2NlcHQmJnZvaWQgMCE9PXRoaXMubG9va3VwUmVxQWNjZXB0JiYodC5nYShcImxvb2t1cFJlcUFjY2VwdFwiLHIuYnMuT3MsMTkpLHQubWEodGhpcy5sb29rdXBSZXFBY2NlcHQpLHQueWEoKSksbnVsbCE9PXRoaXMuZmFsbGJhY2tBdmdUcCYmdm9pZCAwIT09dGhpcy5mYWxsYmFja0F2Z1RwJiYodC5nYShcImZhbGxiYWNrQXZnVHBcIixyLmJzLmtzLDIwKSx0Lk9jKHRoaXMuZmFsbGJhY2tBdmdUcCksdC55YSgpKSxudWxsIT09dGhpcy5zcmNUaHJvdWdocHV0JiZ2b2lkIDAhPT10aGlzLnNyY1Rocm91Z2hwdXQmJih0LmdhKFwic3JjVGhyb3VnaHB1dFwiLHIuYnMua3MsMjEpLHQuT2ModGhpcy5zcmNUaHJvdWdocHV0KSx0LnlhKCkpLG51bGwhPT10aGlzLmRpc2tSZWFkVGltZW91dCYmdm9pZCAwIT09dGhpcy5kaXNrUmVhZFRpbWVvdXQmJih0LmdhKFwiZGlza1JlYWRUaW1lb3V0XCIsci5icy5PcywyMiksdC5tYSh0aGlzLmRpc2tSZWFkVGltZW91dCksdC55YSgpKSxudWxsIT09dGhpcy5kaXNrUmVhZFJhdGUmJnZvaWQgMCE9PXRoaXMuZGlza1JlYWRSYXRlJiYodC5nYShcImRpc2tSZWFkUmF0ZVwiLHIuYnMua3MsMjMpLHQuT2ModGhpcy5kaXNrUmVhZFJhdGUpLHQueWEoKSksbnVsbCE9PXRoaXMuZGlza1N0b3JlUmF0ZSYmdm9pZCAwIT09dGhpcy5kaXNrU3RvcmVSYXRlJiYodC5nYShcImRpc2tTdG9yZVJhdGVcIixyLmJzLmtzLDI0KSx0Lk9jKHRoaXMuZGlza1N0b3JlUmF0ZSksdC55YSgpKSxudWxsIT09dGhpcy5kaXNrUmVtb3ZlUmF0ZSYmdm9pZCAwIT09dGhpcy5kaXNrUmVtb3ZlUmF0ZSYmKHQuZ2EoXCJkaXNrUmVtb3ZlUmF0ZVwiLHIuYnMua3MsMjUpLHQuT2ModGhpcy5kaXNrUmVtb3ZlUmF0ZSksdC55YSgpKSxudWxsIT09dGhpcy5kaXNrQ2FjaGVTaXplJiZ2b2lkIDAhPT10aGlzLmRpc2tDYWNoZVNpemUmJih0LmdhKFwiZGlza0NhY2hlU2l6ZVwiLHIuYnMuUHMsMjYpLHQuQ2ModGhpcy5kaXNrQ2FjaGVTaXplKSx0LnlhKCkpLG51bGwhPT10aGlzLmNsaWVudEJ1ZmZlck1zJiZ2b2lkIDAhPT10aGlzLmNsaWVudEJ1ZmZlck1zJiYodC5nYShcImNsaWVudEJ1ZmZlck1zXCIsci5icy5PcywyNyksdC5tYSh0aGlzLmNsaWVudEJ1ZmZlck1zKSx0LnlhKCkpLG51bGwhPT10aGlzLmxvb2t1cFRvdGFsJiZ2b2lkIDAhPT10aGlzLmxvb2t1cFRvdGFsJiYodC5nYShcImxvb2t1cFRvdGFsXCIsci5icy5PcywyOCksdC5tYSh0aGlzLmxvb2t1cFRvdGFsKSx0LnlhKCkpLG51bGwhPT10aGlzLmxvb2t1cE5vdEZvdW5kJiZ2b2lkIDAhPT10aGlzLmxvb2t1cE5vdEZvdW5kJiYodC5nYShcImxvb2t1cE5vdEZvdW5kXCIsci5icy5PcywyOSksdC5tYSh0aGlzLmxvb2t1cE5vdEZvdW5kKSx0LnlhKCkpLG51bGwhPT10aGlzLmxvb2t1cEZhaWxlZCYmdm9pZCAwIT09dGhpcy5sb29rdXBGYWlsZWQmJih0LmdhKFwibG9va3VwRmFpbGVkXCIsci5icy5PcywzMCksdC5tYSh0aGlzLmxvb2t1cEZhaWxlZCksdC55YSgpKSxudWxsIT09dGhpcy5sb29rdXBMYXRlbmN5JiZ2b2lkIDAhPT10aGlzLmxvb2t1cExhdGVuY3kmJih0LmdhKFwibG9va3VwTGF0ZW5jeVwiLHIuYnMuT3MsMzEpLHQubWEodGhpcy5sb29rdXBMYXRlbmN5KSx0LnlhKCkpLG51bGwhPT10aGlzLnRyYWNrZXJGYWlsZWQmJnZvaWQgMCE9PXRoaXMudHJhY2tlckZhaWxlZCYmKHQuZ2EoXCJ0cmFja2VyRmFpbGVkXCIsci5icy5PcywzMiksdC5tYSh0aGlzLnRyYWNrZXJGYWlsZWQpLHQueWEoKSksbnVsbCE9PXRoaXMudHJhY2tlckxhdGVuY3kmJnZvaWQgMCE9PXRoaXMudHJhY2tlckxhdGVuY3kmJih0LmdhKFwidHJhY2tlckxhdGVuY3lcIixyLmJzLk9zLDMzKSx0Lm1hKHRoaXMudHJhY2tlckxhdGVuY3kpLHQueWEoKSksbnVsbCE9PXRoaXMuc25hcHNob3RGYWlsZWQmJnZvaWQgMCE9PXRoaXMuc25hcHNob3RGYWlsZWQmJih0LmdhKFwic25hcHNob3RGYWlsZWRcIixyLmJzLk9zLDM0KSx0Lm1hKHRoaXMuc25hcHNob3RGYWlsZWQpLHQueWEoKSksbnVsbCE9PXRoaXMuc25hcHNob3RMYXRlbmN5JiZ2b2lkIDAhPT10aGlzLnNuYXBzaG90TGF0ZW5jeSYmKHQuZ2EoXCJzbmFwc2hvdExhdGVuY3lcIixyLmJzLk9zLDM1KSx0Lm1hKHRoaXMuc25hcHNob3RMYXRlbmN5KSx0LnlhKCkpLHQud2EoKSx0LlRhKCl9LGhpdmUuc25hcHNob3RzLlBhcnRuZXJUcmFmZmljPWZ1bmN0aW9uKHQpe3RoaXMucDJwU3VjY1JlcT1udWxsLHRoaXMucDJwRmFpbFJlcT1udWxsLHRoaXMucDJwUGFydFJlcT1udWxsLHRoaXMucDJwU3VjY1JlY2VpdmVkPW51bGwsdGhpcy5wMnBTdWNjUmVjZWl2ZWRMb3c9bnVsbCx0aGlzLnAycEZhaWxSZWNlaXZlZD1udWxsLHRoaXMucDJwU3VjY1Jlc3A9bnVsbCx0aGlzLnAycEZhaWxSZXNwPW51bGwsdGhpcy5wMnBQYXJ0UmVzcD1udWxsLHRoaXMucDJwU3VjY1NlbnQ9bnVsbCx0aGlzLnAycFN1Y2NTZW50TG93PW51bGwsdGhpcy5wMnBGYWlsU2VudD1udWxsLHQmJih2b2lkIDAhPT10LnAycFN1Y2NSZXEmJih0aGlzLnAycFN1Y2NSZXE9dC5wMnBTdWNjUmVxKSx2b2lkIDAhPT10LnAycEZhaWxSZXEmJih0aGlzLnAycEZhaWxSZXE9dC5wMnBGYWlsUmVxKSx2b2lkIDAhPT10LnAycFBhcnRSZXEmJih0aGlzLnAycFBhcnRSZXE9dC5wMnBQYXJ0UmVxKSx2b2lkIDAhPT10LnAycFN1Y2NSZWNlaXZlZCYmKHRoaXMucDJwU3VjY1JlY2VpdmVkPXQucDJwU3VjY1JlY2VpdmVkKSx2b2lkIDAhPT10LnAycFN1Y2NSZWNlaXZlZExvdyYmKHRoaXMucDJwU3VjY1JlY2VpdmVkTG93PXQucDJwU3VjY1JlY2VpdmVkTG93KSx2b2lkIDAhPT10LnAycEZhaWxSZWNlaXZlZCYmKHRoaXMucDJwRmFpbFJlY2VpdmVkPXQucDJwRmFpbFJlY2VpdmVkKSx2b2lkIDAhPT10LnAycFN1Y2NSZXNwJiYodGhpcy5wMnBTdWNjUmVzcD10LnAycFN1Y2NSZXNwKSx2b2lkIDAhPT10LnAycEZhaWxSZXNwJiYodGhpcy5wMnBGYWlsUmVzcD10LnAycEZhaWxSZXNwKSx2b2lkIDAhPT10LnAycFBhcnRSZXNwJiYodGhpcy5wMnBQYXJ0UmVzcD10LnAycFBhcnRSZXNwKSx2b2lkIDAhPT10LnAycFN1Y2NTZW50JiYodGhpcy5wMnBTdWNjU2VudD10LnAycFN1Y2NTZW50KSx2b2lkIDAhPT10LnAycFN1Y2NTZW50TG93JiYodGhpcy5wMnBTdWNjU2VudExvdz10LnAycFN1Y2NTZW50TG93KSx2b2lkIDAhPT10LnAycEZhaWxTZW50JiYodGhpcy5wMnBGYWlsU2VudD10LnAycEZhaWxTZW50KSl9LGhpdmUuc25hcHNob3RzLlBhcnRuZXJUcmFmZmljLnByb3RvdHlwZT17fSxoaXZlLnNuYXBzaG90cy5QYXJ0bmVyVHJhZmZpYy5wcm90b3R5cGUucmVhZD1mdW5jdGlvbih0KXtmb3IodC5IYygpOzspe3ZhciBlPXQuc2EoKSxpPShlLkJjLGUuYWEpLG49ZS5jYTtpZihpPT1yLmJzLkVzKWJyZWFrO3N3aXRjaChuKXtjYXNlIDE6aT09ci5icy5Qcz90aGlzLnAycFN1Y2NSZXE9dC4kYygpLnZhbHVlOnQucGEoaSk7YnJlYWs7Y2FzZSAyOmk9PXIuYnMuUHM/dGhpcy5wMnBGYWlsUmVxPXQuJGMoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2Nhc2UgMzppPT1yLmJzLlBzP3RoaXMucDJwUGFydFJlcT10LiRjKCkudmFsdWU6dC5wYShpKTticmVhaztjYXNlIDQ6aT09ci5icy5Qcz90aGlzLnAycFN1Y2NSZWNlaXZlZD10LiRjKCkudmFsdWU6dC5wYShpKTticmVhaztjYXNlIDU6aT09ci5icy5Qcz90aGlzLnAycFN1Y2NSZWNlaXZlZExvdz10LiRjKCkudmFsdWU6dC5wYShpKTticmVhaztjYXNlIDEwOmk9PXIuYnMuUHM/dGhpcy5wMnBGYWlsUmVjZWl2ZWQ9dC4kYygpLnZhbHVlOnQucGEoaSk7YnJlYWs7Y2FzZSA2Omk9PXIuYnMuUHM/dGhpcy5wMnBTdWNjUmVzcD10LiRjKCkudmFsdWU6dC5wYShpKTticmVhaztjYXNlIDExOmk9PXIuYnMuUHM/dGhpcy5wMnBGYWlsUmVzcD10LiRjKCkudmFsdWU6dC5wYShpKTticmVhaztjYXNlIDc6aT09ci5icy5Qcz90aGlzLnAycFBhcnRSZXNwPXQuJGMoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2Nhc2UgODppPT1yLmJzLlBzP3RoaXMucDJwU3VjY1NlbnQ9dC4kYygpLnZhbHVlOnQucGEoaSk7YnJlYWs7Y2FzZSA5Omk9PXIuYnMuUHM/dGhpcy5wMnBTdWNjU2VudExvdz10LiRjKCkudmFsdWU6dC5wYShpKTticmVhaztjYXNlIDEyOmk9PXIuYnMuUHM/dGhpcy5wMnBGYWlsU2VudD10LiRjKCkudmFsdWU6dC5wYShpKTticmVhaztkZWZhdWx0OnQucGEoaSl9dC5sYSgpfXQuZGEoKX0saGl2ZS5zbmFwc2hvdHMuUGFydG5lclRyYWZmaWMucHJvdG90eXBlLndyaXRlPWZ1bmN0aW9uKHQpe3QuZmEoXCJQYXJ0bmVyVHJhZmZpY1wiKSxudWxsIT09dGhpcy5wMnBTdWNjUmVxJiZ2b2lkIDAhPT10aGlzLnAycFN1Y2NSZXEmJih0LmdhKFwicDJwU3VjY1JlcVwiLHIuYnMuUHMsMSksdC5DYyh0aGlzLnAycFN1Y2NSZXEpLHQueWEoKSksbnVsbCE9PXRoaXMucDJwRmFpbFJlcSYmdm9pZCAwIT09dGhpcy5wMnBGYWlsUmVxJiYodC5nYShcInAycEZhaWxSZXFcIixyLmJzLlBzLDIpLHQuQ2ModGhpcy5wMnBGYWlsUmVxKSx0LnlhKCkpLG51bGwhPT10aGlzLnAycFBhcnRSZXEmJnZvaWQgMCE9PXRoaXMucDJwUGFydFJlcSYmKHQuZ2EoXCJwMnBQYXJ0UmVxXCIsci5icy5QcywzKSx0LkNjKHRoaXMucDJwUGFydFJlcSksdC55YSgpKSxudWxsIT09dGhpcy5wMnBTdWNjUmVjZWl2ZWQmJnZvaWQgMCE9PXRoaXMucDJwU3VjY1JlY2VpdmVkJiYodC5nYShcInAycFN1Y2NSZWNlaXZlZFwiLHIuYnMuUHMsNCksdC5DYyh0aGlzLnAycFN1Y2NSZWNlaXZlZCksdC55YSgpKSxudWxsIT09dGhpcy5wMnBTdWNjUmVjZWl2ZWRMb3cmJnZvaWQgMCE9PXRoaXMucDJwU3VjY1JlY2VpdmVkTG93JiYodC5nYShcInAycFN1Y2NSZWNlaXZlZExvd1wiLHIuYnMuUHMsNSksdC5DYyh0aGlzLnAycFN1Y2NSZWNlaXZlZExvdyksdC55YSgpKSxudWxsIT09dGhpcy5wMnBGYWlsUmVjZWl2ZWQmJnZvaWQgMCE9PXRoaXMucDJwRmFpbFJlY2VpdmVkJiYodC5nYShcInAycEZhaWxSZWNlaXZlZFwiLHIuYnMuUHMsMTApLHQuQ2ModGhpcy5wMnBGYWlsUmVjZWl2ZWQpLHQueWEoKSksbnVsbCE9PXRoaXMucDJwU3VjY1Jlc3AmJnZvaWQgMCE9PXRoaXMucDJwU3VjY1Jlc3AmJih0LmdhKFwicDJwU3VjY1Jlc3BcIixyLmJzLlBzLDYpLHQuQ2ModGhpcy5wMnBTdWNjUmVzcCksdC55YSgpKSxudWxsIT09dGhpcy5wMnBGYWlsUmVzcCYmdm9pZCAwIT09dGhpcy5wMnBGYWlsUmVzcCYmKHQuZ2EoXCJwMnBGYWlsUmVzcFwiLHIuYnMuUHMsMTEpLHQuQ2ModGhpcy5wMnBGYWlsUmVzcCksdC55YSgpKSxudWxsIT09dGhpcy5wMnBQYXJ0UmVzcCYmdm9pZCAwIT09dGhpcy5wMnBQYXJ0UmVzcCYmKHQuZ2EoXCJwMnBQYXJ0UmVzcFwiLHIuYnMuUHMsNyksdC5DYyh0aGlzLnAycFBhcnRSZXNwKSx0LnlhKCkpLG51bGwhPT10aGlzLnAycFN1Y2NTZW50JiZ2b2lkIDAhPT10aGlzLnAycFN1Y2NTZW50JiYodC5nYShcInAycFN1Y2NTZW50XCIsci5icy5Qcyw4KSx0LkNjKHRoaXMucDJwU3VjY1NlbnQpLHQueWEoKSksbnVsbCE9PXRoaXMucDJwU3VjY1NlbnRMb3cmJnZvaWQgMCE9PXRoaXMucDJwU3VjY1NlbnRMb3cmJih0LmdhKFwicDJwU3VjY1NlbnRMb3dcIixyLmJzLlBzLDkpLHQuQ2ModGhpcy5wMnBTdWNjU2VudExvdyksdC55YSgpKSxudWxsIT09dGhpcy5wMnBGYWlsU2VudCYmdm9pZCAwIT09dGhpcy5wMnBGYWlsU2VudCYmKHQuZ2EoXCJwMnBGYWlsU2VudFwiLHIuYnMuUHMsMTIpLHQuQ2ModGhpcy5wMnBGYWlsU2VudCksdC55YSgpKSx0LndhKCksdC5UYSgpfSxoaXZlLnNuYXBzaG90cy5QYXJ0bmVyTWV0cmljcz1mdW5jdGlvbih0KXt0aGlzLnJhdGVSZWNlaXZlZD1udWxsLHRoaXMucmF0ZVNlbnQ9bnVsbCx0aGlzLmhhbmRzaGFrZURlbGF5PW51bGwsdCYmKHZvaWQgMCE9PXQucmF0ZVJlY2VpdmVkJiYodGhpcy5yYXRlUmVjZWl2ZWQ9dC5yYXRlUmVjZWl2ZWQpLHZvaWQgMCE9PXQucmF0ZVNlbnQmJih0aGlzLnJhdGVTZW50PXQucmF0ZVNlbnQpLHZvaWQgMCE9PXQuaGFuZHNoYWtlRGVsYXkmJih0aGlzLmhhbmRzaGFrZURlbGF5PXQuaGFuZHNoYWtlRGVsYXkpKX0saGl2ZS5zbmFwc2hvdHMuUGFydG5lck1ldHJpY3MucHJvdG90eXBlPXt9LGhpdmUuc25hcHNob3RzLlBhcnRuZXJNZXRyaWNzLnByb3RvdHlwZS5yZWFkPWZ1bmN0aW9uKHQpe2Zvcih0LkhjKCk7Oyl7dmFyIGU9dC5zYSgpLGk9KGUuQmMsZS5hYSksbj1lLmNhO2lmKGk9PXIuYnMuRXMpYnJlYWs7c3dpdGNoKG4pe2Nhc2UgMTppPT1yLmJzLmtzP3RoaXMucmF0ZVJlY2VpdmVkPXQuWWMoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2Nhc2UgMjppPT1yLmJzLmtzP3RoaXMucmF0ZVNlbnQ9dC5ZYygpLnZhbHVlOnQucGEoaSk7YnJlYWs7Y2FzZSAzOmk9PXIuYnMuUHM/dGhpcy5oYW5kc2hha2VEZWxheT10LiRjKCkudmFsdWU6dC5wYShpKTticmVhaztkZWZhdWx0OnQucGEoaSl9dC5sYSgpfXQuZGEoKX0saGl2ZS5zbmFwc2hvdHMuUGFydG5lck1ldHJpY3MucHJvdG90eXBlLndyaXRlPWZ1bmN0aW9uKHQpe3QuZmEoXCJQYXJ0bmVyTWV0cmljc1wiKSxudWxsIT09dGhpcy5yYXRlUmVjZWl2ZWQmJnZvaWQgMCE9PXRoaXMucmF0ZVJlY2VpdmVkJiYodC5nYShcInJhdGVSZWNlaXZlZFwiLHIuYnMua3MsMSksdC5PYyh0aGlzLnJhdGVSZWNlaXZlZCksdC55YSgpKSxudWxsIT09dGhpcy5yYXRlU2VudCYmdm9pZCAwIT09dGhpcy5yYXRlU2VudCYmKHQuZ2EoXCJyYXRlU2VudFwiLHIuYnMua3MsMiksdC5PYyh0aGlzLnJhdGVTZW50KSx0LnlhKCkpLG51bGwhPT10aGlzLmhhbmRzaGFrZURlbGF5JiZ2b2lkIDAhPT10aGlzLmhhbmRzaGFrZURlbGF5JiYodC5nYShcImhhbmRzaGFrZURlbGF5XCIsci5icy5QcywzKSx0LkNjKHRoaXMuaGFuZHNoYWtlRGVsYXkpLHQueWEoKSksdC53YSgpLHQuVGEoKX0saGl2ZS5zbmFwc2hvdHMuQ29ubmVjdGl2aXR5SW5mbz1mdW5jdGlvbih0KXt0aGlzLnVwQlc9bnVsbCx0aGlzLmRvd25CVz1udWxsLHRoaXMuZXh0ZXJuYWxBcz1udWxsLHRoaXMuaW50ZXJuYWxBcz1udWxsLHRoaXMucHVibGljSXA9bnVsbCx0aGlzLnByaXZhdGVJcD1udWxsLHQmJih2b2lkIDAhPT10LnVwQlcmJih0aGlzLnVwQlc9dC51cEJXKSx2b2lkIDAhPT10LmRvd25CVyYmKHRoaXMuZG93bkJXPXQuZG93bkJXKSx2b2lkIDAhPT10LmV4dGVybmFsQXMmJih0aGlzLmV4dGVybmFsQXM9dC5leHRlcm5hbEFzKSx2b2lkIDAhPT10LmludGVybmFsQXMmJih0aGlzLmludGVybmFsQXM9dC5pbnRlcm5hbEFzKSx2b2lkIDAhPT10LnB1YmxpY0lwJiYodGhpcy5wdWJsaWNJcD10LnB1YmxpY0lwKSx2b2lkIDAhPT10LnByaXZhdGVJcCYmKHRoaXMucHJpdmF0ZUlwPXQucHJpdmF0ZUlwKSl9LGhpdmUuc25hcHNob3RzLkNvbm5lY3Rpdml0eUluZm8ucHJvdG90eXBlPXt9LGhpdmUuc25hcHNob3RzLkNvbm5lY3Rpdml0eUluZm8ucHJvdG90eXBlLnJlYWQ9ZnVuY3Rpb24odCl7Zm9yKHQuSGMoKTs7KXt2YXIgZT10LnNhKCksaT0oZS5CYyxlLmFhKSxuPWUuY2E7aWYoaT09ci5icy5FcylicmVhaztzd2l0Y2gobil7Y2FzZSAxOmk9PXIuYnMuT3M/dGhpcy51cEJXPXQudWEoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2Nhc2UgMjppPT1yLmJzLk9zP3RoaXMuZG93bkJXPXQudWEoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2Nhc2UgMzppPT1yLmJzLk9zP3RoaXMuZXh0ZXJuYWxBcz10LnVhKCkudmFsdWU6dC5wYShpKTticmVhaztjYXNlIDQ6aT09ci5icy5Pcz90aGlzLmludGVybmFsQXM9dC51YSgpLnZhbHVlOnQucGEoaSk7YnJlYWs7Y2FzZSA1Omk9PXIuYnMuQXM/dGhpcy5wdWJsaWNJcD10LmhhKCkudmFsdWU6dC5wYShpKTticmVhaztjYXNlIDY6aT09ci5icy5Bcz90aGlzLnByaXZhdGVJcD10LmhhKCkudmFsdWU6dC5wYShpKTticmVhaztkZWZhdWx0OnQucGEoaSl9dC5sYSgpfXQuZGEoKX0saGl2ZS5zbmFwc2hvdHMuQ29ubmVjdGl2aXR5SW5mby5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24odCl7dC5mYShcIkNvbm5lY3Rpdml0eUluZm9cIiksbnVsbCE9PXRoaXMudXBCVyYmdm9pZCAwIT09dGhpcy51cEJXJiYodC5nYShcInVwQldcIixyLmJzLk9zLDEpLHQubWEodGhpcy51cEJXKSx0LnlhKCkpLG51bGwhPT10aGlzLmRvd25CVyYmdm9pZCAwIT09dGhpcy5kb3duQlcmJih0LmdhKFwiZG93bkJXXCIsci5icy5PcywyKSx0Lm1hKHRoaXMuZG93bkJXKSx0LnlhKCkpLG51bGwhPT10aGlzLmV4dGVybmFsQXMmJnZvaWQgMCE9PXRoaXMuZXh0ZXJuYWxBcyYmKHQuZ2EoXCJleHRlcm5hbEFzXCIsci5icy5PcywzKSx0Lm1hKHRoaXMuZXh0ZXJuYWxBcyksdC55YSgpKSxudWxsIT09dGhpcy5pbnRlcm5hbEFzJiZ2b2lkIDAhPT10aGlzLmludGVybmFsQXMmJih0LmdhKFwiaW50ZXJuYWxBc1wiLHIuYnMuT3MsNCksdC5tYSh0aGlzLmludGVybmFsQXMpLHQueWEoKSksbnVsbCE9PXRoaXMucHVibGljSXAmJnZvaWQgMCE9PXRoaXMucHVibGljSXAmJih0LmdhKFwicHVibGljSXBcIixyLmJzLkFzLDUpLHQudmEodGhpcy5wdWJsaWNJcCksdC55YSgpKSxudWxsIT09dGhpcy5wcml2YXRlSXAmJnZvaWQgMCE9PXRoaXMucHJpdmF0ZUlwJiYodC5nYShcInByaXZhdGVJcFwiLHIuYnMuQXMsNiksdC52YSh0aGlzLnByaXZhdGVJcCksdC55YSgpKSx0LndhKCksdC5UYSgpfSxoaXZlLnNuYXBzaG90cy5QYXJ0bmVyPWZ1bmN0aW9uKHQpe3RoaXMuY29ubkluZm89bnVsbCx0aGlzLnRyYWZmaWM9bnVsbCx0aGlzLm1ldHJpY3M9bnVsbCx0aGlzLmluUGFydD1udWxsLHRoaXMub3V0UGFydD1udWxsLHRoaXMudWRwPW51bGwsdCYmKHZvaWQgMCE9PXQuY29ubkluZm8mJih0aGlzLmNvbm5JbmZvPXQuY29ubkluZm8pLHZvaWQgMCE9PXQudHJhZmZpYyYmKHRoaXMudHJhZmZpYz10LnRyYWZmaWMpLHZvaWQgMCE9PXQubWV0cmljcyYmKHRoaXMubWV0cmljcz10Lm1ldHJpY3MpLHZvaWQgMCE9PXQuaW5QYXJ0JiYodGhpcy5pblBhcnQ9dC5pblBhcnQpLHZvaWQgMCE9PXQub3V0UGFydCYmKHRoaXMub3V0UGFydD10Lm91dFBhcnQpLHZvaWQgMCE9PXQudWRwJiYodGhpcy51ZHA9dC51ZHApKX0saGl2ZS5zbmFwc2hvdHMuUGFydG5lci5wcm90b3R5cGU9e30saGl2ZS5zbmFwc2hvdHMuUGFydG5lci5wcm90b3R5cGUucmVhZD1mdW5jdGlvbih0KXtmb3IodC5IYygpOzspe3ZhciBlPXQuc2EoKSxpPShlLkJjLGUuYWEpLG49ZS5jYTtpZihpPT1yLmJzLkVzKWJyZWFrO3N3aXRjaChuKXtjYXNlIDE6aT09ci5icy54cz8odGhpcy5jb25uSW5mbz1uZXcgaGl2ZS5zbmFwc2hvdHMuQ29ubmVjdGl2aXR5SW5mbyx0aGlzLmNvbm5JbmZvLnJlYWQodCkpOnQucGEoaSk7YnJlYWs7Y2FzZSAyOmk9PXIuYnMueHM/KHRoaXMudHJhZmZpYz1uZXcgaGl2ZS5zbmFwc2hvdHMuUGFydG5lclRyYWZmaWMsdGhpcy50cmFmZmljLnJlYWQodCkpOnQucGEoaSk7YnJlYWs7Y2FzZSAzOmk9PXIuYnMueHM/KHRoaXMubWV0cmljcz1uZXcgaGl2ZS5zbmFwc2hvdHMuUGFydG5lck1ldHJpY3MsdGhpcy5tZXRyaWNzLnJlYWQodCkpOnQucGEoaSk7YnJlYWs7Y2FzZSA0Omk9PXIuYnMuQk9PTD90aGlzLmluUGFydD10LkdjKCkudmFsdWU6dC5wYShpKTticmVhaztjYXNlIDU6aT09ci5icy5CT09MP3RoaXMub3V0UGFydD10LkdjKCkudmFsdWU6dC5wYShpKTticmVhaztjYXNlIDY6aT09ci5icy5CT09MP3RoaXMudWRwPXQuR2MoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2RlZmF1bHQ6dC5wYShpKX10LmxhKCl9dC5kYSgpfSxoaXZlLnNuYXBzaG90cy5QYXJ0bmVyLnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbih0KXt0LmZhKFwiUGFydG5lclwiKSxudWxsIT09dGhpcy5jb25uSW5mbyYmdm9pZCAwIT09dGhpcy5jb25uSW5mbyYmKHQuZ2EoXCJjb25uSW5mb1wiLHIuYnMueHMsMSksdGhpcy5jb25uSW5mby53cml0ZSh0KSx0LnlhKCkpLG51bGwhPT10aGlzLnRyYWZmaWMmJnZvaWQgMCE9PXRoaXMudHJhZmZpYyYmKHQuZ2EoXCJ0cmFmZmljXCIsci5icy54cywyKSx0aGlzLnRyYWZmaWMud3JpdGUodCksdC55YSgpKSxudWxsIT09dGhpcy5tZXRyaWNzJiZ2b2lkIDAhPT10aGlzLm1ldHJpY3MmJih0LmdhKFwibWV0cmljc1wiLHIuYnMueHMsMyksdGhpcy5tZXRyaWNzLndyaXRlKHQpLHQueWEoKSksbnVsbCE9PXRoaXMuaW5QYXJ0JiZ2b2lkIDAhPT10aGlzLmluUGFydCYmKHQuZ2EoXCJpblBhcnRcIixyLmJzLkJPT0wsNCksdC5JYyh0aGlzLmluUGFydCksdC55YSgpKSxudWxsIT09dGhpcy5vdXRQYXJ0JiZ2b2lkIDAhPT10aGlzLm91dFBhcnQmJih0LmdhKFwib3V0UGFydFwiLHIuYnMuQk9PTCw1KSx0LkljKHRoaXMub3V0UGFydCksdC55YSgpKSxudWxsIT09dGhpcy51ZHAmJnZvaWQgMCE9PXRoaXMudWRwJiYodC5nYShcInVkcFwiLHIuYnMuQk9PTCw2KSx0LkljKHRoaXMudWRwKSx0LnlhKCkpLHQud2EoKSx0LlRhKCl9LGhpdmUuc25hcHNob3RzLlN0cmVhbUluZm89ZnVuY3Rpb24odCl7dGhpcy51cmw9bnVsbCx0aGlzLnN0cmVhbVR5cGU9bnVsbCx0aGlzLnN0cmVhbVByb3RvY29sPW51bGwsdCYmKHZvaWQgMCE9PXQudXJsJiYodGhpcy51cmw9dC51cmwpLHZvaWQgMCE9PXQuc3RyZWFtVHlwZSYmKHRoaXMuc3RyZWFtVHlwZT10LnN0cmVhbVR5cGUpLHZvaWQgMCE9PXQuc3RyZWFtUHJvdG9jb2wmJih0aGlzLnN0cmVhbVByb3RvY29sPXQuc3RyZWFtUHJvdG9jb2wpKX0saGl2ZS5zbmFwc2hvdHMuU3RyZWFtSW5mby5wcm90b3R5cGU9e30saGl2ZS5zbmFwc2hvdHMuU3RyZWFtSW5mby5wcm90b3R5cGUucmVhZD1mdW5jdGlvbih0KXtmb3IodC5IYygpOzspe3ZhciBlPXQuc2EoKSxpPShlLkJjLGUuYWEpLG49ZS5jYTtpZihpPT1yLmJzLkVzKWJyZWFrO3N3aXRjaChuKXtjYXNlIDE6aT09ci5icy5Bcz90aGlzLnVybD10LmhhKCkudmFsdWU6dC5wYShpKTticmVhaztjYXNlIDI6aT09ci5icy5Pcz90aGlzLnN0cmVhbVR5cGU9dC51YSgpLnZhbHVlOnQucGEoaSk7YnJlYWs7Y2FzZSAzOmk9PXIuYnMuT3M/dGhpcy5zdHJlYW1Qcm90b2NvbD10LnVhKCkudmFsdWU6dC5wYShpKTticmVhaztkZWZhdWx0OnQucGEoaSl9dC5sYSgpfXQuZGEoKX0saGl2ZS5zbmFwc2hvdHMuU3RyZWFtSW5mby5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24odCl7dC5mYShcIlN0cmVhbUluZm9cIiksbnVsbCE9PXRoaXMudXJsJiZ2b2lkIDAhPT10aGlzLnVybCYmKHQuZ2EoXCJ1cmxcIixyLmJzLkFzLDEpLHQudmEodGhpcy51cmwpLHQueWEoKSksbnVsbCE9PXRoaXMuc3RyZWFtVHlwZSYmdm9pZCAwIT09dGhpcy5zdHJlYW1UeXBlJiYodC5nYShcInN0cmVhbVR5cGVcIixyLmJzLk9zLDIpLHQubWEodGhpcy5zdHJlYW1UeXBlKSx0LnlhKCkpLG51bGwhPT10aGlzLnN0cmVhbVByb3RvY29sJiZ2b2lkIDAhPT10aGlzLnN0cmVhbVByb3RvY29sJiYodC5nYShcInN0cmVhbVByb3RvY29sXCIsci5icy5PcywzKSx0Lm1hKHRoaXMuc3RyZWFtUHJvdG9jb2wpLHQueWEoKSksdC53YSgpLHQuVGEoKX0saGl2ZS5zbmFwc2hvdHMuQ2xpZW50SW5mbz1mdW5jdGlvbih0KXt0aGlzLmNsaWVudFR5cGU9bnVsbCx0aGlzLm1ham9yVmVyc2lvbj1udWxsLHRoaXMubWlub3JWZXJzaW9uPW51bGwsdGhpcy5wYXRjaFZlcnNpb249bnVsbCx0JiYodm9pZCAwIT09dC5jbGllbnRUeXBlJiYodGhpcy5jbGllbnRUeXBlPXQuY2xpZW50VHlwZSksdm9pZCAwIT09dC5tYWpvclZlcnNpb24mJih0aGlzLm1ham9yVmVyc2lvbj10Lm1ham9yVmVyc2lvbiksdm9pZCAwIT09dC5taW5vclZlcnNpb24mJih0aGlzLm1pbm9yVmVyc2lvbj10Lm1pbm9yVmVyc2lvbiksdm9pZCAwIT09dC5wYXRjaFZlcnNpb24mJih0aGlzLnBhdGNoVmVyc2lvbj10LnBhdGNoVmVyc2lvbikpfSxoaXZlLnNuYXBzaG90cy5DbGllbnRJbmZvLnByb3RvdHlwZT17fSxoaXZlLnNuYXBzaG90cy5DbGllbnRJbmZvLnByb3RvdHlwZS5yZWFkPWZ1bmN0aW9uKHQpe2Zvcih0LkhjKCk7Oyl7dmFyIGU9dC5zYSgpLGk9KGUuQmMsZS5hYSksbj1lLmNhO2lmKGk9PXIuYnMuRXMpYnJlYWs7c3dpdGNoKG4pe2Nhc2UgMTppPT1yLmJzLk9zP3RoaXMuY2xpZW50VHlwZT10LnVhKCkudmFsdWU6dC5wYShpKTticmVhaztjYXNlIDI6aT09ci5icy5CWVRFP3RoaXMubWFqb3JWZXJzaW9uPXQuemMoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2Nhc2UgMzppPT1yLmJzLkJZVEU/dGhpcy5taW5vclZlcnNpb249dC56YygpLnZhbHVlOnQucGEoaSk7YnJlYWs7Y2FzZSA0Omk9PXIuYnMuQ3M/dGhpcy5wYXRjaFZlcnNpb249dC5XYygpLnZhbHVlOnQucGEoaSk7YnJlYWs7ZGVmYXVsdDp0LnBhKGkpfXQubGEoKX10LmRhKCl9LGhpdmUuc25hcHNob3RzLkNsaWVudEluZm8ucHJvdG90eXBlLndyaXRlPWZ1bmN0aW9uKHQpe3QuZmEoXCJDbGllbnRJbmZvXCIpLG51bGwhPT10aGlzLmNsaWVudFR5cGUmJnZvaWQgMCE9PXRoaXMuY2xpZW50VHlwZSYmKHQuZ2EoXCJjbGllbnRUeXBlXCIsci5icy5PcywxKSx0Lm1hKHRoaXMuY2xpZW50VHlwZSksdC55YSgpKSxudWxsIT09dGhpcy5tYWpvclZlcnNpb24mJnZvaWQgMCE9PXRoaXMubWFqb3JWZXJzaW9uJiYodC5nYShcIm1ham9yVmVyc2lvblwiLHIuYnMuQllURSwyKSx0LlJjKHRoaXMubWFqb3JWZXJzaW9uKSx0LnlhKCkpLG51bGwhPT10aGlzLm1pbm9yVmVyc2lvbiYmdm9pZCAwIT09dGhpcy5taW5vclZlcnNpb24mJih0LmdhKFwibWlub3JWZXJzaW9uXCIsci5icy5CWVRFLDMpLHQuUmModGhpcy5taW5vclZlcnNpb24pLHQueWEoKSksbnVsbCE9PXRoaXMucGF0Y2hWZXJzaW9uJiZ2b2lkIDAhPT10aGlzLnBhdGNoVmVyc2lvbiYmKHQuZ2EoXCJwYXRjaFZlcnNpb25cIixyLmJzLkNzLDQpLHQua2ModGhpcy5wYXRjaFZlcnNpb24pLHQueWEoKSksdC53YSgpLHQuVGEoKX0saGl2ZS5zbmFwc2hvdHMuQWdlbnRJbmZvPWZ1bmN0aW9uKHQpe3RoaXMuZmlyc3RUaWVyQml0cmF0ZXM9bnVsbCx0aGlzLnNlY29uZFRpZXJCaXRyYXRlcz1udWxsLHQmJih2b2lkIDAhPT10LmZpcnN0VGllckJpdHJhdGVzJiYodGhpcy5maXJzdFRpZXJCaXRyYXRlcz10LmZpcnN0VGllckJpdHJhdGVzKSx2b2lkIDAhPT10LnNlY29uZFRpZXJCaXRyYXRlcyYmKHRoaXMuc2Vjb25kVGllckJpdHJhdGVzPXQuc2Vjb25kVGllckJpdHJhdGVzKSl9LGhpdmUuc25hcHNob3RzLkFnZW50SW5mby5wcm90b3R5cGU9e30saGl2ZS5zbmFwc2hvdHMuQWdlbnRJbmZvLnByb3RvdHlwZS5yZWFkPWZ1bmN0aW9uKHQpe2Zvcih0LkhjKCk7Oyl7dmFyIGU9dC5zYSgpLGk9KGUuQmMsZS5hYSksbj1lLmNhO2lmKGk9PXIuYnMuRXMpYnJlYWs7c3dpdGNoKG4pe2Nhc2UgMTppZihpPT1yLmJzLkZzKXt2YXIgbyxzPTA7dGhpcy5maXJzdFRpZXJCaXRyYXRlcz1bXTt2YXIgYT0wO289dC5KYygpLGE9by5RYyxzPW8uc2l6ZTtmb3IodmFyIGM9MDtjPHM7KytjKXt2YXIgaD1udWxsO2g9dC51YSgpLnZhbHVlLHRoaXMuZmlyc3RUaWVyQml0cmF0ZXMucHVzaChoKX10LktjKCl9ZWxzZSB0LnBhKGkpO2JyZWFrO2Nhc2UgMjppZihpPT1yLmJzLkZzKXt2YXIgcCx1PTA7dGhpcy5zZWNvbmRUaWVyQml0cmF0ZXM9W107dmFyIGw9MDtwPXQuSmMoKSxsPXAuUWMsdT1wLnNpemU7Zm9yKHZhciBkPTA7ZDx1OysrZCl7dmFyIGY9bnVsbDtmPXQudWEoKS52YWx1ZSx0aGlzLnNlY29uZFRpZXJCaXRyYXRlcy5wdXNoKGYpfXQuS2MoKX1lbHNlIHQucGEoaSk7YnJlYWs7ZGVmYXVsdDp0LnBhKGkpfXQubGEoKX10LmRhKCl9LGhpdmUuc25hcHNob3RzLkFnZW50SW5mby5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24odCl7XG4gIGlmKHQuZmEoXCJBZ2VudEluZm9cIiksbnVsbCE9PXRoaXMuZmlyc3RUaWVyQml0cmF0ZXMmJnZvaWQgMCE9PXRoaXMuZmlyc3RUaWVyQml0cmF0ZXMpe3QuZ2EoXCJmaXJzdFRpZXJCaXRyYXRlc1wiLHIuYnMuRnMsMSksdC5iYyhyLmJzLk9zLHRoaXMuZmlyc3RUaWVyQml0cmF0ZXMubGVuZ3RoKTtmb3IodmFyIGUgaW4gdGhpcy5maXJzdFRpZXJCaXRyYXRlcyl0aGlzLmZpcnN0VGllckJpdHJhdGVzLmhhc093blByb3BlcnR5KGUpJiYoZT10aGlzLmZpcnN0VGllckJpdHJhdGVzW2VdLHQubWEoZSkpO3QuRWMoKSx0LnlhKCl9aWYobnVsbCE9PXRoaXMuc2Vjb25kVGllckJpdHJhdGVzJiZ2b2lkIDAhPT10aGlzLnNlY29uZFRpZXJCaXRyYXRlcyl7dC5nYShcInNlY29uZFRpZXJCaXRyYXRlc1wiLHIuYnMuRnMsMiksdC5iYyhyLmJzLk9zLHRoaXMuc2Vjb25kVGllckJpdHJhdGVzLmxlbmd0aCk7Zm9yKHZhciBpIGluIHRoaXMuc2Vjb25kVGllckJpdHJhdGVzKXRoaXMuc2Vjb25kVGllckJpdHJhdGVzLmhhc093blByb3BlcnR5KGkpJiYoaT10aGlzLnNlY29uZFRpZXJCaXRyYXRlc1tpXSx0Lm1hKGkpKTt0LkVjKCksdC55YSgpfXQud2EoKSx0LlRhKCl9LGhpdmUuc25hcHNob3RzLlRyYWZmaWNLZXk9ZnVuY3Rpb24odCl7dGhpcy5iaXRyYXRlPW51bGwsdGhpcy5BUz1udWxsLHRoaXMucGFydG5lckd1aWQ9bnVsbCx0JiYodm9pZCAwIT09dC5iaXRyYXRlJiYodGhpcy5iaXRyYXRlPXQuYml0cmF0ZSksdm9pZCAwIT09dC5BUyYmKHRoaXMuQVM9dC5BUyksdm9pZCAwIT09dC5wYXJ0bmVyR3VpZCYmKHRoaXMucGFydG5lckd1aWQ9dC5wYXJ0bmVyR3VpZCkpfSxoaXZlLnNuYXBzaG90cy5UcmFmZmljS2V5LnByb3RvdHlwZT17fSxoaXZlLnNuYXBzaG90cy5UcmFmZmljS2V5LnByb3RvdHlwZS5yZWFkPWZ1bmN0aW9uKHQpe2Zvcih0LkhjKCk7Oyl7dmFyIGU9dC5zYSgpLGk9KGUuQmMsZS5hYSksbj1lLmNhO2lmKGk9PXIuYnMuRXMpYnJlYWs7c3dpdGNoKG4pe2Nhc2UgMTppPT1yLmJzLk9zP3RoaXMuYml0cmF0ZT10LnVhKCkudmFsdWU6dC5wYShpKTticmVhaztjYXNlIDI6aT09ci5icy5Pcz90aGlzLkFTPXQudWEoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2Nhc2UgMzppPT1yLmJzLkFzP3RoaXMucGFydG5lckd1aWQ9dC5oYSgpLnZhbHVlOnQucGEoaSk7YnJlYWs7ZGVmYXVsdDp0LnBhKGkpfXQubGEoKX10LmRhKCl9LGhpdmUuc25hcHNob3RzLlRyYWZmaWNLZXkucHJvdG90eXBlLndyaXRlPWZ1bmN0aW9uKHQpe3QuZmEoXCJUcmFmZmljS2V5XCIpLG51bGwhPT10aGlzLmJpdHJhdGUmJnZvaWQgMCE9PXRoaXMuYml0cmF0ZSYmKHQuZ2EoXCJiaXRyYXRlXCIsci5icy5PcywxKSx0Lm1hKHRoaXMuYml0cmF0ZSksdC55YSgpKSxudWxsIT09dGhpcy5BUyYmdm9pZCAwIT09dGhpcy5BUyYmKHQuZ2EoXCJBU1wiLHIuYnMuT3MsMiksdC5tYSh0aGlzLkFTKSx0LnlhKCkpLG51bGwhPT10aGlzLnBhcnRuZXJHdWlkJiZ2b2lkIDAhPT10aGlzLnBhcnRuZXJHdWlkJiYodC5nYShcInBhcnRuZXJHdWlkXCIsci5icy5BcywzKSx0LnZhKHRoaXMucGFydG5lckd1aWQpLHQueWEoKSksdC53YSgpLHQuVGEoKX0saGl2ZS5zbmFwc2hvdHMuUGFydG5lcktleT1mdW5jdGlvbih0KXt0aGlzLmJpdHJhdGU9bnVsbCx0aGlzLkFTPW51bGwsdGhpcy5wYXJ0bmVyR3VpZD1udWxsLHQmJih2b2lkIDAhPT10LmJpdHJhdGUmJih0aGlzLmJpdHJhdGU9dC5iaXRyYXRlKSx2b2lkIDAhPT10LkFTJiYodGhpcy5BUz10LkFTKSx2b2lkIDAhPT10LnBhcnRuZXJHdWlkJiYodGhpcy5wYXJ0bmVyR3VpZD10LnBhcnRuZXJHdWlkKSl9LGhpdmUuc25hcHNob3RzLlBhcnRuZXJLZXkucHJvdG90eXBlPXt9LGhpdmUuc25hcHNob3RzLlBhcnRuZXJLZXkucHJvdG90eXBlLnJlYWQ9ZnVuY3Rpb24odCl7Zm9yKHQuSGMoKTs7KXt2YXIgZT10LnNhKCksaT0oZS5CYyxlLmFhKSxuPWUuY2E7aWYoaT09ci5icy5FcylicmVhaztzd2l0Y2gobil7Y2FzZSAxOmk9PXIuYnMuT3M/dGhpcy5iaXRyYXRlPXQudWEoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2Nhc2UgMjppPT1yLmJzLk9zP3RoaXMuQVM9dC51YSgpLnZhbHVlOnQucGEoaSk7YnJlYWs7Y2FzZSAzOmk9PXIuYnMuQXM/dGhpcy5wYXJ0bmVyR3VpZD10LmhhKCkudmFsdWU6dC5wYShpKTticmVhaztkZWZhdWx0OnQucGEoaSl9dC5sYSgpfXQuZGEoKX0saGl2ZS5zbmFwc2hvdHMuUGFydG5lcktleS5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24odCl7dC5mYShcIlBhcnRuZXJLZXlcIiksbnVsbCE9PXRoaXMuYml0cmF0ZSYmdm9pZCAwIT09dGhpcy5iaXRyYXRlJiYodC5nYShcImJpdHJhdGVcIixyLmJzLk9zLDEpLHQubWEodGhpcy5iaXRyYXRlKSx0LnlhKCkpLG51bGwhPT10aGlzLkFTJiZ2b2lkIDAhPT10aGlzLkFTJiYodC5nYShcIkFTXCIsci5icy5PcywyKSx0Lm1hKHRoaXMuQVMpLHQueWEoKSksbnVsbCE9PXRoaXMucGFydG5lckd1aWQmJnZvaWQgMCE9PXRoaXMucGFydG5lckd1aWQmJih0LmdhKFwicGFydG5lckd1aWRcIixyLmJzLkFzLDMpLHQudmEodGhpcy5wYXJ0bmVyR3VpZCksdC55YSgpKSx0LndhKCksdC5UYSgpfSxoaXZlLnNuYXBzaG90cy5QbGF5ZXI9ZnVuY3Rpb24odCl7dGhpcy5idWZmZXJpbmdOPW51bGwsdGhpcy5idWZmZXJpbmdNcz1udWxsLHRoaXMuaW5pdEJ1ZmZlcmluZ049bnVsbCx0aGlzLmluaXRCdWZmZXJpbmdNcz1udWxsLHRoaXMuc2Vla0J1ZmZlcmluZ049bnVsbCx0aGlzLnNlZWtCdWZmZXJpbmdNcz1udWxsLHRoaXMucGxheWVyQnVmZmVyTXM9bnVsbCx0JiYodm9pZCAwIT09dC5idWZmZXJpbmdOJiYodGhpcy5idWZmZXJpbmdOPXQuYnVmZmVyaW5nTiksdm9pZCAwIT09dC5idWZmZXJpbmdNcyYmKHRoaXMuYnVmZmVyaW5nTXM9dC5idWZmZXJpbmdNcyksdm9pZCAwIT09dC5pbml0QnVmZmVyaW5nTiYmKHRoaXMuaW5pdEJ1ZmZlcmluZ049dC5pbml0QnVmZmVyaW5nTiksdm9pZCAwIT09dC5pbml0QnVmZmVyaW5nTXMmJih0aGlzLmluaXRCdWZmZXJpbmdNcz10LmluaXRCdWZmZXJpbmdNcyksdm9pZCAwIT09dC5zZWVrQnVmZmVyaW5nTiYmKHRoaXMuc2Vla0J1ZmZlcmluZ049dC5zZWVrQnVmZmVyaW5nTiksdm9pZCAwIT09dC5zZWVrQnVmZmVyaW5nTXMmJih0aGlzLnNlZWtCdWZmZXJpbmdNcz10LnNlZWtCdWZmZXJpbmdNcyksdm9pZCAwIT09dC5wbGF5ZXJCdWZmZXJNcyYmKHRoaXMucGxheWVyQnVmZmVyTXM9dC5wbGF5ZXJCdWZmZXJNcykpfSxoaXZlLnNuYXBzaG90cy5QbGF5ZXIucHJvdG90eXBlPXt9LGhpdmUuc25hcHNob3RzLlBsYXllci5wcm90b3R5cGUucmVhZD1mdW5jdGlvbih0KXtmb3IodC5IYygpOzspe3ZhciBlPXQuc2EoKSxpPShlLkJjLGUuYWEpLG49ZS5jYTtpZihpPT1yLmJzLkVzKWJyZWFrO3N3aXRjaChuKXtjYXNlIDE6aT09ci5icy5Dcz90aGlzLmJ1ZmZlcmluZ049dC5XYygpLnZhbHVlOnQucGEoaSk7YnJlYWs7Y2FzZSAyOmk9PXIuYnMuT3M/dGhpcy5idWZmZXJpbmdNcz10LnVhKCkudmFsdWU6dC5wYShpKTticmVhaztjYXNlIDM6aT09ci5icy5Dcz90aGlzLmluaXRCdWZmZXJpbmdOPXQuV2MoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2Nhc2UgNDppPT1yLmJzLk9zP3RoaXMuaW5pdEJ1ZmZlcmluZ01zPXQudWEoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2Nhc2UgNTppPT1yLmJzLkNzP3RoaXMuc2Vla0J1ZmZlcmluZ049dC5XYygpLnZhbHVlOnQucGEoaSk7YnJlYWs7Y2FzZSA2Omk9PXIuYnMuT3M/dGhpcy5zZWVrQnVmZmVyaW5nTXM9dC51YSgpLnZhbHVlOnQucGEoaSk7YnJlYWs7Y2FzZSAzNjppPT1yLmJzLk9zP3RoaXMucGxheWVyQnVmZmVyTXM9dC51YSgpLnZhbHVlOnQucGEoaSk7YnJlYWs7ZGVmYXVsdDp0LnBhKGkpfXQubGEoKX10LmRhKCl9LGhpdmUuc25hcHNob3RzLlBsYXllci5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24odCl7dC5mYShcIlBsYXllclwiKSxudWxsIT09dGhpcy5idWZmZXJpbmdOJiZ2b2lkIDAhPT10aGlzLmJ1ZmZlcmluZ04mJih0LmdhKFwiYnVmZmVyaW5nTlwiLHIuYnMuQ3MsMSksdC5rYyh0aGlzLmJ1ZmZlcmluZ04pLHQueWEoKSksbnVsbCE9PXRoaXMuYnVmZmVyaW5nTXMmJnZvaWQgMCE9PXRoaXMuYnVmZmVyaW5nTXMmJih0LmdhKFwiYnVmZmVyaW5nTXNcIixyLmJzLk9zLDIpLHQubWEodGhpcy5idWZmZXJpbmdNcyksdC55YSgpKSxudWxsIT09dGhpcy5pbml0QnVmZmVyaW5nTiYmdm9pZCAwIT09dGhpcy5pbml0QnVmZmVyaW5nTiYmKHQuZ2EoXCJpbml0QnVmZmVyaW5nTlwiLHIuYnMuQ3MsMyksdC5rYyh0aGlzLmluaXRCdWZmZXJpbmdOKSx0LnlhKCkpLG51bGwhPT10aGlzLmluaXRCdWZmZXJpbmdNcyYmdm9pZCAwIT09dGhpcy5pbml0QnVmZmVyaW5nTXMmJih0LmdhKFwiaW5pdEJ1ZmZlcmluZ01zXCIsci5icy5Pcyw0KSx0Lm1hKHRoaXMuaW5pdEJ1ZmZlcmluZ01zKSx0LnlhKCkpLG51bGwhPT10aGlzLnNlZWtCdWZmZXJpbmdOJiZ2b2lkIDAhPT10aGlzLnNlZWtCdWZmZXJpbmdOJiYodC5nYShcInNlZWtCdWZmZXJpbmdOXCIsci5icy5Dcyw1KSx0LmtjKHRoaXMuc2Vla0J1ZmZlcmluZ04pLHQueWEoKSksbnVsbCE9PXRoaXMuc2Vla0J1ZmZlcmluZ01zJiZ2b2lkIDAhPT10aGlzLnNlZWtCdWZmZXJpbmdNcyYmKHQuZ2EoXCJzZWVrQnVmZmVyaW5nTXNcIixyLmJzLk9zLDYpLHQubWEodGhpcy5zZWVrQnVmZmVyaW5nTXMpLHQueWEoKSksbnVsbCE9PXRoaXMucGxheWVyQnVmZmVyTXMmJnZvaWQgMCE9PXRoaXMucGxheWVyQnVmZmVyTXMmJih0LmdhKFwicGxheWVyQnVmZmVyTXNcIixyLmJzLk9zLDM2KSx0Lm1hKHRoaXMucGxheWVyQnVmZmVyTXMpLHQueWEoKSksdC53YSgpLHQuVGEoKX0saGl2ZS5zbmFwc2hvdHMuTWV0cmljU25hcHNob3Q9ZnVuY3Rpb24odCl7dGhpcy50aW1lc3RhbXA9bnVsbCx0aGlzLmd1aWQ9bnVsbCx0aGlzLmV2ZW50SWQ9bnVsbCx0aGlzLnN0cmVhbUluZm89bnVsbCx0aGlzLm1ldHJpY3M9bnVsbCx0aGlzLnRyYWZmaWM9bnVsbCx0aGlzLnNuYXBzaG90SW5mbz1udWxsLHRoaXMuYWdlbnRJbmZvPW51bGwsdGhpcy5jb25uSW5mbz1udWxsLHRoaXMucGFydG5lcnM9bnVsbCx0aGlzLnBsYXllcj1udWxsLHRoaXMuY2xpZW50PW51bGwsdGhpcy5zZXNzaW9uSWQ9bnVsbCx0JiYodm9pZCAwIT09dC50aW1lc3RhbXAmJih0aGlzLnRpbWVzdGFtcD10LnRpbWVzdGFtcCksdm9pZCAwIT09dC5ndWlkJiYodGhpcy5ndWlkPXQuZ3VpZCksdm9pZCAwIT09dC5ldmVudElkJiYodGhpcy5ldmVudElkPXQuZXZlbnRJZCksdm9pZCAwIT09dC5zdHJlYW1JbmZvJiYodGhpcy5zdHJlYW1JbmZvPXQuc3RyZWFtSW5mbyksdm9pZCAwIT09dC5tZXRyaWNzJiYodGhpcy5tZXRyaWNzPXQubWV0cmljcyksdm9pZCAwIT09dC50cmFmZmljJiYodGhpcy50cmFmZmljPXQudHJhZmZpYyksdm9pZCAwIT09dC5zbmFwc2hvdEluZm8mJih0aGlzLnNuYXBzaG90SW5mbz10LnNuYXBzaG90SW5mbyksdm9pZCAwIT09dC5hZ2VudEluZm8mJih0aGlzLmFnZW50SW5mbz10LmFnZW50SW5mbyksdm9pZCAwIT09dC5jb25uSW5mbyYmKHRoaXMuY29ubkluZm89dC5jb25uSW5mbyksdm9pZCAwIT09dC5wYXJ0bmVycyYmKHRoaXMucGFydG5lcnM9dC5wYXJ0bmVycyksdm9pZCAwIT09dC5wbGF5ZXImJih0aGlzLnBsYXllcj10LnBsYXllciksdm9pZCAwIT09dC5jbGllbnQmJih0aGlzLmNsaWVudD10LmNsaWVudCksdm9pZCAwIT09dC5zZXNzaW9uSWQmJih0aGlzLnNlc3Npb25JZD10LnNlc3Npb25JZCkpfSxoaXZlLnNuYXBzaG90cy5NZXRyaWNTbmFwc2hvdC5wcm90b3R5cGU9e30saGl2ZS5zbmFwc2hvdHMuTWV0cmljU25hcHNob3QucHJvdG90eXBlLnJlYWQ9ZnVuY3Rpb24odCl7Zm9yKHQuSGMoKTs7KXt2YXIgZT10LnNhKCksaT0oZS5CYyxlLmFhKSxuPWUuY2E7aWYoaT09ci5icy5FcylicmVhaztzd2l0Y2gobil7Y2FzZSAxOmk9PXIuYnMuUHM/dGhpcy50aW1lc3RhbXA9dC4kYygpLnZhbHVlOnQucGEoaSk7YnJlYWs7Y2FzZSAyOmk9PXIuYnMuQXM/dGhpcy5ndWlkPXQuaGEoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2Nhc2UgMzppPT1yLmJzLnhzPyh0aGlzLmV2ZW50SWQ9bmV3IEV2ZW50SWQsdGhpcy5ldmVudElkLnJlYWQodCkpOnQucGEoaSk7YnJlYWs7Y2FzZSA0Omk9PXIuYnMueHM/KHRoaXMuc3RyZWFtSW5mbz1uZXcgaGl2ZS5zbmFwc2hvdHMuU3RyZWFtSW5mbyx0aGlzLnN0cmVhbUluZm8ucmVhZCh0KSk6dC5wYShpKTticmVhaztjYXNlIDU6aT09ci5icy54cz8odGhpcy5tZXRyaWNzPW5ldyBoaXZlLnNuYXBzaG90cy5NZXRyaWNzLHRoaXMubWV0cmljcy5yZWFkKHQpKTp0LnBhKGkpO2JyZWFrO2Nhc2UgNjppZihpPT1yLmJzLkJzKXt2YXIgbyxzPTA7dGhpcy50cmFmZmljPXt9O3ZhciBhPTAsYz0wO289dC5MYygpLGE9by5NYyxjPW8uamMscz1vLnNpemU7Zm9yKHZhciBoPTA7aDxzOysraCl7aD4wJiZ0Lk5jLmxlbmd0aD50LlJhW3QuUmEubGVuZ3RoLTFdKzEmJnQuTmMucG9wKCk7dmFyIHA9bnVsbCx1PW51bGw7cD1uZXcgaGl2ZS5zbmFwc2hvdHMuVHJhZmZpY0tleSxwLnJlYWQodCksdT1uZXcgaGl2ZS5zbmFwc2hvdHMuVHJhZmZpYyx1LnJlYWQodCksdGhpcy50cmFmZmljW3BdPXV9dC5VYygpfWVsc2UgdC5wYShpKTticmVhaztjYXNlIDc6aT09ci5icy54cz8odGhpcy5zbmFwc2hvdEluZm89bmV3IFNuYXBzaG90SW5mbyx0aGlzLnNuYXBzaG90SW5mby5yZWFkKHQpKTp0LnBhKGkpO2JyZWFrO2Nhc2UgODppPT1yLmJzLnhzPyh0aGlzLmFnZW50SW5mbz1uZXcgaGl2ZS5zbmFwc2hvdHMuQWdlbnRJbmZvLHRoaXMuYWdlbnRJbmZvLnJlYWQodCkpOnQucGEoaSk7YnJlYWs7Y2FzZSA5Omk9PXIuYnMueHM/KHRoaXMuY29ubkluZm89bmV3IGhpdmUuc25hcHNob3RzLkNvbm5lY3Rpdml0eUluZm8sdGhpcy5jb25uSW5mby5yZWFkKHQpKTp0LnBhKGkpO2JyZWFrO2Nhc2UgMTA6aWYoaT09ci5icy5Ccyl7dmFyIGwsZD0wO3RoaXMucGFydG5lcnM9e307dmFyIGY9MCxnPTA7bD10LkxjKCksZj1sLk1jLGc9bC5qYyxkPWwuc2l6ZTtmb3IodmFyIHY9MDt2PGQ7Kyt2KXt2PjAmJnQuTmMubGVuZ3RoPnQuUmFbdC5SYS5sZW5ndGgtMV0rMSYmdC5OYy5wb3AoKTt2YXIgeT1udWxsLG09bnVsbDt5PW5ldyBoaXZlLnNuYXBzaG90cy5QYXJ0bmVyS2V5LHkucmVhZCh0KSxtPW5ldyBoaXZlLnNuYXBzaG90cy5QYXJ0bmVyLG0ucmVhZCh0KSx0aGlzLnBhcnRuZXJzW3ldPW19dC5VYygpfWVsc2UgdC5wYShpKTticmVhaztjYXNlIDExOmk9PXIuYnMueHM/KHRoaXMucGxheWVyPW5ldyBoaXZlLnNuYXBzaG90cy5QbGF5ZXIsdGhpcy5wbGF5ZXIucmVhZCh0KSk6dC5wYShpKTticmVhaztjYXNlIDEyOmk9PXIuYnMueHM/KHRoaXMuY2xpZW50PW5ldyBoaXZlLnNuYXBzaG90cy5DbGllbnRJbmZvLHRoaXMuY2xpZW50LnJlYWQodCkpOnQucGEoaSk7YnJlYWs7Y2FzZSAxMzppPT1yLmJzLkFzP3RoaXMuc2Vzc2lvbklkPXQuaGEoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2RlZmF1bHQ6dC5wYShpKX10LmxhKCl9dC5kYSgpfSxoaXZlLnNuYXBzaG90cy5NZXRyaWNTbmFwc2hvdC5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24odCl7aWYodC5mYShcIk1ldHJpY1NuYXBzaG90XCIpLG51bGwhPT10aGlzLnRpbWVzdGFtcCYmdm9pZCAwIT09dGhpcy50aW1lc3RhbXAmJih0LmdhKFwidGltZXN0YW1wXCIsci5icy5QcywxKSx0LkNjKHRoaXMudGltZXN0YW1wKSx0LnlhKCkpLG51bGwhPT10aGlzLmd1aWQmJnZvaWQgMCE9PXRoaXMuZ3VpZCYmKHQuZ2EoXCJndWlkXCIsci5icy5BcywyKSx0LnZhKHRoaXMuZ3VpZCksdC55YSgpKSxudWxsIT09dGhpcy5ldmVudElkJiZ2b2lkIDAhPT10aGlzLmV2ZW50SWQmJih0LmdhKFwiZXZlbnRJZFwiLHIuYnMueHMsMyksdGhpcy5ldmVudElkLndyaXRlKHQpLHQueWEoKSksbnVsbCE9PXRoaXMuc3RyZWFtSW5mbyYmdm9pZCAwIT09dGhpcy5zdHJlYW1JbmZvJiYodC5nYShcInN0cmVhbUluZm9cIixyLmJzLnhzLDQpLHRoaXMuc3RyZWFtSW5mby53cml0ZSh0KSx0LnlhKCkpLG51bGwhPT10aGlzLm1ldHJpY3MmJnZvaWQgMCE9PXRoaXMubWV0cmljcyYmKHQuZ2EoXCJtZXRyaWNzXCIsci5icy54cyw1KSx0aGlzLm1ldHJpY3Mud3JpdGUodCksdC55YSgpKSxudWxsIT09dGhpcy50cmFmZmljJiZ2b2lkIDAhPT10aGlzLnRyYWZmaWMpe3QuZ2EoXCJ0cmFmZmljXCIsci5icy5Ccyw2KSx0Lm1jKHIuYnMueHMsci5icy54cyxyLlFzKHRoaXMudHJhZmZpYykpO2Zvcih2YXIgZT0wO2U8dGhpcy50cmFmZmljLmxlbmd0aDtlKyspe3ZhciBpPXRoaXMudHJhZmZpY1tlXSxuPWkua2V5LG89aS52YWx1ZTtuLndyaXRlKHQpLG8ud3JpdGUodCl9dC53YygpLHQueWEoKX1pZihudWxsIT09dGhpcy5zbmFwc2hvdEluZm8mJnZvaWQgMCE9PXRoaXMuc25hcHNob3RJbmZvJiYodC5nYShcInNuYXBzaG90SW5mb1wiLHIuYnMueHMsNyksdGhpcy5zbmFwc2hvdEluZm8ud3JpdGUodCksdC55YSgpKSxudWxsIT09dGhpcy5hZ2VudEluZm8mJnZvaWQgMCE9PXRoaXMuYWdlbnRJbmZvJiYodC5nYShcImFnZW50SW5mb1wiLHIuYnMueHMsOCksdGhpcy5hZ2VudEluZm8ud3JpdGUodCksdC55YSgpKSxudWxsIT09dGhpcy5jb25uSW5mbyYmdm9pZCAwIT09dGhpcy5jb25uSW5mbyYmKHQuZ2EoXCJjb25uSW5mb1wiLHIuYnMueHMsOSksdGhpcy5jb25uSW5mby53cml0ZSh0KSx0LnlhKCkpLG51bGwhPT10aGlzLnBhcnRuZXJzJiZ2b2lkIDAhPT10aGlzLnBhcnRuZXJzKXt0LmdhKFwicGFydG5lcnNcIixyLmJzLkJzLDEwKSx0Lm1jKHIuYnMueHMsci5icy54cyxyLlFzKHRoaXMucGFydG5lcnMpKTtmb3IodmFyIGU9MDtlPHRoaXMucGFydG5lcnMubGVuZ3RoO2UrKyl7dmFyIGk9dGhpcy5wYXJ0bmVyc1tlXSxzPWkua2V5LGE9aS52YWx1ZTtzLndyaXRlKHQpLGEud3JpdGUodCl9dC53YygpLHQueWEoKX1udWxsIT09dGhpcy5wbGF5ZXImJnZvaWQgMCE9PXRoaXMucGxheWVyJiYodC5nYShcInBsYXllclwiLHIuYnMueHMsMTEpLHRoaXMucGxheWVyLndyaXRlKHQpLHQueWEoKSksbnVsbCE9PXRoaXMuY2xpZW50JiZ2b2lkIDAhPT10aGlzLmNsaWVudCYmKHQuZ2EoXCJjbGllbnRcIixyLmJzLnhzLDEyKSx0aGlzLmNsaWVudC53cml0ZSh0KSx0LnlhKCkpLG51bGwhPT10aGlzLnNlc3Npb25JZCYmdm9pZCAwIT09dGhpcy5zZXNzaW9uSWQmJih0LmdhKFwic2Vzc2lvbklkXCIsci5icy5BcywxMyksdC52YSh0aGlzLnNlc3Npb25JZCksdC55YSgpKSx0LndhKCksdC5UYSgpfSxoaXZlLnNuYXBzaG90cy5Kc29uTWV0cmljU25hcHNob3Q9ZnVuY3Rpb24odCl7dGhpcy50aW1lc3RhbXA9bnVsbCx0aGlzLmd1aWQ9bnVsbCx0aGlzLmV2ZW50SWQ9bnVsbCx0aGlzLnN0cmVhbUluZm89bnVsbCx0aGlzLm1ldHJpY3M9bnVsbCx0aGlzLnRyYWZmaWM9bnVsbCx0aGlzLnNuYXBzaG90SW5mbz1udWxsLHRoaXMuYWdlbnRJbmZvPW51bGwsdGhpcy5jb25uSW5mbz1udWxsLHRoaXMucGFydG5lcnM9bnVsbCx0aGlzLnBsYXllcj1udWxsLHRoaXMuY2xpZW50PW51bGwsdGhpcy5zZXNzaW9uSWQ9bnVsbCx0JiYodm9pZCAwIT09dC50aW1lc3RhbXAmJih0aGlzLnRpbWVzdGFtcD10LnRpbWVzdGFtcCksdm9pZCAwIT09dC5ndWlkJiYodGhpcy5ndWlkPXQuZ3VpZCksdm9pZCAwIT09dC5ldmVudElkJiYodGhpcy5ldmVudElkPXQuZXZlbnRJZCksdm9pZCAwIT09dC5zdHJlYW1JbmZvJiYodGhpcy5zdHJlYW1JbmZvPXQuc3RyZWFtSW5mbyksdm9pZCAwIT09dC5tZXRyaWNzJiYodGhpcy5tZXRyaWNzPXQubWV0cmljcyksdm9pZCAwIT09dC50cmFmZmljJiYodGhpcy50cmFmZmljPXQudHJhZmZpYyksdm9pZCAwIT09dC5zbmFwc2hvdEluZm8mJih0aGlzLnNuYXBzaG90SW5mbz10LnNuYXBzaG90SW5mbyksdm9pZCAwIT09dC5hZ2VudEluZm8mJih0aGlzLmFnZW50SW5mbz10LmFnZW50SW5mbyksdm9pZCAwIT09dC5jb25uSW5mbyYmKHRoaXMuY29ubkluZm89dC5jb25uSW5mbyksdm9pZCAwIT09dC5wYXJ0bmVycyYmKHRoaXMucGFydG5lcnM9dC5wYXJ0bmVycyksdm9pZCAwIT09dC5wbGF5ZXImJih0aGlzLnBsYXllcj10LnBsYXllciksdm9pZCAwIT09dC5jbGllbnQmJih0aGlzLmNsaWVudD10LmNsaWVudCksdm9pZCAwIT09dC5zZXNzaW9uSWQmJih0aGlzLnNlc3Npb25JZD10LnNlc3Npb25JZCkpfSxoaXZlLnNuYXBzaG90cy5Kc29uTWV0cmljU25hcHNob3QucHJvdG90eXBlPXt9LGhpdmUuc25hcHNob3RzLkpzb25NZXRyaWNTbmFwc2hvdC5wcm90b3R5cGUucmVhZD1mdW5jdGlvbih0KXtmb3IodC5IYygpOzspe3ZhciBlPXQuc2EoKSxpPShlLkJjLGUuYWEpLG49ZS5jYTtpZihpPT1yLmJzLkVzKWJyZWFrO3N3aXRjaChuKXtjYXNlIDE6aT09ci5icy5Qcz90aGlzLnRpbWVzdGFtcD10LiRjKCkudmFsdWU6dC5wYShpKTticmVhaztjYXNlIDI6aT09ci5icy5Bcz90aGlzLmd1aWQ9dC5oYSgpLnZhbHVlOnQucGEoaSk7YnJlYWs7Y2FzZSAzOmk9PXIuYnMueHM/KHRoaXMuZXZlbnRJZD1uZXcgRXZlbnRJZCx0aGlzLmV2ZW50SWQucmVhZCh0KSk6dC5wYShpKTticmVhaztjYXNlIDQ6aT09ci5icy54cz8odGhpcy5zdHJlYW1JbmZvPW5ldyBoaXZlLnNuYXBzaG90cy5TdHJlYW1JbmZvLHRoaXMuc3RyZWFtSW5mby5yZWFkKHQpKTp0LnBhKGkpO2JyZWFrO2Nhc2UgNTppPT1yLmJzLnhzPyh0aGlzLm1ldHJpY3M9bmV3IGhpdmUuc25hcHNob3RzLk1ldHJpY3MsdGhpcy5tZXRyaWNzLnJlYWQodCkpOnQucGEoaSk7YnJlYWs7Y2FzZSA2OmlmKGk9PXIuYnMuQnMpe3ZhciBvLHM9MDt0aGlzLnRyYWZmaWM9e307dmFyIGE9MCxjPTA7bz10LkxjKCksYT1vLk1jLGM9by5qYyxzPW8uc2l6ZTtmb3IodmFyIGg9MDtoPHM7KytoKXtoPjAmJnQuTmMubGVuZ3RoPnQuUmFbdC5SYS5sZW5ndGgtMV0rMSYmdC5OYy5wb3AoKTt2YXIgcD1udWxsLHU9bnVsbDtwPXQuaGEoKS52YWx1ZSx1PW5ldyBoaXZlLnNuYXBzaG90cy5UcmFmZmljLHUucmVhZCh0KSx0aGlzLnRyYWZmaWNbcF09dX10LlVjKCl9ZWxzZSB0LnBhKGkpO2JyZWFrO2Nhc2UgNzppPT1yLmJzLnhzPyh0aGlzLnNuYXBzaG90SW5mbz1uZXcgU25hcHNob3RJbmZvLHRoaXMuc25hcHNob3RJbmZvLnJlYWQodCkpOnQucGEoaSk7YnJlYWs7Y2FzZSA4Omk9PXIuYnMueHM/KHRoaXMuYWdlbnRJbmZvPW5ldyBoaXZlLnNuYXBzaG90cy5BZ2VudEluZm8sdGhpcy5hZ2VudEluZm8ucmVhZCh0KSk6dC5wYShpKTticmVhaztjYXNlIDk6aT09ci5icy54cz8odGhpcy5jb25uSW5mbz1uZXcgaGl2ZS5zbmFwc2hvdHMuQ29ubmVjdGl2aXR5SW5mbyx0aGlzLmNvbm5JbmZvLnJlYWQodCkpOnQucGEoaSk7YnJlYWs7Y2FzZSAxMDppZihpPT1yLmJzLkJzKXt2YXIgbCxkPTA7dGhpcy5wYXJ0bmVycz17fTt2YXIgZj0wLGc9MDtsPXQuTGMoKSxmPWwuTWMsZz1sLmpjLGQ9bC5zaXplO2Zvcih2YXIgdj0wO3Y8ZDsrK3Ype3Y+MCYmdC5OYy5sZW5ndGg+dC5SYVt0LlJhLmxlbmd0aC0xXSsxJiZ0Lk5jLnBvcCgpO3ZhciB5PW51bGwsbT1udWxsO3k9dC5oYSgpLnZhbHVlLG09bmV3IGhpdmUuc25hcHNob3RzLlBhcnRuZXIsbS5yZWFkKHQpLHRoaXMucGFydG5lcnNbeV09bX10LlVjKCl9ZWxzZSB0LnBhKGkpO2JyZWFrO2Nhc2UgMTE6aT09ci5icy54cz8odGhpcy5wbGF5ZXI9bmV3IGhpdmUuc25hcHNob3RzLlBsYXllcix0aGlzLnBsYXllci5yZWFkKHQpKTp0LnBhKGkpO2JyZWFrO2Nhc2UgMTI6aT09ci5icy54cz8odGhpcy5jbGllbnQ9bmV3IGhpdmUuc25hcHNob3RzLkNsaWVudEluZm8sdGhpcy5jbGllbnQucmVhZCh0KSk6dC5wYShpKTticmVhaztjYXNlIDEzOmk9PXIuYnMuQXM/dGhpcy5zZXNzaW9uSWQ9dC5oYSgpLnZhbHVlOnQucGEoaSk7YnJlYWs7ZGVmYXVsdDp0LnBhKGkpfXQubGEoKX10LmRhKCl9LGhpdmUuc25hcHNob3RzLkpzb25NZXRyaWNTbmFwc2hvdC5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24odCl7aWYodC5mYShcIkpzb25NZXRyaWNTbmFwc2hvdFwiKSxudWxsIT09dGhpcy50aW1lc3RhbXAmJnZvaWQgMCE9PXRoaXMudGltZXN0YW1wJiYodC5nYShcInRpbWVzdGFtcFwiLHIuYnMuUHMsMSksdC5DYyh0aGlzLnRpbWVzdGFtcCksdC55YSgpKSxudWxsIT09dGhpcy5ndWlkJiZ2b2lkIDAhPT10aGlzLmd1aWQmJih0LmdhKFwiZ3VpZFwiLHIuYnMuQXMsMiksdC52YSh0aGlzLmd1aWQpLHQueWEoKSksbnVsbCE9PXRoaXMuZXZlbnRJZCYmdm9pZCAwIT09dGhpcy5ldmVudElkJiYodC5nYShcImV2ZW50SWRcIixyLmJzLnhzLDMpLHRoaXMuZXZlbnRJZC53cml0ZSh0KSx0LnlhKCkpLG51bGwhPT10aGlzLnN0cmVhbUluZm8mJnZvaWQgMCE9PXRoaXMuc3RyZWFtSW5mbyYmKHQuZ2EoXCJzdHJlYW1JbmZvXCIsci5icy54cyw0KSx0aGlzLnN0cmVhbUluZm8ud3JpdGUodCksdC55YSgpKSxudWxsIT09dGhpcy5tZXRyaWNzJiZ2b2lkIDAhPT10aGlzLm1ldHJpY3MmJih0LmdhKFwibWV0cmljc1wiLHIuYnMueHMsNSksdGhpcy5tZXRyaWNzLndyaXRlKHQpLHQueWEoKSksbnVsbCE9PXRoaXMudHJhZmZpYyYmdm9pZCAwIT09dGhpcy50cmFmZmljKXt0LmdhKFwidHJhZmZpY1wiLHIuYnMuQnMsNiksdC5tYyhyLmJzLkFzLHIuYnMueHMsci5Rcyh0aGlzLnRyYWZmaWMpKTtmb3IodmFyIGUgaW4gdGhpcy50cmFmZmljKWlmKHRoaXMudHJhZmZpYy5oYXNPd25Qcm9wZXJ0eShlKSl7dmFyIGk9dGhpcy50cmFmZmljW2VdO3QudmEoZSksaS53cml0ZSh0KX10LndjKCksdC55YSgpfWlmKG51bGwhPT10aGlzLnNuYXBzaG90SW5mbyYmdm9pZCAwIT09dGhpcy5zbmFwc2hvdEluZm8mJih0LmdhKFwic25hcHNob3RJbmZvXCIsci5icy54cyw3KSx0aGlzLnNuYXBzaG90SW5mby53cml0ZSh0KSx0LnlhKCkpLG51bGwhPT10aGlzLmFnZW50SW5mbyYmdm9pZCAwIT09dGhpcy5hZ2VudEluZm8mJih0LmdhKFwiYWdlbnRJbmZvXCIsci5icy54cyw4KSx0aGlzLmFnZW50SW5mby53cml0ZSh0KSx0LnlhKCkpLG51bGwhPT10aGlzLmNvbm5JbmZvJiZ2b2lkIDAhPT10aGlzLmNvbm5JbmZvJiYodC5nYShcImNvbm5JbmZvXCIsci5icy54cyw5KSx0aGlzLmNvbm5JbmZvLndyaXRlKHQpLHQueWEoKSksbnVsbCE9PXRoaXMucGFydG5lcnMmJnZvaWQgMCE9PXRoaXMucGFydG5lcnMpe3QuZ2EoXCJwYXJ0bmVyc1wiLHIuYnMuQnMsMTApLHQubWMoci5icy5BcyxyLmJzLnhzLHIuUXModGhpcy5wYXJ0bmVycykpO2Zvcih2YXIgbiBpbiB0aGlzLnBhcnRuZXJzKWlmKHRoaXMucGFydG5lcnMuaGFzT3duUHJvcGVydHkobikpe3ZhciBvPXRoaXMucGFydG5lcnNbbl07dC52YShuKSxvLndyaXRlKHQpfXQud2MoKSx0LnlhKCl9bnVsbCE9PXRoaXMucGxheWVyJiZ2b2lkIDAhPT10aGlzLnBsYXllciYmKHQuZ2EoXCJwbGF5ZXJcIixyLmJzLnhzLDExKSx0aGlzLnBsYXllci53cml0ZSh0KSx0LnlhKCkpLG51bGwhPT10aGlzLmNsaWVudCYmdm9pZCAwIT09dGhpcy5jbGllbnQmJih0LmdhKFwiY2xpZW50XCIsci5icy54cywxMiksdGhpcy5jbGllbnQud3JpdGUodCksdC55YSgpKSxudWxsIT09dGhpcy5zZXNzaW9uSWQmJnZvaWQgMCE9PXRoaXMuc2Vzc2lvbklkJiYodC5nYShcInNlc3Npb25JZFwiLHIuYnMuQXMsMTMpLHQudmEodGhpcy5zZXNzaW9uSWQpLHQueWEoKSksdC53YSgpLHQuVGEoKX19LGZ1bmN0aW9uKHQsZSl7LyohIGNvbGxlY3Rpb25zLm1pbi5qcyB2IDMuMC4wIGdpdGh1Yi5jb20vbW9udGFnZWpzL2NvbGxlY3Rpb25zICovXG4gICFmdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dGhyb3cgRXJyb3IoXCJDYW4ndCBjb25zdHJ1Y3QuIEdlbmVyaWNDb2xsZWN0aW9uIGlzIGEgbWl4aW4uXCIpfWZ1bmN0aW9uIGkoKXt0aHJvdyBFcnJvcihcIkNhbid0IGNvbnN0cnVjdC4gR2VuZXJpY1NldCBpcyBhIG1peGluLlwiKX1mdW5jdGlvbiByKCl7fWZ1bmN0aW9uIG4oKXt0aHJvdyBFcnJvcihcIlRoaXMgaXMgYW4gYWJzdHJhY3QgaW50ZXJmYWNlLiBNaXggaXQuIERvbid0IGNvbnN0cnVjdCBpdFwiKX1mdW5jdGlvbiBvKCl7dGhyb3cgRXJyb3IoXCJDYW4ndCBjb25zdHJ1Y3QuIFJhbmdlQ2hhbmdlcyBpcyBhIG1peGluLlwiKX1mdW5jdGlvbiBzKCl7dGhyb3cgRXJyb3IoXCJDYW4ndCBjb25zdHJ1Y3QuIEdlbmVyaWNPcmRlciBpcyBhIG1peGluLlwiKX1mdW5jdGlvbiBhKHQpe2lmKCEodGhpcyBpbnN0YW5jZW9mIGEpKXJldHVybiBuZXcgYSh0KTtpZihBcnJheS5pc0FycmF5KHQpfHxcInN0cmluZ1wiPT10eXBlb2YgdClyZXR1cm4gYS5EZih0KTtpZih0PWx0KHQpLHQgaW5zdGFuY2VvZiBhKXJldHVybiB0O2lmKHQubmV4dCl0aGlzLm5leHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdC5uZXh0KCl9O2Vsc2UgaWYodC5EZil7dmFyIGU9dC5EZigpO3RoaXMubmV4dD1mdW5jdGlvbigpe3JldHVybiBlLm5leHQoKX19ZWxzZXtpZihcIltvYmplY3QgRnVuY3Rpb25dXCIhPT1sdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGl0ZXJhdGVcIik7dGhpcy5uZXh0PXR9fWZ1bmN0aW9uIGModCxlLGkpe3RoaXMuSGY9dCx0aGlzLnN0YXJ0PW51bGw9PWU/MDplLHRoaXMuZW5kPWl9ZnVuY3Rpb24gaCh0LGUsaSl7aWYoISh0aGlzIGluc3RhbmNlb2YgaCkpcmV0dXJuIG5ldyBoKHQsZSxpKTt2YXIgcj10aGlzLmhlYWQ9bmV3IHRoaXMuTm9kZTtyLm5leHQ9cixyLkxmPXIsdGhpcy5NZj1lfHxPYmplY3Qub2wsdGhpcy5jb250ZW50PWl8fEZ1bmN0aW9uLmpmLHRoaXMubGVuZ3RoPTAsdGhpcy5hZGRFYWNoKHQpfWZ1bmN0aW9uIHAodCl7dGhpcy5oZWFkPXQsdGhpcy5VZj10Lm5leHR9ZnVuY3Rpb24gdSh0KXt0aGlzLnZhbHVlPXQsdGhpcy5uZXh0PXRoaXMuTGY9bnVsbH1mdW5jdGlvbiBsKCl7dGhyb3cgRXJyb3IoXCJDYW4ndCBjb25zdHJ1Y3QuIE1hcENoYW5nZXMgaXMgYSBtaXhpbi5cIil9ZnVuY3Rpb24gZCgpe3Rocm93IEVycm9yKFwiQ2FuJ3QgY29uc3RydWN0LiBHZW5lcmljTWFwIGlzIGEgbWl4aW4uXCIpfWZ1bmN0aW9uIGYodCxlKXtyZXR1cm4gdGhpcyBpbnN0YW5jZW9mIGY/KHRoaXMuY29udGVudD1lfHxGdW5jdGlvbi5qZix0aGlzLlZmPXt9LHRoaXMubGVuZ3RoPTAsdm9pZCB0aGlzLmFkZEVhY2godCkpOm5ldyBmKHQsZSl9ZnVuY3Rpb24gZyh0LGUsaSxyKXtyZXR1cm4gdGhpcyBpbnN0YW5jZW9mIGc/KGU9ZXx8T2JqZWN0Lm9sLGk9aXx8T2JqZWN0Lmhhc2gscj1yfHxGdW5jdGlvbi5qZix0aGlzLk1mPWUsdGhpcy5RZj1pLHRoaXMuY29udGVudD1yLHRoaXMucWY9bmV3IHRoaXMuSmYobnVsbCx0aGlzLktmKSx0aGlzLmxlbmd0aD0wLHZvaWQgdGhpcy5hZGRFYWNoKHQpKTpuZXcgZyh0LGUsaSl9ZnVuY3Rpb24gdih0LGUsaSxyKXtyZXR1cm4gdGhpcyBpbnN0YW5jZW9mIHY/KGU9ZXx8T2JqZWN0Lm9sLGk9aXx8T2JqZWN0Lmhhc2gscj1yfHxGdW5jdGlvbi5qZix0aGlzLk1mPWUsdGhpcy5RZj1pLHRoaXMuY29udGVudD1yLHRoaXMuVmY9bmV3IE10KCh2b2lkIDApLGZ1bmN0aW9uKHQsaSl7cmV0dXJuIGUodC5rZXksaS5rZXkpfSxmdW5jdGlvbih0KXtyZXR1cm4gaSh0LmtleSl9KSx0aGlzLmxlbmd0aD0wLHZvaWQgdGhpcy5hZGRFYWNoKHQpKTpuZXcgdih0LGUsaSl9ZnVuY3Rpb24geSh0LGUsaSxyKXtyZXR1cm4gdGhpcyBpbnN0YW5jZW9mIHk/KGU9ZXx8T2JqZWN0Lm9sLGk9aXx8T2JqZWN0Lmhhc2gscj1yfHxGdW5jdGlvbi5qZix0aGlzLk1mPWUsdGhpcy5RZj1pLHRoaXMuY29udGVudD1yLHRoaXMub3JkZXI9bmV3IHRoaXMuR2YoKHZvaWQgMCksZSksdGhpcy5WZj1uZXcgdGhpcy56Zigodm9pZCAwKSxmdW5jdGlvbih0LGkpe3JldHVybiBlKHQudmFsdWUsaS52YWx1ZSl9LGZ1bmN0aW9uKHQpe3JldHVybiBpKHQudmFsdWUpfSksdGhpcy5sZW5ndGg9MCx2b2lkIHRoaXMuYWRkRWFjaCh0KSk6bmV3IHkodCxlLGkpfWZ1bmN0aW9uIG0odCxlLGkscixuKXtyZXR1cm4gdGhpcyBpbnN0YW5jZW9mIG0/KGU9ZXx8MS8wLGk9aXx8T2JqZWN0Lm9sLHI9cnx8T2JqZWN0Lmhhc2gsbj1ufHxGdW5jdGlvbi5qZix0aGlzLlZmPW5ldyBZdCgodm9pZCAwKSxpLHIpLHRoaXMuTWY9aSx0aGlzLlFmPXIsdGhpcy5jb250ZW50PW4sdGhpcy5tYXhMZW5ndGg9ZSx0aGlzLmxlbmd0aD0wLHZvaWQgdGhpcy5hZGRFYWNoKHQpKTpuZXcgbSh0LGUsaSxyKX1mdW5jdGlvbiB3KHQsZSxpLHIsbil7cmV0dXJuIHRoaXMgaW5zdGFuY2VvZiB3PyhpPWl8fE9iamVjdC5vbCxyPXJ8fE9iamVjdC5oYXNoLG49bnx8RnVuY3Rpb24uamYsdGhpcy5NZj1pLHRoaXMuUWY9cix0aGlzLmNvbnRlbnQ9bix0aGlzLlZmPW5ldyBpZSgodm9pZCAwKSxlLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGkodC5rZXksZS5rZXkpfSxmdW5jdGlvbih0KXtyZXR1cm4gcih0LmtleSl9KSx0aGlzLmxlbmd0aD0wLHZvaWQgdGhpcy5hZGRFYWNoKHQpKTpuZXcgdyh0LGUsaSxyKX1mdW5jdGlvbiBUKHQsZSxpLHIpe3JldHVybiB0aGlzIGluc3RhbmNlb2YgVD8oZT1lfHxPYmplY3Qub2wsaT1pfHxPYmplY3QuaGFzaCxyPXJ8fEZ1bmN0aW9uLmpmLHRoaXMuTWY9ZSx0aGlzLlFmPWksdGhpcy5jb250ZW50PXIsdGhpcy5WZj1uZXcgYWUoKHZvaWQgMCksZnVuY3Rpb24odCxpKXtyZXR1cm4gZSh0LmtleSxpLmtleSl9LGZ1bmN0aW9uKHQpe3JldHVybiBpKHQua2V5KX0pLHRoaXMubGVuZ3RoPTAsdm9pZCB0aGlzLmFkZEVhY2godCkpOm5ldyBUKHQsZSxpKX1mdW5jdGlvbiBTKHQsZSxpLHIpe3JldHVybiB0aGlzIGluc3RhbmNlb2YgUz8odGhpcy5XZj1lfHx0aGlzLldmLHZvaWQgbGUuY2FsbCh0aGlzLHQsaSxyLGZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuV2YoKTtyZXR1cm4gbGUucHJvdG90eXBlLnNldC5jYWxsKHRoaXMsdCxlKSxlfSkpOm5ldyBTKHQsZSxpLHIpfWZ1bmN0aW9uIGIodCxlLGkscil7cmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBiPyhBcnJheS5pc0FycmF5KHQpPyh0aGlzLkhmPXQsdD10LnNwbGljZSgwLHQubGVuZ3RoKSk6dGhpcy5IZj1bXSx0aGlzLk1mPWV8fE9iamVjdC5vbCx0aGlzLiRmPWl8fE9iamVjdC5ZZix0aGlzLmNvbnRlbnQ9cnx8RnVuY3Rpb24uamYsdGhpcy5sZW5ndGg9MCx2b2lkIHRoaXMuYWRkRWFjaCh0KSk6bmV3IGIodCxlLGkscil9ZnVuY3Rpb24gRSh0LGUsaSl7Zm9yKHZhciByPTAsbj10Lmxlbmd0aC0xO3I8PW47KXt2YXIgbz1yK24+PjEscz1pKGUsdFtvXSk7aWYoMDxzKXI9bysxO2Vsc2V7aWYoISgwPnMpKXJldHVybiBvO249by0xfX1yZXR1cm4tKHIrMSl9ZnVuY3Rpb24gSSh0LGUsaSxyKXtpZihpPUUodCxlLGkpLDA+aSlyZXR1cm4tMTtmb3IoOzA8aSYmcihlLHRbaS0xXSk7KWktLTtyZXR1cm4gcihlLHRbaV0pP2k6LTF9ZnVuY3Rpb24gUih0LGUsaSxyKXtpZihpPUUodCxlLGkpLDA+aSlyZXR1cm4tMTtmb3IoO2k8dC5sZW5ndGgtMSYmcihlLHRbaSsxXSk7KWkrKztyZXR1cm4gcihlLHRbaV0pP2k6LTF9ZnVuY3Rpb24gayh0LGUsaSxyKXtyZXR1cm4gdGhpcyBpbnN0YW5jZW9mIGs/dm9pZCB5ZS5jYWxsKHRoaXMsdCxlLGkscik6bmV3IGsodCxlLGkscil9ZnVuY3Rpb24gQyh0LGUsaSxyKXtyZXR1cm4gdGhpcyBpbnN0YW5jZW9mIEM/KGU9ZXx8T2JqZWN0Lm9sLGk9aXx8T2JqZWN0LllmLHI9cnx8RnVuY3Rpb24uamYsdGhpcy5NZj1lLHRoaXMuJGY9aSx0aGlzLmNvbnRlbnQ9cix0aGlzLlZmPW5ldyBTZShudWxsLGZ1bmN0aW9uKHQsaSl7cmV0dXJuIGUodC5rZXksaS5rZXkpfSxmdW5jdGlvbih0LGUpe3JldHVybiBpKHQua2V5LGUua2V5KX0pLHRoaXMubGVuZ3RoPTAsdm9pZCB0aGlzLmFkZEVhY2godCkpOm5ldyBDKHQsZSxpLHIpfWZ1bmN0aW9uIE8odCxlLGkscil7cmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBPPyh0aGlzLk1mPWV8fE9iamVjdC5vbCx0aGlzLiRmPWl8fE9iamVjdC5ZZix0aGlzLmNvbnRlbnQ9cnx8RnVuY3Rpb24uamYsdGhpcy5yb290PW51bGwsdGhpcy5sZW5ndGg9MCx2b2lkIHRoaXMuYWRkRWFjaCh0KSk6bmV3IE8odCxlLGkscil9ZnVuY3Rpb24gUCh0KXt0aGlzLnZhbHVlPXQsdGhpcy5yaWdodD10aGlzLmxlZnQ9bnVsbCx0aGlzLmxlbmd0aD0xfWZ1bmN0aW9uIEEodCxlLGkpe3RoaXMuc2V0PXQsdGhpcy5MZj1udWxsLHRoaXMuZW5kPWksZSYmKHQ9dGhpcy5zZXQuWGYoZSkpJiYodGhpcy5zZXQuWmYodC52YWx1ZSksdGhpcy5MZj10LnRnKCkpfWZ1bmN0aW9uIE4odCxlLGkscil7cmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBOPyhlPWV8fE9iamVjdC5vbCxpPWl8fE9iamVjdC5ZZixyPXJ8fEZ1bmN0aW9uLmpmLHRoaXMuTWY9ZSx0aGlzLiRmPWksdGhpcy5jb250ZW50PXIsdGhpcy5WZj1uZXcgTmUobnVsbCxmdW5jdGlvbih0LGkpe3JldHVybiBlKHQua2V5LGkua2V5KX0sZnVuY3Rpb24odCxlKXtyZXR1cm4gaSh0LmtleSxlLmtleSl9KSx0aGlzLmxlbmd0aD0wLHZvaWQgdGhpcy5hZGRFYWNoKHQpKTpuZXcgTih0LGUsaSxyKX12YXIgeD17fTt4LmVnPWUsZS5wcm90b3R5cGUuYWRkRWFjaD1mdW5jdGlvbih0KXtpZih0JiZPYmplY3QodCk9PT10KWlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHQuZm9yRWFjaCl0LmZvckVhY2godGhpcy5hZGQsdGhpcyk7ZWxzZSBpZihcIm51bWJlclwiPT10eXBlb2YgdC5sZW5ndGgpZm9yKHZhciBlPTA7ZTx0Lmxlbmd0aDtlKyspdGhpcy5hZGQodFtlXSxlKTtlbHNlIE9iamVjdC5rZXlzKHQpLmZvckVhY2goZnVuY3Rpb24oZSl7dGhpcy5hZGQodFtlXSxlKX0sdGhpcyl9LGUucHJvdG90eXBlLmlnPWZ1bmN0aW9uKHQpe3QuZm9yRWFjaChmdW5jdGlvbih0KXt0aGlzW1wiZGVsZXRlXCJdKHQpfSx0aGlzKX0sZS5wcm90b3R5cGUuZm9yRWFjaD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnJlZHVjZShmdW5jdGlvbihpLHIsbixvLHMpe3QuY2FsbChlLHIsbixvLHMpfSx2b2lkIDApfSxlLnByb3RvdHlwZS5tYXA9ZnVuY3Rpb24odCxlKXt2YXIgaT1bXTtyZXR1cm4gdGhpcy5yZWR1Y2UoZnVuY3Rpb24ocixuLG8scyxhKXtpLnB1c2godC5jYWxsKGUsbixvLHMsYSkpfSx2b2lkIDApLGl9LGUucHJvdG90eXBlLnRvQXJyYXk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoRnVuY3Rpb24uaWRlbnRpdHkpfSxlLnByb3RvdHlwZS5yZz1mdW5jdGlvbigpe3ZhciB0PXt9O3JldHVybiB0aGlzLnJlZHVjZShmdW5jdGlvbihlLGkscil7dFtyXT1pfSx2b2lkIDApLHR9LGUucHJvdG90eXBlLmZpbHRlcj1mdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMubmcoKTtyZXR1cm4gdGhpcy5yZWR1Y2UoZnVuY3Rpb24ocixuLG8scyxhKXt0LmNhbGwoZSxuLG8scyxhKSYmaS5hZGQobil9LHZvaWQgMCksaX0sZS5wcm90b3R5cGUuZXZlcnk9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5yZWR1Y2UoZnVuY3Rpb24oaSxyLG4sbyxzKXtyZXR1cm4gaSYmdC5jYWxsKGUscixuLG8scyl9LCEwKX0sZS5wcm90b3R5cGUuc29tZT1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnJlZHVjZShmdW5jdGlvbihpLHIsbixvLHMpe3JldHVybiBpfHx0LmNhbGwoZSxyLG4sbyxzKX0sITEpfSxlLnByb3RvdHlwZS5hbGw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ldmVyeShCb29sZWFuKX0sZS5wcm90b3R5cGUuaWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zb21lKEJvb2xlYW4pfSxlLnByb3RvdHlwZS5taW49ZnVuY3Rpb24odCl7cmV0dXJuIHQ9dGhpcy4kZnx8T2JqZWN0LllmLHRoaXMucmVkdWNlKGZ1bmN0aW9uKGUsaSl7cmV0dXJuIDA+dChpLGUpP2k6ZX0sMS8wKX0sZS5wcm90b3R5cGUubWF4PWZ1bmN0aW9uKHQpe3JldHVybiB0PXRoaXMuJGZ8fE9iamVjdC5ZZix0aGlzLnJlZHVjZShmdW5jdGlvbihlLGkpe3JldHVybiAwPHQoaSxlKT9pOmV9LC0oMS8wKSl9LGUucHJvdG90eXBlLm9nPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnJlZHVjZShmdW5jdGlvbih0LGUpe3JldHVybiB0K2V9LHZvaWQgMD09PXQ/MDp0KX0sZS5wcm90b3R5cGUuc2c9ZnVuY3Rpb24odCl7dmFyIGU9dm9pZCAwPT09dD8wOnQsaT12b2lkIDA9PT10PzA6dDtyZXR1cm4gdGhpcy5yZWR1Y2UoZnVuY3Rpb24odCxyKXtlKz1yLGkrPTF9LHZvaWQgMCksZS9pfSxlLnByb3RvdHlwZS5jb25jYXQ9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5uZyh0aGlzKSxlPTA7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl0LmFkZEVhY2goYXJndW1lbnRzW2VdKTtyZXR1cm4gdH0sZS5wcm90b3R5cGUuYWc9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3JldHVybiB0aGlzLnJlZHVjZShmdW5jdGlvbihlLGkpe3JldHVybiBpLmZvckVhY2goZnVuY3Rpb24odCl7dGhpcy5wdXNoKHQpfSxlLHQpLGV9LFtdKX0sZS5wcm90b3R5cGUuY2c9ZnVuY3Rpb24oKXt2YXIgdD1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO3QudW5zaGlmdCh0aGlzKTtmb3IodmFyIGU9W10saT0xLzAscj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbj10W3JdO3Rbcl09bi50b0FycmF5KCksbi5sZW5ndGg8aSYmKGk9bi5sZW5ndGgpfWZvcihyPTA7cjx0Lmxlbmd0aDtyKyspZm9yKHZhciBuPXRbcl0sbz0wO288bi5sZW5ndGg7bysrKW88aSYmbyBpbiBuJiYoZVtvXT1lW29dfHxbXSxlW29dW3JdPW5bb10pO3JldHVybiBlfSxlLnByb3RvdHlwZS5oZz1mdW5jdGlvbih0LGUsaSl7cmV0dXJuIHQ9dHx8dGhpcy4kZnx8T2JqZWN0LllmLHQucGc/KGU9dC5wZyx0PXQuWWZ8fHRoaXMuJGZ8fE9iamVjdC5ZZik6ZT1lfHxGdW5jdGlvbi5pZGVudGl0eSx2b2lkIDA9PT1pJiYoaT0xKSx0aGlzLm1hcChmdW5jdGlvbih0KXtyZXR1cm57cGc6ZSh0KSx2YWx1ZTp0fX0pLnNvcnQoZnVuY3Rpb24oZSxyKXtyZXR1cm4gdChlLnBnLHIucGcpKml9KS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQudmFsdWV9KX0sZS5wcm90b3R5cGUucmV2ZXJzZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uZyh0aGlzKS5yZXZlcnNlKCl9LGUucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKHQsZSl7aWYodm9pZCAwPT09dCl0PTEvMDtlbHNlIGlmKDA9PT10KXJldHVybiB0aGlzO3ZhciBpPXRoaXMubmcoKTtyZXR1cm4gdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKHIsbil7aS5hZGQoT2JqZWN0LmNsb25lKHIsdC0xLGUpLG4pfSx0aGlzKSxpfSxlLnByb3RvdHlwZS5vbmx5PWZ1bmN0aW9uKCl7aWYoMD09PXRoaXMubGVuZ3RoKXRocm93IEVycm9yKFwiQ2FuJ3QgZ2V0IG9ubHkgdmFsdWUgaW4gZW1wdHkgY29sbGVjdGlvbi5cIik7aWYoMTx0aGlzLmxlbmd0aCl0aHJvdyBFcnJvcihcIkNhbid0IGdldCBvbmx5IHZhbHVlIGluIGNvbGxlY3Rpb24gd2l0aCBtdWx0aXBsZSB2YWx1ZXMuXCIpO3JldHVybiB0aGlzLnVnKCl9LHguZWcmJih4PXguZWcpO3ZhciBCPXt9O0IuZWc9aSxpLnByb3RvdHlwZS5sZz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLm5nKHRoaXMpO3JldHVybiBlLmFkZEVhY2godCksZX0saS5wcm90b3R5cGUuZGc9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubmcodGhpcy5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIHQuaGFzKGUpfSkpfSxpLnByb3RvdHlwZS5mZz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLm5nKHRoaXMpO3JldHVybiBlLmlnKHQpLGV9LGkucHJvdG90eXBlLmdnPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMubGcodCksdD10aGlzLmRnKHQpO3JldHVybiBlLmZnKHQpfSxpLnByb3RvdHlwZS5vbD1mdW5jdGlvbih0LGUpe3ZhciBpPXRoaXM7cmV0dXJuIE9iamVjdC52Zyh0LFwicmVkdWNlXCIpJiZ0aGlzLmxlbmd0aD09PXQubGVuZ3RoJiZ0LnJlZHVjZShmdW5jdGlvbih0LHIpe3JldHVybiB0JiZpLmhhcyhyLGUpfSwhMCl9LEIuZWcmJihCPUIuZWcpO3ZhciBGPXgsXz1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO0FycmF5LmlzQXJyYXl8fChBcnJheS5pc0FycmF5PWZ1bmN0aW9uKHQpe3JldHVyblwiW29iamVjdCBBcnJheV1cIj09Xy5jYWxsKHQpfSksQXJyYXkucHJvdG90eXBlLmZvckVhY2h8fChBcnJheS5wcm90b3R5cGUuZm9yRWFjaD1GLmZvckVhY2gpLEFycmF5LnByb3RvdHlwZS5tYXB8fChBcnJheS5wcm90b3R5cGUubWFwPUYubWFwKSxBcnJheS5wcm90b3R5cGUuZmlsdGVyfHwoQXJyYXkucHJvdG90eXBlLmZpbHRlcj1GLmZpbHRlciksQXJyYXkucHJvdG90eXBlLmV2ZXJ5fHwoQXJyYXkucHJvdG90eXBlLmV2ZXJ5PUYuZXZlcnkpLEFycmF5LnByb3RvdHlwZS5zb21lfHwoQXJyYXkucHJvdG90eXBlLnNvbWU9Ri5zb21lKSxBcnJheS5wcm90b3R5cGUucmVkdWNlfHwoQXJyYXkucHJvdG90eXBlLnJlZHVjZT1mdW5jdGlvbih0KXt2YXIgZT10b09iamVjdCh0aGlzKSxpPWUubGVuZ3RoPj4+MDtpZihcIltvYmplY3QgRnVuY3Rpb25dXCIhPV8uY2FsbCh0KSl0aHJvdyBuZXcgVHlwZUVycm9yKHQrXCIgaXMgbm90IGEgZnVuY3Rpb25cIik7aWYoIWkmJjE9PWFyZ3VtZW50cy5sZW5ndGgpdGhyb3cgbmV3IFR5cGVFcnJvcihcInJlZHVjZSBvZiBlbXB0eSBhcnJheSB3aXRoIG5vIGluaXRpYWwgdmFsdWVcIik7dmFyIHIsbj0wO2lmKDI8PWFyZ3VtZW50cy5sZW5ndGgpcj1hcmd1bWVudHNbMV07ZWxzZSBmb3IoOzspe2lmKG4gaW4gZSl7cj1lW24rK107YnJlYWt9aWYoKytuPj1pKXRocm93IG5ldyBUeXBlRXJyb3IoXCJyZWR1Y2Ugb2YgZW1wdHkgYXJyYXkgd2l0aCBubyBpbml0aWFsIHZhbHVlXCIpfWZvcig7bjxpO24rKyluIGluIGUmJihyPXQuY2FsbCh2b2lkIDAscixlW25dLG4sZSkpO3JldHVybiByfSksQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0fHwoQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0PWZ1bmN0aW9uKHQpe3ZhciBlPXRvT2JqZWN0KHRoaXMpLGk9ZS5sZW5ndGg+Pj4wO2lmKFwiW29iamVjdCBGdW5jdGlvbl1cIiE9Xy5jYWxsKHQpKXRocm93IG5ldyBUeXBlRXJyb3IodCtcIiBpcyBub3QgYSBmdW5jdGlvblwiKTtpZighaSYmMT09YXJndW1lbnRzLmxlbmd0aCl0aHJvdyBuZXcgVHlwZUVycm9yKFwicmVkdWNlUmlnaHQgb2YgZW1wdHkgYXJyYXkgd2l0aCBubyBpbml0aWFsIHZhbHVlXCIpO3ZhciByLGk9aS0xO2lmKDI8PWFyZ3VtZW50cy5sZW5ndGgpcj1hcmd1bWVudHNbMV07ZWxzZSBmb3IoOzspe2lmKGkgaW4gZSl7cj1lW2ktLV07YnJlYWt9aWYoMD4tLWkpdGhyb3cgbmV3IFR5cGVFcnJvcihcInJlZHVjZVJpZ2h0IG9mIGVtcHR5IGFycmF5IHdpdGggbm8gaW5pdGlhbCB2YWx1ZVwiKX1kbyBpIGluIHRoaXMmJihyPXQuY2FsbCh2b2lkIDAscixlW2ldLGksZSkpO3doaWxlKGktLSk7cmV0dXJuIHJ9KSxBcnJheS5wcm90b3R5cGUuaW5kZXhPZnx8KEFycmF5LnByb3RvdHlwZS5pbmRleE9mPWZ1bmN0aW9uKHQpe3ZhciBlPXRvT2JqZWN0KHRoaXMpLGk9ZS5sZW5ndGg+Pj4wO2lmKCFpKXJldHVybi0xO3ZhciByPTA7Zm9yKDE8YXJndW1lbnRzLmxlbmd0aCYmKHI9dG9JbnRlZ2VyKGFyZ3VtZW50c1sxXSkpLHI9MDw9cj9yOk1hdGgubWF4KDAsaStyKTtyPGk7cisrKWlmKHIgaW4gZSYmZVtyXT09PXQpcmV0dXJuIHI7cmV0dXJuLTF9KSxBcnJheS5wcm90b3R5cGUubGFzdEluZGV4T2Z8fChBcnJheS5wcm90b3R5cGUubGFzdEluZGV4T2Y9ZnVuY3Rpb24odCl7dmFyIGU9dG9PYmplY3QodGhpcyksaT1lLmxlbmd0aD4+PjA7aWYoIWkpcmV0dXJuLTE7dmFyIHI9aS0xO2ZvcigxPGFyZ3VtZW50cy5sZW5ndGgmJihyPU1hdGgubWluKHIsdG9JbnRlZ2VyKGFyZ3VtZW50c1sxXSkpKSxyPTA8PXI/cjppLU1hdGguYWJzKHIpOzA8PXI7ci0tKWlmKHIgaW4gZSYmdD09PWVbcl0pcmV0dXJuIHI7cmV0dXJuLTF9KTt2YXIgRD17fTtELmVnPUZ1bmN0aW9uLEZ1bmN0aW9uLmpmPWZ1bmN0aW9uKCl7fSxGdW5jdGlvbi5pZGVudGl0eT1mdW5jdGlvbih0KXtyZXR1cm4gdH0sRnVuY3Rpb24ucGc9ZnVuY3Rpb24odCxlKXt2YXIgZT1lfHxPYmplY3QuWWYsdD10fHxGdW5jdGlvbi5pZGVudGl0eSxpPWZ1bmN0aW9uKGkscil7cmV0dXJuIGUodChpKSx0KHIpKX07cmV0dXJuIGkuWWY9ZSxpLnBnPXQsaX0sRC5lZyYmKEQ9RC5lZyk7dmFyIEg9e307SC5lZz1yLHIueWc9e2RnOlwiK1wiLG1nOlwiLVwiLHdnOlwiK1wiLFRnOlwiK1wiLFNnOlwiLlwiLGJnOlwiJ1wiLEVnOlwiK1wiLElnOlwifFwifSxyLlJnPXtkZzpcIuKVi1wiLG1nOlwi4pSBXCIsd2c6XCLilLtcIixUZzpcIuKUs1wiLFNnOlwi4pWtXCIsYmc6XCLilbBcIixFZzpcIuKUo1wiLElnOlwi4pSDXCJ9LHIua2c9e2RnOlwi4pWLXCIsbWc6XCLilIFcIix3ZzpcIuKUu1wiLFRnOlwi4pSzXCIsU2c6XCLilI9cIixiZzpcIuKUl1wiLEVnOlwi4pSjXCIsSWc6XCLilINcIn0sSC5lZyYmKEg9SC5lZyk7dmFyIEwsTT17fSxqPU07aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFdlYWtNYXApTD1XZWFrTWFwO2Vsc2V7dmFyIFU9ZnVuY3Rpb24odCl7cmV0dXJuIHQucHJvdG90eXBlPW51bGwsT2JqZWN0LmZyZWV6ZSh0KX0sVj1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyxRPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxxPXt9O1YoT2JqZWN0KS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3FbdF09T2JqZWN0W3RdfSk7dmFyIEo9XCJpZGVudDpcIitNYXRoLnJhbmRvbSgpK1wiX19fXCI7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGNyeXB0byYmXCJmdW5jdGlvblwiPT10eXBlb2YgY3J5cHRvLmdldFJhbmRvbVZhbHVlcyYmXCJmdW5jdGlvblwiPT10eXBlb2YgQXJyYXlCdWZmZXImJlwiZnVuY3Rpb25cIj09dHlwZW9mIFVpbnQ4QXJyYXkpe3ZhciBLPW5ldyBBcnJheUJ1ZmZlcigyNSksSz1uZXcgVWludDhBcnJheShLKTtjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKEspLEo9XCJyYW5kOlwiK0FycmF5LnByb3RvdHlwZS5tYXAuY2FsbChLLGZ1bmN0aW9uKHQpe3JldHVybih0JTM2KS50b1N0cmluZygzNil9KS5qb2luKFwiXCIpK1wiX19fXCJ9UShPYmplY3QsXCJnZXRPd25Qcm9wZXJ0eU5hbWVzXCIse3ZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBWKHQpLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4gdCE9PUp9KX19KSxcImdldFByb3BlcnR5TmFtZXNcImluIE9iamVjdCYmUShPYmplY3QsXCJnZXRQcm9wZXJ0eU5hbWVzXCIse3ZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBxLmdldFByb3BlcnR5TmFtZXModCkuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiB0IT09Sn0pfX0pO3ZhciBHPWZ1bmN0aW9uKHQpe2lmKHQhPT1PYmplY3QodCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIk5vdCBhbiBvYmplY3Q6IFwiK3QpO3ZhciBlPXRbSl07cmV0dXJuIGUmJmUua2V5PT09dD9lOnEuaXNFeHRlbnNpYmxlKHQpPyhlPXtrZXk6dCxDZzpbXSxPZzpbXX0sUSh0LEose3ZhbHVlOmUsUGc6ITEsQWc6ITEsTmc6ITF9KSxlKTp2b2lkIDB9LHo9T2JqZWN0LmZyZWV6ZTtRKE9iamVjdCxcImZyZWV6ZVwiLHt2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gRyh0KSx6KHQpfX0pO3ZhciBXPU9iamVjdC5zZWFsO1EoT2JqZWN0LFwic2VhbFwiLHt2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gRyh0KSxXKHQpfX0pO3ZhciAkPU9iamVjdC5wcmV2ZW50RXh0ZW5zaW9ucztRKE9iamVjdCxcInByZXZlbnRFeHRlbnNpb25zXCIse3ZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBHKHQpLCQodCl9fSk7dmFyIFk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHIsbil7dmFyIG8scz1HKHIpO3JldHVybiBzPyhvPXMuQ2cuaW5kZXhPZih0KSxzPXMuT2cpOihvPWUuaW5kZXhPZihyKSxzPWkpLDA8PW8/c1tvXTpufXZhciBlPVtdLGk9W107cmV0dXJuIE9iamVjdC5jcmVhdGUoWS5wcm90b3R5cGUse3hnOnt2YWx1ZTpVKHQpfSxCZzp7dmFsdWU6VShmdW5jdGlvbihpKXt2YXIgcj1HKGkpO3JldHVybiAwPD0ocj9yLkNnLmluZGV4T2YodCk6ZS5pbmRleE9mKGkpKX0pfSxGZzp7dmFsdWU6VShmdW5jdGlvbihyLG4pe3ZhciBvLHM9RyhyKTtzPyhvPXMuQ2cuaW5kZXhPZih0KSwwPD1vP3MuT2dbb109bjoocy5DZy5wdXNoKHQpLHMuT2cucHVzaChuKSkpOihvPWUuaW5kZXhPZihyKSwwPD1vP2lbb109bjooZS5wdXNoKHIpLGkucHVzaChuKSkpfSl9LF9nOnt2YWx1ZTpVKGZ1bmN0aW9uKHIpe3ZhciBuPUcocik7cmV0dXJuIG4/KHI9bi5DZy5pbmRleE9mKHQpLDA8PXImJihuLkNnLnNwbGljZShyLDEpLG4uT2cuc3BsaWNlKHIsMSkpKToocj1lLmluZGV4T2YociksMDw9ciYmKGUuc3BsaWNlKHIsMSksaS5zcGxpY2UociwxKSkpLCEwfSl9fSl9O1kucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoT2JqZWN0LnByb3RvdHlwZSx7Z2V0Ont2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnhnKHQsZSl9LFBnOiEwLE5nOiEwfSxoYXM6e3ZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLkJnKHQpfSxQZzohMCxOZzohMH0sc2V0Ont2YWx1ZTpmdW5jdGlvbih0LGUpe3RoaXMuRmcodCxlKX0sUGc6ITAsTmc6ITB9LFwiZGVsZXRlXCI6e3ZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9nKHQpfSxQZzohMCxOZzohMH19KSxMPVl9ai5lZz1MLE0uZWcmJihNPU0uZWcpO3ZhciBYPXt9LFo9TSx0dD1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LGV0PW5ldyBaLGl0PW5ldyBaO1guZWc9bixuLnByb3RvdHlwZS5EZz1mdW5jdGlvbih0KXtldC5oYXModGhpcyl8fGV0LnNldCh0aGlzLHt9KTt2YXIgZT1ldC5nZXQodGhpcyk7cmV0dXJuIHR0LmNhbGwoZSx0KXx8KGVbdF09e0hnOltdLExnOltdfSksZVt0XX0sbi5wcm90b3R5cGUuTWc9ZnVuY3Rpb24odCl7aWYoIWV0Lmhhcyh0aGlzKSlyZXR1cm4hMTtpZighdClyZXR1cm4hMDt2YXIgZT1ldC5nZXQodGhpcyk7cmV0dXJuISF0dC5jYWxsKGUsdCl9LG4ucHJvdG90eXBlLmpnPWZ1bmN0aW9uKHQsZSxpKXt0aGlzLm1ha2VPYnNlcnZhYmxlJiYhdGhpcy5pc09ic2VydmFibGUmJnRoaXMubWFrZU9ic2VydmFibGUoKTt2YXIgcj1uLkRnKHRoaXMsdCksaT1pP3IuSGc6ci5MZztuLlVnKHRoaXMsdCksaS5wdXNoKGUpfSxuLnByb3RvdHlwZS5WZz1mdW5jdGlvbih0LGUpe3JldHVybiBuLmpnKHRoaXMsdCxlLCEwKX0sbi5wcm90b3R5cGUuUWc9ZnVuY3Rpb24odCxlLGkpe3ZhciByPW4uRGcodGhpcyx0KSxpPWk/ci5IZzpyLkxnLGU9aS5sYXN0SW5kZXhPZihlKTtpZigtMT09PWUpdGhyb3cgRXJyb3IoXCJDYW4ndCByZW1vdmUgbGlzdGVuZXI6IGRvZXMgbm90IGV4aXN0LlwiKTtpLnNwbGljZShlLDEpLDA9PT1yLkxnLmxlbmd0aCtyLkhnLmxlbmd0aCYmbi5xZyh0aGlzLHQpfSxuLnByb3RvdHlwZS5KZz1mdW5jdGlvbih0LGUpe3JldHVybiBuLlFnKHRoaXMsdCxlLCEwKX0sbi5wcm90b3R5cGUuS2c9ZnVuY3Rpb24odCxlLGkpe3ZhciByPW4uRGcodGhpcyx0KSxyPWk/ci5IZzpyLkxnLGk9KGk/XCJXaWxsXCI6XCJcIikrXCJDaGFuZ2VcIixvPVwiaGFuZGxlUHJvcGVydHlcIitpLHM9U3RyaW5nKHQpLHM9cyYmc1swXS50b1VwcGVyQ2FzZSgpK3Muc2xpY2UoMSksYT1cImhhbmRsZVwiK3MraTtyLmZvckVhY2goZnVuY3Rpb24oaSl7dmFyIHI9aSxpPWlbYV18fGlbb118fGk7aS5jYWxsJiZpLmNhbGwocixlLHQsdGhpcyl9LHRoaXMpfSxuLnByb3RvdHlwZS5HZz1mdW5jdGlvbih0LGUpe3JldHVybiBuLktnKHRoaXMsdCxlLCEwKX0sbi5wcm90b3R5cGUuVWc9ZnVuY3Rpb24odCl7aWYoIUFycmF5LmlzQXJyYXkodGhpcykpe2l0Lmhhcyh0aGlzKXx8KGU9e30saXQuc2V0KHRoaXMsZSkpO3ZhciBlPWl0LmdldCh0aGlzKTtpZighdHQuY2FsbChlLHQpKXt2YXIgaSxyPXRoaXM7T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihyLHQpO2Rve2lmKGk9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihyLHQpKWJyZWFrO3I9T2JqZWN0LmdldFByb3RvdHlwZU9mKHIpfXdoaWxlKHIpO2lmKGk9aXx8e3ZhbHVlOnZvaWQgMCxBZzohMCxQZzohMCxOZzohMH0sIWkuTmcpdGhyb3cgRXJyb3IoXCJDYW4ndCBvYnNlcnZlIG5vbi1jb25maWd1cmFibGUgcHJvcGVydGllc1wiKTtlW3RdPWksKGkuUGd8fGkuc2V0KSYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsdCxcInZhbHVlXCJpbiBpP3tnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaS52YWx1ZX0sc2V0OmZ1bmN0aW9uKGUpe3JldHVybiBlPT09aS52YWx1ZT9lOihuLkdnKHRoaXMsdCxpLnZhbHVlKSxpLnZhbHVlPWUsbi5LZyh0aGlzLHQsZSksZSl9LEFnOmkuQWcsTmc6ITB9OntnZXQ6ZnVuY3Rpb24oKXtpZihpLmdldClyZXR1cm4gaS5nZXQuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxzZXQ6ZnVuY3Rpb24oZSl7dmFyIHI7cmV0dXJuIGkuZ2V0JiYocj1pLmdldC5hcHBseSh0aGlzLGFyZ3VtZW50cykpLGU9PT1yP2U6KG4uR2codGhpcyx0LHIpLGkuc2V0JiZpLnNldC5hcHBseSh0aGlzLGFyZ3VtZW50cyksaS5nZXQmJihlPWkuZ2V0LmFwcGx5KHRoaXMsYXJndW1lbnRzKSksbi5LZyh0aGlzLHQsZSksZSl9LEFnOmkuQWcsTmc6ITB9KX19fSxuLnByb3RvdHlwZS5xZz1mdW5jdGlvbih0KXtpZighQXJyYXkuaXNBcnJheSh0aGlzKSl7aWYoIWl0Lmhhcyh0aGlzKSl0aHJvdyBFcnJvcihcIkNhbid0IHVuaW5zdGFsbCBvYnNlcnZlciBvbiBwcm9wZXJ0eVwiKTt2YXIgZT1pdC5nZXQodGhpcyk7aWYoIWVbdF0pdGhyb3cgRXJyb3IoXCJDYW4ndCB1bmluc3RhbGwgb2JzZXJ2ZXIgb24gcHJvcGVydHlcIik7dmFyIGk9ZVt0XTtkZWxldGUgZVt0XSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyx0LGkpfX0sbi5EZz1mdW5jdGlvbih0LGUpe3JldHVybiB0LkRnP3QuRGcoZSk6bi5wcm90b3R5cGUuRGcuY2FsbCh0LGUpfSxuLk1nPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuTWc/dC5NZyhlKTpuLnByb3RvdHlwZS5NZy5jYWxsKHQsZSl9LG4uamc9ZnVuY3Rpb24odCxlLGkscil7cmV0dXJuIHQuamc/dC5qZyhlLGkscik6bi5wcm90b3R5cGUuamcuY2FsbCh0LGUsaSxyKX0sbi5RZz1mdW5jdGlvbih0LGUsaSxyKXtyZXR1cm4gdC5RZz90LlFnKGUsaSxyKTpuLnByb3RvdHlwZS5RZy5jYWxsKHQsZSxpLHIpfSxuLktnPWZ1bmN0aW9uKHQsZSxpLHIpe3JldHVybiB0LktnP3QuS2coZSxpLHIpOm4ucHJvdG90eXBlLktnLmNhbGwodCxlLGkscil9LG4uVmc9ZnVuY3Rpb24odCxlLGkpe3JldHVybiBuLmpnKHQsZSxpLCEwKX0sbi5KZz1mdW5jdGlvbih0LGUsaSl7cmV0dXJuIG4uUWcodCxlLGksITApfSxuLkdnPWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gbi5LZyh0LGUsaSwhMCl9LG4uVWc9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5VZz90LlVnKGUpOm4ucHJvdG90eXBlLlVnLmNhbGwodCxlKX0sbi5xZz1mdW5jdGlvbih0LGUpe3JldHVybiB0LnFnP3QucWcoZSk6bi5wcm90b3R5cGUucWcuY2FsbCh0LGUpfSxYLmVnJiYoWD1YLmVnKTt2YXIgcnQ9e30sbnQ9bmV3IE07cnQuZWc9byxvLnByb3RvdHlwZS56Zz1mdW5jdGlvbigpe3JldHVybiBudC5oYXModGhpcyl8fG50LnNldCh0aGlzLHtzdDohMSxMZzpbXSxIZzpbXX0pLG50LmdldCh0aGlzKX0sby5wcm90b3R5cGUuV2c9ZnVuY3Rpb24odCxlKXshdGhpcy5pc09ic2VydmFibGUmJnRoaXMubWFrZU9ic2VydmFibGUmJnRoaXMubWFrZU9ic2VydmFibGUoKTt2YXIgaT10aGlzLnpnKCk7KGU/aS5IZzppLkxnKS5wdXNoKHQpLHRoaXMuJGc9ISEoaS5IZy5sZW5ndGgraS5MZy5sZW5ndGgpfSxvLnByb3RvdHlwZS5ZZz1mdW5jdGlvbih0LGUpe3ZhciBpLHI9dGhpcy56ZygpO2k9ZT9yLkhnOnIuTGc7dmFyIG49aS5sYXN0SW5kZXhPZih0KTtpZigtMT09PW4pdGhyb3cgRXJyb3IoXCJDYW4ndCByZW1vdmUgbGlzdGVuZXI6IGRvZXMgbm90IGV4aXN0LlwiKTtpLnNwbGljZShuLDEpLHRoaXMuJGc9ISEoci5IZy5sZW5ndGgrci5MZy5sZW5ndGgpfSxvLnByb3RvdHlwZS5YZz1mdW5jdGlvbih0LGUsaSxyKXt2YXIgbj10aGlzLnpnKCk7aWYoIW4uc3Qpe24uc3Q9ITA7dmFyIG87bz1yP24uSGc6bi5MZzt0cnl7by5mb3JFYWNoKGZ1bmN0aW9uKG4pe24ueWQ/bi55ZCh7Wmc6cj9cImJlZm9yZVwiOlwiYWZ0ZXJcIixjdXJyZW50VGFyZ2V0OnRoaXMsdGFyZ2V0OnRoaXMsdHY6dCxldjplLGluZGV4Oml9KToobj1yP24uaGFuZGxlUmFuZ2VXaWxsQ2hhbmdlfHxuOm4uaGFuZGxlUmFuZ2VDaGFuZ2V8fG4sbi5jYWxsJiZuLmNhbGwodGhpcyx0LGUsaSxyKSl9LHRoaXMpfWZpbmFsbHl7bi5zdD0hMX19fSxvLnByb3RvdHlwZS5pdj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5XZyh0LCEwKX0sby5wcm90b3R5cGUucnY9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuWWcodCwhMCl9LG8ucHJvdG90eXBlLm52PWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gdGhpcy5YZyh0LGUsaSwhMCl9LHJ0LmVnJiYocnQ9cnQuZWcpO3ZhciBvdD17fSxzdD1NO290LmVnPU9iamVjdCxPYmplY3QuZW1wdHk9T2JqZWN0LmZyZWV6ZShPYmplY3QuY3JlYXRlKG51bGwpKSxPYmplY3Qub3Y9ZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdCh0KT09PXR9LE9iamVjdC5zdj1mdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LnZnKHQsXCJ2YWx1ZU9mXCIpJiYodD10LnZhbHVlT2YoKSksdH07dmFyIGF0PW5ldyBzdDtPYmplY3QuaGFzaD1mdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LnZnKHQsXCJoYXNoXCIpP1wiXCIrdC5oYXNoKCk6T2JqZWN0KHQpPT09dD8oYXQuaGFzKHQpfHxhdC5zZXQodCxNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zbGljZSgyKSksYXQuZ2V0KHQpKTpcIlwiK3R9O3ZhciBjdD1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O09iamVjdC5hdj1mdW5jdGlvbih0LGUpe3JldHVybiBjdC5jYWxsKHQsZSl9LE9iamVjdC52Zz1mdW5jdGlvbih0LGUpe3JldHVybiBudWxsIT10JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0W2VdJiYhY3QuY2FsbCh0LGUpfSxPYmplY3QuaGFzPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIHQpdGhyb3cgRXJyb3IoXCJPYmplY3QuaGFzIGNhbid0IGFjY2VwdCBub24tb2JqZWN0OiBcIit0eXBlb2YgdCk7aWYoT2JqZWN0LnZnKHQsXCJoYXNcIikpcmV0dXJuIHQuaGFzKGUpO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlKXJldHVybiBlIGluIHQmJnRbZV0hPT1PYmplY3QucHJvdG90eXBlW2VdO3Rocm93IEVycm9yKFwiS2V5IG11c3QgYmUgYSBzdHJpbmcgZm9yIE9iamVjdC5oYXMgb24gcGxhaW4gb2JqZWN0c1wiKX0sT2JqZWN0LmdldD1mdW5jdGlvbih0LGUsaSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIHQpdGhyb3cgRXJyb3IoXCJPYmplY3QuZ2V0IGNhbid0IGFjY2VwdCBub24tb2JqZWN0OiBcIit0eXBlb2YgdCk7cmV0dXJuIE9iamVjdC52Zyh0LFwiZ2V0XCIpP3QuZ2V0KGUsaSk6T2JqZWN0Lmhhcyh0LGUpP3RbZV06aX0sT2JqZWN0LnNldD1mdW5jdGlvbih0LGUsaSl7T2JqZWN0LnZnKHQsXCJzZXRcIik/dC5zZXQoZSxpKTp0W2VdPWl9LE9iamVjdC5hZGRFYWNoPWZ1bmN0aW9uKHQsZSl7T2JqZWN0LnZnKGUsXCJmb3JFYWNoXCIpP1wiZnVuY3Rpb25cIj09dHlwZW9mIGUua2V5cz9lLmZvckVhY2goZnVuY3Rpb24oZSxpKXt0W2ldPWV9KTplLmZvckVhY2goZnVuY3Rpb24oZSl7dFtlWzBdXT1lWzFdfSk6T2JqZWN0LmtleXMoZSkuZm9yRWFjaChmdW5jdGlvbihpKXt0W2ldPWVbaV19KX0sT2JqZWN0LmZvckVhY2g9ZnVuY3Rpb24odCxlLGkpe09iamVjdC5rZXlzKHQpLmZvckVhY2goZnVuY3Rpb24ocil7ZS5jYWxsKGksdFtyXSxyLHQpfSl9LE9iamVjdC5tYXA9ZnVuY3Rpb24odCxlLGkpe3JldHVybiBPYmplY3Qua2V5cyh0KS5tYXAoZnVuY3Rpb24ocil7cmV0dXJuIGUuY2FsbChpLHRbcl0scix0KX0pfSxPYmplY3QudmFsdWVzPWZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QubWFwKHQsRnVuY3Rpb24uaWRlbnRpdHkpfSxPYmplY3QuaXM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD09PWU/MCE9PXR8fDEvdD09PTEvZTp0IT09dCYmZSE9PWV9LE9iamVjdC5vbD1mdW5jdGlvbih0LGUsaSl7aWYoaT1pfHxPYmplY3Qub2wsdD1PYmplY3Quc3YodCksZT1PYmplY3Quc3YoZSksdD09PWUpcmV0dXJuIDAhPT10fHwxL3Q9PT0xL2U7aWYoT2JqZWN0LnZnKHQsXCJlcXVhbHNcIikpcmV0dXJuIHQub2woZSxpKTtpZihPYmplY3QudmcoZSxcImVxdWFsc1wiKSlyZXR1cm4gZS5vbCh0LGkpO2lmKFwib2JqZWN0XCI9PXR5cGVvZiB0JiZcIm9iamVjdFwiPT10eXBlb2YgZSl7dmFyIHI9T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpLG49T2JqZWN0LmdldFByb3RvdHlwZU9mKGUpO2lmKHI9PT1uJiYocj09PU9iamVjdC5wcm90b3R5cGV8fG51bGw9PT1yKSl7Zm9yKHZhciBvIGluIHQpaWYoIWkodFtvXSxlW29dKSlyZXR1cm4hMTtmb3IobyBpbiBlKWlmKCFpKHRbb10sZVtvXSkpcmV0dXJuITE7cmV0dXJuITB9fXJldHVybiB0IT09dCYmZSE9PWV9LE9iamVjdC5ZZj1mdW5jdGlvbih0LGUpe3ZhciB0PU9iamVjdC5zdih0KSxlPU9iamVjdC5zdihlKSxpPXR5cGVvZiB0O3JldHVybiB0PT09ZXx8aSE9PXR5cGVvZiBlPzA6XCJudW1iZXJcIj09PWk/dC1lOlwic3RyaW5nXCI9PT1pP3Q8ZT8tMToxOk9iamVjdC52Zyh0LFwiY29tcGFyZVwiKT90LllmKGUpOk9iamVjdC52ZyhlLFwiY29tcGFyZVwiKT8tZS5ZZih0KTowfSxPYmplY3QuY2xvbmU9ZnVuY3Rpb24odCxlLGkpe2lmKHQ9T2JqZWN0LnN2KHQpLGk9aXx8bmV3IHN0LHZvaWQgMD09PWUpZT0xLzA7ZWxzZSBpZigwPT09ZSlyZXR1cm4gdDtpZihPYmplY3Qub3YodCkpe2lmKCFpLmhhcyh0KSlpZihPYmplY3QudmcodCxcImNsb25lXCIpKWkuc2V0KHQsdC5jbG9uZShlLGkpKTtlbHNle3ZhciByPU9iamVjdC5nZXRQcm90b3R5cGVPZih0KTtpZihudWxsIT09ciYmciE9PU9iamVjdC5wcm90b3R5cGUpdGhyb3cgRXJyb3IoXCJDYW4ndCBjbG9uZSBcIit0KTtyPU9iamVjdC5jcmVhdGUociksaS5zZXQodCxyKTtmb3IodmFyIG4gaW4gdClyW25dPU9iamVjdC5jbG9uZSh0W25dLGUtMSxpKX1yZXR1cm4gaS5nZXQodCl9cmV0dXJuIHR9LE9iamVjdC5jbGVhcj1mdW5jdGlvbih0KXtpZihPYmplY3QudmcodCxcImNsZWFyXCIpKXQuY2xlYXIoKTtlbHNlIGZvcih2YXIgZT1PYmplY3Qua2V5cyh0KSxpPWUubGVuZ3RoO2k7KWktLSxkZWxldGUgdFtlW2ldXTtyZXR1cm4gdH0sb3QuZWcmJihvdD1vdC5lZyk7dmFyIGh0PXt9LHB0PW90O2h0LmVnPXMscy5wcm90b3R5cGUub2w9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZT1lfHx0aGlzLk1mfHxwdC5vbCx0aGlzPT09dHx8ISF0JiYodGhpcy5sZW5ndGg9PT10Lmxlbmd0aCYmdGhpcy5jZyh0KS5ldmVyeShmdW5jdGlvbih0KXtyZXR1cm4gZSh0WzBdLHRbMV0pfSkpfSxzLnByb3RvdHlwZS5ZZj1mdW5jdGlvbih0LGUpe2lmKGU9ZXx8dGhpcy4kZnx8cHQuWWYsdGhpcz09PXQpcmV0dXJuIDA7aWYoIXQpcmV0dXJuIDE7dmFyIGk9TWF0aC5taW4odGhpcy5sZW5ndGgsdC5sZW5ndGgpLHI9dGhpcy5jZyh0KS5yZWR1Y2UoZnVuY3Rpb24odCxyLG4pe3JldHVybiAwPT09dD9uPj1pP3Q6ZShyWzBdLHJbMV0pOnR9LDApO3JldHVybiAwPT09cj90aGlzLmxlbmd0aC10Lmxlbmd0aDpyfSxodC5lZyYmKGh0PWh0LmVnKTt2YXIgdXQ9e307dXQuZWc9YTt2YXIgbHQ9b3Q7aWYobHQuYWRkRWFjaChhLnByb3RvdHlwZSx4LnByb3RvdHlwZSksYS5wcm90b3R5cGUubmc9ZnVuY3Rpb24odCl7dmFyIGU9W107cmV0dXJuIFJlZHVjaWJsZS5hZGRFYWNoLmNhbGwoZSx0KSxlfSxhLnByb3RvdHlwZS5jdj1mdW5jdGlvbih0LGUpe3ZhciBpPWEodGhpcykscj0wO2lmKFwiW29iamVjdCBGdW5jdGlvbl1cIiE9bHQucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCkpdGhyb3cgbmV3IFR5cGVFcnJvcjtyZXR1cm4gbmV3IGkuY29uc3RydWN0b3IoZnVuY3Rpb24oKXtyZXR1cm4gdC5jYWxsKGUsaS5uZXh0KCkscisrLGkpfSl9LGEucHJvdG90eXBlLmh2PWZ1bmN0aW9uKHQsZSl7dmFyIGk9YSh0aGlzKSxyPTA7aWYoXCJbb2JqZWN0IEZ1bmN0aW9uXVwiIT1sdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KSl0aHJvdyBuZXcgVHlwZUVycm9yO3JldHVybiBuZXcgaS5jb25zdHJ1Y3RvcihmdW5jdGlvbigpe2Zvcih2YXIgbjs7KWlmKG49aS5uZXh0KCksdC5jYWxsKGUsbixyKyssaSkpcmV0dXJuIG59KX0sYS5wcm90b3R5cGUucmVkdWNlPWZ1bmN0aW9uKHQpe3ZhciBlLGk9YSh0aGlzKSxyPWFyZ3VtZW50c1sxXSxuPWFyZ3VtZW50c1syXSxvPTA7aWYoXCJbb2JqZWN0IEZ1bmN0aW9uXVwiIT1sdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KSl0aHJvdyBuZXcgVHlwZUVycm9yO3RyeXtlPWkubmV4dCgpLHI9MTxhcmd1bWVudHMubGVuZ3RoP3QuY2FsbChuLHIsZSxvLGkpOmUsbysrfWNhdGNoKHMpe2lmKGlzU3RvcEl0ZXJhdGlvbihzKSl7aWYoMTxhcmd1bWVudHMubGVuZ3RoKXJldHVybiBhcmd1bWVudHNbMV07dGhyb3cgVHlwZUVycm9yKFwiY2Fubm90IHJlZHVjZSBhIHZhbHVlIGZyb20gYW4gZW1wdHkgaXRlcmF0b3Igd2l0aCBubyBpbml0aWFsIHZhbHVlXCIpfXRocm93IHN9dHJ5e2Zvcig7OyllPWkubmV4dCgpLHI9dC5jYWxsKG4scixlLG8saSksbysrfWNhdGNoKGMpe2lmKGlzU3RvcEl0ZXJhdGlvbihjKSlyZXR1cm4gcjt0aHJvdyBjfX0sYS5wcm90b3R5cGUuZXZlcnk9ZnVuY3Rpb24odCl7dmFyIGU9YSh0aGlzKSxpPSEwO2lmKFwiW29iamVjdCBGdW5jdGlvbl1cIiE9bHQucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCkpdGhyb3cgbmV3IFR5cGVFcnJvcjtyZXR1cm4gZS5jdi5hcHBseShlLGFyZ3VtZW50cykuZm9yRWFjaChmdW5jdGlvbih0KXtpZighdCl0aHJvdyBpPSExLFN0b3BJdGVyYXRpb259KSxpfSxhLnByb3RvdHlwZS5zb21lPWZ1bmN0aW9uKHQpe3ZhciBlPWEodGhpcyksaT0hMTtpZihcIltvYmplY3QgRnVuY3Rpb25dXCIhPWx0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpKXRocm93IG5ldyBUeXBlRXJyb3I7cmV0dXJuIGUuY3YuYXBwbHkoZSxhcmd1bWVudHMpLmZvckVhY2goZnVuY3Rpb24odCl7aWYodCl0aHJvdyBpPSEwLFN0b3BJdGVyYXRpb259KSxpfSxhLnByb3RvdHlwZS5jb25jYXQ9ZnVuY3Rpb24oKXtyZXR1cm4gYS5jb25jYXQoQXJyYXkucHJvdG90eXBlLmNvbmNhdC5hcHBseSh0aGlzLGFyZ3VtZW50cykpfSxhLnByb3RvdHlwZS5wdj1mdW5jdGlvbih0LGUpe3ZhciBpLHI9YSh0aGlzKSxuPSExO2lmKFwiW29iamVjdCBGdW5jdGlvbl1cIiE9bHQucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCkpdGhyb3cgbmV3IFR5cGVFcnJvcjtyZXR1cm4gci5mb3JFYWNoKGZ1bmN0aW9uKG8scyl7aWYoIXQuY2FsbChlLG8scyxyKSl0aHJvdyBuPSEwLGk9byxTdG9wSXRlcmF0aW9ufSksbj9yLmNvbnN0cnVjdG9yKFtpXSkuY29uY2F0KHIpOnIuY29uc3RydWN0b3IoW10pfSxhLnByb3RvdHlwZS51dj1mdW5jdGlvbih0LGUpe3ZhciBpPWEodGhpcyk7aWYoXCJbb2JqZWN0IEZ1bmN0aW9uXVwiIT1sdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KSl0aHJvdyBuZXcgVHlwZUVycm9yO3JldHVybiBpLmN2KGZ1bmN0aW9uKHIsbil7aWYoIXQuY2FsbChlLHIsbixpKSl0aHJvdyBTdG9wSXRlcmF0aW9uO3JldHVybiByfSl9LGEucHJvdG90eXBlLmh2PWZ1bmN0aW9uKHQsZSl7dmFyIGk9YSh0aGlzKSxyPTA7aWYoXCJbb2JqZWN0IEZ1bmN0aW9uXVwiIT1sdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KSl0aHJvdyBuZXcgVHlwZUVycm9yO3JldHVybiBuZXcgaS5jb25zdHJ1Y3RvcihmdW5jdGlvbigpe2Zvcih2YXIgbjs7KWlmKG49aS5uZXh0KCksdC5jYWxsKGUsbixyKyssaSkpcmV0dXJuIG59KX0sYS5wcm90b3R5cGUuY2c9ZnVuY3Rpb24oKXtyZXR1cm4gYS5sdihBcnJheS5wcm90b3R5cGUuY29uY2F0LmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9LGEucHJvdG90eXBlLmVudW1lcmF0ZT1mdW5jdGlvbih0KXtyZXR1cm4gYS5jb3VudCh0KS5jZyh0aGlzKX0sYS5EZj1mdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4gZT0wLG5ldyBhKGZ1bmN0aW9uKCl7aWYoXCJvYmplY3RcIj09dHlwZW9mIHQpZm9yKDshKGUgaW4gdCk7KXtpZihlPj10Lmxlbmd0aCl0aHJvdyBTdG9wSXRlcmF0aW9uO2UrPTF9ZWxzZSBpZihlPj10Lmxlbmd0aCl0aHJvdyBTdG9wSXRlcmF0aW9uO3ZhciBpPXRbZV07cmV0dXJuIGUrPTEsaX0pfSxhLmR2PWZ1bmN0aW9uKHQsZSl7Mj5hcmd1bWVudHMubGVuZ3RoJiYoZT0xLzApO3ZhciBpPWZ1bmN0aW9uKCl7dGhyb3cgU3RvcEl0ZXJhdGlvbn07cmV0dXJuIG5ldyBhKGZ1bmN0aW9uKCl7dmFyIHI7dHJ5e3JldHVybiBpKCl9Y2F0Y2gobil7aWYoaXNTdG9wSXRlcmF0aW9uKG4pKXtpZigwPj1lKXRocm93IG47cmV0dXJuIGUtLSxyPWEuRGYodCksKGk9ci5uZXh0LmJpbmQocikpKCl9dGhyb3cgbn19KX0sYS5jb25jYXQ9ZnVuY3Rpb24odCl7dmFyIHQ9YSh0KSxlPWZ1bmN0aW9uKCl7dGhyb3cgU3RvcEl0ZXJhdGlvbn07cmV0dXJuIG5ldyBhKGZ1bmN0aW9uKCl7dmFyIGk7dHJ5e3JldHVybiBlKCl9Y2F0Y2gocil7aWYoaXNTdG9wSXRlcmF0aW9uKHIpKXJldHVybiBpPWEodC5uZXh0KCkpLChlPWkubmV4dC5iaW5kKGkpKSgpO3Rocm93IHJ9fSl9LGEubHY9ZnVuY3Rpb24odCl7cmV0dXJuIHQ9YSh0KS5tYXAoYSksbmV3IGEoMT50Lmxlbmd0aD9bXTpmdW5jdGlvbigpe3ZhciBlLGk9dC5tYXAoZnVuY3Rpb24odCl7dHJ5e3JldHVybiB0Lm5leHQoKX1jYXRjaChpKXtpZighaXNTdG9wSXRlcmF0aW9uKGkpKXRocm93IGk7ZT0hMH19KTtpZihlKXRocm93IFN0b3BJdGVyYXRpb247cmV0dXJuIGl9KX0sYS5jZz1mdW5jdGlvbigpe3JldHVybiBhLmx2KEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykpfSxhLmNoYWluPWZ1bmN0aW9uKCl7cmV0dXJuIGEuY29uY2F0KEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykpfSxhLnJhbmdlPWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gMz5hcmd1bWVudHMubGVuZ3RoJiYoaT0xKSwyPmFyZ3VtZW50cy5sZW5ndGgmJihlPXQsdD0wKSx0PXR8fDAsbmV3IGEoZnVuY3Rpb24oKXtpZih0Pj1lKXRocm93IFN0b3BJdGVyYXRpb247aWYoaXNOYU4odCkpdGhyb3dcIlwiO3ZhciByPXQ7cmV0dXJuIHQrPWkscn0pfSxhLmNvdW50PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGEucmFuZ2UodCwxLzAsZXx8MSl9LGEucmVwZWF0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIDI+YXJndW1lbnRzLmxlbmd0aCYmKGU9MS8wKSxuZXcgYS5yYW5nZSgoK2UpKS5jdihmdW5jdGlvbigpe3JldHVybiB0fSl9LFwidW5kZWZpbmVkXCI9PXR5cGVvZiBpc1N0b3BJdGVyYXRpb24mJih0LmZ2PWZ1bmN0aW9uKHQpe3JldHVyblwiW29iamVjdCBTdG9wSXRlcmF0aW9uXVwiPT09bHQucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCl9KSxcInVuZGVmaW5lZFwiPT10eXBlb2YgU3RvcEl0ZXJhdGlvbil7dC5TdG9wSXRlcmF0aW9uPXt9O3ZhciBkdD1sdC5wcm90b3R5cGUudG9TdHJpbmc7bHQucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXM9PT10LlN0b3BJdGVyYXRpb258fHRoaXMgaW5zdGFuY2VvZiB0Lmd2P1wiW29iamVjdCBTdG9wSXRlcmF0aW9uXVwiOmR0LmNhbGwodGhpcyxhcmd1bWVudHMpfX1cInVuZGVmaW5lZFwiPT10eXBlb2YgUmV0dXJuVmFsdWUmJih0Lmd2PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzIGluc3RhbmNlb2YgdC5ndj92b2lkKHRoaXMudmFsdWU9ZSk6bmV3IHQuZ3YoZSl9KSx1dC5lZyYmKHV0PXV0LmVnKTt2YXIgZnQ9e30sZ3Q9eCx2dD1odCx5dD1NO2Z0LmVnPUFycmF5LEFycmF5LmVtcHR5PVtdLE9iamVjdC5mcmVlemUmJk9iamVjdC5mcmVlemUoQXJyYXkuZW1wdHkpLEFycmF5LmZyb209ZnVuY3Rpb24odCl7dmFyIGU9W107cmV0dXJuIGUuYWRkRWFjaCh0KSxlfSxBcnJheS5wcm90b3R5cGUuYWRkRWFjaD1ndC5wcm90b3R5cGUuYWRkRWFjaCxBcnJheS5wcm90b3R5cGUuaWc9Z3QucHJvdG90eXBlLmlnLEFycmF5LnByb3RvdHlwZS50b0FycmF5PWd0LnByb3RvdHlwZS50b0FycmF5LEFycmF5LnByb3RvdHlwZS5yZz1ndC5wcm90b3R5cGUucmcsQXJyYXkucHJvdG90eXBlLmFsbD1ndC5wcm90b3R5cGUuYWxsLEFycmF5LnByb3RvdHlwZS5pZT1ndC5wcm90b3R5cGUuaWUsQXJyYXkucHJvdG90eXBlLm1pbj1ndC5wcm90b3R5cGUubWluLEFycmF5LnByb3RvdHlwZS5tYXg9Z3QucHJvdG90eXBlLm1heCxBcnJheS5wcm90b3R5cGUub2c9Z3QucHJvdG90eXBlLm9nLEFycmF5LnByb3RvdHlwZS5zZz1ndC5wcm90b3R5cGUuc2csQXJyYXkucHJvdG90eXBlLm9ubHk9Z3QucHJvdG90eXBlLm9ubHksQXJyYXkucHJvdG90eXBlLmFnPWd0LnByb3RvdHlwZS5hZyxBcnJheS5wcm90b3R5cGUuY2c9Z3QucHJvdG90eXBlLmNnLEFycmF5LnByb3RvdHlwZS5oZz1ndC5wcm90b3R5cGUuaGcsQXJyYXkucHJvdG90eXBlLnJldmVyc2VkPWd0LnByb3RvdHlwZS5yZXZlcnNlZCxBcnJheS5wcm90b3R5cGUubmc9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IHRoaXMuY29uc3RydWN0b3I7cmV0dXJuIGUuYWRkRWFjaCh0KSxlfSxBcnJheS5wcm90b3R5cGUuaGFzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuLTEhPT10aGlzLmZpbmQodCxlKX0sQXJyYXkucHJvdG90eXBlLmdldD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpc1t0XX0sQXJyYXkucHJvdG90eXBlLnNldD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnNwbGljZSh0LDEsZSksITB9LEFycmF5LnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMucHVzaCh0KSwhMH0sQXJyYXkucHJvdG90eXBlW1wiZGVsZXRlXCJdPWZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5maW5kKHQsZSk7cmV0dXJuLTEhPT1pJiYodGhpcy5zcGxpY2UoaSwxKSwhMCl9LEFycmF5LnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBlPWV8fHRoaXMuTWZ8fE9iamVjdC5vbCxpPTA7aTx0aGlzLmxlbmd0aDtpKyspaWYoaSBpbiB0aGlzJiZlKHRoaXNbaV0sdCkpcmV0dXJuIGk7cmV0dXJuLTF9LEFycmF5LnByb3RvdHlwZS52dj1mdW5jdGlvbih0LGUpe3ZhciBlPWV8fHRoaXMuTWZ8fE9iamVjdC5vbCxpPXRoaXMubGVuZ3RoO2RvIGlmKGktLSxpIGluIHRoaXMmJmUodGhpc1tpXSx0KSlyZXR1cm4gaTt3aGlsZSgwPGkpO3JldHVybi0xfSxBcnJheS5wcm90b3R5cGUueXY9ZnVuY3Rpb24odCxlLGkpe3ZhciByPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywwLDIpO3JldHVybiBpJiZyLnB1c2guYXBwbHkocixpKSx0aGlzLnNwbGljZS5hcHBseSh0aGlzLHIpfSxBcnJheS5wcm90b3R5cGUudWc9ZnVuY3Rpb24oKXtpZigwPT09dGhpcy5sZW5ndGgpdGhyb3cgRXJyb3IoXCJDYW4ndCBnZXQgb25lIGVsZW1lbnQgZnJvbSBlbXB0eSBhcnJheS5cIik7Zm9yKHZhciB0IGluIHRoaXMpaWYoT2JqZWN0LmF2KHRoaXMsdCkpcmV0dXJuIHRoaXNbdF19LEFycmF5LnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxlbmd0aD0wLHRoaXN9LEFycmF5LnByb3RvdHlwZS5ZZj1mdW5jdGlvbih0LGUpe3ZhciBpLHIsbixvLGU9ZXx8T2JqZWN0LllmO2lmKHRoaXM9PT10KXJldHVybiAwO2lmKCF0fHwhQXJyYXkuaXNBcnJheSh0KSlyZXR1cm4gdnQucHJvdG90eXBlLllmLmNhbGwodGhpcyx0LGUpO2ZvcihyPU1hdGgubWluKHRoaXMubGVuZ3RoLHQubGVuZ3RoKSxpPTA7aTxyO2krKylpZihpIGluIHRoaXMpe2lmKCEoaSBpbiB0KSlyZXR1cm4tMTtpZihuPXRoaXNbaV0sbz10W2ldLG49ZShuLG8pKXJldHVybiBufWVsc2UgaWYoaSBpbiB0KXJldHVybiAxO3JldHVybiB0aGlzLmxlbmd0aC10Lmxlbmd0aH0sQXJyYXkucHJvdG90eXBlLm9sPWZ1bmN0aW9uKHQpe3ZhciBlLGkscj1yfHxPYmplY3Qub2wsbj0wLG89dGhpcy5sZW5ndGg7aWYodGhpcz09PXQpcmV0dXJuITA7aWYoIXR8fCFBcnJheS5pc0FycmF5KHQpKXJldHVybiB2dC5wcm90b3R5cGUub2wuY2FsbCh0aGlzLHQpO2lmKG8hPT10Lmxlbmd0aClyZXR1cm4hMTtmb3IoO248bzsrK24paWYobiBpbiB0aGlzKXtpZihlPXRoaXNbbl0saT10W25dLGUhPT1pJiZlJiZpJiYhcihlLGkpKXJldHVybiExfWVsc2UgaWYobiBpbiB0KXJldHVybiExO3JldHVybiEwfSxBcnJheS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24odCxlKXtpZih2b2lkIDA9PT10KXQ9MS8wO2Vsc2UgaWYoMD09PXQpcmV0dXJuIHRoaXM7dmFyIGksZT1lfHxuZXcgeXQscj1bXTtmb3IoaSBpbiB0aGlzKU9iamVjdC5hdih0aGlzLGkpJiYocltpXT1PYmplY3QuY2xvbmUodGhpc1tpXSx0LTEsZSkpO3JldHVybiByfSxBcnJheS5wcm90b3R5cGUuRGY9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IGModGhpcyx0LGUpfSxBcnJheS5wcm90b3R5cGUuSXRlcmF0b3I9YyxjLnByb3RvdHlwZS5uZXh0PWZ1bmN0aW9uKCl7aWYodGhpcy5zdGFydD09PShudWxsPT10aGlzLmVuZD90aGlzLkhmLmxlbmd0aDp0aGlzLmVuZCkpdGhyb3cgU3RvcEl0ZXJhdGlvbjtyZXR1cm4gdGhpcy5IZlt0aGlzLnN0YXJ0KytdfSxmdC5lZyYmKGZ0PWZ0LmVnKTt2YXIgbXQ9e307bXQuZWc9aDt2YXIgd3Q9aHQsVHQ9WDtPYmplY3QuYWRkRWFjaChoLnByb3RvdHlwZSx4LnByb3RvdHlwZSksT2JqZWN0LmFkZEVhY2goaC5wcm90b3R5cGUsd3QucHJvdG90eXBlKSxPYmplY3QuYWRkRWFjaChoLnByb3RvdHlwZSxUdC5wcm90b3R5cGUpLGgucHJvdG90eXBlLm5nPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0LHRoaXMuTWYsdGhpcy5jb250ZW50KX0saC5wcm90b3R5cGUuZmluZD1mdW5jdGlvbih0LGUpe2Zvcih2YXIgZT1lfHx0aGlzLk1mLGk9dGhpcy5oZWFkLHI9aS5uZXh0O3IhPT1pOyl7aWYoZShyLnZhbHVlLHQpKXJldHVybiByO3I9ci5uZXh0fX0saC5wcm90b3R5cGUudnY9ZnVuY3Rpb24odCxlKXtmb3IodmFyIGU9ZXx8dGhpcy5NZixpPXRoaXMuaGVhZCxyPWkuTGY7ciE9PWk7KXtpZihlKHIudmFsdWUsdCkpcmV0dXJuIHI7cj1yLkxmfX0saC5wcm90b3R5cGUuaGFzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuISF0aGlzLmZpbmQodCxlKX0saC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5maW5kKHQsZSk7cmV0dXJuIGk/aS52YWx1ZTp0aGlzLmNvbnRlbnQoKX0saC5wcm90b3R5cGVbXCJkZWxldGVcIl09ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLnZ2KHQsZSk7cmV0dXJuISFpJiYoaVtcImRlbGV0ZVwiXSgpLHRoaXMubGVuZ3RoLS0sITApfSxoLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3RoaXMuaGVhZC5uZXh0PXRoaXMuaGVhZC5MZj10aGlzLmhlYWQsdGhpcy5sZW5ndGg9MH0saC5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmhlYWQubXYobmV3IHRoaXMuTm9kZSh0KSksdGhpcy5sZW5ndGgrKywhMH0saC5wcm90b3R5cGUucHVzaD1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLmhlYWQsZT0wO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspe3ZhciBpPW5ldyB0aGlzLk5vZGUoYXJndW1lbnRzW2VdKTt0Lm12KGkpLHRoaXMubGVuZ3RoKyt9fSxoLnByb3RvdHlwZS51bnNoaWZ0PWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuaGVhZCxlPTA7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7dmFyIGk9bmV3IHRoaXMuTm9kZShhcmd1bWVudHNbZV0pO3Qud3YoaSksdGhpcy5sZW5ndGgrKyx0PWl9fSxoLnByb3RvdHlwZS5wb3A9ZnVuY3Rpb24oKXt2YXIgdCxlPXRoaXMuaGVhZDtyZXR1cm4gZS5MZiE9PWUmJih0PWUuTGYudmFsdWUsZS5MZltcImRlbGV0ZVwiXSgpLHRoaXMubGVuZ3RoLS0pLHR9LGgucHJvdG90eXBlLnNoaWZ0PWZ1bmN0aW9uKCl7dmFyIHQsZT10aGlzLmhlYWQ7cmV0dXJuIGUuTGYhPT1lJiYodD1lLm5leHQudmFsdWUsZS5uZXh0W1wiZGVsZXRlXCJdKCksdGhpcy5sZW5ndGgtLSksdH0saC5wcm90b3R5cGUuVHY9ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLmhlYWQ7aWYoXCJudW1iZXJcIj09dHlwZW9mIHQpe3ZhciByPXQ7aWYoMDw9cilmb3IodD1pLm5leHQ7ciYmKHItLSx0PXQubmV4dCwhKHQ9PWkpKTspO2Vsc2UgZm9yKHQ9aTswPnImJihyKyssdD10LkxmLCEodD09aSkpOyk7cmV0dXJuIHR9cmV0dXJuIHR8fGV9LGgucHJvdG90eXBlLnNsaWNlPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpPVtdLHI9dGhpcy5oZWFkLHQ9dGhpcy5Udih0LHIubmV4dCksZT10aGlzLlR2KGUscik7dCE9PWUmJnQhPT1yOylpLnB1c2godC52YWx1ZSksdD10Lm5leHQ7cmV0dXJuIGl9LGgucHJvdG90eXBlLnNwbGljZT1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnl2KHQsZSxBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMikpfSxoLnByb3RvdHlwZS55dj1mdW5jdGlvbih0LGUsaSl7dmFyIHI9W10sbj10LHQ9dGhpcy5Udih0LHRoaXMuaGVhZCk7Zm9yKHZvaWQgMD09PWUmJihlPTEvMCk7ZS0tJiYwPD1lJiZ0IT09dGhpcy5oZWFkOylyLnB1c2godC52YWx1ZSksdFtcImRlbGV0ZVwiXSgpLHQ9dC5uZXh0LHRoaXMubGVuZ3RoLS07aWYoaSl7Zm9yKG51bGw9PT1uJiZ0PT09dGhpcy5oZWFkJiYodD10aGlzLmhlYWQubmV4dCksZT0wO2U8aS5sZW5ndGg7ZSsrKW49bmV3IHRoaXMuTm9kZShpW2VdKSx0Lm12KG4pO3RoaXMubGVuZ3RoKz1pLmxlbmd0aH1yZXR1cm4gcn0saC5wcm90b3R5cGUucmV2ZXJzZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuaGVhZDtkb3t2YXIgZT10Lm5leHQ7dC5uZXh0PXQuTGYsdC5MZj1lLHQ9dC5uZXh0fXdoaWxlKHQhPT10aGlzLmhlYWQpO3JldHVybiB0aGlzfSxoLnByb3RvdHlwZS5yZWR1Y2U9ZnVuY3Rpb24odCxlLGkpe2Zvcih2YXIgcj10aGlzLmhlYWQsbj1yLm5leHQ7biE9PXI7KWU9dC5jYWxsKGksZSxuLnZhbHVlLG4sdGhpcyksbj1uLm5leHQ7cmV0dXJuIGV9LGgucHJvdG90eXBlLnJlZHVjZVJpZ2h0PWZ1bmN0aW9uKHQsZSxpKXtmb3IodmFyIHI9dGhpcy5oZWFkLG49ci5MZjtuIT09cjspZT10LmNhbGwoaSxlLG4udmFsdWUsbix0aGlzKSxuPW4uTGY7cmV0dXJuIGV9LGgucHJvdG90eXBlLnVnPWZ1bmN0aW9uKCl7aWYodGhpcy5oZWFkPT09dGhpcy5oZWFkLm5leHQpdGhyb3cgRXJyb3IoXCJDYW4ndCBnZXQgb25lIHZhbHVlIGZyb20gZW1wdHkgbGlzdFwiKTtyZXR1cm4gdGhpcy5oZWFkLm5leHQudmFsdWV9LGgucHJvdG90eXBlLkRmPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBwKHRoaXMuaGVhZCl9LHAucHJvdG90eXBlLm5leHQ9ZnVuY3Rpb24oKXtpZih0aGlzLlVmPT09dGhpcy5oZWFkKXRocm93IFN0b3BJdGVyYXRpb247dmFyIHQ9dGhpcy5VZi52YWx1ZTtyZXR1cm4gdGhpcy5VZj10aGlzLlVmLm5leHQsdH0saC5wcm90b3R5cGUuTm9kZT11LHUucHJvdG90eXBlW1wiZGVsZXRlXCJdPWZ1bmN0aW9uKCl7dGhpcy5MZi5uZXh0PXRoaXMubmV4dCx0aGlzLm5leHQuTGY9dGhpcy5MZn0sdS5wcm90b3R5cGUubXY9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5MZjt0aGlzLkxmPXQsdC5MZj1lLGUubmV4dD10LHQubmV4dD10aGlzfSx1LnByb3RvdHlwZS53dj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLm5leHQ7dGhpcy5uZXh0PXQsdC5uZXh0PWUsZS5MZj10LHQuTGY9dGhpc30sbXQuZWcmJihtdD1tdC5lZyk7dmFyIFN0PXt9LGJ0PW10O1N0LmVnPWwsbC5wcm90b3R5cGUuU3Y9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5idnx8KHRoaXMuYnY9e0hnOm5ldyBidCxMZzpuZXcgYnR9KSx0aGlzLmJ2fSxsLnByb3RvdHlwZS5Fdj1mdW5jdGlvbih0LGUpe3RoaXMubWFrZU9ic2VydmFibGUmJiF0aGlzLmRpc3BhdGNoTWFwQ2hhbmdlcyYmdGhpcy5tYWtlT2JzZXJ2YWJsZSgpO3ZhciBpPXRoaXMuU3YoKTsoZT9pLkhnOmkuTGcpLnB1c2godCksdGhpcy5Jdj0hMH0sbC5wcm90b3R5cGUuUnY9ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLlN2KCksaT0oZT9pLkhnOmkuTGcpLnZ2KHQpO2lmKCFpKXRocm93IEVycm9yKFwiQ2FuJ3QgcmVtb3ZlIGxpc3RlbmVyOiBkb2VzIG5vdCBleGlzdC5cIik7aVtcImRlbGV0ZVwiXSgpfSxsLnByb3RvdHlwZS5rdj1mdW5jdGlvbih0LGUsaSl7dmFyIHI9dGhpcy5TdigpLG49XCJoYW5kbGVNYXBcIisoKGk/XCJXaWxsXCI6XCJcIikrXCJDaGFuZ2VcIik7KGk/ci5IZzpyLkxnKS5mb3JFYWNoKGZ1bmN0aW9uKGkpe3ZhciByPWksaT1pW25dfHxpO2kuY2FsbCYmaS5jYWxsKHIsZSx0LHRoaXMpfSx0aGlzKX0sbC5wcm90b3R5cGUuQ3Y9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuRXYodCwhMCl9LGwucHJvdG90eXBlLk92PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLlJ2KHQsITApfSxsLnByb3RvdHlwZS5Qdj1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmt2KHQsZSwhMCl9LFN0LmVnJiYoU3Q9U3QuZWcpO3ZhciBFdD17fSxJdD1vdCxSdD1TdCxrdD1YO0V0LmVnPWQsSXQuYWRkRWFjaChkLnByb3RvdHlwZSxSdC5wcm90b3R5cGUpLEl0LmFkZEVhY2goZC5wcm90b3R5cGUsa3QucHJvdG90eXBlKSxkLnByb3RvdHlwZS5hZGRFYWNoPWZ1bmN0aW9uKHQpe3QmJkl0KHQpPT09dCYmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHQuZm9yRWFjaD9cImZ1bmN0aW9uXCI9PXR5cGVvZiB0LmtleXM/dC5mb3JFYWNoKGZ1bmN0aW9uKHQsZSl7dGhpcy5zZXQoZSx0KX0sdGhpcyk6dC5mb3JFYWNoKGZ1bmN0aW9uKHQpe3RoaXMuc2V0KHRbMF0sdFsxXSl9LHRoaXMpOkl0LmtleXModCkuZm9yRWFjaChmdW5jdGlvbihlKXt0aGlzLnNldChlLHRbZV0pfSx0aGlzKSl9LGQucHJvdG90eXBlLmdldD1mdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuVmYuZ2V0KG5ldyB0aGlzLkF2KHQpKTtyZXR1cm4gaT9pLnZhbHVlOjE8YXJndW1lbnRzLmxlbmd0aD9lOnRoaXMuY29udGVudCh0KX0sZC5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQsZSl7dmFyIGk9bmV3IHRoaXMuQXYodCxlKSxyPXRoaXMuVmYuZ2V0KGkpLG49ITE7cmV0dXJuIHI/KHRoaXMuSXYmJnRoaXMuUHYodCxyLnZhbHVlKSxyLnZhbHVlPWUpOih0aGlzLkl2JiZ0aGlzLlB2KHQsdm9pZCAwKSx0aGlzLlZmLmFkZChpKSYmKHRoaXMubGVuZ3RoKyssbj0hMCkpLHRoaXMuSXYmJnRoaXMua3YodCxlKSxufSxkLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5zZXQoZSx0KX0sZC5wcm90b3R5cGUuaGFzPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLlZmLmhhcyhuZXcgdGhpcy5Bdih0KSl9LGQucHJvdG90eXBlW1wiZGVsZXRlXCJdPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyB0aGlzLkF2KHQpO2lmKHRoaXMuVmYuaGFzKGUpKXt2YXIgaT10aGlzLlZmLmdldChlKS52YWx1ZTtyZXR1cm4gdGhpcy5JdiYmdGhpcy5Qdih0LGkpLHRoaXMuVmZbXCJkZWxldGVcIl0oZSksdGhpcy5sZW5ndGgtLSx0aGlzLkl2JiZ0aGlzLmt2KHQsdm9pZCAwKSwhMH1yZXR1cm4hMX0sZC5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLlZmLmNsZWFyKCksdGhpcy5sZW5ndGg9MH0sZC5wcm90b3R5cGUucmVkdWNlPWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gdGhpcy5WZi5yZWR1Y2UoZnVuY3Rpb24oZSxyKXtyZXR1cm4gdC5jYWxsKGksZSxyLnZhbHVlLHIua2V5LHRoaXMpfSxlLHRoaXMpfSxkLnByb3RvdHlwZS5yZWR1Y2VSaWdodD1mdW5jdGlvbih0LGUsaSl7cmV0dXJuIHRoaXMuVmYucmVkdWNlUmlnaHQoZnVuY3Rpb24oZSxyKXtyZXR1cm4gdC5jYWxsKGksZSxyLnZhbHVlLHIua2V5LHRoaXMpfSxlLHRoaXMpfSxkLnByb3RvdHlwZS5rZXlzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGV9KX0sZC5wcm90b3R5cGUudmFsdWVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFwKEZ1bmN0aW9uLmlkZW50aXR5KX0sZC5wcm90b3R5cGUuTnY9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24odCxlKXtyZXR1cm5bZSx0XX0pfSxkLnByb3RvdHlwZS5vbD1mdW5jdGlvbih0LGUpe3JldHVybiBlPWV8fEl0Lm9sLHRoaXM9PT10fHwoSXQudmcodCxcImV2ZXJ5XCIpP3QubGVuZ3RoPT09dGhpcy5sZW5ndGgmJnQuZXZlcnkoZnVuY3Rpb24odCxpKXtyZXR1cm4gZSh0aGlzLmdldChpKSx0KX0sdGhpcyk6SXQua2V5cyh0KS5sZW5ndGg9PT10aGlzLmxlbmd0aCYmSXQua2V5cyh0KS5ldmVyeShmdW5jdGlvbihpKXtyZXR1cm4gZSh0aGlzLmdldChpKSx0W2ldKX0sdGhpcykpfSxkLnByb3RvdHlwZS5Bdj1mdW5jdGlvbih0LGUpe3RoaXMua2V5PXQsdGhpcy52YWx1ZT1lfSxFdC5lZyYmKEV0PUV0LmVnKTt2YXIgQ3Q9e30sT3Q9eCxQdD1FdCxBdD1YO0N0LmVnPWYsT2JqZWN0LmFkZEVhY2goZi5wcm90b3R5cGUsT3QucHJvdG90eXBlKSxcbiAgICBPYmplY3QuYWRkRWFjaChmLnByb3RvdHlwZSxQdC5wcm90b3R5cGUpLE9iamVjdC5hZGRFYWNoKGYucHJvdG90eXBlLEF0LnByb3RvdHlwZSksZi5wcm90b3R5cGUubmc9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHQsdGhpcy5tYW5nbGUsdGhpcy5jb250ZW50KX0sZi5wcm90b3R5cGUueHY9ZnVuY3Rpb24odCl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcihcImtleSBtdXN0IGJlIGEgc3RyaW5nLlwiKX0sZi5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQsZSl7dGhpcy54dih0KTt2YXIgaT1cIn5cIit0O3JldHVybiBpIGluIHRoaXMuVmY/dGhpcy5WZltpXToxPGFyZ3VtZW50cy5sZW5ndGg/ZTp0aGlzLmNvbnRlbnQoKX0sZi5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQsZSl7dGhpcy54dih0KTt2YXIgaT1cIn5cIit0O3JldHVybiBpIGluIHRoaXMuVmY/KHRoaXMuVmZbaV09ZSwhMSk6KHRoaXMubGVuZ3RoKyssdGhpcy5WZltpXT1lLCEwKX0sZi5wcm90b3R5cGUuaGFzPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnh2KHQpLFwiflwiK3QgaW4gdGhpcy5WZn0sZi5wcm90b3R5cGVbXCJkZWxldGVcIl09ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMueHYodCksXCJ+XCIrdCBpbiB0aGlzLlZmJiYoZGVsZXRlIHRoaXMuVmZbXCJ+XCIrdF0sdGhpcy5sZW5ndGgtLSwhMCl9LGYucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7Zm9yKHZhciB0IGluIHRoaXMuVmYpZGVsZXRlIHRoaXMuVmZbdF07dGhpcy5sZW5ndGg9MH0sZi5wcm90b3R5cGUucmVkdWNlPWZ1bmN0aW9uKHQsZSxpKXtmb3IodmFyIHIgaW4gdGhpcy5WZillPXQuY2FsbChpLGUsdGhpcy5WZltyXSxyLnNsaWNlKDEpLHRoaXMpO3JldHVybiBlfSxmLnByb3RvdHlwZS51Zz1mdW5jdGlvbigpe2Zvcih2YXIgdCBpbiB0aGlzLlZmKXJldHVybiB0aGlzLlZmW3RdO3Rocm93IEVycm9yKFwiQ2FuJ3QgZ2V0IG9uZSB2YWx1ZSBmcm9tIGVtcHR5IGRpY3Rpb25hcnkuXCIpfSxDdC5lZyYmKEN0PUN0LmVnKTt2YXIgTnQ9e30seHQ9Q3QsQnQ9bXQsRnQ9eCxfdD1CLER0PUgsSHQ9WDtOdC5lZz1nLE9iamVjdC5hZGRFYWNoKGcucHJvdG90eXBlLEZ0LnByb3RvdHlwZSksT2JqZWN0LmFkZEVhY2goZy5wcm90b3R5cGUsX3QucHJvdG90eXBlKSxPYmplY3QuYWRkRWFjaChnLnByb3RvdHlwZSxIdC5wcm90b3R5cGUpLGcucHJvdG90eXBlLkpmPXh0LGcucHJvdG90eXBlLktmPUJ0LGcucHJvdG90eXBlLm5nPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0LHRoaXMuTWYsdGhpcy5RZix0aGlzLmNvbnRlbnQpfSxnLnByb3RvdHlwZS5oYXM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5RZih0KTtyZXR1cm4gdGhpcy5xZi5nZXQoZSkuaGFzKHQpfSxnLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5RZih0KSxpPXRoaXMucWY7cmV0dXJuIGkuaGFzKGUpP2kuZ2V0KGUpLmdldCh0KTp0aGlzLmNvbnRlbnQodCl9LGcucHJvdG90eXBlW1wiZGVsZXRlXCJdPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuUWYodCksaT10aGlzLnFmO2lmKGkuaGFzKGUpKXt2YXIgcj1pLmdldChlKTtpZihyW1wiZGVsZXRlXCJdKHQpKXJldHVybiB0aGlzLmxlbmd0aC0tLDA9PT1yLmxlbmd0aCYmaVtcImRlbGV0ZVwiXShlKSwhMH1yZXR1cm4hMX0sZy5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLnFmLmNsZWFyKCksdGhpcy5sZW5ndGg9MH0sZy5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuUWYodCksaT10aGlzLnFmO3JldHVybiBpLmhhcyhlKXx8aS5zZXQoZSxuZXcgdGhpcy5LZihudWxsLHRoaXMuTWYpKSwhaS5nZXQoZSkuaGFzKHQpJiYoaS5nZXQoZSkuYWRkKHQpLHRoaXMubGVuZ3RoKyssITApfSxnLnByb3RvdHlwZS5yZWR1Y2U9ZnVuY3Rpb24odCxlLGkpe3JldHVybiB0aGlzLnFmLnJlZHVjZShmdW5jdGlvbihlLHIpe3JldHVybiByLnJlZHVjZShmdW5jdGlvbihlLHIpe3JldHVybiB0LmNhbGwoaSxlLHIscix0aGlzKX0sZSx0aGlzKX0sZSx0aGlzKX0sZy5wcm90b3R5cGUudWc9ZnVuY3Rpb24oKXtpZigwPT09dGhpcy5sZW5ndGgpdGhyb3cgRXJyb3IoXCJDYW4ndCBnZXQgb25lIHZhbHVlIGZyb20gZW1wdHkgc2V0LlwiKTtyZXR1cm4gdGhpcy5xZi51ZygpLnVnKCl9LGcucHJvdG90eXBlLkRmPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucWYudmFsdWVzKCkuYWcoKS5EZigpfSxnLnByb3RvdHlwZS5sb2c9ZnVuY3Rpb24odCxlLGkscil7dD10fHxEdC5rZyxlPWV8fHRoaXMuQnYsaXx8KGk9Y29uc29sZS5sb2cscj1jb25zb2xlKTt2YXIgaT1pLmJpbmQociksbj10aGlzLnFmLG89bi5rZXlzKCk7by5mb3JFYWNoKGZ1bmN0aW9uKHMsYSl7dmFyIGMsaDthPT09by5sZW5ndGgtMT8oYz10LmJnLGg9XCIgXCIpOihjPTA9PT1hP3QuVGc6dC5FZyxoPXQuSWcpO3ZhciBwPW4uZ2V0KHMpO2kuY2FsbChyLGMrdC5tZyt0LlRnK1wiIFwiK3MpLHAuZm9yRWFjaChmdW5jdGlvbihuLG8pe3ZhciBzLGE7bz09PXAuaGVhZC5MZj8ocz10LmJnLGE9XCIgXCIpOihzPXQuRWcsYT10LklnKTt2YXIgYztlKG8sZnVuY3Rpb24oZSl7Yz9pLmNhbGwocixoK1wiIFwiK2ErXCIgIFwiK2UpOihpLmNhbGwocixoK1wiIFwiK3MrdC5tZyt0Lm1nK2UpLGM9ITApfSxmdW5jdGlvbihlKXtpLmNhbGwocixoK1wiIFwiK3QuSWcrXCIgIFwiK2UpfSl9KX0pfSxnLnByb3RvdHlwZS5Cdj1mdW5jdGlvbih0LGUpe3ZhciBpPXQudmFsdWU7T2JqZWN0KGkpPT09aT9KU09OLnN0cmluZ2lmeShpLG51bGwsNCkuc3BsaXQoXCJcXG5cIikuZm9yRWFjaChmdW5jdGlvbih0KXtlKFwiIFwiK3QpfSk6ZShcIiBcIitpKX0sTnQuZWcmJihOdD1OdC5lZyk7dmFyIEx0PXt9LE10PU50LGp0PXgsVXQ9RXQsVnQ9WDtMdC5lZz12LE9iamVjdC5hZGRFYWNoKHYucHJvdG90eXBlLGp0LnByb3RvdHlwZSksT2JqZWN0LmFkZEVhY2godi5wcm90b3R5cGUsVXQucHJvdG90eXBlKSxPYmplY3QuYWRkRWFjaCh2LnByb3RvdHlwZSxWdC5wcm90b3R5cGUpLHYucHJvdG90eXBlLm5nPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0LHRoaXMuTWYsdGhpcy5RZix0aGlzLmNvbnRlbnQpfSx2LnByb3RvdHlwZS5sb2c9ZnVuY3Rpb24odCxlKXtlPWV8fHRoaXMuc3RyaW5naWZ5LHRoaXMuVmYubG9nKHQsZSl9LHYucHJvdG90eXBlLnN0cmluZ2lmeT1mdW5jdGlvbih0LGUpe3JldHVybiBlK0pTT04uc3RyaW5naWZ5KHQua2V5KStcIjogXCIrSlNPTi5zdHJpbmdpZnkodC52YWx1ZSl9LEx0LmVnJiYoTHQ9THQuZWcpO3ZhciBRdD17fSxxdD1tdCxKdD1OdCxLdD14LEd0PUIsenQ9WCxXdD1ydDtRdC5lZz15LE9iamVjdC5hZGRFYWNoKHkucHJvdG90eXBlLEt0LnByb3RvdHlwZSksT2JqZWN0LmFkZEVhY2goeS5wcm90b3R5cGUsR3QucHJvdG90eXBlKSxPYmplY3QuYWRkRWFjaCh5LnByb3RvdHlwZSx6dC5wcm90b3R5cGUpLE9iamVjdC5hZGRFYWNoKHkucHJvdG90eXBlLFd0LnByb3RvdHlwZSkseS5wcm90b3R5cGUuR2Y9cXQseS5wcm90b3R5cGUuemY9SnQseS5wcm90b3R5cGUubmc9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHQsdGhpcy5NZix0aGlzLlFmLHRoaXMuY29udGVudCl9LHkucHJvdG90eXBlLmhhcz1mdW5jdGlvbih0KXtyZXR1cm4gdD1uZXcgdGhpcy5vcmRlci5Ob2RlKHQpLHRoaXMuVmYuaGFzKHQpfSx5LnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IHRoaXMub3JkZXIuTm9kZSh0KTtyZXR1cm4oZT10aGlzLlZmLmdldChlKSk/ZS52YWx1ZTp0aGlzLmNvbnRlbnQodCl9LHkucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0KXt2YXIgZT1uZXcgdGhpcy5vcmRlci5Ob2RlKHQpO3JldHVybiF0aGlzLlZmLmhhcyhlKSYmKHRoaXMuJGcmJnRoaXMubnYoW3RdLFtdLDApLHRoaXMub3JkZXIuYWRkKHQpLGU9dGhpcy5vcmRlci5oZWFkLkxmLHRoaXMuVmYuYWRkKGUpLHRoaXMubGVuZ3RoKyssdGhpcy4kZyYmdGhpcy5YZyhbdF0sW10sMCksITApfSx5LnByb3RvdHlwZVtcImRlbGV0ZVwiXT1mdW5jdGlvbih0KXt2YXIgZT1uZXcgdGhpcy5vcmRlci5Ob2RlKHQpO3JldHVybiEhdGhpcy5WZi5oYXMoZSkmJih0aGlzLiRnJiZ0aGlzLm52KFtdLFt0XSwwKSxlPXRoaXMuVmYuZ2V0KGUpLHRoaXMuVmZbXCJkZWxldGVcIl0oZSksZVtcImRlbGV0ZVwiXSgpLHRoaXMubGVuZ3RoLS0sdGhpcy4kZyYmdGhpcy5YZyhbXSxbdF0sMCksITApfSx5LnByb3RvdHlwZS51Zz1mdW5jdGlvbigpe2lmKDA9PT10aGlzLmxlbmd0aCl0aHJvdyBFcnJvcihcIkNhbid0IGdldCBvbmUgdmFsdWUgZnJvbSBlbXB0eSBzZXQuXCIpO3JldHVybiB0aGlzLlZmLnVnKCkudmFsdWV9LHkucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5WZi5jbGVhcigpLHRoaXMub3JkZXIuY2xlYXIoKSx0aGlzLmxlbmd0aD0wfSx5LnByb3RvdHlwZS5yZWR1Y2U9ZnVuY3Rpb24odCxlLGkpe3JldHVybiB0aGlzLm9yZGVyLnJlZHVjZShmdW5jdGlvbihlLHIpe3JldHVybiB0LmNhbGwoaSxlLHIscix0aGlzKX0sZSx0aGlzKX0seS5wcm90b3R5cGUucmVkdWNlUmlnaHQ9ZnVuY3Rpb24odCxlLGkpe3JldHVybiB0aGlzLm9yZGVyLnJlZHVjZVJpZ2h0KGZ1bmN0aW9uKGUscil7cmV0dXJuIHQuY2FsbChpLGUscixyLHRoaXMpfSxlLHRoaXMpfSx5LnByb3RvdHlwZS5EZj1mdW5jdGlvbigpe3JldHVybiB0aGlzLm9yZGVyLkRmKCl9LHkucHJvdG90eXBlLmxvZz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuVmY7cmV0dXJuIHQubG9nLmFwcGx5KHQsYXJndW1lbnRzKX0sUXQuZWcmJihRdD1RdC5lZyk7dmFyICR0PXt9LFl0PVF0LFh0PXgsWnQ9Qix0ZT1YOyR0LmVnPW0sT2JqZWN0LmFkZEVhY2gobS5wcm90b3R5cGUsWHQucHJvdG90eXBlKSxPYmplY3QuYWRkRWFjaChtLnByb3RvdHlwZSxadC5wcm90b3R5cGUpLE9iamVjdC5hZGRFYWNoKG0ucHJvdG90eXBlLHRlLnByb3RvdHlwZSksbS5wcm90b3R5cGUubmc9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHQsdGhpcy5tYXhMZW5ndGgsdGhpcy5NZix0aGlzLlFmLHRoaXMuY29udGVudCl9LG0ucHJvdG90eXBlLmhhcz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5WZi5oYXModCl9LG0ucHJvdG90eXBlLmdldD1mdW5jdGlvbih0KXtyZXR1cm4gdD10aGlzLlZmLmdldCh0KSx2b2lkIDAhPT10Pyh0aGlzLlZmW1wiZGVsZXRlXCJdKHQpLHRoaXMuVmYuYWRkKHQpKTp0PXRoaXMuY29udGVudCgpLHR9LG0ucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5WZi5oYXModCkmJih0aGlzLlZmW1wiZGVsZXRlXCJdKHQpLHRoaXMubGVuZ3RoLS0pLHRoaXMuVmYuYWRkKHQpLHRoaXMubGVuZ3RoKyssISh0aGlzLlZmLmxlbmd0aD50aGlzLm1heExlbmd0aCl8fCh0aGlzLlZmW1wiZGVsZXRlXCJdKHRoaXMuVmYub3JkZXIuaGVhZC5uZXh0LnZhbHVlKSx0aGlzLmxlbmd0aC0tLCExKX0sbS5wcm90b3R5cGVbXCJkZWxldGVcIl09ZnVuY3Rpb24odCl7cmV0dXJuISF0aGlzLlZmW1wiZGVsZXRlXCJdKHQpJiYodGhpcy5sZW5ndGgtLSwhMCl9LG0ucHJvdG90eXBlLnVnPWZ1bmN0aW9uKCl7aWYoMD09PXRoaXMubGVuZ3RoKXRocm93IEVycm9yKFwiQ2FuJ3QgZ2V0IG9uZSB2YWx1ZSBmcm9tIGVtcHR5IGNvbGxlY3Rpb24uXCIpO3JldHVybiB0aGlzLlZmLnVnKCl9LG0ucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5WZi5jbGVhcigpLHRoaXMubGVuZ3RoPTB9LG0ucHJvdG90eXBlLnJlZHVjZT1mdW5jdGlvbih0LGUsaSl7cmV0dXJuIHRoaXMuVmYucmVkdWNlKGZ1bmN0aW9uKGUscil7cmV0dXJuIHQuY2FsbChpLGUscixyLHRoaXMpfSxlLHRoaXMpfSxtLnByb3RvdHlwZS5yZWR1Y2VSaWdodD1mdW5jdGlvbih0LGUsaSl7cmV0dXJuIHRoaXMuVmYucmVkdWNlUmlnaHQoZnVuY3Rpb24odCxlKXtyZXR1cm4gY2FsbGJhY2suY2FsbChpLHQsZSxlLHRoaXMpfSxiYXNpcyx0aGlzKX0sbS5wcm90b3R5cGUuRGY9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5WZi5EZigpfSwkdC5lZyYmKCR0PSR0LmVnKTt2YXIgZWU9e30saWU9JHQscmU9eCxuZT1FdCxvZT1YO2VlLmVnPXcsT2JqZWN0LmFkZEVhY2gody5wcm90b3R5cGUscmUucHJvdG90eXBlKSxPYmplY3QuYWRkRWFjaCh3LnByb3RvdHlwZSxuZS5wcm90b3R5cGUpLE9iamVjdC5hZGRFYWNoKHcucHJvdG90eXBlLG9lLnByb3RvdHlwZSksdy5wcm90b3R5cGUubmc9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHQsdGhpcy5tYXhMZW5ndGgsdGhpcy5NZix0aGlzLlFmLHRoaXMuY29udGVudCl9LHcucHJvdG90eXBlLmxvZz1mdW5jdGlvbih0LGUpe2U9ZXx8dGhpcy5zdHJpbmdpZnksdGhpcy5WZi5sb2codCxlKX0sdy5wcm90b3R5cGUuc3RyaW5naWZ5PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUrSlNPTi5zdHJpbmdpZnkodC5rZXkpK1wiOiBcIitKU09OLnN0cmluZ2lmeSh0LnZhbHVlKX0sZWUuZWcmJihlZT1lZS5lZyk7dmFyIHNlPXt9LGFlPVF0LGNlPXgsaGU9RXQscGU9WDtzZS5lZz1ULE9iamVjdC5hZGRFYWNoKFQucHJvdG90eXBlLGNlLnByb3RvdHlwZSksT2JqZWN0LmFkZEVhY2goVC5wcm90b3R5cGUsaGUucHJvdG90eXBlKSxPYmplY3QuYWRkRWFjaChULnByb3RvdHlwZSxwZS5wcm90b3R5cGUpLFQucHJvdG90eXBlLm5nPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0LHRoaXMuTWYsdGhpcy5RZix0aGlzLmNvbnRlbnQpfSxULnByb3RvdHlwZS5sb2c9ZnVuY3Rpb24odCxlKXtlPWV8fHRoaXMuc3RyaW5naWZ5LHRoaXMuVmYubG9nKHQsZSl9LFQucHJvdG90eXBlLnN0cmluZ2lmeT1mdW5jdGlvbih0LGUpe3JldHVybiBlK0pTT04uc3RyaW5naWZ5KHQua2V5KStcIjogXCIrSlNPTi5zdHJpbmdpZnkodC52YWx1ZSl9LHNlLmVnJiYoc2U9c2UuZWcpO3ZhciB1ZT17fSxsZT1zZTt1ZS5lZz1TLFMucHJvdG90eXBlPU9iamVjdC5jcmVhdGUobGUucHJvdG90eXBlKSxTLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1TLFMucHJvdG90eXBlLm5nPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0LHRoaXMuV2YsdGhpcy5NZix0aGlzLlFmKX0sUy5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5nZXQodCk7aS55digwLGkubGVuZ3RoLGUpfSxTLnByb3RvdHlwZS5XZj1mdW5jdGlvbigpe3JldHVybltdfSx1ZS5lZyYmKHVlPXVlLmVnKTt2YXIgZGU9e307ZGUuZWc9Yjt2YXIgZmU9WCxnZT1ydDtPYmplY3QuYWRkRWFjaChiLnByb3RvdHlwZSx4LnByb3RvdHlwZSksT2JqZWN0LmFkZEVhY2goYi5wcm90b3R5cGUsZmUucHJvdG90eXBlKSxPYmplY3QuYWRkRWFjaChiLnByb3RvdHlwZSxnZS5wcm90b3R5cGUpLGIucHJvdG90eXBlLm5nPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0LHRoaXMuTWYsdGhpcy4kZix0aGlzLmNvbnRlbnQpfSxiLnByb3RvdHlwZS5oYXM9ZnVuY3Rpb24odCl7dmFyIGU9RSh0aGlzLkhmLHQsdGhpcy4kZik7cmV0dXJuIDA8PWUmJnRoaXMuTWYodGhpcy5IZltlXSx0KX0sYi5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQpe3ZhciBlPUkodGhpcy5IZix0LHRoaXMuJGYsdGhpcy5NZik7cmV0dXJuLTEhPT1lP3RoaXMuSGZbZV06dGhpcy5jb250ZW50KHQpfSxiLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24odCl7dmFyIGU7ZT10aGlzLkhmO3ZhciBpPXRoaXMuJGYscj1FKGUsdCxpKTtpZigwPnIpZT0tci0xO2Vsc2V7Zm9yKHZhciBuPWUubGVuZ3RoLTE7cjxuJiYwPT09aSh0LGVbcisxXSk7KXIrKztlPXJ9cmV0dXJuIHRoaXMuJGcmJnRoaXMubnYoW3RdLFtdLGUpLHRoaXMuSGYuc3BsaWNlKGUsMCx0KSx0aGlzLmxlbmd0aCsrLHRoaXMuJGcmJnRoaXMuWGcoW3RdLFtdLGUpLCEwfSxiLnByb3RvdHlwZVtcImRlbGV0ZVwiXT1mdW5jdGlvbih0KXt2YXIgZT1JKHRoaXMuSGYsdCx0aGlzLiRmLHRoaXMuTWYpO3JldHVybi0xIT09ZSYmKHRoaXMuJGcmJnRoaXMubnYoW10sW3RdLGUpLHRoaXMuSGYuc3BsaWNlKGUsMSksdGhpcy5sZW5ndGgtLSx0aGlzLiRnJiZ0aGlzLlhnKFtdLFt0XSxlKSwhMCl9LGIucHJvdG90eXBlLmluZGV4T2Y9ZnVuY3Rpb24odCl7cmV0dXJuIEkodGhpcy5IZix0LHRoaXMuJGYsdGhpcy5NZil9LGIucHJvdG90eXBlLmxhc3RJbmRleE9mPWZ1bmN0aW9uKHQpe3JldHVybiBSKHRoaXMuSGYsdCx0aGlzLiRmLHRoaXMuTWYpfSxiLnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKHQpe3JldHVybiBJKHRoaXMuSGYsdCx0aGlzLiRmLHRoaXMuTWYpfSxiLnByb3RvdHlwZS52dj1mdW5jdGlvbih0KXtyZXR1cm4gUih0aGlzLkhmLHQsdGhpcy4kZix0aGlzLk1mKX0sYi5wcm90b3R5cGUucHVzaD1mdW5jdGlvbigpe3RoaXMuYWRkRWFjaChhcmd1bWVudHMpfSxiLnByb3RvdHlwZS51bnNoaWZ0PWZ1bmN0aW9uKCl7dGhpcy5hZGRFYWNoKGFyZ3VtZW50cyl9LGIucHJvdG90eXBlLnBvcD1mdW5jdGlvbigpe3JldHVybiB0aGlzLkhmLnBvcCgpfSxiLnByb3RvdHlwZS5zaGlmdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLkhmLnNoaWZ0KCl9LGIucHJvdG90eXBlLnNsaWNlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuSGYuc2xpY2UuYXBwbHkodGhpcy5IZixhcmd1bWVudHMpfSxiLnByb3RvdHlwZS5zcGxpY2U9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy55dih0LGUsQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDIpKX0sYi5wcm90b3R5cGUueXY9ZnVuY3Rpb24odCxlLGkpe2lmKHZvaWQgMD09PXQmJnZvaWQgMD09PWUpcmV0dXJuW107dD10fHwwLDA+dCYmKHQrPXRoaXMubGVuZ3RoKSx2b2lkIDA9PT1lJiYoZT0xLzApO3ZhciByPXRoaXMuc2xpY2UodCx0K2UpO3JldHVybiB0aGlzLiRnJiZ0aGlzLm52KGkscix0KSx0aGlzLkhmLnNwbGljZSh0LGUpLHRoaXMuYWRkRWFjaChpKSx0aGlzLiRnJiZ0aGlzLlhnKGkscix0KSxyfSxiLnByb3RvdHlwZS5yZWR1Y2U9ZnVuY3Rpb24odCxlLGkpe3JldHVybiB0aGlzLkhmLnJlZHVjZShmdW5jdGlvbihlLHIsbil7cmV0dXJuIHQuY2FsbChpLGUscixuLHRoaXMpfSxlLHRoaXMpfSxiLnByb3RvdHlwZS5yZWR1Y2VSaWdodD1mdW5jdGlvbih0LGUsaSl7cmV0dXJuIHRoaXMuSGYucmVkdWNlUmlnaHQoZnVuY3Rpb24odCxlLHIpe3JldHVybiBjYWxsYmFjay5jYWxsKGksdCxlLHIsdGhpcyl9LGJhc2lzLHRoaXMpfSxiLnByb3RvdHlwZS5taW49ZnVuY3Rpb24oKXtpZih0aGlzLmxlbmd0aClyZXR1cm4gdGhpcy5IZlswXX0sYi5wcm90b3R5cGUubWF4PWZ1bmN0aW9uKCl7aWYodGhpcy5sZW5ndGgpcmV0dXJuIHRoaXMuSGZbdGhpcy5sZW5ndGgtMV19LGIucHJvdG90eXBlLnVnPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuSGYudWcoKX0sYi5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt2YXIgdDt0aGlzLiRnJiYodD10aGlzLkhmLnNsaWNlKCksdGhpcy5udihbXSx0LDApKSx0aGlzLmxlbmd0aD0wLHRoaXMuSGYuY2xlYXIoKSx0aGlzLiRnJiZ0aGlzLlhnKFtdLHQsMCl9LGIucHJvdG90eXBlLm9sPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuSGYub2wodCxlKX0sYi5wcm90b3R5cGUuWWY9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5IZi5ZZih0LGUpfSxiLnByb3RvdHlwZS5EZj1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgdGhpcy5JdGVyYXRvcih0aGlzLkhmLHQsZSl9LGIucHJvdG90eXBlLkl0ZXJhdG9yPUFycmF5LnByb3RvdHlwZS5JdGVyYXRvcixkZS5lZyYmKGRlPWRlLmVnKTt2YXIgdmU9e307dmUuZWc9azt2YXIgeWU9ZGUsbWU9Qix3ZT1YO2sucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoeWUucHJvdG90eXBlKSxrLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1rLE9iamVjdC5hZGRFYWNoKGsucHJvdG90eXBlLG1lLnByb3RvdHlwZSksT2JqZWN0LmFkZEVhY2goay5wcm90b3R5cGUsd2UucHJvdG90eXBlKSxrLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24odCl7cmV0dXJuIXRoaXMuaGFzKHQpJiYoeWUucHJvdG90eXBlLmFkZC5jYWxsKHRoaXMsdCksITApfSxrLnByb3RvdHlwZS5yZWR1Y2U9ZnVuY3Rpb24odCxlLGkpe3ZhciByPXRoaXM7cmV0dXJuIHRoaXMuSGYucmVkdWNlKGZ1bmN0aW9uKGUsbixvKXtyZXR1cm4gdC5jYWxsKGksZSxuLG4scixvKX0sZSl9LGsucHJvdG90eXBlLnJlZHVjZVJpZ2h0PWZ1bmN0aW9uKHQsZSxpKXt2YXIgcj10aGlzO3JldHVybiB0aGlzLkhmLnJlZHVjZVJpZ2h0KGZ1bmN0aW9uKGUsbixvKXtyZXR1cm4gdC5jYWxsKGksZSxuLG4scixvKX0sZSl9LHZlLmVnJiYodmU9dmUuZWcpO3ZhciBUZT17fSxTZT12ZSxiZT14LEVlPUV0LEllPVg7VGUuZWc9QyxPYmplY3QuYWRkRWFjaChDLnByb3RvdHlwZSxiZS5wcm90b3R5cGUpLE9iamVjdC5hZGRFYWNoKEMucHJvdG90eXBlLEVlLnByb3RvdHlwZSksT2JqZWN0LmFkZEVhY2goQy5wcm90b3R5cGUsSWUucHJvdG90eXBlKSxDLnByb3RvdHlwZS5uZz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodCx0aGlzLk1mLHRoaXMuJGYsdGhpcy5jb250ZW50KX0sVGUuZWcmJihUZT1UZS5lZyk7dmFyIFJlPXt9O1JlLmVnPU87dmFyIGtlPUIsQ2U9WCxPZT1ydCxQZT1IO09iamVjdC5hZGRFYWNoKE8ucHJvdG90eXBlLHgucHJvdG90eXBlKSxPYmplY3QuYWRkRWFjaChPLnByb3RvdHlwZSxrZS5wcm90b3R5cGUpLE9iamVjdC5hZGRFYWNoKE8ucHJvdG90eXBlLENlLnByb3RvdHlwZSksT2JqZWN0LmFkZEVhY2goTy5wcm90b3R5cGUsT2UucHJvdG90eXBlKSxPLnByb3RvdHlwZS5uZz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodCx0aGlzLk1mLHRoaXMuJGYsdGhpcy5jb250ZW50KX0sTy5wcm90b3R5cGUuaGFzPWZ1bmN0aW9uKHQpe3JldHVybiEhdGhpcy5yb290JiYodGhpcy5aZih0KSx0aGlzLk1mKHQsdGhpcy5yb290LnZhbHVlKSl9LE8ucHJvdG90eXBlLmdldD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5yb290JiYodGhpcy5aZih0KSx0aGlzLk1mKHQsdGhpcy5yb290LnZhbHVlKSk/dGhpcy5yb290LnZhbHVlOnRoaXMuY29udGVudCh0KX0sTy5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyB0aGlzLk5vZGUodCk7cmV0dXJuIHRoaXMucm9vdD8odGhpcy5aZih0KSwhdGhpcy5NZih0LHRoaXMucm9vdC52YWx1ZSkmJih0aGlzLiRnJiZ0aGlzLm52KFt0XSxbXSx0aGlzLnJvb3QuaW5kZXgpLDA+dGhpcy4kZih0LHRoaXMucm9vdC52YWx1ZSk/KGUucmlnaHQ9dGhpcy5yb290LGUubGVmdD10aGlzLnJvb3QubGVmdCx0aGlzLnJvb3QubGVmdD1udWxsKTooZS5sZWZ0PXRoaXMucm9vdCxlLnJpZ2h0PXRoaXMucm9vdC5yaWdodCx0aGlzLnJvb3QucmlnaHQ9bnVsbCksdGhpcy5yb290LkZ2KCksZS5GdigpLHRoaXMucm9vdD1lLHRoaXMubGVuZ3RoKyssdGhpcy4kZyYmdGhpcy5YZyhbdF0sW10sdGhpcy5yb290LmluZGV4KSwhMCkpOih0aGlzLiRnJiZ0aGlzLm52KFt0XSxbXSwwKSx0aGlzLnJvb3Q9ZSx0aGlzLmxlbmd0aCsrLHRoaXMuJGcmJnRoaXMuWGcoW3RdLFtdLDApLCEwKX0sTy5wcm90b3R5cGVbXCJkZWxldGVcIl09ZnVuY3Rpb24odCl7aWYodGhpcy5yb290JiYodGhpcy5aZih0KSx0aGlzLk1mKHQsdGhpcy5yb290LnZhbHVlKSkpe3ZhciBlPXRoaXMucm9vdC5pbmRleDtpZih0aGlzLiRnJiZ0aGlzLm52KFtdLFt0XSxlKSx0aGlzLnJvb3QubGVmdCl7dmFyIGk9dGhpcy5yb290LnJpZ2h0O3RoaXMucm9vdD10aGlzLnJvb3QubGVmdCx0aGlzLlpmKHQpLHRoaXMucm9vdC5yaWdodD1pfWVsc2UgdGhpcy5yb290PXRoaXMucm9vdC5yaWdodDtyZXR1cm4gdGhpcy5sZW5ndGgtLSx0aGlzLnJvb3QmJnRoaXMucm9vdC5GdigpLHRoaXMuJGcmJnRoaXMuWGcoW10sW3RdLGUpLCEwfXJldHVybiExfSxPLnByb3RvdHlwZS5pbmRleE9mPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnJvb3QmJih0aGlzLlpmKHQpLHRoaXMuTWYodCx0aGlzLnJvb3QudmFsdWUpKT90aGlzLnJvb3QuaW5kZXg6LTF9LE8ucHJvdG90eXBlLmZpbmQ9ZnVuY3Rpb24odCl7aWYodGhpcy5yb290JiYodGhpcy5aZih0KSx0aGlzLk1mKHQsdGhpcy5yb290LnZhbHVlKSkpcmV0dXJuIHRoaXMucm9vdH0sTy5wcm90b3R5cGUuX3Y9ZnVuY3Rpb24odCl7aWYodGhpcy5yb290KXtmb3IodD10fHx0aGlzLnJvb3Q7dC5yaWdodDspdD10LnJpZ2h0O3JldHVybiB0fX0sTy5wcm90b3R5cGUuRHY9ZnVuY3Rpb24odCl7aWYodGhpcy5yb290KXtmb3IodD10fHx0aGlzLnJvb3Q7dC5sZWZ0Oyl0PXQubGVmdDtyZXR1cm4gdH19LE8ucHJvdG90eXBlLkh2PWZ1bmN0aW9uKHQpe2lmKHRoaXMucm9vdClyZXR1cm4gdGhpcy5aZih0KSx0aGlzLnJvb3R9LE8ucHJvdG90eXBlLkx2PWZ1bmN0aW9uKHQpe2lmKHRoaXMucm9vdClyZXR1cm4gdGhpcy5aZih0KSx0aGlzLnJvb3QudGcoKX0sTy5wcm90b3R5cGUuWGY9ZnVuY3Rpb24odCl7aWYodGhpcy5yb290KXJldHVybiB0aGlzLlpmKHQpLDA9PT10aGlzLiRmKHQsdGhpcy5yb290LnZhbHVlKT90aGlzLnJvb3Q6dGhpcy5yb290Lk12KCl9LE8ucHJvdG90eXBlLmp2PWZ1bmN0aW9uKHQpe2lmKHRoaXMucm9vdClyZXR1cm4gdGhpcy5aZih0KSx0aGlzLiRmKHQsdGhpcy5yb290LnZhbHVlKSx0aGlzLnJvb3QuTXYoKX0sTy5wcm90b3R5cGUucG9wPWZ1bmN0aW9uKCl7aWYodGhpcy5yb290KXt2YXIgdD10aGlzLl92KCk7cmV0dXJuIHRoaXNbXCJkZWxldGVcIl0odC52YWx1ZSksdC52YWx1ZX19LE8ucHJvdG90eXBlLnNoaWZ0PWZ1bmN0aW9uKCl7aWYodGhpcy5yb290KXt2YXIgdD10aGlzLkR2KCk7cmV0dXJuIHRoaXNbXCJkZWxldGVcIl0odC52YWx1ZSksdC52YWx1ZX19LE8ucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24oKXt0aGlzLmFkZEVhY2goYXJndW1lbnRzKX0sTy5wcm90b3R5cGUudW5zaGlmdD1mdW5jdGlvbigpe3RoaXMuYWRkRWFjaChhcmd1bWVudHMpfSxPLnByb3RvdHlwZS5zbGljZT1mdW5jdGlvbih0LGUpe3Q9dHx8MCxlPWV8fHRoaXMubGVuZ3RoLDA+dCYmKHQrPXRoaXMubGVuZ3RoKSwwPmUmJihlKz10aGlzLmxlbmd0aCk7dmFyIGk9W107aWYodGhpcy5yb290KWZvcih0aGlzLlV2KHQpO3RoaXMucm9vdC5pbmRleDxlJiYoaS5wdXNoKHRoaXMucm9vdC52YWx1ZSksdGhpcy5yb290LnJpZ2h0KTspdGhpcy5aZih0aGlzLnJvb3QuTXYoKS52YWx1ZSk7cmV0dXJuIGl9LE8ucHJvdG90eXBlLnNwbGljZT1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnl2KHQsZSxBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMikpfSxPLnByb3RvdHlwZS55dj1mdW5jdGlvbih0LGUsaSl7aWYodm9pZCAwPT09dCYmdm9pZCAwPT09ZSlyZXR1cm5bXTt0PXR8fDAsMD50JiYodCs9dGhpcy5sZW5ndGgpLHZvaWQgMD09PWUmJihlPTEvMCk7dmFyIHI9W107aWYodGhpcy5yb290KWZvcih0aGlzLlV2KHQpLHQ9MDt0PGU7dCsrKXtyLnB1c2godGhpcy5yb290LnZhbHVlKTt2YXIgbj10aGlzLnJvb3QuTXYoKTtpZih0aGlzW1wiZGVsZXRlXCJdKHRoaXMucm9vdC52YWx1ZSksIW4pYnJlYWs7dGhpcy5aZihuLnZhbHVlKX1yZXR1cm4gdGhpcy5hZGRFYWNoKGkpLHJ9LE8ucHJvdG90eXBlLlpmPWZ1bmN0aW9uKHQpe3ZhciBlLGkscixuLG8scztpZih0aGlzLnJvb3Qpe2ZvcihlPWk9cj1uZXcgdGhpcy5Ob2RlLHM9bmV3IHRoaXMuTm9kZSxvPXRoaXMucm9vdDs7KWlmKG49dGhpcy4kZih0LG8udmFsdWUpLDA+bil7aWYoIW8ubGVmdClicmVhaztpZigwPnRoaXMuJGYodCxvLmxlZnQudmFsdWUpJiYobj1vLmxlZnQsby5sZWZ0PW4ucmlnaHQsby5GdigpLG4ucmlnaHQ9byxuLkZ2KCksbz1uLCFvLmxlZnQpKWJyZWFrO249bmV3IFAsbi5yaWdodD1vLG4ubGVmdD1zLmxlZnQscy5sZWZ0PW4sci5sZWZ0PW8sci5GdigpLHI9byxvPW8ubGVmdH1lbHNle2lmKCEoMDxuKSlicmVhaztpZighby5yaWdodClicmVhaztpZigwPHRoaXMuJGYodCxvLnJpZ2h0LnZhbHVlKSYmKG49by5yaWdodCxvLnJpZ2h0PW4ubGVmdCxvLkZ2KCksbi5sZWZ0PW8sbi5GdigpLG89biwhby5yaWdodCkpYnJlYWs7bj1uZXcgUCxuLmxlZnQ9byxuLnJpZ2h0PXMucmlnaHQscy5yaWdodD1uLGkucmlnaHQ9byxpLkZ2KCksaT1vLG89by5yaWdodH1mb3IoaS5yaWdodD1vLmxlZnQsaS5GdigpLHIubGVmdD1vLnJpZ2h0LHIuRnYoKSxvLmxlZnQ9ZS5yaWdodCxvLnJpZ2h0PWUubGVmdDtzLmxlZnQ7KXMubGVmdC5yaWdodC5GdigpLHMubGVmdD1zLmxlZnQubGVmdDtmb3IoO3MucmlnaHQ7KXMucmlnaHQubGVmdC5GdigpLHMucmlnaHQ9cy5yaWdodC5yaWdodDtvLkZ2KCksdGhpcy5yb290PW99fSxPLnByb3RvdHlwZS5Vdj1mdW5jdGlvbih0KXtpZih0aGlzLnJvb3Qpe2Zvcih2YXIgZT10aGlzLnJvb3QsaT10aGlzLnJvb3QuaW5kZXg7aSE9PXQ7KWlmKGk+dCYmZS5sZWZ0KWU9ZS5sZWZ0LGktPTErKGUucmlnaHQ/ZS5yaWdodC5sZW5ndGg6MCk7ZWxzZXtpZighKGk8dCYmZS5yaWdodCkpYnJlYWs7ZT1lLnJpZ2h0LGkrPTErKGUubGVmdD9lLmxlZnQubGVuZ3RoOjApfXJldHVybiB0aGlzLlpmKGUudmFsdWUpLHRoaXMucm9vdC5pbmRleD09PXR9cmV0dXJuITF9LE8ucHJvdG90eXBlLnJlZHVjZT1mdW5jdGlvbih0LGUsaSl7cmV0dXJuIHRoaXMucm9vdCYmKGU9dGhpcy5yb290LnJlZHVjZSh0LGUsaSx0aGlzKSksZX0sTy5wcm90b3R5cGUucmVkdWNlUmlnaHQ9ZnVuY3Rpb24odCxlLGkpe3JldHVybiB0aGlzLnJvb3QmJihlPXRoaXMucm9vdC5yZWR1Y2VSaWdodCh0LGUsaSx0aGlzKSksZX0sTy5wcm90b3R5cGUubWluPWZ1bmN0aW9uKHQpe2lmKHQ9dGhpcy5Edih0KSlyZXR1cm4gdC52YWx1ZX0sTy5wcm90b3R5cGUubWF4PWZ1bmN0aW9uKHQpe2lmKHQ9dGhpcy5fdih0KSlyZXR1cm4gdC52YWx1ZX0sTy5wcm90b3R5cGUudWc9ZnVuY3Rpb24oKXtpZighdGhpcy5yb290KXRocm93IEVycm9yKFwiQ2FuJ3QgZ2V0IG9uZSB2YWx1ZSBmcm9tIGVtcHR5IHNldFwiKTtyZXR1cm4gdGhpcy5yb290LnZhbHVlfSxPLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3ZhciB0O3RoaXMuJGcmJih0PXRoaXMudG9BcnJheSgpLHRoaXMubnYoW10sdCwwKSksdGhpcy5yb290PW51bGwsdGhpcy5sZW5ndGg9MCx0aGlzLiRnJiZ0aGlzLlhnKFtdLHQsMCl9LE8ucHJvdG90eXBlLkRmPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyB0aGlzLkl0ZXJhdG9yKHRoaXMsdCxlKX0sTy5wcm90b3R5cGUuSXRlcmF0b3I9QSxPLnByb3RvdHlwZS5zdW1tYXJ5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucm9vdD90aGlzLnJvb3Quc3VtbWFyeSgpOlwiKClcIn0sTy5wcm90b3R5cGUubG9nPWZ1bmN0aW9uKHQsZSxpLHIpe3Q9dHx8UGUuUmcsZT1lfHx0aGlzLkJ2LGl8fChpPWNvbnNvbGUubG9nLHI9Y29uc29sZSksaT1pLmJpbmQociksdGhpcy5yb290JiZ0aGlzLnJvb3QubG9nKHQsZSxpLGkpfSxPLnByb3RvdHlwZS5Cdj1mdW5jdGlvbih0LGUpe2UoXCIgXCIrdC52YWx1ZSl9LE8uVnY9UGUsTy5wcm90b3R5cGUuTm9kZT1QLFAucHJvdG90eXBlLnJlZHVjZT1mdW5jdGlvbih0LGUsaSxyLG4pe3JldHVybiBuPW58fDAsdGhpcy5sZWZ0JiYoZT10aGlzLmxlZnQucmVkdWNlKHQsZSxpLHIsbisxKSksZT10LmNhbGwoaSxlLHRoaXMudmFsdWUsdGhpcy52YWx1ZSxyLHRoaXMsbiksdGhpcy5yaWdodCYmKGU9dGhpcy5yaWdodC5yZWR1Y2UodCxlLGkscixuKzEpKSxlfSxQLnByb3RvdHlwZS5yZWR1Y2VSaWdodD1mdW5jdGlvbih0LGUsaSxyLG4pe3JldHVybiBuPW58fDAsdGhpcy5yaWdodCYmKGU9dGhpcy5yaWdodC5yZWR1Y2UodCxlLGkscixuKzEpKSxlPXQuY2FsbChpLGUsdGhpcy52YWx1ZSx0aGlzLnZhbHVlLHIsdGhpcyxuKSx0aGlzLmxlZnQmJihlPXRoaXMubGVmdC5yZWR1Y2UodCxlLGkscixuKzEpKSxlfSxQLnByb3RvdHlwZS5Gdj1mdW5jdGlvbigpe3RoaXMubGVuZ3RoPTErKHRoaXMubGVmdD90aGlzLmxlZnQubGVuZ3RoOjApKyh0aGlzLnJpZ2h0P3RoaXMucmlnaHQubGVuZ3RoOjApLHRoaXMuaW5kZXg9dGhpcy5sZWZ0P3RoaXMubGVmdC5sZW5ndGg6MH0sUC5wcm90b3R5cGUuUXY9ZnVuY3Rpb24oKXt2YXIgdDtpZih0PTErKHRoaXMubGVmdD90aGlzLmxlZnQuUXYoKTowKSx0Kz10aGlzLnJpZ2h0P3RoaXMucmlnaHQuUXYoKTowLHRoaXMubGVuZ3RoIT09dCl0aHJvdyBFcnJvcihcIkludGVncml0eSBjaGVjayBmYWlsZWQ6IFwiK3RoaXMuc3VtbWFyeSgpKTtyZXR1cm4gdH0sUC5wcm90b3R5cGUuTXY9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO2lmKHQucmlnaHQpe2Zvcih0PXQucmlnaHQ7dC5sZWZ0Oyl0PXQubGVmdDtyZXR1cm4gdH19LFAucHJvdG90eXBlLnRnPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztpZih0LmxlZnQpe2Zvcih0PXQubGVmdDt0LnJpZ2h0Oyl0PXQucmlnaHQ7cmV0dXJuIHR9fSxQLnByb3RvdHlwZS5zdW1tYXJ5PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy52YWx1ZXx8XCItXCIsdD10KyhcIiA8XCIrdGhpcy5sZW5ndGgpO3JldHVybiB0aGlzLmxlZnR8fHRoaXMucmlnaHQ/XCIoXCIrdCtcIiBcIisodGhpcy5sZWZ0P3RoaXMubGVmdC5zdW1tYXJ5KCk6XCIoKVwiKStcIiwgXCIrKHRoaXMucmlnaHQ/dGhpcy5yaWdodC5zdW1tYXJ5KCk6XCIoKVwiKStcIilcIjpcIihcIit0K1wiKVwifSxQLnByb3RvdHlwZS5sb2c9ZnVuY3Rpb24odCxlLGkscil7dmFyIG4sbz10aGlzO249dGhpcy5sZWZ0JiZ0aGlzLnJpZ2h0P3QuZGc6dGhpcy5sZWZ0P3Qud2c6dGhpcy5yaWdodD90LlRnOnQubWc7dmFyIHM7dGhpcy5sZWZ0JiZ0aGlzLmxlZnQubG9nKHQsZSxmdW5jdGlvbihlKXtzP3IodC5JZytcIiBcIitlKToocz0hMCxyKHQuU2crdC5tZytlKSl9LGZ1bmN0aW9uKHQpe3IoXCIgIFwiK3QpfSk7dmFyIGE7ZSh0aGlzLGZ1bmN0aW9uKGUpe2E/aSgoby5yaWdodD90LklnOlwiIFwiKStlKTooYT0hMCxpKG4rZSkpfSxmdW5jdGlvbihlKXtyKChvLmxlZnQ/dC5JZzpcIiBcIikrZSl9KTt2YXIgYzt0aGlzLnJpZ2h0JiZ0aGlzLnJpZ2h0LmxvZyh0LGUsZnVuY3Rpb24oZSl7Yz9pKFwiICBcIitlKTooYz0hMCxpKHQuYmcrdC5tZytlKSl9LGZ1bmN0aW9uKGUpe2kodC5JZytcIiBcIitlKX0pfSxBLnByb3RvdHlwZS5uZXh0PWZ1bmN0aW9uKCl7dmFyIHQ7aWYodD10aGlzLkxmP3RoaXMuc2V0Lmp2KHRoaXMuTGYudmFsdWUpOnRoaXMuc2V0LkR2KCksIXQpdGhyb3cgU3RvcEl0ZXJhdGlvbjtpZih2b2lkIDAhPT10aGlzLmVuZCYmMDw9dGhpcy5zZXQuJGYodC52YWx1ZSx0aGlzLmVuZCkpdGhyb3cgU3RvcEl0ZXJhdGlvbjtyZXR1cm4gdGhpcy5MZj10LHQudmFsdWV9LFJlLmVnJiYoUmU9UmUuZWcpO3ZhciBBZT17fSxOZT1SZSx4ZT14LEJlPUV0LEZlPVg7QWUuZWc9TixPYmplY3QuYWRkRWFjaChOLnByb3RvdHlwZSx4ZS5wcm90b3R5cGUpLE9iamVjdC5hZGRFYWNoKE4ucHJvdG90eXBlLEJlLnByb3RvdHlwZSksT2JqZWN0LmFkZEVhY2goTi5wcm90b3R5cGUsRmUucHJvdG90eXBlKSxOLnByb3RvdHlwZS5uZz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodCx0aGlzLk1mLHRoaXMuJGYsdGhpcy5jb250ZW50KX0sTi5wcm90b3R5cGUubG9nPWZ1bmN0aW9uKHQsZSl7ZT1lfHx0aGlzLnN0cmluZ2lmeSx0aGlzLlZmLmxvZyh0LGUpfSxOLnByb3RvdHlwZS5xdj1mdW5jdGlvbih0LGUsaSxyKXtyPXJ8fHRoaXMuc3RyaW5naWZ5LHRoaXMuVmYucXYodCxlLGkscil9LE4ucHJvdG90eXBlLnN0cmluZ2lmeT1mdW5jdGlvbih0LGUsaSxyKXt0LmNhbGwoZSxyK1wiIFwiK2kudmFsdWUua2V5K1wiOiBcIitpLnZhbHVlLnZhbHVlKX0sQWUuZWcmJihBZT1BZS5lZyksdC5Kdj1tdCx0LlNldD1RdCx0Lk1hcD1zZSx0Lkt2PXVlLHQuV2Vha01hcD1NLHQuR3Y9UmUsdC5uaT1BZSx0Lnp2PSR0LHQuV3Y9ZWUsdC4kdj1kZSx0Lm9pPXZlLHQuWXY9VGUsdC5Ydj1OdCx0Llp2PUx0LHQudHk9Q3QsdC5JdGVyYXRvcj11dH0odGhpcyl9LGZ1bmN0aW9uKHQsZSl7dC50PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBGdW5jdGlvbn19LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gaSh0LGUsaSl7bnVsbCE9dCYmKFwibnVtYmVyXCI9PXR5cGVvZiB0P3RoaXMuZnJvbU51bWJlcih0LGUsaSk6bnVsbD09ZSYmXCJzdHJpbmdcIiE9dHlwZW9mIHQ/dGhpcy5leSh0LDI1Nik6dGhpcy5leSh0LGUpKX1mdW5jdGlvbiByKCl7cmV0dXJuIG5ldyBpKG51bGwpfWZ1bmN0aW9uIG4odCxlLGkscixuLG8pe2Zvcig7LS1vPj0wOyl7dmFyIHM9ZSp0aGlzW3QrK10raVtyXStuO249TWF0aC5mbG9vcihzLzY3MTA4ODY0KSxpW3IrK109NjcxMDg4NjMmc31yZXR1cm4gbn1mdW5jdGlvbiBvKHQsZSxpLHIsbixvKXtmb3IodmFyIHM9MzI3NjcmZSxhPWU+PjE1Oy0tbz49MDspe3ZhciBjPTMyNzY3JnRoaXNbdF0saD10aGlzW3QrK10+PjE1LHA9YSpjK2gqcztjPXMqYysoKDMyNzY3JnApPDwxNSkraVtyXSsoMTA3Mzc0MTgyMyZuKSxuPShjPj4+MzApKyhwPj4+MTUpK2EqaCsobj4+PjMwKSxpW3IrK109MTA3Mzc0MTgyMyZjfXJldHVybiBufWZ1bmN0aW9uIHModCxlLGkscixuLG8pe2Zvcih2YXIgcz0xNjM4MyZlLGE9ZT4+MTQ7LS1vPj0wOyl7dmFyIGM9MTYzODMmdGhpc1t0XSxoPXRoaXNbdCsrXT4+MTQscD1hKmMraCpzO2M9cypjKygoMTYzODMmcCk8PDE0KStpW3JdK24sbj0oYz4+MjgpKyhwPj4xNCkrYSpoLGlbcisrXT0yNjg0MzU0NTUmY31yZXR1cm4gbn1mdW5jdGlvbiBhKHQpe3JldHVybiBQdC5jaGFyQXQodCl9ZnVuY3Rpb24gYyh0LGUpe3ZhciBpPUF0W3QuY2hhckNvZGVBdChlKV07cmV0dXJuIG51bGw9PWk/LTE6aX1mdW5jdGlvbiBoKHQpe2Zvcih2YXIgZT10aGlzLml5LTE7ZT49MDstLWUpdFtlXT10aGlzW2VdO3QuaXk9dGhpcy5peSx0Lm55PXRoaXMubnl9ZnVuY3Rpb24gcCh0KXt0aGlzLml5PTEsdGhpcy5ueT10PDA/LTE6MCx0PjA/dGhpc1swXT10OnQ8LTE/dGhpc1swXT10K3RoaXMub3k6dGhpcy5peT0wfWZ1bmN0aW9uIHUodCl7dmFyIGU9cigpO3JldHVybiBlLnN5KHQpLGV9ZnVuY3Rpb24gbCh0LGUpe3ZhciByO2lmKDE2PT1lKXI9NDtlbHNlIGlmKDg9PWUpcj0zO2Vsc2UgaWYoMjU2PT1lKXI9ODtlbHNlIGlmKDI9PWUpcj0xO2Vsc2UgaWYoMzI9PWUpcj01O2Vsc2V7aWYoNCE9ZSlyZXR1cm4gdm9pZCB0aGlzLmZyb21SYWRpeCh0LGUpO3I9Mn10aGlzLml5PTAsdGhpcy5ueT0wO2Zvcih2YXIgbj10Lmxlbmd0aCxvPSExLHM9MDstLW4+PTA7KXt2YXIgYT04PT1yPzI1NSZ0W25dOmModCxuKTthPDA/XCItXCI9PXQuY2hhckF0KG4pJiYobz0hMCk6KG89ITEsMD09cz90aGlzW3RoaXMuaXkrK109YTpzK3I+dGhpcy5heT8odGhpc1t0aGlzLml5LTFdfD0oYSYoMTw8dGhpcy5heS1zKS0xKTw8cyx0aGlzW3RoaXMuaXkrK109YT4+dGhpcy5heS1zKTp0aGlzW3RoaXMuaXktMV18PWE8PHMscys9cixzPj10aGlzLmF5JiYocy09dGhpcy5heSkpfTg9PXImJjAhPSgxMjgmdFswXSkmJih0aGlzLm55PS0xLHM+MCYmKHRoaXNbdGhpcy5peS0xXXw9KDE8PHRoaXMuYXktcyktMTw8cykpLHRoaXMuaHkoKSxvJiZpLlpFUk8ucHkodGhpcyx0aGlzKX1mdW5jdGlvbiBkKCl7Zm9yKHZhciB0PXRoaXMubnkmdGhpcy51eTt0aGlzLml5PjAmJnRoaXNbdGhpcy5peS0xXT09dDspLS10aGlzLml5fWZ1bmN0aW9uIGYodCl7aWYodGhpcy5ueTwwKXJldHVyblwiLVwiK3RoaXMubHkoKS50b1N0cmluZyh0KTt2YXIgZTtpZigxNj09dCllPTQ7ZWxzZSBpZig4PT10KWU9MztlbHNlIGlmKDI9PXQpZT0xO2Vsc2UgaWYoMzI9PXQpZT01O2Vsc2V7aWYoNCE9dClyZXR1cm4gdGhpcy50b1JhZGl4KHQpO2U9Mn12YXIgaSxyPSgxPDxlKS0xLG49ITEsbz1cIlwiLHM9dGhpcy5peSxjPXRoaXMuYXktcyp0aGlzLmF5JWU7aWYocy0tID4wKWZvcihjPHRoaXMuYXkmJihpPXRoaXNbc10+PmMpPjAmJihuPSEwLG89YShpKSk7cz49MDspYzxlPyhpPSh0aGlzW3NdJigxPDxjKS0xKTw8ZS1jLGl8PXRoaXNbLS1zXT4+KGMrPXRoaXMuYXktZSkpOihpPXRoaXNbc10+PihjLT1lKSZyLGM8PTAmJihjKz10aGlzLmF5LC0tcykpLGk+MCYmKG49ITApLG4mJihvKz1hKGkpKTtyZXR1cm4gbj9vOlwiMFwifWZ1bmN0aW9uIGcoKXt2YXIgdD1yKCk7cmV0dXJuIGkuWkVSTy5weSh0aGlzLHQpLHR9ZnVuY3Rpb24gdigpe3JldHVybiB0aGlzLm55PDA/dGhpcy5seSgpOnRoaXN9ZnVuY3Rpb24geSh0KXt2YXIgZT10aGlzLm55LXQubnk7aWYoMCE9ZSlyZXR1cm4gZTt2YXIgaT10aGlzLml5O2lmKGU9aS10Lml5LDAhPWUpcmV0dXJuIHRoaXMubnk8MD8tZTplO2Zvcig7LS1pPj0wOylpZigwIT0oZT10aGlzW2ldLXRbaV0pKXJldHVybiBlO3JldHVybiAwfWZ1bmN0aW9uIG0odCl7dmFyIGUsaT0xO3JldHVybiAwIT0oZT10Pj4+MTYpJiYodD1lLGkrPTE2KSwwIT0oZT10Pj44KSYmKHQ9ZSxpKz04KSwwIT0oZT10Pj40KSYmKHQ9ZSxpKz00KSwwIT0oZT10Pj4yKSYmKHQ9ZSxpKz0yKSwwIT0oZT10Pj4xKSYmKHQ9ZSxpKz0xKSxpfWZ1bmN0aW9uIHcoKXtyZXR1cm4gdGhpcy5peTw9MD8wOnRoaXMuYXkqKHRoaXMuaXktMSkrbSh0aGlzW3RoaXMuaXktMV1edGhpcy5ueSZ0aGlzLnV5KX1mdW5jdGlvbiBUKHQsZSl7dmFyIGk7Zm9yKGk9dGhpcy5peS0xO2k+PTA7LS1pKWVbaSt0XT10aGlzW2ldO2ZvcihpPXQtMTtpPj0wOy0taSllW2ldPTA7ZS5peT10aGlzLml5K3QsZS5ueT10aGlzLm55fWZ1bmN0aW9uIFModCxlKXtmb3IodmFyIGk9dDtpPHRoaXMuaXk7KytpKWVbaS10XT10aGlzW2ldO2UuaXk9TWF0aC5tYXgodGhpcy5peS10LDApLGUubnk9dGhpcy5ueX1mdW5jdGlvbiBiKHQsZSl7dmFyIGkscj10JXRoaXMuYXksbj10aGlzLmF5LXIsbz0oMTw8biktMSxzPU1hdGguZmxvb3IodC90aGlzLmF5KSxhPXRoaXMubnk8PHImdGhpcy51eTtmb3IoaT10aGlzLml5LTE7aT49MDstLWkpZVtpK3MrMV09dGhpc1tpXT4+bnxhLGE9KHRoaXNbaV0mbyk8PHI7Zm9yKGk9cy0xO2k+PTA7LS1pKWVbaV09MDtlW3NdPWEsZS5peT10aGlzLml5K3MrMSxlLm55PXRoaXMubnksZS5oeSgpfWZ1bmN0aW9uIEUodCxlKXtlLm55PXRoaXMubnk7dmFyIGk9TWF0aC5mbG9vcih0L3RoaXMuYXkpO2lmKGk+PXRoaXMuaXkpcmV0dXJuIHZvaWQoZS5peT0wKTt2YXIgcj10JXRoaXMuYXksbj10aGlzLmF5LXIsbz0oMTw8ciktMTtlWzBdPXRoaXNbaV0+PnI7Zm9yKHZhciBzPWkrMTtzPHRoaXMuaXk7KytzKWVbcy1pLTFdfD0odGhpc1tzXSZvKTw8bixlW3MtaV09dGhpc1tzXT4+cjtyPjAmJihlW3RoaXMuaXktaS0xXXw9KHRoaXMubnkmbyk8PG4pLGUuaXk9dGhpcy5peS1pLGUuaHkoKX1mdW5jdGlvbiBJKHQsZSl7Zm9yKHZhciBpPTAscj0wLG49TWF0aC5taW4odC5peSx0aGlzLml5KTtpPG47KXIrPXRoaXNbaV0tdFtpXSxlW2krK109ciZ0aGlzLnV5LHI+Pj10aGlzLmF5O2lmKHQuaXk8dGhpcy5peSl7Zm9yKHItPXQubnk7aTx0aGlzLml5OylyKz10aGlzW2ldLGVbaSsrXT1yJnRoaXMudXkscj4+PXRoaXMuYXk7cis9dGhpcy5ueX1lbHNle2ZvcihyKz10aGlzLm55O2k8dC5peTspci09dFtpXSxlW2krK109ciZ0aGlzLnV5LHI+Pj10aGlzLmF5O3ItPXQubnl9ZS5ueT1yPDA/LTE6MCxyPC0xP2VbaSsrXT10aGlzLm95K3I6cj4wJiYoZVtpKytdPXIpLGUuaXk9aSxlLmh5KCl9ZnVuY3Rpb24gUih0LGUpe3ZhciByPXRoaXMuYWJzKCksbj10LmFicygpLG89ci5peTtmb3IoZS5peT1vK24uaXk7LS1vPj0wOyllW29dPTA7Zm9yKG89MDtvPG4uaXk7KytvKWVbbytyLml5XT1yLmd5KDAsbltvXSxlLG8sMCxyLml5KTtlLm55PTAsZS5oeSgpLHRoaXMubnkhPXQubnkmJmkuWkVSTy5weShlLGUpfWZ1bmN0aW9uIGsodCl7Zm9yKHZhciBlPXRoaXMuYWJzKCksaT10Lml5PTIqZS5peTstLWk+PTA7KXRbaV09MDtmb3IoaT0wO2k8ZS5peS0xOysraSl7dmFyIHI9ZS5neShpLGVbaV0sdCwyKmksMCwxKTsodFtpK2UuaXldKz1lLmd5KGkrMSwyKmVbaV0sdCwyKmkrMSxyLGUuaXktaS0xKSk+PWUub3kmJih0W2krZS5peV0tPWUub3ksdFtpK2UuaXkrMV09MSl9dC5peT4wJiYodFt0Lml5LTFdKz1lLmd5KGksZVtpXSx0LDIqaSwwLDEpKSx0Lm55PTAsdC5oeSgpfWZ1bmN0aW9uIEModCxlLG4pe3ZhciBvPXQuYWJzKCk7aWYoIShvLml5PD0wKSl7dmFyIHM9dGhpcy5hYnMoKTtpZihzLml5PG8uaXkpcmV0dXJuIG51bGwhPWUmJmUuc3koMCksdm9pZChudWxsIT1uJiZ0aGlzLnZ5KG4pKTtudWxsPT1uJiYobj1yKCkpO3ZhciBhPXIoKSxjPXRoaXMubnksaD10Lm55LHA9dGhpcy5heS1tKG9bby5peS0xXSk7cD4wPyhvLnl5KHAsYSkscy55eShwLG4pKTooby52eShhKSxzLnZ5KG4pKTt2YXIgdT1hLml5LGw9YVt1LTFdO2lmKDAhPWwpe3ZhciBkPWwqKDE8PHRoaXMubXkpKyh1PjE/YVt1LTJdPj50aGlzLnd5OjApLGY9dGhpcy5UeS9kLGc9KDE8PHRoaXMubXkpL2Qsdj0xPDx0aGlzLnd5LHk9bi5peSx3PXktdSxUPW51bGw9PWU/cigpOmU7Zm9yKGEuU3kodyxUKSxuLmJ5KFQpPj0wJiYobltuLml5KytdPTEsbi5weShULG4pKSxpLk9ORS5TeSh1LFQpLFQucHkoYSxhKTthLml5PHU7KWFbYS5peSsrXT0wO2Zvcig7LS13Pj0wOyl7dmFyIFM9blstLXldPT1sP3RoaXMudXk6TWF0aC5mbG9vcihuW3ldKmYrKG5beS0xXSt2KSpnKTtpZigoblt5XSs9YS5neSgwLFMsbix3LDAsdSkpPFMpZm9yKGEuU3kodyxUKSxuLnB5KFQsbik7blt5XTwtLVM7KW4ucHkoVCxuKX1udWxsIT1lJiYobi5FeSh1LGUpLGMhPWgmJmkuWkVSTy5weShlLGUpKSxuLml5PXUsbi5oeSgpLHA+MCYmbi5JeShwLG4pLGM8MCYmaS5aRVJPLnB5KG4sbil9fX1mdW5jdGlvbiBPKHQpe3ZhciBlPXIoKTtyZXR1cm4gdGhpcy5hYnMoKS5SeSh0LG51bGwsZSksdGhpcy5ueTwwJiZlLmJ5KGkuWkVSTyk+MCYmdC5weShlLGUpLGV9ZnVuY3Rpb24gUCh0KXt0aGlzLmk9dH1mdW5jdGlvbiBBKHQpe3JldHVybiB0Lm55PDB8fHQuYnkodGhpcy5pKT49MD90Lmt5KHRoaXMuaSk6dH1mdW5jdGlvbiBOKHQpe3JldHVybiB0fWZ1bmN0aW9uIHgodCl7dC5SeSh0aGlzLmksbnVsbCx0KX1mdW5jdGlvbiBCKHQsZSxpKXt0LkN5KGUsaSksdGhpcy5yZWR1Y2UoaSl9ZnVuY3Rpb24gRih0LGUpe3QuT3koZSksdGhpcy5yZWR1Y2UoZSl9ZnVuY3Rpb24gXygpe2lmKHRoaXMuaXk8MSlyZXR1cm4gMDt2YXIgdD10aGlzWzBdO2lmKDA9PSgxJnQpKXJldHVybiAwO3ZhciBlPTMmdDtyZXR1cm4gZT1lKigyLSgxNSZ0KSplKSYxNSxlPWUqKDItKDI1NSZ0KSplKSYyNTUsZT1lKigyLSgoNjU1MzUmdCkqZSY2NTUzNSkpJjY1NTM1LGU9ZSooMi10KmUldGhpcy5veSkldGhpcy5veSxlPjA/dGhpcy5veS1lOi1lfWZ1bmN0aW9uIEQodCl7dGhpcy5pPXQsdGhpcy5QeT10LkF5KCksdGhpcy5OeT0zMjc2NyZ0aGlzLlB5LHRoaXMueHk9dGhpcy5QeT4+MTUsdGhpcy5CeT0oMTw8dC5heS0xNSktMSx0aGlzLkZ5PTIqdC5peX1mdW5jdGlvbiBIKHQpe3ZhciBlPXIoKTtyZXR1cm4gdC5hYnMoKS5TeSh0aGlzLmkuaXksZSksZS5SeSh0aGlzLmksbnVsbCxlKSx0Lm55PDAmJmUuYnkoaS5aRVJPKT4wJiZ0aGlzLmkucHkoZSxlKSxlfWZ1bmN0aW9uIEwodCl7dmFyIGU9cigpO3JldHVybiB0LnZ5KGUpLHRoaXMucmVkdWNlKGUpLGV9ZnVuY3Rpb24gTSh0KXtmb3IoO3QuaXk8PXRoaXMuRnk7KXRbdC5peSsrXT0wO2Zvcih2YXIgZT0wO2U8dGhpcy5pLml5OysrZSl7dmFyIGk9MzI3NjcmdFtlXSxyPWkqdGhpcy5OeSsoKGkqdGhpcy54eSsodFtlXT4+MTUpKnRoaXMuTnkmdGhpcy5CeSk8PDE1KSZ0LnV5O2ZvcihpPWUrdGhpcy5pLml5LHRbaV0rPXRoaXMuaS5neSgwLHIsdCxlLDAsdGhpcy5pLml5KTt0W2ldPj10Lm95Oyl0W2ldLT10Lm95LHRbKytpXSsrfXQuaHkoKSx0LkV5KHRoaXMuaS5peSx0KSx0LmJ5KHRoaXMuaSk+PTAmJnQucHkodGhpcy5pLHQpfWZ1bmN0aW9uIGoodCxlKXt0Lk95KGUpLHRoaXMucmVkdWNlKGUpfWZ1bmN0aW9uIFUodCxlLGkpe3QuQ3koZSxpKSx0aGlzLnJlZHVjZShpKX1mdW5jdGlvbiBWKCl7cmV0dXJuIDA9PSh0aGlzLml5PjA/MSZ0aGlzWzBdOnRoaXMubnkpfWZ1bmN0aW9uIFEodCxlKXtpZih0PjQyOTQ5NjcyOTV8fHQ8MSlyZXR1cm4gaS5PTkU7dmFyIG49cigpLG89cigpLHM9ZS5feSh0aGlzKSxhPW0odCktMTtmb3Iocy52eShuKTstLWE+PTA7KWlmKGUuRHkobixvKSwodCYxPDxhKT4wKWUuSHkobyxzLG4pO2Vsc2V7dmFyIGM9bjtuPW8sbz1jfXJldHVybiBlLkx5KG4pfWZ1bmN0aW9uIHEodCxlKXt2YXIgaTtyZXR1cm4gaT10PDI1Nnx8ZS5NeSgpP25ldyBQKGUpOm5ldyBEKGUpLHRoaXMuZXhwKHQsaSl9ZnVuY3Rpb24gSih0KXt2YXIgZSxpLHIsbj1cIlwiLG89MDtmb3IoZT0wO2U8dC5sZW5ndGgmJnQuY2hhckF0KGUpIT14dDsrK2Upcj1OdC5pbmRleE9mKHQuY2hhckF0KGUpKSxyPDB8fCgwPT1vPyhuKz1hKHI+PjIpLGk9MyZyLG89MSk6MT09bz8obis9YShpPDwyfHI+PjQpLGk9MTUmcixvPTIpOjI9PW8/KG4rPWEoaSksbis9YShyPj4yKSxpPTMmcixvPTMpOihuKz1hKGk8PDJ8cj4+NCksbis9YSgxNSZyKSxvPTApKTtyZXR1cm4gMT09byYmKG4rPWEoaTw8MikpLG59ZnVuY3Rpb24gSyh0KXt2YXIgZSxpPUoodCkscj1uZXcgQXJyYXk7Zm9yKGU9MDsyKmU8aS5sZW5ndGg7KytlKXJbZV09cGFyc2VJbnQoaS5zdWJzdHJpbmcoMiplLDIqZSsyKSwxNik7cmV0dXJuIHJ9LyohIChjKSBUb20gV3UgfCBodHRwOi8vd3d3LWNzLXN0dWRlbnRzLnN0YW5mb3JkLmVkdS9+dGp3L2pzYm4vXG4gKi9cbiAgZnVuY3Rpb24gRyh0LGUpe3JldHVybiBuZXcgaSh0LGUpfWZ1bmN0aW9uIHoodCxlKXtpZihlPHQubGVuZ3RoKzExKXJldHVybiBhbGVydChcIk1lc3NhZ2UgdG9vIGxvbmcgZm9yIFJTQVwiKSxudWxsO2Zvcih2YXIgcj1uZXcgQXJyYXksbj10Lmxlbmd0aC0xO24+PTAmJmU+MDspe3ZhciBvPXQuY2hhckNvZGVBdChuLS0pO288MTI4P3JbLS1lXT1vOm8+MTI3JiZvPDIwNDg/KHJbLS1lXT02MyZvfDEyOCxyWy0tZV09bz4+NnwxOTIpOihyWy0tZV09NjMmb3wxMjgsclstLWVdPW8+PjYmNjN8MTI4LHJbLS1lXT1vPj4xMnwyMjQpfXJbLS1lXT0wO2Zvcih2YXIgcz1uZXcgU2VjdXJlUmFuZG9tLGE9bmV3IEFycmF5O2U+Mjspe2ZvcihhWzBdPTA7MD09YVswXTspcy5uZXh0Qnl0ZXMoYSk7clstLWVdPWFbMF19cmV0dXJuIHJbLS1lXT0yLHJbLS1lXT0wLG5ldyBpKHIpfWZ1bmN0aW9uIFcodCxlLGkpe2Zvcih2YXIgcj1cIlwiLG49MDtyLmxlbmd0aDxlOylyKz1pKFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLHQuY29uY2F0KFsoNDI3ODE5MDA4MCZuKT4+MjQsKDE2NzExNjgwJm4pPj4xNiwoNjUyODAmbik+PjgsMjU1Jm5dKSkpLG4rPTE7cmV0dXJuIHJ9ZnVuY3Rpb24gJCh0LGUscil7aWYodC5sZW5ndGgrMipCdCsyPmUpdGhyb3dcIk1lc3NhZ2UgdG9vIGxvbmcgZm9yIFJTQVwiO3ZhciBuLG89XCJcIjtmb3Iobj0wO248ZS10Lmxlbmd0aC0yKkJ0LTI7bis9MSlvKz1cIlxcMFwiO3ZhciBzPXJzdHJfc2hhMShcIlwiKStvK1wiXHUwMDAxXCIrdCxhPW5ldyBBcnJheShCdCk7KG5ldyBTZWN1cmVSYW5kb20pLm5leHRCeXRlcyhhKTt2YXIgYz1XKGEscy5sZW5ndGgscnx8cnN0cl9zaGExKSxoPVtdO2ZvcihuPTA7bjxzLmxlbmd0aDtuKz0xKWhbbl09cy5jaGFyQ29kZUF0KG4pXmMuY2hhckNvZGVBdChuKTt2YXIgcD1XKGgsYS5sZW5ndGgscnN0cl9zaGExKSx1PVswXTtmb3Iobj0wO248YS5sZW5ndGg7bis9MSl1W24rMV09YVtuXV5wLmNoYXJDb2RlQXQobik7cmV0dXJuIG5ldyBpKHUuY29uY2F0KGgpKX1mdW5jdGlvbiBZKCl7dGhpcy5uPW51bGwsdGhpcy5lPTAsdGhpcy5kPW51bGwsdGhpcy5vPW51bGwsdGhpcy5qeT1udWxsLHRoaXMuVXk9bnVsbCx0aGlzLlZ5PW51bGwsdGhpcy5ReT1udWxsfWZ1bmN0aW9uIFgodCxlKXt0aGlzLnF5PSEwLFwic3RyaW5nXCIhPXR5cGVvZiB0Pyh0aGlzLm49dCx0aGlzLmU9ZSk6bnVsbCE9dCYmbnVsbCE9ZSYmdC5sZW5ndGg+MCYmZS5sZW5ndGg+MD8odGhpcy5uPUcodCwxNiksdGhpcy5lPXBhcnNlSW50KGUsMTYpKTphbGVydChcIkludmFsaWQgUlNBIHB1YmxpYyBrZXlcIil9ZnVuY3Rpb24gWih0KXtyZXR1cm4gdC5KeSh0aGlzLmUsdGhpcy5uKX1mdW5jdGlvbiB0dCh0KXt2YXIgZT16KHQsdGhpcy5uLkt5KCkrNz4+Myk7aWYobnVsbD09ZSlyZXR1cm4gbnVsbDt2YXIgaT10aGlzLkd5KGUpO2lmKG51bGw9PWkpcmV0dXJuIG51bGw7dmFyIHI9aS50b1N0cmluZygxNik7cmV0dXJuIDA9PSgxJnIubGVuZ3RoKT9yOlwiMFwiK3J9ZnVuY3Rpb24gZXQodCxlKXt2YXIgaT0kKHQsdGhpcy5uLkt5KCkrNz4+MyxlKTtpZihudWxsPT1pKXJldHVybiBudWxsO3ZhciByPXRoaXMuR3koaSk7aWYobnVsbD09cilyZXR1cm4gbnVsbDt2YXIgbj1yLnRvU3RyaW5nKDE2KTtyZXR1cm4gMD09KDEmbi5sZW5ndGgpP246XCIwXCIrbn1mdW5jdGlvbiBpdCh0LGUpe2Zvcih2YXIgaT1cIlwiLHI9ZS80LXQubGVuZ3RoLG49MDtuPHI7bisrKWkrPVwiMFwiO3JldHVybiBpK3R9ZnVuY3Rpb24gcnQodCxlKXt2YXIgaT1mdW5jdGlvbih0KXtyZXR1cm4gS0pVUi5jcnlwdG8uV3kuenkodCxlKX0scj1pKHQpO3JldHVybiB0aGlzLiR5KHIsZSl9ZnVuY3Rpb24gbnQodCxlKXt2YXIgaT1LSlVSLmNyeXB0by5XeS5ZeSh0LGUsdGhpcy5uLkt5KCkpLHI9RyhpLDE2KSxuPXRoaXMuZG9Qcml2YXRlKHIpLG89bi50b1N0cmluZygxNik7cmV0dXJuIGl0KG8sdGhpcy5uLkt5KCkpfWZ1bmN0aW9uIG90KHQpe3JldHVybiBydC5jYWxsKHRoaXMsdCxcInNoYTFcIil9ZnVuY3Rpb24gc3QodCl7cmV0dXJuIHJ0LmNhbGwodGhpcyx0LFwic2hhMjU2XCIpfWZ1bmN0aW9uIGF0KHQsZSxpKXtmb3IodmFyIHI9XCJcIixuPTA7ci5sZW5ndGg8ZTspcis9aGV4dG9yc3RyKGkocnN0cnRvaGV4KHQrU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsWyg0Mjc4MTkwMDgwJm4pPj4yNCwoMTY3MTE2ODAmbik+PjE2LCg2NTI4MCZuKT4+OCwyNTUmbl0pKSkpLG4rPTE7cmV0dXJuIHJ9ZnVuY3Rpb24gY3QodCxlLGkpe3ZhciByPWZ1bmN0aW9uKHQpe3JldHVybiBLSlVSLmNyeXB0by5XeS5YeSh0LGUpfSxuPXIocnN0cnRvaGV4KHQpKTtyZXR1cm4gdm9pZCAwPT09aSYmKGk9LTEpLHRoaXMuWnkobixlLGkpfWZ1bmN0aW9uIGh0KHQsZSxyKXt2YXIgbixvPWhleHRvcnN0cih0KSxzPW8ubGVuZ3RoLGE9dGhpcy5uLkt5KCktMSxjPU1hdGguY2VpbChhLzgpLGg9ZnVuY3Rpb24odCl7cmV0dXJuIEtKVVIuY3J5cHRvLld5Llh5KHQsZSl9O2lmKHI9PT0tMXx8dm9pZCAwPT09cilyPXM7ZWxzZSBpZihyPT09LTIpcj1jLXMtMjtlbHNlIGlmKHI8LTIpdGhyb3dcImludmFsaWQgc2FsdCBsZW5ndGhcIjtpZihjPHMrcisyKXRocm93XCJkYXRhIHRvbyBsb25nXCI7dmFyIHA9XCJcIjtyPjAmJihwPW5ldyBBcnJheShyKSwobmV3IFNlY3VyZVJhbmRvbSkubmV4dEJ5dGVzKHApLHA9U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcscCkpO3ZhciB1PWhleHRvcnN0cihoKHJzdHJ0b2hleChcIlxcMFxcMFxcMFxcMFxcMFxcMFxcMFxcMFwiK28rcCkpKSxsPVtdO2ZvcihuPTA7bjxjLXItcy0yO24rPTEpbFtuXT0wO3ZhciBkPVN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLGwpK1wiXHUwMDAxXCIrcCxmPWF0KHUsZC5sZW5ndGgsaCksZz1bXTtmb3Iobj0wO248ZC5sZW5ndGg7bis9MSlnW25dPWQuY2hhckNvZGVBdChuKV5mLmNoYXJDb2RlQXQobik7dmFyIHY9NjUyODA+PjgqYy1hJjI1NTtmb3IoZ1swXSY9fnYsbj0wO248cztuKyspZy5wdXNoKHUuY2hhckNvZGVBdChuKSk7cmV0dXJuIGcucHVzaCgxODgpLGl0KHRoaXMuZG9Qcml2YXRlKG5ldyBpKGcpKS50b1N0cmluZygxNiksdGhpcy5uLkt5KCkpfWZ1bmN0aW9uIHB0KHQsZSxpKXt2YXIgcj1uZXcgWTtyLnFoKGUsaSk7dmFyIG49ci5HeSh0KTtyZXR1cm4gbn1mdW5jdGlvbiB1dCh0LGUsaSl7dmFyIHI9cHQodCxlLGkpLG49ci50b1N0cmluZygxNikucmVwbGFjZSgvXjFmKzAwLyxcIlwiKTtyZXR1cm4gbn1mdW5jdGlvbiBsdCh0KXtmb3IodmFyIGUgaW4gS0pVUi5jcnlwdG8uV3kudG0pe3ZhciBpPUtKVVIuY3J5cHRvLld5LnRtW2VdLHI9aS5sZW5ndGg7aWYodC5zdWJzdHJpbmcoMCxyKT09aSl7dmFyIG49W2UsdC5zdWJzdHJpbmcocildO3JldHVybiBufX1yZXR1cm5bXX1mdW5jdGlvbiBkdCh0LGUsaSxyKXt2YXIgbj11dChlLGksciksbz1sdChuKTtpZigwPT1vLmxlbmd0aClyZXR1cm4hMTt2YXIgcz1vWzBdLGE9b1sxXSxjPWZ1bmN0aW9uKHQpe3JldHVybiBLSlVSLmNyeXB0by5XeS56eSh0LHMpfSxoPWModCk7cmV0dXJuIGE9PWh9ZnVuY3Rpb24gZnQodCxlKXt2YXIgaT1HKHQsMTYpLHI9ZHQoZSxpLHRoaXMubi50b1N0cmluZygxNiksdGhpcy5lLnRvU3RyaW5nKDE2KSk7cmV0dXJuIHJ9ZnVuY3Rpb24gZ3QodCxlKXtlPWUucmVwbGFjZShGdCxcIlwiKSxlPWUucmVwbGFjZSgvWyBcXG5dKy9nLFwiXCIpO3ZhciBpPUcoZSwxNik7aWYoaS5LeSgpPnRoaXMubi5LeSgpKXJldHVybiAwO3ZhciByPXRoaXMuR3koaSksbj1yLnRvU3RyaW5nKDE2KS5yZXBsYWNlKC9eMWYrMDAvLFwiXCIpLG89bHQobik7aWYoMD09by5sZW5ndGgpcmV0dXJuITE7dmFyIHM9b1swXSxhPW9bMV0sYz1mdW5jdGlvbih0KXtyZXR1cm4gS0pVUi5jcnlwdG8uV3kuenkodCxzKX0saD1jKHQpO3JldHVybiBhPT1ofWZ1bmN0aW9uIHZ0KHQsZSl7ZT1lLnJlcGxhY2UoRnQsXCJcIiksZT1lLnJlcGxhY2UoL1sgXFxuXSsvZyxcIlwiKTt2YXIgaT1HKGUsMTYpO2lmKGkuS3koKT50aGlzLm4uS3koKSlyZXR1cm4gMDt2YXIgcj10aGlzLkd5KGkpLG49ci50b1N0cmluZygxNikucmVwbGFjZSgvXjFmKzAwLyxcIlwiKSxvPWx0KG4pO2lmKDA9PW8ubGVuZ3RoKXJldHVybiExO3ZhciBzPShvWzBdLG9bMV0pO3JldHVybiBzPT10fWZ1bmN0aW9uIHl0KHQsZSxpLHIpe3ZhciBuPWZ1bmN0aW9uKHQpe3JldHVybiBLSlVSLmNyeXB0by5XeS5YeSh0LGkpfSxvPW4ocnN0cnRvaGV4KHQpKTtyZXR1cm4gdm9pZCAwPT09ciYmKHI9LTEpLHRoaXMuZW0obyxlLGkscil9ZnVuY3Rpb24gbXQodCxlLHIsbil7dmFyIG89bmV3IGkoZSwxNik7aWYoby5LeSgpPnRoaXMubi5LeSgpKXJldHVybiExO3ZhciBzLGE9ZnVuY3Rpb24odCl7cmV0dXJuIEtKVVIuY3J5cHRvLld5Llh5KHQscil9LGM9aGV4dG9yc3RyKHQpLGg9Yy5sZW5ndGgscD10aGlzLm4uS3koKS0xLHU9TWF0aC5jZWlsKHAvOCk7aWYobj09PS0xfHx2b2lkIDA9PT1uKW49aDtlbHNlIGlmKG49PT0tMiluPXUtaC0yO2Vsc2UgaWYobjwtMil0aHJvd1wiaW52YWxpZCBzYWx0IGxlbmd0aFwiO2lmKHU8aCtuKzIpdGhyb3dcImRhdGEgdG9vIGxvbmdcIjt2YXIgbD10aGlzLkd5KG8pLnRvQnl0ZUFycmF5KCk7Zm9yKHM9MDtzPGwubGVuZ3RoO3MrPTEpbFtzXSY9MjU1O2Zvcig7bC5sZW5ndGg8dTspbC51bnNoaWZ0KDApO2lmKDE4OCE9PWxbdS0xXSl0aHJvd1wiZW5jb2RlZCBtZXNzYWdlIGRvZXMgbm90IGVuZCBpbiAweGJjXCI7bD1TdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZyxsKTt2YXIgZD1sLnN1YnN0cigwLHUtaC0xKSxmPWwuc3Vic3RyKGQubGVuZ3RoLGgpLGc9NjUyODA+PjgqdS1wJjI1NTtpZigwIT09KGQuY2hhckNvZGVBdCgwKSZnKSl0aHJvd1wiYml0cyBiZXlvbmQga2V5c2l6ZSBub3QgemVyb1wiO3ZhciB2PWF0KGYsZC5sZW5ndGgsYSkseT1bXTtmb3Iocz0wO3M8ZC5sZW5ndGg7cys9MSl5W3NdPWQuY2hhckNvZGVBdChzKV52LmNoYXJDb2RlQXQocyk7eVswXSY9fmc7dmFyIG09dS1oLW4tMjtmb3Iocz0wO3M8bTtzKz0xKWlmKDAhPT15W3NdKXRocm93XCJsZWZ0bW9zdCBvY3RldHMgbm90IHplcm9cIjtpZigxIT09eVttXSl0aHJvd1wiMHgwMSBtYXJrZXIgbm90IGZvdW5kXCI7cmV0dXJuIGY9PT1oZXh0b3JzdHIoYShyc3RydG9oZXgoXCJcXDBcXDBcXDBcXDBcXDBcXDBcXDBcXDBcIitjK1N0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLHkuc2xpY2UoLW4pKSkpKX12YXIgd3Q9e307d3QudXNlckFnZW50PSExO3ZhciBUdD17fTtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgU3R8fCFTdCl2YXIgU3Q9e307U3QuaW09ZnVuY3Rpb24oKXt2YXIgdCxlLGkscj1hcmd1bWVudHMsbj1udWxsO2Zvcih0PTA7dDxyLmxlbmd0aDt0Kz0xKWZvcihpPShcIlwiK3JbdF0pLnNwbGl0KFwiLlwiKSxuPVN0LGU9XCJZQUhPT1wiPT1pWzBdPzE6MDtlPGkubGVuZ3RoO2UrPTEpbltpW2VdXT1uW2lbZV1dfHx7fSxuPW5baVtlXV07cmV0dXJuIG59LFN0LmxvZz1mdW5jdGlvbih0LGUsaSl7dmFyIHI9U3Qud2lkZ2V0LkxvZ2dlcjtyZXR1cm4hKCFyfHwhci5sb2cpJiZyLmxvZyh0LGUsaSl9LFN0LnJlZ2lzdGVyPWZ1bmN0aW9uKHQsZSxpKXt2YXIgcixuLG8scyxhLGM9U3QuT3Qucm07Zm9yKGNbdF18fChjW3RdPXtubTpbXSxvbTpbXX0pLHI9Y1t0XSxuPWkudmVyc2lvbixvPWkucHAscz1TdC5PdC56aSxyLm5hbWU9dCxyLnZlcnNpb249bixyLnBwPW8sci5ubS5wdXNoKG4pLHIub20ucHVzaChvKSxyLnNtPWUsYT0wO2E8cy5sZW5ndGg7YSs9MSlzW2FdKHIpO2U/KGUuVkVSU0lPTj1uLGUuYW09byk6U3QubG9nKFwibWFpbkNsYXNzIGlzIHVuZGVmaW5lZCBmb3IgbW9kdWxlIFwiK3QsXCJ3YXJuXCIpfSxTdC5PdD1TdC5PdHx8e3JtOltdLHppOltdfSxTdC5PdC5nZXRWZXJzaW9uPWZ1bmN0aW9uKHQpe3JldHVybiBTdC5PdC5ybVt0XXx8bnVsbH0sU3QuT3QuY209ZnVuY3Rpb24odCl7dmFyIGUsaT1mdW5jdGlvbih0KXt2YXIgZT0wO3JldHVybiBwYXJzZUZsb2F0KHQucmVwbGFjZSgvXFwuL2csZnVuY3Rpb24oKXtyZXR1cm4gMT09ZSsrP1wiXCI6XCIuXCJ9KSl9LHI9d3Qsbj17aG06MCxvcGVyYTowLHBtOjAsdW06MCxjaHJvbWU6MCxsbTpudWxsLGRtOjAsZm06MCxnbTowLHZtOjAseW06bnVsbCxtbTowLHdtOjAsVG06ciYmci5jYWphVmVyc2lvbixTbTohMSxvczpudWxsfSxvPXR8fHd0JiZ3dC51c2VyQWdlbnQscz1UdCYmVHQubG9jYXRpb24sYT1zJiZzLmhyZWY7cmV0dXJuIG4uU209YSYmMD09PWEudG9Mb3dlckNhc2UoKS5pbmRleE9mKFwiaHR0cHNcIiksbyYmKC93aW5kb3dzfHdpbjMyL2kudGVzdChvKT9uLm9zPVwid2luZG93c1wiOi9tYWNpbnRvc2gvaS50ZXN0KG8pP24ub3M9XCJtYWNpbnRvc2hcIjovcmhpbm8vaS50ZXN0KG8pJiYobi5vcz1cInJoaW5vXCIpLC9LSFRNTC8udGVzdChvKSYmKG4udW09MSksZT1vLm1hdGNoKC9BcHBsZVdlYktpdFxcLyhbXlxcc10qKS8pLGUmJmVbMV0mJihuLnVtPWkoZVsxXSksLyBNb2JpbGVcXC8vLnRlc3Qobyk/KG4ubG09XCJBcHBsZVwiLGU9by5tYXRjaCgvT1MgKFteXFxzXSopLyksZSYmZVsxXSYmKGU9aShlWzFdLnJlcGxhY2UoXCJfXCIsXCIuXCIpKSksbi55bT1lLG4uZm09bi52bT1uLmdtPTAsZT1vLm1hdGNoKC9pUGFkfGlQb2R8aVBob25lLyksZSYmZVswXSYmKG5bZVswXS50b0xvd2VyQ2FzZSgpXT1uLnltKSk6KGU9by5tYXRjaCgvTm9raWFOW15cXC9dKnxBbmRyb2lkIFxcZFxcLlxcZHx3ZWJPU1xcL1xcZFxcLlxcZC8pLGUmJihuLmxtPWVbMF0pLC93ZWJPUy8udGVzdChvKSYmKG4ubG09XCJXZWJPU1wiLGU9by5tYXRjaCgvd2ViT1NcXC8oW15cXHNdKik7LyksZSYmZVsxXSYmKG4ud209aShlWzFdKSkpLC8gQW5kcm9pZC8udGVzdChvKSYmKG4ubG09XCJBbmRyb2lkXCIsZT1vLm1hdGNoKC9BbmRyb2lkIChbXlxcc10qKTsvKSxlJiZlWzFdJiYobi5tbT1pKGVbMV0pKSkpLGU9by5tYXRjaCgvQ2hyb21lXFwvKFteXFxzXSopLyksZSYmZVsxXT9uLmNocm9tZT1pKGVbMV0pOihlPW8ubWF0Y2goL0Fkb2JlQUlSXFwvKFteXFxzXSopLyksZSYmKG4uZG09ZVswXSkpKSxuLnVtfHwoZT1vLm1hdGNoKC9PcGVyYVtcXHNcXC9dKFteXFxzXSopLyksZSYmZVsxXT8obi5vcGVyYT1pKGVbMV0pLGU9by5tYXRjaCgvVmVyc2lvblxcLyhbXlxcc10qKS8pLGUmJmVbMV0mJihuLm9wZXJhPWkoZVsxXSkpLGU9by5tYXRjaCgvT3BlcmEgTWluaVteO10qLyksZSYmKG4ubG09ZVswXSkpOihlPW8ubWF0Y2goL01TSUVcXHMoW147XSopLyksZSYmZVsxXT9uLmhtPWkoZVsxXSk6KGU9by5tYXRjaCgvR2Vja29cXC8oW15cXHNdKikvKSxlJiYobi5wbT0xLGU9by5tYXRjaCgvcnY6KFteXFxzXFwpXSopLyksZSYmZVsxXSYmKG4ucG09aShlWzFdKSkpKSkpKSxufSxTdC5PdC50Zj1TdC5PdC5jbSgpLGZ1bmN0aW9uKCl7aWYoU3QuaW0oXCJ1dGlsXCIsXCJ3aWRnZXRcIixcImV4YW1wbGVcIiksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFlBSE9PX2NvbmZpZyl7dmFyIHQsZT1ZQUhPT19jb25maWcubGlzdGVuZXIsaT1TdC5PdC56aSxyPSEwO2lmKGUpe2Zvcih0PTA7dDxpLmxlbmd0aDt0KyspaWYoaVt0XT09ZSl7cj0hMTticmVha31yJiZpLnB1c2goZSl9fX0oKSxTdC5sYW5nPVN0Lmxhbmd8fHt9LGZ1bmN0aW9uKCl7dmFyIHQ9U3QubGFuZyxlPU9iamVjdC5wcm90b3R5cGUsaT1cIltvYmplY3QgQXJyYXldXCIscj1cIltvYmplY3QgRnVuY3Rpb25dXCIsbj1cIltvYmplY3QgT2JqZWN0XVwiLG89W10scz17Ym06XCImYW1wO1wiLEVtOlwiJmx0O1wiLEltOlwiJmd0O1wiLFJtOlwiJnF1b3Q7XCIsa206XCImI3gyNztcIixKcDpcIiYjeDJGO1wiLENtOlwiJiN4NjA7XCJ9LGE9W1widG9TdHJpbmdcIixcInZhbHVlT2ZcIl0sYz17aXNBcnJheTpmdW5jdGlvbih0KXtyZXR1cm4gZS50b1N0cmluZy5hcHBseSh0KT09PWl9LE9tOmZ1bmN0aW9uKHQpe3JldHVyblwiYm9vbGVhblwiPT10eXBlb2YgdH0sUG06ZnVuY3Rpb24odCl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgdHx8ZS50b1N0cmluZy5hcHBseSh0KT09PXJ9LEFtOmZ1bmN0aW9uKHQpe3JldHVybiBudWxsPT09dH0sTm06ZnVuY3Rpb24odCl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIHQmJmlzRmluaXRlKHQpfSxvdjpmdW5jdGlvbihlKXtyZXR1cm4gZSYmKFwib2JqZWN0XCI9PXR5cGVvZiBlfHx0LlBtKGUpKXx8ITF9LHhtOmZ1bmN0aW9uKHQpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiB0fSxCbTpmdW5jdGlvbih0KXtyZXR1cm5cInVuZGVmaW5lZFwiPT10eXBlb2YgdH0sRm06U3QuT3QudGYuaG0/ZnVuY3Rpb24oaSxyKXt2YXIgbixvLHM7Zm9yKG49MDtuPGEubGVuZ3RoO24rPTEpbz1hW25dLHM9cltvXSx0LlBtKHMpJiZzIT1lW29dJiYoaVtvXT1zKX06ZnVuY3Rpb24oKXt9LF9tOmZ1bmN0aW9uKHQpe3JldHVybiB0LnJlcGxhY2UoL1smPD5cIidcXC9gXS9nLGZ1bmN0aW9uKHQpe3JldHVybiBzW3RdfSl9LGV4dGVuZDpmdW5jdGlvbihpLHIsbil7aWYoIXJ8fCFpKXRocm93IG5ldyBFcnJvcihcImV4dGVuZCBmYWlsZWQsIHBsZWFzZSBjaGVjayB0aGF0IGFsbCBkZXBlbmRlbmNpZXMgYXJlIGluY2x1ZGVkLlwiKTt2YXIgbyxzPWZ1bmN0aW9uKCl7fTtpZihzLnByb3RvdHlwZT1yLnByb3RvdHlwZSxpLnByb3RvdHlwZT1uZXcgcyxpLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1pLGkuRG09ci5wcm90b3R5cGUsci5wcm90b3R5cGUuY29uc3RydWN0b3I9PWUuY29uc3RydWN0b3ImJihyLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1yKSxuKXtmb3IobyBpbiBuKXQuaGFzT3duUHJvcGVydHkobixvKSYmKGkucHJvdG90eXBlW29dPW5bb10pO3QuRm0oaS5wcm90b3R5cGUsbil9fSxIbTpmdW5jdGlvbihlLGkpe2lmKCFpfHwhZSl0aHJvdyBuZXcgRXJyb3IoXCJBYnNvcmIgZmFpbGVkLCB2ZXJpZnkgZGVwZW5kZW5jaWVzLlwiKTt2YXIgcixuLG89YXJndW1lbnRzLHM9b1syXTtpZihzJiZzIT09ITApZm9yKHI9MjtyPG8ubGVuZ3RoO3IrPTEpZVtvW3JdXT1pW29bcl1dO2Vsc2V7Zm9yKG4gaW4gaSkhcyYmbiBpbiBlfHwoZVtuXT1pW25dKTt0LkZtKGUsaSl9cmV0dXJuIGV9LExtOmZ1bmN0aW9uKGUsaSl7aWYoIWl8fCFlKXRocm93IG5ldyBFcnJvcihcIkF1Z21lbnQgZmFpbGVkLCB2ZXJpZnkgZGVwZW5kZW5jaWVzLlwiKTt2YXIgcixuPVtlLnByb3RvdHlwZSxpLnByb3RvdHlwZV07Zm9yKHI9MjtyPGFyZ3VtZW50cy5sZW5ndGg7cis9MSluLnB1c2goYXJndW1lbnRzW3JdKTtyZXR1cm4gdC5IbS5hcHBseSh0aGlzLG4pLGV9LGR1bXA6ZnVuY3Rpb24oZSxpKXt2YXIgcixuLG89W10scz1cInsuLi59XCIsYT1cImYoKXsuLi59XCIsYz1cIiwgXCIsaD1cIiA9PiBcIjtpZighdC5vdihlKSlyZXR1cm4gZStcIlwiO2lmKGUgaW5zdGFuY2VvZiBEYXRlfHxcIm5vZGVUeXBlXCJpbiBlJiZcInRhZ05hbWVcImluIGUpcmV0dXJuIGU7aWYodC5QbShlKSlyZXR1cm4gYTtpZihpPXQuTm0oaSk/aTozLHQuaXNBcnJheShlKSl7Zm9yKG8ucHVzaChcIltcIikscj0wLG49ZS5sZW5ndGg7cjxuO3IrPTEpdC5vdihlW3JdKT9vLnB1c2goaT4wP3QuZHVtcChlW3JdLGktMSk6cyk6by5wdXNoKGVbcl0pLG8ucHVzaChjKTtvLmxlbmd0aD4xJiZvLnBvcCgpLG8ucHVzaChcIl1cIil9ZWxzZXtvLnB1c2goXCJ7XCIpO2ZvcihyIGluIGUpdC5oYXNPd25Qcm9wZXJ0eShlLHIpJiYoby5wdXNoKHIraCksdC5vdihlW3JdKT9vLnB1c2goaT4wP3QuZHVtcChlW3JdLGktMSk6cyk6by5wdXNoKGVbcl0pLG8ucHVzaChjKSk7by5sZW5ndGg+MSYmby5wb3AoKSxvLnB1c2goXCJ9XCIpfXJldHVybiBvLmpvaW4oXCJcIil9LE1tOmZ1bmN0aW9uKGUsaSxyLG8pe2Zvcih2YXIgcyxhLGMsaCxwLHUsbCxkLGYsZz1bXSx2PWUubGVuZ3RoLHk9XCJkdW1wXCIsbT1cIiBcIix3PVwie1wiLFQ9XCJ9XCI7KHM9ZS5sYXN0SW5kZXhPZih3LHYpLCEoczwwKSkmJihhPWUuaW5kZXhPZihULHMpLCEocysxPmEpKTspbD1lLnN1YnN0cmluZyhzKzEsYSksaD1sLHU9bnVsbCxjPWguaW5kZXhPZihtKSxjPi0xJiYodT1oLnN1YnN0cmluZyhjKzEpLGg9aC5zdWJzdHJpbmcoMCxjKSkscD1pW2hdLHImJihwPXIoaCxwLHUpKSx0Lm92KHApP3QuaXNBcnJheShwKT9wPXQuZHVtcChwLHBhcnNlSW50KHUsMTApKToodT11fHxcIlwiLGQ9dS5pbmRleE9mKHkpLGQ+LTEmJih1PXUuc3Vic3RyaW5nKDQpKSxmPXAudG9TdHJpbmcoKSxwPWY9PT1ufHxkPi0xP3QuZHVtcChwLHBhcnNlSW50KHUsMTApKTpmKTp0LnhtKHApfHx0Lk5tKHApfHwocD1cIn4tXCIrZy5sZW5ndGgrXCItflwiLGdbZy5sZW5ndGhdPWwpLGU9ZS5zdWJzdHJpbmcoMCxzKStwK2Uuc3Vic3RyaW5nKGErMSksbz09PSExJiYodj1zLTEpO2ZvcihzPWcubGVuZ3RoLTE7cz49MDtzLT0xKWU9ZS5yZXBsYWNlKG5ldyBSZWdFeHAoXCJ+LVwiK3MrXCItflwiKSxcIntcIitnW3NdK1wifVwiLFwiZ1wiKTtyZXR1cm4gZX0sdHJpbTpmdW5jdGlvbih0KXt0cnl7cmV0dXJuIHQucmVwbGFjZSgvXlxccyt8XFxzKyQvZyxcIlwiKX1jYXRjaChlKXtyZXR1cm4gdH19LGptOmZ1bmN0aW9uKCl7dmFyIGUsaT17fSxyPWFyZ3VtZW50cyxuPXIubGVuZ3RoO2ZvcihlPTA7ZTxuO2UrPTEpdC5IbShpLHJbZV0sITApO3JldHVybiBpfSxVbTpmdW5jdGlvbihlLGkscixuLHMpe2U9ZXx8MCxpPWl8fHt9O3ZhciBhLGMsaD1yLHA9bjtpZih0LnhtKHIpJiYoaD1pW3JdKSwhaCl0aHJvdyBuZXcgVHlwZUVycm9yKFwibWV0aG9kIHVuZGVmaW5lZFwiKTtyZXR1cm4gdC5CbShuKXx8dC5pc0FycmF5KHApfHwocD1bbl0pLGE9ZnVuY3Rpb24oKXtoLmFwcGx5KGkscHx8byl9LGM9cz9zZXRJbnRlcnZhbChhLGUpOnNldFRpbWVvdXQoYSxlKSx7aW50ZXJ2YWw6cyxjYW5jZWw6ZnVuY3Rpb24oKXt0aGlzLmludGVydmFsP2NsZWFySW50ZXJ2YWwoYyk6Y2xlYXJUaW1lb3V0KGMpfX19LFZtOmZ1bmN0aW9uKGUpe3JldHVybiB0Lm92KGUpfHx0LnhtKGUpfHx0Lk5tKGUpfHx0Lk9tKGUpfX07dC5oYXNPd25Qcm9wZXJ0eT1lLmhhc093blByb3BlcnR5P2Z1bmN0aW9uKHQsZSl7cmV0dXJuIHQmJnQuaGFzT3duUHJvcGVydHkmJnQuaGFzT3duUHJvcGVydHkoZSl9OmZ1bmN0aW9uKGUsaSl7cmV0dXJuIXQuQm0oZVtpXSkmJmUuY29uc3RydWN0b3IucHJvdG90eXBlW2ldIT09ZVtpXX0sYy5IbSh0LGMsITApLFN0LnV0aWwuTGFuZz10LHQuUW09dC5MbSxTdC5RbT10LkxtLFN0LmV4dGVuZD10LmV4dGVuZH0oKSxTdC5yZWdpc3RlcihcInlhaG9vXCIsU3Qse3ZlcnNpb246XCIyLjkuMFwiLHBwOlwiMjgwMFwifSk7LyohIENyeXB0b0pTIHYzLjEuMiBjb3JlLWZpeC5qc1xuICAgKiBjb2RlLmdvb2dsZS5jb20vcC9jcnlwdG8tanNcbiAgICogKGMpIDIwMDktMjAxMyBieSBKZWZmIE1vdHQuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gICAqIGNvZGUuZ29vZ2xlLmNvbS9wL2NyeXB0by1qcy93aWtpL0xpY2Vuc2VcbiAgICogVEhJUyBJUyBGSVggb2YgJ2NvcmUuanMnIHRvIGZpeCBIbWFjIGlzc3VlLlxuICAgKiBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2NyeXB0by1qcy9pc3N1ZXMvZGV0YWlsP2lkPTg0XG4gICAqIGh0dHBzOi8vY3J5cHRvLWpzLmdvb2dsZWNvZGUuY29tL3N2bi1oaXN0b3J5L3I2NjcvYnJhbmNoZXMvMy54L3NyYy9jb3JlLmpzXG4gICAqL1xuICB2YXIgYnQ9YnR8fGZ1bmN0aW9uKHQsZSl7dmFyIGk9e30scj1pLnFtPXt9LG49ci5KbT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJue2V4dGVuZDpmdW5jdGlvbihlKXt0LnByb3RvdHlwZT10aGlzO3ZhciBpPW5ldyB0O3JldHVybiBlJiZpLkttKGUpLGkuaGFzT3duUHJvcGVydHkoXCJpbml0XCIpfHwoaS5pbml0PWZ1bmN0aW9uKCl7aS5HbS5pbml0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pLGkuaW5pdC5wcm90b3R5cGU9aSxpLkdtPXRoaXMsaX0sY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5leHRlbmQoKTtyZXR1cm4gdC5pbml0LmFwcGx5KHQsYXJndW1lbnRzKSx0fSxpbml0OmZ1bmN0aW9uKCl7fSxLbTpmdW5jdGlvbih0KXtmb3IodmFyIGUgaW4gdCl0Lmhhc093blByb3BlcnR5KGUpJiYodGhpc1tlXT10W2VdKTt0Lmhhc093blByb3BlcnR5KFwidG9TdHJpbmdcIikmJih0aGlzLnRvU3RyaW5nPXQudG9TdHJpbmcpfSxjbG9uZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmluaXQucHJvdG90eXBlLmV4dGVuZCh0aGlzKX19fSgpLG89ci56bT1uLmV4dGVuZCh7aW5pdDpmdW5jdGlvbih0LGkpe3Q9dGhpcy5XbT10fHxbXSxpIT1lP3RoaXMuJG09aTp0aGlzLiRtPTQqdC5sZW5ndGh9LHRvU3RyaW5nOmZ1bmN0aW9uKHQpe3JldHVybih0fHxhKS5zdHJpbmdpZnkodGhpcyl9LGNvbmNhdDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLldtLGk9dC5XbSxyPXRoaXMuJG0sbj10LiRtO2lmKHRoaXMuaHkoKSxyJTQpZm9yKHZhciBvPTA7bzxuO28rKyl7dmFyIHM9aVtvPj4+Ml0+Pj4yNC1vJTQqOCYyNTU7ZVtyK28+Pj4yXXw9czw8MjQtKHIrbyklNCo4fWVsc2UgZm9yKHZhciBvPTA7bzxuO28rPTQpZVtyK28+Pj4yXT1pW28+Pj4yXTtyZXR1cm4gdGhpcy4kbSs9bix0aGlzfSxoeTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuV20saT10aGlzLiRtO2VbaT4+PjJdJj00Mjk0OTY3Mjk1PDwzMi1pJTQqOCxlLmxlbmd0aD10LmNlaWwoaS80KX0sY2xvbmU6ZnVuY3Rpb24oKXt2YXIgdD1uLmNsb25lLmNhbGwodGhpcyk7cmV0dXJuIHQuV209dGhpcy5XbS5zbGljZSgwKSx0fSxyYW5kb206ZnVuY3Rpb24oZSl7Zm9yKHZhciBpPVtdLHI9MDtyPGU7cis9NClpLnB1c2goNDI5NDk2NzI5Nip0LnJhbmRvbSgpfDApO3JldHVybiBuZXcgby5pbml0KGksZSl9fSkscz1pLlltPXt9LGE9cy5YbT17c3RyaW5naWZ5OmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10LldtLGk9dC4kbSxyPVtdLG49MDtuPGk7bisrKXt2YXIgbz1lW24+Pj4yXT4+PjI0LW4lNCo4JjI1NTtyLnB1c2goKG8+Pj40KS50b1N0cmluZygxNikpLHIucHVzaCgoMTUmbykudG9TdHJpbmcoMTYpKX1yZXR1cm4gci5qb2luKFwiXCIpfSxwYXJzZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9dC5sZW5ndGgsaT1bXSxyPTA7cjxlO3IrPTIpaVtyPj4+M118PXBhcnNlSW50KHQuc3Vic3RyKHIsMiksMTYpPDwyNC1yJTgqNDtyZXR1cm4gbmV3IG8uaW5pdChpLGUvMil9fSxjPXMuWm09e3N0cmluZ2lmeTpmdW5jdGlvbih0KXtmb3IodmFyIGU9dC5XbSxpPXQuJG0scj1bXSxuPTA7bjxpO24rKyl7dmFyIG89ZVtuPj4+Ml0+Pj4yNC1uJTQqOCYyNTU7ci5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUobykpfXJldHVybiByLmpvaW4oXCJcIil9LHBhcnNlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10Lmxlbmd0aCxpPVtdLHI9MDtyPGU7cisrKWlbcj4+PjJdfD0oMjU1JnQuY2hhckNvZGVBdChyKSk8PDI0LXIlNCo4O3JldHVybiBuZXcgby5pbml0KGksZSl9fSxoPXMudHc9e3N0cmluZ2lmeTpmdW5jdGlvbih0KXt0cnl7cmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChlc2NhcGUoYy5zdHJpbmdpZnkodCkpKX1jYXRjaChlKXt0aHJvdyBuZXcgRXJyb3IoXCJNYWxmb3JtZWQgVVRGLTggZGF0YVwiKX19LHBhcnNlOmZ1bmN0aW9uKHQpe3JldHVybiBjLnBhcnNlKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudCh0KSkpfX0scD1yLmV3PW4uZXh0ZW5kKHtyZXNldDpmdW5jdGlvbigpe3RoaXMuaXc9bmV3IG8uaW5pdCx0aGlzLnJ3PTB9LG53OmZ1bmN0aW9uKHQpe1wic3RyaW5nXCI9PXR5cGVvZiB0JiYodD1oLnBhcnNlKHQpKSx0aGlzLml3LmNvbmNhdCh0KSx0aGlzLnJ3Kz10LiRtfSxvdzpmdW5jdGlvbihlKXt2YXIgaT10aGlzLml3LHI9aS5XbSxuPWkuJG0scz10aGlzLnN3LGE9NCpzLGM9bi9hO2M9ZT90LmNlaWwoYyk6dC5tYXgoKDB8YyktdGhpcy5hdywwKTt2YXIgaD1jKnMscD10Lm1pbig0Kmgsbik7aWYoaCl7Zm9yKHZhciB1PTA7dTxoO3UrPXMpdGhpcy5jdyhyLHUpO3ZhciBsPXIuc3BsaWNlKDAsaCk7aS4kbS09cH1yZXR1cm4gbmV3IG8uaW5pdChsLHApfSxjbG9uZTpmdW5jdGlvbigpe3ZhciB0PW4uY2xvbmUuY2FsbCh0aGlzKTtyZXR1cm4gdC5pdz10aGlzLml3LmNsb25lKCksdH0sYXc6MH0pLHU9KHIuaHc9cC5leHRlbmQoe3B3Om4uZXh0ZW5kKCksaW5pdDpmdW5jdGlvbih0KXt0aGlzLnB3PXRoaXMucHcuZXh0ZW5kKHQpLHRoaXMucmVzZXQoKX0scmVzZXQ6ZnVuY3Rpb24oKXtwLnJlc2V0LmNhbGwodGhpcyksdGhpcy51dygpfSx1cGRhdGU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubncodCksdGhpcy5vdygpLHRoaXN9LGx3OmZ1bmN0aW9uKHQpe3QmJnRoaXMubncodCk7dmFyIGU9dGhpcy5kdygpO3JldHVybiBlfSxzdzoxNixmdzpmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSxpKXtyZXR1cm4gbmV3IHQuaW5pdChpKS5sdyhlKX19LGd3OmZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlLGkpe3JldHVybiBuZXcgdS5ITUFDLmluaXQodCxpKS5sdyhlKX19fSksaS52dz17fSk7cmV0dXJuIGl9KE1hdGgpOyFmdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQsZSxpLHIsbixvLHMpe3JldHVybiB0PXQrKGUmaXx+ZSZyKStuK3MsKHQ8PG98dD4+PjMyLW8pK2V9ZnVuY3Rpb24gaSh0LGUsaSxyLG4sbyxzKXtyZXR1cm4gdD10KyhlJnJ8aSZ+cikrbitzLCh0PDxvfHQ+Pj4zMi1vKStlfWZ1bmN0aW9uIHIodCxlLGkscixuLG8scyl7cmV0dXJuIHQ9dCsoZV5pXnIpK24rcywodDw8b3x0Pj4+MzItbykrZX1mdW5jdGlvbiBuKHQsZSxpLHIsbixvLHMpe3JldHVybiB0PXQrKGleKGV8fnIpKStuK3MsKHQ8PG98dD4+PjMyLW8pK2V9Zm9yKHZhciBvPWJ0LHM9by5xbSxhPXMuem0sYz1zLmh3LHM9by52dyxoPVtdLHA9MDs2ND5wO3ArKyloW3BdPTQyOTQ5NjcyOTYqdC5hYnModC5zaW4ocCsxKSl8MDtzPXMueXc9Yy5leHRlbmQoe3V3OmZ1bmN0aW9uKCl7dGhpcy5tdz1uZXcgYS5pbml0KFsxNzMyNTg0MTkzLDQwMjMyMzM0MTcsMjU2MjM4MzEwMiwyNzE3MzM4NzhdKX0sY3c6ZnVuY3Rpb24odCxvKXtmb3IodmFyIHM9MDsxNj5zO3MrKyl7dmFyIGE9bytzLGM9dFthXTt0W2FdPTE2NzExOTM1JihjPDw4fGM+Pj4yNCl8NDI3ODI1NTM2MCYoYzw8MjR8Yz4+PjgpfXZhciBzPXRoaXMubXcuV20sYT10W28rMF0sYz10W28rMV0scD10W28rMl0sdT10W28rM10sbD10W28rNF0sZD10W28rNV0sZj10W28rNl0sZz10W28rN10sdj10W28rOF0seT10W28rOV0sbT10W28rMTBdLHc9dFtvKzExXSxUPXRbbysxMl0sUz10W28rMTNdLGI9dFtvKzE0XSxFPXRbbysxNV0sST1zWzBdLFI9c1sxXSxrPXNbMl0sQz1zWzNdLEk9ZShJLFIsayxDLGEsNyxoWzBdKSxDPWUoQyxJLFIsayxjLDEyLGhbMV0pLGs9ZShrLEMsSSxSLHAsMTcsaFsyXSksUj1lKFIsayxDLEksdSwyMixoWzNdKSxJPWUoSSxSLGssQyxsLDcsaFs0XSksQz1lKEMsSSxSLGssZCwxMixoWzVdKSxrPWUoayxDLEksUixmLDE3LGhbNl0pLFI9ZShSLGssQyxJLGcsMjIsaFs3XSksST1lKEksUixrLEMsdiw3LGhbOF0pLEM9ZShDLEksUixrLHksMTIsaFs5XSksaz1lKGssQyxJLFIsbSwxNyxoWzEwXSksUj1lKFIsayxDLEksdywyMixoWzExXSksST1lKEksUixrLEMsVCw3LGhbMTJdKSxDPWUoQyxJLFIsayxTLDEyLGhbMTNdKSxrPWUoayxDLEksUixiLDE3LGhbMTRdKSxSPWUoUixrLEMsSSxFLDIyLGhbMTVdKSxJPWkoSSxSLGssQyxjLDUsaFsxNl0pLEM9aShDLEksUixrLGYsOSxoWzE3XSksaz1pKGssQyxJLFIsdywxNCxoWzE4XSksUj1pKFIsayxDLEksYSwyMCxoWzE5XSksST1pKEksUixrLEMsZCw1LGhbMjBdKSxDPWkoQyxJLFIsayxtLDksaFsyMV0pLGs9aShrLEMsSSxSLEUsMTQsaFsyMl0pLFI9aShSLGssQyxJLGwsMjAsaFsyM10pLEk9aShJLFIsayxDLHksNSxoWzI0XSksQz1pKEMsSSxSLGssYiw5LGhbMjVdKSxrPWkoayxDLEksUix1LDE0LGhbMjZdKSxSPWkoUixrLEMsSSx2LDIwLGhbMjddKSxJPWkoSSxSLGssQyxTLDUsaFsyOF0pLEM9aShDLEksUixrLHAsOSxoWzI5XSksaz1pKGssQyxJLFIsZywxNCxoWzMwXSksUj1pKFIsayxDLEksVCwyMCxoWzMxXSksST1yKEksUixrLEMsZCw0LGhbMzJdKSxDPXIoQyxJLFIsayx2LDExLGhbMzNdKSxrPXIoayxDLEksUix3LDE2LGhbMzRdKSxSPXIoUixrLEMsSSxiLDIzLGhbMzVdKSxJPXIoSSxSLGssQyxjLDQsaFszNl0pLEM9cihDLEksUixrLGwsMTEsaFszN10pLGs9cihrLEMsSSxSLGcsMTYsaFszOF0pLFI9cihSLGssQyxJLG0sMjMsaFszOV0pLEk9cihJLFIsayxDLFMsNCxoWzQwXSksQz1yKEMsSSxSLGssYSwxMSxoWzQxXSksaz1yKGssQyxJLFIsdSwxNixoWzQyXSksUj1yKFIsayxDLEksZiwyMyxoWzQzXSksST1yKEksUixrLEMseSw0LGhbNDRdKSxDPXIoQyxJLFIsayxULDExLGhbNDVdKSxrPXIoayxDLEksUixFLDE2LGhbNDZdKSxSPXIoUixrLEMsSSxwLDIzLGhbNDddKSxJPW4oSSxSLGssQyxhLDYsaFs0OF0pLEM9bihDLEksUixrLGcsMTAsaFs0OV0pLGs9bihrLEMsSSxSLGIsMTUsaFs1MF0pLFI9bihSLGssQyxJLGQsMjEsaFs1MV0pLEk9bihJLFIsayxDLFQsNixoWzUyXSksQz1uKEMsSSxSLGssdSwxMCxoWzUzXSksaz1uKGssQyxJLFIsbSwxNSxoWzU0XSksUj1uKFIsayxDLEksYywyMSxoWzU1XSksST1uKEksUixrLEMsdiw2LGhbNTZdKSxDPW4oQyxJLFIsayxFLDEwLGhbNTddKSxrPW4oayxDLEksUixmLDE1LGhbNThdKSxSPW4oUixrLEMsSSxTLDIxLGhbNTldKSxJPW4oSSxSLGssQyxsLDYsaFs2MF0pLEM9bihDLEksUixrLHcsMTAsaFs2MV0pLGs9bihrLEMsSSxSLHAsMTUsaFs2Ml0pLFI9bihSLGssQyxJLHksMjEsaFs2M10pO3NbMF09c1swXStJfDAsc1sxXT1zWzFdK1J8MCxzWzJdPXNbMl0ra3wwLHNbM109c1szXStDfDB9LGR3OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5pdyxpPWUuV20scj04KnRoaXMucncsbj04KmUuJG07aVtuPj4+NV18PTEyODw8MjQtbiUzMjt2YXIgbz10LmZsb29yKHIvNDI5NDk2NzI5Nik7Zm9yKGlbKG4rNjQ+Pj45PDw0KSsxNV09MTY3MTE5MzUmKG88PDh8bz4+PjI0KXw0Mjc4MjU1MzYwJihvPDwyNHxvPj4+OCksaVsobis2ND4+Pjk8PDQpKzE0XT0xNjcxMTkzNSYocjw8OHxyPj4+MjQpfDQyNzgyNTUzNjAmKHI8PDI0fHI+Pj44KSxlLiRtPTQqKGkubGVuZ3RoKzEpLHRoaXMub3coKSxlPXRoaXMubXcsaT1lLldtLHI9MDs0PnI7cisrKW49aVtyXSxpW3JdPTE2NzExOTM1JihuPDw4fG4+Pj4yNCl8NDI3ODI1NTM2MCYobjw8MjR8bj4+PjgpO3JldHVybiBlfSxjbG9uZTpmdW5jdGlvbigpe3ZhciB0PWMuY2xvbmUuY2FsbCh0aGlzKTtyZXR1cm4gdC5tdz10aGlzLm13LmNsb25lKCksdH19KSxvLnl3PWMuZncocyksby53dz1jLmd3KHMpfShNYXRoKSxmdW5jdGlvbigpe3ZhciB0PWJ0LGU9dC5xbSxpPWUuem0scj1lLmh3LG49W10sZT10LnZ3LlR3PXIuZXh0ZW5kKHt1dzpmdW5jdGlvbigpe3RoaXMubXc9bmV3IGkuaW5pdChbMTczMjU4NDE5Myw0MDIzMjMzNDE3LDI1NjIzODMxMDIsMjcxNzMzODc4LDMyODUzNzc1MjBdKX0sY3c6ZnVuY3Rpb24odCxlKXtmb3IodmFyIGk9dGhpcy5tdy5XbSxyPWlbMF0sbz1pWzFdLHM9aVsyXSxhPWlbM10sYz1pWzRdLGg9MDs4MD5oO2grKyl7aWYoMTY+aCluW2hdPTB8dFtlK2hdO2Vsc2V7dmFyIHA9bltoLTNdXm5baC04XV5uW2gtMTRdXm5baC0xNl07bltoXT1wPDwxfHA+Pj4zMX1wPShyPDw1fHI+Pj4yNykrYytuW2hdLHA9MjA+aD9wKygobyZzfH5vJmEpKzE1MTg1MDAyNDkpOjQwPmg/cCsoKG9ec15hKSsxODU5Nzc1MzkzKTo2MD5oP3ArKChvJnN8byZhfHMmYSktMTg5NDAwNzU4OCk6cCsoKG9ec15hKS04OTk0OTc1MTQpLGM9YSxhPXMscz1vPDwzMHxvPj4+MixvPXIscj1wfWlbMF09aVswXStyfDAsaVsxXT1pWzFdK298MCxpWzJdPWlbMl0rc3wwLGlbM109aVszXSthfDAsaVs0XT1pWzRdK2N8MH0sZHc6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLml3LGU9dC5XbSxpPTgqdGhpcy5ydyxyPTgqdC4kbTtyZXR1cm4gZVtyPj4+NV18PTEyODw8MjQtciUzMixlWyhyKzY0Pj4+OTw8NCkrMTRdPU1hdGguZmxvb3IoaS80Mjk0OTY3Mjk2KSxlWyhyKzY0Pj4+OTw8NCkrMTVdPWksdC4kbT00KmUubGVuZ3RoLHRoaXMub3coKSx0aGlzLm13fSxjbG9uZTpmdW5jdGlvbigpe3ZhciB0PXIuY2xvbmUuY2FsbCh0aGlzKTtyZXR1cm4gdC5tdz10aGlzLm13LmNsb25lKCksdH19KTt0LlR3PXIuZncoZSksdC5Tdz1yLmd3KGUpfSgpOy8qISAoYykgVG9tIFd1IHwgaHR0cDovL3d3dy1jcy1zdHVkZW50cy5zdGFuZm9yZC5lZHUvfnRqdy9qc2JuLyAqL1xuICB2YXIgRXQsSXQ9MHhkZWFkYmVlZmNhZmUsUnQ9MTU3MTUwNzA9PSgxNjc3NzIxNSZJdCk7UnQmJlwiTWljcm9zb2Z0IEludGVybmV0IEV4cGxvcmVyXCI9PXd0LmFwcE5hbWU/KGkucHJvdG90eXBlLmd5PW8sRXQ9MzApOlJ0JiZcIk5ldHNjYXBlXCIhPXd0LmFwcE5hbWU/KGkucHJvdG90eXBlLmd5PW4sRXQ9MjYpOihpLnByb3RvdHlwZS5neT1zLEV0PTI4KSxpLnByb3RvdHlwZS5heT1FdCxpLnByb3RvdHlwZS51eT0oMTw8RXQpLTEsaS5wcm90b3R5cGUub3k9MTw8RXQ7dmFyIGt0PTUyO2kucHJvdG90eXBlLlR5PU1hdGgucG93KDIsa3QpLGkucHJvdG90eXBlLm15PWt0LUV0LGkucHJvdG90eXBlLnd5PTIqRXQta3Q7dmFyIEN0LE90LFB0PVwiMDEyMzQ1Njc4OWFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6XCIsQXQ9bmV3IEFycmF5O2ZvcihDdD1cIjBcIi5jaGFyQ29kZUF0KDApLE90PTA7T3Q8PTk7KytPdClBdFtDdCsrXT1PdDtmb3IoQ3Q9XCJhXCIuY2hhckNvZGVBdCgwKSxPdD0xMDtPdDwzNjsrK090KUF0W0N0KytdPU90O2ZvcihDdD1cIkFcIi5jaGFyQ29kZUF0KDApLE90PTEwO090PDM2OysrT3QpQXRbQ3QrK109T3Q7UC5wcm90b3R5cGUuX3k9QSxQLnByb3RvdHlwZS5MeT1OLFAucHJvdG90eXBlLnJlZHVjZT14LFAucHJvdG90eXBlLkh5PUIsUC5wcm90b3R5cGUuRHk9RixELnByb3RvdHlwZS5feT1ILEQucHJvdG90eXBlLkx5PUwsRC5wcm90b3R5cGUucmVkdWNlPU0sRC5wcm90b3R5cGUuSHk9VSxELnByb3RvdHlwZS5EeT1qLGkucHJvdG90eXBlLnZ5PWgsaS5wcm90b3R5cGUuc3k9cCxpLnByb3RvdHlwZS5leT1sLGkucHJvdG90eXBlLmh5PWQsaS5wcm90b3R5cGUuU3k9VCxpLnByb3RvdHlwZS5FeT1TLGkucHJvdG90eXBlLnl5PWIsaS5wcm90b3R5cGUuSXk9RSxpLnByb3RvdHlwZS5weT1JLGkucHJvdG90eXBlLkN5PVIsaS5wcm90b3R5cGUuT3k9ayxpLnByb3RvdHlwZS5SeT1DLGkucHJvdG90eXBlLkF5PV8saS5wcm90b3R5cGUuTXk9VixpLnByb3RvdHlwZS5leHA9USxpLnByb3RvdHlwZS50b1N0cmluZz1mLGkucHJvdG90eXBlLmx5PWcsaS5wcm90b3R5cGUuYWJzPXYsaS5wcm90b3R5cGUuYnk9eSxpLnByb3RvdHlwZS5LeT13LGkucHJvdG90eXBlLmt5PU8saS5wcm90b3R5cGUuSnk9cSxpLlpFUk89dSgwKSxpLk9ORT11KDEpLC8qISBhc24xLTEuMC45LmpzIChjKSAyMDEzLTIwMTUgS2VuamkgVXJ1c2hpbWEgfCBranVyLmdpdGh1Yi5jb20vanNyc2FzaWduL2xpY2Vuc2VcbiAgICovXG4gIFwidW5kZWZpbmVkXCIhPXR5cGVvZiBLSlVSJiZLSlVSfHwoS0pVUj17fSksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIEtKVVIuYncmJktKVVIuYnd8fChLSlVSLmJ3PXt9KSxLSlVSLmJ3LkV3PW5ldyBmdW5jdGlvbigpe3RoaXMuSXc9ZnVuY3Rpb24odCl7dmFyIGU9dC50b1N0cmluZygxNik7cmV0dXJuIGUubGVuZ3RoJTI9PTEmJihlPVwiMFwiK2UpLGV9LHRoaXMuUnc9ZnVuY3Rpb24odCl7dmFyIGU9dC50b1N0cmluZygxNik7aWYoXCItXCIhPWUuc3Vic3RyKDAsMSkpZS5sZW5ndGglMj09MT9lPVwiMFwiK2U6ZS5tYXRjaCgvXlswLTddLyl8fChlPVwiMDBcIitlKTtlbHNle3ZhciByPWUuc3Vic3RyKDEpLG49ci5sZW5ndGg7biUyPT0xP24rPTE6ZS5tYXRjaCgvXlswLTddLyl8fChuKz0yKTtmb3IodmFyIG89XCJcIixzPTA7czxuO3MrKylvKz1cImZcIjt2YXIgYT1uZXcgaShvLDE2KSxjPWEueG9yKHQpLmFkZChpLk9ORSk7ZT1jLnRvU3RyaW5nKDE2KS5yZXBsYWNlKC9eLS8sXCJcIil9cmV0dXJuIGV9LHRoaXMua3c9ZnVuY3Rpb24odCxlKXt2YXIgaT0oS0pVUi5idyxidC5ZbS5YbS5wYXJzZSh0KSkscj1idC5ZbS5CYXNlNjQuc3RyaW5naWZ5KGkpLG49ci5yZXBsYWNlKC8oLns2NH0pL2csXCIkMVxcclxcblwiKTtyZXR1cm4gbj1uLnJlcGxhY2UoL1xcclxcbiQvLFwiXCIpLFwiLS0tLS1CRUdJTiBcIitlK1wiLS0tLS1cXHJcXG5cIituK1wiXFxyXFxuLS0tLS1FTkQgXCIrZStcIi0tLS0tXFxyXFxuXCJ9LHRoaXMuQ3c9ZnVuY3Rpb24odCl7dmFyIGU9S0pVUi5idyxpPU9iamVjdC5rZXlzKHQpO2lmKDEhPWkubGVuZ3RoKXRocm93XCJrZXkgb2YgcGFyYW0gc2hhbGwgYmUgb25seSBvbmUuXCI7dmFyIHI9aVswXTtpZihcIjpib29sOmludDpiaXRzdHI6b2N0c3RyOm51bGw6b2lkOmVudW06dXRmOHN0cjpudW1zdHI6cHJuc3RyOnRlbHN0cjppYTVzdHI6dXRjdGltZTpnZW50aW1lOnNlcTpzZXQ6dGFnOlwiLmluZGV4T2YoXCI6XCIrcitcIjpcIik9PS0xKXRocm93XCJ1bmRlZmluZWQga2V5OiBcIityO2lmKFwiYm9vbFwiPT1yKXJldHVybiBuZXcgZS5Pdyh0W3JdKTtpZihcImludFwiPT1yKXJldHVybiBuZXcgZS5Qdyh0W3JdKTtpZihcImJpdHN0clwiPT1yKXJldHVybiBuZXcgZS5Bdyh0W3JdKTtpZihcIm9jdHN0clwiPT1yKXJldHVybiBuZXcgZS5Odyh0W3JdKTtpZihcIm51bGxcIj09cilyZXR1cm4gbmV3IGUueHcodFtyXSk7aWYoXCJvaWRcIj09cilyZXR1cm4gbmV3IGUuQncodFtyXSk7aWYoXCJlbnVtXCI9PXIpcmV0dXJuIG5ldyBlLkZ3KHRbcl0pO2lmKFwidXRmOHN0clwiPT1yKXJldHVybiBuZXcgZS5fdyh0W3JdKTtpZihcIm51bXN0clwiPT1yKXJldHVybiBuZXcgZS5Edyh0W3JdKTtpZihcInBybnN0clwiPT1yKXJldHVybiBuZXcgZS5Idyh0W3JdKTtpZihcInRlbHN0clwiPT1yKXJldHVybiBuZXcgZS5Mdyh0W3JdKTtpZihcImlhNXN0clwiPT1yKXJldHVybiBuZXcgZS5Ndyh0W3JdKTtpZihcInV0Y3RpbWVcIj09cilyZXR1cm4gbmV3IGUuancodFtyXSk7aWYoXCJnZW50aW1lXCI9PXIpcmV0dXJuIG5ldyBlLlV3KHRbcl0pO2lmKFwic2VxXCI9PXIpe2Zvcih2YXIgbj10W3JdLG89W10scz0wO3M8bi5sZW5ndGg7cysrKXt2YXIgYT1lLkV3LkN3KG5bc10pO28ucHVzaChhKX1yZXR1cm4gbmV3IGUuVncoe0hmOm99KX1pZihcInNldFwiPT1yKXtmb3IodmFyIG49dFtyXSxvPVtdLHM9MDtzPG4ubGVuZ3RoO3MrKyl7dmFyIGE9ZS5Fdy5DdyhuW3NdKTtvLnB1c2goYSl9cmV0dXJuIG5ldyBlLlF3KHtIZjpvfSl9aWYoXCJ0YWdcIj09cil7dmFyIGM9dFtyXTtpZihcIltvYmplY3QgQXJyYXldXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYykmJjM9PWMubGVuZ3RoKXt2YXIgaD1lLkV3LkN3KGNbMl0pO3JldHVybiBuZXcgZS5xdyh7dGFnOmNbMF0sSnc6Y1sxXSxLdzpofSl9dmFyIHA9e307aWYodm9pZCAwIT09Yy5KdyYmKHAuSnc9Yy5Kdyksdm9pZCAwIT09Yy50YWcmJihwLnRhZz1jLnRhZyksdm9pZCAwPT09Yy5Ldyl0aHJvd1wib2JqIHNoYWxsIGJlIHNwZWNpZmllZCBmb3IgJ3RhZycuXCI7cmV0dXJuIHAuS3c9ZS5Fdy5DdyhjLkt3KSxuZXcgZS5xdyhwKX19LHRoaXMuR3c9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5Ddyh0KTtyZXR1cm4gZS56dygpfX0sS0pVUi5idy5Fdy5Xdz1mdW5jdGlvbih0KXtmb3IodmFyIGU9XCJcIixyPXBhcnNlSW50KHQuc3Vic3RyKDAsMiksMTYpLG49TWF0aC5mbG9vcihyLzQwKSxvPXIlNDAsZT1uK1wiLlwiK28scz1cIlwiLGE9MjthPHQubGVuZ3RoO2ErPTIpe3ZhciBjPXBhcnNlSW50KHQuc3Vic3RyKGEsMiksMTYpLGg9KFwiMDAwMDAwMDBcIitjLnRvU3RyaW5nKDIpKS5zbGljZSgtOCk7aWYocys9aC5zdWJzdHIoMSw3KSxcIjBcIj09aC5zdWJzdHIoMCwxKSl7dmFyIHA9bmV3IGkocywyKTtlPWUrXCIuXCIrcC50b1N0cmluZygxMCkscz1cIlwifX1yZXR1cm4gZX0sS0pVUi5idy5Fdy4kdz1mdW5jdGlvbih0KXt2YXIgZT1mdW5jdGlvbih0KXt2YXIgZT10LnRvU3RyaW5nKDE2KTtyZXR1cm4gMT09ZS5sZW5ndGgmJihlPVwiMFwiK2UpLGV9LHI9ZnVuY3Rpb24odCl7dmFyIHI9XCJcIixuPW5ldyBpKHQsMTApLG89bi50b1N0cmluZygyKSxzPTctby5sZW5ndGglNzs3PT1zJiYocz0wKTtmb3IodmFyIGE9XCJcIixjPTA7YzxzO2MrKylhKz1cIjBcIjtvPWErbztmb3IodmFyIGM9MDtjPG8ubGVuZ3RoLTE7Yys9Nyl7dmFyIGg9by5zdWJzdHIoYyw3KTtjIT1vLmxlbmd0aC03JiYoaD1cIjFcIitoKSxyKz1lKHBhcnNlSW50KGgsMikpfXJldHVybiByfTtpZighdC5tYXRjaCgvXlswLTkuXSskLykpdGhyb3dcIm1hbGZvcm1lZCBvaWQgc3RyaW5nOiBcIit0O3ZhciBuPVwiXCIsbz10LnNwbGl0KFwiLlwiKSxzPTQwKnBhcnNlSW50KG9bMF0pK3BhcnNlSW50KG9bMV0pO24rPWUocyksby5zcGxpY2UoMCwyKTtmb3IodmFyIGE9MDthPG8ubGVuZ3RoO2ErKyluKz1yKG9bYV0pO3JldHVybiBufSxLSlVSLmJ3Lll3PWZ1bmN0aW9uKCl7dmFyIHQ9XCJcIjt0aGlzLlh3PWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIHRoaXMuWnd8fG51bGw9PXRoaXMuWncpdGhyb3dcInRoaXMuaFYgaXMgbnVsbCBvciB1bmRlZmluZWQuXCI7aWYodGhpcy5ady5sZW5ndGglMj09MSl0aHJvd1widmFsdWUgaGV4IG11c3QgYmUgZXZlbiBsZW5ndGg6IG49XCIrdC5sZW5ndGgrXCIsdj1cIit0aGlzLlp3O3ZhciBlPXRoaXMuWncubGVuZ3RoLzIsaT1lLnRvU3RyaW5nKDE2KTtpZihpLmxlbmd0aCUyPT0xJiYoaT1cIjBcIitpKSxlPDEyOClyZXR1cm4gaTt2YXIgcj1pLmxlbmd0aC8yO2lmKHI+MTUpdGhyb3dcIkFTTi4xIGxlbmd0aCB0b28gbG9uZyB0byByZXByZXNlbnQgYnkgOHg6IG4gPSBcIitlLnRvU3RyaW5nKDE2KTt2YXIgbj0xMjgrcjtyZXR1cm4gbi50b1N0cmluZygxNikraX0sdGhpcy56dz1mdW5jdGlvbigpe3JldHVybihudWxsPT10aGlzLnRUfHx0aGlzLmVUKSYmKHRoaXMuWnc9dGhpcy5pVCgpLHRoaXMuclQ9dGhpcy5YdygpLHRoaXMudFQ9dGhpcy5uVCt0aGlzLnJUK3RoaXMuWncsdGhpcy5lVD0hMSksdGhpcy50VH0sdGhpcy5vVD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnp3KCksdGhpcy5ad30sdGhpcy5pVD1mdW5jdGlvbigpe3JldHVyblwiXCJ9fSxLSlVSLmJ3LnNUPWZ1bmN0aW9uKHQpe0tKVVIuYncuc1QuRG0uY29uc3RydWN0b3IuY2FsbCh0aGlzKTt0aGlzLmFUPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubnl9LHRoaXMuY1Q9ZnVuY3Rpb24odCl7dGhpcy50VD1udWxsLHRoaXMuZVQ9ITAsdGhpcy5ueT10LHRoaXMuWnc9c3RvaGV4KHRoaXMubnkpfSx0aGlzLmhUPWZ1bmN0aW9uKHQpe3RoaXMudFQ9bnVsbCx0aGlzLmVUPSEwLHRoaXMubnk9bnVsbCx0aGlzLlp3PXR9LHRoaXMuaVQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ad30sXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHQmJihcInN0cmluZ1wiPT10eXBlb2YgdD90aGlzLmNUKHQpOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB0LmFjP3RoaXMuY1QodC5hYyk6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHQucFQmJnRoaXMuaFQodC5wVCkpfSxTdC5sYW5nLmV4dGVuZChLSlVSLmJ3LnNULEtKVVIuYncuWXcpLEtKVVIuYncudVQ9ZnVuY3Rpb24odCl7S0pVUi5idy51VC5EbS5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpO3RoaXMubFQ9ZnVuY3Rpb24odCl7dXRjPXQuZ2V0VGltZSgpKzZlNCp0LmdldFRpbWV6b25lT2Zmc2V0KCk7dmFyIGU9bmV3IERhdGUodXRjKTtyZXR1cm4gZX0sdGhpcy5kVD1mdW5jdGlvbih0LGUsaSl7dmFyIHI9dGhpcy5mVCxuPXRoaXMubFQodCksbz1TdHJpbmcobi5nZXRGdWxsWWVhcigpKTtcInV0Y1wiPT1lJiYobz1vLnN1YnN0cigyLDIpKTt2YXIgcz1yKFN0cmluZyhuLmdldE1vbnRoKCkrMSksMiksYT1yKFN0cmluZyhuLmdldERhdGUoKSksMiksYz1yKFN0cmluZyhuLmdldEhvdXJzKCkpLDIpLGg9cihTdHJpbmcobi5nZXRNaW51dGVzKCkpLDIpLHA9cihTdHJpbmcobi5nZXRTZWNvbmRzKCkpLDIpLHU9bytzK2ErYytoK3A7aWYoaT09PSEwKXt2YXIgbD1uLmdldE1pbGxpc2Vjb25kcygpO2lmKDAhPWwpe3ZhciBkPXIoU3RyaW5nKGwpLDMpO2Q9ZC5yZXBsYWNlKC9bMF0rJC8sXCJcIiksdT11K1wiLlwiK2R9fXJldHVybiB1K1wiWlwifSx0aGlzLmZUPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQubGVuZ3RoPj1lP3Q6bmV3IEFycmF5KGUtdC5sZW5ndGgrMSkuam9pbihcIjBcIikrdH0sdGhpcy5hVD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm55fSx0aGlzLmNUPWZ1bmN0aW9uKHQpe3RoaXMudFQ9bnVsbCx0aGlzLmVUPSEwLHRoaXMubnk9dCx0aGlzLlp3PXN0b2hleCh0KX0sdGhpcy5nVD1mdW5jdGlvbih0LGUsaSxyLG4sbyl7dmFyIHM9bmV3IERhdGUoRGF0ZS5VVEModCxlLTEsaSxyLG4sbywwKSk7dGhpcy52VChzKX0sdGhpcy5pVD1mdW5jdGlvbigpe3JldHVybiB0aGlzLlp3fX0sU3QubGFuZy5leHRlbmQoS0pVUi5idy51VCxLSlVSLmJ3Lll3KSxLSlVSLmJ3LnlUPWZ1bmN0aW9uKHQpe0tKVVIuYncuc1QuRG0uY29uc3RydWN0b3IuY2FsbCh0aGlzKTt0aGlzLm1UPWZ1bmN0aW9uKHQpe3RoaXMudFQ9bnVsbCx0aGlzLmVUPSEwLHRoaXMud1Q9dH0sdGhpcy5UVD1mdW5jdGlvbih0KXt0aGlzLnRUPW51bGwsdGhpcy5lVD0hMCx0aGlzLndULnB1c2godCl9LHRoaXMud1Q9bmV3IEFycmF5LFwidW5kZWZpbmVkXCIhPXR5cGVvZiB0JiZcInVuZGVmaW5lZFwiIT10eXBlb2YgdC5IZiYmKHRoaXMud1Q9dC5IZil9LFN0LmxhbmcuZXh0ZW5kKEtKVVIuYncueVQsS0pVUi5idy5ZdyksS0pVUi5idy5Pdz1mdW5jdGlvbigpe0tKVVIuYncuT3cuRG0uY29uc3RydWN0b3IuY2FsbCh0aGlzKSx0aGlzLm5UPVwiMDFcIix0aGlzLnRUPVwiMDEwMWZmXCJ9LFN0LmxhbmcuZXh0ZW5kKEtKVVIuYncuT3csS0pVUi5idy5ZdyksS0pVUi5idy5Qdz1mdW5jdGlvbih0KXtLSlVSLmJ3LlB3LkRtLmNvbnN0cnVjdG9yLmNhbGwodGhpcyksdGhpcy5uVD1cIjAyXCIsdGhpcy5TVD1mdW5jdGlvbih0KXt0aGlzLnRUPW51bGwsdGhpcy5lVD0hMCx0aGlzLlp3PUtKVVIuYncuRXcuUncodCl9LHRoaXMuYlQ9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IGkoU3RyaW5nKHQpLDEwKTt0aGlzLlNUKGUpfSx0aGlzLkVUPWZ1bmN0aW9uKHQpe3RoaXMuWnc9dH0sdGhpcy5pVD1mdW5jdGlvbigpe3JldHVybiB0aGlzLlp3fSxcInVuZGVmaW5lZFwiIT10eXBlb2YgdCYmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiB0LmJpZ2ludD90aGlzLlNUKHQuYmlnaW50KTpcInVuZGVmaW5lZFwiIT10eXBlb2YgdFtcImludFwiXT90aGlzLmJUKHRbXCJpbnRcIl0pOlwibnVtYmVyXCI9PXR5cGVvZiB0P3RoaXMuYlQodCk6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHQucFQmJnRoaXMuRVQodC5wVCkpfSxTdC5sYW5nLmV4dGVuZChLSlVSLmJ3LlB3LEtKVVIuYncuWXcpLEtKVVIuYncuQXc9ZnVuY3Rpb24odCl7S0pVUi5idy5Bdy5EbS5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpLHRoaXMublQ9XCIwM1wiLHRoaXMuSVQ9ZnVuY3Rpb24odCl7dGhpcy50VD1udWxsLHRoaXMuZVQ9ITAsdGhpcy5adz10fSx0aGlzLlJUPWZ1bmN0aW9uKHQsZSl7aWYodDwwfHw3PHQpdGhyb3dcInVudXNlZCBiaXRzIHNoYWxsIGJlIGZyb20gMCB0byA3OiB1ID0gXCIrdDt2YXIgaT1cIjBcIit0O3RoaXMudFQ9bnVsbCx0aGlzLmVUPSEwLHRoaXMuWnc9aStlfSx0aGlzLmtUPWZ1bmN0aW9uKHQpe3Q9dC5yZXBsYWNlKC8wKyQvLFwiXCIpO3ZhciBlPTgtdC5sZW5ndGglODs4PT1lJiYoZT0wKTtmb3IodmFyIGk9MDtpPD1lO2krKyl0Kz1cIjBcIjtmb3IodmFyIHI9XCJcIixpPTA7aTx0Lmxlbmd0aC0xO2krPTgpe3ZhciBuPXQuc3Vic3RyKGksOCksbz1wYXJzZUludChuLDIpLnRvU3RyaW5nKDE2KTsxPT1vLmxlbmd0aCYmKG89XCIwXCIrbykscis9b310aGlzLnRUPW51bGwsdGhpcy5lVD0hMCx0aGlzLlp3PVwiMFwiK2Urcn0sdGhpcy5DVD1mdW5jdGlvbih0KXtmb3IodmFyIGU9XCJcIixpPTA7aTx0Lmxlbmd0aDtpKyspZSs9MT09dFtpXT9cIjFcIjpcIjBcIjt0aGlzLmtUKGUpfSx0aGlzLk9UPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1uZXcgQXJyYXkodCksaT0wO2k8dDtpKyspZVtpXT0hMTtyZXR1cm4gZX0sdGhpcy5pVD1mdW5jdGlvbigpe3JldHVybiB0aGlzLlp3fSxcInVuZGVmaW5lZFwiIT10eXBlb2YgdCYmKFwic3RyaW5nXCI9PXR5cGVvZiB0JiZ0LnRvTG93ZXJDYXNlKCkubWF0Y2goL15bMC05YS1mXSskLyk/dGhpcy5JVCh0KTpcInVuZGVmaW5lZFwiIT10eXBlb2YgdC5wVD90aGlzLklUKHQucFQpOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB0LmJpbj90aGlzLmtUKHQuYmluKTpcInVuZGVmaW5lZFwiIT10eXBlb2YgdC5IZiYmdGhpcy5DVCh0LkhmKSl9LFN0LmxhbmcuZXh0ZW5kKEtKVVIuYncuQXcsS0pVUi5idy5ZdyksS0pVUi5idy5Odz1mdW5jdGlvbih0KXtLSlVSLmJ3Lk53LkRtLmNvbnN0cnVjdG9yLmNhbGwodGhpcyx0KSx0aGlzLm5UPVwiMDRcIn0sU3QubGFuZy5leHRlbmQoS0pVUi5idy5OdyxLSlVSLmJ3LnNUKSxLSlVSLmJ3Lnh3PWZ1bmN0aW9uKCl7S0pVUi5idy54dy5EbS5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpLHRoaXMublQ9XCIwNVwiLHRoaXMudFQ9XCIwNTAwXCJ9LFN0LmxhbmcuZXh0ZW5kKEtKVVIuYncueHcsS0pVUi5idy5ZdyksS0pVUi5idy5Cdz1mdW5jdGlvbih0KXt2YXIgZT1mdW5jdGlvbih0KXt2YXIgZT10LnRvU3RyaW5nKDE2KTtyZXR1cm4gMT09ZS5sZW5ndGgmJihlPVwiMFwiK2UpLGV9LHI9ZnVuY3Rpb24odCl7dmFyIHI9XCJcIixuPW5ldyBpKHQsMTApLG89bi50b1N0cmluZygyKSxzPTctby5sZW5ndGglNzs3PT1zJiYocz0wKTtmb3IodmFyIGE9XCJcIixjPTA7YzxzO2MrKylhKz1cIjBcIjtvPWErbztmb3IodmFyIGM9MDtjPG8ubGVuZ3RoLTE7Yys9Nyl7dmFyIGg9by5zdWJzdHIoYyw3KTtjIT1vLmxlbmd0aC03JiYoaD1cIjFcIitoKSxyKz1lKHBhcnNlSW50KGgsMikpfXJldHVybiByfTtLSlVSLmJ3LkJ3LkRtLmNvbnN0cnVjdG9yLmNhbGwodGhpcyksdGhpcy5uVD1cIjA2XCIsdGhpcy5FVD1mdW5jdGlvbih0KXt0aGlzLnRUPW51bGwsdGhpcy5lVD0hMCx0aGlzLm55PW51bGwsdGhpcy5adz10fSx0aGlzLlBUPWZ1bmN0aW9uKHQpe2lmKCF0Lm1hdGNoKC9eWzAtOS5dKyQvKSl0aHJvd1wibWFsZm9ybWVkIG9pZCBzdHJpbmc6IFwiK3Q7dmFyIGk9XCJcIixuPXQuc3BsaXQoXCIuXCIpLG89NDAqcGFyc2VJbnQoblswXSkrcGFyc2VJbnQoblsxXSk7aSs9ZShvKSxuLnNwbGljZSgwLDIpO2Zvcih2YXIgcz0wO3M8bi5sZW5ndGg7cysrKWkrPXIobltzXSk7dGhpcy50VD1udWxsLHRoaXMuZVQ9ITAsdGhpcy5ueT1udWxsLHRoaXMuWnc9aX0sdGhpcy5BVD1mdW5jdGlvbih0KXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgS0pVUi5idy54NTA5Lk5ULm5hbWUyb2lkTGlzdFt0XSl0aHJvd1wiREVST2JqZWN0SWRlbnRpZmllciBvaWROYW1lIHVuZGVmaW5lZDogXCIrdDt2YXIgZT1LSlVSLmJ3Lng1MDkuTlQubmFtZTJvaWRMaXN0W3RdO3RoaXMuUFQoZSl9LHRoaXMuaVQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ad30sXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHQmJihcInN0cmluZ1wiPT10eXBlb2YgdCYmdC5tYXRjaCgvXlswLTJdLlswLTkuXSskLyk/dGhpcy5QVCh0KTp2b2lkIDAhPT1LSlVSLmJ3Lng1MDkuTlQubmFtZTJvaWRMaXN0W3RdP3RoaXMuUFQoS0pVUi5idy54NTA5Lk5ULm5hbWUyb2lkTGlzdFt0XSk6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHQub2lkP3RoaXMuUFQodC5vaWQpOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB0LnBUP3RoaXMuRVQodC5wVCk6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHQubmFtZSYmdGhpcy5BVCh0Lm5hbWUpKX0sU3QubGFuZy5leHRlbmQoS0pVUi5idy5CdyxLSlVSLmJ3Lll3KSxLSlVSLmJ3LkZ3PWZ1bmN0aW9uKHQpe0tKVVIuYncuRncuRG0uY29uc3RydWN0b3IuY2FsbCh0aGlzKSx0aGlzLm5UPVwiMGFcIix0aGlzLlNUPWZ1bmN0aW9uKHQpe3RoaXMudFQ9bnVsbCx0aGlzLmVUPSEwLHRoaXMuWnc9S0pVUi5idy5Fdy5Sdyh0KX0sdGhpcy5iVD1mdW5jdGlvbih0KXt2YXIgZT1uZXcgaShTdHJpbmcodCksMTApO3RoaXMuU1QoZSl9LHRoaXMuRVQ9ZnVuY3Rpb24odCl7dGhpcy5adz10fSx0aGlzLmlUPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuWnd9LFwidW5kZWZpbmVkXCIhPXR5cGVvZiB0JiYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHRbXCJpbnRcIl0/dGhpcy5iVCh0W1wiaW50XCJdKTpcIm51bWJlclwiPT10eXBlb2YgdD90aGlzLmJUKHQpOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB0LnBUJiZ0aGlzLkVUKHQucFQpKX0sU3QubGFuZy5leHRlbmQoS0pVUi5idy5GdyxLSlVSLmJ3Lll3KSxLSlVSLmJ3Ll93PWZ1bmN0aW9uKHQpe0tKVVIuYncuX3cuRG0uY29uc3RydWN0b3IuY2FsbCh0aGlzLHQpLHRoaXMublQ9XCIwY1wifSxTdC5sYW5nLmV4dGVuZChLSlVSLmJ3Ll93LEtKVVIuYncuc1QpLEtKVVIuYncuRHc9ZnVuY3Rpb24odCl7S0pVUi5idy5Edy5EbS5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsdCksdGhpcy5uVD1cIjEyXCJ9LFN0LmxhbmcuZXh0ZW5kKEtKVVIuYncuRHcsS0pVUi5idy5zVCksS0pVUi5idy5Idz1mdW5jdGlvbih0KXtLSlVSLmJ3Lkh3LkRtLmNvbnN0cnVjdG9yLmNhbGwodGhpcyx0KSx0aGlzLm5UPVwiMTNcIn0sU3QubGFuZy5leHRlbmQoS0pVUi5idy5IdyxLSlVSLmJ3LnNUKSxLSlVSLmJ3Lkx3PWZ1bmN0aW9uKHQpe0tKVVIuYncuTHcuRG0uY29uc3RydWN0b3IuY2FsbCh0aGlzLHQpLHRoaXMublQ9XCIxNFwifSxTdC5sYW5nLmV4dGVuZChLSlVSLmJ3Lkx3LEtKVVIuYncuc1QpLEtKVVIuYncuTXc9ZnVuY3Rpb24odCl7S0pVUi5idy5Ndy5EbS5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsdCksdGhpcy5uVD1cIjE2XCJ9LFN0LmxhbmcuZXh0ZW5kKEtKVVIuYncuTXcsS0pVUi5idy5zVCksS0pVUi5idy5qdz1mdW5jdGlvbih0KXtLSlVSLmJ3Lmp3LkRtLmNvbnN0cnVjdG9yLmNhbGwodGhpcyx0KSx0aGlzLm5UPVwiMTdcIix0aGlzLnZUPWZ1bmN0aW9uKHQpe3RoaXMudFQ9bnVsbCx0aGlzLmVUPSEwLHRoaXMueFQ9dCx0aGlzLm55PXRoaXMuZFQodGhpcy54VCxcInV0Y1wiKSx0aGlzLlp3PXN0b2hleCh0aGlzLm55KX0sdGhpcy5pVD1mdW5jdGlvbigpe3JldHVyblwidW5kZWZpbmVkXCI9PXR5cGVvZiB0aGlzLnhUJiZcInVuZGVmaW5lZFwiPT10eXBlb2YgdGhpcy5ueSYmKHRoaXMueFQ9bmV3IERhdGUsdGhpcy5ueT10aGlzLmRUKHRoaXMueFQsXCJ1dGNcIiksdGhpcy5adz1zdG9oZXgodGhpcy5ueSkpLHRoaXMuWnd9LHZvaWQgMCE9PXQmJih2b2lkIDAhPT10LmFjP3RoaXMuY1QodC5hYyk6XCJzdHJpbmdcIj09dHlwZW9mIHQmJnQubWF0Y2goL15bMC05XXsxMn1aJC8pP3RoaXMuY1QodCk6dm9pZCAwIT09dC5wVD90aGlzLmhUKHQucFQpOnZvaWQgMCE9PXQueFQmJnRoaXMudlQodC54VCkpfSxTdC5sYW5nLmV4dGVuZChLSlVSLmJ3Lmp3LEtKVVIuYncudVQpLEtKVVIuYncuVXc9ZnVuY3Rpb24odCl7S0pVUi5idy5Vdy5EbS5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsdCksdGhpcy5uVD1cIjE4XCIsdGhpcy5CVD0hMSx0aGlzLnZUPWZ1bmN0aW9uKHQpe3RoaXMudFQ9bnVsbCx0aGlzLmVUPSEwLHRoaXMueFQ9dCx0aGlzLm55PXRoaXMuZFQodGhpcy54VCxcImdlblwiLHRoaXMuQlQpLHRoaXMuWnc9c3RvaGV4KHRoaXMubnkpfSx0aGlzLmlUPWZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMD09PXRoaXMueFQmJnZvaWQgMD09PXRoaXMubnkmJih0aGlzLnhUPW5ldyBEYXRlLHRoaXMubnk9dGhpcy5kVCh0aGlzLnhULFwiZ2VuXCIsdGhpcy5CVCksdGhpcy5adz1zdG9oZXgodGhpcy5ueSkpLHRoaXMuWnd9LHZvaWQgMCE9PXQmJih2b2lkIDAhPT10LmFjP3RoaXMuY1QodC5hYyk6XCJzdHJpbmdcIj09dHlwZW9mIHQmJnQubWF0Y2goL15bMC05XXsxNH1aJC8pP3RoaXMuY1QodCk6dm9pZCAwIT09dC5wVD90aGlzLmhUKHQucFQpOnZvaWQgMCE9PXQueFQmJnRoaXMudlQodC54VCksdC5taWxsaXM9PT0hMCYmKHRoaXMuQlQ9ITApKX0sU3QubGFuZy5leHRlbmQoS0pVUi5idy5VdyxLSlVSLmJ3LnVUKSxLSlVSLmJ3LlZ3PWZ1bmN0aW9uKHQpe0tKVVIuYncuVncuRG0uY29uc3RydWN0b3IuY2FsbCh0aGlzLHQpLHRoaXMublQ9XCIzMFwiLHRoaXMuaVQ9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9XCJcIixlPTA7ZTx0aGlzLndULmxlbmd0aDtlKyspe3ZhciBpPXRoaXMud1RbZV07dCs9aS56dygpfXJldHVybiB0aGlzLlp3PXQsdGhpcy5ad319LFN0LmxhbmcuZXh0ZW5kKEtKVVIuYncuVncsS0pVUi5idy55VCksS0pVUi5idy5Rdz1mdW5jdGlvbih0KXtLSlVSLmJ3LlF3LkRtLmNvbnN0cnVjdG9yLmNhbGwodGhpcyx0KSx0aGlzLm5UPVwiMzFcIix0aGlzLkZUPSEwLHRoaXMuaVQ9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9bmV3IEFycmF5LGU9MDtlPHRoaXMud1QubGVuZ3RoO2UrKyl7dmFyIGk9dGhpcy53VFtlXTt0LnB1c2goaS56dygpKX1yZXR1cm4gMT09dGhpcy5GVCYmdC5zb3J0KCksdGhpcy5adz10LmpvaW4oXCJcIiksdGhpcy5ad30sXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHQmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiB0LnNvcnRmbGFnJiYwPT10LnNvcnRmbGFnJiYodGhpcy5GVD0hMSl9LFN0LmxhbmcuZXh0ZW5kKEtKVVIuYncuUXcsS0pVUi5idy55VCksS0pVUi5idy5xdz1mdW5jdGlvbih0KXtLSlVSLmJ3LnF3LkRtLmNvbnN0cnVjdG9yLmNhbGwodGhpcyksdGhpcy5uVD1cImEwXCIsdGhpcy5adz1cIlwiLHRoaXMuX1Q9ITAsdGhpcy5EVD1udWxsLHRoaXMuSFQ9ZnVuY3Rpb24odCxlLGkpe3RoaXMublQ9ZSx0aGlzLl9UPXQsdGhpcy5EVD1pLHRoaXMuX1Q/KHRoaXMuWnc9dGhpcy5EVC56dygpLHRoaXMudFQ9bnVsbCx0aGlzLmVUPSEwKToodGhpcy5adz1udWxsLHRoaXMudFQ9aS56dygpLHRoaXMudFQ9dGhpcy50VC5yZXBsYWNlKC9eLi4vLGUpLHRoaXMuZVQ9ITEpfSx0aGlzLmlUPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuWnd9LFwidW5kZWZpbmVkXCIhPXR5cGVvZiB0JiYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHQudGFnJiYodGhpcy5uVD10LnRhZyksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHQuSncmJih0aGlzLl9UPXQuSncpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiB0Lkt3JiYodGhpcy5EVD10Lkt3LHRoaXMuSFQodGhpcy5fVCx0aGlzLm5ULHRoaXMuRFQpKSl9LFN0LmxhbmcuZXh0ZW5kKEtKVVIuYncucXcsS0pVUi5idy5Zdyk7LyohIChjKSBUb20gV3UgfCBodHRwOi8vd3d3LWNzLXN0dWRlbnRzLnN0YW5mb3JkLmVkdS9+dGp3L2pzYm4vICovXG4gIHZhciBOdD1cIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky9cIix4dD1cIj1cIjsvKiEgY3J5cHRvLTEuMS44LmpzIChjKSAyMDEzLTIwMTYgS2VuamkgVXJ1c2hpbWEgfCBranVyLmdpdGh1Yi5jb20vanNyc2FzaWduL2xpY2Vuc2VcbiAgICovXG4gIFwidW5kZWZpbmVkXCIhPXR5cGVvZiBLSlVSJiZLSlVSfHwoS0pVUj17fSksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIEtKVVIuY3J5cHRvJiZLSlVSLmNyeXB0b3x8KEtKVVIuY3J5cHRvPXt9KSxLSlVSLmNyeXB0by5XeT1uZXcgZnVuY3Rpb24oKXt0aGlzLnRtPXtzaGExOlwiMzAyMTMwMDkwNjA1MmIwZTAzMDIxYTA1MDAwNDE0XCIsTFQ6XCIzMDJkMzAwZDA2MDk2MDg2NDgwMTY1MDMwNDAyMDQwNTAwMDQxY1wiLHNoYTI1NjpcIjMwMzEzMDBkMDYwOTYwODY0ODAxNjUwMzA0MDIwMTA1MDAwNDIwXCIsTVQ6XCIzMDQxMzAwZDA2MDk2MDg2NDgwMTY1MDMwNDAyMDIwNTAwMDQzMFwiLGpUOlwiMzA1MTMwMGQwNjA5NjA4NjQ4MDE2NTAzMDQwMjAzMDUwMDA0NDBcIixVVDpcIjMwMjAzMDBjMDYwODJhODY0ODg2ZjcwZDAyMDIwNTAwMDQxMFwiLFZUOlwiMzAyMDMwMGMwNjA4MmE4NjQ4ODZmNzBkMDIwNTA1MDAwNDEwXCIsUVQ6XCIzMDIxMzAwOTA2MDUyYjI0MDMwMjAxMDUwMDA0MTRcIn0sdGhpcy5xVD17VlQ6XCJjcnlwdG9qc1wiLHNoYTE6XCJjcnlwdG9qc1wiLExUOlwiY3J5cHRvanNcIixzaGEyNTY6XCJjcnlwdG9qc1wiLE1UOlwiY3J5cHRvanNcIixqVDpcImNyeXB0b2pzXCIsUVQ6XCJjcnlwdG9qc1wiLEpUOlwiY3J5cHRvanNcIixLVDpcImNyeXB0b2pzXCIsR1Q6XCJjcnlwdG9qc1wiLHpUOlwiY3J5cHRvanNcIixXVDpcImNyeXB0b2pzXCIsJFQ6XCJjcnlwdG9qc1wiLFlUOlwiY3J5cHRvanNcIixYVDpcImNyeXB0b2pzL2pzcnNhXCIsWlQ6XCJjcnlwdG9qcy9qc3JzYVwiLHRTOlwiY3J5cHRvanMvanNyc2FcIixlUzpcImNyeXB0b2pzL2pzcnNhXCIsaVM6XCJjcnlwdG9qcy9qc3JzYVwiLHJTOlwiY3J5cHRvanMvanNyc2FcIixuUzpcImNyeXB0b2pzL2pzcnNhXCIsb1M6XCJjcnlwdG9qcy9qc3JzYVwiLHNTOlwiY3J5cHRvanMvanNyc2FcIixhUzpcImNyeXB0b2pzL2pzcnNhXCIsY1M6XCJjcnlwdG9qcy9qc3JzYVwiLGhTOlwiY3J5cHRvanMvanNyc2FcIixwUzpcImNyeXB0b2pzL2pzcnNhXCIsdVM6XCJjcnlwdG9qcy9qc3JzYVwiLGxTOlwiY3J5cHRvanMvanNyc2FcIixkUzpcImNyeXB0b2pzL2pzcnNhXCIsZlM6XCJjcnlwdG9qcy9qc3JzYVwiLGdTOlwiY3J5cHRvanMvanNyc2FcIix2UzpcImNyeXB0b2pzL2pzcnNhXCIseVM6XCJjcnlwdG9qcy9qc3JzYVwiLG1TOlwiY3J5cHRvanMvanNyc2FcIix3UzpcImNyeXB0b2pzL2pzcnNhXCIsVFM6XCJjcnlwdG9qcy9qc3JzYVwiLFNTOlwiY3J5cHRvanMvanNyc2FcIn0sdGhpcy5iUz17VlQ6YnQudncueXcsc2hhMTpidC52dy5UdyxMVDpidC52dy5TSEEyMjQsc2hhMjU2OmJ0LnZ3LlNIQTI1NixNVDpidC52dy5TSEEzODQsalQ6YnQudncuU0hBNTEyLFFUOmJ0LnZ3LlJJUEVNRDE2MH0sdGhpcy5FUz1mdW5jdGlvbih0LGUpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiB0aGlzLnRtW2VdKXRocm93XCJhbGcgbm90IHN1cHBvcnRlZCBpbiBVdGlsLkRJR0VTVElORk9IRUFEOiBcIitlO3JldHVybiB0aGlzLnRtW2VdK3R9LHRoaXMuWXk9ZnVuY3Rpb24odCxlLGkpe3ZhciByPXRoaXMuRVModCxlKSxuPWkvNDtpZihyLmxlbmd0aCsyMj5uKXRocm93XCJrZXkgaXMgdG9vIHNob3J0IGZvciBTaWdBbGc6IGtleWxlbj1cIitpK1wiLFwiK2U7Zm9yKHZhciBvPVwiMDAwMVwiLHM9XCIwMFwiK3IsYT1cIlwiLGM9bi1vLmxlbmd0aC1zLmxlbmd0aCxoPTA7aDxjO2grPTIpYSs9XCJmZlwiO3ZhciBwPW8rYStzO3JldHVybiBwfSx0aGlzLnp5PWZ1bmN0aW9uKHQsZSl7dmFyIGk9bmV3IEtKVVIuY3J5cHRvLklTKHtSUzplfSk7cmV0dXJuIGkua1ModCl9LHRoaXMuWHk9ZnVuY3Rpb24odCxlKXt2YXIgaT1uZXcgS0pVUi5jcnlwdG8uSVMoe1JTOmV9KTtyZXR1cm4gaS5DUyh0KX0sdGhpcy5zaGExPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBLSlVSLmNyeXB0by5JUyh7UlM6XCJzaGExXCIsT1M6XCJjcnlwdG9qc1wifSk7cmV0dXJuIGUua1ModCl9LHRoaXMuc2hhMjU2PWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBLSlVSLmNyeXB0by5JUyh7UlM6XCJzaGEyNTZcIixPUzpcImNyeXB0b2pzXCJ9KTtyZXR1cm4gZS5rUyh0KX0sdGhpcy5QUz1mdW5jdGlvbih0KXt2YXIgZT1uZXcgS0pVUi5jcnlwdG8uSVMoe1JTOlwic2hhMjU2XCIsT1M6XCJjcnlwdG9qc1wifSk7cmV0dXJuIGUuQ1ModCl9LHRoaXMualQ9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IEtKVVIuY3J5cHRvLklTKHtSUzpcInNoYTUxMlwiLE9TOlwiY3J5cHRvanNcIn0pO3JldHVybiBlLmtTKHQpfSx0aGlzLk5TPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBLSlVSLmNyeXB0by5JUyh7UlM6XCJzaGE1MTJcIixPUzpcImNyeXB0b2pzXCJ9KTtyZXR1cm4gZS5DUyh0KX0sdGhpcy5WVD1mdW5jdGlvbih0KXt2YXIgZT1uZXcgS0pVUi5jcnlwdG8uSVMoe1JTOlwibWQ1XCIsT1M6XCJjcnlwdG9qc1wifSk7cmV0dXJuIGUua1ModCl9LHRoaXMuUVQ9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IEtKVVIuY3J5cHRvLklTKHtSUzpcInJpcGVtZDE2MFwiLE9TOlwiY3J5cHRvanNcIn0pO3JldHVybiBlLmtTKHQpfSx0aGlzLnhTPWZ1bmN0aW9uKHQpe319LEtKVVIuY3J5cHRvLklTPWZ1bmN0aW9uKHQpe3RoaXMuQlM9ZnVuY3Rpb24odCxlKXtpZihudWxsIT10JiZ2b2lkIDA9PT1lJiYoZT1LSlVSLmNyeXB0by5XeS5xVFt0XSksXCI6bWQ1OnNoYTE6c2hhMjI0OnNoYTI1NjpzaGEzODQ6c2hhNTEyOnJpcGVtZDE2MDpcIi5pbmRleE9mKHQpIT0tMSYmXCJjcnlwdG9qc1wiPT1lKXt0cnl7dGhpcy5GUz1LSlVSLmNyeXB0by5XeS5iU1t0XS5jcmVhdGUoKX1jYXRjaChpKXt0aHJvd1wic2V0QWxnQW5kUHJvdmlkZXIgaGFzaCBhbGcgc2V0IGZhaWwgYWxnPVwiK3QrXCIvXCIraX10aGlzLl9TPWZ1bmN0aW9uKHQpe3RoaXMuRlMudXBkYXRlKHQpfSx0aGlzLkRTPWZ1bmN0aW9uKHQpe3ZhciBlPWJ0LlltLlhtLnBhcnNlKHQpO3RoaXMuRlMudXBkYXRlKGUpfSx0aGlzLmRpZ2VzdD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuRlMubHcoKTtyZXR1cm4gdC50b1N0cmluZyhidC5ZbS5YbSl9LHRoaXMua1M9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX1ModCksdGhpcy5kaWdlc3QoKX0sdGhpcy5DUz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5EUyh0KSx0aGlzLmRpZ2VzdCgpfX1pZihcIjpzaGEyNTY6XCIuaW5kZXhPZih0KSE9LTEmJlwic2pjbFwiPT1lKXt0cnl7dGhpcy5GUz1uZXcgc2pjbC5oYXNoLnNoYTI1Nn1jYXRjaChpKXt0aHJvd1wic2V0QWxnQW5kUHJvdmlkZXIgaGFzaCBhbGcgc2V0IGZhaWwgYWxnPVwiK3QrXCIvXCIraX10aGlzLl9TPWZ1bmN0aW9uKHQpe3RoaXMuRlMudXBkYXRlKHQpfSx0aGlzLkRTPWZ1bmN0aW9uKHQpe3ZhciBlPXNqY2wuY29kZWMucFQudG9CaXRzKHQpO3RoaXMuRlMudXBkYXRlKGUpfSx0aGlzLmRpZ2VzdD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuRlMubHcoKTtyZXR1cm4gc2pjbC5jb2RlYy5wVC5mcm9tQml0cyh0KX0sdGhpcy5rUz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fUyh0KSx0aGlzLmRpZ2VzdCgpfSx0aGlzLkNTPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLkRTKHQpLHRoaXMuZGlnZXN0KCl9fX0sdGhpcy5fUz1mdW5jdGlvbih0KXt0aHJvd1widXBkYXRlU3RyaW5nKHN0cikgbm90IHN1cHBvcnRlZCBmb3IgdGhpcyBhbGcvcHJvdjogXCIrdGhpcy5IUytcIi9cIit0aGlzLkxTfSx0aGlzLkRTPWZ1bmN0aW9uKHQpe3Rocm93XCJ1cGRhdGVIZXgoaGV4KSBub3Qgc3VwcG9ydGVkIGZvciB0aGlzIGFsZy9wcm92OiBcIit0aGlzLkhTK1wiL1wiK3RoaXMuTFN9LHRoaXMuZGlnZXN0PWZ1bmN0aW9uKCl7dGhyb3dcImRpZ2VzdCgpIG5vdCBzdXBwb3J0ZWQgZm9yIHRoaXMgYWxnL3Byb3Y6IFwiK3RoaXMuSFMrXCIvXCIrdGhpcy5MU30sdGhpcy5rUz1mdW5jdGlvbih0KXt0aHJvd1wiZGlnZXN0U3RyaW5nKHN0cikgbm90IHN1cHBvcnRlZCBmb3IgdGhpcyBhbGcvcHJvdjogXCIrdGhpcy5IUytcIi9cIit0aGlzLkxTfSx0aGlzLkNTPWZ1bmN0aW9uKHQpe3Rocm93XCJkaWdlc3RIZXgoaGV4KSBub3Qgc3VwcG9ydGVkIGZvciB0aGlzIGFsZy9wcm92OiBcIit0aGlzLkhTK1wiL1wiK3RoaXMuTFN9LHZvaWQgMCE9PXQmJnZvaWQgMCE9PXQuUlMmJih0aGlzLkhTPXQuUlMsdm9pZCAwPT09dC5PUyYmKHRoaXMuTFM9S0pVUi5jcnlwdG8uV3kucVRbdGhpcy5IU10pLHRoaXMuQlModGhpcy5IUyx0aGlzLkxTKSl9LEtKVVIuY3J5cHRvLk1TPWZ1bmN0aW9uKHQpe3RoaXMuQlM9ZnVuY3Rpb24odCxlKXtpZih0PXQudG9Mb3dlckNhc2UoKSxudWxsPT10JiYodD1cImhtYWNzaGExXCIpLHQ9dC50b0xvd2VyQ2FzZSgpLFwiaG1hY1wiIT10LnN1YnN0cigwLDQpKXRocm93XCJzZXRBbGdBbmRQcm92aWRlciB1bnN1cHBvcnRlZCBITUFDIGFsZzogXCIrdDt2b2lkIDA9PT1lJiYoZT1LSlVSLmNyeXB0by5XeS5xVFt0XSksdGhpcy5qUz10K1wiL1wiK2U7dmFyIGk9dC5zdWJzdHIoNCk7aWYoXCI6bWQ1OnNoYTE6c2hhMjI0OnNoYTI1NjpzaGEzODQ6c2hhNTEyOnJpcGVtZDE2MDpcIi5pbmRleE9mKGkpIT0tMSYmXCJjcnlwdG9qc1wiPT1lKXt0cnl7dmFyIHI9S0pVUi5jcnlwdG8uV3kuYlNbaV07dGhpcy5tYWM9YnQudncuSE1BQy5jcmVhdGUocix0aGlzLlVTKX1jYXRjaChuKXt0aHJvd1wic2V0QWxnQW5kUHJvdmlkZXIgaGFzaCBhbGcgc2V0IGZhaWwgaGFzaEFsZz1cIitpK1wiL1wiK259dGhpcy5fUz1mdW5jdGlvbih0KXt0aGlzLm1hYy51cGRhdGUodCl9LHRoaXMuRFM9ZnVuY3Rpb24odCl7dmFyIGU9YnQuWW0uWG0ucGFyc2UodCk7dGhpcy5tYWMudXBkYXRlKGUpfSx0aGlzLlZTPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5tYWMubHcoKTtyZXR1cm4gdC50b1N0cmluZyhidC5ZbS5YbSl9LHRoaXMuUVM9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX1ModCksdGhpcy5WUygpfSx0aGlzLnFTPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLkRTKHQpLHRoaXMuVlMoKX19fSx0aGlzLl9TPWZ1bmN0aW9uKHQpe3Rocm93XCJ1cGRhdGVTdHJpbmcoc3RyKSBub3Qgc3VwcG9ydGVkIGZvciB0aGlzIGFsZy9wcm92OiBcIit0aGlzLmpTfSx0aGlzLkRTPWZ1bmN0aW9uKHQpe3Rocm93XCJ1cGRhdGVIZXgoaGV4KSBub3Qgc3VwcG9ydGVkIGZvciB0aGlzIGFsZy9wcm92OiBcIit0aGlzLmpTfSx0aGlzLlZTPWZ1bmN0aW9uKCl7dGhyb3dcImRpZ2VzdCgpIG5vdCBzdXBwb3J0ZWQgZm9yIHRoaXMgYWxnL3Byb3Y6IFwiK3RoaXMualN9LHRoaXMuUVM9ZnVuY3Rpb24odCl7dGhyb3dcImRpZ2VzdFN0cmluZyhzdHIpIG5vdCBzdXBwb3J0ZWQgZm9yIHRoaXMgYWxnL3Byb3Y6IFwiK3RoaXMualN9LHRoaXMucVM9ZnVuY3Rpb24odCl7dGhyb3dcImRpZ2VzdEhleChoZXgpIG5vdCBzdXBwb3J0ZWQgZm9yIHRoaXMgYWxnL3Byb3Y6IFwiK3RoaXMualN9LHRoaXMuSlM9ZnVuY3Rpb24odCl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpe3ZhciBlPXQ7cmV0dXJuIHQubGVuZ3RoJTIhPTEmJnQubWF0Y2goL15bMC05QS1GYS1mXSskLyl8fChlPXJzdHJ0b2hleCh0KSksdm9pZCh0aGlzLlVTPWJ0LlltLlhtLnBhcnNlKGUpKX1pZihcIm9iamVjdFwiIT10eXBlb2YgdCl0aHJvd1wiS0pVUi5jcnlwdG8uTWFjIHVuc3VwcG9ydGVkIHBhc3N3b3JkIHR5cGU6IFwiK3Q7dmFyIGU9bnVsbDtpZih2b2lkIDAhPT10LnBUKXtpZih0LnBULmxlbmd0aCUyIT0wfHwhdC5wVC5tYXRjaCgvXlswLTlBLUZhLWZdKyQvKSl0aHJvd1wiTWFjOiB3cm9uZyBoZXggcGFzc3dvcmQ6IFwiK3QucFQ7ZT10LnBUfWlmKHZvaWQgMCE9PXQudXRmOCYmKGU9dXRmOHRvaGV4KHQudXRmOCkpLHZvaWQgMCE9PXQucnN0ciYmKGU9cnN0cnRvaGV4KHQucnN0cikpLHZvaWQgMCE9PXQuYjY0JiYoZT1KKHQuYjY0KSksdm9pZCAwIT09dC5iNjR1JiYoZT1iNjR1dG9oZXgodC5iNjR1KSksbnVsbD09ZSl0aHJvd1wiS0pVUi5jcnlwdG8uTWFjIHVuc3VwcG9ydGVkIHBhc3N3b3JkIHR5cGU6IFwiK3Q7dGhpcy5VUz1idC5ZbS5YbS5wYXJzZShlKX0sdm9pZCAwIT09dCYmKHZvaWQgMCE9PXQuVVMmJnRoaXMuSlModC5VUyksdm9pZCAwIT09dC5SUyYmKHRoaXMuSFM9dC5SUyx2b2lkIDA9PT10Lk9TJiYodGhpcy5MUz1LSlVSLmNyeXB0by5XeS5xVFt0aGlzLkhTXSksdGhpcy5CUyh0aGlzLkhTLHRoaXMuTFMpKSl9LEtKVVIuY3J5cHRvLlNpZ25hdHVyZT1mdW5jdGlvbih0KXt2YXIgZT1udWxsO2lmKHRoaXMuS1M9ZnVuY3Rpb24oKXt0aGlzLkhTLm1hdGNoKC9eKC4rKXdpdGgoLispJC8pJiYodGhpcy5HUz1SZWdFeHAuJDEudG9Mb3dlckNhc2UoKSx0aGlzLnpTPVJlZ0V4cC4kMi50b0xvd2VyQ2FzZSgpKX0sdGhpcy5XUz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgaT1cIlwiLHI9ZS80LXQubGVuZ3RoLG49MDtuPHI7bisrKWkrPVwiMFwiO3JldHVybiBpK3R9LHRoaXMuQlM9ZnVuY3Rpb24odCxlKXtpZih0aGlzLktTKCksXCJjcnlwdG9qcy9qc3JzYVwiIT1lKXRocm93XCJwcm92aWRlciBub3Qgc3VwcG9ydGVkOiBcIitlO2lmKFwiOm1kNTpzaGExOnNoYTIyNDpzaGEyNTY6c2hhMzg0OnNoYTUxMjpyaXBlbWQxNjA6XCIuaW5kZXhPZih0aGlzLkdTKSE9LTEpe3RyeXt0aGlzLkZTPW5ldyBLSlVSLmNyeXB0by5JUyh7UlM6dGhpcy5HU30pfWNhdGNoKGkpe3Rocm93XCJzZXRBbGdBbmRQcm92aWRlciBoYXNoIGFsZyBzZXQgZmFpbCBhbGc9XCIrdGhpcy5HUytcIi9cIitpfXRoaXMuaW5pdD1mdW5jdGlvbih0LGUpe3ZhciBpPW51bGw7dHJ5e2k9dm9pZCAwPT09ZT9LRVlVVElMLmdldEtleSh0KTpLRVlVVElMLmdldEtleSh0LGUpfWNhdGNoKHIpe3Rocm93XCJpbml0IGZhaWxlZDpcIityfWlmKGkuaXNQcml2YXRlPT09ITApdGhpcy4kUz1pLHRoaXMuc3RhdGU9XCJTSUdOXCI7ZWxzZXtpZihpLnF5IT09ITApdGhyb3dcImluaXQgZmFpbGVkLjpcIitpO3RoaXMuWVM9aSx0aGlzLnN0YXRlPVwiVkVSSUZZXCJ9fSx0aGlzLlhTPWZ1bmN0aW9uKHQpe1wic3RyaW5nXCI9PXR5cGVvZiB0LlpTJiZcInN0cmluZ1wiPT10eXBlb2YgdC50Yj8odGhpcy5aUz10LlpTLHRoaXMudGI9dC50Yik6dGhpcy4kUz10LHRoaXMuc3RhdGU9XCJTSUdOXCJ9LHRoaXMuZWI9ZnVuY3Rpb24odCl7XCJzdHJpbmdcIj09dHlwZW9mIHQuaWImJlwic3RyaW5nXCI9PXR5cGVvZiB0LnRiPyh0aGlzLmliPXQuaWIsdGhpcy50Yj10LnRiKTp0IGluc3RhbmNlb2YgS0pVUi5jcnlwdG8uRUNEU0E/dGhpcy5ZUz10OnQgaW5zdGFuY2VvZiBZJiYodGhpcy5ZUz10KSx0aGlzLnN0YXRlPVwiVkVSSUZZXCJ9LHRoaXMucmI9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IFg1MDk7ZS5yZWFkQ2VydFBFTSh0KSx0aGlzLllTPWUubmIsdGhpcy5zdGF0ZT1cIlZFUklGWVwifSx0aGlzLl9TPWZ1bmN0aW9uKHQpe3RoaXMuRlMuX1ModCl9LHRoaXMuRFM9ZnVuY3Rpb24odCl7dGhpcy5GUy5EUyh0KX0sdGhpcy5zaWduPWZ1bmN0aW9uKCl7aWYodGhpcy5vYj10aGlzLkZTLmRpZ2VzdCgpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiB0aGlzLlpTJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgdGhpcy50Yil7dmFyIHQ9bmV3IEtKVVIuY3J5cHRvLkVDRFNBKHtjdXJ2ZTp0aGlzLnRifSk7dGhpcy5zYj10LmFiKHRoaXMub2IsdGhpcy5aUyl9ZWxzZSBpZih0aGlzLiRTIGluc3RhbmNlb2YgWSYmXCJyc2FhbmRtZ2YxXCI9PXRoaXMuelMpdGhpcy5zYj10aGlzLiRTLlp5KHRoaXMub2IsdGhpcy5HUyx0aGlzLmNiKTtlbHNlIGlmKHRoaXMuJFMgaW5zdGFuY2VvZiBZJiZcInJzYVwiPT10aGlzLnpTKXRoaXMuc2I9dGhpcy4kUy4keSh0aGlzLm9iLHRoaXMuR1MpO2Vsc2UgaWYodGhpcy4kUyBpbnN0YW5jZW9mIEtKVVIuY3J5cHRvLkVDRFNBKXRoaXMuc2I9dGhpcy4kUy4keSh0aGlzLm9iKTtlbHNle2lmKCEodGhpcy4kUyBpbnN0YW5jZW9mIEtKVVIuY3J5cHRvLkRTQSkpdGhyb3dcIlNpZ25hdHVyZTogdW5zdXBwb3J0ZWQgcHVibGljIGtleSBhbGc6IFwiK3RoaXMuelM7dGhpcy5zYj10aGlzLiRTLiR5KHRoaXMub2IpfXJldHVybiB0aGlzLnNifSx0aGlzLmhiPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9TKHQpLHRoaXMuc2lnbigpfSx0aGlzLmFiPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLkRTKHQpLHRoaXMuc2lnbigpfSx0aGlzLnZlcmlmeT1mdW5jdGlvbih0KXtpZih0aGlzLm9iPXRoaXMuRlMuZGlnZXN0KCksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHRoaXMuaWImJlwidW5kZWZpbmVkXCIhPXR5cGVvZiB0aGlzLnRiKXt2YXIgZT1uZXcgS0pVUi5jcnlwdG8uRUNEU0Eoe2N1cnZlOnRoaXMudGJ9KTtyZXR1cm4gZS52ZXJpZnlIZXgodGhpcy5vYix0LHRoaXMuaWIpfWlmKHRoaXMuWVMgaW5zdGFuY2VvZiBZJiZcInJzYWFuZG1nZjFcIj09dGhpcy56UylyZXR1cm4gdGhpcy5ZUy5lbSh0aGlzLm9iLHQsdGhpcy5HUyx0aGlzLmNiKTtpZih0aGlzLllTIGluc3RhbmNlb2YgWSYmXCJyc2FcIj09dGhpcy56UylyZXR1cm4gdGhpcy5ZUy5wYih0aGlzLm9iLHQpO2lmKHRoaXMuWVMgaW5zdGFuY2VvZiBLSlVSLmNyeXB0by5FQ0RTQSlyZXR1cm4gdGhpcy5ZUy5wYih0aGlzLm9iLHQpO2lmKHRoaXMuWVMgaW5zdGFuY2VvZiBLSlVSLmNyeXB0by5EU0EpcmV0dXJuIHRoaXMuWVMucGIodGhpcy5vYix0KTt0aHJvd1wiU2lnbmF0dXJlOiB1bnN1cHBvcnRlZCBwdWJsaWMga2V5IGFsZzogXCIrdGhpcy56U319fSx0aGlzLmluaXQ9ZnVuY3Rpb24odCxlKXt0aHJvd1wiaW5pdChrZXksIHBhc3MpIG5vdCBzdXBwb3J0ZWQgZm9yIHRoaXMgYWxnOnByb3Y9XCIrdGhpcy51Yn0sdGhpcy5lYj1mdW5jdGlvbih0KXt0aHJvd1wiaW5pdFZlcmlmeUJ5UHVibGljS2V5KHJzYVB1YktleXkpIG5vdCBzdXBwb3J0ZWQgZm9yIHRoaXMgYWxnOnByb3Y9XCIrdGhpcy51Yn0sdGhpcy5yYj1mdW5jdGlvbih0KXt0aHJvd1wiaW5pdFZlcmlmeUJ5Q2VydGlmaWNhdGVQRU0oY2VydFBFTSkgbm90IHN1cHBvcnRlZCBmb3IgdGhpcyBhbGc6cHJvdj1cIit0aGlzLnVifSx0aGlzLlhTPWZ1bmN0aW9uKHQpe3Rocm93XCJpbml0U2lnbihwcnZLZXkpIG5vdCBzdXBwb3J0ZWQgZm9yIHRoaXMgYWxnOnByb3Y9XCIrdGhpcy51Yn0sdGhpcy5fUz1mdW5jdGlvbih0KXt0aHJvd1widXBkYXRlU3RyaW5nKHN0cikgbm90IHN1cHBvcnRlZCBmb3IgdGhpcyBhbGc6cHJvdj1cIit0aGlzLnVifSx0aGlzLkRTPWZ1bmN0aW9uKHQpe3Rocm93XCJ1cGRhdGVIZXgoaGV4KSBub3Qgc3VwcG9ydGVkIGZvciB0aGlzIGFsZzpwcm92PVwiK3RoaXMudWJ9LHRoaXMuc2lnbj1mdW5jdGlvbigpe3Rocm93XCJzaWduKCkgbm90IHN1cHBvcnRlZCBmb3IgdGhpcyBhbGc6cHJvdj1cIit0aGlzLnVifSx0aGlzLmhiPWZ1bmN0aW9uKHQpe3Rocm93XCJkaWdlc3RTdHJpbmcoc3RyKSBub3Qgc3VwcG9ydGVkIGZvciB0aGlzIGFsZzpwcm92PVwiK3RoaXMudWJ9LHRoaXMuYWI9ZnVuY3Rpb24odCl7dGhyb3dcImRpZ2VzdEhleChoZXgpIG5vdCBzdXBwb3J0ZWQgZm9yIHRoaXMgYWxnOnByb3Y9XCIrdGhpcy51Yn0sdGhpcy52ZXJpZnk9ZnVuY3Rpb24odCl7dGhyb3dcInZlcmlmeShoU2lnVmFsKSBub3Qgc3VwcG9ydGVkIGZvciB0aGlzIGFsZzpwcm92PVwiK3RoaXMudWJ9LHRoaXMubGI9dCx2b2lkIDAhPT10JiYodm9pZCAwIT09dC5SUyYmKHRoaXMuSFM9dC5SUyx2b2lkIDA9PT10Lk9TP3RoaXMuTFM9S0pVUi5jcnlwdG8uV3kucVRbdGhpcy5IU106dGhpcy5MUz10Lk9TLHRoaXMudWI9dGhpcy5IUytcIjpcIit0aGlzLkxTLHRoaXMuQlModGhpcy5IUyx0aGlzLkxTKSx0aGlzLktTKCkpLHZvaWQgMCE9PXQuZmImJih0aGlzLmNiPXQuZmIpLHZvaWQgMCE9PXQucHJ2a2V5cGVtKSl7aWYodm9pZCAwIT09dC5wcnZrZXlwYXMpdGhyb3dcImJvdGggcHJ2a2V5cGVtIGFuZCBwcnZrZXlwYXMgcGFyYW1ldGVycyBub3Qgc3VwcG9ydGVkXCI7dHJ5e3ZhciBlPW5ldyBZO2UucmVhZFByaXZhdGVLZXlGcm9tUEVNU3RyaW5nKHQucHJ2a2V5cGVtKSx0aGlzLlhTKGUpfWNhdGNoKGkpe3Rocm93XCJmYXRhbCBlcnJvciB0byBsb2FkIHBlbSBwcml2YXRlIGtleTogXCIraX19fSxLSlVSLmNyeXB0by5OVD1uZXcgZnVuY3Rpb24oKXt0aGlzLmdiPXt2YjpcInJzYUVuY3J5cHRpb25cIix5YjpcImVjUHVibGljS2V5XCIsbWI6XCJkc2FcIix3YjpcInNlY3AyNTZyMVwiLFRiOlwic2VjcDE5MmsxXCIsU2I6XCJzZWNwMjI0cjFcIixiYjpcInNlY3AyNTZrMVwiLEViOlwic2VjcDUyMXIxXCIsSWI6XCJzZWNwMzg0cjFcIixSYjpcIlNIQTF3aXRoRFNBXCIsXCI2MDg2NDgwMTY1MDMwNDAzMDFcIjpcIlNIQTIyNHdpdGhEU0FcIixcIjYwODY0ODAxNjUwMzA0MDMwMlwiOlwiU0hBMjU2d2l0aERTQVwifX07dmFyIEJ0PTIwO1kucHJvdG90eXBlLkd5PVosWS5wcm90b3R5cGUucWg9WCxZLnByb3RvdHlwZS5lbmNyeXB0PXR0LFkucHJvdG90eXBlLmtiPWV0LFkucHJvdG90eXBlLnR5cGU9XCJSU0FcIjsvKiEgcnNhc2lnbi0xLjIuNy5qcyAoYykgMjAxMiBLZW5qaSBVcnVzaGltYSB8IGtqdXIuZ2l0aHViLmNvbS9qc3JzYXNpZ24vbGljZW5zZVxuICAgKi9cbiAgdmFyIEZ0PW5ldyBSZWdFeHAoXCJcIik7RnQuY29tcGlsZShcIlteMC05YS1mXVwiLFwiZ2lcIiksWS5wcm90b3R5cGUuJHk9bnQsWS5wcm90b3R5cGUuaGI9cnQsWS5wcm90b3R5cGUuQ2I9b3QsWS5wcm90b3R5cGUuT2I9c3QsWS5wcm90b3R5cGUuc2lnbj1ydCxZLnByb3RvdHlwZS5QYj1vdCxZLnByb3RvdHlwZS5BYj1zdCxZLnByb3RvdHlwZS5aeT1odCxZLnByb3RvdHlwZS5OYj1jdCxZLnByb3RvdHlwZS54Yj1jdCxZLkJiPS0xLFkuRmI9LTIsWS5wcm90b3R5cGUucGI9dnQsWS5wcm90b3R5cGUuSmg9Z3QsWS5wcm90b3R5cGUuX2I9ZnQsWS5wcm90b3R5cGUudmVyaWZ5PWd0LFkucHJvdG90eXBlLkRiPWZ0LFkucHJvdG90eXBlLmVtPW10LFkucHJvdG90eXBlLkhiPXl0LFkucHJvdG90eXBlLkxiPXl0LFkuTWI9LTIsZS5qYj1pLGUuTWg9WSxlLlNpZ25hdHVyZT1LSlVSLmNyeXB0by5TaWduYXR1cmUsZS5JUz1LSlVSLmNyeXB0by5JUyxlLlViPWJ0LGUuamg9SixlLlZiPUt9LGZ1bmN0aW9uKHQsZSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9e307aS5RYj1mdW5jdGlvbigpe3JldHVybiBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwxMCl9LGkucWI9aS5RYigpLGkuSmI9ZnVuY3Rpb24odCl7cmV0dXJuIHQudHJpbSgpLnNwbGl0KFwiXFxuXCIpLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdC50cmltKCl9KX0saS5LYj1mdW5jdGlvbih0KXt2YXIgZT10LnNwbGl0KFwiXFxubT1cIik7cmV0dXJuIGUubWFwKGZ1bmN0aW9uKHQsZSl7cmV0dXJuKGU+MD9cIm09XCIrdDp0KS50cmltKCkrXCJcXHJcXG5cIn0pfSxpLkdiPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGkuSmIodCkuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiAwPT09dC5pbmRleE9mKGUpfSl9LGkuemI9ZnVuY3Rpb24odCl7dmFyIGU7ZT0wPT09dC5pbmRleE9mKFwiYT1jYW5kaWRhdGU6XCIpP3Quc3Vic3RyaW5nKDEyKS5zcGxpdChcIiBcIik6dC5zdWJzdHJpbmcoMTApLnNwbGl0KFwiIFwiKTtmb3IodmFyIGk9e1diOmVbMF0sJGI6ZVsxXSxwcm90b2NvbDplWzJdLnRvTG93ZXJDYXNlKCksWWI6cGFyc2VJbnQoZVszXSwxMCksWGI6ZVs0XSxwb3J0OnBhcnNlSW50KGVbNV0sMTApLHR5cGU6ZVs3XX0scj04O3I8ZS5sZW5ndGg7cis9Milzd2l0Y2goZVtyXSl7Y2FzZVwicmFkZHJcIjppLlpiPWVbcisxXTticmVhaztjYXNlXCJycG9ydFwiOmkudEU9cGFyc2VJbnQoZVtyKzFdLDEwKTticmVhaztjYXNlXCJ0Y3B0eXBlXCI6aS5lRT1lW3IrMV07YnJlYWs7ZGVmYXVsdDppW2Vbcl1dPWVbcisxXX1yZXR1cm4gaX0saS5pRT1mdW5jdGlvbih0KXt2YXIgZT1bXTtlLnB1c2godC5XYiksZS5wdXNoKHQuJGIpLGUucHVzaCh0LnByb3RvY29sLnRvVXBwZXJDYXNlKCkpLGUucHVzaCh0LlliKSxlLnB1c2godC5YYiksZS5wdXNoKHQucG9ydCk7dmFyIGk9dC50eXBlO3JldHVybiBlLnB1c2goXCJ0eXBcIiksZS5wdXNoKGkpLFwiaG9zdFwiIT09aSYmdC5aYiYmdC50RSYmKGUucHVzaChcInJhZGRyXCIpLGUucHVzaCh0LlpiKSxlLnB1c2goXCJycG9ydFwiKSxlLnB1c2godC50RSkpLHQuZUUmJlwidGNwXCI9PT10LnByb3RvY29sLnRvTG93ZXJDYXNlKCkmJihlLnB1c2goXCJ0Y3B0eXBlXCIpLGUucHVzaCh0LmVFKSksXCJjYW5kaWRhdGU6XCIrZS5qb2luKFwiIFwiKX0saS5yRT1mdW5jdGlvbih0KXtyZXR1cm4gdC5zdWJzdHIoMTQpLnNwbGl0KFwiIFwiKX0saS5uRT1mdW5jdGlvbih0KXt2YXIgZT10LnN1YnN0cig5KS5zcGxpdChcIiBcIiksaT17b0U6cGFyc2VJbnQoZS5zaGlmdCgpLDEwKX07cmV0dXJuIGU9ZVswXS5zcGxpdChcIi9cIiksaS5uYW1lPWVbMF0saS5zRT1wYXJzZUludChlWzFdLDEwKSxpLmFFPTM9PT1lLmxlbmd0aD9wYXJzZUludChlWzJdLDEwKToxLGl9LGkuY0U9ZnVuY3Rpb24odCl7dmFyIGU9dC5vRTtyZXR1cm4gdm9pZCAwIT09dC5oRSYmKGU9dC5oRSksXCJhPXJ0cG1hcDpcIitlK1wiIFwiK3QubmFtZStcIi9cIit0LnNFKygxIT09dC5hRT9cIi9cIit0LmFFOlwiXCIpK1wiXFxyXFxuXCJ9LGkucEU9ZnVuY3Rpb24odCl7dmFyIGU9dC5zdWJzdHIoOSkuc3BsaXQoXCIgXCIpO3JldHVybntpZDpwYXJzZUludChlWzBdLDEwKSxkaXJlY3Rpb246ZVswXS5pbmRleE9mKFwiL1wiKT4wP2VbMF0uc3BsaXQoXCIvXCIpWzFdOlwic2VuZHJlY3ZcIix1cmk6ZVsxXX19LGkudUU9ZnVuY3Rpb24odCl7cmV0dXJuXCJhPWV4dG1hcDpcIisodC5pZHx8dC5wcmVmZXJyZWRJZCkrKHQuZGlyZWN0aW9uJiZcInNlbmRyZWN2XCIhPT10LmRpcmVjdGlvbj9cIi9cIit0LmRpcmVjdGlvbjpcIlwiKStcIiBcIit0LnVyaStcIlxcclxcblwifSxpLmxFPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZSxpPXt9LHI9dC5zdWJzdHIodC5pbmRleE9mKFwiIFwiKSsxKS5zcGxpdChcIjtcIiksbj0wO248ci5sZW5ndGg7bisrKWU9cltuXS50cmltKCkuc3BsaXQoXCI9XCIpLGlbZVswXS50cmltKCldPWVbMV07cmV0dXJuIGl9LGkuZEU9ZnVuY3Rpb24odCl7dmFyIGU9XCJcIixpPXQub0U7aWYodm9pZCAwIT09dC5oRSYmKGk9dC5oRSksdC5wYXJhbWV0ZXJzJiZPYmplY3Qua2V5cyh0LnBhcmFtZXRlcnMpLmxlbmd0aCl7dmFyIHI9W107T2JqZWN0LmtleXModC5wYXJhbWV0ZXJzKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3IucHVzaChlK1wiPVwiK3QucGFyYW1ldGVyc1tlXSl9KSxlKz1cImE9Zm10cDpcIitpK1wiIFwiK3Iuam9pbihcIjtcIikrXCJcXHJcXG5cIn1yZXR1cm4gZX0saS5mRT1mdW5jdGlvbih0KXt2YXIgZT10LnN1YnN0cih0LmluZGV4T2YoXCIgXCIpKzEpLnNwbGl0KFwiIFwiKTtyZXR1cm57dHlwZTplLnNoaWZ0KCksZ0U6ZS5qb2luKFwiIFwiKX19LGkudkU9ZnVuY3Rpb24odCl7dmFyIGU9XCJcIixpPXQub0U7cmV0dXJuIHZvaWQgMCE9PXQuaEUmJihpPXQuaEUpLHQueUUmJnQueUUubGVuZ3RoJiZ0LnlFLmZvckVhY2goZnVuY3Rpb24odCl7ZSs9XCJhPXJ0Y3AtZmI6XCIraStcIiBcIit0LnR5cGUrKHQuZ0UmJnQuZ0UubGVuZ3RoP1wiIFwiK3QuZ0U6XCJcIikrXCJcXHJcXG5cIn0pLGV9LGkubUU9ZnVuY3Rpb24odCl7dmFyIGU9dC5pbmRleE9mKFwiIFwiKSxpPXt3RTpwYXJzZUludCh0LnN1YnN0cig3LGUtNyksMTApfSxyPXQuaW5kZXhPZihcIjpcIixlKTtyZXR1cm4gcj4tMT8oaS5URT10LnN1YnN0cihlKzEsci1lLTEpLGkudmFsdWU9dC5zdWJzdHIocisxKSk6aS5URT10LnN1YnN0cihlKzEpLGl9LGkuU0U9ZnVuY3Rpb24odCl7dmFyIGU9aS5HYih0LFwiYT1taWQ6XCIpWzBdO2lmKGUpcmV0dXJuIGUuc3Vic3RyKDYpfSxpLmJFPWZ1bmN0aW9uKHQpe3ZhciBlPXQuc3Vic3RyKDE0KS5zcGxpdChcIiBcIik7cmV0dXJue2FsZ29yaXRobTplWzBdLnRvTG93ZXJDYXNlKCksdmFsdWU6ZVsxXX19LGkuRUU9ZnVuY3Rpb24odCxlKXt2YXIgcj1pLkdiKHQrZSxcImE9ZmluZ2VycHJpbnQ6XCIpO3JldHVybntJRTpcImF1dG9cIixSRTpyLm1hcChpLmJFKX19LGkua0U9ZnVuY3Rpb24odCxlKXt2YXIgaT1cImE9c2V0dXA6XCIrZStcIlxcclxcblwiO3JldHVybiB0LlJFLmZvckVhY2goZnVuY3Rpb24odCl7aSs9XCJhPWZpbmdlcnByaW50OlwiK3QuYWxnb3JpdGhtK1wiIFwiK3QudmFsdWUrXCJcXHJcXG5cIn0pLGl9LGkuQ0U9ZnVuY3Rpb24odCxlKXt2YXIgcj1pLkpiKHQpO3I9ci5jb25jYXQoaS5KYihlKSk7dmFyIG49e09FOnIuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiAwPT09dC5pbmRleE9mKFwiYT1pY2UtdWZyYWc6XCIpfSlbMF0uc3Vic3RyKDEyKSxwYXNzd29yZDpyLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4gMD09PXQuaW5kZXhPZihcImE9aWNlLXB3ZDpcIil9KVswXS5zdWJzdHIoMTApfTtyZXR1cm4gbn0saS5QRT1mdW5jdGlvbih0KXtyZXR1cm5cImE9aWNlLXVmcmFnOlwiK3QuT0UrXCJcXHJcXG5hPWljZS1wd2Q6XCIrdC5wYXNzd29yZCtcIlxcclxcblwifSxpLkFFPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT17TkU6W10seEU6W10sQkU6W10sRkU6W119LHI9aS5KYih0KSxuPXJbMF0uc3BsaXQoXCIgXCIpLG89MztvPG4ubGVuZ3RoO28rKyl7dmFyIHM9bltvXSxhPWkuR2IodCxcImE9cnRwbWFwOlwiK3MrXCIgXCIpWzBdO2lmKGEpe3ZhciBjPWkubkUoYSksaD1pLkdiKHQsXCJhPWZtdHA6XCIrcytcIiBcIik7c3dpdGNoKGMucGFyYW1ldGVycz1oLmxlbmd0aD9pLmxFKGhbMF0pOnt9LGMueUU9aS5HYih0LFwiYT1ydGNwLWZiOlwiK3MrXCIgXCIpLm1hcChpLmZFKSxlLk5FLnB1c2goYyksYy5uYW1lLnRvVXBwZXJDYXNlKCkpe2Nhc2VcIlJFRFwiOmNhc2VcIlVMUEZFQ1wiOmUuQkUucHVzaChjLm5hbWUudG9VcHBlckNhc2UoKSl9fX1yZXR1cm4gaS5HYih0LFwiYT1leHRtYXA6XCIpLmZvckVhY2goZnVuY3Rpb24odCl7ZS54RS5wdXNoKGkucEUodCkpfSksZX0saS5fRT1mdW5jdGlvbih0LGUpe3ZhciByPVwiXCI7cis9XCJtPVwiK3QrXCIgXCIscis9ZS5ORS5sZW5ndGg+MD9cIjlcIjpcIjBcIixyKz1cIiBVRFAvVExTL1JUUC9TQVZQRiBcIixyKz1lLk5FLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwIT09dC5oRT90LmhFOnQub0V9KS5qb2luKFwiIFwiKStcIlxcclxcblwiLHIrPVwiYz1JTiBJUDQgMC4wLjAuMFxcclxcblwiLHIrPVwiYT1ydGNwOjkgSU4gSVA0IDAuMC4wLjBcXHJcXG5cIixlLk5FLmZvckVhY2goZnVuY3Rpb24odCl7cis9aS5jRSh0KSxyKz1pLmRFKHQpLHIrPWkudkUodCl9KTt2YXIgbj0wO3JldHVybiBlLk5FLmZvckVhY2goZnVuY3Rpb24odCl7dC5ERT5uJiYobj10LkRFKX0pLG4+MCYmKHIrPVwiYT1tYXhwdGltZTpcIituK1wiXFxyXFxuXCIpLHIrPVwiYT1ydGNwLW11eFxcclxcblwiLGUueEUuZm9yRWFjaChmdW5jdGlvbih0KXtyKz1pLnVFKHQpfSkscn0saS5IRT1mdW5jdGlvbih0KXt2YXIgZSxyPVtdLG49aS5BRSh0KSxvPW4uQkUuaW5kZXhPZihcIlJFRFwiKSE9PS0xLHM9bi5CRS5pbmRleE9mKFwiVUxQRkVDXCIpIT09LTEsYT1pLkdiKHQsXCJhPXNzcmM6XCIpLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gaS5tRSh0KX0pLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm5cImNuYW1lXCI9PT10LlRFfSksYz1hLmxlbmd0aD4wJiZhWzBdLndFLGg9aS5HYih0LFwiYT1zc3JjLWdyb3VwOkZJRFwiKS5tYXAoZnVuY3Rpb24odCl7dmFyIGU9dC5zcGxpdChcIiBcIik7cmV0dXJuIGUuc2hpZnQoKSxlLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gcGFyc2VJbnQodCwxMCl9KX0pO2gubGVuZ3RoPjAmJmhbMF0ubGVuZ3RoPjEmJmhbMF1bMF09PT1jJiYoZT1oWzBdWzFdKSxuLk5FLmZvckVhY2goZnVuY3Rpb24odCl7aWYoXCJSVFhcIj09PXQubmFtZS50b1VwcGVyQ2FzZSgpJiZ0LnBhcmFtZXRlcnMuYXB0KXt2YXIgaT17d0U6YyxMRTpwYXJzZUludCh0LnBhcmFtZXRlcnMuYXB0LDEwKSxNRTp7d0U6ZX19O3IucHVzaChpKSxvJiYoaT1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGkpKSxpLmpFPXt3RTplLFVFOnM/XCJyZWQrdWxwZmVjXCI6XCJyZWRcIn0sci5wdXNoKGkpKX19KSwwPT09ci5sZW5ndGgmJmMmJnIucHVzaCh7d0U6Y30pO3ZhciBwPWkuR2IodCxcImI9XCIpO3JldHVybiBwLmxlbmd0aCYmKDA9PT1wWzBdLmluZGV4T2YoXCJiPVRJQVM6XCIpP3A9cGFyc2VJbnQocFswXS5zdWJzdHIoNyksMTApOjA9PT1wWzBdLmluZGV4T2YoXCJiPUFTOlwiKSYmKHA9cGFyc2VJbnQocFswXS5zdWJzdHIoNSksMTApKSxyLmZvckVhY2goZnVuY3Rpb24odCl7dC5WRT1wfSkpLHJ9LGkuUUU9ZnVuY3Rpb24odCl7dmFyIGU9e30scj1pLkdiKHQsXCJhPXNzcmM6XCIpLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gaS5tRSh0KX0pLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm5cImNuYW1lXCI9PT10LlRFfSlbMF07ciYmKGUucUU9ci52YWx1ZSxlLndFPXIud0UpO3ZhciBuPWkuR2IodCxcImE9cnRjcC1yc2l6ZVwiKTtlLkpFPW4ubGVuZ3RoPjAsZS5LRT0wPT09bi5sZW5ndGg7dmFyIG89aS5HYih0LFwiYT1ydGNwLW11eFwiKTtyZXR1cm4gZS5HRT1vLmxlbmd0aD4wLGV9LGkuekU9ZnVuY3Rpb24odCl7dmFyIGUscj1pLkdiKHQsXCJhPW1zaWQ6XCIpO2lmKDE9PT1yLmxlbmd0aClyZXR1cm4gZT1yWzBdLnN1YnN0cig3KS5zcGxpdChcIiBcIikse3N0cmVhbTplWzBdLHRyYWNrOmVbMV19O3ZhciBuPWkuR2IodCxcImE9c3NyYzpcIikubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBpLm1FKHQpfSkuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVyblwibXNpZFwiPT09dC5URX0pO3JldHVybiBuLmxlbmd0aD4wPyhlPW5bMF0udmFsdWUuc3BsaXQoXCIgXCIpLHtzdHJlYW06ZVswXSx0cmFjazplWzFdfSk6dm9pZCAwfSxpLldFPWZ1bmN0aW9uKCl7cmV0dXJuXCJ2PTBcXHJcXG5vPXRoaXNpc2FkYXB0ZXJvcnRjIDgxNjk2Mzk5MTU2NDY5NDMxMzcgMiBJTiBJUDQgMTI3LjAuMC4xXFxyXFxucz0tXFxyXFxudD0wIDBcXHJcXG5cIn0saS4kRT1mdW5jdGlvbih0LGUscixuKXt2YXIgbz1pLl9FKHQua2luZCxlKTtpZihvKz1pLlBFKHQuWUUuZ2V0TG9jYWxQYXJhbWV0ZXJzKCkpLG8rPWkua0UodC5YRS5nZXRMb2NhbFBhcmFtZXRlcnMoKSxcIm9mZmVyXCI9PT1yP1wiYWN0cGFzc1wiOlwiYWN0aXZlXCIpLG8rPVwiYT1taWQ6XCIrdC5aRStcIlxcclxcblwiLG8rPXQuZGlyZWN0aW9uP1wiYT1cIit0LmRpcmVjdGlvbitcIlxcclxcblwiOnQudEkmJnQuZUk/XCJhPXNlbmRyZWN2XFxyXFxuXCI6dC50ST9cImE9c2VuZG9ubHlcXHJcXG5cIjp0LmVJP1wiYT1yZWN2b25seVxcclxcblwiOlwiYT1pbmFjdGl2ZVxcclxcblwiLHQudEkpe3ZhciBzPVwibXNpZDpcIituLmlkK1wiIFwiK3QudEkudHJhY2suaWQrXCJcXHJcXG5cIjtvKz1cImE9XCIrcyxvKz1cImE9c3NyYzpcIit0LmlJWzBdLndFK1wiIFwiK3MsdC5pSVswXS5NRSYmKG8rPVwiYT1zc3JjOlwiK3QuaUlbMF0uTUUud0UrXCIgXCIrcyxvKz1cImE9c3NyYy1ncm91cDpGSUQgXCIrdC5pSVswXS53RStcIiBcIit0LmlJWzBdLk1FLndFK1wiXFxyXFxuXCIpfXJldHVybiBvKz1cImE9c3NyYzpcIit0LmlJWzBdLndFK1wiIGNuYW1lOlwiK2kucWIrXCJcXHJcXG5cIix0LnRJJiZ0LmlJWzBdLk1FJiYobys9XCJhPXNzcmM6XCIrdC5pSVswXS5NRS53RStcIiBjbmFtZTpcIitpLnFiK1wiXFxyXFxuXCIpLG99LGkuckk9ZnVuY3Rpb24odCxlKXtmb3IodmFyIHI9aS5KYih0KSxuPTA7bjxyLmxlbmd0aDtuKyspc3dpdGNoKHJbbl0pe2Nhc2VcImE9c2VuZHJlY3ZcIjpjYXNlXCJhPXNlbmRvbmx5XCI6Y2FzZVwiYT1yZWN2b25seVwiOmNhc2VcImE9aW5hY3RpdmVcIjpyZXR1cm4gcltuXS5zdWJzdHIoMil9cmV0dXJuIGU/aS5ySShlKTpcInNlbmRyZWN2XCJ9LGkubkk9ZnVuY3Rpb24odCl7dmFyIGU9aS5KYih0KSxyPWVbMF0uc3BsaXQoXCIgXCIpO3JldHVybiByWzBdLnN1YnN0cigyKX0saS5VdD1mdW5jdGlvbih0KXtyZXR1cm5cIjBcIj09PXQuc3BsaXQoXCIgXCIsMilbMV19LHQudD1pfSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9aSgxKSxuPWkoMTApLG89ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy5tc2c9dCx0aGlzLm9JPURhdGUubm93KCkrZSx0aGlzLnNJPXIuZGVmZXIoKX1yZXR1cm4gdC5wcm90b3R5cGUuYUk9ZnVuY3Rpb24oKXtyZXR1cm4gRGF0ZS5ub3coKT49dGhpcy5vSX0sdH0oKSxzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsaSxyLG4sbyxzKXt2b2lkIDA9PT1lJiYoZT0zZTQpLHZvaWQgMD09PWkmJihpPTEwMCksdm9pZCAwPT09ciYmKHI9M2U0KSx2b2lkIDA9PT1uJiYobj0xNWUzKSx2b2lkIDA9PT1vJiYobz1EYXRlKSx2b2lkIDA9PT1zJiYocz0hMSksdGhpcy5jST0xLHRoaXMuaEk9LTEsdGhpcy5wST0tMSx0aGlzLnVJPXt9LHRoaXMubEk9W10sdGhpcy5kST1bXSx0aGlzLmZJPSExLHRoaXMuZ0k9ITAsdGhpcy52ST10LHRoaXMueUk9QXJyYXkoKSx0aGlzLkFvPWUsdGhpcy5Obz1pLHRoaXMueG89cix0aGlzLm1JPW4sdGhpcy53ST1vLHRoaXMuZkk9c3x8L01TSUUgMTAvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpfHwvTVNJRSA5L2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KXx8L3J2OjExLjAvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpfHwvRWRnZS4vaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpfXJldHVybiB0LnByb3RvdHlwZS5FdD1mdW5jdGlvbih0KXt2YXIgZT10LnNlcnZpY2UrXCJfXCIrdC5tc2dJZCxpPXRoaXMudUlbZV07bnVsbCE9aT9pKHQpOm4ubSgpLmVycm9yKG4udStcIkNvdWxkIG5vdCBmaW5kIGEgZGlzcGF0Y2hlciBmb3IgXCIsdCxlLHRoaXMudUkpfSx0LnByb3RvdHlwZS5vbj1mdW5jdGlvbih0LGUsaSl7dGhpcy51SVt0K1wiX1wiK2VdPWl9LHQucHJvdG90eXBlLm9uZXJyb3I9ZnVuY3Rpb24odCl7dGhpcy5sSS5wdXNoKHQpfSx0LnByb3RvdHlwZS5UST1mdW5jdGlvbih0KXt0aGlzLmRJLnB1c2godCl9LHQucHJvdG90eXBlLlNJPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztpZighd2luZG93LldlYlNvY2tldClyZXR1cm4gdm9pZCB0aGlzLmxJLmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIHQoXCJXZWJTb2NrZXQgbm90IGRlZmluZWRcIil9KTt2YXIgZT1uZXcgV2ViU29ja2V0KHRoaXMudkkpO3JldHVybiBlLmJpbmFyeVR5cGU9XCJhcnJheWJ1ZmZlclwiLGUub25vcGVuPWZ1bmN0aW9uKGUpe3QuYkkoKSxuLm0oKS5kZWJ1ZyhuLnUrXCJIaXZlU2VydmljZXNDb25uZWN0aW9uIGVzdGFibGlzaGVkIHRvIFwiK3QudkkpLHQucEk9KG5ldyB0LndJKS5nZXRUaW1lKCksdC5FSSgpLHQuZEkuZm9yRWFjaChmdW5jdGlvbihlKXtyZXR1cm4gZSh0KX0pLHQuSUkoKSx0LlJJKCl9LGUub25jbG9zZT1mdW5jdGlvbihlKXt0LmNsb3NlKHQuZ0kpLHQuY29ubmVjdCgpfSxlLm9ubWVzc2FnZT1mdW5jdGlvbihlKXt0LkV0KG4uWm4ud28oZS5kYXRhKSl9LGUub25lcnJvcj1mdW5jdGlvbihlKXt0LmNsb3NlKCEwKSx0LmxJLmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIHQoZS50b1N0cmluZygpKX0pfSxlfSx0LnByb3RvdHlwZS5pc09wZW49ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9dGhpcy5PcCYmdGhpcy5PcC5yZWFkeVN0YXRlPT10aGlzLk9wLk9QRU59LHQucHJvdG90eXBlLmNvbm5lY3Q9ZnVuY3Rpb24odCl7dmFyIGU9dGhpczt0JiYodGhpcy5nST0hMCksdGhpcy5nSSYmMSE9dGhpcy5pc09wZW4oKSYmKHRoaXMuaEk+MHx8KHRoaXMucEk+LTEmJihuZXcgdGhpcy53SSkuZ2V0VGltZSgpLXRoaXMucEk+dGhpcy5Bbz8odGhpcy5jST1uLmtlLnlvLHRoaXMucEk9LTEpOnRoaXMuY0k9TWF0aC5taW4oMip0aGlzLmNJLHRoaXMuQW8pLHRoaXMuaEk9d2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXtlLmhJPS0xLG4ubSgpLmRlYnVnKG4udStcIkNvbm5lY3Rpb24gYXR0ZW1wdCB0byBcIitlLnZJK1wiIFt0OlwiK2UuY0krXCIgaGI6XCIrZS5mSStcIl1cIiksZS5PcD1lLlNJKCksZS5jST1NYXRoLm1heChlLmNJLG4ua2UueW8pfSx0aGlzLmNJKSkpfSx0LnByb3RvdHlwZS5iST1mdW5jdGlvbigpe3RoaXMuaEk+LTEmJihjbGVhclRpbWVvdXQodGhpcy5oSSksdGhpcy5oST0tMSl9LHQucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKHQpe3RoaXMuZ0k9dm9pZCAwIT10JiZ0LG4ubSgpLmRlYnVnKG4udStcIkNsb3NpbmcgY29ubmVjdGlvbiBbcmVjb25uZWN0OlwiK3RoaXMuZ0krXCJdXCIpLHRoaXMuYkkoKSxudWxsIT10aGlzLk9wJiYodGhpcy5PcC5jbG9zZSgpLHRoaXMuT3A9bnVsbCl9LHQucHJvdG90eXBlLkVJPWZ1bmN0aW9uKCl7Zm9yKDt0aGlzLnlJLmxlbmd0aD4wOyl7dmFyIHQ9dGhpcy55SS5wb3AoKTt0cnl7dC5hSSgpP3Quc0kucmVqZWN0KG5ldyBFcnJvcihcIk1lc3NhZ2UgZXhwaXJlZFwiKSk6KHRoaXMuSUkoKSx0aGlzLk9wLnNlbmQodC5tc2cubW8oKSkpfWNhdGNoKGUpe2lmKGUuY29kZT09PURPTUV4Y2VwdGlvbi5JTlZBTElEX1NUQVRFX0VSUil7dGhpcy55SS5wdXNoKHQpO2JyZWFrfW4ubSgpLmVycm9yKG4udStcIkZhaWxlZCB0byBzZW5kIHRoZSBtZXNzYWdlLCBkcm9wcGVkOiBcIixlLmNvZGUsZS5uYW1lKSx0LnNJLnJlamVjdChlKX19dGhpcy5SSSgpfSx0LnByb3RvdHlwZS5JST1mdW5jdGlvbigpe3RoaXMua0kmJihjbGVhclRpbWVvdXQodGhpcy5rSSksdGhpcy5rST1udWxsKX0sdC5wcm90b3R5cGUuUkk9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuZkkmJiF0aGlzLmtJJiYodGhpcy5rST13aW5kb3cuc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXt0LnNlbmQobmV3IG4uWm4oU2VydmljZXMuQ2YsMCxcIlwiKSl9LHRoaXMubUkpKX0sdC5wcm90b3R5cGUuc2VuZD1mdW5jdGlvbih0LGUpe2lmKHZvaWQgMD09PWUmJihlPXRoaXMueG8pLHRoaXMueUkubGVuZ3RoPj10aGlzLk5vKXRocm93IG5ldyBFcnJvcihcIkhpdmVTZXJ2aWNlcyBjb25uZWN0aW9uIGNhbm5vdCBxdWV1ZSBtb3JlIG1lc3NhZ2VzXCIpO3ZhciBpPW5ldyBvKHQsZSk7cmV0dXJuIHRoaXMueUkucHVzaChpKSx0aGlzLk9wJiZ0aGlzLkVJKCksaS5zSS52dH0sdC5wcm90b3R5cGUuQ0k9ZnVuY3Rpb24odCl7dGhpcy5mST10LHRoaXMuZkkmJnRoaXMuUkkoKX0sdC5wcm90b3R5cGUuT0k9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9dGhpcy5PcH0sdH0oKTtlLkFJPXN9LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1pKDE1KSxuPWkoMzgpLG89aSgyNCkscz1pKDIpLGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnByb3RvdHlwZS5hcHBseT1mdW5jdGlvbih0KXt0LmJpbmQobmV3IHIubnMocy5GcmFtZXdvcmsuRmUubWUsbi5OSSxyLnNzLmxzKSksdC5iaW5kKG5ldyByLm5zKHMuRnJhbWV3b3JrLkZlLndlLG8uRWwuYmwpKX0sdH0oKTtlLlRkPWF9LGZ1bmN0aW9uKHQsZSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbD90aGlzLnhJPWdsb2JhbDp0aGlzLnhJPXdpbmRvd31yZXR1cm4gdC5wcm90b3R5cGUuQ3Q9ZnVuY3Rpb24oKXtyZXR1cm4hMX0sdC5wcm90b3R5cGUuQkk9ZnVuY3Rpb24odCxlLGkpe30sdC5wcm90b3R5cGUuYmU9ZnVuY3Rpb24oKXt9LHQucHJvdG90eXBlLnRpbWU9ZnVuY3Rpb24oKXtyZXR1cm4rbmV3IERhdGV9LHQucHJvdG90eXBlLnNldFRpbWVvdXQ9ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLnhJLnNldFRpbWVvdXQoZnVuY3Rpb24oKXt0KCl9LGUpO3JldHVybiBpfSx0LnByb3RvdHlwZS5jbGVhclRpbWVvdXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMueEkuY2xlYXJUaW1lb3V0KHQpLCEwfSx0LnByb3RvdHlwZS5zZXRJbnRlcnZhbD1mdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMueEkuc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXt0KCl9LGUpO3JldHVybiBpfSx0LnByb3RvdHlwZS5jbGVhckludGVydmFsPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnhJLmNsZWFySW50ZXJ2YWwodCksITB9LHR9KCk7ZS5OST1pfSxmdW5jdGlvbih0LGUpe1widXNlIHN0cmljdFwiO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3RoaXMuVW89dCx0aGlzLlZvPWV9cmV0dXJuIHQucHJvdG90eXBlLldvPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuVW99LHQucHJvdG90eXBlLiRvPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuVm8/dGhpcy5Wbzp0aGlzLlVvfSx0fSgpO2UuRkk9aX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO3ZhciByLG49dGhpcyYmdGhpcy5fX2V4dGVuZHN8fGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gaSgpe3RoaXMuY29uc3RydWN0b3I9dH1mb3IodmFyIHIgaW4gZSllLmhhc093blByb3BlcnR5KHIpJiYodFtyXT1lW3JdKTt0LnByb3RvdHlwZT1udWxsPT09ZT9PYmplY3QuY3JlYXRlKGUpOihpLnByb3RvdHlwZT1lLnByb3RvdHlwZSxuZXcgaSl9LG89aSg4KSxzPW8ucHQuSXIuSXIsYT1vLnB0LklyLmtyOyFmdW5jdGlvbih0KXt2YXIgZTshZnVuY3Rpb24odCl7dmFyIGU9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBlPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gZS5hdXRoVG9rZW5FbmFibGVkPSEwLGUuZGFzaFJlbW92ZUJpdHJhdGVTaXplPSExLGUuZGFzaEZpbHRlckJpdHJhdGVzPW51bGwsZS5sb2dKc29uU25hcHNob3RzPXZvaWQgMCxlfXJldHVybiBuKGUsdCksZX0ocyk7dC5GbD1lO3ZhciBpPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgZT1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIGUuaGl2ZUF1dGhUb2tlbkVuYWJsZWQ9XCJhdXRoVG9rZW5FbmFibGVkXCIsZS5oaXZlRGFzaFJlbW92ZUJpdHJhdGVTaXplPVwiZGFzaFJlbW92ZUJpdHJhdGVTaXplXCIsZS5oaXZlRGFzaEZpbHRlckJpdHJhdGVzPVwiZGFzaEZpbHRlckJpdHJhdGVzXCIsZS5oaXZlTG9nSnNvblNuYXBzaG90cz1cImxvZ0pzb25TbmFwc2hvdHNcIixlfXJldHVybiBuKGUsdCksZX0oYSk7dC5EbD1pfShlPXQuSXJ8fCh0LklyPXt9KSl9KHI9ZS5wdHx8KGUucHQ9e30pKTt2YXIgYz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQuSGw9ZnVuY3Rpb24odCl7XCJkYXNoUmVtb3ZlQml0cmF0ZVNpemVcImluIHQmJnQuZGFzaFJlbW92ZUJpdHJhdGVTaXplJiZ3aW5kb3cuSGl2ZUNvbmZpZyYmd2luZG93LkhpdmVDb25maWcuRGFzaCYmKHdpbmRvdy5IaXZlQ29uZmlnLkRhc2guRGFzaFJlbW92ZUJpdHJhdGVTaXplPXQuZGFzaFJlbW92ZUJpdHJhdGVTaXplKSxcImRhc2hGaWx0ZXJCaXRyYXRlc1wiaW4gdCYmdC5kYXNoRmlsdGVyQml0cmF0ZXMmJndpbmRvdy5IaXZlQ29uZmlnJiZ3aW5kb3cuSGl2ZUNvbmZpZy5EYXNoJiYod2luZG93LkhpdmVDb25maWcuRGFzaC5EYXNoRmlsdGVyQml0cmF0ZXM9dC5kYXNoRmlsdGVyQml0cmF0ZXMpLFwibG9nSnNvblNuYXBzaG90c1wiaW4gdCYmdC5sb2dKc29uU25hcHNob3RzJiZ3aW5kb3cuSGl2ZUNvbmZpZyYmd2luZG93LkhpdmVDb25maWcuRGVidWdMb2dzJiYod2luZG93LkhpdmVDb25maWcuRGVidWdMb2dzLk1ldHJpY1NuYXBzaG90TG9ncz0xLHdpbmRvdy5IaXZlQ29uZmlnLkRlYnVnTG9ncy5UcmFja1NuYXBzaG90TG9ncz0xLHdpbmRvdy5IaXZlQ29uZmlnLkRlYnVnTG9ncy5nbD0xKX0sdH0oKTtlLkxsPWN9LGZ1bmN0aW9uKHQsZSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dmFyIGU9dGhpcztpZih0aGlzLl9JPW5ldyBBcnJheSx0aGlzLmNhbGxiYWNrcz1uZXcgQXJyYXksdC5HaSl0aHJvdyBuZXcgRXJyb3IoXCJFcnJvcjogSW5zdGFudGlhdGlvbiBmYWlsZWQ6IFVzZSBLZXlIYW5kbGVySGl2ZUNvbW0uZ2V0SW5zdGFuY2UoKSBpbnN0ZWFkIG9mIG5ldy5cIik7dmFyIGk9e307ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIixmdW5jdGlvbih0KXtpW3Qua2V5Q29kZV09ITAsZS5ESShpKX0sITApLGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLGZ1bmN0aW9uKHQpe2k9e319LCEwKX1yZXR1cm4gdC5XaT1mdW5jdGlvbigpe3JldHVybiB2b2lkIDA9PT10aGlzLkdpJiYodGhpcy5HaT1uZXcgdCksdGhpcy5HaX0sdC5wcm90b3R5cGUuRGg9ZnVuY3Rpb24odCxlKXt0aGlzLl9JLnB1c2godCksdGhpcy5jYWxsYmFja3MucHVzaChlKX0sdC5wcm90b3R5cGUuREk9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPWZ1bmN0aW9uKGUpe3ZhciByPSEwO2kuX0lbZV0uZm9yRWFjaChmdW5jdGlvbihlKXt2b2lkIDAhPXRbZV0mJnRbZV18fChyPSExKX0pLHImJmkuY2FsbGJhY2tzW2VdKCl9LGk9dGhpcyxyPTA7cjx0aGlzLl9JLmxlbmd0aDtyKyspZShyKX0sdH0oKTtlLkhoPWl9LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1pKDEyKSxuPWkoMTgpLG89aSg3KSxzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLkhJPW4ua2UueXI/OTk4OTo5OTg4LHRoaXMuTEk9LTEsdGhpcy5NST10LHRoaXMuakkoKX1yZXR1cm4gdC5wcm90b3R5cGUuakk9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuTUkub3B0aW9ucygpLnNpbGVudCYmdm9pZCAwPT09dGhpcy5VSSYmKHRoaXMudXJsPVwiLy9cIityLndyLlRvK1wiOlwiK3RoaXMuSEkrXCIvZmVlZGJhY2tcIix0aGlzLk1JLm0oKS5pbmZvKFwic3RhcnRpbmcgcGVyaW9kaWMgYWxpdmUgcGluZyB0byBoaXZlIHRlc3RlciBbXCIrdGhpcy51cmwrXCJdXCIpLHRoaXMuVUk9c2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXt0LlZJKCl9LG4ua2UuTmgpKX0sdC5wcm90b3R5cGUuVkk9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9dGhpcy5NSS5nZXRDdXJyZW50VGltZSgpO2U+dGhpcy5MST8odGhpcy5NSS5tKCkuaW5mbyhcInNlbmRpbmcgaGl2ZSB0ZXN0ZXIgcGluZyBbXCIrZStcIiA+IFwiK3RoaXMuTEkrXCJdXCIpLG8uWmkodGhpcy51cmwpLnRoZW4oZnVuY3Rpb24odCl7fSxmdW5jdGlvbihlKXt0Lk1JLm0oKS5lcnJvcihcImVycm9yIHNlbmRpbmcgaGl2ZSB0ZXN0ZXIgcGluZ1wiLGUpLGNsZWFySW50ZXJ2YWwodC5VSSl9KSk6dGhpcy5NSS5tKCkud2FybihcIm5vdCBzZW5kaW5nIGhpdmUgdGVzdGVyIHBpbmcgW1wiK2UrXCIgPD0gXCIrdGhpcy5MSStcIl1cIiksdGhpcy5MST1lfSx0fSgpO2UuVWw9c30sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO3ZhciByPXRoaXMmJnRoaXMuX19leHRlbmRzfHxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIGkoKXt0aGlzLmNvbnN0cnVjdG9yPXR9Zm9yKHZhciByIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShyKSYmKHRbcl09ZVtyXSk7dC5wcm90b3R5cGU9bnVsbD09PWU/T2JqZWN0LmNyZWF0ZShlKTooaS5wcm90b3R5cGU9ZS5wcm90b3R5cGUsbmV3IGkpfSxuPWkoMSksbz1pKDcpLHM9aSg4KSxhPWkoNDQpLGM9aSgxNyksaD1pKDEyKSxwPWkoMTQpLHU9aSg5KSxsPWkoMjApLGQ9aSgxOSksZj1hLnB0LklyLGc9cy5wdC5Jci5rcix2PWMucHQuSGl2ZVRlY2hFcnJvcix5PWMucHQuYmgsbT1pKDI4KTtlLlFJPW5hdmlnYXRvcjt2YXIgdz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIG51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gcihlLHQpLGV9KG8uQmkpLFQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy5xST0wLHRoaXMuTUk9dCx0aGlzLm9wdGlvbnNfPW5ldyBmLkpJLHRoaXMuS0koZSksby5vcih3aW5kb3cubG9jYXRpb24uaHJlZixuZXcgZyx0aGlzLm9wdGlvbnNfKX1yZXR1cm4gdC5wcm90b3R5cGUuQWk9ZnVuY3Rpb24oKXtyZXR1cm4gdC5KbH0sdC5wcm90b3R5cGUuZ2V0VmVyc2lvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnZlcnNpb259LHQucHJvdG90eXBlLldsPWZ1bmN0aW9uKCl7cmV0dXJuITF9LHQucHJvdG90eXBlLkdJPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztpZihudWxsPT10aGlzLnpJfHxEYXRlLm5vdygpLXRoaXMucUk+MWU0KXt2YXIgZT1uZXcgbTtlLkluKG5hdmlnYXRvci51c2VyQWdlbnQpO3ZhciBpPWUuJGQoKTtpZihcIklFXCI9PT1pLm5hbWUmJmkudmVyc2lvbiYmcGFyc2VJbnQoaS52ZXJzaW9uKTwxMClyZXR1cm4gbi5yZWplY3QobmV3IHYoeS55aCxcIkludGVybmV0IEV4cGxvcmVyIDwgdi4xMCBub3Qgc3VwcG9ydGVkXCIpKTt0aGlzLldJPURhdGUubm93KCksdGhpcy4kST0wO3ZhciByPVwiLy9cIitoLndyLlRvK1wiOlwiK3RoaXMuTUkub3B0aW9ucygpLm1vbml0b3JQb3J0K1wiL3ZlcnNpb24uanNvblwiO3RoaXMubSgpLmRlYnVnKHRoaXMuaWQoKStcInZlcmlmeWluZyBIaXZlIENsaWVudCB2ZXJzaW9uXCIpLHRoaXMuekk9by5aaShyKS50aGVuKGZ1bmN0aW9uKGUpe3ZhciBpPUpTT04ucGFyc2UoZSk7cmV0dXJuIHQuc3RhdGU9aS5zdGF0ZSx0LnZlcnNpb249aS52ZXJzaW9uLFwicmVhZHlcIj09PXQuc3RhdGU/XCJkZXZlbG9wZXJcIj09PXQudmVyc2lvbnx8dC52ZXJzaW9uPj10Lm9wdGlvbnNfLm1pblZlcnNpb24/KHQuJEk9RGF0ZS5ub3coKSx0Lm0oKS5kZWJ1Zyh0LmlkKCkrXCJIaXZlIENsaWVudCByZWFkeSAtIHZlcnNpb24gXCIrdC52ZXJzaW9uK1wiIFtcIisodC4kSS10LldJKStcIl1cIiksXCJyZWFkeVwiKTooZC5FcnJvck1vbml0b3IuV2koKS5faCh0LmlkKCkrXCJDbGllbnQgdmVyc2lvbiByZXF1aXJlbWVudCBub3Qgc2F0aXNmaWVkOiBcIit0LnZlcnNpb24rXCIgPCBcIit0Lm9wdGlvbnNfLm1pblZlcnNpb24pLHQuTUkuZWQobmV3IHUuRi51byhudWxsLHUuRi5Hci5RcikpLG4ucmVqZWN0KG5ldyB2KHkuVGgsXCJ2ZXJzaW9uIFwiK3QudmVyc2lvbikpKTooZC5FcnJvck1vbml0b3IuV2koKS5faCh0LmlkKCkrXCJDbGllbnQgc3RhdGU6IFwiK3Quc3RhdGUpLHQuTUkuZWQobmV3IHUuRi51byhudWxsLHUuRi5Hci5WcikpLG4ucmVqZWN0KG5ldyB2KHkueWgsXCJzdGF0ZSBcIit0LnN0YXRlKSkpfSxmdW5jdGlvbihlKXt2YXIgaT1cIkNsaWVudCBub3QgcmVhY2hhYmxlXCI7cmV0dXJuIHZvaWQgMCE9ZSYmdm9pZCAwIT1lLnN0YXR1cyYmZS5zdGF0dXMhPS0xJiYoaT1cIkNsaWVudCBjaGVjayByZXR1cm5lZCBcIitlLnN0YXR1cyksZC5FcnJvck1vbml0b3IuV2koKS5faCh0LmlkKCkraSksdC5NSS5lZChuZXcgdS5GLnVvKG51bGwsdS5GLkdyLlVyKSksbi5yZWplY3QobmV3IHYoeS55aCxpKSl9KVtcImNhdGNoXCJdKGZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiB2KXJldHVybiBuLnJlamVjdChlKTt2YXIgaT1cIkVycm9yIGZldGNoaW5nIEhpdmUgQ2xpZW50IHZlcnNpb246IFwiK2U7cmV0dXJuIGQuRXJyb3JNb25pdG9yLldpKCkuX2godC5pZCgpK2kpLG4ucmVqZWN0KG5ldyB2KHkueWgsaSkpfSksdGhpcy5xST1EYXRlLm5vdygpfXJldHVybiB0aGlzLnpJfSx0LnByb3RvdHlwZS5pbml0U2Vzc2lvbj1mdW5jdGlvbih0LGUpe3ZhciBpPXRoaXM7cmV0dXJuIHRoaXMub3B0aW9uc18ubWluVmVyc2lvbiE9aC53ci5Jbz90aGlzLkdJKCkudGhlbihmdW5jdGlvbigpe3JldHVybiBpLllJKHQpW1wiY2F0Y2hcIl0oZnVuY3Rpb24odCl7cmV0dXJuIG4ucmVqZWN0KHQpfSl9KTp0aGlzLllJKHQpW1wiY2F0Y2hcIl0oZnVuY3Rpb24odCl7cmV0dXJuIG4ucmVqZWN0KHQpfSl9LHQucHJvdG90eXBlLllsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3B0aW9uc18uaW5pdFRpbWVvdXR9LHQucHJvdG90eXBlLnN0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuaW5kZXhPZihlLlhJKT4tMX0sdC5wcm90b3R5cGUuUGk9ZnVuY3Rpb24odCxpKXt2YXIgcj10aGlzO3RoaXMubSgpLmRlYnVnKHRoaXMuaWQoKStcIlN0b3BwaW5nIHNlc3Npb24gXCIrdC5pZCtcIiBbY29tcGxldGUgY2xvc2U6XCIraStcIl1cIik7dmFyIG49XCIvL1wiK2gud3IuVG8rXCI6XCIrdGhpcy5NSS5vcHRpb25zKCkucGxheWVyUG9ydCtcIi9zZXNzaW9uP2FjdGlvbj1zdG9wXCI7bis9XCImY3VycmVudFNlc3Npb249XCIrdC5pZCxpJiYobis9XCImY29tcGxldGVTdG9wPXRydWVcIiksaSYmZS5RSS5zZW5kQmVhY29uPyhlLlFJLnNlbmRCZWFjb24obiksdGhpcy5tKCkuZGVidWcodGhpcy5pZCgpK1wic2Vzc2lvbiBzdG9wcGVkIFtcIit0LmlkK1wiXVtiZWFjb25dXCIpKTpvLlppKG4sbnVsbCwhaSkudGhlbihmdW5jdGlvbigpe3IubSgpLmRlYnVnKHIuaWQoKStcInNlc3Npb24gc3RvcHBlZCBbXCIrdC5pZCtcIl1cIisoaT9cIltzeW5jXVwiOlwiXCIpKX0sZnVuY3Rpb24oZSl7ci5tKCkud2FybihyLmlkKCkrXCJzZXNzaW9uIGNsb3NlIGVycm9yIFtcIit0LmlkK1wiXVwiKyhpP1wiW3N5bmNdXCI6XCJcIiksZSl9KX0sdC5wcm90b3R5cGUuQ2k9ZnVuY3Rpb24odCxlKXt0aGlzLlpJPWU/cC5Gby5JRExFOnAuRm8uQm8sdGhpcy5tKCkubm90aWNlKFwiW0hpdmVDb21tXSBjbGllbnQgc3RhdGU6IFwiK3AuRm9bdGhpcy5aSV0pfSx0LnByb3RvdHlwZS5mZD1mdW5jdGlvbih0LGUpe2lmKHRoaXMuWkk9PXAuRm8uSURMRSlyZXR1cm4gbi5yZXNvbHZlKCEwKTt2YXIgaT1cInBsYXlpbmctcG9pbnQ9XCIrZS5scjtpKz1cIiZidWZmZXItbGVuZ3RoPVwiK2UuZHIsaSs9XCImdG90YWwtYnVmZmVyaW5nPVwiK2UuZ3IsaSs9XCImd2lkdGg9XCIrZS53aWR0aCxpKz1cIiZoZWlnaHQ9XCIrZS5oZWlnaHQsaSs9XCImZnVsbHNjcmVlbj1cIitlLmRkO3ZhciByPXQuWEkrXCJzdGF0cz9cIitpO3JldHVybiB0aGlzLm0oKS50cmFjZShyKSxvLlppKHIpfSx0LnByb3RvdHlwZS55ZD1mdW5jdGlvbih0LGUsaSl7dmFyIHI9dGhpcztpZighKGUhPT11LkYuQi5qciYmZSE9PXUuRi5CLkhJRERFTnx8dGhpcy52ZXJzaW9uJiYoXCJkZXZlbG9wZXJcIj09PXRoaXMudmVyc2lvbnx8dGhpcy52ZXJzaW9uPj1cIjIwMTdcIikpKXJldHVybiBuLnJlc29sdmUoITApO3ZhciBzPXQuWEkrXCJwbGF5ZXItZXZlbnQ/dHlwZT1cIit1LkYuQltlXTtpZih2b2lkIDAhPWkpZm9yKHZhciBhIGluIGkpcys9XCImXCIrYStcIj1cIitpW2FdO3JldHVybiB0aGlzLm0oKS5kZWJ1Zyh0aGlzLmlkKCkrXCJldmVudCBcIit1LkYuQltlXSx2b2lkIDAhPWk/aTpcIlwiKSxvLlppKHMpLmZhaWwoZnVuY3Rpb24odCl7cmV0dXJuIHIubSgpLndhcm4oci5pZCgpK1wiZXJyb3Igc2VuZGluZyBmZWVkYmFjayBldmVudCB0byBIaXZlIENsaWVudFwiLHQpLG4ucmVqZWN0KHQpfSl9LHQucHJvdG90eXBlLnduPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG4ucmVzb2x2ZSghMCl9LHQucHJvdG90eXBlLmhuPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7aWYodGhpcy50UigpKXJldHVybiB0aGlzLm0oKS53YXJuKFwiUGxheWVyIGluZm8gbm90IHN1cHBvcnRlZCBpbiB0aGlzIEphdmEgY2xpZW50IHZlcnNpb25cIiksbi5yZXNvbHZlKCEwKTt2YXIgaT1cImNvbW0tdmVyc2lvbj1cIit0aGlzLk1JLmN0KCk7aSs9XCImcGx1Z2luLW5hbWU9XCIrdGhpcy5NSS5UKCksaSs9XCImcGx1Z2luLXZlcnNpb249XCIrdGhpcy5NSS5JKCksaSs9XCImcGxheWVyLXRlY2g9XCIrdGhpcy5NSS5odCgpLGkrPVwiJnBsYXllci12ZXJzaW9uPVwiK3RoaXMuTUkucSgpO3ZhciByPXRoaXMuTUkudGQoKTtyJiYoaSs9XCImdGVsZW1ldHJ5LWlkPVwiK3RoaXMuTUkudGQoKSk7dmFyIHM9dC5YSStcInBsYXllci1pbmZvP1wiK2k7cmV0dXJuIG8uWmkocykuZmFpbChmdW5jdGlvbih0KXtyZXR1cm4gZS5tKCkuZGVidWcoZS5pZCgpK1wiZXJyb3Igc2VuZGluZyBwbGF5ZXIgSW5mbyB0byBIaXZlIENsaWVudFwiLHQpLG4ucmVqZWN0KHQpfSl9LHQucHJvdG90eXBlLm9uRXJyb3I9ZnVuY3Rpb24odCl7dmFyIGU9ITA7aWYodm9pZCAwIT10aGlzLm9wdGlvbnNfLm9uRXJyb3IpdHJ5e2U9dGhpcy5vcHRpb25zXy5vbkVycm9yKHQpfWNhdGNoKGkpe2QuRXJyb3JNb25pdG9yLldpKCkuX2godGhpcy5pZCgpK1wiZXhjZXB0aW9uIGluIHVzZXItZGVmaW5lZCBvbkVycm9yIGNhbGxiYWNrOiBcIitpKX1yZXR1cm4gZX0sdC5wcm90b3R5cGUuWmw9ZnVuY3Rpb24odCxlLGkpe3ZhciByPXtpc1JlYWR5SW46dGhpcy5XSSxpc1JlYWR5T3V0OnRoaXMuJEksbGVhc2VJbjp0aGlzLmVSLGxlYXNlT3V0OnRoaXMuaVIscmVzb2x2ZUluOnRoaXMuclIscmVzb2x2ZU91dDp0aGlzLm5SfTtcInVuZGVmaW5lZFwiIT10eXBlb2YgZSYmbnVsbCE9ZSYmKHIuc2Vzc2lvbklkPWUuaWQpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBpJiYoci50b3RhbD1pKTt2YXIgbj1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHIpKTtkLkVycm9yTW9uaXRvci5XaSgpLl9oKHQubWVzc2FnZSxuKSx0aGlzLk1JLmVkKG5ldyB1LkYudW8obnVsbCx1LkYuR3IuS3IscikpLHRoaXMub1IoKX0sdC5wcm90b3R5cGUub25BY3RpdmVTZXNzaW9uPWZ1bmN0aW9uKHQpe2lmKHRoaXMuaG4odCksby5hci5zZXRJdGVtKFwiaGl2ZUFjdGl2ZVNlc3Npb25JZFwiLHQuaWQpLHZvaWQgMCE9dGhpcy5vcHRpb25zXy5vbkFjdGl2ZVNlc3Npb24pdHJ5e3RoaXMub3B0aW9uc18ub25BY3RpdmVTZXNzaW9uKHQuZygpKX1jYXRjaChlKXtkLkVycm9yTW9uaXRvci5XaSgpLl9oKHRoaXMuaWQoKStcImV4Y2VwdGlvbiBpbiB1c2VyLWRlZmluZWQgb25BY3RpdmVTZXNzaW9uIGNhbGxiYWNrOiBcIitlKX19LHQucHJvdG90eXBlLnFsPWZ1bmN0aW9uKHQpe3RoaXMuTUk9dH0sdC5wcm90b3R5cGUuaWQ9ZnVuY3Rpb24oKXtyZXR1cm5cIltcIit0LkpsK1wiXSBcIn0sdC5wcm90b3R5cGUuS0k9ZnVuY3Rpb24oZSl7dm9pZCAwIT1lW3QuSmxdJiZvLm5yKGVbdC5KbF0sdGhpcy5vcHRpb25zXyl9LHQucHJvdG90eXBlLllJPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsaT0obmV3IERhdGUpLmdldFRpbWUoKTtyZXR1cm4gdGhpcy5zUih0KS50aGVuKGZ1bmN0aW9uKHIpe3JldHVybiByP2UuYVIodCxyLGkpOmUucCh0KS50aGVuKGZ1bmN0aW9uKHIpe3JldHVybiBlLmFSKHQscixpKX0pfSl9LHQucHJvdG90eXBlLnNSPWZ1bmN0aW9uKGUpe3ZhciBpPXRoaXM7aWYodGhpcy5lUj1EYXRlLm5vdygpLHRoaXMuTUkub3B0aW9ucygpLnVzZVNlc3Npb25DaGVjayl7dmFyIHI9XCIvL1wiK2gud3IuVG8rXCI6XCIrdGhpcy5NSS5vcHRpb25zKCkucGxheWVyUG9ydCtcIi9zZXNzaW9uPyZhY3Rpb249Y2hlY2tcIjtyKz1cIiZoaXZlUGx1Z2luSWQ9XCIrdGhpcy5NSS5TKCkscis9XCImY2FsbGJhY2s9XCIrZTt2YXIgcz1vLmFyLmdldEl0ZW0oXCJoaXZlQWN0aXZlU2Vzc2lvbklkXCIpO3JldHVybiBvLmFyLnJlbW92ZUl0ZW0oXCJoaXZlQWN0aXZlU2Vzc2lvbklkXCIpLHMmJihyKz1cIiZjdXJyZW50U2Vzc2lvbj1cIitzKSx0aGlzLmNSKCksby5aaShyKS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBpLmlSPURhdGUubm93KCksdD9pLmhSKHQscixlLGkuZVIpOihpLm0oKS5kZWJ1ZyhpLmlkKCkrXCJzZXNzaW9uIGFsbG93ZWQgW1wiKyhpLmlSLWkuZVIpK1wiXVwiKSwhMSl9LGZ1bmN0aW9uKGUpe2lmKDQwMD09ZS5zdGF0dXMpcmV0dXJuIGkucFIoXCJiYWQgcmVxdWVzdFwiLFwiZXJyb3IgcmVzb2x2aW5nIHRpY2tldFwiLGUpO2lmKDQwMT09ZS5zdGF0dXMpcmV0dXJuIGkucFIoXCJ1bmF1dGhvcml6ZWRcIixcImVycm9yIHZlcmlmeWluZyB0aGUgdGlja2V0XCIsZSk7aWYoNDAzPT1lLnN0YXR1cyl7dmFyIHI9dC51UihlLHZvaWQgMCxcInNlc3Npb25cIiksbz1yP3tsUjpyfTp2b2lkIDA7cmV0dXJuIGQuRXJyb3JNb25pdG9yLldpKCkuX2goaS5pZCgpK1wicmVwb3J0cyBhbm90aGVyIGFjdGl2ZSBzZXNzaW9uXCIsbyksaS5NSS5lZChuZXcgdS5GLnVvKG51bGwsdS5GLkdyLnFyLG8pKSxuLnJlamVjdChuZXcgdih5LndoLFwiYW5vdGhlciBhY3RpdmUgc2Vzc2lvblwiKyhvP1wiIFtcIitvLmxSK1wiXVwiOlwiXCIpKSl9cmV0dXJuIDQwND09ZS5zdGF0dXM/KGkubSgpLmRlYnVnKGkuaWQoKStcImluc3RhbGxlZCB2ZXJzaW9uIGRvZXMgbm90IHN1cHBvcnQgYWN0aXZlIHNlc3Npb24gY2hlY2tcIiksaS5pUj1EYXRlLm5vdygpLCExKTplLnN0YXR1cz09LTE/KGNsZWFyVGltZW91dChpLmRSKSxpLmZSKCkpOihkLkVycm9yTW9uaXRvci5XaSgpLl9oKGkuaWQoKStcIiB1bmhhbmRsZWQgZXJyb3IgZnJvbSBKYXZhXCIse2Vycm9yOmUuc3RhdHVzfSksaS5NSS5lZChuZXcgdS5GLnVvKG51bGwsdS5GLkdyLkpyKSksbi5yZWplY3QobmV3IHYoeS5taCxlKSkpfSlbXCJjYXRjaFwiXShmdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIHY/bi5yZWplY3QodCk6KGQuRXJyb3JNb25pdG9yLldpKCkuX2goaS5pZCgpK1wiIHVuaGFuZGxlZCBlcnJvciBvbiByZXF1ZXN0TGVhc2VEaXJlY3RcIix7ZXJyb3I6dH0pLGkuTUkuZWQobmV3IHUuRi51byhudWxsLHUuRi5Hci5KcikpLG4ucmVqZWN0KG5ldyB2KHkubWgsdCkpKX0pW1wiZmluYWxseVwiXShmdW5jdGlvbigpe2NsZWFyVGltZW91dChpLmRSKX0pfXJldHVybiB0aGlzLm0oKS5kZWJ1Zyh0aGlzLmlkKCkrXCJIaXZlIHNlc3Npb24gY2hlY2sgZGlzYWJsZWQgLSB3aWxsIGRpcmVjdGx5IHJlc29sdmUgdGlja2V0IChvdGhlciBhY3RpdmUgc2Vzc2lvbnMgbWF5IGZhaWwpXCIpLG4ucmVzb2x2ZSghMSl9LHQucHJvdG90eXBlLnBSPWZ1bmN0aW9uKGUsaSxyKXt2YXIgbz10LnVSKHIsZSk7cmV0dXJuIGQuRXJyb3JNb25pdG9yLldpKCkuX2goXCJcIit0aGlzLmlkKCkraSksdGhpcy5uUj1EYXRlLm5vdygpLG4ucmVqZWN0KG5ldyB2KHkucGgsbykpfSx0LnVSPWZ1bmN0aW9uKHQsZSxpKXt2b2lkIDA9PT1pJiYoaT1cInN0YXR1c1wiKTt2YXIgcj1lO2lmKHQuYm9keSl0cnl7dmFyIG49SlNPTi5wYXJzZSh0LmJvZHkpO3I9bltpXX1jYXRjaChvKXt9cmV0dXJuIHJ9LHQucHJvdG90eXBlLnA9ZnVuY3Rpb24odCl7dmFyIGU9dGhpczt0aGlzLnJSPURhdGUubm93KCksdGhpcy5tKCkuZGVidWcodGhpcy5pZCgpK1wicmVzb2x2aW5nIHRpY2tldDogXCIrdCk7dmFyIGk9dGhpcy5nUih0KTtyZXR1cm4gby5aaShpLFwiYXBwbGljYXRpb24vanNvblwiKS50aGVuKGZ1bmN0aW9uKHIpe3JldHVybiBlLmhSKHIsaSx0LGUuclIpfSxmdW5jdGlvbihpKXtyZXR1cm4gaSYmaS5zdGF0dXM9PS0xP2UuZlIoKTooZC5FcnJvck1vbml0b3IuV2koKS5faChlLmlkKCkrXCJlcnJvciByZXNvbHZpbmcgdGlja2V0XCIse3RpY2tldDp0fSksbi5yZWplY3QobmV3IHYoeS5waCxpKSkpfSlbXCJjYXRjaFwiXShmdW5jdGlvbih0KXtyZXR1cm4gZC5FcnJvck1vbml0b3IuV2koKS5faChlLmlkKCkrXCJlcnJvciBwYXJzaW5nIHRpY2tldCByZXNwb25zZTogXCIrdCksbi5yZWplY3QobmV3IHYoeS5taCx0KSl9KX0sdC5wcm90b3R5cGUuaFI9ZnVuY3Rpb24odCxlLGkscil7dmFyIG49SlNPTi5wYXJzZSh0KSxzPW8uaXIoZSxuLmxvY2F0aW9uKTtyZXR1cm4gbi52ZXJzaW9uJiYhdGhpcy52ZXJzaW9uJiYodGhpcy52ZXJzaW9uPW4udmVyc2lvbiksdGhpcy5uUj1EYXRlLm5vdygpLHRoaXMubSgpLmRlYnVnKHRoaXMuaWQoKStcInJlc29sdmVkIHRpY2tldCBcIitpK1wiIC0+IFwiK3MrXCIgW1wiKyh0aGlzLm5SLXIpK1wiXVwiKSxzfSx0LnByb3RvdHlwZS5hUj1mdW5jdGlvbih0LGUsaSl7dmFyIHI9dGhpcy52Uih0LGUpO2lmKG51bGwhPXIpe3ZhciBuPShuZXcgRGF0ZSkuZ2V0VGltZSgpLHM9bi1pO3JldHVybiBzPj10aGlzLm9wdGlvbnNfLndhcm5TbG93UmVzcFRpbWVvdXQmJnRoaXMuWmwobmV3IHYoeS5TaCx0aGlzLmlkKCkrXCIgVGhlIHRlY2ggaW5pdGlhbGl6YXRpb24gdG9vayBtb3JlIHRoYW4gXCIrdGhpcy5vcHRpb25zXy53YXJuU2xvd1Jlc3BUaW1lb3V0K1wiIG1pbGxpc2Vjb25kc1wiKSxyLHMpLG8uSGl2ZVJlcXVlc3RGYWN0b3J5LmJpKHIuaWQsdGhpcy5BaSgpKSxyfXRocm93IG5ldyB2KHkucGgsXCJlcnJvciBnZW5lcmF0aW5nIHNlc3Npb25cIil9LHQucHJvdG90eXBlLnZSPWZ1bmN0aW9uKHQsZSl7dmFyIGk9bmV3IGwuYXA7aS5LaCh0KTt2YXIgcj1uZXcgdyh0LGksZSxudWxsKTtyLnlSPSEwO3ZhciBuPWgud3IuRW8sbz1uLmV4ZWMoci5tYW5pZmVzdCk7cmV0dXJuIG51bGwhPW8/KHIuWEk9b1sxXSxyLmlkPW9bNV0scik6bnVsbH0sdC5wcm90b3R5cGUuZ1I9ZnVuY3Rpb24odCl7dmFyIGU9dC5pbmRleE9mKFwiP1wiKT09LTE/XCI/XCI6XCImXCI7cmV0dXJuIHRoaXMudFIoKT9vLnJyKGgud3IuYm8saC53ci5Ubyx0aGlzLk1JLm9wdGlvbnMoKS5wbGF5ZXJQb3J0LHQpOm8ucnIoaC53ci5TbyxoLndyLlRvLHRoaXMuTUkub3B0aW9ucygpLnBsYXllclBvcnQsdCxlLHRoaXMuTUkuUygpKX0sdC5wcm90b3R5cGUuY1I9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuZFImJmNsZWFyVGltZW91dCh0aGlzLmRSKSx0aGlzLmRSPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtkLkVycm9yTW9uaXRvci5XaSgpLl9oKHQuaWQoKStcIiBUaGUgTGVhc2UgUmVxdWVzdCBpcyB0YWtpbmcgbW9yZSB0aGFuIFwiK3Qub3B0aW9uc18ud2FyblNsb3dSZXNwVGltZW91dCtcIiBzZWNzXCIpfSx0aGlzLm9wdGlvbnNfLndhcm5TbG93UmVzcFRpbWVvdXQpfSx0LnByb3RvdHlwZS5vUj1mdW5jdGlvbigpe3RoaXMuZVI9MCx0aGlzLmlSPTAsdGhpcy5yUj0wLHRoaXMublI9MH0sdC5wcm90b3R5cGUubT1mdW5jdGlvbigpe3JldHVybiB0aGlzLk1JLm0oKX0sdC5wcm90b3R5cGUuemw9ZnVuY3Rpb24oKXt0aGlzLm9SKCl9LHQucHJvdG90eXBlLmZSPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPVwiLy9cIitoLndyLlRvK1wiOlwiK3RoaXMuTUkub3B0aW9ucygpLm1vbml0b3JQb3J0K1wiL3ZlcnNpb24uanNvblwiO3JldHVybiB0aGlzLm0oKS5kZWJ1Zyh0aGlzLmlkKCkrXCJjaGVja2luZyBpZiB0aGUgbW9uaXRvciBwb3J0IGlzIHJlYWNoYWJsZVwiKSxvLlppKGUpLnRoZW4oZnVuY3Rpb24oZSl7dmFyIGk9SlNPTi5wYXJzZShlKTt0aHJvdyB0LnN0YXRlPWkuc3RhdGUsZC5FcnJvck1vbml0b3IuV2koKS5faCh0LmlkKCkrXCJDbGllbnQgc3RhdGU6IFwiK3Quc3RhdGUpLHQuTUkuZWQobmV3IHUuRi51byhudWxsLHUuRi5Hci5WcikpLG5ldyB2KHkueWgsXCJzdGF0ZSBcIit0LnN0YXRlKX0pLmZhaWwoZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIHYpcmV0dXJuIG4ucmVqZWN0KGUpO2lmKGUmJmUuc3RhdHVzPT0tMSl7dmFyIGk9XCJjbGllbnQgbm90IHJlYWNoYWJsZVwiO3JldHVybiB0Lk1JLmVkKG5ldyB1LkYudW8obnVsbCx1LkYuR3IuVXIpKSx0Lm0oKS53YXJuKHQuaWQoKStpKSxuLnJlamVjdChuZXcgdih5LnloLGkpKX12YXIgaT1cIlZlcmlmeUNsaWVudFN0YXRlIGVycm9yXCI7cmV0dXJuIGQuRXJyb3JNb25pdG9yLldpKCkuX2godC5pZCgpK2kse2Vycm9yOmV9KSx0Lk1JLmVkKG5ldyB1LkYudW8obnVsbCx1LkYuR3IuVnIpKSxuLnJlamVjdChuZXcgdih5Lm1oLGkpKX0pfSx0LnByb3RvdHlwZS50Uj1mdW5jdGlvbigpe3JldHVybiB0aGlzLm9wdGlvbnNfLnN1cHBvcnRMZWdhY3lDbGllbnQmJighdGhpcy52ZXJzaW9ufHx0aGlzLnZlcnNpb24uc3Vic3RyKDAsNCk8XCIyMDE2XCIpfSx0fSgpO1QuSmw9XCJIaXZlSmF2YVwiLGUuSGl2ZUphdmE9VH0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO3ZhciByLG49dGhpcyYmdGhpcy5fX2V4dGVuZHN8fGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gaSgpe3RoaXMuY29uc3RydWN0b3I9dH1mb3IodmFyIHIgaW4gZSllLmhhc093blByb3BlcnR5KHIpJiYodFtyXT1lW3JdKTt0LnByb3RvdHlwZT1udWxsPT09ZT9PYmplY3QuY3JlYXRlKGUpOihpLnByb3RvdHlwZT1lLnByb3RvdHlwZSxuZXcgaSl9LG89aSg4KSxzPWkoMTIpOyFmdW5jdGlvbih0KXt2YXIgZTshZnVuY3Rpb24odCl7dmFyIGU9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBlPW51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gZS5taW5WZXJzaW9uPXMud3IuSW8sZS5pbml0VGltZW91dD02ZTQsZS53YXJuU2xvd1Jlc3BUaW1lb3V0PTVlMyxlLnN1cHBvcnRMZWdhY3lDbGllbnQ9ITEsZX1yZXR1cm4gbihlLHQpLGV9KG8ucHQuSXIuUnIpO3QuSkk9ZX0oZT10LklyfHwodC5Jcj17fSkpfShyPWUucHR8fChlLnB0PXt9KSl9LGZ1bmN0aW9uKHQsZSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0fSgpO2kuVG89XCIxMjcuMC4wLjFcIixpLk9kPTExOTgzLGkuU289XCIvL3swfTp7MX0vcHJveHkvP2NhbGxiYWNrPXsyfXszfWhpdmVQbHVnaW5JZD17NH1cIixpLm1SPVwiLy97MH06ezF9L3Byb3h5L3syfS9zZXNzaW9uP21hbmlmZXN0PXszfVwiLGkua2Q9XCIvL3swfTp7MX0vcHJveHkvezJ9L3BsYXllcj9yZXE9ezN9XCIsaS53Uj1cIi8vezB9OnsxfS9wcm94eS97Mn0vaW5mbz97M31cIixlLkNkPWl9LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjt2YXIgcj10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBpKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWZvcih2YXIgciBpbiBlKWUuaGFzT3duUHJvcGVydHkocikmJih0W3JdPWVbcl0pO3QucHJvdG90eXBlPW51bGw9PT1lP09iamVjdC5jcmVhdGUoZSk6KGkucHJvdG90eXBlPWUucHJvdG90eXBlLG5ldyBpKX0sbj1pKDI2KSxvPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gbnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiByKGUsdCksZS5iaT1mdW5jdGlvbih0LGkpe2UuVFJbaV09dH0sZS5TUj1mdW5jdGlvbih0LGkpe2UuYlJbaV09dH0sZS5wcm90b3R5cGUuc2VuZD1mdW5jdGlvbigpe2lmKCF0aGlzLnNlc3Npb25JZCl7dmFyIHQ9T2JqZWN0LmtleXMoZS5iUik7dC5sZW5ndGg+MCYmKHRoaXMuc2Vzc2lvbklkPWUuYlJbdFswXV0pfXZhciBpPWUuVFJbdGhpcy5zZXNzaW9uSWRdLHI9ZS5iUlt0aGlzLnNlc3Npb25JZF07ci5tKCkuZGVidWcoXCJJbnRlcmNlcHRlZCBNYW5pZmVzdCBSZXF1ZXN0IFwiK3RoaXMudXJsKSxpLnNldE1hbmlmZXN0UmVxdWVzdCh0aGlzKSxyLlIodGhpcy51cmwpfSxlLnByb3RvdHlwZS5FUj1mdW5jdGlvbigpe3ZhciB0PXRoaXMsZT1uZXcgWE1MSHR0cFJlcXVlc3Q7ZS5vcGVuKFwiR0VUXCIsdGhpcy51cmwpLGUub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7ND09PWUucmVhZHlTdGF0ZSYmKHQucmVzcG9uc2U9ZS5yZXNwb25zZVRleHQsdC5yZXNwb25zZVRleHQ9ZS5yZXNwb25zZVRleHQsdC5yZWFkeVN0YXRlPTQsdC5zdGF0dXM9ZS5zdGF0dXMsdC5vbnJlYWR5c3RhdGVjaGFuZ2UoKSx0Lm9ubG9hZCgpLGNvbnNvbGUuZGVidWcoXCJSZXR1cm5lZCBNYW5pZmVzdCBSZXF1ZXN0IFwiK3QudXJsKSl9LGUuc2VuZCgpfSxlLnByb3RvdHlwZS5JUj1mdW5jdGlvbigpe3QucHJvdG90eXBlLnNlbmQuY2FsbCh0aGlzKX0sZX0obi5UaSk7by5iUj17fSxvLlRSPXt9LGUuU2k9b30sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO3ZhciByLG49dGhpcyYmdGhpcy5fX2V4dGVuZHN8fGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gaSgpe3RoaXMuY29uc3RydWN0b3I9dH1mb3IodmFyIHIgaW4gZSllLmhhc093blByb3BlcnR5KHIpJiYodFtyXT1lW3JdKTt0LnByb3RvdHlwZT1udWxsPT09ZT9PYmplY3QuY3JlYXRlKGUpOihpLnByb3RvdHlwZT1lLnByb3RvdHlwZSxuZXcgaSl9LG89aSg4KTshZnVuY3Rpb24odCl7dmFyIGU7IWZ1bmN0aW9uKHQpe3ZhciBlPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gbnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBuKGUsdCksZX0oby5wdC5Jci5Scik7dC5SUj1lfShlPXQuSXJ8fCh0LklyPXt9KSl9KHI9ZS5wdHx8KGUucHQ9e30pKX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO3ZhciByPWkoMSksbj1pKDcpLG89aSg0Nykscz1vLnB0LklyLlJSLGE9aSgxNCksYz1pKDU5KSxoPWkoMTkpLHA9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUsaSl7dGhpcy5NST1lLHRoaXMub3B0aW9uc189bmV3IHMsdm9pZCAwIT09aVt0LkpsXSYmbi5ucihpW3QuSmxdLHRoaXMub3B0aW9uc18pfXJldHVybiB0LnByb3RvdHlwZS5BaT1mdW5jdGlvbigpe3JldHVybiB0LkpsfSx0LnByb3RvdHlwZS5nZXRWZXJzaW9uPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LHQucHJvdG90eXBlLldsPWZ1bmN0aW9uKCl7cmV0dXJuITB9LHQucHJvdG90eXBlLkdJPWZ1bmN0aW9uKCl7cmV0dXJuIHIucmVzb2x2ZSghMCl9LHQucHJvdG90eXBlLmluaXRTZXNzaW9uPWZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy52Uih0LGUudGlja2V0LGUudGlja2V0LnRwKCksZSk7cmV0dXJuIG4uSGl2ZVJlcXVlc3RGYWN0b3J5LmJpKGkuaWQsdGhpcy5BaSgpKSxyLnJlc29sdmUoaSl9LHQucHJvdG90eXBlLllsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3B0aW9ucygpLmluaXRUaW1lb3V0fSx0LnByb3RvdHlwZS5zdD1mdW5jdGlvbih0LGUpe3ZhciBpPWUubWFuaWZlc3QudG9Mb3dlckNhc2UoKS5pbmRleE9mKFwiL21hbmlmZXN0XCIpO2lmKGk+LTEpe3ZhciByPWUubWFuaWZlc3Quc3Vic3RyaW5nKDAsaSk7aWYodC5pbmRleE9mKHIpPi0xKXJldHVybiEwfWVsc2UgaWYodD09ZS5tYW5pZmVzdClyZXR1cm4hMDtyZXR1cm4hMX0sdC5wcm90b3R5cGUuUGk9ZnVuY3Rpb24odCl7dC5SaSYmKHRoaXMuTUkubSgpLmRlYnVnKFwiW1N0YXRzSlNdIHN0b3BwaW5nIHNlc3Npb24gW1wiK3QuaWQrXCJdXCIpLHQuUmkuSG8ucmVzZXQoKSl9LHQucHJvdG90eXBlLkNpPWZ1bmN0aW9uKHQsZSl7dmFyIGk9ZT9hLkZvLklETEU6YS5Gby5Cbzt0aGlzLk1JLm0oKS5ub3RpY2UoXCJbSGl2ZUNvbW1dIGNsaWVudCBzdGF0ZTogXCIrYS5Gb1tpXSksdC5SaSYmdC5SaS5DaShpKX0sdC5wcm90b3R5cGUuZmQ9ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLG49MDtyZXR1cm4gdGhpcy5rUjxlLmdyJiYobj1lLmdyLXRoaXMua1IsdGhpcy5rUj1lLmdyKSx0Lk5pKCkudGhlbihmdW5jdGlvbigpe3QuUmkuRG8uQ1IobixlLmRyKSx0LlJpLlFuLnZuKGUubHIsZS5kcixlLmdyKSxpLk9SKCl9KS5kb25lKCksci5yZXNvbHZlKCEwKX0sdC5wcm90b3R5cGUueWQ9ZnVuY3Rpb24odCxlLGkpe3JldHVybiB0Lk5pKCkudGhlbihmdW5jdGlvbigpe3QuUmkuUW4ubW4odC50aWNrZXQuc2Vzc2lvbklkLGUsaSl9KS5kb25lKCksci5yZXNvbHZlKCEwKX0sdC5wcm90b3R5cGUud249ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5OaSgpLnRoZW4oZnVuY3Rpb24oKXt0LlJpLlFuLlRuKFtlXSl9KS5kb25lKCksci5yZXNvbHZlKCEwKX0sdC5wcm90b3R5cGUub25FcnJvcj1mdW5jdGlvbih0KXt2YXIgZT0hMDtpZih2b2lkIDAhPXRoaXMub3B0aW9ucygpLm9uRXJyb3IpdHJ5e2U9dGhpcy5vcHRpb25zKCkub25FcnJvcih0KX1jYXRjaChpKXtoLkVycm9yTW9uaXRvci5XaSgpLl9oKFwiW1N0YXRzSlNdIGV4Y2VwdGlvbiBpbiB1c2VyLWRlZmluZWQgb25FcnJvciBjYWxsYmFjazogXCIraSl9cmV0dXJuIGV9LHQucHJvdG90eXBlLm9uQWN0aXZlU2Vzc2lvbj1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3RoaXMuUFIoKSx0Lk5pKCkudGhlbihmdW5jdGlvbihpKXtlLkFSPWk7dmFyIHI9bmV3IGMuTlIoZS5NSS5pc0xpdmUoKSxlLk1JLiQoKSx0LnRpY2tldC50cCgpKTtlLkFSLnhSPXIsZS5BUi5Eby54Uj1yLGUuTUkuaG4oZS5BUiksZS5BUi5Iby5pbml0KGUuQVIuRG8sbnVsbCksZS5BUi5Rbi53aSh0LnRpY2tldC5zZXNzaW9uSWQsZS5NSS5pdCgpLDIwMCk7dmFyIG49ZS5NSS5yZCgpO2lmKG4mJm4ubGVuZ3RoPjAmJmUuQVIuUW4uVG4obiksdm9pZCAwIT1lLm9wdGlvbnNfLm9uQWN0aXZlU2Vzc2lvbil0cnl7ZS5vcHRpb25zXy5vbkFjdGl2ZVNlc3Npb24odC5nKCkpfWNhdGNoKG8pe2guRXJyb3JNb25pdG9yLldpKCkuX2goXCJbU3RhdHNKU10gZXhjZXB0aW9uIGluIHVzZXItZGVmaW5lZCBvbkFjdGl2ZVNlc3Npb24gY2FsbGJhY2s6IFwiK28pfX0pLmRvbmUoKX0sdC5wcm90b3R5cGUuWmw9ZnVuY3Rpb24oKXt9LHQucHJvdG90eXBlLnpsPWZ1bmN0aW9uKCl7fSx0LnByb3RvdHlwZS5xbD1mdW5jdGlvbih0KXt0aGlzLk1JPXR9LHQucHJvdG90eXBlLm9wdGlvbnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcHRpb25zX30sdC5wcm90b3R5cGUuUFI9ZnVuY3Rpb24oKXt0aGlzLmtSPTB9LHQucHJvdG90eXBlLnZSPWZ1bmN0aW9uKHQsZSxpLHIpe3ZhciBvPW5ldyBuLkJpKHQsZSxpLHIpO3JldHVybiBvLnlSPSExLG8uaWQ9ZS5zZXNzaW9uSWQsb30sdC5wcm90b3R5cGUuT1I9ZnVuY3Rpb24oKXt0cnl7dmFyIHQ9dGhpcy5NSS5hdCgpO3ZvaWQgMCE9dCYmKHRoaXMuQVIuRG8uQlIubWV0cmljcy5iaXRyYXRlVXBOKz10LkppKCksdGhpcy5BUi5Eby5CUi5tZXRyaWNzLmJpdHJhdGVEd25OKz10LktpKCksbnVsbCE9dC5WaSgpJiYodGhpcy5BUi5Eby5CUi5tZXRyaWNzLnNyY1Rocm91Z2hwdXQ9dC5WaSgpKSxudWxsIT10LlFpKCkmJnRoaXMuRlIoITAsdC5RaSgpKSxudWxsIT10LnFpKCkmJnRoaXMuRlIoITEsdC5xaSgpKSl9Y2F0Y2goZSl7aC5FcnJvck1vbml0b3IuV2koKS5faChlKX19LHQucHJvdG90eXBlLkZSPWZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcyxyPTAsbj0wLG89MCxzPTA7ZS5mb3JFYWNoKGZ1bmN0aW9uKGUsYSl7dmFyIGM9ZS5zdWNjZXNzK2UuX2k7aWYocis9YyxzKz1lLkRpLG4rPWUuc3VjY2VzcyxvKz1lLl9pLHQpe3ZhciBoPWkuQVIuRG8uX1IoTnVtYmVyKGEpKTtpLkRSKGgsYyxlLnN1Y2Nlc3MsZS5faSxlLkRpKX19KTt2YXIgYT10aGlzLkFSLkRvLkhSKCk7dGhpcy5EUihhLHIsbixvLHMpfSx0LnByb3RvdHlwZS5EUj1mdW5jdGlvbih0LGUsaSxyLG4pe3Quc3JjUmVxTis9ZSx0LnNyY1Jlc3BOKz1pLHQuc3JjUmVzcEVyck4rPXIsdC5zcmNSZXNwUXQrPW4sdC5yZXNwRmFsbGJhY2tOKz1pLHQucmVzcEZhbGxiYWNrRXJyTis9cn0sdH0oKTtwLkpsPVwiU3RhdHNKU1wiLGUuU3RhdHNKUz1wfSxmdW5jdGlvbih0LGUpe1widXNlIHN0cmljdFwiO3ZhciBpOyFmdW5jdGlvbih0KXt2YXIgZTshZnVuY3Rpb24odCl7dFt0LkhpdmVKUz0wXT1cIkhpdmVKU1wiLHRbdC5IaXZlSmF2YT0xXT1cIkhpdmVKYXZhXCIsdFt0LlN0YXRzSlM9Ml09XCJTdGF0c0pTXCIsdFt0LkhpdmVKc1Byb3h5PTNdPVwiSGl2ZUpzUHJveHlcIn0oZT10LklsfHwodC5JbD17fSkpfShpPWUucHR8fChlLnB0PXt9KSl9LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1pKDE1KSxuPWkoMiksbz1pKDI0KSxzPWkoMTQpLGE9aSg1KSxjPWkoOSksaD1pKDU2KSxwPWkoNTUpLHU9aSg2MCksbD1pKDUyKSxkPWkoNTEpO2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBmKXZhciBmPSExO2lmKGYpdmFyIGc9aSg1MykuTFI7ZWxzZSB2YXIgdj1pKDU3KS5NUjt2YXIgeT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQucHJvdG90eXBlLmFwcGx5PWZ1bmN0aW9uKHQpe3QuYmluZChuZXcgci5ucyhhLmdpLnVpLHMucnMsci5zcy5scykpLHQuYmluZChuZXcgci5ucyhhLmdpLkJlLHAualIsci5zcy5scykpLHQuYmluZChuZXcgci5ucyhhLmdpLmFpLHUuVVIsci5zcy5scykpLHQuYmluZChuZXcgci5ucyhhLmdpLkNlLGwuVlIsci5zcy5scykpLHQuYmluZChuZXcgci5ucyhuLkZyYW1ld29yay5GZS53ZSxvLkVsLmJsLHIuc3MubHMpKSxmP3QuYmluZChuZXcgci5ucyhhLmdpLmNpLGcsci5zcy5scykpOnQuYmluZChuZXcgci5ucyhhLmdpLmNpLHYsci5zcy5scykpLHQuYmluZChuZXcgci5ucyhhLmdpLmhpLGQuUVIsci5zcy5scykpLHQuYmluZChuZXcgci5ucyhhLmdpLmxpLGguU3RhdHMuemYsci5zcy5UcykpLHQuYmluZChuZXcgci5ucyhhLmdpLnNpLGguU3RhdHMuZW8sci5zcy5UcykpLHQuYmluZChuZXcgci5ucyhhLmdpLmRpLGMuRi5VbixyLnNzLlRzKSksdC5iaW5kKG5ldyByLm5zKGEuZ2kuZmksYy5GLmVvLHIuc3MuVHMpKX0sdH0oKTtlLlNkPXl9LGZ1bmN0aW9uKHQsZSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnByb3RvdHlwZS5xUj1mdW5jdGlvbih0KXt0aGlzLmhvc3RuYW1lPXR9LHQucHJvdG90eXBlLkZuPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaG9zdG5hbWV9LHQucHJvdG90eXBlLkpSPWZ1bmN0aW9uKHQpe3RoaXMuS1I9dH0sdC5wcm90b3R5cGUuTm49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5LUn0sdH0oKTtlLlFSPWl9LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjt2YXIgcj10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBpKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWZvcih2YXIgciBpbiBlKWUuaGFzT3duUHJvcGVydHkocikmJih0W3JdPWVbcl0pO3QucHJvdG90eXBlPW51bGw9PT1lP09iamVjdC5jcmVhdGUoZSk6KGkucHJvdG90eXBlPWUucHJvdG90eXBlLG5ldyBpKX0sbj1pKDEpLG89aSgyMikscz1pKDIpLGE9aSgxMyksYz1pKDM5KSxoPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3RoaXMuR1I9XCJJZGVudGl0eVN0b3JlXCIsdGhpcy56Uj1cIklkZW50aXR5REJcIix0aGlzLnNuPW51bGwsdGhpcy5pbmRleGVkREI9d2luZG93LmluZGV4ZWREQnx8d2luZG93Lm1vekluZGV4ZWREQnx8d2luZG93LndlYmtpdEluZGV4ZWREQnx8d2luZG93Lm1zSW5kZXhlZERCLHMuRnJhbWV3b3JrJiZzLkZyYW1ld29yay5yZXNvbHZlKHMuRnJhbWV3b3JrLkZlLndlKT90aGlzLm09cy5GcmFtZXdvcmsucmVzb2x2ZShzLkZyYW1ld29yay5GZS53ZSkubG9nKCk6dGhpcy5tPWNvbnNvbGV9cmV0dXJuIHQucHJvdG90eXBlLldSPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPW4uZGVmZXIoKSxpPWluZGV4ZWREQi5vcGVuKHRoaXMuelIpO3JldHVybiBpLm9udXBncmFkZW5lZWRlZD1mdW5jdGlvbigpe3ZhciBlPWkucmVzdWx0O2UuY3JlYXRlT2JqZWN0U3RvcmUodC5HUix7a2V5UGF0aDpcImlkXCJ9KX0saS5vbnN1Y2Nlc3M9ZnVuY3Rpb24oKXt2YXIgdD1pLnJlc3VsdDtlLnJlc29sdmUodCl9LGkub25lcnJvcj1mdW5jdGlvbih0KXtlLnJlamVjdCh0KX0sZS52dH0sdC5wcm90b3R5cGUuS289ZnVuY3Rpb24oKXt2YXIgdD10aGlzO2lmKHRoaXMuJFIpcmV0dXJuIHRoaXMuJFI7dmFyIGU9bi5kZWZlcigpO2lmKHRoaXMuc24pZS5yZXNvbHZlKG5ldyBjLkZJKHRoaXMuc24pKTtlbHNlIGlmKGEuS24uUm8mJnRoaXMuaW5kZXhlZERCKXt2YXIgaT1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5tLndhcm4oXCJbSGl2ZUNvbW1dIHRpbWVvdXQgcmV0cmlldmluZyBwZXJzaXN0ZW50IElEIC0gZ2VuZXJhdGluZyByYW5kb20gb25lXCIpLFxuICB0LnNuPXQuWVIoKSx0Lm0uZGVidWcoXCJbSGl2ZUNvbW1dIEdlbmVyYXRlZCBVVUlEOiBcIit0LnNuKSxlLnJlc29sdmUobmV3IGMuRkkodC5zbikpfSw0ZTMpO3RyeXt2YXIgcj10aGlzLldSKCk7ci50aGVuKGZ1bmN0aW9uKHIpe3ZhciBuPXIudHJhbnNhY3Rpb24odC5HUixcInJlYWR3cml0ZVwiKSxvPW4ub2JqZWN0U3RvcmUodC5HUikscz1vLmdldChcIk1ZSURcIik7cy5vbnN1Y2Nlc3M9ZnVuY3Rpb24oKXtpZihjbGVhclRpbWVvdXQoaSksdC5zbillLnJlc29sdmUobmV3IGMuRkkodC5zbikpO2Vsc2UgaWYobnVsbCE9cy5yZXN1bHQmJmEuS24uUm8pe3ZhciBuPXMucmVzdWx0LnZhbHVlO3QubS5kZWJ1ZyhcIltIaXZlQ29tbV0gUmV0cmlldmVkIHBlcnNpc3RlbnQgVVVJRDogXCIrbiksdC5zbj1uLHIuY2xvc2UoKSxlLnJlc29sdmUobmV3IGMuRkkodC5zbikpfWVsc2V7dmFyIG89dC5ZUigpO3QuWFIocixvKSxlLnJlc29sdmUobmV3IGMuRkkodC5zbikpfX0scy5vbmVycm9yPWZ1bmN0aW9uKHIpe2NsZWFyVGltZW91dChpKSx0LnNufHwodC5tLndhcm4oXCJbSGl2ZUNvbW1dIGVycm9yIHJldHJpZXZpbmcgcGVyc2lzdGVudCBVVUlEOiBcIityKSx0LnNuPXQuWVIoKSx0Lm0uZGVidWcoXCJbSGl2ZUNvbW1dIEdlbmVyYXRlZCBVVUlEOiBcIit0LnNuKSksZS5yZXNvbHZlKG5ldyBjLkZJKHQuc24pKX19KS5mYWlsKGZ1bmN0aW9uKHIpe2NsZWFyVGltZW91dChpKSx0LnNufHwodC5tLndhcm4oXCJbSGl2ZUNvbW1dIGVycm9yIG9wZW5pbmcgaW5kZXhlZERCIC0gZ2VuZXJhdGluZyByYW5kb20gaWQuIEVycm9yOiBcIityKSx0LnNuPXQuWVIoKSx0Lm0uZGVidWcoXCJbSGl2ZUNvbW1dIEdlbmVyYXRlZCBVVUlEOiBcIit0LnNuKSksZS5yZXNvbHZlKG5ldyBjLkZJKHQuc24pKX0pfWNhdGNoKG8pe3RoaXMuc249dGhpcy5ZUigpLHRoaXMubS5kZWJ1ZyhcIltIaXZlQ29tbV0gUGVyc2lzdGVuY2UgZXJyb3IgLSBHZW5lcmF0ZSBVVUlEOiBcIit0aGlzLnNuLG8pLGUucmVzb2x2ZShuZXcgYy5GSSh0aGlzLnNuKSl9fWVsc2UgdGhpcy5zbj10aGlzLllSKCksdGhpcy5tLmRlYnVnKFwiW0hpdmVDb21tXSBQZXJzaXN0ZW5jZSBkaXNhYmxlZCAtIEdlbmVyYXRlIFVVSUQ6IFwiK3RoaXMuc24pLGUucmVzb2x2ZShuZXcgYy5GSSh0aGlzLnNuKSk7cmV0dXJuIHRoaXMuJFI9ZS52dCx0aGlzLiRSfSx0LnByb3RvdHlwZS5YUj1mdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMscj10LnRyYW5zYWN0aW9uKHRoaXMuR1IsXCJyZWFkd3JpdGVcIiksbj1yLm9iamVjdFN0b3JlKHRoaXMuR1IpO24ucHV0KHtpZDpcIk1ZSURcIix2YWx1ZTplfSksci5vbmNvbXBsZXRlPWZ1bmN0aW9uKCl7aS5tLmRlYnVnKFwiW0hpdmVDb21tXSBjb21wbGV0ZWQgVVVJRCBwZXJzaXN0ZW5jZVwiKSx0LmNsb3NlKCl9LHRoaXMubS5kZWJ1ZyhcIltIaXZlQ29tbV0gR2VuZXJhdGVkIFVVSUQ6IFwiK2UpLHRoaXMuc249ZX0sdC5wcm90b3R5cGUuWVI9ZnVuY3Rpb24oKXtyZXR1cm4gby5aaCgpfSx0fSgpO2UuWlI9aDt2YXIgcD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIHQuY2FsbCh0aGlzKXx8dGhpc31yZXR1cm4gcihlLHQpLGUucHJvdG90eXBlLktvPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztpZih0aGlzLnRrKXJldHVybiB0aGlzLnRrO3ZhciBpPW4uZGVmZXIoKTtyZXR1cm4gdC5wcm90b3R5cGUuS28uY2FsbCh0aGlzKS50aGVuKGZ1bmN0aW9uKHQpe3ZhciByPWUuWVIoKSxuPXQuJG8oKSxvPW5ldyBjLkZJKHIsbik7aS5yZXNvbHZlKG8pfSkuZmFpbChmdW5jdGlvbih0KXt2YXIgcj1lLllSKCksbj1uZXcgYy5GSShyKTtpLnJlc29sdmUobil9KSx0aGlzLnRrPWkudnQsdGhpcy50a30sZX0oaCk7ZS5WUj1wfSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9aSgxKSxuPWkoMiksbz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLnU9XCJbUHJlbG9hZENvbm5lY3Rpdml0eUluZm9Qcm92aWRlcl0gXCIsdGhpcy5jb25uSW5mbz13aW5kb3cuZWssdGhpcy5tPW4uRnJhbWV3b3JrLnJlc29sdmUobi5GcmFtZXdvcmsuRmUud2UpLmxvZygpLHRoaXMuY29ubkluZm98fHRoaXMubS5lcnJvcih0aGlzLnUrXCIgaGVscGVyIHVuZGVmaW5lZFwiKX1yZXR1cm4gdC5wcm90b3R5cGUuUG49ZnVuY3Rpb24oKXt2YXIgdD10aGlzO2lmKCF0aGlzLmNvbm5JbmZvKXJldHVybiByLnJlamVjdChcIkNvbm5JbmZvIGhlbHBlciB1bmRlZmluZWRcIik7dmFyIGU9c2V0VGltZW91dChmdW5jdGlvbigpe3JldHVybiB0Lm0ud2Fybih0LnUrXCJHZXQgY29ubmVjdGl2aXR5IGluZm8gZXhwaXJlZFwiKSx0LmlrP3IucmVzb2x2ZSh0LmlrKTpyLnJlamVjdChcImV4cGlyZWRcIil9LDJlMyk7dHJ5e3JldHVybiB0aGlzLmNvbm5JbmZvLlBuKCkudGhlbihmdW5jdGlvbihpKXtyZXR1cm4gY2xlYXJUaW1lb3V0KGUpLHQuaWs9aSxpfSkuZmFpbChmdW5jdGlvbihlKXtyZXR1cm4gdC5tLmRlYnVnKHQudStcIiBnZXQgY29ubmVjdGl2aXR5IGluZm8gZmFpbGVkIHdpdGggZXJyb3IgMTogXCIsZSksdC5paz90LmlrOnIucmVqZWN0KGUpfSl9Y2F0Y2goaSl7cmV0dXJuIHRoaXMubS5kZWJ1Zyh0aGlzLnUrXCIgZ2V0IGNvbm5lY3Rpdml0eSBpbmZvIGZhaWxlZCB3aXRoIGVycm9yIDI6XCIsaSksci5yZWplY3QoaSl9fSx0LnByb3RvdHlwZS5yaz1mdW5jdGlvbih0LGUsaSl7fSx0fSgpO2UuTFI9b30sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO3ZhciByPWkoNjMpLG49aSgxKSxvPWkoMikscz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLmluZGV4ZWREQj13aW5kb3cuaW5kZXhlZERCfHx3aW5kb3cubW96SW5kZXhlZERCfHx3aW5kb3cud2Via2l0SW5kZXhlZERCfHx3aW5kb3cubXNJbmRleGVkREIsdGhpcy5tPW8uRnJhbWV3b3JrLnJlc29sdmUoby5GcmFtZXdvcmsuRmUud2UpLmxvZygpfXJldHVybiB0LnByb3RvdHlwZS5XUj1mdW5jdGlvbigpe3ZhciB0PW4uZGVmZXIoKSxlPXRoaXMuaW5kZXhlZERCLm9wZW4oXCJQcml2YXRlSVBEQlwiKTtyZXR1cm4gZS5vbnVwZ3JhZGVuZWVkZWQ9ZnVuY3Rpb24oKXt2YXIgdD1lLnJlc3VsdDt0LmNyZWF0ZU9iamVjdFN0b3JlKFwiUHJpdmF0ZUlQU3RvcmVcIix7a2V5UGF0aDpcImlkXCJ9KX0sZS5vbnN1Y2Nlc3M9ZnVuY3Rpb24oKXt2YXIgaT1lLnJlc3VsdDt0LnJlc29sdmUoaSl9LGUub25lcnJvcj1mdW5jdGlvbihlKXt0LnJlamVjdChlKX0sdC52dH0sdC5wcm90b3R5cGUubms9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO2lmKHRoaXMuc2spcmV0dXJuIHRoaXMuc2s7dmFyIGU9c2V0VGltZW91dChmdW5jdGlvbigpe3QubS53YXJuKFwiUHJpdmF0ZSBsaXN0IHJldHJpZXZhbCB0aW1lb3V0XCIpLGkucmVqZWN0KFwiUHJpdmF0ZSBsaXN0IHRpbWVvdXRcIil9LDRlMyksaT1uLmRlZmVyKCksbz10aGlzLldSKCk7cmV0dXJuIG8udGhlbihmdW5jdGlvbihuKXt2YXIgbz1uLnRyYW5zYWN0aW9uKFwiUHJpdmF0ZUlQU3RvcmVcIixcInJlYWR3cml0ZVwiKSxzPW8ub2JqZWN0U3RvcmUoXCJQcml2YXRlSVBTdG9yZVwiKSxhPXMuZ2V0KFwiaXBsaXN0XCIpO2Eub25zdWNjZXNzPWZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KGUpO3ZhciB0PVtdO3IuYWsoYS5yZXN1bHQpfHxyLmFrKGEucmVzdWx0LnZhbHVlKXx8KHQ9YS5yZXN1bHQudmFsdWUuc3BsaXQoXCJ8XCIpKSxpLnJlc29sdmUodCksbi5jbG9zZSgpfSxhLm9uZXJyb3I9ZnVuY3Rpb24ocil7Y2xlYXJUaW1lb3V0KGUpLHQubS53YXJuKFwiSSBnb3QgYW4gZXJyb3Igb24gaW5kZXhlZCBkYiBcIityLm1lc3NhZ2UpLGkucmVqZWN0KFwiRXJyb3Igb24gaW5kZXhlZERCIFwiK3IubWVzc2FnZSl9fSkuZmFpbChmdW5jdGlvbihyKXtjbGVhclRpbWVvdXQoZSksdC5tLndhcm4oXCJEQiBpcyBub3Qgb3BlbiB3aXRoIGVycm9yXCIrci5tZXNzYWdlKSxpLnJlamVjdChcIkRCIGlzIG5vdCBvcGVuIHdpdGggZXJyb3IgXCIrci5tZXNzYWdlKX0pLHRoaXMuc2s9aS52dCx0aGlzLnNrfSx0LnByb3RvdHlwZS5jaz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLGk9dC5qb2luKFwifFwiKSxyPXRoaXMuV1IoKTtyLnRoZW4oZnVuY3Rpb24ocil7dmFyIG49ci50cmFuc2FjdGlvbihcIlByaXZhdGVJUFN0b3JlXCIsXCJyZWFkd3JpdGVcIiksbz1uLm9iamVjdFN0b3JlKFwiUHJpdmF0ZUlQU3RvcmVcIik7by5wdXQoe2lkOlwiaXBsaXN0XCIsdmFsdWU6aX0pLG4ub25jb21wbGV0ZT1mdW5jdGlvbigpe2UubS5kZWJ1ZyhcIlN0b3Jpbmcgc2l0ZSBtYXRjaGVkIGlwcyBbXCIrdC5qb2luKFwiLFwiKStcIl1cIiksci5jbG9zZSgpfX0pLmZhaWwoZnVuY3Rpb24odCl7ZS5tLndhcm4oXCJEQiBpcyBub3Qgb3BlbiB3aXRoIGVycm9yIFwiK3QubWVzc2FnZSl9KX0sdH0oKTtlLmhrPXN9LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1pKDEpLG49aSgyMSksbz1pKDM2KSxzPWkoMiksYT1pKDEzKSxjPWkoMTApLGg9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dGhpcy5tPXMuRnJhbWV3b3JrLnJlc29sdmUocy5GcmFtZXdvcmsuRmUud2UpLmxvZygpLHRoaXMubS5kZWJ1ZyhcIklOSVQgU0VSVklDRSBDTElFTlRcIil9cmV0dXJuIHQucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzO2lmKHRoaXMucGspdGhpcy5way50aGVuKGZ1bmN0aW9uKCl7dmFyIHQ9e3BhcnRuZXJJZDplLmJuKCksY3VzdG9tZXJJZDplLkVuKCksY29udGVudElkOmUuZXMoKSxzZWNyZXQ6ZS5XaCgpfSxyPW5ldyBjLlpuKFNlcnZpY2VzLmtmLDEsSlNPTi5zdHJpbmdpZnkodCkpO2kuY29ubmVjdGlvbi5zZW5kKHIpfSk7ZWxzZXt2YXIgcz1yLmRlZmVyKCksaD1hLktuLkpuLmtvO2UuemgmJih0aGlzLm0ud2FybihcIltIaXZlQ29tbV0gRXJyb3IgdHJ5aW5nIHRvIHJlc29sdmUgdGVzdCB0aWNrZXQgYWdhaW5zdCBwcm9kdWN0aW9uIHNlcnZpY2VzIC0gdXNlIHByb2R1Y3Rpb24gdGlja2V0IG9yIHRlc3QgcGx1Z2luXCIpLHMucmVqZWN0KG5ldyBFcnJvcihcInRlc3QgdGlja2V0IGluIHByb2R1Y3Rpb25cIikpKTt2YXIgcD1uZXcgbihoKSx1PXAuRXUoe1wiY29ubmVjdGlvbi1pZFwiOnQscGFydG5lcl9pZDplLmJuKCksY3VzdG9tZXJfaWQ6ZS5FbigpLGNvbnRlbnRfaWQ6ZS5lcygpLHRpY2tldDplLldoKCl9KS50b1N0cmluZygpO3RoaXMuY29ubmVjdGlvbj1uZXcgby5BSSh1LGEuS24uSm4uQW8sYS5Lbi5Kbi5ObyxhLktuLkpuLnhvKSx0aGlzLmNvbm5lY3Rpb24uVEkoZnVuY3Rpb24oKXtpLm0uZGVidWcoXCJISVZFIFNFUlZJQ0VTIENPTk5FQ1RFRFwiKSxzLnJlc29sdmUoaS5jb25uZWN0aW9uKX0pLHRoaXMuY29ubmVjdGlvbi5vbmVycm9yKGZ1bmN0aW9uKCl7aS5tLndhcm4oXCJIaXZlIFNlcnZpY2VzIENvbm5lY3Rpb24gZmFpbGVkXCIpLHMucmVqZWN0KGkuY29ubmVjdGlvbil9KSx0aGlzLnBrPXMudnR9cmV0dXJue1lvOnRoaXMuY29ubmVjdGlvbix2dDp0aGlzLnBrfX0sdC5wcm90b3R5cGUuY29ubmVjdD1mdW5jdGlvbigpe3RoaXMuY29ubmVjdGlvbiYmdGhpcy5jb25uZWN0aW9uLmNvbm5lY3QoITApfSx0LnByb3RvdHlwZS5zZD1mdW5jdGlvbih0KXt9LHQucHJvdG90eXBlLlhuPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29ubmVjdGlvbn0sdC5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oKXt0aGlzLmNvbm5lY3Rpb24mJnRoaXMuY29ubmVjdGlvbi5jbG9zZSgpfSx0fSgpO2UualI9aH0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO3ZhciByPWkoNCksbj1yLnZlLG89aSgxNik7aSgzMSksaSgzMCk7dmFyIHMsYT1pKDIpLGM9aSg1KSxoPWkoMTMpLHA9aSgxMCksdT1pKDE0KSxsPWkoMjMpOyFmdW5jdGlvbih0KXt2YXIgZT1cIltTTkFQXVwiLGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dGhpcy5tZXRyaWNzPW5ldyBoaXZlLnNuYXBzaG90cy5NZXRyaWNzLHRoaXMudWs9bmV3IGhpdmUuc25hcHNob3RzLlRyYWZmaWMsdGhpcy5saz1uZXcgbix0aGlzLmRrPW5ldyBuLHRoaXMuZms9bmV3IG4sdGhpcy5wbGF5ZXI9bmV3IGhpdmUuc25hcHNob3RzLlBsYXllcn1yZXR1cm4gdH0oKTt0LmdrPWk7dmFyIHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7dGhpcy50aWNrZXQ9bnVsbCx0aGlzLnZrPTAsdGhpcy55az0wLHRoaXMubWsoKX1yZXR1cm4gaS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbih0LGkscixuKXt0aGlzLm09YS5GcmFtZXdvcmsucmVzb2x2ZShhLkZyYW1ld29yay5GZS53ZSkubG9nKG4pLHRoaXMudG49YS5GcmFtZXdvcmsucmVzb2x2ZShjLmdpLmNpKSx0aGlzLm0uZGVidWcoZStcIiBJTklUIFNUQVRTIFNUT1JFIC0gSUQ6IFwiK3QpLHRoaXMuc249dCx0aGlzLnRpY2tldD1pLHRoaXMuYW4ocil9LGkucHJvdG90eXBlLndrPWZ1bmN0aW9uKHQpe3RoaXMuVGs9dH0saS5wcm90b3R5cGUuYW49ZnVuY3Rpb24odCl7dGhpcy5hcHA9dH0saS5wcm90b3R5cGUubWs9ZnVuY3Rpb24oKXt0aGlzLlNrPW5ldyB0LmdrLHRoaXMuc249bnVsbCx0aGlzLnRpY2tldD1udWxsLHRoaXMucmVzZXQoKX0saS5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLkJSPW5ldyB0LmdrLHRoaXMuYmsodGhpcy5CUi51ayksdGhpcy5Fayh0aGlzLkJSKX0saS5wcm90b3R5cGUuYms9ZnVuY3Rpb24odCl7dC5yZXNwRmFsbGJhY2tOPTAsdC5yZXNwRmFsbGJhY2tFcnJOPTAsdC5zcmNSZXFOPTAsdC5zcmNSZXNwRXJyTj0wLHQuc3JjUmVzcFF0PTAsdC5zcmNPdGhlclJlc3BOPTAsdC5zcmNSZXNwTj0wLHQuc3JjT3ZlclF0PTAsdC5wMnBEaXJlY3RRdD0wLHQucDJwTmF0UXQ9MCx0LnAycFVkcGJRdD0wLHQucDJwUmVsYXlRdD0wLHQucDJwT3V0U2l0ZUxvd1ByaW89MCx0LnJlc3BQMnBOPTAsdC5wMnBTdWJSZXFOPTAsdC5wMnBTdWJSZXNwRXJyTj0wLHQucDJwU3ViUmVzcFF0PTAsdC5wMnBTdWJSZXNwUGFydE49MH0saS5wcm90b3R5cGUuRWs9ZnVuY3Rpb24odCl7dC5tZXRyaWNzLnZpZGVvQnVmTj0wLHQubWV0cmljcy52aWRlb0J1ZlF0PTAsdC5tZXRyaWNzLmNsaWVudEJ1ZmZlck1zPTAsdC5wbGF5ZXIuYnVmZmVyaW5nTj0wLHQucGxheWVyLmJ1ZmZlcmluZ01zPTB9LGkucHJvdG90eXBlLklrPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxpPW5ldyBoaXZlLnNuYXBzaG90cy5NZXRyaWNTbmFwc2hvdDtpLnRpbWVzdGFtcD1hLkZyYW1ld29yay50aW1lKCksaS5ndWlkPXRoaXMuc24saS5zZXNzaW9uSWQ9dGhpcy50aWNrZXQuc2Vzc2lvbklkLGkuZXZlbnRJZD1uZXcgRXZlbnRJZCxpLmV2ZW50SWQucGFydG5lcklkPXRoaXMudGlja2V0LmJuKCksaS5ldmVudElkLmN1c3RvbWVySWQ9dGhpcy50aWNrZXQuRW4oKSxpLmV2ZW50SWQuY29udGVudElkPXRoaXMudGlja2V0LmVzKCk7dHJ5e3ZhciByPW5ldyBoaXZlLnNuYXBzaG90cy5DbGllbnRJbmZvO3IuY2xpZW50VHlwZT10aGlzLlJrKCk7dmFyIG49dGhpcy5hcHAudmVyc2lvbi5zcGxpdChcIi5cIik7ci5tYWpvclZlcnNpb249cGFyc2VJbnQoblswXSksci5taW5vclZlcnNpb249cGFyc2VJbnQoblsxXSksci5wYXRjaFZlcnNpb249cGFyc2VJbnQoblsyXSksaS5jbGllbnQ9cn1jYXRjaChvKXt0aGlzLm0ud2FybihlK1wiIGVycm9yIHNldHRpbmcgU25hcHNob3QgQ2xpZW50SW5mb1wiLG8pfWkuc3RyZWFtSW5mbz10aGlzLnhSLmtrKCksaS50cmFmZmljPVtdO3ZhciBzPW5ldyBoaXZlLnNuYXBzaG90cy5UcmFmZmljS2V5O2lmKGkudHJhZmZpYy5wdXNoKHtrZXk6cyx2YWx1ZTp0aGlzLkJSLnVrfSksdGhpcy5CUi5say5mb3JFYWNoKGZ1bmN0aW9uKHQsZSl7dmFyIHI9bmV3IGhpdmUuc25hcHNob3RzLlRyYWZmaWNLZXk7ci5iaXRyYXRlPWUsaS50cmFmZmljLnB1c2goe2tleTpyLHZhbHVlOnR9KX0pLGkubWV0cmljcz10aGlzLkJSLm1ldHJpY3MsdGhpcy5UayYmKGkubWV0cmljcy5jbGllbnRCdWZmZXJNcz10aGlzLlRrLm1pbigpKSxpLnBsYXllcj10aGlzLkJSLnBsYXllcix0aGlzLkNrKXt2YXIgYz10aGlzLkNrLmdldFBhcnRuZXJTbmFwc2hvdHMoKTtjLmZvckVhY2goZnVuY3Rpb24oZSxyKXt0Lk9rKHIsZSxpKX0pLHRoaXMuQlIuZmsuZmlsdGVyKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIWMuaGFzKGUpfSkuZm9yRWFjaChmdW5jdGlvbihlLHIpe3QuT2socixlLGkpfSl9cmV0dXJuIGkuY29ubkluZm89bmV3IGhpdmUuc25hcHNob3RzLkNvbm5lY3Rpdml0eUluZm8sdGhpcy50bi5QbigpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIGkuY29ubkluZm8ucHJpdmF0ZUlwPWUuTm4oKS5CbigpLHQuUGsoaSl9KS5mYWlsKGZ1bmN0aW9uKGUpe3JldHVybiB0LlBrKGkpfSl9LGkucHJvdG90eXBlLlBrPWZ1bmN0aW9uKHQpe3JldHVybiB0LmNvbm5JbmZvLmludGVybmFsQXM9dGhpcy52ayx0LmNvbm5JbmZvLmV4dGVybmFsQXM9dGhpcy55ayx0LmNvbm5JbmZvLnB1YmxpY0lwPXRoaXMuQWssdH0saS5wcm90b3R5cGUuUms9ZnVuY3Rpb24oKXt2YXIgdDtzd2l0Y2godGhpcy5hcHAuYXBwKXtjYXNlXCJKU1wiOnQ9Q2xpZW50VHlwZS5GZjticmVhaztjYXNlXCJQUk9YWVwiOnQ9Q2xpZW50VHlwZS5fZjticmVhaztkZWZhdWx0OnQ9Q2xpZW50VHlwZS5CZn1yZXR1cm4gdH0saS5wcm90b3R5cGUuT2s9ZnVuY3Rpb24odCxlLGkpe3ZhciByPXRoaXMuQlIuZGsuZ2V0KHQpO2UudHJhZmZpYz1yLGkucGFydG5lcnN8fChpLnBhcnRuZXJzPVtdKTt2YXIgbj1uZXcgaGl2ZS5zbmFwc2hvdHMuUGFydG5lcktleTtuLnBhcnRuZXJHdWlkPXQsaS5wYXJ0bmVycy5wdXNoKHtrZXk6bix2YWx1ZTplfSl9LGkucHJvdG90eXBlLkNSPWZ1bmN0aW9uKHQsZSl7dD4wJiYodGhpcy5CUi5tZXRyaWNzLnZpZGVvQnVmTisrLHRoaXMuQlIubWV0cmljcy52aWRlb0J1ZlF0Kz10LHRoaXMuQlIucGxheWVyLmJ1ZmZlcmluZ04rKyx0aGlzLkJSLnBsYXllci5idWZmZXJpbmdNcys9dCksdGhpcy5CUi5wbGF5ZXIucGxheWVyQnVmZmVyTXM9ZX0saS5wcm90b3R5cGUuSFI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5CUi51a30saS5wcm90b3R5cGUuTms9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5Tay51a30saS5wcm90b3R5cGUueGs9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuU2subGsuaGFzKHQpfHx0aGlzLlNrLmxrLnNldCh0LG5ldyBoaXZlLnNuYXBzaG90cy5UcmFmZmljKSx0aGlzLlNrLmxrLmdldCh0KX0saS5wcm90b3R5cGUuX1I9ZnVuY3Rpb24odCl7aWYoIXRoaXMuQlIubGsuaGFzKHQpKXt2YXIgZT1uZXcgaGl2ZS5zbmFwc2hvdHMuVHJhZmZpYzt0aGlzLmJrKGUpLHRoaXMuQlIubGsuc2V0KHQsZSl9cmV0dXJuIHRoaXMuQlIubGsuZ2V0KHQpfSxpLnByb3RvdHlwZS5Caz1mdW5jdGlvbih0LGUpe3JldHVybiBlLmRrLmhhcyh0KXx8ZS5kay5zZXQodCxuZXcgaGl2ZS5zbmFwc2hvdHMuUGFydG5lclRyYWZmaWMpLGUuZGsuZ2V0KHQpfSxpLnByb3RvdHlwZS5Gaz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5Cayh0LHRoaXMuQlIpfSxpLnByb3RvdHlwZS5faz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5Cayh0LHRoaXMuU2spfSxpLnByb3RvdHlwZS5Eaz1mdW5jdGlvbih0KXt0aGlzLnRuPXR9LGkucHJvdG90eXBlLkhrPWZ1bmN0aW9uKHQpe3RoaXMuQ2s9dH0saS5wcm90b3R5cGUuam49ZnVuY3Rpb24odCl7fSxpfSgpO3QuemY9cjt2YXIgcz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLkxrPWlzTmFOKGwuSGl2ZUNvbmZpZy5EZWJ1Z0xvZ3MuTWV0cmljU25hcHNob3RMb2dzKT8wOmwuSGl2ZUNvbmZpZy5EZWJ1Z0xvZ3MuTWV0cmljU25hcHNob3RMb2dzLHRoaXMuc3RhdGU9dS5Gby5Cbyx0aGlzLmNsaWVudD1hLkZyYW1ld29yay5yZXNvbHZlKGMuZ2kuQmUpLHRoaXMuWGE9bmV3IG8uRWEsdGhpcy5wcm90b2NvbD1uZXcgby4kYSh0aGlzLlhhKX1yZXR1cm4gdC5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbih0LGkpe3RoaXMubT1hLkZyYW1ld29yay5yZXNvbHZlKGEuRnJhbWV3b3JrLkZlLndlKS5sb2coaSksdGhpcy5tLmRlYnVnKGUrXCIgSU5JVCBDTElFTlQgU1RBVFNcIiksdGhpcy5WZj10LHRoaXMuTWsoKX0sdC5wcm90b3R5cGUuTWs9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuams+LTEmJmEuRnJhbWV3b3JrLmNsZWFySW50ZXJ2YWwodGhpcy5qayksdGhpcy5qaz1hLkZyYW1ld29yay5zZXRJbnRlcnZhbChmdW5jdGlvbigpe3QuVWsoKX0saC5Lbi5Kbi5Qbyl9LHQucHJvdG90eXBlLkNpPWZ1bmN0aW9uKHQpe3RoaXMuc3RhdGU9dH0sdC5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXthLkZyYW1ld29yay5jbGVhckludGVydmFsKHRoaXMuamspLHRoaXMuVmYmJnRoaXMuVmYubWsoKX0sdC5wcm90b3R5cGUuVWs9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMubS5kZWJ1ZyhcIltTTkFQXSBUQUtJTkcgU05BUFNIT1RcIik7dmFyIGU9dGhpcy5WZi5JaygpO2UudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gdC5mb3J3YXJkKGUpfSkuZmFpbChmdW5jdGlvbihlKXt0Lm0ud2FybihcIltTTkFQXSBFUlJPUiBGT1JXQVJESU5HIFNOQVBTSE9UXCIsZSl9KVtcImZpbmFsbHlcIl0oZnVuY3Rpb24oKXt0LlZmLnJlc2V0KCl9KX0sdC5wcm90b3R5cGUuZm9yd2FyZD1mdW5jdGlvbih0KXt2YXIgaT10aGlzO2lmKHRoaXMuc3RhdGU9PT11LkZvLklETEUpcmV0dXJuIHZvaWQgdGhpcy5tLmRlYnVnKGUrXCIgbm90IHNlbmQgLSBzdGF0ZSBpZGxlXCIpO2lmKHRoaXMuY2xpZW50JiZ0aGlzLmNsaWVudC5YbigpKXtzd2l0Y2godGhpcy5Mayl7Y2FzZSAwOmRlZmF1bHQ6dGhpcy5tLmRlYnVnKGUrXCIgU0VORElORyBTTkFQU0hPVFwiKTticmVhaztjYXNlIDE6dGhpcy5tLmRlYnVnKGUrXCIgU0VORElORyBTTkFQU0hPVCBcIitKU09OLnN0cmluZ2lmeSh0KSk7YnJlYWs7Y2FzZSAyOnRoaXMubS5kZWJ1ZyhlK1wiIFNFTkRJTkcgU05BUFNIT1RcIix0KTticmVhaztjYXNlIDM6dGhpcy5tLmRlYnVnKGUrXCIgU0VORElORyBTTkFQU0hPVCBcIitKU09OLnN0cmluZ2lmeSh0KSx0KX10aGlzLnByb3RvY29sLnBjKFwiU05BUFNIT1RcIixvLkxzLlZzLDApLHQud3JpdGUodGhpcy5wcm90b2NvbCksdGhpcy5wcm90b2NvbC5kYygpO3ZhciByPXRoaXMuWGEuSGEoKSxuPXRoaXMuVmsocixcIixcIiw0KSxzPXIuc2xpY2UobisxLHIubGVuZ3RoLTEpLGE9bmV3IHAuWm4oU2VydmljZXMudG8sMSxzKTt0aGlzLmNsaWVudC5YbigpLnNlbmQoYSkuZmFpbChmdW5jdGlvbih0KXtpLm0ud2FybihlK1wiIFBST0JMRU06IFwiLHQpfSl9fSx0LnByb3RvdHlwZS5Waz1mdW5jdGlvbih0LGUsaSl7cmV0dXJuIHQuc3BsaXQoZSxpKS5qb2luKGUpLmxlbmd0aH0sdH0oKTt0LmVvPXN9KHM9ZS5TdGF0c3x8KGUuU3RhdHM9e30pKX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO3ZhciByPWkoMSksbj1pKDQpLG89aSgyKSxzPWkoNSksYT1pKDU4KSxjPWkoNTQpLGg9aSg2NSkscD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLlFrPW51bGwsdGhpcy5xaz1udWxsLHRoaXMuSms9bnVsbCx0aGlzLktrPW51bGwsdGhpcy5Haz1uZXcgbi52ZSx0aGlzLnB1YmxpY0lwPW51bGwsdGhpcy56az1bXSx0aGlzLl9pPSExLHRoaXMuV2s9bnVsbCx0aGlzLm09by5GcmFtZXdvcmsucmVzb2x2ZShvLkZyYW1ld29yay5GZS53ZSkubG9nKCksdGhpcy5paz1vLkZyYW1ld29yay5yZXNvbHZlKHMuZ2kuaGkpLHRoaXMuJGs9bmV3IGMuaGssdGhpcy5Zaz1bXSx0aGlzLlhrKCl9cmV0dXJuIHQucHJvdG90eXBlLlhrPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztvLkZyYW1ld29yay5zZXRJbnRlcnZhbChmdW5jdGlvbigpe3Quems9W10sdC5Zaz1bXSx0LkdrPW5ldyBuLnZlLHQucHVibGljSXA9bnVsbCx0LlprPW51bGx9LDEyZTQpfSx0LnByb3RvdHlwZS5Qbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLlprfHwodGhpcy5aaz10aGlzLnRDKCkpLHRoaXMuWmt9LHQucHJvdG90eXBlLnRDPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPXIuZGVmZXIoKTtpZih0aGlzLldrPW8uRnJhbWV3b3JrLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtlLnJlamVjdCh7ZUM6ITAsbWVzc2FnZTpcImV4cGlyZWRcIn0pfSw0ZTMpLHRoaXMuaUMoKSl0cnl7dGhpcy5Raz1uZXcgUlRDUGVlckNvbm5lY3Rpb24obnVsbCksdGhpcy5Kaz10aGlzLlFrLmNyZWF0ZURhdGFDaGFubmVsKFwic2VuZENoYW5uZWxcIix7cmVsaWFibGU6ITF9KSx0aGlzLnFrPW5ldyBSVENQZWVyQ29ubmVjdGlvbihudWxsKSx0aGlzLnFrLm9uZGF0YWNoYW5uZWw9ZnVuY3Rpb24oaSl7dC5Laz1pLmNoYW5uZWwsdC5Lay5vbm9wZW49ZnVuY3Rpb24oaSl7XCJvcGVuXCI9PT10LktrLnJlYWR5U3RhdGUmJih0Lm0uZGVidWcoXCJDb2xsZWN0ZWQgaXBzIFtcIit0LkdrLmtleXMoKS5qb2luKFwiLCBcIikrXCJdXCIpLHQucWsuY2xvc2UoKSx0LiRrLm5rKCkudGhlbihmdW5jdGlvbihlKXt0LllrPWUsdC5tLmRlYnVnKFwiQWxyZWFkeSBrbm93biBtYXRjaGluZyBpcHMgW1wiK3QuWWsuam9pbihcIixcIikrXCJdXCIpO3ZhciBpPXQuR2sua2V5cygpO3QuWWsuZm9yRWFjaChmdW5jdGlvbihlKXtpLmluZGV4T2YoZSk+MCYmKHQuemsucHVzaChlKSx0LkdrW1wiZGVsZXRlXCJdKGUpKX0pLHQuR2sua2V5cygpLmZvckVhY2goZnVuY3Rpb24oZSl7dC56ay5wdXNoKGUpfSl9KS5mYWlsKGZ1bmN0aW9uKGUpe3QubS53YXJuKFwiR2V0IFByZXZpb3VzIHdvcmtpbmcgaXBzIGZhaWxlZCB3aXRoIGVycm9yIFwiK2UubWVzc2FnZSksdC5Hay5rZXlzKCkuZm9yRWFjaChmdW5jdGlvbihlKXt0LnprLnB1c2goZSl9KX0pW1wiZmluYWxseVwiXShmdW5jdGlvbigpe3QubS5kZWJ1ZyhcIkZpbmFsIHByaXZhdGUgaXAgbGlzdCBbXCIrdC56ay5qb2luKFwiLFwiKStcIl1cIiksZS5yZXNvbHZlKHQuckMoKSl9KSl9fSx0aGlzLlFrLm9uaWNlY2FuZGlkYXRlPWZ1bmN0aW9uKGkpe2kuY2FuZGlkYXRlJiZ0LnpiKGkuY2FuZGlkYXRlLmNhbmRpZGF0ZSksIWkuY2FuZGlkYXRlfHx0LnFrLmFkZEljZUNhbmRpZGF0ZShpLmNhbmRpZGF0ZSlbXCJjYXRjaFwiXShmdW5jdGlvbihpKXtlLnJlamVjdCh7ZUM6ITAsbWVzc2FnZTppLm1lc3NhZ2V9KSxvLkZyYW1ld29yay5jbGVhclRpbWVvdXQodC5XayksY29uc29sZS5sb2coXCJFcnJvcjogRmFpbHVyZSBkdXJpbmcgYWRkSWNlQ2FuZGlkYXRlKClcIil9KX0sdGhpcy5xay5vbmljZWNhbmRpZGF0ZT1mdW5jdGlvbihpKXtpLmNhbmRpZGF0ZSYmdC56YihpLmNhbmRpZGF0ZS5jYW5kaWRhdGUpLCFpLmNhbmRpZGF0ZXx8dC5Ray5hZGRJY2VDYW5kaWRhdGUoaS5jYW5kaWRhdGUpW1wiY2F0Y2hcIl0oZnVuY3Rpb24oaSl7ZS5yZWplY3Qoe2VDOiEwLG1lc3NhZ2U6aS5tZXNzYWdlfSksby5GcmFtZXdvcmsuY2xlYXJUaW1lb3V0KHQuV2spLGNvbnNvbGUubG9nKFwiRXJyb3I6IEZhaWx1cmUgZHVyaW5nIGFkZEljZUNhbmRpZGF0ZSgpXCIpfSl9LHRoaXMuUWsuY3JlYXRlT2ZmZXIoKS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiB0LlFrLnNldExvY2FsRGVzY3JpcHRpb24oZSl9KS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIHQucWsuc2V0UmVtb3RlRGVzY3JpcHRpb24odC5Ray5sb2NhbERlc2NyaXB0aW9uKX0pLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gdC5xay5jcmVhdGVBbnN3ZXIoKX0pLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIHQucWsuc2V0TG9jYWxEZXNjcmlwdGlvbihlKX0pLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gdC5Ray5zZXRSZW1vdGVEZXNjcmlwdGlvbih0LnFrLmxvY2FsRGVzY3JpcHRpb24pfSlbXCJjYXRjaFwiXShmdW5jdGlvbihpKXtlLnJlamVjdCh7ZUM6ITAsbWVzc2FnZTppLm1lc3NhZ2V9KSxvLkZyYW1ld29yay5jbGVhclRpbWVvdXQodC5XayksY29uc29sZS5sb2coXCJFcnJvcjogRmFpbHVyZSBjcmVhdGluZyBvZmZlclwiKX0pfWNhdGNoKGkpe2UucmVqZWN0KHtlQzohMCxtZXNzYWdlOmkubWVzc2FnZX0pfWVsc2Ugby5GcmFtZXdvcmsuY2xlYXJUaW1lb3V0KHRoaXMuV2spLGUucmVqZWN0KHtlQzohMSxtZXNzYWdlOlwid2VicnRjIGRhdGFjaGFubmVsIG5vdCBzdXBwb3J0ZWRcIn0pO3JldHVybiBlLnZ0fSx0LnByb3RvdHlwZS5pQz1mdW5jdGlvbigpe3RyeXtyZXR1cm4gbnVsbCE9aC5YZSYmbnVsbCE9aC5uQyYmXCJmdW5jdGlvblwiPT10eXBlb2YgbmV3IFJUQ1BlZXJDb25uZWN0aW9uKG51bGwsbnVsbCkuY3JlYXRlRGF0YUNoYW5uZWx9Y2F0Y2godCl7cmV0dXJuITF9fSx0LnByb3RvdHlwZS56Yj1mdW5jdGlvbih0KXt2YXIgZT0vKFswLTldezEsM30oXFwuWzAtOV17MSwzfSl7M30pLyxpPWUuZXhlYyh0KTtpZihpKXt2YXIgcj1pWzBdO3RoaXMuR2suc2V0KHIsITApfX0sdC5wcm90b3R5cGUuckM9ZnVuY3Rpb24oKXt2YXIgdD1uZXcgYS5vQztyZXR1cm4gdGhpcy56ay5sZW5ndGg+MCYmdC5zQyh0aGlzLnprWzBdKSx0aGlzLnB1YmxpY0lwJiZ0LmFDKHRoaXMucHVibGljSXApLHRoaXMuaWsuSlIodCksdGhpcy5pa30sdC5wcm90b3R5cGUucms9ZnVuY3Rpb24odCxlLGkpe2lmKHRoaXMucHVibGljSXA9dCx0aGlzLmNDKCksMD09PWkmJnRoaXMuemsubGVuZ3RoPjEpdGhpcy56ay5zaGlmdCgpO2Vsc2UgaWYoMCE9PWkmJnRoaXMuWWsuaW5kZXhPZih0aGlzLnprWzBdKT09LTEpdGhpcy5Zay51bnNoaWZ0KHRoaXMuemtbMF0pLHRoaXMuJGsuY2sodGhpcy5Zay5zbGljZSgwLDIpKTtlbHNlIGlmKDAhPT1pJiZ0aGlzLllrLmluZGV4T2YodGhpcy56a1swXSk+MCl7dmFyIHI9dGhpcy5Zay5pbmRleE9mKHRoaXMuemtbMF0pO3RoaXMuWWs9dGhpcy5Zay5zcGxpY2UociwxKSx0aGlzLllrLnVuc2hpZnQodGhpcy56a1swXSksdGhpcy4kay5jayh0aGlzLllrLnNsaWNlKDAsMikpfXRoaXMuckMoKX0sdC5wcm90b3R5cGUuY0M9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnprLmluZGV4T2YodGhpcy5wdWJsaWNJcCk7dD4tMSYmdGhpcy56ay5zcGxpY2UodCwxKX0sdH0oKTtlLk1SPXB9LGZ1bmN0aW9uKHQsZSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnByb3RvdHlwZS5hQz1mdW5jdGlvbih0KXt0aGlzLnB1YmxpY0lwPXR9LHQucHJvdG90eXBlLnhuPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHVibGljSXB9LHQucHJvdG90eXBlLmhDPWZ1bmN0aW9uKHQpe3RoaXMucEM9dH0sdC5wcm90b3R5cGUuTG49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wQ30sdC5wcm90b3R5cGUudUM9ZnVuY3Rpb24odCl7dGhpcy5uaWM9dH0sdC5wcm90b3R5cGUuRG49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uaWN9LHQucHJvdG90eXBlLmxDPWZ1bmN0aW9uKHQpe3RoaXMubmljTmFtZT10fSx0LnByb3RvdHlwZS5Ibj1mdW5jdGlvbigpe3JldHVybiB0aGlzLm5pY05hbWV9LHQucHJvdG90eXBlLnNDPWZ1bmN0aW9uKHQpe3RoaXMucHJpdmF0ZUlwPXR9LHQucHJvdG90eXBlLkJuPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHJpdmF0ZUlwfSx0LnByb3RvdHlwZS5kQz1mdW5jdGlvbih0KXt0aGlzLm5ldG1hc2s9dH0sdC5wcm90b3R5cGUuZkM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uZXRtYXNrfSx0LnByb3RvdHlwZS5nQz1mdW5jdGlvbih0KXt0aGlzLnZDPXR9LHQucHJvdG90eXBlLl9uPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LHR9KCk7ZS5vQz1pfSxmdW5jdGlvbih0LGUpe1widXNlIHN0cmljdFwiO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsaSl7dGhpcy5pc0xpdmU9dCx0aGlzLnByb3RvY29sPWUsdGhpcy55Qz1pfXJldHVybiB0LnByb3RvdHlwZS5raz1mdW5jdGlvbigpe3ZhciB0PW5ldyBoaXZlLnNuYXBzaG90cy5TdHJlYW1JbmZvO3JldHVybiB0LnN0cmVhbVR5cGU9dGhpcy5pc0xpdmU/U3RyZWFtVHlwZS5MSVZFOlN0cmVhbVR5cGUuUGYsdC5zdHJlYW1Qcm90b2NvbD10aGlzLnByb3RvY29sLHQudXJsPXRoaXMueUMsdH0sdH0oKTtlLk5SPWl9LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtpKDI5KTt2YXIgcj1pKDEpLG49aSg0KSxvPW4udmUscz1pKDIpLGE9aSgyMCksYz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5pbz0obmV3IERhdGUpLmdldFRpbWUoKSx0aGlzLm1DPXR9cmV0dXJuIHR9KCksaD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLndDPW5ldyBvLHRoaXMubT0ocy5GcmFtZXdvcmsucmVzb2x2ZShzLkZyYW1ld29yay5GZS53ZSl8fGNvbnNvbGUpLmxvZygpLHRoaXMubS5kZWJ1ZyhcIklOSVQgVElDS0VUIFJFU09MVkVSXCIpfXJldHVybiB0LnByb3RvdHlwZS5yZXNvbHZlPWZ1bmN0aW9uKHQsZSxpKXt2YXIgbj10aGlzLG89ci5kZWZlcigpO3JldHVybiB0JiYodC5vbihTZXJ2aWNlcy5rZiwwLGZ1bmN0aW9uKHQpe24uVEModCl9KSx0Lm9uKFNlcnZpY2VzLmtmLDIsZnVuY3Rpb24odCl7bi5UQyh0KX0pLHRoaXMud0Muc2V0KGUsbmV3IGMobykpKSxvLnZ0fSx0LnByb3RvdHlwZS5UQz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLGk9KG5ldyBEYXRlKS5nZXRUaW1lKCkscj1KU09OLnBhcnNlKHQubXNnKSxuPSExO3RoaXMud0MuZm9yRWFjaChmdW5jdGlvbih0LG8pe2lmKGUuU0MobyxyKSl7bj0hMDt2YXIgcz1lLiRsKG8scik7cz8ocy5pbz10LmlvLHMucm89aSx0Lm1DLnJlc29sdmUocykpOnQubUMucmVqZWN0KFwiVGlja2V0IHZlcmlmaWNhdGlvbiBmYWlsZWRcIiksZS53Q1tcImRlbGV0ZVwiXShzKX19KSxufHx0aGlzLm0ud2FybihcIm5vIHBlbmRpbmcgdGlja2V0IG1hdGNoaW5nOiBcIit0Lm1zZyl9LHQucHJvdG90eXBlLkdvPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBSZWdFeHAoXCJeaHR0cHM/Oi8vYXBpKD86LXRlc3QpPy5oaXZlc3RyZWFtaW5nLmNvbS92MS9ldmVudHMvKD86d2lsZGNhcmQvKT9cIik7aWYoZS50ZXN0KHQpKXt2YXIgaT10aGlzLmJDKCk7cmV0dXJuIGkuS2godCksaX1yZXR1cm4gbnVsbH0sdC5wcm90b3R5cGUuYkM9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGEuYXB9LHQucHJvdG90eXBlLlNDPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuYm4oKT09PWVbYS5hcC5vcF0mJnQuRW4oKT09PWVbYS5hcC5ucF0mJnQuZXMoKT09PWVbYS5hcC5zcF19LHQucHJvdG90eXBlLiRsPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuVWgoZSksdC5RaCgpP3Q6bnVsbH0sdH0oKTtlLlVSPWh9LGZ1bmN0aW9uKHQsZSl7XCJmdW5jdGlvblwiPT10eXBlb2YgT2JqZWN0LmNyZWF0ZT90LnQ9ZnVuY3Rpb24odCxlKXt0LkVDPWUsdC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnQsQWc6ITEsUGc6ITAsTmc6ITB9fSl9OnQudD1mdW5jdGlvbih0LGUpe3QuRUM9ZTt2YXIgaT1mdW5jdGlvbigpe307aS5wcm90b3R5cGU9ZS5wcm90b3R5cGUsdC5wcm90b3R5cGU9bmV3IGksdC5wcm90b3R5cGUuY29uc3RydWN0b3I9dH19LGZ1bmN0aW9uKHQsZSl7dC50PWZ1bmN0aW9uKHQpe3JldHVybiB0JiZcIm9iamVjdFwiPT10eXBlb2YgdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgdC5jb3B5JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LmZpbGwmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQucmVhZFVJbnQ4fX0sZnVuY3Rpb24odCxlLGkpe2Z1bmN0aW9uIHIodCxpKXt2YXIgcj17SUM6W10sUkM6b307cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg+PTMmJihyLmtDPWFyZ3VtZW50c1syXSksYXJndW1lbnRzLmxlbmd0aD49NCYmKHIuQ0M9YXJndW1lbnRzWzNdKSxmKGkpP3IuT0M9aTppJiZlLlBDKHIsaSksVChyLk9DKSYmKHIuT0M9ITEpLFQoci5rQykmJihyLmtDPTIpLFQoci5DQykmJihyLkNDPSExKSxUKHIuQUMpJiYoci5BQz0hMCksci5DQyYmKHIuUkM9biksYShyLHQsci5rQyl9ZnVuY3Rpb24gbih0LGUpe3ZhciBpPXIuTkNbZV07cmV0dXJuIGk/XCJcdTAwMWJbXCIrci5DQ1tpXVswXStcIm1cIit0K1wiXHUwMDFiW1wiK3IuQ0NbaV1bMV0rXCJtXCI6dH1mdW5jdGlvbiBvKHQsZSl7cmV0dXJuIHR9ZnVuY3Rpb24gcyh0KXt2YXIgZT17fTtyZXR1cm4gdC5mb3JFYWNoKGZ1bmN0aW9uKHQsaSl7ZVt0XT0hMH0pLGV9ZnVuY3Rpb24gYSh0LGkscil7aWYodC5BQyYmaSYmUihpLmd0KSYmaS5ndCE9PWUuZ3QmJighaS5jb25zdHJ1Y3Rvcnx8aS5jb25zdHJ1Y3Rvci5wcm90b3R5cGUhPT1pKSl7dmFyIG49aS5ndChyLHQpO3JldHVybiBtKG4pfHwobj1hKHQsbixyKSksbn12YXIgbz1jKHQsaSk7aWYobylyZXR1cm4gbzt2YXIgZj1PYmplY3Qua2V5cyhpKSxnPXMoZik7aWYodC5PQyYmKGY9T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoaSkpLEkoaSkmJihmLmluZGV4T2YoXCJtZXNzYWdlXCIpPj0wfHxmLmluZGV4T2YoXCJkZXNjcmlwdGlvblwiKT49MCkpcmV0dXJuIGgoaSk7aWYoMD09PWYubGVuZ3RoKXtpZihSKGkpKXt2YXIgdj1pLm5hbWU/XCI6IFwiK2kubmFtZTpcIlwiO3JldHVybiB0LlJDKFwiW0Z1bmN0aW9uXCIrditcIl1cIixcInNwZWNpYWxcIil9aWYoUyhpKSlyZXR1cm4gdC5SQyhSZWdFeHAucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaSksXCJyZWdleHBcIik7aWYoRShpKSlyZXR1cm4gdC5SQyhEYXRlLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGkpLFwiZGF0ZVwiKTtpZihJKGkpKXJldHVybiBoKGkpfXZhciB5PVwiXCIsdz0hMSxUPVtcIntcIixcIn1cIl07aWYoZChpKSYmKHc9ITAsVD1bXCJbXCIsXCJdXCJdKSxSKGkpKXt2YXIgYj1pLm5hbWU/XCI6IFwiK2kubmFtZTpcIlwiO3k9XCIgW0Z1bmN0aW9uXCIrYitcIl1cIn1pZihTKGkpJiYoeT1cIiBcIitSZWdFeHAucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaSkpLEUoaSkmJih5PVwiIFwiK0RhdGUucHJvdG90eXBlLnRvVVRDU3RyaW5nLmNhbGwoaSkpLEkoaSkmJih5PVwiIFwiK2goaSkpLDA9PT1mLmxlbmd0aCYmKCF3fHwwPT1pLmxlbmd0aCkpcmV0dXJuIFRbMF0reStUWzFdO2lmKHI8MClyZXR1cm4gUyhpKT90LlJDKFJlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpKSxcInJlZ2V4cFwiKTp0LlJDKFwiW09iamVjdF1cIixcInNwZWNpYWxcIik7dC5JQy5wdXNoKGkpO3ZhciBrO3JldHVybiBrPXc/cCh0LGkscixnLGYpOmYubWFwKGZ1bmN0aW9uKGUpe3JldHVybiB1KHQsaSxyLGcsZSx3KX0pLHQuSUMucG9wKCksbChrLHksVCl9ZnVuY3Rpb24gYyh0LGUpe2lmKFQoZSkpcmV0dXJuIHQuUkMoXCJ1bmRlZmluZWRcIixcInVuZGVmaW5lZFwiKTtpZihtKGUpKXt2YXIgaT1cIidcIitKU09OLnN0cmluZ2lmeShlKS5yZXBsYWNlKC9eXCJ8XCIkL2csXCJcIikucmVwbGFjZSgvJy9nLFwiXFxcXCdcIikucmVwbGFjZSgvXFxcXFwiL2csJ1wiJykrXCInXCI7cmV0dXJuIHQuUkMoaSxcInN0cmluZ1wiKX1yZXR1cm4geShlKT90LlJDKFwiXCIrZSxcIm51bWJlclwiKTpmKGUpP3QuUkMoXCJcIitlLFwiYm9vbGVhblwiKTpnKGUpP3QuUkMoXCJudWxsXCIsXCJudWxsXCIpOnZvaWQgMH1mdW5jdGlvbiBoKHQpe3JldHVyblwiW1wiK0Vycm9yLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpK1wiXVwifWZ1bmN0aW9uIHAodCxlLGkscixuKXtmb3IodmFyIG89W10scz0wLGE9ZS5sZW5ndGg7czxhOysrcylBKGUsU3RyaW5nKHMpKT9vLnB1c2godSh0LGUsaSxyLFN0cmluZyhzKSwhMCkpOm8ucHVzaChcIlwiKTtyZXR1cm4gbi5mb3JFYWNoKGZ1bmN0aW9uKG4pe24ubWF0Y2goL15cXGQrJC8pfHxvLnB1c2godSh0LGUsaSxyLG4sITApKX0pLG99ZnVuY3Rpb24gdSh0LGUsaSxyLG4sbyl7dmFyIHMsYyxoO2lmKGg9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLG4pfHx7dmFsdWU6ZVtuXX0saC5nZXQ/Yz1oLnNldD90LlJDKFwiW0dldHRlci9TZXR0ZXJdXCIsXCJzcGVjaWFsXCIpOnQuUkMoXCJbR2V0dGVyXVwiLFwic3BlY2lhbFwiKTpoLnNldCYmKGM9dC5SQyhcIltTZXR0ZXJdXCIsXCJzcGVjaWFsXCIpKSxBKHIsbil8fChzPVwiW1wiK24rXCJdXCIpLGN8fCh0LklDLmluZGV4T2YoaC52YWx1ZSk8MD8oYz1nKGkpP2EodCxoLnZhbHVlLG51bGwpOmEodCxoLnZhbHVlLGktMSksYy5pbmRleE9mKFwiXFxuXCIpPi0xJiYoYz1vP2Muc3BsaXQoXCJcXG5cIikubWFwKGZ1bmN0aW9uKHQpe3JldHVyblwiICBcIit0fSkuam9pbihcIlxcblwiKS5zdWJzdHIoMik6XCJcXG5cIitjLnNwbGl0KFwiXFxuXCIpLm1hcChmdW5jdGlvbih0KXtyZXR1cm5cIiAgIFwiK3R9KS5qb2luKFwiXFxuXCIpKSk6Yz10LlJDKFwiW0NpcmN1bGFyXVwiLFwic3BlY2lhbFwiKSksVChzKSl7aWYobyYmbi5tYXRjaCgvXlxcZCskLykpcmV0dXJuIGM7cz1KU09OLnN0cmluZ2lmeShcIlwiK24pLHMubWF0Y2goL15cIihbYS16QS1aX11bYS16QS1aXzAtOV0qKVwiJC8pPyhzPXMuc3Vic3RyKDEscy5sZW5ndGgtMikscz10LlJDKHMsXCJuYW1lXCIpKToocz1zLnJlcGxhY2UoLycvZyxcIlxcXFwnXCIpLnJlcGxhY2UoL1xcXFxcIi9nLCdcIicpLnJlcGxhY2UoLyheXCJ8XCIkKS9nLFwiJ1wiKSxzPXQuUkMocyxcInN0cmluZ1wiKSl9cmV0dXJuIHMrXCI6IFwiK2N9ZnVuY3Rpb24gbCh0LGUsaSl7dmFyIHI9MCxuPXQucmVkdWNlKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHIrKyxlLmluZGV4T2YoXCJcXG5cIik+PTAmJnIrKyx0K2UucmVwbGFjZSgvXFx1MDAxYlxcW1xcZFxcZD9tL2csXCJcIikubGVuZ3RoKzF9LDApO3JldHVybiBuPjYwP2lbMF0rKFwiXCI9PT1lP1wiXCI6ZStcIlxcbiBcIikrXCIgXCIrdC5qb2luKFwiLFxcbiAgXCIpK1wiIFwiK2lbMV06aVswXStlK1wiIFwiK3Quam9pbihcIiwgXCIpK1wiIFwiK2lbMV19ZnVuY3Rpb24gZCh0KXtyZXR1cm4gQXJyYXkuaXNBcnJheSh0KX1mdW5jdGlvbiBmKHQpe3JldHVyblwiYm9vbGVhblwiPT10eXBlb2YgdH1mdW5jdGlvbiBnKHQpe3JldHVybiBudWxsPT09dH1mdW5jdGlvbiB2KHQpe3JldHVybiBudWxsPT10fWZ1bmN0aW9uIHkodCl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIHR9ZnVuY3Rpb24gbSh0KXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgdH1mdW5jdGlvbiB3KHQpe3JldHVyblwic3ltYm9sXCI9PXR5cGVvZiB0fWZ1bmN0aW9uIFQodCl7cmV0dXJuIHZvaWQgMD09PXR9ZnVuY3Rpb24gUyh0KXtyZXR1cm4gYih0KSYmXCJbb2JqZWN0IFJlZ0V4cF1cIj09PUModCl9ZnVuY3Rpb24gYih0KXtyZXR1cm5cIm9iamVjdFwiPT10eXBlb2YgdCYmbnVsbCE9PXR9ZnVuY3Rpb24gRSh0KXtyZXR1cm4gYih0KSYmXCJbb2JqZWN0IERhdGVdXCI9PT1DKHQpfWZ1bmN0aW9uIEkodCl7cmV0dXJuIGIodCkmJihcIltvYmplY3QgRXJyb3JdXCI9PT1DKHQpfHx0IGluc3RhbmNlb2YgRXJyb3IpfWZ1bmN0aW9uIFIodCl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgdH1mdW5jdGlvbiBrKHQpe3JldHVybiBudWxsPT09dHx8XCJib29sZWFuXCI9PXR5cGVvZiB0fHxcIm51bWJlclwiPT10eXBlb2YgdHx8XCJzdHJpbmdcIj09dHlwZW9mIHR8fFwic3ltYm9sXCI9PXR5cGVvZiB0fHxcInVuZGVmaW5lZFwiPT10eXBlb2YgdH1mdW5jdGlvbiBDKHQpe3JldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCl9ZnVuY3Rpb24gTyh0KXtyZXR1cm4gdDwxMD9cIjBcIit0LnRvU3RyaW5nKDEwKTp0LnRvU3RyaW5nKDEwKX1mdW5jdGlvbiBQKCl7dmFyIHQ9bmV3IERhdGUsZT1bTyh0LmdldEhvdXJzKCkpLE8odC5nZXRNaW51dGVzKCkpLE8odC5nZXRTZWNvbmRzKCkpXS5qb2luKFwiOlwiKTtyZXR1cm5bdC5nZXREYXRlKCksRlt0LmdldE1vbnRoKCldLGVdLmpvaW4oXCIgXCIpfWZ1bmN0aW9uIEEodCxlKXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsZSl9dmFyIE49LyVbc2RqJV0vZztlLmZvcm1hdD1mdW5jdGlvbih0KXtpZighbSh0KSl7Zm9yKHZhciBlPVtdLGk9MDtpPGFyZ3VtZW50cy5sZW5ndGg7aSsrKWUucHVzaChyKGFyZ3VtZW50c1tpXSkpO3JldHVybiBlLmpvaW4oXCIgXCIpfWZvcih2YXIgaT0xLG49YXJndW1lbnRzLG89bi5sZW5ndGgscz1TdHJpbmcodCkucmVwbGFjZShOLGZ1bmN0aW9uKHQpe2lmKFwiJSVcIj09PXQpcmV0dXJuXCIlXCI7aWYoaT49bylyZXR1cm4gdDtzd2l0Y2godCl7Y2FzZVwiJXNcIjpyZXR1cm4gU3RyaW5nKG5baSsrXSk7Y2FzZVwiJWRcIjpyZXR1cm4gTnVtYmVyKG5baSsrXSk7Y2FzZVwiJWpcIjp0cnl7cmV0dXJuIEpTT04uc3RyaW5naWZ5KG5baSsrXSl9Y2F0Y2goZSl7cmV0dXJuXCJbQ2lyY3VsYXJdXCJ9ZGVmYXVsdDpyZXR1cm4gdH19KSxhPW5baV07aTxvO2E9blsrK2ldKXMrPWcoYSl8fCFiKGEpP1wiIFwiK2E6XCIgXCIrcihhKTtyZXR1cm4gc30sZS54Qz1mdW5jdGlvbih0LGkpe2Z1bmN0aW9uIHIoKXtpZighbil7aWYocHJvY2Vzcy50aHJvd0RlcHJlY2F0aW9uKXRocm93IG5ldyBFcnJvcihpKTtwcm9jZXNzLnRyYWNlRGVwcmVjYXRpb24/Y29uc29sZS50cmFjZShpKTpjb25zb2xlLmVycm9yKGkpLG49ITB9cmV0dXJuIHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfWlmKFQoZ2xvYmFsLnByb2Nlc3MpKXJldHVybiBmdW5jdGlvbigpe3JldHVybiBlLnhDKHQsaSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtpZihwcm9jZXNzLm5vRGVwcmVjYXRpb249PT0hMClyZXR1cm4gdDt2YXIgbj0hMTtyZXR1cm4gcn07dmFyIHgsQj17fTtlLkJDPWZ1bmN0aW9uKHQpe2lmKFQoeCkmJih4PXByb2Nlc3MuT3QuTk9ERV9ERUJVR3x8XCJcIiksdD10LnRvVXBwZXJDYXNlKCksIUJbdF0paWYobmV3IFJlZ0V4cChcIlxcXFxiXCIrdCtcIlxcXFxiXCIsXCJpXCIpLnRlc3QoeCkpe3ZhciBpPXByb2Nlc3MucGlkO0JbdF09ZnVuY3Rpb24oKXt2YXIgcj1lLmZvcm1hdC5hcHBseShlLGFyZ3VtZW50cyk7Y29uc29sZS5lcnJvcihcIiVzICVkOiAlc1wiLHQsaSxyKX19ZWxzZSBCW3RdPWZ1bmN0aW9uKCl7fTtyZXR1cm4gQlt0XX0sZS5ndD1yLHIuQ0M9e2JvbGQ6WzEsMjJdLEZDOlszLDIzXSxfQzpbNCwyNF0saW52ZXJzZTpbNywyN10sREM6WzM3LDM5XSxIQzpbOTAsMzldLExDOlszMCwzOV0sYmx1ZTpbMzQsMzldLE1DOlszNiwzOV0sZ3JlZW46WzMyLDM5XSxqQzpbMzUsMzldLHJlZDpbMzEsMzldLFVDOlszMywzOV19LHIuTkM9e1ZDOlwiY3lhblwiLG51bWJlcjpcInllbGxvd1wiLFFDOlwieWVsbG93XCIsdW5kZWZpbmVkOlwiZ3JleVwiLHFDOlwiYm9sZFwiLEpDOlwiZ3JlZW5cIix4VDpcIm1hZ2VudGFcIixLQzpcInJlZFwifSxlLmlzQXJyYXk9ZCxlLk9tPWYsZS5BbT1nLGUuYWs9dixlLk5tPXksZS54bT1tLGUuR0M9dyxlLkJtPVQsZS56Qz1TLGUub3Y9YixlLldDPUUsZS4kQz1JLGUuUG09UixlLllDPWssZS5pc0J1ZmZlcj1pKDYyKTt2YXIgRj1bXCJKYW5cIixcIkZlYlwiLFwiTWFyXCIsXCJBcHJcIixcIk1heVwiLFwiSnVuXCIsXCJKdWxcIixcIkF1Z1wiLFwiU2VwXCIsXCJPY3RcIixcIk5vdlwiLFwiRGVjXCJdO2UubG9nPWZ1bmN0aW9uKCl7Y29uc29sZS5sb2coXCIlcyAtICVzXCIsUCgpLGUuZm9ybWF0LmFwcGx5KGUsYXJndW1lbnRzKSl9LGUucXM9aSg2MSksZS5QQz1mdW5jdGlvbih0LGUpe2lmKCFlfHwhYihlKSlyZXR1cm4gdDtmb3IodmFyIGk9T2JqZWN0LmtleXMoZSkscj1pLmxlbmd0aDtyLS07KXRbaVtyXV09ZVtpW3JdXTtyZXR1cm4gdH19LGZ1bmN0aW9uKHQsZSl7KGZ1bmN0aW9uKGUpe3QudD1lfSkuY2FsbChlLHt9KX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiOyFmdW5jdGlvbigpe3ZhciBlPWkoMykscj1lLmxvZyxuPWUucmk7dC50LnJpPW4sdC50LlhlPWUuWGUsdC50LlllPWUuWWU7dmFyIG89aSg2Nil8fG51bGwscz1pKDY4KXx8bnVsbCxhPWkoNzApfHxudWxsLGM9aSg3Mil8fG51bGw7c3dpdGNoKG4udGkpe2Nhc2VcImNocm9tZVwiOmlmKCFvfHwhby5YQylyZXR1cm4gdm9pZCByKFwiQ2hyb21lIHNoaW0gaXMgbm90IGluY2x1ZGVkIGluIHRoaXMgYWRhcHRlciByZWxlYXNlLlwiKTtyKFwiYWRhcHRlci5qcyBzaGltbWluZyBjaHJvbWUuXCIpLHQudC5uQz1vLG8uWkMoKSxvLnRPKCksZS5laSgpLG8uZU8oKSxvLlhDKCksby5pTygpLG8uck8oKTticmVhaztjYXNlXCJmaXJlZm94XCI6aWYoIWF8fCFhLlhDKXJldHVybiB2b2lkIHIoXCJGaXJlZm94IHNoaW0gaXMgbm90IGluY2x1ZGVkIGluIHRoaXMgYWRhcHRlciByZWxlYXNlLlwiKTtyKFwiYWRhcHRlci5qcyBzaGltbWluZyBmaXJlZm94LlwiKSx0LnQubkM9YSxhLlpDKCksZS5laSgpLGEuZU8oKSxhLlhDKCksYS5pTygpO2JyZWFrO2Nhc2VcImVkZ2VcIjppZighc3x8IXMuWEMpcmV0dXJuIHZvaWQgcihcIk1TIGVkZ2Ugc2hpbSBpcyBub3QgaW5jbHVkZWQgaW4gdGhpcyBhZGFwdGVyIHJlbGVhc2UuXCIpO3IoXCJhZGFwdGVyLmpzIHNoaW1taW5nIGVkZ2UuXCIpLHQudC5uQz1zLHMuWkMoKSxlLmVpKCkscy5YQygpO2JyZWFrO2Nhc2VcInNhZmFyaVwiOmlmKCFjKXJldHVybiB2b2lkIHIoXCJTYWZhcmkgc2hpbSBpcyBub3QgaW5jbHVkZWQgaW4gdGhpcyBhZGFwdGVyIHJlbGVhc2UuXCIpO3IoXCJhZGFwdGVyLmpzIHNoaW1taW5nIHNhZmFyaS5cIiksdC50Lm5DPWMsYy5aQygpO2JyZWFrO2RlZmF1bHQ6cihcIlVuc3VwcG9ydGVkIGJyb3dzZXIhXCIpfX0oKX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO3ZhciByPWkoMykubG9nLG49aSgzKS5yaSxvPXt0TzpmdW5jdGlvbigpe3dpbmRvdy5NZWRpYVN0cmVhbT13aW5kb3cuTWVkaWFTdHJlYW18fHdpbmRvdy53ZWJraXRNZWRpYVN0cmVhbX0saU86ZnVuY3Rpb24oKXtcIm9iamVjdFwiIT10eXBlb2Ygd2luZG93fHwhd2luZG93LlJUQ1BlZXJDb25uZWN0aW9ufHxcIm9udHJhY2tcImluIHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGV8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLFwib250cmFja1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uT30sc2V0OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7dGhpcy5uTyYmKHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRyYWNrXCIsdGhpcy5uTyksdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKFwiYWRkc3RyZWFtXCIsdGhpcy5vTykpLHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihcInRyYWNrXCIsdGhpcy5uTz10KSx0aGlzLmFkZEV2ZW50TGlzdGVuZXIoXCJhZGRzdHJlYW1cIix0aGlzLm9PPWZ1bmN0aW9uKHQpe3Quc3RyZWFtLmFkZEV2ZW50TGlzdGVuZXIoXCJhZGR0cmFja1wiLGZ1bmN0aW9uKGkpe3ZhciByPW5ldyBFdmVudChcInRyYWNrXCIpO3IudHJhY2s9aS50cmFjayxyLnJlY2VpdmVyPXt0cmFjazppLnRyYWNrfSxyLnNPPVt0LnN0cmVhbV0sZS5kaXNwYXRjaEV2ZW50KHIpfSksdC5zdHJlYW0uZ2V0VHJhY2tzKCkuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgaT1uZXcgRXZlbnQoXCJ0cmFja1wiKTtpLnRyYWNrPWUsaS5yZWNlaXZlcj17dHJhY2s6ZX0saS5zTz1bdC5zdHJlYW1dLHRoaXMuZGlzcGF0Y2hFdmVudChpKX0uYmluZCh0aGlzKSl9LmJpbmQodGhpcykpfX0pfSxyTzpmdW5jdGlvbigpe2lmKFwib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3cmJndpbmRvdy5SVENQZWVyQ29ubmVjdGlvbiYmIShcImdldFNlbmRlcnNcImluIFJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZSkmJlwiY3JlYXRlRFRNRlNlbmRlclwiaW4gUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlKXtSVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0U2VuZGVycz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmFPfTt2YXIgdD1SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkU3RyZWFtLGU9UlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnJlbW92ZVN0cmVhbTtSVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkU3RyZWFtPWZ1bmN0aW9uKGUpe3ZhciBpPXRoaXM7aS5hTz1pLmFPfHxbXSx0LmFwcGx5KGksW2VdKSxlLmdldFRyYWNrcygpLmZvckVhY2goZnVuY3Rpb24odCl7aS5hTy5wdXNoKHt0cmFjazp0LGdldCBjTygpe3JldHVybiB2b2lkIDA9PT10aGlzLmhPJiYoXCJhdWRpb1wiPT09dC5raW5kP3RoaXMuaE89aS5jcmVhdGVEVE1GU2VuZGVyKHQpOnRoaXMuaE89bnVsbCksdGhpcy5oT319KX0pfSxSVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUucmVtb3ZlU3RyZWFtPWZ1bmN0aW9uKHQpe3ZhciBpPXRoaXM7aS5hTz1pLmFPfHxbXSxlLmFwcGx5KGksW3RdKSx0LmdldFRyYWNrcygpLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIGU9aS5hTy5maW5kKGZ1bmN0aW9uKGUpe3JldHVybiBlLnRyYWNrPT09dH0pO2UmJmkuYU8uc3BsaWNlKGkuYU8uaW5kZXhPZihlKSwxKX0pfX19LGVPOmZ1bmN0aW9uKCl7XCJvYmplY3RcIj09dHlwZW9mIHdpbmRvdyYmKCF3aW5kb3cuSFRNTE1lZGlhRWxlbWVudHx8XCJzcmNPYmplY3RcImluIHdpbmRvdy5IVE1MTWVkaWFFbGVtZW50LnByb3RvdHlwZXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdy5IVE1MTWVkaWFFbGVtZW50LnByb3RvdHlwZSxcInNyY09iamVjdFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wT30sc2V0OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7cmV0dXJuIHRoaXMucE89dCx0aGlzLnNyYyYmVVJMLnJldm9rZU9iamVjdFVSTCh0aGlzLnNyYyksdD8odGhpcy5zcmM9VVJMLmNyZWF0ZU9iamVjdFVSTCh0KSx0LmFkZEV2ZW50TGlzdGVuZXIoXCJhZGR0cmFja1wiLGZ1bmN0aW9uKCl7ZS5zcmMmJlVSTC5yZXZva2VPYmplY3RVUkwoZS5zcmMpLGUuc3JjPVVSTC5jcmVhdGVPYmplY3RVUkwodCl9KSx2b2lkIHQuYWRkRXZlbnRMaXN0ZW5lcihcInJlbW92ZXRyYWNrXCIsZnVuY3Rpb24oKXtlLnNyYyYmVVJMLnJldm9rZU9iamVjdFVSTChlLnNyYyksZS5zcmM9VVJMLmNyZWF0ZU9iamVjdFVSTCh0KX0pKTp2b2lkKHRoaXMuc3JjPVwiXCIpfX0pKX0sWEM6ZnVuY3Rpb24oKXt3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb258fCh3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb249ZnVuY3Rpb24odCxlKXtyZXR1cm4gcihcIlBlZXJDb25uZWN0aW9uXCIpLHQmJnQudU8mJih0LmxPPXQudU8pLG5ldyB3ZWJraXRSVENQZWVyQ29ubmVjdGlvbih0LGUpfSx3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlPXdlYmtpdFJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZSx3ZWJraXRSVENQZWVyQ29ubmVjdGlvbi5nZW5lcmF0ZUNlcnRpZmljYXRlJiZPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLFwiZ2VuZXJhdGVDZXJ0aWZpY2F0ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gd2Via2l0UlRDUGVlckNvbm5lY3Rpb24uZ2VuZXJhdGVDZXJ0aWZpY2F0ZX19KSk7dmFyIHQ9UlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFN0YXRzO1JUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRTdGF0cz1mdW5jdGlvbihlLGkscil7dmFyIG49dGhpcyxvPWFyZ3VtZW50cztpZihhcmd1bWVudHMubGVuZ3RoPjAmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGUpcmV0dXJuIHQuYXBwbHkodGhpcyxhcmd1bWVudHMpO2lmKDA9PT10Lmxlbmd0aCYmKDA9PT1hcmd1bWVudHMubGVuZ3RofHxcImZ1bmN0aW9uXCIhPXR5cGVvZiBhcmd1bWVudHNbMF0pKXJldHVybiB0LmFwcGx5KHRoaXMsW10pO3ZhciBzPWZ1bmN0aW9uKHQpe3ZhciBlPXt9LGk9dC5yZXN1bHQoKTtyZXR1cm4gaS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBpPXtpZDp0LmlkLHRpbWVzdGFtcDp0LnRpbWVzdGFtcCx0eXBlOntkTzpcImxvY2FsLWNhbmRpZGF0ZVwiLGZPOlwicmVtb3RlLWNhbmRpZGF0ZVwifVt0LnR5cGVdfHx0LnR5cGV9O3QubmFtZXMoKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2lbZV09dC5zdGF0KGUpfSksZVtpLmlkXT1pfSksZX0sYT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IE1hcChPYmplY3Qua2V5cyh0KS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuW2UsdFtlXV19KSl9O2lmKGFyZ3VtZW50cy5sZW5ndGg+PTIpe3ZhciBjPWZ1bmN0aW9uKHQpe29bMV0oYShzKHQpKSl9O3JldHVybiB0LmFwcGx5KHRoaXMsW2MsYXJndW1lbnRzWzBdXSl9cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKGUsaSl7dC5hcHBseShuLFtmdW5jdGlvbih0KXtlKGEocyh0KSkpfSxpXSl9KS50aGVuKGkscil9LG4udmVyc2lvbjw1MSYmW1wic2V0TG9jYWxEZXNjcmlwdGlvblwiLFwic2V0UmVtb3RlRGVzY3JpcHRpb25cIixcImFkZEljZUNhbmRpZGF0ZVwiXS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBlPVJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZVt0XTtSVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGVbdF09ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMsaT10aGlzLHI9bmV3IFByb21pc2UoZnVuY3Rpb24ocixuKXtlLmFwcGx5KGksW3RbMF0scixuXSl9KTtyZXR1cm4gdC5sZW5ndGg8Mj9yOnIudGhlbihmdW5jdGlvbigpe3RbMV0uYXBwbHkobnVsbCxbXSl9LGZ1bmN0aW9uKGUpe3QubGVuZ3RoPj0zJiZ0WzJdLmFwcGx5KG51bGwsW2VdKX0pfX0pLG4udmVyc2lvbjw1MiYmW1wiY3JlYXRlT2ZmZXJcIixcImNyZWF0ZUFuc3dlclwiXS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBlPVJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZVt0XTtSVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGVbdF09ZnVuY3Rpb24oKXt2YXIgdD10aGlzO2lmKGFyZ3VtZW50cy5sZW5ndGg8MXx8MT09PWFyZ3VtZW50cy5sZW5ndGgmJlwib2JqZWN0XCI9PXR5cGVvZiBhcmd1bWVudHNbMF0pe3ZhciBpPTE9PT1hcmd1bWVudHMubGVuZ3RoP2FyZ3VtZW50c1swXTp2b2lkIDA7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHIsbil7ZS5hcHBseSh0LFtyLG4saV0pfSl9cmV0dXJuIGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0pLFtcInNldExvY2FsRGVzY3JpcHRpb25cIixcInNldFJlbW90ZURlc2NyaXB0aW9uXCIsXCJhZGRJY2VDYW5kaWRhdGVcIl0uZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgZT1SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGVbdF07UlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlW3RdPWZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c1swXT1uZXcoXCJhZGRJY2VDYW5kaWRhdGVcIj09PXQ/UlRDSWNlQ2FuZGlkYXRlOlJUQ1Nlc3Npb25EZXNjcmlwdGlvbikoYXJndW1lbnRzWzBdKSxlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19KTt2YXIgZT1SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkSWNlQ2FuZGlkYXRlO1JUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRJY2VDYW5kaWRhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gYXJndW1lbnRzWzBdP2UuYXBwbHkodGhpcyxhcmd1bWVudHMpOihhcmd1bWVudHNbMV0mJmFyZ3VtZW50c1sxXS5hcHBseShudWxsKSxQcm9taXNlLnJlc29sdmUoKSl9fX07dC50PXt0TzpvLnRPLGlPOm8uaU8sck86by5yTyxlTzpvLmVPLFhDOm8uWEMsWkM6aSg2Nyl9fSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9aSgzKS5sb2csbj1pKDMpLnJpO3QudD1mdW5jdGlvbigpe3ZhciB0PWZ1bmN0aW9uKHQpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiB0fHx0LmdPfHx0Lm9wdGlvbmFsKXJldHVybiB0O3ZhciBlPXt9O3JldHVybiBPYmplY3Qua2V5cyh0KS5mb3JFYWNoKGZ1bmN0aW9uKGkpe2lmKFwicmVxdWlyZVwiIT09aSYmXCJhZHZhbmNlZFwiIT09aSYmXCJtZWRpYVNvdXJjZVwiIT09aSl7dmFyIHI9XCJvYmplY3RcIj09dHlwZW9mIHRbaV0/dFtpXTp7dk86dFtpXX07dm9pZCAwIT09ci55TyYmXCJudW1iZXJcIj09dHlwZW9mIHIueU8mJihyLm1pbj1yLm1heD1yLnlPKTt2YXIgbj1mdW5jdGlvbih0LGUpe3JldHVybiB0P3QrZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKStlLnNsaWNlKDEpOlwiZGV2aWNlSWRcIj09PWU/XCJzb3VyY2VJZFwiOmV9O2lmKHZvaWQgMCE9PXIudk8pe2Uub3B0aW9uYWw9ZS5vcHRpb25hbHx8W107dmFyIG89e307XCJudW1iZXJcIj09dHlwZW9mIHIudk8/KG9bbihcIm1pblwiLGkpXT1yLnZPLGUub3B0aW9uYWwucHVzaChvKSxvPXt9LG9bbihcIm1heFwiLGkpXT1yLnZPLGUub3B0aW9uYWwucHVzaChvKSk6KG9bbihcIlwiLGkpXT1yLnZPLGUub3B0aW9uYWwucHVzaChvKSl9dm9pZCAwIT09ci55TyYmXCJudW1iZXJcIiE9dHlwZW9mIHIueU8/KGUuZ089ZS5nT3x8e30sZS5nT1tuKFwiXCIsaSldPXIueU8pOltcIm1pblwiLFwibWF4XCJdLmZvckVhY2goZnVuY3Rpb24odCl7dm9pZCAwIT09clt0XSYmKGUuZ089ZS5nT3x8e30sZS5nT1tuKHQsaSldPXJbdF0pfSl9fSksdC5tTyYmKGUub3B0aW9uYWw9KGUub3B0aW9uYWx8fFtdKS5jb25jYXQodC5tTykpLGV9LGU9ZnVuY3Rpb24oZSxpKXtpZihlPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoZSkpLGUmJmUuTXAmJihlLk1wPXQoZS5NcCkpLGUmJlwib2JqZWN0XCI9PXR5cGVvZiBlLnZpZGVvKXt2YXIgbz1lLnZpZGVvLndPO289byYmKFwib2JqZWN0XCI9PXR5cGVvZiBvP286e3ZPOm99KTt2YXIgcz1uLnZlcnNpb248NTk7aWYobyYmKFwidXNlclwiPT09by55T3x8XCJlbnZpcm9ubWVudFwiPT09by55T3x8XCJ1c2VyXCI9PT1vLnZPfHxcImVudmlyb25tZW50XCI9PT1vLnZPKSYmKCFuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLlRPfHwhbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5UTygpLndPfHxzKSYmKGRlbGV0ZSBlLnZpZGVvLndPLFwiZW52aXJvbm1lbnRcIj09PW8ueU98fFwiZW52aXJvbm1lbnRcIj09PW8udk8pKXJldHVybiBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLlNPKCkudGhlbihmdW5jdGlvbihuKXtuPW4uZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVyblwidmlkZW9pbnB1dFwiPT09dC5raW5kfSk7dmFyIHM9bi5maW5kKGZ1bmN0aW9uKHQpe3JldHVybiB0LmxhYmVsLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihcImJhY2tcIikhPT0tMX0pfHxuLmxlbmd0aCYmbltuLmxlbmd0aC0xXTtyZXR1cm4gcyYmKGUudmlkZW8uYk89by55Tz97eU86cy5iT306e3ZPOnMuYk99KSxlLnZpZGVvPXQoZS52aWRlbykscihcImNocm9tZTogXCIrSlNPTi5zdHJpbmdpZnkoZSkpLGkoZSl9KTtlLnZpZGVvPXQoZS52aWRlbyl9cmV0dXJuIHIoXCJjaHJvbWU6IFwiK0pTT04uc3RyaW5naWZ5KGUpKSxpKGUpfSxpPWZ1bmN0aW9uKHQpe3JldHVybntuYW1lOntFTzpcIk5vdEFsbG93ZWRFcnJvclwiLElPOlwiT3ZlcmNvbnN0cmFpbmVkRXJyb3JcIn1bdC5uYW1lXXx8dC5uYW1lLG1lc3NhZ2U6dC5tZXNzYWdlLFJPOnQuY29uc3RyYWludE5hbWUsdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uYW1lKyh0aGlzLm1lc3NhZ2UmJlwiOiBcIikrdGhpcy5tZXNzYWdlfX19LG89ZnVuY3Rpb24odCxyLG4pe2UodCxmdW5jdGlvbih0KXtuYXZpZ2F0b3Iud2Via2l0R2V0VXNlck1lZGlhKHQscixmdW5jdGlvbih0KXtuKGkodCkpfSl9KX07bmF2aWdhdG9yLmdldFVzZXJNZWRpYT1vO3ZhciBzPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihlLGkpe25hdmlnYXRvci5nZXRVc2VyTWVkaWEodCxlLGkpfSl9O2lmKG5hdmlnYXRvci5tZWRpYURldmljZXN8fChuYXZpZ2F0b3IubWVkaWFEZXZpY2VzPXtnZXRVc2VyTWVkaWE6cyxTTzpmdW5jdGlvbigpe3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbih0KXt2YXIgZT17TXA6XCJhdWRpb2lucHV0XCIsdmlkZW86XCJ2aWRlb2lucHV0XCJ9O3JldHVybiBNZWRpYVN0cmVhbVRyYWNrLmdldFNvdXJjZXMoZnVuY3Rpb24oaSl7dChpLm1hcChmdW5jdGlvbih0KXtyZXR1cm57bGFiZWw6dC5sYWJlbCxraW5kOmVbdC5raW5kXSxiTzp0LmlkLGtPOlwiXCJ9fSkpfSl9KX0sVE86ZnVuY3Rpb24oKXtyZXR1cm57Yk86ITAsQ086ITAsd086ITAsT086ITAsaGVpZ2h0OiEwLHdpZHRoOiEwfX19KSxuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSl7dmFyIGE9bmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEuYmluZChuYXZpZ2F0b3IubWVkaWFEZXZpY2VzKTtuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYT1mdW5jdGlvbih0KXtyZXR1cm4gZSh0LGZ1bmN0aW9uKHQpe3JldHVybiBhKHQpLnRoZW4oZnVuY3Rpb24oZSl7aWYodC5NcCYmIWUuZ2V0QXVkaW9UcmFja3MoKS5sZW5ndGh8fHQudmlkZW8mJiFlLmdldFZpZGVvVHJhY2tzKCkubGVuZ3RoKXRocm93IGUuZ2V0VHJhY2tzKCkuZm9yRWFjaChmdW5jdGlvbih0KXt0LnN0b3AoKX0pLG5ldyBET01FeGNlcHRpb24oXCJcIixcIk5vdEZvdW5kRXJyb3JcIik7cmV0dXJuIGV9LGZ1bmN0aW9uKHQpe3JldHVybiBQcm9taXNlLnJlamVjdChpKHQpKX0pfSl9fWVsc2UgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWE9ZnVuY3Rpb24odCl7cmV0dXJuIHModCl9O1widW5kZWZpbmVkXCI9PXR5cGVvZiBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmFkZEV2ZW50TGlzdGVuZXImJihuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmFkZEV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oKXtyKFwiRHVtbXkgbWVkaWFEZXZpY2VzLmFkZEV2ZW50TGlzdGVuZXIgY2FsbGVkLlwiKX0pLFwidW5kZWZpbmVkXCI9PXR5cGVvZiBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLnJlbW92ZUV2ZW50TGlzdGVuZXImJihuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLnJlbW92ZUV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oKXtyKFwiRHVtbXkgbWVkaWFEZXZpY2VzLnJlbW92ZUV2ZW50TGlzdGVuZXIgY2FsbGVkLlwiKX0pfX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCl7dmFyIGU9dC5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuXCJhdWRpb1wiPT09dC5raW5kfSksaT10LmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm5cInZpZGVvXCI9PT10LmtpbmR9KTtmb3IodD1bXTtlLmxlbmd0aHx8aS5sZW5ndGg7KWUubGVuZ3RoJiZ0LnB1c2goZS5zaGlmdCgpKSxcbmkubGVuZ3RoJiZ0LnB1c2goaS5zaGlmdCgpKTtyZXR1cm4gdH1mdW5jdGlvbiBuKHQpe3ZhciBlPSExO3JldHVybiB0PUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodCkpLHQuZmlsdGVyKGZ1bmN0aW9uKHQpe2lmKHQmJih0LlBPfHx0LnVybCkpe3ZhciBpPXQuUE98fHQudXJsLHI9XCJzdHJpbmdcIj09dHlwZW9mIGk7cmV0dXJuIHImJihpPVtpXSksaT1pLmZpbHRlcihmdW5jdGlvbih0KXt2YXIgaT0wPT09dC5pbmRleE9mKFwidHVybjpcIikmJnQuaW5kZXhPZihcInRyYW5zcG9ydD11ZHBcIikhPT0tMSYmdC5pbmRleE9mKFwidHVybjpbXCIpPT09LTEmJiFlO3JldHVybiBpPyhlPSEwLCEwKTowPT09dC5pbmRleE9mKFwic3R1bjpcIikmJnMudmVyc2lvbj49MTQzOTN9KSxkZWxldGUgdC51cmwsdC5QTz1yP2lbMF06aSwhIWkubGVuZ3RofXJldHVybiExfSl9dmFyIG89aSgzNSkscz1pKDMpLnJpLGE9e1hDOmZ1bmN0aW9uKCl7aWYod2luZG93LlJUQ0ljZUdhdGhlcmVyJiYod2luZG93LlJUQ0ljZUNhbmRpZGF0ZXx8KHdpbmRvdy5SVENJY2VDYW5kaWRhdGU9ZnVuY3Rpb24odCl7cmV0dXJuIHR9KSx3aW5kb3cuUlRDU2Vzc2lvbkRlc2NyaXB0aW9ufHwod2luZG93LlJUQ1Nlc3Npb25EZXNjcmlwdGlvbj1mdW5jdGlvbih0KXtyZXR1cm4gdH0pLHMudmVyc2lvbjwxNTAyNSkpe3ZhciB0PU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoTWVkaWFTdHJlYW1UcmFjay5wcm90b3R5cGUsXCJlbmFibGVkXCIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShNZWRpYVN0cmVhbVRyYWNrLnByb3RvdHlwZSxcImVuYWJsZWRcIix7c2V0OmZ1bmN0aW9uKGUpe3Quc2V0LmNhbGwodGhpcyxlKTt2YXIgaT1uZXcgRXZlbnQoXCJlbmFibGVkXCIpO2kuZW5hYmxlZD1lLHRoaXMuZGlzcGF0Y2hFdmVudChpKX19KX13aW5kb3cuUlRDUGVlckNvbm5lY3Rpb249ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxpPWRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtpZihbXCJhZGRFdmVudExpc3RlbmVyXCIsXCJyZW1vdmVFdmVudExpc3RlbmVyXCIsXCJkaXNwYXRjaEV2ZW50XCJdLmZvckVhY2goZnVuY3Rpb24odCl7ZVt0XT1pW3RdLmJpbmQoaSl9KSx0aGlzLm9uaWNlY2FuZGlkYXRlPW51bGwsdGhpcy5vbmFkZHN0cmVhbT1udWxsLHRoaXMuQU89bnVsbCx0aGlzLm9ucmVtb3Zlc3RyZWFtPW51bGwsdGhpcy5vbnNpZ25hbGluZ3N0YXRlY2hhbmdlPW51bGwsdGhpcy5vbmljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZT1udWxsLHRoaXMuTk89bnVsbCx0aGlzLm9ubmVnb3RpYXRpb25uZWVkZWQ9bnVsbCx0aGlzLm9uZGF0YWNoYW5uZWw9bnVsbCx0aGlzLnhPPVtdLHRoaXMuQk89W10sdGhpcy5nZXRMb2NhbFN0cmVhbXM9ZnVuY3Rpb24oKXtyZXR1cm4gZS54T30sdGhpcy5nZXRSZW1vdGVTdHJlYW1zPWZ1bmN0aW9uKCl7cmV0dXJuIGUuQk99LHRoaXMubG9jYWxEZXNjcmlwdGlvbj1uZXcgUlRDU2Vzc2lvbkRlc2NyaXB0aW9uKHt0eXBlOlwiXCIsc2RwOlwiXCJ9KSx0aGlzLnJlbW90ZURlc2NyaXB0aW9uPW5ldyBSVENTZXNzaW9uRGVzY3JpcHRpb24oe3R5cGU6XCJcIixzZHA6XCJcIn0pLHRoaXMuc2lnbmFsaW5nU3RhdGU9XCJzdGFibGVcIix0aGlzLmljZUNvbm5lY3Rpb25TdGF0ZT1cIm5ld1wiLHRoaXMuaWNlR2F0aGVyaW5nU3RhdGU9XCJuZXdcIix0aGlzLkZPPXtfTzpcImFsbFwiLGljZVNlcnZlcnM6W119LHQmJnQudU8pc3dpdGNoKHQudU8pe2Nhc2VcImFsbFwiOmNhc2VcInJlbGF5XCI6dGhpcy5GTy5fTz10LnVPfXRoaXMuRE89dCYmXCJtYXgtYnVuZGxlXCI9PT10LmJ1bmRsZVBvbGljeSx0JiZ0LmljZVNlcnZlcnMmJih0aGlzLkZPLmljZVNlcnZlcnM9bih0LmljZVNlcnZlcnMpKSx0aGlzLkhPPXQsdGhpcy5MTz1bXSx0aGlzLk1PPVtdfSx3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmpPPWZ1bmN0aW9uKCl7dmFyIHQ9bmV3IEV2ZW50KFwiaWNlZ2F0aGVyaW5nc3RhdGVjaGFuZ2VcIik7dGhpcy5kaXNwYXRjaEV2ZW50KHQpLG51bGwhPT10aGlzLk5PJiZ0aGlzLk5PKHQpfSx3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLlVPPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPW8uS2IodC5sb2NhbERlc2NyaXB0aW9uLnNkcCk7dGhpcy5NTy5mb3JFYWNoKGZ1bmN0aW9uKGkpe3ZhciByPSFpLmNhbmRpZGF0ZXx8MD09PU9iamVjdC5rZXlzKGkuY2FuZGlkYXRlKS5sZW5ndGg7aWYocilmb3IodmFyIG49MTtuPGUubGVuZ3RoO24rKyllW25dLmluZGV4T2YoXCJcXHJcXG5hPWVuZC1vZi1jYW5kaWRhdGVzXFxyXFxuXCIpPT09LTEmJihlW25dKz1cImE9ZW5kLW9mLWNhbmRpZGF0ZXNcXHJcXG5cIik7ZWxzZSBlW2kuY2FuZGlkYXRlLnNkcE1MaW5lSW5kZXgrMV0rPVwiYT1cIitpLmNhbmRpZGF0ZS5jYW5kaWRhdGUrXCJcXHJcXG5cIjtpZih0LmxvY2FsRGVzY3JpcHRpb24uc2RwPWUuam9pbihcIlwiKSx0LmRpc3BhdGNoRXZlbnQoaSksbnVsbCE9PXQub25pY2VjYW5kaWRhdGUmJnQub25pY2VjYW5kaWRhdGUoaSksIWkuY2FuZGlkYXRlJiZcImNvbXBsZXRlXCIhPT10LmljZUdhdGhlcmluZ1N0YXRlKXt2YXIgbz10LkxPLmV2ZXJ5KGZ1bmN0aW9uKHQpe3JldHVybiB0LllFJiZcImNvbXBsZXRlZFwiPT09dC5ZRS5zdGF0ZX0pO28mJlwiY29tcGxldGVcIiE9PXQuaWNlR2F0aGVyaW5nU3RhdGVDaGFuZ2UmJih0LmljZUdhdGhlcmluZ1N0YXRlPVwiY29tcGxldGVcIix0LmpPKCkpfX0pLHRoaXMuTU89W119LHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0Q29uZmlndXJhdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLkhPfSx3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZFN0cmVhbT1mdW5jdGlvbih0KXtpZihzLnZlcnNpb24+PTE1MDI1KXRoaXMueE8ucHVzaCh0KTtlbHNle3ZhciBlPXQuY2xvbmUoKTt0LmdldFRyYWNrcygpLmZvckVhY2goZnVuY3Rpb24odCxpKXt2YXIgcj1lLmdldFRyYWNrcygpW2ldO3QuYWRkRXZlbnRMaXN0ZW5lcihcImVuYWJsZWRcIixmdW5jdGlvbih0KXtyLmVuYWJsZWQ9dC5lbmFibGVkfSl9KSx0aGlzLnhPLnB1c2goZSl9dGhpcy5WTygpfSx3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnJlbW92ZVN0cmVhbT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnhPLmluZGV4T2YodCk7ZT4tMSYmKHRoaXMueE8uc3BsaWNlKGUsMSksdGhpcy5WTygpKX0sd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRTZW5kZXJzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuTE8uZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiEhdC50SX0pLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdC50SX0pfSx3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFJlY2VpdmVycz1mdW5jdGlvbigpe3JldHVybiB0aGlzLkxPLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4hIXQuZUl9KS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQuZUl9KX0sd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5RTz1mdW5jdGlvbih0LGUpe3ZhciBpPXtORTpbXSx4RTpbXSxCRTpbXX0scj1mdW5jdGlvbih0LGUpe3Q9cGFyc2VJbnQodCwxMCk7Zm9yKHZhciBpPTA7aTxlLmxlbmd0aDtpKyspaWYoZVtpXS5vRT09PXR8fGVbaV0uaEU9PT10KXJldHVybiBlW2ldfSxuPWZ1bmN0aW9uKHQsZSxpLG4pe3ZhciBvPXIodC5wYXJhbWV0ZXJzLmFwdCxpKSxzPXIoZS5wYXJhbWV0ZXJzLmFwdCxuKTtyZXR1cm4gbyYmcyYmby5uYW1lLnRvTG93ZXJDYXNlKCk9PT1zLm5hbWUudG9Mb3dlckNhc2UoKX07cmV0dXJuIHQuTkUuZm9yRWFjaChmdW5jdGlvbihyKXtmb3IodmFyIG89MDtvPGUuTkUubGVuZ3RoO28rKyl7dmFyIHM9ZS5ORVtvXTtpZihyLm5hbWUudG9Mb3dlckNhc2UoKT09PXMubmFtZS50b0xvd2VyQ2FzZSgpJiZyLnNFPT09cy5zRSl7aWYoXCJydHhcIj09PXIubmFtZS50b0xvd2VyQ2FzZSgpJiZyLnBhcmFtZXRlcnMmJnMucGFyYW1ldGVycy5hcHQmJiFuKHIscyx0Lk5FLGUuTkUpKWNvbnRpbnVlO3M9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShzKSkscy5hRT1NYXRoLm1pbihyLmFFLHMuYUUpLGkuTkUucHVzaChzKSxzLnlFPXMueUUuZmlsdGVyKGZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8ci55RS5sZW5ndGg7ZSsrKWlmKHIueUVbZV0udHlwZT09PXQudHlwZSYmci55RVtlXS5nRT09PXQuZ0UpcmV0dXJuITA7cmV0dXJuITF9KTticmVha319fSksdC54RS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2Zvcih2YXIgcj0wO3I8ZS54RS5sZW5ndGg7cisrKXt2YXIgbj1lLnhFW3JdO2lmKHQudXJpPT09bi51cmkpe2kueEUucHVzaChuKTticmVha319fSksaX0sd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5xTz1mdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMscj1uZXcgUlRDSWNlR2F0aGVyZXIoaS5GTyksbj1uZXcgUlRDSWNlVHJhbnNwb3J0KHIpO3IuSk89ZnVuY3Rpb24ocyl7dmFyIGE9bmV3IEV2ZW50KFwiaWNlY2FuZGlkYXRlXCIpO2EuY2FuZGlkYXRlPXtzZHBNaWQ6dCxzZHBNTGluZUluZGV4OmV9O3ZhciBjPXMuY2FuZGlkYXRlLGg9IWN8fDA9PT1PYmplY3Qua2V5cyhjKS5sZW5ndGg7aD92b2lkIDA9PT1yLnN0YXRlJiYoci5zdGF0ZT1cImNvbXBsZXRlZFwiKTooYy4kYj1cIlJUQ1BcIj09PW4uJGI/MjoxLGEuY2FuZGlkYXRlLmNhbmRpZGF0ZT1vLmlFKGMpKTt2YXIgcD1vLktiKGkubG9jYWxEZXNjcmlwdGlvbi5zZHApO2g/cFthLmNhbmRpZGF0ZS5zZHBNTGluZUluZGV4KzFdKz1cImE9ZW5kLW9mLWNhbmRpZGF0ZXNcXHJcXG5cIjpwW2EuY2FuZGlkYXRlLnNkcE1MaW5lSW5kZXgrMV0rPVwiYT1cIithLmNhbmRpZGF0ZS5jYW5kaWRhdGUrXCJcXHJcXG5cIixpLmxvY2FsRGVzY3JpcHRpb24uc2RwPXAuam9pbihcIlwiKTt2YXIgdT1pLktPP2kuS086aS5MTyxsPXUuZXZlcnkoZnVuY3Rpb24odCl7cmV0dXJuIHQuWUUmJlwiY29tcGxldGVkXCI9PT10LllFLnN0YXRlfSk7c3dpdGNoKGkuaWNlR2F0aGVyaW5nU3RhdGUpe2Nhc2VcIm5ld1wiOmh8fGkuTU8ucHVzaChhKSxoJiZsJiZpLk1PLnB1c2gobmV3IEV2ZW50KFwiaWNlY2FuZGlkYXRlXCIpKTticmVhaztjYXNlXCJnYXRoZXJpbmdcIjppLlVPKCksaHx8KGkuZGlzcGF0Y2hFdmVudChhKSxudWxsIT09aS5vbmljZWNhbmRpZGF0ZSYmaS5vbmljZWNhbmRpZGF0ZShhKSksbCYmKGkuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoXCJpY2VjYW5kaWRhdGVcIikpLG51bGwhPT1pLm9uaWNlY2FuZGlkYXRlJiZpLm9uaWNlY2FuZGlkYXRlKG5ldyBFdmVudChcImljZWNhbmRpZGF0ZVwiKSksaS5pY2VHYXRoZXJpbmdTdGF0ZT1cImNvbXBsZXRlXCIsaS5qTygpKTticmVhaztjYXNlXCJjb21wbGV0ZVwiOn19LG4uR089ZnVuY3Rpb24oKXtpLnpPKCl9O3ZhciBzPW5ldyBSVENEdGxzVHJhbnNwb3J0KG4pO3JldHVybiBzLldPPWZ1bmN0aW9uKCl7aS56TygpfSxzLm9uZXJyb3I9ZnVuY3Rpb24oKXtzLnN0YXRlPVwiZmFpbGVkXCIsaS56TygpfSx7WUU6ciwkTzpuLFhFOnN9fSx3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLllPPWZ1bmN0aW9uKHQsZSxpKXt2YXIgcj10aGlzLlFPKHQuWE8sdC5aTyk7ZSYmdC50SSYmKHIudFA9dC5pSSxyLkZFPXtxRTpvLnFifSx0LmVQLmxlbmd0aCYmKHIuRkUud0U9dC5lUFswXS53RSksdC50SS5zZW5kKHIpKSxpJiZ0LmVJJiYoXCJ2aWRlb1wiPT09dC5raW5kJiZ0LmVQJiZzLnZlcnNpb248MTUwMTkmJnQuZVAuZm9yRWFjaChmdW5jdGlvbih0KXtkZWxldGUgdC5NRX0pLHIudFA9dC5lUCxyLkZFPXtxRTp0LnFFfSx0LmlJLmxlbmd0aCYmKHIuRkUud0U9dC5pSVswXS53RSksdC5lSS5yZWNlaXZlKHIpKX0sd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5zZXRMb2NhbERlc2NyaXB0aW9uPWZ1bmN0aW9uKHQpe3ZhciBlLGkscj10aGlzO2lmKFwib2ZmZXJcIj09PXQudHlwZSl0aGlzLktPJiYoZT1vLktiKHQuc2RwKSxpPWUuc2hpZnQoKSxlLmZvckVhY2goZnVuY3Rpb24odCxlKXt2YXIgaT1vLkFFKHQpO3IuS09bZV0uWE89aX0pLHRoaXMuTE89dGhpcy5LTyxkZWxldGUgdGhpcy5LTyk7ZWxzZSBpZihcImFuc3dlclwiPT09dC50eXBlKXtlPW8uS2Ioci5yZW1vdGVEZXNjcmlwdGlvbi5zZHApLGk9ZS5zaGlmdCgpO3ZhciBuPW8uR2IoaSxcImE9aWNlLWxpdGVcIikubGVuZ3RoPjA7ZS5mb3JFYWNoKGZ1bmN0aW9uKHQsZSl7dmFyIHM9ci5MT1tlXSxhPXMuWUUsYz1zLiRPLGg9cy5YRSxwPXMuWE8sdT1zLlpPLGw9XCIwXCI9PT10LnNwbGl0KFwiXFxuXCIsMSlbMF0uc3BsaXQoXCIgXCIsMilbMV07aWYoIWwmJiFzLmlQKXt2YXIgZD1vLkNFKHQsaSksZj1vLkVFKHQsaSk7biYmKGYuSUU9XCJzZXJ2ZXJcIiksci5ETyYmMCE9PWV8fChjLnN0YXJ0KGEsZCxuP1wiY29udHJvbGxpbmdcIjpcImNvbnRyb2xsZWRcIiksaC5zdGFydChmKSk7dmFyIGc9ci5RTyhwLHUpO3IuWU8ocyxnLk5FLmxlbmd0aD4wLCExKX19KX1zd2l0Y2godGhpcy5sb2NhbERlc2NyaXB0aW9uPXt0eXBlOnQudHlwZSxzZHA6dC5zZHB9LHQudHlwZSl7Y2FzZVwib2ZmZXJcIjp0aGlzLnJQKFwiaGF2ZS1sb2NhbC1vZmZlclwiKTticmVhaztjYXNlXCJhbnN3ZXJcIjp0aGlzLnJQKFwic3RhYmxlXCIpO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IFR5cGVFcnJvcigndW5zdXBwb3J0ZWQgdHlwZSBcIicrdC50eXBlKydcIicpfXZhciBzPWFyZ3VtZW50cy5sZW5ndGg+MSYmXCJmdW5jdGlvblwiPT10eXBlb2YgYXJndW1lbnRzWzFdO2lmKHMpe3ZhciBhPWFyZ3VtZW50c1sxXTt3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpe2EoKSxcIm5ld1wiPT09ci5pY2VHYXRoZXJpbmdTdGF0ZSYmKHIuaWNlR2F0aGVyaW5nU3RhdGU9XCJnYXRoZXJpbmdcIixyLmpPKCkpLHIuVU8oKX0sMCl9dmFyIGM9UHJvbWlzZS5yZXNvbHZlKCk7cmV0dXJuIGMudGhlbihmdW5jdGlvbigpe3N8fChcIm5ld1wiPT09ci5pY2VHYXRoZXJpbmdTdGF0ZSYmKHIuaWNlR2F0aGVyaW5nU3RhdGU9XCJnYXRoZXJpbmdcIixyLmpPKCkpLHdpbmRvdy5zZXRUaW1lb3V0KHIuVU8uYmluZChyKSw1MDApKX0pLGN9LHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuc2V0UmVtb3RlRGVzY3JpcHRpb249ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxpPW5ldyBNZWRpYVN0cmVhbSxyPVtdLG49by5LYih0LnNkcCksYT1uLnNoaWZ0KCksYz1vLkdiKGEsXCJhPWljZS1saXRlXCIpLmxlbmd0aD4wO3N3aXRjaCh0aGlzLkRPPW8uR2IoYSxcImE9Z3JvdXA6QlVORExFIFwiKS5sZW5ndGg+MCxuLmZvckVhY2goZnVuY3Rpb24obixoKXt2YXIgcD1vLkpiKG4pLHU9cFswXS5zdWJzdHIoMikuc3BsaXQoXCIgXCIpLGw9dVswXSxkPVwiMFwiPT09dVsxXSxmPW8uckkobixhKSxnPW8uR2IobixcImE9bWlkOlwiKTtpZihnPWcubGVuZ3RoP2dbMF0uc3Vic3RyKDYpOm8uUWIoKSxcImFwcGxpY2F0aW9uXCI9PT1sJiZcIkRUTFMvU0NUUFwiPT09dVsyXSlyZXR1cm4gdm9pZChlLkxPW2hdPXtaRTpnLGlQOiEwfSk7dmFyIHYseSxtLHcsVCxTLGIsRSxJLFIsayxDLE89by5BRShuKTtkfHwoaz1vLkNFKG4sYSksQz1vLkVFKG4sYSksQy5JRT1cImNsaWVudFwiKSxFPW8uSEUobik7dmFyIFAsQT1vLkdiKG4sXCJhPXNzcmM6XCIpLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gby5tRSh0KX0pLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm5cImNuYW1lXCI9PT10LlRFfSlbMF07QSYmKFA9QS52YWx1ZSk7dmFyIE49by5HYihuLFwiYT1lbmQtb2YtY2FuZGlkYXRlc1wiLGEpLmxlbmd0aD4wLHg9by5HYihuLFwiYT1jYW5kaWRhdGU6XCIpLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gby56Yih0KX0pLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm5cIjFcIj09PXQuJGJ9KTtpZihcIm9mZmVyXCIhPT10LnR5cGV8fGQpXCJhbnN3ZXJcIiE9PXQudHlwZXx8ZHx8KHY9ZS5MT1toXSx5PXYuWUUsbT12LiRPLHc9di5YRSxUPXYudEksUz12LmVJLGI9di5pSSxJPXYuWE8sZS5MT1toXS5lUD1FLGUuTE9baF0uWk89TyxlLkxPW2hdLnFFPVAsKGN8fE4pJiZ4Lmxlbmd0aCYmbS5zZXRSZW1vdGVDYW5kaWRhdGVzKHgpLGUuRE8mJjAhPT1ofHwobS5zdGFydCh5LGssXCJjb250cm9sbGluZ1wiKSx3LnN0YXJ0KEMpKSxlLllPKHYsXCJzZW5kcmVjdlwiPT09Znx8XCJyZWN2b25seVwiPT09ZixcInNlbmRyZWN2XCI9PT1mfHxcInNlbmRvbmx5XCI9PT1mKSwhU3x8XCJzZW5kcmVjdlwiIT09ZiYmXCJzZW5kb25seVwiIT09Zj9kZWxldGUgdi5lSTooUj1TLnRyYWNrLHIucHVzaChbUixTXSksaS5hZGRUcmFjayhSKSkpO2Vsc2V7dmFyIEI9ZS5ETyYmaD4wP3tZRTplLkxPWzBdLllFLCRPOmUuTE9bMF0uJE8sWEU6ZS5MT1swXS5YRX06ZS5xTyhnLGgpO2lmKCFOfHxlLkRPJiYwIT09aHx8Qi4kTy5zZXRSZW1vdGVDYW5kaWRhdGVzKHgpLEk9UlRDUnRwUmVjZWl2ZXIuZ2V0Q2FwYWJpbGl0aWVzKGwpLHMudmVyc2lvbjwxNTAxOSYmKEkuTkU9SS5ORS5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuXCJydHhcIiE9PXQubmFtZX0pKSxiPVt7d0U6MTAwMSooMipoKzIpfV0sXCJzZW5kcmVjdlwiIT09ZiYmXCJzZW5kb25seVwiIT09Znx8KFM9bmV3IFJUQ1J0cFJlY2VpdmVyKEIuWEUsbCksUj1TLnRyYWNrLHIucHVzaChbUixTXSksaS5hZGRUcmFjayhSKSksZS54Ty5sZW5ndGg+MCYmZS54T1swXS5nZXRUcmFja3MoKS5sZW5ndGg+PWgpe3ZhciBGO1wiYXVkaW9cIj09PWw/Rj1lLnhPWzBdLmdldEF1ZGlvVHJhY2tzKClbMF06XCJ2aWRlb1wiPT09bCYmKEY9ZS54T1swXS5nZXRWaWRlb1RyYWNrcygpWzBdKSxGJiYocy52ZXJzaW9uPj0xNTAxOSYmXCJ2aWRlb1wiPT09bCYmKGJbMF0uTUU9e3dFOjEwMDEqKDIqaCsyKSsxfSksVD1uZXcgUlRDUnRwU2VuZGVyKEYsQi5YRSkpfWUuTE9baF09e1lFOkIuWUUsJE86Qi4kTyxYRTpCLlhFLFhPOkksWk86Tyx0STpULGVJOlMsa2luZDpsLFpFOmcscUU6UCxpSTpiLGVQOkV9LGUuWU8oZS5MT1toXSwhMSxcInNlbmRyZWN2XCI9PT1mfHxcInNlbmRvbmx5XCI9PT1mKX19KSx0aGlzLnJlbW90ZURlc2NyaXB0aW9uPXt0eXBlOnQudHlwZSxzZHA6dC5zZHB9LHQudHlwZSl7Y2FzZVwib2ZmZXJcIjp0aGlzLnJQKFwiaGF2ZS1yZW1vdGUtb2ZmZXJcIik7YnJlYWs7Y2FzZVwiYW5zd2VyXCI6dGhpcy5yUChcInN0YWJsZVwiKTticmVhaztkZWZhdWx0OnRocm93IG5ldyBUeXBlRXJyb3IoJ3Vuc3VwcG9ydGVkIHR5cGUgXCInK3QudHlwZSsnXCInKX1yZXR1cm4gaS5nZXRUcmFja3MoKS5sZW5ndGgmJihlLkJPLnB1c2goaSksd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgdD1uZXcgRXZlbnQoXCJhZGRzdHJlYW1cIik7dC5zdHJlYW09aSxlLmRpc3BhdGNoRXZlbnQodCksbnVsbCE9PWUub25hZGRzdHJlYW0mJndpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS5vbmFkZHN0cmVhbSh0KX0sMCksci5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciByPXRbMF0sbj10WzFdLG89bmV3IEV2ZW50KFwidHJhY2tcIik7by50cmFjaz1yLG8ucmVjZWl2ZXI9bixvLnNPPVtpXSxlLmRpc3BhdGNoRXZlbnQobyksbnVsbCE9PWUuQU8mJndpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS5BTyhvKX0sMCl9KX0sMCkpLGFyZ3VtZW50cy5sZW5ndGg+MSYmXCJmdW5jdGlvblwiPT10eXBlb2YgYXJndW1lbnRzWzFdJiZ3aW5kb3cuc2V0VGltZW91dChhcmd1bWVudHNbMV0sMCksUHJvbWlzZS5yZXNvbHZlKCl9LHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oKXt0aGlzLkxPLmZvckVhY2goZnVuY3Rpb24odCl7dC4kTyYmdC4kTy5zdG9wKCksdC5YRSYmdC5YRS5zdG9wKCksdC50SSYmdC50SS5zdG9wKCksdC5lSSYmdC5lSS5zdG9wKCl9KSx0aGlzLnJQKFwiY2xvc2VkXCIpfSx3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnJQPWZ1bmN0aW9uKHQpe3RoaXMuc2lnbmFsaW5nU3RhdGU9dDt2YXIgZT1uZXcgRXZlbnQoXCJzaWduYWxpbmdzdGF0ZWNoYW5nZVwiKTt0aGlzLmRpc3BhdGNoRXZlbnQoZSksbnVsbCE9PXRoaXMub25zaWduYWxpbmdzdGF0ZWNoYW5nZSYmdGhpcy5vbnNpZ25hbGluZ3N0YXRlY2hhbmdlKGUpfSx3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLlZPPWZ1bmN0aW9uKCl7dmFyIHQ9bmV3IEV2ZW50KFwibmVnb3RpYXRpb25uZWVkZWRcIik7dGhpcy5kaXNwYXRjaEV2ZW50KHQpLG51bGwhPT10aGlzLm9ubmVnb3RpYXRpb25uZWVkZWQmJnRoaXMub25uZWdvdGlhdGlvbm5lZWRlZCh0KX0sd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS56Tz1mdW5jdGlvbigpe3ZhciB0LGU9dGhpcyxpPXtuUDowLGNsb3NlZDowLG9QOjAsc1A6MCxjb25uZWN0ZWQ6MCxhUDowLF9pOjB9O2lmKHRoaXMuTE8uZm9yRWFjaChmdW5jdGlvbih0KXtpW3QuJE8uc3RhdGVdKyssaVt0LlhFLnN0YXRlXSsrfSksaS5jb25uZWN0ZWQrPWkuYVAsdD1cIm5ld1wiLGkuX2k+MD90PVwiZmFpbGVkXCI6aS5vUD4wfHxpLnNQPjA/dD1cImNvbm5lY3RpbmdcIjppLmRpc2Nvbm5lY3RlZD4wP3Q9XCJkaXNjb25uZWN0ZWRcIjppW1wiblBcIl0+MD90PVwibmV3XCI6KGkuY29ubmVjdGVkPjB8fGkuYVA+MCkmJih0PVwiY29ubmVjdGVkXCIpLHQhPT1lLmljZUNvbm5lY3Rpb25TdGF0ZSl7ZS5pY2VDb25uZWN0aW9uU3RhdGU9dDt2YXIgcj1uZXcgRXZlbnQoXCJpY2Vjb25uZWN0aW9uc3RhdGVjaGFuZ2VcIik7dGhpcy5kaXNwYXRjaEV2ZW50KHIpLG51bGwhPT10aGlzLm9uaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlJiZ0aGlzLm9uaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlKHIpfX0sd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5jcmVhdGVPZmZlcj1mdW5jdGlvbigpe3ZhciB0PXRoaXM7aWYodGhpcy5LTyl0aHJvdyBuZXcgRXJyb3IoXCJjcmVhdGVPZmZlciBjYWxsZWQgd2hpbGUgdGhlcmUgaXMgYSBwZW5kaW5nIG9mZmVyLlwiKTt2YXIgZTsxPT09YXJndW1lbnRzLmxlbmd0aCYmXCJmdW5jdGlvblwiIT10eXBlb2YgYXJndW1lbnRzWzBdP2U9YXJndW1lbnRzWzBdOjM9PT1hcmd1bWVudHMubGVuZ3RoJiYoZT1hcmd1bWVudHNbMl0pO3ZhciBpPVtdLG49MCxhPTA7aWYodGhpcy54Ty5sZW5ndGgmJihuPXRoaXMueE9bMF0uZ2V0QXVkaW9UcmFja3MoKS5sZW5ndGgsYT10aGlzLnhPWzBdLmdldFZpZGVvVHJhY2tzKCkubGVuZ3RoKSxlKXtpZihlLmdPfHxlLm9wdGlvbmFsKXRocm93IG5ldyBUeXBlRXJyb3IoXCJMZWdhY3kgbWFuZGF0b3J5L29wdGlvbmFsIGNvbnN0cmFpbnRzIG5vdCBzdXBwb3J0ZWQuXCIpO3ZvaWQgMCE9PWUuY1AmJihuPWUuY1ApLHZvaWQgMCE9PWUuaFAmJihhPWUuaFApfWZvcih0aGlzLnhPLmxlbmd0aCYmdGhpcy54T1swXS5nZXRUcmFja3MoKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2kucHVzaCh7a2luZDp0LmtpbmQsdHJhY2s6dCxwUDpcImF1ZGlvXCI9PT10LmtpbmQ/bj4wOmE+MH0pLFwiYXVkaW9cIj09PXQua2luZD9uLS06XCJ2aWRlb1wiPT09dC5raW5kJiZhLS19KTtuPjB8fGE+MDspbj4wJiYoaS5wdXNoKHtraW5kOlwiYXVkaW9cIixwUDohMH0pLG4tLSksYT4wJiYoaS5wdXNoKHtraW5kOlwidmlkZW9cIixwUDohMH0pLGEtLSk7aT1yKGkpO3ZhciBjPW8uV0UoKSxoPVtdO2kuZm9yRWFjaChmdW5jdGlvbihlLGkpe3ZhciByPWUudHJhY2ssbj1lLmtpbmQsYT1vLlFiKCksYz10LkRPJiZpPjA/e1lFOmhbMF0uWUUsJE86aFswXS4kTyxYRTpoWzBdLlhFfTp0LnFPKGEsaSkscD1SVENSdHBTZW5kZXIuZ2V0Q2FwYWJpbGl0aWVzKG4pO3MudmVyc2lvbjwxNTAxOSYmKHAuTkU9cC5ORS5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuXCJydHhcIiE9PXQubmFtZX0pKSxwLk5FLmZvckVhY2goZnVuY3Rpb24odCl7XCJIMjY0XCI9PT10Lm5hbWUmJnZvaWQgMD09PXQucGFyYW1ldGVyc1tcInVQXCJdJiYodC5wYXJhbWV0ZXJzW1widVBcIl09XCIxXCIpfSk7dmFyIHUsbCxkPVt7d0U6MTAwMSooMippKzEpfV07ciYmKHMudmVyc2lvbj49MTUwMTkmJlwidmlkZW9cIj09PW4mJihkWzBdLk1FPXt3RToxMDAxKigyKmkrMSkrMX0pLHU9bmV3IFJUQ1J0cFNlbmRlcihyLGMuWEUpKSxlLnBQJiYobD1uZXcgUlRDUnRwUmVjZWl2ZXIoYy5YRSxuKSksaFtpXT17WUU6Yy5ZRSwkTzpjLiRPLFhFOmMuWEUsWE86cCxaTzpudWxsLHRJOnUsZUk6bCxraW5kOm4sWkU6YSxpSTpkLGVQOm51bGx9fSksdGhpcy5ETyYmKGMrPVwiYT1ncm91cDpCVU5ETEUgXCIraC5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQuWkV9KS5qb2luKFwiIFwiKStcIlxcclxcblwiKSxpLmZvckVhY2goZnVuY3Rpb24oZSxpKXt2YXIgcj1oW2ldO2MrPW8uJEUocixyLlhPLFwib2ZmZXJcIix0LnhPWzBdKX0pLHRoaXMuS089aDt2YXIgcD1uZXcgUlRDU2Vzc2lvbkRlc2NyaXB0aW9uKHt0eXBlOlwib2ZmZXJcIixzZHA6Y30pO3JldHVybiBhcmd1bWVudHMubGVuZ3RoJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBhcmd1bWVudHNbMF0mJndpbmRvdy5zZXRUaW1lb3V0KGFyZ3VtZW50c1swXSwwLHApLFByb21pc2UucmVzb2x2ZShwKX0sd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5jcmVhdGVBbnN3ZXI9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9by5XRSgpO3RoaXMuRE8mJihlKz1cImE9Z3JvdXA6QlVORExFIFwiK3RoaXMuTE8ubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0LlpFfSkuam9pbihcIiBcIikrXCJcXHJcXG5cIiksdGhpcy5MTy5mb3JFYWNoKGZ1bmN0aW9uKGkpe2lmKGkuaVApcmV0dXJuIHZvaWQoZSs9XCJtPWFwcGxpY2F0aW9uIDAgRFRMUy9TQ1RQIDUwMDBcXHJcXG5jPUlOIElQNCAwLjAuMC4wXFxyXFxuYT1taWQ6XCIraS5aRStcIlxcclxcblwiKTt2YXIgcj10LlFPKGkuWE8saS5aTyk7ZSs9by4kRShpLHIsXCJhbnN3ZXJcIix0LnhPWzBdKX0pO3ZhciBpPW5ldyBSVENTZXNzaW9uRGVzY3JpcHRpb24oe3R5cGU6XCJhbnN3ZXJcIixzZHA6ZX0pO3JldHVybiBhcmd1bWVudHMubGVuZ3RoJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBhcmd1bWVudHNbMF0mJndpbmRvdy5zZXRUaW1lb3V0KGFyZ3VtZW50c1swXSwwLGkpLFByb21pc2UucmVzb2x2ZShpKX0sd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRJY2VDYW5kaWRhdGU9ZnVuY3Rpb24odCl7aWYodCl7dmFyIGU9dC5zZHBNTGluZUluZGV4O2lmKHQuc2RwTWlkKWZvcih2YXIgaT0wO2k8dGhpcy5MTy5sZW5ndGg7aSsrKWlmKHRoaXMuTE9baV0uWkU9PT10LnNkcE1pZCl7ZT1pO2JyZWFrfXZhciByPXRoaXMuTE9bZV07aWYocil7dmFyIG49T2JqZWN0LmtleXModC5jYW5kaWRhdGUpLmxlbmd0aD4wP28uemIodC5jYW5kaWRhdGUpOnt9O2lmKFwidGNwXCI9PT1uLnByb3RvY29sJiYoMD09PW4ucG9ydHx8OT09PW4ucG9ydCkpcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO2lmKFwiMVwiIT09bi4kYilyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7ci4kTy5hZGRSZW1vdGVDYW5kaWRhdGUobik7dmFyIHM9by5LYih0aGlzLnJlbW90ZURlc2NyaXB0aW9uLnNkcCk7c1tlKzFdKz0obi50eXBlP3QuY2FuZGlkYXRlLnRyaW0oKTpcImE9ZW5kLW9mLWNhbmRpZGF0ZXNcIikrXCJcXHJcXG5cIix0aGlzLnJlbW90ZURlc2NyaXB0aW9uLnNkcD1zLmpvaW4oXCJcIil9fWVsc2UgZm9yKHZhciBhPTA7YTx0aGlzLkxPLmxlbmd0aDthKyspaWYodGhpcy5MT1thXS4kTy5hZGRSZW1vdGVDYW5kaWRhdGUoe30pLHRoaXMuRE8pcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO3JldHVybiBhcmd1bWVudHMubGVuZ3RoPjEmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGFyZ3VtZW50c1sxXSYmd2luZG93LnNldFRpbWVvdXQoYXJndW1lbnRzWzFdLDApLFByb21pc2UucmVzb2x2ZSgpfSx3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFN0YXRzPWZ1bmN0aW9uKCl7dmFyIHQ9W107dGhpcy5MTy5mb3JFYWNoKGZ1bmN0aW9uKGUpe1tcInJ0cFNlbmRlclwiLFwicnRwUmVjZWl2ZXJcIixcImljZUdhdGhlcmVyXCIsXCJpY2VUcmFuc3BvcnRcIixcImR0bHNUcmFuc3BvcnRcIl0uZm9yRWFjaChmdW5jdGlvbihpKXtlW2ldJiZ0LnB1c2goZVtpXS5nZXRTdGF0cygpKX0pfSk7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBhcmd1bWVudHNbMV0mJmFyZ3VtZW50c1sxXSxpPWZ1bmN0aW9uKHQpe3JldHVybntsUDpcImluYm91bmQtcnRwXCIsZFA6XCJvdXRib3VuZC1ydHBcIixmUDpcImNhbmRpZGF0ZS1wYWlyXCIsZE86XCJsb2NhbC1jYW5kaWRhdGVcIixmTzpcInJlbW90ZS1jYW5kaWRhdGVcIn1bdC50eXBlXXx8dC50eXBlfTtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocil7dmFyIG49bmV3IE1hcDtQcm9taXNlLmFsbCh0KS50aGVuKGZ1bmN0aW9uKHQpe3QuZm9yRWFjaChmdW5jdGlvbih0KXtPYmplY3Qua2V5cyh0KS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3RbZV0udHlwZT1pKHRbZV0pLG4uc2V0KGUsdFtlXSl9KX0pLGUmJndpbmRvdy5zZXRUaW1lb3V0KGUsMCxuKSxyKG4pfSl9KX19fTt0LnQ9e1hDOmEuWEMsWkM6aSg2OSl9fSxmdW5jdGlvbih0LGUpe1widXNlIHN0cmljdFwiO3QudD1mdW5jdGlvbigpe3ZhciB0PWZ1bmN0aW9uKHQpe3JldHVybntuYW1lOntFTzpcIk5vdEFsbG93ZWRFcnJvclwifVt0Lm5hbWVdfHx0Lm5hbWUsbWVzc2FnZTp0Lm1lc3NhZ2UsUk86dC5STyx0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiB0aGlzLm5hbWV9fX0sZT1uYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYS5iaW5kKG5hdmlnYXRvci5tZWRpYURldmljZXMpO25hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhPWZ1bmN0aW9uKGkpe3JldHVybiBlKGkpW1wiY2F0Y2hcIl0oZnVuY3Rpb24oZSl7cmV0dXJuIFByb21pc2UucmVqZWN0KHQoZSkpfSl9fX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO3ZhciByPWkoMykucmksbj17aU86ZnVuY3Rpb24oKXtcIm9iamVjdFwiIT10eXBlb2Ygd2luZG93fHwhd2luZG93LlJUQ1BlZXJDb25uZWN0aW9ufHxcIm9udHJhY2tcImluIHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGV8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLFwib250cmFja1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uT30sc2V0OmZ1bmN0aW9uKHQpe3RoaXMubk8mJih0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0cmFja1wiLHRoaXMubk8pLHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImFkZHN0cmVhbVwiLHRoaXMub08pKSx0aGlzLmFkZEV2ZW50TGlzdGVuZXIoXCJ0cmFja1wiLHRoaXMubk89dCksdGhpcy5hZGRFdmVudExpc3RlbmVyKFwiYWRkc3RyZWFtXCIsdGhpcy5vTz1mdW5jdGlvbih0KXt0LnN0cmVhbS5nZXRUcmFja3MoKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciBpPW5ldyBFdmVudChcInRyYWNrXCIpO2kudHJhY2s9ZSxpLnJlY2VpdmVyPXt0cmFjazplfSxpLnNPPVt0LnN0cmVhbV0sdGhpcy5kaXNwYXRjaEV2ZW50KGkpfS5iaW5kKHRoaXMpKX0uYmluZCh0aGlzKSl9fSl9LGVPOmZ1bmN0aW9uKCl7XCJvYmplY3RcIj09dHlwZW9mIHdpbmRvdyYmKCF3aW5kb3cuSFRNTE1lZGlhRWxlbWVudHx8XCJzcmNPYmplY3RcImluIHdpbmRvdy5IVE1MTWVkaWFFbGVtZW50LnByb3RvdHlwZXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdy5IVE1MTWVkaWFFbGVtZW50LnByb3RvdHlwZSxcInNyY09iamVjdFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tb3pTcmNPYmplY3R9LHNldDpmdW5jdGlvbih0KXt0aGlzLm1velNyY09iamVjdD10fX0pKX0sWEM6ZnVuY3Rpb24oKXtpZihcIm9iamVjdFwiPT10eXBlb2Ygd2luZG93JiYod2luZG93LlJUQ1BlZXJDb25uZWN0aW9ufHx3aW5kb3cubW96UlRDUGVlckNvbm5lY3Rpb24pKXt3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb258fCh3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb249ZnVuY3Rpb24odCxlKXtpZihyLnZlcnNpb248MzgmJnQmJnQuaWNlU2VydmVycyl7Zm9yKHZhciBpPVtdLG49MDtuPHQuaWNlU2VydmVycy5sZW5ndGg7bisrKXt2YXIgbz10LmljZVNlcnZlcnNbbl07aWYoby5oYXNPd25Qcm9wZXJ0eShcInVybHNcIikpZm9yKHZhciBzPTA7czxvLlBPLmxlbmd0aDtzKyspe3ZhciBhPXt1cmw6by5QT1tzXX07MD09PW8uUE9bc10uaW5kZXhPZihcInR1cm5cIikmJihhLnVzZXJuYW1lPW8udXNlcm5hbWUsYS5nUD1vLmdQKSxpLnB1c2goYSl9ZWxzZSBpLnB1c2godC5pY2VTZXJ2ZXJzW25dKX10LmljZVNlcnZlcnM9aX1yZXR1cm4gbmV3IG1velJUQ1BlZXJDb25uZWN0aW9uKHQsZSl9LHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGU9bW96UlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLG1velJUQ1BlZXJDb25uZWN0aW9uLmdlbmVyYXRlQ2VydGlmaWNhdGUmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24sXCJnZW5lcmF0ZUNlcnRpZmljYXRlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBtb3pSVENQZWVyQ29ubmVjdGlvbi5nZW5lcmF0ZUNlcnRpZmljYXRlfX0pLHdpbmRvdy5SVENTZXNzaW9uRGVzY3JpcHRpb249bW96UlRDU2Vzc2lvbkRlc2NyaXB0aW9uLHdpbmRvdy5SVENJY2VDYW5kaWRhdGU9bW96UlRDSWNlQ2FuZGlkYXRlKSxbXCJzZXRMb2NhbERlc2NyaXB0aW9uXCIsXCJzZXRSZW1vdGVEZXNjcmlwdGlvblwiLFwiYWRkSWNlQ2FuZGlkYXRlXCJdLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIGU9UlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlW3RdO1JUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZVt0XT1mdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHNbMF09bmV3KFwiYWRkSWNlQ2FuZGlkYXRlXCI9PT10P1JUQ0ljZUNhbmRpZGF0ZTpSVENTZXNzaW9uRGVzY3JpcHRpb24pKGFyZ3VtZW50c1swXSksZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSk7dmFyIHQ9UlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZEljZUNhbmRpZGF0ZTtSVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkSWNlQ2FuZGlkYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c1swXT90LmFwcGx5KHRoaXMsYXJndW1lbnRzKTooYXJndW1lbnRzWzFdJiZhcmd1bWVudHNbMV0uYXBwbHkobnVsbCksUHJvbWlzZS5yZXNvbHZlKCkpfTt2YXIgZT1mdW5jdGlvbih0KXt2YXIgZT1uZXcgTWFwO3JldHVybiBPYmplY3Qua2V5cyh0KS5mb3JFYWNoKGZ1bmN0aW9uKGkpe2Uuc2V0KGksdFtpXSksZVtpXT10W2ldfSksZX0saT17bFA6XCJpbmJvdW5kLXJ0cFwiLGRQOlwib3V0Ym91bmQtcnRwXCIsZlA6XCJjYW5kaWRhdGUtcGFpclwiLGRPOlwibG9jYWwtY2FuZGlkYXRlXCIsZk86XCJyZW1vdGUtY2FuZGlkYXRlXCJ9LG49UlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFN0YXRzO1JUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRTdGF0cz1mdW5jdGlvbih0LG8scyl7cmV0dXJuIG4uYXBwbHkodGhpcyxbdHx8bnVsbF0pLnRoZW4oZnVuY3Rpb24odCl7aWYoci52ZXJzaW9uPDQ4JiYodD1lKHQpKSxyLnZlcnNpb248NTMmJiFvKXRyeXt0LmZvckVhY2goZnVuY3Rpb24odCl7dC50eXBlPWlbdC50eXBlXXx8dC50eXBlfSl9Y2F0Y2gobil7aWYoXCJUeXBlRXJyb3JcIiE9PW4ubmFtZSl0aHJvdyBuO3QuZm9yRWFjaChmdW5jdGlvbihlLHIpe3Quc2V0KHIsT2JqZWN0LmFzc2lnbih7fSxlLHt0eXBlOmlbZS50eXBlXXx8ZS50eXBlfSkpfSl9cmV0dXJuIHR9KS50aGVuKG8scyl9fX19O3QudD17aU86bi5pTyxlTzpuLmVPLFhDOm4uWEMsWkM6aSg3MSl9fSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9aSgzKS5sb2csbj1pKDMpLnJpO3QudD1mdW5jdGlvbigpe3ZhciB0PWZ1bmN0aW9uKHQpe3JldHVybntuYW1lOnt2UDpcIk5vdEFsbG93ZWRFcnJvclwiLEVPOlwiTm90QWxsb3dlZEVycm9yXCJ9W3QubmFtZV18fHQubmFtZSxtZXNzYWdlOntcIlRoZSBvcGVyYXRpb24gaXMgaW5zZWN1cmUuXCI6XCJUaGUgcmVxdWVzdCBpcyBub3QgYWxsb3dlZCBieSB0aGUgdXNlciBhZ2VudCBvciB0aGUgcGxhdGZvcm0gaW4gdGhlIGN1cnJlbnQgY29udGV4dC5cIn1bdC5tZXNzYWdlXXx8dC5tZXNzYWdlLFJPOnQuUk8sdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uYW1lKyh0aGlzLm1lc3NhZ2UmJlwiOiBcIikrdGhpcy5tZXNzYWdlfX19LGU9ZnVuY3Rpb24oZSxpLG8pe3ZhciBzPWZ1bmN0aW9uKHQpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiB0fHx0LnlQKXJldHVybiB0O3ZhciBlPVtdO3JldHVybiBPYmplY3Qua2V5cyh0KS5mb3JFYWNoKGZ1bmN0aW9uKGkpe2lmKFwicmVxdWlyZVwiIT09aSYmXCJhZHZhbmNlZFwiIT09aSYmXCJtZWRpYVNvdXJjZVwiIT09aSl7dmFyIHI9dFtpXT1cIm9iamVjdFwiPT10eXBlb2YgdFtpXT90W2ldOnt2Tzp0W2ldfTtpZih2b2lkIDA9PT1yLm1pbiYmdm9pZCAwPT09ci5tYXgmJnZvaWQgMD09PXIueU98fGUucHVzaChpKSx2b2lkIDAhPT1yLnlPJiYoXCJudW1iZXJcIj09dHlwZW9mIHIueU8/ci5taW49ci5tYXg9ci55Tzp0W2ldPXIueU8sZGVsZXRlIHIueU8pLHZvaWQgMCE9PXIudk8pe3QubU89dC5tT3x8W107dmFyIG49e307XCJudW1iZXJcIj09dHlwZW9mIHIudk8/bltpXT17bWluOnIudk8sbWF4OnIudk99Om5baV09ci52Tyx0Lm1PLnB1c2gobiksZGVsZXRlIHIudk8sT2JqZWN0LmtleXMocikubGVuZ3RofHxkZWxldGUgdFtpXX19fSksZS5sZW5ndGgmJih0LnlQPWUpLHR9O3JldHVybiBlPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoZSkpLG4udmVyc2lvbjwzOCYmKHIoXCJzcGVjOiBcIitKU09OLnN0cmluZ2lmeShlKSksZS5NcCYmKGUuTXA9cyhlLk1wKSksZS52aWRlbyYmKGUudmlkZW89cyhlLnZpZGVvKSkscihcImZmMzc6IFwiK0pTT04uc3RyaW5naWZ5KGUpKSksbmF2aWdhdG9yLm1vekdldFVzZXJNZWRpYShlLGksZnVuY3Rpb24oZSl7byh0KGUpKX0pfSxpPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihpLHIpe2UodCxpLHIpfSl9O2lmKG5hdmlnYXRvci5tZWRpYURldmljZXN8fChuYXZpZ2F0b3IubWVkaWFEZXZpY2VzPXtnZXRVc2VyTWVkaWE6aSxhZGRFdmVudExpc3RlbmVyOmZ1bmN0aW9uKCl7fSxyZW1vdmVFdmVudExpc3RlbmVyOmZ1bmN0aW9uKCl7fX0pLG5hdmlnYXRvci5tZWRpYURldmljZXMuU089bmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5TT3x8ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24odCl7dmFyIGU9W3traW5kOlwiYXVkaW9pbnB1dFwiLGJPOlwiZGVmYXVsdFwiLGxhYmVsOlwiXCIsa086XCJcIn0se2tpbmQ6XCJ2aWRlb2lucHV0XCIsYk86XCJkZWZhdWx0XCIsbGFiZWw6XCJcIixrTzpcIlwifV07dChlKX0pfSxuLnZlcnNpb248NDEpe3ZhciBvPW5hdmlnYXRvci5tZWRpYURldmljZXMuU08uYmluZChuYXZpZ2F0b3IubWVkaWFEZXZpY2VzKTtuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLlNPPWZ1bmN0aW9uKCl7cmV0dXJuIG8oKS50aGVuKHZvaWQgMCxmdW5jdGlvbih0KXtpZihcIk5vdEZvdW5kRXJyb3JcIj09PXQubmFtZSlyZXR1cm5bXTt0aHJvdyB0fSl9fWlmKG4udmVyc2lvbjw0OSl7dmFyIHM9bmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEuYmluZChuYXZpZ2F0b3IubWVkaWFEZXZpY2VzKTtuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYT1mdW5jdGlvbihlKXtyZXR1cm4gcyhlKS50aGVuKGZ1bmN0aW9uKHQpe2lmKGUuTXAmJiF0LmdldEF1ZGlvVHJhY2tzKCkubGVuZ3RofHxlLnZpZGVvJiYhdC5nZXRWaWRlb1RyYWNrcygpLmxlbmd0aCl0aHJvdyB0LmdldFRyYWNrcygpLmZvckVhY2goZnVuY3Rpb24odCl7dC5zdG9wKCl9KSxuZXcgRE9NRXhjZXB0aW9uKFwiVGhlIG9iamVjdCBjYW4gbm90IGJlIGZvdW5kIGhlcmUuXCIsXCJOb3RGb3VuZEVycm9yXCIpO3JldHVybiB0fSxmdW5jdGlvbihlKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QodChlKSl9KX19bmF2aWdhdG9yLmdldFVzZXJNZWRpYT1mdW5jdGlvbih0LGkscil7cmV0dXJuIG4udmVyc2lvbjw0ND9lKHQsaSxyKTooY29uc29sZS53YXJuKFwibmF2aWdhdG9yLmdldFVzZXJNZWRpYSBoYXMgYmVlbiByZXBsYWNlZCBieSBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYVwiKSx2b2lkIG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKHQpLnRoZW4oaSxyKSl9fX0sZnVuY3Rpb24odCxlKXtcInVzZSBzdHJpY3RcIjt2YXIgaT17WkM6ZnVuY3Rpb24oKXtuYXZpZ2F0b3IuZ2V0VXNlck1lZGlhfHwobmF2aWdhdG9yLndlYmtpdEdldFVzZXJNZWRpYT9uYXZpZ2F0b3IuZ2V0VXNlck1lZGlhPW5hdmlnYXRvci53ZWJraXRHZXRVc2VyTWVkaWEuYmluZChuYXZpZ2F0b3IpOm5hdmlnYXRvci5tZWRpYURldmljZXMmJm5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhJiYobmF2aWdhdG9yLmdldFVzZXJNZWRpYT1mdW5jdGlvbih0LGUsaSl7bmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEodCkudGhlbihlLGkpfS5iaW5kKG5hdmlnYXRvcikpKX19O3QudD17WkM6aS5aQ319XSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJpdG1vdmluLmhpdmUubWluLmpzLm1hcFxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL2hpdmUvYml0bW92aW4uaGl2ZS5taW4uanNcbi8vIG1vZHVsZSBpZCA9IDQ3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=