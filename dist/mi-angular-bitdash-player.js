/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 65);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var component_1 = __webpack_require__(2);
var dom_1 = __webpack_require__(1);
var arrayutils_1 = __webpack_require__(11);
/**
 * A container component that can contain a collection of child components.
 * Components can be added at construction time through the {@link ContainerConfig#components} setting, or later
 * through the {@link Container#addComponent} method. The UIManager automatically takes care of all components, i.e. it
 * initializes and configures them automatically.
 *
 * In the DOM, the container consists of an outer <div> (that can be configured by the config) and an inner wrapper
 * <div> that contains the components. This double-<div>-structure is often required to achieve many advanced effects
 * in CSS and/or JS, e.g. animations and certain formatting with absolute positioning.
 *
 * DOM example:
 * <code>
 *     <div class='ui-container'>
 *         <div class='container-wrapper'>
 *             ... child components ...
 *         </div>
 *     </div>
 * </code>
 */
var Container = /** @class */ (function (_super) {
    __extends(Container, _super);
    function Container(config) {
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-container',
            components: [],
        }, _this.config);
        _this.componentsToAdd = [];
        _this.componentsToRemove = [];
        return _this;
    }
    /**
     * Adds a child component to the container.
     * @param component the component to add
     */
    Container.prototype.addComponent = function (component) {
        this.config.components.push(component);
        this.componentsToAdd.push(component);
    };
    /**
     * Removes a child component from the container.
     * @param component the component to remove
     * @returns {boolean} true if the component has been removed, false if it is not contained in this container
     */
    Container.prototype.removeComponent = function (component) {
        if (arrayutils_1.ArrayUtils.remove(this.config.components, component) != null) {
            this.componentsToRemove.push(component);
            return true;
        }
        else {
            return false;
        }
    };
    /**
     * Gets an array of all child components in this container.
     * @returns {Component<ComponentConfig>[]}
     */
    Container.prototype.getComponents = function () {
        return this.config.components;
    };
    /**
     * Removes all child components from the container.
     */
    Container.prototype.removeComponents = function () {
        for (var _i = 0, _a = this.getComponents().slice(); _i < _a.length; _i++) {
            var component = _a[_i];
            this.removeComponent(component);
        }
    };
    /**
     * Updates the DOM of the container with the current components.
     */
    Container.prototype.updateComponents = function () {
        /* We cannot just clear the container to remove all elements and then re-add those that should stay, because
         * IE looses the innerHTML of unattached elements, leading to empty elements within the container (e.g. missing
         * subtitle text in SubtitleLabel).
         * Instead, we keep a list of elements to add and remove, leaving remaining elements alone. By keeping them in
         * the DOM, their content gets preserved in all browsers.
         */
        var component;
        while (component = this.componentsToRemove.shift()) {
            component.getDomElement().remove();
        }
        while (component = this.componentsToAdd.shift()) {
            this.innerContainerElement.append(component.getDomElement());
        }
    };
    Container.prototype.toDomElement = function () {
        // Create the container element (the outer <div>)
        var containerElement = new dom_1.DOM(this.config.tag, {
            'id': this.config.id,
            'class': this.getCssClasses(),
        });
        // Create the inner container element (the inner <div>) that will contain the components
        var innerContainer = new dom_1.DOM(this.config.tag, {
            'class': this.prefixCss('container-wrapper'),
        });
        this.innerContainerElement = innerContainer;
        for (var _i = 0, _a = this.config.components; _i < _a.length; _i++) {
            var initialComponent = _a[_i];
            this.componentsToAdd.push(initialComponent);
        }
        this.updateComponents();
        containerElement.append(innerContainer);
        return containerElement;
    };
    return Container;
}(component_1.Component));
exports.Container = Container;


/***/ }),
/* 1 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Simple DOM manipulation and DOM element event handling modeled after jQuery (as replacement for jQuery).
 *
 * Like jQuery, DOM operates on single elements and lists of elements. For example: creating an element returns a DOM
 * instance with a single element, selecting elements returns a DOM instance with zero, one, or many elements. Similar
 * to jQuery, setters usually affect all elements, while getters operate on only the first element.
 * Also similar to jQuery, most methods (except getters) return the DOM instance facilitating easy chaining of method
 * calls.
 *
 * Built with the help of: http://youmightnotneedjquery.com/
 */
var DOM = /** @class */ (function () {
    function DOM(something, attributes) {
        this.document = document; // Set the global document to the local document field
        if (something instanceof Array) {
            if (something.length > 0 && something[0] instanceof HTMLElement) {
                var elements = something;
                this.elements = elements;
            }
        }
        else if (something instanceof HTMLElement) {
            var element = something;
            this.elements = [element];
        }
        else if (something instanceof Document) {
            // When a document is passed in, we do not do anything with it, but by setting this.elements to null
            // we give the event handling method a means to detect if the events should be registered on the document
            // instead of elements.
            this.elements = null;
        }
        else if (attributes) {
            var tagName = something;
            var element = document.createElement(tagName);
            for (var attributeName in attributes) {
                var attributeValue = attributes[attributeName];
                element.setAttribute(attributeName, attributeValue);
            }
            this.elements = [element];
        }
        else {
            var selector = something;
            this.elements = this.findChildElements(selector);
        }
    }
    Object.defineProperty(DOM.prototype, "length", {
        /**
         * Gets the number of elements that this DOM instance currently holds.
         * @returns {number} the number of elements
         */
        get: function () {
            return this.elements ? this.elements.length : 0;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * Gets the HTML elements that this DOM instance currently holds.
     * @returns {HTMLElement[]} the raw HTML elements
     * @deprecated use {@link #get()} instead
     */
    DOM.prototype.getElements = function () {
        return this.get();
    };
    DOM.prototype.get = function (index) {
        if (index === undefined) {
            return this.elements;
        }
        else if (!this.elements || index >= this.elements.length || index < -this.elements.length) {
            return undefined;
        }
        else if (index < 0) {
            return this.elements[this.elements.length - index];
        }
        else {
            return this.elements[index];
        }
    };
    /**
     * A shortcut method for iterating all elements. Shorts this.elements.forEach(...) to this.forEach(...).
     * @param handler the handler to execute an operation on an element
     */
    DOM.prototype.forEach = function (handler) {
        if (!this.elements) {
            return;
        }
        this.elements.forEach(function (element) {
            handler(element);
        });
    };
    DOM.prototype.findChildElementsOfElement = function (element, selector) {
        var childElements = element.querySelectorAll(selector);
        // Convert NodeList to Array
        // https://toddmotto.com/a-comprehensive-dive-into-nodelists-arrays-converting-nodelists-and-understanding-the-dom/
        return [].slice.call(childElements);
    };
    DOM.prototype.findChildElements = function (selector) {
        var _this = this;
        var allChildElements = [];
        if (this.elements) {
            this.forEach(function (element) {
                allChildElements = allChildElements.concat(_this.findChildElementsOfElement(element, selector));
            });
        }
        else {
            return this.findChildElementsOfElement(document, selector);
        }
        return allChildElements;
    };
    /**
     * Finds all child elements of all elements matching the supplied selector.
     * @param selector the selector to match with child elements
     * @returns {DOM} a new DOM instance representing all matched children
     */
    DOM.prototype.find = function (selector) {
        var allChildElements = this.findChildElements(selector);
        return new DOM(allChildElements);
    };
    DOM.prototype.html = function (content) {
        if (arguments.length > 0) {
            return this.setHtml(content);
        }
        else {
            return this.getHtml();
        }
    };
    DOM.prototype.getHtml = function () {
        return this.elements[0].innerHTML;
    };
    DOM.prototype.setHtml = function (content) {
        if (content === undefined || content == null) {
            // Set to empty string to avoid innerHTML getting set to 'undefined' (all browsers) or 'null' (IE9)
            content = '';
        }
        this.forEach(function (element) {
            element.innerHTML = content;
        });
        return this;
    };
    /**
     * Clears the inner HTML of all elements (deletes all children).
     * @returns {DOM}
     */
    DOM.prototype.empty = function () {
        this.forEach(function (element) {
            element.innerHTML = '';
        });
        return this;
    };
    /**
     * Returns the current value of the first form element, e.g. the selected value of a select box or the text if an
     * input field.
     * @returns {string} the value of a form element
     */
    DOM.prototype.val = function () {
        var element = this.elements[0];
        if (element instanceof HTMLSelectElement || element instanceof HTMLInputElement) {
            return element.value;
        }
        else {
            // TODO add support for missing form elements
            throw new Error("val() not supported for " + typeof element);
        }
    };
    DOM.prototype.attr = function (attribute, value) {
        if (arguments.length > 1) {
            return this.setAttr(attribute, value);
        }
        else {
            return this.getAttr(attribute);
        }
    };
    DOM.prototype.getAttr = function (attribute) {
        return this.elements[0].getAttribute(attribute);
    };
    DOM.prototype.setAttr = function (attribute, value) {
        this.forEach(function (element) {
            element.setAttribute(attribute, value);
        });
        return this;
    };
    DOM.prototype.data = function (dataAttribute, value) {
        if (arguments.length > 1) {
            return this.setData(dataAttribute, value);
        }
        else {
            return this.getData(dataAttribute);
        }
    };
    DOM.prototype.getData = function (dataAttribute) {
        return this.elements[0].getAttribute('data-' + dataAttribute);
    };
    DOM.prototype.setData = function (dataAttribute, value) {
        this.forEach(function (element) {
            element.setAttribute('data-' + dataAttribute, value);
        });
        return this;
    };
    /**
     * Appends one or more DOM elements as children to all elements.
     * @param childElements the chrild elements to append
     * @returns {DOM}
     */
    DOM.prototype.append = function () {
        var childElements = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            childElements[_i] = arguments[_i];
        }
        this.forEach(function (element) {
            childElements.forEach(function (childElement) {
                childElement.elements.forEach(function (_, index) {
                    element.appendChild(childElement.elements[index]);
                });
            });
        });
        return this;
    };
    /**
     * Removes all elements from the DOM.
     */
    DOM.prototype.remove = function () {
        this.forEach(function (element) {
            var parent = element.parentNode;
            if (parent) {
                parent.removeChild(element);
            }
        });
    };
    /**
     * Returns the offset of the first element from the document's top left corner.
     * @returns {Offset}
     */
    DOM.prototype.offset = function () {
        var element = this.elements[0];
        var elementRect = element.getBoundingClientRect();
        var htmlRect = document.body.parentElement.getBoundingClientRect();
        // Virtual viewport scroll handling (e.g. pinch zoomed viewports in mobile browsers or desktop Chrome/Edge)
        // 'normal' zooms and virtual viewport zooms (aka layout viewport) result in different
        // element.getBoundingClientRect() results:
        //  - with normal scrolls, the clientRect decreases with an increase in scroll(Top|Left)/page(X|Y)Offset
        //  - with pinch zoom scrolls, the clientRect stays the same while scroll/pageOffset changes
        // This means, that the combination of clientRect + scroll/pageOffset does not work to calculate the offset
        // from the document's upper left origin when pinch zoom is used.
        // To work around this issue, we do not use scroll/pageOffset but get the clientRect of the html element and
        // subtract it from the element's rect, which always results in the offset from the document origin.
        // NOTE: the current way of offset calculation was implemented specifically to track event positions on the
        // seek bar, and it might break compatibility with jQuery's offset() method. If this ever turns out to be a
        // problem, this method should be reverted to the old version and the offset calculation moved to the seek bar.
        return {
            top: elementRect.top - htmlRect.top,
            left: elementRect.left - htmlRect.left,
        };
    };
    /**
     * Returns the width of the first element.
     * @returns {number} the width of the first element
     */
    DOM.prototype.width = function () {
        // TODO check if this is the same as jQuery's width() (probably not)
        return this.elements[0].offsetWidth;
    };
    /**
     * Returns the height of the first element.
     * @returns {number} the height of the first element
     */
    DOM.prototype.height = function () {
        // TODO check if this is the same as jQuery's height() (probably not)
        return this.elements[0].offsetHeight;
    };
    /**
     * Attaches an event handler to one or more events on all elements.
     * @param eventName the event name (or multiple names separated by space) to listen to
     * @param eventHandler the event handler to call when the event fires
     * @returns {DOM}
     */
    DOM.prototype.on = function (eventName, eventHandler) {
        var _this = this;
        var events = eventName.split(' ');
        events.forEach(function (event) {
            if (_this.elements == null) {
                _this.document.addEventListener(event, eventHandler);
            }
            else {
                _this.forEach(function (element) {
                    element.addEventListener(event, eventHandler);
                });
            }
        });
        return this;
    };
    /**
     * Removes an event handler from one or more events on all elements.
     * @param eventName the event name (or multiple names separated by space) to remove the handler from
     * @param eventHandler the event handler to remove
     * @returns {DOM}
     */
    DOM.prototype.off = function (eventName, eventHandler) {
        var _this = this;
        var events = eventName.split(' ');
        events.forEach(function (event) {
            if (_this.elements == null) {
                _this.document.removeEventListener(event, eventHandler);
            }
            else {
                _this.forEach(function (element) {
                    element.removeEventListener(event, eventHandler);
                });
            }
        });
        return this;
    };
    /**
     * Adds the specified class(es) to all elements.
     * @param className the class(es) to add, multiple classes separated by space
     * @returns {DOM}
     */
    DOM.prototype.addClass = function (className) {
        this.forEach(function (element) {
            var _a;
            if (element.classList) {
                var classNames = className.split(' ')
                    .filter(function (className) { return className.length > 0; });
                if (classNames.length > 0) {
                    (_a = element.classList).add.apply(_a, classNames);
                }
            }
            else {
                element.className += ' ' + className;
            }
        });
        return this;
    };
    /**
     * Removed the specified class(es) from all elements.
     * @param className the class(es) to remove, multiple classes separated by space
     * @returns {DOM}
     */
    DOM.prototype.removeClass = function (className) {
        this.forEach(function (element) {
            var _a;
            if (element.classList) {
                var classNames = className.split(' ')
                    .filter(function (className) { return className.length > 0; });
                if (classNames.length > 0) {
                    (_a = element.classList).remove.apply(_a, classNames);
                }
            }
            else {
                element.className = element.className.replace(new RegExp('(^|\\b)' + className.split(' ').join('|') + '(\\b|$)', 'gi'), ' ');
            }
        });
        return this;
    };
    /**
     * Checks if any of the elements has the specified class.
     * @param className the class name to check
     * @returns {boolean} true if one of the elements has the class attached, else if no element has it attached
     */
    DOM.prototype.hasClass = function (className) {
        var hasClass = false;
        this.forEach(function (element) {
            if (element.classList) {
                if (element.classList.contains(className)) {
                    // Since we are inside a handler, we can't just 'return true'. Instead, we save it to a variable
                    // and return it at the end of the function body.
                    hasClass = true;
                }
            }
            else {
                if (new RegExp('(^| )' + className + '( |$)', 'gi').test(element.className)) {
                    // See comment above
                    hasClass = true;
                }
            }
        });
        return hasClass;
    };
    DOM.prototype.css = function (propertyNameOrCollection, value) {
        if (typeof propertyNameOrCollection === 'string') {
            var propertyName = propertyNameOrCollection;
            if (arguments.length === 2) {
                return this.setCss(propertyName, value);
            }
            else {
                return this.getCss(propertyName);
            }
        }
        else {
            var propertyValueCollection = propertyNameOrCollection;
            return this.setCssCollection(propertyValueCollection);
        }
    };
    DOM.prototype.getCss = function (propertyName) {
        return getComputedStyle(this.elements[0])[propertyName];
    };
    DOM.prototype.setCss = function (propertyName, value) {
        this.forEach(function (element) {
            // <any> cast to resolve TS7015: http://stackoverflow.com/a/36627114/370252
            element.style[propertyName] = value;
        });
        return this;
    };
    DOM.prototype.setCssCollection = function (ruleValueCollection) {
        this.forEach(function (element) {
            // http://stackoverflow.com/a/34490573/370252
            Object.assign(element.style, ruleValueCollection);
        });
        return this;
    };
    return DOM;
}());
exports.DOM = DOM;


/***/ }),
/* 2 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var guid_1 = __webpack_require__(80);
var dom_1 = __webpack_require__(1);
var eventdispatcher_1 = __webpack_require__(3);
/**
 * The base class of the UI framework.
 * Each component must extend this class and optionally the config models.
 */
var Component = /** @class */ (function () {
    /**
     * Constructs a component with an optionally supplied config. All subclasses must call the constructor of their
     * superclass and then merge their configuration into the component's configuration.
     * @param config the configuration for the component
     */
    function Component(config) {
        if (config === void 0) { config = {}; }
        /**
         * The list of events that this component offers. These events should always be private and only directly
         * accessed from within the implementing component.
         *
         * Because TypeScript does not support private properties with the same name on different class hierarchy levels
         * (i.e. superclass and subclass cannot contain a private property with the same name), the default naming
         * convention for the event list of a component that should be followed by subclasses is the concatenation of the
         * camel-cased class name + 'Events' (e.g. SubClass extends Component => subClassEvents).
         * See {@link #componentEvents} for an example.
         *
         * Event properties should be named in camel case with an 'on' prefix and in the present tense. Async events may
         * have a start event (when the operation starts) in the present tense, and must have an end event (when the
         * operation ends) in the past tense (or present tense in special cases (e.g. onStart/onStarted or onPlay/onPlaying).
         * See {@link #componentEvents#onShow} for an example.
         *
         * Each event should be accompanied with a protected method named by the convention eventName + 'Event'
         * (e.g. onStartEvent), that actually triggers the event by calling {@link EventDispatcher#dispatch dispatch} and
         * passing a reference to the component as first parameter. Components should always trigger their events with these
         * methods. Implementing this pattern gives subclasses means to directly listen to the events by overriding the
         * method (and saving the overhead of passing a handler to the event dispatcher) and more importantly to trigger
         * these events without having access to the private event list.
         * See {@link #onShow} for an example.
         *
         * To provide external code the possibility to listen to this component's events (subscribe, unsubscribe, etc.),
         * each event should also be accompanied by a public getter function with the same name as the event's property,
         * that returns the {@link Event} obtained from the event dispatcher by calling {@link EventDispatcher#getEvent}.
         * See {@link #onShow} for an example.
         *
         * Full example for an event representing an example action in a example component:
         *
         * <code>
         * // Define an example component class with an example event
         * class ExampleComponent extends Component<ComponentConfig> {
           *
           *     private exampleComponentEvents = {
           *         onExampleAction: new EventDispatcher<ExampleComponent, NoArgs>()
           *     }
           *
           *     // constructor and other stuff...
           *
           *     protected onExampleActionEvent() {
           *        this.exampleComponentEvents.onExampleAction.dispatch(this);
           *    }
           *
           *    get onExampleAction(): Event<ExampleComponent, NoArgs> {
           *        return this.exampleComponentEvents.onExampleAction.getEvent();
           *    }
           * }
         *
         * // Create an instance of the component somewhere
         * var exampleComponentInstance = new ExampleComponent();
         *
         * // Subscribe to the example event on the component
         * exampleComponentInstance.onExampleAction.subscribe(function (sender: ExampleComponent) {
           *     console.log('onExampleAction of ' + sender + ' has fired!');
           * });
         * </code>
         */
        this.componentEvents = {
            onShow: new eventdispatcher_1.EventDispatcher(),
            onHide: new eventdispatcher_1.EventDispatcher(),
            onHoverChanged: new eventdispatcher_1.EventDispatcher(),
        };
        // Create the configuration for this component
        this.config = this.mergeConfig(config, {
            tag: 'div',
            id: 'mi-wbc-id-' + guid_1.Guid.next(),
            cssPrefix: 'mi-wbc',
            cssClass: 'ui-component',
            cssClasses: [],
            hidden: false,
        }, {});
    }
    /**
     * Initializes the component, e.g. by applying config settings.
     * This method must not be called from outside the UI framework.
     *
     * This method is automatically called by the {@link UIInstanceManager}. If the component is an inner component of
     * some component, and thus encapsulated abd managed internally and never directly exposed to the UIManager,
     * this method must be called from the managing component's {@link #initialize} method.
     */
    Component.prototype.initialize = function () {
        this.hidden = this.config.hidden;
        // Hide the component at initialization if it is configured to be hidden
        if (this.isHidden()) {
            this.hidden = false; // Set flag to false for the following hide() call to work (hide() checks the flag)
            this.hide();
        }
    };
    /**
     * Configures the component for the supplied Player and UIInstanceManager. This is the place where all the magic
     * happens, where components typically subscribe and react to events (on their DOM element, the Player, or the
     * UIInstanceManager), and basically everything that makes them interactive.
     * This method is called only once, when the UIManager initializes the UI.
     *
     * Subclasses usually overwrite this method to add their own functionality.
     *
     * @param player the player which this component controls
     * @param uimanager the UIInstanceManager that manages this component
     */
    Component.prototype.configure = function (player, uimanager) {
        var _this = this;
        this.onShow.subscribe(function () {
            uimanager.onComponentShow.dispatch(_this);
        });
        this.onHide.subscribe(function () {
            uimanager.onComponentHide.dispatch(_this);
        });
        // Track the hovered state of the element
        this.getDomElement().on('mouseenter', function () {
            _this.onHoverChangedEvent(true);
        });
        this.getDomElement().on('mouseleave', function () {
            _this.onHoverChangedEvent(false);
        });
    };
    /**
     * Releases all resources and dependencies that the component holds. Player, DOM, and UIManager events are
     * automatically removed during release and do not explicitly need to be removed here.
     * This method is called by the UIManager when it releases the UI.
     *
     * Subclasses that need to release resources should override this method and call super.release().
     */
    Component.prototype.release = function () {
        // Nothing to do here, override where necessary
    };
    /**
     * Generate the DOM element for this component.
     *
     * Subclasses usually overwrite this method to extend or replace the DOM element with their own design.
     */
    Component.prototype.toDomElement = function () {
        var element = new dom_1.DOM(this.config.tag, {
            'id': this.config.id,
            'class': this.getCssClasses(),
        });
        return element;
    };
    /**
     * Returns the DOM element of this component. Creates the DOM element if it does not yet exist.
     *
     * Should not be overwritten by subclasses.
     *
     * @returns {DOM}
     */
    Component.prototype.getDomElement = function () {
        if (!this.element) {
            this.element = this.toDomElement();
        }
        return this.element;
    };
    /**
     * Merges a configuration with a default configuration and a base configuration from the superclass.
     *
     * @param config the configuration settings for the components, as usually passed to the constructor
     * @param defaults a default configuration for settings that are not passed with the configuration
     * @param base configuration inherited from a superclass
     * @returns {Config}
     */
    Component.prototype.mergeConfig = function (config, defaults, base) {
        // Extend default config with supplied config
        var merged = Object.assign({}, base, defaults, config);
        // Return the extended config
        return merged;
    };
    /**
     * Helper method that returns a string of all CSS classes of the component.
     *
     * @returns {string}
     */
    Component.prototype.getCssClasses = function () {
        var _this = this;
        // Merge all CSS classes into single array
        var flattenedArray = [this.config.cssClass].concat(this.config.cssClasses);
        // Prefix classes
        flattenedArray = flattenedArray.map(function (css) {
            return _this.prefixCss(css);
        });
        // Join array values into a string
        var flattenedString = flattenedArray.join(' ');
        // Return trimmed string to prevent whitespace at the end from the join operation
        return flattenedString.trim();
    };
    Component.prototype.prefixCss = function (cssClassOrId) {
        return this.config.cssPrefix + '-' + cssClassOrId;
    };
    /**
     * Returns the configuration object of the component.
     * @returns {Config}
     */
    Component.prototype.getConfig = function () {
        return this.config;
    };
    /**
     * Hides the component if shown.
     * This method basically transfers the component into the hidden state. Actual hiding is done via CSS.
     */
    Component.prototype.hide = function () {
        if (!this.hidden) {
            this.hidden = true;
            this.getDomElement().addClass(this.prefixCss(Component.CLASS_HIDDEN));
            this.onHideEvent();
        }
    };
    /**
     * Shows the component if hidden.
     */
    Component.prototype.show = function () {
        if (this.hidden) {
            this.getDomElement().removeClass(this.prefixCss(Component.CLASS_HIDDEN));
            this.hidden = false;
            this.onShowEvent();
        }
    };
    /**
     * Determines if the component is hidden.
     * @returns {boolean} true if the component is hidden, else false
     */
    Component.prototype.isHidden = function () {
        return this.hidden;
    };
    /**
     * Determines if the component is shown.
     * @returns {boolean} true if the component is visible, else false
     */
    Component.prototype.isShown = function () {
        return !this.isHidden();
    };
    /**
     * Toggles the hidden state by hiding the component if it is shown, or showing it if hidden.
     */
    Component.prototype.toggleHidden = function () {
        if (this.isHidden()) {
            this.show();
        }
        else {
            this.hide();
        }
    };
    /**
     * Determines if the component is currently hovered.
     * @returns {boolean} true if the component is hovered, else false
     */
    Component.prototype.isHovered = function () {
        return this.hovered;
    };
    /**
     * Fires the onShow event.
     * See the detailed explanation on event architecture on the {@link #componentEvents events list}.
     */
    Component.prototype.onShowEvent = function () {
        this.componentEvents.onShow.dispatch(this);
    };
    /**
     * Fires the onHide event.
     * See the detailed explanation on event architecture on the {@link #componentEvents events list}.
     */
    Component.prototype.onHideEvent = function () {
        this.componentEvents.onHide.dispatch(this);
    };
    /**
     * Fires the onHoverChanged event.
     * See the detailed explanation on event architecture on the {@link #componentEvents events list}.
     */
    Component.prototype.onHoverChangedEvent = function (hovered) {
        this.hovered = hovered;
        this.componentEvents.onHoverChanged.dispatch(this, { hovered: hovered });
    };
    Object.defineProperty(Component.prototype, "onShow", {
        /**
         * Gets the event that is fired when the component is showing.
         * See the detailed explanation on event architecture on the {@link #componentEvents events list}.
         * @returns {Event<Component<Config>, NoArgs>}
         */
        get: function () {
            return this.componentEvents.onShow.getEvent();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Component.prototype, "onHide", {
        /**
         * Gets the event that is fired when the component is hiding.
         * See the detailed explanation on event architecture on the {@link #componentEvents events list}.
         * @returns {Event<Component<Config>, NoArgs>}
         */
        get: function () {
            return this.componentEvents.onHide.getEvent();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Component.prototype, "onHoverChanged", {
        /**
         * Gets the event that is fired when the component's hover-state is changing.
         * @returns {Event<Component<Config>, ComponentHoverChangedEventArgs>}
         */
        get: function () {
            return this.componentEvents.onHoverChanged.getEvent();
        },
        enumerable: true,
        configurable: true
    });
    /**
     * The classname that is attached to the element when it is in the hidden state.
     * @type {string}
     */
    Component.CLASS_HIDDEN = 'hidden';
    return Component;
}());
exports.Component = Component;


/***/ }),
/* 3 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var arrayutils_1 = __webpack_require__(11);
/**
 * Event dispatcher to subscribe and trigger events. Each event should have its own dispatcher.
 */
var EventDispatcher = /** @class */ (function () {
    function EventDispatcher() {
        this.listeners = [];
    }
    /**
     * {@inheritDoc}
     */
    EventDispatcher.prototype.subscribe = function (listener) {
        this.listeners.push(new EventListenerWrapper(listener));
    };
    /**
     * {@inheritDoc}
     */
    EventDispatcher.prototype.subscribeOnce = function (listener) {
        this.listeners.push(new EventListenerWrapper(listener, true));
    };
    /**
     * {@inheritDoc}
     */
    EventDispatcher.prototype.subscribeRateLimited = function (listener, rateMs) {
        this.listeners.push(new RateLimitedEventListenerWrapper(listener, rateMs));
    };
    /**
     * {@inheritDoc}
     */
    EventDispatcher.prototype.unsubscribe = function (listener) {
        // Iterate through listeners, compare with parameter, and remove if found
        // NOTE: In case we ever remove all matching listeners instead of just the first, we need to reverse-iterate here
        for (var i = 0; i < this.listeners.length; i++) {
            var subscribedListener = this.listeners[i];
            if (subscribedListener.listener === listener) {
                arrayutils_1.ArrayUtils.remove(this.listeners, subscribedListener);
                return true;
            }
        }
        return false;
    };
    /**
     * Removes all listeners from this dispatcher.
     */
    EventDispatcher.prototype.unsubscribeAll = function () {
        this.listeners = [];
    };
    /**
     * Dispatches an event to all subscribed listeners.
     * @param sender the source of the event
     * @param args the arguments for the event
     */
    EventDispatcher.prototype.dispatch = function (sender, args) {
        if (args === void 0) { args = null; }
        var listenersToRemove = [];
        // Call every listener
        // We iterate over a copy of the array of listeners to avoid the case where events are not fired on listeners when
        // listeners are unsubscribed from within the event handlers during a dispatch (because the indices change and
        // listeners are shifted within the array).
        // This means that listener x+1 will still be called if unsubscribed from within the handler of listener x, as well
        // as listener y+1 will not be called when subscribed from within the handler of listener y.
        // Array.slice(0) is the fastest array copy method according to: https://stackoverflow.com/a/21514254/370252
        var listeners = this.listeners.slice(0);
        for (var _i = 0, listeners_1 = listeners; _i < listeners_1.length; _i++) {
            var listener = listeners_1[_i];
            listener.fire(sender, args);
            if (listener.isOnce()) {
                listenersToRemove.push(listener);
            }
        }
        // Remove one-time listener
        for (var _a = 0, listenersToRemove_1 = listenersToRemove; _a < listenersToRemove_1.length; _a++) {
            var listenerToRemove = listenersToRemove_1[_a];
            arrayutils_1.ArrayUtils.remove(this.listeners, listenerToRemove);
        }
    };
    /**
     * Returns the event that this dispatcher manages and on which listeners can subscribe and unsubscribe event handlers.
     * @returns {Event}
     */
    EventDispatcher.prototype.getEvent = function () {
        // For now, just cast the event dispatcher to the event models. At some point in the future when the
        // codebase grows, it might make sense to split the dispatcher into separate dispatcher and event classes.
        return this;
    };
    return EventDispatcher;
}());
exports.EventDispatcher = EventDispatcher;
/**
 * A basic event listener wrapper to manage listeners within the {@link EventDispatcher}. This is a 'private' class
 * for internal dispatcher use and it is therefore not exported.
 */
var EventListenerWrapper = /** @class */ (function () {
    function EventListenerWrapper(listener, once) {
        if (once === void 0) { once = false; }
        this.eventListener = listener;
        this.once = once;
    }
    Object.defineProperty(EventListenerWrapper.prototype, "listener", {
        /**
         * Returns the wrapped event listener.
         * @returns {EventListener<Sender, Args>}
         */
        get: function () {
            return this.eventListener;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * Fires the wrapped event listener with the given arguments.
     * @param sender
     * @param args
     */
    EventListenerWrapper.prototype.fire = function (sender, args) {
        this.eventListener(sender, args);
    };
    /**
     * Checks if this listener is scheduled to be called only once.
     * @returns {boolean} once if true
     */
    EventListenerWrapper.prototype.isOnce = function () {
        return this.once;
    };
    return EventListenerWrapper;
}());
/**
 * Extends the basic {@link EventListenerWrapper} with rate-limiting functionality.
 */
var RateLimitedEventListenerWrapper = /** @class */ (function (_super) {
    __extends(RateLimitedEventListenerWrapper, _super);
    function RateLimitedEventListenerWrapper(listener, rateMs) {
        var _this = _super.call(this, listener) || this;
        _this.rateMs = rateMs;
        _this.lastFireTime = 0;
        // Wrap the event listener with an event listener that does the rate-limiting
        _this.rateLimitingEventListener = function (sender, args) {
            if (Date.now() - _this.lastFireTime > _this.rateMs) {
                // Only if enough time since the previous call has passed, call the
                // actual event listener and record the current time
                _this.fireSuper(sender, args);
                _this.lastFireTime = Date.now();
            }
        };
        return _this;
    }
    RateLimitedEventListenerWrapper.prototype.fireSuper = function (sender, args) {
        // Fire the actual external event listener
        _super.prototype.fire.call(this, sender, args);
    };
    RateLimitedEventListenerWrapper.prototype.fire = function (sender, args) {
        // Fire the internal rate-limiting listener instead of the external event listener
        this.rateLimitingEventListener(sender, args);
    };
    return RateLimitedEventListenerWrapper;
}(EventListenerWrapper));


/***/ }),
/* 4 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var selectbox_1 = __webpack_require__(8);
/**
 * Base class for all subtitles settings select box
 **/
var SubtitleSettingSelectBox = /** @class */ (function (_super) {
    __extends(SubtitleSettingSelectBox, _super);
    function SubtitleSettingSelectBox(config) {
        var _this = _super.call(this, config) || this;
        _this.settingsManager = config.settingsManager;
        _this.overlay = config.overlay;
        return _this;
    }
    /**
     * Removes a previously set class and adds the passed in class.
     * @param cssClass The new class to replace the previous class with or null to just remove the previous class
     */
    SubtitleSettingSelectBox.prototype.toggleOverlayClass = function (cssClass) {
        // Remove previous class if existing
        if (this.currentCssClass) {
            this.overlay.getDomElement().removeClass(this.currentCssClass);
            this.currentCssClass = null;
        }
        // Add new class if specified. If the new class is null, we don't add anything.
        if (cssClass) {
            this.currentCssClass = this.prefixCss(cssClass);
            this.overlay.getDomElement().addClass(this.currentCssClass);
        }
    };
    return SubtitleSettingSelectBox;
}(selectbox_1.SelectBox));
exports.SubtitleSettingSelectBox = SubtitleSettingSelectBox;


/***/ }),
/* 5 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var button_1 = __webpack_require__(7);
var eventdispatcher_1 = __webpack_require__(3);
/**
 * A button that can be toggled between 'on' and 'off' states.
 */
var ToggleButton = /** @class */ (function (_super) {
    __extends(ToggleButton, _super);
    function ToggleButton(config) {
        var _this = _super.call(this, config) || this;
        _this.toggleButtonEvents = {
            onToggle: new eventdispatcher_1.EventDispatcher(),
            onToggleOn: new eventdispatcher_1.EventDispatcher(),
            onToggleOff: new eventdispatcher_1.EventDispatcher(),
        };
        var defaultConfig = {
            cssClass: 'ui-togglebutton',
            onClass: 'on',
            offClass: 'off',
        };
        _this.config = _this.mergeConfig(config, defaultConfig, _this.config);
        return _this;
    }
    ToggleButton.prototype.configure = function (player, uimanager) {
        var config = this.getConfig();
        this.getDomElement().addClass(this.prefixCss(config.offClass));
    };
    /**
     * Toggles the button to the 'on' state.
     */
    ToggleButton.prototype.on = function () {
        if (this.isOff()) {
            var config = this.getConfig();
            this.onState = true;
            this.getDomElement().removeClass(this.prefixCss(config.offClass));
            this.getDomElement().addClass(this.prefixCss(config.onClass));
            this.onToggleEvent();
            this.onToggleOnEvent();
        }
    };
    /**
     * Toggles the button to the 'off' state.
     */
    ToggleButton.prototype.off = function () {
        if (this.isOn()) {
            var config = this.getConfig();
            this.onState = false;
            this.getDomElement().removeClass(this.prefixCss(config.onClass));
            this.getDomElement().addClass(this.prefixCss(config.offClass));
            this.onToggleEvent();
            this.onToggleOffEvent();
        }
    };
    /**
     * Toggle the button 'on' if it is 'off', or 'off' if it is 'on'.
     */
    ToggleButton.prototype.toggle = function () {
        if (this.isOn()) {
            this.off();
        }
        else {
            this.on();
        }
    };
    /**
     * Checks if the toggle button is in the 'on' state.
     * @returns {boolean} true if button is 'on', false if 'off'
     */
    ToggleButton.prototype.isOn = function () {
        return this.onState;
    };
    /**
     * Checks if the toggle button is in the 'off' state.
     * @returns {boolean} true if button is 'off', false if 'on'
     */
    ToggleButton.prototype.isOff = function () {
        return !this.isOn();
    };
    ToggleButton.prototype.onClickEvent = function () {
        _super.prototype.onClickEvent.call(this);
        // Fire the toggle event together with the click event
        // (they are technically the same, only the semantics are different)
        this.onToggleEvent();
    };
    ToggleButton.prototype.onToggleEvent = function () {
        this.toggleButtonEvents.onToggle.dispatch(this);
    };
    ToggleButton.prototype.onToggleOnEvent = function () {
        this.toggleButtonEvents.onToggleOn.dispatch(this);
    };
    ToggleButton.prototype.onToggleOffEvent = function () {
        this.toggleButtonEvents.onToggleOff.dispatch(this);
    };
    Object.defineProperty(ToggleButton.prototype, "onToggle", {
        /**
         * Gets the event that is fired when the button is toggled.
         * @returns {Event<ToggleButton<Config>, NoArgs>}
         */
        get: function () {
            return this.toggleButtonEvents.onToggle.getEvent();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ToggleButton.prototype, "onToggleOn", {
        /**
         * Gets the event that is fired when the button is toggled 'on'.
         * @returns {Event<ToggleButton<Config>, NoArgs>}
         */
        get: function () {
            return this.toggleButtonEvents.onToggleOn.getEvent();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ToggleButton.prototype, "onToggleOff", {
        /**
         * Gets the event that is fired when the button is toggled 'off'.
         * @returns {Event<ToggleButton<Config>, NoArgs>}
         */
        get: function () {
            return this.toggleButtonEvents.onToggleOff.getEvent();
        },
        enumerable: true,
        configurable: true
    });
    return ToggleButton;
}(button_1.Button));
exports.ToggleButton = ToggleButton;


/***/ }),
/* 6 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var component_1 = __webpack_require__(2);
var dom_1 = __webpack_require__(1);
var eventdispatcher_1 = __webpack_require__(3);
/**
 * A simple text label.
 *
 * DOM example:
 * <code>
 *     <span class='ui-label'>...some text...</span>
 * </code>
 */
var Label = /** @class */ (function (_super) {
    __extends(Label, _super);
    function Label(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.labelEvents = {
            onClick: new eventdispatcher_1.EventDispatcher(),
            onTextChanged: new eventdispatcher_1.EventDispatcher(),
        };
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-label',
        }, _this.config);
        _this.text = _this.config.text;
        return _this;
    }
    Label.prototype.toDomElement = function () {
        var _this = this;
        var labelElement = new dom_1.DOM('span', {
            'id': this.config.id,
            'class': this.getCssClasses(),
        }).html(this.text);
        labelElement.on('click', function () {
            _this.onClickEvent();
        });
        return labelElement;
    };
    /**
     * Set the text on this label.
     * @param text
     */
    Label.prototype.setText = function (text) {
        this.text = text;
        this.getDomElement().html(text);
        this.onTextChangedEvent(text);
    };
    /**
     * Gets the text on this label.
     * @return {string} The text on the label
     */
    Label.prototype.getText = function () {
        return this.text;
    };
    /**
     * Clears the text on this label.
     */
    Label.prototype.clearText = function () {
        this.getDomElement().html('');
        this.onTextChangedEvent(null);
    };
    /**
     * Tests if the label is empty and does not contain any text.
     * @return {boolean} True if the label is empty, else false
     */
    Label.prototype.isEmpty = function () {
        return !this.text;
    };
    /**
     * Fires the {@link #onClick} event.
     * Can be used by subclasses to listen to this event without subscribing an event listener by overwriting the method
     * and calling the super method.
     */
    Label.prototype.onClickEvent = function () {
        this.labelEvents.onClick.dispatch(this);
    };
    /**
     * Fires the {@link #onClick} event.
     * Can be used by subclasses to listen to this event without subscribing an event listener by overwriting the method
     * and calling the super method.
     */
    Label.prototype.onTextChangedEvent = function (text) {
        this.labelEvents.onTextChanged.dispatch(this, text);
    };
    Object.defineProperty(Label.prototype, "onClick", {
        /**
         * Gets the event that is fired when the label is clicked.
         * @returns {Event<Label<LabelConfig>, NoArgs>}
         */
        get: function () {
            return this.labelEvents.onClick.getEvent();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Label.prototype, "onTextChanged", {
        /**
         * Gets the event that is fired when the text on the label is changed.
         * @returns {Event<Label<LabelConfig>, string>}
         */
        get: function () {
            return this.labelEvents.onTextChanged.getEvent();
        },
        enumerable: true,
        configurable: true
    });
    return Label;
}(component_1.Component));
exports.Label = Label;


/***/ }),
/* 7 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var component_1 = __webpack_require__(2);
var dom_1 = __webpack_require__(1);
var eventdispatcher_1 = __webpack_require__(3);
/**
 * A simple clickable button.
 */
var Button = /** @class */ (function (_super) {
    __extends(Button, _super);
    function Button(config) {
        var _this = _super.call(this, config) || this;
        _this.buttonEvents = {
            onClick: new eventdispatcher_1.EventDispatcher(),
        };
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-button',
        }, _this.config);
        return _this;
    }
    Button.prototype.toDomElement = function () {
        var _this = this;
        // Create the button element with the text label
        var buttonElement = new dom_1.DOM('button', {
            'type': 'button',
            'id': this.config.id,
            'class': this.getCssClasses(),
        }).append(new dom_1.DOM('span', {
            'class': this.prefixCss('label'),
        }).html(this.config.text));
        // Listen for the click event on the button element and trigger the corresponding event on the button component
        buttonElement.on('click', function () {
            _this.onClickEvent();
        });
        return buttonElement;
    };
    /**
     * Sets text on the label of the button.
     * @param text the text to put into the label of the button
     */
    Button.prototype.setText = function (text) {
        this.getDomElement().find('.' + this.prefixCss('label')).html(text);
    };
    Button.prototype.onClickEvent = function () {
        this.buttonEvents.onClick.dispatch(this);
    };
    Object.defineProperty(Button.prototype, "onClick", {
        /**
         * Gets the event that is fired when the button is clicked.
         * @returns {Event<Button<Config>, NoArgs>}
         */
        get: function () {
            return this.buttonEvents.onClick.getEvent();
        },
        enumerable: true,
        configurable: true
    });
    return Button;
}(component_1.Component));
exports.Button = Button;


/***/ }),
/* 8 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var listselector_1 = __webpack_require__(32);
var dom_1 = __webpack_require__(1);
/**
 * A simple select box providing the possibility to select a single item out of a list of available items.
 *
 * DOM example:
 * <code>
 *     <select class='ui-selectbox'>
 *         <option value='key'>label</option>
 *         ...
 *     </select>
 * </code>
 */
var SelectBox = /** @class */ (function (_super) {
    __extends(SelectBox, _super);
    function SelectBox(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-selectbox',
        }, _this.config);
        return _this;
    }
    SelectBox.prototype.toDomElement = function () {
        var _this = this;
        var selectElement = new dom_1.DOM('select', {
            'id': this.config.id,
            'class': this.getCssClasses(),
        });
        this.selectElement = selectElement;
        this.updateDomItems();
        selectElement.on('change', function () {
            var value = selectElement.val();
            _this.onItemSelectedEvent(value, false);
        });
        return selectElement;
    };
    SelectBox.prototype.updateDomItems = function (selectedValue) {
        if (selectedValue === void 0) { selectedValue = null; }
        // Delete all children
        this.selectElement.empty();
        // Add updated children
        for (var _i = 0, _a = this.items; _i < _a.length; _i++) {
            var item = _a[_i];
            var optionElement = new dom_1.DOM('option', {
                'value': item.key,
            }).html(item.label);
            if (item.key === String(selectedValue)) { // convert selectedValue to string to catch 'null'/null case
                optionElement.attr('selected', 'selected');
            }
            this.selectElement.append(optionElement);
        }
    };
    SelectBox.prototype.onItemAddedEvent = function (value) {
        _super.prototype.onItemAddedEvent.call(this, value);
        this.updateDomItems(this.selectedItem);
    };
    SelectBox.prototype.onItemRemovedEvent = function (value) {
        _super.prototype.onItemRemovedEvent.call(this, value);
        this.updateDomItems(this.selectedItem);
    };
    SelectBox.prototype.onItemSelectedEvent = function (value, updateDomItems) {
        if (updateDomItems === void 0) { updateDomItems = true; }
        _super.prototype.onItemSelectedEvent.call(this, value);
        if (updateDomItems) {
            this.updateDomItems(value);
        }
    };
    return SelectBox;
}(listselector_1.ListSelector));
exports.SelectBox = SelectBox;


/***/ }),
/* 9 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
// TODO change to internal (not exported) class, how to use in other files?
/**
 * Executes a callback after a specified amount of time, optionally repeatedly until stopped.
 */
var Timeout = /** @class */ (function () {
    /**
     * Creates a new timeout callback handler.
     * @param delay the delay in milliseconds after which the callback should be executed
     * @param callback the callback to execute after the delay time
     * @param repeat if true, call the callback repeatedly in delay intervals
     */
    function Timeout(delay, callback, repeat) {
        if (repeat === void 0) { repeat = false; }
        this.delay = delay;
        this.callback = callback;
        this.repeat = repeat;
        this.timeoutHandle = 0;
    }
    /**
     * Starts the timeout and calls the callback when the timeout delay has passed.
     * @returns {Timeout} the current timeout (so the start call can be chained to the constructor)
     */
    Timeout.prototype.start = function () {
        this.reset();
        return this;
    };
    /**
     * Clears the timeout. The callback will not be called if clear is called during the timeout.
     */
    Timeout.prototype.clear = function () {
        this.clearInternal();
    };
    /**
     * Resets the passed timeout delay to zero. Can be used to defer the calling of the callback.
     */
    Timeout.prototype.reset = function () {
        var _this = this;
        var lastScheduleTime = 0;
        var delayAdjust = 0;
        this.clearInternal();
        var internalCallback = function () {
            _this.callback();
            if (_this.repeat) {
                var now = Date.now();
                // The time of one iteration from scheduling to executing the callback (usually a bit longer than the delay
                // time)
                var delta = now - lastScheduleTime;
                // Calculate the delay adjustment for the next schedule to keep a steady delay interval over time
                delayAdjust = _this.delay - delta + delayAdjust;
                lastScheduleTime = now;
                // Schedule next execution by the adjusted delay
                _this.timeoutHandle = setTimeout(internalCallback, _this.delay + delayAdjust);
            }
        };
        lastScheduleTime = Date.now();
        this.timeoutHandle = setTimeout(internalCallback, this.delay);
    };
    Timeout.prototype.clearInternal = function () {
        clearTimeout(this.timeoutHandle);
    };
    return Timeout;
}());
exports.Timeout = Timeout;


/***/ }),
/* 10 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var StringUtils;
(function (StringUtils) {
    StringUtils.FORMAT_HHMMSS = 'hh:mm:ss';
    StringUtils.FORMAT_MMSS = 'mm:ss';
    /**
     * Formats a number of seconds into a time string with the pattern hh:mm:ss.
     *
     * @param totalSeconds the total number of seconds to format to string
     * @param format the time format to output (default: hh:mm:ss)
     * @returns {string} the formatted time string
     */
    function secondsToTime(totalSeconds, format) {
        if (format === void 0) { format = StringUtils.FORMAT_HHMMSS; }
        var isNegative = totalSeconds < 0;
        if (isNegative) {
            // If the time is negative, we make it positive for the calculation below
            // (else we'd get all negative numbers) and reattach the negative sign later.
            totalSeconds = -totalSeconds;
        }
        // Split into separate time parts
        var hours = Math.floor(totalSeconds / 3600);
        var minutes = Math.floor(totalSeconds / 60) - hours * 60;
        var seconds = Math.floor(totalSeconds) % 60;
        return (isNegative ? '-' : '') + format
            .replace('hh', leftPadWithZeros(hours, 2))
            .replace('mm', leftPadWithZeros(minutes, 2))
            .replace('ss', leftPadWithZeros(seconds, 2));
    }
    StringUtils.secondsToTime = secondsToTime;
    /**
     * Converts a number to a string and left-pads it with zeros to the specified length.
     * Example: leftPadWithZeros(123, 5) => '00123'
     *
     * @param num the number to convert to string and pad with zeros
     * @param length the desired length of the padded string
     * @returns {string} the padded number as string
     */
    function leftPadWithZeros(num, length) {
        var text = num + '';
        var padding = '0000000000'.substr(0, length - text.length);
        return padding + text;
    }
    /**
     * Fills out placeholders in an ad message.
     *
     * Has the placeholders '{remainingTime[formatString]}', '{playedTime[formatString]}' and
     * '{adDuration[formatString]}', which are replaced by the remaining time until the ad can be skipped, the current
     * time or the ad duration. The format string is optional. If not specified, the placeholder is replaced by the time
     * in seconds. If specified, it must be of the following format:
     * - %d - Inserts the time as an integer.
     * - %0Nd - Inserts the time as an integer with leading zeroes, if the length of the time string is smaller than N.
     * - %f - Inserts the time as a float.
     * - %0Nf - Inserts the time as a float with leading zeroes.
     * - %.Mf - Inserts the time as a float with M decimal places. Can be combined with %0Nf, e.g. %04.2f (the time
     * 10.123
     * would be printed as 0010.12).
     * - %hh:mm:ss
     * - %mm:ss
     *
     * @param adMessage an ad message with optional placeholders to fill
     * @param skipOffset if specified, {remainingTime} will be filled with the remaining time until the ad can be skipped
     * @param player the player to get the time data from
     * @returns {string} the ad message with filled placeholders
     */
    function replaceAdMessagePlaceholders(adMessage, skipOffset, player) {
        var adMessagePlaceholderRegex = new RegExp('\\{(remainingTime|playedTime|adDuration)(}|%((0[1-9]\\d*(\\.\\d+(d|f)|d|f)|\\.\\d+f|d|f)|hh:mm:ss|mm:ss)})', 'g');
        return adMessage.replace(adMessagePlaceholderRegex, function (formatString) {
            var time = 0;
            if (formatString.indexOf('remainingTime') > -1) {
                if (skipOffset) {
                    time = Math.ceil(skipOffset - player.getCurrentTime());
                }
                else {
                    time = player.getDuration() - player.getCurrentTime();
                }
            }
            else if (formatString.indexOf('playedTime') > -1) {
                time = player.getCurrentTime();
            }
            else if (formatString.indexOf('adDuration') > -1) {
                time = player.getDuration();
            }
            return formatNumber(time, formatString);
        });
    }
    StringUtils.replaceAdMessagePlaceholders = replaceAdMessagePlaceholders;
    function formatNumber(time, format) {
        var formatStringValidationRegex = /%((0[1-9]\d*(\.\d+(d|f)|d|f)|\.\d+f|d|f)|hh:mm:ss|mm:ss)/;
        var leadingZeroesRegex = /(%0[1-9]\d*)(?=(\.\d+f|f|d))/;
        var decimalPlacesRegex = /\.\d*(?=f)/;
        if (!formatStringValidationRegex.test(format)) {
            // If the format is invalid, we set a default fallback format
            format = '%d';
        }
        // Determine the number of leading zeros
        var leadingZeroes = 0;
        var leadingZeroesMatches = format.match(leadingZeroesRegex);
        if (leadingZeroesMatches) {
            leadingZeroes = parseInt(leadingZeroesMatches[0].substring(2));
        }
        // Determine the number of decimal places
        var numDecimalPlaces = null;
        var decimalPlacesMatches = format.match(decimalPlacesRegex);
        if (decimalPlacesMatches && !isNaN(parseInt(decimalPlacesMatches[0].substring(1)))) {
            numDecimalPlaces = parseInt(decimalPlacesMatches[0].substring(1));
            if (numDecimalPlaces > 20) {
                numDecimalPlaces = 20;
            }
        }
        // Float format
        if (format.indexOf('f') > -1) {
            var timeString = '';
            if (numDecimalPlaces !== null) {
                // Apply fixed number of decimal places
                timeString = time.toFixed(numDecimalPlaces);
            }
            else {
                timeString = '' + time;
            }
            // Apply leading zeros
            if (timeString.indexOf('.') > -1) {
                return leftPadWithZeros(timeString, timeString.length + (leadingZeroes - timeString.indexOf('.')));
            }
            else {
                return leftPadWithZeros(timeString, leadingZeroes);
            }
        }
        // Time format
        else if (format.indexOf(':') > -1) {
            var totalSeconds = Math.ceil(time);
            // hh:mm:ss format
            if (format.indexOf('hh') > -1) {
                return secondsToTime(totalSeconds);
            }
            // mm:ss format
            else {
                var minutes = Math.floor(totalSeconds / 60);
                var seconds = totalSeconds % 60;
                return leftPadWithZeros(minutes, 2) + ':' + leftPadWithZeros(seconds, 2);
            }
        }
        // Integer format
        else {
            return leftPadWithZeros(Math.ceil(time), leadingZeroes);
        }
    }
})(StringUtils = exports.StringUtils || (exports.StringUtils = {}));


/***/ }),
/* 11 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var ArrayUtils;
(function (ArrayUtils) {
    /**
     * Removes an item from an array.
     * @param array the array that may contain the item to remove
     * @param item the item to remove from the array
     * @returns {any} the removed item or null if it wasn't part of the array
     */
    function remove(array, item) {
        var index = array.indexOf(item);
        if (index > -1) {
            return array.splice(index, 1)[0];
        }
        else {
            return null;
        }
    }
    ArrayUtils.remove = remove;
})(ArrayUtils = exports.ArrayUtils || (exports.ArrayUtils = {}));


/***/ }),
/* 12 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var eventdispatcher_1 = __webpack_require__(3);
var browserutils_1 = __webpack_require__(14);
var PlayerUtils;
(function (PlayerUtils) {
    var PlayerState;
    (function (PlayerState) {
        PlayerState[PlayerState["IDLE"] = 0] = "IDLE";
        PlayerState[PlayerState["PREPARED"] = 1] = "PREPARED";
        PlayerState[PlayerState["PLAYING"] = 2] = "PLAYING";
        PlayerState[PlayerState["PAUSED"] = 3] = "PAUSED";
        PlayerState[PlayerState["FINISHED"] = 4] = "FINISHED";
    })(PlayerState = PlayerUtils.PlayerState || (PlayerUtils.PlayerState = {}));
    function isTimeShiftAvailable(player) {
        return player.isLive() && player.getMaxTimeShift() !== 0;
    }
    PlayerUtils.isTimeShiftAvailable = isTimeShiftAvailable;
    function getState(player) {
        if (player.hasEnded()) {
            return PlayerState.FINISHED;
        }
        else if (player.isPlaying()) {
            return PlayerState.PLAYING;
        }
        else if (player.isPaused()) {
            return PlayerState.PAUSED;
        }
        else if (player.isReady()) {
            return PlayerState.PREPARED;
        }
        else {
            return PlayerState.IDLE;
        }
    }
    PlayerUtils.getState = getState;
    var TimeShiftAvailabilityDetector = /** @class */ (function () {
        function TimeShiftAvailabilityDetector(player) {
            var _this = this;
            this.timeShiftAvailabilityChangedEvent = new eventdispatcher_1.EventDispatcher();
            this.player = player;
            this.timeShiftAvailable = undefined;
            var timeShiftDetector = function () {
                _this.detect();
            };
            // Try to detect timeshift availability in ON_READY, which works for DASH streams
            player.addEventHandler(player.EVENT.ON_READY, timeShiftDetector);
            // With HLS/NativePlayer streams, getMaxTimeShift can be 0 before the buffer fills, so we need to additionally
            // check timeshift availability in ON_TIME_CHANGED
            player.addEventHandler(player.EVENT.ON_TIME_CHANGED, timeShiftDetector);
        }
        TimeShiftAvailabilityDetector.prototype.detect = function () {
            if (this.player.isLive()) {
                var timeShiftAvailableNow = PlayerUtils.isTimeShiftAvailable(this.player);
                // When the availability changes, we fire the event
                if (timeShiftAvailableNow !== this.timeShiftAvailable) {
                    this.timeShiftAvailabilityChangedEvent.dispatch(this.player, { timeShiftAvailable: timeShiftAvailableNow });
                    this.timeShiftAvailable = timeShiftAvailableNow;
                }
            }
        };
        Object.defineProperty(TimeShiftAvailabilityDetector.prototype, "onTimeShiftAvailabilityChanged", {
            get: function () {
                return this.timeShiftAvailabilityChangedEvent.getEvent();
            },
            enumerable: true,
            configurable: true
        });
        return TimeShiftAvailabilityDetector;
    }());
    PlayerUtils.TimeShiftAvailabilityDetector = TimeShiftAvailabilityDetector;
    /**
     * Detects changes of the stream type, i.e. changes of the return value of the player#isLive method.
     * Normally, a stream cannot change its type during playback, it's either VOD or live. Due to bugs on some
     * platforms or browsers, it can still change. It is therefore unreliable to just check #isLive and this detector
     * should be used as a workaround instead.
     *
     * Known cases:
     *
     * - HLS VOD on Android 4.3
     * Video duration is initially 'Infinity' and only gets available after playback starts, so streams are wrongly
     * reported as 'live' before playback (the live-check in the player checks for infinite duration).
     */
    var LiveStreamDetector = /** @class */ (function () {
        function LiveStreamDetector(player) {
            var _this = this;
            this.liveChangedEvent = new eventdispatcher_1.EventDispatcher();
            this.player = player;
            this.live = undefined;
            var liveDetector = function () {
                _this.detect();
            };
            // Initialize when player is ready
            player.addEventHandler(player.EVENT.ON_READY, liveDetector);
            // Re-evaluate when playback starts
            player.addEventHandler(player.EVENT.ON_PLAY, liveDetector);
            // HLS live detection workaround for Android:
            // Also re-evaluate during playback, because that is when the live flag might change.
            // (Doing it only in Android Chrome saves unnecessary overhead on other plattforms)
            if (browserutils_1.BrowserUtils.isAndroid && browserutils_1.BrowserUtils.isChrome) {
                player.addEventHandler(player.EVENT.ON_TIME_CHANGED, liveDetector);
            }
        }
        LiveStreamDetector.prototype.detect = function () {
            var liveNow = this.player.isLive();
            // Compare current to previous live state flag and fire event when it changes. Since we initialize the flag
            // with undefined, there is always at least an initial event fired that tells listeners the live state.
            if (liveNow !== this.live) {
                this.liveChangedEvent.dispatch(this.player, { live: liveNow });
                this.live = liveNow;
            }
        };
        Object.defineProperty(LiveStreamDetector.prototype, "onLiveChanged", {
            get: function () {
                return this.liveChangedEvent.getEvent();
            },
            enumerable: true,
            configurable: true
        });
        return LiveStreamDetector;
    }());
    PlayerUtils.LiveStreamDetector = LiveStreamDetector;
})(PlayerUtils = exports.PlayerUtils || (exports.PlayerUtils = {}));


/***/ }),
/* 13 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var container_1 = __webpack_require__(0);
var dom_1 = __webpack_require__(1);
var timeout_1 = __webpack_require__(9);
var playerutils_1 = __webpack_require__(12);
/**
 * The base container that contains all of the UI. The UIContainer is passed to the {@link UIManager} to build and
 * setup the UI.
 */
var UIContainer = /** @class */ (function (_super) {
    __extends(UIContainer, _super);
    function UIContainer(config) {
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-uicontainer',
            hideDelay: 5000,
        }, _this.config);
        return _this;
    }
    UIContainer.prototype.configure = function (player, uimanager) {
        _super.prototype.configure.call(this, player, uimanager);
        this.configureUIShowHide(player, uimanager);
        this.configurePlayerStates(player, uimanager);
    };
    UIContainer.prototype.configureUIShowHide = function (player, uimanager) {
        var _this = this;
        var container = this.getDomElement();
        var config = this.getConfig();
        if (config.hideDelay === -1) {
            uimanager.onConfigured.subscribe(function () { return uimanager.onControlsShow.dispatch(_this); });
            return;
        }
        var isUiShown = false;
        var isSeeking = false;
        var isFirstTouch = true;
        var showUi = function () {
            if (!isUiShown) {
                // Let subscribers know that they should reveal themselves
                uimanager.onControlsShow.dispatch(_this);
                isUiShown = true;
            }
            // Don't trigger timeout while seeking (it will be triggered once the seek is finished) or casting
            if (!isSeeking && !player.isCasting()) {
                _this.uiHideTimeout.start();
            }
        };
        var hideUi = function () {
            // Hide the UI only if it is shown, and if not casting
            if (isUiShown && !player.isCasting()) {
                // Issue a preview event to check if we are good to hide the controls
                var previewHideEventArgs = {};
                uimanager.onPreviewControlsHide.dispatch(_this, previewHideEventArgs);
                if (!previewHideEventArgs.cancel) {
                    // If the preview wasn't canceled, let subscribers know that they should now hide themselves
                    uimanager.onControlsHide.dispatch(_this);
                    isUiShown = false;
                }
                else {
                    // If the hide preview was canceled, continue to show UI
                    showUi();
                }
            }
        };
        // Timeout to defer UI hiding by the configured delay time
        this.uiHideTimeout = new timeout_1.Timeout(config.hideDelay, hideUi);
        // On touch displays, the first touch reveals the UI
        container.on('touchend', function (e) {
            if (!isUiShown) {
                // Only if the UI is hidden, we prevent other actions (except for the first touch) and reveal the UI instead.
                // The first touch is not prevented to let other listeners receive the event and trigger an initial action, e.g.
                // the huge playback button can directly start playback instead of requiring a double tap which 1. reveals
                // the UI and 2. starts playback.
                if (isFirstTouch) {
                    isFirstTouch = false;
                }
                else {
                    e.preventDefault();
                }
                showUi();
            }
        });
        // When the mouse enters, we show the UI
        container.on('mouseenter', function () {
            showUi();
        });
        // When the mouse moves within, we show the UI
        container.on('mousemove', function () {
            showUi();
        });
        // When the mouse leaves, we can prepare to hide the UI, except a seek is going on
        container.on('mouseleave', function () {
            // When a seek is going on, the seek scrub pointer may exit the UI area while still seeking, and we do not hide
            // the UI in such cases
            if (!isSeeking) {
                _this.uiHideTimeout.start();
            }
        });
        uimanager.onSeek.subscribe(function () {
            _this.uiHideTimeout.clear(); // Don't hide UI while a seek is in progress
            isSeeking = true;
        });
        uimanager.onSeeked.subscribe(function () {
            isSeeking = false;
            _this.uiHideTimeout.start(); // Re-enable UI hide timeout after a seek
        });
        player.addEventHandler(player.EVENT.ON_CAST_STARTED, function () {
            showUi(); // Show UI when a Cast session has started (UI will then stay permanently on during the session)
        });
    };
    UIContainer.prototype.configurePlayerStates = function (player, uimanager) {
        var _this = this;
        var container = this.getDomElement();
        // Convert player states into CSS class names
        var stateClassNames = [];
        for (var state in playerutils_1.PlayerUtils.PlayerState) {
            if (isNaN(Number(state))) {
                var enumName = playerutils_1.PlayerUtils.PlayerState[playerutils_1.PlayerUtils.PlayerState[state]];
                stateClassNames[playerutils_1.PlayerUtils.PlayerState[state]] =
                    this.prefixCss(UIContainer.STATE_PREFIX + enumName.toLowerCase());
            }
        }
        var removeStates = function () {
            container.removeClass(stateClassNames[playerutils_1.PlayerUtils.PlayerState.IDLE]);
            container.removeClass(stateClassNames[playerutils_1.PlayerUtils.PlayerState.PREPARED]);
            container.removeClass(stateClassNames[playerutils_1.PlayerUtils.PlayerState.PLAYING]);
            container.removeClass(stateClassNames[playerutils_1.PlayerUtils.PlayerState.PAUSED]);
            container.removeClass(stateClassNames[playerutils_1.PlayerUtils.PlayerState.FINISHED]);
        };
        player.addEventHandler(player.EVENT.ON_READY, function () {
            removeStates();
            container.addClass(stateClassNames[playerutils_1.PlayerUtils.PlayerState.PREPARED]);
        });
        player.addEventHandler(player.EVENT.ON_PLAY, function () {
            removeStates();
            container.addClass(stateClassNames[playerutils_1.PlayerUtils.PlayerState.PLAYING]);
        });
        player.addEventHandler(player.EVENT.ON_PAUSED, function () {
            removeStates();
            container.addClass(stateClassNames[playerutils_1.PlayerUtils.PlayerState.PAUSED]);
        });
        player.addEventHandler(player.EVENT.ON_PLAYBACK_FINISHED, function () {
            removeStates();
            container.addClass(stateClassNames[playerutils_1.PlayerUtils.PlayerState.FINISHED]);
        });
        player.addEventHandler(player.EVENT.ON_SOURCE_UNLOADED, function () {
            removeStates();
            container.addClass(stateClassNames[playerutils_1.PlayerUtils.PlayerState.IDLE]);
        });
        // Init in current player state
        container.addClass(stateClassNames[playerutils_1.PlayerUtils.getState(player)]);
        // Fullscreen marker class
        player.addEventHandler(player.EVENT.ON_FULLSCREEN_ENTER, function () {
            container.addClass(_this.prefixCss(UIContainer.FULLSCREEN));
        });
        player.addEventHandler(player.EVENT.ON_FULLSCREEN_EXIT, function () {
            container.removeClass(_this.prefixCss(UIContainer.FULLSCREEN));
        });
        // Init fullscreen state
        if (player.isFullscreen()) {
            container.addClass(this.prefixCss(UIContainer.FULLSCREEN));
        }
        // Buffering marker class
        player.addEventHandler(player.EVENT.ON_STALL_STARTED, function () {
            container.addClass(_this.prefixCss(UIContainer.BUFFERING));
        });
        player.addEventHandler(player.EVENT.ON_STALL_ENDED, function () {
            container.removeClass(_this.prefixCss(UIContainer.BUFFERING));
        });
        // Init buffering state
        if (player.isStalled()) {
            container.addClass(this.prefixCss(UIContainer.BUFFERING));
        }
        // RemoteControl marker class
        player.addEventHandler(player.EVENT.ON_CAST_STARTED, function () {
            container.addClass(_this.prefixCss(UIContainer.REMOTE_CONTROL));
        });
        player.addEventHandler(player.EVENT.ON_CAST_STOPPED, function () {
            container.removeClass(_this.prefixCss(UIContainer.REMOTE_CONTROL));
        });
        // Init RemoteControl state
        if (player.isCasting()) {
            container.addClass(this.prefixCss(UIContainer.REMOTE_CONTROL));
        }
        // Controls visibility marker class
        uimanager.onControlsShow.subscribe(function () {
            container.removeClass(_this.prefixCss(UIContainer.CONTROLS_HIDDEN));
            container.addClass(_this.prefixCss(UIContainer.CONTROLS_SHOWN));
        });
        uimanager.onControlsHide.subscribe(function () {
            container.removeClass(_this.prefixCss(UIContainer.CONTROLS_SHOWN));
            container.addClass(_this.prefixCss(UIContainer.CONTROLS_HIDDEN));
        });
        // Layout size classes
        var updateLayoutSizeClasses = function (width, height) {
            container.removeClass(_this.prefixCss('layout-max-width-400'));
            container.removeClass(_this.prefixCss('layout-max-width-600'));
            container.removeClass(_this.prefixCss('layout-max-width-800'));
            container.removeClass(_this.prefixCss('layout-max-width-1200'));
            if (width <= 400) {
                container.addClass(_this.prefixCss('layout-max-width-400'));
            }
            else if (width <= 600) {
                container.addClass(_this.prefixCss('layout-max-width-600'));
            }
            else if (width <= 800) {
                container.addClass(_this.prefixCss('layout-max-width-800'));
            }
            else if (width <= 1200) {
                container.addClass(_this.prefixCss('layout-max-width-1200'));
            }
        };
        player.addEventHandler(player.EVENT.ON_PLAYER_RESIZE, function (e) {
            // Convert strings (with "px" suffix) to ints
            var width = Math.round(Number(e.width.substring(0, e.width.length - 2)));
            var height = Math.round(Number(e.height.substring(0, e.height.length - 2)));
            updateLayoutSizeClasses(width, height);
        });
        // Init layout state
        updateLayoutSizeClasses(new dom_1.DOM(player.getFigure()).width(), new dom_1.DOM(player.getFigure()).height());
    };
    UIContainer.prototype.release = function () {
        _super.prototype.release.call(this);
        this.uiHideTimeout.clear();
    };
    UIContainer.prototype.toDomElement = function () {
        var container = _super.prototype.toDomElement.call(this);
        // Detect flexbox support (not supported in IE9)
        if (document && typeof document.createElement('p').style.flex !== 'undefined') {
            container.addClass(this.prefixCss('flexbox'));
        }
        else {
            container.addClass(this.prefixCss('no-flexbox'));
        }
        return container;
    };
    UIContainer.STATE_PREFIX = 'player-state-';
    UIContainer.FULLSCREEN = 'fullscreen';
    UIContainer.BUFFERING = 'buffering';
    UIContainer.REMOTE_CONTROL = 'remote-control';
    UIContainer.CONTROLS_SHOWN = 'controls-shown';
    UIContainer.CONTROLS_HIDDEN = 'controls-hidden';
    return UIContainer;
}(container_1.Container));
exports.UIContainer = UIContainer;


/***/ }),
/* 14 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var BrowserUtils;
(function (BrowserUtils) {
    // isMobile only needs to be evaluated once (it cannot change during a browser session)
    // Mobile detection according to Mozilla recommendation: "In summary, we recommend looking for the string “Mobi”
    // anywhere in the User Agent to detect a mobile device."
    // https://developer.mozilla.org/en-US/docs/Web/HTTP/Browser_detection_using_the_user_agent
    BrowserUtils.isMobile = navigator && navigator.userAgent && /Mobi/.test(navigator.userAgent);
    BrowserUtils.isChrome = navigator && navigator.userAgent && /Chrome/.test(navigator.userAgent);
    BrowserUtils.isAndroid = navigator && navigator.userAgent && /Android/.test(navigator.userAgent);
})(BrowserUtils = exports.BrowserUtils || (exports.BrowserUtils = {}));


/***/ }),
/* 15 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var togglebutton_1 = __webpack_require__(5);
var playerutils_1 = __webpack_require__(12);
/**
 * A button that toggles between playback and pause.
 */
var PlaybackToggleButton = /** @class */ (function (_super) {
    __extends(PlaybackToggleButton, _super);
    function PlaybackToggleButton(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-playbacktogglebutton',
            text: 'Play/Pause',
        }, _this.config);
        return _this;
    }
    PlaybackToggleButton.prototype.configure = function (player, uimanager, handleClickEvent) {
        var _this = this;
        if (handleClickEvent === void 0) { handleClickEvent = true; }
        _super.prototype.configure.call(this, player, uimanager);
        var isSeeking = false;
        // Handler to update button state based on player state
        var playbackStateHandler = function (event) {
            // If the UI is currently seeking, playback is temporarily stopped but the buttons should
            // not reflect that and stay as-is (e.g indicate playback while seeking).
            if (isSeeking) {
                return;
            }
            if (player.isPlaying()) {
                _this.on();
            }
            else {
                _this.off();
            }
        };
        // Call handler upon these events
        player.addEventHandler(player.EVENT.ON_PLAY, playbackStateHandler);
        player.addEventHandler(player.EVENT.ON_PAUSED, playbackStateHandler);
        if (player.EVENT.ON_PLAYING) {
            // Since player 7.3. Not really necessary but just in case we ever miss the ON_PLAY event.
            player.addEventHandler(player.EVENT.ON_PLAYING, playbackStateHandler);
        }
        // after unloading + loading a new source, the player might be in a different playing state (from playing into stopped)
        player.addEventHandler(player.EVENT.ON_SOURCE_LOADED, playbackStateHandler);
        player.addEventHandler(player.EVENT.ON_SOURCE_UNLOADED, playbackStateHandler);
        // when playback finishes, player turns to paused mode
        player.addEventHandler(player.EVENT.ON_PLAYBACK_FINISHED, playbackStateHandler);
        player.addEventHandler(player.EVENT.ON_CAST_STARTED, playbackStateHandler);
        player.addEventHandler(player.EVENT.ON_CAST_PLAYING, playbackStateHandler);
        player.addEventHandler(player.EVENT.ON_CAST_PAUSED, playbackStateHandler);
        player.addEventHandler(player.EVENT.ON_CAST_PLAYBACK_FINISHED, playbackStateHandler);
        // When a playback attempt is rejected with warning 5008, we switch the button state back to off
        // This is required for blocked autoplay, because there is no ON_PAUSED event in such case
        player.addEventHandler(player.EVENT.ON_WARNING, function (event) {
            if (event.code === 5008) {
                _this.off();
            }
        });
        // Detect absence of timeshifting on live streams and add tagging class to convert button icons to play/stop
        var timeShiftDetector = new playerutils_1.PlayerUtils.TimeShiftAvailabilityDetector(player);
        timeShiftDetector.onTimeShiftAvailabilityChanged.subscribe(function (sender, args) {
            if (!args.timeShiftAvailable) {
                _this.getDomElement().addClass(_this.prefixCss(PlaybackToggleButton.CLASS_STOPTOGGLE));
            }
            else {
                _this.getDomElement().removeClass(_this.prefixCss(PlaybackToggleButton.CLASS_STOPTOGGLE));
            }
        });
        timeShiftDetector.detect(); // Initial detection
        if (handleClickEvent) {
            // Control player by button events
            // When a button event triggers a player API call, events are fired which in turn call the event handler
            // above that updated the button state.
            this.onClick.subscribe(function () {
                if (player.isPlaying()) {
                    player.pause('ui');
                }
                else {
                    player.play('ui');
                }
            });
        }
        // Track UI seeking status
        uimanager.onSeek.subscribe(function () {
            isSeeking = true;
        });
        uimanager.onSeeked.subscribe(function () {
            isSeeking = false;
        });
        // Startup init
        playbackStateHandler(null);
    };
    PlaybackToggleButton.CLASS_STOPTOGGLE = 'stoptoggle';
    return PlaybackToggleButton;
}(togglebutton_1.ToggleButton));
exports.PlaybackToggleButton = PlaybackToggleButton;


/***/ }),
/* 16 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var togglebutton_1 = __webpack_require__(5);
/**
 * A button that toggles audio muting.
 */
var VolumeToggleButton = /** @class */ (function (_super) {
    __extends(VolumeToggleButton, _super);
    function VolumeToggleButton(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        var defaultConfig = {
            cssClass: 'ui-volumetogglebutton',
            text: 'Volume/Mute',
            onClass: 'muted',
            offClass: 'unmuted',
        };
        _this.config = _this.mergeConfig(config, defaultConfig, _this.config);
        return _this;
    }
    VolumeToggleButton.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        var muteStateHandler = function () {
            if (player.isMuted()) {
                _this.on();
                // When the volume is unmuted and the volume level is veeeery low, we increase it to 10%. This especially helps
                // in the case when the volume is first turned down to 0 and then the player is muted; when the player gets
                // unmuted it would switch to volume level 0 which would seem like unmuting did not work, and increasing the
                // level a bit helps to overcome this issue.
                if (player.getVolume() < 10) {
                    player.setVolume(10);
                }
            }
            else {
                _this.off();
            }
        };
        var volumeLevelHandler = function () {
            var volumeLevelTens = Math.ceil(player.getVolume() / 10);
            _this.getDomElement().data(_this.prefixCss('volume-level-tens'), String(volumeLevelTens));
            // When the volume is turned down to zero, switch into the mute state of the button. This avoids the usability
            // issue where the volume is turned down to zero, the button shows the muted icon but is not really unmuted, and
            // the next button press would switch it into the mute state, visually staying the same which would seem like
            // an expected unmute did not work.
            if (volumeLevelTens === 0) {
                _this.off();
            }
        };
        player.addEventHandler(player.EVENT.ON_MUTED, muteStateHandler);
        player.addEventHandler(player.EVENT.ON_UNMUTED, muteStateHandler);
        player.addEventHandler(player.EVENT.ON_VOLUME_CHANGED, volumeLevelHandler);
        this.onClick.subscribe(function () {
            if (player.isMuted()) {
                player.unmute('ui-volumetogglebutton');
            }
            else {
                player.mute('ui-volumetogglebutton');
            }
        });
        // Startup init
        muteStateHandler();
        volumeLevelHandler();
    };
    return VolumeToggleButton;
}(togglebutton_1.ToggleButton));
exports.VolumeToggleButton = VolumeToggleButton;


/***/ }),
/* 17 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var component_1 = __webpack_require__(2);
var dom_1 = __webpack_require__(1);
var eventdispatcher_1 = __webpack_require__(3);
var timeout_1 = __webpack_require__(9);
var playerutils_1 = __webpack_require__(12);
/**
 * A seek bar to seek within the player's media. It displays the current playback position, amount of buffed data, seek
 * target, and keeps status about an ongoing seek.
 *
 * The seek bar displays different 'bars':
 *  - the playback position, i.e. the position in the media at which the player current playback pointer is positioned
 *  - the buffer position, which usually is the playback position plus the time span that is already buffered ahead
 *  - the seek position, used to preview to where in the timeline a seek will jump to
 */
var SeekBar = /** @class */ (function (_super) {
    __extends(SeekBar, _super);
    function SeekBar(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        /**
         * Buffer of the the current playback position. The position must be buffered in case the element
         * needs to be refreshed with {@link #refreshPlaybackPosition}.
         * @type {number}
         */
        _this.playbackPositionPercentage = 0;
        // https://hacks.mozilla.org/2013/04/detecting-touch-its-the-why-not-the-how/
        _this.touchSupported = ('ontouchstart' in window);
        _this.seekBarEvents = {
            /**
             * Fired when a scrubbing seek operation is started.
             */
            onSeek: new eventdispatcher_1.EventDispatcher(),
            /**
             * Fired during a scrubbing seek to indicate that the seek preview (i.e. the video frame) should be updated.
             */
            onSeekPreview: new eventdispatcher_1.EventDispatcher(),
            /**
             * Fired when a scrubbing seek has finished or when a direct seek is issued.
             */
            onSeeked: new eventdispatcher_1.EventDispatcher(),
        };
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-seekbar',
            vertical: false,
            smoothPlaybackPositionUpdateIntervalMs: 50,
        }, _this.config);
        _this.label = _this.config.label;
        _this.timelineMarkers = [];
        return _this;
    }
    SeekBar.prototype.initialize = function () {
        _super.prototype.initialize.call(this);
        if (this.hasLabel()) {
            this.getLabel().initialize();
        }
    };
    SeekBar.prototype.configure = function (player, uimanager, configureSeek) {
        var _this = this;
        if (configureSeek === void 0) { configureSeek = true; }
        _super.prototype.configure.call(this, player, uimanager);
        // Apply scaling transform to the backdrop bar to have all bars rendered similarly
        // (the call must be up here to be executed for the volume slider as well)
        this.setPosition(this.seekBarBackdrop, 100);
        if (!configureSeek) {
            // The configureSeek flag can be used by subclasses to disable configuration as seek bar. E.g. the volume
            // slider is reusing this component but adds its own functionality, and does not need the seek functionality.
            // This is actually a hack, the proper solution would be for both seek bar and volume sliders to extend
            // a common base slider component and implement their functionality there.
            return;
        }
        var isPlaying = false;
        var isSeeking = false;
        // Update playback and buffer positions
        var playbackPositionHandler = function (event, forceUpdate) {
            if (event === void 0) { event = null; }
            if (forceUpdate === void 0) { forceUpdate = false; }
            if (isSeeking) {
                // We caught a seek preview seek, do not update the seekbar
                return;
            }
            if (player.isLive()) {
                if (player.getMaxTimeShift() === 0) {
                    // This case must be explicitly handled to avoid division by zero
                    _this.setPlaybackPosition(100);
                }
                else {
                    var playbackPositionPercentage = 100 - (100 / player.getMaxTimeShift() * player.getTimeShift());
                    _this.setPlaybackPosition(playbackPositionPercentage);
                }
                // Always show full buffer for live streams
                _this.setBufferPosition(100);
            }
            else {
                var playbackPositionPercentage = 100 / player.getDuration() * player.getCurrentTime();
                var videoBufferLength = player.getVideoBufferLength();
                var audioBufferLength = player.getAudioBufferLength();
                // Calculate the buffer length which is the smaller length of the audio and video buffers. If one of these
                // buffers is not available, we set it's value to MAX_VALUE to make sure that the other real value is taken
                // as the buffer length.
                var bufferLength = Math.min(videoBufferLength != null ? videoBufferLength : Number.MAX_VALUE, audioBufferLength != null ? audioBufferLength : Number.MAX_VALUE);
                // If both buffer lengths are missing, we set the buffer length to zero
                if (bufferLength === Number.MAX_VALUE) {
                    bufferLength = 0;
                }
                var bufferPercentage = 100 / player.getDuration() * bufferLength;
                // Update playback position only in paused state or in the initial startup state where player is neither
                // paused nor playing. Playback updates are handled in the Timeout below.
                if (_this.config.smoothPlaybackPositionUpdateIntervalMs === SeekBar.SMOOTH_PLAYBACK_POSITION_UPDATE_DISABLED
                    || forceUpdate || player.isPaused() || (player.isPaused() === player.isPlaying())) {
                    _this.setPlaybackPosition(playbackPositionPercentage);
                }
                _this.setBufferPosition(playbackPositionPercentage + bufferPercentage);
            }
        };
        // Update seekbar upon these events
        // init playback position when the player is ready
        player.addEventHandler(player.EVENT.ON_READY, playbackPositionHandler);
        // update playback position when it changes
        player.addEventHandler(player.EVENT.ON_TIME_CHANGED, playbackPositionHandler);
        // update bufferlevel when buffering is complete
        player.addEventHandler(player.EVENT.ON_STALL_ENDED, playbackPositionHandler);
        // update playback position when a seek has finished
        player.addEventHandler(player.EVENT.ON_SEEKED, playbackPositionHandler);
        // update playback position when a timeshift has finished
        player.addEventHandler(player.EVENT.ON_TIME_SHIFTED, playbackPositionHandler);
        // update bufferlevel when a segment has been downloaded
        player.addEventHandler(player.EVENT.ON_SEGMENT_REQUEST_FINISHED, playbackPositionHandler);
        // update playback position of Cast playback
        player.addEventHandler(player.EVENT.ON_CAST_TIME_UPDATED, playbackPositionHandler);
        this.configureLivePausedTimeshiftUpdater(player, uimanager, playbackPositionHandler);
        // Seek handling
        player.addEventHandler(player.EVENT.ON_SEEK, function () {
            _this.setSeeking(true);
        });
        player.addEventHandler(player.EVENT.ON_SEEKED, function () {
            _this.setSeeking(false);
        });
        player.addEventHandler(player.EVENT.ON_TIME_SHIFT, function () {
            _this.setSeeking(true);
        });
        player.addEventHandler(player.EVENT.ON_TIME_SHIFTED, function () {
            _this.setSeeking(false);
        });
        var seek = function (percentage) {
            if (player.isLive()) {
                player.timeShift(player.getMaxTimeShift() - (player.getMaxTimeShift() * (percentage / 100)), 'ui');
            }
            else {
                player.seek(player.getDuration() * (percentage / 100), 'ui');
            }
        };
        this.onSeek.subscribe(function (sender) {
            isSeeking = true; // track seeking status so we can catch events from seek preview seeks
            // Notify UI manager of started seek
            uimanager.onSeek.dispatch(sender);
            // Save current playback state
            isPlaying = player.isPlaying();
            // Pause playback while seeking
            if (isPlaying) {
                player.pause('ui');
            }
        });
        this.onSeekPreview.subscribe(function (sender, args) {
            // Notify UI manager of seek preview
            uimanager.onSeekPreview.dispatch(sender, args);
        });
        this.onSeekPreview.subscribeRateLimited(function (sender, args) {
            // Rate-limited scrubbing seek
            if (args.scrubbing) {
                seek(args.position);
            }
        }, 200);
        this.onSeeked.subscribe(function (sender, percentage) {
            isSeeking = false;
            // Do the seek
            seek(percentage);
            // Continue playback after seek if player was playing when seek started
            if (isPlaying) {
                player.play('ui');
            }
            // Notify UI manager of finished seek
            uimanager.onSeeked.dispatch(sender);
        });
        if (this.hasLabel()) {
            // Configure a seekbar label that is internal to the seekbar)
            this.getLabel().configure(player, uimanager);
        }
        // Hide seekbar for live sources without timeshift
        var isLive = false;
        var hasTimeShift = false;
        var switchVisibility = function (isLive, hasTimeShift) {
            if (isLive && !hasTimeShift) {
                _this.hide();
            }
            else {
                _this.show();
            }
            playbackPositionHandler(null, true);
            _this.refreshPlaybackPosition();
        };
        var liveStreamDetector = new playerutils_1.PlayerUtils.LiveStreamDetector(player);
        liveStreamDetector.onLiveChanged.subscribe(function (sender, args) {
            isLive = args.live;
            switchVisibility(isLive, hasTimeShift);
        });
        var timeShiftDetector = new playerutils_1.PlayerUtils.TimeShiftAvailabilityDetector(player);
        timeShiftDetector.onTimeShiftAvailabilityChanged.subscribe(function (sender, args) {
            hasTimeShift = args.timeShiftAvailable;
            switchVisibility(isLive, hasTimeShift);
        });
        // Initial detection
        liveStreamDetector.detect();
        timeShiftDetector.detect();
        // Refresh the playback position when the player resized or the UI is configured. The playback position marker
        // is positioned absolutely and must therefore be updated when the size of the seekbar changes.
        player.addEventHandler(player.EVENT.ON_PLAYER_RESIZE, function () {
            _this.refreshPlaybackPosition();
        });
        // Additionally, when this code is called, the seekbar is not part of the UI yet and therefore does not have a size,
        // resulting in a wrong initial position of the marker. Refreshing it once the UI is configured solved this issue.
        uimanager.onConfigured.subscribe(function () {
            _this.refreshPlaybackPosition();
        });
        // It can also happen that the value changes once the player is ready, or when a new source is loaded, so we need
        // to update on ON_READY too
        player.addEventHandler(player.EVENT.ON_READY, function () {
            _this.refreshPlaybackPosition();
        });
        // Initialize seekbar
        playbackPositionHandler(); // Set the playback position
        this.setBufferPosition(0);
        this.setSeekPosition(0);
        if (this.config.smoothPlaybackPositionUpdateIntervalMs !== SeekBar.SMOOTH_PLAYBACK_POSITION_UPDATE_DISABLED) {
            this.configureSmoothPlaybackPositionUpdater(player, uimanager);
        }
        this.configureMarkers(player, uimanager);
    };
    /**
     * Update seekbar while a live stream with DVR window is paused.
     * The playback position stays still and the position indicator visually moves towards the back.
     */
    SeekBar.prototype.configureLivePausedTimeshiftUpdater = function (player, uimanager, playbackPositionHandler) {
        // Regularly update the playback position while the timeout is active
        var pausedTimeshiftUpdater = new timeout_1.Timeout(1000, playbackPositionHandler, true);
        // Start updater when a live stream with timeshift window is paused
        player.addEventHandler(player.EVENT.ON_PAUSED, function () {
            if (player.isLive() && player.getMaxTimeShift() < 0) {
                pausedTimeshiftUpdater.start();
            }
        });
        // Stop updater when playback continues (no matter if the updater was started before)
        player.addEventHandler(player.EVENT.ON_PLAY, function () { return pausedTimeshiftUpdater.clear(); });
    };
    SeekBar.prototype.configureSmoothPlaybackPositionUpdater = function (player, uimanager) {
        var _this = this;
        /*
         * Playback position update
         *
         * We do not update the position directly from the ON_TIME_CHANGED event, because it arrives very jittery and
         * results in a jittery position indicator since the CSS transition time is statically set.
         * To work around this issue, we maintain a local playback position that is updated in a stable regular interval
         * and kept in sync with the player.
         */
        var currentTimeSeekBar = 0;
        var currentTimePlayer = 0;
        var updateIntervalMs = 50;
        var currentTimeUpdateDeltaSecs = updateIntervalMs / 1000;
        this.smoothPlaybackPositionUpdater = new timeout_1.Timeout(updateIntervalMs, function () {
            currentTimeSeekBar += currentTimeUpdateDeltaSecs;
            currentTimePlayer = player.getCurrentTime();
            // Sync currentTime of seekbar to player
            var currentTimeDelta = currentTimeSeekBar - currentTimePlayer;
            // If the delta is larger that 2 secs, directly jump the seekbar to the
            // player time instead of smoothly fast forwarding/rewinding.
            if (Math.abs(currentTimeDelta) > 2) {
                currentTimeSeekBar = currentTimePlayer;
            }
            // If currentTimeDelta is negative and below the adjustment threshold,
            // the player is ahead of the seekbar and we 'fast forward' the seekbar
            else if (currentTimeDelta <= -currentTimeUpdateDeltaSecs) {
                currentTimeSeekBar += currentTimeUpdateDeltaSecs;
            }
            // If currentTimeDelta is positive and above the adjustment threshold,
            // the player is behind the seekbar and we 'rewind' the seekbar
            else if (currentTimeDelta >= currentTimeUpdateDeltaSecs) {
                currentTimeSeekBar -= currentTimeUpdateDeltaSecs;
            }
            var playbackPositionPercentage = 100 / player.getDuration() * currentTimeSeekBar;
            _this.setPlaybackPosition(playbackPositionPercentage);
        }, true);
        var startSmoothPlaybackPositionUpdater = function () {
            if (!player.isLive()) {
                currentTimeSeekBar = player.getCurrentTime();
                _this.smoothPlaybackPositionUpdater.start();
            }
        };
        var stopSmoothPlaybackPositionUpdater = function () {
            _this.smoothPlaybackPositionUpdater.clear();
        };
        player.addEventHandler(player.EVENT.ON_PLAY, startSmoothPlaybackPositionUpdater);
        player.addEventHandler(player.EVENT.ON_CAST_PLAYING, startSmoothPlaybackPositionUpdater);
        player.addEventHandler(player.EVENT.ON_PAUSED, stopSmoothPlaybackPositionUpdater);
        player.addEventHandler(player.EVENT.ON_CAST_PAUSED, stopSmoothPlaybackPositionUpdater);
        player.addEventHandler(player.EVENT.ON_PLAYBACK_FINISHED, stopSmoothPlaybackPositionUpdater);
        player.addEventHandler(player.EVENT.ON_SEEKED, function () {
            currentTimeSeekBar = player.getCurrentTime();
        });
        if (player.isPlaying()) {
            startSmoothPlaybackPositionUpdater();
        }
    };
    SeekBar.prototype.configureMarkers = function (player, uimanager) {
        var _this = this;
        var clearMarkers = function () {
            _this.timelineMarkers = [];
            _this.updateMarkers();
        };
        var setupMarkers = function () {
            clearMarkers();
            var duration = player.getDuration();
            if (duration === Infinity) {
                // Don't generate timeline markers if we don't yet have a duration
                // The duration check is for buggy platforms where the duration is not available instantly (Chrome on Android 4.3)
                return;
            }
            for (var _i = 0, _a = uimanager.getConfig().metadata.markers; _i < _a.length; _i++) {
                var marker = _a[_i];
                var markerPosition = 100 / duration * marker.time; // convert absolute time to percentage
                var markerDuration = 100 / duration * marker.duration;
                _this.timelineMarkers.push({ marker: marker, position: markerPosition, duration: markerDuration });
            }
            // Populate the timeline with the markers
            _this.updateMarkers();
        };
        // Add markers when a source is loaded
        player.addEventHandler(player.EVENT.ON_READY, setupMarkers);
        // Remove markers when unloaded
        player.addEventHandler(player.EVENT.ON_SOURCE_UNLOADED, clearMarkers);
        // Update markers when the size of the seekbar changes
        player.addEventHandler(player.EVENT.ON_PLAYER_RESIZE, function () { return _this.updateMarkers(); });
        // Update markers when a marker is added or removed
        uimanager.getConfig().events.onUpdated.subscribe(setupMarkers);
        uimanager.onRelease.subscribe(function () { return uimanager.getConfig().events.onUpdated.unsubscribe(setupMarkers); });
        // Init markers at startup
        setupMarkers();
    };
    SeekBar.prototype.release = function () {
        _super.prototype.release.call(this);
        if (this.smoothPlaybackPositionUpdater) { // object must not necessarily exist, e.g. in volume slider subclass
            this.smoothPlaybackPositionUpdater.clear();
        }
    };
    SeekBar.prototype.toDomElement = function () {
        var _this = this;
        if (this.config.vertical) {
            this.config.cssClasses.push('vertical');
        }
        var seekBarContainer = new dom_1.DOM('div', {
            'id': this.config.id,
            'class': this.getCssClasses(),
        });
        var seekBar = new dom_1.DOM('div', {
            'class': this.prefixCss('seekbar'),
        });
        this.seekBar = seekBar;
        // Indicator that shows the buffer fill level
        var seekBarBufferLevel = new dom_1.DOM('div', {
            'class': this.prefixCss('seekbar-bufferlevel'),
        });
        this.seekBarBufferPosition = seekBarBufferLevel;
        // Indicator that shows the current playback position
        var seekBarPlaybackPosition = new dom_1.DOM('div', {
            'class': this.prefixCss('seekbar-playbackposition'),
        });
        this.seekBarPlaybackPosition = seekBarPlaybackPosition;
        // A marker of the current playback position, e.g. a dot or line
        var seekBarPlaybackPositionMarker = new dom_1.DOM('div', {
            'class': this.prefixCss('seekbar-playbackposition-marker'),
        });
        this.seekBarPlaybackPositionMarker = seekBarPlaybackPositionMarker;
        // Indicator that show where a seek will go to
        var seekBarSeekPosition = new dom_1.DOM('div', {
            'class': this.prefixCss('seekbar-seekposition'),
        });
        this.seekBarSeekPosition = seekBarSeekPosition;
        // Indicator that shows the full seekbar
        var seekBarBackdrop = new dom_1.DOM('div', {
            'class': this.prefixCss('seekbar-backdrop'),
        });
        this.seekBarBackdrop = seekBarBackdrop;
        var seekBarChapterMarkersContainer = new dom_1.DOM('div', {
            'class': this.prefixCss('seekbar-markers'),
        });
        this.seekBarMarkersContainer = seekBarChapterMarkersContainer;
        seekBar.append(this.seekBarBackdrop, this.seekBarBufferPosition, this.seekBarSeekPosition, this.seekBarPlaybackPosition, this.seekBarMarkersContainer, this.seekBarPlaybackPositionMarker);
        var seeking = false;
        // Define handler functions so we can attach/remove them later
        var mouseTouchMoveHandler = function (e) {
            e.preventDefault();
            // Avoid propagation to VR handler
            e.stopPropagation();
            var targetPercentage = 100 * _this.getOffset(e);
            _this.setSeekPosition(targetPercentage);
            _this.setPlaybackPosition(targetPercentage);
            _this.onSeekPreviewEvent(targetPercentage, true);
        };
        var mouseTouchUpHandler = function (e) {
            e.preventDefault();
            // Remove handlers, seek operation is finished
            new dom_1.DOM(document).off('touchmove mousemove', mouseTouchMoveHandler);
            new dom_1.DOM(document).off('touchend mouseup', mouseTouchUpHandler);
            var targetPercentage = 100 * _this.getOffset(e);
            var snappedChapter = _this.getMarkerAtPosition(targetPercentage);
            _this.setSeeking(false);
            seeking = false;
            // Fire seeked event
            _this.onSeekedEvent(snappedChapter ? snappedChapter.position : targetPercentage);
        };
        // A seek always start with a touchstart or mousedown directly on the seekbar.
        // To track a mouse seek also outside the seekbar (for touch events this works automatically),
        // so the user does not need to take care that the mouse always stays on the seekbar, we attach the mousemove
        // and mouseup handlers to the whole document. A seek is triggered when the user lifts the mouse key.
        // A seek mouse gesture is thus basically a click with a long time frame between down and up events.
        seekBar.on('touchstart mousedown', function (e) {
            var isTouchEvent = _this.touchSupported && e instanceof TouchEvent;
            // Prevent selection of DOM elements (also prevents mousedown if current event is touchstart)
            e.preventDefault();
            // Avoid propagation to VR handler
            e.stopPropagation();
            _this.setSeeking(true); // Set seeking class on DOM element
            seeking = true; // Set seek tracking flag
            // Fire seeked event
            _this.onSeekEvent();
            // Add handler to track the seek operation over the whole document
            new dom_1.DOM(document).on(isTouchEvent ? 'touchmove' : 'mousemove', mouseTouchMoveHandler);
            new dom_1.DOM(document).on(isTouchEvent ? 'touchend' : 'mouseup', mouseTouchUpHandler);
        });
        // Display seek target indicator when mouse hovers or finger slides over seekbar
        seekBar.on('touchmove mousemove', function (e) {
            e.preventDefault();
            if (seeking) {
                // During a seek (when mouse is down or touch move active), we need to stop propagation to avoid
                // the VR viewport reacting to the moves.
                e.stopPropagation();
                // Because the stopped propagation inhibits the event on the document, we need to call it from here
                mouseTouchMoveHandler(e);
            }
            var position = 100 * _this.getOffset(e);
            _this.setSeekPosition(position);
            _this.onSeekPreviewEvent(position, false);
            if (_this.hasLabel() && _this.getLabel().isHidden()) {
                _this.getLabel().show();
            }
        });
        // Hide seek target indicator when mouse or finger leaves seekbar
        seekBar.on('touchend mouseleave', function (e) {
            e.preventDefault();
            _this.setSeekPosition(0);
            if (_this.hasLabel()) {
                _this.getLabel().hide();
            }
        });
        seekBarContainer.append(seekBar);
        if (this.label) {
            seekBarContainer.append(this.label.getDomElement());
        }
        return seekBarContainer;
    };
    SeekBar.prototype.updateMarkers = function () {
        var _this = this;
        this.seekBarMarkersContainer.empty();
        var seekBarWidthPx = this.seekBar.width();
        for (var _i = 0, _a = this.timelineMarkers; _i < _a.length; _i++) {
            var marker = _a[_i];
            var markerClasses = ['seekbar-marker'].concat(marker.marker.cssClasses || [])
                .map(function (cssClass) { return _this.prefixCss(cssClass); });
            var cssProperties = {
                'width': marker.position + '%',
            };
            if (marker.duration > 0) {
                var markerWidthPx = Math.round(seekBarWidthPx / 100 * marker.duration);
                cssProperties['border-right-width'] = markerWidthPx + 'px';
                cssProperties['margin-left'] = '0';
            }
            this.seekBarMarkersContainer.append(new dom_1.DOM('div', {
                'class': markerClasses.join(' '),
                'data-marker-time': String(marker.marker.time),
                'data-marker-title': String(marker.marker.title),
            }).css(cssProperties));
        }
    };
    SeekBar.prototype.getMarkerAtPosition = function (percentage) {
        var snappingRange = 1;
        if (this.timelineMarkers.length > 0) {
            for (var _i = 0, _a = this.timelineMarkers; _i < _a.length; _i++) {
                var marker = _a[_i];
                // Handle interval markers
                if (marker.duration > 0
                    && percentage >= marker.position - snappingRange
                    && percentage <= marker.position + marker.duration + snappingRange) {
                    return marker;
                }
                // Handle position markers
                else if (percentage >= marker.position - snappingRange
                    && percentage <= marker.position + snappingRange) {
                    return marker;
                }
            }
        }
        return null;
    };
    /**
     * Gets the horizontal offset of a mouse/touch event point from the left edge of the seek bar.
     * @param eventPageX the pageX coordinate of an event to calculate the offset from
     * @returns {number} a number in the range of [0, 1], where 0 is the left edge and 1 is the right edge
     */
    SeekBar.prototype.getHorizontalOffset = function (eventPageX) {
        var elementOffsetPx = this.seekBar.offset().left;
        var widthPx = this.seekBar.width();
        var offsetPx = eventPageX - elementOffsetPx;
        var offset = 1 / widthPx * offsetPx;
        return this.sanitizeOffset(offset);
    };
    /**
     * Gets the vertical offset of a mouse/touch event point from the bottom edge of the seek bar.
     * @param eventPageY the pageX coordinate of an event to calculate the offset from
     * @returns {number} a number in the range of [0, 1], where 0 is the bottom edge and 1 is the top edge
     */
    SeekBar.prototype.getVerticalOffset = function (eventPageY) {
        var elementOffsetPx = this.seekBar.offset().top;
        var widthPx = this.seekBar.height();
        var offsetPx = eventPageY - elementOffsetPx;
        var offset = 1 / widthPx * offsetPx;
        return 1 - this.sanitizeOffset(offset);
    };
    /**
     * Gets the mouse or touch event offset for the current configuration (horizontal or vertical).
     * @param e the event to calculate the offset from
     * @returns {number} a number in the range of [0, 1]
     * @see #getHorizontalOffset
     * @see #getVerticalOffset
     */
    SeekBar.prototype.getOffset = function (e) {
        if (this.touchSupported && e instanceof TouchEvent) {
            if (this.config.vertical) {
                return this.getVerticalOffset(e.type === 'touchend' ? e.changedTouches[0].pageY : e.touches[0].pageY);
            }
            else {
                return this.getHorizontalOffset(e.type === 'touchend' ? e.changedTouches[0].pageX : e.touches[0].pageX);
            }
        }
        else if (e instanceof MouseEvent) {
            if (this.config.vertical) {
                return this.getVerticalOffset(e.pageY);
            }
            else {
                return this.getHorizontalOffset(e.pageX);
            }
        }
        else {
            if (console) {
                console.warn('invalid event');
            }
            return 0;
        }
    };
    /**
     * Sanitizes the mouse offset to the range of [0, 1].
     *
     * When tracking the mouse outside the seek bar, the offset can be outside the desired range and this method
     * limits it to the desired range. E.g. a mouse event left of the left edge of a seek bar yields an offset below
     * zero, but to display the seek target on the seek bar, we need to limit it to zero.
     *
     * @param offset the offset to sanitize
     * @returns {number} the sanitized offset.
     */
    SeekBar.prototype.sanitizeOffset = function (offset) {
        // Since we track mouse moves over the whole document, the target can be outside the seek range,
        // and we need to limit it to the [0, 1] range.
        if (offset < 0) {
            offset = 0;
        }
        else if (offset > 1) {
            offset = 1;
        }
        return offset;
    };
    /**
     * Sets the position of the playback position indicator.
     * @param percent a number between 0 and 100 as returned by the player
     */
    SeekBar.prototype.setPlaybackPosition = function (percent) {
        this.playbackPositionPercentage = percent;
        // Set position of the bar
        this.setPosition(this.seekBarPlaybackPosition, percent);
        // Set position of the marker
        var totalSize = (this.config.vertical ? (this.seekBar.height() - this.seekBarPlaybackPositionMarker.height()) : this.seekBar.width());
        var px = (totalSize) / 100 * percent;
        if (this.config.vertical) {
            px = this.seekBar.height() - px - this.seekBarPlaybackPositionMarker.height();
        }
        var style = this.config.vertical ?
            // -ms-transform required for IE9
            // -webkit-transform required for Android 4.4 WebView
            {
                'transform': 'translateY(' + px + 'px)',
                '-ms-transform': 'translateY(' + px + 'px)',
                '-webkit-transform': 'translateY(' + px + 'px)',
            } :
            {
                'transform': 'translateX(' + px + 'px)',
                '-ms-transform': 'translateX(' + px + 'px)',
                '-webkit-transform': 'translateX(' + px + 'px)',
            };
        this.seekBarPlaybackPositionMarker.css(style);
    };
    /**
     * Refreshes the playback position. Can be used by subclasses to refresh the position when
     * the size of the component changes.
     */
    SeekBar.prototype.refreshPlaybackPosition = function () {
        this.setPlaybackPosition(this.playbackPositionPercentage);
    };
    /**
     * Sets the position until which media is buffered.
     * @param percent a number between 0 and 100
     */
    SeekBar.prototype.setBufferPosition = function (percent) {
        this.setPosition(this.seekBarBufferPosition, percent);
    };
    /**
     * Sets the position where a seek, if executed, would jump to.
     * @param percent a number between 0 and 100
     */
    SeekBar.prototype.setSeekPosition = function (percent) {
        this.setPosition(this.seekBarSeekPosition, percent);
    };
    /**
     * Set the actual position (width or height) of a DOM element that represent a bar in the seek bar.
     * @param element the element to set the position for
     * @param percent a number between 0 and 100
     */
    SeekBar.prototype.setPosition = function (element, percent) {
        var scale = percent / 100;
        // When the scale is exactly 1 or very near 1 (and the browser internally rounds it to 1), browsers seem to render
        // the elements differently and the height gets slightly off, leading to mismatching heights when e.g. the buffer
        // level bar has a width of 1 and the playback position bar has a width < 1. A jittering buffer level around 1
        // leads to an even worse flickering effect.
        // Various changes in CSS styling and DOM hierarchy did not solve the issue so the workaround is to avoid a scale
        // of exactly 1.
        if (scale >= 0.99999 && scale <= 1.00001) {
            scale = 0.99999;
        }
        var style = this.config.vertical ?
            // -ms-transform required for IE9
            // -webkit-transform required for Android 4.4 WebView
            {
                'transform': 'scaleY(' + scale + ')',
                '-ms-transform': 'scaleY(' + scale + ')',
                '-webkit-transform': 'scaleY(' + scale + ')',
            } :
            {
                'transform': 'scaleX(' + scale + ')',
                '-ms-transform': 'scaleX(' + scale + ')',
                '-webkit-transform': 'scaleX(' + scale + ')',
            };
        element.css(style);
    };
    /**
     * Puts the seek bar into or out of seeking state by adding/removing a class to the DOM element. This can be used
     * to adjust the styling while seeking.
     *
     * @param seeking should be true when entering seek state, false when exiting the seek state
     */
    SeekBar.prototype.setSeeking = function (seeking) {
        if (seeking) {
            this.getDomElement().addClass(this.prefixCss(SeekBar.CLASS_SEEKING));
        }
        else {
            this.getDomElement().removeClass(this.prefixCss(SeekBar.CLASS_SEEKING));
        }
    };
    /**
     * Checks if the seek bar is currently in the seek state.
     * @returns {boolean} true if in seek state, else false
     */
    SeekBar.prototype.isSeeking = function () {
        return this.getDomElement().hasClass(this.prefixCss(SeekBar.CLASS_SEEKING));
    };
    /**
     * Checks if the seek bar has a {@link SeekBarLabel}.
     * @returns {boolean} true if the seek bar has a label, else false
     */
    SeekBar.prototype.hasLabel = function () {
        return this.label != null;
    };
    /**
     * Gets the label of this seek bar.
     * @returns {SeekBarLabel} the label if this seek bar has a label, else null
     */
    SeekBar.prototype.getLabel = function () {
        return this.label;
    };
    SeekBar.prototype.onSeekEvent = function () {
        this.seekBarEvents.onSeek.dispatch(this);
    };
    SeekBar.prototype.onSeekPreviewEvent = function (percentage, scrubbing) {
        var snappedMarker = this.getMarkerAtPosition(percentage);
        var seekPositionPercentage = percentage;
        if (snappedMarker) {
            if (snappedMarker.duration > 0) {
                if (percentage < snappedMarker.position) {
                    // Snap the position to the start of the interval if the seek is within the left snap margin
                    // We know that we are within a snap margin when we are outside the marker interval but still
                    // have a snappedMarker
                    seekPositionPercentage = snappedMarker.position;
                }
                else if (percentage > snappedMarker.position + snappedMarker.duration) {
                    // Snap the position to the end of the interval if the seek is within the right snap margin
                    seekPositionPercentage = snappedMarker.position + snappedMarker.duration;
                }
            }
            else {
                // Position markers always snap to their marker position
                seekPositionPercentage = snappedMarker.position;
            }
        }
        if (this.label) {
            this.label.getDomElement().css({
                'left': seekPositionPercentage + '%',
            });
        }
        this.seekBarEvents.onSeekPreview.dispatch(this, {
            scrubbing: scrubbing,
            position: seekPositionPercentage,
            marker: snappedMarker,
        });
    };
    SeekBar.prototype.onSeekedEvent = function (percentage) {
        this.seekBarEvents.onSeeked.dispatch(this, percentage);
    };
    Object.defineProperty(SeekBar.prototype, "onSeek", {
        /**
         * Gets the event that is fired when a scrubbing seek operation is started.
         * @returns {Event<SeekBar, NoArgs>}
         */
        get: function () {
            return this.seekBarEvents.onSeek.getEvent();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SeekBar.prototype, "onSeekPreview", {
        /**
         * Gets the event that is fired during a scrubbing seek (to indicate that the seek preview, i.e. the video frame,
         * should be updated), or during a normal seek preview when the seek bar is hovered (and the seek target,
         * i.e. the seek bar label, should be updated).
         * @returns {Event<SeekBar, SeekPreviewEventArgs>}
         */
        get: function () {
            return this.seekBarEvents.onSeekPreview.getEvent();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SeekBar.prototype, "onSeeked", {
        /**
         * Gets the event that is fired when a scrubbing seek has finished or when a direct seek is issued.
         * @returns {Event<SeekBar, number>}
         */
        get: function () {
            return this.seekBarEvents.onSeeked.getEvent();
        },
        enumerable: true,
        configurable: true
    });
    SeekBar.prototype.onShowEvent = function () {
        _super.prototype.onShowEvent.call(this);
        // Refresh the position of the playback position when the seek bar becomes visible. To correctly set the position,
        // the DOM element must be fully initialized an have its size calculated, because the position is set as an absolute
        // value calculated from the size. This required size is not known when it is hidden.
        // For such cases, we refresh the position here in onShow because here it is guaranteed that the component knows
        // its size and can set the position correctly.
        this.refreshPlaybackPosition();
    };
    SeekBar.SMOOTH_PLAYBACK_POSITION_UPDATE_DISABLED = -1;
    /**
     * The CSS class that is added to the DOM element while the seek bar is in 'seeking' state.
     */
    SeekBar.CLASS_SEEKING = 'seeking';
    return SeekBar;
}(component_1.Component));
exports.SeekBar = SeekBar;


/***/ }),
/* 18 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var container_1 = __webpack_require__(0);
var uiutils_1 = __webpack_require__(19);
var spacer_1 = __webpack_require__(20);
/**
 * A container for main player control components, e.g. play toggle button, seek bar, volume control, fullscreen toggle
 * button.
 */
var ControlBar = /** @class */ (function (_super) {
    __extends(ControlBar, _super);
    function ControlBar(config) {
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-controlbar',
            hidden: true,
        }, _this.config);
        return _this;
    }
    ControlBar.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        // Counts how many components are hovered and block hiding of the control bar
        var hoverStackCount = 0;
        // Track hover status of child components
        uiutils_1.UIUtils.traverseTree(this, function (component) {
            // Do not track hover status of child containers or spacers, only of 'real' controls
            if (component instanceof container_1.Container || component instanceof spacer_1.Spacer) {
                return;
            }
            // Subscribe hover event and keep a count of the number of hovered children
            component.onHoverChanged.subscribe(function (sender, args) {
                if (args.hovered) {
                    hoverStackCount++;
                }
                else {
                    hoverStackCount--;
                }
            });
        });
        uimanager.onControlsShow.subscribe(function () {
            _this.show();
        });
        uimanager.onPreviewControlsHide.subscribe(function (sender, args) {
            // Cancel the hide event if hovered child components block hiding
            args.cancel = (hoverStackCount > 0);
        });
        uimanager.onControlsHide.subscribe(function () {
            _this.hide();
        });
    };
    return ControlBar;
}(container_1.Container));
exports.ControlBar = ControlBar;


/***/ }),
/* 19 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var container_1 = __webpack_require__(0);
var UIUtils;
(function (UIUtils) {
    function traverseTree(component, visit) {
        var recursiveTreeWalker = function (component, parent) {
            visit(component, parent);
            // If the current component is a container, visit it's children
            if (component instanceof container_1.Container) {
                for (var _i = 0, _a = component.getComponents(); _i < _a.length; _i++) {
                    var childComponent = _a[_i];
                    recursiveTreeWalker(childComponent, component);
                }
            }
        };
        // Walk and configure the component tree
        recursiveTreeWalker(component);
    }
    UIUtils.traverseTree = traverseTree;
})(UIUtils = exports.UIUtils || (exports.UIUtils = {}));


/***/ }),
/* 20 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var component_1 = __webpack_require__(2);
/**
 * A dummy component that just reserves some space and does nothing else.
 */
var Spacer = /** @class */ (function (_super) {
    __extends(Spacer, _super);
    function Spacer(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-spacer',
        }, _this.config);
        return _this;
    }
    Spacer.prototype.onShowEvent = function () {
        // disable event firing by overwriting and not calling super
    };
    Spacer.prototype.onHideEvent = function () {
        // disable event firing by overwriting and not calling super
    };
    Spacer.prototype.onHoverChangedEvent = function (hovered) {
        // disable event firing by overwriting and not calling super
    };
    return Spacer;
}(component_1.Component));
exports.Spacer = Spacer;


/***/ }),
/* 21 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var container_1 = __webpack_require__(0);
var component_1 = __webpack_require__(2);
var selectbox_1 = __webpack_require__(8);
var label_1 = __webpack_require__(6);
var videoqualityselectbox_1 = __webpack_require__(22);
var audioqualityselectbox_1 = __webpack_require__(23);
var timeout_1 = __webpack_require__(9);
var eventdispatcher_1 = __webpack_require__(3);
/**
 * A panel containing a list of {@link SettingsPanelItem items} that represent labelled settings.
 */
var SettingsPanel = /** @class */ (function (_super) {
    __extends(SettingsPanel, _super);
    function SettingsPanel(config) {
        var _this = _super.call(this, config) || this;
        _this.settingsPanelEvents = {
            onSettingsStateChanged: new eventdispatcher_1.EventDispatcher(),
        };
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-settings-panel',
            hideDelay: 3000,
        }, _this.config);
        return _this;
    }
    SettingsPanel.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        var config = this.getConfig(); // TODO fix generics type inference
        if (config.hideDelay > -1) {
            this.hideTimeout = new timeout_1.Timeout(config.hideDelay, function () {
                _this.hide();
                _this.hideHoveredSelectBoxes();
            });
            this.onShow.subscribe(function () {
                // Activate timeout when shown
                _this.hideTimeout.start();
            });
            this.getDomElement().on('mouseenter', function () {
                // On mouse enter clear the timeout
                _this.hideTimeout.clear();
            });
            this.getDomElement().on('mouseleave', function () {
                // On mouse leave activate the timeout
                _this.hideTimeout.reset();
            });
            this.onHide.subscribe(function () {
                // Clear timeout when hidden from outside
                _this.hideTimeout.clear();
            });
        }
        // Fire event when the state of a settings-item has changed
        var settingsStateChangedHandler = function () {
            _this.onSettingsStateChangedEvent();
            // Attach marker class to last visible item
            var lastShownItem = null;
            for (var _i = 0, _a = _this.getItems(); _i < _a.length; _i++) {
                var component = _a[_i];
                component.getDomElement().removeClass(_this.prefixCss(SettingsPanel.CLASS_LAST));
                if (component.isShown()) {
                    lastShownItem = component;
                }
            }
            if (lastShownItem) {
                lastShownItem.getDomElement().addClass(_this.prefixCss(SettingsPanel.CLASS_LAST));
            }
        };
        for (var _i = 0, _a = this.getItems(); _i < _a.length; _i++) {
            var component = _a[_i];
            component.onActiveChanged.subscribe(settingsStateChangedHandler);
        }
    };
    /**
     * Hack for IE + Firefox
     * when the settings panel fades out while an item of a select box is still hovered, the select box will not fade out
     * while the settings panel does. This would leave a floating select box, which is just weird
     */
    SettingsPanel.prototype.hideHoveredSelectBoxes = function () {
        this.getItems().forEach(function (item) {
            if (item.isActive() && item.setting instanceof selectbox_1.SelectBox) {
                var selectBox_1 = item.setting;
                var oldDisplay_1 = selectBox_1.getDomElement().css('display');
                // updating the display to none marks the select-box as inactive, so it will be hidden with the rest
                // we just have to make sure to reset this as soon as possible
                selectBox_1.getDomElement().css('display', 'none');
                if (window.requestAnimationFrame) {
                    requestAnimationFrame(function () { selectBox_1.getDomElement().css('display', oldDisplay_1); });
                }
                else {
                    // IE9 has no requestAnimationFrame, set the value directly. It has no optimization about ignoring DOM-changes
                    // between animationFrames
                    selectBox_1.getDomElement().css('display', oldDisplay_1);
                }
            }
        });
    };
    SettingsPanel.prototype.release = function () {
        _super.prototype.release.call(this);
        if (this.hideTimeout) {
            this.hideTimeout.clear();
        }
    };
    /**
     * Checks if there are active settings within this settings panel. An active setting is a setting that is visible
     * and enabled, which the user can interact with.
     * @returns {boolean} true if there are active settings, false if the panel is functionally empty to a user
     */
    SettingsPanel.prototype.hasActiveSettings = function () {
        for (var _i = 0, _a = this.getItems(); _i < _a.length; _i++) {
            var component = _a[_i];
            if (component.isActive()) {
                return true;
            }
        }
        return false;
    };
    SettingsPanel.prototype.getItems = function () {
        return this.config.components.filter(function (component) { return component instanceof SettingsPanelItem; });
    };
    SettingsPanel.prototype.onSettingsStateChangedEvent = function () {
        this.settingsPanelEvents.onSettingsStateChanged.dispatch(this);
    };
    Object.defineProperty(SettingsPanel.prototype, "onSettingsStateChanged", {
        /**
         * Gets the event that is fired when one or more {@link SettingsPanelItem items} have changed state.
         * @returns {Event<SettingsPanel, NoArgs>}
         */
        get: function () {
            return this.settingsPanelEvents.onSettingsStateChanged.getEvent();
        },
        enumerable: true,
        configurable: true
    });
    SettingsPanel.CLASS_LAST = 'last';
    return SettingsPanel;
}(container_1.Container));
exports.SettingsPanel = SettingsPanel;
/**
 * An item for a {@link SettingsPanel},
 * Containing an optionnal {@link Label} and a component that configures a setting.
 * If the components is a {@link SelectBox} it will handle the logic of displaying it or not
 */
var SettingsPanelItem = /** @class */ (function (_super) {
    __extends(SettingsPanelItem, _super);
    function SettingsPanelItem(label, setting, config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.settingsPanelItemEvents = {
            onActiveChanged: new eventdispatcher_1.EventDispatcher(),
        };
        _this.setting = setting;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-settings-panel-item',
        }, _this.config);
        if (label !== null) {
            if (label instanceof component_1.Component) {
                _this.label = label;
            }
            else {
                _this.label = new label_1.Label({ text: label });
            }
            _this.addComponent(_this.label);
        }
        _this.addComponent(_this.setting);
        return _this;
    }
    SettingsPanelItem.prototype.configure = function (player, uimanager) {
        var _this = this;
        if (this.setting instanceof selectbox_1.SelectBox) {
            var handleConfigItemChanged = function () {
                if (!(_this.setting instanceof selectbox_1.SelectBox)) {
                    return;
                }
                // The minimum number of items that must be available for the setting to be displayed
                // By default, at least two items must be available, else a selection is not possible
                var minItemsToDisplay = 2;
                // Audio/video quality select boxes contain an additional 'auto' mode, which in combination with a single
                // available quality also does not make sense
                if ((_this.setting instanceof videoqualityselectbox_1.VideoQualitySelectBox && _this.setting.hasAutoItem())
                    || _this.setting instanceof audioqualityselectbox_1.AudioQualitySelectBox) {
                    minItemsToDisplay = 3;
                }
                // Hide the setting if no meaningful choice is available
                if (_this.setting.itemCount() < minItemsToDisplay) {
                    _this.hide();
                }
                else {
                    _this.show();
                }
                // Visibility might have changed and therefore the active state might have changed so we fire the event
                // TODO fire only when state has really changed (e.g. check if visibility has really changed)
                _this.onActiveChangedEvent();
            };
            this.setting.onItemAdded.subscribe(handleConfigItemChanged);
            this.setting.onItemRemoved.subscribe(handleConfigItemChanged);
            // Initialize hidden state
            handleConfigItemChanged();
        }
    };
    /**
     * Checks if this settings panel item is active, i.e. visible and enabled and a user can interact with it.
     * @returns {boolean} true if the panel is active, else false
     */
    SettingsPanelItem.prototype.isActive = function () {
        return this.isShown();
    };
    SettingsPanelItem.prototype.onActiveChangedEvent = function () {
        this.settingsPanelItemEvents.onActiveChanged.dispatch(this);
    };
    Object.defineProperty(SettingsPanelItem.prototype, "onActiveChanged", {
        /**
         * Gets the event that is fired when the 'active' state of this item changes.
         * @see #isActive
         * @returns {Event<SettingsPanelItem, NoArgs>}
         */
        get: function () {
            return this.settingsPanelItemEvents.onActiveChanged.getEvent();
        },
        enumerable: true,
        configurable: true
    });
    return SettingsPanelItem;
}(container_1.Container));
exports.SettingsPanelItem = SettingsPanelItem;


/***/ }),
/* 22 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var selectbox_1 = __webpack_require__(8);
/**
 * A select box providing a selection between 'auto' and the available video qualities.
 */
var VideoQualitySelectBox = /** @class */ (function (_super) {
    __extends(VideoQualitySelectBox, _super);
    function VideoQualitySelectBox(config) {
        if (config === void 0) { config = {}; }
        return _super.call(this, config) || this;
    }
    VideoQualitySelectBox.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        var selectCurrentVideoQuality = function () {
            if (player.getVideoQuality) {
                // Since player 7.3.1
                _this.selectItem(player.getVideoQuality().id);
            }
            else {
                // Backwards compatibility for players <= 7.3.0
                // TODO remove in next major release
                var data = player.getDownloadedVideoData();
                _this.selectItem(data.isAuto ? 'auto' : data.id);
            }
        };
        var updateVideoQualities = function () {
            var videoQualities = player.getAvailableVideoQualities();
            _this.clearItems();
            // Progressive streams do not support automatic quality selection
            _this.hasAuto = player.getStreamType() !== 'progressive';
            if (_this.hasAuto) {
                // Add entry for automatic quality switching (default setting)
                _this.addItem('auto', 'auto');
            }
            // Add video qualities
            for (var _i = 0, videoQualities_1 = videoQualities; _i < videoQualities_1.length; _i++) {
                var videoQuality = videoQualities_1[_i];
                _this.addItem(videoQuality.id, videoQuality.label);
            }
            // Select initial quality
            selectCurrentVideoQuality();
        };
        this.onItemSelected.subscribe(function (sender, value) {
            player.setVideoQuality(value);
        });
        // Update qualities when source goes away
        player.addEventHandler(player.EVENT.ON_SOURCE_UNLOADED, updateVideoQualities);
        // Update qualities when a new source is loaded
        player.addEventHandler(player.EVENT.ON_READY, updateVideoQualities);
        // Update qualities when the period within a source changes
        player.addEventHandler(player.EVENT.ON_PERIOD_SWITCHED, updateVideoQualities);
        // Update quality selection when quality is changed (from outside)
        if (player.EVENT.ON_VIDEO_QUALITY_CHANGED) {
            // Since player 7.3.1
            player.addEventHandler(player.EVENT.ON_VIDEO_QUALITY_CHANGED, selectCurrentVideoQuality);
        }
        else {
            // Backwards compatibility for players <= 7.3.0
            // TODO remove in next major release
            player.addEventHandler(player.EVENT.ON_VIDEO_DOWNLOAD_QUALITY_CHANGE, selectCurrentVideoQuality);
        }
    };
    /**
     * Returns true if the select box contains an 'auto' item for automatic quality selection mode.
     * @return {boolean}
     */
    VideoQualitySelectBox.prototype.hasAutoItem = function () {
        return this.hasAuto;
    };
    return VideoQualitySelectBox;
}(selectbox_1.SelectBox));
exports.VideoQualitySelectBox = VideoQualitySelectBox;


/***/ }),
/* 23 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var selectbox_1 = __webpack_require__(8);
/**
 * A select box providing a selection between 'auto' and the available audio qualities.
 */
var AudioQualitySelectBox = /** @class */ (function (_super) {
    __extends(AudioQualitySelectBox, _super);
    function AudioQualitySelectBox(config) {
        if (config === void 0) { config = {}; }
        return _super.call(this, config) || this;
    }
    AudioQualitySelectBox.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        var selectCurrentAudioQuality = function () {
            if (player.getAudioQuality) {
                // Since player 7.3.1
                _this.selectItem(player.getAudioQuality().id);
            }
            else {
                // Backwards compatibility for players <= 7.3.0
                // TODO remove in next major release
                var data = player.getDownloadedAudioData();
                _this.selectItem(data.isAuto ? 'auto' : data.id);
            }
        };
        var updateAudioQualities = function () {
            var audioQualities = player.getAvailableAudioQualities();
            _this.clearItems();
            // Add entry for automatic quality switching (default setting)
            _this.addItem('auto', 'auto');
            // Add audio qualities
            for (var _i = 0, audioQualities_1 = audioQualities; _i < audioQualities_1.length; _i++) {
                var audioQuality = audioQualities_1[_i];
                _this.addItem(audioQuality.id, audioQuality.label);
            }
            // Select initial quality
            selectCurrentAudioQuality();
        };
        this.onItemSelected.subscribe(function (sender, value) {
            player.setAudioQuality(value);
        });
        // Update qualities when audio track has changed
        player.addEventHandler(player.EVENT.ON_AUDIO_CHANGED, updateAudioQualities);
        // Update qualities when source goes away
        player.addEventHandler(player.EVENT.ON_SOURCE_UNLOADED, updateAudioQualities);
        // Update qualities when a new source is loaded
        player.addEventHandler(player.EVENT.ON_READY, updateAudioQualities);
        // Update qualities when the period within a source changes
        player.addEventHandler(player.EVENT.ON_PERIOD_SWITCHED, updateAudioQualities);
        // Update quality selection when quality is changed (from outside)
        if (player.EVENT.ON_AUDIO_QUALITY_CHANGED) {
            // Since player 7.3.1
            player.addEventHandler(player.EVENT.ON_AUDIO_QUALITY_CHANGED, selectCurrentAudioQuality);
        }
        else {
            // Backwards compatibility for players <= 7.3.0
            // TODO remove in next major release
            player.addEventHandler(player.EVENT.ON_AUDIO_DOWNLOAD_QUALITY_CHANGE, selectCurrentAudioQuality);
        }
    };
    return AudioQualitySelectBox;
}(selectbox_1.SelectBox));
exports.AudioQualitySelectBox = AudioQualitySelectBox;


/***/ }),
/* 24 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var button_1 = __webpack_require__(7);
var SubtitleSettingsButton = /** @class */ (function (_super) {
    __extends(SubtitleSettingsButton, _super);
    function SubtitleSettingsButton(config) {
        var _this = _super.call(this, config) || this;
        _this.subtitleSettingsPanel = config.subtitleSettingsPanel;
        _this.settingsPanel = config.settingsPanel;
        return _this;
    }
    return SubtitleSettingsButton;
}(button_1.Button));
exports.SubtitleSettingsButton = SubtitleSettingsButton;


/***/ }),
/* 25 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var seekbar_1 = __webpack_require__(17);
/**
 * A simple volume slider component to adjust the player's volume setting.
 */
var VolumeSlider = /** @class */ (function (_super) {
    __extends(VolumeSlider, _super);
    function VolumeSlider(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-volumeslider',
            hideIfVolumeControlProhibited: true,
        }, _this.config);
        return _this;
    }
    VolumeSlider.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager, false);
        var config = this.getConfig();
        if (config.hideIfVolumeControlProhibited && !this.detectVolumeControlAvailability()) {
            this.hide();
            // We can just return from here, because the user will never interact with the control and any configured
            // functionality would only eat resources for no reason.
            return;
        }
        var volumeChangeHandler = function () {
            if (player.isMuted()) {
                _this.setPlaybackPosition(0);
            }
            else {
                _this.setPlaybackPosition(player.getVolume());
            }
        };
        player.addEventHandler(player.EVENT.ON_READY, volumeChangeHandler);
        player.addEventHandler(player.EVENT.ON_VOLUME_CHANGED, volumeChangeHandler);
        player.addEventHandler(player.EVENT.ON_MUTED, volumeChangeHandler);
        player.addEventHandler(player.EVENT.ON_UNMUTED, volumeChangeHandler);
        this.onSeekPreview.subscribeRateLimited(function (sender, args) {
            if (args.scrubbing) {
                player.setVolume(args.position, VolumeSlider.issuerName);
            }
        }, 50);
        this.onSeeked.subscribe(function (sender, percentage) {
            player.setVolume(percentage, VolumeSlider.issuerName);
        });
        // Update the volume slider marker when the player resized, a source is loaded and player is ready,
        // or the UI is configured. Check the seekbar for a detailed description.
        player.addEventHandler(player.EVENT.ON_PLAYER_RESIZE, function () {
            _this.refreshPlaybackPosition();
        });
        player.addEventHandler(player.EVENT.ON_READY, function () {
            _this.refreshPlaybackPosition();
        });
        uimanager.onConfigured.subscribe(function () {
            _this.refreshPlaybackPosition();
        });
        // Init volume bar
        volumeChangeHandler();
    };
    VolumeSlider.prototype.detectVolumeControlAvailability = function () {
        /*
         * "On iOS devices, the audio level is always under the user’s physical control. The volume property is not
         * settable in JavaScript. Reading the volume property always returns 1."
         * https://developer.apple.com/library/content/documentation/AudioVideo/Conceptual/Using_HTML5_Audio_Video/Device-SpecificConsiderations/Device-SpecificConsiderations.html
         */
        // as muted autoplay gets paused as soon as we unmute it, we may not touch the volume of the actual player so we
        // probe a dummy audio element
        var dummyVideoElement = document.createElement('video');
        // try setting the volume to 0.7 and if it's still 1 we are on a volume control restricted device
        dummyVideoElement.volume = 0.7;
        return dummyVideoElement.volume !== 1;
    };
    VolumeSlider.issuerName = 'ui';
    return VolumeSlider;
}(seekbar_1.SeekBar));
exports.VolumeSlider = VolumeSlider;


/***/ }),
/* 26 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var label_1 = __webpack_require__(6);
/**
 * Enumerates the types of content that the {@link MetadataLabel} can display.
 */
var MetadataLabelContent;
(function (MetadataLabelContent) {
    /**
     * Title of the data source.
     */
    MetadataLabelContent[MetadataLabelContent["Title"] = 0] = "Title";
    /**
     * Description fo the data source.
     */
    MetadataLabelContent[MetadataLabelContent["Description"] = 1] = "Description";
})(MetadataLabelContent = exports.MetadataLabelContent || (exports.MetadataLabelContent = {}));
/**
 * A label that can be configured to display certain metadata.
 */
var MetadataLabel = /** @class */ (function (_super) {
    __extends(MetadataLabel, _super);
    function MetadataLabel(config) {
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClasses: ['label-metadata', 'label-metadata-' + MetadataLabelContent[config.content].toLowerCase()],
        }, _this.config);
        return _this;
    }
    MetadataLabel.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        var config = this.getConfig();
        var uiconfig = uimanager.getConfig();
        var init = function () {
            switch (config.content) {
                case MetadataLabelContent.Title:
                    _this.setText(uiconfig.metadata.title);
                    break;
                case MetadataLabelContent.Description:
                    _this.setText(uiconfig.metadata.description);
                    break;
            }
        };
        var unload = function () {
            _this.setText(null);
        };
        // Init label
        init();
        // Reinit label when a new source is loaded
        player.addEventHandler(player.EVENT.ON_SOURCE_LOADED, init);
        // Clear labels when source is unloaded
        player.addEventHandler(player.EVENT.ON_SOURCE_UNLOADED, unload);
    };
    return MetadataLabel;
}(label_1.Label));
exports.MetadataLabel = MetadataLabel;


/***/ }),
/* 27 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var button_1 = __webpack_require__(7);
/**
 * A click overlay that opens an url in a new tab if clicked.
 */
var ClickOverlay = /** @class */ (function (_super) {
    __extends(ClickOverlay, _super);
    function ClickOverlay(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-clickoverlay',
        }, _this.config);
        return _this;
    }
    ClickOverlay.prototype.initialize = function () {
        _super.prototype.initialize.call(this);
        this.setUrl(this.config.url);
        var element = this.getDomElement();
        element.on('click', function () {
            if (element.data('url')) {
                window.open(element.data('url'), '_blank');
            }
        });
    };
    /**
     * Gets the URL that should be followed when the watermark is clicked.
     * @returns {string} the watermark URL
     */
    ClickOverlay.prototype.getUrl = function () {
        return this.getDomElement().data('url');
    };
    ClickOverlay.prototype.setUrl = function (url) {
        if (url === undefined || url == null) {
            url = '';
        }
        this.getDomElement().data('url', url);
    };
    return ClickOverlay;
}(button_1.Button));
exports.ClickOverlay = ClickOverlay;


/***/ }),
/* 28 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var togglebutton_1 = __webpack_require__(5);
/**
 * A button that toggles the player between windowed and fullscreen view.
 */
var FullscreenToggleButton = /** @class */ (function (_super) {
    __extends(FullscreenToggleButton, _super);
    function FullscreenToggleButton(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-fullscreentogglebutton',
            text: 'Fullscreen',
        }, _this.config);
        return _this;
    }
    FullscreenToggleButton.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        var fullscreenStateHandler = function () {
            if (player.isFullscreen()) {
                _this.on();
            }
            else {
                _this.off();
            }
        };
        player.addEventHandler(player.EVENT.ON_FULLSCREEN_ENTER, fullscreenStateHandler);
        player.addEventHandler(player.EVENT.ON_FULLSCREEN_EXIT, fullscreenStateHandler);
        this.onClick.subscribe(function () {
            if (player.isFullscreen()) {
                player.exitFullscreen();
            }
            else {
                player.enterFullscreen();
            }
        });
        // Startup init
        fullscreenStateHandler();
    };
    return FullscreenToggleButton;
}(togglebutton_1.ToggleButton));
exports.FullscreenToggleButton = FullscreenToggleButton;


/***/ }),
/* 29 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var togglebutton_1 = __webpack_require__(5);
/**
 * A button that toggles the video view between normal/mono and VR/stereo.
 */
var VRToggleButton = /** @class */ (function (_super) {
    __extends(VRToggleButton, _super);
    function VRToggleButton(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-vrtogglebutton',
            text: 'VR',
        }, _this.config);
        return _this;
    }
    VRToggleButton.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        var isVRConfigured = function () {
            // VR availability cannot be checked through getVRStatus() because it is asynchronously populated and not
            // available at UI initialization. As an alternative, we check the VR settings in the config.
            // TODO use getVRStatus() through isVRStereoAvailable() once the player has been rewritten and the status is
            // available in ON_READY
            var config = player.getConfig();
            return config.source && config.source.vr && config.source.vr.contentType !== 'none';
        };
        var isVRStereoAvailable = function () {
            return player.getVRStatus().contentType !== 'none';
        };
        var vrStateHandler = function () {
            if (isVRConfigured() && isVRStereoAvailable()) {
                _this.show(); // show button in case it is hidden
                if (player.getVRStatus().isStereo) {
                    _this.on();
                }
                else {
                    _this.off();
                }
            }
            else {
                _this.hide(); // hide button if no stereo mode available
            }
        };
        var vrButtonVisibilityHandler = function () {
            if (isVRConfigured()) {
                _this.show();
            }
            else {
                _this.hide();
            }
        };
        player.addEventHandler(player.EVENT.ON_VR_MODE_CHANGED, vrStateHandler);
        player.addEventHandler(player.EVENT.ON_VR_STEREO_CHANGED, vrStateHandler);
        player.addEventHandler(player.EVENT.ON_VR_ERROR, vrStateHandler);
        // Hide button when VR source goes away
        player.addEventHandler(player.EVENT.ON_SOURCE_UNLOADED, vrButtonVisibilityHandler);
        // Show button when a new source is loaded and it's VR
        player.addEventHandler(player.EVENT.ON_READY, vrButtonVisibilityHandler);
        this.onClick.subscribe(function () {
            if (!isVRStereoAvailable()) {
                if (console) {
                    console.log('No VR content');
                }
            }
            else {
                if (player.getVRStatus().isStereo) {
                    player.setVRStereo(false);
                }
                else {
                    player.setVRStereo(true);
                }
            }
        });
        // Set startup visibility
        vrButtonVisibilityHandler();
    };
    return VRToggleButton;
}(togglebutton_1.ToggleButton));
exports.VRToggleButton = VRToggleButton;


/***/ }),
/* 30 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var label_1 = __webpack_require__(6);
var playerutils_1 = __webpack_require__(12);
var stringutils_1 = __webpack_require__(10);
var PlaybackTimeLabelMode;
(function (PlaybackTimeLabelMode) {
    PlaybackTimeLabelMode[PlaybackTimeLabelMode["CurrentTime"] = 0] = "CurrentTime";
    PlaybackTimeLabelMode[PlaybackTimeLabelMode["TotalTime"] = 1] = "TotalTime";
    PlaybackTimeLabelMode[PlaybackTimeLabelMode["CurrentAndTotalTime"] = 2] = "CurrentAndTotalTime";
})(PlaybackTimeLabelMode = exports.PlaybackTimeLabelMode || (exports.PlaybackTimeLabelMode = {}));
/**
 * A label that display the current playback time and the total time through {@link PlaybackTimeLabel#setTime setTime}
 * or any string through {@link PlaybackTimeLabel#setText setText}.
 */
var PlaybackTimeLabel = /** @class */ (function (_super) {
    __extends(PlaybackTimeLabel, _super);
    function PlaybackTimeLabel(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-playbacktimelabel',
            timeLabelMode: PlaybackTimeLabelMode.CurrentAndTotalTime,
            hideInLivePlayback: false,
        }, _this.config);
        return _this;
    }
    PlaybackTimeLabel.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        var config = this.getConfig();
        var live = false;
        var liveCssClass = this.prefixCss('ui-playbacktimelabel-live');
        var liveEdgeCssClass = this.prefixCss('ui-playbacktimelabel-live-edge');
        var minWidth = 0;
        var liveClickHandler = function () {
            player.timeShift(0);
        };
        var updateLiveState = function () {
            // Player is playing a live stream when the duration is infinite
            live = player.isLive();
            // Attach/detach live marker class
            if (live) {
                _this.getDomElement().addClass(liveCssClass);
                _this.setText('Live');
                if (config.hideInLivePlayback) {
                    _this.hide();
                }
                _this.onClick.subscribe(liveClickHandler);
                updateLiveTimeshiftState();
            }
            else {
                _this.getDomElement().removeClass(liveCssClass);
                _this.getDomElement().removeClass(liveEdgeCssClass);
                _this.show();
                _this.onClick.unsubscribe(liveClickHandler);
            }
        };
        var updateLiveTimeshiftState = function () {
            if (!live) {
                return;
            }
            // The player is only at the live edge iff the stream is not shifted and it is actually playing or playback has
            // never been started (meaning it isn't paused). A player that is paused is always behind the live edge.
            // An exception is made for live streams without a timeshift window, because here we "stop" playback instead
            // of pausing it (from a UI perspective), so we keep the live edge indicator on because a play would always
            // resume at the live edge.
            var isTimeshifted = player.getTimeShift() < 0;
            var isTimeshiftAvailable = player.getMaxTimeShift() < 0;
            if (!isTimeshifted && (!player.isPaused() || !isTimeshiftAvailable)) {
                _this.getDomElement().addClass(liveEdgeCssClass);
            }
            else {
                _this.getDomElement().removeClass(liveEdgeCssClass);
            }
        };
        var liveStreamDetector = new playerutils_1.PlayerUtils.LiveStreamDetector(player);
        liveStreamDetector.onLiveChanged.subscribe(function (sender, args) {
            live = args.live;
            updateLiveState();
        });
        liveStreamDetector.detect(); // Initial detection
        var playbackTimeHandler = function () {
            if (!live && player.getDuration() !== Infinity) {
                _this.setTime(player.getCurrentTime(), player.getDuration());
            }
            // To avoid 'jumping' in the UI by varying label sizes due to non-monospaced fonts,
            // we gradually increase the min-width with the content to reach a stable size.
            var width = _this.getDomElement().width();
            if (width > minWidth) {
                minWidth = width;
                _this.getDomElement().css({
                    'min-width': minWidth + 'px',
                });
            }
        };
        player.addEventHandler(player.EVENT.ON_TIME_CHANGED, playbackTimeHandler);
        player.addEventHandler(player.EVENT.ON_SEEKED, playbackTimeHandler);
        player.addEventHandler(player.EVENT.ON_CAST_TIME_UPDATED, playbackTimeHandler);
        player.addEventHandler(player.EVENT.ON_TIME_SHIFT, updateLiveTimeshiftState);
        player.addEventHandler(player.EVENT.ON_TIME_SHIFTED, updateLiveTimeshiftState);
        player.addEventHandler(player.EVENT.ON_PLAY, updateLiveTimeshiftState);
        player.addEventHandler(player.EVENT.ON_PAUSED, updateLiveTimeshiftState);
        var init = function () {
            // Reset min-width when a new source is ready (especially for switching VOD/Live modes where the label content
            // changes)
            minWidth = 0;
            _this.getDomElement().css({
                'min-width': null,
            });
            // Set time format depending on source duration
            _this.timeFormat = Math.abs(player.isLive() ? player.getMaxTimeShift() : player.getDuration()) >= 3600 ?
                stringutils_1.StringUtils.FORMAT_HHMMSS : stringutils_1.StringUtils.FORMAT_MMSS;
            // Update time after the format has been set
            playbackTimeHandler();
        };
        player.addEventHandler(player.EVENT.ON_READY, init);
        init();
    };
    /**
     * Sets the current playback time and total duration.
     * @param playbackSeconds the current playback time in seconds
     * @param durationSeconds the total duration in seconds
     */
    PlaybackTimeLabel.prototype.setTime = function (playbackSeconds, durationSeconds) {
        var currentTime = stringutils_1.StringUtils.secondsToTime(playbackSeconds, this.timeFormat);
        var totalTime = stringutils_1.StringUtils.secondsToTime(durationSeconds, this.timeFormat);
        switch (this.config.timeLabelMode) {
            case PlaybackTimeLabelMode.CurrentTime:
                this.setText("" + currentTime);
                break;
            case PlaybackTimeLabelMode.TotalTime:
                this.setText("" + totalTime);
                break;
            case PlaybackTimeLabelMode.CurrentAndTotalTime:
                this.setText(currentTime + " / " + totalTime);
                break;
        }
    };
    /**
     * Sets the current time format
     * @param timeFormat the time format
     */
    PlaybackTimeLabel.prototype.setTimeFormat = function (timeFormat) {
        this.timeFormat = timeFormat;
    };
    return PlaybackTimeLabel;
}(label_1.Label));
exports.PlaybackTimeLabel = PlaybackTimeLabel;


/***/ }),
/* 31 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var togglebutton_1 = __webpack_require__(5);
/**
 * A button that toggles visibility of a settings panel.
 */
var SettingsToggleButton = /** @class */ (function (_super) {
    __extends(SettingsToggleButton, _super);
    function SettingsToggleButton(config) {
        var _this = _super.call(this, config) || this;
        if (!config.settingsPanel) {
            throw new Error('Required SettingsPanel is missing');
        }
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-settingstogglebutton',
            text: 'Settings',
            settingsPanel: null,
            autoHideWhenNoActiveSettings: true,
        }, _this.config);
        return _this;
    }
    SettingsToggleButton.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        var config = this.getConfig(); // TODO fix generics type inference
        var settingsPanel = config.settingsPanel;
        this.onClick.subscribe(function () {
            settingsPanel.toggleHidden();
        });
        settingsPanel.onShow.subscribe(function () {
            // Set toggle status to on when the settings panel shows
            _this.on();
        });
        settingsPanel.onHide.subscribe(function () {
            // Set toggle status to off when the settings panel hides
            _this.off();
        });
        // Handle automatic hiding of the button if there are no settings for the user to interact with
        if (config.autoHideWhenNoActiveSettings) {
            // Setup handler to show/hide button when the settings change
            var settingsPanelItemsChangedHandler = function () {
                if (settingsPanel.hasActiveSettings()) {
                    if (_this.isHidden()) {
                        _this.show();
                    }
                }
                else {
                    if (_this.isShown()) {
                        _this.hide();
                    }
                }
            };
            // Wire the handler to the event
            settingsPanel.onSettingsStateChanged.subscribe(settingsPanelItemsChangedHandler);
            // Call handler for first init at startup
            settingsPanelItemsChangedHandler();
        }
    };
    return SettingsToggleButton;
}(togglebutton_1.ToggleButton));
exports.SettingsToggleButton = SettingsToggleButton;


/***/ }),
/* 32 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var component_1 = __webpack_require__(2);
var eventdispatcher_1 = __webpack_require__(3);
var arrayutils_1 = __webpack_require__(11);
var ListSelector = /** @class */ (function (_super) {
    __extends(ListSelector, _super);
    function ListSelector(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.listSelectorEvents = {
            onItemAdded: new eventdispatcher_1.EventDispatcher(),
            onItemRemoved: new eventdispatcher_1.EventDispatcher(),
            onItemSelected: new eventdispatcher_1.EventDispatcher(),
        };
        _this.config = _this.mergeConfig(config, {
            items: [],
            cssClass: 'ui-listselector',
        }, _this.config);
        _this.items = _this.config.items;
        return _this;
    }
    ListSelector.prototype.getItemIndex = function (key) {
        for (var index in this.items) {
            if (key === this.items[index].key) {
                return parseInt(index);
            }
        }
        return -1;
    };
    /**
     * Checks if the specified item is part of this selector.
     * @param key the key of the item to check
     * @returns {boolean} true if the item is part of this selector, else false
     */
    ListSelector.prototype.hasItem = function (key) {
        return this.getItemIndex(key) > -1;
    };
    /**
     * Adds an item to this selector by appending it to the end of the list of items. If an item with the specified
     * key already exists, it is replaced.
     * @param key the key of the item to add
     * @param label the (human-readable) label of the item to add
     */
    ListSelector.prototype.addItem = function (key, label) {
        var listItem = { key: key, label: label };
        // Apply filter function
        if (this.config.filter && !this.config.filter(listItem)) {
            return;
        }
        // Apply translator function
        if (this.config.translator) {
            listItem.label = this.config.translator(listItem);
        }
        this.removeItem(key); // Try to remove key first to get overwrite behavior and avoid duplicate keys
        this.items.push(listItem);
        this.onItemAddedEvent(key);
    };
    /**
     * Removes an item from this selector.
     * @param key the key of the item to remove
     * @returns {boolean} true if removal was successful, false if the item is not part of this selector
     */
    ListSelector.prototype.removeItem = function (key) {
        var index = this.getItemIndex(key);
        if (index > -1) {
            arrayutils_1.ArrayUtils.remove(this.items, this.items[index]);
            this.onItemRemovedEvent(key);
            return true;
        }
        return false;
    };
    /**
     * Selects an item from the items in this selector.
     * @param key the key of the item to select
     * @returns {boolean} true is the selection was successful, false if the selected item is not part of the selector
     */
    ListSelector.prototype.selectItem = function (key) {
        if (key === this.selectedItem) {
            // itemConfig is already selected, suppress any further action
            return true;
        }
        var index = this.getItemIndex(key);
        if (index > -1) {
            this.selectedItem = key;
            this.onItemSelectedEvent(key);
            return true;
        }
        return false;
    };
    /**
     * Returns the key of the selected item.
     * @returns {string} the key of the selected item or null if no item is selected
     */
    ListSelector.prototype.getSelectedItem = function () {
        return this.selectedItem;
    };
    /**
     * Removes all items from this selector.
     */
    ListSelector.prototype.clearItems = function () {
        // local copy for iteration after clear
        var items = this.items;
        // clear items
        this.items = [];
        // clear the selection as the selected item is also removed
        this.selectedItem = null;
        // fire events
        for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {
            var item = items_1[_i];
            this.onItemRemovedEvent(item.key);
        }
    };
    /**
     * Returns the number of items in this selector.
     * @returns {number}
     */
    ListSelector.prototype.itemCount = function () {
        return Object.keys(this.items).length;
    };
    ListSelector.prototype.onItemAddedEvent = function (key) {
        this.listSelectorEvents.onItemAdded.dispatch(this, key);
    };
    ListSelector.prototype.onItemRemovedEvent = function (key) {
        this.listSelectorEvents.onItemRemoved.dispatch(this, key);
    };
    ListSelector.prototype.onItemSelectedEvent = function (key) {
        this.listSelectorEvents.onItemSelected.dispatch(this, key);
    };
    Object.defineProperty(ListSelector.prototype, "onItemAdded", {
        /**
         * Gets the event that is fired when an item is added to the list of items.
         * @returns {Event<ListSelector<Config>, string>}
         */
        get: function () {
            return this.listSelectorEvents.onItemAdded.getEvent();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ListSelector.prototype, "onItemRemoved", {
        /**
         * Gets the event that is fired when an item is removed from the list of items.
         * @returns {Event<ListSelector<Config>, string>}
         */
        get: function () {
            return this.listSelectorEvents.onItemRemoved.getEvent();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ListSelector.prototype, "onItemSelected", {
        /**
         * Gets the event that is fired when an item is selected from the list of items.
         * @returns {Event<ListSelector<Config>, string>}
         */
        get: function () {
            return this.listSelectorEvents.onItemSelected.getEvent();
        },
        enumerable: true,
        configurable: true
    });
    return ListSelector;
}(component_1.Component));
exports.ListSelector = ListSelector;


/***/ }),
/* 33 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var settingspanel_1 = __webpack_require__(21);
var fontcolorselectbox_1 = __webpack_require__(34);
var fontopacityselectbox_1 = __webpack_require__(35);
var fontfamilyselectbox_1 = __webpack_require__(36);
var fontsizeselectbox_1 = __webpack_require__(37);
var backgroundcolorselectbox_1 = __webpack_require__(38);
var backgroundopacityselectbox_1 = __webpack_require__(39);
var windowcolorselectbox_1 = __webpack_require__(40);
var windowopacityselectbox_1 = __webpack_require__(41);
var characteredgeselectbox_1 = __webpack_require__(42);
var subtitlesettingsmanager_1 = __webpack_require__(81);
var subtitlesettingsclosebutton_1 = __webpack_require__(44);
var subtitlesettingsresetbutton_1 = __webpack_require__(45);
/**
 * SubtitleSettingsPanel is a settings panel specific to subtitles settings
 **/
var SubtitleSettingsPanel = /** @class */ (function (_super) {
    __extends(SubtitleSettingsPanel, _super);
    function SubtitleSettingsPanel(config) {
        var _this = _super.call(this, config) || this;
        _this.overlay = config.overlay;
        var manager = new subtitlesettingsmanager_1.SubtitleSettingsManager();
        _this.config = _this.mergeConfig(config, {
            components: [
                new settingspanel_1.SettingsPanelItem('Font size', new fontsizeselectbox_1.FontSizeSelectBox({
                    overlay: _this.overlay, settingsManager: manager,
                })),
                new settingspanel_1.SettingsPanelItem('Font family', new fontfamilyselectbox_1.FontFamilySelectBox({
                    overlay: _this.overlay, settingsManager: manager,
                })),
                new settingspanel_1.SettingsPanelItem('Font color', new fontcolorselectbox_1.FontColorSelectBox({
                    overlay: _this.overlay, settingsManager: manager,
                })),
                new settingspanel_1.SettingsPanelItem('Font opacity', new fontopacityselectbox_1.FontOpacitySelectBox({
                    overlay: _this.overlay, settingsManager: manager,
                })),
                new settingspanel_1.SettingsPanelItem('Character edge', new characteredgeselectbox_1.CharacterEdgeSelectBox({
                    overlay: _this.overlay, settingsManager: manager,
                })),
                new settingspanel_1.SettingsPanelItem('Background color', new backgroundcolorselectbox_1.BackgroundColorSelectBox({
                    overlay: _this.overlay, settingsManager: manager,
                })),
                new settingspanel_1.SettingsPanelItem('Background opacity', new backgroundopacityselectbox_1.BackgroundOpacitySelectBox({
                    overlay: _this.overlay, settingsManager: manager,
                })),
                new settingspanel_1.SettingsPanelItem('Window color', new windowcolorselectbox_1.WindowColorSelectBox({
                    overlay: _this.overlay, settingsManager: manager,
                })),
                new settingspanel_1.SettingsPanelItem('Window opacity', new windowopacityselectbox_1.WindowOpacitySelectBox({
                    overlay: _this.overlay, settingsManager: manager,
                })),
                new settingspanel_1.SettingsPanelItem(new subtitlesettingsclosebutton_1.SubtitleSettingsCloseButton({
                    subtitleSettingsPanel: _this, settingsPanel: config.settingsPanel,
                }), new subtitlesettingsresetbutton_1.SubtitleSettingsResetButton({
                    settingsManager: manager,
                })),
            ],
        }, _this.config);
        return _this;
    }
    SubtitleSettingsPanel.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        this.onShow.subscribe(function () {
            _this.overlay.enablePreviewSubtitleLabel();
        });
        this.onHide.subscribe(function () {
            _this.overlay.removePreviewSubtitleLabel();
        });
    };
    return SubtitleSettingsPanel;
}(settingspanel_1.SettingsPanel));
exports.SubtitleSettingsPanel = SubtitleSettingsPanel;


/***/ }),
/* 34 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var subtitlesettingselectbox_1 = __webpack_require__(4);
/**
 * A select box providing a selection of different font colors.
 */
var FontColorSelectBox = /** @class */ (function (_super) {
    __extends(FontColorSelectBox, _super);
    function FontColorSelectBox() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    FontColorSelectBox.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        this.addItem(null, 'default');
        this.addItem('white', 'white');
        this.addItem('black', 'black');
        this.addItem('red', 'red');
        this.addItem('green', 'green');
        this.addItem('blue', 'blue');
        this.addItem('cyan', 'cyan');
        this.addItem('yellow', 'yellow');
        this.addItem('magenta', 'magenta');
        var setColorAndOpacity = function () {
            if (_this.settingsManager.fontColor.isSet() && _this.settingsManager.fontOpacity.isSet()) {
                _this.toggleOverlayClass('fontcolor-' + _this.settingsManager.fontColor.value + _this.settingsManager.fontOpacity.value);
            }
            else {
                _this.toggleOverlayClass(null);
            }
        };
        this.onItemSelected.subscribe(function (sender, key) {
            _this.settingsManager.fontColor.value = key;
        });
        this.settingsManager.fontColor.onChanged.subscribe(function (sender, property) {
            // Color and opacity go together, so we need to...
            if (!_this.settingsManager.fontColor.isSet()) {
                // ... clear the opacity when the color is not set
                _this.settingsManager.fontOpacity.clear();
            }
            else if (!_this.settingsManager.fontOpacity.isSet()) {
                // ... set an opacity when the color is set
                _this.settingsManager.fontOpacity.value = '100';
            }
            _this.selectItem(property.value);
            setColorAndOpacity();
        });
        this.settingsManager.fontOpacity.onChanged.subscribe(function () {
            setColorAndOpacity();
        });
        // Load initial value
        if (this.settingsManager.fontColor.isSet()) {
            this.selectItem(this.settingsManager.fontColor.value);
        }
    };
    return FontColorSelectBox;
}(subtitlesettingselectbox_1.SubtitleSettingSelectBox));
exports.FontColorSelectBox = FontColorSelectBox;


/***/ }),
/* 35 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var subtitlesettingselectbox_1 = __webpack_require__(4);
/**
 * A select box providing a selection of different font colors.
 */
var FontOpacitySelectBox = /** @class */ (function (_super) {
    __extends(FontOpacitySelectBox, _super);
    function FontOpacitySelectBox() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    FontOpacitySelectBox.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        this.addItem(null, 'default');
        this.addItem('100', '100%');
        this.addItem('75', '75%');
        this.addItem('50', '50%');
        this.addItem('25', '25%');
        this.onItemSelected.subscribe(function (sender, key) {
            _this.settingsManager.fontOpacity.value = key;
            // Color and opacity go together, so we need to...
            if (!_this.settingsManager.fontOpacity.isSet()) {
                // ... clear the color when the opacity is not set
                _this.settingsManager.fontColor.clear();
            }
            else if (!_this.settingsManager.fontColor.isSet()) {
                // ... set a color when the opacity is set
                _this.settingsManager.fontColor.value = 'white';
            }
        });
        // Update selected item when value is set from somewhere else
        this.settingsManager.fontOpacity.onChanged.subscribe(function (sender, property) {
            _this.selectItem(property.value);
        });
        // Load initial value
        if (this.settingsManager.fontOpacity.isSet()) {
            this.selectItem(this.settingsManager.fontOpacity.value);
        }
    };
    return FontOpacitySelectBox;
}(subtitlesettingselectbox_1.SubtitleSettingSelectBox));
exports.FontOpacitySelectBox = FontOpacitySelectBox;


/***/ }),
/* 36 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var subtitlesettingselectbox_1 = __webpack_require__(4);
/**
 * A select box providing a selection of different font family.
 */
var FontFamilySelectBox = /** @class */ (function (_super) {
    __extends(FontFamilySelectBox, _super);
    function FontFamilySelectBox() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    FontFamilySelectBox.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        this.addItem(null, 'default');
        this.addItem('monospacedserif', 'monospaced serif');
        this.addItem('proportionalserif', 'proportional serif');
        this.addItem('monospacedsansserif', 'monospaced sans serif');
        this.addItem('proportionalsansserif', 'proportional sans serif');
        this.addItem('casual', 'casual');
        this.addItem('cursive', 'cursive');
        this.addItem('smallcapital', 'small capital');
        this.settingsManager.fontFamily.onChanged.subscribe(function (sender, property) {
            if (property.isSet()) {
                _this.toggleOverlayClass('fontfamily-' + property.value);
            }
            else {
                _this.toggleOverlayClass(null);
            }
            // Select the item in case the property was set from outside
            _this.selectItem(property.value);
        });
        this.onItemSelected.subscribe(function (sender, key) {
            _this.settingsManager.fontFamily.value = key;
        });
        // Load initial value
        if (this.settingsManager.fontFamily.isSet()) {
            this.selectItem(this.settingsManager.fontFamily.value);
        }
    };
    return FontFamilySelectBox;
}(subtitlesettingselectbox_1.SubtitleSettingSelectBox));
exports.FontFamilySelectBox = FontFamilySelectBox;


/***/ }),
/* 37 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var subtitlesettingselectbox_1 = __webpack_require__(4);
/**
 * A select box providing a selection of different font colors.
 */
var FontSizeSelectBox = /** @class */ (function (_super) {
    __extends(FontSizeSelectBox, _super);
    function FontSizeSelectBox() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    FontSizeSelectBox.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        this.addItem(null, 'default');
        this.addItem('50', '50%');
        this.addItem('75', '75%');
        this.addItem('100', '100%');
        this.addItem('150', '150%');
        this.addItem('200', '200%');
        this.addItem('300', '300%');
        this.addItem('400', '400%');
        this.settingsManager.fontSize.onChanged.subscribe(function (sender, property) {
            if (property.isSet()) {
                _this.toggleOverlayClass('fontsize-' + property.value);
            }
            else {
                _this.toggleOverlayClass(null);
            }
            // Select the item in case the property was set from outside
            _this.selectItem(property.value);
        });
        this.onItemSelected.subscribe(function (sender, key) {
            _this.settingsManager.fontSize.value = key;
        });
        // Load initial value
        if (this.settingsManager.fontSize.isSet()) {
            this.selectItem(this.settingsManager.fontSize.value);
        }
    };
    return FontSizeSelectBox;
}(subtitlesettingselectbox_1.SubtitleSettingSelectBox));
exports.FontSizeSelectBox = FontSizeSelectBox;


/***/ }),
/* 38 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var subtitlesettingselectbox_1 = __webpack_require__(4);
/**
 * A select box providing a selection of different background colors.
 */
var BackgroundColorSelectBox = /** @class */ (function (_super) {
    __extends(BackgroundColorSelectBox, _super);
    function BackgroundColorSelectBox() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    BackgroundColorSelectBox.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        this.addItem(null, 'default');
        this.addItem('white', 'white');
        this.addItem('black', 'black');
        this.addItem('red', 'red');
        this.addItem('green', 'green');
        this.addItem('blue', 'blue');
        this.addItem('cyan', 'cyan');
        this.addItem('yellow', 'yellow');
        this.addItem('magenta', 'magenta');
        var setColorAndOpacity = function () {
            if (_this.settingsManager.backgroundColor.isSet() && _this.settingsManager.backgroundOpacity.isSet()) {
                _this.toggleOverlayClass('bgcolor-' + _this.settingsManager.backgroundColor.value + _this.settingsManager.backgroundOpacity.value);
            }
            else {
                _this.toggleOverlayClass(null);
            }
        };
        this.onItemSelected.subscribe(function (sender, key) {
            _this.settingsManager.backgroundColor.value = key;
        });
        this.settingsManager.backgroundColor.onChanged.subscribe(function (sender, property) {
            // Color and opacity go together, so we need to...
            if (!_this.settingsManager.backgroundColor.isSet()) {
                // ... clear the opacity when the color is not set
                _this.settingsManager.backgroundOpacity.clear();
            }
            else if (!_this.settingsManager.backgroundOpacity.isSet()) {
                // ... set an opacity when the color is set
                _this.settingsManager.backgroundOpacity.value = '100';
            }
            _this.selectItem(property.value);
            setColorAndOpacity();
        });
        this.settingsManager.backgroundOpacity.onChanged.subscribe(function () {
            setColorAndOpacity();
        });
        // Load initial value
        if (this.settingsManager.backgroundColor.isSet()) {
            this.selectItem(this.settingsManager.backgroundColor.value);
        }
    };
    return BackgroundColorSelectBox;
}(subtitlesettingselectbox_1.SubtitleSettingSelectBox));
exports.BackgroundColorSelectBox = BackgroundColorSelectBox;


/***/ }),
/* 39 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var subtitlesettingselectbox_1 = __webpack_require__(4);
/**
 * A select box providing a selection of different background opacity.
 */
var BackgroundOpacitySelectBox = /** @class */ (function (_super) {
    __extends(BackgroundOpacitySelectBox, _super);
    function BackgroundOpacitySelectBox() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    BackgroundOpacitySelectBox.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        this.addItem(null, 'default');
        this.addItem('100', '100%');
        this.addItem('75', '75%');
        this.addItem('50', '50%');
        this.addItem('25', '25%');
        this.addItem('0', '0%');
        this.onItemSelected.subscribe(function (sender, key) {
            _this.settingsManager.backgroundOpacity.value = key;
            // Color and opacity go together, so we need to...
            if (!_this.settingsManager.backgroundOpacity.isSet()) {
                // ... clear the color when the opacity is not set
                _this.settingsManager.backgroundColor.clear();
            }
            else if (!_this.settingsManager.backgroundColor.isSet()) {
                // ... set a color when the opacity is set
                _this.settingsManager.backgroundColor.value = 'black';
            }
        });
        // Update selected item when value is set from somewhere else
        this.settingsManager.backgroundOpacity.onChanged.subscribe(function (sender, property) {
            _this.selectItem(property.value);
        });
        // Load initial value
        if (this.settingsManager.backgroundOpacity.isSet()) {
            this.selectItem(this.settingsManager.backgroundOpacity.value);
        }
    };
    return BackgroundOpacitySelectBox;
}(subtitlesettingselectbox_1.SubtitleSettingSelectBox));
exports.BackgroundOpacitySelectBox = BackgroundOpacitySelectBox;


/***/ }),
/* 40 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var subtitlesettingselectbox_1 = __webpack_require__(4);
/**
 * A select box providing a selection of different background colors.
 */
var WindowColorSelectBox = /** @class */ (function (_super) {
    __extends(WindowColorSelectBox, _super);
    function WindowColorSelectBox() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    WindowColorSelectBox.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        this.addItem(null, 'default');
        this.addItem('white', 'white');
        this.addItem('black', 'black');
        this.addItem('red', 'red');
        this.addItem('green', 'green');
        this.addItem('blue', 'blue');
        this.addItem('cyan', 'cyan');
        this.addItem('yellow', 'yellow');
        this.addItem('magenta', 'magenta');
        var setColorAndOpacity = function () {
            if (_this.settingsManager.windowColor.isSet() && _this.settingsManager.windowOpacity.isSet()) {
                _this.toggleOverlayClass('windowcolor-' + _this.settingsManager.windowColor.value + _this.settingsManager.windowOpacity.value);
            }
            else {
                _this.toggleOverlayClass(null);
            }
        };
        this.onItemSelected.subscribe(function (sender, key) {
            _this.settingsManager.windowColor.value = key;
        });
        this.settingsManager.windowColor.onChanged.subscribe(function (sender, property) {
            // Color and opacity go together, so we need to...
            if (!_this.settingsManager.windowColor.isSet()) {
                // ... clear the opacity when the color is not set
                _this.settingsManager.windowOpacity.clear();
            }
            else if (!_this.settingsManager.windowOpacity.isSet()) {
                // ... set an opacity when the color is set
                _this.settingsManager.windowOpacity.value = '100';
            }
            _this.selectItem(property.value);
            setColorAndOpacity();
        });
        this.settingsManager.windowOpacity.onChanged.subscribe(function () {
            setColorAndOpacity();
        });
        // Load initial value
        if (this.settingsManager.windowColor.isSet()) {
            this.selectItem(this.settingsManager.windowColor.value);
        }
    };
    return WindowColorSelectBox;
}(subtitlesettingselectbox_1.SubtitleSettingSelectBox));
exports.WindowColorSelectBox = WindowColorSelectBox;


/***/ }),
/* 41 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var subtitlesettingselectbox_1 = __webpack_require__(4);
/**
 * A select box providing a selection of different background opacity.
 */
var WindowOpacitySelectBox = /** @class */ (function (_super) {
    __extends(WindowOpacitySelectBox, _super);
    function WindowOpacitySelectBox() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    WindowOpacitySelectBox.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        this.addItem(null, 'default');
        this.addItem('100', '100%');
        this.addItem('75', '75%');
        this.addItem('50', '50%');
        this.addItem('25', '25%');
        this.addItem('0', '0%');
        this.onItemSelected.subscribe(function (sender, key) {
            _this.settingsManager.windowOpacity.value = key;
            // Color and opacity go together, so we need to...
            if (!_this.settingsManager.windowOpacity.isSet()) {
                // ... clear the color when the opacity is not set
                _this.settingsManager.windowColor.clear();
            }
            else if (!_this.settingsManager.windowColor.isSet()) {
                // ... set a color when the opacity is set
                _this.settingsManager.windowColor.value = 'black';
            }
        });
        // Update selected item when value is set from somewhere else
        this.settingsManager.windowOpacity.onChanged.subscribe(function (sender, property) {
            _this.selectItem(property.value);
        });
        // Load initial value
        if (this.settingsManager.windowOpacity.isSet()) {
            this.selectItem(this.settingsManager.windowOpacity.value);
        }
    };
    return WindowOpacitySelectBox;
}(subtitlesettingselectbox_1.SubtitleSettingSelectBox));
exports.WindowOpacitySelectBox = WindowOpacitySelectBox;


/***/ }),
/* 42 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var subtitlesettingselectbox_1 = __webpack_require__(4);
/**
 * A select box providing a selection of different character edge.
 */
var CharacterEdgeSelectBox = /** @class */ (function (_super) {
    __extends(CharacterEdgeSelectBox, _super);
    function CharacterEdgeSelectBox() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    CharacterEdgeSelectBox.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        this.addItem(null, 'default');
        this.addItem('raised', 'raised');
        this.addItem('depressed', 'depressed');
        this.addItem('uniform', 'uniform');
        this.addItem('dropshadowed', 'drop shadowed');
        this.settingsManager.characterEdge.onChanged.subscribe(function (sender, property) {
            if (property.isSet()) {
                _this.toggleOverlayClass('characteredge-' + property.value);
            }
            else {
                _this.toggleOverlayClass(null);
            }
            // Select the item in case the property was set from outside
            _this.selectItem(property.value);
        });
        this.onItemSelected.subscribe(function (sender, key) {
            _this.settingsManager.characterEdge.value = key;
        });
        // Load initial value
        if (this.settingsManager.characterEdge.isSet()) {
            this.selectItem(this.settingsManager.characterEdge.value);
        }
    };
    return CharacterEdgeSelectBox;
}(subtitlesettingselectbox_1.SubtitleSettingSelectBox));
exports.CharacterEdgeSelectBox = CharacterEdgeSelectBox;


/***/ }),
/* 43 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var StorageUtils;
(function (StorageUtils) {
    var hasLocalStorageCache;
    function hasLocalStorage() {
        if (hasLocalStorageCache) {
            return hasLocalStorageCache;
        }
        // hasLocalStorage is used to safely ensure we can use localStorage
        // taken from https://developer.mozilla.org/en-US/docs/Web/API/Web_Storage_API/Using_the_Web_Storage_API#Feature-detecting_localStorage
        var storage = window['localStorage'];
        try {
            var x = '__storage_test__';
            storage.setItem(x, x);
            storage.removeItem(x);
            hasLocalStorageCache = true;
        }
        catch (e) {
            hasLocalStorageCache = e instanceof DOMException && (
            // everything except Firefox
            e.code === 22 ||
                // Firefox
                e.code === 1014 ||
                // test name field too, because code might not be present
                // everything except Firefox
                e.name === 'QuotaExceededError' ||
                // Firefox
                e.name === 'NS_ERROR_DOM_QUOTA_REACHED') &&
                // acknowledge QuotaExceededError only if there's something already stored
                storage.length !== 0;
        }
        return hasLocalStorageCache;
    }
    StorageUtils.hasLocalStorage = hasLocalStorage;
    /**
     * Stores a string item into localStorage.
     * @param key the item's key
     * @param data the item's data
     */
    function setItem(key, data) {
        if (StorageUtils.hasLocalStorage()) {
            window.localStorage.setItem(key, data);
        }
    }
    StorageUtils.setItem = setItem;
    /**
     * Gets an item's string value from the localStorage.
     * @param key the key to look up its associated value
     * @return {string | null} Returns the string if found, null if there is no data stored for the key
     */
    function getItem(key) {
        if (StorageUtils.hasLocalStorage()) {
            return window.localStorage.getItem(key);
        }
        else {
            return null;
        }
    }
    StorageUtils.getItem = getItem;
    /**
     * Stores an object into localStorage. The object will be serialized to JSON. The following types are supported
     * in addition to the default types:
     *  - ColorUtils.Color
     *
     * @param key the key to store the data to
     * @param data the object to store
     */
    function setObject(key, data) {
        if (StorageUtils.hasLocalStorage()) {
            var json = JSON.stringify(data);
            setItem(key, json);
        }
    }
    StorageUtils.setObject = setObject;
    /**
     * Gets an object for the given key from localStorage. The object will be deserialized from JSON. Beside the
     * default types, the following types are supported:
     *  - ColorUtils.Color
     *
     * @param key the key to look up its associated object
     * @return {any} Returns the object if found, null otherwise
     */
    function getObject(key) {
        if (StorageUtils.hasLocalStorage()) {
            var json = getItem(key);
            if (key) {
                var object = JSON.parse(json);
                return object;
            }
        }
        return null;
    }
    StorageUtils.getObject = getObject;
})(StorageUtils = exports.StorageUtils || (exports.StorageUtils = {}));


/***/ }),
/* 44 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var subtitlesettingsbutton_1 = __webpack_require__(24);
/**
 * A button that toggles the option menu for subtitles
 */
var SubtitleSettingsCloseButton = /** @class */ (function (_super) {
    __extends(SubtitleSettingsCloseButton, _super);
    function SubtitleSettingsCloseButton(config) {
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-subtitlesettingsclosebutton',
            text: 'Back',
        }, _this.config);
        return _this;
    }
    SubtitleSettingsCloseButton.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        this.onClick.subscribe(function () {
            _this.subtitleSettingsPanel.hide();
            _this.settingsPanel.show();
        });
    };
    return SubtitleSettingsCloseButton;
}(subtitlesettingsbutton_1.SubtitleSettingsButton));
exports.SubtitleSettingsCloseButton = SubtitleSettingsCloseButton;


/***/ }),
/* 45 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var button_1 = __webpack_require__(7);
/**
 * A button that resets all subtitle settings to their defaults.
 */
var SubtitleSettingsResetButton = /** @class */ (function (_super) {
    __extends(SubtitleSettingsResetButton, _super);
    function SubtitleSettingsResetButton(config) {
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-subtitlesettingsresetbutton',
            text: 'Reset',
        }, _this.config);
        return _this;
    }
    SubtitleSettingsResetButton.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        this.onClick.subscribe(function () {
            _this.config.settingsManager.reset();
        });
    };
    return SubtitleSettingsResetButton;
}(button_1.Button));
exports.SubtitleSettingsResetButton = SubtitleSettingsResetButton;


/***/ }),
/* 46 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var container_1 = __webpack_require__(0);
var dom_1 = __webpack_require__(1);
var SubtitleSettingsLabel = /** @class */ (function (_super) {
    __extends(SubtitleSettingsLabel, _super);
    function SubtitleSettingsLabel(config) {
        var _this = _super.call(this, config) || this;
        _this.opener = config.opener;
        _this.text = config.text;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-label',
            components: [
                _this.opener,
            ],
        }, _this.config);
        return _this;
    }
    SubtitleSettingsLabel.prototype.toDomElement = function () {
        var labelElement = new dom_1.DOM('span', {
            'id': this.config.id,
            'class': this.getCssClasses(),
        }).append(new dom_1.DOM('span', {}).html(this.text), this.opener.getDomElement());
        return labelElement;
    };
    return SubtitleSettingsLabel;
}(container_1.Container));
exports.SubtitleSettingsLabel = SubtitleSettingsLabel;


/***/ }),
/* 47 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var subtitlesettingsbutton_1 = __webpack_require__(24);
/**
 * A button that toggles the option menu for subtitles
 */
var SubtitleSettingsOpenButton = /** @class */ (function (_super) {
    __extends(SubtitleSettingsOpenButton, _super);
    function SubtitleSettingsOpenButton(config) {
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-subtitlesettingsopenbutton',
            text: 'Subtitles settings',
        }, _this.config);
        return _this;
    }
    SubtitleSettingsOpenButton.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        this.onClick.subscribe(function () {
            _this.subtitleSettingsPanel.show();
            _this.settingsPanel.hide();
        });
    };
    return SubtitleSettingsOpenButton;
}(subtitlesettingsbutton_1.SubtitleSettingsButton));
exports.SubtitleSettingsOpenButton = SubtitleSettingsOpenButton;


/***/ }),
/* 48 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var selectbox_1 = __webpack_require__(8);
/**
 * A select box providing a selection between available audio tracks (e.g. different languages).
 */
var AudioTrackSelectBox = /** @class */ (function (_super) {
    __extends(AudioTrackSelectBox, _super);
    function AudioTrackSelectBox(config) {
        if (config === void 0) { config = {}; }
        return _super.call(this, config) || this;
    }
    AudioTrackSelectBox.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        var selectCurrentAudioTrack = function () {
            var currentAudioTrack = player.getAudio();
            // HLS streams don't always provide this, so we have to check
            if (currentAudioTrack) {
                _this.selectItem(currentAudioTrack.id);
            }
        };
        var updateAudioTracks = function () {
            var audioTracks = player.getAvailableAudio();
            _this.clearItems();
            // Add audio tracks
            for (var _i = 0, audioTracks_1 = audioTracks; _i < audioTracks_1.length; _i++) {
                var audioTrack = audioTracks_1[_i];
                _this.addItem(audioTrack.id, audioTrack.label);
            }
            // Select the correct audio track after the tracks have been added
            // This is also important in case we missed the `ON_AUDIO_CHANGED` event, e.g. when `playback.audioLanguage`
            // is configured but the event is fired before the UI is created.
            selectCurrentAudioTrack();
        };
        this.onItemSelected.subscribe(function (sender, value) {
            player.setAudio(value);
        });
        // Update selection when selected track has changed
        player.addEventHandler(player.EVENT.ON_AUDIO_CHANGED, selectCurrentAudioTrack);
        // Update tracks when source goes away
        player.addEventHandler(player.EVENT.ON_SOURCE_UNLOADED, updateAudioTracks);
        // Update tracks when a new source is loaded
        player.addEventHandler(player.EVENT.ON_READY, updateAudioTracks);
        // Update tracks when the period within a source changes
        player.addEventHandler(player.EVENT.ON_PERIOD_SWITCHED, updateAudioTracks);
        // Update tracks when a track is added or removed (since player 7.1.4)
        if (player.EVENT.ON_AUDIO_ADDED && player.EVENT.ON_AUDIO_REMOVED) {
            player.addEventHandler(player.EVENT.ON_AUDIO_ADDED, updateAudioTracks);
            player.addEventHandler(player.EVENT.ON_AUDIO_REMOVED, updateAudioTracks);
        }
        // Populate tracks at startup
        updateAudioTracks();
    };
    return AudioTrackSelectBox;
}(selectbox_1.SelectBox));
exports.AudioTrackSelectBox = AudioTrackSelectBox;


/***/ }),
/* 49 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var container_1 = __webpack_require__(0);
var label_1 = __webpack_require__(6);
var component_1 = __webpack_require__(2);
var stringutils_1 = __webpack_require__(10);
var imageloader_1 = __webpack_require__(82);
/**
 * A label for a {@link SeekBar} that can display the seek target time, a thumbnail, and title (e.g. chapter title).
 */
var SeekBarLabel = /** @class */ (function (_super) {
    __extends(SeekBarLabel, _super);
    function SeekBarLabel(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.timeLabel = new label_1.Label({ cssClasses: ['seekbar-label-time'] });
        _this.titleLabel = new label_1.Label({ cssClasses: ['seekbar-label-title'] });
        _this.thumbnail = new component_1.Component({ cssClasses: ['seekbar-thumbnail'] });
        _this.thumbnailImageLoader = new imageloader_1.ImageLoader();
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-seekbar-label',
            components: [new container_1.Container({
                    components: [
                        _this.thumbnail,
                        new container_1.Container({
                            components: [_this.titleLabel, _this.timeLabel],
                            cssClass: 'seekbar-label-metadata',
                        })
                    ],
                    cssClass: 'seekbar-label-inner',
                })],
            hidden: true,
        }, _this.config);
        return _this;
    }
    SeekBarLabel.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        var appliedMarkerCssClasses = [];
        uimanager.onSeekPreview.subscribeRateLimited(function (sender, args) {
            if (player.isLive()) {
                var maxTimeShift = player.getMaxTimeShift();
                var time = maxTimeShift - maxTimeShift * (args.position / 100);
                _this.setTime(time);
            }
            else {
                if (args.marker) {
                    _this.setTitleText(args.marker.marker.title);
                }
                else {
                    _this.setTitleText(null);
                }
                var time = player.getDuration() * (args.position / 100);
                _this.setTime(time);
                _this.setThumbnail(player.getThumb(time));
            }
            // Remove CSS classes from previous marker
            if (appliedMarkerCssClasses.length > 0) {
                _this.getDomElement().removeClass(appliedMarkerCssClasses.join(' '));
                appliedMarkerCssClasses = [];
            }
            // Add CSS classes of current marker
            if (args.marker) {
                var cssClasses = (args.marker.marker.cssClasses || []).map(function (cssClass) { return _this.prefixCss(cssClass); });
                _this.getDomElement().addClass(cssClasses.join(' '));
                appliedMarkerCssClasses = cssClasses;
            }
        }, 100);
        var init = function () {
            // Set time format depending on source duration
            _this.timeFormat = Math.abs(player.isLive() ? player.getMaxTimeShift() : player.getDuration()) >= 3600 ?
                stringutils_1.StringUtils.FORMAT_HHMMSS : stringutils_1.StringUtils.FORMAT_MMSS;
        };
        player.addEventHandler(player.EVENT.ON_READY, init);
        init();
    };
    /**
     * Sets arbitrary text on the label.
     * @param text the text to show on the label
     */
    SeekBarLabel.prototype.setText = function (text) {
        this.timeLabel.setText(text);
    };
    /**
     * Sets a time to be displayed on the label.
     * @param seconds the time in seconds to display on the label
     */
    SeekBarLabel.prototype.setTime = function (seconds) {
        this.setText(stringutils_1.StringUtils.secondsToTime(seconds, this.timeFormat));
    };
    /**
     * Sets the text on the title label.
     * @param text the text to show on the label
     */
    SeekBarLabel.prototype.setTitleText = function (text) {
        this.titleLabel.setText(text);
    };
    /**
     * Sets or removes a thumbnail on the label.
     * @param thumbnail the thumbnail to display on the label or null to remove a displayed thumbnail
     */
    SeekBarLabel.prototype.setThumbnail = function (thumbnail) {
        if (thumbnail === void 0) { thumbnail = null; }
        var thumbnailElement = this.thumbnail.getDomElement();
        if (thumbnail == null) {
            thumbnailElement.css({
                'background-image': null,
                'display': null,
                'width': null,
                'height': null,
            });
        }
        else {
            // We use the thumbnail image loader to make sure the thumbnail is loaded and it's size is known before be can
            // calculate the CSS properties and set them on the element.
            this.thumbnailImageLoader.load(thumbnail.url, function (url, width, height) {
                var thumbnailCountX = width / thumbnail.w;
                var thumbnailCountY = height / thumbnail.h;
                var thumbnailIndexX = thumbnail.x / thumbnail.w;
                var thumbnailIndexY = thumbnail.y / thumbnail.h;
                var sizeX = 100 * thumbnailCountX;
                var sizeY = 100 * thumbnailCountY;
                var offsetX = 100 * thumbnailIndexX;
                var offsetY = 100 * thumbnailIndexY;
                var aspectRatio = 1 / thumbnail.w * thumbnail.h;
                // The thumbnail size is set by setting the CSS 'width' and 'padding-bottom' properties. 'padding-bottom' is
                // used because it is relative to the width and can be used to set the aspect ratio of the thumbnail.
                // A default value for width is set in the stylesheet and can be overwritten from there or anywhere else.
                thumbnailElement.css({
                    'display': 'inherit',
                    'background-image': "url(" + thumbnail.url + ")",
                    'padding-bottom': 100 * aspectRatio + "%",
                    'background-size': sizeX + "% " + sizeY + "%",
                    'background-position': "-" + offsetX + "% -" + offsetY + "%",
                });
            });
        }
    };
    return SeekBarLabel;
}(container_1.Container));
exports.SeekBarLabel = SeekBarLabel;


/***/ }),
/* 50 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var selectbox_1 = __webpack_require__(8);
/**
 * A select box providing a selection between available subtitle and caption tracks.
 */
var SubtitleSelectBox = /** @class */ (function (_super) {
    __extends(SubtitleSelectBox, _super);
    function SubtitleSelectBox(config) {
        if (config === void 0) { config = {}; }
        return _super.call(this, config) || this;
    }
    SubtitleSelectBox.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        var selectCurrentSubtitle = function () {
            var currentSubtitle = player.getSubtitle();
            if (currentSubtitle) {
                _this.selectItem(currentSubtitle.id);
            }
        };
        var updateSubtitles = function () {
            _this.clearItems();
            for (var _i = 0, _a = player.getAvailableSubtitles(); _i < _a.length; _i++) {
                var subtitle = _a[_i];
                _this.addItem(subtitle.id, subtitle.label);
            }
            // Select the correct subtitle after the subtitles have been added
            selectCurrentSubtitle();
        };
        this.onItemSelected.subscribe(function (sender, value) {
            player.setSubtitle(value === 'null' ? null : value);
        });
        // React to API events
        player.addEventHandler(player.EVENT.ON_SUBTITLE_ADDED, updateSubtitles);
        player.addEventHandler(player.EVENT.ON_SUBTITLE_CHANGED, selectCurrentSubtitle);
        player.addEventHandler(player.EVENT.ON_SUBTITLE_REMOVED, updateSubtitles);
        // Update subtitles when source goes away
        player.addEventHandler(player.EVENT.ON_SOURCE_UNLOADED, updateSubtitles);
        // Update subtitles when a new source is loaded
        player.addEventHandler(player.EVENT.ON_READY, updateSubtitles);
        // Update subtitles when the period within a source changes
        player.addEventHandler(player.EVENT.ON_PERIOD_SWITCHED, updateSubtitles);
        // Populate subtitles at startup
        updateSubtitles();
    };
    return SubtitleSelectBox;
}(selectbox_1.SelectBox));
exports.SubtitleSelectBox = SubtitleSelectBox;


/***/ }),
/* 51 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var container_1 = __webpack_require__(0);
var label_1 = __webpack_require__(6);
var controlbar_1 = __webpack_require__(18);
var eventdispatcher_1 = __webpack_require__(3);
/**
 * Overlays the player to display subtitles.
 */
var SubtitleOverlay = /** @class */ (function (_super) {
    __extends(SubtitleOverlay, _super);
    function SubtitleOverlay(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.preprocessLabelEventCallback = new eventdispatcher_1.EventDispatcher();
        _this.previewSubtitleActive = false;
        _this.previewSubtitle = new SubtitleLabel({ text: 'example subtitle' });
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-subtitle-overlay',
        }, _this.config);
        return _this;
    }
    SubtitleOverlay.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        var subtitleManager = new ActiveSubtitleManager();
        this.subtitleManager = subtitleManager;
        player.addEventHandler(player.EVENT.ON_CUE_ENTER, function (event) {
            // Sanitize cue data (must be done before the cue ID is generated in subtitleManager.cueEnter)
            if (event.position) {
                // Sometimes the positions are undefined, we assume them to be zero
                event.position.row = event.position.row || 0;
                event.position.column = event.position.column || 0;
            }
            var labelToAdd = subtitleManager.cueEnter(event);
            _this.preprocessLabelEventCallback.dispatch(event, labelToAdd);
            if (_this.previewSubtitleActive) {
                _this.removeComponent(_this.previewSubtitle);
            }
            _this.addComponent(labelToAdd);
            _this.updateComponents();
            _this.show();
        });
        player.addEventHandler(player.EVENT.ON_CUE_EXIT, function (event) {
            var labelToRemove = subtitleManager.cueExit(event);
            if (labelToRemove) {
                _this.removeComponent(labelToRemove);
                _this.updateComponents();
            }
            if (!subtitleManager.hasCues) {
                if (!_this.previewSubtitleActive) {
                    _this.hide();
                }
                else {
                    _this.addComponent(_this.previewSubtitle);
                    _this.updateComponents();
                }
            }
        });
        var subtitleClearHandler = function () {
            _this.hide();
            subtitleManager.clear();
            _this.removeComponents();
            _this.updateComponents();
        };
        player.addEventHandler(player.EVENT.ON_AUDIO_CHANGED, subtitleClearHandler);
        player.addEventHandler(player.EVENT.ON_SUBTITLE_CHANGED, subtitleClearHandler);
        player.addEventHandler(player.EVENT.ON_SEEK, subtitleClearHandler);
        player.addEventHandler(player.EVENT.ON_TIME_SHIFT, subtitleClearHandler);
        player.addEventHandler(player.EVENT.ON_PLAYBACK_FINISHED, subtitleClearHandler);
        player.addEventHandler(player.EVENT.ON_SOURCE_UNLOADED, subtitleClearHandler);
        uimanager.onComponentShow.subscribe(function (component) {
            if (component instanceof controlbar_1.ControlBar) {
                _this.getDomElement().addClass(_this.prefixCss(SubtitleOverlay.CLASS_CONTROLBAR_VISIBLE));
            }
        });
        uimanager.onComponentHide.subscribe(function (component) {
            if (component instanceof controlbar_1.ControlBar) {
                _this.getDomElement().removeClass(_this.prefixCss(SubtitleOverlay.CLASS_CONTROLBAR_VISIBLE));
            }
        });
        this.configureCea608Captions(player, uimanager);
        // Init
        subtitleClearHandler();
    };
    SubtitleOverlay.prototype.configureCea608Captions = function (player, uimanager) {
        var _this = this;
        // The calculated font size
        var fontSize = 0;
        // The required letter spacing spread the text characters evenly across the grid
        var fontLetterSpacing = 0;
        // Flag telling if a font size calculation is required of if the current values are valid
        var fontSizeCalculationRequired = true;
        // Flag telling if the CEA-608 mode is enabled
        var enabled = false;
        var updateCEA608FontSize = function () {
            var dummyLabel = new SubtitleLabel({ text: 'X' });
            dummyLabel.getDomElement().css({
                // By using a large font size we do not need to use multiple letters and can get still an
                // accurate measurement even though the returned size is an integer value
                'font-size': '200px',
                'line-height': '200px',
                'visibility': 'hidden',
            });
            _this.addComponent(dummyLabel);
            _this.updateComponents();
            _this.show();
            var dummyLabelCharWidth = dummyLabel.getDomElement().width();
            var dummyLabelCharHeight = dummyLabel.getDomElement().height();
            var fontSizeRatio = dummyLabelCharWidth / dummyLabelCharHeight;
            _this.removeComponent(dummyLabel);
            _this.updateComponents();
            if (!_this.subtitleManager.hasCues) {
                _this.hide();
            }
            // We subtract 1px here to avoid line breaks at the right border of the subtitle overlay that can happen
            // when texts contain whitespaces. It's probably some kind of pixel rounding issue in the browser's
            // layouting, but the actual reason could not be determined. Aiming for a target width - 1px would work in
            // most browsers, but Safari has a "quantized" font size rendering with huge steps in between so we need
            // to subtract some more pixels to avoid line breaks there as well.
            var subtitleOverlayWidth = _this.getDomElement().width() - 10;
            var subtitleOverlayHeight = _this.getDomElement().height();
            // The size ratio of the letter grid
            var fontGridSizeRatio = (dummyLabelCharWidth * SubtitleOverlay.CEA608_NUM_COLUMNS) /
                (dummyLabelCharHeight * SubtitleOverlay.CEA608_NUM_ROWS);
            // The size ratio of the available space for the grid
            var subtitleOverlaySizeRatio = subtitleOverlayWidth / subtitleOverlayHeight;
            if (subtitleOverlaySizeRatio > fontGridSizeRatio) {
                // When the available space is wider than the text grid, the font size is simply
                // determined by the height of the available space.
                fontSize = subtitleOverlayHeight / SubtitleOverlay.CEA608_NUM_ROWS;
                // Calculate the additional letter spacing required to evenly spread the text across the grid's width
                var gridSlotWidth = subtitleOverlayWidth / SubtitleOverlay.CEA608_NUM_COLUMNS;
                var fontCharWidth = fontSize * fontSizeRatio;
                fontLetterSpacing = gridSlotWidth - fontCharWidth;
            }
            else {
                // When the available space is not wide enough, texts would vertically overlap if we take
                // the height as a base for the font size, so we need to limit the height. We do that
                // by determining the font size by the width of the available space.
                fontSize = subtitleOverlayWidth / SubtitleOverlay.CEA608_NUM_COLUMNS / fontSizeRatio;
                fontLetterSpacing = 0;
            }
            // Update font-size of all active subtitle labels
            for (var _i = 0, _a = _this.getComponents(); _i < _a.length; _i++) {
                var label = _a[_i];
                if (label instanceof SubtitleLabel) {
                    label.getDomElement().css({
                        'font-size': fontSize + "px",
                        'letter-spacing': fontLetterSpacing + "px",
                    });
                }
            }
        };
        player.addEventHandler(player.EVENT.ON_PLAYER_RESIZE, function () {
            if (enabled) {
                updateCEA608FontSize();
            }
            else {
                fontSizeCalculationRequired = true;
            }
        });
        this.preprocessLabelEventCallback.subscribe(function (event, label) {
            var isCEA608 = event.position != null;
            if (!isCEA608) {
                // Skip all non-CEA608 cues
                return;
            }
            if (!enabled) {
                enabled = true;
                _this.getDomElement().addClass(_this.prefixCss(SubtitleOverlay.CLASS_CEA_608));
                // We conditionally update the font size by this flag here to avoid updating every time a subtitle
                // is added into an empty overlay. Because we reset the overlay when all subtitles are gone, this
                // would trigger an unnecessary update every time, but it's only required under certain conditions,
                // e.g. after the player size has changed.
                if (fontSizeCalculationRequired) {
                    updateCEA608FontSize();
                    fontSizeCalculationRequired = false;
                }
            }
            label.getDomElement().css({
                'left': event.position.column * SubtitleOverlay.CEA608_COLUMN_OFFSET + "%",
                'top': event.position.row * SubtitleOverlay.CEA608_ROW_OFFSET + "%",
                'font-size': fontSize + "px",
                'letter-spacing': fontLetterSpacing + "px",
            });
        });
        var reset = function () {
            _this.getDomElement().removeClass(_this.prefixCss(SubtitleOverlay.CLASS_CEA_608));
            enabled = false;
        };
        player.addEventHandler(player.EVENT.ON_CUE_EXIT, function () {
            if (!_this.subtitleManager.hasCues) {
                // Disable CEA-608 mode when all subtitles are gone (to allow correct formatting and
                // display of other types of subtitles, e.g. the formatting preview subtitle)
                reset();
            }
        });
        player.addEventHandler(player.EVENT.ON_SOURCE_UNLOADED, reset);
        player.addEventHandler(player.EVENT.ON_SUBTITLE_CHANGED, reset);
    };
    SubtitleOverlay.prototype.enablePreviewSubtitleLabel = function () {
        this.previewSubtitleActive = true;
        if (!this.subtitleManager.hasCues) {
            this.addComponent(this.previewSubtitle);
            this.updateComponents();
            this.show();
        }
    };
    SubtitleOverlay.prototype.removePreviewSubtitleLabel = function () {
        this.previewSubtitleActive = false;
        this.removeComponent(this.previewSubtitle);
        this.updateComponents();
    };
    SubtitleOverlay.CLASS_CONTROLBAR_VISIBLE = 'controlbar-visible';
    SubtitleOverlay.CLASS_CEA_608 = 'cea608';
    // The number of rows in a cea608 grid
    SubtitleOverlay.CEA608_NUM_ROWS = 15;
    // The number of columns in a cea608 grid
    SubtitleOverlay.CEA608_NUM_COLUMNS = 32;
    // The offset in percent for one row (which is also the height of a row)
    SubtitleOverlay.CEA608_ROW_OFFSET = 100 / SubtitleOverlay.CEA608_NUM_ROWS;
    // The offset in percent for one column (which is also the width of a column)
    SubtitleOverlay.CEA608_COLUMN_OFFSET = 100 / SubtitleOverlay.CEA608_NUM_COLUMNS;
    return SubtitleOverlay;
}(container_1.Container));
exports.SubtitleOverlay = SubtitleOverlay;
var SubtitleLabel = /** @class */ (function (_super) {
    __extends(SubtitleLabel, _super);
    function SubtitleLabel(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-subtitle-label',
        }, _this.config);
        return _this;
    }
    return SubtitleLabel;
}(label_1.Label));
var ActiveSubtitleManager = /** @class */ (function () {
    function ActiveSubtitleManager() {
        this.activeSubtitleCueMap = {};
        this.activeSubtitleCueCount = 0;
    }
    /**
     * Calculates a unique ID for a subtitle cue, which is needed to associate an ON_CUE_ENTER with its ON_CUE_EXIT
     * event so we can remove the correct subtitle in ON_CUE_EXIT when multiple subtitles are active at the same time.
     * The start time plus the text should make a unique identifier, and in the only case where a collision
     * can happen, two similar texts will be displayed at a similar time and a similar position (or without position).
     * The start time should always be known, because it is required to schedule the ON_CUE_ENTER event. The end time
     * must not necessarily be known and therefore cannot be used for the ID.
     * @param event
     * @return {string}
     */
    ActiveSubtitleManager.calculateId = function (event) {
        var id = event.start + '-' + event.text;
        if (event.position) {
            id += '-' + event.position.row + '-' + event.position.column;
        }
        return id;
    };
    /**
     * Adds a subtitle cue to the manager and returns the label that should be added to the subtitle overlay.
     * @param event
     * @return {SubtitleLabel}
     */
    ActiveSubtitleManager.prototype.cueEnter = function (event) {
        var id = ActiveSubtitleManager.calculateId(event);
        var label = new SubtitleLabel({
            // Prefer the HTML subtitle text if set, else use the plain text
            text: event.html || event.text,
        });
        // Create array for id if it does not exist
        this.activeSubtitleCueMap[id] = this.activeSubtitleCueMap[id] || [];
        // Add cue
        this.activeSubtitleCueMap[id].push({ event: event, label: label });
        this.activeSubtitleCueCount++;
        return label;
    };
    /**
     * Returns the label associated with an already added cue.
     * @param event
     * @return {SubtitleLabel}
     */
    ActiveSubtitleManager.prototype.getCues = function (event) {
        var id = ActiveSubtitleManager.calculateId(event);
        var activeSubtitleCues = this.activeSubtitleCueMap[id];
        if (activeSubtitleCues && activeSubtitleCues.length > 0) {
            return activeSubtitleCues.map(function (cue) { return cue.label; });
        }
        else {
            return null;
        }
    };
    /**
     * Removes the subtitle cue from the manager and returns the label that should be removed from the subtitle overlay,
     * or null if there is no associated label existing (e.g. because all labels have been {@link #clear cleared}.
     * @param event
     * @return {SubtitleLabel|null}
     */
    ActiveSubtitleManager.prototype.cueExit = function (event) {
        var id = ActiveSubtitleManager.calculateId(event);
        var activeSubtitleCues = this.activeSubtitleCueMap[id];
        if (activeSubtitleCues && activeSubtitleCues.length > 0) {
            // Remove cue
            /* We apply the FIFO approach here and remove the oldest cue from the associated id. When there are multiple cues
             * with the same id, there is no way to know which one of the cues is to be deleted, so we just hope that FIFO
             * works fine. Theoretically it can happen that two cues with colliding ids are removed at different times, in
             * the wrong order. This rare case has yet to be observed. If it ever gets an issue, we can take the unstable
             * cue end time (which can change between ON_CUE_ENTER and ON_CUE_EXIT IN ON_CUE_UPDATE) and use it as an
             * additional hint to try and remove the correct one of the colliding cues.
             */
            var activeSubtitleCue = activeSubtitleCues.shift();
            this.activeSubtitleCueCount--;
            return activeSubtitleCue.label;
        }
        else {
            return null;
        }
    };
    Object.defineProperty(ActiveSubtitleManager.prototype, "cueCount", {
        /**
         * Returns the number of active subtitle cues.
         * @return {number}
         */
        get: function () {
            // We explicitly count the cues to save an Array.reduce on every cueCount call (which can happen frequently)
            return this.activeSubtitleCueCount;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ActiveSubtitleManager.prototype, "hasCues", {
        /**
         * Returns true if there are active subtitle cues, else false.
         * @return {boolean}
         */
        get: function () {
            return this.cueCount > 0;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * Removes all subtitle cues from the manager.
     */
    ActiveSubtitleManager.prototype.clear = function () {
        this.activeSubtitleCueMap = {};
        this.activeSubtitleCueCount = 0;
    };
    return ActiveSubtitleManager;
}());


/***/ }),
/* 52 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var togglebutton_1 = __webpack_require__(5);
/**
 * A button that toggles casting to a Cast receiver.
 */
var CastToggleButton = /** @class */ (function (_super) {
    __extends(CastToggleButton, _super);
    function CastToggleButton(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-casttogglebutton',
            text: 'Google Cast',
        }, _this.config);
        return _this;
    }
    CastToggleButton.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        this.onClick.subscribe(function () {
            if (player.isCastAvailable()) {
                if (player.isCasting()) {
                    player.castStop();
                }
                else {
                    player.castVideo();
                }
            }
            else {
                if (console) {
                    console.log('Cast unavailable');
                }
            }
        });
        var castAvailableHander = function () {
            if (player.isCastAvailable()) {
                _this.show();
            }
            else {
                _this.hide();
            }
        };
        player.addEventHandler(player.EVENT.ON_CAST_AVAILABLE, castAvailableHander);
        // Toggle button 'on' state
        player.addEventHandler(player.EVENT.ON_CAST_WAITING_FOR_DEVICE, function () {
            _this.on();
        });
        player.addEventHandler(player.EVENT.ON_CAST_STARTED, function () {
            // When a session is resumed, there is no ON_CAST_START event, so we also need to toggle here for such cases
            _this.on();
        });
        player.addEventHandler(player.EVENT.ON_CAST_STOPPED, function () {
            _this.off();
        });
        // Startup init
        castAvailableHander(); // Hide button if Cast not available
        if (player.isCasting()) {
            this.on();
        }
    };
    return CastToggleButton;
}(togglebutton_1.ToggleButton));
exports.CastToggleButton = CastToggleButton;


/***/ }),
/* 53 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var container_1 = __webpack_require__(0);
var label_1 = __webpack_require__(6);
/**
 * Overlays the player and displays the status of a Cast session.
 */
var CastStatusOverlay = /** @class */ (function (_super) {
    __extends(CastStatusOverlay, _super);
    function CastStatusOverlay(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.statusLabel = new label_1.Label({ cssClass: 'ui-cast-status-label' });
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-cast-status-overlay',
            components: [_this.statusLabel],
            hidden: true,
        }, _this.config);
        return _this;
    }
    CastStatusOverlay.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        player.addEventHandler(player.EVENT.ON_CAST_WAITING_FOR_DEVICE, function (event) {
            _this.show();
            // Get device name and update status text while connecting
            var castDeviceName = event.castPayload.deviceName;
            _this.statusLabel.setText("Connecting to <strong>" + castDeviceName + "</strong>...");
        });
        player.addEventHandler(player.EVENT.ON_CAST_STARTED, function (event) {
            // Session is started or resumed
            // For cases when a session is resumed, we do not receive the previous events and therefore show the status panel
            // here too
            _this.show();
            var castDeviceName = event.deviceName;
            _this.statusLabel.setText("Playing on <strong>" + castDeviceName + "</strong>");
        });
        player.addEventHandler(player.EVENT.ON_CAST_STOPPED, function (event) {
            // Cast session gone, hide the status panel
            _this.hide();
        });
    };
    return CastStatusOverlay;
}(container_1.Container));
exports.CastStatusOverlay = CastStatusOverlay;


/***/ }),
/* 54 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var container_1 = __webpack_require__(0);
var label_1 = __webpack_require__(6);
var tvnoisecanvas_1 = __webpack_require__(83);
/**
 * Overlays the player and displays error messages.
 */
var ErrorMessageOverlay = /** @class */ (function (_super) {
    __extends(ErrorMessageOverlay, _super);
    function ErrorMessageOverlay(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.errorLabel = new label_1.Label({ cssClass: 'ui-errormessage-label' });
        _this.tvNoiseBackground = new tvnoisecanvas_1.TvNoiseCanvas();
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-errormessage-overlay',
            components: [_this.tvNoiseBackground, _this.errorLabel],
            hidden: true,
        }, _this.config);
        return _this;
    }
    ErrorMessageOverlay.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        var config = this.getConfig();
        player.addEventHandler(player.EVENT.ON_ERROR, function (event) {
            var message = event.message;
            // Process message translations
            if (config.messages) {
                if (typeof config.messages === 'function') {
                    // Translation function for all errors
                    message = config.messages(event);
                }
                else if (config.messages[event.code]) {
                    // It's not a translation function, so it must be a map of strings or translation functions
                    var customMessage = config.messages[event.code];
                    if (typeof customMessage === 'string') {
                        message = customMessage;
                    }
                    else {
                        // The message is a translation function, so we call it
                        message = customMessage(event);
                    }
                }
            }
            _this.errorLabel.setText(message);
            _this.tvNoiseBackground.start();
            _this.show();
        });
        player.addEventHandler(player.EVENT.ON_SOURCE_LOADED, function (event) {
            if (_this.isShown()) {
                _this.tvNoiseBackground.stop();
                _this.hide();
            }
        });
    };
    ErrorMessageOverlay.prototype.release = function () {
        _super.prototype.release.call(this);
        // Canvas rendering must be explicitly stopped, else it just continues forever and hogs resources
        this.tvNoiseBackground.stop();
    };
    return ErrorMessageOverlay;
}(container_1.Container));
exports.ErrorMessageOverlay = ErrorMessageOverlay;


/***/ }),
/* 55 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var container_1 = __webpack_require__(0);
var metadatalabel_1 = __webpack_require__(26);
/**
 * Displays a title bar containing a label with the title of the video.
 */
var TitleBar = /** @class */ (function (_super) {
    __extends(TitleBar, _super);
    function TitleBar(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-titlebar',
            hidden: true,
            components: [
                new metadatalabel_1.MetadataLabel({ content: metadatalabel_1.MetadataLabelContent.Title }),
                new metadatalabel_1.MetadataLabel({ content: metadatalabel_1.MetadataLabelContent.Description }),
            ],
            keepHiddenWithoutMetadata: false,
        }, _this.config);
        return _this;
    }
    TitleBar.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        var config = this.getConfig();
        var shouldBeShown = !this.isHidden();
        var hasMetadataText = true; // Flag to track if any metadata label contains text
        var checkMetadataTextAndUpdateVisibility = function () {
            hasMetadataText = false;
            // Iterate through metadata labels and check if at least one of them contains text
            for (var _i = 0, _a = _this.getComponents(); _i < _a.length; _i++) {
                var component = _a[_i];
                if (component instanceof metadatalabel_1.MetadataLabel) {
                    if (!component.isEmpty()) {
                        hasMetadataText = true;
                        break;
                    }
                }
            }
            if (_this.isShown()) {
                // Hide a visible titlebar if it does not contain any text and the hidden flag is set
                if (config.keepHiddenWithoutMetadata && !hasMetadataText) {
                    _this.hide();
                }
            }
            else if (shouldBeShown) {
                // Show a hidden titlebar if it should actually be shown
                _this.show();
            }
        };
        // Listen to text change events to update the hasMetadataText flag when the metadata dynamically changes
        for (var _i = 0, _a = this.getComponents(); _i < _a.length; _i++) {
            var component = _a[_i];
            if (component instanceof metadatalabel_1.MetadataLabel) {
                component.onTextChanged.subscribe(checkMetadataTextAndUpdateVisibility);
            }
        }
        uimanager.onControlsShow.subscribe(function () {
            shouldBeShown = true;
            if (!(config.keepHiddenWithoutMetadata && !hasMetadataText)) {
                _this.show();
            }
        });
        uimanager.onControlsHide.subscribe(function () {
            shouldBeShown = false;
            _this.hide();
        });
        // init
        checkMetadataTextAndUpdateVisibility();
    };
    return TitleBar;
}(container_1.Container));
exports.TitleBar = TitleBar;


/***/ }),
/* 56 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var container_1 = __webpack_require__(0);
var component_1 = __webpack_require__(2);
var dom_1 = __webpack_require__(1);
var stringutils_1 = __webpack_require__(10);
var hugereplaybutton_1 = __webpack_require__(57);
/**
 * Overlays the player and displays recommended videos.
 */
var RecommendationOverlay = /** @class */ (function (_super) {
    __extends(RecommendationOverlay, _super);
    function RecommendationOverlay(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.replayButton = new hugereplaybutton_1.HugeReplayButton();
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-recommendation-overlay',
            hidden: true,
            components: [_this.replayButton],
        }, _this.config);
        return _this;
    }
    RecommendationOverlay.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        var clearRecommendations = function () {
            for (var _i = 0, _a = _this.getComponents().slice(); _i < _a.length; _i++) {
                var component = _a[_i];
                if (component instanceof RecommendationItem) {
                    _this.removeComponent(component);
                }
            }
            _this.updateComponents();
            _this.getDomElement().removeClass(_this.prefixCss('recommendations'));
        };
        var setupRecommendations = function () {
            clearRecommendations();
            var recommendations = uimanager.getConfig().recommendations;
            if (recommendations.length > 0) {
                var index = 1;
                for (var _i = 0, recommendations_1 = recommendations; _i < recommendations_1.length; _i++) {
                    var item = recommendations_1[_i];
                    _this.addComponent(new RecommendationItem({
                        itemConfig: item,
                        cssClasses: ['recommendation-item-' + (index++)],
                    }));
                }
                _this.updateComponents(); // create container DOM elements
                _this.getDomElement().addClass(_this.prefixCss('recommendations'));
            }
        };
        // Add recommendation when a source is loaded
        player.addEventHandler(player.EVENT.ON_READY, setupRecommendations);
        // Remove recommendations and hide overlay when source is unloaded
        player.addEventHandler(player.EVENT.ON_SOURCE_UNLOADED, function () {
            clearRecommendations();
            _this.hide();
        });
        // Display recommendations when playback has finished
        player.addEventHandler(player.EVENT.ON_PLAYBACK_FINISHED, function () {
            // Dismiss ON_PLAYBACK_FINISHED events at the end of ads
            // TODO remove this workaround once issue #1278 is solved
            if (player.isAd()) {
                return;
            }
            _this.show();
        });
        // Hide recommendations when playback starts, e.g. a restart
        player.addEventHandler(player.EVENT.ON_PLAY, function () {
            _this.hide();
        });
        // Init on startup
        setupRecommendations();
    };
    return RecommendationOverlay;
}(container_1.Container));
exports.RecommendationOverlay = RecommendationOverlay;
/**
 * An item of the {@link RecommendationOverlay}. Used only internally in {@link RecommendationOverlay}.
 */
var RecommendationItem = /** @class */ (function (_super) {
    __extends(RecommendationItem, _super);
    function RecommendationItem(config) {
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-recommendation-item',
            itemConfig: null,
        }, _this.config);
        return _this;
    }
    RecommendationItem.prototype.toDomElement = function () {
        var config = this.config.itemConfig; // TODO fix generics and get rid of cast
        var itemElement = new dom_1.DOM('a', {
            'id': this.config.id,
            'class': this.getCssClasses(),
            'href': config.url,
        }).css({ 'background-image': "url(" + config.thumbnail + ")" });
        var bgElement = new dom_1.DOM('div', {
            'class': this.prefixCss('background'),
        });
        itemElement.append(bgElement);
        var titleElement = new dom_1.DOM('span', {
            'class': this.prefixCss('title'),
        }).append(new dom_1.DOM('span', {
            'class': this.prefixCss('innertitle'),
        }).html(config.title));
        itemElement.append(titleElement);
        var timeElement = new dom_1.DOM('span', {
            'class': this.prefixCss('duration'),
        }).append(new dom_1.DOM('span', {
            'class': this.prefixCss('innerduration'),
        }).html(config.duration ? stringutils_1.StringUtils.secondsToTime(config.duration) : ''));
        itemElement.append(timeElement);
        return itemElement;
    };
    return RecommendationItem;
}(component_1.Component));


/***/ }),
/* 57 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var button_1 = __webpack_require__(7);
var dom_1 = __webpack_require__(1);
/**
 * A button to play/replay a video.
 */
var HugeReplayButton = /** @class */ (function (_super) {
    __extends(HugeReplayButton, _super);
    function HugeReplayButton(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-hugereplaybutton',
            text: 'Replay',
        }, _this.config);
        return _this;
    }
    HugeReplayButton.prototype.configure = function (player, uimanager) {
        _super.prototype.configure.call(this, player, uimanager);
        this.onClick.subscribe(function () {
            player.play('ui');
        });
    };
    HugeReplayButton.prototype.toDomElement = function () {
        var buttonElement = _super.prototype.toDomElement.call(this);
        // Add child that contains the play button image
        // Setting the image directly on the button does not work together with scaling animations, because the button
        // can cover the whole video player are and scaling would extend it beyond. By adding an inner element, confined
        // to the size if the image, it can scale inside the player without overshooting.
        buttonElement.append(new dom_1.DOM('div', {
            'class': this.prefixCss('image'),
        }));
        return buttonElement;
    };
    return HugeReplayButton;
}(button_1.Button));
exports.HugeReplayButton = HugeReplayButton;


/***/ }),
/* 58 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var selectbox_1 = __webpack_require__(8);
/**
 * A select box providing a selection of different playback speeds.
 */
var PlaybackSpeedSelectBox = /** @class */ (function (_super) {
    __extends(PlaybackSpeedSelectBox, _super);
    function PlaybackSpeedSelectBox(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.defaultPlaybackSpeeds = [0.25, 0.5, 1, 1.5, 2];
        return _this;
    }
    PlaybackSpeedSelectBox.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        this.addDefaultItems();
        this.onItemSelected.subscribe(function (sender, value) {
            player.setPlaybackSpeed(parseFloat(value));
            _this.selectItem(value);
        });
        var setDefaultValue = function () {
            var playbackSpeed = player.getPlaybackSpeed();
            _this.setSpeed(playbackSpeed);
        };
        // when the player hits onReady again, adjust the playback speed selection
        player.addEventHandler(player.EVENT.ON_READY, setDefaultValue);
        if (player.EVENT.ON_PLAYBACK_SPEED_CHANGED) {
            // Since player 7.8.0
            player.addEventHandler(player.EVENT.ON_PLAYBACK_SPEED_CHANGED, setDefaultValue);
        }
    };
    PlaybackSpeedSelectBox.prototype.setSpeed = function (speed) {
        if (!this.selectItem(String(speed))) {
            // a playback speed was set which is not in the list, add it to the list to show it to the user
            this.clearItems();
            this.addDefaultItems([speed]);
            this.selectItem(String(speed));
        }
    };
    PlaybackSpeedSelectBox.prototype.addDefaultItems = function (customItems) {
        var _this = this;
        if (customItems === void 0) { customItems = []; }
        var sortedSpeeds = this.defaultPlaybackSpeeds.concat(customItems).sort();
        sortedSpeeds.forEach(function (element) {
            if (element !== 1) {
                _this.addItem(String(element), element + "x");
            }
            else {
                _this.addItem(String(element), 'Normal');
            }
        });
    };
    PlaybackSpeedSelectBox.prototype.clearItems = function () {
        this.items = [];
        this.selectedItem = null;
    };
    return PlaybackSpeedSelectBox;
}(selectbox_1.SelectBox));
exports.PlaybackSpeedSelectBox = PlaybackSpeedSelectBox;


/***/ }),
/* 59 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var container_1 = __webpack_require__(0);
var component_1 = __webpack_require__(2);
var timeout_1 = __webpack_require__(9);
/**
 * Overlays the player and displays a buffering indicator.
 */
var BufferingOverlay = /** @class */ (function (_super) {
    __extends(BufferingOverlay, _super);
    function BufferingOverlay(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.indicators = [
            new component_1.Component({ tag: 'div', cssClass: 'ui-buffering-overlay-indicator' }),
            new component_1.Component({ tag: 'div', cssClass: 'ui-buffering-overlay-indicator' }),
            new component_1.Component({ tag: 'div', cssClass: 'ui-buffering-overlay-indicator' }),
        ];
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-buffering-overlay',
            hidden: true,
            components: _this.indicators,
            showDelayMs: 1000,
        }, _this.config);
        return _this;
    }
    BufferingOverlay.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        var config = this.getConfig();
        var overlayShowTimeout = new timeout_1.Timeout(config.showDelayMs, function () {
            _this.show();
        });
        var showOverlay = function () {
            overlayShowTimeout.start();
        };
        var hideOverlay = function () {
            overlayShowTimeout.clear();
            _this.hide();
        };
        player.addEventHandler(player.EVENT.ON_STALL_STARTED, showOverlay);
        player.addEventHandler(player.EVENT.ON_STALL_ENDED, hideOverlay);
        player.addEventHandler(player.EVENT.ON_SOURCE_UNLOADED, hideOverlay);
        // Show overlay if player is already stalled at init
        if (player.isStalled()) {
            this.show();
        }
    };
    return BufferingOverlay;
}(container_1.Container));
exports.BufferingOverlay = BufferingOverlay;


/***/ }),
/* 60 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var container_1 = __webpack_require__(0);
var hugeplaybacktogglebutton_1 = __webpack_require__(61);
/**
 * Overlays the player and displays error messages.
 */
var PlaybackToggleOverlay = /** @class */ (function (_super) {
    __extends(PlaybackToggleOverlay, _super);
    function PlaybackToggleOverlay(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.playbackToggleButton = new hugeplaybacktogglebutton_1.HugePlaybackToggleButton();
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-playbacktoggle-overlay',
            components: [_this.playbackToggleButton],
        }, _this.config);
        return _this;
    }
    return PlaybackToggleOverlay;
}(container_1.Container));
exports.PlaybackToggleOverlay = PlaybackToggleOverlay;


/***/ }),
/* 61 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var playbacktogglebutton_1 = __webpack_require__(15);
var dom_1 = __webpack_require__(1);
/**
 * A button that overlays the video and toggles between playback and pause.
 */
var HugePlaybackToggleButton = /** @class */ (function (_super) {
    __extends(HugePlaybackToggleButton, _super);
    function HugePlaybackToggleButton(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-hugeplaybacktogglebutton',
            text: 'Play/Pause',
        }, _this.config);
        return _this;
    }
    HugePlaybackToggleButton.prototype.configure = function (player, uimanager) {
        var _this = this;
        // Update button state through API events
        _super.prototype.configure.call(this, player, uimanager, false);
        var togglePlayback = function () {
            if (player.isPlaying()) {
                player.pause('ui');
            }
            else {
                player.play('ui');
            }
        };
        var toggleFullscreen = function () {
            if (player.isFullscreen()) {
                player.exitFullscreen();
            }
            else {
                player.enterFullscreen();
            }
        };
        var firstPlay = true;
        var clickTime = 0;
        var doubleClickTime = 0;
        /*
         * YouTube-style toggle button handling
         *
         * The goal is to prevent a short pause or playback interval between a click, that toggles playback, and a
         * double click, that toggles fullscreen. In this naive approach, the first click would e.g. start playback,
         * the second click would be detected as double click and toggle to fullscreen, and as second normal click stop
         * playback, which results is a short playback interval with max length of the double click detection
         * period (usually 500ms).
         *
         * To solve this issue, we defer handling of the first click for 200ms, which is almost unnoticeable to the user,
         * and just toggle playback if no second click (double click) has been registered during this period. If a double
         * click is registered, we just toggle the fullscreen. In the first 200ms, undesired playback changes thus cannot
         * happen. If a double click is registered within 500ms, we undo the playback change and switch fullscreen mode.
         * In the end, this method basically introduces a 200ms observing interval in which playback changes are prevented
         * if a double click happens.
         */
        this.onClick.subscribe(function () {
            // Directly start playback on first click of the button.
            // This is a required workaround for mobile browsers where video playback needs to be triggered directly
            // by the user. A deferred playback start through the timeout below is not considered as user action and
            // therefore ignored by mobile browsers.
            if (firstPlay) {
                // Try to start playback. Then we wait for ON_PLAY and only when it arrives, we disable the firstPlay flag.
                // If we disable the flag here, onClick was triggered programmatically instead of by a user interaction, and
                // playback is blocked (e.g. on mobile devices due to the programmatic play() call), we loose the chance to
                // ever start playback through a user interaction again with this button.
                togglePlayback();
                return;
            }
            var now = Date.now();
            if (now - clickTime < 200) {
                // We have a double click inside the 200ms interval, just toggle fullscreen mode
                toggleFullscreen();
                doubleClickTime = now;
                return;
            }
            else if (now - clickTime < 500) {
                // We have a double click inside the 500ms interval, undo playback toggle and toggle fullscreen mode
                toggleFullscreen();
                togglePlayback();
                doubleClickTime = now;
                return;
            }
            clickTime = now;
            setTimeout(function () {
                if (Date.now() - doubleClickTime > 200) {
                    // No double click detected, so we toggle playback and wait what happens next
                    togglePlayback();
                }
            }, 200);
        });
        player.addEventHandler(player.EVENT.ON_PLAY, function () {
            // Playback has really started, we can disable the flag to switch to normal toggle button handling
            firstPlay = false;
        });
        player.addEventHandler(player.EVENT.ON_WARNING, function (event) {
            // 5008 == Playback could not be started
            if (event.code === 5008) {
                // if playback could not be started, reset the first play flag as we need the user interaction to start
                firstPlay = true;
            }
        });
        // Hide button while initializing a Cast session
        var castInitializationHandler = function (event) {
            if (event.type === player.EVENT.ON_CAST_START) {
                // Hide button when session is being initialized
                _this.hide();
            }
            else {
                // Show button when session is established or initialization was aborted
                _this.show();
            }
        };
        player.addEventHandler(player.EVENT.ON_CAST_START, castInitializationHandler);
        player.addEventHandler(player.EVENT.ON_CAST_STARTED, castInitializationHandler);
        player.addEventHandler(player.EVENT.ON_CAST_STOPPED, castInitializationHandler);
        var suppressPlayButtonTransitionAnimation = function () {
            // Disable the current animation
            _this.setTransitionAnimationsEnabled(false);
            // Enable the transition animations for the next state change
            _this.onToggle.subscribeOnce(function () {
                _this.setTransitionAnimationsEnabled(true);
            });
        };
        // Hide the play button animation when the UI is loaded (it should only be animated on state changes)
        suppressPlayButtonTransitionAnimation();
        var isAutoplayEnabled = player.getConfig().playback && Boolean(player.getConfig().playback.autoplay);
        // We only know if an autoplay attempt is upcoming if the player is not yet ready. It the player is already ready,
        // the attempt might be upcoming or might have already happened, but we don't have to handle that because we can
        // simply rely on isPlaying and the play state events.
        var isAutoplayUpcoming = !player.isReady() && isAutoplayEnabled;
        // Hide the play button when the player is already playing or autoplay is upcoming
        if (player.isPlaying() || isAutoplayUpcoming) {
            // Hide the play button (switch to playing state)
            this.on();
            // Disable the animation of the playing state switch
            suppressPlayButtonTransitionAnimation();
            // Show the play button without an animation if a play attempt is blocked
            player.addEventHandler(player.EVENT.ON_WARNING, function (event) {
                if (event.code === 5008) {
                    suppressPlayButtonTransitionAnimation();
                }
            });
        }
    };
    HugePlaybackToggleButton.prototype.toDomElement = function () {
        var buttonElement = _super.prototype.toDomElement.call(this);
        // Add child that contains the play button image
        // Setting the image directly on the button does not work together with scaling animations, because the button
        // can cover the whole video player are and scaling would extend it beyond. By adding an inner element, confined
        // to the size if the image, it can scale inside the player without overshooting.
        buttonElement.append(new dom_1.DOM('div', {
            'class': this.prefixCss('image'),
        }));
        return buttonElement;
    };
    /**
     * Enables or disables the play state transition animations of the play button image. Can be used to suppress
     * animations.
     * @param {boolean} enabled true to enable the animations (default), false to disable them
     */
    HugePlaybackToggleButton.prototype.setTransitionAnimationsEnabled = function (enabled) {
        var noTransitionAnimationsClass = this.prefixCss('no-transition-animations');
        if (enabled) {
            this.getDomElement().removeClass(noTransitionAnimationsClass);
        }
        else if (!this.getDomElement().hasClass(noTransitionAnimationsClass)) {
            this.getDomElement().addClass(noTransitionAnimationsClass);
        }
    };
    return HugePlaybackToggleButton;
}(playbacktogglebutton_1.PlaybackToggleButton));
exports.HugePlaybackToggleButton = HugePlaybackToggleButton;


/***/ }),
/* 62 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var button_1 = __webpack_require__(7);
/**
 * A button that closes (hides) a configured component.
 */
var CloseButton = /** @class */ (function (_super) {
    __extends(CloseButton, _super);
    function CloseButton(config) {
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-closebutton',
            text: 'Close',
        }, _this.config);
        return _this;
    }
    CloseButton.prototype.configure = function (player, uimanager) {
        _super.prototype.configure.call(this, player, uimanager);
        var config = this.getConfig();
        this.onClick.subscribe(function () {
            config.target.hide();
        });
    };
    return CloseButton;
}(button_1.Button));
exports.CloseButton = CloseButton;


/***/ }),
/* 63 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var togglebutton_1 = __webpack_require__(5);
/**
 * A button that toggles Apple AirPlay.
 */
var AirPlayToggleButton = /** @class */ (function (_super) {
    __extends(AirPlayToggleButton, _super);
    function AirPlayToggleButton(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-airplaytogglebutton',
            text: 'Apple AirPlay',
        }, _this.config);
        return _this;
    }
    AirPlayToggleButton.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        if (!player.isAirplayAvailable) {
            // If the player does not support Airplay (player 7.0), we just hide this component and skip configuration
            this.hide();
            return;
        }
        this.onClick.subscribe(function () {
            if (player.isAirplayAvailable()) {
                player.showAirplayTargetPicker();
            }
            else {
                if (console) {
                    console.log('AirPlay unavailable');
                }
            }
        });
        var airPlayAvailableHandler = function () {
            if (player.isAirplayAvailable()) {
                _this.show();
            }
            else {
                _this.hide();
            }
        };
        player.addEventHandler(player.EVENT.ON_AIRPLAY_AVAILABLE, airPlayAvailableHandler);
        // Startup init
        airPlayAvailableHandler(); // Hide button if AirPlay is not available
    };
    return AirPlayToggleButton;
}(togglebutton_1.ToggleButton));
exports.AirPlayToggleButton = AirPlayToggleButton;


/***/ }),
/* 64 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var togglebutton_1 = __webpack_require__(5);
/**
 * A button that toggles Apple macOS picture-in-picture mode.
 */
var PictureInPictureToggleButton = /** @class */ (function (_super) {
    __extends(PictureInPictureToggleButton, _super);
    function PictureInPictureToggleButton(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-piptogglebutton',
            text: 'Picture-in-Picture',
        }, _this.config);
        return _this;
    }
    PictureInPictureToggleButton.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        if (!player.isPictureInPictureAvailable) {
            // If the player does not support PIP (player 7.0), we just hide this component and skip configuration
            this.hide();
            return;
        }
        this.onClick.subscribe(function () {
            if (player.isPictureInPictureAvailable()) {
                if (player.isPictureInPicture()) {
                    player.exitPictureInPicture();
                }
                else {
                    player.enterPictureInPicture();
                }
            }
            else {
                if (console) {
                    console.log('PIP unavailable');
                }
            }
        });
        var pipAvailableHander = function () {
            if (player.isPictureInPictureAvailable()) {
                _this.show();
            }
            else {
                _this.hide();
            }
        };
        player.addEventHandler(player.EVENT.ON_READY, pipAvailableHander);
        // Toggle button 'on' state
        player.addEventHandler(player.EVENT.ON_PICTURE_IN_PICTURE_ENTER, function () {
            _this.on();
        });
        player.addEventHandler(player.EVENT.ON_PICTURE_IN_PICTURE_EXIT, function () {
            _this.off();
        });
        // Startup init
        pipAvailableHander(); // Hide button if PIP not available
        if (player.isPictureInPicture()) {
            this.on();
        }
    };
    return PictureInPictureToggleButton;
}(togglebutton_1.ToggleButton));
exports.PictureInPictureToggleButton = PictureInPictureToggleButton;


/***/ }),
/* 65 */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(66);
__webpack_require__(78);
module.exports = __webpack_require__(92);


/***/ }),
/* 66 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var angular = __webpack_require__(67);
var bitmovin_player_controller_1 = __webpack_require__(68);
var bitmovin_player_directive_1 = __webpack_require__(70);
exports.default = angular.module('mi.BitdashPlayer', [])
    .controller('MiBitdashController', bitmovin_player_controller_1.default)
    .directive('miBitdashPlayer', bitmovin_player_directive_1.default);


/***/ }),
/* 67 */
/***/ (function(module, exports) {

module.exports = angular;

/***/ }),
/* 68 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var webcast_state_1 = __webpack_require__(69);
var BitmovinPlayerController = /** @class */ (function () {
    function BitmovinPlayerController($scope, $log) {
        this.$scope = $scope;
        this.$log = $log;
        this.vm = {
            playerSource: null,
        };
    }
    BitmovinPlayerController.prototype.$onInit = function () {
        var hasValidConfig = this.$scope.config && this.$scope.webcast;
        if (hasValidConfig) {
            this.vm.playerSource = this.getPlayerSource(this.$scope.webcast);
        }
        else {
            this.$log.error("basic config for bitdash player is missing!");
        }
    };
    BitmovinPlayerController.prototype.getAudioOnlyPlayerConfig = function () {
        return this.$scope.webcast.theme.audioOnlyFileUrl ? {
            audioOnlyOverlayConfig: {
                backgroundImageUrl: this.$scope.webcast.theme.audioOnlyFileUrl,
                hiddeIndicator: true
            }
        } : {};
    };
    BitmovinPlayerController.prototype.getPlayerSource = function (webcast) {
        var options = this.$scope.options || {};
        var activeLanguage = this.getActiveLanguage(webcast.languages, webcast.language);
        var source = activeLanguage.player;
        if (options.forcedState === webcast_state_1.WebcastState.LIVE && activeLanguage.playerLive) {
            source = activeLanguage.playerLive;
        }
        return source;
    };
    BitmovinPlayerController.prototype.getActiveLanguage = function (languages, language) {
        return language ? languages.find(function (lang) { return language === lang.language; }) : languages[0];
    };
    BitmovinPlayerController.$inject = ['$scope', '$log'];
    return BitmovinPlayerController;
}());
exports.default = BitmovinPlayerController;


/***/ }),
/* 69 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var WebcastState;
(function (WebcastState) {
    WebcastState["LIVE"] = "live";
    WebcastState["POST_LIVE"] = "postlive";
    WebcastState["ONDEMAND"] = "ondemand";
})(WebcastState = exports.WebcastState || (exports.WebcastState = {}));


/***/ }),
/* 70 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var kollective_sdn_1_1_0_min_1 = __webpack_require__(71);
var player_source_type_1 = __webpack_require__(77);
var BitmovinPlayerDirective = function ($window, $log) { return ({
    controller: 'MiBitdashController',
    controllerAs: 'bitdashVm',
    replace: true,
    restrict: 'EA',
    scope: {
        config: '=',
        options: '=?',
        webcast: '=',
    },
    template: "<div id=\"mi-bitdash-player\" width=\"100%\" height=\"auto\"></div>",
    link: function (scope, element, attrs, controller) {
        var playerId = 'mi-bitdash-player';
        var webcast = scope.webcast;
        var playerConfig = scope.config;
        var player;
        init();
        function init() {
            if (!controller.vm.playerSource) {
                return;
            }
            switch (controller.vm.playerSource.type) {
                case player_source_type_1.PlayerSourceType.KSDN:
                    createKollectivePlayer();
                    break;
                case player_source_type_1.PlayerSourceType.HIVE:
                    createHivePlayer();
                    break;
                default:
                    createDefaultPlayer();
            }
        }
        function createDefaultPlayer() {
            playerConfig.source = { hls: controller.vm.playerSource.hlsUrl };
            createPlayer()
                .catch(function (err) { return playerErrorHandler(err); });
        }
        function createKollectivePlayer() {
            playerConfig.source = {}; // we want to set the source by the plugin
            var auth = controller.vm.playerSource.p2p.token;
            var urn = controller.vm.playerSource.p2p.urn;
            var host = controller.vm.playerSource.p2p.host;
            createPlayer()
                .then(function (playerApi) {
                var ksdnPlugin = new kollective_sdn_1_1_0_min_1.ksdn.Players.Bitmovin({ auth: auth, host: host });
                var livecycleHooks = getKollectiveLivecyleHooks();
                ksdnPlugin.play(playerApi, urn, livecycleHooks);
            })
                .catch(function (err) { return playerErrorHandler(err); });
        }
        function getKollectiveLivecyleHooks() {
            var errorPrefix = 'Kollective plugin error: ';
            return {
                onAgentNotDetected: function (plugin, reasons) {
                    $log.error(errorPrefix + " " + reasons);
                },
                onAgentRejected: function (plugin, criteria) {
                    if (!criteria.provisionedForCurrentUrn) {
                        $log.error(errorPrefix + " Agent detected but not provisioned for URN");
                    }
                    if (!criteria.notBlackedOut) {
                        $log.error(errorPrefix + " Agent detected but is currently blacked out");
                    }
                },
                onPlaybackRequestFailure: function (plugin, request) {
                    $log.error(errorPrefix + " onPlaybackRequestFailure: " + request);
                    return false;
                },
                onSessionFailure: function () {
                    $log.error(errorPrefix + " onSessionFailure");
                },
            };
        }
        function createHivePlayer() {
            var hivePluginFailed = false;
            playerConfig.source = {
                hls_ticket: controller.vm.playerSource.p2p.url
            };
            var hiveOptions = {
                HiveJava: {
                    onError: function () {
                        hivePluginFailed = true;
                    },
                },
                debugLevel: 'off',
            };
            var playerRef = $window.window.bitmovin.player(playerId);
            $window.window.bitmovin.initHiveSDN(playerRef, hiveOptions);
            createPlayer()
                .catch(function (err) {
                if (hivePluginFailed) {
                    $log.warn("Hive plugin failed, fallback to default player. Error: " + err);
                    setTimeout(function () {
                        createDefaultPlayer();
                    }, 60);
                }
                else {
                    playerErrorHandler(err);
                }
            });
        }
        function playerErrorHandler(error) {
            $log.error(error);
        }
        function setupPlayerUi(playerApi) {
            var isAudioOnly = webcast.layout.layout === 'audio-only';
            var bitmovinUIManager = $window.window.miBitmovinUi.playerui.UIManager.Factory;
            if (isAudioOnly) {
                bitmovinUIManager.buildAudioOnlyUI(playerApi, controller.getAudioOnlyPlayerConfig());
            }
            else {
                bitmovinUIManager.buildAudioVideoUI(playerApi);
            }
            var bitmovinControlbar = getElementsByClassName('bitmovinplayer-container');
            if (bitmovinControlbar) {
                bitmovinControlbar.style.minWidth = '175px';
                bitmovinControlbar.style.minHeight = '101px';
                $window.document.getElementById('bitmovinplayer-video-mi-bitdash-player').setAttribute('title', webcast.name);
            }
        }
        function getElementsByClassName(className) {
            return $window.document.getElementsByClassName(className)[0];
        }
        function createPlayer() {
            var playerSDK = $window.window.bitmovin.player(playerId);
            // TODO: set it in the app and not here
            playerConfig.style = { ux: false };
            return playerSDK.setup(playerConfig)
                .then(function (playerApi) {
                player = playerApi;
                setupPlayerUi(playerApi);
                return playerApi;
            });
        }
        function cleanup() {
            if (player) {
                player.destroy();
                player = null;
            }
        }
        scope.$on('$destroy', function () {
            cleanup();
        });
    }
}); };
exports.default = BitmovinPlayerDirective;
BitmovinPlayerDirective.$inject = ['$window', '$log'];


/***/ }),
/* 71 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(Buffer) {exports.ksdn=function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=10)}([function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.Strategy={AJAX:"AJAX",FLASH:"FLASH"};t.AgentRequestMode={Ajax:[r.AJAX],Flash:[r.FLASH],AjaxWithFlashFallback:[r.AJAX,r.FLASH]},t.PROTOCOL={HTTPS:"https://",HTTP:"http://",RTMP:"rtmp://"},t.MIME_TYPES={DASH:"application/dash+xml",HLS:"application/x-mpegURL"},t.STREAM_TYPE={FLASH:"FLASH",HDS:"HDS",HLS:"HLS",DASH:"DASH",SMOOTH:"SMOOTH",RTMP:"RTMP"},t.PLAYTYPE={VOD:"VOD",LIVE:"LIVE"},t.LIMITS={LIMIT_REPORT_EVENTS_INFO:4096,LIMIT_REPORT_SEGMENTS_INFO:4096,LIMIT_REPORT_NODE_NAME:16,LIMIT_REPORT_MACHINE_NAME:64},t.EVENT={player:{state_none:0,state_stop:1,state_pause:2,state_play:3,state_buffering:6,state_end:8,state_seek_forward:20,state_seek_reverse:21,state_reload:77,state_exit:99},agent:{detect_ajax:-61,detect_flash:-62,detect_success:-63,detect_timeout:-64,detect_error_ajax_cannot_open:-65,detect_error_invalid_version:-66,detect_error_flash_config:-67,detect_failure_ajax:-68,detect_failure_flash_load:-69,detect_failure_flash_embed:-70,detect_all_fail:-71}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,r){if(!(t<=0)){var i="edge"===(0,u.default)().browser,o=function(t){if(t||e.readyState!==XMLHttpRequest.DONE){!(i&&r)&&(e.onreadystatechange=null),t&&e.abort(),n(e)}};i?setTimeout(o,t):(e.ontimeout=o.bind(null,!0),e.timeout=t)}}Object.defineProperty(t,"__esModule",{value:!0}),t.XHR_ERROR=void 0,t.default=function(t){var n=t.method||"GET",r=t.url+(0,a.default)(t.params),o=Object.assign({},t.headers),s=null==t.expectJson||t.expectJson,u=null==t.async||t.async,f=t.onSuccess||c,d=t.onFailure||c,g=t.onError||c,h=t.onTimeout||c,p=t.timeout||0,m=t.body,y=t.continueAfterTimeout||!1;try{var v=new XMLHttpRequest;v.onreadystatechange=function(){if(v&&v.readyState===XMLHttpRequest.DONE)if(v.status>=200&&v.status<400){var t=s&&v.responseText?JSON.parse(v.responseText):v.responseText;f(t,v)}else v.status>=400?d(v):v.status<100&&e(function(){v.onreadystatechange&&g(v,l.NO_RESPONSE)})},v.open(n,r,u),i(v,p,h,y),s&&"GET"===n&&v.setRequestHeader("Accept","application/json");var T=o.auth;T&&(o.Authorization="Kontiki "+T,delete o.auth),Object.getOwnPropertyNames(o).forEach(function(e){v.setRequestHeader(e,o[e])}),v.send(m)}catch(e){g(null,l.CANNOT_OPEN)}};var o=n(9),a=r(o),s=n(4),u=r(s),c=function(){},l=t.XHR_ERROR={NO_RESPONSE:"no_ajax_response",CANNOT_OPEN:"ajax_cannot_open"}}).call(t,n(21).setImmediate)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){function e(e,t){return e&&t&&e.length>t?e.substring(0,t):e}var t,n,r=navigator.appVersion,i=navigator.userAgent,o="other",a="-";-1!=(t=i.indexOf("Opera"))?(o="opera",a=i.substring(t+6),-1!=(t=i.indexOf("Version"))&&(a=i.substring(t+8))):-1!=(t=i.indexOf("MSIE"))?(o="ie",a=i.substring(t+5)):-1!=(t=i.indexOf("Edge"))?(o="edge",a=i.substring(t+5)):-1!=(t=i.indexOf("Chrome"))?(o="chrome",a=i.substring(t+7)):-1!=(t=i.indexOf("Safari"))?(o="safari",a=i.substring(t+7),-1!=(t=i.indexOf("Version"))&&(a=i.substring(t+8))):-1!=(t=i.indexOf("Firefox"))?(o="firefox",a=i.substring(t+8)):-1!=i.indexOf("Trident/")?(o="ie",a=i.substring(i.indexOf("rv:")+3)):(o="other",a="-"),-1!=(n=a.indexOf(";"))&&(a=a.substring(0,n)),-1!=(n=a.indexOf(" "))&&(a=a.substring(0,n)),-1!=(n=a.indexOf(")"))&&(a=a.substring(0,n));var s="other",u=[{s:"Windows 3.11",r:/Win16/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows 2003",r:/Windows NT 5.2/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 10.0",r:/(Windows NT 10.0)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0)/},{s:"Windows windows",r:/(WinNT|Windows NT)/},{s:"Windows ME",r:/Windows ME/},{s:"Android",r:/Android/},{s:"OpenBSD",r:/OpenBSD/},{s:"SunOS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"MacOSX",r:/Mac OS X/},{s:"MacOS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"SearchBT",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}];for(var c in u){var l=u[c];if(l.r&&l.r.test(i)){s=l.s;break}}var f="";switch(/Windows/.test(s)&&(f=/Windows (.*)/.exec(s)[1],s="windows"),s){case"MacOSX":f=/Mac OS X (10[\.\_\d]+)/.exec(i)[1];break;case"Android":f=/Android ([\.\_\d]+)/.exec(i)[1];break;case"iOS":f=/OS (\d+)_(\d+)_?(\d+)?/.exec(r),f=f[1]+"."+f[2]+"."+(0|f[3])}return{browser:e(o,8),browserVersion:e(a,8),os:e(s,8),osVersion:e(f,8)}}},function(e,t,n){"use strict";function r(){}function i(e){try{return e.then}catch(e){return y=e,v}}function o(e,t){try{return e(t)}catch(e){return y=e,v}}function a(e,t,n){try{e(t,n)}catch(e){return y=e,v}}function s(e){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");if("function"!==typeof e)throw new TypeError("Promise constructor's argument is not a function");this._75=0,this._83=0,this._18=null,this._38=null,e!==r&&p(e,this)}function u(e,t,n){return new e.constructor(function(i,o){var a=new s(r);a.then(i,o),c(e,new h(t,n,a))})}function c(e,t){for(;3===e._83;)e=e._18;if(s._47&&s._47(e),0===e._83)return 0===e._75?(e._75=1,void(e._38=t)):1===e._75?(e._75=2,void(e._38=[e._38,t])):void e._38.push(t);l(e,t)}function l(e,t){m(function(){var n=1===e._83?t.onFulfilled:t.onRejected;if(null===n)return void(1===e._83?f(t.promise,e._18):d(t.promise,e._18));var r=o(n,e._18);r===v?d(t.promise,y):f(t.promise,r)})}function f(e,t){if(t===e)return d(e,new TypeError("A promise cannot be resolved with itself."));if(t&&("object"===typeof t||"function"===typeof t)){var n=i(t);if(n===v)return d(e,y);if(n===e.then&&t instanceof s)return e._83=3,e._18=t,void g(e);if("function"===typeof n)return void p(n.bind(t),e)}e._83=1,e._18=t,g(e)}function d(e,t){e._83=2,e._18=t,s._71&&s._71(e,t),g(e)}function g(e){if(1===e._75&&(c(e,e._38),e._38=null),2===e._75){for(var t=0;t<e._38.length;t++)c(e,e._38[t]);e._38=null}}function h(e,t,n){this.onFulfilled="function"===typeof e?e:null,this.onRejected="function"===typeof t?t:null,this.promise=n}function p(e,t){var n=!1,r=a(e,function(e){n||(n=!0,f(t,e))},function(e){n||(n=!0,d(t,e))});n||r!==v||(n=!0,d(t,y))}var m=n(13),y=null,v={};e.exports=s,s._47=null,s._71=null,s._44=r,s.prototype.then=function(e,t){if(this.constructor!==s)return u(this,e,t);var n=new s(r);return c(this,new h(e,t,n)),n}},function(e,t,n){var r,i,o;!function(n,a){i=[],r=a,void 0!==(o="function"===typeof r?r.apply(t,i):r)&&(e.exports=o)}(0,function(){function e(e,t){return-1===e.indexOf(t)?e.length:e.indexOf(t)}function t(t){var n=t.replace(/^v/,"").replace(/\+.*$/,""),r=e(n,"-"),i=n.substring(0,r).split(".");return i.push(n.substring(r+1)),i}function n(e){return isNaN(Number(e))?e:Number(e)}function r(e){if("string"!==typeof e)throw new TypeError("Invalid argument expected string");if(!i.test(e))throw new Error("Invalid argument not valid semver")}var i=/^v?(?:\d+)(\.(?:[x*]|\d+)(\.(?:[x*]|\d+)(\.(?:[x*]|\d+))?(?:-[\da-z\-]+(?:\.[\da-z\-]+)*)?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i;return function(e,i){[e,i].forEach(r);for(var o=t(e),a=t(i),s=0;s<Math.max(o.length-1,a.length-1);s++){var u=parseInt(o[s]||0,10),c=parseInt(a[s]||0,10);if(u>c)return 1;if(c>u)return-1}var l=o[o.length-1],f=a[a.length-1];if(l&&f){var d=l.split(".").map(n),g=f.split(".").map(n);for(s=0;s<Math.max(d.length,g.length);s++){if(void 0===d[s]||"string"===typeof g[s]&&"number"===typeof d[s])return-1;if(void 0===g[s]||"string"===typeof d[s]&&"number"===typeof g[s])return 1;if(d[s]>g[s])return 1;if(g[s]>d[s])return-1}}else if(l||f)return l?-1:1;return 0}})},function(e,t,n){(function(r){var i,o;!function(t,n){e.exports=n(t)}("undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof r?r:this,function(r){"use strict";var a,s=r.Base64;if("undefined"!==typeof e&&e.exports)try{a=n(20).Buffer}catch(e){}var u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=function(e){for(var t={},n=0,r=e.length;n<r;n++)t[e.charAt(n)]=n;return t}(u),l=String.fromCharCode,f=function(e){if(e.length<2){var t=e.charCodeAt(0);return t<128?e:t<2048?l(192|t>>>6)+l(128|63&t):l(224|t>>>12&15)+l(128|t>>>6&63)+l(128|63&t)}var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return l(240|t>>>18&7)+l(128|t>>>12&63)+l(128|t>>>6&63)+l(128|63&t)},d=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,g=function(e){return e.replace(d,f)},h=function(e){var t=[0,2,1][e.length%3],n=e.charCodeAt(0)<<16|(e.length>1?e.charCodeAt(1):0)<<8|(e.length>2?e.charCodeAt(2):0);return[u.charAt(n>>>18),u.charAt(n>>>12&63),t>=2?"=":u.charAt(n>>>6&63),t>=1?"=":u.charAt(63&n)].join("")},p=r.btoa?function(e){return r.btoa(e)}:function(e){return e.replace(/[\s\S]{1,3}/g,h)},m=a?a.from&&Uint8Array&&a.from!==Uint8Array.from?function(e){return(e.constructor===a.constructor?e:a.from(e)).toString("base64")}:function(e){return(e.constructor===a.constructor?e:new a(e)).toString("base64")}:function(e){return p(g(e))},y=function(e,t){return t?m(String(e)).replace(/[+\/]/g,function(e){return"+"==e?"-":"_"}).replace(/=/g,""):m(String(e))},v=function(e){return y(e,!0)},T=new RegExp(["[\xc0-\xdf][\x80-\xbf]","[\xe0-\xef][\x80-\xbf]{2}","[\xf0-\xf7][\x80-\xbf]{3}"].join("|"),"g"),S=function(e){switch(e.length){case 4:var t=(7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3),n=t-65536;return l(55296+(n>>>10))+l(56320+(1023&n));case 3:return l((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return l((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},E=function(e){return e.replace(T,S)},P=function(e){var t=e.length,n=t%4,r=(t>0?c[e.charAt(0)]<<18:0)|(t>1?c[e.charAt(1)]<<12:0)|(t>2?c[e.charAt(2)]<<6:0)|(t>3?c[e.charAt(3)]:0),i=[l(r>>>16),l(r>>>8&255),l(255&r)];return i.length-=[0,0,2,1][n],i.join("")},_=r.atob?function(e){return r.atob(e)}:function(e){return e.replace(/[\s\S]{1,4}/g,P)},b=a?a.from&&Uint8Array&&a.from!==Uint8Array.from?function(e){return(e.constructor===a.constructor?e:a.from(e,"base64")).toString()}:function(e){return(e.constructor===a.constructor?e:new a(e,"base64")).toString()}:function(e){return E(_(e))},A=function(e){return b(String(e).replace(/[-_]/g,function(e){return"-"==e?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,""))},w=function(){var e=r.Base64;return r.Base64=s,e};if(r.Base64={VERSION:"2.4.5",atob:_,btoa:p,fromBase64:A,toBase64:y,utob:g,encode:y,encodeURI:v,btou:E,decode:A,noConflict:w},"function"===typeof Object.defineProperty){var L=function(e){return{value:e,enumerable:!1,writable:!0,configurable:!0}};r.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",L(function(){return A(this)})),Object.defineProperty(String.prototype,"toBase64",L(function(e){return y(this,e)})),Object.defineProperty(String.prototype,"toBase64URI",L(function(){return y(this,!0)}))}}return r.Meteor&&(Base64=r.Base64),"undefined"!==typeof e&&e.exports?e.exports.Base64=r.Base64:(i=[],void 0!==(o=function(){return r.Base64}.apply(t,i))&&(e.exports=o)),{Base64:r.Base64}})}).call(t,n(0))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.replace(/^kontiki:/,"").split(":").reverse().slice(0,-2),n=t[3]||"prod1",o=r[n];return{moid:t[0],company:t[2],dms:n,host:i(null==o?n:o)}};var r={prod1:"",gmcorp:"wg1",eu:"eu1",lbg:"api.kontiki.service.group",vc10:"api-vc10.corp.kontiki.com",vc14:"api-vc14.kontiki.com",tc1rh5:"tc1"},i=function(e){return e.indexOf(".")>=0?"https://"+e:"https://api."+(e&&e+".")+"kontiki.com"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return null==e?"":(e=Object.getOwnPropertyNames(e).reduce(function(n,i){var a=e[i];return null==a?n:(!t&&o.has(i)&&(a=r.Base64.encodeURI(a)),n[i]=a,n)},{}),(0,i.stringify)(e,!0))};var r=n(7),i=n(24),o=new Set(["format","realmId","realmTicket"])},function(e,t,n){n(11),n(16),e.exports=n(17)},function(e,t,n){"use strict";"undefined"===typeof Promise&&(n(12).enable(),window.Promise=n(14)),Object.assign=n(15)},function(e,t,n){"use strict";function r(){c=!1,s._47=null,s._71=null}function i(e){function t(t){(e.allRejections||a(f[t].error,e.whitelist||u))&&(f[t].displayId=l++,e.onUnhandled?(f[t].logged=!0,e.onUnhandled(f[t].displayId,f[t].error)):(f[t].logged=!0,o(f[t].displayId,f[t].error)))}function n(t){f[t].logged&&(e.onHandled?e.onHandled(f[t].displayId,f[t].error):f[t].onUnhandled||(console.warn("Promise Rejection Handled (id: "+f[t].displayId+"):"),console.warn('  This means you can ignore any previous messages of the form "Possible Unhandled Promise Rejection" with id '+f[t].displayId+".")))}e=e||{},c&&r(),c=!0;var i=0,l=0,f={};s._47=function(e){2===e._83&&f[e._56]&&(f[e._56].logged?n(e._56):clearTimeout(f[e._56].timeout),delete f[e._56])},s._71=function(e,n){0===e._75&&(e._56=i++,f[e._56]={displayId:null,error:n,timeout:setTimeout(t.bind(null,e._56),a(n,u)?100:2e3),logged:!1})}}function o(e,t){console.warn("Possible Unhandled Promise Rejection (id: "+e+"):"),((t&&(t.stack||t))+"").split("\n").forEach(function(e){console.warn("  "+e)})}function a(e,t){return t.some(function(t){return e instanceof t})}var s=n(5),u=[ReferenceError,TypeError,RangeError],c=!1;t.disable=r,t.enable=i},function(e,t,n){"use strict";(function(t){function n(e){a.length||(o(),s=!0),a[a.length]=e}function r(){for(;u<a.length;){var e=u;if(u+=1,a[e].call(),u>c){for(var t=0,n=a.length-u;t<n;t++)a[t]=a[t+u];a.length-=u,u=0}}a.length=0,u=0,s=!1}function i(e){return function(){function t(){clearTimeout(n),clearInterval(r),e()}var n=setTimeout(t,0),r=setInterval(t,50)}}e.exports=n;var o,a=[],s=!1,u=0,c=1024,l="undefined"!==typeof t?t:self,f=l.MutationObserver||l.WebKitMutationObserver;o="function"===typeof f?function(e){var t=1,n=new f(e),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){t=-t,r.data=t}}(r):i(r),n.requestFlush=o,n.makeRequestCallFromTimer=i}).call(t,n(0))},function(e,t,n){"use strict";function r(e){var t=new i(i._44);return t._83=1,t._18=e,t}var i=n(5);e.exports=i;var o=r(!0),a=r(!1),s=r(null),u=r(void 0),c=r(0),l=r("");i.resolve=function(e){if(e instanceof i)return e;if(null===e)return s;if(void 0===e)return u;if(!0===e)return o;if(!1===e)return a;if(0===e)return c;if(""===e)return l;if("object"===typeof e||"function"===typeof e)try{var t=e.then;if("function"===typeof t)return new i(t.bind(e))}catch(e){return new i(function(t,n){n(e)})}return r(e)},i.all=function(e){var t=Array.prototype.slice.call(e);return new i(function(e,n){function r(a,s){if(s&&("object"===typeof s||"function"===typeof s)){if(s instanceof i&&s.then===i.prototype.then){for(;3===s._83;)s=s._18;return 1===s._83?r(a,s._18):(2===s._83&&n(s._18),void s.then(function(e){r(a,e)},n))}var u=s.then;if("function"===typeof u){return void new i(u.bind(s)).then(function(e){r(a,e)},n)}}t[a]=s,0===--o&&e(t)}if(0===t.length)return e([]);for(var o=t.length,a=0;a<t.length;a++)r(a,t[a])})},i.reject=function(e){return new i(function(t,n){n(e)})},i.race=function(e){return new i(function(t,n){e.forEach(function(e){i.resolve(e).then(t,n)})})},i.prototype.catch=function(e){return this.then(null,e)}},function(e,t,n){"use strict";function r(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,s,u=r(e),c=1;c<arguments.length;c++){n=Object(arguments[c]);for(var l in n)o.call(n,l)&&(u[l]=n[l]);if(i){s=i(n);for(var f=0;f<s.length;f++)a.call(n,s[f])&&(u[s[f]]=n[s[f]])}}return u}},function(e,t,n){"use strict";(function(e){e.version="1.1.0"}).call(t,n(2))},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(!e.sdnData)return null;if(e.sdnData.constructor===Array)for(var t=0;t<e.sdnData.length;t++){var n=e.sdnData[t];if(n&&n.encodingInfo)return n.encodingInfo}return e.sdnData.encodingInfo}function o(e){var t=P.default[e];if(null==t)throw"No player interface for "+e;if("function"!==typeof t.isPlaying||"function"!==typeof t.isLive||"function"!==typeof t.getPlayerPosition||"function"!==typeof t.getPlayerDuration||"function"!==typeof t.setEventHandlers)throw"Incomplete player interface: "+e;return t}function a(e){var t=o(e),n=s.bind(null,e,t);return Object.defineProperty(n,"name",{value:e})}function s(t,n,r){function o(e,t,n){var r=(0,v.default)(n),i=function(e){n===D&&C.onPlaybackRequestFailure&&C.onPlaybackRequestFailure(R,e)&&A&&y()};(0,S.default)({url:(e||r.host)+"/api/v2/playback/video/"+r.moid,headers:{auth:t},onSuccess:function(e){if(n===D){var t=e.playbackVideo;C.onPlaybackRequestSuccess&&C.onPlaybackRequestSuccess(R,t),a(t)}},onFailure:i,onError:i})}function a(e){j=e,s(e)}function s(e){var t=function(t,n){if(e.urn===D)if(t.isInstalled()){R.agent=t;var r={provisionedForCurrentUrn:(0,h.default)(t.getNamespace(),e.urn),notBlackedOut:!t.getInBlackout()},i=!Object.getOwnPropertyNames(r).reduce(function(e,t){return e&&r[t]},!0);if(i)return C.onAgentRejected&&C.onAgentRejected(R,r),void y(e);if(C.onAgentDetected){var o=!!t.getKToken();C.onAgentDetected(R,o,t)}l(e)}else C.onAgentNotDetected&&C.onAgentNotDetected(R,n),y(e)};F=u(e),x=new b.default({hostHttp:e.clientHost,portHttp:e.clientPortHttp,portRtmp:e.clientPortRtmp,portHttps:e.clientPortHttps,timeout:M,flashTimeout:N,flashLoaderUrl:O,agentRequestMode:_,eventLogger:F&&F.logger,callback:t}),F&&F.setAgent(x)}function u(e){if(E&&R.player){var r=P||(0,v.default)(e.urn).host;return new w.default(R.player,t,n,e,E,r,I)}}function l(e){if(R.agent){var t=function(t){if(e.urn===D){var n=t&&t.success?C.onSessionStart:C.onSessionFailure;n&&n(R),m(e)}};R.agent.setSessionData({realmId:e.realmId,realmTicket:e.realmTicket,noPreroll:!0},t)}}function g(e){var t=!!R.agent.getKToken(),n=i(e),r=t?void 0:{noPreroll:!0},o=R.agent.getStreamUrl(n,e.urn,r);return 0===o.length?(console.log("Cannot play stream of type "+n),null):o}function p(e){var t=i(e);R.agent.prefetchStream(t,e.urn,null,function(t){if(R.agent&&e.urn===D){if(t.error){if(!t.reasons.reduce(function(e,t){return e&&("timeout"===t.type||t.status>=400&&t.status<500)},!0))return void(C.onPrimingFailure&&C.onPrimingFailure(R))}C.onPrimingStart&&C.onPrimingStart(R),R.agent.startLongpoll(function(t,n){"string"===typeof t&&e.urn===D&&("manifestProgress"===t?(C.onProgress&&C.onProgress(R,n.progress,e.urn),n.ready&&T(e,g(e),!0)):C.onCommand&&C.onCommand(R,t,n))})}})}function m(e){(0,f.default)(R.getAgentData().version,"10.0")>=0?p(e):T(e,g(e),!0)}function y(e){var t=A||e.mediaCdnUrl;if(!t&&e.sdnData){var n=e.sdnData;n.length&&n.length>0&&(n=n[0]),n&&n.mediaCdnUrl&&(t=n.mediaCdnUrl)}T(e,t,!1)}function T(e,t,n){var r=!n&&A&&L,o=r?L:d.MIME_TYPES[i(e)];if(!k||!t||!o||!R.player)return void console.log("Cannot play source: "+t);C.willSetSource&&C.willSetSource(R),k(R.player,t,o,n),F&&F.saveState(),C.didSetSource&&C.didSetSource(R)}var E,P,_,A,L,O,N,I,M,k,R=this;this.player=null,this.agent=null;var D,C,F,x,j;return this.configure=function(e){var t=function(t,n){return void 0===e[t]?n:e[t]},n=P,r=E;P=t("host",n),E=t("auth",r);var i=!!D&&(P!=n||E!=r);_=t("agentRequestMode",_)||d.AgentRequestMode.NoFlash,A=t("fallbackSrc",A),L=t("fallbackType",L),O=t("flashLoaderUrl",O),N=t("flashTimeout",N),I=t("reportInterval",I),M=t("timeout",M),F&&F.setReportInterval(I),i&&this.stop()}.bind(this),this.play=function(e,t,r){if("function"!==typeof(k=r.setSource||n.setSource))throw"Missing setSource callback: requried when the player interface lacks an implementation";var i,s;if("string"===typeof t?i=t:"object"===("undefined"===typeof t?"undefined":c(t))&&(s=t.playbackVideo||t,i=s.urn),i){if(D&&D!==i)return void this.stop(function(){this.play(e,t,r)}.bind(this));D=i,C=r,this.player=e,s?a(s):o(P,E,i)}}.bind(this),this.stop=function(e){if(!D||!this.agent)return void(e&&e());D=null,C=null,F.disconnect(),F=null,this.player=null,this.agent.stopStream(j.urn,e),this.agent.stopLongpoll(),j=null,this.agent=null}.bind(this),this.getAgentData=function(){return e.agentData},this.getLogs=function(){return e.agentLogs},this.flushLogs=function(){return e.agentLogs="",e.agentLogs},function(){return r&&R.configure(r),R}()}function u(e,t){P.default[e]=Object.assign(P.default[e]||{},t),L[e]=a(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.KollectiveAgent=t.AgentRequestMode=t.createPublicToken=t.installPlayerPlugin=t.Players=t.$g=void 0;var c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=n(6),f=r(l),d=n(1),g=n(18),h=r(g),p=n(19),m=r(p),y=n(8),v=r(y),T=n(3),S=r(T),E=n(25),P=r(E),_=n(26),b=r(_),A=n(27),w=r(A);console.log("Kollective SDK v"+e.version);var L={};for(var O in P.default)P.default.hasOwnProperty(O)&&u(O,P.default[O]);t.$g=e,t.Players=L,t.installPlayerPlugin=u,t.createPublicToken=m.default,t.AgentRequestMode=d.AgentRequestMode,t.KollectiveAgent=b.default}).call(t,n(2))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=(t||"").split(":"),r=n.indexOf("moid");if(r<0)return!1;var i=n.slice(0,r).join(":")+":";return(e||"").split(",").filter(Boolean).reduce(function(e,t){return e||0===i.indexOf(t)},!1)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=t;return t.indexOf(":")>=0&&(n=(0,o.default)(t).company),"pub-"+r.Base64.encode(e+"#"+n)};var r=n(7),i=n(8),o=function(e){return e&&e.__esModule?e:{default:e}}(i)},function(e,t){if("undefined"===typeof Buffer){var n=new Error('Cannot find module "Buffer"');throw n.code="MODULE_NOT_FOUND",n}e.exports=Buffer},function(e,t,n){(function(e){function r(e,t){this._id=e,this._clearFn=t}var i="undefined"!==typeof e&&e||"undefined"!==typeof self&&self||window,o=Function.prototype.apply;t.setTimeout=function(){return new r(o.call(setTimeout,i,arguments),clearTimeout)},t.setInterval=function(){return new r(o.call(setInterval,i,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(i,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(22),t.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof e&&e.clearImmediate||this&&this.clearImmediate}).call(t,n(0))},function(e,t,n){(function(e,t){!function(e,n){"use strict";function r(e){"function"!==typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var r={callback:e,args:t};return c[u]=r,s(u),u++}function i(e){delete c[e]}function o(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}function a(e){if(l)setTimeout(a,0,e);else{var t=c[e];if(t){l=!0;try{o(t)}finally{i(e),l=!1}}}}if(!e.setImmediate){var s,u=1,c={},l=!1,f=e.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(e);d=d&&d.setTimeout?d:e,"[object process]"==={}.toString.call(e.process)?function(){s=function(e){t.nextTick(function(){a(e)})}}():function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"===typeof n.data&&0===n.data.indexOf(t)&&a(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),s=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){a(e.data)},s=function(t){e.port2.postMessage(t)}}():f&&"onreadystatechange"in f.createElement("script")?function(){var e=f.documentElement;s=function(t){var n=f.createElement("script");n.onreadystatechange=function(){a(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():function(){s=function(e){setTimeout(a,0,e)}}(),d.setImmediate=r,d.clearImmediate=i}}("undefined"===typeof self?"undefined"===typeof e?this:e:self)}).call(t,n(0),n(23))},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(e){if(l===setTimeout)return setTimeout(e,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function o(e){if(f===clearTimeout)return clearTimeout(e);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function a(){p&&g&&(p=!1,g.length?h=g.concat(h):m=-1,h.length&&s())}function s(){if(!p){var e=i(a);p=!0;for(var t=h.length;t;){for(g=h,h=[];++m<t;)g&&g[m].run();m=-1,t=h.length}g=null,p=!1,o(e)}}function u(e,t){this.fun=e,this.array=t}function c(){}var l,f,d=e.exports={};!function(){try{l="function"===typeof setTimeout?setTimeout:n}catch(e){l=n}try{f="function"===typeof clearTimeout?clearTimeout:r}catch(e){f=r}}();var g,h=[],p=!1,m=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];h.push(new u(e,t)),1!==h.length||p||i(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=c,d.addListener=c,d.once=c,d.off=c,d.removeListener=c,d.removeAllListeners=c,d.emit=c,d.prependListener=c,d.prependOnceListener=c,d.listeners=function(e){return[]},d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(e,t,n){"use strict";function r(e){return decodeURIComponent(e.replace(/\+/g," "))}function i(e){for(var t,n=/([^=?&]+)=?([^&]*)/g,i={};t=n.exec(e);){var o=r(t[1]),a=r(t[2]);o in i||(i[o]=a)}return i}function o(e,t){t=t||"";var n=[];"string"!==typeof t&&(t="?");for(var r in e)a.call(e,r)&&n.push(encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return n.length?t+n.join("&"):""}var a=Object.prototype.hasOwnProperty;t.stringify=o,t.parse=i},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1);t.default={Amp:{isPlaying:function(e){return!(e.seeking||e.paused||e.ended)},isLive:function(e){return e.isLive()},getPlayerPosition:function(e){return 1e3*e.currentTime},getPlayerDuration:function(e){return 1e3*e.duration},setEventHandlers:function(e,t){var n=window.amp.eventName;e.addEventListener(n.timeupdate,t.onTimeUpdate),e.addEventListener(n.error,t.onError),e.addEventListener(n.pause,t.onPause),e.addEventListener(n.play,t.onPlay),e.addEventListener(n.ended,t.onEnd),e.addEventListener(n.seeked,t.onSeekEnd),e.addEventListener(n.waiting,t.onBuffering),e.addEventListener(n.canplaythrough,t.onCanPlay)},setSource:function(e,t,n){e.src([{src:t,type:n}])}},Bitmovin:{isPlaying:function(e){return e.isPlaying()},isLive:function(e){return e.isLive()},getPlayerPosition:function(e){return 1e3*e.getCurrentTime()},getPlayerDuration:function(e){return 1e3*e.getDuration()},setEventHandlers:function(e,t){var n=e.EVENT||window.bitmovin.player.PlayerEvent,r=e.EVENT?"addEventHandler":"on";e[r](n.ON_TIME_CHANGED||n.TimeChanged,t.onTimeUpdate),e[r](n.ON_ERROR||n.Error,t.onError),e[r](n.ON_PAUSED||n.Paused,t.onPause),e[r](n.ON_PLAY||n.Play,t.onPlay),e[r](n.ON_PLAYBACK_FINISHED||n.PlaybackFinished,t.onEnd),e[r](n.ON_SEEKED||n.Seeked,t.onSeekEnd),e[r](n.ON_TIME_SHIFTED||n.TimeShifted,t.onSeekEnd),e[r](n.ON_STALL_STARTED||n.StallStarted,t.onBuffering),e[r](n.ON_STALL_ENDED||n.StallEnded,t.onCanPlay)},setSource:function(e,t,n){var o=function(){switch(n){case i.MIME_TYPES.DASH:return"dash";default:return"hls"}}();e.load(r({},o,t)).then(function(){return e.play()}).catch(function(e){console.log("Bitmovin player load error: "+e)})}},Dashjs:{isPlaying:function(e){return!(e.isSeeking||e.isPaused)},isLive:function(e){return e.isDynamic()},getPlayerPosition:function(e){return 1e3*e.time()},getPlayerDuration:function(e){return 1e3*e.duration()},setEventHandlers:function(e,t){var n=window.dashjs.MediaPlayer.events;e.on(n.PLAYBACK_TIME_UPDATED,t.onTimeUpdate,this),e.on(n.ERROR,t.onError,this),e.on(n.PLAYBACK_PAUSED,t.onPause,this),e.on(n.PLAYBACK_PLAYING,t.onPlay,this),e.on(n.PLAYBACK_ENDED,t.onEnd,this),e.on(n.PLAYBACK_SEEKED,t.onSeekEnd,this),e.on(n.BUFFER_EMPTY,t.onBuffering,this),e.on(n.CAN_PLAY,t.onCanPlay,this)},setSource:function(e,t){e.setAutoPlay(!0),e.attachSource(t)}},Flow:{isPlaying:function(e){return e.playing},isLive:function(e){return e.live},getPlayerPosition:function(e){return e.ready?1e3*e.video.time:0},getPlayerDuration:function(e){return e.ready?1e3*e.video.duration:0},setEventHandlers:function(e,t){e.on("progress",t.onTimeUpdate),e.on("error",t.onError),e.on("pause",t.onPause),e.on("ready",t.onPlay),e.on("resume",t.onPlay),e.on("finish",t.onEnd),e.on("seek",t.onSeekEnd),e.on("buffer",function(){e.video.buffer>e.video.time?t.onCanPlay():t.onBuffering()})},setSource:function(e,t,n){e.load({sources:[{src:t,type:n}]})}},Jwplayer:{isPlaying:function(e){return"playing"===e.getState()},isLive:function(e){return!isFinite(e.duration())},getPlayerPosition:function(e){return 1e3*e.getPosition()},getPlayerDuration:function(e){return 1e3*e.getDuration()},setEventHandlers:function(e,t){e.on("time",t.onTimeUpdate),e.on("error",t.onError),e.on("pause",t.onPause),e.on("play",function(e){"buffering"===e.oldstate&&t.onCanPlay(),t.onPlay()}),e.on("complete",t.onEnd),e.on("seeked",t.onSeekEnd),e.on("buffer",t.onBuffering),e.on("bufferChange",function(n){100===n.bufferPercent&&"playing"!==e.getState()&&t.onCanPlay()})},setSource:function(e,t){e.setup({file:t,autostart:"viewable"})}},Theo:{isPlaying:function(e){return!(e.seeking||e.paused||e.ended)},isLive:function(e){return!isFinite(e.duration)},getPlayerPosition:function(e){return 1e3*e.currentTime},getPlayerDuration:function(e){return 1e3*e.duration},setEventHandlers:function(e,t){e.addEventListener("timeupdate",t.onTimeUpdate),e.addEventListener("error",t.onError),e.addEventListener("pause",t.onPause),e.addEventListener("playing",t.onPlay),e.addEventListener("ended",t.onEnd),e.addEventListener("seeked",t.onSeekEnd),e.addEventListener("waiting",t.onBuffering),e.addEventListener("canplaythrough",t.onCanPlay)},setSource:function(e,t,n){e.source={sources:[{src:t,type:n}]},e.play()}},Videojs:{isPlaying:function(e){return!(e.seeking||e.paused||e.ended)},isLive:function(e){return!isFinite(e.duration())},getPlayerPosition:function(e){return 1e3*e.currentTime},getPlayerDuration:function(e){return 1e3*e.duration()},setEventHandlers:function(e,t){e.on("timeupdate",t.onTimeUpdate),e.on("error",t.onError),e.on("pause",t.onPause),e.on("play",t.onPlay),e.on("ended",t.onEnd),e.on("seeked",t.onSeekEnd),e.on("stalled",t.onBuffering),e.on("canplay",t.onCanPlay)},setSource:function(e,t,n){e.src({src:t,type:n}),e.play()}}}},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return"$g."+e+"Response"}function o(t){function n(e,t){I[e]=I[e]||[],I[e].push(t)}function r(e){if(e.strategies=(e.strategies||o()).slice(),0===e.strategies.length)return void e.onAllStrategiesFailed(I[e.requestId]);null==e.requestId&&(e.requestId=M,M++);var t=e.uri.split("/"),n=t[t.length-1],a=e.options||{};switch(e.callbackParam=e.callbackParam||i(n),e.expectJson=null==e.expectJson||e.expectJson,e.onStart=e.onStart||T,e.onTimeout=e.onTimeout||E,e.onError=e.onError||P,e.onFailure=e.onFailure||_,e.continueAfterTimeout=e.continueAfterTimeout||!1,e.flashDivId=a.flashDivId||"kollectiveAgent",e.flashTimeout=a.flashTimeout||V,e.timeout=a.timeout||e.defaultTimeout||B,e.strategies.shift()){case c.Strategy.AJAX:h(e.protocol||c.PROTOCOL.HTTPS,e);break;case c.Strategy.FLASH:y(e.protocol||c.PROTOCOL.HTTP,e);break;default:r(e)}}function o(){return O.isInstalled()?s(W):W}function s(e){e=e.slice();for(var t=[];e.length>0;){var n=e.shift();(function(e){switch(e){case c.Strategy.AJAX:return O.checkMinVersion("10.0");case c.Strategy.FLASH:return!0;default:return!1}})(n)&&t.push(n)}return t}function l(e,t){switch(e){case c.PROTOCOL.HTTPS:return c.PROTOCOL.HTTPS+F+":"+H+t;case c.PROTOCOL.HTTP:return c.PROTOCOL.HTTP+C+":"+x+t;case c.PROTOCOL.RTMP:return c.PROTOCOL.RTMP+C+":"+j+t;default:return null}}function h(e,t){var n=t.method,i=t.expectJson,o=t.timeout,a=t.continueAfterTimeout,s=t.uri,u=t.params,f=t.ignoreBase64Encoding,d=t.requestId,h=t.onStart,m=t.onSuccess,y=t.onFailure,v=t.onError,T=t.onTimeout,S=l(e,s)+(0,p.default)(u,f),E=c.Strategy.AJAX;h&&h(E,S),(0,g.default)({url:S,method:n,expectJson:i,timeout:o,continueAfterTimeout:a,onSuccess:m.bind(null,E),onFailure:function(e){y(E,d,e,"ajax"),r(t)},onError:function(e,n){v(E,d,e,n),r(t)},onTimeout:function(e){T(E,d,e),r(t)}})}function y(t,n){e.timeoutTripped=!1;var i=Object.assign({},n.params);i.callback=n.callbackParam,e.lastFlashUrl=(l(t,n.uri)+(0,p.default)(i,n.ignoreBase64Encoding)).replace("&","%26"),n.onStart&&n.onStart(c.Strategy.FLASH,e.lastFlashUrl),e.timeoutFlash=n.flashTimeout;var o=function(e){n.onFailure(c.Strategy.FLASH,n.requestId,null,e),r(n)};if("undefined"!=typeof window.swfobject){e.flashSuccessCallback=n.onSuccess.bind(null,c.Strategy.FLASH),e.flashFailureCallback=o,e.flashTimeoutCallback=function(){e.timeoutTripped=!0,n.onTimeout(c.Strategy.FLASH,n.requestId),r(n)};var a={url:e.lastFlashUrl},s={allowscriptaccess:"always"};window.swfobject.embedSWF(U,n.flashDivId,"8","8","10.0.0","",a,s,"",function(t){t.success?(e.timeoutTripped=!1,e.flashLoadTimeoutID=setTimeout(e.flashTimeoutCallback,e.timeoutFlash)):o("flash_embed")})}else n.onError(c.Strategy.FLASH,n.requestId,"flash_config"),r(n)}function v(e){q&&q.addAgentEvent&&e&&q.addAgentEvent(e)}function T(t,n){switch(t){case c.Strategy.AJAX:e.agentLogs+="Attempting AJAX request";break;case c.Strategy.FLASH:e.agentLogs+="Attempting FLASH request"}e.agentLogs+=": "+n}function S(t,n){return t=t||function(){},n=n||function(){return null},function(r,i){switch(r){case c.Strategy.AJAX:e.agentLogs+="AJAX request succeeded\n",t(i);break;case c.Strategy.FLASH:e.agentLogs+="FLASH request succeeded\n",t(n())}}}function E(t,r,i){switch(n(r,{type:"timeout",reason:"timeout",strategy:t,status:i.status}),t){case c.Strategy.AJAX:e.agentLogs+="AJAX request timed out\n";break;case c.Strategy.FLASH:e.agentLogs+="FLASH request timed out\n"}}function P(t,r,i,o){switch(n(r,{type:"error",reason:o,strategy:t,status:i?i.status:0}),t){case c.Strategy.AJAX:e.agentLogs+="AJAX request failed with error:"+o+"\n";break;case c.Strategy.FLASH:e.agentLogs+="FLASH request failed due to improper Flash configuration\n"}}function _(t,r,i,o){switch(n(r,{type:"error",reason:o,strategy:t,status:i.status}),t){case c.Strategy.AJAX:e.agentLogs+="AJAX request failed:"+i.statusText+" \n";break;case c.Strategy.FLASH:e.agentLogs+="FLASH request failed\n"}}function b(e){return function(t){e({error:"Request failed",reasons:t})}}function A(e){return Object.assign(Object.assign({},e),L)}function w(t,n,i){R=(new Date).getTime(),r({uri:"/api/v1/longpoll",params:n,defaultTimeout:3e4,continueAfterTimeout:!0,options:i,onSuccess:S(function(e){if(!k){var r=!!e&&e.ts,o=!!e&&e.cmd,a=!!e&&e.params;if("manifestProgress"===o){var s=a&&a.percent,u=!!s&&100===parseInt(s);t(o,{progress:parseInt(s),ready:u})}else t(o,a);if(!k){var c=Object.assign({},n);c.ts=r,w(t,c,i)}}},function(){return e.longpollData}),onAllStrategiesFailed:function(e){if(!k){e=e||[];var r=e.filter(function(e){return!("timeout"===e.reason||e.reason===d.XHR_ERROR.NO_RESPONSE)}),o=0;if(r.length>0)t({error:"Longpoll request failed. Attempting again.",reasons:r});else{var a=(new Date).getTime()-R;o=Math.max(0,3e4-a);if("edge"===(0,f.default)().browser&&e.filter(function(e){return"timeout"===e.reason}).length>0)return}setTimeout(function(){k||w(t,n,i)},o)}}})}if("object"!==("undefined"===typeof t?"undefined":a(t)))throw"KollectiveAgent Error: No parameter object passed in";e.agentData=null,e.agentLogs="",e.timeoutTripped=!1;var L,O=this,N=!1,I={},M=1,k=!0,R=null,D=t.callback||function(){},C=t.hostHttp||"127.0.0.1",F=t.hostHttps||"client.kontiki.com",x=""+(t.portHttp||"31013"),j=""+(t.portRtmp||"31014"),H=""+(t.portHttps||"31015"),V=t.flashTimeout||5e3,B=t.timeout||5e3,U=t.flashLoaderUrl||"flash/kontikiagentflashloader-3.swf",W=t.agentRequestMode||c.AgentRequestMode.Ajax,q=t.eventLogger;!function(){r({strategies:W,uri:"/kontiki/kontiki/cache/RetrieveAgentData",callbackParam:i("agent"),onStart:function(t){switch(t){case c.Strategy.AJAX:v(c.EVENT.agent.detect_sajax),e.agentLogs+="Attempting AJAX detection\n";break;case c.Strategy.FLASH:v(c.EVENT.agent.detect_flash),e.agentLogs+="Attempting FLASH detection\n"}},onSuccess:function(t,n,r){switch(t){case c.Strategy.AJAX:if(!n||!n.version)throw v(c.EVENT.agent.detect_error_invalid_version),"responseText lacked agent version: "+r.responseText;v(c.EVENT.agent.detect_success),e.agentLogs+="AJAX detection succeeded! Agent version:"+n.version+"\n",e.agentData=n,D(O);break;case c.Strategy.FLASH:v(c.EVENT.agent.detect_success),e.agentLogs+="FLASH detection has succeeded\n",N=!0,D(O)}},onTimeout:function(t,r,i){switch(n(r,{type:"timeout",reason:"timeout",strategy:t,status:i.status}),v(c.EVENT.agent.detect_timeout),t){case c.Strategy.AJAX:e.agentLogs+="AJAX detection timed out\n";break;case c.Strategy.FLASH:e.agentLogs+="FLASH detection timed out\n"}},onError:function(t,r,i,o){n(r,{type:"error",reason:o,strategy:t,status:i?i.status:0});var a=o&&c.EVENT.agent["detect_error_"+o];switch(a&&v(a),e.agentData=null,t){case c.Strategy.AJAX:e.agentLogs+="AJAX detection has failed with error:"+a+"\n";break;case c.Strategy.FLASH:e.agentLogs+="FLASH detection failed due to improper Flash configuration\n"}},onFailure:function(t,r,i,o){n(r,{type:"error",reason:o,strategy:t,status:i.status});var a=o&&c.EVENT.agent["detect_failure_"+o];switch(a&&v(a),e.agentData=null,t){case c.Strategy.AJAX:e.agentLogs+="AJAX detection has failed:"+i.statusText+" \n";break;case c.Strategy.FLASH:e.agentLogs+="FLASH detection failed\n"}},onAllStrategiesFailed:function(e){v(c.EVENT.agent.detect_all_fail),D(O,e)}})}(),this.isInstalled=function(){return"undefined"!==typeof e.agentData&&null!=e.agentData}.bind(this),this.getVersion=function(){return this.isInstalled()?e.agentData.version:m}.bind(this),this.getNamespace=function(){return this.isInstalled()?e.agentData.urn_namespace:m}.bind(this),this.getMachineName=function(){return this.isInstalled()?e.agentData.machine_name:m}.bind(this),this.getNodeId=function(){return this.isInstalled()?e.agentData.node_id:m}.bind(this),this.getRtmpClientPlaybackSupported=function(){return this.isInstalled()&&e.agentData.rtmp_mp4_vod}.bind(this),this.getInBlackout=function(){return this.isInstalled()?e.agentData.blackout:m}.bind(this),this.getStreamUri=function(e,t,n){if(!this.isInstalled())return m;switch(e){case c.STREAM_TYPE.FLASH:return"/stream/"+t+"/"+(n||"content.f4v");case c.STREAM_TYPE.HDS:return"/stream/"+t+"/"+(n||"manifest.f4m");case c.STREAM_TYPE.HLS:return"/stream/"+t+"/"+(n||"chunklist.m3u8");case c.STREAM_TYPE.DASH:return"/stream/"+t+"/"+(n||"playlist.ism/Manifest(format=mpd-time-csf)");case c.STREAM_TYPE.SMOOTH:return"/stream/"+t+"/"+(n||"playlist.ism/Manifest");case c.STREAM_TYPE.RTMP:return"/stream/"+t;default:return""}}.bind(this),this.getStreamUrl=function(e,t,n,r){if(!this.isInstalled())return m;var i=this.getStreamUri(e,t,r),o=this.checkMinVersion("10.0")?c.PROTOCOL.HTTPS:c.PROTOCOL.HTTP;return e===c.STREAM_TYPE.RTMP&&(o=c.PROTOCOL.RTMP),l(o,i)+(0,p.default)(A(n))}.bind(this),this.getKToken=function(){return this.isInstalled()?e.agentData.ktoken:null}.bind(this),this.isDetectViaFlash=function(){return N},this.checkMinVersion=function(t){return this.isInstalled()&&(0,u.default)(e.agentData.version,t)>=0}.bind(this),this.getAgentLogs=function(){return e.agentLogs},this.setSessionData=function(e,t,n){L={realmId:e.realmId,realmTicket:e.realmTicket,noPreroll:e.noPreroll};var i=this.getKToken();if(null==i)t();else{var o={ktoken:i},a=function(e){var n=null==e||null==e.error;n&&(L=o),t(n?{success:n}:e)};r({uri:"/api/v1/setSessionData",ignoreBase64Encoding:!0,method:"POST",params:A(o),options:n,onSuccess:S(a),onAllStrategiesFailed:b(a)})}}.bind(this),this.getContentStatus=function(t,n,i){r({uri:"/api/v1/contentStatus",params:{urn:t},options:i,onSuccess:S(n,function(){return e.contentStatusData}),onAllStrategiesFailed:b(n)})},this.downloadMonitor=function(t,n,i){r({uri:"/api/v1/downloadMonitor",params:{urn:t},options:i,onSuccess:S(n,function(){return e.downloadMonitorData}),onAllStrategiesFailed:b(n)})},this.isContentPrefetched=function(){return"undefined"!==typeof e.contentStatusData&&"Complete"==e.contentStatusData.state},this.getContentProgress=function(){return"undefined"!==typeof e.contentStatusData?e.contentStatusData.progress:-1},this.getDownloadMonitorData=function(){return e.downloadMonitorData},this.stopStream=function(e,t,n){r({uri:"/api/v1/stopStream",params:A({urn:e}),options:n,onSuccess:S(t),onAllStrategiesFailed:b(t)})},this.deleteContent=function(e,t,n){r({uri:"/api/v1/contentDelete",params:A({urn:e}),options:n,onSuccess:S(t),onAllStrategiesFailed:b(t)})},this.requestDeliveryGuid=function(t,n,i){r({uri:"/api/v1/contentDeliveryGuid",params:A({urn:t}),options:i,onSuccess:S(n,function(){return e.contentDeliveryGuidData}),onAllStrategiesFailed:b(n)})},this.sendErrorLogs=function(t,n){r({uri:"/api/v1/sendErrorLogs",params:{_:1},options:n,onSuccess:S(t,function(){return e.sendErrorLogsData}),onAllStrategiesFailed:b(t)})},this.prefetchStream=function(t,n,o,a,s){var u=this.getStreamUri(t,n,s&&s.file);r({expectJson:!1,protocol:t===c.STREAM_TYPE.RTMP?c.PROTOCOL.RTMP:null,uri:u,params:A(o),options:s,callbackParam:i("prefetchStream"),onSuccess:S(a,function(){return e.prefetchStreamData}),onAllStrategiesFailed:b(a)})}.bind(this),this.startLongpoll=function(e,t){k=!1,w(e,A({ts:0}),t)}.bind(this),this.stopLongpoll=function(){k=!0}}Object.defineProperty(t,"__esModule",{value:!0});var a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=n(6),u=r(s),c=n(1),l=n(4),f=r(l),d=n(3),g=r(d),h=n(9),p=r(h),m="";t.default=o}).call(t,n(2))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,r,i,o,u){function l(){S.logger&&(S.logger.onPlayerStateChange(s.EVENT.player.state_exit),m(!0))}function g(e){S.logger&&(S.logger.onPlayerStateChange(e),S.saveState())}function h(e){S.agent&&setTimeout(S.agent.stopStream.bind(null,r.urn),e)}function p(){!P&&S.agent&&S.agent.requestDeliveryGuid(r.urn,function(e){P=e.deliveryGuid})}function m(e){if(S.agent&&S.logger){if(!P)return void p();T();var n=v(),a=new Date;S.logger.updateLastReportTime();var s=S.logger.getPlayDuration();s<=0&&(s=1);var u=(0,c.default)(),l={contentMoid:r.moid,formatMoid:r.formatMoid,playGuid:E,deliveryGuid:P,percentage:0,inProgress:n,playDuration:s,startTime:S.logger.getStartTime(),playType:S.logger.getPlayType(),endTime:a.getTime(),prepareTime:S.logger.getPrepareTime(),bufferTime:S.logger.getBufferTime(),stallCount:S.logger.getStallCount(),stallTime:S.logger.getStallTime(),segmentList:S.logger.getSegmentList(),eventList:S.logger.getEventList(),nodeId:S.agent.getNodeId(),machineName:S.agent.getMachineName(),playContext:t,browser:u.browser,browserVersion:u.browserVersion,os:u.os,osVersion:u.osVersion},f=JSON.stringify({reportPlay:l}),d=o+"/api/v2/playback/report";n&&!e?y(d,f,!0):navigator.sendBeacon?navigator.sendBeacon(d+"?_ctype=json&auth="+i,f):y(d,f,!1)}}function y(e,t,n){window.XMLHttpRequest&&e&&((0,f.default)({method:"POST",headers:{auth:i,"Content-Type":"application/json"},url:e,body:t,async:n}),n&&(_&&clearTimeout(_),_=setTimeout(function(){m(!1)},u)))}function v(){return n.isLive(e)}function T(){S.logger&&S.logger.setPlayType(v()?s.PLAYTYPE.LIVE:s.PLAYTYPE.VOD)}var S=this;this.logger=new a.default(e,n);var E=r.guid,P=null,_=null;this.setReportInterval=function(e){u=1e3*Math.max(60,e||r.reportInterval||0)}.bind(this),this.setReportInterval(u),this.disconnect=function(){l(),this.agent=null,this.logger=null,_&&clearTimeout(_)}.bind(this),this.setAgent=function(e){this.agent=e}.bind(this),this.saveState=function(){this.logger&&this.logger.saveCurrentState(E)}.bind(this);var b={onTimeUpdate:function(){},onError:function(){},onPause:g.bind(null,s.EVENT.player.state_pause),onPlay:g.bind(null,s.EVENT.player.state_play),onBuffering:g.bind(null,s.EVENT.player.state_buffering),onEnd:function(){g(s.EVENT.player.state_end),h(d.DEFAULT),l()},onSeekEnd:function(){if(this.logger){var e=this.logger.lastSegmentPercentage,t=this.logger.getPlayerPercentage();if(0!==e||0!==t){var n=e<t?s.EVENT.player.state_seek_forward:s.EVENT.player.state_seek_reverse;this.logger.onPlayerStateChange(n,t,t),this.saveState()}}}.bind(this),onCanPlay:function(){p(),setTimeout(function(){m(!1)},1e3)}};!function(){if(n.setEventHandlers&&n.setEventHandlers(e,b),window.onbeforeunload){var t=window.onbeforeunload;window.onbeforeunload=function(){h(d.NONE),l(),t()}}else window.onbeforeunload=function(){h(d.NONE),l()};if(window.onunload){var r=window.onunload;window.onunload=function(){h(d.NONE),l(),r()}}else window.onunload=function(){h(d.NONE),l()}}()}Object.defineProperty(t,"__esModule",{value:!0});var o=n(28),a=r(o),s=n(1),u=n(4),c=r(u),l=n(3),f=r(l),d={NONE:0,DEFAULT:100};t.default=i},function(e,t,n){"use strict";function r(e,t){var n=new Date;this.startTime=n.getTime(),this.playerState=i.EVENT.player.state_none,this.playType=i.PLAYTYPE.LIVE,this.firstEventTime=0,this.firstPlayTime=0,this.firstBufferTime=0,this.bufferTime=0,this.lastTime=0,this.lastEvent=0,this.stallCount=0,this.stallTime=0,this.agentEventList="",this.rawEventList="",this.resetPlayTime=!1,this.lastFlashPlayStateTime=0,this.mediaEnded=!1,this.playDuration=0,this.lastReportTime=-1,this.duration=0,this.percentage=0,this.maxPercentage=0,this.buffering=!1,this.segmentList="",this.lastSegmentEvent="",this.lastSegmentPercentage=0,this.playStateCallback=null,this.getTime=function(){return(new Date).getTime()-this.startTime},this.getLastEvent=function(){return this.lastEvent},this.timeToPercent=function(e){if(0==this.duration)return 0;var t=this.duration?Math.round(1e3*e/this.duration)/10:0;return Math.min(t,100)},this.getPlayerPercentage=function(){var n=t.getPlayerDuration(e),r=t.getPlayerPosition(e);return(0,a.default)(n)&&(0,a.default)(r)&&0!=n&&(this.duration=n,this.percentage=Math.round(r/this.duration)/10,this.percentage=Math.min(this.percentage,100),this.maxPercentage=Math.max(this.maxPercentage,this.percentage)),this.percentage},this.getCachedPlayerPercentage=function(){return this.percentage},this.getMaxPercentage=function(){return this.maxPercentage},this.getStartTime=function(){return this.startTime},this.getPlayDuration=function(){return this.lastEvent==i.EVENT.player.state_play&&this.onPlayerStateChange(i.EVENT.player.state_play),this.playDuration},this.isPlaying=function(){return t.isPlaying(e)},this.updateLastReportTime=function(){this.lastReportTime=this.getTime()},this.hasNewReportingData=function(){return this.isPlaying()||this.lastTime>this.lastReportTime},this.getBufferTime=function(){return this.bufferTime},this.getPrepareTime=function(){return this.firstPlayTime},this.getStallCount=function(){return this.stallCount},this.getStallTime=function(){return this.stallTime},this.getSegmentList=function(){return this.segmentList},this.getEventList=function(){var e=this.agentEventList+this.rawEventList;if(e.length>=i.LIMITS.LIMIT_REPORT_EVENTS_INFO){e=e.substring(0,i.LIMITS.LIMIT_REPORT_EVENTS_INFO);var t=e.lastIndexOf(":");t>0&&(e=e.substring(0,t))}return e},this.isMediaEnded=function(){return this.mediaEnded},this.isBuffering=function(){return this.buffering},this.addSegment=function(e,t,n){var r=this.segmentList+"("+e+","+t+","+n+")";r.length<i.LIMITS.LIMIT_REPORT_SEGMENTS_INFO&&(this.segmentList=r)},this.addAgentEvent=function(e){var t=this.agentEventList+":"+e+":"+this.getTime();t.length<i.LIMITS.LIMIT_REPORT_EVENTS_INFO&&(this.agentEventList=t)},this.onPlayerStateChange=function(e,t,n){if(e!=i.EVENT.player.state_ready){var r=this.getTime(),o=r-this.lastTime,a=this.getCachedPlayerPercentage();if(this.lastEvent==i.EVENT.player.state_play&&(this.playDuration+=r-this.lastTime),this.lastEvent==e)return void(this.lastTime=r);0==this.firstEventTime&&(this.firstEventTime=r),0==this.resetPlayTime&&0!=this.firstPlayTime&&this.lastEvent==i.EVENT.player.state_play&&e==i.EVENT.player.state_buffering&&o<10&&(this.resetPlayTime=!0,this.firstPlayTime=0),0==this.firstBufferTime&&e==i.EVENT.player.state_buffering&&(this.firstBufferTime=r),0!=this.firstPlayTime&&this.lastEvent==i.EVENT.player.state_buffering&&e!=i.EVENT.player.state_buffering&&o>10&&(this.stallCount++,this.stallTime+=r-this.lastTime),0===this.firstPlayTime&&e===i.EVENT.player.state_play&&(this.firstPlayTime=r,this.bufferTime=r-this.firstBufferTime),this.rawEventList+=":"+e+":"+r,e==i.EVENT.player.state_end&&(this.percentage=this.maxPercentage=100,this.mediaEnded=!0),this.buffering=e==i.EVENT.player.state_buffering,e==i.EVENT.player.state_stop&&(this.addSegment(this.lastSegmentPercentage,a,"st"),this.lastSegmentPercentage=0),e==i.EVENT.player.state_pause&&(this.addSegment(this.lastSegmentPercentage,a,"ps"),this.lastSegmentPercentage=a),e==i.EVENT.player.state_forward&&(this.addSegment(this.lastSegmentPercentage,t,"ff"),this.lastSegmentPercentage=n),e==i.EVENT.player.state_reverse&&(this.addSegment(this.lastSegmentPercentage,t,"rw"),this.lastSegmentPercentage=n),e==i.EVENT.player.state_exit&&(this.lastEvent==i.EVENT.player.state_stop&&o<100?this.addSegment(a,a,"ex"):this.addSegment(this.lastSegmentPercentage,a,"ex")),this.lastTime=r,this.lastEvent=e,this.playStateCallback&&this.playStateCallback(e)}},this.saveLocalStorage=function(e,t){if("undefined"!==typeof Storage)try{localStorage.setItem(e,t)}catch(e){return void console.log(e)}},this.readLocalStorage=function(e){if("undefined"!==typeof Storage)try{return localStorage.getItem(e)}catch(e){return console.log(e),null}},this.removeLocalStorage=function(e){if("undefined"!==typeof Storage)try{localStorage.removeItem(e)}catch(e){return void console.log(e)}},this.saveCurrentState=function(e){if(e){var t=this.readLocalStorage("ksdn.current.report.session.id");t&&t!=e&&this.removeLocalStorage("ksdn.report.session.data."+t),this.saveLocalStorage("ksdn.current.report.session.id",e);var n={startTime:this.startTime,playerState:this.playerState,firstEventTime:this.firstEventTime,firstPlayTime:this.firstPlayTime,firstBufferTime:this.firstBufferTime,segmentList:this.segmentList,stallCount:this.stallCount,stallTime:this.stallTime,bufferTime:this.getBufferTime(),playDuration:this.playDuration,agentEventList:this.agentEventList,rawEventList:this.rawEventList,lastTime:this.lastTime,lastEvent:this.lastEvent,playType:this.playType};this.saveLocalStorage("ksdn.report.session.data."+e,JSON.stringify(n))}},this.readSavedState=function(e){if(!e)return null;var t=this.readLocalStorage("ksdn.current.report.session.id");if(t){if(t==e){var n=this.readLocalStorage("ksdn.report.session.data."+e);return JSON.parse(n)}this.removeLocalStorage("ksdn.report.session.data."+t)}return null},this.restoreSavedState=function(e){if(e){var t=this.readSavedState(e);if(t){this.startTime=t.startTime,this.playerState=t.playerState,this.firstEventTime=t.firstEventTime,this.firstPlayTime=t.firstPlayTime,this.firstBufferTime=t.firstBufferTime,this.segmentList=t.segmentList,this.stallCount=t.stallCount,this.stallTime=t.stallTime,this.bufferTime=t.bufferTime,this.playDuration=t.playDuration,this.lastTime=t.lastTime,this.lastEvent=t.lastEvent,this.playType=t.playType,this.agentEventList=t.agentEventList;var n=this.getTime(),r=t.rawEventList+":"+i.EVENT.player.state_reload+":"+n;this.rawEventList=r}}},this.setPlayType=function(e){this.playType=e},this.getPlayType=function(){return this.playType}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(29),a=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=r},function(e,t,n){function r(e){return"number"==typeof e&&o(e)}var i=n(30),o=i.isFinite;e.exports=r},function(e,t,n){var r=n(31),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(t,n(0))}]);
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(72).Buffer))

/***/ }),
/* 72 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(global) {/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
/* eslint-disable no-proto */



var base64 = __webpack_require__(74)
var ieee754 = __webpack_require__(75)
var isArray = __webpack_require__(76)

exports.Buffer = Buffer
exports.SlowBuffer = SlowBuffer
exports.INSPECT_MAX_BYTES = 50

/**
 * If `Buffer.TYPED_ARRAY_SUPPORT`:
 *   === true    Use Uint8Array implementation (fastest)
 *   === false   Use Object implementation (most compatible, even IE6)
 *
 * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,
 * Opera 11.6+, iOS 4.2+.
 *
 * Due to various browser bugs, sometimes the Object implementation will be used even
 * when the browser supports typed arrays.
 *
 * Note:
 *
 *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,
 *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.
 *
 *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.
 *
 *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of
 *     incorrect length in some situations.

 * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they
 * get the Object implementation, which is slower but behaves correctly.
 */
Buffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined
  ? global.TYPED_ARRAY_SUPPORT
  : typedArraySupport()

/*
 * Export kMaxLength after typed array support is determined.
 */
exports.kMaxLength = kMaxLength()

function typedArraySupport () {
  try {
    var arr = new Uint8Array(1)
    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}
    return arr.foo() === 42 && // typed array instances can be augmented
        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`
        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`
  } catch (e) {
    return false
  }
}

function kMaxLength () {
  return Buffer.TYPED_ARRAY_SUPPORT
    ? 0x7fffffff
    : 0x3fffffff
}

function createBuffer (that, length) {
  if (kMaxLength() < length) {
    throw new RangeError('Invalid typed array length')
  }
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    // Return an augmented `Uint8Array` instance, for best performance
    that = new Uint8Array(length)
    that.__proto__ = Buffer.prototype
  } else {
    // Fallback: Return an object instance of the Buffer class
    if (that === null) {
      that = new Buffer(length)
    }
    that.length = length
  }

  return that
}

/**
 * The Buffer constructor returns instances of `Uint8Array` that have their
 * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of
 * `Uint8Array`, so the returned instances will have all the node `Buffer` methods
 * and the `Uint8Array` methods. Square bracket notation works as expected -- it
 * returns a single octet.
 *
 * The `Uint8Array` prototype remains unmodified.
 */

function Buffer (arg, encodingOrOffset, length) {
  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {
    return new Buffer(arg, encodingOrOffset, length)
  }

  // Common case.
  if (typeof arg === 'number') {
    if (typeof encodingOrOffset === 'string') {
      throw new Error(
        'If encoding is specified then the first argument must be a string'
      )
    }
    return allocUnsafe(this, arg)
  }
  return from(this, arg, encodingOrOffset, length)
}

Buffer.poolSize = 8192 // not used by this implementation

// TODO: Legacy, not needed anymore. Remove in next major version.
Buffer._augment = function (arr) {
  arr.__proto__ = Buffer.prototype
  return arr
}

function from (that, value, encodingOrOffset, length) {
  if (typeof value === 'number') {
    throw new TypeError('"value" argument must not be a number')
  }

  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {
    return fromArrayBuffer(that, value, encodingOrOffset, length)
  }

  if (typeof value === 'string') {
    return fromString(that, value, encodingOrOffset)
  }

  return fromObject(that, value)
}

/**
 * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError
 * if value is a number.
 * Buffer.from(str[, encoding])
 * Buffer.from(array)
 * Buffer.from(buffer)
 * Buffer.from(arrayBuffer[, byteOffset[, length]])
 **/
Buffer.from = function (value, encodingOrOffset, length) {
  return from(null, value, encodingOrOffset, length)
}

if (Buffer.TYPED_ARRAY_SUPPORT) {
  Buffer.prototype.__proto__ = Uint8Array.prototype
  Buffer.__proto__ = Uint8Array
  if (typeof Symbol !== 'undefined' && Symbol.species &&
      Buffer[Symbol.species] === Buffer) {
    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97
    Object.defineProperty(Buffer, Symbol.species, {
      value: null,
      configurable: true
    })
  }
}

function assertSize (size) {
  if (typeof size !== 'number') {
    throw new TypeError('"size" argument must be a number')
  } else if (size < 0) {
    throw new RangeError('"size" argument must not be negative')
  }
}

function alloc (that, size, fill, encoding) {
  assertSize(size)
  if (size <= 0) {
    return createBuffer(that, size)
  }
  if (fill !== undefined) {
    // Only pay attention to encoding if it's a string. This
    // prevents accidentally sending in a number that would
    // be interpretted as a start offset.
    return typeof encoding === 'string'
      ? createBuffer(that, size).fill(fill, encoding)
      : createBuffer(that, size).fill(fill)
  }
  return createBuffer(that, size)
}

/**
 * Creates a new filled Buffer instance.
 * alloc(size[, fill[, encoding]])
 **/
Buffer.alloc = function (size, fill, encoding) {
  return alloc(null, size, fill, encoding)
}

function allocUnsafe (that, size) {
  assertSize(size)
  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)
  if (!Buffer.TYPED_ARRAY_SUPPORT) {
    for (var i = 0; i < size; ++i) {
      that[i] = 0
    }
  }
  return that
}

/**
 * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.
 * */
Buffer.allocUnsafe = function (size) {
  return allocUnsafe(null, size)
}
/**
 * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.
 */
Buffer.allocUnsafeSlow = function (size) {
  return allocUnsafe(null, size)
}

function fromString (that, string, encoding) {
  if (typeof encoding !== 'string' || encoding === '') {
    encoding = 'utf8'
  }

  if (!Buffer.isEncoding(encoding)) {
    throw new TypeError('"encoding" must be a valid string encoding')
  }

  var length = byteLength(string, encoding) | 0
  that = createBuffer(that, length)

  var actual = that.write(string, encoding)

  if (actual !== length) {
    // Writing a hex string, for example, that contains invalid characters will
    // cause everything after the first invalid character to be ignored. (e.g.
    // 'abxxcd' will be treated as 'ab')
    that = that.slice(0, actual)
  }

  return that
}

function fromArrayLike (that, array) {
  var length = array.length < 0 ? 0 : checked(array.length) | 0
  that = createBuffer(that, length)
  for (var i = 0; i < length; i += 1) {
    that[i] = array[i] & 255
  }
  return that
}

function fromArrayBuffer (that, array, byteOffset, length) {
  array.byteLength // this throws if `array` is not a valid ArrayBuffer

  if (byteOffset < 0 || array.byteLength < byteOffset) {
    throw new RangeError('\'offset\' is out of bounds')
  }

  if (array.byteLength < byteOffset + (length || 0)) {
    throw new RangeError('\'length\' is out of bounds')
  }

  if (byteOffset === undefined && length === undefined) {
    array = new Uint8Array(array)
  } else if (length === undefined) {
    array = new Uint8Array(array, byteOffset)
  } else {
    array = new Uint8Array(array, byteOffset, length)
  }

  if (Buffer.TYPED_ARRAY_SUPPORT) {
    // Return an augmented `Uint8Array` instance, for best performance
    that = array
    that.__proto__ = Buffer.prototype
  } else {
    // Fallback: Return an object instance of the Buffer class
    that = fromArrayLike(that, array)
  }
  return that
}

function fromObject (that, obj) {
  if (Buffer.isBuffer(obj)) {
    var len = checked(obj.length) | 0
    that = createBuffer(that, len)

    if (that.length === 0) {
      return that
    }

    obj.copy(that, 0, 0, len)
    return that
  }

  if (obj) {
    if ((typeof ArrayBuffer !== 'undefined' &&
        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {
      if (typeof obj.length !== 'number' || isnan(obj.length)) {
        return createBuffer(that, 0)
      }
      return fromArrayLike(that, obj)
    }

    if (obj.type === 'Buffer' && isArray(obj.data)) {
      return fromArrayLike(that, obj.data)
    }
  }

  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')
}

function checked (length) {
  // Note: cannot use `length < kMaxLength()` here because that fails when
  // length is NaN (which is otherwise coerced to zero.)
  if (length >= kMaxLength()) {
    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +
                         'size: 0x' + kMaxLength().toString(16) + ' bytes')
  }
  return length | 0
}

function SlowBuffer (length) {
  if (+length != length) { // eslint-disable-line eqeqeq
    length = 0
  }
  return Buffer.alloc(+length)
}

Buffer.isBuffer = function isBuffer (b) {
  return !!(b != null && b._isBuffer)
}

Buffer.compare = function compare (a, b) {
  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {
    throw new TypeError('Arguments must be Buffers')
  }

  if (a === b) return 0

  var x = a.length
  var y = b.length

  for (var i = 0, len = Math.min(x, y); i < len; ++i) {
    if (a[i] !== b[i]) {
      x = a[i]
      y = b[i]
      break
    }
  }

  if (x < y) return -1
  if (y < x) return 1
  return 0
}

Buffer.isEncoding = function isEncoding (encoding) {
  switch (String(encoding).toLowerCase()) {
    case 'hex':
    case 'utf8':
    case 'utf-8':
    case 'ascii':
    case 'latin1':
    case 'binary':
    case 'base64':
    case 'ucs2':
    case 'ucs-2':
    case 'utf16le':
    case 'utf-16le':
      return true
    default:
      return false
  }
}

Buffer.concat = function concat (list, length) {
  if (!isArray(list)) {
    throw new TypeError('"list" argument must be an Array of Buffers')
  }

  if (list.length === 0) {
    return Buffer.alloc(0)
  }

  var i
  if (length === undefined) {
    length = 0
    for (i = 0; i < list.length; ++i) {
      length += list[i].length
    }
  }

  var buffer = Buffer.allocUnsafe(length)
  var pos = 0
  for (i = 0; i < list.length; ++i) {
    var buf = list[i]
    if (!Buffer.isBuffer(buf)) {
      throw new TypeError('"list" argument must be an Array of Buffers')
    }
    buf.copy(buffer, pos)
    pos += buf.length
  }
  return buffer
}

function byteLength (string, encoding) {
  if (Buffer.isBuffer(string)) {
    return string.length
  }
  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&
      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {
    return string.byteLength
  }
  if (typeof string !== 'string') {
    string = '' + string
  }

  var len = string.length
  if (len === 0) return 0

  // Use a for loop to avoid recursion
  var loweredCase = false
  for (;;) {
    switch (encoding) {
      case 'ascii':
      case 'latin1':
      case 'binary':
        return len
      case 'utf8':
      case 'utf-8':
      case undefined:
        return utf8ToBytes(string).length
      case 'ucs2':
      case 'ucs-2':
      case 'utf16le':
      case 'utf-16le':
        return len * 2
      case 'hex':
        return len >>> 1
      case 'base64':
        return base64ToBytes(string).length
      default:
        if (loweredCase) return utf8ToBytes(string).length // assume utf8
        encoding = ('' + encoding).toLowerCase()
        loweredCase = true
    }
  }
}
Buffer.byteLength = byteLength

function slowToString (encoding, start, end) {
  var loweredCase = false

  // No need to verify that "this.length <= MAX_UINT32" since it's a read-only
  // property of a typed array.

  // This behaves neither like String nor Uint8Array in that we set start/end
  // to their upper/lower bounds if the value passed is out of range.
  // undefined is handled specially as per ECMA-262 6th Edition,
  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.
  if (start === undefined || start < 0) {
    start = 0
  }
  // Return early if start > this.length. Done here to prevent potential uint32
  // coercion fail below.
  if (start > this.length) {
    return ''
  }

  if (end === undefined || end > this.length) {
    end = this.length
  }

  if (end <= 0) {
    return ''
  }

  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.
  end >>>= 0
  start >>>= 0

  if (end <= start) {
    return ''
  }

  if (!encoding) encoding = 'utf8'

  while (true) {
    switch (encoding) {
      case 'hex':
        return hexSlice(this, start, end)

      case 'utf8':
      case 'utf-8':
        return utf8Slice(this, start, end)

      case 'ascii':
        return asciiSlice(this, start, end)

      case 'latin1':
      case 'binary':
        return latin1Slice(this, start, end)

      case 'base64':
        return base64Slice(this, start, end)

      case 'ucs2':
      case 'ucs-2':
      case 'utf16le':
      case 'utf-16le':
        return utf16leSlice(this, start, end)

      default:
        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)
        encoding = (encoding + '').toLowerCase()
        loweredCase = true
    }
  }
}

// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect
// Buffer instances.
Buffer.prototype._isBuffer = true

function swap (b, n, m) {
  var i = b[n]
  b[n] = b[m]
  b[m] = i
}

Buffer.prototype.swap16 = function swap16 () {
  var len = this.length
  if (len % 2 !== 0) {
    throw new RangeError('Buffer size must be a multiple of 16-bits')
  }
  for (var i = 0; i < len; i += 2) {
    swap(this, i, i + 1)
  }
  return this
}

Buffer.prototype.swap32 = function swap32 () {
  var len = this.length
  if (len % 4 !== 0) {
    throw new RangeError('Buffer size must be a multiple of 32-bits')
  }
  for (var i = 0; i < len; i += 4) {
    swap(this, i, i + 3)
    swap(this, i + 1, i + 2)
  }
  return this
}

Buffer.prototype.swap64 = function swap64 () {
  var len = this.length
  if (len % 8 !== 0) {
    throw new RangeError('Buffer size must be a multiple of 64-bits')
  }
  for (var i = 0; i < len; i += 8) {
    swap(this, i, i + 7)
    swap(this, i + 1, i + 6)
    swap(this, i + 2, i + 5)
    swap(this, i + 3, i + 4)
  }
  return this
}

Buffer.prototype.toString = function toString () {
  var length = this.length | 0
  if (length === 0) return ''
  if (arguments.length === 0) return utf8Slice(this, 0, length)
  return slowToString.apply(this, arguments)
}

Buffer.prototype.equals = function equals (b) {
  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')
  if (this === b) return true
  return Buffer.compare(this, b) === 0
}

Buffer.prototype.inspect = function inspect () {
  var str = ''
  var max = exports.INSPECT_MAX_BYTES
  if (this.length > 0) {
    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')
    if (this.length > max) str += ' ... '
  }
  return '<Buffer ' + str + '>'
}

Buffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {
  if (!Buffer.isBuffer(target)) {
    throw new TypeError('Argument must be a Buffer')
  }

  if (start === undefined) {
    start = 0
  }
  if (end === undefined) {
    end = target ? target.length : 0
  }
  if (thisStart === undefined) {
    thisStart = 0
  }
  if (thisEnd === undefined) {
    thisEnd = this.length
  }

  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {
    throw new RangeError('out of range index')
  }

  if (thisStart >= thisEnd && start >= end) {
    return 0
  }
  if (thisStart >= thisEnd) {
    return -1
  }
  if (start >= end) {
    return 1
  }

  start >>>= 0
  end >>>= 0
  thisStart >>>= 0
  thisEnd >>>= 0

  if (this === target) return 0

  var x = thisEnd - thisStart
  var y = end - start
  var len = Math.min(x, y)

  var thisCopy = this.slice(thisStart, thisEnd)
  var targetCopy = target.slice(start, end)

  for (var i = 0; i < len; ++i) {
    if (thisCopy[i] !== targetCopy[i]) {
      x = thisCopy[i]
      y = targetCopy[i]
      break
    }
  }

  if (x < y) return -1
  if (y < x) return 1
  return 0
}

// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,
// OR the last index of `val` in `buffer` at offset <= `byteOffset`.
//
// Arguments:
// - buffer - a Buffer to search
// - val - a string, Buffer, or number
// - byteOffset - an index into `buffer`; will be clamped to an int32
// - encoding - an optional encoding, relevant is val is a string
// - dir - true for indexOf, false for lastIndexOf
function bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {
  // Empty buffer means no match
  if (buffer.length === 0) return -1

  // Normalize byteOffset
  if (typeof byteOffset === 'string') {
    encoding = byteOffset
    byteOffset = 0
  } else if (byteOffset > 0x7fffffff) {
    byteOffset = 0x7fffffff
  } else if (byteOffset < -0x80000000) {
    byteOffset = -0x80000000
  }
  byteOffset = +byteOffset  // Coerce to Number.
  if (isNaN(byteOffset)) {
    // byteOffset: it it's undefined, null, NaN, "foo", etc, search whole buffer
    byteOffset = dir ? 0 : (buffer.length - 1)
  }

  // Normalize byteOffset: negative offsets start from the end of the buffer
  if (byteOffset < 0) byteOffset = buffer.length + byteOffset
  if (byteOffset >= buffer.length) {
    if (dir) return -1
    else byteOffset = buffer.length - 1
  } else if (byteOffset < 0) {
    if (dir) byteOffset = 0
    else return -1
  }

  // Normalize val
  if (typeof val === 'string') {
    val = Buffer.from(val, encoding)
  }

  // Finally, search either indexOf (if dir is true) or lastIndexOf
  if (Buffer.isBuffer(val)) {
    // Special case: looking for empty string/buffer always fails
    if (val.length === 0) {
      return -1
    }
    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)
  } else if (typeof val === 'number') {
    val = val & 0xFF // Search for a byte value [0-255]
    if (Buffer.TYPED_ARRAY_SUPPORT &&
        typeof Uint8Array.prototype.indexOf === 'function') {
      if (dir) {
        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)
      } else {
        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)
      }
    }
    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)
  }

  throw new TypeError('val must be string, number or Buffer')
}

function arrayIndexOf (arr, val, byteOffset, encoding, dir) {
  var indexSize = 1
  var arrLength = arr.length
  var valLength = val.length

  if (encoding !== undefined) {
    encoding = String(encoding).toLowerCase()
    if (encoding === 'ucs2' || encoding === 'ucs-2' ||
        encoding === 'utf16le' || encoding === 'utf-16le') {
      if (arr.length < 2 || val.length < 2) {
        return -1
      }
      indexSize = 2
      arrLength /= 2
      valLength /= 2
      byteOffset /= 2
    }
  }

  function read (buf, i) {
    if (indexSize === 1) {
      return buf[i]
    } else {
      return buf.readUInt16BE(i * indexSize)
    }
  }

  var i
  if (dir) {
    var foundIndex = -1
    for (i = byteOffset; i < arrLength; i++) {
      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {
        if (foundIndex === -1) foundIndex = i
        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize
      } else {
        if (foundIndex !== -1) i -= i - foundIndex
        foundIndex = -1
      }
    }
  } else {
    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength
    for (i = byteOffset; i >= 0; i--) {
      var found = true
      for (var j = 0; j < valLength; j++) {
        if (read(arr, i + j) !== read(val, j)) {
          found = false
          break
        }
      }
      if (found) return i
    }
  }

  return -1
}

Buffer.prototype.includes = function includes (val, byteOffset, encoding) {
  return this.indexOf(val, byteOffset, encoding) !== -1
}

Buffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {
  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)
}

Buffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {
  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)
}

function hexWrite (buf, string, offset, length) {
  offset = Number(offset) || 0
  var remaining = buf.length - offset
  if (!length) {
    length = remaining
  } else {
    length = Number(length)
    if (length > remaining) {
      length = remaining
    }
  }

  // must be an even number of digits
  var strLen = string.length
  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')

  if (length > strLen / 2) {
    length = strLen / 2
  }
  for (var i = 0; i < length; ++i) {
    var parsed = parseInt(string.substr(i * 2, 2), 16)
    if (isNaN(parsed)) return i
    buf[offset + i] = parsed
  }
  return i
}

function utf8Write (buf, string, offset, length) {
  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)
}

function asciiWrite (buf, string, offset, length) {
  return blitBuffer(asciiToBytes(string), buf, offset, length)
}

function latin1Write (buf, string, offset, length) {
  return asciiWrite(buf, string, offset, length)
}

function base64Write (buf, string, offset, length) {
  return blitBuffer(base64ToBytes(string), buf, offset, length)
}

function ucs2Write (buf, string, offset, length) {
  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)
}

Buffer.prototype.write = function write (string, offset, length, encoding) {
  // Buffer#write(string)
  if (offset === undefined) {
    encoding = 'utf8'
    length = this.length
    offset = 0
  // Buffer#write(string, encoding)
  } else if (length === undefined && typeof offset === 'string') {
    encoding = offset
    length = this.length
    offset = 0
  // Buffer#write(string, offset[, length][, encoding])
  } else if (isFinite(offset)) {
    offset = offset | 0
    if (isFinite(length)) {
      length = length | 0
      if (encoding === undefined) encoding = 'utf8'
    } else {
      encoding = length
      length = undefined
    }
  // legacy write(string, encoding, offset, length) - remove in v0.13
  } else {
    throw new Error(
      'Buffer.write(string, encoding, offset[, length]) is no longer supported'
    )
  }

  var remaining = this.length - offset
  if (length === undefined || length > remaining) length = remaining

  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {
    throw new RangeError('Attempt to write outside buffer bounds')
  }

  if (!encoding) encoding = 'utf8'

  var loweredCase = false
  for (;;) {
    switch (encoding) {
      case 'hex':
        return hexWrite(this, string, offset, length)

      case 'utf8':
      case 'utf-8':
        return utf8Write(this, string, offset, length)

      case 'ascii':
        return asciiWrite(this, string, offset, length)

      case 'latin1':
      case 'binary':
        return latin1Write(this, string, offset, length)

      case 'base64':
        // Warning: maxLength not taken into account in base64Write
        return base64Write(this, string, offset, length)

      case 'ucs2':
      case 'ucs-2':
      case 'utf16le':
      case 'utf-16le':
        return ucs2Write(this, string, offset, length)

      default:
        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)
        encoding = ('' + encoding).toLowerCase()
        loweredCase = true
    }
  }
}

Buffer.prototype.toJSON = function toJSON () {
  return {
    type: 'Buffer',
    data: Array.prototype.slice.call(this._arr || this, 0)
  }
}

function base64Slice (buf, start, end) {
  if (start === 0 && end === buf.length) {
    return base64.fromByteArray(buf)
  } else {
    return base64.fromByteArray(buf.slice(start, end))
  }
}

function utf8Slice (buf, start, end) {
  end = Math.min(buf.length, end)
  var res = []

  var i = start
  while (i < end) {
    var firstByte = buf[i]
    var codePoint = null
    var bytesPerSequence = (firstByte > 0xEF) ? 4
      : (firstByte > 0xDF) ? 3
      : (firstByte > 0xBF) ? 2
      : 1

    if (i + bytesPerSequence <= end) {
      var secondByte, thirdByte, fourthByte, tempCodePoint

      switch (bytesPerSequence) {
        case 1:
          if (firstByte < 0x80) {
            codePoint = firstByte
          }
          break
        case 2:
          secondByte = buf[i + 1]
          if ((secondByte & 0xC0) === 0x80) {
            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)
            if (tempCodePoint > 0x7F) {
              codePoint = tempCodePoint
            }
          }
          break
        case 3:
          secondByte = buf[i + 1]
          thirdByte = buf[i + 2]
          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {
            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)
            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {
              codePoint = tempCodePoint
            }
          }
          break
        case 4:
          secondByte = buf[i + 1]
          thirdByte = buf[i + 2]
          fourthByte = buf[i + 3]
          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {
            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)
            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {
              codePoint = tempCodePoint
            }
          }
      }
    }

    if (codePoint === null) {
      // we did not generate a valid codePoint so insert a
      // replacement char (U+FFFD) and advance only 1 byte
      codePoint = 0xFFFD
      bytesPerSequence = 1
    } else if (codePoint > 0xFFFF) {
      // encode to utf16 (surrogate pair dance)
      codePoint -= 0x10000
      res.push(codePoint >>> 10 & 0x3FF | 0xD800)
      codePoint = 0xDC00 | codePoint & 0x3FF
    }

    res.push(codePoint)
    i += bytesPerSequence
  }

  return decodeCodePointsArray(res)
}

// Based on http://stackoverflow.com/a/22747272/680742, the browser with
// the lowest limit is Chrome, with 0x10000 args.
// We go 1 magnitude less, for safety
var MAX_ARGUMENTS_LENGTH = 0x1000

function decodeCodePointsArray (codePoints) {
  var len = codePoints.length
  if (len <= MAX_ARGUMENTS_LENGTH) {
    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()
  }

  // Decode in chunks to avoid "call stack size exceeded".
  var res = ''
  var i = 0
  while (i < len) {
    res += String.fromCharCode.apply(
      String,
      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)
    )
  }
  return res
}

function asciiSlice (buf, start, end) {
  var ret = ''
  end = Math.min(buf.length, end)

  for (var i = start; i < end; ++i) {
    ret += String.fromCharCode(buf[i] & 0x7F)
  }
  return ret
}

function latin1Slice (buf, start, end) {
  var ret = ''
  end = Math.min(buf.length, end)

  for (var i = start; i < end; ++i) {
    ret += String.fromCharCode(buf[i])
  }
  return ret
}

function hexSlice (buf, start, end) {
  var len = buf.length

  if (!start || start < 0) start = 0
  if (!end || end < 0 || end > len) end = len

  var out = ''
  for (var i = start; i < end; ++i) {
    out += toHex(buf[i])
  }
  return out
}

function utf16leSlice (buf, start, end) {
  var bytes = buf.slice(start, end)
  var res = ''
  for (var i = 0; i < bytes.length; i += 2) {
    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)
  }
  return res
}

Buffer.prototype.slice = function slice (start, end) {
  var len = this.length
  start = ~~start
  end = end === undefined ? len : ~~end

  if (start < 0) {
    start += len
    if (start < 0) start = 0
  } else if (start > len) {
    start = len
  }

  if (end < 0) {
    end += len
    if (end < 0) end = 0
  } else if (end > len) {
    end = len
  }

  if (end < start) end = start

  var newBuf
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    newBuf = this.subarray(start, end)
    newBuf.__proto__ = Buffer.prototype
  } else {
    var sliceLen = end - start
    newBuf = new Buffer(sliceLen, undefined)
    for (var i = 0; i < sliceLen; ++i) {
      newBuf[i] = this[i + start]
    }
  }

  return newBuf
}

/*
 * Need to make sure that buffer isn't trying to write out of bounds.
 */
function checkOffset (offset, ext, length) {
  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')
  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')
}

Buffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) checkOffset(offset, byteLength, this.length)

  var val = this[offset]
  var mul = 1
  var i = 0
  while (++i < byteLength && (mul *= 0x100)) {
    val += this[offset + i] * mul
  }

  return val
}

Buffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) {
    checkOffset(offset, byteLength, this.length)
  }

  var val = this[offset + --byteLength]
  var mul = 1
  while (byteLength > 0 && (mul *= 0x100)) {
    val += this[offset + --byteLength] * mul
  }

  return val
}

Buffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 1, this.length)
  return this[offset]
}

Buffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 2, this.length)
  return this[offset] | (this[offset + 1] << 8)
}

Buffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 2, this.length)
  return (this[offset] << 8) | this[offset + 1]
}

Buffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)

  return ((this[offset]) |
      (this[offset + 1] << 8) |
      (this[offset + 2] << 16)) +
      (this[offset + 3] * 0x1000000)
}

Buffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)

  return (this[offset] * 0x1000000) +
    ((this[offset + 1] << 16) |
    (this[offset + 2] << 8) |
    this[offset + 3])
}

Buffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) checkOffset(offset, byteLength, this.length)

  var val = this[offset]
  var mul = 1
  var i = 0
  while (++i < byteLength && (mul *= 0x100)) {
    val += this[offset + i] * mul
  }
  mul *= 0x80

  if (val >= mul) val -= Math.pow(2, 8 * byteLength)

  return val
}

Buffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) checkOffset(offset, byteLength, this.length)

  var i = byteLength
  var mul = 1
  var val = this[offset + --i]
  while (i > 0 && (mul *= 0x100)) {
    val += this[offset + --i] * mul
  }
  mul *= 0x80

  if (val >= mul) val -= Math.pow(2, 8 * byteLength)

  return val
}

Buffer.prototype.readInt8 = function readInt8 (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 1, this.length)
  if (!(this[offset] & 0x80)) return (this[offset])
  return ((0xff - this[offset] + 1) * -1)
}

Buffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 2, this.length)
  var val = this[offset] | (this[offset + 1] << 8)
  return (val & 0x8000) ? val | 0xFFFF0000 : val
}

Buffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 2, this.length)
  var val = this[offset + 1] | (this[offset] << 8)
  return (val & 0x8000) ? val | 0xFFFF0000 : val
}

Buffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)

  return (this[offset]) |
    (this[offset + 1] << 8) |
    (this[offset + 2] << 16) |
    (this[offset + 3] << 24)
}

Buffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)

  return (this[offset] << 24) |
    (this[offset + 1] << 16) |
    (this[offset + 2] << 8) |
    (this[offset + 3])
}

Buffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)
  return ieee754.read(this, offset, true, 23, 4)
}

Buffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)
  return ieee754.read(this, offset, false, 23, 4)
}

Buffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 8, this.length)
  return ieee754.read(this, offset, true, 52, 8)
}

Buffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 8, this.length)
  return ieee754.read(this, offset, false, 52, 8)
}

function checkInt (buf, value, offset, ext, max, min) {
  if (!Buffer.isBuffer(buf)) throw new TypeError('"buffer" argument must be a Buffer instance')
  if (value > max || value < min) throw new RangeError('"value" argument is out of bounds')
  if (offset + ext > buf.length) throw new RangeError('Index out of range')
}

Buffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) {
    var maxBytes = Math.pow(2, 8 * byteLength) - 1
    checkInt(this, value, offset, byteLength, maxBytes, 0)
  }

  var mul = 1
  var i = 0
  this[offset] = value & 0xFF
  while (++i < byteLength && (mul *= 0x100)) {
    this[offset + i] = (value / mul) & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) {
    var maxBytes = Math.pow(2, 8 * byteLength) - 1
    checkInt(this, value, offset, byteLength, maxBytes, 0)
  }

  var i = byteLength - 1
  var mul = 1
  this[offset + i] = value & 0xFF
  while (--i >= 0 && (mul *= 0x100)) {
    this[offset + i] = (value / mul) & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)
  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)
  this[offset] = (value & 0xff)
  return offset + 1
}

function objectWriteUInt16 (buf, value, offset, littleEndian) {
  if (value < 0) value = 0xffff + value + 1
  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {
    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>
      (littleEndian ? i : 1 - i) * 8
  }
}

Buffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value & 0xff)
    this[offset + 1] = (value >>> 8)
  } else {
    objectWriteUInt16(this, value, offset, true)
  }
  return offset + 2
}

Buffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value >>> 8)
    this[offset + 1] = (value & 0xff)
  } else {
    objectWriteUInt16(this, value, offset, false)
  }
  return offset + 2
}

function objectWriteUInt32 (buf, value, offset, littleEndian) {
  if (value < 0) value = 0xffffffff + value + 1
  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {
    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff
  }
}

Buffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset + 3] = (value >>> 24)
    this[offset + 2] = (value >>> 16)
    this[offset + 1] = (value >>> 8)
    this[offset] = (value & 0xff)
  } else {
    objectWriteUInt32(this, value, offset, true)
  }
  return offset + 4
}

Buffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value >>> 24)
    this[offset + 1] = (value >>> 16)
    this[offset + 2] = (value >>> 8)
    this[offset + 3] = (value & 0xff)
  } else {
    objectWriteUInt32(this, value, offset, false)
  }
  return offset + 4
}

Buffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) {
    var limit = Math.pow(2, 8 * byteLength - 1)

    checkInt(this, value, offset, byteLength, limit - 1, -limit)
  }

  var i = 0
  var mul = 1
  var sub = 0
  this[offset] = value & 0xFF
  while (++i < byteLength && (mul *= 0x100)) {
    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {
      sub = 1
    }
    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) {
    var limit = Math.pow(2, 8 * byteLength - 1)

    checkInt(this, value, offset, byteLength, limit - 1, -limit)
  }

  var i = byteLength - 1
  var mul = 1
  var sub = 0
  this[offset + i] = value & 0xFF
  while (--i >= 0 && (mul *= 0x100)) {
    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {
      sub = 1
    }
    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)
  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)
  if (value < 0) value = 0xff + value + 1
  this[offset] = (value & 0xff)
  return offset + 1
}

Buffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value & 0xff)
    this[offset + 1] = (value >>> 8)
  } else {
    objectWriteUInt16(this, value, offset, true)
  }
  return offset + 2
}

Buffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value >>> 8)
    this[offset + 1] = (value & 0xff)
  } else {
    objectWriteUInt16(this, value, offset, false)
  }
  return offset + 2
}

Buffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value & 0xff)
    this[offset + 1] = (value >>> 8)
    this[offset + 2] = (value >>> 16)
    this[offset + 3] = (value >>> 24)
  } else {
    objectWriteUInt32(this, value, offset, true)
  }
  return offset + 4
}

Buffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)
  if (value < 0) value = 0xffffffff + value + 1
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value >>> 24)
    this[offset + 1] = (value >>> 16)
    this[offset + 2] = (value >>> 8)
    this[offset + 3] = (value & 0xff)
  } else {
    objectWriteUInt32(this, value, offset, false)
  }
  return offset + 4
}

function checkIEEE754 (buf, value, offset, ext, max, min) {
  if (offset + ext > buf.length) throw new RangeError('Index out of range')
  if (offset < 0) throw new RangeError('Index out of range')
}

function writeFloat (buf, value, offset, littleEndian, noAssert) {
  if (!noAssert) {
    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)
  }
  ieee754.write(buf, value, offset, littleEndian, 23, 4)
  return offset + 4
}

Buffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {
  return writeFloat(this, value, offset, true, noAssert)
}

Buffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {
  return writeFloat(this, value, offset, false, noAssert)
}

function writeDouble (buf, value, offset, littleEndian, noAssert) {
  if (!noAssert) {
    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)
  }
  ieee754.write(buf, value, offset, littleEndian, 52, 8)
  return offset + 8
}

Buffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {
  return writeDouble(this, value, offset, true, noAssert)
}

Buffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {
  return writeDouble(this, value, offset, false, noAssert)
}

// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)
Buffer.prototype.copy = function copy (target, targetStart, start, end) {
  if (!start) start = 0
  if (!end && end !== 0) end = this.length
  if (targetStart >= target.length) targetStart = target.length
  if (!targetStart) targetStart = 0
  if (end > 0 && end < start) end = start

  // Copy 0 bytes; we're done
  if (end === start) return 0
  if (target.length === 0 || this.length === 0) return 0

  // Fatal error conditions
  if (targetStart < 0) {
    throw new RangeError('targetStart out of bounds')
  }
  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')
  if (end < 0) throw new RangeError('sourceEnd out of bounds')

  // Are we oob?
  if (end > this.length) end = this.length
  if (target.length - targetStart < end - start) {
    end = target.length - targetStart + start
  }

  var len = end - start
  var i

  if (this === target && start < targetStart && targetStart < end) {
    // descending copy from end
    for (i = len - 1; i >= 0; --i) {
      target[i + targetStart] = this[i + start]
    }
  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {
    // ascending copy from start
    for (i = 0; i < len; ++i) {
      target[i + targetStart] = this[i + start]
    }
  } else {
    Uint8Array.prototype.set.call(
      target,
      this.subarray(start, start + len),
      targetStart
    )
  }

  return len
}

// Usage:
//    buffer.fill(number[, offset[, end]])
//    buffer.fill(buffer[, offset[, end]])
//    buffer.fill(string[, offset[, end]][, encoding])
Buffer.prototype.fill = function fill (val, start, end, encoding) {
  // Handle string cases:
  if (typeof val === 'string') {
    if (typeof start === 'string') {
      encoding = start
      start = 0
      end = this.length
    } else if (typeof end === 'string') {
      encoding = end
      end = this.length
    }
    if (val.length === 1) {
      var code = val.charCodeAt(0)
      if (code < 256) {
        val = code
      }
    }
    if (encoding !== undefined && typeof encoding !== 'string') {
      throw new TypeError('encoding must be a string')
    }
    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {
      throw new TypeError('Unknown encoding: ' + encoding)
    }
  } else if (typeof val === 'number') {
    val = val & 255
  }

  // Invalid ranges are not set to a default, so can range check early.
  if (start < 0 || this.length < start || this.length < end) {
    throw new RangeError('Out of range index')
  }

  if (end <= start) {
    return this
  }

  start = start >>> 0
  end = end === undefined ? this.length : end >>> 0

  if (!val) val = 0

  var i
  if (typeof val === 'number') {
    for (i = start; i < end; ++i) {
      this[i] = val
    }
  } else {
    var bytes = Buffer.isBuffer(val)
      ? val
      : utf8ToBytes(new Buffer(val, encoding).toString())
    var len = bytes.length
    for (i = 0; i < end - start; ++i) {
      this[i + start] = bytes[i % len]
    }
  }

  return this
}

// HELPER FUNCTIONS
// ================

var INVALID_BASE64_RE = /[^+\/0-9A-Za-z-_]/g

function base64clean (str) {
  // Node strips out invalid characters like \n and \t from the string, base64-js does not
  str = stringtrim(str).replace(INVALID_BASE64_RE, '')
  // Node converts strings with length < 2 to ''
  if (str.length < 2) return ''
  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not
  while (str.length % 4 !== 0) {
    str = str + '='
  }
  return str
}

function stringtrim (str) {
  if (str.trim) return str.trim()
  return str.replace(/^\s+|\s+$/g, '')
}

function toHex (n) {
  if (n < 16) return '0' + n.toString(16)
  return n.toString(16)
}

function utf8ToBytes (string, units) {
  units = units || Infinity
  var codePoint
  var length = string.length
  var leadSurrogate = null
  var bytes = []

  for (var i = 0; i < length; ++i) {
    codePoint = string.charCodeAt(i)

    // is surrogate component
    if (codePoint > 0xD7FF && codePoint < 0xE000) {
      // last char was a lead
      if (!leadSurrogate) {
        // no lead yet
        if (codePoint > 0xDBFF) {
          // unexpected trail
          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
          continue
        } else if (i + 1 === length) {
          // unpaired lead
          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
          continue
        }

        // valid lead
        leadSurrogate = codePoint

        continue
      }

      // 2 leads in a row
      if (codePoint < 0xDC00) {
        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
        leadSurrogate = codePoint
        continue
      }

      // valid surrogate pair
      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000
    } else if (leadSurrogate) {
      // valid bmp char, but last char was a lead
      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
    }

    leadSurrogate = null

    // encode utf8
    if (codePoint < 0x80) {
      if ((units -= 1) < 0) break
      bytes.push(codePoint)
    } else if (codePoint < 0x800) {
      if ((units -= 2) < 0) break
      bytes.push(
        codePoint >> 0x6 | 0xC0,
        codePoint & 0x3F | 0x80
      )
    } else if (codePoint < 0x10000) {
      if ((units -= 3) < 0) break
      bytes.push(
        codePoint >> 0xC | 0xE0,
        codePoint >> 0x6 & 0x3F | 0x80,
        codePoint & 0x3F | 0x80
      )
    } else if (codePoint < 0x110000) {
      if ((units -= 4) < 0) break
      bytes.push(
        codePoint >> 0x12 | 0xF0,
        codePoint >> 0xC & 0x3F | 0x80,
        codePoint >> 0x6 & 0x3F | 0x80,
        codePoint & 0x3F | 0x80
      )
    } else {
      throw new Error('Invalid code point')
    }
  }

  return bytes
}

function asciiToBytes (str) {
  var byteArray = []
  for (var i = 0; i < str.length; ++i) {
    // Node's code seems to be doing this and not & 0x7F..
    byteArray.push(str.charCodeAt(i) & 0xFF)
  }
  return byteArray
}

function utf16leToBytes (str, units) {
  var c, hi, lo
  var byteArray = []
  for (var i = 0; i < str.length; ++i) {
    if ((units -= 2) < 0) break

    c = str.charCodeAt(i)
    hi = c >> 8
    lo = c % 256
    byteArray.push(lo)
    byteArray.push(hi)
  }

  return byteArray
}

function base64ToBytes (str) {
  return base64.toByteArray(base64clean(str))
}

function blitBuffer (src, dst, offset, length) {
  for (var i = 0; i < length; ++i) {
    if ((i + offset >= dst.length) || (i >= src.length)) break
    dst[i + offset] = src[i]
  }
  return i
}

function isnan (val) {
  return val !== val // eslint-disable-line no-self-compare
}

/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(73)))

/***/ }),
/* 73 */
/***/ (function(module, exports) {

var g;

// This works in non-strict mode
g = (function() {
	return this;
})();

try {
	// This works if eval is allowed (see CSP)
	g = g || Function("return this")() || (1,eval)("this");
} catch(e) {
	// This works if the window reference is available
	if(typeof window === "object")
		g = window;
}

// g can still be undefined, but nothing to do about it...
// We return undefined, instead of nothing here, so it's
// easier to handle this case. if(!global) { ...}

module.exports = g;


/***/ }),
/* 74 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.byteLength = byteLength
exports.toByteArray = toByteArray
exports.fromByteArray = fromByteArray

var lookup = []
var revLookup = []
var Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array

var code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'
for (var i = 0, len = code.length; i < len; ++i) {
  lookup[i] = code[i]
  revLookup[code.charCodeAt(i)] = i
}

revLookup['-'.charCodeAt(0)] = 62
revLookup['_'.charCodeAt(0)] = 63

function placeHoldersCount (b64) {
  var len = b64.length
  if (len % 4 > 0) {
    throw new Error('Invalid string. Length must be a multiple of 4')
  }

  // the number of equal signs (place holders)
  // if there are two placeholders, than the two characters before it
  // represent one byte
  // if there is only one, then the three characters before it represent 2 bytes
  // this is just a cheap hack to not do indexOf twice
  return b64[len - 2] === '=' ? 2 : b64[len - 1] === '=' ? 1 : 0
}

function byteLength (b64) {
  // base64 is 4/3 + up to two characters of the original data
  return (b64.length * 3 / 4) - placeHoldersCount(b64)
}

function toByteArray (b64) {
  var i, l, tmp, placeHolders, arr
  var len = b64.length
  placeHolders = placeHoldersCount(b64)

  arr = new Arr((len * 3 / 4) - placeHolders)

  // if there are placeholders, only get up to the last complete 4 chars
  l = placeHolders > 0 ? len - 4 : len

  var L = 0

  for (i = 0; i < l; i += 4) {
    tmp = (revLookup[b64.charCodeAt(i)] << 18) | (revLookup[b64.charCodeAt(i + 1)] << 12) | (revLookup[b64.charCodeAt(i + 2)] << 6) | revLookup[b64.charCodeAt(i + 3)]
    arr[L++] = (tmp >> 16) & 0xFF
    arr[L++] = (tmp >> 8) & 0xFF
    arr[L++] = tmp & 0xFF
  }

  if (placeHolders === 2) {
    tmp = (revLookup[b64.charCodeAt(i)] << 2) | (revLookup[b64.charCodeAt(i + 1)] >> 4)
    arr[L++] = tmp & 0xFF
  } else if (placeHolders === 1) {
    tmp = (revLookup[b64.charCodeAt(i)] << 10) | (revLookup[b64.charCodeAt(i + 1)] << 4) | (revLookup[b64.charCodeAt(i + 2)] >> 2)
    arr[L++] = (tmp >> 8) & 0xFF
    arr[L++] = tmp & 0xFF
  }

  return arr
}

function tripletToBase64 (num) {
  return lookup[num >> 18 & 0x3F] + lookup[num >> 12 & 0x3F] + lookup[num >> 6 & 0x3F] + lookup[num & 0x3F]
}

function encodeChunk (uint8, start, end) {
  var tmp
  var output = []
  for (var i = start; i < end; i += 3) {
    tmp = (uint8[i] << 16) + (uint8[i + 1] << 8) + (uint8[i + 2])
    output.push(tripletToBase64(tmp))
  }
  return output.join('')
}

function fromByteArray (uint8) {
  var tmp
  var len = uint8.length
  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes
  var output = ''
  var parts = []
  var maxChunkLength = 16383 // must be multiple of 3

  // go through the array every three bytes, we'll deal with trailing stuff later
  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {
    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))
  }

  // pad the end with zeros, but make sure to not forget the extra bytes
  if (extraBytes === 1) {
    tmp = uint8[len - 1]
    output += lookup[tmp >> 2]
    output += lookup[(tmp << 4) & 0x3F]
    output += '=='
  } else if (extraBytes === 2) {
    tmp = (uint8[len - 2] << 8) + (uint8[len - 1])
    output += lookup[tmp >> 10]
    output += lookup[(tmp >> 4) & 0x3F]
    output += lookup[(tmp << 2) & 0x3F]
    output += '='
  }

  parts.push(output)

  return parts.join('')
}


/***/ }),
/* 75 */
/***/ (function(module, exports) {

exports.read = function (buffer, offset, isLE, mLen, nBytes) {
  var e, m
  var eLen = nBytes * 8 - mLen - 1
  var eMax = (1 << eLen) - 1
  var eBias = eMax >> 1
  var nBits = -7
  var i = isLE ? (nBytes - 1) : 0
  var d = isLE ? -1 : 1
  var s = buffer[offset + i]

  i += d

  e = s & ((1 << (-nBits)) - 1)
  s >>= (-nBits)
  nBits += eLen
  for (; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8) {}

  m = e & ((1 << (-nBits)) - 1)
  e >>= (-nBits)
  nBits += mLen
  for (; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8) {}

  if (e === 0) {
    e = 1 - eBias
  } else if (e === eMax) {
    return m ? NaN : ((s ? -1 : 1) * Infinity)
  } else {
    m = m + Math.pow(2, mLen)
    e = e - eBias
  }
  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)
}

exports.write = function (buffer, value, offset, isLE, mLen, nBytes) {
  var e, m, c
  var eLen = nBytes * 8 - mLen - 1
  var eMax = (1 << eLen) - 1
  var eBias = eMax >> 1
  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)
  var i = isLE ? 0 : (nBytes - 1)
  var d = isLE ? 1 : -1
  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0

  value = Math.abs(value)

  if (isNaN(value) || value === Infinity) {
    m = isNaN(value) ? 1 : 0
    e = eMax
  } else {
    e = Math.floor(Math.log(value) / Math.LN2)
    if (value * (c = Math.pow(2, -e)) < 1) {
      e--
      c *= 2
    }
    if (e + eBias >= 1) {
      value += rt / c
    } else {
      value += rt * Math.pow(2, 1 - eBias)
    }
    if (value * c >= 2) {
      e++
      c /= 2
    }

    if (e + eBias >= eMax) {
      m = 0
      e = eMax
    } else if (e + eBias >= 1) {
      m = (value * c - 1) * Math.pow(2, mLen)
      e = e + eBias
    } else {
      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)
      e = 0
    }
  }

  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}

  e = (e << mLen) | m
  eLen += mLen
  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}

  buffer[offset + i - d] |= s * 128
}


/***/ }),
/* 76 */
/***/ (function(module, exports) {

var toString = {}.toString;

module.exports = Array.isArray || function (arr) {
  return toString.call(arr) == '[object Array]';
};


/***/ }),
/* 77 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var PlayerSourceType;
(function (PlayerSourceType) {
    PlayerSourceType["DEFAULT"] = "default";
    PlayerSourceType["HIVE"] = "hive";
    PlayerSourceType["KSDN"] = "kollective";
})(PlayerSourceType = exports.PlayerSourceType || (exports.PlayerSourceType = {}));


/***/ }),
/* 78 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
/// <reference path='player.d.ts' />
var uimanager_1 = __webpack_require__(79);
var button_1 = __webpack_require__(7);
var controlbar_1 = __webpack_require__(18);
var fullscreentogglebutton_1 = __webpack_require__(28);
var hugeplaybacktogglebutton_1 = __webpack_require__(61);
var playbacktimelabel_1 = __webpack_require__(30);
var playbacktogglebutton_1 = __webpack_require__(15);
var seekbar_1 = __webpack_require__(17);
var selectbox_1 = __webpack_require__(8);
var itemselectionlist_1 = __webpack_require__(85);
var settingspanel_1 = __webpack_require__(21);
var settingstogglebutton_1 = __webpack_require__(31);
var togglebutton_1 = __webpack_require__(5);
var videoqualityselectbox_1 = __webpack_require__(22);
var volumetogglebutton_1 = __webpack_require__(16);
var vrtogglebutton_1 = __webpack_require__(29);
var watermark_1 = __webpack_require__(86);
var uicontainer_1 = __webpack_require__(13);
var container_1 = __webpack_require__(0);
var label_1 = __webpack_require__(6);
var audioqualityselectbox_1 = __webpack_require__(23);
var audiotrackselectbox_1 = __webpack_require__(48);
var caststatusoverlay_1 = __webpack_require__(53);
var casttogglebutton_1 = __webpack_require__(52);
var component_1 = __webpack_require__(2);
var errormessageoverlay_1 = __webpack_require__(54);
var recommendationoverlay_1 = __webpack_require__(56);
var seekbarlabel_1 = __webpack_require__(49);
var subtitleoverlay_1 = __webpack_require__(51);
var subtitleselectbox_1 = __webpack_require__(50);
var titlebar_1 = __webpack_require__(55);
var volumecontrolbutton_1 = __webpack_require__(87);
var clickoverlay_1 = __webpack_require__(27);
var adskipbutton_1 = __webpack_require__(88);
var admessagelabel_1 = __webpack_require__(89);
var adclickoverlay_1 = __webpack_require__(90);
var playbackspeedselectbox_1 = __webpack_require__(58);
var hugereplaybutton_1 = __webpack_require__(57);
var bufferingoverlay_1 = __webpack_require__(59);
var castuicontainer_1 = __webpack_require__(91);
var playbacktoggleoverlay_1 = __webpack_require__(60);
var closebutton_1 = __webpack_require__(62);
var metadatalabel_1 = __webpack_require__(26);
var airplaytogglebutton_1 = __webpack_require__(63);
var volumeslider_1 = __webpack_require__(25);
var pictureinpicturetogglebutton_1 = __webpack_require__(64);
var spacer_1 = __webpack_require__(20);
var backgroundcolorselectbox_1 = __webpack_require__(38);
var backgroundopacityselectbox_1 = __webpack_require__(39);
var characteredgeselectbox_1 = __webpack_require__(42);
var fontcolorselectbox_1 = __webpack_require__(34);
var fontfamilyselectbox_1 = __webpack_require__(36);
var fontopacityselectbox_1 = __webpack_require__(35);
var fontsizeselectbox_1 = __webpack_require__(37);
var subtitlesettingsbutton_1 = __webpack_require__(24);
var subtitlesettingsclosebutton_1 = __webpack_require__(44);
var subtitlesettingselectbox_1 = __webpack_require__(4);
var subtitlesettingslabel_1 = __webpack_require__(46);
var subtitlesettingsopenbutton_1 = __webpack_require__(47);
var subtitlesettingspanel_1 = __webpack_require__(33);
var windowcolorselectbox_1 = __webpack_require__(40);
var windowopacityselectbox_1 = __webpack_require__(41);
var arrayutils_1 = __webpack_require__(11);
var stringutils_1 = __webpack_require__(10);
var playerutils_1 = __webpack_require__(12);
var uiutils_1 = __webpack_require__(19);
var browserutils_1 = __webpack_require__(14);
var storageutils_1 = __webpack_require__(43);
// HACK: gulp-tslint fails on unused files so we need this dummy import
var subtitlesettingsresetbutton_1 = __webpack_require__(45);
// Object.assign polyfill for ES5/IE9
// https://developer.mozilla.org/de/docs/Web/JavaScript/Reference/Global_Objects/Object/assign
if (typeof Object.assign !== 'function') {
    Object.assign = function (target) {
        'use strict';
        if (target == null) {
            throw new TypeError('Cannot convert undefined or null to object');
        }
        target = Object(target);
        for (var index = 1; index < arguments.length; index++) {
            var source = arguments[index];
            if (source != null) {
                for (var key in source) {
                    if (Object.prototype.hasOwnProperty.call(source, key)) {
                        target[key] = source[key];
                    }
                }
            }
        }
        return target;
    };
}
var playerui = {
    version: '{{VERSION}}',
    // Management
    UIManager: uimanager_1.UIManager,
    UIInstanceManager: uimanager_1.UIInstanceManager,
    // Utils
    ArrayUtils: arrayutils_1.ArrayUtils,
    StringUtils: stringutils_1.StringUtils,
    PlayerUtils: playerutils_1.PlayerUtils,
    UIUtils: uiutils_1.UIUtils,
    BrowserUtils: browserutils_1.BrowserUtils,
    StorageUtils: storageutils_1.StorageUtils,
    // Components
    AdClickOverlay: adclickoverlay_1.AdClickOverlay,
    AdMessageLabel: admessagelabel_1.AdMessageLabel,
    AdSkipButton: adskipbutton_1.AdSkipButton,
    AirPlayToggleButton: airplaytogglebutton_1.AirPlayToggleButton,
    AudioQualitySelectBox: audioqualityselectbox_1.AudioQualitySelectBox,
    AudioTrackSelectBox: audiotrackselectbox_1.AudioTrackSelectBox,
    BufferingOverlay: bufferingoverlay_1.BufferingOverlay,
    Button: button_1.Button,
    CastStatusOverlay: caststatusoverlay_1.CastStatusOverlay,
    CastToggleButton: casttogglebutton_1.CastToggleButton,
    CastUIContainer: castuicontainer_1.CastUIContainer,
    ClickOverlay: clickoverlay_1.ClickOverlay,
    CloseButton: closebutton_1.CloseButton,
    Component: component_1.Component,
    Container: container_1.Container,
    ControlBar: controlbar_1.ControlBar,
    ErrorMessageOverlay: errormessageoverlay_1.ErrorMessageOverlay,
    FullscreenToggleButton: fullscreentogglebutton_1.FullscreenToggleButton,
    HugePlaybackToggleButton: hugeplaybacktogglebutton_1.HugePlaybackToggleButton,
    HugeReplayButton: hugereplaybutton_1.HugeReplayButton,
    Label: label_1.Label,
    MetadataLabel: metadatalabel_1.MetadataLabel,
    MetadataLabelContent: metadatalabel_1.MetadataLabelContent,
    PictureInPictureToggleButton: pictureinpicturetogglebutton_1.PictureInPictureToggleButton,
    PlaybackSpeedSelectBox: playbackspeedselectbox_1.PlaybackSpeedSelectBox,
    PlaybackTimeLabel: playbacktimelabel_1.PlaybackTimeLabel,
    PlaybackTimeLabelMode: playbacktimelabel_1.PlaybackTimeLabelMode,
    PlaybackToggleButton: playbacktogglebutton_1.PlaybackToggleButton,
    PlaybackToggleOverlay: playbacktoggleoverlay_1.PlaybackToggleOverlay,
    RecommendationOverlay: recommendationoverlay_1.RecommendationOverlay,
    SeekBar: seekbar_1.SeekBar,
    SeekBarLabel: seekbarlabel_1.SeekBarLabel,
    SelectBox: selectbox_1.SelectBox,
    ItemSelectionList: itemselectionlist_1.ItemSelectionList,
    SettingsPanel: settingspanel_1.SettingsPanel,
    SettingsPanelItem: settingspanel_1.SettingsPanelItem,
    SettingsToggleButton: settingstogglebutton_1.SettingsToggleButton,
    Spacer: spacer_1.Spacer,
    SubtitleOverlay: subtitleoverlay_1.SubtitleOverlay,
    SubtitleSelectBox: subtitleselectbox_1.SubtitleSelectBox,
    TitleBar: titlebar_1.TitleBar,
    ToggleButton: togglebutton_1.ToggleButton,
    UIContainer: uicontainer_1.UIContainer,
    VideoQualitySelectBox: videoqualityselectbox_1.VideoQualitySelectBox,
    VolumeControlButton: volumecontrolbutton_1.VolumeControlButton,
    VolumeSlider: volumeslider_1.VolumeSlider,
    VolumeToggleButton: volumetogglebutton_1.VolumeToggleButton,
    VRToggleButton: vrtogglebutton_1.VRToggleButton,
    Watermark: watermark_1.Watermark,
    // Subtitle related components
    subtitlesettings: {
        BackgroundColorSelectBox: backgroundcolorselectbox_1.BackgroundColorSelectBox,
        BackgroundOpacitySelectBox: backgroundopacityselectbox_1.BackgroundOpacitySelectBox,
        CharacterEdgeSelectBox: characteredgeselectbox_1.CharacterEdgeSelectBox,
        FontColorSelectBox: fontcolorselectbox_1.FontColorSelectBox,
        FontFamilySelectBox: fontfamilyselectbox_1.FontFamilySelectBox,
        FontOpacitySelectBox: fontopacityselectbox_1.FontOpacitySelectBox,
        FontSizeSelectBox: fontsizeselectbox_1.FontSizeSelectBox,
        SubtitleSettingsButton: subtitlesettingsbutton_1.SubtitleSettingsButton,
        SubtitleSettingsCloseButton: subtitlesettingsclosebutton_1.SubtitleSettingsCloseButton,
        SubtitleSettingSelectBox: subtitlesettingselectbox_1.SubtitleSettingSelectBox,
        SubtitleSettingsLabel: subtitlesettingslabel_1.SubtitleSettingsLabel,
        SubtitleSettingsOpenButton: subtitlesettingsopenbutton_1.SubtitleSettingsOpenButton,
        SubtitleSettingsPanel: subtitlesettingspanel_1.SubtitleSettingsPanel,
        WindowColorSelectBox: windowcolorselectbox_1.WindowColorSelectBox,
        WindowOpacitySelectBox: windowopacityselectbox_1.WindowOpacitySelectBox,
        SubtitleSettingsResetButton: subtitlesettingsresetbutton_1.SubtitleSettingsResetButton,
    },
};
window.miBitmovinUi = { playerui: playerui };
module.exports = playerui;


/***/ }),
/* 79 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (this && this.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
Object.defineProperty(exports, "__esModule", { value: true });
var uicontainer_1 = __webpack_require__(13);
var dom_1 = __webpack_require__(1);
var container_1 = __webpack_require__(0);
var playbacktogglebutton_1 = __webpack_require__(15);
var fullscreentogglebutton_1 = __webpack_require__(28);
var vrtogglebutton_1 = __webpack_require__(29);
var volumetogglebutton_1 = __webpack_require__(16);
var seekbar_1 = __webpack_require__(17);
var playbacktimelabel_1 = __webpack_require__(30);
var controlbar_1 = __webpack_require__(18);
var eventdispatcher_1 = __webpack_require__(3);
var settingstogglebutton_1 = __webpack_require__(31);
var settingspanel_1 = __webpack_require__(21);
var subtitlesettingspanel_1 = __webpack_require__(33);
var subtitlesettingslabel_1 = __webpack_require__(46);
var subtitlesettingsopenbutton_1 = __webpack_require__(47);
var videoqualityselectbox_1 = __webpack_require__(22);
// import {Watermark} from './components/watermark';
var audioqualityselectbox_1 = __webpack_require__(23);
var audiotrackselectbox_1 = __webpack_require__(48);
var seekbarlabel_1 = __webpack_require__(49);
var volumeslider_1 = __webpack_require__(25);
var subtitleselectbox_1 = __webpack_require__(50);
var subtitleoverlay_1 = __webpack_require__(51);
// import {VolumeControlButton} from './components/volumecontrolbutton';
var casttogglebutton_1 = __webpack_require__(52);
var caststatusoverlay_1 = __webpack_require__(53);
var errormessageoverlay_1 = __webpack_require__(54);
var titlebar_1 = __webpack_require__(55);
var recommendationoverlay_1 = __webpack_require__(56);
var playbackspeedselectbox_1 = __webpack_require__(58);
var bufferingoverlay_1 = __webpack_require__(59);
// import {CastUIContainer} from './components/castuicontainer';
var playbacktoggleoverlay_1 = __webpack_require__(60);
var closebutton_1 = __webpack_require__(62);
var metadatalabel_1 = __webpack_require__(26);
var airplaytogglebutton_1 = __webpack_require__(63);
var pictureinpicturetogglebutton_1 = __webpack_require__(64);
var audioonlyoverlay_1 = __webpack_require__(84);
var spacer_1 = __webpack_require__(20);
var uiutils_1 = __webpack_require__(19);
var arrayutils_1 = __webpack_require__(11);
var browserutils_1 = __webpack_require__(14);
var UIManager = /** @class */ (function () {
    function UIManager(player, playerUiOrUiVariants, config) {
        if (config === void 0) { config = {}; }
        var _this = this;
        this.events = {
            onUiVariantResolve: new eventdispatcher_1.EventDispatcher(),
        };
        if (playerUiOrUiVariants instanceof uicontainer_1.UIContainer) {
            // Single-UI constructor has been called, transform arguments to UIVariant[] signature
            var playerUi = playerUiOrUiVariants;
            var uiVariants = [];
            // Add the default player UI
            uiVariants.push({ ui: playerUi });
            this.uiVariants = uiVariants;
        }
        else {
            // Default constructor (UIVariant[]) has been called
            this.uiVariants = playerUiOrUiVariants;
        }
        this.player = player;
        this.config = __assign({}, config, { events: {
                onUpdated: new eventdispatcher_1.EventDispatcher(),
            } });
        this.managerPlayerWrapper = new PlayerWrapper(player);
        /**
         * Gathers configuration data from the UI config and player source config and creates a merged UI config
         * that is used throughout the UI instance.
         */
        var updateConfig = function () {
            var playerSourceConfig = player.getConfig().source || {};
            var uiConfig = __assign({}, config);
            uiConfig.metadata = uiConfig.metadata || {};
            // Extract the UI-related config properties from the source config
            var playerSourceUiConfig = {
                metadata: {
                    // TODO move metadata into source.metadata namespace in player v8
                    title: playerSourceConfig.title,
                    description: playerSourceConfig.description,
                    markers: playerSourceConfig.markers,
                },
                recommendations: playerSourceConfig.recommendations,
            };
            // Player source config takes precedence over the UI config, because the config in the source is attached
            // to a source which changes with every player.load, whereas the UI config stays the same for the whole
            // lifetime of the player instance.
            _this.config.metadata = _this.config.metadata || {};
            _this.config.metadata.title = playerSourceUiConfig.metadata.title || uiConfig.metadata.title;
            _this.config.metadata.description = playerSourceUiConfig.metadata.description || uiConfig.metadata.description;
            _this.config.metadata.markers = playerSourceUiConfig.metadata.markers || uiConfig.metadata.markers || [];
            _this.config.recommendations = playerSourceUiConfig.recommendations || uiConfig.recommendations || [];
        };
        updateConfig();
        // Update the configuration when a new source is loaded
        this.managerPlayerWrapper.getPlayer().addEventHandler(this.player.EVENT.ON_SOURCE_LOADED, function () {
            updateConfig();
            _this.config.events.onUpdated.dispatch(_this);
        });
        if (config.container) {
            // Unfortunately 'uiContainerElement = new DOM(config.container)' will not accept the container with
            // string|HTMLElement type directly, although it accepts both types, so we need to spit these two cases up here.
            // TODO check in upcoming TS versions if the container can be passed in directly, or fix the constructor
            this.uiContainerElement = config.container instanceof HTMLElement ?
                new dom_1.DOM(config.container) : new dom_1.DOM(config.container);
        }
        else {
            this.uiContainerElement = new dom_1.DOM(player.getFigure());
        }
        // Create UI instance managers for the UI variants
        // The instance managers map to the corresponding UI variants by their array index
        this.uiInstanceManagers = [];
        var uiVariantsWithoutCondition = [];
        for (var _i = 0, _a = this.uiVariants; _i < _a.length; _i++) {
            var uiVariant = _a[_i];
            if (uiVariant.condition == null) {
                // Collect variants without conditions for error checking
                uiVariantsWithoutCondition.push(uiVariant);
            }
            // Create the instance manager for a UI variant
            this.uiInstanceManagers.push(new InternalUIInstanceManager(player, uiVariant.ui, this.config));
        }
        // Make sure that there is only one UI variant without a condition
        // It does not make sense to have multiple variants without condition, because only the first one in the list
        // (the one with the lowest index) will ever be selected.
        if (uiVariantsWithoutCondition.length > 1) {
            throw Error('Too many UIs without a condition: You cannot have more than one default UI');
        }
        // Make sure that the default UI variant, if defined, is at the end of the list (last index)
        // If it comes earlier, the variants with conditions that come afterwards will never be selected because the
        // default variant without a condition always evaluates to 'true'
        if (uiVariantsWithoutCondition.length > 0
            && uiVariantsWithoutCondition[0] !== this.uiVariants[this.uiVariants.length - 1]) {
            throw Error('Invalid UI variant order: the default UI (without condition) must be at the end of the list');
        }
        // Switch on auto UI resolving by default
        if (config.autoUiVariantResolve === undefined) {
            config.autoUiVariantResolve = true;
        }
        var adStartedEvent = null; // keep the event stored here during ad playback
        // Dynamically select a UI variant that matches the current UI condition.
        var resolveUiVariant = function (event) {
            // Make sure that the ON_AD_STARTED event data is persisted through ad playback in case other events happen
            // in the meantime, e.g. player resize. We need to store this data because there is no other way to find out
            // ad details (e.g. the ad client) while an ad is playing.
            // Existing event data signals that an ad is currently active. We cannot use player.isAd() because it returns
            // true on ad start and also on ad end events, which is problematic.
            if (event != null) {
                switch (event.type) {
                    // When the ad starts, we store the event data
                    case player.EVENT.ON_AD_STARTED:
                        adStartedEvent = event;
                        break;
                    // When the ad ends, we delete the event data
                    case player.EVENT.ON_AD_FINISHED:
                    case player.EVENT.ON_AD_SKIPPED:
                    case player.EVENT.ON_AD_ERROR:
                        adStartedEvent = null;
                        break;
                    // When a new source is loaded during ad playback, there will be no ad end event so we detect the end
                    // of the ad playback by checking isAd() in ON_READY, because ON_READY always arrives when the source
                    // changes.
                    case player.EVENT.ON_READY:
                        if (adStartedEvent && !player.isAd()) {
                            adStartedEvent = null;
                        }
                }
            }
            // Detect if an ad has started
            var ad = adStartedEvent != null;
            var adWithUI = ad && adStartedEvent.clientType === 'vast';
            _this.resolveUiVariant({
                isAd: ad,
                isAdWithUI: adWithUI,
                adClientType: ad ? adStartedEvent.clientType : null,
            }, function (context) {
                // If this is an ad UI, we need to relay the saved ON_AD_STARTED event data so ad components can configure
                // themselves for the current ad.
                if (context.isAd) {
                    /* Relay the ON_AD_STARTED event to the ads UI
                     *
                     * Because the ads UI is initialized in the ON_AD_STARTED handler, i.e. when the ON_AD_STARTED event has
                     * already been fired, components in the ads UI that listen for the ON_AD_STARTED event never receive it.
                     * Since this can break functionality of components that rely on this event, we relay the event to the
                     * ads UI components with the following call.
                     */
                    _this.currentUi.getWrappedPlayer().fireEventInUI(_this.player.EVENT.ON_AD_STARTED, adStartedEvent);
                }
            });
        };
        // Listen to the following events to trigger UI variant resolution
        if (config.autoUiVariantResolve) {
            this.managerPlayerWrapper.getPlayer().addEventHandler(this.player.EVENT.ON_READY, resolveUiVariant);
            this.managerPlayerWrapper.getPlayer().addEventHandler(this.player.EVENT.ON_PLAY, resolveUiVariant);
            this.managerPlayerWrapper.getPlayer().addEventHandler(this.player.EVENT.ON_PAUSED, resolveUiVariant);
            this.managerPlayerWrapper.getPlayer().addEventHandler(this.player.EVENT.ON_AD_STARTED, resolveUiVariant);
            this.managerPlayerWrapper.getPlayer().addEventHandler(this.player.EVENT.ON_AD_FINISHED, resolveUiVariant);
            this.managerPlayerWrapper.getPlayer().addEventHandler(this.player.EVENT.ON_AD_SKIPPED, resolveUiVariant);
            this.managerPlayerWrapper.getPlayer().addEventHandler(this.player.EVENT.ON_AD_ERROR, resolveUiVariant);
            this.managerPlayerWrapper.getPlayer().addEventHandler(this.player.EVENT.ON_PLAYER_RESIZE, resolveUiVariant);
            this.managerPlayerWrapper.getPlayer().addEventHandler(this.player.EVENT.ON_FULLSCREEN_ENTER, resolveUiVariant);
            this.managerPlayerWrapper.getPlayer().addEventHandler(this.player.EVENT.ON_FULLSCREEN_EXIT, resolveUiVariant);
        }
        // Initialize the UI
        resolveUiVariant(null);
    }
    UIManager.prototype.getConfig = function () {
        return this.config;
    };
    /**
     * Returns the list of UI variants as passed into the constructor of {@link UIManager}.
     * @returns {UIVariant[]} the list of available UI variants
     */
    UIManager.prototype.getUiVariants = function () {
        return this.uiVariants;
    };
    /**
     * Switches to a UI variant from the list returned by {@link getUiVariants}.
     * @param {UIVariant} uiVariant the UI variant to switch to
     * @param {() => void} onShow a callback that is executed just before the new UI variant is shown
     */
    UIManager.prototype.switchToUiVariant = function (uiVariant, onShow) {
        var uiVariantIndex = this.uiVariants.indexOf(uiVariant);
        var nextUi = this.uiInstanceManagers[uiVariantIndex];
        var uiVariantChanged = false;
        // Determine if the UI variant is changing
        if (nextUi !== this.currentUi) {
            uiVariantChanged = true;
            // console.log('switched from ', this.currentUi ? this.currentUi.getUI() : 'none',
            //   ' to ', nextUi ? nextUi.getUI() : 'none');
        }
        // Only if the UI variant is changing, we need to do some stuff. Else we just leave everything as-is.
        if (uiVariantChanged) {
            // Hide the currently active UI variant
            if (this.currentUi) {
                this.currentUi.getUI().hide();
            }
            // Assign the new UI variant as current UI
            this.currentUi = nextUi;
            // When we switch to a different UI instance, there's some additional stuff to manage. If we do not switch
            // to an instance, we're done here.
            if (this.currentUi != null) {
                // Add the UI to the DOM (and configure it) the first time it is selected
                if (!this.currentUi.isConfigured()) {
                    this.addUi(this.currentUi);
                }
                if (onShow) {
                    onShow();
                }
                this.currentUi.getUI().show();
            }
        }
    };
    /**
     * Triggers a UI variant switch as triggered by events when automatic switching is enabled. It allows to overwrite
     * properties of the {@link UIConditionContext}.
     * @param {Partial<UIConditionContext>} context an optional set of properties that overwrite properties of the
     *   automatically determined context
     * @param {(context: UIConditionContext) => void} onShow a callback that is executed just before the new UI variant
     *   is shown (if a switch is happening)
     */
    UIManager.prototype.resolveUiVariant = function (context, onShow) {
        if (context === void 0) { context = {}; }
        // Determine the current context for which the UI variant will be resolved
        var defaultContext = {
            isAd: false,
            isAdWithUI: false,
            adClientType: null,
            isFullscreen: this.player.isFullscreen(),
            isMobile: browserutils_1.BrowserUtils.isMobile,
            isPlaying: this.player.isPlaying(),
            width: this.uiContainerElement.width(),
            documentWidth: document.body.clientWidth,
        };
        // Overwrite properties of the default context with passed in context properties
        var switchingContext = __assign({}, defaultContext, context);
        // Fire the event and allow modification of the context before it is used to resolve the UI variant
        this.events.onUiVariantResolve.dispatch(this, switchingContext);
        var nextUiVariant = null;
        // Select new UI variant
        // If no variant condition is fulfilled, we switch to *no* UI
        for (var _i = 0, _a = this.uiVariants; _i < _a.length; _i++) {
            var uiVariant = _a[_i];
            if (uiVariant.condition == null || uiVariant.condition(switchingContext) === true) {
                nextUiVariant = uiVariant;
                break;
            }
        }
        this.switchToUiVariant(nextUiVariant, function () {
            if (onShow) {
                onShow(switchingContext);
            }
        });
    };
    UIManager.prototype.addUi = function (ui) {
        var dom = ui.getUI().getDomElement();
        var player = ui.getWrappedPlayer();
        ui.configureControls();
        /* Append the UI DOM after configuration to avoid CSS transitions at initialization
         * Example: Components are hidden during configuration and these hides may trigger CSS transitions that are
         * undesirable at this time. */
        this.uiContainerElement.append(dom);
        // Some components initialize their state on ON_READY. When the UI is loaded after the player is already ready,
        // they will never receive the event so we fire it from here in such cases.
        if (player.isReady()) {
            player.fireEventInUI(player.EVENT.ON_READY, {});
        }
        // Fire onConfigured after UI DOM elements are successfully added. When fired immediately, the DOM elements
        // might not be fully configured and e.g. do not have a size.
        // https://swizec.com/blog/how-to-properly-wait-for-dom-elements-to-show-up-in-modern-browsers/swizec/6663
        if (window.requestAnimationFrame) {
            requestAnimationFrame(function () { ui.onConfigured.dispatch(ui.getUI()); });
        }
        else {
            // IE9 fallback
            setTimeout(function () { ui.onConfigured.dispatch(ui.getUI()); }, 0);
        }
    };
    UIManager.prototype.releaseUi = function (ui) {
        ui.releaseControls();
        ui.getUI().getDomElement().remove();
        ui.clearEventHandlers();
    };
    UIManager.prototype.release = function () {
        for (var _i = 0, _a = this.uiInstanceManagers; _i < _a.length; _i++) {
            var uiInstanceManager = _a[_i];
            this.releaseUi(uiInstanceManager);
        }
        this.managerPlayerWrapper.clearEventHandlers();
    };
    Object.defineProperty(UIManager.prototype, "onUiVariantResolve", {
        /**
         * Fires just before UI variants are about to be resolved and the UI variant is possibly switched. It is fired when
         * the switch is triggered from an automatic switch and when calling {@link resolveUiVariant}.
         * Can be used to modify the {@link UIConditionContext} before resolving is done.
         * @returns {EventDispatcher<UIManager, UIConditionContext>}
         */
        get: function () {
            return this.events.onUiVariantResolve;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * Returns the list of all added markers in undefined order.
     */
    UIManager.prototype.getTimelineMarkers = function () {
        return this.config.metadata.markers;
    };
    /**
     * Adds a marker to the timeline. Does not check for duplicates/overlaps at the `time`.
     */
    UIManager.prototype.addTimelineMarker = function (timelineMarker) {
        this.config.metadata.markers.push(timelineMarker);
        this.config.events.onUpdated.dispatch(this);
    };
    /**
     * Removes a marker from the timeline (by reference) and returns `true` if the marker has
     * been part of the timeline and successfully removed, or `false` if the marker could not
     * be found and thus not removed.
     */
    UIManager.prototype.removeTimelineMarker = function (timelineMarker) {
        if (arrayutils_1.ArrayUtils.remove(this.config.metadata.markers, timelineMarker) === timelineMarker) {
            this.config.events.onUpdated.dispatch(this);
            return true;
        }
        return false;
    };
    return UIManager;
}());
exports.UIManager = UIManager;
(function (UIManager) {
    var Factory;
    (function (Factory) {
        function buildAudioVideoUI(player, config) {
            if (config === void 0) { config = {}; }
            var smallScreenSwitchWidth = 600;
            return new UIManager(player, [{
                    ui: modernSmallScreenUI(),
                    condition: function (context) {
                        return context.isMobile && context.documentWidth < smallScreenSwitchWidth;
                    },
                }, {
                    ui: modernUI(),
                }], config);
        }
        Factory.buildAudioVideoUI = buildAudioVideoUI;
        function buildAudioOnlyUI(player, config) {
            if (config === void 0) { config = {}; }
            var smallScreenSwitchWidth = 600;
            return new UIManager(player, [{
                    ui: modernAudioOnlySmallScreenUI(),
                    condition: function (context) {
                        return context.isMobile && context.documentWidth < smallScreenSwitchWidth;
                    },
                }, {
                    ui: modernAudioOnlyUI(),
                }], config);
        }
        Factory.buildAudioOnlyUI = buildAudioOnlyUI;
        // export function buildDefaultUI(player: PlayerAPI, config: UIConfig = {}): UIManager {
        //   return UIManager.Factory.buildModernUI(player, config);
        // }
        // export function buildDefaultSmallScreenUI(player: PlayerAPI, config: UIConfig = {}): UIManager {
        //   return UIManager.Factory.buildModernSmallScreenUI(player, config);
        // }
        // export function buildDefaultCastReceiverUI(player: PlayerAPI, config: UIConfig = {}): UIManager {
        //   return UIManager.Factory.buildModernCastReceiverUI(player, config);
        // }
        function modernUI() {
            var subtitleOverlay = new subtitleoverlay_1.SubtitleOverlay();
            var settingsPanel = new settingspanel_1.SettingsPanel({
                components: [
                    new settingspanel_1.SettingsPanelItem('Video Quality', new videoqualityselectbox_1.VideoQualitySelectBox()),
                    new settingspanel_1.SettingsPanelItem('Speed', new playbackspeedselectbox_1.PlaybackSpeedSelectBox()),
                    new settingspanel_1.SettingsPanelItem('Audio Track', new audiotrackselectbox_1.AudioTrackSelectBox()),
                    new settingspanel_1.SettingsPanelItem('Audio Quality', new audioqualityselectbox_1.AudioQualitySelectBox()),
                ],
                hidden: true,
            });
            var subtitleSettingsPanel = new subtitlesettingspanel_1.SubtitleSettingsPanel({
                hidden: true,
                overlay: subtitleOverlay,
                settingsPanel: settingsPanel,
            });
            var subtitleSettingsOpenButton = new subtitlesettingsopenbutton_1.SubtitleSettingsOpenButton({
                subtitleSettingsPanel: subtitleSettingsPanel,
                settingsPanel: settingsPanel,
            });
            settingsPanel.addComponent(new settingspanel_1.SettingsPanelItem(new subtitlesettingslabel_1.SubtitleSettingsLabel({ text: 'Subtitles', opener: subtitleSettingsOpenButton }), new subtitleselectbox_1.SubtitleSelectBox()));
            var controlBar = new controlbar_1.ControlBar({
                components: [
                    settingsPanel,
                    subtitleSettingsPanel,
                    new container_1.Container({
                        components: [
                            new playbacktimelabel_1.PlaybackTimeLabel({ timeLabelMode: playbacktimelabel_1.PlaybackTimeLabelMode.CurrentTime, hideInLivePlayback: true }),
                            new seekbar_1.SeekBar({ label: new seekbarlabel_1.SeekBarLabel() }),
                            new playbacktimelabel_1.PlaybackTimeLabel({ timeLabelMode: playbacktimelabel_1.PlaybackTimeLabelMode.TotalTime, cssClasses: ['text-right'] }),
                        ],
                        cssClasses: ['controlbar-top'],
                    }),
                    new container_1.Container({
                        components: [
                            new playbacktogglebutton_1.PlaybackToggleButton(),
                            new volumetogglebutton_1.VolumeToggleButton(),
                            new volumeslider_1.VolumeSlider(),
                            new spacer_1.Spacer(),
                            new pictureinpicturetogglebutton_1.PictureInPictureToggleButton(),
                            new airplaytogglebutton_1.AirPlayToggleButton(),
                            new casttogglebutton_1.CastToggleButton(),
                            new vrtogglebutton_1.VRToggleButton(),
                            new settingstogglebutton_1.SettingsToggleButton({ settingsPanel: settingsPanel }),
                            new fullscreentogglebutton_1.FullscreenToggleButton(),
                        ],
                        cssClasses: ['controlbar-bottom'],
                    }),
                ],
            });
            return new uicontainer_1.UIContainer({
                components: [
                    subtitleOverlay,
                    new bufferingoverlay_1.BufferingOverlay(),
                    new playbacktoggleoverlay_1.PlaybackToggleOverlay(),
                    new caststatusoverlay_1.CastStatusOverlay(),
                    controlBar,
                    // new TitleBar(),
                    new recommendationoverlay_1.RecommendationOverlay(),
                    // new Watermark(),
                    new errormessageoverlay_1.ErrorMessageOverlay(),
                ],
                cssClasses: ['ui-skin-mi-wbc'],
            });
        }
        function modernAudioOnlyUI() {
            var subtitleOverlay = new subtitleoverlay_1.SubtitleOverlay();
            var settingsPanel = new settingspanel_1.SettingsPanel({
                components: [
                    new settingspanel_1.SettingsPanelItem('Speed', new playbackspeedselectbox_1.PlaybackSpeedSelectBox()),
                    new settingspanel_1.SettingsPanelItem('Audio Track', new audiotrackselectbox_1.AudioTrackSelectBox()),
                    new settingspanel_1.SettingsPanelItem('Audio Quality', new audioqualityselectbox_1.AudioQualitySelectBox()),
                ],
                hidden: true,
            });
            var subtitleSettingsPanel = new subtitlesettingspanel_1.SubtitleSettingsPanel({
                hidden: true,
                overlay: subtitleOverlay,
                settingsPanel: settingsPanel,
            });
            var subtitleSettingsOpenButton = new subtitlesettingsopenbutton_1.SubtitleSettingsOpenButton({
                subtitleSettingsPanel: subtitleSettingsPanel,
                settingsPanel: settingsPanel,
            });
            settingsPanel.addComponent(new settingspanel_1.SettingsPanelItem(new subtitlesettingslabel_1.SubtitleSettingsLabel({ text: 'Subtitles', opener: subtitleSettingsOpenButton }), new subtitleselectbox_1.SubtitleSelectBox()));
            var controlBar = new controlbar_1.ControlBar({
                components: [
                    settingsPanel,
                    subtitleSettingsPanel,
                    new container_1.Container({
                        components: [
                            new playbacktimelabel_1.PlaybackTimeLabel({ timeLabelMode: playbacktimelabel_1.PlaybackTimeLabelMode.CurrentTime, hideInLivePlayback: true }),
                            new seekbar_1.SeekBar({ label: new seekbarlabel_1.SeekBarLabel() }),
                            new playbacktimelabel_1.PlaybackTimeLabel({ timeLabelMode: playbacktimelabel_1.PlaybackTimeLabelMode.TotalTime, cssClasses: ['text-right'] }),
                        ],
                        cssClasses: ['controlbar-top'],
                    }),
                    new container_1.Container({
                        components: [
                            new playbacktogglebutton_1.PlaybackToggleButton(),
                            new volumetogglebutton_1.VolumeToggleButton(),
                            new volumeslider_1.VolumeSlider(),
                            new spacer_1.Spacer(),
                            new airplaytogglebutton_1.AirPlayToggleButton(),
                            new casttogglebutton_1.CastToggleButton(),
                            new settingstogglebutton_1.SettingsToggleButton({ settingsPanel: settingsPanel }),
                            new fullscreentogglebutton_1.FullscreenToggleButton(),
                        ],
                        cssClasses: ['controlbar-bottom'],
                    }),
                ],
            });
            return new uicontainer_1.UIContainer({
                components: [
                    new audioonlyoverlay_1.AudioOnlyOverlay(),
                    subtitleOverlay,
                    new bufferingoverlay_1.BufferingOverlay(),
                    new playbacktoggleoverlay_1.PlaybackToggleOverlay(),
                    new caststatusoverlay_1.CastStatusOverlay(),
                    controlBar,
                    // new TitleBar(),
                    new recommendationoverlay_1.RecommendationOverlay(),
                    // new Watermark(),
                    new errormessageoverlay_1.ErrorMessageOverlay(),
                ],
                cssClasses: ['ui-skin-mi-wbc'],
            });
        }
        // function modernAdsUI() {
        //   return new UIContainer({
        //     components: [
        //       new BufferingOverlay(),
        //       new AdClickOverlay(),
        //       new PlaybackToggleOverlay(),
        //       new Container({
        //         components: [
        //           new AdMessageLabel({ text: 'Ad: {remainingTime} secs' }),
        //           new AdSkipButton(),
        //         ],
        //         cssClass: 'ui-ads-status',
        //       }),
        //       new ControlBar({
        //         components: [
        //           new Container({
        //             components: [
        //               new PlaybackToggleButton(),
        //               new VolumeToggleButton(),
        //               new VolumeSlider(),
        //               new Spacer(),
        //               new FullscreenToggleButton(),
        //             ],
        //             cssClasses: ['controlbar-bottom'],
        //           }),
        //         ],
        //       }),
        //     ],
        //     cssClasses: ['ui-skin-mi-wbc', 'ui-skin-ads'],
        //   });
        // }
        function modernSmallScreenUI() {
            var subtitleOverlay = new subtitleoverlay_1.SubtitleOverlay();
            var settingsPanel = new settingspanel_1.SettingsPanel({
                components: [
                    new settingspanel_1.SettingsPanelItem('Video Quality', new videoqualityselectbox_1.VideoQualitySelectBox()),
                    new settingspanel_1.SettingsPanelItem('Speed', new playbackspeedselectbox_1.PlaybackSpeedSelectBox()),
                    new settingspanel_1.SettingsPanelItem('Audio Track', new audiotrackselectbox_1.AudioTrackSelectBox()),
                    new settingspanel_1.SettingsPanelItem('Audio Quality', new audioqualityselectbox_1.AudioQualitySelectBox()),
                ],
                hidden: true,
                hideDelay: -1,
            });
            var subtitleSettingsPanel = new subtitlesettingspanel_1.SubtitleSettingsPanel({
                hidden: true,
                hideDelay: -1,
                overlay: subtitleOverlay,
                settingsPanel: settingsPanel,
            });
            var subtitleSettingsOpenButton = new subtitlesettingsopenbutton_1.SubtitleSettingsOpenButton({
                subtitleSettingsPanel: subtitleSettingsPanel,
                settingsPanel: settingsPanel,
            });
            settingsPanel.addComponent(new settingspanel_1.SettingsPanelItem(new subtitlesettingslabel_1.SubtitleSettingsLabel({ text: 'Subtitles', opener: subtitleSettingsOpenButton }), new subtitleselectbox_1.SubtitleSelectBox()));
            settingsPanel.addComponent(new closebutton_1.CloseButton({ target: settingsPanel }));
            subtitleSettingsPanel.addComponent(new closebutton_1.CloseButton({ target: subtitleSettingsPanel }));
            var controlBar = new controlbar_1.ControlBar({
                components: [
                    new container_1.Container({
                        components: [
                            new playbacktimelabel_1.PlaybackTimeLabel({ timeLabelMode: playbacktimelabel_1.PlaybackTimeLabelMode.CurrentTime, hideInLivePlayback: true }),
                            new seekbar_1.SeekBar({ label: new seekbarlabel_1.SeekBarLabel() }),
                            new playbacktimelabel_1.PlaybackTimeLabel({ timeLabelMode: playbacktimelabel_1.PlaybackTimeLabelMode.TotalTime, cssClasses: ['text-right'] }),
                        ],
                        cssClasses: ['controlbar-top'],
                    }),
                ],
            });
            return new uicontainer_1.UIContainer({
                components: [
                    subtitleOverlay,
                    new bufferingoverlay_1.BufferingOverlay(),
                    new caststatusoverlay_1.CastStatusOverlay(),
                    new playbacktoggleoverlay_1.PlaybackToggleOverlay(),
                    controlBar,
                    new titlebar_1.TitleBar({
                        components: [
                            new metadatalabel_1.MetadataLabel({ content: metadatalabel_1.MetadataLabelContent.Title }),
                            new casttogglebutton_1.CastToggleButton(),
                            new vrtogglebutton_1.VRToggleButton(),
                            new volumetogglebutton_1.VolumeToggleButton(),
                            new settingstogglebutton_1.SettingsToggleButton({ settingsPanel: settingsPanel }),
                            new fullscreentogglebutton_1.FullscreenToggleButton(),
                        ],
                    }),
                    settingsPanel,
                    subtitleSettingsPanel,
                    new recommendationoverlay_1.RecommendationOverlay(),
                    // new Watermark(),
                    new errormessageoverlay_1.ErrorMessageOverlay(),
                ],
                cssClasses: ['ui-skin-mi-wbc', 'ui-skin-smallscreen'],
            });
        }
        function modernAudioOnlySmallScreenUI() {
            var subtitleOverlay = new subtitleoverlay_1.SubtitleOverlay();
            var settingsPanel = new settingspanel_1.SettingsPanel({
                components: [
                    new settingspanel_1.SettingsPanelItem('Speed', new playbackspeedselectbox_1.PlaybackSpeedSelectBox()),
                    new settingspanel_1.SettingsPanelItem('Audio Track', new audiotrackselectbox_1.AudioTrackSelectBox()),
                    new settingspanel_1.SettingsPanelItem('Audio Quality', new audioqualityselectbox_1.AudioQualitySelectBox()),
                ],
                hidden: true,
                hideDelay: -1,
            });
            var subtitleSettingsPanel = new subtitlesettingspanel_1.SubtitleSettingsPanel({
                hidden: true,
                hideDelay: -1,
                overlay: subtitleOverlay,
                settingsPanel: settingsPanel,
            });
            var subtitleSettingsOpenButton = new subtitlesettingsopenbutton_1.SubtitleSettingsOpenButton({
                subtitleSettingsPanel: subtitleSettingsPanel,
                settingsPanel: settingsPanel,
            });
            settingsPanel.addComponent(new settingspanel_1.SettingsPanelItem(new subtitlesettingslabel_1.SubtitleSettingsLabel({ text: 'Subtitles', opener: subtitleSettingsOpenButton }), new subtitleselectbox_1.SubtitleSelectBox()));
            settingsPanel.addComponent(new closebutton_1.CloseButton({ target: settingsPanel }));
            subtitleSettingsPanel.addComponent(new closebutton_1.CloseButton({ target: subtitleSettingsPanel }));
            var controlBar = new controlbar_1.ControlBar({
                components: [
                    new container_1.Container({
                        components: [
                            new playbacktimelabel_1.PlaybackTimeLabel({ timeLabelMode: playbacktimelabel_1.PlaybackTimeLabelMode.CurrentTime, hideInLivePlayback: true }),
                            new seekbar_1.SeekBar({ label: new seekbarlabel_1.SeekBarLabel() }),
                            new playbacktimelabel_1.PlaybackTimeLabel({ timeLabelMode: playbacktimelabel_1.PlaybackTimeLabelMode.TotalTime, cssClasses: ['text-right'] }),
                        ],
                        cssClasses: ['controlbar-top'],
                    }),
                ],
            });
            return new uicontainer_1.UIContainer({
                components: [
                    new audioonlyoverlay_1.AudioOnlyOverlay(),
                    subtitleOverlay,
                    new bufferingoverlay_1.BufferingOverlay(),
                    new caststatusoverlay_1.CastStatusOverlay(),
                    new playbacktoggleoverlay_1.PlaybackToggleOverlay(),
                    controlBar,
                    new titlebar_1.TitleBar({
                        components: [
                            new metadatalabel_1.MetadataLabel({ content: metadatalabel_1.MetadataLabelContent.Title }),
                            new casttogglebutton_1.CastToggleButton(),
                            new vrtogglebutton_1.VRToggleButton(),
                            new volumetogglebutton_1.VolumeToggleButton(),
                            new settingstogglebutton_1.SettingsToggleButton({ settingsPanel: settingsPanel }),
                            new fullscreentogglebutton_1.FullscreenToggleButton(),
                        ],
                    }),
                    settingsPanel,
                    subtitleSettingsPanel,
                    new recommendationoverlay_1.RecommendationOverlay(),
                    // new Watermark(),
                    new errormessageoverlay_1.ErrorMessageOverlay(),
                ],
                cssClasses: ['ui-skin-mi-wbc', 'ui-skin-smallscreen'],
            });
        }
        // function modernSmallScreenAdsUI() {
        //   return new UIContainer({
        //     components: [
        //       new BufferingOverlay(),
        //       new AdClickOverlay(),
        //       new PlaybackToggleOverlay(),
        //       new TitleBar({
        //         components: [
        //           // dummy label with no content to move buttons to the right
        //           new Label({ cssClass: 'label-metadata-title' }),
        //           new FullscreenToggleButton(),
        //         ],
        //       }),
        //       new Container({
        //         components: [
        //           new AdMessageLabel({ text: 'Ad: {remainingTime} secs' }),
        //           new AdSkipButton(),
        //         ],
        //         cssClass: 'ui-ads-status',
        //       }),
        //     ],
        //     cssClasses: ['ui-skin-mi-wbc', 'ui-skin-ads', 'ui-skin-smallscreen'],
        //   });
        // }
        // function modernCastReceiverUI() {
        //   let controlBar = new ControlBar({
        //     components: [
        //       new Container({
        //         components: [
        //           new PlaybackTimeLabel({ timeLabelMode: PlaybackTimeLabelMode.CurrentTime, hideInLivePlayback: true }),
        //           new SeekBar({ smoothPlaybackPositionUpdateIntervalMs: -1 }),
        //           new PlaybackTimeLabel({ timeLabelMode: PlaybackTimeLabelMode.TotalTime, cssClasses: ['text-right'] }),
        //         ],
        //         cssClasses: ['controlbar-top'],
        //       }),
        //     ],
        //   });
        //   return new CastUIContainer({
        //     components: [
        //       new SubtitleOverlay(),
        //       new BufferingOverlay(),
        //       new PlaybackToggleOverlay(),
        //       new Watermark(),
        //       controlBar,
        //       new TitleBar({ keepHiddenWithoutMetadata: true }),
        //       new ErrorMessageOverlay(),
        //     ],
        //     cssClasses: ['ui-skin-mi-wbc', 'ui-skin-cast-receiver'],
        //   });
        // }
        // export function buildModernUI(player: PlayerAPI, config: UIConfig = {}): UIManager {
        //   // show smallScreen UI only on mobile/handheld devices
        //   let smallScreenSwitchWidth = 600;
        //   return new UIManager(player, [{
        //     ui: modernSmallScreenAdsUI(),
        //     condition: (context: UIConditionContext) => {
        //       return context.isMobile && context.documentWidth < smallScreenSwitchWidth && context.isAdWithUI;
        //     },
        //   }, {
        //     ui: modernAdsUI(),
        //     condition: (context: UIConditionContext) => {
        //       return context.isAdWithUI;
        //     },
        //   }, {
        //     ui: modernSmallScreenUI(),
        //     condition: (context: UIConditionContext) => {
        //       return context.isMobile && context.documentWidth < smallScreenSwitchWidth;
        //     },
        //   }, {
        //     ui: modernUI(),
        //   }], config);
        // }
        // export function buildModernSmallScreenUI(player: PlayerAPI, config: UIConfig = {}): UIManager {
        //   return new UIManager(player, [{
        //     ui: modernSmallScreenAdsUI(),
        //     condition: (context: UIConditionContext) => {
        //       return context.isAdWithUI;
        //     },
        //   }, {
        //     ui: modernSmallScreenUI(),
        //   }], config);
        // }
        // export function buildModernCastReceiverUI(player: PlayerAPI, config: UIConfig = {}): UIManager {
        //   return new UIManager(player, modernCastReceiverUI(), config);
        // }
        // function legacyUI() {
        //   let settingsPanel = new SettingsPanel({
        //     components: [
        //       new SettingsPanelItem('Video Quality', new VideoQualitySelectBox()),
        //       new SettingsPanelItem('Audio Track', new AudioTrackSelectBox()),
        //       new SettingsPanelItem('Audio Quality', new AudioQualitySelectBox()),
        //       new SettingsPanelItem('Subtitles', new SubtitleSelectBox()),
        //     ],
        //     hidden: true,
        //   });
        //   let controlBar = new ControlBar({
        //     components: [
        //       settingsPanel,
        //       new PlaybackToggleButton(),
        //       new SeekBar({ label: new SeekBarLabel() }),
        //       new PlaybackTimeLabel(),
        //       new VRToggleButton(),
        //       new VolumeControlButton(),
        //       new SettingsToggleButton({ settingsPanel: settingsPanel }),
        //       new CastToggleButton(),
        //       new FullscreenToggleButton(),
        //     ],
        //   });
        //   return new UIContainer({
        //     components: [
        //       new SubtitleOverlay(),
        //       new CastStatusOverlay(),
        //       new PlaybackToggleOverlay(),
        //       new Watermark(),
        //       new RecommendationOverlay(),
        //       controlBar,
        //       new TitleBar(),
        //       new ErrorMessageOverlay(),
        //     ],
        //     cssClasses: ['ui-skin-legacy'],
        //   });
        // }
        // function legacyAdsUI() {
        //   return new UIContainer({
        //     components: [
        //       new AdClickOverlay(),
        //       new ControlBar({
        //         components: [
        //           new PlaybackToggleButton(),
        //           new AdMessageLabel(),
        //           new VolumeControlButton(),
        //           new FullscreenToggleButton(),
        //         ],
        //       }),
        //       new AdSkipButton(),
        //     ],
        //     cssClasses: ['ui-skin-legacy', 'ui-skin-ads'],
        //   });
        // }
        // function legacyCastReceiverUI() {
        //   let controlBar = new ControlBar({
        //     components: [
        //       new SeekBar(),
        //       new PlaybackTimeLabel(),
        //     ],
        //   });
        //   return new UIContainer({
        //     components: [
        //       new SubtitleOverlay(),
        //       new PlaybackToggleOverlay(),
        //       new Watermark(),
        //       controlBar,
        //       new TitleBar(),
        //       new ErrorMessageOverlay(),
        //     ],
        //     cssClasses: ['ui-skin-legacy', 'ui-skin-cast-receiver'],
        //   });
        // }
        // function legacyTestUI() {
        //   let settingsPanel = new SettingsPanel({
        //     components: [
        //       new SettingsPanelItem('Video Quality', new VideoQualitySelectBox()),
        //       new SettingsPanelItem('Audio Track', new AudioTrackSelectBox()),
        //       new SettingsPanelItem('Audio Quality', new AudioQualitySelectBox()),
        //       new SettingsPanelItem('Subtitles', new SubtitleSelectBox()),
        //     ],
        //     hidden: true,
        //   });
        //   let controlBar = new ControlBar({
        //     components: [settingsPanel,
        //       new PlaybackToggleButton(),
        //       new SeekBar({ label: new SeekBarLabel() }),
        //       new PlaybackTimeLabel(),
        //       new VRToggleButton(),
        //       new VolumeToggleButton(),
        //       new VolumeSlider(),
        //       new VolumeControlButton(),
        //       new VolumeControlButton({ vertical: false }),
        //       new SettingsToggleButton({ settingsPanel: settingsPanel }),
        //       new CastToggleButton(),
        //       new FullscreenToggleButton(),
        //     ],
        //   });
        //   return new UIContainer({
        //     components: [
        //       new SubtitleOverlay(),
        //       new CastStatusOverlay(),
        //       new PlaybackToggleOverlay(),
        //       new Watermark(),
        //       new RecommendationOverlay(),
        //       controlBar,
        //       new TitleBar(),
        //       new ErrorMessageOverlay(),
        //     ],
        //     cssClasses: ['ui-skin-legacy'],
        //   });
        // }
        // export function buildLegacyUI(player: PlayerAPI, config: UIConfig = {}): UIManager {
        //   return new UIManager(player, [{
        //     ui: legacyAdsUI(),
        //     condition: (context: UIConditionContext) => {
        //       return context.isAdWithUI;
        //     },
        //   }, {
        //     ui: legacyUI(),
        //   }], config);
        // }
        // export function buildLegacyCastReceiverUI(player: PlayerAPI, config: UIConfig = {}): UIManager {
        //   return new UIManager(player, legacyCastReceiverUI(), config);
        // }
        // export function buildLegacyTestUI(player: PlayerAPI, config: UIConfig = {}): UIManager {
        //   return new UIManager(player, legacyTestUI(), config);
        // }
    })(Factory = UIManager.Factory || (UIManager.Factory = {}));
})(UIManager = exports.UIManager || (exports.UIManager = {}));
exports.UIManager = UIManager;
/**
 * Encapsulates functionality to manage a UI instance. Used by the {@link UIManager} to manage multiple UI instances.
 */
var UIInstanceManager = /** @class */ (function () {
    function UIInstanceManager(player, ui, config) {
        this.events = {
            onConfigured: new eventdispatcher_1.EventDispatcher(),
            onSeek: new eventdispatcher_1.EventDispatcher(),
            onSeekPreview: new eventdispatcher_1.EventDispatcher(),
            onSeeked: new eventdispatcher_1.EventDispatcher(),
            onComponentShow: new eventdispatcher_1.EventDispatcher(),
            onComponentHide: new eventdispatcher_1.EventDispatcher(),
            onControlsShow: new eventdispatcher_1.EventDispatcher(),
            onPreviewControlsHide: new eventdispatcher_1.EventDispatcher(),
            onControlsHide: new eventdispatcher_1.EventDispatcher(),
            onRelease: new eventdispatcher_1.EventDispatcher(),
        };
        this.playerWrapper = new PlayerWrapper(player);
        this.ui = ui;
        this.config = config;
    }
    UIInstanceManager.prototype.getConfig = function () {
        return this.config;
    };
    UIInstanceManager.prototype.getUI = function () {
        return this.ui;
    };
    UIInstanceManager.prototype.getPlayer = function () {
        return this.playerWrapper.getPlayer();
    };
    Object.defineProperty(UIInstanceManager.prototype, "onConfigured", {
        /**
         * Fires when the UI is fully configured and added to the DOM.
         * @returns {EventDispatcher}
         */
        get: function () {
            return this.events.onConfigured;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(UIInstanceManager.prototype, "onSeek", {
        /**
         * Fires when a seek starts.
         * @returns {EventDispatcher}
         */
        get: function () {
            return this.events.onSeek;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(UIInstanceManager.prototype, "onSeekPreview", {
        /**
         * Fires when the seek timeline is scrubbed.
         * @returns {EventDispatcher}
         */
        get: function () {
            return this.events.onSeekPreview;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(UIInstanceManager.prototype, "onSeeked", {
        /**
         * Fires when a seek is finished.
         * @returns {EventDispatcher}
         */
        get: function () {
            return this.events.onSeeked;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(UIInstanceManager.prototype, "onComponentShow", {
        /**
         * Fires when a component is showing.
         * @returns {EventDispatcher}
         */
        get: function () {
            return this.events.onComponentShow;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(UIInstanceManager.prototype, "onComponentHide", {
        /**
         * Fires when a component is hiding.
         * @returns {EventDispatcher}
         */
        get: function () {
            return this.events.onComponentHide;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(UIInstanceManager.prototype, "onControlsShow", {
        /**
         * Fires when the UI controls are showing.
         * @returns {EventDispatcher}
         */
        get: function () {
            return this.events.onControlsShow;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(UIInstanceManager.prototype, "onPreviewControlsHide", {
        /**
         * Fires before the UI controls are hiding to check if they are allowed to hide.
         * @returns {EventDispatcher}
         */
        get: function () {
            return this.events.onPreviewControlsHide;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(UIInstanceManager.prototype, "onControlsHide", {
        /**
         * Fires when the UI controls are hiding.
         * @returns {EventDispatcher}
         */
        get: function () {
            return this.events.onControlsHide;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(UIInstanceManager.prototype, "onRelease", {
        /**
         * Fires when the UI controls are released.
         * @returns {EventDispatcher}
         */
        get: function () {
            return this.events.onRelease;
        },
        enumerable: true,
        configurable: true
    });
    UIInstanceManager.prototype.clearEventHandlers = function () {
        this.playerWrapper.clearEventHandlers();
        var events = this.events; // avoid TS7017
        for (var event_1 in events) {
            var dispatcher = events[event_1];
            dispatcher.unsubscribeAll();
        }
    };
    return UIInstanceManager;
}());
exports.UIInstanceManager = UIInstanceManager;
/**
 * Extends the {@link UIInstanceManager} for internal use in the {@link UIManager} and provides access to functionality
 * that components receiving a reference to the {@link UIInstanceManager} should not have access to.
 */
var InternalUIInstanceManager = /** @class */ (function (_super) {
    __extends(InternalUIInstanceManager, _super);
    function InternalUIInstanceManager() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    InternalUIInstanceManager.prototype.getWrappedPlayer = function () {
        // TODO find a non-hacky way to provide the WrappedPlayer to the UIManager without exporting it
        // getPlayer() actually returns the WrappedPlayer but its return type is set to Player so the WrappedPlayer does
        // not need to be exported
        return this.getPlayer();
    };
    InternalUIInstanceManager.prototype.configureControls = function () {
        this.configureControlsTree(this.getUI());
        this.configured = true;
    };
    InternalUIInstanceManager.prototype.isConfigured = function () {
        return this.configured;
    };
    InternalUIInstanceManager.prototype.configureControlsTree = function (component) {
        var _this = this;
        var configuredComponents = [];
        uiutils_1.UIUtils.traverseTree(component, function (component) {
            // First, check if we have already configured a component, and throw an error if we did. Multiple configuration
            // of the same component leads to unexpected UI behavior. Also, a component that is in the UI tree multiple
            // times hints at a wrong UI structure.
            // We could just skip configuration in such a case and not throw an exception, but enforcing a clean UI tree
            // seems like the better choice.
            for (var _i = 0, configuredComponents_1 = configuredComponents; _i < configuredComponents_1.length; _i++) {
                var configuredComponent = configuredComponents_1[_i];
                if (configuredComponent === component) {
                    // Write the component to the console to simplify identification of the culprit
                    // (e.g. by inspecting the config)
                    if (console) {
                        console.error('Circular reference in UI tree', component);
                    }
                    // Additionally throw an error, because this case must not happen and leads to unexpected UI behavior.
                    throw Error('Circular reference in UI tree: ' + component.constructor.name);
                }
            }
            component.initialize();
            component.configure(_this.getPlayer(), _this);
            configuredComponents.push(component);
        });
    };
    InternalUIInstanceManager.prototype.releaseControls = function () {
        // Do not call release methods if the components have never been configured; this can result in exceptions
        if (this.configured) {
            this.onRelease.dispatch(this.getUI());
            this.releaseControlsTree(this.getUI());
            this.configured = false;
        }
        this.released = true;
    };
    InternalUIInstanceManager.prototype.isReleased = function () {
        return this.released;
    };
    InternalUIInstanceManager.prototype.releaseControlsTree = function (component) {
        component.release();
        if (component instanceof container_1.Container) {
            for (var _i = 0, _a = component.getComponents(); _i < _a.length; _i++) {
                var childComponent = _a[_i];
                this.releaseControlsTree(childComponent);
            }
        }
    };
    InternalUIInstanceManager.prototype.clearEventHandlers = function () {
        _super.prototype.clearEventHandlers.call(this);
    };
    return InternalUIInstanceManager;
}(UIInstanceManager));
/**
 * Wraps the player to track event handlers and provide a simple method to remove all registered event
 * handlers from the player.
 */
var PlayerWrapper = /** @class */ (function () {
    function PlayerWrapper(player) {
        var _this = this;
        this.eventHandlers = {};
        this.player = player;
        // Collect all members of the player (public API methods and properties of the player)
        // (Object.getOwnPropertyNames(player) does not work with the player TypeScript class starting in 7.2)
        var members = [];
        for (var member in player) {
            members.push(member);
        }
        // Split the members into methods and properties
        var methods = [];
        var properties = [];
        for (var _i = 0, members_1 = members; _i < members_1.length; _i++) {
            var member = members_1[_i];
            if (typeof player[member] === 'function') {
                methods.push(member);
            }
            else {
                properties.push(member);
            }
        }
        // Create wrapper object
        var wrapper = {};
        var _loop_1 = function (method) {
            wrapper[method] = function () {
                // console.log('called ' + member); // track method calls on the player
                return player[method].apply(player, arguments);
            };
        };
        // Add function wrappers for all API methods that do nothing but calling the base method on the player
        for (var _a = 0, methods_1 = methods; _a < methods_1.length; _a++) {
            var method = methods_1[_a];
            _loop_1(method);
        }
        var _loop_2 = function (property) {
            // Get an eventually existing property descriptor to differentiate between plain properties and properties with
            // getters/setters.
            var propertyDescriptor = Object.getOwnPropertyDescriptor(player, property) ||
                Object.getOwnPropertyDescriptor(Object.getPrototypeOf(player), property);
            // If the property has getters/setters, wrap them accordingly...
            if (propertyDescriptor && (propertyDescriptor.get || propertyDescriptor.set)) {
                Object.defineProperty(wrapper, property, {
                    get: function () { return propertyDescriptor.get.call(player); },
                    set: function (value) { return propertyDescriptor.set.call(player, value); },
                });
            }
            // ... else just transfer the property to the wrapper
            else {
                wrapper[property] = player[property];
            }
        };
        // Add all public properties of the player to the wrapper
        for (var _b = 0, properties_1 = properties; _b < properties_1.length; _b++) {
            var property = properties_1[_b];
            _loop_2(property);
        }
        // Explicitly add a wrapper method for 'addEventHandler' that adds added event handlers to the event list
        wrapper.addEventHandler = function (eventType, callback) {
            // in player V8 addEventHandler was replaced by on
            if (player.on) {
                player.on(eventType, callback);
            }
            else {
                // keep backward compatibility for versions <7.7
                player.addEventHandler(eventType, callback);
            }
            if (!_this.eventHandlers[eventType]) {
                _this.eventHandlers[eventType] = [];
            }
            _this.eventHandlers[eventType].push(callback);
            return wrapper;
        };
        // Explicitly add a wrapper method for 'removeEventHandler' that removes removed event handlers from the event list
        wrapper.removeEventHandler = function (eventType, callback) {
            if (player.off) {
                player.off(eventType, callback);
            }
            else {
                // keep backward compatibility for versions <7.7
                player.removeEventHandler(eventType, callback);
            }
            if (_this.eventHandlers[eventType]) {
                arrayutils_1.ArrayUtils.remove(_this.eventHandlers[eventType], callback);
            }
            return wrapper;
        };
        wrapper.fireEventInUI = function (event, data) {
            if (_this.eventHandlers[event]) { // check if there are handlers for this event registered
                // Extend the data object with default values to convert it to a {@link PlayerEvent} object.
                var playerEventData = Object.assign({}, {
                    timestamp: Date.now(),
                    type: event,
                    // Add a marker property so the UI can detect UI-internal player events
                    uiSourced: true,
                }, data);
                // Execute the registered callbacks
                for (var _i = 0, _a = _this.eventHandlers[event]; _i < _a.length; _i++) {
                    var callback = _a[_i];
                    callback(playerEventData);
                }
            }
        };
        this.wrapper = wrapper;
    }
    /**
     * Returns a wrapped player object that can be used on place of the normal player object.
     * @returns {WrappedPlayer} a wrapped player
     */
    PlayerWrapper.prototype.getPlayer = function () {
        return this.wrapper;
    };
    /**
     * Clears all registered event handlers from the player that were added through the wrapped player.
     */
    PlayerWrapper.prototype.clearEventHandlers = function () {
        for (var eventType in this.eventHandlers) {
            for (var _i = 0, _a = this.eventHandlers[eventType]; _i < _a.length; _i++) {
                var callback = _a[_i];
                this.player.removeEventHandler(eventType, callback);
            }
        }
    };
    return PlayerWrapper;
}());


/***/ }),
/* 80 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var Guid;
(function (Guid) {
    var guid = 1;
    function next() {
        return guid++;
    }
    Guid.next = next;
})(Guid = exports.Guid || (exports.Guid = {}));


/***/ }),
/* 81 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var storageutils_1 = __webpack_require__(43);
var component_1 = __webpack_require__(2);
var eventdispatcher_1 = __webpack_require__(3);
var SubtitleSettingsManager = /** @class */ (function () {
    function SubtitleSettingsManager() {
        var _this = this;
        this._properties = {
            fontColor: new SubtitleSettingsProperty(this),
            fontOpacity: new SubtitleSettingsProperty(this),
            fontFamily: new SubtitleSettingsProperty(this),
            fontSize: new SubtitleSettingsProperty(this),
            characterEdge: new SubtitleSettingsProperty(this),
            backgroundColor: new SubtitleSettingsProperty(this),
            backgroundOpacity: new SubtitleSettingsProperty(this),
            windowColor: new SubtitleSettingsProperty(this),
            windowOpacity: new SubtitleSettingsProperty(this),
        };
        this.userSettings = {};
        this.localStorageKey = DummyComponent.instance().prefixCss('subtitlesettings');
        var _loop_1 = function (propertyName) {
            this_1._properties[propertyName].onChanged.subscribe(function (sender, property) {
                if (property.isSet()) {
                    _this.userSettings[propertyName] = property.value;
                }
                else {
                    // Delete the property from the settings object if unset to avoid serialization of null values
                    delete _this.userSettings[propertyName];
                }
                // Save the settings object when a property has changed
                _this.save();
            });
        };
        var this_1 = this;
        for (var propertyName in this._properties) {
            _loop_1(propertyName);
        }
        this.load();
    }
    SubtitleSettingsManager.prototype.reset = function () {
        for (var propertyName in this._properties) {
            this._properties[propertyName].clear();
        }
    };
    Object.defineProperty(SubtitleSettingsManager.prototype, "fontColor", {
        get: function () {
            return this._properties.fontColor;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SubtitleSettingsManager.prototype, "fontOpacity", {
        get: function () {
            return this._properties.fontOpacity;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SubtitleSettingsManager.prototype, "fontFamily", {
        get: function () {
            return this._properties.fontFamily;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SubtitleSettingsManager.prototype, "fontSize", {
        get: function () {
            return this._properties.fontSize;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SubtitleSettingsManager.prototype, "characterEdge", {
        get: function () {
            return this._properties.characterEdge;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SubtitleSettingsManager.prototype, "backgroundColor", {
        get: function () {
            return this._properties.backgroundColor;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SubtitleSettingsManager.prototype, "backgroundOpacity", {
        get: function () {
            return this._properties.backgroundOpacity;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SubtitleSettingsManager.prototype, "windowColor", {
        get: function () {
            return this._properties.windowColor;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SubtitleSettingsManager.prototype, "windowOpacity", {
        get: function () {
            return this._properties.windowOpacity;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * Saves the settings to local storage.
     */
    SubtitleSettingsManager.prototype.save = function () {
        storageutils_1.StorageUtils.setObject(this.localStorageKey, this.userSettings);
    };
    /**
     * Loads the settings from local storage
     */
    SubtitleSettingsManager.prototype.load = function () {
        this.userSettings = storageutils_1.StorageUtils.getObject(this.localStorageKey) || {};
        // Apply the loaded settings
        for (var property in this.userSettings) {
            this._properties[property].value = this.userSettings[property];
        }
    };
    return SubtitleSettingsManager;
}());
exports.SubtitleSettingsManager = SubtitleSettingsManager;
/**
 * A dummy component whose sole purpose is to expose the {@link #prefixCss} method to the
 * {@link SubtitleSettingsManager}.
 */
var DummyComponent = /** @class */ (function (_super) {
    __extends(DummyComponent, _super);
    function DummyComponent() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    DummyComponent.instance = function () {
        if (!DummyComponent._instance) {
            DummyComponent._instance = new DummyComponent();
        }
        return DummyComponent._instance;
    };
    DummyComponent.prototype.prefixCss = function (cssClassOrId) {
        return _super.prototype.prefixCss.call(this, cssClassOrId);
    };
    return DummyComponent;
}(component_1.Component));
var SubtitleSettingsProperty = /** @class */ (function () {
    function SubtitleSettingsProperty(manager) {
        this._manager = manager;
        this._onChanged = new eventdispatcher_1.EventDispatcher();
    }
    SubtitleSettingsProperty.prototype.isSet = function () {
        return this._value != null;
    };
    SubtitleSettingsProperty.prototype.clear = function () {
        this._value = null;
        this.onChangedEvent(null);
    };
    Object.defineProperty(SubtitleSettingsProperty.prototype, "value", {
        get: function () {
            return this._value;
        },
        set: function (value) {
            if (typeof value === 'string' && value === 'null') {
                value = null;
            }
            this._value = value;
            this.onChangedEvent(value);
        },
        enumerable: true,
        configurable: true
    });
    SubtitleSettingsProperty.prototype.onChangedEvent = function (value) {
        this._onChanged.dispatch(this._manager, this);
    };
    Object.defineProperty(SubtitleSettingsProperty.prototype, "onChanged", {
        get: function () {
            return this._onChanged.getEvent();
        },
        enumerable: true,
        configurable: true
    });
    return SubtitleSettingsProperty;
}());
exports.SubtitleSettingsProperty = SubtitleSettingsProperty;


/***/ }),
/* 82 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var dom_1 = __webpack_require__(1);
/**
 * Tracks the loading state of images.
 */
var ImageLoader = /** @class */ (function () {
    function ImageLoader() {
        this.state = {};
    }
    /**
     * Loads an image and call the callback once the image is loaded. If the image is already loaded, the callback
     * is called immediately, else it is called once loading has finished. Calling this method multiple times for the
     * same image while it is loading calls only let callback passed into the last call.
     * @param url The url to the image to load
     * @param loadedCallback The callback that is called when the image is loaded
     */
    ImageLoader.prototype.load = function (url, loadedCallback) {
        var _this = this;
        if (!this.state[url]) {
            // When the image was never attempted to be loaded before, we create a state and store it in the state map
            // for later use when the same image is requested to be loaded again.
            var state_1 = {
                url: url,
                image: new dom_1.DOM('img', {}),
                loadedCallback: loadedCallback,
                loaded: false,
                width: 0,
                height: 0,
            };
            this.state[url] = state_1;
            // Listen to the load event, update the state and call the callback once the image is loaded
            state_1.image.on('load', function (e) {
                state_1.loaded = true;
                state_1.width = state_1.image.get(0).width;
                state_1.height = state_1.image.get(0).height;
                _this.callLoadedCallback(state_1);
            });
            // Set the image URL to start the loading
            state_1.image.attr('src', state_1.url);
        }
        else {
            // We have a state for the requested image, so it is either already loaded or currently loading
            var state = this.state[url];
            // We overwrite the callback to make sure that only the callback of the latest call gets executed.
            // Earlier callbacks become invalid once a new load call arrives, and they are not called as long as the image
            // is not loaded.
            state.loadedCallback = loadedCallback;
            // When the image is already loaded, we directly execute the callback instead of waiting for the load event
            if (state.loaded) {
                this.callLoadedCallback(state);
            }
        }
    };
    ImageLoader.prototype.callLoadedCallback = function (state) {
        state.loadedCallback(state.url, state.width, state.height);
    };
    return ImageLoader;
}());
exports.ImageLoader = ImageLoader;


/***/ }),
/* 83 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var component_1 = __webpack_require__(2);
var dom_1 = __webpack_require__(1);
/**
 * Animated analog TV static noise.
 */
var TvNoiseCanvas = /** @class */ (function (_super) {
    __extends(TvNoiseCanvas, _super);
    function TvNoiseCanvas(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.canvasWidth = 160;
        _this.canvasHeight = 90;
        _this.interferenceHeight = 50;
        _this.lastFrameUpdate = 0;
        _this.frameInterval = 60;
        _this.useAnimationFrame = !!window.requestAnimationFrame;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-tvnoisecanvas',
        }, _this.config);
        return _this;
    }
    TvNoiseCanvas.prototype.toDomElement = function () {
        return this.canvas = new dom_1.DOM('canvas', { 'class': this.getCssClasses() });
    };
    TvNoiseCanvas.prototype.start = function () {
        this.canvasElement = this.canvas.get(0);
        this.canvasContext = this.canvasElement.getContext('2d');
        this.noiseAnimationWindowPos = -this.canvasHeight;
        this.lastFrameUpdate = 0;
        this.canvasElement.width = this.canvasWidth;
        this.canvasElement.height = this.canvasHeight;
        this.renderFrame();
    };
    TvNoiseCanvas.prototype.stop = function () {
        if (this.useAnimationFrame) {
            cancelAnimationFrame(this.frameUpdateHandlerId);
        }
        else {
            clearTimeout(this.frameUpdateHandlerId);
        }
    };
    TvNoiseCanvas.prototype.renderFrame = function () {
        // This code has been copied from the player controls.js and simplified
        if (this.lastFrameUpdate + this.frameInterval > new Date().getTime()) {
            // It's too early to render the next frame
            this.scheduleNextRender();
            return;
        }
        var currentPixelOffset;
        var canvasWidth = this.canvasWidth;
        var canvasHeight = this.canvasHeight;
        // Create texture
        var noiseImage = this.canvasContext.createImageData(canvasWidth, canvasHeight);
        // Fill texture with noise
        for (var y = 0; y < canvasHeight; y++) {
            for (var x = 0; x < canvasWidth; x++) {
                currentPixelOffset = (canvasWidth * y * 4) + x * 4;
                noiseImage.data[currentPixelOffset] = Math.random() * 255;
                if (y < this.noiseAnimationWindowPos || y > this.noiseAnimationWindowPos + this.interferenceHeight) {
                    noiseImage.data[currentPixelOffset] *= 0.85;
                }
                noiseImage.data[currentPixelOffset + 1] = noiseImage.data[currentPixelOffset];
                noiseImage.data[currentPixelOffset + 2] = noiseImage.data[currentPixelOffset];
                noiseImage.data[currentPixelOffset + 3] = 50;
            }
        }
        // Put texture onto canvas
        this.canvasContext.putImageData(noiseImage, 0, 0);
        this.lastFrameUpdate = new Date().getTime();
        this.noiseAnimationWindowPos += 7;
        if (this.noiseAnimationWindowPos > canvasHeight) {
            this.noiseAnimationWindowPos = -canvasHeight;
        }
        this.scheduleNextRender();
    };
    TvNoiseCanvas.prototype.scheduleNextRender = function () {
        if (this.useAnimationFrame) {
            this.frameUpdateHandlerId = window.requestAnimationFrame(this.renderFrame.bind(this));
        }
        else {
            this.frameUpdateHandlerId = setTimeout(this.renderFrame.bind(this), this.frameInterval);
        }
    };
    return TvNoiseCanvas;
}(component_1.Component));
exports.TvNoiseCanvas = TvNoiseCanvas;


/***/ }),
/* 84 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var container_1 = __webpack_require__(0);
var component_1 = __webpack_require__(2);
var timeout_1 = __webpack_require__(9);
/**
 * Overlays the player and displays an audio-only indicator.
 */
var AudioOnlyOverlay = /** @class */ (function (_super) {
    __extends(AudioOnlyOverlay, _super);
    function AudioOnlyOverlay(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.indicatorConfig = [
            new component_1.Component({ tag: 'div', cssClass: 'ui-audioonly-overlay-indicator', hidden: true }),
        ];
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-audioonly-overlay',
            hidden: false,
            components: _this.indicatorConfig,
        }, _this.config);
        return _this;
    }
    AudioOnlyOverlay.prototype.configure = function (player, uimanager) {
        _super.prototype.configure.call(this, player, uimanager);
        this.componentConfig = uimanager.getConfig().audioOnlyOverlayConfig || {};
        var config = this.getConfig();
        var indicator = config.components[0];
        var backgroundImageUrl = this.componentConfig.backgroundImageUrl;
        var element = this.getDomElement();
        var showBackgroundImage = function () {
            element.css('backgroundImage', "url(" + backgroundImageUrl + ")");
            element.css('backgroundSize', 'contain');
            element.css('backgroundColor', '#000000');
            element.css('animation', 'none');
            element.css('backgroundPosition', 'center');
        };
        var overlayShowTimeout = new timeout_1.Timeout(400, function () {
            indicator.show();
        });
        var showOverlay = function () {
            overlayShowTimeout.start();
        };
        var hideOverlay = function () {
            overlayShowTimeout.clear();
            indicator.hide();
        };
        if (backgroundImageUrl) {
            showBackgroundImage();
        }
        if (!this.componentConfig.hiddeIndicator) {
            player.addEventHandler(player.EVENT.ON_PLAY, showOverlay);
            player.addEventHandler(player.EVENT.ON_PAUSED, hideOverlay);
        }
    };
    return AudioOnlyOverlay;
}(container_1.Container));
exports.AudioOnlyOverlay = AudioOnlyOverlay;


/***/ }),
/* 85 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var listselector_1 = __webpack_require__(32);
var dom_1 = __webpack_require__(1);
var ItemSelectionList = /** @class */ (function (_super) {
    __extends(ItemSelectionList, _super);
    function ItemSelectionList(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            tag: 'ul',
            cssClass: 'ui-itemselectionlist',
        }, _this.config);
        return _this;
    }
    ItemSelectionList.prototype.isActive = function () {
        return this.items.length > 1;
    };
    ItemSelectionList.prototype.toDomElement = function () {
        var listElement = new dom_1.DOM('ul', {
            'id': this.config.id,
            'class': this.getCssClasses(),
        });
        this.listElement = listElement;
        this.updateDomItems();
        return listElement;
    };
    ItemSelectionList.prototype.updateDomItems = function (selectedValue) {
        var _this = this;
        if (selectedValue === void 0) { selectedValue = null; }
        // Delete all children
        this.listElement.empty();
        var selectedListItem = null;
        var selectItem = function (listItem) {
            listItem.addClass(_this.prefixCss(ItemSelectionList.CLASS_SELECTED));
        };
        var deselectItem = function (listItem) {
            listItem.removeClass(_this.prefixCss(ItemSelectionList.CLASS_SELECTED));
        };
        var _loop_1 = function (item) {
            var listItem = new dom_1.DOM('li', {
                'type': 'li',
                'class': this_1.prefixCss('ui-selectionlistitem'),
            }).append(new dom_1.DOM('a', {}).html(item.label));
            if (!selectedListItem) {
                if (selectedValue == null) { // If there is no pre-selected value, select the first one
                    selectedListItem = listItem;
                }
                else if (String(selectedValue) === item.key) { // convert selectedValue to string to catch 'null'/null case
                    selectedListItem = listItem;
                }
            }
            // Handle list item selections
            listItem.on('click', function () {
                // Deselect the previous item (if there was a selected item)
                if (selectedListItem) {
                    deselectItem(selectedListItem);
                }
                // Select the clicked item
                selectedListItem = listItem;
                selectItem(listItem);
                // Fire the event
                _this.onItemSelectedEvent(item.key, false);
            });
            // Select default item
            if (selectedListItem) {
                selectItem(selectedListItem);
            }
            this_1.listElement.append(listItem);
        };
        var this_1 = this;
        for (var _i = 0, _a = this.items; _i < _a.length; _i++) {
            var item = _a[_i];
            _loop_1(item);
        }
    };
    ItemSelectionList.prototype.onItemAddedEvent = function (value) {
        _super.prototype.onItemAddedEvent.call(this, value);
        this.updateDomItems(this.selectedItem);
    };
    ItemSelectionList.prototype.onItemRemovedEvent = function (value) {
        _super.prototype.onItemRemovedEvent.call(this, value);
        this.updateDomItems(this.selectedItem);
    };
    ItemSelectionList.prototype.onItemSelectedEvent = function (value, updateDomItems) {
        if (updateDomItems === void 0) { updateDomItems = true; }
        _super.prototype.onItemSelectedEvent.call(this, value);
        if (updateDomItems) {
            this.updateDomItems(value);
        }
    };
    ItemSelectionList.CLASS_SELECTED = 'selected';
    return ItemSelectionList;
}(listselector_1.ListSelector));
exports.ItemSelectionList = ItemSelectionList;


/***/ }),
/* 86 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var clickoverlay_1 = __webpack_require__(27);
/**
 * A watermark overlay with a clickable logo.
 */
var Watermark = /** @class */ (function (_super) {
    __extends(Watermark, _super);
    function Watermark(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-watermark',
            url: 'http://bitmovin.com',
        }, _this.config);
        return _this;
    }
    return Watermark;
}(clickoverlay_1.ClickOverlay));
exports.Watermark = Watermark;


/***/ }),
/* 87 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var container_1 = __webpack_require__(0);
var volumeslider_1 = __webpack_require__(25);
var volumetogglebutton_1 = __webpack_require__(16);
var timeout_1 = __webpack_require__(9);
/**
 * A composite volume control that consists of and internally manages a volume control button that can be used
 * for muting, and a (depending on the CSS style, e.g. slide-out) volume control bar.
 */
var VolumeControlButton = /** @class */ (function (_super) {
    __extends(VolumeControlButton, _super);
    function VolumeControlButton(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.volumeToggleButton = new volumetogglebutton_1.VolumeToggleButton();
        _this.volumeSlider = new volumeslider_1.VolumeSlider({
            vertical: config.vertical != null ? config.vertical : true,
            hidden: true,
        });
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-volumecontrolbutton',
            components: [_this.volumeToggleButton, _this.volumeSlider],
            hideDelay: 500,
        }, _this.config);
        return _this;
    }
    VolumeControlButton.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        var volumeToggleButton = this.getVolumeToggleButton();
        var volumeSlider = this.getVolumeSlider();
        this.volumeSliderHideTimeout = new timeout_1.Timeout(this.getConfig().hideDelay, function () {
            volumeSlider.hide();
        });
        /*
         * Volume Slider visibility handling
         *
         * The volume slider shall be visible while the user hovers the mute toggle button, while the user hovers the
         * volume slider, and while the user slides the volume slider. If none of these situations are true, the slider
         * shall disappear.
         */
        var volumeSliderHovered = false;
        volumeToggleButton.getDomElement().on('mouseenter', function () {
            // Show volume slider when mouse enters the button area
            if (volumeSlider.isHidden()) {
                volumeSlider.show();
            }
            // Avoid hiding of the slider when button is hovered
            _this.volumeSliderHideTimeout.clear();
        });
        volumeToggleButton.getDomElement().on('mouseleave', function () {
            // Hide slider delayed when button is left
            _this.volumeSliderHideTimeout.reset();
        });
        volumeSlider.getDomElement().on('mouseenter', function () {
            // When the slider is entered, cancel the hide timeout activated by leaving the button
            _this.volumeSliderHideTimeout.clear();
            volumeSliderHovered = true;
        });
        volumeSlider.getDomElement().on('mouseleave', function () {
            // When mouse leaves the slider, only hide it if there is no slide operation in progress
            if (volumeSlider.isSeeking()) {
                _this.volumeSliderHideTimeout.clear();
            }
            else {
                _this.volumeSliderHideTimeout.reset();
            }
            volumeSliderHovered = false;
        });
        volumeSlider.onSeeked.subscribe(function () {
            // When a slide operation is done and the slider not hovered (mouse outside slider), hide slider delayed
            if (!volumeSliderHovered) {
                _this.volumeSliderHideTimeout.reset();
            }
        });
    };
    VolumeControlButton.prototype.release = function () {
        _super.prototype.release.call(this);
        this.volumeSliderHideTimeout.clear();
    };
    /**
     * Provides access to the internally managed volume toggle button.
     * @returns {VolumeToggleButton}
     */
    VolumeControlButton.prototype.getVolumeToggleButton = function () {
        return this.volumeToggleButton;
    };
    /**
     * Provides access to the internally managed volume silder.
     * @returns {VolumeSlider}
     */
    VolumeControlButton.prototype.getVolumeSlider = function () {
        return this.volumeSlider;
    };
    return VolumeControlButton;
}(container_1.Container));
exports.VolumeControlButton = VolumeControlButton;


/***/ }),
/* 88 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var button_1 = __webpack_require__(7);
var stringutils_1 = __webpack_require__(10);
/**
 * A button that is displayed during ads and can be used to skip the ad.
 */
var AdSkipButton = /** @class */ (function (_super) {
    __extends(AdSkipButton, _super);
    function AdSkipButton(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-button-ad-skip',
            skipMessage: {
                countdown: 'Skip ad in {remainingTime}',
                skip: 'Skip ad',
            },
        }, _this.config);
        return _this;
    }
    AdSkipButton.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        var config = this.getConfig(); // TODO get rid of generic cast
        var skipMessage = config.skipMessage;
        var adEvent = null;
        var updateSkipMessageHandler = function () {
            // Display this button only if ad is skippable
            if (adEvent.skipOffset) {
                _this.show();
            }
            else {
                _this.hide();
            }
            // Update the skip message on the button
            if (player.getCurrentTime() < adEvent.skipOffset) {
                _this.setText(stringutils_1.StringUtils.replaceAdMessagePlaceholders(config.skipMessage.countdown, adEvent.skipOffset, player));
            }
            else {
                _this.setText(config.skipMessage.skip);
            }
        };
        var adStartHandler = function (event) {
            adEvent = event;
            skipMessage = adEvent.skipMessage || skipMessage;
            updateSkipMessageHandler();
            player.addEventHandler(player.EVENT.ON_TIME_CHANGED, updateSkipMessageHandler);
            player.addEventHandler(player.EVENT.ON_CAST_TIME_UPDATED, updateSkipMessageHandler);
        };
        var adEndHandler = function () {
            player.removeEventHandler(player.EVENT.ON_TIME_CHANGED, updateSkipMessageHandler);
            player.removeEventHandler(player.EVENT.ON_CAST_TIME_UPDATED, updateSkipMessageHandler);
        };
        player.addEventHandler(player.EVENT.ON_AD_STARTED, adStartHandler);
        player.addEventHandler(player.EVENT.ON_AD_SKIPPED, adEndHandler);
        player.addEventHandler(player.EVENT.ON_AD_ERROR, adEndHandler);
        player.addEventHandler(player.EVENT.ON_AD_FINISHED, adEndHandler);
        this.onClick.subscribe(function () {
            // Try to skip the ad (this only works if it is skippable so we don't need to take extra care of that here)
            player.skipAd();
        });
    };
    return AdSkipButton;
}(button_1.Button));
exports.AdSkipButton = AdSkipButton;


/***/ }),
/* 89 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var label_1 = __webpack_require__(6);
var stringutils_1 = __webpack_require__(10);
/**
 * A label that displays a message about a running ad, optionally with a countdown.
 */
var AdMessageLabel = /** @class */ (function (_super) {
    __extends(AdMessageLabel, _super);
    function AdMessageLabel(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-label-ad-message',
            text: 'This ad will end in {remainingTime} seconds.',
        }, _this.config);
        return _this;
    }
    AdMessageLabel.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        var text = this.getConfig().text;
        var updateMessageHandler = function () {
            _this.setText(stringutils_1.StringUtils.replaceAdMessagePlaceholders(text, null, player));
        };
        var adStartHandler = function (event) {
            text = event.adMessage || text;
            updateMessageHandler();
            player.addEventHandler(player.EVENT.ON_TIME_CHANGED, updateMessageHandler);
            player.addEventHandler(player.EVENT.ON_CAST_TIME_UPDATED, updateMessageHandler);
        };
        var adEndHandler = function () {
            player.removeEventHandler(player.EVENT.ON_TIME_CHANGED, updateMessageHandler);
            player.removeEventHandler(player.EVENT.ON_CAST_TIME_UPDATED, updateMessageHandler);
        };
        player.addEventHandler(player.EVENT.ON_AD_STARTED, adStartHandler);
        player.addEventHandler(player.EVENT.ON_AD_SKIPPED, adEndHandler);
        player.addEventHandler(player.EVENT.ON_AD_ERROR, adEndHandler);
        player.addEventHandler(player.EVENT.ON_AD_FINISHED, adEndHandler);
    };
    return AdMessageLabel;
}(label_1.Label));
exports.AdMessageLabel = AdMessageLabel;


/***/ }),
/* 90 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var clickoverlay_1 = __webpack_require__(27);
/**
 * A simple click capture overlay for clickThroughUrls of ads.
 */
var AdClickOverlay = /** @class */ (function (_super) {
    __extends(AdClickOverlay, _super);
    function AdClickOverlay() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    AdClickOverlay.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        var clickThroughUrl = null;
        var clickThroughEnabled = !player.getConfig().advertising
            || !player.getConfig().advertising.hasOwnProperty('clickThroughEnabled')
            || player.getConfig().advertising.clickThroughEnabled;
        player.addEventHandler(player.EVENT.ON_AD_STARTED, function (event) {
            clickThroughUrl = event.clickThroughUrl;
            if (clickThroughEnabled) {
                _this.setUrl(clickThroughUrl);
            }
            else {
                // If click-through is disabled, we set the url to null to avoid it open
                _this.setUrl(null);
            }
        });
        // Clear click-through URL when ad has finished
        var adFinishedHandler = function () {
            _this.setUrl(null);
        };
        player.addEventHandler(player.EVENT.ON_AD_FINISHED, adFinishedHandler);
        player.addEventHandler(player.EVENT.ON_AD_SKIPPED, adFinishedHandler);
        player.addEventHandler(player.EVENT.ON_AD_ERROR, adFinishedHandler);
        this.onClick.subscribe(function () {
            // Pause the ad when overlay is clicked
            player.pause('ui-content-click');
            // Notify the player of the clicked ad
            player.fireEvent(player.EVENT.ON_AD_CLICKED, {
                clickThroughUrl: clickThroughUrl,
            });
        });
    };
    return AdClickOverlay;
}(clickoverlay_1.ClickOverlay));
exports.AdClickOverlay = AdClickOverlay;


/***/ }),
/* 91 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    }
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var uicontainer_1 = __webpack_require__(13);
var timeout_1 = __webpack_require__(9);
/**
 * The base container for Cast receivers that contains all of the UI and takes care that the UI is shown on
 * certain playback events.
 */
var CastUIContainer = /** @class */ (function (_super) {
    __extends(CastUIContainer, _super);
    function CastUIContainer(config) {
        return _super.call(this, config) || this;
    }
    CastUIContainer.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        var config = this.getConfig();
        /*
         * Show UI on Cast devices at certain playback events
         *
         * Since a Cast receiver does not have a direct HCI, we show the UI on certain playback events to give the user
         * a chance to see on the screen what's going on, e.g. on play/pause or a seek the UI is shown and the user can
         * see the current time and position on the seek bar.
         * The UI is shown permanently while playback is paused, otherwise hides automatically after the configured
         * hide delay time.
         */
        var isUiShown = false;
        var hideUi = function () {
            uimanager.onControlsHide.dispatch(_this);
            isUiShown = false;
        };
        this.castUiHideTimeout = new timeout_1.Timeout(config.hideDelay, hideUi);
        var showUi = function () {
            if (!isUiShown) {
                uimanager.onControlsShow.dispatch(_this);
                isUiShown = true;
            }
        };
        var showUiPermanently = function () {
            showUi();
            _this.castUiHideTimeout.clear();
        };
        var showUiWithTimeout = function () {
            showUi();
            _this.castUiHideTimeout.start();
        };
        var showUiAfterSeek = function () {
            if (player.isPlaying()) {
                showUiWithTimeout();
            }
            else {
                showUiPermanently();
            }
        };
        player.addEventHandler(player.EVENT.ON_READY, showUiWithTimeout);
        player.addEventHandler(player.EVENT.ON_SOURCE_LOADED, showUiWithTimeout);
        player.addEventHandler(player.EVENT.ON_PLAY, showUiWithTimeout);
        player.addEventHandler(player.EVENT.ON_PAUSED, showUiPermanently);
        player.addEventHandler(player.EVENT.ON_SEEK, showUiPermanently);
        player.addEventHandler(player.EVENT.ON_SEEKED, showUiAfterSeek);
    };
    CastUIContainer.prototype.release = function () {
        _super.prototype.release.call(this);
        this.castUiHideTimeout.clear();
    };
    return CastUIContainer;
}(uicontainer_1.UIContainer));
exports.CastUIContainer = CastUIContainer;


/***/ }),
/* 92 */
/***/ (function(module, exports) {

/*! Hive Stats Pack build 4.1.0 Copyright(c) 2015 HiveStreaming AB, All rights reserved.
 * Authors: mikael.hogqvist@hivestreaming.com - riccardo.reale@hivestreaming.com - roberto.roverso@hivestreaming.com */
/*! AtatusJs - v2.3.12 - 2016-07-03
 * Copyright (c) 2016 Atatus */
!function(a){function b(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function c(a){return"undefined"==typeof a}if(a){var d={},e=a.TraceKit,f=[].slice,g="?";d.noConflict=function(){return a.TraceKit=e,d},d.wrap=function(a){function b(){try{return a.apply(this,arguments)}catch(b){throw d.report(b),b}}return b},d.report=function(){function c(a){i(),m.push(a)}function e(a){for(var b=m.length-1;b>=0;--b)m[b]===a&&m.splice(b,1)}function g(a,c){var e=null;if(!c||d.collectWindowErrors){for(var g in m)if(b(m,g))try{m[g].apply(null,[a].concat(f.call(arguments,2)))}catch(h){e=h}if(e)throw e}}function h(a,b,c,e,f){var h=null;if(f)h=d.computeStackTrace(f);else if(o)d.computeStackTrace.augmentStackTraceWithInitialElement(o,b,c,a),h=o,o=null,n=null;else{var i={url:b,line:c,column:e};i.func=d.computeStackTrace.guessFunctionName(i.url,i.line),i.context=d.computeStackTrace.gatherContext(i.url,i.line),h={mode:"onerror",message:a,url:document.location.href,stack:[i],useragent:navigator.userAgent}}return g(h,"from window.onerror"),k?k.apply(this,arguments):!1}function i(){l!==!0&&(k=a.onerror,a.onerror=h,l=!0)}function j(b){var c=f.call(arguments,1);if(o){if(n===b)return;var e=o;o=null,n=null,g.apply(null,[e,null].concat(c))}var h=d.computeStackTrace(b);throw o=h,n=b,a.setTimeout(function(){n===b&&(o=null,n=null,g.apply(null,[h,null].concat(c)))},h.incomplete?2e3:0),b}var k,l,m=[],n=null,o=null;return j.subscribe=c,j.unsubscribe=e,j}(),d.computeStackTrace=function(){function e(b){if(!d.remoteFetching)return"";try{var c=function(){try{return new a.XMLHttpRequest}catch(b){return new a.ActiveXObject("Microsoft.XMLHTTP")}},e=c();return e.open("GET",b,!1),e.send(""),e.responseText}catch(f){return""}}function f(a){if("string"!=typeof a)return[];if(!b(w,a)){var c="",d="";try{d=document.domain}catch(f){}-1!==a.indexOf(d)&&(c=e(a)),w[a]=c?c.split("\n"):[]}return w[a]}function h(a,b){var d,e=/function ([^(]*)\(([^)]*)\)/,h=/['"]?([0-9A-Za-z$_]+)['"]?\s*[:=]\s*(function|eval|new Function)/,i="",j=10,k=f(a);if(!k.length)return g;for(var l=0;j>l;++l)if(i=k[b-l]+i,!c(i)){if(d=h.exec(i))return d[1];if(d=e.exec(i))return d[1]}return g}function i(a,b){var e=f(a);if(!e.length)return null;var g=[],h=Math.floor(d.linesOfContext/2),i=h+d.linesOfContext%2,j=Math.max(0,b-h-1),k=Math.min(e.length,b+i-1);b-=1;for(var l=j;k>l;++l)c(e[l])||g.push(e[l]);return g.length>0?g:null}function j(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#]/g,"\\$&")}function k(a){return j(a).replace("<","(?:<|&lt;)").replace(">","(?:>|&gt;)").replace("&","(?:&|&amp;)").replace('"','(?:"|&quot;)').replace(/\s+/g,"\\s+")}function l(a,b){for(var c,d,e=0,g=b.length;g>e;++e)if((c=f(b[e])).length&&(c=c.join("\n"),d=a.exec(c)))return{url:b[e],line:c.substring(0,d.index).split("\n").length,column:d.index-c.lastIndexOf("\n",d.index)-1};return null}function m(a,b,c){var d,e=f(b),g=new RegExp("\\b"+j(a)+"\\b");return c-=1,e&&e.length>c&&(d=g.exec(e[c]))?d.index:null}function n(b){for(var c,d,e,f,g=[a.location.href],h=document.getElementsByTagName("script"),i=""+b,m=/^function(?:\s+([\w$]+))?\s*\(([\w\s,]*)\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/,n=/^function on([\w$]+)\s*\(event\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/,o=0;o<h.length;++o){var p=h[o];p.src&&g.push(p.src)}if(e=m.exec(i)){var q=e[1]?"\\s+"+e[1]:"",r=e[2].split(",").join("\\s*,\\s*");c=j(e[3]).replace(/;$/,";?"),d=new RegExp("function"+q+"\\s*\\(\\s*"+r+"\\s*\\)\\s*{\\s*"+c+"\\s*}")}else d=new RegExp(j(i).replace(/\s+/g,"\\s+"));if(f=l(d,g))return f;if(e=n.exec(i)){var s=e[1];if(c=k(e[2]),d=new RegExp("on"+s+"=[\\'\"]\\s*"+c+"\\s*[\\'\"]","i"),f=l(d,g[0]))return f;if(d=new RegExp(c),f=l(d,g))return f}return null}function o(a){if(!a.stack)return null;for(var b,d,e=/^\s*at (.*?) ?\(?((?:file|https?|chrome-extension):.*?):(\d+)(?::(\d+))?\)?\s*$/i,f=/^\s*(.*?)(?:\((.*?)\))?@?((?:file|https?|chrome):.*?):(\d+)(?::(\d+))?\s*$/i,j=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:ms-appx|http|https):.*?):(\d+)(?::(\d+))?\)?\s*$/i,k=a.stack.split("\n"),l=[],n=/^(.*) is undefined$/.exec(a.message),o=0,p=k.length;p>o;++o){if(b=f.exec(k[o]))d={url:b[3],func:b[1]||g,args:b[2]?b[2].split(","):"",line:+b[4],column:b[5]?+b[5]:null};else if(b=e.exec(k[o]))d={url:b[2],func:b[1]||g,line:+b[3],column:b[4]?+b[4]:null};else{if(!(b=j.exec(k[o])))continue;d={url:b[2],func:b[1]||g,line:+b[3],column:b[4]?+b[4]:null}}!d.func&&d.line&&(d.func=h(d.url,d.line)),d.line&&(d.context=i(d.url,d.line)),l.push(d)}return l.length?(l[0]&&l[0].line&&!l[0].column&&n?l[0].column=m(n[1],l[0].url,l[0].line):l[0].column||c(a.columnNumber)||(l[0].column=a.columnNumber+1),{mode:"stack",name:a.name,message:a.message,url:document.location.href,stack:l,useragent:navigator.userAgent}):null}function p(a){for(var b,c=a.stacktrace,d=/ line (\d+), column (\d+) in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\) in (.*):\s*$/i,e=c.split("\n"),f=[],g=0,j=e.length;j>g;g+=2)if(b=d.exec(e[g])){var k={line:+b[1],column:+b[2],func:b[3]||b[4],args:b[5]?b[5].split(","):[],url:b[6]};if(!k.func&&k.line&&(k.func=h(k.url,k.line)),k.line)try{k.context=i(k.url,k.line)}catch(l){}k.context||(k.context=[e[g+1]]),f.push(k)}return f.length?{mode:"stacktrace",name:a.name,message:a.message,url:document.location.href,stack:f,useragent:navigator.userAgent}:null}function q(c){var d=c.message.split("\n");if(d.length<4)return null;var e,g,j,m,n=/^\s*Line (\d+) of linked script ((?:file|https?)\S+)(?:: in function (\S+))?\s*$/i,o=/^\s*Line (\d+) of inline#(\d+) script in ((?:file|https?)\S+)(?:: in function (\S+))?\s*$/i,p=/^\s*Line (\d+) of function script\s*$/i,q=[],r=document.getElementsByTagName("script"),s=[];for(g in r)b(r,g)&&!r[g].src&&s.push(r[g]);for(g=2,j=d.length;j>g;g+=2){var t=null;if(e=n.exec(d[g]))t={url:e[2],func:e[3],line:+e[1]};else if(e=o.exec(d[g])){t={url:e[3],func:e[4]};var u=+e[1],v=s[e[2]-1];if(v&&(m=f(t.url))){m=m.join("\n");var w=m.indexOf(v.innerText);w>=0&&(t.line=u+m.substring(0,w).split("\n").length)}}else if(e=p.exec(d[g])){var x=a.location.href.replace(/#.*$/,""),y=e[1],z=new RegExp(k(d[g+1]));m=l(z,[x]),t={url:x,line:m?m.line:y,func:""}}if(t){t.func||(t.func=h(t.url,t.line));var A=i(t.url,t.line),B=A?A[Math.floor(A.length/2)]:null;t.context=A&&B.replace(/^\s*/,"")===d[g+1].replace(/^\s*/,"")?A:[d[g+1]],q.push(t)}}return q.length?{mode:"multiline",name:c.name,message:d[0],url:document.location.href,stack:q,useragent:navigator.userAgent}:null}function r(a,b,c,d){var e={url:b,line:c};if(e.url&&e.line){a.incomplete=!1,e.func||(e.func=h(e.url,e.line)),e.context||(e.context=i(e.url,e.line));var f=/ '([^']+)' /.exec(d);if(f&&(e.column=m(f[1],e.url,e.line)),a.stack.length>0&&a.stack[0].url===e.url){if(a.stack[0].line===e.line)return!1;if(!a.stack[0].line&&a.stack[0].func===e.func)return a.stack[0].line=e.line,a.stack[0].context=e.context,!1}return a.stack.unshift(e),a.partial=!0,!0}return a.incomplete=!0,!1}function s(a,b){for(var c,e,f,i=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,j=[],k={},l=!1,o=s.caller;o&&!l;o=o.caller)if(o!==t&&o!==d.report){if(e={url:null,func:g,line:null,column:null},o.name?e.func=o.name:(c=i.exec(o.toString()))&&(e.func=c[1]),"undefined"==typeof e.func)try{e.func=c.input.substring(0,c.input.indexOf("{"))}catch(p){}if(f=n(o)){e.url=f.url,e.line=f.line,e.func===g&&(e.func=h(e.url,e.line));var q=/ '([^']+)' /.exec(a.message||a.description);q&&(e.column=m(q[1],f.url,f.line))}k[""+o]?l=!0:k[""+o]=!0,j.push(e)}b&&j.splice(0,b);var u={mode:"callers",name:a.name,message:a.message,url:document.location.href,stack:j,useragent:navigator.userAgent};return r(u,a.sourceURL||a.fileName,a.line||a.lineNumber,a.message||a.description),u}function t(a,b){var c=null;b=null==b?0:+b;try{if(c=p(a))return c}catch(d){if(v)throw d}try{if(c=o(a))return c}catch(d){if(v)throw d}try{if(c=q(a))return c}catch(d){if(v)throw d}try{if(c=s(a,b+1))return c}catch(d){if(v)throw d}return{mode:"failed"}}function u(a){a=(null==a?0:+a)+1;try{throw new Error}catch(b){return t(b,a+1)}}var v=!1,w={};return t.augmentStackTraceWithInitialElement=r,t.guessFunctionName=h,t.gatherContext=i,t.ofCaller=u,t.getSource=f,t}(),d.extendToAsynchronousCallbacks=function(){var b=function(b){var c=a[b];a[b]=function(){var a=f.call(arguments),b=a[0];return"function"==typeof b&&(a[0]=d.wrap(b)),c.apply?c.apply(this,a):c(a[0],a[1])}};b("setTimeout"),b("setInterval")},d.remoteFetching||(d.remoteFetching=!0),d.collectWindowErrors||(d.collectWindowErrors=!0),(!d.linesOfContext||d.linesOfContext<1)&&(d.linesOfContext=11),a.TraceKit=d}}("undefined"!=typeof window?window:global),function(a,b){"use strict";if(a){var c=a.event.add;a.event.add=function(d,e,f,g,h){if("function"!=typeof f&&"function"!=typeof f.handler)return c.call(this,d,e,f,g,h);var i;return f.handler?(i=f.handler,f.handler=b.wrap(f.handler)):(i=f,f=b.wrap(f)),f.guid=i.guid?i.guid:i.guid=a.guid++,c.call(this,d,e,f,g,h)};var d=a.fn.ready;a.fn.ready=function(a){return d.call(this,b.wrap(a))};var e=a.ajax;a.ajax=function(c,d){"object"==typeof c&&(d=c,c=void 0),d=d||{};for(var f,g=["complete","error","success"];f=g.pop();)a.isFunction(d[f])&&(d[f]=b.wrap(d[f]));try{return c?e.call(this,c,d):e.call(this,d)}catch(h){throw b.report(h),h}}}}(window.jQuery,window.TraceKit),function(a,b,c,d){function e(a){var b=a,c=a.split("//")[1];if(c){var d=c.indexOf("?"),e=c.toString().substring(0,d),f=e.split("/").slice(0,4).join("/"),g=e.substring(0,48);b=f.length<g.length?f:g,b!==e&&(b+="..")}return b}function f(a,b,c,f){if(K&&(L||b.getAllResponseHeaders())){var g="AJAX Error: "+(b.statusText||"unknown")+" "+(c.type||"unknown")+" "+(e(c.url)||"unknown");V.send(f||a.type,{status:b.status,statusText:b.statusText,type:c.type,url:c.url,ajaxErrorMessage:g,contentType:c.contentType,requestData:c.data&&c.data.slice?c.data.slice(0,10240):d,responseData:b.responseText&&b.responseText.slice?b.responseText.slice(0,10240):d,activeTarget:a.target&&a.target.activeElement?a.target.activeElement.outerHTML:d})}}function g(){return o&&""!==o?!0:(R.log("Atatus API key has not been configured, make sure you call atatus.config(yourApiKey)"),!1)}function h(){var c=b.documentElement,d=b.getElementsByTagName("body")[0],e=a.innerWidth||c.clientWidth||d.clientWidth,f=a.innerHeight||c.clientHeight||d.clientHeight;return{width:e,height:f}}function i(a){var b=(new Date).toJSON();try{var c="atatusjs="+b+"="+R.getRandomInt();"undefined"==typeof localStorage[c]&&(localStorage[c]=a)}catch(d){R.log("Atatus: LocalStorage full, cannot save exception")}}function j(){try{return"localStorage"in a&&null!==a.localStorage}catch(b){return!1}}function k(){if(j()&&localStorage.length>0)for(var a in localStorage)if("atatusjs="===a.substring(0,9)){try{var b=JSON.parse(localStorage[a]);"apikey"in b&&m(N,b)}catch(c){R.log("Atatus: Invalid JSON object in LocalStorage")}localStorage.removeItem(a)}}function l(a,c){if(c=c||{},!a.stack||!a.stack.length)return void R.log("Atatus: Canceling send due to no stacktrace.");R.isEmpty(c.customData)&&(c.customData="function"==typeof p?p():p),R.isEmpty(c.tags)&&(c.tags=E);var d=c.customData&&c.customData.ajaxErrorMessage||a.message;if(d&&0===d.indexOf("Uncaught ")&&(d=a.message.substring(9)),d=d||c.status||"Script error.",w&&w.test(d))return void R.log("Atatus: canceling send due to ignore errors");var e=[];a.stack&&a.stack.length&&R.forEach(a.stack,function(a,b){R.endsWith(b.url,"/atatus.js")||e.push({ln:b.line||0,cn:b.column||0,f:b.url||"anonymous",m:b.func||"[anonymous]"})});var f=[a.name,d,JSON.stringify(e)].join("|");if(f===x)return void R.log("Atatus: canceling send due to duplicate errors");x=f;var g=c.customData;try{JSON.stringify(g)}catch(h){var i="Cannot add custom data; may contain circular reference";g={error:i},R.log("Atatus: "+i)}var j=U.getAllEvents();S.clear();var k={"class":a.name,name:d,backTraces:e,userActions:j,net:null,customData:g||null,tags:c.tags,sourcemap:J,request:{url:b.location.href,ua:navigator.userAgent}};if("function"==typeof y&&(k.groupingKey=y(k)),"function"==typeof z){var l=z(k);l&&m(N,k)}else m(N,k)}function m(c,d){if(G&&G.length&&-1===G.indexOf(location.host))return void R.log("Atatus: canceling send due to not a allowed domain");if(g()){if(!d.ts){var e=a.screen||h();d.ts=(new Date).getTime(),d.apikey=o,d.request=d.request||{},d.request.url=d.request.url||b.location.href,d.request.ua=d.request.ua||navigator.userAgent,d.request.w=e.width,d.request.h=e.height,d.v=r||"",d._v=B||""}q&&(d.cid=q.userId||null),R.log("Sending data to Atatus Receiver:",d),n(c,JSON.stringify(d))}}function n(a,b){var c=new Image,d=M+a+"?data="+encodeURIComponent(b);c.crossOrigin="anonymous",c.onload=function(){k()},c.onerror=c.onabort=function(){I&&a===N&&i(b)},c.src=d}var o,p,q,r,s,t,u,v,w,x,y,z,A,B="2.3.12",C=TraceKit.noConflict(),D=a.atatus,E=[],F=!1,G=[],H=!1,I=!1,J=!1,K=!1,L=!1,M="https://br-rx.atatus.com",N="/track/browser/errors",O="/track/browser/perf",P="/track/browser/perf/ajax",Q="/track/browser/perf/txn";c&&(A=c(b));var R={isBoolean:function(a){return"undefined"!=typeof a&&"boolean"==typeof a},isString:function(a){return"string"==typeof a},isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)},endsWith:function(a,b){return a&&b?-1!==a.indexOf(b,a.length-b.length):!1},joinRegExp:function(a){for(var b,c=[],d=0,e=a.length;e>d;d++)b=a[d],R.isString(b)?c.push(b.replace(/([.*+?\^=!:${}()|\[\]\/\\])/g,"\\$1")):b&&b.source&&c.push(b.source);return new RegExp(c.join("|"),"i")},getTargetUrl:function(b){return a.XDomainRequest&&H&&(b=b.slice(6)),b},now:function(){return(new Date).getTime()},pad:function(a){return a=String(a),1===a.length&&(a="0"+a),a},merge:function(a,b){var c,d={};for(c in a)d[c]=a[c];for(c in b)d[c]=b[c];return d},mergeArray:function(a,b){return null!=b?a.concat(b):a},forEach:function(a,b){for(var c=0;c<a.length;c++)b.call(null,c,a[c])},isEmpty:function(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0},getRandomInt:function(){return Math.floor(9007199254740992*Math.random())},log:function(b,c){F&&a.console&&a.console.log&&(a.console.log(b),c&&a.console.log(c))},bind:function(a,b){return function(){return a.apply(b,Array.prototype.slice.call(arguments))}},canAllowInsecureSubmissions:function(){var b=a.navigator.userAgent,c=b.match(/Trident\/([\d.]+)/),d=c&&"7.0"===c[1]?11:(b=b.match(/MSIE ([\d.]+)/))?parseInt(b[1],10):!1;return d&&9>=d},uuid4:function(){return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0,c="x"===a?b:3&b|8;return c.toString(16)})},addEventListener:function(b,c,d){return"undefined"!=typeof a.attachEvent?a.attachEvent("on"+b,c):a.addEventListener?a.addEventListener(b,c,d):void 0},arrayFromObject:function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(a[c]);return b}},S={eventObject:{},all:function(a){for(var b=this.getEventObject(a),c=[],d=0;d<b.length;d++)c.push(b[d].value);return c},clear:function(){for(var a in this.eventObject)this.eventObject.hasOwnProperty(a)&&(this.eventObject[a].length=0)},add:function(a,b){var c=this.getEventObject(a),d=R.uuid4();return c.push({key:d,value:b}),this.truncateEventObject(a,10),d},get:function(a,b){for(var c=this.getEventObject(a),d=0;d<c.length;d++)if(c[d].key===b)return c[d].value;return!1},getEventObject:function(a){return this.eventObject[a]||(this.eventObject[a]=[]),this.eventObject[a]},truncateEventObject:function(a,b){var c=this.getEventObject(a);c.length>b&&(this.eventObject[a]=c.slice(c.length-b))}},T={attach:function(b,c,d,e,f){b=b||a.console||{};for(var g=f||["log","debug","info","warn","error"],h=g.pop(),i=function(a,b,d){c&&S.add("user",{ts:R.now(),c:"console",l:a,m:b}),"error"===a&&e&&V.notify(new Error(b),d)};h;)this.wrapConsoleMethod(b,h,d,i),h=g.pop()},wrapConsoleMethod:function(a,b,c,d){var e=a[b],f=a;b in a&&(a[b]=function(){var a=[].slice.call(arguments),g=""+a.join(" "),h={level:b,logger:"console"};d&&d(b,g,h),e&&c&&Function.prototype.apply.call(e,f,a)})}},U={attach:function(){var a=R.bind(this.onDocumentClicked,this),c=R.bind(this.onInputChanged,this);b.addEventListener?(b.addEventListener("click",a,!0),b.addEventListener("blur",c,!0)):b.attachEvent&&(b.attachEvent("onclick",a),b.attachEvent("onfocusout",c))},writeUserEvent:function(a,b,c,d){"password"===this.getElementType(a)&&(c=void 0),S.add("user",{ts:R.now(),a:b,e:this.getOuterHTML(a),v:this.getValueKind(c,d)})},onDocumentClicked:function(a){var b=this.getElementFromEvent(a);b&&b.tagName&&(this.isTarget(b,"a")||this.isTarget(b,"button")||this.isTarget(b,"input",["button","submit"])?this.writeUserEvent(b,"click"):this.isTarget(b,"input",["checkbox","radio"])&&this.writeUserEvent(b,"check",b.value,b.checked))},onInputChanged:function(a){var b=this.getElementFromEvent(a);b&&b.tagName&&(this.isTarget(b,"textarea")?this.writeUserEvent(b,"input",b.value):this.isTarget(b,"select")&&b.options&&b.options.length?this.onSelectInputChanged(b):this.isTarget(b,"input")&&!this.isTarget(b,"input",["button","submit","hidden","checkbox","radio"])&&this.writeUserEvent(b,"input",b.value))},onSelectInputChanged:function(a){if(a.multiple){for(var b=0;b<a.options.length;b++)if(a.options[b].selected){this.writeUserEvent(a,"select",a.options[b].value);break}}else 0<=a.selectedIndex&&a.options[a.selectedIndex]&&this.writeUserEvent(a,"select",a.options[a.selectedIndex].value)},getElementFromEvent:function(a){return a.target||b.elementFromPoint(a.clientX,a.clientY)},isTarget:function(a,b,c){if(a.tagName.toLowerCase()!==b.toLowerCase())return!1;if(!c)return!0;for(var d=this.getElementType(a),e=0;e<c.length;e++)if(c[e]===d)return!0;return!1},getElementType:function(a){return(a.getAttribute("type")||"").toLowerCase()},getOuterHTML:function(a){for(var b="<"+a.tagName.toLowerCase(),c=a.attributes,d=0,e=c.length;e>d;d++){var f=c[d].name;"value"!==f.toLowerCase()&&(b+=" "+f+'="'+c[d].value+'"')}return b+=" >"},getValueKind:function(a,b){return null==a?null:{length:a.length,checked:b,pattern:this.matchInputPattern(a)}},matchInputPattern:function(a){return""===a?"empty":/^[a-z0-9!#$%&'*+=?\^_`{|}~\-]+(?:\.[a-z0-9!#$%&'*+=?\^_`{|}~\-]+)*@(?:[a-z0-9](?:[a-z0-9\-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9\-]*[a-z0-9])?$/.test(a)?"email":/^(0?[1-9]|[12][0-9]|3[01])[\/\-](0?[1-9]|1[012])[\/\-]\d{4}$/.test(a)||/^(\d{4}[\/\-](0?[1-9]|1[012])[\/\-]0?[1-9]|[12][0-9]|3[01])$/.test(a)?"date":/^(?:(?:\+?1\s*(?:[.\-]\s*)?)?(?:\(\s*([2-9]1[02-9]|[2-9][02-8]1|[2-9][02-8][02-9])\s*\)|([2-9]1[02-9]|[2-9][02-8]1|[2-9][02-8][02-9]))\s*(?:[.\-]\s*)?)?([2-9]1[02-9]|[2-9][02-9]1|[2-9][02-9]{2})\s*(?:[.\-]\s*)?([0-9]{4})(?:\s*(?:#|x\.?|ext\.?|extension)\s*(\d+))?$/.test(a)?"phone":/^\s*$/.test(a)?"whitespace":/^\d*$/.test(a)?"numeric":"character"},getAllEvents:function(){return S.all("user")}},V={noConflict:function(){return a.atatus=D,V},isConfigured:function(){return!!o},config:function(b,c){return c=c||{},o=b,C.remoteFetching=!1,w=[],c&&(p=c.customData,E=c.tags||[],J=!(!c.enableSourcemap&&!c.sourcemap),s=!!c.disableUserActions,t=!!c.disableAjaxMonitoring,u=!!c.disableRUM,F=!!c.debugMode,c.ignoreErrors&&R.isArray(c.ignoreErrors)&&(w=c.ignoreErrors),V.setAllowedDomains(c.allowedDomains),V.setVersion(c.version),V.enableOffline(c.enableOffline||c.offline),V.onBeforeErrorSend(c.beforeErrorSend),V.setGroupingKeyCallback(c.groupingKeyCallback)),H=R.canAllowInsecureSubmissions(),w.push(/^Script error\.?$/),w.push(/^Javascript error: Script error\.? on line 0$/),w=R.joinRegExp(w),k(),v={enabled:!0,timeline:!0,display:!0,error:!0,levels:null},R.isBoolean(c.console)&&(v.enabled=c.console),R.isBoolean(c.consoleTimeline)&&(v.timeline=c.consoleTimeline),R.isBoolean(c.consoleDisplay)&&(v.display=c.consoleDisplay),R.isBoolean(c.consoleErrorNotify)&&(v.error=c.consoleErrorNotify),R.isArray(c.consoleTimelineLevels)&&(v.levels=c.consoleTimelineLevels),v.enabled&&"console"in a&&a.console.log&&T.attach(a.console,v.timeline,v.display,v.error,v.levels),s||U.attach(),t||u||V.__attachAjaxHooks(),V},install:function(){return g()?(C.report.subscribe(l),C.extendToAsynchronousCallbacks(),A&&K&&A.ajaxError(f),V):void 0},uninstall:function(){return o=null,C.report.unsubscribe(l),A&&K&&A.unbind("ajaxError",f),V},setCustomData:function(a){return p=a,V},setTags:function(a){return E=a,V},setAllowedDomains:function(a){return a&&R.isArray(a)&&(G=a),V},getAllowedDomains:function(){return G},setUser:function(a,b,c,d){return q={},a&&(q.userId=""+a),b&&(q.email=""+b),c&&(q.firstName=""+c),d&&(q.lastName=""+d),V},setVersion:function(a){return a&&(r=""+a),V},enableOffline:function(a){return R.isBoolean(a)&&(I=a),V},onBeforeErrorSend:function(a){return"function"==typeof a&&(z=a),V},setGroupingKeyCallback:function(a){return"function"==typeof a&&(y=a),V},setAPIEndpoint:function(a){return M=a,V},init:function(a,b,c){return c&&(b=b||{},b.customData=c),V.config(a,b)},withCustomData:function(a){return V.setCustomData(a)},withTags:function(a){return V.setTags(a)},attach:function(){return V.install()},detach:function(){return V.uninstall()},notify:function(a,b,c){return V.send(a,b,c)},sendPerf:function(a){return u?void R.log("RUM is disabled. Please enable it in the config options."):m(O,a)},sendAjaxPerf:function(a){return u?void R.log("RUM is disabled. Please enable it in the config options."):m(P,a)},sendTxnPerf:function(a){return m(Q,a)},send:function(a,b,c){try{l(C.computeStackTrace(a),{customData:R.merge(p,b),tags:R.mergeArray(E,c)})}catch(d){if(a!==d)throw d}return V},_helper:R};a.atatus=V}(window,document,window.jQuery),function(a,b,c){function d(a){a.pl<=0||atatus.sendPerf(a)}function e(){var b=a.performance||a.mozPerformance||a.msPerformance||a.webkitPerformance,c=b.timing,e=b.navigation;if(0===c.loadEventEnd)return!1;clearInterval(i),i=null;var f=c.navigationStart;0>=f&&(f=c.fetchStart);var g={};for(var h in j)g[j[h]]=-1,h in c&&(c[h]<=0||(g[j[h]]=c[h]-f));var k={nty:e.type,rc:e.redirectCount,nt:g.rps-g.ns,dp:g.dce-g.rps,pr:g.le-g.dce,fe:g.le-g.rps,pl:g.le-g.ns};d(k)}function f(){if(!h||!h.bDone)return!1;clearInterval(i),i=!1;var a=h.getMeasures();if(null!=a&&null!=a.backend&&null!=a.frontend&&null!=a["page load time"]&&null!=a["total load time"]){var b=a.backend,c=a.backend+a.frontend,e={nty:0,rc:0,nt:b,dp:c-b,pr:a["total load time"]-c,fe:a["total load time"]-b,pl:a["total load time"]};d(e)}}var g=(new Date).getTime(),h=h||{};h.q=h.q||[],h.version="0.3",h.targetOrigin=b.location.protocol+"//"+b.location.hostname,h.bPostMessage=!1,h.beaconUrl=h.beaconUrl||"/images/beacon.gif",h.autorun=!1,h.init=function(){if(h.bDone=!1,h.bUnloaded=!1,h.marks={},h.measures={},h.starts={},h.findStartTime(),h.addEventListener("beforeunload",h.beforeUnload,!1),h.addEventListener("pagehide",h.beforeUnload,!1),h.addEventListener("unload",h.beforeUnload,!1),h.processQ(),"complete"===b.readyState){var c=a.performance||a.mozPerformance||a.msPerformance||a.webkitPerformance;c&&"undefined"!=typeof c.timing&&"undefined"!=typeof c.timing.loadEventEnd&&(h.mark("firstbyte",c.timing.responseStart),h.mark("onload",c.timing.loadEventEnd)),h.done()}else h.addEventListener("load",h.onload,!1)},h.processQ=function(){for(var a=h.q.length,b=0;a>b;b++){var c=h.q[b],d=c[0];"mark"===d?h.mark(c[1],c[2]):"measure"===d?h.measure(c[1],c[2],c[3]):"done"===d&&h.done(c[1])}},h.mark=function(b,c){return h.dprint("RUM_EPISODES.mark: "+b+", "+c),b?(h.marks[b]=parseInt(c||(new Date).getTime()),h.bPostMessage&&a.postMessage("RUM_EPISODES:mark:"+b+":"+c,h.targetOrigin),void("firstbyte"===b?h.measure("backend","starttime","firstbyte"):"onload"===b?(h.measure("frontend","firstbyte","onload"),h.measure("page load time","starttime","onload")):"done"===b&&h.measure("total load time","starttime","done"))):void h.dprint("Error: markName is undefined in RUM_EPISODES.mark.")},h.measure=function(b,c,d){if(h.dprint("RUM_EPISODES.measure: "+b+", "+c+", "+d),!b)return void h.dprint("Error: episodeName is undefined in RUM_EPISODES.measure.");var e;if("undefined"==typeof c)e="number"==typeof h.marks[b]?h.marks[b]:(new Date).getTime();else if("number"==typeof h.marks[c])e=h.marks[c];else{if("number"!=typeof c)return void h.dprint("Error: unexpected startNameOrTime in RUM_EPISODES.measure: "+c);e=c}var f;if("undefined"==typeof d)f=(new Date).getTime();else if("number"==typeof h.marks[d])f=h.marks[d];else{if("number"!=typeof d)return void h.dprint("Error: unexpected endNameOrTime in RUM_EPISODES.measure: "+d);f=d}h.starts[b]=parseInt(e),h.measures[b]=parseInt(f-e),h.bPostMessage&&a.postMessage("RUM_EPISODES:measure:"+b+":"+e+":"+f,h.targetOrigin)},h.done=function(b){h.bDone=!0,h.mark("done"),h.bPostMessage&&a.postMessage("RUM_EPISODES:done",h.targetOrigin),"function"==typeof b&&b()},h.getMarks=function(){return h.marks},h.getMeasures=function(){return h.measures},h.getStarts=function(){return h.starts},h.findStartTime=function(){var a=h.findStartWebTiming()||h.findStartCookie();a&&h.mark("starttime",a)},h.findStartWebTiming=function(){var b,c=a.performance||a.mozPerformance||a.msPerformance||a.webkitPerformance;return c&&"undefined"!=typeof c.timing&&"undefined"!=typeof c.timing.navigationStart&&(b=c.timing.navigationStart,h.dprint("RUM_EPISODES.findStartWebTiming: startTime = "+b)),b},h.findStartCookie=function(){for(var d=b.cookie.split(" "),e=0;e<d.length;e++)if(0===d[e].indexOf("RUM_EPISODES=")){for(var f,g,i=d[e].substring("RUM_EPISODES=".length).split("&"),j=0;j<i.length;j++)if(0===i[j].indexOf("s="))f=i[j].substring(2);else if(0===i[j].indexOf("r=")){var k=i[j].substring(2);k=k.replace(/;$/,""),g=a.escape(b.referrer)===k}if(g&&f)return h.dprint("RUM_EPISODES.findStartCookie: startTime = "+f),f}return c},h.beforeUnload=function(){h.bUnloaded||(b.cookie="RUM_EPISODES=s="+Number(new Date)+"&r="+a.escape(b.location)+"; path=/",h.bUnloaded=!0)},h.onload=function(){h.mark("onload"),h.done()},h.addEventListener=function(b,c,d){return"undefined"!=typeof a.attachEvent?a.attachEvent("on"+b,c):a.addEventListener?a.addEventListener(b,c,d):void 0},h.dprint=function(){},h.init();var i=null,j={navigationStart:"ns",redirectStart:"rds",redirectEnd:"rde",unloadEventStart:"us",unloadEventEnd:"ue",fetchStart:"fs",domainLookupStart:"dls",domainLookupEnd:"dle",connectStart:"cs",secureConnectionStart:"scs",connectEnd:"ce",handshakeStart:"hs",requestStart:"rqs",responseStart:"rps",responseEnd:"rpe",domLoading:"dl",domInteractive:"di",domContentLoadedEventStart:"dcs",domContentLoadedEventEnd:"dce",domComplete:"dc",loadEventStart:"ls",loadEventEnd:"le"},k=a.performance||a.mozPerformance||a.msPerformance||a.webkitPerformance;k&&"undefined"!=typeof k.timing&&"undefined"!=typeof k.navigation?i=setInterval(e,100):(h.mark("firstbyte",g),i=setInterval(f,100))}(window,document),atatus.__attachAjaxHooks=function(){!function(a,b){var c=atatus._helper,d={queue:[],batchSize:25,processing:!1,bUnloaded:!1,push:function(a){"string"==typeof a.url&&a.url.indexOf(".html")>0||(this.queue.push(a),this.queue.length>=this.batchSize&&this._processQueue())},_processQueue:function(){if(!this.processing&&this.queue.length){this.processing=!0;try{for(var a={},b={},d=0;d<this.queue.length;d++){var e,f=this.queue[d];if(f.status<400){e=f.method+f.url;var g=f.respAvailTime-f.sendTime,h=f.respProcTime-f.respAvailTime,i=f.receivedSize,j=f.sendSize,k=a[e];if(k){k.c++;var l=k.re;l.t=l.t+g,l.lo=l.lo<g?l.lo:g,l.hi=l.hi>g?l.hi:g,l.ssq=l.ssq+g*g;var m=k.cb;m.t=m.t+h,m.lo=m.lo<h?m.lo:h,m.hi=m.hi>h?m.hi:h,m.ssq=m.ssq+h*h;var n=k.rs;n.t=n.t+i,n.lo=n.lo<i?n.lo:i,n.hi=n.hi>i?n.hi:i,n.ssq=n.ssq+i*i;var o=k.ss;o.t=o.t+j,o.lo=o.lo<j?o.lo:j,o.hi=o.hi>j?o.hi:j,o.ssq=o.ssq+j*j}else a[e]={m:f.method,url:f.url,c:1,re:{t:g,lo:g,hi:g,ssq:g*g},cb:{t:h,lo:h,hi:h,ssq:h*h},rs:{t:f.receivedSize,lo:f.receivedSize,hi:f.receivedSize,ssq:f.receivedSize*f.receivedSize},ss:{t:f.sendSize,lo:f.sendSize,hi:f.sendSize,ssq:f.sendSize*f.sendSize}}}else e=f.method+f.status+f.url,b[e]?b[e].c++:b[e]={m:f.method,url:f.url,st:f.status,c:1}}var p={xhr:c.arrayFromObject(a),xhrError:c.arrayFromObject(b)};atatus.sendAjaxPerf(p)}catch(q){c.log("Error while processing queue: ",q)}finally{this.queue=[],this.processing=!1}}},beforeUnload:function(){d.bUnloaded||(d._processQueue(),d.bUnloaded=!0)}};c.addEventListener("beforeunload",d.beforeUnload,!1);var e={support:function(a){return!a||"apply"in a},around:function(a,b,d,e){return a=a||function(){},function(){var f,g=Array.prototype.slice.call(arguments);try{b&&(f=b.apply(this,g))}catch(h){c.log(e,h)}var i;try{i=a.apply(this,f||g)}finally{try{d&&d.apply(this,g)}catch(h){c.log(e,h)}}return i}},before:function(a,b){return e.around(a,b)},after:function(a,b){return e.around(a,null,b)},timeout:function(a){setTimeout(a,0)},wrapAddEventListener:function(){return function(a,b){if(("load"===a||"error"===a)&&b&&this._atrumXhrData){var c;b.__atrumInterceptor?c=b.__atrumInterceptor:e.support(b)?(c=g.wrapXHR(b,this,"XHR.invokeEventListener"),b.__atrumInterceptor=c):c=null;var d;return c&&(d=Array.prototype.slice.call(arguments),d[1]=c),d}}},wrapRemoveEventListener:function(){return function(a,b){if(this._atrumXhrData){var c=Array.prototype.slice.call(arguments);return b.__atrumInterceptor&&(c[1]=b.__atrumInterceptor),c}}},aroundWithHandleEvent:function(a,b,c,d){var f=a;return a&&"object"==typeof a&&"toString"in a&&"[xpconnect wrapped nsIDOMEventListener]"===a.toString()&&"handleEvent"in a&&(f=function(){a.handleEvent.apply(this,Array.prototype.slice.call(arguments))}),e.around(f,b,c,d)},getFullyQualifiedUrl:function(a){var c=b.createElement("a");return c.href=a,c.href}};if(a.XMLHttpRequest&&a.XMLHttpRequest.prototype){var f=a.XMLHttpRequest.prototype;if(!("open"in f&&"send"in f))return;if(!e.support(f.open)||!e.support(f.send))return;var g={};g.captureAjaxTimings=function(a){var b=a._atrumXhrData;if(b){var c=(new Date).getTime();2===a.readyState?b.firstByteTime=b.firstByteTime||c:4===a.readyState&&(b.respAvailTime=b.respAvailTime||c,b.firstByteTime=b.firstByteTime||c)}},g.sendPayload=function(a,b){b.receivedSize=0,a.responseType&&"text"!==a.responseType||"string"==typeof a.responseText&&(b.receivedSize=a.responseText.length),b.status=a.status,d.push(b)},g.wrapXHR=function(a,b,c){return e.aroundWithHandleEvent(a,function(){g.captureAjaxTimings(this)},function(){var a=b._atrumXhrData;if(a&&4===b.readyState){var c=(new Date).getTime();a.respProcTime=a.respProcTime||c,g.sendPayload(b,a),delete b._atrumXhrData}},c)},g.ajaxDone=function(a){if(a._atrumXhrData){var b=(new Date).getTime()+3e4,c=function(){g.captureAjaxTimings(a);var d=a._atrumXhrData;if(d){var e=(new Date).getTime();4===a.readyState?(d.respProcTime=d.respProcTime||e,g.sendPayload(a,d),delete a._atrumXhrData):b>e?setTimeout(c,50):delete a._atrumXhrData}};c()}},f.open=e.around(f.open,function(){var a=1<=arguments.length?String(arguments[0]):"",b=2<=arguments.length?String(arguments[1]):"",c=atatus.getAllowedDomains(),d=!0;if(b=e.getFullyQualifiedUrl(b),b&&c&&c.length){d=!1;for(var f=0;f<c.length;f++){var g=c[f];if(g&&b.indexOf(g)>-1){d=!0;break}}}d&&(b=b&&b.split("?")[0],this._atrumXhrData={method:a,url:b,sendTime:null,sendSize:null,firstByteTime:null,respAvailTime:null,respProcTime:null,receivedSize:null,parentPhase:null})},null,"XHR.open"),f.send=e.around(f.send,function(){var a=this,b=a._atrumXhrData;if(b){var c=(new Date).getTime();b.sendTime=b.sendTime||c,b.sendSize=1<=arguments.length&&arguments[0]?arguments[0].length||0:0;var d=0,f=function(){if(4===a.readyState)g.ajaxDone(a);else{var b=null;try{b=a.onreadystatechange}catch(c){return void g.ajaxDone(a)}d++,b?e.support(b)?a.onreadystatechange=g.wrapXHR(b,a,"XHR.onReadyStateChange"):g.ajaxDone(a):5>d?e.timeout(f):g.ajaxDone(a)}};f()}},null,"XHR.send"),"addEventListener"in f&&"removeEventListener"in f&&e.support(f.addEventListener)&&e.support(f.removeEventListener)&&(f.addEventListener=e.around(f.addEventListener,e.wrapAddEventListener(),null,"XHR.addEventListener"),f.removeEventListener=e.around(f.removeEventListener,e.wrapRemoveEventListener(),null,"XHR.removeEventListener"))}}(window,document)},function(a){function b(a,b,c){if(!(0>=b)){var d={name:a,dur:b,st:c};atatus.sendTxnPerf(d)}}function c(a){return h+" "+a}function d(){try{return"localStorage"in a&&null!==a.localStorage;}catch(b){return!1}}function e(a){var b=i.now();try{localStorage.setItem(c(a),b)}catch(d){}}function f(a){var b=null,d=c(a);try{b=localStorage.getItem(d),localStorage.removeItem(d)}catch(e){}var f=0;return b&&(f=i.now()-b),f}function g(a){try{var b=c(a);localStorage.removeItem(b)}catch(d){}}var h="atatus.com/",i=atatus._helper,j=1,k=0;atatus.beginTransaction=function(a){d()&&e(a)},atatus.endTransaction=function(a){if(d()){var c=f(a);b(a,c,j)}},atatus.failTransaction=function(a){if(d()){var c=f(a);b(a,c,k)}},atatus.cancelTransaction=function(a){d()&&g(a)}}(window,document);
/*! https://github.com/ttaubert/node-arraybuffer-slice
 * (c) 2014 Tim Taubert <tim@timtaubert.de>
 * arraybuffer-slice may be freely distributed under the MIT license.*/
!function(r){"use strict";function t(r,t){return r=0|r||0,r<0?Math.max(r+t,0):Math.min(r,t)}ArrayBuffer.prototype.slice||(ArrayBuffer.prototype.slice=function(e,n){var f=this.byteLength,i=t(e,f),a=f;if(n!==r&&(a=t(n,f)),i>a)return new ArrayBuffer(0);var u=a-i,y=new ArrayBuffer(u),o=new Uint8Array(y),s=new Uint8Array(this,i,u);return o.set(s),y})}();
!function(e){function t(i){if(r[i])return r[i].i;var n=r[i]={s:i,o:!1,i:{}};return e[i].call(n.i,n,n.i,t),n.o=!0,n.i}var r={};t.h=e,t.c=r,t.d=function(e,r,i){t.u(e,r)||Object.defineProperty(e,r,{l:!1,p:!0,get:i})},t.n=function(e){var r=e&&e.g?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.u=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.v="",t(t.T=99)}([function(e,t,r){"use strict";var i,n=r(40),s=r(3);!function(e){function t(t){N&&console.log("Framework already initialized"),e.m(),A=new Date,t.apply(L),N=L.resolve(C.I),k=L.resolve(C.R),F=N.C()}function r(){D=L.resolve(C._),D.init()}function i(){return D}function o(){return L}function a(){return k}function h(){return N}function c(e){return M.get(e)}function u(e,t){var r=new _(e);return r.apply(t),M.set(e,r),r}function l(t){P=e.P(t)}function p(e){return null!=P?P.context.resolve(e):(console.warn("undefined context"),null)}function d(){return P}function f(){return N.time()}function g(e,t){return N.setTimeout(e,t)}function E(e){return N.clearTimeout(e)}function v(e,t){return N.setInterval(e,t)}function y(e){return N.clearInterval(e)}function T(){N.A()}function m(){N&&N.O(),L.N(),L=new n.D,M=new s,P=null,A=null,F=!1,O=null,N=null,D=null,k=null}function I(e){O=e}function S(){return O||(O=(new Date).getTime()),(O=(9301*O+49297)%233280)/233280}function R(){return A}function w(){return F}var b=function(){function e(){}return e}();b.k="ws://127.0.0.1:8000/hive",e.L=b;var C=function(){function e(){}return e}();C.I="TimerScheduler",C.M="identityProvider",C._="NetworkComponent",C.F="rtcManager",C.U="transport",C.B="httpManager",C.H="httpRequest",C.R="logger",C.q="serverManager",C.G="servicesClient",e.V=C;var _=function(){function e(e){this.id=e,this.context=new n.D}return e.prototype.apply=function(e){e.apply(this.context)},e}();e.j=_;!function(e){e[e.K=0]="HTTP",e[e.Y=1]="RTC",e[e.W=2]="UDP"}(e.J||(e.J={}));!function(t){function r(){return"["+f()+"] ["+e.X().id+"]"}t.getId=r}(e.Z||(e.Z={}));var P,A,O,N,D,k,L=new n.D,M=new s,F=!1;e.$=t,e.ee=r,e.te=i,e.system=o,e.logger=a,e.re=h,e.P=c,e.ie=u,e.ne=l,e.resolve=p,e.X=d,e.time=f,e.setTimeout=g,e.clearTimeout=E,e.setInterval=v,e.clearInterval=y,e.A=T,e.m=m,e.se=I,e.random=S,e.oe=R,e.C=w}(i=t.Framework||(t.Framework={})),"undefined"!=typeof global&&(global.Framework=i)},function(e,t,r){"use strict";var i=r(106),n=r(20),s=r(6),o=s.he.ae,a=(s.he.ce,s.he.ue),h=s.he.le,c=function(){function e(t){var r=this;if(this.isActive=!1,this.pe="undefined"!=typeof atatus&&null!=atatus,this.de={},e.fe)throw new Error("Error: Instantiation failed: Use AtatusLogger.getInstance() instead of new.");var i,s=void 0!=n.HiveConfig.ErrorMonitor.key?n.HiveConfig.ErrorMonitor.key:o,c=1==n.HiveConfig.ErrorMonitor.enabledRUM,u=1==n.HiveConfig.ErrorMonitor.enableKeyCombination,l=1==n.HiveConfig.ErrorMonitor.enabledErrorFilter;l&&(i=this.ge()),this.version=t,this.pe&&(void 0==n.HiveConfig.ErrorMonitor.enabled&&a||void 0!=n.HiveConfig.ErrorMonitor.enabled&&1==n.HiveConfig.ErrorMonitor.enabled)&&(atatus.config(s,{enableSourcemap:!0,disableRUM:!c,console:!1,version:t,beforeErrorSend:function(e){var t=!1;e&&e.customData&&void 0!==e.customData.forceSend&&(t=e.customData.forceSend,delete e.customData.forceSend,0===Object.keys(e.customData).length&&(e.customData=null));for(var n in r.de)e.customData[n]=r.de[n];if(!l||t)return!0;if(!i)return!1;try{var s=!1;if(e.backTraces){for(var o=0,a=e.backTraces;o<a.length;o++){var c=a[o];if(c.f.indexOf(i)>-1&&c.ln>h){s=!0;break}}s&&(e.name=e.name.replace(/%s \[[0-9]{2}:[0-9]{2}:[0-9]{2}:[0-9]+] /,""),e.name.indexOf("Status Code Error:")>=0&&(e.tags=["Plugin Error Code",e.name.split(":")[1].trim()]))}return s}catch(e){return!1}}}).install(),u&&this.Ee(),this.isActive=!0,window.console&&console.log("[HiveComm] Error Monitor installed [RUM:"+c+", KeyHandler:"+u+"]"),l&&!i&&this.logError("Could not extract error filter"))}return e.ve=function(t){return void 0===t&&(t="3.0.0"),void 0===this.fe&&(this.fe=new e(t)),this.fe},e.prototype.Ee=function(){i.Te.ve().ye([16,17,88],function(){try{throw new Error("Upload console logs")}catch(e){atatus.notify(e),window.console&&console.log("[HiveComm] console log uploaded for debugging")}})},e.prototype.ge=function(){try{throw new Error("test")}catch(t){var e=t.stack.match(/(\/\/.*\.js)/i);if(e&&e.length>0)return e[0]}},e.prototype.setUser=function(e){this.pe&&this.isActive&&atatus.setUser(e)},e.prototype.me=function(e){this.logger=e},e.prototype.setCustomData=function(e){this.pe&&this.isActive&&atatus.setCustomData(e)},e.prototype.Ie=function(e){for(var t in e)this.de[t]=e[t]},e.prototype.logError=function(e,t,r,i,n){var s="";if("string"==typeof t?s=t.trim():void 0!==t&&(i=t),(i instanceof Error||i&&"object"!=typeof i)&&(i={error:i.toString()}),i||(i={}),i.errorCode=r,this.logger&&(Object.keys(i).length>0?this.logger.warn(s+" "+e,i):this.logger.warn(s+" "+e)),s&&(n=n?n.concat([s]):[s]),i.forceSend=!0,this.pe&&this.isActive)try{throw new Error(e)}catch(e){atatus.notify(e,i,n)}},e.prototype.setTags=function(e){this.pe&&this.isActive&&atatus.setTags(e)},e.prototype.notify=function(e,t){this.pe&&this.isActive&&(t||(t={}),t.forceSend=!0,atatus.notify(e,t))},e}();t.ErrorMonitor=c},function(e,t,r){"use strict";!function(e){!function(e){e[e.Se=268435456]="BASE_CODE",e[e.Re=268435457]="FIRE_SERVER_CONNECTED_WITH_SWARM",e[e.we=268435458]="FIRE_SERVER_CONNECTED_WITHOUT_SWARM",e[e.be=268435459]="CONNECTION_NOT_ESTABLISHED",e[e.Ce=268435460]="SEND_MESSAGE_TO_NON_EXISTING_CHANNEL",e[e._e=268435461]="RECEIVED_MESSAGE_FROM_NON_EXISTING_CONNECTION"}(e.Pe||(e.Pe={}));!function(e){e[e.Se=536870912]="BASE_CODE",e[e.Ae=536870913]="CREATE_OFFER",e[e.Oe=536870914]="CREATE_ANSWER",e[e.Ne=536870915]="SIGNALING_STATE_CLOSED",e[e.De=536870916]="SET_LOCAL_DESCRIPTION_FAILED",e[e.ke=536870917]="NEGOTIATION_FAILURE",e[e.Le=536870918]="SETUP_CHANNEL_ERROR",e[e.Me=536870919]="ICE_CONNECTION_FAILED",e[e.Fe=536870920]="SET_REMOTE_DESCRIPTION",e[e.Ue=536870921]="UPDATE_ICE_CANDIDATES",e[e.Be=536870922]="ANSWER_RECEIVED",e[e.He=536870923]="OFFER_RECEIVED",e[e.xe=536870924]="SEND_CANDIDATES",e[e.qe=536870925]="CLOSE_CONNECTION"}(e.Ge||(e.Ge={}));!function(e){e[e.Se=805306368]="BASE_CODE",e[e.Ve=805306369]="SEND_MSG_WITHOUT_CHANNEL",e[e.je=805306370]="MSG_TRIGGER_ERROR",e[e.Qe=805306371]="CONNECTION_TIMEOUT"}(e.Ke||(e.Ke={}));!function(e){e[e.Se=1073741824]="BASE_CODE",e[e.qe=1073741825]="CLOSE_CONNECTION",e[e.Ye=1073741826]="P2P_DISPATCHER_ERROR"}(e.We||(e.We={}));!function(e){e[e.Se=1342177280]="BASE_CODE",e[e.ze=1342177281]="CONSTRUCT_MESSAGE",e[e.Je=1342177282]="DROPPED_MESSAGE",e[e.Xe=1342177283]="SEND_MESSAGE",e[e.Ze=1342177284]="RECEIVE_MESSAGE"}(e.$e||(e.$e={}));!function(e){e[e.Se=1610612736]="BASE_CODE",e[e.et=1610612737]="NEW_DISPATCHER"}(e.tt||(e.tt={}));!function(e){e[e.Se=1879048192]="BASE_CODE",e[e.rt=1879048193]="INIT_CACHE",e[e.it=1879048194]="PUT_OPERATION",e[e.nt=1879048195]="GET_OPERATION",e[e.st=1879048196]="CONTAINS_OPERATION",e[e.ot=1879048197]="GET_KEYS_OPERATION",e[e.at=1879048198]="GET_ELEMENTS_OPERATION"}(e.ht||(e.ht={}));!function(e){e[e.Se=2147483648]="BASE_CODE",e[e.it=2147483649]="PUT_OPERATION",e[e.nt=2147483650]="GET_OPERATION",e[e.st=2147483651]="CONTAINS_OPERATION",e[e.ot=2147483652]="GET_KEYS_OPERATION",e[e.at=2147483653]="GET_ELEMENTS_OPERATION",e[e.ct=2147483654]="PURGE_CACHE_OPERATION"}(e.ut||(e.ut={}));!function(e){e[e.Se=2415919104]="BASE_CODE"}(e.lt||(e.lt={}));!function(e){e[e.Se=2684354560]="BASE_CODE",e[e.pt=2684354561]="DISCOVERED_PEERS",e[e.dt=2684354562]="LEADER_ELECTION",e[e.ft=2684354563]="GC_MEMBERS",e[e.gt=2684354564]="ADD_LAN_MEMBER",e[e.Et=2684354565]="ADD_RANDOM_MEMBER",e[e.vt=2684354566]="SAMPLE_MEMBERSHIP"}(e.yt||(e.yt={}));!function(e){e[e.Se=2952790016]="BASE_CODE",e[e.Tt=2952790017]="SEND_ALL_HAVES",e[e.It=2952790018]="SEND_HAVE",e[e.St=2952790019]="UNKNOWN_HAVE",e[e.Rt=2952790020]="UNKNOWN_HAVES",e[e.wt=2952790021]="RECEIVED_HAVE",e[e.bt=2952790022]="RECEIVED_HAVES",e[e.Ct=2952790023]="NO_OUT_PARTNER",e[e._t=2952790024]="CREATE_RANDOM_BUFFER",e[e.Pt=2952790025]="REQUEST_PING",e[e.At=2952790026]="RECEIVED_PING",e[e.Ot=2952790027]="UNKNOWN_PING",e[e.Nt=2952790028]="SEND_PONG",e[e.Dt=2952790029]="UNKOWN_PONG",e[e.kt=2952790030]="WRONG_PONG_SIZE",e[e.Lt=2952790031]="WRONG_TIMESTAMP",e[e.Mt=2952790032]="RECEIVED_PONG",e[e.Ft=2952790033]="COLLECT_PARTNER_SNAPSHOTS"}(e.Ut||(e.Ut={}));!function(e){e[e.Se=3221225472]="BASE_CODE",e[e.Bt=3221225473]="START_PARTNERSHIP",e[e.Ht=3221225474]="NEW_LAN_MEMBER",e[e.xt=3221225475]="IN_PARTNER_CHOICE",e[e.qt=3221225476]="IN_PARTNER_ADD_PROCESS",e[e.Gt=3221225477]="IN_PARTNER_CONNECT",e[e.Vt=3221225478]="IN_PARTNERSHIP_REQUEST",e[e.jt=3221225479]="OUT_PARNTERSHIP_REQUEST_PROCESS",e[e.Qt=3221225480]="CONSTRUCT_DISCOVER_PEER_INFO",e[e.Kt=3221225481]="SEND_PARTN_RESP",e[e.Yt=3221225482]="NEW_IN_PARTNER_TO_LIST",e[e.Wt=3221225483]="REMOVE_DISCONNECTED_PEER",e[e.zt=3221225484]="REMOVE_IN_PARTNER",e[e.Jt=3221225485]="CLOSE_RECEIVED",e[e.Xt=3221225486]="SEND_PART_REQUEST",e[e.Zt=3221225487]="PART_REQUEST_EXPIRED",e[e.$t=3221225488]="UNKNOWN_PARTNERSHIP_REQUEST_EXPIRED",e[e.er=3221225489]="UNKNOWN_OUT_PART_RESP",e[e.tr=3221225490]="CLOSE_PARTNERSHIP",e[e.rr=3221225491]="ANNOUNCE_BITRATE",e[e.ir=3221225492]="CONSTRUCT_ANNOUNCE_BITRATE_MSG",e[e.nr=3221225493]="RECEIVE_BITRATE_INFO",e[e.sr=3221225494]="PEER_INFO_RECEIVED",e[e.ar=3221225495]="PEER_INFO_ANNOUNCED",e[e.hr=3221225496]="COLLECT_ALL_PARTNERS"}(e.cr||(e.cr={}));!function(e){e[e.Se=3489660928]="BASE_CODE",e[e.ur=3489660929]="UPDATE_IN_PARTNERS"}(e.lr||(e.lr={}));!function(e){e[e.Se=3758096384]="BASE_CODE",e[e.pr=3758096385]="SELECT_PARTNERS_TO_REMOVE",e[e.dr=3758096386]="SELECT_PARTNERS_TO_ADD",e[e.gr=3758096387]="SELECT_UPDATE_OUT"}(e.Er||(e.Er={}));!function(e){e[e.Se=4026531840]="BASE_CODE",e[e.pr=4026531841]="SELECT_PARTNERS_TO_REMOVE",e[e.dr=4026531842]="SELECT_PARTNERS_TO_ADD",e[e.gr=4026531843]="SELECT_UPDATE_OUT"}(e.vr||(e.vr={}));!function(e){e[e.Se=4294967296]="BASE_CODE",e[e.ur=4294967297]="UPDATE_IN_PARTNERS",e[e.pr=4294967298]="SELECT_PARTNERS_TO_REMOVE",e[e.dr=4294967299]="SELECT_PARTNERS_TO_ADD",e[e.gr=4294967300]="SELECT_UPDATE_OUT",e[e.yr=4294967301]="GROUP_PARTNERS",e[e.Tr=4294967302]="IDENTIFY_MEMBER_AS_LEADER_OR_SAME_SITE",e[e.mr=4294967303]="AHEAD_BUT_BEHIND_DELTA",e[e.Ir=4294967304]="BEHIND_OR_NOT_RETRIEVING_BITRATE",e[e.Sr=4294967305]="GET_DELTA_FOR_BITRATE"}(e.Rr||(e.Rr={}));!function(e){e[e.Se=4563402752]="BASE_CODE",e[e.wr=4563402753]="UPDATE_OUT_PARTNERS"}(e.br||(e.br={}));!function(e){e[e.Se=4831838208]="BASE_CODE",e[e.Cr=4831838209]="ADD_FRAGMENT_TO_MAP",e[e.Pr=4831838210]="WRAP_CHUNK",e[e.Ar=4831838211]="GENERATE_HASHMAPS"}(e.Or||(e.Or={}));!function(e){e[e.Se=5100273664]="BASE_CODE",e[e.Nr=5100273665]="INIT_AES_MANAGER",e[e.Dr=5100273666]="INIT_KEY",e[e.kr=5100273667]="INIT_IV",e[e.Lr=5100273668]="DECRYPT_BUFFER",e[e.Mr=5100273669]="DOWNLOAD_KEY_ONLOAD",e[e.Fr=5100273670]="DOWNLOAD_KEY"}(e.Ur||(e.Ur={}));!function(e){e[e.Se=5368709120]="BASE_CODE",e[e.Br=5368709121]="GET_ENTITY_TYPE",e[e.Hr=5368709122]="GET_ENTITY_CHARACTERISTICS",e[e.xr=5368709123]="GET_NEXT_ENTITY",e[e.qr=5368709124]="IS_CURRENT_CONTEXT",e[e.Gr=5368709125]="PARSED_METADATA",e[e.Vr=5368709126]="PREFETCH_METADATA_RECEIVED",e[e.jr=5368709127]="FRAGMENT_RECEIVED",e[e.Qr=5368709128]="EVALUATE_PROTECTION",e[e.Kr=5368709129]="GET_DISTANCE_DURATION"}(e.Yr||(e.Yr={}));!function(e){e[e.Se=5637144576]="BASE_CODE",e[e.Wr=5637144577]="PARSE_METADATA",e[e.zr=5637144578]="EXTRACT_SEGMENT_MAPS",e[e.Jr=5637144579]="INIT_PROTECTION",e[e.Xr=5637144580]="GET_SEGMENT_INFO",e[e.Zr=5637144581]="GET_SEGMENT_DISTANCE",e[e.$r=5637144582]="EXTRACT_DURATION",e[e.ei=5637144583]="EXTRACT_DURATION_OR_DECRYPT",e[e.ti=5637144584]="EXTRACT_DURATION_CANNOT_DECRYPT",e[e.ri=5637144585]="EXTRACT_DURATION_NON_ENCRYPTED",e[e.ii=5637144586]="GENERATE_MISSING_SEGMENTS",e[e.ni=5637144587]="REGENERATE_MANIFEST",e[e.si=5637144588]="TRIM_MANIFEST",e[e.oi=5637144589]="PARSE_BITRATES_TO_FILTER",e[e.ai=5637144590]="FILTER_BITRATES",e[e.hi=5637144591]="GET_DISTANCE_DURATION_BETWEEN_SEGMENTS",e[e.ci=5637144592]="GET_SEGMENT"}(e.ui||(e.ui={}));!function(e){e[e.Se=5905580032]="BASE_CODE",e[e.qr=5905580033]="IS_CURRENT_CONTEXT",e[e.Br=5905580034]="GET_ENTITY_TYPE",e[e.Hr=5905580035]="GET_ENTITY_CHARACTERISTICS",e[e.li=5905580036]="METADATA_RECEIVED",e[e.pi=5905580037]="SCHEDULE_METADATA_PREFETCH",e[e.xr=5905580038]="GET_NEXT_ENTITY",e[e.Kr=5905580039]="GET_DISTANCE_DURATION"}(e.di||(e.di={}));!function(e){e[e.Se=6174015488]="BASE_CODE",e[e.fi=6174015489]="PLAYLIST_MISMATCH",e[e.gi=6174015490]="FLOAT_BITRATE",e[e.Wr=6174015491]="PARSE_METADATA",e[e.Xr=6174015492]="GET_SEGMENT_INFO",e[e.Ei=6174015493]="UPDATE_PLAYLIST",e[e.vi=6174015494]="TRIM_PLAYLIST"}(e.yi||(e.yi={}));!function(e){e[e.Se=6442450944]="BASE_CODE",e[e.Ti=6442450945]="GET_P2P_TIMEOUT",e[e.mi=6442450946]="DELIVER_DELAY"}(e.Ii||(e.Ii={}));!function(e){e[e.Se=6710886400]="BASE_CODE",e[e.Si=6710886401]="IS_PLAYER_BUFFERING_BASE",e[e.Ri=6710886402]="CONFIGURE_REQUEST_DIRECTIVE",e[e.wi=6710886403]="ATTEMPT_TO_UPGRADE_PREFETCH"}(e.bi||(e.bi={}));!function(e){e[e.Se=6979321856]="BASE_CODE",e[e.Ci=6979321857]="PREPARE_REQUEST",e[e._i=6979321858]="GET_CONNECTIVITY_INFO",e[e.Pi=6979321859]="COLLECT_TRACKER_REQUEST_INFO",e[e.Ai=6979321860]="PREPARE_QUERY",e[e.Oi=6979321861]="PREPARE_BITRATE_QUERY",e[e.Ni=6979321862]="PREPARE_TRACKER_INFO",e[e.Di=6979321863]="SEND_REQUEST",e[e.ki=6979321864]="HANDLE_RESPONSE"}(e.Li||(e.Li={}));!function(e){e[e.Se=7247757312]="BASE_CODE",e[e.Mi=7247757313]="NEW_TRACKER_CLIENT",e[e.Fi=7247757314]="SERIALIZE_REQUEST",e[e.Ui=7247757315]="DESERIALIZE_RESPONSE",e[e.Bi=7247757316]="SERVICE_CONNECTION_DOWN",e[e.Di=7247757317]="SEND_REQUEST",e[e.Hi=7247757318]="TRACKER_MANAGER_INIT"}(e.xi||(e.xi={}));!function(e){e[e.Se=7516192768]="BASE_CODE",e[e.qi=7516192769]="SORT_PARTNERS"}(e.Gi||(e.Gi={}));!function(e){e[e.Se=7784628224]="BASE_CODE",e[e.Vi=7784628225]="CHOOSE_PARTNER"}(e.ji||(e.ji={}));!function(e){e[e.Se=8053063680]="BASE_CODE",e[e.Qi=8053063681]="CONSTRUCT_FRAGMENT_REQUEST_MESSAGE",e[e.Ki=8053063682]="SEND_FRAGMENT_REQUEST",e[e.Yi=8053063683]="RECEIVE_CHUNK",e[e.Wi=8053063684]="SEND_ACK",e[e.zi=8053063685]="CLEAN_UP_NOT_PENDING",e[e.Ji=8053063686]="STOP_TRANSFER",e[e.Xi=8053063687]="RECEIVE_EXPIRED_CHUNK"}(e.Zi||(e.Zi={}));!function(e){e[e.Se=8321499136]="BASE_CODE",e[e.$i=8321499137]="CONSTRUCT_CHUNK_RESPONSE",e[e.en=8321499138]="START_SENDING_CHUNK",e[e.tn=8321499139]="SEND_CHUNK",e[e.rn=8321499140]="UNKNOWN_ACK"}(e.in||(e.in={}));!function(e){e[e.Se=8589934592]="BASE_CODE",e[e.nn=8589934593]="NO_PARTNER_FOUND",e[e.sn=8589934594]="FILTER_IN_PARTNERS",e[e.an=8589934595]="SET_REQUEST_TIMEOUT",e[e.hn=8589934596]="REMOVE_REQUEST",e[e.cn=8589934597]="CANCEL_ON_NON_EXISTING_SESSION",e[e.un=8589934598]="DO_NOT_HAVE",e[e.pn=8589934599]="REQUESTED_TO_NON_PARTNER"}(e.dn||(e.dn={}));!function(e){e[e.Se=8858370048]="BASE_CODE",e[e.fn=8858370049]="RESPOND_TO_PEER",e[e.gn=8858370050]="REQUEST_SATISFIED",e[e.En=8858370051]="REQUEST_PARTIALLY_SATISFIED",e[e.vn=8858370052]="REQUEST_NOT_SATISFIED",e[e.yn=8858370053]="SEND_DO_NOT_HAVE",e[e.Tn=8858370054]="SEND_NO_PARTNERS"}(e.mn||(e.mn={}));!function(e){e[e.Se=9126805504]="BASE_CODE",e[e.In=9126805505]="VIOLATE_SPOOFING_HANDLER",e[e.Sn=9126805506]="VIOLATE_SPOOFING_RULES",e[e.Rn=9126805507]="ADD_OR_UPDATE_SPOOFING_MAPS",e[e.wn=9126805508]="PERIODIC_CHECK_IP_SPOOFING"}(e.bn||(e.bn={}));!function(e){e[e.Se=9395240960]="BASE_CODE",e[e.Cn=9395240961]="REQUEST_COMPLETED",e[e._n=9395240962]="REQUEST_NOT_EXISTING_COMPLETED",e[e.Pn=9395240963]="REQUEST_PARTIALLY_FAILED",e[e.An=9395240964]="REQUEST_NOT_EXISTING_PARTIALLY_FAILED",e[e.On=9395240965]="REQUEST_FAILED",e[e.Nn=9395240966]="REQUEST_NOT_EXISTING_FAILED"}(e.Dn||(e.Dn={}));!function(e){e[e.Se=9663676416]="BASE_CODE",e[e.kn=9663676417]="UPDATE_WANTED_SESSIONS",e[e.Ln=9663676418]="CONFIGURE_PREFETCHING",e[e.Mn=9663676419]="START_PREFETCHING",e[e.Fn=9663676420]="FRAGMENT_RETRIEVED_SESSION_NOT_EXISTING",e[e.Un=9663676421]="ATTEMPT_PREFETCH_BEFORE_PLAYER_REQUEST",e[e.Bn=9663676422]="FORWARD_IF_NECESSARY",e[e.Hn=9663676423]="IS_ALLOWED_TO_PREFETCH",e[e.xn=9663676424]="PREFETCH_PROCESS",e[e.qn=9663676425]="CHECK_PLAYER_DISTANCE",e[e.Gn=9663676426]="OFFLOAD_LEADER",e[e.Vn=9663676427]="UPGRADE_PREFETCH"}(e.jn||(e.jn={}));!function(e){e[e.Se=9932111872]="BASE_CODE",e[e.Qn=9932111873]="REQUEST_TIMEOUT"}(e.Kn||(e.Kn={}));!function(e){e[e.Se=10200547328]="BASE_CODE",e[e.Yn=10200547329]="PLAYER_REQUEST_ERROR"}(e.Wn||(e.Wn={}));!function(e){e[e.Se=10468982784]="BASE_CODE",e[e.zn=10468982785]="ADD_HAVE",e[e.Jn=10468982786]="REMOVE_PEER"}(e.Xn||(e.Xn={}));!function(e){e[e.Se=10737418240]="BASE_CODE",e[e.Zn=10737418241]="CONSTRUCT_SWARM",e[e.$n=10737418242]="INIT_SWARM",e[e.es=10737418243]="SWITCH_STATE",e[e.Qn=10737418244]="REQUEST_TIMEOUT"}(e.rs||(e.rs={}));!function(e){e[e.Se=11005853696]="BASE_CODE",e[e.ns=11005853697]="SERIALIZE_MESSAGE",e[e.ss=11005853698]="EXTRACT_MESSAGE"}(e.as||(e.as={}))}(t.hs||(t.hs={}))},function(e,t,r){"use strict";function i(e,t,r,s){if(!(this instanceof i))return new i(e,t,r,s);t=t||Object.cs,r=r||Object.hash,s=s||Function.us,this.ls=t,this.ps=r,this.ds=s,this.fs=new n(void 0,function(e,r){return t(e.key,r.key)},function(e){return r(e.key)}),this.length=0,this.addEach(e)}var n=(r(11),r(68)),s=r(12),o=r(52),a=r(13);e.i=i,i.Map=i,Object.addEach(i.prototype,s.prototype),Object.addEach(i.prototype,o.prototype),Object.addEach(i.prototype,a.prototype),Object.defineProperty(i.prototype,"size",s.gs),i.prototype.Es=function(e){return new this.constructor(e,this.ls,this.ps,this.ds)},i.prototype.log=function(e,t,r,i){t=t||this.vs,this.fs.log(e,function(e,r,i){t(e.value.value,r,i)},r,i)},i.prototype.vs=function(e,t){t(" key: "+e.key),t(" value: "+e.value)}},function(e,t,r){/*!
 *
 * Copyright 2009-2016 Kris Kowal under the terms of the MIT
 * license found at https://github.com/kriskowal/q/blob/v1/LICENSE
 *
 * With parts by Tyler Close
 * Copyright 2007-2009 Tyler Close under the terms of the MIT X license found
 * at http://www.opensource.org/licenses/mit-license.html
 * Forked at ref_send.js version: 2009-05-11
 *
 * With parts by Mark Miller
 * Copyright (C) 2011 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 */
!function(t){"use strict";if("function"==typeof bootstrap)bootstrap("promise",t);else{e.i=t()}}(function(){"use strict";function e(e){return function(){return K.apply(e,arguments)}}function t(e){return e===Object(e)}function r(e){return"[object StopIteration]"===ee(e)||e instanceof G}function i(e,t){if(x&&t.stack&&"object"==typeof e&&null!==e&&e.stack&&-1===e.stack.indexOf(te)){for(var r=[],i=t;i;i=i.source)i.stack&&r.unshift(i.stack);r.unshift(e.stack);var s=r.join("\n"+te+"\n");e.stack=n(s)}}function n(e){for(var t=e.split("\n"),r=[],i=0;i<t.length;++i){var n=t[i];a(n)||s(n)||!n||r.push(n)}return r.join("\n")}function s(e){return-1!==e.indexOf("(module.js:")||-1!==e.indexOf("(node.js:")}function o(e){var t=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(e);if(t)return[t[1],Number(t[2])];var r=/at ([^ ]+):(\d+):(?:\d+)$/.exec(e);if(r)return[r[1],Number(r[2])];var i=/.*@(.+):(\d+)$/.exec(e);return i?[i[1],Number(i[2])]:void 0}function a(e){var t=o(e);if(!t)return!1;var r=t[0],i=t[1];return r===q&&i>=V&&i<=oe}function h(){if(x)try{throw new Error}catch(i){var e=i.stack.split("\n"),t=e[0].indexOf("@")>0?e[1]:e[2],r=o(t);if(!r)return;return q=r[0],r[1]}}function c(e){return e instanceof d?e:v(e)?C(e):b(e)}function u(){function e(e){t=e,c.ys&&x&&(s.source=e),W(r,function(t,r){c.Ts(function(){e.ms.apply(e,r)})},void 0),r=void 0,i=void 0}var t,r=[],i=[],n=X(u.prototype),s=X(d.prototype);if(s.ms=function(e,n,s){var o=Y(arguments);r?(r.push(o),"when"===n&&s[1]&&i.push(s[1])):c.Ts(function(){t.ms.apply(t,o)})},s.valueOf=function(){if(r)return s;var e=g(t);return E(e)&&(t=e),e},s.Is=function(){return t?t.Is():{state:"pending"}},c.ys&&x)try{throw new Error}catch(e){s.stack=e.stack.substring(e.stack.indexOf("\n")+1)}return n.Ss=s,n.resolve=function(r){t||e(c(r))},n.Rs=function(r){t||e(b(r))},n.reject=function(r){t||e(w(r))},n.notify=function(e){t||W(i,function(t,r){c.Ts(function(){r(e)})},void 0)},n}function l(e){if("function"!=typeof e)throw new TypeError("resolver must be a function.");var t=u();try{e(t.resolve,t.reject,t.notify)}catch(e){t.reject(e)}return t.Ss}function p(e){return l(function(t,r){for(var i=0,n=e.length;i<n;i++)c(e[i]).then(t,r)})}function d(e,t,r){void 0===t&&(t=function(e){return w(new Error("Promise does not support operation: "+e))}),void 0===r&&(r=function(){return{state:"unknown"}});var i=X(d.prototype);if(i.ms=function(r,n,s){var o;try{o=e[n]?e[n].apply(i,s):t.call(i,n,s)}catch(e){o=w(e)}r&&r(o)},i.Is=r,r){var n=r();"rejected"===n.state&&(i.exception=n.reason),i.valueOf=function(){var e=r();return"pending"===e.state||"rejected"===e.state?i:e.value}}return i}function f(e,t,r,i){return c(e).then(t,r,i)}function g(e){if(E(e)){var t=e.Is();if("fulfilled"===t.state)return t.value}return e}function E(e){return e instanceof d}function v(e){return t(e)&&"function"==typeof e.then}function y(e){return E(e)&&"pending"===e.Is().state}function T(e){return!E(e)||"fulfilled"===e.Is().state}function m(e){return E(e)&&"rejected"===e.Is().state}function I(){re.length=0,ie.length=0,se||(se=!0)}function S(e,t){se&&("object"==typeof process&&process&&"function"==typeof process.ws&&c.Ts.bs(function(){-1!==z(ie,e)&&(process.ws("unhandledRejection",t,e),ne.push(e))}),ie.push(e),t&&void 0!==t.stack?re.push(t.stack):re.push("(no stack) "+t))}function R(e){if(se){var t=z(ie,e);-1!==t&&("object"==typeof process&&process&&"function"==typeof process.ws&&c.Ts.bs(function(){var r=z(ne,e);-1!==r&&(process.ws("rejectionHandled",re[t],e),ne.splice(r,1))}),ie.splice(t,1),re.splice(t,1))}}function w(e){var t=d({when:function(t){return t&&R(this),t?t(e):this}},function(){return this},function(){return{state:"rejected",reason:e}});return S(t,e),t}function b(e){return d({when:function(){return e},get:function(t){return e[t]},set:function(t,r){e[t]=r},delete:function(t){delete e[t]},Cs:function(t,r){return null===t||void 0===t?e.apply(void 0,r):e[t].apply(e,r)},apply:function(t,r){return e.apply(t,r)},keys:function(){return $(e)}},void 0,function(){return{state:"fulfilled",value:e}})}function C(e){var t=u();return c.Ts(function(){try{e.then(t.resolve,t.reject,t.notify)}catch(e){t.reject(e)}}),t.Ss}function _(e){return d({_s:function(){}},function(t,r){return k(e,t,r)},function(){return c(e).Is()})}function P(e,t,r){return c(e).Ps(t,r)}function A(e){return function(){function t(e,t){var o;if("undefined"==typeof StopIteration){try{o=i[e](t)}catch(e){return w(e)}return o.done?c(o.value):f(o.value,n,s)}try{o=i[e](t)}catch(e){return r(e)?c(e.value):w(e)}return f(o,n,s)}var i=e.apply(this,arguments),n=t.bind(t,"next"),s=t.bind(t,"throw");return n()}}function O(e){c.done(c.async(e)())}function N(e){throw new G(e)}function D(e){return function(){return P([this,L(arguments)],function(t,r){return e.apply(t,r)})}}function k(e,t,r){return c(e).As(t,r)}function L(e){return f(e,function(e){var t=0,r=u();return W(e,function(i,n,s){var o;E(n)&&"fulfilled"===(o=n.Is()).state?e[s]=o.value:(++t,f(n,function(i){e[s]=i,0==--t&&r.resolve(e)},r.reject,function(e){r.notify({index:s,value:e})}))},void 0),0===t&&r.resolve(e),r.Ss})}function M(e){if(0===e.length)return c.resolve();var t=c.defer(),r=0;return W(e,function(i,n,s){function o(e){t.resolve(e)}function a(e){0===--r&&(e.message="Q can't get fulfillment value from any promise, all promises were rejected. Last error message: "+e.message,t.reject(e))}function h(e){t.notify({index:s,value:e})}var c=e[s];r++,f(c,o,a,h)},void 0),t.Ss}function F(e){return f(e,function(e){return e=J(e,c),f(L(J(e,function(e){return f(e,j,j)})),function(){return e})})}function U(e){return c(e).Os()}function B(e,t){return c(e).then(void 0,void 0,t)}function H(e,t){return c(e).Ns(t)}var x=!1;try{throw new Error}catch(e){x=!!e.stack}var q,G,V=h(),j=function(){},Q=function(){function e(){for(var e,i;r.next;)r=r.next,e=r.Ds,r.Ds=void 0,i=r.domain,i&&(r.domain=void 0,i.ks()),t(e,i);for(;h.length;)e=h.pop(),t(e);n=!1}function t(t,r){try{t()}catch(t){if(o)throw r&&r.Ls(),setTimeout(e,0),r&&r.ks(),t;setTimeout(function(){throw t},0)}r&&r.Ls()}var r={Ds:void 0,next:null},i=r,n=!1,s=void 0,o=!1,a=!1;try{a=navigator&&("Microsoft Internet Explorer"===navigator.appName||null!=navigator.appVersion.match(/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i))}catch(e){}var h=[];if(Q=function(e){"undefined"!=typeof Framework&&Framework.C()?Framework.setTimeout(e,0):(i=i.next={Ds:e,domain:o&&process.domain,next:null},n||(n=!0,s()))},"object"==typeof process&&process&&"[object process]"===process.toString()&&process.Ts)o=!0,s=function(){process.Ts(e)};else if("function"!=typeof setImmediate||a)if("undefined"==typeof MessageChannel||a)s=function(){setTimeout(e,0)};else{var c=new MessageChannel;c.port1.onmessage=function(){s=u,c.port1.onmessage=e,e()};var u=function(){c.port2.postMessage(0)};s=function(){setTimeout(e,0),u()}}else s="undefined"!=typeof window?setImmediate.bind(window,e):function(){setImmediate(e)};return Q.bs=function(e){h.push(e),n||(n=!0,s())},Q}(),K=Function.call,Y=e(Array.prototype.slice),W=e(Array.prototype.reduce||function(e,t){var r=0,i=this.length;if(1===arguments.length)for(;;){if(r in this){t=this[r++];break}if(++r>=i)throw new TypeError}for(;r<i;r++)r in this&&(t=e(t,this[r],r));return t}),z=e(Array.prototype.indexOf||function(e){for(var t=0;t<this.length;t++)if(this[t]===e)return t;return-1}),J=e(Array.prototype.map||function(e,t){var r=this,i=[];return W(r,function(n,s,o){i.push(e.call(t,s,o,r))},void 0),i}),X=Object.create||function(e){function t(){}return t.prototype=e,new t},Z=e(Object.prototype.hasOwnProperty),$=Object.keys||function(e){var t=[];for(var r in e)Z(e,r)&&t.push(r);return t},ee=e(Object.prototype.toString);G="undefined"!=typeof ReturnValue?ReturnValue:function(e){this.value=e};var te="From previous event:";c.resolve=c,c.Ts=Q,c.ys=!1,"object"==typeof process&&process&&process.Ms&&process.Ms.Fs&&(c.ys=!0),c.defer=u,u.prototype.Us=function(){var e=this;return function(t,r){t?e.reject(t):arguments.length>2?e.resolve(Y(arguments,1)):e.resolve(r)}},c.Promise=l,c.Ss=l,l.race=p,l.all=L,l.reject=w,l.resolve=c,c.Bs=function(e){return e},d.prototype.Bs=function(){return this},c.join=function(e,t){return c(e).join(t)},d.prototype.join=function(e){return c([this,e]).Ps(function(e,t){if(e===t)return e;throw new Error("Q can't join: not the same: "+e+" "+t)})},c.race=p,d.prototype.race=function(){return this.then(c.race)},c.Hs=d,d.prototype.toString=function(){return"[object Promise]"},d.prototype.then=function(e,t,r){function n(t){try{return"function"==typeof e?e(t):t}catch(e){return w(e)}}function s(e){if("function"==typeof t){i(e,a);try{return t(e)}catch(e){return w(e)}}return w(e)}function o(e){return"function"==typeof r?r(e):e}var a=this,h=u(),l=!1;return c.Ts(function(){a.ms(function(e){l||(l=!0,h.resolve(n(e)))},"when",[function(e){l||(l=!0,h.resolve(s(e)))}])}),a.ms(void 0,"when",[void 0,function(e){var t,r=!1;try{t=o(e)}catch(e){if(r=!0,!c.onerror)throw e;c.onerror(e)}r||h.notify(t)}]),h.Ss},c.xs=function(e,t){return c(e).xs(t)},d.prototype.xs=function(e){return e=c(e),this.then(function(t){return e.Gs(t).qs(t)})},c.when=f,d.prototype.qs=function(e){return this.then(function(){return e})},c.qs=function(e,t){return c(e).qs(t)},d.prototype.Vs=function(e){return this.then(function(){throw e})},c.Vs=function(e,t){return c(e).Vs(t)},c.js=g,c.Qs=E,c.Ks=v,c.Ys=y,d.prototype.Ys=function(){return"pending"===this.Is().state},c.Ws=T,d.prototype.Ws=function(){return"fulfilled"===this.Is().state},c.zs=m,d.prototype.zs=function(){return"rejected"===this.Is().state};var re=[],ie=[],ne=[],se=!0;c.Js=I,c.Xs=function(){return re.slice()},c.Zs=function(){I(),se=!1},I(),c.reject=w,c.Rs=b,c.$s=_,c.Ps=P,d.prototype.Ps=function(e,t){return this.all().then(function(t){return e.apply(void 0,t)},t)},c.async=A,c.eo=O,c.to=N,c.ro=D,c.As=k,d.prototype.As=function(e,t){var r=this,i=u();return c.Ts(function(){r.ms(i.resolve,e,t)}),i.Ss},c.get=function(e,t){return c(e).As("get",[t])},d.prototype.get=function(e){return this.As("get",[e])},c.set=function(e,t,r){return c(e).As("set",[t,r])},d.prototype.set=function(e,t){return this.As("set",[e,t])},c.io=c.delete=function(e,t){return c(e).As("delete",[t])},d.prototype.io=d.prototype.delete=function(e){return this.As("delete",[e])},c.no=c.Cs=function(e,t,r){return c(e).As("post",[t,r])},d.prototype.no=d.prototype.Cs=function(e,t){return this.As("post",[e,t])},c.send=c.so=c.oo=function(e,t){return c(e).As("post",[t,Y(arguments,2)])},d.prototype.send=d.prototype.so=d.prototype.oo=function(e){return this.As("post",[e,Y(arguments,1)])},c.ao=function(e,t){return c(e).As("apply",[void 0,t])},d.prototype.ao=function(e){return this.As("apply",[void 0,e])},c.ho=c.Gs=function(e){return c(e).As("apply",[void 0,Y(arguments,1)])},d.prototype.Gs=function(){return this.As("apply",[void 0,Y(arguments)])},c.co=function(e){var t=c(e),r=Y(arguments,1);return function(){return t.As("apply",[this,r.concat(Y(arguments))])}},d.prototype.co=function(){var e=this,t=Y(arguments);return function(){return e.As("apply",[this,t.concat(Y(arguments))])}},c.keys=function(e){return c(e).As("keys",[])},d.prototype.keys=function(){return this.As("keys",[])},c.all=L,d.prototype.all=function(){return L(this)},c.uo=M,d.prototype.uo=function(){return M(this)},c.lo=function(e,t,r){return function(){return"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t+" is deprecated, use "+r+" instead.",new Error("").stack),e.apply(e,arguments)}}(F,"allResolved","allSettled"),d.prototype.lo=function(){return F(this)},c.Os=U,d.prototype.Os=function(){return this.then(function(e){return L(J(e,function(e){function t(){return e.Is()}return e=c(e),e.then(t,t)}))})},c.fail=c.catch=function(e,t){return c(e).then(void 0,t)},d.prototype.fail=d.prototype.catch=function(e){return this.then(void 0,e)},c.progress=B,d.prototype.progress=function(e){return this.then(void 0,void 0,e)},c.po=c.finally=function(e,t){return c(e).finally(t)},d.prototype.po=d.prototype.finally=function(e){if(!e||"function"!=typeof e.apply)throw new Error("Q can't apply finally callback");return e=c(e),this.then(function(t){return e.Gs().then(function(){return t})},function(t){return e.Gs().then(function(){throw t})})},c.done=function(e,t,r,i){return c(e).done(t,r,i)},d.prototype.done=function(e,t,r){var n=function(e){c.Ts(function(){if(i(e,s),!c.onerror)throw e;c.onerror(e)})},s=e||t||r?this.then(e,t,r):this;"object"==typeof process&&process&&process.domain&&(n=process.domain.bind(n)),s.then(void 0,n)},c.timeout=function(e,t,r){return c(e).timeout(t,r)},d.prototype.timeout=function(e,t){var r=u(),i=setTimeout(function(){t&&"string"!=typeof t||(t=new Error(t||"Timed out after "+e+" ms"),t.code="ETIMEDOUT"),r.reject(t)},e);return this.then(function(e){clearTimeout(i),r.resolve(e)},function(e){clearTimeout(i),r.reject(e)},r.notify),r.Ss},c.delay=function(e,t){return void 0===t&&(t=e,e=void 0),c(e).delay(t)},d.prototype.delay=function(e){return this.then(function(t){var r=u();return setTimeout(function(){r.resolve(t)},e),r.Ss})},c.do=function(e,t){return c(e).do(t)},d.prototype.do=function(e){var t=u(),r=Y(e);return r.push(t.Us()),this.ao(r).fail(t.reject),t.Ss},c.fo=function(e){var t=Y(arguments,1);return c(e).do(t)},d.prototype.fo=function(){var e=Y(arguments),t=u();return e.push(t.Us()),this.ao(e).fail(t.reject),t.Ss},c.Eo=c.vo=function(e){if(void 0===e)throw new Error("Q can't wrap an undefined function");var t=Y(arguments,1);return function(){var r=t.concat(Y(arguments)),i=u();return r.push(i.Us()),c(e).ao(r).fail(i.reject),i.Ss}},d.prototype.Eo=d.prototype.vo=function(){var e=Y(arguments);return e.unshift(this),c.vo.apply(void 0,e)},c.yo=function(e,t){var r=Y(arguments,2);return function(){function i(){return e.apply(t,arguments)}var n=r.concat(Y(arguments)),s=u();return n.push(s.Us()),c(i).ao(n).fail(s.reject),s.Ss}},d.prototype.yo=function(){var e=Y(arguments,0);return e.unshift(this),c.yo.apply(void 0,e)},c.To=c.mo=function(e,t,r){return c(e).mo(t,r)},d.prototype.To=d.prototype.mo=function(e,t){var r=Y(t||[]),i=u();return r.push(i.Us()),this.As("post",[e,r]).fail(i.reject),i.Ss},c.Io=c.So=c.Ro=function(e,t){var r=Y(arguments,2),i=u();return r.push(i.Us()),c(e).As("post",[t,r]).fail(i.reject),i.Ss},d.prototype.Io=d.prototype.So=d.prototype.Ro=function(e){var t=Y(arguments,1),r=u();return t.push(r.Us()),this.As("post",[e,t]).fail(r.reject),r.Ss},c.Ns=H,d.prototype.Ns=function(e){if(!e)return this;this.then(function(t){c.Ts(function(){e(null,t)})},function(t){c.Ts(function(){e(t)})})},c.wo=function(){throw new Error("Q.noConflict only works when Q is used as a global")};var oe=h();return c})},function(e,t,r){"use strict";var i=r(6),n=i.he.bo;!function(e){var t=function(){function e(){}return e}();t.Co=5e3,t._o=6,t.Po=1e4,t.Ao=.2,t.Oo=10,e.No=t;var r=function(){function e(){}return e}();r.Do="0.0.1",r.ko=3e4,r.Lo=4e7,r.Mo=1,r.Fo=.8,r.Uo=!1,r.Bo=2e4,e.Ho=r;var i=function(){function e(){}return e}();i.xo=!0,i.qo=3,i.Go=1e4,e.Vo=i;var s=function(){function e(){}return e}();s.jo=1.1,e.Qo=s;var o=function(){function e(){}return e}();o.Ko=n,o.Yo=2e4,o.Wo=5e3,e.zo=o;var a=function(){function e(){}return e}();a.Jo=[412],e.Xo=a;var h=function(){function e(){}return e}();h.Zo=2e3,h.$o=!0,h.ea=!1,h.ta=1,h.ra=.02,h.ia=!0,h.na=!1,h.sa=!1,h.oa=1e4,h.aa=4e4,h.ha=3700,h.ca=2e4,h.ua=1,h.la=5,h.pa=.4,h.da=1,e.fa=h;var c=function(){function e(){}return e}();c.ga=30,c.Ea=2e4,c.va=3e4,e.ya=c;var u=function(){function e(){}return e}();u.Ta=3e7,u.ma=3e4,u.Ia=!1,u.Sa=10,e.Ra=u;var l=function(){function e(){}return e}();l.wa=3,l.ba=!1,l.Ca=3e4,l._a=.2,l.Pa=.2,l.Aa=1e4,e.Oa=l;var p=function(){function e(){}return e}();p.Na=!1,e.K=p;var d=function(){function e(){}return e}();d.Da=64e3,d.ka=5e3,d.La=1,d.Ma=1,e.Fa=d;var f=function(){function e(){}return e}();f.Ua=4e3,f.Ba=3e4,f.Ha=4096,f.xa=!0,f.qa=5e3,f.Ga=1e4,e.UDPBroadcast=f;var g=function(){function e(){}return e}();g.Va=100,g.ja=1e3,e.Qa=g;var E=function(){function e(){}return e}();E.Ka=20,E.Ya=20,E.Wa=20,E.za=5,e.Ja=E;var v=function(){function e(){}return e}();v.Xa="site",v.Za="externalAs",v.$a="availableSendRate",v.eh="remoteAddress",v.th="localAddress",v.rh=2e4,e.ih=v;var y=function(){function e(){}return e}();y.nh=3e4,e.sh=y;var T=function(){function e(){}return e}();T.oh=300,e.ah=T}(t.hh||(t.hh={}))},function(e,t,r){"use strict";var i=function(){function e(){}return e}();i.uh=!1,i.lh=!0,i.ph=!1,i.dh="4.1.0",i.fh="undefined"!=typeof core?core:"undefined",i.gh=!1,i.Eh=!0,i.vh="undefined"!=typeof INCLUDE_VOD_CACHE&&INCLUDE_VOD_CACHE,i.yh="undefined"!=typeof INCLUDE_UDP_BROADCAST&&INCLUDE_UDP_BROADCAST,i.Th="undefined"!=typeof INCLUDE_UDP_LEADER_ELECTION&&INCLUDE_UDP_LEADER_ELECTION,i.mh="undefined"!=typeof LEADER_SCORE_EQUALITY&&LEADER_SCORE_EQUALITY,i.Ih="undefined"!=typeof INCLUDE_DEFAULT_NETWORK&&INCLUDE_DEFAULT_NETWORK,i.Sh="undefined"!=typeof HIVE_RESTRICTED_CONNINFO&&HIVE_RESTRICTED_CONNINFO,i.bo="undefined"!=typeof HIVE_DISCOVERY?HIVE_DISCOVERY:"ws://127.0.0.1:8000/hive",i.Rh="undefined"!=typeof P2PDispatcherDetailedLog&&P2PDispatcherDetailedLog,i.wh="undefined"!=typeof NetworkManagerDetailedLog&&NetworkManagerDetailedLog,i.ae="undefined"!=typeof ATATUS_KEY?ATATUS_KEY:"592835a6b4204dd197c00488610003e0",i.ce="undefined"!=typeof ATATUS_VERSION?ATATUS_VERSION:"0.8",i.ue="undefined"==typeof ATATUS_DEFAULT_ENABLED||ATATUS_DEFAULT_ENABLED,i.le=5,i.bh="undefined"!=typeof HIVE_PLUGIN_TIMEOUT?HIVE_PLUGIN_TIMEOUT:-1,i.Ch="undefined"==typeof HIVE_DETECT_PRIVATEIP||HIVE_DETECT_PRIVATEIP,i._h=!0,t.he=i},function(e,t,r){"use strict";var i=r(0),n=r(43),s=r(30);!function(e){function t(e,t){return t?e+"-"+t:e}function r(e,t){var r=new Uint8Array(e.byteLength+t.byteLength);return r.set(new Uint8Array(e),0),r.set(new Uint8Array(t),e.byteLength),r.buffer}function o(e){var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e),0),t.buffer}function a(e,t,r){void 0===r&&(r=!0);for(var i=0;i<e.length;)if(e[i]===t){if(e.splice(i,1),r)break}else i++}function h(e){return String.fromCharCode.apply(null,new Uint16Array(e))}function c(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)"),r=t.exec(location.search);return null==r?"":decodeURIComponent(r[1].replace(/\+/g," "))}function u(e){for(var t=e.length-1;t>0;t--){var r=Math.floor(i.Framework.random()*(t+1)),n=e[t];e[t]=e[r],e[r]=n}return e}function l(e){var t=new Array;for(var r in e)e.hasOwnProperty(r)&&!/^\d+$/.test(r)&&t.push(r);return t}function p(e){return Object.keys(e).map(function(e){return parseInt(e,10)}).filter(function(e){return!isNaN(e)})}function d(e,t){return e[t]?e[t]:null}function f(e,t){return new s(t).Ph(e).toString()}function g(e){return 0==e.length?0:e.reduce(function(e,t){return e+t})/e.length}function E(e){for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),i=0,n=e.length;i<n;i++)r[i]=e.charCodeAt(i);return t}function v(e,t,r,i){var n=new e(t,r),s=i||r.currentTarget;return s&&Object.defineProperties(n,{currentTarget:{value:s,p:!0,Ah:!1},target:{value:s,p:!0,Ah:!1}}),n}e.Oh=new n.Counter;var y=function(){function e(){this.ALPHA=.25,this.Nh=1e8,this.Dh=1e4}return e.prototype.kh=function(){return void 0!==this.Lh},e.prototype.Mh=function(e,t){return this.Lh=Math.min(this.Nh,t/e*8e3),this},e.prototype.Fh=function(e){return this.Lh=Math.max(this.Nh,e),this},e.prototype.Uh=function(e){e.kh()&&(this.kh()?this.Lh=this.Lh*(1-this.ALPHA)+e.Lh*this.ALPHA:this.Lh=e.Lh)},e.prototype.Bh=function(e){return this.kh()?Math.round(8e3*e/this.Lh):NaN},e.prototype.Hh=function(){return this.kh()?this.Lh:NaN},e.prototype.xh=function(){return this.kh()?this.Lh/1e3:NaN},e.prototype.qh=function(){return this.kh()?this.Lh/1e6:NaN},e.prototype.Gh=function(){return this.kh()?this.Lh>1e6?(this.Lh/1e6).toFixed(2)+"Mb/s":this.Lh>1e3?(this.Lh/1e3).toFixed(2)+"Kb/s":this.Lh+"b/s":"NaN"},e}();e.Vh=y,e.jh=t,e.appendBuffer=r,e.Qh=o,e.Kh=a,e.Yh=h,e.Wh=c,e.zh=u,e.Jh=l,e.Xh=p,e.Zh=d,e.$h=f,e.ec=g,e.tc=E,e.createEvent=v}(t.rc||(t.rc={}))},function(e,t,r){"use strict";!function(e){e.ic="statsClient",e.G="servicesClient",e.nc="ticketResolver",e.M="identityProvider",e.sc="connInfoProvider",e.oc="peerInfo",e.ac="streamInfoProvider",e.hc="reporting",e.cc="statsStore",e.uc="trackManager",e.lc="trackClient"}(t.pc||(t.pc={}))},function(e,t,r){"use strict";!function(e){e[e.dc=0]="AUDIO",e[e.fc=1]="VIDEO",e[e.gc=2]="METADATA",e[e.Ec=3]="OTHER"}(t.vc||(t.vc={}))},function(e,t,r){"use strict";r(60);!function(e){e[e.yc=0]="TRACKER",e[e.W=1]="UDP"}(t.Tc||(t.Tc={}));!function(e){e[e.mc=1]="PLAYER",e[e.Ic=2]="P2P_AGENT",e[e.Sc=3]="PREFETCHER_FIRST_TIER",e[e.Rc=4]="PREFETCHER_SECOND_TIER"}(t.wc||(t.wc={}));var i=function(){function e(){}return e}();t.TrackerPeerStreamInfo=i;var n=function(){function e(e,t,r){this.isLeader=r,this.internalAs=0,this.externalAs=0,this.type=e,r||(this.isLeader=!1),t&&(this.guid=t.guid,this.internalAs=t.internalAs,this.externalAs=t.externalAs,this.nat=t.nat,this.bandwidth=t.bandwidth,this.watchingBitrate=t.watchingBitrate,this.streams=t.streams,this.rankValue=t.rankValue,this.timestamp=t.timestamp,this.privateIpString=t.privateIpString,this.publicIpString=t.publicIpString)}return e}();t.bc=n},function(e,t,r){r(65),r(36),r(66),r(100)},function(e,t,r){"use strict";function i(){throw new Error("Can't construct. GenericCollection is a mixin.")}e.i=i,i.Cc=Object.freeze([]),i.prototype.addEach=function(e){if(e&&Object(e)===e)if("function"==typeof e.forEach)e.forEach(this.add,this);else if("number"==typeof e.length)for(var t=0;t<e.length;t++)this.add(e[t],t);else Object.keys(e).forEach(function(t){this.add(e[t],t)},this);else if(e&&"number"==typeof e.length)for(var t=0;t<e.length;t++)this.add(e[t],t);return this},i.prototype._c=function(e,t){return e.forEach(function(e){this.delete(e,t)},this),this},i.prototype.forEach=function(e){var t=arguments[1];return this.reduce(function(r,i,n,s,o){e.call(t,i,n,s,o)},void 0)},i.prototype.map=function(e){var t=arguments[1],r=[];return this.reduce(function(i,n,s,o,a){r.push(e.call(t,n,s,o,a))},void 0),r},i.prototype.enumerate=function(e){null==e&&(e=0);var t=[];return this.reduce(function(r,i){t.push([e++,i])},void 0),t},i.prototype.group=function(e,t,r){r=r||Object.cs;var i=[],n=[];return this.forEach(function(s,o,a){var h,o=e.call(t,s,o,a),c=n.indexOf(o,r);-1===c?(h=[],i.push([o,h]),n.push(o)):h=i[c][1],h.push(s)}),i},i.prototype.toArray=function(){return this.map(Function.identity)},i.prototype.Pc=function(){var e={};return this.reduce(function(t,r,i){e[i]=r},void 0),e},i.prototype.filter=function(e){var t=arguments[1],r=this.Es();return this.reduce(function(i,n,s,o,a){e.call(t,n,s,o,a)&&r.add(n,s)},void 0),r},i.prototype.every=function(e){var t=arguments[1];return this.reduce(function(r,i,n,s,o){return r&&e.call(t,i,n,s,o)},!0)},i.prototype.some=function(e){var t=arguments[1];return this.reduce(function(r,i,n,s,o){return r||e.call(t,i,n,s,o)},!1)},i.prototype.all=function(){return this.every(Boolean)},i.prototype.uo=function(){return this.some(Boolean)},i.prototype.min=function(e){e=e||this.Ac||Object.Oc;var t=!0;return this.reduce(function(r,i){return t?(t=!1,i):e(i,r)<0?i:r},void 0)},i.prototype.max=function(e){e=e||this.Ac||Object.Oc;var t=!0;return this.reduce(function(r,i){return t?(t=!1,i):e(i,r)>0?i:r},void 0)},i.prototype.Nc=function(e){return e=void 0===e?0:e,this.reduce(function(e,t){return e+t},e)},i.prototype.Dc=function(e){var t=void 0===e?0:e,r=void 0===e?0:e;return this.reduce(function(e,i){t+=i,r+=1},void 0),t/r},i.prototype.concat=function(){for(var e=this.Es(this),t=0;t<arguments.length;t++)e.addEach(arguments[t]);return e},i.prototype.kc=function(){var e=this;return this.reduce(function(t,r){return r.forEach(function(e){this.push(e)},t,e),t},[])},i.prototype.Lc=function(){var e=Array.prototype.slice.call(arguments);return e.unshift(this),Array.Mc(e)},i.prototype.join=function(e){return this.reduce(function(t,r){return void 0===t?r:t+e+r},void 0)},i.prototype.Fc=function(e,t,r){return e=e||this.Ac||Object.Oc,e.Uc?(t=e.Uc,e=e.Oc||this.Ac||Object.Oc):t=t||Function.identity,void 0===r&&(r=1),this.map(function(e){return{Uc:t(e),value:e}}).sort(function(t,i){return e(t.Uc,i.Uc)*r}).map(function(e){return e.value})},i.prototype.reversed=function(){return this.Es(this).reverse()},i.prototype.clone=function(e,t){if(void 0===e)e=1/0;else if(0===e)return this;var r=this.Es();return this.forEach(function(i,n){r.add(Object.clone(i,e-1,t),n)},this),r},i.prototype.only=function(){if(1===this.length)return this.Bc()},i.prototype.iterator=function(){return this.Hc.apply(this,arguments)},i.gs={get:function(){return this.length},p:!1,l:!0},Object.defineProperty(i.prototype,"size",i.gs),r(65)},function(e,t,r){function i(){throw new Error("This is an abstract models. Mix it. Don't construct it")}function n(e,t,r,i){var n,s,o,a=e.active,h=e.xc,c=h.length,u=c;for(a.length>c&&(a.length=c);c--;)a[c]=h[c];for(s=0;s<u;s++)if(o=a[s],!s||h.indexOf(o)>=0){if(n=o[e.qc]||o[e.Gc]||o,!n.call)throw new Error("No event listener for "+e.Vc+" or "+e.jc+" or call on "+n);n.call(o,r,t,i)}}r(11);var s=Object.prototype.hasOwnProperty;e.i=i,i.debug=!0,i.prototype.Qc=function(e){this.Kc||Object.defineProperty(this,"__propertyChangeListeners__",{value:{},p:!1,l:!0,Ah:!0});var t=this.Kc;if(!s.call(t,e)){var r=String(e);r=r&&r[0].toUpperCase()+r.slice(1),t[e]={Yc:{xc:[],active:[],qc:"handle"+r+"WillChange",Gc:"handlePropertyWillChange"},Wc:{xc:[],active:[],qc:"handle"+r+"Change",Gc:"handlePropertyChange"}}}return t[e]},i.prototype.zc=function(e){if(!this.Kc)return!1;if(!e)return!0;var t=this.Kc;return!!s.call(t,e)},i.prototype.Jc=function(e,t,r){this.Xc&&!this.Zc&&this.Xc();var n,s=i.Qc(this,e);n=r?s.Yc:s.Wc,i.$c(this,e),n.xc.push(t);var o=this;return function(){i.eu(o,e,t,r),o=null}},i.prototype.tu=function(e,t){return i.Jc(this,e,t,!0)},i.prototype.eu=function(e,t,r){var n,s=i.Qc(this,e);n=r?s.Yc:s.Wc;var o=n.xc.lastIndexOf(t);if(-1===o)throw new Error("Can't remove property change listener: does not exist: property name"+JSON.stringify(e));n.xc.splice(o,1)},i.prototype.ru=function(e,t){return i.eu(this,e,t,!0)},i.prototype.iu=function(e,t,r){var s,o=i.Qc(this,e);if(!o.isActive){o.isActive=!0,s=r?o.Yc:o.Wc;try{n(s,e,t,this)}finally{o.isActive=!1}}},i.prototype.nu=function(e,t){return i.iu(this,e,t,!0)},i.prototype.$c=function(e){var t=this.su;if(t){if(s.call(t,e))return}else{if(Array.isArray(this))return;if(!Object.isExtensible(this))throw new Error("Can't make property "+JSON.stringify(e)+" observable on "+this+" because object is not extensible");t={},Object.defineProperty(this,"__overriddenPropertyDescriptors__",{value:t,p:!1,Ah:!0,l:!0})}var r;"object"==typeof this.ou?r=this.ou:(r={},Object.defineProperty(this,"__state__",{value:r,Ah:!0,p:!1})),r[e]=this[e];var i,o=this;do{if(i=Object.getOwnPropertyDescriptor(o,e))break;o=Object.getPrototypeOf(o)}while(o);if(i){if(!i.l)return;if(!i.Ah&&!i.set)return}else i={value:void 0,p:!0,Ah:!0,l:!0};t[e]=i;var a;a="value"in i?{get:function(){return i.value},set:function(t){var s,o;if(t!==i.value){if(s=this.Kc[e],!(o=s.isActive)){s.isActive=!0;try{n(s.Yc,e,i.value,this)}finally{}}if(i.value=t,r[e]=t,!o)try{n(s.Wc,e,t,this)}finally{s.isActive=!1}}},p:i.p,l:!0}:{get:i.get,set:function(t){var s,o,a=this[e];if(i.set.call(this,t),(t=this[e])!==a){if(s=this.Kc[e],!(o=s.isActive)){s.isActive=!0;try{n(s.Yc,e,a,this)}finally{}}if(r[e]=t,!o)try{n(s.Wc,e,t,this)}finally{s.isActive=!1}}},p:i.p,l:!0},Object.defineProperty(this,e,a)},i.Qc=function(e,t){return e.Qc?e.Qc(t):i.prototype.Qc.call(e,t)},i.zc=function(e,t){return e.zc?e.zc(t):i.prototype.zc.call(e,t)},i.Jc=function(e,t,r,n){if(Object.au(e))return e.Jc?e.Jc(t,r,n):i.prototype.Jc.call(e,t,r,n)},i.eu=function(e,t,r,n){if(Object.au(e))return e.eu?e.eu(t,r,n):i.prototype.eu.call(e,t,r,n)},i.iu=function(e,t,r,n){if(Object.au(e))return e.iu?e.iu(t,r,n):i.prototype.iu.call(e,t,r,n)},i.tu=function(e,t,r){return i.Jc(e,t,r,!0)},i.ru=function(e,t,r){return i.eu(e,t,r,!0)},i.nu=function(e,t,r){return i.iu(e,t,r,!0)},i.$c=function(e,t){return e.$c?e.$c(t):i.prototype.$c.call(e,t)}},function(e,t,r){"use strict";var i,n=this&&this.hu||function(e,t){function r(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},s=r(41),o=r(6),a=o.he.Sh,h=o.he.Ch;!function(e){var t=function(){function e(){}return e}();t.DashFilterBitrates=null,t.DashRemoveBitrateSize=!1,e.Dash=t;var r=function(){function e(){}return e}();r.AudioAccounting=!0,e.Stats=r;var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t}(s.HiveConfig.DebugLogs);i.TrackerLogs=0,e.DebugLogs=i;var o=function(){function e(){}return e}();o.usiz=null,e.UDPBroadcast=o;var c=function(){function e(){}return e}();c.restrictedConnectivityInfo=a,c.hiddenHostnameValue="[Hidden]",e.SensitiveInfo=c;var u=function(){function e(){}return e}();u.cu=null,u.uu=null,e.ClientInfo=u;var l=function(){function e(){}return e}();l.detectPrivateIP=h,e.ConnInfo=l}(i=t.HiveConfig||(t.HiveConfig={})),"undefined"!=typeof window&&(void 0===window.HiveConfig&&(window.HiveConfig={}),window.HiveConfig.Dash=i.Dash,window.HiveConfig.Stats=i.Stats,window.HiveConfig.UDPBroadcast=i.UDPBroadcast,window.HiveConfig.DebugLogs=i.DebugLogs,window.HiveConfig.SensitiveInfo=i.SensitiveInfo,window.HiveConfig.ClientInfo=i.ClientInfo,window.HiveConfig.ConnInfo=i.ConnInfo)},function(e,t,r){"use strict";!function(e){e.lu="snapAccountingManager",e.pu="membership",e.du="partnership",e.fu="inPartnership",e.gu="outPartnership",e.Eu="inPrefetcherPartnership",e.vu="outPrefetcherPartnership",e.yu="cache",e.Tu="livecache",e.mu="vodcache",e.Iu="objIndex",e.Su="centrFragment",e.Ru="hcache",e.wu="responder",e.bu="requester",e.Cu="p2pRequester",e._u="peer",e.Pu="contextResolver",e.Au="videoPrefetcher",e.Ou="prefetchManager",e.Nu="picker",e.Du="trackerClient",e.ku="scoreUpdater",e.q="serverManager",e.Lu="requestTracker",e.Mu="trackerManager",e.Fu="renderStats",e.Uu="udpBroadcaster",e.Bu="udpDiscovery",e.Th="udpLeaderElection",e.Hu="nodeInfo",e.xu="ipspoofing"}(t.qu||(t.qu={}))},function(e,t){e.i=function(){return new Function}},function(e,t,r){"use strict";var i=!0,n={Gu:function(e){return"boolean"!=typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(i=e,e?"adapter.js logging disabled":"adapter.js logging enabled")},log:function(){if("object"==typeof window){if(i)return;"undefined"!=typeof console&&"function"==typeof console.log&&console.log.apply(console,arguments)}},Vu:function(e,t,r){var i=e.match(t);return i&&i.length>=r&&parseInt(i[r],10)},ju:function(){var e={};if(e.Qu=null,e.version=null,"undefined"==typeof window||!window.navigator)return e.Qu="Not a browser.",e;if(navigator.mozGetUserMedia)e.Qu="firefox",e.version=this.Vu(navigator.userAgent,/Firefox\/(\d+)\./,1);else if(navigator.webkitGetUserMedia)if(window.webkitRTCPeerConnection)e.Qu="chrome",e.version=this.Vu(navigator.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else{if(!navigator.userAgent.match(/Version\/(\d+).(\d+)/))return e.Qu="Unsupported webkit-based browser with GUM support but no WebRTC support.",e;e.Qu="safari",e.version=this.Vu(navigator.userAgent,/AppleWebKit\/(\d+)\./,1)}else if(navigator.mediaDevices&&navigator.userAgent.match(/Edge\/(\d+).(\d+)$/))e.Qu="edge",e.version=this.Vu(navigator.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!navigator.mediaDevices||!navigator.userAgent.match(/AppleWebKit\/(\d+)\./))return e.Qu="Not a supported browser.",e;e.Qu="safari",e.version=this.Vu(navigator.userAgent,/AppleWebKit\/(\d+)\./,1)}return e},Ku:function(){if("object"==typeof window&&window.HTMLMediaElement&&"srcObject"in window.HTMLMediaElement.prototype){var e=URL.createObjectURL.bind(URL),t=URL.revokeObjectURL.bind(URL),r=new Map,i=0;URL.createObjectURL=function(t){if("getTracks"in t){var n="polyblob:"+ ++i;return r.set(n,t),console.log("URL.createObjectURL(stream) is deprecated! Use elem.srcObject = stream instead!"),n}return e(t)},URL.revokeObjectURL=function(e){t(e),r.delete(e)};var n=Object.getOwnPropertyDescriptor(window.HTMLMediaElement.prototype,"src");Object.defineProperty(window.HTMLMediaElement.prototype,"src",{get:function(){return n.get.apply(this)},set:function(e){return this.Yu=r.get(e)||null,n.set.apply(this,[e])}});var s=HTMLMediaElement.prototype.setAttribute;HTMLMediaElement.prototype.setAttribute=function(){return 2===arguments.length&&"src"===(""+arguments[0]).toLowerCase()&&(this.Yu=r.get(arguments[1])||null),s.apply(this,arguments)}}}};e.i={log:n.log,Gu:n.Gu,Wu:n.ju(),Vu:n.Vu,Ku:n.Ku,ju:n.ju.bind(n)}},function(e,t,r){"use strict";function i(e,t,r){return void 0===t&&(t=""),void 0===r&&(r=[]),n(e,t,r,!0)}function n(e,t,r,i){void 0===t&&(t=""),void 0===r&&(r=[]),void 0===i&&(i=!1);for(var s in e)!function(s){if(e.hasOwnProperty(s)){var o=e[s];Array.isArray(o)?o.forEach(function(e,o){"object"==typeof e&&n(e,t+"."+s+"["+o+"]",r,i)}):"object"==typeof o?n(o,t+"."+s,r,i):"number"==typeof o&&isNaN(o)&&(r.push(t+"."+s),i||(e[s]=null))}}(s);return r}function s(e,t,r){var i=new c;return i.ticketUrl=e,i.code=t,i.message=u(t),i.detailedMessage=r,i}var o=r(3),a=r(4),h=r(26),c=h.HiveComm.HiveSessionError,u=h.HiveComm.getHiveSessionErrorMessage,l=h.HiveComm.HiveSession,p=r(53),d=r(72),f=r(14),g=r(6),E=r(1),v=g.he.uh;if(v)var y=r(31).HiveRequest,T=r(54).zu;var m=function(){function e(t){if(!t){if(0==Object.keys(e.mapping).length&&!e.Ju)return E.ErrorMonitor.ve().logError("No registered default HiveRequestFactory tech",e.loggerId),e.Ju=!0,e.getOriginalXhr();t=Object.keys(e.mapping)[0]}if(!(t in e.mapping))return e.Ju||(E.ErrorMonitor.ve().logError("no registered HiveRequestFactory tech for session",{sessionId:t}),e.Ju=!0),e.getOriginalXhr();var r=e.mapping[t];switch(r.tech){case"HiveJS":return v?r.Xu?new y(t):(r.Xu=!0,new T(t)):e.getOriginalXhr();case"HiveJsProxy":return r.Xu?new p.Zu(t):(r.Xu=!0,new d.$u(t));case"HiveJava":case"StatsJS":return e.getOriginalXhr()}}return e.getOriginalXhr=function(){return"undefined"!=typeof OriginalXMLHttpRequest?new OriginalXMLHttpRequest:new XMLHttpRequest},e.clear=function(){e.mapping={}},e.clearSessionState=function(t){if(t in e.mapping){var r=e.mapping[t];for(var i in r)"tech"!==i&&delete r[i]}},e.clearSession=function(t){t in e.mapping&&delete e.mapping[t]},e.registerTech=function(t,r){t in e.mapping||(e.mapping[t]={}),e.mapping[t].tech=r},e}();m.mapping={},m.Ju=!1,m.loggerId="[HiveRequestFactory]",t.HiveRequestFactory=m;var I=function(){function e(e,t,r,i){this.el=!1,this.ticketUrl=e,this.ticket=t,this.manifest=r,this.tl=a.defer(),this.rl=i,this.rl&&this.tl.resolve(this.rl)}return e.prototype.isActive=function(e){return null!==this.tech&&this.tech.isActive(e,this)},e.prototype.il=function(e){this.el!=e&&(this.el=e,this.tech&&this.tech.nl(this,e))},e.prototype.getTechName=function(){return this.tech&&this.tech.getName()||void 0},e.prototype.sl=function(){return this.el},e.prototype.close=function(e,t){if(void 0===t&&(t=!0),this.el=!0,null!=this.tech)return this.tech.ol(this,e,t)},e.prototype.toString=function(){return this.ticket.toString()},e.prototype.toHiveSession=function(){var e=new l;return e.id=this.id,e.ticketUrl=this.ticketUrl,e.manifest=this.manifest,e.tech=this.tech.getName(),e},e.prototype.al=function(){return this.tl.Ss},e.prototype.hl=function(e){this.rl=e,this.tl.resolve(this.rl)},e}();t.cl=I;var S=function(){function e(){}return e}();t.ul=S;var R=function(){function e(){this.success=0,this.ll=0,this.bytes=0}return e}();t.pl=R;var w=function(){function e(){this.dl=0,this.fl=0,this.gl=new o,this.El=new o}return e.prototype.accountCompleted=function(e,t,r,i){void 0===i&&(i=!0);var n=e?this.gl:this.El;n.has(t)||n.set(t,new R);var s=n.get(t);s.bytes+=r,i&&s.success++},e.prototype.accountFailed=function(e,t){var r=e?this.gl:this.El;r.has(t)||r.set(t,new R),r.get(t).ll++},e.prototype.updateBandwidth=function(e){this.bandwidth=e},e.prototype.bitrateSwitchUp=function(){this.dl++},e.prototype.bitrateSwitchDown=function(){this.fl++},e.prototype.getBandwidth=function(){return this.bandwidth},e.prototype.getVideoBitrates=function(){return this.gl},e.prototype.getAudioBitrates=function(){return this.El},e.prototype.getBitrateSwitchUp=function(){return this.dl},e.prototype.getBitrateSwitchDown=function(){return this.fl},e}();t.HivePlayerExtendedStats=w;var b=function(){function e(){var t=this;if(e.fe)throw new Error("Error: Instantiation failed: Use VisibilityChangeListener.getInstance() instead of new.");var r,i;void 0!==document.hidden?(r="hidden",i="visibilitychange"):void 0!==document.msHidden?(r="msHidden",i="msvisibilitychange"):void 0!==document.webkitHidden&&(r="webkitHidden",i="webkitvisibilitychange"),void 0!==document.addEventListener&&void 0!==document[r]?document.addEventListener(i,function(){var e=!document[r];t.vl.forEach(function(r){r.call(t,e)})},!1):e.logger&&e.logger.debug("warn - visibilityChange listener not supported"),this.vl=new Array}return e.ve=function(t){return t&&(this.logger=t),void 0===this.fe&&(this.fe=new e),this.fe},e.prototype.yl=function(e){this.vl.push(e)},e}();t.Tl=b,t.ml=i,t.Il=n,t.Sl=s;var C=function(){function e(){}return e.getItem=function(e){try{return window.sessionStorage?window.sessionStorage.getItem(e):null}catch(e){return null}},e.setItem=function(e,t){try{return!!window.sessionStorage&&(window.sessionStorage.setItem(e,t),!0)}catch(e){return!1}},e.removeItem=function(e){try{window.sessionStorage&&window.sessionStorage.removeItem(e)}catch(e){return null}},e}();t.Rl=C;var _=function(){function e(e){this.wl=e}return e.prototype.bl=function(e){var t=Date.now();return this.isEqual(this.Cl,e)||(this._l=t),this.Cl=e,t-this._l>=this.wl},e.prototype.isEqual=function(e,t){if(e&&t){return[t.Pl-e.Pl,t.Al-e.Al,t.Ol-e.Ol].reduce(function(e,t){return e&&Math.abs(t)<10},!0)}return!1},e}();t.Nl=_;var P=function(){function e(){}return e.getPrivateIp=function(e){var t=e.getPrivateIp();return f.HiveConfig.SensitiveInfo.restrictedConnectivityInfo&&t&&(t=t.replace(/[0-9]*$/,"0")),t},e.Dl=function(e){return f.HiveConfig.SensitiveInfo.restrictedConnectivityInfo?f.HiveConfig.SensitiveInfo.hiddenHostnameValue:e.getHostName()},e}();t.kl=P},function(e,t,r){"use strict";var i=r(3),n=r(4),s=r(0),o=r(22),a=r(8),h=r(32);!function(e){e[e.STOP=0]="STOP",e[e.IDLE=1]="IDLE",e[e.Ll=2]="PLAY"}(t.Ml||(t.Ml={}));var c=function(){function e(e,t,r,i){this.ticket=e,this.Fl=t,this.app=r,this.identity=i,this.Ul=s.Framework.resolve(a.pc.cc),this.Bl=s.Framework.resolve(a.pc.ic),this.Hl=s.Framework.resolve(a.pc.uc),this.xl=new o.Gl.ql(this.Hl)}return e.prototype.Vl=function(e,t,r){this.app=new u(e,t),this.Ul.Vl(this.app),this.Hl.Vl(this.app,r)},e.prototype.nl=function(e){this.Bl.nl(e)},e.prototype.jl=function(){return this.renderStatsCallback},e.prototype.Ql=function(e){this.renderStatsCallback=e},e}();t.Kl=c;var u=function(){function e(e,t){this.app=e,this.version=t}return e}();t.Yl=u;var l=function(){function e(){this.p2pId=null,this.Wl=null,this.zl=new i,this.logger=s.Framework.resolve(s.Framework.V.R).log(),this.logger.debug("INIT REPORTING"),this.Fl=s.Framework.resolve(a.pc.G),this.Jl=s.Framework.resolve(a.pc.M),this.Xl=s.Framework.resolve(a.pc.nc)}return e.prototype.initSession=function(e,t,r){var i=this,s=n.defer(),o=this.Jl.Zl(),a=this.Xl.$l(e);return null!=r&&(a.testId=r),null!=a?o.then(function(e){return i.ep(e,a,s,t)}).fail(s.reject):s.reject("Ticket URL not valid"),s.Ss},e.prototype.close=function(e){e?(this.zl.delete(e),0==this.zl.length&&this.Fl.close()):(this.zl.clear(),this.Fl.close())},e.prototype.ep=function(e,t,r,i){var n=this;this.p2pId=e.tp(),this.Wl=e.rp();var s=this.Fl.init(this.p2pId,t),o=this.Xl.resolve(s.np,t,i);s.Ss.then(function(t){o.then(function(t){var i=t.sessionId;if(n.zl.has(i)){var s=n.zl.get(i);n.logger.warn("SESSION ALREADY EXISTING "+s.Ul.ticket)}else{var o=new u(h.Hive.sp(),h.Hive.getVersion()),a=new c(t,n.Fl,o,e);a.Ul.init(n.Wl,t,o,i),a.Hl.init(n.Wl,o),a.Hl.op(t),n.zl.set(i,a),n.logger.debug("SESSION SET ",i),r.resolve(a)}}).fail(function(e){return r.reject(e||"Error resolving the ticket")}),t.onerror(function(e){r.reject("Error establishing connection to Hive Services")})}).fail(function(e){return r.reject(e)}),this.Fl.connect()},e.prototype.ap=function(e,t){return e.hp()===t.hp()&&e.cp()===t.cp()&&e.up()===t.up()},e}();t.lp=l},function(e,t,r){"use strict";var i=r(41),n=r(29),s=r(42),o=r(6);o.he.lh,o.he.uh,o.he.ph;if(void 0===a)var a=3e4;!function(e){!function(e){var t=function(){function e(){this.monitorPort=n.L.pp?s.fp.dp:s.fp.gp,this.playerPort=n.L.pp?s.fp.Ep:s.fp.vp,this.feedbackPeriod=2e3,this.idleTimePeriod=6e4,this.useSessionCheck=n.L.yp,this.debugLevel="notice",this.hiveTechOrder=[],this.telemetryId=null,this.silent=!1,this.loggerTimestamp=i.HiveConfig.Framework.LoggerTimestamp,this.testId=null,this.pluginTimeout=a,this.onSourceSetCompleted=function(e){},this.onLoadingCompleted=function(e){},this.detectPrivateIP=o.he.Ch,this.onActiveSession=function(e){}}return e}();e.Options=t;var r=function(){function e(){this.initTimeout=3e4,this.onError=function(e){return!0},this.onActiveSession=function(e){}}return e}();e.Tp=r;var h=function(){function e(){this.hivePlayerPort="playerPort",this.hiveMonitorPort="monitorPort",this.hiveSilent="silent",this.hiveDebugLevel="debugLevel",this.hiveDebugTimestamp="loggerTimestamp",this.hiveSetupTimeout="setupTimeout",this.hiveJavaTimeout="initTimeout",this.hiveWarnJavaTimeout="warnSlowRespTimeout",this.hiveTestId="testId",this.hiveDetectPrivateIP="detectPrivateIP"}return e}();e.mp=h}(e.Options||(e.Options={}))}(t.HiveComm||(t.HiveComm={}));var h;!function(e){var t=function(){function e(){}return e}();t.enabledRUM=!1,t.enableKeyCombination=!0,t.enabledErrorFilter=!0,e.ErrorMonitor=t}(h=t.HiveConfig||(t.HiveConfig={})),"undefined"!=typeof window&&(void 0===window.HiveConfig&&(window.HiveConfig={}),window.HiveConfig.ErrorMonitor=h.ErrorMonitor)},function(e,t,r){"use strict";function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=e[0],i=1;i<e.length;i++){var n=new RegExp("\\{"+(i-1)+"\\}","gm");r=r.replace(n,e[i])}return r}function n(e,t){for(var r in e)e.hasOwnProperty(r)&&t.hasOwnProperty(r)&&(t[r]=e[r])}function s(e,t,r){var i=new d(e).query(!0);for(var n in i)try{if(i.hasOwnProperty(n)&&t.hasOwnProperty(n)&&r.hasOwnProperty(t[n])){var s=t[n],a=i[n];r[s]=o(a,r[s])}}catch(e){}}function o(e,t){var r;switch(typeof t){case"number":r=parseInt(e);break;case"boolean":r="true"===e;break;default:r=e}return r}function a(e,t){function r(){if(!e())return i.resolve(!0);p.when(t(),r,i.reject)}var i=p.defer();return p.Ts(r),i.Ss}function h(e,t,r,i){return void 0===r&&(r=!0),void 0===i&&(i={}),c("GET",e,t,r,i)}function c(e,t,r,i,n){void 0===i&&(i=!0),void 0===n&&(n={});var s=p.defer();try{var o=new XMLHttpRequest;if(o.open(e,t,i),void 0!=r&&null!=r&&o.setRequestHeader("Content-Type",r),n)for(var a in n)n.hasOwnProperty(a)&&null!==n[a]&&o.setRequestHeader(a,n[a]);o.onload=function(){200==o.status?s.resolve(o.response):s.reject({status:o.status,reason:o.statusText,body:o.responseText})},o.onerror=function(e){s.reject({status:-1,reason:"Network Error"})},o.send()}catch(e){s.reject({status:-1,reason:e})}return s.Ss}function u(e,t,r,i,n){void 0===n&&(n=!0);var s=p.defer();try{var o=new XMLHttpRequest;if(o.open("POST",e,n),void 0!=r&&null!=r&&o.setRequestHeader("Content-Type",r),void 0!=i&&null!=i)for(var a in i)i.hasOwnProperty(a)&&null!==i[a]&&o.setRequestHeader(a,i[a]);o.onload=function(){200==o.status?s.resolve(o.response):s.reject({status:o.status,reason:o.statusText})},o.onerror=function(e){s.reject({status:-1,reason:"Network Error"})},o.send(t)}catch(e){s.reject({status:-1,reason:e})}return s.Ss}function l(e,t){var r,i,n=document.querySelector("base"),s=document.querySelector("head"),o=document.createElement("a"),a=n;return n?r=n.href:a=s.appendChild(document.createElement("base")),a.href=e,o.href=t,i=o.href,n?n.href=r:s.removeChild(a),i}var p=r(4),d=r(30);t.Ip=i,t.Sp=n,t.Rp=s,t.wp=a,t.bp=h,t.Cp=c,t._p=u,t.$h=l},function(e,t,r){"use strict";var i=this&&this.hu||function(e,t){function r(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=r(18),s=r(44).Pp,o=r(4),a=r(0),h=r(8),c=r(27),u=r(23),l=r(14);!function(e){e.Ap="hive-client-track",e.Op="trackevent",e.Np="NULLID",e.Dp="";var t=function(){function e(){}return e}();t.kp=0,t.Lp=1,t.Mp=2,t.Fp=100,t.Up=200,e.Bp=t;!function(e){e[e.Hp=0]="PLAYING",e[e.xp=1]="BUFFERING",e[e.qp=2]="PAUSED",e[e.Gp=3]="SKIP",e[e.Vp=4]="STOPPED",e[e.ERROR=5]="ERROR",e[e.jp=6]="WINDOW_SIZE",e[e.Qp=7]="FULLSCREEN",e[e.Kp=8]="VISIBLE",e[e.HIDDEN=9]="HIDDEN"}(e.Yp||(e.Yp={}));!function(e){e[e.Wp=0]="JAVA_NOT_REACHABLE",e[e.zp=1]="JAVA_NOT_READY",e[e.Jp=2]="JAVA_WRONG_VERSION",e[e.Xp=3]="JAVA_SESSION_BUSY",e[e.Zp=4]="JAVA_SESSION_ERROR",e[e.$p=5]="JAVA_TICKET_TIMEOUT"}(e.td||(e.td={}));var r=function(){function e(){}return e}();e.rd=r;var p=function(){function e(){}return e}();e.nd=p;var d=function(){function e(){}return e}();e.sd=d;var f=function(){function e(){this.type=t.Mp}return e}(),g=function(){function e(){this.sessions=new Array}return e.prototype.od=function(e,t){var r;this.sessions.forEach(function(t){t.sessionId==e&&(r=t)}),r||(r=new E,r.sessionId=e,this.sessions.push(r)),r.events.push(t)},e}();e.ad=g;var E=function(){function e(){this.events=new Array}return e}();e.hd=E;var v=function(){function t(){this.logger=a.Framework.resolve(a.Framework.V.R).log(),this.ud=a.Framework.resolve(h.pc.sc),this.ld=new Array,this.pd=new Array,this.dd=new Array}return t.prototype.fd=function(e){this.client=e},t.prototype.init=function(e,t){this.gd=e,this.Vl(t),this.logger.debug("[TRACK] INIT ID: "+e)},t.prototype.Vl=function(e,t){this.app=e,t&&(this.Ed=t)},t.prototype.updatePlayerInfo=function(e){this.vd=e},t.prototype.op=function(e){var t=new T(e,this);this.ld.push(t),this.yd=null,this.client.Td(!0)},t.prototype.Xu=function(e,t,r){if(!this.yd)for(var i=0;i<this.ld.length;i++){var n=this.ld[i];if(n.ticket.sessionId===e){this.logger.debug("[TRACK] Activating Track for session "+e),this.yd=n;break}}if(this.yd){if(this.yd.ticket.sessionId!=e)return void this.logger.warn("[TRACK] ignoring manifest not matching event "+this.yd.ticket.sessionId+" != "+e);if(!this.yd.md){var s=new m(e,t,r);this.yd.Id(s),this.client.Td()}}},t.prototype.Sd=function(e,t,r){null!=this.yd&&(this.yd.md||this.yd.Rd.push(new w(e,t,r)))},t.prototype.wd=function(e,t,r){this.pd.push(new S(e,t,r)),this.client.Td()},t.prototype.bd=function(e,t,r){this.dd.push(new R(e,t,r)),this.client.Td()},t.prototype.Cd=function(e){var t=this;e&&e.forEach(function(e){t.dd.push(e)})},t.prototype.Pd=function(){var e=new p;this.Ed?(e.partnerId=this.Ed.partnerId,e.customerId=this.Ed.customerId):l.HiveConfig.ClientInfo.cu&&l.HiveConfig.ClientInfo.uu?(e.partnerId=l.HiveConfig.ClientInfo.cu,e.customerId=l.HiveConfig.ClientInfo.uu):this.yd&&(e.partnerId=this.yd.ticket.up(),e.customerId=this.yd.ticket.cp()),e.version=this.app.app+"_"+(this.Ed?this.Ed.version:this.app.version),this.Ed&&(e.installVersion=this.Ed.installVersion,e.installTs=this.Ed.installTs);var t=new s;return t.Ad(navigator.userAgent),e.os=t.Od().name+" "+t.Od().version,this.vd&&(e.commVersion=this.vd.commVersion,e.pluginName=this.vd.pluginName,e.pluginVersion=this.vd.pluginVersion,e.playerTech=this.vd.playerTech,e.playerVersion=this.vd.playerVersion,this.vd.telemetryId&&(e.telemetryId=this.vd.telemetryId)),e},t.prototype.Nd=function(){return this.yd?this.yd:this.ld&&this.ld.length>0?this.ld[this.ld.length-1]:void 0},t.prototype.Dd=function(t){var i=this;if(void 0===t&&(t=!0),0==this.ld.length&&0==this.pd.length)return t?o.reject("nothing to send"):(this.logger.debug("[TRACK]  NOTHING TO SEND"),null);var n=new r;n.app=e.Ap,n.createdAt=a.Framework.time(),n.guid=this.gd,n.name=e.Op;var s=this.Nd();if(s){var h=s.ticket.kd().replace(/[\[\]]/g,"");n.tags=[h],n.tags.push(s.ticket.up()),n.tags.push(s.ticket.cp())}else n.tags=new Array;var c=new g;if(c.peer=this.Pd(),this.ld.forEach(function(e){e.md||c.od(e.ticket.sessionId,e)}),this.pd.forEach(function(e){c.od(e.sessionId,e)}),this.dd.forEach(function(e){c.od(e.sessionId,e)}),n.data=c,t)return this.ud.getConnectivityInfo().then(function(e){var t=i.Ld(e);return c.od("null",t),n}).fail(function(e){return n});var u=this.Ld(this.ud.Md());return c.od("null",u),n},t.prototype.Ld=function(e){var t=new f;t.ts=a.Framework.time();var r=e.getNetworkChanged();return r.getPublicIp()&&(t.pubIp=r.getPublicIp()),r.getPrivateIp()&&(t.privIp=n.kl.getPrivateIp(r)),e.getHostName()&&(t.hostname=n.kl.Dl(e)),r.getCidr()&&(t.netmask=r.getCidr()),r.getNic()&&(t.nic=r.getNic()),r.getNicName()&&(t.nicName=r.getNicName()),r.getMacAddress()&&(t.mac=r.getMacAddress()),t},t.prototype.Fd=function(){return this.Ed?this.Ed.userAgent:navigator.userAgent},t.prototype.reset=function(){this.ld=new Array,this.pd=new Array,this.dd=new Array},t.prototype.Ud=function(e){},t}();e.Bd=v;var y=function(){function e(e){this.Hd=isNaN(l.HiveConfig.DebugLogs.TrackSnapshotLogs)?0:l.HiveConfig.DebugLogs.TrackSnapshotLogs,this.Hl=e,this.logger=a.Framework.resolve(a.Framework.V.R).log(),this.client=a.Framework.resolve(h.pc.G),this.Hl.fd(this)}return e.prototype.Td=function(e){void 0===e&&(e=!1);var t=e?c.Gd.qd.xd:c.Gd.qd.Vd;if(this.jd){this.Qd-(new Date).getTime()>t&&(a.Framework.clearTimeout(this.jd),this.Qd=null,this.Kd(t))}else this.Kd(t)},e.prototype.Yd=function(){this.jd&&(a.Framework.clearTimeout(this.jd),this.Qd=this.jd=null)},e.prototype.Kd=function(e){var t=this;this.jd=a.Framework.setTimeout(function(){t.Wd()},e),this.Qd=(new Date).getTime()+e},e.prototype.Wd=function(e){var t=this;void 0===e&&(e=!0),this.jd=null,this.Qd=null;var r=this.Hl.Dd(e);e?(this.logger.debug("[TRACK] TAKING A TRACK SNAPSHOT"),r.then(function(e){return t.forward(e)}).fail(function(e){t.logger.debug("[TRACK]  ERROR GENERATING/SENDING THE TRACK SNAPSHOT: ",e)}).finally(function(){return t.Hl.reset()}).done()):(this.logger.debug("[TRACK] FLUSHING TRACK SNAPSHOT"),this.forward(r),this.Hl.reset())},e.prototype.forward=function(e){if(this.client&&this.client.zd()&&e){var t=JSON.stringify(e);switch(this.Hd){case 0:default:this.logger.debug("[TRACK] TRACK EVENT");break;case 1:this.logger.debug("[TRACK] TRACK EVENT:"+t)}var r=new u.Jd(Services.Xd,2,t);this.client.zd().send(r)}},e.prototype.Zd=function(e){void 0===e&&(e=!0),e?(this.Yd(),this.Kd(c.Gd.qd.$d)):this.Wd(!1)},e}();e.ql=y;var T=function(){function e(e,t){this.createdAt=(new Date).getTime(),this.md=!1,this.ticket=e,this.manifests=new Array,this.Rd=new Array,this.Hl=t}return e.prototype.Id=function(e){this.manifests.push(e)},e.prototype.toJSON=function(){var e={};e.type=t.kp,e.ticket={},e.ticket.url=this.ticket.ticketUrl,e.ticket.reqTs=this.ticket.ef,e.ticket.respTs=this.ticket.rf,e.ticket.userAgent=this.Hl.Fd(),null!=this.ticket.testId&&(e.ticket.testId=this.ticket.testId),e.manifests=[],this.manifests.forEach(function(t){var r={};r.url=t.url,r.respTs=t.rf,r.respCode=t.respCode,e.manifests.push(r)});var r=-1,i=-1,n=-1;return this.Rd.forEach(function(e){e.if>0&&(-1==r&&(r=e.ts,i=e.if),n=e.if)}),-1!=r&&(e.playTs=r),-1!=n&&(e.buffTime=n),-1!=i&&(e.initBuffTime=i),e},e}();e.nf=T;var m=function(){function e(e,t,r){this.eventId=e,this.url=t,this.rf=(new Date).getTime(),this.respCode=r}return e}();e.sf=m;var I=function(){function e(e,t,r,i){this.ts=(new Date).getTime(),this.sessionId=e,this.sessionId||(this.sessionId="null"),this.event=t,this.af=r,i&&(this.ts=i)}return e.prototype.toJSON=function(){var e={};return e.type=this.hf+this.event,e.ts=this.ts,this.af&&(e.parameters=this.af),e},e}();e.cf=I;var S=function(e){function r(r,i,n,s){var o=e.call(this,r,i,n,s)||this;return o.hf=t.Fp,o}return i(r,e),r}(I);e.uf=S;var R=function(e){function r(r,i,n,s){var o=e.call(this,r,i,n,s)||this;return o.hf=t.Up,o}return i(r,e),r}(I);e.lf=R;var w=function(){function e(e,t,r){this.ts=(new Date).getTime(),this.Pl=e,this.pf=t,this.if=r}return e}();e.df=w}(t.Gl||(t.Gl={}))},function(e,t,r){"use strict";function i(){if(this.ff)return this.ff;var e=window&&window.window?window.window.gf:void 0;if(void 0!==e&&e.log&&e.debug&&e.info&&e.warn&&e.error&&(this.ff=e),!this.ff){var t=!(void 0===window.console),r=t?console.log.bind(console):function(){};this.ff={log:r,debug:t&&window.console.debug?window.console.debug.bind(console):r,info:t&&window.console.info?window.console.info.bind(console):r,warn:t&&window.console.warn?window.console.warn.bind(console):r,error:t&&window.console.error?window.console.error.bind(console):r}}return this.ff}var n=r(1),s=r(2);t.loggerId="[HiveServices] ";var o=function(){function e(){}return e}();o.Ef=250,t.L=o;var a=function(){function e(e,t,r){this.msgId=t,this.service=e,this.msg=r}return e.prototype.vf=function(){try{var t=new Uint8Array([this.service>>8,255&this.service]),r=new Uint8Array([this.msgId]),i=[t,r,this.msg];return new Blob(i,{type:"application/octet-binary"})}catch(t){throw n.ErrorMonitor.ve().logError("Error serializing message to send to the services",e.loggerId,s.hs.as.ns,t),new Error(t)}},e.yf=function(t){try{var r=(String.fromCharCode.apply(null,new Uint8Array(t)),String.fromCharCode.apply(null,new Uint8Array(t.slice(3)))),i=new Uint8Array(t.slice(0,2)),o=new Uint8Array(t.slice(2,3));return new e((i[0]<<8)+i[1],o[0],r)}catch(e){throw n.ErrorMonitor.ve().logError("Error extracting message from the services",this.loggerId,s.hs.as.ss,e),new Error(e)}},e}();a.loggerId="[Message] ",t.Jd=a,t.logger=i},function(e,t,r){"use strict";var i=r(0),n=r(7);!function(e){e[e.Tf=0]="UPPER_LAYER",e[e.mf=1]="CDN",e[e.If=2]="CDN_PREFETCH",e[e.Sf=3]="CDN_COMPENSATION",e[e.Rf=4]="P2P",e[e.wf=5]="P2P_PREFETCH"}(t.bf||(t.bf={}));var s=function(){function e(){this.Cf=!1,this._f=!1,this.Pf=0,this.Af=0,this.Of=0,this.Nf=0,this.Df=0,this.p2pAgenTrafficSuccessQt=0,this.kf=0,this.srcOtherRespQt=0,this.Lf=0,this.Mf=0,this.Ff=0,this.Uf=0,this.Bf=0}return e}();t.Hf=s;var o=function(){function e(e,t,r,n,o){this.xf=!1,this.type=void 0,this.qf=new s,this.Gf=!1,this.Vf=!1,this.responseHeaders="",this.jf=new ArrayBuffer(0),this.Qf=0,this.type=r,this.Kf=e,this.Yf=t,this.Wf=o,this.zf=n,this.qf.Lf=i.Framework.time()}return e.prototype.Jf=function(){return this.type},e.prototype.Xf=function(){return this.zf.Xf()},e.prototype.Zf=function(){return this.zf.Zf()},e.prototype.$f=function(){return this.Zf()+"-"+this.Yf},e.prototype.eg=function(){return this.zf.tg()},e.prototype.rg=function(){return this.zf.ig()},e.prototype.loaded=function(){this.ng=i.Framework.time()},e.prototype.sg=function(){return this.ng?Math.max(1,this.ng-this.qf.Ff):Math.max(1,this.qf.Uf-this.qf.Ff)},e.prototype.og=function(){return this.ng?Math.max(1,this.ng-this.qf.Mf):Math.max(1,this.qf.Uf-this.qf.Mf)},e.prototype.ag=function(){return 0!=this.qf.Df?(new n.rc.Vh).Mh(this.sg(),this.qf.Df):(new n.rc.Vh).Mh(this.og(),this.qf.Af)},e}();t.hg=o},function(e,t,r){"use strict";var i=r(161),n=r(35),s=r(28),o=s.cg,a=r(4),h=r(0),c=r(163),u=r(169),l=r(5),p=r(7),d=r(3),f=r(15),g=r(1),E=r(2);!function(e){e.ug=!1;var t;!function(e){e[e.Have=1]="Have",e[e.Chunk=2]="Chunk",e[e.Request=3]="Request",e[e.Cancel=4]="Cancel",e[e.Ack=5]="Ack",e[e.Close=6]="Close",e[e.DoNotHave=7]="DoNotHave",e[e.lg=8]="OutPartRequest",e[e.pg=9]="OutPartResp",e[e.dg=10]="UDPHandshakeReq",e[e.UDPHandshakeResponse=11]="UDPHandshakeResponse",e[e.UDPSwitchLeadershipRequest=12]="UDPSwitchLeadershipRequest",e[e.fg=13]="UDPSwitchAck",e[e.Bitrate=14]="Bitrate",e[e.Haves=15]="Haves",e[e.nd=16]="PeerInfo",e[e.Ping=17]="Ping",e[e.Pong=18]="Pong",e[e.gg=19]="NoPartnerResp"}(t=e.Eg||(e.Eg={}));var s=function(){function e(e){this.loggerId="[DispatcherManager] ",this.vg=new d,this.logger=h.Framework.resolve(h.Framework.V.R).log(),this.yg=e}return e.prototype.Tg=function(e){try{var t=null,r=h.Framework.resolve(f.qu._u),i=r.mg(e);return null==i?(this.logger.warn("MSG RECEIVED FROM UNKNOWN SWARM"),null):(t=new c.Ig(i,this.yg.Sg,this.yg.otherGuid,this.yg),this.vg.has(e)||this.vg.set(e,t),this.vg.get(e))}catch(e){g.ErrorMonitor.ve().logError("Error creating new dispatcher",this.loggerId,E.hs.tt.et,e)}},e.prototype.Rg=function(e){this.vg.delete(e)},e.prototype.wg=function(e){return this.vg.get(e)},e}();e.bg=s;var v=function(){function r(){this.loggerId="[Transport] ",this.Cg=null,this._g=h.Framework.resolve(h.Framework.V.R),this.Pg=new s(this),this.fe=r.Ag++,this.Og=h.Framework.time()}return r.prototype.init=function(e,t){this.Sg=e,this.otherGuid=t,this.Ng=h.Framework.resolve(h.Framework.V.F)},r.prototype.Dg=function(){var e=!1;return this.Pg.vg.forEach(function(t,r){(t.sender.Dg()||t.receiver.Dg())&&(e=!0)}),e},r.prototype.reset=function(){this.Pg.vg.forEach(function(e,t){e.sender.kg()})},r.prototype.close=function(e){return this.Pg.Rg(e),0==this.Pg.vg.length&&this.Ng.disconnect(this.otherGuid),a("ok")},r.prototype.Lg=function(r,i,s){try{this.Og=h.Framework.time();var a=s.tc(),c=a.byteLength,u=o.Fg.Mg.create(a),p=o.Ug(u),d=new n;d.Bg(r),d.Hg(i),d.Bg(c),d.Hg(p.toString()),d.append(a),d.xg();var f=d.tc(),v=r===t.Chunk&&h.Framework.C()?f.byteLength+l.hh.Fa.Da:f.byteLength;e.ug&&this._g.log(i).debug(this.fe+" SEND MSG ID "+r+","+v+" HASH "+p.toString()+" TO "+this.otherGuid)}catch(t){g.ErrorMonitor.ve().logError("Error constructing message",this.loggerId,E.hs.$e.ze,{qg:e.Eg[r]})}try{this.Ng.send(this.otherGuid,f,v)||g.ErrorMonitor.ve().logError("Error message dropped",this.loggerId,E.hs.$e.Je,{qg:e.Eg[r],otherGuid:this.otherGuid})}catch(t){g.ErrorMonitor.ve().logError("Error sending message",this.loggerId,E.hs.$e.Xe,{qg:e.Eg[r],otherGuid:this.otherGuid}),this._g.log(i).warn("ERROR SENDING MESSAGE TO "+this.otherGuid+" "+t.stack)}},r.prototype.Gg=function(i){var s=this;e.ug&&this._g.log().debug(this.fe+" GOT MSG "+i.byteLength);try{var a=h.Framework.time();this.Og=a,this.Vg(i).then(function(c){if(e.ug&&s._g.log().debug(s.fe+" RECEIVING "+c.byteLength+" after "+(h.Framework.time()-a)),c.byteLength>r.jg)throw new RangeError("P2P Message too big to be processed");var l=s.Cg;if(null===l){var d=n.wrap(c),f=d.Qg();if(e.ug&&s._g.log().debug("MSG ID "+f),f>Object.keys(t).length)return s._g.log().warn("MSG OF WRONG ID RECEIVED: "+f),void(s.Cg=null);if(l=s.Cg=new u.Kg,l.msgId=f,l.swarmId=d.Yg(),l.length=d.Qg(),l.hash=d.Yg(),l.Wg=d.tc(),l.length>r.jg)throw new RangeError("P2P Message too big to be processed");e.ug&&s._g.log(l.swarmId).debug("MSG ID "+l.msgId+" L "+l.length+" SWID "+l.swarmId+" H "+l.hash+" TR "+l.Wg.byteLength)}else{if(e.ug&&s._g.log().debug("APPENDING TO P2P MESSAGE "+l.msgId),null!=l.Wg.byteLength&&l.Wg.byteLength>r.jg)throw new RangeError("P2P Message too big to be processed");l.Wg=p.rc.appendBuffer(l.Wg,i)}if(l.Wg.byteLength===l.length){var g=o.Fg.Mg.create(l.Wg);if(o.Ug(g).toString()!==l.hash){return void s._g.log(l.swarmId).warn(" INTEGRITY CHECK FAILED ")}var E=s.Pg.wg(l.swarmId);E||(E=s.Pg.Tg(l.swarmId),s._g.log(l.swarmId).debug("CREATED NEW DISPATCHER FOR "+s.otherGuid)),E&&E.As(l),l.Wg=null,s.Cg=null}})}catch(e){g.ErrorMonitor.ve().logError("Error receiving message",this.loggerId,E.hs.$e.Ze,e),this.Cg=null}},r.prototype.Vg=function(e){var t=!h.Framework.C()&&navigator.userAgent.toLowerCase().indexOf("firefox")>-1,r=a.defer();if(t){var i=new FileReader;i.onload=function(t){e=this.result,r.resolve(e)},i.onerror=r.reject,i.readAsArrayBuffer(e)}else r.resolve(e);return r.Ss},r.prototype.zg=function(){return this.Og},r}();v.Jg=i.Zg(r(170)).Xg("HiveMsgs"),v.Ag=0,v.jg=136+Math.ceil(1.2*l.hh.Fa.Da),e.Fa=v}(t.Rf||(t.Rf={}))},function(e,t,r){"use strict";var i;!function(e){function t(e){return o[e]}function r(e,r,i){var n=new a;return n.ticketUrl=e,n.code=r,n.message=t(r),n.detailedMessage=i,n}var i=function(){function e(){this.savings=0,this.cdnRequests=0,this.cdnResponses=0,this.cdnResponseErrors=0,this.cdnResponseBytes=0,this.p2pRequests=0,this.p2pResponses=0,this.p2pResponseErrors=0,this.p2pResponseBytes=0,this.partners={}}return e}();e.$g=i;var n=function(){function e(){this.uuid="",this.sentBytes=0,this.receivedBytes=0,this.successTransfers=0,this.failedTransfers=0}return e}();e.eE=n;var s=function(){function e(){}return e}();e.HiveSession=s;!function(e){e[e.tE=0]="GENERIC_ERROR",e[e.rE=1]="NO_TECH_AVAILABLE",e[e.iE=2]="NO_TECH_RESOLVED",e[e.nE=3]="TECH_ERROR",e[e.sE=4]="TICKET_ERROR"}(e.oE||(e.oE={}));var o;!function(e){e[e["aE"]=0]="Generic Undefined Error",e[e["hE"]=1]="No Tech available to resolve the ticket",e[e["cE"]=2]="No available Tech could resolved the ticket",e[e["uE"]=3]="Stopped resolving session on last tech onError",e[e["lE"]=4]="The ticket could not be resolved"}(o||(o={}));var a=function(){function e(){}return e}();e.HiveSessionError=a;var h=function(){function e(e,t){this.code=e,this.message=t}return e}();e.HiveTechError=h;!function(e){e[e.pE=0]="NOT_READY",e[e.dE=1]="PLUGIN_ERROR",e[e.fE=2]="SESSION_ERROR",e[e.sE=3]="TICKET_ERROR",e[e.gE=4]="VERSION_ERROR",e[e.EE=5]="TIMEOUT_ERROR"}(e.vE||(e.vE={}));!function(e){e[e.yE=0]="OK",e[e.TE=1]="HIVE_NOT_ALLOWED",e[e.mE=2]="TICKET_NOT_RESOLVED",e[e.IE=3]="TIMEOUT_RESOLVING_TICKET"}(e.SE||(e.SE={})),e.getHiveSessionErrorMessage=t,e.Sl=r;var c=function(){function e(e){this.RE=e}return e.prototype.getPluginStatusCode=function(){return this.RE.getStatusCode()},e}();e.wE=c}(i=t.HiveComm||(t.HiveComm={})),"undefined"!=typeof window&&(void 0===window.HiveComm&&(window.HiveComm={}),window.HiveComm.getHiveSessionErrorMessage=i.getHiveSessionErrorMessage)},function(e,t,r){"use strict";var i=r(6);!function(e){e.Eh=i.he.Eh,e._h=i.he._h;var t=function(){function e(){}return e}();t.bE="wss://bee.hivestreaming.com:443/v1/hivejs",t.CE="wss://bee-test.hivestreaming.com:443/v1/hivejs",t._E={iceServers:[{url:"stun:stun.hivestreaming.com:3478"}]},t.PE=3e4,t.Vd=3e5,t.xd=8e4,t.$d=1e3,t.AE=3e4,t.OE=100,t.NE=1e4,e.qd=t}(t.Gd||(t.Gd={}))},function(e,t){function r(e,t,r){null!=e&&("number"==typeof e?this.DE(e,t,r):null==t&&"string"!=typeof e?this.kE(e,256):this.kE(e,t))}function i(){return new r(null)}function n(e,t,r,i,n,s){for(;--s>=0;){var o=t*this[e++]+r[i]+n;n=Math.floor(o/67108864),r[i++]=67108863&o}return n}function s(e,t,r,i,n,s){for(var o=32767&t,a=t>>15;--s>=0;){var h=32767&this[e],c=this[e++]>>15,u=a*h+c*o;h=o*h+((32767&u)<<15)+r[i]+(1073741823&n),n=(h>>>30)+(u>>>15)+a*c+(n>>>30),r[i++]=1073741823&h}return n}function o(e,t,r,i,n,s){for(var o=16383&t,a=t>>14;--s>=0;){var h=16383&this[e],c=this[e++]>>14,u=a*h+c*o;h=o*h+((16383&u)<<14)+r[i]+n,n=(h>>28)+(u>>14)+a*c,r[i++]=268435455&h}return n}function a(e){return Ce.charAt(e)}function h(e,t){var r=_e[e.charCodeAt(t)];return null==r?-1:r}function c(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.T=this.T}function u(e){this.t=1,this.T=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.LE:this.t=0}function l(e){var t=i();return t.ME(e),t}function p(e,t){var i;if(16==t)i=4;else if(8==t)i=3;else if(256==t)i=8;else if(2==t)i=1;else if(32==t)i=5;else{if(4!=t)return void this.FE(e,t);i=2}this.t=0,this.T=0;for(var n=e.length,s=!1,o=0;--n>=0;){var a=8==i?255&e[n]:h(e,n);a<0?"-"==e.charAt(n)&&(s=!0):(s=!1,0==o?this[this.t++]=a:o+i>this.UE?(this[this.t-1]|=(a&(1<<this.UE-o)-1)<<o,this[this.t++]=a>>this.UE-o):this[this.t-1]|=a<<o,(o+=i)>=this.UE&&(o-=this.UE))}8==i&&0!=(128&e[0])&&(this.T=-1,o>0&&(this[this.t-1]|=(1<<this.UE-o)-1<<o)),this.BE(),s&&r.ZERO.HE(this,this)}function d(){for(var e=this.T&this.xE;this.t>0&&this[this.t-1]==e;)--this.t}function f(e){if(this.T<0)return"-"+this.qE().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.GE(e);t=2}var r,i=(1<<t)-1,n=!1,s="",o=this.t,h=this.UE-o*this.UE%t;if(o-- >0)for(h<this.UE&&(r=this[o]>>h)>0&&(n=!0,s=a(r));o>=0;)h<t?(r=(this[o]&(1<<h)-1)<<t-h,r|=this[--o]>>(h+=this.UE-t)):(r=this[o]>>(h-=t)&i,h<=0&&(h+=this.UE,--o)),r>0&&(n=!0),n&&(s+=a(r));return n?s:"0"}function g(){var e=i();return r.ZERO.HE(this,e),e}function E(){return this.T<0?this.qE():this}function v(e){var t=this.T-e.T;if(0!=t)return t;var r=this.t;if(0!=(t=r-e.t))return this.T<0?-t:t;for(;--r>=0;)if(0!=(t=this[r]-e[r]))return t;return 0}function y(e){var t,r=1;return 0!=(t=e>>>16)&&(e=t,r+=16),0!=(t=e>>8)&&(e=t,r+=8),0!=(t=e>>4)&&(e=t,r+=4),0!=(t=e>>2)&&(e=t,r+=2),0!=(t=e>>1)&&(e=t,r+=1),r}function T(){return this.t<=0?0:this.UE*(this.t-1)+y(this[this.t-1]^this.T&this.xE)}function m(e,t){var r;for(r=this.t-1;r>=0;--r)t[r+e]=this[r];for(r=e-1;r>=0;--r)t[r]=0;t.t=this.t+e,t.T=this.T}function I(e,t){for(var r=e;r<this.t;++r)t[r-e]=this[r];t.t=Math.max(this.t-e,0),t.T=this.T}function S(e,t){var r,i=e%this.UE,n=this.UE-i,s=(1<<n)-1,o=Math.floor(e/this.UE),a=this.T<<i&this.xE;for(r=this.t-1;r>=0;--r)t[r+o+1]=this[r]>>n|a,a=(this[r]&s)<<i;for(r=o-1;r>=0;--r)t[r]=0;t[o]=a,t.t=this.t+o+1,t.T=this.T,t.BE()}function R(e,t){t.T=this.T;var r=Math.floor(e/this.UE);if(r>=this.t)return void(t.t=0);var i=e%this.UE,n=this.UE-i,s=(1<<i)-1;t[0]=this[r]>>i;for(var o=r+1;o<this.t;++o)t[o-r-1]|=(this[o]&s)<<n,t[o-r]=this[o]>>i;i>0&&(t[this.t-r-1]|=(this.T&s)<<n),t.t=this.t-r,t.BE()}function w(e,t){for(var r=0,i=0,n=Math.min(e.t,this.t);r<n;)i+=this[r]-e[r],t[r++]=i&this.xE,i>>=this.UE;if(e.t<this.t){for(i-=e.T;r<this.t;)i+=this[r],t[r++]=i&this.xE,i>>=this.UE;i+=this.T}else{for(i+=this.T;r<e.t;)i-=e[r],t[r++]=i&this.xE,i>>=this.UE;i-=e.T}t.T=i<0?-1:0,i<-1?t[r++]=this.LE+i:i>0&&(t[r++]=i),t.t=r,t.BE()}function b(e,t){var i=this.abs(),n=e.abs(),s=i.t;for(t.t=s+n.t;--s>=0;)t[s]=0;for(s=0;s<n.t;++s)t[s+i.t]=i.VE(0,n[s],t,s,0,i.t);t.T=0,t.BE(),this.T!=e.T&&r.ZERO.HE(t,t)}function C(e){for(var t=this.abs(),r=e.t=2*t.t;--r>=0;)e[r]=0;for(r=0;r<t.t-1;++r){var i=t.VE(r,t[r],e,2*r,0,1);(e[r+t.t]+=t.VE(r+1,2*t[r],e,2*r+1,i,t.t-r-1))>=t.LE&&(e[r+t.t]-=t.LE,e[r+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.VE(r,t[r],e,2*r,0,1)),e.T=0,e.BE()}function _(e,t,n){var s=e.abs();if(!(s.t<=0)){var o=this.abs();if(o.t<s.t)return null!=t&&t.ME(0),void(null!=n&&this.jE(n));null==n&&(n=i());var a=i(),h=this.T,c=e.T,u=this.UE-y(s[s.t-1]);u>0?(s.QE(u,a),o.QE(u,n)):(s.jE(a),o.jE(n));var l=a.t,p=a[l-1];if(0!=p){var d=p*(1<<this.KE)+(l>1?a[l-2]>>this.YE:0),f=this.WE/d,g=(1<<this.KE)/d,E=1<<this.YE,v=n.t,T=v-l,m=null==t?i():t;for(a.zE(T,m),n.JE(m)>=0&&(n[n.t++]=1,n.HE(m,n)),r.ONE.zE(l,m),m.HE(a,a);a.t<l;)a[a.t++]=0;for(;--T>=0;){var I=n[--v]==p?this.xE:Math.floor(n[v]*f+(n[v-1]+E)*g);if((n[v]+=a.VE(0,I,n,T,0,l))<I)for(a.zE(T,m),n.HE(m,n);n[v]<--I;)n.HE(m,n)}null!=t&&(n.XE(l,t),h!=c&&r.ZERO.HE(t,t)),n.t=l,n.BE(),u>0&&n.ZE(u,n),h<0&&r.ZERO.HE(n,n)}}}function P(e){var t=i();return this.abs().$E(e,null,t),this.T<0&&t.JE(r.ZERO)>0&&e.HE(t,t),t}function A(e){this.h=e}function O(e){return e.T<0||e.JE(this.h)>=0?e.ev(this.h):e}function N(e){return e}function D(e){e.$E(this.h,null,e)}function k(e,t,r){e.tv(t,r),this.reduce(r)}function L(e,t){e.rv(t),this.reduce(t)}function M(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return t=t*(2-(15&e)*t)&15,t=t*(2-(255&e)*t)&255,t=t*(2-((65535&e)*t&65535))&65535,t=t*(2-e*t%this.LE)%this.LE,t>0?this.LE-t:-t}function F(e){this.h=e,this.nv=e.sv(),this.ov=32767&this.nv,this.av=this.nv>>15,this.hv=(1<<e.UE-15)-1,this.cv=2*e.t}function U(e){var t=i();return e.abs().zE(this.h.t,t),t.$E(this.h,null,t),e.T<0&&t.JE(r.ZERO)>0&&this.h.HE(t,t),t}function B(e){var t=i();return e.jE(t),this.reduce(t),t}function H(e){for(;e.t<=this.cv;)e[e.t++]=0;for(var t=0;t<this.h.t;++t){var r=32767&e[t],i=r*this.ov+((r*this.av+(e[t]>>15)*this.ov&this.hv)<<15)&e.xE;for(r=t+this.h.t,e[r]+=this.h.VE(0,i,e,t,0,this.h.t);e[r]>=e.LE;)e[r]-=e.LE,e[++r]++}e.BE(),e.XE(this.h.t,e),e.JE(this.h)>=0&&e.HE(this.h,e)}function x(e,t){e.rv(t),this.reduce(t)}function q(e,t,r){e.tv(t,r),this.reduce(r)}function G(){return 0==(this.t>0?1&this[0]:this.T)}function V(e,t){if(e>4294967295||e<1)return r.ONE;var n=i(),s=i(),o=t.uv(this),a=y(e)-1;for(o.jE(n);--a>=0;)if(t.lv(n,s),(e&1<<a)>0)t.pv(s,o,n);else{var h=n;n=s,s=h}return t.dv(n)}function j(e,t){var r;return r=e<256||t.fv()?new A(t):new F(t),this.exp(e,r)}function Q(e){var t,r,i,n="",s=0;for(t=0;t<e.length&&e.charAt(t)!=Ae;++t)(i=Pe.indexOf(e.charAt(t)))<0||(0==s?(n+=a(i>>2),r=3&i,s=1):1==s?(n+=a(r<<2|i>>4),r=15&i,s=2):2==s?(n+=a(r),n+=a(i>>2),r=3&i,s=3):(n+=a(r<<2|i>>4),n+=a(15&i),s=0));return 1==s&&(n+=a(r<<2)),n}function K(e){var t,r=Q(e),i=new Array;for(t=0;2*t<r.length;++t)i[t]=parseInt(r.substring(2*t,2*t+2),16);return i}/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */
function Y(e,t){return new r(e,t)}function W(e,t){if(t<e.length+11)return alert("Message too long for RSA"),null;for(var i=new Array,n=e.length-1;n>=0&&t>0;){var s=e.charCodeAt(n--);s<128?i[--t]=s:s>127&&s<2048?(i[--t]=63&s|128,i[--t]=s>>6|192):(i[--t]=63&s|128,i[--t]=s>>6&63|128,i[--t]=s>>12|224)}i[--t]=0;for(var o=new SecureRandom,a=new Array;t>2;){for(a[0]=0;0==a[0];)o.gv(a);i[--t]=a[0]}return i[--t]=2,i[--t]=0,new r(i)}function z(e,t,r){for(var i="",n=0;i.length<t;)i+=r(String.fromCharCode.apply(String,e.concat([(4278190080&n)>>24,(16711680&n)>>16,(65280&n)>>8,255&n]))),n+=1;return i}function J(e,t,i){if(e.length+2*Oe+2>t)throw"Message too long for RSA";var n,s="";for(n=0;n<t-e.length-2*Oe-2;n+=1)s+="\0";var o=rstr_sha1("")+s+""+e,a=new Array(Oe);(new SecureRandom).gv(a);var h=z(a,o.length,i||rstr_sha1),c=[];for(n=0;n<o.length;n+=1)c[n]=o.charCodeAt(n)^h.charCodeAt(n);var u=z(c,a.length,rstr_sha1),l=[0];for(n=0;n<a.length;n+=1)l[n+1]=a[n]^u.charCodeAt(n);return new r(l.concat(c))}function X(){this.n=null,this.e=0,this.d=null,this.v=null,this.Ev=null,this.vv=null,this.yv=null,this.Tv=null}function Z(e,t){this.mv=!0,"string"!=typeof e?(this.n=e,this.e=t):null!=e&&null!=t&&e.length>0&&t.length>0?(this.n=Y(e,16),this.e=parseInt(t,16)):alert("Invalid RSA public key")}function $(e){return e.Iv(this.e,this.n)}function ee(e){var t=W(e,this.n.Sv()+7>>3);if(null==t)return null;var r=this.Rv(t);if(null==r)return null;var i=r.toString(16);return 0==(1&i.length)?i:"0"+i}function te(e,t){var r=J(e,this.n.Sv()+7>>3,t);if(null==r)return null;var i=this.Rv(r);if(null==i)return null;var n=i.toString(16);return 0==(1&n.length)?n:"0"+n}function re(e,t){for(var r="",i=t/4-e.length,n=0;n<i;n++)r+="0";return r+e}function ie(e,t){var r=function(e){return KJUR.crypto.bv.wv(e,t)}(e);return this.Cv(r,t)}function ne(e,t){var r=KJUR.crypto.bv._v(e,t,this.n.Sv()),i=Y(r,16);return re(this.Pv(i).toString(16),this.n.Sv())}function se(e){return ie.call(this,e,"sha1")}function oe(e){return ie.call(this,e,"sha256")}function ae(e,t,r){for(var i="",n=0;i.length<t;)i+=hextorstr(r(rstrtohex(e+String.fromCharCode.apply(String,[(4278190080&n)>>24,(16711680&n)>>16,(65280&n)>>8,255&n])))),n+=1;return i}function he(e,t,r){var i=function(e){return KJUR.crypto.bv.Av(e,t)}(rstrtohex(e));return void 0===r&&(r=-1),this.Ov(i,t,r)}function ce(e,t,i){var n,s=hextorstr(e),o=s.length,a=this.n.Sv()-1,h=Math.ceil(a/8),c=function(e){return KJUR.crypto.bv.Av(e,t)};if(-1===i||void 0===i)i=o;else if(-2===i)i=h-o-2;else if(i<-2)throw"invalid salt length";if(h<o+i+2)throw"data too long";var u="";i>0&&(u=new Array(i),(new SecureRandom).gv(u),u=String.fromCharCode.apply(String,u));var l=hextorstr(c(rstrtohex("\0\0\0\0\0\0\0\0"+s+u))),p=[];for(n=0;n<h-i-o-2;n+=1)p[n]=0;var d=String.fromCharCode.apply(String,p)+""+u,f=ae(l,d.length,c),g=[];for(n=0;n<d.length;n+=1)g[n]=d.charCodeAt(n)^f.charCodeAt(n);var E=65280>>8*h-a&255;for(g[0]&=~E,n=0;n<o;n++)g.push(l.charCodeAt(n));return g.push(188),re(this.Pv(new r(g)).toString(16),this.n.Sv())}function ue(e,t,r){var i=new X;return i.Nv(t,r),i.Rv(e)}function le(e,t,r){return ue(e,t,r).toString(16).replace(/^1f+00/,"")}function pe(e){for(var t in KJUR.crypto.bv.Dv){var r=KJUR.crypto.bv.Dv[t],i=r.length;if(e.substring(0,i)==r){return[t,e.substring(i)]}}return[]}function de(e,t,r,i){var n=le(t,r,i),s=pe(n);if(0==s.length)return!1;var o=s[0],a=s[1];return a==function(e){return KJUR.crypto.bv.wv(e,o)}(e)}function fe(e,t){return de(t,Y(e,16),this.n.toString(16),this.e.toString(16))}function ge(e,t){t=t.replace(Ne,""),t=t.replace(/[ \n]+/g,"");var r=Y(t,16);if(r.Sv()>this.n.Sv())return 0;var i=this.Rv(r),n=i.toString(16).replace(/^1f+00/,""),s=pe(n);if(0==s.length)return!1;var o=s[0],a=s[1];return a==function(e){return KJUR.crypto.bv.wv(e,o)}(e)}function Ee(e,t){t=t.replace(Ne,""),t=t.replace(/[ \n]+/g,"");var r=Y(t,16);if(r.Sv()>this.n.Sv())return 0;var i=this.Rv(r),n=i.toString(16).replace(/^1f+00/,""),s=pe(n);if(0==s.length)return!1;s[0];return s[1]==e}function ve(e,t,r,i){var n=function(e){return KJUR.crypto.bv.Av(e,r)}(rstrtohex(e));return void 0===i&&(i=-1),this.kv(n,t,r,i)}function ye(e,t,i,n){var s=new r(t,16);if(s.Sv()>this.n.Sv())return!1;var o,a=function(e){return KJUR.crypto.bv.Av(e,i)},h=hextorstr(e),c=h.length,u=this.n.Sv()-1,l=Math.ceil(u/8);if(-1===n||void 0===n)n=c;else if(-2===n)n=l-c-2;else if(n<-2)throw"invalid salt length";if(l<c+n+2)throw"data too long";var p=this.Rv(s).Lv();for(o=0;o<p.length;o+=1)p[o]&=255;for(;p.length<l;)p.unshift(0);if(188!==p[l-1])throw"encoded message does not end in 0xbc";p=String.fromCharCode.apply(String,p);var d=p.substr(0,l-c-1),f=p.substr(d.length,c),g=65280>>8*l-u&255;if(0!=(d.charCodeAt(0)&g))throw"bits beyond keysize not zero";var E=ae(f,d.length,a),v=[];for(o=0;o<d.length;o+=1)v[o]=d.charCodeAt(o)^E.charCodeAt(o);v[0]&=~g;var y=l-c-n-2;for(o=0;o<y;o+=1)if(0!==v[o])throw"leftmost octets not zero";if(1!==v[y])throw"0x01 marker not found";return f===hextorstr(a(rstrtohex("\0\0\0\0\0\0\0\0"+h+String.fromCharCode.apply(String,v.slice(-n)))))}var Te={};Te.userAgent=!1;var me={};if(void 0===Ie||!Ie)var Ie={};Ie.Mv=function(){var e,t,r,i=arguments,n=null;for(e=0;e<i.length;e+=1)for(r=(""+i[e]).split("."),n=Ie,t="YAHOO"==r[0]?1:0;t<r.length;t+=1)n[r[t]]=n[r[t]]||{},n=n[r[t]];return n},Ie.log=function(e,t,r){var i=Ie.Uv.Fv;return!(!i||!i.log)&&i.log(e,t,r)},Ie.register=function(e,t,r){var i,n,s,o,a,h=Ie.Ms.Bv;for(h[e]||(h[e]={Hv:[],xv:[]}),i=h[e],n=r.version,s=r.Xg,o=Ie.Ms.vl,i.name=e,i.version=n,i.Xg=s,i.Hv.push(n),i.xv.push(s),i.qv=t,a=0;a<o.length;a+=1)o[a](i);t?(t.VERSION=n,t.Gv=s):Ie.log("mainClass is undefined for module "+e,"warn")},Ie.Ms=Ie.Ms||{Bv:[],vl:[]},Ie.Ms.getVersion=function(e){return Ie.Ms.Bv[e]||null},Ie.Ms.Vv=function(e){var t,r=function(e){var t=0;return parseFloat(e.replace(/\./g,function(){return 1==t++?"":"."}))},i=Te,n={jv:0,opera:0,Qv:0,Kv:0,chrome:0,Yv:null,Wv:0,zv:0,Jv:0,Xv:0,Zv:null,$v:0,ey:0,ty:i&&i.iy,ny:!1,os:null},s=e||Te&&Te.userAgent,o=me&&me.location,a=o&&o.href;return n.ny=a&&0===a.toLowerCase().indexOf("https"),s&&(/windows|win32/i.test(s)?n.os="windows":/macintosh/i.test(s)?n.os="macintosh":/rhino/i.test(s)&&(n.os="rhino"),/KHTML/.test(s)&&(n.Kv=1),t=s.match(/AppleWebKit\/([^\s]*)/),t&&t[1]&&(n.Kv=r(t[1]),/ Mobile\//.test(s)?(n.Yv="Apple",t=s.match(/OS ([^\s]*)/),t&&t[1]&&(t=r(t[1].replace("_","."))),n.Zv=t,n.zv=n.Xv=n.Jv=0,(t=s.match(/iPad|iPod|iPhone/))&&t[0]&&(n[t[0].toLowerCase()]=n.Zv)):(t=s.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/),t&&(n.Yv=t[0]),/webOS/.test(s)&&(n.Yv="WebOS",(t=s.match(/webOS\/([^\s]*);/))&&t[1]&&(n.ey=r(t[1]))),/ Android/.test(s)&&(n.Yv="Android",(t=s.match(/Android ([^\s]*);/))&&t[1]&&(n.$v=r(t[1])))),t=s.match(/Chrome\/([^\s]*)/),t&&t[1]?n.chrome=r(t[1]):(t=s.match(/AdobeAIR\/([^\s]*)/))&&(n.Wv=t[0])),n.Kv||(t=s.match(/Opera[\s\/]([^\s]*)/),t&&t[1]?(n.opera=r(t[1]),t=s.match(/Version\/([^\s]*)/),t&&t[1]&&(n.opera=r(t[1])),(t=s.match(/Opera Mini[^;]*/))&&(n.Yv=t[0])):(t=s.match(/MSIE\s([^;]*)/),t&&t[1]?n.jv=r(t[1]):(t=s.match(/Gecko\/([^\s]*)/))&&(n.Qv=1,(t=s.match(/rv:([^\s\)]*)/))&&t[1]&&(n.Qv=r(t[1])))))),n},Ie.Ms.sy=Ie.Ms.Vv(),function(){if(Ie.Mv("util","widget","example"),"undefined"!=typeof YAHOO_config){var e,t=YAHOO_config.listener,r=Ie.Ms.vl,i=!0;if(t){for(e=0;e<r.length;e++)if(r[e]==t){i=!1;break}i&&r.push(t)}}}(),Ie.lang=Ie.lang||{},function(){var e=Ie.lang,t=Object.prototype,r=[],i={oy:"&amp;",ay:"&lt;",hy:"&gt;",uy:"&quot;",ly:"&#x27;",py:"&#x2F;",gy:"&#x60;"},n=["toString","valueOf"],s={isArray:function(e){return"[object Array]"===t.toString.apply(e)},Ey:function(e){return"boolean"==typeof e},vy:function(e){return"function"==typeof e||"[object Function]"===t.toString.apply(e)},yy:function(e){return null===e},Ty:function(e){return"number"==typeof e&&isFinite(e)},au:function(t){return t&&("object"==typeof t||e.vy(t))||!1},my:function(e){return"string"==typeof e},Iy:function(e){return void 0===e},Sy:Ie.Ms.sy.jv?function(r,i){var s,o,a;for(s=0;s<n.length;s+=1)o=n[s],a=i[o],e.vy(a)&&a!=t[o]&&(r[o]=a)}:function(){},Ry:function(e){return e.replace(/[&<>"'\/`]/g,function(e){return i[e]})},extend:function(r,i,n){if(!i||!r)throw new Error("extend failed, please check that all dependencies are included.");var s,o=function(){};if(o.prototype=i.prototype,r.prototype=new o,r.prototype.constructor=r,r.wy=i.prototype,i.prototype.constructor==t.constructor&&(i.prototype.constructor=i),n){for(s in n)e.hasOwnProperty(n,s)&&(r.prototype[s]=n[s]);e.Sy(r.prototype,n)}},by:function(t,r){if(!r||!t)throw new Error("Absorb failed, verify dependencies.");var i,n,s=arguments,o=s[2];if(o&&!0!==o)for(i=2;i<s.length;i+=1)t[s[i]]=r[s[i]];else{for(n in r)!o&&n in t||(t[n]=r[n]);e.Sy(t,r)}return t},Cy:function(t,r){if(!r||!t)throw new Error("Augment failed, verify dependencies.");var i,n=[t.prototype,r.prototype];for(i=2;i<arguments.length;i+=1)n.push(arguments[i]);return e.by.apply(this,n),t},dump:function(t,r){var i,n,s=[],o="{...}";if(!e.au(t))return t+"";if(t instanceof Date||"nodeType"in t&&"tagName"in t)return t;if(e.vy(t))return"f(){...}";if(r=e.Ty(r)?r:3,e.isArray(t)){for(s.push("["),i=0,n=t.length;i<n;i+=1)e.au(t[i])?s.push(r>0?e.dump(t[i],r-1):o):s.push(t[i]),s.push(", ");s.length>1&&s.pop(),s.push("]")}else{s.push("{");for(i in t)e.hasOwnProperty(t,i)&&(s.push(i+" => "),e.au(t[i])?s.push(r>0?e.dump(t[i],r-1):o):s.push(t[i]),s.push(", "));s.length>1&&s.pop(),s.push("}")}return s.join("")},_y:function(t,r,i,n){for(var s,o,a,h,c,u,l,p,d,f=[],g=t.length;!((s=t.lastIndexOf("{",g))<0)&&(o=t.indexOf("}",s),!(s+1>o));)l=t.substring(s+1,o),h=l,u=null,a=h.indexOf(" "),a>-1&&(u=h.substring(a+1),h=h.substring(0,a)),c=r[h],i&&(c=i(h,c,u)),e.au(c)?e.isArray(c)?c=e.dump(c,parseInt(u,10)):(u=u||"",p=u.indexOf("dump"),p>-1&&(u=u.substring(4)),d=c.toString(),c="[object Object]"===d||p>-1?e.dump(c,parseInt(u,10)):d):e.my(c)||e.Ty(c)||(c="~-"+f.length+"-~",f[f.length]=l),t=t.substring(0,s)+c+t.substring(o+1),!1===n&&(g=s-1);for(s=f.length-1;s>=0;s-=1)t=t.replace(new RegExp("~-"+s+"-~"),"{"+f[s]+"}","g");return t},trim:function(e){try{return e.replace(/^\s+|\s+$/g,"")}catch(t){return e}},Py:function(){var t,r={},i=arguments,n=i.length;for(t=0;t<n;t+=1)e.by(r,i[t],!0);return r},Ay:function(t,i,n,s,o){t=t||0,i=i||{};var a,h,c=n,u=s;if(e.my(n)&&(c=i[n]),!c)throw new TypeError("method undefined");return e.Iy(s)||e.isArray(u)||(u=[s]),a=function(){c.apply(i,u||r)},h=o?setInterval(a,t):setTimeout(a,t),{interval:o,cancel:function(){this.interval?clearInterval(h):clearTimeout(h)}}},Oy:function(t){return e.au(t)||e.my(t)||e.Ty(t)||e.Ey(t)}};e.hasOwnProperty=t.hasOwnProperty?function(e,t){return e&&e.hasOwnProperty&&e.hasOwnProperty(t)}:function(t,r){return!e.Iy(t[r])&&t.constructor.prototype[r]!==t[r]},s.by(e,s,!0),Ie.util.Lang=e,e.Ny=e.Cy,Ie.Ny=e.Cy,Ie.extend=e.extend}(),Ie.register("yahoo",Ie,{version:"2.9.0",Xg:"2800"});/*! CryptoJS v3.1.2 core-fix.js
 * code.google.com/p/crypto-js
 * (c) 2009-2013 by Jeff Mott. All rights reserved.
 * code.google.com/p/crypto-js/wiki/License
 * THIS IS FIX of 'core.js' to fix Hmac issue.
 * https://code.google.com/p/crypto-js/issues/detail?id=84
 * https://crypto-js.googlecode.com/svn-history/r667/branches/3.x/src/core.js
 */
var Se=Se||function(e,t){var r={},i=r.Fg={},n=i.Dy=function(){function e(){}return{extend:function(t){e.prototype=this;var r=new e;return t&&r.ky(t),r.hasOwnProperty("init")||(r.init=function(){r.Ly.init.apply(this,arguments)}),r.init.prototype=r,r.Ly=this,r},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},ky:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),s=i.Mg=n.extend({init:function(e,t){e=this.My=e||[],this.Fy=void 0!=t?t:4*e.length},toString:function(e){return(e||a).stringify(this)},concat:function(e){var t=this.My,r=e.My,i=this.Fy,n=e.Fy;if(this.BE(),i%4)for(var s=0;s<n;s++){var o=r[s>>>2]>>>24-s%4*8&255;t[i+s>>>2]|=o<<24-(i+s)%4*8}else for(var s=0;s<n;s+=4)t[i+s>>>2]=r[s>>>2];return this.Fy+=n,this},BE:function(){var t=this.My,r=this.Fy;t[r>>>2]&=4294967295<<32-r%4*8,t.length=e.ceil(r/4)},clone:function(){var e=n.clone.call(this);return e.My=this.My.slice(0),e},random:function(t){for(var r=[],i=0;i<t;i+=4)r.push(4294967296*e.random()|0);return new s.init(r,t)}}),o=r.Uy={},a=o.By={stringify:function(e){for(var t=e.My,r=e.Fy,i=[],n=0;n<r;n++){var s=t[n>>>2]>>>24-n%4*8&255;i.push((s>>>4).toString(16)),i.push((15&s).toString(16))}return i.join("")},parse:function(e){for(var t=e.length,r=[],i=0;i<t;i+=2)r[i>>>3]|=parseInt(e.substr(i,2),16)<<24-i%8*4;return new s.init(r,t/2)}},h=o.Hy={stringify:function(e){for(var t=e.My,r=e.Fy,i=[],n=0;n<r;n++){var s=t[n>>>2]>>>24-n%4*8&255;i.push(String.fromCharCode(s))}return i.join("")},parse:function(e){for(var t=e.length,r=[],i=0;i<t;i++)r[i>>>2]|=(255&e.charCodeAt(i))<<24-i%4*8;return new s.init(r,t)}},c=o.xy={stringify:function(e){try{return decodeURIComponent(escape(h.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return h.parse(unescape(encodeURIComponent(e)))}},u=i.qy=n.extend({reset:function(){this.Gy=new s.init,this.Vy=0},jy:function(e){"string"==typeof e&&(e=c.parse(e)),this.Gy.concat(e),this.Vy+=e.Fy},Qy:function(t){var r=this.Gy,i=r.My,n=r.Fy,o=this.Ky,a=4*o,h=n/a;h=t?e.ceil(h):e.max((0|h)-this.Yy,0);var c=h*o,u=e.min(4*c,n);if(c){for(var l=0;l<c;l+=o)this.Wy(i,l);var p=i.splice(0,c);r.Fy-=u}return new s.init(p,u)},clone:function(){var e=n.clone.call(this);return e.Gy=this.Gy.clone(),e},Yy:0}),l=(i.zy=u.extend({Jy:n.extend(),init:function(e){this.Jy=this.Jy.extend(e),this.reset()},reset:function(){u.reset.call(this),this.Xy()},update:function(e){return this.jy(e),this.Qy(),this},Zy:function(e){return e&&this.jy(e),this.$y()},Ky:16,eT:function(e){return function(t,r){return new e.init(r).Zy(t)}},tT:function(e){return function(t,r){return new l.rT.init(e,r).Zy(t)}}}),r.iT={});return r}(Math);!function(e){function t(e,t,r,i,n,s,o){return((e=e+(t&r|~t&i)+n+o)<<s|e>>>32-s)+t}function r(e,t,r,i,n,s,o){return((e=e+(t&i|r&~i)+n+o)<<s|e>>>32-s)+t}function i(e,t,r,i,n,s,o){return((e=e+(t^r^i)+n+o)<<s|e>>>32-s)+t}function n(e,t,r,i,n,s,o){return((e=e+(r^(t|~i))+n+o)<<s|e>>>32-s)+t}for(var s=Se,o=s.Fg,a=o.Mg,h=o.zy,o=s.iT,c=[],u=0;64>u;u++)c[u]=4294967296*e.abs(e.sin(u+1))|0;o=o.Ug=h.extend({Xy:function(){this.nT=new a.init([1732584193,4023233417,2562383102,271733878])},Wy:function(e,s){for(var o=0;16>o;o++){var a=s+o,h=e[a];e[a]=16711935&(h<<8|h>>>24)|4278255360&(h<<24|h>>>8)}var o=this.nT.My,a=e[s+0],h=e[s+1],u=e[s+2],l=e[s+3],p=e[s+4],d=e[s+5],f=e[s+6],g=e[s+7],E=e[s+8],v=e[s+9],y=e[s+10],T=e[s+11],m=e[s+12],I=e[s+13],S=e[s+14],R=e[s+15],w=o[0],b=o[1],C=o[2],_=o[3],w=t(w,b,C,_,a,7,c[0]),_=t(_,w,b,C,h,12,c[1]),C=t(C,_,w,b,u,17,c[2]),b=t(b,C,_,w,l,22,c[3]),w=t(w,b,C,_,p,7,c[4]),_=t(_,w,b,C,d,12,c[5]),C=t(C,_,w,b,f,17,c[6]),b=t(b,C,_,w,g,22,c[7]),w=t(w,b,C,_,E,7,c[8]),_=t(_,w,b,C,v,12,c[9]),C=t(C,_,w,b,y,17,c[10]),b=t(b,C,_,w,T,22,c[11]),w=t(w,b,C,_,m,7,c[12]),_=t(_,w,b,C,I,12,c[13]),C=t(C,_,w,b,S,17,c[14]),b=t(b,C,_,w,R,22,c[15]),w=r(w,b,C,_,h,5,c[16]),_=r(_,w,b,C,f,9,c[17]),C=r(C,_,w,b,T,14,c[18]),b=r(b,C,_,w,a,20,c[19]),w=r(w,b,C,_,d,5,c[20]),_=r(_,w,b,C,y,9,c[21]),C=r(C,_,w,b,R,14,c[22]),b=r(b,C,_,w,p,20,c[23]),w=r(w,b,C,_,v,5,c[24]),_=r(_,w,b,C,S,9,c[25]),C=r(C,_,w,b,l,14,c[26]),b=r(b,C,_,w,E,20,c[27]),w=r(w,b,C,_,I,5,c[28]),_=r(_,w,b,C,u,9,c[29]),C=r(C,_,w,b,g,14,c[30]),b=r(b,C,_,w,m,20,c[31]),w=i(w,b,C,_,d,4,c[32]),_=i(_,w,b,C,E,11,c[33]),C=i(C,_,w,b,T,16,c[34]),b=i(b,C,_,w,S,23,c[35]),w=i(w,b,C,_,h,4,c[36]),_=i(_,w,b,C,p,11,c[37]),C=i(C,_,w,b,g,16,c[38]),b=i(b,C,_,w,y,23,c[39]),w=i(w,b,C,_,I,4,c[40]),_=i(_,w,b,C,a,11,c[41]),C=i(C,_,w,b,l,16,c[42]),b=i(b,C,_,w,f,23,c[43]),w=i(w,b,C,_,v,4,c[44]),_=i(_,w,b,C,m,11,c[45]),C=i(C,_,w,b,R,16,c[46]),b=i(b,C,_,w,u,23,c[47]),w=n(w,b,C,_,a,6,c[48]),_=n(_,w,b,C,g,10,c[49]),C=n(C,_,w,b,S,15,c[50]),b=n(b,C,_,w,d,21,c[51]),w=n(w,b,C,_,m,6,c[52]),_=n(_,w,b,C,l,10,c[53]),C=n(C,_,w,b,y,15,c[54]),b=n(b,C,_,w,h,21,c[55]),w=n(w,b,C,_,E,6,c[56]),_=n(_,w,b,C,R,10,c[57]),C=n(C,_,w,b,f,15,c[58]),b=n(b,C,_,w,I,21,c[59]),w=n(w,b,C,_,p,6,c[60]),_=n(_,w,b,C,T,10,c[61]),C=n(C,_,w,b,u,15,c[62]),b=n(b,C,_,w,v,21,c[63]);o[0]=o[0]+w|0,o[1]=o[1]+b|0,o[2]=o[2]+C|0,o[3]=o[3]+_|0},$y:function(){var t=this.Gy,r=t.My,i=8*this.Vy,n=8*t.Fy;r[n>>>5]|=128<<24-n%32;var s=e.floor(i/4294967296);for(r[15+(n+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),r[14+(n+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),t.Fy=4*(r.length+1),this.Qy(),t=this.nT,r=t.My,i=0;4>i;i++)n=r[i],r[i]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8);return t},clone:function(){var e=h.clone.call(this);return e.nT=this.nT.clone(),e}}),s.Ug=h.eT(o),s.sT=h.tT(o)}(Math),function(){var e=Se,t=e.Fg,r=t.Mg,i=t.zy,n=[],t=e.iT.oT=i.extend({Xy:function(){this.nT=new r.init([1732584193,4023233417,2562383102,271733878,3285377520])},Wy:function(e,t){for(var r=this.nT.My,i=r[0],s=r[1],o=r[2],a=r[3],h=r[4],c=0;80>c;c++){if(16>c)n[c]=0|e[t+c];else{var u=n[c-3]^n[c-8]^n[c-14]^n[c-16];n[c]=u<<1|u>>>31}u=(i<<5|i>>>27)+h+n[c],u=20>c?u+(1518500249+(s&o|~s&a)):40>c?u+(1859775393+(s^o^a)):60>c?u+((s&o|s&a|o&a)-1894007588):u+((s^o^a)-899497514),h=a,a=o,o=s<<30|s>>>2,s=i,i=u}r[0]=r[0]+i|0,r[1]=r[1]+s|0,r[2]=r[2]+o|0,r[3]=r[3]+a|0,r[4]=r[4]+h|0},$y:function(){var e=this.Gy,t=e.My,r=8*this.Vy,i=8*e.Fy;return t[i>>>5]|=128<<24-i%32,t[14+(i+64>>>9<<4)]=Math.floor(r/4294967296),t[15+(i+64>>>9<<4)]=r,e.Fy=4*t.length,this.Qy(),this.nT},clone:function(){var e=i.clone.call(this);return e.nT=this.nT.clone(),e}});e.oT=i.eT(t),e.aT=i.tT(t)}();/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/ */
var Re;"Microsoft Internet Explorer"==Te.appName?(r.prototype.VE=s,Re=30):"Netscape"!=Te.appName?(r.prototype.VE=n,Re=26):(r.prototype.VE=o,Re=28),r.prototype.UE=Re,r.prototype.xE=(1<<Re)-1,r.prototype.LE=1<<Re;r.prototype.WE=Math.pow(2,52),r.prototype.KE=52-Re,r.prototype.YE=2*Re-52;var we,be,Ce="0123456789abcdefghijklmnopqrstuvwxyz",_e=new Array;for(we="0".charCodeAt(0),be=0;be<=9;++be)_e[we++]=be;for(we="a".charCodeAt(0),be=10;be<36;++be)_e[we++]=be;for(we="A".charCodeAt(0),be=10;be<36;++be)_e[we++]=be;A.prototype.uv=O,A.prototype.dv=N,A.prototype.reduce=D,A.prototype.pv=k,A.prototype.lv=L,F.prototype.uv=U,F.prototype.dv=B,F.prototype.reduce=H,F.prototype.pv=q,F.prototype.lv=x,r.prototype.jE=c,r.prototype.ME=u,r.prototype.kE=p,r.prototype.BE=d,r.prototype.zE=m,r.prototype.XE=I,r.prototype.QE=S,r.prototype.ZE=R,r.prototype.HE=w,r.prototype.tv=b,r.prototype.rv=C,r.prototype.$E=_,r.prototype.sv=M,r.prototype.fv=G,r.prototype.exp=V,r.prototype.toString=f,r.prototype.qE=g,r.prototype.abs=E,r.prototype.JE=v,r.prototype.Sv=T,r.prototype.ev=P,r.prototype.Iv=j,r.ZERO=l(0),r.ONE=l(1),/*! asn1-1.0.9.js (c) 2013-2015 Kenji Urushima | kjur.github.com/jsrsasign/license
 */
"undefined"!=typeof KJUR&&KJUR||(KJUR={}),void 0!==KJUR.hT&&KJUR.hT||(KJUR.hT={}),KJUR.hT.cT=new function(){this.uT=function(e){var t=e.toString(16);return t.length%2==1&&(t="0"+t),t},this.lT=function(e){var t=e.toString(16);if("-"!=t.substr(0,1))t.length%2==1?t="0"+t:t.match(/^[0-7]/)||(t="00"+t);else{var i=t.substr(1),n=i.length;n%2==1?n+=1:t.match(/^[0-7]/)||(n+=2);for(var s="",o=0;o<n;o++)s+="f";t=new r(s,16).pT(e).add(r.ONE).toString(16).replace(/^-/,"")}return t},this.dT=function(e,t){var r=(KJUR.hT,Se.Uy.By.parse(e)),i=Se.Uy.fT.stringify(r),n=i.replace(/(.{64})/g,"$1\r\n");return n=n.replace(/\r\n$/,""),"-----BEGIN "+t+"-----\r\n"+n+"\r\n-----END "+t+"-----\r\n"},this.gT=function(e){var t=KJUR.hT,r=Object.keys(e);if(1!=r.length)throw"key of param shall be only one.";var i=r[0];if(-1==":bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:seq:set:tag:".indexOf(":"+i+":"))throw"undefined key: "+i;if("bool"==i)return new t.ET(e[i]);if("int"==i)return new t.vT(e[i]);if("bitstr"==i)return new t.yT(e[i]);if("octstr"==i)return new t.TT(e[i]);if("null"==i)return new t.mT(e[i]);if("oid"==i)return new t.IT(e[i]);if("enum"==i)return new t.ST(e[i]);if("utf8str"==i)return new t.RT(e[i]);if("numstr"==i)return new t.wT(e[i]);if("prnstr"==i)return new t.bT(e[i]);if("telstr"==i)return new t.CT(e[i]);if("ia5str"==i)return new t._T(e[i]);if("utctime"==i)return new t.PT(e[i]);if("gentime"==i)return new t.AT(e[i]);if("seq"==i){for(var n=e[i],s=[],o=0;o<n.length;o++){var a=t.cT.gT(n[o]);s.push(a)}return new t.OT({NT:s})}if("set"==i){for(var n=e[i],s=[],o=0;o<n.length;o++){var a=t.cT.gT(n[o]);s.push(a)}return new t.DT({NT:s})}if("tag"==i){var h=e[i];if("[object Array]"===Object.prototype.toString.call(h)&&3==h.length){var c=t.cT.gT(h[2]);return new t.kT({tag:h[0],LT:h[1],MT:c})}var u={};if(void 0!==h.LT&&(u.LT=h.LT),void 0!==h.tag&&(u.tag=h.tag),void 0===h.MT)throw"obj shall be specified for 'tag'.";return u.MT=t.cT.gT(h.MT),new t.kT(u)}},this.FT=function(e){return this.gT(e).UT()}},KJUR.hT.cT.BT=function(e){for(var t="",i=parseInt(e.substr(0,2),16),n=Math.floor(i/40),s=i%40,t=n+"."+s,o="",a=2;a<e.length;a+=2){var h=parseInt(e.substr(a,2),16),c=("00000000"+h.toString(2)).slice(-8);if(o+=c.substr(1,7),"0"==c.substr(0,1)){t=t+"."+new r(o,2).toString(10),o=""}}return t},KJUR.hT.cT.HT=function(e){var t=function(e){var t=e.toString(16);return 1==t.length&&(t="0"+t),t};if(!e.match(/^[0-9.]+$/))throw"malformed oid string: "+e;var i="",n=e.split("."),s=40*parseInt(n[0])+parseInt(n[1]);i+=t(s),n.splice(0,2);for(var o=0;o<n.length;o++)i+=function(e){var i="",n=new r(e,10),s=n.toString(2),o=7-s.length%7;7==o&&(o=0);for(var a="",h=0;h<o;h++)a+="0";s=a+s;for(var h=0;h<s.length-1;h+=7){var c=s.substr(h,7);h!=s.length-7&&(c="1"+c),i+=t(parseInt(c,2))}return i}(n[o]);return i},KJUR.hT.xT=function(){this.qT=function(){if(void 0===this.GT||null==this.GT)throw"this.hV is null or undefined.";if(this.GT.length%2==1)throw"value hex must be even length: n="+"".length+",v="+this.GT;var e=this.GT.length/2,t=e.toString(16);if(t.length%2==1&&(t="0"+t),e<128)return t;var r=t.length/2;if(r>15)throw"ASN.1 length too long to represent by 8x: n = "+e.toString(16);return(128+r).toString(16)+t},this.UT=function(){return(null==this.VT||this.jT)&&(this.GT=this.QT(),this.KT=this.qT(),this.VT=this.YT+this.KT+this.GT,this.jT=!1),this.VT},this.WT=function(){return this.UT(),this.GT},this.QT=function(){return""}},KJUR.hT.zT=function(e){KJUR.hT.zT.wy.constructor.call(this);this.JT=function(){return this.T},this.XT=function(e){this.VT=null,this.jT=!0,this.T=e,this.GT=stohex(this.T)},this.ZT=function(e){this.VT=null,this.jT=!0,this.T=null,this.GT=e},this.QT=function(){return this.GT},void 0!==e&&("string"==typeof e?this.XT(e):void 0!==e.str?this.XT(e.str):void 0!==e.$T&&this.ZT(e.$T))},Ie.lang.extend(KJUR.hT.zT,KJUR.hT.xT),KJUR.hT.em=function(e){KJUR.hT.em.wy.constructor.call(this);this.tm=function(e){return utc=e.getTime()+6e4*e.getTimezoneOffset(),new Date(utc)},this.rm=function(e,t,r){var i=this.im,n=this.tm(e),s=String(n.getFullYear());"utc"==t&&(s=s.substr(2,2));var o=i(String(n.getMonth()+1),2),a=i(String(n.getDate()),2),h=i(String(n.getHours()),2),c=i(String(n.getMinutes()),2),u=i(String(n.getSeconds()),2),l=s+o+a+h+c+u;if(!0===r){var p=n.getMilliseconds();if(0!=p){var d=i(String(p),3);d=d.replace(/[0]+$/,""),l=l+"."+d}}return l+"Z"},this.im=function(e,t){return e.length>=t?e:new Array(t-e.length+1).join("0")+e},this.JT=function(){return this.T},this.XT=function(e){this.VT=null,this.jT=!0,this.T=e,this.GT=stohex(e)},this.nm=function(e,t,r,i,n,s){var o=new Date(Date.UTC(e,t-1,r,i,n,s,0));this.sm(o)},this.QT=function(){return this.GT}},Ie.lang.extend(KJUR.hT.em,KJUR.hT.xT),KJUR.hT.om=function(e){KJUR.hT.zT.wy.constructor.call(this);this.am=function(e){this.VT=null,this.jT=!0,this.hm=e},this.cm=function(e){this.VT=null,this.jT=!0,this.hm.push(e)},this.hm=new Array,void 0!==e&&void 0!==e.NT&&(this.hm=e.NT)},Ie.lang.extend(KJUR.hT.om,KJUR.hT.xT),KJUR.hT.ET=function(){KJUR.hT.ET.wy.constructor.call(this),this.YT="01",this.VT="0101ff"},Ie.lang.extend(KJUR.hT.ET,KJUR.hT.xT),KJUR.hT.vT=function(e){KJUR.hT.vT.wy.constructor.call(this),this.YT="02",this.um=function(e){this.VT=null,this.jT=!0,this.GT=KJUR.hT.cT.lT(e)},this.lm=function(e){var t=new r(String(e),10);this.um(t)},this.pm=function(e){this.GT=e},this.QT=function(){return this.GT},void 0!==e&&(void 0!==e.dm?this.um(e.dm):void 0!==e.fm?this.lm(e.fm):"number"==typeof e?this.lm(e):void 0!==e.$T&&this.pm(e.$T))},Ie.lang.extend(KJUR.hT.vT,KJUR.hT.xT),KJUR.hT.yT=function(e){KJUR.hT.yT.wy.constructor.call(this),this.YT="03",this.gm=function(e){this.VT=null,this.jT=!0,this.GT=e},this.Em=function(e,t){if(e<0||7<e)throw"unused bits shall be from 0 to 7: u = "+e;var r="0"+e;this.VT=null,this.jT=!0,this.GT=r+t},this.vm=function(e){e=e.replace(/0+$/,"");var t=8-e.length%8;8==t&&(t=0);for(var r=0;r<=t;r++)e+="0";for(var i="",r=0;r<e.length-1;r+=8){var n=e.substr(r,8),s=parseInt(n,2).toString(16);1==s.length&&(s="0"+s),i+=s}this.VT=null,this.jT=!0,this.GT="0"+t+i},this.ym=function(e){for(var t="",r=0;r<e.length;r++)1==e[r]?t+="1":t+="0";this.vm(t)},this.Tm=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=!1;return t},this.QT=function(){return this.GT},void 0!==e&&("string"==typeof e&&e.toLowerCase().match(/^[0-9a-f]+$/)?this.gm(e):void 0!==e.$T?this.gm(e.$T):void 0!==e.mm?this.vm(e.mm):void 0!==e.NT&&this.ym(e.NT))},Ie.lang.extend(KJUR.hT.yT,KJUR.hT.xT),KJUR.hT.TT=function(e){KJUR.hT.TT.wy.constructor.call(this,e),this.YT="04"},Ie.lang.extend(KJUR.hT.TT,KJUR.hT.zT),KJUR.hT.mT=function(){KJUR.hT.mT.wy.constructor.call(this),this.YT="05",this.VT="0500"},Ie.lang.extend(KJUR.hT.mT,KJUR.hT.xT),KJUR.hT.IT=function(e){var t=function(e){var t=e.toString(16);return 1==t.length&&(t="0"+t),t},i=function(e){var i="",n=new r(e,10),s=n.toString(2),o=7-s.length%7;7==o&&(o=0);for(var a="",h=0;h<o;h++)a+="0";s=a+s;for(var h=0;h<s.length-1;h+=7){var c=s.substr(h,7);h!=s.length-7&&(c="1"+c),i+=t(parseInt(c,2))}return i};KJUR.hT.IT.wy.constructor.call(this),this.YT="06",this.pm=function(e){this.VT=null,this.jT=!0,this.T=null,this.GT=e},this.Im=function(e){if(!e.match(/^[0-9.]+$/))throw"malformed oid string: "+e;var r="",n=e.split("."),s=40*parseInt(n[0])+parseInt(n[1]);r+=t(s),n.splice(0,2);for(var o=0;o<n.length;o++)r+=i(n[o]);this.VT=null,this.jT=!0,this.T=null,this.GT=r},this.Sm=function(e){if(void 0===KJUR.hT.bm.wm.Rm[e])throw"DERObjectIdentifier oidName undefined: "+e;var t=KJUR.hT.bm.wm.Rm[e];this.Im(t)},this.QT=function(){return this.GT},void 0!==e&&("string"==typeof e&&e.match(/^[0-2].[0-9.]+$/)?this.Im(e):void 0!==KJUR.hT.bm.wm.Rm[e]?this.Im(KJUR.hT.bm.wm.Rm[e]):void 0!==e.Cm?this.Im(e.Cm):void 0!==e.$T?this.pm(e.$T):void 0!==e.name&&this.Sm(e.name))},Ie.lang.extend(KJUR.hT.IT,KJUR.hT.xT),KJUR.hT.ST=function(e){KJUR.hT.ST.wy.constructor.call(this),this.YT="0a",this.um=function(e){this.VT=null,this.jT=!0,this.GT=KJUR.hT.cT.lT(e)},this.lm=function(e){var t=new r(String(e),10);this.um(t)},this.pm=function(e){this.GT=e},this.QT=function(){return this.GT},void 0!==e&&(void 0!==e.fm?this.lm(e.fm):"number"==typeof e?this.lm(e):void 0!==e.$T&&this.pm(e.$T))},Ie.lang.extend(KJUR.hT.ST,KJUR.hT.xT),KJUR.hT.RT=function(e){KJUR.hT.RT.wy.constructor.call(this,e),this.YT="0c"},Ie.lang.extend(KJUR.hT.RT,KJUR.hT.zT),KJUR.hT.wT=function(e){KJUR.hT.wT.wy.constructor.call(this,e),this.YT="12"},Ie.lang.extend(KJUR.hT.wT,KJUR.hT.zT),KJUR.hT.bT=function(e){KJUR.hT.bT.wy.constructor.call(this,e),this.YT="13"},Ie.lang.extend(KJUR.hT.bT,KJUR.hT.zT),KJUR.hT.CT=function(e){KJUR.hT.CT.wy.constructor.call(this,e),this.YT="14"},Ie.lang.extend(KJUR.hT.CT,KJUR.hT.zT),KJUR.hT._T=function(e){KJUR.hT._T.wy.constructor.call(this,e),this.YT="16"},Ie.lang.extend(KJUR.hT._T,KJUR.hT.zT),KJUR.hT.PT=function(e){KJUR.hT.PT.wy.constructor.call(this,e),this.YT="17",this.sm=function(e){this.VT=null,this.jT=!0,this._m=e,this.T=this.rm(this._m,"utc"),this.GT=stohex(this.T)},this.QT=function(){return void 0===this._m&&void 0===this.T&&(this._m=new Date,this.T=this.rm(this._m,"utc"),this.GT=stohex(this.T)),this.GT},void 0!==e&&(void 0!==e.str?this.XT(e.str):"string"==typeof e&&e.match(/^[0-9]{12}Z$/)?this.XT(e):void 0!==e.$T?this.ZT(e.$T):void 0!==e._m&&this.sm(e._m))},Ie.lang.extend(KJUR.hT.PT,KJUR.hT.em),KJUR.hT.AT=function(e){KJUR.hT.AT.wy.constructor.call(this,e),this.YT="18",this.Pm=!1,this.sm=function(e){this.VT=null,this.jT=!0,this._m=e,this.T=this.rm(this._m,"gen",this.Pm),this.GT=stohex(this.T)},this.QT=function(){return void 0===this._m&&void 0===this.T&&(this._m=new Date,this.T=this.rm(this._m,"gen",this.Pm),this.GT=stohex(this.T)),this.GT},void 0!==e&&(void 0!==e.str?this.XT(e.str):"string"==typeof e&&e.match(/^[0-9]{14}Z$/)?this.XT(e):void 0!==e.$T?this.ZT(e.$T):void 0!==e._m&&this.sm(e._m),!0===e.Am&&(this.Pm=!0))},Ie.lang.extend(KJUR.hT.AT,KJUR.hT.em),KJUR.hT.OT=function(e){KJUR.hT.OT.wy.constructor.call(this,e),this.YT="30",this.QT=function(){for(var e="",t=0;t<this.hm.length;t++){e+=this.hm[t].UT()}return this.GT=e,this.GT}},Ie.lang.extend(KJUR.hT.OT,KJUR.hT.om),KJUR.hT.DT=function(e){KJUR.hT.DT.wy.constructor.call(this,e),this.YT="31",this.Om=!0,this.QT=function(){for(var e=new Array,t=0;t<this.hm.length;t++){var r=this.hm[t];e.push(r.UT())}return 1==this.Om&&e.sort(),this.GT=e.join(""),this.GT},void 0!==e&&void 0!==e.Nm&&0==e.Nm&&(this.Om=!1)},Ie.lang.extend(KJUR.hT.DT,KJUR.hT.om),KJUR.hT.kT=function(e){KJUR.hT.kT.wy.constructor.call(this),this.YT="a0",this.GT="",this.Dm=!0,this.km=null,this.Lm=function(e,t,r){this.YT=t,this.Dm=e,this.km=r,this.Dm?(this.GT=this.km.UT(),this.VT=null,this.jT=!0):(this.GT=null,this.VT=r.UT(),this.VT=this.VT.replace(/^../,t),this.jT=!1)},this.QT=function(){return this.GT},void 0!==e&&(void 0!==e.tag&&(this.YT=e.tag),void 0!==e.LT&&(this.Dm=e.LT),void 0!==e.MT&&(this.km=e.MT,this.Lm(this.Dm,this.YT,this.km)))},Ie.lang.extend(KJUR.hT.kT,KJUR.hT.xT);/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/ */
var Pe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ae="=";/*! crypto-1.1.8.js (c) 2013-2016 Kenji Urushima | kjur.github.com/jsrsasign/license
 */
"undefined"!=typeof KJUR&&KJUR||(KJUR={}),void 0!==KJUR.crypto&&KJUR.crypto||(KJUR.crypto={}),KJUR.crypto.bv=new function(){this.Dv={sha1:"3021300906052b0e03021a05000414",Mm:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",Fm:"3041300d060960864801650304020205000430",Um:"3051300d060960864801650304020305000440",Bm:"3020300c06082a864886f70d020205000410",Hm:"3020300c06082a864886f70d020505000410",xm:"3021300906052b2403020105000414"},this.qm={Hm:"cryptojs",sha1:"cryptojs",Mm:"cryptojs",sha256:"cryptojs",Fm:"cryptojs",Um:"cryptojs",xm:"cryptojs",Gm:"cryptojs",Vm:"cryptojs",jm:"cryptojs",Qm:"cryptojs",Km:"cryptojs",Ym:"cryptojs",Wm:"cryptojs",zm:"cryptojs/jsrsa",Jm:"cryptojs/jsrsa",Xm:"cryptojs/jsrsa",Zm:"cryptojs/jsrsa",$m:"cryptojs/jsrsa",eI:"cryptojs/jsrsa",tI:"cryptojs/jsrsa",rI:"cryptojs/jsrsa",iI:"cryptojs/jsrsa",nI:"cryptojs/jsrsa",sI:"cryptojs/jsrsa",oI:"cryptojs/jsrsa",aI:"cryptojs/jsrsa",hI:"cryptojs/jsrsa",cI:"cryptojs/jsrsa",uI:"cryptojs/jsrsa",lI:"cryptojs/jsrsa",pI:"cryptojs/jsrsa",dI:"cryptojs/jsrsa",fI:"cryptojs/jsrsa",gI:"cryptojs/jsrsa",EI:"cryptojs/jsrsa",vI:"cryptojs/jsrsa",yI:"cryptojs/jsrsa"},this.TI={Hm:Se.iT.Ug,sha1:Se.iT.oT,Mm:Se.iT.mI,sha256:Se.iT.II,Fm:Se.iT.SI,Um:Se.iT.RI,xm:Se.iT.wI},this.bI=function(e,t){if(void 0===this.Dv[t])throw"alg not supported in Util.DIGESTINFOHEAD: "+t;return this.Dv[t]+e},this._v=function(e,t,r){var i=this.bI(e,t),n=r/4;if(i.length+22>n)throw"key is too short for SigAlg: keylen="+r+","+t;for(var s="0001",o="00"+i,a="",h=n-s.length-o.length,c=0;c<h;c+=2)a+="ff";return s+a+o},this.wv=function(e,t){return new KJUR.crypto._I({AI:t}).CI(e)},this.Av=function(e,t){return new KJUR.crypto._I({AI:t}).OI(e)},this.sha1=function(e){return new KJUR.crypto._I({AI:"sha1",NI:"cryptojs"}).CI(e)},this.sha256=function(e){return new KJUR.crypto._I({AI:"sha256",NI:"cryptojs"}).CI(e)},this.DI=function(e){return new KJUR.crypto._I({AI:"sha256",NI:"cryptojs"}).OI(e)},this.Um=function(e){return new KJUR.crypto._I({AI:"sha512",NI:"cryptojs"}).CI(e)},this.kI=function(e){return new KJUR.crypto._I({AI:"sha512",NI:"cryptojs"}).OI(e)},this.Hm=function(e){return new KJUR.crypto._I({AI:"md5",NI:"cryptojs"}).CI(e)},this.xm=function(e){return new KJUR.crypto._I({AI:"ripemd160",NI:"cryptojs"}).CI(e)},this.LI=function(e){}},KJUR.crypto._I=function(e){this.MI=function(e,t){if(null!=e&&void 0===t&&(t=KJUR.crypto.bv.qm[e]),-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(e)&&"cryptojs"==t){try{this.FI=KJUR.crypto.bv.TI[e].create()}catch(t){throw"setAlgAndProvider hash alg set fail alg="+e+"/"+t}this.UI=function(e){this.FI.update(e)},this.BI=function(e){var t=Se.Uy.By.parse(e);this.FI.update(t)},this.digest=function(){return this.FI.Zy().toString(Se.Uy.By)},this.CI=function(e){return this.UI(e),this.digest()},this.OI=function(e){return this.BI(e),this.digest()}}if(-1!=":sha256:".indexOf(e)&&"sjcl"==t){try{this.FI=new sjcl.hash.sha256}catch(t){throw"setAlgAndProvider hash alg set fail alg="+e+"/"+t}this.UI=function(e){this.FI.update(e)},this.BI=function(e){var t=sjcl.xI.$T.HI(e);this.FI.update(t)},this.digest=function(){var e=this.FI.Zy();return sjcl.xI.$T.qI(e)},this.CI=function(e){return this.UI(e),this.digest()},this.OI=function(e){return this.BI(e),this.digest()}}},this.UI=function(e){throw"updateString(str) not supported for this alg/prov: "+this.GI+"/"+this.VI},this.BI=function(e){throw"updateHex(hex) not supported for this alg/prov: "+this.GI+"/"+this.VI},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.GI+"/"+this.VI},this.CI=function(e){throw"digestString(str) not supported for this alg/prov: "+this.GI+"/"+this.VI},this.OI=function(e){throw"digestHex(hex) not supported for this alg/prov: "+this.GI+"/"+this.VI},void 0!==e&&void 0!==e.AI&&(this.GI=e.AI,void 0===e.NI&&(this.VI=KJUR.crypto.bv.qm[this.GI]),this.MI(this.GI,this.VI))},KJUR.crypto.jI=function(e){this.MI=function(e,t){if(e=e.toLowerCase(),null==e&&(e="hmacsha1"),e=e.toLowerCase(),"hmac"!=e.substr(0,4))throw"setAlgAndProvider unsupported HMAC alg: "+e;void 0===t&&(t=KJUR.crypto.bv.qm[e]),this.QI=e+"/"+t;var r=e.substr(4);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(r)&&"cryptojs"==t){try{var i=KJUR.crypto.bv.TI[r];this.mac=Se.iT.rT.create(i,this.KI)}catch(e){throw"setAlgAndProvider hash alg set fail hashAlg="+r+"/"+e}this.UI=function(e){this.mac.update(e)},this.BI=function(e){var t=Se.Uy.By.parse(e);this.mac.update(t)},this.YI=function(){return this.mac.Zy().toString(Se.Uy.By)},this.WI=function(e){return this.UI(e),this.YI()},this.zI=function(e){return this.BI(e),this.YI()}}},this.UI=function(e){throw"updateString(str) not supported for this alg/prov: "+this.QI},this.BI=function(e){throw"updateHex(hex) not supported for this alg/prov: "+this.QI},this.YI=function(){throw"digest() not supported for this alg/prov: "+this.QI},this.WI=function(e){throw"digestString(str) not supported for this alg/prov: "+this.QI},this.zI=function(e){throw"digestHex(hex) not supported for this alg/prov: "+this.QI},this.JI=function(e){if("string"==typeof e){var t=e;return e.length%2!=1&&e.match(/^[0-9A-Fa-f]+$/)||(t=rstrtohex(e)),void(this.KI=Se.Uy.By.parse(t))}if("object"!=typeof e)throw"KJUR.crypto.Mac unsupported password type: "+e;var t=null;if(void 0!==e.$T){if(e.$T.length%2!=0||!e.$T.match(/^[0-9A-Fa-f]+$/))throw"Mac: wrong hex password: "+e.$T;t=e.$T}if(void 0!==e.XI&&(t=utf8tohex(e.XI)),void 0!==e.ZI&&(t=rstrtohex(e.ZI)),void 0!==e.$I&&(t=Q(e.$I)),void 0!==e.eS&&(t=b64utohex(e.eS)),null==t)throw"KJUR.crypto.Mac unsupported password type: "+e;this.KI=Se.Uy.By.parse(t)},void 0!==e&&(void 0!==e.KI&&this.JI(e.KI),void 0!==e.AI&&(this.GI=e.AI,void 0===e.NI&&(this.VI=KJUR.crypto.bv.qm[this.GI]),this.MI(this.GI,this.VI)))},KJUR.crypto.Signature=function(e){var t=null;if(this.tS=function(){this.GI.match(/^(.+)with(.+)$/)&&(this.rS=RegExp.$1.toLowerCase(),this.iS=RegExp.$2.toLowerCase())},this.nS=function(e,t){for(var r="",i=t/4-e.length,n=0;n<i;n++)r+="0";return r+e},this.MI=function(e,t){if(this.tS(),"cryptojs/jsrsa"!=t)throw"provider not supported: "+t;if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.rS)){try{this.FI=new KJUR.crypto._I({AI:this.rS})}catch(e){throw"setAlgAndProvider hash alg set fail alg="+this.rS+"/"+e}this.init=function(e,t){var r=null;try{r=void 0===t?KEYUTIL.getKey(e):KEYUTIL.getKey(e,t)}catch(e){throw"init failed:"+e}if(!0===r.sS)this.oS=r,this.state="SIGN";else{if(!0!==r.mv)throw"init failed.:"+r;this.aS=r,this.state="VERIFY"}},this.hS=function(e){"string"==typeof e.cS&&"string"==typeof e.uS?(this.cS=e.cS,this.uS=e.uS):this.oS=e,this.state="SIGN"},this.lS=function(e){"string"==typeof e.pS&&"string"==typeof e.uS?(this.pS=e.pS,this.uS=e.uS):e instanceof KJUR.crypto.dS?this.aS=e:e instanceof X&&(this.aS=e),this.state="VERIFY"},this.fS=function(e){var t=new X509;t.gS(e),this.aS=t.ES,this.state="VERIFY"},this.UI=function(e){this.FI.UI(e)},this.BI=function(e){this.FI.BI(e)},this.sign=function(){if(this.vS=this.FI.digest(),void 0!==this.cS&&void 0!==this.uS){var e=new KJUR.crypto.dS({curve:this.uS});this.yS=e.TS(this.vS,this.cS)}else if(this.oS instanceof X&&"rsaandmgf1"==this.iS)this.yS=this.oS.Ov(this.vS,this.rS,this.mS);else if(this.oS instanceof X&&"rsa"==this.iS)this.yS=this.oS.Cv(this.vS,this.rS);else if(this.oS instanceof KJUR.crypto.dS)this.yS=this.oS.Cv(this.vS);else{if(!(this.oS instanceof KJUR.crypto.IS))throw"Signature: unsupported public key alg: "+this.iS;this.yS=this.oS.Cv(this.vS)}return this.yS},this.SS=function(e){return this.UI(e),this.sign()},this.TS=function(e){return this.BI(e),this.sign()},this.verify=function(e){if(this.vS=this.FI.digest(),void 0!==this.pS&&void 0!==this.uS){return new KJUR.crypto.dS({curve:this.uS}).RS(this.vS,e,this.pS)}if(this.aS instanceof X&&"rsaandmgf1"==this.iS)return this.aS.kv(this.vS,e,this.rS,this.mS);if(this.aS instanceof X&&"rsa"==this.iS)return this.aS.wS(this.vS,e);if(this.aS instanceof KJUR.crypto.dS)return this.aS.wS(this.vS,e);if(this.aS instanceof KJUR.crypto.IS)return this.aS.wS(this.vS,e);throw"Signature: unsupported public key alg: "+this.iS}}},this.init=function(e,t){throw"init(key, pass) not supported for this alg:prov="+this.bS},this.lS=function(e){throw"initVerifyByPublicKey(rsaPubKeyy) not supported for this alg:prov="+this.bS},this.fS=function(e){throw"initVerifyByCertificatePEM(certPEM) not supported for this alg:prov="+this.bS},this.hS=function(e){throw"initSign(prvKey) not supported for this alg:prov="+this.bS},this.UI=function(e){throw"updateString(str) not supported for this alg:prov="+this.bS},this.BI=function(e){throw"updateHex(hex) not supported for this alg:prov="+this.bS},this.sign=function(){throw"sign() not supported for this alg:prov="+this.bS},this.SS=function(e){throw"digestString(str) not supported for this alg:prov="+this.bS},this.TS=function(e){throw"digestHex(hex) not supported for this alg:prov="+this.bS},this.verify=function(e){throw"verify(hSigVal) not supported for this alg:prov="+this.bS},this.CS=e,void 0!==e&&(void 0!==e.AI&&(this.GI=e.AI,void 0===e.NI?this.VI=KJUR.crypto.bv.qm[this.GI]:this.VI=e.NI,this.bS=this.GI+":"+this.VI,this.MI(this.GI,this.VI),this.tS()),void 0!==e._S&&(this.mS=e._S),void 0!==e.PS)){if(void 0!==e.OS)throw"both prvkeypem and prvkeypas parameters not supported";try{var t=new X;t.NS(e.PS),this.hS(t)}catch(e){throw"fatal error to load pem private key: "+e}}},KJUR.crypto.wm=new function(){this.DS={kS:"rsaEncryption",LS:"ecPublicKey",MS:"dsa",FS:"secp256r1",US:"secp192k1",BS:"secp224r1",HS:"secp256k1",xS:"secp521r1",qS:"secp384r1",GS:"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}};var Oe=20;X.prototype.Rv=$,X.prototype.Nv=Z,X.prototype.encrypt=ee,X.prototype.VS=te,X.prototype.type="RSA";/*! rsasign-1.2.7.js (c) 2012 Kenji Urushima | kjur.github.com/jsrsasign/license
 */
var Ne=new RegExp("");Ne.compile("[^0-9a-f]","gi"),X.prototype.Cv=ne,X.prototype.SS=ie,X.prototype.jS=se,X.prototype.QS=oe,X.prototype.sign=ie,X.prototype.KS=se,X.prototype.YS=oe,X.prototype.Ov=ce,X.prototype.WS=he,X.prototype.zS=he,X.JS=-1,X.XS=-2,X.prototype.wS=Ee,X.prototype.ZS=ge,X.prototype.$S=fe,X.prototype.verify=ge,X.prototype.eR=fe,X.prototype.kv=ye,X.prototype.tR=ve,X.prototype.rR=ve,X.iR=-2,t.nR=r,t.sR=X,t.Signature=KJUR.crypto.Signature,t._I=KJUR.crypto._I,t.cg=Se,t.oR=Q,t.aR=K},function(e,t,r){"use strict";var i=function(){function e(){}return e}();i.pp="https:"===location.protocol,i.yp=!0,i.hR=1e4,i.nh=6e4,i.cR="X-Hive-TestId",t.L=i},function(e,t,r){var i,n,s;/*!
 * URI.js - Mutating URLs
 *
 * Version: 1.18.10
 *
 * Author: Rodney Rehm
 * Web: http://medialize.github.io/URI.js/
 *
 * Licensed under
 *   MIT License http://www.opensource.org/licenses/mit-license
 *
 */
!function(o,a){"use strict";"object"==typeof e&&e.i?e.i=a(r(16),r(16),r(16)):(n=[r(16),r(16),r(16)],i=a,void 0!==(s="function"==typeof i?i.apply(t,n):i)&&(e.i=s))}(0,function(e,t,r,i){"use strict";function n(e,t){var r=arguments.length>=1,i=arguments.length>=2;if(!(this instanceof n))return r?i?new n(e,t):new n(e):new n;if(void 0===e){if(r)throw new TypeError("undefined is not a valid argument for URI");e="undefined"!=typeof location?location.href+"":""}if(null===e&&r)throw new TypeError("null is not a valid argument for URI");return this.href(e),void 0!==t?this.Ph(t):this}function s(e){return e.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function o(e){return void 0===e?"Undefined":String(Object.prototype.toString.call(e)).slice(8,-1)}function a(e){return"Array"===o(e)}function h(e,t){var r,i,n={};if("RegExp"===o(t))n=null;else if(a(t))for(r=0,i=t.length;r<i;r++)n[t[r]]=!0;else n[t]=!0;for(r=0,i=e.length;r<i;r++){(n&&void 0!==n[e[r]]||!n&&t.test(e[r]))&&(e.splice(r,1),i--,r--)}return e}function c(e,t){var r,i;if(a(t)){for(r=0,i=t.length;r<i;r++)if(!c(e,t[r]))return!1;return!0}var n=o(t);for(r=0,i=e.length;r<i;r++)if("RegExp"===n){if("string"==typeof e[r]&&e[r].match(t))return!0}else if(e[r]===t)return!0;return!1}function u(e,t){if(!a(e)||!a(t))return!1;if(e.length!==t.length)return!1;e.sort(),t.sort();for(var r=0,i=e.length;r<i;r++)if(e[r]!==t[r])return!1;return!0}function l(e){var t=/^\/+|\/+$/g;return e.replace(t,"")}function p(e){return escape(e)}function d(e){return encodeURIComponent(e).replace(/[!'()*]/g,p).replace(/\*/g,"%2A")}function f(e){return function(t,r){return void 0===t?this.uR[e]||"":(this.uR[e]=t||null,this.Xg(!r),this)}}function g(e,t){return function(r,i){return void 0===r?this.uR[e]||"":(null!==r&&(r+="",r.charAt(0)===t&&(r=r.substring(1))),this.uR[e]=r,this.Xg(!i),this)}}var E=i&&i.lR;n.version="1.18.10";var v=n.prototype,y=Object.prototype.hasOwnProperty;n.uR=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,pR:null,dR:n.dR,fR:n.fR}},n.dR=!1,n.fR=!0,n.gR=/^[a-z][a-z0-9.+-]*$/i,n.ER=/[^a-z0-9\.-]/i,n.vR=/(xn--)/i,n.yR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,n.TR=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,n.mR=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?«»“”‘’]))/gi,n.IR={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?«»“”„‘’]+$/,SR:/(\([^\)]*\)|\[[^\]]*\]|\{[^}]*\}|<[^>]*>)/g},n.RR={wR:"80",bR:"443",CR:"21",_R:"70",PR:"80",AR:"443"},n.OR=/[^a-zA-Z0-9\.-]/,n.NR={a:"href",DR:"cite",link:"href",kR:"href",LR:"src",form:"action",MR:"src",FR:"href",UR:"src",BR:"src",source:"src",track:"src",input:"src",HR:"src",video:"src"},n.xR=function(e){if(e&&e.nodeName){var t=e.nodeName.toLowerCase();if("input"!==t||"image"===e.type)return n.NR[t]}},n.encode=d,n.decode=decodeURIComponent,n.qR=function(){n.encode=escape,n.decode=unescape},n.GR=function(){n.encode=d,n.decode=decodeURIComponent},n.VR={pathname:{encode:{jR:/%(24|26|2B|2C|3B|3D|3A|40)/gi,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{jR:/[\/\?#]/g,map:{py:"%2F",QR:"%3F",KR:"%23"}}},YR:{encode:{jR:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/gi,map:{"%3A":":",WR:"/",zR:"?",JR:"#",XR:"[",ZR:"]","%40":"@",$R:"!","%24":"$","%26":"&",ew:"'",tw:"(",rw:")",iw:"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}},nw:{encode:{jR:/%(21|24|27|28|29|2A|2B|2C|3B|3D|40)/gi,map:{$R:"!","%24":"$",ew:"'",tw:"(",rw:")",iw:"*","%2B":"+","%2C":",","%3B":";","%3D":"=","%40":"@"}},decode:{jR:/[\/\?#:]/g,map:{py:"%2F",QR:"%3F",KR:"%23",sw:"%3A"}}}},n.ow=function(e,t){var r=n.encode(e+"");return void 0===t&&(t=n.fR),t?r.replace(/%20/g,"+"):r},n.aw=function(e,t){e+="",void 0===t&&(t=n.fR);try{return n.decode(t?e.replace(/\+/g,"%20"):e)}catch(t){return e}};var T,m={encode:"encode",decode:"decode"},I=function(e,t){return function(r){try{return n[t](r+"").replace(n.VR[e][t].jR,function(r){return n.VR[e][t].map[r]})}catch(e){return r}}};for(T in m)n[T+"PathSegment"]=I("pathname",m[T]),n[T+"UrnPathSegment"]=I("urnpath",m[T]);var S=function(e,t,r){return function(i){var s;s=r?function(e){return n[t](n[r](e))}:n[t];for(var o=(i+"").split(e),a=0,h=o.length;a<h;a++)o[a]=s(o[a]);return o.join(e)}};n.hw=S("/","decodePathSegment"),n.cw=S(":","decodeUrnPathSegment"),n.uw=S("/","encodePathSegment","decode"),n.lw=S(":","encodeUrnPathSegment","decode"),n.pw=I("reserved","encode"),n.parse=function(e,t){var r;return t||(t={}),r=e.indexOf("#"),r>-1&&(t.pR=e.substring(r+1)||null,e=e.substring(0,r)),r=e.indexOf("?"),r>-1&&(t.query=e.substring(r+1)||null,e=e.substring(0,r)),"//"===e.substring(0,2)?(t.protocol=null,e=e.substring(2),e=n.dw(e,t)):(r=e.indexOf(":"))>-1&&(t.protocol=e.substring(0,r)||null,t.protocol&&!t.protocol.match(n.gR)?t.protocol=void 0:"//"===e.substring(r+1,r+3)?(e=e.substring(r+3),e=n.dw(e,t)):(e=e.substring(r+1),t.urn=!0)),t.path=e,t},n.fw=function(e,t){e=e.replace(/\\/g,"/");var r,i,n=e.indexOf("/");if(-1===n&&(n=e.length),"["===e.charAt(0))r=e.indexOf("]"),t.hostname=e.substring(1,r)||null,t.port=e.substring(r+2,n)||null,"/"===t.port&&(t.port=null);else{var s=e.indexOf(":"),o=e.indexOf("/"),a=e.indexOf(":",s+1);-1!==a&&(-1===o||a<o)?(t.hostname=e.substring(0,n)||null,t.port=null):(i=e.substring(0,n).split(":"),t.hostname=i[0]||null,t.port=i[1]||null)}return t.hostname&&"/"!==e.substring(n).charAt(0)&&(n++,e="/"+e),e.substring(n)||"/"},n.dw=function(e,t){return e=n.gw(e,t),n.fw(e,t)},n.gw=function(e,t){var r,i=e.indexOf("/"),s=e.lastIndexOf("@",i>-1?i:e.length-1);return s>-1&&(-1===i||s<i)?(r=e.substring(0,s).split(":"),t.username=r[0]?n.decode(r[0]):null,r.shift(),t.password=r[0]?n.decode(r.join(":")):null,e=e.substring(s+1)):(t.username=null,t.password=null),e},n.Ew=function(e,t){if(!e)return{};if(!(e=e.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,"")))return{};for(var r,i,s,o={},a=e.split("&"),h=a.length,c=0;c<h;c++)r=a[c].split("="),i=n.aw(r.shift(),t),s=r.length?n.aw(r.join("="),t):null,y.call(o,i)?("string"!=typeof o[i]&&null!==o[i]||(o[i]=[o[i]]),o[i].push(s)):o[i]=s;return o},n.Xg=function(e){var t="";return e.protocol&&(t+=e.protocol+":"),e.urn||!t&&!e.hostname||(t+="//"),t+=n.vw(e)||"","string"==typeof e.path&&("/"!==e.path.charAt(0)&&"string"==typeof e.hostname&&(t+="/"),t+=e.path),"string"==typeof e.query&&e.query&&(t+="?"+e.query),"string"==typeof e.pR&&e.pR&&(t+="#"+e.pR),t},n.yw=function(e){var t="";return e.hostname?(n.TR.test(e.hostname)?t+="["+e.hostname+"]":t+=e.hostname,e.port&&(t+=":"+e.port),t):""},n.vw=function(e){return n.Tw(e)+n.yw(e)},n.Tw=function(e){var t="";return e.username&&(t+=n.encode(e.username)),e.password&&(t+=":"+n.encode(e.password)),t&&(t+="@"),t},n.mw=function(e,t,r){var i,s,o,h,c="";for(s in e)if(y.call(e,s)&&s)if(a(e[s]))for(i={},o=0,h=e[s].length;o<h;o++)void 0!==e[s][o]&&void 0===i[e[s][o]+""]&&(c+="&"+n.Iw(s,e[s][o],r),!0!==t&&(i[e[s][o]+""]=!0));else void 0!==e[s]&&(c+="&"+n.Iw(s,e[s],r));return c.substring(1)},n.Iw=function(e,t,r){return n.ow(e,r)+(null!==t?"="+n.ow(t,r):"")},n.Sw=function(e,t,r){if("object"==typeof t)for(var i in t)y.call(t,i)&&n.Sw(e,i,t[i]);else{if("string"!=typeof t)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");if(void 0===e[t])return void(e[t]=r);"string"==typeof e[t]&&(e[t]=[e[t]]),a(r)||(r=[r]),e[t]=(e[t]||[]).concat(r)}},n.Rw=function(e,t,r){var i,s,c;if(a(t))for(i=0,s=t.length;i<s;i++)e[t[i]]=void 0;else if("RegExp"===o(t))for(c in e)t.test(c)&&(e[c]=void 0);else if("object"==typeof t)for(c in t)y.call(t,c)&&n.Rw(e,c,t[c]);else{if("string"!=typeof t)throw new TypeError("URI.removeQuery() accepts an object, string, RegExp as the first parameter");void 0!==r?"RegExp"===o(r)?!a(e[t])&&r.test(e[t])?e[t]=void 0:e[t]=h(e[t],r):e[t]!==String(r)||a(r)&&1!==r.length?a(e[t])&&(e[t]=h(e[t],r)):e[t]=void 0:e[t]=void 0}},n.ww=function(e,t,r,i){switch(o(t)){case"String":break;case"RegExp":for(var s in e)if(y.call(e,s)&&t.test(s)&&(void 0===r||n.ww(e,s,r)))return!0;return!1;case"Object":for(var h in t)if(y.call(t,h)&&!n.ww(e,h,t[h]))return!1;return!0;default:throw new TypeError("URI.hasQuery() accepts a string, regular expression or object as the name parameter")}switch(o(r)){case"Undefined":return t in e;case"Boolean":return r===Boolean(a(e[t])?e[t].length:e[t]);case"Function":return!!r(e[t],t,e);case"Array":if(!a(e[t]))return!1;return(i?c:u)(e[t],r);case"RegExp":return a(e[t])?!!i&&c(e[t],r):Boolean(e[t]&&e[t].match(r));case"Number":r=String(r);case"String":return a(e[t])?!!i&&c(e[t],r):e[t]===r;default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter")}},n.bw=function(){for(var e=[],t=[],r=0,i=0;i<arguments.length;i++){var s=new n(arguments[i]);e.push(s);for(var o=s.Cw(),a=0;a<o.length;a++)"string"==typeof o[a]&&t.push(o[a]),o[a]&&r++}if(!t.length||!r)return new n("");var h=new n("").Cw(t);return""!==e[0].path()&&"/"!==e[0].path().slice(0,1)||h.path("/"+h.path()),h.normalize()},n._w=function(e,t){var r,i=Math.min(e.length,t.length);for(r=0;r<i;r++)if(e.charAt(r)!==t.charAt(r)){r--;break}return r<1?e.charAt(0)===t.charAt(0)&&"/"===e.charAt(0)?"/":"":("/"===e.charAt(r)&&"/"===t.charAt(r)||(r=e.substring(0,r).lastIndexOf("/")),e.substring(0,r+1))},n.Pw=function(e,t,r){r||(r={});var i=r.start||n.IR.start,s=r.end||n.IR.end,o=r.trim||n.IR.trim,a=r.SR||n.IR.SR,h=/[a-z0-9-]=["']?$/i;for(i.lastIndex=0;;){var c=i.exec(e);if(!c)break;var u=c.index;if(r.Aw){var l=e.slice(Math.max(u-3,0),u);if(l&&h.test(l))continue}for(var p=u+e.slice(u).search(s),d=e.slice(u,p),f=-1;;){var g=a.exec(d);if(!g)break;var E=g.index+g[0].length;f=Math.max(f,E)}if(d=f>-1?d.slice(0,f)+d.slice(f).replace(o,""):d.replace(o,""),!(d.length<=c[0].length||r.Ow&&r.Ow.test(d))){p=u+d.length;var v=t(d,u,p,e);void 0!==v?(v=String(v),e=e.slice(0,u)+v+e.slice(p),i.lastIndex=u+v.length):i.lastIndex=p}}return i.lastIndex=0,e},n.Nw=function(t){if(t.match(n.OR)){if(!e)throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-] and Punycode.js is not available');if(e.Dw(t).match(n.OR))throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-]')}},n.wo=function(e){if(e){var t={lR:this.wo()};return i.kw&&"function"==typeof i.kw.wo&&(t.kw=i.kw.wo()),i.Lw&&"function"==typeof i.Lw.wo&&(t.Lw=i.Lw.wo()),i.Mw&&"function"==typeof i.Mw.wo&&(t.Mw=i.Mw.wo()),t}return i.lR===this&&(i.lR=E),this},v.Xg=function(e){return!0===e?this.Fw=!0:(void 0===e||this.Fw)&&(this.Uw=n.Xg(this.uR),this.Fw=!1),this},v.clone=function(){return new n(this)},v.valueOf=v.toString=function(){return this.Xg(!1).Uw},v.protocol=f("protocol"),v.username=f("username"),v.password=f("password"),v.hostname=f("hostname"),v.port=f("port"),v.query=g("query","?"),v.pR=g("fragment","#"),v.search=function(e,t){var r=this.query(e,t);return"string"==typeof r&&r.length?"?"+r:r},v.hash=function(e,t){var r=this.pR(e,t);return"string"==typeof r&&r.length?"#"+r:r},v.pathname=function(e,t){if(void 0===e||!0===e){var r=this.uR.path||(this.uR.hostname?"/":"");return e?(this.uR.urn?n.cw:n.hw)(r):r}return this.uR.urn?this.uR.path=e?n.lw(e):"":this.uR.path=e?n.uw(e):"/",this.Xg(!t),this},v.path=v.pathname,v.href=function(e,t){var r;if(void 0===e)return this.toString();this.Uw="",this.uR=n.uR();var i=e instanceof n,s="object"==typeof e&&(e.hostname||e.path||e.pathname);if(e.nodeName){e=e[n.xR(e)]||"",s=!1}if(!i&&s&&void 0!==e.pathname&&(e=e.toString()),"string"==typeof e||e instanceof String)this.uR=n.parse(String(e),this.uR);else{if(!i&&!s)throw new TypeError("invalid input");var o=i?e.uR:e;for(r in o)y.call(this.uR,r)&&(this.uR[r]=o[r])}return this.Xg(!t),this},v.is=function(e){var t=!1,i=!1,s=!1,o=!1,a=!1,h=!1,c=!1,u=!this.uR.urn;switch(this.uR.hostname&&(u=!1,i=n.yR.test(this.uR.hostname),s=n.TR.test(this.uR.hostname),t=i||s,o=!t,a=o&&r&&r.has(this.uR.hostname),h=o&&n.ER.test(this.uR.hostname),c=o&&n.vR.test(this.uR.hostname)),e.toLowerCase()){case"relative":return u;case"absolute":return!u;case"domain":case"name":return o;case"sld":return a;case"ip":return t;case"ip4":case"ipv4":case"inet4":return i;case"ip6":case"ipv6":case"inet6":return s;case"idn":return h;case"url":return!this.uR.urn;case"urn":return!!this.uR.urn;case"punycode":return c}return null};var R=v.protocol,w=v.port,b=v.hostname;v.protocol=function(e,t){if(void 0!==e&&e&&(e=e.replace(/:(\/\/)?$/,""),!e.match(n.gR)))throw new TypeError('Protocol "'+e+"\" contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]");return R.call(this,e,t)},v.scheme=v.protocol,v.port=function(e,t){if(this.uR.urn)return void 0===e?"":this;if(void 0!==e&&(0===e&&(e=null),e&&(e+="",":"===e.charAt(0)&&(e=e.substring(1)),e.match(/[^0-9]/))))throw new TypeError('Port "'+e+'" contains characters other than [0-9]');return w.call(this,e,t)},v.hostname=function(e,t){if(this.uR.urn)return void 0===e?"":this;if(void 0!==e){var r={};if("/"!==n.fw(e,r))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');e=r.hostname}return b.call(this,e,t)},v.origin=function(e,t){if(this.uR.urn)return void 0===e?"":this;if(void 0===e){var r=this.protocol();return this.Bw()?(r?r+"://":"")+this.Bw():""}var i=n(e);return this.protocol(i.protocol()).Bw(i.Bw()).Xg(!t),this},v.host=function(e,t){if(this.uR.urn)return void 0===e?"":this;if(void 0===e)return this.uR.hostname?n.yw(this.uR):"";if("/"!==n.fw(e,this.uR))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');return this.Xg(!t),this},v.Bw=function(e,t){if(this.uR.urn)return void 0===e?"":this;if(void 0===e)return this.uR.hostname?n.vw(this.uR):"";if("/"!==n.dw(e,this.uR))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');return this.Xg(!t),this},v.Hw=function(e,t){if(this.uR.urn)return void 0===e?"":this;if(void 0===e){var r=n.Tw(this.uR);return r?r.substring(0,r.length-1):r}return"@"!==e[e.length-1]&&(e+="@"),n.gw(e,this.uR),this.Xg(!t),this},v.xw=function(e,t){var r;return void 0===e?this.path()+this.search()+this.hash():(r=n.parse(e),this.uR.path=r.path,this.uR.query=r.query,this.uR.pR=r.pR,this.Xg(!t),this)},v.qw=function(e,t){if(this.uR.urn)return void 0===e?"":this;if(void 0===e){if(!this.uR.hostname||this.is("IP"))return"";var r=this.uR.hostname.length-this.domain().length-1;return this.uR.hostname.substring(0,r)||""}var i=this.uR.hostname.length-this.domain().length,o=this.uR.hostname.substring(0,i),a=new RegExp("^"+s(o));return e&&"."!==e.charAt(e.length-1)&&(e+="."),e&&n.Nw(e),this.uR.hostname=this.uR.hostname.replace(a,e),this.Xg(!t),this},v.domain=function(e,t){if(this.uR.urn)return void 0===e?"":this;if("boolean"==typeof e&&(t=e,e=void 0),void 0===e){if(!this.uR.hostname||this.is("IP"))return"";var r=this.uR.hostname.match(/\./g);if(r&&r.length<2)return this.uR.hostname;var i=this.uR.hostname.length-this.Gw(t).length-1;return i=this.uR.hostname.lastIndexOf(".",i-1)+1,this.uR.hostname.substring(i)||""}if(!e)throw new TypeError("cannot set domain empty");if(n.Nw(e),!this.uR.hostname||this.is("IP"))this.uR.hostname=e;else{var o=new RegExp(s(this.domain())+"$");this.uR.hostname=this.uR.hostname.replace(o,e)}return this.Xg(!t),this},v.Gw=function(e,t){if(this.uR.urn)return void 0===e?"":this;if("boolean"==typeof e&&(t=e,e=void 0),void 0===e){if(!this.uR.hostname||this.is("IP"))return"";var i=this.uR.hostname.lastIndexOf("."),n=this.uR.hostname.substring(i+1);return!0!==t&&r&&r.list[n.toLowerCase()]?r.get(this.uR.hostname)||n:n}var o;if(!e)throw new TypeError("cannot set TLD empty");if(e.match(/[^a-zA-Z0-9-]/)){if(!r||!r.is(e))throw new TypeError('TLD "'+e+'" contains characters other than [A-Z0-9]');o=new RegExp(s(this.Gw())+"$"),this.uR.hostname=this.uR.hostname.replace(o,e)}else{if(!this.uR.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");o=new RegExp(s(this.Gw())+"$"),this.uR.hostname=this.uR.hostname.replace(o,e)}return this.Xg(!t),this},v.Vw=function(e,t){if(this.uR.urn)return void 0===e?"":this;if(void 0===e||!0===e){if(!this.uR.path&&!this.uR.hostname)return"";if("/"===this.uR.path)return"/";var r=this.uR.path.length-this.filename().length-1,i=this.uR.path.substring(0,r)||(this.uR.hostname?"/":"");return e?n.hw(i):i}var o=this.uR.path.length-this.filename().length,a=this.uR.path.substring(0,o),h=new RegExp("^"+s(a));return this.is("relative")||(e||(e="/"),"/"!==e.charAt(0)&&(e="/"+e)),e&&"/"!==e.charAt(e.length-1)&&(e+="/"),e=n.uw(e),this.uR.path=this.uR.path.replace(h,e),this.Xg(!t),this},v.filename=function(e,t){if(this.uR.urn)return void 0===e?"":this;if("string"!=typeof e){if(!this.uR.path||"/"===this.uR.path)return"";var r=this.uR.path.lastIndexOf("/"),i=this.uR.path.substring(r+1);return e?n.jw(i):i}var o=!1;"/"===e.charAt(0)&&(e=e.substring(1)),e.match(/\.?\//)&&(o=!0);var a=new RegExp(s(this.filename())+"$");return e=n.uw(e),this.uR.path=this.uR.path.replace(a,e),o?this.Qw(t):this.Xg(!t),this},v.suffix=function(e,t){if(this.uR.urn)return void 0===e?"":this;if(void 0===e||!0===e){if(!this.uR.path||"/"===this.uR.path)return"";var r,i,o=this.filename(),a=o.lastIndexOf(".");return-1===a?"":(r=o.substring(a+1),i=/^[a-z0-9%]+$/i.test(r)?r:"",e?n.jw(i):i)}"."===e.charAt(0)&&(e=e.substring(1));var h,c=this.suffix();if(c)h=e?new RegExp(s(c)+"$"):new RegExp(s("."+c)+"$");else{if(!e)return this;this.uR.path+="."+n.uw(e)}return h&&(e=n.uw(e),this.uR.path=this.uR.path.replace(h,e)),this.Xg(!t),this},v.Cw=function(e,t,r){var i=this.uR.urn?":":"/",n=this.path(),s="/"===n.substring(0,1),o=n.split(i);if(void 0!==e&&"number"!=typeof e&&(r=t,t=e,e=void 0),void 0!==e&&"number"!=typeof e)throw new Error('Bad segment "'+e+'", must be 0-based integer');if(s&&o.shift(),e<0&&(e=Math.max(o.length+e,0)),void 0===t)return void 0===e?o:o[e];if(null===e||void 0===o[e])if(a(t)){o=[];for(var h=0,c=t.length;h<c;h++)(t[h].length||o.length&&o[o.length-1].length)&&(o.length&&!o[o.length-1].length&&o.pop(),o.push(l(t[h])))}else(t||"string"==typeof t)&&(t=l(t),""===o[o.length-1]?o[o.length-1]=t:o.push(t));else t?o[e]=l(t):o.splice(e,1);return s&&o.unshift(""),this.path(o.join(i),r)},v.Kw=function(e,t,r){var i,s,o;if("number"!=typeof e&&(r=t,t=e,e=void 0),void 0===t){if(i=this.Cw(e,t,r),a(i))for(s=0,o=i.length;s<o;s++)i[s]=n.decode(i[s]);else i=void 0!==i?n.decode(i):void 0;return i}if(a(t))for(s=0,o=t.length;s<o;s++)t[s]=n.encode(t[s]);else t="string"==typeof t||t instanceof String?n.encode(t):t;return this.Cw(e,t,r)};var C=v.query;return v.query=function(e,t){if(!0===e)return n.Ew(this.uR.query,this.uR.fR);if("function"==typeof e){var r=n.Ew(this.uR.query,this.uR.fR),i=e.call(this,r);return this.uR.query=n.mw(i||r,this.uR.dR,this.uR.fR),this.Xg(!t),this}return void 0!==e&&"string"!=typeof e?(this.uR.query=n.mw(e,this.uR.dR,this.uR.fR),this.Xg(!t),this):C.call(this,e,t)},v.Yw=function(e,t,r){var i=n.Ew(this.uR.query,this.uR.fR);if("string"==typeof e||e instanceof String)i[e]=void 0!==t?t:null;else{if("object"!=typeof e)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");for(var s in e)y.call(e,s)&&(i[s]=e[s])}return this.uR.query=n.mw(i,this.uR.dR,this.uR.fR),"string"!=typeof e&&(r=t),this.Xg(!r),this},v.Sw=function(e,t,r){var i=n.Ew(this.uR.query,this.uR.fR);return n.Sw(i,e,void 0===t?null:t),this.uR.query=n.mw(i,this.uR.dR,this.uR.fR),"string"!=typeof e&&(r=t),this.Xg(!r),this},v.Rw=function(e,t,r){var i=n.Ew(this.uR.query,this.uR.fR);return n.Rw(i,e,t),this.uR.query=n.mw(i,this.uR.dR,this.uR.fR),"string"!=typeof e&&(r=t),this.Xg(!r),this},v.ww=function(e,t,r){var i=n.Ew(this.uR.query,this.uR.fR);return n.ww(i,e,t,r)},v.Ww=v.Yw,v.zw=v.Sw,v.Jw=v.Rw,v.Xw=v.ww,v.normalize=function(){return this.uR.urn?this.eb(!1).Qw(!1).$w(!1).Zw(!1).Xg():this.eb(!1).rb(!1).tb(!1).Qw(!1).$w(!1).Zw(!1).Xg()},v.eb=function(e){return"string"==typeof this.uR.protocol&&(this.uR.protocol=this.uR.protocol.toLowerCase(),this.Xg(!e)),this},v.rb=function(r){return this.uR.hostname&&(this.is("IDN")&&e?this.uR.hostname=e.Dw(this.uR.hostname):this.is("IPv6")&&t&&(this.uR.hostname=t.ib(this.uR.hostname)),this.uR.hostname=this.uR.hostname.toLowerCase(),this.Xg(!r)),this},v.tb=function(e){return"string"==typeof this.uR.protocol&&this.uR.port===n.RR[this.uR.protocol]&&(this.uR.port=null,this.Xg(!e)),this},v.Qw=function(e){var t=this.uR.path;if(!t)return this;if(this.uR.urn)return this.uR.path=n.lw(this.uR.path),this.Xg(!e),this;if("/"===this.uR.path)return this;t=n.uw(t);var r,i,s,o="";for("/"!==t.charAt(0)&&(r=!0,t="/"+t),"/.."!==t.slice(-3)&&"/."!==t.slice(-2)||(t+="/"),t=t.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/"),r&&(o=t.substring(1).match(/^(\.\.\/)+/)||"")&&(o=o[0]);;){if(-1===(i=t.search(/\/\.\.(\/|$)/)))break;0!==i?(s=t.substring(0,i).lastIndexOf("/"),-1===s&&(s=i),t=t.substring(0,s)+t.substring(i+3)):t=t.substring(3)}return r&&this.is("relative")&&(t=o+t.substring(1)),this.uR.path=t,this.Xg(!e),this},v.nb=v.Qw,v.$w=function(e){return"string"==typeof this.uR.query&&(this.uR.query.length?this.query(n.Ew(this.uR.query,this.uR.fR)):this.uR.query=null,this.Xg(!e)),this},v.Zw=function(e){return this.uR.pR||(this.uR.pR=null,this.Xg(!e)),this},v.sb=v.$w,v.ob=v.Zw,v.qR=function(){var e=n.encode,t=n.decode;n.encode=escape,n.decode=decodeURIComponent;try{this.normalize()}finally{n.encode=e,n.decode=t}return this},v.GR=function(){var e=n.encode,t=n.decode;n.encode=d,n.decode=unescape;try{this.normalize()}finally{n.encode=e,n.decode=t}return this},v.ab=function(){var t=this.clone();t.username("").password("").normalize();var r="";if(t.uR.protocol&&(r+=t.uR.protocol+"://"),t.uR.hostname&&(t.is("punycode")&&e?(r+=e.hb(t.uR.hostname),t.uR.port&&(r+=":"+t.uR.port)):r+=t.host()),t.uR.hostname&&t.uR.path&&"/"!==t.uR.path.charAt(0)&&(r+="/"),r+=t.path(!0),t.uR.query){for(var i="",s=0,o=t.uR.query.split("&"),a=o.length;s<a;s++){var h=(o[s]||"").split("=");i+="&"+n.aw(h[0],this.uR.fR).replace(/&/g,"%26"),void 0!==h[1]&&(i+="="+n.aw(h[1],this.uR.fR).replace(/&/g,"%26"))}r+="?"+i.substring(1)}return r+=n.aw(t.hash(),!0)},v.Ph=function(e){var t,r,i,s=this.clone(),o=["protocol","username","password","hostname","port"];if(this.uR.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(e instanceof n||(e=new n(e)),s.uR.protocol)return s;if(s.uR.protocol=e.uR.protocol,this.uR.hostname)return s;for(r=0;i=o[r];r++)s.uR[i]=e.uR[i];return s.uR.path?(".."===s.uR.path.substring(-2)&&(s.uR.path+="/"),"/"!==s.path().charAt(0)&&(t=e.Vw(),t=t||(0===e.path().indexOf("/")?"/":""),s.uR.path=(t?t+"/":"")+s.uR.path,s.Qw())):(s.uR.path=e.uR.path,s.uR.query||(s.uR.query=e.uR.query)),s.Xg(),s},v.cb=function(e){var t,r,i,s,o,a=this.clone().normalize();if(a.uR.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(e=new n(e).normalize(),t=a.uR,r=e.uR,s=a.path(),o=e.path(),"/"!==s.charAt(0))throw new Error("URI is already relative");if("/"!==o.charAt(0))throw new Error("Cannot calculate a URI relative to another relative URI");if(t.protocol===r.protocol&&(t.protocol=null),t.username!==r.username||t.password!==r.password)return a.Xg();if(null!==t.protocol||null!==t.username||null!==t.password)return a.Xg();if(t.hostname!==r.hostname||t.port!==r.port)return a.Xg();if(t.hostname=null,t.port=null,s===o)return t.path="",a.Xg();if(!(i=n._w(s,o)))return a.Xg();var h=r.path.substring(i.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../");return t.path=h+t.path.substring(i.length)||"./",a.Xg()},v.cs=function(e){var t,r,i,s=this.clone(),o=new n(e),h={},c={},l={};if(s.normalize(),o.normalize(),s.toString()===o.toString())return!0;if(t=s.query(),r=o.query(),s.query(""),o.query(""),s.toString()!==o.toString())return!1;if(t.length!==r.length)return!1;h=n.Ew(t,this.uR.fR),c=n.Ew(r,this.uR.fR);for(i in h)if(y.call(h,i)){if(a(h[i])){if(!u(h[i],c[i]))return!1}else if(h[i]!==c[i])return!1;l[i]=!0}for(i in c)if(y.call(c,i)&&!l[i])return!1;return!0},v.dR=function(e){return this.uR.dR=!!e,this},v.fR=function(e){return this.uR.fR=!!e,this},n})},function(e,t,r){"use strict";var i=this&&this.hu||function(e,t){function r(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=r(73),s=r(71),o=function(e){function t(r){var i=e.call(this,r)||this;return i.DONE=4,i.LOADING=3,i.HEADERS_RECEIVED=2,i.OPENED=1,i.UNSENT=0,i.internal=!1,i.id=t.Ag++,i}return i(t,e),t.prototype.send=function(){if(this.readyState!==this.OPENED)throw new Error("The object's state must be OPENED.");if(!this.sessionId){var e=Object.keys(t.ub);e.length>0&&(this.sessionId=t.ub[e[0]])}n.lb.Api().request(this,this.sessionId)},t.prototype.abort=function(){n.lb.Api().abort(this,this.sessionId)},t}(s.pb);o.ub={},o.Ag=0,t.HiveRequest=o},function(e,t,r){"use strict";var i=r(0),n=r(8),s=r(6),o=s.he.dh,a=function(){function e(){}return e.Reporting=function(){return e.app="STATS",i.Framework.resolve(n.pc.hc)},e.sp=function(){return this.app},e.getVersion=function(){return this.version},e}();a.version=o,t.Hive=a},function(module,exports,__webpack_require__){var Thrift={fb:"0.9.2",Type:{STOP:0,VOID:1,BOOL:2,BYTE:3,I08:3,DOUBLE:4,I16:6,I32:8,I64:10,STRING:11,UTF7:11,STRUCT:12,MAP:13,SET:14,LIST:15,UTF8:16,UTF16:17},gb:{CALL:1,REPLY:2,EXCEPTION:3,ONEWAY:4},Eb:function(e){var t=0;for(var r in e)e.hasOwnProperty(r)&&t++;return t},vb:function(e,t,r){function i(){}i.prototype=t.prototype,e.prototype=new i,e.prototype.name=r||""}};Thrift.yb=function(e){this.message=e},Thrift.vb(Thrift.yb,Error,"TException"),Thrift.yb.prototype.Tb=function(){return this.message},Thrift.mb={Ib:0,Sb:1,Rb:2,wb:3,bb:4,Cb:5,_b:6,Pb:7,Ab:8,Ob:9,Nb:10},Thrift.Db=function(e,t){this.message=e,this.code="number"==typeof t?t:0},Thrift.vb(Thrift.Db,Thrift.yb,"TApplicationException"),Thrift.Db.prototype.read=function(e){for(;;){var t=e.kb();if(t.ftype==Thrift.Type.STOP)break;switch(t.fid){case 1:t.ftype==Thrift.Type.STRING?(t=e.Lb(),this.message=t.value):t=e.Mb(t.ftype);break;case 2:t.ftype==Thrift.Type.I32?(t=e.Fb(),this.code=t.value):t=e.Mb(t.ftype);break;default:t=e.Mb(t.ftype)}e.Ub()}e.Bb()},Thrift.Db.prototype.write=function(e){e.Hb("TApplicationException"),this.message&&(e.xb("message",Thrift.Type.STRING,1),e.qb(this.Tb()),e.Gb()),this.code&&(e.xb("type",Thrift.Type.I32,2),e.Vb(this.code),e.Gb()),e.jb(),e.Qb()},Thrift.Db.prototype.Kb=function(){return this.code},Thrift.Fa=Thrift.Yb=function(e,t){this.url=e,this.Wb=0,this.zb=0,this.Jb=t&&t.Jb,this.Xb="",this.Zb=""},Thrift.Yb.prototype={$b:function(){try{return new XMLHttpRequest}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}throw"Your browser doesn't support XHR."},flush:function(e,t){var r=this;if(e&&!t||void 0===this.url||""===this.url)return this.Xb;var i=this.$b();if(i.overrideMimeType&&i.overrideMimeType("application/json"),t&&(i.onreadystatechange=function(){var e=t;return function(){4==this.readyState&&200==this.status&&(r.eC(this.responseText),e())}}()),i.open("POST",this.url,!!e),i.send(this.Xb),!e||!t){if(4!=i.readyState)throw"encountered an unknown ajax ready state: "+i.readyState;if(200!=i.status)throw"encountered a unknown request status: "+i.status;this.Zb=i.responseText,this.tC=this.Zb.length,this.Wb=this.Zb.length,this.zb=0}},rC:function(e,t,r,i){if("undefined"==typeof jQuery||void 0===jQuery.iC)throw"Thrift.js requires jQuery 1.5+ to use asynchronous requests";var n=this;return jQuery.nC({url:this.url,data:t,type:"POST",sC:!1,contentType:"application/json",oC:"text thrift",aC:{hC:function(t){return n.eC(t),i.call(e)}},context:e,success:jQuery.cC(r).pop()})},eC:function(e){this.Zb=e,this.tC=this.Zb.length,this.Wb=this.Zb.length,this.zb=0},isOpen:function(){return!0},open:function(){},close:function(){},read:function(e){var t=this.Wb-this.zb;if(0===t)return"";var r=e;t<e&&(r=t);var i=this.uC.substr(this.zb,r);return this.zb+=r,i},lC:function(){return this.Zb},write:function(e){this.Xb=e},pC:function(){return this.Xb}},Thrift.dC=function(e){this.fC(e)},Thrift.dC.prototype={fC:function(e){this.url=e,this.gC=null,this.callbacks=[],this.EC=[],this.Xb="",this.Zb="",this.vC=0,this.yC=0},flush:function(e,t){var r=this;this.isOpen()?(this.gC.send(this.Xb),this.callbacks.push(function(){var e=t;return function(t){r.eC(t),e()}}())):this.EC.push({TC:this.Xb,mC:t})},IC:function(){var e=this;this.EC.length>0&&(this.EC.forEach(function(t){this.gC.send(t.TC),this.callbacks.push(function(){var r=t.mC;return function(t){e.eC(t),r()}}())}),this.EC=[])},SC:function(e){this.fC(this.url)},RC:function(e){this.callbacks.length&&this.callbacks.shift()(e.data)},wC:function(e){console.log("Thrift WebSocket Error: "+e.toString()),this.gC.close()},eC:function(e){this.Zb=e,this.tC=this.Zb.length,this.Wb=this.Zb.length,this.zb=0},isOpen:function(){return this.gC&&this.gC.readyState==this.gC.OPEN},open:function(){this.gC&&this.gC.readyState!=this.gC.CLOSED||(this.gC=new WebSocket(this.url),this.gC.onopen=this.IC.bind(this),this.gC.onmessage=this.RC.bind(this),this.gC.onerror=this.wC.bind(this),this.gC.onclose=this.SC.bind(this))},close:function(){this.gC.close()},read:function(e){var t=this.Wb-this.zb;if(0===t)return"";var r=e;t<e&&(r=t);var i=this.uC.substr(this.zb,r);return this.zb+=r,i},lC:function(){return this.Zb},write:function(e){this.Xb=e},pC:function(){return this.Xb}},Thrift.bC=Thrift.CC=function(e){this.yg=e},Thrift.CC.Type={},Thrift.CC.Type[Thrift.Type.BOOL]='"tf"',Thrift.CC.Type[Thrift.Type.BYTE]='"i8"',Thrift.CC.Type[Thrift.Type.I16]='"i16"',Thrift.CC.Type[Thrift.Type.I32]='"i32"',Thrift.CC.Type[Thrift.Type.I64]='"i64"',Thrift.CC.Type[Thrift.Type.DOUBLE]='"dbl"',Thrift.CC.Type[Thrift.Type.STRUCT]='"rec"',Thrift.CC.Type[Thrift.Type.STRING]='"str"',Thrift.CC.Type[Thrift.Type.MAP]='"map"',Thrift.CC.Type[Thrift.Type.LIST]='"lst"',Thrift.CC.Type[Thrift.Type.SET]='"set"',Thrift.CC._C={},Thrift.CC._C.tf=Thrift.Type.BOOL,Thrift.CC._C.i8=Thrift.Type.BYTE,Thrift.CC._C.i16=Thrift.Type.I16,Thrift.CC._C.i32=Thrift.Type.I32,Thrift.CC._C.i64=Thrift.Type.I64,Thrift.CC._C.dbl=Thrift.Type.DOUBLE,Thrift.CC._C.rec=Thrift.Type.STRUCT,Thrift.CC._C.str=Thrift.Type.STRING,Thrift.CC._C.map=Thrift.Type.MAP,Thrift.CC._C.lst=Thrift.Type.LIST,Thrift.CC._C.set=Thrift.Type.SET,Thrift.CC.fb=1,Thrift.CC.prototype={PC:function(){return this.yg},AC:function(e,t,r){this.OC=[],this.NC=[],this.OC.push([Thrift.CC.fb,'"'+e+'"',t,r])},DC:function(){var e=this.OC.pop();this.kC=this.OC.pop(),this.kC.push(e),this.LC="["+this.kC.join(",")+"]",this.yg.write(this.LC)},Hb:function(e){this.NC.push(this.OC.length),this.OC.push({})},Qb:function(){var e=this.NC.pop(),t=this.OC[e],r="{",i=!0;for(var n in t)i?i=!1:r+=",",r+=n+":"+t[n];r+="}",this.OC[e]=r},xb:function(e,t,r){this.NC.push(this.OC.length),this.OC.push({MC:'"'+r+'"',FC:Thrift.CC.Type[t]})},Gb:function(){var e=this.OC.pop(),t=this.OC.pop();this.OC[this.OC.length-1][t.MC]="{"+t.FC+":"+e+"}",this.NC.pop()},jb:function(){},UC:function(e,t,r){this.NC.push(this.OC.length),this.OC.push([Thrift.CC.Type[e],Thrift.CC.Type[t],0])},BC:function(){var e=this.NC.pop();if(e!=this.OC.length){(this.OC.length-e-1)%2!=0&&this.OC.push("");var t=(this.OC.length-e-1)/2;this.OC[e][this.OC[e].length-1]=t;for(var r="}",i=!0;this.OC.length>e+1;){var n=this.OC.pop(),s=this.OC.pop();i?i=!1:r=","+r,isNaN(s)||(s='"'+s+'"'),r=s+":"+n+r}r="{"+r,this.OC[e].push(r),this.OC[e]="["+this.OC[e].join(",")+"]"}},HC:function(e,t){this.NC.push(this.OC.length),this.OC.push([Thrift.CC.Type[e],t])},xC:function(){for(var e=this.NC.pop();this.OC.length>e+1;){var t=this.OC[e+1];this.OC.splice(e+1,1),this.OC[e].push(t)}this.OC[e]="["+this.OC[e].join(",")+"]"},qC:function(e,t){this.NC.push(this.OC.length),this.OC.push([Thrift.CC.Type[e],t])},GC:function(){for(var e=this.NC.pop();this.OC.length>e+1;){var t=this.OC[e+1];this.OC.splice(e+1,1),this.OC[e].push(t)}this.OC[e]="["+this.OC[e].join(",")+"]"},VC:function(e){this.OC.push(e?1:0)},jC:function(e){this.OC.push(e)},QC:function(e){this.OC.push(e)},Vb:function(e){this.OC.push(e)},KC:function(e){this.OC.push(e)},YC:function(e){this.OC.push(e)},qb:function(e){if(null===e)this.OC.push(null);else{for(var t="",r=0;r<e.length;r++){var i=e.charAt(r);t+='"'===i?'\\"':"\\"===i?"\\\\":"\b"===i?"\\b":"\f"===i?"\\f":"\n"===i?"\\n":"\r"===i?"\\r":"\t"===i?"\\t":i}this.OC.push('"'+t+'"')}},WC:function(e){this.qb(e)},zC:function(){this.JC=[],this.zb=[],"undefined"!=typeof JSON&&"function"==typeof JSON.parse?this.XC=JSON.parse(this.yg.lC()):"undefined"!=typeof jQuery?this.XC=jQuery.ZC(this.yg.lC()):this.XC=eval(this.yg.lC());var r={},version=this.XC.shift();if(version!=Thrift.CC.fb)throw"Wrong thrift protocol version: "+version;return r.fname=this.XC.shift(),r.$C=this.XC.shift(),r.e_=this.XC.shift(),this.JC.push(this.XC.shift()),r},t_:function(){},r_:function(e){var t={};return t.fname="",this.JC[this.JC.length-1]instanceof Array&&this.JC.push(this.JC[this.JC.length-1].shift()),t},Bb:function(){this.JC[this.JC.length-2]instanceof Array&&this.JC.pop()},kb:function(){var e={},t=-1,r=Thrift.Type.STOP;for(var i in this.JC[this.JC.length-1])if(null!==i){t=parseInt(i,10),this.zb.push(this.JC.length);var n=this.JC[this.JC.length-1][t];delete this.JC[this.JC.length-1][t],this.JC.push(n);break}if(-1!=t)for(var s in this.JC[this.JC.length-1])null!==Thrift.CC._C[s]&&(r=Thrift.CC._C[s],this.JC[this.JC.length-1]=this.JC[this.JC.length-1][s]);return e.fname="",e.ftype=r,e.fid=t,e},Ub:function(){for(var e=this.zb.pop();this.JC.length>e;)this.JC.pop()},i_:function(){var e=this.JC.pop(),t=e.shift();t instanceof Array&&(this.JC.push(e),e=t,t=e.shift());var r={};return r.n_=Thrift.CC._C[t],r.s_=Thrift.CC._C[e.shift()],r.size=e.shift(),this.zb.push(this.JC.length),this.JC.push(e.shift()),r},o_:function(){this.Ub()},a_:function(){var e=this.JC[this.JC.length-1],t={};return t.h_=Thrift.CC._C[e.shift()],t.size=e.shift(),this.zb.push(this.JC.length),this.JC.push(e),t},c_:function(){this.Ub()},u_:function(e,t){return this.a_(e,t)},l_:function(){return this.c_()},p_:function(){var e=this.Fb();return null!==e&&"1"==e.value?e.value=!0:e.value=!1,e},d_:function(){return this.Fb()},f_:function(){return this.Fb()},Fb:function(e){void 0===e&&(e=this.JC[this.JC.length-1]);var t={};if(e instanceof Array)0===e.length?t.value=void 0:t.value=e.shift();else if(e instanceof Object){for(var r in e)if(null!==r){this.JC.push(e[r]),delete e[r],t.value=r;break}}else t.value=e,this.JC.pop();return t},g_:function(){return this.Fb()},E_:function(){return this.Fb()},Lb:function(){return this.Fb()},v_:function(){return this.Lb()},Mb:function(e){var t,r;switch(e){case Thrift.Type.STOP:return null;case Thrift.Type.BOOL:return this.p_();case Thrift.Type.BYTE:return this.d_();case Thrift.Type.I16:return this.f_();case Thrift.Type.I32:return this.Fb();case Thrift.Type.I64:return this.g_();case Thrift.Type.DOUBLE:return this.E_();case Thrift.Type.STRING:return this.Lb();case Thrift.Type.STRUCT:for(this.r_();;){if(t=this.kb(),t.ftype==Thrift.Type.STOP)break;this.Mb(t.ftype),this.Ub()}return this.Bb(),null;case Thrift.Type.MAP:for(t=this.i_(),r=0;r<t.size;r++)r>0&&this.JC.length>this.zb[this.zb.length-1]+1&&this.JC.pop(),this.Mb(t.n_),this.Mb(t.s_);return this.o_(),null;case Thrift.Type.SET:for(t=this.u_(),r=0;r<t.size;r++)this.Mb(t.h_);return this.l_(),null;case Thrift.Type.LIST:for(t=this.a_(),r=0;r<t.size;r++)this.Mb(t.h_);return this.c_(),null}}},Thrift.y_=function(e,t,r,i){Thrift.CC.call(this,t,r,i),this.T_=e},Thrift.vb(Thrift.y_,Thrift.CC,"multiplexProtocol"),Thrift.y_.prototype.AC=function(e,t,r){t===Thrift.gb.CALL||t===Thrift.gb.ONEWAY?Thrift.CC.prototype.AC.call(this,this.T_+":"+e,t,r):Thrift.CC.prototype.AC.call(this,e,t,r)},Thrift.m_=function(){this.I_=0},Thrift.m_.prototype.S_=function(e,t,r){t.ql&&(t=t.ql);var i=this;return t.prototype.R_=function(){return i.I_+=1,i.I_},new t(new Thrift.y_(e,r))},module.i=Thrift},function(e,t,r){"use strict";var i=r(9),n=r(28),s=n.cg,o=function(){function e(e,t,r,i,n,o,a,h){this.contextId=h,this.url=e,this.w_=r,this.b_=t,this.C_=i,this.duration=n,this.bitrate=o,this.__=a;var c=(this.contextId?this.contextId:this.url).replace(/http(s)?:\/\//,""),u=s.oT(c).toString(s.Uy.By);this.P_=u+"-"+this.C_+"-"+this.bitrate}return e.prototype.Xf=function(){return this.b_},e.prototype.A_=function(){return this.C_},e.prototype.getDuration=function(){return this.duration},e.prototype.getBitrate=function(){return this.bitrate},e.prototype.ig=function(){return this.__},e.prototype.O_=function(){return this.w_},e.prototype.Zf=function(){return this.P_},e.prototype.tg=function(){return this.url},e.prototype.toString=function(){return i.vc[this.Xf()]+"-"+this.Zf()},e}();t.N_=o},function(e,t,r){(function(e){var n,s;/**
 * @license ByteBuffer.js (c) 2013-2014 Daniel Wirtz <dcode@dcode.io>
 * This version of ByteBuffer.js uses an ArrayBuffer as its backing buffer which is accessed through a DataView and is
 * compatible with modern browsers.
 * Released under the Apache License, Version 2.0
 * see: https://github.com/dcodeIO/ByteBuffer.js for details
 */
!function(o){"use strict";function a(e){function t(e){var t=0;return function(){return t<e.length?e.charCodeAt(t++):null}}function r(){var e=[],t=[];return function(){if(0===arguments.length)return t.join("")+a.apply(String,e);e.length+arguments.length>1024&&(t.push(a.apply(String,e)),e.length=0),Array.prototype.push.apply(e,arguments)}}var n=function(e,t,r){if(void 0===e&&(e=n.D_),void 0===t&&(t=n.k_),void 0===r&&(r=n.L_),!r){if((e|=0)<0)throw RangeError("Illegal capacity");t=!!t,r=!!r}this.buffer=0===e?o:new ArrayBuffer(e),this.view=0===e?null:new DataView(this.buffer),this.offset=0,this.M_=-1,this.F_=e,this.U_=void 0!==t&&!!t,this.B_=!!r};n.VERSION="3.5.5",n.H_=!0,n.x_=!1,n.D_=16,n.k_=n.x_,n.L_=!1,n.q_=e||null;var s=n.prototype,o=new ArrayBuffer(0),a=String.fromCharCode;n.G_=function(e,t,r){return new n(e,t,r)},n.concat=function(e,t,r,i){"boolean"!=typeof t&&"string"==typeof t||(i=r,r=t,t=void 0);for(var s,o=0,a=0,h=e.length;a<h;++a)n.V_(e[a])||(e[a]=n.wrap(e[a],t)),(s=e[a].F_-e[a].offset)>0&&(o+=s);if(0===o)return new n(0,r,i);var c,u=new n(o,r,i),l=new Uint8Array(u.buffer);for(a=0;a<h;)c=e[a++],(s=c.F_-c.offset)<=0||(l.set(new Uint8Array(c.buffer).subarray(c.offset,c.F_),u.offset),u.offset+=s);return u.F_=u.offset,u.offset=0,u},n.V_=function(e){return!0===(e&&e instanceof n)},n.type=function(){return ArrayBuffer},n.wrap=function(e,t,r,o){if("string"!=typeof t&&(o=r,r=t,t=void 0),"string"==typeof e)switch(void 0===t&&(t="utf8"),t){case"base64":return n.j_(e,r);case"hex":return n.Q_(e,r);case"binary":return n.K_(e,r);case"utf8":return n.Y_(e,r);case"debug":return n.W_(e,r);default:throw Error("Unsupported encoding: "+t)}if(null===e||"object"!=typeof e)throw TypeError("Illegal buffer");var a;if(n.V_(e))return a=s.clone.call(e),a.M_=-1,a;if(e instanceof Uint8Array)a=new n(0,r,o),e.length>0&&(a.buffer=e.buffer,a.offset=e.byteOffset,a.F_=e.byteOffset+e.length,a.view=e.length>0?new DataView(e.buffer):null);else if(e instanceof ArrayBuffer)a=new n(0,r,o),e.byteLength>0&&(a.buffer=e,a.offset=0,a.F_=e.byteLength,a.view=e.byteLength>0?new DataView(e):null);else{if("[object Array]"!==Object.prototype.toString.call(e))throw TypeError("Illegal buffer");for(a=new n(e.length,r,o),a.F_=e.length,i=0;i<e.length;++i)a.view.setUint8(i,e[i])}return a},s.z_=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=1;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=1,this.view.setInt8(t,e),r&&(this.offset+=1),this},s.jC=s.z_,s.J_=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var r=this.view.getInt8(e);return t&&(this.offset+=1),r},s.d_=s.J_,s.X_=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=1;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=1,this.view.setUint8(t,e),r&&(this.offset+=1),this},s.Z_=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var r=this.view.getUint8(e);return t&&(this.offset+=1),r},s.eP=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=2;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=2,this.view.setInt16(t,e,this.U_),r&&(this.offset+=2),this},s.tP=s.eP,s.rP=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+2) <= "+this.buffer.byteLength)}var r=this.view.getInt16(e,this.U_);return t&&(this.offset+=2),r},s.iP=s.rP,s.nP=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=2;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=2,this.view.setUint16(t,e,this.U_),r&&(this.offset+=2),this},s.sP=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+2) <= "+this.buffer.byteLength)}var r=this.view.getUint16(e,this.U_);return t&&(this.offset+=2),r},s.oP=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=4;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=4,this.view.setInt32(t,e,this.U_),r&&(this.offset+=4),this},s.Bg=s.oP,s.aP=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}var r=this.view.getInt32(e,this.U_);return t&&(this.offset+=4),r},s.Qg=s.aP,s.hP=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=4;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=4,this.view.setUint32(t,e,this.U_),r&&(this.offset+=4),this},s.cP=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}var r=this.view.getUint32(e,this.U_);return t&&(this.offset+=4),r},e&&(s.uP=function(t,r){var i=void 0===r;if(i&&(r=this.offset),!this.B_){if("number"==typeof t)t=e.DE(t);else if("string"==typeof t)t=e.kE(t);else if(!(t&&t instanceof e))throw TypeError("Illegal value: "+t+" (not an integer or Long)");if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}"number"==typeof t?t=e.DE(t):"string"==typeof t&&(t=e.kE(t)),r+=8;var n=this.buffer.byteLength;return r>n&&this.resize((n*=2)>r?n:r),r-=8,this.U_?(this.view.setInt32(r,t.low,!0),this.view.setInt32(r+4,t.high,!0)):(this.view.setInt32(r,t.high,!1),this.view.setInt32(r+4,t.low,!1)),i&&(this.offset+=8),this},s.lP=s.uP,s.pP=function(t){var r=void 0===t;if(r&&(t=this.offset),!this.B_){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+8) <= "+this.buffer.byteLength)}var i=this.U_?new e(this.view.getInt32(t,!0),this.view.getInt32(t+4,!0),!1):new e(this.view.getInt32(t+4,!1),this.view.getInt32(t,!1),!1);return r&&(this.offset+=8),i},s.dP=s.pP,s.fP=function(t,r){var i=void 0===r;if(i&&(r=this.offset),!this.B_){if("number"==typeof t)t=e.DE(t);else if("string"==typeof t)t=e.kE(t);else if(!(t&&t instanceof e))throw TypeError("Illegal value: "+t+" (not an integer or Long)");if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}"number"==typeof t?t=e.DE(t):"string"==typeof t&&(t=e.kE(t)),r+=8;var n=this.buffer.byteLength;return r>n&&this.resize((n*=2)>r?n:r),r-=8,this.U_?(this.view.setInt32(r,t.low,!0),this.view.setInt32(r+4,t.high,!0)):(this.view.setInt32(r,t.high,!1),this.view.setInt32(r+4,t.low,!1)),i&&(this.offset+=8),this},s.gP=function(t){var r=void 0===t;if(r&&(t=this.offset),!this.B_){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+8) <= "+this.buffer.byteLength)}var i=this.U_?new e(this.view.getInt32(t,!0),this.view.getInt32(t+4,!0),!0):new e(this.view.getInt32(t+4,!1),this.view.getInt32(t,!1),!0);return r&&(this.offset+=8),i}),s.EP=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.B_){if("number"!=typeof e)throw TypeError("Illegal value: "+e+" (not a number)");if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=4;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=4,this.view.setFloat32(t,e,this.U_),r&&(this.offset+=4),this},s.vP=s.EP,s.yP=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}var r=this.view.getFloat32(e,this.U_);return t&&(this.offset+=4),r},s.TP=s.yP,s.mP=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.B_){if("number"!=typeof e)throw TypeError("Illegal value: "+e+" (not a number)");if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=8;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=8,this.view.setFloat64(t,e,this.U_),r&&(this.offset+=8),this},s.YC=s.mP,s.IP=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+8) <= "+this.buffer.byteLength)}var r=this.view.getFloat64(e,this.U_);return t&&(this.offset+=8),r},s.E_=s.IP,n.SP=5,n.RP=function(e){return e>>>=0,e<128?1:e<16384?2:e<1<<21?3:e<1<<28?4:5},n.wP=function(e){return((e|=0)<<1^e>>31)>>>0},n.bP=function(e){return e>>>1^-(1&e)|0},s.CP=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}var i,s=n.RP(e);t+=s;var o=this.buffer.byteLength;return t>o&&this.resize((o*=2)>t?o:t),t-=s,this.view.setUint8(t,i=128|e),e>>>=0,e>=128?(i=e>>7|128,this.view.setUint8(t+1,i),e>=16384?(i=e>>14|128,this.view.setUint8(t+2,i),e>=1<<21?(i=e>>21|128,this.view.setUint8(t+3,i),e>=1<<28?(this.view.setUint8(t+4,e>>28&15),s=5):(this.view.setUint8(t+3,127&i),s=4)):(this.view.setUint8(t+2,127&i),s=3)):(this.view.setUint8(t+1,127&i),s=2)):(this.view.setUint8(t,127&i),s=1),r?(this.offset+=s,this):s},s._P=function(e,t){return this.CP(n.wP(e),t)},s.PP=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var r,i,n=0,s=0;do{if(i=e+n,!this.B_&&i>this.F_){var o=Error("Truncated");throw o.AP=!0,o}r=this.view.getUint8(i),n<5&&(s|=(127&r)<<7*n>>>0),++n}while(128==(128&r));return s|=0,t?(this.offset+=n,s):{value:s,length:n}},s.OP=function(e){var t=this.PP(e);return"object"==typeof t?t.value=n.bP(t.value):t=n.bP(t),t},e&&(n.NP=10,n.DP=function(t){"number"==typeof t?t=e.DE(t):"string"==typeof t&&(t=e.kE(t));var r=t.kP()>>>0,i=t.LP(28).kP()>>>0,n=t.LP(56).kP()>>>0;return 0==n?0==i?r<16384?r<128?1:2:r<1<<21?3:4:i<16384?i<128?5:6:i<1<<21?7:8:n<128?9:10},n.MP=function(t){return"number"==typeof t?t=e.DE(t,!1):"string"==typeof t?t=e.kE(t,!1):!1!==t.FP&&(t=t.UP()),t.shiftLeft(1).pT(t.HP(63)).BP()},n.xP=function(t){return"number"==typeof t?t=e.DE(t,!1):"string"==typeof t?t=e.kE(t,!1):!1!==t.FP&&(t=t.UP()),t.LP(1).pT(t.qP(e.ONE).UP().qE()).UP()},s.GP=function(t,r){var i=void 0===r;if(i&&(r=this.offset),!this.B_){if("number"==typeof t)t=e.DE(t);else if("string"==typeof t)t=e.kE(t);else if(!(t&&t instanceof e))throw TypeError("Illegal value: "+t+" (not an integer or Long)");if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}"number"==typeof t?t=e.DE(t,!1):"string"==typeof t?t=e.kE(t,!1):!1!==t.FP&&(t=t.UP());var s=n.DP(t),o=t.kP()>>>0,a=t.LP(28).kP()>>>0,h=t.LP(56).kP()>>>0;r+=s;var c=this.buffer.byteLength;switch(r>c&&this.resize((c*=2)>r?c:r),r-=s,s){case 10:this.view.setUint8(r+9,h>>>7&1);case 9:this.view.setUint8(r+8,9!==s?128|h:127&h);case 8:this.view.setUint8(r+7,8!==s?a>>>21|128:a>>>21&127);case 7:this.view.setUint8(r+6,7!==s?a>>>14|128:a>>>14&127);case 6:this.view.setUint8(r+5,6!==s?a>>>7|128:a>>>7&127);case 5:this.view.setUint8(r+4,5!==s?128|a:127&a);case 4:this.view.setUint8(r+3,4!==s?o>>>21|128:o>>>21&127);case 3:this.view.setUint8(r+2,3!==s?o>>>14|128:o>>>14&127);case 2:this.view.setUint8(r+1,2!==s?o>>>7|128:o>>>7&127);case 1:this.view.setUint8(r,1!==s?128|o:127&o)}return i?(this.offset+=s,this):s},s.VP=function(e,t){return this.GP(n.MP(e),t)},s.jP=function(t){var r=void 0===t;if(r&&(t=this.offset),!this.B_){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var i=t,n=0,s=0,o=0,a=0;if(a=this.view.getUint8(t++),n=127&a,128&a&&(a=this.view.getUint8(t++),n|=(127&a)<<7,128&a&&(a=this.view.getUint8(t++),n|=(127&a)<<14,128&a&&(a=this.view.getUint8(t++),n|=(127&a)<<21,128&a&&(a=this.view.getUint8(t++),s=127&a,128&a&&(a=this.view.getUint8(t++),s|=(127&a)<<7,128&a&&(a=this.view.getUint8(t++),s|=(127&a)<<14,128&a&&(a=this.view.getUint8(t++),s|=(127&a)<<21,128&a&&(a=this.view.getUint8(t++),o=127&a,128&a&&(a=this.view.getUint8(t++),o|=(127&a)<<7,128&a))))))))))throw Error("Buffer overrun");var h=e.qI(n|s<<28,s>>>4|o<<24,!1);return r?(this.offset=t,h):{value:h,length:t-i}},s.QP=function(t){var r=this.jP(t);return r&&r.value instanceof e?r.value=n.xP(r.value):r=n.xP(r),r}),s.Hg=function(e,r){var i=void 0===r;i&&(r=this.offset);var n,s=e.length;if(!this.B_){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");for(n=0;n<s;++n)if(0===e.charCodeAt(n))throw RangeError("Illegal str: Contains NULL-characters");if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}s=c.KP(t(e))[1],r+=s+1;var o=this.buffer.byteLength;return r>o&&this.resize((o*=2)>r?o:r),r-=s+1,c.YP(t(e),function(e){this.view.setUint8(r++,e)}.bind(this)),this.view.setUint8(r++,0),i?(this.offset=r,this):s},s.Yg=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var i,n=e,s=-1;return c.WP(function(){if(0===s)return null;if(e>=this.F_)throw RangeError("Illegal range: Truncated data, "+e+" < "+this.F_);return 0===(s=this.view.getUint8(e++))?null:s}.bind(this),i=r(),!0),t?(this.offset=e,i()):{string:i(),length:e-n}},s.zP=function(e,r){var i=void 0===r;if(i&&(r=this.offset),!this.B_){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}var n,s=r;n=c.KP(t(e),this.B_)[1],r+=4+n;var o=this.buffer.byteLength;if(r>o&&this.resize((o*=2)>r?o:r),r-=4+n,this.view.setUint32(r,n,this.U_),r+=4,c.YP(t(e),function(e){this.view.setUint8(r++,e)}.bind(this)),r!==s+4+n)throw RangeError("Illegal range: Truncated data, "+r+" == "+(r+4+n));return i?(this.offset=r,this):r-s},s.JP=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}var i,n=0,s=e;n=this.view.getUint32(e,this.U_),e+=4;var o,a=e+n;return c.WP(function(){return e<a?this.view.getUint8(e++):null}.bind(this),o=r(),this.B_),i=o(),t?(this.offset=e,i):{string:i,length:e-s}},n.XP="c",n.ZP="b",s.$P=function(e,r){var i=void 0===r;if(i&&(r=this.offset),!this.B_){if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}var n,s=r;n=c.KP(t(e))[1],r+=n;var o=this.buffer.byteLength;return r>o&&this.resize((o*=2)>r?o:r),r-=n,c.YP(t(e),function(e){this.view.setUint8(r++,e)}.bind(this)),i?(this.offset=r,this):r-s},s.qb=s.$P,n.eA=function(e){return c.KP(t(e))[0]},n.tA=function(e){return c.KP(t(e))[1]},s.rA=function(e,t,i){"number"==typeof t&&(i=t,t=void 0);var s=void 0===i;if(s&&(i=this.offset),void 0===t&&(t=n.XP),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal length: "+e+" (not an integer)");if(e|=0,"number"!=typeof i||i%1!=0)throw TypeError("Illegal offset: "+i+" (not an integer)");if((i>>>=0)<0||i+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+0) <= "+this.buffer.byteLength)}var o,a=0,h=i;if(t===n.XP){if(o=r(),c.iA(function(){return a<e&&i<this.F_?this.view.getUint8(i++):null}.bind(this),function(e){++a,c.nA(e,o)}.bind(this)),a!==e)throw RangeError("Illegal range: Truncated data, "+a+" == "+e);return s?(this.offset=i,o()):{string:o(),length:i-h}}if(t===n.ZP){if(!this.B_){if("number"!=typeof i||i%1!=0)throw TypeError("Illegal offset: "+i+" (not an integer)");if((i>>>=0)<0||i+e>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+"+e+") <= "+this.buffer.byteLength)}var u=i+e;if(c.WP(function(){return i<u?this.view.getUint8(i++):null}.bind(this),o=r(),this.B_),i!==u)throw RangeError("Illegal range: Truncated data, "+i+" == "+u);return s?(this.offset=i,o()):{string:o(),length:i-h}}throw TypeError("Unsupported metrics: "+t)},s.Lb=s.rA,s.sA=function(e,r){var i=void 0===r;if(i&&(r=this.offset),!this.B_){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}var s,o,a=r;s=c.KP(t(e),this.B_)[1],o=n.RP(s),r+=o+s;var h=this.buffer.byteLength;if(r>h&&this.resize((h*=2)>r?h:r),r-=o+s,r+=this.CP(s,r),c.YP(t(e),function(e){this.view.setUint8(r++,e)}.bind(this)),r!==a+s+o)throw RangeError("Illegal range: Truncated data, "+r+" == "+(r+s+o));return i?(this.offset=r,this):r-a},s.oA=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var i,n=this.PP(e),s=e;e+=n.length,n=n.value;var o=e+n,a=r();return c.WP(function(){return e<o?this.view.getUint8(e++):null}.bind(this),a,this.B_),i=a(),t?(this.offset=e,i):{string:i,length:e-s}},s.append=function(e,t,r){"number"!=typeof t&&"string"==typeof t||(r=t,t=void 0);var i=void 0===r;if(i&&(r=this.offset),!this.B_){if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}e instanceof n||(e=n.wrap(e,t));var s=e.F_-e.offset;if(s<=0)return this;r+=s;var o=this.buffer.byteLength;return r>o&&this.resize((o*=2)>r?o:r),r-=s,new Uint8Array(this.buffer,r).set(new Uint8Array(e.buffer).subarray(e.offset,e.F_)),e.offset+=s,i&&(this.offset+=s),this},s.aA=function(e,t){return e.append(this,t),this},s.assert=function(e){return this.B_=!e,this},s.hA=function(){return this.buffer.byteLength},s.clear=function(){return this.offset=0,this.F_=this.buffer.byteLength,this.M_=-1,this},s.clone=function(e){var t=new n(0,this.U_,this.B_);if(e){var r=new ArrayBuffer(this.buffer.byteLength);new Uint8Array(r).set(this.buffer),t.buffer=r,t.view=new DataView(r)}else t.buffer=this.buffer,t.view=this.view;return t.offset=this.offset,t.M_=this.M_,t.F_=this.F_,t},s.compact=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.F_),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}if(0===e&&t===this.buffer.byteLength)return this;var r=t-e;if(0===r)return this.buffer=o,this.view=null,this.M_>=0&&(this.M_-=e),this.offset=0,this.F_=0,this;var i=new ArrayBuffer(r);return new Uint8Array(i).set(new Uint8Array(this.buffer).subarray(e,t)),this.buffer=i,this.view=new DataView(i),this.M_>=0&&(this.M_-=e),this.offset=0,this.F_=r,this},s.cA=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.F_),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}if(e===t)return new n(0,this.U_,this.B_);var r=t-e,i=new n(r,this.U_,this.B_);return i.offset=0,i.F_=r,i.M_>=0&&(i.M_-=e),this.jE(i,0,e,t),i},s.jE=function(e,t,r,i){var s,o;if(!this.B_&&!n.V_(e))throw TypeError("Illegal target: Not a ByteBuffer");if(t=(o=void 0===t)?e.offset:0|t,r=(s=void 0===r)?this.offset:0|r,i=void 0===i?this.F_:0|i,t<0||t>e.buffer.byteLength)throw RangeError("Illegal target range: 0 <= "+t+" <= "+e.buffer.byteLength);if(r<0||i>this.buffer.byteLength)throw RangeError("Illegal source range: 0 <= "+r+" <= "+this.buffer.byteLength);var a=i-r;return 0===a?e:(e.uA(t+a),new Uint8Array(e.buffer).set(new Uint8Array(this.buffer).subarray(r,i),t),s&&(this.offset+=a),o&&(e.offset+=a),this)},s.uA=function(e){var t=this.buffer.byteLength;return t<e?this.resize((t*=2)>e?t:e):this},s.fill=function(e,t,r){var i=void 0===t;if(i&&(t=this.offset),"string"==typeof e&&e.length>0&&(e=e.charCodeAt(0)),void 0===t&&(t=this.offset),void 0===r&&(r=this.F_),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof r||r%1!=0)throw TypeError("Illegal end: Not an integer");if(r>>>=0,t<0||t>r||r>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+r+" <= "+this.buffer.byteLength)}if(t>=r)return this;for(;t<r;)this.view.setUint8(t++,e);return i&&(this.offset=t),this},s.xg=function(){return this.F_=this.offset,this.offset=0,this},s.mark=function(e){if(e=void 0===e?this.offset:e,!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}return this.M_=e,this},s.order=function(e){if(!this.B_&&"boolean"!=typeof e)throw TypeError("Illegal littleEndian: Not a boolean");return this.U_=!!e,this},s.lA=function(e){return this.U_=void 0===e||!!e,this},s.pA=function(e){return this.U_=void 0!==e&&!e,this},s.dA=function(e,t,r){"number"!=typeof t&&"string"==typeof t||(r=t,t=void 0);var i=void 0===r;if(i&&(r=this.offset),!this.B_){if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}e instanceof n||(e=n.wrap(e,t));var s=e.F_-e.offset;if(s<=0)return this;var o,a=s-r;if(a>0){var h=new ArrayBuffer(this.buffer.byteLength+a);o=new Uint8Array(h),o.set(new Uint8Array(this.buffer).subarray(r,this.buffer.byteLength),s),this.buffer=h,this.view=new DataView(h),this.offset+=a,this.M_>=0&&(this.M_+=a),this.F_+=a,r+=a}else o=new Uint8Array(this.buffer);return o.set(new Uint8Array(e.buffer).subarray(e.offset,e.F_),r-s),e.offset=e.F_,i&&(this.offset-=s),this},s.fA=function(e,t){return e.dA(this,t),this},s.gA=function(e){"function"!=typeof e&&(e=console.log.bind(console)),e(this.toString()+"\n-------------------------------------------------------------------\n"+this.EA(!0))},s.vA=function(){return this.F_-this.offset},s.reset=function(){return this.M_>=0?(this.offset=this.M_,this.M_=-1):this.offset=0,this},s.resize=function(e){if(!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal capacity: "+e+" (not an integer)");if((e|=0)<0)throw RangeError("Illegal capacity: 0 <= "+e)}if(this.buffer.byteLength<e){var t=new ArrayBuffer(e);new Uint8Array(t).set(new Uint8Array(this.buffer)),this.buffer=t,this.view=new DataView(t)}return this},s.reverse=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.F_),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}return e===t?this:(Array.prototype.reverse.call(new Uint8Array(this.buffer).subarray(e,t)),this.view=new DataView(this.buffer),this)},s.Mb=function(e){if(!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal length: "+e+" (not an integer)");e|=0}var t=this.offset+e;if(!this.B_&&(t<0||t>this.buffer.byteLength))throw RangeError("Illegal length: 0 <= "+this.offset+" + "+e+" <= "+this.buffer.byteLength);return this.offset=t,this},s.slice=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.F_),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}var r=this.clone();return r.offset=e,r.F_=t,r},s.yA=function(e){var t=this.offset,r=this.F_;if(t>r){var i=t;t=r,r=i}if(!this.B_){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: Not an integer");if(t>>>=0,"number"!=typeof r||r%1!=0)throw TypeError("Illegal limit: Not an integer");if(r>>>=0,t<0||t>r||r>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+r+" <= "+this.buffer.byteLength)}if(!e&&0===t&&r===this.buffer.byteLength)return this.buffer;if(t===r)return o;var n=new ArrayBuffer(r-t);return new Uint8Array(n).set(new Uint8Array(this.buffer).subarray(t,r),0),n},s.tc=s.yA,s.toString=function(e,t,r){if(void 0===e)return"ByteBufferAB(offset="+this.offset+",markedOffset="+this.M_+",limit="+this.F_+",capacity="+this.hA()+")";switch("number"==typeof e&&(e="utf8",t=e,r=t),e){case"utf8":return this.TA(t,r);case"base64":return this.mA(t,r);case"hex":return this.IA(t,r);case"binary":return this.SA(t,r);case"debug":return this.EA();case"columns":return this.RA();default:throw Error("Unsupported encoding: "+e)}};var h=function(){for(var e={},t=[65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,48,49,50,51,52,53,54,55,56,57,43,47],r=[],i=0,n=t.length;i<n;++i)r[t[i]]=i;return e.encode=function(e,r){for(var i,n;null!==(i=e());)r(t[i>>2&63]),n=(3&i)<<4,null!==(i=e())?(n|=i>>4&15,r(t[63&(n|i>>4&15)]),n=(15&i)<<2,null!==(i=e())?(r(t[63&(n|i>>6&3)]),r(t[63&i])):(r(t[63&n]),r(61))):(r(t[63&n]),r(61),r(61))},e.decode=function(e,t){function i(e){throw Error("Illegal character code: "+e)}for(var n,s,o;null!==(n=e());)if(s=r[n],void 0===s&&i(n),null!==(n=e())&&(o=r[n],void 0===o&&i(n),t(s<<2>>>0|(48&o)>>4),null!==(n=e()))){if(void 0===(s=r[n])){if(61===n)break;i(n)}if(t((15&o)<<4>>>0|(60&s)>>2),null!==(n=e())){if(void 0===(o=r[n])){if(61===n)break;i(n)}t((3&s)<<6>>>0|o)}}},e.test=function(e){return/^(?:[A-Za-z0-9+\/]{4})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(e)},e}();s.mA=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.F_),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}var i;return h.encode(function(){return e<t?this.view.getUint8(e++):null}.bind(this),i=r()),i()},n.j_=function(e,r,i){if(!i){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");if(e.length%4!=0)throw TypeError("Illegal str: Length not a multiple of 4")}var s=new n(e.length/4*3,r,i),o=0;return h.decode(t(e),function(e){s.view.setUint8(o++,e)}),s.F_=o,s},n.btoa=function(e){return n.K_(e).mA()},n.atob=function(e){return n.j_(e).SA()},s.SA=function(e,t){if(e=void 0===e?this.offset:e,t=void 0===t?this.F_:t,!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}if(e===t)return"";for(var r=[],i=[];e<t;)r.push(this.view.getUint8(e++)),r.length>=1024&&(i.push(String.fromCharCode.apply(String,r)),r=[]);return i.join("")+String.fromCharCode.apply(String,r)},n.K_=function(e,t,r){if(!r&&"string"!=typeof e)throw TypeError("Illegal str: Not a string");for(var i,s=0,o=e.length,a=new n(o,t,r);s<o;){if(i=e.charCodeAt(s),!r&&i>255)throw RangeError("Illegal charCode at "+s+": 0 <= "+i+" <= 255");a.view.setUint8(s++,i)}return a.F_=o,a},s.EA=function(e){for(var t,r=-1,i=this.buffer.byteLength,n="",s="",o="";r<i;){if(-1!==r&&(t=this.view.getUint8(r),n+=t<16?"0"+t.toString(16).toUpperCase():t.toString(16).toUpperCase(),e&&(s+=t>32&&t<127?String.fromCharCode(t):".")),++r,e&&r>0&&r%16==0&&r!==i){for(;n.length<51;)n+=" ";o+=n+s+"\n",n=s=""}r===this.offset&&r===this.F_?n+=r===this.M_?"!":"|":r===this.offset?n+=r===this.M_?"[":"<":r===this.F_?n+=r===this.M_?"]":">":n+=r===this.M_?"'":e||0!==r&&r!==i?" ":""}if(e&&" "!==n){for(;n.length<51;)n+=" ";o+=n+s+"\n"}return e?o:n},n.W_=function(e,t,r){for(var i,s,o=e.length,a=new n((o+1)/3|0,t,r),h=0,c=0,u=!1,l=!1,p=!1,d=!1,f=!1;h<o;){switch(i=e.charAt(h++)){case"!":if(!r){if(l||p||d){f=!0;break}l=p=d=!0}a.offset=a.M_=a.F_=c,u=!1;break;case"|":if(!r){if(l||d){f=!0;break}l=d=!0}a.offset=a.F_=c,u=!1;break;case"[":if(!r){if(l||p){f=!0;break}l=p=!0}a.offset=a.M_=c,u=!1;break;case"<":if(!r){if(l){f=!0;break}l=!0}a.offset=c,u=!1;break;case"]":if(!r){if(d||p){f=!0;break}d=p=!0}a.F_=a.M_=c,u=!1;break;case">":if(!r){if(d){f=!0;break}d=!0}a.F_=c,u=!1;break;case"'":if(!r){if(p){f=!0;break}p=!0}a.M_=c,u=!1;break;case" ":u=!1;break;default:if(!r&&u){f=!0;break}if(s=parseInt(i+e.charAt(h++),16),!r&&(isNaN(s)||s<0||s>255))throw TypeError("Illegal str: Not a debug encoded string");a.view.setUint8(c++,s),u=!0}if(f)throw TypeError("Illegal str: Invalid symbol at "+h)}if(!r){if(!l||!d)throw TypeError("Illegal str: Missing offset or limit");if(c<a.buffer.byteLength)throw TypeError("Illegal str: Not a debug encoded string (is it hex?) "+c+" < "+o)}return a},s.IA=function(e,t){if(e=void 0===e?this.offset:e,t=void 0===t?this.F_:t,!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}for(var r,i=new Array(t-e);e<t;)r=this.view.getUint8(e++),r<16?i.push("0",r.toString(16)):i.push(r.toString(16));return i.join("")},n.Q_=function(e,t,r){if(!r){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");if(e.length%2!=0)throw TypeError("Illegal str: Length not a multiple of 2")}for(var i,s=e.length,o=new n(s/2|0,t),a=0,h=0;a<s;a+=2){if(i=parseInt(e.substring(a,a+2),16),!r&&(!isFinite(i)||i<0||i>255))throw TypeError("Illegal str: Contains non-hex characters");o.view.setUint8(h++,i)}return o.F_=h,o};var c=function(){var e={};return e.wA=1114111,e.bA=function(e,t){var r=null;for("number"==typeof e&&(r=e,e=function(){return null});null!==r||null!==(r=e());)r<128?t(127&r):r<2048?(t(r>>6&31|192),t(63&r|128)):r<65536?(t(r>>12&15|224),t(r>>6&63|128),t(63&r|128)):(t(r>>18&7|240),t(r>>12&63|128),t(r>>6&63|128),t(63&r|128)),r=null},e.iA=function(e,t){for(var r,i,n,s,o=function(e){e=e.slice(0,e.indexOf(null));var t=Error(e.toString());throw t.name="TruncatedError",t.bytes=e,t};null!==(r=e());)if(0==(128&r))t(r);else if(192==(224&r))null===(i=e())&&o([r,i]),t((31&r)<<6|63&i);else if(224==(240&r))(null===(i=e())||null===(n=e()))&&o([r,i,n]),t((15&r)<<12|(63&i)<<6|63&n);else{if(240!=(248&r))throw RangeError("Illegal starting byte: "+r);(null===(i=e())||null===(n=e())||null===(s=e()))&&o([r,i,n,s]),t((7&r)<<18|(63&i)<<12|(63&n)<<6|63&s)}},e.CA=function(e,t){for(var r,i=null;;){if(null===(r=null!==i?i:e()))break;r>=55296&&r<=57343&&null!==(i=e())&&i>=56320&&i<=57343?(t(1024*(r-55296)+i-56320+65536),i=null):t(r)}null!==i&&t(i)},e.nA=function(e,t){var r=null;for("number"==typeof e&&(r=e,e=function(){return null});null!==r||null!==(r=e());)r<=65535?t(r):(r-=65536,t(55296+(r>>10)),t(r%1024+56320)),r=null},e.YP=function(t,r){e.CA(t,function(t){e.bA(t,r)})},e.WP=function(t,r){e.iA(t,function(t){e.nA(t,r)})},e._A=function(e){return e<128?1:e<2048?2:e<65536?3:4},e.PA=function(t){for(var r,i=0;null!==(r=t());)i+=e._A(r);return i},e.KP=function(t){var r=0,i=0;return e.CA(t,function(t){++r,i+=e._A(t)}),[r,i]},e}();return s.TA=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.F_),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}var i;try{c.WP(function(){return e<t?this.view.getUint8(e++):null}.bind(this),i=r())}catch(r){if(e!==t)throw RangeError("Illegal range: Truncated data, "+e+" != "+t)}return i()},n.Y_=function(e,r,i){if(!i&&"string"!=typeof e)throw TypeError("Illegal str: Not a string");var s=new n(c.KP(t(e),!0)[1],r,i),o=0;return c.YP(t(e),function(e){s.view.setUint8(o++,e)}),s.F_=o,s},n}"object"==typeof e&&e&&"object"==typeof t&&t?e.i=function(){var e;try{e=r(93)}catch(e){}return a(e)}():(n=[r(94)],void 0!==(s=function(e){return a(e)}.apply(t,n))&&(e.i=s))}()}).call(t,r(63)(e))},function(e,t,r){"use strict";var i=r(37);e.i=Object,Object.empty=Object.freeze(Object.create(null)),Object.au=function(e){return Object(e)===e},Object.AA=function(e){return e&&"function"==typeof e.valueOf&&(e=e.valueOf()),e};var n=new i;Object.hash=function(e){return e&&"function"==typeof e.hash?""+e.hash():Object(e)===e?(n.has(e)||n.set(e,Math.random().toString(36).slice(2)),n.get(e)):""+e};var s=Object.prototype.hasOwnProperty;Object.OA=function(e,t){return s.call(e,t)},Object.has=function(e,t){if("object"!=typeof e)throw new Error("Object.has can't accept non-object: "+typeof e);if(e&&"function"==typeof e.has)return e.has(t);if("string"==typeof t)return t in e&&e[t]!==Object.prototype[t];throw new Error("Key must be a string for Object.has on plain objects")},Object.get=function(e,t,r){if("object"!=typeof e)throw new Error("Object.get can't accept non-object: "+typeof e);return e&&"function"==typeof e.get?e.get(t,r):Object.has(e,t)?e[t]:r},Object.set=function(e,t,r){e&&"function"==typeof e.set?e.set(t,r):e[t]=r},Object.addEach=function(e,t){if(t)if("function"!=typeof t.forEach||t.hasOwnProperty("forEach"))if("number"==typeof t.length)for(var r=0;r<t.length;r++)e[r]=t[r];else Object.keys(t).forEach(function(r){e[r]=t[r]});else!0===t.isMap?t.forEach(function(t,r){e[r]=t}):t.forEach(function(t){e[t[0]]=t[1]});else;return e},Object.forEach=function(e,t,r){for(var i,n=Object.keys(e),s=0;i=n[s];s++)t.call(r,e[i],i,e)},Object.map=function(e,t,r){for(var i,n=Object.keys(e),s=0,o=[];i=n[s];s++)o.push(t.call(r,e[i],i,e));return o},Object.values=function(e){return Object.map(e,Function.identity)},Object.concat=function(){for(var e={},t=0;t<arguments.length;t++)Object.addEach(e,arguments[t]);return e},Object.from=Object.concat,Object.is=function(e,t){return e===t?0!==e||1/e==1/t:e!==e&&t!==t},Object.cs=function(e,t,r,n){if(r=r||Object.cs,e=Object.AA(e),t=Object.AA(t),e===t)return!0;if(Object.au(e)){if(n=n||new i,n.has(e))return!0;n.set(e,!0)}if(Object.au(e)&&"function"==typeof e.cs)return e.cs(t,r,n);if(Object.au(t)&&"function"==typeof t.cs)return t.cs(e,r,n);if(Object.au(e)&&Object.au(t)&&Object.getPrototypeOf(e)===Object.prototype&&Object.getPrototypeOf(t)===Object.prototype){for(var s in e)if(!r(e[s],t[s],r,n))return!1;for(var s in t)if(!(s in e&&r(t[s],e[s],r,n)))return!1;return!0}return e!==e&&t!==t||(!e||!t)&&e===t},Object.Oc=function(e,t){if(e=Object.AA(e),t=Object.AA(t),e===t)return 0;var r=typeof e,i=typeof t;return"number"===r&&"number"===i?e-t:"string"===r&&"string"===i?e<t?-1/0:1/0:e&&"function"==typeof e.Oc?e.Oc(t):t&&"function"==typeof t.Oc?-t.Oc(e):0},Object.clone=function(e,t,r){if(e=Object.AA(e),r=r||new i,void 0===t)t=1/0;else if(0===t)return e;if(Object.au(e)){if(!r.has(e))if(e&&"function"==typeof e.clone)r.set(e,e.clone(t,r));else{var n=Object.getPrototypeOf(e);if(null!==n&&n!==Object.prototype)throw new Error("Can't clone "+e);var s=Object.create(n);r.set(e,s);for(var o in e)s[o]=Object.clone(e[o],t-1,r)}return r.get(e)}return e},Object.clear=function(e){if(e&&"function"==typeof e.clear)e.clear();else for(var t=Object.keys(e),r=t.length;r;)r--,delete e[t[r]];return e}},function(e,t){!function(){"use strict";function t(e){e.NA&&e.NA(t)}function r(e){return!(e.substr(0,d.length)==d&&"___"===e.substr(e.length-3))}function i(e){if(e!==Object(e))throw new TypeError("Not an object: "+e);var t=e[f];if(t&&t.key===e)return t;if(p(e)){t={key:e};try{return l(e,f,{value:t,Ah:!1,p:!1,l:!1}),t}catch(e){return}}}function n(e){return e.prototype=null,Object.freeze(e)}function s(){y||"undefined"==typeof console||(y=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}if("undefined"==typeof ses||!ses.ok||ses.ok()){"undefined"!=typeof ses&&(ses.DA=t);var o=!1;if("function"==typeof WeakMap){var a=WeakMap;if("undefined"!=typeof navigator&&/Firefox/.test(navigator.userAgent));else{var h=new a,c=Object.freeze({});if(h.set(c,1),1===h.get(c))return void(e.i=WeakMap);o=!0}}var u=(Object.prototype.hasOwnProperty,Object.getOwnPropertyNames),l=Object.defineProperty,p=Object.isExtensible,d="weakmap:",f=d+"ident:"+Math.random()+"___";if("undefined"!=typeof crypto&&"function"==typeof crypto.getRandomValues&&"function"==typeof ArrayBuffer&&"function"==typeof Uint8Array){var g=new ArrayBuffer(25),E=new Uint8Array(g);crypto.getRandomValues(E),f=d+"rand:"+Array.prototype.map.call(E,function(e){return(e%36).toString(36)}).join("")+"___"}if(l(Object,"getOwnPropertyNames",{value:function(e){return u(e).filter(r)}}),"getPropertyNames"in Object){var v=Object.kA;l(Object,"getPropertyNames",{value:function(e){return v(e).filter(r)}})}!function(){var e=Object.freeze;l(Object,"freeze",{value:function(t){return i(t),e(t)}});var t=Object.seal;l(Object,"seal",{value:function(e){return i(e),t(e)}});var r=Object.preventExtensions;l(Object,"preventExtensions",{value:function(e){return i(e),r(e)}})}();var y=!1,T=0,m=function(){function e(e,t){var r,n=i(e);return n?c in n?n[c]:t:(r=a.indexOf(e),r>=0?h[r]:t)}function t(e){var t=i(e);return t?c in t:a.indexOf(e)>=0}function r(e,t){var r,n=i(e);return n?n[c]=t:(r=a.indexOf(e),r>=0?h[r]=t:(r=a.length,h[r]=t,a[r]=e)),this}function o(e){var t,r,n=i(e);return n?c in n&&delete n[c]:!((t=a.indexOf(e))<0)&&(r=a.length-1,a[t]=void 0,h[t]=h[r],a[t]=a[r],a.length=r,h.length=r,!0)}this instanceof m||s();var a=[],h=[],c=T++;return Object.create(m.prototype,{LA:{value:n(e)},MA:{value:n(t)},FA:{value:n(r)},UA:{value:n(o)}})};m.prototype=Object.create(Object.prototype,{get:{value:function(e,t){return this.LA(e,t)},Ah:!0,l:!0},has:{value:function(e){return this.MA(e)},Ah:!0,l:!0},set:{value:function(e,t){return this.FA(e,t)},Ah:!0,l:!0},delete:{value:function(e){return this.UA(e)},Ah:!0,l:!0}}),"function"==typeof a?function(){function r(){function e(e,t){return u?c.has(e)?c.get(e):u.LA(e,t):c.get(e,t)}function r(e){return c.has(e)||!!u&&u.MA(e)}function i(e){var t=!!c.delete(e);return u?u.UA(e)||t:t}this instanceof m||s();var h,c=new a,u=void 0,l=!1;return h=o?function(e,t){return c.set(e,t),c.has(e)||(u||(u=new m),u.set(e,t)),this}:function(e,t){if(l)try{c.set(e,t)}catch(r){u||(u=new m),u.FA(e,t)}else c.set(e,t);return this},Object.create(m.prototype,{LA:{value:n(e)},MA:{value:n(r)},FA:{value:n(h)},UA:{value:n(i)},NA:{value:n(function(e){if(e!==t)throw new Error("bogus call to permitHostObjects___");l=!0})}})}o&&"undefined"!=typeof Proxy&&(Proxy=void 0),r.prototype=m.prototype,e.i=r,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,p:!1,l:!0,Ah:!0})}():("undefined"!=typeof Proxy&&(Proxy=void 0),e.i=m)}}()},function(e,t,r){"use strict";function i(){throw new Error("Can't construct. RangeChanges is a mixin.")}var n=r(37),s=r(51),o=new n;e.i=i,i.prototype.BA=function(){return o.has(this)||o.set(this,s()),o.get(this)},i.prototype.HA=function(e){var t=this.BA();return e=e||"",t.has(e)||t.set(e,{isActive:!1,Wc:[],Yc:[]}),t.get(e)},i.prototype.xA=function(e,t,r){!this.Zc&&this.Xc&&this.Xc();var i,n=this.HA(t);i=r?n.Yc:n.Wc,i.push(e),Object.defineProperty(this,"dispatchesRangeChanges",{value:!0,Ah:!0,l:!0,p:!1});var s=this;return function(){s&&(s.qA(e,t,r),s=null)}},i.prototype.qA=function(e,t,r){var i,n=this.HA(t);i=r?n.Yc:n.Wc;var s=i.lastIndexOf(e);if(-1===s)throw new Error("Can't remove range change listener: does not exist: token "+JSON.stringify(t));i.splice(s,1)},i.prototype.GA=function(e,t,r,i){var n="Range"+(i?"WillChange":"Change");this.BA().forEach(function(s,o){if(!s.isActive){s.isActive=!0;var a;a=i?s.Yc:s.Wc;var h="handle"+(o.slice(0,1).toUpperCase()+o.slice(1))+n;try{a.slice().forEach(function(n){if(!(a.indexOf(n)<0))if(n[h])n[h](e,t,r,this,i);else{if(!n.call)throw new Error("Handler "+n+" has no method "+h+" and is not callable");n.call(this,e,t,r,this,i)}},this)}finally{s.isActive=!1}}},this)},i.prototype.VA=function(e,t){return this.xA(e,t,!0)},i.prototype.jA=function(e,t){return this.qA(e,t,!0)},i.prototype.QA=function(e,t,r){return this.GA(e,t,r,!0)}},function(e,t){function r(){throw new Error("Can't construct. GenericSet is a mixin.")}e.i=r,r.prototype.KA=!0,r.prototype.YA=function(e){var t=this.Es(this);return t.addEach(e),t},r.prototype.WA=function(e){return this.Es(this.filter(function(t){return e.has(t)}))},r.prototype.zA=function(e){var t=this.Es(this);return t._c(e),t},r.prototype.JA=function(e){var t=this.YA(e),r=this.WA(e);return t.zA(r)},r.prototype.XA=function(e){return+this.delete(e)},r.prototype.cs=function(e,t){var r=this;return e&&"function"==typeof e.reduce&&this.length===e.length&&e.reduce(function(e,i){return e&&r.has(i,t)},!0)},r.prototype.toJSON=function(){return this.toArray()},r.prototype.contains=function(e){return this.has(e)},r.prototype.remove=function(e){return this.delete(e)},r.prototype.toggle=function(e){this.has(e)?this.delete(e):this.add(e)}},function(e,t,r){var i,i;!function(t){e.i=t()}(function(){return function e(t,r,n){function s(a,h){if(!r[a]){if(!t[a]){var c="function"==typeof i&&i;if(!h&&c)return i(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var l=r[a]={i:{}};t[a][0].call(l.i,function(e){var r=t[a][1][e];return s(r||e)},l,l.i,e,t,r,n)}return r[a].i}for(var o="function"==typeof i&&i,a=0;a<n.length;a++)s(n[a]);return s}({1:[function(e,t,r){var i=e("./kernel");r.D=i.D;var n=e("./type_binding");r.ZA=n.ZA;var s=e("./type_binding_scope");r.$A=s.$A},{"./kernel":2,"./type_binding":4,"./type_binding_scope":5}],2:[function(e,t,r){var i=e("./type_binding_scope"),n=e("./lookup"),s=function(){function e(){this.eO=new n.tO}return e.prototype.bind=function(e){this.eO.add(e.rO,e)},e.prototype.iO=function(e){try{this.eO.remove(e)}catch(t){throw new Error("Could not resolve service "+e)}},e.prototype.N=function(){this.eO=new n.tO},e.prototype.resolve=function(e){var t;if(!this.eO.nO(e))return null;t=this.eO.get(e);var r=t[0];if(r.scope===i.$A.sO&&null!==r.sC)return r.sC;var n=this.oO(r.aO);return r.sC=n,n},e.prototype.hO=function(e){var t,r,i,n,s,o;return s=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,o=/([^\s,]+)/g,t=e.toString().replace(s,""),r=t.indexOf("(")+1,i=t.indexOf(")"),n="function"==typeof Map&&-1!==t.indexOf("class")&&-1===t.indexOf("constructor")?null:t.slice(r,i).match(o),null===n&&(n=[]),n},e.prototype.oO=function(e){var t=this.hO(e);if(0===t.length)return new e;for(var r=[],i=null,n=0;n<t.length;n++){var s=t[n];i=this.resolve(s),r.push(i)}return this.cO(e,r)},e.prototype.cO=function(e,t){return new(Function.prototype.bind.apply(e,[null].concat(t)))},e}();r.D=s},{"./lookup":3,"./type_binding_scope":5}],3:[function(e,t,r){var i=function(){function e(e,t){this.key=e,this.value=new Array,this.value.push(t)}return e}(),n=function(){function e(){this.uO=new Array}return e.prototype.lO=function(e){for(var t=-1,r=0;r<this.uO.length;r++){this.uO[r].key===e&&(t=r)}return t},e.prototype.add=function(e,t){if(null===e||void 0===e)throw new Error("Argument Null");if(null===t||void 0===t)throw new Error("Argument Null");var r=this.lO(e);if(-1!==r){var n=this.uO[r];n.key===e&&n.value.push(t)}else this.uO.push(new i(e,t))},e.prototype.get=function(e){if(null===e||void 0===e)throw new Error("Argument Null");var t=this.lO(e);if(-1===t)throw new Error("Key Not Found");var r=this.uO[t];return r.key===e?r.value:void 0},e.prototype.remove=function(e){if(null===e||void 0===e)throw new Error("Argument Null");var t=this.lO(e);if(-1===t)throw new Error("Key Not Found");this.uO.splice(t,1)},e.prototype.nO=function(e){if(null===e||void 0===e)throw new Error("Argument Null");return-1!==this.lO(e)},e}();r.tO=n},{}],4:[function(e,t,r){var i=e("./type_binding_scope"),n=function(){function e(e,t,r){if(this.rO=e,this.aO=t,this.sC=null,void 0===r)this.scope=i.$A.pO;else{if(!i.$A[r]){var n="Invalid scope type "+r;throw new Error(n)}this.scope=r}}return e}();r.ZA=n},{"./type_binding_scope":5}],5:[function(e,t,r){var i;!function(e){e[e.pO=0]="Transient",e[e.sO=1]="Singleton"}(i||(i={})),r.$A=i},{}]},{},[1])(1)})},function(e,t,r){"use strict";var i;!function(e){var t=function(){function e(){}return e}();t.LoggerTimestamp=!0,e.Framework=t;var r=function(){function e(){}return e}();r.MetricSnapshotLogs=0,r.TrackSnapshotLogs=0,e.DebugLogs=r}(i=t.HiveConfig||(t.HiveConfig={})),"undefined"!=typeof window&&(void 0===window.HiveConfig&&(window.HiveConfig={}),window.HiveConfig.Framework=i.Framework,window.HiveConfig.DebugLogs=i.DebugLogs)},function(e,t,r){"use strict";var i=function(){function e(){}return e}();i.dO="127.0.0.1",i.vp=8999,i.Ep=8998,i.gp=8899,i.dp=8898,i.fO="//{0}:{1}/?callback={2}{3}hivePluginId={4}",i.gO="//{0}:{1}/?callback={2}",i.yp=!0,i.EO=/((http|https):\/\/(.*):([0-9]*)\/([0-9a-z-]*).ism\/)(.*)/,i.vO="2013.1.1",i.yO="2018.1",t.fp=i},function(e,t,r){"use strict";var i=function(){function e(){this.count=0}return e.prototype.next=function(){return++this.count},e}();t.Counter=i;var n=function(){function e(){this.reset()}return e.prototype.add=function(e){e<=0||(this.TO+=e,this.mO++,e>this.IO&&(this.IO=e),e<this.SO&&(this.SO=e))},e.prototype.min=function(e){void 0===e&&(e=!0);var t=this.SO==Number.POSITIVE_INFINITY?0:this.SO;return e&&this.reset(),t},e.prototype.max=function(e){void 0===e&&(e=!0);var t=this.IO==Number.NEGATIVE_INFINITY?0:this.IO;return e&&this.reset(),t},e.prototype.Nc=function(e){void 0===e&&(e=!0);var t=this.TO;return e&&this.reset(),t},e.prototype.ec=function(e){void 0===e&&(e=!0);var t=this.mO>0?this.TO/this.mO:0;return e&&this.reset(),t},e.prototype.reset=function(){this.SO=Number.POSITIVE_INFINITY,this.IO=Number.NEGATIVE_INFINITY,this.TO=0,this.mO=0},e}();t.RO=n},function(e,t,r){var i;!function(n,s){"use strict";var o="model",a="name",h="type",c="vendor",u="version",l="mobile",p="tablet",d={extend:function(e,t){var r={};for(var i in e)t[i]&&t[i].length%2==0?r[i]=t[i].concat(e[i]):r[i]=e[i];return r},has:function(e,t){return"string"==typeof e&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},wO:function(e){return e.toLowerCase()},bO:function(e){return"string"==typeof e?e.replace(/[^\d\.]/g,"").split(".")[0]:void 0},trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},f={CO:function(){for(var e,t,r,i,n,s,o,a=0,h=arguments;a<h.length&&!s;){var c=h[a],u=h[a+1];if(void 0===e){e={};for(i in u)u.hasOwnProperty(i)&&(n=u[i],"object"==typeof n?e[n[0]]=void 0:e[n]=void 0)}for(t=r=0;t<c.length&&!s;)if(s=c[t++].exec(this._O()))for(i=0;i<u.length;i++)o=s[++r],n=u[i],"object"==typeof n&&n.length>0?2==n.length?"function"==typeof n[1]?e[n[0]]=n[1].call(this,o):e[n[0]]=n[1]:3==n.length?"function"!=typeof n[1]||n[1].exec&&n[1].test?e[n[0]]=o?o.replace(n[1],n[2]):void 0:e[n[0]]=o?n[1].call(this,o,n[2]):void 0:4==n.length&&(e[n[0]]=o?n[3].call(this,o.replace(n[1],n[2])):void 0):e[n]=o||void 0;a+=2}return e},str:function(e,t){for(var r in t)if("object"==typeof t[r]&&t[r].length>0){for(var i=0;i<t[r].length;i++)if(d.has(t[r][i],e))return"?"===r?void 0:r}else if(d.has(t[r],e))return"?"===r?void 0:r;return e}},g={Qu:{PO:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419",QR:"/"}}},AO:{OO:{NO:{DO:["SD","KF"]}},kO:{NO:{LO:"7373KT"},vendor:{MO:"APA",FO:"Sprint"}}},os:{UO:{version:{BO:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2000:"NT 5.0",HO:["NT 5.1","NT 5.2"],xO:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],qO:"ARM"}}}},E={Qu:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[a,u],[/(opios)[\/\s]+([\w\.]+)/i],[[a,"Opera Mini"],u],[/\s(opr)\/([\w\.]+)/i],[[a,"Opera"],u],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs)\/([\w\.-]+)/i],[a,u],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[a,"IE"],u],[/(edge)\/((\d+)?[\w\.]+)/i],[a,u],[/(yabrowser)\/([\w\.]+)/i],[[a,"Yandex"],u],[/(comodo_dragon)\/([\w\.]+)/i],[[a,/_/g," "],u],[/(micromessenger)\/([\w\.]+)/i],[[a,"WeChat"],u],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[u,[a,"MIUI Browser"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[a,/(.+)/,"$1 WebView"],u],[/android.+samsungbrowser\/([\w\.]+)/i,/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[u,[a,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i,/(qqbrowser)[\/\s]?([\w\.]+)/i],[a,u],[/(uc\s?browser)[\/\s]?([\w\.]+)/i,/ucweb.+(ucbrowser)[\/\s]?([\w\.]+)/i,/juc.+(ucweb)[\/\s]?([\w\.]+)/i],[[a,"UCBrowser"],u],[/(dolfin)\/([\w\.]+)/i],[[a,"Dolphin"],u],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[a,"Chrome"],u],[/;fbav\/([\w\.]+);/i],[u,[a,"Facebook"]],[/fxios\/([\w\.-]+)/i],[u,[a,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[u,[a,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[u,a],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[a,[u,f.str,g.Qu.PO.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[a,u],[/(navigator|netscape)\/([\w\.-]+)/i],[[a,"Netscape"],u],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/([\w\.-]+)/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]+)*/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[a,u]],GO:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/(ia32(?=;))/i],[["architecture",d.wO]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/windows\s(ce|mobile);\sppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[["architecture",/ower/,"",d.wO]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[["architecture",d.wO]]],AO:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[o,c,[h,p]],[/applecoremedia\/[\w\.]+ \((ipad)/],[o,[c,"Apple"],[h,p]],[/(apple\s{0,1}tv)/i],[[o,"Apple TV"],[c,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[c,o,[h,p]],[/(kf[A-z]+)\sbuild\/[\w\.]+.*silk\//i],[o,[c,"Amazon"],[h,p]],[/(sd|kf)[0349hijorstuw]+\sbuild\/[\w\.]+.*silk\//i],[[o,f.str,g.AO.OO.NO],[c,"Amazon"],[h,l]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[o,c,[h,l]],[/\((ip[honed|\s\w*]+);/i],[o,[c,"Apple"],[h,l]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|huawei|meizu|motorola|polytron)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[c,o,[h,l]],[/\(bb10;\s(\w+)/i],[o,[c,"BlackBerry"],[h,l]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone)/i],[o,[c,"Asus"],[h,p]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[c,"Sony"],[o,"Xperia Tablet"],[h,p]],[/(?:sony)?(?:(?:(?:c|d)\d{4})|(?:so[-l].+))\sbuild\//i],[[c,"Sony"],[o,"Xperia Phone"],[h,l]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[c,o,[h,"console"]],[/android.+;\s(shield)\sbuild/i],[o,[c,"Nvidia"],[h,"console"]],[/(playstation\s[34portablevi]+)/i],[o,[c,"Sony"],[h,"console"]],[/(sprint\s(\w+))/i],[[c,f.str,g.AO.kO.vendor],[o,f.str,g.AO.kO.NO],[h,l]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[c,o,[h,p]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|huawei|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],[c,[o,/_/g," "],[h,l]],[/(nexus\s9)/i],[o,[c,"HTC"],[h,p]],[/(nexus\s6p)/i],[o,[c,"Huawei"],[h,l]],[/(microsoft);\s(lumia[\s\w]+)/i],[c,o,[h,l]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[o,[c,"Microsoft"],[h,"console"]],[/(kin\.[onetw]{3})/i],[[o,/\./g," "],[c,"Microsoft"],[h,l]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w+)*/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[o,[c,"Motorola"],[h,l]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[o,[c,"Motorola"],[h,p]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[c,d.trim],[o,d.trim],[h,"smarttv"]],[/hbbtv.+maple;(\d+)/i],[[o,/^/,"SmartTV"],[c,"Samsung"],[h,"smarttv"]],[/\(dtv[\);].+(aquos)/i],[o,[c,"Sharp"],[h,"smarttv"]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[c,"Samsung"],o,[h,p]],[/smart-tv.+(samsung)/i],[c,[h,"smarttv"],o],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[[c,"Samsung"],o,[h,l]],[/sie-(\w+)*/i],[o,[c,"Siemens"],[h,l]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[[c,"Nokia"],o,[h,l]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],[o,[c,"Acer"],[h,p]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[c,"LG"],o,[h,p]],[/(lg) netcast\.tv/i],[c,o,[h,"smarttv"]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w+)*/i],[o,[c,"LG"],[h,l]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[o,[c,"Lenovo"],[h,p]],[/linux;.+((jolla));/i],[c,o,[h,l]],[/((pebble))app\/[\d\.]+\s/i],[c,o,[h,"wearable"]],[/android.+;\s(glass)\s\d/i],[o,[c,"Google"],[h,"wearable"]],[/android.+(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus|note lte)?[\s_]*(?:\d\w)?)\s+build/i],[[o,/_/g," "],[c,"Xiaomi"],[h,l]],[/android.+a000(1)\s+build/i],[o,[c,"OnePlus"],[h,l]],[/\s(tablet)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[h,d.wO],c,o]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[u,[a,"EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[a,u],[/rv\:([\w\.]+).*(gecko)/i],[u,a]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[a,u],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s]+\w)*/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[a,[u,f.str,g.os.UO.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[a,"Windows"],[u,f.str,g.os.UO.version]],[/\((bb)(10);/i],[[a,"BlackBerry"],u],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],[a,u],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[a,"Symbian"],u],[/\((series40);/i],[a],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[a,"Firefox OS"],u],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[a,u],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[a,"Chromium OS"],u],[/(sunos)\s?([\w\.]+\d)*/i],[[a,"Solaris"],u],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[a,u],[/(haiku)\s(\w+)/i],[a,u],[/(ip[honead]+)(?:.*os\s([\w]+)*\slike\smac|;\sopera)/i],[[a,"iOS"],[u,/_/g,"."]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i],[[a,"Mac OS"],[u,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]+)*/i],[a,u]]},v=function(e,t){if(!(this instanceof v))return new v(e,t).VO();var r=e||(n&&n.navigator&&n.navigator.userAgent?n.navigator.userAgent:""),i=t?d.extend(E,t):E;return this.jO=function(){var e=f.CO.apply(this,i.Qu);return e.bO=d.bO(e.version),e},this.QO=function(){return f.CO.apply(this,i.GO)},this.KO=function(){return f.CO.apply(this,i.AO)},this.YO=function(){return f.CO.apply(this,i.engine)},this.Od=function(){return f.CO.apply(this,i.os)},this.VO=function(){return{sy:this._O(),Qu:this.jO(),engine:this.YO(),os:this.Od(),AO:this.KO(),GO:this.QO()}},this._O=function(){return r},this.Ad=function(e){return r=e,this},this};v.VERSION="0.7.12",v.WO={zO:a,JO:"major",VERSION:u},v.XO={ZO:"architecture"},v.$O={eN:o,VENDOR:c,tN:h,rN:"console",iN:l,nN:"smarttv",sN:p,oN:"wearable",aN:"embedded"},v.hN={zO:a,VERSION:u},v.cN={zO:a,VERSION:u},void 0!==t?(void 0!==e&&e.i&&(t=e.i=v),t.Pp=v):r(110)?void 0!==(i=function(){return v}.call(t,r,t,e))&&(e.i=i):n.Pp=v;var y=n.uN||n.lN;if(void 0!==y){var T=new v;y.sy=T.VO(),y.sy.get=function(){return T._O()},y.sy.set=function(e){T.Ad(e);var t=T.VO();for(var r in t)y.sy[r]=t[r]}}}("object"==typeof window?window:this)},function(e,t,r){"use strict";var i=r(41),n=r(3);!function(e){var t;!function(e){e[e.off=0]="off",e[e.error=1]="error",e[e.warn=2]="warn",e[e.notice=3]="notice",e[e.info=4]="info",e[e.debug=5]="debug",e[e.trace=6]="trace"}(t=e.pN||(e.pN={}));var r=function(){function e(){this.timestamp=function(){},this.dN=new n,this.level=t.debug,this.timestamp.toString=function(){var e=new Date;return"["+("0"+e.getUTCHours()).slice(-2)+":"+("0"+e.getUTCMinutes()).slice(-2)+":"+("0"+e.getUTCSeconds()).slice(-2)+":"+("00"+e.getUTCMilliseconds()).slice(-3)+"]"},this.logger="undefined"==typeof console?{log:function(){}}:console,this.logger.trace||(this.logger.trace=this.logger.log),this.logger.debug||(this.logger.debug=this.logger.log),this.logger.info||(this.logger.info=this.logger.log),this.logger.warn||(this.logger.warn=this.logger.log),this.logger.error||(this.logger.error=this.logger.log),this.fN(t[this.level])}return e.prototype.fN=function(e,r){i.HiveConfig.Framework.HiveDebugLevel&&void 0!=t[i.HiveConfig.Framework.HiveDebugLevel]?this.level=t[i.HiveConfig.Framework.HiveDebugLevel]:void 0!=t[e]?this.level=t[e]:console.log("Wrong logging level: "+e,t),this.gN(r)},e.prototype.gN=function(e){var r={log:this.EN(this.logger.log,t.error,e),error:this.EN(this.logger.error,t.error,e),warn:this.EN(this.logger.warn,t.warn,e),notice:this.EN(this.logger.info,t.notice,e),info:this.EN(this.logger.info,t.info,e),debug:this.EN(this.logger.debug,t.debug,e),trace:this.EN(this.logger.trace,t.trace,e)};e?this.dN.set(e,r):this.vN=r},e.prototype.EN=function(e,t,r){if(!(this.level>=t))return function(){};try{return i.HiveConfig.Framework.LoggerTimestamp?r?Function.prototype.bind.call(e,console,"S["+r+"] %s",this.timestamp):Function.prototype.bind.call(e,console,"%s",this.timestamp):r?Function.prototype.bind.call(e,console,"S["+r+"]"):Function.prototype.bind.call(e,console)}catch(e){}},e.prototype.log=function(e){return e?(this.dN.has(e)||this.fN(t[this.level],e),this.dN.get(e)):this.vN},e}();e.yN=r}(t.TN||(t.TN={}))},function(e,t,r){"use strict";var i=r(30),n=r(28),s=n.sR,o=n.oR,a=function(){function e(){this.SourceURLParams={},this.testId=null}return e.prototype.mN=function(e){for(var t in e)if("SourceURLParams"===t)for(var r in e[t])this[t][r]=e[t][r];else this[t]=e[t];this.IN()},e.prototype.SN=function(){var e=this.ContentId+this.SiteId+this.CROId+this.SourceURL,t=new s;t.Nv("b6614c3e4cd1d14eed6b39ef2bf6b9a3e3d6dfcd26699d7270d887923bcbf83efb3dadb717c0bafb1d48dce361eb369b7cc46e57405ebfbdd86c3175532fe56cc77f473d345b2cb6feafb5ab0e24f364a3d259f27e4a2fd97468265bddfd3ddd3ac64251db650ca0280af2b2c45e8b1c8f040f2c433ac0a157d2b3fd91517253","010001");var r=o(this.Signature);return t.ZS(e,r)},e.prototype.RN=function(e){this.ticketUrl=e;var t=i.parse(e),r=t.path.split("/").slice(3);if(this.SiteId=r[0],this.CROId=r[1],this.ContentId=r[2],this.wN=r[3],t.query)try{var n=t.query.split("&");for(var s in n){var o=n[s].split(/=(.+)/);this.SourceURLParams[o[0]]=o[1]}}catch(e){}this.bN=e.indexOf("api-test")>-1},e.prototype.up=function(){return this.SiteId},e.prototype.cp=function(){return this.CROId},e.prototype.hp=function(){return this.ContentId},e.prototype.CN=function(){return this.wN},e.prototype._N=function(){return this.SourceURL},e.prototype.PN=function(){if(this.AN=this.SourceURL,void 0!=this.SourceURLParams){var e=new Array;for(var t in this.SourceURLParams)e.push(t+"="+this.SourceURLParams[t]);e.length>0&&this.AN&&(this.AN+=(this.AN.indexOf("?")>0?"&":"?")+e.join("&"))}},e.prototype.IN=function(){var e=r(78);this.sessionId=e.ON()},e.prototype.NN=function(){return this.AN||this.PN(),this.AN},e.prototype.kd=function(){return"["+this.SiteId+"/"+this.CROId+"/"+this.ContentId+"]"},e.prototype.DN=function(){return[this.SiteId,this.CROId,this.ContentId]},e.prototype.kN=function(){return this.SourceURL+"-["+this.SiteId+"/"+this.CROId+"/"+this.ContentId+"]"},e.prototype.toString=function(){return this.kd()},e}();a.LN="^https?://api(?:-test)?.hivestreaming.com/v1/events/(?:wildcard/)?",a.MN="CROId",a.FN="SiteId",a.UN="ContentId",t.BN=a},function(e,t,r){"use strict";var i=function(){function e(){}return e}();i.HN=55,i.xN=6e5,i.qN=5,i.GN=5,i.VN=5,i.jN=10,i.QN="dist",i.KN="./scenarios/BrokenUdp",i.YN=null,i.WN=null,i.zN=null,i.JN=!0,i.XN=!0,i.ZN=6e4,t.$N=i;var n=function(){function e(){}return e}();n.eD="BwEmulation",t.tD=n},function(e,t,r){"use strict";function i(e,t,r,s){if(!(this instanceof i))return new i(e,t,r,s);t=t||Object.cs,r=r||Object.Oc,s=s||Function.us,this.ls=t,this.Ac=r,this.ds=s,this.fs=new n(null,function(e,r){return t(e.key,r.key)},function(e,t){return r(e.key,t.key)}),this.length=0,this.addEach(e)}var n=(r(11),r(139)),s=r(12),o=r(52),a=r(13);e.i=i,i.rD=i,Object.addEach(i.prototype,s.prototype),Object.addEach(i.prototype,o.prototype),Object.addEach(i.prototype,a.prototype),i.prototype.Es=function(e){return new this.constructor(e,this.ls,this.Ac,this.ds)},i.prototype.log=function(e,t,r,i){t=t||this.vs,this.fs.log(e,function(e,r,i){t(e.value,r,i)},r,i)},i.prototype.vs=function(e,t){t(" key: "+e.key),t(" value: "+e.value)}},function(e,t,r){"use strict";var i,n=r(59),s=r(3),o=r(24),a=r(0),h=r(5),c=r(9),u=r(31),l=r(10),p=r(1),d=r(2);!function(e){e[e.mc=0]="PLAYER",e[e.iD=1]="LAN",e[e.nD=2]="SITE"}(i=t.sD||(t.sD={}));var f=function(){function e(){this.oD=!1,this.b_=null,this.aD=-1,this.hD=0}return e}();t.cD=f;var g=function(){function e(){this.loggerId="[Prefetcher] ",this.uD=!0,this.lD=0,this.isActive=!0,this.pD=new s,this.dD=new s}return e.prototype.init=function(e){this.logger=a.Framework.resolve(a.Framework.V.R).log(e.sessionId),this.fD=e.gD,this.ED=e.ED,this.vD=e.vD,this.sC=e.sC,this.yD=e.yD,this.TD=e.TD,this.mD=e.mD,this.ID=e.ID},e.prototype.SD=function(){this.isActive=!0},e.prototype.RD=function(e,t){this.context=e,this.wD=t,this.mD.RD(t)},e.prototype.bD=function(e){return this.dD.has(e)},e.prototype.CD=function(){return this.wD},e.prototype._D=function(e,t,r){var o=this;try{var a=new n;this.dD.forEach(function(e,t){a.add(t)});var h=new n;if(h.addEach(e.keys()),this.wD.PD()){var c=this.wD.PD().bitrate;if(h.add(c),h.forEach(function(e){a.delete(e)}),r){var u=[];a.forEach(function(e){o.dD.has(e)&&o.dD.get(e).AD==i.nD&&(u.push(e),h.add(e))}),u.forEach(function(e){a.delete(e)})}var l=new s;h.forEach(function(t){o.dD.has(t)&&o.dD.get(t).AD==i.nD?l.set(t,i.nD):l.set(t,e.get(t))}),this.OD(a),this.ND(l,t)}}catch(e){p.ErrorMonitor.ve().logError("Error updating the prefetch sessions",this.loggerId,d.hs.jn.kn,e)}},e.prototype.ND=function(e,t){var r=this;e.forEach(function(e,i){0!=i&&r.DD(i,e,t)})},e.prototype.OD=function(e){var t=this;e.forEach(function(e){t.yD.kD(e),t.logger.debug(t.loggerId+"Remove unwanted bitrate "+e),t.dD.delete(e)})},e.prototype.DD=function(e,t,r){this.dD.has(e)?this.LD(e,r):this.dD.has(e)||this.MD(e,t,r)},e.prototype.LD=function(e,t){try{var r=this.dD.get(e);r.type=t,r.type!=i.nD&&(r.aD=-1),this.yD.FD(e,r)}catch(e){p.ErrorMonitor.ve().logError("Error configuring already existing prefetch sessions",this.loggerId,d.hs.jn.Ln,e)}},e.prototype.MD=function(e,t,r){var n=this;try{var s=new f;s.b_=null,s.type=r,s.bitrate=e,s.AD=t,this.dD.set(e,s),this.dD.forEach(function(e,t){n.logger.debug(n.loggerId+"ABT "+t+" S "+i[e.type]+" PREF REASON "+i[e.AD])}),this.yD.FD(e,s)}catch(e){p.ErrorMonitor.ve().logError("Error constructing a new prefetch session",this.loggerId,d.hs.jn.Mn,e)}},e.prototype.UD=function(e){var t=this;if(this.dD.has(e.getBitrate())){var r=this.dD.get(e.getBitrate());r.aD>0&&r.BD&&(r.aD=e.duration-(a.Framework.time()-r.BD)-r.hD,r.hD=50),r.b_=e,this.HD(e.getBitrate()),this.dD.forEach(function(r,n){r&&r.type!=i.mc&&n!=e.getBitrate()&&t.xD(r,n)})}else p.ErrorMonitor.ve().logError("Error retrieving a fragment without having a prefetch session",this.loggerId,d.hs.jn.Fn)},e.prototype.qD=function(e){var t=this.dD.keys(),r=t.indexOf(e);return-1!=r&&t.splice(r,1),t},e.prototype.GD=function(e){var t=this;e.forEach(function(e){var r=t.dD.get(e);r&&r.type!=i.mc&&t.xD(r,r.bitrate)})},e.prototype.xD=function(e,t){if(e.type!=i.mc){var r=this.wD.PD();if(null!=r){var n=this.wD.VD(r.C_,t,c.vc.fc);null==n?(this.logger.debug(this.loggerId+"PREFETCHING "+t+" MISSING METADATA "),this.oD(t)):(e.b_=n,this.HD(n.getBitrate()))}else this.logger.debug(this.loggerId+"PLAYER NOT PLAYING "),this.oD(t)}},e.prototype.jD=function(e){var t=this.dD.get(e);t&&t.oD&&(null!=t.b_?(this.logger.debug(this.loggerId+"RESTART PREFETCHING ON AVAILABLE METADATA"),t.oD=!1,this.HD(t.bitrate)):(t.oD=!1,this.xD(t,e)))},e.prototype.QD=function(e){var t=this;e?this.jD(e):this.dD.forEach(function(e,r){t.jD(r)})},e.prototype.HD=function(e){var t=this.wD.PD();if(t){var r=this.dD.get(e);if(r){if(r.b_&&t.getBitrate()==e){var i=this.KD(r.b_.A_(),e);this.yD.setDelta(i)}this.YD(r)}}else p.ErrorMonitor.ve().logError("Error attempting prefetch before having a player request",this.loggerId,d.hs.jn.Un)},e.prototype.YD=function(e){if(e.b_){var t=this.WD(e.b_);if(null!=t)this.zD(t,e);else{var r=e.bitrate;this.logger.debug(this.loggerId+"PREFETCHING "+r+" STOPPED BECAUSE OF MISSING METADATA "),this.dD.get(r).oD=!0,this.oD(r)}}else e.oD=!0,this.oD(e.bitrate)},e.prototype.zD=function(e,t){var r=this,n=this.JD(e.Zf(),e.getBitrate(),e.A_(),t.type);if(n.XD)try{this.pD.has(e.Zf())&&a.Framework.clearTimeout(this.pD.get(e.Zf()));var s=n.type==o.bf.If,c=1;if(s){var l=Math.max(0,t.aD);c=this.mD.ZD(t.type,e.getBitrate(),e.A_(),l)}this.logger.debug(this.loggerId+"PREFETCHING "+e.url+" CDN PREFETCH "+s+" IN "+c+" MSECS");var f=this.dD.get(e.getBitrate());f.b_=e;var g=a.Framework.setTimeout(function(){r.pD.delete(e.Zf());var s=new u.HiveRequest(r.ED.sessionId);s.url=e.url,f.BD=a.Framework.time(),r.lD=0;var c=r.ED.$D(s,e,r.context,n.type);c&&(c.Gf=t.type==i.nD||t.type==i.iD,s.onerror=s.onload=function(){if(c.Jf()==o.bf.If&&(!s.status||s.status<200||s.status>299)){var t=r.dD.get(e.getBitrate());s=null;var i=t.b_.duration,n=t.b_.duration+h.hh.fa.Zo,u=Math.floor(Math.random()*(n-i))+i;t.aD=u-(a.Framework.time()-t.BD),t.hD=0,r.HD(t.b_.bitrate)}})},c);this.pD.set(e.Zf(),g)}catch(e){p.ErrorMonitor.ve().logError("Error requesting for prefetch",this.loggerId,d.hs.jn.xn,e)}},e.prototype.ek=function(){var e=this;this.pD.forEach(function(t,r){e.logger.debug(e.loggerId+"Clearing delayed prefetch timer id "+t),a.Framework.clearTimeout(t),e.pD.delete(r)}),this.isActive=!1},e.prototype.oD=function(e){this.dD.has(e)&&(this.dD.get(e).oD=!0,this.wD.tk(e))},e.prototype.WD=function(e){try{var t=this.dD.get(e.getBitrate()),r=e,i=this.rk(r);return i&&i.Zf()!=e.Zf()?i:i&&i.Zf()==t.b_.Zf()?e:null}catch(e){return p.ErrorMonitor.ve().logError("Error forwarding to next segment",this.loggerId,d.hs.jn.Bn,e),null}},e.prototype.rk=function(e){if(null==e)return null;var t=this.sC.ik(!0),r=e;if(t)for(;null!=r&&-1!=t.indexOf(r.Zf());)if(!(r=this.wD.nk(r)))return r;return r},e.prototype.JD=function(e,t,r,n){try{var s=this.sk(e),a=s?o.bf.wf:o.bf.If,h=!1;h=n!=i.mc?!this.pD.has(e)||a!=o.bf.If:a==o.bf.wf;var c=this.wD.ak(),u=this.hk(r,t,a),l=n==i.nD;return this.logger.debug(this.loggerId+"PREFETCHING "+o.bf[a]+" (LAN LEADER: "+this.yD.ck()+" SITE LEADER: "+l+") CHECKS FOR "+e+" [HAVES:"+s+" NOTBUFFERING:"+c+" DISTANCE:"+u.valid+"("+u.uk+")]"),{XD:h&&c&&u.valid&&this.isActive,type:a}}catch(e){return p.ErrorMonitor.ve().logError("Error checking if allowed to prefetch",this.loggerId,d.hs.jn.Hn,e),{XD:!1,type:o.bf.If}}},e.prototype.hk=function(e,t,r){try{var i=this.wD.lk(e,t);return i<=this.wD.pk()?{uk:i,valid:!0}:{uk:i,valid:!1}}catch(e){return p.ErrorMonitor.ve().logError("Error checking the player distance",this.loggerId,d.hs.jn.qn,e),{uk:0,valid:!1}}},e.prototype.KD=function(e,t){var r=this.wD.PD();if(null!=r){var i=r.A_();return this.wD.dk(i,t,e,t)}return-1},e.prototype.sk=function(e){if(this.fD.contains(e)){var t=this.fD.fk(e);if(t.length>=h.hh.fa.ta){if(h.hh.fa.ia){var r=[],i=[],n=[],s=this.yD.gk();return t.forEach(function(e){e.Ek.peerInfo.type==l.Tc.W&&r.push(e);var t=e.Ek.peerInfo.internalAs;0!=s&&t&&s==t&&i.push(e),e.Ek.peerInfo.type==l.Tc.yc&&n.push(e)}),r.length>0?!this.uD||!this.vk(r,e):!(!this.yD.ck()&&this.yD.yk()||!(i.length>0))||!(!(n.length>0)||!this.yD.Tk()&&this.yD.mk())}return!0}}return!1},e.prototype.vk=function(e,t){try{if(this.yD.Ik().length>h.hh.fa.la){this.yD.Sk();return e.length==h.hh.fa.ua&&e[0].guid==this.yD.Rk().uuid&&(a.Framework.random()>h.hh.fa.pa&&this.lD<h.hh.fa.da&&(this.logger.debug("SKIP PREFETCH CYCLE "+this.lD+" TO OFFLOAD LEADER"),this.lD++,!0))}return!1}catch(e){return p.ErrorMonitor.ve().logError("Error deciding to offload the leader",this.loggerId,d.hs.jn.Gn,e),!1}},e.prototype.wk=function(e,t){try{e.bk=e.Kf.id,e.Kf=t,this.logger.debug(this.loggerId+"UPGRADE "+o.bf[e.Jf()]+" REQ "+e.Yf+" FOR "+e.zf.Zf()),e.Jf()==o.bf.wf?(e.qf.p2pAgenTrafficSuccessQt=e.Qf,e.Vf?(e.type=o.bf.Rf,this.vD.Ck(e)||(this.logger.debug(this.loggerId+"SET REQUEST TIMED-OUT WAS 0. CDN COMPENSATION"),this.vD._k(e.Pk,"TIMED-OUT"))):(e.type=o.bf.Tf,this.logger.debug(this.loggerId+"THE HIVE REQ "+e.Zf()+" ARRIVED BEFORE THE P2P_PREFETCH INITIALIZED. CHANGE REQUEST TYPE TO "+o.bf[e.Jf()]))):e.Jf()==o.bf.If&&(e.type=o.bf.Tf)}catch(e){p.ErrorMonitor.ve().logError("Error upgrading prefetch",this.loggerId,d.hs.jn.Vn,e)}},e}();t.Ak=g},function(e,t,r){"use strict";function i(e,t,r){if(!(this instanceof i))return new i(e,t,r);var n=this.head=new this.Node;n.next=n,n.Ok=n,this.ls=t||Object.cs,this.ds=r||Function.us,this.length=0,this.addEach(e)}function n(e){this.head=e,this.Nk=e.next}function s(e){this.value=e,this.Ok=null,this.next=null}e.i=i;var o=(r(11),r(12)),a=r(67),h=r(13),c=r(38);i.Dk=i,Object.addEach(i.prototype,o.prototype),Object.addEach(i.prototype,a.prototype),Object.addEach(i.prototype,h.prototype),Object.addEach(i.prototype,c.prototype),i.prototype.Es=function(e){return new this.constructor(e,this.ls,this.ds)},i.prototype.find=function(e,t,r){t=t||this.ls;for(var i=this.head,n=this.kk(r,i.next);n!==i;){if(t(n.value,e))return n;n=n.next}},i.prototype.Lk=function(e,t,r){t=t||this.ls;for(var i=this.head,n=this.kk(r,i.Ok);n!==i;){if(t(n.value,e))return n;n=n.Ok}},i.prototype.has=function(e,t){return!!this.find(e,t)},i.prototype.get=function(e,t){var r=this.find(e,t);return r?r.value:this.ds(e)},i.prototype.delete=function(e,t){var r=this.Lk(e,t);if(r){if(this.Mk){var i=[],n=[e];this.QA(i,n,r.index)}return r.delete(),this.length--,this.Mk&&(this.Fk(r.next,r.index),this.GA(i,n,r.index)),!0}return!1},i.prototype.XA=function(e,t){t=t||this.ls;for(var r=this.head,i=r.next,n=0;i!==r;)t(e,i.value)&&(i.delete(),n++),i=i.next;return this.length-=n,n},i.prototype.clear=function(){var e,t;this.Mk&&(t=this.toArray(),e=[],this.QA(e,t,0)),this.head.next=this.head.Ok=this.head,this.length=0,this.Mk&&this.GA(e,t,0)},i.prototype.add=function(e){var t=new this.Node(e);return this.Mk&&(t.index=this.length,this.QA([e],[],t.index)),this.head.Uk(t),this.length++,this.Mk&&this.GA([e],[],t.index),!0},i.prototype.push=function(){var e=this.head;if(this.Mk){var t=Array.prototype.slice.call(arguments),r=[],i=this.length;this.QA(t,r,i);var n=this.head.Ok}for(var s=0;s<arguments.length;s++){var o=arguments[s],a=new this.Node(o);e.Uk(a)}this.length+=arguments.length,this.Mk&&(this.Fk(n.next,void 0===n.index?0:n.index+1),this.GA(t,r,i))},i.prototype.unshift=function(){if(this.Mk){var e=Array.prototype.slice.call(arguments),t=[];this.QA(e,t,0)}for(var r=this.head,i=0;i<arguments.length;i++){var n=arguments[i],s=new this.Node(n);r.Bk(s),r=s}this.length+=arguments.length,this.Mk&&(this.Fk(this.head.next,0),this.GA(e,t,0))},i.prototype.pop=function(){var e,t=this.head;if(t.Ok!==t){if(e=t.Ok.value,this.Mk){var r=[],i=[e],n=this.length-1;this.QA(r,i,n)}t.Ok.delete(),this.length--,this.Mk&&this.GA(r,i,n)}return e},i.prototype.shift=function(){var e,t=this.head;if(t.Ok!==t){if(e=t.next.value,this.Mk){var r=[],i=[e];this.QA(r,i,0)}t.next.delete(),this.length--,this.Mk&&(this.Fk(this.head.next,0),this.GA(r,i,0))}return e},i.prototype.Hk=function(){if(this.head!==this.head.next)return this.head.next.value},i.prototype.xk=function(e){this.head!==this.head.next?this.head.next.value=e:this.push(e)},i.prototype.Bc=function(){return this.Hk()},i.prototype.kk=function(e,t){var r=this.head;if("number"==typeof e){var i=e;if(i>=0)for(e=r.next;i&&(i--,(e=e.next)!=r););else for(e=r;i<0&&(i++,(e=e.Ok)!=r););return e}return e||t},i.prototype.slice=function(e,t){var r=[],i=this.head;for(e=this.kk(e,i.next),t=this.kk(t,i);e!==t&&e!==i;)r.push(e.value),e=e.next;return r},i.prototype.splice=function(e,t){return this.qk(e,t,Array.prototype.slice.call(arguments,2))},i.prototype.qk=function(e,t,r){var i=e;e=this.kk(e,this.head),null==t&&(t=1/0),r=Array.from(r);for(var n=[],s=e;t--&&t>=0&&s!==this.head;)n.push(s.value),s=s.next;var o,a;this.Mk&&(o=e===this.head?this.length:e.Ok===this.head?0:e.index,a=e.Ok,this.QA(r,n,o));for(var s=e,h=0,s=e;h<n.length;h++,s=s.next)s.delete();null==i&&s===this.head&&(s=this.head.next);for(var h=0;h<r.length;h++){var c=new this.Node(r[h]);s.Uk(c)}return this.length+=r.length-n.length,this.Mk&&(e===this.head?this.Fk(this.head.next,0):this.Fk(a.next,a.index+1),this.GA(r,n,o)),n},i.prototype.reverse=function(){if(this.Mk){var e=this.toArray(),t=e.reversed();this.QA(t,e,0)}var r=this.head;do{var i=r.next;r.next=r.Ok,r.Ok=i,r=r.next}while(r!==this.head);return this.Mk&&this.GA(t,e,0),this},i.prototype.sort=function(){this.qk(0,this.length,this.Fc())},i.prototype.reduce=function(e,t){for(var r=arguments[2],i=this.head,n=i.next;n!==i;)t=e.call(r,t,n.value,n,this),n=n.next;return t},i.prototype.reduceRight=function(e,t){for(var r=arguments[2],i=this.head,n=i.Ok;n!==i;)t=e.call(r,t,n.value,n,this),n=n.Ok;return t},i.prototype.Fk=function(e,t){for(;e!==this.head;)e.index=t++,e=e.next},i.prototype.Xc=function(){this.head.index=-1,this.Fk(this.head.next,0),this.Mk=!0},i.prototype.Hc=function(){return new n(this.head)},n.prototype.Gk=null,Object.defineProperty(n.prototype,"_iterationObject",{get:function(){return this.Gk||(this.Gk={done:!1,value:null})}}),n.prototype.next=function(){if(this.Nk===this.head)this.Vk.done=!0,this.Vk.value=void 0;else{var e=this.Nk.value;this.Nk=this.Nk.next,this.Vk.value=e}return this.Vk},i.prototype.Node=s,s.prototype.delete=function(){this.Ok.next=this.next,this.next.Ok=this.Ok},s.prototype.Uk=function(e){var t=this.Ok;this.Ok=e,e.Ok=t,t.next=e,e.next=this},s.prototype.Bk=function(e){var t=this.next;this.next=e,e.next=t,t.Ok=e,e.Ok=this}},function(e,t,r){"use strict";function i(e,t){if(!(this instanceof i))return new i(e,t);t=t||Function.us,this.ds=t,this.fs=Object.create(null),this.length=0,this.addEach(e)}var n=(r(11),r(12)),s=r(52),o=r(13);e.i=i,i.jk=i,Object.addEach(i.prototype,n.prototype),Object.addEach(i.prototype,s.prototype),Object.addEach(i.prototype,o.prototype),i.prototype.Es=function(e){return new this.constructor(e,this.ds)},i.prototype.Qk=function(e){if("string"!=typeof e)throw new TypeError("key must be a string but Got "+e)},Object.defineProperty(i.prototype,"$__proto__",{Ah:!0}),Object.defineProperty(i.prototype,"_hasProto",{get:function(){return this.hasOwnProperty("$__proto__")&&void 0!==this.Kk}}),Object.defineProperty(i.prototype,"_protoValue",{get:function(){return this.Yk},set:function(e){this.Yk=e}}),i.prototype.get=function(e,t){return this.Qk(e),"__proto__"===e?this.Wk?this.Kk:arguments.length>1?t:this.ds(e):e in this.fs?this.fs[e]:arguments.length>1?t:this.ds(e)},i.prototype.set=function(e,t){this.Qk(e);var r="__proto__"===e;return(r?this.Wk:e in this.fs)?(this.zk&&this.Jk(e,r?this.Kk:this.fs[e]),r?this.Kk=t:this.fs[e]=t,this.zk&&this.Xk(e,t),!1):(this.zk&&this.Jk(e,void 0),this.length++,r?this.Kk=t:this.fs[e]=t,this.zk&&this.Xk(e,t),!0)},i.prototype.has=function(e){return this.Qk(e),"__proto__"===e?this.Wk:e in this.fs},i.prototype.delete=function(e){return this.Qk(e),"__proto__"===e?!!this.Wk&&(this.zk&&this.Jk(e,this.Kk),this.Kk=void 0,this.length--,this.zk&&this.Xk(e,void 0),!0):e in this.fs&&(this.zk&&this.Jk(e,this.fs[e]),delete this.fs[e],this.length--,this.zk&&this.Xk(e,void 0),!0)},i.prototype.clear=function(){var e;this.Wk&&(this.zk&&this.Jk("__proto__",this.Kk),this.Kk=void 0,this.zk&&this.Xk("__proto__",void 0));for(e in this.fs)this.zk&&this.Jk(e,this.fs[e]),delete this.fs[e],this.zk&&this.Xk(e,void 0);this.length=0},i.prototype.reduce=function(e,t,r){this.Wk&&(t=e.call(r,t,"$__proto__","__proto__",this));var i=this.fs;for(var n in this.fs)t=e.call(r,t,i[n],n,this);return t},i.prototype.reduceRight=function(e,t,r){var i=this,n=this.fs;return t=Object.keys(this.fs).reduceRight(function(t,s){return e.call(r,t,n[s],s,i)},t),this.Wk?e.call(r,t,this.Kk,"__proto__",i):t},i.prototype.Bc=function(){var e;for(e in this.fs)return this.fs[e];return this.Kk},i.prototype.toJSON=function(){return this.Pc()}},function(e,t,r){"use strict";function i(){throw new Error("Can't construct. GenericMap is a mixin.")}function n(e,t){this.key=e,this.value=t}var s=r(36),o=r(101),a=r(13);e.i=i,s.addEach(i.prototype,o.prototype),s.addEach(i.prototype,a.prototype),i.prototype.isMap=!0,i.prototype.addEach=function(e){if(e&&s(e)===e)if("function"==typeof e.forEach)!0===e.isMap?e.forEach(function(e,t){this.set(t,e)},this):e.forEach(function(e){this.set(e[0],e[1])},this);else if("number"==typeof e.length)for(var t=0;t<e.length;t++)this.add(e[t],t);else s.keys(e).forEach(function(t){this.set(t,e[t])},this);else if(e&&"number"==typeof e.length)for(var t=0;t<e.length;t++)this.add(e[t],t);return this},i.prototype.get=function(e,t){var r=this.fs.get(new this.Zk(e));return r?r.value:arguments.length>1?t:this.ds(e)},i.prototype.set=function(e,t){var r=new this.Zk(e,t),i=this.fs.get(r),n=!1;return i?(this.zk&&this.Jk(e,i.value),i.value=t,this.zk&&this.Xk(e,t)):(this.zk&&this.Jk(e,void 0),this.fs.add(r)&&(this.length++,n=!0),this.zk&&this.Xk(e,t)),n},i.prototype.add=function(e,t){return this.set(t,e)},i.prototype.has=function(e){return this.fs.has(new this.Zk(e))},i.prototype.delete=function(e){var t=new this.Zk(e);if(this.fs.has(t)){var r=this.fs.get(t).value;return this.zk&&this.Jk(e,r),this.fs.delete(t),this.length--,this.zk&&this.Xk(e,void 0),!0}return!1},i.prototype.clear=function(){var e;this.zk&&(this.forEach(function(e,t){this.Jk(t,e)},this),e=this.keys()),this.fs.clear(),this.length=0,this.zk&&e.forEach(function(e){this.Xk(e)},this)},i.prototype.reduce=function(e,t,r){return this.fs.reduce(function(t,i){return e.call(r,t,i.value,i.key,this)},t,this)},i.prototype.reduceRight=function(e,t,r){return this.fs.reduceRight(function(t,i){return e.call(r,t,i.value,i.key,this)},t,this)},i.prototype.keys=function(){return this.map(function(e,t){return t})},i.prototype.values=function(){return this.map(Function.identity)},i.prototype.entries=function(){return this.map(function(e,t){return[t,e]})},i.prototype.$k=function(){return this.entries()},i.prototype.cs=function(e,t){return t=t||s.cs,this===e||(e&&"function"==typeof e.every?e.length===this.length&&e.every(function(e,r){return t(this.get(r),e)},this):s.keys(e).length===this.length&&s.keys(e).every(function(r){return t(this.get(r),e[r])},this))},i.prototype.toJSON=function(){return this.entries()},i.prototype.Zk=n,n.prototype.cs=function(e){return s.cs(this.key,e.key)&&s.cs(this.value,e.value)},n.prototype.Oc=function(e){return s.Oc(this.key,e.key)}},function(e,t,r){"use strict";var i=this&&this.hu||function(e,t){function r(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=r(70),s=r(21),o=r(71),a=r(7),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.me=function(e){t.logger=e},t.prototype.send=function(){if(t.logger&&t.logger.debug(this.method+" "+this.url),!this.sessionId){var e=Object.keys(t.ub);e.length>0&&(this.sessionId=t.ub[e[0]])}var r=this,i=new XMLHttpRequest;0===this.url.indexOf("//")&&(this.url=location.protocol+this.url);var o=s.Ip(n.tL.eL,n.tL.dO,n.tL.rL,this.sessionId,encodeURIComponent(this.url));i.open("GET",o),this.responseType&&(i.responseType=this.responseType),i.onreadystatechange=function(){},i.onload=function(){if(4===i.readyState)try{r.responseHeaders=i.getAllResponseHeaders(),r.response=i.response;var e=i.response.byteLength;"arraybuffer"!==i.responseType&&(r.responseText=i.response),r.readyState=4,r.status=i.status,r.dispatchEvent(a.rc.createEvent(ProgressEvent,"progress",{lengthComputable:!0,loaded:e,total:e,currentTarget:r})),r.dispatchEvent(a.rc.createEvent(Event,"readystatechange",{currentTarget:r,bubbles:!1,cancelable:!1})),r.dispatchEvent(a.rc.createEvent(ProgressEvent,"load",{currentTarget:r,bubbles:!1,cancelable:!1,lengthComputable:!1,loaded:e,total:0})),r.dispatchEvent(a.rc.createEvent(ProgressEvent,"loadend",{currentTarget:r,bubbles:!1,cancelable:!1,lengthComputable:!1,loaded:e,total:0}))}catch(e){t.logger&&t.logger.warn(e)}},i.onerror=function(e){t.logger&&t.logger.warn("onError: "+JSON.stringify(e)),r.dispatchEvent(a.rc.createEvent(ErrorEvent,"error",e,r))},i.onabort=function(e){t.logger&&t.logger.warn("onAbort: "+JSON.stringify(e)),r.dispatchEvent(a.rc.createEvent(ProgressEvent,"abort",e,r))},i.send()},t.prototype.abort=function(){},t}(o.pb);t.Zu=h},function(e,t,r){"use strict";var i=this&&this.hu||function(e,t){function r(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=r(31),s=r(74),o=r(1),a=r(7),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.loggerId="[HiveRequestManifest]",t}return i(t,e),t.registerTech=function(e,r){t.iL[r]=e},t.registerComm=function(e,r){t.nL[r]=e},t.prototype.send=function(){if(!this.sessionId){var e=Object.keys(t.nL);e.length>0&&(this.sessionId=t.nL[e[0]])}var r=t.iL[this.sessionId],i=t.nL[this.sessionId];s.sL(r)||s.sL(i)?(o.ErrorMonitor.ve().logError("HiveJS Tech or Comm are not defined",this.loggerId),this.resolve()):(i.logger().debug("Intercepted Manifest Request "+this.url),r.oL(this),i.onActivateSession(this.url))},t.prototype.resolve=function(){var e=this,t=new XMLHttpRequest;t.open("GET",this.url),t.onreadystatechange=function(){4===t.readyState&&(e.response=t.responseText,e.responseText=t.responseText,e.readyState=4,e.status=t.status,e.dispatchEvent(a.rc.createEvent(Event,"readystatechange",{currentTarget:e})),e.dispatchEvent(a.rc.createEvent(ProgressEvent,"onload",{currentTarget:e})),console.debug("Returned Manifest Request "+e.url))},t.send()},t}(n.HiveRequest);h.nL={},h.iL={},t.zu=h},function(e,t,r){"use strict";!function(){var t=r(17),i=t.log,n=t.Wu;e.i.Wu=n,e.i.Vu=t.Vu,e.i.Gu=t.Gu;var s=r(122)||null,o=r(124)||null,a=r(127)||null,h=r(129)||null;switch(n.Qu){case"chrome":if(!s||!s.aL)return void i("Chrome shim is not included in this adapter release.");i("adapter.js shimming chrome."),e.i.hL=s,s.cL(),s.uL(),t.Ku(),s.lL(),s.aL(),s.pL(),s.dL();break;case"firefox":if(!a||!a.aL)return void i("Firefox shim is not included in this adapter release.");i("adapter.js shimming firefox."),e.i.hL=a,a.cL(),t.Ku(),a.lL(),a.aL(),a.pL();break;case"edge":if(!o||!o.aL)return void i("MS edge shim is not included in this adapter release.");i("adapter.js shimming edge."),e.i.hL=o,o.cL(),t.Ku(),o.aL();break;case"safari":if(!h)return void i("Safari shim is not included in this adapter release.");i("adapter.js shimming safari."),e.i.hL=h,h.cL();break;default:i("Unsupported browser!")}}()},function(e,t,r){"use strict";var i=r(32),n=r(4),s=r(18),o=r(21),a=r(130),h=a.HiveComm.Options.fL,c=r(19),u=r(131),l=r(1),p=function(){function e(t,r){this.gL=t,this.options_=new h,void 0!==r[e.EL]&&o.Sp(r[e.EL],this.options_)}return e.prototype.getName=function(){return e.EL},e.prototype.id=function(){return"["+e.EL+"] "},e.prototype.getVersion=function(){return this.gL.getPluginVersion()},e.prototype.vL=function(){return!0},e.prototype.yL=function(){return n.resolve(!0)},e.prototype.initSession=function(e,t){var r=this.TL(e,t.ticket,t.ticket.NN(),t);return s.HiveRequestFactory.registerTech(r.id,this.getName()),n.resolve(r)},e.prototype.mL=function(){return this.options().initTimeout},e.prototype.isActive=function(e,t){var r=t.manifest.toLowerCase().indexOf("/manifest");if(r>-1){var i=t.manifest.substring(0,r);if(e.indexOf(i)>-1)return!0}else if(e==t.manifest)return!0;return!1},e.prototype.ol=function(e,t,r){void 0===r&&(r=!0),e.rl&&(this.gL.logger().debug("[StatsJS] stopping session ["+e.id+"] complete close: "+t),e.rl.xl.Zd(r),e.rl.Bl.IL(),e.rl.Bl.reset(t)),t?i.Hive.Reporting().close(e.id):this.nl(e,!0)},e.prototype.nl=function(e,t){var r=t?c.Ml.IDLE:c.Ml.Ll;this.gL.logger().notice("[HiveComm] client state: "+c.Ml[r]),e.rl&&e.rl.nl(r)},e.prototype.SL=function(e,t){var r=this,i=0;return this.RL<t.Ol&&(i=t.Ol-this.RL,this.RL=t.Ol),e.al().then(function(){e.rl.Ul.wL(i,t.Al),e.rl.Hl.Sd(t.Pl,t.Al,t.Ol),r.bL()}).done(),n.resolve(!0)},e.prototype.CL=function(e,t,r){return e.al().then(function(){e.rl.Hl.wd(e.ticket.sessionId,t,r)}).done(),n.resolve(!0)},e.prototype.bd=function(e,t){return e.al().then(function(){e.rl.Hl.Cd([t])}).done(),n.resolve(!0)},e.prototype.onError=function(e){var t=!0;if(void 0!=this.options().onError)try{t=this.options().onError(e)}catch(e){l.ErrorMonitor.ve().logError("exception in user-defined onError callback",this.id(),e)}return t},e.prototype.onActiveSession=function(e){var t=this;this._L(),e.al().then(function(r){t.PL=r;var i=new u.AL(t.gL.isLive(),t.gL.getStreamProtocol(),e.ticket.NN());t.PL.OL=i,t.PL.Ul.OL=i,t.gL.updatePlayerInfo(t.PL),t.PL.Bl.init(t.PL.Ul,e.id),t.gL.options().testId&&t.PL.Ul.NL(t.gL.options().testId),t.PL.Hl.Xu(e.ticket.sessionId,t.gL.getPlayerSource(),200);var n=t.gL.flushTechEvents();if(n&&n.length>0&&t.PL.Hl.Cd(n),void 0!=t.options_.onActiveSession)try{t.options_.onActiveSession(e.toHiveSession())}catch(e){l.ErrorMonitor.ve().logError("exception in user-defined onActiveSession callback",t.id(),e)}}).done()},e.prototype.DL=function(){},e.prototype.kL=function(){},e.prototype.LL=function(e){this.gL=e},e.prototype.options=function(){return this.options_},e.prototype._L=function(){this.RL=0},e.prototype.TL=function(e,t,r,i){var n=new s.cl(e,t,r,i);return n.ML=!1,n.id=t.sessionId,n},e.prototype.bL=function(){try{var e=this.gL.getExtendedStats();void 0!=e&&(this.PL.Ul.FL.metrics.bitrateUpN+=e.getBitrateSwitchUp(),this.PL.Ul.FL.metrics.bitrateDwnN+=e.getBitrateSwitchDown(),null!=e.getBandwidth()&&(this.PL.Ul.FL.metrics.srcThroughput=e.getBandwidth()),null!=e.getVideoBitrates()&&this.UL(!0,e.getVideoBitrates()),null!=e.getAudioBitrates()&&this.UL(!1,e.getAudioBitrates()))}catch(e){l.ErrorMonitor.ve().logError("Error accounting extended stats",this.id(),e)}},e.prototype.UL=function(e,t){var r=this,i=0,n=0,s=0,o=0;t.forEach(function(t,a){var h=t.success+t.ll;if(i+=h,o+=t.bytes,n+=t.success,s+=t.ll,e){var c=r.PL.Ul.BL(Number(a));r.HL(c,h,t.success,t.ll,t.bytes)}});var a=this.PL.Ul.xL();this.HL(a,i,n,s,o)},e.prototype.HL=function(e,t,r,i,n){e.srcReqN+=t,e.srcRespN+=r,e.srcRespErrN+=i,e.srcRespQt+=n,e.respFallbackN+=r,e.respFallbackErrN+=i},e}();p.EL="StatsJS",t.StatsJS=p},function(e,t,r){"use strict";var i=this&&this.hu||function(e,t){function r(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=r(58),s=r(142),o=r(9),a=r(34),h=r(31),c=r(0),u=r(1),l=r(2),p=r(143),d=r(150);!function(e){function t(t){return this.qL(t)||-1!=t.indexOf(e.GL)}function r(t){return-1!=t.toLowerCase().indexOf(e.VL.toLowerCase())||-1!=t.toLowerCase().indexOf(e.jL.toLowerCase())}function f(t,r){var i=r.replace("_definst_/","").match(new RegExp(t.replace(".mpd","")+e.QL));return i&&i.length>0}e.KL=1,e.YL=2,e.WL=2e3,e.zL=3e4,e.JL=1e4,e.XL=!0,e.ZL=!0,e.$L=500,e.eM=10,e.DASH_METADATA_MIN_FRAGMENTS=3,e.VL="(format=mpd-time-csf)",e.jL=".mpd",e.QL="_.*.mpd",e.GL=".m4s",e.tM=".ism/",e.rM=t,e.qL=r;var g=function(t){function n(r,i){var n=t.call(this,i)||this;return n.Ag=0,n.iM=!0,n.loggerId="[Dash Context] ",n.ticket=r,n.nM=r._N(),n.sM=new s.oM,n.nM.indexOf(e.jL)>0?n.aM=new p.hM(i.sessionId):n.aM=new d.cM(i.sessionId),n}return i(n,t),n.prototype.Sk=function(){return this.ticket},n.prototype.getStreamProtocol=function(){return StreamProtocol.DASH},n.prototype.uM=function(){return this.nM},n.prototype.lM=function(){return this.aM.lM()},n.prototype.isLive=function(){return this.aM.pM()},n.prototype.dM=function(){return this.sM},n.prototype.ig=function(e){var t=this.Xf(e);if(t==o.vc.fc||t==o.vc.dc)return!0},n.prototype.Xf=function(e){try{if(r(e))return o.vc.gc;if(this.fM(e))return o.vc.Ec;var t=this.aM.gM(e);return null!=t?t.type:-1!=e.indexOf("audio")?o.vc.dc:o.vc.Ec}catch(t){return u.ErrorMonitor.ve().logError("Error getting the entity type based on a url",this.loggerId,l.hs.Yr.Br,{detailedError:t,url:e}),o.vc.Ec}},n.prototype.EM=function(e){var t=o.vc.Ec,r=0,i=0,n=0,s=!0,h=!1,c=0;try{if(t=this.Xf(e),this.fM(e))s=!0;else if(t!=o.vc.gc){var p=this.aM.gM(e);null!=p?(r=p.duration,i=p.bitrate,n=p.id,h=this.ig(e)):(this.tk(),this.logger.warn("could not extract segment info for "+e))}else s=!1;return c=Math.round(r/1e4),new a.N_(e,t,s,n,c,i,h,this.getContextId())}catch(t){return u.ErrorMonitor.ve().logError("Error getting the entity characteristics based on a url",this.loggerId,l.hs.Yr.Hr,{detailedError:t,url:e}),new a.N_(e,o.vc.Ec,!1,0,0,0,!1,this.getContextId())}},n.prototype.nk=function(e){try{var t=e.url,r=this.aM.vM(t);return null!=r?this.EM(r.yM):null}catch(t){return u.ErrorMonitor.ve().logError("Error getting the next entity",this.loggerId,l.hs.Yr.xr,{detailedError:t,url:e.url}),null}},n.prototype.ak=function(){return t.prototype.TM.call(this,e.KL,e.YL)},n.prototype.mM=function(e){try{var t=e.url;t.toLowerCase();return t===this.nM||(!(null==this.aM||!this.aM.fM(t))||!(r(t)&&this.aM.IM!==t&&!f(this.aM.IM,t)))}catch(t){return u.ErrorMonitor.ve().logError("Error identifying if is current context",this.loggerId,l.hs.Yr.qr,{detailedError:t,url:e.url}),!1}},n.prototype.SM=function(e){try{var t=e.RM,r=e.Kf.url,i=this.aM.parse(r,t,e.Kf.internal);e.Kf.responseText=i,e.Kf.response=i}catch(t){u.ErrorMonitor.ve().logError("Error parsing received metadata",this.loggerId,l.hs.Yr.Gr,{detailedError:t,url:e.Kf.url}),e.RM&&(e.Kf.responseText=e.RM,e.Kf.response=e.RM)}try{this.wM.QD()}catch(t){u.ErrorMonitor.ve().logError("Error starting prefetcher after fetching metadata",this.loggerId,l.hs.Yr.Vr,{detailedError:t,url:e.Kf.url})}this.bM()},n.prototype.CM=function(e){var r=this;try{t.prototype.CM.call(this,e),e.Xf()!==o.vc.fc&&e.Xf()!==o.vc.dc||(e.Xf()===o.vc.fc&&this.sM._M(e),this.aM.CM(e).then(function(t){t&&r.bM(),e.Xf()==o.vc.fc&&r.wM.UD(e.zf)}).done())}catch(e){u.ErrorMonitor.ve().logError("Error when received a fragment",this.loggerId,l.hs.Yr.jr,e)}},n.prototype.getContextId=function(){return this.ticket.kN()},n.prototype.PM=function(e,r){var i=e;return i.AM=c.Framework.time(),t.prototype.PM.call(this,i,r)},n.prototype.dk=function(e,t,r,i){return this.aM.dk(e,t,r,i)},n.prototype.fM=function(e){return this.aM.fM(e)},n.prototype.bM=function(){var t=this;try{this.aM.OM?this.aM.OM.NM().then(function(r){if(r)t.iM=!0,t.logger.debug("Protection evaluation: can decrypt");else{var i="Protection evaluation: cannot decrypt ["+(e.XL?"error":"disabled")+"]";e.ZL?(t.iM=!0,t.logger.debug(i+", metadata prefetch enabled")):t.logger.warn(i+", metadata prefetch DISABLED")}}).done():this.logger.debug("Protection evaluation: not encrypted")}catch(t){if(u.ErrorMonitor.ve().logError("Error evaluating the protection",this.loggerId,l.hs.Yr.Qr,t),e.ZL){var r="Protection evaluation: cannot decrypt ["+(e.XL?"error":"disabled")+"]";this.iM=!0,this.logger.debug(r+", metadata prefetch enabled")}}},n.prototype.tk=function(){this.iM&&(null==this.DM&&this.aM.pM()?this.kM():this.logger.debug("DASH PRE-FETCHING METADATA ALREADY SCHEDULED OR NOT LIVE"))},n.prototype.LM=function(){this.iM&&null!=this.DM&&c.Framework.clearTimeout(this.DM)},n.prototype.kM=function(){var t=this,r=void 0!=this.MM?this.MM:0,i=e.WL,n=r+i,s=Math.max(1,n-c.Framework.time()+e.$L);this.logger.debug("DASH PREFETCHING METADATA "+this.aM.IM+" IN "+s),this.DM=c.Framework.setTimeout(function(){t.FM(t.aM.IM,c.Framework.time())},s)},n.prototype.FM=function(e,t){var r=this.MM;if(null==r&&(r=0),r>t)this.kM();else{var i=new h.HiveRequest(this.ticket.sessionId);i.open("GET",e),i.internal=!0,i.send(),this.DM=null,this.MM=c.Framework.time()}},n.prototype.UM=function(e){this.aM.authenticationToken=e},n.prototype.lk=function(e,t){try{var r=this.PD(),i=this.BM(),n=r.A_(),s=this.aM.HM(n,r.getBitrate(),e,t),o=c.Framework.time()-i;return Math.max(0,s-o)}catch(e){return u.ErrorMonitor.ve().logError("Error calculating the distance duration",this.loggerId,l.hs.Yr.Kr,e),0}},n.prototype.xM=function(){return e.JL},n.prototype.VD=function(e,t,r){var i=this.aM.qM(e,t);return null!=i?new a.N_(i.yM,r,!0,e,i.duration,t,!0,this.getContextId()):null},n.prototype.pk=function(){return e.zL},n}(n.GM);e.VM=g}(t.DASH||(t.DASH={}))},function(e,t,r){"use strict";var i=r(48),n=r(34),s=r(0),o=r(140),a=r(9),h=r(24),c=r(49),u=r(5),l=r(2),p=r(1),d=function(){function e(e){this.jM="[VideoContext] ",this.QM=new i,this.logger=s.Framework.resolve(s.Framework.V.R).log(e.sessionId),this.yD=e.yD,this.KM=e.YM,this.WM=e.WM,this.wM=e.zM,this.wM.RD(this,this)}return e.prototype.Sk=function(){return null},e.prototype.JM=function(){return this.wM},e.prototype.TM=function(e,t){try{var r=0,i=0;if(this.QM.length<t)return!0;for(var n=this.QM.keys().reverse(),s=n[0],o=this.QM.get(s).bitrate,a=n.slice(1),h=0;h<a.length;h++){var c=a[h],u=this.QM.get(c),d=u.AM,f=u.bitrate,g=Math.abs(u.AM-s);if(f!=o)return!1;if(g<e){if(++i>=t)return!1}else{if(++r>t)return!0;i=Math.max(0,i-1),s=d,o=f}}return!1}catch(e){return p.ErrorMonitor.ve().logError("Error calculating if the player is in buffering mode",this.jM,l.hs.bi.Si,e),!1}},e.prototype.getContextId=function(){return null},e.prototype.PM=function(e,t){if(this.XM(t)){var r=this.PD();if(r){var i=e.getBitrate(),n=r.getBitrate();i>n?this.KM.ZM(!0):i<n&&this.KM.ZM(!1)}else this.KM.ZM(!0);if(this.QM.length>u.hh.ya.ga){var o=this.QM.keys()[0];this.QM.delete(o)}this.QM.set(s.Framework.time(),e)}return this.$M(e,t)},e.prototype.$M=function(e,t){var r=new o.eF;try{if(this.wM.bD(e.bitrate)){if(this.WM.tF(e.Zf())){r.rF=!0;var i=this.WM.iF(e.Zf());this.nF(t,i,r)}if(this.WM.sF(e.Zf()))for(var n=this.WM.oF(e.Zf()),s=0,a=n;s<a.length;s++){var h=a[s];this.nF(t,h.Jf(),r),r.aF=!0}}else{var u=c.sD.mc;this.yD.ck()&&(u=c.sD.iD),this.wM.DD(e.bitrate,u,u)}return r}catch(e){return p.ErrorMonitor.ve().logError("Error configuring the request directive",this.jM,l.hs.bi.Ri,e),new o.eF}},e.prototype.nF=function(e,t,r){e!=h.bf.If&&e!=h.bf.wf||t!=h.bf.Tf&&t!=h.bf.wf&&t!=h.bf.If||(r.hF=!0)},e.prototype.XM=function(e){return e!=h.bf.wf&&e!=h.bf.If},e.prototype.cF=function(e,t,r){var i=[];try{for(var n=this.WM.oF(t.Zf()),s=0,o=n;s<o.length;s++){var a=o[s];a.Jf()!=h.bf.Tf&&(this.wM.wk(a,e),i.push(a.bk))}return i}catch(e){return p.ErrorMonitor.ve().logError("Error attempting to upgrade prefetch",this.jM,l.hs.bi.wi,e),[]}},e.prototype.uF=function(e){this.WM.uF(e)},e.prototype.lF=function(e,t){this.WM.lF(e,t)},e.prototype.pF=function(e){this.WM.pF(e)},e.prototype.dF=function(e){this.WM.fF(e)},e.prototype.gF=function(e){this.WM.EF()||this.wM.HD(e)},e.prototype.PD=function(){var e=this.QM.keys();return e.length>0?this.QM.get(e[e.length-1]):null},e.prototype.BM=function(){var e=this.QM.keys();if(e.length>0)return e[e.length-1]},e.prototype.vF=function(e){var t=this.yF(e);null!=t&&this.gF(t.bitrate)},e.prototype.yF=function(e){var t=e.fragmentId,r=t.slice(0,t.lastIndexOf("-")),i=r.slice(0,r.lastIndexOf("-")),s=e.getType();return new n.N_(i,s,!0,e.id,e.duration,e.bitrate,!0,this.getContextId())},e.prototype.ak=function(){return!1},e.prototype.dk=function(e,t,r,i){return 0},e.prototype.pk=function(){return 3e4},e.prototype.xM=function(){return 1e4},e.prototype.nk=function(e){return null},e.prototype.VD=function(e,t,r){return null},e.prototype.getStreamProtocol=function(){return null},e.prototype.isLive=function(){return!1},e.prototype.tk=function(e){},e.prototype.LM=function(){},e.prototype.lM=function(){return null},e.prototype.mM=function(e){},e.prototype.dM=function(){},e.prototype.EM=function(e){},e.prototype.SM=function(e){},e.prototype.CM=function(e){e.Xf()===a.vc.fc&&this.lF(e.Zf(),e.$f())},e.prototype.uM=function(){return null},e.prototype.UM=function(e){},e.prototype.lk=function(e,t){return 0},e}();t.GM=d},function(e,t,r){"use strict";function i(e,t,r,s){if(!(this instanceof i))return new i(e,t,r,s);n.call(this,e,t,r,s)}e.i=i;var n=(r(11),r(141)),s=r(39),o=r(13);i.TF=i,i.prototype=Object.create(n.prototype),i.prototype.constructor=i,Object.addEach(i.prototype,s.prototype),Object.addEach(i.prototype,o.prototype),i.prototype.mF=!0,i.prototype.add=function(e){return!this.has(e)&&(n.prototype.add.call(this,e),!0)},i.prototype.reduce=function(e,t){var r=this,i=arguments[2];return this.NT.reduce(function(t,n,s){return e.call(i,t,n,s,r)},t)},i.prototype.reduceRight=function(e,t){var r=this,i=arguments[2];return this.NT.reduceRight(function(t,n,s){return e.call(i,t,n,s,r)},t)}},function(e,t,r){var i=r(33);"undefined"==typeof hive&&(hive={}),void 0===hive.services&&(hive.services={}),void 0===hive.services.protocol&&(hive.services.protocol={}),void 0===hive.services.protocol.IF&&(hive.services.protocol.IF={}),hive.services.protocol.IF.wc={1:"PLAYER",mc:1,2:"P2P_AGENT",Ic:2,3:"PREFETCHER_FIRST_TIER",Sc:3,4:"PREFETCHER_SECOND_TIER",Rc:4},hive.services.protocol.IF.SF={1:"Global",RF:1,2:"InternalAs",wF:2,3:"ExternalAs",bF:3},hive.services.protocol.IF.CF={1:"Internal",_F:1,2:"External",External:2},hive.services.protocol.IF.TrackerPeerStreamInfo=function(e){this.state=null,this.bitrate=null,this.delta=null,e&&(void 0!==e.state&&(this.state=e.state),void 0!==e.bitrate&&(this.bitrate=e.bitrate),void 0!==e.delta&&(this.delta=e.delta))},hive.services.protocol.IF.TrackerPeerStreamInfo.prototype={},hive.services.protocol.IF.TrackerPeerStreamInfo.prototype.read=function(e){for(e.r_();;){var t=e.kb(),r=(t.fname,t.ftype),n=t.fid;if(r==i.Type.STOP)break;switch(n){case 1:r==i.Type.I32?this.state=e.Fb().value:e.Mb(r);break;case 2:r==i.Type.I32?this.bitrate=e.Fb().value:e.Mb(r);break;case 3:r==i.Type.I32?this.delta=e.Fb().value:e.Mb(r);break;default:e.Mb(r)}e.Ub()}e.Bb()},hive.services.protocol.IF.TrackerPeerStreamInfo.prototype.write=function(e){e.Hb("TrackerPeerStreamInfo"),null!==this.state&&void 0!==this.state&&(e.xb("state",i.Type.I32,1),e.Vb(this.state),e.Gb()),null!==this.bitrate&&void 0!==this.bitrate&&(e.xb("bitrate",i.Type.I32,2),e.Vb(this.bitrate),e.Gb()),null!==this.delta&&void 0!==this.delta&&(e.xb("delta",i.Type.I32,3),e.Vb(this.delta),e.Gb()),e.jb(),e.Qb()},hive.services.protocol.IF.TrackerPeerInfo=function(e){this.guid=null,this.internalAs=null,this.externalAs=null,this.nat=null,this.bandwidth=null,this.watchingBitrate=null,this.privateIp=null,this.publicIp=null,this.streams=null,this.rankValue=null,this.timestamp=null,this.publicIpString=null,this.privateIpString=null,e&&(void 0!==e.guid&&(this.guid=e.guid),void 0!==e.internalAs&&(this.internalAs=e.internalAs),void 0!==e.externalAs&&(this.externalAs=e.externalAs),void 0!==e.nat&&(this.nat=e.nat),void 0!==e.bandwidth&&(this.bandwidth=e.bandwidth),void 0!==e.watchingBitrate&&(this.watchingBitrate=e.watchingBitrate),void 0!==e.privateIp&&(this.privateIp=e.privateIp),void 0!==e.publicIp&&(this.publicIp=e.publicIp),void 0!==e.streams&&(this.streams=e.streams),void 0!==e.rankValue&&(this.rankValue=e.rankValue),void 0!==e.timestamp&&(this.timestamp=e.timestamp),void 0!==e.publicIpString&&(this.publicIpString=e.publicIpString),void 0!==e.privateIpString&&(this.privateIpString=e.privateIpString))},hive.services.protocol.IF.TrackerPeerInfo.prototype={},hive.services.protocol.IF.TrackerPeerInfo.prototype.read=function(e){for(e.r_();;){var t=e.kb(),r=(t.fname,t.ftype),n=t.fid;if(r==i.Type.STOP)break;switch(n){case 1:r==i.Type.STRING?this.guid=e.v_().value:e.Mb(r);break;case 2:r==i.Type.I32?this.internalAs=e.Fb().value:e.Mb(r);break;case 3:r==i.Type.I32?this.externalAs=e.Fb().value:e.Mb(r);break;case 4:r==i.Type.I32?this.nat=e.Fb().value:e.Mb(r);break;case 5:r==i.Type.I32?this.bandwidth=e.Fb().value:e.Mb(r);break;case 6:r==i.Type.I32?this.watchingBitrate=e.Fb().value:e.Mb(r);break;case 7:r==i.Type.STRUCT?(this.privateIp=new InetAddress,this.privateIp.read(e)):e.Mb(r);break;case 8:r==i.Type.STRUCT?(this.publicIp=new InetAddress,this.publicIp.read(e)):e.Mb(r);break;case 9:if(r==i.Type.LIST){var s,o=0;this.streams=[];s=e.a_(),s.h_,o=s.size;for(var a=0;a<o;++a){var h=null;h=new hive.services.protocol.IF.TrackerPeerStreamInfo,h.read(e),this.streams.push(h)}e.c_()}else e.Mb(r);break;case 10:r==i.Type.DOUBLE?this.rankValue=e.E_().value:e.Mb(r);break;case 11:r==i.Type.I64?this.timestamp=e.g_().value:e.Mb(r);break;case 12:r==i.Type.STRING?this.publicIpString=e.Lb().value:e.Mb(r);break;case 13:r==i.Type.STRING?this.privateIpString=e.Lb().value:e.Mb(r);break;default:e.Mb(r)}e.Ub()}e.Bb()},hive.services.protocol.IF.TrackerPeerInfo.prototype.write=function(e){if(e.Hb("TrackerPeerInfo"),null!==this.guid&&void 0!==this.guid&&(e.xb("guid",i.Type.STRING,1),e.WC(this.guid),e.Gb()),null!==this.internalAs&&void 0!==this.internalAs&&(e.xb("internalAs",i.Type.I32,2),e.Vb(this.internalAs),e.Gb()),null!==this.externalAs&&void 0!==this.externalAs&&(e.xb("externalAs",i.Type.I32,3),e.Vb(this.externalAs),e.Gb()),null!==this.nat&&void 0!==this.nat&&(e.xb("nat",i.Type.I32,4),e.Vb(this.nat),e.Gb()),null!==this.bandwidth&&void 0!==this.bandwidth&&(e.xb("bandwidth",i.Type.I32,5),e.Vb(this.bandwidth),e.Gb()),null!==this.watchingBitrate&&void 0!==this.watchingBitrate&&(e.xb("watchingBitrate",i.Type.I32,6),e.Vb(this.watchingBitrate),e.Gb()),null!==this.privateIp&&void 0!==this.privateIp&&(e.xb("privateIp",i.Type.STRUCT,7),this.privateIp.write(e),e.Gb()),null!==this.publicIp&&void 0!==this.publicIp&&(e.xb("publicIp",i.Type.STRUCT,8),this.publicIp.write(e),e.Gb()),null!==this.streams&&void 0!==this.streams){e.xb("streams",i.Type.LIST,9),e.HC(i.Type.STRUCT,this.streams.length);for(var t in this.streams)this.streams.hasOwnProperty(t)&&(t=this.streams[t],t.write(e));e.xC(),e.Gb()}null!==this.rankValue&&void 0!==this.rankValue&&(e.xb("rankValue",i.Type.DOUBLE,10),e.YC(this.rankValue),e.Gb()),null!==this.timestamp&&void 0!==this.timestamp&&(e.xb("timestamp",i.Type.I64,11),e.KC(this.timestamp),e.Gb()),null!==this.publicIpString&&void 0!==this.publicIpString&&(e.xb("publicIpString",i.Type.STRING,12),e.qb(this.publicIpString),e.Gb()),null!==this.privateIpString&&void 0!==this.privateIpString&&(e.xb("privateIpString",i.Type.STRING,13),e.qb(this.privateIpString),e.Gb()),e.jb(),e.Qb()},hive.services.protocol.IF.CustomerKey=function(e){this.partnerId=null,this.customerId=null,e&&(void 0!==e.partnerId&&(this.partnerId=e.partnerId),void 0!==e.customerId&&(this.customerId=e.customerId))},hive.services.protocol.IF.CustomerKey.prototype={},hive.services.protocol.IF.CustomerKey.prototype.read=function(e){for(e.r_();;){var t=e.kb(),r=(t.fname,t.ftype),n=t.fid;if(r==i.Type.STOP)break;switch(n){case 1:r==i.Type.STRING?this.partnerId=e.Lb().value:e.Mb(r);break;case 2:r==i.Type.STRING?this.customerId=e.Lb().value:e.Mb(r);break;default:e.Mb(r)}e.Ub()}e.Bb()},hive.services.protocol.IF.CustomerKey.prototype.write=function(e){e.Hb("CustomerKey"),null!==this.partnerId&&void 0!==this.partnerId&&(e.xb("partnerId",i.Type.STRING,1),e.qb(this.partnerId),e.Gb()),null!==this.customerId&&void 0!==this.customerId&&(e.xb("customerId",i.Type.STRING,2),e.qb(this.customerId),e.Gb()),e.jb(),e.Qb()},hive.services.protocol.IF.TrackerAsQuery=function(e){this.asType=null,this.asn=null,e&&(void 0!==e.asType&&(this.asType=e.asType),void 0!==e.asn&&(this.asn=e.asn))},hive.services.protocol.IF.TrackerAsQuery.prototype={},hive.services.protocol.IF.TrackerAsQuery.prototype.read=function(e){for(e.r_();;){var t=e.kb(),r=(t.fname,t.ftype),n=t.fid;if(r==i.Type.STOP)break;switch(n){case 1:r==i.Type.I32?this.asType=e.Fb().value:e.Mb(r);break;case 2:r==i.Type.I32?this.asn=e.Fb().value:e.Mb(r);break;default:e.Mb(r)}e.Ub()}e.Bb()},hive.services.protocol.IF.TrackerAsQuery.prototype.write=function(e){e.Hb("TrackerAsQuery"),null!==this.asType&&void 0!==this.asType&&(e.xb("asType",i.Type.I32,1),e.Vb(this.asType),e.Gb()),null!==this.asn&&void 0!==this.asn&&(e.xb("asn",i.Type.I32,2),e.Vb(this.asn),e.Gb()),e.jb(),e.Qb()},hive.services.protocol.IF.TrackerBitrateQuery=function(e){this.bitrate=null,this.asn=null,this.streamState=null,e&&(void 0!==e.bitrate&&(this.bitrate=e.bitrate),void 0!==e.asn&&(this.asn=e.asn),void 0!==e.streamState&&(this.streamState=e.streamState))},hive.services.protocol.IF.TrackerBitrateQuery.prototype={},hive.services.protocol.IF.TrackerBitrateQuery.prototype.read=function(e){for(e.r_();;){var t=e.kb(),r=(t.fname,t.ftype),n=t.fid;if(r==i.Type.STOP)break;switch(n){case 1:r==i.Type.I32?this.bitrate=e.Fb().value:e.Mb(r);break;case 2:r==i.Type.STRUCT?(this.asn=new hive.services.protocol.IF.TrackerAsQuery,this.asn.read(e)):e.Mb(r);break;case 3:r==i.Type.I32?this.streamState=e.Fb().value:e.Mb(r);break;default:e.Mb(r)}e.Ub()}e.Bb()},hive.services.protocol.IF.TrackerBitrateQuery.prototype.write=function(e){e.Hb("TrackerBitrateQuery"),null!==this.bitrate&&void 0!==this.bitrate&&(e.xb("bitrate",i.Type.I32,1),e.Vb(this.bitrate),e.Gb()),null!==this.asn&&void 0!==this.asn&&(e.xb("asn",i.Type.STRUCT,2),this.asn.write(e),e.Gb()),null!==this.streamState&&void 0!==this.streamState&&(e.xb("streamState",i.Type.I32,3),e.Vb(this.streamState),e.Gb()),e.jb(),e.Qb()},hive.services.protocol.IF.TrackerRankQuery=function(e){this.rankType=null,this.asQuery=null,e&&(void 0!==e.rankType&&(this.rankType=e.rankType),void 0!==e.asQuery&&(this.asQuery=e.asQuery))},hive.services.protocol.IF.TrackerRankQuery.prototype={},hive.services.protocol.IF.TrackerRankQuery.prototype.read=function(e){for(e.r_();;){var t=e.kb(),r=(t.fname,t.ftype),n=t.fid;if(r==i.Type.STOP)break;switch(n){case 1:r==i.Type.I32?this.rankType=e.Fb().value:e.Mb(r);break;case 2:r==i.Type.STRUCT?(this.asQuery=new hive.services.protocol.IF.TrackerAsQuery,this.asQuery.read(e)):e.Mb(r);break;default:e.Mb(r)}e.Ub()}e.Bb()},hive.services.protocol.IF.TrackerRankQuery.prototype.write=function(e){e.Hb("TrackerRankQuery"),null!==this.rankType&&void 0!==this.rankType&&(e.xb("rankType",i.Type.I32,1),e.Vb(this.rankType),e.Gb()),null!==this.asQuery&&void 0!==this.asQuery&&(e.xb("asQuery",i.Type.STRUCT,2),this.asQuery.write(e),e.Gb()),e.jb(),e.Qb()},hive.services.protocol.IF.TrackerQuery=function(e){this.random=null,this.asns=null,this.watchers=null,this.streamers=null,this.rankings=null,e&&(void 0!==e.random&&(this.random=e.random),void 0!==e.asns&&(this.asns=e.asns),void 0!==e.watchers&&(this.watchers=e.watchers),void 0!==e.streamers&&(this.streamers=e.streamers),void 0!==e.rankings&&(this.rankings=e.rankings))},hive.services.protocol.IF.TrackerQuery.prototype={},hive.services.protocol.IF.TrackerQuery.prototype.read=function(e){for(e.r_();;){var t=e.kb(),r=(t.fname,t.ftype),n=t.fid;if(r==i.Type.STOP)break;switch(n){case 1:r==i.Type.I32?this.random=e.Fb().value:e.Mb(r);break;case 2:if(r==i.Type.MAP){var s,o=0;this.asns={};s=e.i_(),s.n_,s.s_,o=s.size;for(var a=0;a<o;++a){a>0&&e.JC.length>e.zb[e.zb.length-1]+1&&e.JC.pop();var h=null,c=null;h=new hive.services.protocol.IF.TrackerAsQuery,h.read(e),c=e.Fb().value,this.asns[h]=c}e.o_()}else e.Mb(r);break;case 3:if(r==i.Type.MAP){var u,l=0;this.watchers={};u=e.i_(),u.n_,u.s_,l=u.size;for(var p=0;p<l;++p){p>0&&e.JC.length>e.zb[e.zb.length-1]+1&&e.JC.pop();var d=null,f=null;d=new hive.services.protocol.IF.TrackerBitrateQuery,d.read(e),f=e.Fb().value,this.watchers[d]=f}e.o_()}else e.Mb(r);break;case 4:if(r==i.Type.MAP){var g,E=0;this.streamers={};g=e.i_(),g.n_,g.s_,E=g.size;for(var v=0;v<E;++v){v>0&&e.JC.length>e.zb[e.zb.length-1]+1&&e.JC.pop();var y=null,T=null;y=new hive.services.protocol.IF.TrackerBitrateQuery,y.read(e),T=e.Fb().value,this.streamers[y]=T}e.o_()}else e.Mb(r);break;case 5:if(r==i.Type.LIST){var m,I=0;this.rankings=[];m=e.a_(),m.h_,I=m.size;for(var S=0;S<I;++S){var R=null;R=e.Fb().value,this.rankings.push(R)}e.c_()}else e.Mb(r);break;default:e.Mb(r)}e.Ub()}e.Bb()},hive.services.protocol.IF.TrackerQuery.prototype.write=function(e){if(e.Hb("TrackerQuery"),null!==this.random&&void 0!==this.random&&(e.xb("random",i.Type.I32,1),e.Vb(this.random),e.Gb()),null!==this.asns&&void 0!==this.asns){e.xb("asns",i.Type.MAP,2),e.UC(i.Type.STRUCT,i.Type.I32,i.Eb(this.asns));for(var t=0;t<this.asns.length;t++){var r=this.asns[t],n=r.key,s=r.value;n.write(e),e.Vb(s)}e.BC(),e.Gb()}if(null!==this.watchers&&void 0!==this.watchers){e.xb("watchers",i.Type.MAP,3),e.UC(i.Type.STRUCT,i.Type.I32,i.Eb(this.watchers));for(var t=0;t<this.watchers.length;t++){var r=this.watchers[t],o=r.key,a=r.value;o.write(e),e.Vb(a)}e.BC(),e.Gb()}if(null!==this.streamers&&void 0!==this.streamers){e.xb("streamers",i.Type.MAP,4),e.UC(i.Type.STRUCT,i.Type.I32,i.Eb(this.streamers));for(var t=0;t<this.streamers.length;t++){var r=this.streamers[t],h=r.key,c=r.value;h.write(e),e.Vb(c)}e.BC(),e.Gb()}if(null!==this.rankings&&void 0!==this.rankings){e.xb("rankings",i.Type.LIST,5),e.HC(i.Type.I32,this.rankings.length);for(var u in this.rankings)this.rankings.hasOwnProperty(u)&&(u=this.rankings[u],e.Vb(u));e.xC(),e.Gb()}e.jb(),e.Qb()},hive.services.protocol.IF.TrackerPeerRankingKey=function(e){this.rankType=null,this.internalAs=null,this.externalAs=null,e&&(void 0!==e.rankType&&(this.rankType=e.rankType),void 0!==e.internalAs&&(this.internalAs=e.internalAs),void 0!==e.externalAs&&(this.externalAs=e.externalAs))},hive.services.protocol.IF.TrackerPeerRankingKey.prototype={},hive.services.protocol.IF.TrackerPeerRankingKey.prototype.read=function(e){for(e.r_();;){var t=e.kb(),r=(t.fname,t.ftype),n=t.fid;if(r==i.Type.STOP)break;switch(n){case 1:r==i.Type.I32?this.rankType=e.Fb().value:e.Mb(r);break;case 2:r==i.Type.I32?this.internalAs=e.Fb().value:e.Mb(r);break;case 3:r==i.Type.I32?this.externalAs=e.Fb().value:e.Mb(r);break;default:e.Mb(r)}e.Ub()}e.Bb()},hive.services.protocol.IF.TrackerPeerRankingKey.prototype.write=function(e){e.Hb("TrackerPeerRankingKey"),null!==this.rankType&&void 0!==this.rankType&&(e.xb("rankType",i.Type.I32,1),e.Vb(this.rankType),e.Gb()),null!==this.internalAs&&void 0!==this.internalAs&&(e.xb("internalAs",i.Type.I32,2),e.Vb(this.internalAs),e.Gb()),null!==this.externalAs&&void 0!==this.externalAs&&(e.xb("externalAs",i.Type.I32,3),e.Vb(this.externalAs),e.Gb()),e.jb(),e.Qb()},hive.services.protocol.IF.TrackerPeerRanking=function(e){this.key=null,this.ranking=null,this.groupSize=null,this.cumulatedRankValue=null,this.totalOfRankValues=null,e&&(void 0!==e.key&&(this.key=e.key),void 0!==e.ranking&&(this.ranking=e.ranking),void 0!==e.groupSize&&(this.groupSize=e.groupSize),void 0!==e.cumulatedRankValue&&(this.cumulatedRankValue=e.cumulatedRankValue),void 0!==e.totalOfRankValues&&(this.totalOfRankValues=e.totalOfRankValues))},hive.services.protocol.IF.TrackerPeerRanking.prototype={},hive.services.protocol.IF.TrackerPeerRanking.prototype.read=function(e){for(e.r_();;){var t=e.kb(),r=(t.fname,t.ftype),n=t.fid;if(r==i.Type.STOP)break;switch(n){case 1:r==i.Type.STRUCT?(this.key=new hive.services.protocol.IF.TrackerPeerRankingKey,this.key.read(e)):e.Mb(r);break;case 2:r==i.Type.I32?this.ranking=e.Fb().value:e.Mb(r);break;case 3:r==i.Type.I32?this.groupSize=e.Fb().value:e.Mb(r);break;case 4:r==i.Type.DOUBLE?this.cumulatedRankValue=e.E_().value:e.Mb(r);break;case 5:r==i.Type.DOUBLE?this.totalOfRankValues=e.E_().value:e.Mb(r);break;default:e.Mb(r)}e.Ub()}e.Bb()},hive.services.protocol.IF.TrackerPeerRanking.prototype.write=function(e){e.Hb("TrackerPeerRanking"),null!==this.key&&void 0!==this.key&&(e.xb("key",i.Type.STRUCT,1),this.key.write(e),e.Gb()),null!==this.ranking&&void 0!==this.ranking&&(e.xb("ranking",i.Type.I32,2),e.Vb(this.ranking),e.Gb()),null!==this.groupSize&&void 0!==this.groupSize&&(e.xb("groupSize",i.Type.I32,3),e.Vb(this.groupSize),e.Gb()),null!==this.cumulatedRankValue&&void 0!==this.cumulatedRankValue&&(e.xb("cumulatedRankValue",i.Type.DOUBLE,4),e.YC(this.cumulatedRankValue),e.Gb()),null!==this.totalOfRankValues&&void 0!==this.totalOfRankValues&&(e.xb("totalOfRankValues",i.Type.DOUBLE,5),e.YC(this.totalOfRankValues),e.Gb()),e.jb(),e.Qb()},hive.services.protocol.IF.TrackerRequest=function(e){this.info=null,this.contentId=null,this.query=null,this.streamType=null,this.sessionId=null,this.customerKey=null,e&&(void 0!==e.info&&(this.info=e.info),void 0!==e.contentId&&(this.contentId=e.contentId),void 0!==e.query&&(this.query=e.query),void 0!==e.streamType&&(this.streamType=e.streamType),void 0!==e.sessionId&&(this.sessionId=e.sessionId),void 0!==e.customerKey&&(this.customerKey=e.customerKey))},hive.services.protocol.IF.TrackerRequest.prototype={},hive.services.protocol.IF.TrackerRequest.prototype.read=function(e){for(e.r_();;){var t=e.kb(),r=(t.fname,t.ftype),n=t.fid;if(r==i.Type.STOP)break;switch(n){case 1:r==i.Type.STRUCT?(this.info=new hive.services.protocol.IF.TrackerPeerInfo,this.info.read(e)):e.Mb(r);break;case 2:r==i.Type.STRING?this.contentId=e.Lb().value:e.Mb(r);break;case 3:r==i.Type.STRUCT?(this.query=new hive.services.protocol.IF.TrackerQuery,this.query.read(e)):e.Mb(r);break;case 4:r==i.Type.I32?this.streamType=e.Fb().value:e.Mb(r);break;case 5:r==i.Type.STRING?this.sessionId=e.Lb().value:e.Mb(r);break;case 6:r==i.Type.STRUCT?(this.customerKey=new hive.services.protocol.IF.CustomerKey,this.customerKey.read(e)):e.Mb(r);break;default:e.Mb(r)}e.Ub()}e.Bb()},hive.services.protocol.IF.TrackerRequest.prototype.write=function(e){e.Hb("TrackerRequest"),null!==this.info&&void 0!==this.info&&(e.xb("info",i.Type.STRUCT,1),this.info.write(e),e.Gb()),null!==this.contentId&&void 0!==this.contentId&&(e.xb("contentId",i.Type.STRING,2),e.qb(this.contentId),e.Gb()),null!==this.query&&void 0!==this.query&&(e.xb("query",i.Type.STRUCT,3),this.query.write(e),e.Gb()),null!==this.streamType&&void 0!==this.streamType&&(e.xb("streamType",i.Type.I32,4),e.Vb(this.streamType),e.Gb()),null!==this.sessionId&&void 0!==this.sessionId&&(e.xb("sessionId",i.Type.STRING,5),e.qb(this.sessionId),e.Gb()),null!==this.customerKey&&void 0!==this.customerKey&&(e.xb("customerKey",i.Type.STRUCT,6),this.customerKey.write(e),e.Gb()),e.jb(),e.Qb()},hive.services.protocol.IF.TrackerResponse=function(e){this.infos=null,this.rankings=null,this.peerInfo=null,this.sessionId=null,e&&(void 0!==e.infos&&(this.infos=e.infos),void 0!==e.rankings&&(this.rankings=e.rankings),void 0!==e.peerInfo&&(this.peerInfo=e.peerInfo),void 0!==e.sessionId&&(this.sessionId=e.sessionId))},hive.services.protocol.IF.TrackerResponse.prototype={},hive.services.protocol.IF.TrackerResponse.prototype.read=function(e){for(e.r_();;){var t=e.kb(),r=(t.fname,t.ftype),n=t.fid;if(r==i.Type.STOP)break;switch(n){case 1:if(r==i.Type.LIST){var s,o=0;this.infos=[];s=e.a_(),s.h_,o=s.size;for(var a=0;a<o;++a){var h=null;h=new hive.services.protocol.IF.TrackerPeerInfo,h.read(e),this.infos.push(h)}e.c_()}else e.Mb(r);break;case 2:if(r==i.Type.LIST){var c,u=0;this.rankings=[];c=e.a_(),c.h_,u=c.size;for(var l=0;l<u;++l){var p=null;p=new hive.services.protocol.IF.TrackerPeerRanking,p.read(e),this.rankings.push(p)}e.c_()}else e.Mb(r);break;case 3:r==i.Type.STRUCT?(this.peerInfo=new hive.services.protocol.IF.TrackerPeerInfo,this.peerInfo.read(e)):e.Mb(r);break;case 4:r==i.Type.STRING?this.sessionId=e.Lb().value:e.Mb(r);break;default:e.Mb(r)}e.Ub()}e.Bb()},hive.services.protocol.IF.TrackerResponse.prototype.write=function(e){if(e.Hb("TrackerResponse"),null!==this.infos&&void 0!==this.infos){e.xb("infos",i.Type.LIST,1),e.HC(i.Type.STRUCT,this.infos.length);for(var t in this.infos)this.infos.hasOwnProperty(t)&&(t=this.infos[t],t.write(e));e.xC(),e.Gb()}if(null!==this.rankings&&void 0!==this.rankings){e.xb("rankings",i.Type.LIST,2),e.HC(i.Type.STRUCT,this.rankings.length);for(var r in this.rankings)this.rankings.hasOwnProperty(r)&&(r=this.rankings[r],r.write(e));e.xC(),e.Gb()}null!==this.peerInfo&&void 0!==this.peerInfo&&(e.xb("peerInfo",i.Type.STRUCT,3),this.peerInfo.write(e),e.Gb()),null!==this.sessionId&&void 0!==this.sessionId&&(e.xb("sessionId",i.Type.STRING,4),e.qb(this.sessionId),e.Gb()),e.jb(),e.Qb()},hive.services.protocol.IF.PF=function(e){this.timestamp=null,this.contentId=null,this.asType=null,this.asn=null,this.bitrate=null,this.streamState=null,this.rankType=null,e&&(void 0!==e.timestamp&&(this.timestamp=e.timestamp),void 0!==e.contentId&&(this.contentId=e.contentId),void 0!==e.asType&&(this.asType=e.asType),void 0!==e.asn&&(this.asn=e.asn),void 0!==e.bitrate&&(this.bitrate=e.bitrate),void 0!==e.streamState&&(this.streamState=e.streamState),void 0!==e.rankType&&(this.rankType=e.rankType))},hive.services.protocol.IF.PF.prototype={},hive.services.protocol.IF.PF.prototype.read=function(e){for(e.r_();;){var t=e.kb(),r=(t.fname,t.ftype),n=t.fid;if(r==i.Type.STOP)break;switch(n){case 1:r==i.Type.I32?this.timestamp=e.Fb().value:e.Mb(r);break;case 2:r==i.Type.STRING?this.contentId=e.Lb().value:e.Mb(r);break;case 3:r==i.Type.I32?this.asType=e.Fb().value:e.Mb(r);break;case 4:r==i.Type.I32?this.asn=e.Fb().value:e.Mb(r);break;case 5:r==i.Type.I32?this.bitrate=e.Fb().value:e.Mb(r);break;case 6:r==i.Type.I32?this.streamState=e.Fb().value:e.Mb(r);break;case 7:r==i.Type.I32?this.rankType=e.Fb().value:e.Mb(r);break;default:e.Mb(r)}e.Ub()}e.Bb()},hive.services.protocol.IF.PF.prototype.write=function(e){e.Hb("TrackerStoreIndexKey"),null!==this.timestamp&&void 0!==this.timestamp&&(e.xb("timestamp",i.Type.I32,1),e.Vb(this.timestamp),e.Gb()),null!==this.contentId&&void 0!==this.contentId&&(e.xb("contentId",i.Type.STRING,2),e.qb(this.contentId),e.Gb()),null!==this.asType&&void 0!==this.asType&&(e.xb("asType",i.Type.I32,3),e.Vb(this.asType),e.Gb()),null!==this.asn&&void 0!==this.asn&&(e.xb("asn",i.Type.I32,4),e.Vb(this.asn),e.Gb()),null!==this.bitrate&&void 0!==this.bitrate&&(e.xb("bitrate",i.Type.I32,5),e.Vb(this.bitrate),e.Gb()),null!==this.streamState&&void 0!==this.streamState&&(e.xb("streamState",i.Type.I32,6),e.Vb(this.streamState),e.Gb()),null!==this.rankType&&void 0!==this.rankType&&(e.xb("rankType",i.Type.I32,7),e.Vb(this.rankType),e.Gb()),e.jb(),e.Qb()},hive.services.protocol.IF.AF=function(e){this.guid=null,this.OF=null,this.key=null,e&&(void 0!==e.guid&&(this.guid=e.guid),void 0!==e.OF&&(this.OF=e.OF),void 0!==e.key&&(this.key=e.key))},hive.services.protocol.IF.AF.prototype={},hive.services.protocol.IF.AF.prototype.read=function(e){for(e.r_();;){var t=e.kb(),r=(t.fname,t.ftype),n=t.fid;if(r==i.Type.STOP)break;switch(n){case 1:r==i.Type.STRING?this.guid=e.v_().value:e.Mb(r);break;case 2:r==i.Type.DOUBLE?this.OF=e.E_().value:e.Mb(r);break;case 3:r==i.Type.STRUCT?(this.key=new hive.services.protocol.IF.TrackerPeerRankingKey,this.key.read(e)):e.Mb(r);break;default:e.Mb(r)}e.Ub()}e.Bb()},hive.services.protocol.IF.AF.prototype.write=function(e){e.Hb("TrackerStoreRankPeer"),null!==this.guid&&void 0!==this.guid&&(e.xb("guid",i.Type.STRING,1),e.WC(this.guid),e.Gb()),null!==this.OF&&void 0!==this.OF&&(e.xb("rank",i.Type.DOUBLE,2),e.YC(this.OF),e.Gb()),null!==this.key&&void 0!==this.key&&(e.xb("key",i.Type.STRUCT,3),this.key.write(e),e.Gb()),e.jb(),e.Qb()},hive.services.protocol.IF.NF=function(e){this.timestamp=null,this.request=null,e&&(void 0!==e.timestamp&&(this.timestamp=e.timestamp),void 0!==e.request&&(this.request=e.request))},hive.services.protocol.IF.NF.prototype={},hive.services.protocol.IF.NF.prototype.read=function(e){for(e.r_();;){var t=e.kb(),r=(t.fname,t.ftype),n=t.fid;if(r==i.Type.STOP)break;switch(n){case 1:r==i.Type.I64?this.timestamp=e.g_().value:e.Mb(r);break;case 2:r==i.Type.STRUCT?(this.request=new hive.services.protocol.IF.TrackerRequest,this.request.read(e)):e.Mb(r);break;default:e.Mb(r)}e.Ub()}e.Bb()},hive.services.protocol.IF.NF.prototype.write=function(e){e.Hb("TrackerRequestQueueMessage"),null!==this.timestamp&&void 0!==this.timestamp&&(e.xb("timestamp",i.Type.I64,1),e.KC(this.timestamp),e.Gb()),null!==this.request&&void 0!==this.request&&(e.xb("request",i.Type.STRUCT,2),this.request.write(e),e.Gb()),e.jb(),e.Qb()}},function(e,t,r){"use strict";var i=function(){function e(e,t,r,i,n){this.id=e,this.bitrate=t,this.duration=r,this.uri=i,this.yM=n}return e}();t.DF=i},function(e,t,r){"use strict";var i=r(1),n=function(){function e(e,t,r){this.start=e,this.end=t,this.total=r}return e.prototype.size=function(){var e=this.end-this.start+1;return Number.isInteger(e)||(i.ErrorMonitor.ve().logError("Segment Size is a Float",{size:e}),e=Math.round(e)),0==this.end&&0==this.start?0:e},e.prototype.kF=function(){return 0==this.start&&(this.end==this.total-1||this.end==this.total&&0==this.total)},e.prototype.LF=function(){return this.end==this.total-1||this.end==this.total&&0==this.total},e.prototype.MF=function(e){return e.start<=this.start&&this.start<=e.end},e.prototype.toString=function(){return"R[S="+this.start+",E="+this.end+",T="+this.total+"]"},e}();t.FF=n;var s=function(){function e(){}return e.UF=function(e){return e.split("-")},e.BF=function(e){var t=e.split("=",4),r=t[1].substr(0,t[1].indexOf(",")),i=t[2].substr(0,t[2].indexOf(",")),s=t[3].substr(0,t[3].indexOf("]"));return new n(+r,+i,+s)},e}();t.HF=s},function(e,t){e.i=function(e){return e.xF||(e.qF=function(){},e.GF=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{p:!0,get:function(){return e.o}}),Object.defineProperty(e,"id",{p:!0,get:function(){return e.s}}),e.xF=1),e}},function(e,t){function r(e,t){for(var r=0,i=e.length-1;i>=0;i--){var n=e[i];"."===n?e.splice(i,1):".."===n?(e.splice(i,1),r++):r&&(e.splice(i,1),r--)}if(t)for(;r--;r)e.unshift("..");return e}function i(e,t){if(e.filter)return e.filter(t);for(var r=[],i=0;i<e.length;i++)t(e[i],i,e)&&r.push(e[i]);return r}var n=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,s=function(e){return n.exec(e).slice(1)};t.resolve=function(){for(var e="",t=!1,n=arguments.length-1;n>=-1&&!t;n--){var s=n>=0?arguments[n]:process.VF();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(e=s+"/"+e,t="/"===s.charAt(0))}return e=r(i(e.split("/"),function(e){return!!e}),!t).join("/"),(t?"/":"")+e||"."},t.normalize=function(e){var n=t.jF(e),s="/"===o(e,-1);return e=r(i(e.split("/"),function(e){return!!e}),!n).join("/"),e||n||(e="."),e&&s&&(e+="/"),(n?"/":"")+e},t.jF=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(i(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},t.QF=function(e,r){function i(e){for(var t=0;t<e.length&&""===e[t];t++);for(var r=e.length-1;r>=0&&""===e[r];r--);return t>r?[]:e.slice(t,r-t+1)}e=t.resolve(e).substr(1),r=t.resolve(r).substr(1);for(var n=i(e.split("/")),s=i(r.split("/")),o=Math.min(n.length,s.length),a=o,h=0;h<o;h++)if(n[h]!==s[h]){a=h;break}for(var c=[],h=a;h<n.length;h++)c.push("..");return c=c.concat(s.slice(a)),c.join("/")},t.KF="/",t.YF=":",t.WF=function(e){var t=s(e),r=t[0],i=t[1];return r||i?(i&&(i=i.substr(0,i.length-1)),r+i):"."},t.zF=function(e,t){var r=s(e)[2];return t&&r.substr(-1*t.length)===t&&(r=r.substr(0,r.length-t.length)),r},t.JF=function(e){return s(e)[3]};var o="b"==="ab".substr(-1)?function(e,t,r){return e.substr(t,r)}:function(e,t,r){return t<0&&(t=e.length+t),e.substr(t,r)}},function(e,t,r){"use strict";function i(e,t){Array.prototype[e]||Object.defineProperty(Array.prototype,e,{value:t,Ah:!0,l:!0,p:!1})}function n(e,t,r){this.NT=e,this.start=null==t?0:t,this.end=r}var s=(r(66),r(12)),o=r(67),a=r(37);e.i=Array;var h=Array.prototype.splice,c=Array.prototype.slice;Array.empty=[],Object.freeze&&Object.freeze(Array.empty),Array.from=Array.from||function(e){var t=[];return t.addEach(e),t},Array.Mc=function(e){for(var t=[],r=1/0,i=0;i<e.length;i++){var n=e[i];e[i]=n.toArray(),n.length<r&&(r=n.length)}for(var i=0;i<e.length;i++)for(var n=e[i],s=0;s<n.length;s++)s<r&&s in n&&(t[s]=t[s]||[],t[s][i]=n[s]);return t},i("addEach",s.prototype.addEach),i("deleteEach",s.prototype._c),i("toArray",s.prototype.toArray),i("toObject",s.prototype.Pc),i("all",s.prototype.all),i("any",s.prototype.uo),i("min",s.prototype.min),i("max",s.prototype.max),i("sum",s.prototype.Nc),i("average",s.prototype.Dc),i("only",s.prototype.only),i("flatten",s.prototype.kc),i("zip",s.prototype.Lc),i("enumerate",s.prototype.enumerate),i("group",s.prototype.group),i("sorted",s.prototype.Fc),i("reversed",s.prototype.reversed),i("constructClone",function(e){var t=new this.constructor;return t.addEach(e),t}),i("has",function(e,t){return-1!==this.find(e,t)}),i("set",function(e,t){return this[e]=t,!0}),i("add",function(e){return this.push(e),!0}),i("delete",function(e,t){var r=this.find(e,t);return-1!==r&&(this.splice(r,1),!0)}),i("deleteAll",function(e,t){t=t||this.ls||Object.cs;for(var r=0,i=0;i<this.length;)t(e,this[i])?(this.qk(i,1),r++):i++;return r}),i("find",function(e,t){t=t||this.ls||Object.cs;for(var r=0;r<this.length;r++)if(r in this&&t(e,this[r]))return r;return-1}),i("findLast",function(e,t){t=t||this.ls||Object.cs;var r=this.length;do{if(--r in this&&t(this[r],e))return r}while(r>0);return-1}),i("swap",function(e,t,r){var i,n,s,o,a;if(e>this.length&&(this.length=e),void 0!==r){if(i=[e,t],Array.isArray(r)||(r=c.call(r)),s=0,(n=r.length)<1e3){for(s;s<n;s++)i[s+2]=r[s];return h.apply(this,i)}for(a=h.apply(this,i),s;s<n;){for(i=[e+s,0],o=2;o<1002&&s<n;o++,s++)i[o]=r[s];h.apply(this,i)}return a}return void 0!==t?h.call(this,e,t):void 0!==e?h.call(this,e):[]}),i("peek",function(){return this[0]}),i("poke",function(e){this.length>0&&(this[0]=e)}),i("peekBack",function(){if(this.length>0)return this[this.length-1]}),i("pokeBack",function(e){this.length>0&&(this[this.length-1]=e)}),i("one",function(){for(var e in this)if(Object.OA(this,e))return this[e]}),Array.prototype.clear||i("clear",function(){return this.length=0,this}),i("compare",function(e,t){t=t||Object.Oc;var r,i,n,s,a;if(this===e)return 0;if(!e||!Array.isArray(e))return o.prototype.Oc.call(this,e,t);for(i=Math.min(this.length,e.length),r=0;r<i;r++)if(r in this){if(!(r in e))return-1;if(n=this[r],s=e[r],a=t(n,s))return a}else if(r in e)return 1;return this.length-e.length}),i("equals",function(e,t){t=t||Object.cs;var r,i,n=0,s=this.length;if(this===e)return!0;if(!e||!Array.isArray(e))return o.prototype.cs.call(this,e);if(s!==e.length)return!1;for(;n<s;++n)if(n in this){if(!(n in e))return!1;if(r=this[n],i=e[n],!t(r,i))return!1}else if(n in e)return!1;return!0}),i("clone",function(e,t){if(null==e)e=1/0;else if(0===e)return this;if(t=t||new a,t.has(this))return t.get(this);var r=new Array(this.length);t.set(this,r);for(var i in this)r[i]=Object.clone(this[i],e-1,t);return r}),i("iterate",function(e,t){return new n(this,e,t)}),i("Iterator",n),n.prototype.Gk=null,Object.defineProperty(n.prototype,"_iterationObject",{get:function(){return this.Gk||(this.Gk={done:!1,value:null})}}),n.prototype.next=function(){return this.start===(null==this.end?this.NT.length:this.end)?(this.Vk.done=!0,this.Vk.value=void 0):this.Vk.value=this.NT[this.start++],this.Vk}},function(e,t){e.i=Function,Function.us=function(){},Function.identity=function(e){return e},Function.Uc=function(e,t){t=t||Object.Oc,e=e||Function.identity;var r=function(r,i){return t(e(r),e(i))};return r.Oc=t,r.Uc=e,r},Function.get=function(e){return function(t){return Object.get(t,e)}}},function(e,t,r){function i(){throw new Error("Can't construct. GenericOrder is a mixin.")}var n=r(36);e.i=i,i.prototype.cs=function(e,t){if(t=t||this.ls||n.cs,this===e)return!0;if(!e)return!1;return this.length===e.length&&this.Lc(e).every(function(e){return t(e[0],e[1])})},i.prototype.Oc=function(e,t){if(t=t||this.Ac||n.Oc,this===e)return 0;if(!e)return 1;var r=Math.min(this.length,e.length),i=this.Lc(e).reduce(function(e,i,n){return 0===e?n>=r?e:t(i[0],i[1]):e},0);return 0===i?this.length-e.length:i},i.prototype.toJSON=function(){return this.toArray()}},function(e,t,r){"use strict";function i(e,t,r,n){if(!(this instanceof i))return new i(e,t,r,n);t=t||Object.cs,r=r||Object.hash,n=n||Function.us,this.ls=t,this.ps=r,this.ds=n,this.order=new this.XF(void 0,t),this.fs=new this.ZF(void 0,function(e,r){return t(e.value,r.value)},function(e){return r(e.value)}),this.length=0,this.addEach(e)}var n=(r(11),r(50)),s=r(102),o=r(12),a=r(39),h=r(13),c=r(38),u=r(103);e.i=i,i.Set=i,Object.addEach(i.prototype,o.prototype),Object.addEach(i.prototype,a.prototype),Object.addEach(i.prototype,h.prototype),Object.addEach(i.prototype,c.prototype),Object.defineProperty(i.prototype,"size",o.gs),i.prototype.XF=n,i.prototype.ZF=s,i.prototype.Es=function(e){return new this.constructor(e,this.ls,this.ps,this.ds)},i.prototype.has=function(e){var t=new this.order.Node(e);return this.fs.has(t)},i.prototype.get=function(e,t){if(t)throw new Error("Set#get does not support second argument: equals");var r=new this.order.Node(e);return r=this.fs.get(r),r?r.value:this.ds(e)},i.prototype.add=function(e){var t=new this.order.Node(e);if(!this.fs.has(t)){var r=this.length;return this.Mk&&this.QA([e],[],r),this.order.add(e),t=this.order.head.Ok,this.fs.add(t),this.length++,this.Mk&&this.GA([e],[],r),!0}return!1},i.prototype.delete=function(e,t){if(t)throw new Error("Set#delete does not support second argument: equals");var r=new this.order.Node(e);return!!this.fs.has(r)&&(r=this.fs.get(r),this.Mk&&this.QA([],[e],r.index),this.fs.delete(r),this.order.splice(r,1),this.length--,this.Mk&&this.GA([],[e],r.index),!0)},i.prototype.pop=function(){if(this.length){var e=this.order.head.Ok.value;return this.delete(e),e}},i.prototype.shift=function(){if(this.length){var e=this.order.head.next.value;return this.delete(e),e}},i.prototype.Bc=function(){if(this.length>0)return this.fs.Bc().value},i.prototype.clear=function(){var e;this.Mk&&(e=this.toArray(),this.QA([],e,0)),this.fs.clear(),this.order.clear(),this.length=0,this.Mk&&this.GA([],e,0)},i.prototype.reduce=function(e,t){var r=arguments[2],i=0;return this.order.reduce(function(t,n){return e.call(r,t,n,i++,this)},t,this)},i.prototype.reduceRight=function(e,t){var r=arguments[2],i=this.order,n=this.length-1;return i.reduceRight(function(t,i){return e.call(r,t,i,n--,this)},t,this)},i.prototype.Hc=function(){return this.order.Hc()},i.prototype.values=function(){return new u(this)},i.prototype.log=function(){var e=this.fs;return e.log.apply(e,arguments)},i.prototype.Xc=function(){this.order.Xc()}},function(e,t,r){"use strict";function i(){}e.i=i,i.$F={WA:"+",eU:"-",tU:"+",rU:"+",iU:".",nU:"'",sU:"+",oU:"|"},i.aU={WA:"╋",eU:"━",tU:"┻",rU:"┳",iU:"╭",nU:"╰",sU:"┣",oU:"┃"},i.hU={WA:"╋",eU:"━",tU:"┻",rU:"┳",iU:"┏",nU:"┗",sU:"┣",oU:"┃"}},function(e,t,r){"use strict";var i=function(){function e(){}return e}();i.dO="127.0.0.1",i.rL=11983,i.fO="//{0}:{1}/proxy/?callback={2}{3}hivePluginId={4}",i.cU="//{0}:{1}/proxy/{2}/session?manifest={3}",i.eL="//{0}:{1}/proxy/{2}/player?req={3}",i.uU="//{0}:{1}/proxy/{2}/info?{3}",t.tL=i},function(e,t,r){"use strict";var i=r(7),n=r(1),s=function(){function e(e){this.loggerId="[HiveXHR] ",this.DONE=4,this.LOADING=3,this.HEADERS_RECEIVED=2,this.OPENED=1,this.UNSENT=0,this.username=null,this.password=null,this.lU=[],this.responseType="",this.readyState=this.UNSENT,this.status=0,this.async=!0,this.timeout=0,this.events={},e&&(this.sessionId=e)}return e.prototype.addEventListener=function(e,t,r){this.events[e]=this.events[e]||[],this.events[e].push(t)},e.prototype.removeEventListener=function(e,t,r){this.events[e]&&(this.events[e]=this.events[e].filter(function(e){return e!==t}))},e.prototype.dispatchEvent=function(e){var t=this;this.events[e.type]&&this.events[e.type].forEach(function(r){try{"function"==typeof r?r.call(t,e):"function"==typeof r.CL&&r.CL(e)}catch(r){n.ErrorMonitor.ve().logError(t.loggerId+"Error in callback handler '"+e.type+"'",{error:r})}});var r=this["on"+e.type];if("function"==typeof r)try{r.call(this,e)}catch(t){n.ErrorMonitor.ve().logError(this.loggerId+"Error in callback handler '"+e.type+"'",{error:t})}return!1},e.prototype.msCachingEnabled=function(){return void 0!==this.msCaching},e.prototype.overrideMimeType=function(e){this.mimeType=e},e.register=function(t,r){e.ub[t]=r},e.prototype.pU=function(t){this.sessionId||(this.sessionId=e.ub[t])},e.prototype.open=function(e,t,r,n,s){void 0===r&&(r=!0),void 0===n&&(n=null),void 0===s&&(s=null),this.url=t.trim(),this.method=e,this.username=n,this.password=s,this.async=r,this.readyState=this.OPENED;var o=i.rc.createEvent(Event,"readystatechange",{currentTarget:this});this.dispatchEvent(o)},e.prototype.setRequestHeader=function(e,t){if(this.readyState!==this.OPENED)throw new Error("The object's state must be OPENED.");this.lU.push({key:e,value:t})},e.prototype.getResponseHeader=function(e){var t=this.getAllResponseHeaders();if(t){var r=[];return t.split(/[\r\n]+/).forEach(function(e){var t=e.match(/^([^:]+): ?(.+)$/);t&&(r[t[1]]=t[2])}),r[e.toLowerCase()]}return null},e.prototype.getAllResponseHeaders=function(){return this.responseHeaders},e.prototype.onload=function(e){},e.prototype.onloadend=function(e){},e.prototype.onerror=function(e){},e.prototype.onprogress=function(e){},e.prototype.onreadystatechange=function(e){},e.prototype.onabort=function(e){},e.prototype.onloadstart=function(e){},e.prototype.ontimeout=function(e){},e}();s.ub={},s.Ag=0,t.pb=s},function(e,t,r){"use strict";var i=this&&this.hu||function(e,t){function r(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=r(53),s=r(7),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.registerTech=function(e,r){t.iL[r]=e},t.registerComm=function(e,r){t.nL[r]=e},t.prototype.send=function(){if(!this.sessionId){var e=Object.keys(t.nL);e.length>0&&(this.sessionId=t.nL[e[0]])}var r=t.iL[this.sessionId],i=t.nL[this.sessionId];i.logger().debug("Intercepted Manifest Request "+this.url),r.oL(this),i.onActivateSession(this.url)},t.prototype.dU=function(){var e=this,t=new XMLHttpRequest;t.open("GET",this.url),t.onreadystatechange=function(r){4===t.readyState&&(e.response=t.responseText,e.responseText=t.responseText,e.readyState=4,e.status=t.status,e.onreadystatechange(s.rc.createEvent(Event,"readystatechange",r,e)),e.onload(s.rc.createEvent(ProgressEvent,"load",r,e)),console.debug("Returned Manifest Request "+e.url))},t.send()},t.prototype.fU=function(){e.prototype.send.call(this)},t}(n.Zu);o.nL={},o.iL={},t.$u=o},function(e,t,r){"use strict";var i=this&&this.hu||function(e,t){function r(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=r(15),s=r(0),o=r(32),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.Api=function(){return t.app="JS",s.Framework.resolve(n.qu._u)},t}(o.Hive);t.lb=a},function(e,t,r){function i(e,r){var i={gU:[],EU:s};return arguments.length>=3&&(i.vU=arguments[2]),arguments.length>=4&&(i.yU=arguments[3]),f(r)?i.TU=r:r&&t.mU(i,r),m(i.TU)&&(i.TU=!1),m(i.vU)&&(i.vU=2),m(i.yU)&&(i.yU=!1),m(i.IU)&&(i.IU=!0),i.yU&&(i.EU=n),a(i,e,i.vU)}function n(e,t){var r=i.SU[t];return r?"["+i.yU[r][0]+"m"+e+"["+i.yU[r][1]+"m":e}function s(e,t){return e}function o(e){var t={};return e.forEach(function(e,r){t[e]=!0}),t}function a(e,r,i){if(e.IU&&r&&b(r.Is)&&r.Is!==t.Is&&(!r.constructor||r.constructor.prototype!==r)){var n=r.Is(i,e);return y(n)||(n=a(e,n,i)),n}var s=h(e,r);if(s)return s;var f=Object.keys(r),g=o(f);if(e.TU&&(f=Object.getOwnPropertyNames(r)),w(r)&&(f.indexOf("message")>=0||f.indexOf("description")>=0))return c(r);if(0===f.length){if(b(r)){var E=r.name?": "+r.name:"";return e.EU("[Function"+E+"]","special")}if(I(r))return e.EU(RegExp.prototype.toString.call(r),"regexp");if(R(r))return e.EU(Date.prototype.toString.call(r),"date");if(w(r))return c(r)}var v="",T=!1,m=["{","}"];if(d(r)&&(T=!0,m=["[","]"]),b(r)){v=" [Function"+(r.name?": "+r.name:"")+"]"}if(I(r)&&(v=" "+RegExp.prototype.toString.call(r)),R(r)&&(v=" "+Date.prototype.toUTCString.call(r)),w(r)&&(v=" "+c(r)),0===f.length&&(!T||0==r.length))return m[0]+v+m[1];if(i<0)return I(r)?e.EU(RegExp.prototype.toString.call(r),"regexp"):e.EU("[Object]","special");e.gU.push(r);var S;return S=T?u(e,r,i,g,f):f.map(function(t){return l(e,r,i,g,t,T)}),e.gU.pop(),p(S,v,m)}function h(e,t){if(m(t))return e.EU("undefined","undefined");if(y(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.EU(r,"string")}return v(t)?e.EU(""+t,"number"):f(t)?e.EU(""+t,"boolean"):g(t)?e.EU("null","null"):void 0}function c(e){return"["+Error.prototype.toString.call(e)+"]"}function u(e,t,r,i,n){for(var s=[],o=0,a=t.length;o<a;++o)O(t,String(o))?s.push(l(e,t,r,i,String(o),!0)):s.push("");return n.forEach(function(n){n.match(/^\d+$/)||s.push(l(e,t,r,i,n,!0))}),s}function l(e,t,r,i,n,s){var o,h,c;if(c=Object.getOwnPropertyDescriptor(t,n)||{value:t[n]},c.get?h=c.set?e.EU("[Getter/Setter]","special"):e.EU("[Getter]","special"):c.set&&(h=e.EU("[Setter]","special")),O(i,n)||(o="["+n+"]"),h||(e.gU.indexOf(c.value)<0?(h=g(r)?a(e,c.value,null):a(e,c.value,r-1),h.indexOf("\n")>-1&&(h=s?h.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+h.split("\n").map(function(e){return"   "+e}).join("\n"))):h=e.EU("[Circular]","special")),m(o)){if(s&&n.match(/^\d+$/))return h;o=JSON.stringify(""+n),o.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=e.EU(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.EU(o,"string"))}return o+": "+h}function p(e,t,r){var i=0;return e.reduce(function(e,t){return i++,t.indexOf("\n")>=0&&i++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}function d(e){return Array.isArray(e)}function f(e){return"boolean"==typeof e}function g(e){return null===e}function E(e){return null==e}function v(e){return"number"==typeof e}function y(e){return"string"==typeof e}function T(e){return"symbol"==typeof e}function m(e){return void 0===e}function I(e){return S(e)&&"[object RegExp]"===_(e)}function S(e){return"object"==typeof e&&null!==e}function R(e){return S(e)&&"[object Date]"===_(e)}function w(e){return S(e)&&("[object Error]"===_(e)||e instanceof Error)}function b(e){return"function"==typeof e}function C(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function _(e){return Object.prototype.toString.call(e)}function P(e){return e<10?"0"+e.toString(10):e.toString(10)}function A(){var e=new Date,t=[P(e.getHours()),P(e.getMinutes()),P(e.getSeconds())].join(":");return[e.getDate(),L[e.getMonth()],t].join(" ")}function O(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var N=/%[sdj%]/g;t.format=function(e){if(!y(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(i(arguments[r]));return t.join(" ")}for(var r=1,n=arguments,s=n.length,o=String(e).replace(N,function(e){if("%%"===e)return"%";if(r>=s)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}}),a=n[r];r<s;a=n[++r])g(a)||!S(a)?o+=" "+a:o+=" "+i(a);return o},t.qF=function(e,r){function i(){if(!n){if(process.RU)throw new Error(r);process.wU?console.trace(r):console.error(r),n=!0}return e.apply(this,arguments)}if(m(global.process))return function(){return t.qF(e,r).apply(this,arguments)};if(!0===process.bU)return e;var n=!1;return i};var D,k={};t.CU=function(e){if(m(D)&&(D=process.Ms._U||""),e=e.toUpperCase(),!k[e])if(new RegExp("\\b"+e+"\\b","i").test(D)){var r=process.PU;k[e]=function(){var i=t.format.apply(t,arguments);console.error("%s %d: %s",e,r,i)}}else k[e]=function(){};return k[e]},t.Is=i,i.yU={bold:[1,22],AU:[3,23],OU:[4,24],inverse:[7,27],NU:[37,39],DU:[90,39],kU:[30,39],blue:[34,39],LU:[36,39],green:[32,39],MU:[35,39],red:[31,39],FU:[33,39]},i.SU={UU:"cyan",number:"yellow",BU:"yellow",undefined:"grey",HU:"bold",string:"green",_m:"magenta",xU:"red"},t.isArray=d,t.Ey=f,t.yy=g,t.sL=E,t.Ty=v,t.my=y,t.qU=T,t.Iy=m,t.GU=I,t.au=S,t.VU=R,t.jU=w,t.vy=b,t.QU=C,t.isBuffer=r(107);var L=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];t.log=function(){console.log("%s - %s",A(),t.format.apply(t,arguments))},t.vb=r(108),t.mU=function(e,t){if(!t||!S(t))return e;for(var r=Object.keys(t),i=r.length;i--;)e[r[i]]=t[r[i]];return e}},function(e,t,r){"use strict";var i=r(18),n=r(3),s=r(33);r(114),r(115);var o=r(0),a=r(8),h=r(27),c=r(23),u=r(19),l=r(14),p=r(1),d=r(18);!function(e){var t=function(){function e(){this.metrics=new hive.snapshots.Metrics,this.KU=new hive.snapshots.Traffic,this.YU=new n,this.WU=new n,this.zU=new n,this.player=new hive.snapshots.Player}return e}();e.JU=t;var r=function(){function t(){this.ticket=null,this.XU=0,this.ZU=0,this.testId=null,this.$U()}return t.prototype.init=function(e,t,r,i){this.logger=o.Framework.resolve(o.Framework.V.R).log(i),this.ud=o.Framework.resolve(a.pc.sc),this.logger.debug("[SNAP] INIT STATS STORE - ID: "+e),this.gd=e,this.ticket=t,this.Vl(r)},t.prototype.NL=function(e){this.testId=e},t.prototype.eB=function(e){this.tB=e},t.prototype.Vl=function(e){this.app=e},t.prototype.rB=function(e){this.yD=e},t.prototype.$U=function(){this.iB=new e.JU,this.gd=null,this.ticket=null,this.reset()},t.prototype.reset=function(){this.FL=new e.JU,this.nB(this.FL.KU),this.sB(this.FL)},t.prototype.nB=function(e){e.reqN=0,e.respFallbackN=0,e.respFallbackErrN=0,e.respP2pN=0,e.reqOtherN=0,e.respFallbackOtherN=0,e.respFallbackOthertErrN=0,e.srcReqN=0,e.srcRespN=0,e.srcRespErrN=0,e.srcReqQt=0,e.srcRespQt=0,e.srcOverQt=0,e.srcOtherReqN=0,e.srcOtherRespN=0,e.srcOtherRespErrN=0,e.srcOtherReqQt=0,e.srcOtherRespQt=0,e.srcOtherOverQt=0,e.p2pSubReqN=0,e.p2pSubRespN=0,e.p2pSubRespPartN=0,e.p2pSubRespErrN=0,e.p2pSubRespExpN=0,e.p2pSubReqQt=0,e.p2pSubRespQt=0,e.p2pDirectQt=0,e.p2pRelayQt=0,e.p2pNatQt=0,e.p2pUdpbQt=0,e.fallAgentRespN=0,e.fallAgentPredHitN=0,e.fallAgentFailedRespN=0,e.fallAgenTrafficSuccessQt=0,e.p2pAgentPredHitN=0,e.p2pAgentPredMissN=0,e.p2pAgentPredPartialHitN=0,e.p2pAgenTrafficSuccessQt=0,e.p2pAgenTrafficFailureQt=0},t.prototype.sB=function(e){e.metrics.videoBufN=0,e.metrics.videoBufQt=0,e.metrics.clientBufferMs=0,e.metrics.lookupNotFound=0,e.metrics.lookupTotal=0,e.metrics.lookupLatency=0,e.metrics.lookupReqAccept=0,e.metrics.lookupReqEstablished=0,e.metrics.lookupFailed=0,e.player.bufferingN=0,e.player.bufferingMs=0},t.prototype.xc=function(e){var t=this;void 0===e&&(e=!0);var r=new hive.snapshots.MetricSnapshot;r.timestamp=o.Framework.time(),r.guid=this.gd,r.sessionId=this.ticket.sessionId,r.eventId=new EventId,r.eventId.partnerId=this.ticket.up(),r.eventId.customerId=this.ticket.cp(),r.eventId.contentId=this.ticket.hp();try{var n=new hive.snapshots.ClientInfo;n.clientType=this.oB();var s=this.app.version.split(".");if(n.majorVersion=parseInt(s[0]),n.minorVersion=parseInt(s[1]),n.patchVersion=parseInt(s[2]),r.client=n,null!=this.testId){var a=new TestInfo;a.testId=this.testId,r.aB=a}}catch(e){this.logger.warn("[SNAP] error setting Snapshot ClientInfo",e)}if(this.yD){var h=new hive.snapshots.AgentInfo;h.firstTierBitrates=this.yD.hB(),h.secondTierBitrates=this.yD.cB(),r.agentInfo=h}r.streamInfo=this.OL.uB(),r.traffic=[];var c=new hive.snapshots.TrafficKey;if(r.traffic.push({key:c,value:this.FL.KU}),this.FL.YU.forEach(function(e,t){var i=new hive.snapshots.TrafficKey;i.bitrate=t,r.traffic.push({key:i,value:e})}),r.metrics=this.FL.metrics,this.tB&&(r.metrics.clientBufferMs=this.tB.min()),r.player=this.FL.player,this.lB){var u=this.lB.pB();this.FL.metrics.prtOutN=u.dB+u.fB,this.FL.metrics.prtInN=u.gB+u.EB;var l=this.lB.vB();l.forEach(function(e,i){t.yB(i,e,r)}),this.FL.zU.filter(function(e,t){return!l.has(t)}).forEach(function(e,i){t.yB(i,e,r)})}return r.connInfo=new hive.snapshots.ConnectivityInfo,e?this.ud.getConnectivityInfo().then(function(e){return r.connInfo.privateIp=i.kl.getPrivateIp(e.getNetworkChanged()),t.TB(t.mB(r))}).fail(function(e){return t.TB(t.mB(r))}):(r.connInfo.privateIp=i.kl.getPrivateIp(this.ud.Md().getNetworkChanged()),this.TB(r))},t.prototype.mB=function(e){return e.connInfo.internalAs=this.XU,e.connInfo.externalAs=this.ZU,e.connInfo.publicIp=this.IB,e},t.prototype.TB=function(e,t){void 0===t&&(t=[]);var r=d.ml(e,"snapshot");return r.length&&p.ErrorMonitor.ve().logError("NaN found in MetricSnapshot","[SNAP]",{keysWithNaN:r,snapshot:e}),t.length=0,t.push.apply(t,r),e},t.prototype.oB=function(){var e;switch(this.app.app){case"JS":e=ClientType.SB;break;case"PROXY":e=ClientType.RB;break;default:e=ClientType.wB}return e},t.prototype.yB=function(e,t,r){var i=this.FL.WU.get(e);t.traffic=i,r.partners||(r.partners=[]);var n=new hive.snapshots.PartnerKey;n.partnerGuid=e,r.partners.push({key:n,value:t})},t.prototype.wL=function(e,t){e>0&&(this.FL.metrics.videoBufN++,this.FL.metrics.videoBufQt+=e,this.FL.player.bufferingN++,this.FL.player.bufferingMs+=e),this.FL.player.playerBufferMs=t},t.prototype.xL=function(){return this.FL.KU},t.prototype.bB=function(){return this.iB.KU},t.prototype.CB=function(e){return this.iB.YU.has(e)||this.iB.YU.set(e,new hive.snapshots.Traffic),this.iB.YU.get(e)},t.prototype.BL=function(e){if(!this.FL.YU.has(e)){var t=new hive.snapshots.Traffic;this.nB(t),this.FL.YU.set(e,t)}return this.FL.YU.get(e)},t.prototype._B=function(){var e=new hive.snapshots.PartnerTraffic;return e.p2pSuccReq=0,e.p2pFailReq=0,e.p2pPartReq=0,e.p2pSuccReceived=0,e.p2pSuccReceivedLow=0,e.p2pFailReceived=0,e.p2pSuccResp=0,e.p2pFailResp=0,e.p2pPartResp=0,e.p2pSuccSent=0,e.p2pSuccSentLow=0,e.p2pFailSent=0,e},t.prototype.PB=function(e,t){return t.WU.has(e)||t.WU.set(e,this._B()),t.WU.get(e)},t.prototype.AB=function(e){return this.PB(e,this.FL)},t.prototype.OB=function(e){return this.PB(e,this.iB)},t.prototype.NB=function(e){this.ud=e},t.prototype.DB=function(e){this.lB=e},t.prototype.Ud=function(e){},t}();e.ZF=r;var f=function(){function e(){this.kB=isNaN(l.HiveConfig.DebugLogs.MetricSnapshotLogs)?0:l.HiveConfig.DebugLogs.MetricSnapshotLogs,this.state=u.Ml.Ll,this.client=o.Framework.resolve(a.pc.G),this.yg=new s.Yb,this.protocol=new s.bC(this.yg)}return e.prototype.init=function(e,t){this.logger=o.Framework.resolve(o.Framework.V.R).log(t),this.logger.debug("[SNAP] INIT CLIENT STATS"),this.fs=e,this.LB()},e.prototype.LB=function(){var e=this;this.MB>-1&&o.Framework.clearInterval(this.MB),this.MB=o.Framework.setInterval(function(){e.snapshot()},h.Gd.qd.PE)},e.prototype.nl=function(e){this.state=e},e.prototype.IL=function(){if(this.fs)return this.snapshot(!1)},e.prototype.reset=function(e){o.Framework.clearInterval(this.MB),this.fs&&(!1===e?this.fs.reset():this.fs.$U())},e.prototype.snapshot=function(e){var t=this;void 0===e&&(e=!0);var r=this.fs.xc(e);e?(this.logger.debug("[SNAP] TAKING SNAPSHOT"),r.then(function(e){return t.forward(e)}).fail(function(e){t.logger.warn("[SNAP] ERROR FORWARDING SNAPSHOT",e)}).finally(function(){t.fs.reset()})):(this.logger.debug("[SNAP] FLUSHING SNAPSHOT"),this.forward(r))},e.prototype.forward=function(e){var t=this;if(this.state===u.Ml.IDLE||this.state===u.Ml.STOP)return void this.logger.debug("[SNAP] not send - state "+u.Ml[this.state]);if(this.client&&this.client.zd()){switch(this.kB){case 0:default:this.logger.debug("[SNAP] SENDING SNAPSHOT");break;case 1:this.logger.debug("[SNAP] SENDING SNAPSHOT "+JSON.stringify(e));break;case 2:this.logger.debug("[SNAP] SENDING SNAPSHOT",e);break;case 3:this.logger.debug("[SNAP] SENDING SNAPSHOT "+JSON.stringify(e),e)}this.protocol.AC("SNAPSHOT",s.gb.ONEWAY,0),e.write(this.protocol),this.protocol.DC();var r=this.yg.pC(),i=this.FB(r,",",4),n=r.slice(i+1,r.length-1),o=new c.Jd(Services.Xd,1,n);this.client.zd().send(o).fail(function(e){t.logger.warn("[SNAP] PROBLEM: ",e)})}},e.prototype.FB=function(e,t,r){return e.split(t,r).join(t).length},e}();e.ql=f}(t.Stats||(t.Stats={}))},function(e,t,r){"use strict";var i=r(4),n=r(30),s=r(116),o=r(0),a=r(27),h=r(23),c=r(6),u=c.he.gh,l=function(){function e(){this.logger=o.Framework.resolve(o.Framework.V.R).log(),this.logger.debug("INIT SERVICE CLIENT")}return e.prototype.init=function(e,t){var r=this;if(this.UB)this.UB.then(function(){var e={partnerId:t.up(),customerId:t.cp(),contentId:t.hp(),secret:t.CN()},i=new h.Jd(Services.BB,1,JSON.stringify(e));r.connection.send(i)});else{var o=i.defer(),c=a.Gd.qd.bE;t.bN&&(u?c=a.Gd.qd.CE:(this.logger.warn("[HiveComm] Error trying to resolve test ticket against production services - use production ticket or test plugin"),o.reject(new Error("test ticket in production"))));var l=new n(c),p=l.Sw({"connection-id":e,partner_id:t.up(),customer_id:t.cp(),content_id:t.hp(),ticket:t.CN()}).toString();this.connection=new s.HB(p,a.Gd.qd.AE,a.Gd.qd.OE,a.Gd.qd.NE),this.connection.xB(function(){r.logger.debug("HIVE SERVICES CONNECTED"),o.resolve(r.connection)}),this.connection.onerror(function(){r.logger.warn("Hive Services Connection failed"),o.reject(r.connection)}),this.UB=o.Ss}return{np:this.connection,Ss:this.UB}},e.prototype.connect=function(){this.connection&&this.connection.connect(!0)},e.prototype.SD=function(e){},e.prototype.zd=function(){return this.connection},e.prototype.close=function(){this.connection&&(this.UB=null,this.connection.close(!1))},e}();t.qB=l},function(e,t,r){"use strict";r(117);var i=r(4),n=r(3),s=r(0),o=r(46),a=function(){function e(e){this.ef=(new Date).getTime(),this.GB=e}return e}(),h=function(){function e(){this.VB=new n,this.logger=(s.Framework.resolve(s.Framework.V.R)||console).log(),this.logger.debug("INIT TICKET RESOLVER")}return e.prototype.resolve=function(e,t,r){var n=this,s=i.defer();return e&&(e.on(Services.BB,0,function(e){n.jB(e)}),e.on(Services.BB,2,function(e){n.jB(e)}),this.VB.set(t,new a(s))),s.Ss},e.prototype.jB=function(e){var t=this,r=(new Date).getTime(),i=JSON.parse(e.msg),n=!1;this.VB.forEach(function(e,s){if(t.QB(s,i)){n=!0;var o=t.KB(s,i);o?(o.ef=e.ef,o.rf=r,e.GB.resolve(o)):e.GB.reject("Ticket verification failed"),t.VB.delete(o)}}),n||this.logger.warn("no pending ticket matching: "+e.msg)},e.prototype.$l=function(e){if(new RegExp("^https?://api(?:-test)?.hivestreaming.com/v1/events/(?:wildcard/)?").test(e)){var t=this.YB();return t.RN(e),t}return null},e.prototype.YB=function(){return new o.BN},e.prototype.QB=function(e,t){return e.up()===t[o.BN.FN]&&e.cp()===t[o.BN.MN]&&e.hp()===t[o.BN.UN]},e.prototype.KB=function(e,t){return e.mN(t),e.SN()?e:null},e}();t.WB=h},function(e,t,r){/*! uuid.js
 * Copyright (c) 2010-2012 Robert Kieffer
 * MIT License - http://opensource.org/licenses/mit-license.php
 */
!function(t){"use strict";function i(e,t,r){var i=t&&r||0,n=0;for(t=t||[],e.toLowerCase().replace(/[0-9a-f]{2}/g,function(e){n<16&&(t[i+n++]=f[e])});n<16;)t[i+n++]=0;return t}function n(e,t){var r=t||0,i=d;return i[e[r++]]+i[e[r++]]+i[e[r++]]+i[e[r++]]+"-"+i[e[r++]]+i[e[r++]]+"-"+i[e[r++]]+i[e[r++]]+"-"+i[e[r++]]+i[e[r++]]+"-"+i[e[r++]]+i[e[r++]]+i[e[r++]]+i[e[r++]]+i[e[r++]]+i[e[r++]]}function s(e,t,r){var i=t&&r||0,s=t||[];e=e||{};var o=null!=e.zB?e.zB:y,a=null!=e.JB?e.JB:(new Date).getTime(),h=null!=e.XB?e.XB:m+1,c=a-T+(h-m)/1e4;if(c<0&&null==e.zB&&(o=o+1&16383),(c<0||a>T)&&null==e.XB&&(h=0),h>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");T=a,m=h,y=o,a+=122192928e5;var u=(1e4*(268435455&a)+h)%4294967296;s[i++]=u>>>24&255,s[i++]=u>>>16&255,s[i++]=u>>>8&255,s[i++]=255&u;var l=a/4294967296*1e4&268435455;s[i++]=l>>>8&255,s[i++]=255&l,s[i++]=l>>>24&15|16,s[i++]=l>>>16&255,s[i++]=o>>>8|128,s[i++]=255&o;for(var p=e.ZB||v,d=0;d<6;d++)s[i+d]=p[d];return t||n(s)}function o(e,t,r){var i=t&&r||0;"string"==typeof e&&(t="binary"===e?new p(16):null,e=null),e=e||{};var s=e.random||(e.$B||a)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t)for(var o=0;o<16;o++)t[i+o]=s[o];return t||n(s)}var a,h,c,u,l;t?function(){var e=t.crypto||t.msCrypto;if(!a&&e&&e.getRandomValues)try{var r=new Uint8Array(16);u=a=function(){return e.getRandomValues(r),r},a()}catch(e){}if(!a){var i=new Array(16);h=a=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i},"undefined"!=typeof console&&console.warn&&console.warn("[SECURITY] node-uuid: crypto not usable, falling back to insecure Math.random()")}}():function(){try{var e=r(118).eH;c=a=e&&function(){return e(16)},a()}catch(e){}}();for(var p="function"==typeof Buffer?Buffer:Array,d=[],f={},g=0;g<256;g++)d[g]=(g+256).toString(16).substr(1),f[d[g]]=g;var E=a(),v=[1|E[0],E[1],E[2],E[3],E[4],E[5]],y=16383&(E[6]<<8|E[7]),T=0,m=0,I=o;I.tH=s,I.ON=o,I.parse=i,I.rH=n,I.iH=p,I.nH=a,I.sH=h,I.oH=c,I.aH=u,void 0!==e&&e.i?e.i=I:(l=t.uuid,I.wo=function(){return t.uuid=l,I},t.uuid=I)}("undefined"!=typeof window?window:null)},function(e,t,r){"use strict";var i=this&&this.hu||function(e,t){function r(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=r(4),s=r(78),o=r(0),a=r(27),h=r(119),c=function(){function e(){this.hH="IdentityStore",this.cH="IdentityDB",this.gd=null,this.indexedDB=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,o.Framework&&o.Framework.resolve(o.Framework.V.R)?this.logger=o.Framework.resolve(o.Framework.V.R).log():this.logger=console}return e.prototype.uH=function(){var e=this,t=n.defer(),r=indexedDB.open(this.cH);return r.onupgradeneeded=function(){var t=r.result;t.createObjectStore(e.hH,{keyPath:"id"})},r.onsuccess=function(){var e=r.result;t.resolve(e)},r.onerror=function(e){t.reject(e)},t.Ss},e.prototype.Zl=function(){var e=this;if(this.lH)return this.lH;var t=n.defer();if(this.gd)t.resolve(new h.pH(this.gd));else if(a.Gd.Eh&&this.indexedDB){var r=setTimeout(function(){e.logger.warn("[HiveComm] timeout retrieving persistent ID - generating random one"),e.gd=e.dH(),e.logger.debug("[HiveComm] Generated UUID: "+e.gd),t.resolve(new h.pH(e.gd))},4e3);try{var i=this.uH();i.then(function(i){var n=i.transaction(e.hH,"readwrite"),s=n.objectStore(e.hH),o=s.get("MYID");o.onsuccess=function(){if(clearTimeout(r),e.gd)t.resolve(new h.pH(e.gd));else if(null!=o.result&&a.Gd.Eh){var n=o.result.value;e.logger.debug("[HiveComm] Retrieved persistent UUID: "+n),e.gd=n,i.close(),t.resolve(new h.pH(e.gd))}else{var s=e.dH();e.fH(i,s),t.resolve(new h.pH(e.gd))}},o.onerror=function(i){clearTimeout(r),e.gd||(e.logger.warn("[HiveComm] error retrieving persistent UUID: "+i),e.gd=e.dH(),e.logger.debug("[HiveComm] Generated UUID: "+e.gd)),t.resolve(new h.pH(e.gd))}}).fail(function(i){clearTimeout(r),e.gd||(e.logger.warn("[HiveComm] error opening indexedDB - generating random id. Error: "+i),e.gd=e.dH(),e.logger.debug("[HiveComm] Generated UUID: "+e.gd)),t.resolve(new h.pH(e.gd))})}catch(e){this.gd=this.dH(),this.logger.debug("[HiveComm] Persistence error - Generate UUID: "+this.gd,e),t.resolve(new h.pH(this.gd))}}else this.gd=this.dH(),this.logger.debug("[HiveComm] Persistence disabled - Generate UUID: "+this.gd),t.resolve(new h.pH(this.gd));return this.lH=t.Ss,this.lH},e.prototype.fH=function(e,t){var r=this,i=e.transaction(this.hH,"readwrite");i.objectStore(this.hH).put({id:"MYID",value:t}),i.oncomplete=function(){r.logger.debug("[HiveComm] completed UUID persistence"),e.close()},this.logger.debug("[HiveComm] Generated UUID: "+t),this.gd=t},e.prototype.dH=function(){return s.ON()},e}();t.gH=c;var u=function(e){function t(){return e.call(this)||this}return i(t,e),t.prototype.Zl=function(){var t=this;if(this.EH)return this.EH;var r=n.defer();return e.prototype.Zl.call(this).then(function(e){var i=t.dH(),n=e.rp(),s=new h.pH(i,n);r.resolve(s)}).fail(function(e){var i=t.dH(),n=new h.pH(i);r.resolve(n)}),this.EH=r.Ss,this.EH},t}(c);t.vH=u},function(e,t,r){"use strict";var i=function(){function e(){}return e.prototype.yH=function(e){this.hostname=e},e.prototype.getHostName=function(){return this.hostname},e.prototype.TH=function(e){this.mH=e},e.prototype.getNetworkChanged=function(){return this.mH},e}();t.IH=i},function(e,t,r){"use strict";var i=r(4),n=r(0),s=r(8),o=r(120),a=r(1),h=function(){function e(){this.loggerId="[PreloadConnectivityInfoProvider] ",this.connInfo=window.myConnInfo,this.logger=n.Framework.resolve(n.Framework.V.R).log(),this.SH=n.Framework.resolve(s.pc.oc),this.connInfo||a.ErrorMonitor.ve().logError("helper undefined",this.loggerId),this.RH()}return e.prototype.RH=function(){var e=new o.wH;this.SH.TH(e)},e.prototype.Md=function(){return this.SH},e.prototype.getConnectivityInfo=function(){var e=this;if(!this.connInfo)return i.reject("ConnInfo helper undefined");var t=setTimeout(function(){return e.logger.warn(e.loggerId+"Get connectivity info expired"),e.SH?i.resolve(e.SH):i.reject("expired")},2e3);try{return this.connInfo.getConnectivityInfo().then(function(r){return clearTimeout(t),e.SH=r,r}).fail(function(t){return e.logger.debug(e.loggerId+" get connectivity info failed with error 1: ",t),e.SH?e.SH:i.reject(t)})}catch(e){return this.logger.debug(this.loggerId+" get connectivity info failed with error 2:",e),i.reject(e)}},e.prototype.bH=function(e,t,r){},e}();t.CH=h},function(e,t,r){"use strict";var i=function(){function e(){}return e.prototype._H=function(e){this.publicIp=e},e.prototype.getPublicIp=function(){return this.publicIp},e.prototype.PH=function(e){this.AH=e},e.prototype.getMacAddress=function(){return this.AH},e.prototype.OH=function(e){this.nic=e},e.prototype.getNic=function(){return this.nic},e.prototype.NH=function(e){this.nicName=e},e.prototype.getNicName=function(){return this.nicName},e.prototype.DH=function(e){this.privateIp=e},e.prototype.getPrivateIp=function(){return this.privateIp},e.prototype.kH=function(e){this.netmask=e},e.prototype.getNetmask=function(){return this.netmask},e.prototype.LH=function(e){this.MH=e},e.prototype.getCidr=function(){return null},e}();t.FH=i},function(e,t,r){"use strict";var i=r(4),n=r(3),s=r(0),o=r(8),a=r(82),h=r(121),c=r(14),u=r(27),l=r(55),p=function(){function e(){this.UH=null,this.BH=null,this.HH=null,this.xH=null,this.qH=new n,this.publicIp=null,this.GH=[],this.ll=!1,this.VH=null,this.logger=s.Framework.resolve(s.Framework.V.R).log(),this.SH=s.Framework.resolve(o.pc.oc),this.jH=new h.QH,this.KH=[],this.RH(),this.YH()}return e.prototype.RH=function(){var e=new a.FH;this.SH.TH(e)},e.prototype.YH=function(){var e=this;s.Framework.setInterval(function(){e.GH=[],e.KH=[],e.qH=new n,e.publicIp=null,e.WH=null},12e4)},e.prototype.getConnectivityInfo=function(){return this.WH||(this.WH=this.zH()),this.WH},e.prototype.Md=function(){return this.SH},e.prototype.zH=function(){var e=this,t=i.defer();if(this.VH=s.Framework.setTimeout(function(){t.reject({JH:!0,message:"expired"})},4e3),c.HiveConfig.ConnInfo.detectPrivateIP&&this.XH())try{this.UH=new RTCPeerConnection(null),this.HH=this.UH.createDataChannel("sendChannel",{reliable:!1}),this.BH=new RTCPeerConnection(null),this.BH.ondatachannel=function(r){e.xH=r.channel,e.xH.onopen=function(r){"open"===e.xH.readyState&&(e.logger.debug("Collected ips ["+e.qH.keys().join(", ")+"]"),e.BH.close(),e.jH.ZH().then(function(t){e.KH=t,e.logger.debug("Already known matching ips ["+e.KH.join(",")+"]");var r=e.qH.keys();e.KH.forEach(function(t){r.indexOf(t)>0&&(e.GH.push(t),e.qH.delete(t))}),e.qH.keys().forEach(function(t){e.GH.push(t)})}).fail(function(t){e.logger.warn("Get Previous working ips failed with error "+t.message),e.qH.keys().forEach(function(t){e.GH.push(t)})}).finally(function(){e.logger.debug("Final private ip list ["+e.GH.join(",")+"]"),t.resolve(e.$H())}))}},this.UH.onicecandidate=function(r){r.candidate&&e.ex(r.candidate.candidate),!r.candidate||e.BH.addIceCandidate(r.candidate).catch(function(r){t.reject({JH:!0,message:r.message}),s.Framework.clearTimeout(e.VH),console.log("Error: Failure during addIceCandidate()")})},this.BH.onicecandidate=function(r){r.candidate&&e.ex(r.candidate.candidate),!r.candidate||e.UH.addIceCandidate(r.candidate).catch(function(r){t.reject({JH:!0,message:r.message}),s.Framework.clearTimeout(e.VH),console.log("Error: Failure during addIceCandidate()")})},this.UH.createOffer().then(function(t){return e.UH.setLocalDescription(t)}).then(function(){return e.BH.setRemoteDescription(e.UH.localDescription)}).then(function(){return e.BH.createAnswer()}).then(function(t){return e.BH.setLocalDescription(t)}).then(function(){return e.UH.setRemoteDescription(e.BH.localDescription)}).catch(function(r){t.reject({JH:!0,message:r.message}),s.Framework.clearTimeout(e.VH),console.log("Error: Failure creating offer")})}catch(e){t.reject({JH:!0,message:e.message})}else{s.Framework.clearTimeout(this.VH);var r=c.HiveConfig.ConnInfo.detectPrivateIP?"webrtc datachannel not supported":"private IP detection disabled";t.reject({JH:!1,message:r})}return t.Ss},e.prototype.XH=function(){try{return null!=l.Vu&&null!=l.hL&&"function"==typeof new RTCPeerConnection(null,null).createDataChannel}catch(e){return!1}},e.prototype.ex=function(e){var t=/([0-9]{1,3}(\.[0-9]{1,3}){3})/,r=t.exec(e);if(r){var i=r[0];this.qH.set(i,!0)}},e.prototype.$H=function(){var e=new a.FH;return this.GH.length>0&&e.DH(this.GH[0]),this.publicIp&&e._H(this.publicIp),this.SH.TH(e),this.SH},e.prototype.bH=function(e,t,r){if(this.publicIp=e,this.tx(),0===r&&this.GH.length>1)this.GH.shift();else if(u.Gd._h&&0!==r&&-1==this.KH.indexOf(this.GH[0]))this.KH.unshift(this.GH[0]),this.jH.ix(this.KH.slice(0,2));else if(u.Gd._h&&0!==r&&this.KH.indexOf(this.GH[0])>0){var i=this.KH.indexOf(this.GH[0]);this.KH=this.KH.splice(i,1),this.KH.unshift(this.GH[0]),this.jH.ix(this.KH.slice(0,2))}this.$H()},e.prototype.tx=function(){var e=this.GH.indexOf(this.publicIp);e>-1&&this.GH.splice(e,1)},e}();t.nx=p},function(e,t,r){"use strict";var i=r(7),n=r(24),s=r(9),o=r(0),a=r(5),h=r(2),c=r(1),u=function(){function e(){this.loggerId="[TIMER HANDLER] ",this.sx=new i.rc.Vh,this.ox=new i.rc.Vh,this.logger=o.Framework.resolve(o.Framework.V.R).log()}return e.prototype.ax=function(e,t){try{var r=0,i=-1,s=e.zf.duration;this.sx.kh()?i=Math.max(10,this.sx.Bh(t)):this.ox.kh()&&(i=Math.max(10,this.ox.Bh(t))),r=i>-1?Math.max(0,s-i*a.hh.Qo.jo):s/2,e.type==n.bf.wf&&(r*=2);var o=Math.max(this.hx(),r);return this.logger.debug("TIMER DETAILS duration: "+s+" left: "+t+" downTime: "+i+" fallAvg: "+this.sx.Gh()+" timer: "+o),o}catch(e){return c.ErrorMonitor.ve().logError("Error calculating the p2p timeout",this.loggerId,h.hs.Ii.Ti,e),0}},e.prototype.ux=function(e,t){return 5e3},e.prototype.lx=function(e){try{return this.sx.kh()?Math.min(this.sx.Bh(e),this.px()):this.gx()}catch(e){return c.ErrorMonitor.ve().logError("Error calculating the delivery delay",this.loggerId,h.hs.Ii.mi,e),this.gx()}},e.prototype._M=function(e){if(e.Xf()===s.vc.fc)switch(e.Jf()){case n.bf.mf:case n.bf.Tf:case n.bf.If:this.sx.Uh(e.ag());break;case n.bf.Rf:case n.bf.wf:this.ox.Uh(e.ag())}},e.prototype.hx=function(){return e.Ex},e.prototype.gx=function(){return e.vx},e.prototype.px=function(){return e.yx},e}();u.Ex=500,u.yx=1500,u.vx=500,t.Tx=u},function(e,t,r){"use strict";var i=r(3),n=r(48);r(144),r(146);var s=r(86),o=r(0),a=r(147),h=r(9),c=r(61),u=r(148),l=r(149),p=r(57),d=r(14),f=r(1),g=r(2),E=function(){function e(e){this.loggerId="[DASH METADATA] ",this.isLive=!1,this.logger=o.Framework&&o.Framework.resolve(o.Framework.V.R)?o.Framework.resolve(o.Framework.V.R).log(e):console,this.mx=new DashParser,this.reset()}return e.prototype.Ix=function(e){var t="";return-1!==e.indexOf("/")&&(-1!==e.indexOf("?")&&(e=e.substring(0,e.indexOf("?"))),t=e.substring(0,e.lastIndexOf("/")+1)),t},e.prototype.pM=function(){return this.isLive},e.prototype.lM=function(){return this.Sx.values().map(function(e){return e.bandwidth})},e.prototype.reset=function(){this.Sx=new i},e.prototype.Rx=function(){return this.wx},e.prototype.parse=function(t,r,i){try{this.reset(),this.IM=t,this.bx(t,r),this.isLive="static"!==this.manifest.type;for(var n=this.manifest.BaseURL,s=this.manifest.Period_asArray[0],o=s.AdaptationSet_asArray,c=0;c<o.length;c++){var u=s.AdaptationSet[c],l=-1!=u.mimeType.indexOf("audio")?h.vc.dc:h.vc.fc;l===h.vc.fc&&u.ContentProtection&&this.Cx(u.ContentProtection);for(var p=u.SegmentTemplate.initialization,d=u.SegmentTemplate.media,E=parseInt(u.SegmentTemplate.timescale),v=0;v<u.Representation_asArray.length;v++){var y=u.Representation_asArray[v],T=new a._x;T.type=l,T.bandwidth=parseInt(y.bandwidth),T.timescale=E,T.Px=y.id,T.initialization=n+""+p,T.initialization=T.initialization.replace(e.Ax,""+T.bandwidth),T.initialization=T.initialization.replace(e.Ox,""+T.Px),i||this.logger.debug("QualityLevel "+h.vc[l]+" "+T.bandwidth);var m=n+""+d;m=m.replace(e.Ax,""+T.bandwidth),m=m.replace(e.Ox,""+T.Px),T.Nx=m;var I=parseInt(T.bandwidth+""),S=this.Dx(u.SegmentTemplate.SegmentTimeline_asArray[0].S_asArray,m,I,l);T.kx=S.Lx,T.Mx=S.Fx;var R=this.Ux(m);this.Sx.set(R,T)}}return this.wx=!0,this.Bx(r,i)}catch(e){throw f.ErrorMonitor.ve().logError("Error parsing the metadata",this.loggerId,g.hs.ui.Wr,e),this.wx=!1,new Error(e)}},e.prototype.Dx=function(t,r,i,s){try{var o,a=new n,h=new n,u=0,l=0;return t.forEach(function(t){if(t.d){t.t?u=parseInt(t.t):u+=l;var n=parseInt(t.d),p=r.replace(e.Hx,u+""),d=new c.DF(u,i,n,p,p);d.type=s,o&&(o.next=d),a.set(p,d),h.set(u,d),o=d;var f=0;t.r&&(f=parseInt(t.r));for(var g=0;g<f;g++){u+=n;var p=r.replace(e.Hx,u+""),d=new c.DF(u,i,n,p,p);d.type=s,o&&(o.next=d),a.set(p,d),h.set(u,d),o=d}l=n}}),{Lx:a,Fx:h}}catch(e){throw f.ErrorMonitor.ve().logError("Error extracting segment maps",this.loggerId,g.hs.ui.zr,e),new Error(e)}},e.prototype.Cx=function(e){try{if(e){if(e.CryptoPeriod){var t=e.CryptoPeriod;this.OM&&!this.OM.xx()&&this.OM instanceof u.qx||(this.OM=new u.qx(t.keyUriTemplate,t.IV,this.authenticationToken))}else this.OM&&this.OM instanceof l.Gx||(this.OM=new l.Gx);this.OM&&p.DASH.XL&&this.OM.init()}}catch(e){throw f.ErrorMonitor.ve().logError("Error initializing the protection",this.loggerId,g.hs.ui.Jr,e),new Error(e)}},e.prototype.Vx=function(e){var t=this.Ux(e);return this.Sx.get(t)},e.prototype.gM=function(e){try{return this.Vx(e).kx.get(e)}catch(e){return f.ErrorMonitor.ve().logError("Error getting the segment info",this.loggerId,g.hs.ui.Xr,e),null}},e.prototype.fM=function(e){var t=!1;return this.Sx.forEach(function(r,i){r.initialization===e&&(t=!0)}),t},e.prototype.vM=function(e){var t=this.gM(e);return null!=t?t.next:null},e.prototype.dk=function(e,t,r,i){try{var n;if(this.Sx.forEach(function(e,t){e.bandwidth===i&&(n=e)}),n&&n.Mx.has(e)&&n.Mx.has(r)){for(var s=n.Mx.get(e),o=n.Mx.get(r),a=0,h=s;h&&h!=o;)a+=h.duration,h=h.next;return Math.round(a/(n.timescale/1e3))}return 0}catch(e){return f.ErrorMonitor.ve().logError("Error extracting the segment distance",this.loggerId,g.hs.ui.Zr,e),0}},e.prototype.jx=function(e){try{e instanceof Uint8Array&&(e=e.buffer);var t=ISOBoxer.Qx(e),r=t.fetch("tfhd"),i=t.fetch("trun"),n=r?r.default_sample_duration:0;if(i){var s=0;return i.Kx.forEach(function(e){s+=e.sample_duration}),isNaN(s)&&n>0&&(s=n*i.Kx.length),s}}catch(e){return f.ErrorMonitor.ve().logError("Error extracting duration from the buffer",this.loggerId,g.hs.ui.$r,e),0}},e.prototype.Bx=function(e,t){var r=this.Yx();if(!t&&(this.isLive||r||d.HiveConfig.Dash.DashRemoveBitrateSize))try{var i=new s({}),n=i.Wx(e);this.isLive&&this.zx(n),(r||d.HiveConfig.Dash.DashRemoveBitrateSize)&&this.Jx(n,r,d.HiveConfig.Dash.DashRemoveBitrateSize);return i.Xx(n)}catch(e){this.logger.error(e)}return e},e.prototype.zx=function(e){var t=this;try{var r=Math.max(1,p.DASH.DASH_METADATA_MIN_FRAGMENTS),i=Math.max(1,p.DASH.eM),n=0,s=0;return e.MPD&&e.MPD.Period&&e.MPD.Period.AdaptationSet.forEach(function(e){if(t.Zx(e)){for(var o=e.SegmentTemplate.SegmentTimeline.S_asArray,a=parseInt(e.SegmentTemplate._timescale),h=i*a,c=0,u=0,l=0;l<o.length&&r>0;l++){var p=o[l];c=l;var d=p._r?parseInt(p._r):1;d>r?(u=r,r=0):(r-=d,u=d)}for(var f=o.length-1;f>=0&&(h>0&&f>=c);f--){var p=o[f],d=p._r?parseInt(p._r):1,g=0;if(!p._d)throw new Error("missing segment duration");g=parseInt(p._d);var E=d*g;if((f>c||f==c&&0==u)&&h>=E)h-=E,o.splice(f,1),n+=d,s+=E;else{var v=Math.ceil(h/g);f==c&&(v=Math.min(v,d-u));var y=g*v;p._r=d-v+"",h-=y,n+=v,s+=y}}t.logger.debug("DASH trimmed "+n+" segments for total duration: "+s)}}),e}catch(e){throw f.ErrorMonitor.ve().logError("Error trimming the manifest",this.loggerId,g.hs.ui.si,e),new Error(e)}},e.prototype.Zx=function(e){return!!e&&(!!("video/mp4"===e._mimeType||"video"===e._contentType||e.SegmentTemplate._media&&e.SegmentTemplate._media.indexOf("video")>-1)&&(e.SegmentTemplate&&e.SegmentTemplate.SegmentTimeline))},e.prototype.Yx=function(){if(d.HiveConfig.Dash.DashFilterBitrates)try{var e=null;e="string"==typeof d.HiveConfig.Dash.DashFilterBitrates?d.HiveConfig.Dash.DashFilterBitrates.split(","):d.HiveConfig.Dash.DashFilterBitrates;var t=[];return e.forEach(function(e){var r=parseInt(e);isNaN(r)||t.push(r)}),t}catch(e){f.ErrorMonitor.ve().logError("Error parsing DashFilterBitrates",this.loggerId,g.hs.ui.oi,e)}},e.prototype.Jx=function(e,t,r){var i=this;if(e.MPD&&e.MPD.Period){var n=[];e.MPD.Period.AdaptationSet.forEach(function(e){if(i.Zx(e)){var s=e.Representation_asArray;s.sort(function(e,t){return isNaN(e._bandwidth)&&(e._bandwidth=parseInt(e._bandwidth)),isNaN(t._bandwidth)&&(t._bandwidth=parseInt(t._bandwidth)),e._bandwidth-t._bandwidth});for(var o=s.length-1;o>=0;o--)r&&(delete s[o]._width,delete s[o]._height),t&&-1==t.indexOf(o)?s.splice(o,1):n.push(s[o]._bandwidth);i.logger.debug("DASH filtered-in bitrates: "+n.reverse().join(" ")+" - removed size: "+r)}})}},e.prototype.HM=function(e,t,r,i){try{var n;if(this.Sx.forEach(function(e,t){e.bandwidth===i&&(n=e)}),n&&n.Mx.has(e)&&n.Mx.has(r)){for(var s=n.Mx.get(e),o=n.Mx.get(r),a=0,h=s;h&&h!=o;)a+=h.duration,h=h.next;return Math.round(a/(n.timescale/1e3))}return 0}catch(e){return f.ErrorMonitor.ve().logError("Error getting the duration between two segments",this.loggerId,g.hs.ui.hi,e),0}},e.prototype.qM=function(e,t){try{var r;return this.Sx.forEach(function(e,i){e.bandwidth===t&&(r=e)}),r&&r.Mx.has(e)?r.Mx.get(e):null}catch(e){return f.ErrorMonitor.ve().logError("Error getting the segment",this.loggerId,g.hs.ui.ci,e),null}},e}();E.Ax="$Bandwidth$",E.Hx="$Time$",E.Ox="$RepresentationID$",t.$x=E},function(e,t,r){var i=function(e,t,r){function i(e){var t=e.localName;return null==t&&(t=e.eq),null!=t&&""!=t||(t=e.nodeName),t}function n(e){return e.prefix}function s(e){return"string"==typeof e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"):e}function o(e){return e.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#x27;/g,"'").replace(/&#x2F;/g,"/")}function a(s){if(s.nodeType==T.DOCUMENT_NODE){var h,c,u,l=s.firstChild;for(c=0,u=s.childNodes.length;c<u;c+=1)if(s.childNodes[c].nodeType!==T.COMMENT_NODE){l=s.childNodes[c];break}if(r)h=a(l);else{h={};var p=i(l);h[p]=a(l)}return h}if(s.nodeType==T.ELEMENT_NODE){var h=new Object;h.__cnt=0;for(var d=s.childNodes,f=0;f<d.length;f++){var l=d.item(f),p=i(l);if(h.__cnt++,null==h[p])h[p]=a(l),h[p+"_asArray"]=new Array(1),h[p+"_asArray"][0]=h[p];else{if(null!=h[p]&&!(h[p]instanceof Array)){var g=h[p];h[p]=new Array,h[p][0]=g,h[p+"_asArray"]=h[p]}for(var E=0;null!=h[p][E];)E++;h[p][E]=a(l)}}for(var v=0;v<s.attributes.length;v++){var m=s.attributes.item(v);h.__cnt++;for(var I=m.value,S=0,R=e.length;S<R;S++){var w=e[S];try{w.test.call(this,m)&&(I=w.tq.call(this,m.value))}catch(e){w.test.call(this,m),console.error(e)}}h[t+m.name]=I}var b=n(s);return null!=b&&""!=b&&(h.__cnt++,h.__prefix=b),1==h.__cnt&&null!=h["#text"]&&(h=h["#text"]),null!=h["#text"]&&(h.__text=h["#text"],h.__text instanceof Array&&(h.__text=h.__text.join("\n")),y&&(h.__text=o(h.__text)),delete h["#text"],delete h["#text_asArray"],""===h.__text.trim()&&delete h.__text),null!=h["#cdata-section"]&&(h.__cdata=h["#cdata-section"],delete h["#cdata-section"],delete h["#cdata-section_asArray"]),null==h.__text&&null==h.__cdata||(h.toString=function(){return(null!=this.__text?this.__text:"")+(null!=this.__cdata?this.__cdata:"")}),h}return s.nodeType==T.TEXT_NODE||s.nodeType==T.CDATA_SECTION_NODE?s.nodeValue:s.nodeType==T.COMMENT_NODE?null:void 0}function h(e,t,r,i){var n="<"+(null!=e&&null!=e.__prefix?e.__prefix+":":"")+t;if(null!=r)for(var s=0;s<r.length;s++){var o=r[s],a=e[o];n+=" "+o.substr(1)+"='"+a+"'"}return n+=i?"/>":">"}function c(e,t){return"</"+(null!=e.__prefix?e.__prefix+":":"")+t+">"}function u(e,t){return-1!==e.indexOf(t,e.length-t.length)}function l(e,t){return!!(u(t.toString(),"_asArray")||0==t.toString().indexOf("_")||e[t]instanceof Function)}function p(e){var t=0;if(e instanceof Object)for(var r in e)l(e,r)||t++;return t}function d(e){var t=[];if(e instanceof Object)for(var r in e)-1==r.toString().indexOf("__")&&0==r.toString().indexOf("_")&&t.push(r);return t}function f(e){var t="";return null!=e.__cdata&&(t+="<![CDATA["+e.__cdata+"]]>"),null!=e.__text&&(t+=y?s(e.__text):e.__text),t}function g(e){var t="";return e instanceof Object?t+=f(e):null!=e&&(t+=y?s(e):e),t}function E(e,t,r){var i="";if(0==e.length)i+=h(e,t,r,!0);else for(var n=0;n<e.length;n++)i+=h(e[n],t,d(e[n]),!1),i+=v(e[n]),i+=c(e[n],t);return i}function v(e){var t="";if(p(e)>0)for(var r in e)if(!l(e,r)){var i=e[r],n=d(i);if(null==i||void 0==i)t+=h(i,r,n,!0);else if(i instanceof Object)if(i instanceof Array)t+=E(i,r,n);else{var s=p(i);s>0||null!=i.__text||null!=i.__cdata?(t+=h(i,r,n,!1),t+=v(i),t+=c(i,r)):t+=h(i,r,n,!0)}else t+=h(i,r,n,!1),t+=g(i),t+=c(i,r)}return t+=g(e)}null!==t&&void 0!==t||(t="_"),null!==r&&void 0!==r||(r=!1);var y=!1,T={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9};this.rq=function(e){var t;if(window.DOMParser){t=(new window.DOMParser).parseFromString(e,"text/xml")}else 0==e.indexOf("<?")&&(e=e.substr(e.indexOf("?>")+2)),t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.iq(e);return t},this.nq=function(e){return a(e)},this.Wx=function(e){var t=this.rq(e);return this.nq(t)},this.Xx=function(e){return v(e)},this.sq=function(e){var t=this.Xx(e);return this.rq(t)},this.getVersion=function(){return"1.0.11"},this.oq=function(e){y=e}};e.i=i},function(e,t,r){"use strict";var i=this&&this.hu||function(e,t){function r(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=r(3),s=r(58),o=r(151),a=r(154),h=r(0),c=r(31),u=r(9),l=r(34),p=r(30),d=r(1),f=r(2);!function(e){function t(t){return this.qL(t)||-1!=t.indexOf(e.GL)}function r(t){return-1!=t.toLowerCase().indexOf(e.VL.toLowerCase())||-1!=t.toLowerCase().indexOf(e.aq.toLowerCase())||-1!=t.toLowerCase().indexOf(e.hq.toLowerCase())}e.cq=1,e.uq=2,e.lq=3e4,e.pq=4e3,e.dq=500,e.fq=!0,e.gq=1e4,e.Eq=16,e.vq=3,e.VL=".m3u8",e.aq="(format=m3u8-aapl-v3)",e.hq="(video,format=m3u8-aapl-v3,audiotrack=audio)",e.GL=".ts",e.rM=t,e.qL=r;var g=function(t){function s(e,r,i){var s=t.call(this,i)||this;return s.yq=!1,s.loggerId="[HLS Context] ",s.Ag=0,s.MM=new n,s.DM=new n,s.ticket=e,s.Tq=r,r&&(s.mq=s.Iq(e._N())),s.nM=e.NN(),s.sM=new a.Sq,s.Rq=new o.wq,s}return i(s,t),s.prototype.getStreamProtocol=function(){return StreamProtocol.bq},s.prototype.Iq=function(e){var t=e.lastIndexOf("/");return e.substr(0,t)},s.prototype.Sk=function(){return this.ticket},s.prototype.lM=function(){return this.Rq.lM()},s.prototype.isLive=function(){return this.Rq.isLive()},s.prototype.dM=function(){return this.sM},s.prototype.getContextId=function(){return this.ticket.kN()},s.prototype.uM=function(){return this.nM},s.prototype.mM=function(e){try{var t=e.url=this.Cq(e.url);return t===this.nM?(this.yq&&this.logger.debug("SAME MANIFEST "+t+","+this.nM),!0):null!=this.Rq&&this.Rq._q(t)?(this.yq&&this.logger.debug("CORRECT PLAYLIST "+t+","+this.nM),!0):null!=this.Rq&&null!=this.Rq.gM(t)?(this.yq&&this.logger.debug("CORRECT SEGMENT "+t+","+this.nM),!0):!(!r(t)||this.Rq.Pq()===t)&&(this.yq&&this.logger.debug("FIRST REQUEST FOR MANIFEST "+t+","+this.nM),!1)}catch(t){return d.ErrorMonitor.ve().logError("Error getting the current context of the HiveRequest",this.loggerId,f.hs.di.qr,{detailedError:t,url:e.url}),!1}},s.prototype.Cq=function(e){return p(e).nb().toString()},s.prototype.Xf=function(e){try{if(r(e))return u.vc.gc;return null!=this.Rq.gM(e)?u.vc.fc:u.vc.Ec}catch(t){return d.ErrorMonitor.ve().logError("Error getting the entityType",this.loggerId,f.hs.di.Br,{detailedError:t,url:e}),u.vc.Ec}},s.prototype.ig=function(e){var t=this.Xf(e);if(t==u.vc.fc||t==u.vc.dc)return!0},s.prototype.EM=function(e){var t=0,r=0,i=0,n=!0,s=!1;try{var o=this.Xf(e);if(o!=u.vc.gc){var a=this.Rq.gM(e);null!=a&&(t=a.duration,r=a.bitrate,i=a.id,s=this.ig(e))}else n=!1,null!=this.Rq&&this.Rq.Aq.has(e)&&(r=this.Rq.Aq.get(e).bitrate,this.MM.set(r,h.Framework.time()));return new l.N_(e,o,n,i,t,r,s,this.getContextId())}catch(t){return d.ErrorMonitor.ve().logError("Error getting the entityCharacteristics from the url",this.loggerId,f.hs.di.Hr,{detailedError:t,url:e}),new l.N_(e,u.vc.Ec,!1,0,0,0,!1,this.getContextId())}},s.prototype.VD=function(e,t,r){var i=this.Rq.qM(e,t);return null!=i?new l.N_(i.yM,r,!0,e,i.duration,t,!0,this.getContextId()):null},s.prototype.SM=function(e){try{var t=e.RM,r=e.eg(),i=this.Rq.parse(r,t);if(this.Rq.Aq.has(r)){var n=this.Rq.Aq.get(r);this.wM.QD(n.bitrate)}e.Kf.response=i,e.Kf.responseText=i}catch(t){d.ErrorMonitor.ve().logError("Error receiving the metadata",this.loggerId,f.hs.di.li,{detailedError:t,url:e.eg()}),e.RM&&(e.Kf.responseText=e.RM,e.Kf.response=e.RM)}},s.prototype.CM=function(e){t.prototype.CM.call(this,e),e.Xf()!=u.vc.gc&&e.Xf()!=u.vc.Ec&&(this.sM._M(e),e.Xf()==u.vc.fc&&this.wM.UD(e.zf))},s.prototype.PM=function(e,r){var i=e;return i.AM=h.Framework.time(),t.prototype.PM.call(this,i,r)},s.prototype.tk=function(t){if(e.fq){null==this.DM.get(t)&&this.Rq.isLive()?this.kM(t):this.logger.debug("HLS PRE-FETCHING METADATA ALREADY SCHEDULED OR MISSING HLS INFO")}},s.prototype.kM=function(t){var r=this;try{var i=this.Rq.Oq.get(t);if(null!=i){var n=this.MM.has(t),s=this.MM.get(t),o=n?s:0,a=null!=i.Nq?i.Nq[i.Nq.length-1].duration:e.pq,c=o+a,u=Math.max(1,c-h.Framework.time()+e.dq);this.logger.info("HLS PREFETCHING METADATA "+i.yM+" BITRATE "+t+" IN "+u);var l=h.Framework.setTimeout(function(){r.FM(t,i.yM,h.Framework.time())},u);this.DM.set(t,l)}else this.logger.warn("NO STREAM WITH BT "+t)}catch(e){d.ErrorMonitor.ve().logError("Error scheduling metadata prefetch",this.loggerId,f.hs.di.pi,e)}},s.prototype.FM=function(e,t,r){var i=this.MM.get(e);if(null==i&&(i=0),i>r)this.kM(e);else{var n=new c.HiveRequest(this.ticket.sessionId);n.open("GET",t),n.internal=!0,n.send(),this.DM.delete(e),this.MM.set(e,h.Framework.time())}},s.prototype.LM=function(){var e=this;this.DM.keys().forEach(function(t){var r=e.DM.get(t);h.Framework.clearTimeout(r),e.DM.delete(t)})},s.prototype.ak=function(){return t.prototype.TM.call(this,e.cq,e.uq)},s.prototype.nk=function(e){try{var t=e.url,r=this.Rq.vM(t);return null!=r?this.EM(r.yM):null}catch(e){return d.ErrorMonitor.ve().logError("Error getting the next entity",this.loggerId,f.hs.di.xr,e),null}},s.prototype.dk=function(e,t,r,i){return r-e},s.prototype.pk=function(){return e.lq},s.prototype.xM=function(){return e.gq},s.prototype.lk=function(e,t){try{var r=this.PD(),i=this.BM(),n=r.A_(),s=0;if(e>n)for(var o=this.Rq.qM(n,t);o&&o.id<e;)s+=o.duration,this.logger.debug("Segment duration "+o.duration+" total msec "+s+"segment id "+o.id),o=o.next;var a=h.Framework.time()-i;return Math.max(0,s-a)}catch(e){return d.ErrorMonitor.ve().logError("Error getting the distance duration",this.loggerId,f.hs.di.Kr,e),0}},s}(s.GM);e.Dq=g}(t.bq||(t.bq={}))},function(e,t,r){"use strict";var i=r(3),n=r(4),s=r(0),o=r(89),a=r(62),h=r(90),c=r(1),u=r(2),l=function(){function e(){this.loggerId="[LIVE CACHE] ",this.kq=new i,this.Lq=-1,this.Mq=[],this.logger=s.Framework.resolve(s.Framework.V.R).log()}return e.prototype.init=function(e,t){this.Fq=e,this.Uq=t},e.prototype.put=function(e){var t=n.defer();try{var r=e.Zf(),i=e.responseHeaders,s=e.jf,l=e.qf.Pf-1,p=e.qf.Pf;-1==this.Lq&&this.Bq();var d=null,f=!1;if(this.kq.has(r)){d=this.kq.get(r);var g=new a.FF(0,l,p);f=!0,d.content.forEach(function(e,t){if(a.HF.BF(t).MF(g))return void(f=!1)})}else{var E=new a.FF(0,l,p).toString();d=new h.Hq(e.zf),e.xq&&(d.qq=e.xq.Ek.peerInfo),d.content.set(E,new o.Gq(p,s,e.qf,e.Jf())),this.kq.set(r,d),f=!0,this.Mq.unshift(r)}null==d.headers&&null!=i&&(d.headers=i),t.resolve(f)}catch(e){c.ErrorMonitor.ve().logError("Error adding fragment in LiveCache",this.loggerId,u.hs.ut.it,e),t.reject("CACHE PUT ERROR "+e)}return t.Ss},e.prototype.get=function(e){var t=n.defer();try{var r=this.kq.get(e);if(null!=r){var i=null;r.content.forEach(function(e,t){if(a.HF.BF(t).kF())return i=e,i.headers=r.headers,void(i.qq=r.qq)}),t.resolve(i)}else t.resolve(null)}catch(e){c.ErrorMonitor.ve().logError("Error getting fragment from LiveCache",this.loggerId,u.hs.ut.nt,e),t.reject("CACHE GET ERROR "+e)}return t.Ss},e.prototype.ik=function(e){try{return this.kq.keys()}catch(e){return c.ErrorMonitor.ve().logError("Error getting keys from LiveCache",this.loggerId,u.hs.ut.ot,e),[]}},e.prototype.Vq=function(e){var t=n.defer();try{t.resolve(this.kq.values())}catch(e){c.ErrorMonitor.ve().logError("Error getting elements from LiveCache",this.loggerId,u.hs.ut.at,e),t.reject("CACHE GET ELEMENTS ERROR "+e)}return t.Ss},e.prototype.contains=function(e){var t=n.defer();try{this.kq.has(e)?t.resolve(!0):t.resolve(!1)}catch(e){c.ErrorMonitor.ve().logError("Error checking if LiveCache contains the fragment",this.loggerId,u.hs.ut.st,e),t.reject("CACHE CONTAINS ERROR "+e)}return t.Ss},e.prototype.Bq=function(){var e=this;this.jq(),this.logger.debug(this.loggerId+"Starting cache periodic purge"),this.Lq=s.Framework.setInterval(function(){e.m()},this.Uq)},e.prototype.jq=function(){-1!=this.Lq&&(this.logger.debug(this.loggerId+" Stopping cache periodic purge"),s.Framework.clearInterval(this.Lq),this.Lq=-1)},e.prototype.m=function(){var e=this;try{var t=0,r=0,i=0;this.logger.debug(this.loggerId+" RUNNING GC"),this.Mq.every(function(i,n){var s=e.kq.get(i).size();return t+s>e.Fq?(r=n,!1):(t+=s,!0)})||(i=this.Mq.length-r,this.Mq.splice(r,this.Mq.length-1).forEach(function(t){e.kq.delete(t)})),this.logger.debug(this.loggerId+" GC DONE - REMOVED: "+i+" - CURRENT ITEMS: "+this.kq.length+" SIZE: "+t+" "),0===this.kq.length&&(this.logger.debug(this.loggerId+" Cache contains no items, stopping purge timer"),this.jq())}catch(e){c.ErrorMonitor.ve().logError("Error purging LiveCache",this.loggerId,u.hs.ut.ct,e)}},e.prototype.Qq=function(){this.kq=new i,this.Mq=[]},e.prototype.Kq=function(){var e=this;this.kq.forEach(function(t,r){e.logger.debug("EID="+r),t.content.forEach(function(t,r){e.logger.debug("\tRANGE ",r)})})},e}();t.Yq=l},function(e,t,r){"use strict";var i=function(){function e(e,t,r,i){this.length=e,this.data=t,this.qf=r,this.Wq=i}return e}();t.Gq=i},function(e,t,r){"use strict";var i=r(62),n=r(3),s=function(){function e(e){this.headers=null,this.qq=null,this.totalSize=0,this.zq=!1,this.zf=e,this.content=new n}return e.prototype.size=function(){var e=0;return this.content.forEach(function(t,r){e+=i.HF.BF(r).size()}),e},e}();t.Hq=s},function(e,t,r){"use strict";!function(e){e[e.Jq=0]="ALL",e[e.AS=1]="AS",e[e.nD=2]="SITE"}(t.Xq||(t.Xq={}))},function(e,t,r){"use strict";var i=r(0),n=r(25),s=r(5),o=r(10),a=r(4),h=r(3),c=r(59),u=r(171),l=r(1),p=function(){function e(){this.Zq=!1,this.loggerId="[UDPLeaderElection] ",this.Ng=i.Framework.resolve(i.Framework.V.F),this.$q=new h,this.eG=new h,this.tG=new h,this.rG=new h,this.iG=new h,this.nG=[]}return e.prototype.init=function(e){this.sG=e,this.logger=i.Framework.resolve(i.Framework.V.R).log(e.sessionId),this.yD=e.yD,this.oG=e.oG,this.mD=e.mD},e.prototype.aG=function(e,t){var r=this,i=a.defer();try{if(this.Zq){var n=null;e.privateIpString&&(n=e.privateIpString);var s=new u.hG(e.guid,e.rankValue,n,e.isLeader);if(this.$q.has(s.uuid)){var o=this.$q.get(s.uuid);o.udpScore==s.udpScore&&o.cG==s.cG?i.resolve():(this.$q.set(s.uuid,s),this.uG(),this.lG(s).then(function(){i.resolve()}).fail(function(e){r.$q.delete(s.uuid),r.uG(),i.reject(e)}))}else t?(s.pG=t,this.logger.info(this.loggerId+" NEW MEMBER GUID "+s.uuid+" RANKING "+s.udpScore+" LEADER "+s.cG),this.$q.set(s.uuid,s),this.uG(),this.lG(s).then(function(){r.dG(r.$q.get(s.uuid)),i.resolve()}).fail(function(e){r.$q.delete(s.uuid),r.uG(),i.reject(e)})):this.fG(s).then(function(e){s.pG=e,r.logger.info(r.loggerId+" NEW MEMBER GUID "+s.uuid+" RANKING "+s.udpScore+" LEADER "+s.cG),r.$q.set(s.uuid,s),r.uG(),r.lG(s).then(function(){i.resolve()}).fail(function(e){r.$q.delete(s.uuid),r.uG(),i.reject(e)})}).fail(function(e){i.reject(e)})}else i.reject("LEADER ELECTION NOT STARTED YET")}catch(e){i.reject("TRIGGER LEADER ELECTION ERROR "+e)}return i.Ss},e.prototype.dG=function(e){var t=new o.bc(o.Tc.W,null);t.guid=e.uuid,t.isLeader=e.cG,t.rankValue=e.udpScore;var r=[t];this.oG.gG(r,!1)},e.prototype.fG=function(e){var t=this,r=a.defer();return this.rG.has(e.uuid)||this.tG.has(e.uuid)?r.reject(d.EG):(this.rG.set(e.uuid,Date.now()),this.Ng.connect(e.uuid).then(function(i){var n=i.Pg.wg(t.sG.swarmId);null==n?(n=i.Pg.Tg(t.sG.swarmId),t.vG(n).then(function(){r.resolve(i)}).fail(function(e){r.reject(e)}).done()):t.iG.get(e.uuid)?r.resolve(i):(t.rG.delete(e.uuid),t.vG(n).then(function(){r.resolve(i)}).fail(function(e){r.reject(e)}).done())}).fail(function(i){t.rG.delete(e.uuid),r.reject(i)}).done()),r.Ss},e.prototype.vG=function(e){var t=this,r=a.defer(),o=new n.Rf.Fa.Jg.UDPHandshakeMessage;o.uuid=this.yG.uuid,o.udpScore=this.yG.udpScore,o.isLeader=this.yG.cG,o.streamId=this.yG.streamId,this.logger.debug(this.loggerId+"MSG uuid "+o.uuid+" rankValue "+o.udpScore+" isLeader "+o.isLeader+" stream id "+o.streamId);var h=i.Framework.setTimeout(function(){t.TG(e.otherGuid)},s.hh.UDPBroadcast.Ga);return this.tG.set(e.otherGuid,{mG:h,defer:r}),e.Lg(n.Rf.Eg.dg,o),r.Ss},e.prototype.TG=function(e){if(this.tG.has(e)){this.logger.debug(this.loggerId+" HANDSHAKE REQ EXPIRED TO "+e);var t=this.tG.get(e);this.tG.delete(e),t.defer.reject("EXPIRED")}},e.prototype.IG=function(e,t){try{this.logger.debug(this.loggerId+"HANDSHAKE RESP RECEIVED FROM "+t.otherGuid);var r=t.otherGuid,n=this.tG.get(r);i.Framework.clearTimeout(n.mG),this.tG.delete(r),n.defer.resolve(t)}catch(e){l.ErrorMonitor.ve().logError("HANDSHAKE RESPONSE RECEIVED FAILED",this.loggerId,e)}},e.prototype.SG=function(e,t){var r=this;try{var i=new o.bc(o.Tc.W,null,e.isLeader);if(i.guid=e.uuid,i.rankValue=e.udpScore,e.streamId===this.yD.getContextId()){var n=t.Pg.wg(this.sG.swarmId);this.iG.set(e.uuid,e.uuid),this.RG(n,"OK"),this.aG(i,t).then(function(){}).fail(function(e){l.ErrorMonitor.ve().logError("LEADER ELECTION FAILED",r.loggerId,e)})}}catch(e){l.ErrorMonitor.ve().logError("HANDSHAKE REQUEST FAILED",this.loggerId,e)}},e.prototype.RG=function(e,t){var r=new n.Rf.Fa.Jg.UDPHandshakeResponse;r.accept=t,e.Lg(n.Rf.Eg.UDPHandshakeResponse,r),this.logger.debug(this.loggerId+"SEND HANDSHAKE RESPONSE TO "+e.otherGuid)},e.prototype.lG=function(e){var t=this,r=a.defer();if(this.wG()){var i=!1;this.logger.info(this.loggerId+"I HAVE THE HIGHEST SCORE"),e.cG&&!this.eG.has(e.uuid)&&(i=!0,this.logger.info(this.loggerId+"SEND SWITCH REQUEST TO "+e.uuid),this.bG(e).then(function(){r.resolve()}).fail(function(e){3==e.CG?(t.logger.debug(t.loggerId+" SWITCH REQUEST WAS CANCELED."),r.resolve()):(e.CG=2)&&r.reject(e)})),this.yG.cG||null==this._G||this._G.uuid==e.uuid||this.eG.has(this._G.uuid)||(this.logger.info("SEND SWITCH REQUEST TO THE ALREADY KNOWN LEADER"),i=!0,this.bG(this._G).then(function(){r.resolve()}).fail(function(e){3==e.CG?(t.logger.debug(t.loggerId+" SWITCH REQUEST WAS CANCELED."),r.resolve()):(e.CG=2)&&r.reject(e)})),null!=this._G||e.cG||this.yG.cG||0!=this.eG.length||(this.logger.info(this.loggerId+"BECOME LEADER"),this.PG()),i||r.resolve()}else this.AG(e)?(this.logger.info(this.loggerId+"PEER "+e.uuid+" HAS THE HIGHEST SCORE"),this.OG(),this.yG.cG&&e.cG&&this.stepDown(),this.NG(e),r.resolve()):r.resolve();return r.Ss},e.prototype.NG=function(e){try{this.logger.info(this.loggerId+"UPDATE THE LEADERSHIP"),null!=this._G&&this.$q.has(this._G.uuid)&&(this.$q.get(this._G.uuid).cG=!1),this.$q.has(e.uuid)?(this.$q.get(e.uuid).udpScore=e.udpScore,this._G=e,this.$q.get(e.uuid).cG=!0):(this.logger.warn(this.loggerId+"SET A LEADER THAT IS NOT A LAN MEMBER LIST. SHOULD NEVER HAPPEN"),this.$q.set(e.uuid,e),this._G=e),this.yD.DG(e),this.logger.info(this.loggerId+"NEW KNOWN LEADER "+this.yD.Rk().uuid)}catch(e){l.ErrorMonitor.ve().logError(e,this.loggerId)}},e.prototype.stepDown=function(){this.logger.info(this.loggerId+"STEP DOWN"),this.yG.cG=!1,this.yD.kG(!1),s.hh.fa.ia&&(this.mD.LG(),this.mD.MG(!1))},e.prototype.OG=function(){for(var e=this.eG.keys(),t=0,r=e;t<r.length;t++){var n=r[t],s=this.eG.get(n);this.eG.delete(n),i.Framework.clearTimeout(s.mG),s.defer.reject({CG:3,message:"CANCELED PENDING RESPONSES"})}},e.prototype.AG=function(e){return e.uuid==this.nG[0].uuid},e.prototype.wG=function(){return u.hG.JE(this.yG,this.nG[0])<0},e.prototype.uG=function(){var e=new c(this.$q.values()),t=e.Fc(u.hG.JE);e.push(this.yG),this.yD.FG(t);var r=new c(this.$q.values());this.nG=r.Fc(u.hG.JE)},e.prototype.UG=function(e){this.BG(e)},e.prototype.BG=function(e){this.logger.info(this.loggerId+"EVALUATE THE SWITCH REQUEST FROM "+e.uuid);var t=void 0;this.$q.has(e.uuid)?t=this.$q.get(e.uuid):this.logger.warn("I RECEIVED A SWITCH REQUEST FROM AN UNKNOWN MEMBER. THIS SHOULD NEVER HAPPEN"),t&&(this.yG.cG?this.wG()?this.HG(t,!1):(this.stepDown(),this.OG(),this.NG(t),this.HG(t,!0)):this.AG(t)?(this.NG(t),this.HG(t,!0)):this.HG(t,!1))},e.prototype.HG=function(e,t){var r=this;this.xG(e.pG,t).then(function(){}).fail(function(e){l.ErrorMonitor.ve().logError("SEND SWITCH RESPONSE ERROR",r.loggerId,e)}).done()},e.prototype.xG=function(e,t){var r=a.defer(),i=new n.Rf.Fa.Jg.UDPSwitchLeadershipAck;return i.ok=t,e.Pg.wg(this.sG.swarmId).Lg(n.Rf.Eg.fg,i),r.Ss},e.prototype.bG=function(e){var t=this,r=a.defer();return this.qG(e.pG).then(function(i){t.GG(i,e),r.resolve()}).fail(function(e){r.reject(e)}).done(),r.Ss},e.prototype.GG=function(e,t){try{e?(this.$q.get(t.uuid).cG=!1,this._G=this.yG,this.PG()):(this.OG(),this.$q.get(t.uuid).cG=!0,this.stepDown(),this.NG(t))}catch(e){l.ErrorMonitor.ve().logError("HANDLE LEADERSHIP SWITCH RESPONSE ERROR",this.loggerId,e)}},e.prototype.VG=function(e,t){if(this.eG.has(t)){var r=this.eG.get(t);i.Framework.clearTimeout(r.mG),this.eG.delete(t),r.defer.resolve(e.ok)}else this.logger.warn(this.loggerId+" SWITCH LEADERSHIP RESPONSE RECEIVED FROM UNKNOWN PEER "+t)},e.prototype.qG=function(e){var t=this,r=a.defer(),o=new n.Rf.Fa.Jg.UDPSwitchLeadershipRequest;o.uuid=this.yG.uuid,o.udpScore=this.yG.udpScore,this.logger.debug(this.loggerId+"SWITCH LEADERSHIP REQUEST TO "+e.otherGuid);var h=i.Framework.setTimeout(function(){t.jG(e.otherGuid)},s.hh.UDPBroadcast.qa);this.eG.set(e.otherGuid,{mG:h,defer:r});var c=e.Pg.wg(this.sG.swarmId);return i.Framework.setTimeout(function(){c.Lg(n.Rf.Eg.UDPSwitchLeadershipRequest,o)},1),r.Ss},e.prototype.jG=function(e){if(this.eG.has(e)){this.logger.info(this.loggerId+" SWITCH LEADERSHIP EXPIRED TO "+e);var t=this.eG.get(e);this.eG.delete(e),t.defer.reject({CG:2,message:"EXPIRED"})}},e.prototype.PG=function(){this.logger.info(this.loggerId+"BECOMING LAN LEADER"),null!=this._G&&this.$q.has(this._G.uuid)&&(this.$q.get(this._G.uuid).cG=!1),this.yG.cG=!0,this._G=this.yG,this.yD.kG(!0),this.yD.DG(this.yG),s.hh.fa.ia&&(this.mD.LG(),this.mD.MG(!0))},e.prototype.Ud=function(e){this.yG=new u.hG(this.yD.getId(),this.yD.QG(),"",!1,this.yD.getContextId()),this.Zq=!0,this.logger.info(this.loggerId+" UDP LEADER ELECTION STARTED")},e.prototype.KG=function(e){this.$q.delete(e),this.uG(),0==this.$q.length?(this.yG.cG=!1,this._G=null,this.yD.kG(!1),this.yD.YG(!1),this.mD.LG(),this.mD.MG(!1)):this.wG()?this.PG():this.nG.length>0&&this.NG(this.nG[0])},e}();t.WG=p;var d;!function(e){e[e.zG=0]="FAILURE",e[e.EG=1]="ALREADY_PENDING"}(d=t.JG||(t.JG={}))},function(e,t,r){var i,n,s;/**
 * @license Long.js (c) 2013 Daniel Wirtz <dcode@dcode.io>
 * Released under the Apache License, Version 2.0
 * see: https://github.com/dcodeIO/Long.js for details
 */
!function(r,o){n=[],i=o,void 0!==(s="function"==typeof i?i.apply(t,n):i)&&(e.i=s)}(0,function(){"use strict";function e(e,t,r){this.low=0|e,this.high=0|t,this.FP=!!r}e.XG,Object.defineProperty(e.prototype,"__isLong__",{value:!0,p:!1,l:!1}),e.ZG=function(e){return!0===(e&&e.XG)};var t={},r={};e.ME=function(i,n){var s,o;return n?0<=(i>>>=0)&&i<256&&(o=r[i])?o:(s=new e(i,(0|i)<0?-1:0,!0),0<=i&&i<256&&(r[i]=s),s):-128<=(i|=0)&&i<128&&(o=t[i])?o:(s=new e(i,i<0?-1:0,!1),-128<=i&&i<128&&(t[i]=s),s)},e.DE=function(t,r){return r=!!r,isNaN(t)||!isFinite(t)?e.ZERO:!r&&t<=-s?e.MIN_VALUE:!r&&t+1>=s?e.MAX_VALUE:r&&t>=n?e.$G:t<0?e.DE(-t,r).qE():new e(t%i|0,t/i|0,r)},e.qI=function(t,r,i){return new e(t,r,i)},e.kE=function(t,r,i){if(0===t.length)throw Error("number format error: empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return e.ZERO;if("number"==typeof r&&(i=r,r=!1),(i=i||10)<2||36<i)throw Error("radix out of range: "+i);var n;if((n=t.indexOf("-"))>0)throw Error('number format error: interior "-" character: '+t);if(0===n)return e.kE(t.substring(1),r,i).qE();for(var s=e.DE(Math.pow(i,8)),o=e.ZERO,a=0;a<t.length;a+=8){var h=Math.min(8,t.length-a),c=parseInt(t.substring(a,a+h),i);if(h<8){var u=e.DE(Math.pow(i,h));o=o.multiply(u).add(e.DE(c))}else o=o.multiply(s),o=o.add(e.DE(c))}return o.FP=r,o},e.eV=function(t){return t instanceof e?t:"number"==typeof t?e.DE(t):"string"==typeof t?e.kE(t):new e(t.low,t.high,t.FP)};var i=4294967296,n=i*i,s=n/2,o=e.ME(1<<24);return e.ZERO=e.ME(0),e.tV=e.ME(0,!0),e.ONE=e.ME(1),e.rV=e.ME(1,!0),e.iV=e.ME(-1),e.MAX_VALUE=e.qI(-1,2147483647,!1),e.$G=e.qI(-1,-1,!0),e.MIN_VALUE=e.qI(0,-2147483648,!1),e.prototype.kP=function(){return this.FP?this.low>>>0:this.low},e.prototype.nV=function(){return this.FP?(this.high>>>0)*i+(this.low>>>0):this.high*i+(this.low>>>0)},e.prototype.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix out of range: "+t);if(this.sV())return"0";var r;if(this.oV()){if(this.cs(e.MIN_VALUE)){var i=e.DE(t),n=this.aV(i);return r=n.multiply(i).hV(this),n.toString(t)+r.kP().toString(t)}return"-"+this.qE().toString(t)}var s=e.DE(Math.pow(t,6),this.FP);r=this;for(var o="";;){var a=r.aV(s),h=r.hV(a.multiply(s)).kP()>>>0,c=h.toString(t);if(r=a,r.sV())return c+o;for(;c.length<6;)c="0"+c;o=""+c+o}},e.prototype.cV=function(){return this.high},e.prototype.uV=function(){return this.high>>>0},e.prototype.lV=function(){return this.low},e.prototype.pV=function(){return this.low>>>0},e.prototype.dV=function(){if(this.oV())return this.cs(e.MIN_VALUE)?64:this.qE().dV();for(var t=0!=this.high?this.high:this.low,r=31;r>0&&0==(t&1<<r);r--);return 0!=this.high?r+33:r+1},e.prototype.sV=function(){return 0===this.high&&0===this.low},e.prototype.oV=function(){return!this.FP&&this.high<0},e.prototype.fV=function(){return this.FP||this.high>=0},e.prototype.gV=function(){return 1==(1&this.low)},e.prototype.fv=function(){return 0==(1&this.low)},e.prototype.cs=function(t){return e.ZG(t)||(t=e.eV(t)),(this.FP===t.FP||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},e.EV=e.prototype.cs,e.prototype.vV=function(e){return!this.cs(e)},e.yV=e.prototype.vV,e.prototype.TV=function(e){return this.Oc(e)<0},e.prototype.mV=e.prototype.TV,e.prototype.SV=function(e){return this.Oc(e)<=0},e.prototype.RV=e.prototype.SV,e.prototype.wV=function(e){return this.Oc(e)>0},e.prototype.bV=e.prototype.wV,e.prototype.CV=function(e){return this.Oc(e)>=0},e.prototype._V=e.prototype.CV,e.prototype.Oc=function(t){if(e.ZG(t)||(t=e.eV(t)),this.cs(t))return 0;var r=this.oV(),i=t.oV();return r&&!i?-1:!r&&i?1:this.FP?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.hV(t).oV()?-1:1},e.prototype.qE=function(){return!this.FP&&this.cs(e.MIN_VALUE)?e.MIN_VALUE:this.not().add(e.ONE)},e.prototype.PV=e.prototype.qE,e.prototype.add=function(t){e.ZG(t)||(t=e.eV(t));var r=this.high>>>16,i=65535&this.high,n=this.low>>>16,s=65535&this.low,o=t.high>>>16,a=65535&t.high,h=t.low>>>16,c=65535&t.low,u=0,l=0,p=0,d=0;return d+=s+c,p+=d>>>16,d&=65535,p+=n+h,l+=p>>>16,p&=65535,l+=i+a,u+=l>>>16,l&=65535,u+=r+o,u&=65535,e.qI(p<<16|d,u<<16|l,this.FP)},e.prototype.hV=function(t){return e.ZG(t)||(t=e.eV(t)),this.add(t.qE())},e.prototype.sub=e.prototype.hV,e.prototype.multiply=function(t){if(this.sV())return e.ZERO;if(e.ZG(t)||(t=e.eV(t)),t.sV())return e.ZERO;if(this.cs(e.MIN_VALUE))return t.gV()?e.MIN_VALUE:e.ZERO;if(t.cs(e.MIN_VALUE))return this.gV()?e.MIN_VALUE:e.ZERO;if(this.oV())return t.oV()?this.qE().multiply(t.qE()):this.qE().multiply(t).qE();if(t.oV())return this.multiply(t.qE()).qE();if(this.TV(o)&&t.TV(o))return e.DE(this.nV()*t.nV(),this.FP);var r=this.high>>>16,i=65535&this.high,n=this.low>>>16,s=65535&this.low,a=t.high>>>16,h=65535&t.high,c=t.low>>>16,u=65535&t.low,l=0,p=0,d=0,f=0;return f+=s*u,d+=f>>>16,f&=65535,d+=n*u,p+=d>>>16,d&=65535,d+=s*c,p+=d>>>16,d&=65535,p+=i*u,l+=p>>>16,p&=65535,p+=n*c,l+=p>>>16,p&=65535,p+=s*h,l+=p>>>16,p&=65535,l+=r*u+i*c+n*h+s*a,l&=65535,e.qI(d<<16|f,l<<16|p,this.FP)},e.prototype.AV=e.prototype.multiply,e.prototype.aV=function(t){if(e.ZG(t)||(t=e.eV(t)),t.sV())throw new Error("division by zero");if(this.sV())return this.FP?e.tV:e.ZERO;var r,i,n;if(this.cs(e.MIN_VALUE)){if(t.cs(e.ONE)||t.cs(e.iV))return e.MIN_VALUE;if(t.cs(e.MIN_VALUE))return e.ONE;return r=this.HP(1).aV(t).shiftLeft(1),r.cs(e.ZERO)?t.oV()?e.ONE:e.iV:(i=this.hV(t.multiply(r)),n=r.add(i.aV(t)))}if(t.cs(e.MIN_VALUE))return this.FP?e.tV:e.ZERO;if(this.oV())return t.oV()?this.qE().aV(t.qE()):this.qE().aV(t).qE();if(t.oV())return this.aV(t.qE()).qE();for(n=e.ZERO,i=this;i.CV(t);){r=Math.max(1,Math.floor(i.nV()/t.nV()));for(var s=Math.ceil(Math.log(r)/Math.LN2),o=s<=48?1:Math.pow(2,s-48),a=e.DE(r),h=a.multiply(t);h.oV()||h.wV(i);)r-=o,a=e.DE(r,this.FP),h=a.multiply(t);a.sV()&&(a=e.ONE),n=n.add(a),i=i.hV(h)}return n},e.prototype.OV=e.prototype.aV,e.prototype.NV=function(t){return e.ZG(t)||(t=e.eV(t)),this.hV(this.aV(t).multiply(t))},e.prototype.ev=e.prototype.NV,e.prototype.not=function(){return e.qI(~this.low,~this.high,this.FP)},e.prototype.qP=function(t){return e.ZG(t)||(t=e.eV(t)),e.qI(this.low&t.low,this.high&t.high,this.FP)},e.prototype.or=function(t){return e.ZG(t)||(t=e.eV(t)),e.qI(this.low|t.low,this.high|t.high,this.FP)},e.prototype.pT=function(t){return e.ZG(t)||(t=e.eV(t)),e.qI(this.low^t.low,this.high^t.high,this.FP)},e.prototype.shiftLeft=function(t){return e.ZG(t)&&(t=t.kP()),0==(t&=63)?this:t<32?e.qI(this.low<<t,this.high<<t|this.low>>>32-t,this.FP):e.qI(0,this.low<<t-32,this.FP)},e.prototype.DV=e.prototype.shiftLeft,e.prototype.HP=function(t){return e.ZG(t)&&(t=t.kP()),0==(t&=63)?this:t<32?e.qI(this.low>>>t|this.high<<32-t,this.high>>t,this.FP):e.qI(this.high>>t-32,this.high>=0?0:-1,this.FP)},e.prototype.kV=e.prototype.HP,e.prototype.LP=function(t){if(e.ZG(t)&&(t=t.kP()),0===(t&=63))return this;var r=this.high;if(t<32){var i=this.low;return e.qI(i>>>t|r<<32-t,r>>>t,this.FP)}return 32===t?e.qI(r,0,this.FP):e.qI(r>>>t-32,0,this.FP)},e.prototype.LV=e.prototype.LP,e.prototype.UP=function(){return this.FP?new e(this.low,this.high,!1):this},e.prototype.BP=function(){return this.FP?this:new e(this.low,this.high,!0)},e})},function(e,t,r){var i,n,s;/**
 * @license Long.js (c) 2013 Daniel Wirtz <dcode@dcode.io>
 * Released under the Apache License, Version 2.0
 * see: https://github.com/dcodeIO/Long.js for details
 */
!function(r,o){n=[],i=o,void 0!==(s="function"==typeof i?i.apply(t,n):i)&&(e.i=s)}(0,function(){"use strict";function e(e,t,r){this.low=0|e,this.high=0|t,this.FP=!!r}e.XG,Object.defineProperty(e.prototype,"__isLong__",{value:!0,p:!1,l:!1}),e.ZG=function(e){return!0===(e&&e.XG)};var t={},r={};e.ME=function(i,n){var s,o;return n?0<=(i>>>=0)&&i<256&&(o=r[i])?o:(s=new e(i,(0|i)<0?-1:0,!0),0<=i&&i<256&&(r[i]=s),s):-128<=(i|=0)&&i<128&&(o=t[i])?o:(s=new e(i,i<0?-1:0,!1),-128<=i&&i<128&&(t[i]=s),s)},e.DE=function(t,r){return r=!!r,isNaN(t)||!isFinite(t)?e.ZERO:!r&&t<=-s?e.MIN_VALUE:!r&&t+1>=s?e.MAX_VALUE:r&&t>=n?e.$G:t<0?e.DE(-t,r).qE():new e(t%i|0,t/i|0,r)},e.qI=function(t,r,i){return new e(t,r,i)},e.kE=function(t,r,i){if(0===t.length)throw Error("number format error: empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return e.ZERO;if("number"==typeof r&&(i=r,r=!1),(i=i||10)<2||36<i)throw Error("radix out of range: "+i);var n;if((n=t.indexOf("-"))>0)throw Error('number format error: interior "-" character: '+t);if(0===n)return e.kE(t.substring(1),r,i).qE();for(var s=e.DE(Math.pow(i,8)),o=e.ZERO,a=0;a<t.length;a+=8){var h=Math.min(8,t.length-a),c=parseInt(t.substring(a,a+h),i);if(h<8){var u=e.DE(Math.pow(i,h));o=o.multiply(u).add(e.DE(c))}else o=o.multiply(s),o=o.add(e.DE(c))}return o.FP=r,o},e.eV=function(t){return t instanceof e?t:"number"==typeof t?e.DE(t):"string"==typeof t?e.kE(t):new e(t.low,t.high,t.FP)};var i=4294967296,n=i*i,s=n/2,o=e.ME(1<<24);return e.ZERO=e.ME(0),e.tV=e.ME(0,!0),e.ONE=e.ME(1),e.rV=e.ME(1,!0),e.iV=e.ME(-1),e.MAX_VALUE=e.qI(-1,2147483647,!1),e.$G=e.qI(-1,-1,!0),e.MIN_VALUE=e.qI(0,-2147483648,!1),e.prototype.kP=function(){return this.FP?this.low>>>0:this.low},e.prototype.nV=function(){return this.FP?(this.high>>>0)*i+(this.low>>>0):this.high*i+(this.low>>>0)},e.prototype.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix out of range: "+t);if(this.sV())return"0";var r;if(this.oV()){if(this.cs(e.MIN_VALUE)){var i=e.DE(t),n=this.aV(i);return r=n.multiply(i).hV(this),n.toString(t)+r.kP().toString(t)}return"-"+this.qE().toString(t)}var s=e.DE(Math.pow(t,6),this.FP);r=this;for(var o="";;){var a=r.aV(s),h=r.hV(a.multiply(s)).kP()>>>0,c=h.toString(t);if(r=a,r.sV())return c+o;for(;c.length<6;)c="0"+c;o=""+c+o}},e.prototype.cV=function(){return this.high},e.prototype.uV=function(){return this.high>>>0},e.prototype.lV=function(){return this.low},e.prototype.pV=function(){return this.low>>>0},e.prototype.dV=function(){if(this.oV())return this.cs(e.MIN_VALUE)?64:this.qE().dV();for(var t=0!=this.high?this.high:this.low,r=31;r>0&&0==(t&1<<r);r--);return 0!=this.high?r+33:r+1},e.prototype.sV=function(){return 0===this.high&&0===this.low},e.prototype.oV=function(){return!this.FP&&this.high<0},e.prototype.fV=function(){return this.FP||this.high>=0},e.prototype.gV=function(){return 1==(1&this.low)},e.prototype.fv=function(){return 0==(1&this.low)},e.prototype.cs=function(t){return e.ZG(t)||(t=e.eV(t)),(this.FP===t.FP||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},e.EV=e.prototype.cs,e.prototype.vV=function(e){return!this.cs(e)},e.yV=e.prototype.vV,e.prototype.TV=function(e){return this.Oc(e)<0},e.prototype.mV=e.prototype.TV,e.prototype.SV=function(e){return this.Oc(e)<=0},e.prototype.RV=e.prototype.SV,e.prototype.wV=function(e){return this.Oc(e)>0},e.prototype.bV=e.prototype.wV,e.prototype.CV=function(e){return this.Oc(e)>=0},e.prototype._V=e.prototype.CV,e.prototype.Oc=function(t){if(e.ZG(t)||(t=e.eV(t)),this.cs(t))return 0;var r=this.oV(),i=t.oV();return r&&!i?-1:!r&&i?1:this.FP?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.hV(t).oV()?-1:1},e.prototype.qE=function(){return!this.FP&&this.cs(e.MIN_VALUE)?e.MIN_VALUE:this.not().add(e.ONE)},e.prototype.PV=e.prototype.qE,e.prototype.add=function(t){e.ZG(t)||(t=e.eV(t));var r=this.high>>>16,i=65535&this.high,n=this.low>>>16,s=65535&this.low,o=t.high>>>16,a=65535&t.high,h=t.low>>>16,c=65535&t.low,u=0,l=0,p=0,d=0;return d+=s+c,p+=d>>>16,d&=65535,p+=n+h,l+=p>>>16,p&=65535,l+=i+a,u+=l>>>16,l&=65535,u+=r+o,u&=65535,e.qI(p<<16|d,u<<16|l,this.FP)},e.prototype.hV=function(t){return e.ZG(t)||(t=e.eV(t)),this.add(t.qE())},e.prototype.sub=e.prototype.hV,e.prototype.multiply=function(t){if(this.sV())return e.ZERO;if(e.ZG(t)||(t=e.eV(t)),t.sV())return e.ZERO;if(this.cs(e.MIN_VALUE))return t.gV()?e.MIN_VALUE:e.ZERO;if(t.cs(e.MIN_VALUE))return this.gV()?e.MIN_VALUE:e.ZERO;if(this.oV())return t.oV()?this.qE().multiply(t.qE()):this.qE().multiply(t).qE();if(t.oV())return this.multiply(t.qE()).qE();if(this.TV(o)&&t.TV(o))return e.DE(this.nV()*t.nV(),this.FP);var r=this.high>>>16,i=65535&this.high,n=this.low>>>16,s=65535&this.low,a=t.high>>>16,h=65535&t.high,c=t.low>>>16,u=65535&t.low,l=0,p=0,d=0,f=0;return f+=s*u,d+=f>>>16,f&=65535,d+=n*u,p+=d>>>16,d&=65535,d+=s*c,p+=d>>>16,d&=65535,p+=i*u,l+=p>>>16,p&=65535,p+=n*c,l+=p>>>16,p&=65535,p+=s*h,l+=p>>>16,p&=65535,l+=r*u+i*c+n*h+s*a,l&=65535,e.qI(d<<16|f,l<<16|p,this.FP)},e.prototype.AV=e.prototype.multiply,e.prototype.aV=function(t){if(e.ZG(t)||(t=e.eV(t)),t.sV())throw new Error("division by zero");if(this.sV())return this.FP?e.tV:e.ZERO;var r,i,n;if(this.cs(e.MIN_VALUE)){if(t.cs(e.ONE)||t.cs(e.iV))return e.MIN_VALUE;if(t.cs(e.MIN_VALUE))return e.ONE;return r=this.HP(1).aV(t).shiftLeft(1),r.cs(e.ZERO)?t.oV()?e.ONE:e.iV:(i=this.hV(t.multiply(r)),n=r.add(i.aV(t)))}if(t.cs(e.MIN_VALUE))return this.FP?e.tV:e.ZERO;if(this.oV())return t.oV()?this.qE().aV(t.qE()):this.qE().aV(t).qE();if(t.oV())return this.aV(t.qE()).qE();for(n=e.ZERO,i=this;i.CV(t);){r=Math.max(1,Math.floor(i.nV()/t.nV()));for(var s=Math.ceil(Math.log(r)/Math.LN2),o=s<=48?1:Math.pow(2,s-48),a=e.DE(r),h=a.multiply(t);h.oV()||h.wV(i);)r-=o,a=e.DE(r,this.FP),h=a.multiply(t);a.sV()&&(a=e.ONE),n=n.add(a),i=i.hV(h)}return n},e.prototype.OV=e.prototype.aV,e.prototype.NV=function(t){return e.ZG(t)||(t=e.eV(t)),this.hV(this.aV(t).multiply(t))},e.prototype.ev=e.prototype.NV,e.prototype.not=function(){return e.qI(~this.low,~this.high,this.FP)},e.prototype.qP=function(t){return e.ZG(t)||(t=e.eV(t)),e.qI(this.low&t.low,this.high&t.high,this.FP)},e.prototype.or=function(t){return e.ZG(t)||(t=e.eV(t)),e.qI(this.low|t.low,this.high|t.high,this.FP)},e.prototype.pT=function(t){return e.ZG(t)||(t=e.eV(t)),e.qI(this.low^t.low,this.high^t.high,this.FP)},e.prototype.shiftLeft=function(t){return e.ZG(t)&&(t=t.kP()),0==(t&=63)?this:t<32?e.qI(this.low<<t,this.high<<t|this.low>>>32-t,this.FP):e.qI(0,this.low<<t-32,this.FP)},e.prototype.DV=e.prototype.shiftLeft,e.prototype.HP=function(t){return e.ZG(t)&&(t=t.kP()),0==(t&=63)?this:t<32?e.qI(this.low>>>t|this.high<<32-t,this.high>>t,this.FP):e.qI(this.high>>t-32,this.high>=0?0:-1,this.FP)},e.prototype.kV=e.prototype.HP,e.prototype.LP=function(t){if(e.ZG(t)&&(t=t.kP()),0===(t&=63))return this;var r=this.high;if(t<32){var i=this.low;return e.qI(i>>>t|r<<32-t,r>>>t,this.FP)}return 32===t?e.qI(r,0,this.FP):e.qI(r>>>t-32,0,this.FP)},e.prototype.LV=e.prototype.LP,e.prototype.UP=function(){return this.FP?new e(this.low,this.high,!1):this},e.prototype.BP=function(){return this.FP?this:new e(this.low,this.high,!0)},e})},function(e,t,r){"use strict";var i,n=this&&this.hu||function(e,t){function r(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},s=r(4),o=r(3),a=r(0),h=r(166),c=r(5),u=r(25),l=r(10),p=r(167),d=r(15),f=hive.services.protocol.IF.TrackerPeerInfo,g=r(6),E=r(1),v=r(2),y=g.he.Th;!function(e){e[e.MV=1]="ACCEPT",e[e.FV=2]="REJECT"}(i=t.UV||(t.UV={}));var T;!function(e){e[e.Jq=0]="ALL",e[e.BV=1]="IN",e[e.HV=2]="OUT"}(T=t.xV||(t.xV={}));var m=function(e){function t(){var t=e.call(this)||this;return t.loggerId="[Partnership] ",t.qV=new o,t.rG=new o,t.GV=-1,t.VV=-1,t.jV=-1,t.connected=!1,t.Ng=a.Framework.resolve(a.Framework.V.F),t.QV=a.Framework.resolve(d.qu.fu),t.KV=a.Framework.resolve(d.qu.gu),t.YV=a.Framework.resolve(d.qu.Eu),t.WV=a.Framework.resolve(d.qu.vu),t}return n(t,e),t.prototype.init=function(t){e.prototype.init.call(this,t),this.sG=t,this.ticket=t.rl.ticket,this.oG=t.oG,this.mD=t.mD,this.zV=t.zV},t.prototype.start=function(e){try{this.logger.info(this.loggerId+"PARTNERSHIP STARTED "+e.getContextId()),this.context=e,this.contextId=e.getContextId(),this.JV(c.hh.No.Po),this.XV(c.hh.fa.aa),this.ZV(c.hh.Ho.ko),this.active=!0}catch(e){E.ErrorMonitor.ve().logError("Error in partnership initialization",this.loggerId,v.hs.cr.Bt,e)}},t.prototype.stop=function(){return a.Framework.clearInterval(this.GV),a.Framework.clearInterval(this.VV),a.Framework.clearInterval(this.jV),this.context=null,this.contextId=null,this.active=!1,this.$V()},t.prototype.Ud=function(e){this.logger.info("PARTNERSHIP SERVER CONNECTED"),this.gd=e,this.connected=!0,null==this.yD.getId()&&this.yD.setId(this.gd)},t.prototype.ej=function(){this.connected=!1},t.prototype.tj=function(e){try{this.rj(e)||this.qV.has(e.peerInfo.guid)||this.rG.has(e.peerInfo.guid)||e.peerInfo.guid==this.gd?this.ij(e):this.nj(e),this.sj(e)&&this.oj(e)}catch(t){E.ErrorMonitor.ve().logError("Error in discoering new lan peer",this.loggerId,v.hs.cr.Ht,{detailedError:t,otherGuid:e.peerInfo.guid})}},t.prototype.ij=function(e){if(this.aj.has(e.peerInfo.guid)){var t=this.aj.get(e.peerInfo.guid);this.aj.delete(e.peerInfo.guid),this.gB.set(e.peerInfo.guid,t),this.yD.YG(!0)}},t.prototype.oj=function(e){if(this.dB.has(e.peerInfo.guid)){var t=this.dB.get(e.peerInfo.guid);this.dB.delete(e.peerInfo.guid),this.fB.set(e.peerInfo.guid,t)}},t.prototype.JV=function(e){var t=this;-1!=this.GV&&a.Framework.clearInterval(this.GV),this.GV=a.Framework.setInterval(function(){t.hj(!1)},e)},t.prototype.hj=function(e){var t=this;e&&this.GV&&(a.Framework.clearInterval(this.GV),this.JV(c.hh.No.Po));try{if(this.connected){this.logger.debug(this.loggerId+"ADDING NEW PEERS IF POSSIBLE, NOW "+this.aj.length+"/"+c.hh.No._o+","+this.gB.length+"/infinity OUT RND "+this.dB.length+" OUT LAN "+this.fB.length);var r=[].concat(this.qV.keys()).concat(this.rG.keys()),i=this.oG.cj(!0),n=void 0;n=this.yD.ck()||this.yD.Tk()?this.YV.uj(this.yD,c.hh.No._o,this.aj.values(),r,i):this.QV.uj(c.hh.No._o,this.aj.values(),r,i),this.lj=n.pj(),n.dj().forEach(function(e){t.nj(e)})}else this.logger.warn(this.loggerId+"NOT RUNNING IN PARTNER CHOICE, SRV DISCONNECTED")}catch(e){E.ErrorMonitor.ve().logError("Error in choosing in partners",this.loggerId,v.hs.cr.xt,e)}},t.prototype.nj=function(e){var t=this,r=e.peerInfo.guid,i=e.peerInfo.privateIpString,n=e.peerInfo.publicIpString;this.logger.debug(this.loggerId+"IN PARTNER ADD PROCESS "+r),this.rj(e)||this.qV.has(r)||this.rG.has(r)||this.zV.fj(r,i,n)||(this.rG.set(r,Date.now()),this.Ng.connect(r).then(function(i){var n=i.Pg.wg(t.sG.swarmId);if(null==n&&(n=i.Pg.Tg(t.sG.swarmId)),n){t.rG.get(r);t.rG.delete(r),t.active&&t.gj(n).then(function(i){if(t.Ej(n,e,i.msg),t.yj.vj(!1,!1),t.zV.Tj(r,e.peerInfo.privateIpString,e.peerInfo.publicIpString),t.mj(n),t.lj.length>0&&!e.Ij()){var s=t.lj[0];t.Sj(s.guid),s.wj.Rj(T.HV),t.lj.splice(0,1)}}).fail(function(e){E.ErrorMonitor.ve().logError("Error in requesting partnership",t.loggerId,v.hs.cr.Vt,{otherGuid:r}),t.yj.vj(!1,!0),t.bj(r)})}}).fail(function(e){E.ErrorMonitor.ve().logError("Error in creating new p2p connection",t.loggerId,v.hs.cr.Gt,{otherGuid:r}),t.yj.vj(!0,!0),t.rG.delete(r),t.oG.KG(r)}).done())},t.prototype.Cj=function(e,t){var r=this;try{var n=e.guid,s=null,o=null;if(e.privateIpString&&(o=e.privateIpString),e.publicIpString&&(s=e.publicIpString),this._j(n))this.logger.info(this.loggerId+"ALREADY OUT PARTNER "+n);else{var u=e.contextId,l=t.Pg.wg(this.sG.swarmId);if(this.contextId!==u||c.hh.Ho.Do!==e.p2pProtocolVersion||this.zV.fj(n,o,s))this.logger.info(this.loggerId+"PARTNERSHIP CANNOT BE ESTABLISHED WITH "+n+" CONTEXT ID "+u+" protocol version "+e.p2pProtocolVersion),this.Pj(l,i.FV);else{var p=this.Aj(e),d=void 0,f=void 0;if(p){if(this.oG.gG([p],!1),f=this.oG.Oj(n),!(d=f.Ij()||this.dB.length<c.hh.No.Oo)){this.logger.debug(this.loggerId+" got out part req from "+n+" - reached max "+this.dB.length+"/"+c.hh.No.Oo);var g=void 0;g=this.yD.ck()||this.yD.Tk()?this.WV.Nj(this.yD,p,this.dB.values()):this.KV.Nj(this.dB.values()),g&&(this.logger.debug(this.loggerId+" chocking "+g.guid),this.dB.delete(g.guid),g.wj.Rj(T.BV),d=!0)}}else d=!1;if(d){var y=new h.Partner(n,this.yj,l,this.logger,!1,f);e.reportingGuid&&y.Dj(e.reportingGuid),this.oG.kj.has(n)?this.fB.set(n,y):this.dB.set(n,y),this.logger.info(this.loggerId+"ADDED OUT PART "+n),this.Pj(l,i.MV),this.zV.Tj(n,o,s),a.Framework.setTimeout(function(){r.Lj(n)},500),this.yj.Mj()}else this.logger.info(this.loggerId+" cannot establish partnership to "+n+" - reached max "+this.dB.length+"/"+c.hh.No.Oo),this.Pj(l,i.FV)}}}catch(t){E.ErrorMonitor.ve().logError("Error receiving out partnership request",this.loggerId,v.hs.cr.jt,{detailedError:t,otherGuid:e.guid})}},t.prototype.Aj=function(e){try{var t=new f;t.guid=e.guid,e.internalAs&&(t.internalAs=e.internalAs),e.externalAs&&(t.externalAs=e.externalAs),e.publicIpString&&(t.publicIpString=e.publicIpString),e.privateIpString&&(t.privateIpString=e.privateIpString);var r=!1,i=this.oG.Oj(e.guid);if(i&&(r=i.peerInfo.isLeader),e.streamCharacteristics){var n=[];e.streamCharacteristics.forEach(function(e){var t=new l.TrackerPeerStreamInfo;t.state=e.streamState,t.bitrate=e.bitrate,t.delta=e.delta,n.push(t)}),t.streams=n}return new l.bc(l.Tc.yc,t,r)}catch(t){return E.ErrorMonitor.ve().logError("Error constructing discovered peer info",this.loggerId,v.hs.cr.Qt,{detailedError:t,otherGuid:e.guid}),null}},t.prototype.Pj=function(e,t){var r=this;this.logger.debug(this.loggerId+"SEND PART RESPONSE TO "+e.otherGuid);try{var n=new u.Rf.Fa.Jg.OutPartnershipResponse;if(n.accept=t,n.accept===i.MV){this.yD.gk()&&(n.internalAs=this.yD.gk()),this.yD.Fj()&&(n.externalAs=this.yD.Fj()),this.yD.getPublicIp()&&(n.publicIpString=this.yD.getPublicIp()),this.yD.getPrivateIp()&&(n.privateIpString=this.yD.getPrivateIp()),n.reportingGuid=this.yD.getReportingGuid();var s=this.yD.Uj(),o=[];s.forEach(function(e,t){var i=new u.Rf.Fa.Jg.StreamCharacteristics;i.bitrate=t,i.streamState=e.type,i.delta=null!=r.yD.getDelta()?r.yD.getDelta():-1,o.push(i)}),o.length>0&&n.setStreamCharacteristics(o)}e.Lg(u.Rf.Eg.pg,n)}catch(t){E.ErrorMonitor.ve().logError("Error constructing partnership response message",this.loggerId,v.hs.cr.Kt,{detailedError:t,otherGuid:e.otherGuid})}},t.prototype.Bj=function(e){this.logger.warn(this.loggerId+e)},t.prototype.Ej=function(e,t,r){var i=e.otherGuid;if(r.externalAs&&(t.peerInfo.externalAs=r.externalAs),r.internalAs&&(t.peerInfo.internalAs=r.internalAs),r.publicIpString&&(t.peerInfo.publicIpString=r.publicIpString),r.privateIpString&&(t.peerInfo.privateIpString=r.privateIpString),r.streamCharacteristics){var n=[];r.streamCharacteristics.forEach(function(e){var t=new l.TrackerPeerStreamInfo;t.state=e.streamState,t.bitrate=e.bitrate,t.delta=e.delta,n.push(t)}),t.peerInfo.streams=n}try{var s=new h.Partner(i,this.yj,e,this.logger,!0,t);return r.reportingGuid&&(s.reportingGuid=r.reportingGuid,e.receiver.setReportingGuid(r.reportingGuid),e.sender.setReportingGuid(r.reportingGuid)),t.peerInfo.type==l.Tc.W?(this.gB.set(i,s),this.yD.Hj(!0),this.yD.YG(!0)):(0!=this.yD.gk()&&this.yD.gk()===t.peerInfo.internalAs&&this.yD.Hj(!0),this.aj.set(i,s)),this.logger.debug(this.loggerId+i+" IS NOW IN PARTNER"),s}catch(e){E.ErrorMonitor.ve().logError("Error adding a new partner object in the list",this.loggerId,v.hs.cr.Yt,{detailedError:e,otherGuid:i})}},t.prototype.KG=function(e){try{this.logger.info(this.loggerId+"GOT PEER DISC "+e),this.xj(e)&&(this.logger.info(this.loggerId+"IN PRT DISC "+e),this.Sj(e)),this._j(e)&&(this.logger.info(this.loggerId+"OUT PRT DISC "+e),this.dB.delete(e),this.fB.delete(e))}catch(t){E.ErrorMonitor.ve().logError("Error removing disconected partner from the list",this.loggerId,v.hs.cr.Wt,{detailedError:t,otherGuid:e})}},t.prototype.Sj=function(e){var t=this;try{this.logger.debug(this.loggerId+"IN PARTNER REMOVE "+e);var r=this.qj(e);if(this.gD.Gj(r),this.aj.delete(e),this.gB.delete(e),this.gB.length>0)this.yD.Hj(!0);else if(0!=this.yD.gk()){var i=!1;this.aj.forEach(function(e){t.yD.gk()===e.Ek.peerInfo.internalAs&&(i=!0)}),this.yD.Hj(i)}else this.yD.Hj(!1)}catch(t){E.ErrorMonitor.ve().logError("Error removing the in partner",this.loggerId,v.hs.cr.zt,{detailedError:t,otherGuid:e})}},t.prototype.Vj=function(e,t){try{this.logger.debug(this.loggerId+"CLOSE RECEIVED FROM "+e+" TYPE "+T[t.getType()]),t.getType()!=T.Jq&&t.getType()!=T.HV||(this.dB.has(e)&&this.dB.delete(e),this.fB.has(e)&&this.fB.delete(e)),t.getType()!=T.Jq&&t.getType()!=T.BV||this.Sj(e)}catch(t){E.ErrorMonitor.ve().logError("Error when close received",this.loggerId,v.hs.cr.Jt,{detailedError:t,otherGuid:e})}},t.prototype.gj=function(e){var t=this,r=s.defer();try{var i=new u.Rf.Fa.Jg.OutPartnershipRequest;i.guid=this.gd,i.contextId=this.contextId,i.p2pProtocolVersion=c.hh.Ho.Do,i.reportingGuid=this.yD.getReportingGuid(),this.yD.gk()&&(i.internalAs=this.yD.gk()),this.yD.Fj()&&(i.externalAs=this.yD.Fj()),this.yD.getPrivateIp()&&(i.privateIpString=this.yD.getPrivateIp()),this.yD.getPublicIp()&&(i.publicIpString=this.yD.getPublicIp());var n=this.yD.Uj(),o=[];n.forEach(function(e,r){var i=new u.Rf.Fa.Jg.StreamCharacteristics;i.bitrate=r,i.streamState=e.type,i.delta=null!=t.yD.getDelta()?t.yD.getDelta():-1,o.push(i)}),o.length>0&&i.setStreamCharacteristics(o),this.logger.debug(this.loggerId+"SEND PART REQ TO "+e.otherGuid+" WITH ID "+i.contextId+" internalAS "+i.internalAs+" externalAs "+i.externalAs+" private ip "+i.privateIpString+" public ip "+i.publicIpString+" rGuid "+this.yD.getReportingGuid());var h=a.Framework.setTimeout(function(){t.jj(r,e.otherGuid)},c.hh.No.Co);this.qV.set(e.otherGuid,{mG:h,defer:r}),e.Lg(u.Rf.Eg.lg,i)}catch(t){E.ErrorMonitor.ve().logError("Error sending partnership request",this.loggerId,v.hs.cr.Xt,{detailedError:t,otherGuid:e.otherGuid}),r.reject(t)}return r.Ss},t.prototype.Qj=function(e,t){var r=t.otherGuid,n=this.qV.get(r);n?(a.Framework.clearTimeout(n.mG),this.qV.delete(r),e.accept===i.MV?n.defer.resolve({yg:t,msg:e}):n.defer.reject("NOT ACCEPTED")):E.ErrorMonitor.ve().logError("Error receiving out partnership response from an unknown peer",this.loggerId,v.hs.cr.er,{otherGuid:r})},t.prototype.jj=function(e,t){if(this.qV.has(t)){E.ErrorMonitor.ve().logError("Error partnership request expired",this.loggerId,v.hs.cr.Zt,{otherGuid:t});var r=this.qV.get(t);this.qV.delete(t),r.defer.reject("EXPIRED")}else E.ErrorMonitor.ve().logError("Error partnership request expired for unknown peer",this.loggerId,v.hs.cr.$t,{otherGuid:t})},t.prototype.$V=function(){var e=this,t=s.defer(),r=this.aj.values();this.gB.forEach(function(e,t){r.push(e)});var i=r.slice().map(function(e){return e.wj.close()});return s.all(i).then(function(e){t.resolve("resolved")}).fail(function(r){E.ErrorMonitor.ve().logError("Error closing partnership",e.loggerId,v.hs.cr.tr),t.reject("could not close")}),t.Ss},t.prototype.bj=function(e){this.Ng.disconnect(e)},t.prototype.XV=function(e){var t=this;-1!=this.VV&&a.Framework.clearInterval(this.VV),this.VV=a.Framework.setInterval(function(){t.Kj()},e)},t.prototype.Kj=function(){try{if(this.yD.yk()&&!this.yD.ck()&&y){var e=this.yD.Rk(),t=this.context.PD().bitrate;if(t&&this.xj(e.uuid)){var r=this.qj(e.uuid);this.Yj(r.wj,t)}}}catch(e){E.ErrorMonitor.ve().logError("Error announcing bitrate",this.loggerId,v.hs.cr.rr,e)}},t.prototype.Yj=function(e,t){try{var r=new u.Rf.Fa.Jg.Bitrate;r.guid=this.gd,r.bitrate=t,this.logger.debug(this.loggerId+"ANNOUNCE BITRATE "+r.bitrate+" TO PEER GUID "+e.otherGuid),e.Lg(u.Rf.Eg.Bitrate,r)}catch(t){E.ErrorMonitor.ve().logError("Error constructing bitrate announcement",this.loggerId,v.hs.cr.ir,{detailedError:t,otherGuid:e.otherGuid})}},t.prototype.Wj=function(e){try{this.logger.debug(this.loggerId+"RECEIVED BITRATE "+e.bitrate+" FROM PEER GUID "+e.guid),this.oG.kj.has(e.getGuid())&&(this.oG.kj.get(e.guid).zj(e.bitrate),this.mD.Jj())}catch(t){E.ErrorMonitor.ve().logError("Error receiving bitrate info",this.loggerId,v.hs.cr.nr,{detailedError:t,otherGuid:e.guid})}},t.prototype.Xj=function(e){try{var t=e.guid,r=this.qj(t);r&&this.Zj(r,e),r=this.$j(t),r&&this.Zj(r,e),this.zV.Tj(t,e.privateIpString,e.publicIpString)}catch(t){E.ErrorMonitor.ve().logError("Error receiving peer info",this.loggerId,v.hs.cr.sr,{detailedError:t,otherGuid:e.guid})}},t.prototype.Zj=function(e,t){var r=e.Ek.peerInfo;if(t.privateIpString&&(r.privateIpString=t.privateIpString),t.publicIpString&&(r.publicIpString=t.publicIpString),t.externalAs&&(r.externalAs=t.externalAs),t.internalAs&&(r.internalAs=t.internalAs),t.streamCharacteristics){var i=[];t.streamCharacteristics.forEach(function(e){var t=new l.TrackerPeerStreamInfo;t.bitrate=e.bitrate,t.delta=e.delta,t.state=e.streamState,i.push(t)}),r.streams=i}},t.prototype.ZV=function(e){var t=this;this.jV&&a.Framework.clearInterval(this.jV),this.jV=a.Framework.setInterval(function(){t.eQ()},e)},t.prototype.eQ=function(){var e=this;try{if(this.yD.getPrivateIp()||this.yD.getPublicIp()||this.yD.gk()||this.yD.Fj()){var t=this.tQ(),r=new u.Rf.Fa.Jg.PeerInfoMessage;r.guid=this.yD.getId(),this.yD.getPrivateIp()&&(r.privateIpString=this.yD.getPrivateIp()),this.yD.getPublicIp()&&(r.publicIpString=this.yD.getPublicIp()),this.yD.Fj()&&(r.externalAs=this.yD.Fj()),this.yD.gk()&&(r.internalAs=this.yD.gk());var i=this.yD.Uj(),n=[];i.forEach(function(t,r){var i=new u.Rf.Fa.Jg.StreamCharacteristics;i.bitrate=r,i.streamState=t.type,i.delta=null!=e.yD.getDelta()?e.yD.getDelta():-1,n.push(i)}),n.length>0&&r.setStreamCharacteristics(n),t.forEach(function(e,t){e.wj.Lg(u.Rf.Eg.nd,r)})}}catch(e){E.ErrorMonitor.ve().logError("Error announcing peer info to all partners",this.loggerId,v.hs.cr.ar,e)}},t.prototype.tQ=function(){try{var e=new o;return this.dB.forEach(function(t,r){e.has(r)||e.set(r,t)}),this.fB.forEach(function(t,r){e.has(r)||e.set(r,t)}),this.gB.forEach(function(t,r){e.has(r)||e.set(r,t)}),this.aj.forEach(function(t,r){e.has(r)||e.set(r,t)}),e}catch(e){return E.ErrorMonitor.ve().logError("Error collecting all partners",this.loggerId,v.hs.cr.hr,e),new o}},t}(p.rQ);t.iQ=m},function(e,t,r){"use strict";var i=function(){function e(){}return e}();i.nQ=!0,i.sQ=3e4,i.oQ=6e4,i.aQ=3e4,t.hQ=i;var n=function(){function e(){}return e}();n.Xa="site",n.Za="externalAs",n.$a="availableSendRate",n.eh="remoteAddress",n.th="localAddress",t.cQ=n},function(e,t,r){"use strict";var i=function(){function e(e,t){this.uQ=e,this.lQ=t}return e.prototype.pj=function(){return this.lQ},e.prototype.dj=function(){return this.uQ},e}();t.pQ=i},function(e,t,r){"use strict";var i=function(){function e(){}return e.dQ=function(e,t){var r=e.gQ.fQ(!1),i=t.gQ.fQ(!1);return r>i?1:r<i?0:-1},e}();t.EQ=i;var n=function(){function e(){}return e.dQ=function(e,t){var r=e.vQ.fQ(!1),i=t.vQ.fQ(!1);return r>i?1:r<i?0:-1},e}();t.yQ=n},function(e,t,r){"use strict";var i=r(3),n=r(4),s=r(0),o=r(104),a=r(105),h=r(26),c=r(41),u=r(18),l=r(21),p=r(109),d=r(22),f=r(111),g=r(8),E=r(113),v=r(56),y=r(32),T=r(1),m=r(46),I=r(29),S=r(6),R=o.HiveComm.Options,w=a.HiveComm.TQ,b=h.HiveComm.oE,C=h.HiveComm.SE,_=h.HiveComm.HiveTechError,P=h.HiveComm.vE,A=h.HiveComm.wE,O=r(54),N=S.he.dh,D=S.he.lh,k=S.he.uh,L=S.he.ph;(k||L)&&r(14).HiveConfig,t.version=N;var M;!function(e){var a=function(){function e(e){this.mQ=[w[w.HiveJava],w[w.HiveJsProxy],w[w.HiveJS],w[w.StatsJS]],this.IQ=new i,this.SQ=new Array,this.RQ=new Array,this.wQ=null,this.bQ=0,this.CQ=0,this.loggerId="[HiveComm] ",this._Q=0,this.PQ=u.Rl.getItem("hivePluginId"),this.PQ||(this.PQ=Math.abs(Math.floor(68719476736*Math.random())).toString(16),u.Rl.setItem("hivePluginId",this.PQ)),T.ErrorMonitor.ve(t.version),this.options_=new R.AQ,this.OQ(e),l.Sp(e,this.options_),l.Rp(window.location.href,new R.NQ,this.options_),o.kQ.DQ(this.options_),this.ff=s.Framework.resolve(s.Framework.V.R),c.HiveConfig.Framework.LoggerTimestamp=this.options().loggerTimestamp,this.ff.fN(this.options().debugLevel),T.ErrorMonitor.ve().me(this.ff.log());var r=s.Framework.resolve(g.pc.M),n=s.Framework.resolve(g.pc.sc);r.Zl().then(function(e){T.ErrorMonitor.ve().setUser(e.tp()),T.ErrorMonitor.ve().Ie({reportingGuid:e.rp()}),T.ErrorMonitor.ve().Ie({p2pId:e.tp()})});var a={};new p.LQ(this),n.getConnectivityInfo().then(function(e){a={pIPAddr:e.getNetworkChanged().getPrivateIp()},T.ErrorMonitor.ve().Ie({privateIp:a.pIPAddr})}),window.gf=this.ff.log(),this.MQ(),this.pluginReference=new A(this);var h=this.options().idleTimePeriod>this.options().feedbackPeriod?this.options().idleTimePeriod:I.L.nh;this.FQ=new u.Nl(h)}return e.prototype.options=function(){return this.options_},e.prototype.logger=function(){return this.wQ?this.ff.log(this.wQ.id):this.ff.log()},e.prototype.loggerLevel=function(){if(this.logger)return this.ff.level},e.prototype.getPluginId=function(){return this.PQ},e.prototype.getCommVersion=function(){return t.version},e.prototype.updateCommsForInitSessions=function(){for(var e=0,t=this.RQ;e<t.length;e++){var r=t[e];r.tech.LL(this),"HiveJS"===r.tech.getName()&&r.tech.UQ&&r.tech.UQ.LL(this)}},e.prototype.OQ=function(e){var t=new v.StatsJS(this,e);if(this.IQ.set(v.StatsJS.EL,t),k){var i=r(132).HiveJS;this.IQ.set(i.EL,new i(this,e,t))}if(L){var n=r(199).HiveJsProxy;this.IQ.set(n.EL,new n(this,e,t))}if(D){var s=r(201).HiveJava;this.IQ.set(s.EL,new s(this,e))}var o=e.hiveTechOrder;if(!o||o instanceof Array)if(o&&o.length>0)for(var a=o.length;a--;){var h=o[a];"string"!=typeof h||-1==this.mQ.indexOf(h)?(console.warn(this.loggerId+'The "'+h+'" Hive tech is undefined'),o.splice(a,1)):"string"==typeof h&&this.IQ.has(h)||console.warn(this.loggerId+'The "'+h+'" Hive tech is not enabled on this plugin')}else o=this.mQ;else console.warn(this.loggerId+"hiveTechOrder value not accepted. It must be an array of strings"),o=this.mQ;e.hiveTechOrder=o},e.prototype.resolveTicketPromise=function(e){var t=this;this.logger().notice(this.loggerId+"resolving "+e);var r=n.defer();if(!e)return r.reject(u.Sl("",b.sE,"No ticket provided.")),r.Ss;this.BQ(e);var i=this.HQ().values();0==i.length&&r.reject(u.Sl(e,b.rE));var s,o,a=!1,h=!1,c=0,p=null;return l.wp(function(){return!a&&!h&&c<i.length&&!s},function(){var r=i[c++];r.kL();var u;return u=r.vL()&&!o?t.KB(e,t.options().testId):n.resolve(null),u.then(function(i){null!=i&&(o=i);var s=r.mL();return r.initSession(e,o).timeout(s,"["+r.getName()+"] Error: initialization timed out after "+s+"ms").then(function(e){p=e,t.xQ(p,r),a=!0,!r.vL()&&o&&o.Hl.reset(),T.ErrorMonitor.ve().Ie({sessionId:p.id}),t.logger().notice(t.loggerId+"initializing Session:["+p.id+"] Ticket:"+p.ticket.toString()+" HiveTech:["+p.tech.getName()+"]"),n.resolve(!0)},function(i){i instanceof Error&&(i=new _(P.EE,i.message),r.DL(i)),i.ticketUrl=e,h=!r.onError(i),t.logger().debug(t.loggerId+"tech "+r.getName()+": "+i.message),n.resolve(!0)})},function(e){s=e,n.resolve(!0)})}).then(function(){s?r.reject(u.Sl(e,b.sE,s)):h?r.reject(u.Sl(e,b.nE)):a?r.resolve(p):r.reject(u.Sl(e,b.rE))}).catch(function(i){T.ErrorMonitor.ve().logError("Error resolving ticket promise",t.loggerId,i),r.reject(u.Sl(e,b.tE,i.toString()))}).done(),r.Ss},e.prototype.KB=function(e,t){var r=this;return y.Hive.Reporting().initSession(e,!1,t).then(function(t){return r.logger().debug(r.loggerId+"verified ticket "+e),r.updatePlayerInfo(t),t}).catch(function(e){return n.reject("Ticket not verified, error: "+e.message)})},e.prototype.HQ=function(){var e=JSON.parse(JSON.stringify(this.options().hiveTechOrder)),t=new i;for(var r in e)this.IQ.has(e[r])&&t.set(e[r],this.IQ.get(e[r]));return t},e.prototype.BQ=function(e){var t=T.ErrorMonitor.ve();try{var r=new m.BN;r.RN(e),r.up()&&r.cp()&&r.hp()?t.setTags([r.up(),r.cp(),r.hp()]):t.logError("Ticket not valid, we could not resolve the triple partnerId/CustomerId/ContentId",this.loggerId,{partnerId:r.up(),customerId:r.cp(),contentId:r.hp()})}catch(e){this.logger().warn(this.loggerId+" "+e.message,e),t.notify(e)}},e.prototype.updatePlayerInfo=function(e){var r={commVersion:t.version,pluginName:this.getPluginName(),pluginVersion:this.getPluginVersion(),playerTech:this.getPlayerTech(),playerVersion:this.getPlayerVersion(),telemetryId:this.getTelemetryId()};e.Hl.updatePlayerInfo(r)},e.prototype.onSetupTimeout=function(){window.HiveRequest=XMLHttpRequest,u.HiveRequestFactory.clear(),y.Hive.Reporting().close()},e.prototype.addTechEvent=function(e){this.wQ&&this.wQ.tech?(e.sessionId=this.wQ.id,this.wQ.tech.bd(this.wQ,e)):this.SQ.push(e)},e.prototype.flushTechEvents=function(){var e=this.SQ;return this.SQ=new Array,e},e.prototype.MQ=function(){var e=this,t=window;t.addEventListener?t.addEventListener("beforeunload",function(){e.qQ(!0,!1)},!1):t.attachEvent("onbeforeunload",function(){e.qQ(!0,!1)})},e.prototype.closeHiveSession=function(e){this.logger().debug("Manually Closing Session"+(e?" because: "+e:""));var t=this.getActiveSession();t&&u.HiveRequestFactory.clearSessionState(t.id),this.resetSession(!0)},e.prototype.resetSession=function(e){var t=this;this.qQ(e),!1===e?this.wQ&&this.RQ.every(function(e){return e.id!==t.wQ.id})&&this.RQ.unshift(this.wQ):this.RQ.length=0,this.GQ(),this.wQ=null,this.bQ=0,this.CQ=0},e.prototype.xQ=function(e,t){e.tech=t,this.RQ.push(e)},e.prototype.onActivateSession=function(e){if(null==this.wQ){for(var t=e||this.getPlayerSource(),r=0;r<this.RQ.length;r++){var i=this.RQ[r];if(i.isActive(t)){if(this.wQ=i,this.wQ.rl?this.wQ.rl.Fl.SD(this.wQ.ticket):this.VQ(),this.RQ.length=0,this.wQ.tech.onActiveSession(this.wQ),this.logger().notice(this.loggerId+"activating Session:["+this.wQ.id+"] Ticket:"+this.wQ.ticket.toString()+" HiveTech:["+this.wQ.tech.getName()+"]"),this.jQ(),this.options().onActiveSession)try{this.options().onActiveSession(i.toHiveSession())}catch(e){T.ErrorMonitor.ve().logError(this.loggerId+" exception in user-defined Generic onActiveSession callback: "+e)}return!0}}this.logger().warn(this.loggerId+"Closing sessions - the active stream doesn't match any initialized sessions"),this.logger().warn(this.loggerId+"Active:"+t+" - initialized: "+this.RQ.length),this.resetSession()}return!1},e.prototype.getActiveSession=function(){if(this.wQ)return this.wQ.toHiveSession()},e.prototype.VQ=function(){var e=!1;this.RQ.forEach(function(t){t.rl&&(e=!0)}),e&&y.Hive.Reporting().close()},e.prototype.isSessionActive=function(){if(null!=this.wQ){if(this.wQ.isActive(this.getPlayerSource()))return!0;this.logger().warn(this.loggerId+"Session src mismatch: "+this.getPlayerSource()+" != "+this.wQ.manifest),this.resetSession()}return!1},e.prototype.qQ=function(e,t){if(void 0===t&&(t=!0),null!=this.wQ)this.logger().notice(this.loggerId+"Stopping session ["+this.wQ.id+"]"),this.wQ.close(e,t);else if(this.RQ.length>0){var r=this.RQ[0];this.logger().notice(this.loggerId+"Attempt to stopping session ["+r.id+"]"),r.close(e,t)}},e.prototype.jQ=function(){var e=this;null==this.QQ&&(this.QQ=setInterval(function(){e.KQ()},this.options().feedbackPeriod),this.KQ())},e.prototype.GQ=function(){clearInterval(this.QQ),this.QQ=null},e.prototype.KQ=function(){var e=this;if(this.isSessionActive()){if(!this.isActive())return void this.resetSession();var t=new u.ul;t.Pl=this.getCurrentTime(),t.Al=this.getBufferLen(),t.Ol=this.bQ,t.width=this.getWindowSize().width,t.height=this.getWindowSize().height,t.YQ=this.isFullscreen(),this.wQ.il(this.FQ.bl(t)),this.wQ.tech.SL(this.wQ,t).fail(function(t){e.logger().warn(e.loggerId+"stats handling failed",t),e.GQ()})}},e.prototype.registerGenericEvents=function(){var e=this;try{u.Tl.ve(this.logger()).yl(function(t){var r=e.getPotentialSession();r&&!r.sl()&&(e.onEventFeedback(t?d.Gl.Yp.Kp:d.Gl.Yp.HIDDEN),e.logger().debug(t?"visible":"hidden"))})}catch(e){T.ErrorMonitor.ve().logError("error setting up the visibilityChange listener",this.loggerId,{error:e})}},e.prototype.onStartBuffering=function(e){this.isSessionActive()&&this.CQ<=0&&(this.CQ=Date.now(),(void 0==e||e)&&this.onEventFeedback(d.Gl.Yp.xp))},e.prototype.onEndBuffering=function(){var e=0==this.bQ;if(this.CQ>0){var t=Date.now()-this.CQ;return this.bQ+=t,this.logger().debug(this.loggerId+"reporting new buffering event of "+t),this.CQ=0,e&&this.KQ(),!0}return!1},e.prototype.onError=function(e,t,r){void 0===r&&(r=!0),this.onEventFeedback(d.Gl.Yp.ERROR,{code:-1,"player-code":e}),r&&this.resetSession()},e.prototype.onEventFeedback=function(e,t){var r=this,i=this.getPotentialSession();null==i||i!=this.wQ&&i.tech.getName()===w[w.HiveJava]||i.tech.CL(i,e,t).fail(function(e){r.logger().warn(r.loggerId+"error in forwarding player event to tech",e)})},e.prototype.getPotentialSession=function(){return this.wQ?this.wQ:this.RQ&&this.RQ.length>0?this.RQ[0]:void 0},e.prototype.initStatusCode=function(){this._Q=0},e.prototype.setStatusCode=function(e,t){this.initStatusCode();this._Q+=e<<28,t&&0===e&&(this._Q+=1<<4*(6-w[t.getName()])),e>0&&T.ErrorMonitor.ve().logError("Status Code Error",this.loggerId,{code:C[e]},["Plugin Error Code",C[e]])},e.prototype.getStatusCode=function(){return this._Q},e.prototype.getTelemetryId=function(){return this.options().telemetryId},e.logError=function(e,t,r,i){var n=T.ErrorMonitor.ve();n.logError.apply(n,arguments)},e.prototype.registerComm=function(e){O.zu.registerComm(this,e)},e}();e.Plugin=a}(M=t.HiveComm||(t.HiveComm={})),s.Framework.$(new f.WQ),s.Framework.ie("peer0",new E.zQ),s.Framework.ne("peer0"),"undefined"!=typeof window&&(window.HiveRequestFactory=u.HiveRequestFactory,void 0===window.HiveComm&&(window.HiveComm={}),window.HiveComm.Plugin=M.Plugin,window.HiveComm.Options=R.AQ,window.HiveComm.HiveRequestFactory=u.HiveRequestFactory,window.HiveComm.zu=O.zu,window.HiveComm.HivePlayerExtendedStats=u.HivePlayerExtendedStats,window.HiveComm.TechName=a.HiveComm.TechName,window.HiveComm.logError=M.Plugin.logError)},function(e,t){if(!RegExp.escape){var r=/[-[\]{}()*+?.\\^$|,#\s]/g;RegExp.escape=function(e){return e.replace(r,"\\$&")}}},function(e,t,r){"use strict";function i(){throw new Error("Can't construct. MapChanges is a mixin.")}var n=r(37),s=r(50);e.i=i;var o=(Object.prototype.hasOwnProperty,new n),a=null;i.prototype.JQ=function(){return o.has(this)||(a||(a=r(51)),o.set(this,a())),o.get(this)},i.prototype.XQ=function(e){var t=this.JQ();return e=e||"",t.has(e)||t.set(e,{Yc:new s,Wc:new s}),t.get(e)},i.prototype.ZQ=function(e,t,r){!this.Zc&&this.Xc&&this.Xc();var i,n=this.XQ(t);i=r?n.Yc:n.Wc,i.push(e),Object.defineProperty(this,"dispatchesMapChanges",{value:!0,Ah:!0,l:!0,p:!1});var s=this;return function(){s&&(s.$Q(e,t,r),s=null)}},i.prototype.$Q=function(e,t,r){var i,n=this.XQ(t);i=r?n.Yc:n.Wc;var s=i.Lk(e);if(!s)throw new Error("Can't remove map change listener: does not exist: token "+JSON.stringify(t));s.delete()},i.prototype.Xk=function(e,t,r){var i="Map"+(r?"WillChange":"Change");this.JQ().forEach(function(n,s){if(!n.isActive){n.isActive=!0;var o;o=r?n.Yc:n.Wc;var a="handle"+(s.slice(0,1).toUpperCase()+s.slice(1))+i;try{o.forEach(function(r){if(r[a])r[a](t,e,this);else{if(!r.call)throw new Error("Handler "+r+" has no method "+a+" and is not callable");r.call(r,t,e,this)}},this)}finally{n.isActive=!1}}},this)},i.prototype.eK=function(e,t){return this.ZQ(e,t,!0)},i.prototype.tK=function(e,t){return this.$Q(e,t,!0)},i.prototype.Jk=function(e,t){return this.Xk(e,t,!0)}},function(e,t,r){"use strict";function i(e,t,r,n){if(!(this instanceof i))return new i(e,t,r,n);t=t||Object.cs,r=r||Object.hash,n=n||Function.us,this.ls=t,this.ps=r,this.ds=n;var s=this;this.rK=new this.iK(null,function(){return new s.nK}),this.length=0,this.addEach(e)}var n=(r(11),r(51)),s=r(50),o=r(12),a=r(39),h=r(69),c=r(13);Object.prototype.hasOwnProperty;e.i=i,i.sK=i,Object.addEach(i.prototype,o.prototype),Object.addEach(i.prototype,a.prototype),Object.addEach(i.prototype,c.prototype),i.prototype.iK=n,i.prototype.nK=s,i.prototype.Es=function(e){return new this.constructor(e,this.ls,this.ps,this.ds)},i.prototype.has=function(e){var t=this.ps(e);return this.rK.get(t).has(e)},i.prototype.get=function(e,t){if(t)throw new Error("FastSet#get does not support second argument: equals");var r=this.ps(e),i=this.rK;return i.has(r)?i.get(r).get(e):this.ds(e)},i.prototype.delete=function(e,t){if(t)throw new Error("FastSet#delete does not support second argument: equals");var r=this.ps(e),i=this.rK;if(i.has(r)){var n=i.get(r);if(n.delete(e))return this.length--,0===n.length&&i.delete(r),!0}return!1},i.prototype.clear=function(){this.rK.clear(),this.length=0},i.prototype.add=function(e){var t=this.ps(e),r=this.rK;return r.has(t)||r.set(t,new this.nK(null,this.ls)),!r.get(t).has(e)&&(r.get(t).add(e),this.length++,!0)},i.prototype.reduce=function(e,t){var r=arguments[2],i=0;return this.rK.reduce(function(t,n){return n.reduce(function(t,n){return e.call(r,t,n,i++,this)},t,this)},t,this)},i.prototype.Bc=function(){if(this.length>0)return this.rK.Bc().Bc()},i.prototype.Hc=function(){return this.rK.values().kc().Hc()},i.prototype.log=function(e,t,r,i){e=e||h.hU,t=t||this.vs,r||(r=console.log,i=console),r=r.bind(i);var n=this.rK,s=n.keys();s.forEach(function(o,a){var h,c;a===s.length-1?(h=e.nU,c=" "):0===a?(h=e.rU,c=e.oU):(h=e.sU,c=e.oU);var u=n.get(o);r.call(i,h+e.eU+e.rU+" "+o),u.forEach(function(n,s){var o,a;s===u.head.Ok?(o=e.nU,a=" "):(o=e.sU,a=e.oU);var h;t(s,function(t){h?r.call(i,c+" "+a+"  "+t):(r.call(i,c+" "+o+e.eU+e.eU+t),h=!0)},function(t){r.call(i,c+" "+e.oU+"  "+t)})})})},i.prototype.vs=function(e,t){var r=e.value;Object(r)===r?JSON.stringify(r,null,4).split("\n").forEach(function(e){t(" "+e)}):t(" "+r)}},function(e,t,r){"use strict";function i(e){if(!(this instanceof i))return new i(e);if(Array.isArray(e)||"string"==typeof e)return i.Hc(e);if((e=n(e))instanceof i)return e;if(e.next)this.next=function(){return e.next()};else if(e.Hc){var t=e.Hc();this.next=function(){return t.next()}}else{if("[object Function]"!==n.prototype.toString.call(e))throw new TypeError("Can't iterate "+e);this.next=e}}e.i=i;var n=r(36),s=r(12);i.prototype.forEach=s.prototype.forEach,i.prototype.map=s.prototype.map,i.prototype.filter=s.prototype.filter,i.prototype.every=s.prototype.every,i.prototype.some=s.prototype.some,i.prototype.uo=s.prototype.uo,i.prototype.all=s.prototype.all,i.prototype.min=s.prototype.min,i.prototype.max=s.prototype.max,i.prototype.Nc=s.prototype.Nc,i.prototype.Dc=s.prototype.Dc,i.prototype.kc=s.prototype.kc,i.prototype.Lc=s.prototype.Lc,i.prototype.enumerate=s.prototype.enumerate,i.prototype.Fc=s.prototype.Fc,i.prototype.group=s.prototype.group,i.prototype.reversed=s.prototype.reversed,i.prototype.toArray=s.prototype.toArray,i.prototype.Pc=s.prototype.Pc,i.prototype.iterator=s.prototype.iterator,i.prototype.Gk=null,n.defineProperty(i.prototype,"_iterationObject",{get:function(){return this.Gk||(this.Gk={done:!1,value:void 0})}}),i.prototype.Es=function(e){var t=[];return t.addEach(e),t},i.prototype.oK=function(e){var t=i(this),r=arguments[1],s=0;if("[object Function]"!=n.prototype.toString.call(e))throw new TypeError;return new t.constructor(function(){if(!0!==t.Vk.done){var i=e.call(r,t.next().value,s++,t);t.Vk.value=i}return t.Vk})},i.prototype.aK=function(e){var t=i(this),r=arguments[1],s=0;if("[object Function]"!=n.prototype.toString.call(e))throw new TypeError;return new t.constructor(function(){for(var i;;){if(i=t.next(),!0===i.done)return i;if(e.call(r,i.value,s++,t))return i}})},i.prototype.reduce=function(e){var t,r=i(this),s=arguments[1],o=arguments[2],a=0;if("[object Function]"!=n.prototype.toString.call(e))throw new TypeError;if(t=r.next(),!0===t.done){if(arguments.length>1)return arguments[1];throw TypeError("cannot reduce a value from an empty iterator with no initial value")}for(s=arguments.length>1?e.call(o,s,t.value,a,r):t.value,a++;;){if(t=r.next(),!0===t.done)return s;s=e.call(o,s,t.value,a,r),a++}},i.prototype.concat=function(){return i.concat(Array.prototype.concat.apply(this,arguments))},i.prototype.hK=function(e){var t,r,s=i(this),o=arguments[1],a=!1,h=0;if("[object Function]"!=n.prototype.toString.call(e))throw new TypeError;for(;;){if(r=s.next(),!0===r.done)break;if(!e.call(o,r.value,h,s)){a=!0,t=r.value;break}h++}return a?s.constructor([t]).concat(s):s.constructor([])},i.prototype.cK=function(e){var t=i(this),r=arguments[1],s=0;if("[object Function]"!=n.prototype.toString.call(e))throw new TypeError;return new t.constructor(function(){if(!0!==t.Vk.done){var i=t.next().value;e.call(r,i,s++,t)?t.Vk.value=i:(t.Vk.done=!0,t.Vk.value=void 0)}return t.Vk})},i.prototype.uK=function(){return i.Mc(Array.prototype.concat.apply(this,arguments))},i.prototype.lK=function(e){return i.count(e).uK(this)},i.Hc=function(e){var t;return t=0,new i(function(){if("object"==typeof e)for(;!(t in e);){if(t>=e.length){this.Vk.done=!0,this.Vk.value=void 0;break}t+=1}else t>=e.length&&(this.Vk.done=!0,this.Vk.value=void 0);return this.Vk.done||(this.Vk.value=e[t],t+=1),this.Vk})},i.pK=function(e,t){var r;return arguments.length<2&&(t=1/0),new i(function(){var n,s;return r&&(s=r()),r&&!0!==s.done||(t>0?(t--,n=i.Hc(e),s=(r=n.next.bind(n))()):(this.Vk.done=!0,s=this.Vk)),s})},i.concat=function(e){e=i(e);var t;return new i(function(){var r,n;return t&&(n=t()),n&&!0!==n.done?n:(n=e.next(),!1===n.done?(r=i(n.value),(t=r.next.bind(r))()):n)})},i.Mc=function(e){return e=i(e).map(i),new i(0===e.length?[]:function(){var t,r,i=e.map(function(e){return r=e.next(),!0===r.done&&(t=!0),r.value});return t?(this.Vk.done=!0,this.Vk.value=void 0):this.Vk.value=i,this.Vk})},i.Lc=function(){return i.Mc(Array.prototype.slice.call(arguments))},i.chain=function(){return i.concat(Array.prototype.slice.call(arguments))},i.range=function(e,t,r){return arguments.length<3&&(r=1),arguments.length<2&&(t=e,e=0),e=e||0,r=r||1,new i(function(){e>=t&&(this.Vk.done=!0,this.Vk.value=void 0);var i=e;return e+=r,this.Vk.value=i,this.Vk})},i.count=function(e,t){return i.range(e,1/0,t)},i.repeat=function(e,t){return new i.range(t).oK(function(){return e})}},function(e,t,r){"use strict";var i=this&&this.hu||function(e,t){function r(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=r(20),s=n.HiveComm.Options.Options,o=n.HiveComm.Options.mp;!function(e){!function(e){var t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.authTokenEnabled=!0,t.dashRemoveBitrateSize=!1,t.dashFilterBitrates=null,t.staticPartnerId=null,t.staticCustomerId=null,t.audioMetrics=!0,t.logJsonSnapshots=void 0,t}return i(t,e),t}(s);e.AQ=t;var r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hiveAuthTokenEnabled="authTokenEnabled",t.hiveDashRemoveBitrateSize="dashRemoveBitrateSize",t.hiveDashFilterBitrates="dashFilterBitrates",t.hiveLogJsonSnapshots="logJsonSnapshots",t.hiveStaticPartnerId="staticPartnerId",t.hiveStaticCustomerId="staticCustomerId",t.hiveAudioMetrics="audioMetrics",t}return i(t,e),t}(o);e.NQ=r}(e.Options||(e.Options={}))}(t.HiveComm||(t.HiveComm={}));var a=function(){function e(){}return e.DQ=function(e){"dashRemoveBitrateSize"in e&&e.dashRemoveBitrateSize&&window.HiveConfig&&window.HiveConfig.Dash&&(window.HiveConfig.Dash.DashRemoveBitrateSize=e.dashRemoveBitrateSize),"dashFilterBitrates"in e&&e.dashFilterBitrates&&window.HiveConfig&&window.HiveConfig.Dash&&(window.HiveConfig.Dash.DashFilterBitrates=e.dashFilterBitrates),"staticCustomerId"in e&&e.staticCustomerId&&window.HiveConfig&&window.HiveConfig.ClientInfo&&(window.HiveConfig.ClientInfo.uu=e.staticCustomerId),"staticPartnerId"in e&&e.staticPartnerId&&window.HiveConfig&&window.HiveConfig.ClientInfo&&(window.HiveConfig.ClientInfo.cu=e.staticPartnerId),"audioMetrics"in e&&!e.audioMetrics&&window.HiveConfig&&window.HiveConfig.Stats&&(window.HiveConfig.Stats.AudioAccounting=e.audioMetrics),"detectPrivateIP"in e&&"boolean"==typeof e.detectPrivateIP&&window.HiveConfig&&window.HiveConfig.ConnInfo&&(window.HiveConfig.ConnInfo.detectPrivateIP=e.detectPrivateIP),"logJsonSnapshots"in e&&e.logJsonSnapshots&&window.HiveConfig&&window.HiveConfig.DebugLogs&&(window.HiveConfig.DebugLogs.MetricSnapshotLogs=1,window.HiveConfig.DebugLogs.TrackSnapshotLogs=1,window.HiveConfig.DebugLogs.TrackerLogs=1)},e}();t.kQ=a},function(e,t,r){"use strict";!function(e){!function(e){e[e.HiveJS=0]="HiveJS",e[e.HiveJava=1]="HiveJava",e[e.StatsJS=2]="StatsJS",e[e.HiveJsProxy=3]="HiveJsProxy"}(e.TQ||(e.TQ={}));!function(e){e.StatsJS="StatsJS",e.HiveJsProxy="HiveJsProxy",e.HiveJava="HiveJava",e.HiveJS="HiveJS"}(e.TechName||(e.TechName={}))}(t.HiveComm||(t.HiveComm={}))},function(e,t,r){"use strict";var i=function(){function e(){var t=this;if(this.dK=new Array,this.callbacks=new Array,e.fe)throw new Error("Error: Instantiation failed: Use KeyHandlerHiveComm.getInstance() instead of new.");var r={};document.addEventListener("keydown",function(e){r[e.keyCode]=!0,t.fK(r)},!0),document.addEventListener("keyup",function(e){r={}},!0)}return e.ve=function(){return void 0===this.fe&&(this.fe=new e),this.fe},e.prototype.ye=function(e,t){this.dK.push(e),this.callbacks.push(t)},e.prototype.fK=function(e){for(var t=this,r=0;r<this.dK.length;r++)!function(r){var i=!0;t.dK[r].forEach(function(t){void 0!=e[t]&&e[t]||(i=!1)}),i&&t.callbacks[r]()}(r)},e}();t.Te=i},function(e,t){e.i=function(e){return e&&"object"==typeof e&&"function"==typeof e.cA&&"function"==typeof e.fill&&"function"==typeof e.gK}},function(e,t){"function"==typeof Object.create?e.i=function(e,t){e.EK=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,p:!1,Ah:!0,l:!0}})}:e.i=function(e,t){e.EK=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},function(e,t,r){"use strict";var i=r(42),n=r(29),s=r(21),o=r(1),a=function(){function e(e){this.vK=n.L.pp?9989:9988,this.yK=-1,this.gL=e,this.TK()}return e.prototype.TK=function(){var e=this;this.gL.options().silent&&(HiveConfig&&(HiveConfig.ConnInfo.detectPrivateIP=!0),void 0===this.mK&&(this.url="//"+i.fp.dO+":"+this.vK+"/feedback",this.gL.logger().info("starting periodic alive ping to hive tester ["+this.url+"]"),this.mK=setInterval(function(){e.IK()},n.L.hR)))},e.prototype.IK=function(){var e=this,t=this.gL.getActiveSession(),r=void 0;t&&(r="S["+t.id+"]");var i=this.gL.getCurrentTime();i>this.yK?(this.gL.logger().info("sending hive tester ping ["+i+" > "+this.yK+"]"),s.bp(this.url).then(function(e){},function(t){o.ErrorMonitor.ve().logError("error sending hive tester ping",r,{error:t}),clearInterval(e.mK)})):this.gL.logger().warn("not sending hive tester ping ["+i+" <= "+this.yK+"]"),this.yK=i},e}();t.LQ=a},function(e,t){(function(t){e.i=t}).call(t,{})},function(e,t,r){"use strict";var i=r(40),n=r(112),s=r(45),o=r(0),a=function(){function e(){}return e.prototype.apply=function(e){e.bind(new i.ZA(o.Framework.V.I,n.SK,i.$A.sO)),e.bind(new i.ZA(o.Framework.V.R,s.TN.yN))},e}();t.WQ=a},function(e,t,r){"use strict";var i=r(68),n=function(){function e(){this.RK=new i,this.wK=new i,"undefined"!=typeof global?this.bK=global:this.bK=window}return e.prototype.C=function(){return!1},e.prototype.CK=function(e,t,r){},e.prototype.A=function(){},e.prototype.time=function(){return+new Date},e.prototype.setTimeout=function(e,t){var r=this,i=this.bK.setTimeout(function(){r.RK.delete(i),e()},t);return this.RK.add(i),i},e.prototype.clearTimeout=function(e){return this.RK.delete(e),this.bK.clearTimeout(e),!0},e.prototype.setInterval=function(e,t){var r=this.bK.setInterval(function(){e()},t);return this.wK.add(r),r},e.prototype.clearInterval=function(e){return this.wK.delete(e),this.bK.clearInterval(e),!0},e.prototype.O=function(){var e=this;this.RK.forEach(function(t){return e.clearTimeout(t)}),this.wK.forEach(function(t){return e.clearInterval(t)})},e}();t.SK=n},function(e,t,r){"use strict";var i=r(40),n=r(0),s=r(45),o=r(19),a=r(8),h=r(22),c=r(75),u=r(76),l=r(77),p=r(79),d=r(80),f=r(6),g=f.he.Ih;if(g)var E=r(81).CH;else var v=r(83).nx;var y=function(){function e(){}return e.prototype.apply=function(e){e.bind(new i.ZA(a.pc.hc,o.lp,i.$A.sO)),e.bind(new i.ZA(a.pc.G,u.qB,i.$A.sO)),e.bind(new i.ZA(a.pc.nc,l.WB,i.$A.sO)),e.bind(new i.ZA(a.pc.M,p.vH,i.$A.sO)),e.bind(new i.ZA(n.Framework.V.R,s.TN.yN,i.$A.sO)),g?e.bind(new i.ZA(a.pc.sc,E,i.$A.sO)):e.bind(new i.ZA(a.pc.sc,v,i.$A.sO)),e.bind(new i.ZA(a.pc.oc,d.IH,i.$A.sO)),e.bind(new i.ZA(a.pc.cc,c.Stats.ZF,i.$A.pO)),e.bind(new i.ZA(a.pc.ic,c.Stats.ql,i.$A.pO)),e.bind(new i.ZA(a.pc.uc,h.Gl.Bd,i.$A.pO)),e.bind(new i.ZA(a.pc.lc,h.Gl.ql,i.$A.pO))},e}();t.zQ=y},function(e,t,r){var i=r(33);"undefined"==typeof hive&&(hive={}),void 0===hive.snapshots&&(hive.snapshots={}),hive.snapshots.Traffic=function(e){this.reqN=null,this.respFallbackN=null,this.respFallbackErrN=null,this.respP2pN=null,this.reqOtherN=null,this.respFallbackOtherN=null,this.respFallbackOthertErrN=null,this.srcReqN=null,this.srcRespN=null,this.srcRespErrN=null,this.srcReqQt=null,this.srcRespQt=null,this.srcOverQt=null,this.srcOtherReqN=null,this.srcOtherRespN=null,this.srcOtherRespErrN=null,this.srcOtherReqQt=null,this.srcOtherRespQt=null,this.srcOtherOverQt=null,this.p2pSubReqN=null,this.p2pSubRespN=null,this.p2pSubRespPartN=null,this.p2pSubRespErrN=null,this.p2pSubRespExpN=null,this.p2pSubReqQt=null,this.p2pSubRespQt=null,this.p2pDirectQt=null,this.p2pRelayQt=null,this.p2pNatQt=null,this.p2pUdpbQt=null,this.fallAgentRespN=null,this.fallAgentPredHitN=null,this.fallAgentFailedRespN=null,this.fallAgentPredMissN=null,this.fallAgentPredPartialHitN=null,this.fallAgenTrafficSuccessQt=null,this.fallAgenTrafficFailureQt=null,this.p2pAgentPredHitN=null,this.p2pAgentPredMissN=null,this.p2pAgentPredPartialHitN=null,this.p2pAgenTrafficSuccessQt=null,this.p2pAgenTrafficFailureQt=null,this.respP2pOtherN=null,this.lCacheRespN=null,this.lCacheRespQt=null,this.p2pOutSiteLowPrio=null,e&&(void 0!==e.reqN&&null!==e.reqN&&(this.reqN=e.reqN),void 0!==e.respFallbackN&&null!==e.respFallbackN&&(this.respFallbackN=e.respFallbackN),void 0!==e.respFallbackErrN&&null!==e.respFallbackErrN&&(this.respFallbackErrN=e.respFallbackErrN),void 0!==e.respP2pN&&null!==e.respP2pN&&(this.respP2pN=e.respP2pN),void 0!==e.reqOtherN&&null!==e.reqOtherN&&(this.reqOtherN=e.reqOtherN),void 0!==e.respFallbackOtherN&&null!==e.respFallbackOtherN&&(this.respFallbackOtherN=e.respFallbackOtherN),void 0!==e.respFallbackOthertErrN&&null!==e.respFallbackOthertErrN&&(this.respFallbackOthertErrN=e.respFallbackOthertErrN),void 0!==e.srcReqN&&null!==e.srcReqN&&(this.srcReqN=e.srcReqN),void 0!==e.srcRespN&&null!==e.srcRespN&&(this.srcRespN=e.srcRespN),void 0!==e.srcRespErrN&&null!==e.srcRespErrN&&(this.srcRespErrN=e.srcRespErrN),void 0!==e.srcReqQt&&null!==e.srcReqQt&&(this.srcReqQt=e.srcReqQt),void 0!==e.srcRespQt&&null!==e.srcRespQt&&(this.srcRespQt=e.srcRespQt),void 0!==e.srcOverQt&&null!==e.srcOverQt&&(this.srcOverQt=e.srcOverQt),void 0!==e.srcOtherReqN&&null!==e.srcOtherReqN&&(this.srcOtherReqN=e.srcOtherReqN),void 0!==e.srcOtherRespN&&null!==e.srcOtherRespN&&(this.srcOtherRespN=e.srcOtherRespN),void 0!==e.srcOtherRespErrN&&null!==e.srcOtherRespErrN&&(this.srcOtherRespErrN=e.srcOtherRespErrN),void 0!==e.srcOtherReqQt&&null!==e.srcOtherReqQt&&(this.srcOtherReqQt=e.srcOtherReqQt),void 0!==e.srcOtherRespQt&&null!==e.srcOtherRespQt&&(this.srcOtherRespQt=e.srcOtherRespQt),void 0!==e.srcOtherOverQt&&null!==e.srcOtherOverQt&&(this.srcOtherOverQt=e.srcOtherOverQt),void 0!==e.p2pSubReqN&&null!==e.p2pSubReqN&&(this.p2pSubReqN=e.p2pSubReqN),void 0!==e.p2pSubRespN&&null!==e.p2pSubRespN&&(this.p2pSubRespN=e.p2pSubRespN),void 0!==e.p2pSubRespPartN&&null!==e.p2pSubRespPartN&&(this.p2pSubRespPartN=e.p2pSubRespPartN),void 0!==e.p2pSubRespErrN&&null!==e.p2pSubRespErrN&&(this.p2pSubRespErrN=e.p2pSubRespErrN),void 0!==e.p2pSubRespExpN&&null!==e.p2pSubRespExpN&&(this.p2pSubRespExpN=e.p2pSubRespExpN),void 0!==e.p2pSubReqQt&&null!==e.p2pSubReqQt&&(this.p2pSubReqQt=e.p2pSubReqQt),void 0!==e.p2pSubRespQt&&null!==e.p2pSubRespQt&&(this.p2pSubRespQt=e.p2pSubRespQt),void 0!==e.p2pDirectQt&&null!==e.p2pDirectQt&&(this.p2pDirectQt=e.p2pDirectQt),void 0!==e.p2pRelayQt&&null!==e.p2pRelayQt&&(this.p2pRelayQt=e.p2pRelayQt),void 0!==e.p2pNatQt&&null!==e.p2pNatQt&&(this.p2pNatQt=e.p2pNatQt),void 0!==e.p2pUdpbQt&&null!==e.p2pUdpbQt&&(this.p2pUdpbQt=e.p2pUdpbQt),void 0!==e.fallAgentRespN&&null!==e.fallAgentRespN&&(this.fallAgentRespN=e.fallAgentRespN),void 0!==e.fallAgentPredHitN&&null!==e.fallAgentPredHitN&&(this.fallAgentPredHitN=e.fallAgentPredHitN),void 0!==e.fallAgentFailedRespN&&null!==e.fallAgentFailedRespN&&(this.fallAgentFailedRespN=e.fallAgentFailedRespN),void 0!==e.fallAgentPredMissN&&null!==e.fallAgentPredMissN&&(this.fallAgentPredMissN=e.fallAgentPredMissN),void 0!==e.fallAgentPredPartialHitN&&null!==e.fallAgentPredPartialHitN&&(this.fallAgentPredPartialHitN=e.fallAgentPredPartialHitN),void 0!==e.fallAgenTrafficSuccessQt&&null!==e.fallAgenTrafficSuccessQt&&(this.fallAgenTrafficSuccessQt=e.fallAgenTrafficSuccessQt),void 0!==e.fallAgenTrafficFailureQt&&null!==e.fallAgenTrafficFailureQt&&(this.fallAgenTrafficFailureQt=e.fallAgenTrafficFailureQt),void 0!==e.p2pAgentPredHitN&&null!==e.p2pAgentPredHitN&&(this.p2pAgentPredHitN=e.p2pAgentPredHitN),void 0!==e.p2pAgentPredMissN&&null!==e.p2pAgentPredMissN&&(this.p2pAgentPredMissN=e.p2pAgentPredMissN),void 0!==e.p2pAgentPredPartialHitN&&null!==e.p2pAgentPredPartialHitN&&(this.p2pAgentPredPartialHitN=e.p2pAgentPredPartialHitN),void 0!==e.p2pAgenTrafficSuccessQt&&null!==e.p2pAgenTrafficSuccessQt&&(this.p2pAgenTrafficSuccessQt=e.p2pAgenTrafficSuccessQt),void 0!==e.p2pAgenTrafficFailureQt&&null!==e.p2pAgenTrafficFailureQt&&(this.p2pAgenTrafficFailureQt=e.p2pAgenTrafficFailureQt),void 0!==e.respP2pOtherN&&null!==e.respP2pOtherN&&(this.respP2pOtherN=e.respP2pOtherN),void 0!==e.lCacheRespN&&null!==e.lCacheRespN&&(this.lCacheRespN=e.lCacheRespN),void 0!==e.lCacheRespQt&&null!==e.lCacheRespQt&&(this.lCacheRespQt=e.lCacheRespQt),void 0!==e.p2pOutSiteLowPrio&&null!==e.p2pOutSiteLowPrio&&(this.p2pOutSiteLowPrio=e.p2pOutSiteLowPrio))},hive.snapshots.Traffic.prototype={},hive.snapshots.Traffic.prototype.read=function(e){for(e.r_();;){var t=e.kb(),r=(t.fname,t.ftype),n=t.fid;if(r==i.Type.STOP)break;switch(n){case 1:r==i.Type.I32?this.reqN=e.Fb().value:e.Mb(r);break;case 2:r==i.Type.DOUBLE?this.respFallbackN=e.E_().value:e.Mb(r);break;case 3:r==i.Type.I32?this.respFallbackErrN=e.Fb().value:e.Mb(r);break;case 4:r==i.Type.DOUBLE?this.respP2pN=e.E_().value:e.Mb(r);break;case 5:r==i.Type.I32?this.reqOtherN=e.Fb().value:e.Mb(r);break;case 6:r==i.Type.I32?this.respFallbackOtherN=e.Fb().value:e.Mb(r);break;case 7:r==i.Type.I32?this.respFallbackOthertErrN=e.Fb().value:e.Mb(r);break;case 8:r==i.Type.I32?this.srcReqN=e.Fb().value:e.Mb(r);break;case 9:r==i.Type.I32?this.srcRespN=e.Fb().value:e.Mb(r);break;case 10:r==i.Type.I32?this.srcRespErrN=e.Fb().value:e.Mb(r);break;case 11:r==i.Type.I64?this.srcReqQt=e.g_().value:e.Mb(r);break;case 12:r==i.Type.I64?this.srcRespQt=e.g_().value:e.Mb(r);break;case 13:r==i.Type.I64?this.srcOverQt=e.g_().value:e.Mb(r);break;case 14:r==i.Type.I32?this.srcOtherReqN=e.Fb().value:e.Mb(r);break;case 15:r==i.Type.I32?this.srcOtherRespN=e.Fb().value:e.Mb(r);break;case 16:r==i.Type.I32?this.srcOtherRespErrN=e.Fb().value:e.Mb(r);break;case 17:r==i.Type.I64?this.srcOtherReqQt=e.g_().value:e.Mb(r);break;case 18:r==i.Type.I64?this.srcOtherRespQt=e.g_().value:e.Mb(r);break;case 19:r==i.Type.I64?this.srcOtherOverQt=e.g_().value:e.Mb(r);break;case 20:r==i.Type.I32?this.p2pSubReqN=e.Fb().value:e.Mb(r);break;case 21:r==i.Type.I32?this.p2pSubRespN=e.Fb().value:e.Mb(r);break;case 22:r==i.Type.DOUBLE?this.p2pSubRespPartN=e.E_().value:e.Mb(r);break;case 23:r==i.Type.DOUBLE?this.p2pSubRespErrN=e.E_().value:e.Mb(r);break;case 24:r==i.Type.I32?this.p2pSubRespExpN=e.Fb().value:e.Mb(r);break;case 25:r==i.Type.I64?this.p2pSubReqQt=e.g_().value:e.Mb(r);break;case 26:r==i.Type.I64?this.p2pSubRespQt=e.g_().value:e.Mb(r);break;case 27:r==i.Type.I64?this.p2pDirectQt=e.g_().value:e.Mb(r);break;case 28:r==i.Type.I64?this.p2pRelayQt=e.g_().value:e.Mb(r);break;case 29:r==i.Type.I64?this.p2pNatQt=e.g_().value:e.Mb(r);break;case 30:r==i.Type.I64?this.p2pUdpbQt=e.g_().value:e.Mb(r);break;case 31:r==i.Type.I32?this.fallAgentRespN=e.Fb().value:e.Mb(r);break;case 32:r==i.Type.I32?this.fallAgentPredHitN=e.Fb().value:e.Mb(r);break;case 33:r==i.Type.I32?this.fallAgentFailedRespN=e.Fb().value:e.Mb(r);break;case 34:r==i.Type.I32?this.fallAgentPredMissN=e.Fb().value:e.Mb(r);break;case 35:r==i.Type.I32?this.fallAgentPredPartialHitN=e.Fb().value:e.Mb(r);break;case 36:r==i.Type.I64?this.fallAgenTrafficSuccessQt=e.g_().value:e.Mb(r);break;case 37:r==i.Type.I64?this.fallAgenTrafficFailureQt=e.g_().value:e.Mb(r);break;case 38:r==i.Type.I32?this.p2pAgentPredHitN=e.Fb().value:e.Mb(r);break;case 39:r==i.Type.I32?this.p2pAgentPredMissN=e.Fb().value:e.Mb(r);break;case 40:r==i.Type.I32?this.p2pAgentPredPartialHitN=e.Fb().value:e.Mb(r);break;case 41:r==i.Type.I64?this.p2pAgenTrafficSuccessQt=e.g_().value:e.Mb(r);break;case 42:r==i.Type.I64?this.p2pAgenTrafficFailureQt=e.g_().value:e.Mb(r);break;case 43:r==i.Type.I32?this.respP2pOtherN=e.Fb().value:e.Mb(r);break;case 44:r==i.Type.I32?this.lCacheRespN=e.Fb().value:e.Mb(r);break;case 45:r==i.Type.I64?this.lCacheRespQt=e.g_().value:e.Mb(r);break;case 46:r==i.Type.I64?this.p2pOutSiteLowPrio=e.g_().value:e.Mb(r);break;default:e.Mb(r)}e.Ub()}e.Bb()},hive.snapshots.Traffic.prototype.write=function(e){e.Hb("Traffic"),null!==this.reqN&&void 0!==this.reqN&&(e.xb("reqN",i.Type.I32,1),e.Vb(this.reqN),e.Gb()),null!==this.respFallbackN&&void 0!==this.respFallbackN&&(e.xb("respFallbackN",i.Type.DOUBLE,2),e.YC(this.respFallbackN),e.Gb()),null!==this.respFallbackErrN&&void 0!==this.respFallbackErrN&&(e.xb("respFallbackErrN",i.Type.I32,3),e.Vb(this.respFallbackErrN),e.Gb()),null!==this.respP2pN&&void 0!==this.respP2pN&&(e.xb("respP2pN",i.Type.DOUBLE,4),e.YC(this.respP2pN),e.Gb()),null!==this.reqOtherN&&void 0!==this.reqOtherN&&(e.xb("reqOtherN",i.Type.I32,5),e.Vb(this.reqOtherN),e.Gb()),null!==this.respFallbackOtherN&&void 0!==this.respFallbackOtherN&&(e.xb("respFallbackOtherN",i.Type.I32,6),e.Vb(this.respFallbackOtherN),e.Gb()),null!==this.respFallbackOthertErrN&&void 0!==this.respFallbackOthertErrN&&(e.xb("respFallbackOthertErrN",i.Type.I32,7),e.Vb(this.respFallbackOthertErrN),e.Gb()),null!==this.srcReqN&&void 0!==this.srcReqN&&(e.xb("srcReqN",i.Type.I32,8),e.Vb(this.srcReqN),e.Gb()),null!==this.srcRespN&&void 0!==this.srcRespN&&(e.xb("srcRespN",i.Type.I32,9),e.Vb(this.srcRespN),e.Gb()),null!==this.srcRespErrN&&void 0!==this.srcRespErrN&&(e.xb("srcRespErrN",i.Type.I32,10),e.Vb(this.srcRespErrN),e.Gb()),null!==this.srcReqQt&&void 0!==this.srcReqQt&&(e.xb("srcReqQt",i.Type.I64,11),e.KC(this.srcReqQt),e.Gb()),null!==this.srcRespQt&&void 0!==this.srcRespQt&&(e.xb("srcRespQt",i.Type.I64,12),e.KC(this.srcRespQt),e.Gb()),null!==this.srcOverQt&&void 0!==this.srcOverQt&&(e.xb("srcOverQt",i.Type.I64,13),e.KC(this.srcOverQt),e.Gb()),null!==this.srcOtherReqN&&void 0!==this.srcOtherReqN&&(e.xb("srcOtherReqN",i.Type.I32,14),e.Vb(this.srcOtherReqN),e.Gb()),null!==this.srcOtherRespN&&void 0!==this.srcOtherRespN&&(e.xb("srcOtherRespN",i.Type.I32,15),e.Vb(this.srcOtherRespN),e.Gb()),null!==this.srcOtherRespErrN&&void 0!==this.srcOtherRespErrN&&(e.xb("srcOtherRespErrN",i.Type.I32,16),e.Vb(this.srcOtherRespErrN),e.Gb()),null!==this.srcOtherReqQt&&void 0!==this.srcOtherReqQt&&(e.xb("srcOtherReqQt",i.Type.I64,17),e.KC(this.srcOtherReqQt),e.Gb()),null!==this.srcOtherRespQt&&void 0!==this.srcOtherRespQt&&(e.xb("srcOtherRespQt",i.Type.I64,18),e.KC(this.srcOtherRespQt),e.Gb()),null!==this.srcOtherOverQt&&void 0!==this.srcOtherOverQt&&(e.xb("srcOtherOverQt",i.Type.I64,19),e.KC(this.srcOtherOverQt),e.Gb()),null!==this.p2pSubReqN&&void 0!==this.p2pSubReqN&&(e.xb("p2pSubReqN",i.Type.I32,20),e.Vb(this.p2pSubReqN),e.Gb()),null!==this.p2pSubRespN&&void 0!==this.p2pSubRespN&&(e.xb("p2pSubRespN",i.Type.I32,21),e.Vb(this.p2pSubRespN),e.Gb()),null!==this.p2pSubRespPartN&&void 0!==this.p2pSubRespPartN&&(e.xb("p2pSubRespPartN",i.Type.DOUBLE,22),e.YC(this.p2pSubRespPartN),e.Gb()),null!==this.p2pSubRespErrN&&void 0!==this.p2pSubRespErrN&&(e.xb("p2pSubRespErrN",i.Type.DOUBLE,23),e.YC(this.p2pSubRespErrN),e.Gb()),null!==this.p2pSubRespExpN&&void 0!==this.p2pSubRespExpN&&(e.xb("p2pSubRespExpN",i.Type.I32,24),e.Vb(this.p2pSubRespExpN),e.Gb()),null!==this.p2pSubReqQt&&void 0!==this.p2pSubReqQt&&(e.xb("p2pSubReqQt",i.Type.I64,25),e.KC(this.p2pSubReqQt),e.Gb()),null!==this.p2pSubRespQt&&void 0!==this.p2pSubRespQt&&(e.xb("p2pSubRespQt",i.Type.I64,26),e.KC(this.p2pSubRespQt),e.Gb()),null!==this.p2pDirectQt&&void 0!==this.p2pDirectQt&&(e.xb("p2pDirectQt",i.Type.I64,27),e.KC(this.p2pDirectQt),e.Gb()),null!==this.p2pRelayQt&&void 0!==this.p2pRelayQt&&(e.xb("p2pRelayQt",i.Type.I64,28),e.KC(this.p2pRelayQt),e.Gb()),null!==this.p2pNatQt&&void 0!==this.p2pNatQt&&(e.xb("p2pNatQt",i.Type.I64,29),e.KC(this.p2pNatQt),e.Gb()),null!==this.p2pUdpbQt&&void 0!==this.p2pUdpbQt&&(e.xb("p2pUdpbQt",i.Type.I64,30),e.KC(this.p2pUdpbQt),e.Gb()),null!==this.fallAgentRespN&&void 0!==this.fallAgentRespN&&(e.xb("fallAgentRespN",i.Type.I32,31),e.Vb(this.fallAgentRespN),e.Gb()),null!==this.fallAgentPredHitN&&void 0!==this.fallAgentPredHitN&&(e.xb("fallAgentPredHitN",i.Type.I32,32),e.Vb(this.fallAgentPredHitN),e.Gb()),null!==this.fallAgentFailedRespN&&void 0!==this.fallAgentFailedRespN&&(e.xb("fallAgentFailedRespN",i.Type.I32,33),e.Vb(this.fallAgentFailedRespN),e.Gb()),null!==this.fallAgentPredMissN&&void 0!==this.fallAgentPredMissN&&(e.xb("fallAgentPredMissN",i.Type.I32,34),e.Vb(this.fallAgentPredMissN),e.Gb()),null!==this.fallAgentPredPartialHitN&&void 0!==this.fallAgentPredPartialHitN&&(e.xb("fallAgentPredPartialHitN",i.Type.I32,35),e.Vb(this.fallAgentPredPartialHitN),e.Gb()),null!==this.fallAgenTrafficSuccessQt&&void 0!==this.fallAgenTrafficSuccessQt&&(e.xb("fallAgenTrafficSuccessQt",i.Type.I64,36),e.KC(this.fallAgenTrafficSuccessQt),e.Gb()),null!==this.fallAgenTrafficFailureQt&&void 0!==this.fallAgenTrafficFailureQt&&(e.xb("fallAgenTrafficFailureQt",i.Type.I64,37),e.KC(this.fallAgenTrafficFailureQt),e.Gb()),null!==this.p2pAgentPredHitN&&void 0!==this.p2pAgentPredHitN&&(e.xb("p2pAgentPredHitN",i.Type.I32,38),e.Vb(this.p2pAgentPredHitN),e.Gb()),null!==this.p2pAgentPredMissN&&void 0!==this.p2pAgentPredMissN&&(e.xb("p2pAgentPredMissN",i.Type.I32,39),e.Vb(this.p2pAgentPredMissN),e.Gb()),null!==this.p2pAgentPredPartialHitN&&void 0!==this.p2pAgentPredPartialHitN&&(e.xb("p2pAgentPredPartialHitN",i.Type.I32,40),e.Vb(this.p2pAgentPredPartialHitN),e.Gb()),null!==this.p2pAgenTrafficSuccessQt&&void 0!==this.p2pAgenTrafficSuccessQt&&(e.xb("p2pAgenTrafficSuccessQt",i.Type.I64,41),e.KC(this.p2pAgenTrafficSuccessQt),e.Gb()),null!==this.p2pAgenTrafficFailureQt&&void 0!==this.p2pAgenTrafficFailureQt&&(e.xb("p2pAgenTrafficFailureQt",i.Type.I64,42),e.KC(this.p2pAgenTrafficFailureQt),e.Gb()),null!==this.respP2pOtherN&&void 0!==this.respP2pOtherN&&(e.xb("respP2pOtherN",i.Type.I32,43),e.Vb(this.respP2pOtherN),e.Gb()),null!==this.lCacheRespN&&void 0!==this.lCacheRespN&&(e.xb("lCacheRespN",i.Type.I32,44),e.Vb(this.lCacheRespN),e.Gb()),null!==this.lCacheRespQt&&void 0!==this.lCacheRespQt&&(e.xb("lCacheRespQt",i.Type.I64,45),e.KC(this.lCacheRespQt),e.Gb()),null!==this.p2pOutSiteLowPrio&&void 0!==this.p2pOutSiteLowPrio&&(e.xb("p2pOutSiteLowPrio",i.Type.I64,46),e.KC(this.p2pOutSiteLowPrio),e.Gb()),e.jb(),e.Qb()},hive.snapshots.Metrics=function(e){this.upBW=null,this.downBW=null,this.memN=null,this.prtInN=null,this.prtOutN=null,this.initVideoBufQt=null,this.videoAvgBufQt=null,this.videoBufQt=null,this.videoBufN=null,this.initAudioBufQt=null,this.audioAvgBufQt=null,this.audioBufQt=null,this.audioBufN=null,this.bitrateUpN=null,this.bitrateDwnN=null,this.delay=null,this.delayEnforcement=null,this.lookupReqEstablished=null,this.lookupReqAccept=null,this.fallbackAvgTp=null,this.srcThroughput=null,this.diskReadTimeout=null,this.diskReadRate=null,this.diskStoreRate=null,this.diskRemoveRate=null,this.diskCacheSize=null,this.clientBufferMs=null,this.lookupTotal=null,this.lookupNotFound=null,this.lookupFailed=null,this.lookupLatency=null,this.trackerFailed=null,this.trackerLatency=null,this.snapshotFailed=null,this.snapshotLatency=null,this._K=null,e&&(void 0!==e.upBW&&null!==e.upBW&&(this.upBW=e.upBW),void 0!==e.downBW&&null!==e.downBW&&(this.downBW=e.downBW),void 0!==e.memN&&null!==e.memN&&(this.memN=e.memN),void 0!==e.prtInN&&null!==e.prtInN&&(this.prtInN=e.prtInN),void 0!==e.prtOutN&&null!==e.prtOutN&&(this.prtOutN=e.prtOutN),void 0!==e.initVideoBufQt&&null!==e.initVideoBufQt&&(this.initVideoBufQt=e.initVideoBufQt),void 0!==e.videoAvgBufQt&&null!==e.videoAvgBufQt&&(this.videoAvgBufQt=e.videoAvgBufQt),void 0!==e.videoBufQt&&null!==e.videoBufQt&&(this.videoBufQt=e.videoBufQt),void 0!==e.videoBufN&&null!==e.videoBufN&&(this.videoBufN=e.videoBufN),void 0!==e.initAudioBufQt&&null!==e.initAudioBufQt&&(this.initAudioBufQt=e.initAudioBufQt),void 0!==e.audioAvgBufQt&&null!==e.audioAvgBufQt&&(this.audioAvgBufQt=e.audioAvgBufQt),void 0!==e.audioBufQt&&null!==e.audioBufQt&&(this.audioBufQt=e.audioBufQt),void 0!==e.audioBufN&&null!==e.audioBufN&&(this.audioBufN=e.audioBufN),void 0!==e.bitrateUpN&&null!==e.bitrateUpN&&(this.bitrateUpN=e.bitrateUpN),void 0!==e.bitrateDwnN&&null!==e.bitrateDwnN&&(this.bitrateDwnN=e.bitrateDwnN),void 0!==e.delay&&null!==e.delay&&(this.delay=e.delay),void 0!==e.delayEnforcement&&null!==e.delayEnforcement&&(this.delayEnforcement=e.delayEnforcement),void 0!==e.lookupReqEstablished&&null!==e.lookupReqEstablished&&(this.lookupReqEstablished=e.lookupReqEstablished),void 0!==e.lookupReqAccept&&null!==e.lookupReqAccept&&(this.lookupReqAccept=e.lookupReqAccept),void 0!==e.fallbackAvgTp&&null!==e.fallbackAvgTp&&(this.fallbackAvgTp=e.fallbackAvgTp),void 0!==e.srcThroughput&&null!==e.srcThroughput&&(this.srcThroughput=e.srcThroughput),void 0!==e.diskReadTimeout&&null!==e.diskReadTimeout&&(this.diskReadTimeout=e.diskReadTimeout),void 0!==e.diskReadRate&&null!==e.diskReadRate&&(this.diskReadRate=e.diskReadRate),void 0!==e.diskStoreRate&&null!==e.diskStoreRate&&(this.diskStoreRate=e.diskStoreRate),void 0!==e.diskRemoveRate&&null!==e.diskRemoveRate&&(this.diskRemoveRate=e.diskRemoveRate),void 0!==e.diskCacheSize&&null!==e.diskCacheSize&&(this.diskCacheSize=e.diskCacheSize),void 0!==e.clientBufferMs&&null!==e.clientBufferMs&&(this.clientBufferMs=e.clientBufferMs),void 0!==e.lookupTotal&&null!==e.lookupTotal&&(this.lookupTotal=e.lookupTotal),void 0!==e.lookupNotFound&&null!==e.lookupNotFound&&(this.lookupNotFound=e.lookupNotFound),void 0!==e.lookupFailed&&null!==e.lookupFailed&&(this.lookupFailed=e.lookupFailed),void 0!==e.lookupLatency&&null!==e.lookupLatency&&(this.lookupLatency=e.lookupLatency),void 0!==e.trackerFailed&&null!==e.trackerFailed&&(this.trackerFailed=e.trackerFailed),void 0!==e.trackerLatency&&null!==e.trackerLatency&&(this.trackerLatency=e.trackerLatency),void 0!==e.snapshotFailed&&null!==e.snapshotFailed&&(this.snapshotFailed=e.snapshotFailed),void 0!==e.snapshotLatency&&null!==e.snapshotLatency&&(this.snapshotLatency=e.snapshotLatency),void 0!==e._K&&null!==e._K&&(this._K=e._K))},hive.snapshots.Metrics.prototype={},hive.snapshots.Metrics.prototype.read=function(e){for(e.r_();;){var t=e.kb(),r=(t.fname,t.ftype),n=t.fid;if(r==i.Type.STOP)break;switch(n){case 1:r==i.Type.I32?this.upBW=e.Fb().value:e.Mb(r);break;case 2:r==i.Type.I32?this.downBW=e.Fb().value:e.Mb(r);break;case 3:r==i.Type.I32?this.memN=e.Fb().value:e.Mb(r);break;case 4:r==i.Type.I32?this.prtInN=e.Fb().value:e.Mb(r);break;case 5:r==i.Type.I32?this.prtOutN=e.Fb().value:e.Mb(r);break;case 6:r==i.Type.I64?this.initVideoBufQt=e.g_().value:e.Mb(r);break;case 7:r==i.Type.DOUBLE?this.videoAvgBufQt=e.E_().value:e.Mb(r);break;case 8:r==i.Type.I64?this.videoBufQt=e.g_().value:e.Mb(r);break;case 9:r==i.Type.I32?this.videoBufN=e.Fb().value:e.Mb(r);break;case 10:r==i.Type.I32?this.initAudioBufQt=e.Fb().value:e.Mb(r);break;case 11:r==i.Type.DOUBLE?this.audioAvgBufQt=e.E_().value:e.Mb(r);break;case 12:r==i.Type.I64?this.audioBufQt=e.g_().value:e.Mb(r);break;case 13:r==i.Type.I32?this.audioBufN=e.Fb().value:e.Mb(r);break;case 14:r==i.Type.I32?this.bitrateUpN=e.Fb().value:e.Mb(r);break;case 15:r==i.Type.I32?this.bitrateDwnN=e.Fb().value:e.Mb(r);break;case 16:r==i.Type.I32?this.delay=e.Fb().value:e.Mb(r);break;case 17:r==i.Type.I32?this.delayEnforcement=e.Fb().value:e.Mb(r);break;case 18:r==i.Type.I32?this.lookupReqEstablished=e.Fb().value:e.Mb(r);break;case 19:r==i.Type.I32?this.lookupReqAccept=e.Fb().value:e.Mb(r);break;case 20:r==i.Type.DOUBLE?this.fallbackAvgTp=e.E_().value:e.Mb(r);break;case 21:r==i.Type.DOUBLE?this.srcThroughput=e.E_().value:e.Mb(r);break;case 22:r==i.Type.I32?this.diskReadTimeout=e.Fb().value:e.Mb(r);break;case 23:r==i.Type.DOUBLE?this.diskReadRate=e.E_().value:e.Mb(r);break;case 24:r==i.Type.DOUBLE?this.diskStoreRate=e.E_().value:e.Mb(r);break;case 25:r==i.Type.DOUBLE?this.diskRemoveRate=e.E_().value:e.Mb(r);break;case 26:r==i.Type.I64?this.diskCacheSize=e.g_().value:e.Mb(r);break;case 27:r==i.Type.I32?this.clientBufferMs=e.Fb().value:e.Mb(r);break;case 28:r==i.Type.I32?this.lookupTotal=e.Fb().value:e.Mb(r);break;case 29:r==i.Type.I32?this.lookupNotFound=e.Fb().value:e.Mb(r);break;case 30:r==i.Type.I32?this.lookupFailed=e.Fb().value:e.Mb(r);break;case 31:r==i.Type.I32?this.lookupLatency=e.Fb().value:e.Mb(r);break;case 32:r==i.Type.I32?this.trackerFailed=e.Fb().value:e.Mb(r);break;case 33:r==i.Type.I32?this.trackerLatency=e.Fb().value:e.Mb(r);break;case 34:r==i.Type.I32?this.snapshotFailed=e.Fb().value:e.Mb(r);break;case 35:r==i.Type.I32?this.snapshotLatency=e.Fb().value:e.Mb(r);break;case 36:r==i.Type.I32?this._K=e.Fb().value:e.Mb(r);break;default:e.Mb(r)}e.Ub()}e.Bb()},hive.snapshots.Metrics.prototype.write=function(e){e.Hb("Metrics"),null!==this.upBW&&void 0!==this.upBW&&(e.xb("upBW",i.Type.I32,1),e.Vb(this.upBW),e.Gb()),null!==this.downBW&&void 0!==this.downBW&&(e.xb("downBW",i.Type.I32,2),e.Vb(this.downBW),e.Gb()),null!==this.memN&&void 0!==this.memN&&(e.xb("memN",i.Type.I32,3),e.Vb(this.memN),e.Gb()),null!==this.prtInN&&void 0!==this.prtInN&&(e.xb("prtInN",i.Type.I32,4),e.Vb(this.prtInN),e.Gb()),null!==this.prtOutN&&void 0!==this.prtOutN&&(e.xb("prtOutN",i.Type.I32,5),e.Vb(this.prtOutN),e.Gb()),null!==this.initVideoBufQt&&void 0!==this.initVideoBufQt&&(e.xb("initVideoBufQt",i.Type.I64,6),e.KC(this.initVideoBufQt),e.Gb()),null!==this.videoAvgBufQt&&void 0!==this.videoAvgBufQt&&(e.xb("videoAvgBufQt",i.Type.DOUBLE,7),e.YC(this.videoAvgBufQt),e.Gb()),null!==this.videoBufQt&&void 0!==this.videoBufQt&&(e.xb("videoBufQt",i.Type.I64,8),e.KC(this.videoBufQt),e.Gb()),null!==this.videoBufN&&void 0!==this.videoBufN&&(e.xb("videoBufN",i.Type.I32,9),e.Vb(this.videoBufN),e.Gb()),null!==this.initAudioBufQt&&void 0!==this.initAudioBufQt&&(e.xb("initAudioBufQt",i.Type.I32,10),e.Vb(this.initAudioBufQt),e.Gb()),null!==this.audioAvgBufQt&&void 0!==this.audioAvgBufQt&&(e.xb("audioAvgBufQt",i.Type.DOUBLE,11),e.YC(this.audioAvgBufQt),e.Gb()),null!==this.audioBufQt&&void 0!==this.audioBufQt&&(e.xb("audioBufQt",i.Type.I64,12),e.KC(this.audioBufQt),e.Gb()),null!==this.audioBufN&&void 0!==this.audioBufN&&(e.xb("audioBufN",i.Type.I32,13),e.Vb(this.audioBufN),e.Gb()),null!==this.bitrateUpN&&void 0!==this.bitrateUpN&&(e.xb("bitrateUpN",i.Type.I32,14),e.Vb(this.bitrateUpN),e.Gb()),null!==this.bitrateDwnN&&void 0!==this.bitrateDwnN&&(e.xb("bitrateDwnN",i.Type.I32,15),e.Vb(this.bitrateDwnN),e.Gb()),null!==this.delay&&void 0!==this.delay&&(e.xb("delay",i.Type.I32,16),e.Vb(this.delay),e.Gb()),null!==this.delayEnforcement&&void 0!==this.delayEnforcement&&(e.xb("delayEnforcement",i.Type.I32,17),e.Vb(this.delayEnforcement),e.Gb()),null!==this.lookupReqEstablished&&void 0!==this.lookupReqEstablished&&(e.xb("lookupReqEstablished",i.Type.I32,18),e.Vb(this.lookupReqEstablished),e.Gb()),null!==this.lookupReqAccept&&void 0!==this.lookupReqAccept&&(e.xb("lookupReqAccept",i.Type.I32,19),e.Vb(this.lookupReqAccept),e.Gb()),null!==this.fallbackAvgTp&&void 0!==this.fallbackAvgTp&&(e.xb("fallbackAvgTp",i.Type.DOUBLE,20),e.YC(this.fallbackAvgTp),e.Gb()),null!==this.srcThroughput&&void 0!==this.srcThroughput&&(e.xb("srcThroughput",i.Type.DOUBLE,21),e.YC(this.srcThroughput),e.Gb()),null!==this.diskReadTimeout&&void 0!==this.diskReadTimeout&&(e.xb("diskReadTimeout",i.Type.I32,22),e.Vb(this.diskReadTimeout),e.Gb()),null!==this.diskReadRate&&void 0!==this.diskReadRate&&(e.xb("diskReadRate",i.Type.DOUBLE,23),e.YC(this.diskReadRate),e.Gb()),null!==this.diskStoreRate&&void 0!==this.diskStoreRate&&(e.xb("diskStoreRate",i.Type.DOUBLE,24),e.YC(this.diskStoreRate),e.Gb()),null!==this.diskRemoveRate&&void 0!==this.diskRemoveRate&&(e.xb("diskRemoveRate",i.Type.DOUBLE,25),e.YC(this.diskRemoveRate),e.Gb()),null!==this.diskCacheSize&&void 0!==this.diskCacheSize&&(e.xb("diskCacheSize",i.Type.I64,26),e.KC(this.diskCacheSize),e.Gb()),null!==this.clientBufferMs&&void 0!==this.clientBufferMs&&(e.xb("clientBufferMs",i.Type.I32,27),e.Vb(this.clientBufferMs),e.Gb()),null!==this.lookupTotal&&void 0!==this.lookupTotal&&(e.xb("lookupTotal",i.Type.I32,28),e.Vb(this.lookupTotal),e.Gb()),null!==this.lookupNotFound&&void 0!==this.lookupNotFound&&(e.xb("lookupNotFound",i.Type.I32,29),e.Vb(this.lookupNotFound),e.Gb()),null!==this.lookupFailed&&void 0!==this.lookupFailed&&(e.xb("lookupFailed",i.Type.I32,30),e.Vb(this.lookupFailed),e.Gb()),null!==this.lookupLatency&&void 0!==this.lookupLatency&&(e.xb("lookupLatency",i.Type.I32,31),e.Vb(this.lookupLatency),e.Gb()),null!==this.trackerFailed&&void 0!==this.trackerFailed&&(e.xb("trackerFailed",i.Type.I32,32),e.Vb(this.trackerFailed),e.Gb()),null!==this.trackerLatency&&void 0!==this.trackerLatency&&(e.xb("trackerLatency",i.Type.I32,33),e.Vb(this.trackerLatency),e.Gb()),null!==this.snapshotFailed&&void 0!==this.snapshotFailed&&(e.xb("snapshotFailed",i.Type.I32,34),e.Vb(this.snapshotFailed),e.Gb()),null!==this.snapshotLatency&&void 0!==this.snapshotLatency&&(e.xb("snapshotLatency",i.Type.I32,35),e.Vb(this.snapshotLatency),e.Gb()),null!==this._K&&void 0!==this._K&&(e.xb("sourceLatency",i.Type.I32,36),e.Vb(this._K),e.Gb()),e.jb(),e.Qb()},hive.snapshots.PartnerTraffic=function(e){this.p2pSuccReq=null,this.p2pFailReq=null,this.p2pPartReq=null,this.p2pSuccReceived=null,this.p2pSuccReceivedLow=null,this.p2pFailReceived=null,this.p2pSuccResp=null,this.p2pFailResp=null,this.p2pPartResp=null,this.p2pSuccSent=null,this.p2pSuccSentLow=null,this.p2pFailSent=null,e&&(void 0!==e.p2pSuccReq&&null!==e.p2pSuccReq&&(this.p2pSuccReq=e.p2pSuccReq),void 0!==e.p2pFailReq&&null!==e.p2pFailReq&&(this.p2pFailReq=e.p2pFailReq),void 0!==e.p2pPartReq&&null!==e.p2pPartReq&&(this.p2pPartReq=e.p2pPartReq),void 0!==e.p2pSuccReceived&&null!==e.p2pSuccReceived&&(this.p2pSuccReceived=e.p2pSuccReceived),void 0!==e.p2pSuccReceivedLow&&null!==e.p2pSuccReceivedLow&&(this.p2pSuccReceivedLow=e.p2pSuccReceivedLow),void 0!==e.p2pFailReceived&&null!==e.p2pFailReceived&&(this.p2pFailReceived=e.p2pFailReceived),void 0!==e.p2pSuccResp&&null!==e.p2pSuccResp&&(this.p2pSuccResp=e.p2pSuccResp),void 0!==e.p2pFailResp&&null!==e.p2pFailResp&&(this.p2pFailResp=e.p2pFailResp),void 0!==e.p2pPartResp&&null!==e.p2pPartResp&&(this.p2pPartResp=e.p2pPartResp),void 0!==e.p2pSuccSent&&null!==e.p2pSuccSent&&(this.p2pSuccSent=e.p2pSuccSent),void 0!==e.p2pSuccSentLow&&null!==e.p2pSuccSentLow&&(this.p2pSuccSentLow=e.p2pSuccSentLow),void 0!==e.p2pFailSent&&null!==e.p2pFailSent&&(this.p2pFailSent=e.p2pFailSent))},hive.snapshots.PartnerTraffic.prototype={},hive.snapshots.PartnerTraffic.prototype.read=function(e){for(e.r_();;){var t=e.kb(),r=(t.fname,t.ftype),n=t.fid;if(r==i.Type.STOP)break;switch(n){case 1:r==i.Type.I64?this.p2pSuccReq=e.g_().value:e.Mb(r);break;case 2:r==i.Type.I64?this.p2pFailReq=e.g_().value:e.Mb(r);break;case 3:r==i.Type.I64?this.p2pPartReq=e.g_().value:e.Mb(r);break;case 4:r==i.Type.I64?this.p2pSuccReceived=e.g_().value:e.Mb(r);break;case 5:r==i.Type.I64?this.p2pSuccReceivedLow=e.g_().value:e.Mb(r);break;case 10:r==i.Type.I64?this.p2pFailReceived=e.g_().value:e.Mb(r);break;case 6:r==i.Type.I64?this.p2pSuccResp=e.g_().value:e.Mb(r);break;case 11:r==i.Type.I64?this.p2pFailResp=e.g_().value:e.Mb(r);break;case 7:r==i.Type.I64?this.p2pPartResp=e.g_().value:e.Mb(r);break;case 8:r==i.Type.I64?this.p2pSuccSent=e.g_().value:e.Mb(r);break;case 9:r==i.Type.I64?this.p2pSuccSentLow=e.g_().value:e.Mb(r);break;case 12:r==i.Type.I64?this.p2pFailSent=e.g_().value:e.Mb(r);break;default:e.Mb(r)}e.Ub()}e.Bb()},hive.snapshots.PartnerTraffic.prototype.write=function(e){e.Hb("PartnerTraffic"),null!==this.p2pSuccReq&&void 0!==this.p2pSuccReq&&(e.xb("p2pSuccReq",i.Type.I64,1),e.KC(this.p2pSuccReq),e.Gb()),null!==this.p2pFailReq&&void 0!==this.p2pFailReq&&(e.xb("p2pFailReq",i.Type.I64,2),e.KC(this.p2pFailReq),e.Gb()),null!==this.p2pPartReq&&void 0!==this.p2pPartReq&&(e.xb("p2pPartReq",i.Type.I64,3),e.KC(this.p2pPartReq),e.Gb()),null!==this.p2pSuccReceived&&void 0!==this.p2pSuccReceived&&(e.xb("p2pSuccReceived",i.Type.I64,4),e.KC(this.p2pSuccReceived),e.Gb()),null!==this.p2pSuccReceivedLow&&void 0!==this.p2pSuccReceivedLow&&(e.xb("p2pSuccReceivedLow",i.Type.I64,5),e.KC(this.p2pSuccReceivedLow),e.Gb()),null!==this.p2pFailReceived&&void 0!==this.p2pFailReceived&&(e.xb("p2pFailReceived",i.Type.I64,10),e.KC(this.p2pFailReceived),e.Gb()),null!==this.p2pSuccResp&&void 0!==this.p2pSuccResp&&(e.xb("p2pSuccResp",i.Type.I64,6),e.KC(this.p2pSuccResp),e.Gb()),null!==this.p2pFailResp&&void 0!==this.p2pFailResp&&(e.xb("p2pFailResp",i.Type.I64,11),e.KC(this.p2pFailResp),e.Gb()),null!==this.p2pPartResp&&void 0!==this.p2pPartResp&&(e.xb("p2pPartResp",i.Type.I64,7),e.KC(this.p2pPartResp),e.Gb()),null!==this.p2pSuccSent&&void 0!==this.p2pSuccSent&&(e.xb("p2pSuccSent",i.Type.I64,8),e.KC(this.p2pSuccSent),e.Gb()),null!==this.p2pSuccSentLow&&void 0!==this.p2pSuccSentLow&&(e.xb("p2pSuccSentLow",i.Type.I64,9),e.KC(this.p2pSuccSentLow),e.Gb()),null!==this.p2pFailSent&&void 0!==this.p2pFailSent&&(e.xb("p2pFailSent",i.Type.I64,12),e.KC(this.p2pFailSent),e.Gb()),e.jb(),e.Qb()},hive.snapshots.PartnerMetrics=function(e){this.rateReceived=null,this.rateSent=null,this.handshakeDelay=null,e&&(void 0!==e.rateReceived&&null!==e.rateReceived&&(this.rateReceived=e.rateReceived),void 0!==e.rateSent&&null!==e.rateSent&&(this.rateSent=e.rateSent),void 0!==e.handshakeDelay&&null!==e.handshakeDelay&&(this.handshakeDelay=e.handshakeDelay))},hive.snapshots.PartnerMetrics.prototype={},hive.snapshots.PartnerMetrics.prototype.read=function(e){for(e.r_();;){var t=e.kb(),r=(t.fname,t.ftype),n=t.fid;if(r==i.Type.STOP)break;switch(n){case 1:r==i.Type.DOUBLE?this.rateReceived=e.E_().value:e.Mb(r);break;case 2:r==i.Type.DOUBLE?this.rateSent=e.E_().value:e.Mb(r);break;case 3:r==i.Type.I64?this.handshakeDelay=e.g_().value:e.Mb(r);break;default:e.Mb(r)}e.Ub()}e.Bb()},hive.snapshots.PartnerMetrics.prototype.write=function(e){e.Hb("PartnerMetrics"),null!==this.rateReceived&&void 0!==this.rateReceived&&(e.xb("rateReceived",i.Type.DOUBLE,1),e.YC(this.rateReceived),e.Gb()),null!==this.rateSent&&void 0!==this.rateSent&&(e.xb("rateSent",i.Type.DOUBLE,2),e.YC(this.rateSent),e.Gb()),null!==this.handshakeDelay&&void 0!==this.handshakeDelay&&(e.xb("handshakeDelay",i.Type.I64,3),e.KC(this.handshakeDelay),e.Gb()),e.jb(),e.Qb()},hive.snapshots.ConnectivityInfo=function(e){this.upBW=null,this.downBW=null,this.externalAs=null,this.internalAs=null,this.publicIp=null,this.privateIp=null,e&&(void 0!==e.upBW&&null!==e.upBW&&(this.upBW=e.upBW),void 0!==e.downBW&&null!==e.downBW&&(this.downBW=e.downBW),void 0!==e.externalAs&&null!==e.externalAs&&(this.externalAs=e.externalAs),void 0!==e.internalAs&&null!==e.internalAs&&(this.internalAs=e.internalAs),void 0!==e.publicIp&&null!==e.publicIp&&(this.publicIp=e.publicIp),void 0!==e.privateIp&&null!==e.privateIp&&(this.privateIp=e.privateIp))},hive.snapshots.ConnectivityInfo.prototype={},hive.snapshots.ConnectivityInfo.prototype.read=function(e){for(e.r_();;){var t=e.kb(),r=(t.fname,t.ftype),n=t.fid;if(r==i.Type.STOP)break;switch(n){case 1:r==i.Type.I32?this.upBW=e.Fb().value:e.Mb(r);break;case 2:r==i.Type.I32?this.downBW=e.Fb().value:e.Mb(r);break;case 3:r==i.Type.I32?this.externalAs=e.Fb().value:e.Mb(r);break;case 4:r==i.Type.I32?this.internalAs=e.Fb().value:e.Mb(r);break;case 5:r==i.Type.STRING?this.publicIp=e.Lb().value:e.Mb(r);break;case 6:r==i.Type.STRING?this.privateIp=e.Lb().value:e.Mb(r);break;default:e.Mb(r)}e.Ub()}e.Bb()},hive.snapshots.ConnectivityInfo.prototype.write=function(e){e.Hb("ConnectivityInfo"),null!==this.upBW&&void 0!==this.upBW&&(e.xb("upBW",i.Type.I32,1),e.Vb(this.upBW),e.Gb()),null!==this.downBW&&void 0!==this.downBW&&(e.xb("downBW",i.Type.I32,2),e.Vb(this.downBW),e.Gb()),null!==this.externalAs&&void 0!==this.externalAs&&(e.xb("externalAs",i.Type.I32,3),e.Vb(this.externalAs),e.Gb()),null!==this.internalAs&&void 0!==this.internalAs&&(e.xb("internalAs",i.Type.I32,4),e.Vb(this.internalAs),e.Gb()),null!==this.publicIp&&void 0!==this.publicIp&&(e.xb("publicIp",i.Type.STRING,5),e.qb(this.publicIp),e.Gb()),null!==this.privateIp&&void 0!==this.privateIp&&(e.xb("privateIp",i.Type.STRING,6),e.qb(this.privateIp),e.Gb()),e.jb(),e.Qb()},hive.snapshots.Partner=function(e){this.connInfo=null,this.traffic=null,this.metrics=null,this.inPart=null,this.outPart=null,this.udp=null,e&&(void 0!==e.connInfo&&null!==e.connInfo&&(this.connInfo=e.connInfo),void 0!==e.traffic&&null!==e.traffic&&(this.traffic=e.traffic),void 0!==e.metrics&&null!==e.metrics&&(this.metrics=e.metrics),void 0!==e.inPart&&null!==e.inPart&&(this.inPart=e.inPart),void 0!==e.outPart&&null!==e.outPart&&(this.outPart=e.outPart),void 0!==e.udp&&null!==e.udp&&(this.udp=e.udp))},hive.snapshots.Partner.prototype={},hive.snapshots.Partner.prototype.read=function(e){for(e.r_();;){var t=e.kb(),r=(t.fname,t.ftype),n=t.fid;if(r==i.Type.STOP)break;switch(n){case 1:r==i.Type.STRUCT?(this.connInfo=new hive.snapshots.ConnectivityInfo,this.connInfo.read(e)):e.Mb(r);break;case 2:r==i.Type.STRUCT?(this.traffic=new hive.snapshots.PartnerTraffic,this.traffic.read(e)):e.Mb(r);break;case 3:r==i.Type.STRUCT?(this.metrics=new hive.snapshots.PartnerMetrics,this.metrics.read(e)):e.Mb(r);break;case 4:r==i.Type.BOOL?this.inPart=e.p_().value:e.Mb(r);break;case 5:r==i.Type.BOOL?this.outPart=e.p_().value:e.Mb(r);break;case 6:r==i.Type.BOOL?this.udp=e.p_().value:e.Mb(r);break;default:e.Mb(r)}e.Ub()}e.Bb()},hive.snapshots.Partner.prototype.write=function(e){e.Hb("Partner"),null!==this.connInfo&&void 0!==this.connInfo&&(e.xb("connInfo",i.Type.STRUCT,1),this.connInfo.write(e),e.Gb()),null!==this.traffic&&void 0!==this.traffic&&(e.xb("traffic",i.Type.STRUCT,2),this.traffic.write(e),e.Gb()),null!==this.metrics&&void 0!==this.metrics&&(e.xb("metrics",i.Type.STRUCT,3),this.metrics.write(e),e.Gb()),null!==this.inPart&&void 0!==this.inPart&&(e.xb("inPart",i.Type.BOOL,4),e.VC(this.inPart),e.Gb()),null!==this.outPart&&void 0!==this.outPart&&(e.xb("outPart",i.Type.BOOL,5),e.VC(this.outPart),e.Gb()),null!==this.udp&&void 0!==this.udp&&(e.xb("udp",i.Type.BOOL,6),e.VC(this.udp),e.Gb()),e.jb(),e.Qb()},hive.snapshots.StreamInfo=function(e){this.url=null,this.streamType=null,this.streamProtocol=null,e&&(void 0!==e.url&&null!==e.url&&(this.url=e.url),void 0!==e.streamType&&null!==e.streamType&&(this.streamType=e.streamType),void 0!==e.streamProtocol&&null!==e.streamProtocol&&(this.streamProtocol=e.streamProtocol))},hive.snapshots.StreamInfo.prototype={},hive.snapshots.StreamInfo.prototype.read=function(e){for(e.r_();;){var t=e.kb(),r=(t.fname,t.ftype),n=t.fid;if(r==i.Type.STOP)break;switch(n){case 1:r==i.Type.STRING?this.url=e.Lb().value:e.Mb(r);break;case 2:r==i.Type.I32?this.streamType=e.Fb().value:e.Mb(r);break;case 3:r==i.Type.I32?this.streamProtocol=e.Fb().value:e.Mb(r);break;default:e.Mb(r)}e.Ub()}e.Bb()},hive.snapshots.StreamInfo.prototype.write=function(e){e.Hb("StreamInfo"),null!==this.url&&void 0!==this.url&&(e.xb("url",i.Type.STRING,1),e.qb(this.url),e.Gb()),null!==this.streamType&&void 0!==this.streamType&&(e.xb("streamType",i.Type.I32,2),e.Vb(this.streamType),e.Gb()),null!==this.streamProtocol&&void 0!==this.streamProtocol&&(e.xb("streamProtocol",i.Type.I32,3),e.Vb(this.streamProtocol),e.Gb()),e.jb(),e.Qb()},hive.snapshots.ClientInfo=function(e){this.clientType=null,this.majorVersion=null,this.minorVersion=null,this.patchVersion=null,e&&(void 0!==e.clientType&&null!==e.clientType&&(this.clientType=e.clientType),void 0!==e.majorVersion&&null!==e.majorVersion&&(this.majorVersion=e.majorVersion),void 0!==e.minorVersion&&null!==e.minorVersion&&(this.minorVersion=e.minorVersion),void 0!==e.patchVersion&&null!==e.patchVersion&&(this.patchVersion=e.patchVersion))},hive.snapshots.ClientInfo.prototype={},hive.snapshots.ClientInfo.prototype.read=function(e){for(e.r_();;){var t=e.kb(),r=(t.fname,t.ftype),n=t.fid;if(r==i.Type.STOP)break;switch(n){case 1:r==i.Type.I32?this.clientType=e.Fb().value:e.Mb(r);break;case 2:r==i.Type.BYTE?this.majorVersion=e.d_().value:e.Mb(r);break;case 3:r==i.Type.BYTE?this.minorVersion=e.d_().value:e.Mb(r);break;case 4:r==i.Type.I16?this.patchVersion=e.f_().value:e.Mb(r);break;default:e.Mb(r)}e.Ub()}e.Bb()},hive.snapshots.ClientInfo.prototype.write=function(e){e.Hb("ClientInfo"),null!==this.clientType&&void 0!==this.clientType&&(e.xb("clientType",i.Type.I32,1),e.Vb(this.clientType),e.Gb()),null!==this.majorVersion&&void 0!==this.majorVersion&&(e.xb("majorVersion",i.Type.BYTE,2),e.jC(this.majorVersion),e.Gb()),null!==this.minorVersion&&void 0!==this.minorVersion&&(e.xb("minorVersion",i.Type.BYTE,3),e.jC(this.minorVersion),e.Gb()),null!==this.patchVersion&&void 0!==this.patchVersion&&(e.xb("patchVersion",i.Type.I16,4),e.QC(this.patchVersion),e.Gb()),e.jb(),e.Qb()},hive.snapshots.AgentInfo=function(e){this.firstTierBitrates=null,this.secondTierBitrates=null,e&&(void 0!==e.firstTierBitrates&&null!==e.firstTierBitrates&&(this.firstTierBitrates=e.firstTierBitrates),void 0!==e.secondTierBitrates&&null!==e.secondTierBitrates&&(this.secondTierBitrates=e.secondTierBitrates))},hive.snapshots.AgentInfo.prototype={},hive.snapshots.AgentInfo.prototype.read=function(e){for(e.r_();;){var t=e.kb(),r=(t.fname,t.ftype),n=t.fid;if(r==i.Type.STOP)break;switch(n){case 1:if(r==i.Type.SET){var s,o=0;this.firstTierBitrates=[];s=e.u_(),s.h_,o=s.size;for(var a=0;a<o;++a){var h=null;h=e.Fb().value,this.firstTierBitrates.push(h)}e.l_()}else e.Mb(r);break;case 2:if(r==i.Type.SET){var c,u=0;this.secondTierBitrates=[];c=e.u_(),c.h_,u=c.size;for(var l=0;l<u;++l){var p=null;p=e.Fb().value,this.secondTierBitrates.push(p)}e.l_()}else e.Mb(r);break;default:e.Mb(r)}e.Ub()}e.Bb()},hive.snapshots.AgentInfo.prototype.write=function(e){if(e.Hb("AgentInfo"),null!==this.firstTierBitrates&&void 0!==this.firstTierBitrates){e.xb("firstTierBitrates",i.Type.SET,1),e.qC(i.Type.I32,this.firstTierBitrates.length);for(var t in this.firstTierBitrates)this.firstTierBitrates.hasOwnProperty(t)&&(t=this.firstTierBitrates[t],e.Vb(t));e.GC(),e.Gb()}if(null!==this.secondTierBitrates&&void 0!==this.secondTierBitrates){e.xb("secondTierBitrates",i.Type.SET,2),e.qC(i.Type.I32,this.secondTierBitrates.length);for(var r in this.secondTierBitrates)this.secondTierBitrates.hasOwnProperty(r)&&(r=this.secondTierBitrates[r],e.Vb(r));e.GC(),e.Gb()}e.jb(),e.Qb()},hive.snapshots.TrafficKey=function(e){this.bitrate=null,this.AS=null,this.partnerGuid=null,e&&(void 0!==e.bitrate&&null!==e.bitrate&&(this.bitrate=e.bitrate),void 0!==e.AS&&null!==e.AS&&(this.AS=e.AS),void 0!==e.partnerGuid&&null!==e.partnerGuid&&(this.partnerGuid=e.partnerGuid))},hive.snapshots.TrafficKey.prototype={},hive.snapshots.TrafficKey.prototype.read=function(e){for(e.r_();;){var t=e.kb(),r=(t.fname,t.ftype),n=t.fid;if(r==i.Type.STOP)break;switch(n){case 1:r==i.Type.I32?this.bitrate=e.Fb().value:e.Mb(r);break;case 2:r==i.Type.I32?this.AS=e.Fb().value:e.Mb(r);break;case 3:r==i.Type.STRING?this.partnerGuid=e.Lb().value:e.Mb(r);break;default:e.Mb(r)}e.Ub()}e.Bb()},hive.snapshots.TrafficKey.prototype.write=function(e){e.Hb("TrafficKey"),null!==this.bitrate&&void 0!==this.bitrate&&(e.xb("bitrate",i.Type.I32,1),e.Vb(this.bitrate),e.Gb()),null!==this.AS&&void 0!==this.AS&&(e.xb("AS",i.Type.I32,2),e.Vb(this.AS),e.Gb()),null!==this.partnerGuid&&void 0!==this.partnerGuid&&(e.xb("partnerGuid",i.Type.STRING,3),e.qb(this.partnerGuid),e.Gb()),e.jb(),e.Qb()},hive.snapshots.PartnerKey=function(e){this.bitrate=null,this.AS=null,this.partnerGuid=null,e&&(void 0!==e.bitrate&&null!==e.bitrate&&(this.bitrate=e.bitrate),void 0!==e.AS&&null!==e.AS&&(this.AS=e.AS),void 0!==e.partnerGuid&&null!==e.partnerGuid&&(this.partnerGuid=e.partnerGuid))},hive.snapshots.PartnerKey.prototype={},hive.snapshots.PartnerKey.prototype.read=function(e){for(e.r_();;){var t=e.kb(),r=(t.fname,t.ftype),n=t.fid;if(r==i.Type.STOP)break;switch(n){case 1:r==i.Type.I32?this.bitrate=e.Fb().value:e.Mb(r);break;case 2:r==i.Type.I32?this.AS=e.Fb().value:e.Mb(r);break;case 3:r==i.Type.STRING?this.partnerGuid=e.Lb().value:e.Mb(r);break;default:e.Mb(r)}e.Ub()}e.Bb()},hive.snapshots.PartnerKey.prototype.write=function(e){e.Hb("PartnerKey"),null!==this.bitrate&&void 0!==this.bitrate&&(e.xb("bitrate",i.Type.I32,1),e.Vb(this.bitrate),e.Gb()),null!==this.AS&&void 0!==this.AS&&(e.xb("AS",i.Type.I32,2),e.Vb(this.AS),e.Gb()),null!==this.partnerGuid&&void 0!==this.partnerGuid&&(e.xb("partnerGuid",i.Type.STRING,3),e.qb(this.partnerGuid),e.Gb()),e.jb(),e.Qb()},hive.snapshots.Player=function(e){this.bufferingN=null,this.bufferingMs=null,this.initBufferingN=null,this.initBufferingMs=null,this.seekBufferingN=null,this.seekBufferingMs=null,this.playerBufferMs=null,e&&(void 0!==e.bufferingN&&null!==e.bufferingN&&(this.bufferingN=e.bufferingN),void 0!==e.bufferingMs&&null!==e.bufferingMs&&(this.bufferingMs=e.bufferingMs),void 0!==e.initBufferingN&&null!==e.initBufferingN&&(this.initBufferingN=e.initBufferingN),void 0!==e.initBufferingMs&&null!==e.initBufferingMs&&(this.initBufferingMs=e.initBufferingMs),void 0!==e.seekBufferingN&&null!==e.seekBufferingN&&(this.seekBufferingN=e.seekBufferingN),void 0!==e.seekBufferingMs&&null!==e.seekBufferingMs&&(this.seekBufferingMs=e.seekBufferingMs),void 0!==e.playerBufferMs&&null!==e.playerBufferMs&&(this.playerBufferMs=e.playerBufferMs))},hive.snapshots.Player.prototype={},hive.snapshots.Player.prototype.read=function(e){for(e.r_();;){var t=e.kb(),r=(t.fname,t.ftype),n=t.fid;if(r==i.Type.STOP)break;switch(n){case 1:r==i.Type.I16?this.bufferingN=e.f_().value:e.Mb(r);break;case 2:r==i.Type.I32?this.bufferingMs=e.Fb().value:e.Mb(r);break;case 3:r==i.Type.I16?this.initBufferingN=e.f_().value:e.Mb(r);break;case 4:r==i.Type.I32?this.initBufferingMs=e.Fb().value:e.Mb(r);break;case 5:r==i.Type.I16?this.seekBufferingN=e.f_().value:e.Mb(r);break;case 6:r==i.Type.I32?this.seekBufferingMs=e.Fb().value:e.Mb(r);break;case 36:r==i.Type.I32?this.playerBufferMs=e.Fb().value:e.Mb(r);break;default:e.Mb(r)}e.Ub()}e.Bb()},hive.snapshots.Player.prototype.write=function(e){e.Hb("Player"),null!==this.bufferingN&&void 0!==this.bufferingN&&(e.xb("bufferingN",i.Type.I16,1),e.QC(this.bufferingN),e.Gb()),null!==this.bufferingMs&&void 0!==this.bufferingMs&&(e.xb("bufferingMs",i.Type.I32,2),e.Vb(this.bufferingMs),e.Gb()),null!==this.initBufferingN&&void 0!==this.initBufferingN&&(e.xb("initBufferingN",i.Type.I16,3),e.QC(this.initBufferingN),e.Gb()),null!==this.initBufferingMs&&void 0!==this.initBufferingMs&&(e.xb("initBufferingMs",i.Type.I32,4),e.Vb(this.initBufferingMs),e.Gb()),null!==this.seekBufferingN&&void 0!==this.seekBufferingN&&(e.xb("seekBufferingN",i.Type.I16,5),e.QC(this.seekBufferingN),e.Gb()),null!==this.seekBufferingMs&&void 0!==this.seekBufferingMs&&(e.xb("seekBufferingMs",i.Type.I32,6),e.Vb(this.seekBufferingMs),e.Gb()),null!==this.playerBufferMs&&void 0!==this.playerBufferMs&&(e.xb("playerBufferMs",i.Type.I32,36),e.Vb(this.playerBufferMs),e.Gb()),e.jb(),e.Qb()},hive.snapshots.PK=function(e){this._Q=null,this.count=null,e&&(void 0!==e._Q&&null!==e._Q&&(this._Q=e._Q),void 0!==e.count&&null!==e.count&&(this.count=e.count))},hive.snapshots.PK.prototype={},hive.snapshots.PK.prototype.read=function(e){for(e.r_();;){var t=e.kb(),r=(t.fname,t.ftype),n=t.fid;if(r==i.Type.STOP)break;switch(n){case 1:r==i.Type.I16?this._Q=e.f_().value:e.Mb(r);break;case 2:r==i.Type.I32?this.count=e.Fb().value:e.Mb(r);break;default:e.Mb(r)}e.Ub()}e.Bb()},hive.snapshots.PK.prototype.write=function(e){e.Hb("ResponseInfo"),null!==this._Q&&void 0!==this._Q&&(e.xb("statusCode",i.Type.I16,1),e.QC(this._Q),e.Gb()),null!==this.count&&void 0!==this.count&&(e.xb("count",i.Type.I32,2),e.Vb(this.count),e.Gb()),e.jb(),e.Qb()},hive.snapshots.AK=function(e){this.source=null,e&&void 0!==e.source&&null!==e.source&&(this.source=i.OK(e.source,[hive.snapshots.PK]))},hive.snapshots.AK.prototype={},hive.snapshots.AK.prototype.read=function(e){for(e.r_();;){var t=e.kb(),r=(t.fname,t.ftype),n=t.fid;if(r==i.Type.STOP)break;switch(n){case 1:if(r==i.Type.LIST){var s,o=0;this.source=[];s=e.a_(),s.h_,o=s.size;for(var a=0;a<o;++a){var h=null;h=new hive.snapshots.PK,h.read(e),this.source.push(h)}e.c_()}else e.Mb(r);break;case 0:e.Mb(r);break;default:e.Mb(r)}e.Ub()}e.Bb()},hive.snapshots.AK.prototype.write=function(e){if(e.Hb("ServiceResponseInfo"),null!==this.source&&void 0!==this.source){e.xb("source",i.Type.LIST,1),e.HC(i.Type.STRUCT,this.source.length);for(var t in this.source)this.source.hasOwnProperty(t)&&(t=this.source[t],t.write(e));e.xC(),e.Gb()}e.jb(),e.Qb()},hive.snapshots.MetricSnapshot=function(e){this.timestamp=null,this.guid=null,this.eventId=null,this.streamInfo=null,this.metrics=null,this.traffic=null,this.snapshotInfo=null,this.agentInfo=null,this.connInfo=null,this.partners=null,this.player=null,this.client=null,this.sessionId=null,this.NK=null,this.aB=null,this.DK=null,e&&(void 0!==e.timestamp&&null!==e.timestamp&&(this.timestamp=e.timestamp),void 0!==e.guid&&null!==e.guid&&(this.guid=e.guid),void 0!==e.eventId&&null!==e.eventId&&(this.eventId=e.eventId),void 0!==e.streamInfo&&null!==e.streamInfo&&(this.streamInfo=e.streamInfo),void 0!==e.metrics&&null!==e.metrics&&(this.metrics=e.metrics),void 0!==e.traffic&&null!==e.traffic&&(this.traffic=e.traffic),void 0!==e.snapshotInfo&&null!==e.snapshotInfo&&(this.snapshotInfo=e.snapshotInfo),void 0!==e.agentInfo&&null!==e.agentInfo&&(this.agentInfo=e.agentInfo),void 0!==e.connInfo&&null!==e.connInfo&&(this.connInfo=e.connInfo),void 0!==e.partners&&null!==e.partners&&(this.partners=e.partners),void 0!==e.player&&null!==e.player&&(this.player=e.player),void 0!==e.client&&null!==e.client&&(this.client=e.client),void 0!==e.sessionId&&null!==e.sessionId&&(this.sessionId=e.sessionId),void 0!==e.NK&&null!==e.NK&&(this.NK=e.NK),void 0!==e.aB&&null!==e.aB&&(this.aB=e.aB),void 0!==e.DK&&null!==e.DK&&(this.DK=e.DK))},hive.snapshots.MetricSnapshot.prototype={},hive.snapshots.MetricSnapshot.prototype.read=function(e){for(e.r_();;){var t=e.kb(),r=(t.fname,t.ftype),n=t.fid;if(r==i.Type.STOP)break;switch(n){case 1:r==i.Type.I64?this.timestamp=e.g_().value:e.Mb(r);break;case 2:r==i.Type.STRING?this.guid=e.Lb().value:e.Mb(r);break;case 3:r==i.Type.STRUCT?(this.eventId=new EventId,this.eventId.read(e)):e.Mb(r);break;case 4:r==i.Type.STRUCT?(this.streamInfo=new hive.snapshots.StreamInfo,this.streamInfo.read(e)):e.Mb(r);break;case 5:r==i.Type.STRUCT?(this.metrics=new hive.snapshots.Metrics,this.metrics.read(e)):e.Mb(r);break;case 6:if(r==i.Type.MAP){var s,o=0;this.traffic={};s=e.i_(),s.n_,s.s_,o=s.size;for(var a=0;a<o;++a){a>0&&e.JC.length>e.zb[e.zb.length-1]+1&&e.JC.pop();var h=null,c=null;h=new hive.snapshots.TrafficKey,h.read(e),c=new hive.snapshots.Traffic,c.read(e),this.traffic[h]=c}e.o_()}else e.Mb(r);break;case 7:r==i.Type.STRUCT?(this.snapshotInfo=new SnapshotInfo,this.snapshotInfo.read(e)):e.Mb(r);break;case 8:r==i.Type.STRUCT?(this.agentInfo=new hive.snapshots.AgentInfo,this.agentInfo.read(e)):e.Mb(r);break;case 9:r==i.Type.STRUCT?(this.connInfo=new hive.snapshots.ConnectivityInfo,this.connInfo.read(e)):e.Mb(r);break;case 10:if(r==i.Type.MAP){var u,l=0;this.partners={};u=e.i_(),u.n_,u.s_,l=u.size;for(var p=0;p<l;++p){p>0&&e.JC.length>e.zb[e.zb.length-1]+1&&e.JC.pop();var d=null,f=null;d=new hive.snapshots.PartnerKey,d.read(e),f=new hive.snapshots.Partner,f.read(e),this.partners[d]=f}e.o_()}else e.Mb(r);break;case 11:r==i.Type.STRUCT?(this.player=new hive.snapshots.Player,this.player.read(e)):e.Mb(r);break;case 12:r==i.Type.STRUCT?(this.client=new hive.snapshots.ClientInfo,this.client.read(e)):e.Mb(r);break;case 13:r==i.Type.STRING?this.sessionId=e.Lb().value:e.Mb(r);break;case 14:r==i.Type.STRUCT?(this.NK=new hive.snapshots.AK,this.NK.read(e)):e.Mb(r);break;case 15:r==i.Type.STRUCT?(this.aB=new TestInfo,this.aB.read(e)):e.Mb(r);break;case 16:r==i.Type.I64?this.DK=e.g_().value:e.Mb(r);break;default:e.Mb(r)}e.Ub()}e.Bb()},hive.snapshots.MetricSnapshot.prototype.write=function(e){if(e.Hb("MetricSnapshot"),null!==this.timestamp&&void 0!==this.timestamp&&(e.xb("timestamp",i.Type.I64,1),e.KC(this.timestamp),e.Gb()),null!==this.guid&&void 0!==this.guid&&(e.xb("guid",i.Type.STRING,2),e.qb(this.guid),e.Gb()),null!==this.eventId&&void 0!==this.eventId&&(e.xb("eventId",i.Type.STRUCT,3),this.eventId.write(e),e.Gb()),null!==this.streamInfo&&void 0!==this.streamInfo&&(e.xb("streamInfo",i.Type.STRUCT,4),this.streamInfo.write(e),e.Gb()),null!==this.metrics&&void 0!==this.metrics&&(e.xb("metrics",i.Type.STRUCT,5),this.metrics.write(e),e.Gb()),null!==this.traffic&&void 0!==this.traffic){e.xb("traffic",i.Type.MAP,6),e.UC(i.Type.STRUCT,i.Type.STRUCT,i.Eb(this.traffic));for(var t in this.traffic)if(this.traffic.hasOwnProperty(t)){var r=this.traffic[t];r.key.write(e),r.value.write(e)}e.BC(),e.Gb()}if(null!==this.snapshotInfo&&void 0!==this.snapshotInfo&&(e.xb("snapshotInfo",i.Type.STRUCT,7),this.snapshotInfo.write(e),e.Gb()),null!==this.agentInfo&&void 0!==this.agentInfo&&(e.xb("agentInfo",i.Type.STRUCT,8),this.agentInfo.write(e),e.Gb()),null!==this.connInfo&&void 0!==this.connInfo&&(e.xb("connInfo",i.Type.STRUCT,9),this.connInfo.write(e),e.Gb()),null!==this.partners&&void 0!==this.partners){e.xb("partners",i.Type.MAP,10),e.UC(i.Type.STRUCT,i.Type.STRUCT,i.Eb(this.partners));for(var n in this.partners)if(this.partners.hasOwnProperty(n)){var s=this.partners[n];s.key.write(e),s.value.write(e)}e.BC(),e.Gb()}null!==this.player&&void 0!==this.player&&(e.xb("player",i.Type.STRUCT,11),this.player.write(e),e.Gb()),null!==this.client&&void 0!==this.client&&(e.xb("client",i.Type.STRUCT,12),this.client.write(e),e.Gb()),null!==this.sessionId&&void 0!==this.sessionId&&(e.xb("sessionId",i.Type.STRING,13),e.qb(this.sessionId),e.Gb()),null!==this.NK&&void 0!==this.NK&&(e.xb("responseInfo",i.Type.STRUCT,14),this.NK.write(e),e.Gb()),null!==this.aB&&void 0!==this.aB&&(e.xb("testInfo",i.Type.STRUCT,15),this.aB.write(e),e.Gb()),null!==this.DK&&void 0!==this.DK&&(e.xb("clientId",i.Type.I64,16),e.KC(this.DK),e.Gb()),e.jb(),e.Qb()},hive.snapshots.JsonMetricSnapshot=function(e){this.timestamp=null,this.guid=null,this.eventId=null,this.streamInfo=null,this.metrics=null,this.traffic=null,this.snapshotInfo=null,this.agentInfo=null,this.connInfo=null,this.partners=null,this.player=null,this.client=null,this.sessionId=null,this.NK=null,this.aB=null,this.DK=null,e&&(void 0!==e.timestamp&&null!==e.timestamp&&(this.timestamp=e.timestamp),void 0!==e.guid&&null!==e.guid&&(this.guid=e.guid),void 0!==e.eventId&&null!==e.eventId&&(this.eventId=e.eventId),void 0!==e.streamInfo&&null!==e.streamInfo&&(this.streamInfo=e.streamInfo),void 0!==e.metrics&&null!==e.metrics&&(this.metrics=e.metrics),void 0!==e.traffic&&null!==e.traffic&&(this.traffic=e.traffic),void 0!==e.snapshotInfo&&null!==e.snapshotInfo&&(this.snapshotInfo=e.snapshotInfo),void 0!==e.agentInfo&&null!==e.agentInfo&&(this.agentInfo=e.agentInfo),void 0!==e.connInfo&&null!==e.connInfo&&(this.connInfo=e.connInfo),void 0!==e.partners&&null!==e.partners&&(this.partners=e.partners),void 0!==e.player&&null!==e.player&&(this.player=e.player),void 0!==e.client&&null!==e.client&&(this.client=e.client),void 0!==e.sessionId&&null!==e.sessionId&&(this.sessionId=e.sessionId),void 0!==e.NK&&null!==e.NK&&(this.NK=e.NK),void 0!==e.aB&&null!==e.aB&&(this.aB=e.aB),void 0!==e.DK&&null!==e.DK&&(this.DK=e.DK))},hive.snapshots.JsonMetricSnapshot.prototype={},hive.snapshots.JsonMetricSnapshot.prototype.read=function(e){for(e.r_();;){var t=e.kb(),r=(t.fname,t.ftype),n=t.fid;if(r==i.Type.STOP)break;switch(n){case 1:r==i.Type.I64?this.timestamp=e.g_().value:e.Mb(r);break;case 2:r==i.Type.STRING?this.guid=e.Lb().value:e.Mb(r);break;case 3:r==i.Type.STRUCT?(this.eventId=new EventId,this.eventId.read(e)):e.Mb(r);break;case 4:r==i.Type.STRUCT?(this.streamInfo=new hive.snapshots.StreamInfo,this.streamInfo.read(e)):e.Mb(r);break;case 5:r==i.Type.STRUCT?(this.metrics=new hive.snapshots.Metrics,this.metrics.read(e)):e.Mb(r);break;case 6:if(r==i.Type.MAP){var s,o=0;this.traffic={};s=e.i_(),s.n_,s.s_,o=s.size;for(var a=0;a<o;++a){a>0&&e.JC.length>e.zb[e.zb.length-1]+1&&e.JC.pop();var h=null,c=null;h=e.Lb().value,c=new hive.snapshots.Traffic,c.read(e),this.traffic[h]=c}e.o_()}else e.Mb(r);break;case 7:r==i.Type.STRUCT?(this.snapshotInfo=new SnapshotInfo,this.snapshotInfo.read(e)):e.Mb(r);break;case 8:r==i.Type.STRUCT?(this.agentInfo=new hive.snapshots.AgentInfo,this.agentInfo.read(e)):e.Mb(r);break;case 9:r==i.Type.STRUCT?(this.connInfo=new hive.snapshots.ConnectivityInfo,this.connInfo.read(e)):e.Mb(r);break;case 10:if(r==i.Type.MAP){var u,l=0;this.partners={};u=e.i_(),u.n_,u.s_,l=u.size;for(var p=0;p<l;++p){p>0&&e.JC.length>e.zb[e.zb.length-1]+1&&e.JC.pop();var d=null,f=null;d=e.Lb().value,f=new hive.snapshots.Partner,f.read(e),this.partners[d]=f}e.o_()}else e.Mb(r);break;case 11:r==i.Type.STRUCT?(this.player=new hive.snapshots.Player,this.player.read(e)):e.Mb(r);break;case 12:r==i.Type.STRUCT?(this.client=new hive.snapshots.ClientInfo,this.client.read(e)):e.Mb(r);break;case 13:r==i.Type.STRING?this.sessionId=e.Lb().value:e.Mb(r);break;case 14:r==i.Type.STRUCT?(this.NK=new hive.snapshots.AK,this.NK.read(e)):e.Mb(r);break;case 15:r==i.Type.STRUCT?(this.aB=new TestInfo,this.aB.read(e)):e.Mb(r);break;case 16:r==i.Type.I64?this.DK=e.g_().value:e.Mb(r);break;default:e.Mb(r)}e.Ub()}e.Bb()},hive.snapshots.JsonMetricSnapshot.prototype.write=function(e){if(e.Hb("JsonMetricSnapshot"),null!==this.timestamp&&void 0!==this.timestamp&&(e.xb("timestamp",i.Type.I64,1),e.KC(this.timestamp),e.Gb()),null!==this.guid&&void 0!==this.guid&&(e.xb("guid",i.Type.STRING,2),e.qb(this.guid),e.Gb()),null!==this.eventId&&void 0!==this.eventId&&(e.xb("eventId",i.Type.STRUCT,3),this.eventId.write(e),e.Gb()),null!==this.streamInfo&&void 0!==this.streamInfo&&(e.xb("streamInfo",i.Type.STRUCT,4),this.streamInfo.write(e),e.Gb()),null!==this.metrics&&void 0!==this.metrics&&(e.xb("metrics",i.Type.STRUCT,5),this.metrics.write(e),e.Gb()),null!==this.traffic&&void 0!==this.traffic){e.xb("traffic",i.Type.MAP,6),e.UC(i.Type.STRING,i.Type.STRUCT,i.Eb(this.traffic));for(var t in this.traffic)if(this.traffic.hasOwnProperty(t)){var r=this.traffic[t];e.qb(t),r.write(e)}e.BC(),e.Gb()}if(null!==this.snapshotInfo&&void 0!==this.snapshotInfo&&(e.xb("snapshotInfo",i.Type.STRUCT,7),this.snapshotInfo.write(e),e.Gb()),null!==this.agentInfo&&void 0!==this.agentInfo&&(e.xb("agentInfo",i.Type.STRUCT,8),this.agentInfo.write(e),e.Gb()),null!==this.connInfo&&void 0!==this.connInfo&&(e.xb("connInfo",i.Type.STRUCT,9),this.connInfo.write(e),e.Gb()),null!==this.partners&&void 0!==this.partners){e.xb("partners",i.Type.MAP,10),e.UC(i.Type.STRING,i.Type.STRUCT,i.Eb(this.partners));for(var n in this.partners)if(this.partners.hasOwnProperty(n)){var s=this.partners[n];e.qb(n),s.write(e)}e.BC(),e.Gb()}null!==this.player&&void 0!==this.player&&(e.xb("player",i.Type.STRUCT,11),this.player.write(e),e.Gb()),null!==this.client&&void 0!==this.client&&(e.xb("client",i.Type.STRUCT,12),this.client.write(e),e.Gb()),null!==this.sessionId&&void 0!==this.sessionId&&(e.xb("sessionId",i.Type.STRING,13),e.qb(this.sessionId),e.Gb()),null!==this.NK&&void 0!==this.NK&&(e.xb("responseInfo",i.Type.STRUCT,14),this.NK.write(e),e.Gb()),null!==this.aB&&void 0!==this.aB&&(e.xb("testInfo",i.Type.STRUCT,15),this.aB.write(e),e.Gb()),null!==this.DK&&void 0!==this.DK&&(e.xb("clientId",i.Type.I64,16),e.KC(this.DK),e.Gb()),e.jb(),e.Qb()}},function(e,t,r){var i=r(33);StreamType={1:"LIVE",LIVE:1,2:"VOD",kK:2},StreamProtocol={1:"DASH",DASH:1,2:"HDS",LK:2,3:"HLS",bq:3,4:"SS",MK:4},ClientType={1:"JAVA",FK:1,2:"STATS_ONLY",wB:2,3:"JS_DIRECT",SB:3,4:"JS_PROXY",RB:4},EventId=function(e){this.partnerId=null,this.customerId=null,this.contentId=null,this.tags=null,e&&(void 0!==e.partnerId&&null!==e.partnerId&&(this.partnerId=e.partnerId),void 0!==e.customerId&&null!==e.customerId&&(this.customerId=e.customerId),void 0!==e.contentId&&null!==e.contentId&&(this.contentId=e.contentId),void 0!==e.tags&&null!==e.tags&&(this.tags=e.tags))},EventId.prototype={},EventId.prototype.read=function(e){for(e.r_();;){var t=e.kb(),r=(t.fname,t.ftype),n=t.fid;if(r==i.Type.STOP)break;switch(n){case 1:r==i.Type.STRING?this.partnerId=e.Lb().value:e.Mb(r);break;case 2:r==i.Type.STRING?this.customerId=e.Lb().value:e.Mb(r);break;case 3:r==i.Type.STRING?this.contentId=e.Lb().value:e.Mb(r);break;case 4:if(r==i.Type.LIST){var s,o=0;this.tags=[];s=e.a_(),s.h_,o=s.size;for(var a=0;a<o;++a){var h=null;h=e.Lb().value,this.tags.push(h)}e.c_()}else e.Mb(r);break;default:e.Mb(r)}e.Ub()}e.Bb()},EventId.prototype.write=function(e){if(e.Hb("EventId"),null!==this.partnerId&&void 0!==this.partnerId&&(e.xb("partnerId",i.Type.STRING,1),e.qb(this.partnerId),e.Gb()),null!==this.customerId&&void 0!==this.customerId&&(e.xb("customerId",i.Type.STRING,2),e.qb(this.customerId),e.Gb()),null!==this.contentId&&void 0!==this.contentId&&(e.xb("contentId",i.Type.STRING,3),e.qb(this.contentId),e.Gb()),null!==this.tags&&void 0!==this.tags){e.xb("tags",i.Type.LIST,4),e.HC(i.Type.STRING,this.tags.length);for(var t in this.tags)this.tags.hasOwnProperty(t)&&(t=this.tags[t],e.qb(t));e.xC(),e.Gb()}e.jb(),e.Qb()},SnapshotInfo=function(e){this.timestamp=null,this.apiServer=null,this.clientIp=null,e&&(void 0!==e.timestamp&&null!==e.timestamp&&(this.timestamp=e.timestamp),void 0!==e.apiServer&&null!==e.apiServer&&(this.apiServer=e.apiServer),void 0!==e.clientIp&&null!==e.clientIp&&(this.clientIp=e.clientIp))},SnapshotInfo.prototype={},SnapshotInfo.prototype.read=function(e){for(e.r_();;){var t=e.kb(),r=(t.fname,t.ftype),n=t.fid;if(r==i.Type.STOP)break;switch(n){case 1:r==i.Type.I64?this.timestamp=e.g_().value:e.Mb(r);break;case 2:r==i.Type.STRING?this.apiServer=e.Lb().value:e.Mb(r);break;case 3:r==i.Type.STRING?this.clientIp=e.Lb().value:e.Mb(r);break;default:e.Mb(r)}e.Ub()}e.Bb()},SnapshotInfo.prototype.write=function(e){e.Hb("SnapshotInfo"),null!==this.timestamp&&void 0!==this.timestamp&&(e.xb("timestamp",i.Type.I64,1),e.KC(this.timestamp),e.Gb()),null!==this.apiServer&&void 0!==this.apiServer&&(e.xb("apiServer",i.Type.STRING,2),e.qb(this.apiServer),e.Gb()),null!==this.clientIp&&void 0!==this.clientIp&&(e.xb("clientIp",i.Type.STRING,3),e.qb(this.clientIp),e.Gb()),e.jb(),e.Qb()},TestInfo=function(e){this.testId=null,e&&void 0!==e.testId&&null!==e.testId&&(this.testId=e.testId)},TestInfo.prototype={},TestInfo.prototype.read=function(e){for(e.r_();;){var t=e.kb(),r=(t.fname,t.ftype),n=t.fid;if(r==i.Type.STOP)break;switch(n){case 1:r==i.Type.STRING?this.testId=e.Lb().value:e.Mb(r);break;case 0:e.Mb(r);break;default:e.Mb(r)}e.Ub()}e.Bb()},TestInfo.prototype.write=function(e){e.Hb("TestInfo"),null!==this.testId&&void 0!==this.testId&&(e.xb("testId",i.Type.STRING,1),e.qb(this.testId),e.Gb()),e.jb(),e.Qb()},InetAddress=function(e){this.address=null,this.port=null,e&&(void 0!==e.address&&null!==e.address&&(this.address=e.address),void 0!==e.port&&null!==e.port&&(this.port=e.port))},InetAddress.prototype={},InetAddress.prototype.read=function(e){for(e.r_();;){var t=e.kb(),r=(t.fname,t.ftype),n=t.fid;if(r==i.Type.STOP)break;switch(n){case 1:r==i.Type.STRING?this.address=e.v_().value:e.Mb(r);break;case 2:r==i.Type.I32?this.port=e.Fb().value:e.Mb(r);break;default:e.Mb(r)}e.Ub()}e.Bb()},InetAddress.prototype.write=function(e){e.Hb("InetAddress"),null!==this.address&&void 0!==this.address&&(e.xb("address",i.Type.STRING,1),e.WC(this.address),e.Gb()),null!==this.port&&void 0!==this.port&&(e.xb("port",i.Type.I32,2),e.Vb(this.port),e.Gb()),e.jb(),e.Qb()}},function(e,t,r){"use strict";var i=r(4),n=r(23),s=function(){function e(e,t){this.msg=e,this.UK=Date.now()+t,this.BK=i.defer()}return e.prototype.HK=function(){return Date.now()>=this.UK},e}(),o=function(){function e(e,t,r,i,n,s,o){void 0===t&&(t=3e4),void 0===r&&(r=100),void 0===i&&(i=3e4),void 0===n&&(n=15e3),void 0===s&&(s=Date),void 0===o&&(o=!1),this.xK=1,this.qK=-1,this.GK=-1,this.wj={},this.VK=[],this.jK=[],this.QK=!1,this.KK=!0,this.YK=e,this.WK=Array(),this.AE=t,this.OE=r,this.NE=i,this.zK=n,this.JK=s,this.QK=o||/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge./i.test(navigator.userAgent)}return e.prototype.As=function(e){var t=e.service+"_"+e.msgId,r=this.wj[t];null!=r?r(e):n.logger().error(n.loggerId+"Could not find a dispatcher for ",e,t,this.wj)},e.prototype.on=function(e,t,r){this.wj[e+"_"+t]=r},e.prototype.onerror=function(e){this.VK.push(e)},e.prototype.xB=function(e){this.jK.push(e)},e.prototype.XK=function(){var e=this;if(!window.WebSocket)return void this.VK.forEach(function(e){return e("WebSocket not defined")});var t=new WebSocket(this.YK);return t.binaryType="arraybuffer",t.onopen=function(t){e.ZK(),n.logger().debug(n.loggerId+"HiveServicesConnection established to "+e.YK),e.GK=(new e.JK).getTime(),e.$K(),e.jK.forEach(function(t){return t(e)}),e.eY(),e.tY()},t.onclose=function(t){e.close(e.KK),e.connect()},t.onmessage=function(t){e.As(n.Jd.yf(t.data))},t.onerror=function(t){e.close(!0),e.VK.forEach(function(e){return e(t.toString())})},t},e.prototype.isOpen=function(){return null!=this.PR&&this.PR.readyState==this.PR.OPEN},e.prototype.connect=function(e){var t=this;e&&(this.KK=!0),this.KK&&1!=this.isOpen()&&(this.qK>0||(this.GK>-1&&(new this.JK).getTime()-this.GK>this.AE?(this.xK=n.L.Ef,this.GK=-1):this.xK=Math.min(2*this.xK,this.AE),this.qK=window.setTimeout(function(){t.qK=-1,n.logger().debug(n.loggerId+"Connection attempt to "+t.YK+" [t:"+t.xK+" hb:"+t.QK+"]"),t.PR=t.XK(),t.xK=Math.max(t.xK,n.L.Ef)},this.xK)))},e.prototype.ZK=function(){this.qK>-1&&(clearTimeout(this.qK),this.qK=-1)},e.prototype.close=function(e){this.KK=void 0!=e&&e,n.logger().debug(n.loggerId+"Closing connection [reconnect:"+this.KK+"]"),this.ZK(),null!=this.PR&&(this.PR.close(),this.PR=null)},e.prototype.$K=function(){for(;this.WK.length>0;){var e=this.WK.pop();try{e.HK()?e.BK.reject(new Error("Message expired")):(this.eY(),this.PR.send(e.msg.vf()))}catch(t){if(t.code===DOMException.INVALID_STATE_ERR){this.WK.push(e);break}n.logger().error(n.loggerId+"Failed to send the message, dropped: ",t.code,t.name),e.BK.reject(t)}}this.tY()},e.prototype.eY=function(){this.rY&&(clearTimeout(this.rY),this.rY=null)},e.prototype.tY=function(){var e=this;this.QK&&!this.rY&&(this.rY=window.setInterval(function(){e.send(new n.Jd(Services.iY,0,""))},this.zK))},e.prototype.send=function(e,t){if(void 0===t&&(t=this.NE),this.WK.length>=this.OE)throw new Error("HiveServices connection cannot queue more messages");var r=new s(e,t);return this.WK.push(r),this.PR&&this.$K(),r.BK.Ss},e.prototype.nY=function(e){this.QK=e,this.QK&&this.tY()},e.prototype.sY=function(){return null!=this.PR},e}();t.HB=o},function(e,t){Services={1:"REMOTE_EXECUTOR",oY:1,2:"PEER_FORWARDER",aY:2,3:"PEER_INDEX",hY:3,4:"PEER_BROADCAST",cY:4,5:"PEER_FILTER",uY:5,6:"PEER_LOGGING",lY:6,7:"HIVEJS_TRACKER",pY:7,8:"PEER_SYSTEM",dY:8,9:"HIVEJS_SNAPSHOTS",Xd:9,10:"HIVEJS_TICKETS",BB:10,11:"HIVEJS_KEEPALIVE",iY:11,12:"HIVEJS_FORWARDING",fY:12}},function(e,t){e.i=function(){return new Function}},function(e,t,r){"use strict";var i=function(){function e(e,t){this.p2pId=e,this.Wl=t}return e.prototype.tp=function(){return this.p2pId},e.prototype.rp=function(){return this.Wl?this.Wl:this.p2pId},e}();t.pH=i},function(e,t,r){"use strict";var i=this&&this.hu||function(e,t){function r(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=r(82),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.getCidr=function(){return this.MH?this.MH:null},t}(n.FH);t.wH=s},function(e,t,r){"use strict";var i=r(74),n=r(4),s=r(0),o=r(27),a=function(){function e(){this.indexedDB=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,this.logger=s.Framework.resolve(s.Framework.V.R).log()}return e.prototype.uH=function(){var e=n.defer(),t=this.indexedDB.open("PrivateIPDB");return t.onupgradeneeded=function(){t.result.createObjectStore("PrivateIPStore",{keyPath:"id"})},t.onsuccess=function(){var r=t.result;e.resolve(r)},t.onerror=function(t){e.reject(t)},e.Ss},e.prototype.ZH=function(){var e=this;if(this.gY)return this.gY;var t=setTimeout(function(){e.logger.warn("Private list retrieval timeout"),r.reject("Private list timeout")},4e3),r=n.defer();if(o.Gd._h&&this.indexedDB){this.uH().then(function(n){var s=n.transaction("PrivateIPStore","readwrite"),o=s.objectStore("PrivateIPStore"),a=o.get("iplist");a.onsuccess=function(){clearTimeout(t);var e=[];i.sL(a.result)||i.sL(a.result.value)||(e=a.result.value.split("|")),r.resolve(e),n.close()},a.onerror=function(i){clearTimeout(t),e.logger.warn("I got an error on indexed db "+i.message),r.reject("Error on indexedDB "+i.message)}}).fail(function(i){clearTimeout(t),e.logger.warn("DB is not open with error"+i.message),r.reject("DB is not open with error "+i.message)})}else clearTimeout(t),r.reject({message:"DB is not ready or enabled"});return this.gY=r.Ss,this.gY},e.prototype.ix=function(e){var t=this;if(o.Gd._h&&this.indexedDB){var r=e.join("|");this.uH().then(function(i){var n=i.transaction("PrivateIPStore","readwrite");n.objectStore("PrivateIPStore").put({id:"iplist",value:r}),n.oncomplete=function(){t.logger.debug("Storing site matched ips ["+e.join(",")+"]"),i.close()}}).fail(function(e){t.logger.warn("DB is not open with error "+e.message)})}},e}();t.QH=a},function(e,t,r){"use strict";var i=r(17).log,n=r(17).Wu,s={uL:function(){window.MediaStream=window.MediaStream||window.webkitMediaStream},pL:function(){"object"!=typeof window||!window.RTCPeerConnection||"ontrack"in window.RTCPeerConnection.prototype||Object.defineProperty(window.RTCPeerConnection.prototype,"ontrack",{get:function(){return this.EY},set:function(e){var t=this;this.EY&&(this.removeEventListener("track",this.EY),this.removeEventListener("addstream",this.vY)),this.addEventListener("track",this.EY=e),this.addEventListener("addstream",this.vY=function(e){e.stream.addEventListener("addtrack",function(r){var i=new Event("track");i.track=r.track,i.receiver={track:r.track},i.streams=[e.stream],t.dispatchEvent(i)}),e.stream.getTracks().forEach(function(t){var r=new Event("track");r.track=t,r.receiver={track:t},r.streams=[e.stream],this.dispatchEvent(r)}.bind(this))}.bind(this))}})},dL:function(){if("object"==typeof window&&window.RTCPeerConnection&&!("getSenders"in RTCPeerConnection.prototype)&&"createDTMFSender"in RTCPeerConnection.prototype){RTCPeerConnection.prototype.getSenders=function(){return this.yY};var e=RTCPeerConnection.prototype.addStream,t=RTCPeerConnection.prototype.removeStream;RTCPeerConnection.prototype.addStream=function(t){var r=this;r.yY=r.yY||[],e.apply(r,[t]),t.getTracks().forEach(function(e){r.yY.push({track:e,get TY(){return void 0===this.mY&&("audio"===e.kind?this.mY=r.createDTMFSender(e):this.mY=null),this.mY}})})},RTCPeerConnection.prototype.removeStream=function(e){var r=this;r.yY=r.yY||[],t.apply(r,[e]),e.getTracks().forEach(function(e){var t=r.yY.find(function(t){return t.track===e});t&&r.yY.splice(r.yY.indexOf(t),1)})}}},lL:function(){"object"==typeof window&&(!window.HTMLMediaElement||"srcObject"in window.HTMLMediaElement.prototype||Object.defineProperty(window.HTMLMediaElement.prototype,"srcObject",{get:function(){return this.IY},set:function(e){var t=this;if(this.IY=e,this.src&&URL.revokeObjectURL(this.src),!e)return void(this.src="");this.src=URL.createObjectURL(e),e.addEventListener("addtrack",function(){t.src&&URL.revokeObjectURL(t.src),t.src=URL.createObjectURL(e)}),e.addEventListener("removetrack",function(){t.src&&URL.revokeObjectURL(t.src),t.src=URL.createObjectURL(e)})}}))},aL:function(){window.RTCPeerConnection||(window.RTCPeerConnection=function(e,t){return i("PeerConnection"),e&&e.SY&&(e.RY=e.SY),new webkitRTCPeerConnection(e,t)},window.RTCPeerConnection.prototype=webkitRTCPeerConnection.prototype,webkitRTCPeerConnection.wY&&Object.defineProperty(window.RTCPeerConnection,"generateCertificate",{get:function(){return webkitRTCPeerConnection.wY}}));var e=RTCPeerConnection.prototype.getStats;RTCPeerConnection.prototype.getStats=function(t,r,i){var n=this,s=arguments;if(arguments.length>0&&"function"==typeof t)return e.apply(this,arguments);if(0===e.length&&(0===arguments.length||"function"!=typeof arguments[0]))return e.apply(this,[]);var o=function(e){var t={};return e.result().forEach(function(e){var r={id:e.id,timestamp:e.timestamp,type:{bY:"local-candidate",CY:"remote-candidate"}[e.type]||e.type};e.names().forEach(function(t){r[t]=e._Y(t)}),t[r.id]=r}),t},a=function(e){return new Map(Object.keys(e).map(function(t){return[t,e[t]]}))};if(arguments.length>=2){var h=function(e){s[1](a(o(e)))};return e.apply(this,[h,arguments[0]])}return new Promise(function(t,r){e.apply(n,[function(e){t(a(o(e)))},r])}).then(r,i)},n.version<51&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(e){var t=RTCPeerConnection.prototype[e];RTCPeerConnection.prototype[e]=function(){var e=arguments,r=this,i=new Promise(function(i,n){t.apply(r,[e[0],i,n])});return e.length<2?i:i.then(function(){e[1].apply(null,[])},function(t){e.length>=3&&e[2].apply(null,[t])})}}),n.version<52&&["createOffer","createAnswer"].forEach(function(e){var t=RTCPeerConnection.prototype[e];RTCPeerConnection.prototype[e]=function(){var e=this;if(arguments.length<1||1===arguments.length&&"object"==typeof arguments[0]){var r=1===arguments.length?arguments[0]:void 0;return new Promise(function(i,n){t.apply(e,[i,n,r])})}return t.apply(this,arguments)}}),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(e){var t=RTCPeerConnection.prototype[e];RTCPeerConnection.prototype[e]=function(){return arguments[0]=new("addIceCandidate"===e?RTCIceCandidate:RTCSessionDescription)(arguments[0]),t.apply(this,arguments)}});var t=RTCPeerConnection.prototype.addIceCandidate;RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?t.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())}}};e.i={uL:s.uL,pL:s.pL,dL:s.dL,lL:s.lL,aL:s.aL,cL:r(123)}},function(e,t,r){"use strict";var i=r(17).log,n=r(17).Wu;e.i=function(){var e=function(e){if("object"!=typeof e||e.PY||e.optional)return e;var t={};return Object.keys(e).forEach(function(r){if("require"!==r&&"advanced"!==r&&"mediaSource"!==r){var i="object"==typeof e[r]?e[r]:{AY:e[r]};void 0!==i.OY&&"number"==typeof i.OY&&(i.min=i.max=i.OY);var n=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==i.AY){t.optional=t.optional||[];var s={};"number"==typeof i.AY?(s[n("min",r)]=i.AY,t.optional.push(s),s={},s[n("max",r)]=i.AY,t.optional.push(s)):(s[n("",r)]=i.AY,t.optional.push(s))}void 0!==i.OY&&"number"!=typeof i.OY?(t.PY=t.PY||{},t.PY[n("",r)]=i.OY):["min","max"].forEach(function(e){void 0!==i[e]&&(t.PY=t.PY||{},t.PY[n(e,r)]=i[e])})}}),e.NY&&(t.optional=(t.optional||[]).concat(e.NY)),t},t=function(t,r){if(t=JSON.parse(JSON.stringify(t)),t&&t.HR&&(t.HR=e(t.HR)),t&&"object"==typeof t.video){var s=t.video.DY;s=s&&("object"==typeof s?s:{AY:s});var o=n.version<59;if(s&&("user"===s.OY||"environment"===s.OY||"user"===s.AY||"environment"===s.AY)&&(!navigator.mediaDevices.kY||!navigator.mediaDevices.kY().DY||o)&&(delete t.video.DY,"environment"===s.OY||"environment"===s.AY))return navigator.mediaDevices.LY().then(function(n){n=n.filter(function(e){return"videoinput"===e.kind});var o=n.find(function(e){return-1!==e.label.toLowerCase().indexOf("back")})||n.length&&n[n.length-1];return o&&(t.video.MY=s.OY?{OY:o.MY}:{AY:o.MY}),t.video=e(t.video),i("chrome: "+JSON.stringify(t)),r(t)});t.video=e(t.video)}return i("chrome: "+JSON.stringify(t)),r(t)},r=function(e){return{name:{FY:"NotAllowedError",UY:"OverconstrainedError"}[e.name]||e.name,message:e.message,BY:e.HY,toString:function(){return this.name+(this.message&&": ")+this.message}}},s=function(e,i,n){t(e,function(e){navigator.webkitGetUserMedia(e,i,function(e){n(r(e))})})};navigator.getUserMedia=s;var o=function(e){return new Promise(function(t,r){navigator.getUserMedia(e,t,r)})};if(navigator.mediaDevices||(navigator.mediaDevices={getUserMedia:o,LY:function(){return new Promise(function(e){var t={HR:"audioinput",video:"videoinput"};return MediaStreamTrack.getSources(function(r){e(r.map(function(e){return{label:e.label,kind:t[e.kind],MY:e.id,xY:""}}))})})},kY:function(){return{MY:!0,qY:!0,DY:!0,GY:!0,height:!0,width:!0}}}),navigator.mediaDevices.getUserMedia){var a=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);navigator.mediaDevices.getUserMedia=function(e){return t(e,function(e){return a(e).then(function(t){if(e.HR&&!t.getAudioTracks().length||e.video&&!t.getVideoTracks().length)throw t.getTracks().forEach(function(e){e.stop()}),new DOMException("","NotFoundError");return t},function(e){return Promise.reject(r(e))})})}}else navigator.mediaDevices.getUserMedia=function(e){return o(e)};void 0===navigator.mediaDevices.addEventListener&&(navigator.mediaDevices.addEventListener=function(){i("Dummy mediaDevices.addEventListener called.")}),void 0===navigator.mediaDevices.removeEventListener&&(navigator.mediaDevices.removeEventListener=function(){i("Dummy mediaDevices.removeEventListener called.")})}},function(e,t,r){"use strict";function i(e){var t=e.filter(function(e){return"audio"===e.kind}),r=e.filter(function(e){return"video"===e.kind});for(e=[];t.length||r.length;)t.length&&e.push(t.shift()),r.length&&e.push(r.shift());return e}function n(e){var t=!1;return e=JSON.parse(JSON.stringify(e)),e.filter(function(e){if(e&&(e.VY||e.url)){var r=e.VY||e.url,i="string"==typeof r;return i&&(r=[r]),r=r.filter(function(e){return 0!==e.indexOf("turn:")||-1===e.indexOf("transport=udp")||-1!==e.indexOf("turn:[")||t?0===e.indexOf("stun:")&&o.version>=14393:(t=!0,!0)}),delete e.url,e.VY=i?r[0]:r,!!r.length}return!1})}var s=r(125),o=r(17).Wu,a={aL:function(){if(window.jY&&(window.RTCIceCandidate||(window.RTCIceCandidate=function(e){return e}),window.RTCSessionDescription||(window.RTCSessionDescription=function(e){return e}),o.version<15025)){var e=Object.getOwnPropertyDescriptor(MediaStreamTrack.prototype,"enabled");Object.defineProperty(MediaStreamTrack.prototype,"enabled",{set:function(t){e.set.call(this,t);var r=new Event("enabled");r.enabled=t,this.dispatchEvent(r)}})}window.RTCPeerConnection=function(e){var t=this,r=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach(function(e){t[e]=r[e].bind(r)}),this.onicecandidate=null,this.onaddstream=null,this.QY=null,this.onremovestream=null,this.onsignalingstatechange=null,this.oniceconnectionstatechange=null,this.KY=null,this.onnegotiationneeded=null,this.ondatachannel=null,this.YY=[],this.WY=[],this.getLocalStreams=function(){return t.YY},this.getRemoteStreams=function(){return t.WY},this.localDescription=new RTCSessionDescription({type:"",sdp:""}),this.remoteDescription=new RTCSessionDescription({type:"",sdp:""}),this.signalingState="stable",this.iceConnectionState="new",this.iceGatheringState="new",this.zY={JY:"all",iceServers:[]},e&&e.SY)switch(e.SY){case"all":case"relay":this.zY.JY=e.SY}this.XY=e&&"max-bundle"===e.ZY,e&&e.iceServers&&(this.zY.iceServers=n(e.iceServers)),this.$Y=e,this.eW=[],this.tW=[]},window.RTCPeerConnection.prototype.rW=function(){var e=new Event("icegatheringstatechange");this.dispatchEvent(e),null!==this.KY&&this.KY(e)},window.RTCPeerConnection.prototype.iW=function(){var e=this,t=s.nW(e.localDescription.sdp);this.tW.forEach(function(r){if(r.candidate&&0!==Object.keys(r.candidate).length)t[r.candidate.sdpMLineIndex+1]+="a="+r.candidate.candidate+"\r\n";else for(var i=1;i<t.length;i++)-1===t[i].indexOf("\r\na=end-of-candidates\r\n")&&(t[i]+="a=end-of-candidates\r\n");if(e.localDescription.sdp=t.join(""),e.dispatchEvent(r),null!==e.onicecandidate&&e.onicecandidate(r),!r.candidate&&"complete"!==e.iceGatheringState){e.eW.every(function(e){return e.sW&&"completed"===e.sW.state})&&"complete"!==e.oW&&(e.iceGatheringState="complete",e.rW())}}),this.tW=[]},window.RTCPeerConnection.prototype.getConfiguration=function(){return this.$Y},window.RTCPeerConnection.prototype.addStream=function(e){if(o.version>=15025)this.YY.push(e);else{var t=e.clone();e.getTracks().forEach(function(e,r){var i=t.getTracks()[r];e.addEventListener("enabled",function(e){i.enabled=e.enabled})}),this.YY.push(t)}this.aW()},window.RTCPeerConnection.prototype.removeStream=function(e){var t=this.YY.indexOf(e);t>-1&&(this.YY.splice(t,1),this.aW())},window.RTCPeerConnection.prototype.getSenders=function(){return this.eW.filter(function(e){return!!e.hW}).map(function(e){return e.hW})},window.RTCPeerConnection.prototype.getReceivers=function(){return this.eW.filter(function(e){return!!e.cW}).map(function(e){return e.cW})},window.RTCPeerConnection.prototype.uW=function(e,t){var r={lW:[],pW:[],dW:[]},i=function(e,t){e=parseInt(e,10);for(var r=0;r<t.length;r++)if(t[r].fW===e||t[r].gW===e)return t[r]},n=function(e,t,r,n){var s=i(e.parameters.EW,r),o=i(t.parameters.EW,n);return s&&o&&s.name.toLowerCase()===o.name.toLowerCase()};return e.lW.forEach(function(i){for(var s=0;s<t.lW.length;s++){var o=t.lW[s];if(i.name.toLowerCase()===o.name.toLowerCase()&&i.vW===o.vW){if("rtx"===i.name.toLowerCase()&&i.parameters&&o.parameters.EW&&!n(i,o,e.lW,t.lW))continue;o=JSON.parse(JSON.stringify(o)),o.yW=Math.min(i.yW,o.yW),r.lW.push(o),o.TW=o.TW.filter(function(e){for(var t=0;t<i.TW.length;t++)if(i.TW[t].type===e.type&&i.TW[t].mW===e.mW)return!0;return!1});break}}}),e.pW.forEach(function(e){for(var i=0;i<t.pW.length;i++){var n=t.pW[i];if(e.uri===n.uri){r.pW.push(n);break}}}),r},window.RTCPeerConnection.prototype.IW=function(e,t){var r=this,i=new RTCIceGatherer(r.zY),n=new RTCIceTransport(i);i.SW=function(o){var a=new Event("icecandidate");a.candidate={sdpMid:e,sdpMLineIndex:t};var h=o.candidate,c=!h||0===Object.keys(h).length;c?void 0===i.state&&(i.state="completed"):(h.RW="RTCP"===n.RW?2:1,a.candidate.candidate=s.wW(h));var u=s.nW(r.localDescription.sdp);u[a.candidate.sdpMLineIndex+1]+=c?"a=end-of-candidates\r\n":"a="+a.candidate.candidate+"\r\n",r.localDescription.sdp=u.join("");var l=r.bW?r.bW:r.eW,p=l.every(function(e){return e.sW&&"completed"===e.sW.state});switch(r.iceGatheringState){case"new":c||r.tW.push(a),c&&p&&r.tW.push(new Event("icecandidate"));break;case"gathering":r.iW(),c||(r.dispatchEvent(a),null!==r.onicecandidate&&r.onicecandidate(a)),p&&(r.dispatchEvent(new Event("icecandidate")),null!==r.onicecandidate&&r.onicecandidate(new Event("icecandidate")),r.iceGatheringState="complete",r.rW())}},n._W=function(){r.PW()};var o=new RTCDtlsTransport(n);return o.AW=function(){r.PW()},o.onerror=function(){o.state="failed",r.PW()},{sW:i,OW:n,NW:o}},window.RTCPeerConnection.prototype.DW=function(e,t,r){var i=this.uW(e.kW,e.LW);t&&e.hW&&(i.MW=e.FW,i.UW={BW:s.HW},e.xW.length&&(i.UW.qW=e.xW[0].qW),e.hW.send(i)),r&&e.cW&&("video"===e.kind&&e.xW&&o.version<15019&&e.xW.forEach(function(e){delete e.GW}),i.MW=e.xW,i.UW={BW:e.BW},e.FW.length&&(i.UW.qW=e.FW[0].qW),e.cW.VW(i))},window.RTCPeerConnection.prototype.setLocalDescription=function(e){var t,r,i=this;if("offer"===e.type)this.bW&&(t=s.nW(e.sdp),r=t.shift(),t.forEach(function(e,t){var r=s.jW(e);i.bW[t].kW=r}),this.eW=this.bW,delete this.bW);else if("answer"===e.type){t=s.nW(i.remoteDescription.sdp),r=t.shift();var n=s.QW(r,"a=ice-lite").length>0;t.forEach(function(e,t){var o=i.eW[t],a=o.sW,h=o.OW,c=o.NW,u=o.kW,l=o.LW;if("0"!==e.split("\n",1)[0].split(" ",2)[1]&&!o.KW){var p=s.YW(e,r),d=s.WW(e,r);n&&(d.zW="server"),i.XY&&0!==t||(h.start(a,p,n?"controlling":"controlled"),c.start(d));var f=i.uW(u,l);i.DW(o,f.lW.length>0,!1)}})}switch(this.localDescription={type:e.type,sdp:e.sdp},e.type){case"offer":this.JW("have-local-offer");break;case"answer":this.JW("stable");break;default:throw new TypeError('unsupported type "'+e.type+'"')}var o=arguments.length>1&&"function"==typeof arguments[1];if(o){var a=arguments[1];window.setTimeout(function(){a(),"new"===i.iceGatheringState&&(i.iceGatheringState="gathering",i.rW()),i.iW()},0)}var h=Promise.resolve();return h.then(function(){o||("new"===i.iceGatheringState&&(i.iceGatheringState="gathering",i.rW()),window.setTimeout(i.iW.bind(i),500))}),h},window.RTCPeerConnection.prototype.setRemoteDescription=function(e){var t=this,r=new MediaStream,i=[],n=s.nW(e.sdp),a=n.shift(),h=s.QW(a,"a=ice-lite").length>0;switch(this.XY=s.QW(a,"a=group:BUNDLE ").length>0,n.forEach(function(n,c){var u=s.XW(n),l=u[0].substr(2).split(" "),p=l[0],d="0"===l[1],f=s.ZW(n,a),g=s.QW(n,"a=mid:");if(g=g.length?g[0].substr(6):s.$W(),"application"===p&&"DTLS/SCTP"===l[2])return void(t.eW[c]={ez:g,KW:!0});var E,v,y,T,m,I,S,R,w,b,C,_,P=s.jW(n);d||(C=s.YW(n,a),_=s.WW(n,a),_.zW="client"),R=s.tz(n);var A,O=s.QW(n,"a=ssrc:").map(function(e){return s.rz(e)}).filter(function(e){return"cname"===e.iz})[0];O&&(A=O.value);var N=s.QW(n,"a=end-of-candidates",a).length>0,D=s.QW(n,"a=candidate:").map(function(e){return s.ex(e)}).filter(function(e){return"1"===e.RW});if("offer"!==e.type||d)"answer"!==e.type||d||(E=t.eW[c],v=E.sW,y=E.OW,T=E.NW,m=E.hW,I=E.cW,S=E.FW,w=E.kW,t.eW[c].xW=R,t.eW[c].LW=P,t.eW[c].BW=A,(h||N)&&D.length&&y.nz(D),t.XY&&0!==c||(y.start(v,C,"controlling"),T.start(_)),t.DW(E,"sendrecv"===f||"recvonly"===f,"sendrecv"===f||"sendonly"===f),!I||"sendrecv"!==f&&"sendonly"!==f?delete E.cW:(b=I.track,i.push([b,I]),r.addTrack(b)));else{var k=t.XY&&c>0?{sW:t.eW[0].sW,OW:t.eW[0].OW,NW:t.eW[0].NW}:t.IW(g,c);if(!N||t.XY&&0!==c||k.OW.nz(D),w=RTCRtpReceiver.sz(p),o.version<15019&&(w.lW=w.lW.filter(function(e){return"rtx"!==e.name})),S=[{qW:1001*(2*c+2)}],"sendrecv"!==f&&"sendonly"!==f||(I=new RTCRtpReceiver(k.NW,p),b=I.track,i.push([b,I]),r.addTrack(b)),t.YY.length>0&&t.YY[0].getTracks().length>=c){var L;"audio"===p?L=t.YY[0].getAudioTracks()[0]:"video"===p&&(L=t.YY[0].getVideoTracks()[0]),L&&(o.version>=15019&&"video"===p&&(S[0].GW={qW:1001*(2*c+2)+1}),m=new RTCRtpSender(L,k.NW))}t.eW[c]={sW:k.sW,OW:k.OW,NW:k.NW,kW:w,LW:P,hW:m,cW:I,kind:p,ez:g,BW:A,FW:S,xW:R},t.DW(t.eW[c],!1,"sendrecv"===f||"sendonly"===f)}}),this.remoteDescription={type:e.type,sdp:e.sdp},e.type){case"offer":this.JW("have-remote-offer");break;case"answer":this.JW("stable");break;default:throw new TypeError('unsupported type "'+e.type+'"')}return r.getTracks().length&&(t.WY.push(r),window.setTimeout(function(){var e=new Event("addstream");e.stream=r,t.dispatchEvent(e),null!==t.onaddstream&&window.setTimeout(function(){t.onaddstream(e)},0),i.forEach(function(e){var i=e[0],n=e[1],s=new Event("track");s.track=i,s.receiver=n,s.streams=[r],t.dispatchEvent(s),null!==t.QY&&window.setTimeout(function(){t.QY(s)},0)})},0)),arguments.length>1&&"function"==typeof arguments[1]&&window.setTimeout(arguments[1],0),Promise.resolve()},window.RTCPeerConnection.prototype.close=function(){this.eW.forEach(function(e){e.OW&&e.OW.stop(),e.NW&&e.NW.stop(),e.hW&&e.hW.stop(),e.cW&&e.cW.stop()}),this.JW("closed")},window.RTCPeerConnection.prototype.JW=function(e){this.signalingState=e;var t=new Event("signalingstatechange");this.dispatchEvent(t),null!==this.onsignalingstatechange&&this.onsignalingstatechange(t)},window.RTCPeerConnection.prototype.aW=function(){var e=new Event("negotiationneeded");this.dispatchEvent(e),null!==this.onnegotiationneeded&&this.onnegotiationneeded(e)},window.RTCPeerConnection.prototype.PW=function(){var e,t=this,r={oz:0,closed:0,az:0,hz:0,connected:0,cz:0,ll:0};if(this.eW.forEach(function(e){r[e.OW.state]++,r[e.NW.state]++}),r.connected+=r.cz,e="new",r.ll>0?e="failed":r.az>0||r.hz>0?e="connecting":r.uz>0?e="disconnected":r.oz>0?e="new":(r.connected>0||r.cz>0)&&(e="connected"),e!==t.iceConnectionState){t.iceConnectionState=e;var i=new Event("iceconnectionstatechange");this.dispatchEvent(i),null!==this.oniceconnectionstatechange&&this.oniceconnectionstatechange(i)}},window.RTCPeerConnection.prototype.createOffer=function(){var e=this;if(this.bW)throw new Error("createOffer called while there is a pending offer.");var t;1===arguments.length&&"function"!=typeof arguments[0]?t=arguments[0]:3===arguments.length&&(t=arguments[2]);var r=[],n=0,a=0;if(this.YY.length&&(n=this.YY[0].getAudioTracks().length,a=this.YY[0].getVideoTracks().length),t){if(t.PY||t.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");void 0!==t.lz&&(n=t.lz),void 0!==t.pz&&(a=t.pz)}for(this.YY.length&&this.YY[0].getTracks().forEach(function(e){r.push({kind:e.kind,track:e,dz:"audio"===e.kind?n>0:a>0}),"audio"===e.kind?n--:"video"===e.kind&&a--});n>0||a>0;)n>0&&(r.push({kind:"audio",dz:!0}),n--),a>0&&(r.push({kind:"video",dz:!0}),a--);r=i(r);var h=s.fz(),c=[];r.forEach(function(t,r){var i=t.track,n=t.kind,a=s.$W(),h=e.XY&&r>0?{sW:c[0].sW,OW:c[0].OW,NW:c[0].NW}:e.IW(a,r),u=RTCRtpSender.sz(n);o.version<15019&&(u.lW=u.lW.filter(function(e){return"rtx"!==e.name})),u.lW.forEach(function(e){"H264"===e.name&&void 0===e.parameters["gz"]&&(e.parameters["gz"]="1")});var l,p,d=[{qW:1001*(2*r+1)}];i&&(o.version>=15019&&"video"===n&&(d[0].GW={qW:1001*(2*r+1)+1}),l=new RTCRtpSender(i,h.NW)),t.dz&&(p=new RTCRtpReceiver(h.NW,n)),c[r]={sW:h.sW,OW:h.OW,NW:h.NW,kW:u,LW:null,hW:l,cW:p,kind:n,ez:a,FW:d,xW:null}}),this.XY&&(h+="a=group:BUNDLE "+c.map(function(e){return e.ez}).join(" ")+"\r\n"),r.forEach(function(t,r){var i=c[r];h+=s.Ez(i,i.kW,"offer",e.YY[0])}),this.bW=c;var u=new RTCSessionDescription({type:"offer",sdp:h});return arguments.length&&"function"==typeof arguments[0]&&window.setTimeout(arguments[0],0,u),Promise.resolve(u)},window.RTCPeerConnection.prototype.createAnswer=function(){var e=this,t=s.fz();this.XY&&(t+="a=group:BUNDLE "+this.eW.map(function(e){return e.ez}).join(" ")+"\r\n"),this.eW.forEach(function(r){if(r.KW)return void(t+="m=application 0 DTLS/SCTP 5000\r\nc=IN IP4 0.0.0.0\r\na=mid:"+r.ez+"\r\n");var i=e.uW(r.kW,r.LW);t+=s.Ez(r,i,"answer",e.YY[0])});var r=new RTCSessionDescription({type:"answer",sdp:t});return arguments.length&&"function"==typeof arguments[0]&&window.setTimeout(arguments[0],0,r),Promise.resolve(r)},window.RTCPeerConnection.prototype.addIceCandidate=function(e){if(e){var t=e.sdpMLineIndex;if(e.sdpMid)for(var r=0;r<this.eW.length;r++)if(this.eW[r].ez===e.sdpMid){t=r;break}var i=this.eW[t];if(i){var n=Object.keys(e.candidate).length>0?s.ex(e.candidate):{};if("tcp"===n.protocol&&(0===n.port||9===n.port))return Promise.resolve();if("1"!==n.RW)return Promise.resolve();i.OW.vz(n);var o=s.nW(this.remoteDescription.sdp);o[t+1]+=(n.type?e.candidate.trim():"a=end-of-candidates")+"\r\n",this.remoteDescription.sdp=o.join("")}}else for(var a=0;a<this.eW.length;a++)if(this.eW[a].OW.vz({}),this.XY)return Promise.resolve();return arguments.length>1&&"function"==typeof arguments[1]&&window.setTimeout(arguments[1],0),Promise.resolve()},window.RTCPeerConnection.prototype.getStats=function(){var e=[];this.eW.forEach(function(t){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach(function(r){t[r]&&e.push(t[r].getStats())})});var t=arguments.length>1&&"function"==typeof arguments[1]&&arguments[1],r=function(e){return{yz:"inbound-rtp",Tz:"outbound-rtp",mz:"candidate-pair",bY:"local-candidate",CY:"remote-candidate"}[e.type]||e.type};return new Promise(function(i){var n=new Map;Promise.all(e).then(function(e){e.forEach(function(e){Object.keys(e).forEach(function(t){e[t].type=r(e[t]),n.set(t,e[t])})}),t&&window.setTimeout(t,0,n),i(n)})})}}};e.i={aL:a.aL,cL:r(126)}},function(e,t,r){"use strict";var i={};i.$W=function(){return Math.random().toString(36).substr(2,10)},i.HW=i.$W(),i.XW=function(e){return e.trim().split("\n").map(function(e){return e.trim()})},i.nW=function(e){return e.split("\nm=").map(function(e,t){return(t>0?"m="+e:e).trim()+"\r\n"})},i.QW=function(e,t){return i.XW(e).filter(function(e){return 0===e.indexOf(t)})},i.ex=function(e){var t;t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" ");for(var r={Iz:t[0],RW:t[1],protocol:t[2].toLowerCase(),Sz:parseInt(t[3],10),ip:t[4],port:parseInt(t[5],10),type:t[7]},i=8;i<t.length;i+=2)switch(t[i]){case"raddr":r.Rz=t[i+1];break;case"rport":r.wz=parseInt(t[i+1],10);break;case"tcptype":r.bz=t[i+1];break;default:r[t[i]]=t[i+1]}return r},i.wW=function(e){var t=[];t.push(e.Iz),t.push(e.RW),t.push(e.protocol.toUpperCase()),t.push(e.Sz),t.push(e.ip),t.push(e.port);var r=e.type;return t.push("typ"),t.push(r),"host"!==r&&e.Rz&&e.wz&&(t.push("raddr"),t.push(e.Rz),t.push("rport"),t.push(e.wz)),e.bz&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.bz)),"candidate:"+t.join(" ")},i.Cz=function(e){return e.substr(14).split(" ")},i._z=function(e){var t=e.substr(9).split(" "),r={fW:parseInt(t.shift(),10)};return t=t[0].split("/"),r.name=t[0],r.vW=parseInt(t[1],10),r.yW=3===t.length?parseInt(t[2],10):1,r},i.Pz=function(e){var t=e.fW;return void 0!==e.gW&&(t=e.gW),"a=rtpmap:"+t+" "+e.name+"/"+e.vW+(1!==e.yW?"/"+e.yW:"")+"\r\n"},i.Az=function(e){var t=e.substr(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1]}},i.Oz=function(e){return"a=extmap:"+(e.id||e.Nz)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+"\r\n"},i.Dz=function(e){for(var t,r={},i=e.substr(e.indexOf(" ")+1).split(";"),n=0;n<i.length;n++)t=i[n].trim().split("="),r[t[0].trim()]=t[1];return r},i.kz=function(e){var t="",r=e.fW;if(void 0!==e.gW&&(r=e.gW),e.parameters&&Object.keys(e.parameters).length){var i=[];Object.keys(e.parameters).forEach(function(t){i.push(t+"="+e.parameters[t])}),t+="a=fmtp:"+r+" "+i.join(";")+"\r\n"}return t},i.Lz=function(e){var t=e.substr(e.indexOf(" ")+1).split(" ");return{type:t.shift(),mW:t.join(" ")}},i.Mz=function(e){var t="",r=e.fW;return void 0!==e.gW&&(r=e.gW),e.TW&&e.TW.length&&e.TW.forEach(function(e){t+="a=rtcp-fb:"+r+" "+e.type+(e.mW&&e.mW.length?" "+e.mW:"")+"\r\n"}),t},i.rz=function(e){var t=e.indexOf(" "),r={qW:parseInt(e.substr(7,t-7),10)},i=e.indexOf(":",t);return i>-1?(r.iz=e.substr(t+1,i-t-1),r.value=e.substr(i+1)):r.iz=e.substr(t+1),r},i.Fz=function(e){var t=i.QW(e,"a=mid:")[0];if(t)return t.substr(6)},i.Uz=function(e){var t=e.substr(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1]}},i.WW=function(e,t){return{zW:"auto",Bz:i.QW(e+t,"a=fingerprint:").map(i.Uz)}},i.Hz=function(e,t){var r="a=setup:"+t+"\r\n";return e.Bz.forEach(function(e){r+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"}),r},i.YW=function(e,t){var r=i.XW(e);return r=r.concat(i.XW(t)),{xz:r.filter(function(e){return 0===e.indexOf("a=ice-ufrag:")})[0].substr(12),password:r.filter(function(e){return 0===e.indexOf("a=ice-pwd:")})[0].substr(10)}},i.qz=function(e){return"a=ice-ufrag:"+e.xz+"\r\na=ice-pwd:"+e.password+"\r\n"},i.jW=function(e){for(var t={lW:[],pW:[],dW:[],UW:[]},r=i.XW(e),n=r[0].split(" "),s=3;s<n.length;s++){var o=n[s],a=i.QW(e,"a=rtpmap:"+o+" ")[0];if(a){var h=i._z(a),c=i.QW(e,"a=fmtp:"+o+" ");switch(h.parameters=c.length?i.Dz(c[0]):{},h.TW=i.QW(e,"a=rtcp-fb:"+o+" ").map(i.Lz),t.lW.push(h),h.name.toUpperCase()){case"RED":case"ULPFEC":t.dW.push(h.name.toUpperCase())}}}return i.QW(e,"a=extmap:").forEach(function(e){t.pW.push(i.Az(e))}),t},i.Gz=function(e,t){var r="";r+="m="+e+" ",r+=t.lW.length>0?"9":"0",r+=" UDP/TLS/RTP/SAVPF ",r+=t.lW.map(function(e){return void 0!==e.gW?e.gW:e.fW}).join(" ")+"\r\n",r+="c=IN IP4 0.0.0.0\r\n",r+="a=rtcp:9 IN IP4 0.0.0.0\r\n",t.lW.forEach(function(e){r+=i.Pz(e),r+=i.kz(e),r+=i.Mz(e)});var n=0;return t.lW.forEach(function(e){e.Vz>n&&(n=e.Vz)}),n>0&&(r+="a=maxptime:"+n+"\r\n"),r+="a=rtcp-mux\r\n",t.pW.forEach(function(e){r+=i.Oz(e)}),r},i.tz=function(e){var t,r=[],n=i.jW(e),s=-1!==n.dW.indexOf("RED"),o=-1!==n.dW.indexOf("ULPFEC"),a=i.QW(e,"a=ssrc:").map(function(e){return i.rz(e)}).filter(function(e){return"cname"===e.iz}),h=a.length>0&&a[0].qW,c=i.QW(e,"a=ssrc-group:FID").map(function(e){var t=e.split(" ");return t.shift(),t.map(function(e){return parseInt(e,10)})});c.length>0&&c[0].length>1&&c[0][0]===h&&(t=c[0][1]),n.lW.forEach(function(e){if("RTX"===e.name.toUpperCase()&&e.parameters.EW){var i={qW:h,jz:parseInt(e.parameters.EW,10),GW:{qW:t}};r.push(i),s&&(i=JSON.parse(JSON.stringify(i)),i.Qz={qW:t,Kz:o?"red+ulpfec":"red"},r.push(i))}}),0===r.length&&h&&r.push({qW:h});var u=i.QW(e,"b=");return u.length&&(0===u[0].indexOf("b=TIAS:")?u=parseInt(u[0].substr(7),10):0===u[0].indexOf("b=AS:")&&(u=parseInt(u[0].substr(5),10)),r.forEach(function(e){e.Yz=u})),r},i.Wz=function(e){var t={},r=i.QW(e,"a=ssrc:").map(function(e){return i.rz(e)}).filter(function(e){return"cname"===e.iz})[0];r&&(t.BW=r.value,t.qW=r.qW);var n=i.QW(e,"a=rtcp-rsize");t.zz=n.length>0,t.Jz=0===n.length;var s=i.QW(e,"a=rtcp-mux");return t.Xz=s.length>0,t},i.Zz=function(e){var t,r=i.QW(e,"a=msid:");if(1===r.length)return t=r[0].substr(7).split(" "),{stream:t[0],track:t[1]};var n=i.QW(e,"a=ssrc:").map(function(e){return i.rz(e)}).filter(function(e){return"msid"===e.iz});return n.length>0?(t=n[0].value.split(" "),{stream:t[0],track:t[1]}):void 0},i.fz=function(){return"v=0\r\no=thisisadapterortc 8169639915646943137 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},i.Ez=function(e,t,r,n){var s=i.Gz(e.kind,t);if(s+=i.qz(e.sW.$z()),s+=i.Hz(e.NW.$z(),"offer"===r?"actpass":"active"),s+="a=mid:"+e.ez+"\r\n",e.direction?s+="a="+e.direction+"\r\n":e.hW&&e.cW?s+="a=sendrecv\r\n":e.hW?s+="a=sendonly\r\n":e.cW?s+="a=recvonly\r\n":s+="a=inactive\r\n",e.hW){var o="msid:"+n.id+" "+e.hW.track.id+"\r\n";s+="a="+o,s+="a=ssrc:"+e.FW[0].qW+" "+o,e.FW[0].GW&&(s+="a=ssrc:"+e.FW[0].GW.qW+" "+o,s+="a=ssrc-group:FID "+e.FW[0].qW+" "+e.FW[0].GW.qW+"\r\n")}return s+="a=ssrc:"+e.FW[0].qW+" cname:"+i.HW+"\r\n",e.hW&&e.FW[0].GW&&(s+="a=ssrc:"+e.FW[0].GW.qW+" cname:"+i.HW+"\r\n"),s},i.ZW=function(e,t){for(var r=i.XW(e),n=0;n<r.length;n++)switch(r[n]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return r[n].substr(2)}return t?i.ZW(t):"sendrecv"},i.eJ=function(e){return i.XW(e)[0].split(" ")[0].substr(2)},i.zs=function(e){return"0"===e.split(" ",2)[1]},e.i=i},function(e,t,r){"use strict";e.i=function(){var e=function(e){return{name:{FY:"NotAllowedError"}[e.name]||e.name,message:e.message,BY:e.BY,toString:function(){return this.name}}},t=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);navigator.mediaDevices.getUserMedia=function(r){return t(r).catch(function(t){return Promise.reject(e(t))})}}},function(e,t,r){"use strict";var i=r(17).Wu,n={pL:function(){"object"!=typeof window||!window.RTCPeerConnection||"ontrack"in window.RTCPeerConnection.prototype||Object.defineProperty(window.RTCPeerConnection.prototype,"ontrack",{get:function(){return this.EY},set:function(e){this.EY&&(this.removeEventListener("track",this.EY),this.removeEventListener("addstream",this.vY)),this.addEventListener("track",this.EY=e),this.addEventListener("addstream",this.vY=function(e){e.stream.getTracks().forEach(function(t){var r=new Event("track");r.track=t,r.receiver={track:t},r.streams=[e.stream],this.dispatchEvent(r)}.bind(this))}.bind(this))}})},lL:function(){"object"==typeof window&&(!window.HTMLMediaElement||"srcObject"in window.HTMLMediaElement.prototype||Object.defineProperty(window.HTMLMediaElement.prototype,"srcObject",{get:function(){return this.mozSrcObject},set:function(e){this.mozSrcObject=e}}))},aL:function(){if("object"==typeof window&&(window.RTCPeerConnection||window.mozRTCPeerConnection)){window.RTCPeerConnection||(window.RTCPeerConnection=function(e,t){if(i.version<38&&e&&e.iceServers){for(var r=[],n=0;n<e.iceServers.length;n++){var s=e.iceServers[n];if(s.hasOwnProperty("urls"))for(var o=0;o<s.VY.length;o++){var a={url:s.VY[o]};0===s.VY[o].indexOf("turn")&&(a.username=s.username,a.tJ=s.tJ),r.push(a)}else r.push(e.iceServers[n])}e.iceServers=r}return new mozRTCPeerConnection(e,t)},window.RTCPeerConnection.prototype=mozRTCPeerConnection.prototype,mozRTCPeerConnection.wY&&Object.defineProperty(window.RTCPeerConnection,"generateCertificate",{get:function(){return mozRTCPeerConnection.wY}}),window.RTCSessionDescription=mozRTCSessionDescription,window.RTCIceCandidate=mozRTCIceCandidate),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(e){var t=RTCPeerConnection.prototype[e];RTCPeerConnection.prototype[e]=function(){return arguments[0]=new("addIceCandidate"===e?RTCIceCandidate:RTCSessionDescription)(arguments[0]),t.apply(this,arguments)}});var e=RTCPeerConnection.prototype.addIceCandidate;RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?e.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())};var t=function(e){var t=new Map;return Object.keys(e).forEach(function(r){t.set(r,e[r]),t[r]=e[r]}),t},r={yz:"inbound-rtp",Tz:"outbound-rtp",mz:"candidate-pair",bY:"local-candidate",CY:"remote-candidate"},n=RTCPeerConnection.prototype.getStats;RTCPeerConnection.prototype.getStats=function(e,s,o){return n.apply(this,[e||null]).then(function(e){if(i.version<48&&(e=t(e)),i.version<53&&!s)try{e.forEach(function(e){e.type=r[e.type]||e.type})}catch(t){if("TypeError"!==t.name)throw t;e.forEach(function(t,i){e.set(i,Object.assign({},t,{type:r[t.type]||t.type}))})}return e}).then(s,o)}}}};e.i={pL:n.pL,lL:n.lL,aL:n.aL,cL:r(128)}},function(e,t,r){"use strict";var i=r(17).log,n=r(17).Wu;e.i=function(){var e=function(e){return{name:{rJ:"NotAllowedError",FY:"NotAllowedError"}[e.name]||e.name,message:{"The operation is insecure.":"The request is not allowed by the user agent or the platform in the current context."}[e.message]||e.message,BY:e.BY,toString:function(){return this.name+(this.message&&": ")+this.message}}},t=function(t,r,s){var o=function(e){if("object"!=typeof e||e.iJ)return e;var t=[];return Object.keys(e).forEach(function(r){if("require"!==r&&"advanced"!==r&&"mediaSource"!==r){var i=e[r]="object"==typeof e[r]?e[r]:{AY:e[r]};if(void 0===i.min&&void 0===i.max&&void 0===i.OY||t.push(r),void 0!==i.OY&&("number"==typeof i.OY?i.min=i.max=i.OY:e[r]=i.OY,delete i.OY),void 0!==i.AY){e.NY=e.NY||[];var n={};"number"==typeof i.AY?n[r]={min:i.AY,max:i.AY}:n[r]=i.AY,e.NY.push(n),delete i.AY,Object.keys(i).length||delete e[r]}}}),t.length&&(e.iJ=t),e};return t=JSON.parse(JSON.stringify(t)),n.version<38&&(i("spec: "+JSON.stringify(t)),t.HR&&(t.HR=o(t.HR)),t.video&&(t.video=o(t.video)),i("ff37: "+JSON.stringify(t))),navigator.mozGetUserMedia(t,r,function(t){s(e(t))})},r=function(e){return new Promise(function(r,i){t(e,r,i)})};if(navigator.mediaDevices||(navigator.mediaDevices={getUserMedia:r,addEventListener:function(){},removeEventListener:function(){}}),navigator.mediaDevices.LY=navigator.mediaDevices.LY||function(){return new Promise(function(e){e([{kind:"audioinput",MY:"default",label:"",xY:""},{kind:"videoinput",MY:"default",label:"",xY:""}])})},n.version<41){var s=navigator.mediaDevices.LY.bind(navigator.mediaDevices);navigator.mediaDevices.LY=function(){return s().then(void 0,function(e){if("NotFoundError"===e.name)return[];throw e})}}if(n.version<49){var o=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);navigator.mediaDevices.getUserMedia=function(t){return o(t).then(function(e){if(t.HR&&!e.getAudioTracks().length||t.video&&!e.getVideoTracks().length)throw e.getTracks().forEach(function(e){e.stop()}),new DOMException("The object can not be found here.","NotFoundError");return e},function(t){return Promise.reject(e(t))})}}navigator.getUserMedia=function(e,r,i){if(n.version<44)return t(e,r,i);console.warn("navigator.getUserMedia has been replaced by navigator.mediaDevices.getUserMedia"),navigator.mediaDevices.getUserMedia(e).then(r,i)}}},function(e,t,r){"use strict";var i={cL:function(){navigator.getUserMedia||(navigator.webkitGetUserMedia?navigator.getUserMedia=navigator.webkitGetUserMedia.bind(navigator):navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&(navigator.getUserMedia=function(e,t,r){navigator.mediaDevices.getUserMedia(e).then(t,r)}.bind(navigator)))}};e.i={cL:i.cL}},function(e,t,r){"use strict";var i=this&&this.hu||function(e,t){function r(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=r(20);!function(e){!function(e){var t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(n.HiveComm.Options.Tp);e.fL=t}(e.Options||(e.Options={}))}(t.HiveComm||(t.HiveComm={}))},function(e,t,r){"use strict";var i=function(){function e(e,t,r){this.isLive=e,this.protocol=t,this.IM=r}return e.prototype.uB=function(){var e=new hive.snapshots.StreamInfo;return e.streamType=this.isLive?StreamType.LIVE:StreamType.kK,e.streamProtocol=this.protocol,e.url=this.IM,e},e}();t.AL=i},function(e,t,r){"use strict";var i=this&&this.hu||function(e,t){function r(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=r(4),s=r(55),o=r(44).Pp,a=r(0),h=r(133),c=r(73),u=r(19),l=r(56),p=r(198),d=r(26),f=r(18),g=r(21),E=r(54),v=r(1),y=r(45),T=p.HiveComm.Options,m=d.HiveComm.HiveTechError,I=d.HiveComm.vE,S=function(e){function t(r,i,n){var s=e.call(this,r,i)||this;return s.options_=new T.nJ,void 0!=i[t.EL]&&g.Sp(i[t.EL],s.options_),s.UQ=n,s}return i(t,e),t.prototype.getName=function(){return t.EL},t.prototype.getVersion=function(){return this.gL.getPluginVersion()},t.prototype.vL=function(){return!0},t.prototype.yL=function(){return c.lb.Api?this.sJ()&&this.XH()?n.resolve(!0):n.reject(new m(I.pE,"WebRTC DataChannels not supported by browser")):n.reject(new m(I.pE,"Not included in the page"))},t.prototype.initSession=function(e,t){var r=this;return this.yL().then(function(){var i=t.ticket;r._L();var n=i.NN();0===n.indexOf("//")&&(n=location.protocol+n);var s=r.TL(e,i,n,t);return E.zu.registerTech(r,s.id),E.zu.registerComm(r.gL,s.id),f.HiveRequestFactory.registerTech(s.id,r.getName()),window&&window.activateXHRInterceptor&&window.activateXHRInterceptor(r.gL.loggerLevel()>y.TN.pN.info),s})},t.prototype.isActive=function(e,t){var r=t.manifest.toLowerCase(),i=e.toLowerCase(),n=r.indexOf(".ism/manifest");if(n>-1){var s=r.substring(0,n);if(i.indexOf(s)>-1)return i.indexOf(".ism/manifest(format=mpd-time-csf)")>-1?this.oJ?(t.ticket.SourceURL=e,!0):this.aJ(t,"The player does not use HiveRequest, downgrading to StatsJS"):this.aJ(t,"Protocol not supported by HiveJS tech, downgrading to StatsJS")}else if(i===r)return!!this.oJ||this.aJ(t,"The player does not use HiveRequest, downgrading to StatsJS");return!1},t.prototype.ol=function(t,r){window&&window.deactivateXHRInterceptor&&window.deactivateXHRInterceptor(),e.prototype.ol.call(this,t,r);var i=c.lb.Api();r?(f.HiveRequestFactory.clearSession(t.id),i&&(i.nl(t.id,u.Ml.STOP),i.hJ())):i&&i.nl(t.id,u.Ml.IDLE)},t.prototype.aJ=function(e,t){return e.tech=this.UQ,f.HiveRequestFactory.registerTech(e.id,l.StatsJS.EL),this.oJ&&this.oJ.resolve(),this.oJ=void 0,this.gL.logger().warn("[HiveJS] "+t),this.onError(new m(I.fE,t)),window&&window.deactivateXHRInterceptor&&window.deactivateXHRInterceptor(),!0},t.prototype.oL=function(e){this.oJ=e},t.prototype.onActiveSession=function(e){var t=this;a.Framework.X().apply(new h.cJ(!0));var r=c.lb.Api();if(this.uJ()&&r.lJ(!0),r.start(e.rl,!1).then(function(i){if(t._L(),t.PL=e.rl,t.PL.Ql(t.options_.renderStatsCallback),t.PL.Vl(c.lb.sp(),c.lb.getVersion()),t.PL.Bl.init(t.PL.Ul,e.ticket.sessionId),t.gL.options().testId&&t.PL.Ul.NL(t.gL.options().testId),e.authenticationToken){var n=r.pJ(e.ticket.sessionId);n&&n.fJ.dJ.UM(e.authenticationToken)}t.oJ&&r.request(t.oJ,e.rl.ticket.sessionId),t.PL.Hl.Xu(e.ticket.sessionId,t.gL.getPlayerSource(),200);var s=t.gL.flushTechEvents();s&&s.length>0&&t.PL.Hl.Cd(s),t.gL.updatePlayerInfo(t.PL)}),void 0!=this.options().onActiveSession)try{this.options().onActiveSession(e.toHiveSession())}catch(e){v.ErrorMonitor.ve().logError("exception in user-defined onActiveSession callback","[HiveJS]",e)}},t.prototype.nl=function(e,t){},t.prototype.TL=function(e,t,r,i){var n=new f.cl(e,t,r,i);return n.ML=!0,n.id=n.ticket.sessionId,n},t.prototype.bL=function(){},t.prototype.uJ=function(){var e=new o;return e.Ad(navigator.userAgent),"Android"==e.Od().name},t.prototype.sJ=function(){return"safari"!=s.Wu.Qu},t.prototype.XH=function(){try{return null!=s.Vu&&null!=s.hL&&"function"==typeof new RTCPeerConnection(null,null).createDataChannel}catch(e){return!1}},t}(l.StatsJS);S.EL="HiveJS",t.HiveJS=S},function(e,t,r){"use strict";var i=r(40),n=r(0),s=r(45),o=r(8),a=r(19),h=r(76),c=r(77),u=r(79),l=r(75),p=r(22),d=r(15),f=r(134),g=r(137),E=r(138),v=r(88),y=r(155),T=r(156),m=r(157),I=r(158),S=r(159),R=r(95),w=r(172),b=r(173),C=r(174),_=r(49),P=r(25),A=r(175),O=r(179),N=r(180),D=r(181),k=r(182),L=r(184),M=r(185),F=r(186),U=r(187),B=r(80),H=r(188),x=r(189),q=r(191),G=r(6),V=r(192),j=G.he.vh,Q=G.he.yh,K=G.he.Th,Y=G.he.Ih;if(Q)var W=r(193).gJ,z=r(195).EJ;if(K)var J=r(92).WG;if(j)var X=r(196).vJ;if(Y)var Z=r(81).CH;else var $=r(83).nx;var ee=function(){function e(e){this.yJ=!1,e&&(this.yJ=e)}return e.prototype.apply=function(e){this.yJ?Y&&e.bind(new i.ZA(o.pc.sc,Z,i.$A.sO)):(e.bind(new i.ZA(o.pc.hc,a.lp,i.$A.sO)),e.bind(new i.ZA(o.pc.G,h.qB,i.$A.sO)),e.bind(new i.ZA(o.pc.nc,c.WB,i.$A.sO)),e.bind(new i.ZA(o.pc.M,u.vH,i.$A.sO)),e.bind(new i.ZA(n.Framework.V.R,s.TN.yN,i.$A.sO)),e.bind(new i.ZA(o.pc.ic,l.Stats.ql,i.$A.pO)),e.bind(new i.ZA(o.pc.uc,p.Gl.Bd,i.$A.pO)),e.bind(new i.ZA(o.pc.lc,p.Gl.ql,i.$A.pO)),Y?e.bind(new i.ZA(o.pc.sc,Z,i.$A.sO)):e.bind(new i.ZA(o.pc.sc,$,i.$A.sO))),e.bind(new i.ZA(d.qu.lu,V.TJ,i.$A.pO)),e.bind(new i.ZA(o.pc.oc,B.IH,i.$A.sO)),e.bind(new i.ZA(d.qu.Fu,F.mJ,i.$A.sO)),e.bind(new i.ZA(d.qu._u,f.sh,i.$A.sO)),e.bind(new i.ZA(d.qu.Ru,g.IJ,i.$A.pO)),e.bind(new i.ZA(d.qu.Pu,E.SJ,i.$A.pO)),e.bind(new i.ZA(d.qu.yu,y.Ra,i.$A.pO)),e.bind(new i.ZA(d.qu.Tu,v.Yq,i.$A.pO)),j&&e.bind(new i.ZA(d.qu.mu,X,i.$A.pO)),e.bind(new i.ZA(d.qu.bu,T.RJ,i.$A.pO)),"undefined"!=typeof HiveOriginalXMLHttpRequest?e.bind(new i.ZA(n.Framework.V.H,HiveOriginalXMLHttpRequest)):e.bind(new i.ZA(n.Framework.V.H,XMLHttpRequest)),e.bind(new i.ZA(d.qu.Mu,M.wJ,i.$A.sO)),e.bind(new i.ZA(d.qu.Du,m.bJ,i.$A.pO)),e.bind(new i.ZA(n.Framework.V.F,A.CJ,i.$A.sO)),e.bind(new i.ZA(d.qu.q,O._J,i.$A.sO)),e.bind(new i.ZA(d.qu.Su,U.PJ,i.$A.pO)),e.bind(new i.ZA(d.qu.Iu,I.AJ,i.$A.pO)),e.bind(new i.ZA(d.qu.pu,S.Qa,i.$A.pO)),e.bind(new i.ZA(d.qu.du,R.iQ,i.$A.pO)),e.bind(new i.ZA(d.qu.fu,x.OJ,i.$A.pO)),e.bind(new i.ZA(d.qu.gu,x.NJ,i.$A.pO)),e.bind(new i.ZA(d.qu.Eu,q.DJ,i.$A.pO)),e.bind(new i.ZA(d.qu.vu,q.kJ,i.$A.pO)),e.bind(new i.ZA(d.qu.xu,H.Vo,i.$A.pO)),e.bind(new i.ZA(d.qu.Cu,w.LJ,i.$A.pO)),e.bind(new i.ZA(d.qu.wu,b.MJ,i.$A.pO)),e.bind(new i.ZA(d.qu.ku,C.FJ,i.$A.pO)),e.bind(new i.ZA(d.qu.Nu,k.UJ,i.$A.pO)),e.bind(new i.ZA(d.qu.Au,_.Ak,i.$A.pO)),e.bind(new i.ZA(d.qu.Ou,L.BJ,i.$A.pO)),e.bind(new i.ZA(n.Framework.V.U,P.Rf.Fa,i.$A.pO)),e.bind(new i.ZA(d.qu.Lu,N.ya,i.$A.pO)),Q&&(e.bind(new i.ZA(d.qu.Bu,W,i.$A.pO)),e.bind(new i.ZA(d.qu.Uu,z,i.$A.pO))),K&&e.bind(new i.ZA(d.qu.Th,J,i.$A.pO)),e.bind(new i.ZA(d.qu.Hu,D.HJ,i.$A.pO))},e}();t.cJ=ee},function(e,t,r){"use strict";var i=r(4),n=r(28),s=n.cg,o=r(0),a=r(43),h=r(15),c=r(5),u=r(19),l=r(3),p=r(135),d=r(47),f=r(8),g=r(136),E=r(6),v=r(1),y=r(2),T=E.he.yh,m=E.he.Th,I=E.he.mh,S=function(){function e(e){this.state=u.Ml.Ll,this.requestTimeout=-1;try{this.logger=o.Framework.resolve(o.Framework.V.R).log(e.ticket.sessionId),this.loggerId="[SWARM] ",this.Ng=o.Framework.resolve(o.Framework.V.F),this.sessionId=e.ticket.sessionId,this.rl=e,this.ED=o.Framework.resolve(h.qu.Ru),this.sC=o.Framework.resolve(h.qu.yu),this.oG=o.Framework.resolve(h.qu.pu),this.xJ=o.Framework.resolve(h.qu.bu),this.gD=o.Framework.resolve(h.qu.Iu),this.TD=o.Framework.resolve(h.qu.du),this.uploadScore=o.Framework.resolve(h.qu.ku),this.qJ=o.Framework.resolve(h.qu.wu),this.GJ=o.Framework.resolve(h.qu.Du),this.vD=o.Framework.resolve(h.qu.Cu),this.fJ=o.Framework.resolve(h.qu.Pu),this.WM=o.Framework.resolve(h.qu.Lu),this.yD=o.Framework.resolve(h.qu.Hu),this.zM=o.Framework.resolve(h.qu.Au),this.mD=o.Framework.resolve(h.qu.Ou),this.ID=o.Framework.resolve(h.qu.Su),this.zV=o.Framework.resolve(h.qu.xu),this.YM=o.Framework.resolve(h.qu.lu),(T||o.Framework.C()&&d.$N.JN)&&(this.VJ=o.Framework.resolve(h.qu.Uu),this.jJ=o.Framework.resolve(h.qu.Bu)),(m||o.Framework.C()&&d.$N.XN)&&(this.QJ=o.Framework.resolve(h.qu.Th)),this.swarmId=this.KJ(e.ticket.kd()),this.YM.init(this),this.xJ.init(this),this.ID.init(this),this.zV.init(this),this.TD.init(this),this.qJ.init(this),this.GJ.init(this),this.vD.init(this),this.fJ.init(this),this.ED.init(this),this.oG.init(this),this.zM.init(this),this.mD.init(this),this.WM.init(this),(m||o.Framework.C()&&d.$N.XN)&&this.QJ.init(this),(T||o.Framework.C()&&d.$N.JN)&&this.jJ.init(this)}catch(e){throw v.ErrorMonitor.ve().logError("Error constructing swarm object",this.loggerId,y.hs.rs.Zn,e),new Error(e)}}return e.prototype.init=function(e,t,r){try{I?this.YJ(!1):r?this.YJ(!1):this.YJ(!0),this.yD.setReportingGuid(this.rl.identity.rp()),this.yD.WJ(r),this.sC.init(c.hh.Ra.Ta,c.hh.Ra.ma);var i=this.fJ.RD(e,t);this.yD.setContextId(this.fJ.dJ.getContextId());var n=new p.zJ(i);this.rl.OL=n,this.rl.Ul.OL=n,this.GJ.start(this.fJ,this.oG),(T||o.Framework.C()&&d.$N.JN)&&this.jJ.JJ(this.oG);var s=[this.oG,this.TD,this.GJ,this.rl.Ul,this.rl.Hl,this.zV];(T||o.Framework.C()&&d.$N.JN)&&s.push(this.jJ),(m||o.Framework.C()&&d.$N.XN)&&s.push(this.QJ),(a=this.Ng).start.apply(a,[e.sessionId].concat(s)),this.rl.Ul.DB(this.TD),this.rl.Ul.rB(this.yD),this.yD.XJ(e)}catch(e){throw v.ErrorMonitor.ve().logError("Error initializing swarm object",this.loggerId,y.hs.rs.$n,e),new Error(e)}var a},e.prototype.YJ=function(e){e&&"undefined"!=typeof navigator&&navigator.hardwareConcurrency?(this.yD.ZJ(navigator.hardwareConcurrency),this.yD.$J(navigator.hardwareConcurrency)):(this.yD.ZJ(1),this.yD.$J(1)),this.logger.debug(this.loggerId+"My score "+this.yD.QG())},e.prototype.KJ=function(e){return s.oT(e).toString(s.Uy.By)},e.prototype.request=function(e){this.eX(),this.ED.request(e)},e.prototype.tX=function(){if(this.state===u.Ml.STOP)return void this.logger.debug("Ignoring changing state from Stop to Idle");this.oG.stop(),this.TD.stop(),this.mD.rX(),this.mD.iX(),this.GJ.nX(),this.jJ&&this.jJ.sX(),this.rl.nl(u.Ml.IDLE),this.sC.Qq(),this.ID.oX(),this.ED.aX(),this.YM.hX(),o.Framework.clearTimeout(this.requestTimeout)},e.prototype.nl=function(e,t){try{if(this.state!=e){switch(this.logger.info("Switching state "+u.Ml[this.state]+" -> "+u.Ml[e]),e){case u.Ml.STOP:this.tX(),this.Ng.stop(t);break;case u.Ml.IDLE:this.tX();break;case u.Ml.Ll:this.oG.start(),this.TD.start(this.fJ.dJ),this.mD.cX(),this.GJ.uX(),this.jJ&&this.jJ.lX(),this.rl.nl(u.Ml.Ll),this.YM.pX()}this.state=e}}catch(e){v.ErrorMonitor.ve().logError("Error changing peer status",this.loggerId,y.hs.rs.es,e)}},e.prototype.eX=function(){var e=this;try{o.Framework.clearTimeout(this.requestTimeout),this.nl(u.Ml.Ll),this.requestTimeout=o.Framework.setTimeout(function(){e.nl(u.Ml.IDLE)},c.hh.sh.nh)}catch(e){v.ErrorMonitor.ve().logError("Error requesting timeout",this.loggerId,y.hs.rs.Qn,e)}},e}();t.dX=S;var R=function(){function e(){this.Ag=new a.Counter,this.fX=!1,this.zl=new l,this.gX=new l,this.EX=!1,this.vX=!1,this.yX=o.Framework.resolve(h.qu.Mu),this.TX=o.Framework.resolve(h.qu.Fu),this.ud=o.Framework.resolve(f.pc.sc),this.mX=!1}return e.prototype.start=function(e,t){this.logger=o.Framework.resolve(o.Framework.V.R).log(e.ticket.sessionId);var r=e.ticket;this.TX.init(this,e);var n=r.sessionId;if(this.zl.has(n))this.logger.warn("SESSION ALREADY ACTIVE "+n);else{g.IX.fd(e.xl.client);var s=new S(e);s.init(r,t,this.mX),this.ud.getConnectivityInfo().then(function(e){var t=e.getNetworkChanged(),r=t.getPrivateIp();r&&s.yD.DH(r)}).done(),e.Ul.NB(this.ud),this.logger.info("PEER CONTEXT STARTED"),this.zl.set(n,s),this.gX.set(s.swarmId,n)}return 1!=this.zl.length&&!this.vX||o.Framework.C()||(this.yX.init(),this.vX=!1),i.resolve(r.SourceURL)},e.prototype.hJ=function(){this.vX=!0},e.prototype.mg=function(e){if(this.gX.has(e)){var t=this.gX.get(e);return this.zl.get(t)}return null},e.prototype.pJ=function(e){return this.zl.get(e)},e.prototype.SX=function(e){return this.zl.has(e)?this.zl.get(e).ED:null},e.prototype.request=function(e,t){this.pJ(t).request(e)},e.prototype.nl=function(e,t){this.pJ(e).nl(t,e)},e.prototype.abort=function(e,t){this.SX(t).abort(e)},e.prototype.lJ=function(e){this.mX=e},e}();t.sh=R},function(e,t,r){"use strict";var i=function(){function e(e){this.wD=e}return e.prototype.uB=function(){var e=new hive.snapshots.StreamInfo;return e.streamType=this.wD.isLive()?StreamType.LIVE:StreamType.kK,e.streamProtocol=this.wD.getStreamProtocol(),e.url=this.wD.uM(),e},e}();t.zJ=i},function(e,t,r){"use strict";var i=r(22),n=i.Gl.rd,s=r(0),o=r(23),a=function(){function e(){}return e.fd=function(e){this.client=e},e.RX=function(e,t,r,i,a){var h=new n;h.app=e,h.guid=i,h.createdAt=s.Framework.time(),h.name=r,h.tags=t,h.data=JSON.parse(a);var c=new o.Jd(Services.Xd,2,JSON.stringify(h));this.client&&this.client.zd().send(c)},e}();t.IX=a},function(e,t,r){"use strict";var i=r(3),n=r(4),s=r(24),o=r(7),a=r(5),h=r(0),c=r(9),u=r(15),l=r(43),p=r(1),d=r(2),f=function(){function e(){this.wX=new i,this.bX=!1,this.CX=0,this.loggerId="[HiveCache] ",this._X=5,this.TX=h.Framework.resolve(u.qu.Fu),this.PX=new l.RO}return e.prototype.init=function(e){this.logger=h.Framework.resolve(h.Framework.V.R).log(e.sessionId),this.gD=e.gD,this.sC=e.sC,this.TD=e.TD,this.Ul=e.rl.Ul,this.sessionId=e.rl.ticket.sessionId,this.xJ=e.xJ,this.vD=e.vD,this.AX=e.fJ,this.yD=e.yD,this.ID=e.ID,this.YM=e.YM,this.Ul.eB(this.PX)},e.prototype.request=function(e){try{var t=e.url;this.logger.info("HIVE REQ "+t),e.Bf=h.Framework.time();var r=this.AX.OX(e),i=r.EM(e.url);this.YM.NX(i),this.$D(e,i,r,s.bf.Tf)}catch(e){p.ErrorMonitor.ve().logError("Error on player request",this.loggerId,d.hs.Wn.Yn,e)}},e.prototype.$D=function(e,t,r,i){var n=this;if(t.ig()){if(t.Xf()==c.vc.fc){var a=r.PM(t,i);if(a.hF)return this.logger.debug("DO NOT CONTINUE WITH THE REQUEST "+t.Zf()+". ALREADY REQUESTED  "+a.rF+" PENDING REQUEST "+a.aF),null;if(a.aF&&i==s.bf.Tf){var h=this.DX(e,t,r,i);return h.length>0?(h.forEach(function(t){var r=n.wX.get(t);n.wX.set(e.id,r),n.wX.delete(t)}),null):(this.logger.info("PREFETCH UPGRADE FAILED. THIS SHOULD NOT HAPPEN. CHECK FOR MULTIPLE PLAYER REQUESTS FOR THE SAME FRAGMENT"),this.kX(e,t,r,i))}return this.kX(e,t,r,i)}return this.kX(e,t,r,i)}var u=o.rc.Oh.next(),l=new s.hg(e,u,i,t,r);return this.wX.set(e.id,l),l.type=s.bf.mf,this.LX(l),l},e.prototype.kX=function(e,t,r,i){var n=this,a=o.rc.Oh.next(),h=new s.hg(e,a,i,t,r);if(this.wX.set(e.id,h),t.Xf()==c.vc.fc&&(r.uF(h),i!==s.bf.If&&i!==s.bf.wf)){var u=t.bitrate,l=this.yD.MX();0!=u&&(this.yD.FX(u),u!=l&&(this.bX=!0,this.CX=0),this.bX&&this.CX++,this.CX==this._X&&(this.TD.Kj(),this.bX=!1,this.CX=0))}return this.UX(t.Zf()).then(function(e){null!=e?(n.YM.BX(h,e),n.HX(h,e),r.lF(h.Zf(),h.$f()),r.gF(t.bitrate)):(n.xX(t,h),h.Xf()==c.vc.fc&&(r.dF(h),h.type==s.bf.Tf&&n.PX.add(0)))}),h},e.prototype.DX=function(e,t,r,i){return r.cF(e,t,i)},e.prototype.UX=function(e){return this.sC.get(e)},e.prototype.xX=function(e,t){this.gD.contains(e.Zf())?(this.logger.debug("OBJ IDX CONTAINS "+t.Zf()),t.Jf()==s.bf.If&&(t.type=s.bf.wf),this.Cf(t)):t.Jf()!=s.bf.wf?this.LX(t):(p.ErrorMonitor.ve().logError("P2P PREFETCH FAILED BECAUSE OBJECT INDEX DOES NOT CONTAIN REQUEST ENTITY",this.loggerId,{P_:t.Zf()}),t.Wf.lF(t.Zf(),t.$f()))},e.prototype.aX=function(){var e=this;this.wX.forEach(function(t){return e.abort(t.Kf)})},e.prototype.abort=function(e){if(this.wX.has(e.id)){var t=this.wX.get(e.id),r=t.$f();this.logger.debug("REQUEST "+r+" ABORTED "),this.vD.Ys(r)?this.vD.qX(r):this.xJ.Ys(r)&&this.xJ.qX(r),this.wX.delete(e.id)}},e.prototype.Cf=function(e){e.type==s.bf.Tf&&(e.type=s.bf.Rf),e.type==s.bf.wf&&(e.Vf=!0),this.vD.request(e)},e.prototype.GX=function(e){if(0!=e.Qf&&(e.qf.Af=e.Qf,this.logger.info("ALREADY DOWNLOADED "+e.qf.Af+" BYTES"),e.qf.Of=e.Qf),!a.hh.K.Na&&e.Qf&&(e.qf.Af=0),this.YM.VX(e),e.type!=s.bf.wf)e.type=s.bf.Sf,this.LX(e);else if(e.Xf()==c.vc.fc){e.Wf.pF(e.Zf()),e.Wf.lF(e.Zf(),e.$f());var t=e.zf;t.bitrate&&e.Wf.gF(t.bitrate)}},e.prototype.jX=function(e){var t=this;this.logger.info("SUCCESS FROM P2P FOR "+e.eg()+" [REQ "+e.Yf+"] ["+s.bf[e.type]+"] AFTER "+e.og()+" [bw:"+e.ag().Gh()+"]"),this.QX(e),this.KX(e,this.XM(e.type)),this.ID.YX(e);var r=this.xJ.WX().Hh();this.YM.zX(e,r),this.JX(e).then(function(){e.Wf.CM(e),t.XX()}).finally(function(){t.XM(e.type)&&t.ZX(e),t.wX.delete(e.Kf.id)})},e.prototype.LX=function(e){this.YM.$X(e),this.xJ.request(e)},e.prototype.eZ=function(e){this.XX();var t=this.xJ.WX().Hh();this.YM.tZ(e,t),e.Xf()==c.vc.fc&&(e.Wf.pF(e.Zf()),e.Wf.lF(e.Zf(),e.$f())),this.rZ(e)},e.prototype.iZ=function(e){var t=this;this.QX(e),this.KX(e,this.XM(e.type)),e.type==s.bf.Sf&&this.logger.debug("CDN COMPENSATION TIME "+(e.qf.Uf-e.Kf.Bf)+" / "+(e.qf.Uf-e.qf.Lf)+" P2P TIME "+(e.qf.Ff-e.qf.Mf)),-1==[c.vc.gc,c.vc.Ec].indexOf(e.Xf())&&this.ID.YX(e);var r=this.xJ.WX().Hh();this.YM.nZ(e,r),this.JX(e).then(function(){e.Xf()==c.vc.gc&&e.Wf.SM(e),-1==[c.vc.gc,c.vc.Ec].indexOf(e.Xf())&&e.Wf.CM(e),t.XX()}).catch(function(e){t.logger.error(e)}).finally(function(){t.XM(e.type)&&t.ZX(e),t.wX.delete(e.Kf.id)})},e.prototype.QX=function(e){e.type==s.bf.wf&&(e.qf.p2pAgenTrafficSuccessQt=e.qf.Af),e.type==s.bf.If&&(e.qf.kf=e.qf.Df,e.Gf&&(e.qf.srcOtherRespQt=e.qf.Df)),e.qf.Pf=e.qf.Df+e.qf.Af,e.Kf.total=e.qf.Pf},e.prototype.KX=function(e,t){if(this.sZ(e),t){var r=o.rc.createEvent(ProgressEvent,"progress",{lengthComputable:!0,total:e.qf.Pf,loaded:e.qf.Pf,currentTarget:e.Kf});e.Kf.dispatchEvent(r),e.zf.O_()||(e.Kf.response=e.RM,e.Kf.responseText=e.RM)}},e.prototype.ZX=function(e){var t=e.Kf;this.logger.info("RESPOND TO THE PLAYER "+e.Zf()+" SIZE "+(h.Framework.C()?t.total:e.jf.byteLength)),t.status=200,t.readyState=4,"string"==typeof t.response&&"arraybuffer"===t.responseType&&(t.response=o.rc.tc(t.response)),"text"!=t.responseType&&""!=t.responseType&&delete t.responseText,e.zf.O_()&&(t.response=h.Framework.C()?null:o.rc.Qh(e.jf));var r=o.rc.createEvent(Event,"readystatechange",{currentTarget:t}),i=o.rc.createEvent(ProgressEvent,"load",{bubbles:!1,cancelable:!1,lengthComputable:!1,total:e.zf.O_()?e.jf.byteLength:e.RM.length,currentTarget:t}),n=o.rc.createEvent(ProgressEvent,"loadend",{bubbles:!1,cancelable:!1,lengthComputable:!1,loaded:t.total,total:0,currentTarget:t});t.dispatchEvent(r),t.dispatchEvent(i),t.dispatchEvent(n)},e.prototype.rZ=function(e){this.wX.delete(e.Kf.id);var t=e.Kf,r={bubbles:!1,cancelable:!1,lengthComputable:!1,loaded:t.total,total:0,currentTarget:t};e.xhr.status&&e.xhr.status>0?(t.status=e.xhr.status,t.responseHeaders=e.responseHeaders):t.status=404,t.readyState=4,t.dispatchEvent(o.rc.createEvent(Event,"readystatechange",r)),t.dispatchEvent(o.rc.createEvent(ProgressEvent,"load",r)),t.dispatchEvent(o.rc.createEvent(ProgressEvent,"loadend",r))},e.prototype.JX=function(e){var t=this;return e.zf.ig()?this.sC.put(e).then(function(r){r&&t.TD.oZ(e.zf,e.qf.Pf,e.xq)}):n.resolve(!0)},e.prototype.HX=function(e,t){var r=this;e.jf=t.data,e.responseHeaders=t.headers,e.qq=t.qq,e.qf=t.qf;var i=e.Wf.dM().lx(t.length);this.logger.info("SCHEDULE DELIVERY OF "+e.Zf()+" IN "+i+" SIZE "+(h.Framework.C()?t.length:e.jf.byteLength)+" BYTES"),h.Framework.setTimeout(function(){r.aZ(e)},i)},e.prototype.aZ=function(e){this.logger.debug("DELIVERY OF "+e.Zf()),this.KX(e,!0),this.wX.delete(e.Kf.id);var t=e.Kf.Bf-e.qf.Uf;this.logger.info("FRAGMENT PREFETCHED "+t+" MSECS BEFORE PLAYER REQUEST"),t>0&&e.Xf()==c.vc.fc&&this.PX.add(t);var r=0;r=e.qf.Mf>0?e.Kf.Bf-e.qf.Mf:e.Kf.Bf-e.qf.Ff,this.logger.info("FRAGMENT REQUESTED "+r+" MSECS BEFORE PLAYER REQUEST"),this.ZX(e)},e.prototype.XM=function(e){return e!=s.bf.wf&&e!=s.bf.If},e.prototype.sZ=function(e){if(e.type!==s.bf.Sf)e.responseHeaders=e.Kf.responseHeaders=e.responseHeaders;else{var t="\nContent-Range: bytes=0-"+(e.size-1)+"/"+e.size+"\n";t+="Content-Length: "+e.size+"\n",e.responseHeaders=e.Kf.responseHeaders=t}null!=e.responseHeaders&&-1!=e.responseHeaders.indexOf("Access-Control-Allow-Origin")||(e.responseHeaders+="\nAccess-Control-Allow-Origin:*")},e.prototype.XX=function(){h.Framework.C()||this.TX.render()},e}();t.IJ=f},function(e,t,r){"use strict";var i=r(57),n=r(87),s=r(0),o=function(){function e(){this.TD=null,this.Ng=s.Framework.resolve(s.Framework.V.F)}return e.prototype.init=function(e){this.logger=s.Framework.resolve(s.Framework.V.R).log(e.sessionId),this.sG=e,this.TD=e.TD},e.prototype.RD=function(e,t){var r=null,s=e._N();return n.bq.rM(s)?this.dJ=r=new n.bq.Dq(e,t,this.sG):i.DASH.rM(s)?this.dJ=r=new i.DASH.VM(e,this.sG):this.logger.warn("COULD NOT FIND A CONTEXT FOR "+s),null!=r&&this.hZ(this.dJ),r},e.prototype.hZ=function(e){var t=this;null!=this.TD?this.TD.stop().then(function(r){t.TD.start(e)}):this.TD.start(e)},e.prototype.OX=function(e){if(null==this.dJ)this.logger.warn("FIRST REQUEST, COULD NOT FIND RIGHT CONTEXT "+e.url);else if(!this.dJ.mM(e))return this.logger.warn("REQUEST DOES NOT BELONG TO THE CURRENT CONTEXT "+e.url),null;return this.dJ},e}();t.SJ=o},function(e,t,r){"use strict";function i(e,t,r,n){if(!(this instanceof i))return new i(e,t,r,n);this.ls=t||Object.cs,this.Ac=r||Object.Oc,this.ds=n||Function.us,this.root=null,this.length=0,this.addEach(e)}function n(e){this.value=e,this.left=null,this.right=null,this.length=1}function s(e,t,r){if(this.set=e,this.Ok=null,this.end=r,t){var i=this.set.cZ(t);i&&(this.set.uZ(i.value),this.Ok=i.lZ())}}e.i=i;var o=(r(11),r(12)),a=r(39),h=r(13),c=r(38),u=r(69);i.pZ=i,Object.addEach(i.prototype,o.prototype),Object.addEach(i.prototype,a.prototype),Object.addEach(i.prototype,h.prototype),Object.addEach(i.prototype,c.prototype),i.prototype.mF=!0,i.prototype.Es=function(e){return new this.constructor(e,this.ls,this.Ac,this.ds)},i.prototype.has=function(e,t){if(t)throw new Error("SortedSet#has does not support second argument: equals");return!!this.root&&(this.uZ(e),this.ls(e,this.root.value))},i.prototype.get=function(e,t){if(t)throw new Error("SortedSet#get does not support second argument: equals");return this.root&&(this.uZ(e),this.ls(e,this.root.value))?this.root.value:this.ds(e)},i.prototype.add=function(e){var t=new this.Node(e);if(!this.root)return this.Mk&&this.QA([e],[],0),this.root=t,this.length++,this.Mk&&this.GA([e],[],0),!0;if(this.uZ(e),!this.ls(e,this.root.value)){var r=this.Ac(e,this.root.value);if(0===r)throw new Error("SortedSet cannot contain incomparable but inequal values: "+e+" and "+this.root.value);return this.Mk&&this.QA([e],[],this.root.index),r<0?(t.right=this.root,t.left=this.root.left,this.root.left=null,this.root.dZ()):(t.left=this.root,t.right=this.root.right,this.root.right=null,this.root.dZ()),t.dZ(),this.root=t,this.length++,this.Mk&&this.GA([e],[],this.root.index),!0}return!1},i.prototype.delete=function(e,t){if(t)throw new Error("SortedSet#delete does not support second argument: equals");if(this.root&&(this.uZ(e),this.ls(e,this.root.value))){var r=this.root.index;if(this.Mk&&this.QA([],[e],r),this.root.left){var i=this.root.right;this.root=this.root.left,this.uZ(e),this.root.right=i}else this.root=this.root.right;return this.length--,this.root&&this.root.dZ(),this.Mk&&this.GA([],[e],r),!0}return!1},i.prototype.indexOf=function(e,t){if(t)throw new Error("SortedSet#indexOf does not support second argument: startIndex");return this.root&&(this.uZ(e),this.ls(e,this.root.value))?this.root.index:-1},i.prototype.find=function(e,t,r){if(t)throw new Error("SortedSet#find does not support second argument: equals");if(r)throw new Error("SortedSet#find does not support third argument: index");if(this.root&&(this.uZ(e),this.ls(e,this.root.value)))return this.root},i.prototype.fZ=function(e){if(this.root){for(e=e||this.root;e.right;)e=e.right;return e}},i.prototype.gZ=function(e){if(this.root){for(e=e||this.root;e.left;)e=e.left;return e}},i.prototype.EZ=function(e){if(this.root)return this.uZ(e),this.Ac(this.root.value,e)>0?this.root.lZ():this.root},i.prototype.vZ=function(e){if(this.root)return this.uZ(e),this.Ac(this.root.value,e)>=0?this.root.lZ():this.root},i.prototype.cZ=function(e){if(this.root)return this.uZ(e),this.Ac(this.root.value,e)>=0?this.root:this.root.yZ()},i.prototype.TZ=function(e){if(this.root)return this.uZ(e),this.Ac(this.root.value,e)<=0?this.root.yZ():this.root},i.prototype.pop=function(){if(this.root){var e=this.fZ();return this.delete(e.value),e.value}},i.prototype.shift=function(){if(this.root){var e=this.gZ();return this.delete(e.value),e.value}},i.prototype.push=function(){this.addEach(arguments)},i.prototype.unshift=function(){this.addEach(arguments)},i.prototype.slice=function(e,t){e=e||0,t=t||this.length,e<0&&(e+=this.length),t<0&&(t+=this.length);var r=[];if(this.root)for(this.mZ(e);this.root.index<t&&(r.push(this.root.value),this.root.right);)this.uZ(this.root.yZ().value);return r},i.prototype.splice=function(e,t){return this.qk(e,t,Array.prototype.slice.call(arguments,2))},i.prototype.qk=function(e,t,r){if(void 0===e&&void 0===t)return[];e=e||0,e<0&&(e+=this.length),void 0===t&&(t=1/0);var i=[];if(this.root){this.mZ(e);for(var n=0;n<t;n++){i.push(this.root.value);var s=this.root.yZ();if(this.delete(this.root.value),!s)break;this.uZ(s.value)}}return this.addEach(r),i},i.prototype.uZ=function(e){var t,r,i,s,o,a;if(this.root){for(t=r=i=new this.Node,a=new this.Node,o=this.root;;){var h=this.Ac(e,o.value);if(h<0){if(!o.left)break;if(this.Ac(e,o.left.value)<0&&(s=o.left,o.left=s.right,o.dZ(),s.right=o,s.dZ(),o=s,!o.left))break;s=new n,s.right=o,s.left=a.left,a.left=s,i.left=o,i.dZ(),i=o,o=o.left}else{if(!(h>0))break;if(!o.right)break;if(this.Ac(e,o.right.value)>0&&(s=o.right,o.right=s.left,o.dZ(),s.left=o,s.dZ(),o=s,!o.right))break;s=new n,s.left=o,s.right=a.right,a.right=s,r.right=o,r.dZ(),r=o,o=o.right}}for(r.right=o.left,r.dZ(),i.left=o.right,i.dZ(),o.left=t.right,o.right=t.left;a.left;)a.left.right.dZ(),a.left=a.left.left;for(;a.right;)a.right.left.dZ(),a.right=a.right.right;o.dZ(),this.root=o}},i.prototype.mZ=function(e){if(this.root){for(var t=this.root,r=this.root.index;r!==e;)if(r>e&&t.left)t=t.left,r-=1+(t.right?t.right.length:0);else{if(!(r<e&&t.right))break;t=t.right,r+=1+(t.left?t.left.length:0)}return this.uZ(t.value),this.root.index===e}return!1},i.prototype.reduce=function(e,t,r){return this.root&&(t=this.root.reduce(e,t,0,r,this)),t},i.prototype.reduceRight=function(e,t,r){return this.root&&(t=this.root.reduceRight(e,t,this.length-1,r,this)),t},i.prototype.min=function(e){var t=this.gZ(e);if(t)return t.value},i.prototype.max=function(e){var t=this.fZ(e);if(t)return t.value},i.prototype.Bc=function(){return this.min()},i.prototype.clear=function(){var e;this.Mk&&(e=this.toArray(),this.QA([],e,0)),this.root=null,this.length=0,this.Mk&&this.GA([],e,0)},i.prototype.Hc=function(e,t){return new this.Iterator(this,e,t)},i.prototype.Iterator=s,i.prototype.summary=function(){return this.root?this.root.summary():"()"},i.prototype.log=function(e,t,r,i){e=e||u.aU,t=t||this.vs,r||(r=console.log,i=console),r=r.bind(i),this.root&&this.root.log(e,t,r,r)},i.prototype.vs=function(e,t,r){t(" "+e.value)},i.IZ=u,i.prototype.Node=n,n.prototype.reduce=function(e,t,r,i,n,s){if(s=s||0,this.left){var o=this.left.length;t=this.left.reduce(e,t,r,i,n,s+1),r+=o}return t=e.call(i,t,this.value,r,n,this,s),r+=1,this.right&&(t=this.right.reduce(e,t,r,i,n,s+1)),t},n.prototype.reduceRight=function(e,t,r,i,n,s){return s=s||0,this.right&&(t=this.right.reduce(e,t,r,i,n,s+1),r-=this.right.length),t=e.call(i,t,this.value,this.value,n,this,s),r-=1,this.left&&(t=this.left.reduce(e,t,r,i,n,s+1)),t},n.prototype.dZ=function(){this.length=1+(this.left?this.left.length:0)+(this.right?this.right.length:0),this.index=this.left?this.left.length:0},n.prototype.SZ=function(){var e=1;if(e+=this.left?this.left.SZ():0,e+=this.right?this.right.SZ():0,this.length!==e)throw new Error("Integrity check failed: "+this.summary());return e},n.prototype.yZ=function(){var e=this;if(e.right){for(e=e.right;e.left;)e=e.left;return e}},n.prototype.lZ=function(){var e=this;if(e.left){for(e=e.left;e.right;)e=e.right;return e}},n.prototype.summary=function(){var e=this.value||"-";return e+=" <"+this.length,this.left||this.right?"("+e+" "+(this.left?this.left.summary():"()")+", "+(this.right?this.right.summary():"()")+")":"("+e+")"},n.prototype.log=function(e,t,r,i){var n,s=this;n=this.left&&this.right?e.WA:this.left?e.tU:this.right?e.rU:e.eU;var o;this.left&&this.left.log(e,t,function(t){o?i(e.oU+" "+t):(o=!0,i(e.iU+e.eU+t))},function(e){i("  "+e)});var a;t(this,function(t){a?r((s.right?e.oU:" ")+t):(a=!0,r(n+t))},function(t){i((s.left?e.oU:" ")+t)});var h;this.right&&this.right.log(e,t,function(t){h?r("  "+t):(h=!0,r(e.nU+e.eU+t))},function(t){r(e.oU+" "+t)})},s.prototype.Gk=null,Object.defineProperty(s.prototype,"_iterationObject",{get:function(){return this.Gk||(this.Gk={done:!1,value:null})}}),s.prototype.next=function(){var e;return e=this.Ok?this.set.TZ(this.Ok.value):this.set.gZ(),e?void 0!==this.end&&this.set.Ac(e.value,this.end)>=0?(this.Vk.done=!0,this.Vk.value=void 0):(this.Ok=e,this.Vk.value=e.value):(this.Vk.done=!0,this.Vk.value=void 0),this.Vk}},function(e,t,r){"use strict";var i=function(){function e(){this.rF=!1,this.aF=!1,this.hF=!1}return e}();t.eF=i},function(e,t,r){"use strict";function i(e,t,r,n){if(!(this instanceof i))return new i(e,t,r,n);Array.isArray(e)?(this.NT=e,e=e.splice(0,e.length)):this.NT=[],this.ls=t||Object.cs,this.Ac=r||Object.Oc,this.ds=n||Function.us,this.length=0,this.addEach(e)}function n(e,t,r){for(var i=0,n=e.length-1;i<=n;){var s=i+n>>1,o=r(t,e[s]);if(o>0)i=s+1;else{if(!(o<0))return s;n=s-1}}return-(i+1)}function s(e,t,r,i){var s=n(e,t,r);if(s<0)return-1;for(;s>0&&i(t,e[s-1]);)s--;return i(t,e[s])?s:-1}function o(e,t,r,i){var s=n(e,t,r);if(s<0)return-1;for(;s<e.length-1&&i(t,e[s+1]);)s++;return i(t,e[s])?s:-1}function a(e,t,r){var i=n(e,t,r);if(i<0)return-i-1;for(var s=e.length-1;i<s&&0===r(t,e[i+1]);)i++;return i}e.i=i;var h=(r(11),r(12)),c=r(13),u=r(38);i.RZ=i,Object.addEach(i.prototype,h.prototype),Object.addEach(i.prototype,c.prototype),Object.addEach(i.prototype,u.prototype),i.prototype.mF=!0,i.prototype.Es=function(e){return new this.constructor(e,this.ls,this.Ac,this.ds)},i.prototype.has=function(e,t){if(t)throw new Error("SortedSet#has does not support second argument: equals");var r=n(this.NT,e,this.Ac);return r>=0&&this.ls(this.NT[r],e)},i.prototype.get=function(e,t){if(t)throw new Error("SortedArray#get does not support second argument: equals");var r=s(this.NT,e,this.Ac,this.ls);return-1!==r?this.NT[r]:this.ds(e)},i.prototype.add=function(e){var t=a(this.NT,e,this.Ac);return this.Mk&&this.QA([e],[],t),this.NT.splice(t,0,e),this.length++,this.Mk&&this.GA([e],[],t),!0},i.prototype.delete=function(e,t){if(t)throw new Error("SortedArray#delete does not support second argument: equals");var r=s(this.NT,e,this.Ac,this.ls);return-1!==r&&(this.Mk&&this.QA([],[e],r),this.NT.splice(r,1),this.length--,this.Mk&&this.GA([],[e],r),!0)},i.prototype.XA=function(e,t){if(t){var r=this.NT.XA(e,t);return this.length-=r,r}var i=s(this.NT,e,this.Ac,this.ls);if(-1!==i){for(var n=i;this.ls(e,this.NT[n]);)n++;var o=this.slice(i,n);return this.Mk&&this.QA([],o,i),this.NT.splice(i,o.length),this.length-=o.length,this.Mk&&this.GA([],o,i),o.length}return 0},i.prototype.indexOf=function(e){return s(this.NT,e,this.Ac,this.ls)},i.prototype.lastIndexOf=function(e){return o(this.NT,e,this.Ac,this.ls)},i.prototype.find=function(e,t,r){if(t)throw new Error("SortedArray#find does not support second argument: equals");if(r)throw new Error("SortedArray#find does not support third argument: index");return s(this.NT,e,this.Ac,this.ls)},i.prototype.Lk=function(e,t,r){if(t)throw new Error("SortedArray#findLast does not support second argument: equals");if(r)throw new Error("SortedArray#findLast does not support third argument: index");return o(this.NT,e,this.Ac,this.ls)},i.prototype.push=function(){this.addEach(arguments)},i.prototype.unshift=function(){this.addEach(arguments)},i.prototype.pop=function(){var e=this.NT.pop();return this.length=this.NT.length,e},i.prototype.shift=function(){var e=this.NT.shift();return this.length=this.NT.length,e},i.prototype.slice=function(){return this.NT.slice.apply(this.NT,arguments)},i.prototype.splice=function(e,t){return this.qk(e,t,Array.prototype.slice.call(arguments,2))},i.prototype.qk=function(e,t,r){if(void 0===e&&void 0===t)return[];e=e||0,e<0&&(e+=this.length),void 0===t&&(t=1/0);var i=this.slice(e,e+t);return this.Mk&&this.QA(r,i,e),this.NT.splice(e,t),this.length-=i.length,this.Mk&&this.GA([],i,e),this.addEach(r),i},i.prototype.reduce=function(e,t){var r=arguments[2];return this.NT.reduce(function(t,i,n){return e.call(r,t,i,n,this)},t,this)},i.prototype.reduceRight=function(){var e=arguments[2];return this.NT.reduceRight(function(t,r,i){return callback.call(e,t,r,i,this)},basis,this)},i.prototype.min=function(){if(this.length)return this.NT[0]},i.prototype.max=function(){if(this.length)return this.NT[this.length-1]},i.prototype.Bc=function(){return this.NT.Bc()},i.prototype.clear=function(){var e;this.Mk&&(e=this.NT.slice(),this.QA([],e,0)),this.length=0,this.NT.clear(),this.Mk&&this.GA([],e,0)},i.prototype.cs=function(e,t){return this.NT.cs(e,t)},i.prototype.Oc=function(e,t){return this.NT.Oc(e,t)},i.prototype.Hc=function(e,t){return new this.Iterator(this.NT,e,t)},i.prototype.toJSON=function(){return this.toArray()},i.prototype.Iterator=Array.prototype.Iterator},function(e,t,r){"use strict";var i=this&&this.hu||function(e,t){function r(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=r(84),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(n.Tx);t.oM=s},function(e,t,r){"use strict";var i=this&&this.hu||function(e,t){function r(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=r(85),s=r(4),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.bx=function(e,t){if(DOMParser){var r=(new DOMParser).parseFromString(t,"text/xml"),i=r.getElementsByTagName("Location"),n="";if(i&&i.length>0&&i[0].childNodes.length>0){var s=i[0].childNodes[0];n=this.Ix(s.data)}else n=this.Ix(e);this.manifest=this.mx.parse(t,n)}},t.prototype.Ux=function(e){return e.substr(0,e.lastIndexOf("_cs"))},t.prototype.CM=function(e){return s.resolve(!1)},t}(n.$x);t.hM=o},function(e,t,r){/*!
 * The copyright in this software is being made available under the BSD License,
 * included below. This software may be subject to other third party and contributor
 * rights, including patent rights, and no such rights are granted under this license.
 *
 * Copyright (c) 2013, Dash Industry Forum.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without modification,
 * are permitted provided that the following conditions are met:
 *  * Redistributions of source code must retain the above copyright notice, this
 *  list of conditions and the following disclaimer.
 *  * Redistributions in binary form must reproduce the above copyright notice,
 *  this list of conditions and the following disclaimer in the documentation and/or
 *  other materials provided with the distribution.
 *  * Neither the name of Dash Industry Forum nor the names of its
 *  contributors may be used to endorse or promote products derived from this software
 *  without specific prior written permission.
 *
 *  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS AS IS AND ANY
 *  EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 *  WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
 *  IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 *  INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT
 *  NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
 *  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
 *  WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 *  ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 *  POSSIBILITY OF SUCH DAMAGE.
 */
var i=r(145),n=r(86);DashParser=function(){var e=/^([-])?P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/,t=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+-])([0-9]{2})([0-9]{2}))?/,r=/^[-+]?[0-9]+[.]?[0-9]*([eE][-+]?[0-9]+)?$/,s=[{type:"duration",test:function(t){for(var r=["minBufferTime","mediaPresentationDuration","minimumUpdatePeriod","timeShiftBufferDepth","maxSegmentDuration","maxSubsegmentDuration","suggestedPresentationDelay","start","starttime","duration"],i=r.length,n=0;n<i;n++)if(t.nodeName===r[n])return e.test(t.value);return!1},tq:function(t){var r=e.exec(t),i=31536e3*parseFloat(r[2]||0)+2592e3*parseFloat(r[4]||0)+86400*parseFloat(r[6]||0)+3600*parseFloat(r[8]||0)+60*parseFloat(r[10]||0)+parseFloat(r[12]||0);return void 0!==r[1]&&(i=-i),i}},{type:"datetime",test:function(e){return t.test(e.value)},tq:function(e){var r,i=t.exec(e);if(r=Date.UTC(parseInt(i[1],10),parseInt(i[2],10)-1,parseInt(i[3],10),parseInt(i[4],10),parseInt(i[5],10),i[6]&&parseInt(i[6],10)||0,i[7]&&1e3*parseFloat(i[7])||0),i[9]&&i[10]){var n=60*parseInt(i[9],10)+parseInt(i[10],10);r+=("+"===i[8]?-1:1)*n*60*1e3}return new Date(r)}},{type:"numeric",test:function(e){return r.test(e.value)},tq:function(e){return parseFloat(e)}}],o=function(){var e,t,r,i;return i=[{name:"profiles",Py:!1},{name:"width",Py:!1},{name:"height",Py:!1},{name:"sar",Py:!1},{name:"frameRate",Py:!1},{name:"audioSamplingRate",Py:!1},{name:"mimeType",Py:!1},{name:"segmentProfiles",Py:!1},{name:"codecs",Py:!1},{name:"maximumSAPPeriod",Py:!1},{name:"startsWithSap",Py:!1},{name:"maxPlayoutRate",Py:!1},{name:"codingDependency",Py:!1},{name:"scanType",Py:!1},{name:"FramePacking",Py:!0},{name:"AudioChannelConfiguration",Py:!0},{name:"ContentProtection",Py:!0}],e={},e.name="AdaptationSet",e.wZ=!1,e.isArray=!0,e.parent=null,e.children=[],e.properties=i,t={},t.name="Representation",t.wZ=!1,t.isArray=!0,t.parent=e,t.children=[],t.properties=i,e.children.push(t),r={},r.name="SubRepresentation",r.wZ=!1,r.isArray=!0,r.parent=t,r.children=[],r.properties=i,t.children.push(r),e},a=function(){var e,t,r,i;return i=[{name:"SegmentBase",Py:!0},{name:"SegmentTemplate",Py:!0},{name:"SegmentList",Py:!0}],e={},e.name="Period",e.wZ=!1,e.isArray=!0,e.parent=null,e.children=[],e.properties=i,t={},t.name="AdaptationSet",t.wZ=!1,t.isArray=!0,t.parent=e,t.children=[],t.properties=i,e.children.push(t),r={},r.name="Representation",r.wZ=!1,r.isArray=!0,r.parent=t,r.children=[],r.properties=i,t.children.push(r),e},h=function(){var e,t,r,i,n;return n=[{name:"BaseURL",Py:!0,bZ:function(e,t){return 0===t.indexOf("http://")?t:e+t}}],e={},e.name="mpd",e.wZ=!0,e.isArray=!0,e.parent=null,e.children=[],e.properties=n,t={},t.name="Period",t.wZ=!1,t.isArray=!0,t.parent=null,t.children=[],t.properties=n,e.children.push(t),r={},r.name="AdaptationSet",r.wZ=!1,r.isArray=!0,r.parent=t,r.children=[],r.properties=n,t.children.push(r),i={},i.name="Representation",i.wZ=!1,i.isArray=!0,i.parent=r,i.children=[],i.properties=n,r.children.push(i),e},c=function(){var e=[];return e.push(o()),e.push(a()),e.push(h()),e};return{parse:function(e,t){var r,o=new n(s,"",!0),a=new i(c());new Date;try{r=o.Wx(e),new Date,r.hasOwnProperty("BaseURL")?(r.BaseURL=r.CZ[0],0!==r.BaseURL.toString().indexOf("http")&&(r.BaseURL=t+r.BaseURL)):r.BaseURL=t,r.hasOwnProperty("Location")&&(r.Location=r.Location_asArray[0]),a._Z(r),new Date}catch(t){return console.log("parsing the manifest failed","parse",e),null}return r}}}},function(e,t,r){var n=function(e){var t;for(t=[],i=0,len=e.length;i<len;i+=1)e[i].wZ?t.push("root"):t.push(e[i].name);var r=function(e,t){var r;if(null!==e&&null!==t)for(r in e)e.hasOwnProperty(r)&&(t.hasOwnProperty(r)||(t[r]=e[r]))},n=function(e,t,i){var n,s,o,a,h;if(null!==e&&0!==e.length)for(n=0,s=e.length;n<s;n+=1)o=e[n],t.hasOwnProperty(o.name)&&(i.hasOwnProperty(o.name)?o.Py&&(a=t[o.name],h=i[o.name],"object"==typeof a&&"object"==typeof h?r(a,h):null!=o.bZ?i[o.name]=o.bZ(a,h):i[o.name]=a+h):i[o.name]=t[o.name])},s=function(e,t){var r,i,o,a,h,c,u,l=e;if(null!==l.children&&0!==l.children.length)for(r=0,i=l.children.length;r<i;r+=1)if(c=l.children[r],t.hasOwnProperty(c.name))if(c.isArray)for(h=t[c.name+"_asArray"],o=0,a=h.length;o<a;o+=1)u=h[o],n(l.properties,t,u),s(c,u);else u=t[c.name],n(l.properties,t,u),s(c,u)},o=function(r){var i,n,a,h,c,u,l;if(null===r)return r;if("object"!=typeof r)return r;for(i=0,n=t.length;i<n;i+=1)"root"===t[i]&&(c=e[i],u=r,s(c,u));for(h in r)if(r.hasOwnProperty(h)){if(-1!==(a=t.indexOf(h)))if(c=e[a],c.isArray)for(l=r[h+"_asArray"],i=0,n=l.length;i<n;i+=1)u=l[i],s(c,u);else u=r[h],s(c,u);o(r[h])}return r};return{_Z:o}};e.i=n},function(e,t,r){/*! codem-isoboxer v0.2.2 https://github.com/madebyhiro/codem-isoboxer/blob/master/LICENSE.txt */
"undefined"==typeof ISOBoxer&&(ISOBoxer={}),ISOBoxer.Qx=function(e){return new i(e).parse()},ISOBoxer.rc={},ISOBoxer.rc.PZ=function(e,t){var r=t||"utf-8";if("undefined"!=typeof TextDecoder)return new TextDecoder(r).decode(e);var i=[],n=0;if("utf-8"===r)for(;n<e.byteLength;){var s=e.getUint8(n++);s<128||(s<224?(s=(31&s)<<6,s|=63&e.getUint8(n++)):s<240?(s=(15&s)<<12,s|=(63&e.getUint8(n++))<<6,s|=63&e.getUint8(n++)):(s=(7&s)<<18,s|=(63&e.getUint8(n++))<<12,s|=(63&e.getUint8(n++))<<6,s|=63&e.getUint8(n++))),i.push(String.fromCharCode(s))}else for(;n<e.byteLength;)i.push(String.fromCharCode(e.getUint8(n++)));return i.join("")},t.Qx=ISOBoxer.Qx,t.rc=ISOBoxer.rc,ISOBoxer.AZ=function(e){this.offset=void 0===e?0:e};var i=function(e){this.OZ=new DataView(e),this.NZ=new ISOBoxer.AZ,this.DZ=[]};i.prototype.fetch=function(e){var t=this.kZ(e,!0);return t.length?t[0]:null},i.prototype.kZ=function(e,t){var r=[];return i.LZ.call(this,e,r,t),r},i.prototype.parse=function(){for(this.NZ.offset=0,this.DZ=[];this.NZ.offset<this.OZ.byteLength;){var e=n.parse(this);if(void 0===e.type)break;this.DZ.push(e)}return this},i.LZ=function(e,t,r){this.type&&this.type==e&&t.push(this);for(var n in this.DZ){if(t.length&&r)return;i.LZ.call(this.DZ[n],e,t,r)}};var n=function(){this.NZ=new ISOBoxer.AZ};n.parse=function(e){var t=new n;return t.MZ=e.NZ.offset,t.FZ=e.FZ?e.FZ:e,t.OZ=e.OZ,t.UZ=e,t.BZ(),e.NZ.offset=t.OZ.byteOffset+t.OZ.byteLength,t},n.prototype.HZ=function(e){var t=null;switch(e){case 8:t=this.OZ.getInt8(this.NZ.offset-this.OZ.byteOffset);break;case 16:t=this.OZ.getInt16(this.NZ.offset-this.OZ.byteOffset);break;case 32:t=this.OZ.getInt32(this.NZ.offset-this.OZ.byteOffset);break;case 64:var r=this.OZ.getInt32(this.NZ.offset-this.OZ.byteOffset),i=this.OZ.getInt32(this.NZ.offset-this.OZ.byteOffset+4);t=r*Math.pow(2,32)+i}return this.NZ.offset+=e>>3,t},n.prototype.xZ=function(e){var t=null;switch(e){case 8:t=this.OZ.getUint8(this.NZ.offset-this.OZ.byteOffset);break;case 16:t=this.OZ.getUint16(this.NZ.offset-this.OZ.byteOffset);break;case 24:var r=this.OZ.getUint16(this.NZ.offset-this.OZ.byteOffset),i=this.OZ.getUint8(this.NZ.offset-this.OZ.byteOffset+2);t=(r<<8)+i;break;case 32:t=this.OZ.getUint32(this.NZ.offset-this.OZ.byteOffset);break;case 64:var r=this.OZ.getUint32(this.NZ.offset-this.OZ.byteOffset),i=this.OZ.getUint32(this.NZ.offset-this.OZ.byteOffset+4);t=r*Math.pow(2,32)+i}return this.NZ.offset+=e>>3,t},n.prototype.qZ=function(e){for(var t="",r=0;r<e;r++){var i=this.xZ(8);t+=String.fromCharCode(i)}return t},n.prototype.GZ=function(){for(var e="";;){var t=this.xZ(8);if(0==t)break;e+=String.fromCharCode(t)}return e},n.prototype.VZ=function(e){return this.xZ(e/2)+this.xZ(e/2)/Math.pow(2,e/2)},n.prototype.BZ=function(){if(this.NZ.offset=this.MZ,this.MZ+8>this.OZ.buffer.byteLength)return void(this.FZ.jZ=!0);switch(this.size=this.xZ(32),this.type=this.qZ(4),1==this.size&&(this.QZ=this.xZ(64)),"uuid"==this.type&&(this.KZ=this.qZ(16)),this.size){case 0:this.OZ=new DataView(this.OZ.buffer,this.MZ,this.OZ.byteLength-this.NZ.offset);break;case 1:this.MZ+this.size>this.OZ.buffer.byteLength?(this.jZ=!0,this.FZ.jZ=!0):this.OZ=new DataView(this.OZ.buffer,this.MZ,this.QZ);break;default:this.MZ+this.size>this.OZ.buffer.byteLength?(this.jZ=!0,this.FZ.jZ=!0):this.OZ=new DataView(this.OZ.buffer,this.MZ,this.size)}!this.jZ&&this.YZ[this.type]&&this.YZ[this.type].call(this)},n.prototype.WZ=function(){this.version=this.xZ(8),this.zZ=this.xZ(24)},n.prototype.YZ={},["moov","trak","tref","mdia","minf","stbl","edts","dinf","mvex","moof","traf","mfra","udta","meco","strk","vttc"].forEach(function(e){n.prototype.YZ[e]=function(){for(this.DZ=[];this.NZ.offset-this.OZ.byteOffset<this.OZ.byteLength;)this.DZ.push(n.parse(this))}}),n.prototype.YZ.JZ=function(){this.WZ(),this.XZ=this.xZ(32),this.entries=[];for(var e=1;e<=this.XZ;e++){var t={};1==this.version?(t.ZZ=this.xZ(64),t.$Z=this.HZ(64)):(t.ZZ=this.xZ(32),t.$Z=this.HZ(32)),t.e$=this.HZ(16),t.t$=this.HZ(16),this.entries.push(t)}},n.prototype.YZ.r$=function(){this.WZ(),this.i$=this.GZ(),this.value=this.GZ(),this.timescale=this.xZ(32),this.n$=this.xZ(32),this.s$=this.xZ(32),this.id=this.xZ(32),this.o$=new DataView(this.OZ.buffer,this.NZ.offset,this.OZ.byteLength-(this.NZ.offset-this.MZ))},n.prototype.YZ.a$=n.prototype.YZ.Mb=function(){this.data=new DataView(this.OZ.buffer,this.NZ.offset,this.OZ.byteLength-(this.NZ.offset-this.MZ))},n.prototype.YZ.h$=n.prototype.YZ.c$=function(){for(this.u$=this.qZ(4),this.l$=this.xZ(32),this.p$=[];this.NZ.offset-this.OZ.byteOffset<this.OZ.byteLength;)this.p$.push(this.qZ(4))},n.prototype.YZ.d$=function(){this.WZ(),this.f$=this.xZ(32),this.g$=this.qZ(4),this.YR=[this.xZ(32),this.xZ(32),this.xZ(32)],this.name=this.GZ()},n.prototype.YZ.E$=function(){this.data=new DataView(this.OZ.buffer,this.NZ.offset,this.OZ.byteLength-(this.NZ.offset-this.MZ))},n.prototype.YZ.v$=function(){this.WZ(),1==this.version?(this.y$=this.xZ(64),this.T$=this.xZ(64),this.timescale=this.xZ(32),this.duration=this.xZ(64)):(this.y$=this.xZ(32),this.T$=this.xZ(32),this.timescale=this.xZ(32),this.duration=this.xZ(32));var e=this.xZ(16);this.pad=e>>15,this.language=String.fromCharCode(96+(e>>10&31),96+(e>>5&31),96+(31&e)),this.f$=this.xZ(16)},n.prototype.YZ.m$=function(){this.WZ(),this.I$=this.xZ(32)},n.prototype.YZ.S$=function(){this.WZ(),1==this.version?(this.y$=this.xZ(64),this.T$=this.xZ(64),this.timescale=this.xZ(32),this.duration=this.xZ(64)):(this.y$=this.xZ(32),this.T$=this.xZ(32),this.timescale=this.xZ(32),this.duration=this.xZ(32)),this.rate=this.VZ(32),this.volume=this.VZ(16),this.R$=this.xZ(16),this.w$=[this.xZ(32),this.xZ(32)],this.matrix=[];for(var e=0;e<9;e++)this.matrix.push(this.VZ(32));this.f$=[];for(var e=0;e<6;e++)this.f$.push(this.xZ(32));this.b$=this.xZ(32)},n.prototype.YZ.C$=function(){var e=new DataView(this.OZ.buffer,this.NZ.offset,this.OZ.byteLength-(this.NZ.offset-this.MZ));this._$=ISOBoxer.rc.PZ(e)},n.prototype.YZ.P$=function(){this.WZ(),this.A$=this.xZ(32),this.timescale=this.xZ(32),0==this.version?(this.O$=this.xZ(32),this.N$=this.xZ(32)):(this.O$=this.xZ(64),this.N$=this.xZ(64)),this.YR=this.xZ(16),this.D$=this.xZ(16),this.k$=[];for(var e=0;e<this.D$;e++){var t={},r=this.xZ(32);t.L$=r>>31&1,t.M$=2147483647&r,t.F$=this.xZ(32);var i=this.xZ(32);t.U$=i>>31&1,t.B$=i>>28&7,t.H$=268435455&i,this.k$.push(t)}},n.prototype.YZ.x$=function(){this.WZ(),this.q$=this.xZ(32),this.G$=[];for(var e=0;e<this.q$;e++){var t={};t.V$=this.xZ(32),t.j$=[];for(var r=0;r<t.V$;r++){var i={};i.level=this.xZ(8),i.Q$=this.xZ(24),t.j$.push(i)}this.G$.push(t)}},n.prototype.YZ.K$=function(){this.WZ(),1==this.version?this.Y$=this.xZ(64):this.Y$=this.xZ(32)},n.prototype.YZ.tfhd=function(){this.WZ(),this.W$=this.xZ(32),1&this.zZ&&(this.z$=this.xZ(64)),2&this.zZ&&(this.J$=this.xZ(32)),8&this.zZ&&(this.default_sample_duration=this.xZ(32)),16&this.zZ&&(this.X$=this.xZ(32)),32&this.zZ&&(this.Z$=this.xZ(32))},n.prototype.YZ.$$=function(){this.WZ(),1==this.version?(this.y$=this.xZ(64),this.T$=this.xZ(64),this.W$=this.xZ(32),this.R$=this.xZ(32),this.duration=this.xZ(64)):(this.y$=this.xZ(32),this.T$=this.xZ(32),this.W$=this.xZ(32),this.R$=this.xZ(32),this.duration=this.xZ(32)),this.w$=[this.xZ(32),this.xZ(32)],this.e0=this.xZ(16),this.t0=this.xZ(16),this.volume=this.VZ(16),this.r0=this.xZ(16),this.matrix=[];for(var e=0;e<9;e++)this.matrix.push(this.VZ(32));this.width=this.xZ(32),this.height=this.xZ(32)},n.prototype.YZ.trun=function(){this.WZ(),this.i0=this.xZ(32),1&this.zZ&&(this.n0=this.HZ(32)),4&this.zZ&&(this.s0=this.xZ(32)),this.Kx=[];for(var e=0;e<this.i0;e++){var t={};256&this.zZ&&(t.sample_duration=this.xZ(32)),512&this.zZ&&(t.o0=this.xZ(32)),1024&this.zZ&&(t.a0=this.xZ(32)),2048&this.zZ&&(0==this.version?t.h0=this.xZ(32):t.h0=this.HZ(32)),this.Kx.push(t)}},n.prototype.YZ.c0=function(){var e=new DataView(this.OZ.buffer,this.NZ.offset,this.OZ.byteLength-(this.NZ.offset-this.MZ));this.u0=ISOBoxer.rc.PZ(e)},n.prototype.YZ.l0=function(){var e=new DataView(this.OZ.buffer,this.NZ.offset,this.OZ.byteLength-(this.NZ.offset-this.MZ));this.config=ISOBoxer.rc.PZ(e)},n.prototype.YZ.p0=function(){}},function(e,t,r){"use strict";var i=function(){function e(){}return e}();t._x=i},function(e,t,r){"use strict";var i=r(4),n=r(0),s=r(1),o=r(2),a=function(){function e(e,t){this.name=e,this.iv=t}return e}(),h=function(){function e(e,t,r){this.loggerId="[DASH AES Manager] ",this.d0="AES-CBC",this.ll=!1,this.logger=n.Framework&&n.Framework.resolve(n.Framework.V.R)?n.Framework.resolve(n.Framework.V.R).log():console,this.f0=e,this.g0=t,this.logger.debug(this.loggerId+"Starting Dash AES Manager"),r&&(this.E0=r)}return e.prototype.init=function(){var e=this;try{this.v0();var t=i.defer();this.y0().then(function(){return t.resolve(!0)}).fail(function(r){s.ErrorMonitor.ve().logError("Error initializing key",e.loggerId,o.hs.Ur.Dr,r),t.resolve(!1)}),this.T0=t.Ss}catch(e){s.ErrorMonitor.ve().logError("Error initializing AES Manager",this.loggerId,o.hs.Ur.Nr,e)}},e.prototype.NM=function(){return this.T0?this.T0:i.resolve(!1)},e.prototype.y0=function(){var e=this;if(this.m0)return this.m0;var t=i.defer();return this.I0().then(function(r){window.crypto.subtle.importKey("raw",r,{name:e.d0},!1,["decrypt"]).then(function(e){t.resolve(e)},function(e){t.reject("error importing key: "+e.toString())})}).fail(function(e){return t.reject(e)}),this.m0=t.Ss,this.m0},e.prototype.v0=function(){for(var e=2,t=this.g0.length,r=[];e<t;e+=2)r.push(parseInt(this.g0.substr(e,2),16));this.iv=new Uint8Array(r)},e.prototype.decrypt=function(e){var t=this,r=i.defer(),n=new a(this.d0,this.iv);return this.m0.then(function(t){return window.crypto.subtle.decrypt(n,t,e).then(function(e){r.resolve(e)})}).catch(function(e){s.ErrorMonitor.ve().logError("Error decrypting arraybuffer",t.loggerId,o.hs.Ur.Lr,e),t.ll=!0,t.T0=i.resolve(!1),r.reject(e)}),r.Ss},e.prototype.I0=function(){var e=this,t=i.defer(),r=new XMLHttpRequest;return r.responseType="arraybuffer",r.open("GET",this.f0),this.E0&&r.setRequestHeader("Authorization",this.E0),r.onload=function(){if(200===r.status){var i=new Uint8Array(r.response);t.resolve(i)}else s.ErrorMonitor.ve().logError("Error downloading key",e.loggerId,o.hs.Ur.Mr,r.status),t.reject("error downloading key - status: "+r.status)},r.onerror=function(){s.ErrorMonitor.ve().logError("Error downloading key",e.logger,o.hs.Ur.Fr),t.reject("error downloading key")},r.send(),t.Ss},e.prototype.xx=function(){return this.ll},e}();t.qx=h},function(e,t,r){"use strict";var i=r(4),n=function(){function e(){}return e.prototype.init=function(){},e.prototype.NM=function(){return i.resolve(!1)},e.prototype.decrypt=function(e){return i.reject("unsupported")},e.prototype.xx=function(){return!1},e}();t.Gx=n},function(e,t,r){"use strict";var i=this&&this.hu||function(e,t){function r(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=r(85),s=r(61),o=r(57),a=r(4),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.bx=function(e,t){this.manifest=this.mx.parse(t,this.Ix(e))},t.prototype.Ux=function(e){var t=e.substr(0,e.lastIndexOf("="));return t=t.substr(0,t.lastIndexOf("="))},t.prototype.CM=function(e){var t=this,r=a.defer(),i=this.gM(e.eg());if(!i||i.next)return r.resolve(!1),r.Ss;var h=a.defer();if(this.OM)o.DASH.XL?this.OM.NM().then(function(r){r?t.OM.decrypt(e.jf).then(function(e){h.resolve(t.jx(e))}).fail(function(e){return h.reject(!0)}):h.reject(!1)}):h.reject(!1);else try{var c=this.jx(e.jf);h.resolve(c)}catch(e){this.logger.warn("error extracting duration",e),h.reject(!0)}return h.Ss.then(function(e){if(!isNaN(e)){var o=i.id+e;t.logger.debug("found next fragment: "+i.id+" -> "+o+" duration: "+e),t.Sx.forEach(function(t,r){if(t.type===i.type){var a=t.Nx.replace(n.$x.Hx,i.id+""),h=t.Nx.replace(n.$x.Hx,o+""),c=t.kx.get(a);if(!t.kx.has(h)&&c){c.duration=e;var u=new s.DF(o,t.bandwidth,e,h,h);u.type=c.type,c.next=u,t.kx.set(h,u),t.Mx.set(o,u)}}})}r.resolve(!1)}).fail(function(i){t.logger.debug("could not extract duration from "+e.eg()+" [reevaluate: "+i+"]"),r.resolve(i)}),r.Ss},t}(n.$x);t.cM=h},function(e,t,r){"use strict";var i=r(1),n=r(152),s=r(3),o=r(153),a=r(61),h=r(0),c=r(7),u=r(87),l=r(2),p=function(){function e(){this.loggerId="[HLS METADATA] ",this.Aq=new s,this.S0=null,this.logger=(h.Framework.resolve(h.Framework.V.R)||console).log()}return e.prototype.parse=function(e,t){try{var r=new n.R0;if(r.push(t),r.manifest.playlists)this.w0(e,r.manifest);else{var s=this.b0(e,r.manifest);if(s&&s.C0&&(this.live=!s.C0._0),this.live){var o=this.P0(r.manifest,t);return this.logger.debug("HLS manifest trimmed "+o.A0+" segments ("+o.A0+"s) - new segments:["+s.O0.map(function(e){return e.id+":"+e.duration})+"]"),o.N0}}return t}catch(r){return i.ErrorMonitor.ve().logError("Error parsing metadata",this.loggerId,l.hs.yi.Wr,{detailedError:r,url:e}),t}},e.prototype.qM=function(e,t){if(this.Oq.has(t)){return this.Oq.get(t).Mx.get(e)}return null},e.prototype.lM=function(){return this.Aq.values().map(function(e){return e.bitrate})},e.prototype.isLive=function(){return this.live},e.prototype.gM=function(e){return null==this.kx?null:this.kx.get(e)},e.prototype.vM=function(e){try{var t=this.kx.get(e);if(t){var r=t.bitrate;return this.Oq.get(r).Mx.get(t.id+1)}return null}catch(t){return i.ErrorMonitor.ve().logError("Error getting the next segment info",this.loggerId,l.hs.yi.Xr,{detailedError:t,url:e}),null}},e.prototype._q=function(e){return this.Aq.has(e)},e.prototype.Pq=function(){return this.D0},e.prototype.w0=function(e,t){var r=this;this.D0=e,this.k0=t,this.Aq=new s,this.kx=new s,this.Oq=new s,this.k0.playlists.forEach(function(t){var i=c.rc.$h(e,t.uri),n=t.attributes.BANDWIDTH,s=new o.L0(n,t.uri,i);r.Aq.set(i,s),r.Oq.set(n,s)})},e.prototype.b0=function(e,t){var r=this;try{var n=this.Aq.get(e);if(!n)return void i.ErrorMonitor.ve().logError("Playlist url does not match any playlist in the master file",this.loggerId,l.hs.yi.fi,{url:e});var s=null!=t.mediaSequence?t.mediaSequence:0,o=[],h=s-1,u=n.Mx.get(h),p=[];return t.Nq.forEach(function(t){var h=c.rc.$h(e,t.uri),l=Math.round(1e3*t.duration),d=n.bitrate;Number.isInteger(d)||(i.ErrorMonitor.ve().logError("Segment Bitrate is a Float",{bitrate:d}),d=Math.round(d));var f=new a.DF(s,d,l,t.uri,h);r.kx.has(h)||p.push(f),r.kx.set(h,f),n.Mx.set(s,f),o.push(f),u&&(u.next=f),u=f,s++}),this.S0=n,n.update(t.mediaSequence,t.discontinuitySequence,t._0,t.M0,o),{C0:n,O0:p}}catch(e){return i.ErrorMonitor.ve().logError("Error updating the playlist",this.loggerId,l.hs.yi.Ei,e),null}},e.prototype.P0=function(e,t){try{for(var r=t.split("\n"),n=Math.max(1,u.bq.vq),s=null,o=0,a=0,h=e.Nq.length-1;h>n-1&&(s=e.Nq[h],!(o>=u.bq.Eq));h--)a++,o+=s.duration;for(var c="",h=0;h<r.length&&(c=c+r[h]+"\n",r[h].trim()!==s.uri);h++);return this.logger.debug("HLS trimmed "+a+" segments for total duration: "+o),{N0:c,A0:a,F0:o}}catch(e){throw i.ErrorMonitor.ve().logError("Error trimming the playlist",this.loggerId,l.hs.yi.vi,e),new Error(e)}},e}();t.wq=p},function(e,t,r){var i=function(){var e={};e.MT={},e.MT.create=Object.create||function(e){function t(){}return t.prototype=e,new t},e.MT.U0=function(e,t,r){for(var i in e)hasOwnProp.call(e,i)&&t.call(r||this,i,e[i])},e.MT.Py=function(e,t){if(!t)return e;for(var r in t)hasOwnProp.call(t,r)&&(e[r]=t[r]);return e},e.MT.B0=function(t,r){var i,n,s;t=e.MT.cA(t);for(i in r)hasOwnProp.call(r,i)&&(n=t[i],s=r[i],e.MT.H0(n)&&e.MT.H0(s)?t[i]=e.MT.B0(n,s):t[i]=r[i]);return t},e.MT.cA=function(t){return e.MT.Py({},t)},e.MT.H0=function(e){return!!e&&"object"==typeof e&&"[object Object]"===e.toString()&&e.constructor===Object},e.MT.isArray=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},mergeOptions=function(t,r){var i,n,s;t=e.MT.cA(t);for(i in r)r.hasOwnProperty(i)&&(n=t[i],s=r[i],e.MT.H0(n)&&e.MT.H0(s)?t[i]=e.util.x0(n,s):t[i]=r[i]);return t},e.x0=mergeOptions;var t=function(){this.init=function(){var e={};this.on=function(t,r){e[t]||(e[t]=[]),e[t].push(r)},this.off=function(t,r){var i;return!!e[t]&&(i=e[t].indexOf(r),e[t].splice(i,1),i>-1)},this.q0=function(t){var r,i,n,s;if(r=e[t])for(s=Array.prototype.slice.call(arguments,1),n=r.length,i=0;i<n;++i)r[i].apply(this,s)},this.G0=function(){e={}}}};t.prototype.V0=function(e){this.on("data",function(t){e.push(t)})},e.j0=t;var r,i,n,s=function(){},o=function(){return new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))')}(),a=function(e){for(var t,r=e.split(o),i=r.length,n={};i--;)""!==r[i]&&(t=/([^=]*)=(.*)/.exec(r[i]).slice(1),t[0]=t[0].replace(/^\s+|\s+$/g,""),t[1]=t[1].replace(/^\s+|\s+$/g,""),t[1]=t[1].replace(/^['"](.*)['"]$/g,"$1"),n[t[0]]=t[1]);return n},t=e.j0;return r=function(){var e="";r.prototype.init.call(this),this.push=function(t){var r;for(e+=t,r=e.indexOf("\n");r>-1;r=e.indexOf("\n"))this.q0("data",e.substring(0,r)),e=e.substring(r+1)}},r.prototype=new t,i=function(){i.prototype.init.call(this)},i.prototype=new t,i.prototype.push=function(e){var t,r;if(e=e.replace(/^\s+|\s+$/g,""),0!==e.length){if("#"!==e[0])return void this.q0("data",{type:"uri",uri:e});if(0!==e.indexOf("#EXT"))return void this.q0("data",{type:"comment",text:e.slice(1)});if(e=e.replace("\r",""),t=/^#EXTM3U/.exec(e))return void this.q0("data",{type:"tag",Q0:"m3u"});if(t=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(e))return r={type:"tag",Q0:"inf"},t[1]&&(r.duration=parseFloat(t[1])),t[2]&&(r.title=t[2]),void this.q0("data",r);if(t=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(e))return r={type:"tag",Q0:"targetduration"},t[1]&&(r.duration=parseInt(t[1],10)),void this.q0("data",r);if(t=/^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(e))return r={type:"tag",Q0:"totalduration"},t[1]&&(r.duration=parseInt(t[1],10)),void this.q0("data",r);if(t=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(e))return r={type:"tag",Q0:"version"},t[1]&&(r.version=parseInt(t[1],10)),void this.q0("data",r);if(t=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))return r={type:"tag",Q0:"media-sequence"},t[1]&&(r.number=parseInt(t[1],10)),void this.q0("data",r);if(t=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))return r={type:"tag",Q0:"discontinuity-sequence"},t[1]&&(r.number=parseInt(t[1],10)),void this.q0("data",r);if(t=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(e))return r={type:"tag",Q0:"playlist-type"},t[1]&&(r.K0=t[1]),void this.q0("data",r);if(t=/^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(e))return r={type:"tag",Q0:"byterange"},t[1]&&(r.length=parseInt(t[1],10)),t[2]&&(r.offset=parseInt(t[2],10)),void this.q0("data",r);if(t=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(e))return r={type:"tag",Q0:"allow-cache"},t[1]&&(r.XD=!/NO/.test(t[1])),void this.q0("data",r);if(t=/^#EXT-X-STREAM-INF:?(.*)$/.exec(e))return r={type:"tag",Q0:"stream-inf"},t[1]&&(r.attributes=a(t[1]),r.attributes.Y0&&function(){var e=r.attributes.Y0.split("x"),t={};e[0]&&(t.width=parseInt(e[0],10)),e[1]&&(t.height=parseInt(e[1],10)),r.attributes.Y0=t}(),r.attributes.BANDWIDTH&&(r.attributes.BANDWIDTH=parseInt(r.attributes.BANDWIDTH,10)),r.attributes["W0"]&&(r.attributes["W0"]=parseInt(r.attributes["W0"],10))),void this.q0("data",r);if(t=/^#EXT-X-ENDLIST/.exec(e))return void this.q0("data",{type:"tag",Q0:"endlist"});if(t=/^#EXT-X-DISCONTINUITY/.exec(e))return void this.q0("data",{type:"tag",Q0:"discontinuity"});if(t=/^#EXT-X-KEY:?(.*)$/.exec(e))return r={type:"tag",Q0:"key"},t[1]&&(r.attributes=a(t[1]),r.attributes.IV&&("0x"===r.attributes.IV.substring(0,2)&&(r.attributes.IV=r.attributes.IV.substring(2)),r.attributes.IV=r.attributes.IV.match(/.{8}/g),r.attributes.IV[0]=parseInt(r.attributes.IV[0],16),r.attributes.IV[1]=parseInt(r.attributes.IV[1],16),r.attributes.IV[2]=parseInt(r.attributes.IV[2],16),r.attributes.IV[3]=parseInt(r.attributes.IV[3],16),r.attributes.IV=new Uint32Array(r.attributes.IV))),void this.q0("data",r);this.q0("data",{type:"tag",data:e.slice(4,e.length)})}},n=function(){var t,o=this,a=[],h={};n.prototype.init.call(this),this.z0=new r,this.J0=new i,this.z0.V0(this.J0),this.manifest={X0:!0},this.J0.on("data",function(r){({tag:function(){(({"allow-cache":function(){this.manifest.X0=r.XD,"allowed"in r||(this.q0("info",{message:"defaulting allowCache to YES"}),this.manifest.X0=!0)},byterange:function(){var e={};"length"in r&&(h.byterange=e,e.length=r.length,"offset"in r||(this.q0("info",{message:"defaulting offset to zero"}),r.offset=0)),"offset"in r&&(h.byterange=e,e.offset=r.offset)},endlist:function(){this.manifest._0=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.q0("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.q0("info",{message:"defaulting discontinuity sequence to zero"})),r.duration>=0&&(h.duration=r.duration),this.manifest.Nq=a},key:function(){return r.attributes?"NONE"===r.attributes.Z0?void(t=null):r.attributes.lR?(r.attributes.Z0||this.q0("warn",{message:"defaulting key method to AES-128"}),t={method:r.attributes.Z0||"AES-128",uri:r.attributes.lR},void(void 0!==r.attributes.IV&&(t.iv=r.attributes.IV))):void this.q0("warn",{message:"ignoring key declaration without URI"}):void this.q0("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function(){if(!isFinite(r.number))return void this.q0("warn",{message:"ignoring invalid media sequence: "+r.number});this.manifest.mediaSequence=r.number},"discontinuity-sequence":function(){if(!isFinite(r.number))return void this.q0("warn",{message:"ignoring invalid discontinuity sequence: "+r.number});this.manifest.discontinuitySequence=r.number},"playlist-type":function(){if(!/VOD|EVENT/.test(r.K0))return void this.q0("warn",{message:"ignoring unknown playlist type: "+r.C0});this.manifest.K0=r.K0},"stream-inf":function(){if(this.manifest.playlists=a,!r.attributes)return void this.q0("warn",{message:"ignoring empty stream-inf attributes"});h.attributes||(h.attributes={}),h.attributes=e.x0(h.attributes,r.attributes)},discontinuity:function(){h.discontinuity=!0},targetduration:function(){if(!isFinite(r.duration)||r.duration<0)return void this.q0("warn",{message:"ignoring invalid target duration: "+r.duration});this.manifest.M0=r.duration},totalduration:function(){if(!isFinite(r.duration)||r.duration<0)return void this.q0("warn",{message:"ignoring invalid total duration: "+r.duration});this.manifest.$0=r.duration}})[r.Q0]||s).call(o)},uri:function(){h.uri=r.uri,a.push(h),!this.manifest.M0||"duration"in h||(this.q0("warn",{message:"defaulting segment duration to the target duration"}),h.duration=this.manifest.M0),t&&(h.key=t),h={}},e1:function(){}})[r.type].call(o)})},n.prototype=new t,n.prototype.push=function(e){this.z0.push(e)},n.prototype.end=function(){this.z0.push("\n")},e.t1=r,e.i1=i,e.R0=n,e}();e.i=i},function(e,t,r){"use strict";var i=r(3),n=function(){function e(e,t,r){this.Mx=new i,this.bitrate=e,this.uri=t,this.yM=r}return e.prototype.update=function(e,t,r,i,n){this.mediaSequence=e,this.discontinuitySequence=t,this._0=r,this.M0=i,this.Nq=n,this.updated=!0},e}();t.L0=n},function(e,t,r){"use strict";var i=this&&this.hu||function(e,t){function r(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=r(84),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(n.Tx);t.Sq=s},function(e,t,r){"use strict";var i=r(15),n=r(0),s=r(5),o=r(4),a=r(6),h=r(2),c=r(1),u=a.he.vh,l=function(){function e(){this.loggerId="[CACHE] ",this.logger=n.Framework.resolve(n.Framework.V.R).log(),this.n1=n.Framework.resolve(i.qu.Tu),u&&s.hh.Ra.Ia&&(this.s1=n.Framework.resolve(i.qu.mu))}return e.prototype.init=function(e,t){try{this.n1.init(e,t),u&&s.hh.Ra.Ia&&this.s1.init(e,t)}catch(e){c.ErrorMonitor.ve().logError("Error initializing cache",this.loggerId,h.hs.ht.rt,e)}},e.prototype.put=function(e){var t=this,r=o.defer(),i=!1;try{!e.Wf.isLive()&&u&&s.hh.Ra.Ia?this.s1.put(e).then(function(e){i=e}).fail(function(e){t.logger.error(e)}).finally(function(){r.resolve(i)}):this.n1.put(e).then(function(e){i=e}).fail(function(e){t.logger.error(e)}).finally(function(){r.resolve(i)})}catch(e){c.ErrorMonitor.ve().logError("Error adding new fragment in cache",this.loggerId,h.hs.ht.it,e),r.resolve(i)}return r.Ss},e.prototype.get=function(e){var t=this,r=o.defer(),i=null;try{this.contains(e).then(function(n){n?t.n1.get(e).then(function(r){null==r&&u&&s.hh.Ra.Ia?t.s1.get(e).then(function(e){i=e}):i=r}).fail(function(e){t.logger.error(e)}).finally(function(){r.resolve(i)}):r.resolve(i)}).fail(function(e){t.logger.error(e)}).finally(function(){r.resolve(i)})}catch(e){c.ErrorMonitor.ve().logError("Error getting the fragment from cache",this.loggerId,h.hs.ht.nt,e),r.resolve(i)}return r.Ss},e.prototype.contains=function(e){var t=this,r=o.defer(),i=!1;try{this.n1.contains(e).then(function(r){!i&&u&&s.hh.Ra.Ia?t.s1.contains(e).then(function(e){i=e}):i=r}).fail(function(e){t.logger.error(e)}).finally(function(){r.resolve(i)})}catch(e){c.ErrorMonitor.ve().logError("Error checking if cache contains the fragment",this.loggerId,h.hs.ht.st,e),r.resolve(!1)}return r.Ss},e.prototype.ik=function(e){try{return!e&&u&&s.hh.Ra.Ia?this.s1.ik(e):this.n1.ik(e)}catch(e){return c.ErrorMonitor.ve().logError("Error getting the keys from cache",this.loggerId,h.hs.ht.ot,e),[]}},e.prototype.Vq=function(e){var t=this,r=o.defer(),i=[];try{!e&&u&&s.hh.Ra.Ia?this.s1.Vq(e).then(function(e){i=e}).fail(function(e){t.logger.error(e)}).finally(function(){r.resolve(i)}):this.n1.Vq(e).then(function(e){i=e}).fail(function(e){t.logger.error(e)}).finally(function(){r.resolve(i)})}catch(e){c.ErrorMonitor.ve().logError("Error getting the elements from cache ",this.loggerId,h.hs.ht.at,e),r.resolve(i)}return r.Ss},e.prototype.Qq=function(){this.n1.Qq()},e}();t.Ra=l},function(e,t,r){"use strict";var i=r(3),n=r(24),s=r(7),o=r(5),a=r(0),h=r(9),c=r(1),u=r(2),l=function(){function e(){this.loggerId="[FallbackRequester] ",this.o1=new i,this.Lh=new s.rc.Vh}return e.prototype.init=function(e){this.logger=a.Framework.resolve(a.Framework.V.R).log(e.sessionId),this.a1=e.ED},e.prototype.request=function(e){var t=this,r=a.Framework.resolve(a.Framework.V.H),i=!1,n=e.$f(),l=e.Kf,p=e.eg();e.xhr=r,e.qf.Ff=a.Framework.time(),this.logger.debug("FRL ISSUE REQ FOR FRAGMENT "+e.zf.toString()+"-"+e.qf.Af+" ["+h.vc[e.Xf()]+"] TO FALLBACK "),e.zf.O_()&&(r.responseType="arraybuffer"),this.h1(e.type)&&l.range&&e.Xf()!=h.vc.gc&&r.setRequestHeader("Range","bytes="+l.range),o.hh.K.Na&&this.c1(e.type)&&0!=e.qf.Af&&(this.logger.info("SET RANGE bytes="+e.qf.Af+"-"),r.setRequestHeader("Range","bytes="+e.qf.Af+"-")),l.lU.forEach(function(e){"range"!==e.key.toLowerCase()&&r.setRequestHeader(e.key,e.value)}),l.async&&l.timeout>0&&(r.timeout=l.timeout),l.mimeType&&r.overrideMimeType(l.mimeType),l.withCredentials&&(r.withCredentials=l.withCredentials),r.onloadstart=function(e){var t=s.rc.createEvent(Event,"loadstart",e,l);l.dispatchEvent(t)},r.onabort=function(e){if(!i){var t=s.rc.createEvent(Event,"abort",e,l);l.dispatchEvent(t)}},r.ontimeout=function(r){if(!i){t.error(e,n);var o=s.rc.createEvent(ProgressEvent,"timeout",r,l);l.dispatchEvent(o),c.ErrorMonitor.ve().logError("Error on fallback request because of timeout",t.loggerId,u.hs.Kn.Qn)}},r.onreadystatechange=function(e){if(l&&(r.readyState===XMLHttpRequest.HEADERS_RECEIVED&&(l.responseHeaders=r.getAllResponseHeaders()),r.readyState<XMLHttpRequest.DONE||r.readyState===XMLHttpRequest.DONE&&0===r.status)){l.readyState=r.readyState;var t=s.rc.createEvent(Event,"readystatechange",e,l);l.dispatchEvent(t)}},r.onprogress=function(i){if(!t.c1(e.type)){var n=s.rc.createEvent(ProgressEvent,"progress",i,l);l.dispatchEvent(n),r.total=i.total}e.qf.Df=i.total},r.onload=function(h){if(i=!0,l.status=r.status,h&&0!=h.total&&(e.qf.Df=h.total),e.responseHeaders=r.getAllResponseHeaders(),r.status<200||r.status>299)return t.logger.debug("FRL SERVER RETURNED ERROR CODE "+r.status),void t.error(e,n);e.zf.O_()?t.h1(e.type)?e.jf=r.response:t.c1(e.type)&&(o.hh.K.Na?e.jf=a.Framework.C()?null:s.rc.appendBuffer(e.jf,r.response):e.jf=r.response):e.RM=r.responseText,e.loaded(),t.o1.delete(n),e.qf.Uf=a.Framework.time(),t.u1(e),t.l1(e),t.a1.iZ(e),r=null},r.onerror=function(){i||t.error(e,n)},this.o1.set(n,e),r.open("GET",p,l.async,l.username,l.password),r.send()},e.prototype.error=function(e,t){var r="COULD NOT DOWNLOAD "+e.eg()+" status: "+e.xhr.status;e.type==n.bf.If?this.logger.debug(r):this.logger.warn(r),this.d1(e),this.o1.delete(t),this.a1.eZ(e)},e.prototype.Ys=function(e){return this.o1.has(e)},e.prototype.h1=function(e){return e==n.bf.If||e==n.bf.mf||e==n.bf.Tf},e.prototype.c1=function(e){return e==n.bf.Sf},e.prototype.qX=function(e){var t=this.o1.get(e);this.o1.delete(e),t&&t.xhr&&t.xhr.abort()},e.prototype.l1=function(e){this.logger.info("SUCCESS FROM FALLBACK FOR "+e.eg()+" ["+n.bf[e.type]+"]["+e.qf.Df+"] AFTER "+e.sg()+" [curr:"+e.ag().Gh()+" avg:"+this.Lh.Gh()+"]")},e.prototype.d1=function(e){},e.prototype.WX=function(){return this.Lh},e.prototype.u1=function(e){e.Xf()===h.vc.fc&&this.Lh.Uh(e.ag())},e}();t.RJ=l},function(e,t,r){"use strict";var i=r(4);r(60);var n=r(0),s=r(5),o=r(15),a=r(49),h=r(58),c=r(10),u=r(91),l=hive.services.protocol.IF.CustomerKey,p=r(8),d=r(14),f=r(6),g=r(1),E=r(2),v=f.he.Th,y=function(){function e(){this.f1=isNaN(d.HiveConfig.DebugLogs.TrackerLogs)?0:d.HiveConfig.DebugLogs.TrackerLogs,this.loggerId="[TRACKER] ",this.ZU=0,this.g1=0,this.E1=/([0-9]{1,3}(\.[0-9]{1,3}){3}|[a-f0-9]{1,4}(:[a-f0-9]{0,4}){5})/,this.v1=!0,this.Ng=n.Framework.resolve(n.Framework.V.F),this.ud=n.Framework.resolve(p.pc.sc),this.yX=n.Framework.resolve(o.qu.Mu)}return e.prototype.init=function(e){this.logger=n.Framework.resolve(n.Framework.V.R).log(e.sessionId),this.sessionId=e.sessionId,this.xJ=e.xJ,this.yD=e.yD,this.zM=e.zM,this.T1=e.mD,this.yX.m1(e.sessionId,this),this.I1=u.Xq.Jq},e.prototype.start=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.context=e,this.streamId=e.dJ.getContextId(),this.ticket=e.dJ.Sk(),this.vl=t},e.prototype.S1=function(e){this.R1=e},e.prototype.uX=function(){var e=this;this.nX(),this.w1=n.Framework.setInterval(function(){e.b1()},s.hh.zo.Yo),this.b1()},e.prototype.nX=function(){this.w1&&n.Framework.clearInterval(this.w1)},e.prototype.C1=function(){var e=this,t=i.defer(),r=new hive.services.protocol.IF.TrackerRequest,n=this.context.dJ,s=n.isLive()?StreamType.LIVE:StreamType.kK;r.sessionId=this.sessionId;var o=new l;return this.R1?(o.partnerId=this.R1.partnerId,o.customerId=this.R1.customerId):d.HiveConfig.ClientInfo.cu&&d.HiveConfig.ClientInfo.uu?(o.partnerId=d.HiveConfig.ClientInfo.cu,o.customerId=d.HiveConfig.ClientInfo.uu):(o.partnerId=this.ticket.up(),o.customerId=this.ticket.cp()),r.customerKey=o,r.streamType=s,r.contentId=this.yD.getContextId(),this.ud.getConnectivityInfo().then(function(t){e._1=t.getNetworkChanged().getPrivateIp(),e.yD.DH(e._1)}).fail(function(t){g.ErrorMonitor.ve().logError("Error getting connectivity info",e.loggerId,E.hs.Li._i)}).finally(function(){try{var i=new hive.snapshots.ConnectivityInfo;i.publicIp=e.IB,i.privateIp=e._1,r.info=e.P1(i,n),r.query=e.A1(n,r.info),t.resolve(r)}catch(r){g.ErrorMonitor.ve().logError("Error collecting the data for the tracker request",e.loggerId,E.hs.Li.Pi,r),t.reject("ERROR")}}).done(),t.Ss},e.prototype.O1=function(){var e=new Array;return this.I1==u.Xq.Jq?e.push(hive.services.protocol.IF.SF.RF):this.I1==u.Xq.AS?e.push(hive.services.protocol.IF.SF.bF):this.I1==u.Xq.nD?e.push(hive.services.protocol.IF.SF.wF):this.logger.warn("Wrong locality mode"),e},e.prototype.A1=function(e,t){var r=this,i=new hive.services.protocol.IF.TrackerQuery;try{return i.random=s.hh.Ja.Ka,t.externalAs&&!this.ZU&&(this.ZU=t.externalAs),t.internalAs&&!this.g1&&(this.g1=t.internalAs),i.rankings=this.O1(),i.asns=[],this.ZU>0&&this.N1(i.asns,hive.services.protocol.IF.CF.External,this.ZU,s.hh.Ja.Ya),this.g1>0&&(this.N1(i.asns,hive.services.protocol.IF.CF._F,this.g1,s.hh.Ja.Wa),i.watchers=[],e.lM().forEach(function(e){var t=r.D1(hive.services.protocol.IF.CF._F,r.g1,e,-1);i.watchers.push({key:t,value:1})}),i.streamers=[],this.yD.Uj().forEach(function(e,t){var n=r.D1(hive.services.protocol.IF.CF._F,r.g1,t,e.type==a.sD.nD?hive.services.protocol.IF.wc.Sc:-1);i.streamers.push({key:n,value:s.hh.Ja.za})})),i}catch(e){throw g.ErrorMonitor.ve().logError("Error preparing tracker query",this.loggerId,E.hs.Li.Ai,e),new Error(e)}},e.prototype.D1=function(e,t,r,i){var n=new hive.services.protocol.IF.TrackerBitrateQuery,s=new hive.services.protocol.IF.TrackerAsQuery;return s.asType=e,s.asn=t,n.bitrate=r,n.asn=s,-1!=i&&n.streamState,n},e.prototype.N1=function(e,t,r,i){var n=new hive.services.protocol.IF.TrackerAsQuery;n.asType=t,n.asn=r,e.push({key:n,value:i})},e.prototype.P1=function(e,t){var r=new hive.services.protocol.IF.TrackerPeerInfo;try{if(n.Framework.C()?r.guid=this.gd:r.guid=btoa(this.gd),r.timestamp=n.Framework.time(),r.nat=void 0,this.yD.Fj()&&(r.externalAs=this.yD.Fj()),this.yD.gk()&&(r.internalAs=this.yD.gk()),null!=e){r.publicIpString=e.publicIp;var i=new InetAddress;i.address=e.publicIp,r.publicIp=i,r.privateIpString=e.privateIp;var s=new InetAddress;s.address=e.privateIp,r.privateIp=s}if(!this.yD.ck()&&this.yD.yk()&&v?r.rankValue=1:r.rankValue=this.yD.L1(),this.context.dJ instanceof h.GM){r.streams=new Array;var o=t.PD();null!=o&&(r.watchingBitrate=o.bitrate);var c=t.JM();this.yD.Uj().forEach(function(e,t){if(e.b_){var i=new hive.services.protocol.IF.TrackerPeerStreamInfo;switch(i.bitrate=t,e.type){case a.sD.mc:i.state=hive.services.protocol.IF.wc.Ic;break;case a.sD.iD:i.state=hive.services.protocol.IF.wc.Rc;break;case a.sD.nD:i.state=hive.services.protocol.IF.wc.Sc}i.delta=c.KD(e.b_.A_(),t),r.streams.push(i)}})}return r}catch(e){throw g.ErrorMonitor.ve().logError("Error preparing tracker info",this.loggerId,E.hs.Li.Ni,e),new Error(e)}},e.prototype.b1=function(){var e=this;this.logger.debug(this.loggerId+" PREPARE REQUEST"),this.C1().then(function(t){var r=e.loggerId+"SENDING TRACKER REQUEST [ privateIp:"+t.info.privateIpString+" rank:"+t.info.rankValue+"]";switch(e.f1){case 0:default:e.logger.debug(r);break;case 1:e.logger.debug(r+" "+JSON.stringify(t));break;case 2:e.logger.debug(r,t);break;case 3:e.logger.debug(r+" "+JSON.stringify(t),t)}e.yX.M1(t)},function(t){g.ErrorMonitor.ve().logError("Error preparing the tracker request",e.loggerId,E.hs.Li.Ci)}).catch(function(t){g.ErrorMonitor.ve().logError("Error sending tracker request",e.loggerId,E.hs.Li.Di,t)})},e.prototype.F1=function(e){this.I1=e},e.prototype.KX=function(e){var t=this;try{switch(this.f1){case 1:this.logger.debug(this.loggerId+this.context.dJ.Sk()+" Tracker Response: "+JSON.stringify(e));break;case 2:this.logger.debug(this.loggerId+this.context.dJ.Sk()+" Tracker Response: ",e);break;case 3:this.logger.debug(this.loggerId+this.context.dJ.Sk()+" Tracker Response: "+JSON.stringify(e),e)}this.ZU=e.peerInfo.externalAs,this.g1=e.peerInfo.internalAs,this.IB=e.peerInfo.publicIpString,this._1=e.peerInfo.privateIpString,this.yD._H(this.IB),this.yD.U1(this.g1),this.yD.B1(this.ZU),this.ud.bH(this.IB,this._1,this.g1),this.logger.debug(this.loggerId+"Reporting from tracker public IP:"+this.IB+" private IP: "+this._1+" ExtAs:"+this.ZU+" inAs:"+this.g1),!this.yD.ck()&&this.yD.yk()&&v?this.T1.MG(!1):this.T1.H1(e.rankings,e.infos);var r=this.q1(e);this.vl.forEach(function(e){return e.gG(r,t.v1)}),this.v1=!1}catch(e){g.ErrorMonitor.ve().logError("Error handling the response",this.loggerId,E.hs.Li.ki,e)}},e.prototype.q1=function(e){for(var t=[],r=0,i=e.infos;r<i.length;r++){var n=i[r],s=new c.bc(c.Tc.yc,n);t.push(s)}return t},e.prototype.KG=function(e){},e.prototype.Ud=function(e){this.gd=e,this.logger.info(this.loggerId+"CONNECTED "+this.gd),this.T1.G1(),this.uX()},e.prototype.ej=function(){},e}();t.bJ=y},function(e,t,r){"use strict";var i=r(3),n=r(0),s=r(7),o=r(1),a=r(2),h=function(){function e(e,t){this.id=e,this.size=t}return e}(),c=function(){function e(){this.loggerId="[ObjectIndex] ",this.V1=new i,this.j1=new i,this.logger=n.Framework.resolve(n.Framework.V.R).log()}return e.prototype.put=function(e,t){try{var r=e.fragmentId,i=e.size;e.bitrate;this.V1.has(r)||(this.V1.set(r,new h(r,i)),this.j1.set(r,new Array)),this.j1.get(r).push(t)}catch(e){throw o.ErrorMonitor.ve().logError("Error adding new have in object index",this.loggerId,a.hs.Xn.zn,e),new Error(e)}},e.prototype.contains=function(e){return this.j1.has(e)},e.prototype.fk=function(e){return this.j1.get(e)},e.prototype.Q1=function(e){return this.V1.get(e)},e.prototype.Gj=function(e){var t=this;try{this.j1.forEach(function(r,i){s.rc.Kh(r,e,!1),0===r.length&&(t.j1.delete(i),t.V1.delete(i))})}catch(e){o.ErrorMonitor.ve().logError("Error removing haves send from a specific peer",this.loggerId,a.hs.Xn.Jn,e)}},e.prototype.Kq=function(){var e=this;this.j1.forEach(function(t,r){e.logger.debug("OBJIDX FR "+r+" PS "+t.map(function(e){return e.wj.yg.otherGuid}).reduce(function(e,t){return e+","+t}))})},e}();t.AJ=c},function(e,t,r){"use strict";var i=r(3),n=r(5),s=r(0),o=r(7),a=r(10),h=r(160),c=r(47),u=r(92),l=r(6),p=r(1),d=r(2),f=l.he.Th,g=function(){function e(){this.loggerId="[Membership] ",this.gd=null,this.K1=new i,this.kj=new i}return e.prototype.init=function(e){this.logger=s.Framework.resolve(s.Framework.V.R).log(e.sessionId),this.TD=e.TD,this.yD=e.yD,this.Y1=e.YM,(f||s.Framework.C()&&c.$N.XN)&&(this.QJ=e.QJ),this.start()},e.prototype.start=function(){this.W1=!0},e.prototype.stop=function(){this.W1=!1},e.prototype.gG=function(e,t){var r=this;try{if(this.W1){var i=[];e.forEach(function(e){var t=null;r.z1(),e.guid!=r.gd&&(e.type==a.Tc.yc?t=r.J1(e):f||s.Framework.C()&&c.$N.XN?(t=r.X1(e),r.QJ.aG(e).then(function(){r.TD.tj(r.kj.get(e.guid))}).fail(function(t){t&&t!=u.JG.EG&&(r.kj.delete(e.guid),p.ErrorMonitor.ve().logError("Error electing lan leader",r.loggerId,d.hs.yt.dt))})):t=r.X1(e)),t&&i.push(t.peerInfo.guid)}),this.SL(),t&&this.TD.hj(t),i.length>0&&this.logger.debug("DISCOVERED NEW "+i.length+"/"+e.length+": ["+i.join(", ")+"]")}}catch(e){p.ErrorMonitor.ve().logError("Error discovering peers",this.loggerId,d.hs.yt.pt,e)}},e.prototype.SL=function(){var e=this.K1.length+this.kj.length;this.Y1.Z1(e)},e.prototype.z1=function(){try{this.K1.length>=n.hh.Qa.Va&&this.e2(this.K1),this.kj.length>=n.hh.Qa.ja&&this.e2(this.kj)}catch(e){p.ErrorMonitor.ve().logError("Error clearing membership views",this.loggerId,d.hs.yt.ft,e)}},e.prototype.e2=function(e){var t=e.keys()[s.Framework.random()*this.K1.length];e.delete(t)},e.prototype.X1=function(e){var t=null;try{if(this.K1.has(e.guid)?(t=this.K1.get(e.guid),this.K1.delete(e.guid),this.kj.set(e.guid,t)):this.kj.has(e.guid)&&(t=this.kj.get(e.guid)),!t)return t=new h.t2(e),this.kj.set(e.guid,t),t;t.S1(e)}catch(e){return p.ErrorMonitor.ve().logError("Error adding peer to lan view",this.loggerId,d.hs.yt.gt,e),null}},e.prototype.J1=function(e){var t=null;try{if(this.kj.has(e.guid))this.X1(e);else{if(!this.K1.has(e.guid))return t=new h.t2(e),this.K1.set(e.guid,t),t;t=this.K1.get(e.guid),t.S1(e)}}catch(e){return p.ErrorMonitor.ve().logError("Error adding peer to random view",this.loggerId,d.hs.yt.Et,e),null}},e.prototype.cj=function(e,t){var r=[];try{return this.W1&&(f||s.Framework.C()&&c.$N.XN?r=o.rc.zh(this.K1.values()):(r=this.K1.values(),this.kj.forEach(function(e,t){r.push(e)}),r=o.rc.zh(r))),e?r:t?r.slice(0,t):r.slice(0,2*n.hh.No._o)}catch(e){return p.ErrorMonitor.ve().logError("Error sampling membership",this.loggerId,d.hs.yt.vt,e),[]}},e.prototype.Oj=function(e){return this.K1.has(e)?this.K1.get(e):this.kj.has(e)?this.kj.get(e):null},e.prototype.Ud=function(e){this.logger.info("MEMBERSHIP SERVER CONNECTED"),this.gd=e,this.yD.setId(this.gd)},e.prototype.ej=function(){},e.prototype.KG=function(e){this.logger.debug("Peer "+e+" disconnected"),this.K1.delete(e),this.kj.delete(e),this.SL()},e}();t.Qa=g},function(e,t,r){"use strict";var i=r(10),n=function(){function e(e){this.peerInfo=e}return e.prototype.Ij=function(){return this.peerInfo.type===i.Tc.W},e.prototype.S1=function(e){this.peerInfo.type==i.Tc.yc&&e.type==i.Tc.W?this.peerInfo.type=i.Tc.W:this.peerInfo.type==i.Tc.yc&&e.type==i.Tc.yc||this.peerInfo.type==i.Tc.W&&e.type==i.Tc.W?this.i2(this.peerInfo,e):this.peerInfo.type==i.Tc.W&&e.type==i.Tc.yc&&(this.i2(this.peerInfo,e),this.peerInfo.type=i.Tc.W)},e.prototype.zj=function(e){this.peerInfo.watchingBitrate=e},e.prototype.i2=function(e,t){e.internalAs=this.n2(e.internalAs,t.internalAs),e.externalAs=this.n2(e.externalAs,t.externalAs),e.nat=this.n2(e.nat,t.nat),e.bandwidth=this.n2(e.bandwidth,t.bandwidth),e.watchingBitrate=this.n2(e.watchingBitrate,t.watchingBitrate),e.privateIpString=this.n2(e.privateIpString,t.privateIpString),e.publicIpString=this.n2(e.publicIpString,t.publicIpString),e.rankValue=this.n2(e.rankValue,t.rankValue),e.timestamp=this.n2(e.timestamp,t.timestamp),t.isLeader&&(e.isLeader=this.n2(e.isLeader,t.isLeader)),t.streams&&(e.streams=t.streams)},e.prototype.n2=function(e,t){return e?t&&e!=t&&(e=t):t&&(e=t),e},e}();t.t2=n},function(e,t,r){(function(e){var i,n,s;/**
 * @license ProtoBuf.js (c) 2013 Daniel Wirtz <dcode@dcode.io>
 * Released under the Apache License, Version 2.0
 * see: https://github.com/dcodeIO/ProtoBuf.js for details
 */
!function(o){"use strict";function a(e){var t={};return t.s2=e,t.q_=e.q_||null,t.VERSION="4.0.0-b3",t.o2={},t.o2.a2=0,t.o2.h2=1,t.o2.c2=2,t.o2.u2=3,t.o2.l2=4,t.o2.d2=5,t.f2=[t.o2.a2,t.o2.h2,t.o2.d2],t.g2={int32:{name:"int32",E2:t.o2.a2,defaultValue:0},uint32:{name:"uint32",E2:t.o2.a2,defaultValue:0},sint32:{name:"sint32",E2:t.o2.a2,defaultValue:0},int64:{name:"int64",E2:t.o2.a2,defaultValue:t.q_?t.q_.ZERO:void 0},uint64:{name:"uint64",E2:t.o2.a2,defaultValue:t.q_?t.q_.tV:void 0},sint64:{name:"sint64",E2:t.o2.a2,defaultValue:t.q_?t.q_.ZERO:void 0},bool:{name:"bool",E2:t.o2.a2,defaultValue:!1},double:{name:"double",E2:t.o2.h2,defaultValue:0},string:{name:"string",E2:t.o2.c2,defaultValue:""},bytes:{name:"bytes",E2:t.o2.c2,defaultValue:null},fixed32:{name:"fixed32",E2:t.o2.d2,defaultValue:0},sfixed32:{name:"sfixed32",E2:t.o2.d2,defaultValue:0},fixed64:{name:"fixed64",E2:t.o2.h2,defaultValue:t.q_?t.q_.tV:void 0},sfixed64:{name:"sfixed64",E2:t.o2.h2,defaultValue:t.q_?t.q_.ZERO:void 0},float:{name:"float",E2:t.o2.d2,defaultValue:0},enum:{name:"enum",E2:t.o2.a2,defaultValue:0},message:{name:"message",E2:t.o2.c2,defaultValue:null},group:{name:"group",E2:t.o2.u2,defaultValue:null}},t.v2=[t.g2.int32,t.g2.sint32,t.g2.sfixed32,t.g2.uint32,t.g2.fixed32,t.g2.int64,t.g2.sint64,t.g2.sfixed64,t.g2.uint64,t.g2.fixed64,t.g2.bool,t.g2.string,t.g2.bytes],t.T2=1,t.m2=536870911,t.I2=!1,t.S2=!0,t.R2=!0,t.bv=function(){Object.create||(Object.create=function(e){function t(){}if(arguments.length>1)throw Error("Object.create polyfill only accepts the first parameter.");return t.prototype=e,new t});var e={};e.w2=!1;try{e.w2="function"==typeof r(16).b2&&"function"==typeof r(64).resolve}catch(e){}return e.C2=function(){for(var e=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],t=null,r=0;r<e.length;r++){try{t=e[r]()}catch(e){continue}break}if(!t)throw Error("XMLHttpRequest is not supported");return t},e.fetch=function(t,i){if(i&&"function"!=typeof i&&(i=null),e.w2)if(i)r(16)._2(t,function(e,t){i(e?null:""+t)});else try{return r(16).b2(t)}catch(e){return null}else{var n=e.C2();if(n.open("GET",t,!!i),n.setRequestHeader("Accept","text/plain"),"function"==typeof n.overrideMimeType&&n.overrideMimeType("text/plain"),!i)return n.send(null),200==n.status||0==n.status&&"string"==typeof n.responseText?n.responseText:null;if(n.onreadystatechange=function(){4==n.readyState&&i(200==n.status||0==n.status&&"string"==typeof n.responseText?n.responseText:null)},4==n.readyState)return;n.send(null)}},e.isArray=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},e}(),t.Lang={OPEN:"{",P2:"}",A2:"[",O2:"]",N2:",",EQUAL:"=",D2:";",L2:",",M2:'"',F2:'"',U2:"'",B2:"'",H2:"(",q2:")",G2:"<",V2:">",j2:/[\s\{\}=;\[\],'"\(\)<>]/g,Q2:/^(?:required|optional|repeated|map)$/,tN:/^(?:double|float|int32|uint32|sint32|int64|uint64|sint64|fixed32|sfixed32|fixed64|sfixed64|bool|string|bytes)$/,zO:/^[a-zA-Z_][a-zA-Z_0-9]*$/,K2:/^[a-zA-Z][a-zA-Z_0-9]*$/,Y2:/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)+$/,W2:/^(?:\.[a-zA-Z][a-zA-Z_0-9]*)+$/,z2:/^-?(?:[1-9][0-9]*|0|0[xX][0-9a-fA-F]+|0[0-7]+|([0-9]*(\.[0-9]*)?([Ee][+-]?[0-9]+)?)|inf|nan)$/,J2:/^(?:[1-9][0-9]*|0)$/,X2:/^0[xX][0-9a-fA-F]+$/,Z2:/^0[0-7]+$/,e3:/^([0-9]*(\.[0-9]*)?([Ee][+-]?[0-9]+)?|inf|nan)$/,t3:/^(?:[1-9][0-9]*|0|0[xX][0-9a-fA-F]+|0[0-7]+)$/,r3:/^\-?(?:[1-9][0-9]*|0|0[xX][0-9a-fA-F]+|0[0-7]+)$/,i3:/\s/,STRING:/(?:"([^"\\]*(?:\\.[^"\\]*)*)")|(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,BOOL:/^(?:true|false)$/i},t.n3=function(e,t){var r={},i=function(e){this.source=""+e,this.index=0,this.line=1,this.stack=[],this.s3=!1,this.o3=t.F2},n=i.prototype;n.qZ=function(){t.STRING.lastIndex=this.index-1;var e;if(null!==(e=t.STRING.exec(this.source))){var r=void 0!==e[1]?e[1]:e[2];return this.index=t.STRING.lastIndex,this.stack.push(this.o3),r}throw Error("Unterminated string at line "+this.line+", index "+this.index)},n.next=function(){if(this.stack.length>0)return this.stack.shift();if(this.index>=this.source.length)return null;if(this.s3)return this.s3=!1,this.qZ();var e,r;do{for(e=!1;t.i3.test(r=this.source.charAt(this.index));)if(this.index++,"\n"===r&&this.line++,this.index===this.source.length)return null;if("/"===this.source.charAt(this.index))if("/"===this.source.charAt(++this.index)){for(;"\n"!==this.source.charAt(this.index);)if(++this.index==this.source.length)return null;this.index++,this.line++,e=!0}else{if("*"!==this.source.charAt(this.index))throw Error("Unterminated comment at line "+this.line+": /"+this.source.charAt(this.index));for(r="";r+(r=this.source.charAt(this.index))!=="*/";)if(this.index++,"\n"===r&&this.line++,this.index===this.source.length)return null;this.index++,e=!0}}while(e);if(this.index===this.source.length)return null;var i=this.index;if(t.j2.lastIndex=0,t.j2.test(this.source.charAt(i)))++i;else for(++i;i<this.source.length&&!t.j2.test(this.source.charAt(i));)i++;var n=this.source.substring(this.index,this.index=i);return n===t.M2?(this.s3=!0,this.o3=t.F2):n===t.U2&&(this.s3=!0,this.o3=t.B2),n},n.Hk=function(){if(0===this.stack.length){var e=this.next();if(null===e)return null;this.stack.push(e)}return this.stack[0]},n.toString=function(){return"Tokenizer("+this.index+"/"+this.source.length+" at line "+this.line+")"},r.a3=i;var s=function(e){this.h3=new i(e)},o=s.prototype;return o.parse=function(){for(var e,t={name:"[ROOT]",package:null,messages:[],c3:[],imports:[],options:{},services:[]},r=!0;e=this.h3.next();)switch(e){case"package":if(!r||null!==t.package)throw Error("Unexpected package at line "+this.h3.line);t.package=this.u3(e);break;case"import":if(!r)throw Error("Unexpected import at line "+this.h3.line);t.imports.push(this.l3(e));break;case"message":this.d3(t,null,e),r=!1;break;case"enum":this.f3(t,e),r=!1;break;case"option":this.g3(t,e);break;case"service":this.E3(t,e);break;case"extend":this.v3(t,e);break;case"syntax":t.y3=this.T3(t);break;default:throw Error("Unexpected token at line "+this.h3.line+": "+e)}return delete t.name,t},o.m3=function(e){var r=1;if("-"==e.charAt(0)&&(r=-1,e=e.substring(1)),t.J2.test(e))return r*parseInt(e,10);if(t.X2.test(e))return r*parseInt(e.substring(2),16);if(t.Z2.test(e))return r*parseInt(e.substring(1),8);if(t.e3.test(e))return"inf"===e?r*(1/0):"nan"===e?NaN:r*parseFloat(e);throw Error("Illegal number at line "+this.h3.line+": "+(r<0?"-":"")+e)},o.I3=function(){var e,r,i="";do{if(r=this.h3.next(),i+=this.h3.next(),(e=this.h3.next())!==r)throw Error("Illegal end of string at line "+this.h3.line+": "+e);e=this.h3.Hk()}while(e===t.M2||e===t.U2);return i},o.S3=function(e,r){var i=-1,n=1;if("-"==e.charAt(0)&&(n=-1,e=e.substring(1)),t.J2.test(e))i=parseInt(e);else if(t.X2.test(e))i=parseInt(e.substring(2),16);else{if(!t.Z2.test(e))throw Error("Illegal id at line "+this.h3.line+": "+(n<0?"-":"")+e);i=parseInt(e.substring(1),8)}if(i=n*i|0,!r&&i<0)throw Error("Illegal id at line "+this.h3.line+": "+(n<0?"-":"")+e);return i},o.u3=function(e){if(e=this.h3.next(),!t.Y2.test(e))throw Error("Illegal package name at line "+this.h3.line+": "+e);var r=e;if((e=this.h3.next())!=t.D2)throw Error("Illegal end of package at line "+this.h3.line+": "+e);return r},o.l3=function(e){if(e=this.h3.Hk(),"public"===e&&(this.h3.next(),e=this.h3.Hk()),e!==t.M2&&e!==t.U2)throw Error("Illegal start of import at line "+this.h3.line+": "+e);var r=this.I3();if((e=this.h3.next())!==t.D2)throw Error("Illegal end of import at line "+this.h3.line+": "+e);return r},o.g3=function(e,r){r=this.h3.next();var i=!1;if(r==t.H2&&(i=!0,r=this.h3.next()),!t.Y2.test(r)&&!/google\.protobuf\./.test(r))throw Error("Illegal option name in message "+e.name+" at line "+this.h3.line+": "+r);var n=r;if(r=this.h3.next(),i){if(r!==t.q2)throw Error("Illegal end in message "+e.name+", option "+n+" at line "+this.h3.line+": "+r);n="("+n+")",r=this.h3.next(),t.W2.test(r)&&(n+=r,r=this.h3.next())}if(r!==t.EQUAL)throw Error("Illegal operator in message "+e.name+", option "+n+" at line "+this.h3.line+": "+r);var s;if((r=this.h3.Hk())===t.M2||r===t.U2)s=this.I3();else if(this.h3.next(),t.z2.test(r))s=this.m3(r,!0);else if(t.BOOL.test(r))s="true"===r;else{if(!t.Y2.test(r))throw Error("Illegal option value in message "+e.name+", option "+n+" at line "+this.h3.line+": "+r);s=r}if((r=this.h3.next())!==t.D2)throw Error("Illegal end of option in message "+e.name+", option "+n+" at line "+this.h3.line+": "+r);e.options[n]=s},o.R3=function(e,r){for(var i;;){if(null===(i=this.h3.next()))throw Error("Unexpected EOF in "+e.name+", "+r+" at line "+this.h3.line);if(i===t.D2)break}},o.E3=function(e,r){if(r=this.h3.next(),!t.zO.test(r))throw Error("Illegal service name at line "+this.h3.line+": "+r);var i=r,n={name:i,w3:{},options:{}};if((r=this.h3.next())!==t.OPEN)throw Error("Illegal start of service "+i+" at line "+this.h3.line+": "+r);do{if("option"===(r=this.h3.next()))this.g3(n,r);else if("rpc"===r)this.b3(n,r);else if(r!==t.P2)throw Error("Illegal type of service "+i+" at line "+this.h3.line+": "+r)}while(r!==t.P2);e.services.push(n)},o.b3=function(e,r){var i=r;if(r=this.h3.next(),!t.zO.test(r))throw Error("Illegal method name in service "+e.name+" at line "+this.h3.line+": "+r);var n=r,s={request:null,response:null,C3:!1,_3:!1,options:{}};if((r=this.h3.next())!==t.H2)throw Error("Illegal start of request type in service "+e.name+"#"+n+" at line "+this.h3.line+": "+r);if(r=this.h3.next(),"stream"===r.toLowerCase()&&(s.C3=!0,r=this.h3.next()),!t.Y2.test(r))throw Error("Illegal request type in service "+e.name+"#"+n+" at line "+this.h3.line+": "+r);if(s.request=r,(r=this.h3.next())!=t.q2)throw Error("Illegal end of request type in service "+e.name+"#"+n+" at line "+this.h3.line+": "+r);if(r=this.h3.next(),"returns"!==r.toLowerCase())throw Error("Illegal delimiter in service "+e.name+"#"+n+" at line "+this.h3.line+": "+r);if((r=this.h3.next())!=t.H2)throw Error("Illegal start of response type in service "+e.name+"#"+n+" at line "+this.h3.line+": "+r);if(r=this.h3.next(),"stream"===r.toLowerCase()&&(s._3=!0,r=this.h3.next()),s.response=r,(r=this.h3.next())!==t.q2)throw Error("Illegal end of response type in service "+e.name+"#"+n+" at line "+this.h3.line+": "+r);if((r=this.h3.next())===t.OPEN){do{if("option"===(r=this.h3.next()))this.g3(s,r);else if(r!==t.P2)throw Error("Illegal start of option inservice "+e.name+"#"+n+" at line "+this.h3.line+": "+r)}while(r!==t.P2);this.h3.Hk()===t.D2&&this.h3.next()}else if(r!==t.D2)throw Error("Illegal delimiter in service "+e.name+"#"+n+" at line "+this.h3.line+": "+r);void 0===e[i]&&(e[i]={}),e[i][n]=s},o.d3=function(e,r,i){var n={},s="group"===i;if(i=this.h3.next(),!t.zO.test(i))throw Error("Illegal "+(s?"group":"message")+" name"+(e?" in message "+e.name:"")+" at line "+this.h3.line+": "+i);if(n.name=i,s){if((i=this.h3.next())!==t.EQUAL)throw Error("Illegal id assignment after group "+n.name+" at line "+this.h3.line+": "+i);i=this.h3.next();try{r.id=this.S3(i)}catch(e){throw Error("Illegal field id value for group "+n.name+"#"+r.name+" at line "+this.h3.line+": "+i)}n.P3=!0}if(n.fields=[],n.c3=[],n.messages=[],n.options={},n.A3={},i=this.h3.next(),i===t.A2&&r&&(this.O3(n,r,i),i=this.h3.next()),i!==t.OPEN)throw Error("Illegal start of "+(s?"group":"message")+" "+n.name+" at line "+this.h3.line+": "+i);for(;;){if((i=this.h3.next())===t.P2){i=this.h3.Hk(),i===t.D2&&this.h3.next();break}if(t.Q2.test(i))this.N3(n,i);else if("oneof"===i)this.D3(n,i);else if("enum"===i)this.f3(n,i);else if("message"===i)this.d3(n,null,i);else if("option"===i)this.g3(n,i);else if("extensions"===i)n.extensions=this.L3(n,i);else if("extend"===i)this.v3(n,i);else{if(!t.Y2.test(i))throw Error("Illegal token in message "+n.name+" at line "+this.h3.line+": "+i);this.N3(n,"optional",i)}}return e.messages.push(n),n},o.N3=function(e,r,i){var n={},s=null;if(n.rule=r,n.options={},r=void 0!==i?i:this.h3.next(),"map"===n.rule){if(r!==t.G2)throw Error("Illegal token in message "+e.name+" at line "+this.h3.line+": "+r);if(r=this.h3.next(),!t.tN.test(r)&&!t.Y2.test(r))throw Error("Illegal token in message "+e.name+" at line "+this.h3.line+": "+r);if(n.keytype=r,(r=this.h3.next())!==t.L2)throw Error("Illegal token in message "+e.name+" at line "+this.h3.line+": "+r);if(r=this.h3.next(),!t.tN.test(r)&&!t.Y2.test(r))throw Error("Illegal token in message "+e.name+" at line "+this.h3.line+": "+r);if(n.type=r,(r=this.h3.next())!==t.V2)throw Error("Illegal token in message "+e.name+" at line "+this.h3.line+": "+r);if(r=this.h3.next(),!t.zO.test(r))throw Error("Illegal token in message "+e.name+" at line "+this.h3.line+": "+r);if(n.name=r,(r=this.h3.next())!==t.EQUAL)throw Error("Illegal token in field "+e.name+"#"+n.name+" at line "+this.line+": "+r);r=this.h3.next();try{n.id=this.S3(r)}catch(t){throw Error("Illegal field id in message "+e.name+"#"+n.name+" at line "+this.h3.line+": "+r)}if(r=this.h3.next(),r===t.A2&&(this.O3(e,n,r),r=this.h3.next()),r!==t.D2)throw Error("Illegal delimiter in message "+e.name+"#"+n.name+" at line "+this.h3.line+": "+r)}else if("group"===r){if(s=this.d3(e,n,r),!/^[A-Z]/.test(s.name))throw Error("Group names must start with a capital letter");n.type=s.name,n.name=s.name.toLowerCase(),r=this.h3.Hk(),r===t.D2&&this.h3.next()}else{if(!t.tN.test(r)&&!t.Y2.test(r))throw Error("Illegal field type in message "+e.name+" at line "+this.h3.line+": "+r);if(n.type=r,r=this.h3.next(),!t.zO.test(r))throw Error("Illegal field name in message "+e.name+" at line "+this.h3.line+": "+r);if(n.name=r,(r=this.h3.next())!==t.EQUAL)throw Error("Illegal token in field "+e.name+"#"+n.name+" at line "+this.h3.line+": "+r);r=this.h3.next();try{n.id=this.S3(r)}catch(t){throw Error("Illegal field id in message "+e.name+"#"+n.name+" at line "+this.h3.line+": "+r)}if(r=this.h3.next(),r===t.A2&&(this.O3(e,n,r),r=this.h3.next()),r!==t.D2)throw Error("Illegal delimiter in message "+e.name+"#"+n.name+" at line "+this.h3.line+": "+r)}return e.fields.push(n),n},o.D3=function(e,r){if(r=this.h3.next(),!t.zO.test(r))throw Error("Illegal oneof name in message "+e.name+" at line "+this.h3.line+": "+r);var i,n=r,s=[];if((r=this.h3.next())!==t.OPEN)throw Error("Illegal start of oneof "+n+" at line "+this.h3.line+": "+r);for(;this.h3.Hk()!==t.P2;)i=this.N3(e,"optional"),i.M3=n,s.push(i.id);this.h3.next(),e.A3[n]=s},o.O3=function(e,r,i){for(var n=!0;;){if((i=this.h3.next())===t.O2)break;if(i===t.N2){if(n)throw Error("Illegal start of options in message "+e.name+"#"+r.name+" at line "+this.h3.line+": "+i);i=this.h3.next()}this.F3(e,r,i),n=!1}},o.F3=function(e,r,i){var n=!1;if(i===t.H2&&(i=this.h3.next(),n=!0),!t.Y2.test(i))throw Error("Illegal field option in "+e.name+"#"+r.name+" at line "+this.h3.line+": "+i);var s=i;if(i=this.h3.next(),n){if(i!==t.q2)throw Error("Illegal delimiter in "+e.name+"#"+r.name+" at line "+this.h3.line+": "+i);s="("+s+")",i=this.h3.next(),t.W2.test(i)&&(s+=i,i=this.h3.next())}if(i!==t.EQUAL)throw Error("Illegal token in "+e.name+"#"+r.name+" at line "+this.h3.line+": "+i);var o;if((i=this.h3.Hk())===t.M2||i===t.U2)o=this.I3();else if(t.z2.test(i,!0))o=this.m3(this.h3.next(),!0);else if(t.BOOL.test(i))o="true"===this.h3.next().toLowerCase();else{if(!t.Y2.test(i))throw Error("Illegal value in message "+e.name+"#"+r.name+", option "+s+" at line "+this.h3.line+": "+i);o=this.h3.next()}r.options[s]=o},o.f3=function(e,r){var i={};if(r=this.h3.next(),!t.zO.test(r))throw Error("Illegal enum name in message "+e.name+" at line "+this.h3.line+": "+r);if(i.name=r,(r=this.h3.next())!==t.OPEN)throw Error("Illegal start of enum "+i.name+" at line "+this.h3.line+": "+r);for(i.values=[],i.options={};;){if((r=this.h3.next())===t.P2){r=this.h3.Hk(),r===t.D2&&this.h3.next();break}if("option"==r)this.g3(i,r);else{if(!t.zO.test(r))throw Error("Illegal name in enum "+i.name+" at line "+this.h3.line+": "+r);this.U3(i,r)}}e.c3.push(i)},o.U3=function(e,r){var i={};if(i.name=r,(r=this.h3.next())!==t.EQUAL)throw Error("Illegal token in enum "+e.name+" at line "+this.h3.line+": "+r);r=this.h3.next();try{i.id=this.S3(r,!0)}catch(t){throw Error("Illegal id in enum "+e.name+" at line "+this.h3.line+": "+r)}if(e.values.push(i),(r=this.h3.next())===t.A2){var n={options:{}};this.O3(e,n,r),r=this.h3.next()}if(r!==t.D2)throw Error("Illegal delimiter in enum "+e.name+" at line "+this.h3.line+": "+r)},o.L3=function(r,i){var n=[];if(i=this.h3.next(),"min"===i?n.push(e.T2):"max"===i?n.push(e.m2):n.push(this.m3(i)),"to"!==(i=this.h3.next()))throw Error("Illegal extensions delimiter in message "+r.name+" at line "+this.h3.line+": "+i);if(i=this.h3.next(),"min"===i?n.push(e.T2):"max"===i?n.push(e.m2):n.push(this.m3(i)),(i=this.h3.next())!==t.D2)throw Error("Illegal extensions delimiter in message "+r.name+" at line "+this.h3.line+": "+i);return n},o.v3=function(e,r){if(r=this.h3.next(),!t.Y2.test(r))throw Error("Illegal message name at line "+this.h3.line+": "+r);var i={};if(i.B3=r,i.fields=[],(r=this.h3.next())!==t.OPEN)throw Error("Illegal start of extend "+i.name+" at line "+this.h3.line+": "+r);for(;;){if((r=this.h3.next())===t.P2){r=this.h3.Hk(),r==t.D2&&this.h3.next();break}if(t.Q2.test(r))this.N3(i,r);else{if(!t.Y2.test(r))throw Error("Illegal token in extend "+i.name+" at line "+this.h3.line+": "+r);this.N3(i,"optional",r)}}return e.messages.push(i),i},o.T3=function(e){var r=this.h3.next();if(r!==t.EQUAL)throw Error("Illegal token at line "+this.h3.line+": "+r);if((r=this.h3.Hk())!==t.M2&&r!==t.U2)throw Error("Illegal token at line "+this.h3.line+": "+r);var i=this.I3();if((r=this.h3.next())!==t.D2)throw Error("Illegal token at line "+this.h3.line+": "+r);return i},o.toString=function(){return"Parser"},r.R0=s,r}(t,t.Lang),t.H3=function(t){function r(r){if("string"==typeof r&&(r=t.g2[r]),void 0===r.defaultValue)throw Error("default value for type "+r.name+" is not supported");return r==t.g2.bytes?new e(0):r.defaultValue}function i(e,r){if(e&&"number"==typeof e.low&&"number"==typeof e.high&&"boolean"==typeof e.FP&&e.low===e.low&&e.high===e.high)return new t.q_(e.low,e.high,void 0===r?e.FP:r);if("string"==typeof e)return t.q_.kE(e,r||!1,10);if("number"==typeof e)return t.q_.DE(e,r||!1);throw Error("not convertible to Long")}function n(e,r){var i=r.PP(),s=7&i,o=i>>>3;switch(s){case t.o2.a2:do{i=r.Z_()}while(128==(128&i));break;case t.o2.h2:r.offset+=8;break;case t.o2.c2:i=r.PP(),r.offset+=i;break;case t.o2.u2:n(o,r);break;case t.o2.l2:if(o===e)return!1;throw Error("Illegal GROUPEND after unknown group: "+o+" ("+e+" expected)");case t.o2.d2:r.offset+=4;break;default:throw Error("Illegal wire type in unknown group "+e+": "+s)}return!0}var s={},o=function(e,t,r){this.x3=e,this.parent=t,this.name=r,this.className},a=o.prototype;a.q3=function(){for(var e=this.name,t=this;;){if(null==(t=t.parent))break;e=t.name+"."+e}return e},a.toString=function(e){return(e?this.className+" ":"")+this.q3()},a.Xg=function(){throw Error(this.toString(!0)+" cannot be built directly")},s.G3=o;var h=function(e,t,r,i,n){o.call(this,e,t,r),this.className="Namespace",this.children=[],this.options=i||{},this.y3=n||"proto2"},c=h.prototype=Object.create(o.prototype);c.V3=function(e){if(null==(e=e||null))return this.children.slice();for(var t=[],r=0,i=this.children.length;r<i;++r)this.children[r]instanceof e&&t.push(this.children[r]);return t},c.j3=function(e){var t;if(t=this.Q3(e.name))if(t instanceof p.K3&&t.name!==t.Y3&&null===this.Q3(t.Y3))t.name=t.Y3;else{if(!(e instanceof p.K3&&e.name!==e.Y3&&null===this.Q3(e.Y3)))throw Error("Duplicate name in namespace "+this.toString(!0)+": "+e.name);e.name=e.Y3}this.children.push(e)},c.Q3=function(e){for(var t="number"==typeof e?"id":"name",r=0,i=this.children.length;r<i;++r)if(this.children[r][t]===e)return this.children[r];return null},c.resolve=function(e,t){var r="string"==typeof e?e.split("."):e,i=this,n=0;if(""===r[n]){for(;null!==i.parent;)i=i.parent;n++}var o;do{do{if(!(o=i.Q3(r[n]))||!(o instanceof s.G3)||t&&o instanceof s.Jd.K3){i=null;break}i=o,n++}while(n<r.length);if(null!=i)break;if(null!==this.parent)return this.parent.resolve(e,t)}while(null!=i);return i},c.W3=function(e){var t=[],r=e;do{t.unshift(r.name),r=r.parent}while(null!==r);for(var i=1;i<=t.length;i++){var n=t.slice(t.length-i);if(e===this.resolve(n,!(e instanceof s.Jd.K3)))return n.join(".")}return e.q3()},c.Xg=function(){for(var e,t={},r=this.children,i=0,n=r.length;i<n;++i)(e=r[i])instanceof h&&(t[e.name]=e.Xg());return Object.defineProperty&&Object.defineProperty(t,"$options",{value:this.z3()}),t},c.z3=function(){for(var e={},t=Object.keys(this.options),r=0,i=t.length;r<i;++r){var n=t[r],s=this.options[t[r]];e[n]=s}return e},c.J3=function(e){return void 0===e?this.options:void 0!==this.options[e]?this.options[e]:null},s.X3=h;var u=function(e,r,i,n){if(this.type=e,this.Z3=r,this.e4=i,this.y3=n,i&&t.v2.indexOf(e)<0)throw Error("Invalid map key type: "+e.name)},l=u.prototype;l.t4=r,l.r4=function(r){var n=function(e,t){throw Error("Illegal value for "+this.toString(!0)+" of type "+this.type.name+": "+e+" ("+t+")")}.bind(this);switch(this.type){case t.g2.int32:case t.g2.sint32:case t.g2.sfixed32:return("number"!=typeof r||r===r&&r%1!=0)&&n(typeof r,"not an integer"),r>4294967295?0|r:r;case t.g2.uint32:case t.g2.fixed32:return("number"!=typeof r||r===r&&r%1!=0)&&n(typeof r,"not an integer"),r<0?r>>>0:r;case t.g2.int64:case t.g2.sint64:case t.g2.sfixed64:if(t.q_)try{return i(r,!1)}catch(e){n(typeof r,e.message)}else n(typeof r,"requires Long.js");case t.g2.uint64:case t.g2.fixed64:if(t.q_)try{return i(r,!0)}catch(e){n(typeof r,e.message)}else n(typeof r,"requires Long.js");case t.g2.bool:return"boolean"!=typeof r&&n(typeof r,"not a boolean"),r;case t.g2.float:case t.g2.double:return"number"!=typeof r&&n(typeof r,"not a number"),r;case t.g2.string:return"string"==typeof r||r&&r instanceof String||n(typeof r,"not a string"),""+r;case t.g2.bytes:return e.V_(r)?r:e.wrap(r,"base64");case t.g2.enum:var s=this.Z3.V3(t.H3.n4.i4);for(a=0;a<s.length;a++){if(s[a].name==r)return s[a].id;if(s[a].id==r)return s[a].id}if("proto3"===this.y3)return("number"!=typeof r||r===r&&r%1!=0)&&n(typeof r,"not an integer"),(r>4294967295||r<0)&&n(typeof r,"not in range for uint32"),r;n(r,"not a valid enum value");case t.g2.group:case t.g2.message:if(r&&"object"==typeof r||n(typeof r,"object expected"),r instanceof this.Z3.s4)return r;if(r instanceof t.o4.Jd){var o={};for(var a in r)r.hasOwnProperty(a)&&(o[a]=r[a]);r=o}return new this.Z3.s4(r)}throw Error("[INTERNAL] Illegal value for "+this.toString(!0)+": "+r+" (undefined type "+this.type+")")},l.a4=function(r,i){if(null===i)return 0;var n;switch(this.type){case t.g2.int32:return i<0?e.DP(i):e.RP(i);case t.g2.uint32:return e.RP(i);case t.g2.sint32:return e.RP(e.wP(i));case t.g2.fixed32:case t.g2.sfixed32:case t.g2.float:return 4;case t.g2.int64:case t.g2.uint64:return e.DP(i);case t.g2.sint64:return e.DP(e.MP(i));case t.g2.fixed64:case t.g2.sfixed64:return 8;case t.g2.bool:return 1;case t.g2.enum:return e.RP(i);case t.g2.double:return 8;case t.g2.string:return n=e.tA(i),e.RP(n)+n;case t.g2.bytes:if(i.vA()<0)throw Error("Illegal value for "+this.toString(!0)+": "+i.vA()+" bytes remaining");return e.RP(i.vA())+i.vA();case t.g2.message:return n=this.Z3.h4(i),e.RP(n)+n;case t.g2.group:return(n=this.Z3.h4(i))+e.RP(r<<3|t.o2.l2)}throw Error("[INTERNAL] Illegal value to encode in "+this.toString(!0)+": "+i+" (unknown type)")},l.c4=function(r,i,n){if(null===i)return n;switch(this.type){case t.g2.int32:i<0?n.GP(i):n.CP(i);break;case t.g2.uint32:n.CP(i);break;case t.g2.sint32:n._P(i);break;case t.g2.fixed32:n.hP(i);break;case t.g2.sfixed32:n.oP(i);break;case t.g2.int64:case t.g2.uint64:n.GP(i);break;case t.g2.sint64:n.VP(i);break;case t.g2.fixed64:n.fP(i);break;case t.g2.sfixed64:n.uP(i);break;case t.g2.bool:"string"==typeof i?n.CP("false"===i.toLowerCase()?0:!!i):n.CP(i?1:0);break;case t.g2.enum:n.CP(i);break;case t.g2.float:n.EP(i);break;case t.g2.double:n.mP(i);break;case t.g2.string:n.sA(i);break;case t.g2.bytes:if(i.vA()<0)throw Error("Illegal value for "+this.toString(!0)+": "+i.vA()+" bytes remaining");var s=i.offset;n.CP(i.vA()),n.append(i),i.offset=s;break;case t.g2.message:var o=(new e).lA();this.Z3.encode(i,o),n.CP(o.offset),n.append(o.xg());break;case t.g2.group:this.Z3.encode(i,n),n.CP(r<<3|t.o2.l2);break;default:throw Error("[INTERNAL] Illegal value to encode in "+this.toString(!0)+": "+i+" (unknown type)")}return n},l.decode=function(e,r,i){if(r!=this.type.E2)throw Error("Unexpected wire type for element");var n,s;switch(this.type){case t.g2.int32:return 0|e.PP();case t.g2.uint32:return e.PP()>>>0;case t.g2.sint32:return 0|e.OP();case t.g2.fixed32:return e.cP()>>>0;case t.g2.sfixed32:return 0|e.aP();case t.g2.int64:return e.jP();case t.g2.uint64:return e.jP().BP();case t.g2.sint64:return e.QP();case t.g2.fixed64:return e.gP();case t.g2.sfixed64:return e.pP();case t.g2.bool:return!!e.PP();case t.g2.enum:return e.PP();case t.g2.float:return e.TP();case t.g2.double:return e.E_();case t.g2.string:return e.oA();case t.g2.bytes:if(s=e.PP(),e.vA()<s)throw Error("Illegal number of bytes for "+this.toString(!0)+": "+s+" required but got only "+e.vA());return n=e.clone(),n.F_=n.offset+s,e.offset+=s,n;case t.g2.message:return s=e.PP(),this.Z3.decode(e,s);case t.g2.group:return this.Z3.decode(e,-1,i)}throw Error("[INTERNAL] Illegal decode type")},l.u4=function(r){if(!this.e4)throw Error("valueFromString() called on non-map-key element");switch(this.type){case t.g2.int32:case t.g2.sint32:case t.g2.sfixed32:case t.g2.uint32:case t.g2.fixed32:return this.r4(parseInt(r));case t.g2.int64:case t.g2.sint64:case t.g2.sfixed64:case t.g2.uint64:case t.g2.fixed64:return this.r4(r);case t.g2.bool:return"true"===r;case t.g2.string:return this.r4(r);case t.g2.bytes:return e.K_(r)}},l.l4=function(e){if(!this.e4)throw Error("valueToString() called on non-map-key element");return this.type===t.g2.bytes?e.toString("binary"):e.toString()},s.Element=u;var p=function(e,r,i,n,s,o){h.call(this,e,r,i,n,o),this.className="Message",this.extensions=[t.T2,t.m2],this.s4=null,this.P3=!!s,this.d4=null,this.f4=null,this.g4=null},d=p.prototype=Object.create(h.prototype);d.Xg=function(r){if(this.s4&&!r)return this.s4;var i=function(t,r){function i(r,n,s,o,a){var h=void 0;if(null===r||"object"!=typeof r){if(o==t.g2.enum)for(var c=a.V3(t.H3.n4.i4),u=0;u<c.length;u++)if(c[u].id===r){r=c[u].name;break}h=r}else if(r instanceof e)h=n?r.mA():r.yA();else if(t.bv.isArray(r)){var l=r;h=[];for(var p=0;p<l.length;p++)h.push(i(l[p],n,s,o,a))}else if(r instanceof t.Map){var d=r.entries();h={};for(var f=d.next();!f.done;f=d.next())h[r.E4.l4(f.value[0])]=i(f.value[1],n,s,r.v4.type,r.v4.Z3)}else if(r instanceof t.q_)h=s?r.toString():new t.q_(r);else{h={};var g=r.y4,E=void 0;for(var u in r)if(r.hasOwnProperty(u)){var v=r[u];g&&(E=g.Q3(u)),h[u]=i(v,n,s,E.type,E.Z3)}}return h}var n=r.V3(t.H3.Jd.K3),s=r.V3(t.H3.Jd.T4),o=function(i,o){t.o4.Jd.call(this);for(var a=0,h=s.length;a<h;++a)this[s[a].name]=null;for(a=0,h=n.length;a<h;++a){var c=n[a];this[c.name]=c.repeated?[]:c.map?new t.Map(c):null,!c.required&&"proto3"!==r.y3||null===c.defaultValue||(this[c.name]=c.defaultValue)}if(arguments.length>0){var u;if(1!==arguments.length||"object"!=typeof i||"function"==typeof i.encode||t.bv.isArray(i)||i instanceof t.Map||i instanceof e||i instanceof ArrayBuffer||t.q_&&i instanceof t.q_)for(a=0,h=arguments.length;a<h;++a)void 0!==(u=arguments[a])&&this.m4(n[a].name,u);else this.m4(i)}},a=o.prototype=Object.create(t.o4.Jd.prototype);a.add=function(e,i,n){var s=r.g4[e];if(!n){if(!s)throw Error(this+"#"+e+" is undefined");if(!(s instanceof t.H3.Jd.K3))throw Error(this+"#"+e+" is not a field: "+s.toString(!0));if(!s.repeated)throw Error(this+"#"+e+" is not a repeated field")}null===this[s.name]&&(this[s.name]=[]),this[s.name].push(n?i:s.r4(i,!0))},a.I4=a.add,a.set=function(e,i,n){if(e&&"object"==typeof e){n=i;for(var s in e)e.hasOwnProperty(s)&&void 0!==(i=e[s])&&this.m4(s,i,n);return this}var o=r.g4[e];if(n)this[o.name]=i;else{if(!o)throw Error(this+"#"+e+" is not a field: undefined");if(!(o instanceof t.H3.Jd.K3))throw Error(this+"#"+e+" is not a field: "+o.toString(!0));this[o.name]=i=o.r4(i)}return o.M3&&(null!==i?(null!==this[o.M3.name]&&(this[this[o.M3.name]]=null),this[o.M3.name]=o.name):o.M3.name===e&&(this[o.M3.name]=null)),this},a.m4=a.set,a.get=function(e,i){if(i)return this[e];var n=r.g4[e];if(!(n&&n instanceof t.H3.Jd.K3))throw Error(this+"#"+e+" is not a field: undefined");if(!(n instanceof t.H3.Jd.K3))throw Error(this+"#"+e+" is not a field: "+n.toString(!0));return this[n.name]},a.S4=a.get;for(var h=0;h<n.length;h++){var c=n[h];c instanceof t.H3.Jd.R4||r.x3.options.S2&&function(e){var t=e.Y3.replace(/(_[a-zA-Z])/g,function(e){return e.toUpperCase().replace("_","")});t=t.substring(0,1).toUpperCase()+t.substring(1);var i=e.Y3.replace(/([A-Z])/g,function(e){return"_"+e}),n=function(t,r){return this[e.name]=r?t:e.r4(t),this},s=function(){return this[e.name]};null===r.Q3("set"+t)&&(a["set"+t]=n),null===r.Q3("set_"+i)&&(a["set_"+i]=n),null===r.Q3("get"+t)&&(a["get"+t]=s),null===r.Q3("get_"+i)&&(a["get_"+i]=s)}(c)}a.encode=function(t,i){"boolean"==typeof t&&(i=t,t=void 0);var n=!1;t||(t=new e,n=!0);var s=t.U_;try{return r.encode(this,t.lA(),i),(n?t.xg():t).lA(s)}catch(e){throw t.lA(s),e}},a.h4=function(){return r.h4(this)},a.w4=function(t){var i=!1;t||(t=new e,i=!0);var n=(new e).lA();return r.encode(this,n).xg(),t.CP(n.vA()),t.append(n),i?t.xg():t},a.b4=function(){try{return this.encode().tc()}catch(e){throw e.C4&&(e.C4=e.C4.tc()),e}},a.tc=a.b4,a._4=function(){try{return this.encode().yA()}catch(e){throw e.C4&&(e.C4=e.C4.yA()),e}},a.yA=a._4,a.P4=function(){try{return this.encode().mA()}catch(e){throw e.C4&&(e.C4=e.C4.mA()),e}},a.mA=a.P4,a.A4=function(){try{return this.encode().IA()}catch(e){throw e.C4&&(e.C4=e.C4.IA()),e}},a.IA=a.A4,a.O4=function(e,r){return i(this,!!e,!!r,t.g2.message,this.y4)},a.N4=function(){return JSON.stringify(i(this,!0,!0,t.g2.message,this.y4))},o.decode=function(t,i){"string"==typeof t&&(t=e.wrap(t,i||"base64")),t=t instanceof e?t:e.wrap(t);var n=t.U_;try{var s=r.decode(t.lA());return t.lA(n),s}catch(e){throw t.lA(n),e}},o.D4=function(t,i){if("string"==typeof t&&(t=e.wrap(t,i||"base64")),t=t instanceof e?t:e.wrap(t),t.vA()<1)return null;var n=t.offset,s=t.PP();if(t.vA()<s)return t.offset=n,null;try{var o=r.decode(t.slice(t.offset,t.offset+s).lA());return t.offset+=s,o}catch(e){throw t.offset+=s,e}},o.L4=function(e){return o.decode(e,"base64")},o.M4=function(e){return o.decode(e,"hex")},o.F4=function(e){return new o(JSON.parse(e))},a.toString=function(){return r.toString()};return Object.defineProperty&&(Object.defineProperty(o,"$options",{value:r.z3()}),Object.defineProperty(a,"$options",{value:o.U4}),Object.defineProperty(o,"$type",{value:r}),Object.defineProperty(a,"$type",{value:r})),o}(t,this);this.d4=[],this.f4={},this.g4={};for(var n,s=0,o=this.children.length;s<o;s++)if((n=this.children[s])instanceof y)i[n.name]=n.Xg();else if(n instanceof p)i[n.name]=n.Xg();else if(n instanceof p.K3)n.Xg(),this.d4.push(n),this.f4[n.id]=n,this.g4[n.name]=n;else if(!(n instanceof p.T4||n instanceof m))throw Error("Illegal reflect child of "+this.toString(!0)+": "+children[s].toString(!0));return this.s4=i},d.encode=function(e,t,r){for(var i,n,s=null,o=0,a=this.d4.length;o<a;++o)i=this.d4[o],n=e[i.name],i.required&&null===n?null===s&&(s=i):i.encode(r?n:i.r4(n),t);if(null!==s){var h=Error("Missing at least one required field for "+this.toString(!0)+": "+s);throw h.C4=t,h}return t},d.h4=function(e){for(var t,r,i=0,n=0,s=this.d4.length;n<s;++n){if(t=this.d4[n],r=e[t.name],t.required&&null===r)throw Error("Missing at least one required field for "+this.toString(!0)+": "+t);i+=t.h4(r)}return i},d.decode=function(e,r,i){r="number"==typeof r?r:-1;for(var s,o,a,h,c=e.offset,u=new this.s4;e.offset<c+r||-1===r&&e.vA()>0;){if(s=e.PP(),o=7&s,a=s>>>3,o===t.o2.l2){if(a!==i)throw Error("Illegal group end indicator for "+this.toString(!0)+": "+a+" ("+(i?i+" expected":"not a group")+")");break}if(h=this.f4[a])if(h.repeated&&!h.options.B4)u[h.name].push(h.decode(o,e));else if(h.map){var l=h.decode(o,e);u[h.name].set(l[0],l[1])}else u[h.name]=h.decode(o,e),h.M3&&(null!==this[h.M3.name]&&(this[this[h.M3.name]]=null),u[h.M3.name]=h.name);else switch(o){case t.o2.a2:e.PP();break;case t.o2.d2:e.offset+=4;break;case t.o2.h2:e.offset+=8;break;case t.o2.c2:var p=e.PP();e.offset+=p;break;case t.o2.u2:for(;n(a,e););break;default:throw Error("Illegal wire type for unknown field "+a+" in "+this.toString(!0)+"#decode: "+o)}}for(var d=0,f=this.d4.length;d<f;++d)if(h=this.d4[d],null===u[h.name]){if(h.required){var g=Error("Missing at least one required field for "+this.toString(!0)+": "+h.name);throw g.H4=u,g}t.R2&&null!==h.defaultValue&&(u[h.name]=h.defaultValue)}return u},s.Jd=p;var f=function(e,t,r,i,n,s,a,h,c,u){o.call(this,e,t,s),this.className="Message.Field",this.required="required"===r,this.repeated="repeated"===r,this.map="map"===r,this.x4=i||null,this.type=n,this.Z3=null,this.id=a,this.options=h||{},this.defaultValue=null,this.M3=c||null,this.y3=u||"proto2",this.Y3=this.name,this.q4=null,this.G4=null,!this.x3.options.I2||this instanceof p.R4||(this.name=f.V4(this.name))};f.V4=function(e){return e.replace(/_([a-zA-Z])/g,function(e,t){return t.toUpperCase()})};var g=f.prototype=Object.create(o.prototype);g.Xg=function(){this.q4=new u(this.type,this.Z3,!1,this.y3),this.map&&(this.G4=new u(this.x4,void 0,!0,this.y3)),this.defaultValue=void 0!==this.options.default?this.r4(this.options.default):null,"proto3"!==this.y3||this.repeated||this.map||(this.defaultValue=this.q4.t4(this.type))},g.r4=function(e,r){r=r||!1;var i=function(e,t){throw Error("Illegal value for "+this.toString(!0)+" of type "+this.type.name+": "+e+" ("+t+")")}.bind(this);if(null===e)return this.required&&i(typeof e,"required"),"proto3"===this.y3&&this.type!==t.g2.message&&i(typeof e,"proto3 field without field presence cannot be null"),null;var n;if(this.repeated&&!r){t.bv.isArray(e)||(e=[e]);var s=[];for(n=0;n<e.length;n++)s.push(this.q4.r4(e[n]));return s}return this.map&&!r?e instanceof t.Map?e:(e instanceof Object||i(typeof e,"expected ProtoBuf.Map or raw object for map field"),new t.Map(this,e)):(!this.repeated&&t.bv.isArray(e)&&i(typeof e,"no array expected"),this.q4.r4(e))},g.j4=function(e){if("proto3"!==this.y3)return null!==e;switch(this.type){case t.g2.int32:case t.g2.sint32:case t.g2.sfixed32:case t.g2.uint32:case t.g2.fixed32:return 0!==e;case t.g2.int64:case t.g2.sint64:case t.g2.sfixed64:case t.g2.uint64:case t.g2.fixed64:return 0!==e.low||0!==e.high;case t.g2.bool:return e;case t.g2.float:case t.g2.double:return 0!==e;case t.g2.string:return e.length>0;case t.g2.bytes:return e.vA()>0;case t.g2.enum:return 0!==e;case t.g2.message:return null!==e;default:return!0}},g.encode=function(r,i){if(null===this.type||"object"!=typeof this.type)throw Error("[INTERNAL] Unresolved type in "+this.toString(!0)+": "+this.type);if(null===r||this.repeated&&0==r.length)return i;try{if(this.repeated){var n;if(this.options.B4&&t.f2.indexOf(this.type.E2)>=0){i.CP(this.id<<3|t.o2.c2),i.uA(i.offset+=1);var s=i.offset;for(n=0;n<r.length;n++)this.q4.c4(this.id,r[n],i);var o=i.offset-s,a=e.RP(o);if(a>1){var h=i.slice(s,i.offset);s+=a-1,i.offset=s,i.append(h)}i.CP(o,s-a)}else for(n=0;n<r.length;n++)i.CP(this.id<<3|this.type.E2),this.q4.c4(this.id,r[n],i)}else this.map?r.forEach(function(r,n,s){var o=e.RP(8|this.x4.E2)+this.G4.a4(1,n)+e.RP(16|this.type.E2)+this.q4.a4(2,r);i.CP(this.id<<3|t.o2.c2),i.CP(o),i.CP(8|this.x4.E2),this.G4.c4(1,n,i),i.CP(16|this.type.E2),this.q4.c4(2,r,i)},this):this.j4(r)&&(i.CP(this.id<<3|this.type.E2),this.q4.c4(this.id,r,i))}catch(e){throw Error("Illegal value for "+this.toString(!0)+": "+r+" ("+e+")")}return i},g.h4=function(r){if(r=this.r4(r),null===this.type||"object"!=typeof this.type)throw Error("[INTERNAL] Unresolved type in "+this.toString(!0)+": "+this.type);if(null===r||this.repeated&&0==r.length)return 0;var i=0;try{if(this.repeated){var n,s;if(this.options.B4&&t.f2.indexOf(this.type.E2)>=0){for(i+=e.RP(this.id<<3|t.o2.c2),s=0,n=0;n<r.length;n++)s+=this.q4.a4(this.id,r[n]);i+=e.RP(s),i+=s}else for(n=0;n<r.length;n++)i+=e.RP(this.id<<3|this.type.E2),i+=this.q4.a4(this.id,r[n])}else this.map?r.forEach(function(r,n,s){var o=e.RP(8|this.x4.E2)+this.G4.a4(1,n)+e.RP(16|this.type.E2)+this.q4.a4(2,r);i+=e.RP(this.id<<3|t.o2.c2),i+=e.RP(o),i+=o},this):this.j4(r)&&(i+=e.RP(this.id<<3|this.type.E2),i+=this.q4.a4(this.id,r))}catch(e){throw Error("Illegal value for "+this.toString(!0)+": "+r+" ("+e+")")}return i},g.decode=function(e,r,i){var n,s;if(!(!this.map&&e==this.type.E2||!i&&this.repeated&&this.options.B4&&e==t.o2.c2||this.map&&e==t.o2.c2))throw Error("Illegal wire type for field "+this.toString(!0)+": "+e+" ("+this.type.E2+" expected)");if(e==t.o2.c2&&this.repeated&&this.options.B4&&t.f2.indexOf(this.type.E2)>=0&&!i){s=r.PP(),s=r.offset+s;for(var o=[];r.offset<s;)o.push(this.decode(this.type.E2,r,!0));return o}if(this.map){var a=this.G4.t4(this.x4);if(n=this.q4.t4(this.type),s=r.PP(),r.vA()<s)throw Error("Illegal number of bytes for "+this.toString(!0)+": "+s+" required but got only "+r.vA());var h=r.clone();for(h.F_=h.offset+s,r.offset+=s;h.vA()>0;){var c=h.PP();e=7&c;var u=c>>>3;if(1===u)a=this.G4.decode(h,e,u);else{if(2!==u)throw Error("Unexpected tag in map field key/value submessage");n=this.q4.decode(h,e,u)}}return[a,n]}return this.q4.decode(r,e,this.id)},s.Jd.K3=f;var E=function(e,t,r,i,n,s,o){f.call(this,e,t,r,null,i,n,s,o),this.Q4};E.prototype=Object.create(f.prototype),s.Jd.R4=E;var v=function(e,t,r){o.call(this,e,t,r),this.fields=[]};s.Jd.T4=v;var y=function(e,t,r,i,n){h.call(this,e,t,r,i,n),this.className="Enum",this.object=null};(y.prototype=Object.create(h.prototype)).Xg=function(){for(var e={},t=this.V3(y.i4),r=0,i=t.length;r<i;++r)e[t[r].name]=t[r].id;return Object.defineProperty&&Object.defineProperty(e,"$options",{value:this.z3()}),this.object=e},s.n4=y;var T=function(e,t,r,i){o.call(this,e,t,r),this.className="Enum.Value",this.id=i};T.prototype=Object.create(o.prototype),s.n4.i4=T;var m=function(e,t,r,i){o.call(this,e,t,r),this.K4=i};m.prototype=Object.create(o.prototype),s.Y4=m;var I=function(e,t,r,i){h.call(this,e,t,r,i),this.className="Service",this.s4=null};(I.prototype=Object.create(h.prototype)).Xg=function(r){return this.s4&&!r?this.s4:this.s4=function(t,r){for(var i=function(e){t.o4.W4.call(this),this.z4=e||function(e,t,r){setTimeout(r.bind(this,Error("Not implemented, see: https://github.com/dcodeIO/ProtoBuf.js/wiki/Services")),0)}},n=i.prototype=Object.create(t.o4.W4.prototype),s=r.V3(t.H3.W4.J4),o=0;o<s.length;o++)!function(t){n[t.name]=function(i,n){try{try{i=t.X4.s4.decode(e.wrap(i))}catch(e){if(!(e instanceof TypeError))throw e}if(!(i&&i instanceof t.X4.s4))return void setTimeout(n.bind(this,Error("Illegal request type provided to service method "+r.name+"#"+t.name)),0);this.z4(t.q3(),i,function(e,i){if(e)return void n(e);try{i=t.Z4.s4.decode(i)}catch(e){}if(!(i&&i instanceof t.Z4.s4))return void n(Error("Illegal response type received in service method "+r.name+"#"+t.name));n(null,i)})}catch(e){setTimeout(n.bind(this,e),0)}},i[t.name]=function(e,r,n){new i(e)[t.name](r,n)},Object.defineProperty&&(Object.defineProperty(i[t.name],"$options",{value:t.z3()}),Object.defineProperty(n[t.name],"$options",{value:i[t.name].U4}))}(s[o]);return Object.defineProperty&&(Object.defineProperty(i,"$options",{value:r.z3()}),Object.defineProperty(n,"$options",{value:i.U4}),Object.defineProperty(i,"$type",{value:r}),Object.defineProperty(n,"$type",{value:r})),i}(t,this)},s.W4=I;var S=function(e,t,r,i){o.call(this,e,t,r),this.className="Service.Method",this.options=i||{}};(S.prototype=Object.create(o.prototype)).z3=c.z3,s.W4.e6=S;var R=function(e,t,r,i,n,s,o,a){S.call(this,e,t,r,a),this.className="Service.RPCMethod",this.t6=i,this.r6=n,this.i6=s,this.n6=o,this.X4=null,this.Z4=null};return R.prototype=Object.create(S.prototype),s.W4.J4=R,s}(t),t.o4=function(e,t,i){function n(e,t){t.y3=e,t.messages&&t.messages.forEach(function(t){n(e,t)}),t.c3&&t.c3.forEach(function(t){n(e,t)})}var s=function(e){this.s6=new i.X3(this,null,""),this.o6=this.s6,this.a6=!1,this.result=null,this.files={},this.h6=null,this.options=e||{},this.y3="proto3"===this.options.y3?"proto3":"proto2"},o=s.prototype;return o.reset=function(){this.o6=this.s6},o.c6=function(e){if("string"!=typeof e||!t.Y2.test(e))throw Error("Illegal package: "+e);var r,n,s=e.split(".");for(r=0;r<s.length;r++)if(!t.zO.test(s[r]))throw Error("Illegal package: "+s[r]);for(r=0;r<s.length;r++)n=this.o6.Q3(s[r]),null===n&&this.o6.j3(n=new i.X3(this,this.o6,s[r])),this.o6=n;return this},s.u6=function(r){if("string"!=typeof r.name||!t.zO.test(r.name))return!1;if(void 0!==r.values||void 0!==r.w3)return!1;var i;if(void 0!==r.fields){if(!e.bv.isArray(r.fields))return!1;var n,o=[];for(i=0;i<r.fields.length;i++){if(!s.l6(r.fields[i]))return!1;if(n=parseInt(r.fields[i].id,10),o.indexOf(n)>=0)return!1;o.push(n)}o=null}if(void 0!==r.c3){if(!e.bv.isArray(r.c3))return!1;for(i=0;i<r.c3.length;i++)if(!s.p6(r.c3[i]))return!1}if(void 0!==r.messages){if(!e.bv.isArray(r.messages))return!1;for(i=0;i<r.messages.length;i++)if(!s.u6(r.messages[i])&&!s.d6(r.messages[i]))return!1}if(void 0!==r.extensions&&(!e.bv.isArray(r.extensions)||2!==r.extensions.length||"number"!=typeof r.extensions[0]||"number"!=typeof r.extensions[1]))return!1;if("proto3"===r.y3){for(i=0;i<r.fields.length;i++){var a=r.fields[i];if("required"===a.rule)return!1;if(a.default)return!1;if(a.options)for(var h=Object.keys(a.options),c=0;c<h.length;c++)if("default"===h[c])return!1}if(r.extensions)return!1}return!0},s.l6=function(e){if("string"!=typeof e.rule||"string"!=typeof e.name||"string"!=typeof e.type||void 0===e.id)return!1;if(!(t.Q2.test(e.rule)&&t.zO.test(e.name)&&t.Y2.test(e.type)&&t.t3.test(""+e.id)))return!1;if(void 0!==e.options){if("object"!=typeof e.options)return!1;for(var r,i=Object.keys(e.options),n=0;n<i.length;n++)if("string"!=typeof(r=i[n])||"string"!=typeof e.options[r]&&"number"!=typeof e.options[r]&&"boolean"!=typeof e.options[r])return!1}return!0},s.p6=function(r){if("string"!=typeof r.name||!t.zO.test(r.name))return!1;if(void 0===r.values||!e.bv.isArray(r.values)||0==r.values.length)return!1;for(var i=0;i<r.values.length;i++){if("object"!=typeof r.values[i])return!1;if("string"!=typeof r.values[i].name||void 0===r.values[i].id)return!1;if(!t.zO.test(r.values[i].name)||!t.r3.test(""+r.values[i].id))return!1}return"proto3"!==r.y3||0===r.values[0].id},o.create=function(t){if(!t)return this;if(e.bv.isArray(t)||(t=[t]),0===t.length)return this;var r=[];for(r.push(t);r.length>0;){if(t=r.pop(),!e.bv.isArray(t))throw Error("Not a valid namespace: "+JSON.stringify(t));for(;t.length>0;){var n=t.shift();if(s.u6(n)){var o=new i.Jd(this,this.o6,n.name,n.options,n.P3,n.y3),a={};if(n.A3)for(var h=Object.keys(n.A3),c=0,u=h.length;c<u;++c)o.j3(a[h[c]]=new i.Jd.T4(this,o,h[c]));if(n.fields&&n.fields.length>0)for(c=0,u=n.fields.length;c<u;++c){var l=n.fields[c];if(null!==o.Q3(l.id))throw Error("Duplicate field id in message "+o.name+": "+l.id);if(l.options)for(var p=Object.keys(l.options),d=0,f=p.length;d<f;++d){if("string"!=typeof p[d])throw Error("Illegal field option name in message "+o.name+"#"+l.name+": "+p[d]);if("string"!=typeof l.options[p[d]]&&"number"!=typeof l.options[p[d]]&&"boolean"!=typeof l.options[p[d]])throw Error("Illegal field option value in message "+o.name+"#"+l.name+"#"+p[d]+": "+l.options[p[d]])}var g=null;if("string"==typeof l.M3&&void 0===(g=a[l.M3]))throw Error("Illegal oneof in message "+o.name+"#"+l.name+": "+l.M3);l=new i.Jd.K3(this,o,l.rule,l.keytype,l.type,l.name,l.id,l.options,g,n.y3),g&&g.fields.push(l),o.j3(l)}var E=[];if(void 0!==n.c3&&n.c3.length>0)for(c=0;c<n.c3.length;c++)E.push(n.c3[c]);if(n.messages&&n.messages.length>0)for(c=0;c<n.messages.length;c++)E.push(n.messages[c]);if(n.extensions&&(o.extensions=n.extensions,o.extensions[0]<e.T2&&(o.extensions[0]=e.T2),o.extensions[1]>e.m2&&(o.extensions[1]=e.m2)),this.o6.j3(o),E.length>0){r.push(t),t=E,E=null,this.o6=o,o=null;continue}E=null,o=null}else if(s.p6(n)){for(o=new i.n4(this,this.o6,n.name,n.options,n.y3),c=0;c<n.values.length;c++)o.j3(new i.n4.i4(this,o,n.values[c].name,n.values[c].id));this.o6.j3(o),o=null}else if(s.f6(n)){o=new i.W4(this,this.o6,n.name,n.options);for(c in n.w3)n.w3.hasOwnProperty(c)&&o.j3(new i.W4.J4(this,o,c,n.w3[c].request,n.w3[c].response,n.w3[c].C3,n.w3[c]._3,n.w3[c].options));this.o6.j3(o),o=null}else{if(!s.d6(n))throw Error("Not a valid definition: "+JSON.stringify(n));if(o=this.o6.resolve(n.B3))for(c=0;c<n.fields.length;c++){if(null!==o.Q3(n.fields[c].id))throw Error("Duplicate extended field id in message "+o.name+": "+n.fields[c].id);if(n.fields[c].id<o.extensions[0]||n.fields[c].id>o.extensions[1])throw Error("Illegal extended field id in message "+o.name+": "+n.fields[c].id+" ("+o.extensions.join(" to ")+" expected)");var v=n.fields[c].name;this.options.I2&&(v=i.Jd.K3.V4(n.fields[c].name)),l=new i.Jd.R4(this,o,n.fields[c].rule,n.fields[c].type,this.o6.q3()+"."+v,n.fields[c].id,n.fields[c].options);var y=new i.Y4(this,this.o6,n.fields[c].name,l);l.Q4=y,this.o6.j3(y),o.j3(l)}else if(!/\.?google\.protobuf\./.test(n.B3))throw Error("Extended message "+n.B3+" is not defined")}n=null}t=null,this.o6=this.o6.parent}return this.a6=!1,this.result=null,this},o.g6=function(t,i){if("string"==typeof i){if(e.bv.w2&&(i=r(64).resolve(i)),!0===this.files[i])return this.reset(),this;this.files[i]=!0}else if("object"==typeof i){var s=i.root;e.bv.w2&&(s=r(64).resolve(s));var o=[s,i.E6].join("/");if(!0===this.files[o])return this.reset(),this;this.files[o]=!0}if(t.imports&&t.imports.length>0){var a,h="/",c=!1;"object"==typeof i?(this.h6=i.root,c=!0,a=this.h6,i=i.E6,(a.indexOf("\\")>=0||i.indexOf("\\")>=0)&&(h="\\")):"string"==typeof i?this.h6?a=this.h6:i.indexOf("/")>=0?""===(a=i.replace(/\/[^\/]*$/,""))&&(a="/"):i.indexOf("\\")>=0?(a=i.replace(/\\[^\\]*$/,""),h="\\"):a=".":a=null;for(var u=0;u<t.imports.length;u++)if("string"==typeof t.imports[u]){if(!a)throw Error("Cannot determine import root: File name is unknown");var l=t.imports[u];if(/^google\/protobuf\//.test(l))continue;if(l=a+h+l,!0===this.files[l])continue;/\.proto$/i.test(l)&&!e.n3&&(l=l.replace(/\.proto$/,".json"));var p=e.bv.fetch(l);if(null===p)throw Error("Failed to import '"+l+"' in '"+i+"': File not found");/\.json$/i.test(l)?this.g6(JSON.parse(p+""),l):this.g6(new e.n3.R0(p+"").parse(),l)}else i?/\.(\w+)$/.test(i)?this.g6(t.imports[u],i.replace(/^(.+)\.(\w+)$/,function(e,t,r){return t+"_import"+u+"."+r})):this.g6(t.imports[u],i+"_import"+u):this.g6(t.imports[u]);c&&(this.h6=null)}t.package&&this.c6(t.package),t.y3&&n(t.y3,t);var d=this.o6;return t.options&&Object.keys(t.options).forEach(function(e){d.options[e]=t.options[e]}),t.messages&&(this.create(t.messages),this.o6=d),t.c3&&(this.create(t.c3),this.o6=d),t.services&&(this.create(t.services),this.o6=d),t.v6&&this.create(t.v6),this.reset(),this},s.f6=function(e){return!("string"!=typeof e.name||!t.zO.test(e.name)||"object"!=typeof e.w3)},s.d6=function(r){if("string"!=typeof r.B3||!t.Y2.test(r.B3))return!1;var i;if(void 0!==r.fields){if(!e.bv.isArray(r.fields))return!1;var n,o=[];for(i=0;i<r.fields.length;i++){if(!s.l6(r.fields[i]))return!1;if(n=parseInt(r.id,10),o.indexOf(n)>=0)return!1;o.push(n)}o=null}return!0},o.y6=function(){var r;if(null!=this.o6&&"object"!=typeof this.o6.type){if(this.o6 instanceof i.X3)for(var n=this.o6.children,s=0,o=n.length;s<o;++s)this.o6=n[s],this.y6();else if(this.o6 instanceof i.Jd.K3){if(t.tN.test(this.o6.type))this.o6.type=e.g2[this.o6.type];else{if(!t.Y2.test(this.o6.type))throw Error("Illegal type reference in "+this.o6.toString(!0)+": "+this.o6.type);if(!(r=(this.o6 instanceof i.Jd.R4?this.o6.Q4.parent:this.o6.parent).resolve(this.o6.type,!0)))throw Error("Unresolvable type reference in "+this.o6.toString(!0)+": "+this.o6.type);if(this.o6.Z3=r,r instanceof i.n4){if(this.o6.type=e.g2.enum,"proto3"===this.o6.y3&&"proto3"!==r.y3)throw Error("Proto3 message refers to proto2 enum; this is not allowed due to differing enum semantics in proto3")}else{if(!(r instanceof i.Jd))throw Error("Illegal type reference in "+this.o6.toString(!0)+": "+this.o6.type);this.o6.type=r.P3?e.g2.group:e.g2.message}}if(this.o6.map){if(!t.tN.test(this.o6.x4))throw Error("Illegal key type for map field in "+this.o6.toString(!0)+": "+this.o6.type);this.o6.x4=e.g2[this.o6.x4]}}else if(this.o6 instanceof e.H3.n4.i4);else if(this.o6 instanceof e.H3.W4.e6){if(!(this.o6 instanceof e.H3.W4.J4))throw Error("Illegal service type in "+this.o6.toString(!0));if(!((r=this.o6.parent.resolve(this.o6.t6))&&r instanceof e.H3.Jd))throw Error("Illegal type reference in "+this.o6.toString(!0)+": "+this.o6.t6);if(this.o6.X4=r,!((r=this.o6.parent.resolve(this.o6.r6))&&r instanceof e.H3.Jd))throw Error("Illegal type reference in "+this.o6.toString(!0)+": "+this.o6.r6);this.o6.Z4=r}else if(!(this.o6 instanceof e.H3.Jd.T4||this.o6 instanceof e.H3.Y4))throw Error("Illegal object in namespace: "+typeof this.o6+":"+this.o6);this.reset()}},o.Xg=function(e){if(this.reset(),this.a6||(this.y6(),this.a6=!0,this.result=null),null===this.result&&(this.result=this.s6.Xg()),e){for(var t="string"==typeof e?e.split("."):e,r=this.result,i=0;i<t.length;i++){if(!r[t[i]]){r=null;break}r=r[t[i]]}return r}return this.result},o.T6=function(e){return e?this.s6.resolve(e):this.s6},o.toString=function(){return"Builder"},s.Jd=function(){},s.W4=function(){},s}(t,t.Lang,t.H3),t.Map=function(e){function t(e){var t=0;return{next:function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}}var r=function(t,r){if(!t.map)throw Error("field is not a map");if(this.K4=t,this.E4=new e.H3.Element(t.x4,null,!0,t.y3),this.v4=new e.H3.Element(t.type,t.Z3,!1,t.y3),this.map={},Object.defineProperty(this,"size",{get:function(){return Object.keys(this.map).length}}),r)for(var i=Object.keys(r),n=0;n<i.length;n++){var s=this.E4.u4(i[n]),o=this.v4.r4(r[i[n]]);this.map[this.E4.l4(s)]={key:s,value:o}}},i=r.prototype;return i.clear=function(){this.map={}},i.delete=function(e){var t=this.E4.l4(this.E4.r4(e)),r=t in this.map;return delete this.map[t],r},i.entries=function(){for(var e,r=[],i=Object.keys(this.map),n=0;n<i.length;n++)r.push([(e=this.map[i[n]]).key,e.value]);return t(r)},i.keys=function(){for(var e=[],r=Object.keys(this.map),i=0;i<r.length;i++)e.push(this.map[r[i]].key);return t(e)},i.values=function(){for(var e=[],r=Object.keys(this.map),i=0;i<r.length;i++)e.push(this.map[r[i]].value);return t(e)},i.forEach=function(e,t){for(var r,i=Object.keys(this.map),n=0;n<i.length;n++)e.call(t,(r=this.map[i[n]]).value,r.key,this)},i.set=function(e,t){var r=this.E4.r4(e),i=this.v4.r4(t);return this.map[this.E4.l4(r)]={key:r,value:i},this},i.get=function(e){var t=this.E4.l4(this.E4.r4(e));if(t in this.map)return this.map[t].value},i.has=function(e){return this.E4.l4(this.E4.r4(e))in this.map},r}(t),t.m6=function(e,r,i){return("string"==typeof r||r&&"string"==typeof r.E6&&"string"==typeof r.root)&&(i=r,r=void 0),t.Zg(new t.n3.R0(e).parse(),r,i)},t.I6=t.m6,t.S6=function(e,r,i){if(r&&"object"==typeof r?(i=r,r=null):r&&"function"==typeof r||(r=null),r)return t.bv.fetch("string"==typeof e?e:e.root+"/"+e.E6,function(n){if(null===n)return void r(Error("Failed to fetch file"));try{r(null,t.m6(n,i,e))}catch(e){r(e)}});var n=t.bv.fetch("object"==typeof e?e.root+"/"+e.E6:e);return null===n?null:t.m6(n,i,e)},t.R6=t.S6,t.w6=function(e){return e=e||{},void 0===e.I2&&(e.I2=t.I2),void 0===e.S2&&(e.S2=t.S2),new t.o4(e)},t.Zg=function(e,r,i){return("string"==typeof r||r&&"string"==typeof r.E6&&"string"==typeof r.root)&&(i=r,r=null),r&&"object"==typeof r||(r=t.w6()),"string"==typeof e&&(e=JSON.parse(e)),r.g6(e,i),r.y6(),r},t.b6=function(e,r,i){if(r&&"object"==typeof r?(i=r,r=null):r&&"function"==typeof r||(r=null),r)return t.bv.fetch("string"==typeof e?e:e.root+"/"+e.E6,function(n){if(null===n)return void r(Error("Failed to fetch file"));try{r(null,t.Zg(JSON.parse(n),i,e))}catch(e){r(e)}});var n=t.bv.fetch("object"==typeof e?e.root+"/"+e.E6:e);return null===n?null:t.Zg(JSON.parse(n),i,e)},t}"object"==typeof e&&e&&"object"==typeof t&&t?e.i=a(r(35)):(n=[r(162)],i=a,void 0!==(s="function"==typeof i?i.apply(t,n):i)&&(e.i=s))}()}).call(t,r(63)(e))},function(e,t,r){(function(e){var n,s;/**
 * @license ByteBuffer.js (c) 2013-2014 Daniel Wirtz <dcode@dcode.io>
 * This version of ByteBuffer.js uses an ArrayBuffer as its backing buffer which is accessed through a DataView and is
 * compatible with modern browsers.
 * Released under the Apache License, Version 2.0
 * see: https://github.com/dcodeIO/ByteBuffer.js for details
 */
!function(o){"use strict";function a(e){function t(e){var t=0;return function(){return t<e.length?e.charCodeAt(t++):null}}function r(){var e=[],t=[];return function(){if(0===arguments.length)return t.join("")+a.apply(String,e);e.length+arguments.length>1024&&(t.push(a.apply(String,e)),e.length=0),Array.prototype.push.apply(e,arguments)}}var n=function(e,t,r){if(void 0===e&&(e=n.D_),void 0===t&&(t=n.k_),void 0===r&&(r=n.L_),!r){if((e|=0)<0)throw RangeError("Illegal capacity");t=!!t,r=!!r}this.buffer=0===e?o:new ArrayBuffer(e),this.view=0===e?null:new DataView(this.buffer),this.offset=0,this.M_=-1,this.F_=e,this.U_=void 0!==t&&!!t,this.B_=!!r};n.VERSION="3.5.5",n.H_=!0,n.x_=!1,n.D_=16,n.k_=n.x_,n.L_=!1,n.q_=e||null;var s=n.prototype,o=new ArrayBuffer(0),a=String.fromCharCode;n.G_=function(e,t,r){return new n(e,t,r)},n.concat=function(e,t,r,i){"boolean"!=typeof t&&"string"==typeof t||(i=r,r=t,t=void 0);for(var s,o=0,a=0,h=e.length;a<h;++a)n.V_(e[a])||(e[a]=n.wrap(e[a],t)),(s=e[a].F_-e[a].offset)>0&&(o+=s);if(0===o)return new n(0,r,i);var c,u=new n(o,r,i),l=new Uint8Array(u.buffer);for(a=0;a<h;)c=e[a++],(s=c.F_-c.offset)<=0||(l.set(new Uint8Array(c.buffer).subarray(c.offset,c.F_),u.offset),u.offset+=s);return u.F_=u.offset,u.offset=0,u},n.V_=function(e){return!0===(e&&e instanceof n)},n.type=function(){return ArrayBuffer},n.wrap=function(e,t,r,o){if("string"!=typeof t&&(o=r,r=t,t=void 0),"string"==typeof e)switch(void 0===t&&(t="utf8"),t){case"base64":return n.j_(e,r);case"hex":return n.Q_(e,r);case"binary":return n.K_(e,r);case"utf8":return n.Y_(e,r);case"debug":return n.W_(e,r);default:throw Error("Unsupported encoding: "+t)}if(null===e||"object"!=typeof e)throw TypeError("Illegal buffer");var a;if(n.V_(e))return a=s.clone.call(e),a.M_=-1,a;if(e instanceof Uint8Array)a=new n(0,r,o),e.length>0&&(a.buffer=e.buffer,a.offset=e.byteOffset,a.F_=e.byteOffset+e.length,a.view=e.length>0?new DataView(e.buffer):null);else if(e instanceof ArrayBuffer)a=new n(0,r,o),e.byteLength>0&&(a.buffer=e,a.offset=0,a.F_=e.byteLength,a.view=e.byteLength>0?new DataView(e):null);else{if("[object Array]"!==Object.prototype.toString.call(e))throw TypeError("Illegal buffer");for(a=new n(e.length,r,o),a.F_=e.length,i=0;i<e.length;++i)a.view.setUint8(i,e[i])}return a},s.z_=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=1;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=1,this.view.setInt8(t,e),r&&(this.offset+=1),this},s.jC=s.z_,s.J_=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var r=this.view.getInt8(e);return t&&(this.offset+=1),r},s.d_=s.J_,s.X_=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=1;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=1,this.view.setUint8(t,e),r&&(this.offset+=1),this},s.Z_=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var r=this.view.getUint8(e);return t&&(this.offset+=1),r},s.eP=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=2;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=2,this.view.setInt16(t,e,this.U_),r&&(this.offset+=2),this},s.tP=s.eP,s.rP=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+2) <= "+this.buffer.byteLength)}var r=this.view.getInt16(e,this.U_);return t&&(this.offset+=2),r},s.iP=s.rP,s.nP=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=2;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=2,this.view.setUint16(t,e,this.U_),r&&(this.offset+=2),this},s.sP=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+2) <= "+this.buffer.byteLength)}var r=this.view.getUint16(e,this.U_);return t&&(this.offset+=2),r},s.oP=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=4;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=4,this.view.setInt32(t,e,this.U_),r&&(this.offset+=4),this},s.Bg=s.oP,s.aP=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}var r=this.view.getInt32(e,this.U_);return t&&(this.offset+=4),r},s.Qg=s.aP,s.hP=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=4;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=4,this.view.setUint32(t,e,this.U_),r&&(this.offset+=4),this},s.cP=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}var r=this.view.getUint32(e,this.U_);return t&&(this.offset+=4),r},e&&(s.uP=function(t,r){var i=void 0===r;if(i&&(r=this.offset),!this.B_){if("number"==typeof t)t=e.DE(t);else if("string"==typeof t)t=e.kE(t);else if(!(t&&t instanceof e))throw TypeError("Illegal value: "+t+" (not an integer or Long)");if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}"number"==typeof t?t=e.DE(t):"string"==typeof t&&(t=e.kE(t)),r+=8;var n=this.buffer.byteLength;return r>n&&this.resize((n*=2)>r?n:r),r-=8,this.U_?(this.view.setInt32(r,t.low,!0),this.view.setInt32(r+4,t.high,!0)):(this.view.setInt32(r,t.high,!1),this.view.setInt32(r+4,t.low,!1)),i&&(this.offset+=8),this},s.lP=s.uP,s.pP=function(t){var r=void 0===t;if(r&&(t=this.offset),!this.B_){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+8) <= "+this.buffer.byteLength)}var i=this.U_?new e(this.view.getInt32(t,!0),this.view.getInt32(t+4,!0),!1):new e(this.view.getInt32(t+4,!1),this.view.getInt32(t,!1),!1);return r&&(this.offset+=8),i},s.dP=s.pP,s.fP=function(t,r){var i=void 0===r;if(i&&(r=this.offset),!this.B_){if("number"==typeof t)t=e.DE(t);else if("string"==typeof t)t=e.kE(t);else if(!(t&&t instanceof e))throw TypeError("Illegal value: "+t+" (not an integer or Long)");if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}"number"==typeof t?t=e.DE(t):"string"==typeof t&&(t=e.kE(t)),r+=8;var n=this.buffer.byteLength;return r>n&&this.resize((n*=2)>r?n:r),r-=8,this.U_?(this.view.setInt32(r,t.low,!0),this.view.setInt32(r+4,t.high,!0)):(this.view.setInt32(r,t.high,!1),this.view.setInt32(r+4,t.low,!1)),i&&(this.offset+=8),this},s.gP=function(t){var r=void 0===t;if(r&&(t=this.offset),!this.B_){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+8) <= "+this.buffer.byteLength)}var i=this.U_?new e(this.view.getInt32(t,!0),this.view.getInt32(t+4,!0),!0):new e(this.view.getInt32(t+4,!1),this.view.getInt32(t,!1),!0);return r&&(this.offset+=8),i}),s.EP=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.B_){if("number"!=typeof e)throw TypeError("Illegal value: "+e+" (not a number)");if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=4;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=4,this.view.setFloat32(t,e,this.U_),r&&(this.offset+=4),this},s.vP=s.EP,s.yP=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}var r=this.view.getFloat32(e,this.U_);return t&&(this.offset+=4),r},s.TP=s.yP,s.mP=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.B_){if("number"!=typeof e)throw TypeError("Illegal value: "+e+" (not a number)");if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=8;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=8,this.view.setFloat64(t,e,this.U_),r&&(this.offset+=8),this},s.YC=s.mP,s.IP=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+8) <= "+this.buffer.byteLength)}var r=this.view.getFloat64(e,this.U_);return t&&(this.offset+=8),r},s.E_=s.IP,n.SP=5,n.RP=function(e){return e>>>=0,e<128?1:e<16384?2:e<1<<21?3:e<1<<28?4:5},n.wP=function(e){return((e|=0)<<1^e>>31)>>>0},n.bP=function(e){return e>>>1^-(1&e)|0},s.CP=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}var i,s=n.RP(e);t+=s;var o=this.buffer.byteLength;return t>o&&this.resize((o*=2)>t?o:t),t-=s,this.view.setUint8(t,i=128|e),e>>>=0,e>=128?(i=e>>7|128,this.view.setUint8(t+1,i),e>=16384?(i=e>>14|128,this.view.setUint8(t+2,i),e>=1<<21?(i=e>>21|128,this.view.setUint8(t+3,i),e>=1<<28?(this.view.setUint8(t+4,e>>28&15),s=5):(this.view.setUint8(t+3,127&i),s=4)):(this.view.setUint8(t+2,127&i),s=3)):(this.view.setUint8(t+1,127&i),s=2)):(this.view.setUint8(t,127&i),s=1),r?(this.offset+=s,this):s},s._P=function(e,t){return this.CP(n.wP(e),t)},s.PP=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var r,i,n=0,s=0;do{if(i=e+n,!this.B_&&i>this.F_){var o=Error("Truncated");throw o.AP=!0,o}r=this.view.getUint8(i),n<5&&(s|=(127&r)<<7*n>>>0),++n}while(128==(128&r));return s|=0,t?(this.offset+=n,s):{value:s,length:n}},s.OP=function(e){var t=this.PP(e);return"object"==typeof t?t.value=n.bP(t.value):t=n.bP(t),t},e&&(n.NP=10,n.DP=function(t){"number"==typeof t?t=e.DE(t):"string"==typeof t&&(t=e.kE(t));var r=t.kP()>>>0,i=t.LP(28).kP()>>>0,n=t.LP(56).kP()>>>0;return 0==n?0==i?r<16384?r<128?1:2:r<1<<21?3:4:i<16384?i<128?5:6:i<1<<21?7:8:n<128?9:10},n.MP=function(t){return"number"==typeof t?t=e.DE(t,!1):"string"==typeof t?t=e.kE(t,!1):!1!==t.FP&&(t=t.UP()),t.shiftLeft(1).pT(t.HP(63)).BP()},n.xP=function(t){return"number"==typeof t?t=e.DE(t,!1):"string"==typeof t?t=e.kE(t,!1):!1!==t.FP&&(t=t.UP()),t.LP(1).pT(t.qP(e.ONE).UP().qE()).UP()},s.GP=function(t,r){var i=void 0===r;if(i&&(r=this.offset),!this.B_){if("number"==typeof t)t=e.DE(t);else if("string"==typeof t)t=e.kE(t);else if(!(t&&t instanceof e))throw TypeError("Illegal value: "+t+" (not an integer or Long)");if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}"number"==typeof t?t=e.DE(t,!1):"string"==typeof t?t=e.kE(t,!1):!1!==t.FP&&(t=t.UP());var s=n.DP(t),o=t.kP()>>>0,a=t.LP(28).kP()>>>0,h=t.LP(56).kP()>>>0;r+=s;var c=this.buffer.byteLength;switch(r>c&&this.resize((c*=2)>r?c:r),r-=s,s){case 10:this.view.setUint8(r+9,h>>>7&1);case 9:this.view.setUint8(r+8,9!==s?128|h:127&h);case 8:this.view.setUint8(r+7,8!==s?a>>>21|128:a>>>21&127);case 7:this.view.setUint8(r+6,7!==s?a>>>14|128:a>>>14&127);case 6:this.view.setUint8(r+5,6!==s?a>>>7|128:a>>>7&127);case 5:this.view.setUint8(r+4,5!==s?128|a:127&a);case 4:this.view.setUint8(r+3,4!==s?o>>>21|128:o>>>21&127);case 3:this.view.setUint8(r+2,3!==s?o>>>14|128:o>>>14&127);case 2:this.view.setUint8(r+1,2!==s?o>>>7|128:o>>>7&127);case 1:this.view.setUint8(r,1!==s?128|o:127&o)}return i?(this.offset+=s,this):s},s.VP=function(e,t){return this.GP(n.MP(e),t)},s.jP=function(t){var r=void 0===t;if(r&&(t=this.offset),!this.B_){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var i=t,n=0,s=0,o=0,a=0;if(a=this.view.getUint8(t++),n=127&a,128&a&&(a=this.view.getUint8(t++),n|=(127&a)<<7,128&a&&(a=this.view.getUint8(t++),n|=(127&a)<<14,128&a&&(a=this.view.getUint8(t++),n|=(127&a)<<21,128&a&&(a=this.view.getUint8(t++),s=127&a,128&a&&(a=this.view.getUint8(t++),s|=(127&a)<<7,128&a&&(a=this.view.getUint8(t++),s|=(127&a)<<14,128&a&&(a=this.view.getUint8(t++),s|=(127&a)<<21,128&a&&(a=this.view.getUint8(t++),o=127&a,128&a&&(a=this.view.getUint8(t++),o|=(127&a)<<7,128&a))))))))))throw Error("Buffer overrun");var h=e.qI(n|s<<28,s>>>4|o<<24,!1);return r?(this.offset=t,h):{value:h,length:t-i}},s.QP=function(t){var r=this.jP(t);return r&&r.value instanceof e?r.value=n.xP(r.value):r=n.xP(r),r}),s.Hg=function(e,r){var i=void 0===r;i&&(r=this.offset);var n,s=e.length;if(!this.B_){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");for(n=0;n<s;++n)if(0===e.charCodeAt(n))throw RangeError("Illegal str: Contains NULL-characters");if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}s=c.KP(t(e))[1],r+=s+1;var o=this.buffer.byteLength;return r>o&&this.resize((o*=2)>r?o:r),r-=s+1,c.YP(t(e),function(e){this.view.setUint8(r++,e)}.bind(this)),this.view.setUint8(r++,0),i?(this.offset=r,this):s},s.Yg=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var i,n=e,s=-1;return c.WP(function(){if(0===s)return null;if(e>=this.F_)throw RangeError("Illegal range: Truncated data, "+e+" < "+this.F_);return 0===(s=this.view.getUint8(e++))?null:s}.bind(this),i=r(),!0),t?(this.offset=e,i()):{string:i(),length:e-n}},s.zP=function(e,r){var i=void 0===r;if(i&&(r=this.offset),!this.B_){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}var n,s=r;n=c.KP(t(e),this.B_)[1],r+=4+n;var o=this.buffer.byteLength;if(r>o&&this.resize((o*=2)>r?o:r),r-=4+n,this.view.setUint32(r,n,this.U_),r+=4,c.YP(t(e),function(e){this.view.setUint8(r++,e)}.bind(this)),r!==s+4+n)throw RangeError("Illegal range: Truncated data, "+r+" == "+(r+4+n));return i?(this.offset=r,this):r-s},s.JP=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}var i,n=0,s=e;n=this.view.getUint32(e,this.U_),e+=4;var o,a=e+n;return c.WP(function(){return e<a?this.view.getUint8(e++):null}.bind(this),o=r(),this.B_),i=o(),t?(this.offset=e,i):{string:i,length:e-s}},n.XP="c",n.ZP="b",s.$P=function(e,r){var i=void 0===r;if(i&&(r=this.offset),!this.B_){if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}var n,s=r;n=c.KP(t(e))[1],r+=n;var o=this.buffer.byteLength;return r>o&&this.resize((o*=2)>r?o:r),r-=n,c.YP(t(e),function(e){this.view.setUint8(r++,e)}.bind(this)),i?(this.offset=r,this):r-s},s.qb=s.$P,n.eA=function(e){return c.KP(t(e))[0]},n.tA=function(e){return c.KP(t(e))[1]},s.rA=function(e,t,i){"number"==typeof t&&(i=t,t=void 0);var s=void 0===i;if(s&&(i=this.offset),void 0===t&&(t=n.XP),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal length: "+e+" (not an integer)");if(e|=0,"number"!=typeof i||i%1!=0)throw TypeError("Illegal offset: "+i+" (not an integer)");if((i>>>=0)<0||i+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+0) <= "+this.buffer.byteLength)}var o,a=0,h=i;if(t===n.XP){if(o=r(),c.iA(function(){return a<e&&i<this.F_?this.view.getUint8(i++):null}.bind(this),function(e){++a,c.nA(e,o)}.bind(this)),a!==e)throw RangeError("Illegal range: Truncated data, "+a+" == "+e);return s?(this.offset=i,o()):{string:o(),length:i-h}}if(t===n.ZP){if(!this.B_){if("number"!=typeof i||i%1!=0)throw TypeError("Illegal offset: "+i+" (not an integer)");if((i>>>=0)<0||i+e>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+"+e+") <= "+this.buffer.byteLength)}var u=i+e;if(c.WP(function(){return i<u?this.view.getUint8(i++):null}.bind(this),o=r(),this.B_),i!==u)throw RangeError("Illegal range: Truncated data, "+i+" == "+u);return s?(this.offset=i,o()):{string:o(),length:i-h}}throw TypeError("Unsupported metrics: "+t)},s.Lb=s.rA,s.sA=function(e,r){var i=void 0===r;if(i&&(r=this.offset),!this.B_){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}var s,o,a=r;s=c.KP(t(e),this.B_)[1],o=n.RP(s),r+=o+s;var h=this.buffer.byteLength;if(r>h&&this.resize((h*=2)>r?h:r),r-=o+s,r+=this.CP(s,r),c.YP(t(e),function(e){this.view.setUint8(r++,e)}.bind(this)),r!==a+s+o)throw RangeError("Illegal range: Truncated data, "+r+" == "+(r+s+o));return i?(this.offset=r,this):r-a},s.oA=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var i,n=this.PP(e),s=e;e+=n.length,n=n.value;var o=e+n,a=r();return c.WP(function(){return e<o?this.view.getUint8(e++):null}.bind(this),a,this.B_),i=a(),t?(this.offset=e,i):{string:i,length:e-s}},s.append=function(e,t,r){"number"!=typeof t&&"string"==typeof t||(r=t,t=void 0);var i=void 0===r;if(i&&(r=this.offset),!this.B_){if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}e instanceof n||(e=n.wrap(e,t));var s=e.F_-e.offset;if(s<=0)return this;r+=s;var o=this.buffer.byteLength;return r>o&&this.resize((o*=2)>r?o:r),r-=s,new Uint8Array(this.buffer,r).set(new Uint8Array(e.buffer).subarray(e.offset,e.F_)),e.offset+=s,i&&(this.offset+=s),this},s.aA=function(e,t){return e.append(this,t),this},s.assert=function(e){return this.B_=!e,this},s.hA=function(){return this.buffer.byteLength},s.clear=function(){return this.offset=0,this.F_=this.buffer.byteLength,this.M_=-1,this},s.clone=function(e){var t=new n(0,this.U_,this.B_);if(e){var r=new ArrayBuffer(this.buffer.byteLength);new Uint8Array(r).set(this.buffer),t.buffer=r,t.view=new DataView(r)}else t.buffer=this.buffer,t.view=this.view;return t.offset=this.offset,t.M_=this.M_,t.F_=this.F_,t},s.compact=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.F_),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}if(0===e&&t===this.buffer.byteLength)return this;var r=t-e;if(0===r)return this.buffer=o,this.view=null,this.M_>=0&&(this.M_-=e),this.offset=0,this.F_=0,this;var i=new ArrayBuffer(r);return new Uint8Array(i).set(new Uint8Array(this.buffer).subarray(e,t)),this.buffer=i,this.view=new DataView(i),this.M_>=0&&(this.M_-=e),this.offset=0,this.F_=r,this},s.cA=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.F_),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}if(e===t)return new n(0,this.U_,this.B_);var r=t-e,i=new n(r,this.U_,this.B_);return i.offset=0,i.F_=r,i.M_>=0&&(i.M_-=e),this.jE(i,0,e,t),i},s.jE=function(e,t,r,i){var s,o;if(!this.B_&&!n.V_(e))throw TypeError("Illegal target: Not a ByteBuffer");if(t=(o=void 0===t)?e.offset:0|t,r=(s=void 0===r)?this.offset:0|r,i=void 0===i?this.F_:0|i,t<0||t>e.buffer.byteLength)throw RangeError("Illegal target range: 0 <= "+t+" <= "+e.buffer.byteLength);if(r<0||i>this.buffer.byteLength)throw RangeError("Illegal source range: 0 <= "+r+" <= "+this.buffer.byteLength);var a=i-r;return 0===a?e:(e.uA(t+a),new Uint8Array(e.buffer).set(new Uint8Array(this.buffer).subarray(r,i),t),s&&(this.offset+=a),o&&(e.offset+=a),this)},s.uA=function(e){var t=this.buffer.byteLength;return t<e?this.resize((t*=2)>e?t:e):this},s.fill=function(e,t,r){var i=void 0===t;if(i&&(t=this.offset),"string"==typeof e&&e.length>0&&(e=e.charCodeAt(0)),void 0===t&&(t=this.offset),void 0===r&&(r=this.F_),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof r||r%1!=0)throw TypeError("Illegal end: Not an integer");if(r>>>=0,t<0||t>r||r>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+r+" <= "+this.buffer.byteLength)}if(t>=r)return this;for(;t<r;)this.view.setUint8(t++,e);return i&&(this.offset=t),this},s.xg=function(){return this.F_=this.offset,this.offset=0,this},s.mark=function(e){if(e=void 0===e?this.offset:e,!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}return this.M_=e,this},s.order=function(e){if(!this.B_&&"boolean"!=typeof e)throw TypeError("Illegal littleEndian: Not a boolean");return this.U_=!!e,this},s.lA=function(e){return this.U_=void 0===e||!!e,this},s.pA=function(e){return this.U_=void 0!==e&&!e,this},s.dA=function(e,t,r){"number"!=typeof t&&"string"==typeof t||(r=t,t=void 0);var i=void 0===r;if(i&&(r=this.offset),!this.B_){if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}e instanceof n||(e=n.wrap(e,t));var s=e.F_-e.offset;if(s<=0)return this;var o,a=s-r;if(a>0){var h=new ArrayBuffer(this.buffer.byteLength+a);o=new Uint8Array(h),o.set(new Uint8Array(this.buffer).subarray(r,this.buffer.byteLength),s),this.buffer=h,this.view=new DataView(h),this.offset+=a,this.M_>=0&&(this.M_+=a),this.F_+=a,r+=a}else o=new Uint8Array(this.buffer);return o.set(new Uint8Array(e.buffer).subarray(e.offset,e.F_),r-s),e.offset=e.F_,i&&(this.offset-=s),this},s.fA=function(e,t){return e.dA(this,t),this},s.gA=function(e){"function"!=typeof e&&(e=console.log.bind(console)),e(this.toString()+"\n-------------------------------------------------------------------\n"+this.EA(!0))},s.vA=function(){return this.F_-this.offset},s.reset=function(){return this.M_>=0?(this.offset=this.M_,this.M_=-1):this.offset=0,this},s.resize=function(e){if(!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal capacity: "+e+" (not an integer)");if((e|=0)<0)throw RangeError("Illegal capacity: 0 <= "+e)}if(this.buffer.byteLength<e){var t=new ArrayBuffer(e);new Uint8Array(t).set(new Uint8Array(this.buffer)),this.buffer=t,this.view=new DataView(t)}return this},s.reverse=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.F_),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}return e===t?this:(Array.prototype.reverse.call(new Uint8Array(this.buffer).subarray(e,t)),this.view=new DataView(this.buffer),this)},s.Mb=function(e){if(!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal length: "+e+" (not an integer)");e|=0}var t=this.offset+e;if(!this.B_&&(t<0||t>this.buffer.byteLength))throw RangeError("Illegal length: 0 <= "+this.offset+" + "+e+" <= "+this.buffer.byteLength);return this.offset=t,this},s.slice=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.F_),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}var r=this.clone();return r.offset=e,r.F_=t,r},s.yA=function(e){var t=this.offset,r=this.F_;if(t>r){var i=t;t=r,r=i}if(!this.B_){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: Not an integer");if(t>>>=0,"number"!=typeof r||r%1!=0)throw TypeError("Illegal limit: Not an integer");if(r>>>=0,t<0||t>r||r>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+r+" <= "+this.buffer.byteLength)}if(!e&&0===t&&r===this.buffer.byteLength)return this.buffer;if(t===r)return o;var n=new ArrayBuffer(r-t);return new Uint8Array(n).set(new Uint8Array(this.buffer).subarray(t,r),0),n},s.tc=s.yA,s.toString=function(e,t,r){if(void 0===e)return"ByteBufferAB(offset="+this.offset+",markedOffset="+this.M_+",limit="+this.F_+",capacity="+this.hA()+")";switch("number"==typeof e&&(e="utf8",t=e,r=t),e){case"utf8":return this.TA(t,r);case"base64":return this.mA(t,r);case"hex":return this.IA(t,r);case"binary":return this.SA(t,r);case"debug":return this.EA();case"columns":return this.RA();default:throw Error("Unsupported encoding: "+e)}};var h=function(){for(var e={},t=[65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,48,49,50,51,52,53,54,55,56,57,43,47],r=[],i=0,n=t.length;i<n;++i)r[t[i]]=i;return e.encode=function(e,r){for(var i,n;null!==(i=e());)r(t[i>>2&63]),n=(3&i)<<4,null!==(i=e())?(n|=i>>4&15,r(t[63&(n|i>>4&15)]),n=(15&i)<<2,null!==(i=e())?(r(t[63&(n|i>>6&3)]),r(t[63&i])):(r(t[63&n]),r(61))):(r(t[63&n]),r(61),r(61))},e.decode=function(e,t){function i(e){throw Error("Illegal character code: "+e)}for(var n,s,o;null!==(n=e());)if(s=r[n],void 0===s&&i(n),null!==(n=e())&&(o=r[n],void 0===o&&i(n),t(s<<2>>>0|(48&o)>>4),null!==(n=e()))){if(void 0===(s=r[n])){if(61===n)break;i(n)}if(t((15&o)<<4>>>0|(60&s)>>2),null!==(n=e())){if(void 0===(o=r[n])){if(61===n)break;i(n)}t((3&s)<<6>>>0|o)}}},e.test=function(e){return/^(?:[A-Za-z0-9+\/]{4})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(e)},e}();s.mA=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.F_),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}var i;return h.encode(function(){return e<t?this.view.getUint8(e++):null}.bind(this),i=r()),i()},n.j_=function(e,r,i){if(!i){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");if(e.length%4!=0)throw TypeError("Illegal str: Length not a multiple of 4")}var s=new n(e.length/4*3,r,i),o=0;return h.decode(t(e),function(e){s.view.setUint8(o++,e)}),s.F_=o,s},n.btoa=function(e){return n.K_(e).mA()},n.atob=function(e){return n.j_(e).SA()},s.SA=function(e,t){if(e=void 0===e?this.offset:e,t=void 0===t?this.F_:t,!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}if(e===t)return"";for(var r=[],i=[];e<t;)r.push(this.view.getUint8(e++)),r.length>=1024&&(i.push(String.fromCharCode.apply(String,r)),r=[]);return i.join("")+String.fromCharCode.apply(String,r)},n.K_=function(e,t,r){if(!r&&"string"!=typeof e)throw TypeError("Illegal str: Not a string");for(var i,s=0,o=e.length,a=new n(o,t,r);s<o;){if(i=e.charCodeAt(s),!r&&i>255)throw RangeError("Illegal charCode at "+s+": 0 <= "+i+" <= 255");a.view.setUint8(s++,i)}return a.F_=o,a},s.EA=function(e){for(var t,r=-1,i=this.buffer.byteLength,n="",s="",o="";r<i;){if(-1!==r&&(t=this.view.getUint8(r),n+=t<16?"0"+t.toString(16).toUpperCase():t.toString(16).toUpperCase(),e&&(s+=t>32&&t<127?String.fromCharCode(t):".")),++r,e&&r>0&&r%16==0&&r!==i){for(;n.length<51;)n+=" ";o+=n+s+"\n",n=s=""}r===this.offset&&r===this.F_?n+=r===this.M_?"!":"|":r===this.offset?n+=r===this.M_?"[":"<":r===this.F_?n+=r===this.M_?"]":">":n+=r===this.M_?"'":e||0!==r&&r!==i?" ":""}if(e&&" "!==n){for(;n.length<51;)n+=" ";o+=n+s+"\n"}return e?o:n},n.W_=function(e,t,r){for(var i,s,o=e.length,a=new n((o+1)/3|0,t,r),h=0,c=0,u=!1,l=!1,p=!1,d=!1,f=!1;h<o;){switch(i=e.charAt(h++)){case"!":if(!r){if(l||p||d){f=!0;break}l=p=d=!0}a.offset=a.M_=a.F_=c,u=!1;break;case"|":if(!r){if(l||d){f=!0;break}l=d=!0}a.offset=a.F_=c,u=!1;break;case"[":if(!r){if(l||p){f=!0;break}l=p=!0}a.offset=a.M_=c,u=!1;break;case"<":if(!r){if(l){f=!0;break}l=!0}a.offset=c,u=!1;break;case"]":if(!r){if(d||p){f=!0;break}d=p=!0}a.F_=a.M_=c,u=!1;break;case">":if(!r){if(d){f=!0;break}d=!0}a.F_=c,u=!1;break;case"'":if(!r){if(p){f=!0;break}p=!0}a.M_=c,u=!1;break;case" ":u=!1;break;default:if(!r&&u){f=!0;break}if(s=parseInt(i+e.charAt(h++),16),!r&&(isNaN(s)||s<0||s>255))throw TypeError("Illegal str: Not a debug encoded string");a.view.setUint8(c++,s),u=!0}if(f)throw TypeError("Illegal str: Invalid symbol at "+h)}if(!r){if(!l||!d)throw TypeError("Illegal str: Missing offset or limit");if(c<a.buffer.byteLength)throw TypeError("Illegal str: Not a debug encoded string (is it hex?) "+c+" < "+o)}return a},s.IA=function(e,t){if(e=void 0===e?this.offset:e,t=void 0===t?this.F_:t,!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}for(var r,i=new Array(t-e);e<t;)r=this.view.getUint8(e++),r<16?i.push("0",r.toString(16)):i.push(r.toString(16));return i.join("")},n.Q_=function(e,t,r){if(!r){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");if(e.length%2!=0)throw TypeError("Illegal str: Length not a multiple of 2")}for(var i,s=e.length,o=new n(s/2|0,t),a=0,h=0;a<s;a+=2){if(i=parseInt(e.substring(a,a+2),16),!r&&(!isFinite(i)||i<0||i>255))throw TypeError("Illegal str: Contains non-hex characters");o.view.setUint8(h++,i)}return o.F_=h,o};var c=function(){var e={};return e.wA=1114111,e.bA=function(e,t){var r=null;for("number"==typeof e&&(r=e,e=function(){return null});null!==r||null!==(r=e());)r<128?t(127&r):r<2048?(t(r>>6&31|192),t(63&r|128)):r<65536?(t(r>>12&15|224),t(r>>6&63|128),t(63&r|128)):(t(r>>18&7|240),t(r>>12&63|128),t(r>>6&63|128),t(63&r|128)),r=null},e.iA=function(e,t){for(var r,i,n,s,o=function(e){e=e.slice(0,e.indexOf(null));var t=Error(e.toString());throw t.name="TruncatedError",t.bytes=e,t};null!==(r=e());)if(0==(128&r))t(r);else if(192==(224&r))null===(i=e())&&o([r,i]),t((31&r)<<6|63&i);else if(224==(240&r))(null===(i=e())||null===(n=e()))&&o([r,i,n]),t((15&r)<<12|(63&i)<<6|63&n);else{if(240!=(248&r))throw RangeError("Illegal starting byte: "+r);(null===(i=e())||null===(n=e())||null===(s=e()))&&o([r,i,n,s]),t((7&r)<<18|(63&i)<<12|(63&n)<<6|63&s)}},e.CA=function(e,t){for(var r,i=null;;){if(null===(r=null!==i?i:e()))break;r>=55296&&r<=57343&&null!==(i=e())&&i>=56320&&i<=57343?(t(1024*(r-55296)+i-56320+65536),i=null):t(r)}null!==i&&t(i)},e.nA=function(e,t){var r=null;for("number"==typeof e&&(r=e,e=function(){return null});null!==r||null!==(r=e());)r<=65535?t(r):(r-=65536,t(55296+(r>>10)),t(r%1024+56320)),r=null},e.YP=function(t,r){e.CA(t,function(t){e.bA(t,r)})},e.WP=function(t,r){e.iA(t,function(t){e.nA(t,r)})},e._A=function(e){return e<128?1:e<2048?2:e<65536?3:4},e.PA=function(t){for(var r,i=0;null!==(r=t());)i+=e._A(r);return i},e.KP=function(t){var r=0,i=0;return e.CA(t,function(t){++r,i+=e._A(t)}),[r,i]},e}();return s.TA=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.F_),!this.B_){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}var i;try{c.WP(function(){return e<t?this.view.getUint8(e++):null}.bind(this),i=r())}catch(r){if(e!==t)throw RangeError("Illegal range: Truncated data, "+e+" != "+t)}return i()},n.Y_=function(e,r,i){if(!i&&"string"!=typeof e)throw TypeError("Illegal str: Not a string");var s=new n(c.KP(t(e),!0)[1],r,i),o=0;return c.YP(t(e),function(e){s.view.setUint8(o++,e)}),s.F_=o,s},n}"object"==typeof e&&e&&"object"==typeof t&&t?e.i=function(){var e;try{e=r(93)}catch(e){}return a(e)}():(n=[r(94)],void 0!==(s=function(e){return a(e)}.apply(t,n))&&(e.i=s))}()}).call(t,r(63)(e))},function(e,t,r){"use strict";var i=r(4),n=r(0),s=r(25),o=r(47),a=r(164),h=r(6),c=r(1),u=r(2),l=h.he.Rh,p=h.he.Th,d=function(){function e(e,t,r,i){this.loggerId="[P2PDispatcher] ",this.logger=n.Framework.resolve(n.Framework.V.R).log(e.sessionId),this.Sg=t,this.otherGuid=r,this.swarmId=e.swarmId,this.yg=i,this.receiver=new a.C6(t,r,e),this.sender=new a._6(t,r,e,this),this.vD=e.vD,this.TD=e.TD,this.qJ=e.qJ,(p||n.Framework.C()&&o.$N.XN)&&(this.QJ=e.QJ)}return e.prototype.Dg=function(){return this.sender.Dg()||this.receiver.Dg()},e.prototype.close=function(){var e=this,t=i.defer();return this.sender.P6().then(function(r){return e.receiver.close(r).then(function(r){return e.Rj(r).then(function(r){return e.yg.close(r).then(function(e){t.resolve(e)})})})}).catch(function(r){c.ErrorMonitor.ve().logError("Error closing connection to peer",e.loggerId,u.hs.We.qe,{detailedError:r,otherGuid:e.otherGuid}),t.reject("Close partnership failed")}),t.Ss},e.prototype.Rj=function(e){this.logger.debug("SEND CLOSE TO "+this.otherGuid);var t=new s.Rf.Fa.Jg.Close;return t.setType(e),this.Lg(s.Rf.Eg.Close,t),i(this.swarmId)},e.prototype.As=function(e){try{switch(l&&this.logger.debug("DISPATCH "+e.msgId),e.msgId){case s.Rf.Eg.Chunk:var t=s.Rf.Fa.Jg.Chunk.decode(e.Wg);this.receiver.A6(t);break;case s.Rf.Eg.Ack:var r=s.Rf.Fa.Jg.Ack.decode(e.Wg);this.sender.O6(r.transferId);break;case s.Rf.Eg.Cancel:var i=s.Rf.Fa.Jg.Cancel.decode(e.Wg);this.sender.N6(i.transferId);break;case s.Rf.Eg.lg:l&&this.logger.debug("RECEIVED OUT PART,DECODING ");var n=s.Rf.Fa.Jg.OutPartnershipRequest.decode(e.Wg);l&&this.logger.debug("RECEIVED OUT PART FROM "+n.guid),this.TD.Cj(n,this.yg);break;case s.Rf.Eg.pg:l&&this.logger.debug("RECEIVED OUT PART RESP ");var o=s.Rf.Fa.Jg.OutPartnershipResponse.decode(e.Wg);l&&this.logger.debug("RECEIVED OUT PART RESP FROM "+o.accept),this.TD.Qj(o,this.yg);break;case s.Rf.Eg.Have:var a=s.Rf.Fa.Jg.Have.decode(e.Wg);l&&this.logger.debug("RECEIVED HAVE FOR "+a.fragmentId+" FROM "+this.otherGuid),this.TD.D6(this.otherGuid,a);break;case s.Rf.Eg.Close:var h=s.Rf.Fa.Jg.Close.decode(e.Wg);l&&this.logger.debug("RECEIVED CLOSE FROM "+this.otherGuid),this.TD.Vj(this.otherGuid,h);break;case s.Rf.Eg.Request:var p=s.Rf.Fa.Jg.Request.decode(e.Wg);l&&this.logger.debug("RECEIVED REQUEST FOR "+p.fragmentId+" FROM "+this.otherGuid),this.qJ.PM(this.otherGuid,p,this);break;case s.Rf.Eg.DoNotHave:var d=s.Rf.Fa.Jg.DoNotHave.decode(e.Wg);l&&this.logger.debug("DoNotHave "+d.transferId),this.vD.k6(d);break;case s.Rf.Eg.dg:var f=s.Rf.Fa.Jg.UDPHandshakeMessage.decode(e.Wg);l&&this.logger.debug("UDP HANDSHAKE MESSAGE RECEIVED FROM "+f.uuid),this.QJ.SG(f,this.yg);break;case s.Rf.Eg.UDPHandshakeResponse:var g=s.Rf.Fa.Jg.UDPHandshakeResponse.decode(e.Wg);l&&this.logger.debug("UDP HANDSHAKE MESSAGE RESPONSE RECEIVED FROM "+this.otherGuid),this.QJ.IG(g,this.yg);break;case s.Rf.Eg.UDPSwitchLeadershipRequest:var E=s.Rf.Fa.Jg.UDPSwitchLeadershipRequest.decode(e.Wg);l&&this.logger.debug("SWITCH LEADERSHIP REQUEST RECEIVED FROM "+this.otherGuid),this.QJ.UG(E);break;case s.Rf.Eg.fg:var v=s.Rf.Fa.Jg.UDPSwitchLeadershipAck.decode(e.Wg);l&&this.logger.debug("UDP SWITCH ACKNOWLEDGMENT RESPONSE FROM "+this.otherGuid),this.QJ.VG(v,this.otherGuid);break;case s.Rf.Eg.Bitrate:var y=s.Rf.Fa.Jg.Bitrate.decode(e.Wg);l&&this.logger.debug("BITRATE INFO "+y.bitrate+" FROM "+y.guid),this.TD.Wj(y);break;case s.Rf.Eg.Haves:var T=s.Rf.Fa.Jg.Haves.decode(e.Wg);l&&this.logger.debug("RECEIVED BATCH HAVES FOR FROM "+this.otherGuid),this.TD.L6(this.otherGuid,T);break;case s.Rf.Eg.nd:var m=s.Rf.Fa.Jg.PeerInfoMessage.decode(e.Wg);l&&this.logger.debug("RECEIVED PEER INFO FROM "+this.otherGuid),this.TD.Xj(m);break;case s.Rf.Eg.Ping:var I=s.Rf.Fa.Jg.Ping.decode(e.Wg);l&&this.logger.debug("RECEIVED PING FROM "+this.otherGuid),this.TD.M6(I);break;case s.Rf.Eg.Pong:var S=s.Rf.Fa.Jg.Pong.decode(e.Wg);l&&this.logger.debug("RECEIVED PONG FROM "+this.otherGuid),this.TD.F6(S);break;case s.Rf.Eg.gg:var R=s.Rf.Fa.Jg.NoPartners.decode(e.Wg);l&&this.logger.debug("RECEIVED NON PARTNER MESSAGE FROM "+this.otherGuid),this.vD.U6(this.otherGuid,R);break;default:this.logger.warn("UNKNOWN MESSAGE TYPE "+e.msgId)}}catch(e){c.ErrorMonitor.ve().logError("Error dispatching message",this.loggerId,e,u.hs.We.Ye,e)}},e.prototype.Lg=function(e,t){this.yg.Lg(e,this.swarmId,t)},e}();t.Ig=d},function(e,t,r){"use strict";var i=r(48),n=r(35),s=r(4),o=r(25),a=r(0),h=r(7),c=r(165),u=r(5),l=r(95),p=r(1),d=r(2),f=function(){function e(e,t,r){this.loggerId="[FragmentRequester] ",this.B6=new i,this.H6=new i,this.x6=null,this.ug=o.Rf.ug,this.Sg=e,this.otherGuid=t,this.vD=r.vD,this.yD=r.yD,this.Ng=a.Framework.resolve(a.Framework.V.F),this.logger=a.Framework.resolve(a.Framework.V.R).log(r.sessionId)}return e.prototype.setReportingGuid=function(e){this.q6=e},e.prototype.Dg=function(){return!(0===this.B6.keys().length&&null===this.x6)},e.prototype.G6=function(e){var t=new o.Rf.Fa.Jg.Request;try{t.fragmentId=e.Zf(),t.transferId=e.Pk,this.ug&&this.logger.debug("INITIATING TR-"+e.Pk+" TIMEOUT: "+e.V6+" FRAGMENT: "+e.Zf()+" FROM: "+this.otherGuid),this.B6.set(e.Pk,e),this.H6.set(e.Pk,a.Framework.time())}catch(e){p.ErrorMonitor.ve().logError("Error constructing fragment request message",this.loggerId,d.hs.Zi.Qi,{detailedError:e,otherGuid:this.otherGuid}),t=null}try{t&&e.xq.wj.Lg(o.Rf.Eg.Request,t)}catch(e){p.ErrorMonitor.ve().logError("Error sending fragment request",this.loggerId,d.hs.Zi.Ki,{detailedError:e,otherGuid:this.otherGuid})}},e.prototype.A6=function(e){try{var t=e.transferId,r=e.data.yA(),i=e.chunkSize,n=e.totalSize,s=e.headers;if(this.ug&&this.logger.debug("RCV Chunk "+r.byteLength),!this.B6.has(t))return;null==this.x6?(this.ug&&this.logger.debug("INITIATED TR-"+t+",SIZE="+n),this.x6=this.B6.get(t),this.x6.Pk=t,this.j6(t,this.x6.xq),null!=s?this.x6.responseHeaders=s:this.logger.warn("HEADERS NULL IN FIRST CHUNK"),this.vD.v1(this.otherGuid,this.x6,i,n),this.x6.Qf=i,a.Framework.C()||(this.x6.jf=r)):(this.j6(t,this.x6.xq),this.x6.Qf+=i,a.Framework.C()||(this.x6.jf=h.rc.appendBuffer(this.x6.jf,r)));var o=a.Framework.C()?this.x6.Qf:this.x6.jf.byteLength;if(this.ug&&this.logger.debug("RECEIVED "+o+"/"+n+" TRID "+t),o==n){this.ug&&this.logger.debug("RCV ALL DATA "+o+" TR-"+this.x6.Yf),this.x6.qf.Af=o,a.Framework.clearTimeout(this.x6.mG),this.B6.delete(t);var c=a.Framework.time()-this.H6.get(t);this.logger.debug("RCV ALL DATA FROM "+this.otherGuid+" AFTER "+c+" mseconds"),this.H6.delete(t),this.vD.UD(t,this.x6),this.x6=null}}catch(e){p.ErrorMonitor.ve().logError("Error receiving chunk",this.loggerId,d.hs.Zi.Yi,{detailedError:e,otherGuid:this.otherGuid})}},e.prototype.j6=function(e,t){try{this.ug&&this.logger.debug("SEND ACK "+e+" TO "+this.otherGuid);var r=new o.Rf.Fa.Jg.Ack;r.transferId=e,t.wj.Lg(o.Rf.Eg.Ack,r)}catch(e){p.ErrorMonitor.ve().logError("Error sending ack",this.loggerId,d.hs.Zi.Wi,{detailedError:e,otherGuid:this.otherGuid})}},e.prototype.close=function(e){var t=this,r=s.defer();return null!=this.x6&&this.Q6(this.x6.Pk),this.B6.keys().slice().forEach(function(e){t.Q6(e)}),r.resolve(l.xV.Jq),r.Ss},e.prototype.Q6=function(e){try{if(this.B6.has(e)){var t=this.B6.get(e);t.qf.Af=t.Qf,this.logger.debug("SEND CANCEL FOR "+e+" TO "+this.otherGuid),this.H6.delete(e);var r=new o.Rf.Fa.Jg.Cancel;r.transferId=e,t.xq.wj.Lg(o.Rf.Eg.Cancel,r),null!==this.x6&&this.x6.$f()===t.$f()&&(this.x6=null),this.B6.delete(e)}else p.ErrorMonitor.ve().logError("Error cleaning up a not pending transfer",this.loggerId,d.hs.Zi.zi)}catch(e){p.ErrorMonitor.ve().logError("Error sending stop transfer",this.loggerId,d.hs.Zi.Ji,{detailedError:e,otherGuid:this.otherGuid})}},e}();t.C6=f;var g=function(){function e(e,t,r,n){this.loggerId="[FragmentSender] ",this.ug=o.Rf.ug,this.K6=null,this.Y6=new Array,this.W6=new i,this.z6=0,this.close=null,this.Sg=e,this.otherGuid=t,this.J6=r.qJ,this.wj=n,this.ID=r.ID,this.logger=a.Framework.resolve(a.Framework.V.R).log(r.sessionId),this.Ng=a.Framework.resolve(a.Framework.V.F)}return e.prototype.setReportingGuid=function(e){this.q6=e},e.prototype.X6=function(e,t,r,i,n){var s=this;this.ug&&this.logger.info("SEND FRAGMENT "+e+" TO "+this.otherGuid);try{var o=new c.Z6;o.transferId=t,o.fragmentId=e,o.e8=n,o.headers=i,o.t8=r,o.r8=Math.ceil(o.t8/u.hh.Fa.Da),o.n8=0,this.Y6.push(o),this.ug&&this.Y6.forEach(function(e){s.logger.debug(s.otherGuid+" PENDING OUT "+e)})}catch(e){p.ErrorMonitor.ve().logError("Error constructing chunk response",this.loggerId,d.hs.in.$i,{detailedError:e,otherGuid:this.otherGuid})}null===this.K6?this.s8():this.ug&&this.logger.debug(this.otherGuid+" OUT MSG NOT NULL")},e.prototype.O6=function(e){this.ug&&this.logger.debug("ONGOING "+e+" GOT ACK"),null!==this.K6&&this.K6.transferId.toString()===e.toString()?this.o8(!1):p.ErrorMonitor.ve().logError("Error receiving ack for unknown transfer",this.loggerId,d.hs.in.rn)},e.prototype.N6=function(e){null!=this.K6&&this.K6.transferId===e?(this.logger.debug("GOT CANCEL FOR ONGOING TR-"+e),this.logger.debug("TRANSPORT CANCEL STATS "+this.Sg+","+this.otherGuid+","+e),this.W6.delete(e),0!=this.K6.n8?this.J6.a8(this.otherGuid,this.q6,this.K6.n8,this.K6.t8):this.J6.h8(this.otherGuid,this.q6,this.K6.t8),this.K6=null,this.s8()):this.Y6=this.Y6.filter(function(t){return t.transferId!==e})},e.prototype.s8=function(){try{if(null===this.K6&&0!==this.Y6.length){var e=this.Y6.shift();this.K6=e,this.ug&&this.logger.debug("DATA TO SEND LENGTH "+this.K6.t8+" IN "+this.K6.r8+" CHUNKS WITH TR-"+this.K6.transferId),this.o8(!0)}}catch(e){p.ErrorMonitor.ve().logError("Error start sending chunks",this.loggerId,d.hs.in.en,e),this.kg()}},e.prototype.o8=function(e){e&&(this.W6.set(this.K6.transferId,a.Framework.time()),this.z6=this.K6.r8);try{if(null!=this.K6)if(0===this.K6.r8)this.logger.debug("FINISHED SENDING TRANSFER "+this.K6.transferId+" WITH "+this.K6.n8+" BYTES"),this.W6.delete(this.K6.transferId),this.J6.c8(this.otherGuid,this.q6,this.K6.t8),this.K6=null,this.u8(),this.s8();else{this.ug&&this.logger.debug("A CHUNK");var t=Math.min(this.K6.n8+u.hh.Fa.Da,this.K6.t8),r=t-this.K6.n8,i=new o.Rf.Fa.Jg.Chunk;if(i.transferId=this.K6.transferId,i.totalSize=this.K6.t8,i.chunkSize=r,e&&null!=this.K6.headers&&(i.headers=this.K6.headers),a.Framework.C()||null==this.K6.e8)i.data=n.wrap(new ArrayBuffer(0));else if(i.data=this.ID.l8(this.K6.fragmentId,this.z6-this.K6.r8),null==i.data){var s=this.K6.e8.slice(this.K6.n8,t);i.data=n.wrap(s)}this.K6.n8=this.K6.n8+r,this.wj.Lg(o.Rf.Eg.Chunk,i),this.ug&&this.logger.debug("SND ["+this.K6.n8+"-"+(this.K6.n8+r)+"/"+this.K6.t8+"] TO "+this.otherGuid+" OF TR-"+this.K6.transferId),this.K6.r8--}else this.logger.debug("NO MESSAGE TO SEND")}catch(e){p.ErrorMonitor.ve().logError("Error sending chunk",this.loggerId,d.hs.in.tn,{detailedError:e,otherGuid:this.otherGuid}),this.kg()}},e.prototype.Dg=function(){return!(0===this.Y6.length&&null===this.K6)},e.prototype.P6=function(){var e=s.defer();return this.Y6.length=0,this.Dg()?this.close=e:e.resolve("CLOSE"),e.Ss},e.prototype.u8=function(){this.close&&this.close.resolve("CLOSED")},e.prototype.kg=function(){this.K6=null},e}();t._6=g},function(e,t,r){"use strict";var i=function(){function e(){this.headers=null}return e}();t.Z6=i},function(e,t,r){"use strict";var i=r(3),n=r(0),s=r(5),o=r(15),a=r(2),h=r(1),c=function(){function e(e,t,r,s,a,h){this.loggerId="[Partner] ",this.p8=0,this.d8=0,this.f8=0,this.g8=new Array,this.E8=new Array,this.B6=new i,this.logger=s,this.wj=r,this.guid=e,this.Ek=h,this.v8=a,this.KM=t,this.gQ=n.Framework.resolve(o.qu.ku),this.vQ=n.Framework.resolve(o.qu.ku),this.y8=n.Framework.time()}return e.prototype.Dj=function(e){this.reportingGuid=e,this.wj&&(this.wj.receiver.setReportingGuid(this.reportingGuid),this.wj.sender.setReportingGuid(this.reportingGuid))},e.prototype.T8=function(e,t,r){var i=Math.max(1,t);for(r&&(this.d8+=i,this.p8+=e);this.g8.length>s.hh.Oa.wa;)this.g8.pop();var n=e/i;this.g8.unshift(n)},e.prototype.m8=function(e){this.B6.has(e)?this.logger.warn(this.guid+" DUPLICATE {} PENDING REQUESTS "+e):this.B6.set(e,n.Framework.time())},e.prototype.I8=function(e,t,r,i,s,o){try{if(this.B6.has(e)){var c=this.B6.get(e),u=n.Framework.time()-c;this.B6.delete(e),i&&this.T8(t,u,!0),this.gQ.success(t),this.KM.S8(this.reportingGuid,t,r,s,o)}else h.ErrorMonitor.ve().logError("Error completing a non-existing request",this.loggerId,a.hs.Dn._n,{otherGuid:this.guid,q6:this.reportingGuid})}catch(e){h.ErrorMonitor.ve().logError("Error handling request completed",this.loggerId,a.hs.Dn.Cn,{detailedError:e,otherGuid:this.guid,q6:this.reportingGuid})}},e.prototype.R8=function(e,t,r,i,n,o){try{if(this.B6.has(e)){var c=this.B6.get(e);this.B6.delete(e),s.hh.Oa.ba?this.T8(t,c,!0):this.T8(0,c,!0),this.gQ.w8(t,i),this.KM.b8(this.reportingGuid,t,r,i,n,o)}else h.ErrorMonitor.ve().logError("Error partially failed a non-existing request",this.loggerId,a.hs.Dn.An,{otherGuid:this.guid,q6:this.reportingGuid})}catch(e){h.ErrorMonitor.ve().logError("Error handling request partially failed ",this.loggerId,a.hs.Dn.Pn,{detailedError:e,otherGuid:this.guid})}},e.prototype._k=function(e,t,r){try{if(this.B6.has(e)){var i=this.B6.get(e);this.B6.delete(e),this.T8(0,i,!0),this.gQ.ll(),this.KM.C8(this.reportingGuid,r,t)}else h.ErrorMonitor.ve().logError("Error failed a non-existing request",this.loggerId,a.hs.Dn.Nn,{otherGuid:this.guid,q6:this.reportingGuid})}catch(e){h.ErrorMonitor.ve().logError("Error handling request failed ",this.loggerId,a.hs.Dn.On,{detailedError:e,otherGuid:this.guid})}},e.prototype._8=function(e,t){this.KM.P8(e,t,!0)},e.prototype.A8=function(e,t){this.KM.O8(e,t,!0)},e.prototype.N8=function(e,t,r){this.KM.D8(e,t,r,!0)},e.prototype.k8=function(){var e=this.g8.reduce(function(e,t){return e+t},0);return this.g8.length>0?e/this.g8.length:0},e.prototype.L8=function(e){this.f8=e},e.prototype.M8=function(){return this.f8},e.prototype.Ij=function(){return this.Ek.Ij()},e}();t.Partner=c},function(e,t,r){"use strict";var i=r(35),n=r(3),s=r(0),o=r(10),a=r(25),h=r(5),c=r(1),u=r(168),l=r(2),p=function(){function e(){this.jM="[PARTNERSHIP] ",this.aj=new n,this.gB=new n,this.dB=new n,this.fB=new n,this.F8=!1,this.U8=!1,this.B8=!0,this.active=!1,this.H8(),this.lj=[]}return e.prototype.init=function(e){this.logger=s.Framework.resolve(s.Framework.V.R).log(e.sessionId),this.yD=e.yD,this.sC=e.sC,this.uploadScore=e.uploadScore,this.gD=e.gD,this.yj=e.YM},e.prototype.sj=function(e){return this._j(e.peerInfo.guid)},e.prototype._j=function(e){return this.fB.has(e)||this.dB.has(e)},e.prototype.$j=function(e){return this.dB.has(e)?this.dB.get(e):this.fB.get(e)},e.prototype.rj=function(e){return this.xj(e.peerInfo.guid)},e.prototype.xj=function(e){return this.gB.has(e)||this.aj.has(e)},e.prototype.qj=function(e){return this.gB.has(e)?this.gB.get(e):this.aj.get(e)},e.prototype.Lj=function(e){var t=this;try{var r=this.yD.x8();if(this.B8&&!r)if(this._j(e)){var i=this.$j(e),n=this.uploadScore.q8(!1),s=[];this.sC.Vq(this.context.isLive()).then(function(r){t.logger.debug(t.jM+"SEND ALL HAVES TO "+e+","+r.length);for(var o=0;o<r.length;o++){var h=0;h=t.context.isLive()?r[o].size():r[o].totalSize;var c=r[o].zf,u=new a.Rf.Fa.Jg.Have;u.setFragmentId(c.Zf()),u.setSize(h),u.setUploadScore(n);var l=c;u.setId(l.A_()),u.setBitrate(l.bitrate),u.setDuration(l.duration),u.setType(l.Xf()),s.push(u)}if(s.length>0){var p=new a.Rf.Fa.Jg.Haves;p.setHave(s),i.wj.Lg(a.Rf.Eg.Haves,p)}})}else c.ErrorMonitor.ve().logError("Error sending all haves to peer who is not out partner",this.jM,l.hs.Ut.Ct,{otherGuid:e})}catch(t){c.ErrorMonitor.ve().logError("Error sending all haves",this.jM,l.hs.Ut.Tt,{detailedError:t,otherGuid:e})}},e.prototype.oZ=function(e,t,r){var i=this,n=this.yD.x8();if(this.B8&&!n){var s=this.dB.values();this.fB.forEach(function(e,t){s.push(e)});var o=this.uploadScore.q8(!1);s.forEach(function(n){(!r||r&&n.guid!=r.guid)&&i.G8(n.wj,e,t,o)})}},e.prototype.G8=function(e,t,r,i){this.F8&&this.logger.debug(this.jM+"SEND HAVE TO "+e.otherGuid+" FOR "+t.Zf());try{var n=new a.Rf.Fa.Jg.Have;n.setFragmentId(t.Zf()),n.setSize(r),n.setUploadScore(i);var s=t;n.setId(s.A_()),n.setBitrate(s.bitrate),n.setDuration(s.duration),n.setType(s.Xf()),e.Lg(a.Rf.Eg.Have,n)}catch(t){c.ErrorMonitor.ve().logError("Error sending have ",this.jM,l.hs.Ut.It,{detailedError:t,otherGuid:e.otherGuid})}},e.prototype.D6=function(e,t){try{if(this.xj(e)){this.U8&&this.logger.debug(this.jM+"HAVE RECEIVED FROM "+e+": "+t.fragmentId);var r=this.qj(e);r.L8(t.getUploadScore()),this.gD.put(t,r),this.context.vF(t)}else c.ErrorMonitor.ve().logError("Error receiving have from unknown peer",this.jM,l.hs.Ut.St,{otherGuid:e})}catch(t){c.ErrorMonitor.ve().logError("Error handling received have",this.jM,l.hs.Ut.wt,{detailedError:t,otherGuid:e})}},e.prototype.L6=function(e,t){var r=this;try{if(this.xj(e)){this.U8&&this.logger.debug(this.jM+"BATCH HAVES RECEIVED FROM "+e);var i=this.qj(e);t.getHave().forEach(function(e){i.L8(e.getUploadScore()),r.gD.put(e,i)}),this.context.vF(t.getHave()[0])}else c.ErrorMonitor.ve().logError("Error receiving haves from unknown peer",this.jM,l.hs.Ut.Rt,{otherGuid:e})}catch(t){c.ErrorMonitor.ve().logError("Error handling received haves",this.jM,l.hs.Ut.bt,{detailedError:t,otherGuid:e})}},e.prototype.mj=function(e){try{var t=new a.Rf.Fa.Jg.Ping;t.id=this.yD.getId(),t.startTs=s.Framework.time(),this.logger.debug(this.jM+"REQUEST PING TO PEER GUID "+e.otherGuid),e.Lg(a.Rf.Eg.Ping,t)}catch(t){c.ErrorMonitor.ve().logError("Error requesting ping",this.jM,l.hs.Ut.Pt,{detailedError:t,otherGuid:e.otherGuid})}},e.prototype.M6=function(e){try{var t=e.id;if(!this._j(t))return void c.ErrorMonitor.ve().logError("Error receiving ping from an unknown peer",this.jM,l.hs.Ut.Ot,{otherGuid:t});var r=-1;e.startTs&&(r=e.startTs),this.V8(this.$j(t).wj,r)}catch(t){c.ErrorMonitor.ve().logError("Error handling received ping",this.jM,l.hs.Ut.At,{detailedError:t,otherGuid:e.id})}},e.prototype.H8=function(){try{for(var e="",t=0;t<h.hh.Fa.Da;t++)e+=String.fromCharCode(33+93*Math.random());for(var r=new ArrayBuffer(e.length),n=new Uint8Array(r),s=e.length,t=0;t<s;t++)n[t]=e.charCodeAt(t);this.j8=i.wrap(n)}catch(e){c.ErrorMonitor.ve().logError("Error creating random buffer for ping pong",this.logger,l.hs.Ut._t,e)}},e.prototype.V8=function(e,t){try{var r=new a.Rf.Fa.Jg.Pong;r.id=this.yD.getId(),r.startTs=t,this.j8||this.H8(),r.data=this.j8,r.dataSize=h.hh.Fa.Da,this.logger.debug(this.jM+"SEND PONG TO PEER GUID "+e.otherGuid),e.Lg(a.Rf.Eg.Pong,r)}catch(t){c.ErrorMonitor.ve().logError("Error sending pong",this.jM,l.hs.Ut.Nt,{detailedError:t,otherGuid:e.otherGuid})}},e.prototype.F6=function(e){try{var t=e.id;if(!this.xj(t))return void c.ErrorMonitor.ve().logError("Error receiving a pong from an unknown peer",this.jM,l.hs.Ut.Dt,{otherGuid:t});var r=s.Framework.time();if(e.startTs&&e.startTs>0){var i=r-e.startTs,n=this.qj(t);e.dataSize==e.data.tc().byteLength?n.T8(e.dataSize,i,!0):c.ErrorMonitor.ve().logError("Error receing pong with wrong data size",this.jM,l.hs.Ut.kt,{otherGuid:t})}else c.ErrorMonitor.ve().logError("Error receiving pong with wrong timestamp",this.jM,l.hs.Ut.Lt,{otherGuid:t})}catch(t){c.ErrorMonitor.ve().logError("Error receiving pong",this.jM,l.hs.Ut.Mt,{detailedError:t,otherGuid:e.id})}},e.prototype.vB=function(){try{var e=new n;return this.Q8(this.gB,e),this.Q8(this.aj,e),e}catch(e){return c.ErrorMonitor.ve().logError("Error getting partner snapshots",this.jM,l.hs.Ut.Ft,e),new n}},e.prototype.Q8=function(e,t){var r=this;e.forEach(function(e,i){var n=new hive.snapshots.Partner;n.inPart=!0,n.outPart=r._j(i),n.connInfo=new hive.snapshots.ConnectivityInfo;var s=void 0;e.Ek.peerInfo.publicIpString&&(s=e.Ek.peerInfo.publicIpString);var a=void 0;e.Ek.peerInfo.privateIpString&&(a=e.Ek.peerInfo.privateIpString),n.connInfo.publicIp=s,n.connInfo.privateIp=a,n.connInfo.externalAs=e.Ek.peerInfo.externalAs,n.connInfo.internalAs=e.Ek.peerInfo.internalAs;var h=r.K8();h.rateReceived=e.k8(),n.metrics=h,n.udp=e.Ek.peerInfo.type==o.Tc.W,t.set(e.reportingGuid,n)})},e.prototype.pB=function(){return new u.Y8(this.gB.length,this.aj.length,this.fB.length,this.dB.length)},e.prototype.K8=function(){var e=new hive.snapshots.PartnerMetrics;return e.rateReceived=0,e.rateSent=0,e.handshakeDelay=0,e},e}();t.rQ=p},function(e,t,r){"use strict";var i=function(){function e(e,t,r,i){this.gB=e,this.EB=t,this.fB=r,this.dB=i}return e}();t.Y8=i},function(e,t,r){"use strict";var i=function(){function e(){}return e}();t.Kg=i},function(e,t){e.i={package:"HiveMsgs",messages:[{name:"Chunk",fields:[{rule:"required",type:"int32",name:"transferId",id:1},{rule:"required",type:"int32",name:"totalSize",id:2},{rule:"required",type:"int32",name:"chunkSize",id:3},{rule:"required",type:"bytes",name:"data",id:4},{rule:"optional",type:"string",name:"headers",id:5}]},{name:"Haves",fields:[{rule:"repeated",type:"Have",name:"have",id:1}]},{name:"Have",fields:[{rule:"required",type:"string",name:"fragmentId",id:1},{rule:"required",type:"int32",name:"size",id:2},{rule:"required",type:"int32",name:"type",id:3},{rule:"required",type:"int32",name:"id",id:4},{rule:"required",type:"int32",name:"bitrate",id:5},{rule:"required",type:"int32",name:"duration",id:6},{rule:"required",type:"float",name:"uploadScore",id:7}]},{name:"Ping",fields:[{rule:"required",type:"string",name:"id",id:1},{rule:"required",type:"uint64",name:"startTs",id:2}]},{name:"Pong",fields:[{rule:"required",type:"string",name:"id",id:1},{rule:"required",type:"bytes",name:"data",id:2},{rule:"required",type:"int32",name:"dataSize",id:3},{rule:"required",type:"uint64",name:"startTs",id:4}]},{name:"Request",fields:[{rule:"required",type:"string",name:"fragmentId",id:1},{rule:"required",type:"int32",name:"transferId",id:2}]},{name:"DoNotHave",fields:[{rule:"required",type:"int32",name:"transferId",id:1}]},{name:"NoPartners",fields:[{rule:"required",type:"int32",name:"transferId",id:1}]},{name:"Cancel",fields:[{rule:"required",type:"int32",name:"transferId",id:1}]},{name:"Ack",fields:[{rule:"optional",type:"int32",name:"transferId",id:1}]},{name:"Close",fields:[{rule:"required",type:"int32",name:"type",id:1}]},{name:"StreamCharacteristics",fields:[{rule:"required",type:"int32",name:"streamState",id:1},{rule:"required",type:"int32",name:"bitrate",id:2},{rule:"required",type:"int32",name:"delta",id:3}]},{name:"OutPartnershipRequest",fields:[{rule:"required",type:"string",name:"guid",id:1},{rule:"required",type:"string",name:"contextId",id:2},{rule:"required",type:"string",name:"p2pProtocolVersion",id:3},{rule:"optional",type:"int32",name:"internalAs",id:4},{rule:"optional",type:"int32",name:"externalAs",id:5},{rule:"optional",type:"string",name:"publicIpString",id:6},{rule:"optional",type:"string",name:"privateIpString",id:7},{rule:"required",type:"string",name:"reportingGuid",id:8},{rule:"repeated",type:"StreamCharacteristics",name:"streamCharacteristics",id:9}]},{name:"OutPartnershipResponse",fields:[{rule:"required",type:"int32",name:"accept",id:1},{rule:"optional",type:"int32",name:"internalAs",id:2},{rule:"optional",type:"int32",name:"externalAs",id:3},{rule:"optional",type:"string",name:"publicIpString",id:4},{rule:"optional",type:"string",name:"privateIpString",id:5},{rule:"optional",type:"string",name:"reportingGuid",id:6},{rule:"repeated",type:"StreamCharacteristics",name:"streamCharacteristics",id:7}]},{name:"PeerInfoMessage",fields:[{rule:"required",type:"string",name:"guid",id:1},{rule:"optional",type:"string",name:"publicIpString",id:2},{rule:"optional",type:"string",name:"privateIpString",id:3},{rule:"optional",type:"int32",name:"internalAs",id:4},{rule:"optional",type:"int32",name:"externalAs",id:5},{rule:"repeated",type:"StreamCharacteristics",name:"streamCharacteristics",id:6}]},{name:"UDPHandshakeMessage",fields:[{rule:"required",type:"string",name:"uuid",id:1},{rule:"required",type:"string",name:"streamId",id:2},{rule:"required",type:"float",name:"udpScore",id:3},{rule:"required",type:"bool",name:"isLeader",id:4}]},{name:"UDPHandshakeResponse",fields:[{rule:"required",type:"string",name:"accept",id:1}]},{name:"UDPSwitchLeadershipRequest",fields:[{rule:"required",type:"string",name:"uuid",id:1},{rule:"required",type:"float",name:"udpScore",id:2}]},{name:"UDPSwitchLeadershipAck",fields:[{rule:"required",type:"bool",name:"ok",id:1}]},{name:"Bitrate",fields:[{rule:"required",type:"string",name:"guid",id:1},{rule:"required",type:"int32",name:"bitrate",id:2}]}]}},function(e,t,r){"use strict";var i=r(5),n=function(){function e(e,t,r,i,n){this.udpScore=0,this.cG=!1,this.streamId="",this.uuid=e,this.udpScore=t,r&&(this.address=r),i&&(this.cG=i),n&&(this.streamId=n)}return e.JE=function(e,t){var r=0;return r=e.udpScore>t.udpScore?1:e.udpScore<t.udpScore?-1:0,0!=r?-r:i.hh.UDPBroadcast.xa?t.uuid.localeCompare(e.uuid):e.uuid.localeCompare(t.uuid)},e}();t.hG=n},function(e,t,r){"use strict";var i=r(3),n=r(43),s=r(0),o=r(15),a=r(9),h=r(10),c=r(1),u=r(2),l=function(){function e(){this.loggerId="[P2PRequester] ",this.Ag=new n.Counter,this.W8=new i,this.z8=new i,this.J8=s.Framework.resolve(o.qu.Nu)}return e.prototype.init=function(e){this.logger=s.Framework.resolve(s.Framework.V.R).log(e.sessionId),this.gD=e.gD,this.TD=e.TD,this.ED=e.ED,this.yD=e.yD,this.KM=e.YM,this.J8.X8(e.yD)},e.prototype.request=function(e){this.logger.debug("FRL ISSUE REQ FOR FRAGMENT "+e.zf.toString()+"-"+e.qf.Af+" ["+a.vc[e.Xf()]+"] TO P2P"),this.W8.set(e.$f(),e);var t=this.Ag.next();e.Pk=t,this.z8.set(t,e.$f()),this.M1(e)},e.prototype.M1=function(e){var t=e.Zf(),r=e.$f(),i=this.Z8(t);e.size=this.gD.Q1(t).size;var n=this.J8.e5(i,e.type);null!=n?(this.logger.info("SEND REQUEST "+e.Pk+" FOR "+r+" TO "+n.wj.otherGuid+" (LAN LEADER "+n.Ek.peerInfo.isLeader+" iAS "+n.Ek.peerInfo.internalAs+" eAS "+n.Ek.peerInfo.externalAs+" privateIp "+n.Ek.peerInfo.privateIpString+" ) out of "+i.length+" type "+h.Tc[n.Ek.peerInfo.type]+" size:"+e.size),e.xq=n,e.qq=n.Ek.peerInfo,e.xq.m8(e.Pk),e.qf.Cf=!0,e.qf.Mf=s.Framework.time(),this.KM.t5(e),this.Ck(e)?n.wj.receiver.G6(e):this._k(e.Pk,"TIMED-OUT")):(c.ErrorMonitor.ve().logError("Error sending p2p request because we cannot find a partner",this.loggerId,u.hs.dn.nn),this._k(e.Pk,"NO PARTNERS FOUND FOR REQUEST"))},e.prototype.Z8=function(e){var t=this,r=[];try{this.gD.fk(e).forEach(function(e){t.TD.xj(e.guid)?r.push(e):t.logger.warn("I HAVE A HAVE FROM A NON IN-PARTNER "+e.guid)})}catch(e){c.ErrorMonitor.ve().logError("Error filtering in partners",this.loggerId,u.hs.dn.sn,e)}finally{return r}},e.prototype.Ck=function(e){var t=this,r=!1;try{var i=0;null==e.size?(i=this.gD.Q1(e.Zf()).size,this.logger.warn("request size not set - this should not happen")):i=e.size;var n=e.Wf.dM().ax(e,i);return e.V6=n,n>0&&(r=!0,null==e.mG&&(e.mG=s.Framework.setTimeout(function(){t.KM.r5(e),t._k(e.Pk,"TIMED-OUT")},n))),r}catch(e){return c.ErrorMonitor.ve().logError("Error setting request timeout",this.loggerId,u.hs.dn.an,e),!1}},e.prototype._k=function(e,t){this.logger.info(t+" "+e);var r=this.i5(e,!0);this.logger.info("REQUEST "+e+" FOR "+r.$f()+" FAILED BECAUSE "+t),r&&this.ED.GX(r)},e.prototype.i5=function(e,t){try{if(this.z8.has(e)){var r=this.z8.get(e);this.z8.delete(e);var i=this.W8.get(r);if(this.W8.delete(r),s.Framework.clearTimeout(i.mG),t&&this.TD.xj(i.xq.wj.otherGuid)){i.xq.wj.receiver.Q6(e);var n=i.Xf()==a.vc.fc;0!=i.Qf?i.xq.R8(i.Pk,i.Qf,i.qf.p2pAgenTrafficSuccessQt,i.size,n,i.type):i.xq._k(i.Pk,n,i.size)}return i}return c.ErrorMonitor.ve().logError("Error cancelling request on non existing session",this.loggerId,u.hs.dn.cn),null}catch(e){return c.ErrorMonitor.ve().logError("Error removing request",this.loggerId,u.hs.dn.hn,e),null}},e.prototype.qX=function(e){if(this.W8.has(e)){var t=this.W8.get(e).Pk;this.i5(t,!0)}},e.prototype.v1=function(e,t,r,i){this.logger.debug("FRL DOWNLOADING "+t.$f()+" FROM "+e+" P2P")},e.prototype.UD=function(e,t){if(this.logger.debug("FRL PROMISED FRAGMENT "+t.$f()+" RETURNED FROM P2P SIZE "+t.qf.Af),t=this.i5(e,!1)){t.qf.Uf=s.Framework.time();var r=t.Xf()==a.vc.fc;t.xq.I8(t.Pk,t.size,t.qf.p2pAgenTrafficSuccessQt,!0,r,t.type),this.ED.jX(t)}else this.logger.warn("TRIED TO REMOVE A NON EXISTING REQUEST "+e+" (THIS SHOULD NOT HAPPEN. AT LEAST NOT TOO OFTEN)")},e.prototype.k6=function(e){var t=e.getTransferId();if(this.z8.has(t)){c.ErrorMonitor.ve().logError("Error receiving a do not have for my request",this.loggerId,u.hs.dn.un),this.logger.debug("DO NOT HAVE RECEIVED FOR "+t);var r=this.i5(t,!1);if(r){var i=r.Xf()==a.vc.fc;r.xq._k(r.Pk,i,r.size),this.ED.GX(r)}}else this.logger.warn("UNKNOWN DO NOT HAVE "+t)},e.prototype.U6=function(e,t){var r=t.transferId;if(this.z8.has(r)){c.ErrorMonitor.ve().logError("Error rejected request by a non partner",this.loggerId,u.hs.dn.pn),this.TD.Sj(e);var i=this.i5(r,!1);i&&this.ED.GX(i)}},e.prototype.Ys=function(e){return this.W8.has(e)},e}();t.LJ=l},function(e,t,r){"use strict";var i=r(0),n=r(25),s=r(1),o=r(2),a=function(){function e(){this.loggerId="[P2PResponder] "}return e.prototype.init=function(e){this.logger=i.Framework.resolve(i.Framework.V.R).log(e.sessionId),this.sG=e,this.gD=e.gD,this.sC=e.sC,this.TD=e.TD,this.uploadScore=e.uploadScore,this.yD=e.yD,this.KM=e.YM},e.prototype.PM=function(e,t,r){try{if(this.TD._j(e)){var i=this.TD.$j(e);this.n5(e,t,i)}else this.s5(e,t,r)}catch(e){s.ErrorMonitor.ve().logError("Error on responding to p2p request",this.loggerId,o.hs.mn.fn,e)}},e.prototype.c8=function(e,t,r){try{if(this.uploadScore.success(r),this.TD._j(e)){var i=this.TD.$j(e);i.vQ.success(r),i._8(r,t)}}catch(e){s.ErrorMonitor.ve().logError("Error on request satisfied",this.loggerId,o.hs.mn.gn,e)}},e.prototype.a8=function(e,t,r,i){try{if(this.uploadScore.w8(r,i),this.TD._j(e)){var n=this.TD.$j(e);n.vQ.w8(r,i),n.N8(r,i,t)}}catch(e){s.ErrorMonitor.ve().logError("Error on request partially satisfied",this.loggerId,o.hs.mn.En,e)}},e.prototype.h8=function(e,t,r){try{if(this.uploadScore.ll(),this.TD._j(e)){var i=this.TD.$j(e);i.vQ.ll(),i.A8(r,t)}}catch(e){s.ErrorMonitor.ve().logError("Error on request not satisfied",this.loggerId,o.hs.mn.vn,e)}},e.prototype.n5=function(e,t,r){var i=this;this.sC.get(t.fragmentId).then(function(n){n?(i.logger.debug("SENDING TO "+e+","+t.fragmentId+","+t.transferId+","+n.length+" DL "+n.length),r.wj.sender.X6(t.fragmentId,t.transferId,n.length,n.headers,n.data)):(i.logger.debug("RECEIVED REQUEST FOR "+t.fragmentId+" FROM "+e+" CAN'T BE SERVED"),i.o5(t.transferId,r))})},e.prototype.o5=function(e,t){try{this.logger.info("SEND DO NOT HAVE "+e+" TO "+t.wj.Sg);var r=new n.Rf.Fa.Jg.DoNotHave;r.setTransferId(e),t.wj.Lg(n.Rf.Eg.DoNotHave,r)}catch(e){s.ErrorMonitor.ve().logError("Error on sending do not have",this.loggerId,o.hs.mn.yn,e)}},e.prototype.s5=function(e,t,r){try{this.logger.warn("GOT REQUEST FROM NON-PARTNER "+e+" FOR "+t.fragmentId);var i=new n.Rf.Fa.Jg.NoPartners;i.setTransferId(t.transferId),r.Lg(n.Rf.Eg.gg,i)}catch(e){s.ErrorMonitor.ve().logError("Error on send no partners",this.loggerId,o.hs.mn.Tn,e)}},e}();t.MJ=a},function(e,t,r){"use strict";var i,n=r(48),s=r(0),o=r(5);!function(e){e[e.S=0]="S",e[e.a5=1]="F",e[e.h5=2]="PF"}(i||(i={}));var a=function(){function e(e){this.ts=e}return e}(),h=function(){function e(){this.c5=0,this.u5=0,this.l5=0,this.p5=0,this.d5=0,this.f5=0}return e}(),c=function(){function e(){this.g5=new n}return e.prototype.success=function(e){this.event(i.S,e,e)},e.prototype.ll=function(){this.event(i.a5,0,0)},e.prototype.w8=function(e,t){this.event(i.h5,e,t)},e.prototype.event=function(e,t,r){var i=new a(s.Framework.time());i.t=e,i.E5=t,i.v5=t/r,i.y5=(r-t)/r,this.g5.set(i.ts,i),this.T5()},e.prototype.T5=function(){var e=this,t=s.Framework.time(),r=t-2*o.hh.Oa.Ca;if(r>0){var i=[];this.g5.forEach(function(e,t){t<r&&i.push(t)}),i.forEach(function(t){e.g5.delete(t)})}},e.prototype.fQ=function(e){var t=0,r=this.m5(e,o.hh.Oa.Ca);if(null!=r){var i=r.u5+r.l5+r.p5;t=0==i?0:(r.u5+r.p5*o.hh.Oa._a)/i}return t},e.prototype.q8=function(e){var t=0,r=this.m5(e,o.hh.Oa.Ca);if(null!=r){var i=r.u5+r.l5+r.p5;t=0==i?0:(r.l5+r.p5*o.hh.Oa.Pa)/i}return t},e.prototype.I5=function(e){var t=this.m5(!1,e);return null!=t?t.c5:0},e.prototype.m5=function(e,t){if(0!=this.g5.keys().length){var r=new h,o=s.Framework.time(),a=o-t;a<0&&(a=0);var c=new n;return this.g5.forEach(function(e,t){t>=a&&c.set(t,e)}),c.forEach(function(e,t){switch(r.c5+=e.E5,e.t){case i.S:r.u5++;break;case i.a5:r.l5++;break;default:r.p5++,r.d5+=e.v5,r.f5+=e.y5}}),r}return null},e}();c.Pa=.2,c._a=.2,t.FJ=c},function(e,t,r){"use strict";var i=this&&this.hu||function(e,t){function r(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=r(3),s=r(4),o=r(0),a=r(176),h=r(178),c=r(96),u=r(2),l=r(1);t.S5||(t.S5={});var p=function(e){function t(){var t=e.call(this)||this;return t.loggerId="[HiveNetworkManager] ",t.R5=!1,t.w5=new n,t.Ag=1,t.Jl=o.Framework.resolve(o.Framework.V.M),t.b5=o.Framework.resolve(o.Framework.V.q),t.channelManager=new a.C5(t.logger,t.b5,t),t.b5.init(t,t.logger,t.channelManager),t._5(),t}return i(t,e),t.prototype.start=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var i=o.Framework.resolve(o.Framework.V.R).log(e),n=null;return 0==this.vl.keys().length?(i.debug("TRIGGERING CONNECT "),n=this.P5(),this.A5(e,t)):(i.debug("ALREADY CONNECTED "),n=this.Jl.Zl(),this.A5(e,t),this.b5.sY()&&this.O5(this.gd,e)),n},t.prototype.P5=function(){var e=this,t=o.Framework.L.k;return"localhost"===t&&(t="127.0.0.1:"+location.port),this.logger.debug("CONNECTING.."),this.Jl.Zl().then(function(r){var i=r.tp();return e.logger.debug("MY IDENTITY ",i),e.gd=i,e.b5.start(t,i),r})},t.prototype.N5=function(){return s.resolve(new n)},t.prototype.connect=function(e){var t=this,r=s.defer();return this.w5.has(e)?(this.logger.debug("Already connected to "+e+", ignoring"),r.resolve(this.w5.get(e))):this.channelManager.D5(this.gd,e).then(function(r){return t.connected(e,r)}).then(function(e){return r.resolve(e)}).fail(function(i){l.ErrorMonitor.ve().logError("Error establishing connection",t.loggerId,u.hs.Pe.be,{otherGuid:e}),r.reject("CONN TO "+e+" CANNOT BE ESTABLISHED ")}),r.Ss},t.prototype.send=function(e,t,r){return!!this.channelManager.send(e,t)||(l.ErrorMonitor.ve().logError("Error sending message without channel established",this.loggerId,u.hs.Pe.Ce,{otherGuid:e}),this.k5(e),!1)},t.prototype.L5=function(e,t,r){if(this.R5&&this.logger.debug("REC BUF "+r.byteLength+" "+r),this.w5.has(e)){this.R5&&this.logger.debug("PROC MSG FROM "+e);this.w5.get(e).Gg(r)}else l.ErrorMonitor.ve().logError("Error receiving msg without having a connection established",this.loggerId,u.hs.Pe.Ce,{otherGuid:e})},t.prototype.connected=function(e,t){if(this.w5.has(e))this.logger.debug("RECONNECTED TO "+e+", RESETTING STATE"),this.w5.get(e).reset();else{this.logger.info("CONNECTED TO "+e);var r=t.pG;r.init(this.gd,e),this.w5.set(e,r)}return s.resolve(this.w5.get(e))},t.prototype.M5=function(e,t){this.logger.debug("FAILED CONN TO "+t),e.reject("CONN TO "+t+" CANNOT BE ESTABLISHED ")},t.prototype.F5=function(e,t){this.logger.info(e+" connected to me"),this.connected(e,t)},t.prototype.k5=function(e){this.w5.has(e)?(this.logger.info("Connection closed to "+e),this.w5.delete(e),this.U5(e)):this.logger.warn("TRYING TO REMOVE A PEER THAT IS NOT THERE: "+e)},t.prototype._5=function(){var e=this;c.hQ.nQ&&o.Framework.setInterval(function(){var t=o.Framework.time();e.w5.forEach(function(r,i){var n=t-r.zg();n>c.hQ.oQ&&(e.logger.debug("closing stale connection to "+i+" [unused for: "+n+"ms]"),e.disconnect(i))})},c.hQ.sQ)},t.prototype.stop=function(e){o.Framework.resolve(o.Framework.V.R).log(e).debug("STOPPING CONNECTIONS AND REMOVING LISTENERS"),this.B5(e)},t.prototype.H5=function(){},t.prototype.disconnect=function(e){this.w5.has(e)&&this.channelManager.disconnect(e)},t}(h.x5);p.$a="availableSendRate",p.eh="remoteAddress",p.th="localAddress",t.CJ=p},function(e,t,r){"use strict";var i=r(4),n=r(0),s=r(177),o=r(96),a=r(2),h=r(1),c=function(){function e(e,t,r){this.logger=e,this.b5=t,this.q5=r,this.loggerId="[ChannelManager] ",this.G5={iceServers:[{url:"stun:stun.hivestreaming.com:3478"}]},this.Ag=1,this.V5=null,this.j5={},this.Q5={}}return e.prototype.D5=function(e,t){var r=null;if(t in this.Q5){var n=i.defer();n.reject("OTHER ALREADY TRYING TO CONNECT"),r=n.Ss}else{this.q5.R5&&this.logger.info("Initiating connection to "+t);var s=this.K5(e,t);r=this.Y5(s,t).connect(t)}return r},e.prototype.W5=function(e){e.z5 in this.Q5&&(delete this.j5[e.label],delete this.Q5[e.z5]),e.open&&(this.q5.k5(e.z5),e.open=!1)},e.prototype.send=function(e,t){this.q5.R5&&this.logger.debug("DATA "+t.byteLength+" "+t);var r=this.Q5[e];return r&&r.channel?(r.channel.send(t),!0):(h.ErrorMonitor.ve().logError("Error sending message wihtout channel established",this.loggerId,a.hs.Ke.Ve,{otherGuid:e}),!1)},e.prototype.q0=function(e,t){var r=t.channel;if(r&&r.label&&this.j5[r.label]){var i=this.j5[r.label],n=i[e];n.call(i,t)}else{var s="handle_"+e,n=this[s];n?n.call(this,t):h.ErrorMonitor.ve().logError("Error received a message for a non existing function",this.loggerId,a.hs.Ke.je,{J5:s})}},e.prototype.handle_offer=function(e){if(this.q5.R5&&this.logger.info("received an offer from "+e.peer.guid+" on channel "+e.channel.label),this.Q5[e.peer.guid]&&e.peer<this.q5.gd)this.b5.X5(this.q5.gd,e.peer.guid,e.channel.label);else{var t=this.Y5(e.channel.label,e.peer.guid),r=this.Z5(t);t.offer(e,r)}},e.prototype.Z5=function(e){var t=this;return n.Framework.setTimeout(function(){h.ErrorMonitor.ve().logError("Error incoming connection timedout",t.loggerId,a.hs.Ke.Qe,{otherGuid:e.z5}),e.close()},o.hQ.aQ)},e.prototype.Y5=function(e,t){var r=new s.e9(this,this.q5,e,this.V5,this.G5,t);return this.j5[e]=r,this.Q5[t]=r,r},e.prototype.handle_offer_rejected=function(e){this.q5.R5&&this.logger.debug("remote peer rejected ",e);var t=this.Q5[e.t9];t&&t.close(),delete this.Q5[e.t9],delete this.j5[e.channel]},e.prototype.K5=function(e,t){return e.substring(0,Math.max(8,e.length))+":"+t.substring(0,Math.max(8,t.length))+":"+this.Ag++},e.prototype.disconnect=function(e){var t=this.Q5[e];t&&t.close()},e}();t.C5=c},function(e,t,r){"use strict";var i=r(5),n=r(2),s=(r(55),r(4)),o=r(0),a=r(1),h=function(){function e(e,t,r,i,s,h){var c=this;this.channelManager=e,this.q5=t,this.label=r,this.V5=i,this.G5=s,this.z5=h,this.R5=!1,this.loggerId="[Channel] ",this.r9=-1,this.SH=null,this.channel=null,this.i9=null,this.n9=5,this.timeout=5e3,this.open=!1,this.s9=!1,this.o9=new Array,this.a9=function(){return!!this.channel&&"connecting"===this.channel.readyState},this.logger=o.Framework.resolve(o.Framework.V.R).log(),this.pG=o.Framework.resolve(o.Framework.V.U),this.pG.init(this.q5.gd,h),this.SH=new RTCPeerConnection(this.G5,this.V5),this.SH.onicecandidate=function(e){e&&e.candidate&&(c.o9.push(e.candidate),c.h9())},this.SH.onnegotiationneeded=function(){c.createOffer().then(function(e){return c.c9(e)}).then(function(e){c.R5&&c.logger.debug(c.loggerId+"Sending offer to "+c.z5+" [candidates: "+c.o9.length+"]");var t=c.o9;c.o9=new Array;var r=c.channelManager.b5.offer(c.q5.gd,c.z5,c,t,e);return c.s9=!0,r}).catch(function(e){a.ErrorMonitor.ve().logError("Error negotiating with peer",c.loggerId,n.hs.Ge.ke,{detailedError:e,otherGuid:c.z5}),c.close()})},this.SH.oniceconnectionstatechange=function(e){"disconnected"===c.SH.iceConnectionState&&c.close(),"failed"===c.SH.iceConnectionState&&(a.ErrorMonitor.ve().logError("Error establishing ICE connection",c.loggerId,n.hs.Ge.ke,{otherGuid:c.z5}),c.close())},this.SH.onsignalingstatechange=function(e){"closed"===e.signalingState&&c.close()}}return e.prototype.u9=function(){var e=this;if(this.channel&&"open"!=this.channel.readyState){if(this.R5&&this.logger.debug(this.loggerId+"Check connection "+this.z5),this.n9<=0)return this.logger.debug(this.loggerId+"Closing channel since it couldnt be established to "+this.z5),void this.close();this.n9-=1,this.i9=o.Framework.setTimeout(function(){return e.u9()},this.timeout)}},e.prototype.close=function(){try{this.R5&&this.logger.debug(this.loggerId+"Closing connection to "+this.z5),this.l9(!0),this.channelManager.W5(this),this.SH&&"closed"!==this.SH.signalingState&&(this.SH.close(),this.channel&&this.channel.close())}catch(e){a.ErrorMonitor.ve().logError("Error closing the connection",this.loggerId,n.hs.Ge.qe,{detailedError:e,otherGuid:this.z5})}},e.prototype.connect=function(e){var t=this;this.R5&&this.logger.debug(this.loggerId+"Connecting to "+e),this.z5=e,this.channel=this.SH.createDataChannel(this.label);var r=this.p9(!0,-1);return this.i9=o.Framework.setTimeout(function(){return t.u9()},this.timeout),r},e.prototype.d9=function(e){var t=this,r=s.defer();return this.SH.setRemoteDescription(e,function(){return r.resolve("OK")},function(e){a.ErrorMonitor.ve().logError("Error setting remote description",t.loggerId,n.hs.Ge.Ne,{detailedError:e,otherGuid:t.z5}),r.reject(e)}),r.Ss},e.prototype.c9=function(e){var t=this,r=s.defer();return"closed"!==this.SH.signalingState?this.SH.setLocalDescription(e,function(){return r.resolve(t.SH.localDescription)},function(e){a.ErrorMonitor.ve().logError("Error setting local description",t.loggerId,n.hs.Ge.De,{detailedError:e,otherGuid:t.z5}),r.reject(e)}):(a.ErrorMonitor.ve().logError("Signaling state is closed",this.loggerId,n.hs.Ge.Ne),r.reject("Signaling state is closed")),r.Ss},e.prototype.createOffer=function(){var e=this,t=s.defer();return this.SH.createOffer(t.resolve,function(t){a.ErrorMonitor.ve().logError("Error creating offer",e.loggerId,n.hs.Ge.Ae,{detailedError:t,otherGuid:e.z5}),e.close()}),t.Ss},e.prototype.createAnswer=function(){var e=this,t=s.defer();return this.SH.createAnswer(t.resolve,function(r){a.ErrorMonitor.ve().logError("Error creating answer",e.loggerId,n.hs.Ge.Oe,{detailedError:r,otherGuid:e.z5}),t.reject(r)}),t.Ss},e.prototype.offer=function(e,t){var r=this;this.R5&&(this.logger.debug(this.loggerId+"Received an offer from "+this.z5),this.logger.debug(this.loggerId+"Offer:",e)),this.SH.ondatachannel=function(e){r.channel=e.channel,r.p9(!1,t)};var i=new RTCSessionDescription(e.channel.offer);this.z5=e.peer.guid,this.d9(i).then(function(t){if("closed"!==r.SH.signalingState)return r.update_ice_candidates(e),r.createAnswer()}).then(function(e){return r.c9(e)}).then(function(e){r.logger.debug(r.loggerId+"Sending back an answer [candidates: "+r.o9.length+"]");var t=r.o9;r.o9=new Array,r.channelManager.b5.answer(r,e,t,r.z5),r.s9=!0}).catch(function(e){a.ErrorMonitor.ve().logError("Error responding to offer",r.loggerId,n.hs.Ge.He,{detailedError:e,otherGuid:r.z5}),r.close()})},e.prototype.answer=function(e){var t=this;this.R5&&this.logger.debug(this.loggerId+"Answer: ",e);var r=new RTCSessionDescription(e.answer);this.d9(r).then(function(){"closed"!==t.SH.signalingState&&t.update_ice_candidates(e)}).catch(function(e){a.ErrorMonitor.ve().logError("Error setting remote descriptor for the answer received",t.logger,n.hs.Ge.Be,{detailedError:e,otherGuid:t.z5}),t.close()})},e.prototype.update_ice_candidates=function(e){var t=this;e.channel.ice_candidates.forEach(function(e){t.R5&&t.logger.debug(t.loggerId+"got ICE cand: ",e);var r=new RTCIceCandidate(e);t.SH.addIceCandidate(r,function(){},function(e){return a.ErrorMonitor.ve().logError("Error updating ice candidates",t.loggerId,n.hs.Ge.Ue,{detailedError:e,otherGuid:t.z5})})})},e.prototype.p9=function(e,t){var r=this,i=s.defer();return this.channel.onopen=function(n){return r.f9(i,e,t)},this.channel.onclose=function(e){r.close(),i.reject(r)},this.channel.onmessage=function(e){return r.pG.Gg(e.data)},this.channel.onerror=function(e){a.ErrorMonitor.ve().logError("Error setting up channel",r.loggerId,n.hs.Ge.Le,{detailedError:e,otherGuid:r.z5}),r.close()},i.Ss},e.prototype.f9=function(e,t,r){this.open=!0,e.resolve(this),t||(this.q5.F5(this.z5,this),r&&o.Framework.clearTimeout(r))},e.prototype.h9=function(){var e=this;this.s9&&-1==this.r9&&(this.r9=o.Framework.setTimeout(function(){e.g9(),e.l9(!1)},i.hh.ah.oh))},e.prototype.g9=function(){var e=this,t=this.o9;if(this.o9=new Array,t&&t.length>0){var r=t.length;this.channelManager.b5.E9(this.q5.gd,this,t,this.z5).then(function(t){e.R5&&e.logger.debug(e.loggerId+"sent "+r+" more candidates")}).catch(function(t){a.ErrorMonitor.ve().logError("Error sending candidates",e.loggerId,n.hs.Ge.Le,{detailedError:t,otherGuid:e.z5})})}},e.prototype.l9=function(e){e&&-1!=this.r9&&o.Framework.clearTimeout(this.r9),this.r9=-1},e}();t.e9=h},function(e,t,r){"use strict";var i=r(3),n=r(0),s=r(2),o=r(1),a=function(){function e(){this.jM="[Base Network Manager] ",this.vl=new i,this.logger=n.Framework.resolve(n.Framework.V.R).log()}return e.prototype.A5=function(e,t){this.logger.info("SET LISTENERS FOR "+e+","+t.length),this.vl.set(e,t)},e.prototype.B5=function(e){this.vl.delete(e)},e.prototype.v9=function(){this.vl.length>0&&this.vl.forEach(function(e,t){e.forEach(function(e){e.ej&&e.ej()})})},e.prototype.O5=function(e,t){var r=this;this.vl.length>0&&(t?this.vl.get(t).forEach(function(t){try{t.Ud&&t.Ud(e)}catch(e){o.ErrorMonitor.ve().logError("Error firing server connect when we have swarm",r.jM,s.hs.Pe.Re,e)}}):this.vl.forEach(function(t,i){t.forEach(function(t){try{t.Ud&&t.Ud(e)}catch(e){o.ErrorMonitor.ve().logError("Error firing server connect when we do not have swarm",r.jM,s.hs.Pe.we,e)}})}))},e.prototype.U5=function(e){this.vl.length>0&&this.vl.forEach(function(t,r){t.forEach(function(t){t.KG&&t.KG(e)})})},e}();t.x5=a},function(e,t,r){"use strict";var i=r(4),n=r(0),s=r(23),o=function(){function e(){this.Ag=1,this.client=n.Framework.resolve(n.Framework.V.G)}return e.prototype.init=function(e,t,r){this.q5=e,this.logger=t,this.channelManager=r},e.prototype.sY=function(){return this.client.zd().sY()},e.prototype.start=function(e,t){var r=this;this.logger.debug("MY ID "+t),this.gd=t,this.client&&this.client.zd()?this.client.zd().on(Services.fY,1,function(e){r.y9(e.msg)}):this.logger.error("error getting active services connection"),this.q5.O5(this.gd)},e.prototype.y9=function(e){var t=JSON.parse(e);this.q5.R5&&this.logger.debug("RCV MSG FROM SRV ",t),this.channelManager.q0(t.msgName,t.msg)},e.prototype.T9=function(e,t,r){var n=this.wrap(t,e,r);if(this.client&&this.client.zd()){var o=JSON.stringify(n);this.q5.R5&&this.logger.debug(" FORWARDING REQUEST : "+o);var a=new s.Jd(Services.fY,0,o);return this.client.zd().send(a)}return i.reject()},e.prototype.wrap=function(e,t,r){return{msgId:this.Ag++,destination:r,msg:e,msgName:t}},e.prototype.E9=function(e,t,r,i){var n={channel:{label:t.label,ice_candidates:r}};return this.T9("update_ice_candidates",n,i)},e.prototype.offer=function(e,t,r,i,s){var o={peer:{guid:e,first_seen:n.Framework.time()},channel:{label:r.label,ice_candidates:i,offer:s}};return this.T9("offer",o,r.z5)},e.prototype.X5=function(e,t,r){this.q5.R5&&this.logger.debug("Discovery service rejects offer from peer "+t+" on channel "+r);var i={t9:e,channel:r};return this.T9("answer",i,t)},e.prototype.answer=function(e,t,r,i){var n={answer:t,m9:this.q5.gd,channel:{label:e.label,ice_candidates:r}};return this.T9("answer",n,i)},e}();t._J=o},function(e,t,r){"use strict";var i=r(3),n=r(5),s=r(0),o=function(){function e(){this.rF=new i,this.I9=[],this.B6=new i,this.S9=new i}return e.prototype.init=function(e){this.logger=s.Framework.resolve(s.Framework.V.R).log(e.sessionId),this.ED=e.ED,this.R9()},e.prototype.R9=function(){var e=this;s.Framework.setInterval(function(){e.w9()},n.hh.ya.Ea)},e.prototype.w9=function(){var e=this;this.B6.values().filter(function(e){return s.Framework.time()-e.qf.Lf>n.hh.ya.va}).forEach(function(t){e.ED.abort(t.Kf),e.lF(t.Zf(),t.$f())})},e.prototype.uF=function(e){this.b9(e.Zf(),e.$f()),this.B6.set(e.$f(),e)},e.prototype.lF=function(e,t){this.B6.delete(t),this.C9(e,t)},e.prototype.fF=function(e){this._9(e)},e.prototype.pF=function(e){this.rF.delete(e)},e.prototype._9=function(e){if(this.rF.set(e.Zf(),e.Jf()),this.I9.push(e.Zf()),this.rF.length>n.hh.ya.ga){var t=this.I9[0];this.rF.delete(t),this.I9.splice(0,1)}},e.prototype.tF=function(e){return this.rF.has(e)},e.prototype.iF=function(e){return this.rF.get(e)},e.prototype.b9=function(e,t){if(this.S9.has(e))this.S9.get(e).push(t);else{var r=[];r.push(t),this.S9.set(e,r)}},e.prototype.C9=function(e,t){if(this.S9.has(e)){var r=this.S9.get(e),i=r.indexOf(t);-1==i?this.logger.warn("I CANNOT FIND THE REQUEST ID "+t):r.splice(i,1),0==r.length&&this.S9.delete(e)}else this.logger.warn("TRIED TO REMOVE AN OBJECT THAT DOES NOT EXIST")},e.prototype.oF=function(e){var t=[];if(this.P9(e))for(var r=this.S9.get(e),i=0;i<r.length;i++)this.B6.has(r[i])&&t.push(this.B6.get(r[i]));return t},e.prototype.P9=function(e){return this.S9.has(e)},e.prototype.EF=function(){return 0!=this.B6.length},e.prototype.sF=function(e){return this.S9.has(e)},e}();t.ya=o},function(e,t,r){"use strict";var i=r(3),n=r(5),s=r(28),o=s.cg,a=function(){function e(){this.udpScore=0,this.A9=0,this.watchingBitrate=-1,this.O9=!1,this.N9=!1,this.D9=!1,this.k9=!1,this.L9=new i}return e.prototype.setId=function(e){this.M9=e},e.prototype.getId=function(){return this.M9},e.prototype.ZJ=function(e){this.udpScore=e},e.prototype.QG=function(){return this.udpScore},e.prototype.$J=function(e){this.A9=e},e.prototype.L1=function(){return this.A9},e.prototype.setContextId=function(e){var t=o.oT(e+"_"+n.hh.Ho.Do).toString(o.Uy.By);this.contextId=t},e.prototype.getContextId=function(){return this.contextId},e.prototype.kG=function(e){this.O9=e},e.prototype.ck=function(){return this.O9},e.prototype.YG=function(e){this.D9=e},e.prototype.yk=function(){return this.D9},e.prototype.Hj=function(e){this.k9=e},e.prototype.mk=function(){return this.k9},e.prototype.U1=function(e){this.F9=e},e.prototype.gk=function(){return this.F9},e.prototype.B1=function(e){this.U9=e},e.prototype.Fj=function(){return this.U9},e.prototype.DG=function(e){this.B9=e},e.prototype.Rk=function(){return this.B9},e.prototype.H9=function(e){this.N9=e},e.prototype.Tk=function(){return this.N9},e.prototype.FX=function(e){this.watchingBitrate=e},e.prototype.MX=function(){return this.watchingBitrate},e.prototype.FG=function(e){this.nG=e},e.prototype.Ik=function(){return this.nG},e.prototype.DH=function(e){this.privateIp=e},e.prototype.getPrivateIp=function(){return this.privateIp},e.prototype._H=function(e){this.publicIp=e},e.prototype.getPublicIp=function(){return this.publicIp},e.prototype.setReportingGuid=function(e){this.reportingGuid=e},e.prototype.getReportingGuid=function(){return this.reportingGuid},e.prototype.setDelta=function(e){this.delta=e},e.prototype.getDelta=function(){return this.delta},e.prototype.FD=function(e,t){this.L9.set(e,t)},e.prototype.kD=function(e){this.L9.delete(e)},e.prototype.Uj=function(){return this.L9},e.prototype.hB=function(){return this.Tk()?this.L9.keys():[]},e.prototype.cB=function(){return this.Tk()?[]:this.L9.keys()},e.prototype.XJ=function(e){this.ticket=e},e.prototype.Sk=function(){return this.ticket},e.prototype.WJ=function(e){this.mX=e},e.prototype.x8=function(){return this.mX},e}();t.HJ=a},function(e,t,r){"use strict";var i=this&&this.hu||function(e,t){function r(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=r(10),s=r(183),o=r(2),a=r(1),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.e5=function(t,r){var i=[],s=[],h=[];try{var c=this.yD.gk();return t.forEach(function(e){e.Ek.peerInfo.type==n.Tc.W&&i.push(e);var t=e.Ek.peerInfo.internalAs;0!=c&&t&&c==t&&s.push(e),e.Ek.peerInfo.type==n.Tc.yc&&h.push(e)}),i.length>0?e.prototype.e5.call(this,i,r):s.length>0?e.prototype.e5.call(this,s,r):e.prototype.e5.call(this,h,r)}catch(e){return a.ErrorMonitor.ve().logError("Error choosing partner for p2p",this.loggerId,o.hs.ji.Vi,e),null}},t}(s.x9);t.UJ=h},function(e,t,r){"use strict";var i=r(0),n=r(5),s=r(1),o=r(2),a=function(){function e(){this.loggerId="[PickerTRSingle] ",this.logger=i.Framework.resolve(i.Framework.V.R).log()}return e.prototype.X8=function(e){this.yD=e},e.prototype.e5=function(e,t){var r=this.q9(e);return r?r[0]:null},e.prototype.G9=function(e,t){return n.hh.Fa.La*(e.k8()/t)+n.hh.Fa.Ma*(1-e.M8())},e.prototype.q9=function(e){var t=this;try{var r=.1;r+=e.map(function(e){return e.k8()}).reduce(function(e,t){return e+t});var i=e.sort(function(e,i){return t.G9(i,r)-t.G9(e,r)}),n=[];return i.forEach(function(e){n.push(e.guid+":"+t.G9(e,r))}),this.logger.debug("SC ["+n.join(", ")+"]"),i}catch(e){return s.ErrorMonitor.ve().logError("Error sorting the partners",this.loggerId,o.hs.Gi.qi,e),null}},e}();t.x9=a},function(e,t,r){"use strict";var i=r(49),n=r(3),s=r(59),o=r(7),a=r(5),h=r(0),c=r(47),u=r(91),l=r(6),p=l.he.Th,d=function(){function e(){this.V9=!1}return e.prototype.init=function(e){this.logger=h.Framework.resolve(h.Framework.V.R).log(e.sessionId),this.yD=e.yD,this.GJ=e.GJ,this.oG=e.oG,this.zM=e.zM},e.prototype.RD=function(e){this.wD=e},e.prototype.G1=function(){this.V9=!0,this.cX()},e.prototype.LG=function(){if(a.hh.fa.na)return void this.j9();var e=!this.yD.yk()||this.yD.ck()||!p;this.logger.debug("REQUEST REMOTE ELECTION "+e),e?this.j9():this.Q9()},e.prototype.j9=function(){var e=this.yD.gk(),t=e&&0!=e?u.Xq.nD:u.Xq.AS;this.GJ.F1(t)},e.prototype.Q9=function(){this.GJ.F1(u.Xq.Jq)},e.prototype.cX=function(){var e=this;this.rX(),this.K9=h.Framework.setInterval(function(){e.LG()},a.hh.fa.oa),this.zM.SD(),this.LG()},e.prototype.rX=function(){this.K9&&h.Framework.clearInterval(this.K9)},e.prototype.iX=function(){this.zM.ek(),this.wD.LM()},e.prototype.MG=function(e){var t=new n;if(e){this.Y9().forEach(function(e){t.set(e,i.sD.iD)});var r=!1,s=i.sD.iD;this.yD.Tk()&&(s=i.sD.nD,r=!0),this.zM._D(t,s,r)}else this.zM._D(t,i.sD.mc,!1)},e.prototype.H1=function(e,t){var r=this,h=this.W9(t),c=this.zM.CD().isLive();if(e&&e.length>0){var u=new s;u.addEach(e);var l=a.hh.fa.ea||u.some(function(e){var t=o.rc.Zh(hive.services.protocol.IF.SF,e.key.rankType);return r.logger.info("GOT RANKING "+t+",CRV "+e.cumulatedRankValue+",RV "+e.ranking+",GS "+e.groupSize),r.z9(e)}),p=null!=h&&0!=h.length;if(this.logger.debug("Tracker reports ["+h.keys().join(", ")+"]  bitrates"),this.logger.debug("ISLive "+c+" DoElect "+l),a.hh.fa.$o&&c){var d=this.Y9();if(p&&l){this.yD.H9(!0),this.logger.info("BECOMING SITE LEADER");var f=new n;d.forEach(function(e){f.set(e,i.sD.iD)}),h.forEach(function(e,t){r.oG.kj.has(e)||f.set(t,i.sD.nD)}),this.zM._D(f,i.sD.nD,!1)}else{this.yD.H9(!1);var g=i.sD.mc,E=new n;this.yD.yk()&&this.yD.ck()&&(g=i.sD.iD,d.forEach(function(e){E.set(e,i.sD.iD)})),this.zM._D(E,g,!1)}}}else if(c){a.hh.fa.ea?this.yD.H9(!0):this.yD.H9(!1);var v=new n,g=i.sD.mc;if(this.yD.yk()&&this.yD.ck()){var y=this.Y9();y.forEach(function(e){v.set(e,i.sD.iD)}),g=i.sD.iD}a.hh.fa.ea&&(g=i.sD.nD),this.zM._D(v,g,!1)}},e.prototype.Jj=function(){var e=this.Y9(),t=new n;e.forEach(function(e){t.set(e,i.sD.iD)});var r=!1,s=i.sD.iD;this.yD.Tk()&&(s=i.sD.nD,r=!0),this.zM._D(t,s,r)},e.prototype.Y9=function(){var e=new s;return this.oG.kj.forEach(function(t,r){t.peerInfo.watchingBitrate&&!e.has(t.peerInfo.watchingBitrate)&&e.add(t.peerInfo.watchingBitrate)}),e.toArray()},e.prototype.W9=function(e){var t=new n,r=this.yD.gk();return e.forEach(function(e){null!=e.watchingBitrate&&(r>0?r===e.internalAs&&t.set(e.watchingBitrate,e.guid):t.set(e.watchingBitrate,e.guid))}),t},e.prototype.z9=function(e){if(e.groupSize<2)return!1;var t=Math.max(1,Math.round(e.groupSize*a.hh.fa.ra));return p||h.Framework.C()&&c.$N.XN?e.ranking<t&&(this.yD.ck()||!this.yD.yk()):e.ranking<t},e.prototype.ZD=function(e,t,r,n){var s=1,o=this.wD.lk(r,t),c=a.hh.fa.ha*h.Framework.random();if(e==i.sD.iD){var u=this.wD.xM(),l=u-c;s=Math.max(1,o-l)}else if(e==i.sD.nD){var p=a.hh.fa.ca-c;s=Math.max(1,o-p)+n}return s=Math.round(s)},e}();t.BJ=d},function(e,t,r){"use strict";var i=r(0),n=r(3),s=r(23),o=r(33),a=r(1),h=r(2);r(60);var c=function(){function e(){this.J9=!1,this.loggerId="[TRACKER] ",this.X9=new n,this.yg=new o.Yb,this.protocol=new o.bC(this.yg),this.logger=i.Framework.resolve(i.Framework.V.R).log(),i.Framework.C()||(this.client=i.Framework.resolve(i.Framework.V.G))}return e.prototype.m1=function(e,t){try{return this.logger.debug("TRACKER CLIENT REGISTERED "+e),this.X9.has(e)||this.X9.set(e,t),this.X9.get(e)}catch(e){a.ErrorMonitor.ve().logError("Error adding new tracker client",this.loggerId,h.hs.xi.Mi,e)}},e.prototype.Rg=function(e){this.X9.delete(e)},e.prototype.wg=function(e){return this.X9.get(e)},e.prototype.M1=function(e){var t=this;if(this.client&&this.client.zd()){var r=this.Z9(e),i=new s.Jd(Services.pY,1,r),n=this.client.zd().send(i);n.then(function(){return t.logger.info("TRACKER REQUEST SENT")}),n.fail(function(e){a.ErrorMonitor.ve().logError("Error sending tracker request",t.loggerId,h.hs.xi.Di)})}else a.ErrorMonitor.ve().logError("Error sending tracker request because of connection",this.loggerId,h.hs.xi.Bi)},e.prototype.init=function(){var e=this;this.logger.debug("TRACKER MANAGER INIT"),this.client&&this.client.zd()?this.client.zd().on(Services.pY,10,function(t){try{var r=e.e7(t.msg);if(r&&e.X9.has(r.sessionId)){e.X9.get(r.sessionId).KX(r)}else e.logger.warn("SESSION ID NOT VALID OR NULL "+r.sessionId)}catch(t){a.ErrorMonitor.ve().logError("Error initializing the tracker manager",e.loggerId,h.hs.xi.Hi,t)}}):i.Framework.C()||this.logger.warn(this.loggerId+" CANNOT GET ACTIVE CONNECTION")},e.prototype.e7=function(e){try{var t='[1, "TRACKER_RESP", 4, 0,'+e+"]";this.yg.eC(t);var r=(this.protocol.zC(),new hive.services.protocol.IF.TrackerResponse);return r.read(this.protocol),r.infos.map(function(e){e.guid=atob(e.guid),e.publicIp=new InetAddress,e.publicIp.address=e.publicIpString,e.privateIp=new InetAddress,e.privateIp.address=e.privateIpString}),r.peerInfo.guid=atob(r.peerInfo.guid),r.peerInfo.publicIp=new InetAddress,r.peerInfo.publicIp.address=r.peerInfo.publicIpString,r.peerInfo.privateIp=new InetAddress,r.peerInfo.privateIp.address=r.peerInfo.privateIpString,this.protocol.t_(),this.J9&&this.logger.debug("RESP "+JSON.stringify(r)),r}catch(e){return a.ErrorMonitor.ve().logError("Error deserializing the tracker response",this.loggerId,h.hs.xi.Ui,e),null}},e.prototype.Z9=function(e){try{this.protocol.AC("TRACKER_REQ",o.gb.ONEWAY,0),e.write(this.protocol),this.protocol.DC();var t=this.yg.pC(),r=this.FB(t,",",4);return t.slice(r+1,t.length-1)}catch(e){throw a.ErrorMonitor.ve().logError("Error serializing the new request",this.loggerId,h.hs.xi.Fi,e),new Error(e)}},e.prototype.FB=function(e,t,r){return e.split(t,r).join(t).length},e}();t.wJ=c},function(e,t,r){"use strict";var i=r(26),n=i.HiveComm.$g,s=i.HiveComm.eE,o=function(){function e(){}return e.prototype.init=function(e,t){this.peer=e,this.rl=t},e.prototype.t7=function(e){e.uuid=this.rl.Ul.gd;var t=this.rl.Ul.iB.KU,r=this.r7(t.p2pSubRespQt),i=this.r7(t.srcRespQt);e.cdnRequests+=this.r7(t.srcReqN),e.cdnResponses+=this.r7(t.srcRespN),e.cdnResponseErrors+=this.r7(t.srcRespErrN),e.cdnResponseBytes+=this.r7(t.srcRespQt),e.p2pRequests+=this.r7(t.p2pSubReqN),e.p2pResponses+=this.r7(t.p2pSubRespN),e.p2pResponseErrors+=this.r7(t.p2pSubRespErrN),e.p2pResponseBytes+=this.r7(t.p2pSubRespQt),e.savings=this.r7(r/(i+r)*100)},e.prototype.r7=function(e){return e||0},e.prototype.i7=function(e){var t=this;e.uuid=this.rl.Ul.gd,this.rl.Ul.iB.WU.forEach(function(r,i){e.partners[i]||(e.partners[i]=new s);var n=e.partners[i];n.uuid=i,n.sentBytes+=t.r7(r.p2pSuccSent),n.receivedBytes+=t.r7(r.p2pSuccReceived),n.successTransfers+=t.r7(r.p2pSuccReq),n.failedTransfers+=t.r7(r.p2pFailReq)})},e.prototype.render=function(){var e=this.rl.renderStatsCallback;if(e){var t=new n;this.t7(t),this.i7(t);try{e(t)}catch(e){console.warn("error in rendering local stats",e)}}},e}();t.mJ=o},function(e,t,r){"use strict";var i=r(35),n=r(3),s=r(0),o=r(5),a=r(1),h=r(2),c=function(){function e(){this.loggerId="[ChunkHandler] ",this.n7=new n,this.s7=new n}return e.prototype.init=function(e){this.logger=s.Framework.resolve(s.Framework.V.R).log(e.sessionId)},e.prototype.YX=function(e){try{var t=e.Zf(),r=e.jf,n=e.qf.Pf,c=Math.ceil(n/o.hh.Fa.Da),u=e.zf.bitrate,l=0,p=Math.min(o.hh.Fa.Da,n);this.o7(t,u);for(var d=p-l;c>0;){var f=null;try{s.Framework.C()||(f=i.wrap(r.slice(l,p))),l+=d}catch(e){a.ErrorMonitor.ve().logError("Error wrapping chunk",this.loggerId,h.hs.Or.Pr,e)}this.n7.get(t).push(f),c--,p=Math.min(l+o.hh.Fa.Da,n),d=p-l}}catch(e){a.ErrorMonitor.ve().logError("Error adding fragment to the fragmentMap",this.loggerId,h.hs.Or.Cr,e)}},e.prototype.o7=function(e,t){try{if(this.s7.has(t)&&this.s7.get(t).length>o.hh.Ra.Sa){var r=this.s7.get(t)[0];this.n7.delete(r),this.s7.get(t).shift()}if(this.s7.has(t))this.s7.get(t).push(e),this.n7.set(e,[]);else{var i=[e];this.s7.set(t,i),this.n7.set(e,[])}}catch(e){a.ErrorMonitor.ve().logError("Error generating the chunk handler hashmaps",this.loggerId,h.hs.Or.Ar,e)}},e.prototype.l8=function(e,t){return this.n7.has(e)?this.n7.get(e)[t]:null},e.prototype.a7=function(e){return this.s7.get(e)},e.prototype.oX=function(){this.n7=new n,this.s7=new n},e}();t.PJ=c},function(e,t,r){"use strict";var i=r(3),n=r(5),s=r(0),o=r(2),a=r(1),h=r(28),c=(h.cg,function(){function e(){this.loggerId="[IPSpoofing] ",this.h7=n.hh.Vo.xo}return e.prototype.init=function(e){this.logger=s.Framework.resolve(s.Framework.V.R).log(e.sessionId),this.TD=e.TD,this.c7=new i,this.u7=new i,this.h7&&this.l7()},e.prototype.fj=function(e,t,r){try{if(!this.h7)return!1;if(this.c7.has(e)||!t||!r)return!1;var i=this.p7(t,r);if(i&&this.u7.has(i)){if(this.u7.get(i).length>=n.hh.Vo.qo)return a.ErrorMonitor.ve().logError("Error peer violates ip spoofing rules",this.loggerId,o.hs.bn.Sn,{privateIp:t,publicIp:r,otherGuid:e}),this.logger.debug(this.loggerId+"Spoofing rule violated for "+e+" with privateIp "+t+" publicIp "+r),!0}return!1}catch(t){return a.ErrorMonitor.ve().logError("Error checking if peer violates ip spoofing rules",this.loggerId,o.hs.bn.In,{detailedError:t,otherGuid:e}),!1}},e.prototype.Tj=function(e,t,r){try{if(this.h7&&r&&t){var i=this.p7(t,r),n=this.c7.get(e);n&&n!=i&&this.d7(e,n),this.f7(e,i)}}catch(t){a.ErrorMonitor.ve().logError("Error adding or updating ip spoofing maps",this.loggerId,o.hs.bn.Rn,{detailedError:t,otherGuid:e})}},e.prototype.g7=function(e){this.h7&&this.Gj(e)},e.prototype.KG=function(e){this.h7&&this.Gj(e)},e.prototype.f7=function(e,t){this.c7.set(e,t);var r=[];this.u7.has(t)&&(r=this.u7.get(t),-1!=r.indexOf(e))||(r.push(e),this.u7.set(t,r))},e.prototype.Gj=function(e){var t=this.c7.get(e);t?(this.d7(e,t),this.c7.delete(e)):this.logger.warn(this.loggerId+"no ip pair for guid "+e)},e.prototype.d7=function(e,t){var r=this.u7.get(t),i=r.indexOf(e);-1!=i?(r.splice(i,1),0==r.length?this.u7.delete(t):this.u7.set(e,r)):this.logger.warn(this.loggerId+"pair list "+t+" does not contain guid "+e)},e.prototype.p7=function(e,t){return t+":"+e},e.prototype.l7=function(){var e=this;s.Framework.setInterval(function(){try{var t=[];e.u7.forEach(function(r,i){if(r.length>n.hh.Vo.qo){for(var s=[],o=n.hh.Vo.qo;o<r.length;o++)s.push(r[o]);e.logger.warn("IpSpoofing violation for "+i+" - closing: "+s),t.concat(s)}}),t.forEach(function(t){e.TD.bj(t)})}catch(t){a.ErrorMonitor.ve().logError("Error checking periodic ip spoofing tables",e.loggerId,o.hs.bn.wn,t)}},n.hh.Vo.Go)},e}());t.Vo=c},function(e,t,r){"use strict";var i=this&&this.hu||function(e,t){function r(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=r(190),s=r(5),o=r(98),a=r(0),h=r(2),c=r(1),u=function(e){function t(){var t=e.call(this)||this;return t.E7="[Score Partner Selection] ",t.type="Score",t}return i(t,e),t.prototype.v7=function(e,t){try{return t.sort(o.EQ.dQ),t.slice(0,e)}catch(e){return c.ErrorMonitor.ve().logError("Error selecting partners to remove",this.E7,h.hs.vr.pr,e),[]}},t.prototype.y7=function(e,t,r,i){try{return i.filter(function(e){return t.every(function(t){return t.guid!=e.peerInfo.guid})&&-1==r.indexOf(e.peerInfo.guid)}).slice(0,e)}catch(e){return c.ErrorMonitor.ve().logError("Error selecting partners to add",this.E7,h.hs.vr.dr,e),[]}},t}(n.T7);t.OJ=u;var l=function(){function e(){this.E7="[Score Partner Selection] "}return e.prototype.Nj=function(e){try{var t=e.filter(function(e){return!e.wj.yg.Dg()}),r=a.Framework.time(),i=t.filter(function(e){return r-e.y8>s.hh.Ho.Bo});return i.length>0?(i.sort(o.yQ.dQ),i.slice(0,1)[0]):null}catch(e){return c.ErrorMonitor.ve().logError("Error updating partners out",this.E7,h.hs.vr.gr,e),null}},e}();t.NJ=l},function(e,t,r){"use strict";var i=r(97),n=r(5),s=r(0),o=r(1),a=r(2),h=function(){function e(){this.jM="[BaseInPartnerSelection] ",this.logger=s.Framework.resolve(s.Framework.V.R).log()}return e.prototype.uj=function(e,t,r,h){try{var c=[],u=[],l=Math.round(e*(1-n.hh.No.Ao)),p=Math.max(t.length-l,0),d=e-t.length+p;if(p>0){var f=t.filter(function(e){return!e.wj.yg.Dg()}),g=s.Framework.time(),E=f.filter(function(e){return g-e.y8>n.hh.Ho.Bo}),v=Math.min(E.length,p);u=this.v7(v,E);var y=[],T=[];u.forEach(function(e){y.push(e.guid),T.push(e.gQ.fQ(!1))})}return d>0&&(c=this.y7(d,t,r,h)),this.logger.debug("[PART] A/R: "+d+"/"+p+" ["+c.map(function(e){return e.peerInfo.guid.substring(0,8)})+"/"+u.map(function(e){return e.guid.substring(0,8)})+"] P:["+t.map(function(e){return e.guid.substring(0,8)})+"] M:["+h.map(function(e){return e.peerInfo.guid.substring(0,8)})+"]"),new i.pQ(c,u)}catch(e){return o.ErrorMonitor.ve().logError("Error updating in partners",this.jM,a.hs.lr.ur,e),new i.pQ([],[])}},e}();t.T7=h},function(e,t,r){"use strict";var i=r(3),n=r(97),s=r(5),o=r(0),a=r(7),h=r(98),c=r(2),u=r(1),l=function(){function e(){this.m7="[Delta Partner Selection] "}return e.prototype.uj=function(e,t,r,i,a){try{this.yD=e;var h=[],l=[],p=Math.round(t*(1-s.hh.No.Ao)),d=Math.max(r.length-p,0),f=t-r.length+d;if(d>0){var g=r.filter(function(e){return!e.wj.yg.Dg()}),E=o.Framework.time(),v=g.filter(function(e){return E-e.y8>s.hh.Ho.Bo}),y=Math.min(v.length,d);l=this.v7(y,v),l.length>y&&(f+=l.length-y);var T=[],m=[];l.forEach(function(e){T.push(e.guid),m.push(e.gQ.fQ(!1))})}return f>0&&(h=this.y7(f,r,i,a)),new n.pQ(h,l)}catch(e){return u.ErrorMonitor.ve().logError("Error updating in partners",this.m7,c.hs.Rr.ur,e),new n.pQ([],[])}},e.prototype.v7=function(e,t){var r=this;try{t.sort(h.EQ.dQ);var i=t.slice(0,e);return t.slice(e,t.length).forEach(function(e){r.I7(e.Ek)&&i.push(e)}),i}catch(e){return u.ErrorMonitor.ve().logError("Error selecting partners to remove",this.m7,c.hs.Rr.pr,e),[]}},e.prototype.y7=function(e,t,r,i){var n=this;try{var o=[],a=[],h=[],l=[],p=[],d=this.yD.gk();d||(d=-1);var f=[];t.forEach(function(e){f.push(e.guid)});var g=Math.floor(e*s.hh.Ho.Mo),E=this.yD.Uj();i.forEach(function(e){var t=e.peerInfo.streams;if(t){var r=n.isLeader(e,t,d,E);r.cG?r.S7?o.push(e):a.push(e):n.R7(e,s.hh.Ho.Lo)?n.I7(e)?p.push(e):l.push(e):h.push(e)}else p.push(e)});var v=this.w7(o,a,h,l,p,e,e,g);return v.slice(0,Math.min(v.length,e))}catch(e){return u.ErrorMonitor.ve().logError("Error selecting partners to add",this.m7,c.hs.Rr.dr,e),[]}},e.prototype.w7=function(e,t,r,i,n,h,l,p){try{var d=[],f=[];e.length>0&&o.Framework.random()<s.hh.Ho.Fo&&(e=a.rc.zh(e),f=e.slice(0,Math.min(e.length,p)),d.push.apply(d,f),l=h-f.length);var g=[];t.length>0&&(t=a.rc.zh(t),g=t.slice(0,Math.min(t.length,p)),d.push.apply(d,g),l=h-g.length);var E=[];r.length>0&&(r=a.rc.zh(r),E=r.slice(0,Math.min(r.length,p)),d.push.apply(d,E),l=h-E.length);var v=null;if(i.length>0){i=a.rc.zh(i),v=i.slice(0,Math.min(i.length,l));l=h-((E.length>0?E.length:0)-v.length)}var y=[];return l>0&&n.length>0&&(n=a.rc.zh(n),y=n.slice(0,Math.min(n.length,l)),d.push.apply(d,y)),d}catch(e){return u.ErrorMonitor.ve().logError("Error grouping partners",this.m7,c.hs.Rr.yr,e),[]}},e.prototype.isLeader=function(e,t,r,n){try{var s=!1,o=!1,a=new i;t.forEach(function(e){a.set(e.bitrate,e)});var h=new i;return a.forEach(function(e,t){n.has(t)&&h.set(t,e)}),h.keys().length>0&&h.forEach(function(t,i){var a=n.get(i);if(a&&t.state>=2&&a.type>=1){var h=e.peerInfo.internalAs;h>0&&h==r&&(o=!0),s=!0}}),{cG:s,S7:o}}catch(t){return u.ErrorMonitor.ve().logError("Error identifying if member is leader or same site",this.m7,c.hs.Rr.Tr,{detailedError:t,otherGuid:e.peerInfo.guid}),{cG:!1,S7:!1}}},e.prototype.R7=function(e,t){try{var r=this.yD.getDelta(),i=this.yD.MX(),n=this.b7(e,i);return(0!=r||0!=n)&&(r<n&&r>n+t)}catch(t){return u.ErrorMonitor.ve().logError("Error identifying if member is ahead or behind delta",this.m7,c.hs.Rr.mr,{detailedError:t,otherGuid:e.peerInfo.guid}),!1}},e.prototype.I7=function(e){try{var t=this.yD.getDelta(),r=this.yD.MX(),i=this.b7(e,r);return 0==t&&0==i||t>i}catch(t){return u.ErrorMonitor.ve().logError("Error identifying if member is behind or not retrieveing the same bitrate",this.m7,c.hs.Rr.Ir,{detailedError:t,otherGuid:e.peerInfo.guid}),!1}},e.prototype.b7=function(e,t){try{var r=e.peerInfo.streams,i=0;return r&&r.forEach(function(e){e.bitrate==t&&(i=e.delta)}),i}catch(t){return u.ErrorMonitor.ve().logError("Error retrieving delta for member's bitrate",this.m7,c.hs.Rr.Sr,{detailedError:t,otherGuid:e.peerInfo.guid}),0}},e}();t.DJ=l;var p=function(){function e(){this.loggerId="[Throughput Partner Selection] ",this.logger=o.Framework.resolve(o.Framework.V.R).log()}return e.prototype.Nj=function(e,t,r){var n=this;try{this.yD=e;var a=this.yD.Uj(),h=t.streams;if(h){var l=r.filter(function(e){return!e.wj.yg.Dg()}),p=o.Framework.time(),d=l.filter(function(e){return p-e.y8>s.hh.Ho.Bo});if(0==h.filter(function(e){return a.has(e.bitrate)}).length)return null;var f=this.C7(d),g=this._7(a,f);if(g)return g;var E=a.keys().length,v=d.length,y=Math.round(v/E),T=f.keys().filter(function(e){return a.has(e)}),m=new i;T.forEach(function(e){m.set(e,f.get(e))});var I=this.P7(m,y);return null!=I?I:(h.forEach(function(e){var t=m.get(e.bitrate);if(null!=t){var r=n.A7(t);if(r.length>0&&!s.hh.Ho.Uo)return r[0]}}),null)}return null}catch(e){return u.ErrorMonitor.ve().logError("Error selecting partner to update out",this.loggerId,c.hs.br.wr,e),null}},e.prototype.C7=function(e){var t=new i;return e.forEach(function(e){var r=e.Ek.peerInfo.watchingBitrate;if(r||(r=-1),t.has(r)){var i=t.get(r);i.push(e),t.set(r,i)}else t.set(r,[e])}),t},e.prototype.A7=function(e){return e.filter(function(e){if(0==e.vQ.I5(s.hh.Oa.Aa))return e})},e.prototype.P7=function(e,t){var r=[];e.forEach(function(e,t){r.push({bitrate:t,O7:e.length})}),r.sort(function(e,t){return e.O7>t.O7?1:e.O7<t.O7?0:-1});var i=null;return r.forEach(function(r){if(e.get(r.bitrate).length>t){var n=e.get(r.bitrate);n.length>0&&(n.sort(h.yQ.dQ),i=n[0])}}),i},e.prototype._7=function(e,t){var r=this,i=null;if(t.has(-1))i=t.get(-1)[0];else{t.filter(function(t,r){return!e.has(r)}).forEach(function(e,t){var n=r.A7(e);if(n.length>0)return void(i=n[0])})}return i},e}();t.kJ=p},function(e,t,r){"use strict";var i=r(0),n=r(9),s=r(34),o=r(24),a=r(10),h=r(14),c=r(5),u=function(){function e(){this.N7=!0===h.HiveConfig.Stats.AudioAccounting,this.D7=null}return e.prototype.init=function(e){this.logger=i.Framework.resolve(i.Framework.V.R).log(e.sessionId),this.loggerId="S["+e.sessionId+"]",this.Ul=e.rl.Ul,this.yD=e.yD,this.pX()},e.prototype.Z1=function(e){this.Ul.FL.metrics.memN=e,this.Ul.iB.metrics.memN=e},e.prototype.vj=function(e,t){this.Ul.FL.metrics.lookupTotal++,this.Ul.iB.metrics.lookupTotal++,e?(this.Ul.FL.metrics.lookupNotFound++,this.Ul.iB.metrics.lookupNotFound++,this.Ul.FL.metrics.lookupFailed++,this.Ul.iB.metrics.lookupFailed++):t?(this.Ul.FL.metrics.lookupFailed++,this.Ul.iB.metrics.lookupFailed++):(this.Ul.FL.metrics.lookupReqEstablished++,this.Ul.iB.metrics.lookupReqEstablished++)},e.prototype.Mj=function(){this.Ul.FL.metrics.lookupReqAccept++,this.Ul.iB.metrics.lookupReqAccept++},e.prototype.S8=function(e,t,r,i,n){if(this.N7||i){var s=n==o.bf.wf,a=this.Ul.OB(e),h=this.Ul.AB(e);a.p2pSuccReq++,a.p2pSuccReceived+=t,h.p2pSuccReq++,h.p2pSuccReceived+=t,s&&(a.p2pSuccReceivedLow+=t,h.p2pSuccReceivedLow+=t),r>0&&!s&&(a.p2pSuccReceivedLow+=t,h.p2pSuccReceivedLow+=t)}},e.prototype.b8=function(e,t,r,i,n,s){if(this.N7||n){var a=s==o.bf.wf,h=this.Ul.OB(e),c=this.Ul.AB(e);h.p2pFailReq++,h.p2pSuccReceived+=t,h.p2pFailReceived+=i-t,c.p2pSuccReq++,c.p2pSuccReceived+=t,c.p2pFailReceived+=i-t,a&&(h.p2pSuccReceivedLow+=t,c.p2pSuccReceivedLow+=t),r>0&&!a&&(h.p2pSuccReceivedLow+=t,c.p2pSuccReceivedLow+=t)}},e.prototype.C8=function(e,t,r){if(this.N7||r){var i=this.Ul.OB(e),n=this.Ul.AB(e);i.p2pFailReq++,i.p2pFailReceived+=t,n.p2pFailReq++,n.p2pFailReceived+=t}},e.prototype.P8=function(e,t,r){if(this.N7||r){var i=this.Ul.OB(t),n=this.Ul.AB(t);i.p2pSuccResp++,i.p2pSuccSent+=e,n.p2pSuccResp++,n.p2pSuccSent+=e}},e.prototype.D8=function(e,t,r,i){if(this.N7||i){var n=this.Ul.OB(r),s=this.Ul.AB(r);n.p2pPartResp++,n.p2pSuccSent+=e,n.p2pFailSent+=t-e,s.p2pPartResp++,s.p2pSuccSent+=e,s.p2pFailSent+=t-e}},e.prototype.O8=function(e,t,r){if(this.N7||r){var i=this.Ul.OB(t),n=this.Ul.AB(t);i.p2pFailResp++,i.p2pFailSent+=e,n.p2pFailResp++,n.p2pFailSent+=e}},e.prototype.ZM=function(e){e?this.Ul.FL.metrics.bitrateUpN++:this.Ul.FL.metrics.bitrateDwnN++},e.prototype.NX=function(e){if(-1==[n.vc.gc,n.vc.Ec].indexOf(e.Xf())){var t=e.Xf()!=n.vc.dc;if((this.N7||t)&&(this.Ul.bB().reqN++,this.Ul.xL().reqN++,e.Xf()==n.vc.fc)){var r=e;if(r.bitrate){var i=r.bitrate;this.Ul.CB(i).reqN++,this.Ul.BL(i).reqN++}}}else this.Ul.bB().reqOtherN++,this.Ul.xL().reqOtherN++},e.prototype.$X=function(e){var t=e.Xf()!=n.vc.dc;if(this.N7||t){var r=this.Ul.bB(),i=this.Ul.xL(),s=null,a=null;if(-1==[n.vc.gc,n.vc.Ec].indexOf(e.Xf())){if(r.srcReqN++,i.srcReqN++,t){var h=this.k7(e);h&&(s=this.Ul.CB(h),a=this.Ul.BL(h),s.srcReqN++,a.srcReqN++)}if(e.Jf()==o.bf.If&&(r.srcOtherReqN++,i.srcOtherReqN++,t)){var h=this.k7(e);h&&(s.srcOtherReqN++,a.srcOtherReqN++)}}}},e.prototype.t5=function(e){if(this.Ul.bB().p2pSubReqN++,this.Ul.xL().p2pSubReqN++,e.Xf()==n.vc.fc){var t=this.k7(e);t&&(this.Ul.CB(t).p2pSubReqN++,this.Ul.BL(t).p2pSubReqN++)}},e.prototype.L7=function(e,t){this.M7(e,this.Ul.xL()),this.M7(e,this.Ul.bB());var r=this.k7(e);r&&e.Xf()===n.vc.fc&&(this.M7(e,this.Ul.CB(r)),this.M7(e,this.Ul.BL(r))),isNaN(t)||(this.Ul.FL.metrics.srcThroughput=t)},e.prototype.nZ=function(e,t){var r=e.Xf()!=n.vc.dc;(this.N7||r)&&(-1!=[n.vc.gc,n.vc.Ec].indexOf(e.Xf())?(this.Ul.bB().respFallbackOtherN++,this.Ul.xL().respFallbackOtherN++):this.L7(e,t))},e.prototype.tZ=function(e,t){if(-1!=[n.vc.gc,n.vc.Ec].indexOf(e.Xf()))this.Ul.bB().respFallbackOthertErrN++,this.Ul.xL().respFallbackOthertErrN++;else{var r=e.Xf()!=n.vc.dc;if(this.N7||r)if(this.XM(e.type)){if(this.Ul.xL().respFallbackErrN++,this.Ul.bB().respFallbackErrN++,r){var i=this.k7(e);i&&(this.Ul.CB(i).respFallbackErrN++,this.Ul.BL(i).respFallbackErrN++)}if(0==e.qf.Df&&(this.Ul.xL().srcRespErrN++,this.Ul.bB().srcRespErrN++,r)){var i=this.k7(e);i&&e.Xf()===n.vc.fc&&(this.Ul.CB(i).srcRespErrN++,this.Ul.BL(i).srcRespErrN++)}this.L7(e,t)}else if(-1!=c.hh.Xo.Jo.indexOf(e.Kf.status))this.Ul.bB().fallAgentFailedRespN++,this.Ul.xL().fallAgentFailedRespN++,this.Ul.bB().reqN--,this.Ul.xL().reqN--;else{if(0==e.qf.Df&&(this.Ul.bB().srcOtherRespErrN++,this.Ul.xL().srcOtherRespErrN++),!r){var i=this.k7(e);i&&e.Xf()===n.vc.fc&&(this.Ul.CB(i).srcOtherRespErrN++,this.Ul.BL(i).srcOtherRespErrN++)}this.L7(e,t)}}},e.prototype.BX=function(e,t){if(t.Wq==o.bf.wf)this.Ul.xL().respP2pN++,this.Ul.bB().respP2pN++;else if(t.Wq==o.bf.If)this.Ul.xL().respFallbackN++,this.Ul.bB().respFallbackN++;else if(t.Wq==o.bf.Tf){this.Ul.xL().lCacheRespN++,this.Ul.bB().lCacheRespN++;var r=i.Framework.C()?t.length:e.jf.byteLength;this.Ul.xL().lCacheRespQt+=r,this.Ul.bB().lCacheRespQt+=r}},e.prototype.zX=function(e,t){var r=e.Xf()!=n.vc.dc;(this.N7||r)&&this.L7(e,t)},e.prototype.VX=function(e){if(0!=e.Qf){this.Ul.bB().p2pSubRespErrN++,this.Ul.xL().p2pSubRespErrN++;if(e.Xf()==n.vc.fc){var t=this.k7(e);t&&(this.Ul.CB(t).p2pSubRespErrN++,this.Ul.BL(t).p2pSubRespErrN++)}}},e.prototype.r5=function(e){if(this.Ul.bB().p2pSubRespExpN++,this.Ul.xL().p2pSubRespExpN++,e.Xf()==n.vc.fc){var t=this.k7(e);t&&(this.Ul.CB(t).p2pSubRespExpN++,this.Ul.BL(t).p2pSubRespExpN++)}},e.prototype.M7=function(e,t){var r=e.qf.Pf,i=e.qf.Df,s=e.qf.Af,o=e.qf.Of,h=e.qf.Nf;if(e.Xf()!=n.vc.gc){if(e.qf.Cf&&o&&o<r){var c=o/r;t.p2pSubRespPartN+=c,this.XM(e.type)||(t.p2pAgenTrafficFailureQt+=r-s)}if(0!=h&&(h==r&&t.lCacheRespN++,t.lCacheRespQt+=e.qf.Nf),0!=s)if(s==r&&(this.XM(e.type)&&t.respP2pN++,t.p2pSubRespN++),t.p2pSubReqQt+=r,t.p2pSubRespQt+=s,t.p2pAgenTrafficSuccessQt+=e.qf.p2pAgenTrafficSuccessQt,t.p2pDirectQt+=s,e.xq.Ek.peerInfo.type==a.Tc.W)t.p2pUdpbQt+=s,t.p2pNatQt+=s;else{var u=this.yD.gk();if(u&&u>0)if(null!=e.qq){var l=e.qq.internalAs;u===l&&(t.p2pNatQt+=s)}else this.logger.warn("Missing partner info")}}if(0!=i){if(this.F7(e.type)&&(t.srcOtherReqQt+=e.qf.Df),i==r)this.F7(e.type)?(t.srcOtherRespN++,t.srcOtherRespQt+=e.qf.Df,t.srcOtherOverQt+=e.qf.Df,t.fallAgentRespN++):t.respFallbackN++,t.srcRespN++;else{t.srcRespErrN++;var p=i/(s+i);t.respFallbackN=p,t.respP2pN=1-p,this.F7(e.type)&&(t.srcOtherRespErrN++,t.srcOtherRespQt+=e.qf.Df,t.srcOtherOverQt+=e.qf.Df,t.fallAgenTrafficFailureQt+=e.qf.Df)}t.srcReqQt+=e.qf.Df,t.srcRespQt+=e.qf.Df,t.srcOverQt+=e.qf.Df,this.F7(e.type)&&(t.fallAgenTrafficSuccessQt+=e.qf.kf)}},e.prototype.k7=function(e){var t=null;if(e.zf instanceof s.N_){var r=e.zf;r.bitrate&&(t=r.bitrate)}return t},e.prototype.XM=function(e){return e!=o.bf.wf&&e!=o.bf.If},e.prototype.F7=function(e){return!this.XM(e)},e.prototype.pX=function(){this.U7()},e.prototype.hX=function(){i.Framework.clearInterval(this.D7),this.D7=null},e.prototype.U7=function(){var e=this;null!=this.D7&&(this.D7=i.Framework.setInterval(function(){e.Ul.ZU=e.yD.Fj(),e.Ul.XU=e.yD.gk(),e.Ul.IB=e.yD.getPublicIp()},c.hh.ih.rh))},e}();t.TJ=u},function(e,t,r){"use strict";var i=r(0),n=r(5),s=r(10),o=r(194),a=r(14),h=function(){function e(){this.B7=!1,this.loggerId="[UDPBDiscovery] ",this.H7=-1}return e.prototype.init=function(e){this.logger=i.Framework.resolve(i.Framework.V.R).log(e.sessionId),this.x7=e.VJ,this.yD=e.yD},e.prototype.JJ=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.vl=e,this.contextId=this.yD.getContextId()},e.prototype.startServer=function(){var e=this;this.logger.debug(this.loggerId+"START UDP BROADCAST SERVER"),this.x7.startServer(n.hh.UDPBroadcast.Ua,function(t,r){if(e.H7>-1){var i=o.q7.yf(r);if(i.uuid!=e.guid&&i.streamId==e.contextId&&i.p2pProtocolVersion===n.hh.Ho.Do){e.logger.debug(e.loggerId+"I RECEIVED A MESSAGE FROM "+i.uuid);var a=new s.bc(s.Tc.W,null,i.isLeader);a.guid=i.uuid,a.privateIpString=t,a.rankValue=i.rankValue,e.vl.forEach(function(e){return e.gG([a],!1)})}}})},e.prototype.lX=function(){var e=this;this.logger.info(this.loggerId+"START BROADCAST EVERY "+n.hh.UDPBroadcast.Ba),-1!=this.H7&&i.Framework.clearInterval(this.H7),this.H7=i.Framework.setInterval(function(){e.G7()},n.hh.UDPBroadcast.Ba),this.G7()},e.prototype.sX=function(){-1!=this.H7&&i.Framework.clearInterval(this.H7)},e.prototype.G7=function(){var e=new o.q7(this.contextId,this.yD.getId(),this.yD.QG(),this.yD.ck(),n.hh.Ho.Do);this.logger.info(this.loggerId+"BROADCAST MESSAGE contextId "+e.streamId+" id "+e.uuid+" udpscore "+e.rankValue+" lan leader "+e.isLeader+" protobufVersion "+e.p2pProtocolVersion),a.HiveConfig.UDPBroadcast.usiz&&(n.hh.UDPBroadcast.Ha=a.HiveConfig.UDPBroadcast.usiz),this.x7.broadcast(n.hh.UDPBroadcast.Ua,n.hh.UDPBroadcast.Ha,e.vf())},e.prototype.Ud=function(e){this.logger.info("UDPDISCOVERY SERVER CONNECTED"),this.B7||(this.guid=e,this.startServer(),this.lX())},e}();t.gJ=h},function(e,t,r){"use strict";var i=function(){function e(e,t,r,i,n){this.streamId=e,this.uuid=t,this.rankValue=r,this.isLeader=i,this.p2pProtocolVersion=n}return e.prototype.vf=function(){var e={streamId:this.streamId,uuid:this.uuid,rankValue:this.rankValue,isLeader:this.isLeader,p2pProtocolVersion:this.p2pProtocolVersion};return JSON.stringify(e,this.V7)},e.prototype.V7=function(e,t){if(null!==t)return t},e.yf=function(t){var r=t,i=JSON.parse(r);return new e(i.streamId,i.uuid,i.rankValue,i.isLeader,i.p2pProtocolVersion)},e}();t.q7=i},function(e,t,r){"use strict";var i=r(0),n=function(){function e(){this.loggerId="[ProxyUDPB]",this.logger=i.Framework.resolve(i.Framework.V.R).log(),this.x7=window.myUdpBroadcaster,this.x7||this.logger.error(this.loggerId+" helper undefined")}return e.prototype.startServer=function(e,t){try{this.x7&&this.x7.startServer(e,t)}catch(e){this.logger.warn(this.loggerId+e)}},e.prototype.j7=function(){try{this.x7&&this.x7.j7()}catch(e){this.logger.warn(this.loggerId+e)}},e.prototype.broadcast=function(e,t,r){try{this.x7&&this.x7.broadcast(e,t,r)}catch(e){this.logger.warn(this.loggerId+e)}},e.prototype.sX=function(){try{this.x7&&this.x7.sX()}catch(e){this.logger.warn(this.loggerId+e)}},e.prototype.Q7=function(e,t){try{this.x7&&this.x7.Q7(e,t)}catch(e){this.logger.warn(this.loggerId+e)}},e}();t.EJ=n},function(e,t,r){"use strict";var i=this&&this.hu||function(e,t){function r(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=r(88),s=r(197),o=r(89),a=r(90),h=r(62),c=r(24),u=r(34),l=r(4),p=r(1),d=function(e){function t(){var t=e.call(this)||this;return t.K7.onerror=function(e){p.ErrorMonitor.ve().logError("Shared Worker error",{error:e.message})},t.Y7.onerror=function(e){p.ErrorMonitor.ve().logError("Web Worker error",{error:e.type})},t.K7.port.start(),t}return i(t,e),t.prototype.W7=function(){var e=this;setTimeout(function(){e.z7()},1e3)},t.prototype.z7=function(){var e=this;this.K7.port.onmessage=function(t){e.logger.debug("LRU length : "+t.data.response)},this.logger.debug("Send message"),this.K7.port.postMessage({type:s.X7.J7}),this.W7()},t.prototype.contains=function(e){var t=this,r=l.defer();if(this.kq.has(e))r.resolve(!0);else{var i=!1,n=setTimeout(function(){i=!0,t.logger.debug("VOD CONTAINS TIMEDOUT : "+e),r.resolve(!1)},1e3);this.K7.port.onmessage=function(e){clearTimeout(n),i||(e.data.response?r.resolve(!0):r.resolve(!1))},this.K7.onerror=function(e){t.logger.error(e)},this.K7.port.postMessage({type:s.X7.Z7,eee:e})}return r.Ss},t.prototype.tee=function(e){var t=l.defer(),r=this.kq.get(e);if(null!=r){var i=null;r.content.forEach(function(e,t){if(h.HF.BF(t).kF())return i=e,i.headers=r.headers,void(i.qq=r.qq)}),t.resolve(i)}else t.resolve(null);return t.Ss},t.prototype.get=function(e){var t=this,r=l.defer();if(this.kq.has(e))this.tee(e).then(function(e){r.resolve(e)});else{this.logger.debug("SHAREDWORKER: Permission Request to READ");var i=Date.now();this.ree(s.X7.iee,i).then(function(n){t.logger.debug("SHAREDWORKER: Permission Request To READ : "+n),n?t.nee(e).then(function(e){t.logger.debug("SHAREDWORKER:  Read Completed "),t.K7.port.postMessage({type:s.X7.see,id:i}),r.resolve(e)}):r.resolve(null)})}return r.Ss},t.prototype.nee=function(e){var t=this,r=l.defer(),i=null,n=!1,a=setTimeout(function(){n=!0,r.resolve(i)},1e3);return this.Y7.onmessage=function(h){if(clearTimeout(a),!n){if(h.data.response){var u=new c.Hf;u.Cf=!1,u._f=!0,u.Pf=h.data.data.length,u.Af=0,u.Nf=h.data.data.length,u.Df=0,i=new o.Gq(h.data.data.length,h.data.data.content,u,c.bf.Tf),i.headers=h.data.data.oee}else t.K7.port.postMessage({type:s.X7.aee,eee:e});r.resolve(i)}},this.Y7.postMessage({type:s.X7.hee,eee:e}),r.Ss},t.prototype.m=function(){var e=this;this.logger.debug("FLUSHING IN-MEMORY CACHE");for(var t=[],r=0;r<this.Mq.length;r++)this.kq.get(this.Mq[r]).zq||t.push(this.Mq[r]);this.logger.debug("Flush "+t.length+" in memory"),t.length>0?this.cee(t).then(function(t){e.uee()}):this.uee()},t.prototype.uee=function(){var e=this,t=0,r=0;this.logger.debug("PURGING PERSISTENTDB's IN-MEMORY CACHE"),this.Mq.every(function(i,n){var s=e.kq.get(i).size();return t+s>e.Fq?(r=n,e.logger.debug("CACHE TOO BIG "+(t+s)),!1):(t+=s,!0)})||this.Mq.splice(r,this.Mq.length-1).forEach(function(t){e.kq.delete(t)}),this.Bq()},t.prototype.cee=function(e){var t=this,r=l.defer();this.logger.debug("SHAREDWORKER:  Permission Request To Write ");var i=Date.now();return this.ree(s.X7.lee,i).then(function(n){t.logger.debug("SHAREDWORKER:  Permission Request To WRITE : "+n),n?(t.logger.debug("Flush the contents"),t.pee(e).then(function(e){t.logger.debug("SHAREDWORKER:  WRITE COMPLETED"),t.K7.port.postMessage({type:s.X7.dee,id:i}),r.resolve(e)})):r.resolve(n)}),r.Ss},t.prototype.pee=function(e){var t=this,r=l.defer();return this.fee(e[0]).then(function(i){if(i)e.shift(),0==e.length?r.resolve(!0):t.pee(e).then(function(e){r.resolve(e)});else{var n=!1,o=setTimeout(function(){n=!0,e.shift(),0==e.length?r.resolve(!1):t.pee(e).then(function(e){r.resolve(e)})},1e3);t.Y7.onmessage=function(i){i.data&&(t.kq.get(e[0]).zq=!0,t.K7.port.postMessage({type:s.X7.gee,eee:e[0],size:t.kq.get(e[0]).size()})),clearTimeout(o),n||(e.shift(),0==e.length?i.data?r.resolve(!0):r.resolve(!1):t.pee(e).then(function(e){r.resolve(e)}))},t.Y7.onerror=function(e){t.logger.error(e)};var a=t.kq.get(e[0]),c=null,u=null;a.content.forEach(function(e,t){if(h.HF.BF(t).kF())return c=e,u=t,void(c.headers=a.headers)});var l={P_:a.zf.Zf(),headers:a.headers,length:a.size(),Eee:u,content:c.data,zf:a.zf};t.Y7.postMessage({type:s.X7.vee,data:l})}}),r.Ss},t.prototype.fee=function(e){var t=this,r=l.defer(),i=!1,n=setTimeout(function(){i=!0,r.resolve(!1)},1e3);return this.K7.port.onmessage=function(s){clearTimeout(n),i||(t.logger.debug("SHAREDWORKER:  CONTAINS REQUEST : "+e+" : "+s.data.response),s.data.response?r.resolve(!0):r.resolve(!1))},this.K7.onerror=function(e){t.logger.error(e),r.resolve(!1)},this.K7.port.postMessage({type:s.X7.Z7,eee:e}),r.Ss},t.prototype.ree=function(e,t){var r=this,i=l.defer(),n=!1,o=setTimeout(function(){n=!0,i.resolve(!1)},2e3);return this.K7.port.onmessage=function(t){clearTimeout(o),n?e==s.X7.iee?r.K7.port.postMessage({type:s.X7.see}):e==s.X7.lee&&r.K7.port.postMessage({type:s.X7.dee}):i.resolve(t.data.response)},this.K7.onerror=function(e){r.logger.error(e)},this.K7.port.postMessage({type:e,id:t}),i.Ss},t.prototype.ik=function(e){return[]},t.prototype.Vq=function(e){var t=this,r=l.defer(),i=[],n=Date.now();return this.ree(s.X7.iee,n).then(function(e){if(e){var o=!1,h=setTimeout(function(){o=!0,t.K7.port.postMessage({type:s.X7.see,id:n}),r.resolve(i)},4e3);t.Y7.onmessage=function(e){if(clearTimeout(h),e.data.response&&null!=e.data)for(var c=0;c<e.data.elements.length;c++){var l=new u.N_(e.data.elements[c].url,e.data.elements[c].b_,e.data.elements[c].w_,e.data.elements[c].C_,e.data.elements[c].duration,e.data.elements[c].bitrate,e.data.elements[c].__),p=new a.Hq(l);p.headers=e.data.elements[c].oee,p.totalSize=e.data.elements[c].length,i.push(p)}t.K7.port.postMessage({type:s.X7.see,id:n}),o||r.resolve(i)},t.Y7.onerror=function(e){p.ErrorMonitor.ve().logError("GET ELEMENTS ERROR",{error:e}),t.K7.port.postMessage({type:s.X7.see,id:n})},t.Y7.postMessage({type:s.X7.yee})}}),r.resolve(null),r.Ss},t}(n.Yq);t.vJ=d},function(e,t,r){"use strict";var i=function(){function e(){}return e}();i.lee="write_request",i.Z7="contains_request",i.gee="write_id_operation",i.iee="read_request",i.see="read_completed",i.dee="write_completed",i.aee="update_lru",i.J7="lru_stats",i.hee="read_operation",i.yee="read_elements_operation",i.Tee="read_keys_operation",i.vee="write_operation",t.X7=i},function(e,t,r){"use strict";var i=this&&this.hu||function(e,t){function r(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=r(20);!function(e){!function(e){var t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.minVersion="3.0.0",t.renderStatsCallback=void 0,t}return i(t,e),t}(n.HiveComm.Options.Tp);e.nJ=t}(e.Options||(e.Options={}))}(t.HiveComm||(t.HiveComm={}))},function(e,t,r){"use strict";var i=r(4),n=r(18),s=r(21),o=r(200),a=r(26),h=a.HiveComm.HiveTechError,c=a.HiveComm.vE,u=r(70),l=r(19),p=r(22),d=r(46),f=r(53),g=r(14),E=r(1),v=r(56),y=r(32),T=r(72),m=r(29),I=(r(44),navigator),S=function(){function e(e,t,r){this.loggerId="[HiveJsProxy]",this.mee=0,this.gL=e,this.options_=new o.HiveComm.Options.Iee,this.See(t),this.yL(),this.UQ=r}return e.prototype.getName=function(){return e.EL},e.prototype.getVersion=function(){return this.version},e.prototype.vL=function(){return!1},e.prototype.yL=function(){var e=this;if(null==this.Ree||Date.now()-this.mee>1e4){var t="//"+u.tL.dO+":"+u.tL.rL+"/version.json";this.Ree=s.bp(t).then(function(t){var r=JSON.parse(t);return e.state=r.state,e.version=r.version,"ready"===e.state?"ready":(e.logger().warn(e.id()+"Client not ready: "+e.state),i.reject(new h(c.pE,"state "+e.state)))},function(t){var r="Client not reachable";return void 0!=t&&void 0!=t.status&&-1!=t.status&&(r="Client check returned "+t.status),e.logger().warn(e.id()+r),i.reject(new h(c.pE,r))}).catch(function(e){return e instanceof h?i.reject(e):i.reject(new h(c.pE,"error parsing response"))}),this.mee=Date.now()}return this.Ree},e.prototype.initSession=function(e,t){var r=this;return this.yL().then(function(){return r.resolveTicketPromise(e).then(function(t){var i=r.TL(e,t);if(null!=i)return T.$u.registerComm(r.gL,i.id),T.$u.registerTech(r,i.id),n.HiveRequestFactory.registerTech(i.id,r.getName()),i;throw new h(c.sE,"error generating session")})}).catch(function(e){return e instanceof h?i.reject(e):i.reject(new h(c.sE,"generic error resolving ticket"))})},e.prototype.oL=function(e){this.oJ=e},e.prototype.mL=function(){return this.options_.initTimeout},e.prototype.isActive=function(e,t){var r=t.manifest.toLowerCase(),i=e.toLowerCase(),n=r.indexOf(".ism/manifest");if(n>-1){var s=r.substring(0,n);if(i.indexOf(s)>-1)return i.indexOf(".ism/manifest(format=mpd-time-csf)")>-1?this.oJ?(t.ticket.SourceURL=e,!0):this.aJ(t,"The player does not use HiveRequest, downgrading to StatsJS"):this.aJ(t,"Protocol not supported by HiveJsProxy tech, downgrading to StatsJS")}else if(i===r)return!!this.oJ||this.aJ(t,"The player does not use HiveRequest, downgrading to StatsJS");return!1},e.prototype.aJ=function(e,t){var r=this;return e.tech=this.UQ,y.Hive.Reporting().initSession(e.ticket.ticketUrl,!1).then(function(t){e.hl(t);t.ticket;r.logger().debug("[HiveJSProxy] downgrade verified ticket "+e.ticket.ticketUrl),r.gL.updatePlayerInfo(t)}).fail(function(e){E.ErrorMonitor.ve().logError("Error initializing session when downgrading session tech",r.loggerId,{error:e})}),this.oJ&&this.oJ.dU(),this.oJ=void 0,n.HiveRequestFactory.registerTech(e.id,v.StatsJS.EL),this.gL.logger().warn("[HiveJsProxy] "+t),this.onError(new h(c.fE,t)),!0},e.prototype.ol=function(e,t){var r=this;this.logger().debug(this.id()+"Stopping session "+e.id+" [onUnload:"+t+"]");var i="//"+u.tL.dO+":"+u.tL.rL+"/proxy/"+e.id+"/stop";t&&I.sendBeacon?(I.sendBeacon(i),this.logger().debug(this.id()+"session stopped ["+e.id+"][beacon]")):s.bp(i,null,!t).then(function(){r.logger().debug(r.id()+"session stopped ["+e.id+"]"+(t?"[sync]":""))},function(i){r.logger().warn(r.id()+"session close error ["+e.id+"]"+(t?"[sync]":""),i)})},e.prototype.nl=function(e,t){var r=t?l.Ml.IDLE:l.Ml.Ll;this.logger().debug(this.id()+"idle state: "+l.Ml[r])},e.prototype.SL=function(e,t){var r=this,n="playing-point="+t.Pl;n+="&buffer-length="+t.Al,n+="&total-buffering="+t.Ol,n+="&width="+t.width,n+="&height="+t.height,n+="&fullscreen="+t.YQ;var o="//"+u.tL.dO+":"+u.tL.rL+"/proxy/"+e.id+"/stats/put?"+n;return s.bp(o).fail(function(e){return r.logger().warn(r.id()+"error sending feedback to Hive Client",e),i.reject(e)})},e.prototype.CL=function(e,t,r){var n=this,o="//"+u.tL.dO+":"+u.tL.rL+"/proxy/"+e.id+"/event?type="+t;if(void 0!=r)for(var a in r)o+="&"+a+"="+r[a];return this.logger().debug(this.id()+"event "+p.Gl.Yp[t],void 0!=r?r:""),s.bp(o).fail(function(e){return n.logger().warn(n.id()+"error sending feedback event to Hive Client",e),i.reject(e)})},e.prototype.bd=function(e,t){return i.resolve(!0)},e.prototype.onError=function(e){var t=!0;if(void 0!=this.options_.onError)try{t=this.options_.onError(e)}catch(e){E.ErrorMonitor.ve().logError("exception in user-defined onError callback",this.id(),e)}return t},e.prototype.onActiveSession=function(e){var t=this.gL.getPlayerSource();0===t.indexOf("//")&&(t=location.protocol+t);var r=s.Ip(u.tL.cU,u.tL.dO,u.tL.rL,e.id,t);if(e.authenticationToken&&this.version>="3.0.1"?s._p(r,JSON.stringify({authenticationToken:e.authenticationToken})):s.bp(r),this.updatePlayerInfo(e),f.Zu.me(this.logger()),this.oJ&&this.oJ.fU(),this.wee(e),void 0!=this.options_.onActiveSession)try{this.options_.onActiveSession(e.toHiveSession())}catch(e){E.ErrorMonitor.ve().logError("exception in user-defined onActiveSession callback",this.id(),e)}},e.prototype.DL=function(){},e.prototype.kL=function(){},e.prototype.LL=function(e){this.gL=e},e.prototype.id=function(){return"["+e.EL+"] "},e.prototype.See=function(t){void 0!=t[e.EL]&&s.Sp(t[e.EL],this.options_)},e.prototype.resolveTicketPromise=function(e){var t=this;this.logger().debug(this.id()+"resolving ticket: "+e);var r=this.bee(e),n=JSON.stringify(this.Cee()),o=null;return this.gL.options().testId&&(a={},a[m.L.cR]=this.gL.options().testId,o=a),this.logger().debug("My header ",o),s._p(r,n,"application/json",o).then(function(r){var i=JSON.parse(r);return t.logger().debug(t.id()+"resolved ticket "+e+" -> "+i.manifest),i},function(r){return t.logger().warn(t.id()+"ticket "+e+" resolve error: ",r),i.reject(new h(c.sE,r))}).catch(function(e){return e instanceof h?i.reject(e):i.reject(new h(c.dE,e))});var a},e.prototype.bee=function(e){return e=encodeURIComponent(e),s.Ip(u.tL.fO,u.tL.dO,u.tL.rL,e,"&",this.gL.getPluginId())},e.prototype.TL=function(e,t){var r=new d.BN;r.RN(e);var i=new n.cl(e,r,t.manifest,null);return i.ML=!0,i.id=t.sessionId,i.ticket.sessionId=i.id,i},e.prototype.Cee=function(){var e={};e.HiveConfig={};for(var t in window.HiveConfig){e.HiveConfig[t]={};for(var r in window.HiveConfig[t])e.HiveConfig[t][r]=window.HiveConfig[t][r]}return e},e.prototype.wee=function(e){var t=this;if(void 0!==g.HiveConfig.Stats.render){var r="//"+u.tL.dO+":"+u.tL.rL+"/proxy/"+e.id+"/stats/get";if("undefined"!=typeof EventSource){var i=new EventSource(r);i.onmessage=function(e){t._ee(e.data)},i.onerror=function(e){i.close()}}else this.Pee=window.setInterval(function(){s.bp(r).then(function(e){t._ee(e)})},4e3)}},e.prototype.updatePlayerInfo=function(e){var t=this,r="comm-version="+this.gL.getCommVersion();r+="&plugin-name="+this.gL.getPluginName(),r+="&plugin-version="+this.gL.getPluginVersion(),r+="&player-tech="+this.gL.getPlayerTech(),r+="&player-version="+this.gL.getPlayerVersion(),this.gL.getTelemetryId()&&(r+="&telemetry-id="+this.gL.getTelemetryId());var n=s.Ip(u.tL.uU,u.tL.dO,u.tL.rL,e.id,r);return s.bp(n).fail(function(e){return t.logger().debug(t.id()+"error sending player Info to Hive Client",e),i.reject(e)})},e.prototype._ee=function(e){try{var t=JSON.parse(e);for(var r in t)t.hasOwnProperty(r)&&(t[r].human=function(e){return e>1e6?(e/1e6).toFixed(2)+"MB":e>1e3?(e/1e3).toFixed(2)+"KB":e+"B"});g.HiveConfig.Stats.render(t)}catch(e){console.trace(e)}},e.prototype.logger=function(){return this.gL.logger()},e}();S.EL="HiveJsProxy",t.HiveJsProxy=S},function(e,t,r){"use strict";var i=this&&this.hu||function(e,t){function r(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=r(20);!function(e){!function(e){var t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.minVersion="3.3.0",t}return i(t,e),t}(n.HiveComm.Options.Tp);e.Iee=t}(e.Options||(e.Options={}))}(t.HiveComm||(t.HiveComm={}))},function(e,t,r){"use strict";var i=this&&this.hu||function(e,t){function r(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=r(4),s=r(18),o=r(21),a=r(20),h=r(202),c=r(26),u=r(42),l=r(29),p=r(19),d=r(22),f=r(46),g=r(1),E=h.HiveComm.Options,v=a.HiveComm.Options.mp,y=c.HiveComm.HiveTechError,T=c.HiveComm.vE,m=r(44);t.Aee=navigator;var I=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(s.cl),S=function(){function e(e,t){this.mee=0,this.gL=e,this.options_=new E.Oee,this.See(t),o.Rp(window.location.href,new v,this.options_)}return e.prototype.getName=function(){return e.EL},e.prototype.getVersion=function(){return this.version},e.prototype.vL=function(){return!1},e.prototype.yL=function(){var e=this;if(null==this.Ree||Date.now()-this.mee>1e4){var t=new m;t.Ad(navigator.userAgent);var r=t.jO();if("IE"===r.name&&r.version&&parseInt(r.version)<10)return n.reject(new y(T.pE,"Internet Explorer < v.10 not supported"));this.Nee=Date.now(),this.Dee=0;var i="//"+u.fp.dO+":"+this.gL.options().monitorPort+"/version.json";this.logger().debug(this.id()+"verifying Hive Client version"),this.Ree=o.bp(i).then(function(t){var r=JSON.parse(t);return e.state=r.state,e.version=r.version,"ready"===e.state?"developer"===e.version||e.version>=e.options_.minVersion?(e.Dee=Date.now(),e.logger().debug(e.id()+"Hive Client ready - version "+e.version+" ["+(e.Dee-e.Nee)+"]"),"ready"):(g.ErrorMonitor.ve().logError("Client version requirement not satisfied",e.id(),{version:e.version,minVersion:e.options_.minVersion}),e.gL.addTechEvent(new d.Gl.lf(null,d.Gl.td.Jp)),n.reject(new y(T.gE,"version "+e.version))):(g.ErrorMonitor.ve().logError("Cannot check version: client state not ready",e.id(),{state:e.state}),e.gL.addTechEvent(new d.Gl.lf(null,d.Gl.td.zp)),n.reject(new y(T.pE,"state "+e.state)))},function(t){var r="Client not reachable";return void 0!=t&&void 0!=t.status&&-1!=t.status&&(r="Client check returned error"),g.ErrorMonitor.ve().logError(r,e.id(),void 0!=t&&void 0!=t.status&&-1!=t.status?{status:t.status}:void 0),e.gL.addTechEvent(new d.Gl.lf(null,d.Gl.td.Wp)),n.reject(new y(T.pE,r))}).catch(function(t){if(t instanceof y)return n.reject(t);var r="Error fetching Hive Client version";return g.ErrorMonitor.ve().logError(r,e.id(),t),n.reject(new y(T.pE,r))}),this.mee=Date.now()}return this.Ree},e.prototype.initSession=function(e,t){var r=this;return this.options_.minVersion!=u.fp.vO||this.gL.options().testId?this.yL().then(function(){return r.kee(e).catch(function(e){return n.reject(e)})}):this.kee(e).catch(function(e){return n.reject(e)})},e.prototype.mL=function(){return this.options_.initTimeout},e.prototype.isActive=function(e,t){return e.indexOf(t.Lee)>-1},e.prototype.ol=function(e,r){var i=this;this.logger().debug(this.id()+"Stopping session "+e.id+" [complete close:"+r+"]");var n="//"+u.fp.dO+":"+this.gL.options().playerPort+"/session?action=stop";n+="&currentSession="+e.id,r&&(n+="&completeStop=true"),r&&t.Aee.sendBeacon?(t.Aee.sendBeacon(n),this.logger().debug(this.id()+"session stopped ["+e.id+"][beacon]")):o.bp(n,null,!r).then(function(){i.logger().debug(i.id()+"session stopped ["+e.id+"]"+(r?"[sync]":""))},function(t){i.logger().warn(i.id()+"session close error ["+e.id+"]"+(r?"[sync]":""),t)})},e.prototype.nl=function(e,t){this.Mee=t?p.Ml.IDLE:p.Ml.Ll,this.logger().notice("[HiveComm] client state: "+p.Ml[this.Mee])},e.prototype.SL=function(e,t){if(this.Mee==p.Ml.IDLE)return n.resolve(!0);var r="playing-point="+t.Pl;r+="&buffer-length="+t.Al,r+="&total-buffering="+t.Ol,r+="&width="+t.width,r+="&height="+t.height,r+="&fullscreen="+t.YQ;var i=e.Lee+"stats?"+r;return this.logger().trace(i),o.bp(i)},e.prototype.CL=function(e,t,r){var i=this;if(!(t!==d.Gl.Yp.Kp&&t!==d.Gl.Yp.HIDDEN||this.version&&("developer"===this.version||this.version>="2017")))return n.resolve(!0);var s=e.Lee+"player-event?type="+d.Gl.Yp[t];if(void 0!=r)for(var a in r)s+="&"+a+"="+r[a];return this.logger().debug(this.id()+"event "+d.Gl.Yp[t],void 0!=r?r:""),o.bp(s).fail(function(e){return i.logger().warn(i.id()+"error sending feedback event to Hive Client",e),n.reject(e)})},e.prototype.bd=function(e,t){return n.resolve(!0)},e.prototype.updatePlayerInfo=function(e){var t=this;if(this.Fee())return this.logger().warn("Player info not supported in this Java client version"),n.resolve(!0);var r="comm-version="+this.gL.getCommVersion();r+="&plugin-name="+this.gL.getPluginName(),r+="&plugin-version="+this.gL.getPluginVersion(),r+="&player-tech="+this.gL.getPlayerTech(),r+="&player-version="+this.gL.getPlayerVersion(),this.gL.getTelemetryId()&&(r+="&telemetry-id="+this.gL.getTelemetryId());var i=e.Lee+"player-info?"+r;return o.bp(i).fail(function(e){return t.logger().debug(t.id()+"error sending player Info to Hive Client",e),n.reject(e)})},e.prototype.onError=function(e){var t=!0;if(void 0!=this.options_.onError)try{t=this.options_.onError(e)}catch(e){g.ErrorMonitor.ve().logError("Exception in user-defined onError callback",this.id(),e)}return t},e.prototype.DL=function(e,t,r){var i={isReadyIn:this.Nee,isReadyOut:this.Dee,leaseIn:this.Uee,leaseOut:this.Bee,resolveIn:this.Hee,resolveOut:this.xee};void 0!==t&&null!=t&&(i.sessionId=t.id),void 0!==r&&(i.total=r);var n=JSON.parse(JSON.stringify(i));g.ErrorMonitor.ve().logError(e.message,this.id(),n),this.gL.addTechEvent(new d.Gl.lf(null,d.Gl.td.$p,i)),this.qee()},e.prototype.onActiveSession=function(e){if(this.updatePlayerInfo(e),s.Rl.setItem("hiveActiveSessionId",e.id),void 0!=this.options_.onActiveSession)try{this.options_.onActiveSession(e.toHiveSession())}catch(e){g.ErrorMonitor.ve().logError("Exception in user-defined onActiveSession callback",this.id(),e)}},e.prototype.LL=function(e){this.gL=e},e.prototype.id=function(){return"["+e.EL+"] "},e.prototype.See=function(t){void 0!=t[e.EL]&&o.Sp(t[e.EL],this.options_)},e.prototype.kee=function(e){var t=this,r=(new Date).getTime();return this.Gee(e).then(function(i){return i?t.Vee(e,i,r):t.resolveTicketPromise(e).then(function(i){return t.Vee(e,i,r)})})},e.prototype.Gee=function(t){var r=this;if(this.Uee=Date.now(),this.gL.options().useSessionCheck){var i="//"+u.fp.dO+":"+this.gL.options().playerPort+"/session?&action=check";i+="&hivePluginId="+this.gL.getPluginId(),i+="&callback="+encodeURIComponent(t);var o=s.Rl.getItem("hiveActiveSessionId");return s.Rl.removeItem("hiveActiveSessionId"),o&&(i+="&currentSession="+o),this.jee(),this.Qee(i).then(function(e){return r.Bee=Date.now(),e?r.Kee(e,i,t,r.Uee):(r.logger().debug(r.id()+"session allowed ["+(r.Bee-r.Uee)+"]"),!1)},function(t){if(400==t.status)return r.Yee("bad request","error resolving ticket",t);if(401==t.status)return r.Yee("unauthorized","error verifying the ticket",t);if(403==t.status){var i=e.Wee(t,void 0,"session"),s=i?{zee:i}:void 0;return g.ErrorMonitor.ve().logError("reports another active session",r.id(),s),r.gL.addTechEvent(new d.Gl.lf(null,d.Gl.td.Xp,s)),n.reject(new y(T.fE,"another active session"+(s?" ["+s.zee+"]":"")))}return 404==t.status?(r.logger().debug(r.id()+"installed version does not support active session check"),r.Bee=Date.now(),!1):-1==t.status?(clearTimeout(r.Jee),r.Xee()):(g.ErrorMonitor.ve().logError("unhandled error from Java",r.id(),{error:t.status}),r.gL.addTechEvent(new d.Gl.lf(null,d.Gl.td.Zp)),n.reject(new y(T.dE,t)))}).catch(function(e){return e instanceof y?n.reject(e):(g.ErrorMonitor.ve().logError("unhandled error on requestLeaseDirect",r.id(),{error:e}),r.gL.addTechEvent(new d.Gl.lf(null,d.Gl.td.Zp)),n.reject(new y(T.dE,e)))}).finally(function(){clearTimeout(r.Jee)})}return this.logger().debug(this.id()+"Hive session check disabled - will directly resolve ticket (other active sessions may fail)"),n.resolve(!1)},e.prototype.Qee=function(e){if(this.gL.options().testId){if(!("developer"!==this.version||this.version<u.fp.yO))return o.bp(e,void 0,!0,(t={},t[l.L.cR]=this.gL.options().testId,t));this.logger().warn(this.id()+"The Hive Client Version installed does not support the test id in its generated metrics")}return o.bp(e);var t},e.prototype.Yee=function(t,r,i){var s=e.Wee(i,t);return g.ErrorMonitor.ve().logError(r,this.id()),this.xee=Date.now(),n.reject(new y(T.sE,s))},e.Wee=function(e,t,r){void 0===r&&(r="status");var i=t;if(e.body)try{i=JSON.parse(e.body)[r]}catch(e){}return i},e.prototype.resolveTicketPromise=function(e){var t=this;this.Hee=Date.now(),this.logger().debug(this.id()+"resolving ticket: "+e);var r=this.bee(e);return o.bp(r,"application/json").then(function(i){return t.Kee(i,r,e,t.Hee)},function(r){return r&&-1==r.status?t.Xee():(g.ErrorMonitor.ve().logError("error resolving ticket",t.id(),{ticket:e}),n.reject(new y(T.sE,r)))}).catch(function(e){return g.ErrorMonitor.ve().logError("error parsing ticket response",t.id(),e),n.reject(new y(T.dE,e))})},e.prototype.Kee=function(e,t,r,i){var n=JSON.parse(e),s=o.$h(t,n.location);return n.version&&!this.version&&(this.version=n.version),this.xee=Date.now(),this.logger().debug(this.id()+"resolved ticket "+r+" -> "+s+" ["+(this.xee-i)+"]"),s},e.prototype.Vee=function(e,t,r){var i=this.TL(e,t);if(null!=i){var n=(new Date).getTime(),o=n-r;return o>=this.options_.warnSlowRespTimeout&&this.DL(new y(T.EE,this.id()+" The tech initialization took more than "+this.options_.warnSlowRespTimeout+" milliseconds"),i,o),s.HiveRequestFactory.registerTech(i.id,this.getName()),i}throw new y(T.sE,"error generating session")},e.prototype.TL=function(e,t){var r=new f.BN;r.RN(e);var i=new I(e,r,t,null);i.ML=!0;var n=u.fp.EO,s=n.exec(i.manifest);return null!=s?(i.Lee=s[1],i.id=s[5],i):null},e.prototype.bee=function(e){var t=-1==e.indexOf("?")?"?":"&";return this.Fee()?o.Ip(u.fp.gO,u.fp.dO,this.gL.options().playerPort,e):o.Ip(u.fp.fO,u.fp.dO,this.gL.options().playerPort,e,t,this.gL.getPluginId())},e.prototype.jee=function(){var e=this;this.Jee&&clearTimeout(this.Jee),this.Jee=setTimeout(function(){g.ErrorMonitor.ve().logError("The Lease Request is taking more than "+e.options_.warnSlowRespTimeout+" secs",e.id())},this.options_.warnSlowRespTimeout)},e.prototype.qee=function(){this.Uee=0,this.Bee=0,this.Hee=0,this.xee=0},e.prototype.logger=function(){return this.gL.logger()},e.prototype.kL=function(){this.qee()},e.prototype.Xee=function(){var e=this,t="//"+u.fp.dO+":"+this.gL.options().monitorPort+"/version.json";return this.logger().debug(this.id()+"checking if the monitor port is reachable"),o.bp(t).then(function(t){var r=JSON.parse(t);throw e.state=r.state,g.ErrorMonitor.ve().logError("Verify client state",e.id(),{state:e.state}),e.gL.addTechEvent(new d.Gl.lf(null,d.Gl.td.zp)),new y(T.pE,"state "+e.state)}).fail(function(t){if(t instanceof y)return n.reject(t);if(t&&-1==t.status){var r="client not reachable";return e.gL.addTechEvent(new d.Gl.lf(null,d.Gl.td.Wp)),e.logger().warn(e.id()+r),n.reject(new y(T.pE,r))}var r="VerifyClientState error";return g.ErrorMonitor.ve().logError(r,e.id(),{error:t}),e.gL.addTechEvent(new d.Gl.lf(null,d.Gl.td.zp)),n.reject(new y(T.dE,r))})},e.prototype.Fee=function(){return this.options_.supportLegacyClient&&(!this.version||this.version.substr(0,4)<"2016")},e}();S.EL="HiveJava",t.HiveJava=S},function(e,t,r){"use strict";var i=this&&this.hu||function(e,t){function r(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=r(20),s=r(42);!function(e){!function(e){var t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.minVersion=s.fp.vO,t.initTimeout=6e4,t.warnSlowRespTimeout=5e3,t.supportLegacyClient=!1,t}return i(t,e),t}(n.HiveComm.Options.Tp);e.Oee=t}(e.Options||(e.Options={}))}(t.HiveComm||(t.HiveComm={}))}]);
//# sourceMappingURL=core.hive.min.js.map
!function(t){function e(r){if(n[r])return n[r].o;var o=n[r]={i:r,s:!1,o:{}};return t[r].call(o.o,o,o.o,e),o.s=!0,o.o}var n={};e.u=t,e.c=n,e.d=function(t,n,r){e.p(t,n)||Object.defineProperty(t,n,{l:!1,h:!0,get:r})},e.n=function(t){var n=t&&t.v?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.p=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.g="",e(e.m=1)}([function(t,e,n){/*!
 *
 * Copyright 2009-2016 Kris Kowal under the terms of the MIT
 * license found at https://github.com/kriskowal/q/blob/v1/LICENSE
 *
 * With parts by Tyler Close
 * Copyright 2007-2009 Tyler Close under the terms of the MIT X license found
 * at http://www.opensource.org/licenses/mit-license.html
 * Forked at ref_send.js version: 2009-05-11
 *
 * With parts by Mark Miller
 * Copyright (C) 2011 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 */
!function(e){"use strict";if("function"==typeof bootstrap)bootstrap("promise",e);else{t.o=e()}}(function(){"use strict";function t(t){return function(){return J.apply(t,arguments)}}function e(t){return t===Object(t)}function n(t){return"[object StopIteration]"===tt(t)||t instanceof F}function r(t,e){if(B&&e.stack&&"object"==typeof t&&null!==t&&t.stack&&-1===t.stack.indexOf(et)){for(var n=[],r=e;r;r=r.source)r.stack&&n.unshift(r.stack);n.unshift(t.stack);var i=n.join("\n"+et+"\n");t.stack=o(i)}}function o(t){for(var e=t.split("\n"),n=[],r=0;r<e.length;++r){var o=e[r];u(o)||i(o)||!o||n.push(o)}return n.join("\n")}function i(t){return-1!==t.indexOf("(module.js:")||-1!==t.indexOf("(node.js:")}function s(t){var e=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(t);if(e)return[e[1],Number(e[2])];var n=/at ([^ ]+):(\d+):(?:\d+)$/.exec(t);if(n)return[n[1],Number(n[2])];var r=/.*@(.+):(\d+)$/.exec(t);return r?[r[1],Number(r[2])]:void 0}function u(t){var e=s(t);if(!e)return!1;var n=e[0],r=e[1];return n===M&&r>=q&&r<=st}function a(){if(B)try{throw new Error}catch(r){var t=r.stack.split("\n"),e=t[0].indexOf("@")>0?t[1]:t[2],n=s(e);if(!n)return;return M=n[0],n[1]}}function c(t){return t instanceof d?t:g(t)?N(t):w(t)}function p(){function t(t){e=t,c.T&&B&&(i.source=t),G(n,function(e,n){c._(function(){t.I.apply(t,n)})},void 0),n=void 0,r=void 0}var e,n=[],r=[],o=z(p.prototype),i=z(d.prototype);if(i.I=function(t,o,i){var s=X(arguments);n?(n.push(s),"when"===o&&i[1]&&r.push(i[1])):c._(function(){e.I.apply(e,s)})},i.valueOf=function(){if(n)return i;var t=y(e);return v(t)&&(e=t),t},i.N=function(){return e?e.N():{state:"pending"}},c.T&&B)try{throw new Error}catch(t){i.stack=t.stack.substring(t.stack.indexOf("\n")+1)}return o.k=i,o.resolve=function(n){e||t(c(n))},o.R=function(n){e||t(w(n))},o.reject=function(n){e||t(I(n))},o.notify=function(t){e||G(r,function(e,n){c._(function(){n(t)})},void 0)},o}function f(t){if("function"!=typeof t)throw new TypeError("resolver must be a function.");var e=p();try{t(e.resolve,e.reject,e.notify)}catch(t){e.reject(t)}return e.k}function l(t){return f(function(e,n){for(var r=0,o=t.length;r<o;r++)c(t[r]).then(e,n)})}function d(t,e,n){void 0===e&&(e=function(t){return I(new Error("Promise does not support operation: "+t))}),void 0===n&&(n=function(){return{state:"unknown"}});var r=z(d.prototype);if(r.I=function(n,o,i){var s;try{s=t[o]?t[o].apply(r,i):e.call(r,o,i)}catch(t){s=I(t)}n&&n(s)},r.N=n,n){var o=n();"rejected"===o.state&&(r.exception=o.reason),r.valueOf=function(){var t=n();return"pending"===t.state||"rejected"===t.state?r:t.value}}return r}function h(t,e,n,r){return c(t).then(e,n,r)}function y(t){if(v(t)){var e=t.N();if("fulfilled"===e.state)return e.value}return t}function v(t){return t instanceof d}function g(t){return e(t)&&"function"==typeof t.then}function E(t){return v(t)&&"pending"===t.N().state}function m(t){return!v(t)||"fulfilled"===t.N().state}function T(t){return v(t)&&"rejected"===t.N().state}function S(){nt.length=0,rt.length=0,it||(it=!0)}function _(t,e){it&&("object"==typeof process&&process&&"function"==typeof process.O&&c._.D(function(){-1!==K(rt,t)&&(process.O("unhandledRejection",e,t),ot.push(t))}),rt.push(t),e&&void 0!==e.stack?nt.push(e.stack):nt.push("(no stack) "+e))}function b(t){if(it){var e=K(rt,t);-1!==e&&("object"==typeof process&&process&&"function"==typeof process.O&&c._.D(function(){var n=K(ot,t);-1!==n&&(process.O("rejectionHandled",nt[e],t),ot.splice(n,1))}),rt.splice(e,1),nt.splice(e,1))}}function I(t){var e=d({when:function(e){return e&&b(this),e?e(t):this}},function(){return this},function(){return{state:"rejected",reason:t}});return _(e,t),e}function w(t){return d({when:function(){return t},get:function(e){return t[e]},set:function(e,n){t[e]=n},delete:function(e){delete t[e]},P:function(e,n){return null===e||void 0===e?t.apply(void 0,n):t[e].apply(t,n)},apply:function(e,n){return t.apply(e,n)},keys:function(){return Z(t)}},void 0,function(){return{state:"fulfilled",value:t}})}function N(t){var e=p();return c._(function(){try{t.then(e.resolve,e.reject,e.notify)}catch(t){e.reject(t)}}),e.k}function k(t){return d({C:function(){}},function(e,n){return C(t,e,n)},function(){return c(t).N()})}function R(t,e,n){return c(t).A(e,n)}function x(t){return function(){function e(t,e){var s;if("undefined"==typeof StopIteration){try{s=r[t](e)}catch(t){return I(t)}return s.done?c(s.value):h(s.value,o,i)}try{s=r[t](e)}catch(t){return n(t)?c(t.value):I(t)}return h(s,o,i)}var r=t.apply(this,arguments),o=e.bind(e,"next"),i=e.bind(e,"throw");return o()}}function O(t){c.done(c.async(t)())}function D(t){throw new F(t)}function P(t){return function(){return R([this,A(arguments)],function(e,n){return t.apply(e,n)})}}function C(t,e,n){return c(t).L(e,n)}function A(t){return h(t,function(t){var e=0,n=p();return G(t,function(r,o,i){var s;v(o)&&"fulfilled"===(s=o.N()).state?t[i]=s.value:(++e,h(o,function(r){t[i]=r,0==--e&&n.resolve(t)},n.reject,function(t){n.notify({index:i,value:t})}))},void 0),0===e&&n.resolve(t),n.k})}function L(t){if(0===t.length)return c.resolve();var e=c.defer(),n=0;return G(t,function(r,o,i){function s(t){e.resolve(t)}function u(t){0===--n&&(t.message="Q can't get fulfillment value from any promise, all promises were rejected. Last error message: "+t.message,e.reject(t))}function a(t){e.notify({index:i,value:t})}var c=t[i];n++,h(c,s,u,a)},void 0),e.k}function V(t){return h(t,function(t){return t=W(t,c),h(A(W(t,function(t){return h(t,Q,Q)})),function(){return t})})}function H(t){return c(t).V()}function U(t,e){return c(t).then(void 0,void 0,e)}function j(t,e){return c(t).H(e)}var B=!1;try{throw new Error}catch(t){B=!!t.stack}var M,F,q=a(),Q=function(){},Y=function(){function t(){for(var t,r;n.next;)n=n.next,t=n.U,n.U=void 0,r=n.domain,r&&(n.domain=void 0,r.j()),e(t,r);for(;a.length;)t=a.pop(),e(t);o=!1}function e(e,n){try{e()}catch(e){if(s)throw n&&n.B(),setTimeout(t,0),n&&n.j(),e;setTimeout(function(){throw e},0)}n&&n.B()}var n={U:void 0,next:null},r=n,o=!1,i=void 0,s=!1,u=!1;try{u=navigator&&("Microsoft Internet Explorer"===navigator.appName||null!=navigator.appVersion.match(/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i))}catch(t){}var a=[];if(Y=function(t){"undefined"!=typeof Framework&&Framework.M()?Framework.setTimeout(t,0):(r=r.next={U:t,domain:s&&process.domain,next:null},o||(o=!0,i()))},"object"==typeof process&&process&&"[object process]"===process.toString()&&process._)s=!0,i=function(){process._(t)};else if("function"!=typeof setImmediate||u)if("undefined"==typeof MessageChannel||u)i=function(){setTimeout(t,0)};else{var c=new MessageChannel;c.port1.onmessage=function(){i=p,c.port1.onmessage=t,t()};var p=function(){c.port2.postMessage(0)};i=function(){setTimeout(t,0),p()}}else i="undefined"!=typeof window?setImmediate.bind(window,t):function(){setImmediate(t)};return Y.D=function(t){a.push(t),o||(o=!0,i())},Y}(),J=Function.call,X=t(Array.prototype.slice),G=t(Array.prototype.reduce||function(t,e){var n=0,r=this.length;if(1===arguments.length)for(;;){if(n in this){e=this[n++];break}if(++n>=r)throw new TypeError}for(;n<r;n++)n in this&&(e=t(e,this[n],n));return e}),K=t(Array.prototype.indexOf||function(t){for(var e=0;e<this.length;e++)if(this[e]===t)return e;return-1}),W=t(Array.prototype.map||function(t,e){var n=this,r=[];return G(n,function(o,i,s){r.push(t.call(e,i,s,n))},void 0),r}),z=Object.create||function(t){function e(){}return e.prototype=t,new e},$=t(Object.prototype.hasOwnProperty),Z=Object.keys||function(t){var e=[];for(var n in t)$(t,n)&&e.push(n);return e},tt=t(Object.prototype.toString);F="undefined"!=typeof ReturnValue?ReturnValue:function(t){this.value=t};var et="From previous event:";c.resolve=c,c._=Y,c.T=!1,"object"==typeof process&&process&&process.F&&process.F.q&&(c.T=!0),c.defer=p,p.prototype.Y=function(){var t=this;return function(e,n){e?t.reject(e):arguments.length>2?t.resolve(X(arguments,1)):t.resolve(n)}},c.Promise=f,c.k=f,f.race=l,f.all=A,f.reject=I,f.resolve=c,c.J=function(t){return t},d.prototype.J=function(){return this},c.join=function(t,e){return c(t).join(e)},d.prototype.join=function(t){return c([this,t]).A(function(t,e){if(t===e)return t;throw new Error("Q can't join: not the same: "+t+" "+e)})},c.race=l,d.prototype.race=function(){return this.then(c.race)},c.X=d,d.prototype.toString=function(){return"[object Promise]"},d.prototype.then=function(t,e,n){function o(e){try{return"function"==typeof t?t(e):e}catch(t){return I(t)}}function i(t){if("function"==typeof e){r(t,u);try{return e(t)}catch(t){return I(t)}}return I(t)}function s(t){return"function"==typeof n?n(t):t}var u=this,a=p(),f=!1;return c._(function(){u.I(function(t){f||(f=!0,a.resolve(o(t)))},"when",[function(t){f||(f=!0,a.resolve(i(t)))}])}),u.I(void 0,"when",[void 0,function(t){var e,n=!1;try{e=s(t)}catch(t){if(n=!0,!c.onerror)throw t;c.onerror(t)}n||a.notify(e)}]),a.k},c.G=function(t,e){return c(t).G(e)},d.prototype.G=function(t){return t=c(t),this.then(function(e){return t.W(e).K(e)})},c.when=h,d.prototype.K=function(t){return this.then(function(){return t})},c.K=function(t,e){return c(t).K(e)},d.prototype.$=function(t){return this.then(function(){throw t})},c.$=function(t,e){return c(t).$(e)},c.Z=y,c.tt=v,c.et=g,c.nt=E,d.prototype.nt=function(){return"pending"===this.N().state},c.rt=m,d.prototype.rt=function(){return"fulfilled"===this.N().state},c.ot=T,d.prototype.ot=function(){return"rejected"===this.N().state};var nt=[],rt=[],ot=[],it=!0;c.it=S,c.st=function(){return nt.slice()},c.ut=function(){S(),it=!1},S(),c.reject=I,c.R=w,c.at=k,c.A=R,d.prototype.A=function(t,e){return this.all().then(function(e){return t.apply(void 0,e)},e)},c.async=x,c.ct=O,c.pt=D,c.ft=P,c.L=C,d.prototype.L=function(t,e){var n=this,r=p();return c._(function(){n.I(r.resolve,t,e)}),r.k},c.get=function(t,e){return c(t).L("get",[e])},d.prototype.get=function(t){return this.L("get",[t])},c.set=function(t,e,n){return c(t).L("set",[e,n])},d.prototype.set=function(t,e){return this.L("set",[t,e])},c.lt=c.delete=function(t,e){return c(t).L("delete",[e])},d.prototype.lt=d.prototype.delete=function(t){return this.L("delete",[t])},c.dt=c.P=function(t,e,n){return c(t).L("post",[e,n])},d.prototype.dt=d.prototype.P=function(t,e){return this.L("post",[t,e])},c.send=c.ht=c.yt=function(t,e){return c(t).L("post",[e,X(arguments,2)])},d.prototype.send=d.prototype.ht=d.prototype.yt=function(t){return this.L("post",[t,X(arguments,1)])},c.vt=function(t,e){return c(t).L("apply",[void 0,e])},d.prototype.vt=function(t){return this.L("apply",[void 0,t])},c.gt=c.W=function(t){return c(t).L("apply",[void 0,X(arguments,1)])},d.prototype.W=function(){return this.L("apply",[void 0,X(arguments)])},c.Et=function(t){var e=c(t),n=X(arguments,1);return function(){return e.L("apply",[this,n.concat(X(arguments))])}},d.prototype.Et=function(){var t=this,e=X(arguments);return function(){return t.L("apply",[this,e.concat(X(arguments))])}},c.keys=function(t){return c(t).L("keys",[])},d.prototype.keys=function(){return this.L("keys",[])},c.all=A,d.prototype.all=function(){return A(this)},c.Tt=L,d.prototype.Tt=function(){return L(this)},c.St=function(t,e,n){return function(){return"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(e+" is deprecated, use "+n+" instead.",new Error("").stack),t.apply(t,arguments)}}(V,"allResolved","allSettled"),d.prototype.St=function(){return V(this)},c.V=H,d.prototype.V=function(){return this.then(function(t){return A(W(t,function(t){function e(){return t.N()}return t=c(t),t.then(e,e)}))})},c.fail=c.catch=function(t,e){return c(t).then(void 0,e)},d.prototype.fail=d.prototype.catch=function(t){return this.then(void 0,t)},c.progress=U,d.prototype.progress=function(t){return this.then(void 0,void 0,t)},c._t=c.finally=function(t,e){return c(t).finally(e)},d.prototype._t=d.prototype.finally=function(t){if(!t||"function"!=typeof t.apply)throw new Error("Q can't apply finally callback");return t=c(t),this.then(function(e){return t.W().then(function(){return e})},function(e){return t.W().then(function(){throw e})})},c.done=function(t,e,n,r){return c(t).done(e,n,r)},d.prototype.done=function(t,e,n){var o=function(t){c._(function(){if(r(t,i),!c.onerror)throw t;c.onerror(t)})},i=t||e||n?this.then(t,e,n):this;"object"==typeof process&&process&&process.domain&&(o=process.domain.bind(o)),i.then(void 0,o)},c.timeout=function(t,e,n){return c(t).timeout(e,n)},d.prototype.timeout=function(t,e){var n=p(),r=setTimeout(function(){e&&"string"!=typeof e||(e=new Error(e||"Timed out after "+t+" ms"),e.code="ETIMEDOUT"),n.reject(e)},t);return this.then(function(t){clearTimeout(r),n.resolve(t)},function(t){clearTimeout(r),n.reject(t)},n.notify),n.k},c.delay=function(t,e){return void 0===e&&(e=t,t=void 0),c(t).delay(e)},d.prototype.delay=function(t){return this.then(function(e){var n=p();return setTimeout(function(){n.resolve(e)},t),n.k})},c.bt=function(t,e){return c(t).bt(e)},d.prototype.bt=function(t){var e=p(),n=X(t);return n.push(e.Y()),this.vt(n).fail(e.reject),e.k},c.It=function(t){var e=X(arguments,1);return c(t).bt(e)},d.prototype.It=function(){var t=X(arguments),e=p();return t.push(e.Y()),this.vt(t).fail(e.reject),e.k},c.wt=c.Nt=function(t){if(void 0===t)throw new Error("Q can't wrap an undefined function");var e=X(arguments,1);return function(){var n=e.concat(X(arguments)),r=p();return n.push(r.Y()),c(t).vt(n).fail(r.reject),r.k}},d.prototype.wt=d.prototype.Nt=function(){var t=X(arguments);return t.unshift(this),c.Nt.apply(void 0,t)},c.kt=function(t,e){var n=X(arguments,2);return function(){function r(){return t.apply(e,arguments)}var o=n.concat(X(arguments)),i=p();return o.push(i.Y()),c(r).vt(o).fail(i.reject),i.k}},d.prototype.kt=function(){var t=X(arguments,0);return t.unshift(this),c.kt.apply(void 0,t)},c.Rt=c.xt=function(t,e,n){return c(t).xt(e,n)},d.prototype.Rt=d.prototype.xt=function(t,e){var n=X(e||[]),r=p();return n.push(r.Y()),this.L("post",[t,n]).fail(r.reject),r.k},c.Ot=c.Dt=c.Pt=function(t,e){var n=X(arguments,2),r=p();return n.push(r.Y()),c(t).L("post",[e,n]).fail(r.reject),r.k},d.prototype.Ot=d.prototype.Dt=d.prototype.Pt=function(t){var e=X(arguments,1),n=p();return e.push(n.Y()),this.L("post",[t,e]).fail(n.reject),n.k},c.H=j,d.prototype.H=function(t){if(!t)return this;this.then(function(e){c._(function(){t(null,e)})},function(e){c._(function(){t(e)})})},c.Ct=function(){throw new Error("Q.noConflict only works when Q is used as a global")};var st=a();return c})},function(t,e,n){"use strict";var r=this&&this.At||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(0),i=n(2),s=n(3),u=i.Vt.Lt;-1==u&&(u=3e4);var a=function(t){function e(e,n){var r=t.call(this,n)||this;return r.pluginName="bitmovin",r.Ht=[],r.Ut=void 0,r.player=e,r.player.originalSetup=r.player.setup,r.player.jt=r.player.load,r.player.load=function(t,e,n){return r.player.closeHiveSession(),r.player.jt(t,e,n)},r.player.closeHiveSession=function(t){void 0===t&&(t=!0),r.closeHiveSession(),t&&r.Bt()},r.player.setup=function(t,e){r.closeHiveSession(),t.source.hls_ticket&&t.source.dash_ticket&&(r.logger().warn("The Hive plugin does not support providing a ticket for both DASH and HLS simultaneously. Using HLS source."),delete t.source.dash_ticket);var n=t.source.hls_ticket?"hls":t.source.dash_ticket?"dash":"",i=t.source.hls_ticket||t.source.dash_ticket;return i?(delete t.source[n+"_ticket"],r.resolveTicketPromise(i).timeout(u,r.loggerId+"Hive Plugin initialization timeout").then(function(o){return r.Mt(),o.tech.getName()===HiveComm.TechName.HiveJS&&(t.network={sendHttpRequest:r.sendHttpRequest(o.id)}),t.source[n]=o.manifest,r.player.originalSetup(t,e)}).catch(function(t){return r.onSetupTimeout(),r.resetSession(),r.logger().debug(r.loggerId+"error occurred resolving the ticket - "+(t.stack||t.message||t)),o.reject(t)})):(r.logger().debug(r.loggerId+"No Hive ticket provided, falling back to originalSetup"),r.player.originalSetup(t,e))},r.logger().notice(r.loggerId+"registered plugin [name:"+r.getPluginName()+"][id: "+r.getPluginId()+"][version: "+r.getPluginVersion()+"]"),r}return r(e,t),e.prototype.sendHttpRequest=function(t){var e=this;return function(n,r){return e.logger().debug("sendHttpRequest called",n,r),e.getPotentialSession()&&n.match(/manifest\/dash|manifest\/hls|audio|video/)?(e.logger().debug("Using HiveRequest",n,r),new s.Ft(r,t)):null}},e.prototype.registerEvent=function(t,e){this.player.addEventHandler(t,e),this.Ht.push({qt:t,Qt:e})},e.prototype.Bt=function(){var t=this;this.logger().debug(this.loggerId+"Unregistering events"),this.Ht.forEach(function(e){var n=e.qt,r=e.Qt;t.player.removeEventHandler(n,r)}),this.Ht.length=0},e.prototype.Mt=function(){var t=this;this.Ht.length||(this.registerEvent("onReady",function(){if(t.logger().debug("bitmovin.player.EVENT.ON_READY"),t.onActivateSession()){!!t.player.getConfig().playback&&t.player.getConfig().playback.auto&&t.onStartBuffering(!1),t.getActiveSession()&&(t.Yt=new HiveComm.HivePlayerExtendedStats)}}),this.registerEvent("onPlay",function(){t.logger().debug("bitmovin.player.EVENT.ON_PLAY"),t.Jt(0)}),this.registerEvent("onError",function(e){t.logger().debug("bitmovin.player.EVENT.ON_ERROR");var n=-1,r=null;if(null!=e)try{n=e.code,r=JSON.stringify(e,null)}catch(t){r=e}t.onError(n,r),t.Bt()}),this.registerEvent("onPlaybackFinished",function(){t.logger().debug("bitmovin.player.EVENT.ON_PLAYBACK_FINISHED"),t.onEventFeedback(4,{code:1})}),this.registerEvent("onSeek",function(){t.logger().debug("bitmovin.player.EVENT.ON_SEEK"),t.onEventFeedback(3)}),this.registerEvent("onFullscreenEnter",function(){t.logger().debug("bitmovin.player.EVENT.ON_FULLSCREEN_ENTER"),t.onEventFeedback(7,{value:!0})}),this.registerEvent("onFullscreenExit",function(){t.logger().debug("bitmovin.player.EVENT.ON_FULLSCREEN_EXIT"),t.onEventFeedback(7,{value:!1})}),this.registerEvent("onSegmentRequestFinished",function(e){if(t.Yt){var n=e.mimeType.indexOf("video")>=0;if(void 0===t.Xt){var r=t.player.getPlaybackVideoData();r&&r.bitrate&&t.Gt(r.bitrate)}if(e.success){if(!e.isInit&&t.Xt){var o=8*e.size/e.downloadTime;t.Yt.accountCompleted(n,t.Xt,e.size),t.Yt.updateBandwidth(o)}}else t.Yt.accountFailed(n,t.Xt)}}),this.registerEvent("onDestroy",function(){t.logger().debug("bitmovin.player.EVENT.ON_DESTROY"),t.player.closeHiveSession(!1)}),0===this.getPlayerVersion().indexOf("7")?this.Kt():0===this.getPlayerVersion().indexOf("6")&&this.Wt())},e.prototype.Wt=function(){var t=this;this.registerEvent("onStartBuffering",function(){t.logger().debug("bitmovin.player.EVENT.ON_START_BUFFERING"),t.onStartBuffering()}),this.registerEvent("onStopBuffering",function(){t.logger().debug("bitmovin.player.EVENT.ON_STOP_BUFFERING"),t.onEndBuffering()}),this.registerEvent("onPause",function(){t.logger().debug("bitmovin.player.EVENT.ON_PAUSE"),t.Jt(2)}),this.registerEvent("onVideoDownloadQualityChange",function(e){t.getStreamProtocol()===StreamProtocol.zt?t.Gt(e.targetQuality):t.Gt(e.targetQuality.split("br")[1])})},e.prototype.Kt=function(){var t=this;this.registerEvent("onStallStarted",function(){t.logger().debug("bitmovin.player.EVENT.ON_STALL_STARTED"),t.onStartBuffering()}),this.registerEvent("onStallEnded",function(){t.logger().debug("bitmovin.player.EVENT.ON_STALL_ENDED"),t.onEndBuffering()}),this.registerEvent("onPaused",function(){t.logger().debug("bitmovin.player.EVENT.ON_PAUSED"),t.Jt(2)}),this.registerEvent("onVideoDownloadQualityChanged",function(e){t.Gt(e.targetQuality&&e.targetQuality.bitrate||e.targetQualityId&&e.targetQualityId.bitrate)})},e.prototype.Gt=function(t){this.logger().debug("newBitrate",t),this.Xt&&t>this.Xt&&this.Yt?this.Yt.bitrateSwitchUp():this.Xt&&this.Xt>t&&this.Yt&&this.Yt.bitrateSwitchDown(),this.Xt=t},e.prototype.Jt=function(t){void 0!=this.Ut&&this.Ut===t||(this.onEventFeedback(t),this.Ut=t)},e.prototype.getPlayerSource=function(){var t=this.getStreamProtocol();return t===StreamProtocol.zt?this.player.getConfig().source.hls:t===StreamProtocol.DASH?this.player.getConfig().source.dash:void 0},e.prototype.getCurrentTime=function(){return null!=this.player?Math.round(1e3*this.player.getCurrentTime()):0},e.prototype.getBufferLen=function(){return null!=this.player&&null!=this.player.getVideoBufferLength&&this.player.getVideoBufferLength()>0?Math.max(0,Math.round(1e3*this.player.getVideoBufferLength())):0},e.prototype.getWindowSize=function(){if(this.player){var t=this.player.getFigure();return{width:t.offsetWidth,height:t.offsetHeight}}},e.prototype.isFullscreen=function(){return this.player.isFullscreen()},e.prototype.isLive=function(){return this.player.isLive()},e.prototype.isActive=function(){return!0},e.prototype.getStreamProtocol=function(){if(this.player){var t=this.player.getStreamType();if("hls"===t)return StreamProtocol.zt;if("dash"===t)return StreamProtocol.DASH}return null},e.prototype.getExtendedStats=function(){var t=this.Yt;return this.Yt=new HiveComm.HivePlayerExtendedStats,t},e.prototype.getPluginName=function(){return this.pluginName},e.prototype.getPluginVersion=function(){return this.getCommVersion()},e.prototype.getPlayerTech=function(){if(this.player)return this.player.getPlayerType()},e.prototype.getPlayerVersion=function(){return void 0!==bitmovin.player.version?bitmovin.player.version:this.player.getVersion()},e}(HiveComm.Plugin);e.$t=a;var c=function(t,e){new a(t,e)};bitmovin.initHiveSDN=c},function(t,e,n){"use strict";var r=function(){function t(){}return t}();r.Zt="undefined"!=typeof HIVE_COMM_JS&&HIVE_COMM_JS,r.te="undefined"!=typeof HIVE_COMM_JAVA&&HIVE_COMM_JAVA,r.ee="undefined"!=typeof HIVE_COMM_JS_PROXY&&HIVE_COMM_JS_PROXY,r.ne="4.1.0",r.re="bitmovin",r.oe="undefined"!=typeof HIVE_SERVICE_ENDPOINT_TEST&&HIVE_SERVICE_ENDPOINT_TEST,r.ie="undefined"==typeof HIVE_PERSISTENT_IDENTITY||HIVE_PERSISTENT_IDENTITY,r.se="undefined"!=typeof INCLUDE_VOD_CACHE&&INCLUDE_VOD_CACHE,r.ue="undefined"!=typeof INCLUDE_UDP_BROADCAST&&INCLUDE_UDP_BROADCAST,r.ae="undefined"!=typeof INCLUDE_UDP_LEADER_ELECTION&&INCLUDE_UDP_LEADER_ELECTION,r.ce="undefined"!=typeof LEADER_SCORE_EQUALITY&&LEADER_SCORE_EQUALITY,r.pe="undefined"!=typeof INCLUDE_DEFAULT_NETWORK&&INCLUDE_DEFAULT_NETWORK,r.fe="undefined"!=typeof HIVE_RESTRICTED_CONNINFO&&HIVE_RESTRICTED_CONNINFO,r.le="undefined"!=typeof HIVE_DISCOVERY?HIVE_DISCOVERY:"ws://127.0.0.1:8000/hive",r.de="undefined"!=typeof P2PDispatcherDetailedLog&&P2PDispatcherDetailedLog,r.he="undefined"!=typeof NetworkManagerDetailedLog&&NetworkManagerDetailedLog,r.ye="undefined"!=typeof ATATUS_KEY?ATATUS_KEY:"592835a6b4204dd197c00488610003e0",r.ve="undefined"!=typeof ATATUS_VERSION?ATATUS_VERSION:"0.8",r.ge="undefined"==typeof ATATUS_DEFAULT_ENABLED||ATATUS_DEFAULT_ENABLED,r.Ee=5,r.Lt="undefined"!=typeof HIVE_PLUGIN_TIMEOUT?HIVE_PLUGIN_TIMEOUT:-1,r.me="undefined"==typeof HIVE_DETECT_PRIVATEIP||HIVE_DETECT_PRIVATEIP,r.Te="undefined"==typeof HIVE_STORE_IP_DB||HIVE_STORE_IP_DB,e.Vt=r},function(t,e,n){"use strict";var r=n(4),o=n(0),i=function(){function t(t,e){this.sessionId=e,this.request=t}return t.prototype.getResponse=function(){var t=this,e=o.defer();return this.Se=new r._e({xhrSetup:function(e,n){e=new HiveComm.HiveRequestFactory(t.sessionId),e.open(t.request.method,n.url,!0);for(var r=0,o=t.request.headers;r<o.length;r++){var i=o[r];e.setRequestHeader(i.name,i.value)}return e.responseType=t.request.responseType,e}}),this.Se.load(this.request,{},{onSuccess:function(n,r,o){console.log("SUCCESS REQUEST",n,r,o),e.resolve({request:t.request,url:t.request.url,headers:t.request.headers,status:n.status,length:n.data.length||n.data.byteLength,statusText:"OK",body:n.data})},onError:function(t,n){var r=t.code;t.text;e.reject(r)},onTimeout:function(t,n){e.reject("timeout")}}),e.k},t.prototype.setProgressListener=function(t){},t.prototype.cancel=function(){this.Se&&this.Se.abort()},t}();e.Ft=i},function(t,e,n){"use strict";var r=function(){function t(t){this.loggerId="[HiveXhrLoader]",this.be=t,t&&t.xhrSetup&&(this.xhrSetup=t.xhrSetup)}return t.prototype.destroy=function(){this.abort(),this.loader=null,this.xhr=null},t.prototype.abort=function(){var t=this.loader||this.xhr;t&&4!==t.readyState&&(this.stats.Ie=!0,t.abort()),window.clearTimeout(this.requestTimeout),this.requestTimeout=null,window.clearTimeout(this.retryTimeout),this.retryTimeout=null},t.prototype.load=function(t,e,n){this.context=t,this.config=e,this.callbacks=n,this.stats={trequest:performance.now(),retry:0},this.retryDelay=e.retryDelay,this.we()},t.prototype.we=function(){this.xhr=null;var t=this.context,e=this.stats;e.tfirst=0,e.loaded=0,this.xhrSetup?this.xhr=this.xhrSetup(this.xhr,t):HiveComm.logError("Hive XHR setup missing",this.loggerId),this.xhr.onreadystatechange=this.readystatechange.bind(this),this.xhr.onprogress=this.loadprogress.bind(this),this.config.timeout&&(this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),this.config.timeout)),this.xhr.send()},t.prototype.readystatechange=function(t){var e=t.currentTarget,n=e.readyState,r=this.stats,o=this.context,i=this.config;if(!r.Ie&&n>=2)if(window.clearTimeout(this.requestTimeout),0===r.tfirst&&(r.tfirst=Math.max(performance.now(),r.trequest)),4===n){var s=e.status;if(s>=200&&s<300){r.tload=Math.max(r.tfirst,performance.now());var u=void 0,a=void 0;"arraybuffer"===o.responseType?(u=e.response,a=u.byteLength):(u=e.responseText,a=u.length),r.loaded=r.total=a;var c={url:e.responseURL,data:u};this.callbacks.onSuccess(c,r,o)}else r.retry>=i.Ne||s>=400&&s<499?(console.warn(s+" while loading "+o.url),this.callbacks.onError({code:s,text:e.statusText},o)):(console.warn(s+" while loading "+o.url+", retrying in "+this.retryDelay+"..."),this.destroy(),this.retryTimeout=window.setTimeout(this.we.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,i.ke),r.retry++)}else i.timeout&&(this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),i.timeout))},t.prototype.loadtimeout=function(){console.warn("timeout while loading "+this.context.url),this.callbacks.onTimeout(this.stats,this.context)},t.prototype.loadprogress=function(t){var e=this.stats;e.loaded=t.loaded,t.lengthComputable&&(e.total=t.total);var n=this.callbacks.onProgress;n&&n(e,this.context,null)},t}();e._e=r}]);
//# sourceMappingURL=bitmovin.comm.hive1532444576721.js.map

/***/ })
/******/ ]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgMzNkMjAwMmUwYWNhZGUwZjM1YTUiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9jb250YWluZXIudHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvZG9tLnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvY29tcG9uZW50LnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2V2ZW50ZGlzcGF0Y2hlci50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3N1YnRpdGxlc2V0dGluZ3Mvc3VidGl0bGVzZXR0aW5nc2VsZWN0Ym94LnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvdG9nZ2xlYnV0dG9uLnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvbGFiZWwudHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9idXR0b24udHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9zZWxlY3Rib3gudHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvdGltZW91dC50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9zdHJpbmd1dGlscy50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9hcnJheXV0aWxzLnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL3BsYXllcnV0aWxzLnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvdWljb250YWluZXIudHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvYnJvd3NlcnV0aWxzLnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvcGxheWJhY2t0b2dnbGVidXR0b24udHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy92b2x1bWV0b2dnbGVidXR0b24udHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9zZWVrYmFyLnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvY29udHJvbGJhci50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci91aXV0aWxzLnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvc3BhY2VyLnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvc2V0dGluZ3NwYW5lbC50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3ZpZGVvcXVhbGl0eXNlbGVjdGJveC50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL2F1ZGlvcXVhbGl0eXNlbGVjdGJveC50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3N1YnRpdGxlc2V0dGluZ3Mvc3VidGl0bGVzZXR0aW5nc2J1dHRvbi50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3ZvbHVtZXNsaWRlci50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL21ldGFkYXRhbGFiZWwudHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9jbGlja292ZXJsYXkudHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9mdWxsc2NyZWVudG9nZ2xlYnV0dG9uLnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvdnJ0b2dnbGVidXR0b24udHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9wbGF5YmFja3RpbWVsYWJlbC50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3NldHRpbmdzdG9nZ2xlYnV0dG9uLnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvbGlzdHNlbGVjdG9yLnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvc3VidGl0bGVzZXR0aW5ncy9zdWJ0aXRsZXNldHRpbmdzcGFuZWwudHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9zdWJ0aXRsZXNldHRpbmdzL2ZvbnRjb2xvcnNlbGVjdGJveC50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3N1YnRpdGxlc2V0dGluZ3MvZm9udG9wYWNpdHlzZWxlY3Rib3gudHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9zdWJ0aXRsZXNldHRpbmdzL2ZvbnRmYW1pbHlzZWxlY3Rib3gudHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9zdWJ0aXRsZXNldHRpbmdzL2ZvbnRzaXplc2VsZWN0Ym94LnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvc3VidGl0bGVzZXR0aW5ncy9iYWNrZ3JvdW5kY29sb3JzZWxlY3Rib3gudHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9zdWJ0aXRsZXNldHRpbmdzL2JhY2tncm91bmRvcGFjaXR5c2VsZWN0Ym94LnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvc3VidGl0bGVzZXR0aW5ncy93aW5kb3djb2xvcnNlbGVjdGJveC50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3N1YnRpdGxlc2V0dGluZ3Mvd2luZG93b3BhY2l0eXNlbGVjdGJveC50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3N1YnRpdGxlc2V0dGluZ3MvY2hhcmFjdGVyZWRnZXNlbGVjdGJveC50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9zdG9yYWdldXRpbHMudHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9zdWJ0aXRsZXNldHRpbmdzL3N1YnRpdGxlc2V0dGluZ3NjbG9zZWJ1dHRvbi50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3N1YnRpdGxlc2V0dGluZ3Mvc3VidGl0bGVzZXR0aW5nc3Jlc2V0YnV0dG9uLnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvc3VidGl0bGVzZXR0aW5ncy9zdWJ0aXRsZXNldHRpbmdzbGFiZWwudHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9zdWJ0aXRsZXNldHRpbmdzL3N1YnRpdGxlc2V0dGluZ3NvcGVuYnV0dG9uLnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvYXVkaW90cmFja3NlbGVjdGJveC50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3NlZWtiYXJsYWJlbC50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3N1YnRpdGxlc2VsZWN0Ym94LnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvc3VidGl0bGVvdmVybGF5LnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvY2FzdHRvZ2dsZWJ1dHRvbi50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL2Nhc3RzdGF0dXNvdmVybGF5LnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvZXJyb3JtZXNzYWdlb3ZlcmxheS50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3RpdGxlYmFyLnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvcmVjb21tZW5kYXRpb25vdmVybGF5LnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvaHVnZXJlcGxheWJ1dHRvbi50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3BsYXliYWNrc3BlZWRzZWxlY3Rib3gudHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9idWZmZXJpbmdvdmVybGF5LnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvcGxheWJhY2t0b2dnbGVvdmVybGF5LnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvaHVnZXBsYXliYWNrdG9nZ2xlYnV0dG9uLnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvY2xvc2VidXR0b24udHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9haXJwbGF5dG9nZ2xlYnV0dG9uLnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvcGljdHVyZWlucGljdHVyZXRvZ2dsZWJ1dHRvbi50cyIsIndlYnBhY2s6Ly8vLi9pbmRleC50cyIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJhbmd1bGFyXCIiLCJ3ZWJwYWNrOi8vLy4vYml0bW92aW4tcGxheWVyLmNvbnRyb2xsZXIudHMiLCJ3ZWJwYWNrOi8vLy4vd2ViY2FzdC5zdGF0ZS50cyIsIndlYnBhY2s6Ly8vLi9iaXRtb3Zpbi1wbGF5ZXIuZGlyZWN0aXZlLnRzIiwid2VicGFjazovLy8uLi9saWIva29sbGVjdGl2ZS9rb2xsZWN0aXZlLXNkbi0xLjEuMC5taW4uanMiLCJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy9idWZmZXIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy93ZWJwYWNrL2J1aWxkaW4vZ2xvYmFsLmpzIiwid2VicGFjazovLy8uLi9ub2RlX21vZHVsZXMvYmFzZTY0LWpzL2luZGV4LmpzIiwid2VicGFjazovLy8uLi9ub2RlX21vZHVsZXMvaWVlZTc1NC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi4vbm9kZV9tb2R1bGVzL2lzYXJyYXkvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vcGxheWVyLXNvdXJjZS50eXBlLnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL21haW4udHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvdWltYW5hZ2VyLnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2d1aWQudHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9zdWJ0aXRsZXNldHRpbmdzL3N1YnRpdGxlc2V0dGluZ3NtYW5hZ2VyLnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2ltYWdlbG9hZGVyLnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvdHZub2lzZWNhbnZhcy50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL2F1ZGlvb25seW92ZXJsYXkudHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9pdGVtc2VsZWN0aW9ubGlzdC50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3dhdGVybWFyay50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3ZvbHVtZWNvbnRyb2xidXR0b24udHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9hZHNraXBidXR0b24udHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9hZG1lc3NhZ2VsYWJlbC50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL2FkY2xpY2tvdmVybGF5LnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvY2FzdHVpY29udGFpbmVyLnRzIiwid2VicGFjazovLy8uLi9saWIvaGl2ZS9iaXRtb3Zpbi5oaXZlLm1pbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLG1DQUEyQiwwQkFBMEIsRUFBRTtBQUN2RCx5Q0FBaUMsZUFBZTtBQUNoRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw4REFBc0QsK0RBQStEOztBQUVySDtBQUNBOztBQUVBO0FBQ0E7Ozs7Ozs7O0FDN0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxnQkFBZ0Isc0NBQXNDLGlCQUFpQixFQUFFO0FBQ3ZGLDZCQUE2Qix1REFBdUQ7QUFDcEY7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsc0JBQXNCO0FBQzdDO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsOENBQThDLGNBQWM7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZEQUE2RCxpQ0FBaUM7QUFDOUYsZ0JBQWdCLDZCQUE2QjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUM7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFFBQVE7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFFBQVE7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixRQUFRO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtFQUFrRSxtQ0FBbUM7QUFDckc7QUFDQTtB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QWlELEVBQUU7QUFDN0c7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0Esd0NBQXdDO0FBQ3hDO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSx3Q0FBd0M7QUFDeEMsU0FBUztBQUNUO0FBQ0EscUJBQXFCO0FBQ3JCLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxrQ0FBa0M7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxrRUFBa0UsdUNBQXVDLEVBQUU7QUFDM0c7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsUUFBUTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLG1CQUFtQjtBQUN4RCxpQkFBaUIsUUFBUTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsYUFBYTtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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QUFzQjtBQUM3QztBQUNBO0FBQ0EsQ0FBQztBQUNELDhDQUE4QyxjQUFjO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLGFBQWE7QUFDN0M7QUFDQTtBQUNBO0FBQ0EsbURBQW1ELDJCQUEyQjtBQUM5RTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnREFBZ0QsWUFBWTtBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3REFBd0QsZ0JBQWdCO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FB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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLG1EQUFtRDtBQUN4RTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLFVBQVU7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFlBQVk7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQSx1Q0FBdUMsU0FBUztBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGlCQUFpQjtBQUNoQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGFBQWEsaUJBQWlCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixTQUFTO0FBQzFCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsU0FBUztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsU0FBUztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCxFQUFFO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLGlCQUFpQixTQUFTO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUM7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixlQUFlO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLHdCQUF3QixRQUFRO0FBQ2hDO0FBQ0EscUJBQXFCLGVBQWU7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFlBQVk7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLHFCQUFxQixTQUFTO0FBQzlCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxxQkFBcUIsU0FBUztBQUM5QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxxQkFBcUIsU0FBUztBQUM5QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsa0JBQWtCO0FBQ25DO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxtQkFBbUIsY0FBYztBQUNqQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsdURBQXVELE9BQU87QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHVEQUF1RCxPQUFPO0FBQzlEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGtCQUFrQjtBQUNsQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHFCQUFxQixRQUFRO0FBQzdCO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxlQUFlLFNBQVM7QUFDeEI7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxtQkFBbUIsU0FBUztBQUM1QjtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxpQkFBaUI7QUFDaEM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxpQkFBaUIsWUFBWTtBQUM3Qjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FB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QVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBLDBEQUEwRCxpQkFBaUI7QUFDM0UsSUFBSSw4QkFBOEI7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsQ0FBQztBQUNEOzs7Ozs7OztBQ3RNQTtBQUNBLDhDQUE4QyxjQUFjO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENB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Q0FBc0MsdUJBQXVCLHlDQUF5Qyw2QkFBNkIsc0NBQXNDLGtEQUFrRCx5Q0FBeUMseUZBQXlGLEdBQUcsa0JBQWtCLE9BQU8sb0JBQW9CLFlBQVksdUJBQXVCLGlCQUFpQixhQUFhLGlCQUFpQixjQUFjLFNBQVMsR0FBRyw4NkNBQTg2QyxpQkFBaUIsYUFBYSwrQkFBK0IsZ0JBQWdCLGdDQUFnQywwQ0FBMEMsdUJBQXVCLHlCQUF5Qix1QkFBdUIsaUZBQWlGLGdDQUFnQyxXQUFXLEtBQUssV0FBVyxtQ0FBbUMsZ0RBQWdELDhCQUE4QixFQUFFLDBCQUEwQixnREFBZ0Qsa0pBQWtKLEVBQUUsdUJBQXVCLGFBQWEsT0FBTyxZQUFZLHlCQUF5QixxQkFBcUIsTUFBTSw4Q0FBOEMsK0JBQStCLHlCQUF5QixHQUFHLEdBQUcsT0FBTyxpQkFBaUIsYUFBYSxpQkFBaUIsY0FBYyxvRkFBb0Ysc0NBQXNDLDRDQUE0Qyw4QkFBOEIsNEJBQTRCLGtMQUFrTCxrQ0FBa0MsMERBQTBELG1DQUFtQyx3Q0FBd0MsMkJBQTJCLGNBQWMsZ0NBQWdDLDZXQUE2VywwQ0FBMEMsK0VBQStFLGtJQUFrSSxlQUFlLGtCQUFrQiw2Q0FBNkMsc0JBQXNCLDhHQUE4RyxPQUFPLDBCQUEwQixnQ0FBZ0MsbUdBQW1HLHlCQUF5Qix3T0FBd08sK0ZBQStGLG9DQUFvQywwR0FBMEcsc0NBQXNDLGlCQUFpQix3REFBd0QsZ0NBQWdDLDBCQUEwQixHQUFHLEdBQUcsT0FBTztBQUM5cHpCLDJEIiwiZmlsZSI6Im1pLWFuZ3VsYXItYml0ZGFzaC1wbGF5ZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHtcbiBcdFx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuIFx0XHRcdFx0Z2V0OiBnZXR0ZXJcbiBcdFx0XHR9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSA2NSk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjay9ib290c3RyYXAgMzNkMjAwMmUwYWNhZGUwZjM1YTUiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgY29tcG9uZW50XzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRcIik7XHJcbnZhciBkb21fMSA9IHJlcXVpcmUoXCIuLi9kb21cIik7XHJcbnZhciBhcnJheXV0aWxzXzEgPSByZXF1aXJlKFwiLi4vYXJyYXl1dGlsc1wiKTtcclxuLyoqXHJcbiAqIEEgY29udGFpbmVyIGNvbXBvbmVudCB0aGF0IGNhbiBjb250YWluIGEgY29sbGVjdGlvbiBvZiBjaGlsZCBjb21wb25lbnRzLlxyXG4gKiBDb21wb25lbnRzIGNhbiBiZSBhZGRlZCBhdCBjb25zdHJ1Y3Rpb24gdGltZSB0aHJvdWdoIHRoZSB7QGxpbmsgQ29udGFpbmVyQ29uZmlnI2NvbXBvbmVudHN9IHNldHRpbmcsIG9yIGxhdGVyXHJcbiAqIHRocm91Z2ggdGhlIHtAbGluayBDb250YWluZXIjYWRkQ29tcG9uZW50fSBtZXRob2QuIFRoZSBVSU1hbmFnZXIgYXV0b21hdGljYWxseSB0YWtlcyBjYXJlIG9mIGFsbCBjb21wb25lbnRzLCBpLmUuIGl0XHJcbiAqIGluaXRpYWxpemVzIGFuZCBjb25maWd1cmVzIHRoZW0gYXV0b21hdGljYWxseS5cclxuICpcclxuICogSW4gdGhlIERPTSwgdGhlIGNvbnRhaW5lciBjb25zaXN0cyBvZiBhbiBvdXRlciA8ZGl2PiAodGhhdCBjYW4gYmUgY29uZmlndXJlZCBieSB0aGUgY29uZmlnKSBhbmQgYW4gaW5uZXIgd3JhcHBlclxyXG4gKiA8ZGl2PiB0aGF0IGNvbnRhaW5zIHRoZSBjb21wb25lbnRzLiBUaGlzIGRvdWJsZS08ZGl2Pi1zdHJ1Y3R1cmUgaXMgb2Z0ZW4gcmVxdWlyZWQgdG8gYWNoaWV2ZSBtYW55IGFkdmFuY2VkIGVmZmVjdHNcclxuICogaW4gQ1NTIGFuZC9vciBKUywgZS5nLiBhbmltYXRpb25zIGFuZCBjZXJ0YWluIGZvcm1hdHRpbmcgd2l0aCBhYnNvbHV0ZSBwb3NpdGlvbmluZy5cclxuICpcclxuICogRE9NIGV4YW1wbGU6XHJcbiAqIDxjb2RlPlxyXG4gKiAgICAgPGRpdiBjbGFzcz0ndWktY29udGFpbmVyJz5cclxuICogICAgICAgICA8ZGl2IGNsYXNzPSdjb250YWluZXItd3JhcHBlcic+XHJcbiAqICAgICAgICAgICAgIC4uLiBjaGlsZCBjb21wb25lbnRzIC4uLlxyXG4gKiAgICAgICAgIDwvZGl2PlxyXG4gKiAgICAgPC9kaXY+XHJcbiAqIDwvY29kZT5cclxuICovXHJcbnZhciBDb250YWluZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoQ29udGFpbmVyLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gQ29udGFpbmVyKGNvbmZpZykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGNvbmZpZykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5jb25maWcgPSBfdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIHtcclxuICAgICAgICAgICAgY3NzQ2xhc3M6ICd1aS1jb250YWluZXInLFxyXG4gICAgICAgICAgICBjb21wb25lbnRzOiBbXSxcclxuICAgICAgICB9LCBfdGhpcy5jb25maWcpO1xyXG4gICAgICAgIF90aGlzLmNvbXBvbmVudHNUb0FkZCA9IFtdO1xyXG4gICAgICAgIF90aGlzLmNvbXBvbmVudHNUb1JlbW92ZSA9IFtdO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQWRkcyBhIGNoaWxkIGNvbXBvbmVudCB0byB0aGUgY29udGFpbmVyLlxyXG4gICAgICogQHBhcmFtIGNvbXBvbmVudCB0aGUgY29tcG9uZW50IHRvIGFkZFxyXG4gICAgICovXHJcbiAgICBDb250YWluZXIucHJvdG90eXBlLmFkZENvbXBvbmVudCA9IGZ1bmN0aW9uIChjb21wb25lbnQpIHtcclxuICAgICAgICB0aGlzLmNvbmZpZy5jb21wb25lbnRzLnB1c2goY29tcG9uZW50KTtcclxuICAgICAgICB0aGlzLmNvbXBvbmVudHNUb0FkZC5wdXNoKGNvbXBvbmVudCk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZW1vdmVzIGEgY2hpbGQgY29tcG9uZW50IGZyb20gdGhlIGNvbnRhaW5lci5cclxuICAgICAqIEBwYXJhbSBjb21wb25lbnQgdGhlIGNvbXBvbmVudCB0byByZW1vdmVcclxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlmIHRoZSBjb21wb25lbnQgaGFzIGJlZW4gcmVtb3ZlZCwgZmFsc2UgaWYgaXQgaXMgbm90IGNvbnRhaW5lZCBpbiB0aGlzIGNvbnRhaW5lclxyXG4gICAgICovXHJcbiAgICBDb250YWluZXIucHJvdG90eXBlLnJlbW92ZUNvbXBvbmVudCA9IGZ1bmN0aW9uIChjb21wb25lbnQpIHtcclxuICAgICAgICBpZiAoYXJyYXl1dGlsc18xLkFycmF5VXRpbHMucmVtb3ZlKHRoaXMuY29uZmlnLmNvbXBvbmVudHMsIGNvbXBvbmVudCkgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aGlzLmNvbXBvbmVudHNUb1JlbW92ZS5wdXNoKGNvbXBvbmVudCk7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEdldHMgYW4gYXJyYXkgb2YgYWxsIGNoaWxkIGNvbXBvbmVudHMgaW4gdGhpcyBjb250YWluZXIuXHJcbiAgICAgKiBAcmV0dXJucyB7Q29tcG9uZW50PENvbXBvbmVudENvbmZpZz5bXX1cclxuICAgICAqL1xyXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5nZXRDb21wb25lbnRzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbmZpZy5jb21wb25lbnRzO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUmVtb3ZlcyBhbGwgY2hpbGQgY29tcG9uZW50cyBmcm9tIHRoZSBjb250YWluZXIuXHJcbiAgICAgKi9cclxuICAgIENvbnRhaW5lci5wcm90b3R5cGUucmVtb3ZlQ29tcG9uZW50cyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gdGhpcy5nZXRDb21wb25lbnRzKCkuc2xpY2UoKTsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgdmFyIGNvbXBvbmVudCA9IF9hW19pXTtcclxuICAgICAgICAgICAgdGhpcy5yZW1vdmVDb21wb25lbnQoY29tcG9uZW50KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBVcGRhdGVzIHRoZSBET00gb2YgdGhlIGNvbnRhaW5lciB3aXRoIHRoZSBjdXJyZW50IGNvbXBvbmVudHMuXHJcbiAgICAgKi9cclxuICAgIENvbnRhaW5lci5wcm90b3R5cGUudXBkYXRlQ29tcG9uZW50cyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvKiBXZSBjYW5ub3QganVzdCBjbGVhciB0aGUgY29udGFpbmVyIHRvIHJlbW92ZSBhbGwgZWxlbWVudHMgYW5kIHRoZW4gcmUtYWRkIHRob3NlIHRoYXQgc2hvdWxkIHN0YXksIGJlY2F1c2VcclxuICAgICAgICAgKiBJRSBsb29zZXMgdGhlIGlubmVySFRNTCBvZiB1bmF0dGFjaGVkIGVsZW1lbnRzLCBsZWFkaW5nIHRvIGVtcHR5IGVsZW1lbnRzIHdpdGhpbiB0aGUgY29udGFpbmVyIChlLmcuIG1pc3NpbmdcclxuICAgICAgICAgKiBzdWJ0aXRsZSB0ZXh0IGluIFN1YnRpdGxlTGFiZWwpLlxyXG4gICAgICAgICAqIEluc3RlYWQsIHdlIGtlZXAgYSBsaXN0IG9mIGVsZW1lbnRzIHRvIGFkZCBhbmQgcmVtb3ZlLCBsZWF2aW5nIHJlbWFpbmluZyBlbGVtZW50cyBhbG9uZS4gQnkga2VlcGluZyB0aGVtIGluXHJcbiAgICAgICAgICogdGhlIERPTSwgdGhlaXIgY29udGVudCBnZXRzIHByZXNlcnZlZCBpbiBhbGwgYnJvd3NlcnMuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdmFyIGNvbXBvbmVudDtcclxuICAgICAgICB3aGlsZSAoY29tcG9uZW50ID0gdGhpcy5jb21wb25lbnRzVG9SZW1vdmUuc2hpZnQoKSkge1xyXG4gICAgICAgICAgICBjb21wb25lbnQuZ2V0RG9tRWxlbWVudCgpLnJlbW92ZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB3aGlsZSAoY29tcG9uZW50ID0gdGhpcy5jb21wb25lbnRzVG9BZGQuc2hpZnQoKSkge1xyXG4gICAgICAgICAgICB0aGlzLmlubmVyQ29udGFpbmVyRWxlbWVudC5hcHBlbmQoY29tcG9uZW50LmdldERvbUVsZW1lbnQoKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIENvbnRhaW5lci5wcm90b3R5cGUudG9Eb21FbGVtZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vIENyZWF0ZSB0aGUgY29udGFpbmVyIGVsZW1lbnQgKHRoZSBvdXRlciA8ZGl2PilcclxuICAgICAgICB2YXIgY29udGFpbmVyRWxlbWVudCA9IG5ldyBkb21fMS5ET00odGhpcy5jb25maWcudGFnLCB7XHJcbiAgICAgICAgICAgICdpZCc6IHRoaXMuY29uZmlnLmlkLFxyXG4gICAgICAgICAgICAnY2xhc3MnOiB0aGlzLmdldENzc0NsYXNzZXMoKSxcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBDcmVhdGUgdGhlIGlubmVyIGNvbnRhaW5lciBlbGVtZW50ICh0aGUgaW5uZXIgPGRpdj4pIHRoYXQgd2lsbCBjb250YWluIHRoZSBjb21wb25lbnRzXHJcbiAgICAgICAgdmFyIGlubmVyQ29udGFpbmVyID0gbmV3IGRvbV8xLkRPTSh0aGlzLmNvbmZpZy50YWcsIHtcclxuICAgICAgICAgICAgJ2NsYXNzJzogdGhpcy5wcmVmaXhDc3MoJ2NvbnRhaW5lci13cmFwcGVyJyksXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5pbm5lckNvbnRhaW5lckVsZW1lbnQgPSBpbm5lckNvbnRhaW5lcjtcclxuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gdGhpcy5jb25maWcuY29tcG9uZW50czsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgdmFyIGluaXRpYWxDb21wb25lbnQgPSBfYVtfaV07XHJcbiAgICAgICAgICAgIHRoaXMuY29tcG9uZW50c1RvQWRkLnB1c2goaW5pdGlhbENvbXBvbmVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMudXBkYXRlQ29tcG9uZW50cygpO1xyXG4gICAgICAgIGNvbnRhaW5lckVsZW1lbnQuYXBwZW5kKGlubmVyQ29udGFpbmVyKTtcclxuICAgICAgICByZXR1cm4gY29udGFpbmVyRWxlbWVudDtcclxuICAgIH07XHJcbiAgICByZXR1cm4gQ29udGFpbmVyO1xyXG59KGNvbXBvbmVudF8xLkNvbXBvbmVudCkpO1xyXG5leHBvcnRzLkNvbnRhaW5lciA9IENvbnRhaW5lcjtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL2NvbnRhaW5lci50c1xuLy8gbW9kdWxlIGlkID0gMFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG4vKipcclxuICogU2ltcGxlIERPTSBtYW5pcHVsYXRpb24gYW5kIERPTSBlbGVtZW50IGV2ZW50IGhhbmRsaW5nIG1vZGVsZWQgYWZ0ZXIgalF1ZXJ5IChhcyByZXBsYWNlbWVudCBmb3IgalF1ZXJ5KS5cclxuICpcclxuICogTGlrZSBqUXVlcnksIERPTSBvcGVyYXRlcyBvbiBzaW5nbGUgZWxlbWVudHMgYW5kIGxpc3RzIG9mIGVsZW1lbnRzLiBGb3IgZXhhbXBsZTogY3JlYXRpbmcgYW4gZWxlbWVudCByZXR1cm5zIGEgRE9NXHJcbiAqIGluc3RhbmNlIHdpdGggYSBzaW5nbGUgZWxlbWVudCwgc2VsZWN0aW5nIGVsZW1lbnRzIHJldHVybnMgYSBET00gaW5zdGFuY2Ugd2l0aCB6ZXJvLCBvbmUsIG9yIG1hbnkgZWxlbWVudHMuIFNpbWlsYXJcclxuICogdG8galF1ZXJ5LCBzZXR0ZXJzIHVzdWFsbHkgYWZmZWN0IGFsbCBlbGVtZW50cywgd2hpbGUgZ2V0dGVycyBvcGVyYXRlIG9uIG9ubHkgdGhlIGZpcnN0IGVsZW1lbnQuXHJcbiAqIEFsc28gc2ltaWxhciB0byBqUXVlcnksIG1vc3QgbWV0aG9kcyAoZXhjZXB0IGdldHRlcnMpIHJldHVybiB0aGUgRE9NIGluc3RhbmNlIGZhY2lsaXRhdGluZyBlYXN5IGNoYWluaW5nIG9mIG1ldGhvZFxyXG4gKiBjYWxscy5cclxuICpcclxuICogQnVpbHQgd2l0aCB0aGUgaGVscCBvZjogaHR0cDovL3lvdW1pZ2h0bm90bmVlZGpxdWVyeS5jb20vXHJcbiAqL1xyXG52YXIgRE9NID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gRE9NKHNvbWV0aGluZywgYXR0cmlidXRlcykge1xyXG4gICAgICAgIHRoaXMuZG9jdW1lbnQgPSBkb2N1bWVudDsgLy8gU2V0IHRoZSBnbG9iYWwgZG9jdW1lbnQgdG8gdGhlIGxvY2FsIGRvY3VtZW50IGZpZWxkXHJcbiAgICAgICAgaWYgKHNvbWV0aGluZyBpbnN0YW5jZW9mIEFycmF5KSB7XHJcbiAgICAgICAgICAgIGlmIChzb21ldGhpbmcubGVuZ3RoID4gMCAmJiBzb21ldGhpbmdbMF0gaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGVsZW1lbnRzID0gc29tZXRoaW5nO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50cyA9IGVsZW1lbnRzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHNvbWV0aGluZyBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XHJcbiAgICAgICAgICAgIHZhciBlbGVtZW50ID0gc29tZXRoaW5nO1xyXG4gICAgICAgICAgICB0aGlzLmVsZW1lbnRzID0gW2VsZW1lbnRdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChzb21ldGhpbmcgaW5zdGFuY2VvZiBEb2N1bWVudCkge1xyXG4gICAgICAgICAgICAvLyBXaGVuIGEgZG9jdW1lbnQgaXMgcGFzc2VkIGluLCB3ZSBkbyBub3QgZG8gYW55dGhpbmcgd2l0aCBpdCwgYnV0IGJ5IHNldHRpbmcgdGhpcy5lbGVtZW50cyB0byBudWxsXHJcbiAgICAgICAgICAgIC8vIHdlIGdpdmUgdGhlIGV2ZW50IGhhbmRsaW5nIG1ldGhvZCBhIG1lYW5zIHRvIGRldGVjdCBpZiB0aGUgZXZlbnRzIHNob3VsZCBiZSByZWdpc3RlcmVkIG9uIHRoZSBkb2N1bWVudFxyXG4gICAgICAgICAgICAvLyBpbnN0ZWFkIG9mIGVsZW1lbnRzLlxyXG4gICAgICAgICAgICB0aGlzLmVsZW1lbnRzID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoYXR0cmlidXRlcykge1xyXG4gICAgICAgICAgICB2YXIgdGFnTmFtZSA9IHNvbWV0aGluZztcclxuICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZ05hbWUpO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBhdHRyaWJ1dGVOYW1lIGluIGF0dHJpYnV0ZXMpIHtcclxuICAgICAgICAgICAgICAgIHZhciBhdHRyaWJ1dGVWYWx1ZSA9IGF0dHJpYnV0ZXNbYXR0cmlidXRlTmFtZV07XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lLCBhdHRyaWJ1dGVWYWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5lbGVtZW50cyA9IFtlbGVtZW50XTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHZhciBzZWxlY3RvciA9IHNvbWV0aGluZztcclxuICAgICAgICAgICAgdGhpcy5lbGVtZW50cyA9IHRoaXMuZmluZENoaWxkRWxlbWVudHMoc2VsZWN0b3IpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShET00ucHJvdG90eXBlLCBcImxlbmd0aFwiLCB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogR2V0cyB0aGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRoYXQgdGhpcyBET00gaW5zdGFuY2UgY3VycmVudGx5IGhvbGRzLlxyXG4gICAgICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IHRoZSBudW1iZXIgb2YgZWxlbWVudHNcclxuICAgICAgICAgKi9cclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudHMgPyB0aGlzLmVsZW1lbnRzLmxlbmd0aCA6IDA7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICAvKipcclxuICAgICAqIEdldHMgdGhlIEhUTUwgZWxlbWVudHMgdGhhdCB0aGlzIERPTSBpbnN0YW5jZSBjdXJyZW50bHkgaG9sZHMuXHJcbiAgICAgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnRbXX0gdGhlIHJhdyBIVE1MIGVsZW1lbnRzXHJcbiAgICAgKiBAZGVwcmVjYXRlZCB1c2Uge0BsaW5rICNnZXQoKX0gaW5zdGVhZFxyXG4gICAgICovXHJcbiAgICBET00ucHJvdG90eXBlLmdldEVsZW1lbnRzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldCgpO1xyXG4gICAgfTtcclxuICAgIERPTS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKGluZGV4KSB7XHJcbiAgICAgICAgaWYgKGluZGV4ID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudHM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKCF0aGlzLmVsZW1lbnRzIHx8IGluZGV4ID49IHRoaXMuZWxlbWVudHMubGVuZ3RoIHx8IGluZGV4IDwgLXRoaXMuZWxlbWVudHMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGluZGV4IDwgMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50c1t0aGlzLmVsZW1lbnRzLmxlbmd0aCAtIGluZGV4XTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnRzW2luZGV4XTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBBIHNob3J0Y3V0IG1ldGhvZCBmb3IgaXRlcmF0aW5nIGFsbCBlbGVtZW50cy4gU2hvcnRzIHRoaXMuZWxlbWVudHMuZm9yRWFjaCguLi4pIHRvIHRoaXMuZm9yRWFjaCguLi4pLlxyXG4gICAgICogQHBhcmFtIGhhbmRsZXIgdGhlIGhhbmRsZXIgdG8gZXhlY3V0ZSBhbiBvcGVyYXRpb24gb24gYW4gZWxlbWVudFxyXG4gICAgICovXHJcbiAgICBET00ucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiAoaGFuZGxlcikge1xyXG4gICAgICAgIGlmICghdGhpcy5lbGVtZW50cykge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkge1xyXG4gICAgICAgICAgICBoYW5kbGVyKGVsZW1lbnQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIERPTS5wcm90b3R5cGUuZmluZENoaWxkRWxlbWVudHNPZkVsZW1lbnQgPSBmdW5jdGlvbiAoZWxlbWVudCwgc2VsZWN0b3IpIHtcclxuICAgICAgICB2YXIgY2hpbGRFbGVtZW50cyA9IGVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7XHJcbiAgICAgICAgLy8gQ29udmVydCBOb2RlTGlzdCB0byBBcnJheVxyXG4gICAgICAgIC8vIGh0dHBzOi8vdG9kZG1vdHRvLmNvbS9hLWNvbXByZWhlbnNpdmUtZGl2ZS1pbnRvLW5vZGVsaXN0cy1hcnJheXMtY29udmVydGluZy1ub2RlbGlzdHMtYW5kLXVuZGVyc3RhbmRpbmctdGhlLWRvbS9cclxuICAgICAgICByZXR1cm4gW10uc2xpY2UuY2FsbChjaGlsZEVsZW1lbnRzKTtcclxuICAgIH07XHJcbiAgICBET00ucHJvdG90eXBlLmZpbmRDaGlsZEVsZW1lbnRzID0gZnVuY3Rpb24gKHNlbGVjdG9yKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB2YXIgYWxsQ2hpbGRFbGVtZW50cyA9IFtdO1xyXG4gICAgICAgIGlmICh0aGlzLmVsZW1lbnRzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgYWxsQ2hpbGRFbGVtZW50cyA9IGFsbENoaWxkRWxlbWVudHMuY29uY2F0KF90aGlzLmZpbmRDaGlsZEVsZW1lbnRzT2ZFbGVtZW50KGVsZW1lbnQsIHNlbGVjdG9yKSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmluZENoaWxkRWxlbWVudHNPZkVsZW1lbnQoZG9jdW1lbnQsIHNlbGVjdG9yKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGFsbENoaWxkRWxlbWVudHM7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBGaW5kcyBhbGwgY2hpbGQgZWxlbWVudHMgb2YgYWxsIGVsZW1lbnRzIG1hdGNoaW5nIHRoZSBzdXBwbGllZCBzZWxlY3Rvci5cclxuICAgICAqIEBwYXJhbSBzZWxlY3RvciB0aGUgc2VsZWN0b3IgdG8gbWF0Y2ggd2l0aCBjaGlsZCBlbGVtZW50c1xyXG4gICAgICogQHJldHVybnMge0RPTX0gYSBuZXcgRE9NIGluc3RhbmNlIHJlcHJlc2VudGluZyBhbGwgbWF0Y2hlZCBjaGlsZHJlblxyXG4gICAgICovXHJcbiAgICBET00ucHJvdG90eXBlLmZpbmQgPSBmdW5jdGlvbiAoc2VsZWN0b3IpIHtcclxuICAgICAgICB2YXIgYWxsQ2hpbGRFbGVtZW50cyA9IHRoaXMuZmluZENoaWxkRWxlbWVudHMoc2VsZWN0b3IpO1xyXG4gICAgICAgIHJldHVybiBuZXcgRE9NKGFsbENoaWxkRWxlbWVudHMpO1xyXG4gICAgfTtcclxuICAgIERPTS5wcm90b3R5cGUuaHRtbCA9IGZ1bmN0aW9uIChjb250ZW50KSB7XHJcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNldEh0bWwoY29udGVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRIdG1sKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIERPTS5wcm90b3R5cGUuZ2V0SHRtbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50c1swXS5pbm5lckhUTUw7XHJcbiAgICB9O1xyXG4gICAgRE9NLnByb3RvdHlwZS5zZXRIdG1sID0gZnVuY3Rpb24gKGNvbnRlbnQpIHtcclxuICAgICAgICBpZiAoY29udGVudCA9PT0gdW5kZWZpbmVkIHx8IGNvbnRlbnQgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAvLyBTZXQgdG8gZW1wdHkgc3RyaW5nIHRvIGF2b2lkIGlubmVySFRNTCBnZXR0aW5nIHNldCB0byAndW5kZWZpbmVkJyAoYWxsIGJyb3dzZXJzKSBvciAnbnVsbCcgKElFOSlcclxuICAgICAgICAgICAgY29udGVudCA9ICcnO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHtcclxuICAgICAgICAgICAgZWxlbWVudC5pbm5lckhUTUwgPSBjb250ZW50O1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ2xlYXJzIHRoZSBpbm5lciBIVE1MIG9mIGFsbCBlbGVtZW50cyAoZGVsZXRlcyBhbGwgY2hpbGRyZW4pLlxyXG4gICAgICogQHJldHVybnMge0RPTX1cclxuICAgICAqL1xyXG4gICAgRE9NLnByb3RvdHlwZS5lbXB0eSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHtcclxuICAgICAgICAgICAgZWxlbWVudC5pbm5lckhUTUwgPSAnJztcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdGhlIGN1cnJlbnQgdmFsdWUgb2YgdGhlIGZpcnN0IGZvcm0gZWxlbWVudCwgZS5nLiB0aGUgc2VsZWN0ZWQgdmFsdWUgb2YgYSBzZWxlY3QgYm94IG9yIHRoZSB0ZXh0IGlmIGFuXHJcbiAgICAgKiBpbnB1dCBmaWVsZC5cclxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IHRoZSB2YWx1ZSBvZiBhIGZvcm0gZWxlbWVudFxyXG4gICAgICovXHJcbiAgICBET00ucHJvdG90eXBlLnZhbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgZWxlbWVudCA9IHRoaXMuZWxlbWVudHNbMF07XHJcbiAgICAgICAgaWYgKGVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MU2VsZWN0RWxlbWVudCB8fCBlbGVtZW50IGluc3RhbmNlb2YgSFRNTElucHV0RWxlbWVudCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZWxlbWVudC52YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIFRPRE8gYWRkIHN1cHBvcnQgZm9yIG1pc3NpbmcgZm9ybSBlbGVtZW50c1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ2YWwoKSBub3Qgc3VwcG9ydGVkIGZvciBcIiArIHR5cGVvZiBlbGVtZW50KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgRE9NLnByb3RvdHlwZS5hdHRyID0gZnVuY3Rpb24gKGF0dHJpYnV0ZSwgdmFsdWUpIHtcclxuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2V0QXR0cihhdHRyaWJ1dGUsIHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldEF0dHIoYXR0cmlidXRlKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgRE9NLnByb3RvdHlwZS5nZXRBdHRyID0gZnVuY3Rpb24gKGF0dHJpYnV0ZSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnRzWzBdLmdldEF0dHJpYnV0ZShhdHRyaWJ1dGUpO1xyXG4gICAgfTtcclxuICAgIERPTS5wcm90b3R5cGUuc2V0QXR0ciA9IGZ1bmN0aW9uIChhdHRyaWJ1dGUsIHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7XHJcbiAgICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKGF0dHJpYnV0ZSwgdmFsdWUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgIERPTS5wcm90b3R5cGUuZGF0YSA9IGZ1bmN0aW9uIChkYXRhQXR0cmlidXRlLCB2YWx1ZSkge1xyXG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zZXREYXRhKGRhdGFBdHRyaWJ1dGUsIHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldERhdGEoZGF0YUF0dHJpYnV0ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIERPTS5wcm90b3R5cGUuZ2V0RGF0YSA9IGZ1bmN0aW9uIChkYXRhQXR0cmlidXRlKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudHNbMF0uZ2V0QXR0cmlidXRlKCdkYXRhLScgKyBkYXRhQXR0cmlidXRlKTtcclxuICAgIH07XHJcbiAgICBET00ucHJvdG90eXBlLnNldERhdGEgPSBmdW5jdGlvbiAoZGF0YUF0dHJpYnV0ZSwgdmFsdWUpIHtcclxuICAgICAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHtcclxuICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2RhdGEtJyArIGRhdGFBdHRyaWJ1dGUsIHZhbHVlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEFwcGVuZHMgb25lIG9yIG1vcmUgRE9NIGVsZW1lbnRzIGFzIGNoaWxkcmVuIHRvIGFsbCBlbGVtZW50cy5cclxuICAgICAqIEBwYXJhbSBjaGlsZEVsZW1lbnRzIHRoZSBjaHJpbGQgZWxlbWVudHMgdG8gYXBwZW5kXHJcbiAgICAgKiBAcmV0dXJucyB7RE9NfVxyXG4gICAgICovXHJcbiAgICBET00ucHJvdG90eXBlLmFwcGVuZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgY2hpbGRFbGVtZW50cyA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgIGNoaWxkRWxlbWVudHNbX2ldID0gYXJndW1lbnRzW19pXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7XHJcbiAgICAgICAgICAgIGNoaWxkRWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbiAoY2hpbGRFbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICBjaGlsZEVsZW1lbnQuZWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbiAoXywgaW5kZXgpIHtcclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmFwcGVuZENoaWxkKGNoaWxkRWxlbWVudC5lbGVtZW50c1tpbmRleF0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUmVtb3ZlcyBhbGwgZWxlbWVudHMgZnJvbSB0aGUgRE9NLlxyXG4gICAgICovXHJcbiAgICBET00ucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHtcclxuICAgICAgICAgICAgdmFyIHBhcmVudCA9IGVsZW1lbnQucGFyZW50Tm9kZTtcclxuICAgICAgICAgICAgaWYgKHBhcmVudCkge1xyXG4gICAgICAgICAgICAgICAgcGFyZW50LnJlbW92ZUNoaWxkKGVsZW1lbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRoZSBvZmZzZXQgb2YgdGhlIGZpcnN0IGVsZW1lbnQgZnJvbSB0aGUgZG9jdW1lbnQncyB0b3AgbGVmdCBjb3JuZXIuXHJcbiAgICAgKiBAcmV0dXJucyB7T2Zmc2V0fVxyXG4gICAgICovXHJcbiAgICBET00ucHJvdG90eXBlLm9mZnNldCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgZWxlbWVudCA9IHRoaXMuZWxlbWVudHNbMF07XHJcbiAgICAgICAgdmFyIGVsZW1lbnRSZWN0ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICB2YXIgaHRtbFJlY3QgPSBkb2N1bWVudC5ib2R5LnBhcmVudEVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgLy8gVmlydHVhbCB2aWV3cG9ydCBzY3JvbGwgaGFuZGxpbmcgKGUuZy4gcGluY2ggem9vbWVkIHZpZXdwb3J0cyBpbiBtb2JpbGUgYnJvd3NlcnMgb3IgZGVza3RvcCBDaHJvbWUvRWRnZSlcclxuICAgICAgICAvLyAnbm9ybWFsJyB6b29tcyBhbmQgdmlydHVhbCB2aWV3cG9ydCB6b29tcyAoYWthIGxheW91dCB2aWV3cG9ydCkgcmVzdWx0IGluIGRpZmZlcmVudFxyXG4gICAgICAgIC8vIGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkgcmVzdWx0czpcclxuICAgICAgICAvLyAgLSB3aXRoIG5vcm1hbCBzY3JvbGxzLCB0aGUgY2xpZW50UmVjdCBkZWNyZWFzZXMgd2l0aCBhbiBpbmNyZWFzZSBpbiBzY3JvbGwoVG9wfExlZnQpL3BhZ2UoWHxZKU9mZnNldFxyXG4gICAgICAgIC8vICAtIHdpdGggcGluY2ggem9vbSBzY3JvbGxzLCB0aGUgY2xpZW50UmVjdCBzdGF5cyB0aGUgc2FtZSB3aGlsZSBzY3JvbGwvcGFnZU9mZnNldCBjaGFuZ2VzXHJcbiAgICAgICAgLy8gVGhpcyBtZWFucywgdGhhdCB0aGUgY29tYmluYXRpb24gb2YgY2xpZW50UmVjdCArIHNjcm9sbC9wYWdlT2Zmc2V0IGRvZXMgbm90IHdvcmsgdG8gY2FsY3VsYXRlIHRoZSBvZmZzZXRcclxuICAgICAgICAvLyBmcm9tIHRoZSBkb2N1bWVudCdzIHVwcGVyIGxlZnQgb3JpZ2luIHdoZW4gcGluY2ggem9vbSBpcyB1c2VkLlxyXG4gICAgICAgIC8vIFRvIHdvcmsgYXJvdW5kIHRoaXMgaXNzdWUsIHdlIGRvIG5vdCB1c2Ugc2Nyb2xsL3BhZ2VPZmZzZXQgYnV0IGdldCB0aGUgY2xpZW50UmVjdCBvZiB0aGUgaHRtbCBlbGVtZW50IGFuZFxyXG4gICAgICAgIC8vIHN1YnRyYWN0IGl0IGZyb20gdGhlIGVsZW1lbnQncyByZWN0LCB3aGljaCBhbHdheXMgcmVzdWx0cyBpbiB0aGUgb2Zmc2V0IGZyb20gdGhlIGRvY3VtZW50IG9yaWdpbi5cclxuICAgICAgICAvLyBOT1RFOiB0aGUgY3VycmVudCB3YXkgb2Ygb2Zmc2V0IGNhbGN1bGF0aW9uIHdhcyBpbXBsZW1lbnRlZCBzcGVjaWZpY2FsbHkgdG8gdHJhY2sgZXZlbnQgcG9zaXRpb25zIG9uIHRoZVxyXG4gICAgICAgIC8vIHNlZWsgYmFyLCBhbmQgaXQgbWlnaHQgYnJlYWsgY29tcGF0aWJpbGl0eSB3aXRoIGpRdWVyeSdzIG9mZnNldCgpIG1ldGhvZC4gSWYgdGhpcyBldmVyIHR1cm5zIG91dCB0byBiZSBhXHJcbiAgICAgICAgLy8gcHJvYmxlbSwgdGhpcyBtZXRob2Qgc2hvdWxkIGJlIHJldmVydGVkIHRvIHRoZSBvbGQgdmVyc2lvbiBhbmQgdGhlIG9mZnNldCBjYWxjdWxhdGlvbiBtb3ZlZCB0byB0aGUgc2VlayBiYXIuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdG9wOiBlbGVtZW50UmVjdC50b3AgLSBodG1sUmVjdC50b3AsXHJcbiAgICAgICAgICAgIGxlZnQ6IGVsZW1lbnRSZWN0LmxlZnQgLSBodG1sUmVjdC5sZWZ0LFxyXG4gICAgICAgIH07XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRoZSB3aWR0aCBvZiB0aGUgZmlyc3QgZWxlbWVudC5cclxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IHRoZSB3aWR0aCBvZiB0aGUgZmlyc3QgZWxlbWVudFxyXG4gICAgICovXHJcbiAgICBET00ucHJvdG90eXBlLndpZHRoID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vIFRPRE8gY2hlY2sgaWYgdGhpcyBpcyB0aGUgc2FtZSBhcyBqUXVlcnkncyB3aWR0aCgpIChwcm9iYWJseSBub3QpXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudHNbMF0ub2Zmc2V0V2lkdGg7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRoZSBoZWlnaHQgb2YgdGhlIGZpcnN0IGVsZW1lbnQuXHJcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSB0aGUgaGVpZ2h0IG9mIHRoZSBmaXJzdCBlbGVtZW50XHJcbiAgICAgKi9cclxuICAgIERPTS5wcm90b3R5cGUuaGVpZ2h0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vIFRPRE8gY2hlY2sgaWYgdGhpcyBpcyB0aGUgc2FtZSBhcyBqUXVlcnkncyBoZWlnaHQoKSAocHJvYmFibHkgbm90KVxyXG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnRzWzBdLm9mZnNldEhlaWdodDtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEF0dGFjaGVzIGFuIGV2ZW50IGhhbmRsZXIgdG8gb25lIG9yIG1vcmUgZXZlbnRzIG9uIGFsbCBlbGVtZW50cy5cclxuICAgICAqIEBwYXJhbSBldmVudE5hbWUgdGhlIGV2ZW50IG5hbWUgKG9yIG11bHRpcGxlIG5hbWVzIHNlcGFyYXRlZCBieSBzcGFjZSkgdG8gbGlzdGVuIHRvXHJcbiAgICAgKiBAcGFyYW0gZXZlbnRIYW5kbGVyIHRoZSBldmVudCBoYW5kbGVyIHRvIGNhbGwgd2hlbiB0aGUgZXZlbnQgZmlyZXNcclxuICAgICAqIEByZXR1cm5zIHtET019XHJcbiAgICAgKi9cclxuICAgIERPTS5wcm90b3R5cGUub24gPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBldmVudEhhbmRsZXIpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHZhciBldmVudHMgPSBldmVudE5hbWUuc3BsaXQoJyAnKTtcclxuICAgICAgICBldmVudHMuZm9yRWFjaChmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgaWYgKF90aGlzLmVsZW1lbnRzID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIGV2ZW50SGFuZGxlcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBldmVudEhhbmRsZXIpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZXMgYW4gZXZlbnQgaGFuZGxlciBmcm9tIG9uZSBvciBtb3JlIGV2ZW50cyBvbiBhbGwgZWxlbWVudHMuXHJcbiAgICAgKiBAcGFyYW0gZXZlbnROYW1lIHRoZSBldmVudCBuYW1lIChvciBtdWx0aXBsZSBuYW1lcyBzZXBhcmF0ZWQgYnkgc3BhY2UpIHRvIHJlbW92ZSB0aGUgaGFuZGxlciBmcm9tXHJcbiAgICAgKiBAcGFyYW0gZXZlbnRIYW5kbGVyIHRoZSBldmVudCBoYW5kbGVyIHRvIHJlbW92ZVxyXG4gICAgICogQHJldHVybnMge0RPTX1cclxuICAgICAqL1xyXG4gICAgRE9NLnByb3RvdHlwZS5vZmYgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBldmVudEhhbmRsZXIpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHZhciBldmVudHMgPSBldmVudE5hbWUuc3BsaXQoJyAnKTtcclxuICAgICAgICBldmVudHMuZm9yRWFjaChmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgaWYgKF90aGlzLmVsZW1lbnRzID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIGV2ZW50SGFuZGxlcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCBldmVudEhhbmRsZXIpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEFkZHMgdGhlIHNwZWNpZmllZCBjbGFzcyhlcykgdG8gYWxsIGVsZW1lbnRzLlxyXG4gICAgICogQHBhcmFtIGNsYXNzTmFtZSB0aGUgY2xhc3MoZXMpIHRvIGFkZCwgbXVsdGlwbGUgY2xhc3NlcyBzZXBhcmF0ZWQgYnkgc3BhY2VcclxuICAgICAqIEByZXR1cm5zIHtET019XHJcbiAgICAgKi9cclxuICAgIERPTS5wcm90b3R5cGUuYWRkQ2xhc3MgPSBmdW5jdGlvbiAoY2xhc3NOYW1lKSB7XHJcbiAgICAgICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7XHJcbiAgICAgICAgICAgIHZhciBfYTtcclxuICAgICAgICAgICAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY2xhc3NOYW1lcyA9IGNsYXNzTmFtZS5zcGxpdCgnICcpXHJcbiAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAoY2xhc3NOYW1lKSB7IHJldHVybiBjbGFzc05hbWUubGVuZ3RoID4gMDsgfSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2xhc3NOYW1lcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgKF9hID0gZWxlbWVudC5jbGFzc0xpc3QpLmFkZC5hcHBseShfYSwgY2xhc3NOYW1lcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LmNsYXNzTmFtZSArPSAnICcgKyBjbGFzc05hbWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZWQgdGhlIHNwZWNpZmllZCBjbGFzcyhlcykgZnJvbSBhbGwgZWxlbWVudHMuXHJcbiAgICAgKiBAcGFyYW0gY2xhc3NOYW1lIHRoZSBjbGFzcyhlcykgdG8gcmVtb3ZlLCBtdWx0aXBsZSBjbGFzc2VzIHNlcGFyYXRlZCBieSBzcGFjZVxyXG4gICAgICogQHJldHVybnMge0RPTX1cclxuICAgICAqL1xyXG4gICAgRE9NLnByb3RvdHlwZS5yZW1vdmVDbGFzcyA9IGZ1bmN0aW9uIChjbGFzc05hbWUpIHtcclxuICAgICAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHtcclxuICAgICAgICAgICAgdmFyIF9hO1xyXG4gICAgICAgICAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QpIHtcclxuICAgICAgICAgICAgICAgIHZhciBjbGFzc05hbWVzID0gY2xhc3NOYW1lLnNwbGl0KCcgJylcclxuICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChjbGFzc05hbWUpIHsgcmV0dXJuIGNsYXNzTmFtZS5sZW5ndGggPiAwOyB9KTtcclxuICAgICAgICAgICAgICAgIGlmIChjbGFzc05hbWVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAoX2EgPSBlbGVtZW50LmNsYXNzTGlzdCkucmVtb3ZlLmFwcGx5KF9hLCBjbGFzc05hbWVzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NOYW1lID0gZWxlbWVudC5jbGFzc05hbWUucmVwbGFjZShuZXcgUmVnRXhwKCcoXnxcXFxcYiknICsgY2xhc3NOYW1lLnNwbGl0KCcgJykuam9pbignfCcpICsgJyhcXFxcYnwkKScsICdnaScpLCAnICcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVja3MgaWYgYW55IG9mIHRoZSBlbGVtZW50cyBoYXMgdGhlIHNwZWNpZmllZCBjbGFzcy5cclxuICAgICAqIEBwYXJhbSBjbGFzc05hbWUgdGhlIGNsYXNzIG5hbWUgdG8gY2hlY2tcclxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlmIG9uZSBvZiB0aGUgZWxlbWVudHMgaGFzIHRoZSBjbGFzcyBhdHRhY2hlZCwgZWxzZSBpZiBubyBlbGVtZW50IGhhcyBpdCBhdHRhY2hlZFxyXG4gICAgICovXHJcbiAgICBET00ucHJvdG90eXBlLmhhc0NsYXNzID0gZnVuY3Rpb24gKGNsYXNzTmFtZSkge1xyXG4gICAgICAgIHZhciBoYXNDbGFzcyA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkge1xyXG4gICAgICAgICAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QpIHtcclxuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhjbGFzc05hbWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gU2luY2Ugd2UgYXJlIGluc2lkZSBhIGhhbmRsZXIsIHdlIGNhbid0IGp1c3QgJ3JldHVybiB0cnVlJy4gSW5zdGVhZCwgd2Ugc2F2ZSBpdCB0byBhIHZhcmlhYmxlXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYW5kIHJldHVybiBpdCBhdCB0aGUgZW5kIG9mIHRoZSBmdW5jdGlvbiBib2R5LlxyXG4gICAgICAgICAgICAgICAgICAgIGhhc0NsYXNzID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmIChuZXcgUmVnRXhwKCcoXnwgKScgKyBjbGFzc05hbWUgKyAnKCB8JCknLCAnZ2knKS50ZXN0KGVsZW1lbnQuY2xhc3NOYW1lKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFNlZSBjb21tZW50IGFib3ZlXHJcbiAgICAgICAgICAgICAgICAgICAgaGFzQ2xhc3MgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIGhhc0NsYXNzO1xyXG4gICAgfTtcclxuICAgIERPTS5wcm90b3R5cGUuY3NzID0gZnVuY3Rpb24gKHByb3BlcnR5TmFtZU9yQ29sbGVjdGlvbiwgdmFsdWUpIHtcclxuICAgICAgICBpZiAodHlwZW9mIHByb3BlcnR5TmFtZU9yQ29sbGVjdGlvbiA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgdmFyIHByb3BlcnR5TmFtZSA9IHByb3BlcnR5TmFtZU9yQ29sbGVjdGlvbjtcclxuICAgICAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNldENzcyhwcm9wZXJ0eU5hbWUsIHZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldENzcyhwcm9wZXJ0eU5hbWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB2YXIgcHJvcGVydHlWYWx1ZUNvbGxlY3Rpb24gPSBwcm9wZXJ0eU5hbWVPckNvbGxlY3Rpb247XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNldENzc0NvbGxlY3Rpb24ocHJvcGVydHlWYWx1ZUNvbGxlY3Rpb24pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBET00ucHJvdG90eXBlLmdldENzcyA9IGZ1bmN0aW9uIChwcm9wZXJ0eU5hbWUpIHtcclxuICAgICAgICByZXR1cm4gZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLmVsZW1lbnRzWzBdKVtwcm9wZXJ0eU5hbWVdO1xyXG4gICAgfTtcclxuICAgIERPTS5wcm90b3R5cGUuc2V0Q3NzID0gZnVuY3Rpb24gKHByb3BlcnR5TmFtZSwgdmFsdWUpIHtcclxuICAgICAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHtcclxuICAgICAgICAgICAgLy8gPGFueT4gY2FzdCB0byByZXNvbHZlIFRTNzAxNTogaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMzY2MjcxMTQvMzcwMjUyXHJcbiAgICAgICAgICAgIGVsZW1lbnQuc3R5bGVbcHJvcGVydHlOYW1lXSA9IHZhbHVlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgIERPTS5wcm90b3R5cGUuc2V0Q3NzQ29sbGVjdGlvbiA9IGZ1bmN0aW9uIChydWxlVmFsdWVDb2xsZWN0aW9uKSB7XHJcbiAgICAgICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7XHJcbiAgICAgICAgICAgIC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzM0NDkwNTczLzM3MDI1MlxyXG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKGVsZW1lbnQuc3R5bGUsIHJ1bGVWYWx1ZUNvbGxlY3Rpb24pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBET007XHJcbn0oKSk7XHJcbmV4cG9ydHMuRE9NID0gRE9NO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL2RvbS50c1xuLy8gbW9kdWxlIGlkID0gMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgZ3VpZF8xID0gcmVxdWlyZShcIi4uL2d1aWRcIik7XHJcbnZhciBkb21fMSA9IHJlcXVpcmUoXCIuLi9kb21cIik7XHJcbnZhciBldmVudGRpc3BhdGNoZXJfMSA9IHJlcXVpcmUoXCIuLi9ldmVudGRpc3BhdGNoZXJcIik7XHJcbi8qKlxyXG4gKiBUaGUgYmFzZSBjbGFzcyBvZiB0aGUgVUkgZnJhbWV3b3JrLlxyXG4gKiBFYWNoIGNvbXBvbmVudCBtdXN0IGV4dGVuZCB0aGlzIGNsYXNzIGFuZCBvcHRpb25hbGx5IHRoZSBjb25maWcgbW9kZWxzLlxyXG4gKi9cclxudmFyIENvbXBvbmVudCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIC8qKlxyXG4gICAgICogQ29uc3RydWN0cyBhIGNvbXBvbmVudCB3aXRoIGFuIG9wdGlvbmFsbHkgc3VwcGxpZWQgY29uZmlnLiBBbGwgc3ViY2xhc3NlcyBtdXN0IGNhbGwgdGhlIGNvbnN0cnVjdG9yIG9mIHRoZWlyXHJcbiAgICAgKiBzdXBlcmNsYXNzIGFuZCB0aGVuIG1lcmdlIHRoZWlyIGNvbmZpZ3VyYXRpb24gaW50byB0aGUgY29tcG9uZW50J3MgY29uZmlndXJhdGlvbi5cclxuICAgICAqIEBwYXJhbSBjb25maWcgdGhlIGNvbmZpZ3VyYXRpb24gZm9yIHRoZSBjb21wb25lbnRcclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gQ29tcG9uZW50KGNvbmZpZykge1xyXG4gICAgICAgIGlmIChjb25maWcgPT09IHZvaWQgMCkgeyBjb25maWcgPSB7fTsgfVxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFRoZSBsaXN0IG9mIGV2ZW50cyB0aGF0IHRoaXMgY29tcG9uZW50IG9mZmVycy4gVGhlc2UgZXZlbnRzIHNob3VsZCBhbHdheXMgYmUgcHJpdmF0ZSBhbmQgb25seSBkaXJlY3RseVxyXG4gICAgICAgICAqIGFjY2Vzc2VkIGZyb20gd2l0aGluIHRoZSBpbXBsZW1lbnRpbmcgY29tcG9uZW50LlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQmVjYXVzZSBUeXBlU2NyaXB0IGRvZXMgbm90IHN1cHBvcnQgcHJpdmF0ZSBwcm9wZXJ0aWVzIHdpdGggdGhlIHNhbWUgbmFtZSBvbiBkaWZmZXJlbnQgY2xhc3MgaGllcmFyY2h5IGxldmVsc1xyXG4gICAgICAgICAqIChpLmUuIHN1cGVyY2xhc3MgYW5kIHN1YmNsYXNzIGNhbm5vdCBjb250YWluIGEgcHJpdmF0ZSBwcm9wZXJ0eSB3aXRoIHRoZSBzYW1lIG5hbWUpLCB0aGUgZGVmYXVsdCBuYW1pbmdcclxuICAgICAgICAgKiBjb252ZW50aW9uIGZvciB0aGUgZXZlbnQgbGlzdCBvZiBhIGNvbXBvbmVudCB0aGF0IHNob3VsZCBiZSBmb2xsb3dlZCBieSBzdWJjbGFzc2VzIGlzIHRoZSBjb25jYXRlbmF0aW9uIG9mIHRoZVxyXG4gICAgICAgICAqIGNhbWVsLWNhc2VkIGNsYXNzIG5hbWUgKyAnRXZlbnRzJyAoZS5nLiBTdWJDbGFzcyBleHRlbmRzIENvbXBvbmVudCA9PiBzdWJDbGFzc0V2ZW50cykuXHJcbiAgICAgICAgICogU2VlIHtAbGluayAjY29tcG9uZW50RXZlbnRzfSBmb3IgYW4gZXhhbXBsZS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEV2ZW50IHByb3BlcnRpZXMgc2hvdWxkIGJlIG5hbWVkIGluIGNhbWVsIGNhc2Ugd2l0aCBhbiAnb24nIHByZWZpeCBhbmQgaW4gdGhlIHByZXNlbnQgdGVuc2UuIEFzeW5jIGV2ZW50cyBtYXlcclxuICAgICAgICAgKiBoYXZlIGEgc3RhcnQgZXZlbnQgKHdoZW4gdGhlIG9wZXJhdGlvbiBzdGFydHMpIGluIHRoZSBwcmVzZW50IHRlbnNlLCBhbmQgbXVzdCBoYXZlIGFuIGVuZCBldmVudCAod2hlbiB0aGVcclxuICAgICAgICAgKiBvcGVyYXRpb24gZW5kcykgaW4gdGhlIHBhc3QgdGVuc2UgKG9yIHByZXNlbnQgdGVuc2UgaW4gc3BlY2lhbCBjYXNlcyAoZS5nLiBvblN0YXJ0L29uU3RhcnRlZCBvciBvblBsYXkvb25QbGF5aW5nKS5cclxuICAgICAgICAgKiBTZWUge0BsaW5rICNjb21wb25lbnRFdmVudHMjb25TaG93fSBmb3IgYW4gZXhhbXBsZS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEVhY2ggZXZlbnQgc2hvdWxkIGJlIGFjY29tcGFuaWVkIHdpdGggYSBwcm90ZWN0ZWQgbWV0aG9kIG5hbWVkIGJ5IHRoZSBjb252ZW50aW9uIGV2ZW50TmFtZSArICdFdmVudCdcclxuICAgICAgICAgKiAoZS5nLiBvblN0YXJ0RXZlbnQpLCB0aGF0IGFjdHVhbGx5IHRyaWdnZXJzIHRoZSBldmVudCBieSBjYWxsaW5nIHtAbGluayBFdmVudERpc3BhdGNoZXIjZGlzcGF0Y2ggZGlzcGF0Y2h9IGFuZFxyXG4gICAgICAgICAqIHBhc3NpbmcgYSByZWZlcmVuY2UgdG8gdGhlIGNvbXBvbmVudCBhcyBmaXJzdCBwYXJhbWV0ZXIuIENvbXBvbmVudHMgc2hvdWxkIGFsd2F5cyB0cmlnZ2VyIHRoZWlyIGV2ZW50cyB3aXRoIHRoZXNlXHJcbiAgICAgICAgICogbWV0aG9kcy4gSW1wbGVtZW50aW5nIHRoaXMgcGF0dGVybiBnaXZlcyBzdWJjbGFzc2VzIG1lYW5zIHRvIGRpcmVjdGx5IGxpc3RlbiB0byB0aGUgZXZlbnRzIGJ5IG92ZXJyaWRpbmcgdGhlXHJcbiAgICAgICAgICogbWV0aG9kIChhbmQgc2F2aW5nIHRoZSBvdmVyaGVhZCBvZiBwYXNzaW5nIGEgaGFuZGxlciB0byB0aGUgZXZlbnQgZGlzcGF0Y2hlcikgYW5kIG1vcmUgaW1wb3J0YW50bHkgdG8gdHJpZ2dlclxyXG4gICAgICAgICAqIHRoZXNlIGV2ZW50cyB3aXRob3V0IGhhdmluZyBhY2Nlc3MgdG8gdGhlIHByaXZhdGUgZXZlbnQgbGlzdC5cclxuICAgICAgICAgKiBTZWUge0BsaW5rICNvblNob3d9IGZvciBhbiBleGFtcGxlLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogVG8gcHJvdmlkZSBleHRlcm5hbCBjb2RlIHRoZSBwb3NzaWJpbGl0eSB0byBsaXN0ZW4gdG8gdGhpcyBjb21wb25lbnQncyBldmVudHMgKHN1YnNjcmliZSwgdW5zdWJzY3JpYmUsIGV0Yy4pLFxyXG4gICAgICAgICAqIGVhY2ggZXZlbnQgc2hvdWxkIGFsc28gYmUgYWNjb21wYW5pZWQgYnkgYSBwdWJsaWMgZ2V0dGVyIGZ1bmN0aW9uIHdpdGggdGhlIHNhbWUgbmFtZSBhcyB0aGUgZXZlbnQncyBwcm9wZXJ0eSxcclxuICAgICAgICAgKiB0aGF0IHJldHVybnMgdGhlIHtAbGluayBFdmVudH0gb2J0YWluZWQgZnJvbSB0aGUgZXZlbnQgZGlzcGF0Y2hlciBieSBjYWxsaW5nIHtAbGluayBFdmVudERpc3BhdGNoZXIjZ2V0RXZlbnR9LlxyXG4gICAgICAgICAqIFNlZSB7QGxpbmsgI29uU2hvd30gZm9yIGFuIGV4YW1wbGUuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBGdWxsIGV4YW1wbGUgZm9yIGFuIGV2ZW50IHJlcHJlc2VudGluZyBhbiBleGFtcGxlIGFjdGlvbiBpbiBhIGV4YW1wbGUgY29tcG9uZW50OlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogPGNvZGU+XHJcbiAgICAgICAgICogLy8gRGVmaW5lIGFuIGV4YW1wbGUgY29tcG9uZW50IGNsYXNzIHdpdGggYW4gZXhhbXBsZSBldmVudFxyXG4gICAgICAgICAqIGNsYXNzIEV4YW1wbGVDb21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQ8Q29tcG9uZW50Q29uZmlnPiB7XHJcbiAgICAgICAgICAgKlxyXG4gICAgICAgICAgICogICAgIHByaXZhdGUgZXhhbXBsZUNvbXBvbmVudEV2ZW50cyA9IHtcclxuICAgICAgICAgICAqICAgICAgICAgb25FeGFtcGxlQWN0aW9uOiBuZXcgRXZlbnREaXNwYXRjaGVyPEV4YW1wbGVDb21wb25lbnQsIE5vQXJncz4oKVxyXG4gICAgICAgICAgICogICAgIH1cclxuICAgICAgICAgICAqXHJcbiAgICAgICAgICAgKiAgICAgLy8gY29uc3RydWN0b3IgYW5kIG90aGVyIHN0dWZmLi4uXHJcbiAgICAgICAgICAgKlxyXG4gICAgICAgICAgICogICAgIHByb3RlY3RlZCBvbkV4YW1wbGVBY3Rpb25FdmVudCgpIHtcclxuICAgICAgICAgICAqICAgICAgICB0aGlzLmV4YW1wbGVDb21wb25lbnRFdmVudHMub25FeGFtcGxlQWN0aW9uLmRpc3BhdGNoKHRoaXMpO1xyXG4gICAgICAgICAgICogICAgfVxyXG4gICAgICAgICAgICpcclxuICAgICAgICAgICAqICAgIGdldCBvbkV4YW1wbGVBY3Rpb24oKTogRXZlbnQ8RXhhbXBsZUNvbXBvbmVudCwgTm9BcmdzPiB7XHJcbiAgICAgICAgICAgKiAgICAgICAgcmV0dXJuIHRoaXMuZXhhbXBsZUNvbXBvbmVudEV2ZW50cy5vbkV4YW1wbGVBY3Rpb24uZ2V0RXZlbnQoKTtcclxuICAgICAgICAgICAqICAgIH1cclxuICAgICAgICAgICAqIH1cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIC8vIENyZWF0ZSBhbiBpbnN0YW5jZSBvZiB0aGUgY29tcG9uZW50IHNvbWV3aGVyZVxyXG4gICAgICAgICAqIHZhciBleGFtcGxlQ29tcG9uZW50SW5zdGFuY2UgPSBuZXcgRXhhbXBsZUNvbXBvbmVudCgpO1xyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogLy8gU3Vic2NyaWJlIHRvIHRoZSBleGFtcGxlIGV2ZW50IG9uIHRoZSBjb21wb25lbnRcclxuICAgICAgICAgKiBleGFtcGxlQ29tcG9uZW50SW5zdGFuY2Uub25FeGFtcGxlQWN0aW9uLnN1YnNjcmliZShmdW5jdGlvbiAoc2VuZGVyOiBFeGFtcGxlQ29tcG9uZW50KSB7XHJcbiAgICAgICAgICAgKiAgICAgY29uc29sZS5sb2coJ29uRXhhbXBsZUFjdGlvbiBvZiAnICsgc2VuZGVyICsgJyBoYXMgZmlyZWQhJyk7XHJcbiAgICAgICAgICAgKiB9KTtcclxuICAgICAgICAgKiA8L2NvZGU+XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5jb21wb25lbnRFdmVudHMgPSB7XHJcbiAgICAgICAgICAgIG9uU2hvdzogbmV3IGV2ZW50ZGlzcGF0Y2hlcl8xLkV2ZW50RGlzcGF0Y2hlcigpLFxyXG4gICAgICAgICAgICBvbkhpZGU6IG5ldyBldmVudGRpc3BhdGNoZXJfMS5FdmVudERpc3BhdGNoZXIoKSxcclxuICAgICAgICAgICAgb25Ib3ZlckNoYW5nZWQ6IG5ldyBldmVudGRpc3BhdGNoZXJfMS5FdmVudERpc3BhdGNoZXIoKSxcclxuICAgICAgICB9O1xyXG4gICAgICAgIC8vIENyZWF0ZSB0aGUgY29uZmlndXJhdGlvbiBmb3IgdGhpcyBjb21wb25lbnRcclxuICAgICAgICB0aGlzLmNvbmZpZyA9IHRoaXMubWVyZ2VDb25maWcoY29uZmlnLCB7XHJcbiAgICAgICAgICAgIHRhZzogJ2RpdicsXHJcbiAgICAgICAgICAgIGlkOiAnbWktd2JjLWlkLScgKyBndWlkXzEuR3VpZC5uZXh0KCksXHJcbiAgICAgICAgICAgIGNzc1ByZWZpeDogJ21pLXdiYycsXHJcbiAgICAgICAgICAgIGNzc0NsYXNzOiAndWktY29tcG9uZW50JyxcclxuICAgICAgICAgICAgY3NzQ2xhc3NlczogW10sXHJcbiAgICAgICAgICAgIGhpZGRlbjogZmFsc2UsXHJcbiAgICAgICAgfSwge30pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBJbml0aWFsaXplcyB0aGUgY29tcG9uZW50LCBlLmcuIGJ5IGFwcGx5aW5nIGNvbmZpZyBzZXR0aW5ncy5cclxuICAgICAqIFRoaXMgbWV0aG9kIG11c3Qgbm90IGJlIGNhbGxlZCBmcm9tIG91dHNpZGUgdGhlIFVJIGZyYW1ld29yay5cclxuICAgICAqXHJcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBhdXRvbWF0aWNhbGx5IGNhbGxlZCBieSB0aGUge0BsaW5rIFVJSW5zdGFuY2VNYW5hZ2VyfS4gSWYgdGhlIGNvbXBvbmVudCBpcyBhbiBpbm5lciBjb21wb25lbnQgb2ZcclxuICAgICAqIHNvbWUgY29tcG9uZW50LCBhbmQgdGh1cyBlbmNhcHN1bGF0ZWQgYWJkIG1hbmFnZWQgaW50ZXJuYWxseSBhbmQgbmV2ZXIgZGlyZWN0bHkgZXhwb3NlZCB0byB0aGUgVUlNYW5hZ2VyLFxyXG4gICAgICogdGhpcyBtZXRob2QgbXVzdCBiZSBjYWxsZWQgZnJvbSB0aGUgbWFuYWdpbmcgY29tcG9uZW50J3Mge0BsaW5rICNpbml0aWFsaXplfSBtZXRob2QuXHJcbiAgICAgKi9cclxuICAgIENvbXBvbmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLmhpZGRlbiA9IHRoaXMuY29uZmlnLmhpZGRlbjtcclxuICAgICAgICAvLyBIaWRlIHRoZSBjb21wb25lbnQgYXQgaW5pdGlhbGl6YXRpb24gaWYgaXQgaXMgY29uZmlndXJlZCB0byBiZSBoaWRkZW5cclxuICAgICAgICBpZiAodGhpcy5pc0hpZGRlbigpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaGlkZGVuID0gZmFsc2U7IC8vIFNldCBmbGFnIHRvIGZhbHNlIGZvciB0aGUgZm9sbG93aW5nIGhpZGUoKSBjYWxsIHRvIHdvcmsgKGhpZGUoKSBjaGVja3MgdGhlIGZsYWcpXHJcbiAgICAgICAgICAgIHRoaXMuaGlkZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIENvbmZpZ3VyZXMgdGhlIGNvbXBvbmVudCBmb3IgdGhlIHN1cHBsaWVkIFBsYXllciBhbmQgVUlJbnN0YW5jZU1hbmFnZXIuIFRoaXMgaXMgdGhlIHBsYWNlIHdoZXJlIGFsbCB0aGUgbWFnaWNcclxuICAgICAqIGhhcHBlbnMsIHdoZXJlIGNvbXBvbmVudHMgdHlwaWNhbGx5IHN1YnNjcmliZSBhbmQgcmVhY3QgdG8gZXZlbnRzIChvbiB0aGVpciBET00gZWxlbWVudCwgdGhlIFBsYXllciwgb3IgdGhlXHJcbiAgICAgKiBVSUluc3RhbmNlTWFuYWdlciksIGFuZCBiYXNpY2FsbHkgZXZlcnl0aGluZyB0aGF0IG1ha2VzIHRoZW0gaW50ZXJhY3RpdmUuXHJcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBjYWxsZWQgb25seSBvbmNlLCB3aGVuIHRoZSBVSU1hbmFnZXIgaW5pdGlhbGl6ZXMgdGhlIFVJLlxyXG4gICAgICpcclxuICAgICAqIFN1YmNsYXNzZXMgdXN1YWxseSBvdmVyd3JpdGUgdGhpcyBtZXRob2QgdG8gYWRkIHRoZWlyIG93biBmdW5jdGlvbmFsaXR5LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBwbGF5ZXIgdGhlIHBsYXllciB3aGljaCB0aGlzIGNvbXBvbmVudCBjb250cm9sc1xyXG4gICAgICogQHBhcmFtIHVpbWFuYWdlciB0aGUgVUlJbnN0YW5jZU1hbmFnZXIgdGhhdCBtYW5hZ2VzIHRoaXMgY29tcG9uZW50XHJcbiAgICAgKi9cclxuICAgIENvbXBvbmVudC5wcm90b3R5cGUuY29uZmlndXJlID0gZnVuY3Rpb24gKHBsYXllciwgdWltYW5hZ2VyKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB0aGlzLm9uU2hvdy5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB1aW1hbmFnZXIub25Db21wb25lbnRTaG93LmRpc3BhdGNoKF90aGlzKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLm9uSGlkZS5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB1aW1hbmFnZXIub25Db21wb25lbnRIaWRlLmRpc3BhdGNoKF90aGlzKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBUcmFjayB0aGUgaG92ZXJlZCBzdGF0ZSBvZiB0aGUgZWxlbWVudFxyXG4gICAgICAgIHRoaXMuZ2V0RG9tRWxlbWVudCgpLm9uKCdtb3VzZWVudGVyJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBfdGhpcy5vbkhvdmVyQ2hhbmdlZEV2ZW50KHRydWUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuZ2V0RG9tRWxlbWVudCgpLm9uKCdtb3VzZWxlYXZlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBfdGhpcy5vbkhvdmVyQ2hhbmdlZEV2ZW50KGZhbHNlKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJlbGVhc2VzIGFsbCByZXNvdXJjZXMgYW5kIGRlcGVuZGVuY2llcyB0aGF0IHRoZSBjb21wb25lbnQgaG9sZHMuIFBsYXllciwgRE9NLCBhbmQgVUlNYW5hZ2VyIGV2ZW50cyBhcmVcclxuICAgICAqIGF1dG9tYXRpY2FsbHkgcmVtb3ZlZCBkdXJpbmcgcmVsZWFzZSBhbmQgZG8gbm90IGV4cGxpY2l0bHkgbmVlZCB0byBiZSByZW1vdmVkIGhlcmUuXHJcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBjYWxsZWQgYnkgdGhlIFVJTWFuYWdlciB3aGVuIGl0IHJlbGVhc2VzIHRoZSBVSS5cclxuICAgICAqXHJcbiAgICAgKiBTdWJjbGFzc2VzIHRoYXQgbmVlZCB0byByZWxlYXNlIHJlc291cmNlcyBzaG91bGQgb3ZlcnJpZGUgdGhpcyBtZXRob2QgYW5kIGNhbGwgc3VwZXIucmVsZWFzZSgpLlxyXG4gICAgICovXHJcbiAgICBDb21wb25lbnQucHJvdG90eXBlLnJlbGVhc2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8gTm90aGluZyB0byBkbyBoZXJlLCBvdmVycmlkZSB3aGVyZSBuZWNlc3NhcnlcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEdlbmVyYXRlIHRoZSBET00gZWxlbWVudCBmb3IgdGhpcyBjb21wb25lbnQuXHJcbiAgICAgKlxyXG4gICAgICogU3ViY2xhc3NlcyB1c3VhbGx5IG92ZXJ3cml0ZSB0aGlzIG1ldGhvZCB0byBleHRlbmQgb3IgcmVwbGFjZSB0aGUgRE9NIGVsZW1lbnQgd2l0aCB0aGVpciBvd24gZGVzaWduLlxyXG4gICAgICovXHJcbiAgICBDb21wb25lbnQucHJvdG90eXBlLnRvRG9tRWxlbWVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgZWxlbWVudCA9IG5ldyBkb21fMS5ET00odGhpcy5jb25maWcudGFnLCB7XHJcbiAgICAgICAgICAgICdpZCc6IHRoaXMuY29uZmlnLmlkLFxyXG4gICAgICAgICAgICAnY2xhc3MnOiB0aGlzLmdldENzc0NsYXNzZXMoKSxcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gZWxlbWVudDtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdGhlIERPTSBlbGVtZW50IG9mIHRoaXMgY29tcG9uZW50LiBDcmVhdGVzIHRoZSBET00gZWxlbWVudCBpZiBpdCBkb2VzIG5vdCB5ZXQgZXhpc3QuXHJcbiAgICAgKlxyXG4gICAgICogU2hvdWxkIG5vdCBiZSBvdmVyd3JpdHRlbiBieSBzdWJjbGFzc2VzLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIHtET019XHJcbiAgICAgKi9cclxuICAgIENvbXBvbmVudC5wcm90b3R5cGUuZ2V0RG9tRWxlbWVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuZWxlbWVudCkge1xyXG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQgPSB0aGlzLnRvRG9tRWxlbWVudCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50O1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogTWVyZ2VzIGEgY29uZmlndXJhdGlvbiB3aXRoIGEgZGVmYXVsdCBjb25maWd1cmF0aW9uIGFuZCBhIGJhc2UgY29uZmlndXJhdGlvbiBmcm9tIHRoZSBzdXBlcmNsYXNzLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBjb25maWcgdGhlIGNvbmZpZ3VyYXRpb24gc2V0dGluZ3MgZm9yIHRoZSBjb21wb25lbnRzLCBhcyB1c3VhbGx5IHBhc3NlZCB0byB0aGUgY29uc3RydWN0b3JcclxuICAgICAqIEBwYXJhbSBkZWZhdWx0cyBhIGRlZmF1bHQgY29uZmlndXJhdGlvbiBmb3Igc2V0dGluZ3MgdGhhdCBhcmUgbm90IHBhc3NlZCB3aXRoIHRoZSBjb25maWd1cmF0aW9uXHJcbiAgICAgKiBAcGFyYW0gYmFzZSBjb25maWd1cmF0aW9uIGluaGVyaXRlZCBmcm9tIGEgc3VwZXJjbGFzc1xyXG4gICAgICogQHJldHVybnMge0NvbmZpZ31cclxuICAgICAqL1xyXG4gICAgQ29tcG9uZW50LnByb3RvdHlwZS5tZXJnZUNvbmZpZyA9IGZ1bmN0aW9uIChjb25maWcsIGRlZmF1bHRzLCBiYXNlKSB7XHJcbiAgICAgICAgLy8gRXh0ZW5kIGRlZmF1bHQgY29uZmlnIHdpdGggc3VwcGxpZWQgY29uZmlnXHJcbiAgICAgICAgdmFyIG1lcmdlZCA9IE9iamVjdC5hc3NpZ24oe30sIGJhc2UsIGRlZmF1bHRzLCBjb25maWcpO1xyXG4gICAgICAgIC8vIFJldHVybiB0aGUgZXh0ZW5kZWQgY29uZmlnXHJcbiAgICAgICAgcmV0dXJuIG1lcmdlZDtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEhlbHBlciBtZXRob2QgdGhhdCByZXR1cm5zIGEgc3RyaW5nIG9mIGFsbCBDU1MgY2xhc3NlcyBvZiB0aGUgY29tcG9uZW50LlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XHJcbiAgICAgKi9cclxuICAgIENvbXBvbmVudC5wcm90b3R5cGUuZ2V0Q3NzQ2xhc3NlcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIC8vIE1lcmdlIGFsbCBDU1MgY2xhc3NlcyBpbnRvIHNpbmdsZSBhcnJheVxyXG4gICAgICAgIHZhciBmbGF0dGVuZWRBcnJheSA9IFt0aGlzLmNvbmZpZy5jc3NDbGFzc10uY29uY2F0KHRoaXMuY29uZmlnLmNzc0NsYXNzZXMpO1xyXG4gICAgICAgIC8vIFByZWZpeCBjbGFzc2VzXHJcbiAgICAgICAgZmxhdHRlbmVkQXJyYXkgPSBmbGF0dGVuZWRBcnJheS5tYXAoZnVuY3Rpb24gKGNzcykge1xyXG4gICAgICAgICAgICByZXR1cm4gX3RoaXMucHJlZml4Q3NzKGNzcyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gSm9pbiBhcnJheSB2YWx1ZXMgaW50byBhIHN0cmluZ1xyXG4gICAgICAgIHZhciBmbGF0dGVuZWRTdHJpbmcgPSBmbGF0dGVuZWRBcnJheS5qb2luKCcgJyk7XHJcbiAgICAgICAgLy8gUmV0dXJuIHRyaW1tZWQgc3RyaW5nIHRvIHByZXZlbnQgd2hpdGVzcGFjZSBhdCB0aGUgZW5kIGZyb20gdGhlIGpvaW4gb3BlcmF0aW9uXHJcbiAgICAgICAgcmV0dXJuIGZsYXR0ZW5lZFN0cmluZy50cmltKCk7XHJcbiAgICB9O1xyXG4gICAgQ29tcG9uZW50LnByb3RvdHlwZS5wcmVmaXhDc3MgPSBmdW5jdGlvbiAoY3NzQ2xhc3NPcklkKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlnLmNzc1ByZWZpeCArICctJyArIGNzc0NsYXNzT3JJZDtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdGhlIGNvbmZpZ3VyYXRpb24gb2JqZWN0IG9mIHRoZSBjb21wb25lbnQuXHJcbiAgICAgKiBAcmV0dXJucyB7Q29uZmlnfVxyXG4gICAgICovXHJcbiAgICBDb21wb25lbnQucHJvdG90eXBlLmdldENvbmZpZyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb25maWc7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBIaWRlcyB0aGUgY29tcG9uZW50IGlmIHNob3duLlxyXG4gICAgICogVGhpcyBtZXRob2QgYmFzaWNhbGx5IHRyYW5zZmVycyB0aGUgY29tcG9uZW50IGludG8gdGhlIGhpZGRlbiBzdGF0ZS4gQWN0dWFsIGhpZGluZyBpcyBkb25lIHZpYSBDU1MuXHJcbiAgICAgKi9cclxuICAgIENvbXBvbmVudC5wcm90b3R5cGUuaGlkZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuaGlkZGVuKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaGlkZGVuID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5nZXREb21FbGVtZW50KCkuYWRkQ2xhc3ModGhpcy5wcmVmaXhDc3MoQ29tcG9uZW50LkNMQVNTX0hJRERFTikpO1xyXG4gICAgICAgICAgICB0aGlzLm9uSGlkZUV2ZW50KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogU2hvd3MgdGhlIGNvbXBvbmVudCBpZiBoaWRkZW4uXHJcbiAgICAgKi9cclxuICAgIENvbXBvbmVudC5wcm90b3R5cGUuc2hvdyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodGhpcy5oaWRkZW4pIHtcclxuICAgICAgICAgICAgdGhpcy5nZXREb21FbGVtZW50KCkucmVtb3ZlQ2xhc3ModGhpcy5wcmVmaXhDc3MoQ29tcG9uZW50LkNMQVNTX0hJRERFTikpO1xyXG4gICAgICAgICAgICB0aGlzLmhpZGRlbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLm9uU2hvd0V2ZW50KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogRGV0ZXJtaW5lcyBpZiB0aGUgY29tcG9uZW50IGlzIGhpZGRlbi5cclxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlmIHRoZSBjb21wb25lbnQgaXMgaGlkZGVuLCBlbHNlIGZhbHNlXHJcbiAgICAgKi9cclxuICAgIENvbXBvbmVudC5wcm90b3R5cGUuaXNIaWRkZW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaGlkZGVuO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogRGV0ZXJtaW5lcyBpZiB0aGUgY29tcG9uZW50IGlzIHNob3duLlxyXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IHRydWUgaWYgdGhlIGNvbXBvbmVudCBpcyB2aXNpYmxlLCBlbHNlIGZhbHNlXHJcbiAgICAgKi9cclxuICAgIENvbXBvbmVudC5wcm90b3R5cGUuaXNTaG93biA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gIXRoaXMuaXNIaWRkZW4oKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFRvZ2dsZXMgdGhlIGhpZGRlbiBzdGF0ZSBieSBoaWRpbmcgdGhlIGNvbXBvbmVudCBpZiBpdCBpcyBzaG93biwgb3Igc2hvd2luZyBpdCBpZiBoaWRkZW4uXHJcbiAgICAgKi9cclxuICAgIENvbXBvbmVudC5wcm90b3R5cGUudG9nZ2xlSGlkZGVuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzSGlkZGVuKCkpIHtcclxuICAgICAgICAgICAgdGhpcy5zaG93KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmhpZGUoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBEZXRlcm1pbmVzIGlmIHRoZSBjb21wb25lbnQgaXMgY3VycmVudGx5IGhvdmVyZWQuXHJcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpZiB0aGUgY29tcG9uZW50IGlzIGhvdmVyZWQsIGVsc2UgZmFsc2VcclxuICAgICAqL1xyXG4gICAgQ29tcG9uZW50LnByb3RvdHlwZS5pc0hvdmVyZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaG92ZXJlZDtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEZpcmVzIHRoZSBvblNob3cgZXZlbnQuXHJcbiAgICAgKiBTZWUgdGhlIGRldGFpbGVkIGV4cGxhbmF0aW9uIG9uIGV2ZW50IGFyY2hpdGVjdHVyZSBvbiB0aGUge0BsaW5rICNjb21wb25lbnRFdmVudHMgZXZlbnRzIGxpc3R9LlxyXG4gICAgICovXHJcbiAgICBDb21wb25lbnQucHJvdG90eXBlLm9uU2hvd0V2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuY29tcG9uZW50RXZlbnRzLm9uU2hvdy5kaXNwYXRjaCh0aGlzKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEZpcmVzIHRoZSBvbkhpZGUgZXZlbnQuXHJcbiAgICAgKiBTZWUgdGhlIGRldGFpbGVkIGV4cGxhbmF0aW9uIG9uIGV2ZW50IGFyY2hpdGVjdHVyZSBvbiB0aGUge0BsaW5rICNjb21wb25lbnRFdmVudHMgZXZlbnRzIGxpc3R9LlxyXG4gICAgICovXHJcbiAgICBDb21wb25lbnQucHJvdG90eXBlLm9uSGlkZUV2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuY29tcG9uZW50RXZlbnRzLm9uSGlkZS5kaXNwYXRjaCh0aGlzKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEZpcmVzIHRoZSBvbkhvdmVyQ2hhbmdlZCBldmVudC5cclxuICAgICAqIFNlZSB0aGUgZGV0YWlsZWQgZXhwbGFuYXRpb24gb24gZXZlbnQgYXJjaGl0ZWN0dXJlIG9uIHRoZSB7QGxpbmsgI2NvbXBvbmVudEV2ZW50cyBldmVudHMgbGlzdH0uXHJcbiAgICAgKi9cclxuICAgIENvbXBvbmVudC5wcm90b3R5cGUub25Ib3ZlckNoYW5nZWRFdmVudCA9IGZ1bmN0aW9uIChob3ZlcmVkKSB7XHJcbiAgICAgICAgdGhpcy5ob3ZlcmVkID0gaG92ZXJlZDtcclxuICAgICAgICB0aGlzLmNvbXBvbmVudEV2ZW50cy5vbkhvdmVyQ2hhbmdlZC5kaXNwYXRjaCh0aGlzLCB7IGhvdmVyZWQ6IGhvdmVyZWQgfSk7XHJcbiAgICB9O1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbXBvbmVudC5wcm90b3R5cGUsIFwib25TaG93XCIsIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBHZXRzIHRoZSBldmVudCB0aGF0IGlzIGZpcmVkIHdoZW4gdGhlIGNvbXBvbmVudCBpcyBzaG93aW5nLlxyXG4gICAgICAgICAqIFNlZSB0aGUgZGV0YWlsZWQgZXhwbGFuYXRpb24gb24gZXZlbnQgYXJjaGl0ZWN0dXJlIG9uIHRoZSB7QGxpbmsgI2NvbXBvbmVudEV2ZW50cyBldmVudHMgbGlzdH0uXHJcbiAgICAgICAgICogQHJldHVybnMge0V2ZW50PENvbXBvbmVudDxDb25maWc+LCBOb0FyZ3M+fVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb21wb25lbnRFdmVudHMub25TaG93LmdldEV2ZW50KCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29tcG9uZW50LnByb3RvdHlwZSwgXCJvbkhpZGVcIiwge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEdldHMgdGhlIGV2ZW50IHRoYXQgaXMgZmlyZWQgd2hlbiB0aGUgY29tcG9uZW50IGlzIGhpZGluZy5cclxuICAgICAgICAgKiBTZWUgdGhlIGRldGFpbGVkIGV4cGxhbmF0aW9uIG9uIGV2ZW50IGFyY2hpdGVjdHVyZSBvbiB0aGUge0BsaW5rICNjb21wb25lbnRFdmVudHMgZXZlbnRzIGxpc3R9LlxyXG4gICAgICAgICAqIEByZXR1cm5zIHtFdmVudDxDb21wb25lbnQ8Q29uZmlnPiwgTm9BcmdzPn1cclxuICAgICAgICAgKi9cclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29tcG9uZW50RXZlbnRzLm9uSGlkZS5nZXRFdmVudCgpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbXBvbmVudC5wcm90b3R5cGUsIFwib25Ib3ZlckNoYW5nZWRcIiwge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEdldHMgdGhlIGV2ZW50IHRoYXQgaXMgZmlyZWQgd2hlbiB0aGUgY29tcG9uZW50J3MgaG92ZXItc3RhdGUgaXMgY2hhbmdpbmcuXHJcbiAgICAgICAgICogQHJldHVybnMge0V2ZW50PENvbXBvbmVudDxDb25maWc+LCBDb21wb25lbnRIb3ZlckNoYW5nZWRFdmVudEFyZ3M+fVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb21wb25lbnRFdmVudHMub25Ib3ZlckNoYW5nZWQuZ2V0RXZlbnQoKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIC8qKlxyXG4gICAgICogVGhlIGNsYXNzbmFtZSB0aGF0IGlzIGF0dGFjaGVkIHRvIHRoZSBlbGVtZW50IHdoZW4gaXQgaXMgaW4gdGhlIGhpZGRlbiBzdGF0ZS5cclxuICAgICAqIEB0eXBlIHtzdHJpbmd9XHJcbiAgICAgKi9cclxuICAgIENvbXBvbmVudC5DTEFTU19ISURERU4gPSAnaGlkZGVuJztcclxuICAgIHJldHVybiBDb21wb25lbnQ7XHJcbn0oKSk7XHJcbmV4cG9ydHMuQ29tcG9uZW50ID0gQ29tcG9uZW50O1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvY29tcG9uZW50LnRzXG4vLyBtb2R1bGUgaWQgPSAyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBhcnJheXV0aWxzXzEgPSByZXF1aXJlKFwiLi9hcnJheXV0aWxzXCIpO1xyXG4vKipcclxuICogRXZlbnQgZGlzcGF0Y2hlciB0byBzdWJzY3JpYmUgYW5kIHRyaWdnZXIgZXZlbnRzLiBFYWNoIGV2ZW50IHNob3VsZCBoYXZlIGl0cyBvd24gZGlzcGF0Y2hlci5cclxuICovXHJcbnZhciBFdmVudERpc3BhdGNoZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBFdmVudERpc3BhdGNoZXIoKSB7XHJcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMgPSBbXTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICoge0Bpbmhlcml0RG9jfVxyXG4gICAgICovXHJcbiAgICBFdmVudERpc3BhdGNoZXIucHJvdG90eXBlLnN1YnNjcmliZSA9IGZ1bmN0aW9uIChsaXN0ZW5lcikge1xyXG4gICAgICAgIHRoaXMubGlzdGVuZXJzLnB1c2gobmV3IEV2ZW50TGlzdGVuZXJXcmFwcGVyKGxpc3RlbmVyKSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiB7QGluaGVyaXREb2N9XHJcbiAgICAgKi9cclxuICAgIEV2ZW50RGlzcGF0Y2hlci5wcm90b3R5cGUuc3Vic2NyaWJlT25jZSA9IGZ1bmN0aW9uIChsaXN0ZW5lcikge1xyXG4gICAgICAgIHRoaXMubGlzdGVuZXJzLnB1c2gobmV3IEV2ZW50TGlzdGVuZXJXcmFwcGVyKGxpc3RlbmVyLCB0cnVlKSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiB7QGluaGVyaXREb2N9XHJcbiAgICAgKi9cclxuICAgIEV2ZW50RGlzcGF0Y2hlci5wcm90b3R5cGUuc3Vic2NyaWJlUmF0ZUxpbWl0ZWQgPSBmdW5jdGlvbiAobGlzdGVuZXIsIHJhdGVNcykge1xyXG4gICAgICAgIHRoaXMubGlzdGVuZXJzLnB1c2gobmV3IFJhdGVMaW1pdGVkRXZlbnRMaXN0ZW5lcldyYXBwZXIobGlzdGVuZXIsIHJhdGVNcykpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICoge0Bpbmhlcml0RG9jfVxyXG4gICAgICovXHJcbiAgICBFdmVudERpc3BhdGNoZXIucHJvdG90eXBlLnVuc3Vic2NyaWJlID0gZnVuY3Rpb24gKGxpc3RlbmVyKSB7XHJcbiAgICAgICAgLy8gSXRlcmF0ZSB0aHJvdWdoIGxpc3RlbmVycywgY29tcGFyZSB3aXRoIHBhcmFtZXRlciwgYW5kIHJlbW92ZSBpZiBmb3VuZFxyXG4gICAgICAgIC8vIE5PVEU6IEluIGNhc2Ugd2UgZXZlciByZW1vdmUgYWxsIG1hdGNoaW5nIGxpc3RlbmVycyBpbnN0ZWFkIG9mIGp1c3QgdGhlIGZpcnN0LCB3ZSBuZWVkIHRvIHJldmVyc2UtaXRlcmF0ZSBoZXJlXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxpc3RlbmVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgc3Vic2NyaWJlZExpc3RlbmVyID0gdGhpcy5saXN0ZW5lcnNbaV07XHJcbiAgICAgICAgICAgIGlmIChzdWJzY3JpYmVkTGlzdGVuZXIubGlzdGVuZXIgPT09IGxpc3RlbmVyKSB7XHJcbiAgICAgICAgICAgICAgICBhcnJheXV0aWxzXzEuQXJyYXlVdGlscy5yZW1vdmUodGhpcy5saXN0ZW5lcnMsIHN1YnNjcmliZWRMaXN0ZW5lcik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZW1vdmVzIGFsbCBsaXN0ZW5lcnMgZnJvbSB0aGlzIGRpc3BhdGNoZXIuXHJcbiAgICAgKi9cclxuICAgIEV2ZW50RGlzcGF0Y2hlci5wcm90b3R5cGUudW5zdWJzY3JpYmVBbGwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMgPSBbXTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIERpc3BhdGNoZXMgYW4gZXZlbnQgdG8gYWxsIHN1YnNjcmliZWQgbGlzdGVuZXJzLlxyXG4gICAgICogQHBhcmFtIHNlbmRlciB0aGUgc291cmNlIG9mIHRoZSBldmVudFxyXG4gICAgICogQHBhcmFtIGFyZ3MgdGhlIGFyZ3VtZW50cyBmb3IgdGhlIGV2ZW50XHJcbiAgICAgKi9cclxuICAgIEV2ZW50RGlzcGF0Y2hlci5wcm90b3R5cGUuZGlzcGF0Y2ggPSBmdW5jdGlvbiAoc2VuZGVyLCBhcmdzKSB7XHJcbiAgICAgICAgaWYgKGFyZ3MgPT09IHZvaWQgMCkgeyBhcmdzID0gbnVsbDsgfVxyXG4gICAgICAgIHZhciBsaXN0ZW5lcnNUb1JlbW92ZSA9IFtdO1xyXG4gICAgICAgIC8vIENhbGwgZXZlcnkgbGlzdGVuZXJcclxuICAgICAgICAvLyBXZSBpdGVyYXRlIG92ZXIgYSBjb3B5IG9mIHRoZSBhcnJheSBvZiBsaXN0ZW5lcnMgdG8gYXZvaWQgdGhlIGNhc2Ugd2hlcmUgZXZlbnRzIGFyZSBub3QgZmlyZWQgb24gbGlzdGVuZXJzIHdoZW5cclxuICAgICAgICAvLyBsaXN0ZW5lcnMgYXJlIHVuc3Vic2NyaWJlZCBmcm9tIHdpdGhpbiB0aGUgZXZlbnQgaGFuZGxlcnMgZHVyaW5nIGEgZGlzcGF0Y2ggKGJlY2F1c2UgdGhlIGluZGljZXMgY2hhbmdlIGFuZFxyXG4gICAgICAgIC8vIGxpc3RlbmVycyBhcmUgc2hpZnRlZCB3aXRoaW4gdGhlIGFycmF5KS5cclxuICAgICAgICAvLyBUaGlzIG1lYW5zIHRoYXQgbGlzdGVuZXIgeCsxIHdpbGwgc3RpbGwgYmUgY2FsbGVkIGlmIHVuc3Vic2NyaWJlZCBmcm9tIHdpdGhpbiB0aGUgaGFuZGxlciBvZiBsaXN0ZW5lciB4LCBhcyB3ZWxsXHJcbiAgICAgICAgLy8gYXMgbGlzdGVuZXIgeSsxIHdpbGwgbm90IGJlIGNhbGxlZCB3aGVuIHN1YnNjcmliZWQgZnJvbSB3aXRoaW4gdGhlIGhhbmRsZXIgb2YgbGlzdGVuZXIgeS5cclxuICAgICAgICAvLyBBcnJheS5zbGljZSgwKSBpcyB0aGUgZmFzdGVzdCBhcnJheSBjb3B5IG1ldGhvZCBhY2NvcmRpbmcgdG86IGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yMTUxNDI1NC8zNzAyNTJcclxuICAgICAgICB2YXIgbGlzdGVuZXJzID0gdGhpcy5saXN0ZW5lcnMuc2xpY2UoMCk7XHJcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBsaXN0ZW5lcnNfMSA9IGxpc3RlbmVyczsgX2kgPCBsaXN0ZW5lcnNfMS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgdmFyIGxpc3RlbmVyID0gbGlzdGVuZXJzXzFbX2ldO1xyXG4gICAgICAgICAgICBsaXN0ZW5lci5maXJlKHNlbmRlciwgYXJncyk7XHJcbiAgICAgICAgICAgIGlmIChsaXN0ZW5lci5pc09uY2UoKSkge1xyXG4gICAgICAgICAgICAgICAgbGlzdGVuZXJzVG9SZW1vdmUucHVzaChsaXN0ZW5lcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gUmVtb3ZlIG9uZS10aW1lIGxpc3RlbmVyXHJcbiAgICAgICAgZm9yICh2YXIgX2EgPSAwLCBsaXN0ZW5lcnNUb1JlbW92ZV8xID0gbGlzdGVuZXJzVG9SZW1vdmU7IF9hIDwgbGlzdGVuZXJzVG9SZW1vdmVfMS5sZW5ndGg7IF9hKyspIHtcclxuICAgICAgICAgICAgdmFyIGxpc3RlbmVyVG9SZW1vdmUgPSBsaXN0ZW5lcnNUb1JlbW92ZV8xW19hXTtcclxuICAgICAgICAgICAgYXJyYXl1dGlsc18xLkFycmF5VXRpbHMucmVtb3ZlKHRoaXMubGlzdGVuZXJzLCBsaXN0ZW5lclRvUmVtb3ZlKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRoZSBldmVudCB0aGF0IHRoaXMgZGlzcGF0Y2hlciBtYW5hZ2VzIGFuZCBvbiB3aGljaCBsaXN0ZW5lcnMgY2FuIHN1YnNjcmliZSBhbmQgdW5zdWJzY3JpYmUgZXZlbnQgaGFuZGxlcnMuXHJcbiAgICAgKiBAcmV0dXJucyB7RXZlbnR9XHJcbiAgICAgKi9cclxuICAgIEV2ZW50RGlzcGF0Y2hlci5wcm90b3R5cGUuZ2V0RXZlbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8gRm9yIG5vdywganVzdCBjYXN0IHRoZSBldmVudCBkaXNwYXRjaGVyIHRvIHRoZSBldmVudCBtb2RlbHMuIEF0IHNvbWUgcG9pbnQgaW4gdGhlIGZ1dHVyZSB3aGVuIHRoZVxyXG4gICAgICAgIC8vIGNvZGViYXNlIGdyb3dzLCBpdCBtaWdodCBtYWtlIHNlbnNlIHRvIHNwbGl0IHRoZSBkaXNwYXRjaGVyIGludG8gc2VwYXJhdGUgZGlzcGF0Y2hlciBhbmQgZXZlbnQgY2xhc3Nlcy5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICByZXR1cm4gRXZlbnREaXNwYXRjaGVyO1xyXG59KCkpO1xyXG5leHBvcnRzLkV2ZW50RGlzcGF0Y2hlciA9IEV2ZW50RGlzcGF0Y2hlcjtcclxuLyoqXHJcbiAqIEEgYmFzaWMgZXZlbnQgbGlzdGVuZXIgd3JhcHBlciB0byBtYW5hZ2UgbGlzdGVuZXJzIHdpdGhpbiB0aGUge0BsaW5rIEV2ZW50RGlzcGF0Y2hlcn0uIFRoaXMgaXMgYSAncHJpdmF0ZScgY2xhc3NcclxuICogZm9yIGludGVybmFsIGRpc3BhdGNoZXIgdXNlIGFuZCBpdCBpcyB0aGVyZWZvcmUgbm90IGV4cG9ydGVkLlxyXG4gKi9cclxudmFyIEV2ZW50TGlzdGVuZXJXcmFwcGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gRXZlbnRMaXN0ZW5lcldyYXBwZXIobGlzdGVuZXIsIG9uY2UpIHtcclxuICAgICAgICBpZiAob25jZSA9PT0gdm9pZCAwKSB7IG9uY2UgPSBmYWxzZTsgfVxyXG4gICAgICAgIHRoaXMuZXZlbnRMaXN0ZW5lciA9IGxpc3RlbmVyO1xyXG4gICAgICAgIHRoaXMub25jZSA9IG9uY2U7XHJcbiAgICB9XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRXZlbnRMaXN0ZW5lcldyYXBwZXIucHJvdG90eXBlLCBcImxpc3RlbmVyXCIsIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBSZXR1cm5zIHRoZSB3cmFwcGVkIGV2ZW50IGxpc3RlbmVyLlxyXG4gICAgICAgICAqIEByZXR1cm5zIHtFdmVudExpc3RlbmVyPFNlbmRlciwgQXJncz59XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmV2ZW50TGlzdGVuZXI7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICAvKipcclxuICAgICAqIEZpcmVzIHRoZSB3cmFwcGVkIGV2ZW50IGxpc3RlbmVyIHdpdGggdGhlIGdpdmVuIGFyZ3VtZW50cy5cclxuICAgICAqIEBwYXJhbSBzZW5kZXJcclxuICAgICAqIEBwYXJhbSBhcmdzXHJcbiAgICAgKi9cclxuICAgIEV2ZW50TGlzdGVuZXJXcmFwcGVyLnByb3RvdHlwZS5maXJlID0gZnVuY3Rpb24gKHNlbmRlciwgYXJncykge1xyXG4gICAgICAgIHRoaXMuZXZlbnRMaXN0ZW5lcihzZW5kZXIsIGFyZ3MpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2tzIGlmIHRoaXMgbGlzdGVuZXIgaXMgc2NoZWR1bGVkIHRvIGJlIGNhbGxlZCBvbmx5IG9uY2UuXHJcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gb25jZSBpZiB0cnVlXHJcbiAgICAgKi9cclxuICAgIEV2ZW50TGlzdGVuZXJXcmFwcGVyLnByb3RvdHlwZS5pc09uY2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMub25jZTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gRXZlbnRMaXN0ZW5lcldyYXBwZXI7XHJcbn0oKSk7XHJcbi8qKlxyXG4gKiBFeHRlbmRzIHRoZSBiYXNpYyB7QGxpbmsgRXZlbnRMaXN0ZW5lcldyYXBwZXJ9IHdpdGggcmF0ZS1saW1pdGluZyBmdW5jdGlvbmFsaXR5LlxyXG4gKi9cclxudmFyIFJhdGVMaW1pdGVkRXZlbnRMaXN0ZW5lcldyYXBwZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoUmF0ZUxpbWl0ZWRFdmVudExpc3RlbmVyV3JhcHBlciwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIFJhdGVMaW1pdGVkRXZlbnRMaXN0ZW5lcldyYXBwZXIobGlzdGVuZXIsIHJhdGVNcykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGxpc3RlbmVyKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLnJhdGVNcyA9IHJhdGVNcztcclxuICAgICAgICBfdGhpcy5sYXN0RmlyZVRpbWUgPSAwO1xyXG4gICAgICAgIC8vIFdyYXAgdGhlIGV2ZW50IGxpc3RlbmVyIHdpdGggYW4gZXZlbnQgbGlzdGVuZXIgdGhhdCBkb2VzIHRoZSByYXRlLWxpbWl0aW5nXHJcbiAgICAgICAgX3RoaXMucmF0ZUxpbWl0aW5nRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uIChzZW5kZXIsIGFyZ3MpIHtcclxuICAgICAgICAgICAgaWYgKERhdGUubm93KCkgLSBfdGhpcy5sYXN0RmlyZVRpbWUgPiBfdGhpcy5yYXRlTXMpIHtcclxuICAgICAgICAgICAgICAgIC8vIE9ubHkgaWYgZW5vdWdoIHRpbWUgc2luY2UgdGhlIHByZXZpb3VzIGNhbGwgaGFzIHBhc3NlZCwgY2FsbCB0aGVcclxuICAgICAgICAgICAgICAgIC8vIGFjdHVhbCBldmVudCBsaXN0ZW5lciBhbmQgcmVjb3JkIHRoZSBjdXJyZW50IHRpbWVcclxuICAgICAgICAgICAgICAgIF90aGlzLmZpcmVTdXBlcihzZW5kZXIsIGFyZ3MpO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMubGFzdEZpcmVUaW1lID0gRGF0ZS5ub3coKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgUmF0ZUxpbWl0ZWRFdmVudExpc3RlbmVyV3JhcHBlci5wcm90b3R5cGUuZmlyZVN1cGVyID0gZnVuY3Rpb24gKHNlbmRlciwgYXJncykge1xyXG4gICAgICAgIC8vIEZpcmUgdGhlIGFjdHVhbCBleHRlcm5hbCBldmVudCBsaXN0ZW5lclxyXG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZmlyZS5jYWxsKHRoaXMsIHNlbmRlciwgYXJncyk7XHJcbiAgICB9O1xyXG4gICAgUmF0ZUxpbWl0ZWRFdmVudExpc3RlbmVyV3JhcHBlci5wcm90b3R5cGUuZmlyZSA9IGZ1bmN0aW9uIChzZW5kZXIsIGFyZ3MpIHtcclxuICAgICAgICAvLyBGaXJlIHRoZSBpbnRlcm5hbCByYXRlLWxpbWl0aW5nIGxpc3RlbmVyIGluc3RlYWQgb2YgdGhlIGV4dGVybmFsIGV2ZW50IGxpc3RlbmVyXHJcbiAgICAgICAgdGhpcy5yYXRlTGltaXRpbmdFdmVudExpc3RlbmVyKHNlbmRlciwgYXJncyk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFJhdGVMaW1pdGVkRXZlbnRMaXN0ZW5lcldyYXBwZXI7XHJcbn0oRXZlbnRMaXN0ZW5lcldyYXBwZXIpKTtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9ldmVudGRpc3BhdGNoZXIudHNcbi8vIG1vZHVsZSBpZCA9IDNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIHNlbGVjdGJveF8xID0gcmVxdWlyZShcIi4uL3NlbGVjdGJveFwiKTtcclxuLyoqXHJcbiAqIEJhc2UgY2xhc3MgZm9yIGFsbCBzdWJ0aXRsZXMgc2V0dGluZ3Mgc2VsZWN0IGJveFxyXG4gKiovXHJcbnZhciBTdWJ0aXRsZVNldHRpbmdTZWxlY3RCb3ggPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoU3VidGl0bGVTZXR0aW5nU2VsZWN0Qm94LCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gU3VidGl0bGVTZXR0aW5nU2VsZWN0Qm94KGNvbmZpZykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGNvbmZpZykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5zZXR0aW5nc01hbmFnZXIgPSBjb25maWcuc2V0dGluZ3NNYW5hZ2VyO1xyXG4gICAgICAgIF90aGlzLm92ZXJsYXkgPSBjb25maWcub3ZlcmxheTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZXMgYSBwcmV2aW91c2x5IHNldCBjbGFzcyBhbmQgYWRkcyB0aGUgcGFzc2VkIGluIGNsYXNzLlxyXG4gICAgICogQHBhcmFtIGNzc0NsYXNzIFRoZSBuZXcgY2xhc3MgdG8gcmVwbGFjZSB0aGUgcHJldmlvdXMgY2xhc3Mgd2l0aCBvciBudWxsIHRvIGp1c3QgcmVtb3ZlIHRoZSBwcmV2aW91cyBjbGFzc1xyXG4gICAgICovXHJcbiAgICBTdWJ0aXRsZVNldHRpbmdTZWxlY3RCb3gucHJvdG90eXBlLnRvZ2dsZU92ZXJsYXlDbGFzcyA9IGZ1bmN0aW9uIChjc3NDbGFzcykge1xyXG4gICAgICAgIC8vIFJlbW92ZSBwcmV2aW91cyBjbGFzcyBpZiBleGlzdGluZ1xyXG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRDc3NDbGFzcykge1xyXG4gICAgICAgICAgICB0aGlzLm92ZXJsYXkuZ2V0RG9tRWxlbWVudCgpLnJlbW92ZUNsYXNzKHRoaXMuY3VycmVudENzc0NsYXNzKTtcclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50Q3NzQ2xhc3MgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBBZGQgbmV3IGNsYXNzIGlmIHNwZWNpZmllZC4gSWYgdGhlIG5ldyBjbGFzcyBpcyBudWxsLCB3ZSBkb24ndCBhZGQgYW55dGhpbmcuXHJcbiAgICAgICAgaWYgKGNzc0NsYXNzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudENzc0NsYXNzID0gdGhpcy5wcmVmaXhDc3MoY3NzQ2xhc3MpO1xyXG4gICAgICAgICAgICB0aGlzLm92ZXJsYXkuZ2V0RG9tRWxlbWVudCgpLmFkZENsYXNzKHRoaXMuY3VycmVudENzc0NsYXNzKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFN1YnRpdGxlU2V0dGluZ1NlbGVjdEJveDtcclxufShzZWxlY3Rib3hfMS5TZWxlY3RCb3gpKTtcclxuZXhwb3J0cy5TdWJ0aXRsZVNldHRpbmdTZWxlY3RCb3ggPSBTdWJ0aXRsZVNldHRpbmdTZWxlY3RCb3g7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9zdWJ0aXRsZXNldHRpbmdzL3N1YnRpdGxlc2V0dGluZ3NlbGVjdGJveC50c1xuLy8gbW9kdWxlIGlkID0gNFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgYnV0dG9uXzEgPSByZXF1aXJlKFwiLi9idXR0b25cIik7XHJcbnZhciBldmVudGRpc3BhdGNoZXJfMSA9IHJlcXVpcmUoXCIuLi9ldmVudGRpc3BhdGNoZXJcIik7XHJcbi8qKlxyXG4gKiBBIGJ1dHRvbiB0aGF0IGNhbiBiZSB0b2dnbGVkIGJldHdlZW4gJ29uJyBhbmQgJ29mZicgc3RhdGVzLlxyXG4gKi9cclxudmFyIFRvZ2dsZUJ1dHRvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhUb2dnbGVCdXR0b24sIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBUb2dnbGVCdXR0b24oY29uZmlnKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgY29uZmlnKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLnRvZ2dsZUJ1dHRvbkV2ZW50cyA9IHtcclxuICAgICAgICAgICAgb25Ub2dnbGU6IG5ldyBldmVudGRpc3BhdGNoZXJfMS5FdmVudERpc3BhdGNoZXIoKSxcclxuICAgICAgICAgICAgb25Ub2dnbGVPbjogbmV3IGV2ZW50ZGlzcGF0Y2hlcl8xLkV2ZW50RGlzcGF0Y2hlcigpLFxyXG4gICAgICAgICAgICBvblRvZ2dsZU9mZjogbmV3IGV2ZW50ZGlzcGF0Y2hlcl8xLkV2ZW50RGlzcGF0Y2hlcigpLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdmFyIGRlZmF1bHRDb25maWcgPSB7XHJcbiAgICAgICAgICAgIGNzc0NsYXNzOiAndWktdG9nZ2xlYnV0dG9uJyxcclxuICAgICAgICAgICAgb25DbGFzczogJ29uJyxcclxuICAgICAgICAgICAgb2ZmQ2xhc3M6ICdvZmYnLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgX3RoaXMuY29uZmlnID0gX3RoaXMubWVyZ2VDb25maWcoY29uZmlnLCBkZWZhdWx0Q29uZmlnLCBfdGhpcy5jb25maWcpO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIFRvZ2dsZUJ1dHRvbi5wcm90b3R5cGUuY29uZmlndXJlID0gZnVuY3Rpb24gKHBsYXllciwgdWltYW5hZ2VyKSB7XHJcbiAgICAgICAgdmFyIGNvbmZpZyA9IHRoaXMuZ2V0Q29uZmlnKCk7XHJcbiAgICAgICAgdGhpcy5nZXREb21FbGVtZW50KCkuYWRkQ2xhc3ModGhpcy5wcmVmaXhDc3MoY29uZmlnLm9mZkNsYXNzKSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBUb2dnbGVzIHRoZSBidXR0b24gdG8gdGhlICdvbicgc3RhdGUuXHJcbiAgICAgKi9cclxuICAgIFRvZ2dsZUJ1dHRvbi5wcm90b3R5cGUub24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNPZmYoKSkge1xyXG4gICAgICAgICAgICB2YXIgY29uZmlnID0gdGhpcy5nZXRDb25maWcoKTtcclxuICAgICAgICAgICAgdGhpcy5vblN0YXRlID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5nZXREb21FbGVtZW50KCkucmVtb3ZlQ2xhc3ModGhpcy5wcmVmaXhDc3MoY29uZmlnLm9mZkNsYXNzKSk7XHJcbiAgICAgICAgICAgIHRoaXMuZ2V0RG9tRWxlbWVudCgpLmFkZENsYXNzKHRoaXMucHJlZml4Q3NzKGNvbmZpZy5vbkNsYXNzKSk7XHJcbiAgICAgICAgICAgIHRoaXMub25Ub2dnbGVFdmVudCgpO1xyXG4gICAgICAgICAgICB0aGlzLm9uVG9nZ2xlT25FdmVudCgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFRvZ2dsZXMgdGhlIGJ1dHRvbiB0byB0aGUgJ29mZicgc3RhdGUuXHJcbiAgICAgKi9cclxuICAgIFRvZ2dsZUJ1dHRvbi5wcm90b3R5cGUub2ZmID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzT24oKSkge1xyXG4gICAgICAgICAgICB2YXIgY29uZmlnID0gdGhpcy5nZXRDb25maWcoKTtcclxuICAgICAgICAgICAgdGhpcy5vblN0YXRlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuZ2V0RG9tRWxlbWVudCgpLnJlbW92ZUNsYXNzKHRoaXMucHJlZml4Q3NzKGNvbmZpZy5vbkNsYXNzKSk7XHJcbiAgICAgICAgICAgIHRoaXMuZ2V0RG9tRWxlbWVudCgpLmFkZENsYXNzKHRoaXMucHJlZml4Q3NzKGNvbmZpZy5vZmZDbGFzcykpO1xyXG4gICAgICAgICAgICB0aGlzLm9uVG9nZ2xlRXZlbnQoKTtcclxuICAgICAgICAgICAgdGhpcy5vblRvZ2dsZU9mZkV2ZW50KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogVG9nZ2xlIHRoZSBidXR0b24gJ29uJyBpZiBpdCBpcyAnb2ZmJywgb3IgJ29mZicgaWYgaXQgaXMgJ29uJy5cclxuICAgICAqL1xyXG4gICAgVG9nZ2xlQnV0dG9uLnByb3RvdHlwZS50b2dnbGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNPbigpKSB7XHJcbiAgICAgICAgICAgIHRoaXMub2ZmKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLm9uKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2tzIGlmIHRoZSB0b2dnbGUgYnV0dG9uIGlzIGluIHRoZSAnb24nIHN0YXRlLlxyXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IHRydWUgaWYgYnV0dG9uIGlzICdvbicsIGZhbHNlIGlmICdvZmYnXHJcbiAgICAgKi9cclxuICAgIFRvZ2dsZUJ1dHRvbi5wcm90b3R5cGUuaXNPbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5vblN0YXRlO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2tzIGlmIHRoZSB0b2dnbGUgYnV0dG9uIGlzIGluIHRoZSAnb2ZmJyBzdGF0ZS5cclxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlmIGJ1dHRvbiBpcyAnb2ZmJywgZmFsc2UgaWYgJ29uJ1xyXG4gICAgICovXHJcbiAgICBUb2dnbGVCdXR0b24ucHJvdG90eXBlLmlzT2ZmID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiAhdGhpcy5pc09uKCk7XHJcbiAgICB9O1xyXG4gICAgVG9nZ2xlQnV0dG9uLnByb3RvdHlwZS5vbkNsaWNrRXZlbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5vbkNsaWNrRXZlbnQuY2FsbCh0aGlzKTtcclxuICAgICAgICAvLyBGaXJlIHRoZSB0b2dnbGUgZXZlbnQgdG9nZXRoZXIgd2l0aCB0aGUgY2xpY2sgZXZlbnRcclxuICAgICAgICAvLyAodGhleSBhcmUgdGVjaG5pY2FsbHkgdGhlIHNhbWUsIG9ubHkgdGhlIHNlbWFudGljcyBhcmUgZGlmZmVyZW50KVxyXG4gICAgICAgIHRoaXMub25Ub2dnbGVFdmVudCgpO1xyXG4gICAgfTtcclxuICAgIFRvZ2dsZUJ1dHRvbi5wcm90b3R5cGUub25Ub2dnbGVFdmVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLnRvZ2dsZUJ1dHRvbkV2ZW50cy5vblRvZ2dsZS5kaXNwYXRjaCh0aGlzKTtcclxuICAgIH07XHJcbiAgICBUb2dnbGVCdXR0b24ucHJvdG90eXBlLm9uVG9nZ2xlT25FdmVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLnRvZ2dsZUJ1dHRvbkV2ZW50cy5vblRvZ2dsZU9uLmRpc3BhdGNoKHRoaXMpO1xyXG4gICAgfTtcclxuICAgIFRvZ2dsZUJ1dHRvbi5wcm90b3R5cGUub25Ub2dnbGVPZmZFdmVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLnRvZ2dsZUJ1dHRvbkV2ZW50cy5vblRvZ2dsZU9mZi5kaXNwYXRjaCh0aGlzKTtcclxuICAgIH07XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVG9nZ2xlQnV0dG9uLnByb3RvdHlwZSwgXCJvblRvZ2dsZVwiLCB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogR2V0cyB0aGUgZXZlbnQgdGhhdCBpcyBmaXJlZCB3aGVuIHRoZSBidXR0b24gaXMgdG9nZ2xlZC5cclxuICAgICAgICAgKiBAcmV0dXJucyB7RXZlbnQ8VG9nZ2xlQnV0dG9uPENvbmZpZz4sIE5vQXJncz59XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRvZ2dsZUJ1dHRvbkV2ZW50cy5vblRvZ2dsZS5nZXRFdmVudCgpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRvZ2dsZUJ1dHRvbi5wcm90b3R5cGUsIFwib25Ub2dnbGVPblwiLCB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogR2V0cyB0aGUgZXZlbnQgdGhhdCBpcyBmaXJlZCB3aGVuIHRoZSBidXR0b24gaXMgdG9nZ2xlZCAnb24nLlxyXG4gICAgICAgICAqIEByZXR1cm5zIHtFdmVudDxUb2dnbGVCdXR0b248Q29uZmlnPiwgTm9BcmdzPn1cclxuICAgICAgICAgKi9cclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudG9nZ2xlQnV0dG9uRXZlbnRzLm9uVG9nZ2xlT24uZ2V0RXZlbnQoKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUb2dnbGVCdXR0b24ucHJvdG90eXBlLCBcIm9uVG9nZ2xlT2ZmXCIsIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBHZXRzIHRoZSBldmVudCB0aGF0IGlzIGZpcmVkIHdoZW4gdGhlIGJ1dHRvbiBpcyB0b2dnbGVkICdvZmYnLlxyXG4gICAgICAgICAqIEByZXR1cm5zIHtFdmVudDxUb2dnbGVCdXR0b248Q29uZmlnPiwgTm9BcmdzPn1cclxuICAgICAgICAgKi9cclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudG9nZ2xlQnV0dG9uRXZlbnRzLm9uVG9nZ2xlT2ZmLmdldEV2ZW50KCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gVG9nZ2xlQnV0dG9uO1xyXG59KGJ1dHRvbl8xLkJ1dHRvbikpO1xyXG5leHBvcnRzLlRvZ2dsZUJ1dHRvbiA9IFRvZ2dsZUJ1dHRvbjtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3RvZ2dsZWJ1dHRvbi50c1xuLy8gbW9kdWxlIGlkID0gNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgY29tcG9uZW50XzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRcIik7XHJcbnZhciBkb21fMSA9IHJlcXVpcmUoXCIuLi9kb21cIik7XHJcbnZhciBldmVudGRpc3BhdGNoZXJfMSA9IHJlcXVpcmUoXCIuLi9ldmVudGRpc3BhdGNoZXJcIik7XHJcbi8qKlxyXG4gKiBBIHNpbXBsZSB0ZXh0IGxhYmVsLlxyXG4gKlxyXG4gKiBET00gZXhhbXBsZTpcclxuICogPGNvZGU+XHJcbiAqICAgICA8c3BhbiBjbGFzcz0ndWktbGFiZWwnPi4uLnNvbWUgdGV4dC4uLjwvc3Bhbj5cclxuICogPC9jb2RlPlxyXG4gKi9cclxudmFyIExhYmVsID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKExhYmVsLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gTGFiZWwoY29uZmlnKSB7XHJcbiAgICAgICAgaWYgKGNvbmZpZyA9PT0gdm9pZCAwKSB7IGNvbmZpZyA9IHt9OyB9XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgY29uZmlnKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLmxhYmVsRXZlbnRzID0ge1xyXG4gICAgICAgICAgICBvbkNsaWNrOiBuZXcgZXZlbnRkaXNwYXRjaGVyXzEuRXZlbnREaXNwYXRjaGVyKCksXHJcbiAgICAgICAgICAgIG9uVGV4dENoYW5nZWQ6IG5ldyBldmVudGRpc3BhdGNoZXJfMS5FdmVudERpc3BhdGNoZXIoKSxcclxuICAgICAgICB9O1xyXG4gICAgICAgIF90aGlzLmNvbmZpZyA9IF90aGlzLm1lcmdlQ29uZmlnKGNvbmZpZywge1xyXG4gICAgICAgICAgICBjc3NDbGFzczogJ3VpLWxhYmVsJyxcclxuICAgICAgICB9LCBfdGhpcy5jb25maWcpO1xyXG4gICAgICAgIF90aGlzLnRleHQgPSBfdGhpcy5jb25maWcudGV4dDtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBMYWJlbC5wcm90b3R5cGUudG9Eb21FbGVtZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdmFyIGxhYmVsRWxlbWVudCA9IG5ldyBkb21fMS5ET00oJ3NwYW4nLCB7XHJcbiAgICAgICAgICAgICdpZCc6IHRoaXMuY29uZmlnLmlkLFxyXG4gICAgICAgICAgICAnY2xhc3MnOiB0aGlzLmdldENzc0NsYXNzZXMoKSxcclxuICAgICAgICB9KS5odG1sKHRoaXMudGV4dCk7XHJcbiAgICAgICAgbGFiZWxFbGVtZW50Lm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgX3RoaXMub25DbGlja0V2ZW50KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIGxhYmVsRWxlbWVudDtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFNldCB0aGUgdGV4dCBvbiB0aGlzIGxhYmVsLlxyXG4gICAgICogQHBhcmFtIHRleHRcclxuICAgICAqL1xyXG4gICAgTGFiZWwucHJvdG90eXBlLnNldFRleHQgPSBmdW5jdGlvbiAodGV4dCkge1xyXG4gICAgICAgIHRoaXMudGV4dCA9IHRleHQ7XHJcbiAgICAgICAgdGhpcy5nZXREb21FbGVtZW50KCkuaHRtbCh0ZXh0KTtcclxuICAgICAgICB0aGlzLm9uVGV4dENoYW5nZWRFdmVudCh0ZXh0KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEdldHMgdGhlIHRleHQgb24gdGhpcyBsYWJlbC5cclxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIHRleHQgb24gdGhlIGxhYmVsXHJcbiAgICAgKi9cclxuICAgIExhYmVsLnByb3RvdHlwZS5nZXRUZXh0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnRleHQ7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBDbGVhcnMgdGhlIHRleHQgb24gdGhpcyBsYWJlbC5cclxuICAgICAqL1xyXG4gICAgTGFiZWwucHJvdG90eXBlLmNsZWFyVGV4dCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLmdldERvbUVsZW1lbnQoKS5odG1sKCcnKTtcclxuICAgICAgICB0aGlzLm9uVGV4dENoYW5nZWRFdmVudChudWxsKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFRlc3RzIGlmIHRoZSBsYWJlbCBpcyBlbXB0eSBhbmQgZG9lcyBub3QgY29udGFpbiBhbnkgdGV4dC5cclxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIGxhYmVsIGlzIGVtcHR5LCBlbHNlIGZhbHNlXHJcbiAgICAgKi9cclxuICAgIExhYmVsLnByb3RvdHlwZS5pc0VtcHR5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiAhdGhpcy50ZXh0O1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogRmlyZXMgdGhlIHtAbGluayAjb25DbGlja30gZXZlbnQuXHJcbiAgICAgKiBDYW4gYmUgdXNlZCBieSBzdWJjbGFzc2VzIHRvIGxpc3RlbiB0byB0aGlzIGV2ZW50IHdpdGhvdXQgc3Vic2NyaWJpbmcgYW4gZXZlbnQgbGlzdGVuZXIgYnkgb3ZlcndyaXRpbmcgdGhlIG1ldGhvZFxyXG4gICAgICogYW5kIGNhbGxpbmcgdGhlIHN1cGVyIG1ldGhvZC5cclxuICAgICAqL1xyXG4gICAgTGFiZWwucHJvdG90eXBlLm9uQ2xpY2tFdmVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLmxhYmVsRXZlbnRzLm9uQ2xpY2suZGlzcGF0Y2godGhpcyk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBGaXJlcyB0aGUge0BsaW5rICNvbkNsaWNrfSBldmVudC5cclxuICAgICAqIENhbiBiZSB1c2VkIGJ5IHN1YmNsYXNzZXMgdG8gbGlzdGVuIHRvIHRoaXMgZXZlbnQgd2l0aG91dCBzdWJzY3JpYmluZyBhbiBldmVudCBsaXN0ZW5lciBieSBvdmVyd3JpdGluZyB0aGUgbWV0aG9kXHJcbiAgICAgKiBhbmQgY2FsbGluZyB0aGUgc3VwZXIgbWV0aG9kLlxyXG4gICAgICovXHJcbiAgICBMYWJlbC5wcm90b3R5cGUub25UZXh0Q2hhbmdlZEV2ZW50ID0gZnVuY3Rpb24gKHRleHQpIHtcclxuICAgICAgICB0aGlzLmxhYmVsRXZlbnRzLm9uVGV4dENoYW5nZWQuZGlzcGF0Y2godGhpcywgdGV4dCk7XHJcbiAgICB9O1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KExhYmVsLnByb3RvdHlwZSwgXCJvbkNsaWNrXCIsIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBHZXRzIHRoZSBldmVudCB0aGF0IGlzIGZpcmVkIHdoZW4gdGhlIGxhYmVsIGlzIGNsaWNrZWQuXHJcbiAgICAgICAgICogQHJldHVybnMge0V2ZW50PExhYmVsPExhYmVsQ29uZmlnPiwgTm9BcmdzPn1cclxuICAgICAgICAgKi9cclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGFiZWxFdmVudHMub25DbGljay5nZXRFdmVudCgpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KExhYmVsLnByb3RvdHlwZSwgXCJvblRleHRDaGFuZ2VkXCIsIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBHZXRzIHRoZSBldmVudCB0aGF0IGlzIGZpcmVkIHdoZW4gdGhlIHRleHQgb24gdGhlIGxhYmVsIGlzIGNoYW5nZWQuXHJcbiAgICAgICAgICogQHJldHVybnMge0V2ZW50PExhYmVsPExhYmVsQ29uZmlnPiwgc3RyaW5nPn1cclxuICAgICAgICAgKi9cclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGFiZWxFdmVudHMub25UZXh0Q2hhbmdlZC5nZXRFdmVudCgpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIExhYmVsO1xyXG59KGNvbXBvbmVudF8xLkNvbXBvbmVudCkpO1xyXG5leHBvcnRzLkxhYmVsID0gTGFiZWw7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9sYWJlbC50c1xuLy8gbW9kdWxlIGlkID0gNlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgY29tcG9uZW50XzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRcIik7XHJcbnZhciBkb21fMSA9IHJlcXVpcmUoXCIuLi9kb21cIik7XHJcbnZhciBldmVudGRpc3BhdGNoZXJfMSA9IHJlcXVpcmUoXCIuLi9ldmVudGRpc3BhdGNoZXJcIik7XHJcbi8qKlxyXG4gKiBBIHNpbXBsZSBjbGlja2FibGUgYnV0dG9uLlxyXG4gKi9cclxudmFyIEJ1dHRvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhCdXR0b24sIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBCdXR0b24oY29uZmlnKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgY29uZmlnKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLmJ1dHRvbkV2ZW50cyA9IHtcclxuICAgICAgICAgICAgb25DbGljazogbmV3IGV2ZW50ZGlzcGF0Y2hlcl8xLkV2ZW50RGlzcGF0Y2hlcigpLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgX3RoaXMuY29uZmlnID0gX3RoaXMubWVyZ2VDb25maWcoY29uZmlnLCB7XHJcbiAgICAgICAgICAgIGNzc0NsYXNzOiAndWktYnV0dG9uJyxcclxuICAgICAgICB9LCBfdGhpcy5jb25maWcpO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIEJ1dHRvbi5wcm90b3R5cGUudG9Eb21FbGVtZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgLy8gQ3JlYXRlIHRoZSBidXR0b24gZWxlbWVudCB3aXRoIHRoZSB0ZXh0IGxhYmVsXHJcbiAgICAgICAgdmFyIGJ1dHRvbkVsZW1lbnQgPSBuZXcgZG9tXzEuRE9NKCdidXR0b24nLCB7XHJcbiAgICAgICAgICAgICd0eXBlJzogJ2J1dHRvbicsXHJcbiAgICAgICAgICAgICdpZCc6IHRoaXMuY29uZmlnLmlkLFxyXG4gICAgICAgICAgICAnY2xhc3MnOiB0aGlzLmdldENzc0NsYXNzZXMoKSxcclxuICAgICAgICB9KS5hcHBlbmQobmV3IGRvbV8xLkRPTSgnc3BhbicsIHtcclxuICAgICAgICAgICAgJ2NsYXNzJzogdGhpcy5wcmVmaXhDc3MoJ2xhYmVsJyksXHJcbiAgICAgICAgfSkuaHRtbCh0aGlzLmNvbmZpZy50ZXh0KSk7XHJcbiAgICAgICAgLy8gTGlzdGVuIGZvciB0aGUgY2xpY2sgZXZlbnQgb24gdGhlIGJ1dHRvbiBlbGVtZW50IGFuZCB0cmlnZ2VyIHRoZSBjb3JyZXNwb25kaW5nIGV2ZW50IG9uIHRoZSBidXR0b24gY29tcG9uZW50XHJcbiAgICAgICAgYnV0dG9uRWxlbWVudC5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIF90aGlzLm9uQ2xpY2tFdmVudCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBidXR0b25FbGVtZW50O1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogU2V0cyB0ZXh0IG9uIHRoZSBsYWJlbCBvZiB0aGUgYnV0dG9uLlxyXG4gICAgICogQHBhcmFtIHRleHQgdGhlIHRleHQgdG8gcHV0IGludG8gdGhlIGxhYmVsIG9mIHRoZSBidXR0b25cclxuICAgICAqL1xyXG4gICAgQnV0dG9uLnByb3RvdHlwZS5zZXRUZXh0ID0gZnVuY3Rpb24gKHRleHQpIHtcclxuICAgICAgICB0aGlzLmdldERvbUVsZW1lbnQoKS5maW5kKCcuJyArIHRoaXMucHJlZml4Q3NzKCdsYWJlbCcpKS5odG1sKHRleHQpO1xyXG4gICAgfTtcclxuICAgIEJ1dHRvbi5wcm90b3R5cGUub25DbGlja0V2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuYnV0dG9uRXZlbnRzLm9uQ2xpY2suZGlzcGF0Y2godGhpcyk7XHJcbiAgICB9O1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJ1dHRvbi5wcm90b3R5cGUsIFwib25DbGlja1wiLCB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogR2V0cyB0aGUgZXZlbnQgdGhhdCBpcyBmaXJlZCB3aGVuIHRoZSBidXR0b24gaXMgY2xpY2tlZC5cclxuICAgICAgICAgKiBAcmV0dXJucyB7RXZlbnQ8QnV0dG9uPENvbmZpZz4sIE5vQXJncz59XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmJ1dHRvbkV2ZW50cy5vbkNsaWNrLmdldEV2ZW50KCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gQnV0dG9uO1xyXG59KGNvbXBvbmVudF8xLkNvbXBvbmVudCkpO1xyXG5leHBvcnRzLkJ1dHRvbiA9IEJ1dHRvbjtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL2J1dHRvbi50c1xuLy8gbW9kdWxlIGlkID0gN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgbGlzdHNlbGVjdG9yXzEgPSByZXF1aXJlKFwiLi9saXN0c2VsZWN0b3JcIik7XHJcbnZhciBkb21fMSA9IHJlcXVpcmUoXCIuLi9kb21cIik7XHJcbi8qKlxyXG4gKiBBIHNpbXBsZSBzZWxlY3QgYm94IHByb3ZpZGluZyB0aGUgcG9zc2liaWxpdHkgdG8gc2VsZWN0IGEgc2luZ2xlIGl0ZW0gb3V0IG9mIGEgbGlzdCBvZiBhdmFpbGFibGUgaXRlbXMuXHJcbiAqXHJcbiAqIERPTSBleGFtcGxlOlxyXG4gKiA8Y29kZT5cclxuICogICAgIDxzZWxlY3QgY2xhc3M9J3VpLXNlbGVjdGJveCc+XHJcbiAqICAgICAgICAgPG9wdGlvbiB2YWx1ZT0na2V5Jz5sYWJlbDwvb3B0aW9uPlxyXG4gKiAgICAgICAgIC4uLlxyXG4gKiAgICAgPC9zZWxlY3Q+XHJcbiAqIDwvY29kZT5cclxuICovXHJcbnZhciBTZWxlY3RCb3ggPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoU2VsZWN0Qm94LCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gU2VsZWN0Qm94KGNvbmZpZykge1xyXG4gICAgICAgIGlmIChjb25maWcgPT09IHZvaWQgMCkgeyBjb25maWcgPSB7fTsgfVxyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGNvbmZpZykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5jb25maWcgPSBfdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIHtcclxuICAgICAgICAgICAgY3NzQ2xhc3M6ICd1aS1zZWxlY3Rib3gnLFxyXG4gICAgICAgIH0sIF90aGlzLmNvbmZpZyk7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgU2VsZWN0Qm94LnByb3RvdHlwZS50b0RvbUVsZW1lbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB2YXIgc2VsZWN0RWxlbWVudCA9IG5ldyBkb21fMS5ET00oJ3NlbGVjdCcsIHtcclxuICAgICAgICAgICAgJ2lkJzogdGhpcy5jb25maWcuaWQsXHJcbiAgICAgICAgICAgICdjbGFzcyc6IHRoaXMuZ2V0Q3NzQ2xhc3NlcygpLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuc2VsZWN0RWxlbWVudCA9IHNlbGVjdEVsZW1lbnQ7XHJcbiAgICAgICAgdGhpcy51cGRhdGVEb21JdGVtcygpO1xyXG4gICAgICAgIHNlbGVjdEVsZW1lbnQub24oJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIHZhbHVlID0gc2VsZWN0RWxlbWVudC52YWwoKTtcclxuICAgICAgICAgICAgX3RoaXMub25JdGVtU2VsZWN0ZWRFdmVudCh2YWx1ZSwgZmFsc2UpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBzZWxlY3RFbGVtZW50O1xyXG4gICAgfTtcclxuICAgIFNlbGVjdEJveC5wcm90b3R5cGUudXBkYXRlRG9tSXRlbXMgPSBmdW5jdGlvbiAoc2VsZWN0ZWRWYWx1ZSkge1xyXG4gICAgICAgIGlmIChzZWxlY3RlZFZhbHVlID09PSB2b2lkIDApIHsgc2VsZWN0ZWRWYWx1ZSA9IG51bGw7IH1cclxuICAgICAgICAvLyBEZWxldGUgYWxsIGNoaWxkcmVuXHJcbiAgICAgICAgdGhpcy5zZWxlY3RFbGVtZW50LmVtcHR5KCk7XHJcbiAgICAgICAgLy8gQWRkIHVwZGF0ZWQgY2hpbGRyZW5cclxuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gdGhpcy5pdGVtczsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgdmFyIGl0ZW0gPSBfYVtfaV07XHJcbiAgICAgICAgICAgIHZhciBvcHRpb25FbGVtZW50ID0gbmV3IGRvbV8xLkRPTSgnb3B0aW9uJywge1xyXG4gICAgICAgICAgICAgICAgJ3ZhbHVlJzogaXRlbS5rZXksXHJcbiAgICAgICAgICAgIH0pLmh0bWwoaXRlbS5sYWJlbCk7XHJcbiAgICAgICAgICAgIGlmIChpdGVtLmtleSA9PT0gU3RyaW5nKHNlbGVjdGVkVmFsdWUpKSB7IC8vIGNvbnZlcnQgc2VsZWN0ZWRWYWx1ZSB0byBzdHJpbmcgdG8gY2F0Y2ggJ251bGwnL251bGwgY2FzZVxyXG4gICAgICAgICAgICAgICAgb3B0aW9uRWxlbWVudC5hdHRyKCdzZWxlY3RlZCcsICdzZWxlY3RlZCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0RWxlbWVudC5hcHBlbmQob3B0aW9uRWxlbWVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFNlbGVjdEJveC5wcm90b3R5cGUub25JdGVtQWRkZWRFdmVudCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUub25JdGVtQWRkZWRFdmVudC5jYWxsKHRoaXMsIHZhbHVlKTtcclxuICAgICAgICB0aGlzLnVwZGF0ZURvbUl0ZW1zKHRoaXMuc2VsZWN0ZWRJdGVtKTtcclxuICAgIH07XHJcbiAgICBTZWxlY3RCb3gucHJvdG90eXBlLm9uSXRlbVJlbW92ZWRFdmVudCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUub25JdGVtUmVtb3ZlZEV2ZW50LmNhbGwodGhpcywgdmFsdWUpO1xyXG4gICAgICAgIHRoaXMudXBkYXRlRG9tSXRlbXModGhpcy5zZWxlY3RlZEl0ZW0pO1xyXG4gICAgfTtcclxuICAgIFNlbGVjdEJveC5wcm90b3R5cGUub25JdGVtU2VsZWN0ZWRFdmVudCA9IGZ1bmN0aW9uICh2YWx1ZSwgdXBkYXRlRG9tSXRlbXMpIHtcclxuICAgICAgICBpZiAodXBkYXRlRG9tSXRlbXMgPT09IHZvaWQgMCkgeyB1cGRhdGVEb21JdGVtcyA9IHRydWU7IH1cclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLm9uSXRlbVNlbGVjdGVkRXZlbnQuY2FsbCh0aGlzLCB2YWx1ZSk7XHJcbiAgICAgICAgaWYgKHVwZGF0ZURvbUl0ZW1zKSB7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlRG9tSXRlbXModmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICByZXR1cm4gU2VsZWN0Qm94O1xyXG59KGxpc3RzZWxlY3Rvcl8xLkxpc3RTZWxlY3RvcikpO1xyXG5leHBvcnRzLlNlbGVjdEJveCA9IFNlbGVjdEJveDtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3NlbGVjdGJveC50c1xuLy8gbW9kdWxlIGlkID0gOFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG4vLyBUT0RPIGNoYW5nZSB0byBpbnRlcm5hbCAobm90IGV4cG9ydGVkKSBjbGFzcywgaG93IHRvIHVzZSBpbiBvdGhlciBmaWxlcz9cclxuLyoqXHJcbiAqIEV4ZWN1dGVzIGEgY2FsbGJhY2sgYWZ0ZXIgYSBzcGVjaWZpZWQgYW1vdW50IG9mIHRpbWUsIG9wdGlvbmFsbHkgcmVwZWF0ZWRseSB1bnRpbCBzdG9wcGVkLlxyXG4gKi9cclxudmFyIFRpbWVvdXQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgYSBuZXcgdGltZW91dCBjYWxsYmFjayBoYW5kbGVyLlxyXG4gICAgICogQHBhcmFtIGRlbGF5IHRoZSBkZWxheSBpbiBtaWxsaXNlY29uZHMgYWZ0ZXIgd2hpY2ggdGhlIGNhbGxiYWNrIHNob3VsZCBiZSBleGVjdXRlZFxyXG4gICAgICogQHBhcmFtIGNhbGxiYWNrIHRoZSBjYWxsYmFjayB0byBleGVjdXRlIGFmdGVyIHRoZSBkZWxheSB0aW1lXHJcbiAgICAgKiBAcGFyYW0gcmVwZWF0IGlmIHRydWUsIGNhbGwgdGhlIGNhbGxiYWNrIHJlcGVhdGVkbHkgaW4gZGVsYXkgaW50ZXJ2YWxzXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIFRpbWVvdXQoZGVsYXksIGNhbGxiYWNrLCByZXBlYXQpIHtcclxuICAgICAgICBpZiAocmVwZWF0ID09PSB2b2lkIDApIHsgcmVwZWF0ID0gZmFsc2U7IH1cclxuICAgICAgICB0aGlzLmRlbGF5ID0gZGVsYXk7XHJcbiAgICAgICAgdGhpcy5jYWxsYmFjayA9IGNhbGxiYWNrO1xyXG4gICAgICAgIHRoaXMucmVwZWF0ID0gcmVwZWF0O1xyXG4gICAgICAgIHRoaXMudGltZW91dEhhbmRsZSA9IDA7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFN0YXJ0cyB0aGUgdGltZW91dCBhbmQgY2FsbHMgdGhlIGNhbGxiYWNrIHdoZW4gdGhlIHRpbWVvdXQgZGVsYXkgaGFzIHBhc3NlZC5cclxuICAgICAqIEByZXR1cm5zIHtUaW1lb3V0fSB0aGUgY3VycmVudCB0aW1lb3V0IChzbyB0aGUgc3RhcnQgY2FsbCBjYW4gYmUgY2hhaW5lZCB0byB0aGUgY29uc3RydWN0b3IpXHJcbiAgICAgKi9cclxuICAgIFRpbWVvdXQucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMucmVzZXQoKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIENsZWFycyB0aGUgdGltZW91dC4gVGhlIGNhbGxiYWNrIHdpbGwgbm90IGJlIGNhbGxlZCBpZiBjbGVhciBpcyBjYWxsZWQgZHVyaW5nIHRoZSB0aW1lb3V0LlxyXG4gICAgICovXHJcbiAgICBUaW1lb3V0LnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLmNsZWFySW50ZXJuYWwoKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJlc2V0cyB0aGUgcGFzc2VkIHRpbWVvdXQgZGVsYXkgdG8gemVyby4gQ2FuIGJlIHVzZWQgdG8gZGVmZXIgdGhlIGNhbGxpbmcgb2YgdGhlIGNhbGxiYWNrLlxyXG4gICAgICovXHJcbiAgICBUaW1lb3V0LnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHZhciBsYXN0U2NoZWR1bGVUaW1lID0gMDtcclxuICAgICAgICB2YXIgZGVsYXlBZGp1c3QgPSAwO1xyXG4gICAgICAgIHRoaXMuY2xlYXJJbnRlcm5hbCgpO1xyXG4gICAgICAgIHZhciBpbnRlcm5hbENhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBfdGhpcy5jYWxsYmFjaygpO1xyXG4gICAgICAgICAgICBpZiAoX3RoaXMucmVwZWF0KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbm93ID0gRGF0ZS5ub3coKTtcclxuICAgICAgICAgICAgICAgIC8vIFRoZSB0aW1lIG9mIG9uZSBpdGVyYXRpb24gZnJvbSBzY2hlZHVsaW5nIHRvIGV4ZWN1dGluZyB0aGUgY2FsbGJhY2sgKHVzdWFsbHkgYSBiaXQgbG9uZ2VyIHRoYW4gdGhlIGRlbGF5XHJcbiAgICAgICAgICAgICAgICAvLyB0aW1lKVxyXG4gICAgICAgICAgICAgICAgdmFyIGRlbHRhID0gbm93IC0gbGFzdFNjaGVkdWxlVGltZTtcclxuICAgICAgICAgICAgICAgIC8vIENhbGN1bGF0ZSB0aGUgZGVsYXkgYWRqdXN0bWVudCBmb3IgdGhlIG5leHQgc2NoZWR1bGUgdG8ga2VlcCBhIHN0ZWFkeSBkZWxheSBpbnRlcnZhbCBvdmVyIHRpbWVcclxuICAgICAgICAgICAgICAgIGRlbGF5QWRqdXN0ID0gX3RoaXMuZGVsYXkgLSBkZWx0YSArIGRlbGF5QWRqdXN0O1xyXG4gICAgICAgICAgICAgICAgbGFzdFNjaGVkdWxlVGltZSA9IG5vdztcclxuICAgICAgICAgICAgICAgIC8vIFNjaGVkdWxlIG5leHQgZXhlY3V0aW9uIGJ5IHRoZSBhZGp1c3RlZCBkZWxheVxyXG4gICAgICAgICAgICAgICAgX3RoaXMudGltZW91dEhhbmRsZSA9IHNldFRpbWVvdXQoaW50ZXJuYWxDYWxsYmFjaywgX3RoaXMuZGVsYXkgKyBkZWxheUFkanVzdCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIGxhc3RTY2hlZHVsZVRpbWUgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgIHRoaXMudGltZW91dEhhbmRsZSA9IHNldFRpbWVvdXQoaW50ZXJuYWxDYWxsYmFjaywgdGhpcy5kZWxheSk7XHJcbiAgICB9O1xyXG4gICAgVGltZW91dC5wcm90b3R5cGUuY2xlYXJJbnRlcm5hbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0SGFuZGxlKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gVGltZW91dDtcclxufSgpKTtcclxuZXhwb3J0cy5UaW1lb3V0ID0gVGltZW91dDtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci90aW1lb3V0LnRzXG4vLyBtb2R1bGUgaWQgPSA5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBTdHJpbmdVdGlscztcclxuKGZ1bmN0aW9uIChTdHJpbmdVdGlscykge1xyXG4gICAgU3RyaW5nVXRpbHMuRk9STUFUX0hITU1TUyA9ICdoaDptbTpzcyc7XHJcbiAgICBTdHJpbmdVdGlscy5GT1JNQVRfTU1TUyA9ICdtbTpzcyc7XHJcbiAgICAvKipcclxuICAgICAqIEZvcm1hdHMgYSBudW1iZXIgb2Ygc2Vjb25kcyBpbnRvIGEgdGltZSBzdHJpbmcgd2l0aCB0aGUgcGF0dGVybiBoaDptbTpzcy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gdG90YWxTZWNvbmRzIHRoZSB0b3RhbCBudW1iZXIgb2Ygc2Vjb25kcyB0byBmb3JtYXQgdG8gc3RyaW5nXHJcbiAgICAgKiBAcGFyYW0gZm9ybWF0IHRoZSB0aW1lIGZvcm1hdCB0byBvdXRwdXQgKGRlZmF1bHQ6IGhoOm1tOnNzKVxyXG4gICAgICogQHJldHVybnMge3N0cmluZ30gdGhlIGZvcm1hdHRlZCB0aW1lIHN0cmluZ1xyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBzZWNvbmRzVG9UaW1lKHRvdGFsU2Vjb25kcywgZm9ybWF0KSB7XHJcbiAgICAgICAgaWYgKGZvcm1hdCA9PT0gdm9pZCAwKSB7IGZvcm1hdCA9IFN0cmluZ1V0aWxzLkZPUk1BVF9ISE1NU1M7IH1cclxuICAgICAgICB2YXIgaXNOZWdhdGl2ZSA9IHRvdGFsU2Vjb25kcyA8IDA7XHJcbiAgICAgICAgaWYgKGlzTmVnYXRpdmUpIHtcclxuICAgICAgICAgICAgLy8gSWYgdGhlIHRpbWUgaXMgbmVnYXRpdmUsIHdlIG1ha2UgaXQgcG9zaXRpdmUgZm9yIHRoZSBjYWxjdWxhdGlvbiBiZWxvd1xyXG4gICAgICAgICAgICAvLyAoZWxzZSB3ZSdkIGdldCBhbGwgbmVnYXRpdmUgbnVtYmVycykgYW5kIHJlYXR0YWNoIHRoZSBuZWdhdGl2ZSBzaWduIGxhdGVyLlxyXG4gICAgICAgICAgICB0b3RhbFNlY29uZHMgPSAtdG90YWxTZWNvbmRzO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBTcGxpdCBpbnRvIHNlcGFyYXRlIHRpbWUgcGFydHNcclxuICAgICAgICB2YXIgaG91cnMgPSBNYXRoLmZsb29yKHRvdGFsU2Vjb25kcyAvIDM2MDApO1xyXG4gICAgICAgIHZhciBtaW51dGVzID0gTWF0aC5mbG9vcih0b3RhbFNlY29uZHMgLyA2MCkgLSBob3VycyAqIDYwO1xyXG4gICAgICAgIHZhciBzZWNvbmRzID0gTWF0aC5mbG9vcih0b3RhbFNlY29uZHMpICUgNjA7XHJcbiAgICAgICAgcmV0dXJuIChpc05lZ2F0aXZlID8gJy0nIDogJycpICsgZm9ybWF0XHJcbiAgICAgICAgICAgIC5yZXBsYWNlKCdoaCcsIGxlZnRQYWRXaXRoWmVyb3MoaG91cnMsIDIpKVxyXG4gICAgICAgICAgICAucmVwbGFjZSgnbW0nLCBsZWZ0UGFkV2l0aFplcm9zKG1pbnV0ZXMsIDIpKVxyXG4gICAgICAgICAgICAucmVwbGFjZSgnc3MnLCBsZWZ0UGFkV2l0aFplcm9zKHNlY29uZHMsIDIpKTtcclxuICAgIH1cclxuICAgIFN0cmluZ1V0aWxzLnNlY29uZHNUb1RpbWUgPSBzZWNvbmRzVG9UaW1lO1xyXG4gICAgLyoqXHJcbiAgICAgKiBDb252ZXJ0cyBhIG51bWJlciB0byBhIHN0cmluZyBhbmQgbGVmdC1wYWRzIGl0IHdpdGggemVyb3MgdG8gdGhlIHNwZWNpZmllZCBsZW5ndGguXHJcbiAgICAgKiBFeGFtcGxlOiBsZWZ0UGFkV2l0aFplcm9zKDEyMywgNSkgPT4gJzAwMTIzJ1xyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBudW0gdGhlIG51bWJlciB0byBjb252ZXJ0IHRvIHN0cmluZyBhbmQgcGFkIHdpdGggemVyb3NcclxuICAgICAqIEBwYXJhbSBsZW5ndGggdGhlIGRlc2lyZWQgbGVuZ3RoIG9mIHRoZSBwYWRkZWQgc3RyaW5nXHJcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSB0aGUgcGFkZGVkIG51bWJlciBhcyBzdHJpbmdcclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gbGVmdFBhZFdpdGhaZXJvcyhudW0sIGxlbmd0aCkge1xyXG4gICAgICAgIHZhciB0ZXh0ID0gbnVtICsgJyc7XHJcbiAgICAgICAgdmFyIHBhZGRpbmcgPSAnMDAwMDAwMDAwMCcuc3Vic3RyKDAsIGxlbmd0aCAtIHRleHQubGVuZ3RoKTtcclxuICAgICAgICByZXR1cm4gcGFkZGluZyArIHRleHQ7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEZpbGxzIG91dCBwbGFjZWhvbGRlcnMgaW4gYW4gYWQgbWVzc2FnZS5cclxuICAgICAqXHJcbiAgICAgKiBIYXMgdGhlIHBsYWNlaG9sZGVycyAne3JlbWFpbmluZ1RpbWVbZm9ybWF0U3RyaW5nXX0nLCAne3BsYXllZFRpbWVbZm9ybWF0U3RyaW5nXX0nIGFuZFxyXG4gICAgICogJ3thZER1cmF0aW9uW2Zvcm1hdFN0cmluZ119Jywgd2hpY2ggYXJlIHJlcGxhY2VkIGJ5IHRoZSByZW1haW5pbmcgdGltZSB1bnRpbCB0aGUgYWQgY2FuIGJlIHNraXBwZWQsIHRoZSBjdXJyZW50XHJcbiAgICAgKiB0aW1lIG9yIHRoZSBhZCBkdXJhdGlvbi4gVGhlIGZvcm1hdCBzdHJpbmcgaXMgb3B0aW9uYWwuIElmIG5vdCBzcGVjaWZpZWQsIHRoZSBwbGFjZWhvbGRlciBpcyByZXBsYWNlZCBieSB0aGUgdGltZVxyXG4gICAgICogaW4gc2Vjb25kcy4gSWYgc3BlY2lmaWVkLCBpdCBtdXN0IGJlIG9mIHRoZSBmb2xsb3dpbmcgZm9ybWF0OlxyXG4gICAgICogLSAlZCAtIEluc2VydHMgdGhlIHRpbWUgYXMgYW4gaW50ZWdlci5cclxuICAgICAqIC0gJTBOZCAtIEluc2VydHMgdGhlIHRpbWUgYXMgYW4gaW50ZWdlciB3aXRoIGxlYWRpbmcgemVyb2VzLCBpZiB0aGUgbGVuZ3RoIG9mIHRoZSB0aW1lIHN0cmluZyBpcyBzbWFsbGVyIHRoYW4gTi5cclxuICAgICAqIC0gJWYgLSBJbnNlcnRzIHRoZSB0aW1lIGFzIGEgZmxvYXQuXHJcbiAgICAgKiAtICUwTmYgLSBJbnNlcnRzIHRoZSB0aW1lIGFzIGEgZmxvYXQgd2l0aCBsZWFkaW5nIHplcm9lcy5cclxuICAgICAqIC0gJS5NZiAtIEluc2VydHMgdGhlIHRpbWUgYXMgYSBmbG9hdCB3aXRoIE0gZGVjaW1hbCBwbGFjZXMuIENhbiBiZSBjb21iaW5lZCB3aXRoICUwTmYsIGUuZy4gJTA0LjJmICh0aGUgdGltZVxyXG4gICAgICogMTAuMTIzXHJcbiAgICAgKiB3b3VsZCBiZSBwcmludGVkIGFzIDAwMTAuMTIpLlxyXG4gICAgICogLSAlaGg6bW06c3NcclxuICAgICAqIC0gJW1tOnNzXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGFkTWVzc2FnZSBhbiBhZCBtZXNzYWdlIHdpdGggb3B0aW9uYWwgcGxhY2Vob2xkZXJzIHRvIGZpbGxcclxuICAgICAqIEBwYXJhbSBza2lwT2Zmc2V0IGlmIHNwZWNpZmllZCwge3JlbWFpbmluZ1RpbWV9IHdpbGwgYmUgZmlsbGVkIHdpdGggdGhlIHJlbWFpbmluZyB0aW1lIHVudGlsIHRoZSBhZCBjYW4gYmUgc2tpcHBlZFxyXG4gICAgICogQHBhcmFtIHBsYXllciB0aGUgcGxheWVyIHRvIGdldCB0aGUgdGltZSBkYXRhIGZyb21cclxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IHRoZSBhZCBtZXNzYWdlIHdpdGggZmlsbGVkIHBsYWNlaG9sZGVyc1xyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiByZXBsYWNlQWRNZXNzYWdlUGxhY2Vob2xkZXJzKGFkTWVzc2FnZSwgc2tpcE9mZnNldCwgcGxheWVyKSB7XHJcbiAgICAgICAgdmFyIGFkTWVzc2FnZVBsYWNlaG9sZGVyUmVnZXggPSBuZXcgUmVnRXhwKCdcXFxceyhyZW1haW5pbmdUaW1lfHBsYXllZFRpbWV8YWREdXJhdGlvbikofXwlKCgwWzEtOV1cXFxcZCooXFxcXC5cXFxcZCsoZHxmKXxkfGYpfFxcXFwuXFxcXGQrZnxkfGYpfGhoOm1tOnNzfG1tOnNzKX0pJywgJ2cnKTtcclxuICAgICAgICByZXR1cm4gYWRNZXNzYWdlLnJlcGxhY2UoYWRNZXNzYWdlUGxhY2Vob2xkZXJSZWdleCwgZnVuY3Rpb24gKGZvcm1hdFN0cmluZykge1xyXG4gICAgICAgICAgICB2YXIgdGltZSA9IDA7XHJcbiAgICAgICAgICAgIGlmIChmb3JtYXRTdHJpbmcuaW5kZXhPZigncmVtYWluaW5nVGltZScpID4gLTEpIHtcclxuICAgICAgICAgICAgICAgIGlmIChza2lwT2Zmc2V0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGltZSA9IE1hdGguY2VpbChza2lwT2Zmc2V0IC0gcGxheWVyLmdldEN1cnJlbnRUaW1lKCkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGltZSA9IHBsYXllci5nZXREdXJhdGlvbigpIC0gcGxheWVyLmdldEN1cnJlbnRUaW1lKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoZm9ybWF0U3RyaW5nLmluZGV4T2YoJ3BsYXllZFRpbWUnKSA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICB0aW1lID0gcGxheWVyLmdldEN1cnJlbnRUaW1lKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoZm9ybWF0U3RyaW5nLmluZGV4T2YoJ2FkRHVyYXRpb24nKSA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICB0aW1lID0gcGxheWVyLmdldER1cmF0aW9uKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGZvcm1hdE51bWJlcih0aW1lLCBmb3JtYXRTdHJpbmcpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgU3RyaW5nVXRpbHMucmVwbGFjZUFkTWVzc2FnZVBsYWNlaG9sZGVycyA9IHJlcGxhY2VBZE1lc3NhZ2VQbGFjZWhvbGRlcnM7XHJcbiAgICBmdW5jdGlvbiBmb3JtYXROdW1iZXIodGltZSwgZm9ybWF0KSB7XHJcbiAgICAgICAgdmFyIGZvcm1hdFN0cmluZ1ZhbGlkYXRpb25SZWdleCA9IC8lKCgwWzEtOV1cXGQqKFxcLlxcZCsoZHxmKXxkfGYpfFxcLlxcZCtmfGR8Zil8aGg6bW06c3N8bW06c3MpLztcclxuICAgICAgICB2YXIgbGVhZGluZ1plcm9lc1JlZ2V4ID0gLyglMFsxLTldXFxkKikoPz0oXFwuXFxkK2Z8ZnxkKSkvO1xyXG4gICAgICAgIHZhciBkZWNpbWFsUGxhY2VzUmVnZXggPSAvXFwuXFxkKig/PWYpLztcclxuICAgICAgICBpZiAoIWZvcm1hdFN0cmluZ1ZhbGlkYXRpb25SZWdleC50ZXN0KGZvcm1hdCkpIHtcclxuICAgICAgICAgICAgLy8gSWYgdGhlIGZvcm1hdCBpcyBpbnZhbGlkLCB3ZSBzZXQgYSBkZWZhdWx0IGZhbGxiYWNrIGZvcm1hdFxyXG4gICAgICAgICAgICBmb3JtYXQgPSAnJWQnO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBEZXRlcm1pbmUgdGhlIG51bWJlciBvZiBsZWFkaW5nIHplcm9zXHJcbiAgICAgICAgdmFyIGxlYWRpbmdaZXJvZXMgPSAwO1xyXG4gICAgICAgIHZhciBsZWFkaW5nWmVyb2VzTWF0Y2hlcyA9IGZvcm1hdC5tYXRjaChsZWFkaW5nWmVyb2VzUmVnZXgpO1xyXG4gICAgICAgIGlmIChsZWFkaW5nWmVyb2VzTWF0Y2hlcykge1xyXG4gICAgICAgICAgICBsZWFkaW5nWmVyb2VzID0gcGFyc2VJbnQobGVhZGluZ1plcm9lc01hdGNoZXNbMF0uc3Vic3RyaW5nKDIpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gRGV0ZXJtaW5lIHRoZSBudW1iZXIgb2YgZGVjaW1hbCBwbGFjZXNcclxuICAgICAgICB2YXIgbnVtRGVjaW1hbFBsYWNlcyA9IG51bGw7XHJcbiAgICAgICAgdmFyIGRlY2ltYWxQbGFjZXNNYXRjaGVzID0gZm9ybWF0Lm1hdGNoKGRlY2ltYWxQbGFjZXNSZWdleCk7XHJcbiAgICAgICAgaWYgKGRlY2ltYWxQbGFjZXNNYXRjaGVzICYmICFpc05hTihwYXJzZUludChkZWNpbWFsUGxhY2VzTWF0Y2hlc1swXS5zdWJzdHJpbmcoMSkpKSkge1xyXG4gICAgICAgICAgICBudW1EZWNpbWFsUGxhY2VzID0gcGFyc2VJbnQoZGVjaW1hbFBsYWNlc01hdGNoZXNbMF0uc3Vic3RyaW5nKDEpKTtcclxuICAgICAgICAgICAgaWYgKG51bURlY2ltYWxQbGFjZXMgPiAyMCkge1xyXG4gICAgICAgICAgICAgICAgbnVtRGVjaW1hbFBsYWNlcyA9IDIwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIEZsb2F0IGZvcm1hdFxyXG4gICAgICAgIGlmIChmb3JtYXQuaW5kZXhPZignZicpID4gLTEpIHtcclxuICAgICAgICAgICAgdmFyIHRpbWVTdHJpbmcgPSAnJztcclxuICAgICAgICAgICAgaWYgKG51bURlY2ltYWxQbGFjZXMgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIC8vIEFwcGx5IGZpeGVkIG51bWJlciBvZiBkZWNpbWFsIHBsYWNlc1xyXG4gICAgICAgICAgICAgICAgdGltZVN0cmluZyA9IHRpbWUudG9GaXhlZChudW1EZWNpbWFsUGxhY2VzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRpbWVTdHJpbmcgPSAnJyArIHRpbWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gQXBwbHkgbGVhZGluZyB6ZXJvc1xyXG4gICAgICAgICAgICBpZiAodGltZVN0cmluZy5pbmRleE9mKCcuJykgPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGxlZnRQYWRXaXRoWmVyb3ModGltZVN0cmluZywgdGltZVN0cmluZy5sZW5ndGggKyAobGVhZGluZ1plcm9lcyAtIHRpbWVTdHJpbmcuaW5kZXhPZignLicpKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbGVmdFBhZFdpdGhaZXJvcyh0aW1lU3RyaW5nLCBsZWFkaW5nWmVyb2VzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBUaW1lIGZvcm1hdFxyXG4gICAgICAgIGVsc2UgaWYgKGZvcm1hdC5pbmRleE9mKCc6JykgPiAtMSkge1xyXG4gICAgICAgICAgICB2YXIgdG90YWxTZWNvbmRzID0gTWF0aC5jZWlsKHRpbWUpO1xyXG4gICAgICAgICAgICAvLyBoaDptbTpzcyBmb3JtYXRcclxuICAgICAgICAgICAgaWYgKGZvcm1hdC5pbmRleE9mKCdoaCcpID4gLTEpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzZWNvbmRzVG9UaW1lKHRvdGFsU2Vjb25kcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gbW06c3MgZm9ybWF0XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdmFyIG1pbnV0ZXMgPSBNYXRoLmZsb29yKHRvdGFsU2Vjb25kcyAvIDYwKTtcclxuICAgICAgICAgICAgICAgIHZhciBzZWNvbmRzID0gdG90YWxTZWNvbmRzICUgNjA7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbGVmdFBhZFdpdGhaZXJvcyhtaW51dGVzLCAyKSArICc6JyArIGxlZnRQYWRXaXRoWmVyb3Moc2Vjb25kcywgMik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gSW50ZWdlciBmb3JtYXRcclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIGxlZnRQYWRXaXRoWmVyb3MoTWF0aC5jZWlsKHRpbWUpLCBsZWFkaW5nWmVyb2VzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0pKFN0cmluZ1V0aWxzID0gZXhwb3J0cy5TdHJpbmdVdGlscyB8fCAoZXhwb3J0cy5TdHJpbmdVdGlscyA9IHt9KSk7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvc3RyaW5ndXRpbHMudHNcbi8vIG1vZHVsZSBpZCA9IDEwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBBcnJheVV0aWxzO1xyXG4oZnVuY3Rpb24gKEFycmF5VXRpbHMpIHtcclxuICAgIC8qKlxyXG4gICAgICogUmVtb3ZlcyBhbiBpdGVtIGZyb20gYW4gYXJyYXkuXHJcbiAgICAgKiBAcGFyYW0gYXJyYXkgdGhlIGFycmF5IHRoYXQgbWF5IGNvbnRhaW4gdGhlIGl0ZW0gdG8gcmVtb3ZlXHJcbiAgICAgKiBAcGFyYW0gaXRlbSB0aGUgaXRlbSB0byByZW1vdmUgZnJvbSB0aGUgYXJyYXlcclxuICAgICAqIEByZXR1cm5zIHthbnl9IHRoZSByZW1vdmVkIGl0ZW0gb3IgbnVsbCBpZiBpdCB3YXNuJ3QgcGFydCBvZiB0aGUgYXJyYXlcclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gcmVtb3ZlKGFycmF5LCBpdGVtKSB7XHJcbiAgICAgICAgdmFyIGluZGV4ID0gYXJyYXkuaW5kZXhPZihpdGVtKTtcclxuICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xyXG4gICAgICAgICAgICByZXR1cm4gYXJyYXkuc3BsaWNlKGluZGV4LCAxKVswXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIEFycmF5VXRpbHMucmVtb3ZlID0gcmVtb3ZlO1xyXG59KShBcnJheVV0aWxzID0gZXhwb3J0cy5BcnJheVV0aWxzIHx8IChleHBvcnRzLkFycmF5VXRpbHMgPSB7fSkpO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL2FycmF5dXRpbHMudHNcbi8vIG1vZHVsZSBpZCA9IDExXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBldmVudGRpc3BhdGNoZXJfMSA9IHJlcXVpcmUoXCIuL2V2ZW50ZGlzcGF0Y2hlclwiKTtcclxudmFyIGJyb3dzZXJ1dGlsc18xID0gcmVxdWlyZShcIi4vYnJvd3NlcnV0aWxzXCIpO1xyXG52YXIgUGxheWVyVXRpbHM7XHJcbihmdW5jdGlvbiAoUGxheWVyVXRpbHMpIHtcclxuICAgIHZhciBQbGF5ZXJTdGF0ZTtcclxuICAgIChmdW5jdGlvbiAoUGxheWVyU3RhdGUpIHtcclxuICAgICAgICBQbGF5ZXJTdGF0ZVtQbGF5ZXJTdGF0ZVtcIklETEVcIl0gPSAwXSA9IFwiSURMRVwiO1xyXG4gICAgICAgIFBsYXllclN0YXRlW1BsYXllclN0YXRlW1wiUFJFUEFSRURcIl0gPSAxXSA9IFwiUFJFUEFSRURcIjtcclxuICAgICAgICBQbGF5ZXJTdGF0ZVtQbGF5ZXJTdGF0ZVtcIlBMQVlJTkdcIl0gPSAyXSA9IFwiUExBWUlOR1wiO1xyXG4gICAgICAgIFBsYXllclN0YXRlW1BsYXllclN0YXRlW1wiUEFVU0VEXCJdID0gM10gPSBcIlBBVVNFRFwiO1xyXG4gICAgICAgIFBsYXllclN0YXRlW1BsYXllclN0YXRlW1wiRklOSVNIRURcIl0gPSA0XSA9IFwiRklOSVNIRURcIjtcclxuICAgIH0pKFBsYXllclN0YXRlID0gUGxheWVyVXRpbHMuUGxheWVyU3RhdGUgfHwgKFBsYXllclV0aWxzLlBsYXllclN0YXRlID0ge30pKTtcclxuICAgIGZ1bmN0aW9uIGlzVGltZVNoaWZ0QXZhaWxhYmxlKHBsYXllcikge1xyXG4gICAgICAgIHJldHVybiBwbGF5ZXIuaXNMaXZlKCkgJiYgcGxheWVyLmdldE1heFRpbWVTaGlmdCgpICE9PSAwO1xyXG4gICAgfVxyXG4gICAgUGxheWVyVXRpbHMuaXNUaW1lU2hpZnRBdmFpbGFibGUgPSBpc1RpbWVTaGlmdEF2YWlsYWJsZTtcclxuICAgIGZ1bmN0aW9uIGdldFN0YXRlKHBsYXllcikge1xyXG4gICAgICAgIGlmIChwbGF5ZXIuaGFzRW5kZWQoKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gUGxheWVyU3RhdGUuRklOSVNIRUQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHBsYXllci5pc1BsYXlpbmcoKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gUGxheWVyU3RhdGUuUExBWUlORztcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAocGxheWVyLmlzUGF1c2VkKCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFBsYXllclN0YXRlLlBBVVNFRDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAocGxheWVyLmlzUmVhZHkoKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gUGxheWVyU3RhdGUuUFJFUEFSRUQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gUGxheWVyU3RhdGUuSURMRTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBQbGF5ZXJVdGlscy5nZXRTdGF0ZSA9IGdldFN0YXRlO1xyXG4gICAgdmFyIFRpbWVTaGlmdEF2YWlsYWJpbGl0eURldGVjdG9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIFRpbWVTaGlmdEF2YWlsYWJpbGl0eURldGVjdG9yKHBsYXllcikge1xyXG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgICAgICB0aGlzLnRpbWVTaGlmdEF2YWlsYWJpbGl0eUNoYW5nZWRFdmVudCA9IG5ldyBldmVudGRpc3BhdGNoZXJfMS5FdmVudERpc3BhdGNoZXIoKTtcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXIgPSBwbGF5ZXI7XHJcbiAgICAgICAgICAgIHRoaXMudGltZVNoaWZ0QXZhaWxhYmxlID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB2YXIgdGltZVNoaWZ0RGV0ZWN0b3IgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5kZXRlY3QoKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgLy8gVHJ5IHRvIGRldGVjdCB0aW1lc2hpZnQgYXZhaWxhYmlsaXR5IGluIE9OX1JFQURZLCB3aGljaCB3b3JrcyBmb3IgREFTSCBzdHJlYW1zXHJcbiAgICAgICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1JFQURZLCB0aW1lU2hpZnREZXRlY3Rvcik7XHJcbiAgICAgICAgICAgIC8vIFdpdGggSExTL05hdGl2ZVBsYXllciBzdHJlYW1zLCBnZXRNYXhUaW1lU2hpZnQgY2FuIGJlIDAgYmVmb3JlIHRoZSBidWZmZXIgZmlsbHMsIHNvIHdlIG5lZWQgdG8gYWRkaXRpb25hbGx5XHJcbiAgICAgICAgICAgIC8vIGNoZWNrIHRpbWVzaGlmdCBhdmFpbGFiaWxpdHkgaW4gT05fVElNRV9DSEFOR0VEXHJcbiAgICAgICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1RJTUVfQ0hBTkdFRCwgdGltZVNoaWZ0RGV0ZWN0b3IpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBUaW1lU2hpZnRBdmFpbGFiaWxpdHlEZXRlY3Rvci5wcm90b3R5cGUuZGV0ZWN0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5wbGF5ZXIuaXNMaXZlKCkpIHtcclxuICAgICAgICAgICAgICAgIHZhciB0aW1lU2hpZnRBdmFpbGFibGVOb3cgPSBQbGF5ZXJVdGlscy5pc1RpbWVTaGlmdEF2YWlsYWJsZSh0aGlzLnBsYXllcik7XHJcbiAgICAgICAgICAgICAgICAvLyBXaGVuIHRoZSBhdmFpbGFiaWxpdHkgY2hhbmdlcywgd2UgZmlyZSB0aGUgZXZlbnRcclxuICAgICAgICAgICAgICAgIGlmICh0aW1lU2hpZnRBdmFpbGFibGVOb3cgIT09IHRoaXMudGltZVNoaWZ0QXZhaWxhYmxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50aW1lU2hpZnRBdmFpbGFiaWxpdHlDaGFuZ2VkRXZlbnQuZGlzcGF0Y2godGhpcy5wbGF5ZXIsIHsgdGltZVNoaWZ0QXZhaWxhYmxlOiB0aW1lU2hpZnRBdmFpbGFibGVOb3cgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50aW1lU2hpZnRBdmFpbGFibGUgPSB0aW1lU2hpZnRBdmFpbGFibGVOb3c7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUaW1lU2hpZnRBdmFpbGFiaWxpdHlEZXRlY3Rvci5wcm90b3R5cGUsIFwib25UaW1lU2hpZnRBdmFpbGFiaWxpdHlDaGFuZ2VkXCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy50aW1lU2hpZnRBdmFpbGFiaWxpdHlDaGFuZ2VkRXZlbnQuZ2V0RXZlbnQoKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIFRpbWVTaGlmdEF2YWlsYWJpbGl0eURldGVjdG9yO1xyXG4gICAgfSgpKTtcclxuICAgIFBsYXllclV0aWxzLlRpbWVTaGlmdEF2YWlsYWJpbGl0eURldGVjdG9yID0gVGltZVNoaWZ0QXZhaWxhYmlsaXR5RGV0ZWN0b3I7XHJcbiAgICAvKipcclxuICAgICAqIERldGVjdHMgY2hhbmdlcyBvZiB0aGUgc3RyZWFtIHR5cGUsIGkuZS4gY2hhbmdlcyBvZiB0aGUgcmV0dXJuIHZhbHVlIG9mIHRoZSBwbGF5ZXIjaXNMaXZlIG1ldGhvZC5cclxuICAgICAqIE5vcm1hbGx5LCBhIHN0cmVhbSBjYW5ub3QgY2hhbmdlIGl0cyB0eXBlIGR1cmluZyBwbGF5YmFjaywgaXQncyBlaXRoZXIgVk9EIG9yIGxpdmUuIER1ZSB0byBidWdzIG9uIHNvbWVcclxuICAgICAqIHBsYXRmb3JtcyBvciBicm93c2VycywgaXQgY2FuIHN0aWxsIGNoYW5nZS4gSXQgaXMgdGhlcmVmb3JlIHVucmVsaWFibGUgdG8ganVzdCBjaGVjayAjaXNMaXZlIGFuZCB0aGlzIGRldGVjdG9yXHJcbiAgICAgKiBzaG91bGQgYmUgdXNlZCBhcyBhIHdvcmthcm91bmQgaW5zdGVhZC5cclxuICAgICAqXHJcbiAgICAgKiBLbm93biBjYXNlczpcclxuICAgICAqXHJcbiAgICAgKiAtIEhMUyBWT0Qgb24gQW5kcm9pZCA0LjNcclxuICAgICAqIFZpZGVvIGR1cmF0aW9uIGlzIGluaXRpYWxseSAnSW5maW5pdHknIGFuZCBvbmx5IGdldHMgYXZhaWxhYmxlIGFmdGVyIHBsYXliYWNrIHN0YXJ0cywgc28gc3RyZWFtcyBhcmUgd3JvbmdseVxyXG4gICAgICogcmVwb3J0ZWQgYXMgJ2xpdmUnIGJlZm9yZSBwbGF5YmFjayAodGhlIGxpdmUtY2hlY2sgaW4gdGhlIHBsYXllciBjaGVja3MgZm9yIGluZmluaXRlIGR1cmF0aW9uKS5cclxuICAgICAqL1xyXG4gICAgdmFyIExpdmVTdHJlYW1EZXRlY3RvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBmdW5jdGlvbiBMaXZlU3RyZWFtRGV0ZWN0b3IocGxheWVyKSB7XHJcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgICAgIHRoaXMubGl2ZUNoYW5nZWRFdmVudCA9IG5ldyBldmVudGRpc3BhdGNoZXJfMS5FdmVudERpc3BhdGNoZXIoKTtcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXIgPSBwbGF5ZXI7XHJcbiAgICAgICAgICAgIHRoaXMubGl2ZSA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgdmFyIGxpdmVEZXRlY3RvciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLmRldGVjdCgpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvLyBJbml0aWFsaXplIHdoZW4gcGxheWVyIGlzIHJlYWR5XHJcbiAgICAgICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1JFQURZLCBsaXZlRGV0ZWN0b3IpO1xyXG4gICAgICAgICAgICAvLyBSZS1ldmFsdWF0ZSB3aGVuIHBsYXliYWNrIHN0YXJ0c1xyXG4gICAgICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9QTEFZLCBsaXZlRGV0ZWN0b3IpO1xyXG4gICAgICAgICAgICAvLyBITFMgbGl2ZSBkZXRlY3Rpb24gd29ya2Fyb3VuZCBmb3IgQW5kcm9pZDpcclxuICAgICAgICAgICAgLy8gQWxzbyByZS1ldmFsdWF0ZSBkdXJpbmcgcGxheWJhY2ssIGJlY2F1c2UgdGhhdCBpcyB3aGVuIHRoZSBsaXZlIGZsYWcgbWlnaHQgY2hhbmdlLlxyXG4gICAgICAgICAgICAvLyAoRG9pbmcgaXQgb25seSBpbiBBbmRyb2lkIENocm9tZSBzYXZlcyB1bm5lY2Vzc2FyeSBvdmVyaGVhZCBvbiBvdGhlciBwbGF0dGZvcm1zKVxyXG4gICAgICAgICAgICBpZiAoYnJvd3NlcnV0aWxzXzEuQnJvd3NlclV0aWxzLmlzQW5kcm9pZCAmJiBicm93c2VydXRpbHNfMS5Ccm93c2VyVXRpbHMuaXNDaHJvbWUpIHtcclxuICAgICAgICAgICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1RJTUVfQ0hBTkdFRCwgbGl2ZURldGVjdG9yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBMaXZlU3RyZWFtRGV0ZWN0b3IucHJvdG90eXBlLmRldGVjdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGxpdmVOb3cgPSB0aGlzLnBsYXllci5pc0xpdmUoKTtcclxuICAgICAgICAgICAgLy8gQ29tcGFyZSBjdXJyZW50IHRvIHByZXZpb3VzIGxpdmUgc3RhdGUgZmxhZyBhbmQgZmlyZSBldmVudCB3aGVuIGl0IGNoYW5nZXMuIFNpbmNlIHdlIGluaXRpYWxpemUgdGhlIGZsYWdcclxuICAgICAgICAgICAgLy8gd2l0aCB1bmRlZmluZWQsIHRoZXJlIGlzIGFsd2F5cyBhdCBsZWFzdCBhbiBpbml0aWFsIGV2ZW50IGZpcmVkIHRoYXQgdGVsbHMgbGlzdGVuZXJzIHRoZSBsaXZlIHN0YXRlLlxyXG4gICAgICAgICAgICBpZiAobGl2ZU5vdyAhPT0gdGhpcy5saXZlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxpdmVDaGFuZ2VkRXZlbnQuZGlzcGF0Y2godGhpcy5wbGF5ZXIsIHsgbGl2ZTogbGl2ZU5vdyB9KTtcclxuICAgICAgICAgICAgICAgIHRoaXMubGl2ZSA9IGxpdmVOb3c7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShMaXZlU3RyZWFtRGV0ZWN0b3IucHJvdG90eXBlLCBcIm9uTGl2ZUNoYW5nZWRcIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmxpdmVDaGFuZ2VkRXZlbnQuZ2V0RXZlbnQoKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIExpdmVTdHJlYW1EZXRlY3RvcjtcclxuICAgIH0oKSk7XHJcbiAgICBQbGF5ZXJVdGlscy5MaXZlU3RyZWFtRGV0ZWN0b3IgPSBMaXZlU3RyZWFtRGV0ZWN0b3I7XHJcbn0pKFBsYXllclV0aWxzID0gZXhwb3J0cy5QbGF5ZXJVdGlscyB8fCAoZXhwb3J0cy5QbGF5ZXJVdGlscyA9IHt9KSk7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvcGxheWVydXRpbHMudHNcbi8vIG1vZHVsZSBpZCA9IDEyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBjb250YWluZXJfMSA9IHJlcXVpcmUoXCIuL2NvbnRhaW5lclwiKTtcclxudmFyIGRvbV8xID0gcmVxdWlyZShcIi4uL2RvbVwiKTtcclxudmFyIHRpbWVvdXRfMSA9IHJlcXVpcmUoXCIuLi90aW1lb3V0XCIpO1xyXG52YXIgcGxheWVydXRpbHNfMSA9IHJlcXVpcmUoXCIuLi9wbGF5ZXJ1dGlsc1wiKTtcclxuLyoqXHJcbiAqIFRoZSBiYXNlIGNvbnRhaW5lciB0aGF0IGNvbnRhaW5zIGFsbCBvZiB0aGUgVUkuIFRoZSBVSUNvbnRhaW5lciBpcyBwYXNzZWQgdG8gdGhlIHtAbGluayBVSU1hbmFnZXJ9IHRvIGJ1aWxkIGFuZFxyXG4gKiBzZXR1cCB0aGUgVUkuXHJcbiAqL1xyXG52YXIgVUlDb250YWluZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoVUlDb250YWluZXIsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBVSUNvbnRhaW5lcihjb25maWcpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBjb25maWcpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMuY29uZmlnID0gX3RoaXMubWVyZ2VDb25maWcoY29uZmlnLCB7XHJcbiAgICAgICAgICAgIGNzc0NsYXNzOiAndWktdWljb250YWluZXInLFxyXG4gICAgICAgICAgICBoaWRlRGVsYXk6IDUwMDAsXHJcbiAgICAgICAgfSwgX3RoaXMuY29uZmlnKTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBVSUNvbnRhaW5lci5wcm90b3R5cGUuY29uZmlndXJlID0gZnVuY3Rpb24gKHBsYXllciwgdWltYW5hZ2VyKSB7XHJcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5jb25maWd1cmUuY2FsbCh0aGlzLCBwbGF5ZXIsIHVpbWFuYWdlcik7XHJcbiAgICAgICAgdGhpcy5jb25maWd1cmVVSVNob3dIaWRlKHBsYXllciwgdWltYW5hZ2VyKTtcclxuICAgICAgICB0aGlzLmNvbmZpZ3VyZVBsYXllclN0YXRlcyhwbGF5ZXIsIHVpbWFuYWdlcik7XHJcbiAgICB9O1xyXG4gICAgVUlDb250YWluZXIucHJvdG90eXBlLmNvbmZpZ3VyZVVJU2hvd0hpZGUgPSBmdW5jdGlvbiAocGxheWVyLCB1aW1hbmFnZXIpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHZhciBjb250YWluZXIgPSB0aGlzLmdldERvbUVsZW1lbnQoKTtcclxuICAgICAgICB2YXIgY29uZmlnID0gdGhpcy5nZXRDb25maWcoKTtcclxuICAgICAgICBpZiAoY29uZmlnLmhpZGVEZWxheSA9PT0gLTEpIHtcclxuICAgICAgICAgICAgdWltYW5hZ2VyLm9uQ29uZmlndXJlZC5zdWJzY3JpYmUoZnVuY3Rpb24gKCkgeyByZXR1cm4gdWltYW5hZ2VyLm9uQ29udHJvbHNTaG93LmRpc3BhdGNoKF90aGlzKTsgfSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGlzVWlTaG93biA9IGZhbHNlO1xyXG4gICAgICAgIHZhciBpc1NlZWtpbmcgPSBmYWxzZTtcclxuICAgICAgICB2YXIgaXNGaXJzdFRvdWNoID0gdHJ1ZTtcclxuICAgICAgICB2YXIgc2hvd1VpID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoIWlzVWlTaG93bikge1xyXG4gICAgICAgICAgICAgICAgLy8gTGV0IHN1YnNjcmliZXJzIGtub3cgdGhhdCB0aGV5IHNob3VsZCByZXZlYWwgdGhlbXNlbHZlc1xyXG4gICAgICAgICAgICAgICAgdWltYW5hZ2VyLm9uQ29udHJvbHNTaG93LmRpc3BhdGNoKF90aGlzKTtcclxuICAgICAgICAgICAgICAgIGlzVWlTaG93biA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gRG9uJ3QgdHJpZ2dlciB0aW1lb3V0IHdoaWxlIHNlZWtpbmcgKGl0IHdpbGwgYmUgdHJpZ2dlcmVkIG9uY2UgdGhlIHNlZWsgaXMgZmluaXNoZWQpIG9yIGNhc3RpbmdcclxuICAgICAgICAgICAgaWYgKCFpc1NlZWtpbmcgJiYgIXBsYXllci5pc0Nhc3RpbmcoKSkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMudWlIaWRlVGltZW91dC5zdGFydCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICB2YXIgaGlkZVVpID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAvLyBIaWRlIHRoZSBVSSBvbmx5IGlmIGl0IGlzIHNob3duLCBhbmQgaWYgbm90IGNhc3RpbmdcclxuICAgICAgICAgICAgaWYgKGlzVWlTaG93biAmJiAhcGxheWVyLmlzQ2FzdGluZygpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBJc3N1ZSBhIHByZXZpZXcgZXZlbnQgdG8gY2hlY2sgaWYgd2UgYXJlIGdvb2QgdG8gaGlkZSB0aGUgY29udHJvbHNcclxuICAgICAgICAgICAgICAgIHZhciBwcmV2aWV3SGlkZUV2ZW50QXJncyA9IHt9O1xyXG4gICAgICAgICAgICAgICAgdWltYW5hZ2VyLm9uUHJldmlld0NvbnRyb2xzSGlkZS5kaXNwYXRjaChfdGhpcywgcHJldmlld0hpZGVFdmVudEFyZ3MpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFwcmV2aWV3SGlkZUV2ZW50QXJncy5jYW5jZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgcHJldmlldyB3YXNuJ3QgY2FuY2VsZWQsIGxldCBzdWJzY3JpYmVycyBrbm93IHRoYXQgdGhleSBzaG91bGQgbm93IGhpZGUgdGhlbXNlbHZlc1xyXG4gICAgICAgICAgICAgICAgICAgIHVpbWFuYWdlci5vbkNvbnRyb2xzSGlkZS5kaXNwYXRjaChfdGhpcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaXNVaVNob3duID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgaGlkZSBwcmV2aWV3IHdhcyBjYW5jZWxlZCwgY29udGludWUgdG8gc2hvdyBVSVxyXG4gICAgICAgICAgICAgICAgICAgIHNob3dVaSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICAvLyBUaW1lb3V0IHRvIGRlZmVyIFVJIGhpZGluZyBieSB0aGUgY29uZmlndXJlZCBkZWxheSB0aW1lXHJcbiAgICAgICAgdGhpcy51aUhpZGVUaW1lb3V0ID0gbmV3IHRpbWVvdXRfMS5UaW1lb3V0KGNvbmZpZy5oaWRlRGVsYXksIGhpZGVVaSk7XHJcbiAgICAgICAgLy8gT24gdG91Y2ggZGlzcGxheXMsIHRoZSBmaXJzdCB0b3VjaCByZXZlYWxzIHRoZSBVSVxyXG4gICAgICAgIGNvbnRhaW5lci5vbigndG91Y2hlbmQnLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICBpZiAoIWlzVWlTaG93bikge1xyXG4gICAgICAgICAgICAgICAgLy8gT25seSBpZiB0aGUgVUkgaXMgaGlkZGVuLCB3ZSBwcmV2ZW50IG90aGVyIGFjdGlvbnMgKGV4Y2VwdCBmb3IgdGhlIGZpcnN0IHRvdWNoKSBhbmQgcmV2ZWFsIHRoZSBVSSBpbnN0ZWFkLlxyXG4gICAgICAgICAgICAgICAgLy8gVGhlIGZpcnN0IHRvdWNoIGlzIG5vdCBwcmV2ZW50ZWQgdG8gbGV0IG90aGVyIGxpc3RlbmVycyByZWNlaXZlIHRoZSBldmVudCBhbmQgdHJpZ2dlciBhbiBpbml0aWFsIGFjdGlvbiwgZS5nLlxyXG4gICAgICAgICAgICAgICAgLy8gdGhlIGh1Z2UgcGxheWJhY2sgYnV0dG9uIGNhbiBkaXJlY3RseSBzdGFydCBwbGF5YmFjayBpbnN0ZWFkIG9mIHJlcXVpcmluZyBhIGRvdWJsZSB0YXAgd2hpY2ggMS4gcmV2ZWFsc1xyXG4gICAgICAgICAgICAgICAgLy8gdGhlIFVJIGFuZCAyLiBzdGFydHMgcGxheWJhY2suXHJcbiAgICAgICAgICAgICAgICBpZiAoaXNGaXJzdFRvdWNoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaXNGaXJzdFRvdWNoID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBzaG93VWkoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIFdoZW4gdGhlIG1vdXNlIGVudGVycywgd2Ugc2hvdyB0aGUgVUlcclxuICAgICAgICBjb250YWluZXIub24oJ21vdXNlZW50ZXInLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHNob3dVaSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIFdoZW4gdGhlIG1vdXNlIG1vdmVzIHdpdGhpbiwgd2Ugc2hvdyB0aGUgVUlcclxuICAgICAgICBjb250YWluZXIub24oJ21vdXNlbW92ZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgc2hvd1VpKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gV2hlbiB0aGUgbW91c2UgbGVhdmVzLCB3ZSBjYW4gcHJlcGFyZSB0byBoaWRlIHRoZSBVSSwgZXhjZXB0IGEgc2VlayBpcyBnb2luZyBvblxyXG4gICAgICAgIGNvbnRhaW5lci5vbignbW91c2VsZWF2ZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgLy8gV2hlbiBhIHNlZWsgaXMgZ29pbmcgb24sIHRoZSBzZWVrIHNjcnViIHBvaW50ZXIgbWF5IGV4aXQgdGhlIFVJIGFyZWEgd2hpbGUgc3RpbGwgc2Vla2luZywgYW5kIHdlIGRvIG5vdCBoaWRlXHJcbiAgICAgICAgICAgIC8vIHRoZSBVSSBpbiBzdWNoIGNhc2VzXHJcbiAgICAgICAgICAgIGlmICghaXNTZWVraW5nKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy51aUhpZGVUaW1lb3V0LnN0YXJ0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB1aW1hbmFnZXIub25TZWVrLnN1YnNjcmliZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIF90aGlzLnVpSGlkZVRpbWVvdXQuY2xlYXIoKTsgLy8gRG9uJ3QgaGlkZSBVSSB3aGlsZSBhIHNlZWsgaXMgaW4gcHJvZ3Jlc3NcclxuICAgICAgICAgICAgaXNTZWVraW5nID0gdHJ1ZTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB1aW1hbmFnZXIub25TZWVrZWQuc3Vic2NyaWJlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaXNTZWVraW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgIF90aGlzLnVpSGlkZVRpbWVvdXQuc3RhcnQoKTsgLy8gUmUtZW5hYmxlIFVJIGhpZGUgdGltZW91dCBhZnRlciBhIHNlZWtcclxuICAgICAgICB9KTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9DQVNUX1NUQVJURUQsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgc2hvd1VpKCk7IC8vIFNob3cgVUkgd2hlbiBhIENhc3Qgc2Vzc2lvbiBoYXMgc3RhcnRlZCAoVUkgd2lsbCB0aGVuIHN0YXkgcGVybWFuZW50bHkgb24gZHVyaW5nIHRoZSBzZXNzaW9uKVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIFVJQ29udGFpbmVyLnByb3RvdHlwZS5jb25maWd1cmVQbGF5ZXJTdGF0ZXMgPSBmdW5jdGlvbiAocGxheWVyLCB1aW1hbmFnZXIpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHZhciBjb250YWluZXIgPSB0aGlzLmdldERvbUVsZW1lbnQoKTtcclxuICAgICAgICAvLyBDb252ZXJ0IHBsYXllciBzdGF0ZXMgaW50byBDU1MgY2xhc3MgbmFtZXNcclxuICAgICAgICB2YXIgc3RhdGVDbGFzc05hbWVzID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgc3RhdGUgaW4gcGxheWVydXRpbHNfMS5QbGF5ZXJVdGlscy5QbGF5ZXJTdGF0ZSkge1xyXG4gICAgICAgICAgICBpZiAoaXNOYU4oTnVtYmVyKHN0YXRlKSkpIHtcclxuICAgICAgICAgICAgICAgIHZhciBlbnVtTmFtZSA9IHBsYXllcnV0aWxzXzEuUGxheWVyVXRpbHMuUGxheWVyU3RhdGVbcGxheWVydXRpbHNfMS5QbGF5ZXJVdGlscy5QbGF5ZXJTdGF0ZVtzdGF0ZV1dO1xyXG4gICAgICAgICAgICAgICAgc3RhdGVDbGFzc05hbWVzW3BsYXllcnV0aWxzXzEuUGxheWVyVXRpbHMuUGxheWVyU3RhdGVbc3RhdGVdXSA9XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmVmaXhDc3MoVUlDb250YWluZXIuU1RBVEVfUFJFRklYICsgZW51bU5hbWUudG9Mb3dlckNhc2UoKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHJlbW92ZVN0YXRlcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgY29udGFpbmVyLnJlbW92ZUNsYXNzKHN0YXRlQ2xhc3NOYW1lc1twbGF5ZXJ1dGlsc18xLlBsYXllclV0aWxzLlBsYXllclN0YXRlLklETEVdKTtcclxuICAgICAgICAgICAgY29udGFpbmVyLnJlbW92ZUNsYXNzKHN0YXRlQ2xhc3NOYW1lc1twbGF5ZXJ1dGlsc18xLlBsYXllclV0aWxzLlBsYXllclN0YXRlLlBSRVBBUkVEXSk7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5yZW1vdmVDbGFzcyhzdGF0ZUNsYXNzTmFtZXNbcGxheWVydXRpbHNfMS5QbGF5ZXJVdGlscy5QbGF5ZXJTdGF0ZS5QTEFZSU5HXSk7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5yZW1vdmVDbGFzcyhzdGF0ZUNsYXNzTmFtZXNbcGxheWVydXRpbHNfMS5QbGF5ZXJVdGlscy5QbGF5ZXJTdGF0ZS5QQVVTRURdKTtcclxuICAgICAgICAgICAgY29udGFpbmVyLnJlbW92ZUNsYXNzKHN0YXRlQ2xhc3NOYW1lc1twbGF5ZXJ1dGlsc18xLlBsYXllclV0aWxzLlBsYXllclN0YXRlLkZJTklTSEVEXSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9SRUFEWSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZW1vdmVTdGF0ZXMoKTtcclxuICAgICAgICAgICAgY29udGFpbmVyLmFkZENsYXNzKHN0YXRlQ2xhc3NOYW1lc1twbGF5ZXJ1dGlsc18xLlBsYXllclV0aWxzLlBsYXllclN0YXRlLlBSRVBBUkVEXSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fUExBWSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZW1vdmVTdGF0ZXMoKTtcclxuICAgICAgICAgICAgY29udGFpbmVyLmFkZENsYXNzKHN0YXRlQ2xhc3NOYW1lc1twbGF5ZXJ1dGlsc18xLlBsYXllclV0aWxzLlBsYXllclN0YXRlLlBMQVlJTkddKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9QQVVTRUQsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmVtb3ZlU3RhdGVzKCk7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5hZGRDbGFzcyhzdGF0ZUNsYXNzTmFtZXNbcGxheWVydXRpbHNfMS5QbGF5ZXJVdGlscy5QbGF5ZXJTdGF0ZS5QQVVTRURdKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9QTEFZQkFDS19GSU5JU0hFRCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZW1vdmVTdGF0ZXMoKTtcclxuICAgICAgICAgICAgY29udGFpbmVyLmFkZENsYXNzKHN0YXRlQ2xhc3NOYW1lc1twbGF5ZXJ1dGlsc18xLlBsYXllclV0aWxzLlBsYXllclN0YXRlLkZJTklTSEVEXSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fU09VUkNFX1VOTE9BREVELCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJlbW92ZVN0YXRlcygpO1xyXG4gICAgICAgICAgICBjb250YWluZXIuYWRkQ2xhc3Moc3RhdGVDbGFzc05hbWVzW3BsYXllcnV0aWxzXzEuUGxheWVyVXRpbHMuUGxheWVyU3RhdGUuSURMRV0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIEluaXQgaW4gY3VycmVudCBwbGF5ZXIgc3RhdGVcclxuICAgICAgICBjb250YWluZXIuYWRkQ2xhc3Moc3RhdGVDbGFzc05hbWVzW3BsYXllcnV0aWxzXzEuUGxheWVyVXRpbHMuZ2V0U3RhdGUocGxheWVyKV0pO1xyXG4gICAgICAgIC8vIEZ1bGxzY3JlZW4gbWFya2VyIGNsYXNzXHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fRlVMTFNDUkVFTl9FTlRFUiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBjb250YWluZXIuYWRkQ2xhc3MoX3RoaXMucHJlZml4Q3NzKFVJQ29udGFpbmVyLkZVTExTQ1JFRU4pKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9GVUxMU0NSRUVOX0VYSVQsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgY29udGFpbmVyLnJlbW92ZUNsYXNzKF90aGlzLnByZWZpeENzcyhVSUNvbnRhaW5lci5GVUxMU0NSRUVOKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gSW5pdCBmdWxsc2NyZWVuIHN0YXRlXHJcbiAgICAgICAgaWYgKHBsYXllci5pc0Z1bGxzY3JlZW4oKSkge1xyXG4gICAgICAgICAgICBjb250YWluZXIuYWRkQ2xhc3ModGhpcy5wcmVmaXhDc3MoVUlDb250YWluZXIuRlVMTFNDUkVFTikpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBCdWZmZXJpbmcgbWFya2VyIGNsYXNzXHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fU1RBTExfU1RBUlRFRCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBjb250YWluZXIuYWRkQ2xhc3MoX3RoaXMucHJlZml4Q3NzKFVJQ29udGFpbmVyLkJVRkZFUklORykpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1NUQUxMX0VOREVELCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5yZW1vdmVDbGFzcyhfdGhpcy5wcmVmaXhDc3MoVUlDb250YWluZXIuQlVGRkVSSU5HKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gSW5pdCBidWZmZXJpbmcgc3RhdGVcclxuICAgICAgICBpZiAocGxheWVyLmlzU3RhbGxlZCgpKSB7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5hZGRDbGFzcyh0aGlzLnByZWZpeENzcyhVSUNvbnRhaW5lci5CVUZGRVJJTkcpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gUmVtb3RlQ29udHJvbCBtYXJrZXIgY2xhc3NcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9DQVNUX1NUQVJURUQsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgY29udGFpbmVyLmFkZENsYXNzKF90aGlzLnByZWZpeENzcyhVSUNvbnRhaW5lci5SRU1PVEVfQ09OVFJPTCkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX0NBU1RfU1RPUFBFRCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBjb250YWluZXIucmVtb3ZlQ2xhc3MoX3RoaXMucHJlZml4Q3NzKFVJQ29udGFpbmVyLlJFTU9URV9DT05UUk9MKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gSW5pdCBSZW1vdGVDb250cm9sIHN0YXRlXHJcbiAgICAgICAgaWYgKHBsYXllci5pc0Nhc3RpbmcoKSkge1xyXG4gICAgICAgICAgICBjb250YWluZXIuYWRkQ2xhc3ModGhpcy5wcmVmaXhDc3MoVUlDb250YWluZXIuUkVNT1RFX0NPTlRST0wpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gQ29udHJvbHMgdmlzaWJpbGl0eSBtYXJrZXIgY2xhc3NcclxuICAgICAgICB1aW1hbmFnZXIub25Db250cm9sc1Nob3cuc3Vic2NyaWJlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgY29udGFpbmVyLnJlbW92ZUNsYXNzKF90aGlzLnByZWZpeENzcyhVSUNvbnRhaW5lci5DT05UUk9MU19ISURERU4pKTtcclxuICAgICAgICAgICAgY29udGFpbmVyLmFkZENsYXNzKF90aGlzLnByZWZpeENzcyhVSUNvbnRhaW5lci5DT05UUk9MU19TSE9XTikpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHVpbWFuYWdlci5vbkNvbnRyb2xzSGlkZS5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBjb250YWluZXIucmVtb3ZlQ2xhc3MoX3RoaXMucHJlZml4Q3NzKFVJQ29udGFpbmVyLkNPTlRST0xTX1NIT1dOKSk7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5hZGRDbGFzcyhfdGhpcy5wcmVmaXhDc3MoVUlDb250YWluZXIuQ09OVFJPTFNfSElEREVOKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gTGF5b3V0IHNpemUgY2xhc3Nlc1xyXG4gICAgICAgIHZhciB1cGRhdGVMYXlvdXRTaXplQ2xhc3NlcyA9IGZ1bmN0aW9uICh3aWR0aCwgaGVpZ2h0KSB7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5yZW1vdmVDbGFzcyhfdGhpcy5wcmVmaXhDc3MoJ2xheW91dC1tYXgtd2lkdGgtNDAwJykpO1xyXG4gICAgICAgICAgICBjb250YWluZXIucmVtb3ZlQ2xhc3MoX3RoaXMucHJlZml4Q3NzKCdsYXlvdXQtbWF4LXdpZHRoLTYwMCcpKTtcclxuICAgICAgICAgICAgY29udGFpbmVyLnJlbW92ZUNsYXNzKF90aGlzLnByZWZpeENzcygnbGF5b3V0LW1heC13aWR0aC04MDAnKSk7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5yZW1vdmVDbGFzcyhfdGhpcy5wcmVmaXhDc3MoJ2xheW91dC1tYXgtd2lkdGgtMTIwMCcpKTtcclxuICAgICAgICAgICAgaWYgKHdpZHRoIDw9IDQwMCkge1xyXG4gICAgICAgICAgICAgICAgY29udGFpbmVyLmFkZENsYXNzKF90aGlzLnByZWZpeENzcygnbGF5b3V0LW1heC13aWR0aC00MDAnKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAod2lkdGggPD0gNjAwKSB7XHJcbiAgICAgICAgICAgICAgICBjb250YWluZXIuYWRkQ2xhc3MoX3RoaXMucHJlZml4Q3NzKCdsYXlvdXQtbWF4LXdpZHRoLTYwMCcpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICh3aWR0aCA8PSA4MDApIHtcclxuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5hZGRDbGFzcyhfdGhpcy5wcmVmaXhDc3MoJ2xheW91dC1tYXgtd2lkdGgtODAwJykpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHdpZHRoIDw9IDEyMDApIHtcclxuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5hZGRDbGFzcyhfdGhpcy5wcmVmaXhDc3MoJ2xheW91dC1tYXgtd2lkdGgtMTIwMCcpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fUExBWUVSX1JFU0laRSwgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgLy8gQ29udmVydCBzdHJpbmdzICh3aXRoIFwicHhcIiBzdWZmaXgpIHRvIGludHNcclxuICAgICAgICAgICAgdmFyIHdpZHRoID0gTWF0aC5yb3VuZChOdW1iZXIoZS53aWR0aC5zdWJzdHJpbmcoMCwgZS53aWR0aC5sZW5ndGggLSAyKSkpO1xyXG4gICAgICAgICAgICB2YXIgaGVpZ2h0ID0gTWF0aC5yb3VuZChOdW1iZXIoZS5oZWlnaHQuc3Vic3RyaW5nKDAsIGUuaGVpZ2h0Lmxlbmd0aCAtIDIpKSk7XHJcbiAgICAgICAgICAgIHVwZGF0ZUxheW91dFNpemVDbGFzc2VzKHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIEluaXQgbGF5b3V0IHN0YXRlXHJcbiAgICAgICAgdXBkYXRlTGF5b3V0U2l6ZUNsYXNzZXMobmV3IGRvbV8xLkRPTShwbGF5ZXIuZ2V0RmlndXJlKCkpLndpZHRoKCksIG5ldyBkb21fMS5ET00ocGxheWVyLmdldEZpZ3VyZSgpKS5oZWlnaHQoKSk7XHJcbiAgICB9O1xyXG4gICAgVUlDb250YWluZXIucHJvdG90eXBlLnJlbGVhc2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5yZWxlYXNlLmNhbGwodGhpcyk7XHJcbiAgICAgICAgdGhpcy51aUhpZGVUaW1lb3V0LmNsZWFyKCk7XHJcbiAgICB9O1xyXG4gICAgVUlDb250YWluZXIucHJvdG90eXBlLnRvRG9tRWxlbWVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgY29udGFpbmVyID0gX3N1cGVyLnByb3RvdHlwZS50b0RvbUVsZW1lbnQuY2FsbCh0aGlzKTtcclxuICAgICAgICAvLyBEZXRlY3QgZmxleGJveCBzdXBwb3J0IChub3Qgc3VwcG9ydGVkIGluIElFOSlcclxuICAgICAgICBpZiAoZG9jdW1lbnQgJiYgdHlwZW9mIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKS5zdHlsZS5mbGV4ICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICBjb250YWluZXIuYWRkQ2xhc3ModGhpcy5wcmVmaXhDc3MoJ2ZsZXhib3gnKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjb250YWluZXIuYWRkQ2xhc3ModGhpcy5wcmVmaXhDc3MoJ25vLWZsZXhib3gnKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjb250YWluZXI7XHJcbiAgICB9O1xyXG4gICAgVUlDb250YWluZXIuU1RBVEVfUFJFRklYID0gJ3BsYXllci1zdGF0ZS0nO1xyXG4gICAgVUlDb250YWluZXIuRlVMTFNDUkVFTiA9ICdmdWxsc2NyZWVuJztcclxuICAgIFVJQ29udGFpbmVyLkJVRkZFUklORyA9ICdidWZmZXJpbmcnO1xyXG4gICAgVUlDb250YWluZXIuUkVNT1RFX0NPTlRST0wgPSAncmVtb3RlLWNvbnRyb2wnO1xyXG4gICAgVUlDb250YWluZXIuQ09OVFJPTFNfU0hPV04gPSAnY29udHJvbHMtc2hvd24nO1xyXG4gICAgVUlDb250YWluZXIuQ09OVFJPTFNfSElEREVOID0gJ2NvbnRyb2xzLWhpZGRlbic7XHJcbiAgICByZXR1cm4gVUlDb250YWluZXI7XHJcbn0oY29udGFpbmVyXzEuQ29udGFpbmVyKSk7XHJcbmV4cG9ydHMuVUlDb250YWluZXIgPSBVSUNvbnRhaW5lcjtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3VpY29udGFpbmVyLnRzXG4vLyBtb2R1bGUgaWQgPSAxM1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgQnJvd3NlclV0aWxzO1xyXG4oZnVuY3Rpb24gKEJyb3dzZXJVdGlscykge1xyXG4gICAgLy8gaXNNb2JpbGUgb25seSBuZWVkcyB0byBiZSBldmFsdWF0ZWQgb25jZSAoaXQgY2Fubm90IGNoYW5nZSBkdXJpbmcgYSBicm93c2VyIHNlc3Npb24pXHJcbiAgICAvLyBNb2JpbGUgZGV0ZWN0aW9uIGFjY29yZGluZyB0byBNb3ppbGxhIHJlY29tbWVuZGF0aW9uOiBcIkluIHN1bW1hcnksIHdlIHJlY29tbWVuZCBsb29raW5nIGZvciB0aGUgc3RyaW5nIOKAnE1vYmnigJ1cclxuICAgIC8vIGFueXdoZXJlIGluIHRoZSBVc2VyIEFnZW50IHRvIGRldGVjdCBhIG1vYmlsZSBkZXZpY2UuXCJcclxuICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0hUVFAvQnJvd3Nlcl9kZXRlY3Rpb25fdXNpbmdfdGhlX3VzZXJfYWdlbnRcclxuICAgIEJyb3dzZXJVdGlscy5pc01vYmlsZSA9IG5hdmlnYXRvciAmJiBuYXZpZ2F0b3IudXNlckFnZW50ICYmIC9Nb2JpLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xyXG4gICAgQnJvd3NlclV0aWxzLmlzQ2hyb21lID0gbmF2aWdhdG9yICYmIG5hdmlnYXRvci51c2VyQWdlbnQgJiYgL0Nocm9tZS8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcclxuICAgIEJyb3dzZXJVdGlscy5pc0FuZHJvaWQgPSBuYXZpZ2F0b3IgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudCAmJiAvQW5kcm9pZC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcclxufSkoQnJvd3NlclV0aWxzID0gZXhwb3J0cy5Ccm93c2VyVXRpbHMgfHwgKGV4cG9ydHMuQnJvd3NlclV0aWxzID0ge30pKTtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9icm93c2VydXRpbHMudHNcbi8vIG1vZHVsZSBpZCA9IDE0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciB0b2dnbGVidXR0b25fMSA9IHJlcXVpcmUoXCIuL3RvZ2dsZWJ1dHRvblwiKTtcclxudmFyIHBsYXllcnV0aWxzXzEgPSByZXF1aXJlKFwiLi4vcGxheWVydXRpbHNcIik7XHJcbi8qKlxyXG4gKiBBIGJ1dHRvbiB0aGF0IHRvZ2dsZXMgYmV0d2VlbiBwbGF5YmFjayBhbmQgcGF1c2UuXHJcbiAqL1xyXG52YXIgUGxheWJhY2tUb2dnbGVCdXR0b24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoUGxheWJhY2tUb2dnbGVCdXR0b24sIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBQbGF5YmFja1RvZ2dsZUJ1dHRvbihjb25maWcpIHtcclxuICAgICAgICBpZiAoY29uZmlnID09PSB2b2lkIDApIHsgY29uZmlnID0ge307IH1cclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBjb25maWcpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMuY29uZmlnID0gX3RoaXMubWVyZ2VDb25maWcoY29uZmlnLCB7XHJcbiAgICAgICAgICAgIGNzc0NsYXNzOiAndWktcGxheWJhY2t0b2dnbGVidXR0b24nLFxyXG4gICAgICAgICAgICB0ZXh0OiAnUGxheS9QYXVzZScsXHJcbiAgICAgICAgfSwgX3RoaXMuY29uZmlnKTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBQbGF5YmFja1RvZ2dsZUJ1dHRvbi5wcm90b3R5cGUuY29uZmlndXJlID0gZnVuY3Rpb24gKHBsYXllciwgdWltYW5hZ2VyLCBoYW5kbGVDbGlja0V2ZW50KSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBpZiAoaGFuZGxlQ2xpY2tFdmVudCA9PT0gdm9pZCAwKSB7IGhhbmRsZUNsaWNrRXZlbnQgPSB0cnVlOyB9XHJcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5jb25maWd1cmUuY2FsbCh0aGlzLCBwbGF5ZXIsIHVpbWFuYWdlcik7XHJcbiAgICAgICAgdmFyIGlzU2Vla2luZyA9IGZhbHNlO1xyXG4gICAgICAgIC8vIEhhbmRsZXIgdG8gdXBkYXRlIGJ1dHRvbiBzdGF0ZSBiYXNlZCBvbiBwbGF5ZXIgc3RhdGVcclxuICAgICAgICB2YXIgcGxheWJhY2tTdGF0ZUhhbmRsZXIgPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgLy8gSWYgdGhlIFVJIGlzIGN1cnJlbnRseSBzZWVraW5nLCBwbGF5YmFjayBpcyB0ZW1wb3JhcmlseSBzdG9wcGVkIGJ1dCB0aGUgYnV0dG9ucyBzaG91bGRcclxuICAgICAgICAgICAgLy8gbm90IHJlZmxlY3QgdGhhdCBhbmQgc3RheSBhcy1pcyAoZS5nIGluZGljYXRlIHBsYXliYWNrIHdoaWxlIHNlZWtpbmcpLlxyXG4gICAgICAgICAgICBpZiAoaXNTZWVraW5nKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHBsYXllci5pc1BsYXlpbmcoKSkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMub24oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLm9mZigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICAvLyBDYWxsIGhhbmRsZXIgdXBvbiB0aGVzZSBldmVudHNcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9QTEFZLCBwbGF5YmFja1N0YXRlSGFuZGxlcik7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fUEFVU0VELCBwbGF5YmFja1N0YXRlSGFuZGxlcik7XHJcbiAgICAgICAgaWYgKHBsYXllci5FVkVOVC5PTl9QTEFZSU5HKSB7XHJcbiAgICAgICAgICAgIC8vIFNpbmNlIHBsYXllciA3LjMuIE5vdCByZWFsbHkgbmVjZXNzYXJ5IGJ1dCBqdXN0IGluIGNhc2Ugd2UgZXZlciBtaXNzIHRoZSBPTl9QTEFZIGV2ZW50LlxyXG4gICAgICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9QTEFZSU5HLCBwbGF5YmFja1N0YXRlSGFuZGxlcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGFmdGVyIHVubG9hZGluZyArIGxvYWRpbmcgYSBuZXcgc291cmNlLCB0aGUgcGxheWVyIG1pZ2h0IGJlIGluIGEgZGlmZmVyZW50IHBsYXlpbmcgc3RhdGUgKGZyb20gcGxheWluZyBpbnRvIHN0b3BwZWQpXHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fU09VUkNFX0xPQURFRCwgcGxheWJhY2tTdGF0ZUhhbmRsZXIpO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1NPVVJDRV9VTkxPQURFRCwgcGxheWJhY2tTdGF0ZUhhbmRsZXIpO1xyXG4gICAgICAgIC8vIHdoZW4gcGxheWJhY2sgZmluaXNoZXMsIHBsYXllciB0dXJucyB0byBwYXVzZWQgbW9kZVxyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1BMQVlCQUNLX0ZJTklTSEVELCBwbGF5YmFja1N0YXRlSGFuZGxlcik7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fQ0FTVF9TVEFSVEVELCBwbGF5YmFja1N0YXRlSGFuZGxlcik7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fQ0FTVF9QTEFZSU5HLCBwbGF5YmFja1N0YXRlSGFuZGxlcik7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fQ0FTVF9QQVVTRUQsIHBsYXliYWNrU3RhdGVIYW5kbGVyKTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9DQVNUX1BMQVlCQUNLX0ZJTklTSEVELCBwbGF5YmFja1N0YXRlSGFuZGxlcik7XHJcbiAgICAgICAgLy8gV2hlbiBhIHBsYXliYWNrIGF0dGVtcHQgaXMgcmVqZWN0ZWQgd2l0aCB3YXJuaW5nIDUwMDgsIHdlIHN3aXRjaCB0aGUgYnV0dG9uIHN0YXRlIGJhY2sgdG8gb2ZmXHJcbiAgICAgICAgLy8gVGhpcyBpcyByZXF1aXJlZCBmb3IgYmxvY2tlZCBhdXRvcGxheSwgYmVjYXVzZSB0aGVyZSBpcyBubyBPTl9QQVVTRUQgZXZlbnQgaW4gc3VjaCBjYXNlXHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fV0FSTklORywgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIGlmIChldmVudC5jb2RlID09PSA1MDA4KSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5vZmYoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIERldGVjdCBhYnNlbmNlIG9mIHRpbWVzaGlmdGluZyBvbiBsaXZlIHN0cmVhbXMgYW5kIGFkZCB0YWdnaW5nIGNsYXNzIHRvIGNvbnZlcnQgYnV0dG9uIGljb25zIHRvIHBsYXkvc3RvcFxyXG4gICAgICAgIHZhciB0aW1lU2hpZnREZXRlY3RvciA9IG5ldyBwbGF5ZXJ1dGlsc18xLlBsYXllclV0aWxzLlRpbWVTaGlmdEF2YWlsYWJpbGl0eURldGVjdG9yKHBsYXllcik7XHJcbiAgICAgICAgdGltZVNoaWZ0RGV0ZWN0b3Iub25UaW1lU2hpZnRBdmFpbGFiaWxpdHlDaGFuZ2VkLnN1YnNjcmliZShmdW5jdGlvbiAoc2VuZGVyLCBhcmdzKSB7XHJcbiAgICAgICAgICAgIGlmICghYXJncy50aW1lU2hpZnRBdmFpbGFibGUpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLmdldERvbUVsZW1lbnQoKS5hZGRDbGFzcyhfdGhpcy5wcmVmaXhDc3MoUGxheWJhY2tUb2dnbGVCdXR0b24uQ0xBU1NfU1RPUFRPR0dMRSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuZ2V0RG9tRWxlbWVudCgpLnJlbW92ZUNsYXNzKF90aGlzLnByZWZpeENzcyhQbGF5YmFja1RvZ2dsZUJ1dHRvbi5DTEFTU19TVE9QVE9HR0xFKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB0aW1lU2hpZnREZXRlY3Rvci5kZXRlY3QoKTsgLy8gSW5pdGlhbCBkZXRlY3Rpb25cclxuICAgICAgICBpZiAoaGFuZGxlQ2xpY2tFdmVudCkge1xyXG4gICAgICAgICAgICAvLyBDb250cm9sIHBsYXllciBieSBidXR0b24gZXZlbnRzXHJcbiAgICAgICAgICAgIC8vIFdoZW4gYSBidXR0b24gZXZlbnQgdHJpZ2dlcnMgYSBwbGF5ZXIgQVBJIGNhbGwsIGV2ZW50cyBhcmUgZmlyZWQgd2hpY2ggaW4gdHVybiBjYWxsIHRoZSBldmVudCBoYW5kbGVyXHJcbiAgICAgICAgICAgIC8vIGFib3ZlIHRoYXQgdXBkYXRlZCB0aGUgYnV0dG9uIHN0YXRlLlxyXG4gICAgICAgICAgICB0aGlzLm9uQ2xpY2suc3Vic2NyaWJlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmIChwbGF5ZXIuaXNQbGF5aW5nKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBwbGF5ZXIucGF1c2UoJ3VpJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBwbGF5ZXIucGxheSgndWknKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFRyYWNrIFVJIHNlZWtpbmcgc3RhdHVzXHJcbiAgICAgICAgdWltYW5hZ2VyLm9uU2Vlay5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpc1NlZWtpbmcgPSB0cnVlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHVpbWFuYWdlci5vblNlZWtlZC5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpc1NlZWtpbmcgPSBmYWxzZTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBTdGFydHVwIGluaXRcclxuICAgICAgICBwbGF5YmFja1N0YXRlSGFuZGxlcihudWxsKTtcclxuICAgIH07XHJcbiAgICBQbGF5YmFja1RvZ2dsZUJ1dHRvbi5DTEFTU19TVE9QVE9HR0xFID0gJ3N0b3B0b2dnbGUnO1xyXG4gICAgcmV0dXJuIFBsYXliYWNrVG9nZ2xlQnV0dG9uO1xyXG59KHRvZ2dsZWJ1dHRvbl8xLlRvZ2dsZUJ1dHRvbikpO1xyXG5leHBvcnRzLlBsYXliYWNrVG9nZ2xlQnV0dG9uID0gUGxheWJhY2tUb2dnbGVCdXR0b247XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9wbGF5YmFja3RvZ2dsZWJ1dHRvbi50c1xuLy8gbW9kdWxlIGlkID0gMTVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIHRvZ2dsZWJ1dHRvbl8xID0gcmVxdWlyZShcIi4vdG9nZ2xlYnV0dG9uXCIpO1xyXG4vKipcclxuICogQSBidXR0b24gdGhhdCB0b2dnbGVzIGF1ZGlvIG11dGluZy5cclxuICovXHJcbnZhciBWb2x1bWVUb2dnbGVCdXR0b24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoVm9sdW1lVG9nZ2xlQnV0dG9uLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gVm9sdW1lVG9nZ2xlQnV0dG9uKGNvbmZpZykge1xyXG4gICAgICAgIGlmIChjb25maWcgPT09IHZvaWQgMCkgeyBjb25maWcgPSB7fTsgfVxyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGNvbmZpZykgfHwgdGhpcztcclxuICAgICAgICB2YXIgZGVmYXVsdENvbmZpZyA9IHtcclxuICAgICAgICAgICAgY3NzQ2xhc3M6ICd1aS12b2x1bWV0b2dnbGVidXR0b24nLFxyXG4gICAgICAgICAgICB0ZXh0OiAnVm9sdW1lL011dGUnLFxyXG4gICAgICAgICAgICBvbkNsYXNzOiAnbXV0ZWQnLFxyXG4gICAgICAgICAgICBvZmZDbGFzczogJ3VubXV0ZWQnLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgX3RoaXMuY29uZmlnID0gX3RoaXMubWVyZ2VDb25maWcoY29uZmlnLCBkZWZhdWx0Q29uZmlnLCBfdGhpcy5jb25maWcpO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIFZvbHVtZVRvZ2dsZUJ1dHRvbi5wcm90b3R5cGUuY29uZmlndXJlID0gZnVuY3Rpb24gKHBsYXllciwgdWltYW5hZ2VyKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmNvbmZpZ3VyZS5jYWxsKHRoaXMsIHBsYXllciwgdWltYW5hZ2VyKTtcclxuICAgICAgICB2YXIgbXV0ZVN0YXRlSGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKHBsYXllci5pc011dGVkKCkpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLm9uKCk7XHJcbiAgICAgICAgICAgICAgICAvLyBXaGVuIHRoZSB2b2x1bWUgaXMgdW5tdXRlZCBhbmQgdGhlIHZvbHVtZSBsZXZlbCBpcyB2ZWVlZXJ5IGxvdywgd2UgaW5jcmVhc2UgaXQgdG8gMTAlLiBUaGlzIGVzcGVjaWFsbHkgaGVscHNcclxuICAgICAgICAgICAgICAgIC8vIGluIHRoZSBjYXNlIHdoZW4gdGhlIHZvbHVtZSBpcyBmaXJzdCB0dXJuZWQgZG93biB0byAwIGFuZCB0aGVuIHRoZSBwbGF5ZXIgaXMgbXV0ZWQ7IHdoZW4gdGhlIHBsYXllciBnZXRzXHJcbiAgICAgICAgICAgICAgICAvLyB1bm11dGVkIGl0IHdvdWxkIHN3aXRjaCB0byB2b2x1bWUgbGV2ZWwgMCB3aGljaCB3b3VsZCBzZWVtIGxpa2UgdW5tdXRpbmcgZGlkIG5vdCB3b3JrLCBhbmQgaW5jcmVhc2luZyB0aGVcclxuICAgICAgICAgICAgICAgIC8vIGxldmVsIGEgYml0IGhlbHBzIHRvIG92ZXJjb21lIHRoaXMgaXNzdWUuXHJcbiAgICAgICAgICAgICAgICBpZiAocGxheWVyLmdldFZvbHVtZSgpIDwgMTApIHtcclxuICAgICAgICAgICAgICAgICAgICBwbGF5ZXIuc2V0Vm9sdW1lKDEwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLm9mZigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICB2YXIgdm9sdW1lTGV2ZWxIYW5kbGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgdm9sdW1lTGV2ZWxUZW5zID0gTWF0aC5jZWlsKHBsYXllci5nZXRWb2x1bWUoKSAvIDEwKTtcclxuICAgICAgICAgICAgX3RoaXMuZ2V0RG9tRWxlbWVudCgpLmRhdGEoX3RoaXMucHJlZml4Q3NzKCd2b2x1bWUtbGV2ZWwtdGVucycpLCBTdHJpbmcodm9sdW1lTGV2ZWxUZW5zKSk7XHJcbiAgICAgICAgICAgIC8vIFdoZW4gdGhlIHZvbHVtZSBpcyB0dXJuZWQgZG93biB0byB6ZXJvLCBzd2l0Y2ggaW50byB0aGUgbXV0ZSBzdGF0ZSBvZiB0aGUgYnV0dG9uLiBUaGlzIGF2b2lkcyB0aGUgdXNhYmlsaXR5XHJcbiAgICAgICAgICAgIC8vIGlzc3VlIHdoZXJlIHRoZSB2b2x1bWUgaXMgdHVybmVkIGRvd24gdG8gemVybywgdGhlIGJ1dHRvbiBzaG93cyB0aGUgbXV0ZWQgaWNvbiBidXQgaXMgbm90IHJlYWxseSB1bm11dGVkLCBhbmRcclxuICAgICAgICAgICAgLy8gdGhlIG5leHQgYnV0dG9uIHByZXNzIHdvdWxkIHN3aXRjaCBpdCBpbnRvIHRoZSBtdXRlIHN0YXRlLCB2aXN1YWxseSBzdGF5aW5nIHRoZSBzYW1lIHdoaWNoIHdvdWxkIHNlZW0gbGlrZVxyXG4gICAgICAgICAgICAvLyBhbiBleHBlY3RlZCB1bm11dGUgZGlkIG5vdCB3b3JrLlxyXG4gICAgICAgICAgICBpZiAodm9sdW1lTGV2ZWxUZW5zID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5vZmYoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fTVVURUQsIG11dGVTdGF0ZUhhbmRsZXIpO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1VOTVVURUQsIG11dGVTdGF0ZUhhbmRsZXIpO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1ZPTFVNRV9DSEFOR0VELCB2b2x1bWVMZXZlbEhhbmRsZXIpO1xyXG4gICAgICAgIHRoaXMub25DbGljay5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAocGxheWVyLmlzTXV0ZWQoKSkge1xyXG4gICAgICAgICAgICAgICAgcGxheWVyLnVubXV0ZSgndWktdm9sdW1ldG9nZ2xlYnV0dG9uJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXIubXV0ZSgndWktdm9sdW1ldG9nZ2xlYnV0dG9uJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBTdGFydHVwIGluaXRcclxuICAgICAgICBtdXRlU3RhdGVIYW5kbGVyKCk7XHJcbiAgICAgICAgdm9sdW1lTGV2ZWxIYW5kbGVyKCk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFZvbHVtZVRvZ2dsZUJ1dHRvbjtcclxufSh0b2dnbGVidXR0b25fMS5Ub2dnbGVCdXR0b24pKTtcclxuZXhwb3J0cy5Wb2x1bWVUb2dnbGVCdXR0b24gPSBWb2x1bWVUb2dnbGVCdXR0b247XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy92b2x1bWV0b2dnbGVidXR0b24udHNcbi8vIG1vZHVsZSBpZCA9IDE2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBjb21wb25lbnRfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudFwiKTtcclxudmFyIGRvbV8xID0gcmVxdWlyZShcIi4uL2RvbVwiKTtcclxudmFyIGV2ZW50ZGlzcGF0Y2hlcl8xID0gcmVxdWlyZShcIi4uL2V2ZW50ZGlzcGF0Y2hlclwiKTtcclxudmFyIHRpbWVvdXRfMSA9IHJlcXVpcmUoXCIuLi90aW1lb3V0XCIpO1xyXG52YXIgcGxheWVydXRpbHNfMSA9IHJlcXVpcmUoXCIuLi9wbGF5ZXJ1dGlsc1wiKTtcclxuLyoqXHJcbiAqIEEgc2VlayBiYXIgdG8gc2VlayB3aXRoaW4gdGhlIHBsYXllcidzIG1lZGlhLiBJdCBkaXNwbGF5cyB0aGUgY3VycmVudCBwbGF5YmFjayBwb3NpdGlvbiwgYW1vdW50IG9mIGJ1ZmZlZCBkYXRhLCBzZWVrXHJcbiAqIHRhcmdldCwgYW5kIGtlZXBzIHN0YXR1cyBhYm91dCBhbiBvbmdvaW5nIHNlZWsuXHJcbiAqXHJcbiAqIFRoZSBzZWVrIGJhciBkaXNwbGF5cyBkaWZmZXJlbnQgJ2JhcnMnOlxyXG4gKiAgLSB0aGUgcGxheWJhY2sgcG9zaXRpb24sIGkuZS4gdGhlIHBvc2l0aW9uIGluIHRoZSBtZWRpYSBhdCB3aGljaCB0aGUgcGxheWVyIGN1cnJlbnQgcGxheWJhY2sgcG9pbnRlciBpcyBwb3NpdGlvbmVkXHJcbiAqICAtIHRoZSBidWZmZXIgcG9zaXRpb24sIHdoaWNoIHVzdWFsbHkgaXMgdGhlIHBsYXliYWNrIHBvc2l0aW9uIHBsdXMgdGhlIHRpbWUgc3BhbiB0aGF0IGlzIGFscmVhZHkgYnVmZmVyZWQgYWhlYWRcclxuICogIC0gdGhlIHNlZWsgcG9zaXRpb24sIHVzZWQgdG8gcHJldmlldyB0byB3aGVyZSBpbiB0aGUgdGltZWxpbmUgYSBzZWVrIHdpbGwganVtcCB0b1xyXG4gKi9cclxudmFyIFNlZWtCYXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoU2Vla0JhciwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIFNlZWtCYXIoY29uZmlnKSB7XHJcbiAgICAgICAgaWYgKGNvbmZpZyA9PT0gdm9pZCAwKSB7IGNvbmZpZyA9IHt9OyB9XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgY29uZmlnKSB8fCB0aGlzO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEJ1ZmZlciBvZiB0aGUgdGhlIGN1cnJlbnQgcGxheWJhY2sgcG9zaXRpb24uIFRoZSBwb3NpdGlvbiBtdXN0IGJlIGJ1ZmZlcmVkIGluIGNhc2UgdGhlIGVsZW1lbnRcclxuICAgICAgICAgKiBuZWVkcyB0byBiZSByZWZyZXNoZWQgd2l0aCB7QGxpbmsgI3JlZnJlc2hQbGF5YmFja1Bvc2l0aW9ufS5cclxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIF90aGlzLnBsYXliYWNrUG9zaXRpb25QZXJjZW50YWdlID0gMDtcclxuICAgICAgICAvLyBodHRwczovL2hhY2tzLm1vemlsbGEub3JnLzIwMTMvMDQvZGV0ZWN0aW5nLXRvdWNoLWl0cy10aGUtd2h5LW5vdC10aGUtaG93L1xyXG4gICAgICAgIF90aGlzLnRvdWNoU3VwcG9ydGVkID0gKCdvbnRvdWNoc3RhcnQnIGluIHdpbmRvdyk7XHJcbiAgICAgICAgX3RoaXMuc2Vla0JhckV2ZW50cyA9IHtcclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIEZpcmVkIHdoZW4gYSBzY3J1YmJpbmcgc2VlayBvcGVyYXRpb24gaXMgc3RhcnRlZC5cclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIG9uU2VlazogbmV3IGV2ZW50ZGlzcGF0Y2hlcl8xLkV2ZW50RGlzcGF0Y2hlcigpLFxyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICogRmlyZWQgZHVyaW5nIGEgc2NydWJiaW5nIHNlZWsgdG8gaW5kaWNhdGUgdGhhdCB0aGUgc2VlayBwcmV2aWV3IChpLmUuIHRoZSB2aWRlbyBmcmFtZSkgc2hvdWxkIGJlIHVwZGF0ZWQuXHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICBvblNlZWtQcmV2aWV3OiBuZXcgZXZlbnRkaXNwYXRjaGVyXzEuRXZlbnREaXNwYXRjaGVyKCksXHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBGaXJlZCB3aGVuIGEgc2NydWJiaW5nIHNlZWsgaGFzIGZpbmlzaGVkIG9yIHdoZW4gYSBkaXJlY3Qgc2VlayBpcyBpc3N1ZWQuXHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICBvblNlZWtlZDogbmV3IGV2ZW50ZGlzcGF0Y2hlcl8xLkV2ZW50RGlzcGF0Y2hlcigpLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgX3RoaXMuY29uZmlnID0gX3RoaXMubWVyZ2VDb25maWcoY29uZmlnLCB7XHJcbiAgICAgICAgICAgIGNzc0NsYXNzOiAndWktc2Vla2JhcicsXHJcbiAgICAgICAgICAgIHZlcnRpY2FsOiBmYWxzZSxcclxuICAgICAgICAgICAgc21vb3RoUGxheWJhY2tQb3NpdGlvblVwZGF0ZUludGVydmFsTXM6IDUwLFxyXG4gICAgICAgIH0sIF90aGlzLmNvbmZpZyk7XHJcbiAgICAgICAgX3RoaXMubGFiZWwgPSBfdGhpcy5jb25maWcubGFiZWw7XHJcbiAgICAgICAgX3RoaXMudGltZWxpbmVNYXJrZXJzID0gW107XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgU2Vla0Jhci5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmluaXRpYWxpemUuY2FsbCh0aGlzKTtcclxuICAgICAgICBpZiAodGhpcy5oYXNMYWJlbCgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2V0TGFiZWwoKS5pbml0aWFsaXplKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFNlZWtCYXIucHJvdG90eXBlLmNvbmZpZ3VyZSA9IGZ1bmN0aW9uIChwbGF5ZXIsIHVpbWFuYWdlciwgY29uZmlndXJlU2Vlaykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgaWYgKGNvbmZpZ3VyZVNlZWsgPT09IHZvaWQgMCkgeyBjb25maWd1cmVTZWVrID0gdHJ1ZTsgfVxyXG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuY29uZmlndXJlLmNhbGwodGhpcywgcGxheWVyLCB1aW1hbmFnZXIpO1xyXG4gICAgICAgIC8vIEFwcGx5IHNjYWxpbmcgdHJhbnNmb3JtIHRvIHRoZSBiYWNrZHJvcCBiYXIgdG8gaGF2ZSBhbGwgYmFycyByZW5kZXJlZCBzaW1pbGFybHlcclxuICAgICAgICAvLyAodGhlIGNhbGwgbXVzdCBiZSB1cCBoZXJlIHRvIGJlIGV4ZWN1dGVkIGZvciB0aGUgdm9sdW1lIHNsaWRlciBhcyB3ZWxsKVxyXG4gICAgICAgIHRoaXMuc2V0UG9zaXRpb24odGhpcy5zZWVrQmFyQmFja2Ryb3AsIDEwMCk7XHJcbiAgICAgICAgaWYgKCFjb25maWd1cmVTZWVrKSB7XHJcbiAgICAgICAgICAgIC8vIFRoZSBjb25maWd1cmVTZWVrIGZsYWcgY2FuIGJlIHVzZWQgYnkgc3ViY2xhc3NlcyB0byBkaXNhYmxlIGNvbmZpZ3VyYXRpb24gYXMgc2VlayBiYXIuIEUuZy4gdGhlIHZvbHVtZVxyXG4gICAgICAgICAgICAvLyBzbGlkZXIgaXMgcmV1c2luZyB0aGlzIGNvbXBvbmVudCBidXQgYWRkcyBpdHMgb3duIGZ1bmN0aW9uYWxpdHksIGFuZCBkb2VzIG5vdCBuZWVkIHRoZSBzZWVrIGZ1bmN0aW9uYWxpdHkuXHJcbiAgICAgICAgICAgIC8vIFRoaXMgaXMgYWN0dWFsbHkgYSBoYWNrLCB0aGUgcHJvcGVyIHNvbHV0aW9uIHdvdWxkIGJlIGZvciBib3RoIHNlZWsgYmFyIGFuZCB2b2x1bWUgc2xpZGVycyB0byBleHRlbmRcclxuICAgICAgICAgICAgLy8gYSBjb21tb24gYmFzZSBzbGlkZXIgY29tcG9uZW50IGFuZCBpbXBsZW1lbnQgdGhlaXIgZnVuY3Rpb25hbGl0eSB0aGVyZS5cclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgaXNQbGF5aW5nID0gZmFsc2U7XHJcbiAgICAgICAgdmFyIGlzU2Vla2luZyA9IGZhbHNlO1xyXG4gICAgICAgIC8vIFVwZGF0ZSBwbGF5YmFjayBhbmQgYnVmZmVyIHBvc2l0aW9uc1xyXG4gICAgICAgIHZhciBwbGF5YmFja1Bvc2l0aW9uSGFuZGxlciA9IGZ1bmN0aW9uIChldmVudCwgZm9yY2VVcGRhdGUpIHtcclxuICAgICAgICAgICAgaWYgKGV2ZW50ID09PSB2b2lkIDApIHsgZXZlbnQgPSBudWxsOyB9XHJcbiAgICAgICAgICAgIGlmIChmb3JjZVVwZGF0ZSA9PT0gdm9pZCAwKSB7IGZvcmNlVXBkYXRlID0gZmFsc2U7IH1cclxuICAgICAgICAgICAgaWYgKGlzU2Vla2luZykge1xyXG4gICAgICAgICAgICAgICAgLy8gV2UgY2F1Z2h0IGEgc2VlayBwcmV2aWV3IHNlZWssIGRvIG5vdCB1cGRhdGUgdGhlIHNlZWtiYXJcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAocGxheWVyLmlzTGl2ZSgpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocGxheWVyLmdldE1heFRpbWVTaGlmdCgpID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyBjYXNlIG11c3QgYmUgZXhwbGljaXRseSBoYW5kbGVkIHRvIGF2b2lkIGRpdmlzaW9uIGJ5IHplcm9cclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5zZXRQbGF5YmFja1Bvc2l0aW9uKDEwMCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcGxheWJhY2tQb3NpdGlvblBlcmNlbnRhZ2UgPSAxMDAgLSAoMTAwIC8gcGxheWVyLmdldE1heFRpbWVTaGlmdCgpICogcGxheWVyLmdldFRpbWVTaGlmdCgpKTtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5zZXRQbGF5YmFja1Bvc2l0aW9uKHBsYXliYWNrUG9zaXRpb25QZXJjZW50YWdlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIEFsd2F5cyBzaG93IGZ1bGwgYnVmZmVyIGZvciBsaXZlIHN0cmVhbXNcclxuICAgICAgICAgICAgICAgIF90aGlzLnNldEJ1ZmZlclBvc2l0aW9uKDEwMCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcGxheWJhY2tQb3NpdGlvblBlcmNlbnRhZ2UgPSAxMDAgLyBwbGF5ZXIuZ2V0RHVyYXRpb24oKSAqIHBsYXllci5nZXRDdXJyZW50VGltZSgpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHZpZGVvQnVmZmVyTGVuZ3RoID0gcGxheWVyLmdldFZpZGVvQnVmZmVyTGVuZ3RoKCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgYXVkaW9CdWZmZXJMZW5ndGggPSBwbGF5ZXIuZ2V0QXVkaW9CdWZmZXJMZW5ndGgoKTtcclxuICAgICAgICAgICAgICAgIC8vIENhbGN1bGF0ZSB0aGUgYnVmZmVyIGxlbmd0aCB3aGljaCBpcyB0aGUgc21hbGxlciBsZW5ndGggb2YgdGhlIGF1ZGlvIGFuZCB2aWRlbyBidWZmZXJzLiBJZiBvbmUgb2YgdGhlc2VcclxuICAgICAgICAgICAgICAgIC8vIGJ1ZmZlcnMgaXMgbm90IGF2YWlsYWJsZSwgd2Ugc2V0IGl0J3MgdmFsdWUgdG8gTUFYX1ZBTFVFIHRvIG1ha2Ugc3VyZSB0aGF0IHRoZSBvdGhlciByZWFsIHZhbHVlIGlzIHRha2VuXHJcbiAgICAgICAgICAgICAgICAvLyBhcyB0aGUgYnVmZmVyIGxlbmd0aC5cclxuICAgICAgICAgICAgICAgIHZhciBidWZmZXJMZW5ndGggPSBNYXRoLm1pbih2aWRlb0J1ZmZlckxlbmd0aCAhPSBudWxsID8gdmlkZW9CdWZmZXJMZW5ndGggOiBOdW1iZXIuTUFYX1ZBTFVFLCBhdWRpb0J1ZmZlckxlbmd0aCAhPSBudWxsID8gYXVkaW9CdWZmZXJMZW5ndGggOiBOdW1iZXIuTUFYX1ZBTFVFKTtcclxuICAgICAgICAgICAgICAgIC8vIElmIGJvdGggYnVmZmVyIGxlbmd0aHMgYXJlIG1pc3NpbmcsIHdlIHNldCB0aGUgYnVmZmVyIGxlbmd0aCB0byB6ZXJvXHJcbiAgICAgICAgICAgICAgICBpZiAoYnVmZmVyTGVuZ3RoID09PSBOdW1iZXIuTUFYX1ZBTFVFKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnVmZmVyTGVuZ3RoID0gMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhciBidWZmZXJQZXJjZW50YWdlID0gMTAwIC8gcGxheWVyLmdldER1cmF0aW9uKCkgKiBidWZmZXJMZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAvLyBVcGRhdGUgcGxheWJhY2sgcG9zaXRpb24gb25seSBpbiBwYXVzZWQgc3RhdGUgb3IgaW4gdGhlIGluaXRpYWwgc3RhcnR1cCBzdGF0ZSB3aGVyZSBwbGF5ZXIgaXMgbmVpdGhlclxyXG4gICAgICAgICAgICAgICAgLy8gcGF1c2VkIG5vciBwbGF5aW5nLiBQbGF5YmFjayB1cGRhdGVzIGFyZSBoYW5kbGVkIGluIHRoZSBUaW1lb3V0IGJlbG93LlxyXG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLmNvbmZpZy5zbW9vdGhQbGF5YmFja1Bvc2l0aW9uVXBkYXRlSW50ZXJ2YWxNcyA9PT0gU2Vla0Jhci5TTU9PVEhfUExBWUJBQ0tfUE9TSVRJT05fVVBEQVRFX0RJU0FCTEVEXHJcbiAgICAgICAgICAgICAgICAgICAgfHwgZm9yY2VVcGRhdGUgfHwgcGxheWVyLmlzUGF1c2VkKCkgfHwgKHBsYXllci5pc1BhdXNlZCgpID09PSBwbGF5ZXIuaXNQbGF5aW5nKCkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2V0UGxheWJhY2tQb3NpdGlvbihwbGF5YmFja1Bvc2l0aW9uUGVyY2VudGFnZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5zZXRCdWZmZXJQb3NpdGlvbihwbGF5YmFja1Bvc2l0aW9uUGVyY2VudGFnZSArIGJ1ZmZlclBlcmNlbnRhZ2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICAvLyBVcGRhdGUgc2Vla2JhciB1cG9uIHRoZXNlIGV2ZW50c1xyXG4gICAgICAgIC8vIGluaXQgcGxheWJhY2sgcG9zaXRpb24gd2hlbiB0aGUgcGxheWVyIGlzIHJlYWR5XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fUkVBRFksIHBsYXliYWNrUG9zaXRpb25IYW5kbGVyKTtcclxuICAgICAgICAvLyB1cGRhdGUgcGxheWJhY2sgcG9zaXRpb24gd2hlbiBpdCBjaGFuZ2VzXHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fVElNRV9DSEFOR0VELCBwbGF5YmFja1Bvc2l0aW9uSGFuZGxlcik7XHJcbiAgICAgICAgLy8gdXBkYXRlIGJ1ZmZlcmxldmVsIHdoZW4gYnVmZmVyaW5nIGlzIGNvbXBsZXRlXHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fU1RBTExfRU5ERUQsIHBsYXliYWNrUG9zaXRpb25IYW5kbGVyKTtcclxuICAgICAgICAvLyB1cGRhdGUgcGxheWJhY2sgcG9zaXRpb24gd2hlbiBhIHNlZWsgaGFzIGZpbmlzaGVkXHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fU0VFS0VELCBwbGF5YmFja1Bvc2l0aW9uSGFuZGxlcik7XHJcbiAgICAgICAgLy8gdXBkYXRlIHBsYXliYWNrIHBvc2l0aW9uIHdoZW4gYSB0aW1lc2hpZnQgaGFzIGZpbmlzaGVkXHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fVElNRV9TSElGVEVELCBwbGF5YmFja1Bvc2l0aW9uSGFuZGxlcik7XHJcbiAgICAgICAgLy8gdXBkYXRlIGJ1ZmZlcmxldmVsIHdoZW4gYSBzZWdtZW50IGhhcyBiZWVuIGRvd25sb2FkZWRcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9TRUdNRU5UX1JFUVVFU1RfRklOSVNIRUQsIHBsYXliYWNrUG9zaXRpb25IYW5kbGVyKTtcclxuICAgICAgICAvLyB1cGRhdGUgcGxheWJhY2sgcG9zaXRpb24gb2YgQ2FzdCBwbGF5YmFja1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX0NBU1RfVElNRV9VUERBVEVELCBwbGF5YmFja1Bvc2l0aW9uSGFuZGxlcik7XHJcbiAgICAgICAgdGhpcy5jb25maWd1cmVMaXZlUGF1c2VkVGltZXNoaWZ0VXBkYXRlcihwbGF5ZXIsIHVpbWFuYWdlciwgcGxheWJhY2tQb3NpdGlvbkhhbmRsZXIpO1xyXG4gICAgICAgIC8vIFNlZWsgaGFuZGxpbmdcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9TRUVLLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIF90aGlzLnNldFNlZWtpbmcodHJ1ZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fU0VFS0VELCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIF90aGlzLnNldFNlZWtpbmcoZmFsc2UpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1RJTUVfU0hJRlQsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgX3RoaXMuc2V0U2Vla2luZyh0cnVlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9USU1FX1NISUZURUQsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgX3RoaXMuc2V0U2Vla2luZyhmYWxzZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdmFyIHNlZWsgPSBmdW5jdGlvbiAocGVyY2VudGFnZSkge1xyXG4gICAgICAgICAgICBpZiAocGxheWVyLmlzTGl2ZSgpKSB7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXIudGltZVNoaWZ0KHBsYXllci5nZXRNYXhUaW1lU2hpZnQoKSAtIChwbGF5ZXIuZ2V0TWF4VGltZVNoaWZ0KCkgKiAocGVyY2VudGFnZSAvIDEwMCkpLCAndWknKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHBsYXllci5zZWVrKHBsYXllci5nZXREdXJhdGlvbigpICogKHBlcmNlbnRhZ2UgLyAxMDApLCAndWknKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5vblNlZWsuc3Vic2NyaWJlKGZ1bmN0aW9uIChzZW5kZXIpIHtcclxuICAgICAgICAgICAgaXNTZWVraW5nID0gdHJ1ZTsgLy8gdHJhY2sgc2Vla2luZyBzdGF0dXMgc28gd2UgY2FuIGNhdGNoIGV2ZW50cyBmcm9tIHNlZWsgcHJldmlldyBzZWVrc1xyXG4gICAgICAgICAgICAvLyBOb3RpZnkgVUkgbWFuYWdlciBvZiBzdGFydGVkIHNlZWtcclxuICAgICAgICAgICAgdWltYW5hZ2VyLm9uU2Vlay5kaXNwYXRjaChzZW5kZXIpO1xyXG4gICAgICAgICAgICAvLyBTYXZlIGN1cnJlbnQgcGxheWJhY2sgc3RhdGVcclxuICAgICAgICAgICAgaXNQbGF5aW5nID0gcGxheWVyLmlzUGxheWluZygpO1xyXG4gICAgICAgICAgICAvLyBQYXVzZSBwbGF5YmFjayB3aGlsZSBzZWVraW5nXHJcbiAgICAgICAgICAgIGlmIChpc1BsYXlpbmcpIHtcclxuICAgICAgICAgICAgICAgIHBsYXllci5wYXVzZSgndWknKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMub25TZWVrUHJldmlldy5zdWJzY3JpYmUoZnVuY3Rpb24gKHNlbmRlciwgYXJncykge1xyXG4gICAgICAgICAgICAvLyBOb3RpZnkgVUkgbWFuYWdlciBvZiBzZWVrIHByZXZpZXdcclxuICAgICAgICAgICAgdWltYW5hZ2VyLm9uU2Vla1ByZXZpZXcuZGlzcGF0Y2goc2VuZGVyLCBhcmdzKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLm9uU2Vla1ByZXZpZXcuc3Vic2NyaWJlUmF0ZUxpbWl0ZWQoZnVuY3Rpb24gKHNlbmRlciwgYXJncykge1xyXG4gICAgICAgICAgICAvLyBSYXRlLWxpbWl0ZWQgc2NydWJiaW5nIHNlZWtcclxuICAgICAgICAgICAgaWYgKGFyZ3Muc2NydWJiaW5nKSB7XHJcbiAgICAgICAgICAgICAgICBzZWVrKGFyZ3MucG9zaXRpb24pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSwgMjAwKTtcclxuICAgICAgICB0aGlzLm9uU2Vla2VkLnN1YnNjcmliZShmdW5jdGlvbiAoc2VuZGVyLCBwZXJjZW50YWdlKSB7XHJcbiAgICAgICAgICAgIGlzU2Vla2luZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAvLyBEbyB0aGUgc2Vla1xyXG4gICAgICAgICAgICBzZWVrKHBlcmNlbnRhZ2UpO1xyXG4gICAgICAgICAgICAvLyBDb250aW51ZSBwbGF5YmFjayBhZnRlciBzZWVrIGlmIHBsYXllciB3YXMgcGxheWluZyB3aGVuIHNlZWsgc3RhcnRlZFxyXG4gICAgICAgICAgICBpZiAoaXNQbGF5aW5nKSB7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXIucGxheSgndWknKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBOb3RpZnkgVUkgbWFuYWdlciBvZiBmaW5pc2hlZCBzZWVrXHJcbiAgICAgICAgICAgIHVpbWFuYWdlci5vblNlZWtlZC5kaXNwYXRjaChzZW5kZXIpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmICh0aGlzLmhhc0xhYmVsKCkpIHtcclxuICAgICAgICAgICAgLy8gQ29uZmlndXJlIGEgc2Vla2JhciBsYWJlbCB0aGF0IGlzIGludGVybmFsIHRvIHRoZSBzZWVrYmFyKVxyXG4gICAgICAgICAgICB0aGlzLmdldExhYmVsKCkuY29uZmlndXJlKHBsYXllciwgdWltYW5hZ2VyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gSGlkZSBzZWVrYmFyIGZvciBsaXZlIHNvdXJjZXMgd2l0aG91dCB0aW1lc2hpZnRcclxuICAgICAgICB2YXIgaXNMaXZlID0gZmFsc2U7XHJcbiAgICAgICAgdmFyIGhhc1RpbWVTaGlmdCA9IGZhbHNlO1xyXG4gICAgICAgIHZhciBzd2l0Y2hWaXNpYmlsaXR5ID0gZnVuY3Rpb24gKGlzTGl2ZSwgaGFzVGltZVNoaWZ0KSB7XHJcbiAgICAgICAgICAgIGlmIChpc0xpdmUgJiYgIWhhc1RpbWVTaGlmdCkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuaGlkZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuc2hvdygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHBsYXliYWNrUG9zaXRpb25IYW5kbGVyKG51bGwsIHRydWUpO1xyXG4gICAgICAgICAgICBfdGhpcy5yZWZyZXNoUGxheWJhY2tQb3NpdGlvbigpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdmFyIGxpdmVTdHJlYW1EZXRlY3RvciA9IG5ldyBwbGF5ZXJ1dGlsc18xLlBsYXllclV0aWxzLkxpdmVTdHJlYW1EZXRlY3RvcihwbGF5ZXIpO1xyXG4gICAgICAgIGxpdmVTdHJlYW1EZXRlY3Rvci5vbkxpdmVDaGFuZ2VkLnN1YnNjcmliZShmdW5jdGlvbiAoc2VuZGVyLCBhcmdzKSB7XHJcbiAgICAgICAgICAgIGlzTGl2ZSA9IGFyZ3MubGl2ZTtcclxuICAgICAgICAgICAgc3dpdGNoVmlzaWJpbGl0eShpc0xpdmUsIGhhc1RpbWVTaGlmdCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdmFyIHRpbWVTaGlmdERldGVjdG9yID0gbmV3IHBsYXllcnV0aWxzXzEuUGxheWVyVXRpbHMuVGltZVNoaWZ0QXZhaWxhYmlsaXR5RGV0ZWN0b3IocGxheWVyKTtcclxuICAgICAgICB0aW1lU2hpZnREZXRlY3Rvci5vblRpbWVTaGlmdEF2YWlsYWJpbGl0eUNoYW5nZWQuc3Vic2NyaWJlKGZ1bmN0aW9uIChzZW5kZXIsIGFyZ3MpIHtcclxuICAgICAgICAgICAgaGFzVGltZVNoaWZ0ID0gYXJncy50aW1lU2hpZnRBdmFpbGFibGU7XHJcbiAgICAgICAgICAgIHN3aXRjaFZpc2liaWxpdHkoaXNMaXZlLCBoYXNUaW1lU2hpZnQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIEluaXRpYWwgZGV0ZWN0aW9uXHJcbiAgICAgICAgbGl2ZVN0cmVhbURldGVjdG9yLmRldGVjdCgpO1xyXG4gICAgICAgIHRpbWVTaGlmdERldGVjdG9yLmRldGVjdCgpO1xyXG4gICAgICAgIC8vIFJlZnJlc2ggdGhlIHBsYXliYWNrIHBvc2l0aW9uIHdoZW4gdGhlIHBsYXllciByZXNpemVkIG9yIHRoZSBVSSBpcyBjb25maWd1cmVkLiBUaGUgcGxheWJhY2sgcG9zaXRpb24gbWFya2VyXHJcbiAgICAgICAgLy8gaXMgcG9zaXRpb25lZCBhYnNvbHV0ZWx5IGFuZCBtdXN0IHRoZXJlZm9yZSBiZSB1cGRhdGVkIHdoZW4gdGhlIHNpemUgb2YgdGhlIHNlZWtiYXIgY2hhbmdlcy5cclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9QTEFZRVJfUkVTSVpFLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIF90aGlzLnJlZnJlc2hQbGF5YmFja1Bvc2l0aW9uKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gQWRkaXRpb25hbGx5LCB3aGVuIHRoaXMgY29kZSBpcyBjYWxsZWQsIHRoZSBzZWVrYmFyIGlzIG5vdCBwYXJ0IG9mIHRoZSBVSSB5ZXQgYW5kIHRoZXJlZm9yZSBkb2VzIG5vdCBoYXZlIGEgc2l6ZSxcclxuICAgICAgICAvLyByZXN1bHRpbmcgaW4gYSB3cm9uZyBpbml0aWFsIHBvc2l0aW9uIG9mIHRoZSBtYXJrZXIuIFJlZnJlc2hpbmcgaXQgb25jZSB0aGUgVUkgaXMgY29uZmlndXJlZCBzb2x2ZWQgdGhpcyBpc3N1ZS5cclxuICAgICAgICB1aW1hbmFnZXIub25Db25maWd1cmVkLnN1YnNjcmliZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIF90aGlzLnJlZnJlc2hQbGF5YmFja1Bvc2l0aW9uKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gSXQgY2FuIGFsc28gaGFwcGVuIHRoYXQgdGhlIHZhbHVlIGNoYW5nZXMgb25jZSB0aGUgcGxheWVyIGlzIHJlYWR5LCBvciB3aGVuIGEgbmV3IHNvdXJjZSBpcyBsb2FkZWQsIHNvIHdlIG5lZWRcclxuICAgICAgICAvLyB0byB1cGRhdGUgb24gT05fUkVBRFkgdG9vXHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fUkVBRFksIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgX3RoaXMucmVmcmVzaFBsYXliYWNrUG9zaXRpb24oKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBJbml0aWFsaXplIHNlZWtiYXJcclxuICAgICAgICBwbGF5YmFja1Bvc2l0aW9uSGFuZGxlcigpOyAvLyBTZXQgdGhlIHBsYXliYWNrIHBvc2l0aW9uXHJcbiAgICAgICAgdGhpcy5zZXRCdWZmZXJQb3NpdGlvbigwKTtcclxuICAgICAgICB0aGlzLnNldFNlZWtQb3NpdGlvbigwKTtcclxuICAgICAgICBpZiAodGhpcy5jb25maWcuc21vb3RoUGxheWJhY2tQb3NpdGlvblVwZGF0ZUludGVydmFsTXMgIT09IFNlZWtCYXIuU01PT1RIX1BMQVlCQUNLX1BPU0lUSU9OX1VQREFURV9ESVNBQkxFRCkge1xyXG4gICAgICAgICAgICB0aGlzLmNvbmZpZ3VyZVNtb290aFBsYXliYWNrUG9zaXRpb25VcGRhdGVyKHBsYXllciwgdWltYW5hZ2VyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jb25maWd1cmVNYXJrZXJzKHBsYXllciwgdWltYW5hZ2VyKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFVwZGF0ZSBzZWVrYmFyIHdoaWxlIGEgbGl2ZSBzdHJlYW0gd2l0aCBEVlIgd2luZG93IGlzIHBhdXNlZC5cclxuICAgICAqIFRoZSBwbGF5YmFjayBwb3NpdGlvbiBzdGF5cyBzdGlsbCBhbmQgdGhlIHBvc2l0aW9uIGluZGljYXRvciB2aXN1YWxseSBtb3ZlcyB0b3dhcmRzIHRoZSBiYWNrLlxyXG4gICAgICovXHJcbiAgICBTZWVrQmFyLnByb3RvdHlwZS5jb25maWd1cmVMaXZlUGF1c2VkVGltZXNoaWZ0VXBkYXRlciA9IGZ1bmN0aW9uIChwbGF5ZXIsIHVpbWFuYWdlciwgcGxheWJhY2tQb3NpdGlvbkhhbmRsZXIpIHtcclxuICAgICAgICAvLyBSZWd1bGFybHkgdXBkYXRlIHRoZSBwbGF5YmFjayBwb3NpdGlvbiB3aGlsZSB0aGUgdGltZW91dCBpcyBhY3RpdmVcclxuICAgICAgICB2YXIgcGF1c2VkVGltZXNoaWZ0VXBkYXRlciA9IG5ldyB0aW1lb3V0XzEuVGltZW91dCgxMDAwLCBwbGF5YmFja1Bvc2l0aW9uSGFuZGxlciwgdHJ1ZSk7XHJcbiAgICAgICAgLy8gU3RhcnQgdXBkYXRlciB3aGVuIGEgbGl2ZSBzdHJlYW0gd2l0aCB0aW1lc2hpZnQgd2luZG93IGlzIHBhdXNlZFxyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1BBVVNFRCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAocGxheWVyLmlzTGl2ZSgpICYmIHBsYXllci5nZXRNYXhUaW1lU2hpZnQoKSA8IDApIHtcclxuICAgICAgICAgICAgICAgIHBhdXNlZFRpbWVzaGlmdFVwZGF0ZXIuc3RhcnQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIFN0b3AgdXBkYXRlciB3aGVuIHBsYXliYWNrIGNvbnRpbnVlcyAobm8gbWF0dGVyIGlmIHRoZSB1cGRhdGVyIHdhcyBzdGFydGVkIGJlZm9yZSlcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9QTEFZLCBmdW5jdGlvbiAoKSB7IHJldHVybiBwYXVzZWRUaW1lc2hpZnRVcGRhdGVyLmNsZWFyKCk7IH0pO1xyXG4gICAgfTtcclxuICAgIFNlZWtCYXIucHJvdG90eXBlLmNvbmZpZ3VyZVNtb290aFBsYXliYWNrUG9zaXRpb25VcGRhdGVyID0gZnVuY3Rpb24gKHBsYXllciwgdWltYW5hZ2VyKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICAvKlxyXG4gICAgICAgICAqIFBsYXliYWNrIHBvc2l0aW9uIHVwZGF0ZVxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogV2UgZG8gbm90IHVwZGF0ZSB0aGUgcG9zaXRpb24gZGlyZWN0bHkgZnJvbSB0aGUgT05fVElNRV9DSEFOR0VEIGV2ZW50LCBiZWNhdXNlIGl0IGFycml2ZXMgdmVyeSBqaXR0ZXJ5IGFuZFxyXG4gICAgICAgICAqIHJlc3VsdHMgaW4gYSBqaXR0ZXJ5IHBvc2l0aW9uIGluZGljYXRvciBzaW5jZSB0aGUgQ1NTIHRyYW5zaXRpb24gdGltZSBpcyBzdGF0aWNhbGx5IHNldC5cclxuICAgICAgICAgKiBUbyB3b3JrIGFyb3VuZCB0aGlzIGlzc3VlLCB3ZSBtYWludGFpbiBhIGxvY2FsIHBsYXliYWNrIHBvc2l0aW9uIHRoYXQgaXMgdXBkYXRlZCBpbiBhIHN0YWJsZSByZWd1bGFyIGludGVydmFsXHJcbiAgICAgICAgICogYW5kIGtlcHQgaW4gc3luYyB3aXRoIHRoZSBwbGF5ZXIuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdmFyIGN1cnJlbnRUaW1lU2Vla0JhciA9IDA7XHJcbiAgICAgICAgdmFyIGN1cnJlbnRUaW1lUGxheWVyID0gMDtcclxuICAgICAgICB2YXIgdXBkYXRlSW50ZXJ2YWxNcyA9IDUwO1xyXG4gICAgICAgIHZhciBjdXJyZW50VGltZVVwZGF0ZURlbHRhU2VjcyA9IHVwZGF0ZUludGVydmFsTXMgLyAxMDAwO1xyXG4gICAgICAgIHRoaXMuc21vb3RoUGxheWJhY2tQb3NpdGlvblVwZGF0ZXIgPSBuZXcgdGltZW91dF8xLlRpbWVvdXQodXBkYXRlSW50ZXJ2YWxNcywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBjdXJyZW50VGltZVNlZWtCYXIgKz0gY3VycmVudFRpbWVVcGRhdGVEZWx0YVNlY3M7XHJcbiAgICAgICAgICAgIGN1cnJlbnRUaW1lUGxheWVyID0gcGxheWVyLmdldEN1cnJlbnRUaW1lKCk7XHJcbiAgICAgICAgICAgIC8vIFN5bmMgY3VycmVudFRpbWUgb2Ygc2Vla2JhciB0byBwbGF5ZXJcclxuICAgICAgICAgICAgdmFyIGN1cnJlbnRUaW1lRGVsdGEgPSBjdXJyZW50VGltZVNlZWtCYXIgLSBjdXJyZW50VGltZVBsYXllcjtcclxuICAgICAgICAgICAgLy8gSWYgdGhlIGRlbHRhIGlzIGxhcmdlciB0aGF0IDIgc2VjcywgZGlyZWN0bHkganVtcCB0aGUgc2Vla2JhciB0byB0aGVcclxuICAgICAgICAgICAgLy8gcGxheWVyIHRpbWUgaW5zdGVhZCBvZiBzbW9vdGhseSBmYXN0IGZvcndhcmRpbmcvcmV3aW5kaW5nLlxyXG4gICAgICAgICAgICBpZiAoTWF0aC5hYnMoY3VycmVudFRpbWVEZWx0YSkgPiAyKSB7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50VGltZVNlZWtCYXIgPSBjdXJyZW50VGltZVBsYXllcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBJZiBjdXJyZW50VGltZURlbHRhIGlzIG5lZ2F0aXZlIGFuZCBiZWxvdyB0aGUgYWRqdXN0bWVudCB0aHJlc2hvbGQsXHJcbiAgICAgICAgICAgIC8vIHRoZSBwbGF5ZXIgaXMgYWhlYWQgb2YgdGhlIHNlZWtiYXIgYW5kIHdlICdmYXN0IGZvcndhcmQnIHRoZSBzZWVrYmFyXHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGN1cnJlbnRUaW1lRGVsdGEgPD0gLWN1cnJlbnRUaW1lVXBkYXRlRGVsdGFTZWNzKSB7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50VGltZVNlZWtCYXIgKz0gY3VycmVudFRpbWVVcGRhdGVEZWx0YVNlY3M7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gSWYgY3VycmVudFRpbWVEZWx0YSBpcyBwb3NpdGl2ZSBhbmQgYWJvdmUgdGhlIGFkanVzdG1lbnQgdGhyZXNob2xkLFxyXG4gICAgICAgICAgICAvLyB0aGUgcGxheWVyIGlzIGJlaGluZCB0aGUgc2Vla2JhciBhbmQgd2UgJ3Jld2luZCcgdGhlIHNlZWtiYXJcclxuICAgICAgICAgICAgZWxzZSBpZiAoY3VycmVudFRpbWVEZWx0YSA+PSBjdXJyZW50VGltZVVwZGF0ZURlbHRhU2Vjcykge1xyXG4gICAgICAgICAgICAgICAgY3VycmVudFRpbWVTZWVrQmFyIC09IGN1cnJlbnRUaW1lVXBkYXRlRGVsdGFTZWNzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBwbGF5YmFja1Bvc2l0aW9uUGVyY2VudGFnZSA9IDEwMCAvIHBsYXllci5nZXREdXJhdGlvbigpICogY3VycmVudFRpbWVTZWVrQmFyO1xyXG4gICAgICAgICAgICBfdGhpcy5zZXRQbGF5YmFja1Bvc2l0aW9uKHBsYXliYWNrUG9zaXRpb25QZXJjZW50YWdlKTtcclxuICAgICAgICB9LCB0cnVlKTtcclxuICAgICAgICB2YXIgc3RhcnRTbW9vdGhQbGF5YmFja1Bvc2l0aW9uVXBkYXRlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKCFwbGF5ZXIuaXNMaXZlKCkpIHtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRUaW1lU2Vla0JhciA9IHBsYXllci5nZXRDdXJyZW50VGltZSgpO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuc21vb3RoUGxheWJhY2tQb3NpdGlvblVwZGF0ZXIuc3RhcnQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdmFyIHN0b3BTbW9vdGhQbGF5YmFja1Bvc2l0aW9uVXBkYXRlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgX3RoaXMuc21vb3RoUGxheWJhY2tQb3NpdGlvblVwZGF0ZXIuY2xlYXIoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1BMQVksIHN0YXJ0U21vb3RoUGxheWJhY2tQb3NpdGlvblVwZGF0ZXIpO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX0NBU1RfUExBWUlORywgc3RhcnRTbW9vdGhQbGF5YmFja1Bvc2l0aW9uVXBkYXRlcik7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fUEFVU0VELCBzdG9wU21vb3RoUGxheWJhY2tQb3NpdGlvblVwZGF0ZXIpO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX0NBU1RfUEFVU0VELCBzdG9wU21vb3RoUGxheWJhY2tQb3NpdGlvblVwZGF0ZXIpO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1BMQVlCQUNLX0ZJTklTSEVELCBzdG9wU21vb3RoUGxheWJhY2tQb3NpdGlvblVwZGF0ZXIpO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1NFRUtFRCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBjdXJyZW50VGltZVNlZWtCYXIgPSBwbGF5ZXIuZ2V0Q3VycmVudFRpbWUoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAocGxheWVyLmlzUGxheWluZygpKSB7XHJcbiAgICAgICAgICAgIHN0YXJ0U21vb3RoUGxheWJhY2tQb3NpdGlvblVwZGF0ZXIoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgU2Vla0Jhci5wcm90b3R5cGUuY29uZmlndXJlTWFya2VycyA9IGZ1bmN0aW9uIChwbGF5ZXIsIHVpbWFuYWdlcikge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdmFyIGNsZWFyTWFya2VycyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgX3RoaXMudGltZWxpbmVNYXJrZXJzID0gW107XHJcbiAgICAgICAgICAgIF90aGlzLnVwZGF0ZU1hcmtlcnMoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciBzZXR1cE1hcmtlcnMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNsZWFyTWFya2VycygpO1xyXG4gICAgICAgICAgICB2YXIgZHVyYXRpb24gPSBwbGF5ZXIuZ2V0RHVyYXRpb24oKTtcclxuICAgICAgICAgICAgaWYgKGR1cmF0aW9uID09PSBJbmZpbml0eSkge1xyXG4gICAgICAgICAgICAgICAgLy8gRG9uJ3QgZ2VuZXJhdGUgdGltZWxpbmUgbWFya2VycyBpZiB3ZSBkb24ndCB5ZXQgaGF2ZSBhIGR1cmF0aW9uXHJcbiAgICAgICAgICAgICAgICAvLyBUaGUgZHVyYXRpb24gY2hlY2sgaXMgZm9yIGJ1Z2d5IHBsYXRmb3JtcyB3aGVyZSB0aGUgZHVyYXRpb24gaXMgbm90IGF2YWlsYWJsZSBpbnN0YW50bHkgKENocm9tZSBvbiBBbmRyb2lkIDQuMylcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gdWltYW5hZ2VyLmdldENvbmZpZygpLm1ldGFkYXRhLm1hcmtlcnM7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbWFya2VyID0gX2FbX2ldO1xyXG4gICAgICAgICAgICAgICAgdmFyIG1hcmtlclBvc2l0aW9uID0gMTAwIC8gZHVyYXRpb24gKiBtYXJrZXIudGltZTsgLy8gY29udmVydCBhYnNvbHV0ZSB0aW1lIHRvIHBlcmNlbnRhZ2VcclxuICAgICAgICAgICAgICAgIHZhciBtYXJrZXJEdXJhdGlvbiA9IDEwMCAvIGR1cmF0aW9uICogbWFya2VyLmR1cmF0aW9uO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMudGltZWxpbmVNYXJrZXJzLnB1c2goeyBtYXJrZXI6IG1hcmtlciwgcG9zaXRpb246IG1hcmtlclBvc2l0aW9uLCBkdXJhdGlvbjogbWFya2VyRHVyYXRpb24gfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gUG9wdWxhdGUgdGhlIHRpbWVsaW5lIHdpdGggdGhlIG1hcmtlcnNcclxuICAgICAgICAgICAgX3RoaXMudXBkYXRlTWFya2VycygpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgLy8gQWRkIG1hcmtlcnMgd2hlbiBhIHNvdXJjZSBpcyBsb2FkZWRcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9SRUFEWSwgc2V0dXBNYXJrZXJzKTtcclxuICAgICAgICAvLyBSZW1vdmUgbWFya2VycyB3aGVuIHVubG9hZGVkXHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fU09VUkNFX1VOTE9BREVELCBjbGVhck1hcmtlcnMpO1xyXG4gICAgICAgIC8vIFVwZGF0ZSBtYXJrZXJzIHdoZW4gdGhlIHNpemUgb2YgdGhlIHNlZWtiYXIgY2hhbmdlc1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1BMQVlFUl9SRVNJWkUsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLnVwZGF0ZU1hcmtlcnMoKTsgfSk7XHJcbiAgICAgICAgLy8gVXBkYXRlIG1hcmtlcnMgd2hlbiBhIG1hcmtlciBpcyBhZGRlZCBvciByZW1vdmVkXHJcbiAgICAgICAgdWltYW5hZ2VyLmdldENvbmZpZygpLmV2ZW50cy5vblVwZGF0ZWQuc3Vic2NyaWJlKHNldHVwTWFya2Vycyk7XHJcbiAgICAgICAgdWltYW5hZ2VyLm9uUmVsZWFzZS5zdWJzY3JpYmUoZnVuY3Rpb24gKCkgeyByZXR1cm4gdWltYW5hZ2VyLmdldENvbmZpZygpLmV2ZW50cy5vblVwZGF0ZWQudW5zdWJzY3JpYmUoc2V0dXBNYXJrZXJzKTsgfSk7XHJcbiAgICAgICAgLy8gSW5pdCBtYXJrZXJzIGF0IHN0YXJ0dXBcclxuICAgICAgICBzZXR1cE1hcmtlcnMoKTtcclxuICAgIH07XHJcbiAgICBTZWVrQmFyLnByb3RvdHlwZS5yZWxlYXNlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUucmVsZWFzZS5jYWxsKHRoaXMpO1xyXG4gICAgICAgIGlmICh0aGlzLnNtb290aFBsYXliYWNrUG9zaXRpb25VcGRhdGVyKSB7IC8vIG9iamVjdCBtdXN0IG5vdCBuZWNlc3NhcmlseSBleGlzdCwgZS5nLiBpbiB2b2x1bWUgc2xpZGVyIHN1YmNsYXNzXHJcbiAgICAgICAgICAgIHRoaXMuc21vb3RoUGxheWJhY2tQb3NpdGlvblVwZGF0ZXIuY2xlYXIoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgU2Vla0Jhci5wcm90b3R5cGUudG9Eb21FbGVtZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgaWYgKHRoaXMuY29uZmlnLnZlcnRpY2FsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29uZmlnLmNzc0NsYXNzZXMucHVzaCgndmVydGljYWwnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHNlZWtCYXJDb250YWluZXIgPSBuZXcgZG9tXzEuRE9NKCdkaXYnLCB7XHJcbiAgICAgICAgICAgICdpZCc6IHRoaXMuY29uZmlnLmlkLFxyXG4gICAgICAgICAgICAnY2xhc3MnOiB0aGlzLmdldENzc0NsYXNzZXMoKSxcclxuICAgICAgICB9KTtcclxuICAgICAgICB2YXIgc2Vla0JhciA9IG5ldyBkb21fMS5ET00oJ2RpdicsIHtcclxuICAgICAgICAgICAgJ2NsYXNzJzogdGhpcy5wcmVmaXhDc3MoJ3NlZWtiYXInKSxcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnNlZWtCYXIgPSBzZWVrQmFyO1xyXG4gICAgICAgIC8vIEluZGljYXRvciB0aGF0IHNob3dzIHRoZSBidWZmZXIgZmlsbCBsZXZlbFxyXG4gICAgICAgIHZhciBzZWVrQmFyQnVmZmVyTGV2ZWwgPSBuZXcgZG9tXzEuRE9NKCdkaXYnLCB7XHJcbiAgICAgICAgICAgICdjbGFzcyc6IHRoaXMucHJlZml4Q3NzKCdzZWVrYmFyLWJ1ZmZlcmxldmVsJyksXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5zZWVrQmFyQnVmZmVyUG9zaXRpb24gPSBzZWVrQmFyQnVmZmVyTGV2ZWw7XHJcbiAgICAgICAgLy8gSW5kaWNhdG9yIHRoYXQgc2hvd3MgdGhlIGN1cnJlbnQgcGxheWJhY2sgcG9zaXRpb25cclxuICAgICAgICB2YXIgc2Vla0JhclBsYXliYWNrUG9zaXRpb24gPSBuZXcgZG9tXzEuRE9NKCdkaXYnLCB7XHJcbiAgICAgICAgICAgICdjbGFzcyc6IHRoaXMucHJlZml4Q3NzKCdzZWVrYmFyLXBsYXliYWNrcG9zaXRpb24nKSxcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnNlZWtCYXJQbGF5YmFja1Bvc2l0aW9uID0gc2Vla0JhclBsYXliYWNrUG9zaXRpb247XHJcbiAgICAgICAgLy8gQSBtYXJrZXIgb2YgdGhlIGN1cnJlbnQgcGxheWJhY2sgcG9zaXRpb24sIGUuZy4gYSBkb3Qgb3IgbGluZVxyXG4gICAgICAgIHZhciBzZWVrQmFyUGxheWJhY2tQb3NpdGlvbk1hcmtlciA9IG5ldyBkb21fMS5ET00oJ2RpdicsIHtcclxuICAgICAgICAgICAgJ2NsYXNzJzogdGhpcy5wcmVmaXhDc3MoJ3NlZWtiYXItcGxheWJhY2twb3NpdGlvbi1tYXJrZXInKSxcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnNlZWtCYXJQbGF5YmFja1Bvc2l0aW9uTWFya2VyID0gc2Vla0JhclBsYXliYWNrUG9zaXRpb25NYXJrZXI7XHJcbiAgICAgICAgLy8gSW5kaWNhdG9yIHRoYXQgc2hvdyB3aGVyZSBhIHNlZWsgd2lsbCBnbyB0b1xyXG4gICAgICAgIHZhciBzZWVrQmFyU2Vla1Bvc2l0aW9uID0gbmV3IGRvbV8xLkRPTSgnZGl2Jywge1xyXG4gICAgICAgICAgICAnY2xhc3MnOiB0aGlzLnByZWZpeENzcygnc2Vla2Jhci1zZWVrcG9zaXRpb24nKSxcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnNlZWtCYXJTZWVrUG9zaXRpb24gPSBzZWVrQmFyU2Vla1Bvc2l0aW9uO1xyXG4gICAgICAgIC8vIEluZGljYXRvciB0aGF0IHNob3dzIHRoZSBmdWxsIHNlZWtiYXJcclxuICAgICAgICB2YXIgc2Vla0JhckJhY2tkcm9wID0gbmV3IGRvbV8xLkRPTSgnZGl2Jywge1xyXG4gICAgICAgICAgICAnY2xhc3MnOiB0aGlzLnByZWZpeENzcygnc2Vla2Jhci1iYWNrZHJvcCcpLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuc2Vla0JhckJhY2tkcm9wID0gc2Vla0JhckJhY2tkcm9wO1xyXG4gICAgICAgIHZhciBzZWVrQmFyQ2hhcHRlck1hcmtlcnNDb250YWluZXIgPSBuZXcgZG9tXzEuRE9NKCdkaXYnLCB7XHJcbiAgICAgICAgICAgICdjbGFzcyc6IHRoaXMucHJlZml4Q3NzKCdzZWVrYmFyLW1hcmtlcnMnKSxcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnNlZWtCYXJNYXJrZXJzQ29udGFpbmVyID0gc2Vla0JhckNoYXB0ZXJNYXJrZXJzQ29udGFpbmVyO1xyXG4gICAgICAgIHNlZWtCYXIuYXBwZW5kKHRoaXMuc2Vla0JhckJhY2tkcm9wLCB0aGlzLnNlZWtCYXJCdWZmZXJQb3NpdGlvbiwgdGhpcy5zZWVrQmFyU2Vla1Bvc2l0aW9uLCB0aGlzLnNlZWtCYXJQbGF5YmFja1Bvc2l0aW9uLCB0aGlzLnNlZWtCYXJNYXJrZXJzQ29udGFpbmVyLCB0aGlzLnNlZWtCYXJQbGF5YmFja1Bvc2l0aW9uTWFya2VyKTtcclxuICAgICAgICB2YXIgc2Vla2luZyA9IGZhbHNlO1xyXG4gICAgICAgIC8vIERlZmluZSBoYW5kbGVyIGZ1bmN0aW9ucyBzbyB3ZSBjYW4gYXR0YWNoL3JlbW92ZSB0aGVtIGxhdGVyXHJcbiAgICAgICAgdmFyIG1vdXNlVG91Y2hNb3ZlSGFuZGxlciA9IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgLy8gQXZvaWQgcHJvcGFnYXRpb24gdG8gVlIgaGFuZGxlclxyXG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICB2YXIgdGFyZ2V0UGVyY2VudGFnZSA9IDEwMCAqIF90aGlzLmdldE9mZnNldChlKTtcclxuICAgICAgICAgICAgX3RoaXMuc2V0U2Vla1Bvc2l0aW9uKHRhcmdldFBlcmNlbnRhZ2UpO1xyXG4gICAgICAgICAgICBfdGhpcy5zZXRQbGF5YmFja1Bvc2l0aW9uKHRhcmdldFBlcmNlbnRhZ2UpO1xyXG4gICAgICAgICAgICBfdGhpcy5vblNlZWtQcmV2aWV3RXZlbnQodGFyZ2V0UGVyY2VudGFnZSwgdHJ1ZSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB2YXIgbW91c2VUb3VjaFVwSGFuZGxlciA9IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgLy8gUmVtb3ZlIGhhbmRsZXJzLCBzZWVrIG9wZXJhdGlvbiBpcyBmaW5pc2hlZFxyXG4gICAgICAgICAgICBuZXcgZG9tXzEuRE9NKGRvY3VtZW50KS5vZmYoJ3RvdWNobW92ZSBtb3VzZW1vdmUnLCBtb3VzZVRvdWNoTW92ZUhhbmRsZXIpO1xyXG4gICAgICAgICAgICBuZXcgZG9tXzEuRE9NKGRvY3VtZW50KS5vZmYoJ3RvdWNoZW5kIG1vdXNldXAnLCBtb3VzZVRvdWNoVXBIYW5kbGVyKTtcclxuICAgICAgICAgICAgdmFyIHRhcmdldFBlcmNlbnRhZ2UgPSAxMDAgKiBfdGhpcy5nZXRPZmZzZXQoZSk7XHJcbiAgICAgICAgICAgIHZhciBzbmFwcGVkQ2hhcHRlciA9IF90aGlzLmdldE1hcmtlckF0UG9zaXRpb24odGFyZ2V0UGVyY2VudGFnZSk7XHJcbiAgICAgICAgICAgIF90aGlzLnNldFNlZWtpbmcoZmFsc2UpO1xyXG4gICAgICAgICAgICBzZWVraW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgIC8vIEZpcmUgc2Vla2VkIGV2ZW50XHJcbiAgICAgICAgICAgIF90aGlzLm9uU2Vla2VkRXZlbnQoc25hcHBlZENoYXB0ZXIgPyBzbmFwcGVkQ2hhcHRlci5wb3NpdGlvbiA6IHRhcmdldFBlcmNlbnRhZ2UpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgLy8gQSBzZWVrIGFsd2F5cyBzdGFydCB3aXRoIGEgdG91Y2hzdGFydCBvciBtb3VzZWRvd24gZGlyZWN0bHkgb24gdGhlIHNlZWtiYXIuXHJcbiAgICAgICAgLy8gVG8gdHJhY2sgYSBtb3VzZSBzZWVrIGFsc28gb3V0c2lkZSB0aGUgc2Vla2JhciAoZm9yIHRvdWNoIGV2ZW50cyB0aGlzIHdvcmtzIGF1dG9tYXRpY2FsbHkpLFxyXG4gICAgICAgIC8vIHNvIHRoZSB1c2VyIGRvZXMgbm90IG5lZWQgdG8gdGFrZSBjYXJlIHRoYXQgdGhlIG1vdXNlIGFsd2F5cyBzdGF5cyBvbiB0aGUgc2Vla2Jhciwgd2UgYXR0YWNoIHRoZSBtb3VzZW1vdmVcclxuICAgICAgICAvLyBhbmQgbW91c2V1cCBoYW5kbGVycyB0byB0aGUgd2hvbGUgZG9jdW1lbnQuIEEgc2VlayBpcyB0cmlnZ2VyZWQgd2hlbiB0aGUgdXNlciBsaWZ0cyB0aGUgbW91c2Uga2V5LlxyXG4gICAgICAgIC8vIEEgc2VlayBtb3VzZSBnZXN0dXJlIGlzIHRodXMgYmFzaWNhbGx5IGEgY2xpY2sgd2l0aCBhIGxvbmcgdGltZSBmcmFtZSBiZXR3ZWVuIGRvd24gYW5kIHVwIGV2ZW50cy5cclxuICAgICAgICBzZWVrQmFyLm9uKCd0b3VjaHN0YXJ0IG1vdXNlZG93bicsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIHZhciBpc1RvdWNoRXZlbnQgPSBfdGhpcy50b3VjaFN1cHBvcnRlZCAmJiBlIGluc3RhbmNlb2YgVG91Y2hFdmVudDtcclxuICAgICAgICAgICAgLy8gUHJldmVudCBzZWxlY3Rpb24gb2YgRE9NIGVsZW1lbnRzIChhbHNvIHByZXZlbnRzIG1vdXNlZG93biBpZiBjdXJyZW50IGV2ZW50IGlzIHRvdWNoc3RhcnQpXHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgLy8gQXZvaWQgcHJvcGFnYXRpb24gdG8gVlIgaGFuZGxlclxyXG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICBfdGhpcy5zZXRTZWVraW5nKHRydWUpOyAvLyBTZXQgc2Vla2luZyBjbGFzcyBvbiBET00gZWxlbWVudFxyXG4gICAgICAgICAgICBzZWVraW5nID0gdHJ1ZTsgLy8gU2V0IHNlZWsgdHJhY2tpbmcgZmxhZ1xyXG4gICAgICAgICAgICAvLyBGaXJlIHNlZWtlZCBldmVudFxyXG4gICAgICAgICAgICBfdGhpcy5vblNlZWtFdmVudCgpO1xyXG4gICAgICAgICAgICAvLyBBZGQgaGFuZGxlciB0byB0cmFjayB0aGUgc2VlayBvcGVyYXRpb24gb3ZlciB0aGUgd2hvbGUgZG9jdW1lbnRcclxuICAgICAgICAgICAgbmV3IGRvbV8xLkRPTShkb2N1bWVudCkub24oaXNUb3VjaEV2ZW50ID8gJ3RvdWNobW92ZScgOiAnbW91c2Vtb3ZlJywgbW91c2VUb3VjaE1vdmVIYW5kbGVyKTtcclxuICAgICAgICAgICAgbmV3IGRvbV8xLkRPTShkb2N1bWVudCkub24oaXNUb3VjaEV2ZW50ID8gJ3RvdWNoZW5kJyA6ICdtb3VzZXVwJywgbW91c2VUb3VjaFVwSGFuZGxlcik7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gRGlzcGxheSBzZWVrIHRhcmdldCBpbmRpY2F0b3Igd2hlbiBtb3VzZSBob3ZlcnMgb3IgZmluZ2VyIHNsaWRlcyBvdmVyIHNlZWtiYXJcclxuICAgICAgICBzZWVrQmFyLm9uKCd0b3VjaG1vdmUgbW91c2Vtb3ZlJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICBpZiAoc2Vla2luZykge1xyXG4gICAgICAgICAgICAgICAgLy8gRHVyaW5nIGEgc2VlayAod2hlbiBtb3VzZSBpcyBkb3duIG9yIHRvdWNoIG1vdmUgYWN0aXZlKSwgd2UgbmVlZCB0byBzdG9wIHByb3BhZ2F0aW9uIHRvIGF2b2lkXHJcbiAgICAgICAgICAgICAgICAvLyB0aGUgVlIgdmlld3BvcnQgcmVhY3RpbmcgdG8gdGhlIG1vdmVzLlxyXG4gICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgICAgIC8vIEJlY2F1c2UgdGhlIHN0b3BwZWQgcHJvcGFnYXRpb24gaW5oaWJpdHMgdGhlIGV2ZW50IG9uIHRoZSBkb2N1bWVudCwgd2UgbmVlZCB0byBjYWxsIGl0IGZyb20gaGVyZVxyXG4gICAgICAgICAgICAgICAgbW91c2VUb3VjaE1vdmVIYW5kbGVyKGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBwb3NpdGlvbiA9IDEwMCAqIF90aGlzLmdldE9mZnNldChlKTtcclxuICAgICAgICAgICAgX3RoaXMuc2V0U2Vla1Bvc2l0aW9uKHBvc2l0aW9uKTtcclxuICAgICAgICAgICAgX3RoaXMub25TZWVrUHJldmlld0V2ZW50KHBvc2l0aW9uLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIGlmIChfdGhpcy5oYXNMYWJlbCgpICYmIF90aGlzLmdldExhYmVsKCkuaXNIaWRkZW4oKSkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuZ2V0TGFiZWwoKS5zaG93KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBIaWRlIHNlZWsgdGFyZ2V0IGluZGljYXRvciB3aGVuIG1vdXNlIG9yIGZpbmdlciBsZWF2ZXMgc2Vla2JhclxyXG4gICAgICAgIHNlZWtCYXIub24oJ3RvdWNoZW5kIG1vdXNlbGVhdmUnLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIF90aGlzLnNldFNlZWtQb3NpdGlvbigwKTtcclxuICAgICAgICAgICAgaWYgKF90aGlzLmhhc0xhYmVsKCkpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLmdldExhYmVsKCkuaGlkZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgc2Vla0JhckNvbnRhaW5lci5hcHBlbmQoc2Vla0Jhcik7XHJcbiAgICAgICAgaWYgKHRoaXMubGFiZWwpIHtcclxuICAgICAgICAgICAgc2Vla0JhckNvbnRhaW5lci5hcHBlbmQodGhpcy5sYWJlbC5nZXREb21FbGVtZW50KCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gc2Vla0JhckNvbnRhaW5lcjtcclxuICAgIH07XHJcbiAgICBTZWVrQmFyLnByb3RvdHlwZS51cGRhdGVNYXJrZXJzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5zZWVrQmFyTWFya2Vyc0NvbnRhaW5lci5lbXB0eSgpO1xyXG4gICAgICAgIHZhciBzZWVrQmFyV2lkdGhQeCA9IHRoaXMuc2Vla0Jhci53aWR0aCgpO1xyXG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSB0aGlzLnRpbWVsaW5lTWFya2VyczsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgdmFyIG1hcmtlciA9IF9hW19pXTtcclxuICAgICAgICAgICAgdmFyIG1hcmtlckNsYXNzZXMgPSBbJ3NlZWtiYXItbWFya2VyJ10uY29uY2F0KG1hcmtlci5tYXJrZXIuY3NzQ2xhc3NlcyB8fCBbXSlcclxuICAgICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKGNzc0NsYXNzKSB7IHJldHVybiBfdGhpcy5wcmVmaXhDc3MoY3NzQ2xhc3MpOyB9KTtcclxuICAgICAgICAgICAgdmFyIGNzc1Byb3BlcnRpZXMgPSB7XHJcbiAgICAgICAgICAgICAgICAnd2lkdGgnOiBtYXJrZXIucG9zaXRpb24gKyAnJScsXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGlmIChtYXJrZXIuZHVyYXRpb24gPiAwKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbWFya2VyV2lkdGhQeCA9IE1hdGgucm91bmQoc2Vla0JhcldpZHRoUHggLyAxMDAgKiBtYXJrZXIuZHVyYXRpb24pO1xyXG4gICAgICAgICAgICAgICAgY3NzUHJvcGVydGllc1snYm9yZGVyLXJpZ2h0LXdpZHRoJ10gPSBtYXJrZXJXaWR0aFB4ICsgJ3B4JztcclxuICAgICAgICAgICAgICAgIGNzc1Byb3BlcnRpZXNbJ21hcmdpbi1sZWZ0J10gPSAnMCc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5zZWVrQmFyTWFya2Vyc0NvbnRhaW5lci5hcHBlbmQobmV3IGRvbV8xLkRPTSgnZGl2Jywge1xyXG4gICAgICAgICAgICAgICAgJ2NsYXNzJzogbWFya2VyQ2xhc3Nlcy5qb2luKCcgJyksXHJcbiAgICAgICAgICAgICAgICAnZGF0YS1tYXJrZXItdGltZSc6IFN0cmluZyhtYXJrZXIubWFya2VyLnRpbWUpLFxyXG4gICAgICAgICAgICAgICAgJ2RhdGEtbWFya2VyLXRpdGxlJzogU3RyaW5nKG1hcmtlci5tYXJrZXIudGl0bGUpLFxyXG4gICAgICAgICAgICB9KS5jc3MoY3NzUHJvcGVydGllcykpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBTZWVrQmFyLnByb3RvdHlwZS5nZXRNYXJrZXJBdFBvc2l0aW9uID0gZnVuY3Rpb24gKHBlcmNlbnRhZ2UpIHtcclxuICAgICAgICB2YXIgc25hcHBpbmdSYW5nZSA9IDE7XHJcbiAgICAgICAgaWYgKHRoaXMudGltZWxpbmVNYXJrZXJzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IHRoaXMudGltZWxpbmVNYXJrZXJzOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIG1hcmtlciA9IF9hW19pXTtcclxuICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBpbnRlcnZhbCBtYXJrZXJzXHJcbiAgICAgICAgICAgICAgICBpZiAobWFya2VyLmR1cmF0aW9uID4gMFxyXG4gICAgICAgICAgICAgICAgICAgICYmIHBlcmNlbnRhZ2UgPj0gbWFya2VyLnBvc2l0aW9uIC0gc25hcHBpbmdSYW5nZVxyXG4gICAgICAgICAgICAgICAgICAgICYmIHBlcmNlbnRhZ2UgPD0gbWFya2VyLnBvc2l0aW9uICsgbWFya2VyLmR1cmF0aW9uICsgc25hcHBpbmdSYW5nZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtYXJrZXI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBIYW5kbGUgcG9zaXRpb24gbWFya2Vyc1xyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAocGVyY2VudGFnZSA+PSBtYXJrZXIucG9zaXRpb24gLSBzbmFwcGluZ1JhbmdlXHJcbiAgICAgICAgICAgICAgICAgICAgJiYgcGVyY2VudGFnZSA8PSBtYXJrZXIucG9zaXRpb24gKyBzbmFwcGluZ1JhbmdlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1hcmtlcjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEdldHMgdGhlIGhvcml6b250YWwgb2Zmc2V0IG9mIGEgbW91c2UvdG91Y2ggZXZlbnQgcG9pbnQgZnJvbSB0aGUgbGVmdCBlZGdlIG9mIHRoZSBzZWVrIGJhci5cclxuICAgICAqIEBwYXJhbSBldmVudFBhZ2VYIHRoZSBwYWdlWCBjb29yZGluYXRlIG9mIGFuIGV2ZW50IHRvIGNhbGN1bGF0ZSB0aGUgb2Zmc2V0IGZyb21cclxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IGEgbnVtYmVyIGluIHRoZSByYW5nZSBvZiBbMCwgMV0sIHdoZXJlIDAgaXMgdGhlIGxlZnQgZWRnZSBhbmQgMSBpcyB0aGUgcmlnaHQgZWRnZVxyXG4gICAgICovXHJcbiAgICBTZWVrQmFyLnByb3RvdHlwZS5nZXRIb3Jpem9udGFsT2Zmc2V0ID0gZnVuY3Rpb24gKGV2ZW50UGFnZVgpIHtcclxuICAgICAgICB2YXIgZWxlbWVudE9mZnNldFB4ID0gdGhpcy5zZWVrQmFyLm9mZnNldCgpLmxlZnQ7XHJcbiAgICAgICAgdmFyIHdpZHRoUHggPSB0aGlzLnNlZWtCYXIud2lkdGgoKTtcclxuICAgICAgICB2YXIgb2Zmc2V0UHggPSBldmVudFBhZ2VYIC0gZWxlbWVudE9mZnNldFB4O1xyXG4gICAgICAgIHZhciBvZmZzZXQgPSAxIC8gd2lkdGhQeCAqIG9mZnNldFB4O1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNhbml0aXplT2Zmc2V0KG9mZnNldCk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIHRoZSB2ZXJ0aWNhbCBvZmZzZXQgb2YgYSBtb3VzZS90b3VjaCBldmVudCBwb2ludCBmcm9tIHRoZSBib3R0b20gZWRnZSBvZiB0aGUgc2VlayBiYXIuXHJcbiAgICAgKiBAcGFyYW0gZXZlbnRQYWdlWSB0aGUgcGFnZVggY29vcmRpbmF0ZSBvZiBhbiBldmVudCB0byBjYWxjdWxhdGUgdGhlIG9mZnNldCBmcm9tXHJcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBhIG51bWJlciBpbiB0aGUgcmFuZ2Ugb2YgWzAsIDFdLCB3aGVyZSAwIGlzIHRoZSBib3R0b20gZWRnZSBhbmQgMSBpcyB0aGUgdG9wIGVkZ2VcclxuICAgICAqL1xyXG4gICAgU2Vla0Jhci5wcm90b3R5cGUuZ2V0VmVydGljYWxPZmZzZXQgPSBmdW5jdGlvbiAoZXZlbnRQYWdlWSkge1xyXG4gICAgICAgIHZhciBlbGVtZW50T2Zmc2V0UHggPSB0aGlzLnNlZWtCYXIub2Zmc2V0KCkudG9wO1xyXG4gICAgICAgIHZhciB3aWR0aFB4ID0gdGhpcy5zZWVrQmFyLmhlaWdodCgpO1xyXG4gICAgICAgIHZhciBvZmZzZXRQeCA9IGV2ZW50UGFnZVkgLSBlbGVtZW50T2Zmc2V0UHg7XHJcbiAgICAgICAgdmFyIG9mZnNldCA9IDEgLyB3aWR0aFB4ICogb2Zmc2V0UHg7XHJcbiAgICAgICAgcmV0dXJuIDEgLSB0aGlzLnNhbml0aXplT2Zmc2V0KG9mZnNldCk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIHRoZSBtb3VzZSBvciB0b3VjaCBldmVudCBvZmZzZXQgZm9yIHRoZSBjdXJyZW50IGNvbmZpZ3VyYXRpb24gKGhvcml6b250YWwgb3IgdmVydGljYWwpLlxyXG4gICAgICogQHBhcmFtIGUgdGhlIGV2ZW50IHRvIGNhbGN1bGF0ZSB0aGUgb2Zmc2V0IGZyb21cclxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IGEgbnVtYmVyIGluIHRoZSByYW5nZSBvZiBbMCwgMV1cclxuICAgICAqIEBzZWUgI2dldEhvcml6b250YWxPZmZzZXRcclxuICAgICAqIEBzZWUgI2dldFZlcnRpY2FsT2Zmc2V0XHJcbiAgICAgKi9cclxuICAgIFNlZWtCYXIucHJvdG90eXBlLmdldE9mZnNldCA9IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgaWYgKHRoaXMudG91Y2hTdXBwb3J0ZWQgJiYgZSBpbnN0YW5jZW9mIFRvdWNoRXZlbnQpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuY29uZmlnLnZlcnRpY2FsKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRWZXJ0aWNhbE9mZnNldChlLnR5cGUgPT09ICd0b3VjaGVuZCcgPyBlLmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VZIDogZS50b3VjaGVzWzBdLnBhZ2VZKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldEhvcml6b250YWxPZmZzZXQoZS50eXBlID09PSAndG91Y2hlbmQnID8gZS5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWCA6IGUudG91Y2hlc1swXS5wYWdlWCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoZSBpbnN0YW5jZW9mIE1vdXNlRXZlbnQpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuY29uZmlnLnZlcnRpY2FsKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRWZXJ0aWNhbE9mZnNldChlLnBhZ2VZKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldEhvcml6b250YWxPZmZzZXQoZS5wYWdlWCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChjb25zb2xlKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ2ludmFsaWQgZXZlbnQnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBTYW5pdGl6ZXMgdGhlIG1vdXNlIG9mZnNldCB0byB0aGUgcmFuZ2Ugb2YgWzAsIDFdLlxyXG4gICAgICpcclxuICAgICAqIFdoZW4gdHJhY2tpbmcgdGhlIG1vdXNlIG91dHNpZGUgdGhlIHNlZWsgYmFyLCB0aGUgb2Zmc2V0IGNhbiBiZSBvdXRzaWRlIHRoZSBkZXNpcmVkIHJhbmdlIGFuZCB0aGlzIG1ldGhvZFxyXG4gICAgICogbGltaXRzIGl0IHRvIHRoZSBkZXNpcmVkIHJhbmdlLiBFLmcuIGEgbW91c2UgZXZlbnQgbGVmdCBvZiB0aGUgbGVmdCBlZGdlIG9mIGEgc2VlayBiYXIgeWllbGRzIGFuIG9mZnNldCBiZWxvd1xyXG4gICAgICogemVybywgYnV0IHRvIGRpc3BsYXkgdGhlIHNlZWsgdGFyZ2V0IG9uIHRoZSBzZWVrIGJhciwgd2UgbmVlZCB0byBsaW1pdCBpdCB0byB6ZXJvLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBvZmZzZXQgdGhlIG9mZnNldCB0byBzYW5pdGl6ZVxyXG4gICAgICogQHJldHVybnMge251bWJlcn0gdGhlIHNhbml0aXplZCBvZmZzZXQuXHJcbiAgICAgKi9cclxuICAgIFNlZWtCYXIucHJvdG90eXBlLnNhbml0aXplT2Zmc2V0ID0gZnVuY3Rpb24gKG9mZnNldCkge1xyXG4gICAgICAgIC8vIFNpbmNlIHdlIHRyYWNrIG1vdXNlIG1vdmVzIG92ZXIgdGhlIHdob2xlIGRvY3VtZW50LCB0aGUgdGFyZ2V0IGNhbiBiZSBvdXRzaWRlIHRoZSBzZWVrIHJhbmdlLFxyXG4gICAgICAgIC8vIGFuZCB3ZSBuZWVkIHRvIGxpbWl0IGl0IHRvIHRoZSBbMCwgMV0gcmFuZ2UuXHJcbiAgICAgICAgaWYgKG9mZnNldCA8IDApIHtcclxuICAgICAgICAgICAgb2Zmc2V0ID0gMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAob2Zmc2V0ID4gMSkge1xyXG4gICAgICAgICAgICBvZmZzZXQgPSAxO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gb2Zmc2V0O1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogU2V0cyB0aGUgcG9zaXRpb24gb2YgdGhlIHBsYXliYWNrIHBvc2l0aW9uIGluZGljYXRvci5cclxuICAgICAqIEBwYXJhbSBwZXJjZW50IGEgbnVtYmVyIGJldHdlZW4gMCBhbmQgMTAwIGFzIHJldHVybmVkIGJ5IHRoZSBwbGF5ZXJcclxuICAgICAqL1xyXG4gICAgU2Vla0Jhci5wcm90b3R5cGUuc2V0UGxheWJhY2tQb3NpdGlvbiA9IGZ1bmN0aW9uIChwZXJjZW50KSB7XHJcbiAgICAgICAgdGhpcy5wbGF5YmFja1Bvc2l0aW9uUGVyY2VudGFnZSA9IHBlcmNlbnQ7XHJcbiAgICAgICAgLy8gU2V0IHBvc2l0aW9uIG9mIHRoZSBiYXJcclxuICAgICAgICB0aGlzLnNldFBvc2l0aW9uKHRoaXMuc2Vla0JhclBsYXliYWNrUG9zaXRpb24sIHBlcmNlbnQpO1xyXG4gICAgICAgIC8vIFNldCBwb3NpdGlvbiBvZiB0aGUgbWFya2VyXHJcbiAgICAgICAgdmFyIHRvdGFsU2l6ZSA9ICh0aGlzLmNvbmZpZy52ZXJ0aWNhbCA/ICh0aGlzLnNlZWtCYXIuaGVpZ2h0KCkgLSB0aGlzLnNlZWtCYXJQbGF5YmFja1Bvc2l0aW9uTWFya2VyLmhlaWdodCgpKSA6IHRoaXMuc2Vla0Jhci53aWR0aCgpKTtcclxuICAgICAgICB2YXIgcHggPSAodG90YWxTaXplKSAvIDEwMCAqIHBlcmNlbnQ7XHJcbiAgICAgICAgaWYgKHRoaXMuY29uZmlnLnZlcnRpY2FsKSB7XHJcbiAgICAgICAgICAgIHB4ID0gdGhpcy5zZWVrQmFyLmhlaWdodCgpIC0gcHggLSB0aGlzLnNlZWtCYXJQbGF5YmFja1Bvc2l0aW9uTWFya2VyLmhlaWdodCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgc3R5bGUgPSB0aGlzLmNvbmZpZy52ZXJ0aWNhbCA/XHJcbiAgICAgICAgICAgIC8vIC1tcy10cmFuc2Zvcm0gcmVxdWlyZWQgZm9yIElFOVxyXG4gICAgICAgICAgICAvLyAtd2Via2l0LXRyYW5zZm9ybSByZXF1aXJlZCBmb3IgQW5kcm9pZCA0LjQgV2ViVmlld1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAndHJhbnNmb3JtJzogJ3RyYW5zbGF0ZVkoJyArIHB4ICsgJ3B4KScsXHJcbiAgICAgICAgICAgICAgICAnLW1zLXRyYW5zZm9ybSc6ICd0cmFuc2xhdGVZKCcgKyBweCArICdweCknLFxyXG4gICAgICAgICAgICAgICAgJy13ZWJraXQtdHJhbnNmb3JtJzogJ3RyYW5zbGF0ZVkoJyArIHB4ICsgJ3B4KScsXHJcbiAgICAgICAgICAgIH0gOlxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAndHJhbnNmb3JtJzogJ3RyYW5zbGF0ZVgoJyArIHB4ICsgJ3B4KScsXHJcbiAgICAgICAgICAgICAgICAnLW1zLXRyYW5zZm9ybSc6ICd0cmFuc2xhdGVYKCcgKyBweCArICdweCknLFxyXG4gICAgICAgICAgICAgICAgJy13ZWJraXQtdHJhbnNmb3JtJzogJ3RyYW5zbGF0ZVgoJyArIHB4ICsgJ3B4KScsXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5zZWVrQmFyUGxheWJhY2tQb3NpdGlvbk1hcmtlci5jc3Moc3R5bGUpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUmVmcmVzaGVzIHRoZSBwbGF5YmFjayBwb3NpdGlvbi4gQ2FuIGJlIHVzZWQgYnkgc3ViY2xhc3NlcyB0byByZWZyZXNoIHRoZSBwb3NpdGlvbiB3aGVuXHJcbiAgICAgKiB0aGUgc2l6ZSBvZiB0aGUgY29tcG9uZW50IGNoYW5nZXMuXHJcbiAgICAgKi9cclxuICAgIFNlZWtCYXIucHJvdG90eXBlLnJlZnJlc2hQbGF5YmFja1Bvc2l0aW9uID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuc2V0UGxheWJhY2tQb3NpdGlvbih0aGlzLnBsYXliYWNrUG9zaXRpb25QZXJjZW50YWdlKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFNldHMgdGhlIHBvc2l0aW9uIHVudGlsIHdoaWNoIG1lZGlhIGlzIGJ1ZmZlcmVkLlxyXG4gICAgICogQHBhcmFtIHBlcmNlbnQgYSBudW1iZXIgYmV0d2VlbiAwIGFuZCAxMDBcclxuICAgICAqL1xyXG4gICAgU2Vla0Jhci5wcm90b3R5cGUuc2V0QnVmZmVyUG9zaXRpb24gPSBmdW5jdGlvbiAocGVyY2VudCkge1xyXG4gICAgICAgIHRoaXMuc2V0UG9zaXRpb24odGhpcy5zZWVrQmFyQnVmZmVyUG9zaXRpb24sIHBlcmNlbnQpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogU2V0cyB0aGUgcG9zaXRpb24gd2hlcmUgYSBzZWVrLCBpZiBleGVjdXRlZCwgd291bGQganVtcCB0by5cclxuICAgICAqIEBwYXJhbSBwZXJjZW50IGEgbnVtYmVyIGJldHdlZW4gMCBhbmQgMTAwXHJcbiAgICAgKi9cclxuICAgIFNlZWtCYXIucHJvdG90eXBlLnNldFNlZWtQb3NpdGlvbiA9IGZ1bmN0aW9uIChwZXJjZW50KSB7XHJcbiAgICAgICAgdGhpcy5zZXRQb3NpdGlvbih0aGlzLnNlZWtCYXJTZWVrUG9zaXRpb24sIHBlcmNlbnQpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogU2V0IHRoZSBhY3R1YWwgcG9zaXRpb24gKHdpZHRoIG9yIGhlaWdodCkgb2YgYSBET00gZWxlbWVudCB0aGF0IHJlcHJlc2VudCBhIGJhciBpbiB0aGUgc2VlayBiYXIuXHJcbiAgICAgKiBAcGFyYW0gZWxlbWVudCB0aGUgZWxlbWVudCB0byBzZXQgdGhlIHBvc2l0aW9uIGZvclxyXG4gICAgICogQHBhcmFtIHBlcmNlbnQgYSBudW1iZXIgYmV0d2VlbiAwIGFuZCAxMDBcclxuICAgICAqL1xyXG4gICAgU2Vla0Jhci5wcm90b3R5cGUuc2V0UG9zaXRpb24gPSBmdW5jdGlvbiAoZWxlbWVudCwgcGVyY2VudCkge1xyXG4gICAgICAgIHZhciBzY2FsZSA9IHBlcmNlbnQgLyAxMDA7XHJcbiAgICAgICAgLy8gV2hlbiB0aGUgc2NhbGUgaXMgZXhhY3RseSAxIG9yIHZlcnkgbmVhciAxIChhbmQgdGhlIGJyb3dzZXIgaW50ZXJuYWxseSByb3VuZHMgaXQgdG8gMSksIGJyb3dzZXJzIHNlZW0gdG8gcmVuZGVyXHJcbiAgICAgICAgLy8gdGhlIGVsZW1lbnRzIGRpZmZlcmVudGx5IGFuZCB0aGUgaGVpZ2h0IGdldHMgc2xpZ2h0bHkgb2ZmLCBsZWFkaW5nIHRvIG1pc21hdGNoaW5nIGhlaWdodHMgd2hlbiBlLmcuIHRoZSBidWZmZXJcclxuICAgICAgICAvLyBsZXZlbCBiYXIgaGFzIGEgd2lkdGggb2YgMSBhbmQgdGhlIHBsYXliYWNrIHBvc2l0aW9uIGJhciBoYXMgYSB3aWR0aCA8IDEuIEEgaml0dGVyaW5nIGJ1ZmZlciBsZXZlbCBhcm91bmQgMVxyXG4gICAgICAgIC8vIGxlYWRzIHRvIGFuIGV2ZW4gd29yc2UgZmxpY2tlcmluZyBlZmZlY3QuXHJcbiAgICAgICAgLy8gVmFyaW91cyBjaGFuZ2VzIGluIENTUyBzdHlsaW5nIGFuZCBET00gaGllcmFyY2h5IGRpZCBub3Qgc29sdmUgdGhlIGlzc3VlIHNvIHRoZSB3b3JrYXJvdW5kIGlzIHRvIGF2b2lkIGEgc2NhbGVcclxuICAgICAgICAvLyBvZiBleGFjdGx5IDEuXHJcbiAgICAgICAgaWYgKHNjYWxlID49IDAuOTk5OTkgJiYgc2NhbGUgPD0gMS4wMDAwMSkge1xyXG4gICAgICAgICAgICBzY2FsZSA9IDAuOTk5OTk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBzdHlsZSA9IHRoaXMuY29uZmlnLnZlcnRpY2FsID9cclxuICAgICAgICAgICAgLy8gLW1zLXRyYW5zZm9ybSByZXF1aXJlZCBmb3IgSUU5XHJcbiAgICAgICAgICAgIC8vIC13ZWJraXQtdHJhbnNmb3JtIHJlcXVpcmVkIGZvciBBbmRyb2lkIDQuNCBXZWJWaWV3XHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICd0cmFuc2Zvcm0nOiAnc2NhbGVZKCcgKyBzY2FsZSArICcpJyxcclxuICAgICAgICAgICAgICAgICctbXMtdHJhbnNmb3JtJzogJ3NjYWxlWSgnICsgc2NhbGUgKyAnKScsXHJcbiAgICAgICAgICAgICAgICAnLXdlYmtpdC10cmFuc2Zvcm0nOiAnc2NhbGVZKCcgKyBzY2FsZSArICcpJyxcclxuICAgICAgICAgICAgfSA6XHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICd0cmFuc2Zvcm0nOiAnc2NhbGVYKCcgKyBzY2FsZSArICcpJyxcclxuICAgICAgICAgICAgICAgICctbXMtdHJhbnNmb3JtJzogJ3NjYWxlWCgnICsgc2NhbGUgKyAnKScsXHJcbiAgICAgICAgICAgICAgICAnLXdlYmtpdC10cmFuc2Zvcm0nOiAnc2NhbGVYKCcgKyBzY2FsZSArICcpJyxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICBlbGVtZW50LmNzcyhzdHlsZSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBQdXRzIHRoZSBzZWVrIGJhciBpbnRvIG9yIG91dCBvZiBzZWVraW5nIHN0YXRlIGJ5IGFkZGluZy9yZW1vdmluZyBhIGNsYXNzIHRvIHRoZSBET00gZWxlbWVudC4gVGhpcyBjYW4gYmUgdXNlZFxyXG4gICAgICogdG8gYWRqdXN0IHRoZSBzdHlsaW5nIHdoaWxlIHNlZWtpbmcuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHNlZWtpbmcgc2hvdWxkIGJlIHRydWUgd2hlbiBlbnRlcmluZyBzZWVrIHN0YXRlLCBmYWxzZSB3aGVuIGV4aXRpbmcgdGhlIHNlZWsgc3RhdGVcclxuICAgICAqL1xyXG4gICAgU2Vla0Jhci5wcm90b3R5cGUuc2V0U2Vla2luZyA9IGZ1bmN0aW9uIChzZWVraW5nKSB7XHJcbiAgICAgICAgaWYgKHNlZWtpbmcpIHtcclxuICAgICAgICAgICAgdGhpcy5nZXREb21FbGVtZW50KCkuYWRkQ2xhc3ModGhpcy5wcmVmaXhDc3MoU2Vla0Jhci5DTEFTU19TRUVLSU5HKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmdldERvbUVsZW1lbnQoKS5yZW1vdmVDbGFzcyh0aGlzLnByZWZpeENzcyhTZWVrQmFyLkNMQVNTX1NFRUtJTkcpKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVja3MgaWYgdGhlIHNlZWsgYmFyIGlzIGN1cnJlbnRseSBpbiB0aGUgc2VlayBzdGF0ZS5cclxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlmIGluIHNlZWsgc3RhdGUsIGVsc2UgZmFsc2VcclxuICAgICAqL1xyXG4gICAgU2Vla0Jhci5wcm90b3R5cGUuaXNTZWVraW5nID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldERvbUVsZW1lbnQoKS5oYXNDbGFzcyh0aGlzLnByZWZpeENzcyhTZWVrQmFyLkNMQVNTX1NFRUtJTkcpKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIENoZWNrcyBpZiB0aGUgc2VlayBiYXIgaGFzIGEge0BsaW5rIFNlZWtCYXJMYWJlbH0uXHJcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpZiB0aGUgc2VlayBiYXIgaGFzIGEgbGFiZWwsIGVsc2UgZmFsc2VcclxuICAgICAqL1xyXG4gICAgU2Vla0Jhci5wcm90b3R5cGUuaGFzTGFiZWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubGFiZWwgIT0gbnVsbDtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEdldHMgdGhlIGxhYmVsIG9mIHRoaXMgc2VlayBiYXIuXHJcbiAgICAgKiBAcmV0dXJucyB7U2Vla0JhckxhYmVsfSB0aGUgbGFiZWwgaWYgdGhpcyBzZWVrIGJhciBoYXMgYSBsYWJlbCwgZWxzZSBudWxsXHJcbiAgICAgKi9cclxuICAgIFNlZWtCYXIucHJvdG90eXBlLmdldExhYmVsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmxhYmVsO1xyXG4gICAgfTtcclxuICAgIFNlZWtCYXIucHJvdG90eXBlLm9uU2Vla0V2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuc2Vla0JhckV2ZW50cy5vblNlZWsuZGlzcGF0Y2godGhpcyk7XHJcbiAgICB9O1xyXG4gICAgU2Vla0Jhci5wcm90b3R5cGUub25TZWVrUHJldmlld0V2ZW50ID0gZnVuY3Rpb24gKHBlcmNlbnRhZ2UsIHNjcnViYmluZykge1xyXG4gICAgICAgIHZhciBzbmFwcGVkTWFya2VyID0gdGhpcy5nZXRNYXJrZXJBdFBvc2l0aW9uKHBlcmNlbnRhZ2UpO1xyXG4gICAgICAgIHZhciBzZWVrUG9zaXRpb25QZXJjZW50YWdlID0gcGVyY2VudGFnZTtcclxuICAgICAgICBpZiAoc25hcHBlZE1hcmtlcikge1xyXG4gICAgICAgICAgICBpZiAoc25hcHBlZE1hcmtlci5kdXJhdGlvbiA+IDApIHtcclxuICAgICAgICAgICAgICAgIGlmIChwZXJjZW50YWdlIDwgc25hcHBlZE1hcmtlci5wb3NpdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFNuYXAgdGhlIHBvc2l0aW9uIHRvIHRoZSBzdGFydCBvZiB0aGUgaW50ZXJ2YWwgaWYgdGhlIHNlZWsgaXMgd2l0aGluIHRoZSBsZWZ0IHNuYXAgbWFyZ2luXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gV2Uga25vdyB0aGF0IHdlIGFyZSB3aXRoaW4gYSBzbmFwIG1hcmdpbiB3aGVuIHdlIGFyZSBvdXRzaWRlIHRoZSBtYXJrZXIgaW50ZXJ2YWwgYnV0IHN0aWxsXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gaGF2ZSBhIHNuYXBwZWRNYXJrZXJcclxuICAgICAgICAgICAgICAgICAgICBzZWVrUG9zaXRpb25QZXJjZW50YWdlID0gc25hcHBlZE1hcmtlci5wb3NpdGlvbjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHBlcmNlbnRhZ2UgPiBzbmFwcGVkTWFya2VyLnBvc2l0aW9uICsgc25hcHBlZE1hcmtlci5kdXJhdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFNuYXAgdGhlIHBvc2l0aW9uIHRvIHRoZSBlbmQgb2YgdGhlIGludGVydmFsIGlmIHRoZSBzZWVrIGlzIHdpdGhpbiB0aGUgcmlnaHQgc25hcCBtYXJnaW5cclxuICAgICAgICAgICAgICAgICAgICBzZWVrUG9zaXRpb25QZXJjZW50YWdlID0gc25hcHBlZE1hcmtlci5wb3NpdGlvbiArIHNuYXBwZWRNYXJrZXIuZHVyYXRpb247XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBQb3NpdGlvbiBtYXJrZXJzIGFsd2F5cyBzbmFwIHRvIHRoZWlyIG1hcmtlciBwb3NpdGlvblxyXG4gICAgICAgICAgICAgICAgc2Vla1Bvc2l0aW9uUGVyY2VudGFnZSA9IHNuYXBwZWRNYXJrZXIucG9zaXRpb247XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMubGFiZWwpIHtcclxuICAgICAgICAgICAgdGhpcy5sYWJlbC5nZXREb21FbGVtZW50KCkuY3NzKHtcclxuICAgICAgICAgICAgICAgICdsZWZ0Jzogc2Vla1Bvc2l0aW9uUGVyY2VudGFnZSArICclJyxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc2Vla0JhckV2ZW50cy5vblNlZWtQcmV2aWV3LmRpc3BhdGNoKHRoaXMsIHtcclxuICAgICAgICAgICAgc2NydWJiaW5nOiBzY3J1YmJpbmcsXHJcbiAgICAgICAgICAgIHBvc2l0aW9uOiBzZWVrUG9zaXRpb25QZXJjZW50YWdlLFxyXG4gICAgICAgICAgICBtYXJrZXI6IHNuYXBwZWRNYXJrZXIsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgU2Vla0Jhci5wcm90b3R5cGUub25TZWVrZWRFdmVudCA9IGZ1bmN0aW9uIChwZXJjZW50YWdlKSB7XHJcbiAgICAgICAgdGhpcy5zZWVrQmFyRXZlbnRzLm9uU2Vla2VkLmRpc3BhdGNoKHRoaXMsIHBlcmNlbnRhZ2UpO1xyXG4gICAgfTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTZWVrQmFyLnByb3RvdHlwZSwgXCJvblNlZWtcIiwge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEdldHMgdGhlIGV2ZW50IHRoYXQgaXMgZmlyZWQgd2hlbiBhIHNjcnViYmluZyBzZWVrIG9wZXJhdGlvbiBpcyBzdGFydGVkLlxyXG4gICAgICAgICAqIEByZXR1cm5zIHtFdmVudDxTZWVrQmFyLCBOb0FyZ3M+fVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zZWVrQmFyRXZlbnRzLm9uU2Vlay5nZXRFdmVudCgpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNlZWtCYXIucHJvdG90eXBlLCBcIm9uU2Vla1ByZXZpZXdcIiwge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEdldHMgdGhlIGV2ZW50IHRoYXQgaXMgZmlyZWQgZHVyaW5nIGEgc2NydWJiaW5nIHNlZWsgKHRvIGluZGljYXRlIHRoYXQgdGhlIHNlZWsgcHJldmlldywgaS5lLiB0aGUgdmlkZW8gZnJhbWUsXHJcbiAgICAgICAgICogc2hvdWxkIGJlIHVwZGF0ZWQpLCBvciBkdXJpbmcgYSBub3JtYWwgc2VlayBwcmV2aWV3IHdoZW4gdGhlIHNlZWsgYmFyIGlzIGhvdmVyZWQgKGFuZCB0aGUgc2VlayB0YXJnZXQsXHJcbiAgICAgICAgICogaS5lLiB0aGUgc2VlayBiYXIgbGFiZWwsIHNob3VsZCBiZSB1cGRhdGVkKS5cclxuICAgICAgICAgKiBAcmV0dXJucyB7RXZlbnQ8U2Vla0JhciwgU2Vla1ByZXZpZXdFdmVudEFyZ3M+fVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zZWVrQmFyRXZlbnRzLm9uU2Vla1ByZXZpZXcuZ2V0RXZlbnQoKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTZWVrQmFyLnByb3RvdHlwZSwgXCJvblNlZWtlZFwiLCB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogR2V0cyB0aGUgZXZlbnQgdGhhdCBpcyBmaXJlZCB3aGVuIGEgc2NydWJiaW5nIHNlZWsgaGFzIGZpbmlzaGVkIG9yIHdoZW4gYSBkaXJlY3Qgc2VlayBpcyBpc3N1ZWQuXHJcbiAgICAgICAgICogQHJldHVybnMge0V2ZW50PFNlZWtCYXIsIG51bWJlcj59XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNlZWtCYXJFdmVudHMub25TZWVrZWQuZ2V0RXZlbnQoKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIFNlZWtCYXIucHJvdG90eXBlLm9uU2hvd0V2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUub25TaG93RXZlbnQuY2FsbCh0aGlzKTtcclxuICAgICAgICAvLyBSZWZyZXNoIHRoZSBwb3NpdGlvbiBvZiB0aGUgcGxheWJhY2sgcG9zaXRpb24gd2hlbiB0aGUgc2VlayBiYXIgYmVjb21lcyB2aXNpYmxlLiBUbyBjb3JyZWN0bHkgc2V0IHRoZSBwb3NpdGlvbixcclxuICAgICAgICAvLyB0aGUgRE9NIGVsZW1lbnQgbXVzdCBiZSBmdWxseSBpbml0aWFsaXplZCBhbiBoYXZlIGl0cyBzaXplIGNhbGN1bGF0ZWQsIGJlY2F1c2UgdGhlIHBvc2l0aW9uIGlzIHNldCBhcyBhbiBhYnNvbHV0ZVxyXG4gICAgICAgIC8vIHZhbHVlIGNhbGN1bGF0ZWQgZnJvbSB0aGUgc2l6ZS4gVGhpcyByZXF1aXJlZCBzaXplIGlzIG5vdCBrbm93biB3aGVuIGl0IGlzIGhpZGRlbi5cclxuICAgICAgICAvLyBGb3Igc3VjaCBjYXNlcywgd2UgcmVmcmVzaCB0aGUgcG9zaXRpb24gaGVyZSBpbiBvblNob3cgYmVjYXVzZSBoZXJlIGl0IGlzIGd1YXJhbnRlZWQgdGhhdCB0aGUgY29tcG9uZW50IGtub3dzXHJcbiAgICAgICAgLy8gaXRzIHNpemUgYW5kIGNhbiBzZXQgdGhlIHBvc2l0aW9uIGNvcnJlY3RseS5cclxuICAgICAgICB0aGlzLnJlZnJlc2hQbGF5YmFja1Bvc2l0aW9uKCk7XHJcbiAgICB9O1xyXG4gICAgU2Vla0Jhci5TTU9PVEhfUExBWUJBQ0tfUE9TSVRJT05fVVBEQVRFX0RJU0FCTEVEID0gLTE7XHJcbiAgICAvKipcclxuICAgICAqIFRoZSBDU1MgY2xhc3MgdGhhdCBpcyBhZGRlZCB0byB0aGUgRE9NIGVsZW1lbnQgd2hpbGUgdGhlIHNlZWsgYmFyIGlzIGluICdzZWVraW5nJyBzdGF0ZS5cclxuICAgICAqL1xyXG4gICAgU2Vla0Jhci5DTEFTU19TRUVLSU5HID0gJ3NlZWtpbmcnO1xyXG4gICAgcmV0dXJuIFNlZWtCYXI7XHJcbn0oY29tcG9uZW50XzEuQ29tcG9uZW50KSk7XHJcbmV4cG9ydHMuU2Vla0JhciA9IFNlZWtCYXI7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9zZWVrYmFyLnRzXG4vLyBtb2R1bGUgaWQgPSAxN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgY29udGFpbmVyXzEgPSByZXF1aXJlKFwiLi9jb250YWluZXJcIik7XHJcbnZhciB1aXV0aWxzXzEgPSByZXF1aXJlKFwiLi4vdWl1dGlsc1wiKTtcclxudmFyIHNwYWNlcl8xID0gcmVxdWlyZShcIi4vc3BhY2VyXCIpO1xyXG4vKipcclxuICogQSBjb250YWluZXIgZm9yIG1haW4gcGxheWVyIGNvbnRyb2wgY29tcG9uZW50cywgZS5nLiBwbGF5IHRvZ2dsZSBidXR0b24sIHNlZWsgYmFyLCB2b2x1bWUgY29udHJvbCwgZnVsbHNjcmVlbiB0b2dnbGVcclxuICogYnV0dG9uLlxyXG4gKi9cclxudmFyIENvbnRyb2xCYXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoQ29udHJvbEJhciwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIENvbnRyb2xCYXIoY29uZmlnKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgY29uZmlnKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLmNvbmZpZyA9IF90aGlzLm1lcmdlQ29uZmlnKGNvbmZpZywge1xyXG4gICAgICAgICAgICBjc3NDbGFzczogJ3VpLWNvbnRyb2xiYXInLFxyXG4gICAgICAgICAgICBoaWRkZW46IHRydWUsXHJcbiAgICAgICAgfSwgX3RoaXMuY29uZmlnKTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBDb250cm9sQmFyLnByb3RvdHlwZS5jb25maWd1cmUgPSBmdW5jdGlvbiAocGxheWVyLCB1aW1hbmFnZXIpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuY29uZmlndXJlLmNhbGwodGhpcywgcGxheWVyLCB1aW1hbmFnZXIpO1xyXG4gICAgICAgIC8vIENvdW50cyBob3cgbWFueSBjb21wb25lbnRzIGFyZSBob3ZlcmVkIGFuZCBibG9jayBoaWRpbmcgb2YgdGhlIGNvbnRyb2wgYmFyXHJcbiAgICAgICAgdmFyIGhvdmVyU3RhY2tDb3VudCA9IDA7XHJcbiAgICAgICAgLy8gVHJhY2sgaG92ZXIgc3RhdHVzIG9mIGNoaWxkIGNvbXBvbmVudHNcclxuICAgICAgICB1aXV0aWxzXzEuVUlVdGlscy50cmF2ZXJzZVRyZWUodGhpcywgZnVuY3Rpb24gKGNvbXBvbmVudCkge1xyXG4gICAgICAgICAgICAvLyBEbyBub3QgdHJhY2sgaG92ZXIgc3RhdHVzIG9mIGNoaWxkIGNvbnRhaW5lcnMgb3Igc3BhY2Vycywgb25seSBvZiAncmVhbCcgY29udHJvbHNcclxuICAgICAgICAgICAgaWYgKGNvbXBvbmVudCBpbnN0YW5jZW9mIGNvbnRhaW5lcl8xLkNvbnRhaW5lciB8fCBjb21wb25lbnQgaW5zdGFuY2VvZiBzcGFjZXJfMS5TcGFjZXIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBTdWJzY3JpYmUgaG92ZXIgZXZlbnQgYW5kIGtlZXAgYSBjb3VudCBvZiB0aGUgbnVtYmVyIG9mIGhvdmVyZWQgY2hpbGRyZW5cclxuICAgICAgICAgICAgY29tcG9uZW50Lm9uSG92ZXJDaGFuZ2VkLnN1YnNjcmliZShmdW5jdGlvbiAoc2VuZGVyLCBhcmdzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYXJncy5ob3ZlcmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaG92ZXJTdGFja0NvdW50Kys7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBob3ZlclN0YWNrQ291bnQtLTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdWltYW5hZ2VyLm9uQ29udHJvbHNTaG93LnN1YnNjcmliZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIF90aGlzLnNob3coKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB1aW1hbmFnZXIub25QcmV2aWV3Q29udHJvbHNIaWRlLnN1YnNjcmliZShmdW5jdGlvbiAoc2VuZGVyLCBhcmdzKSB7XHJcbiAgICAgICAgICAgIC8vIENhbmNlbCB0aGUgaGlkZSBldmVudCBpZiBob3ZlcmVkIGNoaWxkIGNvbXBvbmVudHMgYmxvY2sgaGlkaW5nXHJcbiAgICAgICAgICAgIGFyZ3MuY2FuY2VsID0gKGhvdmVyU3RhY2tDb3VudCA+IDApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHVpbWFuYWdlci5vbkNvbnRyb2xzSGlkZS5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBfdGhpcy5oaWRlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIENvbnRyb2xCYXI7XHJcbn0oY29udGFpbmVyXzEuQ29udGFpbmVyKSk7XHJcbmV4cG9ydHMuQ29udHJvbEJhciA9IENvbnRyb2xCYXI7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9jb250cm9sYmFyLnRzXG4vLyBtb2R1bGUgaWQgPSAxOFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgY29udGFpbmVyXzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL2NvbnRhaW5lclwiKTtcclxudmFyIFVJVXRpbHM7XHJcbihmdW5jdGlvbiAoVUlVdGlscykge1xyXG4gICAgZnVuY3Rpb24gdHJhdmVyc2VUcmVlKGNvbXBvbmVudCwgdmlzaXQpIHtcclxuICAgICAgICB2YXIgcmVjdXJzaXZlVHJlZVdhbGtlciA9IGZ1bmN0aW9uIChjb21wb25lbnQsIHBhcmVudCkge1xyXG4gICAgICAgICAgICB2aXNpdChjb21wb25lbnQsIHBhcmVudCk7XHJcbiAgICAgICAgICAgIC8vIElmIHRoZSBjdXJyZW50IGNvbXBvbmVudCBpcyBhIGNvbnRhaW5lciwgdmlzaXQgaXQncyBjaGlsZHJlblxyXG4gICAgICAgICAgICBpZiAoY29tcG9uZW50IGluc3RhbmNlb2YgY29udGFpbmVyXzEuQ29udGFpbmVyKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gY29tcG9uZW50LmdldENvbXBvbmVudHMoKTsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY2hpbGRDb21wb25lbnQgPSBfYVtfaV07XHJcbiAgICAgICAgICAgICAgICAgICAgcmVjdXJzaXZlVHJlZVdhbGtlcihjaGlsZENvbXBvbmVudCwgY29tcG9uZW50KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgLy8gV2FsayBhbmQgY29uZmlndXJlIHRoZSBjb21wb25lbnQgdHJlZVxyXG4gICAgICAgIHJlY3Vyc2l2ZVRyZWVXYWxrZXIoY29tcG9uZW50KTtcclxuICAgIH1cclxuICAgIFVJVXRpbHMudHJhdmVyc2VUcmVlID0gdHJhdmVyc2VUcmVlO1xyXG59KShVSVV0aWxzID0gZXhwb3J0cy5VSVV0aWxzIHx8IChleHBvcnRzLlVJVXRpbHMgPSB7fSkpO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL3VpdXRpbHMudHNcbi8vIG1vZHVsZSBpZCA9IDE5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBjb21wb25lbnRfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudFwiKTtcclxuLyoqXHJcbiAqIEEgZHVtbXkgY29tcG9uZW50IHRoYXQganVzdCByZXNlcnZlcyBzb21lIHNwYWNlIGFuZCBkb2VzIG5vdGhpbmcgZWxzZS5cclxuICovXHJcbnZhciBTcGFjZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoU3BhY2VyLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gU3BhY2VyKGNvbmZpZykge1xyXG4gICAgICAgIGlmIChjb25maWcgPT09IHZvaWQgMCkgeyBjb25maWcgPSB7fTsgfVxyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGNvbmZpZykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5jb25maWcgPSBfdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIHtcclxuICAgICAgICAgICAgY3NzQ2xhc3M6ICd1aS1zcGFjZXInLFxyXG4gICAgICAgIH0sIF90aGlzLmNvbmZpZyk7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgU3BhY2VyLnByb3RvdHlwZS5vblNob3dFdmVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyBkaXNhYmxlIGV2ZW50IGZpcmluZyBieSBvdmVyd3JpdGluZyBhbmQgbm90IGNhbGxpbmcgc3VwZXJcclxuICAgIH07XHJcbiAgICBTcGFjZXIucHJvdG90eXBlLm9uSGlkZUV2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vIGRpc2FibGUgZXZlbnQgZmlyaW5nIGJ5IG92ZXJ3cml0aW5nIGFuZCBub3QgY2FsbGluZyBzdXBlclxyXG4gICAgfTtcclxuICAgIFNwYWNlci5wcm90b3R5cGUub25Ib3ZlckNoYW5nZWRFdmVudCA9IGZ1bmN0aW9uIChob3ZlcmVkKSB7XHJcbiAgICAgICAgLy8gZGlzYWJsZSBldmVudCBmaXJpbmcgYnkgb3ZlcndyaXRpbmcgYW5kIG5vdCBjYWxsaW5nIHN1cGVyXHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFNwYWNlcjtcclxufShjb21wb25lbnRfMS5Db21wb25lbnQpKTtcclxuZXhwb3J0cy5TcGFjZXIgPSBTcGFjZXI7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9zcGFjZXIudHNcbi8vIG1vZHVsZSBpZCA9IDIwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBjb250YWluZXJfMSA9IHJlcXVpcmUoXCIuL2NvbnRhaW5lclwiKTtcclxudmFyIGNvbXBvbmVudF8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50XCIpO1xyXG52YXIgc2VsZWN0Ym94XzEgPSByZXF1aXJlKFwiLi9zZWxlY3Rib3hcIik7XHJcbnZhciBsYWJlbF8xID0gcmVxdWlyZShcIi4vbGFiZWxcIik7XHJcbnZhciB2aWRlb3F1YWxpdHlzZWxlY3Rib3hfMSA9IHJlcXVpcmUoXCIuL3ZpZGVvcXVhbGl0eXNlbGVjdGJveFwiKTtcclxudmFyIGF1ZGlvcXVhbGl0eXNlbGVjdGJveF8xID0gcmVxdWlyZShcIi4vYXVkaW9xdWFsaXR5c2VsZWN0Ym94XCIpO1xyXG52YXIgdGltZW91dF8xID0gcmVxdWlyZShcIi4uL3RpbWVvdXRcIik7XHJcbnZhciBldmVudGRpc3BhdGNoZXJfMSA9IHJlcXVpcmUoXCIuLi9ldmVudGRpc3BhdGNoZXJcIik7XHJcbi8qKlxyXG4gKiBBIHBhbmVsIGNvbnRhaW5pbmcgYSBsaXN0IG9mIHtAbGluayBTZXR0aW5nc1BhbmVsSXRlbSBpdGVtc30gdGhhdCByZXByZXNlbnQgbGFiZWxsZWQgc2V0dGluZ3MuXHJcbiAqL1xyXG52YXIgU2V0dGluZ3NQYW5lbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhTZXR0aW5nc1BhbmVsLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gU2V0dGluZ3NQYW5lbChjb25maWcpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBjb25maWcpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMuc2V0dGluZ3NQYW5lbEV2ZW50cyA9IHtcclxuICAgICAgICAgICAgb25TZXR0aW5nc1N0YXRlQ2hhbmdlZDogbmV3IGV2ZW50ZGlzcGF0Y2hlcl8xLkV2ZW50RGlzcGF0Y2hlcigpLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgX3RoaXMuY29uZmlnID0gX3RoaXMubWVyZ2VDb25maWcoY29uZmlnLCB7XHJcbiAgICAgICAgICAgIGNzc0NsYXNzOiAndWktc2V0dGluZ3MtcGFuZWwnLFxyXG4gICAgICAgICAgICBoaWRlRGVsYXk6IDMwMDAsXHJcbiAgICAgICAgfSwgX3RoaXMuY29uZmlnKTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBTZXR0aW5nc1BhbmVsLnByb3RvdHlwZS5jb25maWd1cmUgPSBmdW5jdGlvbiAocGxheWVyLCB1aW1hbmFnZXIpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuY29uZmlndXJlLmNhbGwodGhpcywgcGxheWVyLCB1aW1hbmFnZXIpO1xyXG4gICAgICAgIHZhciBjb25maWcgPSB0aGlzLmdldENvbmZpZygpOyAvLyBUT0RPIGZpeCBnZW5lcmljcyB0eXBlIGluZmVyZW5jZVxyXG4gICAgICAgIGlmIChjb25maWcuaGlkZURlbGF5ID4gLTEpIHtcclxuICAgICAgICAgICAgdGhpcy5oaWRlVGltZW91dCA9IG5ldyB0aW1lb3V0XzEuVGltZW91dChjb25maWcuaGlkZURlbGF5LCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5oaWRlSG92ZXJlZFNlbGVjdEJveGVzKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLm9uU2hvdy5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgLy8gQWN0aXZhdGUgdGltZW91dCB3aGVuIHNob3duXHJcbiAgICAgICAgICAgICAgICBfdGhpcy5oaWRlVGltZW91dC5zdGFydCgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5nZXREb21FbGVtZW50KCkub24oJ21vdXNlZW50ZXInLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBPbiBtb3VzZSBlbnRlciBjbGVhciB0aGUgdGltZW91dFxyXG4gICAgICAgICAgICAgICAgX3RoaXMuaGlkZVRpbWVvdXQuY2xlYXIoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuZ2V0RG9tRWxlbWVudCgpLm9uKCdtb3VzZWxlYXZlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgLy8gT24gbW91c2UgbGVhdmUgYWN0aXZhdGUgdGhlIHRpbWVvdXRcclxuICAgICAgICAgICAgICAgIF90aGlzLmhpZGVUaW1lb3V0LnJlc2V0KCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLm9uSGlkZS5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgLy8gQ2xlYXIgdGltZW91dCB3aGVuIGhpZGRlbiBmcm9tIG91dHNpZGVcclxuICAgICAgICAgICAgICAgIF90aGlzLmhpZGVUaW1lb3V0LmNsZWFyKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBGaXJlIGV2ZW50IHdoZW4gdGhlIHN0YXRlIG9mIGEgc2V0dGluZ3MtaXRlbSBoYXMgY2hhbmdlZFxyXG4gICAgICAgIHZhciBzZXR0aW5nc1N0YXRlQ2hhbmdlZEhhbmRsZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIF90aGlzLm9uU2V0dGluZ3NTdGF0ZUNoYW5nZWRFdmVudCgpO1xyXG4gICAgICAgICAgICAvLyBBdHRhY2ggbWFya2VyIGNsYXNzIHRvIGxhc3QgdmlzaWJsZSBpdGVtXHJcbiAgICAgICAgICAgIHZhciBsYXN0U2hvd25JdGVtID0gbnVsbDtcclxuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IF90aGlzLmdldEl0ZW1zKCk7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY29tcG9uZW50ID0gX2FbX2ldO1xyXG4gICAgICAgICAgICAgICAgY29tcG9uZW50LmdldERvbUVsZW1lbnQoKS5yZW1vdmVDbGFzcyhfdGhpcy5wcmVmaXhDc3MoU2V0dGluZ3NQYW5lbC5DTEFTU19MQVNUKSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoY29tcG9uZW50LmlzU2hvd24oKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxhc3RTaG93bkl0ZW0gPSBjb21wb25lbnQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGxhc3RTaG93bkl0ZW0pIHtcclxuICAgICAgICAgICAgICAgIGxhc3RTaG93bkl0ZW0uZ2V0RG9tRWxlbWVudCgpLmFkZENsYXNzKF90aGlzLnByZWZpeENzcyhTZXR0aW5nc1BhbmVsLkNMQVNTX0xBU1QpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IHRoaXMuZ2V0SXRlbXMoKTsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgdmFyIGNvbXBvbmVudCA9IF9hW19pXTtcclxuICAgICAgICAgICAgY29tcG9uZW50Lm9uQWN0aXZlQ2hhbmdlZC5zdWJzY3JpYmUoc2V0dGluZ3NTdGF0ZUNoYW5nZWRIYW5kbGVyKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBIYWNrIGZvciBJRSArIEZpcmVmb3hcclxuICAgICAqIHdoZW4gdGhlIHNldHRpbmdzIHBhbmVsIGZhZGVzIG91dCB3aGlsZSBhbiBpdGVtIG9mIGEgc2VsZWN0IGJveCBpcyBzdGlsbCBob3ZlcmVkLCB0aGUgc2VsZWN0IGJveCB3aWxsIG5vdCBmYWRlIG91dFxyXG4gICAgICogd2hpbGUgdGhlIHNldHRpbmdzIHBhbmVsIGRvZXMuIFRoaXMgd291bGQgbGVhdmUgYSBmbG9hdGluZyBzZWxlY3QgYm94LCB3aGljaCBpcyBqdXN0IHdlaXJkXHJcbiAgICAgKi9cclxuICAgIFNldHRpbmdzUGFuZWwucHJvdG90eXBlLmhpZGVIb3ZlcmVkU2VsZWN0Qm94ZXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5nZXRJdGVtcygpLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICAgICAgaWYgKGl0ZW0uaXNBY3RpdmUoKSAmJiBpdGVtLnNldHRpbmcgaW5zdGFuY2VvZiBzZWxlY3Rib3hfMS5TZWxlY3RCb3gpIHtcclxuICAgICAgICAgICAgICAgIHZhciBzZWxlY3RCb3hfMSA9IGl0ZW0uc2V0dGluZztcclxuICAgICAgICAgICAgICAgIHZhciBvbGREaXNwbGF5XzEgPSBzZWxlY3RCb3hfMS5nZXREb21FbGVtZW50KCkuY3NzKCdkaXNwbGF5Jyk7XHJcbiAgICAgICAgICAgICAgICAvLyB1cGRhdGluZyB0aGUgZGlzcGxheSB0byBub25lIG1hcmtzIHRoZSBzZWxlY3QtYm94IGFzIGluYWN0aXZlLCBzbyBpdCB3aWxsIGJlIGhpZGRlbiB3aXRoIHRoZSByZXN0XHJcbiAgICAgICAgICAgICAgICAvLyB3ZSBqdXN0IGhhdmUgdG8gbWFrZSBzdXJlIHRvIHJlc2V0IHRoaXMgYXMgc29vbiBhcyBwb3NzaWJsZVxyXG4gICAgICAgICAgICAgICAgc2VsZWN0Qm94XzEuZ2V0RG9tRWxlbWVudCgpLmNzcygnZGlzcGxheScsICdub25lJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAod2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbiAoKSB7IHNlbGVjdEJveF8xLmdldERvbUVsZW1lbnQoKS5jc3MoJ2Rpc3BsYXknLCBvbGREaXNwbGF5XzEpOyB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIElFOSBoYXMgbm8gcmVxdWVzdEFuaW1hdGlvbkZyYW1lLCBzZXQgdGhlIHZhbHVlIGRpcmVjdGx5LiBJdCBoYXMgbm8gb3B0aW1pemF0aW9uIGFib3V0IGlnbm9yaW5nIERPTS1jaGFuZ2VzXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYmV0d2VlbiBhbmltYXRpb25GcmFtZXNcclxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RCb3hfMS5nZXREb21FbGVtZW50KCkuY3NzKCdkaXNwbGF5Jywgb2xkRGlzcGxheV8xKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIFNldHRpbmdzUGFuZWwucHJvdG90eXBlLnJlbGVhc2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5yZWxlYXNlLmNhbGwodGhpcyk7XHJcbiAgICAgICAgaWYgKHRoaXMuaGlkZVRpbWVvdXQpIHtcclxuICAgICAgICAgICAgdGhpcy5oaWRlVGltZW91dC5jbGVhcigpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIENoZWNrcyBpZiB0aGVyZSBhcmUgYWN0aXZlIHNldHRpbmdzIHdpdGhpbiB0aGlzIHNldHRpbmdzIHBhbmVsLiBBbiBhY3RpdmUgc2V0dGluZyBpcyBhIHNldHRpbmcgdGhhdCBpcyB2aXNpYmxlXHJcbiAgICAgKiBhbmQgZW5hYmxlZCwgd2hpY2ggdGhlIHVzZXIgY2FuIGludGVyYWN0IHdpdGguXHJcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpZiB0aGVyZSBhcmUgYWN0aXZlIHNldHRpbmdzLCBmYWxzZSBpZiB0aGUgcGFuZWwgaXMgZnVuY3Rpb25hbGx5IGVtcHR5IHRvIGEgdXNlclxyXG4gICAgICovXHJcbiAgICBTZXR0aW5nc1BhbmVsLnByb3RvdHlwZS5oYXNBY3RpdmVTZXR0aW5ncyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gdGhpcy5nZXRJdGVtcygpOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICB2YXIgY29tcG9uZW50ID0gX2FbX2ldO1xyXG4gICAgICAgICAgICBpZiAoY29tcG9uZW50LmlzQWN0aXZlKCkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH07XHJcbiAgICBTZXR0aW5nc1BhbmVsLnByb3RvdHlwZS5nZXRJdGVtcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb25maWcuY29tcG9uZW50cy5maWx0ZXIoZnVuY3Rpb24gKGNvbXBvbmVudCkgeyByZXR1cm4gY29tcG9uZW50IGluc3RhbmNlb2YgU2V0dGluZ3NQYW5lbEl0ZW07IH0pO1xyXG4gICAgfTtcclxuICAgIFNldHRpbmdzUGFuZWwucHJvdG90eXBlLm9uU2V0dGluZ3NTdGF0ZUNoYW5nZWRFdmVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLnNldHRpbmdzUGFuZWxFdmVudHMub25TZXR0aW5nc1N0YXRlQ2hhbmdlZC5kaXNwYXRjaCh0aGlzKTtcclxuICAgIH07XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU2V0dGluZ3NQYW5lbC5wcm90b3R5cGUsIFwib25TZXR0aW5nc1N0YXRlQ2hhbmdlZFwiLCB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogR2V0cyB0aGUgZXZlbnQgdGhhdCBpcyBmaXJlZCB3aGVuIG9uZSBvciBtb3JlIHtAbGluayBTZXR0aW5nc1BhbmVsSXRlbSBpdGVtc30gaGF2ZSBjaGFuZ2VkIHN0YXRlLlxyXG4gICAgICAgICAqIEByZXR1cm5zIHtFdmVudDxTZXR0aW5nc1BhbmVsLCBOb0FyZ3M+fVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5nc1BhbmVsRXZlbnRzLm9uU2V0dGluZ3NTdGF0ZUNoYW5nZWQuZ2V0RXZlbnQoKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIFNldHRpbmdzUGFuZWwuQ0xBU1NfTEFTVCA9ICdsYXN0JztcclxuICAgIHJldHVybiBTZXR0aW5nc1BhbmVsO1xyXG59KGNvbnRhaW5lcl8xLkNvbnRhaW5lcikpO1xyXG5leHBvcnRzLlNldHRpbmdzUGFuZWwgPSBTZXR0aW5nc1BhbmVsO1xyXG4vKipcclxuICogQW4gaXRlbSBmb3IgYSB7QGxpbmsgU2V0dGluZ3NQYW5lbH0sXHJcbiAqIENvbnRhaW5pbmcgYW4gb3B0aW9ubmFsIHtAbGluayBMYWJlbH0gYW5kIGEgY29tcG9uZW50IHRoYXQgY29uZmlndXJlcyBhIHNldHRpbmcuXHJcbiAqIElmIHRoZSBjb21wb25lbnRzIGlzIGEge0BsaW5rIFNlbGVjdEJveH0gaXQgd2lsbCBoYW5kbGUgdGhlIGxvZ2ljIG9mIGRpc3BsYXlpbmcgaXQgb3Igbm90XHJcbiAqL1xyXG52YXIgU2V0dGluZ3NQYW5lbEl0ZW0gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoU2V0dGluZ3NQYW5lbEl0ZW0sIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBTZXR0aW5nc1BhbmVsSXRlbShsYWJlbCwgc2V0dGluZywgY29uZmlnKSB7XHJcbiAgICAgICAgaWYgKGNvbmZpZyA9PT0gdm9pZCAwKSB7IGNvbmZpZyA9IHt9OyB9XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgY29uZmlnKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLnNldHRpbmdzUGFuZWxJdGVtRXZlbnRzID0ge1xyXG4gICAgICAgICAgICBvbkFjdGl2ZUNoYW5nZWQ6IG5ldyBldmVudGRpc3BhdGNoZXJfMS5FdmVudERpc3BhdGNoZXIoKSxcclxuICAgICAgICB9O1xyXG4gICAgICAgIF90aGlzLnNldHRpbmcgPSBzZXR0aW5nO1xyXG4gICAgICAgIF90aGlzLmNvbmZpZyA9IF90aGlzLm1lcmdlQ29uZmlnKGNvbmZpZywge1xyXG4gICAgICAgICAgICBjc3NDbGFzczogJ3VpLXNldHRpbmdzLXBhbmVsLWl0ZW0nLFxyXG4gICAgICAgIH0sIF90aGlzLmNvbmZpZyk7XHJcbiAgICAgICAgaWYgKGxhYmVsICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGlmIChsYWJlbCBpbnN0YW5jZW9mIGNvbXBvbmVudF8xLkNvbXBvbmVudCkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMubGFiZWwgPSBsYWJlbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLmxhYmVsID0gbmV3IGxhYmVsXzEuTGFiZWwoeyB0ZXh0OiBsYWJlbCB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBfdGhpcy5hZGRDb21wb25lbnQoX3RoaXMubGFiZWwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBfdGhpcy5hZGRDb21wb25lbnQoX3RoaXMuc2V0dGluZyk7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgU2V0dGluZ3NQYW5lbEl0ZW0ucHJvdG90eXBlLmNvbmZpZ3VyZSA9IGZ1bmN0aW9uIChwbGF5ZXIsIHVpbWFuYWdlcikge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZyBpbnN0YW5jZW9mIHNlbGVjdGJveF8xLlNlbGVjdEJveCkge1xyXG4gICAgICAgICAgICB2YXIgaGFuZGxlQ29uZmlnSXRlbUNoYW5nZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIShfdGhpcy5zZXR0aW5nIGluc3RhbmNlb2Ygc2VsZWN0Ym94XzEuU2VsZWN0Qm94KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIFRoZSBtaW5pbXVtIG51bWJlciBvZiBpdGVtcyB0aGF0IG11c3QgYmUgYXZhaWxhYmxlIGZvciB0aGUgc2V0dGluZyB0byBiZSBkaXNwbGF5ZWRcclxuICAgICAgICAgICAgICAgIC8vIEJ5IGRlZmF1bHQsIGF0IGxlYXN0IHR3byBpdGVtcyBtdXN0IGJlIGF2YWlsYWJsZSwgZWxzZSBhIHNlbGVjdGlvbiBpcyBub3QgcG9zc2libGVcclxuICAgICAgICAgICAgICAgIHZhciBtaW5JdGVtc1RvRGlzcGxheSA9IDI7XHJcbiAgICAgICAgICAgICAgICAvLyBBdWRpby92aWRlbyBxdWFsaXR5IHNlbGVjdCBib3hlcyBjb250YWluIGFuIGFkZGl0aW9uYWwgJ2F1dG8nIG1vZGUsIHdoaWNoIGluIGNvbWJpbmF0aW9uIHdpdGggYSBzaW5nbGVcclxuICAgICAgICAgICAgICAgIC8vIGF2YWlsYWJsZSBxdWFsaXR5IGFsc28gZG9lcyBub3QgbWFrZSBzZW5zZVxyXG4gICAgICAgICAgICAgICAgaWYgKChfdGhpcy5zZXR0aW5nIGluc3RhbmNlb2YgdmlkZW9xdWFsaXR5c2VsZWN0Ym94XzEuVmlkZW9RdWFsaXR5U2VsZWN0Qm94ICYmIF90aGlzLnNldHRpbmcuaGFzQXV0b0l0ZW0oKSlcclxuICAgICAgICAgICAgICAgICAgICB8fCBfdGhpcy5zZXR0aW5nIGluc3RhbmNlb2YgYXVkaW9xdWFsaXR5c2VsZWN0Ym94XzEuQXVkaW9RdWFsaXR5U2VsZWN0Qm94KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWluSXRlbXNUb0Rpc3BsYXkgPSAzO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gSGlkZSB0aGUgc2V0dGluZyBpZiBubyBtZWFuaW5nZnVsIGNob2ljZSBpcyBhdmFpbGFibGVcclxuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5zZXR0aW5nLml0ZW1Db3VudCgpIDwgbWluSXRlbXNUb0Rpc3BsYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5zaG93KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBWaXNpYmlsaXR5IG1pZ2h0IGhhdmUgY2hhbmdlZCBhbmQgdGhlcmVmb3JlIHRoZSBhY3RpdmUgc3RhdGUgbWlnaHQgaGF2ZSBjaGFuZ2VkIHNvIHdlIGZpcmUgdGhlIGV2ZW50XHJcbiAgICAgICAgICAgICAgICAvLyBUT0RPIGZpcmUgb25seSB3aGVuIHN0YXRlIGhhcyByZWFsbHkgY2hhbmdlZCAoZS5nLiBjaGVjayBpZiB2aXNpYmlsaXR5IGhhcyByZWFsbHkgY2hhbmdlZClcclxuICAgICAgICAgICAgICAgIF90aGlzLm9uQWN0aXZlQ2hhbmdlZEV2ZW50KCk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHRoaXMuc2V0dGluZy5vbkl0ZW1BZGRlZC5zdWJzY3JpYmUoaGFuZGxlQ29uZmlnSXRlbUNoYW5nZWQpO1xyXG4gICAgICAgICAgICB0aGlzLnNldHRpbmcub25JdGVtUmVtb3ZlZC5zdWJzY3JpYmUoaGFuZGxlQ29uZmlnSXRlbUNoYW5nZWQpO1xyXG4gICAgICAgICAgICAvLyBJbml0aWFsaXplIGhpZGRlbiBzdGF0ZVxyXG4gICAgICAgICAgICBoYW5kbGVDb25maWdJdGVtQ2hhbmdlZCgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIENoZWNrcyBpZiB0aGlzIHNldHRpbmdzIHBhbmVsIGl0ZW0gaXMgYWN0aXZlLCBpLmUuIHZpc2libGUgYW5kIGVuYWJsZWQgYW5kIGEgdXNlciBjYW4gaW50ZXJhY3Qgd2l0aCBpdC5cclxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlmIHRoZSBwYW5lbCBpcyBhY3RpdmUsIGVsc2UgZmFsc2VcclxuICAgICAqL1xyXG4gICAgU2V0dGluZ3NQYW5lbEl0ZW0ucHJvdG90eXBlLmlzQWN0aXZlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmlzU2hvd24oKTtcclxuICAgIH07XHJcbiAgICBTZXR0aW5nc1BhbmVsSXRlbS5wcm90b3R5cGUub25BY3RpdmVDaGFuZ2VkRXZlbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5zZXR0aW5nc1BhbmVsSXRlbUV2ZW50cy5vbkFjdGl2ZUNoYW5nZWQuZGlzcGF0Y2godGhpcyk7XHJcbiAgICB9O1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNldHRpbmdzUGFuZWxJdGVtLnByb3RvdHlwZSwgXCJvbkFjdGl2ZUNoYW5nZWRcIiwge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEdldHMgdGhlIGV2ZW50IHRoYXQgaXMgZmlyZWQgd2hlbiB0aGUgJ2FjdGl2ZScgc3RhdGUgb2YgdGhpcyBpdGVtIGNoYW5nZXMuXHJcbiAgICAgICAgICogQHNlZSAjaXNBY3RpdmVcclxuICAgICAgICAgKiBAcmV0dXJucyB7RXZlbnQ8U2V0dGluZ3NQYW5lbEl0ZW0sIE5vQXJncz59XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNldHRpbmdzUGFuZWxJdGVtRXZlbnRzLm9uQWN0aXZlQ2hhbmdlZC5nZXRFdmVudCgpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIFNldHRpbmdzUGFuZWxJdGVtO1xyXG59KGNvbnRhaW5lcl8xLkNvbnRhaW5lcikpO1xyXG5leHBvcnRzLlNldHRpbmdzUGFuZWxJdGVtID0gU2V0dGluZ3NQYW5lbEl0ZW07XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9zZXR0aW5nc3BhbmVsLnRzXG4vLyBtb2R1bGUgaWQgPSAyMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgc2VsZWN0Ym94XzEgPSByZXF1aXJlKFwiLi9zZWxlY3Rib3hcIik7XHJcbi8qKlxyXG4gKiBBIHNlbGVjdCBib3ggcHJvdmlkaW5nIGEgc2VsZWN0aW9uIGJldHdlZW4gJ2F1dG8nIGFuZCB0aGUgYXZhaWxhYmxlIHZpZGVvIHF1YWxpdGllcy5cclxuICovXHJcbnZhciBWaWRlb1F1YWxpdHlTZWxlY3RCb3ggPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoVmlkZW9RdWFsaXR5U2VsZWN0Qm94LCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gVmlkZW9RdWFsaXR5U2VsZWN0Qm94KGNvbmZpZykge1xyXG4gICAgICAgIGlmIChjb25maWcgPT09IHZvaWQgMCkgeyBjb25maWcgPSB7fTsgfVxyXG4gICAgICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCBjb25maWcpIHx8IHRoaXM7XHJcbiAgICB9XHJcbiAgICBWaWRlb1F1YWxpdHlTZWxlY3RCb3gucHJvdG90eXBlLmNvbmZpZ3VyZSA9IGZ1bmN0aW9uIChwbGF5ZXIsIHVpbWFuYWdlcikge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5jb25maWd1cmUuY2FsbCh0aGlzLCBwbGF5ZXIsIHVpbWFuYWdlcik7XHJcbiAgICAgICAgdmFyIHNlbGVjdEN1cnJlbnRWaWRlb1F1YWxpdHkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChwbGF5ZXIuZ2V0VmlkZW9RdWFsaXR5KSB7XHJcbiAgICAgICAgICAgICAgICAvLyBTaW5jZSBwbGF5ZXIgNy4zLjFcclxuICAgICAgICAgICAgICAgIF90aGlzLnNlbGVjdEl0ZW0ocGxheWVyLmdldFZpZGVvUXVhbGl0eSgpLmlkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIEJhY2t3YXJkcyBjb21wYXRpYmlsaXR5IGZvciBwbGF5ZXJzIDw9IDcuMy4wXHJcbiAgICAgICAgICAgICAgICAvLyBUT0RPIHJlbW92ZSBpbiBuZXh0IG1ham9yIHJlbGVhc2VcclxuICAgICAgICAgICAgICAgIHZhciBkYXRhID0gcGxheWVyLmdldERvd25sb2FkZWRWaWRlb0RhdGEoKTtcclxuICAgICAgICAgICAgICAgIF90aGlzLnNlbGVjdEl0ZW0oZGF0YS5pc0F1dG8gPyAnYXV0bycgOiBkYXRhLmlkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdmFyIHVwZGF0ZVZpZGVvUXVhbGl0aWVzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgdmlkZW9RdWFsaXRpZXMgPSBwbGF5ZXIuZ2V0QXZhaWxhYmxlVmlkZW9RdWFsaXRpZXMoKTtcclxuICAgICAgICAgICAgX3RoaXMuY2xlYXJJdGVtcygpO1xyXG4gICAgICAgICAgICAvLyBQcm9ncmVzc2l2ZSBzdHJlYW1zIGRvIG5vdCBzdXBwb3J0IGF1dG9tYXRpYyBxdWFsaXR5IHNlbGVjdGlvblxyXG4gICAgICAgICAgICBfdGhpcy5oYXNBdXRvID0gcGxheWVyLmdldFN0cmVhbVR5cGUoKSAhPT0gJ3Byb2dyZXNzaXZlJztcclxuICAgICAgICAgICAgaWYgKF90aGlzLmhhc0F1dG8pIHtcclxuICAgICAgICAgICAgICAgIC8vIEFkZCBlbnRyeSBmb3IgYXV0b21hdGljIHF1YWxpdHkgc3dpdGNoaW5nIChkZWZhdWx0IHNldHRpbmcpXHJcbiAgICAgICAgICAgICAgICBfdGhpcy5hZGRJdGVtKCdhdXRvJywgJ2F1dG8nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBBZGQgdmlkZW8gcXVhbGl0aWVzXHJcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgdmlkZW9RdWFsaXRpZXNfMSA9IHZpZGVvUXVhbGl0aWVzOyBfaSA8IHZpZGVvUXVhbGl0aWVzXzEubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdmlkZW9RdWFsaXR5ID0gdmlkZW9RdWFsaXRpZXNfMVtfaV07XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5hZGRJdGVtKHZpZGVvUXVhbGl0eS5pZCwgdmlkZW9RdWFsaXR5LmxhYmVsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBTZWxlY3QgaW5pdGlhbCBxdWFsaXR5XHJcbiAgICAgICAgICAgIHNlbGVjdEN1cnJlbnRWaWRlb1F1YWxpdHkoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMub25JdGVtU2VsZWN0ZWQuc3Vic2NyaWJlKGZ1bmN0aW9uIChzZW5kZXIsIHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHBsYXllci5zZXRWaWRlb1F1YWxpdHkodmFsdWUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIFVwZGF0ZSBxdWFsaXRpZXMgd2hlbiBzb3VyY2UgZ29lcyBhd2F5XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fU09VUkNFX1VOTE9BREVELCB1cGRhdGVWaWRlb1F1YWxpdGllcyk7XHJcbiAgICAgICAgLy8gVXBkYXRlIHF1YWxpdGllcyB3aGVuIGEgbmV3IHNvdXJjZSBpcyBsb2FkZWRcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9SRUFEWSwgdXBkYXRlVmlkZW9RdWFsaXRpZXMpO1xyXG4gICAgICAgIC8vIFVwZGF0ZSBxdWFsaXRpZXMgd2hlbiB0aGUgcGVyaW9kIHdpdGhpbiBhIHNvdXJjZSBjaGFuZ2VzXHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fUEVSSU9EX1NXSVRDSEVELCB1cGRhdGVWaWRlb1F1YWxpdGllcyk7XHJcbiAgICAgICAgLy8gVXBkYXRlIHF1YWxpdHkgc2VsZWN0aW9uIHdoZW4gcXVhbGl0eSBpcyBjaGFuZ2VkIChmcm9tIG91dHNpZGUpXHJcbiAgICAgICAgaWYgKHBsYXllci5FVkVOVC5PTl9WSURFT19RVUFMSVRZX0NIQU5HRUQpIHtcclxuICAgICAgICAgICAgLy8gU2luY2UgcGxheWVyIDcuMy4xXHJcbiAgICAgICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1ZJREVPX1FVQUxJVFlfQ0hBTkdFRCwgc2VsZWN0Q3VycmVudFZpZGVvUXVhbGl0eSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBCYWNrd2FyZHMgY29tcGF0aWJpbGl0eSBmb3IgcGxheWVycyA8PSA3LjMuMFxyXG4gICAgICAgICAgICAvLyBUT0RPIHJlbW92ZSBpbiBuZXh0IG1ham9yIHJlbGVhc2VcclxuICAgICAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fVklERU9fRE9XTkxPQURfUVVBTElUWV9DSEFOR0UsIHNlbGVjdEN1cnJlbnRWaWRlb1F1YWxpdHkpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgc2VsZWN0IGJveCBjb250YWlucyBhbiAnYXV0bycgaXRlbSBmb3IgYXV0b21hdGljIHF1YWxpdHkgc2VsZWN0aW9uIG1vZGUuXHJcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufVxyXG4gICAgICovXHJcbiAgICBWaWRlb1F1YWxpdHlTZWxlY3RCb3gucHJvdG90eXBlLmhhc0F1dG9JdGVtID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmhhc0F1dG87XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFZpZGVvUXVhbGl0eVNlbGVjdEJveDtcclxufShzZWxlY3Rib3hfMS5TZWxlY3RCb3gpKTtcclxuZXhwb3J0cy5WaWRlb1F1YWxpdHlTZWxlY3RCb3ggPSBWaWRlb1F1YWxpdHlTZWxlY3RCb3g7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy92aWRlb3F1YWxpdHlzZWxlY3Rib3gudHNcbi8vIG1vZHVsZSBpZCA9IDIyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBzZWxlY3Rib3hfMSA9IHJlcXVpcmUoXCIuL3NlbGVjdGJveFwiKTtcclxuLyoqXHJcbiAqIEEgc2VsZWN0IGJveCBwcm92aWRpbmcgYSBzZWxlY3Rpb24gYmV0d2VlbiAnYXV0bycgYW5kIHRoZSBhdmFpbGFibGUgYXVkaW8gcXVhbGl0aWVzLlxyXG4gKi9cclxudmFyIEF1ZGlvUXVhbGl0eVNlbGVjdEJveCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhBdWRpb1F1YWxpdHlTZWxlY3RCb3gsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBBdWRpb1F1YWxpdHlTZWxlY3RCb3goY29uZmlnKSB7XHJcbiAgICAgICAgaWYgKGNvbmZpZyA9PT0gdm9pZCAwKSB7IGNvbmZpZyA9IHt9OyB9XHJcbiAgICAgICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMsIGNvbmZpZykgfHwgdGhpcztcclxuICAgIH1cclxuICAgIEF1ZGlvUXVhbGl0eVNlbGVjdEJveC5wcm90b3R5cGUuY29uZmlndXJlID0gZnVuY3Rpb24gKHBsYXllciwgdWltYW5hZ2VyKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmNvbmZpZ3VyZS5jYWxsKHRoaXMsIHBsYXllciwgdWltYW5hZ2VyKTtcclxuICAgICAgICB2YXIgc2VsZWN0Q3VycmVudEF1ZGlvUXVhbGl0eSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKHBsYXllci5nZXRBdWRpb1F1YWxpdHkpIHtcclxuICAgICAgICAgICAgICAgIC8vIFNpbmNlIHBsYXllciA3LjMuMVxyXG4gICAgICAgICAgICAgICAgX3RoaXMuc2VsZWN0SXRlbShwbGF5ZXIuZ2V0QXVkaW9RdWFsaXR5KCkuaWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gQmFja3dhcmRzIGNvbXBhdGliaWxpdHkgZm9yIHBsYXllcnMgPD0gNy4zLjBcclxuICAgICAgICAgICAgICAgIC8vIFRPRE8gcmVtb3ZlIGluIG5leHQgbWFqb3IgcmVsZWFzZVxyXG4gICAgICAgICAgICAgICAgdmFyIGRhdGEgPSBwbGF5ZXIuZ2V0RG93bmxvYWRlZEF1ZGlvRGF0YSgpO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuc2VsZWN0SXRlbShkYXRhLmlzQXV0byA/ICdhdXRvJyA6IGRhdGEuaWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICB2YXIgdXBkYXRlQXVkaW9RdWFsaXRpZXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBhdWRpb1F1YWxpdGllcyA9IHBsYXllci5nZXRBdmFpbGFibGVBdWRpb1F1YWxpdGllcygpO1xyXG4gICAgICAgICAgICBfdGhpcy5jbGVhckl0ZW1zKCk7XHJcbiAgICAgICAgICAgIC8vIEFkZCBlbnRyeSBmb3IgYXV0b21hdGljIHF1YWxpdHkgc3dpdGNoaW5nIChkZWZhdWx0IHNldHRpbmcpXHJcbiAgICAgICAgICAgIF90aGlzLmFkZEl0ZW0oJ2F1dG8nLCAnYXV0bycpO1xyXG4gICAgICAgICAgICAvLyBBZGQgYXVkaW8gcXVhbGl0aWVzXHJcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgYXVkaW9RdWFsaXRpZXNfMSA9IGF1ZGlvUXVhbGl0aWVzOyBfaSA8IGF1ZGlvUXVhbGl0aWVzXzEubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYXVkaW9RdWFsaXR5ID0gYXVkaW9RdWFsaXRpZXNfMVtfaV07XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5hZGRJdGVtKGF1ZGlvUXVhbGl0eS5pZCwgYXVkaW9RdWFsaXR5LmxhYmVsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBTZWxlY3QgaW5pdGlhbCBxdWFsaXR5XHJcbiAgICAgICAgICAgIHNlbGVjdEN1cnJlbnRBdWRpb1F1YWxpdHkoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMub25JdGVtU2VsZWN0ZWQuc3Vic2NyaWJlKGZ1bmN0aW9uIChzZW5kZXIsIHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHBsYXllci5zZXRBdWRpb1F1YWxpdHkodmFsdWUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIFVwZGF0ZSBxdWFsaXRpZXMgd2hlbiBhdWRpbyB0cmFjayBoYXMgY2hhbmdlZFxyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX0FVRElPX0NIQU5HRUQsIHVwZGF0ZUF1ZGlvUXVhbGl0aWVzKTtcclxuICAgICAgICAvLyBVcGRhdGUgcXVhbGl0aWVzIHdoZW4gc291cmNlIGdvZXMgYXdheVxyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1NPVVJDRV9VTkxPQURFRCwgdXBkYXRlQXVkaW9RdWFsaXRpZXMpO1xyXG4gICAgICAgIC8vIFVwZGF0ZSBxdWFsaXRpZXMgd2hlbiBhIG5ldyBzb3VyY2UgaXMgbG9hZGVkXHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fUkVBRFksIHVwZGF0ZUF1ZGlvUXVhbGl0aWVzKTtcclxuICAgICAgICAvLyBVcGRhdGUgcXVhbGl0aWVzIHdoZW4gdGhlIHBlcmlvZCB3aXRoaW4gYSBzb3VyY2UgY2hhbmdlc1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1BFUklPRF9TV0lUQ0hFRCwgdXBkYXRlQXVkaW9RdWFsaXRpZXMpO1xyXG4gICAgICAgIC8vIFVwZGF0ZSBxdWFsaXR5IHNlbGVjdGlvbiB3aGVuIHF1YWxpdHkgaXMgY2hhbmdlZCAoZnJvbSBvdXRzaWRlKVxyXG4gICAgICAgIGlmIChwbGF5ZXIuRVZFTlQuT05fQVVESU9fUVVBTElUWV9DSEFOR0VEKSB7XHJcbiAgICAgICAgICAgIC8vIFNpbmNlIHBsYXllciA3LjMuMVxyXG4gICAgICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9BVURJT19RVUFMSVRZX0NIQU5HRUQsIHNlbGVjdEN1cnJlbnRBdWRpb1F1YWxpdHkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gQmFja3dhcmRzIGNvbXBhdGliaWxpdHkgZm9yIHBsYXllcnMgPD0gNy4zLjBcclxuICAgICAgICAgICAgLy8gVE9ETyByZW1vdmUgaW4gbmV4dCBtYWpvciByZWxlYXNlXHJcbiAgICAgICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX0FVRElPX0RPV05MT0FEX1FVQUxJVFlfQ0hBTkdFLCBzZWxlY3RDdXJyZW50QXVkaW9RdWFsaXR5KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEF1ZGlvUXVhbGl0eVNlbGVjdEJveDtcclxufShzZWxlY3Rib3hfMS5TZWxlY3RCb3gpKTtcclxuZXhwb3J0cy5BdWRpb1F1YWxpdHlTZWxlY3RCb3ggPSBBdWRpb1F1YWxpdHlTZWxlY3RCb3g7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9hdWRpb3F1YWxpdHlzZWxlY3Rib3gudHNcbi8vIG1vZHVsZSBpZCA9IDIzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBidXR0b25fMSA9IHJlcXVpcmUoXCIuLi9idXR0b25cIik7XHJcbnZhciBTdWJ0aXRsZVNldHRpbmdzQnV0dG9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKFN1YnRpdGxlU2V0dGluZ3NCdXR0b24sIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBTdWJ0aXRsZVNldHRpbmdzQnV0dG9uKGNvbmZpZykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGNvbmZpZykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5zdWJ0aXRsZVNldHRpbmdzUGFuZWwgPSBjb25maWcuc3VidGl0bGVTZXR0aW5nc1BhbmVsO1xyXG4gICAgICAgIF90aGlzLnNldHRpbmdzUGFuZWwgPSBjb25maWcuc2V0dGluZ3NQYW5lbDtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gU3VidGl0bGVTZXR0aW5nc0J1dHRvbjtcclxufShidXR0b25fMS5CdXR0b24pKTtcclxuZXhwb3J0cy5TdWJ0aXRsZVNldHRpbmdzQnV0dG9uID0gU3VidGl0bGVTZXR0aW5nc0J1dHRvbjtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3N1YnRpdGxlc2V0dGluZ3Mvc3VidGl0bGVzZXR0aW5nc2J1dHRvbi50c1xuLy8gbW9kdWxlIGlkID0gMjRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIHNlZWtiYXJfMSA9IHJlcXVpcmUoXCIuL3NlZWtiYXJcIik7XHJcbi8qKlxyXG4gKiBBIHNpbXBsZSB2b2x1bWUgc2xpZGVyIGNvbXBvbmVudCB0byBhZGp1c3QgdGhlIHBsYXllcidzIHZvbHVtZSBzZXR0aW5nLlxyXG4gKi9cclxudmFyIFZvbHVtZVNsaWRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhWb2x1bWVTbGlkZXIsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBWb2x1bWVTbGlkZXIoY29uZmlnKSB7XHJcbiAgICAgICAgaWYgKGNvbmZpZyA9PT0gdm9pZCAwKSB7IGNvbmZpZyA9IHt9OyB9XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgY29uZmlnKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLmNvbmZpZyA9IF90aGlzLm1lcmdlQ29uZmlnKGNvbmZpZywge1xyXG4gICAgICAgICAgICBjc3NDbGFzczogJ3VpLXZvbHVtZXNsaWRlcicsXHJcbiAgICAgICAgICAgIGhpZGVJZlZvbHVtZUNvbnRyb2xQcm9oaWJpdGVkOiB0cnVlLFxyXG4gICAgICAgIH0sIF90aGlzLmNvbmZpZyk7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgVm9sdW1lU2xpZGVyLnByb3RvdHlwZS5jb25maWd1cmUgPSBmdW5jdGlvbiAocGxheWVyLCB1aW1hbmFnZXIpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuY29uZmlndXJlLmNhbGwodGhpcywgcGxheWVyLCB1aW1hbmFnZXIsIGZhbHNlKTtcclxuICAgICAgICB2YXIgY29uZmlnID0gdGhpcy5nZXRDb25maWcoKTtcclxuICAgICAgICBpZiAoY29uZmlnLmhpZGVJZlZvbHVtZUNvbnRyb2xQcm9oaWJpdGVkICYmICF0aGlzLmRldGVjdFZvbHVtZUNvbnRyb2xBdmFpbGFiaWxpdHkoKSkge1xyXG4gICAgICAgICAgICB0aGlzLmhpZGUoKTtcclxuICAgICAgICAgICAgLy8gV2UgY2FuIGp1c3QgcmV0dXJuIGZyb20gaGVyZSwgYmVjYXVzZSB0aGUgdXNlciB3aWxsIG5ldmVyIGludGVyYWN0IHdpdGggdGhlIGNvbnRyb2wgYW5kIGFueSBjb25maWd1cmVkXHJcbiAgICAgICAgICAgIC8vIGZ1bmN0aW9uYWxpdHkgd291bGQgb25seSBlYXQgcmVzb3VyY2VzIGZvciBubyByZWFzb24uXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHZvbHVtZUNoYW5nZUhhbmRsZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChwbGF5ZXIuaXNNdXRlZCgpKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5zZXRQbGF5YmFja1Bvc2l0aW9uKDApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuc2V0UGxheWJhY2tQb3NpdGlvbihwbGF5ZXIuZ2V0Vm9sdW1lKCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9SRUFEWSwgdm9sdW1lQ2hhbmdlSGFuZGxlcik7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fVk9MVU1FX0NIQU5HRUQsIHZvbHVtZUNoYW5nZUhhbmRsZXIpO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX01VVEVELCB2b2x1bWVDaGFuZ2VIYW5kbGVyKTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9VTk1VVEVELCB2b2x1bWVDaGFuZ2VIYW5kbGVyKTtcclxuICAgICAgICB0aGlzLm9uU2Vla1ByZXZpZXcuc3Vic2NyaWJlUmF0ZUxpbWl0ZWQoZnVuY3Rpb24gKHNlbmRlciwgYXJncykge1xyXG4gICAgICAgICAgICBpZiAoYXJncy5zY3J1YmJpbmcpIHtcclxuICAgICAgICAgICAgICAgIHBsYXllci5zZXRWb2x1bWUoYXJncy5wb3NpdGlvbiwgVm9sdW1lU2xpZGVyLmlzc3Vlck5hbWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSwgNTApO1xyXG4gICAgICAgIHRoaXMub25TZWVrZWQuc3Vic2NyaWJlKGZ1bmN0aW9uIChzZW5kZXIsIHBlcmNlbnRhZ2UpIHtcclxuICAgICAgICAgICAgcGxheWVyLnNldFZvbHVtZShwZXJjZW50YWdlLCBWb2x1bWVTbGlkZXIuaXNzdWVyTmFtZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gVXBkYXRlIHRoZSB2b2x1bWUgc2xpZGVyIG1hcmtlciB3aGVuIHRoZSBwbGF5ZXIgcmVzaXplZCwgYSBzb3VyY2UgaXMgbG9hZGVkIGFuZCBwbGF5ZXIgaXMgcmVhZHksXHJcbiAgICAgICAgLy8gb3IgdGhlIFVJIGlzIGNvbmZpZ3VyZWQuIENoZWNrIHRoZSBzZWVrYmFyIGZvciBhIGRldGFpbGVkIGRlc2NyaXB0aW9uLlxyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1BMQVlFUl9SRVNJWkUsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgX3RoaXMucmVmcmVzaFBsYXliYWNrUG9zaXRpb24oKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9SRUFEWSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBfdGhpcy5yZWZyZXNoUGxheWJhY2tQb3NpdGlvbigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHVpbWFuYWdlci5vbkNvbmZpZ3VyZWQuc3Vic2NyaWJlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgX3RoaXMucmVmcmVzaFBsYXliYWNrUG9zaXRpb24oKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBJbml0IHZvbHVtZSBiYXJcclxuICAgICAgICB2b2x1bWVDaGFuZ2VIYW5kbGVyKCk7XHJcbiAgICB9O1xyXG4gICAgVm9sdW1lU2xpZGVyLnByb3RvdHlwZS5kZXRlY3RWb2x1bWVDb250cm9sQXZhaWxhYmlsaXR5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8qXHJcbiAgICAgICAgICogXCJPbiBpT1MgZGV2aWNlcywgdGhlIGF1ZGlvIGxldmVsIGlzIGFsd2F5cyB1bmRlciB0aGUgdXNlcuKAmXMgcGh5c2ljYWwgY29udHJvbC4gVGhlIHZvbHVtZSBwcm9wZXJ0eSBpcyBub3RcclxuICAgICAgICAgKiBzZXR0YWJsZSBpbiBKYXZhU2NyaXB0LiBSZWFkaW5nIHRoZSB2b2x1bWUgcHJvcGVydHkgYWx3YXlzIHJldHVybnMgMS5cIlxyXG4gICAgICAgICAqIGh0dHBzOi8vZGV2ZWxvcGVyLmFwcGxlLmNvbS9saWJyYXJ5L2NvbnRlbnQvZG9jdW1lbnRhdGlvbi9BdWRpb1ZpZGVvL0NvbmNlcHR1YWwvVXNpbmdfSFRNTDVfQXVkaW9fVmlkZW8vRGV2aWNlLVNwZWNpZmljQ29uc2lkZXJhdGlvbnMvRGV2aWNlLVNwZWNpZmljQ29uc2lkZXJhdGlvbnMuaHRtbFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIC8vIGFzIG11dGVkIGF1dG9wbGF5IGdldHMgcGF1c2VkIGFzIHNvb24gYXMgd2UgdW5tdXRlIGl0LCB3ZSBtYXkgbm90IHRvdWNoIHRoZSB2b2x1bWUgb2YgdGhlIGFjdHVhbCBwbGF5ZXIgc28gd2VcclxuICAgICAgICAvLyBwcm9iZSBhIGR1bW15IGF1ZGlvIGVsZW1lbnRcclxuICAgICAgICB2YXIgZHVtbXlWaWRlb0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd2aWRlbycpO1xyXG4gICAgICAgIC8vIHRyeSBzZXR0aW5nIHRoZSB2b2x1bWUgdG8gMC43IGFuZCBpZiBpdCdzIHN0aWxsIDEgd2UgYXJlIG9uIGEgdm9sdW1lIGNvbnRyb2wgcmVzdHJpY3RlZCBkZXZpY2VcclxuICAgICAgICBkdW1teVZpZGVvRWxlbWVudC52b2x1bWUgPSAwLjc7XHJcbiAgICAgICAgcmV0dXJuIGR1bW15VmlkZW9FbGVtZW50LnZvbHVtZSAhPT0gMTtcclxuICAgIH07XHJcbiAgICBWb2x1bWVTbGlkZXIuaXNzdWVyTmFtZSA9ICd1aSc7XHJcbiAgICByZXR1cm4gVm9sdW1lU2xpZGVyO1xyXG59KHNlZWtiYXJfMS5TZWVrQmFyKSk7XHJcbmV4cG9ydHMuVm9sdW1lU2xpZGVyID0gVm9sdW1lU2xpZGVyO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvdm9sdW1lc2xpZGVyLnRzXG4vLyBtb2R1bGUgaWQgPSAyNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgbGFiZWxfMSA9IHJlcXVpcmUoXCIuL2xhYmVsXCIpO1xyXG4vKipcclxuICogRW51bWVyYXRlcyB0aGUgdHlwZXMgb2YgY29udGVudCB0aGF0IHRoZSB7QGxpbmsgTWV0YWRhdGFMYWJlbH0gY2FuIGRpc3BsYXkuXHJcbiAqL1xyXG52YXIgTWV0YWRhdGFMYWJlbENvbnRlbnQ7XHJcbihmdW5jdGlvbiAoTWV0YWRhdGFMYWJlbENvbnRlbnQpIHtcclxuICAgIC8qKlxyXG4gICAgICogVGl0bGUgb2YgdGhlIGRhdGEgc291cmNlLlxyXG4gICAgICovXHJcbiAgICBNZXRhZGF0YUxhYmVsQ29udGVudFtNZXRhZGF0YUxhYmVsQ29udGVudFtcIlRpdGxlXCJdID0gMF0gPSBcIlRpdGxlXCI7XHJcbiAgICAvKipcclxuICAgICAqIERlc2NyaXB0aW9uIGZvIHRoZSBkYXRhIHNvdXJjZS5cclxuICAgICAqL1xyXG4gICAgTWV0YWRhdGFMYWJlbENvbnRlbnRbTWV0YWRhdGFMYWJlbENvbnRlbnRbXCJEZXNjcmlwdGlvblwiXSA9IDFdID0gXCJEZXNjcmlwdGlvblwiO1xyXG59KShNZXRhZGF0YUxhYmVsQ29udGVudCA9IGV4cG9ydHMuTWV0YWRhdGFMYWJlbENvbnRlbnQgfHwgKGV4cG9ydHMuTWV0YWRhdGFMYWJlbENvbnRlbnQgPSB7fSkpO1xyXG4vKipcclxuICogQSBsYWJlbCB0aGF0IGNhbiBiZSBjb25maWd1cmVkIHRvIGRpc3BsYXkgY2VydGFpbiBtZXRhZGF0YS5cclxuICovXHJcbnZhciBNZXRhZGF0YUxhYmVsID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKE1ldGFkYXRhTGFiZWwsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBNZXRhZGF0YUxhYmVsKGNvbmZpZykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGNvbmZpZykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5jb25maWcgPSBfdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIHtcclxuICAgICAgICAgICAgY3NzQ2xhc3NlczogWydsYWJlbC1tZXRhZGF0YScsICdsYWJlbC1tZXRhZGF0YS0nICsgTWV0YWRhdGFMYWJlbENvbnRlbnRbY29uZmlnLmNvbnRlbnRdLnRvTG93ZXJDYXNlKCldLFxyXG4gICAgICAgIH0sIF90aGlzLmNvbmZpZyk7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgTWV0YWRhdGFMYWJlbC5wcm90b3R5cGUuY29uZmlndXJlID0gZnVuY3Rpb24gKHBsYXllciwgdWltYW5hZ2VyKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmNvbmZpZ3VyZS5jYWxsKHRoaXMsIHBsYXllciwgdWltYW5hZ2VyKTtcclxuICAgICAgICB2YXIgY29uZmlnID0gdGhpcy5nZXRDb25maWcoKTtcclxuICAgICAgICB2YXIgdWljb25maWcgPSB1aW1hbmFnZXIuZ2V0Q29uZmlnKCk7XHJcbiAgICAgICAgdmFyIGluaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAoY29uZmlnLmNvbnRlbnQpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgTWV0YWRhdGFMYWJlbENvbnRlbnQuVGl0bGU6XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2V0VGV4dCh1aWNvbmZpZy5tZXRhZGF0YS50aXRsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIE1ldGFkYXRhTGFiZWxDb250ZW50LkRlc2NyaXB0aW9uOlxyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnNldFRleHQodWljb25maWcubWV0YWRhdGEuZGVzY3JpcHRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICB2YXIgdW5sb2FkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBfdGhpcy5zZXRUZXh0KG51bGwpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgLy8gSW5pdCBsYWJlbFxyXG4gICAgICAgIGluaXQoKTtcclxuICAgICAgICAvLyBSZWluaXQgbGFiZWwgd2hlbiBhIG5ldyBzb3VyY2UgaXMgbG9hZGVkXHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fU09VUkNFX0xPQURFRCwgaW5pdCk7XHJcbiAgICAgICAgLy8gQ2xlYXIgbGFiZWxzIHdoZW4gc291cmNlIGlzIHVubG9hZGVkXHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fU09VUkNFX1VOTE9BREVELCB1bmxvYWQpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBNZXRhZGF0YUxhYmVsO1xyXG59KGxhYmVsXzEuTGFiZWwpKTtcclxuZXhwb3J0cy5NZXRhZGF0YUxhYmVsID0gTWV0YWRhdGFMYWJlbDtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL21ldGFkYXRhbGFiZWwudHNcbi8vIG1vZHVsZSBpZCA9IDI2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBidXR0b25fMSA9IHJlcXVpcmUoXCIuL2J1dHRvblwiKTtcclxuLyoqXHJcbiAqIEEgY2xpY2sgb3ZlcmxheSB0aGF0IG9wZW5zIGFuIHVybCBpbiBhIG5ldyB0YWIgaWYgY2xpY2tlZC5cclxuICovXHJcbnZhciBDbGlja092ZXJsYXkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoQ2xpY2tPdmVybGF5LCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gQ2xpY2tPdmVybGF5KGNvbmZpZykge1xyXG4gICAgICAgIGlmIChjb25maWcgPT09IHZvaWQgMCkgeyBjb25maWcgPSB7fTsgfVxyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGNvbmZpZykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5jb25maWcgPSBfdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIHtcclxuICAgICAgICAgICAgY3NzQ2xhc3M6ICd1aS1jbGlja292ZXJsYXknLFxyXG4gICAgICAgIH0sIF90aGlzLmNvbmZpZyk7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgQ2xpY2tPdmVybGF5LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuaW5pdGlhbGl6ZS5jYWxsKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuc2V0VXJsKHRoaXMuY29uZmlnLnVybCk7XHJcbiAgICAgICAgdmFyIGVsZW1lbnQgPSB0aGlzLmdldERvbUVsZW1lbnQoKTtcclxuICAgICAgICBlbGVtZW50Lm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKGVsZW1lbnQuZGF0YSgndXJsJykpIHtcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5vcGVuKGVsZW1lbnQuZGF0YSgndXJsJyksICdfYmxhbmsnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogR2V0cyB0aGUgVVJMIHRoYXQgc2hvdWxkIGJlIGZvbGxvd2VkIHdoZW4gdGhlIHdhdGVybWFyayBpcyBjbGlja2VkLlxyXG4gICAgICogQHJldHVybnMge3N0cmluZ30gdGhlIHdhdGVybWFyayBVUkxcclxuICAgICAqL1xyXG4gICAgQ2xpY2tPdmVybGF5LnByb3RvdHlwZS5nZXRVcmwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RG9tRWxlbWVudCgpLmRhdGEoJ3VybCcpO1xyXG4gICAgfTtcclxuICAgIENsaWNrT3ZlcmxheS5wcm90b3R5cGUuc2V0VXJsID0gZnVuY3Rpb24gKHVybCkge1xyXG4gICAgICAgIGlmICh1cmwgPT09IHVuZGVmaW5lZCB8fCB1cmwgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICB1cmwgPSAnJztcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5nZXREb21FbGVtZW50KCkuZGF0YSgndXJsJywgdXJsKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gQ2xpY2tPdmVybGF5O1xyXG59KGJ1dHRvbl8xLkJ1dHRvbikpO1xyXG5leHBvcnRzLkNsaWNrT3ZlcmxheSA9IENsaWNrT3ZlcmxheTtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL2NsaWNrb3ZlcmxheS50c1xuLy8gbW9kdWxlIGlkID0gMjdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIHRvZ2dsZWJ1dHRvbl8xID0gcmVxdWlyZShcIi4vdG9nZ2xlYnV0dG9uXCIpO1xyXG4vKipcclxuICogQSBidXR0b24gdGhhdCB0b2dnbGVzIHRoZSBwbGF5ZXIgYmV0d2VlbiB3aW5kb3dlZCBhbmQgZnVsbHNjcmVlbiB2aWV3LlxyXG4gKi9cclxudmFyIEZ1bGxzY3JlZW5Ub2dnbGVCdXR0b24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoRnVsbHNjcmVlblRvZ2dsZUJ1dHRvbiwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIEZ1bGxzY3JlZW5Ub2dnbGVCdXR0b24oY29uZmlnKSB7XHJcbiAgICAgICAgaWYgKGNvbmZpZyA9PT0gdm9pZCAwKSB7IGNvbmZpZyA9IHt9OyB9XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgY29uZmlnKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLmNvbmZpZyA9IF90aGlzLm1lcmdlQ29uZmlnKGNvbmZpZywge1xyXG4gICAgICAgICAgICBjc3NDbGFzczogJ3VpLWZ1bGxzY3JlZW50b2dnbGVidXR0b24nLFxyXG4gICAgICAgICAgICB0ZXh0OiAnRnVsbHNjcmVlbicsXHJcbiAgICAgICAgfSwgX3RoaXMuY29uZmlnKTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBGdWxsc2NyZWVuVG9nZ2xlQnV0dG9uLnByb3RvdHlwZS5jb25maWd1cmUgPSBmdW5jdGlvbiAocGxheWVyLCB1aW1hbmFnZXIpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuY29uZmlndXJlLmNhbGwodGhpcywgcGxheWVyLCB1aW1hbmFnZXIpO1xyXG4gICAgICAgIHZhciBmdWxsc2NyZWVuU3RhdGVIYW5kbGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAocGxheWVyLmlzRnVsbHNjcmVlbigpKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5vbigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMub2ZmKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX0ZVTExTQ1JFRU5fRU5URVIsIGZ1bGxzY3JlZW5TdGF0ZUhhbmRsZXIpO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX0ZVTExTQ1JFRU5fRVhJVCwgZnVsbHNjcmVlblN0YXRlSGFuZGxlcik7XHJcbiAgICAgICAgdGhpcy5vbkNsaWNrLnN1YnNjcmliZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChwbGF5ZXIuaXNGdWxsc2NyZWVuKCkpIHtcclxuICAgICAgICAgICAgICAgIHBsYXllci5leGl0RnVsbHNjcmVlbigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcGxheWVyLmVudGVyRnVsbHNjcmVlbigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gU3RhcnR1cCBpbml0XHJcbiAgICAgICAgZnVsbHNjcmVlblN0YXRlSGFuZGxlcigpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBGdWxsc2NyZWVuVG9nZ2xlQnV0dG9uO1xyXG59KHRvZ2dsZWJ1dHRvbl8xLlRvZ2dsZUJ1dHRvbikpO1xyXG5leHBvcnRzLkZ1bGxzY3JlZW5Ub2dnbGVCdXR0b24gPSBGdWxsc2NyZWVuVG9nZ2xlQnV0dG9uO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvZnVsbHNjcmVlbnRvZ2dsZWJ1dHRvbi50c1xuLy8gbW9kdWxlIGlkID0gMjhcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIHRvZ2dsZWJ1dHRvbl8xID0gcmVxdWlyZShcIi4vdG9nZ2xlYnV0dG9uXCIpO1xyXG4vKipcclxuICogQSBidXR0b24gdGhhdCB0b2dnbGVzIHRoZSB2aWRlbyB2aWV3IGJldHdlZW4gbm9ybWFsL21vbm8gYW5kIFZSL3N0ZXJlby5cclxuICovXHJcbnZhciBWUlRvZ2dsZUJ1dHRvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhWUlRvZ2dsZUJ1dHRvbiwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIFZSVG9nZ2xlQnV0dG9uKGNvbmZpZykge1xyXG4gICAgICAgIGlmIChjb25maWcgPT09IHZvaWQgMCkgeyBjb25maWcgPSB7fTsgfVxyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGNvbmZpZykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5jb25maWcgPSBfdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIHtcclxuICAgICAgICAgICAgY3NzQ2xhc3M6ICd1aS12cnRvZ2dsZWJ1dHRvbicsXHJcbiAgICAgICAgICAgIHRleHQ6ICdWUicsXHJcbiAgICAgICAgfSwgX3RoaXMuY29uZmlnKTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBWUlRvZ2dsZUJ1dHRvbi5wcm90b3R5cGUuY29uZmlndXJlID0gZnVuY3Rpb24gKHBsYXllciwgdWltYW5hZ2VyKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmNvbmZpZ3VyZS5jYWxsKHRoaXMsIHBsYXllciwgdWltYW5hZ2VyKTtcclxuICAgICAgICB2YXIgaXNWUkNvbmZpZ3VyZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIC8vIFZSIGF2YWlsYWJpbGl0eSBjYW5ub3QgYmUgY2hlY2tlZCB0aHJvdWdoIGdldFZSU3RhdHVzKCkgYmVjYXVzZSBpdCBpcyBhc3luY2hyb25vdXNseSBwb3B1bGF0ZWQgYW5kIG5vdFxyXG4gICAgICAgICAgICAvLyBhdmFpbGFibGUgYXQgVUkgaW5pdGlhbGl6YXRpb24uIEFzIGFuIGFsdGVybmF0aXZlLCB3ZSBjaGVjayB0aGUgVlIgc2V0dGluZ3MgaW4gdGhlIGNvbmZpZy5cclxuICAgICAgICAgICAgLy8gVE9ETyB1c2UgZ2V0VlJTdGF0dXMoKSB0aHJvdWdoIGlzVlJTdGVyZW9BdmFpbGFibGUoKSBvbmNlIHRoZSBwbGF5ZXIgaGFzIGJlZW4gcmV3cml0dGVuIGFuZCB0aGUgc3RhdHVzIGlzXHJcbiAgICAgICAgICAgIC8vIGF2YWlsYWJsZSBpbiBPTl9SRUFEWVxyXG4gICAgICAgICAgICB2YXIgY29uZmlnID0gcGxheWVyLmdldENvbmZpZygpO1xyXG4gICAgICAgICAgICByZXR1cm4gY29uZmlnLnNvdXJjZSAmJiBjb25maWcuc291cmNlLnZyICYmIGNvbmZpZy5zb3VyY2UudnIuY29udGVudFR5cGUgIT09ICdub25lJztcclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciBpc1ZSU3RlcmVvQXZhaWxhYmxlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gcGxheWVyLmdldFZSU3RhdHVzKCkuY29udGVudFR5cGUgIT09ICdub25lJztcclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciB2clN0YXRlSGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKGlzVlJDb25maWd1cmVkKCkgJiYgaXNWUlN0ZXJlb0F2YWlsYWJsZSgpKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5zaG93KCk7IC8vIHNob3cgYnV0dG9uIGluIGNhc2UgaXQgaXMgaGlkZGVuXHJcbiAgICAgICAgICAgICAgICBpZiAocGxheWVyLmdldFZSU3RhdHVzKCkuaXNTdGVyZW8pIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5vbigpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMub2ZmKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5oaWRlKCk7IC8vIGhpZGUgYnV0dG9uIGlmIG5vIHN0ZXJlbyBtb2RlIGF2YWlsYWJsZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICB2YXIgdnJCdXR0b25WaXNpYmlsaXR5SGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKGlzVlJDb25maWd1cmVkKCkpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLnNob3coKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLmhpZGUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fVlJfTU9ERV9DSEFOR0VELCB2clN0YXRlSGFuZGxlcik7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fVlJfU1RFUkVPX0NIQU5HRUQsIHZyU3RhdGVIYW5kbGVyKTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9WUl9FUlJPUiwgdnJTdGF0ZUhhbmRsZXIpO1xyXG4gICAgICAgIC8vIEhpZGUgYnV0dG9uIHdoZW4gVlIgc291cmNlIGdvZXMgYXdheVxyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1NPVVJDRV9VTkxPQURFRCwgdnJCdXR0b25WaXNpYmlsaXR5SGFuZGxlcik7XHJcbiAgICAgICAgLy8gU2hvdyBidXR0b24gd2hlbiBhIG5ldyBzb3VyY2UgaXMgbG9hZGVkIGFuZCBpdCdzIFZSXHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fUkVBRFksIHZyQnV0dG9uVmlzaWJpbGl0eUhhbmRsZXIpO1xyXG4gICAgICAgIHRoaXMub25DbGljay5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoIWlzVlJTdGVyZW9BdmFpbGFibGUoKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvbnNvbGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnTm8gVlIgY29udGVudCcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKHBsYXllci5nZXRWUlN0YXR1cygpLmlzU3RlcmVvKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyLnNldFZSU3RlcmVvKGZhbHNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHBsYXllci5zZXRWUlN0ZXJlbyh0cnVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIFNldCBzdGFydHVwIHZpc2liaWxpdHlcclxuICAgICAgICB2ckJ1dHRvblZpc2liaWxpdHlIYW5kbGVyKCk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFZSVG9nZ2xlQnV0dG9uO1xyXG59KHRvZ2dsZWJ1dHRvbl8xLlRvZ2dsZUJ1dHRvbikpO1xyXG5leHBvcnRzLlZSVG9nZ2xlQnV0dG9uID0gVlJUb2dnbGVCdXR0b247XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy92cnRvZ2dsZWJ1dHRvbi50c1xuLy8gbW9kdWxlIGlkID0gMjlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGxhYmVsXzEgPSByZXF1aXJlKFwiLi9sYWJlbFwiKTtcclxudmFyIHBsYXllcnV0aWxzXzEgPSByZXF1aXJlKFwiLi4vcGxheWVydXRpbHNcIik7XHJcbnZhciBzdHJpbmd1dGlsc18xID0gcmVxdWlyZShcIi4uL3N0cmluZ3V0aWxzXCIpO1xyXG52YXIgUGxheWJhY2tUaW1lTGFiZWxNb2RlO1xyXG4oZnVuY3Rpb24gKFBsYXliYWNrVGltZUxhYmVsTW9kZSkge1xyXG4gICAgUGxheWJhY2tUaW1lTGFiZWxNb2RlW1BsYXliYWNrVGltZUxhYmVsTW9kZVtcIkN1cnJlbnRUaW1lXCJdID0gMF0gPSBcIkN1cnJlbnRUaW1lXCI7XHJcbiAgICBQbGF5YmFja1RpbWVMYWJlbE1vZGVbUGxheWJhY2tUaW1lTGFiZWxNb2RlW1wiVG90YWxUaW1lXCJdID0gMV0gPSBcIlRvdGFsVGltZVwiO1xyXG4gICAgUGxheWJhY2tUaW1lTGFiZWxNb2RlW1BsYXliYWNrVGltZUxhYmVsTW9kZVtcIkN1cnJlbnRBbmRUb3RhbFRpbWVcIl0gPSAyXSA9IFwiQ3VycmVudEFuZFRvdGFsVGltZVwiO1xyXG59KShQbGF5YmFja1RpbWVMYWJlbE1vZGUgPSBleHBvcnRzLlBsYXliYWNrVGltZUxhYmVsTW9kZSB8fCAoZXhwb3J0cy5QbGF5YmFja1RpbWVMYWJlbE1vZGUgPSB7fSkpO1xyXG4vKipcclxuICogQSBsYWJlbCB0aGF0IGRpc3BsYXkgdGhlIGN1cnJlbnQgcGxheWJhY2sgdGltZSBhbmQgdGhlIHRvdGFsIHRpbWUgdGhyb3VnaCB7QGxpbmsgUGxheWJhY2tUaW1lTGFiZWwjc2V0VGltZSBzZXRUaW1lfVxyXG4gKiBvciBhbnkgc3RyaW5nIHRocm91Z2gge0BsaW5rIFBsYXliYWNrVGltZUxhYmVsI3NldFRleHQgc2V0VGV4dH0uXHJcbiAqL1xyXG52YXIgUGxheWJhY2tUaW1lTGFiZWwgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoUGxheWJhY2tUaW1lTGFiZWwsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBQbGF5YmFja1RpbWVMYWJlbChjb25maWcpIHtcclxuICAgICAgICBpZiAoY29uZmlnID09PSB2b2lkIDApIHsgY29uZmlnID0ge307IH1cclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBjb25maWcpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMuY29uZmlnID0gX3RoaXMubWVyZ2VDb25maWcoY29uZmlnLCB7XHJcbiAgICAgICAgICAgIGNzc0NsYXNzOiAndWktcGxheWJhY2t0aW1lbGFiZWwnLFxyXG4gICAgICAgICAgICB0aW1lTGFiZWxNb2RlOiBQbGF5YmFja1RpbWVMYWJlbE1vZGUuQ3VycmVudEFuZFRvdGFsVGltZSxcclxuICAgICAgICAgICAgaGlkZUluTGl2ZVBsYXliYWNrOiBmYWxzZSxcclxuICAgICAgICB9LCBfdGhpcy5jb25maWcpO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIFBsYXliYWNrVGltZUxhYmVsLnByb3RvdHlwZS5jb25maWd1cmUgPSBmdW5jdGlvbiAocGxheWVyLCB1aW1hbmFnZXIpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuY29uZmlndXJlLmNhbGwodGhpcywgcGxheWVyLCB1aW1hbmFnZXIpO1xyXG4gICAgICAgIHZhciBjb25maWcgPSB0aGlzLmdldENvbmZpZygpO1xyXG4gICAgICAgIHZhciBsaXZlID0gZmFsc2U7XHJcbiAgICAgICAgdmFyIGxpdmVDc3NDbGFzcyA9IHRoaXMucHJlZml4Q3NzKCd1aS1wbGF5YmFja3RpbWVsYWJlbC1saXZlJyk7XHJcbiAgICAgICAgdmFyIGxpdmVFZGdlQ3NzQ2xhc3MgPSB0aGlzLnByZWZpeENzcygndWktcGxheWJhY2t0aW1lbGFiZWwtbGl2ZS1lZGdlJyk7XHJcbiAgICAgICAgdmFyIG1pbldpZHRoID0gMDtcclxuICAgICAgICB2YXIgbGl2ZUNsaWNrSGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcGxheWVyLnRpbWVTaGlmdCgwKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciB1cGRhdGVMaXZlU3RhdGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIC8vIFBsYXllciBpcyBwbGF5aW5nIGEgbGl2ZSBzdHJlYW0gd2hlbiB0aGUgZHVyYXRpb24gaXMgaW5maW5pdGVcclxuICAgICAgICAgICAgbGl2ZSA9IHBsYXllci5pc0xpdmUoKTtcclxuICAgICAgICAgICAgLy8gQXR0YWNoL2RldGFjaCBsaXZlIG1hcmtlciBjbGFzc1xyXG4gICAgICAgICAgICBpZiAobGl2ZSkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuZ2V0RG9tRWxlbWVudCgpLmFkZENsYXNzKGxpdmVDc3NDbGFzcyk7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5zZXRUZXh0KCdMaXZlJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoY29uZmlnLmhpZGVJbkxpdmVQbGF5YmFjaykge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIF90aGlzLm9uQ2xpY2suc3Vic2NyaWJlKGxpdmVDbGlja0hhbmRsZXIpO1xyXG4gICAgICAgICAgICAgICAgdXBkYXRlTGl2ZVRpbWVzaGlmdFN0YXRlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5nZXREb21FbGVtZW50KCkucmVtb3ZlQ2xhc3MobGl2ZUNzc0NsYXNzKTtcclxuICAgICAgICAgICAgICAgIF90aGlzLmdldERvbUVsZW1lbnQoKS5yZW1vdmVDbGFzcyhsaXZlRWRnZUNzc0NsYXNzKTtcclxuICAgICAgICAgICAgICAgIF90aGlzLnNob3coKTtcclxuICAgICAgICAgICAgICAgIF90aGlzLm9uQ2xpY2sudW5zdWJzY3JpYmUobGl2ZUNsaWNrSGFuZGxlcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciB1cGRhdGVMaXZlVGltZXNoaWZ0U3RhdGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmICghbGl2ZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIFRoZSBwbGF5ZXIgaXMgb25seSBhdCB0aGUgbGl2ZSBlZGdlIGlmZiB0aGUgc3RyZWFtIGlzIG5vdCBzaGlmdGVkIGFuZCBpdCBpcyBhY3R1YWxseSBwbGF5aW5nIG9yIHBsYXliYWNrIGhhc1xyXG4gICAgICAgICAgICAvLyBuZXZlciBiZWVuIHN0YXJ0ZWQgKG1lYW5pbmcgaXQgaXNuJ3QgcGF1c2VkKS4gQSBwbGF5ZXIgdGhhdCBpcyBwYXVzZWQgaXMgYWx3YXlzIGJlaGluZCB0aGUgbGl2ZSBlZGdlLlxyXG4gICAgICAgICAgICAvLyBBbiBleGNlcHRpb24gaXMgbWFkZSBmb3IgbGl2ZSBzdHJlYW1zIHdpdGhvdXQgYSB0aW1lc2hpZnQgd2luZG93LCBiZWNhdXNlIGhlcmUgd2UgXCJzdG9wXCIgcGxheWJhY2sgaW5zdGVhZFxyXG4gICAgICAgICAgICAvLyBvZiBwYXVzaW5nIGl0IChmcm9tIGEgVUkgcGVyc3BlY3RpdmUpLCBzbyB3ZSBrZWVwIHRoZSBsaXZlIGVkZ2UgaW5kaWNhdG9yIG9uIGJlY2F1c2UgYSBwbGF5IHdvdWxkIGFsd2F5c1xyXG4gICAgICAgICAgICAvLyByZXN1bWUgYXQgdGhlIGxpdmUgZWRnZS5cclxuICAgICAgICAgICAgdmFyIGlzVGltZXNoaWZ0ZWQgPSBwbGF5ZXIuZ2V0VGltZVNoaWZ0KCkgPCAwO1xyXG4gICAgICAgICAgICB2YXIgaXNUaW1lc2hpZnRBdmFpbGFibGUgPSBwbGF5ZXIuZ2V0TWF4VGltZVNoaWZ0KCkgPCAwO1xyXG4gICAgICAgICAgICBpZiAoIWlzVGltZXNoaWZ0ZWQgJiYgKCFwbGF5ZXIuaXNQYXVzZWQoKSB8fCAhaXNUaW1lc2hpZnRBdmFpbGFibGUpKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5nZXREb21FbGVtZW50KCkuYWRkQ2xhc3MobGl2ZUVkZ2VDc3NDbGFzcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5nZXREb21FbGVtZW50KCkucmVtb3ZlQ2xhc3MobGl2ZUVkZ2VDc3NDbGFzcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciBsaXZlU3RyZWFtRGV0ZWN0b3IgPSBuZXcgcGxheWVydXRpbHNfMS5QbGF5ZXJVdGlscy5MaXZlU3RyZWFtRGV0ZWN0b3IocGxheWVyKTtcclxuICAgICAgICBsaXZlU3RyZWFtRGV0ZWN0b3Iub25MaXZlQ2hhbmdlZC5zdWJzY3JpYmUoZnVuY3Rpb24gKHNlbmRlciwgYXJncykge1xyXG4gICAgICAgICAgICBsaXZlID0gYXJncy5saXZlO1xyXG4gICAgICAgICAgICB1cGRhdGVMaXZlU3RhdGUoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBsaXZlU3RyZWFtRGV0ZWN0b3IuZGV0ZWN0KCk7IC8vIEluaXRpYWwgZGV0ZWN0aW9uXHJcbiAgICAgICAgdmFyIHBsYXliYWNrVGltZUhhbmRsZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmICghbGl2ZSAmJiBwbGF5ZXIuZ2V0RHVyYXRpb24oKSAhPT0gSW5maW5pdHkpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLnNldFRpbWUocGxheWVyLmdldEN1cnJlbnRUaW1lKCksIHBsYXllci5nZXREdXJhdGlvbigpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBUbyBhdm9pZCAnanVtcGluZycgaW4gdGhlIFVJIGJ5IHZhcnlpbmcgbGFiZWwgc2l6ZXMgZHVlIHRvIG5vbi1tb25vc3BhY2VkIGZvbnRzLFxyXG4gICAgICAgICAgICAvLyB3ZSBncmFkdWFsbHkgaW5jcmVhc2UgdGhlIG1pbi13aWR0aCB3aXRoIHRoZSBjb250ZW50IHRvIHJlYWNoIGEgc3RhYmxlIHNpemUuXHJcbiAgICAgICAgICAgIHZhciB3aWR0aCA9IF90aGlzLmdldERvbUVsZW1lbnQoKS53aWR0aCgpO1xyXG4gICAgICAgICAgICBpZiAod2lkdGggPiBtaW5XaWR0aCkge1xyXG4gICAgICAgICAgICAgICAgbWluV2lkdGggPSB3aWR0aDtcclxuICAgICAgICAgICAgICAgIF90aGlzLmdldERvbUVsZW1lbnQoKS5jc3Moe1xyXG4gICAgICAgICAgICAgICAgICAgICdtaW4td2lkdGgnOiBtaW5XaWR0aCArICdweCcsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fVElNRV9DSEFOR0VELCBwbGF5YmFja1RpbWVIYW5kbGVyKTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9TRUVLRUQsIHBsYXliYWNrVGltZUhhbmRsZXIpO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX0NBU1RfVElNRV9VUERBVEVELCBwbGF5YmFja1RpbWVIYW5kbGVyKTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9USU1FX1NISUZULCB1cGRhdGVMaXZlVGltZXNoaWZ0U3RhdGUpO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1RJTUVfU0hJRlRFRCwgdXBkYXRlTGl2ZVRpbWVzaGlmdFN0YXRlKTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9QTEFZLCB1cGRhdGVMaXZlVGltZXNoaWZ0U3RhdGUpO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1BBVVNFRCwgdXBkYXRlTGl2ZVRpbWVzaGlmdFN0YXRlKTtcclxuICAgICAgICB2YXIgaW5pdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgLy8gUmVzZXQgbWluLXdpZHRoIHdoZW4gYSBuZXcgc291cmNlIGlzIHJlYWR5IChlc3BlY2lhbGx5IGZvciBzd2l0Y2hpbmcgVk9EL0xpdmUgbW9kZXMgd2hlcmUgdGhlIGxhYmVsIGNvbnRlbnRcclxuICAgICAgICAgICAgLy8gY2hhbmdlcylcclxuICAgICAgICAgICAgbWluV2lkdGggPSAwO1xyXG4gICAgICAgICAgICBfdGhpcy5nZXREb21FbGVtZW50KCkuY3NzKHtcclxuICAgICAgICAgICAgICAgICdtaW4td2lkdGgnOiBudWxsLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgLy8gU2V0IHRpbWUgZm9ybWF0IGRlcGVuZGluZyBvbiBzb3VyY2UgZHVyYXRpb25cclxuICAgICAgICAgICAgX3RoaXMudGltZUZvcm1hdCA9IE1hdGguYWJzKHBsYXllci5pc0xpdmUoKSA/IHBsYXllci5nZXRNYXhUaW1lU2hpZnQoKSA6IHBsYXllci5nZXREdXJhdGlvbigpKSA+PSAzNjAwID9cclxuICAgICAgICAgICAgICAgIHN0cmluZ3V0aWxzXzEuU3RyaW5nVXRpbHMuRk9STUFUX0hITU1TUyA6IHN0cmluZ3V0aWxzXzEuU3RyaW5nVXRpbHMuRk9STUFUX01NU1M7XHJcbiAgICAgICAgICAgIC8vIFVwZGF0ZSB0aW1lIGFmdGVyIHRoZSBmb3JtYXQgaGFzIGJlZW4gc2V0XHJcbiAgICAgICAgICAgIHBsYXliYWNrVGltZUhhbmRsZXIoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1JFQURZLCBpbml0KTtcclxuICAgICAgICBpbml0KCk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBTZXRzIHRoZSBjdXJyZW50IHBsYXliYWNrIHRpbWUgYW5kIHRvdGFsIGR1cmF0aW9uLlxyXG4gICAgICogQHBhcmFtIHBsYXliYWNrU2Vjb25kcyB0aGUgY3VycmVudCBwbGF5YmFjayB0aW1lIGluIHNlY29uZHNcclxuICAgICAqIEBwYXJhbSBkdXJhdGlvblNlY29uZHMgdGhlIHRvdGFsIGR1cmF0aW9uIGluIHNlY29uZHNcclxuICAgICAqL1xyXG4gICAgUGxheWJhY2tUaW1lTGFiZWwucHJvdG90eXBlLnNldFRpbWUgPSBmdW5jdGlvbiAocGxheWJhY2tTZWNvbmRzLCBkdXJhdGlvblNlY29uZHMpIHtcclxuICAgICAgICB2YXIgY3VycmVudFRpbWUgPSBzdHJpbmd1dGlsc18xLlN0cmluZ1V0aWxzLnNlY29uZHNUb1RpbWUocGxheWJhY2tTZWNvbmRzLCB0aGlzLnRpbWVGb3JtYXQpO1xyXG4gICAgICAgIHZhciB0b3RhbFRpbWUgPSBzdHJpbmd1dGlsc18xLlN0cmluZ1V0aWxzLnNlY29uZHNUb1RpbWUoZHVyYXRpb25TZWNvbmRzLCB0aGlzLnRpbWVGb3JtYXQpO1xyXG4gICAgICAgIHN3aXRjaCAodGhpcy5jb25maWcudGltZUxhYmVsTW9kZSkge1xyXG4gICAgICAgICAgICBjYXNlIFBsYXliYWNrVGltZUxhYmVsTW9kZS5DdXJyZW50VGltZTpcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0VGV4dChcIlwiICsgY3VycmVudFRpbWUpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgUGxheWJhY2tUaW1lTGFiZWxNb2RlLlRvdGFsVGltZTpcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0VGV4dChcIlwiICsgdG90YWxUaW1lKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFBsYXliYWNrVGltZUxhYmVsTW9kZS5DdXJyZW50QW5kVG90YWxUaW1lOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRUZXh0KGN1cnJlbnRUaW1lICsgXCIgLyBcIiArIHRvdGFsVGltZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBTZXRzIHRoZSBjdXJyZW50IHRpbWUgZm9ybWF0XHJcbiAgICAgKiBAcGFyYW0gdGltZUZvcm1hdCB0aGUgdGltZSBmb3JtYXRcclxuICAgICAqL1xyXG4gICAgUGxheWJhY2tUaW1lTGFiZWwucHJvdG90eXBlLnNldFRpbWVGb3JtYXQgPSBmdW5jdGlvbiAodGltZUZvcm1hdCkge1xyXG4gICAgICAgIHRoaXMudGltZUZvcm1hdCA9IHRpbWVGb3JtYXQ7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFBsYXliYWNrVGltZUxhYmVsO1xyXG59KGxhYmVsXzEuTGFiZWwpKTtcclxuZXhwb3J0cy5QbGF5YmFja1RpbWVMYWJlbCA9IFBsYXliYWNrVGltZUxhYmVsO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvcGxheWJhY2t0aW1lbGFiZWwudHNcbi8vIG1vZHVsZSBpZCA9IDMwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciB0b2dnbGVidXR0b25fMSA9IHJlcXVpcmUoXCIuL3RvZ2dsZWJ1dHRvblwiKTtcclxuLyoqXHJcbiAqIEEgYnV0dG9uIHRoYXQgdG9nZ2xlcyB2aXNpYmlsaXR5IG9mIGEgc2V0dGluZ3MgcGFuZWwuXHJcbiAqL1xyXG52YXIgU2V0dGluZ3NUb2dnbGVCdXR0b24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoU2V0dGluZ3NUb2dnbGVCdXR0b24sIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBTZXR0aW5nc1RvZ2dsZUJ1dHRvbihjb25maWcpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBjb25maWcpIHx8IHRoaXM7XHJcbiAgICAgICAgaWYgKCFjb25maWcuc2V0dGluZ3NQYW5lbCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIFNldHRpbmdzUGFuZWwgaXMgbWlzc2luZycpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBfdGhpcy5jb25maWcgPSBfdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIHtcclxuICAgICAgICAgICAgY3NzQ2xhc3M6ICd1aS1zZXR0aW5nc3RvZ2dsZWJ1dHRvbicsXHJcbiAgICAgICAgICAgIHRleHQ6ICdTZXR0aW5ncycsXHJcbiAgICAgICAgICAgIHNldHRpbmdzUGFuZWw6IG51bGwsXHJcbiAgICAgICAgICAgIGF1dG9IaWRlV2hlbk5vQWN0aXZlU2V0dGluZ3M6IHRydWUsXHJcbiAgICAgICAgfSwgX3RoaXMuY29uZmlnKTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBTZXR0aW5nc1RvZ2dsZUJ1dHRvbi5wcm90b3R5cGUuY29uZmlndXJlID0gZnVuY3Rpb24gKHBsYXllciwgdWltYW5hZ2VyKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmNvbmZpZ3VyZS5jYWxsKHRoaXMsIHBsYXllciwgdWltYW5hZ2VyKTtcclxuICAgICAgICB2YXIgY29uZmlnID0gdGhpcy5nZXRDb25maWcoKTsgLy8gVE9ETyBmaXggZ2VuZXJpY3MgdHlwZSBpbmZlcmVuY2VcclxuICAgICAgICB2YXIgc2V0dGluZ3NQYW5lbCA9IGNvbmZpZy5zZXR0aW5nc1BhbmVsO1xyXG4gICAgICAgIHRoaXMub25DbGljay5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBzZXR0aW5nc1BhbmVsLnRvZ2dsZUhpZGRlbigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHNldHRpbmdzUGFuZWwub25TaG93LnN1YnNjcmliZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIC8vIFNldCB0b2dnbGUgc3RhdHVzIHRvIG9uIHdoZW4gdGhlIHNldHRpbmdzIHBhbmVsIHNob3dzXHJcbiAgICAgICAgICAgIF90aGlzLm9uKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgc2V0dGluZ3NQYW5lbC5vbkhpZGUuc3Vic2NyaWJlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgLy8gU2V0IHRvZ2dsZSBzdGF0dXMgdG8gb2ZmIHdoZW4gdGhlIHNldHRpbmdzIHBhbmVsIGhpZGVzXHJcbiAgICAgICAgICAgIF90aGlzLm9mZigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIEhhbmRsZSBhdXRvbWF0aWMgaGlkaW5nIG9mIHRoZSBidXR0b24gaWYgdGhlcmUgYXJlIG5vIHNldHRpbmdzIGZvciB0aGUgdXNlciB0byBpbnRlcmFjdCB3aXRoXHJcbiAgICAgICAgaWYgKGNvbmZpZy5hdXRvSGlkZVdoZW5Ob0FjdGl2ZVNldHRpbmdzKSB7XHJcbiAgICAgICAgICAgIC8vIFNldHVwIGhhbmRsZXIgdG8gc2hvdy9oaWRlIGJ1dHRvbiB3aGVuIHRoZSBzZXR0aW5ncyBjaGFuZ2VcclxuICAgICAgICAgICAgdmFyIHNldHRpbmdzUGFuZWxJdGVtc0NoYW5nZWRIYW5kbGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHNldHRpbmdzUGFuZWwuaGFzQWN0aXZlU2V0dGluZ3MoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5pc0hpZGRlbigpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnNob3coKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMuaXNTaG93bigpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vIFdpcmUgdGhlIGhhbmRsZXIgdG8gdGhlIGV2ZW50XHJcbiAgICAgICAgICAgIHNldHRpbmdzUGFuZWwub25TZXR0aW5nc1N0YXRlQ2hhbmdlZC5zdWJzY3JpYmUoc2V0dGluZ3NQYW5lbEl0ZW1zQ2hhbmdlZEhhbmRsZXIpO1xyXG4gICAgICAgICAgICAvLyBDYWxsIGhhbmRsZXIgZm9yIGZpcnN0IGluaXQgYXQgc3RhcnR1cFxyXG4gICAgICAgICAgICBzZXR0aW5nc1BhbmVsSXRlbXNDaGFuZ2VkSGFuZGxlcigpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICByZXR1cm4gU2V0dGluZ3NUb2dnbGVCdXR0b247XHJcbn0odG9nZ2xlYnV0dG9uXzEuVG9nZ2xlQnV0dG9uKSk7XHJcbmV4cG9ydHMuU2V0dGluZ3NUb2dnbGVCdXR0b24gPSBTZXR0aW5nc1RvZ2dsZUJ1dHRvbjtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3NldHRpbmdzdG9nZ2xlYnV0dG9uLnRzXG4vLyBtb2R1bGUgaWQgPSAzMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgY29tcG9uZW50XzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRcIik7XHJcbnZhciBldmVudGRpc3BhdGNoZXJfMSA9IHJlcXVpcmUoXCIuLi9ldmVudGRpc3BhdGNoZXJcIik7XHJcbnZhciBhcnJheXV0aWxzXzEgPSByZXF1aXJlKFwiLi4vYXJyYXl1dGlsc1wiKTtcclxudmFyIExpc3RTZWxlY3RvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhMaXN0U2VsZWN0b3IsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBMaXN0U2VsZWN0b3IoY29uZmlnKSB7XHJcbiAgICAgICAgaWYgKGNvbmZpZyA9PT0gdm9pZCAwKSB7IGNvbmZpZyA9IHt9OyB9XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgY29uZmlnKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLmxpc3RTZWxlY3RvckV2ZW50cyA9IHtcclxuICAgICAgICAgICAgb25JdGVtQWRkZWQ6IG5ldyBldmVudGRpc3BhdGNoZXJfMS5FdmVudERpc3BhdGNoZXIoKSxcclxuICAgICAgICAgICAgb25JdGVtUmVtb3ZlZDogbmV3IGV2ZW50ZGlzcGF0Y2hlcl8xLkV2ZW50RGlzcGF0Y2hlcigpLFxyXG4gICAgICAgICAgICBvbkl0ZW1TZWxlY3RlZDogbmV3IGV2ZW50ZGlzcGF0Y2hlcl8xLkV2ZW50RGlzcGF0Y2hlcigpLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgX3RoaXMuY29uZmlnID0gX3RoaXMubWVyZ2VDb25maWcoY29uZmlnLCB7XHJcbiAgICAgICAgICAgIGl0ZW1zOiBbXSxcclxuICAgICAgICAgICAgY3NzQ2xhc3M6ICd1aS1saXN0c2VsZWN0b3InLFxyXG4gICAgICAgIH0sIF90aGlzLmNvbmZpZyk7XHJcbiAgICAgICAgX3RoaXMuaXRlbXMgPSBfdGhpcy5jb25maWcuaXRlbXM7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgTGlzdFNlbGVjdG9yLnByb3RvdHlwZS5nZXRJdGVtSW5kZXggPSBmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgZm9yICh2YXIgaW5kZXggaW4gdGhpcy5pdGVtcykge1xyXG4gICAgICAgICAgICBpZiAoa2V5ID09PSB0aGlzLml0ZW1zW2luZGV4XS5rZXkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZUludChpbmRleCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIC0xO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2tzIGlmIHRoZSBzcGVjaWZpZWQgaXRlbSBpcyBwYXJ0IG9mIHRoaXMgc2VsZWN0b3IuXHJcbiAgICAgKiBAcGFyYW0ga2V5IHRoZSBrZXkgb2YgdGhlIGl0ZW0gdG8gY2hlY2tcclxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlmIHRoZSBpdGVtIGlzIHBhcnQgb2YgdGhpcyBzZWxlY3RvciwgZWxzZSBmYWxzZVxyXG4gICAgICovXHJcbiAgICBMaXN0U2VsZWN0b3IucHJvdG90eXBlLmhhc0l0ZW0gPSBmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0SXRlbUluZGV4KGtleSkgPiAtMTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEFkZHMgYW4gaXRlbSB0byB0aGlzIHNlbGVjdG9yIGJ5IGFwcGVuZGluZyBpdCB0byB0aGUgZW5kIG9mIHRoZSBsaXN0IG9mIGl0ZW1zLiBJZiBhbiBpdGVtIHdpdGggdGhlIHNwZWNpZmllZFxyXG4gICAgICoga2V5IGFscmVhZHkgZXhpc3RzLCBpdCBpcyByZXBsYWNlZC5cclxuICAgICAqIEBwYXJhbSBrZXkgdGhlIGtleSBvZiB0aGUgaXRlbSB0byBhZGRcclxuICAgICAqIEBwYXJhbSBsYWJlbCB0aGUgKGh1bWFuLXJlYWRhYmxlKSBsYWJlbCBvZiB0aGUgaXRlbSB0byBhZGRcclxuICAgICAqL1xyXG4gICAgTGlzdFNlbGVjdG9yLnByb3RvdHlwZS5hZGRJdGVtID0gZnVuY3Rpb24gKGtleSwgbGFiZWwpIHtcclxuICAgICAgICB2YXIgbGlzdEl0ZW0gPSB7IGtleToga2V5LCBsYWJlbDogbGFiZWwgfTtcclxuICAgICAgICAvLyBBcHBseSBmaWx0ZXIgZnVuY3Rpb25cclxuICAgICAgICBpZiAodGhpcy5jb25maWcuZmlsdGVyICYmICF0aGlzLmNvbmZpZy5maWx0ZXIobGlzdEl0ZW0pKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gQXBwbHkgdHJhbnNsYXRvciBmdW5jdGlvblxyXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZy50cmFuc2xhdG9yKSB7XHJcbiAgICAgICAgICAgIGxpc3RJdGVtLmxhYmVsID0gdGhpcy5jb25maWcudHJhbnNsYXRvcihsaXN0SXRlbSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucmVtb3ZlSXRlbShrZXkpOyAvLyBUcnkgdG8gcmVtb3ZlIGtleSBmaXJzdCB0byBnZXQgb3ZlcndyaXRlIGJlaGF2aW9yIGFuZCBhdm9pZCBkdXBsaWNhdGUga2V5c1xyXG4gICAgICAgIHRoaXMuaXRlbXMucHVzaChsaXN0SXRlbSk7XHJcbiAgICAgICAgdGhpcy5vbkl0ZW1BZGRlZEV2ZW50KGtleSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZW1vdmVzIGFuIGl0ZW0gZnJvbSB0aGlzIHNlbGVjdG9yLlxyXG4gICAgICogQHBhcmFtIGtleSB0aGUga2V5IG9mIHRoZSBpdGVtIHRvIHJlbW92ZVxyXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IHRydWUgaWYgcmVtb3ZhbCB3YXMgc3VjY2Vzc2Z1bCwgZmFsc2UgaWYgdGhlIGl0ZW0gaXMgbm90IHBhcnQgb2YgdGhpcyBzZWxlY3RvclxyXG4gICAgICovXHJcbiAgICBMaXN0U2VsZWN0b3IucHJvdG90eXBlLnJlbW92ZUl0ZW0gPSBmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5nZXRJdGVtSW5kZXgoa2V5KTtcclxuICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xyXG4gICAgICAgICAgICBhcnJheXV0aWxzXzEuQXJyYXlVdGlscy5yZW1vdmUodGhpcy5pdGVtcywgdGhpcy5pdGVtc1tpbmRleF0pO1xyXG4gICAgICAgICAgICB0aGlzLm9uSXRlbVJlbW92ZWRFdmVudChrZXkpO1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogU2VsZWN0cyBhbiBpdGVtIGZyb20gdGhlIGl0ZW1zIGluIHRoaXMgc2VsZWN0b3IuXHJcbiAgICAgKiBAcGFyYW0ga2V5IHRoZSBrZXkgb2YgdGhlIGl0ZW0gdG8gc2VsZWN0XHJcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpcyB0aGUgc2VsZWN0aW9uIHdhcyBzdWNjZXNzZnVsLCBmYWxzZSBpZiB0aGUgc2VsZWN0ZWQgaXRlbSBpcyBub3QgcGFydCBvZiB0aGUgc2VsZWN0b3JcclxuICAgICAqL1xyXG4gICAgTGlzdFNlbGVjdG9yLnByb3RvdHlwZS5zZWxlY3RJdGVtID0gZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgIGlmIChrZXkgPT09IHRoaXMuc2VsZWN0ZWRJdGVtKSB7XHJcbiAgICAgICAgICAgIC8vIGl0ZW1Db25maWcgaXMgYWxyZWFkeSBzZWxlY3RlZCwgc3VwcHJlc3MgYW55IGZ1cnRoZXIgYWN0aW9uXHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmdldEl0ZW1JbmRleChrZXkpO1xyXG4gICAgICAgIGlmIChpbmRleCA+IC0xKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJdGVtID0ga2V5O1xyXG4gICAgICAgICAgICB0aGlzLm9uSXRlbVNlbGVjdGVkRXZlbnQoa2V5KTtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdGhlIGtleSBvZiB0aGUgc2VsZWN0ZWQgaXRlbS5cclxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IHRoZSBrZXkgb2YgdGhlIHNlbGVjdGVkIGl0ZW0gb3IgbnVsbCBpZiBubyBpdGVtIGlzIHNlbGVjdGVkXHJcbiAgICAgKi9cclxuICAgIExpc3RTZWxlY3Rvci5wcm90b3R5cGUuZ2V0U2VsZWN0ZWRJdGVtID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNlbGVjdGVkSXRlbTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZXMgYWxsIGl0ZW1zIGZyb20gdGhpcyBzZWxlY3Rvci5cclxuICAgICAqL1xyXG4gICAgTGlzdFNlbGVjdG9yLnByb3RvdHlwZS5jbGVhckl0ZW1zID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vIGxvY2FsIGNvcHkgZm9yIGl0ZXJhdGlvbiBhZnRlciBjbGVhclxyXG4gICAgICAgIHZhciBpdGVtcyA9IHRoaXMuaXRlbXM7XHJcbiAgICAgICAgLy8gY2xlYXIgaXRlbXNcclxuICAgICAgICB0aGlzLml0ZW1zID0gW107XHJcbiAgICAgICAgLy8gY2xlYXIgdGhlIHNlbGVjdGlvbiBhcyB0aGUgc2VsZWN0ZWQgaXRlbSBpcyBhbHNvIHJlbW92ZWRcclxuICAgICAgICB0aGlzLnNlbGVjdGVkSXRlbSA9IG51bGw7XHJcbiAgICAgICAgLy8gZmlyZSBldmVudHNcclxuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIGl0ZW1zXzEgPSBpdGVtczsgX2kgPCBpdGVtc18xLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICB2YXIgaXRlbSA9IGl0ZW1zXzFbX2ldO1xyXG4gICAgICAgICAgICB0aGlzLm9uSXRlbVJlbW92ZWRFdmVudChpdGVtLmtleSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0aGUgbnVtYmVyIG9mIGl0ZW1zIGluIHRoaXMgc2VsZWN0b3IuXHJcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfVxyXG4gICAgICovXHJcbiAgICBMaXN0U2VsZWN0b3IucHJvdG90eXBlLml0ZW1Db3VudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5pdGVtcykubGVuZ3RoO1xyXG4gICAgfTtcclxuICAgIExpc3RTZWxlY3Rvci5wcm90b3R5cGUub25JdGVtQWRkZWRFdmVudCA9IGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICB0aGlzLmxpc3RTZWxlY3RvckV2ZW50cy5vbkl0ZW1BZGRlZC5kaXNwYXRjaCh0aGlzLCBrZXkpO1xyXG4gICAgfTtcclxuICAgIExpc3RTZWxlY3Rvci5wcm90b3R5cGUub25JdGVtUmVtb3ZlZEV2ZW50ID0gZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgIHRoaXMubGlzdFNlbGVjdG9yRXZlbnRzLm9uSXRlbVJlbW92ZWQuZGlzcGF0Y2godGhpcywga2V5KTtcclxuICAgIH07XHJcbiAgICBMaXN0U2VsZWN0b3IucHJvdG90eXBlLm9uSXRlbVNlbGVjdGVkRXZlbnQgPSBmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgdGhpcy5saXN0U2VsZWN0b3JFdmVudHMub25JdGVtU2VsZWN0ZWQuZGlzcGF0Y2godGhpcywga2V5KTtcclxuICAgIH07XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTGlzdFNlbGVjdG9yLnByb3RvdHlwZSwgXCJvbkl0ZW1BZGRlZFwiLCB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogR2V0cyB0aGUgZXZlbnQgdGhhdCBpcyBmaXJlZCB3aGVuIGFuIGl0ZW0gaXMgYWRkZWQgdG8gdGhlIGxpc3Qgb2YgaXRlbXMuXHJcbiAgICAgICAgICogQHJldHVybnMge0V2ZW50PExpc3RTZWxlY3RvcjxDb25maWc+LCBzdHJpbmc+fVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5saXN0U2VsZWN0b3JFdmVudHMub25JdGVtQWRkZWQuZ2V0RXZlbnQoKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShMaXN0U2VsZWN0b3IucHJvdG90eXBlLCBcIm9uSXRlbVJlbW92ZWRcIiwge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEdldHMgdGhlIGV2ZW50IHRoYXQgaXMgZmlyZWQgd2hlbiBhbiBpdGVtIGlzIHJlbW92ZWQgZnJvbSB0aGUgbGlzdCBvZiBpdGVtcy5cclxuICAgICAgICAgKiBAcmV0dXJucyB7RXZlbnQ8TGlzdFNlbGVjdG9yPENvbmZpZz4sIHN0cmluZz59XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxpc3RTZWxlY3RvckV2ZW50cy5vbkl0ZW1SZW1vdmVkLmdldEV2ZW50KCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTGlzdFNlbGVjdG9yLnByb3RvdHlwZSwgXCJvbkl0ZW1TZWxlY3RlZFwiLCB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogR2V0cyB0aGUgZXZlbnQgdGhhdCBpcyBmaXJlZCB3aGVuIGFuIGl0ZW0gaXMgc2VsZWN0ZWQgZnJvbSB0aGUgbGlzdCBvZiBpdGVtcy5cclxuICAgICAgICAgKiBAcmV0dXJucyB7RXZlbnQ8TGlzdFNlbGVjdG9yPENvbmZpZz4sIHN0cmluZz59XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxpc3RTZWxlY3RvckV2ZW50cy5vbkl0ZW1TZWxlY3RlZC5nZXRFdmVudCgpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIExpc3RTZWxlY3RvcjtcclxufShjb21wb25lbnRfMS5Db21wb25lbnQpKTtcclxuZXhwb3J0cy5MaXN0U2VsZWN0b3IgPSBMaXN0U2VsZWN0b3I7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9saXN0c2VsZWN0b3IudHNcbi8vIG1vZHVsZSBpZCA9IDMyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBzZXR0aW5nc3BhbmVsXzEgPSByZXF1aXJlKFwiLi4vc2V0dGluZ3NwYW5lbFwiKTtcclxudmFyIGZvbnRjb2xvcnNlbGVjdGJveF8xID0gcmVxdWlyZShcIi4vZm9udGNvbG9yc2VsZWN0Ym94XCIpO1xyXG52YXIgZm9udG9wYWNpdHlzZWxlY3Rib3hfMSA9IHJlcXVpcmUoXCIuL2ZvbnRvcGFjaXR5c2VsZWN0Ym94XCIpO1xyXG52YXIgZm9udGZhbWlseXNlbGVjdGJveF8xID0gcmVxdWlyZShcIi4vZm9udGZhbWlseXNlbGVjdGJveFwiKTtcclxudmFyIGZvbnRzaXplc2VsZWN0Ym94XzEgPSByZXF1aXJlKFwiLi9mb250c2l6ZXNlbGVjdGJveFwiKTtcclxudmFyIGJhY2tncm91bmRjb2xvcnNlbGVjdGJveF8xID0gcmVxdWlyZShcIi4vYmFja2dyb3VuZGNvbG9yc2VsZWN0Ym94XCIpO1xyXG52YXIgYmFja2dyb3VuZG9wYWNpdHlzZWxlY3Rib3hfMSA9IHJlcXVpcmUoXCIuL2JhY2tncm91bmRvcGFjaXR5c2VsZWN0Ym94XCIpO1xyXG52YXIgd2luZG93Y29sb3JzZWxlY3Rib3hfMSA9IHJlcXVpcmUoXCIuL3dpbmRvd2NvbG9yc2VsZWN0Ym94XCIpO1xyXG52YXIgd2luZG93b3BhY2l0eXNlbGVjdGJveF8xID0gcmVxdWlyZShcIi4vd2luZG93b3BhY2l0eXNlbGVjdGJveFwiKTtcclxudmFyIGNoYXJhY3RlcmVkZ2VzZWxlY3Rib3hfMSA9IHJlcXVpcmUoXCIuL2NoYXJhY3RlcmVkZ2VzZWxlY3Rib3hcIik7XHJcbnZhciBzdWJ0aXRsZXNldHRpbmdzbWFuYWdlcl8xID0gcmVxdWlyZShcIi4vc3VidGl0bGVzZXR0aW5nc21hbmFnZXJcIik7XHJcbnZhciBzdWJ0aXRsZXNldHRpbmdzY2xvc2VidXR0b25fMSA9IHJlcXVpcmUoXCIuL3N1YnRpdGxlc2V0dGluZ3NjbG9zZWJ1dHRvblwiKTtcclxudmFyIHN1YnRpdGxlc2V0dGluZ3NyZXNldGJ1dHRvbl8xID0gcmVxdWlyZShcIi4vc3VidGl0bGVzZXR0aW5nc3Jlc2V0YnV0dG9uXCIpO1xyXG4vKipcclxuICogU3VidGl0bGVTZXR0aW5nc1BhbmVsIGlzIGEgc2V0dGluZ3MgcGFuZWwgc3BlY2lmaWMgdG8gc3VidGl0bGVzIHNldHRpbmdzXHJcbiAqKi9cclxudmFyIFN1YnRpdGxlU2V0dGluZ3NQYW5lbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhTdWJ0aXRsZVNldHRpbmdzUGFuZWwsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBTdWJ0aXRsZVNldHRpbmdzUGFuZWwoY29uZmlnKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgY29uZmlnKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLm92ZXJsYXkgPSBjb25maWcub3ZlcmxheTtcclxuICAgICAgICB2YXIgbWFuYWdlciA9IG5ldyBzdWJ0aXRsZXNldHRpbmdzbWFuYWdlcl8xLlN1YnRpdGxlU2V0dGluZ3NNYW5hZ2VyKCk7XHJcbiAgICAgICAgX3RoaXMuY29uZmlnID0gX3RoaXMubWVyZ2VDb25maWcoY29uZmlnLCB7XHJcbiAgICAgICAgICAgIGNvbXBvbmVudHM6IFtcclxuICAgICAgICAgICAgICAgIG5ldyBzZXR0aW5nc3BhbmVsXzEuU2V0dGluZ3NQYW5lbEl0ZW0oJ0ZvbnQgc2l6ZScsIG5ldyBmb250c2l6ZXNlbGVjdGJveF8xLkZvbnRTaXplU2VsZWN0Qm94KHtcclxuICAgICAgICAgICAgICAgICAgICBvdmVybGF5OiBfdGhpcy5vdmVybGF5LCBzZXR0aW5nc01hbmFnZXI6IG1hbmFnZXIsXHJcbiAgICAgICAgICAgICAgICB9KSksXHJcbiAgICAgICAgICAgICAgICBuZXcgc2V0dGluZ3NwYW5lbF8xLlNldHRpbmdzUGFuZWxJdGVtKCdGb250IGZhbWlseScsIG5ldyBmb250ZmFtaWx5c2VsZWN0Ym94XzEuRm9udEZhbWlseVNlbGVjdEJveCh7XHJcbiAgICAgICAgICAgICAgICAgICAgb3ZlcmxheTogX3RoaXMub3ZlcmxheSwgc2V0dGluZ3NNYW5hZ2VyOiBtYW5hZ2VyLFxyXG4gICAgICAgICAgICAgICAgfSkpLFxyXG4gICAgICAgICAgICAgICAgbmV3IHNldHRpbmdzcGFuZWxfMS5TZXR0aW5nc1BhbmVsSXRlbSgnRm9udCBjb2xvcicsIG5ldyBmb250Y29sb3JzZWxlY3Rib3hfMS5Gb250Q29sb3JTZWxlY3RCb3goe1xyXG4gICAgICAgICAgICAgICAgICAgIG92ZXJsYXk6IF90aGlzLm92ZXJsYXksIHNldHRpbmdzTWFuYWdlcjogbWFuYWdlcixcclxuICAgICAgICAgICAgICAgIH0pKSxcclxuICAgICAgICAgICAgICAgIG5ldyBzZXR0aW5nc3BhbmVsXzEuU2V0dGluZ3NQYW5lbEl0ZW0oJ0ZvbnQgb3BhY2l0eScsIG5ldyBmb250b3BhY2l0eXNlbGVjdGJveF8xLkZvbnRPcGFjaXR5U2VsZWN0Qm94KHtcclxuICAgICAgICAgICAgICAgICAgICBvdmVybGF5OiBfdGhpcy5vdmVybGF5LCBzZXR0aW5nc01hbmFnZXI6IG1hbmFnZXIsXHJcbiAgICAgICAgICAgICAgICB9KSksXHJcbiAgICAgICAgICAgICAgICBuZXcgc2V0dGluZ3NwYW5lbF8xLlNldHRpbmdzUGFuZWxJdGVtKCdDaGFyYWN0ZXIgZWRnZScsIG5ldyBjaGFyYWN0ZXJlZGdlc2VsZWN0Ym94XzEuQ2hhcmFjdGVyRWRnZVNlbGVjdEJveCh7XHJcbiAgICAgICAgICAgICAgICAgICAgb3ZlcmxheTogX3RoaXMub3ZlcmxheSwgc2V0dGluZ3NNYW5hZ2VyOiBtYW5hZ2VyLFxyXG4gICAgICAgICAgICAgICAgfSkpLFxyXG4gICAgICAgICAgICAgICAgbmV3IHNldHRpbmdzcGFuZWxfMS5TZXR0aW5nc1BhbmVsSXRlbSgnQmFja2dyb3VuZCBjb2xvcicsIG5ldyBiYWNrZ3JvdW5kY29sb3JzZWxlY3Rib3hfMS5CYWNrZ3JvdW5kQ29sb3JTZWxlY3RCb3goe1xyXG4gICAgICAgICAgICAgICAgICAgIG92ZXJsYXk6IF90aGlzLm92ZXJsYXksIHNldHRpbmdzTWFuYWdlcjogbWFuYWdlcixcclxuICAgICAgICAgICAgICAgIH0pKSxcclxuICAgICAgICAgICAgICAgIG5ldyBzZXR0aW5nc3BhbmVsXzEuU2V0dGluZ3NQYW5lbEl0ZW0oJ0JhY2tncm91bmQgb3BhY2l0eScsIG5ldyBiYWNrZ3JvdW5kb3BhY2l0eXNlbGVjdGJveF8xLkJhY2tncm91bmRPcGFjaXR5U2VsZWN0Qm94KHtcclxuICAgICAgICAgICAgICAgICAgICBvdmVybGF5OiBfdGhpcy5vdmVybGF5LCBzZXR0aW5nc01hbmFnZXI6IG1hbmFnZXIsXHJcbiAgICAgICAgICAgICAgICB9KSksXHJcbiAgICAgICAgICAgICAgICBuZXcgc2V0dGluZ3NwYW5lbF8xLlNldHRpbmdzUGFuZWxJdGVtKCdXaW5kb3cgY29sb3InLCBuZXcgd2luZG93Y29sb3JzZWxlY3Rib3hfMS5XaW5kb3dDb2xvclNlbGVjdEJveCh7XHJcbiAgICAgICAgICAgICAgICAgICAgb3ZlcmxheTogX3RoaXMub3ZlcmxheSwgc2V0dGluZ3NNYW5hZ2VyOiBtYW5hZ2VyLFxyXG4gICAgICAgICAgICAgICAgfSkpLFxyXG4gICAgICAgICAgICAgICAgbmV3IHNldHRpbmdzcGFuZWxfMS5TZXR0aW5nc1BhbmVsSXRlbSgnV2luZG93IG9wYWNpdHknLCBuZXcgd2luZG93b3BhY2l0eXNlbGVjdGJveF8xLldpbmRvd09wYWNpdHlTZWxlY3RCb3goe1xyXG4gICAgICAgICAgICAgICAgICAgIG92ZXJsYXk6IF90aGlzLm92ZXJsYXksIHNldHRpbmdzTWFuYWdlcjogbWFuYWdlcixcclxuICAgICAgICAgICAgICAgIH0pKSxcclxuICAgICAgICAgICAgICAgIG5ldyBzZXR0aW5nc3BhbmVsXzEuU2V0dGluZ3NQYW5lbEl0ZW0obmV3IHN1YnRpdGxlc2V0dGluZ3NjbG9zZWJ1dHRvbl8xLlN1YnRpdGxlU2V0dGluZ3NDbG9zZUJ1dHRvbih7XHJcbiAgICAgICAgICAgICAgICAgICAgc3VidGl0bGVTZXR0aW5nc1BhbmVsOiBfdGhpcywgc2V0dGluZ3NQYW5lbDogY29uZmlnLnNldHRpbmdzUGFuZWwsXHJcbiAgICAgICAgICAgICAgICB9KSwgbmV3IHN1YnRpdGxlc2V0dGluZ3NyZXNldGJ1dHRvbl8xLlN1YnRpdGxlU2V0dGluZ3NSZXNldEJ1dHRvbih7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3NNYW5hZ2VyOiBtYW5hZ2VyLFxyXG4gICAgICAgICAgICAgICAgfSkpLFxyXG4gICAgICAgICAgICBdLFxyXG4gICAgICAgIH0sIF90aGlzLmNvbmZpZyk7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgU3VidGl0bGVTZXR0aW5nc1BhbmVsLnByb3RvdHlwZS5jb25maWd1cmUgPSBmdW5jdGlvbiAocGxheWVyLCB1aW1hbmFnZXIpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuY29uZmlndXJlLmNhbGwodGhpcywgcGxheWVyLCB1aW1hbmFnZXIpO1xyXG4gICAgICAgIHRoaXMub25TaG93LnN1YnNjcmliZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIF90aGlzLm92ZXJsYXkuZW5hYmxlUHJldmlld1N1YnRpdGxlTGFiZWwoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLm9uSGlkZS5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBfdGhpcy5vdmVybGF5LnJlbW92ZVByZXZpZXdTdWJ0aXRsZUxhYmVsKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFN1YnRpdGxlU2V0dGluZ3NQYW5lbDtcclxufShzZXR0aW5nc3BhbmVsXzEuU2V0dGluZ3NQYW5lbCkpO1xyXG5leHBvcnRzLlN1YnRpdGxlU2V0dGluZ3NQYW5lbCA9IFN1YnRpdGxlU2V0dGluZ3NQYW5lbDtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3N1YnRpdGxlc2V0dGluZ3Mvc3VidGl0bGVzZXR0aW5nc3BhbmVsLnRzXG4vLyBtb2R1bGUgaWQgPSAzM1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgc3VidGl0bGVzZXR0aW5nc2VsZWN0Ym94XzEgPSByZXF1aXJlKFwiLi9zdWJ0aXRsZXNldHRpbmdzZWxlY3Rib3hcIik7XHJcbi8qKlxyXG4gKiBBIHNlbGVjdCBib3ggcHJvdmlkaW5nIGEgc2VsZWN0aW9uIG9mIGRpZmZlcmVudCBmb250IGNvbG9ycy5cclxuICovXHJcbnZhciBGb250Q29sb3JTZWxlY3RCb3ggPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoRm9udENvbG9yU2VsZWN0Qm94LCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gRm9udENvbG9yU2VsZWN0Qm94KCkge1xyXG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcclxuICAgIH1cclxuICAgIEZvbnRDb2xvclNlbGVjdEJveC5wcm90b3R5cGUuY29uZmlndXJlID0gZnVuY3Rpb24gKHBsYXllciwgdWltYW5hZ2VyKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmNvbmZpZ3VyZS5jYWxsKHRoaXMsIHBsYXllciwgdWltYW5hZ2VyKTtcclxuICAgICAgICB0aGlzLmFkZEl0ZW0obnVsbCwgJ2RlZmF1bHQnKTtcclxuICAgICAgICB0aGlzLmFkZEl0ZW0oJ3doaXRlJywgJ3doaXRlJyk7XHJcbiAgICAgICAgdGhpcy5hZGRJdGVtKCdibGFjaycsICdibGFjaycpO1xyXG4gICAgICAgIHRoaXMuYWRkSXRlbSgncmVkJywgJ3JlZCcpO1xyXG4gICAgICAgIHRoaXMuYWRkSXRlbSgnZ3JlZW4nLCAnZ3JlZW4nKTtcclxuICAgICAgICB0aGlzLmFkZEl0ZW0oJ2JsdWUnLCAnYmx1ZScpO1xyXG4gICAgICAgIHRoaXMuYWRkSXRlbSgnY3lhbicsICdjeWFuJyk7XHJcbiAgICAgICAgdGhpcy5hZGRJdGVtKCd5ZWxsb3cnLCAneWVsbG93Jyk7XHJcbiAgICAgICAgdGhpcy5hZGRJdGVtKCdtYWdlbnRhJywgJ21hZ2VudGEnKTtcclxuICAgICAgICB2YXIgc2V0Q29sb3JBbmRPcGFjaXR5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoX3RoaXMuc2V0dGluZ3NNYW5hZ2VyLmZvbnRDb2xvci5pc1NldCgpICYmIF90aGlzLnNldHRpbmdzTWFuYWdlci5mb250T3BhY2l0eS5pc1NldCgpKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy50b2dnbGVPdmVybGF5Q2xhc3MoJ2ZvbnRjb2xvci0nICsgX3RoaXMuc2V0dGluZ3NNYW5hZ2VyLmZvbnRDb2xvci52YWx1ZSArIF90aGlzLnNldHRpbmdzTWFuYWdlci5mb250T3BhY2l0eS52YWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy50b2dnbGVPdmVybGF5Q2xhc3MobnVsbCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMub25JdGVtU2VsZWN0ZWQuc3Vic2NyaWJlKGZ1bmN0aW9uIChzZW5kZXIsIGtleSkge1xyXG4gICAgICAgICAgICBfdGhpcy5zZXR0aW5nc01hbmFnZXIuZm9udENvbG9yLnZhbHVlID0ga2V5O1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuc2V0dGluZ3NNYW5hZ2VyLmZvbnRDb2xvci5vbkNoYW5nZWQuc3Vic2NyaWJlKGZ1bmN0aW9uIChzZW5kZXIsIHByb3BlcnR5KSB7XHJcbiAgICAgICAgICAgIC8vIENvbG9yIGFuZCBvcGFjaXR5IGdvIHRvZ2V0aGVyLCBzbyB3ZSBuZWVkIHRvLi4uXHJcbiAgICAgICAgICAgIGlmICghX3RoaXMuc2V0dGluZ3NNYW5hZ2VyLmZvbnRDb2xvci5pc1NldCgpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyAuLi4gY2xlYXIgdGhlIG9wYWNpdHkgd2hlbiB0aGUgY29sb3IgaXMgbm90IHNldFxyXG4gICAgICAgICAgICAgICAgX3RoaXMuc2V0dGluZ3NNYW5hZ2VyLmZvbnRPcGFjaXR5LmNsZWFyKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoIV90aGlzLnNldHRpbmdzTWFuYWdlci5mb250T3BhY2l0eS5pc1NldCgpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyAuLi4gc2V0IGFuIG9wYWNpdHkgd2hlbiB0aGUgY29sb3IgaXMgc2V0XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5zZXR0aW5nc01hbmFnZXIuZm9udE9wYWNpdHkudmFsdWUgPSAnMTAwJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBfdGhpcy5zZWxlY3RJdGVtKHByb3BlcnR5LnZhbHVlKTtcclxuICAgICAgICAgICAgc2V0Q29sb3JBbmRPcGFjaXR5KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5zZXR0aW5nc01hbmFnZXIuZm9udE9wYWNpdHkub25DaGFuZ2VkLnN1YnNjcmliZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHNldENvbG9yQW5kT3BhY2l0eSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIExvYWQgaW5pdGlhbCB2YWx1ZVxyXG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzTWFuYWdlci5mb250Q29sb3IuaXNTZXQoKSkge1xyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdEl0ZW0odGhpcy5zZXR0aW5nc01hbmFnZXIuZm9udENvbG9yLnZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEZvbnRDb2xvclNlbGVjdEJveDtcclxufShzdWJ0aXRsZXNldHRpbmdzZWxlY3Rib3hfMS5TdWJ0aXRsZVNldHRpbmdTZWxlY3RCb3gpKTtcclxuZXhwb3J0cy5Gb250Q29sb3JTZWxlY3RCb3ggPSBGb250Q29sb3JTZWxlY3RCb3g7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9zdWJ0aXRsZXNldHRpbmdzL2ZvbnRjb2xvcnNlbGVjdGJveC50c1xuLy8gbW9kdWxlIGlkID0gMzRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIHN1YnRpdGxlc2V0dGluZ3NlbGVjdGJveF8xID0gcmVxdWlyZShcIi4vc3VidGl0bGVzZXR0aW5nc2VsZWN0Ym94XCIpO1xyXG4vKipcclxuICogQSBzZWxlY3QgYm94IHByb3ZpZGluZyBhIHNlbGVjdGlvbiBvZiBkaWZmZXJlbnQgZm9udCBjb2xvcnMuXHJcbiAqL1xyXG52YXIgRm9udE9wYWNpdHlTZWxlY3RCb3ggPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoRm9udE9wYWNpdHlTZWxlY3RCb3gsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBGb250T3BhY2l0eVNlbGVjdEJveCgpIHtcclxuICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XHJcbiAgICB9XHJcbiAgICBGb250T3BhY2l0eVNlbGVjdEJveC5wcm90b3R5cGUuY29uZmlndXJlID0gZnVuY3Rpb24gKHBsYXllciwgdWltYW5hZ2VyKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmNvbmZpZ3VyZS5jYWxsKHRoaXMsIHBsYXllciwgdWltYW5hZ2VyKTtcclxuICAgICAgICB0aGlzLmFkZEl0ZW0obnVsbCwgJ2RlZmF1bHQnKTtcclxuICAgICAgICB0aGlzLmFkZEl0ZW0oJzEwMCcsICcxMDAlJyk7XHJcbiAgICAgICAgdGhpcy5hZGRJdGVtKCc3NScsICc3NSUnKTtcclxuICAgICAgICB0aGlzLmFkZEl0ZW0oJzUwJywgJzUwJScpO1xyXG4gICAgICAgIHRoaXMuYWRkSXRlbSgnMjUnLCAnMjUlJyk7XHJcbiAgICAgICAgdGhpcy5vbkl0ZW1TZWxlY3RlZC5zdWJzY3JpYmUoZnVuY3Rpb24gKHNlbmRlciwga2V5KSB7XHJcbiAgICAgICAgICAgIF90aGlzLnNldHRpbmdzTWFuYWdlci5mb250T3BhY2l0eS52YWx1ZSA9IGtleTtcclxuICAgICAgICAgICAgLy8gQ29sb3IgYW5kIG9wYWNpdHkgZ28gdG9nZXRoZXIsIHNvIHdlIG5lZWQgdG8uLi5cclxuICAgICAgICAgICAgaWYgKCFfdGhpcy5zZXR0aW5nc01hbmFnZXIuZm9udE9wYWNpdHkuaXNTZXQoKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gLi4uIGNsZWFyIHRoZSBjb2xvciB3aGVuIHRoZSBvcGFjaXR5IGlzIG5vdCBzZXRcclxuICAgICAgICAgICAgICAgIF90aGlzLnNldHRpbmdzTWFuYWdlci5mb250Q29sb3IuY2xlYXIoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICghX3RoaXMuc2V0dGluZ3NNYW5hZ2VyLmZvbnRDb2xvci5pc1NldCgpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyAuLi4gc2V0IGEgY29sb3Igd2hlbiB0aGUgb3BhY2l0eSBpcyBzZXRcclxuICAgICAgICAgICAgICAgIF90aGlzLnNldHRpbmdzTWFuYWdlci5mb250Q29sb3IudmFsdWUgPSAnd2hpdGUnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gVXBkYXRlIHNlbGVjdGVkIGl0ZW0gd2hlbiB2YWx1ZSBpcyBzZXQgZnJvbSBzb21ld2hlcmUgZWxzZVxyXG4gICAgICAgIHRoaXMuc2V0dGluZ3NNYW5hZ2VyLmZvbnRPcGFjaXR5Lm9uQ2hhbmdlZC5zdWJzY3JpYmUoZnVuY3Rpb24gKHNlbmRlciwgcHJvcGVydHkpIHtcclxuICAgICAgICAgICAgX3RoaXMuc2VsZWN0SXRlbShwcm9wZXJ0eS52YWx1ZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gTG9hZCBpbml0aWFsIHZhbHVlXHJcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3NNYW5hZ2VyLmZvbnRPcGFjaXR5LmlzU2V0KCkpIHtcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RJdGVtKHRoaXMuc2V0dGluZ3NNYW5hZ2VyLmZvbnRPcGFjaXR5LnZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEZvbnRPcGFjaXR5U2VsZWN0Qm94O1xyXG59KHN1YnRpdGxlc2V0dGluZ3NlbGVjdGJveF8xLlN1YnRpdGxlU2V0dGluZ1NlbGVjdEJveCkpO1xyXG5leHBvcnRzLkZvbnRPcGFjaXR5U2VsZWN0Qm94ID0gRm9udE9wYWNpdHlTZWxlY3RCb3g7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9zdWJ0aXRsZXNldHRpbmdzL2ZvbnRvcGFjaXR5c2VsZWN0Ym94LnRzXG4vLyBtb2R1bGUgaWQgPSAzNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgc3VidGl0bGVzZXR0aW5nc2VsZWN0Ym94XzEgPSByZXF1aXJlKFwiLi9zdWJ0aXRsZXNldHRpbmdzZWxlY3Rib3hcIik7XHJcbi8qKlxyXG4gKiBBIHNlbGVjdCBib3ggcHJvdmlkaW5nIGEgc2VsZWN0aW9uIG9mIGRpZmZlcmVudCBmb250IGZhbWlseS5cclxuICovXHJcbnZhciBGb250RmFtaWx5U2VsZWN0Qm94ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKEZvbnRGYW1pbHlTZWxlY3RCb3gsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBGb250RmFtaWx5U2VsZWN0Qm94KCkge1xyXG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcclxuICAgIH1cclxuICAgIEZvbnRGYW1pbHlTZWxlY3RCb3gucHJvdG90eXBlLmNvbmZpZ3VyZSA9IGZ1bmN0aW9uIChwbGF5ZXIsIHVpbWFuYWdlcikge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5jb25maWd1cmUuY2FsbCh0aGlzLCBwbGF5ZXIsIHVpbWFuYWdlcik7XHJcbiAgICAgICAgdGhpcy5hZGRJdGVtKG51bGwsICdkZWZhdWx0Jyk7XHJcbiAgICAgICAgdGhpcy5hZGRJdGVtKCdtb25vc3BhY2Vkc2VyaWYnLCAnbW9ub3NwYWNlZCBzZXJpZicpO1xyXG4gICAgICAgIHRoaXMuYWRkSXRlbSgncHJvcG9ydGlvbmFsc2VyaWYnLCAncHJvcG9ydGlvbmFsIHNlcmlmJyk7XHJcbiAgICAgICAgdGhpcy5hZGRJdGVtKCdtb25vc3BhY2Vkc2Fuc3NlcmlmJywgJ21vbm9zcGFjZWQgc2FucyBzZXJpZicpO1xyXG4gICAgICAgIHRoaXMuYWRkSXRlbSgncHJvcG9ydGlvbmFsc2Fuc3NlcmlmJywgJ3Byb3BvcnRpb25hbCBzYW5zIHNlcmlmJyk7XHJcbiAgICAgICAgdGhpcy5hZGRJdGVtKCdjYXN1YWwnLCAnY2FzdWFsJyk7XHJcbiAgICAgICAgdGhpcy5hZGRJdGVtKCdjdXJzaXZlJywgJ2N1cnNpdmUnKTtcclxuICAgICAgICB0aGlzLmFkZEl0ZW0oJ3NtYWxsY2FwaXRhbCcsICdzbWFsbCBjYXBpdGFsJyk7XHJcbiAgICAgICAgdGhpcy5zZXR0aW5nc01hbmFnZXIuZm9udEZhbWlseS5vbkNoYW5nZWQuc3Vic2NyaWJlKGZ1bmN0aW9uIChzZW5kZXIsIHByb3BlcnR5KSB7XHJcbiAgICAgICAgICAgIGlmIChwcm9wZXJ0eS5pc1NldCgpKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy50b2dnbGVPdmVybGF5Q2xhc3MoJ2ZvbnRmYW1pbHktJyArIHByb3BlcnR5LnZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLnRvZ2dsZU92ZXJsYXlDbGFzcyhudWxsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBTZWxlY3QgdGhlIGl0ZW0gaW4gY2FzZSB0aGUgcHJvcGVydHkgd2FzIHNldCBmcm9tIG91dHNpZGVcclxuICAgICAgICAgICAgX3RoaXMuc2VsZWN0SXRlbShwcm9wZXJ0eS52YWx1ZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5vbkl0ZW1TZWxlY3RlZC5zdWJzY3JpYmUoZnVuY3Rpb24gKHNlbmRlciwga2V5KSB7XHJcbiAgICAgICAgICAgIF90aGlzLnNldHRpbmdzTWFuYWdlci5mb250RmFtaWx5LnZhbHVlID0ga2V5O1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIExvYWQgaW5pdGlhbCB2YWx1ZVxyXG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzTWFuYWdlci5mb250RmFtaWx5LmlzU2V0KCkpIHtcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RJdGVtKHRoaXMuc2V0dGluZ3NNYW5hZ2VyLmZvbnRGYW1pbHkudmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICByZXR1cm4gRm9udEZhbWlseVNlbGVjdEJveDtcclxufShzdWJ0aXRsZXNldHRpbmdzZWxlY3Rib3hfMS5TdWJ0aXRsZVNldHRpbmdTZWxlY3RCb3gpKTtcclxuZXhwb3J0cy5Gb250RmFtaWx5U2VsZWN0Qm94ID0gRm9udEZhbWlseVNlbGVjdEJveDtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3N1YnRpdGxlc2V0dGluZ3MvZm9udGZhbWlseXNlbGVjdGJveC50c1xuLy8gbW9kdWxlIGlkID0gMzZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIHN1YnRpdGxlc2V0dGluZ3NlbGVjdGJveF8xID0gcmVxdWlyZShcIi4vc3VidGl0bGVzZXR0aW5nc2VsZWN0Ym94XCIpO1xyXG4vKipcclxuICogQSBzZWxlY3QgYm94IHByb3ZpZGluZyBhIHNlbGVjdGlvbiBvZiBkaWZmZXJlbnQgZm9udCBjb2xvcnMuXHJcbiAqL1xyXG52YXIgRm9udFNpemVTZWxlY3RCb3ggPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoRm9udFNpemVTZWxlY3RCb3gsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBGb250U2l6ZVNlbGVjdEJveCgpIHtcclxuICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XHJcbiAgICB9XHJcbiAgICBGb250U2l6ZVNlbGVjdEJveC5wcm90b3R5cGUuY29uZmlndXJlID0gZnVuY3Rpb24gKHBsYXllciwgdWltYW5hZ2VyKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmNvbmZpZ3VyZS5jYWxsKHRoaXMsIHBsYXllciwgdWltYW5hZ2VyKTtcclxuICAgICAgICB0aGlzLmFkZEl0ZW0obnVsbCwgJ2RlZmF1bHQnKTtcclxuICAgICAgICB0aGlzLmFkZEl0ZW0oJzUwJywgJzUwJScpO1xyXG4gICAgICAgIHRoaXMuYWRkSXRlbSgnNzUnLCAnNzUlJyk7XHJcbiAgICAgICAgdGhpcy5hZGRJdGVtKCcxMDAnLCAnMTAwJScpO1xyXG4gICAgICAgIHRoaXMuYWRkSXRlbSgnMTUwJywgJzE1MCUnKTtcclxuICAgICAgICB0aGlzLmFkZEl0ZW0oJzIwMCcsICcyMDAlJyk7XHJcbiAgICAgICAgdGhpcy5hZGRJdGVtKCczMDAnLCAnMzAwJScpO1xyXG4gICAgICAgIHRoaXMuYWRkSXRlbSgnNDAwJywgJzQwMCUnKTtcclxuICAgICAgICB0aGlzLnNldHRpbmdzTWFuYWdlci5mb250U2l6ZS5vbkNoYW5nZWQuc3Vic2NyaWJlKGZ1bmN0aW9uIChzZW5kZXIsIHByb3BlcnR5KSB7XHJcbiAgICAgICAgICAgIGlmIChwcm9wZXJ0eS5pc1NldCgpKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy50b2dnbGVPdmVybGF5Q2xhc3MoJ2ZvbnRzaXplLScgKyBwcm9wZXJ0eS52YWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy50b2dnbGVPdmVybGF5Q2xhc3MobnVsbCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gU2VsZWN0IHRoZSBpdGVtIGluIGNhc2UgdGhlIHByb3BlcnR5IHdhcyBzZXQgZnJvbSBvdXRzaWRlXHJcbiAgICAgICAgICAgIF90aGlzLnNlbGVjdEl0ZW0ocHJvcGVydHkudmFsdWUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMub25JdGVtU2VsZWN0ZWQuc3Vic2NyaWJlKGZ1bmN0aW9uIChzZW5kZXIsIGtleSkge1xyXG4gICAgICAgICAgICBfdGhpcy5zZXR0aW5nc01hbmFnZXIuZm9udFNpemUudmFsdWUgPSBrZXk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gTG9hZCBpbml0aWFsIHZhbHVlXHJcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3NNYW5hZ2VyLmZvbnRTaXplLmlzU2V0KCkpIHtcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RJdGVtKHRoaXMuc2V0dGluZ3NNYW5hZ2VyLmZvbnRTaXplLnZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEZvbnRTaXplU2VsZWN0Qm94O1xyXG59KHN1YnRpdGxlc2V0dGluZ3NlbGVjdGJveF8xLlN1YnRpdGxlU2V0dGluZ1NlbGVjdEJveCkpO1xyXG5leHBvcnRzLkZvbnRTaXplU2VsZWN0Qm94ID0gRm9udFNpemVTZWxlY3RCb3g7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9zdWJ0aXRsZXNldHRpbmdzL2ZvbnRzaXplc2VsZWN0Ym94LnRzXG4vLyBtb2R1bGUgaWQgPSAzN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgc3VidGl0bGVzZXR0aW5nc2VsZWN0Ym94XzEgPSByZXF1aXJlKFwiLi9zdWJ0aXRsZXNldHRpbmdzZWxlY3Rib3hcIik7XHJcbi8qKlxyXG4gKiBBIHNlbGVjdCBib3ggcHJvdmlkaW5nIGEgc2VsZWN0aW9uIG9mIGRpZmZlcmVudCBiYWNrZ3JvdW5kIGNvbG9ycy5cclxuICovXHJcbnZhciBCYWNrZ3JvdW5kQ29sb3JTZWxlY3RCb3ggPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoQmFja2dyb3VuZENvbG9yU2VsZWN0Qm94LCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gQmFja2dyb3VuZENvbG9yU2VsZWN0Qm94KCkge1xyXG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcclxuICAgIH1cclxuICAgIEJhY2tncm91bmRDb2xvclNlbGVjdEJveC5wcm90b3R5cGUuY29uZmlndXJlID0gZnVuY3Rpb24gKHBsYXllciwgdWltYW5hZ2VyKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmNvbmZpZ3VyZS5jYWxsKHRoaXMsIHBsYXllciwgdWltYW5hZ2VyKTtcclxuICAgICAgICB0aGlzLmFkZEl0ZW0obnVsbCwgJ2RlZmF1bHQnKTtcclxuICAgICAgICB0aGlzLmFkZEl0ZW0oJ3doaXRlJywgJ3doaXRlJyk7XHJcbiAgICAgICAgdGhpcy5hZGRJdGVtKCdibGFjaycsICdibGFjaycpO1xyXG4gICAgICAgIHRoaXMuYWRkSXRlbSgncmVkJywgJ3JlZCcpO1xyXG4gICAgICAgIHRoaXMuYWRkSXRlbSgnZ3JlZW4nLCAnZ3JlZW4nKTtcclxuICAgICAgICB0aGlzLmFkZEl0ZW0oJ2JsdWUnLCAnYmx1ZScpO1xyXG4gICAgICAgIHRoaXMuYWRkSXRlbSgnY3lhbicsICdjeWFuJyk7XHJcbiAgICAgICAgdGhpcy5hZGRJdGVtKCd5ZWxsb3cnLCAneWVsbG93Jyk7XHJcbiAgICAgICAgdGhpcy5hZGRJdGVtKCdtYWdlbnRhJywgJ21hZ2VudGEnKTtcclxuICAgICAgICB2YXIgc2V0Q29sb3JBbmRPcGFjaXR5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoX3RoaXMuc2V0dGluZ3NNYW5hZ2VyLmJhY2tncm91bmRDb2xvci5pc1NldCgpICYmIF90aGlzLnNldHRpbmdzTWFuYWdlci5iYWNrZ3JvdW5kT3BhY2l0eS5pc1NldCgpKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy50b2dnbGVPdmVybGF5Q2xhc3MoJ2JnY29sb3ItJyArIF90aGlzLnNldHRpbmdzTWFuYWdlci5iYWNrZ3JvdW5kQ29sb3IudmFsdWUgKyBfdGhpcy5zZXR0aW5nc01hbmFnZXIuYmFja2dyb3VuZE9wYWNpdHkudmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMudG9nZ2xlT3ZlcmxheUNsYXNzKG51bGwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLm9uSXRlbVNlbGVjdGVkLnN1YnNjcmliZShmdW5jdGlvbiAoc2VuZGVyLCBrZXkpIHtcclxuICAgICAgICAgICAgX3RoaXMuc2V0dGluZ3NNYW5hZ2VyLmJhY2tncm91bmRDb2xvci52YWx1ZSA9IGtleTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnNldHRpbmdzTWFuYWdlci5iYWNrZ3JvdW5kQ29sb3Iub25DaGFuZ2VkLnN1YnNjcmliZShmdW5jdGlvbiAoc2VuZGVyLCBwcm9wZXJ0eSkge1xyXG4gICAgICAgICAgICAvLyBDb2xvciBhbmQgb3BhY2l0eSBnbyB0b2dldGhlciwgc28gd2UgbmVlZCB0by4uLlxyXG4gICAgICAgICAgICBpZiAoIV90aGlzLnNldHRpbmdzTWFuYWdlci5iYWNrZ3JvdW5kQ29sb3IuaXNTZXQoKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gLi4uIGNsZWFyIHRoZSBvcGFjaXR5IHdoZW4gdGhlIGNvbG9yIGlzIG5vdCBzZXRcclxuICAgICAgICAgICAgICAgIF90aGlzLnNldHRpbmdzTWFuYWdlci5iYWNrZ3JvdW5kT3BhY2l0eS5jbGVhcigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKCFfdGhpcy5zZXR0aW5nc01hbmFnZXIuYmFja2dyb3VuZE9wYWNpdHkuaXNTZXQoKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gLi4uIHNldCBhbiBvcGFjaXR5IHdoZW4gdGhlIGNvbG9yIGlzIHNldFxyXG4gICAgICAgICAgICAgICAgX3RoaXMuc2V0dGluZ3NNYW5hZ2VyLmJhY2tncm91bmRPcGFjaXR5LnZhbHVlID0gJzEwMCc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgX3RoaXMuc2VsZWN0SXRlbShwcm9wZXJ0eS52YWx1ZSk7XHJcbiAgICAgICAgICAgIHNldENvbG9yQW5kT3BhY2l0eSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuc2V0dGluZ3NNYW5hZ2VyLmJhY2tncm91bmRPcGFjaXR5Lm9uQ2hhbmdlZC5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBzZXRDb2xvckFuZE9wYWNpdHkoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBMb2FkIGluaXRpYWwgdmFsdWVcclxuICAgICAgICBpZiAodGhpcy5zZXR0aW5nc01hbmFnZXIuYmFja2dyb3VuZENvbG9yLmlzU2V0KCkpIHtcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RJdGVtKHRoaXMuc2V0dGluZ3NNYW5hZ2VyLmJhY2tncm91bmRDb2xvci52YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHJldHVybiBCYWNrZ3JvdW5kQ29sb3JTZWxlY3RCb3g7XHJcbn0oc3VidGl0bGVzZXR0aW5nc2VsZWN0Ym94XzEuU3VidGl0bGVTZXR0aW5nU2VsZWN0Qm94KSk7XHJcbmV4cG9ydHMuQmFja2dyb3VuZENvbG9yU2VsZWN0Qm94ID0gQmFja2dyb3VuZENvbG9yU2VsZWN0Qm94O1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvc3VidGl0bGVzZXR0aW5ncy9iYWNrZ3JvdW5kY29sb3JzZWxlY3Rib3gudHNcbi8vIG1vZHVsZSBpZCA9IDM4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBzdWJ0aXRsZXNldHRpbmdzZWxlY3Rib3hfMSA9IHJlcXVpcmUoXCIuL3N1YnRpdGxlc2V0dGluZ3NlbGVjdGJveFwiKTtcclxuLyoqXHJcbiAqIEEgc2VsZWN0IGJveCBwcm92aWRpbmcgYSBzZWxlY3Rpb24gb2YgZGlmZmVyZW50IGJhY2tncm91bmQgb3BhY2l0eS5cclxuICovXHJcbnZhciBCYWNrZ3JvdW5kT3BhY2l0eVNlbGVjdEJveCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhCYWNrZ3JvdW5kT3BhY2l0eVNlbGVjdEJveCwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIEJhY2tncm91bmRPcGFjaXR5U2VsZWN0Qm94KCkge1xyXG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcclxuICAgIH1cclxuICAgIEJhY2tncm91bmRPcGFjaXR5U2VsZWN0Qm94LnByb3RvdHlwZS5jb25maWd1cmUgPSBmdW5jdGlvbiAocGxheWVyLCB1aW1hbmFnZXIpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuY29uZmlndXJlLmNhbGwodGhpcywgcGxheWVyLCB1aW1hbmFnZXIpO1xyXG4gICAgICAgIHRoaXMuYWRkSXRlbShudWxsLCAnZGVmYXVsdCcpO1xyXG4gICAgICAgIHRoaXMuYWRkSXRlbSgnMTAwJywgJzEwMCUnKTtcclxuICAgICAgICB0aGlzLmFkZEl0ZW0oJzc1JywgJzc1JScpO1xyXG4gICAgICAgIHRoaXMuYWRkSXRlbSgnNTAnLCAnNTAlJyk7XHJcbiAgICAgICAgdGhpcy5hZGRJdGVtKCcyNScsICcyNSUnKTtcclxuICAgICAgICB0aGlzLmFkZEl0ZW0oJzAnLCAnMCUnKTtcclxuICAgICAgICB0aGlzLm9uSXRlbVNlbGVjdGVkLnN1YnNjcmliZShmdW5jdGlvbiAoc2VuZGVyLCBrZXkpIHtcclxuICAgICAgICAgICAgX3RoaXMuc2V0dGluZ3NNYW5hZ2VyLmJhY2tncm91bmRPcGFjaXR5LnZhbHVlID0ga2V5O1xyXG4gICAgICAgICAgICAvLyBDb2xvciBhbmQgb3BhY2l0eSBnbyB0b2dldGhlciwgc28gd2UgbmVlZCB0by4uLlxyXG4gICAgICAgICAgICBpZiAoIV90aGlzLnNldHRpbmdzTWFuYWdlci5iYWNrZ3JvdW5kT3BhY2l0eS5pc1NldCgpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyAuLi4gY2xlYXIgdGhlIGNvbG9yIHdoZW4gdGhlIG9wYWNpdHkgaXMgbm90IHNldFxyXG4gICAgICAgICAgICAgICAgX3RoaXMuc2V0dGluZ3NNYW5hZ2VyLmJhY2tncm91bmRDb2xvci5jbGVhcigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKCFfdGhpcy5zZXR0aW5nc01hbmFnZXIuYmFja2dyb3VuZENvbG9yLmlzU2V0KCkpIHtcclxuICAgICAgICAgICAgICAgIC8vIC4uLiBzZXQgYSBjb2xvciB3aGVuIHRoZSBvcGFjaXR5IGlzIHNldFxyXG4gICAgICAgICAgICAgICAgX3RoaXMuc2V0dGluZ3NNYW5hZ2VyLmJhY2tncm91bmRDb2xvci52YWx1ZSA9ICdibGFjayc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBVcGRhdGUgc2VsZWN0ZWQgaXRlbSB3aGVuIHZhbHVlIGlzIHNldCBmcm9tIHNvbWV3aGVyZSBlbHNlXHJcbiAgICAgICAgdGhpcy5zZXR0aW5nc01hbmFnZXIuYmFja2dyb3VuZE9wYWNpdHkub25DaGFuZ2VkLnN1YnNjcmliZShmdW5jdGlvbiAoc2VuZGVyLCBwcm9wZXJ0eSkge1xyXG4gICAgICAgICAgICBfdGhpcy5zZWxlY3RJdGVtKHByb3BlcnR5LnZhbHVlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBMb2FkIGluaXRpYWwgdmFsdWVcclxuICAgICAgICBpZiAodGhpcy5zZXR0aW5nc01hbmFnZXIuYmFja2dyb3VuZE9wYWNpdHkuaXNTZXQoKSkge1xyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdEl0ZW0odGhpcy5zZXR0aW5nc01hbmFnZXIuYmFja2dyb3VuZE9wYWNpdHkudmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICByZXR1cm4gQmFja2dyb3VuZE9wYWNpdHlTZWxlY3RCb3g7XHJcbn0oc3VidGl0bGVzZXR0aW5nc2VsZWN0Ym94XzEuU3VidGl0bGVTZXR0aW5nU2VsZWN0Qm94KSk7XHJcbmV4cG9ydHMuQmFja2dyb3VuZE9wYWNpdHlTZWxlY3RCb3ggPSBCYWNrZ3JvdW5kT3BhY2l0eVNlbGVjdEJveDtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3N1YnRpdGxlc2V0dGluZ3MvYmFja2dyb3VuZG9wYWNpdHlzZWxlY3Rib3gudHNcbi8vIG1vZHVsZSBpZCA9IDM5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBzdWJ0aXRsZXNldHRpbmdzZWxlY3Rib3hfMSA9IHJlcXVpcmUoXCIuL3N1YnRpdGxlc2V0dGluZ3NlbGVjdGJveFwiKTtcclxuLyoqXHJcbiAqIEEgc2VsZWN0IGJveCBwcm92aWRpbmcgYSBzZWxlY3Rpb24gb2YgZGlmZmVyZW50IGJhY2tncm91bmQgY29sb3JzLlxyXG4gKi9cclxudmFyIFdpbmRvd0NvbG9yU2VsZWN0Qm94ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKFdpbmRvd0NvbG9yU2VsZWN0Qm94LCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gV2luZG93Q29sb3JTZWxlY3RCb3goKSB7XHJcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xyXG4gICAgfVxyXG4gICAgV2luZG93Q29sb3JTZWxlY3RCb3gucHJvdG90eXBlLmNvbmZpZ3VyZSA9IGZ1bmN0aW9uIChwbGF5ZXIsIHVpbWFuYWdlcikge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5jb25maWd1cmUuY2FsbCh0aGlzLCBwbGF5ZXIsIHVpbWFuYWdlcik7XHJcbiAgICAgICAgdGhpcy5hZGRJdGVtKG51bGwsICdkZWZhdWx0Jyk7XHJcbiAgICAgICAgdGhpcy5hZGRJdGVtKCd3aGl0ZScsICd3aGl0ZScpO1xyXG4gICAgICAgIHRoaXMuYWRkSXRlbSgnYmxhY2snLCAnYmxhY2snKTtcclxuICAgICAgICB0aGlzLmFkZEl0ZW0oJ3JlZCcsICdyZWQnKTtcclxuICAgICAgICB0aGlzLmFkZEl0ZW0oJ2dyZWVuJywgJ2dyZWVuJyk7XHJcbiAgICAgICAgdGhpcy5hZGRJdGVtKCdibHVlJywgJ2JsdWUnKTtcclxuICAgICAgICB0aGlzLmFkZEl0ZW0oJ2N5YW4nLCAnY3lhbicpO1xyXG4gICAgICAgIHRoaXMuYWRkSXRlbSgneWVsbG93JywgJ3llbGxvdycpO1xyXG4gICAgICAgIHRoaXMuYWRkSXRlbSgnbWFnZW50YScsICdtYWdlbnRhJyk7XHJcbiAgICAgICAgdmFyIHNldENvbG9yQW5kT3BhY2l0eSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKF90aGlzLnNldHRpbmdzTWFuYWdlci53aW5kb3dDb2xvci5pc1NldCgpICYmIF90aGlzLnNldHRpbmdzTWFuYWdlci53aW5kb3dPcGFjaXR5LmlzU2V0KCkpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLnRvZ2dsZU92ZXJsYXlDbGFzcygnd2luZG93Y29sb3ItJyArIF90aGlzLnNldHRpbmdzTWFuYWdlci53aW5kb3dDb2xvci52YWx1ZSArIF90aGlzLnNldHRpbmdzTWFuYWdlci53aW5kb3dPcGFjaXR5LnZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLnRvZ2dsZU92ZXJsYXlDbGFzcyhudWxsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5vbkl0ZW1TZWxlY3RlZC5zdWJzY3JpYmUoZnVuY3Rpb24gKHNlbmRlciwga2V5KSB7XHJcbiAgICAgICAgICAgIF90aGlzLnNldHRpbmdzTWFuYWdlci53aW5kb3dDb2xvci52YWx1ZSA9IGtleTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnNldHRpbmdzTWFuYWdlci53aW5kb3dDb2xvci5vbkNoYW5nZWQuc3Vic2NyaWJlKGZ1bmN0aW9uIChzZW5kZXIsIHByb3BlcnR5KSB7XHJcbiAgICAgICAgICAgIC8vIENvbG9yIGFuZCBvcGFjaXR5IGdvIHRvZ2V0aGVyLCBzbyB3ZSBuZWVkIHRvLi4uXHJcbiAgICAgICAgICAgIGlmICghX3RoaXMuc2V0dGluZ3NNYW5hZ2VyLndpbmRvd0NvbG9yLmlzU2V0KCkpIHtcclxuICAgICAgICAgICAgICAgIC8vIC4uLiBjbGVhciB0aGUgb3BhY2l0eSB3aGVuIHRoZSBjb2xvciBpcyBub3Qgc2V0XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5zZXR0aW5nc01hbmFnZXIud2luZG93T3BhY2l0eS5jbGVhcigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKCFfdGhpcy5zZXR0aW5nc01hbmFnZXIud2luZG93T3BhY2l0eS5pc1NldCgpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyAuLi4gc2V0IGFuIG9wYWNpdHkgd2hlbiB0aGUgY29sb3IgaXMgc2V0XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5zZXR0aW5nc01hbmFnZXIud2luZG93T3BhY2l0eS52YWx1ZSA9ICcxMDAnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIF90aGlzLnNlbGVjdEl0ZW0ocHJvcGVydHkudmFsdWUpO1xyXG4gICAgICAgICAgICBzZXRDb2xvckFuZE9wYWNpdHkoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnNldHRpbmdzTWFuYWdlci53aW5kb3dPcGFjaXR5Lm9uQ2hhbmdlZC5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBzZXRDb2xvckFuZE9wYWNpdHkoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBMb2FkIGluaXRpYWwgdmFsdWVcclxuICAgICAgICBpZiAodGhpcy5zZXR0aW5nc01hbmFnZXIud2luZG93Q29sb3IuaXNTZXQoKSkge1xyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdEl0ZW0odGhpcy5zZXR0aW5nc01hbmFnZXIud2luZG93Q29sb3IudmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICByZXR1cm4gV2luZG93Q29sb3JTZWxlY3RCb3g7XHJcbn0oc3VidGl0bGVzZXR0aW5nc2VsZWN0Ym94XzEuU3VidGl0bGVTZXR0aW5nU2VsZWN0Qm94KSk7XHJcbmV4cG9ydHMuV2luZG93Q29sb3JTZWxlY3RCb3ggPSBXaW5kb3dDb2xvclNlbGVjdEJveDtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3N1YnRpdGxlc2V0dGluZ3Mvd2luZG93Y29sb3JzZWxlY3Rib3gudHNcbi8vIG1vZHVsZSBpZCA9IDQwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBzdWJ0aXRsZXNldHRpbmdzZWxlY3Rib3hfMSA9IHJlcXVpcmUoXCIuL3N1YnRpdGxlc2V0dGluZ3NlbGVjdGJveFwiKTtcclxuLyoqXHJcbiAqIEEgc2VsZWN0IGJveCBwcm92aWRpbmcgYSBzZWxlY3Rpb24gb2YgZGlmZmVyZW50IGJhY2tncm91bmQgb3BhY2l0eS5cclxuICovXHJcbnZhciBXaW5kb3dPcGFjaXR5U2VsZWN0Qm94ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKFdpbmRvd09wYWNpdHlTZWxlY3RCb3gsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBXaW5kb3dPcGFjaXR5U2VsZWN0Qm94KCkge1xyXG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcclxuICAgIH1cclxuICAgIFdpbmRvd09wYWNpdHlTZWxlY3RCb3gucHJvdG90eXBlLmNvbmZpZ3VyZSA9IGZ1bmN0aW9uIChwbGF5ZXIsIHVpbWFuYWdlcikge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5jb25maWd1cmUuY2FsbCh0aGlzLCBwbGF5ZXIsIHVpbWFuYWdlcik7XHJcbiAgICAgICAgdGhpcy5hZGRJdGVtKG51bGwsICdkZWZhdWx0Jyk7XHJcbiAgICAgICAgdGhpcy5hZGRJdGVtKCcxMDAnLCAnMTAwJScpO1xyXG4gICAgICAgIHRoaXMuYWRkSXRlbSgnNzUnLCAnNzUlJyk7XHJcbiAgICAgICAgdGhpcy5hZGRJdGVtKCc1MCcsICc1MCUnKTtcclxuICAgICAgICB0aGlzLmFkZEl0ZW0oJzI1JywgJzI1JScpO1xyXG4gICAgICAgIHRoaXMuYWRkSXRlbSgnMCcsICcwJScpO1xyXG4gICAgICAgIHRoaXMub25JdGVtU2VsZWN0ZWQuc3Vic2NyaWJlKGZ1bmN0aW9uIChzZW5kZXIsIGtleSkge1xyXG4gICAgICAgICAgICBfdGhpcy5zZXR0aW5nc01hbmFnZXIud2luZG93T3BhY2l0eS52YWx1ZSA9IGtleTtcclxuICAgICAgICAgICAgLy8gQ29sb3IgYW5kIG9wYWNpdHkgZ28gdG9nZXRoZXIsIHNvIHdlIG5lZWQgdG8uLi5cclxuICAgICAgICAgICAgaWYgKCFfdGhpcy5zZXR0aW5nc01hbmFnZXIud2luZG93T3BhY2l0eS5pc1NldCgpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyAuLi4gY2xlYXIgdGhlIGNvbG9yIHdoZW4gdGhlIG9wYWNpdHkgaXMgbm90IHNldFxyXG4gICAgICAgICAgICAgICAgX3RoaXMuc2V0dGluZ3NNYW5hZ2VyLndpbmRvd0NvbG9yLmNsZWFyKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoIV90aGlzLnNldHRpbmdzTWFuYWdlci53aW5kb3dDb2xvci5pc1NldCgpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyAuLi4gc2V0IGEgY29sb3Igd2hlbiB0aGUgb3BhY2l0eSBpcyBzZXRcclxuICAgICAgICAgICAgICAgIF90aGlzLnNldHRpbmdzTWFuYWdlci53aW5kb3dDb2xvci52YWx1ZSA9ICdibGFjayc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBVcGRhdGUgc2VsZWN0ZWQgaXRlbSB3aGVuIHZhbHVlIGlzIHNldCBmcm9tIHNvbWV3aGVyZSBlbHNlXHJcbiAgICAgICAgdGhpcy5zZXR0aW5nc01hbmFnZXIud2luZG93T3BhY2l0eS5vbkNoYW5nZWQuc3Vic2NyaWJlKGZ1bmN0aW9uIChzZW5kZXIsIHByb3BlcnR5KSB7XHJcbiAgICAgICAgICAgIF90aGlzLnNlbGVjdEl0ZW0ocHJvcGVydHkudmFsdWUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIExvYWQgaW5pdGlhbCB2YWx1ZVxyXG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzTWFuYWdlci53aW5kb3dPcGFjaXR5LmlzU2V0KCkpIHtcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RJdGVtKHRoaXMuc2V0dGluZ3NNYW5hZ2VyLndpbmRvd09wYWNpdHkudmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICByZXR1cm4gV2luZG93T3BhY2l0eVNlbGVjdEJveDtcclxufShzdWJ0aXRsZXNldHRpbmdzZWxlY3Rib3hfMS5TdWJ0aXRsZVNldHRpbmdTZWxlY3RCb3gpKTtcclxuZXhwb3J0cy5XaW5kb3dPcGFjaXR5U2VsZWN0Qm94ID0gV2luZG93T3BhY2l0eVNlbGVjdEJveDtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3N1YnRpdGxlc2V0dGluZ3Mvd2luZG93b3BhY2l0eXNlbGVjdGJveC50c1xuLy8gbW9kdWxlIGlkID0gNDFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIHN1YnRpdGxlc2V0dGluZ3NlbGVjdGJveF8xID0gcmVxdWlyZShcIi4vc3VidGl0bGVzZXR0aW5nc2VsZWN0Ym94XCIpO1xyXG4vKipcclxuICogQSBzZWxlY3QgYm94IHByb3ZpZGluZyBhIHNlbGVjdGlvbiBvZiBkaWZmZXJlbnQgY2hhcmFjdGVyIGVkZ2UuXHJcbiAqL1xyXG52YXIgQ2hhcmFjdGVyRWRnZVNlbGVjdEJveCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhDaGFyYWN0ZXJFZGdlU2VsZWN0Qm94LCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gQ2hhcmFjdGVyRWRnZVNlbGVjdEJveCgpIHtcclxuICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XHJcbiAgICB9XHJcbiAgICBDaGFyYWN0ZXJFZGdlU2VsZWN0Qm94LnByb3RvdHlwZS5jb25maWd1cmUgPSBmdW5jdGlvbiAocGxheWVyLCB1aW1hbmFnZXIpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuY29uZmlndXJlLmNhbGwodGhpcywgcGxheWVyLCB1aW1hbmFnZXIpO1xyXG4gICAgICAgIHRoaXMuYWRkSXRlbShudWxsLCAnZGVmYXVsdCcpO1xyXG4gICAgICAgIHRoaXMuYWRkSXRlbSgncmFpc2VkJywgJ3JhaXNlZCcpO1xyXG4gICAgICAgIHRoaXMuYWRkSXRlbSgnZGVwcmVzc2VkJywgJ2RlcHJlc3NlZCcpO1xyXG4gICAgICAgIHRoaXMuYWRkSXRlbSgndW5pZm9ybScsICd1bmlmb3JtJyk7XHJcbiAgICAgICAgdGhpcy5hZGRJdGVtKCdkcm9wc2hhZG93ZWQnLCAnZHJvcCBzaGFkb3dlZCcpO1xyXG4gICAgICAgIHRoaXMuc2V0dGluZ3NNYW5hZ2VyLmNoYXJhY3RlckVkZ2Uub25DaGFuZ2VkLnN1YnNjcmliZShmdW5jdGlvbiAoc2VuZGVyLCBwcm9wZXJ0eSkge1xyXG4gICAgICAgICAgICBpZiAocHJvcGVydHkuaXNTZXQoKSkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMudG9nZ2xlT3ZlcmxheUNsYXNzKCdjaGFyYWN0ZXJlZGdlLScgKyBwcm9wZXJ0eS52YWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy50b2dnbGVPdmVybGF5Q2xhc3MobnVsbCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gU2VsZWN0IHRoZSBpdGVtIGluIGNhc2UgdGhlIHByb3BlcnR5IHdhcyBzZXQgZnJvbSBvdXRzaWRlXHJcbiAgICAgICAgICAgIF90aGlzLnNlbGVjdEl0ZW0ocHJvcGVydHkudmFsdWUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMub25JdGVtU2VsZWN0ZWQuc3Vic2NyaWJlKGZ1bmN0aW9uIChzZW5kZXIsIGtleSkge1xyXG4gICAgICAgICAgICBfdGhpcy5zZXR0aW5nc01hbmFnZXIuY2hhcmFjdGVyRWRnZS52YWx1ZSA9IGtleTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBMb2FkIGluaXRpYWwgdmFsdWVcclxuICAgICAgICBpZiAodGhpcy5zZXR0aW5nc01hbmFnZXIuY2hhcmFjdGVyRWRnZS5pc1NldCgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0SXRlbSh0aGlzLnNldHRpbmdzTWFuYWdlci5jaGFyYWN0ZXJFZGdlLnZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIENoYXJhY3RlckVkZ2VTZWxlY3RCb3g7XHJcbn0oc3VidGl0bGVzZXR0aW5nc2VsZWN0Ym94XzEuU3VidGl0bGVTZXR0aW5nU2VsZWN0Qm94KSk7XHJcbmV4cG9ydHMuQ2hhcmFjdGVyRWRnZVNlbGVjdEJveCA9IENoYXJhY3RlckVkZ2VTZWxlY3RCb3g7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9zdWJ0aXRsZXNldHRpbmdzL2NoYXJhY3RlcmVkZ2VzZWxlY3Rib3gudHNcbi8vIG1vZHVsZSBpZCA9IDQyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBTdG9yYWdlVXRpbHM7XHJcbihmdW5jdGlvbiAoU3RvcmFnZVV0aWxzKSB7XHJcbiAgICB2YXIgaGFzTG9jYWxTdG9yYWdlQ2FjaGU7XHJcbiAgICBmdW5jdGlvbiBoYXNMb2NhbFN0b3JhZ2UoKSB7XHJcbiAgICAgICAgaWYgKGhhc0xvY2FsU3RvcmFnZUNhY2hlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBoYXNMb2NhbFN0b3JhZ2VDYWNoZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gaGFzTG9jYWxTdG9yYWdlIGlzIHVzZWQgdG8gc2FmZWx5IGVuc3VyZSB3ZSBjYW4gdXNlIGxvY2FsU3RvcmFnZVxyXG4gICAgICAgIC8vIHRha2VuIGZyb20gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1dlYl9TdG9yYWdlX0FQSS9Vc2luZ190aGVfV2ViX1N0b3JhZ2VfQVBJI0ZlYXR1cmUtZGV0ZWN0aW5nX2xvY2FsU3RvcmFnZVxyXG4gICAgICAgIHZhciBzdG9yYWdlID0gd2luZG93Wydsb2NhbFN0b3JhZ2UnXTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB2YXIgeCA9ICdfX3N0b3JhZ2VfdGVzdF9fJztcclxuICAgICAgICAgICAgc3RvcmFnZS5zZXRJdGVtKHgsIHgpO1xyXG4gICAgICAgICAgICBzdG9yYWdlLnJlbW92ZUl0ZW0oeCk7XHJcbiAgICAgICAgICAgIGhhc0xvY2FsU3RvcmFnZUNhY2hlID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgaGFzTG9jYWxTdG9yYWdlQ2FjaGUgPSBlIGluc3RhbmNlb2YgRE9NRXhjZXB0aW9uICYmIChcclxuICAgICAgICAgICAgLy8gZXZlcnl0aGluZyBleGNlcHQgRmlyZWZveFxyXG4gICAgICAgICAgICBlLmNvZGUgPT09IDIyIHx8XHJcbiAgICAgICAgICAgICAgICAvLyBGaXJlZm94XHJcbiAgICAgICAgICAgICAgICBlLmNvZGUgPT09IDEwMTQgfHxcclxuICAgICAgICAgICAgICAgIC8vIHRlc3QgbmFtZSBmaWVsZCB0b28sIGJlY2F1c2UgY29kZSBtaWdodCBub3QgYmUgcHJlc2VudFxyXG4gICAgICAgICAgICAgICAgLy8gZXZlcnl0aGluZyBleGNlcHQgRmlyZWZveFxyXG4gICAgICAgICAgICAgICAgZS5uYW1lID09PSAnUXVvdGFFeGNlZWRlZEVycm9yJyB8fFxyXG4gICAgICAgICAgICAgICAgLy8gRmlyZWZveFxyXG4gICAgICAgICAgICAgICAgZS5uYW1lID09PSAnTlNfRVJST1JfRE9NX1FVT1RBX1JFQUNIRUQnKSAmJlxyXG4gICAgICAgICAgICAgICAgLy8gYWNrbm93bGVkZ2UgUXVvdGFFeGNlZWRlZEVycm9yIG9ubHkgaWYgdGhlcmUncyBzb21ldGhpbmcgYWxyZWFkeSBzdG9yZWRcclxuICAgICAgICAgICAgICAgIHN0b3JhZ2UubGVuZ3RoICE9PSAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gaGFzTG9jYWxTdG9yYWdlQ2FjaGU7XHJcbiAgICB9XHJcbiAgICBTdG9yYWdlVXRpbHMuaGFzTG9jYWxTdG9yYWdlID0gaGFzTG9jYWxTdG9yYWdlO1xyXG4gICAgLyoqXHJcbiAgICAgKiBTdG9yZXMgYSBzdHJpbmcgaXRlbSBpbnRvIGxvY2FsU3RvcmFnZS5cclxuICAgICAqIEBwYXJhbSBrZXkgdGhlIGl0ZW0ncyBrZXlcclxuICAgICAqIEBwYXJhbSBkYXRhIHRoZSBpdGVtJ3MgZGF0YVxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBzZXRJdGVtKGtleSwgZGF0YSkge1xyXG4gICAgICAgIGlmIChTdG9yYWdlVXRpbHMuaGFzTG9jYWxTdG9yYWdlKCkpIHtcclxuICAgICAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKGtleSwgZGF0YSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgU3RvcmFnZVV0aWxzLnNldEl0ZW0gPSBzZXRJdGVtO1xyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIGFuIGl0ZW0ncyBzdHJpbmcgdmFsdWUgZnJvbSB0aGUgbG9jYWxTdG9yYWdlLlxyXG4gICAgICogQHBhcmFtIGtleSB0aGUga2V5IHRvIGxvb2sgdXAgaXRzIGFzc29jaWF0ZWQgdmFsdWVcclxuICAgICAqIEByZXR1cm4ge3N0cmluZyB8IG51bGx9IFJldHVybnMgdGhlIHN0cmluZyBpZiBmb3VuZCwgbnVsbCBpZiB0aGVyZSBpcyBubyBkYXRhIHN0b3JlZCBmb3IgdGhlIGtleVxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBnZXRJdGVtKGtleSkge1xyXG4gICAgICAgIGlmIChTdG9yYWdlVXRpbHMuaGFzTG9jYWxTdG9yYWdlKCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgU3RvcmFnZVV0aWxzLmdldEl0ZW0gPSBnZXRJdGVtO1xyXG4gICAgLyoqXHJcbiAgICAgKiBTdG9yZXMgYW4gb2JqZWN0IGludG8gbG9jYWxTdG9yYWdlLiBUaGUgb2JqZWN0IHdpbGwgYmUgc2VyaWFsaXplZCB0byBKU09OLiBUaGUgZm9sbG93aW5nIHR5cGVzIGFyZSBzdXBwb3J0ZWRcclxuICAgICAqIGluIGFkZGl0aW9uIHRvIHRoZSBkZWZhdWx0IHR5cGVzOlxyXG4gICAgICogIC0gQ29sb3JVdGlscy5Db2xvclxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBrZXkgdGhlIGtleSB0byBzdG9yZSB0aGUgZGF0YSB0b1xyXG4gICAgICogQHBhcmFtIGRhdGEgdGhlIG9iamVjdCB0byBzdG9yZVxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBzZXRPYmplY3Qoa2V5LCBkYXRhKSB7XHJcbiAgICAgICAgaWYgKFN0b3JhZ2VVdGlscy5oYXNMb2NhbFN0b3JhZ2UoKSkge1xyXG4gICAgICAgICAgICB2YXIganNvbiA9IEpTT04uc3RyaW5naWZ5KGRhdGEpO1xyXG4gICAgICAgICAgICBzZXRJdGVtKGtleSwganNvbik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgU3RvcmFnZVV0aWxzLnNldE9iamVjdCA9IHNldE9iamVjdDtcclxuICAgIC8qKlxyXG4gICAgICogR2V0cyBhbiBvYmplY3QgZm9yIHRoZSBnaXZlbiBrZXkgZnJvbSBsb2NhbFN0b3JhZ2UuIFRoZSBvYmplY3Qgd2lsbCBiZSBkZXNlcmlhbGl6ZWQgZnJvbSBKU09OLiBCZXNpZGUgdGhlXHJcbiAgICAgKiBkZWZhdWx0IHR5cGVzLCB0aGUgZm9sbG93aW5nIHR5cGVzIGFyZSBzdXBwb3J0ZWQ6XHJcbiAgICAgKiAgLSBDb2xvclV0aWxzLkNvbG9yXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGtleSB0aGUga2V5IHRvIGxvb2sgdXAgaXRzIGFzc29jaWF0ZWQgb2JqZWN0XHJcbiAgICAgKiBAcmV0dXJuIHthbnl9IFJldHVybnMgdGhlIG9iamVjdCBpZiBmb3VuZCwgbnVsbCBvdGhlcndpc2VcclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gZ2V0T2JqZWN0KGtleSkge1xyXG4gICAgICAgIGlmIChTdG9yYWdlVXRpbHMuaGFzTG9jYWxTdG9yYWdlKCkpIHtcclxuICAgICAgICAgICAgdmFyIGpzb24gPSBnZXRJdGVtKGtleSk7XHJcbiAgICAgICAgICAgIGlmIChrZXkpIHtcclxuICAgICAgICAgICAgICAgIHZhciBvYmplY3QgPSBKU09OLnBhcnNlKGpzb24pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG9iamVjdDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICAgIFN0b3JhZ2VVdGlscy5nZXRPYmplY3QgPSBnZXRPYmplY3Q7XHJcbn0pKFN0b3JhZ2VVdGlscyA9IGV4cG9ydHMuU3RvcmFnZVV0aWxzIHx8IChleHBvcnRzLlN0b3JhZ2VVdGlscyA9IHt9KSk7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvc3RvcmFnZXV0aWxzLnRzXG4vLyBtb2R1bGUgaWQgPSA0M1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgc3VidGl0bGVzZXR0aW5nc2J1dHRvbl8xID0gcmVxdWlyZShcIi4vc3VidGl0bGVzZXR0aW5nc2J1dHRvblwiKTtcclxuLyoqXHJcbiAqIEEgYnV0dG9uIHRoYXQgdG9nZ2xlcyB0aGUgb3B0aW9uIG1lbnUgZm9yIHN1YnRpdGxlc1xyXG4gKi9cclxudmFyIFN1YnRpdGxlU2V0dGluZ3NDbG9zZUJ1dHRvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhTdWJ0aXRsZVNldHRpbmdzQ2xvc2VCdXR0b24sIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBTdWJ0aXRsZVNldHRpbmdzQ2xvc2VCdXR0b24oY29uZmlnKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgY29uZmlnKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLmNvbmZpZyA9IF90aGlzLm1lcmdlQ29uZmlnKGNvbmZpZywge1xyXG4gICAgICAgICAgICBjc3NDbGFzczogJ3VpLXN1YnRpdGxlc2V0dGluZ3NjbG9zZWJ1dHRvbicsXHJcbiAgICAgICAgICAgIHRleHQ6ICdCYWNrJyxcclxuICAgICAgICB9LCBfdGhpcy5jb25maWcpO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIFN1YnRpdGxlU2V0dGluZ3NDbG9zZUJ1dHRvbi5wcm90b3R5cGUuY29uZmlndXJlID0gZnVuY3Rpb24gKHBsYXllciwgdWltYW5hZ2VyKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmNvbmZpZ3VyZS5jYWxsKHRoaXMsIHBsYXllciwgdWltYW5hZ2VyKTtcclxuICAgICAgICB0aGlzLm9uQ2xpY2suc3Vic2NyaWJlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgX3RoaXMuc3VidGl0bGVTZXR0aW5nc1BhbmVsLmhpZGUoKTtcclxuICAgICAgICAgICAgX3RoaXMuc2V0dGluZ3NQYW5lbC5zaG93KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFN1YnRpdGxlU2V0dGluZ3NDbG9zZUJ1dHRvbjtcclxufShzdWJ0aXRsZXNldHRpbmdzYnV0dG9uXzEuU3VidGl0bGVTZXR0aW5nc0J1dHRvbikpO1xyXG5leHBvcnRzLlN1YnRpdGxlU2V0dGluZ3NDbG9zZUJ1dHRvbiA9IFN1YnRpdGxlU2V0dGluZ3NDbG9zZUJ1dHRvbjtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3N1YnRpdGxlc2V0dGluZ3Mvc3VidGl0bGVzZXR0aW5nc2Nsb3NlYnV0dG9uLnRzXG4vLyBtb2R1bGUgaWQgPSA0NFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgYnV0dG9uXzEgPSByZXF1aXJlKFwiLi4vYnV0dG9uXCIpO1xyXG4vKipcclxuICogQSBidXR0b24gdGhhdCByZXNldHMgYWxsIHN1YnRpdGxlIHNldHRpbmdzIHRvIHRoZWlyIGRlZmF1bHRzLlxyXG4gKi9cclxudmFyIFN1YnRpdGxlU2V0dGluZ3NSZXNldEJ1dHRvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhTdWJ0aXRsZVNldHRpbmdzUmVzZXRCdXR0b24sIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBTdWJ0aXRsZVNldHRpbmdzUmVzZXRCdXR0b24oY29uZmlnKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgY29uZmlnKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLmNvbmZpZyA9IF90aGlzLm1lcmdlQ29uZmlnKGNvbmZpZywge1xyXG4gICAgICAgICAgICBjc3NDbGFzczogJ3VpLXN1YnRpdGxlc2V0dGluZ3NyZXNldGJ1dHRvbicsXHJcbiAgICAgICAgICAgIHRleHQ6ICdSZXNldCcsXHJcbiAgICAgICAgfSwgX3RoaXMuY29uZmlnKTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBTdWJ0aXRsZVNldHRpbmdzUmVzZXRCdXR0b24ucHJvdG90eXBlLmNvbmZpZ3VyZSA9IGZ1bmN0aW9uIChwbGF5ZXIsIHVpbWFuYWdlcikge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5jb25maWd1cmUuY2FsbCh0aGlzLCBwbGF5ZXIsIHVpbWFuYWdlcik7XHJcbiAgICAgICAgdGhpcy5vbkNsaWNrLnN1YnNjcmliZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIF90aGlzLmNvbmZpZy5zZXR0aW5nc01hbmFnZXIucmVzZXQoKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gU3VidGl0bGVTZXR0aW5nc1Jlc2V0QnV0dG9uO1xyXG59KGJ1dHRvbl8xLkJ1dHRvbikpO1xyXG5leHBvcnRzLlN1YnRpdGxlU2V0dGluZ3NSZXNldEJ1dHRvbiA9IFN1YnRpdGxlU2V0dGluZ3NSZXNldEJ1dHRvbjtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3N1YnRpdGxlc2V0dGluZ3Mvc3VidGl0bGVzZXR0aW5nc3Jlc2V0YnV0dG9uLnRzXG4vLyBtb2R1bGUgaWQgPSA0NVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgY29udGFpbmVyXzEgPSByZXF1aXJlKFwiLi4vY29udGFpbmVyXCIpO1xyXG52YXIgZG9tXzEgPSByZXF1aXJlKFwiLi4vLi4vZG9tXCIpO1xyXG52YXIgU3VidGl0bGVTZXR0aW5nc0xhYmVsID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKFN1YnRpdGxlU2V0dGluZ3NMYWJlbCwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIFN1YnRpdGxlU2V0dGluZ3NMYWJlbChjb25maWcpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBjb25maWcpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMub3BlbmVyID0gY29uZmlnLm9wZW5lcjtcclxuICAgICAgICBfdGhpcy50ZXh0ID0gY29uZmlnLnRleHQ7XHJcbiAgICAgICAgX3RoaXMuY29uZmlnID0gX3RoaXMubWVyZ2VDb25maWcoY29uZmlnLCB7XHJcbiAgICAgICAgICAgIGNzc0NsYXNzOiAndWktbGFiZWwnLFxyXG4gICAgICAgICAgICBjb21wb25lbnRzOiBbXHJcbiAgICAgICAgICAgICAgICBfdGhpcy5vcGVuZXIsXHJcbiAgICAgICAgICAgIF0sXHJcbiAgICAgICAgfSwgX3RoaXMuY29uZmlnKTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBTdWJ0aXRsZVNldHRpbmdzTGFiZWwucHJvdG90eXBlLnRvRG9tRWxlbWVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgbGFiZWxFbGVtZW50ID0gbmV3IGRvbV8xLkRPTSgnc3BhbicsIHtcclxuICAgICAgICAgICAgJ2lkJzogdGhpcy5jb25maWcuaWQsXHJcbiAgICAgICAgICAgICdjbGFzcyc6IHRoaXMuZ2V0Q3NzQ2xhc3NlcygpLFxyXG4gICAgICAgIH0pLmFwcGVuZChuZXcgZG9tXzEuRE9NKCdzcGFuJywge30pLmh0bWwodGhpcy50ZXh0KSwgdGhpcy5vcGVuZXIuZ2V0RG9tRWxlbWVudCgpKTtcclxuICAgICAgICByZXR1cm4gbGFiZWxFbGVtZW50O1xyXG4gICAgfTtcclxuICAgIHJldHVybiBTdWJ0aXRsZVNldHRpbmdzTGFiZWw7XHJcbn0oY29udGFpbmVyXzEuQ29udGFpbmVyKSk7XHJcbmV4cG9ydHMuU3VidGl0bGVTZXR0aW5nc0xhYmVsID0gU3VidGl0bGVTZXR0aW5nc0xhYmVsO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvc3VidGl0bGVzZXR0aW5ncy9zdWJ0aXRsZXNldHRpbmdzbGFiZWwudHNcbi8vIG1vZHVsZSBpZCA9IDQ2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBzdWJ0aXRsZXNldHRpbmdzYnV0dG9uXzEgPSByZXF1aXJlKFwiLi9zdWJ0aXRsZXNldHRpbmdzYnV0dG9uXCIpO1xyXG4vKipcclxuICogQSBidXR0b24gdGhhdCB0b2dnbGVzIHRoZSBvcHRpb24gbWVudSBmb3Igc3VidGl0bGVzXHJcbiAqL1xyXG52YXIgU3VidGl0bGVTZXR0aW5nc09wZW5CdXR0b24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoU3VidGl0bGVTZXR0aW5nc09wZW5CdXR0b24sIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBTdWJ0aXRsZVNldHRpbmdzT3BlbkJ1dHRvbihjb25maWcpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBjb25maWcpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMuY29uZmlnID0gX3RoaXMubWVyZ2VDb25maWcoY29uZmlnLCB7XHJcbiAgICAgICAgICAgIGNzc0NsYXNzOiAndWktc3VidGl0bGVzZXR0aW5nc29wZW5idXR0b24nLFxyXG4gICAgICAgICAgICB0ZXh0OiAnU3VidGl0bGVzIHNldHRpbmdzJyxcclxuICAgICAgICB9LCBfdGhpcy5jb25maWcpO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIFN1YnRpdGxlU2V0dGluZ3NPcGVuQnV0dG9uLnByb3RvdHlwZS5jb25maWd1cmUgPSBmdW5jdGlvbiAocGxheWVyLCB1aW1hbmFnZXIpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuY29uZmlndXJlLmNhbGwodGhpcywgcGxheWVyLCB1aW1hbmFnZXIpO1xyXG4gICAgICAgIHRoaXMub25DbGljay5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBfdGhpcy5zdWJ0aXRsZVNldHRpbmdzUGFuZWwuc2hvdygpO1xyXG4gICAgICAgICAgICBfdGhpcy5zZXR0aW5nc1BhbmVsLmhpZGUoKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gU3VidGl0bGVTZXR0aW5nc09wZW5CdXR0b247XHJcbn0oc3VidGl0bGVzZXR0aW5nc2J1dHRvbl8xLlN1YnRpdGxlU2V0dGluZ3NCdXR0b24pKTtcclxuZXhwb3J0cy5TdWJ0aXRsZVNldHRpbmdzT3BlbkJ1dHRvbiA9IFN1YnRpdGxlU2V0dGluZ3NPcGVuQnV0dG9uO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvc3VidGl0bGVzZXR0aW5ncy9zdWJ0aXRsZXNldHRpbmdzb3BlbmJ1dHRvbi50c1xuLy8gbW9kdWxlIGlkID0gNDdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIHNlbGVjdGJveF8xID0gcmVxdWlyZShcIi4vc2VsZWN0Ym94XCIpO1xyXG4vKipcclxuICogQSBzZWxlY3QgYm94IHByb3ZpZGluZyBhIHNlbGVjdGlvbiBiZXR3ZWVuIGF2YWlsYWJsZSBhdWRpbyB0cmFja3MgKGUuZy4gZGlmZmVyZW50IGxhbmd1YWdlcykuXHJcbiAqL1xyXG52YXIgQXVkaW9UcmFja1NlbGVjdEJveCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhBdWRpb1RyYWNrU2VsZWN0Qm94LCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gQXVkaW9UcmFja1NlbGVjdEJveChjb25maWcpIHtcclxuICAgICAgICBpZiAoY29uZmlnID09PSB2b2lkIDApIHsgY29uZmlnID0ge307IH1cclxuICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgY29uZmlnKSB8fCB0aGlzO1xyXG4gICAgfVxyXG4gICAgQXVkaW9UcmFja1NlbGVjdEJveC5wcm90b3R5cGUuY29uZmlndXJlID0gZnVuY3Rpb24gKHBsYXllciwgdWltYW5hZ2VyKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmNvbmZpZ3VyZS5jYWxsKHRoaXMsIHBsYXllciwgdWltYW5hZ2VyKTtcclxuICAgICAgICB2YXIgc2VsZWN0Q3VycmVudEF1ZGlvVHJhY2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBjdXJyZW50QXVkaW9UcmFjayA9IHBsYXllci5nZXRBdWRpbygpO1xyXG4gICAgICAgICAgICAvLyBITFMgc3RyZWFtcyBkb24ndCBhbHdheXMgcHJvdmlkZSB0aGlzLCBzbyB3ZSBoYXZlIHRvIGNoZWNrXHJcbiAgICAgICAgICAgIGlmIChjdXJyZW50QXVkaW9UcmFjaykge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuc2VsZWN0SXRlbShjdXJyZW50QXVkaW9UcmFjay5pZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciB1cGRhdGVBdWRpb1RyYWNrcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGF1ZGlvVHJhY2tzID0gcGxheWVyLmdldEF2YWlsYWJsZUF1ZGlvKCk7XHJcbiAgICAgICAgICAgIF90aGlzLmNsZWFySXRlbXMoKTtcclxuICAgICAgICAgICAgLy8gQWRkIGF1ZGlvIHRyYWNrc1xyXG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIGF1ZGlvVHJhY2tzXzEgPSBhdWRpb1RyYWNrczsgX2kgPCBhdWRpb1RyYWNrc18xLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGF1ZGlvVHJhY2sgPSBhdWRpb1RyYWNrc18xW19pXTtcclxuICAgICAgICAgICAgICAgIF90aGlzLmFkZEl0ZW0oYXVkaW9UcmFjay5pZCwgYXVkaW9UcmFjay5sYWJlbCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gU2VsZWN0IHRoZSBjb3JyZWN0IGF1ZGlvIHRyYWNrIGFmdGVyIHRoZSB0cmFja3MgaGF2ZSBiZWVuIGFkZGVkXHJcbiAgICAgICAgICAgIC8vIFRoaXMgaXMgYWxzbyBpbXBvcnRhbnQgaW4gY2FzZSB3ZSBtaXNzZWQgdGhlIGBPTl9BVURJT19DSEFOR0VEYCBldmVudCwgZS5nLiB3aGVuIGBwbGF5YmFjay5hdWRpb0xhbmd1YWdlYFxyXG4gICAgICAgICAgICAvLyBpcyBjb25maWd1cmVkIGJ1dCB0aGUgZXZlbnQgaXMgZmlyZWQgYmVmb3JlIHRoZSBVSSBpcyBjcmVhdGVkLlxyXG4gICAgICAgICAgICBzZWxlY3RDdXJyZW50QXVkaW9UcmFjaygpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5vbkl0ZW1TZWxlY3RlZC5zdWJzY3JpYmUoZnVuY3Rpb24gKHNlbmRlciwgdmFsdWUpIHtcclxuICAgICAgICAgICAgcGxheWVyLnNldEF1ZGlvKHZhbHVlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBVcGRhdGUgc2VsZWN0aW9uIHdoZW4gc2VsZWN0ZWQgdHJhY2sgaGFzIGNoYW5nZWRcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9BVURJT19DSEFOR0VELCBzZWxlY3RDdXJyZW50QXVkaW9UcmFjayk7XHJcbiAgICAgICAgLy8gVXBkYXRlIHRyYWNrcyB3aGVuIHNvdXJjZSBnb2VzIGF3YXlcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9TT1VSQ0VfVU5MT0FERUQsIHVwZGF0ZUF1ZGlvVHJhY2tzKTtcclxuICAgICAgICAvLyBVcGRhdGUgdHJhY2tzIHdoZW4gYSBuZXcgc291cmNlIGlzIGxvYWRlZFxyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1JFQURZLCB1cGRhdGVBdWRpb1RyYWNrcyk7XHJcbiAgICAgICAgLy8gVXBkYXRlIHRyYWNrcyB3aGVuIHRoZSBwZXJpb2Qgd2l0aGluIGEgc291cmNlIGNoYW5nZXNcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9QRVJJT0RfU1dJVENIRUQsIHVwZGF0ZUF1ZGlvVHJhY2tzKTtcclxuICAgICAgICAvLyBVcGRhdGUgdHJhY2tzIHdoZW4gYSB0cmFjayBpcyBhZGRlZCBvciByZW1vdmVkIChzaW5jZSBwbGF5ZXIgNy4xLjQpXHJcbiAgICAgICAgaWYgKHBsYXllci5FVkVOVC5PTl9BVURJT19BRERFRCAmJiBwbGF5ZXIuRVZFTlQuT05fQVVESU9fUkVNT1ZFRCkge1xyXG4gICAgICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9BVURJT19BRERFRCwgdXBkYXRlQXVkaW9UcmFja3MpO1xyXG4gICAgICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9BVURJT19SRU1PVkVELCB1cGRhdGVBdWRpb1RyYWNrcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFBvcHVsYXRlIHRyYWNrcyBhdCBzdGFydHVwXHJcbiAgICAgICAgdXBkYXRlQXVkaW9UcmFja3MoKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gQXVkaW9UcmFja1NlbGVjdEJveDtcclxufShzZWxlY3Rib3hfMS5TZWxlY3RCb3gpKTtcclxuZXhwb3J0cy5BdWRpb1RyYWNrU2VsZWN0Qm94ID0gQXVkaW9UcmFja1NlbGVjdEJveDtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL2F1ZGlvdHJhY2tzZWxlY3Rib3gudHNcbi8vIG1vZHVsZSBpZCA9IDQ4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBjb250YWluZXJfMSA9IHJlcXVpcmUoXCIuL2NvbnRhaW5lclwiKTtcclxudmFyIGxhYmVsXzEgPSByZXF1aXJlKFwiLi9sYWJlbFwiKTtcclxudmFyIGNvbXBvbmVudF8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50XCIpO1xyXG52YXIgc3RyaW5ndXRpbHNfMSA9IHJlcXVpcmUoXCIuLi9zdHJpbmd1dGlsc1wiKTtcclxudmFyIGltYWdlbG9hZGVyXzEgPSByZXF1aXJlKFwiLi4vaW1hZ2Vsb2FkZXJcIik7XHJcbi8qKlxyXG4gKiBBIGxhYmVsIGZvciBhIHtAbGluayBTZWVrQmFyfSB0aGF0IGNhbiBkaXNwbGF5IHRoZSBzZWVrIHRhcmdldCB0aW1lLCBhIHRodW1ibmFpbCwgYW5kIHRpdGxlIChlLmcuIGNoYXB0ZXIgdGl0bGUpLlxyXG4gKi9cclxudmFyIFNlZWtCYXJMYWJlbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhTZWVrQmFyTGFiZWwsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBTZWVrQmFyTGFiZWwoY29uZmlnKSB7XHJcbiAgICAgICAgaWYgKGNvbmZpZyA9PT0gdm9pZCAwKSB7IGNvbmZpZyA9IHt9OyB9XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgY29uZmlnKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLnRpbWVMYWJlbCA9IG5ldyBsYWJlbF8xLkxhYmVsKHsgY3NzQ2xhc3NlczogWydzZWVrYmFyLWxhYmVsLXRpbWUnXSB9KTtcclxuICAgICAgICBfdGhpcy50aXRsZUxhYmVsID0gbmV3IGxhYmVsXzEuTGFiZWwoeyBjc3NDbGFzc2VzOiBbJ3NlZWtiYXItbGFiZWwtdGl0bGUnXSB9KTtcclxuICAgICAgICBfdGhpcy50aHVtYm5haWwgPSBuZXcgY29tcG9uZW50XzEuQ29tcG9uZW50KHsgY3NzQ2xhc3NlczogWydzZWVrYmFyLXRodW1ibmFpbCddIH0pO1xyXG4gICAgICAgIF90aGlzLnRodW1ibmFpbEltYWdlTG9hZGVyID0gbmV3IGltYWdlbG9hZGVyXzEuSW1hZ2VMb2FkZXIoKTtcclxuICAgICAgICBfdGhpcy5jb25maWcgPSBfdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIHtcclxuICAgICAgICAgICAgY3NzQ2xhc3M6ICd1aS1zZWVrYmFyLWxhYmVsJyxcclxuICAgICAgICAgICAgY29tcG9uZW50czogW25ldyBjb250YWluZXJfMS5Db250YWluZXIoe1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudHM6IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMudGh1bWJuYWlsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgY29udGFpbmVyXzEuQ29udGFpbmVyKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudHM6IFtfdGhpcy50aXRsZUxhYmVsLCBfdGhpcy50aW1lTGFiZWxdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3NzQ2xhc3M6ICdzZWVrYmFyLWxhYmVsLW1ldGFkYXRhJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICAgICAgICAgIGNzc0NsYXNzOiAnc2Vla2Jhci1sYWJlbC1pbm5lcicsXHJcbiAgICAgICAgICAgICAgICB9KV0sXHJcbiAgICAgICAgICAgIGhpZGRlbjogdHJ1ZSxcclxuICAgICAgICB9LCBfdGhpcy5jb25maWcpO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIFNlZWtCYXJMYWJlbC5wcm90b3R5cGUuY29uZmlndXJlID0gZnVuY3Rpb24gKHBsYXllciwgdWltYW5hZ2VyKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmNvbmZpZ3VyZS5jYWxsKHRoaXMsIHBsYXllciwgdWltYW5hZ2VyKTtcclxuICAgICAgICB2YXIgYXBwbGllZE1hcmtlckNzc0NsYXNzZXMgPSBbXTtcclxuICAgICAgICB1aW1hbmFnZXIub25TZWVrUHJldmlldy5zdWJzY3JpYmVSYXRlTGltaXRlZChmdW5jdGlvbiAoc2VuZGVyLCBhcmdzKSB7XHJcbiAgICAgICAgICAgIGlmIChwbGF5ZXIuaXNMaXZlKCkpIHtcclxuICAgICAgICAgICAgICAgIHZhciBtYXhUaW1lU2hpZnQgPSBwbGF5ZXIuZ2V0TWF4VGltZVNoaWZ0KCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGltZSA9IG1heFRpbWVTaGlmdCAtIG1heFRpbWVTaGlmdCAqIChhcmdzLnBvc2l0aW9uIC8gMTAwKTtcclxuICAgICAgICAgICAgICAgIF90aGlzLnNldFRpbWUodGltZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYXJncy5tYXJrZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5zZXRUaXRsZVRleHQoYXJncy5tYXJrZXIubWFya2VyLnRpdGxlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnNldFRpdGxlVGV4dChudWxsKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhciB0aW1lID0gcGxheWVyLmdldER1cmF0aW9uKCkgKiAoYXJncy5wb3NpdGlvbiAvIDEwMCk7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5zZXRUaW1lKHRpbWUpO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuc2V0VGh1bWJuYWlsKHBsYXllci5nZXRUaHVtYih0aW1lKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gUmVtb3ZlIENTUyBjbGFzc2VzIGZyb20gcHJldmlvdXMgbWFya2VyXHJcbiAgICAgICAgICAgIGlmIChhcHBsaWVkTWFya2VyQ3NzQ2xhc3Nlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5nZXREb21FbGVtZW50KCkucmVtb3ZlQ2xhc3MoYXBwbGllZE1hcmtlckNzc0NsYXNzZXMuam9pbignICcpKTtcclxuICAgICAgICAgICAgICAgIGFwcGxpZWRNYXJrZXJDc3NDbGFzc2VzID0gW107XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gQWRkIENTUyBjbGFzc2VzIG9mIGN1cnJlbnQgbWFya2VyXHJcbiAgICAgICAgICAgIGlmIChhcmdzLm1hcmtlcikge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNzc0NsYXNzZXMgPSAoYXJncy5tYXJrZXIubWFya2VyLmNzc0NsYXNzZXMgfHwgW10pLm1hcChmdW5jdGlvbiAoY3NzQ2xhc3MpIHsgcmV0dXJuIF90aGlzLnByZWZpeENzcyhjc3NDbGFzcyk7IH0pO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuZ2V0RG9tRWxlbWVudCgpLmFkZENsYXNzKGNzc0NsYXNzZXMuam9pbignICcpKTtcclxuICAgICAgICAgICAgICAgIGFwcGxpZWRNYXJrZXJDc3NDbGFzc2VzID0gY3NzQ2xhc3NlcztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIDEwMCk7XHJcbiAgICAgICAgdmFyIGluaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIC8vIFNldCB0aW1lIGZvcm1hdCBkZXBlbmRpbmcgb24gc291cmNlIGR1cmF0aW9uXHJcbiAgICAgICAgICAgIF90aGlzLnRpbWVGb3JtYXQgPSBNYXRoLmFicyhwbGF5ZXIuaXNMaXZlKCkgPyBwbGF5ZXIuZ2V0TWF4VGltZVNoaWZ0KCkgOiBwbGF5ZXIuZ2V0RHVyYXRpb24oKSkgPj0gMzYwMCA/XHJcbiAgICAgICAgICAgICAgICBzdHJpbmd1dGlsc18xLlN0cmluZ1V0aWxzLkZPUk1BVF9ISE1NU1MgOiBzdHJpbmd1dGlsc18xLlN0cmluZ1V0aWxzLkZPUk1BVF9NTVNTO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fUkVBRFksIGluaXQpO1xyXG4gICAgICAgIGluaXQoKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFNldHMgYXJiaXRyYXJ5IHRleHQgb24gdGhlIGxhYmVsLlxyXG4gICAgICogQHBhcmFtIHRleHQgdGhlIHRleHQgdG8gc2hvdyBvbiB0aGUgbGFiZWxcclxuICAgICAqL1xyXG4gICAgU2Vla0JhckxhYmVsLnByb3RvdHlwZS5zZXRUZXh0ID0gZnVuY3Rpb24gKHRleHQpIHtcclxuICAgICAgICB0aGlzLnRpbWVMYWJlbC5zZXRUZXh0KHRleHQpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogU2V0cyBhIHRpbWUgdG8gYmUgZGlzcGxheWVkIG9uIHRoZSBsYWJlbC5cclxuICAgICAqIEBwYXJhbSBzZWNvbmRzIHRoZSB0aW1lIGluIHNlY29uZHMgdG8gZGlzcGxheSBvbiB0aGUgbGFiZWxcclxuICAgICAqL1xyXG4gICAgU2Vla0JhckxhYmVsLnByb3RvdHlwZS5zZXRUaW1lID0gZnVuY3Rpb24gKHNlY29uZHMpIHtcclxuICAgICAgICB0aGlzLnNldFRleHQoc3RyaW5ndXRpbHNfMS5TdHJpbmdVdGlscy5zZWNvbmRzVG9UaW1lKHNlY29uZHMsIHRoaXMudGltZUZvcm1hdCkpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogU2V0cyB0aGUgdGV4dCBvbiB0aGUgdGl0bGUgbGFiZWwuXHJcbiAgICAgKiBAcGFyYW0gdGV4dCB0aGUgdGV4dCB0byBzaG93IG9uIHRoZSBsYWJlbFxyXG4gICAgICovXHJcbiAgICBTZWVrQmFyTGFiZWwucHJvdG90eXBlLnNldFRpdGxlVGV4dCA9IGZ1bmN0aW9uICh0ZXh0KSB7XHJcbiAgICAgICAgdGhpcy50aXRsZUxhYmVsLnNldFRleHQodGV4dCk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBTZXRzIG9yIHJlbW92ZXMgYSB0aHVtYm5haWwgb24gdGhlIGxhYmVsLlxyXG4gICAgICogQHBhcmFtIHRodW1ibmFpbCB0aGUgdGh1bWJuYWlsIHRvIGRpc3BsYXkgb24gdGhlIGxhYmVsIG9yIG51bGwgdG8gcmVtb3ZlIGEgZGlzcGxheWVkIHRodW1ibmFpbFxyXG4gICAgICovXHJcbiAgICBTZWVrQmFyTGFiZWwucHJvdG90eXBlLnNldFRodW1ibmFpbCA9IGZ1bmN0aW9uICh0aHVtYm5haWwpIHtcclxuICAgICAgICBpZiAodGh1bWJuYWlsID09PSB2b2lkIDApIHsgdGh1bWJuYWlsID0gbnVsbDsgfVxyXG4gICAgICAgIHZhciB0aHVtYm5haWxFbGVtZW50ID0gdGhpcy50aHVtYm5haWwuZ2V0RG9tRWxlbWVudCgpO1xyXG4gICAgICAgIGlmICh0aHVtYm5haWwgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aHVtYm5haWxFbGVtZW50LmNzcyh7XHJcbiAgICAgICAgICAgICAgICAnYmFja2dyb3VuZC1pbWFnZSc6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAnZGlzcGxheSc6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAnd2lkdGgnOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgJ2hlaWdodCc6IG51bGwsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gV2UgdXNlIHRoZSB0aHVtYm5haWwgaW1hZ2UgbG9hZGVyIHRvIG1ha2Ugc3VyZSB0aGUgdGh1bWJuYWlsIGlzIGxvYWRlZCBhbmQgaXQncyBzaXplIGlzIGtub3duIGJlZm9yZSBiZSBjYW5cclxuICAgICAgICAgICAgLy8gY2FsY3VsYXRlIHRoZSBDU1MgcHJvcGVydGllcyBhbmQgc2V0IHRoZW0gb24gdGhlIGVsZW1lbnQuXHJcbiAgICAgICAgICAgIHRoaXMudGh1bWJuYWlsSW1hZ2VMb2FkZXIubG9hZCh0aHVtYm5haWwudXJsLCBmdW5jdGlvbiAodXJsLCB3aWR0aCwgaGVpZ2h0KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGh1bWJuYWlsQ291bnRYID0gd2lkdGggLyB0aHVtYm5haWwudztcclxuICAgICAgICAgICAgICAgIHZhciB0aHVtYm5haWxDb3VudFkgPSBoZWlnaHQgLyB0aHVtYm5haWwuaDtcclxuICAgICAgICAgICAgICAgIHZhciB0aHVtYm5haWxJbmRleFggPSB0aHVtYm5haWwueCAvIHRodW1ibmFpbC53O1xyXG4gICAgICAgICAgICAgICAgdmFyIHRodW1ibmFpbEluZGV4WSA9IHRodW1ibmFpbC55IC8gdGh1bWJuYWlsLmg7XHJcbiAgICAgICAgICAgICAgICB2YXIgc2l6ZVggPSAxMDAgKiB0aHVtYm5haWxDb3VudFg7XHJcbiAgICAgICAgICAgICAgICB2YXIgc2l6ZVkgPSAxMDAgKiB0aHVtYm5haWxDb3VudFk7XHJcbiAgICAgICAgICAgICAgICB2YXIgb2Zmc2V0WCA9IDEwMCAqIHRodW1ibmFpbEluZGV4WDtcclxuICAgICAgICAgICAgICAgIHZhciBvZmZzZXRZID0gMTAwICogdGh1bWJuYWlsSW5kZXhZO1xyXG4gICAgICAgICAgICAgICAgdmFyIGFzcGVjdFJhdGlvID0gMSAvIHRodW1ibmFpbC53ICogdGh1bWJuYWlsLmg7XHJcbiAgICAgICAgICAgICAgICAvLyBUaGUgdGh1bWJuYWlsIHNpemUgaXMgc2V0IGJ5IHNldHRpbmcgdGhlIENTUyAnd2lkdGgnIGFuZCAncGFkZGluZy1ib3R0b20nIHByb3BlcnRpZXMuICdwYWRkaW5nLWJvdHRvbScgaXNcclxuICAgICAgICAgICAgICAgIC8vIHVzZWQgYmVjYXVzZSBpdCBpcyByZWxhdGl2ZSB0byB0aGUgd2lkdGggYW5kIGNhbiBiZSB1c2VkIHRvIHNldCB0aGUgYXNwZWN0IHJhdGlvIG9mIHRoZSB0aHVtYm5haWwuXHJcbiAgICAgICAgICAgICAgICAvLyBBIGRlZmF1bHQgdmFsdWUgZm9yIHdpZHRoIGlzIHNldCBpbiB0aGUgc3R5bGVzaGVldCBhbmQgY2FuIGJlIG92ZXJ3cml0dGVuIGZyb20gdGhlcmUgb3IgYW55d2hlcmUgZWxzZS5cclxuICAgICAgICAgICAgICAgIHRodW1ibmFpbEVsZW1lbnQuY3NzKHtcclxuICAgICAgICAgICAgICAgICAgICAnZGlzcGxheSc6ICdpbmhlcml0JyxcclxuICAgICAgICAgICAgICAgICAgICAnYmFja2dyb3VuZC1pbWFnZSc6IFwidXJsKFwiICsgdGh1bWJuYWlsLnVybCArIFwiKVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICdwYWRkaW5nLWJvdHRvbSc6IDEwMCAqIGFzcGVjdFJhdGlvICsgXCIlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgJ2JhY2tncm91bmQtc2l6ZSc6IHNpemVYICsgXCIlIFwiICsgc2l6ZVkgKyBcIiVcIixcclxuICAgICAgICAgICAgICAgICAgICAnYmFja2dyb3VuZC1wb3NpdGlvbic6IFwiLVwiICsgb2Zmc2V0WCArIFwiJSAtXCIgKyBvZmZzZXRZICsgXCIlXCIsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHJldHVybiBTZWVrQmFyTGFiZWw7XHJcbn0oY29udGFpbmVyXzEuQ29udGFpbmVyKSk7XHJcbmV4cG9ydHMuU2Vla0JhckxhYmVsID0gU2Vla0JhckxhYmVsO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvc2Vla2JhcmxhYmVsLnRzXG4vLyBtb2R1bGUgaWQgPSA0OVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgc2VsZWN0Ym94XzEgPSByZXF1aXJlKFwiLi9zZWxlY3Rib3hcIik7XHJcbi8qKlxyXG4gKiBBIHNlbGVjdCBib3ggcHJvdmlkaW5nIGEgc2VsZWN0aW9uIGJldHdlZW4gYXZhaWxhYmxlIHN1YnRpdGxlIGFuZCBjYXB0aW9uIHRyYWNrcy5cclxuICovXHJcbnZhciBTdWJ0aXRsZVNlbGVjdEJveCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhTdWJ0aXRsZVNlbGVjdEJveCwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIFN1YnRpdGxlU2VsZWN0Qm94KGNvbmZpZykge1xyXG4gICAgICAgIGlmIChjb25maWcgPT09IHZvaWQgMCkgeyBjb25maWcgPSB7fTsgfVxyXG4gICAgICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCBjb25maWcpIHx8IHRoaXM7XHJcbiAgICB9XHJcbiAgICBTdWJ0aXRsZVNlbGVjdEJveC5wcm90b3R5cGUuY29uZmlndXJlID0gZnVuY3Rpb24gKHBsYXllciwgdWltYW5hZ2VyKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmNvbmZpZ3VyZS5jYWxsKHRoaXMsIHBsYXllciwgdWltYW5hZ2VyKTtcclxuICAgICAgICB2YXIgc2VsZWN0Q3VycmVudFN1YnRpdGxlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgY3VycmVudFN1YnRpdGxlID0gcGxheWVyLmdldFN1YnRpdGxlKCk7XHJcbiAgICAgICAgICAgIGlmIChjdXJyZW50U3VidGl0bGUpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLnNlbGVjdEl0ZW0oY3VycmVudFN1YnRpdGxlLmlkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdmFyIHVwZGF0ZVN1YnRpdGxlcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgX3RoaXMuY2xlYXJJdGVtcygpO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gcGxheWVyLmdldEF2YWlsYWJsZVN1YnRpdGxlcygpOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHN1YnRpdGxlID0gX2FbX2ldO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuYWRkSXRlbShzdWJ0aXRsZS5pZCwgc3VidGl0bGUubGFiZWwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIFNlbGVjdCB0aGUgY29ycmVjdCBzdWJ0aXRsZSBhZnRlciB0aGUgc3VidGl0bGVzIGhhdmUgYmVlbiBhZGRlZFxyXG4gICAgICAgICAgICBzZWxlY3RDdXJyZW50U3VidGl0bGUoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMub25JdGVtU2VsZWN0ZWQuc3Vic2NyaWJlKGZ1bmN0aW9uIChzZW5kZXIsIHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHBsYXllci5zZXRTdWJ0aXRsZSh2YWx1ZSA9PT0gJ251bGwnID8gbnVsbCA6IHZhbHVlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBSZWFjdCB0byBBUEkgZXZlbnRzXHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fU1VCVElUTEVfQURERUQsIHVwZGF0ZVN1YnRpdGxlcyk7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fU1VCVElUTEVfQ0hBTkdFRCwgc2VsZWN0Q3VycmVudFN1YnRpdGxlKTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9TVUJUSVRMRV9SRU1PVkVELCB1cGRhdGVTdWJ0aXRsZXMpO1xyXG4gICAgICAgIC8vIFVwZGF0ZSBzdWJ0aXRsZXMgd2hlbiBzb3VyY2UgZ29lcyBhd2F5XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fU09VUkNFX1VOTE9BREVELCB1cGRhdGVTdWJ0aXRsZXMpO1xyXG4gICAgICAgIC8vIFVwZGF0ZSBzdWJ0aXRsZXMgd2hlbiBhIG5ldyBzb3VyY2UgaXMgbG9hZGVkXHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fUkVBRFksIHVwZGF0ZVN1YnRpdGxlcyk7XHJcbiAgICAgICAgLy8gVXBkYXRlIHN1YnRpdGxlcyB3aGVuIHRoZSBwZXJpb2Qgd2l0aGluIGEgc291cmNlIGNoYW5nZXNcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9QRVJJT0RfU1dJVENIRUQsIHVwZGF0ZVN1YnRpdGxlcyk7XHJcbiAgICAgICAgLy8gUG9wdWxhdGUgc3VidGl0bGVzIGF0IHN0YXJ0dXBcclxuICAgICAgICB1cGRhdGVTdWJ0aXRsZXMoKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gU3VidGl0bGVTZWxlY3RCb3g7XHJcbn0oc2VsZWN0Ym94XzEuU2VsZWN0Qm94KSk7XHJcbmV4cG9ydHMuU3VidGl0bGVTZWxlY3RCb3ggPSBTdWJ0aXRsZVNlbGVjdEJveDtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3N1YnRpdGxlc2VsZWN0Ym94LnRzXG4vLyBtb2R1bGUgaWQgPSA1MFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgY29udGFpbmVyXzEgPSByZXF1aXJlKFwiLi9jb250YWluZXJcIik7XHJcbnZhciBsYWJlbF8xID0gcmVxdWlyZShcIi4vbGFiZWxcIik7XHJcbnZhciBjb250cm9sYmFyXzEgPSByZXF1aXJlKFwiLi9jb250cm9sYmFyXCIpO1xyXG52YXIgZXZlbnRkaXNwYXRjaGVyXzEgPSByZXF1aXJlKFwiLi4vZXZlbnRkaXNwYXRjaGVyXCIpO1xyXG4vKipcclxuICogT3ZlcmxheXMgdGhlIHBsYXllciB0byBkaXNwbGF5IHN1YnRpdGxlcy5cclxuICovXHJcbnZhciBTdWJ0aXRsZU92ZXJsYXkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoU3VidGl0bGVPdmVybGF5LCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gU3VidGl0bGVPdmVybGF5KGNvbmZpZykge1xyXG4gICAgICAgIGlmIChjb25maWcgPT09IHZvaWQgMCkgeyBjb25maWcgPSB7fTsgfVxyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGNvbmZpZykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5wcmVwcm9jZXNzTGFiZWxFdmVudENhbGxiYWNrID0gbmV3IGV2ZW50ZGlzcGF0Y2hlcl8xLkV2ZW50RGlzcGF0Y2hlcigpO1xyXG4gICAgICAgIF90aGlzLnByZXZpZXdTdWJ0aXRsZUFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIF90aGlzLnByZXZpZXdTdWJ0aXRsZSA9IG5ldyBTdWJ0aXRsZUxhYmVsKHsgdGV4dDogJ2V4YW1wbGUgc3VidGl0bGUnIH0pO1xyXG4gICAgICAgIF90aGlzLmNvbmZpZyA9IF90aGlzLm1lcmdlQ29uZmlnKGNvbmZpZywge1xyXG4gICAgICAgICAgICBjc3NDbGFzczogJ3VpLXN1YnRpdGxlLW92ZXJsYXknLFxyXG4gICAgICAgIH0sIF90aGlzLmNvbmZpZyk7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgU3VidGl0bGVPdmVybGF5LnByb3RvdHlwZS5jb25maWd1cmUgPSBmdW5jdGlvbiAocGxheWVyLCB1aW1hbmFnZXIpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuY29uZmlndXJlLmNhbGwodGhpcywgcGxheWVyLCB1aW1hbmFnZXIpO1xyXG4gICAgICAgIHZhciBzdWJ0aXRsZU1hbmFnZXIgPSBuZXcgQWN0aXZlU3VidGl0bGVNYW5hZ2VyKCk7XHJcbiAgICAgICAgdGhpcy5zdWJ0aXRsZU1hbmFnZXIgPSBzdWJ0aXRsZU1hbmFnZXI7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fQ1VFX0VOVEVSLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgLy8gU2FuaXRpemUgY3VlIGRhdGEgKG11c3QgYmUgZG9uZSBiZWZvcmUgdGhlIGN1ZSBJRCBpcyBnZW5lcmF0ZWQgaW4gc3VidGl0bGVNYW5hZ2VyLmN1ZUVudGVyKVxyXG4gICAgICAgICAgICBpZiAoZXZlbnQucG9zaXRpb24pIHtcclxuICAgICAgICAgICAgICAgIC8vIFNvbWV0aW1lcyB0aGUgcG9zaXRpb25zIGFyZSB1bmRlZmluZWQsIHdlIGFzc3VtZSB0aGVtIHRvIGJlIHplcm9cclxuICAgICAgICAgICAgICAgIGV2ZW50LnBvc2l0aW9uLnJvdyA9IGV2ZW50LnBvc2l0aW9uLnJvdyB8fCAwO1xyXG4gICAgICAgICAgICAgICAgZXZlbnQucG9zaXRpb24uY29sdW1uID0gZXZlbnQucG9zaXRpb24uY29sdW1uIHx8IDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIGxhYmVsVG9BZGQgPSBzdWJ0aXRsZU1hbmFnZXIuY3VlRW50ZXIoZXZlbnQpO1xyXG4gICAgICAgICAgICBfdGhpcy5wcmVwcm9jZXNzTGFiZWxFdmVudENhbGxiYWNrLmRpc3BhdGNoKGV2ZW50LCBsYWJlbFRvQWRkKTtcclxuICAgICAgICAgICAgaWYgKF90aGlzLnByZXZpZXdTdWJ0aXRsZUFjdGl2ZSkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMucmVtb3ZlQ29tcG9uZW50KF90aGlzLnByZXZpZXdTdWJ0aXRsZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgX3RoaXMuYWRkQ29tcG9uZW50KGxhYmVsVG9BZGQpO1xyXG4gICAgICAgICAgICBfdGhpcy51cGRhdGVDb21wb25lbnRzKCk7XHJcbiAgICAgICAgICAgIF90aGlzLnNob3coKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9DVUVfRVhJVCwgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIHZhciBsYWJlbFRvUmVtb3ZlID0gc3VidGl0bGVNYW5hZ2VyLmN1ZUV4aXQoZXZlbnQpO1xyXG4gICAgICAgICAgICBpZiAobGFiZWxUb1JlbW92ZSkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMucmVtb3ZlQ29tcG9uZW50KGxhYmVsVG9SZW1vdmUpO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMudXBkYXRlQ29tcG9uZW50cygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICghc3VidGl0bGVNYW5hZ2VyLmhhc0N1ZXMpIHtcclxuICAgICAgICAgICAgICAgIGlmICghX3RoaXMucHJldmlld1N1YnRpdGxlQWN0aXZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuYWRkQ29tcG9uZW50KF90aGlzLnByZXZpZXdTdWJ0aXRsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMudXBkYXRlQ29tcG9uZW50cygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdmFyIHN1YnRpdGxlQ2xlYXJIYW5kbGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBfdGhpcy5oaWRlKCk7XHJcbiAgICAgICAgICAgIHN1YnRpdGxlTWFuYWdlci5jbGVhcigpO1xyXG4gICAgICAgICAgICBfdGhpcy5yZW1vdmVDb21wb25lbnRzKCk7XHJcbiAgICAgICAgICAgIF90aGlzLnVwZGF0ZUNvbXBvbmVudHMoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX0FVRElPX0NIQU5HRUQsIHN1YnRpdGxlQ2xlYXJIYW5kbGVyKTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9TVUJUSVRMRV9DSEFOR0VELCBzdWJ0aXRsZUNsZWFySGFuZGxlcik7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fU0VFSywgc3VidGl0bGVDbGVhckhhbmRsZXIpO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1RJTUVfU0hJRlQsIHN1YnRpdGxlQ2xlYXJIYW5kbGVyKTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9QTEFZQkFDS19GSU5JU0hFRCwgc3VidGl0bGVDbGVhckhhbmRsZXIpO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1NPVVJDRV9VTkxPQURFRCwgc3VidGl0bGVDbGVhckhhbmRsZXIpO1xyXG4gICAgICAgIHVpbWFuYWdlci5vbkNvbXBvbmVudFNob3cuc3Vic2NyaWJlKGZ1bmN0aW9uIChjb21wb25lbnQpIHtcclxuICAgICAgICAgICAgaWYgKGNvbXBvbmVudCBpbnN0YW5jZW9mIGNvbnRyb2xiYXJfMS5Db250cm9sQmFyKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5nZXREb21FbGVtZW50KCkuYWRkQ2xhc3MoX3RoaXMucHJlZml4Q3NzKFN1YnRpdGxlT3ZlcmxheS5DTEFTU19DT05UUk9MQkFSX1ZJU0lCTEUpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHVpbWFuYWdlci5vbkNvbXBvbmVudEhpZGUuc3Vic2NyaWJlKGZ1bmN0aW9uIChjb21wb25lbnQpIHtcclxuICAgICAgICAgICAgaWYgKGNvbXBvbmVudCBpbnN0YW5jZW9mIGNvbnRyb2xiYXJfMS5Db250cm9sQmFyKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5nZXREb21FbGVtZW50KCkucmVtb3ZlQ2xhc3MoX3RoaXMucHJlZml4Q3NzKFN1YnRpdGxlT3ZlcmxheS5DTEFTU19DT05UUk9MQkFSX1ZJU0lCTEUpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuY29uZmlndXJlQ2VhNjA4Q2FwdGlvbnMocGxheWVyLCB1aW1hbmFnZXIpO1xyXG4gICAgICAgIC8vIEluaXRcclxuICAgICAgICBzdWJ0aXRsZUNsZWFySGFuZGxlcigpO1xyXG4gICAgfTtcclxuICAgIFN1YnRpdGxlT3ZlcmxheS5wcm90b3R5cGUuY29uZmlndXJlQ2VhNjA4Q2FwdGlvbnMgPSBmdW5jdGlvbiAocGxheWVyLCB1aW1hbmFnZXIpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIC8vIFRoZSBjYWxjdWxhdGVkIGZvbnQgc2l6ZVxyXG4gICAgICAgIHZhciBmb250U2l6ZSA9IDA7XHJcbiAgICAgICAgLy8gVGhlIHJlcXVpcmVkIGxldHRlciBzcGFjaW5nIHNwcmVhZCB0aGUgdGV4dCBjaGFyYWN0ZXJzIGV2ZW5seSBhY3Jvc3MgdGhlIGdyaWRcclxuICAgICAgICB2YXIgZm9udExldHRlclNwYWNpbmcgPSAwO1xyXG4gICAgICAgIC8vIEZsYWcgdGVsbGluZyBpZiBhIGZvbnQgc2l6ZSBjYWxjdWxhdGlvbiBpcyByZXF1aXJlZCBvZiBpZiB0aGUgY3VycmVudCB2YWx1ZXMgYXJlIHZhbGlkXHJcbiAgICAgICAgdmFyIGZvbnRTaXplQ2FsY3VsYXRpb25SZXF1aXJlZCA9IHRydWU7XHJcbiAgICAgICAgLy8gRmxhZyB0ZWxsaW5nIGlmIHRoZSBDRUEtNjA4IG1vZGUgaXMgZW5hYmxlZFxyXG4gICAgICAgIHZhciBlbmFibGVkID0gZmFsc2U7XHJcbiAgICAgICAgdmFyIHVwZGF0ZUNFQTYwOEZvbnRTaXplID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgZHVtbXlMYWJlbCA9IG5ldyBTdWJ0aXRsZUxhYmVsKHsgdGV4dDogJ1gnIH0pO1xyXG4gICAgICAgICAgICBkdW1teUxhYmVsLmdldERvbUVsZW1lbnQoKS5jc3Moe1xyXG4gICAgICAgICAgICAgICAgLy8gQnkgdXNpbmcgYSBsYXJnZSBmb250IHNpemUgd2UgZG8gbm90IG5lZWQgdG8gdXNlIG11bHRpcGxlIGxldHRlcnMgYW5kIGNhbiBnZXQgc3RpbGwgYW5cclxuICAgICAgICAgICAgICAgIC8vIGFjY3VyYXRlIG1lYXN1cmVtZW50IGV2ZW4gdGhvdWdoIHRoZSByZXR1cm5lZCBzaXplIGlzIGFuIGludGVnZXIgdmFsdWVcclxuICAgICAgICAgICAgICAgICdmb250LXNpemUnOiAnMjAwcHgnLFxyXG4gICAgICAgICAgICAgICAgJ2xpbmUtaGVpZ2h0JzogJzIwMHB4JyxcclxuICAgICAgICAgICAgICAgICd2aXNpYmlsaXR5JzogJ2hpZGRlbicsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBfdGhpcy5hZGRDb21wb25lbnQoZHVtbXlMYWJlbCk7XHJcbiAgICAgICAgICAgIF90aGlzLnVwZGF0ZUNvbXBvbmVudHMoKTtcclxuICAgICAgICAgICAgX3RoaXMuc2hvdygpO1xyXG4gICAgICAgICAgICB2YXIgZHVtbXlMYWJlbENoYXJXaWR0aCA9IGR1bW15TGFiZWwuZ2V0RG9tRWxlbWVudCgpLndpZHRoKCk7XHJcbiAgICAgICAgICAgIHZhciBkdW1teUxhYmVsQ2hhckhlaWdodCA9IGR1bW15TGFiZWwuZ2V0RG9tRWxlbWVudCgpLmhlaWdodCgpO1xyXG4gICAgICAgICAgICB2YXIgZm9udFNpemVSYXRpbyA9IGR1bW15TGFiZWxDaGFyV2lkdGggLyBkdW1teUxhYmVsQ2hhckhlaWdodDtcclxuICAgICAgICAgICAgX3RoaXMucmVtb3ZlQ29tcG9uZW50KGR1bW15TGFiZWwpO1xyXG4gICAgICAgICAgICBfdGhpcy51cGRhdGVDb21wb25lbnRzKCk7XHJcbiAgICAgICAgICAgIGlmICghX3RoaXMuc3VidGl0bGVNYW5hZ2VyLmhhc0N1ZXMpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLmhpZGUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBXZSBzdWJ0cmFjdCAxcHggaGVyZSB0byBhdm9pZCBsaW5lIGJyZWFrcyBhdCB0aGUgcmlnaHQgYm9yZGVyIG9mIHRoZSBzdWJ0aXRsZSBvdmVybGF5IHRoYXQgY2FuIGhhcHBlblxyXG4gICAgICAgICAgICAvLyB3aGVuIHRleHRzIGNvbnRhaW4gd2hpdGVzcGFjZXMuIEl0J3MgcHJvYmFibHkgc29tZSBraW5kIG9mIHBpeGVsIHJvdW5kaW5nIGlzc3VlIGluIHRoZSBicm93c2VyJ3NcclxuICAgICAgICAgICAgLy8gbGF5b3V0aW5nLCBidXQgdGhlIGFjdHVhbCByZWFzb24gY291bGQgbm90IGJlIGRldGVybWluZWQuIEFpbWluZyBmb3IgYSB0YXJnZXQgd2lkdGggLSAxcHggd291bGQgd29yayBpblxyXG4gICAgICAgICAgICAvLyBtb3N0IGJyb3dzZXJzLCBidXQgU2FmYXJpIGhhcyBhIFwicXVhbnRpemVkXCIgZm9udCBzaXplIHJlbmRlcmluZyB3aXRoIGh1Z2Ugc3RlcHMgaW4gYmV0d2VlbiBzbyB3ZSBuZWVkXHJcbiAgICAgICAgICAgIC8vIHRvIHN1YnRyYWN0IHNvbWUgbW9yZSBwaXhlbHMgdG8gYXZvaWQgbGluZSBicmVha3MgdGhlcmUgYXMgd2VsbC5cclxuICAgICAgICAgICAgdmFyIHN1YnRpdGxlT3ZlcmxheVdpZHRoID0gX3RoaXMuZ2V0RG9tRWxlbWVudCgpLndpZHRoKCkgLSAxMDtcclxuICAgICAgICAgICAgdmFyIHN1YnRpdGxlT3ZlcmxheUhlaWdodCA9IF90aGlzLmdldERvbUVsZW1lbnQoKS5oZWlnaHQoKTtcclxuICAgICAgICAgICAgLy8gVGhlIHNpemUgcmF0aW8gb2YgdGhlIGxldHRlciBncmlkXHJcbiAgICAgICAgICAgIHZhciBmb250R3JpZFNpemVSYXRpbyA9IChkdW1teUxhYmVsQ2hhcldpZHRoICogU3VidGl0bGVPdmVybGF5LkNFQTYwOF9OVU1fQ09MVU1OUykgL1xyXG4gICAgICAgICAgICAgICAgKGR1bW15TGFiZWxDaGFySGVpZ2h0ICogU3VidGl0bGVPdmVybGF5LkNFQTYwOF9OVU1fUk9XUyk7XHJcbiAgICAgICAgICAgIC8vIFRoZSBzaXplIHJhdGlvIG9mIHRoZSBhdmFpbGFibGUgc3BhY2UgZm9yIHRoZSBncmlkXHJcbiAgICAgICAgICAgIHZhciBzdWJ0aXRsZU92ZXJsYXlTaXplUmF0aW8gPSBzdWJ0aXRsZU92ZXJsYXlXaWR0aCAvIHN1YnRpdGxlT3ZlcmxheUhlaWdodDtcclxuICAgICAgICAgICAgaWYgKHN1YnRpdGxlT3ZlcmxheVNpemVSYXRpbyA+IGZvbnRHcmlkU2l6ZVJhdGlvKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBXaGVuIHRoZSBhdmFpbGFibGUgc3BhY2UgaXMgd2lkZXIgdGhhbiB0aGUgdGV4dCBncmlkLCB0aGUgZm9udCBzaXplIGlzIHNpbXBseVxyXG4gICAgICAgICAgICAgICAgLy8gZGV0ZXJtaW5lZCBieSB0aGUgaGVpZ2h0IG9mIHRoZSBhdmFpbGFibGUgc3BhY2UuXHJcbiAgICAgICAgICAgICAgICBmb250U2l6ZSA9IHN1YnRpdGxlT3ZlcmxheUhlaWdodCAvIFN1YnRpdGxlT3ZlcmxheS5DRUE2MDhfTlVNX1JPV1M7XHJcbiAgICAgICAgICAgICAgICAvLyBDYWxjdWxhdGUgdGhlIGFkZGl0aW9uYWwgbGV0dGVyIHNwYWNpbmcgcmVxdWlyZWQgdG8gZXZlbmx5IHNwcmVhZCB0aGUgdGV4dCBhY3Jvc3MgdGhlIGdyaWQncyB3aWR0aFxyXG4gICAgICAgICAgICAgICAgdmFyIGdyaWRTbG90V2lkdGggPSBzdWJ0aXRsZU92ZXJsYXlXaWR0aCAvIFN1YnRpdGxlT3ZlcmxheS5DRUE2MDhfTlVNX0NPTFVNTlM7XHJcbiAgICAgICAgICAgICAgICB2YXIgZm9udENoYXJXaWR0aCA9IGZvbnRTaXplICogZm9udFNpemVSYXRpbztcclxuICAgICAgICAgICAgICAgIGZvbnRMZXR0ZXJTcGFjaW5nID0gZ3JpZFNsb3RXaWR0aCAtIGZvbnRDaGFyV2lkdGg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBXaGVuIHRoZSBhdmFpbGFibGUgc3BhY2UgaXMgbm90IHdpZGUgZW5vdWdoLCB0ZXh0cyB3b3VsZCB2ZXJ0aWNhbGx5IG92ZXJsYXAgaWYgd2UgdGFrZVxyXG4gICAgICAgICAgICAgICAgLy8gdGhlIGhlaWdodCBhcyBhIGJhc2UgZm9yIHRoZSBmb250IHNpemUsIHNvIHdlIG5lZWQgdG8gbGltaXQgdGhlIGhlaWdodC4gV2UgZG8gdGhhdFxyXG4gICAgICAgICAgICAgICAgLy8gYnkgZGV0ZXJtaW5pbmcgdGhlIGZvbnQgc2l6ZSBieSB0aGUgd2lkdGggb2YgdGhlIGF2YWlsYWJsZSBzcGFjZS5cclxuICAgICAgICAgICAgICAgIGZvbnRTaXplID0gc3VidGl0bGVPdmVybGF5V2lkdGggLyBTdWJ0aXRsZU92ZXJsYXkuQ0VBNjA4X05VTV9DT0xVTU5TIC8gZm9udFNpemVSYXRpbztcclxuICAgICAgICAgICAgICAgIGZvbnRMZXR0ZXJTcGFjaW5nID0gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBVcGRhdGUgZm9udC1zaXplIG9mIGFsbCBhY3RpdmUgc3VidGl0bGUgbGFiZWxzXHJcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSBfdGhpcy5nZXRDb21wb25lbnRzKCk7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbGFiZWwgPSBfYVtfaV07XHJcbiAgICAgICAgICAgICAgICBpZiAobGFiZWwgaW5zdGFuY2VvZiBTdWJ0aXRsZUxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWwuZ2V0RG9tRWxlbWVudCgpLmNzcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdmb250LXNpemUnOiBmb250U2l6ZSArIFwicHhcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ2xldHRlci1zcGFjaW5nJzogZm9udExldHRlclNwYWNpbmcgKyBcInB4XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1BMQVlFUl9SRVNJWkUsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKGVuYWJsZWQpIHtcclxuICAgICAgICAgICAgICAgIHVwZGF0ZUNFQTYwOEZvbnRTaXplKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBmb250U2l6ZUNhbGN1bGF0aW9uUmVxdWlyZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5wcmVwcm9jZXNzTGFiZWxFdmVudENhbGxiYWNrLnN1YnNjcmliZShmdW5jdGlvbiAoZXZlbnQsIGxhYmVsKSB7XHJcbiAgICAgICAgICAgIHZhciBpc0NFQTYwOCA9IGV2ZW50LnBvc2l0aW9uICE9IG51bGw7XHJcbiAgICAgICAgICAgIGlmICghaXNDRUE2MDgpIHtcclxuICAgICAgICAgICAgICAgIC8vIFNraXAgYWxsIG5vbi1DRUE2MDggY3Vlc1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICghZW5hYmxlZCkge1xyXG4gICAgICAgICAgICAgICAgZW5hYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5nZXREb21FbGVtZW50KCkuYWRkQ2xhc3MoX3RoaXMucHJlZml4Q3NzKFN1YnRpdGxlT3ZlcmxheS5DTEFTU19DRUFfNjA4KSk7XHJcbiAgICAgICAgICAgICAgICAvLyBXZSBjb25kaXRpb25hbGx5IHVwZGF0ZSB0aGUgZm9udCBzaXplIGJ5IHRoaXMgZmxhZyBoZXJlIHRvIGF2b2lkIHVwZGF0aW5nIGV2ZXJ5IHRpbWUgYSBzdWJ0aXRsZVxyXG4gICAgICAgICAgICAgICAgLy8gaXMgYWRkZWQgaW50byBhbiBlbXB0eSBvdmVybGF5LiBCZWNhdXNlIHdlIHJlc2V0IHRoZSBvdmVybGF5IHdoZW4gYWxsIHN1YnRpdGxlcyBhcmUgZ29uZSwgdGhpc1xyXG4gICAgICAgICAgICAgICAgLy8gd291bGQgdHJpZ2dlciBhbiB1bm5lY2Vzc2FyeSB1cGRhdGUgZXZlcnkgdGltZSwgYnV0IGl0J3Mgb25seSByZXF1aXJlZCB1bmRlciBjZXJ0YWluIGNvbmRpdGlvbnMsXHJcbiAgICAgICAgICAgICAgICAvLyBlLmcuIGFmdGVyIHRoZSBwbGF5ZXIgc2l6ZSBoYXMgY2hhbmdlZC5cclxuICAgICAgICAgICAgICAgIGlmIChmb250U2l6ZUNhbGN1bGF0aW9uUmVxdWlyZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVDRUE2MDhGb250U2l6ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvbnRTaXplQ2FsY3VsYXRpb25SZXF1aXJlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxhYmVsLmdldERvbUVsZW1lbnQoKS5jc3Moe1xyXG4gICAgICAgICAgICAgICAgJ2xlZnQnOiBldmVudC5wb3NpdGlvbi5jb2x1bW4gKiBTdWJ0aXRsZU92ZXJsYXkuQ0VBNjA4X0NPTFVNTl9PRkZTRVQgKyBcIiVcIixcclxuICAgICAgICAgICAgICAgICd0b3AnOiBldmVudC5wb3NpdGlvbi5yb3cgKiBTdWJ0aXRsZU92ZXJsYXkuQ0VBNjA4X1JPV19PRkZTRVQgKyBcIiVcIixcclxuICAgICAgICAgICAgICAgICdmb250LXNpemUnOiBmb250U2l6ZSArIFwicHhcIixcclxuICAgICAgICAgICAgICAgICdsZXR0ZXItc3BhY2luZyc6IGZvbnRMZXR0ZXJTcGFjaW5nICsgXCJweFwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB2YXIgcmVzZXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIF90aGlzLmdldERvbUVsZW1lbnQoKS5yZW1vdmVDbGFzcyhfdGhpcy5wcmVmaXhDc3MoU3VidGl0bGVPdmVybGF5LkNMQVNTX0NFQV82MDgpKTtcclxuICAgICAgICAgICAgZW5hYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fQ1VFX0VYSVQsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKCFfdGhpcy5zdWJ0aXRsZU1hbmFnZXIuaGFzQ3Vlcykge1xyXG4gICAgICAgICAgICAgICAgLy8gRGlzYWJsZSBDRUEtNjA4IG1vZGUgd2hlbiBhbGwgc3VidGl0bGVzIGFyZSBnb25lICh0byBhbGxvdyBjb3JyZWN0IGZvcm1hdHRpbmcgYW5kXHJcbiAgICAgICAgICAgICAgICAvLyBkaXNwbGF5IG9mIG90aGVyIHR5cGVzIG9mIHN1YnRpdGxlcywgZS5nLiB0aGUgZm9ybWF0dGluZyBwcmV2aWV3IHN1YnRpdGxlKVxyXG4gICAgICAgICAgICAgICAgcmVzZXQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1NPVVJDRV9VTkxPQURFRCwgcmVzZXQpO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1NVQlRJVExFX0NIQU5HRUQsIHJlc2V0KTtcclxuICAgIH07XHJcbiAgICBTdWJ0aXRsZU92ZXJsYXkucHJvdG90eXBlLmVuYWJsZVByZXZpZXdTdWJ0aXRsZUxhYmVsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMucHJldmlld1N1YnRpdGxlQWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICBpZiAoIXRoaXMuc3VidGl0bGVNYW5hZ2VyLmhhc0N1ZXMpIHtcclxuICAgICAgICAgICAgdGhpcy5hZGRDb21wb25lbnQodGhpcy5wcmV2aWV3U3VidGl0bGUpO1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUNvbXBvbmVudHMoKTtcclxuICAgICAgICAgICAgdGhpcy5zaG93KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFN1YnRpdGxlT3ZlcmxheS5wcm90b3R5cGUucmVtb3ZlUHJldmlld1N1YnRpdGxlTGFiZWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5wcmV2aWV3U3VidGl0bGVBY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnJlbW92ZUNvbXBvbmVudCh0aGlzLnByZXZpZXdTdWJ0aXRsZSk7XHJcbiAgICAgICAgdGhpcy51cGRhdGVDb21wb25lbnRzKCk7XHJcbiAgICB9O1xyXG4gICAgU3VidGl0bGVPdmVybGF5LkNMQVNTX0NPTlRST0xCQVJfVklTSUJMRSA9ICdjb250cm9sYmFyLXZpc2libGUnO1xyXG4gICAgU3VidGl0bGVPdmVybGF5LkNMQVNTX0NFQV82MDggPSAnY2VhNjA4JztcclxuICAgIC8vIFRoZSBudW1iZXIgb2Ygcm93cyBpbiBhIGNlYTYwOCBncmlkXHJcbiAgICBTdWJ0aXRsZU92ZXJsYXkuQ0VBNjA4X05VTV9ST1dTID0gMTU7XHJcbiAgICAvLyBUaGUgbnVtYmVyIG9mIGNvbHVtbnMgaW4gYSBjZWE2MDggZ3JpZFxyXG4gICAgU3VidGl0bGVPdmVybGF5LkNFQTYwOF9OVU1fQ09MVU1OUyA9IDMyO1xyXG4gICAgLy8gVGhlIG9mZnNldCBpbiBwZXJjZW50IGZvciBvbmUgcm93ICh3aGljaCBpcyBhbHNvIHRoZSBoZWlnaHQgb2YgYSByb3cpXHJcbiAgICBTdWJ0aXRsZU92ZXJsYXkuQ0VBNjA4X1JPV19PRkZTRVQgPSAxMDAgLyBTdWJ0aXRsZU92ZXJsYXkuQ0VBNjA4X05VTV9ST1dTO1xyXG4gICAgLy8gVGhlIG9mZnNldCBpbiBwZXJjZW50IGZvciBvbmUgY29sdW1uICh3aGljaCBpcyBhbHNvIHRoZSB3aWR0aCBvZiBhIGNvbHVtbilcclxuICAgIFN1YnRpdGxlT3ZlcmxheS5DRUE2MDhfQ09MVU1OX09GRlNFVCA9IDEwMCAvIFN1YnRpdGxlT3ZlcmxheS5DRUE2MDhfTlVNX0NPTFVNTlM7XHJcbiAgICByZXR1cm4gU3VidGl0bGVPdmVybGF5O1xyXG59KGNvbnRhaW5lcl8xLkNvbnRhaW5lcikpO1xyXG5leHBvcnRzLlN1YnRpdGxlT3ZlcmxheSA9IFN1YnRpdGxlT3ZlcmxheTtcclxudmFyIFN1YnRpdGxlTGFiZWwgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoU3VidGl0bGVMYWJlbCwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIFN1YnRpdGxlTGFiZWwoY29uZmlnKSB7XHJcbiAgICAgICAgaWYgKGNvbmZpZyA9PT0gdm9pZCAwKSB7IGNvbmZpZyA9IHt9OyB9XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgY29uZmlnKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLmNvbmZpZyA9IF90aGlzLm1lcmdlQ29uZmlnKGNvbmZpZywge1xyXG4gICAgICAgICAgICBjc3NDbGFzczogJ3VpLXN1YnRpdGxlLWxhYmVsJyxcclxuICAgICAgICB9LCBfdGhpcy5jb25maWcpO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIHJldHVybiBTdWJ0aXRsZUxhYmVsO1xyXG59KGxhYmVsXzEuTGFiZWwpKTtcclxudmFyIEFjdGl2ZVN1YnRpdGxlTWFuYWdlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIEFjdGl2ZVN1YnRpdGxlTWFuYWdlcigpIHtcclxuICAgICAgICB0aGlzLmFjdGl2ZVN1YnRpdGxlQ3VlTWFwID0ge307XHJcbiAgICAgICAgdGhpcy5hY3RpdmVTdWJ0aXRsZUN1ZUNvdW50ID0gMDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ2FsY3VsYXRlcyBhIHVuaXF1ZSBJRCBmb3IgYSBzdWJ0aXRsZSBjdWUsIHdoaWNoIGlzIG5lZWRlZCB0byBhc3NvY2lhdGUgYW4gT05fQ1VFX0VOVEVSIHdpdGggaXRzIE9OX0NVRV9FWElUXHJcbiAgICAgKiBldmVudCBzbyB3ZSBjYW4gcmVtb3ZlIHRoZSBjb3JyZWN0IHN1YnRpdGxlIGluIE9OX0NVRV9FWElUIHdoZW4gbXVsdGlwbGUgc3VidGl0bGVzIGFyZSBhY3RpdmUgYXQgdGhlIHNhbWUgdGltZS5cclxuICAgICAqIFRoZSBzdGFydCB0aW1lIHBsdXMgdGhlIHRleHQgc2hvdWxkIG1ha2UgYSB1bmlxdWUgaWRlbnRpZmllciwgYW5kIGluIHRoZSBvbmx5IGNhc2Ugd2hlcmUgYSBjb2xsaXNpb25cclxuICAgICAqIGNhbiBoYXBwZW4sIHR3byBzaW1pbGFyIHRleHRzIHdpbGwgYmUgZGlzcGxheWVkIGF0IGEgc2ltaWxhciB0aW1lIGFuZCBhIHNpbWlsYXIgcG9zaXRpb24gKG9yIHdpdGhvdXQgcG9zaXRpb24pLlxyXG4gICAgICogVGhlIHN0YXJ0IHRpbWUgc2hvdWxkIGFsd2F5cyBiZSBrbm93biwgYmVjYXVzZSBpdCBpcyByZXF1aXJlZCB0byBzY2hlZHVsZSB0aGUgT05fQ1VFX0VOVEVSIGV2ZW50LiBUaGUgZW5kIHRpbWVcclxuICAgICAqIG11c3Qgbm90IG5lY2Vzc2FyaWx5IGJlIGtub3duIGFuZCB0aGVyZWZvcmUgY2Fubm90IGJlIHVzZWQgZm9yIHRoZSBJRC5cclxuICAgICAqIEBwYXJhbSBldmVudFxyXG4gICAgICogQHJldHVybiB7c3RyaW5nfVxyXG4gICAgICovXHJcbiAgICBBY3RpdmVTdWJ0aXRsZU1hbmFnZXIuY2FsY3VsYXRlSWQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICB2YXIgaWQgPSBldmVudC5zdGFydCArICctJyArIGV2ZW50LnRleHQ7XHJcbiAgICAgICAgaWYgKGV2ZW50LnBvc2l0aW9uKSB7XHJcbiAgICAgICAgICAgIGlkICs9ICctJyArIGV2ZW50LnBvc2l0aW9uLnJvdyArICctJyArIGV2ZW50LnBvc2l0aW9uLmNvbHVtbjtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGlkO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQWRkcyBhIHN1YnRpdGxlIGN1ZSB0byB0aGUgbWFuYWdlciBhbmQgcmV0dXJucyB0aGUgbGFiZWwgdGhhdCBzaG91bGQgYmUgYWRkZWQgdG8gdGhlIHN1YnRpdGxlIG92ZXJsYXkuXHJcbiAgICAgKiBAcGFyYW0gZXZlbnRcclxuICAgICAqIEByZXR1cm4ge1N1YnRpdGxlTGFiZWx9XHJcbiAgICAgKi9cclxuICAgIEFjdGl2ZVN1YnRpdGxlTWFuYWdlci5wcm90b3R5cGUuY3VlRW50ZXIgPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICB2YXIgaWQgPSBBY3RpdmVTdWJ0aXRsZU1hbmFnZXIuY2FsY3VsYXRlSWQoZXZlbnQpO1xyXG4gICAgICAgIHZhciBsYWJlbCA9IG5ldyBTdWJ0aXRsZUxhYmVsKHtcclxuICAgICAgICAgICAgLy8gUHJlZmVyIHRoZSBIVE1MIHN1YnRpdGxlIHRleHQgaWYgc2V0LCBlbHNlIHVzZSB0aGUgcGxhaW4gdGV4dFxyXG4gICAgICAgICAgICB0ZXh0OiBldmVudC5odG1sIHx8IGV2ZW50LnRleHQsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gQ3JlYXRlIGFycmF5IGZvciBpZCBpZiBpdCBkb2VzIG5vdCBleGlzdFxyXG4gICAgICAgIHRoaXMuYWN0aXZlU3VidGl0bGVDdWVNYXBbaWRdID0gdGhpcy5hY3RpdmVTdWJ0aXRsZUN1ZU1hcFtpZF0gfHwgW107XHJcbiAgICAgICAgLy8gQWRkIGN1ZVxyXG4gICAgICAgIHRoaXMuYWN0aXZlU3VidGl0bGVDdWVNYXBbaWRdLnB1c2goeyBldmVudDogZXZlbnQsIGxhYmVsOiBsYWJlbCB9KTtcclxuICAgICAgICB0aGlzLmFjdGl2ZVN1YnRpdGxlQ3VlQ291bnQrKztcclxuICAgICAgICByZXR1cm4gbGFiZWw7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRoZSBsYWJlbCBhc3NvY2lhdGVkIHdpdGggYW4gYWxyZWFkeSBhZGRlZCBjdWUuXHJcbiAgICAgKiBAcGFyYW0gZXZlbnRcclxuICAgICAqIEByZXR1cm4ge1N1YnRpdGxlTGFiZWx9XHJcbiAgICAgKi9cclxuICAgIEFjdGl2ZVN1YnRpdGxlTWFuYWdlci5wcm90b3R5cGUuZ2V0Q3VlcyA9IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgIHZhciBpZCA9IEFjdGl2ZVN1YnRpdGxlTWFuYWdlci5jYWxjdWxhdGVJZChldmVudCk7XHJcbiAgICAgICAgdmFyIGFjdGl2ZVN1YnRpdGxlQ3VlcyA9IHRoaXMuYWN0aXZlU3VidGl0bGVDdWVNYXBbaWRdO1xyXG4gICAgICAgIGlmIChhY3RpdmVTdWJ0aXRsZUN1ZXMgJiYgYWN0aXZlU3VidGl0bGVDdWVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIGFjdGl2ZVN1YnRpdGxlQ3Vlcy5tYXAoZnVuY3Rpb24gKGN1ZSkgeyByZXR1cm4gY3VlLmxhYmVsOyB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZXMgdGhlIHN1YnRpdGxlIGN1ZSBmcm9tIHRoZSBtYW5hZ2VyIGFuZCByZXR1cm5zIHRoZSBsYWJlbCB0aGF0IHNob3VsZCBiZSByZW1vdmVkIGZyb20gdGhlIHN1YnRpdGxlIG92ZXJsYXksXHJcbiAgICAgKiBvciBudWxsIGlmIHRoZXJlIGlzIG5vIGFzc29jaWF0ZWQgbGFiZWwgZXhpc3RpbmcgKGUuZy4gYmVjYXVzZSBhbGwgbGFiZWxzIGhhdmUgYmVlbiB7QGxpbmsgI2NsZWFyIGNsZWFyZWR9LlxyXG4gICAgICogQHBhcmFtIGV2ZW50XHJcbiAgICAgKiBAcmV0dXJuIHtTdWJ0aXRsZUxhYmVsfG51bGx9XHJcbiAgICAgKi9cclxuICAgIEFjdGl2ZVN1YnRpdGxlTWFuYWdlci5wcm90b3R5cGUuY3VlRXhpdCA9IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgIHZhciBpZCA9IEFjdGl2ZVN1YnRpdGxlTWFuYWdlci5jYWxjdWxhdGVJZChldmVudCk7XHJcbiAgICAgICAgdmFyIGFjdGl2ZVN1YnRpdGxlQ3VlcyA9IHRoaXMuYWN0aXZlU3VidGl0bGVDdWVNYXBbaWRdO1xyXG4gICAgICAgIGlmIChhY3RpdmVTdWJ0aXRsZUN1ZXMgJiYgYWN0aXZlU3VidGl0bGVDdWVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgLy8gUmVtb3ZlIGN1ZVxyXG4gICAgICAgICAgICAvKiBXZSBhcHBseSB0aGUgRklGTyBhcHByb2FjaCBoZXJlIGFuZCByZW1vdmUgdGhlIG9sZGVzdCBjdWUgZnJvbSB0aGUgYXNzb2NpYXRlZCBpZC4gV2hlbiB0aGVyZSBhcmUgbXVsdGlwbGUgY3Vlc1xyXG4gICAgICAgICAgICAgKiB3aXRoIHRoZSBzYW1lIGlkLCB0aGVyZSBpcyBubyB3YXkgdG8ga25vdyB3aGljaCBvbmUgb2YgdGhlIGN1ZXMgaXMgdG8gYmUgZGVsZXRlZCwgc28gd2UganVzdCBob3BlIHRoYXQgRklGT1xyXG4gICAgICAgICAgICAgKiB3b3JrcyBmaW5lLiBUaGVvcmV0aWNhbGx5IGl0IGNhbiBoYXBwZW4gdGhhdCB0d28gY3VlcyB3aXRoIGNvbGxpZGluZyBpZHMgYXJlIHJlbW92ZWQgYXQgZGlmZmVyZW50IHRpbWVzLCBpblxyXG4gICAgICAgICAgICAgKiB0aGUgd3Jvbmcgb3JkZXIuIFRoaXMgcmFyZSBjYXNlIGhhcyB5ZXQgdG8gYmUgb2JzZXJ2ZWQuIElmIGl0IGV2ZXIgZ2V0cyBhbiBpc3N1ZSwgd2UgY2FuIHRha2UgdGhlIHVuc3RhYmxlXHJcbiAgICAgICAgICAgICAqIGN1ZSBlbmQgdGltZSAod2hpY2ggY2FuIGNoYW5nZSBiZXR3ZWVuIE9OX0NVRV9FTlRFUiBhbmQgT05fQ1VFX0VYSVQgSU4gT05fQ1VFX1VQREFURSkgYW5kIHVzZSBpdCBhcyBhblxyXG4gICAgICAgICAgICAgKiBhZGRpdGlvbmFsIGhpbnQgdG8gdHJ5IGFuZCByZW1vdmUgdGhlIGNvcnJlY3Qgb25lIG9mIHRoZSBjb2xsaWRpbmcgY3Vlcy5cclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIHZhciBhY3RpdmVTdWJ0aXRsZUN1ZSA9IGFjdGl2ZVN1YnRpdGxlQ3Vlcy5zaGlmdCgpO1xyXG4gICAgICAgICAgICB0aGlzLmFjdGl2ZVN1YnRpdGxlQ3VlQ291bnQtLTtcclxuICAgICAgICAgICAgcmV0dXJuIGFjdGl2ZVN1YnRpdGxlQ3VlLmxhYmVsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBY3RpdmVTdWJ0aXRsZU1hbmFnZXIucHJvdG90eXBlLCBcImN1ZUNvdW50XCIsIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBSZXR1cm5zIHRoZSBudW1iZXIgb2YgYWN0aXZlIHN1YnRpdGxlIGN1ZXMuXHJcbiAgICAgICAgICogQHJldHVybiB7bnVtYmVyfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAvLyBXZSBleHBsaWNpdGx5IGNvdW50IHRoZSBjdWVzIHRvIHNhdmUgYW4gQXJyYXkucmVkdWNlIG9uIGV2ZXJ5IGN1ZUNvdW50IGNhbGwgKHdoaWNoIGNhbiBoYXBwZW4gZnJlcXVlbnRseSlcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYWN0aXZlU3VidGl0bGVDdWVDb3VudDtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBY3RpdmVTdWJ0aXRsZU1hbmFnZXIucHJvdG90eXBlLCBcImhhc0N1ZXNcIiwge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGVyZSBhcmUgYWN0aXZlIHN1YnRpdGxlIGN1ZXMsIGVsc2UgZmFsc2UuXHJcbiAgICAgICAgICogQHJldHVybiB7Ym9vbGVhbn1cclxuICAgICAgICAgKi9cclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3VlQ291bnQgPiAwO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZW1vdmVzIGFsbCBzdWJ0aXRsZSBjdWVzIGZyb20gdGhlIG1hbmFnZXIuXHJcbiAgICAgKi9cclxuICAgIEFjdGl2ZVN1YnRpdGxlTWFuYWdlci5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5hY3RpdmVTdWJ0aXRsZUN1ZU1hcCA9IHt9O1xyXG4gICAgICAgIHRoaXMuYWN0aXZlU3VidGl0bGVDdWVDb3VudCA9IDA7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEFjdGl2ZVN1YnRpdGxlTWFuYWdlcjtcclxufSgpKTtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3N1YnRpdGxlb3ZlcmxheS50c1xuLy8gbW9kdWxlIGlkID0gNTFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIHRvZ2dsZWJ1dHRvbl8xID0gcmVxdWlyZShcIi4vdG9nZ2xlYnV0dG9uXCIpO1xyXG4vKipcclxuICogQSBidXR0b24gdGhhdCB0b2dnbGVzIGNhc3RpbmcgdG8gYSBDYXN0IHJlY2VpdmVyLlxyXG4gKi9cclxudmFyIENhc3RUb2dnbGVCdXR0b24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoQ2FzdFRvZ2dsZUJ1dHRvbiwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIENhc3RUb2dnbGVCdXR0b24oY29uZmlnKSB7XHJcbiAgICAgICAgaWYgKGNvbmZpZyA9PT0gdm9pZCAwKSB7IGNvbmZpZyA9IHt9OyB9XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgY29uZmlnKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLmNvbmZpZyA9IF90aGlzLm1lcmdlQ29uZmlnKGNvbmZpZywge1xyXG4gICAgICAgICAgICBjc3NDbGFzczogJ3VpLWNhc3R0b2dnbGVidXR0b24nLFxyXG4gICAgICAgICAgICB0ZXh0OiAnR29vZ2xlIENhc3QnLFxyXG4gICAgICAgIH0sIF90aGlzLmNvbmZpZyk7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgQ2FzdFRvZ2dsZUJ1dHRvbi5wcm90b3R5cGUuY29uZmlndXJlID0gZnVuY3Rpb24gKHBsYXllciwgdWltYW5hZ2VyKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmNvbmZpZ3VyZS5jYWxsKHRoaXMsIHBsYXllciwgdWltYW5hZ2VyKTtcclxuICAgICAgICB0aGlzLm9uQ2xpY2suc3Vic2NyaWJlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKHBsYXllci5pc0Nhc3RBdmFpbGFibGUoKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHBsYXllci5pc0Nhc3RpbmcoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBsYXllci5jYXN0U3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyLmNhc3RWaWRlbygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvbnNvbGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnQ2FzdCB1bmF2YWlsYWJsZScpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdmFyIGNhc3RBdmFpbGFibGVIYW5kZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChwbGF5ZXIuaXNDYXN0QXZhaWxhYmxlKCkpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLnNob3coKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLmhpZGUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fQ0FTVF9BVkFJTEFCTEUsIGNhc3RBdmFpbGFibGVIYW5kZXIpO1xyXG4gICAgICAgIC8vIFRvZ2dsZSBidXR0b24gJ29uJyBzdGF0ZVxyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX0NBU1RfV0FJVElOR19GT1JfREVWSUNFLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIF90aGlzLm9uKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fQ0FTVF9TVEFSVEVELCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIC8vIFdoZW4gYSBzZXNzaW9uIGlzIHJlc3VtZWQsIHRoZXJlIGlzIG5vIE9OX0NBU1RfU1RBUlQgZXZlbnQsIHNvIHdlIGFsc28gbmVlZCB0byB0b2dnbGUgaGVyZSBmb3Igc3VjaCBjYXNlc1xyXG4gICAgICAgICAgICBfdGhpcy5vbigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX0NBU1RfU1RPUFBFRCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBfdGhpcy5vZmYoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBTdGFydHVwIGluaXRcclxuICAgICAgICBjYXN0QXZhaWxhYmxlSGFuZGVyKCk7IC8vIEhpZGUgYnV0dG9uIGlmIENhc3Qgbm90IGF2YWlsYWJsZVxyXG4gICAgICAgIGlmIChwbGF5ZXIuaXNDYXN0aW5nKCkpIHtcclxuICAgICAgICAgICAgdGhpcy5vbigpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICByZXR1cm4gQ2FzdFRvZ2dsZUJ1dHRvbjtcclxufSh0b2dnbGVidXR0b25fMS5Ub2dnbGVCdXR0b24pKTtcclxuZXhwb3J0cy5DYXN0VG9nZ2xlQnV0dG9uID0gQ2FzdFRvZ2dsZUJ1dHRvbjtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL2Nhc3R0b2dnbGVidXR0b24udHNcbi8vIG1vZHVsZSBpZCA9IDUyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBjb250YWluZXJfMSA9IHJlcXVpcmUoXCIuL2NvbnRhaW5lclwiKTtcclxudmFyIGxhYmVsXzEgPSByZXF1aXJlKFwiLi9sYWJlbFwiKTtcclxuLyoqXHJcbiAqIE92ZXJsYXlzIHRoZSBwbGF5ZXIgYW5kIGRpc3BsYXlzIHRoZSBzdGF0dXMgb2YgYSBDYXN0IHNlc3Npb24uXHJcbiAqL1xyXG52YXIgQ2FzdFN0YXR1c092ZXJsYXkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoQ2FzdFN0YXR1c092ZXJsYXksIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBDYXN0U3RhdHVzT3ZlcmxheShjb25maWcpIHtcclxuICAgICAgICBpZiAoY29uZmlnID09PSB2b2lkIDApIHsgY29uZmlnID0ge307IH1cclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBjb25maWcpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMuc3RhdHVzTGFiZWwgPSBuZXcgbGFiZWxfMS5MYWJlbCh7IGNzc0NsYXNzOiAndWktY2FzdC1zdGF0dXMtbGFiZWwnIH0pO1xyXG4gICAgICAgIF90aGlzLmNvbmZpZyA9IF90aGlzLm1lcmdlQ29uZmlnKGNvbmZpZywge1xyXG4gICAgICAgICAgICBjc3NDbGFzczogJ3VpLWNhc3Qtc3RhdHVzLW92ZXJsYXknLFxyXG4gICAgICAgICAgICBjb21wb25lbnRzOiBbX3RoaXMuc3RhdHVzTGFiZWxdLFxyXG4gICAgICAgICAgICBoaWRkZW46IHRydWUsXHJcbiAgICAgICAgfSwgX3RoaXMuY29uZmlnKTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBDYXN0U3RhdHVzT3ZlcmxheS5wcm90b3R5cGUuY29uZmlndXJlID0gZnVuY3Rpb24gKHBsYXllciwgdWltYW5hZ2VyKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmNvbmZpZ3VyZS5jYWxsKHRoaXMsIHBsYXllciwgdWltYW5hZ2VyKTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9DQVNUX1dBSVRJTkdfRk9SX0RFVklDRSwgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIF90aGlzLnNob3coKTtcclxuICAgICAgICAgICAgLy8gR2V0IGRldmljZSBuYW1lIGFuZCB1cGRhdGUgc3RhdHVzIHRleHQgd2hpbGUgY29ubmVjdGluZ1xyXG4gICAgICAgICAgICB2YXIgY2FzdERldmljZU5hbWUgPSBldmVudC5jYXN0UGF5bG9hZC5kZXZpY2VOYW1lO1xyXG4gICAgICAgICAgICBfdGhpcy5zdGF0dXNMYWJlbC5zZXRUZXh0KFwiQ29ubmVjdGluZyB0byA8c3Ryb25nPlwiICsgY2FzdERldmljZU5hbWUgKyBcIjwvc3Ryb25nPi4uLlwiKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9DQVNUX1NUQVJURUQsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAvLyBTZXNzaW9uIGlzIHN0YXJ0ZWQgb3IgcmVzdW1lZFxyXG4gICAgICAgICAgICAvLyBGb3IgY2FzZXMgd2hlbiBhIHNlc3Npb24gaXMgcmVzdW1lZCwgd2UgZG8gbm90IHJlY2VpdmUgdGhlIHByZXZpb3VzIGV2ZW50cyBhbmQgdGhlcmVmb3JlIHNob3cgdGhlIHN0YXR1cyBwYW5lbFxyXG4gICAgICAgICAgICAvLyBoZXJlIHRvb1xyXG4gICAgICAgICAgICBfdGhpcy5zaG93KCk7XHJcbiAgICAgICAgICAgIHZhciBjYXN0RGV2aWNlTmFtZSA9IGV2ZW50LmRldmljZU5hbWU7XHJcbiAgICAgICAgICAgIF90aGlzLnN0YXR1c0xhYmVsLnNldFRleHQoXCJQbGF5aW5nIG9uIDxzdHJvbmc+XCIgKyBjYXN0RGV2aWNlTmFtZSArIFwiPC9zdHJvbmc+XCIpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX0NBU1RfU1RPUFBFRCwgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIC8vIENhc3Qgc2Vzc2lvbiBnb25lLCBoaWRlIHRoZSBzdGF0dXMgcGFuZWxcclxuICAgICAgICAgICAgX3RoaXMuaGlkZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBDYXN0U3RhdHVzT3ZlcmxheTtcclxufShjb250YWluZXJfMS5Db250YWluZXIpKTtcclxuZXhwb3J0cy5DYXN0U3RhdHVzT3ZlcmxheSA9IENhc3RTdGF0dXNPdmVybGF5O1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvY2FzdHN0YXR1c292ZXJsYXkudHNcbi8vIG1vZHVsZSBpZCA9IDUzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBjb250YWluZXJfMSA9IHJlcXVpcmUoXCIuL2NvbnRhaW5lclwiKTtcclxudmFyIGxhYmVsXzEgPSByZXF1aXJlKFwiLi9sYWJlbFwiKTtcclxudmFyIHR2bm9pc2VjYW52YXNfMSA9IHJlcXVpcmUoXCIuL3R2bm9pc2VjYW52YXNcIik7XHJcbi8qKlxyXG4gKiBPdmVybGF5cyB0aGUgcGxheWVyIGFuZCBkaXNwbGF5cyBlcnJvciBtZXNzYWdlcy5cclxuICovXHJcbnZhciBFcnJvck1lc3NhZ2VPdmVybGF5ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKEVycm9yTWVzc2FnZU92ZXJsYXksIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBFcnJvck1lc3NhZ2VPdmVybGF5KGNvbmZpZykge1xyXG4gICAgICAgIGlmIChjb25maWcgPT09IHZvaWQgMCkgeyBjb25maWcgPSB7fTsgfVxyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGNvbmZpZykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5lcnJvckxhYmVsID0gbmV3IGxhYmVsXzEuTGFiZWwoeyBjc3NDbGFzczogJ3VpLWVycm9ybWVzc2FnZS1sYWJlbCcgfSk7XHJcbiAgICAgICAgX3RoaXMudHZOb2lzZUJhY2tncm91bmQgPSBuZXcgdHZub2lzZWNhbnZhc18xLlR2Tm9pc2VDYW52YXMoKTtcclxuICAgICAgICBfdGhpcy5jb25maWcgPSBfdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIHtcclxuICAgICAgICAgICAgY3NzQ2xhc3M6ICd1aS1lcnJvcm1lc3NhZ2Utb3ZlcmxheScsXHJcbiAgICAgICAgICAgIGNvbXBvbmVudHM6IFtfdGhpcy50dk5vaXNlQmFja2dyb3VuZCwgX3RoaXMuZXJyb3JMYWJlbF0sXHJcbiAgICAgICAgICAgIGhpZGRlbjogdHJ1ZSxcclxuICAgICAgICB9LCBfdGhpcy5jb25maWcpO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIEVycm9yTWVzc2FnZU92ZXJsYXkucHJvdG90eXBlLmNvbmZpZ3VyZSA9IGZ1bmN0aW9uIChwbGF5ZXIsIHVpbWFuYWdlcikge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5jb25maWd1cmUuY2FsbCh0aGlzLCBwbGF5ZXIsIHVpbWFuYWdlcik7XHJcbiAgICAgICAgdmFyIGNvbmZpZyA9IHRoaXMuZ2V0Q29uZmlnKCk7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fRVJST1IsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICB2YXIgbWVzc2FnZSA9IGV2ZW50Lm1lc3NhZ2U7XHJcbiAgICAgICAgICAgIC8vIFByb2Nlc3MgbWVzc2FnZSB0cmFuc2xhdGlvbnNcclxuICAgICAgICAgICAgaWYgKGNvbmZpZy5tZXNzYWdlcykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjb25maWcubWVzc2FnZXMgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBUcmFuc2xhdGlvbiBmdW5jdGlvbiBmb3IgYWxsIGVycm9yc1xyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBjb25maWcubWVzc2FnZXMoZXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoY29uZmlnLm1lc3NhZ2VzW2V2ZW50LmNvZGVdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gSXQncyBub3QgYSB0cmFuc2xhdGlvbiBmdW5jdGlvbiwgc28gaXQgbXVzdCBiZSBhIG1hcCBvZiBzdHJpbmdzIG9yIHRyYW5zbGF0aW9uIGZ1bmN0aW9uc1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXN0b21NZXNzYWdlID0gY29uZmlnLm1lc3NhZ2VzW2V2ZW50LmNvZGVdO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY3VzdG9tTWVzc2FnZSA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IGN1c3RvbU1lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGUgbWVzc2FnZSBpcyBhIHRyYW5zbGF0aW9uIGZ1bmN0aW9uLCBzbyB3ZSBjYWxsIGl0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBjdXN0b21NZXNzYWdlKGV2ZW50KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgX3RoaXMuZXJyb3JMYWJlbC5zZXRUZXh0KG1lc3NhZ2UpO1xyXG4gICAgICAgICAgICBfdGhpcy50dk5vaXNlQmFja2dyb3VuZC5zdGFydCgpO1xyXG4gICAgICAgICAgICBfdGhpcy5zaG93KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fU09VUkNFX0xPQURFRCwgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIGlmIChfdGhpcy5pc1Nob3duKCkpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLnR2Tm9pc2VCYWNrZ3JvdW5kLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgIF90aGlzLmhpZGUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIEVycm9yTWVzc2FnZU92ZXJsYXkucHJvdG90eXBlLnJlbGVhc2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5yZWxlYXNlLmNhbGwodGhpcyk7XHJcbiAgICAgICAgLy8gQ2FudmFzIHJlbmRlcmluZyBtdXN0IGJlIGV4cGxpY2l0bHkgc3RvcHBlZCwgZWxzZSBpdCBqdXN0IGNvbnRpbnVlcyBmb3JldmVyIGFuZCBob2dzIHJlc291cmNlc1xyXG4gICAgICAgIHRoaXMudHZOb2lzZUJhY2tncm91bmQuc3RvcCgpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBFcnJvck1lc3NhZ2VPdmVybGF5O1xyXG59KGNvbnRhaW5lcl8xLkNvbnRhaW5lcikpO1xyXG5leHBvcnRzLkVycm9yTWVzc2FnZU92ZXJsYXkgPSBFcnJvck1lc3NhZ2VPdmVybGF5O1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvZXJyb3JtZXNzYWdlb3ZlcmxheS50c1xuLy8gbW9kdWxlIGlkID0gNTRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGNvbnRhaW5lcl8xID0gcmVxdWlyZShcIi4vY29udGFpbmVyXCIpO1xyXG52YXIgbWV0YWRhdGFsYWJlbF8xID0gcmVxdWlyZShcIi4vbWV0YWRhdGFsYWJlbFwiKTtcclxuLyoqXHJcbiAqIERpc3BsYXlzIGEgdGl0bGUgYmFyIGNvbnRhaW5pbmcgYSBsYWJlbCB3aXRoIHRoZSB0aXRsZSBvZiB0aGUgdmlkZW8uXHJcbiAqL1xyXG52YXIgVGl0bGVCYXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoVGl0bGVCYXIsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBUaXRsZUJhcihjb25maWcpIHtcclxuICAgICAgICBpZiAoY29uZmlnID09PSB2b2lkIDApIHsgY29uZmlnID0ge307IH1cclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBjb25maWcpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMuY29uZmlnID0gX3RoaXMubWVyZ2VDb25maWcoY29uZmlnLCB7XHJcbiAgICAgICAgICAgIGNzc0NsYXNzOiAndWktdGl0bGViYXInLFxyXG4gICAgICAgICAgICBoaWRkZW46IHRydWUsXHJcbiAgICAgICAgICAgIGNvbXBvbmVudHM6IFtcclxuICAgICAgICAgICAgICAgIG5ldyBtZXRhZGF0YWxhYmVsXzEuTWV0YWRhdGFMYWJlbCh7IGNvbnRlbnQ6IG1ldGFkYXRhbGFiZWxfMS5NZXRhZGF0YUxhYmVsQ29udGVudC5UaXRsZSB9KSxcclxuICAgICAgICAgICAgICAgIG5ldyBtZXRhZGF0YWxhYmVsXzEuTWV0YWRhdGFMYWJlbCh7IGNvbnRlbnQ6IG1ldGFkYXRhbGFiZWxfMS5NZXRhZGF0YUxhYmVsQ29udGVudC5EZXNjcmlwdGlvbiB9KSxcclxuICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAga2VlcEhpZGRlbldpdGhvdXRNZXRhZGF0YTogZmFsc2UsXHJcbiAgICAgICAgfSwgX3RoaXMuY29uZmlnKTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBUaXRsZUJhci5wcm90b3R5cGUuY29uZmlndXJlID0gZnVuY3Rpb24gKHBsYXllciwgdWltYW5hZ2VyKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmNvbmZpZ3VyZS5jYWxsKHRoaXMsIHBsYXllciwgdWltYW5hZ2VyKTtcclxuICAgICAgICB2YXIgY29uZmlnID0gdGhpcy5nZXRDb25maWcoKTtcclxuICAgICAgICB2YXIgc2hvdWxkQmVTaG93biA9ICF0aGlzLmlzSGlkZGVuKCk7XHJcbiAgICAgICAgdmFyIGhhc01ldGFkYXRhVGV4dCA9IHRydWU7IC8vIEZsYWcgdG8gdHJhY2sgaWYgYW55IG1ldGFkYXRhIGxhYmVsIGNvbnRhaW5zIHRleHRcclxuICAgICAgICB2YXIgY2hlY2tNZXRhZGF0YVRleHRBbmRVcGRhdGVWaXNpYmlsaXR5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBoYXNNZXRhZGF0YVRleHQgPSBmYWxzZTtcclxuICAgICAgICAgICAgLy8gSXRlcmF0ZSB0aHJvdWdoIG1ldGFkYXRhIGxhYmVscyBhbmQgY2hlY2sgaWYgYXQgbGVhc3Qgb25lIG9mIHRoZW0gY29udGFpbnMgdGV4dFxyXG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gX3RoaXMuZ2V0Q29tcG9uZW50cygpOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNvbXBvbmVudCA9IF9hW19pXTtcclxuICAgICAgICAgICAgICAgIGlmIChjb21wb25lbnQgaW5zdGFuY2VvZiBtZXRhZGF0YWxhYmVsXzEuTWV0YWRhdGFMYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghY29tcG9uZW50LmlzRW1wdHkoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBoYXNNZXRhZGF0YVRleHQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKF90aGlzLmlzU2hvd24oKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gSGlkZSBhIHZpc2libGUgdGl0bGViYXIgaWYgaXQgZG9lcyBub3QgY29udGFpbiBhbnkgdGV4dCBhbmQgdGhlIGhpZGRlbiBmbGFnIGlzIHNldFxyXG4gICAgICAgICAgICAgICAgaWYgKGNvbmZpZy5rZWVwSGlkZGVuV2l0aG91dE1ldGFkYXRhICYmICFoYXNNZXRhZGF0YVRleHQpIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoc2hvdWxkQmVTaG93bikge1xyXG4gICAgICAgICAgICAgICAgLy8gU2hvdyBhIGhpZGRlbiB0aXRsZWJhciBpZiBpdCBzaG91bGQgYWN0dWFsbHkgYmUgc2hvd25cclxuICAgICAgICAgICAgICAgIF90aGlzLnNob3coKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgLy8gTGlzdGVuIHRvIHRleHQgY2hhbmdlIGV2ZW50cyB0byB1cGRhdGUgdGhlIGhhc01ldGFkYXRhVGV4dCBmbGFnIHdoZW4gdGhlIG1ldGFkYXRhIGR5bmFtaWNhbGx5IGNoYW5nZXNcclxuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gdGhpcy5nZXRDb21wb25lbnRzKCk7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBjb21wb25lbnQgPSBfYVtfaV07XHJcbiAgICAgICAgICAgIGlmIChjb21wb25lbnQgaW5zdGFuY2VvZiBtZXRhZGF0YWxhYmVsXzEuTWV0YWRhdGFMYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgY29tcG9uZW50Lm9uVGV4dENoYW5nZWQuc3Vic2NyaWJlKGNoZWNrTWV0YWRhdGFUZXh0QW5kVXBkYXRlVmlzaWJpbGl0eSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdWltYW5hZ2VyLm9uQ29udHJvbHNTaG93LnN1YnNjcmliZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHNob3VsZEJlU2hvd24gPSB0cnVlO1xyXG4gICAgICAgICAgICBpZiAoIShjb25maWcua2VlcEhpZGRlbldpdGhvdXRNZXRhZGF0YSAmJiAhaGFzTWV0YWRhdGFUZXh0KSkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuc2hvdygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdWltYW5hZ2VyLm9uQ29udHJvbHNIaWRlLnN1YnNjcmliZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHNob3VsZEJlU2hvd24gPSBmYWxzZTtcclxuICAgICAgICAgICAgX3RoaXMuaGlkZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIGluaXRcclxuICAgICAgICBjaGVja01ldGFkYXRhVGV4dEFuZFVwZGF0ZVZpc2liaWxpdHkoKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gVGl0bGVCYXI7XHJcbn0oY29udGFpbmVyXzEuQ29udGFpbmVyKSk7XHJcbmV4cG9ydHMuVGl0bGVCYXIgPSBUaXRsZUJhcjtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3RpdGxlYmFyLnRzXG4vLyBtb2R1bGUgaWQgPSA1NVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgY29udGFpbmVyXzEgPSByZXF1aXJlKFwiLi9jb250YWluZXJcIik7XHJcbnZhciBjb21wb25lbnRfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudFwiKTtcclxudmFyIGRvbV8xID0gcmVxdWlyZShcIi4uL2RvbVwiKTtcclxudmFyIHN0cmluZ3V0aWxzXzEgPSByZXF1aXJlKFwiLi4vc3RyaW5ndXRpbHNcIik7XHJcbnZhciBodWdlcmVwbGF5YnV0dG9uXzEgPSByZXF1aXJlKFwiLi9odWdlcmVwbGF5YnV0dG9uXCIpO1xyXG4vKipcclxuICogT3ZlcmxheXMgdGhlIHBsYXllciBhbmQgZGlzcGxheXMgcmVjb21tZW5kZWQgdmlkZW9zLlxyXG4gKi9cclxudmFyIFJlY29tbWVuZGF0aW9uT3ZlcmxheSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhSZWNvbW1lbmRhdGlvbk92ZXJsYXksIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBSZWNvbW1lbmRhdGlvbk92ZXJsYXkoY29uZmlnKSB7XHJcbiAgICAgICAgaWYgKGNvbmZpZyA9PT0gdm9pZCAwKSB7IGNvbmZpZyA9IHt9OyB9XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgY29uZmlnKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLnJlcGxheUJ1dHRvbiA9IG5ldyBodWdlcmVwbGF5YnV0dG9uXzEuSHVnZVJlcGxheUJ1dHRvbigpO1xyXG4gICAgICAgIF90aGlzLmNvbmZpZyA9IF90aGlzLm1lcmdlQ29uZmlnKGNvbmZpZywge1xyXG4gICAgICAgICAgICBjc3NDbGFzczogJ3VpLXJlY29tbWVuZGF0aW9uLW92ZXJsYXknLFxyXG4gICAgICAgICAgICBoaWRkZW46IHRydWUsXHJcbiAgICAgICAgICAgIGNvbXBvbmVudHM6IFtfdGhpcy5yZXBsYXlCdXR0b25dLFxyXG4gICAgICAgIH0sIF90aGlzLmNvbmZpZyk7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgUmVjb21tZW5kYXRpb25PdmVybGF5LnByb3RvdHlwZS5jb25maWd1cmUgPSBmdW5jdGlvbiAocGxheWVyLCB1aW1hbmFnZXIpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuY29uZmlndXJlLmNhbGwodGhpcywgcGxheWVyLCB1aW1hbmFnZXIpO1xyXG4gICAgICAgIHZhciBjbGVhclJlY29tbWVuZGF0aW9ucyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IF90aGlzLmdldENvbXBvbmVudHMoKS5zbGljZSgpOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNvbXBvbmVudCA9IF9hW19pXTtcclxuICAgICAgICAgICAgICAgIGlmIChjb21wb25lbnQgaW5zdGFuY2VvZiBSZWNvbW1lbmRhdGlvbkl0ZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5yZW1vdmVDb21wb25lbnQoY29tcG9uZW50KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBfdGhpcy51cGRhdGVDb21wb25lbnRzKCk7XHJcbiAgICAgICAgICAgIF90aGlzLmdldERvbUVsZW1lbnQoKS5yZW1vdmVDbGFzcyhfdGhpcy5wcmVmaXhDc3MoJ3JlY29tbWVuZGF0aW9ucycpKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciBzZXR1cFJlY29tbWVuZGF0aW9ucyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgY2xlYXJSZWNvbW1lbmRhdGlvbnMoKTtcclxuICAgICAgICAgICAgdmFyIHJlY29tbWVuZGF0aW9ucyA9IHVpbWFuYWdlci5nZXRDb25maWcoKS5yZWNvbW1lbmRhdGlvbnM7XHJcbiAgICAgICAgICAgIGlmIChyZWNvbW1lbmRhdGlvbnMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gMTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgcmVjb21tZW5kYXRpb25zXzEgPSByZWNvbW1lbmRhdGlvbnM7IF9pIDwgcmVjb21tZW5kYXRpb25zXzEubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGl0ZW0gPSByZWNvbW1lbmRhdGlvbnNfMVtfaV07XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuYWRkQ29tcG9uZW50KG5ldyBSZWNvbW1lbmRhdGlvbkl0ZW0oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtQ29uZmlnOiBpdGVtLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjc3NDbGFzc2VzOiBbJ3JlY29tbWVuZGF0aW9uLWl0ZW0tJyArIChpbmRleCsrKV0sXHJcbiAgICAgICAgICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgX3RoaXMudXBkYXRlQ29tcG9uZW50cygpOyAvLyBjcmVhdGUgY29udGFpbmVyIERPTSBlbGVtZW50c1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuZ2V0RG9tRWxlbWVudCgpLmFkZENsYXNzKF90aGlzLnByZWZpeENzcygncmVjb21tZW5kYXRpb25zJykpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICAvLyBBZGQgcmVjb21tZW5kYXRpb24gd2hlbiBhIHNvdXJjZSBpcyBsb2FkZWRcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9SRUFEWSwgc2V0dXBSZWNvbW1lbmRhdGlvbnMpO1xyXG4gICAgICAgIC8vIFJlbW92ZSByZWNvbW1lbmRhdGlvbnMgYW5kIGhpZGUgb3ZlcmxheSB3aGVuIHNvdXJjZSBpcyB1bmxvYWRlZFxyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1NPVVJDRV9VTkxPQURFRCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBjbGVhclJlY29tbWVuZGF0aW9ucygpO1xyXG4gICAgICAgICAgICBfdGhpcy5oaWRlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gRGlzcGxheSByZWNvbW1lbmRhdGlvbnMgd2hlbiBwbGF5YmFjayBoYXMgZmluaXNoZWRcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9QTEFZQkFDS19GSU5JU0hFRCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAvLyBEaXNtaXNzIE9OX1BMQVlCQUNLX0ZJTklTSEVEIGV2ZW50cyBhdCB0aGUgZW5kIG9mIGFkc1xyXG4gICAgICAgICAgICAvLyBUT0RPIHJlbW92ZSB0aGlzIHdvcmthcm91bmQgb25jZSBpc3N1ZSAjMTI3OCBpcyBzb2x2ZWRcclxuICAgICAgICAgICAgaWYgKHBsYXllci5pc0FkKCkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBfdGhpcy5zaG93KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gSGlkZSByZWNvbW1lbmRhdGlvbnMgd2hlbiBwbGF5YmFjayBzdGFydHMsIGUuZy4gYSByZXN0YXJ0XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fUExBWSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBfdGhpcy5oaWRlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gSW5pdCBvbiBzdGFydHVwXHJcbiAgICAgICAgc2V0dXBSZWNvbW1lbmRhdGlvbnMoKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gUmVjb21tZW5kYXRpb25PdmVybGF5O1xyXG59KGNvbnRhaW5lcl8xLkNvbnRhaW5lcikpO1xyXG5leHBvcnRzLlJlY29tbWVuZGF0aW9uT3ZlcmxheSA9IFJlY29tbWVuZGF0aW9uT3ZlcmxheTtcclxuLyoqXHJcbiAqIEFuIGl0ZW0gb2YgdGhlIHtAbGluayBSZWNvbW1lbmRhdGlvbk92ZXJsYXl9LiBVc2VkIG9ubHkgaW50ZXJuYWxseSBpbiB7QGxpbmsgUmVjb21tZW5kYXRpb25PdmVybGF5fS5cclxuICovXHJcbnZhciBSZWNvbW1lbmRhdGlvbkl0ZW0gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoUmVjb21tZW5kYXRpb25JdGVtLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gUmVjb21tZW5kYXRpb25JdGVtKGNvbmZpZykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGNvbmZpZykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5jb25maWcgPSBfdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIHtcclxuICAgICAgICAgICAgY3NzQ2xhc3M6ICd1aS1yZWNvbW1lbmRhdGlvbi1pdGVtJyxcclxuICAgICAgICAgICAgaXRlbUNvbmZpZzogbnVsbCxcclxuICAgICAgICB9LCBfdGhpcy5jb25maWcpO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIFJlY29tbWVuZGF0aW9uSXRlbS5wcm90b3R5cGUudG9Eb21FbGVtZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBjb25maWcgPSB0aGlzLmNvbmZpZy5pdGVtQ29uZmlnOyAvLyBUT0RPIGZpeCBnZW5lcmljcyBhbmQgZ2V0IHJpZCBvZiBjYXN0XHJcbiAgICAgICAgdmFyIGl0ZW1FbGVtZW50ID0gbmV3IGRvbV8xLkRPTSgnYScsIHtcclxuICAgICAgICAgICAgJ2lkJzogdGhpcy5jb25maWcuaWQsXHJcbiAgICAgICAgICAgICdjbGFzcyc6IHRoaXMuZ2V0Q3NzQ2xhc3NlcygpLFxyXG4gICAgICAgICAgICAnaHJlZic6IGNvbmZpZy51cmwsXHJcbiAgICAgICAgfSkuY3NzKHsgJ2JhY2tncm91bmQtaW1hZ2UnOiBcInVybChcIiArIGNvbmZpZy50aHVtYm5haWwgKyBcIilcIiB9KTtcclxuICAgICAgICB2YXIgYmdFbGVtZW50ID0gbmV3IGRvbV8xLkRPTSgnZGl2Jywge1xyXG4gICAgICAgICAgICAnY2xhc3MnOiB0aGlzLnByZWZpeENzcygnYmFja2dyb3VuZCcpLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGl0ZW1FbGVtZW50LmFwcGVuZChiZ0VsZW1lbnQpO1xyXG4gICAgICAgIHZhciB0aXRsZUVsZW1lbnQgPSBuZXcgZG9tXzEuRE9NKCdzcGFuJywge1xyXG4gICAgICAgICAgICAnY2xhc3MnOiB0aGlzLnByZWZpeENzcygndGl0bGUnKSxcclxuICAgICAgICB9KS5hcHBlbmQobmV3IGRvbV8xLkRPTSgnc3BhbicsIHtcclxuICAgICAgICAgICAgJ2NsYXNzJzogdGhpcy5wcmVmaXhDc3MoJ2lubmVydGl0bGUnKSxcclxuICAgICAgICB9KS5odG1sKGNvbmZpZy50aXRsZSkpO1xyXG4gICAgICAgIGl0ZW1FbGVtZW50LmFwcGVuZCh0aXRsZUVsZW1lbnQpO1xyXG4gICAgICAgIHZhciB0aW1lRWxlbWVudCA9IG5ldyBkb21fMS5ET00oJ3NwYW4nLCB7XHJcbiAgICAgICAgICAgICdjbGFzcyc6IHRoaXMucHJlZml4Q3NzKCdkdXJhdGlvbicpLFxyXG4gICAgICAgIH0pLmFwcGVuZChuZXcgZG9tXzEuRE9NKCdzcGFuJywge1xyXG4gICAgICAgICAgICAnY2xhc3MnOiB0aGlzLnByZWZpeENzcygnaW5uZXJkdXJhdGlvbicpLFxyXG4gICAgICAgIH0pLmh0bWwoY29uZmlnLmR1cmF0aW9uID8gc3RyaW5ndXRpbHNfMS5TdHJpbmdVdGlscy5zZWNvbmRzVG9UaW1lKGNvbmZpZy5kdXJhdGlvbikgOiAnJykpO1xyXG4gICAgICAgIGl0ZW1FbGVtZW50LmFwcGVuZCh0aW1lRWxlbWVudCk7XHJcbiAgICAgICAgcmV0dXJuIGl0ZW1FbGVtZW50O1xyXG4gICAgfTtcclxuICAgIHJldHVybiBSZWNvbW1lbmRhdGlvbkl0ZW07XHJcbn0oY29tcG9uZW50XzEuQ29tcG9uZW50KSk7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9yZWNvbW1lbmRhdGlvbm92ZXJsYXkudHNcbi8vIG1vZHVsZSBpZCA9IDU2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBidXR0b25fMSA9IHJlcXVpcmUoXCIuL2J1dHRvblwiKTtcclxudmFyIGRvbV8xID0gcmVxdWlyZShcIi4uL2RvbVwiKTtcclxuLyoqXHJcbiAqIEEgYnV0dG9uIHRvIHBsYXkvcmVwbGF5IGEgdmlkZW8uXHJcbiAqL1xyXG52YXIgSHVnZVJlcGxheUJ1dHRvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhIdWdlUmVwbGF5QnV0dG9uLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gSHVnZVJlcGxheUJ1dHRvbihjb25maWcpIHtcclxuICAgICAgICBpZiAoY29uZmlnID09PSB2b2lkIDApIHsgY29uZmlnID0ge307IH1cclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBjb25maWcpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMuY29uZmlnID0gX3RoaXMubWVyZ2VDb25maWcoY29uZmlnLCB7XHJcbiAgICAgICAgICAgIGNzc0NsYXNzOiAndWktaHVnZXJlcGxheWJ1dHRvbicsXHJcbiAgICAgICAgICAgIHRleHQ6ICdSZXBsYXknLFxyXG4gICAgICAgIH0sIF90aGlzLmNvbmZpZyk7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgSHVnZVJlcGxheUJ1dHRvbi5wcm90b3R5cGUuY29uZmlndXJlID0gZnVuY3Rpb24gKHBsYXllciwgdWltYW5hZ2VyKSB7XHJcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5jb25maWd1cmUuY2FsbCh0aGlzLCBwbGF5ZXIsIHVpbWFuYWdlcik7XHJcbiAgICAgICAgdGhpcy5vbkNsaWNrLnN1YnNjcmliZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHBsYXllci5wbGF5KCd1aScpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIEh1Z2VSZXBsYXlCdXR0b24ucHJvdG90eXBlLnRvRG9tRWxlbWVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgYnV0dG9uRWxlbWVudCA9IF9zdXBlci5wcm90b3R5cGUudG9Eb21FbGVtZW50LmNhbGwodGhpcyk7XHJcbiAgICAgICAgLy8gQWRkIGNoaWxkIHRoYXQgY29udGFpbnMgdGhlIHBsYXkgYnV0dG9uIGltYWdlXHJcbiAgICAgICAgLy8gU2V0dGluZyB0aGUgaW1hZ2UgZGlyZWN0bHkgb24gdGhlIGJ1dHRvbiBkb2VzIG5vdCB3b3JrIHRvZ2V0aGVyIHdpdGggc2NhbGluZyBhbmltYXRpb25zLCBiZWNhdXNlIHRoZSBidXR0b25cclxuICAgICAgICAvLyBjYW4gY292ZXIgdGhlIHdob2xlIHZpZGVvIHBsYXllciBhcmUgYW5kIHNjYWxpbmcgd291bGQgZXh0ZW5kIGl0IGJleW9uZC4gQnkgYWRkaW5nIGFuIGlubmVyIGVsZW1lbnQsIGNvbmZpbmVkXHJcbiAgICAgICAgLy8gdG8gdGhlIHNpemUgaWYgdGhlIGltYWdlLCBpdCBjYW4gc2NhbGUgaW5zaWRlIHRoZSBwbGF5ZXIgd2l0aG91dCBvdmVyc2hvb3RpbmcuXHJcbiAgICAgICAgYnV0dG9uRWxlbWVudC5hcHBlbmQobmV3IGRvbV8xLkRPTSgnZGl2Jywge1xyXG4gICAgICAgICAgICAnY2xhc3MnOiB0aGlzLnByZWZpeENzcygnaW1hZ2UnKSxcclxuICAgICAgICB9KSk7XHJcbiAgICAgICAgcmV0dXJuIGJ1dHRvbkVsZW1lbnQ7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEh1Z2VSZXBsYXlCdXR0b247XHJcbn0oYnV0dG9uXzEuQnV0dG9uKSk7XHJcbmV4cG9ydHMuSHVnZVJlcGxheUJ1dHRvbiA9IEh1Z2VSZXBsYXlCdXR0b247XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9odWdlcmVwbGF5YnV0dG9uLnRzXG4vLyBtb2R1bGUgaWQgPSA1N1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgc2VsZWN0Ym94XzEgPSByZXF1aXJlKFwiLi9zZWxlY3Rib3hcIik7XHJcbi8qKlxyXG4gKiBBIHNlbGVjdCBib3ggcHJvdmlkaW5nIGEgc2VsZWN0aW9uIG9mIGRpZmZlcmVudCBwbGF5YmFjayBzcGVlZHMuXHJcbiAqL1xyXG52YXIgUGxheWJhY2tTcGVlZFNlbGVjdEJveCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhQbGF5YmFja1NwZWVkU2VsZWN0Qm94LCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gUGxheWJhY2tTcGVlZFNlbGVjdEJveChjb25maWcpIHtcclxuICAgICAgICBpZiAoY29uZmlnID09PSB2b2lkIDApIHsgY29uZmlnID0ge307IH1cclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBjb25maWcpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMuZGVmYXVsdFBsYXliYWNrU3BlZWRzID0gWzAuMjUsIDAuNSwgMSwgMS41LCAyXTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBQbGF5YmFja1NwZWVkU2VsZWN0Qm94LnByb3RvdHlwZS5jb25maWd1cmUgPSBmdW5jdGlvbiAocGxheWVyLCB1aW1hbmFnZXIpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuY29uZmlndXJlLmNhbGwodGhpcywgcGxheWVyLCB1aW1hbmFnZXIpO1xyXG4gICAgICAgIHRoaXMuYWRkRGVmYXVsdEl0ZW1zKCk7XHJcbiAgICAgICAgdGhpcy5vbkl0ZW1TZWxlY3RlZC5zdWJzY3JpYmUoZnVuY3Rpb24gKHNlbmRlciwgdmFsdWUpIHtcclxuICAgICAgICAgICAgcGxheWVyLnNldFBsYXliYWNrU3BlZWQocGFyc2VGbG9hdCh2YWx1ZSkpO1xyXG4gICAgICAgICAgICBfdGhpcy5zZWxlY3RJdGVtKHZhbHVlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB2YXIgc2V0RGVmYXVsdFZhbHVlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgcGxheWJhY2tTcGVlZCA9IHBsYXllci5nZXRQbGF5YmFja1NwZWVkKCk7XHJcbiAgICAgICAgICAgIF90aGlzLnNldFNwZWVkKHBsYXliYWNrU3BlZWQpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgLy8gd2hlbiB0aGUgcGxheWVyIGhpdHMgb25SZWFkeSBhZ2FpbiwgYWRqdXN0IHRoZSBwbGF5YmFjayBzcGVlZCBzZWxlY3Rpb25cclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9SRUFEWSwgc2V0RGVmYXVsdFZhbHVlKTtcclxuICAgICAgICBpZiAocGxheWVyLkVWRU5ULk9OX1BMQVlCQUNLX1NQRUVEX0NIQU5HRUQpIHtcclxuICAgICAgICAgICAgLy8gU2luY2UgcGxheWVyIDcuOC4wXHJcbiAgICAgICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1BMQVlCQUNLX1NQRUVEX0NIQU5HRUQsIHNldERlZmF1bHRWYWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFBsYXliYWNrU3BlZWRTZWxlY3RCb3gucHJvdG90eXBlLnNldFNwZWVkID0gZnVuY3Rpb24gKHNwZWVkKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnNlbGVjdEl0ZW0oU3RyaW5nKHNwZWVkKSkpIHtcclxuICAgICAgICAgICAgLy8gYSBwbGF5YmFjayBzcGVlZCB3YXMgc2V0IHdoaWNoIGlzIG5vdCBpbiB0aGUgbGlzdCwgYWRkIGl0IHRvIHRoZSBsaXN0IHRvIHNob3cgaXQgdG8gdGhlIHVzZXJcclxuICAgICAgICAgICAgdGhpcy5jbGVhckl0ZW1zKCk7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkRGVmYXVsdEl0ZW1zKFtzcGVlZF0pO1xyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdEl0ZW0oU3RyaW5nKHNwZWVkKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFBsYXliYWNrU3BlZWRTZWxlY3RCb3gucHJvdG90eXBlLmFkZERlZmF1bHRJdGVtcyA9IGZ1bmN0aW9uIChjdXN0b21JdGVtcykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgaWYgKGN1c3RvbUl0ZW1zID09PSB2b2lkIDApIHsgY3VzdG9tSXRlbXMgPSBbXTsgfVxyXG4gICAgICAgIHZhciBzb3J0ZWRTcGVlZHMgPSB0aGlzLmRlZmF1bHRQbGF5YmFja1NwZWVkcy5jb25jYXQoY3VzdG9tSXRlbXMpLnNvcnQoKTtcclxuICAgICAgICBzb3J0ZWRTcGVlZHMuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkge1xyXG4gICAgICAgICAgICBpZiAoZWxlbWVudCAhPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuYWRkSXRlbShTdHJpbmcoZWxlbWVudCksIGVsZW1lbnQgKyBcInhcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5hZGRJdGVtKFN0cmluZyhlbGVtZW50KSwgJ05vcm1hbCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgUGxheWJhY2tTcGVlZFNlbGVjdEJveC5wcm90b3R5cGUuY2xlYXJJdGVtcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLml0ZW1zID0gW107XHJcbiAgICAgICAgdGhpcy5zZWxlY3RlZEl0ZW0gPSBudWxsO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBQbGF5YmFja1NwZWVkU2VsZWN0Qm94O1xyXG59KHNlbGVjdGJveF8xLlNlbGVjdEJveCkpO1xyXG5leHBvcnRzLlBsYXliYWNrU3BlZWRTZWxlY3RCb3ggPSBQbGF5YmFja1NwZWVkU2VsZWN0Qm94O1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvcGxheWJhY2tzcGVlZHNlbGVjdGJveC50c1xuLy8gbW9kdWxlIGlkID0gNThcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGNvbnRhaW5lcl8xID0gcmVxdWlyZShcIi4vY29udGFpbmVyXCIpO1xyXG52YXIgY29tcG9uZW50XzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRcIik7XHJcbnZhciB0aW1lb3V0XzEgPSByZXF1aXJlKFwiLi4vdGltZW91dFwiKTtcclxuLyoqXHJcbiAqIE92ZXJsYXlzIHRoZSBwbGF5ZXIgYW5kIGRpc3BsYXlzIGEgYnVmZmVyaW5nIGluZGljYXRvci5cclxuICovXHJcbnZhciBCdWZmZXJpbmdPdmVybGF5ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKEJ1ZmZlcmluZ092ZXJsYXksIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBCdWZmZXJpbmdPdmVybGF5KGNvbmZpZykge1xyXG4gICAgICAgIGlmIChjb25maWcgPT09IHZvaWQgMCkgeyBjb25maWcgPSB7fTsgfVxyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGNvbmZpZykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5pbmRpY2F0b3JzID0gW1xyXG4gICAgICAgICAgICBuZXcgY29tcG9uZW50XzEuQ29tcG9uZW50KHsgdGFnOiAnZGl2JywgY3NzQ2xhc3M6ICd1aS1idWZmZXJpbmctb3ZlcmxheS1pbmRpY2F0b3InIH0pLFxyXG4gICAgICAgICAgICBuZXcgY29tcG9uZW50XzEuQ29tcG9uZW50KHsgdGFnOiAnZGl2JywgY3NzQ2xhc3M6ICd1aS1idWZmZXJpbmctb3ZlcmxheS1pbmRpY2F0b3InIH0pLFxyXG4gICAgICAgICAgICBuZXcgY29tcG9uZW50XzEuQ29tcG9uZW50KHsgdGFnOiAnZGl2JywgY3NzQ2xhc3M6ICd1aS1idWZmZXJpbmctb3ZlcmxheS1pbmRpY2F0b3InIH0pLFxyXG4gICAgICAgIF07XHJcbiAgICAgICAgX3RoaXMuY29uZmlnID0gX3RoaXMubWVyZ2VDb25maWcoY29uZmlnLCB7XHJcbiAgICAgICAgICAgIGNzc0NsYXNzOiAndWktYnVmZmVyaW5nLW92ZXJsYXknLFxyXG4gICAgICAgICAgICBoaWRkZW46IHRydWUsXHJcbiAgICAgICAgICAgIGNvbXBvbmVudHM6IF90aGlzLmluZGljYXRvcnMsXHJcbiAgICAgICAgICAgIHNob3dEZWxheU1zOiAxMDAwLFxyXG4gICAgICAgIH0sIF90aGlzLmNvbmZpZyk7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgQnVmZmVyaW5nT3ZlcmxheS5wcm90b3R5cGUuY29uZmlndXJlID0gZnVuY3Rpb24gKHBsYXllciwgdWltYW5hZ2VyKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmNvbmZpZ3VyZS5jYWxsKHRoaXMsIHBsYXllciwgdWltYW5hZ2VyKTtcclxuICAgICAgICB2YXIgY29uZmlnID0gdGhpcy5nZXRDb25maWcoKTtcclxuICAgICAgICB2YXIgb3ZlcmxheVNob3dUaW1lb3V0ID0gbmV3IHRpbWVvdXRfMS5UaW1lb3V0KGNvbmZpZy5zaG93RGVsYXlNcywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBfdGhpcy5zaG93KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdmFyIHNob3dPdmVybGF5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBvdmVybGF5U2hvd1RpbWVvdXQuc3RhcnQoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciBoaWRlT3ZlcmxheSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgb3ZlcmxheVNob3dUaW1lb3V0LmNsZWFyKCk7XHJcbiAgICAgICAgICAgIF90aGlzLmhpZGUoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1NUQUxMX1NUQVJURUQsIHNob3dPdmVybGF5KTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9TVEFMTF9FTkRFRCwgaGlkZU92ZXJsYXkpO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1NPVVJDRV9VTkxPQURFRCwgaGlkZU92ZXJsYXkpO1xyXG4gICAgICAgIC8vIFNob3cgb3ZlcmxheSBpZiBwbGF5ZXIgaXMgYWxyZWFkeSBzdGFsbGVkIGF0IGluaXRcclxuICAgICAgICBpZiAocGxheWVyLmlzU3RhbGxlZCgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2hvdygpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICByZXR1cm4gQnVmZmVyaW5nT3ZlcmxheTtcclxufShjb250YWluZXJfMS5Db250YWluZXIpKTtcclxuZXhwb3J0cy5CdWZmZXJpbmdPdmVybGF5ID0gQnVmZmVyaW5nT3ZlcmxheTtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL2J1ZmZlcmluZ292ZXJsYXkudHNcbi8vIG1vZHVsZSBpZCA9IDU5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBjb250YWluZXJfMSA9IHJlcXVpcmUoXCIuL2NvbnRhaW5lclwiKTtcclxudmFyIGh1Z2VwbGF5YmFja3RvZ2dsZWJ1dHRvbl8xID0gcmVxdWlyZShcIi4vaHVnZXBsYXliYWNrdG9nZ2xlYnV0dG9uXCIpO1xyXG4vKipcclxuICogT3ZlcmxheXMgdGhlIHBsYXllciBhbmQgZGlzcGxheXMgZXJyb3IgbWVzc2FnZXMuXHJcbiAqL1xyXG52YXIgUGxheWJhY2tUb2dnbGVPdmVybGF5ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKFBsYXliYWNrVG9nZ2xlT3ZlcmxheSwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIFBsYXliYWNrVG9nZ2xlT3ZlcmxheShjb25maWcpIHtcclxuICAgICAgICBpZiAoY29uZmlnID09PSB2b2lkIDApIHsgY29uZmlnID0ge307IH1cclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBjb25maWcpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMucGxheWJhY2tUb2dnbGVCdXR0b24gPSBuZXcgaHVnZXBsYXliYWNrdG9nZ2xlYnV0dG9uXzEuSHVnZVBsYXliYWNrVG9nZ2xlQnV0dG9uKCk7XHJcbiAgICAgICAgX3RoaXMuY29uZmlnID0gX3RoaXMubWVyZ2VDb25maWcoY29uZmlnLCB7XHJcbiAgICAgICAgICAgIGNzc0NsYXNzOiAndWktcGxheWJhY2t0b2dnbGUtb3ZlcmxheScsXHJcbiAgICAgICAgICAgIGNvbXBvbmVudHM6IFtfdGhpcy5wbGF5YmFja1RvZ2dsZUJ1dHRvbl0sXHJcbiAgICAgICAgfSwgX3RoaXMuY29uZmlnKTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gUGxheWJhY2tUb2dnbGVPdmVybGF5O1xyXG59KGNvbnRhaW5lcl8xLkNvbnRhaW5lcikpO1xyXG5leHBvcnRzLlBsYXliYWNrVG9nZ2xlT3ZlcmxheSA9IFBsYXliYWNrVG9nZ2xlT3ZlcmxheTtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3BsYXliYWNrdG9nZ2xlb3ZlcmxheS50c1xuLy8gbW9kdWxlIGlkID0gNjBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIHBsYXliYWNrdG9nZ2xlYnV0dG9uXzEgPSByZXF1aXJlKFwiLi9wbGF5YmFja3RvZ2dsZWJ1dHRvblwiKTtcclxudmFyIGRvbV8xID0gcmVxdWlyZShcIi4uL2RvbVwiKTtcclxuLyoqXHJcbiAqIEEgYnV0dG9uIHRoYXQgb3ZlcmxheXMgdGhlIHZpZGVvIGFuZCB0b2dnbGVzIGJldHdlZW4gcGxheWJhY2sgYW5kIHBhdXNlLlxyXG4gKi9cclxudmFyIEh1Z2VQbGF5YmFja1RvZ2dsZUJ1dHRvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhIdWdlUGxheWJhY2tUb2dnbGVCdXR0b24sIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBIdWdlUGxheWJhY2tUb2dnbGVCdXR0b24oY29uZmlnKSB7XHJcbiAgICAgICAgaWYgKGNvbmZpZyA9PT0gdm9pZCAwKSB7IGNvbmZpZyA9IHt9OyB9XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgY29uZmlnKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLmNvbmZpZyA9IF90aGlzLm1lcmdlQ29uZmlnKGNvbmZpZywge1xyXG4gICAgICAgICAgICBjc3NDbGFzczogJ3VpLWh1Z2VwbGF5YmFja3RvZ2dsZWJ1dHRvbicsXHJcbiAgICAgICAgICAgIHRleHQ6ICdQbGF5L1BhdXNlJyxcclxuICAgICAgICB9LCBfdGhpcy5jb25maWcpO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIEh1Z2VQbGF5YmFja1RvZ2dsZUJ1dHRvbi5wcm90b3R5cGUuY29uZmlndXJlID0gZnVuY3Rpb24gKHBsYXllciwgdWltYW5hZ2VyKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICAvLyBVcGRhdGUgYnV0dG9uIHN0YXRlIHRocm91Z2ggQVBJIGV2ZW50c1xyXG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuY29uZmlndXJlLmNhbGwodGhpcywgcGxheWVyLCB1aW1hbmFnZXIsIGZhbHNlKTtcclxuICAgICAgICB2YXIgdG9nZ2xlUGxheWJhY2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChwbGF5ZXIuaXNQbGF5aW5nKCkpIHtcclxuICAgICAgICAgICAgICAgIHBsYXllci5wYXVzZSgndWknKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHBsYXllci5wbGF5KCd1aScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICB2YXIgdG9nZ2xlRnVsbHNjcmVlbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKHBsYXllci5pc0Z1bGxzY3JlZW4oKSkge1xyXG4gICAgICAgICAgICAgICAgcGxheWVyLmV4aXRGdWxsc2NyZWVuKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXIuZW50ZXJGdWxsc2NyZWVuKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciBmaXJzdFBsYXkgPSB0cnVlO1xyXG4gICAgICAgIHZhciBjbGlja1RpbWUgPSAwO1xyXG4gICAgICAgIHZhciBkb3VibGVDbGlja1RpbWUgPSAwO1xyXG4gICAgICAgIC8qXHJcbiAgICAgICAgICogWW91VHViZS1zdHlsZSB0b2dnbGUgYnV0dG9uIGhhbmRsaW5nXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBUaGUgZ29hbCBpcyB0byBwcmV2ZW50IGEgc2hvcnQgcGF1c2Ugb3IgcGxheWJhY2sgaW50ZXJ2YWwgYmV0d2VlbiBhIGNsaWNrLCB0aGF0IHRvZ2dsZXMgcGxheWJhY2ssIGFuZCBhXHJcbiAgICAgICAgICogZG91YmxlIGNsaWNrLCB0aGF0IHRvZ2dsZXMgZnVsbHNjcmVlbi4gSW4gdGhpcyBuYWl2ZSBhcHByb2FjaCwgdGhlIGZpcnN0IGNsaWNrIHdvdWxkIGUuZy4gc3RhcnQgcGxheWJhY2ssXHJcbiAgICAgICAgICogdGhlIHNlY29uZCBjbGljayB3b3VsZCBiZSBkZXRlY3RlZCBhcyBkb3VibGUgY2xpY2sgYW5kIHRvZ2dsZSB0byBmdWxsc2NyZWVuLCBhbmQgYXMgc2Vjb25kIG5vcm1hbCBjbGljayBzdG9wXHJcbiAgICAgICAgICogcGxheWJhY2ssIHdoaWNoIHJlc3VsdHMgaXMgYSBzaG9ydCBwbGF5YmFjayBpbnRlcnZhbCB3aXRoIG1heCBsZW5ndGggb2YgdGhlIGRvdWJsZSBjbGljayBkZXRlY3Rpb25cclxuICAgICAgICAgKiBwZXJpb2QgKHVzdWFsbHkgNTAwbXMpLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogVG8gc29sdmUgdGhpcyBpc3N1ZSwgd2UgZGVmZXIgaGFuZGxpbmcgb2YgdGhlIGZpcnN0IGNsaWNrIGZvciAyMDBtcywgd2hpY2ggaXMgYWxtb3N0IHVubm90aWNlYWJsZSB0byB0aGUgdXNlcixcclxuICAgICAgICAgKiBhbmQganVzdCB0b2dnbGUgcGxheWJhY2sgaWYgbm8gc2Vjb25kIGNsaWNrIChkb3VibGUgY2xpY2spIGhhcyBiZWVuIHJlZ2lzdGVyZWQgZHVyaW5nIHRoaXMgcGVyaW9kLiBJZiBhIGRvdWJsZVxyXG4gICAgICAgICAqIGNsaWNrIGlzIHJlZ2lzdGVyZWQsIHdlIGp1c3QgdG9nZ2xlIHRoZSBmdWxsc2NyZWVuLiBJbiB0aGUgZmlyc3QgMjAwbXMsIHVuZGVzaXJlZCBwbGF5YmFjayBjaGFuZ2VzIHRodXMgY2Fubm90XHJcbiAgICAgICAgICogaGFwcGVuLiBJZiBhIGRvdWJsZSBjbGljayBpcyByZWdpc3RlcmVkIHdpdGhpbiA1MDBtcywgd2UgdW5kbyB0aGUgcGxheWJhY2sgY2hhbmdlIGFuZCBzd2l0Y2ggZnVsbHNjcmVlbiBtb2RlLlxyXG4gICAgICAgICAqIEluIHRoZSBlbmQsIHRoaXMgbWV0aG9kIGJhc2ljYWxseSBpbnRyb2R1Y2VzIGEgMjAwbXMgb2JzZXJ2aW5nIGludGVydmFsIGluIHdoaWNoIHBsYXliYWNrIGNoYW5nZXMgYXJlIHByZXZlbnRlZFxyXG4gICAgICAgICAqIGlmIGEgZG91YmxlIGNsaWNrIGhhcHBlbnMuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5vbkNsaWNrLnN1YnNjcmliZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIC8vIERpcmVjdGx5IHN0YXJ0IHBsYXliYWNrIG9uIGZpcnN0IGNsaWNrIG9mIHRoZSBidXR0b24uXHJcbiAgICAgICAgICAgIC8vIFRoaXMgaXMgYSByZXF1aXJlZCB3b3JrYXJvdW5kIGZvciBtb2JpbGUgYnJvd3NlcnMgd2hlcmUgdmlkZW8gcGxheWJhY2sgbmVlZHMgdG8gYmUgdHJpZ2dlcmVkIGRpcmVjdGx5XHJcbiAgICAgICAgICAgIC8vIGJ5IHRoZSB1c2VyLiBBIGRlZmVycmVkIHBsYXliYWNrIHN0YXJ0IHRocm91Z2ggdGhlIHRpbWVvdXQgYmVsb3cgaXMgbm90IGNvbnNpZGVyZWQgYXMgdXNlciBhY3Rpb24gYW5kXHJcbiAgICAgICAgICAgIC8vIHRoZXJlZm9yZSBpZ25vcmVkIGJ5IG1vYmlsZSBicm93c2Vycy5cclxuICAgICAgICAgICAgaWYgKGZpcnN0UGxheSkge1xyXG4gICAgICAgICAgICAgICAgLy8gVHJ5IHRvIHN0YXJ0IHBsYXliYWNrLiBUaGVuIHdlIHdhaXQgZm9yIE9OX1BMQVkgYW5kIG9ubHkgd2hlbiBpdCBhcnJpdmVzLCB3ZSBkaXNhYmxlIHRoZSBmaXJzdFBsYXkgZmxhZy5cclxuICAgICAgICAgICAgICAgIC8vIElmIHdlIGRpc2FibGUgdGhlIGZsYWcgaGVyZSwgb25DbGljayB3YXMgdHJpZ2dlcmVkIHByb2dyYW1tYXRpY2FsbHkgaW5zdGVhZCBvZiBieSBhIHVzZXIgaW50ZXJhY3Rpb24sIGFuZFxyXG4gICAgICAgICAgICAgICAgLy8gcGxheWJhY2sgaXMgYmxvY2tlZCAoZS5nLiBvbiBtb2JpbGUgZGV2aWNlcyBkdWUgdG8gdGhlIHByb2dyYW1tYXRpYyBwbGF5KCkgY2FsbCksIHdlIGxvb3NlIHRoZSBjaGFuY2UgdG9cclxuICAgICAgICAgICAgICAgIC8vIGV2ZXIgc3RhcnQgcGxheWJhY2sgdGhyb3VnaCBhIHVzZXIgaW50ZXJhY3Rpb24gYWdhaW4gd2l0aCB0aGlzIGJ1dHRvbi5cclxuICAgICAgICAgICAgICAgIHRvZ2dsZVBsYXliYWNrKCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIG5vdyA9IERhdGUubm93KCk7XHJcbiAgICAgICAgICAgIGlmIChub3cgLSBjbGlja1RpbWUgPCAyMDApIHtcclxuICAgICAgICAgICAgICAgIC8vIFdlIGhhdmUgYSBkb3VibGUgY2xpY2sgaW5zaWRlIHRoZSAyMDBtcyBpbnRlcnZhbCwganVzdCB0b2dnbGUgZnVsbHNjcmVlbiBtb2RlXHJcbiAgICAgICAgICAgICAgICB0b2dnbGVGdWxsc2NyZWVuKCk7XHJcbiAgICAgICAgICAgICAgICBkb3VibGVDbGlja1RpbWUgPSBub3c7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAobm93IC0gY2xpY2tUaW1lIDwgNTAwKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBXZSBoYXZlIGEgZG91YmxlIGNsaWNrIGluc2lkZSB0aGUgNTAwbXMgaW50ZXJ2YWwsIHVuZG8gcGxheWJhY2sgdG9nZ2xlIGFuZCB0b2dnbGUgZnVsbHNjcmVlbiBtb2RlXHJcbiAgICAgICAgICAgICAgICB0b2dnbGVGdWxsc2NyZWVuKCk7XHJcbiAgICAgICAgICAgICAgICB0b2dnbGVQbGF5YmFjaygpO1xyXG4gICAgICAgICAgICAgICAgZG91YmxlQ2xpY2tUaW1lID0gbm93O1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNsaWNrVGltZSA9IG5vdztcclxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoRGF0ZS5ub3coKSAtIGRvdWJsZUNsaWNrVGltZSA+IDIwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIE5vIGRvdWJsZSBjbGljayBkZXRlY3RlZCwgc28gd2UgdG9nZ2xlIHBsYXliYWNrIGFuZCB3YWl0IHdoYXQgaGFwcGVucyBuZXh0XHJcbiAgICAgICAgICAgICAgICAgICAgdG9nZ2xlUGxheWJhY2soKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgMjAwKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9QTEFZLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIC8vIFBsYXliYWNrIGhhcyByZWFsbHkgc3RhcnRlZCwgd2UgY2FuIGRpc2FibGUgdGhlIGZsYWcgdG8gc3dpdGNoIHRvIG5vcm1hbCB0b2dnbGUgYnV0dG9uIGhhbmRsaW5nXHJcbiAgICAgICAgICAgIGZpcnN0UGxheSA9IGZhbHNlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1dBUk5JTkcsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAvLyA1MDA4ID09IFBsYXliYWNrIGNvdWxkIG5vdCBiZSBzdGFydGVkXHJcbiAgICAgICAgICAgIGlmIChldmVudC5jb2RlID09PSA1MDA4KSB7XHJcbiAgICAgICAgICAgICAgICAvLyBpZiBwbGF5YmFjayBjb3VsZCBub3QgYmUgc3RhcnRlZCwgcmVzZXQgdGhlIGZpcnN0IHBsYXkgZmxhZyBhcyB3ZSBuZWVkIHRoZSB1c2VyIGludGVyYWN0aW9uIHRvIHN0YXJ0XHJcbiAgICAgICAgICAgICAgICBmaXJzdFBsYXkgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gSGlkZSBidXR0b24gd2hpbGUgaW5pdGlhbGl6aW5nIGEgQ2FzdCBzZXNzaW9uXHJcbiAgICAgICAgdmFyIGNhc3RJbml0aWFsaXphdGlvbkhhbmRsZXIgPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgaWYgKGV2ZW50LnR5cGUgPT09IHBsYXllci5FVkVOVC5PTl9DQVNUX1NUQVJUKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBIaWRlIGJ1dHRvbiB3aGVuIHNlc3Npb24gaXMgYmVpbmcgaW5pdGlhbGl6ZWRcclxuICAgICAgICAgICAgICAgIF90aGlzLmhpZGUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIFNob3cgYnV0dG9uIHdoZW4gc2Vzc2lvbiBpcyBlc3RhYmxpc2hlZCBvciBpbml0aWFsaXphdGlvbiB3YXMgYWJvcnRlZFxyXG4gICAgICAgICAgICAgICAgX3RoaXMuc2hvdygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9DQVNUX1NUQVJULCBjYXN0SW5pdGlhbGl6YXRpb25IYW5kbGVyKTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9DQVNUX1NUQVJURUQsIGNhc3RJbml0aWFsaXphdGlvbkhhbmRsZXIpO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX0NBU1RfU1RPUFBFRCwgY2FzdEluaXRpYWxpemF0aW9uSGFuZGxlcik7XHJcbiAgICAgICAgdmFyIHN1cHByZXNzUGxheUJ1dHRvblRyYW5zaXRpb25BbmltYXRpb24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIC8vIERpc2FibGUgdGhlIGN1cnJlbnQgYW5pbWF0aW9uXHJcbiAgICAgICAgICAgIF90aGlzLnNldFRyYW5zaXRpb25BbmltYXRpb25zRW5hYmxlZChmYWxzZSk7XHJcbiAgICAgICAgICAgIC8vIEVuYWJsZSB0aGUgdHJhbnNpdGlvbiBhbmltYXRpb25zIGZvciB0aGUgbmV4dCBzdGF0ZSBjaGFuZ2VcclxuICAgICAgICAgICAgX3RoaXMub25Ub2dnbGUuc3Vic2NyaWJlT25jZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5zZXRUcmFuc2l0aW9uQW5pbWF0aW9uc0VuYWJsZWQodHJ1ZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgLy8gSGlkZSB0aGUgcGxheSBidXR0b24gYW5pbWF0aW9uIHdoZW4gdGhlIFVJIGlzIGxvYWRlZCAoaXQgc2hvdWxkIG9ubHkgYmUgYW5pbWF0ZWQgb24gc3RhdGUgY2hhbmdlcylcclxuICAgICAgICBzdXBwcmVzc1BsYXlCdXR0b25UcmFuc2l0aW9uQW5pbWF0aW9uKCk7XHJcbiAgICAgICAgdmFyIGlzQXV0b3BsYXlFbmFibGVkID0gcGxheWVyLmdldENvbmZpZygpLnBsYXliYWNrICYmIEJvb2xlYW4ocGxheWVyLmdldENvbmZpZygpLnBsYXliYWNrLmF1dG9wbGF5KTtcclxuICAgICAgICAvLyBXZSBvbmx5IGtub3cgaWYgYW4gYXV0b3BsYXkgYXR0ZW1wdCBpcyB1cGNvbWluZyBpZiB0aGUgcGxheWVyIGlzIG5vdCB5ZXQgcmVhZHkuIEl0IHRoZSBwbGF5ZXIgaXMgYWxyZWFkeSByZWFkeSxcclxuICAgICAgICAvLyB0aGUgYXR0ZW1wdCBtaWdodCBiZSB1cGNvbWluZyBvciBtaWdodCBoYXZlIGFscmVhZHkgaGFwcGVuZWQsIGJ1dCB3ZSBkb24ndCBoYXZlIHRvIGhhbmRsZSB0aGF0IGJlY2F1c2Ugd2UgY2FuXHJcbiAgICAgICAgLy8gc2ltcGx5IHJlbHkgb24gaXNQbGF5aW5nIGFuZCB0aGUgcGxheSBzdGF0ZSBldmVudHMuXHJcbiAgICAgICAgdmFyIGlzQXV0b3BsYXlVcGNvbWluZyA9ICFwbGF5ZXIuaXNSZWFkeSgpICYmIGlzQXV0b3BsYXlFbmFibGVkO1xyXG4gICAgICAgIC8vIEhpZGUgdGhlIHBsYXkgYnV0dG9uIHdoZW4gdGhlIHBsYXllciBpcyBhbHJlYWR5IHBsYXlpbmcgb3IgYXV0b3BsYXkgaXMgdXBjb21pbmdcclxuICAgICAgICBpZiAocGxheWVyLmlzUGxheWluZygpIHx8IGlzQXV0b3BsYXlVcGNvbWluZykge1xyXG4gICAgICAgICAgICAvLyBIaWRlIHRoZSBwbGF5IGJ1dHRvbiAoc3dpdGNoIHRvIHBsYXlpbmcgc3RhdGUpXHJcbiAgICAgICAgICAgIHRoaXMub24oKTtcclxuICAgICAgICAgICAgLy8gRGlzYWJsZSB0aGUgYW5pbWF0aW9uIG9mIHRoZSBwbGF5aW5nIHN0YXRlIHN3aXRjaFxyXG4gICAgICAgICAgICBzdXBwcmVzc1BsYXlCdXR0b25UcmFuc2l0aW9uQW5pbWF0aW9uKCk7XHJcbiAgICAgICAgICAgIC8vIFNob3cgdGhlIHBsYXkgYnV0dG9uIHdpdGhvdXQgYW4gYW5pbWF0aW9uIGlmIGEgcGxheSBhdHRlbXB0IGlzIGJsb2NrZWRcclxuICAgICAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fV0FSTklORywgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQuY29kZSA9PT0gNTAwOCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHN1cHByZXNzUGxheUJ1dHRvblRyYW5zaXRpb25BbmltYXRpb24oKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIEh1Z2VQbGF5YmFja1RvZ2dsZUJ1dHRvbi5wcm90b3R5cGUudG9Eb21FbGVtZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBidXR0b25FbGVtZW50ID0gX3N1cGVyLnByb3RvdHlwZS50b0RvbUVsZW1lbnQuY2FsbCh0aGlzKTtcclxuICAgICAgICAvLyBBZGQgY2hpbGQgdGhhdCBjb250YWlucyB0aGUgcGxheSBidXR0b24gaW1hZ2VcclxuICAgICAgICAvLyBTZXR0aW5nIHRoZSBpbWFnZSBkaXJlY3RseSBvbiB0aGUgYnV0dG9uIGRvZXMgbm90IHdvcmsgdG9nZXRoZXIgd2l0aCBzY2FsaW5nIGFuaW1hdGlvbnMsIGJlY2F1c2UgdGhlIGJ1dHRvblxyXG4gICAgICAgIC8vIGNhbiBjb3ZlciB0aGUgd2hvbGUgdmlkZW8gcGxheWVyIGFyZSBhbmQgc2NhbGluZyB3b3VsZCBleHRlbmQgaXQgYmV5b25kLiBCeSBhZGRpbmcgYW4gaW5uZXIgZWxlbWVudCwgY29uZmluZWRcclxuICAgICAgICAvLyB0byB0aGUgc2l6ZSBpZiB0aGUgaW1hZ2UsIGl0IGNhbiBzY2FsZSBpbnNpZGUgdGhlIHBsYXllciB3aXRob3V0IG92ZXJzaG9vdGluZy5cclxuICAgICAgICBidXR0b25FbGVtZW50LmFwcGVuZChuZXcgZG9tXzEuRE9NKCdkaXYnLCB7XHJcbiAgICAgICAgICAgICdjbGFzcyc6IHRoaXMucHJlZml4Q3NzKCdpbWFnZScpLFxyXG4gICAgICAgIH0pKTtcclxuICAgICAgICByZXR1cm4gYnV0dG9uRWxlbWVudDtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEVuYWJsZXMgb3IgZGlzYWJsZXMgdGhlIHBsYXkgc3RhdGUgdHJhbnNpdGlvbiBhbmltYXRpb25zIG9mIHRoZSBwbGF5IGJ1dHRvbiBpbWFnZS4gQ2FuIGJlIHVzZWQgdG8gc3VwcHJlc3NcclxuICAgICAqIGFuaW1hdGlvbnMuXHJcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGVuYWJsZWQgdHJ1ZSB0byBlbmFibGUgdGhlIGFuaW1hdGlvbnMgKGRlZmF1bHQpLCBmYWxzZSB0byBkaXNhYmxlIHRoZW1cclxuICAgICAqL1xyXG4gICAgSHVnZVBsYXliYWNrVG9nZ2xlQnV0dG9uLnByb3RvdHlwZS5zZXRUcmFuc2l0aW9uQW5pbWF0aW9uc0VuYWJsZWQgPSBmdW5jdGlvbiAoZW5hYmxlZCkge1xyXG4gICAgICAgIHZhciBub1RyYW5zaXRpb25BbmltYXRpb25zQ2xhc3MgPSB0aGlzLnByZWZpeENzcygnbm8tdHJhbnNpdGlvbi1hbmltYXRpb25zJyk7XHJcbiAgICAgICAgaWYgKGVuYWJsZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5nZXREb21FbGVtZW50KCkucmVtb3ZlQ2xhc3Mobm9UcmFuc2l0aW9uQW5pbWF0aW9uc0NsYXNzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoIXRoaXMuZ2V0RG9tRWxlbWVudCgpLmhhc0NsYXNzKG5vVHJhbnNpdGlvbkFuaW1hdGlvbnNDbGFzcykpIHtcclxuICAgICAgICAgICAgdGhpcy5nZXREb21FbGVtZW50KCkuYWRkQ2xhc3Mobm9UcmFuc2l0aW9uQW5pbWF0aW9uc0NsYXNzKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEh1Z2VQbGF5YmFja1RvZ2dsZUJ1dHRvbjtcclxufShwbGF5YmFja3RvZ2dsZWJ1dHRvbl8xLlBsYXliYWNrVG9nZ2xlQnV0dG9uKSk7XHJcbmV4cG9ydHMuSHVnZVBsYXliYWNrVG9nZ2xlQnV0dG9uID0gSHVnZVBsYXliYWNrVG9nZ2xlQnV0dG9uO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvaHVnZXBsYXliYWNrdG9nZ2xlYnV0dG9uLnRzXG4vLyBtb2R1bGUgaWQgPSA2MVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgYnV0dG9uXzEgPSByZXF1aXJlKFwiLi9idXR0b25cIik7XHJcbi8qKlxyXG4gKiBBIGJ1dHRvbiB0aGF0IGNsb3NlcyAoaGlkZXMpIGEgY29uZmlndXJlZCBjb21wb25lbnQuXHJcbiAqL1xyXG52YXIgQ2xvc2VCdXR0b24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoQ2xvc2VCdXR0b24sIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBDbG9zZUJ1dHRvbihjb25maWcpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBjb25maWcpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMuY29uZmlnID0gX3RoaXMubWVyZ2VDb25maWcoY29uZmlnLCB7XHJcbiAgICAgICAgICAgIGNzc0NsYXNzOiAndWktY2xvc2VidXR0b24nLFxyXG4gICAgICAgICAgICB0ZXh0OiAnQ2xvc2UnLFxyXG4gICAgICAgIH0sIF90aGlzLmNvbmZpZyk7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgQ2xvc2VCdXR0b24ucHJvdG90eXBlLmNvbmZpZ3VyZSA9IGZ1bmN0aW9uIChwbGF5ZXIsIHVpbWFuYWdlcikge1xyXG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuY29uZmlndXJlLmNhbGwodGhpcywgcGxheWVyLCB1aW1hbmFnZXIpO1xyXG4gICAgICAgIHZhciBjb25maWcgPSB0aGlzLmdldENvbmZpZygpO1xyXG4gICAgICAgIHRoaXMub25DbGljay5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBjb25maWcudGFyZ2V0LmhpZGUoKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gQ2xvc2VCdXR0b247XHJcbn0oYnV0dG9uXzEuQnV0dG9uKSk7XHJcbmV4cG9ydHMuQ2xvc2VCdXR0b24gPSBDbG9zZUJ1dHRvbjtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL2Nsb3NlYnV0dG9uLnRzXG4vLyBtb2R1bGUgaWQgPSA2MlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgdG9nZ2xlYnV0dG9uXzEgPSByZXF1aXJlKFwiLi90b2dnbGVidXR0b25cIik7XHJcbi8qKlxyXG4gKiBBIGJ1dHRvbiB0aGF0IHRvZ2dsZXMgQXBwbGUgQWlyUGxheS5cclxuICovXHJcbnZhciBBaXJQbGF5VG9nZ2xlQnV0dG9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKEFpclBsYXlUb2dnbGVCdXR0b24sIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBBaXJQbGF5VG9nZ2xlQnV0dG9uKGNvbmZpZykge1xyXG4gICAgICAgIGlmIChjb25maWcgPT09IHZvaWQgMCkgeyBjb25maWcgPSB7fTsgfVxyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGNvbmZpZykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5jb25maWcgPSBfdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIHtcclxuICAgICAgICAgICAgY3NzQ2xhc3M6ICd1aS1haXJwbGF5dG9nZ2xlYnV0dG9uJyxcclxuICAgICAgICAgICAgdGV4dDogJ0FwcGxlIEFpclBsYXknLFxyXG4gICAgICAgIH0sIF90aGlzLmNvbmZpZyk7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgQWlyUGxheVRvZ2dsZUJ1dHRvbi5wcm90b3R5cGUuY29uZmlndXJlID0gZnVuY3Rpb24gKHBsYXllciwgdWltYW5hZ2VyKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmNvbmZpZ3VyZS5jYWxsKHRoaXMsIHBsYXllciwgdWltYW5hZ2VyKTtcclxuICAgICAgICBpZiAoIXBsYXllci5pc0FpcnBsYXlBdmFpbGFibGUpIHtcclxuICAgICAgICAgICAgLy8gSWYgdGhlIHBsYXllciBkb2VzIG5vdCBzdXBwb3J0IEFpcnBsYXkgKHBsYXllciA3LjApLCB3ZSBqdXN0IGhpZGUgdGhpcyBjb21wb25lbnQgYW5kIHNraXAgY29uZmlndXJhdGlvblxyXG4gICAgICAgICAgICB0aGlzLmhpZGUoKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLm9uQ2xpY2suc3Vic2NyaWJlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKHBsYXllci5pc0FpcnBsYXlBdmFpbGFibGUoKSkge1xyXG4gICAgICAgICAgICAgICAgcGxheWVyLnNob3dBaXJwbGF5VGFyZ2V0UGlja2VyKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY29uc29sZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdBaXJQbGF5IHVuYXZhaWxhYmxlJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB2YXIgYWlyUGxheUF2YWlsYWJsZUhhbmRsZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChwbGF5ZXIuaXNBaXJwbGF5QXZhaWxhYmxlKCkpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLnNob3coKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLmhpZGUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fQUlSUExBWV9BVkFJTEFCTEUsIGFpclBsYXlBdmFpbGFibGVIYW5kbGVyKTtcclxuICAgICAgICAvLyBTdGFydHVwIGluaXRcclxuICAgICAgICBhaXJQbGF5QXZhaWxhYmxlSGFuZGxlcigpOyAvLyBIaWRlIGJ1dHRvbiBpZiBBaXJQbGF5IGlzIG5vdCBhdmFpbGFibGVcclxuICAgIH07XHJcbiAgICByZXR1cm4gQWlyUGxheVRvZ2dsZUJ1dHRvbjtcclxufSh0b2dnbGVidXR0b25fMS5Ub2dnbGVCdXR0b24pKTtcclxuZXhwb3J0cy5BaXJQbGF5VG9nZ2xlQnV0dG9uID0gQWlyUGxheVRvZ2dsZUJ1dHRvbjtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL2FpcnBsYXl0b2dnbGVidXR0b24udHNcbi8vIG1vZHVsZSBpZCA9IDYzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciB0b2dnbGVidXR0b25fMSA9IHJlcXVpcmUoXCIuL3RvZ2dsZWJ1dHRvblwiKTtcclxuLyoqXHJcbiAqIEEgYnV0dG9uIHRoYXQgdG9nZ2xlcyBBcHBsZSBtYWNPUyBwaWN0dXJlLWluLXBpY3R1cmUgbW9kZS5cclxuICovXHJcbnZhciBQaWN0dXJlSW5QaWN0dXJlVG9nZ2xlQnV0dG9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKFBpY3R1cmVJblBpY3R1cmVUb2dnbGVCdXR0b24sIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBQaWN0dXJlSW5QaWN0dXJlVG9nZ2xlQnV0dG9uKGNvbmZpZykge1xyXG4gICAgICAgIGlmIChjb25maWcgPT09IHZvaWQgMCkgeyBjb25maWcgPSB7fTsgfVxyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGNvbmZpZykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5jb25maWcgPSBfdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIHtcclxuICAgICAgICAgICAgY3NzQ2xhc3M6ICd1aS1waXB0b2dnbGVidXR0b24nLFxyXG4gICAgICAgICAgICB0ZXh0OiAnUGljdHVyZS1pbi1QaWN0dXJlJyxcclxuICAgICAgICB9LCBfdGhpcy5jb25maWcpO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIFBpY3R1cmVJblBpY3R1cmVUb2dnbGVCdXR0b24ucHJvdG90eXBlLmNvbmZpZ3VyZSA9IGZ1bmN0aW9uIChwbGF5ZXIsIHVpbWFuYWdlcikge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5jb25maWd1cmUuY2FsbCh0aGlzLCBwbGF5ZXIsIHVpbWFuYWdlcik7XHJcbiAgICAgICAgaWYgKCFwbGF5ZXIuaXNQaWN0dXJlSW5QaWN0dXJlQXZhaWxhYmxlKSB7XHJcbiAgICAgICAgICAgIC8vIElmIHRoZSBwbGF5ZXIgZG9lcyBub3Qgc3VwcG9ydCBQSVAgKHBsYXllciA3LjApLCB3ZSBqdXN0IGhpZGUgdGhpcyBjb21wb25lbnQgYW5kIHNraXAgY29uZmlndXJhdGlvblxyXG4gICAgICAgICAgICB0aGlzLmhpZGUoKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLm9uQ2xpY2suc3Vic2NyaWJlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKHBsYXllci5pc1BpY3R1cmVJblBpY3R1cmVBdmFpbGFibGUoKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHBsYXllci5pc1BpY3R1cmVJblBpY3R1cmUoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBsYXllci5leGl0UGljdHVyZUluUGljdHVyZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyLmVudGVyUGljdHVyZUluUGljdHVyZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvbnNvbGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUElQIHVuYXZhaWxhYmxlJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB2YXIgcGlwQXZhaWxhYmxlSGFuZGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAocGxheWVyLmlzUGljdHVyZUluUGljdHVyZUF2YWlsYWJsZSgpKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5zaG93KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5oaWRlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1JFQURZLCBwaXBBdmFpbGFibGVIYW5kZXIpO1xyXG4gICAgICAgIC8vIFRvZ2dsZSBidXR0b24gJ29uJyBzdGF0ZVxyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1BJQ1RVUkVfSU5fUElDVFVSRV9FTlRFUiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBfdGhpcy5vbigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1BJQ1RVUkVfSU5fUElDVFVSRV9FWElULCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIF90aGlzLm9mZigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIFN0YXJ0dXAgaW5pdFxyXG4gICAgICAgIHBpcEF2YWlsYWJsZUhhbmRlcigpOyAvLyBIaWRlIGJ1dHRvbiBpZiBQSVAgbm90IGF2YWlsYWJsZVxyXG4gICAgICAgIGlmIChwbGF5ZXIuaXNQaWN0dXJlSW5QaWN0dXJlKCkpIHtcclxuICAgICAgICAgICAgdGhpcy5vbigpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICByZXR1cm4gUGljdHVyZUluUGljdHVyZVRvZ2dsZUJ1dHRvbjtcclxufSh0b2dnbGVidXR0b25fMS5Ub2dnbGVCdXR0b24pKTtcclxuZXhwb3J0cy5QaWN0dXJlSW5QaWN0dXJlVG9nZ2xlQnV0dG9uID0gUGljdHVyZUluUGljdHVyZVRvZ2dsZUJ1dHRvbjtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3BpY3R1cmVpbnBpY3R1cmV0b2dnbGVidXR0b24udHNcbi8vIG1vZHVsZSBpZCA9IDY0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBhbmd1bGFyID0gcmVxdWlyZShcImFuZ3VsYXJcIik7XHJcbnZhciBiaXRtb3Zpbl9wbGF5ZXJfY29udHJvbGxlcl8xID0gcmVxdWlyZShcIi4vYml0bW92aW4tcGxheWVyLmNvbnRyb2xsZXJcIik7XHJcbnZhciBiaXRtb3Zpbl9wbGF5ZXJfZGlyZWN0aXZlXzEgPSByZXF1aXJlKFwiLi9iaXRtb3Zpbi1wbGF5ZXIuZGlyZWN0aXZlXCIpO1xyXG5leHBvcnRzLmRlZmF1bHQgPSBhbmd1bGFyLm1vZHVsZSgnbWkuQml0ZGFzaFBsYXllcicsIFtdKVxyXG4gICAgLmNvbnRyb2xsZXIoJ01pQml0ZGFzaENvbnRyb2xsZXInLCBiaXRtb3Zpbl9wbGF5ZXJfY29udHJvbGxlcl8xLmRlZmF1bHQpXHJcbiAgICAuZGlyZWN0aXZlKCdtaUJpdGRhc2hQbGF5ZXInLCBiaXRtb3Zpbl9wbGF5ZXJfZGlyZWN0aXZlXzEuZGVmYXVsdCk7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vaW5kZXgudHNcbi8vIG1vZHVsZSBpZCA9IDY2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gYW5ndWxhcjtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCBcImFuZ3VsYXJcIlxuLy8gbW9kdWxlIGlkID0gNjdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIHdlYmNhc3Rfc3RhdGVfMSA9IHJlcXVpcmUoXCIuL3dlYmNhc3Quc3RhdGVcIik7XHJcbnZhciBCaXRtb3ZpblBsYXllckNvbnRyb2xsZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBCaXRtb3ZpblBsYXllckNvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XHJcbiAgICAgICAgdGhpcy4kc2NvcGUgPSAkc2NvcGU7XHJcbiAgICAgICAgdGhpcy4kbG9nID0gJGxvZztcclxuICAgICAgICB0aGlzLnZtID0ge1xyXG4gICAgICAgICAgICBwbGF5ZXJTb3VyY2U6IG51bGwsXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIEJpdG1vdmluUGxheWVyQ29udHJvbGxlci5wcm90b3R5cGUuJG9uSW5pdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgaGFzVmFsaWRDb25maWcgPSB0aGlzLiRzY29wZS5jb25maWcgJiYgdGhpcy4kc2NvcGUud2ViY2FzdDtcclxuICAgICAgICBpZiAoaGFzVmFsaWRDb25maWcpIHtcclxuICAgICAgICAgICAgdGhpcy52bS5wbGF5ZXJTb3VyY2UgPSB0aGlzLmdldFBsYXllclNvdXJjZSh0aGlzLiRzY29wZS53ZWJjYXN0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuJGxvZy5lcnJvcihcImJhc2ljIGNvbmZpZyBmb3IgYml0ZGFzaCBwbGF5ZXIgaXMgbWlzc2luZyFcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIEJpdG1vdmluUGxheWVyQ29udHJvbGxlci5wcm90b3R5cGUuZ2V0QXVkaW9Pbmx5UGxheWVyQ29uZmlnID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLiRzY29wZS53ZWJjYXN0LnRoZW1lLmF1ZGlvT25seUZpbGVVcmwgPyB7XHJcbiAgICAgICAgICAgIGF1ZGlvT25seU92ZXJsYXlDb25maWc6IHtcclxuICAgICAgICAgICAgICAgIGJhY2tncm91bmRJbWFnZVVybDogdGhpcy4kc2NvcGUud2ViY2FzdC50aGVtZS5hdWRpb09ubHlGaWxlVXJsLFxyXG4gICAgICAgICAgICAgICAgaGlkZGVJbmRpY2F0b3I6IHRydWVcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gOiB7fTtcclxuICAgIH07XHJcbiAgICBCaXRtb3ZpblBsYXllckNvbnRyb2xsZXIucHJvdG90eXBlLmdldFBsYXllclNvdXJjZSA9IGZ1bmN0aW9uICh3ZWJjYXN0KSB7XHJcbiAgICAgICAgdmFyIG9wdGlvbnMgPSB0aGlzLiRzY29wZS5vcHRpb25zIHx8IHt9O1xyXG4gICAgICAgIHZhciBhY3RpdmVMYW5ndWFnZSA9IHRoaXMuZ2V0QWN0aXZlTGFuZ3VhZ2Uod2ViY2FzdC5sYW5ndWFnZXMsIHdlYmNhc3QubGFuZ3VhZ2UpO1xyXG4gICAgICAgIHZhciBzb3VyY2UgPSBhY3RpdmVMYW5ndWFnZS5wbGF5ZXI7XHJcbiAgICAgICAgaWYgKG9wdGlvbnMuZm9yY2VkU3RhdGUgPT09IHdlYmNhc3Rfc3RhdGVfMS5XZWJjYXN0U3RhdGUuTElWRSAmJiBhY3RpdmVMYW5ndWFnZS5wbGF5ZXJMaXZlKSB7XHJcbiAgICAgICAgICAgIHNvdXJjZSA9IGFjdGl2ZUxhbmd1YWdlLnBsYXllckxpdmU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBzb3VyY2U7XHJcbiAgICB9O1xyXG4gICAgQml0bW92aW5QbGF5ZXJDb250cm9sbGVyLnByb3RvdHlwZS5nZXRBY3RpdmVMYW5ndWFnZSA9IGZ1bmN0aW9uIChsYW5ndWFnZXMsIGxhbmd1YWdlKSB7XHJcbiAgICAgICAgcmV0dXJuIGxhbmd1YWdlID8gbGFuZ3VhZ2VzLmZpbmQoZnVuY3Rpb24gKGxhbmcpIHsgcmV0dXJuIGxhbmd1YWdlID09PSBsYW5nLmxhbmd1YWdlOyB9KSA6IGxhbmd1YWdlc1swXTtcclxuICAgIH07XHJcbiAgICBCaXRtb3ZpblBsYXllckNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcclxuICAgIHJldHVybiBCaXRtb3ZpblBsYXllckNvbnRyb2xsZXI7XHJcbn0oKSk7XHJcbmV4cG9ydHMuZGVmYXVsdCA9IEJpdG1vdmluUGxheWVyQ29udHJvbGxlcjtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9iaXRtb3Zpbi1wbGF5ZXIuY29udHJvbGxlci50c1xuLy8gbW9kdWxlIGlkID0gNjhcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIFdlYmNhc3RTdGF0ZTtcclxuKGZ1bmN0aW9uIChXZWJjYXN0U3RhdGUpIHtcclxuICAgIFdlYmNhc3RTdGF0ZVtcIkxJVkVcIl0gPSBcImxpdmVcIjtcclxuICAgIFdlYmNhc3RTdGF0ZVtcIlBPU1RfTElWRVwiXSA9IFwicG9zdGxpdmVcIjtcclxuICAgIFdlYmNhc3RTdGF0ZVtcIk9OREVNQU5EXCJdID0gXCJvbmRlbWFuZFwiO1xyXG59KShXZWJjYXN0U3RhdGUgPSBleHBvcnRzLldlYmNhc3RTdGF0ZSB8fCAoZXhwb3J0cy5XZWJjYXN0U3RhdGUgPSB7fSkpO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3dlYmNhc3Quc3RhdGUudHNcbi8vIG1vZHVsZSBpZCA9IDY5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBrb2xsZWN0aXZlX3Nkbl8xXzFfMF9taW5fMSA9IHJlcXVpcmUoXCIuLi9saWIva29sbGVjdGl2ZS9rb2xsZWN0aXZlLXNkbi0xLjEuMC5taW5cIik7XHJcbnZhciBwbGF5ZXJfc291cmNlX3R5cGVfMSA9IHJlcXVpcmUoXCIuL3BsYXllci1zb3VyY2UudHlwZVwiKTtcclxudmFyIEJpdG1vdmluUGxheWVyRGlyZWN0aXZlID0gZnVuY3Rpb24gKCR3aW5kb3csICRsb2cpIHsgcmV0dXJuICh7XHJcbiAgICBjb250cm9sbGVyOiAnTWlCaXRkYXNoQ29udHJvbGxlcicsXHJcbiAgICBjb250cm9sbGVyQXM6ICdiaXRkYXNoVm0nLFxyXG4gICAgcmVwbGFjZTogdHJ1ZSxcclxuICAgIHJlc3RyaWN0OiAnRUEnLFxyXG4gICAgc2NvcGU6IHtcclxuICAgICAgICBjb25maWc6ICc9JyxcclxuICAgICAgICBvcHRpb25zOiAnPT8nLFxyXG4gICAgICAgIHdlYmNhc3Q6ICc9JyxcclxuICAgIH0sXHJcbiAgICB0ZW1wbGF0ZTogXCI8ZGl2IGlkPVxcXCJtaS1iaXRkYXNoLXBsYXllclxcXCIgd2lkdGg9XFxcIjEwMCVcXFwiIGhlaWdodD1cXFwiYXV0b1xcXCI+PC9kaXY+XCIsXHJcbiAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjb250cm9sbGVyKSB7XHJcbiAgICAgICAgdmFyIHBsYXllcklkID0gJ21pLWJpdGRhc2gtcGxheWVyJztcclxuICAgICAgICB2YXIgd2ViY2FzdCA9IHNjb3BlLndlYmNhc3Q7XHJcbiAgICAgICAgdmFyIHBsYXllckNvbmZpZyA9IHNjb3BlLmNvbmZpZztcclxuICAgICAgICB2YXIgcGxheWVyO1xyXG4gICAgICAgIGluaXQoKTtcclxuICAgICAgICBmdW5jdGlvbiBpbml0KCkge1xyXG4gICAgICAgICAgICBpZiAoIWNvbnRyb2xsZXIudm0ucGxheWVyU291cmNlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc3dpdGNoIChjb250cm9sbGVyLnZtLnBsYXllclNvdXJjZS50eXBlKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIHBsYXllcl9zb3VyY2VfdHlwZV8xLlBsYXllclNvdXJjZVR5cGUuS1NETjpcclxuICAgICAgICAgICAgICAgICAgICBjcmVhdGVLb2xsZWN0aXZlUGxheWVyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIHBsYXllcl9zb3VyY2VfdHlwZV8xLlBsYXllclNvdXJjZVR5cGUuSElWRTpcclxuICAgICAgICAgICAgICAgICAgICBjcmVhdGVIaXZlUGxheWVyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZURlZmF1bHRQbGF5ZXIoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBjcmVhdGVEZWZhdWx0UGxheWVyKCkge1xyXG4gICAgICAgICAgICBwbGF5ZXJDb25maWcuc291cmNlID0geyBobHM6IGNvbnRyb2xsZXIudm0ucGxheWVyU291cmNlLmhsc1VybCB9O1xyXG4gICAgICAgICAgICBjcmVhdGVQbGF5ZXIoKVxyXG4gICAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsgcmV0dXJuIHBsYXllckVycm9ySGFuZGxlcihlcnIpOyB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlS29sbGVjdGl2ZVBsYXllcigpIHtcclxuICAgICAgICAgICAgcGxheWVyQ29uZmlnLnNvdXJjZSA9IHt9OyAvLyB3ZSB3YW50IHRvIHNldCB0aGUgc291cmNlIGJ5IHRoZSBwbHVnaW5cclxuICAgICAgICAgICAgdmFyIGF1dGggPSBjb250cm9sbGVyLnZtLnBsYXllclNvdXJjZS5wMnAudG9rZW47XHJcbiAgICAgICAgICAgIHZhciB1cm4gPSBjb250cm9sbGVyLnZtLnBsYXllclNvdXJjZS5wMnAudXJuO1xyXG4gICAgICAgICAgICB2YXIgaG9zdCA9IGNvbnRyb2xsZXIudm0ucGxheWVyU291cmNlLnAycC5ob3N0O1xyXG4gICAgICAgICAgICBjcmVhdGVQbGF5ZXIoKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHBsYXllckFwaSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGtzZG5QbHVnaW4gPSBuZXcga29sbGVjdGl2ZV9zZG5fMV8xXzBfbWluXzEua3Nkbi5QbGF5ZXJzLkJpdG1vdmluKHsgYXV0aDogYXV0aCwgaG9zdDogaG9zdCB9KTtcclxuICAgICAgICAgICAgICAgIHZhciBsaXZlY3ljbGVIb29rcyA9IGdldEtvbGxlY3RpdmVMaXZlY3lsZUhvb2tzKCk7XHJcbiAgICAgICAgICAgICAgICBrc2RuUGx1Z2luLnBsYXkocGxheWVyQXBpLCB1cm4sIGxpdmVjeWNsZUhvb2tzKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyKSB7IHJldHVybiBwbGF5ZXJFcnJvckhhbmRsZXIoZXJyKTsgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIGdldEtvbGxlY3RpdmVMaXZlY3lsZUhvb2tzKCkge1xyXG4gICAgICAgICAgICB2YXIgZXJyb3JQcmVmaXggPSAnS29sbGVjdGl2ZSBwbHVnaW4gZXJyb3I6ICc7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBvbkFnZW50Tm90RGV0ZWN0ZWQ6IGZ1bmN0aW9uIChwbHVnaW4sIHJlYXNvbnMpIHtcclxuICAgICAgICAgICAgICAgICAgICAkbG9nLmVycm9yKGVycm9yUHJlZml4ICsgXCIgXCIgKyByZWFzb25zKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBvbkFnZW50UmVqZWN0ZWQ6IGZ1bmN0aW9uIChwbHVnaW4sIGNyaXRlcmlhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjcml0ZXJpYS5wcm92aXNpb25lZEZvckN1cnJlbnRVcm4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGxvZy5lcnJvcihlcnJvclByZWZpeCArIFwiIEFnZW50IGRldGVjdGVkIGJ1dCBub3QgcHJvdmlzaW9uZWQgZm9yIFVSTlwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjcml0ZXJpYS5ub3RCbGFja2VkT3V0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRsb2cuZXJyb3IoZXJyb3JQcmVmaXggKyBcIiBBZ2VudCBkZXRlY3RlZCBidXQgaXMgY3VycmVudGx5IGJsYWNrZWQgb3V0XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBvblBsYXliYWNrUmVxdWVzdEZhaWx1cmU6IGZ1bmN0aW9uIChwbHVnaW4sIHJlcXVlc3QpIHtcclxuICAgICAgICAgICAgICAgICAgICAkbG9nLmVycm9yKGVycm9yUHJlZml4ICsgXCIgb25QbGF5YmFja1JlcXVlc3RGYWlsdXJlOiBcIiArIHJlcXVlc3QpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBvblNlc3Npb25GYWlsdXJlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGxvZy5lcnJvcihlcnJvclByZWZpeCArIFwiIG9uU2Vzc2lvbkZhaWx1cmVcIik7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBjcmVhdGVIaXZlUGxheWVyKCkge1xyXG4gICAgICAgICAgICB2YXIgaGl2ZVBsdWdpbkZhaWxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBwbGF5ZXJDb25maWcuc291cmNlID0ge1xyXG4gICAgICAgICAgICAgICAgaGxzX3RpY2tldDogY29udHJvbGxlci52bS5wbGF5ZXJTb3VyY2UucDJwLnVybFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB2YXIgaGl2ZU9wdGlvbnMgPSB7XHJcbiAgICAgICAgICAgICAgICBIaXZlSmF2YToge1xyXG4gICAgICAgICAgICAgICAgICAgIG9uRXJyb3I6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGl2ZVBsdWdpbkZhaWxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBkZWJ1Z0xldmVsOiAnb2ZmJyxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdmFyIHBsYXllclJlZiA9ICR3aW5kb3cud2luZG93LmJpdG1vdmluLnBsYXllcihwbGF5ZXJJZCk7XHJcbiAgICAgICAgICAgICR3aW5kb3cud2luZG93LmJpdG1vdmluLmluaXRIaXZlU0ROKHBsYXllclJlZiwgaGl2ZU9wdGlvbnMpO1xyXG4gICAgICAgICAgICBjcmVhdGVQbGF5ZXIoKVxyXG4gICAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcclxuICAgICAgICAgICAgICAgIGlmIChoaXZlUGx1Z2luRmFpbGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGxvZy53YXJuKFwiSGl2ZSBwbHVnaW4gZmFpbGVkLCBmYWxsYmFjayB0byBkZWZhdWx0IHBsYXllci4gRXJyb3I6IFwiICsgZXJyKTtcclxuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlRGVmYXVsdFBsYXllcigpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIDYwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHBsYXllckVycm9ySGFuZGxlcihlcnIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gcGxheWVyRXJyb3JIYW5kbGVyKGVycm9yKSB7XHJcbiAgICAgICAgICAgICRsb2cuZXJyb3IoZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBzZXR1cFBsYXllclVpKHBsYXllckFwaSkge1xyXG4gICAgICAgICAgICB2YXIgaXNBdWRpb09ubHkgPSB3ZWJjYXN0LmxheW91dC5sYXlvdXQgPT09ICdhdWRpby1vbmx5JztcclxuICAgICAgICAgICAgdmFyIGJpdG1vdmluVUlNYW5hZ2VyID0gJHdpbmRvdy53aW5kb3cubWlCaXRtb3ZpblVpLnBsYXllcnVpLlVJTWFuYWdlci5GYWN0b3J5O1xyXG4gICAgICAgICAgICBpZiAoaXNBdWRpb09ubHkpIHtcclxuICAgICAgICAgICAgICAgIGJpdG1vdmluVUlNYW5hZ2VyLmJ1aWxkQXVkaW9Pbmx5VUkocGxheWVyQXBpLCBjb250cm9sbGVyLmdldEF1ZGlvT25seVBsYXllckNvbmZpZygpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGJpdG1vdmluVUlNYW5hZ2VyLmJ1aWxkQXVkaW9WaWRlb1VJKHBsYXllckFwaSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIGJpdG1vdmluQ29udHJvbGJhciA9IGdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2JpdG1vdmlucGxheWVyLWNvbnRhaW5lcicpO1xyXG4gICAgICAgICAgICBpZiAoYml0bW92aW5Db250cm9sYmFyKSB7XHJcbiAgICAgICAgICAgICAgICBiaXRtb3ZpbkNvbnRyb2xiYXIuc3R5bGUubWluV2lkdGggPSAnMTc1cHgnO1xyXG4gICAgICAgICAgICAgICAgYml0bW92aW5Db250cm9sYmFyLnN0eWxlLm1pbkhlaWdodCA9ICcxMDFweCc7XHJcbiAgICAgICAgICAgICAgICAkd2luZG93LmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiaXRtb3ZpbnBsYXllci12aWRlby1taS1iaXRkYXNoLXBsYXllcicpLnNldEF0dHJpYnV0ZSgndGl0bGUnLCB3ZWJjYXN0Lm5hbWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIGdldEVsZW1lbnRzQnlDbGFzc05hbWUoY2xhc3NOYW1lKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAkd2luZG93LmRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoY2xhc3NOYW1lKVswXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlUGxheWVyKCkge1xyXG4gICAgICAgICAgICB2YXIgcGxheWVyU0RLID0gJHdpbmRvdy53aW5kb3cuYml0bW92aW4ucGxheWVyKHBsYXllcklkKTtcclxuICAgICAgICAgICAgLy8gVE9ETzogc2V0IGl0IGluIHRoZSBhcHAgYW5kIG5vdCBoZXJlXHJcbiAgICAgICAgICAgIHBsYXllckNvbmZpZy5zdHlsZSA9IHsgdXg6IGZhbHNlIH07XHJcbiAgICAgICAgICAgIHJldHVybiBwbGF5ZXJTREsuc2V0dXAocGxheWVyQ29uZmlnKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHBsYXllckFwaSkge1xyXG4gICAgICAgICAgICAgICAgcGxheWVyID0gcGxheWVyQXBpO1xyXG4gICAgICAgICAgICAgICAgc2V0dXBQbGF5ZXJVaShwbGF5ZXJBcGkpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBsYXllckFwaTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIGNsZWFudXAoKSB7XHJcbiAgICAgICAgICAgIGlmIChwbGF5ZXIpIHtcclxuICAgICAgICAgICAgICAgIHBsYXllci5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXIgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNsZWFudXAoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSk7IH07XHJcbmV4cG9ydHMuZGVmYXVsdCA9IEJpdG1vdmluUGxheWVyRGlyZWN0aXZlO1xyXG5CaXRtb3ZpblBsYXllckRpcmVjdGl2ZS4kaW5qZWN0ID0gWyckd2luZG93JywgJyRsb2cnXTtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9iaXRtb3Zpbi1wbGF5ZXIuZGlyZWN0aXZlLnRzXG4vLyBtb2R1bGUgaWQgPSA3MFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJleHBvcnRzLmtzZG49ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChyKXtpZihuW3JdKXJldHVybiBuW3JdLmV4cG9ydHM7dmFyIGk9bltyXT17aTpyLGw6ITEsZXhwb3J0czp7fX07cmV0dXJuIGVbcl0uY2FsbChpLmV4cG9ydHMsaSxpLmV4cG9ydHMsdCksaS5sPSEwLGkuZXhwb3J0c312YXIgbj17fTtyZXR1cm4gdC5tPWUsdC5jPW4sdC5kPWZ1bmN0aW9uKGUsbixyKXt0Lm8oZSxuKXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbix7Y29uZmlndXJhYmxlOiExLGVudW1lcmFibGU6ITAsZ2V0OnJ9KX0sdC5uPWZ1bmN0aW9uKGUpe3ZhciBuPWUmJmUuX19lc01vZHVsZT9mdW5jdGlvbigpe3JldHVybiBlLmRlZmF1bHR9OmZ1bmN0aW9uKCl7cmV0dXJuIGV9O3JldHVybiB0LmQobixcImFcIixuKSxufSx0Lm89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCl9LHQucD1cIi9cIix0KHQucz0xMCl9KFtmdW5jdGlvbihlLHQpe3ZhciBuO249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30oKTt0cnl7bj1ufHxGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCl8fCgwLGV2YWwpKFwidGhpc1wiKX1jYXRjaChlKXtcIm9iamVjdFwiPT09dHlwZW9mIHdpbmRvdyYmKG49d2luZG93KX1lLmV4cG9ydHM9bn0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciByPXQuU3RyYXRlZ3k9e0FKQVg6XCJBSkFYXCIsRkxBU0g6XCJGTEFTSFwifTt0LkFnZW50UmVxdWVzdE1vZGU9e0FqYXg6W3IuQUpBWF0sRmxhc2g6W3IuRkxBU0hdLEFqYXhXaXRoRmxhc2hGYWxsYmFjazpbci5BSkFYLHIuRkxBU0hdfSx0LlBST1RPQ09MPXtIVFRQUzpcImh0dHBzOi8vXCIsSFRUUDpcImh0dHA6Ly9cIixSVE1QOlwicnRtcDovL1wifSx0Lk1JTUVfVFlQRVM9e0RBU0g6XCJhcHBsaWNhdGlvbi9kYXNoK3htbFwiLEhMUzpcImFwcGxpY2F0aW9uL3gtbXBlZ1VSTFwifSx0LlNUUkVBTV9UWVBFPXtGTEFTSDpcIkZMQVNIXCIsSERTOlwiSERTXCIsSExTOlwiSExTXCIsREFTSDpcIkRBU0hcIixTTU9PVEg6XCJTTU9PVEhcIixSVE1QOlwiUlRNUFwifSx0LlBMQVlUWVBFPXtWT0Q6XCJWT0RcIixMSVZFOlwiTElWRVwifSx0LkxJTUlUUz17TElNSVRfUkVQT1JUX0VWRU5UU19JTkZPOjQwOTYsTElNSVRfUkVQT1JUX1NFR01FTlRTX0lORk86NDA5NixMSU1JVF9SRVBPUlRfTk9ERV9OQU1FOjE2LExJTUlUX1JFUE9SVF9NQUNISU5FX05BTUU6NjR9LHQuRVZFTlQ9e3BsYXllcjp7c3RhdGVfbm9uZTowLHN0YXRlX3N0b3A6MSxzdGF0ZV9wYXVzZToyLHN0YXRlX3BsYXk6MyxzdGF0ZV9idWZmZXJpbmc6NixzdGF0ZV9lbmQ6OCxzdGF0ZV9zZWVrX2ZvcndhcmQ6MjAsc3RhdGVfc2Vla19yZXZlcnNlOjIxLHN0YXRlX3JlbG9hZDo3NyxzdGF0ZV9leGl0Ojk5fSxhZ2VudDp7ZGV0ZWN0X2FqYXg6LTYxLGRldGVjdF9mbGFzaDotNjIsZGV0ZWN0X3N1Y2Nlc3M6LTYzLGRldGVjdF90aW1lb3V0Oi02NCxkZXRlY3RfZXJyb3JfYWpheF9jYW5ub3Rfb3BlbjotNjUsZGV0ZWN0X2Vycm9yX2ludmFsaWRfdmVyc2lvbjotNjYsZGV0ZWN0X2Vycm9yX2ZsYXNoX2NvbmZpZzotNjcsZGV0ZWN0X2ZhaWx1cmVfYWpheDotNjgsZGV0ZWN0X2ZhaWx1cmVfZmxhc2hfbG9hZDotNjksZGV0ZWN0X2ZhaWx1cmVfZmxhc2hfZW1iZWQ6LTcwLGRldGVjdF9hbGxfZmFpbDotNzF9fX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7KGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHIoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fWZ1bmN0aW9uIGkoZSx0LG4scil7aWYoISh0PD0wKSl7dmFyIGk9XCJlZGdlXCI9PT0oMCx1LmRlZmF1bHQpKCkuYnJvd3NlcixvPWZ1bmN0aW9uKHQpe2lmKHR8fGUucmVhZHlTdGF0ZSE9PVhNTEh0dHBSZXF1ZXN0LkRPTkUpeyEoaSYmcikmJihlLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsKSx0JiZlLmFib3J0KCksbihlKX19O2k/c2V0VGltZW91dChvLHQpOihlLm9udGltZW91dD1vLmJpbmQobnVsbCwhMCksZS50aW1lb3V0PXQpfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LlhIUl9FUlJPUj12b2lkIDAsdC5kZWZhdWx0PWZ1bmN0aW9uKHQpe3ZhciBuPXQubWV0aG9kfHxcIkdFVFwiLHI9dC51cmwrKDAsYS5kZWZhdWx0KSh0LnBhcmFtcyksbz1PYmplY3QuYXNzaWduKHt9LHQuaGVhZGVycykscz1udWxsPT10LmV4cGVjdEpzb258fHQuZXhwZWN0SnNvbix1PW51bGw9PXQuYXN5bmN8fHQuYXN5bmMsZj10Lm9uU3VjY2Vzc3x8YyxkPXQub25GYWlsdXJlfHxjLGc9dC5vbkVycm9yfHxjLGg9dC5vblRpbWVvdXR8fGMscD10LnRpbWVvdXR8fDAsbT10LmJvZHkseT10LmNvbnRpbnVlQWZ0ZXJUaW1lb3V0fHwhMTt0cnl7dmFyIHY9bmV3IFhNTEh0dHBSZXF1ZXN0O3Yub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7aWYodiYmdi5yZWFkeVN0YXRlPT09WE1MSHR0cFJlcXVlc3QuRE9ORSlpZih2LnN0YXR1cz49MjAwJiZ2LnN0YXR1czw0MDApe3ZhciB0PXMmJnYucmVzcG9uc2VUZXh0P0pTT04ucGFyc2Uodi5yZXNwb25zZVRleHQpOnYucmVzcG9uc2VUZXh0O2YodCx2KX1lbHNlIHYuc3RhdHVzPj00MDA/ZCh2KTp2LnN0YXR1czwxMDAmJmUoZnVuY3Rpb24oKXt2Lm9ucmVhZHlzdGF0ZWNoYW5nZSYmZyh2LGwuTk9fUkVTUE9OU0UpfSl9LHYub3BlbihuLHIsdSksaSh2LHAsaCx5KSxzJiZcIkdFVFwiPT09biYmdi5zZXRSZXF1ZXN0SGVhZGVyKFwiQWNjZXB0XCIsXCJhcHBsaWNhdGlvbi9qc29uXCIpO3ZhciBUPW8uYXV0aDtUJiYoby5BdXRob3JpemF0aW9uPVwiS29udGlraSBcIitULGRlbGV0ZSBvLmF1dGgpLE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKG8pLmZvckVhY2goZnVuY3Rpb24oZSl7di5zZXRSZXF1ZXN0SGVhZGVyKGUsb1tlXSl9KSx2LnNlbmQobSl9Y2F0Y2goZSl7ZyhudWxsLGwuQ0FOTk9UX09QRU4pfX07dmFyIG89big5KSxhPXIobykscz1uKDQpLHU9cihzKSxjPWZ1bmN0aW9uKCl7fSxsPXQuWEhSX0VSUk9SPXtOT19SRVNQT05TRTpcIm5vX2FqYXhfcmVzcG9uc2VcIixDQU5OT1RfT1BFTjpcImFqYXhfY2Fubm90X29wZW5cIn19KS5jYWxsKHQsbigyMSkuc2V0SW1tZWRpYXRlKX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtyZXR1cm4gZSYmdCYmZS5sZW5ndGg+dD9lLnN1YnN0cmluZygwLHQpOmV9dmFyIHQsbixyPW5hdmlnYXRvci5hcHBWZXJzaW9uLGk9bmF2aWdhdG9yLnVzZXJBZ2VudCxvPVwib3RoZXJcIixhPVwiLVwiOy0xIT0odD1pLmluZGV4T2YoXCJPcGVyYVwiKSk/KG89XCJvcGVyYVwiLGE9aS5zdWJzdHJpbmcodCs2KSwtMSE9KHQ9aS5pbmRleE9mKFwiVmVyc2lvblwiKSkmJihhPWkuc3Vic3RyaW5nKHQrOCkpKTotMSE9KHQ9aS5pbmRleE9mKFwiTVNJRVwiKSk/KG89XCJpZVwiLGE9aS5zdWJzdHJpbmcodCs1KSk6LTEhPSh0PWkuaW5kZXhPZihcIkVkZ2VcIikpPyhvPVwiZWRnZVwiLGE9aS5zdWJzdHJpbmcodCs1KSk6LTEhPSh0PWkuaW5kZXhPZihcIkNocm9tZVwiKSk/KG89XCJjaHJvbWVcIixhPWkuc3Vic3RyaW5nKHQrNykpOi0xIT0odD1pLmluZGV4T2YoXCJTYWZhcmlcIikpPyhvPVwic2FmYXJpXCIsYT1pLnN1YnN0cmluZyh0KzcpLC0xIT0odD1pLmluZGV4T2YoXCJWZXJzaW9uXCIpKSYmKGE9aS5zdWJzdHJpbmcodCs4KSkpOi0xIT0odD1pLmluZGV4T2YoXCJGaXJlZm94XCIpKT8obz1cImZpcmVmb3hcIixhPWkuc3Vic3RyaW5nKHQrOCkpOi0xIT1pLmluZGV4T2YoXCJUcmlkZW50L1wiKT8obz1cImllXCIsYT1pLnN1YnN0cmluZyhpLmluZGV4T2YoXCJydjpcIikrMykpOihvPVwib3RoZXJcIixhPVwiLVwiKSwtMSE9KG49YS5pbmRleE9mKFwiO1wiKSkmJihhPWEuc3Vic3RyaW5nKDAsbikpLC0xIT0obj1hLmluZGV4T2YoXCIgXCIpKSYmKGE9YS5zdWJzdHJpbmcoMCxuKSksLTEhPShuPWEuaW5kZXhPZihcIilcIikpJiYoYT1hLnN1YnN0cmluZygwLG4pKTt2YXIgcz1cIm90aGVyXCIsdT1be3M6XCJXaW5kb3dzIDMuMTFcIixyOi9XaW4xNi99LHtzOlwiV2luZG93cyA5NVwiLHI6LyhXaW5kb3dzIDk1fFdpbjk1fFdpbmRvd3NfOTUpL30se3M6XCJXaW5kb3dzIE1FXCIscjovKFdpbiA5eCA0LjkwfFdpbmRvd3MgTUUpL30se3M6XCJXaW5kb3dzIDk4XCIscjovKFdpbmRvd3MgOTh8V2luOTgpL30se3M6XCJXaW5kb3dzIENFXCIscjovV2luZG93cyBDRS99LHtzOlwiV2luZG93cyAyMDAwXCIscjovKFdpbmRvd3MgTlQgNS4wfFdpbmRvd3MgMjAwMCkvfSx7czpcIldpbmRvd3MgWFBcIixyOi8oV2luZG93cyBOVCA1LjF8V2luZG93cyBYUCkvfSx7czpcIldpbmRvd3MgMjAwM1wiLHI6L1dpbmRvd3MgTlQgNS4yL30se3M6XCJXaW5kb3dzIFZpc3RhXCIscjovV2luZG93cyBOVCA2LjAvfSx7czpcIldpbmRvd3MgN1wiLHI6LyhXaW5kb3dzIDd8V2luZG93cyBOVCA2LjEpL30se3M6XCJXaW5kb3dzIDguMVwiLHI6LyhXaW5kb3dzIDguMXxXaW5kb3dzIE5UIDYuMykvfSx7czpcIldpbmRvd3MgOFwiLHI6LyhXaW5kb3dzIDh8V2luZG93cyBOVCA2LjIpL30se3M6XCJXaW5kb3dzIDEwLjBcIixyOi8oV2luZG93cyBOVCAxMC4wKS99LHtzOlwiV2luZG93cyBOVCA0LjBcIixyOi8oV2luZG93cyBOVCA0LjB8V2luTlQ0LjApL30se3M6XCJXaW5kb3dzIHdpbmRvd3NcIixyOi8oV2luTlR8V2luZG93cyBOVCkvfSx7czpcIldpbmRvd3MgTUVcIixyOi9XaW5kb3dzIE1FL30se3M6XCJBbmRyb2lkXCIscjovQW5kcm9pZC99LHtzOlwiT3BlbkJTRFwiLHI6L09wZW5CU0QvfSx7czpcIlN1bk9TXCIscjovU3VuT1MvfSx7czpcIkxpbnV4XCIscjovKExpbnV4fFgxMSkvfSx7czpcImlPU1wiLHI6LyhpUGhvbmV8aVBhZHxpUG9kKS99LHtzOlwiTWFjT1NYXCIscjovTWFjIE9TIFgvfSx7czpcIk1hY09TXCIscjovKE1hY1BQQ3xNYWNJbnRlbHxNYWNfUG93ZXJQQ3xNYWNpbnRvc2gpL30se3M6XCJRTlhcIixyOi9RTlgvfSx7czpcIlVOSVhcIixyOi9VTklYL30se3M6XCJCZU9TXCIscjovQmVPUy99LHtzOlwiT1MvMlwiLHI6L09TXFwvMi99LHtzOlwiU2VhcmNoQlRcIixyOi8obnVoa3xHb29nbGVib3R8WWFtbXlib3R8T3BlbmJvdHxTbHVycHxNU05Cb3R8QXNrIEplZXZlc1xcL1Rlb21hfGlhX2FyY2hpdmVyKS99XTtmb3IodmFyIGMgaW4gdSl7dmFyIGw9dVtjXTtpZihsLnImJmwuci50ZXN0KGkpKXtzPWwuczticmVha319dmFyIGY9XCJcIjtzd2l0Y2goL1dpbmRvd3MvLnRlc3QocykmJihmPS9XaW5kb3dzICguKikvLmV4ZWMocylbMV0scz1cIndpbmRvd3NcIikscyl7Y2FzZVwiTWFjT1NYXCI6Zj0vTWFjIE9TIFggKDEwW1xcLlxcX1xcZF0rKS8uZXhlYyhpKVsxXTticmVhaztjYXNlXCJBbmRyb2lkXCI6Zj0vQW5kcm9pZCAoW1xcLlxcX1xcZF0rKS8uZXhlYyhpKVsxXTticmVhaztjYXNlXCJpT1NcIjpmPS9PUyAoXFxkKylfKFxcZCspXz8oXFxkKyk/Ly5leGVjKHIpLGY9ZlsxXStcIi5cIitmWzJdK1wiLlwiKygwfGZbM10pfXJldHVybnticm93c2VyOmUobyw4KSxicm93c2VyVmVyc2lvbjplKGEsOCksb3M6ZShzLDgpLG9zVmVyc2lvbjplKGYsOCl9fX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIoKXt9ZnVuY3Rpb24gaShlKXt0cnl7cmV0dXJuIGUudGhlbn1jYXRjaChlKXtyZXR1cm4geT1lLHZ9fWZ1bmN0aW9uIG8oZSx0KXt0cnl7cmV0dXJuIGUodCl9Y2F0Y2goZSl7cmV0dXJuIHk9ZSx2fX1mdW5jdGlvbiBhKGUsdCxuKXt0cnl7ZSh0LG4pfWNhdGNoKGUpe3JldHVybiB5PWUsdn19ZnVuY3Rpb24gcyhlKXtpZihcIm9iamVjdFwiIT09dHlwZW9mIHRoaXMpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByb21pc2VzIG11c3QgYmUgY29uc3RydWN0ZWQgdmlhIG5ld1wiKTtpZihcImZ1bmN0aW9uXCIhPT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJvbWlzZSBjb25zdHJ1Y3RvcidzIGFyZ3VtZW50IGlzIG5vdCBhIGZ1bmN0aW9uXCIpO3RoaXMuXzc1PTAsdGhpcy5fODM9MCx0aGlzLl8xOD1udWxsLHRoaXMuXzM4PW51bGwsZSE9PXImJnAoZSx0aGlzKX1mdW5jdGlvbiB1KGUsdCxuKXtyZXR1cm4gbmV3IGUuY29uc3RydWN0b3IoZnVuY3Rpb24oaSxvKXt2YXIgYT1uZXcgcyhyKTthLnRoZW4oaSxvKSxjKGUsbmV3IGgodCxuLGEpKX0pfWZ1bmN0aW9uIGMoZSx0KXtmb3IoOzM9PT1lLl84MzspZT1lLl8xODtpZihzLl80NyYmcy5fNDcoZSksMD09PWUuXzgzKXJldHVybiAwPT09ZS5fNzU/KGUuXzc1PTEsdm9pZChlLl8zOD10KSk6MT09PWUuXzc1PyhlLl83NT0yLHZvaWQoZS5fMzg9W2UuXzM4LHRdKSk6dm9pZCBlLl8zOC5wdXNoKHQpO2woZSx0KX1mdW5jdGlvbiBsKGUsdCl7bShmdW5jdGlvbigpe3ZhciBuPTE9PT1lLl84Mz90Lm9uRnVsZmlsbGVkOnQub25SZWplY3RlZDtpZihudWxsPT09bilyZXR1cm4gdm9pZCgxPT09ZS5fODM/Zih0LnByb21pc2UsZS5fMTgpOmQodC5wcm9taXNlLGUuXzE4KSk7dmFyIHI9byhuLGUuXzE4KTtyPT09dj9kKHQucHJvbWlzZSx5KTpmKHQucHJvbWlzZSxyKX0pfWZ1bmN0aW9uIGYoZSx0KXtpZih0PT09ZSlyZXR1cm4gZChlLG5ldyBUeXBlRXJyb3IoXCJBIHByb21pc2UgY2Fubm90IGJlIHJlc29sdmVkIHdpdGggaXRzZWxmLlwiKSk7aWYodCYmKFwib2JqZWN0XCI9PT10eXBlb2YgdHx8XCJmdW5jdGlvblwiPT09dHlwZW9mIHQpKXt2YXIgbj1pKHQpO2lmKG49PT12KXJldHVybiBkKGUseSk7aWYobj09PWUudGhlbiYmdCBpbnN0YW5jZW9mIHMpcmV0dXJuIGUuXzgzPTMsZS5fMTg9dCx2b2lkIGcoZSk7aWYoXCJmdW5jdGlvblwiPT09dHlwZW9mIG4pcmV0dXJuIHZvaWQgcChuLmJpbmQodCksZSl9ZS5fODM9MSxlLl8xOD10LGcoZSl9ZnVuY3Rpb24gZChlLHQpe2UuXzgzPTIsZS5fMTg9dCxzLl83MSYmcy5fNzEoZSx0KSxnKGUpfWZ1bmN0aW9uIGcoZSl7aWYoMT09PWUuXzc1JiYoYyhlLGUuXzM4KSxlLl8zOD1udWxsKSwyPT09ZS5fNzUpe2Zvcih2YXIgdD0wO3Q8ZS5fMzgubGVuZ3RoO3QrKyljKGUsZS5fMzhbdF0pO2UuXzM4PW51bGx9fWZ1bmN0aW9uIGgoZSx0LG4pe3RoaXMub25GdWxmaWxsZWQ9XCJmdW5jdGlvblwiPT09dHlwZW9mIGU/ZTpudWxsLHRoaXMub25SZWplY3RlZD1cImZ1bmN0aW9uXCI9PT10eXBlb2YgdD90Om51bGwsdGhpcy5wcm9taXNlPW59ZnVuY3Rpb24gcChlLHQpe3ZhciBuPSExLHI9YShlLGZ1bmN0aW9uKGUpe258fChuPSEwLGYodCxlKSl9LGZ1bmN0aW9uKGUpe258fChuPSEwLGQodCxlKSl9KTtufHxyIT09dnx8KG49ITAsZCh0LHkpKX12YXIgbT1uKDEzKSx5PW51bGwsdj17fTtlLmV4cG9ydHM9cyxzLl80Nz1udWxsLHMuXzcxPW51bGwscy5fNDQ9cixzLnByb3RvdHlwZS50aGVuPWZ1bmN0aW9uKGUsdCl7aWYodGhpcy5jb25zdHJ1Y3RvciE9PXMpcmV0dXJuIHUodGhpcyxlLHQpO3ZhciBuPW5ldyBzKHIpO3JldHVybiBjKHRoaXMsbmV3IGgoZSx0LG4pKSxufX0sZnVuY3Rpb24oZSx0LG4pe3ZhciByLGksbzshZnVuY3Rpb24obixhKXtpPVtdLHI9YSx2b2lkIDAhPT0obz1cImZ1bmN0aW9uXCI9PT10eXBlb2Ygcj9yLmFwcGx5KHQsaSk6cikmJihlLmV4cG9ydHM9byl9KDAsZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7cmV0dXJuLTE9PT1lLmluZGV4T2YodCk/ZS5sZW5ndGg6ZS5pbmRleE9mKHQpfWZ1bmN0aW9uIHQodCl7dmFyIG49dC5yZXBsYWNlKC9edi8sXCJcIikucmVwbGFjZSgvXFwrLiokLyxcIlwiKSxyPWUobixcIi1cIiksaT1uLnN1YnN0cmluZygwLHIpLnNwbGl0KFwiLlwiKTtyZXR1cm4gaS5wdXNoKG4uc3Vic3RyaW5nKHIrMSkpLGl9ZnVuY3Rpb24gbihlKXtyZXR1cm4gaXNOYU4oTnVtYmVyKGUpKT9lOk51bWJlcihlKX1mdW5jdGlvbiByKGUpe2lmKFwic3RyaW5nXCIhPT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhcmd1bWVudCBleHBlY3RlZCBzdHJpbmdcIik7aWYoIWkudGVzdChlKSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGFyZ3VtZW50IG5vdCB2YWxpZCBzZW12ZXJcIil9dmFyIGk9L152Pyg/OlxcZCspKFxcLig/Olt4Kl18XFxkKykoXFwuKD86W3gqXXxcXGQrKShcXC4oPzpbeCpdfFxcZCspKT8oPzotW1xcZGEtelxcLV0rKD86XFwuW1xcZGEtelxcLV0rKSopPyg/OlxcK1tcXGRhLXpcXC1dKyg/OlxcLltcXGRhLXpcXC1dKykqKT8pPyk/JC9pO3JldHVybiBmdW5jdGlvbihlLGkpe1tlLGldLmZvckVhY2gocik7Zm9yKHZhciBvPXQoZSksYT10KGkpLHM9MDtzPE1hdGgubWF4KG8ubGVuZ3RoLTEsYS5sZW5ndGgtMSk7cysrKXt2YXIgdT1wYXJzZUludChvW3NdfHwwLDEwKSxjPXBhcnNlSW50KGFbc118fDAsMTApO2lmKHU+YylyZXR1cm4gMTtpZihjPnUpcmV0dXJuLTF9dmFyIGw9b1tvLmxlbmd0aC0xXSxmPWFbYS5sZW5ndGgtMV07aWYobCYmZil7dmFyIGQ9bC5zcGxpdChcIi5cIikubWFwKG4pLGc9Zi5zcGxpdChcIi5cIikubWFwKG4pO2ZvcihzPTA7czxNYXRoLm1heChkLmxlbmd0aCxnLmxlbmd0aCk7cysrKXtpZih2b2lkIDA9PT1kW3NdfHxcInN0cmluZ1wiPT09dHlwZW9mIGdbc10mJlwibnVtYmVyXCI9PT10eXBlb2YgZFtzXSlyZXR1cm4tMTtpZih2b2lkIDA9PT1nW3NdfHxcInN0cmluZ1wiPT09dHlwZW9mIGRbc10mJlwibnVtYmVyXCI9PT10eXBlb2YgZ1tzXSlyZXR1cm4gMTtpZihkW3NdPmdbc10pcmV0dXJuIDE7aWYoZ1tzXT5kW3NdKXJldHVybi0xfX1lbHNlIGlmKGx8fGYpcmV0dXJuIGw/LTE6MTtyZXR1cm4gMH19KX0sZnVuY3Rpb24oZSx0LG4peyhmdW5jdGlvbihyKXt2YXIgaSxvOyFmdW5jdGlvbih0LG4pe2UuZXhwb3J0cz1uKHQpfShcInVuZGVmaW5lZFwiIT09dHlwZW9mIHNlbGY/c2VsZjpcInVuZGVmaW5lZFwiIT09dHlwZW9mIHdpbmRvdz93aW5kb3c6XCJ1bmRlZmluZWRcIiE9PXR5cGVvZiByP3I6dGhpcyxmdW5jdGlvbihyKXtcInVzZSBzdHJpY3RcIjt2YXIgYSxzPXIuQmFzZTY0O2lmKFwidW5kZWZpbmVkXCIhPT10eXBlb2YgZSYmZS5leHBvcnRzKXRyeXthPW4oMjApLkJ1ZmZlcn1jYXRjaChlKXt9dmFyIHU9XCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvXCIsYz1mdW5jdGlvbihlKXtmb3IodmFyIHQ9e30sbj0wLHI9ZS5sZW5ndGg7bjxyO24rKyl0W2UuY2hhckF0KG4pXT1uO3JldHVybiB0fSh1KSxsPVN0cmluZy5mcm9tQ2hhckNvZGUsZj1mdW5jdGlvbihlKXtpZihlLmxlbmd0aDwyKXt2YXIgdD1lLmNoYXJDb2RlQXQoMCk7cmV0dXJuIHQ8MTI4P2U6dDwyMDQ4P2woMTkyfHQ+Pj42KStsKDEyOHw2MyZ0KTpsKDIyNHx0Pj4+MTImMTUpK2woMTI4fHQ+Pj42JjYzKStsKDEyOHw2MyZ0KX12YXIgdD02NTUzNisxMDI0KihlLmNoYXJDb2RlQXQoMCktNTUyOTYpKyhlLmNoYXJDb2RlQXQoMSktNTYzMjApO3JldHVybiBsKDI0MHx0Pj4+MTgmNykrbCgxMjh8dD4+PjEyJjYzKStsKDEyOHx0Pj4+NiY2MykrbCgxMjh8NjMmdCl9LGQ9L1tcXHVEODAwLVxcdURCRkZdW1xcdURDMDAtXFx1REZGRkZdfFteXFx4MDAtXFx4N0ZdL2csZz1mdW5jdGlvbihlKXtyZXR1cm4gZS5yZXBsYWNlKGQsZil9LGg9ZnVuY3Rpb24oZSl7dmFyIHQ9WzAsMiwxXVtlLmxlbmd0aCUzXSxuPWUuY2hhckNvZGVBdCgwKTw8MTZ8KGUubGVuZ3RoPjE/ZS5jaGFyQ29kZUF0KDEpOjApPDw4fChlLmxlbmd0aD4yP2UuY2hhckNvZGVBdCgyKTowKTtyZXR1cm5bdS5jaGFyQXQobj4+PjE4KSx1LmNoYXJBdChuPj4+MTImNjMpLHQ+PTI/XCI9XCI6dS5jaGFyQXQobj4+PjYmNjMpLHQ+PTE/XCI9XCI6dS5jaGFyQXQoNjMmbildLmpvaW4oXCJcIil9LHA9ci5idG9hP2Z1bmN0aW9uKGUpe3JldHVybiByLmJ0b2EoZSl9OmZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoL1tcXHNcXFNdezEsM30vZyxoKX0sbT1hP2EuZnJvbSYmVWludDhBcnJheSYmYS5mcm9tIT09VWludDhBcnJheS5mcm9tP2Z1bmN0aW9uKGUpe3JldHVybihlLmNvbnN0cnVjdG9yPT09YS5jb25zdHJ1Y3Rvcj9lOmEuZnJvbShlKSkudG9TdHJpbmcoXCJiYXNlNjRcIil9OmZ1bmN0aW9uKGUpe3JldHVybihlLmNvbnN0cnVjdG9yPT09YS5jb25zdHJ1Y3Rvcj9lOm5ldyBhKGUpKS50b1N0cmluZyhcImJhc2U2NFwiKX06ZnVuY3Rpb24oZSl7cmV0dXJuIHAoZyhlKSl9LHk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD9tKFN0cmluZyhlKSkucmVwbGFjZSgvWytcXC9dL2csZnVuY3Rpb24oZSl7cmV0dXJuXCIrXCI9PWU/XCItXCI6XCJfXCJ9KS5yZXBsYWNlKC89L2csXCJcIik6bShTdHJpbmcoZSkpfSx2PWZ1bmN0aW9uKGUpe3JldHVybiB5KGUsITApfSxUPW5ldyBSZWdFeHAoW1wiW1xceGMwLVxceGRmXVtcXHg4MC1cXHhiZl1cIixcIltcXHhlMC1cXHhlZl1bXFx4ODAtXFx4YmZdezJ9XCIsXCJbXFx4ZjAtXFx4ZjddW1xceDgwLVxceGJmXXszfVwiXS5qb2luKFwifFwiKSxcImdcIiksUz1mdW5jdGlvbihlKXtzd2l0Y2goZS5sZW5ndGgpe2Nhc2UgNDp2YXIgdD0oNyZlLmNoYXJDb2RlQXQoMCkpPDwxOHwoNjMmZS5jaGFyQ29kZUF0KDEpKTw8MTJ8KDYzJmUuY2hhckNvZGVBdCgyKSk8PDZ8NjMmZS5jaGFyQ29kZUF0KDMpLG49dC02NTUzNjtyZXR1cm4gbCg1NTI5Nisobj4+PjEwKSkrbCg1NjMyMCsoMTAyMyZuKSk7Y2FzZSAzOnJldHVybiBsKCgxNSZlLmNoYXJDb2RlQXQoMCkpPDwxMnwoNjMmZS5jaGFyQ29kZUF0KDEpKTw8Nnw2MyZlLmNoYXJDb2RlQXQoMikpO2RlZmF1bHQ6cmV0dXJuIGwoKDMxJmUuY2hhckNvZGVBdCgwKSk8PDZ8NjMmZS5jaGFyQ29kZUF0KDEpKX19LEU9ZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVwbGFjZShULFMpfSxQPWZ1bmN0aW9uKGUpe3ZhciB0PWUubGVuZ3RoLG49dCU0LHI9KHQ+MD9jW2UuY2hhckF0KDApXTw8MTg6MCl8KHQ+MT9jW2UuY2hhckF0KDEpXTw8MTI6MCl8KHQ+Mj9jW2UuY2hhckF0KDIpXTw8NjowKXwodD4zP2NbZS5jaGFyQXQoMyldOjApLGk9W2wocj4+PjE2KSxsKHI+Pj44JjI1NSksbCgyNTUmcildO3JldHVybiBpLmxlbmd0aC09WzAsMCwyLDFdW25dLGkuam9pbihcIlwiKX0sXz1yLmF0b2I/ZnVuY3Rpb24oZSl7cmV0dXJuIHIuYXRvYihlKX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVwbGFjZSgvW1xcc1xcU117MSw0fS9nLFApfSxiPWE/YS5mcm9tJiZVaW50OEFycmF5JiZhLmZyb20hPT1VaW50OEFycmF5LmZyb20/ZnVuY3Rpb24oZSl7cmV0dXJuKGUuY29uc3RydWN0b3I9PT1hLmNvbnN0cnVjdG9yP2U6YS5mcm9tKGUsXCJiYXNlNjRcIikpLnRvU3RyaW5nKCl9OmZ1bmN0aW9uKGUpe3JldHVybihlLmNvbnN0cnVjdG9yPT09YS5jb25zdHJ1Y3Rvcj9lOm5ldyBhKGUsXCJiYXNlNjRcIikpLnRvU3RyaW5nKCl9OmZ1bmN0aW9uKGUpe3JldHVybiBFKF8oZSkpfSxBPWZ1bmN0aW9uKGUpe3JldHVybiBiKFN0cmluZyhlKS5yZXBsYWNlKC9bLV9dL2csZnVuY3Rpb24oZSl7cmV0dXJuXCItXCI9PWU/XCIrXCI6XCIvXCJ9KS5yZXBsYWNlKC9bXkEtWmEtejAtOVxcK1xcL10vZyxcIlwiKSl9LHc9ZnVuY3Rpb24oKXt2YXIgZT1yLkJhc2U2NDtyZXR1cm4gci5CYXNlNjQ9cyxlfTtpZihyLkJhc2U2ND17VkVSU0lPTjpcIjIuNC41XCIsYXRvYjpfLGJ0b2E6cCxmcm9tQmFzZTY0OkEsdG9CYXNlNjQ6eSx1dG9iOmcsZW5jb2RlOnksZW5jb2RlVVJJOnYsYnRvdTpFLGRlY29kZTpBLG5vQ29uZmxpY3Q6d30sXCJmdW5jdGlvblwiPT09dHlwZW9mIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSl7dmFyIEw9ZnVuY3Rpb24oZSl7cmV0dXJue3ZhbHVlOmUsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fTtyLkJhc2U2NC5leHRlbmRTdHJpbmc9ZnVuY3Rpb24oKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoU3RyaW5nLnByb3RvdHlwZSxcImZyb21CYXNlNjRcIixMKGZ1bmN0aW9uKCl7cmV0dXJuIEEodGhpcyl9KSksT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0cmluZy5wcm90b3R5cGUsXCJ0b0Jhc2U2NFwiLEwoZnVuY3Rpb24oZSl7cmV0dXJuIHkodGhpcyxlKX0pKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoU3RyaW5nLnByb3RvdHlwZSxcInRvQmFzZTY0VVJJXCIsTChmdW5jdGlvbigpe3JldHVybiB5KHRoaXMsITApfSkpfX1yZXR1cm4gci5NZXRlb3ImJihCYXNlNjQ9ci5CYXNlNjQpLFwidW5kZWZpbmVkXCIhPT10eXBlb2YgZSYmZS5leHBvcnRzP2UuZXhwb3J0cy5CYXNlNjQ9ci5CYXNlNjQ6KGk9W10sdm9pZCAwIT09KG89ZnVuY3Rpb24oKXtyZXR1cm4gci5CYXNlNjR9LmFwcGx5KHQsaSkpJiYoZS5leHBvcnRzPW8pKSx7QmFzZTY0OnIuQmFzZTY0fX0pfSkuY2FsbCh0LG4oMCkpfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PWZ1bmN0aW9uKGUpe3ZhciB0PWUucmVwbGFjZSgvXmtvbnRpa2k6LyxcIlwiKS5zcGxpdChcIjpcIikucmV2ZXJzZSgpLnNsaWNlKDAsLTIpLG49dFszXXx8XCJwcm9kMVwiLG89cltuXTtyZXR1cm57bW9pZDp0WzBdLGNvbXBhbnk6dFsyXSxkbXM6bixob3N0OmkobnVsbD09bz9uOm8pfX07dmFyIHI9e3Byb2QxOlwiXCIsZ21jb3JwOlwid2cxXCIsZXU6XCJldTFcIixsYmc6XCJhcGkua29udGlraS5zZXJ2aWNlLmdyb3VwXCIsdmMxMDpcImFwaS12YzEwLmNvcnAua29udGlraS5jb21cIix2YzE0OlwiYXBpLXZjMTQua29udGlraS5jb21cIix0YzFyaDU6XCJ0YzFcIn0saT1mdW5jdGlvbihlKXtyZXR1cm4gZS5pbmRleE9mKFwiLlwiKT49MD9cImh0dHBzOi8vXCIrZTpcImh0dHBzOi8vYXBpLlwiKyhlJiZlK1wiLlwiKStcImtvbnRpa2kuY29tXCJ9fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG51bGw9PWU/XCJcIjooZT1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhlKS5yZWR1Y2UoZnVuY3Rpb24obixpKXt2YXIgYT1lW2ldO3JldHVybiBudWxsPT1hP246KCF0JiZvLmhhcyhpKSYmKGE9ci5CYXNlNjQuZW5jb2RlVVJJKGEpKSxuW2ldPWEsbil9LHt9KSwoMCxpLnN0cmluZ2lmeSkoZSwhMCkpfTt2YXIgcj1uKDcpLGk9bigyNCksbz1uZXcgU2V0KFtcImZvcm1hdFwiLFwicmVhbG1JZFwiLFwicmVhbG1UaWNrZXRcIl0pfSxmdW5jdGlvbihlLHQsbil7bigxMSksbigxNiksZS5leHBvcnRzPW4oMTcpfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7XCJ1bmRlZmluZWRcIj09PXR5cGVvZiBQcm9taXNlJiYobigxMikuZW5hYmxlKCksd2luZG93LlByb21pc2U9bigxNCkpLE9iamVjdC5hc3NpZ249bigxNSl9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKCl7Yz0hMSxzLl80Nz1udWxsLHMuXzcxPW51bGx9ZnVuY3Rpb24gaShlKXtmdW5jdGlvbiB0KHQpeyhlLmFsbFJlamVjdGlvbnN8fGEoZlt0XS5lcnJvcixlLndoaXRlbGlzdHx8dSkpJiYoZlt0XS5kaXNwbGF5SWQ9bCsrLGUub25VbmhhbmRsZWQ/KGZbdF0ubG9nZ2VkPSEwLGUub25VbmhhbmRsZWQoZlt0XS5kaXNwbGF5SWQsZlt0XS5lcnJvcikpOihmW3RdLmxvZ2dlZD0hMCxvKGZbdF0uZGlzcGxheUlkLGZbdF0uZXJyb3IpKSl9ZnVuY3Rpb24gbih0KXtmW3RdLmxvZ2dlZCYmKGUub25IYW5kbGVkP2Uub25IYW5kbGVkKGZbdF0uZGlzcGxheUlkLGZbdF0uZXJyb3IpOmZbdF0ub25VbmhhbmRsZWR8fChjb25zb2xlLndhcm4oXCJQcm9taXNlIFJlamVjdGlvbiBIYW5kbGVkIChpZDogXCIrZlt0XS5kaXNwbGF5SWQrXCIpOlwiKSxjb25zb2xlLndhcm4oJyAgVGhpcyBtZWFucyB5b3UgY2FuIGlnbm9yZSBhbnkgcHJldmlvdXMgbWVzc2FnZXMgb2YgdGhlIGZvcm0gXCJQb3NzaWJsZSBVbmhhbmRsZWQgUHJvbWlzZSBSZWplY3Rpb25cIiB3aXRoIGlkICcrZlt0XS5kaXNwbGF5SWQrXCIuXCIpKSl9ZT1lfHx7fSxjJiZyKCksYz0hMDt2YXIgaT0wLGw9MCxmPXt9O3MuXzQ3PWZ1bmN0aW9uKGUpezI9PT1lLl84MyYmZltlLl81Nl0mJihmW2UuXzU2XS5sb2dnZWQ/bihlLl81Nik6Y2xlYXJUaW1lb3V0KGZbZS5fNTZdLnRpbWVvdXQpLGRlbGV0ZSBmW2UuXzU2XSl9LHMuXzcxPWZ1bmN0aW9uKGUsbil7MD09PWUuXzc1JiYoZS5fNTY9aSsrLGZbZS5fNTZdPXtkaXNwbGF5SWQ6bnVsbCxlcnJvcjpuLHRpbWVvdXQ6c2V0VGltZW91dCh0LmJpbmQobnVsbCxlLl81NiksYShuLHUpPzEwMDoyZTMpLGxvZ2dlZDohMX0pfX1mdW5jdGlvbiBvKGUsdCl7Y29uc29sZS53YXJuKFwiUG9zc2libGUgVW5oYW5kbGVkIFByb21pc2UgUmVqZWN0aW9uIChpZDogXCIrZStcIik6XCIpLCgodCYmKHQuc3RhY2t8fHQpKStcIlwiKS5zcGxpdChcIlxcblwiKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2NvbnNvbGUud2FybihcIiAgXCIrZSl9KX1mdW5jdGlvbiBhKGUsdCl7cmV0dXJuIHQuc29tZShmdW5jdGlvbih0KXtyZXR1cm4gZSBpbnN0YW5jZW9mIHR9KX12YXIgcz1uKDUpLHU9W1JlZmVyZW5jZUVycm9yLFR5cGVFcnJvcixSYW5nZUVycm9yXSxjPSExO3QuZGlzYWJsZT1yLHQuZW5hYmxlPWl9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjsoZnVuY3Rpb24odCl7ZnVuY3Rpb24gbihlKXthLmxlbmd0aHx8KG8oKSxzPSEwKSxhW2EubGVuZ3RoXT1lfWZ1bmN0aW9uIHIoKXtmb3IoO3U8YS5sZW5ndGg7KXt2YXIgZT11O2lmKHUrPTEsYVtlXS5jYWxsKCksdT5jKXtmb3IodmFyIHQ9MCxuPWEubGVuZ3RoLXU7dDxuO3QrKylhW3RdPWFbdCt1XTthLmxlbmd0aC09dSx1PTB9fWEubGVuZ3RoPTAsdT0wLHM9ITF9ZnVuY3Rpb24gaShlKXtyZXR1cm4gZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7Y2xlYXJUaW1lb3V0KG4pLGNsZWFySW50ZXJ2YWwociksZSgpfXZhciBuPXNldFRpbWVvdXQodCwwKSxyPXNldEludGVydmFsKHQsNTApfX1lLmV4cG9ydHM9bjt2YXIgbyxhPVtdLHM9ITEsdT0wLGM9MTAyNCxsPVwidW5kZWZpbmVkXCIhPT10eXBlb2YgdD90OnNlbGYsZj1sLk11dGF0aW9uT2JzZXJ2ZXJ8fGwuV2ViS2l0TXV0YXRpb25PYnNlcnZlcjtvPVwiZnVuY3Rpb25cIj09PXR5cGVvZiBmP2Z1bmN0aW9uKGUpe3ZhciB0PTEsbj1uZXcgZihlKSxyPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiXCIpO3JldHVybiBuLm9ic2VydmUocix7Y2hhcmFjdGVyRGF0YTohMH0pLGZ1bmN0aW9uKCl7dD0tdCxyLmRhdGE9dH19KHIpOmkociksbi5yZXF1ZXN0Rmx1c2g9byxuLm1ha2VSZXF1ZXN0Q2FsbEZyb21UaW1lcj1pfSkuY2FsbCh0LG4oMCkpfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcihlKXt2YXIgdD1uZXcgaShpLl80NCk7cmV0dXJuIHQuXzgzPTEsdC5fMTg9ZSx0fXZhciBpPW4oNSk7ZS5leHBvcnRzPWk7dmFyIG89cighMCksYT1yKCExKSxzPXIobnVsbCksdT1yKHZvaWQgMCksYz1yKDApLGw9cihcIlwiKTtpLnJlc29sdmU9ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIGkpcmV0dXJuIGU7aWYobnVsbD09PWUpcmV0dXJuIHM7aWYodm9pZCAwPT09ZSlyZXR1cm4gdTtpZighMD09PWUpcmV0dXJuIG87aWYoITE9PT1lKXJldHVybiBhO2lmKDA9PT1lKXJldHVybiBjO2lmKFwiXCI9PT1lKXJldHVybiBsO2lmKFwib2JqZWN0XCI9PT10eXBlb2YgZXx8XCJmdW5jdGlvblwiPT09dHlwZW9mIGUpdHJ5e3ZhciB0PWUudGhlbjtpZihcImZ1bmN0aW9uXCI9PT10eXBlb2YgdClyZXR1cm4gbmV3IGkodC5iaW5kKGUpKX1jYXRjaChlKXtyZXR1cm4gbmV3IGkoZnVuY3Rpb24odCxuKXtuKGUpfSl9cmV0dXJuIHIoZSl9LGkuYWxsPWZ1bmN0aW9uKGUpe3ZhciB0PUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGUpO3JldHVybiBuZXcgaShmdW5jdGlvbihlLG4pe2Z1bmN0aW9uIHIoYSxzKXtpZihzJiYoXCJvYmplY3RcIj09PXR5cGVvZiBzfHxcImZ1bmN0aW9uXCI9PT10eXBlb2Ygcykpe2lmKHMgaW5zdGFuY2VvZiBpJiZzLnRoZW49PT1pLnByb3RvdHlwZS50aGVuKXtmb3IoOzM9PT1zLl84Mzspcz1zLl8xODtyZXR1cm4gMT09PXMuXzgzP3IoYSxzLl8xOCk6KDI9PT1zLl84MyYmbihzLl8xOCksdm9pZCBzLnRoZW4oZnVuY3Rpb24oZSl7cihhLGUpfSxuKSl9dmFyIHU9cy50aGVuO2lmKFwiZnVuY3Rpb25cIj09PXR5cGVvZiB1KXtyZXR1cm4gdm9pZCBuZXcgaSh1LmJpbmQocykpLnRoZW4oZnVuY3Rpb24oZSl7cihhLGUpfSxuKX19dFthXT1zLDA9PT0tLW8mJmUodCl9aWYoMD09PXQubGVuZ3RoKXJldHVybiBlKFtdKTtmb3IodmFyIG89dC5sZW5ndGgsYT0wO2E8dC5sZW5ndGg7YSsrKXIoYSx0W2FdKX0pfSxpLnJlamVjdD1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IGkoZnVuY3Rpb24odCxuKXtuKGUpfSl9LGkucmFjZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IGkoZnVuY3Rpb24odCxuKXtlLmZvckVhY2goZnVuY3Rpb24oZSl7aS5yZXNvbHZlKGUpLnRoZW4odCxuKX0pfSl9LGkucHJvdG90eXBlLmNhdGNoPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnRoZW4obnVsbCxlKX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKGUpe2lmKG51bGw9PT1lfHx2b2lkIDA9PT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJPYmplY3QuYXNzaWduIGNhbm5vdCBiZSBjYWxsZWQgd2l0aCBudWxsIG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gT2JqZWN0KGUpfXZhciBpPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsbz1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LGE9T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtlLmV4cG9ydHM9ZnVuY3Rpb24oKXt0cnl7aWYoIU9iamVjdC5hc3NpZ24pcmV0dXJuITE7dmFyIGU9bmV3IFN0cmluZyhcImFiY1wiKTtpZihlWzVdPVwiZGVcIixcIjVcIj09PU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGUpWzBdKXJldHVybiExO2Zvcih2YXIgdD17fSxuPTA7bjwxMDtuKyspdFtcIl9cIitTdHJpbmcuZnJvbUNoYXJDb2RlKG4pXT1uO2lmKFwiMDEyMzQ1Njc4OVwiIT09T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModCkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiB0W2VdfSkuam9pbihcIlwiKSlyZXR1cm4hMTt2YXIgcj17fTtyZXR1cm5cImFiY2RlZmdoaWprbG1ub3BxcnN0XCIuc3BsaXQoXCJcIikuZm9yRWFjaChmdW5jdGlvbihlKXtyW2VdPWV9KSxcImFiY2RlZmdoaWprbG1ub3BxcnN0XCI9PT1PYmplY3Qua2V5cyhPYmplY3QuYXNzaWduKHt9LHIpKS5qb2luKFwiXCIpfWNhdGNoKGUpe3JldHVybiExfX0oKT9PYmplY3QuYXNzaWduOmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuLHMsdT1yKGUpLGM9MTtjPGFyZ3VtZW50cy5sZW5ndGg7YysrKXtuPU9iamVjdChhcmd1bWVudHNbY10pO2Zvcih2YXIgbCBpbiBuKW8uY2FsbChuLGwpJiYodVtsXT1uW2xdKTtpZihpKXtzPWkobik7Zm9yKHZhciBmPTA7ZjxzLmxlbmd0aDtmKyspYS5jYWxsKG4sc1tmXSkmJih1W3NbZl1dPW5bc1tmXV0pfX1yZXR1cm4gdX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjsoZnVuY3Rpb24oZSl7ZS52ZXJzaW9uPVwiMS4xLjBcIn0pLmNhbGwodCxuKDIpKX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiOyhmdW5jdGlvbihlKXtmdW5jdGlvbiByKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1mdW5jdGlvbiBpKGUpe2lmKCFlLnNkbkRhdGEpcmV0dXJuIG51bGw7aWYoZS5zZG5EYXRhLmNvbnN0cnVjdG9yPT09QXJyYXkpZm9yKHZhciB0PTA7dDxlLnNkbkRhdGEubGVuZ3RoO3QrKyl7dmFyIG49ZS5zZG5EYXRhW3RdO2lmKG4mJm4uZW5jb2RpbmdJbmZvKXJldHVybiBuLmVuY29kaW5nSW5mb31yZXR1cm4gZS5zZG5EYXRhLmVuY29kaW5nSW5mb31mdW5jdGlvbiBvKGUpe3ZhciB0PVAuZGVmYXVsdFtlXTtpZihudWxsPT10KXRocm93XCJObyBwbGF5ZXIgaW50ZXJmYWNlIGZvciBcIitlO2lmKFwiZnVuY3Rpb25cIiE9PXR5cGVvZiB0LmlzUGxheWluZ3x8XCJmdW5jdGlvblwiIT09dHlwZW9mIHQuaXNMaXZlfHxcImZ1bmN0aW9uXCIhPT10eXBlb2YgdC5nZXRQbGF5ZXJQb3NpdGlvbnx8XCJmdW5jdGlvblwiIT09dHlwZW9mIHQuZ2V0UGxheWVyRHVyYXRpb258fFwiZnVuY3Rpb25cIiE9PXR5cGVvZiB0LnNldEV2ZW50SGFuZGxlcnMpdGhyb3dcIkluY29tcGxldGUgcGxheWVyIGludGVyZmFjZTogXCIrZTtyZXR1cm4gdH1mdW5jdGlvbiBhKGUpe3ZhciB0PW8oZSksbj1zLmJpbmQobnVsbCxlLHQpO3JldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkobixcIm5hbWVcIix7dmFsdWU6ZX0pfWZ1bmN0aW9uIHModCxuLHIpe2Z1bmN0aW9uIG8oZSx0LG4pe3ZhciByPSgwLHYuZGVmYXVsdCkobiksaT1mdW5jdGlvbihlKXtuPT09RCYmQy5vblBsYXliYWNrUmVxdWVzdEZhaWx1cmUmJkMub25QbGF5YmFja1JlcXVlc3RGYWlsdXJlKFIsZSkmJkEmJnkoKX07KDAsUy5kZWZhdWx0KSh7dXJsOihlfHxyLmhvc3QpK1wiL2FwaS92Mi9wbGF5YmFjay92aWRlby9cIityLm1vaWQsaGVhZGVyczp7YXV0aDp0fSxvblN1Y2Nlc3M6ZnVuY3Rpb24oZSl7aWYobj09PUQpe3ZhciB0PWUucGxheWJhY2tWaWRlbztDLm9uUGxheWJhY2tSZXF1ZXN0U3VjY2VzcyYmQy5vblBsYXliYWNrUmVxdWVzdFN1Y2Nlc3MoUix0KSxhKHQpfX0sb25GYWlsdXJlOmksb25FcnJvcjppfSl9ZnVuY3Rpb24gYShlKXtqPWUscyhlKX1mdW5jdGlvbiBzKGUpe3ZhciB0PWZ1bmN0aW9uKHQsbil7aWYoZS51cm49PT1EKWlmKHQuaXNJbnN0YWxsZWQoKSl7Ui5hZ2VudD10O3ZhciByPXtwcm92aXNpb25lZEZvckN1cnJlbnRVcm46KDAsaC5kZWZhdWx0KSh0LmdldE5hbWVzcGFjZSgpLGUudXJuKSxub3RCbGFja2VkT3V0OiF0LmdldEluQmxhY2tvdXQoKX0saT0hT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMocikucmVkdWNlKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUmJnJbdF19LCEwKTtpZihpKXJldHVybiBDLm9uQWdlbnRSZWplY3RlZCYmQy5vbkFnZW50UmVqZWN0ZWQoUixyKSx2b2lkIHkoZSk7aWYoQy5vbkFnZW50RGV0ZWN0ZWQpe3ZhciBvPSEhdC5nZXRLVG9rZW4oKTtDLm9uQWdlbnREZXRlY3RlZChSLG8sdCl9bChlKX1lbHNlIEMub25BZ2VudE5vdERldGVjdGVkJiZDLm9uQWdlbnROb3REZXRlY3RlZChSLG4pLHkoZSl9O0Y9dShlKSx4PW5ldyBiLmRlZmF1bHQoe2hvc3RIdHRwOmUuY2xpZW50SG9zdCxwb3J0SHR0cDplLmNsaWVudFBvcnRIdHRwLHBvcnRSdG1wOmUuY2xpZW50UG9ydFJ0bXAscG9ydEh0dHBzOmUuY2xpZW50UG9ydEh0dHBzLHRpbWVvdXQ6TSxmbGFzaFRpbWVvdXQ6TixmbGFzaExvYWRlclVybDpPLGFnZW50UmVxdWVzdE1vZGU6XyxldmVudExvZ2dlcjpGJiZGLmxvZ2dlcixjYWxsYmFjazp0fSksRiYmRi5zZXRBZ2VudCh4KX1mdW5jdGlvbiB1KGUpe2lmKEUmJlIucGxheWVyKXt2YXIgcj1QfHwoMCx2LmRlZmF1bHQpKGUudXJuKS5ob3N0O3JldHVybiBuZXcgdy5kZWZhdWx0KFIucGxheWVyLHQsbixlLEUscixJKX19ZnVuY3Rpb24gbChlKXtpZihSLmFnZW50KXt2YXIgdD1mdW5jdGlvbih0KXtpZihlLnVybj09PUQpe3ZhciBuPXQmJnQuc3VjY2Vzcz9DLm9uU2Vzc2lvblN0YXJ0OkMub25TZXNzaW9uRmFpbHVyZTtuJiZuKFIpLG0oZSl9fTtSLmFnZW50LnNldFNlc3Npb25EYXRhKHtyZWFsbUlkOmUucmVhbG1JZCxyZWFsbVRpY2tldDplLnJlYWxtVGlja2V0LG5vUHJlcm9sbDohMH0sdCl9fWZ1bmN0aW9uIGcoZSl7dmFyIHQ9ISFSLmFnZW50LmdldEtUb2tlbigpLG49aShlKSxyPXQ/dm9pZCAwOntub1ByZXJvbGw6ITB9LG89Ui5hZ2VudC5nZXRTdHJlYW1VcmwobixlLnVybixyKTtyZXR1cm4gMD09PW8ubGVuZ3RoPyhjb25zb2xlLmxvZyhcIkNhbm5vdCBwbGF5IHN0cmVhbSBvZiB0eXBlIFwiK24pLG51bGwpOm99ZnVuY3Rpb24gcChlKXt2YXIgdD1pKGUpO1IuYWdlbnQucHJlZmV0Y2hTdHJlYW0odCxlLnVybixudWxsLGZ1bmN0aW9uKHQpe2lmKFIuYWdlbnQmJmUudXJuPT09RCl7aWYodC5lcnJvcil7aWYoIXQucmVhc29ucy5yZWR1Y2UoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSYmKFwidGltZW91dFwiPT09dC50eXBlfHx0LnN0YXR1cz49NDAwJiZ0LnN0YXR1czw1MDApfSwhMCkpcmV0dXJuIHZvaWQoQy5vblByaW1pbmdGYWlsdXJlJiZDLm9uUHJpbWluZ0ZhaWx1cmUoUikpfUMub25QcmltaW5nU3RhcnQmJkMub25QcmltaW5nU3RhcnQoUiksUi5hZ2VudC5zdGFydExvbmdwb2xsKGZ1bmN0aW9uKHQsbil7XCJzdHJpbmdcIj09PXR5cGVvZiB0JiZlLnVybj09PUQmJihcIm1hbmlmZXN0UHJvZ3Jlc3NcIj09PXQ/KEMub25Qcm9ncmVzcyYmQy5vblByb2dyZXNzKFIsbi5wcm9ncmVzcyxlLnVybiksbi5yZWFkeSYmVChlLGcoZSksITApKTpDLm9uQ29tbWFuZCYmQy5vbkNvbW1hbmQoUix0LG4pKX0pfX0pfWZ1bmN0aW9uIG0oZSl7KDAsZi5kZWZhdWx0KShSLmdldEFnZW50RGF0YSgpLnZlcnNpb24sXCIxMC4wXCIpPj0wP3AoZSk6VChlLGcoZSksITApfWZ1bmN0aW9uIHkoZSl7dmFyIHQ9QXx8ZS5tZWRpYUNkblVybDtpZighdCYmZS5zZG5EYXRhKXt2YXIgbj1lLnNkbkRhdGE7bi5sZW5ndGgmJm4ubGVuZ3RoPjAmJihuPW5bMF0pLG4mJm4ubWVkaWFDZG5VcmwmJih0PW4ubWVkaWFDZG5VcmwpfVQoZSx0LCExKX1mdW5jdGlvbiBUKGUsdCxuKXt2YXIgcj0hbiYmQSYmTCxvPXI/TDpkLk1JTUVfVFlQRVNbaShlKV07aWYoIWt8fCF0fHwhb3x8IVIucGxheWVyKXJldHVybiB2b2lkIGNvbnNvbGUubG9nKFwiQ2Fubm90IHBsYXkgc291cmNlOiBcIit0KTtDLndpbGxTZXRTb3VyY2UmJkMud2lsbFNldFNvdXJjZShSKSxrKFIucGxheWVyLHQsbyxuKSxGJiZGLnNhdmVTdGF0ZSgpLEMuZGlkU2V0U291cmNlJiZDLmRpZFNldFNvdXJjZShSKX12YXIgRSxQLF8sQSxMLE8sTixJLE0sayxSPXRoaXM7dGhpcy5wbGF5ZXI9bnVsbCx0aGlzLmFnZW50PW51bGw7dmFyIEQsQyxGLHgsajtyZXR1cm4gdGhpcy5jb25maWd1cmU9ZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24odCxuKXtyZXR1cm4gdm9pZCAwPT09ZVt0XT9uOmVbdF19LG49UCxyPUU7UD10KFwiaG9zdFwiLG4pLEU9dChcImF1dGhcIixyKTt2YXIgaT0hIUQmJihQIT1ufHxFIT1yKTtfPXQoXCJhZ2VudFJlcXVlc3RNb2RlXCIsXyl8fGQuQWdlbnRSZXF1ZXN0TW9kZS5Ob0ZsYXNoLEE9dChcImZhbGxiYWNrU3JjXCIsQSksTD10KFwiZmFsbGJhY2tUeXBlXCIsTCksTz10KFwiZmxhc2hMb2FkZXJVcmxcIixPKSxOPXQoXCJmbGFzaFRpbWVvdXRcIixOKSxJPXQoXCJyZXBvcnRJbnRlcnZhbFwiLEkpLE09dChcInRpbWVvdXRcIixNKSxGJiZGLnNldFJlcG9ydEludGVydmFsKEkpLGkmJnRoaXMuc3RvcCgpfS5iaW5kKHRoaXMpLHRoaXMucGxheT1mdW5jdGlvbihlLHQscil7aWYoXCJmdW5jdGlvblwiIT09dHlwZW9mKGs9ci5zZXRTb3VyY2V8fG4uc2V0U291cmNlKSl0aHJvd1wiTWlzc2luZyBzZXRTb3VyY2UgY2FsbGJhY2s6IHJlcXVyaWVkIHdoZW4gdGhlIHBsYXllciBpbnRlcmZhY2UgbGFja3MgYW4gaW1wbGVtZW50YXRpb25cIjt2YXIgaSxzO2lmKFwic3RyaW5nXCI9PT10eXBlb2YgdD9pPXQ6XCJvYmplY3RcIj09PShcInVuZGVmaW5lZFwiPT09dHlwZW9mIHQ/XCJ1bmRlZmluZWRcIjpjKHQpKSYmKHM9dC5wbGF5YmFja1ZpZGVvfHx0LGk9cy51cm4pLGkpe2lmKEQmJkQhPT1pKXJldHVybiB2b2lkIHRoaXMuc3RvcChmdW5jdGlvbigpe3RoaXMucGxheShlLHQscil9LmJpbmQodGhpcykpO0Q9aSxDPXIsdGhpcy5wbGF5ZXI9ZSxzP2Eocyk6byhQLEUsaSl9fS5iaW5kKHRoaXMpLHRoaXMuc3RvcD1mdW5jdGlvbihlKXtpZighRHx8IXRoaXMuYWdlbnQpcmV0dXJuIHZvaWQoZSYmZSgpKTtEPW51bGwsQz1udWxsLEYuZGlzY29ubmVjdCgpLEY9bnVsbCx0aGlzLnBsYXllcj1udWxsLHRoaXMuYWdlbnQuc3RvcFN0cmVhbShqLnVybixlKSx0aGlzLmFnZW50LnN0b3BMb25ncG9sbCgpLGo9bnVsbCx0aGlzLmFnZW50PW51bGx9LmJpbmQodGhpcyksdGhpcy5nZXRBZ2VudERhdGE9ZnVuY3Rpb24oKXtyZXR1cm4gZS5hZ2VudERhdGF9LHRoaXMuZ2V0TG9ncz1mdW5jdGlvbigpe3JldHVybiBlLmFnZW50TG9nc30sdGhpcy5mbHVzaExvZ3M9ZnVuY3Rpb24oKXtyZXR1cm4gZS5hZ2VudExvZ3M9XCJcIixlLmFnZW50TG9nc30sZnVuY3Rpb24oKXtyZXR1cm4gciYmUi5jb25maWd1cmUociksUn0oKX1mdW5jdGlvbiB1KGUsdCl7UC5kZWZhdWx0W2VdPU9iamVjdC5hc3NpZ24oUC5kZWZhdWx0W2VdfHx7fSx0KSxMW2VdPWEoZSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5Lb2xsZWN0aXZlQWdlbnQ9dC5BZ2VudFJlcXVlc3RNb2RlPXQuY3JlYXRlUHVibGljVG9rZW49dC5pbnN0YWxsUGxheWVyUGx1Z2luPXQuUGxheWVycz10LiRnPXZvaWQgMDt2YXIgYz1cImZ1bmN0aW9uXCI9PT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBlfSxsPW4oNiksZj1yKGwpLGQ9bigxKSxnPW4oMTgpLGg9cihnKSxwPW4oMTkpLG09cihwKSx5PW4oOCksdj1yKHkpLFQ9bigzKSxTPXIoVCksRT1uKDI1KSxQPXIoRSksXz1uKDI2KSxiPXIoXyksQT1uKDI3KSx3PXIoQSk7Y29uc29sZS5sb2coXCJLb2xsZWN0aXZlIFNESyB2XCIrZS52ZXJzaW9uKTt2YXIgTD17fTtmb3IodmFyIE8gaW4gUC5kZWZhdWx0KVAuZGVmYXVsdC5oYXNPd25Qcm9wZXJ0eShPKSYmdShPLFAuZGVmYXVsdFtPXSk7dC4kZz1lLHQuUGxheWVycz1MLHQuaW5zdGFsbFBsYXllclBsdWdpbj11LHQuY3JlYXRlUHVibGljVG9rZW49bS5kZWZhdWx0LHQuQWdlbnRSZXF1ZXN0TW9kZT1kLkFnZW50UmVxdWVzdE1vZGUsdC5Lb2xsZWN0aXZlQWdlbnQ9Yi5kZWZhdWx0fSkuY2FsbCh0LG4oMikpfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PWZ1bmN0aW9uKGUsdCl7dmFyIG49KHR8fFwiXCIpLnNwbGl0KFwiOlwiKSxyPW4uaW5kZXhPZihcIm1vaWRcIik7aWYocjwwKXJldHVybiExO3ZhciBpPW4uc2xpY2UoMCxyKS5qb2luKFwiOlwiKStcIjpcIjtyZXR1cm4oZXx8XCJcIikuc3BsaXQoXCIsXCIpLmZpbHRlcihCb29sZWFuKS5yZWR1Y2UoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZXx8MD09PWkuaW5kZXhPZih0KX0sITEpfX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD1mdW5jdGlvbihlLHQpe3ZhciBuPXQ7cmV0dXJuIHQuaW5kZXhPZihcIjpcIik+PTAmJihuPSgwLG8uZGVmYXVsdCkodCkuY29tcGFueSksXCJwdWItXCIrci5CYXNlNjQuZW5jb2RlKGUrXCIjXCIrbil9O3ZhciByPW4oNyksaT1uKDgpLG89ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fShpKX0sZnVuY3Rpb24oZSx0KXtpZihcInVuZGVmaW5lZFwiPT09dHlwZW9mIEJ1ZmZlcil7dmFyIG49bmV3IEVycm9yKCdDYW5ub3QgZmluZCBtb2R1bGUgXCJCdWZmZXJcIicpO3Rocm93IG4uY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixufWUuZXhwb3J0cz1CdWZmZXJ9LGZ1bmN0aW9uKGUsdCxuKXsoZnVuY3Rpb24oZSl7ZnVuY3Rpb24gcihlLHQpe3RoaXMuX2lkPWUsdGhpcy5fY2xlYXJGbj10fXZhciBpPVwidW5kZWZpbmVkXCIhPT10eXBlb2YgZSYmZXx8XCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBzZWxmJiZzZWxmfHx3aW5kb3csbz1GdW5jdGlvbi5wcm90b3R5cGUuYXBwbHk7dC5zZXRUaW1lb3V0PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKG8uY2FsbChzZXRUaW1lb3V0LGksYXJndW1lbnRzKSxjbGVhclRpbWVvdXQpfSx0LnNldEludGVydmFsPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKG8uY2FsbChzZXRJbnRlcnZhbCxpLGFyZ3VtZW50cyksY2xlYXJJbnRlcnZhbCl9LHQuY2xlYXJUaW1lb3V0PXQuY2xlYXJJbnRlcnZhbD1mdW5jdGlvbihlKXtlJiZlLmNsb3NlKCl9LHIucHJvdG90eXBlLnVucmVmPXIucHJvdG90eXBlLnJlZj1mdW5jdGlvbigpe30sci5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oKXt0aGlzLl9jbGVhckZuLmNhbGwoaSx0aGlzLl9pZCl9LHQuZW5yb2xsPWZ1bmN0aW9uKGUsdCl7Y2xlYXJUaW1lb3V0KGUuX2lkbGVUaW1lb3V0SWQpLGUuX2lkbGVUaW1lb3V0PXR9LHQudW5lbnJvbGw9ZnVuY3Rpb24oZSl7Y2xlYXJUaW1lb3V0KGUuX2lkbGVUaW1lb3V0SWQpLGUuX2lkbGVUaW1lb3V0PS0xfSx0Ll91bnJlZkFjdGl2ZT10LmFjdGl2ZT1mdW5jdGlvbihlKXtjbGVhclRpbWVvdXQoZS5faWRsZVRpbWVvdXRJZCk7dmFyIHQ9ZS5faWRsZVRpbWVvdXQ7dD49MCYmKGUuX2lkbGVUaW1lb3V0SWQ9c2V0VGltZW91dChmdW5jdGlvbigpe2UuX29uVGltZW91dCYmZS5fb25UaW1lb3V0KCl9LHQpKX0sbigyMiksdC5zZXRJbW1lZGlhdGU9XCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBzZWxmJiZzZWxmLnNldEltbWVkaWF0ZXx8XCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBlJiZlLnNldEltbWVkaWF0ZXx8dGhpcyYmdGhpcy5zZXRJbW1lZGlhdGUsdC5jbGVhckltbWVkaWF0ZT1cInVuZGVmaW5lZFwiIT09dHlwZW9mIHNlbGYmJnNlbGYuY2xlYXJJbW1lZGlhdGV8fFwidW5kZWZpbmVkXCIhPT10eXBlb2YgZSYmZS5jbGVhckltbWVkaWF0ZXx8dGhpcyYmdGhpcy5jbGVhckltbWVkaWF0ZX0pLmNhbGwodCxuKDApKX0sZnVuY3Rpb24oZSx0LG4peyhmdW5jdGlvbihlLHQpeyFmdW5jdGlvbihlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIoZSl7XCJmdW5jdGlvblwiIT09dHlwZW9mIGUmJihlPW5ldyBGdW5jdGlvbihcIlwiK2UpKTtmb3IodmFyIHQ9bmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgtMSksbj0wO248dC5sZW5ndGg7bisrKXRbbl09YXJndW1lbnRzW24rMV07dmFyIHI9e2NhbGxiYWNrOmUsYXJnczp0fTtyZXR1cm4gY1t1XT1yLHModSksdSsrfWZ1bmN0aW9uIGkoZSl7ZGVsZXRlIGNbZV19ZnVuY3Rpb24gbyhlKXt2YXIgdD1lLmNhbGxiYWNrLHI9ZS5hcmdzO3N3aXRjaChyLmxlbmd0aCl7Y2FzZSAwOnQoKTticmVhaztjYXNlIDE6dChyWzBdKTticmVhaztjYXNlIDI6dChyWzBdLHJbMV0pO2JyZWFrO2Nhc2UgMzp0KHJbMF0sclsxXSxyWzJdKTticmVhaztkZWZhdWx0OnQuYXBwbHkobixyKX19ZnVuY3Rpb24gYShlKXtpZihsKXNldFRpbWVvdXQoYSwwLGUpO2Vsc2V7dmFyIHQ9Y1tlXTtpZih0KXtsPSEwO3RyeXtvKHQpfWZpbmFsbHl7aShlKSxsPSExfX19fWlmKCFlLnNldEltbWVkaWF0ZSl7dmFyIHMsdT0xLGM9e30sbD0hMSxmPWUuZG9jdW1lbnQsZD1PYmplY3QuZ2V0UHJvdG90eXBlT2YmJk9iamVjdC5nZXRQcm90b3R5cGVPZihlKTtkPWQmJmQuc2V0VGltZW91dD9kOmUsXCJbb2JqZWN0IHByb2Nlc3NdXCI9PT17fS50b1N0cmluZy5jYWxsKGUucHJvY2Vzcyk/ZnVuY3Rpb24oKXtzPWZ1bmN0aW9uKGUpe3QubmV4dFRpY2soZnVuY3Rpb24oKXthKGUpfSl9fSgpOmZ1bmN0aW9uKCl7aWYoZS5wb3N0TWVzc2FnZSYmIWUuaW1wb3J0U2NyaXB0cyl7dmFyIHQ9ITAsbj1lLm9ubWVzc2FnZTtyZXR1cm4gZS5vbm1lc3NhZ2U9ZnVuY3Rpb24oKXt0PSExfSxlLnBvc3RNZXNzYWdlKFwiXCIsXCIqXCIpLGUub25tZXNzYWdlPW4sdH19KCk/ZnVuY3Rpb24oKXt2YXIgdD1cInNldEltbWVkaWF0ZSRcIitNYXRoLnJhbmRvbSgpK1wiJFwiLG49ZnVuY3Rpb24obil7bi5zb3VyY2U9PT1lJiZcInN0cmluZ1wiPT09dHlwZW9mIG4uZGF0YSYmMD09PW4uZGF0YS5pbmRleE9mKHQpJiZhKCtuLmRhdGEuc2xpY2UodC5sZW5ndGgpKX07ZS5hZGRFdmVudExpc3RlbmVyP2UuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIixuLCExKTplLmF0dGFjaEV2ZW50KFwib25tZXNzYWdlXCIsbikscz1mdW5jdGlvbihuKXtlLnBvc3RNZXNzYWdlKHQrbixcIipcIil9fSgpOmUuTWVzc2FnZUNoYW5uZWw/ZnVuY3Rpb24oKXt2YXIgZT1uZXcgTWVzc2FnZUNoYW5uZWw7ZS5wb3J0MS5vbm1lc3NhZ2U9ZnVuY3Rpb24oZSl7YShlLmRhdGEpfSxzPWZ1bmN0aW9uKHQpe2UucG9ydDIucG9zdE1lc3NhZ2UodCl9fSgpOmYmJlwib25yZWFkeXN0YXRlY2hhbmdlXCJpbiBmLmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik/ZnVuY3Rpb24oKXt2YXIgZT1mLmRvY3VtZW50RWxlbWVudDtzPWZ1bmN0aW9uKHQpe3ZhciBuPWYuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtuLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe2EodCksbi5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbCxlLnJlbW92ZUNoaWxkKG4pLG49bnVsbH0sZS5hcHBlbmRDaGlsZChuKX19KCk6ZnVuY3Rpb24oKXtzPWZ1bmN0aW9uKGUpe3NldFRpbWVvdXQoYSwwLGUpfX0oKSxkLnNldEltbWVkaWF0ZT1yLGQuY2xlYXJJbW1lZGlhdGU9aX19KFwidW5kZWZpbmVkXCI9PT10eXBlb2Ygc2VsZj9cInVuZGVmaW5lZFwiPT09dHlwZW9mIGU/dGhpczplOnNlbGYpfSkuY2FsbCh0LG4oMCksbigyMykpfSxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIG4oKXt0aHJvdyBuZXcgRXJyb3IoXCJzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkXCIpfWZ1bmN0aW9uIHIoKXt0aHJvdyBuZXcgRXJyb3IoXCJjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWRcIil9ZnVuY3Rpb24gaShlKXtpZihsPT09c2V0VGltZW91dClyZXR1cm4gc2V0VGltZW91dChlLDApO2lmKChsPT09bnx8IWwpJiZzZXRUaW1lb3V0KXJldHVybiBsPXNldFRpbWVvdXQsc2V0VGltZW91dChlLDApO3RyeXtyZXR1cm4gbChlLDApfWNhdGNoKHQpe3RyeXtyZXR1cm4gbC5jYWxsKG51bGwsZSwwKX1jYXRjaCh0KXtyZXR1cm4gbC5jYWxsKHRoaXMsZSwwKX19fWZ1bmN0aW9uIG8oZSl7aWYoZj09PWNsZWFyVGltZW91dClyZXR1cm4gY2xlYXJUaW1lb3V0KGUpO2lmKChmPT09cnx8IWYpJiZjbGVhclRpbWVvdXQpcmV0dXJuIGY9Y2xlYXJUaW1lb3V0LGNsZWFyVGltZW91dChlKTt0cnl7cmV0dXJuIGYoZSl9Y2F0Y2godCl7dHJ5e3JldHVybiBmLmNhbGwobnVsbCxlKX1jYXRjaCh0KXtyZXR1cm4gZi5jYWxsKHRoaXMsZSl9fX1mdW5jdGlvbiBhKCl7cCYmZyYmKHA9ITEsZy5sZW5ndGg/aD1nLmNvbmNhdChoKTptPS0xLGgubGVuZ3RoJiZzKCkpfWZ1bmN0aW9uIHMoKXtpZighcCl7dmFyIGU9aShhKTtwPSEwO2Zvcih2YXIgdD1oLmxlbmd0aDt0Oyl7Zm9yKGc9aCxoPVtdOysrbTx0OylnJiZnW21dLnJ1bigpO209LTEsdD1oLmxlbmd0aH1nPW51bGwscD0hMSxvKGUpfX1mdW5jdGlvbiB1KGUsdCl7dGhpcy5mdW49ZSx0aGlzLmFycmF5PXR9ZnVuY3Rpb24gYygpe312YXIgbCxmLGQ9ZS5leHBvcnRzPXt9OyFmdW5jdGlvbigpe3RyeXtsPVwiZnVuY3Rpb25cIj09PXR5cGVvZiBzZXRUaW1lb3V0P3NldFRpbWVvdXQ6bn1jYXRjaChlKXtsPW59dHJ5e2Y9XCJmdW5jdGlvblwiPT09dHlwZW9mIGNsZWFyVGltZW91dD9jbGVhclRpbWVvdXQ6cn1jYXRjaChlKXtmPXJ9fSgpO3ZhciBnLGg9W10scD0hMSxtPS0xO2QubmV4dFRpY2s9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgtMSk7aWYoYXJndW1lbnRzLmxlbmd0aD4xKWZvcih2YXIgbj0xO248YXJndW1lbnRzLmxlbmd0aDtuKyspdFtuLTFdPWFyZ3VtZW50c1tuXTtoLnB1c2gobmV3IHUoZSx0KSksMSE9PWgubGVuZ3RofHxwfHxpKHMpfSx1LnByb3RvdHlwZS5ydW49ZnVuY3Rpb24oKXt0aGlzLmZ1bi5hcHBseShudWxsLHRoaXMuYXJyYXkpfSxkLnRpdGxlPVwiYnJvd3NlclwiLGQuYnJvd3Nlcj0hMCxkLmVudj17fSxkLmFyZ3Y9W10sZC52ZXJzaW9uPVwiXCIsZC52ZXJzaW9ucz17fSxkLm9uPWMsZC5hZGRMaXN0ZW5lcj1jLGQub25jZT1jLGQub2ZmPWMsZC5yZW1vdmVMaXN0ZW5lcj1jLGQucmVtb3ZlQWxsTGlzdGVuZXJzPWMsZC5lbWl0PWMsZC5wcmVwZW5kTGlzdGVuZXI9YyxkLnByZXBlbmRPbmNlTGlzdGVuZXI9YyxkLmxpc3RlbmVycz1mdW5jdGlvbihlKXtyZXR1cm5bXX0sZC5iaW5kaW5nPWZ1bmN0aW9uKGUpe3Rocm93IG5ldyBFcnJvcihcInByb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkXCIpfSxkLmN3ZD1mdW5jdGlvbigpe3JldHVyblwiL1wifSxkLmNoZGlyPWZ1bmN0aW9uKGUpe3Rocm93IG5ldyBFcnJvcihcInByb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZFwiKX0sZC51bWFzaz1mdW5jdGlvbigpe3JldHVybiAwfX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIoZSl7cmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChlLnJlcGxhY2UoL1xcKy9nLFwiIFwiKSl9ZnVuY3Rpb24gaShlKXtmb3IodmFyIHQsbj0vKFtePT8mXSspPT8oW14mXSopL2csaT17fTt0PW4uZXhlYyhlKTspe3ZhciBvPXIodFsxXSksYT1yKHRbMl0pO28gaW4gaXx8KGlbb109YSl9cmV0dXJuIGl9ZnVuY3Rpb24gbyhlLHQpe3Q9dHx8XCJcIjt2YXIgbj1bXTtcInN0cmluZ1wiIT09dHlwZW9mIHQmJih0PVwiP1wiKTtmb3IodmFyIHIgaW4gZSlhLmNhbGwoZSxyKSYmbi5wdXNoKGVuY29kZVVSSUNvbXBvbmVudChyKStcIj1cIitlbmNvZGVVUklDb21wb25lbnQoZVtyXSkpO3JldHVybiBuLmxlbmd0aD90K24uam9pbihcIiZcIik6XCJcIn12YXIgYT1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O3Quc3RyaW5naWZ5PW8sdC5wYXJzZT1pfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcihlLHQsbil7cmV0dXJuIHQgaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHt2YWx1ZTpuLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVt0XT1uLGV9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGk9bigxKTt0LmRlZmF1bHQ9e0FtcDp7aXNQbGF5aW5nOmZ1bmN0aW9uKGUpe3JldHVybiEoZS5zZWVraW5nfHxlLnBhdXNlZHx8ZS5lbmRlZCl9LGlzTGl2ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5pc0xpdmUoKX0sZ2V0UGxheWVyUG9zaXRpb246ZnVuY3Rpb24oZSl7cmV0dXJuIDFlMyplLmN1cnJlbnRUaW1lfSxnZXRQbGF5ZXJEdXJhdGlvbjpmdW5jdGlvbihlKXtyZXR1cm4gMWUzKmUuZHVyYXRpb259LHNldEV2ZW50SGFuZGxlcnM6ZnVuY3Rpb24oZSx0KXt2YXIgbj13aW5kb3cuYW1wLmV2ZW50TmFtZTtlLmFkZEV2ZW50TGlzdGVuZXIobi50aW1ldXBkYXRlLHQub25UaW1lVXBkYXRlKSxlLmFkZEV2ZW50TGlzdGVuZXIobi5lcnJvcix0Lm9uRXJyb3IpLGUuYWRkRXZlbnRMaXN0ZW5lcihuLnBhdXNlLHQub25QYXVzZSksZS5hZGRFdmVudExpc3RlbmVyKG4ucGxheSx0Lm9uUGxheSksZS5hZGRFdmVudExpc3RlbmVyKG4uZW5kZWQsdC5vbkVuZCksZS5hZGRFdmVudExpc3RlbmVyKG4uc2Vla2VkLHQub25TZWVrRW5kKSxlLmFkZEV2ZW50TGlzdGVuZXIobi53YWl0aW5nLHQub25CdWZmZXJpbmcpLGUuYWRkRXZlbnRMaXN0ZW5lcihuLmNhbnBsYXl0aHJvdWdoLHQub25DYW5QbGF5KX0sc2V0U291cmNlOmZ1bmN0aW9uKGUsdCxuKXtlLnNyYyhbe3NyYzp0LHR5cGU6bn1dKX19LEJpdG1vdmluOntpc1BsYXlpbmc6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuaXNQbGF5aW5nKCl9LGlzTGl2ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5pc0xpdmUoKX0sZ2V0UGxheWVyUG9zaXRpb246ZnVuY3Rpb24oZSl7cmV0dXJuIDFlMyplLmdldEN1cnJlbnRUaW1lKCl9LGdldFBsYXllckR1cmF0aW9uOmZ1bmN0aW9uKGUpe3JldHVybiAxZTMqZS5nZXREdXJhdGlvbigpfSxzZXRFdmVudEhhbmRsZXJzOmZ1bmN0aW9uKGUsdCl7dmFyIG49ZS5FVkVOVHx8d2luZG93LmJpdG1vdmluLnBsYXllci5QbGF5ZXJFdmVudCxyPWUuRVZFTlQ/XCJhZGRFdmVudEhhbmRsZXJcIjpcIm9uXCI7ZVtyXShuLk9OX1RJTUVfQ0hBTkdFRHx8bi5UaW1lQ2hhbmdlZCx0Lm9uVGltZVVwZGF0ZSksZVtyXShuLk9OX0VSUk9SfHxuLkVycm9yLHQub25FcnJvciksZVtyXShuLk9OX1BBVVNFRHx8bi5QYXVzZWQsdC5vblBhdXNlKSxlW3JdKG4uT05fUExBWXx8bi5QbGF5LHQub25QbGF5KSxlW3JdKG4uT05fUExBWUJBQ0tfRklOSVNIRUR8fG4uUGxheWJhY2tGaW5pc2hlZCx0Lm9uRW5kKSxlW3JdKG4uT05fU0VFS0VEfHxuLlNlZWtlZCx0Lm9uU2Vla0VuZCksZVtyXShuLk9OX1RJTUVfU0hJRlRFRHx8bi5UaW1lU2hpZnRlZCx0Lm9uU2Vla0VuZCksZVtyXShuLk9OX1NUQUxMX1NUQVJURUR8fG4uU3RhbGxTdGFydGVkLHQub25CdWZmZXJpbmcpLGVbcl0obi5PTl9TVEFMTF9FTkRFRHx8bi5TdGFsbEVuZGVkLHQub25DYW5QbGF5KX0sc2V0U291cmNlOmZ1bmN0aW9uKGUsdCxuKXt2YXIgbz1mdW5jdGlvbigpe3N3aXRjaChuKXtjYXNlIGkuTUlNRV9UWVBFUy5EQVNIOnJldHVyblwiZGFzaFwiO2RlZmF1bHQ6cmV0dXJuXCJobHNcIn19KCk7ZS5sb2FkKHIoe30sbyx0KSkudGhlbihmdW5jdGlvbigpe3JldHVybiBlLnBsYXkoKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe2NvbnNvbGUubG9nKFwiQml0bW92aW4gcGxheWVyIGxvYWQgZXJyb3I6IFwiK2UpfSl9fSxEYXNoanM6e2lzUGxheWluZzpmdW5jdGlvbihlKXtyZXR1cm4hKGUuaXNTZWVraW5nfHxlLmlzUGF1c2VkKX0saXNMaXZlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmlzRHluYW1pYygpfSxnZXRQbGF5ZXJQb3NpdGlvbjpmdW5jdGlvbihlKXtyZXR1cm4gMWUzKmUudGltZSgpfSxnZXRQbGF5ZXJEdXJhdGlvbjpmdW5jdGlvbihlKXtyZXR1cm4gMWUzKmUuZHVyYXRpb24oKX0sc2V0RXZlbnRIYW5kbGVyczpmdW5jdGlvbihlLHQpe3ZhciBuPXdpbmRvdy5kYXNoanMuTWVkaWFQbGF5ZXIuZXZlbnRzO2Uub24obi5QTEFZQkFDS19USU1FX1VQREFURUQsdC5vblRpbWVVcGRhdGUsdGhpcyksZS5vbihuLkVSUk9SLHQub25FcnJvcix0aGlzKSxlLm9uKG4uUExBWUJBQ0tfUEFVU0VELHQub25QYXVzZSx0aGlzKSxlLm9uKG4uUExBWUJBQ0tfUExBWUlORyx0Lm9uUGxheSx0aGlzKSxlLm9uKG4uUExBWUJBQ0tfRU5ERUQsdC5vbkVuZCx0aGlzKSxlLm9uKG4uUExBWUJBQ0tfU0VFS0VELHQub25TZWVrRW5kLHRoaXMpLGUub24obi5CVUZGRVJfRU1QVFksdC5vbkJ1ZmZlcmluZyx0aGlzKSxlLm9uKG4uQ0FOX1BMQVksdC5vbkNhblBsYXksdGhpcyl9LHNldFNvdXJjZTpmdW5jdGlvbihlLHQpe2Uuc2V0QXV0b1BsYXkoITApLGUuYXR0YWNoU291cmNlKHQpfX0sRmxvdzp7aXNQbGF5aW5nOmZ1bmN0aW9uKGUpe3JldHVybiBlLnBsYXlpbmd9LGlzTGl2ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5saXZlfSxnZXRQbGF5ZXJQb3NpdGlvbjpmdW5jdGlvbihlKXtyZXR1cm4gZS5yZWFkeT8xZTMqZS52aWRlby50aW1lOjB9LGdldFBsYXllckR1cmF0aW9uOmZ1bmN0aW9uKGUpe3JldHVybiBlLnJlYWR5PzFlMyplLnZpZGVvLmR1cmF0aW9uOjB9LHNldEV2ZW50SGFuZGxlcnM6ZnVuY3Rpb24oZSx0KXtlLm9uKFwicHJvZ3Jlc3NcIix0Lm9uVGltZVVwZGF0ZSksZS5vbihcImVycm9yXCIsdC5vbkVycm9yKSxlLm9uKFwicGF1c2VcIix0Lm9uUGF1c2UpLGUub24oXCJyZWFkeVwiLHQub25QbGF5KSxlLm9uKFwicmVzdW1lXCIsdC5vblBsYXkpLGUub24oXCJmaW5pc2hcIix0Lm9uRW5kKSxlLm9uKFwic2Vla1wiLHQub25TZWVrRW5kKSxlLm9uKFwiYnVmZmVyXCIsZnVuY3Rpb24oKXtlLnZpZGVvLmJ1ZmZlcj5lLnZpZGVvLnRpbWU/dC5vbkNhblBsYXkoKTp0Lm9uQnVmZmVyaW5nKCl9KX0sc2V0U291cmNlOmZ1bmN0aW9uKGUsdCxuKXtlLmxvYWQoe3NvdXJjZXM6W3tzcmM6dCx0eXBlOm59XX0pfX0sSndwbGF5ZXI6e2lzUGxheWluZzpmdW5jdGlvbihlKXtyZXR1cm5cInBsYXlpbmdcIj09PWUuZ2V0U3RhdGUoKX0saXNMaXZlOmZ1bmN0aW9uKGUpe3JldHVybiFpc0Zpbml0ZShlLmR1cmF0aW9uKCkpfSxnZXRQbGF5ZXJQb3NpdGlvbjpmdW5jdGlvbihlKXtyZXR1cm4gMWUzKmUuZ2V0UG9zaXRpb24oKX0sZ2V0UGxheWVyRHVyYXRpb246ZnVuY3Rpb24oZSl7cmV0dXJuIDFlMyplLmdldER1cmF0aW9uKCl9LHNldEV2ZW50SGFuZGxlcnM6ZnVuY3Rpb24oZSx0KXtlLm9uKFwidGltZVwiLHQub25UaW1lVXBkYXRlKSxlLm9uKFwiZXJyb3JcIix0Lm9uRXJyb3IpLGUub24oXCJwYXVzZVwiLHQub25QYXVzZSksZS5vbihcInBsYXlcIixmdW5jdGlvbihlKXtcImJ1ZmZlcmluZ1wiPT09ZS5vbGRzdGF0ZSYmdC5vbkNhblBsYXkoKSx0Lm9uUGxheSgpfSksZS5vbihcImNvbXBsZXRlXCIsdC5vbkVuZCksZS5vbihcInNlZWtlZFwiLHQub25TZWVrRW5kKSxlLm9uKFwiYnVmZmVyXCIsdC5vbkJ1ZmZlcmluZyksZS5vbihcImJ1ZmZlckNoYW5nZVwiLGZ1bmN0aW9uKG4pezEwMD09PW4uYnVmZmVyUGVyY2VudCYmXCJwbGF5aW5nXCIhPT1lLmdldFN0YXRlKCkmJnQub25DYW5QbGF5KCl9KX0sc2V0U291cmNlOmZ1bmN0aW9uKGUsdCl7ZS5zZXR1cCh7ZmlsZTp0LGF1dG9zdGFydDpcInZpZXdhYmxlXCJ9KX19LFRoZW86e2lzUGxheWluZzpmdW5jdGlvbihlKXtyZXR1cm4hKGUuc2Vla2luZ3x8ZS5wYXVzZWR8fGUuZW5kZWQpfSxpc0xpdmU6ZnVuY3Rpb24oZSl7cmV0dXJuIWlzRmluaXRlKGUuZHVyYXRpb24pfSxnZXRQbGF5ZXJQb3NpdGlvbjpmdW5jdGlvbihlKXtyZXR1cm4gMWUzKmUuY3VycmVudFRpbWV9LGdldFBsYXllckR1cmF0aW9uOmZ1bmN0aW9uKGUpe3JldHVybiAxZTMqZS5kdXJhdGlvbn0sc2V0RXZlbnRIYW5kbGVyczpmdW5jdGlvbihlLHQpe2UuYWRkRXZlbnRMaXN0ZW5lcihcInRpbWV1cGRhdGVcIix0Lm9uVGltZVVwZGF0ZSksZS5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIix0Lm9uRXJyb3IpLGUuYWRkRXZlbnRMaXN0ZW5lcihcInBhdXNlXCIsdC5vblBhdXNlKSxlLmFkZEV2ZW50TGlzdGVuZXIoXCJwbGF5aW5nXCIsdC5vblBsYXkpLGUuYWRkRXZlbnRMaXN0ZW5lcihcImVuZGVkXCIsdC5vbkVuZCksZS5hZGRFdmVudExpc3RlbmVyKFwic2Vla2VkXCIsdC5vblNlZWtFbmQpLGUuYWRkRXZlbnRMaXN0ZW5lcihcIndhaXRpbmdcIix0Lm9uQnVmZmVyaW5nKSxlLmFkZEV2ZW50TGlzdGVuZXIoXCJjYW5wbGF5dGhyb3VnaFwiLHQub25DYW5QbGF5KX0sc2V0U291cmNlOmZ1bmN0aW9uKGUsdCxuKXtlLnNvdXJjZT17c291cmNlczpbe3NyYzp0LHR5cGU6bn1dfSxlLnBsYXkoKX19LFZpZGVvanM6e2lzUGxheWluZzpmdW5jdGlvbihlKXtyZXR1cm4hKGUuc2Vla2luZ3x8ZS5wYXVzZWR8fGUuZW5kZWQpfSxpc0xpdmU6ZnVuY3Rpb24oZSl7cmV0dXJuIWlzRmluaXRlKGUuZHVyYXRpb24oKSl9LGdldFBsYXllclBvc2l0aW9uOmZ1bmN0aW9uKGUpe3JldHVybiAxZTMqZS5jdXJyZW50VGltZX0sZ2V0UGxheWVyRHVyYXRpb246ZnVuY3Rpb24oZSl7cmV0dXJuIDFlMyplLmR1cmF0aW9uKCl9LHNldEV2ZW50SGFuZGxlcnM6ZnVuY3Rpb24oZSx0KXtlLm9uKFwidGltZXVwZGF0ZVwiLHQub25UaW1lVXBkYXRlKSxlLm9uKFwiZXJyb3JcIix0Lm9uRXJyb3IpLGUub24oXCJwYXVzZVwiLHQub25QYXVzZSksZS5vbihcInBsYXlcIix0Lm9uUGxheSksZS5vbihcImVuZGVkXCIsdC5vbkVuZCksZS5vbihcInNlZWtlZFwiLHQub25TZWVrRW5kKSxlLm9uKFwic3RhbGxlZFwiLHQub25CdWZmZXJpbmcpLGUub24oXCJjYW5wbGF5XCIsdC5vbkNhblBsYXkpfSxzZXRTb3VyY2U6ZnVuY3Rpb24oZSx0LG4pe2Uuc3JjKHtzcmM6dCx0eXBlOm59KSxlLnBsYXkoKX19fX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiOyhmdW5jdGlvbihlKXtmdW5jdGlvbiByKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1mdW5jdGlvbiBpKGUpe3JldHVyblwiJGcuXCIrZStcIlJlc3BvbnNlXCJ9ZnVuY3Rpb24gbyh0KXtmdW5jdGlvbiBuKGUsdCl7SVtlXT1JW2VdfHxbXSxJW2VdLnB1c2godCl9ZnVuY3Rpb24gcihlKXtpZihlLnN0cmF0ZWdpZXM9KGUuc3RyYXRlZ2llc3x8bygpKS5zbGljZSgpLDA9PT1lLnN0cmF0ZWdpZXMubGVuZ3RoKXJldHVybiB2b2lkIGUub25BbGxTdHJhdGVnaWVzRmFpbGVkKElbZS5yZXF1ZXN0SWRdKTtudWxsPT1lLnJlcXVlc3RJZCYmKGUucmVxdWVzdElkPU0sTSsrKTt2YXIgdD1lLnVyaS5zcGxpdChcIi9cIiksbj10W3QubGVuZ3RoLTFdLGE9ZS5vcHRpb25zfHx7fTtzd2l0Y2goZS5jYWxsYmFja1BhcmFtPWUuY2FsbGJhY2tQYXJhbXx8aShuKSxlLmV4cGVjdEpzb249bnVsbD09ZS5leHBlY3RKc29ufHxlLmV4cGVjdEpzb24sZS5vblN0YXJ0PWUub25TdGFydHx8VCxlLm9uVGltZW91dD1lLm9uVGltZW91dHx8RSxlLm9uRXJyb3I9ZS5vbkVycm9yfHxQLGUub25GYWlsdXJlPWUub25GYWlsdXJlfHxfLGUuY29udGludWVBZnRlclRpbWVvdXQ9ZS5jb250aW51ZUFmdGVyVGltZW91dHx8ITEsZS5mbGFzaERpdklkPWEuZmxhc2hEaXZJZHx8XCJrb2xsZWN0aXZlQWdlbnRcIixlLmZsYXNoVGltZW91dD1hLmZsYXNoVGltZW91dHx8VixlLnRpbWVvdXQ9YS50aW1lb3V0fHxlLmRlZmF1bHRUaW1lb3V0fHxCLGUuc3RyYXRlZ2llcy5zaGlmdCgpKXtjYXNlIGMuU3RyYXRlZ3kuQUpBWDpoKGUucHJvdG9jb2x8fGMuUFJPVE9DT0wuSFRUUFMsZSk7YnJlYWs7Y2FzZSBjLlN0cmF0ZWd5LkZMQVNIOnkoZS5wcm90b2NvbHx8Yy5QUk9UT0NPTC5IVFRQLGUpO2JyZWFrO2RlZmF1bHQ6cihlKX19ZnVuY3Rpb24gbygpe3JldHVybiBPLmlzSW5zdGFsbGVkKCk/cyhXKTpXfWZ1bmN0aW9uIHMoZSl7ZT1lLnNsaWNlKCk7Zm9yKHZhciB0PVtdO2UubGVuZ3RoPjA7KXt2YXIgbj1lLnNoaWZ0KCk7KGZ1bmN0aW9uKGUpe3N3aXRjaChlKXtjYXNlIGMuU3RyYXRlZ3kuQUpBWDpyZXR1cm4gTy5jaGVja01pblZlcnNpb24oXCIxMC4wXCIpO2Nhc2UgYy5TdHJhdGVneS5GTEFTSDpyZXR1cm4hMDtkZWZhdWx0OnJldHVybiExfX0pKG4pJiZ0LnB1c2gobil9cmV0dXJuIHR9ZnVuY3Rpb24gbChlLHQpe3N3aXRjaChlKXtjYXNlIGMuUFJPVE9DT0wuSFRUUFM6cmV0dXJuIGMuUFJPVE9DT0wuSFRUUFMrRitcIjpcIitIK3Q7Y2FzZSBjLlBST1RPQ09MLkhUVFA6cmV0dXJuIGMuUFJPVE9DT0wuSFRUUCtDK1wiOlwiK3grdDtjYXNlIGMuUFJPVE9DT0wuUlRNUDpyZXR1cm4gYy5QUk9UT0NPTC5SVE1QK0MrXCI6XCIrait0O2RlZmF1bHQ6cmV0dXJuIG51bGx9fWZ1bmN0aW9uIGgoZSx0KXt2YXIgbj10Lm1ldGhvZCxpPXQuZXhwZWN0SnNvbixvPXQudGltZW91dCxhPXQuY29udGludWVBZnRlclRpbWVvdXQscz10LnVyaSx1PXQucGFyYW1zLGY9dC5pZ25vcmVCYXNlNjRFbmNvZGluZyxkPXQucmVxdWVzdElkLGg9dC5vblN0YXJ0LG09dC5vblN1Y2Nlc3MseT10Lm9uRmFpbHVyZSx2PXQub25FcnJvcixUPXQub25UaW1lb3V0LFM9bChlLHMpKygwLHAuZGVmYXVsdCkodSxmKSxFPWMuU3RyYXRlZ3kuQUpBWDtoJiZoKEUsUyksKDAsZy5kZWZhdWx0KSh7dXJsOlMsbWV0aG9kOm4sZXhwZWN0SnNvbjppLHRpbWVvdXQ6byxjb250aW51ZUFmdGVyVGltZW91dDphLG9uU3VjY2VzczptLmJpbmQobnVsbCxFKSxvbkZhaWx1cmU6ZnVuY3Rpb24oZSl7eShFLGQsZSxcImFqYXhcIikscih0KX0sb25FcnJvcjpmdW5jdGlvbihlLG4pe3YoRSxkLGUsbikscih0KX0sb25UaW1lb3V0OmZ1bmN0aW9uKGUpe1QoRSxkLGUpLHIodCl9fSl9ZnVuY3Rpb24geSh0LG4pe2UudGltZW91dFRyaXBwZWQ9ITE7dmFyIGk9T2JqZWN0LmFzc2lnbih7fSxuLnBhcmFtcyk7aS5jYWxsYmFjaz1uLmNhbGxiYWNrUGFyYW0sZS5sYXN0Rmxhc2hVcmw9KGwodCxuLnVyaSkrKDAscC5kZWZhdWx0KShpLG4uaWdub3JlQmFzZTY0RW5jb2RpbmcpKS5yZXBsYWNlKFwiJlwiLFwiJTI2XCIpLG4ub25TdGFydCYmbi5vblN0YXJ0KGMuU3RyYXRlZ3kuRkxBU0gsZS5sYXN0Rmxhc2hVcmwpLGUudGltZW91dEZsYXNoPW4uZmxhc2hUaW1lb3V0O3ZhciBvPWZ1bmN0aW9uKGUpe24ub25GYWlsdXJlKGMuU3RyYXRlZ3kuRkxBU0gsbi5yZXF1ZXN0SWQsbnVsbCxlKSxyKG4pfTtpZihcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93LnN3Zm9iamVjdCl7ZS5mbGFzaFN1Y2Nlc3NDYWxsYmFjaz1uLm9uU3VjY2Vzcy5iaW5kKG51bGwsYy5TdHJhdGVneS5GTEFTSCksZS5mbGFzaEZhaWx1cmVDYWxsYmFjaz1vLGUuZmxhc2hUaW1lb3V0Q2FsbGJhY2s9ZnVuY3Rpb24oKXtlLnRpbWVvdXRUcmlwcGVkPSEwLG4ub25UaW1lb3V0KGMuU3RyYXRlZ3kuRkxBU0gsbi5yZXF1ZXN0SWQpLHIobil9O3ZhciBhPXt1cmw6ZS5sYXN0Rmxhc2hVcmx9LHM9e2FsbG93c2NyaXB0YWNjZXNzOlwiYWx3YXlzXCJ9O3dpbmRvdy5zd2ZvYmplY3QuZW1iZWRTV0YoVSxuLmZsYXNoRGl2SWQsXCI4XCIsXCI4XCIsXCIxMC4wLjBcIixcIlwiLGEscyxcIlwiLGZ1bmN0aW9uKHQpe3Quc3VjY2Vzcz8oZS50aW1lb3V0VHJpcHBlZD0hMSxlLmZsYXNoTG9hZFRpbWVvdXRJRD1zZXRUaW1lb3V0KGUuZmxhc2hUaW1lb3V0Q2FsbGJhY2ssZS50aW1lb3V0Rmxhc2gpKTpvKFwiZmxhc2hfZW1iZWRcIil9KX1lbHNlIG4ub25FcnJvcihjLlN0cmF0ZWd5LkZMQVNILG4ucmVxdWVzdElkLFwiZmxhc2hfY29uZmlnXCIpLHIobil9ZnVuY3Rpb24gdihlKXtxJiZxLmFkZEFnZW50RXZlbnQmJmUmJnEuYWRkQWdlbnRFdmVudChlKX1mdW5jdGlvbiBUKHQsbil7c3dpdGNoKHQpe2Nhc2UgYy5TdHJhdGVneS5BSkFYOmUuYWdlbnRMb2dzKz1cIkF0dGVtcHRpbmcgQUpBWCByZXF1ZXN0XCI7YnJlYWs7Y2FzZSBjLlN0cmF0ZWd5LkZMQVNIOmUuYWdlbnRMb2dzKz1cIkF0dGVtcHRpbmcgRkxBU0ggcmVxdWVzdFwifWUuYWdlbnRMb2dzKz1cIjogXCIrbn1mdW5jdGlvbiBTKHQsbil7cmV0dXJuIHQ9dHx8ZnVuY3Rpb24oKXt9LG49bnx8ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0sZnVuY3Rpb24ocixpKXtzd2l0Y2gocil7Y2FzZSBjLlN0cmF0ZWd5LkFKQVg6ZS5hZ2VudExvZ3MrPVwiQUpBWCByZXF1ZXN0IHN1Y2NlZWRlZFxcblwiLHQoaSk7YnJlYWs7Y2FzZSBjLlN0cmF0ZWd5LkZMQVNIOmUuYWdlbnRMb2dzKz1cIkZMQVNIIHJlcXVlc3Qgc3VjY2VlZGVkXFxuXCIsdChuKCkpfX19ZnVuY3Rpb24gRSh0LHIsaSl7c3dpdGNoKG4ocix7dHlwZTpcInRpbWVvdXRcIixyZWFzb246XCJ0aW1lb3V0XCIsc3RyYXRlZ3k6dCxzdGF0dXM6aS5zdGF0dXN9KSx0KXtjYXNlIGMuU3RyYXRlZ3kuQUpBWDplLmFnZW50TG9ncys9XCJBSkFYIHJlcXVlc3QgdGltZWQgb3V0XFxuXCI7YnJlYWs7Y2FzZSBjLlN0cmF0ZWd5LkZMQVNIOmUuYWdlbnRMb2dzKz1cIkZMQVNIIHJlcXVlc3QgdGltZWQgb3V0XFxuXCJ9fWZ1bmN0aW9uIFAodCxyLGksbyl7c3dpdGNoKG4ocix7dHlwZTpcImVycm9yXCIscmVhc29uOm8sc3RyYXRlZ3k6dCxzdGF0dXM6aT9pLnN0YXR1czowfSksdCl7Y2FzZSBjLlN0cmF0ZWd5LkFKQVg6ZS5hZ2VudExvZ3MrPVwiQUpBWCByZXF1ZXN0IGZhaWxlZCB3aXRoIGVycm9yOlwiK28rXCJcXG5cIjticmVhaztjYXNlIGMuU3RyYXRlZ3kuRkxBU0g6ZS5hZ2VudExvZ3MrPVwiRkxBU0ggcmVxdWVzdCBmYWlsZWQgZHVlIHRvIGltcHJvcGVyIEZsYXNoIGNvbmZpZ3VyYXRpb25cXG5cIn19ZnVuY3Rpb24gXyh0LHIsaSxvKXtzd2l0Y2gobihyLHt0eXBlOlwiZXJyb3JcIixyZWFzb246byxzdHJhdGVneTp0LHN0YXR1czppLnN0YXR1c30pLHQpe2Nhc2UgYy5TdHJhdGVneS5BSkFYOmUuYWdlbnRMb2dzKz1cIkFKQVggcmVxdWVzdCBmYWlsZWQ6XCIraS5zdGF0dXNUZXh0K1wiIFxcblwiO2JyZWFrO2Nhc2UgYy5TdHJhdGVneS5GTEFTSDplLmFnZW50TG9ncys9XCJGTEFTSCByZXF1ZXN0IGZhaWxlZFxcblwifX1mdW5jdGlvbiBiKGUpe3JldHVybiBmdW5jdGlvbih0KXtlKHtlcnJvcjpcIlJlcXVlc3QgZmFpbGVkXCIscmVhc29uczp0fSl9fWZ1bmN0aW9uIEEoZSl7cmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxlKSxMKX1mdW5jdGlvbiB3KHQsbixpKXtSPShuZXcgRGF0ZSkuZ2V0VGltZSgpLHIoe3VyaTpcIi9hcGkvdjEvbG9uZ3BvbGxcIixwYXJhbXM6bixkZWZhdWx0VGltZW91dDozZTQsY29udGludWVBZnRlclRpbWVvdXQ6ITAsb3B0aW9uczppLG9uU3VjY2VzczpTKGZ1bmN0aW9uKGUpe2lmKCFrKXt2YXIgcj0hIWUmJmUudHMsbz0hIWUmJmUuY21kLGE9ISFlJiZlLnBhcmFtcztpZihcIm1hbmlmZXN0UHJvZ3Jlc3NcIj09PW8pe3ZhciBzPWEmJmEucGVyY2VudCx1PSEhcyYmMTAwPT09cGFyc2VJbnQocyk7dChvLHtwcm9ncmVzczpwYXJzZUludChzKSxyZWFkeTp1fSl9ZWxzZSB0KG8sYSk7aWYoIWspe3ZhciBjPU9iamVjdC5hc3NpZ24oe30sbik7Yy50cz1yLHcodCxjLGkpfX19LGZ1bmN0aW9uKCl7cmV0dXJuIGUubG9uZ3BvbGxEYXRhfSksb25BbGxTdHJhdGVnaWVzRmFpbGVkOmZ1bmN0aW9uKGUpe2lmKCFrKXtlPWV8fFtdO3ZhciByPWUuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiEoXCJ0aW1lb3V0XCI9PT1lLnJlYXNvbnx8ZS5yZWFzb249PT1kLlhIUl9FUlJPUi5OT19SRVNQT05TRSl9KSxvPTA7aWYoci5sZW5ndGg+MCl0KHtlcnJvcjpcIkxvbmdwb2xsIHJlcXVlc3QgZmFpbGVkLiBBdHRlbXB0aW5nIGFnYWluLlwiLHJlYXNvbnM6cn0pO2Vsc2V7dmFyIGE9KG5ldyBEYXRlKS5nZXRUaW1lKCktUjtvPU1hdGgubWF4KDAsM2U0LWEpO2lmKFwiZWRnZVwiPT09KDAsZi5kZWZhdWx0KSgpLmJyb3dzZXImJmUuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVyblwidGltZW91dFwiPT09ZS5yZWFzb259KS5sZW5ndGg+MClyZXR1cm59c2V0VGltZW91dChmdW5jdGlvbigpe2t8fHcodCxuLGkpfSxvKX19fSl9aWYoXCJvYmplY3RcIiE9PShcInVuZGVmaW5lZFwiPT09dHlwZW9mIHQ/XCJ1bmRlZmluZWRcIjphKHQpKSl0aHJvd1wiS29sbGVjdGl2ZUFnZW50IEVycm9yOiBObyBwYXJhbWV0ZXIgb2JqZWN0IHBhc3NlZCBpblwiO2UuYWdlbnREYXRhPW51bGwsZS5hZ2VudExvZ3M9XCJcIixlLnRpbWVvdXRUcmlwcGVkPSExO3ZhciBMLE89dGhpcyxOPSExLEk9e30sTT0xLGs9ITAsUj1udWxsLEQ9dC5jYWxsYmFja3x8ZnVuY3Rpb24oKXt9LEM9dC5ob3N0SHR0cHx8XCIxMjcuMC4wLjFcIixGPXQuaG9zdEh0dHBzfHxcImNsaWVudC5rb250aWtpLmNvbVwiLHg9XCJcIisodC5wb3J0SHR0cHx8XCIzMTAxM1wiKSxqPVwiXCIrKHQucG9ydFJ0bXB8fFwiMzEwMTRcIiksSD1cIlwiKyh0LnBvcnRIdHRwc3x8XCIzMTAxNVwiKSxWPXQuZmxhc2hUaW1lb3V0fHw1ZTMsQj10LnRpbWVvdXR8fDVlMyxVPXQuZmxhc2hMb2FkZXJVcmx8fFwiZmxhc2gva29udGlraWFnZW50Zmxhc2hsb2FkZXItMy5zd2ZcIixXPXQuYWdlbnRSZXF1ZXN0TW9kZXx8Yy5BZ2VudFJlcXVlc3RNb2RlLkFqYXgscT10LmV2ZW50TG9nZ2VyOyFmdW5jdGlvbigpe3Ioe3N0cmF0ZWdpZXM6Vyx1cmk6XCIva29udGlraS9rb250aWtpL2NhY2hlL1JldHJpZXZlQWdlbnREYXRhXCIsY2FsbGJhY2tQYXJhbTppKFwiYWdlbnRcIiksb25TdGFydDpmdW5jdGlvbih0KXtzd2l0Y2godCl7Y2FzZSBjLlN0cmF0ZWd5LkFKQVg6dihjLkVWRU5ULmFnZW50LmRldGVjdF9zYWpheCksZS5hZ2VudExvZ3MrPVwiQXR0ZW1wdGluZyBBSkFYIGRldGVjdGlvblxcblwiO2JyZWFrO2Nhc2UgYy5TdHJhdGVneS5GTEFTSDp2KGMuRVZFTlQuYWdlbnQuZGV0ZWN0X2ZsYXNoKSxlLmFnZW50TG9ncys9XCJBdHRlbXB0aW5nIEZMQVNIIGRldGVjdGlvblxcblwifX0sb25TdWNjZXNzOmZ1bmN0aW9uKHQsbixyKXtzd2l0Y2godCl7Y2FzZSBjLlN0cmF0ZWd5LkFKQVg6aWYoIW58fCFuLnZlcnNpb24pdGhyb3cgdihjLkVWRU5ULmFnZW50LmRldGVjdF9lcnJvcl9pbnZhbGlkX3ZlcnNpb24pLFwicmVzcG9uc2VUZXh0IGxhY2tlZCBhZ2VudCB2ZXJzaW9uOiBcIityLnJlc3BvbnNlVGV4dDt2KGMuRVZFTlQuYWdlbnQuZGV0ZWN0X3N1Y2Nlc3MpLGUuYWdlbnRMb2dzKz1cIkFKQVggZGV0ZWN0aW9uIHN1Y2NlZWRlZCEgQWdlbnQgdmVyc2lvbjpcIituLnZlcnNpb24rXCJcXG5cIixlLmFnZW50RGF0YT1uLEQoTyk7YnJlYWs7Y2FzZSBjLlN0cmF0ZWd5LkZMQVNIOnYoYy5FVkVOVC5hZ2VudC5kZXRlY3Rfc3VjY2VzcyksZS5hZ2VudExvZ3MrPVwiRkxBU0ggZGV0ZWN0aW9uIGhhcyBzdWNjZWVkZWRcXG5cIixOPSEwLEQoTyl9fSxvblRpbWVvdXQ6ZnVuY3Rpb24odCxyLGkpe3N3aXRjaChuKHIse3R5cGU6XCJ0aW1lb3V0XCIscmVhc29uOlwidGltZW91dFwiLHN0cmF0ZWd5OnQsc3RhdHVzOmkuc3RhdHVzfSksdihjLkVWRU5ULmFnZW50LmRldGVjdF90aW1lb3V0KSx0KXtjYXNlIGMuU3RyYXRlZ3kuQUpBWDplLmFnZW50TG9ncys9XCJBSkFYIGRldGVjdGlvbiB0aW1lZCBvdXRcXG5cIjticmVhaztjYXNlIGMuU3RyYXRlZ3kuRkxBU0g6ZS5hZ2VudExvZ3MrPVwiRkxBU0ggZGV0ZWN0aW9uIHRpbWVkIG91dFxcblwifX0sb25FcnJvcjpmdW5jdGlvbih0LHIsaSxvKXtuKHIse3R5cGU6XCJlcnJvclwiLHJlYXNvbjpvLHN0cmF0ZWd5OnQsc3RhdHVzOmk/aS5zdGF0dXM6MH0pO3ZhciBhPW8mJmMuRVZFTlQuYWdlbnRbXCJkZXRlY3RfZXJyb3JfXCIrb107c3dpdGNoKGEmJnYoYSksZS5hZ2VudERhdGE9bnVsbCx0KXtjYXNlIGMuU3RyYXRlZ3kuQUpBWDplLmFnZW50TG9ncys9XCJBSkFYIGRldGVjdGlvbiBoYXMgZmFpbGVkIHdpdGggZXJyb3I6XCIrYStcIlxcblwiO2JyZWFrO2Nhc2UgYy5TdHJhdGVneS5GTEFTSDplLmFnZW50TG9ncys9XCJGTEFTSCBkZXRlY3Rpb24gZmFpbGVkIGR1ZSB0byBpbXByb3BlciBGbGFzaCBjb25maWd1cmF0aW9uXFxuXCJ9fSxvbkZhaWx1cmU6ZnVuY3Rpb24odCxyLGksbyl7bihyLHt0eXBlOlwiZXJyb3JcIixyZWFzb246byxzdHJhdGVneTp0LHN0YXR1czppLnN0YXR1c30pO3ZhciBhPW8mJmMuRVZFTlQuYWdlbnRbXCJkZXRlY3RfZmFpbHVyZV9cIitvXTtzd2l0Y2goYSYmdihhKSxlLmFnZW50RGF0YT1udWxsLHQpe2Nhc2UgYy5TdHJhdGVneS5BSkFYOmUuYWdlbnRMb2dzKz1cIkFKQVggZGV0ZWN0aW9uIGhhcyBmYWlsZWQ6XCIraS5zdGF0dXNUZXh0K1wiIFxcblwiO2JyZWFrO2Nhc2UgYy5TdHJhdGVneS5GTEFTSDplLmFnZW50TG9ncys9XCJGTEFTSCBkZXRlY3Rpb24gZmFpbGVkXFxuXCJ9fSxvbkFsbFN0cmF0ZWdpZXNGYWlsZWQ6ZnVuY3Rpb24oZSl7dihjLkVWRU5ULmFnZW50LmRldGVjdF9hbGxfZmFpbCksRChPLGUpfX0pfSgpLHRoaXMuaXNJbnN0YWxsZWQ9ZnVuY3Rpb24oKXtyZXR1cm5cInVuZGVmaW5lZFwiIT09dHlwZW9mIGUuYWdlbnREYXRhJiZudWxsIT1lLmFnZW50RGF0YX0uYmluZCh0aGlzKSx0aGlzLmdldFZlcnNpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc0luc3RhbGxlZCgpP2UuYWdlbnREYXRhLnZlcnNpb246bX0uYmluZCh0aGlzKSx0aGlzLmdldE5hbWVzcGFjZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmlzSW5zdGFsbGVkKCk/ZS5hZ2VudERhdGEudXJuX25hbWVzcGFjZTptfS5iaW5kKHRoaXMpLHRoaXMuZ2V0TWFjaGluZU5hbWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc0luc3RhbGxlZCgpP2UuYWdlbnREYXRhLm1hY2hpbmVfbmFtZTptfS5iaW5kKHRoaXMpLHRoaXMuZ2V0Tm9kZUlkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNJbnN0YWxsZWQoKT9lLmFnZW50RGF0YS5ub2RlX2lkOm19LmJpbmQodGhpcyksdGhpcy5nZXRSdG1wQ2xpZW50UGxheWJhY2tTdXBwb3J0ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc0luc3RhbGxlZCgpJiZlLmFnZW50RGF0YS5ydG1wX21wNF92b2R9LmJpbmQodGhpcyksdGhpcy5nZXRJbkJsYWNrb3V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNJbnN0YWxsZWQoKT9lLmFnZW50RGF0YS5ibGFja291dDptfS5iaW5kKHRoaXMpLHRoaXMuZ2V0U3RyZWFtVXJpPWZ1bmN0aW9uKGUsdCxuKXtpZighdGhpcy5pc0luc3RhbGxlZCgpKXJldHVybiBtO3N3aXRjaChlKXtjYXNlIGMuU1RSRUFNX1RZUEUuRkxBU0g6cmV0dXJuXCIvc3RyZWFtL1wiK3QrXCIvXCIrKG58fFwiY29udGVudC5mNHZcIik7Y2FzZSBjLlNUUkVBTV9UWVBFLkhEUzpyZXR1cm5cIi9zdHJlYW0vXCIrdCtcIi9cIisobnx8XCJtYW5pZmVzdC5mNG1cIik7Y2FzZSBjLlNUUkVBTV9UWVBFLkhMUzpyZXR1cm5cIi9zdHJlYW0vXCIrdCtcIi9cIisobnx8XCJjaHVua2xpc3QubTN1OFwiKTtjYXNlIGMuU1RSRUFNX1RZUEUuREFTSDpyZXR1cm5cIi9zdHJlYW0vXCIrdCtcIi9cIisobnx8XCJwbGF5bGlzdC5pc20vTWFuaWZlc3QoZm9ybWF0PW1wZC10aW1lLWNzZilcIik7Y2FzZSBjLlNUUkVBTV9UWVBFLlNNT09USDpyZXR1cm5cIi9zdHJlYW0vXCIrdCtcIi9cIisobnx8XCJwbGF5bGlzdC5pc20vTWFuaWZlc3RcIik7Y2FzZSBjLlNUUkVBTV9UWVBFLlJUTVA6cmV0dXJuXCIvc3RyZWFtL1wiK3Q7ZGVmYXVsdDpyZXR1cm5cIlwifX0uYmluZCh0aGlzKSx0aGlzLmdldFN0cmVhbVVybD1mdW5jdGlvbihlLHQsbixyKXtpZighdGhpcy5pc0luc3RhbGxlZCgpKXJldHVybiBtO3ZhciBpPXRoaXMuZ2V0U3RyZWFtVXJpKGUsdCxyKSxvPXRoaXMuY2hlY2tNaW5WZXJzaW9uKFwiMTAuMFwiKT9jLlBST1RPQ09MLkhUVFBTOmMuUFJPVE9DT0wuSFRUUDtyZXR1cm4gZT09PWMuU1RSRUFNX1RZUEUuUlRNUCYmKG89Yy5QUk9UT0NPTC5SVE1QKSxsKG8saSkrKDAscC5kZWZhdWx0KShBKG4pKX0uYmluZCh0aGlzKSx0aGlzLmdldEtUb2tlbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmlzSW5zdGFsbGVkKCk/ZS5hZ2VudERhdGEua3Rva2VuOm51bGx9LmJpbmQodGhpcyksdGhpcy5pc0RldGVjdFZpYUZsYXNoPWZ1bmN0aW9uKCl7cmV0dXJuIE59LHRoaXMuY2hlY2tNaW5WZXJzaW9uPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmlzSW5zdGFsbGVkKCkmJigwLHUuZGVmYXVsdCkoZS5hZ2VudERhdGEudmVyc2lvbix0KT49MH0uYmluZCh0aGlzKSx0aGlzLmdldEFnZW50TG9ncz1mdW5jdGlvbigpe3JldHVybiBlLmFnZW50TG9nc30sdGhpcy5zZXRTZXNzaW9uRGF0YT1mdW5jdGlvbihlLHQsbil7TD17cmVhbG1JZDplLnJlYWxtSWQscmVhbG1UaWNrZXQ6ZS5yZWFsbVRpY2tldCxub1ByZXJvbGw6ZS5ub1ByZXJvbGx9O3ZhciBpPXRoaXMuZ2V0S1Rva2VuKCk7aWYobnVsbD09aSl0KCk7ZWxzZXt2YXIgbz17a3Rva2VuOml9LGE9ZnVuY3Rpb24oZSl7dmFyIG49bnVsbD09ZXx8bnVsbD09ZS5lcnJvcjtuJiYoTD1vKSx0KG4/e3N1Y2Nlc3M6bn06ZSl9O3Ioe3VyaTpcIi9hcGkvdjEvc2V0U2Vzc2lvbkRhdGFcIixpZ25vcmVCYXNlNjRFbmNvZGluZzohMCxtZXRob2Q6XCJQT1NUXCIscGFyYW1zOkEobyksb3B0aW9uczpuLG9uU3VjY2VzczpTKGEpLG9uQWxsU3RyYXRlZ2llc0ZhaWxlZDpiKGEpfSl9fS5iaW5kKHRoaXMpLHRoaXMuZ2V0Q29udGVudFN0YXR1cz1mdW5jdGlvbih0LG4saSl7cih7dXJpOlwiL2FwaS92MS9jb250ZW50U3RhdHVzXCIscGFyYW1zOnt1cm46dH0sb3B0aW9uczppLG9uU3VjY2VzczpTKG4sZnVuY3Rpb24oKXtyZXR1cm4gZS5jb250ZW50U3RhdHVzRGF0YX0pLG9uQWxsU3RyYXRlZ2llc0ZhaWxlZDpiKG4pfSl9LHRoaXMuZG93bmxvYWRNb25pdG9yPWZ1bmN0aW9uKHQsbixpKXtyKHt1cmk6XCIvYXBpL3YxL2Rvd25sb2FkTW9uaXRvclwiLHBhcmFtczp7dXJuOnR9LG9wdGlvbnM6aSxvblN1Y2Nlc3M6UyhuLGZ1bmN0aW9uKCl7cmV0dXJuIGUuZG93bmxvYWRNb25pdG9yRGF0YX0pLG9uQWxsU3RyYXRlZ2llc0ZhaWxlZDpiKG4pfSl9LHRoaXMuaXNDb250ZW50UHJlZmV0Y2hlZD1mdW5jdGlvbigpe3JldHVyblwidW5kZWZpbmVkXCIhPT10eXBlb2YgZS5jb250ZW50U3RhdHVzRGF0YSYmXCJDb21wbGV0ZVwiPT1lLmNvbnRlbnRTdGF0dXNEYXRhLnN0YXRlfSx0aGlzLmdldENvbnRlbnRQcm9ncmVzcz1mdW5jdGlvbigpe3JldHVyblwidW5kZWZpbmVkXCIhPT10eXBlb2YgZS5jb250ZW50U3RhdHVzRGF0YT9lLmNvbnRlbnRTdGF0dXNEYXRhLnByb2dyZXNzOi0xfSx0aGlzLmdldERvd25sb2FkTW9uaXRvckRhdGE9ZnVuY3Rpb24oKXtyZXR1cm4gZS5kb3dubG9hZE1vbml0b3JEYXRhfSx0aGlzLnN0b3BTdHJlYW09ZnVuY3Rpb24oZSx0LG4pe3Ioe3VyaTpcIi9hcGkvdjEvc3RvcFN0cmVhbVwiLHBhcmFtczpBKHt1cm46ZX0pLG9wdGlvbnM6bixvblN1Y2Nlc3M6Uyh0KSxvbkFsbFN0cmF0ZWdpZXNGYWlsZWQ6Yih0KX0pfSx0aGlzLmRlbGV0ZUNvbnRlbnQ9ZnVuY3Rpb24oZSx0LG4pe3Ioe3VyaTpcIi9hcGkvdjEvY29udGVudERlbGV0ZVwiLHBhcmFtczpBKHt1cm46ZX0pLG9wdGlvbnM6bixvblN1Y2Nlc3M6Uyh0KSxvbkFsbFN0cmF0ZWdpZXNGYWlsZWQ6Yih0KX0pfSx0aGlzLnJlcXVlc3REZWxpdmVyeUd1aWQ9ZnVuY3Rpb24odCxuLGkpe3Ioe3VyaTpcIi9hcGkvdjEvY29udGVudERlbGl2ZXJ5R3VpZFwiLHBhcmFtczpBKHt1cm46dH0pLG9wdGlvbnM6aSxvblN1Y2Nlc3M6UyhuLGZ1bmN0aW9uKCl7cmV0dXJuIGUuY29udGVudERlbGl2ZXJ5R3VpZERhdGF9KSxvbkFsbFN0cmF0ZWdpZXNGYWlsZWQ6YihuKX0pfSx0aGlzLnNlbmRFcnJvckxvZ3M9ZnVuY3Rpb24odCxuKXtyKHt1cmk6XCIvYXBpL3YxL3NlbmRFcnJvckxvZ3NcIixwYXJhbXM6e186MX0sb3B0aW9uczpuLG9uU3VjY2VzczpTKHQsZnVuY3Rpb24oKXtyZXR1cm4gZS5zZW5kRXJyb3JMb2dzRGF0YX0pLG9uQWxsU3RyYXRlZ2llc0ZhaWxlZDpiKHQpfSl9LHRoaXMucHJlZmV0Y2hTdHJlYW09ZnVuY3Rpb24odCxuLG8sYSxzKXt2YXIgdT10aGlzLmdldFN0cmVhbVVyaSh0LG4scyYmcy5maWxlKTtyKHtleHBlY3RKc29uOiExLHByb3RvY29sOnQ9PT1jLlNUUkVBTV9UWVBFLlJUTVA/Yy5QUk9UT0NPTC5SVE1QOm51bGwsdXJpOnUscGFyYW1zOkEobyksb3B0aW9uczpzLGNhbGxiYWNrUGFyYW06aShcInByZWZldGNoU3RyZWFtXCIpLG9uU3VjY2VzczpTKGEsZnVuY3Rpb24oKXtyZXR1cm4gZS5wcmVmZXRjaFN0cmVhbURhdGF9KSxvbkFsbFN0cmF0ZWdpZXNGYWlsZWQ6YihhKX0pfS5iaW5kKHRoaXMpLHRoaXMuc3RhcnRMb25ncG9sbD1mdW5jdGlvbihlLHQpe2s9ITEsdyhlLEEoe3RzOjB9KSx0KX0uYmluZCh0aGlzKSx0aGlzLnN0b3BMb25ncG9sbD1mdW5jdGlvbigpe2s9ITB9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBhPVwiZnVuY3Rpb25cIj09PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJlwiZnVuY3Rpb25cIj09PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIGV9LHM9big2KSx1PXIocyksYz1uKDEpLGw9big0KSxmPXIobCksZD1uKDMpLGc9cihkKSxoPW4oOSkscD1yKGgpLG09XCJcIjt0LmRlZmF1bHQ9b30pLmNhbGwodCxuKDIpKX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fWZ1bmN0aW9uIGkoZSx0LG4scixpLG8sdSl7ZnVuY3Rpb24gbCgpe1MubG9nZ2VyJiYoUy5sb2dnZXIub25QbGF5ZXJTdGF0ZUNoYW5nZShzLkVWRU5ULnBsYXllci5zdGF0ZV9leGl0KSxtKCEwKSl9ZnVuY3Rpb24gZyhlKXtTLmxvZ2dlciYmKFMubG9nZ2VyLm9uUGxheWVyU3RhdGVDaGFuZ2UoZSksUy5zYXZlU3RhdGUoKSl9ZnVuY3Rpb24gaChlKXtTLmFnZW50JiZzZXRUaW1lb3V0KFMuYWdlbnQuc3RvcFN0cmVhbS5iaW5kKG51bGwsci51cm4pLGUpfWZ1bmN0aW9uIHAoKXshUCYmUy5hZ2VudCYmUy5hZ2VudC5yZXF1ZXN0RGVsaXZlcnlHdWlkKHIudXJuLGZ1bmN0aW9uKGUpe1A9ZS5kZWxpdmVyeUd1aWR9KX1mdW5jdGlvbiBtKGUpe2lmKFMuYWdlbnQmJlMubG9nZ2VyKXtpZighUClyZXR1cm4gdm9pZCBwKCk7VCgpO3ZhciBuPXYoKSxhPW5ldyBEYXRlO1MubG9nZ2VyLnVwZGF0ZUxhc3RSZXBvcnRUaW1lKCk7dmFyIHM9Uy5sb2dnZXIuZ2V0UGxheUR1cmF0aW9uKCk7czw9MCYmKHM9MSk7dmFyIHU9KDAsYy5kZWZhdWx0KSgpLGw9e2NvbnRlbnRNb2lkOnIubW9pZCxmb3JtYXRNb2lkOnIuZm9ybWF0TW9pZCxwbGF5R3VpZDpFLGRlbGl2ZXJ5R3VpZDpQLHBlcmNlbnRhZ2U6MCxpblByb2dyZXNzOm4scGxheUR1cmF0aW9uOnMsc3RhcnRUaW1lOlMubG9nZ2VyLmdldFN0YXJ0VGltZSgpLHBsYXlUeXBlOlMubG9nZ2VyLmdldFBsYXlUeXBlKCksZW5kVGltZTphLmdldFRpbWUoKSxwcmVwYXJlVGltZTpTLmxvZ2dlci5nZXRQcmVwYXJlVGltZSgpLGJ1ZmZlclRpbWU6Uy5sb2dnZXIuZ2V0QnVmZmVyVGltZSgpLHN0YWxsQ291bnQ6Uy5sb2dnZXIuZ2V0U3RhbGxDb3VudCgpLHN0YWxsVGltZTpTLmxvZ2dlci5nZXRTdGFsbFRpbWUoKSxzZWdtZW50TGlzdDpTLmxvZ2dlci5nZXRTZWdtZW50TGlzdCgpLGV2ZW50TGlzdDpTLmxvZ2dlci5nZXRFdmVudExpc3QoKSxub2RlSWQ6Uy5hZ2VudC5nZXROb2RlSWQoKSxtYWNoaW5lTmFtZTpTLmFnZW50LmdldE1hY2hpbmVOYW1lKCkscGxheUNvbnRleHQ6dCxicm93c2VyOnUuYnJvd3Nlcixicm93c2VyVmVyc2lvbjp1LmJyb3dzZXJWZXJzaW9uLG9zOnUub3Msb3NWZXJzaW9uOnUub3NWZXJzaW9ufSxmPUpTT04uc3RyaW5naWZ5KHtyZXBvcnRQbGF5Omx9KSxkPW8rXCIvYXBpL3YyL3BsYXliYWNrL3JlcG9ydFwiO24mJiFlP3koZCxmLCEwKTpuYXZpZ2F0b3Iuc2VuZEJlYWNvbj9uYXZpZ2F0b3Iuc2VuZEJlYWNvbihkK1wiP19jdHlwZT1qc29uJmF1dGg9XCIraSxmKTp5KGQsZiwhMSl9fWZ1bmN0aW9uIHkoZSx0LG4pe3dpbmRvdy5YTUxIdHRwUmVxdWVzdCYmZSYmKCgwLGYuZGVmYXVsdCkoe21ldGhvZDpcIlBPU1RcIixoZWFkZXJzOnthdXRoOmksXCJDb250ZW50LVR5cGVcIjpcImFwcGxpY2F0aW9uL2pzb25cIn0sdXJsOmUsYm9keTp0LGFzeW5jOm59KSxuJiYoXyYmY2xlYXJUaW1lb3V0KF8pLF89c2V0VGltZW91dChmdW5jdGlvbigpe20oITEpfSx1KSkpfWZ1bmN0aW9uIHYoKXtyZXR1cm4gbi5pc0xpdmUoZSl9ZnVuY3Rpb24gVCgpe1MubG9nZ2VyJiZTLmxvZ2dlci5zZXRQbGF5VHlwZSh2KCk/cy5QTEFZVFlQRS5MSVZFOnMuUExBWVRZUEUuVk9EKX12YXIgUz10aGlzO3RoaXMubG9nZ2VyPW5ldyBhLmRlZmF1bHQoZSxuKTt2YXIgRT1yLmd1aWQsUD1udWxsLF89bnVsbDt0aGlzLnNldFJlcG9ydEludGVydmFsPWZ1bmN0aW9uKGUpe3U9MWUzKk1hdGgubWF4KDYwLGV8fHIucmVwb3J0SW50ZXJ2YWx8fDApfS5iaW5kKHRoaXMpLHRoaXMuc2V0UmVwb3J0SW50ZXJ2YWwodSksdGhpcy5kaXNjb25uZWN0PWZ1bmN0aW9uKCl7bCgpLHRoaXMuYWdlbnQ9bnVsbCx0aGlzLmxvZ2dlcj1udWxsLF8mJmNsZWFyVGltZW91dChfKX0uYmluZCh0aGlzKSx0aGlzLnNldEFnZW50PWZ1bmN0aW9uKGUpe3RoaXMuYWdlbnQ9ZX0uYmluZCh0aGlzKSx0aGlzLnNhdmVTdGF0ZT1mdW5jdGlvbigpe3RoaXMubG9nZ2VyJiZ0aGlzLmxvZ2dlci5zYXZlQ3VycmVudFN0YXRlKEUpfS5iaW5kKHRoaXMpO3ZhciBiPXtvblRpbWVVcGRhdGU6ZnVuY3Rpb24oKXt9LG9uRXJyb3I6ZnVuY3Rpb24oKXt9LG9uUGF1c2U6Zy5iaW5kKG51bGwscy5FVkVOVC5wbGF5ZXIuc3RhdGVfcGF1c2UpLG9uUGxheTpnLmJpbmQobnVsbCxzLkVWRU5ULnBsYXllci5zdGF0ZV9wbGF5KSxvbkJ1ZmZlcmluZzpnLmJpbmQobnVsbCxzLkVWRU5ULnBsYXllci5zdGF0ZV9idWZmZXJpbmcpLG9uRW5kOmZ1bmN0aW9uKCl7ZyhzLkVWRU5ULnBsYXllci5zdGF0ZV9lbmQpLGgoZC5ERUZBVUxUKSxsKCl9LG9uU2Vla0VuZDpmdW5jdGlvbigpe2lmKHRoaXMubG9nZ2VyKXt2YXIgZT10aGlzLmxvZ2dlci5sYXN0U2VnbWVudFBlcmNlbnRhZ2UsdD10aGlzLmxvZ2dlci5nZXRQbGF5ZXJQZXJjZW50YWdlKCk7aWYoMCE9PWV8fDAhPT10KXt2YXIgbj1lPHQ/cy5FVkVOVC5wbGF5ZXIuc3RhdGVfc2Vla19mb3J3YXJkOnMuRVZFTlQucGxheWVyLnN0YXRlX3NlZWtfcmV2ZXJzZTt0aGlzLmxvZ2dlci5vblBsYXllclN0YXRlQ2hhbmdlKG4sdCx0KSx0aGlzLnNhdmVTdGF0ZSgpfX19LmJpbmQodGhpcyksb25DYW5QbGF5OmZ1bmN0aW9uKCl7cCgpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXttKCExKX0sMWUzKX19OyFmdW5jdGlvbigpe2lmKG4uc2V0RXZlbnRIYW5kbGVycyYmbi5zZXRFdmVudEhhbmRsZXJzKGUsYiksd2luZG93Lm9uYmVmb3JldW5sb2FkKXt2YXIgdD13aW5kb3cub25iZWZvcmV1bmxvYWQ7d2luZG93Lm9uYmVmb3JldW5sb2FkPWZ1bmN0aW9uKCl7aChkLk5PTkUpLGwoKSx0KCl9fWVsc2Ugd2luZG93Lm9uYmVmb3JldW5sb2FkPWZ1bmN0aW9uKCl7aChkLk5PTkUpLGwoKX07aWYod2luZG93Lm9udW5sb2FkKXt2YXIgcj13aW5kb3cub251bmxvYWQ7d2luZG93Lm9udW5sb2FkPWZ1bmN0aW9uKCl7aChkLk5PTkUpLGwoKSxyKCl9fWVsc2Ugd2luZG93Lm9udW5sb2FkPWZ1bmN0aW9uKCl7aChkLk5PTkUpLGwoKX19KCl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG89bigyOCksYT1yKG8pLHM9bigxKSx1PW4oNCksYz1yKHUpLGw9bigzKSxmPXIobCksZD17Tk9ORTowLERFRkFVTFQ6MTAwfTt0LmRlZmF1bHQ9aX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIoZSx0KXt2YXIgbj1uZXcgRGF0ZTt0aGlzLnN0YXJ0VGltZT1uLmdldFRpbWUoKSx0aGlzLnBsYXllclN0YXRlPWkuRVZFTlQucGxheWVyLnN0YXRlX25vbmUsdGhpcy5wbGF5VHlwZT1pLlBMQVlUWVBFLkxJVkUsdGhpcy5maXJzdEV2ZW50VGltZT0wLHRoaXMuZmlyc3RQbGF5VGltZT0wLHRoaXMuZmlyc3RCdWZmZXJUaW1lPTAsdGhpcy5idWZmZXJUaW1lPTAsdGhpcy5sYXN0VGltZT0wLHRoaXMubGFzdEV2ZW50PTAsdGhpcy5zdGFsbENvdW50PTAsdGhpcy5zdGFsbFRpbWU9MCx0aGlzLmFnZW50RXZlbnRMaXN0PVwiXCIsdGhpcy5yYXdFdmVudExpc3Q9XCJcIix0aGlzLnJlc2V0UGxheVRpbWU9ITEsdGhpcy5sYXN0Rmxhc2hQbGF5U3RhdGVUaW1lPTAsdGhpcy5tZWRpYUVuZGVkPSExLHRoaXMucGxheUR1cmF0aW9uPTAsdGhpcy5sYXN0UmVwb3J0VGltZT0tMSx0aGlzLmR1cmF0aW9uPTAsdGhpcy5wZXJjZW50YWdlPTAsdGhpcy5tYXhQZXJjZW50YWdlPTAsdGhpcy5idWZmZXJpbmc9ITEsdGhpcy5zZWdtZW50TGlzdD1cIlwiLHRoaXMubGFzdFNlZ21lbnRFdmVudD1cIlwiLHRoaXMubGFzdFNlZ21lbnRQZXJjZW50YWdlPTAsdGhpcy5wbGF5U3RhdGVDYWxsYmFjaz1udWxsLHRoaXMuZ2V0VGltZT1mdW5jdGlvbigpe3JldHVybihuZXcgRGF0ZSkuZ2V0VGltZSgpLXRoaXMuc3RhcnRUaW1lfSx0aGlzLmdldExhc3RFdmVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxhc3RFdmVudH0sdGhpcy50aW1lVG9QZXJjZW50PWZ1bmN0aW9uKGUpe2lmKDA9PXRoaXMuZHVyYXRpb24pcmV0dXJuIDA7dmFyIHQ9dGhpcy5kdXJhdGlvbj9NYXRoLnJvdW5kKDFlMyplL3RoaXMuZHVyYXRpb24pLzEwOjA7cmV0dXJuIE1hdGgubWluKHQsMTAwKX0sdGhpcy5nZXRQbGF5ZXJQZXJjZW50YWdlPWZ1bmN0aW9uKCl7dmFyIG49dC5nZXRQbGF5ZXJEdXJhdGlvbihlKSxyPXQuZ2V0UGxheWVyUG9zaXRpb24oZSk7cmV0dXJuKDAsYS5kZWZhdWx0KShuKSYmKDAsYS5kZWZhdWx0KShyKSYmMCE9biYmKHRoaXMuZHVyYXRpb249bix0aGlzLnBlcmNlbnRhZ2U9TWF0aC5yb3VuZChyL3RoaXMuZHVyYXRpb24pLzEwLHRoaXMucGVyY2VudGFnZT1NYXRoLm1pbih0aGlzLnBlcmNlbnRhZ2UsMTAwKSx0aGlzLm1heFBlcmNlbnRhZ2U9TWF0aC5tYXgodGhpcy5tYXhQZXJjZW50YWdlLHRoaXMucGVyY2VudGFnZSkpLHRoaXMucGVyY2VudGFnZX0sdGhpcy5nZXRDYWNoZWRQbGF5ZXJQZXJjZW50YWdlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGVyY2VudGFnZX0sdGhpcy5nZXRNYXhQZXJjZW50YWdlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWF4UGVyY2VudGFnZX0sdGhpcy5nZXRTdGFydFRpbWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGFydFRpbWV9LHRoaXMuZ2V0UGxheUR1cmF0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGFzdEV2ZW50PT1pLkVWRU5ULnBsYXllci5zdGF0ZV9wbGF5JiZ0aGlzLm9uUGxheWVyU3RhdGVDaGFuZ2UoaS5FVkVOVC5wbGF5ZXIuc3RhdGVfcGxheSksdGhpcy5wbGF5RHVyYXRpb259LHRoaXMuaXNQbGF5aW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHQuaXNQbGF5aW5nKGUpfSx0aGlzLnVwZGF0ZUxhc3RSZXBvcnRUaW1lPWZ1bmN0aW9uKCl7dGhpcy5sYXN0UmVwb3J0VGltZT10aGlzLmdldFRpbWUoKX0sdGhpcy5oYXNOZXdSZXBvcnRpbmdEYXRhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNQbGF5aW5nKCl8fHRoaXMubGFzdFRpbWU+dGhpcy5sYXN0UmVwb3J0VGltZX0sdGhpcy5nZXRCdWZmZXJUaW1lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYnVmZmVyVGltZX0sdGhpcy5nZXRQcmVwYXJlVGltZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmZpcnN0UGxheVRpbWV9LHRoaXMuZ2V0U3RhbGxDb3VudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YWxsQ291bnR9LHRoaXMuZ2V0U3RhbGxUaW1lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhbGxUaW1lfSx0aGlzLmdldFNlZ21lbnRMaXN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2VnbWVudExpc3R9LHRoaXMuZ2V0RXZlbnRMaXN0PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5hZ2VudEV2ZW50TGlzdCt0aGlzLnJhd0V2ZW50TGlzdDtpZihlLmxlbmd0aD49aS5MSU1JVFMuTElNSVRfUkVQT1JUX0VWRU5UU19JTkZPKXtlPWUuc3Vic3RyaW5nKDAsaS5MSU1JVFMuTElNSVRfUkVQT1JUX0VWRU5UU19JTkZPKTt2YXIgdD1lLmxhc3RJbmRleE9mKFwiOlwiKTt0PjAmJihlPWUuc3Vic3RyaW5nKDAsdCkpfXJldHVybiBlfSx0aGlzLmlzTWVkaWFFbmRlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm1lZGlhRW5kZWR9LHRoaXMuaXNCdWZmZXJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5idWZmZXJpbmd9LHRoaXMuYWRkU2VnbWVudD1mdW5jdGlvbihlLHQsbil7dmFyIHI9dGhpcy5zZWdtZW50TGlzdCtcIihcIitlK1wiLFwiK3QrXCIsXCIrbitcIilcIjtyLmxlbmd0aDxpLkxJTUlUUy5MSU1JVF9SRVBPUlRfU0VHTUVOVFNfSU5GTyYmKHRoaXMuc2VnbWVudExpc3Q9cil9LHRoaXMuYWRkQWdlbnRFdmVudD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmFnZW50RXZlbnRMaXN0K1wiOlwiK2UrXCI6XCIrdGhpcy5nZXRUaW1lKCk7dC5sZW5ndGg8aS5MSU1JVFMuTElNSVRfUkVQT1JUX0VWRU5UU19JTkZPJiYodGhpcy5hZ2VudEV2ZW50TGlzdD10KX0sdGhpcy5vblBsYXllclN0YXRlQ2hhbmdlPWZ1bmN0aW9uKGUsdCxuKXtpZihlIT1pLkVWRU5ULnBsYXllci5zdGF0ZV9yZWFkeSl7dmFyIHI9dGhpcy5nZXRUaW1lKCksbz1yLXRoaXMubGFzdFRpbWUsYT10aGlzLmdldENhY2hlZFBsYXllclBlcmNlbnRhZ2UoKTtpZih0aGlzLmxhc3RFdmVudD09aS5FVkVOVC5wbGF5ZXIuc3RhdGVfcGxheSYmKHRoaXMucGxheUR1cmF0aW9uKz1yLXRoaXMubGFzdFRpbWUpLHRoaXMubGFzdEV2ZW50PT1lKXJldHVybiB2b2lkKHRoaXMubGFzdFRpbWU9cik7MD09dGhpcy5maXJzdEV2ZW50VGltZSYmKHRoaXMuZmlyc3RFdmVudFRpbWU9ciksMD09dGhpcy5yZXNldFBsYXlUaW1lJiYwIT10aGlzLmZpcnN0UGxheVRpbWUmJnRoaXMubGFzdEV2ZW50PT1pLkVWRU5ULnBsYXllci5zdGF0ZV9wbGF5JiZlPT1pLkVWRU5ULnBsYXllci5zdGF0ZV9idWZmZXJpbmcmJm88MTAmJih0aGlzLnJlc2V0UGxheVRpbWU9ITAsdGhpcy5maXJzdFBsYXlUaW1lPTApLDA9PXRoaXMuZmlyc3RCdWZmZXJUaW1lJiZlPT1pLkVWRU5ULnBsYXllci5zdGF0ZV9idWZmZXJpbmcmJih0aGlzLmZpcnN0QnVmZmVyVGltZT1yKSwwIT10aGlzLmZpcnN0UGxheVRpbWUmJnRoaXMubGFzdEV2ZW50PT1pLkVWRU5ULnBsYXllci5zdGF0ZV9idWZmZXJpbmcmJmUhPWkuRVZFTlQucGxheWVyLnN0YXRlX2J1ZmZlcmluZyYmbz4xMCYmKHRoaXMuc3RhbGxDb3VudCsrLHRoaXMuc3RhbGxUaW1lKz1yLXRoaXMubGFzdFRpbWUpLDA9PT10aGlzLmZpcnN0UGxheVRpbWUmJmU9PT1pLkVWRU5ULnBsYXllci5zdGF0ZV9wbGF5JiYodGhpcy5maXJzdFBsYXlUaW1lPXIsdGhpcy5idWZmZXJUaW1lPXItdGhpcy5maXJzdEJ1ZmZlclRpbWUpLHRoaXMucmF3RXZlbnRMaXN0Kz1cIjpcIitlK1wiOlwiK3IsZT09aS5FVkVOVC5wbGF5ZXIuc3RhdGVfZW5kJiYodGhpcy5wZXJjZW50YWdlPXRoaXMubWF4UGVyY2VudGFnZT0xMDAsdGhpcy5tZWRpYUVuZGVkPSEwKSx0aGlzLmJ1ZmZlcmluZz1lPT1pLkVWRU5ULnBsYXllci5zdGF0ZV9idWZmZXJpbmcsZT09aS5FVkVOVC5wbGF5ZXIuc3RhdGVfc3RvcCYmKHRoaXMuYWRkU2VnbWVudCh0aGlzLmxhc3RTZWdtZW50UGVyY2VudGFnZSxhLFwic3RcIiksdGhpcy5sYXN0U2VnbWVudFBlcmNlbnRhZ2U9MCksZT09aS5FVkVOVC5wbGF5ZXIuc3RhdGVfcGF1c2UmJih0aGlzLmFkZFNlZ21lbnQodGhpcy5sYXN0U2VnbWVudFBlcmNlbnRhZ2UsYSxcInBzXCIpLHRoaXMubGFzdFNlZ21lbnRQZXJjZW50YWdlPWEpLGU9PWkuRVZFTlQucGxheWVyLnN0YXRlX2ZvcndhcmQmJih0aGlzLmFkZFNlZ21lbnQodGhpcy5sYXN0U2VnbWVudFBlcmNlbnRhZ2UsdCxcImZmXCIpLHRoaXMubGFzdFNlZ21lbnRQZXJjZW50YWdlPW4pLGU9PWkuRVZFTlQucGxheWVyLnN0YXRlX3JldmVyc2UmJih0aGlzLmFkZFNlZ21lbnQodGhpcy5sYXN0U2VnbWVudFBlcmNlbnRhZ2UsdCxcInJ3XCIpLHRoaXMubGFzdFNlZ21lbnRQZXJjZW50YWdlPW4pLGU9PWkuRVZFTlQucGxheWVyLnN0YXRlX2V4aXQmJih0aGlzLmxhc3RFdmVudD09aS5FVkVOVC5wbGF5ZXIuc3RhdGVfc3RvcCYmbzwxMDA/dGhpcy5hZGRTZWdtZW50KGEsYSxcImV4XCIpOnRoaXMuYWRkU2VnbWVudCh0aGlzLmxhc3RTZWdtZW50UGVyY2VudGFnZSxhLFwiZXhcIikpLHRoaXMubGFzdFRpbWU9cix0aGlzLmxhc3RFdmVudD1lLHRoaXMucGxheVN0YXRlQ2FsbGJhY2smJnRoaXMucGxheVN0YXRlQ2FsbGJhY2soZSl9fSx0aGlzLnNhdmVMb2NhbFN0b3JhZ2U9ZnVuY3Rpb24oZSx0KXtpZihcInVuZGVmaW5lZFwiIT09dHlwZW9mIFN0b3JhZ2UpdHJ5e2xvY2FsU3RvcmFnZS5zZXRJdGVtKGUsdCl9Y2F0Y2goZSl7cmV0dXJuIHZvaWQgY29uc29sZS5sb2coZSl9fSx0aGlzLnJlYWRMb2NhbFN0b3JhZ2U9ZnVuY3Rpb24oZSl7aWYoXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBTdG9yYWdlKXRyeXtyZXR1cm4gbG9jYWxTdG9yYWdlLmdldEl0ZW0oZSl9Y2F0Y2goZSl7cmV0dXJuIGNvbnNvbGUubG9nKGUpLG51bGx9fSx0aGlzLnJlbW92ZUxvY2FsU3RvcmFnZT1mdW5jdGlvbihlKXtpZihcInVuZGVmaW5lZFwiIT09dHlwZW9mIFN0b3JhZ2UpdHJ5e2xvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGUpfWNhdGNoKGUpe3JldHVybiB2b2lkIGNvbnNvbGUubG9nKGUpfX0sdGhpcy5zYXZlQ3VycmVudFN0YXRlPWZ1bmN0aW9uKGUpe2lmKGUpe3ZhciB0PXRoaXMucmVhZExvY2FsU3RvcmFnZShcImtzZG4uY3VycmVudC5yZXBvcnQuc2Vzc2lvbi5pZFwiKTt0JiZ0IT1lJiZ0aGlzLnJlbW92ZUxvY2FsU3RvcmFnZShcImtzZG4ucmVwb3J0LnNlc3Npb24uZGF0YS5cIit0KSx0aGlzLnNhdmVMb2NhbFN0b3JhZ2UoXCJrc2RuLmN1cnJlbnQucmVwb3J0LnNlc3Npb24uaWRcIixlKTt2YXIgbj17c3RhcnRUaW1lOnRoaXMuc3RhcnRUaW1lLHBsYXllclN0YXRlOnRoaXMucGxheWVyU3RhdGUsZmlyc3RFdmVudFRpbWU6dGhpcy5maXJzdEV2ZW50VGltZSxmaXJzdFBsYXlUaW1lOnRoaXMuZmlyc3RQbGF5VGltZSxmaXJzdEJ1ZmZlclRpbWU6dGhpcy5maXJzdEJ1ZmZlclRpbWUsc2VnbWVudExpc3Q6dGhpcy5zZWdtZW50TGlzdCxzdGFsbENvdW50OnRoaXMuc3RhbGxDb3VudCxzdGFsbFRpbWU6dGhpcy5zdGFsbFRpbWUsYnVmZmVyVGltZTp0aGlzLmdldEJ1ZmZlclRpbWUoKSxwbGF5RHVyYXRpb246dGhpcy5wbGF5RHVyYXRpb24sYWdlbnRFdmVudExpc3Q6dGhpcy5hZ2VudEV2ZW50TGlzdCxyYXdFdmVudExpc3Q6dGhpcy5yYXdFdmVudExpc3QsbGFzdFRpbWU6dGhpcy5sYXN0VGltZSxsYXN0RXZlbnQ6dGhpcy5sYXN0RXZlbnQscGxheVR5cGU6dGhpcy5wbGF5VHlwZX07dGhpcy5zYXZlTG9jYWxTdG9yYWdlKFwia3Nkbi5yZXBvcnQuc2Vzc2lvbi5kYXRhLlwiK2UsSlNPTi5zdHJpbmdpZnkobikpfX0sdGhpcy5yZWFkU2F2ZWRTdGF0ZT1mdW5jdGlvbihlKXtpZighZSlyZXR1cm4gbnVsbDt2YXIgdD10aGlzLnJlYWRMb2NhbFN0b3JhZ2UoXCJrc2RuLmN1cnJlbnQucmVwb3J0LnNlc3Npb24uaWRcIik7aWYodCl7aWYodD09ZSl7dmFyIG49dGhpcy5yZWFkTG9jYWxTdG9yYWdlKFwia3Nkbi5yZXBvcnQuc2Vzc2lvbi5kYXRhLlwiK2UpO3JldHVybiBKU09OLnBhcnNlKG4pfXRoaXMucmVtb3ZlTG9jYWxTdG9yYWdlKFwia3Nkbi5yZXBvcnQuc2Vzc2lvbi5kYXRhLlwiK3QpfXJldHVybiBudWxsfSx0aGlzLnJlc3RvcmVTYXZlZFN0YXRlPWZ1bmN0aW9uKGUpe2lmKGUpe3ZhciB0PXRoaXMucmVhZFNhdmVkU3RhdGUoZSk7aWYodCl7dGhpcy5zdGFydFRpbWU9dC5zdGFydFRpbWUsdGhpcy5wbGF5ZXJTdGF0ZT10LnBsYXllclN0YXRlLHRoaXMuZmlyc3RFdmVudFRpbWU9dC5maXJzdEV2ZW50VGltZSx0aGlzLmZpcnN0UGxheVRpbWU9dC5maXJzdFBsYXlUaW1lLHRoaXMuZmlyc3RCdWZmZXJUaW1lPXQuZmlyc3RCdWZmZXJUaW1lLHRoaXMuc2VnbWVudExpc3Q9dC5zZWdtZW50TGlzdCx0aGlzLnN0YWxsQ291bnQ9dC5zdGFsbENvdW50LHRoaXMuc3RhbGxUaW1lPXQuc3RhbGxUaW1lLHRoaXMuYnVmZmVyVGltZT10LmJ1ZmZlclRpbWUsdGhpcy5wbGF5RHVyYXRpb249dC5wbGF5RHVyYXRpb24sdGhpcy5sYXN0VGltZT10Lmxhc3RUaW1lLHRoaXMubGFzdEV2ZW50PXQubGFzdEV2ZW50LHRoaXMucGxheVR5cGU9dC5wbGF5VHlwZSx0aGlzLmFnZW50RXZlbnRMaXN0PXQuYWdlbnRFdmVudExpc3Q7dmFyIG49dGhpcy5nZXRUaW1lKCkscj10LnJhd0V2ZW50TGlzdCtcIjpcIitpLkVWRU5ULnBsYXllci5zdGF0ZV9yZWxvYWQrXCI6XCIrbjt0aGlzLnJhd0V2ZW50TGlzdD1yfX19LHRoaXMuc2V0UGxheVR5cGU9ZnVuY3Rpb24oZSl7dGhpcy5wbGF5VHlwZT1lfSx0aGlzLmdldFBsYXlUeXBlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGxheVR5cGV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBpPW4oMSksbz1uKDI5KSxhPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX0obyk7dC5kZWZhdWx0PXJ9LGZ1bmN0aW9uKGUsdCxuKXtmdW5jdGlvbiByKGUpe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiBlJiZvKGUpfXZhciBpPW4oMzApLG89aS5pc0Zpbml0ZTtlLmV4cG9ydHM9cn0sZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMzEpLGk9XCJvYmplY3RcIj09dHlwZW9mIHNlbGYmJnNlbGYmJnNlbGYuT2JqZWN0PT09T2JqZWN0JiZzZWxmLG89cnx8aXx8RnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpO2UuZXhwb3J0cz1vfSxmdW5jdGlvbihlLHQsbil7KGZ1bmN0aW9uKHQpe3ZhciBuPVwib2JqZWN0XCI9PXR5cGVvZiB0JiZ0JiZ0Lk9iamVjdD09PU9iamVjdCYmdDtlLmV4cG9ydHM9bn0pLmNhbGwodCxuKDApKX1dKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIva29sbGVjdGl2ZS9rb2xsZWN0aXZlLXNkbi0xLjEuMC5taW4uanNcbi8vIG1vZHVsZSBpZCA9IDcxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qIVxuICogVGhlIGJ1ZmZlciBtb2R1bGUgZnJvbSBub2RlLmpzLCBmb3IgdGhlIGJyb3dzZXIuXG4gKlxuICogQGF1dGhvciAgIEZlcm9zcyBBYm91a2hhZGlqZWggPGZlcm9zc0BmZXJvc3Mub3JnPiA8aHR0cDovL2Zlcm9zcy5vcmc+XG4gKiBAbGljZW5zZSAgTUlUXG4gKi9cbi8qIGVzbGludC1kaXNhYmxlIG5vLXByb3RvICovXG5cbid1c2Ugc3RyaWN0J1xuXG52YXIgYmFzZTY0ID0gcmVxdWlyZSgnYmFzZTY0LWpzJylcbnZhciBpZWVlNzU0ID0gcmVxdWlyZSgnaWVlZTc1NCcpXG52YXIgaXNBcnJheSA9IHJlcXVpcmUoJ2lzYXJyYXknKVxuXG5leHBvcnRzLkJ1ZmZlciA9IEJ1ZmZlclxuZXhwb3J0cy5TbG93QnVmZmVyID0gU2xvd0J1ZmZlclxuZXhwb3J0cy5JTlNQRUNUX01BWF9CWVRFUyA9IDUwXG5cbi8qKlxuICogSWYgYEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUYDpcbiAqICAgPT09IHRydWUgICAgVXNlIFVpbnQ4QXJyYXkgaW1wbGVtZW50YXRpb24gKGZhc3Rlc3QpXG4gKiAgID09PSBmYWxzZSAgIFVzZSBPYmplY3QgaW1wbGVtZW50YXRpb24gKG1vc3QgY29tcGF0aWJsZSwgZXZlbiBJRTYpXG4gKlxuICogQnJvd3NlcnMgdGhhdCBzdXBwb3J0IHR5cGVkIGFycmF5cyBhcmUgSUUgMTArLCBGaXJlZm94IDQrLCBDaHJvbWUgNyssIFNhZmFyaSA1LjErLFxuICogT3BlcmEgMTEuNissIGlPUyA0LjIrLlxuICpcbiAqIER1ZSB0byB2YXJpb3VzIGJyb3dzZXIgYnVncywgc29tZXRpbWVzIHRoZSBPYmplY3QgaW1wbGVtZW50YXRpb24gd2lsbCBiZSB1c2VkIGV2ZW5cbiAqIHdoZW4gdGhlIGJyb3dzZXIgc3VwcG9ydHMgdHlwZWQgYXJyYXlzLlxuICpcbiAqIE5vdGU6XG4gKlxuICogICAtIEZpcmVmb3ggNC0yOSBsYWNrcyBzdXBwb3J0IGZvciBhZGRpbmcgbmV3IHByb3BlcnRpZXMgdG8gYFVpbnQ4QXJyYXlgIGluc3RhbmNlcyxcbiAqICAgICBTZWU6IGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTY5NTQzOC5cbiAqXG4gKiAgIC0gQ2hyb21lIDktMTAgaXMgbWlzc2luZyB0aGUgYFR5cGVkQXJyYXkucHJvdG90eXBlLnN1YmFycmF5YCBmdW5jdGlvbi5cbiAqXG4gKiAgIC0gSUUxMCBoYXMgYSBicm9rZW4gYFR5cGVkQXJyYXkucHJvdG90eXBlLnN1YmFycmF5YCBmdW5jdGlvbiB3aGljaCByZXR1cm5zIGFycmF5cyBvZlxuICogICAgIGluY29ycmVjdCBsZW5ndGggaW4gc29tZSBzaXR1YXRpb25zLlxuXG4gKiBXZSBkZXRlY3QgdGhlc2UgYnVnZ3kgYnJvd3NlcnMgYW5kIHNldCBgQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlRgIHRvIGBmYWxzZWAgc28gdGhleVxuICogZ2V0IHRoZSBPYmplY3QgaW1wbGVtZW50YXRpb24sIHdoaWNoIGlzIHNsb3dlciBidXQgYmVoYXZlcyBjb3JyZWN0bHkuXG4gKi9cbkJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUID0gZ2xvYmFsLlRZUEVEX0FSUkFZX1NVUFBPUlQgIT09IHVuZGVmaW5lZFxuICA/IGdsb2JhbC5UWVBFRF9BUlJBWV9TVVBQT1JUXG4gIDogdHlwZWRBcnJheVN1cHBvcnQoKVxuXG4vKlxuICogRXhwb3J0IGtNYXhMZW5ndGggYWZ0ZXIgdHlwZWQgYXJyYXkgc3VwcG9ydCBpcyBkZXRlcm1pbmVkLlxuICovXG5leHBvcnRzLmtNYXhMZW5ndGggPSBrTWF4TGVuZ3RoKClcblxuZnVuY3Rpb24gdHlwZWRBcnJheVN1cHBvcnQgKCkge1xuICB0cnkge1xuICAgIHZhciBhcnIgPSBuZXcgVWludDhBcnJheSgxKVxuICAgIGFyci5fX3Byb3RvX18gPSB7X19wcm90b19fOiBVaW50OEFycmF5LnByb3RvdHlwZSwgZm9vOiBmdW5jdGlvbiAoKSB7IHJldHVybiA0MiB9fVxuICAgIHJldHVybiBhcnIuZm9vKCkgPT09IDQyICYmIC8vIHR5cGVkIGFycmF5IGluc3RhbmNlcyBjYW4gYmUgYXVnbWVudGVkXG4gICAgICAgIHR5cGVvZiBhcnIuc3ViYXJyYXkgPT09ICdmdW5jdGlvbicgJiYgLy8gY2hyb21lIDktMTAgbGFjayBgc3ViYXJyYXlgXG4gICAgICAgIGFyci5zdWJhcnJheSgxLCAxKS5ieXRlTGVuZ3RoID09PSAwIC8vIGllMTAgaGFzIGJyb2tlbiBgc3ViYXJyYXlgXG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxufVxuXG5mdW5jdGlvbiBrTWF4TGVuZ3RoICgpIHtcbiAgcmV0dXJuIEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUXG4gICAgPyAweDdmZmZmZmZmXG4gICAgOiAweDNmZmZmZmZmXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUJ1ZmZlciAodGhhdCwgbGVuZ3RoKSB7XG4gIGlmIChrTWF4TGVuZ3RoKCkgPCBsZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignSW52YWxpZCB0eXBlZCBhcnJheSBsZW5ndGgnKVxuICB9XG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIC8vIFJldHVybiBhbiBhdWdtZW50ZWQgYFVpbnQ4QXJyYXlgIGluc3RhbmNlLCBmb3IgYmVzdCBwZXJmb3JtYW5jZVxuICAgIHRoYXQgPSBuZXcgVWludDhBcnJheShsZW5ndGgpXG4gICAgdGhhdC5fX3Byb3RvX18gPSBCdWZmZXIucHJvdG90eXBlXG4gIH0gZWxzZSB7XG4gICAgLy8gRmFsbGJhY2s6IFJldHVybiBhbiBvYmplY3QgaW5zdGFuY2Ugb2YgdGhlIEJ1ZmZlciBjbGFzc1xuICAgIGlmICh0aGF0ID09PSBudWxsKSB7XG4gICAgICB0aGF0ID0gbmV3IEJ1ZmZlcihsZW5ndGgpXG4gICAgfVxuICAgIHRoYXQubGVuZ3RoID0gbGVuZ3RoXG4gIH1cblxuICByZXR1cm4gdGhhdFxufVxuXG4vKipcbiAqIFRoZSBCdWZmZXIgY29uc3RydWN0b3IgcmV0dXJucyBpbnN0YW5jZXMgb2YgYFVpbnQ4QXJyYXlgIHRoYXQgaGF2ZSB0aGVpclxuICogcHJvdG90eXBlIGNoYW5nZWQgdG8gYEJ1ZmZlci5wcm90b3R5cGVgLiBGdXJ0aGVybW9yZSwgYEJ1ZmZlcmAgaXMgYSBzdWJjbGFzcyBvZlxuICogYFVpbnQ4QXJyYXlgLCBzbyB0aGUgcmV0dXJuZWQgaW5zdGFuY2VzIHdpbGwgaGF2ZSBhbGwgdGhlIG5vZGUgYEJ1ZmZlcmAgbWV0aG9kc1xuICogYW5kIHRoZSBgVWludDhBcnJheWAgbWV0aG9kcy4gU3F1YXJlIGJyYWNrZXQgbm90YXRpb24gd29ya3MgYXMgZXhwZWN0ZWQgLS0gaXRcbiAqIHJldHVybnMgYSBzaW5nbGUgb2N0ZXQuXG4gKlxuICogVGhlIGBVaW50OEFycmF5YCBwcm90b3R5cGUgcmVtYWlucyB1bm1vZGlmaWVkLlxuICovXG5cbmZ1bmN0aW9uIEJ1ZmZlciAoYXJnLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpIHtcbiAgaWYgKCFCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCAmJiAhKHRoaXMgaW5zdGFuY2VvZiBCdWZmZXIpKSB7XG4gICAgcmV0dXJuIG5ldyBCdWZmZXIoYXJnLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpXG4gIH1cblxuICAvLyBDb21tb24gY2FzZS5cbiAgaWYgKHR5cGVvZiBhcmcgPT09ICdudW1iZXInKSB7XG4gICAgaWYgKHR5cGVvZiBlbmNvZGluZ09yT2Zmc2V0ID09PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnSWYgZW5jb2RpbmcgaXMgc3BlY2lmaWVkIHRoZW4gdGhlIGZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYSBzdHJpbmcnXG4gICAgICApXG4gICAgfVxuICAgIHJldHVybiBhbGxvY1Vuc2FmZSh0aGlzLCBhcmcpXG4gIH1cbiAgcmV0dXJuIGZyb20odGhpcywgYXJnLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpXG59XG5cbkJ1ZmZlci5wb29sU2l6ZSA9IDgxOTIgLy8gbm90IHVzZWQgYnkgdGhpcyBpbXBsZW1lbnRhdGlvblxuXG4vLyBUT0RPOiBMZWdhY3ksIG5vdCBuZWVkZWQgYW55bW9yZS4gUmVtb3ZlIGluIG5leHQgbWFqb3IgdmVyc2lvbi5cbkJ1ZmZlci5fYXVnbWVudCA9IGZ1bmN0aW9uIChhcnIpIHtcbiAgYXJyLl9fcHJvdG9fXyA9IEJ1ZmZlci5wcm90b3R5cGVcbiAgcmV0dXJuIGFyclxufVxuXG5mdW5jdGlvbiBmcm9tICh0aGF0LCB2YWx1ZSwgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKSB7XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJ2YWx1ZVwiIGFyZ3VtZW50IG11c3Qgbm90IGJlIGEgbnVtYmVyJylcbiAgfVxuXG4gIGlmICh0eXBlb2YgQXJyYXlCdWZmZXIgIT09ICd1bmRlZmluZWQnICYmIHZhbHVlIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHtcbiAgICByZXR1cm4gZnJvbUFycmF5QnVmZmVyKHRoYXQsIHZhbHVlLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpXG4gIH1cblxuICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBmcm9tU3RyaW5nKHRoYXQsIHZhbHVlLCBlbmNvZGluZ09yT2Zmc2V0KVxuICB9XG5cbiAgcmV0dXJuIGZyb21PYmplY3QodGhhdCwgdmFsdWUpXG59XG5cbi8qKlxuICogRnVuY3Rpb25hbGx5IGVxdWl2YWxlbnQgdG8gQnVmZmVyKGFyZywgZW5jb2RpbmcpIGJ1dCB0aHJvd3MgYSBUeXBlRXJyb3JcbiAqIGlmIHZhbHVlIGlzIGEgbnVtYmVyLlxuICogQnVmZmVyLmZyb20oc3RyWywgZW5jb2RpbmddKVxuICogQnVmZmVyLmZyb20oYXJyYXkpXG4gKiBCdWZmZXIuZnJvbShidWZmZXIpXG4gKiBCdWZmZXIuZnJvbShhcnJheUJ1ZmZlclssIGJ5dGVPZmZzZXRbLCBsZW5ndGhdXSlcbiAqKi9cbkJ1ZmZlci5mcm9tID0gZnVuY3Rpb24gKHZhbHVlLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIGZyb20obnVsbCwgdmFsdWUsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aClcbn1cblxuaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gIEJ1ZmZlci5wcm90b3R5cGUuX19wcm90b19fID0gVWludDhBcnJheS5wcm90b3R5cGVcbiAgQnVmZmVyLl9fcHJvdG9fXyA9IFVpbnQ4QXJyYXlcbiAgaWYgKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC5zcGVjaWVzICYmXG4gICAgICBCdWZmZXJbU3ltYm9sLnNwZWNpZXNdID09PSBCdWZmZXIpIHtcbiAgICAvLyBGaXggc3ViYXJyYXkoKSBpbiBFUzIwMTYuIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2Zlcm9zcy9idWZmZXIvcHVsbC85N1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCdWZmZXIsIFN5bWJvbC5zcGVjaWVzLCB7XG4gICAgICB2YWx1ZTogbnVsbCxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pXG4gIH1cbn1cblxuZnVuY3Rpb24gYXNzZXJ0U2l6ZSAoc2l6ZSkge1xuICBpZiAodHlwZW9mIHNpemUgIT09ICdudW1iZXInKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJzaXplXCIgYXJndW1lbnQgbXVzdCBiZSBhIG51bWJlcicpXG4gIH0gZWxzZSBpZiAoc2l6ZSA8IDApIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignXCJzaXplXCIgYXJndW1lbnQgbXVzdCBub3QgYmUgbmVnYXRpdmUnKVxuICB9XG59XG5cbmZ1bmN0aW9uIGFsbG9jICh0aGF0LCBzaXplLCBmaWxsLCBlbmNvZGluZykge1xuICBhc3NlcnRTaXplKHNpemUpXG4gIGlmIChzaXplIDw9IDApIHtcbiAgICByZXR1cm4gY3JlYXRlQnVmZmVyKHRoYXQsIHNpemUpXG4gIH1cbiAgaWYgKGZpbGwgIT09IHVuZGVmaW5lZCkge1xuICAgIC8vIE9ubHkgcGF5IGF0dGVudGlvbiB0byBlbmNvZGluZyBpZiBpdCdzIGEgc3RyaW5nLiBUaGlzXG4gICAgLy8gcHJldmVudHMgYWNjaWRlbnRhbGx5IHNlbmRpbmcgaW4gYSBudW1iZXIgdGhhdCB3b3VsZFxuICAgIC8vIGJlIGludGVycHJldHRlZCBhcyBhIHN0YXJ0IG9mZnNldC5cbiAgICByZXR1cm4gdHlwZW9mIGVuY29kaW5nID09PSAnc3RyaW5nJ1xuICAgICAgPyBjcmVhdGVCdWZmZXIodGhhdCwgc2l6ZSkuZmlsbChmaWxsLCBlbmNvZGluZylcbiAgICAgIDogY3JlYXRlQnVmZmVyKHRoYXQsIHNpemUpLmZpbGwoZmlsbClcbiAgfVxuICByZXR1cm4gY3JlYXRlQnVmZmVyKHRoYXQsIHNpemUpXG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBmaWxsZWQgQnVmZmVyIGluc3RhbmNlLlxuICogYWxsb2Moc2l6ZVssIGZpbGxbLCBlbmNvZGluZ11dKVxuICoqL1xuQnVmZmVyLmFsbG9jID0gZnVuY3Rpb24gKHNpemUsIGZpbGwsIGVuY29kaW5nKSB7XG4gIHJldHVybiBhbGxvYyhudWxsLCBzaXplLCBmaWxsLCBlbmNvZGluZylcbn1cblxuZnVuY3Rpb24gYWxsb2NVbnNhZmUgKHRoYXQsIHNpemUpIHtcbiAgYXNzZXJ0U2l6ZShzaXplKVxuICB0aGF0ID0gY3JlYXRlQnVmZmVyKHRoYXQsIHNpemUgPCAwID8gMCA6IGNoZWNrZWQoc2l6ZSkgfCAwKVxuICBpZiAoIUJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaXplOyArK2kpIHtcbiAgICAgIHRoYXRbaV0gPSAwXG4gICAgfVxuICB9XG4gIHJldHVybiB0aGF0XG59XG5cbi8qKlxuICogRXF1aXZhbGVudCB0byBCdWZmZXIobnVtKSwgYnkgZGVmYXVsdCBjcmVhdGVzIGEgbm9uLXplcm8tZmlsbGVkIEJ1ZmZlciBpbnN0YW5jZS5cbiAqICovXG5CdWZmZXIuYWxsb2NVbnNhZmUgPSBmdW5jdGlvbiAoc2l6ZSkge1xuICByZXR1cm4gYWxsb2NVbnNhZmUobnVsbCwgc2l6ZSlcbn1cbi8qKlxuICogRXF1aXZhbGVudCB0byBTbG93QnVmZmVyKG51bSksIGJ5IGRlZmF1bHQgY3JlYXRlcyBhIG5vbi16ZXJvLWZpbGxlZCBCdWZmZXIgaW5zdGFuY2UuXG4gKi9cbkJ1ZmZlci5hbGxvY1Vuc2FmZVNsb3cgPSBmdW5jdGlvbiAoc2l6ZSkge1xuICByZXR1cm4gYWxsb2NVbnNhZmUobnVsbCwgc2l6ZSlcbn1cblxuZnVuY3Rpb24gZnJvbVN0cmluZyAodGhhdCwgc3RyaW5nLCBlbmNvZGluZykge1xuICBpZiAodHlwZW9mIGVuY29kaW5nICE9PSAnc3RyaW5nJyB8fCBlbmNvZGluZyA9PT0gJycpIHtcbiAgICBlbmNvZGluZyA9ICd1dGY4J1xuICB9XG5cbiAgaWYgKCFCdWZmZXIuaXNFbmNvZGluZyhlbmNvZGluZykpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcImVuY29kaW5nXCIgbXVzdCBiZSBhIHZhbGlkIHN0cmluZyBlbmNvZGluZycpXG4gIH1cblxuICB2YXIgbGVuZ3RoID0gYnl0ZUxlbmd0aChzdHJpbmcsIGVuY29kaW5nKSB8IDBcbiAgdGhhdCA9IGNyZWF0ZUJ1ZmZlcih0aGF0LCBsZW5ndGgpXG5cbiAgdmFyIGFjdHVhbCA9IHRoYXQud3JpdGUoc3RyaW5nLCBlbmNvZGluZylcblxuICBpZiAoYWN0dWFsICE9PSBsZW5ndGgpIHtcbiAgICAvLyBXcml0aW5nIGEgaGV4IHN0cmluZywgZm9yIGV4YW1wbGUsIHRoYXQgY29udGFpbnMgaW52YWxpZCBjaGFyYWN0ZXJzIHdpbGxcbiAgICAvLyBjYXVzZSBldmVyeXRoaW5nIGFmdGVyIHRoZSBmaXJzdCBpbnZhbGlkIGNoYXJhY3RlciB0byBiZSBpZ25vcmVkLiAoZS5nLlxuICAgIC8vICdhYnh4Y2QnIHdpbGwgYmUgdHJlYXRlZCBhcyAnYWInKVxuICAgIHRoYXQgPSB0aGF0LnNsaWNlKDAsIGFjdHVhbClcbiAgfVxuXG4gIHJldHVybiB0aGF0XG59XG5cbmZ1bmN0aW9uIGZyb21BcnJheUxpa2UgKHRoYXQsIGFycmF5KSB7XG4gIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGggPCAwID8gMCA6IGNoZWNrZWQoYXJyYXkubGVuZ3RoKSB8IDBcbiAgdGhhdCA9IGNyZWF0ZUJ1ZmZlcih0aGF0LCBsZW5ndGgpXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpICs9IDEpIHtcbiAgICB0aGF0W2ldID0gYXJyYXlbaV0gJiAyNTVcbiAgfVxuICByZXR1cm4gdGhhdFxufVxuXG5mdW5jdGlvbiBmcm9tQXJyYXlCdWZmZXIgKHRoYXQsIGFycmF5LCBieXRlT2Zmc2V0LCBsZW5ndGgpIHtcbiAgYXJyYXkuYnl0ZUxlbmd0aCAvLyB0aGlzIHRocm93cyBpZiBgYXJyYXlgIGlzIG5vdCBhIHZhbGlkIEFycmF5QnVmZmVyXG5cbiAgaWYgKGJ5dGVPZmZzZXQgPCAwIHx8IGFycmF5LmJ5dGVMZW5ndGggPCBieXRlT2Zmc2V0KSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1xcJ29mZnNldFxcJyBpcyBvdXQgb2YgYm91bmRzJylcbiAgfVxuXG4gIGlmIChhcnJheS5ieXRlTGVuZ3RoIDwgYnl0ZU9mZnNldCArIChsZW5ndGggfHwgMCkpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignXFwnbGVuZ3RoXFwnIGlzIG91dCBvZiBib3VuZHMnKVxuICB9XG5cbiAgaWYgKGJ5dGVPZmZzZXQgPT09IHVuZGVmaW5lZCAmJiBsZW5ndGggPT09IHVuZGVmaW5lZCkge1xuICAgIGFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXkpXG4gIH0gZWxzZSBpZiAobGVuZ3RoID09PSB1bmRlZmluZWQpIHtcbiAgICBhcnJheSA9IG5ldyBVaW50OEFycmF5KGFycmF5LCBieXRlT2Zmc2V0KVxuICB9IGVsc2Uge1xuICAgIGFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXksIGJ5dGVPZmZzZXQsIGxlbmd0aClcbiAgfVxuXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIC8vIFJldHVybiBhbiBhdWdtZW50ZWQgYFVpbnQ4QXJyYXlgIGluc3RhbmNlLCBmb3IgYmVzdCBwZXJmb3JtYW5jZVxuICAgIHRoYXQgPSBhcnJheVxuICAgIHRoYXQuX19wcm90b19fID0gQnVmZmVyLnByb3RvdHlwZVxuICB9IGVsc2Uge1xuICAgIC8vIEZhbGxiYWNrOiBSZXR1cm4gYW4gb2JqZWN0IGluc3RhbmNlIG9mIHRoZSBCdWZmZXIgY2xhc3NcbiAgICB0aGF0ID0gZnJvbUFycmF5TGlrZSh0aGF0LCBhcnJheSlcbiAgfVxuICByZXR1cm4gdGhhdFxufVxuXG5mdW5jdGlvbiBmcm9tT2JqZWN0ICh0aGF0LCBvYmopIHtcbiAgaWYgKEJ1ZmZlci5pc0J1ZmZlcihvYmopKSB7XG4gICAgdmFyIGxlbiA9IGNoZWNrZWQob2JqLmxlbmd0aCkgfCAwXG4gICAgdGhhdCA9IGNyZWF0ZUJ1ZmZlcih0aGF0LCBsZW4pXG5cbiAgICBpZiAodGhhdC5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiB0aGF0XG4gICAgfVxuXG4gICAgb2JqLmNvcHkodGhhdCwgMCwgMCwgbGVuKVxuICAgIHJldHVybiB0aGF0XG4gIH1cblxuICBpZiAob2JqKSB7XG4gICAgaWYgKCh0eXBlb2YgQXJyYXlCdWZmZXIgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgIG9iai5idWZmZXIgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikgfHwgJ2xlbmd0aCcgaW4gb2JqKSB7XG4gICAgICBpZiAodHlwZW9mIG9iai5sZW5ndGggIT09ICdudW1iZXInIHx8IGlzbmFuKG9iai5sZW5ndGgpKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVCdWZmZXIodGhhdCwgMClcbiAgICAgIH1cbiAgICAgIHJldHVybiBmcm9tQXJyYXlMaWtlKHRoYXQsIG9iailcbiAgICB9XG5cbiAgICBpZiAob2JqLnR5cGUgPT09ICdCdWZmZXInICYmIGlzQXJyYXkob2JqLmRhdGEpKSB7XG4gICAgICByZXR1cm4gZnJvbUFycmF5TGlrZSh0aGF0LCBvYmouZGF0YSlcbiAgICB9XG4gIH1cblxuICB0aHJvdyBuZXcgVHlwZUVycm9yKCdGaXJzdCBhcmd1bWVudCBtdXN0IGJlIGEgc3RyaW5nLCBCdWZmZXIsIEFycmF5QnVmZmVyLCBBcnJheSwgb3IgYXJyYXktbGlrZSBvYmplY3QuJylcbn1cblxuZnVuY3Rpb24gY2hlY2tlZCAobGVuZ3RoKSB7XG4gIC8vIE5vdGU6IGNhbm5vdCB1c2UgYGxlbmd0aCA8IGtNYXhMZW5ndGgoKWAgaGVyZSBiZWNhdXNlIHRoYXQgZmFpbHMgd2hlblxuICAvLyBsZW5ndGggaXMgTmFOICh3aGljaCBpcyBvdGhlcndpc2UgY29lcmNlZCB0byB6ZXJvLilcbiAgaWYgKGxlbmd0aCA+PSBrTWF4TGVuZ3RoKCkpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQXR0ZW1wdCB0byBhbGxvY2F0ZSBCdWZmZXIgbGFyZ2VyIHRoYW4gbWF4aW11bSAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAnc2l6ZTogMHgnICsga01heExlbmd0aCgpLnRvU3RyaW5nKDE2KSArICcgYnl0ZXMnKVxuICB9XG4gIHJldHVybiBsZW5ndGggfCAwXG59XG5cbmZ1bmN0aW9uIFNsb3dCdWZmZXIgKGxlbmd0aCkge1xuICBpZiAoK2xlbmd0aCAhPSBsZW5ndGgpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBlcWVxZXFcbiAgICBsZW5ndGggPSAwXG4gIH1cbiAgcmV0dXJuIEJ1ZmZlci5hbGxvYygrbGVuZ3RoKVxufVxuXG5CdWZmZXIuaXNCdWZmZXIgPSBmdW5jdGlvbiBpc0J1ZmZlciAoYikge1xuICByZXR1cm4gISEoYiAhPSBudWxsICYmIGIuX2lzQnVmZmVyKVxufVxuXG5CdWZmZXIuY29tcGFyZSA9IGZ1bmN0aW9uIGNvbXBhcmUgKGEsIGIpIHtcbiAgaWYgKCFCdWZmZXIuaXNCdWZmZXIoYSkgfHwgIUJ1ZmZlci5pc0J1ZmZlcihiKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50cyBtdXN0IGJlIEJ1ZmZlcnMnKVxuICB9XG5cbiAgaWYgKGEgPT09IGIpIHJldHVybiAwXG5cbiAgdmFyIHggPSBhLmxlbmd0aFxuICB2YXIgeSA9IGIubGVuZ3RoXG5cbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IE1hdGgubWluKHgsIHkpOyBpIDwgbGVuOyArK2kpIHtcbiAgICBpZiAoYVtpXSAhPT0gYltpXSkge1xuICAgICAgeCA9IGFbaV1cbiAgICAgIHkgPSBiW2ldXG4gICAgICBicmVha1xuICAgIH1cbiAgfVxuXG4gIGlmICh4IDwgeSkgcmV0dXJuIC0xXG4gIGlmICh5IDwgeCkgcmV0dXJuIDFcbiAgcmV0dXJuIDBcbn1cblxuQnVmZmVyLmlzRW5jb2RpbmcgPSBmdW5jdGlvbiBpc0VuY29kaW5nIChlbmNvZGluZykge1xuICBzd2l0Y2ggKFN0cmluZyhlbmNvZGluZykudG9Mb3dlckNhc2UoKSkge1xuICAgIGNhc2UgJ2hleCc6XG4gICAgY2FzZSAndXRmOCc6XG4gICAgY2FzZSAndXRmLTgnOlxuICAgIGNhc2UgJ2FzY2lpJzpcbiAgICBjYXNlICdsYXRpbjEnOlxuICAgIGNhc2UgJ2JpbmFyeSc6XG4gICAgY2FzZSAnYmFzZTY0JzpcbiAgICBjYXNlICd1Y3MyJzpcbiAgICBjYXNlICd1Y3MtMic6XG4gICAgY2FzZSAndXRmMTZsZSc6XG4gICAgY2FzZSAndXRmLTE2bGUnOlxuICAgICAgcmV0dXJuIHRydWVcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGZhbHNlXG4gIH1cbn1cblxuQnVmZmVyLmNvbmNhdCA9IGZ1bmN0aW9uIGNvbmNhdCAobGlzdCwgbGVuZ3RoKSB7XG4gIGlmICghaXNBcnJheShsaXN0KSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wibGlzdFwiIGFyZ3VtZW50IG11c3QgYmUgYW4gQXJyYXkgb2YgQnVmZmVycycpXG4gIH1cblxuICBpZiAobGlzdC5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gQnVmZmVyLmFsbG9jKDApXG4gIH1cblxuICB2YXIgaVxuICBpZiAobGVuZ3RoID09PSB1bmRlZmluZWQpIHtcbiAgICBsZW5ndGggPSAwXG4gICAgZm9yIChpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyArK2kpIHtcbiAgICAgIGxlbmd0aCArPSBsaXN0W2ldLmxlbmd0aFxuICAgIH1cbiAgfVxuXG4gIHZhciBidWZmZXIgPSBCdWZmZXIuYWxsb2NVbnNhZmUobGVuZ3RoKVxuICB2YXIgcG9zID0gMFxuICBmb3IgKGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7ICsraSkge1xuICAgIHZhciBidWYgPSBsaXN0W2ldXG4gICAgaWYgKCFCdWZmZXIuaXNCdWZmZXIoYnVmKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJsaXN0XCIgYXJndW1lbnQgbXVzdCBiZSBhbiBBcnJheSBvZiBCdWZmZXJzJylcbiAgICB9XG4gICAgYnVmLmNvcHkoYnVmZmVyLCBwb3MpXG4gICAgcG9zICs9IGJ1Zi5sZW5ndGhcbiAgfVxuICByZXR1cm4gYnVmZmVyXG59XG5cbmZ1bmN0aW9uIGJ5dGVMZW5ndGggKHN0cmluZywgZW5jb2RpbmcpIHtcbiAgaWYgKEJ1ZmZlci5pc0J1ZmZlcihzdHJpbmcpKSB7XG4gICAgcmV0dXJuIHN0cmluZy5sZW5ndGhcbiAgfVxuICBpZiAodHlwZW9mIEFycmF5QnVmZmVyICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgQXJyYXlCdWZmZXIuaXNWaWV3ID09PSAnZnVuY3Rpb24nICYmXG4gICAgICAoQXJyYXlCdWZmZXIuaXNWaWV3KHN0cmluZykgfHwgc3RyaW5nIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpKSB7XG4gICAgcmV0dXJuIHN0cmluZy5ieXRlTGVuZ3RoXG4gIH1cbiAgaWYgKHR5cGVvZiBzdHJpbmcgIT09ICdzdHJpbmcnKSB7XG4gICAgc3RyaW5nID0gJycgKyBzdHJpbmdcbiAgfVxuXG4gIHZhciBsZW4gPSBzdHJpbmcubGVuZ3RoXG4gIGlmIChsZW4gPT09IDApIHJldHVybiAwXG5cbiAgLy8gVXNlIGEgZm9yIGxvb3AgdG8gYXZvaWQgcmVjdXJzaW9uXG4gIHZhciBsb3dlcmVkQ2FzZSA9IGZhbHNlXG4gIGZvciAoOzspIHtcbiAgICBzd2l0Y2ggKGVuY29kaW5nKSB7XG4gICAgICBjYXNlICdhc2NpaSc6XG4gICAgICBjYXNlICdsYXRpbjEnOlxuICAgICAgY2FzZSAnYmluYXJ5JzpcbiAgICAgICAgcmV0dXJuIGxlblxuICAgICAgY2FzZSAndXRmOCc6XG4gICAgICBjYXNlICd1dGYtOCc6XG4gICAgICBjYXNlIHVuZGVmaW5lZDpcbiAgICAgICAgcmV0dXJuIHV0ZjhUb0J5dGVzKHN0cmluZykubGVuZ3RoXG4gICAgICBjYXNlICd1Y3MyJzpcbiAgICAgIGNhc2UgJ3Vjcy0yJzpcbiAgICAgIGNhc2UgJ3V0ZjE2bGUnOlxuICAgICAgY2FzZSAndXRmLTE2bGUnOlxuICAgICAgICByZXR1cm4gbGVuICogMlxuICAgICAgY2FzZSAnaGV4JzpcbiAgICAgICAgcmV0dXJuIGxlbiA+Pj4gMVxuICAgICAgY2FzZSAnYmFzZTY0JzpcbiAgICAgICAgcmV0dXJuIGJhc2U2NFRvQnl0ZXMoc3RyaW5nKS5sZW5ndGhcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGlmIChsb3dlcmVkQ2FzZSkgcmV0dXJuIHV0ZjhUb0J5dGVzKHN0cmluZykubGVuZ3RoIC8vIGFzc3VtZSB1dGY4XG4gICAgICAgIGVuY29kaW5nID0gKCcnICsgZW5jb2RpbmcpLnRvTG93ZXJDYXNlKClcbiAgICAgICAgbG93ZXJlZENhc2UgPSB0cnVlXG4gICAgfVxuICB9XG59XG5CdWZmZXIuYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGhcblxuZnVuY3Rpb24gc2xvd1RvU3RyaW5nIChlbmNvZGluZywgc3RhcnQsIGVuZCkge1xuICB2YXIgbG93ZXJlZENhc2UgPSBmYWxzZVxuXG4gIC8vIE5vIG5lZWQgdG8gdmVyaWZ5IHRoYXQgXCJ0aGlzLmxlbmd0aCA8PSBNQVhfVUlOVDMyXCIgc2luY2UgaXQncyBhIHJlYWQtb25seVxuICAvLyBwcm9wZXJ0eSBvZiBhIHR5cGVkIGFycmF5LlxuXG4gIC8vIFRoaXMgYmVoYXZlcyBuZWl0aGVyIGxpa2UgU3RyaW5nIG5vciBVaW50OEFycmF5IGluIHRoYXQgd2Ugc2V0IHN0YXJ0L2VuZFxuICAvLyB0byB0aGVpciB1cHBlci9sb3dlciBib3VuZHMgaWYgdGhlIHZhbHVlIHBhc3NlZCBpcyBvdXQgb2YgcmFuZ2UuXG4gIC8vIHVuZGVmaW5lZCBpcyBoYW5kbGVkIHNwZWNpYWxseSBhcyBwZXIgRUNNQS0yNjIgNnRoIEVkaXRpb24sXG4gIC8vIFNlY3Rpb24gMTMuMy4zLjcgUnVudGltZSBTZW1hbnRpY3M6IEtleWVkQmluZGluZ0luaXRpYWxpemF0aW9uLlxuICBpZiAoc3RhcnQgPT09IHVuZGVmaW5lZCB8fCBzdGFydCA8IDApIHtcbiAgICBzdGFydCA9IDBcbiAgfVxuICAvLyBSZXR1cm4gZWFybHkgaWYgc3RhcnQgPiB0aGlzLmxlbmd0aC4gRG9uZSBoZXJlIHRvIHByZXZlbnQgcG90ZW50aWFsIHVpbnQzMlxuICAvLyBjb2VyY2lvbiBmYWlsIGJlbG93LlxuICBpZiAoc3RhcnQgPiB0aGlzLmxlbmd0aCkge1xuICAgIHJldHVybiAnJ1xuICB9XG5cbiAgaWYgKGVuZCA9PT0gdW5kZWZpbmVkIHx8IGVuZCA+IHRoaXMubGVuZ3RoKSB7XG4gICAgZW5kID0gdGhpcy5sZW5ndGhcbiAgfVxuXG4gIGlmIChlbmQgPD0gMCkge1xuICAgIHJldHVybiAnJ1xuICB9XG5cbiAgLy8gRm9yY2UgY29lcnNpb24gdG8gdWludDMyLiBUaGlzIHdpbGwgYWxzbyBjb2VyY2UgZmFsc2V5L05hTiB2YWx1ZXMgdG8gMC5cbiAgZW5kID4+Pj0gMFxuICBzdGFydCA+Pj49IDBcblxuICBpZiAoZW5kIDw9IHN0YXJ0KSB7XG4gICAgcmV0dXJuICcnXG4gIH1cblxuICBpZiAoIWVuY29kaW5nKSBlbmNvZGluZyA9ICd1dGY4J1xuXG4gIHdoaWxlICh0cnVlKSB7XG4gICAgc3dpdGNoIChlbmNvZGluZykge1xuICAgICAgY2FzZSAnaGV4JzpcbiAgICAgICAgcmV0dXJuIGhleFNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGNhc2UgJ3V0ZjgnOlxuICAgICAgY2FzZSAndXRmLTgnOlxuICAgICAgICByZXR1cm4gdXRmOFNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGNhc2UgJ2FzY2lpJzpcbiAgICAgICAgcmV0dXJuIGFzY2lpU2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgY2FzZSAnbGF0aW4xJzpcbiAgICAgIGNhc2UgJ2JpbmFyeSc6XG4gICAgICAgIHJldHVybiBsYXRpbjFTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBjYXNlICdiYXNlNjQnOlxuICAgICAgICByZXR1cm4gYmFzZTY0U2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgY2FzZSAndWNzMic6XG4gICAgICBjYXNlICd1Y3MtMic6XG4gICAgICBjYXNlICd1dGYxNmxlJzpcbiAgICAgIGNhc2UgJ3V0Zi0xNmxlJzpcbiAgICAgICAgcmV0dXJuIHV0ZjE2bGVTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAobG93ZXJlZENhc2UpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Vua25vd24gZW5jb2Rpbmc6ICcgKyBlbmNvZGluZylcbiAgICAgICAgZW5jb2RpbmcgPSAoZW5jb2RpbmcgKyAnJykudG9Mb3dlckNhc2UoKVxuICAgICAgICBsb3dlcmVkQ2FzZSA9IHRydWVcbiAgICB9XG4gIH1cbn1cblxuLy8gVGhlIHByb3BlcnR5IGlzIHVzZWQgYnkgYEJ1ZmZlci5pc0J1ZmZlcmAgYW5kIGBpcy1idWZmZXJgIChpbiBTYWZhcmkgNS03KSB0byBkZXRlY3Rcbi8vIEJ1ZmZlciBpbnN0YW5jZXMuXG5CdWZmZXIucHJvdG90eXBlLl9pc0J1ZmZlciA9IHRydWVcblxuZnVuY3Rpb24gc3dhcCAoYiwgbiwgbSkge1xuICB2YXIgaSA9IGJbbl1cbiAgYltuXSA9IGJbbV1cbiAgYlttXSA9IGlcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5zd2FwMTYgPSBmdW5jdGlvbiBzd2FwMTYgKCkge1xuICB2YXIgbGVuID0gdGhpcy5sZW5ndGhcbiAgaWYgKGxlbiAlIDIgIT09IDApIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDE2LWJpdHMnKVxuICB9XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpICs9IDIpIHtcbiAgICBzd2FwKHRoaXMsIGksIGkgKyAxKVxuICB9XG4gIHJldHVybiB0aGlzXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuc3dhcDMyID0gZnVuY3Rpb24gc3dhcDMyICgpIHtcbiAgdmFyIGxlbiA9IHRoaXMubGVuZ3RoXG4gIGlmIChsZW4gJSA0ICE9PSAwKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0J1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiAzMi1iaXRzJylcbiAgfVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSArPSA0KSB7XG4gICAgc3dhcCh0aGlzLCBpLCBpICsgMylcbiAgICBzd2FwKHRoaXMsIGkgKyAxLCBpICsgMilcbiAgfVxuICByZXR1cm4gdGhpc1xufVxuXG5CdWZmZXIucHJvdG90eXBlLnN3YXA2NCA9IGZ1bmN0aW9uIHN3YXA2NCAoKSB7XG4gIHZhciBsZW4gPSB0aGlzLmxlbmd0aFxuICBpZiAobGVuICUgOCAhPT0gMCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgNjQtYml0cycpXG4gIH1cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkgKz0gOCkge1xuICAgIHN3YXAodGhpcywgaSwgaSArIDcpXG4gICAgc3dhcCh0aGlzLCBpICsgMSwgaSArIDYpXG4gICAgc3dhcCh0aGlzLCBpICsgMiwgaSArIDUpXG4gICAgc3dhcCh0aGlzLCBpICsgMywgaSArIDQpXG4gIH1cbiAgcmV0dXJuIHRoaXNcbn1cblxuQnVmZmVyLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nICgpIHtcbiAgdmFyIGxlbmd0aCA9IHRoaXMubGVuZ3RoIHwgMFxuICBpZiAobGVuZ3RoID09PSAwKSByZXR1cm4gJydcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHJldHVybiB1dGY4U2xpY2UodGhpcywgMCwgbGVuZ3RoKVxuICByZXR1cm4gc2xvd1RvU3RyaW5nLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiBlcXVhbHMgKGIpIHtcbiAgaWYgKCFCdWZmZXIuaXNCdWZmZXIoYikpIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50IG11c3QgYmUgYSBCdWZmZXInKVxuICBpZiAodGhpcyA9PT0gYikgcmV0dXJuIHRydWVcbiAgcmV0dXJuIEJ1ZmZlci5jb21wYXJlKHRoaXMsIGIpID09PSAwXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuaW5zcGVjdCA9IGZ1bmN0aW9uIGluc3BlY3QgKCkge1xuICB2YXIgc3RyID0gJydcbiAgdmFyIG1heCA9IGV4cG9ydHMuSU5TUEVDVF9NQVhfQllURVNcbiAgaWYgKHRoaXMubGVuZ3RoID4gMCkge1xuICAgIHN0ciA9IHRoaXMudG9TdHJpbmcoJ2hleCcsIDAsIG1heCkubWF0Y2goLy57Mn0vZykuam9pbignICcpXG4gICAgaWYgKHRoaXMubGVuZ3RoID4gbWF4KSBzdHIgKz0gJyAuLi4gJ1xuICB9XG4gIHJldHVybiAnPEJ1ZmZlciAnICsgc3RyICsgJz4nXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuY29tcGFyZSA9IGZ1bmN0aW9uIGNvbXBhcmUgKHRhcmdldCwgc3RhcnQsIGVuZCwgdGhpc1N0YXJ0LCB0aGlzRW5kKSB7XG4gIGlmICghQnVmZmVyLmlzQnVmZmVyKHRhcmdldCkpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyJylcbiAgfVxuXG4gIGlmIChzdGFydCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgc3RhcnQgPSAwXG4gIH1cbiAgaWYgKGVuZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgZW5kID0gdGFyZ2V0ID8gdGFyZ2V0Lmxlbmd0aCA6IDBcbiAgfVxuICBpZiAodGhpc1N0YXJ0ID09PSB1bmRlZmluZWQpIHtcbiAgICB0aGlzU3RhcnQgPSAwXG4gIH1cbiAgaWYgKHRoaXNFbmQgPT09IHVuZGVmaW5lZCkge1xuICAgIHRoaXNFbmQgPSB0aGlzLmxlbmd0aFxuICB9XG5cbiAgaWYgKHN0YXJ0IDwgMCB8fCBlbmQgPiB0YXJnZXQubGVuZ3RoIHx8IHRoaXNTdGFydCA8IDAgfHwgdGhpc0VuZCA+IHRoaXMubGVuZ3RoKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ291dCBvZiByYW5nZSBpbmRleCcpXG4gIH1cblxuICBpZiAodGhpc1N0YXJ0ID49IHRoaXNFbmQgJiYgc3RhcnQgPj0gZW5kKSB7XG4gICAgcmV0dXJuIDBcbiAgfVxuICBpZiAodGhpc1N0YXJ0ID49IHRoaXNFbmQpIHtcbiAgICByZXR1cm4gLTFcbiAgfVxuICBpZiAoc3RhcnQgPj0gZW5kKSB7XG4gICAgcmV0dXJuIDFcbiAgfVxuXG4gIHN0YXJ0ID4+Pj0gMFxuICBlbmQgPj4+PSAwXG4gIHRoaXNTdGFydCA+Pj49IDBcbiAgdGhpc0VuZCA+Pj49IDBcblxuICBpZiAodGhpcyA9PT0gdGFyZ2V0KSByZXR1cm4gMFxuXG4gIHZhciB4ID0gdGhpc0VuZCAtIHRoaXNTdGFydFxuICB2YXIgeSA9IGVuZCAtIHN0YXJ0XG4gIHZhciBsZW4gPSBNYXRoLm1pbih4LCB5KVxuXG4gIHZhciB0aGlzQ29weSA9IHRoaXMuc2xpY2UodGhpc1N0YXJ0LCB0aGlzRW5kKVxuICB2YXIgdGFyZ2V0Q29weSA9IHRhcmdldC5zbGljZShzdGFydCwgZW5kKVxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyArK2kpIHtcbiAgICBpZiAodGhpc0NvcHlbaV0gIT09IHRhcmdldENvcHlbaV0pIHtcbiAgICAgIHggPSB0aGlzQ29weVtpXVxuICAgICAgeSA9IHRhcmdldENvcHlbaV1cbiAgICAgIGJyZWFrXG4gICAgfVxuICB9XG5cbiAgaWYgKHggPCB5KSByZXR1cm4gLTFcbiAgaWYgKHkgPCB4KSByZXR1cm4gMVxuICByZXR1cm4gMFxufVxuXG4vLyBGaW5kcyBlaXRoZXIgdGhlIGZpcnN0IGluZGV4IG9mIGB2YWxgIGluIGBidWZmZXJgIGF0IG9mZnNldCA+PSBgYnl0ZU9mZnNldGAsXG4vLyBPUiB0aGUgbGFzdCBpbmRleCBvZiBgdmFsYCBpbiBgYnVmZmVyYCBhdCBvZmZzZXQgPD0gYGJ5dGVPZmZzZXRgLlxuLy9cbi8vIEFyZ3VtZW50czpcbi8vIC0gYnVmZmVyIC0gYSBCdWZmZXIgdG8gc2VhcmNoXG4vLyAtIHZhbCAtIGEgc3RyaW5nLCBCdWZmZXIsIG9yIG51bWJlclxuLy8gLSBieXRlT2Zmc2V0IC0gYW4gaW5kZXggaW50byBgYnVmZmVyYDsgd2lsbCBiZSBjbGFtcGVkIHRvIGFuIGludDMyXG4vLyAtIGVuY29kaW5nIC0gYW4gb3B0aW9uYWwgZW5jb2RpbmcsIHJlbGV2YW50IGlzIHZhbCBpcyBhIHN0cmluZ1xuLy8gLSBkaXIgLSB0cnVlIGZvciBpbmRleE9mLCBmYWxzZSBmb3IgbGFzdEluZGV4T2ZcbmZ1bmN0aW9uIGJpZGlyZWN0aW9uYWxJbmRleE9mIChidWZmZXIsIHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIGRpcikge1xuICAvLyBFbXB0eSBidWZmZXIgbWVhbnMgbm8gbWF0Y2hcbiAgaWYgKGJ1ZmZlci5sZW5ndGggPT09IDApIHJldHVybiAtMVxuXG4gIC8vIE5vcm1hbGl6ZSBieXRlT2Zmc2V0XG4gIGlmICh0eXBlb2YgYnl0ZU9mZnNldCA9PT0gJ3N0cmluZycpIHtcbiAgICBlbmNvZGluZyA9IGJ5dGVPZmZzZXRcbiAgICBieXRlT2Zmc2V0ID0gMFxuICB9IGVsc2UgaWYgKGJ5dGVPZmZzZXQgPiAweDdmZmZmZmZmKSB7XG4gICAgYnl0ZU9mZnNldCA9IDB4N2ZmZmZmZmZcbiAgfSBlbHNlIGlmIChieXRlT2Zmc2V0IDwgLTB4ODAwMDAwMDApIHtcbiAgICBieXRlT2Zmc2V0ID0gLTB4ODAwMDAwMDBcbiAgfVxuICBieXRlT2Zmc2V0ID0gK2J5dGVPZmZzZXQgIC8vIENvZXJjZSB0byBOdW1iZXIuXG4gIGlmIChpc05hTihieXRlT2Zmc2V0KSkge1xuICAgIC8vIGJ5dGVPZmZzZXQ6IGl0IGl0J3MgdW5kZWZpbmVkLCBudWxsLCBOYU4sIFwiZm9vXCIsIGV0Yywgc2VhcmNoIHdob2xlIGJ1ZmZlclxuICAgIGJ5dGVPZmZzZXQgPSBkaXIgPyAwIDogKGJ1ZmZlci5sZW5ndGggLSAxKVxuICB9XG5cbiAgLy8gTm9ybWFsaXplIGJ5dGVPZmZzZXQ6IG5lZ2F0aXZlIG9mZnNldHMgc3RhcnQgZnJvbSB0aGUgZW5kIG9mIHRoZSBidWZmZXJcbiAgaWYgKGJ5dGVPZmZzZXQgPCAwKSBieXRlT2Zmc2V0ID0gYnVmZmVyLmxlbmd0aCArIGJ5dGVPZmZzZXRcbiAgaWYgKGJ5dGVPZmZzZXQgPj0gYnVmZmVyLmxlbmd0aCkge1xuICAgIGlmIChkaXIpIHJldHVybiAtMVxuICAgIGVsc2UgYnl0ZU9mZnNldCA9IGJ1ZmZlci5sZW5ndGggLSAxXG4gIH0gZWxzZSBpZiAoYnl0ZU9mZnNldCA8IDApIHtcbiAgICBpZiAoZGlyKSBieXRlT2Zmc2V0ID0gMFxuICAgIGVsc2UgcmV0dXJuIC0xXG4gIH1cblxuICAvLyBOb3JtYWxpemUgdmFsXG4gIGlmICh0eXBlb2YgdmFsID09PSAnc3RyaW5nJykge1xuICAgIHZhbCA9IEJ1ZmZlci5mcm9tKHZhbCwgZW5jb2RpbmcpXG4gIH1cblxuICAvLyBGaW5hbGx5LCBzZWFyY2ggZWl0aGVyIGluZGV4T2YgKGlmIGRpciBpcyB0cnVlKSBvciBsYXN0SW5kZXhPZlxuICBpZiAoQnVmZmVyLmlzQnVmZmVyKHZhbCkpIHtcbiAgICAvLyBTcGVjaWFsIGNhc2U6IGxvb2tpbmcgZm9yIGVtcHR5IHN0cmluZy9idWZmZXIgYWx3YXlzIGZhaWxzXG4gICAgaWYgKHZhbC5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiAtMVxuICAgIH1cbiAgICByZXR1cm4gYXJyYXlJbmRleE9mKGJ1ZmZlciwgdmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgZGlyKVxuICB9IGVsc2UgaWYgKHR5cGVvZiB2YWwgPT09ICdudW1iZXInKSB7XG4gICAgdmFsID0gdmFsICYgMHhGRiAvLyBTZWFyY2ggZm9yIGEgYnl0ZSB2YWx1ZSBbMC0yNTVdXG4gICAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUICYmXG4gICAgICAgIHR5cGVvZiBVaW50OEFycmF5LnByb3RvdHlwZS5pbmRleE9mID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBpZiAoZGlyKSB7XG4gICAgICAgIHJldHVybiBVaW50OEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwoYnVmZmVyLCB2YWwsIGJ5dGVPZmZzZXQpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gVWludDhBcnJheS5wcm90b3R5cGUubGFzdEluZGV4T2YuY2FsbChidWZmZXIsIHZhbCwgYnl0ZU9mZnNldClcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFycmF5SW5kZXhPZihidWZmZXIsIFsgdmFsIF0sIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCBkaXIpXG4gIH1cblxuICB0aHJvdyBuZXcgVHlwZUVycm9yKCd2YWwgbXVzdCBiZSBzdHJpbmcsIG51bWJlciBvciBCdWZmZXInKVxufVxuXG5mdW5jdGlvbiBhcnJheUluZGV4T2YgKGFyciwgdmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgZGlyKSB7XG4gIHZhciBpbmRleFNpemUgPSAxXG4gIHZhciBhcnJMZW5ndGggPSBhcnIubGVuZ3RoXG4gIHZhciB2YWxMZW5ndGggPSB2YWwubGVuZ3RoXG5cbiAgaWYgKGVuY29kaW5nICE9PSB1bmRlZmluZWQpIHtcbiAgICBlbmNvZGluZyA9IFN0cmluZyhlbmNvZGluZykudG9Mb3dlckNhc2UoKVxuICAgIGlmIChlbmNvZGluZyA9PT0gJ3VjczInIHx8IGVuY29kaW5nID09PSAndWNzLTInIHx8XG4gICAgICAgIGVuY29kaW5nID09PSAndXRmMTZsZScgfHwgZW5jb2RpbmcgPT09ICd1dGYtMTZsZScpIHtcbiAgICAgIGlmIChhcnIubGVuZ3RoIDwgMiB8fCB2YWwubGVuZ3RoIDwgMikge1xuICAgICAgICByZXR1cm4gLTFcbiAgICAgIH1cbiAgICAgIGluZGV4U2l6ZSA9IDJcbiAgICAgIGFyckxlbmd0aCAvPSAyXG4gICAgICB2YWxMZW5ndGggLz0gMlxuICAgICAgYnl0ZU9mZnNldCAvPSAyXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcmVhZCAoYnVmLCBpKSB7XG4gICAgaWYgKGluZGV4U2l6ZSA9PT0gMSkge1xuICAgICAgcmV0dXJuIGJ1ZltpXVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gYnVmLnJlYWRVSW50MTZCRShpICogaW5kZXhTaXplKVxuICAgIH1cbiAgfVxuXG4gIHZhciBpXG4gIGlmIChkaXIpIHtcbiAgICB2YXIgZm91bmRJbmRleCA9IC0xXG4gICAgZm9yIChpID0gYnl0ZU9mZnNldDsgaSA8IGFyckxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAocmVhZChhcnIsIGkpID09PSByZWFkKHZhbCwgZm91bmRJbmRleCA9PT0gLTEgPyAwIDogaSAtIGZvdW5kSW5kZXgpKSB7XG4gICAgICAgIGlmIChmb3VuZEluZGV4ID09PSAtMSkgZm91bmRJbmRleCA9IGlcbiAgICAgICAgaWYgKGkgLSBmb3VuZEluZGV4ICsgMSA9PT0gdmFsTGVuZ3RoKSByZXR1cm4gZm91bmRJbmRleCAqIGluZGV4U2l6ZVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGZvdW5kSW5kZXggIT09IC0xKSBpIC09IGkgLSBmb3VuZEluZGV4XG4gICAgICAgIGZvdW5kSW5kZXggPSAtMVxuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoYnl0ZU9mZnNldCArIHZhbExlbmd0aCA+IGFyckxlbmd0aCkgYnl0ZU9mZnNldCA9IGFyckxlbmd0aCAtIHZhbExlbmd0aFxuICAgIGZvciAoaSA9IGJ5dGVPZmZzZXQ7IGkgPj0gMDsgaS0tKSB7XG4gICAgICB2YXIgZm91bmQgPSB0cnVlXG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHZhbExlbmd0aDsgaisrKSB7XG4gICAgICAgIGlmIChyZWFkKGFyciwgaSArIGopICE9PSByZWFkKHZhbCwgaikpIHtcbiAgICAgICAgICBmb3VuZCA9IGZhbHNlXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGZvdW5kKSByZXR1cm4gaVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiAtMVxufVxuXG5CdWZmZXIucHJvdG90eXBlLmluY2x1ZGVzID0gZnVuY3Rpb24gaW5jbHVkZXMgKHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcpIHtcbiAgcmV0dXJuIHRoaXMuaW5kZXhPZih2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nKSAhPT0gLTFcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5pbmRleE9mID0gZnVuY3Rpb24gaW5kZXhPZiAodmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZykge1xuICByZXR1cm4gYmlkaXJlY3Rpb25hbEluZGV4T2YodGhpcywgdmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgdHJ1ZSlcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5sYXN0SW5kZXhPZiA9IGZ1bmN0aW9uIGxhc3RJbmRleE9mICh2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nKSB7XG4gIHJldHVybiBiaWRpcmVjdGlvbmFsSW5kZXhPZih0aGlzLCB2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCBmYWxzZSlcbn1cblxuZnVuY3Rpb24gaGV4V3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICBvZmZzZXQgPSBOdW1iZXIob2Zmc2V0KSB8fCAwXG4gIHZhciByZW1haW5pbmcgPSBidWYubGVuZ3RoIC0gb2Zmc2V0XG4gIGlmICghbGVuZ3RoKSB7XG4gICAgbGVuZ3RoID0gcmVtYWluaW5nXG4gIH0gZWxzZSB7XG4gICAgbGVuZ3RoID0gTnVtYmVyKGxlbmd0aClcbiAgICBpZiAobGVuZ3RoID4gcmVtYWluaW5nKSB7XG4gICAgICBsZW5ndGggPSByZW1haW5pbmdcbiAgICB9XG4gIH1cblxuICAvLyBtdXN0IGJlIGFuIGV2ZW4gbnVtYmVyIG9mIGRpZ2l0c1xuICB2YXIgc3RyTGVuID0gc3RyaW5nLmxlbmd0aFxuICBpZiAoc3RyTGVuICUgMiAhPT0gMCkgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCBoZXggc3RyaW5nJylcblxuICBpZiAobGVuZ3RoID4gc3RyTGVuIC8gMikge1xuICAgIGxlbmd0aCA9IHN0ckxlbiAvIDJcbiAgfVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XG4gICAgdmFyIHBhcnNlZCA9IHBhcnNlSW50KHN0cmluZy5zdWJzdHIoaSAqIDIsIDIpLCAxNilcbiAgICBpZiAoaXNOYU4ocGFyc2VkKSkgcmV0dXJuIGlcbiAgICBidWZbb2Zmc2V0ICsgaV0gPSBwYXJzZWRcbiAgfVxuICByZXR1cm4gaVxufVxuXG5mdW5jdGlvbiB1dGY4V3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gYmxpdEJ1ZmZlcih1dGY4VG9CeXRlcyhzdHJpbmcsIGJ1Zi5sZW5ndGggLSBvZmZzZXQpLCBidWYsIG9mZnNldCwgbGVuZ3RoKVxufVxuXG5mdW5jdGlvbiBhc2NpaVdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIGJsaXRCdWZmZXIoYXNjaWlUb0J5dGVzKHN0cmluZyksIGJ1Ziwgb2Zmc2V0LCBsZW5ndGgpXG59XG5cbmZ1bmN0aW9uIGxhdGluMVdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIGFzY2lpV3JpdGUoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxufVxuXG5mdW5jdGlvbiBiYXNlNjRXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIHJldHVybiBibGl0QnVmZmVyKGJhc2U2NFRvQnl0ZXMoc3RyaW5nKSwgYnVmLCBvZmZzZXQsIGxlbmd0aClcbn1cblxuZnVuY3Rpb24gdWNzMldyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIGJsaXRCdWZmZXIodXRmMTZsZVRvQnl0ZXMoc3RyaW5nLCBidWYubGVuZ3RoIC0gb2Zmc2V0KSwgYnVmLCBvZmZzZXQsIGxlbmd0aClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZSA9IGZ1bmN0aW9uIHdyaXRlIChzdHJpbmcsIG9mZnNldCwgbGVuZ3RoLCBlbmNvZGluZykge1xuICAvLyBCdWZmZXIjd3JpdGUoc3RyaW5nKVxuICBpZiAob2Zmc2V0ID09PSB1bmRlZmluZWQpIHtcbiAgICBlbmNvZGluZyA9ICd1dGY4J1xuICAgIGxlbmd0aCA9IHRoaXMubGVuZ3RoXG4gICAgb2Zmc2V0ID0gMFxuICAvLyBCdWZmZXIjd3JpdGUoc3RyaW5nLCBlbmNvZGluZylcbiAgfSBlbHNlIGlmIChsZW5ndGggPT09IHVuZGVmaW5lZCAmJiB0eXBlb2Ygb2Zmc2V0ID09PSAnc3RyaW5nJykge1xuICAgIGVuY29kaW5nID0gb2Zmc2V0XG4gICAgbGVuZ3RoID0gdGhpcy5sZW5ndGhcbiAgICBvZmZzZXQgPSAwXG4gIC8vIEJ1ZmZlciN3cml0ZShzdHJpbmcsIG9mZnNldFssIGxlbmd0aF1bLCBlbmNvZGluZ10pXG4gIH0gZWxzZSBpZiAoaXNGaW5pdGUob2Zmc2V0KSkge1xuICAgIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgICBpZiAoaXNGaW5pdGUobGVuZ3RoKSkge1xuICAgICAgbGVuZ3RoID0gbGVuZ3RoIHwgMFxuICAgICAgaWYgKGVuY29kaW5nID09PSB1bmRlZmluZWQpIGVuY29kaW5nID0gJ3V0ZjgnXG4gICAgfSBlbHNlIHtcbiAgICAgIGVuY29kaW5nID0gbGVuZ3RoXG4gICAgICBsZW5ndGggPSB1bmRlZmluZWRcbiAgICB9XG4gIC8vIGxlZ2FjeSB3cml0ZShzdHJpbmcsIGVuY29kaW5nLCBvZmZzZXQsIGxlbmd0aCkgLSByZW1vdmUgaW4gdjAuMTNcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAnQnVmZmVyLndyaXRlKHN0cmluZywgZW5jb2RpbmcsIG9mZnNldFssIGxlbmd0aF0pIGlzIG5vIGxvbmdlciBzdXBwb3J0ZWQnXG4gICAgKVxuICB9XG5cbiAgdmFyIHJlbWFpbmluZyA9IHRoaXMubGVuZ3RoIC0gb2Zmc2V0XG4gIGlmIChsZW5ndGggPT09IHVuZGVmaW5lZCB8fCBsZW5ndGggPiByZW1haW5pbmcpIGxlbmd0aCA9IHJlbWFpbmluZ1xuXG4gIGlmICgoc3RyaW5nLmxlbmd0aCA+IDAgJiYgKGxlbmd0aCA8IDAgfHwgb2Zmc2V0IDwgMCkpIHx8IG9mZnNldCA+IHRoaXMubGVuZ3RoKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0F0dGVtcHQgdG8gd3JpdGUgb3V0c2lkZSBidWZmZXIgYm91bmRzJylcbiAgfVxuXG4gIGlmICghZW5jb2RpbmcpIGVuY29kaW5nID0gJ3V0ZjgnXG5cbiAgdmFyIGxvd2VyZWRDYXNlID0gZmFsc2VcbiAgZm9yICg7Oykge1xuICAgIHN3aXRjaCAoZW5jb2RpbmcpIHtcbiAgICAgIGNhc2UgJ2hleCc6XG4gICAgICAgIHJldHVybiBoZXhXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXG4gICAgICBjYXNlICd1dGY4JzpcbiAgICAgIGNhc2UgJ3V0Zi04JzpcbiAgICAgICAgcmV0dXJuIHV0ZjhXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXG4gICAgICBjYXNlICdhc2NpaSc6XG4gICAgICAgIHJldHVybiBhc2NpaVdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGNhc2UgJ2xhdGluMSc6XG4gICAgICBjYXNlICdiaW5hcnknOlxuICAgICAgICByZXR1cm4gbGF0aW4xV3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgY2FzZSAnYmFzZTY0JzpcbiAgICAgICAgLy8gV2FybmluZzogbWF4TGVuZ3RoIG5vdCB0YWtlbiBpbnRvIGFjY291bnQgaW4gYmFzZTY0V3JpdGVcbiAgICAgICAgcmV0dXJuIGJhc2U2NFdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGNhc2UgJ3VjczInOlxuICAgICAgY2FzZSAndWNzLTInOlxuICAgICAgY2FzZSAndXRmMTZsZSc6XG4gICAgICBjYXNlICd1dGYtMTZsZSc6XG4gICAgICAgIHJldHVybiB1Y3MyV3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKGxvd2VyZWRDYXNlKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbmtub3duIGVuY29kaW5nOiAnICsgZW5jb2RpbmcpXG4gICAgICAgIGVuY29kaW5nID0gKCcnICsgZW5jb2RpbmcpLnRvTG93ZXJDYXNlKClcbiAgICAgICAgbG93ZXJlZENhc2UgPSB0cnVlXG4gICAgfVxuICB9XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gdG9KU09OICgpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiAnQnVmZmVyJyxcbiAgICBkYXRhOiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0aGlzLl9hcnIgfHwgdGhpcywgMClcbiAgfVxufVxuXG5mdW5jdGlvbiBiYXNlNjRTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG4gIGlmIChzdGFydCA9PT0gMCAmJiBlbmQgPT09IGJ1Zi5sZW5ndGgpIHtcbiAgICByZXR1cm4gYmFzZTY0LmZyb21CeXRlQXJyYXkoYnVmKVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBiYXNlNjQuZnJvbUJ5dGVBcnJheShidWYuc2xpY2Uoc3RhcnQsIGVuZCkpXG4gIH1cbn1cblxuZnVuY3Rpb24gdXRmOFNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgZW5kID0gTWF0aC5taW4oYnVmLmxlbmd0aCwgZW5kKVxuICB2YXIgcmVzID0gW11cblxuICB2YXIgaSA9IHN0YXJ0XG4gIHdoaWxlIChpIDwgZW5kKSB7XG4gICAgdmFyIGZpcnN0Qnl0ZSA9IGJ1ZltpXVxuICAgIHZhciBjb2RlUG9pbnQgPSBudWxsXG4gICAgdmFyIGJ5dGVzUGVyU2VxdWVuY2UgPSAoZmlyc3RCeXRlID4gMHhFRikgPyA0XG4gICAgICA6IChmaXJzdEJ5dGUgPiAweERGKSA/IDNcbiAgICAgIDogKGZpcnN0Qnl0ZSA+IDB4QkYpID8gMlxuICAgICAgOiAxXG5cbiAgICBpZiAoaSArIGJ5dGVzUGVyU2VxdWVuY2UgPD0gZW5kKSB7XG4gICAgICB2YXIgc2Vjb25kQnl0ZSwgdGhpcmRCeXRlLCBmb3VydGhCeXRlLCB0ZW1wQ29kZVBvaW50XG5cbiAgICAgIHN3aXRjaCAoYnl0ZXNQZXJTZXF1ZW5jZSkge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgaWYgKGZpcnN0Qnl0ZSA8IDB4ODApIHtcbiAgICAgICAgICAgIGNvZGVQb2ludCA9IGZpcnN0Qnl0ZVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgc2Vjb25kQnl0ZSA9IGJ1ZltpICsgMV1cbiAgICAgICAgICBpZiAoKHNlY29uZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCkge1xuICAgICAgICAgICAgdGVtcENvZGVQb2ludCA9IChmaXJzdEJ5dGUgJiAweDFGKSA8PCAweDYgfCAoc2Vjb25kQnl0ZSAmIDB4M0YpXG4gICAgICAgICAgICBpZiAodGVtcENvZGVQb2ludCA+IDB4N0YpIHtcbiAgICAgICAgICAgICAgY29kZVBvaW50ID0gdGVtcENvZGVQb2ludFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgc2Vjb25kQnl0ZSA9IGJ1ZltpICsgMV1cbiAgICAgICAgICB0aGlyZEJ5dGUgPSBidWZbaSArIDJdXG4gICAgICAgICAgaWYgKChzZWNvbmRCeXRlICYgMHhDMCkgPT09IDB4ODAgJiYgKHRoaXJkQnl0ZSAmIDB4QzApID09PSAweDgwKSB7XG4gICAgICAgICAgICB0ZW1wQ29kZVBvaW50ID0gKGZpcnN0Qnl0ZSAmIDB4RikgPDwgMHhDIHwgKHNlY29uZEJ5dGUgJiAweDNGKSA8PCAweDYgfCAodGhpcmRCeXRlICYgMHgzRilcbiAgICAgICAgICAgIGlmICh0ZW1wQ29kZVBvaW50ID4gMHg3RkYgJiYgKHRlbXBDb2RlUG9pbnQgPCAweEQ4MDAgfHwgdGVtcENvZGVQb2ludCA+IDB4REZGRikpIHtcbiAgICAgICAgICAgICAgY29kZVBvaW50ID0gdGVtcENvZGVQb2ludFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgc2Vjb25kQnl0ZSA9IGJ1ZltpICsgMV1cbiAgICAgICAgICB0aGlyZEJ5dGUgPSBidWZbaSArIDJdXG4gICAgICAgICAgZm91cnRoQnl0ZSA9IGJ1ZltpICsgM11cbiAgICAgICAgICBpZiAoKHNlY29uZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCAmJiAodGhpcmRCeXRlICYgMHhDMCkgPT09IDB4ODAgJiYgKGZvdXJ0aEJ5dGUgJiAweEMwKSA9PT0gMHg4MCkge1xuICAgICAgICAgICAgdGVtcENvZGVQb2ludCA9IChmaXJzdEJ5dGUgJiAweEYpIDw8IDB4MTIgfCAoc2Vjb25kQnl0ZSAmIDB4M0YpIDw8IDB4QyB8ICh0aGlyZEJ5dGUgJiAweDNGKSA8PCAweDYgfCAoZm91cnRoQnl0ZSAmIDB4M0YpXG4gICAgICAgICAgICBpZiAodGVtcENvZGVQb2ludCA+IDB4RkZGRiAmJiB0ZW1wQ29kZVBvaW50IDwgMHgxMTAwMDApIHtcbiAgICAgICAgICAgICAgY29kZVBvaW50ID0gdGVtcENvZGVQb2ludFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoY29kZVBvaW50ID09PSBudWxsKSB7XG4gICAgICAvLyB3ZSBkaWQgbm90IGdlbmVyYXRlIGEgdmFsaWQgY29kZVBvaW50IHNvIGluc2VydCBhXG4gICAgICAvLyByZXBsYWNlbWVudCBjaGFyIChVK0ZGRkQpIGFuZCBhZHZhbmNlIG9ubHkgMSBieXRlXG4gICAgICBjb2RlUG9pbnQgPSAweEZGRkRcbiAgICAgIGJ5dGVzUGVyU2VxdWVuY2UgPSAxXG4gICAgfSBlbHNlIGlmIChjb2RlUG9pbnQgPiAweEZGRkYpIHtcbiAgICAgIC8vIGVuY29kZSB0byB1dGYxNiAoc3Vycm9nYXRlIHBhaXIgZGFuY2UpXG4gICAgICBjb2RlUG9pbnQgLT0gMHgxMDAwMFxuICAgICAgcmVzLnB1c2goY29kZVBvaW50ID4+PiAxMCAmIDB4M0ZGIHwgMHhEODAwKVxuICAgICAgY29kZVBvaW50ID0gMHhEQzAwIHwgY29kZVBvaW50ICYgMHgzRkZcbiAgICB9XG5cbiAgICByZXMucHVzaChjb2RlUG9pbnQpXG4gICAgaSArPSBieXRlc1BlclNlcXVlbmNlXG4gIH1cblxuICByZXR1cm4gZGVjb2RlQ29kZVBvaW50c0FycmF5KHJlcylcbn1cblxuLy8gQmFzZWQgb24gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjI3NDcyNzIvNjgwNzQyLCB0aGUgYnJvd3NlciB3aXRoXG4vLyB0aGUgbG93ZXN0IGxpbWl0IGlzIENocm9tZSwgd2l0aCAweDEwMDAwIGFyZ3MuXG4vLyBXZSBnbyAxIG1hZ25pdHVkZSBsZXNzLCBmb3Igc2FmZXR5XG52YXIgTUFYX0FSR1VNRU5UU19MRU5HVEggPSAweDEwMDBcblxuZnVuY3Rpb24gZGVjb2RlQ29kZVBvaW50c0FycmF5IChjb2RlUG9pbnRzKSB7XG4gIHZhciBsZW4gPSBjb2RlUG9pbnRzLmxlbmd0aFxuICBpZiAobGVuIDw9IE1BWF9BUkdVTUVOVFNfTEVOR1RIKSB7XG4gICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLCBjb2RlUG9pbnRzKSAvLyBhdm9pZCBleHRyYSBzbGljZSgpXG4gIH1cblxuICAvLyBEZWNvZGUgaW4gY2h1bmtzIHRvIGF2b2lkIFwiY2FsbCBzdGFjayBzaXplIGV4Y2VlZGVkXCIuXG4gIHZhciByZXMgPSAnJ1xuICB2YXIgaSA9IDBcbiAgd2hpbGUgKGkgPCBsZW4pIHtcbiAgICByZXMgKz0gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShcbiAgICAgIFN0cmluZyxcbiAgICAgIGNvZGVQb2ludHMuc2xpY2UoaSwgaSArPSBNQVhfQVJHVU1FTlRTX0xFTkdUSClcbiAgICApXG4gIH1cbiAgcmV0dXJuIHJlc1xufVxuXG5mdW5jdGlvbiBhc2NpaVNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIHJldCA9ICcnXG4gIGVuZCA9IE1hdGgubWluKGJ1Zi5sZW5ndGgsIGVuZClcblxuICBmb3IgKHZhciBpID0gc3RhcnQ7IGkgPCBlbmQ7ICsraSkge1xuICAgIHJldCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGJ1ZltpXSAmIDB4N0YpXG4gIH1cbiAgcmV0dXJuIHJldFxufVxuXG5mdW5jdGlvbiBsYXRpbjFTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG4gIHZhciByZXQgPSAnJ1xuICBlbmQgPSBNYXRoLm1pbihidWYubGVuZ3RoLCBlbmQpXG5cbiAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyArK2kpIHtcbiAgICByZXQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShidWZbaV0pXG4gIH1cbiAgcmV0dXJuIHJldFxufVxuXG5mdW5jdGlvbiBoZXhTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG4gIHZhciBsZW4gPSBidWYubGVuZ3RoXG5cbiAgaWYgKCFzdGFydCB8fCBzdGFydCA8IDApIHN0YXJ0ID0gMFxuICBpZiAoIWVuZCB8fCBlbmQgPCAwIHx8IGVuZCA+IGxlbikgZW5kID0gbGVuXG5cbiAgdmFyIG91dCA9ICcnXG4gIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgKytpKSB7XG4gICAgb3V0ICs9IHRvSGV4KGJ1ZltpXSlcbiAgfVxuICByZXR1cm4gb3V0XG59XG5cbmZ1bmN0aW9uIHV0ZjE2bGVTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG4gIHZhciBieXRlcyA9IGJ1Zi5zbGljZShzdGFydCwgZW5kKVxuICB2YXIgcmVzID0gJydcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBieXRlcy5sZW5ndGg7IGkgKz0gMikge1xuICAgIHJlcyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGJ5dGVzW2ldICsgYnl0ZXNbaSArIDFdICogMjU2KVxuICB9XG4gIHJldHVybiByZXNcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5zbGljZSA9IGZ1bmN0aW9uIHNsaWNlIChzdGFydCwgZW5kKSB7XG4gIHZhciBsZW4gPSB0aGlzLmxlbmd0aFxuICBzdGFydCA9IH5+c3RhcnRcbiAgZW5kID0gZW5kID09PSB1bmRlZmluZWQgPyBsZW4gOiB+fmVuZFxuXG4gIGlmIChzdGFydCA8IDApIHtcbiAgICBzdGFydCArPSBsZW5cbiAgICBpZiAoc3RhcnQgPCAwKSBzdGFydCA9IDBcbiAgfSBlbHNlIGlmIChzdGFydCA+IGxlbikge1xuICAgIHN0YXJ0ID0gbGVuXG4gIH1cblxuICBpZiAoZW5kIDwgMCkge1xuICAgIGVuZCArPSBsZW5cbiAgICBpZiAoZW5kIDwgMCkgZW5kID0gMFxuICB9IGVsc2UgaWYgKGVuZCA+IGxlbikge1xuICAgIGVuZCA9IGxlblxuICB9XG5cbiAgaWYgKGVuZCA8IHN0YXJ0KSBlbmQgPSBzdGFydFxuXG4gIHZhciBuZXdCdWZcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgbmV3QnVmID0gdGhpcy5zdWJhcnJheShzdGFydCwgZW5kKVxuICAgIG5ld0J1Zi5fX3Byb3RvX18gPSBCdWZmZXIucHJvdG90eXBlXG4gIH0gZWxzZSB7XG4gICAgdmFyIHNsaWNlTGVuID0gZW5kIC0gc3RhcnRcbiAgICBuZXdCdWYgPSBuZXcgQnVmZmVyKHNsaWNlTGVuLCB1bmRlZmluZWQpXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzbGljZUxlbjsgKytpKSB7XG4gICAgICBuZXdCdWZbaV0gPSB0aGlzW2kgKyBzdGFydF1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gbmV3QnVmXG59XG5cbi8qXG4gKiBOZWVkIHRvIG1ha2Ugc3VyZSB0aGF0IGJ1ZmZlciBpc24ndCB0cnlpbmcgdG8gd3JpdGUgb3V0IG9mIGJvdW5kcy5cbiAqL1xuZnVuY3Rpb24gY2hlY2tPZmZzZXQgKG9mZnNldCwgZXh0LCBsZW5ndGgpIHtcbiAgaWYgKChvZmZzZXQgJSAxKSAhPT0gMCB8fCBvZmZzZXQgPCAwKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignb2Zmc2V0IGlzIG5vdCB1aW50JylcbiAgaWYgKG9mZnNldCArIGV4dCA+IGxlbmd0aCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RyeWluZyB0byBhY2Nlc3MgYmV5b25kIGJ1ZmZlciBsZW5ndGgnKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50TEUgPSBmdW5jdGlvbiByZWFkVUludExFIChvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgYnl0ZUxlbmd0aCwgdGhpcy5sZW5ndGgpXG5cbiAgdmFyIHZhbCA9IHRoaXNbb2Zmc2V0XVxuICB2YXIgbXVsID0gMVxuICB2YXIgaSA9IDBcbiAgd2hpbGUgKCsraSA8IGJ5dGVMZW5ndGggJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB2YWwgKz0gdGhpc1tvZmZzZXQgKyBpXSAqIG11bFxuICB9XG5cbiAgcmV0dXJuIHZhbFxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50QkUgPSBmdW5jdGlvbiByZWFkVUludEJFIChvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggfCAwXG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICBjaGVja09mZnNldChvZmZzZXQsIGJ5dGVMZW5ndGgsIHRoaXMubGVuZ3RoKVxuICB9XG5cbiAgdmFyIHZhbCA9IHRoaXNbb2Zmc2V0ICsgLS1ieXRlTGVuZ3RoXVxuICB2YXIgbXVsID0gMVxuICB3aGlsZSAoYnl0ZUxlbmd0aCA+IDAgJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB2YWwgKz0gdGhpc1tvZmZzZXQgKyAtLWJ5dGVMZW5ndGhdICogbXVsXG4gIH1cblxuICByZXR1cm4gdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQ4ID0gZnVuY3Rpb24gcmVhZFVJbnQ4IChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMSwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiB0aGlzW29mZnNldF1cbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDE2TEUgPSBmdW5jdGlvbiByZWFkVUludDE2TEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAyLCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuIHRoaXNbb2Zmc2V0XSB8ICh0aGlzW29mZnNldCArIDFdIDw8IDgpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQxNkJFID0gZnVuY3Rpb24gcmVhZFVJbnQxNkJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMiwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiAodGhpc1tvZmZzZXRdIDw8IDgpIHwgdGhpc1tvZmZzZXQgKyAxXVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50MzJMRSA9IGZ1bmN0aW9uIHJlYWRVSW50MzJMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuXG4gIHJldHVybiAoKHRoaXNbb2Zmc2V0XSkgfFxuICAgICAgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgOCkgfFxuICAgICAgKHRoaXNbb2Zmc2V0ICsgMl0gPDwgMTYpKSArXG4gICAgICAodGhpc1tvZmZzZXQgKyAzXSAqIDB4MTAwMDAwMClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDMyQkUgPSBmdW5jdGlvbiByZWFkVUludDMyQkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcblxuICByZXR1cm4gKHRoaXNbb2Zmc2V0XSAqIDB4MTAwMDAwMCkgK1xuICAgICgodGhpc1tvZmZzZXQgKyAxXSA8PCAxNikgfFxuICAgICh0aGlzW29mZnNldCArIDJdIDw8IDgpIHxcbiAgICB0aGlzW29mZnNldCArIDNdKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnRMRSA9IGZ1bmN0aW9uIHJlYWRJbnRMRSAob2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoIHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIGJ5dGVMZW5ndGgsIHRoaXMubGVuZ3RoKVxuXG4gIHZhciB2YWwgPSB0aGlzW29mZnNldF1cbiAgdmFyIG11bCA9IDFcbiAgdmFyIGkgPSAwXG4gIHdoaWxlICgrK2kgPCBieXRlTGVuZ3RoICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgdmFsICs9IHRoaXNbb2Zmc2V0ICsgaV0gKiBtdWxcbiAgfVxuICBtdWwgKj0gMHg4MFxuXG4gIGlmICh2YWwgPj0gbXVsKSB2YWwgLT0gTWF0aC5wb3coMiwgOCAqIGJ5dGVMZW5ndGgpXG5cbiAgcmV0dXJuIHZhbFxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnRCRSA9IGZ1bmN0aW9uIHJlYWRJbnRCRSAob2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoIHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIGJ5dGVMZW5ndGgsIHRoaXMubGVuZ3RoKVxuXG4gIHZhciBpID0gYnl0ZUxlbmd0aFxuICB2YXIgbXVsID0gMVxuICB2YXIgdmFsID0gdGhpc1tvZmZzZXQgKyAtLWldXG4gIHdoaWxlIChpID4gMCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHZhbCArPSB0aGlzW29mZnNldCArIC0taV0gKiBtdWxcbiAgfVxuICBtdWwgKj0gMHg4MFxuXG4gIGlmICh2YWwgPj0gbXVsKSB2YWwgLT0gTWF0aC5wb3coMiwgOCAqIGJ5dGVMZW5ndGgpXG5cbiAgcmV0dXJuIHZhbFxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnQ4ID0gZnVuY3Rpb24gcmVhZEludDggKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAxLCB0aGlzLmxlbmd0aClcbiAgaWYgKCEodGhpc1tvZmZzZXRdICYgMHg4MCkpIHJldHVybiAodGhpc1tvZmZzZXRdKVxuICByZXR1cm4gKCgweGZmIC0gdGhpc1tvZmZzZXRdICsgMSkgKiAtMSlcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50MTZMRSA9IGZ1bmN0aW9uIHJlYWRJbnQxNkxFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMiwgdGhpcy5sZW5ndGgpXG4gIHZhciB2YWwgPSB0aGlzW29mZnNldF0gfCAodGhpc1tvZmZzZXQgKyAxXSA8PCA4KVxuICByZXR1cm4gKHZhbCAmIDB4ODAwMCkgPyB2YWwgfCAweEZGRkYwMDAwIDogdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludDE2QkUgPSBmdW5jdGlvbiByZWFkSW50MTZCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDIsIHRoaXMubGVuZ3RoKVxuICB2YXIgdmFsID0gdGhpc1tvZmZzZXQgKyAxXSB8ICh0aGlzW29mZnNldF0gPDwgOClcbiAgcmV0dXJuICh2YWwgJiAweDgwMDApID8gdmFsIHwgMHhGRkZGMDAwMCA6IHZhbFxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnQzMkxFID0gZnVuY3Rpb24gcmVhZEludDMyTEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcblxuICByZXR1cm4gKHRoaXNbb2Zmc2V0XSkgfFxuICAgICh0aGlzW29mZnNldCArIDFdIDw8IDgpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAyXSA8PCAxNikgfFxuICAgICh0aGlzW29mZnNldCArIDNdIDw8IDI0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnQzMkJFID0gZnVuY3Rpb24gcmVhZEludDMyQkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcblxuICByZXR1cm4gKHRoaXNbb2Zmc2V0XSA8PCAyNCkgfFxuICAgICh0aGlzW29mZnNldCArIDFdIDw8IDE2KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgMl0gPDwgOCkgfFxuICAgICh0aGlzW29mZnNldCArIDNdKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRGbG9hdExFID0gZnVuY3Rpb24gcmVhZEZsb2F0TEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuIGllZWU3NTQucmVhZCh0aGlzLCBvZmZzZXQsIHRydWUsIDIzLCA0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRGbG9hdEJFID0gZnVuY3Rpb24gcmVhZEZsb2F0QkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuIGllZWU3NTQucmVhZCh0aGlzLCBvZmZzZXQsIGZhbHNlLCAyMywgNClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkRG91YmxlTEUgPSBmdW5jdGlvbiByZWFkRG91YmxlTEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA4LCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuIGllZWU3NTQucmVhZCh0aGlzLCBvZmZzZXQsIHRydWUsIDUyLCA4KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWREb3VibGVCRSA9IGZ1bmN0aW9uIHJlYWREb3VibGVCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDgsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gaWVlZTc1NC5yZWFkKHRoaXMsIG9mZnNldCwgZmFsc2UsIDUyLCA4KVxufVxuXG5mdW5jdGlvbiBjaGVja0ludCAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBleHQsIG1heCwgbWluKSB7XG4gIGlmICghQnVmZmVyLmlzQnVmZmVyKGJ1ZikpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wiYnVmZmVyXCIgYXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlciBpbnN0YW5jZScpXG4gIGlmICh2YWx1ZSA+IG1heCB8fCB2YWx1ZSA8IG1pbikgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1widmFsdWVcIiBhcmd1bWVudCBpcyBvdXQgb2YgYm91bmRzJylcbiAgaWYgKG9mZnNldCArIGV4dCA+IGJ1Zi5sZW5ndGgpIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbmRleCBvdXQgb2YgcmFuZ2UnKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludExFID0gZnVuY3Rpb24gd3JpdGVVSW50TEUgKHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggfCAwXG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICB2YXIgbWF4Qnl0ZXMgPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aCkgLSAxXG4gICAgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbWF4Qnl0ZXMsIDApXG4gIH1cblxuICB2YXIgbXVsID0gMVxuICB2YXIgaSA9IDBcbiAgdGhpc1tvZmZzZXRdID0gdmFsdWUgJiAweEZGXG4gIHdoaWxlICgrK2kgPCBieXRlTGVuZ3RoICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgdGhpc1tvZmZzZXQgKyBpXSA9ICh2YWx1ZSAvIG11bCkgJiAweEZGXG4gIH1cblxuICByZXR1cm4gb2Zmc2V0ICsgYnl0ZUxlbmd0aFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludEJFID0gZnVuY3Rpb24gd3JpdGVVSW50QkUgKHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggfCAwXG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICB2YXIgbWF4Qnl0ZXMgPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aCkgLSAxXG4gICAgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbWF4Qnl0ZXMsIDApXG4gIH1cblxuICB2YXIgaSA9IGJ5dGVMZW5ndGggLSAxXG4gIHZhciBtdWwgPSAxXG4gIHRoaXNbb2Zmc2V0ICsgaV0gPSB2YWx1ZSAmIDB4RkZcbiAgd2hpbGUgKC0taSA+PSAwICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgdGhpc1tvZmZzZXQgKyBpXSA9ICh2YWx1ZSAvIG11bCkgJiAweEZGXG4gIH1cblxuICByZXR1cm4gb2Zmc2V0ICsgYnl0ZUxlbmd0aFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDggPSBmdW5jdGlvbiB3cml0ZVVJbnQ4ICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDEsIDB4ZmYsIDApXG4gIGlmICghQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHZhbHVlID0gTWF0aC5mbG9vcih2YWx1ZSlcbiAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcbiAgcmV0dXJuIG9mZnNldCArIDFcbn1cblxuZnVuY3Rpb24gb2JqZWN0V3JpdGVVSW50MTYgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuKSB7XG4gIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMHhmZmZmICsgdmFsdWUgKyAxXG4gIGZvciAodmFyIGkgPSAwLCBqID0gTWF0aC5taW4oYnVmLmxlbmd0aCAtIG9mZnNldCwgMik7IGkgPCBqOyArK2kpIHtcbiAgICBidWZbb2Zmc2V0ICsgaV0gPSAodmFsdWUgJiAoMHhmZiA8PCAoOCAqIChsaXR0bGVFbmRpYW4gPyBpIDogMSAtIGkpKSkpID4+PlxuICAgICAgKGxpdHRsZUVuZGlhbiA/IGkgOiAxIC0gaSkgKiA4XG4gIH1cbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQxNkxFID0gZnVuY3Rpb24gd3JpdGVVSW50MTZMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAyLCAweGZmZmYsIDApXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpXG4gICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gOClcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RXcml0ZVVJbnQxNih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlKVxuICB9XG4gIHJldHVybiBvZmZzZXQgKyAyXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50MTZCRSA9IGZ1bmN0aW9uIHdyaXRlVUludDE2QkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMiwgMHhmZmZmLCAwKVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgPj4+IDgpXG4gICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0V3JpdGVVSW50MTYodGhpcywgdmFsdWUsIG9mZnNldCwgZmFsc2UpXG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDJcbn1cblxuZnVuY3Rpb24gb2JqZWN0V3JpdGVVSW50MzIgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuKSB7XG4gIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMHhmZmZmZmZmZiArIHZhbHVlICsgMVxuICBmb3IgKHZhciBpID0gMCwgaiA9IE1hdGgubWluKGJ1Zi5sZW5ndGggLSBvZmZzZXQsIDQpOyBpIDwgajsgKytpKSB7XG4gICAgYnVmW29mZnNldCArIGldID0gKHZhbHVlID4+PiAobGl0dGxlRW5kaWFuID8gaSA6IDMgLSBpKSAqIDgpICYgMHhmZlxuICB9XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50MzJMRSA9IGZ1bmN0aW9uIHdyaXRlVUludDMyTEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgNCwgMHhmZmZmZmZmZiwgMClcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXQgKyAzXSA9ICh2YWx1ZSA+Pj4gMjQpXG4gICAgdGhpc1tvZmZzZXQgKyAyXSA9ICh2YWx1ZSA+Pj4gMTYpXG4gICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gOClcbiAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICB9IGVsc2Uge1xuICAgIG9iamVjdFdyaXRlVUludDMyKHRoaXMsIHZhbHVlLCBvZmZzZXQsIHRydWUpXG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDRcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQzMkJFID0gZnVuY3Rpb24gd3JpdGVVSW50MzJCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCA0LCAweGZmZmZmZmZmLCAwKVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgPj4+IDI0KVxuICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDE2KVxuICAgIHRoaXNbb2Zmc2V0ICsgMl0gPSAodmFsdWUgPj4+IDgpXG4gICAgdGhpc1tvZmZzZXQgKyAzXSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0V3JpdGVVSW50MzIodGhpcywgdmFsdWUsIG9mZnNldCwgZmFsc2UpXG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDRcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludExFID0gZnVuY3Rpb24gd3JpdGVJbnRMRSAodmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgdmFyIGxpbWl0ID0gTWF0aC5wb3coMiwgOCAqIGJ5dGVMZW5ndGggLSAxKVxuXG4gICAgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbGltaXQgLSAxLCAtbGltaXQpXG4gIH1cblxuICB2YXIgaSA9IDBcbiAgdmFyIG11bCA9IDFcbiAgdmFyIHN1YiA9IDBcbiAgdGhpc1tvZmZzZXRdID0gdmFsdWUgJiAweEZGXG4gIHdoaWxlICgrK2kgPCBieXRlTGVuZ3RoICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgaWYgKHZhbHVlIDwgMCAmJiBzdWIgPT09IDAgJiYgdGhpc1tvZmZzZXQgKyBpIC0gMV0gIT09IDApIHtcbiAgICAgIHN1YiA9IDFcbiAgICB9XG4gICAgdGhpc1tvZmZzZXQgKyBpXSA9ICgodmFsdWUgLyBtdWwpID4+IDApIC0gc3ViICYgMHhGRlxuICB9XG5cbiAgcmV0dXJuIG9mZnNldCArIGJ5dGVMZW5ndGhcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludEJFID0gZnVuY3Rpb24gd3JpdGVJbnRCRSAodmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgdmFyIGxpbWl0ID0gTWF0aC5wb3coMiwgOCAqIGJ5dGVMZW5ndGggLSAxKVxuXG4gICAgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbGltaXQgLSAxLCAtbGltaXQpXG4gIH1cblxuICB2YXIgaSA9IGJ5dGVMZW5ndGggLSAxXG4gIHZhciBtdWwgPSAxXG4gIHZhciBzdWIgPSAwXG4gIHRoaXNbb2Zmc2V0ICsgaV0gPSB2YWx1ZSAmIDB4RkZcbiAgd2hpbGUgKC0taSA+PSAwICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgaWYgKHZhbHVlIDwgMCAmJiBzdWIgPT09IDAgJiYgdGhpc1tvZmZzZXQgKyBpICsgMV0gIT09IDApIHtcbiAgICAgIHN1YiA9IDFcbiAgICB9XG4gICAgdGhpc1tvZmZzZXQgKyBpXSA9ICgodmFsdWUgLyBtdWwpID4+IDApIC0gc3ViICYgMHhGRlxuICB9XG5cbiAgcmV0dXJuIG9mZnNldCArIGJ5dGVMZW5ndGhcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDggPSBmdW5jdGlvbiB3cml0ZUludDggKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMSwgMHg3ZiwgLTB4ODApXG4gIGlmICghQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHZhbHVlID0gTWF0aC5mbG9vcih2YWx1ZSlcbiAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAweGZmICsgdmFsdWUgKyAxXG4gIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIHJldHVybiBvZmZzZXQgKyAxXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQxNkxFID0gZnVuY3Rpb24gd3JpdGVJbnQxNkxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDIsIDB4N2ZmZiwgLTB4ODAwMClcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiA4KVxuICB9IGVsc2Uge1xuICAgIG9iamVjdFdyaXRlVUludDE2KHRoaXMsIHZhbHVlLCBvZmZzZXQsIHRydWUpXG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDJcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDE2QkUgPSBmdW5jdGlvbiB3cml0ZUludDE2QkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMiwgMHg3ZmZmLCAtMHg4MDAwKVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgPj4+IDgpXG4gICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0V3JpdGVVSW50MTYodGhpcywgdmFsdWUsIG9mZnNldCwgZmFsc2UpXG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDJcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDMyTEUgPSBmdW5jdGlvbiB3cml0ZUludDMyTEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgNCwgMHg3ZmZmZmZmZiwgLTB4ODAwMDAwMDApXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpXG4gICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gOClcbiAgICB0aGlzW29mZnNldCArIDJdID0gKHZhbHVlID4+PiAxNilcbiAgICB0aGlzW29mZnNldCArIDNdID0gKHZhbHVlID4+PiAyNClcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RXcml0ZVVJbnQzMih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlKVxuICB9XG4gIHJldHVybiBvZmZzZXQgKyA0XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQzMkJFID0gZnVuY3Rpb24gd3JpdGVJbnQzMkJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDQsIDB4N2ZmZmZmZmYsIC0weDgwMDAwMDAwKVxuICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDB4ZmZmZmZmZmYgKyB2YWx1ZSArIDFcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlID4+PiAyNClcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiAxNilcbiAgICB0aGlzW29mZnNldCArIDJdID0gKHZhbHVlID4+PiA4KVxuICAgIHRoaXNbb2Zmc2V0ICsgM10gPSAodmFsdWUgJiAweGZmKVxuICB9IGVsc2Uge1xuICAgIG9iamVjdFdyaXRlVUludDMyKHRoaXMsIHZhbHVlLCBvZmZzZXQsIGZhbHNlKVxuICB9XG4gIHJldHVybiBvZmZzZXQgKyA0XG59XG5cbmZ1bmN0aW9uIGNoZWNrSUVFRTc1NCAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBleHQsIG1heCwgbWluKSB7XG4gIGlmIChvZmZzZXQgKyBleHQgPiBidWYubGVuZ3RoKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignSW5kZXggb3V0IG9mIHJhbmdlJylcbiAgaWYgKG9mZnNldCA8IDApIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbmRleCBvdXQgb2YgcmFuZ2UnKVxufVxuXG5mdW5jdGlvbiB3cml0ZUZsb2F0IChidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIGNoZWNrSUVFRTc1NChidWYsIHZhbHVlLCBvZmZzZXQsIDQsIDMuNDAyODIzNDY2Mzg1Mjg4NmUrMzgsIC0zLjQwMjgyMzQ2NjM4NTI4ODZlKzM4KVxuICB9XG4gIGllZWU3NTQud3JpdGUoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4sIDIzLCA0KVxuICByZXR1cm4gb2Zmc2V0ICsgNFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlRmxvYXRMRSA9IGZ1bmN0aW9uIHdyaXRlRmxvYXRMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgcmV0dXJuIHdyaXRlRmxvYXQodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSwgbm9Bc3NlcnQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVGbG9hdEJFID0gZnVuY3Rpb24gd3JpdGVGbG9hdEJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICByZXR1cm4gd3JpdGVGbG9hdCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSwgbm9Bc3NlcnQpXG59XG5cbmZ1bmN0aW9uIHdyaXRlRG91YmxlIChidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIGNoZWNrSUVFRTc1NChidWYsIHZhbHVlLCBvZmZzZXQsIDgsIDEuNzk3NjkzMTM0ODYyMzE1N0UrMzA4LCAtMS43OTc2OTMxMzQ4NjIzMTU3RSszMDgpXG4gIH1cbiAgaWVlZTc1NC53cml0ZShidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgNTIsIDgpXG4gIHJldHVybiBvZmZzZXQgKyA4XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVEb3VibGVMRSA9IGZ1bmN0aW9uIHdyaXRlRG91YmxlTEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHJldHVybiB3cml0ZURvdWJsZSh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlLCBub0Fzc2VydClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZURvdWJsZUJFID0gZnVuY3Rpb24gd3JpdGVEb3VibGVCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgcmV0dXJuIHdyaXRlRG91YmxlKHRoaXMsIHZhbHVlLCBvZmZzZXQsIGZhbHNlLCBub0Fzc2VydClcbn1cblxuLy8gY29weSh0YXJnZXRCdWZmZXIsIHRhcmdldFN0YXJ0PTAsIHNvdXJjZVN0YXJ0PTAsIHNvdXJjZUVuZD1idWZmZXIubGVuZ3RoKVxuQnVmZmVyLnByb3RvdHlwZS5jb3B5ID0gZnVuY3Rpb24gY29weSAodGFyZ2V0LCB0YXJnZXRTdGFydCwgc3RhcnQsIGVuZCkge1xuICBpZiAoIXN0YXJ0KSBzdGFydCA9IDBcbiAgaWYgKCFlbmQgJiYgZW5kICE9PSAwKSBlbmQgPSB0aGlzLmxlbmd0aFxuICBpZiAodGFyZ2V0U3RhcnQgPj0gdGFyZ2V0Lmxlbmd0aCkgdGFyZ2V0U3RhcnQgPSB0YXJnZXQubGVuZ3RoXG4gIGlmICghdGFyZ2V0U3RhcnQpIHRhcmdldFN0YXJ0ID0gMFxuICBpZiAoZW5kID4gMCAmJiBlbmQgPCBzdGFydCkgZW5kID0gc3RhcnRcblxuICAvLyBDb3B5IDAgYnl0ZXM7IHdlJ3JlIGRvbmVcbiAgaWYgKGVuZCA9PT0gc3RhcnQpIHJldHVybiAwXG4gIGlmICh0YXJnZXQubGVuZ3RoID09PSAwIHx8IHRoaXMubGVuZ3RoID09PSAwKSByZXR1cm4gMFxuXG4gIC8vIEZhdGFsIGVycm9yIGNvbmRpdGlvbnNcbiAgaWYgKHRhcmdldFN0YXJ0IDwgMCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCd0YXJnZXRTdGFydCBvdXQgb2YgYm91bmRzJylcbiAgfVxuICBpZiAoc3RhcnQgPCAwIHx8IHN0YXJ0ID49IHRoaXMubGVuZ3RoKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignc291cmNlU3RhcnQgb3V0IG9mIGJvdW5kcycpXG4gIGlmIChlbmQgPCAwKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignc291cmNlRW5kIG91dCBvZiBib3VuZHMnKVxuXG4gIC8vIEFyZSB3ZSBvb2I/XG4gIGlmIChlbmQgPiB0aGlzLmxlbmd0aCkgZW5kID0gdGhpcy5sZW5ndGhcbiAgaWYgKHRhcmdldC5sZW5ndGggLSB0YXJnZXRTdGFydCA8IGVuZCAtIHN0YXJ0KSB7XG4gICAgZW5kID0gdGFyZ2V0Lmxlbmd0aCAtIHRhcmdldFN0YXJ0ICsgc3RhcnRcbiAgfVxuXG4gIHZhciBsZW4gPSBlbmQgLSBzdGFydFxuICB2YXIgaVxuXG4gIGlmICh0aGlzID09PSB0YXJnZXQgJiYgc3RhcnQgPCB0YXJnZXRTdGFydCAmJiB0YXJnZXRTdGFydCA8IGVuZCkge1xuICAgIC8vIGRlc2NlbmRpbmcgY29weSBmcm9tIGVuZFxuICAgIGZvciAoaSA9IGxlbiAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICB0YXJnZXRbaSArIHRhcmdldFN0YXJ0XSA9IHRoaXNbaSArIHN0YXJ0XVxuICAgIH1cbiAgfSBlbHNlIGlmIChsZW4gPCAxMDAwIHx8ICFCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIC8vIGFzY2VuZGluZyBjb3B5IGZyb20gc3RhcnRcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgIHRhcmdldFtpICsgdGFyZ2V0U3RhcnRdID0gdGhpc1tpICsgc3RhcnRdXG4gICAgfVxuICB9IGVsc2Uge1xuICAgIFVpbnQ4QXJyYXkucHJvdG90eXBlLnNldC5jYWxsKFxuICAgICAgdGFyZ2V0LFxuICAgICAgdGhpcy5zdWJhcnJheShzdGFydCwgc3RhcnQgKyBsZW4pLFxuICAgICAgdGFyZ2V0U3RhcnRcbiAgICApXG4gIH1cblxuICByZXR1cm4gbGVuXG59XG5cbi8vIFVzYWdlOlxuLy8gICAgYnVmZmVyLmZpbGwobnVtYmVyWywgb2Zmc2V0WywgZW5kXV0pXG4vLyAgICBidWZmZXIuZmlsbChidWZmZXJbLCBvZmZzZXRbLCBlbmRdXSlcbi8vICAgIGJ1ZmZlci5maWxsKHN0cmluZ1ssIG9mZnNldFssIGVuZF1dWywgZW5jb2RpbmddKVxuQnVmZmVyLnByb3RvdHlwZS5maWxsID0gZnVuY3Rpb24gZmlsbCAodmFsLCBzdGFydCwgZW5kLCBlbmNvZGluZykge1xuICAvLyBIYW5kbGUgc3RyaW5nIGNhc2VzOlxuICBpZiAodHlwZW9mIHZhbCA9PT0gJ3N0cmluZycpIHtcbiAgICBpZiAodHlwZW9mIHN0YXJ0ID09PSAnc3RyaW5nJykge1xuICAgICAgZW5jb2RpbmcgPSBzdGFydFxuICAgICAgc3RhcnQgPSAwXG4gICAgICBlbmQgPSB0aGlzLmxlbmd0aFxuICAgIH0gZWxzZSBpZiAodHlwZW9mIGVuZCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGVuY29kaW5nID0gZW5kXG4gICAgICBlbmQgPSB0aGlzLmxlbmd0aFxuICAgIH1cbiAgICBpZiAodmFsLmxlbmd0aCA9PT0gMSkge1xuICAgICAgdmFyIGNvZGUgPSB2YWwuY2hhckNvZGVBdCgwKVxuICAgICAgaWYgKGNvZGUgPCAyNTYpIHtcbiAgICAgICAgdmFsID0gY29kZVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoZW5jb2RpbmcgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2YgZW5jb2RpbmcgIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdlbmNvZGluZyBtdXN0IGJlIGEgc3RyaW5nJylcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBlbmNvZGluZyA9PT0gJ3N0cmluZycgJiYgIUJ1ZmZlci5pc0VuY29kaW5nKGVuY29kaW5nKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5rbm93biBlbmNvZGluZzogJyArIGVuY29kaW5nKVxuICAgIH1cbiAgfSBlbHNlIGlmICh0eXBlb2YgdmFsID09PSAnbnVtYmVyJykge1xuICAgIHZhbCA9IHZhbCAmIDI1NVxuICB9XG5cbiAgLy8gSW52YWxpZCByYW5nZXMgYXJlIG5vdCBzZXQgdG8gYSBkZWZhdWx0LCBzbyBjYW4gcmFuZ2UgY2hlY2sgZWFybHkuXG4gIGlmIChzdGFydCA8IDAgfHwgdGhpcy5sZW5ndGggPCBzdGFydCB8fCB0aGlzLmxlbmd0aCA8IGVuZCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdPdXQgb2YgcmFuZ2UgaW5kZXgnKVxuICB9XG5cbiAgaWYgKGVuZCA8PSBzdGFydCkge1xuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICBzdGFydCA9IHN0YXJ0ID4+PiAwXG4gIGVuZCA9IGVuZCA9PT0gdW5kZWZpbmVkID8gdGhpcy5sZW5ndGggOiBlbmQgPj4+IDBcblxuICBpZiAoIXZhbCkgdmFsID0gMFxuXG4gIHZhciBpXG4gIGlmICh0eXBlb2YgdmFsID09PSAnbnVtYmVyJykge1xuICAgIGZvciAoaSA9IHN0YXJ0OyBpIDwgZW5kOyArK2kpIHtcbiAgICAgIHRoaXNbaV0gPSB2YWxcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdmFyIGJ5dGVzID0gQnVmZmVyLmlzQnVmZmVyKHZhbClcbiAgICAgID8gdmFsXG4gICAgICA6IHV0ZjhUb0J5dGVzKG5ldyBCdWZmZXIodmFsLCBlbmNvZGluZykudG9TdHJpbmcoKSlcbiAgICB2YXIgbGVuID0gYnl0ZXMubGVuZ3RoXG4gICAgZm9yIChpID0gMDsgaSA8IGVuZCAtIHN0YXJ0OyArK2kpIHtcbiAgICAgIHRoaXNbaSArIHN0YXJ0XSA9IGJ5dGVzW2kgJSBsZW5dXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRoaXNcbn1cblxuLy8gSEVMUEVSIEZVTkNUSU9OU1xuLy8gPT09PT09PT09PT09PT09PVxuXG52YXIgSU5WQUxJRF9CQVNFNjRfUkUgPSAvW14rXFwvMC05QS1aYS16LV9dL2dcblxuZnVuY3Rpb24gYmFzZTY0Y2xlYW4gKHN0cikge1xuICAvLyBOb2RlIHN0cmlwcyBvdXQgaW52YWxpZCBjaGFyYWN0ZXJzIGxpa2UgXFxuIGFuZCBcXHQgZnJvbSB0aGUgc3RyaW5nLCBiYXNlNjQtanMgZG9lcyBub3RcbiAgc3RyID0gc3RyaW5ndHJpbShzdHIpLnJlcGxhY2UoSU5WQUxJRF9CQVNFNjRfUkUsICcnKVxuICAvLyBOb2RlIGNvbnZlcnRzIHN0cmluZ3Mgd2l0aCBsZW5ndGggPCAyIHRvICcnXG4gIGlmIChzdHIubGVuZ3RoIDwgMikgcmV0dXJuICcnXG4gIC8vIE5vZGUgYWxsb3dzIGZvciBub24tcGFkZGVkIGJhc2U2NCBzdHJpbmdzIChtaXNzaW5nIHRyYWlsaW5nID09PSksIGJhc2U2NC1qcyBkb2VzIG5vdFxuICB3aGlsZSAoc3RyLmxlbmd0aCAlIDQgIT09IDApIHtcbiAgICBzdHIgPSBzdHIgKyAnPSdcbiAgfVxuICByZXR1cm4gc3RyXG59XG5cbmZ1bmN0aW9uIHN0cmluZ3RyaW0gKHN0cikge1xuICBpZiAoc3RyLnRyaW0pIHJldHVybiBzdHIudHJpbSgpXG4gIHJldHVybiBzdHIucmVwbGFjZSgvXlxccyt8XFxzKyQvZywgJycpXG59XG5cbmZ1bmN0aW9uIHRvSGV4IChuKSB7XG4gIGlmIChuIDwgMTYpIHJldHVybiAnMCcgKyBuLnRvU3RyaW5nKDE2KVxuICByZXR1cm4gbi50b1N0cmluZygxNilcbn1cblxuZnVuY3Rpb24gdXRmOFRvQnl0ZXMgKHN0cmluZywgdW5pdHMpIHtcbiAgdW5pdHMgPSB1bml0cyB8fCBJbmZpbml0eVxuICB2YXIgY29kZVBvaW50XG4gIHZhciBsZW5ndGggPSBzdHJpbmcubGVuZ3RoXG4gIHZhciBsZWFkU3Vycm9nYXRlID0gbnVsbFxuICB2YXIgYnl0ZXMgPSBbXVxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICBjb2RlUG9pbnQgPSBzdHJpbmcuY2hhckNvZGVBdChpKVxuXG4gICAgLy8gaXMgc3Vycm9nYXRlIGNvbXBvbmVudFxuICAgIGlmIChjb2RlUG9pbnQgPiAweEQ3RkYgJiYgY29kZVBvaW50IDwgMHhFMDAwKSB7XG4gICAgICAvLyBsYXN0IGNoYXIgd2FzIGEgbGVhZFxuICAgICAgaWYgKCFsZWFkU3Vycm9nYXRlKSB7XG4gICAgICAgIC8vIG5vIGxlYWQgeWV0XG4gICAgICAgIGlmIChjb2RlUG9pbnQgPiAweERCRkYpIHtcbiAgICAgICAgICAvLyB1bmV4cGVjdGVkIHRyYWlsXG4gICAgICAgICAgaWYgKCh1bml0cyAtPSAzKSA+IC0xKSBieXRlcy5wdXNoKDB4RUYsIDB4QkYsIDB4QkQpXG4gICAgICAgICAgY29udGludWVcbiAgICAgICAgfSBlbHNlIGlmIChpICsgMSA9PT0gbGVuZ3RoKSB7XG4gICAgICAgICAgLy8gdW5wYWlyZWQgbGVhZFxuICAgICAgICAgIGlmICgodW5pdHMgLT0gMykgPiAtMSkgYnl0ZXMucHVzaCgweEVGLCAweEJGLCAweEJEKVxuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH1cblxuICAgICAgICAvLyB2YWxpZCBsZWFkXG4gICAgICAgIGxlYWRTdXJyb2dhdGUgPSBjb2RlUG9pbnRcblxuICAgICAgICBjb250aW51ZVxuICAgICAgfVxuXG4gICAgICAvLyAyIGxlYWRzIGluIGEgcm93XG4gICAgICBpZiAoY29kZVBvaW50IDwgMHhEQzAwKSB7XG4gICAgICAgIGlmICgodW5pdHMgLT0gMykgPiAtMSkgYnl0ZXMucHVzaCgweEVGLCAweEJGLCAweEJEKVxuICAgICAgICBsZWFkU3Vycm9nYXRlID0gY29kZVBvaW50XG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG5cbiAgICAgIC8vIHZhbGlkIHN1cnJvZ2F0ZSBwYWlyXG4gICAgICBjb2RlUG9pbnQgPSAobGVhZFN1cnJvZ2F0ZSAtIDB4RDgwMCA8PCAxMCB8IGNvZGVQb2ludCAtIDB4REMwMCkgKyAweDEwMDAwXG4gICAgfSBlbHNlIGlmIChsZWFkU3Vycm9nYXRlKSB7XG4gICAgICAvLyB2YWxpZCBibXAgY2hhciwgYnV0IGxhc3QgY2hhciB3YXMgYSBsZWFkXG4gICAgICBpZiAoKHVuaXRzIC09IDMpID4gLTEpIGJ5dGVzLnB1c2goMHhFRiwgMHhCRiwgMHhCRClcbiAgICB9XG5cbiAgICBsZWFkU3Vycm9nYXRlID0gbnVsbFxuXG4gICAgLy8gZW5jb2RlIHV0ZjhcbiAgICBpZiAoY29kZVBvaW50IDwgMHg4MCkge1xuICAgICAgaWYgKCh1bml0cyAtPSAxKSA8IDApIGJyZWFrXG4gICAgICBieXRlcy5wdXNoKGNvZGVQb2ludClcbiAgICB9IGVsc2UgaWYgKGNvZGVQb2ludCA8IDB4ODAwKSB7XG4gICAgICBpZiAoKHVuaXRzIC09IDIpIDwgMCkgYnJlYWtcbiAgICAgIGJ5dGVzLnB1c2goXG4gICAgICAgIGNvZGVQb2ludCA+PiAweDYgfCAweEMwLFxuICAgICAgICBjb2RlUG9pbnQgJiAweDNGIHwgMHg4MFxuICAgICAgKVxuICAgIH0gZWxzZSBpZiAoY29kZVBvaW50IDwgMHgxMDAwMCkge1xuICAgICAgaWYgKCh1bml0cyAtPSAzKSA8IDApIGJyZWFrXG4gICAgICBieXRlcy5wdXNoKFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHhDIHwgMHhFMCxcbiAgICAgICAgY29kZVBvaW50ID4+IDB4NiAmIDB4M0YgfCAweDgwLFxuICAgICAgICBjb2RlUG9pbnQgJiAweDNGIHwgMHg4MFxuICAgICAgKVxuICAgIH0gZWxzZSBpZiAoY29kZVBvaW50IDwgMHgxMTAwMDApIHtcbiAgICAgIGlmICgodW5pdHMgLT0gNCkgPCAwKSBicmVha1xuICAgICAgYnl0ZXMucHVzaChcbiAgICAgICAgY29kZVBvaW50ID4+IDB4MTIgfCAweEYwLFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHhDICYgMHgzRiB8IDB4ODAsXG4gICAgICAgIGNvZGVQb2ludCA+PiAweDYgJiAweDNGIHwgMHg4MCxcbiAgICAgICAgY29kZVBvaW50ICYgMHgzRiB8IDB4ODBcbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGNvZGUgcG9pbnQnKVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBieXRlc1xufVxuXG5mdW5jdGlvbiBhc2NpaVRvQnl0ZXMgKHN0cikge1xuICB2YXIgYnl0ZUFycmF5ID0gW11cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyArK2kpIHtcbiAgICAvLyBOb2RlJ3MgY29kZSBzZWVtcyB0byBiZSBkb2luZyB0aGlzIGFuZCBub3QgJiAweDdGLi5cbiAgICBieXRlQXJyYXkucHVzaChzdHIuY2hhckNvZGVBdChpKSAmIDB4RkYpXG4gIH1cbiAgcmV0dXJuIGJ5dGVBcnJheVxufVxuXG5mdW5jdGlvbiB1dGYxNmxlVG9CeXRlcyAoc3RyLCB1bml0cykge1xuICB2YXIgYywgaGksIGxvXG4gIHZhciBieXRlQXJyYXkgPSBbXVxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0ci5sZW5ndGg7ICsraSkge1xuICAgIGlmICgodW5pdHMgLT0gMikgPCAwKSBicmVha1xuXG4gICAgYyA9IHN0ci5jaGFyQ29kZUF0KGkpXG4gICAgaGkgPSBjID4+IDhcbiAgICBsbyA9IGMgJSAyNTZcbiAgICBieXRlQXJyYXkucHVzaChsbylcbiAgICBieXRlQXJyYXkucHVzaChoaSlcbiAgfVxuXG4gIHJldHVybiBieXRlQXJyYXlcbn1cblxuZnVuY3Rpb24gYmFzZTY0VG9CeXRlcyAoc3RyKSB7XG4gIHJldHVybiBiYXNlNjQudG9CeXRlQXJyYXkoYmFzZTY0Y2xlYW4oc3RyKSlcbn1cblxuZnVuY3Rpb24gYmxpdEJ1ZmZlciAoc3JjLCBkc3QsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICBpZiAoKGkgKyBvZmZzZXQgPj0gZHN0Lmxlbmd0aCkgfHwgKGkgPj0gc3JjLmxlbmd0aCkpIGJyZWFrXG4gICAgZHN0W2kgKyBvZmZzZXRdID0gc3JjW2ldXG4gIH1cbiAgcmV0dXJuIGlcbn1cblxuZnVuY3Rpb24gaXNuYW4gKHZhbCkge1xuICByZXR1cm4gdmFsICE9PSB2YWwgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1zZWxmLWNvbXBhcmVcbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL25vZGVfbW9kdWxlcy9idWZmZXIvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDcyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciBnO1xyXG5cclxuLy8gVGhpcyB3b3JrcyBpbiBub24tc3RyaWN0IG1vZGVcclxuZyA9IChmdW5jdGlvbigpIHtcclxuXHRyZXR1cm4gdGhpcztcclxufSkoKTtcclxuXHJcbnRyeSB7XHJcblx0Ly8gVGhpcyB3b3JrcyBpZiBldmFsIGlzIGFsbG93ZWQgKHNlZSBDU1ApXHJcblx0ZyA9IGcgfHwgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpIHx8ICgxLGV2YWwpKFwidGhpc1wiKTtcclxufSBjYXRjaChlKSB7XHJcblx0Ly8gVGhpcyB3b3JrcyBpZiB0aGUgd2luZG93IHJlZmVyZW5jZSBpcyBhdmFpbGFibGVcclxuXHRpZih0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiKVxyXG5cdFx0ZyA9IHdpbmRvdztcclxufVxyXG5cclxuLy8gZyBjYW4gc3RpbGwgYmUgdW5kZWZpbmVkLCBidXQgbm90aGluZyB0byBkbyBhYm91dCBpdC4uLlxyXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xyXG4vLyBlYXNpZXIgdG8gaGFuZGxlIHRoaXMgY2FzZS4gaWYoIWdsb2JhbCkgeyAuLi59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGc7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL25vZGVfbW9kdWxlcy93ZWJwYWNrL2J1aWxkaW4vZ2xvYmFsLmpzXG4vLyBtb2R1bGUgaWQgPSA3M1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIndXNlIHN0cmljdCdcblxuZXhwb3J0cy5ieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aFxuZXhwb3J0cy50b0J5dGVBcnJheSA9IHRvQnl0ZUFycmF5XG5leHBvcnRzLmZyb21CeXRlQXJyYXkgPSBmcm9tQnl0ZUFycmF5XG5cbnZhciBsb29rdXAgPSBbXVxudmFyIHJldkxvb2t1cCA9IFtdXG52YXIgQXJyID0gdHlwZW9mIFVpbnQ4QXJyYXkgIT09ICd1bmRlZmluZWQnID8gVWludDhBcnJheSA6IEFycmF5XG5cbnZhciBjb2RlID0gJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky8nXG5mb3IgKHZhciBpID0gMCwgbGVuID0gY29kZS5sZW5ndGg7IGkgPCBsZW47ICsraSkge1xuICBsb29rdXBbaV0gPSBjb2RlW2ldXG4gIHJldkxvb2t1cFtjb2RlLmNoYXJDb2RlQXQoaSldID0gaVxufVxuXG5yZXZMb29rdXBbJy0nLmNoYXJDb2RlQXQoMCldID0gNjJcbnJldkxvb2t1cFsnXycuY2hhckNvZGVBdCgwKV0gPSA2M1xuXG5mdW5jdGlvbiBwbGFjZUhvbGRlcnNDb3VudCAoYjY0KSB7XG4gIHZhciBsZW4gPSBiNjQubGVuZ3RoXG4gIGlmIChsZW4gJSA0ID4gMCkge1xuICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBzdHJpbmcuIExlbmd0aCBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgNCcpXG4gIH1cblxuICAvLyB0aGUgbnVtYmVyIG9mIGVxdWFsIHNpZ25zIChwbGFjZSBob2xkZXJzKVxuICAvLyBpZiB0aGVyZSBhcmUgdHdvIHBsYWNlaG9sZGVycywgdGhhbiB0aGUgdHdvIGNoYXJhY3RlcnMgYmVmb3JlIGl0XG4gIC8vIHJlcHJlc2VudCBvbmUgYnl0ZVxuICAvLyBpZiB0aGVyZSBpcyBvbmx5IG9uZSwgdGhlbiB0aGUgdGhyZWUgY2hhcmFjdGVycyBiZWZvcmUgaXQgcmVwcmVzZW50IDIgYnl0ZXNcbiAgLy8gdGhpcyBpcyBqdXN0IGEgY2hlYXAgaGFjayB0byBub3QgZG8gaW5kZXhPZiB0d2ljZVxuICByZXR1cm4gYjY0W2xlbiAtIDJdID09PSAnPScgPyAyIDogYjY0W2xlbiAtIDFdID09PSAnPScgPyAxIDogMFxufVxuXG5mdW5jdGlvbiBieXRlTGVuZ3RoIChiNjQpIHtcbiAgLy8gYmFzZTY0IGlzIDQvMyArIHVwIHRvIHR3byBjaGFyYWN0ZXJzIG9mIHRoZSBvcmlnaW5hbCBkYXRhXG4gIHJldHVybiAoYjY0Lmxlbmd0aCAqIDMgLyA0KSAtIHBsYWNlSG9sZGVyc0NvdW50KGI2NClcbn1cblxuZnVuY3Rpb24gdG9CeXRlQXJyYXkgKGI2NCkge1xuICB2YXIgaSwgbCwgdG1wLCBwbGFjZUhvbGRlcnMsIGFyclxuICB2YXIgbGVuID0gYjY0Lmxlbmd0aFxuICBwbGFjZUhvbGRlcnMgPSBwbGFjZUhvbGRlcnNDb3VudChiNjQpXG5cbiAgYXJyID0gbmV3IEFycigobGVuICogMyAvIDQpIC0gcGxhY2VIb2xkZXJzKVxuXG4gIC8vIGlmIHRoZXJlIGFyZSBwbGFjZWhvbGRlcnMsIG9ubHkgZ2V0IHVwIHRvIHRoZSBsYXN0IGNvbXBsZXRlIDQgY2hhcnNcbiAgbCA9IHBsYWNlSG9sZGVycyA+IDAgPyBsZW4gLSA0IDogbGVuXG5cbiAgdmFyIEwgPSAwXG5cbiAgZm9yIChpID0gMDsgaSA8IGw7IGkgKz0gNCkge1xuICAgIHRtcCA9IChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSldIDw8IDE4KSB8IChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDEpXSA8PCAxMikgfCAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAyKV0gPDwgNikgfCByZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDMpXVxuICAgIGFycltMKytdID0gKHRtcCA+PiAxNikgJiAweEZGXG4gICAgYXJyW0wrK10gPSAodG1wID4+IDgpICYgMHhGRlxuICAgIGFycltMKytdID0gdG1wICYgMHhGRlxuICB9XG5cbiAgaWYgKHBsYWNlSG9sZGVycyA9PT0gMikge1xuICAgIHRtcCA9IChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSldIDw8IDIpIHwgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMSldID4+IDQpXG4gICAgYXJyW0wrK10gPSB0bXAgJiAweEZGXG4gIH0gZWxzZSBpZiAocGxhY2VIb2xkZXJzID09PSAxKSB7XG4gICAgdG1wID0gKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpKV0gPDwgMTApIHwgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMSldIDw8IDQpIHwgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMildID4+IDIpXG4gICAgYXJyW0wrK10gPSAodG1wID4+IDgpICYgMHhGRlxuICAgIGFycltMKytdID0gdG1wICYgMHhGRlxuICB9XG5cbiAgcmV0dXJuIGFyclxufVxuXG5mdW5jdGlvbiB0cmlwbGV0VG9CYXNlNjQgKG51bSkge1xuICByZXR1cm4gbG9va3VwW251bSA+PiAxOCAmIDB4M0ZdICsgbG9va3VwW251bSA+PiAxMiAmIDB4M0ZdICsgbG9va3VwW251bSA+PiA2ICYgMHgzRl0gKyBsb29rdXBbbnVtICYgMHgzRl1cbn1cblxuZnVuY3Rpb24gZW5jb2RlQ2h1bmsgKHVpbnQ4LCBzdGFydCwgZW5kKSB7XG4gIHZhciB0bXBcbiAgdmFyIG91dHB1dCA9IFtdXG4gIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgaSArPSAzKSB7XG4gICAgdG1wID0gKHVpbnQ4W2ldIDw8IDE2KSArICh1aW50OFtpICsgMV0gPDwgOCkgKyAodWludDhbaSArIDJdKVxuICAgIG91dHB1dC5wdXNoKHRyaXBsZXRUb0Jhc2U2NCh0bXApKVxuICB9XG4gIHJldHVybiBvdXRwdXQuam9pbignJylcbn1cblxuZnVuY3Rpb24gZnJvbUJ5dGVBcnJheSAodWludDgpIHtcbiAgdmFyIHRtcFxuICB2YXIgbGVuID0gdWludDgubGVuZ3RoXG4gIHZhciBleHRyYUJ5dGVzID0gbGVuICUgMyAvLyBpZiB3ZSBoYXZlIDEgYnl0ZSBsZWZ0LCBwYWQgMiBieXRlc1xuICB2YXIgb3V0cHV0ID0gJydcbiAgdmFyIHBhcnRzID0gW11cbiAgdmFyIG1heENodW5rTGVuZ3RoID0gMTYzODMgLy8gbXVzdCBiZSBtdWx0aXBsZSBvZiAzXG5cbiAgLy8gZ28gdGhyb3VnaCB0aGUgYXJyYXkgZXZlcnkgdGhyZWUgYnl0ZXMsIHdlJ2xsIGRlYWwgd2l0aCB0cmFpbGluZyBzdHVmZiBsYXRlclxuICBmb3IgKHZhciBpID0gMCwgbGVuMiA9IGxlbiAtIGV4dHJhQnl0ZXM7IGkgPCBsZW4yOyBpICs9IG1heENodW5rTGVuZ3RoKSB7XG4gICAgcGFydHMucHVzaChlbmNvZGVDaHVuayh1aW50OCwgaSwgKGkgKyBtYXhDaHVua0xlbmd0aCkgPiBsZW4yID8gbGVuMiA6IChpICsgbWF4Q2h1bmtMZW5ndGgpKSlcbiAgfVxuXG4gIC8vIHBhZCB0aGUgZW5kIHdpdGggemVyb3MsIGJ1dCBtYWtlIHN1cmUgdG8gbm90IGZvcmdldCB0aGUgZXh0cmEgYnl0ZXNcbiAgaWYgKGV4dHJhQnl0ZXMgPT09IDEpIHtcbiAgICB0bXAgPSB1aW50OFtsZW4gLSAxXVxuICAgIG91dHB1dCArPSBsb29rdXBbdG1wID4+IDJdXG4gICAgb3V0cHV0ICs9IGxvb2t1cFsodG1wIDw8IDQpICYgMHgzRl1cbiAgICBvdXRwdXQgKz0gJz09J1xuICB9IGVsc2UgaWYgKGV4dHJhQnl0ZXMgPT09IDIpIHtcbiAgICB0bXAgPSAodWludDhbbGVuIC0gMl0gPDwgOCkgKyAodWludDhbbGVuIC0gMV0pXG4gICAgb3V0cHV0ICs9IGxvb2t1cFt0bXAgPj4gMTBdXG4gICAgb3V0cHV0ICs9IGxvb2t1cFsodG1wID4+IDQpICYgMHgzRl1cbiAgICBvdXRwdXQgKz0gbG9va3VwWyh0bXAgPDwgMikgJiAweDNGXVxuICAgIG91dHB1dCArPSAnPSdcbiAgfVxuXG4gIHBhcnRzLnB1c2gob3V0cHV0KVxuXG4gIHJldHVybiBwYXJ0cy5qb2luKCcnKVxufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbm9kZV9tb2R1bGVzL2Jhc2U2NC1qcy9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gNzRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiZXhwb3J0cy5yZWFkID0gZnVuY3Rpb24gKGJ1ZmZlciwgb2Zmc2V0LCBpc0xFLCBtTGVuLCBuQnl0ZXMpIHtcbiAgdmFyIGUsIG1cbiAgdmFyIGVMZW4gPSBuQnl0ZXMgKiA4IC0gbUxlbiAtIDFcbiAgdmFyIGVNYXggPSAoMSA8PCBlTGVuKSAtIDFcbiAgdmFyIGVCaWFzID0gZU1heCA+PiAxXG4gIHZhciBuQml0cyA9IC03XG4gIHZhciBpID0gaXNMRSA/IChuQnl0ZXMgLSAxKSA6IDBcbiAgdmFyIGQgPSBpc0xFID8gLTEgOiAxXG4gIHZhciBzID0gYnVmZmVyW29mZnNldCArIGldXG5cbiAgaSArPSBkXG5cbiAgZSA9IHMgJiAoKDEgPDwgKC1uQml0cykpIC0gMSlcbiAgcyA+Pj0gKC1uQml0cylcbiAgbkJpdHMgKz0gZUxlblxuICBmb3IgKDsgbkJpdHMgPiAwOyBlID0gZSAqIDI1NiArIGJ1ZmZlcltvZmZzZXQgKyBpXSwgaSArPSBkLCBuQml0cyAtPSA4KSB7fVxuXG4gIG0gPSBlICYgKCgxIDw8ICgtbkJpdHMpKSAtIDEpXG4gIGUgPj49ICgtbkJpdHMpXG4gIG5CaXRzICs9IG1MZW5cbiAgZm9yICg7IG5CaXRzID4gMDsgbSA9IG0gKiAyNTYgKyBidWZmZXJbb2Zmc2V0ICsgaV0sIGkgKz0gZCwgbkJpdHMgLT0gOCkge31cblxuICBpZiAoZSA9PT0gMCkge1xuICAgIGUgPSAxIC0gZUJpYXNcbiAgfSBlbHNlIGlmIChlID09PSBlTWF4KSB7XG4gICAgcmV0dXJuIG0gPyBOYU4gOiAoKHMgPyAtMSA6IDEpICogSW5maW5pdHkpXG4gIH0gZWxzZSB7XG4gICAgbSA9IG0gKyBNYXRoLnBvdygyLCBtTGVuKVxuICAgIGUgPSBlIC0gZUJpYXNcbiAgfVxuICByZXR1cm4gKHMgPyAtMSA6IDEpICogbSAqIE1hdGgucG93KDIsIGUgLSBtTGVuKVxufVxuXG5leHBvcnRzLndyaXRlID0gZnVuY3Rpb24gKGJ1ZmZlciwgdmFsdWUsIG9mZnNldCwgaXNMRSwgbUxlbiwgbkJ5dGVzKSB7XG4gIHZhciBlLCBtLCBjXG4gIHZhciBlTGVuID0gbkJ5dGVzICogOCAtIG1MZW4gLSAxXG4gIHZhciBlTWF4ID0gKDEgPDwgZUxlbikgLSAxXG4gIHZhciBlQmlhcyA9IGVNYXggPj4gMVxuICB2YXIgcnQgPSAobUxlbiA9PT0gMjMgPyBNYXRoLnBvdygyLCAtMjQpIC0gTWF0aC5wb3coMiwgLTc3KSA6IDApXG4gIHZhciBpID0gaXNMRSA/IDAgOiAobkJ5dGVzIC0gMSlcbiAgdmFyIGQgPSBpc0xFID8gMSA6IC0xXG4gIHZhciBzID0gdmFsdWUgPCAwIHx8ICh2YWx1ZSA9PT0gMCAmJiAxIC8gdmFsdWUgPCAwKSA/IDEgOiAwXG5cbiAgdmFsdWUgPSBNYXRoLmFicyh2YWx1ZSlcblxuICBpZiAoaXNOYU4odmFsdWUpIHx8IHZhbHVlID09PSBJbmZpbml0eSkge1xuICAgIG0gPSBpc05hTih2YWx1ZSkgPyAxIDogMFxuICAgIGUgPSBlTWF4XG4gIH0gZWxzZSB7XG4gICAgZSA9IE1hdGguZmxvb3IoTWF0aC5sb2codmFsdWUpIC8gTWF0aC5MTjIpXG4gICAgaWYgKHZhbHVlICogKGMgPSBNYXRoLnBvdygyLCAtZSkpIDwgMSkge1xuICAgICAgZS0tXG4gICAgICBjICo9IDJcbiAgICB9XG4gICAgaWYgKGUgKyBlQmlhcyA+PSAxKSB7XG4gICAgICB2YWx1ZSArPSBydCAvIGNcbiAgICB9IGVsc2Uge1xuICAgICAgdmFsdWUgKz0gcnQgKiBNYXRoLnBvdygyLCAxIC0gZUJpYXMpXG4gICAgfVxuICAgIGlmICh2YWx1ZSAqIGMgPj0gMikge1xuICAgICAgZSsrXG4gICAgICBjIC89IDJcbiAgICB9XG5cbiAgICBpZiAoZSArIGVCaWFzID49IGVNYXgpIHtcbiAgICAgIG0gPSAwXG4gICAgICBlID0gZU1heFxuICAgIH0gZWxzZSBpZiAoZSArIGVCaWFzID49IDEpIHtcbiAgICAgIG0gPSAodmFsdWUgKiBjIC0gMSkgKiBNYXRoLnBvdygyLCBtTGVuKVxuICAgICAgZSA9IGUgKyBlQmlhc1xuICAgIH0gZWxzZSB7XG4gICAgICBtID0gdmFsdWUgKiBNYXRoLnBvdygyLCBlQmlhcyAtIDEpICogTWF0aC5wb3coMiwgbUxlbilcbiAgICAgIGUgPSAwXG4gICAgfVxuICB9XG5cbiAgZm9yICg7IG1MZW4gPj0gODsgYnVmZmVyW29mZnNldCArIGldID0gbSAmIDB4ZmYsIGkgKz0gZCwgbSAvPSAyNTYsIG1MZW4gLT0gOCkge31cblxuICBlID0gKGUgPDwgbUxlbikgfCBtXG4gIGVMZW4gKz0gbUxlblxuICBmb3IgKDsgZUxlbiA+IDA7IGJ1ZmZlcltvZmZzZXQgKyBpXSA9IGUgJiAweGZmLCBpICs9IGQsIGUgLz0gMjU2LCBlTGVuIC09IDgpIHt9XG5cbiAgYnVmZmVyW29mZnNldCArIGkgLSBkXSB8PSBzICogMTI4XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9ub2RlX21vZHVsZXMvaWVlZTc1NC9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gNzVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIHRvU3RyaW5nID0ge30udG9TdHJpbmc7XG5cbm1vZHVsZS5leHBvcnRzID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiAoYXJyKSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKGFycikgPT0gJ1tvYmplY3QgQXJyYXldJztcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9ub2RlX21vZHVsZXMvaXNhcnJheS9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gNzZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIFBsYXllclNvdXJjZVR5cGU7XHJcbihmdW5jdGlvbiAoUGxheWVyU291cmNlVHlwZSkge1xyXG4gICAgUGxheWVyU291cmNlVHlwZVtcIkRFRkFVTFRcIl0gPSBcImRlZmF1bHRcIjtcclxuICAgIFBsYXllclNvdXJjZVR5cGVbXCJISVZFXCJdID0gXCJoaXZlXCI7XHJcbiAgICBQbGF5ZXJTb3VyY2VUeXBlW1wiS1NETlwiXSA9IFwia29sbGVjdGl2ZVwiO1xyXG59KShQbGF5ZXJTb3VyY2VUeXBlID0gZXhwb3J0cy5QbGF5ZXJTb3VyY2VUeXBlIHx8IChleHBvcnRzLlBsYXllclNvdXJjZVR5cGUgPSB7fSkpO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3BsYXllci1zb3VyY2UudHlwZS50c1xuLy8gbW9kdWxlIGlkID0gNzdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuLy8vIDxyZWZlcmVuY2UgcGF0aD0ncGxheWVyLmQudHMnIC8+XHJcbnZhciB1aW1hbmFnZXJfMSA9IHJlcXVpcmUoXCIuL3VpbWFuYWdlclwiKTtcclxudmFyIGJ1dHRvbl8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9idXR0b25cIik7XHJcbnZhciBjb250cm9sYmFyXzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL2NvbnRyb2xiYXJcIik7XHJcbnZhciBmdWxsc2NyZWVudG9nZ2xlYnV0dG9uXzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL2Z1bGxzY3JlZW50b2dnbGVidXR0b25cIik7XHJcbnZhciBodWdlcGxheWJhY2t0b2dnbGVidXR0b25fMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvaHVnZXBsYXliYWNrdG9nZ2xlYnV0dG9uXCIpO1xyXG52YXIgcGxheWJhY2t0aW1lbGFiZWxfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvcGxheWJhY2t0aW1lbGFiZWxcIik7XHJcbnZhciBwbGF5YmFja3RvZ2dsZWJ1dHRvbl8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9wbGF5YmFja3RvZ2dsZWJ1dHRvblwiKTtcclxudmFyIHNlZWtiYXJfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvc2Vla2JhclwiKTtcclxudmFyIHNlbGVjdGJveF8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9zZWxlY3Rib3hcIik7XHJcbnZhciBpdGVtc2VsZWN0aW9ubGlzdF8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9pdGVtc2VsZWN0aW9ubGlzdFwiKTtcclxudmFyIHNldHRpbmdzcGFuZWxfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvc2V0dGluZ3NwYW5lbFwiKTtcclxudmFyIHNldHRpbmdzdG9nZ2xlYnV0dG9uXzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL3NldHRpbmdzdG9nZ2xlYnV0dG9uXCIpO1xyXG52YXIgdG9nZ2xlYnV0dG9uXzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL3RvZ2dsZWJ1dHRvblwiKTtcclxudmFyIHZpZGVvcXVhbGl0eXNlbGVjdGJveF8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy92aWRlb3F1YWxpdHlzZWxlY3Rib3hcIik7XHJcbnZhciB2b2x1bWV0b2dnbGVidXR0b25fMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvdm9sdW1ldG9nZ2xlYnV0dG9uXCIpO1xyXG52YXIgdnJ0b2dnbGVidXR0b25fMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvdnJ0b2dnbGVidXR0b25cIik7XHJcbnZhciB3YXRlcm1hcmtfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvd2F0ZXJtYXJrXCIpO1xyXG52YXIgdWljb250YWluZXJfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvdWljb250YWluZXJcIik7XHJcbnZhciBjb250YWluZXJfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvY29udGFpbmVyXCIpO1xyXG52YXIgbGFiZWxfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvbGFiZWxcIik7XHJcbnZhciBhdWRpb3F1YWxpdHlzZWxlY3Rib3hfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvYXVkaW9xdWFsaXR5c2VsZWN0Ym94XCIpO1xyXG52YXIgYXVkaW90cmFja3NlbGVjdGJveF8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9hdWRpb3RyYWNrc2VsZWN0Ym94XCIpO1xyXG52YXIgY2FzdHN0YXR1c292ZXJsYXlfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvY2FzdHN0YXR1c292ZXJsYXlcIik7XHJcbnZhciBjYXN0dG9nZ2xlYnV0dG9uXzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL2Nhc3R0b2dnbGVidXR0b25cIik7XHJcbnZhciBjb21wb25lbnRfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvY29tcG9uZW50XCIpO1xyXG52YXIgZXJyb3JtZXNzYWdlb3ZlcmxheV8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9lcnJvcm1lc3NhZ2VvdmVybGF5XCIpO1xyXG52YXIgcmVjb21tZW5kYXRpb25vdmVybGF5XzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL3JlY29tbWVuZGF0aW9ub3ZlcmxheVwiKTtcclxudmFyIHNlZWtiYXJsYWJlbF8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9zZWVrYmFybGFiZWxcIik7XHJcbnZhciBzdWJ0aXRsZW92ZXJsYXlfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvc3VidGl0bGVvdmVybGF5XCIpO1xyXG52YXIgc3VidGl0bGVzZWxlY3Rib3hfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvc3VidGl0bGVzZWxlY3Rib3hcIik7XHJcbnZhciB0aXRsZWJhcl8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy90aXRsZWJhclwiKTtcclxudmFyIHZvbHVtZWNvbnRyb2xidXR0b25fMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvdm9sdW1lY29udHJvbGJ1dHRvblwiKTtcclxudmFyIGNsaWNrb3ZlcmxheV8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9jbGlja292ZXJsYXlcIik7XHJcbnZhciBhZHNraXBidXR0b25fMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvYWRza2lwYnV0dG9uXCIpO1xyXG52YXIgYWRtZXNzYWdlbGFiZWxfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvYWRtZXNzYWdlbGFiZWxcIik7XHJcbnZhciBhZGNsaWNrb3ZlcmxheV8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9hZGNsaWNrb3ZlcmxheVwiKTtcclxudmFyIHBsYXliYWNrc3BlZWRzZWxlY3Rib3hfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvcGxheWJhY2tzcGVlZHNlbGVjdGJveFwiKTtcclxudmFyIGh1Z2VyZXBsYXlidXR0b25fMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvaHVnZXJlcGxheWJ1dHRvblwiKTtcclxudmFyIGJ1ZmZlcmluZ292ZXJsYXlfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvYnVmZmVyaW5nb3ZlcmxheVwiKTtcclxudmFyIGNhc3R1aWNvbnRhaW5lcl8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9jYXN0dWljb250YWluZXJcIik7XHJcbnZhciBwbGF5YmFja3RvZ2dsZW92ZXJsYXlfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvcGxheWJhY2t0b2dnbGVvdmVybGF5XCIpO1xyXG52YXIgY2xvc2VidXR0b25fMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvY2xvc2VidXR0b25cIik7XHJcbnZhciBtZXRhZGF0YWxhYmVsXzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL21ldGFkYXRhbGFiZWxcIik7XHJcbnZhciBhaXJwbGF5dG9nZ2xlYnV0dG9uXzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL2FpcnBsYXl0b2dnbGVidXR0b25cIik7XHJcbnZhciB2b2x1bWVzbGlkZXJfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvdm9sdW1lc2xpZGVyXCIpO1xyXG52YXIgcGljdHVyZWlucGljdHVyZXRvZ2dsZWJ1dHRvbl8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9waWN0dXJlaW5waWN0dXJldG9nZ2xlYnV0dG9uXCIpO1xyXG52YXIgc3BhY2VyXzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL3NwYWNlclwiKTtcclxudmFyIGJhY2tncm91bmRjb2xvcnNlbGVjdGJveF8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9zdWJ0aXRsZXNldHRpbmdzL2JhY2tncm91bmRjb2xvcnNlbGVjdGJveFwiKTtcclxudmFyIGJhY2tncm91bmRvcGFjaXR5c2VsZWN0Ym94XzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL3N1YnRpdGxlc2V0dGluZ3MvYmFja2dyb3VuZG9wYWNpdHlzZWxlY3Rib3hcIik7XHJcbnZhciBjaGFyYWN0ZXJlZGdlc2VsZWN0Ym94XzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL3N1YnRpdGxlc2V0dGluZ3MvY2hhcmFjdGVyZWRnZXNlbGVjdGJveFwiKTtcclxudmFyIGZvbnRjb2xvcnNlbGVjdGJveF8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9zdWJ0aXRsZXNldHRpbmdzL2ZvbnRjb2xvcnNlbGVjdGJveFwiKTtcclxudmFyIGZvbnRmYW1pbHlzZWxlY3Rib3hfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvc3VidGl0bGVzZXR0aW5ncy9mb250ZmFtaWx5c2VsZWN0Ym94XCIpO1xyXG52YXIgZm9udG9wYWNpdHlzZWxlY3Rib3hfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvc3VidGl0bGVzZXR0aW5ncy9mb250b3BhY2l0eXNlbGVjdGJveFwiKTtcclxudmFyIGZvbnRzaXplc2VsZWN0Ym94XzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL3N1YnRpdGxlc2V0dGluZ3MvZm9udHNpemVzZWxlY3Rib3hcIik7XHJcbnZhciBzdWJ0aXRsZXNldHRpbmdzYnV0dG9uXzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL3N1YnRpdGxlc2V0dGluZ3Mvc3VidGl0bGVzZXR0aW5nc2J1dHRvblwiKTtcclxudmFyIHN1YnRpdGxlc2V0dGluZ3NjbG9zZWJ1dHRvbl8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9zdWJ0aXRsZXNldHRpbmdzL3N1YnRpdGxlc2V0dGluZ3NjbG9zZWJ1dHRvblwiKTtcclxudmFyIHN1YnRpdGxlc2V0dGluZ3NlbGVjdGJveF8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9zdWJ0aXRsZXNldHRpbmdzL3N1YnRpdGxlc2V0dGluZ3NlbGVjdGJveFwiKTtcclxudmFyIHN1YnRpdGxlc2V0dGluZ3NsYWJlbF8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9zdWJ0aXRsZXNldHRpbmdzL3N1YnRpdGxlc2V0dGluZ3NsYWJlbFwiKTtcclxudmFyIHN1YnRpdGxlc2V0dGluZ3NvcGVuYnV0dG9uXzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL3N1YnRpdGxlc2V0dGluZ3Mvc3VidGl0bGVzZXR0aW5nc29wZW5idXR0b25cIik7XHJcbnZhciBzdWJ0aXRsZXNldHRpbmdzcGFuZWxfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvc3VidGl0bGVzZXR0aW5ncy9zdWJ0aXRsZXNldHRpbmdzcGFuZWxcIik7XHJcbnZhciB3aW5kb3djb2xvcnNlbGVjdGJveF8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9zdWJ0aXRsZXNldHRpbmdzL3dpbmRvd2NvbG9yc2VsZWN0Ym94XCIpO1xyXG52YXIgd2luZG93b3BhY2l0eXNlbGVjdGJveF8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9zdWJ0aXRsZXNldHRpbmdzL3dpbmRvd29wYWNpdHlzZWxlY3Rib3hcIik7XHJcbnZhciBhcnJheXV0aWxzXzEgPSByZXF1aXJlKFwiLi9hcnJheXV0aWxzXCIpO1xyXG52YXIgc3RyaW5ndXRpbHNfMSA9IHJlcXVpcmUoXCIuL3N0cmluZ3V0aWxzXCIpO1xyXG52YXIgcGxheWVydXRpbHNfMSA9IHJlcXVpcmUoXCIuL3BsYXllcnV0aWxzXCIpO1xyXG52YXIgdWl1dGlsc18xID0gcmVxdWlyZShcIi4vdWl1dGlsc1wiKTtcclxudmFyIGJyb3dzZXJ1dGlsc18xID0gcmVxdWlyZShcIi4vYnJvd3NlcnV0aWxzXCIpO1xyXG52YXIgc3RvcmFnZXV0aWxzXzEgPSByZXF1aXJlKFwiLi9zdG9yYWdldXRpbHNcIik7XHJcbi8vIEhBQ0s6IGd1bHAtdHNsaW50IGZhaWxzIG9uIHVudXNlZCBmaWxlcyBzbyB3ZSBuZWVkIHRoaXMgZHVtbXkgaW1wb3J0XHJcbnZhciBzdWJ0aXRsZXNldHRpbmdzcmVzZXRidXR0b25fMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvc3VidGl0bGVzZXR0aW5ncy9zdWJ0aXRsZXNldHRpbmdzcmVzZXRidXR0b25cIik7XHJcbi8vIE9iamVjdC5hc3NpZ24gcG9seWZpbGwgZm9yIEVTNS9JRTlcclxuLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZGUvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvT2JqZWN0L2Fzc2lnblxyXG5pZiAodHlwZW9mIE9iamVjdC5hc3NpZ24gIT09ICdmdW5jdGlvbicpIHtcclxuICAgIE9iamVjdC5hc3NpZ24gPSBmdW5jdGlvbiAodGFyZ2V0KSB7XHJcbiAgICAgICAgJ3VzZSBzdHJpY3QnO1xyXG4gICAgICAgIGlmICh0YXJnZXQgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY29udmVydCB1bmRlZmluZWQgb3IgbnVsbCB0byBvYmplY3QnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGFyZ2V0ID0gT2JqZWN0KHRhcmdldCk7XHJcbiAgICAgICAgZm9yICh2YXIgaW5kZXggPSAxOyBpbmRleCA8IGFyZ3VtZW50cy5sZW5ndGg7IGluZGV4KyspIHtcclxuICAgICAgICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpbmRleF07XHJcbiAgICAgICAgICAgIGlmIChzb3VyY2UgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0YXJnZXQ7XHJcbiAgICB9O1xyXG59XHJcbnZhciBwbGF5ZXJ1aSA9IHtcclxuICAgIHZlcnNpb246ICd7e1ZFUlNJT059fScsXHJcbiAgICAvLyBNYW5hZ2VtZW50XHJcbiAgICBVSU1hbmFnZXI6IHVpbWFuYWdlcl8xLlVJTWFuYWdlcixcclxuICAgIFVJSW5zdGFuY2VNYW5hZ2VyOiB1aW1hbmFnZXJfMS5VSUluc3RhbmNlTWFuYWdlcixcclxuICAgIC8vIFV0aWxzXHJcbiAgICBBcnJheVV0aWxzOiBhcnJheXV0aWxzXzEuQXJyYXlVdGlscyxcclxuICAgIFN0cmluZ1V0aWxzOiBzdHJpbmd1dGlsc18xLlN0cmluZ1V0aWxzLFxyXG4gICAgUGxheWVyVXRpbHM6IHBsYXllcnV0aWxzXzEuUGxheWVyVXRpbHMsXHJcbiAgICBVSVV0aWxzOiB1aXV0aWxzXzEuVUlVdGlscyxcclxuICAgIEJyb3dzZXJVdGlsczogYnJvd3NlcnV0aWxzXzEuQnJvd3NlclV0aWxzLFxyXG4gICAgU3RvcmFnZVV0aWxzOiBzdG9yYWdldXRpbHNfMS5TdG9yYWdlVXRpbHMsXHJcbiAgICAvLyBDb21wb25lbnRzXHJcbiAgICBBZENsaWNrT3ZlcmxheTogYWRjbGlja292ZXJsYXlfMS5BZENsaWNrT3ZlcmxheSxcclxuICAgIEFkTWVzc2FnZUxhYmVsOiBhZG1lc3NhZ2VsYWJlbF8xLkFkTWVzc2FnZUxhYmVsLFxyXG4gICAgQWRTa2lwQnV0dG9uOiBhZHNraXBidXR0b25fMS5BZFNraXBCdXR0b24sXHJcbiAgICBBaXJQbGF5VG9nZ2xlQnV0dG9uOiBhaXJwbGF5dG9nZ2xlYnV0dG9uXzEuQWlyUGxheVRvZ2dsZUJ1dHRvbixcclxuICAgIEF1ZGlvUXVhbGl0eVNlbGVjdEJveDogYXVkaW9xdWFsaXR5c2VsZWN0Ym94XzEuQXVkaW9RdWFsaXR5U2VsZWN0Qm94LFxyXG4gICAgQXVkaW9UcmFja1NlbGVjdEJveDogYXVkaW90cmFja3NlbGVjdGJveF8xLkF1ZGlvVHJhY2tTZWxlY3RCb3gsXHJcbiAgICBCdWZmZXJpbmdPdmVybGF5OiBidWZmZXJpbmdvdmVybGF5XzEuQnVmZmVyaW5nT3ZlcmxheSxcclxuICAgIEJ1dHRvbjogYnV0dG9uXzEuQnV0dG9uLFxyXG4gICAgQ2FzdFN0YXR1c092ZXJsYXk6IGNhc3RzdGF0dXNvdmVybGF5XzEuQ2FzdFN0YXR1c092ZXJsYXksXHJcbiAgICBDYXN0VG9nZ2xlQnV0dG9uOiBjYXN0dG9nZ2xlYnV0dG9uXzEuQ2FzdFRvZ2dsZUJ1dHRvbixcclxuICAgIENhc3RVSUNvbnRhaW5lcjogY2FzdHVpY29udGFpbmVyXzEuQ2FzdFVJQ29udGFpbmVyLFxyXG4gICAgQ2xpY2tPdmVybGF5OiBjbGlja292ZXJsYXlfMS5DbGlja092ZXJsYXksXHJcbiAgICBDbG9zZUJ1dHRvbjogY2xvc2VidXR0b25fMS5DbG9zZUJ1dHRvbixcclxuICAgIENvbXBvbmVudDogY29tcG9uZW50XzEuQ29tcG9uZW50LFxyXG4gICAgQ29udGFpbmVyOiBjb250YWluZXJfMS5Db250YWluZXIsXHJcbiAgICBDb250cm9sQmFyOiBjb250cm9sYmFyXzEuQ29udHJvbEJhcixcclxuICAgIEVycm9yTWVzc2FnZU92ZXJsYXk6IGVycm9ybWVzc2FnZW92ZXJsYXlfMS5FcnJvck1lc3NhZ2VPdmVybGF5LFxyXG4gICAgRnVsbHNjcmVlblRvZ2dsZUJ1dHRvbjogZnVsbHNjcmVlbnRvZ2dsZWJ1dHRvbl8xLkZ1bGxzY3JlZW5Ub2dnbGVCdXR0b24sXHJcbiAgICBIdWdlUGxheWJhY2tUb2dnbGVCdXR0b246IGh1Z2VwbGF5YmFja3RvZ2dsZWJ1dHRvbl8xLkh1Z2VQbGF5YmFja1RvZ2dsZUJ1dHRvbixcclxuICAgIEh1Z2VSZXBsYXlCdXR0b246IGh1Z2VyZXBsYXlidXR0b25fMS5IdWdlUmVwbGF5QnV0dG9uLFxyXG4gICAgTGFiZWw6IGxhYmVsXzEuTGFiZWwsXHJcbiAgICBNZXRhZGF0YUxhYmVsOiBtZXRhZGF0YWxhYmVsXzEuTWV0YWRhdGFMYWJlbCxcclxuICAgIE1ldGFkYXRhTGFiZWxDb250ZW50OiBtZXRhZGF0YWxhYmVsXzEuTWV0YWRhdGFMYWJlbENvbnRlbnQsXHJcbiAgICBQaWN0dXJlSW5QaWN0dXJlVG9nZ2xlQnV0dG9uOiBwaWN0dXJlaW5waWN0dXJldG9nZ2xlYnV0dG9uXzEuUGljdHVyZUluUGljdHVyZVRvZ2dsZUJ1dHRvbixcclxuICAgIFBsYXliYWNrU3BlZWRTZWxlY3RCb3g6IHBsYXliYWNrc3BlZWRzZWxlY3Rib3hfMS5QbGF5YmFja1NwZWVkU2VsZWN0Qm94LFxyXG4gICAgUGxheWJhY2tUaW1lTGFiZWw6IHBsYXliYWNrdGltZWxhYmVsXzEuUGxheWJhY2tUaW1lTGFiZWwsXHJcbiAgICBQbGF5YmFja1RpbWVMYWJlbE1vZGU6IHBsYXliYWNrdGltZWxhYmVsXzEuUGxheWJhY2tUaW1lTGFiZWxNb2RlLFxyXG4gICAgUGxheWJhY2tUb2dnbGVCdXR0b246IHBsYXliYWNrdG9nZ2xlYnV0dG9uXzEuUGxheWJhY2tUb2dnbGVCdXR0b24sXHJcbiAgICBQbGF5YmFja1RvZ2dsZU92ZXJsYXk6IHBsYXliYWNrdG9nZ2xlb3ZlcmxheV8xLlBsYXliYWNrVG9nZ2xlT3ZlcmxheSxcclxuICAgIFJlY29tbWVuZGF0aW9uT3ZlcmxheTogcmVjb21tZW5kYXRpb25vdmVybGF5XzEuUmVjb21tZW5kYXRpb25PdmVybGF5LFxyXG4gICAgU2Vla0Jhcjogc2Vla2Jhcl8xLlNlZWtCYXIsXHJcbiAgICBTZWVrQmFyTGFiZWw6IHNlZWtiYXJsYWJlbF8xLlNlZWtCYXJMYWJlbCxcclxuICAgIFNlbGVjdEJveDogc2VsZWN0Ym94XzEuU2VsZWN0Qm94LFxyXG4gICAgSXRlbVNlbGVjdGlvbkxpc3Q6IGl0ZW1zZWxlY3Rpb25saXN0XzEuSXRlbVNlbGVjdGlvbkxpc3QsXHJcbiAgICBTZXR0aW5nc1BhbmVsOiBzZXR0aW5nc3BhbmVsXzEuU2V0dGluZ3NQYW5lbCxcclxuICAgIFNldHRpbmdzUGFuZWxJdGVtOiBzZXR0aW5nc3BhbmVsXzEuU2V0dGluZ3NQYW5lbEl0ZW0sXHJcbiAgICBTZXR0aW5nc1RvZ2dsZUJ1dHRvbjogc2V0dGluZ3N0b2dnbGVidXR0b25fMS5TZXR0aW5nc1RvZ2dsZUJ1dHRvbixcclxuICAgIFNwYWNlcjogc3BhY2VyXzEuU3BhY2VyLFxyXG4gICAgU3VidGl0bGVPdmVybGF5OiBzdWJ0aXRsZW92ZXJsYXlfMS5TdWJ0aXRsZU92ZXJsYXksXHJcbiAgICBTdWJ0aXRsZVNlbGVjdEJveDogc3VidGl0bGVzZWxlY3Rib3hfMS5TdWJ0aXRsZVNlbGVjdEJveCxcclxuICAgIFRpdGxlQmFyOiB0aXRsZWJhcl8xLlRpdGxlQmFyLFxyXG4gICAgVG9nZ2xlQnV0dG9uOiB0b2dnbGVidXR0b25fMS5Ub2dnbGVCdXR0b24sXHJcbiAgICBVSUNvbnRhaW5lcjogdWljb250YWluZXJfMS5VSUNvbnRhaW5lcixcclxuICAgIFZpZGVvUXVhbGl0eVNlbGVjdEJveDogdmlkZW9xdWFsaXR5c2VsZWN0Ym94XzEuVmlkZW9RdWFsaXR5U2VsZWN0Qm94LFxyXG4gICAgVm9sdW1lQ29udHJvbEJ1dHRvbjogdm9sdW1lY29udHJvbGJ1dHRvbl8xLlZvbHVtZUNvbnRyb2xCdXR0b24sXHJcbiAgICBWb2x1bWVTbGlkZXI6IHZvbHVtZXNsaWRlcl8xLlZvbHVtZVNsaWRlcixcclxuICAgIFZvbHVtZVRvZ2dsZUJ1dHRvbjogdm9sdW1ldG9nZ2xlYnV0dG9uXzEuVm9sdW1lVG9nZ2xlQnV0dG9uLFxyXG4gICAgVlJUb2dnbGVCdXR0b246IHZydG9nZ2xlYnV0dG9uXzEuVlJUb2dnbGVCdXR0b24sXHJcbiAgICBXYXRlcm1hcms6IHdhdGVybWFya18xLldhdGVybWFyayxcclxuICAgIC8vIFN1YnRpdGxlIHJlbGF0ZWQgY29tcG9uZW50c1xyXG4gICAgc3VidGl0bGVzZXR0aW5nczoge1xyXG4gICAgICAgIEJhY2tncm91bmRDb2xvclNlbGVjdEJveDogYmFja2dyb3VuZGNvbG9yc2VsZWN0Ym94XzEuQmFja2dyb3VuZENvbG9yU2VsZWN0Qm94LFxyXG4gICAgICAgIEJhY2tncm91bmRPcGFjaXR5U2VsZWN0Qm94OiBiYWNrZ3JvdW5kb3BhY2l0eXNlbGVjdGJveF8xLkJhY2tncm91bmRPcGFjaXR5U2VsZWN0Qm94LFxyXG4gICAgICAgIENoYXJhY3RlckVkZ2VTZWxlY3RCb3g6IGNoYXJhY3RlcmVkZ2VzZWxlY3Rib3hfMS5DaGFyYWN0ZXJFZGdlU2VsZWN0Qm94LFxyXG4gICAgICAgIEZvbnRDb2xvclNlbGVjdEJveDogZm9udGNvbG9yc2VsZWN0Ym94XzEuRm9udENvbG9yU2VsZWN0Qm94LFxyXG4gICAgICAgIEZvbnRGYW1pbHlTZWxlY3RCb3g6IGZvbnRmYW1pbHlzZWxlY3Rib3hfMS5Gb250RmFtaWx5U2VsZWN0Qm94LFxyXG4gICAgICAgIEZvbnRPcGFjaXR5U2VsZWN0Qm94OiBmb250b3BhY2l0eXNlbGVjdGJveF8xLkZvbnRPcGFjaXR5U2VsZWN0Qm94LFxyXG4gICAgICAgIEZvbnRTaXplU2VsZWN0Qm94OiBmb250c2l6ZXNlbGVjdGJveF8xLkZvbnRTaXplU2VsZWN0Qm94LFxyXG4gICAgICAgIFN1YnRpdGxlU2V0dGluZ3NCdXR0b246IHN1YnRpdGxlc2V0dGluZ3NidXR0b25fMS5TdWJ0aXRsZVNldHRpbmdzQnV0dG9uLFxyXG4gICAgICAgIFN1YnRpdGxlU2V0dGluZ3NDbG9zZUJ1dHRvbjogc3VidGl0bGVzZXR0aW5nc2Nsb3NlYnV0dG9uXzEuU3VidGl0bGVTZXR0aW5nc0Nsb3NlQnV0dG9uLFxyXG4gICAgICAgIFN1YnRpdGxlU2V0dGluZ1NlbGVjdEJveDogc3VidGl0bGVzZXR0aW5nc2VsZWN0Ym94XzEuU3VidGl0bGVTZXR0aW5nU2VsZWN0Qm94LFxyXG4gICAgICAgIFN1YnRpdGxlU2V0dGluZ3NMYWJlbDogc3VidGl0bGVzZXR0aW5nc2xhYmVsXzEuU3VidGl0bGVTZXR0aW5nc0xhYmVsLFxyXG4gICAgICAgIFN1YnRpdGxlU2V0dGluZ3NPcGVuQnV0dG9uOiBzdWJ0aXRsZXNldHRpbmdzb3BlbmJ1dHRvbl8xLlN1YnRpdGxlU2V0dGluZ3NPcGVuQnV0dG9uLFxyXG4gICAgICAgIFN1YnRpdGxlU2V0dGluZ3NQYW5lbDogc3VidGl0bGVzZXR0aW5nc3BhbmVsXzEuU3VidGl0bGVTZXR0aW5nc1BhbmVsLFxyXG4gICAgICAgIFdpbmRvd0NvbG9yU2VsZWN0Qm94OiB3aW5kb3djb2xvcnNlbGVjdGJveF8xLldpbmRvd0NvbG9yU2VsZWN0Qm94LFxyXG4gICAgICAgIFdpbmRvd09wYWNpdHlTZWxlY3RCb3g6IHdpbmRvd29wYWNpdHlzZWxlY3Rib3hfMS5XaW5kb3dPcGFjaXR5U2VsZWN0Qm94LFxyXG4gICAgICAgIFN1YnRpdGxlU2V0dGluZ3NSZXNldEJ1dHRvbjogc3VidGl0bGVzZXR0aW5nc3Jlc2V0YnV0dG9uXzEuU3VidGl0bGVTZXR0aW5nc1Jlc2V0QnV0dG9uLFxyXG4gICAgfSxcclxufTtcclxud2luZG93Lm1pQml0bW92aW5VaSA9IHsgcGxheWVydWk6IHBsYXllcnVpIH07XHJcbm1vZHVsZS5leHBvcnRzID0gcGxheWVydWk7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvbWFpbi50c1xuLy8gbW9kdWxlIGlkID0gNzhcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbnZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHtcclxuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XHJcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcclxuICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdDtcclxuICAgIH07XHJcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxufTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgdWljb250YWluZXJfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvdWljb250YWluZXJcIik7XHJcbnZhciBkb21fMSA9IHJlcXVpcmUoXCIuL2RvbVwiKTtcclxudmFyIGNvbnRhaW5lcl8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9jb250YWluZXJcIik7XHJcbnZhciBwbGF5YmFja3RvZ2dsZWJ1dHRvbl8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9wbGF5YmFja3RvZ2dsZWJ1dHRvblwiKTtcclxudmFyIGZ1bGxzY3JlZW50b2dnbGVidXR0b25fMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvZnVsbHNjcmVlbnRvZ2dsZWJ1dHRvblwiKTtcclxudmFyIHZydG9nZ2xlYnV0dG9uXzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL3ZydG9nZ2xlYnV0dG9uXCIpO1xyXG52YXIgdm9sdW1ldG9nZ2xlYnV0dG9uXzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL3ZvbHVtZXRvZ2dsZWJ1dHRvblwiKTtcclxudmFyIHNlZWtiYXJfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvc2Vla2JhclwiKTtcclxudmFyIHBsYXliYWNrdGltZWxhYmVsXzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL3BsYXliYWNrdGltZWxhYmVsXCIpO1xyXG52YXIgY29udHJvbGJhcl8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9jb250cm9sYmFyXCIpO1xyXG52YXIgZXZlbnRkaXNwYXRjaGVyXzEgPSByZXF1aXJlKFwiLi9ldmVudGRpc3BhdGNoZXJcIik7XHJcbnZhciBzZXR0aW5nc3RvZ2dsZWJ1dHRvbl8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9zZXR0aW5nc3RvZ2dsZWJ1dHRvblwiKTtcclxudmFyIHNldHRpbmdzcGFuZWxfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvc2V0dGluZ3NwYW5lbFwiKTtcclxudmFyIHN1YnRpdGxlc2V0dGluZ3NwYW5lbF8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9zdWJ0aXRsZXNldHRpbmdzL3N1YnRpdGxlc2V0dGluZ3NwYW5lbFwiKTtcclxudmFyIHN1YnRpdGxlc2V0dGluZ3NsYWJlbF8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9zdWJ0aXRsZXNldHRpbmdzL3N1YnRpdGxlc2V0dGluZ3NsYWJlbFwiKTtcclxudmFyIHN1YnRpdGxlc2V0dGluZ3NvcGVuYnV0dG9uXzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL3N1YnRpdGxlc2V0dGluZ3Mvc3VidGl0bGVzZXR0aW5nc29wZW5idXR0b25cIik7XHJcbnZhciB2aWRlb3F1YWxpdHlzZWxlY3Rib3hfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvdmlkZW9xdWFsaXR5c2VsZWN0Ym94XCIpO1xyXG4vLyBpbXBvcnQge1dhdGVybWFya30gZnJvbSAnLi9jb21wb25lbnRzL3dhdGVybWFyayc7XHJcbnZhciBhdWRpb3F1YWxpdHlzZWxlY3Rib3hfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvYXVkaW9xdWFsaXR5c2VsZWN0Ym94XCIpO1xyXG52YXIgYXVkaW90cmFja3NlbGVjdGJveF8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9hdWRpb3RyYWNrc2VsZWN0Ym94XCIpO1xyXG52YXIgc2Vla2JhcmxhYmVsXzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL3NlZWtiYXJsYWJlbFwiKTtcclxudmFyIHZvbHVtZXNsaWRlcl8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy92b2x1bWVzbGlkZXJcIik7XHJcbnZhciBzdWJ0aXRsZXNlbGVjdGJveF8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9zdWJ0aXRsZXNlbGVjdGJveFwiKTtcclxudmFyIHN1YnRpdGxlb3ZlcmxheV8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9zdWJ0aXRsZW92ZXJsYXlcIik7XHJcbi8vIGltcG9ydCB7Vm9sdW1lQ29udHJvbEJ1dHRvbn0gZnJvbSAnLi9jb21wb25lbnRzL3ZvbHVtZWNvbnRyb2xidXR0b24nO1xyXG52YXIgY2FzdHRvZ2dsZWJ1dHRvbl8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9jYXN0dG9nZ2xlYnV0dG9uXCIpO1xyXG52YXIgY2FzdHN0YXR1c292ZXJsYXlfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvY2FzdHN0YXR1c292ZXJsYXlcIik7XHJcbnZhciBlcnJvcm1lc3NhZ2VvdmVybGF5XzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL2Vycm9ybWVzc2FnZW92ZXJsYXlcIik7XHJcbnZhciB0aXRsZWJhcl8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy90aXRsZWJhclwiKTtcclxudmFyIHJlY29tbWVuZGF0aW9ub3ZlcmxheV8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9yZWNvbW1lbmRhdGlvbm92ZXJsYXlcIik7XHJcbnZhciBwbGF5YmFja3NwZWVkc2VsZWN0Ym94XzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL3BsYXliYWNrc3BlZWRzZWxlY3Rib3hcIik7XHJcbnZhciBidWZmZXJpbmdvdmVybGF5XzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL2J1ZmZlcmluZ292ZXJsYXlcIik7XHJcbi8vIGltcG9ydCB7Q2FzdFVJQ29udGFpbmVyfSBmcm9tICcuL2NvbXBvbmVudHMvY2FzdHVpY29udGFpbmVyJztcclxudmFyIHBsYXliYWNrdG9nZ2xlb3ZlcmxheV8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9wbGF5YmFja3RvZ2dsZW92ZXJsYXlcIik7XHJcbnZhciBjbG9zZWJ1dHRvbl8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9jbG9zZWJ1dHRvblwiKTtcclxudmFyIG1ldGFkYXRhbGFiZWxfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvbWV0YWRhdGFsYWJlbFwiKTtcclxudmFyIGFpcnBsYXl0b2dnbGVidXR0b25fMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvYWlycGxheXRvZ2dsZWJ1dHRvblwiKTtcclxudmFyIHBpY3R1cmVpbnBpY3R1cmV0b2dnbGVidXR0b25fMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvcGljdHVyZWlucGljdHVyZXRvZ2dsZWJ1dHRvblwiKTtcclxudmFyIGF1ZGlvb25seW92ZXJsYXlfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvYXVkaW9vbmx5b3ZlcmxheVwiKTtcclxudmFyIHNwYWNlcl8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9zcGFjZXJcIik7XHJcbnZhciB1aXV0aWxzXzEgPSByZXF1aXJlKFwiLi91aXV0aWxzXCIpO1xyXG52YXIgYXJyYXl1dGlsc18xID0gcmVxdWlyZShcIi4vYXJyYXl1dGlsc1wiKTtcclxudmFyIGJyb3dzZXJ1dGlsc18xID0gcmVxdWlyZShcIi4vYnJvd3NlcnV0aWxzXCIpO1xyXG52YXIgVUlNYW5hZ2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gVUlNYW5hZ2VyKHBsYXllciwgcGxheWVyVWlPclVpVmFyaWFudHMsIGNvbmZpZykge1xyXG4gICAgICAgIGlmIChjb25maWcgPT09IHZvaWQgMCkgeyBjb25maWcgPSB7fTsgfVxyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5ldmVudHMgPSB7XHJcbiAgICAgICAgICAgIG9uVWlWYXJpYW50UmVzb2x2ZTogbmV3IGV2ZW50ZGlzcGF0Y2hlcl8xLkV2ZW50RGlzcGF0Y2hlcigpLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgaWYgKHBsYXllclVpT3JVaVZhcmlhbnRzIGluc3RhbmNlb2YgdWljb250YWluZXJfMS5VSUNvbnRhaW5lcikge1xyXG4gICAgICAgICAgICAvLyBTaW5nbGUtVUkgY29uc3RydWN0b3IgaGFzIGJlZW4gY2FsbGVkLCB0cmFuc2Zvcm0gYXJndW1lbnRzIHRvIFVJVmFyaWFudFtdIHNpZ25hdHVyZVxyXG4gICAgICAgICAgICB2YXIgcGxheWVyVWkgPSBwbGF5ZXJVaU9yVWlWYXJpYW50cztcclxuICAgICAgICAgICAgdmFyIHVpVmFyaWFudHMgPSBbXTtcclxuICAgICAgICAgICAgLy8gQWRkIHRoZSBkZWZhdWx0IHBsYXllciBVSVxyXG4gICAgICAgICAgICB1aVZhcmlhbnRzLnB1c2goeyB1aTogcGxheWVyVWkgfSk7XHJcbiAgICAgICAgICAgIHRoaXMudWlWYXJpYW50cyA9IHVpVmFyaWFudHM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBEZWZhdWx0IGNvbnN0cnVjdG9yIChVSVZhcmlhbnRbXSkgaGFzIGJlZW4gY2FsbGVkXHJcbiAgICAgICAgICAgIHRoaXMudWlWYXJpYW50cyA9IHBsYXllclVpT3JVaVZhcmlhbnRzO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnBsYXllciA9IHBsYXllcjtcclxuICAgICAgICB0aGlzLmNvbmZpZyA9IF9fYXNzaWduKHt9LCBjb25maWcsIHsgZXZlbnRzOiB7XHJcbiAgICAgICAgICAgICAgICBvblVwZGF0ZWQ6IG5ldyBldmVudGRpc3BhdGNoZXJfMS5FdmVudERpc3BhdGNoZXIoKSxcclxuICAgICAgICAgICAgfSB9KTtcclxuICAgICAgICB0aGlzLm1hbmFnZXJQbGF5ZXJXcmFwcGVyID0gbmV3IFBsYXllcldyYXBwZXIocGxheWVyKTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBHYXRoZXJzIGNvbmZpZ3VyYXRpb24gZGF0YSBmcm9tIHRoZSBVSSBjb25maWcgYW5kIHBsYXllciBzb3VyY2UgY29uZmlnIGFuZCBjcmVhdGVzIGEgbWVyZ2VkIFVJIGNvbmZpZ1xyXG4gICAgICAgICAqIHRoYXQgaXMgdXNlZCB0aHJvdWdob3V0IHRoZSBVSSBpbnN0YW5jZS5cclxuICAgICAgICAgKi9cclxuICAgICAgICB2YXIgdXBkYXRlQ29uZmlnID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgcGxheWVyU291cmNlQ29uZmlnID0gcGxheWVyLmdldENvbmZpZygpLnNvdXJjZSB8fCB7fTtcclxuICAgICAgICAgICAgdmFyIHVpQ29uZmlnID0gX19hc3NpZ24oe30sIGNvbmZpZyk7XHJcbiAgICAgICAgICAgIHVpQ29uZmlnLm1ldGFkYXRhID0gdWlDb25maWcubWV0YWRhdGEgfHwge307XHJcbiAgICAgICAgICAgIC8vIEV4dHJhY3QgdGhlIFVJLXJlbGF0ZWQgY29uZmlnIHByb3BlcnRpZXMgZnJvbSB0aGUgc291cmNlIGNvbmZpZ1xyXG4gICAgICAgICAgICB2YXIgcGxheWVyU291cmNlVWlDb25maWcgPSB7XHJcbiAgICAgICAgICAgICAgICBtZXRhZGF0YToge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE8gbW92ZSBtZXRhZGF0YSBpbnRvIHNvdXJjZS5tZXRhZGF0YSBuYW1lc3BhY2UgaW4gcGxheWVyIHY4XHJcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHBsYXllclNvdXJjZUNvbmZpZy50aXRsZSxcclxuICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogcGxheWVyU291cmNlQ29uZmlnLmRlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgIG1hcmtlcnM6IHBsYXllclNvdXJjZUNvbmZpZy5tYXJrZXJzLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHJlY29tbWVuZGF0aW9uczogcGxheWVyU291cmNlQ29uZmlnLnJlY29tbWVuZGF0aW9ucyxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgLy8gUGxheWVyIHNvdXJjZSBjb25maWcgdGFrZXMgcHJlY2VkZW5jZSBvdmVyIHRoZSBVSSBjb25maWcsIGJlY2F1c2UgdGhlIGNvbmZpZyBpbiB0aGUgc291cmNlIGlzIGF0dGFjaGVkXHJcbiAgICAgICAgICAgIC8vIHRvIGEgc291cmNlIHdoaWNoIGNoYW5nZXMgd2l0aCBldmVyeSBwbGF5ZXIubG9hZCwgd2hlcmVhcyB0aGUgVUkgY29uZmlnIHN0YXlzIHRoZSBzYW1lIGZvciB0aGUgd2hvbGVcclxuICAgICAgICAgICAgLy8gbGlmZXRpbWUgb2YgdGhlIHBsYXllciBpbnN0YW5jZS5cclxuICAgICAgICAgICAgX3RoaXMuY29uZmlnLm1ldGFkYXRhID0gX3RoaXMuY29uZmlnLm1ldGFkYXRhIHx8IHt9O1xyXG4gICAgICAgICAgICBfdGhpcy5jb25maWcubWV0YWRhdGEudGl0bGUgPSBwbGF5ZXJTb3VyY2VVaUNvbmZpZy5tZXRhZGF0YS50aXRsZSB8fCB1aUNvbmZpZy5tZXRhZGF0YS50aXRsZTtcclxuICAgICAgICAgICAgX3RoaXMuY29uZmlnLm1ldGFkYXRhLmRlc2NyaXB0aW9uID0gcGxheWVyU291cmNlVWlDb25maWcubWV0YWRhdGEuZGVzY3JpcHRpb24gfHwgdWlDb25maWcubWV0YWRhdGEuZGVzY3JpcHRpb247XHJcbiAgICAgICAgICAgIF90aGlzLmNvbmZpZy5tZXRhZGF0YS5tYXJrZXJzID0gcGxheWVyU291cmNlVWlDb25maWcubWV0YWRhdGEubWFya2VycyB8fCB1aUNvbmZpZy5tZXRhZGF0YS5tYXJrZXJzIHx8IFtdO1xyXG4gICAgICAgICAgICBfdGhpcy5jb25maWcucmVjb21tZW5kYXRpb25zID0gcGxheWVyU291cmNlVWlDb25maWcucmVjb21tZW5kYXRpb25zIHx8IHVpQ29uZmlnLnJlY29tbWVuZGF0aW9ucyB8fCBbXTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHVwZGF0ZUNvbmZpZygpO1xyXG4gICAgICAgIC8vIFVwZGF0ZSB0aGUgY29uZmlndXJhdGlvbiB3aGVuIGEgbmV3IHNvdXJjZSBpcyBsb2FkZWRcclxuICAgICAgICB0aGlzLm1hbmFnZXJQbGF5ZXJXcmFwcGVyLmdldFBsYXllcigpLmFkZEV2ZW50SGFuZGxlcih0aGlzLnBsYXllci5FVkVOVC5PTl9TT1VSQ0VfTE9BREVELCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHVwZGF0ZUNvbmZpZygpO1xyXG4gICAgICAgICAgICBfdGhpcy5jb25maWcuZXZlbnRzLm9uVXBkYXRlZC5kaXNwYXRjaChfdGhpcyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKGNvbmZpZy5jb250YWluZXIpIHtcclxuICAgICAgICAgICAgLy8gVW5mb3J0dW5hdGVseSAndWlDb250YWluZXJFbGVtZW50ID0gbmV3IERPTShjb25maWcuY29udGFpbmVyKScgd2lsbCBub3QgYWNjZXB0IHRoZSBjb250YWluZXIgd2l0aFxyXG4gICAgICAgICAgICAvLyBzdHJpbmd8SFRNTEVsZW1lbnQgdHlwZSBkaXJlY3RseSwgYWx0aG91Z2ggaXQgYWNjZXB0cyBib3RoIHR5cGVzLCBzbyB3ZSBuZWVkIHRvIHNwaXQgdGhlc2UgdHdvIGNhc2VzIHVwIGhlcmUuXHJcbiAgICAgICAgICAgIC8vIFRPRE8gY2hlY2sgaW4gdXBjb21pbmcgVFMgdmVyc2lvbnMgaWYgdGhlIGNvbnRhaW5lciBjYW4gYmUgcGFzc2VkIGluIGRpcmVjdGx5LCBvciBmaXggdGhlIGNvbnN0cnVjdG9yXHJcbiAgICAgICAgICAgIHRoaXMudWlDb250YWluZXJFbGVtZW50ID0gY29uZmlnLmNvbnRhaW5lciBpbnN0YW5jZW9mIEhUTUxFbGVtZW50ID9cclxuICAgICAgICAgICAgICAgIG5ldyBkb21fMS5ET00oY29uZmlnLmNvbnRhaW5lcikgOiBuZXcgZG9tXzEuRE9NKGNvbmZpZy5jb250YWluZXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy51aUNvbnRhaW5lckVsZW1lbnQgPSBuZXcgZG9tXzEuRE9NKHBsYXllci5nZXRGaWd1cmUoKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIENyZWF0ZSBVSSBpbnN0YW5jZSBtYW5hZ2VycyBmb3IgdGhlIFVJIHZhcmlhbnRzXHJcbiAgICAgICAgLy8gVGhlIGluc3RhbmNlIG1hbmFnZXJzIG1hcCB0byB0aGUgY29ycmVzcG9uZGluZyBVSSB2YXJpYW50cyBieSB0aGVpciBhcnJheSBpbmRleFxyXG4gICAgICAgIHRoaXMudWlJbnN0YW5jZU1hbmFnZXJzID0gW107XHJcbiAgICAgICAgdmFyIHVpVmFyaWFudHNXaXRob3V0Q29uZGl0aW9uID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IHRoaXMudWlWYXJpYW50czsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgdmFyIHVpVmFyaWFudCA9IF9hW19pXTtcclxuICAgICAgICAgICAgaWYgKHVpVmFyaWFudC5jb25kaXRpb24gPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgLy8gQ29sbGVjdCB2YXJpYW50cyB3aXRob3V0IGNvbmRpdGlvbnMgZm9yIGVycm9yIGNoZWNraW5nXHJcbiAgICAgICAgICAgICAgICB1aVZhcmlhbnRzV2l0aG91dENvbmRpdGlvbi5wdXNoKHVpVmFyaWFudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gQ3JlYXRlIHRoZSBpbnN0YW5jZSBtYW5hZ2VyIGZvciBhIFVJIHZhcmlhbnRcclxuICAgICAgICAgICAgdGhpcy51aUluc3RhbmNlTWFuYWdlcnMucHVzaChuZXcgSW50ZXJuYWxVSUluc3RhbmNlTWFuYWdlcihwbGF5ZXIsIHVpVmFyaWFudC51aSwgdGhpcy5jb25maWcpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gTWFrZSBzdXJlIHRoYXQgdGhlcmUgaXMgb25seSBvbmUgVUkgdmFyaWFudCB3aXRob3V0IGEgY29uZGl0aW9uXHJcbiAgICAgICAgLy8gSXQgZG9lcyBub3QgbWFrZSBzZW5zZSB0byBoYXZlIG11bHRpcGxlIHZhcmlhbnRzIHdpdGhvdXQgY29uZGl0aW9uLCBiZWNhdXNlIG9ubHkgdGhlIGZpcnN0IG9uZSBpbiB0aGUgbGlzdFxyXG4gICAgICAgIC8vICh0aGUgb25lIHdpdGggdGhlIGxvd2VzdCBpbmRleCkgd2lsbCBldmVyIGJlIHNlbGVjdGVkLlxyXG4gICAgICAgIGlmICh1aVZhcmlhbnRzV2l0aG91dENvbmRpdGlvbi5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAgIHRocm93IEVycm9yKCdUb28gbWFueSBVSXMgd2l0aG91dCBhIGNvbmRpdGlvbjogWW91IGNhbm5vdCBoYXZlIG1vcmUgdGhhbiBvbmUgZGVmYXVsdCBVSScpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBNYWtlIHN1cmUgdGhhdCB0aGUgZGVmYXVsdCBVSSB2YXJpYW50LCBpZiBkZWZpbmVkLCBpcyBhdCB0aGUgZW5kIG9mIHRoZSBsaXN0IChsYXN0IGluZGV4KVxyXG4gICAgICAgIC8vIElmIGl0IGNvbWVzIGVhcmxpZXIsIHRoZSB2YXJpYW50cyB3aXRoIGNvbmRpdGlvbnMgdGhhdCBjb21lIGFmdGVyd2FyZHMgd2lsbCBuZXZlciBiZSBzZWxlY3RlZCBiZWNhdXNlIHRoZVxyXG4gICAgICAgIC8vIGRlZmF1bHQgdmFyaWFudCB3aXRob3V0IGEgY29uZGl0aW9uIGFsd2F5cyBldmFsdWF0ZXMgdG8gJ3RydWUnXHJcbiAgICAgICAgaWYgKHVpVmFyaWFudHNXaXRob3V0Q29uZGl0aW9uLmxlbmd0aCA+IDBcclxuICAgICAgICAgICAgJiYgdWlWYXJpYW50c1dpdGhvdXRDb25kaXRpb25bMF0gIT09IHRoaXMudWlWYXJpYW50c1t0aGlzLnVpVmFyaWFudHMubGVuZ3RoIC0gMV0pIHtcclxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ0ludmFsaWQgVUkgdmFyaWFudCBvcmRlcjogdGhlIGRlZmF1bHQgVUkgKHdpdGhvdXQgY29uZGl0aW9uKSBtdXN0IGJlIGF0IHRoZSBlbmQgb2YgdGhlIGxpc3QnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gU3dpdGNoIG9uIGF1dG8gVUkgcmVzb2x2aW5nIGJ5IGRlZmF1bHRcclxuICAgICAgICBpZiAoY29uZmlnLmF1dG9VaVZhcmlhbnRSZXNvbHZlID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgY29uZmlnLmF1dG9VaVZhcmlhbnRSZXNvbHZlID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGFkU3RhcnRlZEV2ZW50ID0gbnVsbDsgLy8ga2VlcCB0aGUgZXZlbnQgc3RvcmVkIGhlcmUgZHVyaW5nIGFkIHBsYXliYWNrXHJcbiAgICAgICAgLy8gRHluYW1pY2FsbHkgc2VsZWN0IGEgVUkgdmFyaWFudCB0aGF0IG1hdGNoZXMgdGhlIGN1cnJlbnQgVUkgY29uZGl0aW9uLlxyXG4gICAgICAgIHZhciByZXNvbHZlVWlWYXJpYW50ID0gZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSB0aGF0IHRoZSBPTl9BRF9TVEFSVEVEIGV2ZW50IGRhdGEgaXMgcGVyc2lzdGVkIHRocm91Z2ggYWQgcGxheWJhY2sgaW4gY2FzZSBvdGhlciBldmVudHMgaGFwcGVuXHJcbiAgICAgICAgICAgIC8vIGluIHRoZSBtZWFudGltZSwgZS5nLiBwbGF5ZXIgcmVzaXplLiBXZSBuZWVkIHRvIHN0b3JlIHRoaXMgZGF0YSBiZWNhdXNlIHRoZXJlIGlzIG5vIG90aGVyIHdheSB0byBmaW5kIG91dFxyXG4gICAgICAgICAgICAvLyBhZCBkZXRhaWxzIChlLmcuIHRoZSBhZCBjbGllbnQpIHdoaWxlIGFuIGFkIGlzIHBsYXlpbmcuXHJcbiAgICAgICAgICAgIC8vIEV4aXN0aW5nIGV2ZW50IGRhdGEgc2lnbmFscyB0aGF0IGFuIGFkIGlzIGN1cnJlbnRseSBhY3RpdmUuIFdlIGNhbm5vdCB1c2UgcGxheWVyLmlzQWQoKSBiZWNhdXNlIGl0IHJldHVybnNcclxuICAgICAgICAgICAgLy8gdHJ1ZSBvbiBhZCBzdGFydCBhbmQgYWxzbyBvbiBhZCBlbmQgZXZlbnRzLCB3aGljaCBpcyBwcm9ibGVtYXRpYy5cclxuICAgICAgICAgICAgaWYgKGV2ZW50ICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoZXZlbnQudHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFdoZW4gdGhlIGFkIHN0YXJ0cywgd2Ugc3RvcmUgdGhlIGV2ZW50IGRhdGFcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIHBsYXllci5FVkVOVC5PTl9BRF9TVEFSVEVEOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhZFN0YXJ0ZWRFdmVudCA9IGV2ZW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAvLyBXaGVuIHRoZSBhZCBlbmRzLCB3ZSBkZWxldGUgdGhlIGV2ZW50IGRhdGFcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIHBsYXllci5FVkVOVC5PTl9BRF9GSU5JU0hFRDpcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIHBsYXllci5FVkVOVC5PTl9BRF9TS0lQUEVEOlxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgcGxheWVyLkVWRU5ULk9OX0FEX0VSUk9SOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhZFN0YXJ0ZWRFdmVudCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFdoZW4gYSBuZXcgc291cmNlIGlzIGxvYWRlZCBkdXJpbmcgYWQgcGxheWJhY2ssIHRoZXJlIHdpbGwgYmUgbm8gYWQgZW5kIGV2ZW50IHNvIHdlIGRldGVjdCB0aGUgZW5kXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gb2YgdGhlIGFkIHBsYXliYWNrIGJ5IGNoZWNraW5nIGlzQWQoKSBpbiBPTl9SRUFEWSwgYmVjYXVzZSBPTl9SRUFEWSBhbHdheXMgYXJyaXZlcyB3aGVuIHRoZSBzb3VyY2VcclxuICAgICAgICAgICAgICAgICAgICAvLyBjaGFuZ2VzLlxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgcGxheWVyLkVWRU5ULk9OX1JFQURZOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWRTdGFydGVkRXZlbnQgJiYgIXBsYXllci5pc0FkKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkU3RhcnRlZEV2ZW50ID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIERldGVjdCBpZiBhbiBhZCBoYXMgc3RhcnRlZFxyXG4gICAgICAgICAgICB2YXIgYWQgPSBhZFN0YXJ0ZWRFdmVudCAhPSBudWxsO1xyXG4gICAgICAgICAgICB2YXIgYWRXaXRoVUkgPSBhZCAmJiBhZFN0YXJ0ZWRFdmVudC5jbGllbnRUeXBlID09PSAndmFzdCc7XHJcbiAgICAgICAgICAgIF90aGlzLnJlc29sdmVVaVZhcmlhbnQoe1xyXG4gICAgICAgICAgICAgICAgaXNBZDogYWQsXHJcbiAgICAgICAgICAgICAgICBpc0FkV2l0aFVJOiBhZFdpdGhVSSxcclxuICAgICAgICAgICAgICAgIGFkQ2xpZW50VHlwZTogYWQgPyBhZFN0YXJ0ZWRFdmVudC5jbGllbnRUeXBlIDogbnVsbCxcclxuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGNvbnRleHQpIHtcclxuICAgICAgICAgICAgICAgIC8vIElmIHRoaXMgaXMgYW4gYWQgVUksIHdlIG5lZWQgdG8gcmVsYXkgdGhlIHNhdmVkIE9OX0FEX1NUQVJURUQgZXZlbnQgZGF0YSBzbyBhZCBjb21wb25lbnRzIGNhbiBjb25maWd1cmVcclxuICAgICAgICAgICAgICAgIC8vIHRoZW1zZWx2ZXMgZm9yIHRoZSBjdXJyZW50IGFkLlxyXG4gICAgICAgICAgICAgICAgaWYgKGNvbnRleHQuaXNBZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8qIFJlbGF5IHRoZSBPTl9BRF9TVEFSVEVEIGV2ZW50IHRvIHRoZSBhZHMgVUlcclxuICAgICAgICAgICAgICAgICAgICAgKlxyXG4gICAgICAgICAgICAgICAgICAgICAqIEJlY2F1c2UgdGhlIGFkcyBVSSBpcyBpbml0aWFsaXplZCBpbiB0aGUgT05fQURfU1RBUlRFRCBoYW5kbGVyLCBpLmUuIHdoZW4gdGhlIE9OX0FEX1NUQVJURUQgZXZlbnQgaGFzXHJcbiAgICAgICAgICAgICAgICAgICAgICogYWxyZWFkeSBiZWVuIGZpcmVkLCBjb21wb25lbnRzIGluIHRoZSBhZHMgVUkgdGhhdCBsaXN0ZW4gZm9yIHRoZSBPTl9BRF9TVEFSVEVEIGV2ZW50IG5ldmVyIHJlY2VpdmUgaXQuXHJcbiAgICAgICAgICAgICAgICAgICAgICogU2luY2UgdGhpcyBjYW4gYnJlYWsgZnVuY3Rpb25hbGl0eSBvZiBjb21wb25lbnRzIHRoYXQgcmVseSBvbiB0aGlzIGV2ZW50LCB3ZSByZWxheSB0aGUgZXZlbnQgdG8gdGhlXHJcbiAgICAgICAgICAgICAgICAgICAgICogYWRzIFVJIGNvbXBvbmVudHMgd2l0aCB0aGUgZm9sbG93aW5nIGNhbGwuXHJcbiAgICAgICAgICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuY3VycmVudFVpLmdldFdyYXBwZWRQbGF5ZXIoKS5maXJlRXZlbnRJblVJKF90aGlzLnBsYXllci5FVkVOVC5PTl9BRF9TVEFSVEVELCBhZFN0YXJ0ZWRFdmVudCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgLy8gTGlzdGVuIHRvIHRoZSBmb2xsb3dpbmcgZXZlbnRzIHRvIHRyaWdnZXIgVUkgdmFyaWFudCByZXNvbHV0aW9uXHJcbiAgICAgICAgaWYgKGNvbmZpZy5hdXRvVWlWYXJpYW50UmVzb2x2ZSkge1xyXG4gICAgICAgICAgICB0aGlzLm1hbmFnZXJQbGF5ZXJXcmFwcGVyLmdldFBsYXllcigpLmFkZEV2ZW50SGFuZGxlcih0aGlzLnBsYXllci5FVkVOVC5PTl9SRUFEWSwgcmVzb2x2ZVVpVmFyaWFudCk7XHJcbiAgICAgICAgICAgIHRoaXMubWFuYWdlclBsYXllcldyYXBwZXIuZ2V0UGxheWVyKCkuYWRkRXZlbnRIYW5kbGVyKHRoaXMucGxheWVyLkVWRU5ULk9OX1BMQVksIHJlc29sdmVVaVZhcmlhbnQpO1xyXG4gICAgICAgICAgICB0aGlzLm1hbmFnZXJQbGF5ZXJXcmFwcGVyLmdldFBsYXllcigpLmFkZEV2ZW50SGFuZGxlcih0aGlzLnBsYXllci5FVkVOVC5PTl9QQVVTRUQsIHJlc29sdmVVaVZhcmlhbnQpO1xyXG4gICAgICAgICAgICB0aGlzLm1hbmFnZXJQbGF5ZXJXcmFwcGVyLmdldFBsYXllcigpLmFkZEV2ZW50SGFuZGxlcih0aGlzLnBsYXllci5FVkVOVC5PTl9BRF9TVEFSVEVELCByZXNvbHZlVWlWYXJpYW50KTtcclxuICAgICAgICAgICAgdGhpcy5tYW5hZ2VyUGxheWVyV3JhcHBlci5nZXRQbGF5ZXIoKS5hZGRFdmVudEhhbmRsZXIodGhpcy5wbGF5ZXIuRVZFTlQuT05fQURfRklOSVNIRUQsIHJlc29sdmVVaVZhcmlhbnQpO1xyXG4gICAgICAgICAgICB0aGlzLm1hbmFnZXJQbGF5ZXJXcmFwcGVyLmdldFBsYXllcigpLmFkZEV2ZW50SGFuZGxlcih0aGlzLnBsYXllci5FVkVOVC5PTl9BRF9TS0lQUEVELCByZXNvbHZlVWlWYXJpYW50KTtcclxuICAgICAgICAgICAgdGhpcy5tYW5hZ2VyUGxheWVyV3JhcHBlci5nZXRQbGF5ZXIoKS5hZGRFdmVudEhhbmRsZXIodGhpcy5wbGF5ZXIuRVZFTlQuT05fQURfRVJST1IsIHJlc29sdmVVaVZhcmlhbnQpO1xyXG4gICAgICAgICAgICB0aGlzLm1hbmFnZXJQbGF5ZXJXcmFwcGVyLmdldFBsYXllcigpLmFkZEV2ZW50SGFuZGxlcih0aGlzLnBsYXllci5FVkVOVC5PTl9QTEFZRVJfUkVTSVpFLCByZXNvbHZlVWlWYXJpYW50KTtcclxuICAgICAgICAgICAgdGhpcy5tYW5hZ2VyUGxheWVyV3JhcHBlci5nZXRQbGF5ZXIoKS5hZGRFdmVudEhhbmRsZXIodGhpcy5wbGF5ZXIuRVZFTlQuT05fRlVMTFNDUkVFTl9FTlRFUiwgcmVzb2x2ZVVpVmFyaWFudCk7XHJcbiAgICAgICAgICAgIHRoaXMubWFuYWdlclBsYXllcldyYXBwZXIuZ2V0UGxheWVyKCkuYWRkRXZlbnRIYW5kbGVyKHRoaXMucGxheWVyLkVWRU5ULk9OX0ZVTExTQ1JFRU5fRVhJVCwgcmVzb2x2ZVVpVmFyaWFudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIEluaXRpYWxpemUgdGhlIFVJXHJcbiAgICAgICAgcmVzb2x2ZVVpVmFyaWFudChudWxsKTtcclxuICAgIH1cclxuICAgIFVJTWFuYWdlci5wcm90b3R5cGUuZ2V0Q29uZmlnID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbmZpZztcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdGhlIGxpc3Qgb2YgVUkgdmFyaWFudHMgYXMgcGFzc2VkIGludG8gdGhlIGNvbnN0cnVjdG9yIG9mIHtAbGluayBVSU1hbmFnZXJ9LlxyXG4gICAgICogQHJldHVybnMge1VJVmFyaWFudFtdfSB0aGUgbGlzdCBvZiBhdmFpbGFibGUgVUkgdmFyaWFudHNcclxuICAgICAqL1xyXG4gICAgVUlNYW5hZ2VyLnByb3RvdHlwZS5nZXRVaVZhcmlhbnRzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnVpVmFyaWFudHM7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBTd2l0Y2hlcyB0byBhIFVJIHZhcmlhbnQgZnJvbSB0aGUgbGlzdCByZXR1cm5lZCBieSB7QGxpbmsgZ2V0VWlWYXJpYW50c30uXHJcbiAgICAgKiBAcGFyYW0ge1VJVmFyaWFudH0gdWlWYXJpYW50IHRoZSBVSSB2YXJpYW50IHRvIHN3aXRjaCB0b1xyXG4gICAgICogQHBhcmFtIHsoKSA9PiB2b2lkfSBvblNob3cgYSBjYWxsYmFjayB0aGF0IGlzIGV4ZWN1dGVkIGp1c3QgYmVmb3JlIHRoZSBuZXcgVUkgdmFyaWFudCBpcyBzaG93blxyXG4gICAgICovXHJcbiAgICBVSU1hbmFnZXIucHJvdG90eXBlLnN3aXRjaFRvVWlWYXJpYW50ID0gZnVuY3Rpb24gKHVpVmFyaWFudCwgb25TaG93KSB7XHJcbiAgICAgICAgdmFyIHVpVmFyaWFudEluZGV4ID0gdGhpcy51aVZhcmlhbnRzLmluZGV4T2YodWlWYXJpYW50KTtcclxuICAgICAgICB2YXIgbmV4dFVpID0gdGhpcy51aUluc3RhbmNlTWFuYWdlcnNbdWlWYXJpYW50SW5kZXhdO1xyXG4gICAgICAgIHZhciB1aVZhcmlhbnRDaGFuZ2VkID0gZmFsc2U7XHJcbiAgICAgICAgLy8gRGV0ZXJtaW5lIGlmIHRoZSBVSSB2YXJpYW50IGlzIGNoYW5naW5nXHJcbiAgICAgICAgaWYgKG5leHRVaSAhPT0gdGhpcy5jdXJyZW50VWkpIHtcclxuICAgICAgICAgICAgdWlWYXJpYW50Q2hhbmdlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdzd2l0Y2hlZCBmcm9tICcsIHRoaXMuY3VycmVudFVpID8gdGhpcy5jdXJyZW50VWkuZ2V0VUkoKSA6ICdub25lJyxcclxuICAgICAgICAgICAgLy8gICAnIHRvICcsIG5leHRVaSA/IG5leHRVaS5nZXRVSSgpIDogJ25vbmUnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gT25seSBpZiB0aGUgVUkgdmFyaWFudCBpcyBjaGFuZ2luZywgd2UgbmVlZCB0byBkbyBzb21lIHN0dWZmLiBFbHNlIHdlIGp1c3QgbGVhdmUgZXZlcnl0aGluZyBhcy1pcy5cclxuICAgICAgICBpZiAodWlWYXJpYW50Q2hhbmdlZCkge1xyXG4gICAgICAgICAgICAvLyBIaWRlIHRoZSBjdXJyZW50bHkgYWN0aXZlIFVJIHZhcmlhbnRcclxuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudFVpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRVaS5nZXRVSSgpLmhpZGUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBBc3NpZ24gdGhlIG5ldyBVSSB2YXJpYW50IGFzIGN1cnJlbnQgVUlcclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50VWkgPSBuZXh0VWk7XHJcbiAgICAgICAgICAgIC8vIFdoZW4gd2Ugc3dpdGNoIHRvIGEgZGlmZmVyZW50IFVJIGluc3RhbmNlLCB0aGVyZSdzIHNvbWUgYWRkaXRpb25hbCBzdHVmZiB0byBtYW5hZ2UuIElmIHdlIGRvIG5vdCBzd2l0Y2hcclxuICAgICAgICAgICAgLy8gdG8gYW4gaW5zdGFuY2UsIHdlJ3JlIGRvbmUgaGVyZS5cclxuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudFVpICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIC8vIEFkZCB0aGUgVUkgdG8gdGhlIERPTSAoYW5kIGNvbmZpZ3VyZSBpdCkgdGhlIGZpcnN0IHRpbWUgaXQgaXMgc2VsZWN0ZWRcclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5jdXJyZW50VWkuaXNDb25maWd1cmVkKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZFVpKHRoaXMuY3VycmVudFVpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChvblNob3cpIHtcclxuICAgICAgICAgICAgICAgICAgICBvblNob3coKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFVpLmdldFVJKCkuc2hvdygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogVHJpZ2dlcnMgYSBVSSB2YXJpYW50IHN3aXRjaCBhcyB0cmlnZ2VyZWQgYnkgZXZlbnRzIHdoZW4gYXV0b21hdGljIHN3aXRjaGluZyBpcyBlbmFibGVkLiBJdCBhbGxvd3MgdG8gb3ZlcndyaXRlXHJcbiAgICAgKiBwcm9wZXJ0aWVzIG9mIHRoZSB7QGxpbmsgVUlDb25kaXRpb25Db250ZXh0fS5cclxuICAgICAqIEBwYXJhbSB7UGFydGlhbDxVSUNvbmRpdGlvbkNvbnRleHQ+fSBjb250ZXh0IGFuIG9wdGlvbmFsIHNldCBvZiBwcm9wZXJ0aWVzIHRoYXQgb3ZlcndyaXRlIHByb3BlcnRpZXMgb2YgdGhlXHJcbiAgICAgKiAgIGF1dG9tYXRpY2FsbHkgZGV0ZXJtaW5lZCBjb250ZXh0XHJcbiAgICAgKiBAcGFyYW0geyhjb250ZXh0OiBVSUNvbmRpdGlvbkNvbnRleHQpID0+IHZvaWR9IG9uU2hvdyBhIGNhbGxiYWNrIHRoYXQgaXMgZXhlY3V0ZWQganVzdCBiZWZvcmUgdGhlIG5ldyBVSSB2YXJpYW50XHJcbiAgICAgKiAgIGlzIHNob3duIChpZiBhIHN3aXRjaCBpcyBoYXBwZW5pbmcpXHJcbiAgICAgKi9cclxuICAgIFVJTWFuYWdlci5wcm90b3R5cGUucmVzb2x2ZVVpVmFyaWFudCA9IGZ1bmN0aW9uIChjb250ZXh0LCBvblNob3cpIHtcclxuICAgICAgICBpZiAoY29udGV4dCA9PT0gdm9pZCAwKSB7IGNvbnRleHQgPSB7fTsgfVxyXG4gICAgICAgIC8vIERldGVybWluZSB0aGUgY3VycmVudCBjb250ZXh0IGZvciB3aGljaCB0aGUgVUkgdmFyaWFudCB3aWxsIGJlIHJlc29sdmVkXHJcbiAgICAgICAgdmFyIGRlZmF1bHRDb250ZXh0ID0ge1xyXG4gICAgICAgICAgICBpc0FkOiBmYWxzZSxcclxuICAgICAgICAgICAgaXNBZFdpdGhVSTogZmFsc2UsXHJcbiAgICAgICAgICAgIGFkQ2xpZW50VHlwZTogbnVsbCxcclxuICAgICAgICAgICAgaXNGdWxsc2NyZWVuOiB0aGlzLnBsYXllci5pc0Z1bGxzY3JlZW4oKSxcclxuICAgICAgICAgICAgaXNNb2JpbGU6IGJyb3dzZXJ1dGlsc18xLkJyb3dzZXJVdGlscy5pc01vYmlsZSxcclxuICAgICAgICAgICAgaXNQbGF5aW5nOiB0aGlzLnBsYXllci5pc1BsYXlpbmcoKSxcclxuICAgICAgICAgICAgd2lkdGg6IHRoaXMudWlDb250YWluZXJFbGVtZW50LndpZHRoKCksXHJcbiAgICAgICAgICAgIGRvY3VtZW50V2lkdGg6IGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGgsXHJcbiAgICAgICAgfTtcclxuICAgICAgICAvLyBPdmVyd3JpdGUgcHJvcGVydGllcyBvZiB0aGUgZGVmYXVsdCBjb250ZXh0IHdpdGggcGFzc2VkIGluIGNvbnRleHQgcHJvcGVydGllc1xyXG4gICAgICAgIHZhciBzd2l0Y2hpbmdDb250ZXh0ID0gX19hc3NpZ24oe30sIGRlZmF1bHRDb250ZXh0LCBjb250ZXh0KTtcclxuICAgICAgICAvLyBGaXJlIHRoZSBldmVudCBhbmQgYWxsb3cgbW9kaWZpY2F0aW9uIG9mIHRoZSBjb250ZXh0IGJlZm9yZSBpdCBpcyB1c2VkIHRvIHJlc29sdmUgdGhlIFVJIHZhcmlhbnRcclxuICAgICAgICB0aGlzLmV2ZW50cy5vblVpVmFyaWFudFJlc29sdmUuZGlzcGF0Y2godGhpcywgc3dpdGNoaW5nQ29udGV4dCk7XHJcbiAgICAgICAgdmFyIG5leHRVaVZhcmlhbnQgPSBudWxsO1xyXG4gICAgICAgIC8vIFNlbGVjdCBuZXcgVUkgdmFyaWFudFxyXG4gICAgICAgIC8vIElmIG5vIHZhcmlhbnQgY29uZGl0aW9uIGlzIGZ1bGZpbGxlZCwgd2Ugc3dpdGNoIHRvICpubyogVUlcclxuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gdGhpcy51aVZhcmlhbnRzOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICB2YXIgdWlWYXJpYW50ID0gX2FbX2ldO1xyXG4gICAgICAgICAgICBpZiAodWlWYXJpYW50LmNvbmRpdGlvbiA9PSBudWxsIHx8IHVpVmFyaWFudC5jb25kaXRpb24oc3dpdGNoaW5nQ29udGV4dCkgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgIG5leHRVaVZhcmlhbnQgPSB1aVZhcmlhbnQ7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnN3aXRjaFRvVWlWYXJpYW50KG5leHRVaVZhcmlhbnQsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKG9uU2hvdykge1xyXG4gICAgICAgICAgICAgICAgb25TaG93KHN3aXRjaGluZ0NvbnRleHQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgVUlNYW5hZ2VyLnByb3RvdHlwZS5hZGRVaSA9IGZ1bmN0aW9uICh1aSkge1xyXG4gICAgICAgIHZhciBkb20gPSB1aS5nZXRVSSgpLmdldERvbUVsZW1lbnQoKTtcclxuICAgICAgICB2YXIgcGxheWVyID0gdWkuZ2V0V3JhcHBlZFBsYXllcigpO1xyXG4gICAgICAgIHVpLmNvbmZpZ3VyZUNvbnRyb2xzKCk7XHJcbiAgICAgICAgLyogQXBwZW5kIHRoZSBVSSBET00gYWZ0ZXIgY29uZmlndXJhdGlvbiB0byBhdm9pZCBDU1MgdHJhbnNpdGlvbnMgYXQgaW5pdGlhbGl6YXRpb25cclxuICAgICAgICAgKiBFeGFtcGxlOiBDb21wb25lbnRzIGFyZSBoaWRkZW4gZHVyaW5nIGNvbmZpZ3VyYXRpb24gYW5kIHRoZXNlIGhpZGVzIG1heSB0cmlnZ2VyIENTUyB0cmFuc2l0aW9ucyB0aGF0IGFyZVxyXG4gICAgICAgICAqIHVuZGVzaXJhYmxlIGF0IHRoaXMgdGltZS4gKi9cclxuICAgICAgICB0aGlzLnVpQ29udGFpbmVyRWxlbWVudC5hcHBlbmQoZG9tKTtcclxuICAgICAgICAvLyBTb21lIGNvbXBvbmVudHMgaW5pdGlhbGl6ZSB0aGVpciBzdGF0ZSBvbiBPTl9SRUFEWS4gV2hlbiB0aGUgVUkgaXMgbG9hZGVkIGFmdGVyIHRoZSBwbGF5ZXIgaXMgYWxyZWFkeSByZWFkeSxcclxuICAgICAgICAvLyB0aGV5IHdpbGwgbmV2ZXIgcmVjZWl2ZSB0aGUgZXZlbnQgc28gd2UgZmlyZSBpdCBmcm9tIGhlcmUgaW4gc3VjaCBjYXNlcy5cclxuICAgICAgICBpZiAocGxheWVyLmlzUmVhZHkoKSkge1xyXG4gICAgICAgICAgICBwbGF5ZXIuZmlyZUV2ZW50SW5VSShwbGF5ZXIuRVZFTlQuT05fUkVBRFksIHt9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gRmlyZSBvbkNvbmZpZ3VyZWQgYWZ0ZXIgVUkgRE9NIGVsZW1lbnRzIGFyZSBzdWNjZXNzZnVsbHkgYWRkZWQuIFdoZW4gZmlyZWQgaW1tZWRpYXRlbHksIHRoZSBET00gZWxlbWVudHNcclxuICAgICAgICAvLyBtaWdodCBub3QgYmUgZnVsbHkgY29uZmlndXJlZCBhbmQgZS5nLiBkbyBub3QgaGF2ZSBhIHNpemUuXHJcbiAgICAgICAgLy8gaHR0cHM6Ly9zd2l6ZWMuY29tL2Jsb2cvaG93LXRvLXByb3Blcmx5LXdhaXQtZm9yLWRvbS1lbGVtZW50cy10by1zaG93LXVwLWluLW1vZGVybi1icm93c2Vycy9zd2l6ZWMvNjY2M1xyXG4gICAgICAgIGlmICh3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKSB7XHJcbiAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbiAoKSB7IHVpLm9uQ29uZmlndXJlZC5kaXNwYXRjaCh1aS5nZXRVSSgpKTsgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBJRTkgZmFsbGJhY2tcclxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHVpLm9uQ29uZmlndXJlZC5kaXNwYXRjaCh1aS5nZXRVSSgpKTsgfSwgMCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFVJTWFuYWdlci5wcm90b3R5cGUucmVsZWFzZVVpID0gZnVuY3Rpb24gKHVpKSB7XHJcbiAgICAgICAgdWkucmVsZWFzZUNvbnRyb2xzKCk7XHJcbiAgICAgICAgdWkuZ2V0VUkoKS5nZXREb21FbGVtZW50KCkucmVtb3ZlKCk7XHJcbiAgICAgICAgdWkuY2xlYXJFdmVudEhhbmRsZXJzKCk7XHJcbiAgICB9O1xyXG4gICAgVUlNYW5hZ2VyLnByb3RvdHlwZS5yZWxlYXNlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSB0aGlzLnVpSW5zdGFuY2VNYW5hZ2VyczsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgdmFyIHVpSW5zdGFuY2VNYW5hZ2VyID0gX2FbX2ldO1xyXG4gICAgICAgICAgICB0aGlzLnJlbGVhc2VVaSh1aUluc3RhbmNlTWFuYWdlcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMubWFuYWdlclBsYXllcldyYXBwZXIuY2xlYXJFdmVudEhhbmRsZXJzKCk7XHJcbiAgICB9O1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFVJTWFuYWdlci5wcm90b3R5cGUsIFwib25VaVZhcmlhbnRSZXNvbHZlXCIsIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBGaXJlcyBqdXN0IGJlZm9yZSBVSSB2YXJpYW50cyBhcmUgYWJvdXQgdG8gYmUgcmVzb2x2ZWQgYW5kIHRoZSBVSSB2YXJpYW50IGlzIHBvc3NpYmx5IHN3aXRjaGVkLiBJdCBpcyBmaXJlZCB3aGVuXHJcbiAgICAgICAgICogdGhlIHN3aXRjaCBpcyB0cmlnZ2VyZWQgZnJvbSBhbiBhdXRvbWF0aWMgc3dpdGNoIGFuZCB3aGVuIGNhbGxpbmcge0BsaW5rIHJlc29sdmVVaVZhcmlhbnR9LlxyXG4gICAgICAgICAqIENhbiBiZSB1c2VkIHRvIG1vZGlmeSB0aGUge0BsaW5rIFVJQ29uZGl0aW9uQ29udGV4dH0gYmVmb3JlIHJlc29sdmluZyBpcyBkb25lLlxyXG4gICAgICAgICAqIEByZXR1cm5zIHtFdmVudERpc3BhdGNoZXI8VUlNYW5hZ2VyLCBVSUNvbmRpdGlvbkNvbnRleHQ+fVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ldmVudHMub25VaVZhcmlhbnRSZXNvbHZlO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRoZSBsaXN0IG9mIGFsbCBhZGRlZCBtYXJrZXJzIGluIHVuZGVmaW5lZCBvcmRlci5cclxuICAgICAqL1xyXG4gICAgVUlNYW5hZ2VyLnByb3RvdHlwZS5nZXRUaW1lbGluZU1hcmtlcnMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlnLm1ldGFkYXRhLm1hcmtlcnM7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBBZGRzIGEgbWFya2VyIHRvIHRoZSB0aW1lbGluZS4gRG9lcyBub3QgY2hlY2sgZm9yIGR1cGxpY2F0ZXMvb3ZlcmxhcHMgYXQgdGhlIGB0aW1lYC5cclxuICAgICAqL1xyXG4gICAgVUlNYW5hZ2VyLnByb3RvdHlwZS5hZGRUaW1lbGluZU1hcmtlciA9IGZ1bmN0aW9uICh0aW1lbGluZU1hcmtlcikge1xyXG4gICAgICAgIHRoaXMuY29uZmlnLm1ldGFkYXRhLm1hcmtlcnMucHVzaCh0aW1lbGluZU1hcmtlcik7XHJcbiAgICAgICAgdGhpcy5jb25maWcuZXZlbnRzLm9uVXBkYXRlZC5kaXNwYXRjaCh0aGlzKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZXMgYSBtYXJrZXIgZnJvbSB0aGUgdGltZWxpbmUgKGJ5IHJlZmVyZW5jZSkgYW5kIHJldHVybnMgYHRydWVgIGlmIHRoZSBtYXJrZXIgaGFzXHJcbiAgICAgKiBiZWVuIHBhcnQgb2YgdGhlIHRpbWVsaW5lIGFuZCBzdWNjZXNzZnVsbHkgcmVtb3ZlZCwgb3IgYGZhbHNlYCBpZiB0aGUgbWFya2VyIGNvdWxkIG5vdFxyXG4gICAgICogYmUgZm91bmQgYW5kIHRodXMgbm90IHJlbW92ZWQuXHJcbiAgICAgKi9cclxuICAgIFVJTWFuYWdlci5wcm90b3R5cGUucmVtb3ZlVGltZWxpbmVNYXJrZXIgPSBmdW5jdGlvbiAodGltZWxpbmVNYXJrZXIpIHtcclxuICAgICAgICBpZiAoYXJyYXl1dGlsc18xLkFycmF5VXRpbHMucmVtb3ZlKHRoaXMuY29uZmlnLm1ldGFkYXRhLm1hcmtlcnMsIHRpbWVsaW5lTWFya2VyKSA9PT0gdGltZWxpbmVNYXJrZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5jb25maWcuZXZlbnRzLm9uVXBkYXRlZC5kaXNwYXRjaCh0aGlzKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gVUlNYW5hZ2VyO1xyXG59KCkpO1xyXG5leHBvcnRzLlVJTWFuYWdlciA9IFVJTWFuYWdlcjtcclxuKGZ1bmN0aW9uIChVSU1hbmFnZXIpIHtcclxuICAgIHZhciBGYWN0b3J5O1xyXG4gICAgKGZ1bmN0aW9uIChGYWN0b3J5KSB7XHJcbiAgICAgICAgZnVuY3Rpb24gYnVpbGRBdWRpb1ZpZGVvVUkocGxheWVyLCBjb25maWcpIHtcclxuICAgICAgICAgICAgaWYgKGNvbmZpZyA9PT0gdm9pZCAwKSB7IGNvbmZpZyA9IHt9OyB9XHJcbiAgICAgICAgICAgIHZhciBzbWFsbFNjcmVlblN3aXRjaFdpZHRoID0gNjAwO1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFVJTWFuYWdlcihwbGF5ZXIsIFt7XHJcbiAgICAgICAgICAgICAgICAgICAgdWk6IG1vZGVyblNtYWxsU2NyZWVuVUkoKSxcclxuICAgICAgICAgICAgICAgICAgICBjb25kaXRpb246IGZ1bmN0aW9uIChjb250ZXh0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjb250ZXh0LmlzTW9iaWxlICYmIGNvbnRleHQuZG9jdW1lbnRXaWR0aCA8IHNtYWxsU2NyZWVuU3dpdGNoV2lkdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIH0sIHtcclxuICAgICAgICAgICAgICAgICAgICB1aTogbW9kZXJuVUkoKSxcclxuICAgICAgICAgICAgICAgIH1dLCBjb25maWcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBGYWN0b3J5LmJ1aWxkQXVkaW9WaWRlb1VJID0gYnVpbGRBdWRpb1ZpZGVvVUk7XHJcbiAgICAgICAgZnVuY3Rpb24gYnVpbGRBdWRpb09ubHlVSShwbGF5ZXIsIGNvbmZpZykge1xyXG4gICAgICAgICAgICBpZiAoY29uZmlnID09PSB2b2lkIDApIHsgY29uZmlnID0ge307IH1cclxuICAgICAgICAgICAgdmFyIHNtYWxsU2NyZWVuU3dpdGNoV2lkdGggPSA2MDA7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgVUlNYW5hZ2VyKHBsYXllciwgW3tcclxuICAgICAgICAgICAgICAgICAgICB1aTogbW9kZXJuQXVkaW9Pbmx5U21hbGxTY3JlZW5VSSgpLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbmRpdGlvbjogZnVuY3Rpb24gKGNvbnRleHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRleHQuaXNNb2JpbGUgJiYgY29udGV4dC5kb2N1bWVudFdpZHRoIDwgc21hbGxTY3JlZW5Td2l0Y2hXaWR0aDtcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgfSwge1xyXG4gICAgICAgICAgICAgICAgICAgIHVpOiBtb2Rlcm5BdWRpb09ubHlVSSgpLFxyXG4gICAgICAgICAgICAgICAgfV0sIGNvbmZpZyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIEZhY3RvcnkuYnVpbGRBdWRpb09ubHlVSSA9IGJ1aWxkQXVkaW9Pbmx5VUk7XHJcbiAgICAgICAgLy8gZXhwb3J0IGZ1bmN0aW9uIGJ1aWxkRGVmYXVsdFVJKHBsYXllcjogUGxheWVyQVBJLCBjb25maWc6IFVJQ29uZmlnID0ge30pOiBVSU1hbmFnZXIge1xyXG4gICAgICAgIC8vICAgcmV0dXJuIFVJTWFuYWdlci5GYWN0b3J5LmJ1aWxkTW9kZXJuVUkocGxheWVyLCBjb25maWcpO1xyXG4gICAgICAgIC8vIH1cclxuICAgICAgICAvLyBleHBvcnQgZnVuY3Rpb24gYnVpbGREZWZhdWx0U21hbGxTY3JlZW5VSShwbGF5ZXI6IFBsYXllckFQSSwgY29uZmlnOiBVSUNvbmZpZyA9IHt9KTogVUlNYW5hZ2VyIHtcclxuICAgICAgICAvLyAgIHJldHVybiBVSU1hbmFnZXIuRmFjdG9yeS5idWlsZE1vZGVyblNtYWxsU2NyZWVuVUkocGxheWVyLCBjb25maWcpO1xyXG4gICAgICAgIC8vIH1cclxuICAgICAgICAvLyBleHBvcnQgZnVuY3Rpb24gYnVpbGREZWZhdWx0Q2FzdFJlY2VpdmVyVUkocGxheWVyOiBQbGF5ZXJBUEksIGNvbmZpZzogVUlDb25maWcgPSB7fSk6IFVJTWFuYWdlciB7XHJcbiAgICAgICAgLy8gICByZXR1cm4gVUlNYW5hZ2VyLkZhY3RvcnkuYnVpbGRNb2Rlcm5DYXN0UmVjZWl2ZXJVSShwbGF5ZXIsIGNvbmZpZyk7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgICAgIGZ1bmN0aW9uIG1vZGVyblVJKCkge1xyXG4gICAgICAgICAgICB2YXIgc3VidGl0bGVPdmVybGF5ID0gbmV3IHN1YnRpdGxlb3ZlcmxheV8xLlN1YnRpdGxlT3ZlcmxheSgpO1xyXG4gICAgICAgICAgICB2YXIgc2V0dGluZ3NQYW5lbCA9IG5ldyBzZXR0aW5nc3BhbmVsXzEuU2V0dGluZ3NQYW5lbCh7XHJcbiAgICAgICAgICAgICAgICBjb21wb25lbnRzOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IHNldHRpbmdzcGFuZWxfMS5TZXR0aW5nc1BhbmVsSXRlbSgnVmlkZW8gUXVhbGl0eScsIG5ldyB2aWRlb3F1YWxpdHlzZWxlY3Rib3hfMS5WaWRlb1F1YWxpdHlTZWxlY3RCb3goKSksXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IHNldHRpbmdzcGFuZWxfMS5TZXR0aW5nc1BhbmVsSXRlbSgnU3BlZWQnLCBuZXcgcGxheWJhY2tzcGVlZHNlbGVjdGJveF8xLlBsYXliYWNrU3BlZWRTZWxlY3RCb3goKSksXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IHNldHRpbmdzcGFuZWxfMS5TZXR0aW5nc1BhbmVsSXRlbSgnQXVkaW8gVHJhY2snLCBuZXcgYXVkaW90cmFja3NlbGVjdGJveF8xLkF1ZGlvVHJhY2tTZWxlY3RCb3goKSksXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IHNldHRpbmdzcGFuZWxfMS5TZXR0aW5nc1BhbmVsSXRlbSgnQXVkaW8gUXVhbGl0eScsIG5ldyBhdWRpb3F1YWxpdHlzZWxlY3Rib3hfMS5BdWRpb1F1YWxpdHlTZWxlY3RCb3goKSksXHJcbiAgICAgICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICAgICAgaGlkZGVuOiB0cnVlLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdmFyIHN1YnRpdGxlU2V0dGluZ3NQYW5lbCA9IG5ldyBzdWJ0aXRsZXNldHRpbmdzcGFuZWxfMS5TdWJ0aXRsZVNldHRpbmdzUGFuZWwoe1xyXG4gICAgICAgICAgICAgICAgaGlkZGVuOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgb3ZlcmxheTogc3VidGl0bGVPdmVybGF5LFxyXG4gICAgICAgICAgICAgICAgc2V0dGluZ3NQYW5lbDogc2V0dGluZ3NQYW5lbCxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHZhciBzdWJ0aXRsZVNldHRpbmdzT3BlbkJ1dHRvbiA9IG5ldyBzdWJ0aXRsZXNldHRpbmdzb3BlbmJ1dHRvbl8xLlN1YnRpdGxlU2V0dGluZ3NPcGVuQnV0dG9uKHtcclxuICAgICAgICAgICAgICAgIHN1YnRpdGxlU2V0dGluZ3NQYW5lbDogc3VidGl0bGVTZXR0aW5nc1BhbmVsLFxyXG4gICAgICAgICAgICAgICAgc2V0dGluZ3NQYW5lbDogc2V0dGluZ3NQYW5lbCxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHNldHRpbmdzUGFuZWwuYWRkQ29tcG9uZW50KG5ldyBzZXR0aW5nc3BhbmVsXzEuU2V0dGluZ3NQYW5lbEl0ZW0obmV3IHN1YnRpdGxlc2V0dGluZ3NsYWJlbF8xLlN1YnRpdGxlU2V0dGluZ3NMYWJlbCh7IHRleHQ6ICdTdWJ0aXRsZXMnLCBvcGVuZXI6IHN1YnRpdGxlU2V0dGluZ3NPcGVuQnV0dG9uIH0pLCBuZXcgc3VidGl0bGVzZWxlY3Rib3hfMS5TdWJ0aXRsZVNlbGVjdEJveCgpKSk7XHJcbiAgICAgICAgICAgIHZhciBjb250cm9sQmFyID0gbmV3IGNvbnRyb2xiYXJfMS5Db250cm9sQmFyKHtcclxuICAgICAgICAgICAgICAgIGNvbXBvbmVudHM6IFtcclxuICAgICAgICAgICAgICAgICAgICBzZXR0aW5nc1BhbmVsLFxyXG4gICAgICAgICAgICAgICAgICAgIHN1YnRpdGxlU2V0dGluZ3NQYW5lbCxcclxuICAgICAgICAgICAgICAgICAgICBuZXcgY29udGFpbmVyXzEuQ29udGFpbmVyKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50czogW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IHBsYXliYWNrdGltZWxhYmVsXzEuUGxheWJhY2tUaW1lTGFiZWwoeyB0aW1lTGFiZWxNb2RlOiBwbGF5YmFja3RpbWVsYWJlbF8xLlBsYXliYWNrVGltZUxhYmVsTW9kZS5DdXJyZW50VGltZSwgaGlkZUluTGl2ZVBsYXliYWNrOiB0cnVlIH0pLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IHNlZWtiYXJfMS5TZWVrQmFyKHsgbGFiZWw6IG5ldyBzZWVrYmFybGFiZWxfMS5TZWVrQmFyTGFiZWwoKSB9KSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBwbGF5YmFja3RpbWVsYWJlbF8xLlBsYXliYWNrVGltZUxhYmVsKHsgdGltZUxhYmVsTW9kZTogcGxheWJhY2t0aW1lbGFiZWxfMS5QbGF5YmFja1RpbWVMYWJlbE1vZGUuVG90YWxUaW1lLCBjc3NDbGFzc2VzOiBbJ3RleHQtcmlnaHQnXSB9KSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3NzQ2xhc3NlczogWydjb250cm9sYmFyLXRvcCddLFxyXG4gICAgICAgICAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBjb250YWluZXJfMS5Db250YWluZXIoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRzOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgcGxheWJhY2t0b2dnbGVidXR0b25fMS5QbGF5YmFja1RvZ2dsZUJ1dHRvbigpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IHZvbHVtZXRvZ2dsZWJ1dHRvbl8xLlZvbHVtZVRvZ2dsZUJ1dHRvbigpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IHZvbHVtZXNsaWRlcl8xLlZvbHVtZVNsaWRlcigpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IHNwYWNlcl8xLlNwYWNlcigpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IHBpY3R1cmVpbnBpY3R1cmV0b2dnbGVidXR0b25fMS5QaWN0dXJlSW5QaWN0dXJlVG9nZ2xlQnV0dG9uKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgYWlycGxheXRvZ2dsZWJ1dHRvbl8xLkFpclBsYXlUb2dnbGVCdXR0b24oKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBjYXN0dG9nZ2xlYnV0dG9uXzEuQ2FzdFRvZ2dsZUJ1dHRvbigpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IHZydG9nZ2xlYnV0dG9uXzEuVlJUb2dnbGVCdXR0b24oKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBzZXR0aW5nc3RvZ2dsZWJ1dHRvbl8xLlNldHRpbmdzVG9nZ2xlQnV0dG9uKHsgc2V0dGluZ3NQYW5lbDogc2V0dGluZ3NQYW5lbCB9KSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBmdWxsc2NyZWVudG9nZ2xlYnV0dG9uXzEuRnVsbHNjcmVlblRvZ2dsZUJ1dHRvbigpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjc3NDbGFzc2VzOiBbJ2NvbnRyb2xiYXItYm90dG9tJ10sXHJcbiAgICAgICAgICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyB1aWNvbnRhaW5lcl8xLlVJQ29udGFpbmVyKHtcclxuICAgICAgICAgICAgICAgIGNvbXBvbmVudHM6IFtcclxuICAgICAgICAgICAgICAgICAgICBzdWJ0aXRsZU92ZXJsYXksXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IGJ1ZmZlcmluZ292ZXJsYXlfMS5CdWZmZXJpbmdPdmVybGF5KCksXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IHBsYXliYWNrdG9nZ2xlb3ZlcmxheV8xLlBsYXliYWNrVG9nZ2xlT3ZlcmxheSgpLFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBjYXN0c3RhdHVzb3ZlcmxheV8xLkNhc3RTdGF0dXNPdmVybGF5KCksXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbEJhcixcclxuICAgICAgICAgICAgICAgICAgICAvLyBuZXcgVGl0bGVCYXIoKSxcclxuICAgICAgICAgICAgICAgICAgICBuZXcgcmVjb21tZW5kYXRpb25vdmVybGF5XzEuUmVjb21tZW5kYXRpb25PdmVybGF5KCksXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gbmV3IFdhdGVybWFyaygpLFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBlcnJvcm1lc3NhZ2VvdmVybGF5XzEuRXJyb3JNZXNzYWdlT3ZlcmxheSgpLFxyXG4gICAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgICAgIGNzc0NsYXNzZXM6IFsndWktc2tpbi1taS13YmMnXSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIG1vZGVybkF1ZGlvT25seVVJKCkge1xyXG4gICAgICAgICAgICB2YXIgc3VidGl0bGVPdmVybGF5ID0gbmV3IHN1YnRpdGxlb3ZlcmxheV8xLlN1YnRpdGxlT3ZlcmxheSgpO1xyXG4gICAgICAgICAgICB2YXIgc2V0dGluZ3NQYW5lbCA9IG5ldyBzZXR0aW5nc3BhbmVsXzEuU2V0dGluZ3NQYW5lbCh7XHJcbiAgICAgICAgICAgICAgICBjb21wb25lbnRzOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IHNldHRpbmdzcGFuZWxfMS5TZXR0aW5nc1BhbmVsSXRlbSgnU3BlZWQnLCBuZXcgcGxheWJhY2tzcGVlZHNlbGVjdGJveF8xLlBsYXliYWNrU3BlZWRTZWxlY3RCb3goKSksXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IHNldHRpbmdzcGFuZWxfMS5TZXR0aW5nc1BhbmVsSXRlbSgnQXVkaW8gVHJhY2snLCBuZXcgYXVkaW90cmFja3NlbGVjdGJveF8xLkF1ZGlvVHJhY2tTZWxlY3RCb3goKSksXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IHNldHRpbmdzcGFuZWxfMS5TZXR0aW5nc1BhbmVsSXRlbSgnQXVkaW8gUXVhbGl0eScsIG5ldyBhdWRpb3F1YWxpdHlzZWxlY3Rib3hfMS5BdWRpb1F1YWxpdHlTZWxlY3RCb3goKSksXHJcbiAgICAgICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICAgICAgaGlkZGVuOiB0cnVlLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdmFyIHN1YnRpdGxlU2V0dGluZ3NQYW5lbCA9IG5ldyBzdWJ0aXRsZXNldHRpbmdzcGFuZWxfMS5TdWJ0aXRsZVNldHRpbmdzUGFuZWwoe1xyXG4gICAgICAgICAgICAgICAgaGlkZGVuOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgb3ZlcmxheTogc3VidGl0bGVPdmVybGF5LFxyXG4gICAgICAgICAgICAgICAgc2V0dGluZ3NQYW5lbDogc2V0dGluZ3NQYW5lbCxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHZhciBzdWJ0aXRsZVNldHRpbmdzT3BlbkJ1dHRvbiA9IG5ldyBzdWJ0aXRsZXNldHRpbmdzb3BlbmJ1dHRvbl8xLlN1YnRpdGxlU2V0dGluZ3NPcGVuQnV0dG9uKHtcclxuICAgICAgICAgICAgICAgIHN1YnRpdGxlU2V0dGluZ3NQYW5lbDogc3VidGl0bGVTZXR0aW5nc1BhbmVsLFxyXG4gICAgICAgICAgICAgICAgc2V0dGluZ3NQYW5lbDogc2V0dGluZ3NQYW5lbCxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHNldHRpbmdzUGFuZWwuYWRkQ29tcG9uZW50KG5ldyBzZXR0aW5nc3BhbmVsXzEuU2V0dGluZ3NQYW5lbEl0ZW0obmV3IHN1YnRpdGxlc2V0dGluZ3NsYWJlbF8xLlN1YnRpdGxlU2V0dGluZ3NMYWJlbCh7IHRleHQ6ICdTdWJ0aXRsZXMnLCBvcGVuZXI6IHN1YnRpdGxlU2V0dGluZ3NPcGVuQnV0dG9uIH0pLCBuZXcgc3VidGl0bGVzZWxlY3Rib3hfMS5TdWJ0aXRsZVNlbGVjdEJveCgpKSk7XHJcbiAgICAgICAgICAgIHZhciBjb250cm9sQmFyID0gbmV3IGNvbnRyb2xiYXJfMS5Db250cm9sQmFyKHtcclxuICAgICAgICAgICAgICAgIGNvbXBvbmVudHM6IFtcclxuICAgICAgICAgICAgICAgICAgICBzZXR0aW5nc1BhbmVsLFxyXG4gICAgICAgICAgICAgICAgICAgIHN1YnRpdGxlU2V0dGluZ3NQYW5lbCxcclxuICAgICAgICAgICAgICAgICAgICBuZXcgY29udGFpbmVyXzEuQ29udGFpbmVyKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50czogW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IHBsYXliYWNrdGltZWxhYmVsXzEuUGxheWJhY2tUaW1lTGFiZWwoeyB0aW1lTGFiZWxNb2RlOiBwbGF5YmFja3RpbWVsYWJlbF8xLlBsYXliYWNrVGltZUxhYmVsTW9kZS5DdXJyZW50VGltZSwgaGlkZUluTGl2ZVBsYXliYWNrOiB0cnVlIH0pLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IHNlZWtiYXJfMS5TZWVrQmFyKHsgbGFiZWw6IG5ldyBzZWVrYmFybGFiZWxfMS5TZWVrQmFyTGFiZWwoKSB9KSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBwbGF5YmFja3RpbWVsYWJlbF8xLlBsYXliYWNrVGltZUxhYmVsKHsgdGltZUxhYmVsTW9kZTogcGxheWJhY2t0aW1lbGFiZWxfMS5QbGF5YmFja1RpbWVMYWJlbE1vZGUuVG90YWxUaW1lLCBjc3NDbGFzc2VzOiBbJ3RleHQtcmlnaHQnXSB9KSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3NzQ2xhc3NlczogWydjb250cm9sYmFyLXRvcCddLFxyXG4gICAgICAgICAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBjb250YWluZXJfMS5Db250YWluZXIoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRzOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgcGxheWJhY2t0b2dnbGVidXR0b25fMS5QbGF5YmFja1RvZ2dsZUJ1dHRvbigpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IHZvbHVtZXRvZ2dsZWJ1dHRvbl8xLlZvbHVtZVRvZ2dsZUJ1dHRvbigpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IHZvbHVtZXNsaWRlcl8xLlZvbHVtZVNsaWRlcigpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IHNwYWNlcl8xLlNwYWNlcigpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IGFpcnBsYXl0b2dnbGVidXR0b25fMS5BaXJQbGF5VG9nZ2xlQnV0dG9uKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgY2FzdHRvZ2dsZWJ1dHRvbl8xLkNhc3RUb2dnbGVCdXR0b24oKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBzZXR0aW5nc3RvZ2dsZWJ1dHRvbl8xLlNldHRpbmdzVG9nZ2xlQnV0dG9uKHsgc2V0dGluZ3NQYW5lbDogc2V0dGluZ3NQYW5lbCB9KSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBmdWxsc2NyZWVudG9nZ2xlYnV0dG9uXzEuRnVsbHNjcmVlblRvZ2dsZUJ1dHRvbigpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjc3NDbGFzc2VzOiBbJ2NvbnRyb2xiYXItYm90dG9tJ10sXHJcbiAgICAgICAgICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyB1aWNvbnRhaW5lcl8xLlVJQ29udGFpbmVyKHtcclxuICAgICAgICAgICAgICAgIGNvbXBvbmVudHM6IFtcclxuICAgICAgICAgICAgICAgICAgICBuZXcgYXVkaW9vbmx5b3ZlcmxheV8xLkF1ZGlvT25seU92ZXJsYXkoKSxcclxuICAgICAgICAgICAgICAgICAgICBzdWJ0aXRsZU92ZXJsYXksXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IGJ1ZmZlcmluZ292ZXJsYXlfMS5CdWZmZXJpbmdPdmVybGF5KCksXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IHBsYXliYWNrdG9nZ2xlb3ZlcmxheV8xLlBsYXliYWNrVG9nZ2xlT3ZlcmxheSgpLFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBjYXN0c3RhdHVzb3ZlcmxheV8xLkNhc3RTdGF0dXNPdmVybGF5KCksXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbEJhcixcclxuICAgICAgICAgICAgICAgICAgICAvLyBuZXcgVGl0bGVCYXIoKSxcclxuICAgICAgICAgICAgICAgICAgICBuZXcgcmVjb21tZW5kYXRpb25vdmVybGF5XzEuUmVjb21tZW5kYXRpb25PdmVybGF5KCksXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gbmV3IFdhdGVybWFyaygpLFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBlcnJvcm1lc3NhZ2VvdmVybGF5XzEuRXJyb3JNZXNzYWdlT3ZlcmxheSgpLFxyXG4gICAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgICAgIGNzc0NsYXNzZXM6IFsndWktc2tpbi1taS13YmMnXSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGZ1bmN0aW9uIG1vZGVybkFkc1VJKCkge1xyXG4gICAgICAgIC8vICAgcmV0dXJuIG5ldyBVSUNvbnRhaW5lcih7XHJcbiAgICAgICAgLy8gICAgIGNvbXBvbmVudHM6IFtcclxuICAgICAgICAvLyAgICAgICBuZXcgQnVmZmVyaW5nT3ZlcmxheSgpLFxyXG4gICAgICAgIC8vICAgICAgIG5ldyBBZENsaWNrT3ZlcmxheSgpLFxyXG4gICAgICAgIC8vICAgICAgIG5ldyBQbGF5YmFja1RvZ2dsZU92ZXJsYXkoKSxcclxuICAgICAgICAvLyAgICAgICBuZXcgQ29udGFpbmVyKHtcclxuICAgICAgICAvLyAgICAgICAgIGNvbXBvbmVudHM6IFtcclxuICAgICAgICAvLyAgICAgICAgICAgbmV3IEFkTWVzc2FnZUxhYmVsKHsgdGV4dDogJ0FkOiB7cmVtYWluaW5nVGltZX0gc2VjcycgfSksXHJcbiAgICAgICAgLy8gICAgICAgICAgIG5ldyBBZFNraXBCdXR0b24oKSxcclxuICAgICAgICAvLyAgICAgICAgIF0sXHJcbiAgICAgICAgLy8gICAgICAgICBjc3NDbGFzczogJ3VpLWFkcy1zdGF0dXMnLFxyXG4gICAgICAgIC8vICAgICAgIH0pLFxyXG4gICAgICAgIC8vICAgICAgIG5ldyBDb250cm9sQmFyKHtcclxuICAgICAgICAvLyAgICAgICAgIGNvbXBvbmVudHM6IFtcclxuICAgICAgICAvLyAgICAgICAgICAgbmV3IENvbnRhaW5lcih7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgY29tcG9uZW50czogW1xyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgbmV3IFBsYXliYWNrVG9nZ2xlQnV0dG9uKCksXHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICBuZXcgVm9sdW1lVG9nZ2xlQnV0dG9uKCksXHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICBuZXcgVm9sdW1lU2xpZGVyKCksXHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICBuZXcgU3BhY2VyKCksXHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICBuZXcgRnVsbHNjcmVlblRvZ2dsZUJ1dHRvbigpLFxyXG4gICAgICAgIC8vICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgLy8gICAgICAgICAgICAgY3NzQ2xhc3NlczogWydjb250cm9sYmFyLWJvdHRvbSddLFxyXG4gICAgICAgIC8vICAgICAgICAgICB9KSxcclxuICAgICAgICAvLyAgICAgICAgIF0sXHJcbiAgICAgICAgLy8gICAgICAgfSksXHJcbiAgICAgICAgLy8gICAgIF0sXHJcbiAgICAgICAgLy8gICAgIGNzc0NsYXNzZXM6IFsndWktc2tpbi1taS13YmMnLCAndWktc2tpbi1hZHMnXSxcclxuICAgICAgICAvLyAgIH0pO1xyXG4gICAgICAgIC8vIH1cclxuICAgICAgICBmdW5jdGlvbiBtb2Rlcm5TbWFsbFNjcmVlblVJKCkge1xyXG4gICAgICAgICAgICB2YXIgc3VidGl0bGVPdmVybGF5ID0gbmV3IHN1YnRpdGxlb3ZlcmxheV8xLlN1YnRpdGxlT3ZlcmxheSgpO1xyXG4gICAgICAgICAgICB2YXIgc2V0dGluZ3NQYW5lbCA9IG5ldyBzZXR0aW5nc3BhbmVsXzEuU2V0dGluZ3NQYW5lbCh7XHJcbiAgICAgICAgICAgICAgICBjb21wb25lbnRzOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IHNldHRpbmdzcGFuZWxfMS5TZXR0aW5nc1BhbmVsSXRlbSgnVmlkZW8gUXVhbGl0eScsIG5ldyB2aWRlb3F1YWxpdHlzZWxlY3Rib3hfMS5WaWRlb1F1YWxpdHlTZWxlY3RCb3goKSksXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IHNldHRpbmdzcGFuZWxfMS5TZXR0aW5nc1BhbmVsSXRlbSgnU3BlZWQnLCBuZXcgcGxheWJhY2tzcGVlZHNlbGVjdGJveF8xLlBsYXliYWNrU3BlZWRTZWxlY3RCb3goKSksXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IHNldHRpbmdzcGFuZWxfMS5TZXR0aW5nc1BhbmVsSXRlbSgnQXVkaW8gVHJhY2snLCBuZXcgYXVkaW90cmFja3NlbGVjdGJveF8xLkF1ZGlvVHJhY2tTZWxlY3RCb3goKSksXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IHNldHRpbmdzcGFuZWxfMS5TZXR0aW5nc1BhbmVsSXRlbSgnQXVkaW8gUXVhbGl0eScsIG5ldyBhdWRpb3F1YWxpdHlzZWxlY3Rib3hfMS5BdWRpb1F1YWxpdHlTZWxlY3RCb3goKSksXHJcbiAgICAgICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICAgICAgaGlkZGVuOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgaGlkZURlbGF5OiAtMSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHZhciBzdWJ0aXRsZVNldHRpbmdzUGFuZWwgPSBuZXcgc3VidGl0bGVzZXR0aW5nc3BhbmVsXzEuU3VidGl0bGVTZXR0aW5nc1BhbmVsKHtcclxuICAgICAgICAgICAgICAgIGhpZGRlbjogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGhpZGVEZWxheTogLTEsXHJcbiAgICAgICAgICAgICAgICBvdmVybGF5OiBzdWJ0aXRsZU92ZXJsYXksXHJcbiAgICAgICAgICAgICAgICBzZXR0aW5nc1BhbmVsOiBzZXR0aW5nc1BhbmVsLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdmFyIHN1YnRpdGxlU2V0dGluZ3NPcGVuQnV0dG9uID0gbmV3IHN1YnRpdGxlc2V0dGluZ3NvcGVuYnV0dG9uXzEuU3VidGl0bGVTZXR0aW5nc09wZW5CdXR0b24oe1xyXG4gICAgICAgICAgICAgICAgc3VidGl0bGVTZXR0aW5nc1BhbmVsOiBzdWJ0aXRsZVNldHRpbmdzUGFuZWwsXHJcbiAgICAgICAgICAgICAgICBzZXR0aW5nc1BhbmVsOiBzZXR0aW5nc1BhbmVsLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgc2V0dGluZ3NQYW5lbC5hZGRDb21wb25lbnQobmV3IHNldHRpbmdzcGFuZWxfMS5TZXR0aW5nc1BhbmVsSXRlbShuZXcgc3VidGl0bGVzZXR0aW5nc2xhYmVsXzEuU3VidGl0bGVTZXR0aW5nc0xhYmVsKHsgdGV4dDogJ1N1YnRpdGxlcycsIG9wZW5lcjogc3VidGl0bGVTZXR0aW5nc09wZW5CdXR0b24gfSksIG5ldyBzdWJ0aXRsZXNlbGVjdGJveF8xLlN1YnRpdGxlU2VsZWN0Qm94KCkpKTtcclxuICAgICAgICAgICAgc2V0dGluZ3NQYW5lbC5hZGRDb21wb25lbnQobmV3IGNsb3NlYnV0dG9uXzEuQ2xvc2VCdXR0b24oeyB0YXJnZXQ6IHNldHRpbmdzUGFuZWwgfSkpO1xyXG4gICAgICAgICAgICBzdWJ0aXRsZVNldHRpbmdzUGFuZWwuYWRkQ29tcG9uZW50KG5ldyBjbG9zZWJ1dHRvbl8xLkNsb3NlQnV0dG9uKHsgdGFyZ2V0OiBzdWJ0aXRsZVNldHRpbmdzUGFuZWwgfSkpO1xyXG4gICAgICAgICAgICB2YXIgY29udHJvbEJhciA9IG5ldyBjb250cm9sYmFyXzEuQ29udHJvbEJhcih7XHJcbiAgICAgICAgICAgICAgICBjb21wb25lbnRzOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IGNvbnRhaW5lcl8xLkNvbnRhaW5lcih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudHM6IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBwbGF5YmFja3RpbWVsYWJlbF8xLlBsYXliYWNrVGltZUxhYmVsKHsgdGltZUxhYmVsTW9kZTogcGxheWJhY2t0aW1lbGFiZWxfMS5QbGF5YmFja1RpbWVMYWJlbE1vZGUuQ3VycmVudFRpbWUsIGhpZGVJbkxpdmVQbGF5YmFjazogdHJ1ZSB9KSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBzZWVrYmFyXzEuU2Vla0Jhcih7IGxhYmVsOiBuZXcgc2Vla2JhcmxhYmVsXzEuU2Vla0JhckxhYmVsKCkgfSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgcGxheWJhY2t0aW1lbGFiZWxfMS5QbGF5YmFja1RpbWVMYWJlbCh7IHRpbWVMYWJlbE1vZGU6IHBsYXliYWNrdGltZWxhYmVsXzEuUGxheWJhY2tUaW1lTGFiZWxNb2RlLlRvdGFsVGltZSwgY3NzQ2xhc3NlczogWyd0ZXh0LXJpZ2h0J10gfSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNzc0NsYXNzZXM6IFsnY29udHJvbGJhci10b3AnXSxcclxuICAgICAgICAgICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IHVpY29udGFpbmVyXzEuVUlDb250YWluZXIoe1xyXG4gICAgICAgICAgICAgICAgY29tcG9uZW50czogW1xyXG4gICAgICAgICAgICAgICAgICAgIHN1YnRpdGxlT3ZlcmxheSxcclxuICAgICAgICAgICAgICAgICAgICBuZXcgYnVmZmVyaW5nb3ZlcmxheV8xLkJ1ZmZlcmluZ092ZXJsYXkoKSxcclxuICAgICAgICAgICAgICAgICAgICBuZXcgY2FzdHN0YXR1c292ZXJsYXlfMS5DYXN0U3RhdHVzT3ZlcmxheSgpLFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBwbGF5YmFja3RvZ2dsZW92ZXJsYXlfMS5QbGF5YmFja1RvZ2dsZU92ZXJsYXkoKSxcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sQmFyLFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyB0aXRsZWJhcl8xLlRpdGxlQmFyKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50czogW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IG1ldGFkYXRhbGFiZWxfMS5NZXRhZGF0YUxhYmVsKHsgY29udGVudDogbWV0YWRhdGFsYWJlbF8xLk1ldGFkYXRhTGFiZWxDb250ZW50LlRpdGxlIH0pLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IGNhc3R0b2dnbGVidXR0b25fMS5DYXN0VG9nZ2xlQnV0dG9uKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgdnJ0b2dnbGVidXR0b25fMS5WUlRvZ2dsZUJ1dHRvbigpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IHZvbHVtZXRvZ2dsZWJ1dHRvbl8xLlZvbHVtZVRvZ2dsZUJ1dHRvbigpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IHNldHRpbmdzdG9nZ2xlYnV0dG9uXzEuU2V0dGluZ3NUb2dnbGVCdXR0b24oeyBzZXR0aW5nc1BhbmVsOiBzZXR0aW5nc1BhbmVsIH0pLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IGZ1bGxzY3JlZW50b2dnbGVidXR0b25fMS5GdWxsc2NyZWVuVG9nZ2xlQnV0dG9uKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3NQYW5lbCxcclxuICAgICAgICAgICAgICAgICAgICBzdWJ0aXRsZVNldHRpbmdzUGFuZWwsXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IHJlY29tbWVuZGF0aW9ub3ZlcmxheV8xLlJlY29tbWVuZGF0aW9uT3ZlcmxheSgpLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIG5ldyBXYXRlcm1hcmsoKSxcclxuICAgICAgICAgICAgICAgICAgICBuZXcgZXJyb3JtZXNzYWdlb3ZlcmxheV8xLkVycm9yTWVzc2FnZU92ZXJsYXkoKSxcclxuICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgICAgICBjc3NDbGFzc2VzOiBbJ3VpLXNraW4tbWktd2JjJywgJ3VpLXNraW4tc21hbGxzY3JlZW4nXSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIG1vZGVybkF1ZGlvT25seVNtYWxsU2NyZWVuVUkoKSB7XHJcbiAgICAgICAgICAgIHZhciBzdWJ0aXRsZU92ZXJsYXkgPSBuZXcgc3VidGl0bGVvdmVybGF5XzEuU3VidGl0bGVPdmVybGF5KCk7XHJcbiAgICAgICAgICAgIHZhciBzZXR0aW5nc1BhbmVsID0gbmV3IHNldHRpbmdzcGFuZWxfMS5TZXR0aW5nc1BhbmVsKHtcclxuICAgICAgICAgICAgICAgIGNvbXBvbmVudHM6IFtcclxuICAgICAgICAgICAgICAgICAgICBuZXcgc2V0dGluZ3NwYW5lbF8xLlNldHRpbmdzUGFuZWxJdGVtKCdTcGVlZCcsIG5ldyBwbGF5YmFja3NwZWVkc2VsZWN0Ym94XzEuUGxheWJhY2tTcGVlZFNlbGVjdEJveCgpKSxcclxuICAgICAgICAgICAgICAgICAgICBuZXcgc2V0dGluZ3NwYW5lbF8xLlNldHRpbmdzUGFuZWxJdGVtKCdBdWRpbyBUcmFjaycsIG5ldyBhdWRpb3RyYWNrc2VsZWN0Ym94XzEuQXVkaW9UcmFja1NlbGVjdEJveCgpKSxcclxuICAgICAgICAgICAgICAgICAgICBuZXcgc2V0dGluZ3NwYW5lbF8xLlNldHRpbmdzUGFuZWxJdGVtKCdBdWRpbyBRdWFsaXR5JywgbmV3IGF1ZGlvcXVhbGl0eXNlbGVjdGJveF8xLkF1ZGlvUXVhbGl0eVNlbGVjdEJveCgpKSxcclxuICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgICAgICBoaWRkZW46IHRydWUsXHJcbiAgICAgICAgICAgICAgICBoaWRlRGVsYXk6IC0xLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdmFyIHN1YnRpdGxlU2V0dGluZ3NQYW5lbCA9IG5ldyBzdWJ0aXRsZXNldHRpbmdzcGFuZWxfMS5TdWJ0aXRsZVNldHRpbmdzUGFuZWwoe1xyXG4gICAgICAgICAgICAgICAgaGlkZGVuOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgaGlkZURlbGF5OiAtMSxcclxuICAgICAgICAgICAgICAgIG92ZXJsYXk6IHN1YnRpdGxlT3ZlcmxheSxcclxuICAgICAgICAgICAgICAgIHNldHRpbmdzUGFuZWw6IHNldHRpbmdzUGFuZWwsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB2YXIgc3VidGl0bGVTZXR0aW5nc09wZW5CdXR0b24gPSBuZXcgc3VidGl0bGVzZXR0aW5nc29wZW5idXR0b25fMS5TdWJ0aXRsZVNldHRpbmdzT3BlbkJ1dHRvbih7XHJcbiAgICAgICAgICAgICAgICBzdWJ0aXRsZVNldHRpbmdzUGFuZWw6IHN1YnRpdGxlU2V0dGluZ3NQYW5lbCxcclxuICAgICAgICAgICAgICAgIHNldHRpbmdzUGFuZWw6IHNldHRpbmdzUGFuZWwsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBzZXR0aW5nc1BhbmVsLmFkZENvbXBvbmVudChuZXcgc2V0dGluZ3NwYW5lbF8xLlNldHRpbmdzUGFuZWxJdGVtKG5ldyBzdWJ0aXRsZXNldHRpbmdzbGFiZWxfMS5TdWJ0aXRsZVNldHRpbmdzTGFiZWwoeyB0ZXh0OiAnU3VidGl0bGVzJywgb3BlbmVyOiBzdWJ0aXRsZVNldHRpbmdzT3BlbkJ1dHRvbiB9KSwgbmV3IHN1YnRpdGxlc2VsZWN0Ym94XzEuU3VidGl0bGVTZWxlY3RCb3goKSkpO1xyXG4gICAgICAgICAgICBzZXR0aW5nc1BhbmVsLmFkZENvbXBvbmVudChuZXcgY2xvc2VidXR0b25fMS5DbG9zZUJ1dHRvbih7IHRhcmdldDogc2V0dGluZ3NQYW5lbCB9KSk7XHJcbiAgICAgICAgICAgIHN1YnRpdGxlU2V0dGluZ3NQYW5lbC5hZGRDb21wb25lbnQobmV3IGNsb3NlYnV0dG9uXzEuQ2xvc2VCdXR0b24oeyB0YXJnZXQ6IHN1YnRpdGxlU2V0dGluZ3NQYW5lbCB9KSk7XHJcbiAgICAgICAgICAgIHZhciBjb250cm9sQmFyID0gbmV3IGNvbnRyb2xiYXJfMS5Db250cm9sQmFyKHtcclxuICAgICAgICAgICAgICAgIGNvbXBvbmVudHM6IFtcclxuICAgICAgICAgICAgICAgICAgICBuZXcgY29udGFpbmVyXzEuQ29udGFpbmVyKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50czogW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IHBsYXliYWNrdGltZWxhYmVsXzEuUGxheWJhY2tUaW1lTGFiZWwoeyB0aW1lTGFiZWxNb2RlOiBwbGF5YmFja3RpbWVsYWJlbF8xLlBsYXliYWNrVGltZUxhYmVsTW9kZS5DdXJyZW50VGltZSwgaGlkZUluTGl2ZVBsYXliYWNrOiB0cnVlIH0pLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IHNlZWtiYXJfMS5TZWVrQmFyKHsgbGFiZWw6IG5ldyBzZWVrYmFybGFiZWxfMS5TZWVrQmFyTGFiZWwoKSB9KSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBwbGF5YmFja3RpbWVsYWJlbF8xLlBsYXliYWNrVGltZUxhYmVsKHsgdGltZUxhYmVsTW9kZTogcGxheWJhY2t0aW1lbGFiZWxfMS5QbGF5YmFja1RpbWVMYWJlbE1vZGUuVG90YWxUaW1lLCBjc3NDbGFzc2VzOiBbJ3RleHQtcmlnaHQnXSB9KSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3NzQ2xhc3NlczogWydjb250cm9sYmFyLXRvcCddLFxyXG4gICAgICAgICAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgdWljb250YWluZXJfMS5VSUNvbnRhaW5lcih7XHJcbiAgICAgICAgICAgICAgICBjb21wb25lbnRzOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IGF1ZGlvb25seW92ZXJsYXlfMS5BdWRpb09ubHlPdmVybGF5KCksXHJcbiAgICAgICAgICAgICAgICAgICAgc3VidGl0bGVPdmVybGF5LFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBidWZmZXJpbmdvdmVybGF5XzEuQnVmZmVyaW5nT3ZlcmxheSgpLFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBjYXN0c3RhdHVzb3ZlcmxheV8xLkNhc3RTdGF0dXNPdmVybGF5KCksXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IHBsYXliYWNrdG9nZ2xlb3ZlcmxheV8xLlBsYXliYWNrVG9nZ2xlT3ZlcmxheSgpLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xCYXIsXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IHRpdGxlYmFyXzEuVGl0bGVCYXIoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRzOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgbWV0YWRhdGFsYWJlbF8xLk1ldGFkYXRhTGFiZWwoeyBjb250ZW50OiBtZXRhZGF0YWxhYmVsXzEuTWV0YWRhdGFMYWJlbENvbnRlbnQuVGl0bGUgfSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgY2FzdHRvZ2dsZWJ1dHRvbl8xLkNhc3RUb2dnbGVCdXR0b24oKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyB2cnRvZ2dsZWJ1dHRvbl8xLlZSVG9nZ2xlQnV0dG9uKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgdm9sdW1ldG9nZ2xlYnV0dG9uXzEuVm9sdW1lVG9nZ2xlQnV0dG9uKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgc2V0dGluZ3N0b2dnbGVidXR0b25fMS5TZXR0aW5nc1RvZ2dsZUJ1dHRvbih7IHNldHRpbmdzUGFuZWw6IHNldHRpbmdzUGFuZWwgfSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgZnVsbHNjcmVlbnRvZ2dsZWJ1dHRvbl8xLkZ1bGxzY3JlZW5Ub2dnbGVCdXR0b24oKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgICAgICAgICBzZXR0aW5nc1BhbmVsLFxyXG4gICAgICAgICAgICAgICAgICAgIHN1YnRpdGxlU2V0dGluZ3NQYW5lbCxcclxuICAgICAgICAgICAgICAgICAgICBuZXcgcmVjb21tZW5kYXRpb25vdmVybGF5XzEuUmVjb21tZW5kYXRpb25PdmVybGF5KCksXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gbmV3IFdhdGVybWFyaygpLFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBlcnJvcm1lc3NhZ2VvdmVybGF5XzEuRXJyb3JNZXNzYWdlT3ZlcmxheSgpLFxyXG4gICAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgICAgIGNzc0NsYXNzZXM6IFsndWktc2tpbi1taS13YmMnLCAndWktc2tpbi1zbWFsbHNjcmVlbiddLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gZnVuY3Rpb24gbW9kZXJuU21hbGxTY3JlZW5BZHNVSSgpIHtcclxuICAgICAgICAvLyAgIHJldHVybiBuZXcgVUlDb250YWluZXIoe1xyXG4gICAgICAgIC8vICAgICBjb21wb25lbnRzOiBbXHJcbiAgICAgICAgLy8gICAgICAgbmV3IEJ1ZmZlcmluZ092ZXJsYXkoKSxcclxuICAgICAgICAvLyAgICAgICBuZXcgQWRDbGlja092ZXJsYXkoKSxcclxuICAgICAgICAvLyAgICAgICBuZXcgUGxheWJhY2tUb2dnbGVPdmVybGF5KCksXHJcbiAgICAgICAgLy8gICAgICAgbmV3IFRpdGxlQmFyKHtcclxuICAgICAgICAvLyAgICAgICAgIGNvbXBvbmVudHM6IFtcclxuICAgICAgICAvLyAgICAgICAgICAgLy8gZHVtbXkgbGFiZWwgd2l0aCBubyBjb250ZW50IHRvIG1vdmUgYnV0dG9ucyB0byB0aGUgcmlnaHRcclxuICAgICAgICAvLyAgICAgICAgICAgbmV3IExhYmVsKHsgY3NzQ2xhc3M6ICdsYWJlbC1tZXRhZGF0YS10aXRsZScgfSksXHJcbiAgICAgICAgLy8gICAgICAgICAgIG5ldyBGdWxsc2NyZWVuVG9nZ2xlQnV0dG9uKCksXHJcbiAgICAgICAgLy8gICAgICAgICBdLFxyXG4gICAgICAgIC8vICAgICAgIH0pLFxyXG4gICAgICAgIC8vICAgICAgIG5ldyBDb250YWluZXIoe1xyXG4gICAgICAgIC8vICAgICAgICAgY29tcG9uZW50czogW1xyXG4gICAgICAgIC8vICAgICAgICAgICBuZXcgQWRNZXNzYWdlTGFiZWwoeyB0ZXh0OiAnQWQ6IHtyZW1haW5pbmdUaW1lfSBzZWNzJyB9KSxcclxuICAgICAgICAvLyAgICAgICAgICAgbmV3IEFkU2tpcEJ1dHRvbigpLFxyXG4gICAgICAgIC8vICAgICAgICAgXSxcclxuICAgICAgICAvLyAgICAgICAgIGNzc0NsYXNzOiAndWktYWRzLXN0YXR1cycsXHJcbiAgICAgICAgLy8gICAgICAgfSksXHJcbiAgICAgICAgLy8gICAgIF0sXHJcbiAgICAgICAgLy8gICAgIGNzc0NsYXNzZXM6IFsndWktc2tpbi1taS13YmMnLCAndWktc2tpbi1hZHMnLCAndWktc2tpbi1zbWFsbHNjcmVlbiddLFxyXG4gICAgICAgIC8vICAgfSk7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgICAgIC8vIGZ1bmN0aW9uIG1vZGVybkNhc3RSZWNlaXZlclVJKCkge1xyXG4gICAgICAgIC8vICAgbGV0IGNvbnRyb2xCYXIgPSBuZXcgQ29udHJvbEJhcih7XHJcbiAgICAgICAgLy8gICAgIGNvbXBvbmVudHM6IFtcclxuICAgICAgICAvLyAgICAgICBuZXcgQ29udGFpbmVyKHtcclxuICAgICAgICAvLyAgICAgICAgIGNvbXBvbmVudHM6IFtcclxuICAgICAgICAvLyAgICAgICAgICAgbmV3IFBsYXliYWNrVGltZUxhYmVsKHsgdGltZUxhYmVsTW9kZTogUGxheWJhY2tUaW1lTGFiZWxNb2RlLkN1cnJlbnRUaW1lLCBoaWRlSW5MaXZlUGxheWJhY2s6IHRydWUgfSksXHJcbiAgICAgICAgLy8gICAgICAgICAgIG5ldyBTZWVrQmFyKHsgc21vb3RoUGxheWJhY2tQb3NpdGlvblVwZGF0ZUludGVydmFsTXM6IC0xIH0pLFxyXG4gICAgICAgIC8vICAgICAgICAgICBuZXcgUGxheWJhY2tUaW1lTGFiZWwoeyB0aW1lTGFiZWxNb2RlOiBQbGF5YmFja1RpbWVMYWJlbE1vZGUuVG90YWxUaW1lLCBjc3NDbGFzc2VzOiBbJ3RleHQtcmlnaHQnXSB9KSxcclxuICAgICAgICAvLyAgICAgICAgIF0sXHJcbiAgICAgICAgLy8gICAgICAgICBjc3NDbGFzc2VzOiBbJ2NvbnRyb2xiYXItdG9wJ10sXHJcbiAgICAgICAgLy8gICAgICAgfSksXHJcbiAgICAgICAgLy8gICAgIF0sXHJcbiAgICAgICAgLy8gICB9KTtcclxuICAgICAgICAvLyAgIHJldHVybiBuZXcgQ2FzdFVJQ29udGFpbmVyKHtcclxuICAgICAgICAvLyAgICAgY29tcG9uZW50czogW1xyXG4gICAgICAgIC8vICAgICAgIG5ldyBTdWJ0aXRsZU92ZXJsYXkoKSxcclxuICAgICAgICAvLyAgICAgICBuZXcgQnVmZmVyaW5nT3ZlcmxheSgpLFxyXG4gICAgICAgIC8vICAgICAgIG5ldyBQbGF5YmFja1RvZ2dsZU92ZXJsYXkoKSxcclxuICAgICAgICAvLyAgICAgICBuZXcgV2F0ZXJtYXJrKCksXHJcbiAgICAgICAgLy8gICAgICAgY29udHJvbEJhcixcclxuICAgICAgICAvLyAgICAgICBuZXcgVGl0bGVCYXIoeyBrZWVwSGlkZGVuV2l0aG91dE1ldGFkYXRhOiB0cnVlIH0pLFxyXG4gICAgICAgIC8vICAgICAgIG5ldyBFcnJvck1lc3NhZ2VPdmVybGF5KCksXHJcbiAgICAgICAgLy8gICAgIF0sXHJcbiAgICAgICAgLy8gICAgIGNzc0NsYXNzZXM6IFsndWktc2tpbi1taS13YmMnLCAndWktc2tpbi1jYXN0LXJlY2VpdmVyJ10sXHJcbiAgICAgICAgLy8gICB9KTtcclxuICAgICAgICAvLyB9XHJcbiAgICAgICAgLy8gZXhwb3J0IGZ1bmN0aW9uIGJ1aWxkTW9kZXJuVUkocGxheWVyOiBQbGF5ZXJBUEksIGNvbmZpZzogVUlDb25maWcgPSB7fSk6IFVJTWFuYWdlciB7XHJcbiAgICAgICAgLy8gICAvLyBzaG93IHNtYWxsU2NyZWVuIFVJIG9ubHkgb24gbW9iaWxlL2hhbmRoZWxkIGRldmljZXNcclxuICAgICAgICAvLyAgIGxldCBzbWFsbFNjcmVlblN3aXRjaFdpZHRoID0gNjAwO1xyXG4gICAgICAgIC8vICAgcmV0dXJuIG5ldyBVSU1hbmFnZXIocGxheWVyLCBbe1xyXG4gICAgICAgIC8vICAgICB1aTogbW9kZXJuU21hbGxTY3JlZW5BZHNVSSgpLFxyXG4gICAgICAgIC8vICAgICBjb25kaXRpb246IChjb250ZXh0OiBVSUNvbmRpdGlvbkNvbnRleHQpID0+IHtcclxuICAgICAgICAvLyAgICAgICByZXR1cm4gY29udGV4dC5pc01vYmlsZSAmJiBjb250ZXh0LmRvY3VtZW50V2lkdGggPCBzbWFsbFNjcmVlblN3aXRjaFdpZHRoICYmIGNvbnRleHQuaXNBZFdpdGhVSTtcclxuICAgICAgICAvLyAgICAgfSxcclxuICAgICAgICAvLyAgIH0sIHtcclxuICAgICAgICAvLyAgICAgdWk6IG1vZGVybkFkc1VJKCksXHJcbiAgICAgICAgLy8gICAgIGNvbmRpdGlvbjogKGNvbnRleHQ6IFVJQ29uZGl0aW9uQ29udGV4dCkgPT4ge1xyXG4gICAgICAgIC8vICAgICAgIHJldHVybiBjb250ZXh0LmlzQWRXaXRoVUk7XHJcbiAgICAgICAgLy8gICAgIH0sXHJcbiAgICAgICAgLy8gICB9LCB7XHJcbiAgICAgICAgLy8gICAgIHVpOiBtb2Rlcm5TbWFsbFNjcmVlblVJKCksXHJcbiAgICAgICAgLy8gICAgIGNvbmRpdGlvbjogKGNvbnRleHQ6IFVJQ29uZGl0aW9uQ29udGV4dCkgPT4ge1xyXG4gICAgICAgIC8vICAgICAgIHJldHVybiBjb250ZXh0LmlzTW9iaWxlICYmIGNvbnRleHQuZG9jdW1lbnRXaWR0aCA8IHNtYWxsU2NyZWVuU3dpdGNoV2lkdGg7XHJcbiAgICAgICAgLy8gICAgIH0sXHJcbiAgICAgICAgLy8gICB9LCB7XHJcbiAgICAgICAgLy8gICAgIHVpOiBtb2Rlcm5VSSgpLFxyXG4gICAgICAgIC8vICAgfV0sIGNvbmZpZyk7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgICAgIC8vIGV4cG9ydCBmdW5jdGlvbiBidWlsZE1vZGVyblNtYWxsU2NyZWVuVUkocGxheWVyOiBQbGF5ZXJBUEksIGNvbmZpZzogVUlDb25maWcgPSB7fSk6IFVJTWFuYWdlciB7XHJcbiAgICAgICAgLy8gICByZXR1cm4gbmV3IFVJTWFuYWdlcihwbGF5ZXIsIFt7XHJcbiAgICAgICAgLy8gICAgIHVpOiBtb2Rlcm5TbWFsbFNjcmVlbkFkc1VJKCksXHJcbiAgICAgICAgLy8gICAgIGNvbmRpdGlvbjogKGNvbnRleHQ6IFVJQ29uZGl0aW9uQ29udGV4dCkgPT4ge1xyXG4gICAgICAgIC8vICAgICAgIHJldHVybiBjb250ZXh0LmlzQWRXaXRoVUk7XHJcbiAgICAgICAgLy8gICAgIH0sXHJcbiAgICAgICAgLy8gICB9LCB7XHJcbiAgICAgICAgLy8gICAgIHVpOiBtb2Rlcm5TbWFsbFNjcmVlblVJKCksXHJcbiAgICAgICAgLy8gICB9XSwgY29uZmlnKTtcclxuICAgICAgICAvLyB9XHJcbiAgICAgICAgLy8gZXhwb3J0IGZ1bmN0aW9uIGJ1aWxkTW9kZXJuQ2FzdFJlY2VpdmVyVUkocGxheWVyOiBQbGF5ZXJBUEksIGNvbmZpZzogVUlDb25maWcgPSB7fSk6IFVJTWFuYWdlciB7XHJcbiAgICAgICAgLy8gICByZXR1cm4gbmV3IFVJTWFuYWdlcihwbGF5ZXIsIG1vZGVybkNhc3RSZWNlaXZlclVJKCksIGNvbmZpZyk7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgICAgIC8vIGZ1bmN0aW9uIGxlZ2FjeVVJKCkge1xyXG4gICAgICAgIC8vICAgbGV0IHNldHRpbmdzUGFuZWwgPSBuZXcgU2V0dGluZ3NQYW5lbCh7XHJcbiAgICAgICAgLy8gICAgIGNvbXBvbmVudHM6IFtcclxuICAgICAgICAvLyAgICAgICBuZXcgU2V0dGluZ3NQYW5lbEl0ZW0oJ1ZpZGVvIFF1YWxpdHknLCBuZXcgVmlkZW9RdWFsaXR5U2VsZWN0Qm94KCkpLFxyXG4gICAgICAgIC8vICAgICAgIG5ldyBTZXR0aW5nc1BhbmVsSXRlbSgnQXVkaW8gVHJhY2snLCBuZXcgQXVkaW9UcmFja1NlbGVjdEJveCgpKSxcclxuICAgICAgICAvLyAgICAgICBuZXcgU2V0dGluZ3NQYW5lbEl0ZW0oJ0F1ZGlvIFF1YWxpdHknLCBuZXcgQXVkaW9RdWFsaXR5U2VsZWN0Qm94KCkpLFxyXG4gICAgICAgIC8vICAgICAgIG5ldyBTZXR0aW5nc1BhbmVsSXRlbSgnU3VidGl0bGVzJywgbmV3IFN1YnRpdGxlU2VsZWN0Qm94KCkpLFxyXG4gICAgICAgIC8vICAgICBdLFxyXG4gICAgICAgIC8vICAgICBoaWRkZW46IHRydWUsXHJcbiAgICAgICAgLy8gICB9KTtcclxuICAgICAgICAvLyAgIGxldCBjb250cm9sQmFyID0gbmV3IENvbnRyb2xCYXIoe1xyXG4gICAgICAgIC8vICAgICBjb21wb25lbnRzOiBbXHJcbiAgICAgICAgLy8gICAgICAgc2V0dGluZ3NQYW5lbCxcclxuICAgICAgICAvLyAgICAgICBuZXcgUGxheWJhY2tUb2dnbGVCdXR0b24oKSxcclxuICAgICAgICAvLyAgICAgICBuZXcgU2Vla0Jhcih7IGxhYmVsOiBuZXcgU2Vla0JhckxhYmVsKCkgfSksXHJcbiAgICAgICAgLy8gICAgICAgbmV3IFBsYXliYWNrVGltZUxhYmVsKCksXHJcbiAgICAgICAgLy8gICAgICAgbmV3IFZSVG9nZ2xlQnV0dG9uKCksXHJcbiAgICAgICAgLy8gICAgICAgbmV3IFZvbHVtZUNvbnRyb2xCdXR0b24oKSxcclxuICAgICAgICAvLyAgICAgICBuZXcgU2V0dGluZ3NUb2dnbGVCdXR0b24oeyBzZXR0aW5nc1BhbmVsOiBzZXR0aW5nc1BhbmVsIH0pLFxyXG4gICAgICAgIC8vICAgICAgIG5ldyBDYXN0VG9nZ2xlQnV0dG9uKCksXHJcbiAgICAgICAgLy8gICAgICAgbmV3IEZ1bGxzY3JlZW5Ub2dnbGVCdXR0b24oKSxcclxuICAgICAgICAvLyAgICAgXSxcclxuICAgICAgICAvLyAgIH0pO1xyXG4gICAgICAgIC8vICAgcmV0dXJuIG5ldyBVSUNvbnRhaW5lcih7XHJcbiAgICAgICAgLy8gICAgIGNvbXBvbmVudHM6IFtcclxuICAgICAgICAvLyAgICAgICBuZXcgU3VidGl0bGVPdmVybGF5KCksXHJcbiAgICAgICAgLy8gICAgICAgbmV3IENhc3RTdGF0dXNPdmVybGF5KCksXHJcbiAgICAgICAgLy8gICAgICAgbmV3IFBsYXliYWNrVG9nZ2xlT3ZlcmxheSgpLFxyXG4gICAgICAgIC8vICAgICAgIG5ldyBXYXRlcm1hcmsoKSxcclxuICAgICAgICAvLyAgICAgICBuZXcgUmVjb21tZW5kYXRpb25PdmVybGF5KCksXHJcbiAgICAgICAgLy8gICAgICAgY29udHJvbEJhcixcclxuICAgICAgICAvLyAgICAgICBuZXcgVGl0bGVCYXIoKSxcclxuICAgICAgICAvLyAgICAgICBuZXcgRXJyb3JNZXNzYWdlT3ZlcmxheSgpLFxyXG4gICAgICAgIC8vICAgICBdLFxyXG4gICAgICAgIC8vICAgICBjc3NDbGFzc2VzOiBbJ3VpLXNraW4tbGVnYWN5J10sXHJcbiAgICAgICAgLy8gICB9KTtcclxuICAgICAgICAvLyB9XHJcbiAgICAgICAgLy8gZnVuY3Rpb24gbGVnYWN5QWRzVUkoKSB7XHJcbiAgICAgICAgLy8gICByZXR1cm4gbmV3IFVJQ29udGFpbmVyKHtcclxuICAgICAgICAvLyAgICAgY29tcG9uZW50czogW1xyXG4gICAgICAgIC8vICAgICAgIG5ldyBBZENsaWNrT3ZlcmxheSgpLFxyXG4gICAgICAgIC8vICAgICAgIG5ldyBDb250cm9sQmFyKHtcclxuICAgICAgICAvLyAgICAgICAgIGNvbXBvbmVudHM6IFtcclxuICAgICAgICAvLyAgICAgICAgICAgbmV3IFBsYXliYWNrVG9nZ2xlQnV0dG9uKCksXHJcbiAgICAgICAgLy8gICAgICAgICAgIG5ldyBBZE1lc3NhZ2VMYWJlbCgpLFxyXG4gICAgICAgIC8vICAgICAgICAgICBuZXcgVm9sdW1lQ29udHJvbEJ1dHRvbigpLFxyXG4gICAgICAgIC8vICAgICAgICAgICBuZXcgRnVsbHNjcmVlblRvZ2dsZUJ1dHRvbigpLFxyXG4gICAgICAgIC8vICAgICAgICAgXSxcclxuICAgICAgICAvLyAgICAgICB9KSxcclxuICAgICAgICAvLyAgICAgICBuZXcgQWRTa2lwQnV0dG9uKCksXHJcbiAgICAgICAgLy8gICAgIF0sXHJcbiAgICAgICAgLy8gICAgIGNzc0NsYXNzZXM6IFsndWktc2tpbi1sZWdhY3knLCAndWktc2tpbi1hZHMnXSxcclxuICAgICAgICAvLyAgIH0pO1xyXG4gICAgICAgIC8vIH1cclxuICAgICAgICAvLyBmdW5jdGlvbiBsZWdhY3lDYXN0UmVjZWl2ZXJVSSgpIHtcclxuICAgICAgICAvLyAgIGxldCBjb250cm9sQmFyID0gbmV3IENvbnRyb2xCYXIoe1xyXG4gICAgICAgIC8vICAgICBjb21wb25lbnRzOiBbXHJcbiAgICAgICAgLy8gICAgICAgbmV3IFNlZWtCYXIoKSxcclxuICAgICAgICAvLyAgICAgICBuZXcgUGxheWJhY2tUaW1lTGFiZWwoKSxcclxuICAgICAgICAvLyAgICAgXSxcclxuICAgICAgICAvLyAgIH0pO1xyXG4gICAgICAgIC8vICAgcmV0dXJuIG5ldyBVSUNvbnRhaW5lcih7XHJcbiAgICAgICAgLy8gICAgIGNvbXBvbmVudHM6IFtcclxuICAgICAgICAvLyAgICAgICBuZXcgU3VidGl0bGVPdmVybGF5KCksXHJcbiAgICAgICAgLy8gICAgICAgbmV3IFBsYXliYWNrVG9nZ2xlT3ZlcmxheSgpLFxyXG4gICAgICAgIC8vICAgICAgIG5ldyBXYXRlcm1hcmsoKSxcclxuICAgICAgICAvLyAgICAgICBjb250cm9sQmFyLFxyXG4gICAgICAgIC8vICAgICAgIG5ldyBUaXRsZUJhcigpLFxyXG4gICAgICAgIC8vICAgICAgIG5ldyBFcnJvck1lc3NhZ2VPdmVybGF5KCksXHJcbiAgICAgICAgLy8gICAgIF0sXHJcbiAgICAgICAgLy8gICAgIGNzc0NsYXNzZXM6IFsndWktc2tpbi1sZWdhY3knLCAndWktc2tpbi1jYXN0LXJlY2VpdmVyJ10sXHJcbiAgICAgICAgLy8gICB9KTtcclxuICAgICAgICAvLyB9XHJcbiAgICAgICAgLy8gZnVuY3Rpb24gbGVnYWN5VGVzdFVJKCkge1xyXG4gICAgICAgIC8vICAgbGV0IHNldHRpbmdzUGFuZWwgPSBuZXcgU2V0dGluZ3NQYW5lbCh7XHJcbiAgICAgICAgLy8gICAgIGNvbXBvbmVudHM6IFtcclxuICAgICAgICAvLyAgICAgICBuZXcgU2V0dGluZ3NQYW5lbEl0ZW0oJ1ZpZGVvIFF1YWxpdHknLCBuZXcgVmlkZW9RdWFsaXR5U2VsZWN0Qm94KCkpLFxyXG4gICAgICAgIC8vICAgICAgIG5ldyBTZXR0aW5nc1BhbmVsSXRlbSgnQXVkaW8gVHJhY2snLCBuZXcgQXVkaW9UcmFja1NlbGVjdEJveCgpKSxcclxuICAgICAgICAvLyAgICAgICBuZXcgU2V0dGluZ3NQYW5lbEl0ZW0oJ0F1ZGlvIFF1YWxpdHknLCBuZXcgQXVkaW9RdWFsaXR5U2VsZWN0Qm94KCkpLFxyXG4gICAgICAgIC8vICAgICAgIG5ldyBTZXR0aW5nc1BhbmVsSXRlbSgnU3VidGl0bGVzJywgbmV3IFN1YnRpdGxlU2VsZWN0Qm94KCkpLFxyXG4gICAgICAgIC8vICAgICBdLFxyXG4gICAgICAgIC8vICAgICBoaWRkZW46IHRydWUsXHJcbiAgICAgICAgLy8gICB9KTtcclxuICAgICAgICAvLyAgIGxldCBjb250cm9sQmFyID0gbmV3IENvbnRyb2xCYXIoe1xyXG4gICAgICAgIC8vICAgICBjb21wb25lbnRzOiBbc2V0dGluZ3NQYW5lbCxcclxuICAgICAgICAvLyAgICAgICBuZXcgUGxheWJhY2tUb2dnbGVCdXR0b24oKSxcclxuICAgICAgICAvLyAgICAgICBuZXcgU2Vla0Jhcih7IGxhYmVsOiBuZXcgU2Vla0JhckxhYmVsKCkgfSksXHJcbiAgICAgICAgLy8gICAgICAgbmV3IFBsYXliYWNrVGltZUxhYmVsKCksXHJcbiAgICAgICAgLy8gICAgICAgbmV3IFZSVG9nZ2xlQnV0dG9uKCksXHJcbiAgICAgICAgLy8gICAgICAgbmV3IFZvbHVtZVRvZ2dsZUJ1dHRvbigpLFxyXG4gICAgICAgIC8vICAgICAgIG5ldyBWb2x1bWVTbGlkZXIoKSxcclxuICAgICAgICAvLyAgICAgICBuZXcgVm9sdW1lQ29udHJvbEJ1dHRvbigpLFxyXG4gICAgICAgIC8vICAgICAgIG5ldyBWb2x1bWVDb250cm9sQnV0dG9uKHsgdmVydGljYWw6IGZhbHNlIH0pLFxyXG4gICAgICAgIC8vICAgICAgIG5ldyBTZXR0aW5nc1RvZ2dsZUJ1dHRvbih7IHNldHRpbmdzUGFuZWw6IHNldHRpbmdzUGFuZWwgfSksXHJcbiAgICAgICAgLy8gICAgICAgbmV3IENhc3RUb2dnbGVCdXR0b24oKSxcclxuICAgICAgICAvLyAgICAgICBuZXcgRnVsbHNjcmVlblRvZ2dsZUJ1dHRvbigpLFxyXG4gICAgICAgIC8vICAgICBdLFxyXG4gICAgICAgIC8vICAgfSk7XHJcbiAgICAgICAgLy8gICByZXR1cm4gbmV3IFVJQ29udGFpbmVyKHtcclxuICAgICAgICAvLyAgICAgY29tcG9uZW50czogW1xyXG4gICAgICAgIC8vICAgICAgIG5ldyBTdWJ0aXRsZU92ZXJsYXkoKSxcclxuICAgICAgICAvLyAgICAgICBuZXcgQ2FzdFN0YXR1c092ZXJsYXkoKSxcclxuICAgICAgICAvLyAgICAgICBuZXcgUGxheWJhY2tUb2dnbGVPdmVybGF5KCksXHJcbiAgICAgICAgLy8gICAgICAgbmV3IFdhdGVybWFyaygpLFxyXG4gICAgICAgIC8vICAgICAgIG5ldyBSZWNvbW1lbmRhdGlvbk92ZXJsYXkoKSxcclxuICAgICAgICAvLyAgICAgICBjb250cm9sQmFyLFxyXG4gICAgICAgIC8vICAgICAgIG5ldyBUaXRsZUJhcigpLFxyXG4gICAgICAgIC8vICAgICAgIG5ldyBFcnJvck1lc3NhZ2VPdmVybGF5KCksXHJcbiAgICAgICAgLy8gICAgIF0sXHJcbiAgICAgICAgLy8gICAgIGNzc0NsYXNzZXM6IFsndWktc2tpbi1sZWdhY3knXSxcclxuICAgICAgICAvLyAgIH0pO1xyXG4gICAgICAgIC8vIH1cclxuICAgICAgICAvLyBleHBvcnQgZnVuY3Rpb24gYnVpbGRMZWdhY3lVSShwbGF5ZXI6IFBsYXllckFQSSwgY29uZmlnOiBVSUNvbmZpZyA9IHt9KTogVUlNYW5hZ2VyIHtcclxuICAgICAgICAvLyAgIHJldHVybiBuZXcgVUlNYW5hZ2VyKHBsYXllciwgW3tcclxuICAgICAgICAvLyAgICAgdWk6IGxlZ2FjeUFkc1VJKCksXHJcbiAgICAgICAgLy8gICAgIGNvbmRpdGlvbjogKGNvbnRleHQ6IFVJQ29uZGl0aW9uQ29udGV4dCkgPT4ge1xyXG4gICAgICAgIC8vICAgICAgIHJldHVybiBjb250ZXh0LmlzQWRXaXRoVUk7XHJcbiAgICAgICAgLy8gICAgIH0sXHJcbiAgICAgICAgLy8gICB9LCB7XHJcbiAgICAgICAgLy8gICAgIHVpOiBsZWdhY3lVSSgpLFxyXG4gICAgICAgIC8vICAgfV0sIGNvbmZpZyk7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgICAgIC8vIGV4cG9ydCBmdW5jdGlvbiBidWlsZExlZ2FjeUNhc3RSZWNlaXZlclVJKHBsYXllcjogUGxheWVyQVBJLCBjb25maWc6IFVJQ29uZmlnID0ge30pOiBVSU1hbmFnZXIge1xyXG4gICAgICAgIC8vICAgcmV0dXJuIG5ldyBVSU1hbmFnZXIocGxheWVyLCBsZWdhY3lDYXN0UmVjZWl2ZXJVSSgpLCBjb25maWcpO1xyXG4gICAgICAgIC8vIH1cclxuICAgICAgICAvLyBleHBvcnQgZnVuY3Rpb24gYnVpbGRMZWdhY3lUZXN0VUkocGxheWVyOiBQbGF5ZXJBUEksIGNvbmZpZzogVUlDb25maWcgPSB7fSk6IFVJTWFuYWdlciB7XHJcbiAgICAgICAgLy8gICByZXR1cm4gbmV3IFVJTWFuYWdlcihwbGF5ZXIsIGxlZ2FjeVRlc3RVSSgpLCBjb25maWcpO1xyXG4gICAgICAgIC8vIH1cclxuICAgIH0pKEZhY3RvcnkgPSBVSU1hbmFnZXIuRmFjdG9yeSB8fCAoVUlNYW5hZ2VyLkZhY3RvcnkgPSB7fSkpO1xyXG59KShVSU1hbmFnZXIgPSBleHBvcnRzLlVJTWFuYWdlciB8fCAoZXhwb3J0cy5VSU1hbmFnZXIgPSB7fSkpO1xyXG5leHBvcnRzLlVJTWFuYWdlciA9IFVJTWFuYWdlcjtcclxuLyoqXHJcbiAqIEVuY2Fwc3VsYXRlcyBmdW5jdGlvbmFsaXR5IHRvIG1hbmFnZSBhIFVJIGluc3RhbmNlLiBVc2VkIGJ5IHRoZSB7QGxpbmsgVUlNYW5hZ2VyfSB0byBtYW5hZ2UgbXVsdGlwbGUgVUkgaW5zdGFuY2VzLlxyXG4gKi9cclxudmFyIFVJSW5zdGFuY2VNYW5hZ2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gVUlJbnN0YW5jZU1hbmFnZXIocGxheWVyLCB1aSwgY29uZmlnKSB7XHJcbiAgICAgICAgdGhpcy5ldmVudHMgPSB7XHJcbiAgICAgICAgICAgIG9uQ29uZmlndXJlZDogbmV3IGV2ZW50ZGlzcGF0Y2hlcl8xLkV2ZW50RGlzcGF0Y2hlcigpLFxyXG4gICAgICAgICAgICBvblNlZWs6IG5ldyBldmVudGRpc3BhdGNoZXJfMS5FdmVudERpc3BhdGNoZXIoKSxcclxuICAgICAgICAgICAgb25TZWVrUHJldmlldzogbmV3IGV2ZW50ZGlzcGF0Y2hlcl8xLkV2ZW50RGlzcGF0Y2hlcigpLFxyXG4gICAgICAgICAgICBvblNlZWtlZDogbmV3IGV2ZW50ZGlzcGF0Y2hlcl8xLkV2ZW50RGlzcGF0Y2hlcigpLFxyXG4gICAgICAgICAgICBvbkNvbXBvbmVudFNob3c6IG5ldyBldmVudGRpc3BhdGNoZXJfMS5FdmVudERpc3BhdGNoZXIoKSxcclxuICAgICAgICAgICAgb25Db21wb25lbnRIaWRlOiBuZXcgZXZlbnRkaXNwYXRjaGVyXzEuRXZlbnREaXNwYXRjaGVyKCksXHJcbiAgICAgICAgICAgIG9uQ29udHJvbHNTaG93OiBuZXcgZXZlbnRkaXNwYXRjaGVyXzEuRXZlbnREaXNwYXRjaGVyKCksXHJcbiAgICAgICAgICAgIG9uUHJldmlld0NvbnRyb2xzSGlkZTogbmV3IGV2ZW50ZGlzcGF0Y2hlcl8xLkV2ZW50RGlzcGF0Y2hlcigpLFxyXG4gICAgICAgICAgICBvbkNvbnRyb2xzSGlkZTogbmV3IGV2ZW50ZGlzcGF0Y2hlcl8xLkV2ZW50RGlzcGF0Y2hlcigpLFxyXG4gICAgICAgICAgICBvblJlbGVhc2U6IG5ldyBldmVudGRpc3BhdGNoZXJfMS5FdmVudERpc3BhdGNoZXIoKSxcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMucGxheWVyV3JhcHBlciA9IG5ldyBQbGF5ZXJXcmFwcGVyKHBsYXllcik7XHJcbiAgICAgICAgdGhpcy51aSA9IHVpO1xyXG4gICAgICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xyXG4gICAgfVxyXG4gICAgVUlJbnN0YW5jZU1hbmFnZXIucHJvdG90eXBlLmdldENvbmZpZyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb25maWc7XHJcbiAgICB9O1xyXG4gICAgVUlJbnN0YW5jZU1hbmFnZXIucHJvdG90eXBlLmdldFVJID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnVpO1xyXG4gICAgfTtcclxuICAgIFVJSW5zdGFuY2VNYW5hZ2VyLnByb3RvdHlwZS5nZXRQbGF5ZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucGxheWVyV3JhcHBlci5nZXRQbGF5ZXIoKTtcclxuICAgIH07XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVUlJbnN0YW5jZU1hbmFnZXIucHJvdG90eXBlLCBcIm9uQ29uZmlndXJlZFwiLCB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogRmlyZXMgd2hlbiB0aGUgVUkgaXMgZnVsbHkgY29uZmlndXJlZCBhbmQgYWRkZWQgdG8gdGhlIERPTS5cclxuICAgICAgICAgKiBAcmV0dXJucyB7RXZlbnREaXNwYXRjaGVyfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ldmVudHMub25Db25maWd1cmVkO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFVJSW5zdGFuY2VNYW5hZ2VyLnByb3RvdHlwZSwgXCJvblNlZWtcIiwge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEZpcmVzIHdoZW4gYSBzZWVrIHN0YXJ0cy5cclxuICAgICAgICAgKiBAcmV0dXJucyB7RXZlbnREaXNwYXRjaGVyfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ldmVudHMub25TZWVrO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFVJSW5zdGFuY2VNYW5hZ2VyLnByb3RvdHlwZSwgXCJvblNlZWtQcmV2aWV3XCIsIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBGaXJlcyB3aGVuIHRoZSBzZWVrIHRpbWVsaW5lIGlzIHNjcnViYmVkLlxyXG4gICAgICAgICAqIEByZXR1cm5zIHtFdmVudERpc3BhdGNoZXJ9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmV2ZW50cy5vblNlZWtQcmV2aWV3O1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFVJSW5zdGFuY2VNYW5hZ2VyLnByb3RvdHlwZSwgXCJvblNlZWtlZFwiLCB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogRmlyZXMgd2hlbiBhIHNlZWsgaXMgZmluaXNoZWQuXHJcbiAgICAgICAgICogQHJldHVybnMge0V2ZW50RGlzcGF0Y2hlcn1cclxuICAgICAgICAgKi9cclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZXZlbnRzLm9uU2Vla2VkO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFVJSW5zdGFuY2VNYW5hZ2VyLnByb3RvdHlwZSwgXCJvbkNvbXBvbmVudFNob3dcIiwge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEZpcmVzIHdoZW4gYSBjb21wb25lbnQgaXMgc2hvd2luZy5cclxuICAgICAgICAgKiBAcmV0dXJucyB7RXZlbnREaXNwYXRjaGVyfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ldmVudHMub25Db21wb25lbnRTaG93O1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFVJSW5zdGFuY2VNYW5hZ2VyLnByb3RvdHlwZSwgXCJvbkNvbXBvbmVudEhpZGVcIiwge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEZpcmVzIHdoZW4gYSBjb21wb25lbnQgaXMgaGlkaW5nLlxyXG4gICAgICAgICAqIEByZXR1cm5zIHtFdmVudERpc3BhdGNoZXJ9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmV2ZW50cy5vbkNvbXBvbmVudEhpZGU7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVUlJbnN0YW5jZU1hbmFnZXIucHJvdG90eXBlLCBcIm9uQ29udHJvbHNTaG93XCIsIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBGaXJlcyB3aGVuIHRoZSBVSSBjb250cm9scyBhcmUgc2hvd2luZy5cclxuICAgICAgICAgKiBAcmV0dXJucyB7RXZlbnREaXNwYXRjaGVyfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ldmVudHMub25Db250cm9sc1Nob3c7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVUlJbnN0YW5jZU1hbmFnZXIucHJvdG90eXBlLCBcIm9uUHJldmlld0NvbnRyb2xzSGlkZVwiLCB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogRmlyZXMgYmVmb3JlIHRoZSBVSSBjb250cm9scyBhcmUgaGlkaW5nIHRvIGNoZWNrIGlmIHRoZXkgYXJlIGFsbG93ZWQgdG8gaGlkZS5cclxuICAgICAgICAgKiBAcmV0dXJucyB7RXZlbnREaXNwYXRjaGVyfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ldmVudHMub25QcmV2aWV3Q29udHJvbHNIaWRlO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFVJSW5zdGFuY2VNYW5hZ2VyLnByb3RvdHlwZSwgXCJvbkNvbnRyb2xzSGlkZVwiLCB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogRmlyZXMgd2hlbiB0aGUgVUkgY29udHJvbHMgYXJlIGhpZGluZy5cclxuICAgICAgICAgKiBAcmV0dXJucyB7RXZlbnREaXNwYXRjaGVyfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ldmVudHMub25Db250cm9sc0hpZGU7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVUlJbnN0YW5jZU1hbmFnZXIucHJvdG90eXBlLCBcIm9uUmVsZWFzZVwiLCB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogRmlyZXMgd2hlbiB0aGUgVUkgY29udHJvbHMgYXJlIHJlbGVhc2VkLlxyXG4gICAgICAgICAqIEByZXR1cm5zIHtFdmVudERpc3BhdGNoZXJ9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmV2ZW50cy5vblJlbGVhc2U7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBVSUluc3RhbmNlTWFuYWdlci5wcm90b3R5cGUuY2xlYXJFdmVudEhhbmRsZXJzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMucGxheWVyV3JhcHBlci5jbGVhckV2ZW50SGFuZGxlcnMoKTtcclxuICAgICAgICB2YXIgZXZlbnRzID0gdGhpcy5ldmVudHM7IC8vIGF2b2lkIFRTNzAxN1xyXG4gICAgICAgIGZvciAodmFyIGV2ZW50XzEgaW4gZXZlbnRzKSB7XHJcbiAgICAgICAgICAgIHZhciBkaXNwYXRjaGVyID0gZXZlbnRzW2V2ZW50XzFdO1xyXG4gICAgICAgICAgICBkaXNwYXRjaGVyLnVuc3Vic2NyaWJlQWxsKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHJldHVybiBVSUluc3RhbmNlTWFuYWdlcjtcclxufSgpKTtcclxuZXhwb3J0cy5VSUluc3RhbmNlTWFuYWdlciA9IFVJSW5zdGFuY2VNYW5hZ2VyO1xyXG4vKipcclxuICogRXh0ZW5kcyB0aGUge0BsaW5rIFVJSW5zdGFuY2VNYW5hZ2VyfSBmb3IgaW50ZXJuYWwgdXNlIGluIHRoZSB7QGxpbmsgVUlNYW5hZ2VyfSBhbmQgcHJvdmlkZXMgYWNjZXNzIHRvIGZ1bmN0aW9uYWxpdHlcclxuICogdGhhdCBjb21wb25lbnRzIHJlY2VpdmluZyBhIHJlZmVyZW5jZSB0byB0aGUge0BsaW5rIFVJSW5zdGFuY2VNYW5hZ2VyfSBzaG91bGQgbm90IGhhdmUgYWNjZXNzIHRvLlxyXG4gKi9cclxudmFyIEludGVybmFsVUlJbnN0YW5jZU1hbmFnZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoSW50ZXJuYWxVSUluc3RhbmNlTWFuYWdlciwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIEludGVybmFsVUlJbnN0YW5jZU1hbmFnZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xyXG4gICAgfVxyXG4gICAgSW50ZXJuYWxVSUluc3RhbmNlTWFuYWdlci5wcm90b3R5cGUuZ2V0V3JhcHBlZFBsYXllciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyBUT0RPIGZpbmQgYSBub24taGFja3kgd2F5IHRvIHByb3ZpZGUgdGhlIFdyYXBwZWRQbGF5ZXIgdG8gdGhlIFVJTWFuYWdlciB3aXRob3V0IGV4cG9ydGluZyBpdFxyXG4gICAgICAgIC8vIGdldFBsYXllcigpIGFjdHVhbGx5IHJldHVybnMgdGhlIFdyYXBwZWRQbGF5ZXIgYnV0IGl0cyByZXR1cm4gdHlwZSBpcyBzZXQgdG8gUGxheWVyIHNvIHRoZSBXcmFwcGVkUGxheWVyIGRvZXNcclxuICAgICAgICAvLyBub3QgbmVlZCB0byBiZSBleHBvcnRlZFxyXG4gICAgICAgIHJldHVybiB0aGlzLmdldFBsYXllcigpO1xyXG4gICAgfTtcclxuICAgIEludGVybmFsVUlJbnN0YW5jZU1hbmFnZXIucHJvdG90eXBlLmNvbmZpZ3VyZUNvbnRyb2xzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuY29uZmlndXJlQ29udHJvbHNUcmVlKHRoaXMuZ2V0VUkoKSk7XHJcbiAgICAgICAgdGhpcy5jb25maWd1cmVkID0gdHJ1ZTtcclxuICAgIH07XHJcbiAgICBJbnRlcm5hbFVJSW5zdGFuY2VNYW5hZ2VyLnByb3RvdHlwZS5pc0NvbmZpZ3VyZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlndXJlZDtcclxuICAgIH07XHJcbiAgICBJbnRlcm5hbFVJSW5zdGFuY2VNYW5hZ2VyLnByb3RvdHlwZS5jb25maWd1cmVDb250cm9sc1RyZWUgPSBmdW5jdGlvbiAoY29tcG9uZW50KSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB2YXIgY29uZmlndXJlZENvbXBvbmVudHMgPSBbXTtcclxuICAgICAgICB1aXV0aWxzXzEuVUlVdGlscy50cmF2ZXJzZVRyZWUoY29tcG9uZW50LCBmdW5jdGlvbiAoY29tcG9uZW50KSB7XHJcbiAgICAgICAgICAgIC8vIEZpcnN0LCBjaGVjayBpZiB3ZSBoYXZlIGFscmVhZHkgY29uZmlndXJlZCBhIGNvbXBvbmVudCwgYW5kIHRocm93IGFuIGVycm9yIGlmIHdlIGRpZC4gTXVsdGlwbGUgY29uZmlndXJhdGlvblxyXG4gICAgICAgICAgICAvLyBvZiB0aGUgc2FtZSBjb21wb25lbnQgbGVhZHMgdG8gdW5leHBlY3RlZCBVSSBiZWhhdmlvci4gQWxzbywgYSBjb21wb25lbnQgdGhhdCBpcyBpbiB0aGUgVUkgdHJlZSBtdWx0aXBsZVxyXG4gICAgICAgICAgICAvLyB0aW1lcyBoaW50cyBhdCBhIHdyb25nIFVJIHN0cnVjdHVyZS5cclxuICAgICAgICAgICAgLy8gV2UgY291bGQganVzdCBza2lwIGNvbmZpZ3VyYXRpb24gaW4gc3VjaCBhIGNhc2UgYW5kIG5vdCB0aHJvdyBhbiBleGNlcHRpb24sIGJ1dCBlbmZvcmNpbmcgYSBjbGVhbiBVSSB0cmVlXHJcbiAgICAgICAgICAgIC8vIHNlZW1zIGxpa2UgdGhlIGJldHRlciBjaG9pY2UuXHJcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgY29uZmlndXJlZENvbXBvbmVudHNfMSA9IGNvbmZpZ3VyZWRDb21wb25lbnRzOyBfaSA8IGNvbmZpZ3VyZWRDb21wb25lbnRzXzEubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY29uZmlndXJlZENvbXBvbmVudCA9IGNvbmZpZ3VyZWRDb21wb25lbnRzXzFbX2ldO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvbmZpZ3VyZWRDb21wb25lbnQgPT09IGNvbXBvbmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFdyaXRlIHRoZSBjb21wb25lbnQgdG8gdGhlIGNvbnNvbGUgdG8gc2ltcGxpZnkgaWRlbnRpZmljYXRpb24gb2YgdGhlIGN1bHByaXRcclxuICAgICAgICAgICAgICAgICAgICAvLyAoZS5nLiBieSBpbnNwZWN0aW5nIHRoZSBjb25maWcpXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnNvbGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignQ2lyY3VsYXIgcmVmZXJlbmNlIGluIFVJIHRyZWUnLCBjb21wb25lbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvLyBBZGRpdGlvbmFsbHkgdGhyb3cgYW4gZXJyb3IsIGJlY2F1c2UgdGhpcyBjYXNlIG11c3Qgbm90IGhhcHBlbiBhbmQgbGVhZHMgdG8gdW5leHBlY3RlZCBVSSBiZWhhdmlvci5cclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcignQ2lyY3VsYXIgcmVmZXJlbmNlIGluIFVJIHRyZWU6ICcgKyBjb21wb25lbnQuY29uc3RydWN0b3IubmFtZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29tcG9uZW50LmluaXRpYWxpemUoKTtcclxuICAgICAgICAgICAgY29tcG9uZW50LmNvbmZpZ3VyZShfdGhpcy5nZXRQbGF5ZXIoKSwgX3RoaXMpO1xyXG4gICAgICAgICAgICBjb25maWd1cmVkQ29tcG9uZW50cy5wdXNoKGNvbXBvbmVudCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgSW50ZXJuYWxVSUluc3RhbmNlTWFuYWdlci5wcm90b3R5cGUucmVsZWFzZUNvbnRyb2xzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vIERvIG5vdCBjYWxsIHJlbGVhc2UgbWV0aG9kcyBpZiB0aGUgY29tcG9uZW50cyBoYXZlIG5ldmVyIGJlZW4gY29uZmlndXJlZDsgdGhpcyBjYW4gcmVzdWx0IGluIGV4Y2VwdGlvbnNcclxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMub25SZWxlYXNlLmRpc3BhdGNoKHRoaXMuZ2V0VUkoKSk7XHJcbiAgICAgICAgICAgIHRoaXMucmVsZWFzZUNvbnRyb2xzVHJlZSh0aGlzLmdldFVJKCkpO1xyXG4gICAgICAgICAgICB0aGlzLmNvbmZpZ3VyZWQgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5yZWxlYXNlZCA9IHRydWU7XHJcbiAgICB9O1xyXG4gICAgSW50ZXJuYWxVSUluc3RhbmNlTWFuYWdlci5wcm90b3R5cGUuaXNSZWxlYXNlZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5yZWxlYXNlZDtcclxuICAgIH07XHJcbiAgICBJbnRlcm5hbFVJSW5zdGFuY2VNYW5hZ2VyLnByb3RvdHlwZS5yZWxlYXNlQ29udHJvbHNUcmVlID0gZnVuY3Rpb24gKGNvbXBvbmVudCkge1xyXG4gICAgICAgIGNvbXBvbmVudC5yZWxlYXNlKCk7XHJcbiAgICAgICAgaWYgKGNvbXBvbmVudCBpbnN0YW5jZW9mIGNvbnRhaW5lcl8xLkNvbnRhaW5lcikge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gY29tcG9uZW50LmdldENvbXBvbmVudHMoKTsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBjaGlsZENvbXBvbmVudCA9IF9hW19pXTtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVsZWFzZUNvbnRyb2xzVHJlZShjaGlsZENvbXBvbmVudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgSW50ZXJuYWxVSUluc3RhbmNlTWFuYWdlci5wcm90b3R5cGUuY2xlYXJFdmVudEhhbmRsZXJzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuY2xlYXJFdmVudEhhbmRsZXJzLmNhbGwodGhpcyk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEludGVybmFsVUlJbnN0YW5jZU1hbmFnZXI7XHJcbn0oVUlJbnN0YW5jZU1hbmFnZXIpKTtcclxuLyoqXHJcbiAqIFdyYXBzIHRoZSBwbGF5ZXIgdG8gdHJhY2sgZXZlbnQgaGFuZGxlcnMgYW5kIHByb3ZpZGUgYSBzaW1wbGUgbWV0aG9kIHRvIHJlbW92ZSBhbGwgcmVnaXN0ZXJlZCBldmVudFxyXG4gKiBoYW5kbGVycyBmcm9tIHRoZSBwbGF5ZXIuXHJcbiAqL1xyXG52YXIgUGxheWVyV3JhcHBlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIFBsYXllcldyYXBwZXIocGxheWVyKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB0aGlzLmV2ZW50SGFuZGxlcnMgPSB7fTtcclxuICAgICAgICB0aGlzLnBsYXllciA9IHBsYXllcjtcclxuICAgICAgICAvLyBDb2xsZWN0IGFsbCBtZW1iZXJzIG9mIHRoZSBwbGF5ZXIgKHB1YmxpYyBBUEkgbWV0aG9kcyBhbmQgcHJvcGVydGllcyBvZiB0aGUgcGxheWVyKVxyXG4gICAgICAgIC8vIChPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhwbGF5ZXIpIGRvZXMgbm90IHdvcmsgd2l0aCB0aGUgcGxheWVyIFR5cGVTY3JpcHQgY2xhc3Mgc3RhcnRpbmcgaW4gNy4yKVxyXG4gICAgICAgIHZhciBtZW1iZXJzID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgbWVtYmVyIGluIHBsYXllcikge1xyXG4gICAgICAgICAgICBtZW1iZXJzLnB1c2gobWVtYmVyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gU3BsaXQgdGhlIG1lbWJlcnMgaW50byBtZXRob2RzIGFuZCBwcm9wZXJ0aWVzXHJcbiAgICAgICAgdmFyIG1ldGhvZHMgPSBbXTtcclxuICAgICAgICB2YXIgcHJvcGVydGllcyA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgbWVtYmVyc18xID0gbWVtYmVyczsgX2kgPCBtZW1iZXJzXzEubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBtZW1iZXIgPSBtZW1iZXJzXzFbX2ldO1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHBsYXllclttZW1iZXJdID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICBtZXRob2RzLnB1c2gobWVtYmVyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHByb3BlcnRpZXMucHVzaChtZW1iZXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIENyZWF0ZSB3cmFwcGVyIG9iamVjdFxyXG4gICAgICAgIHZhciB3cmFwcGVyID0ge307XHJcbiAgICAgICAgdmFyIF9sb29wXzEgPSBmdW5jdGlvbiAobWV0aG9kKSB7XHJcbiAgICAgICAgICAgIHdyYXBwZXJbbWV0aG9kXSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdjYWxsZWQgJyArIG1lbWJlcik7IC8vIHRyYWNrIG1ldGhvZCBjYWxscyBvbiB0aGUgcGxheWVyXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcGxheWVyW21ldGhvZF0uYXBwbHkocGxheWVyLCBhcmd1bWVudHMpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgLy8gQWRkIGZ1bmN0aW9uIHdyYXBwZXJzIGZvciBhbGwgQVBJIG1ldGhvZHMgdGhhdCBkbyBub3RoaW5nIGJ1dCBjYWxsaW5nIHRoZSBiYXNlIG1ldGhvZCBvbiB0aGUgcGxheWVyXHJcbiAgICAgICAgZm9yICh2YXIgX2EgPSAwLCBtZXRob2RzXzEgPSBtZXRob2RzOyBfYSA8IG1ldGhvZHNfMS5sZW5ndGg7IF9hKyspIHtcclxuICAgICAgICAgICAgdmFyIG1ldGhvZCA9IG1ldGhvZHNfMVtfYV07XHJcbiAgICAgICAgICAgIF9sb29wXzEobWV0aG9kKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIF9sb29wXzIgPSBmdW5jdGlvbiAocHJvcGVydHkpIHtcclxuICAgICAgICAgICAgLy8gR2V0IGFuIGV2ZW50dWFsbHkgZXhpc3RpbmcgcHJvcGVydHkgZGVzY3JpcHRvciB0byBkaWZmZXJlbnRpYXRlIGJldHdlZW4gcGxhaW4gcHJvcGVydGllcyBhbmQgcHJvcGVydGllcyB3aXRoXHJcbiAgICAgICAgICAgIC8vIGdldHRlcnMvc2V0dGVycy5cclxuICAgICAgICAgICAgdmFyIHByb3BlcnR5RGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IocGxheWVyLCBwcm9wZXJ0eSkgfHxcclxuICAgICAgICAgICAgICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoT2JqZWN0LmdldFByb3RvdHlwZU9mKHBsYXllciksIHByb3BlcnR5KTtcclxuICAgICAgICAgICAgLy8gSWYgdGhlIHByb3BlcnR5IGhhcyBnZXR0ZXJzL3NldHRlcnMsIHdyYXAgdGhlbSBhY2NvcmRpbmdseS4uLlxyXG4gICAgICAgICAgICBpZiAocHJvcGVydHlEZXNjcmlwdG9yICYmIChwcm9wZXJ0eURlc2NyaXB0b3IuZ2V0IHx8IHByb3BlcnR5RGVzY3JpcHRvci5zZXQpKSB7XHJcbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkod3JhcHBlciwgcHJvcGVydHksIHtcclxuICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHByb3BlcnR5RGVzY3JpcHRvci5nZXQuY2FsbChwbGF5ZXIpOyB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiBwcm9wZXJ0eURlc2NyaXB0b3Iuc2V0LmNhbGwocGxheWVyLCB2YWx1ZSk7IH0sXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyAuLi4gZWxzZSBqdXN0IHRyYW5zZmVyIHRoZSBwcm9wZXJ0eSB0byB0aGUgd3JhcHBlclxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHdyYXBwZXJbcHJvcGVydHldID0gcGxheWVyW3Byb3BlcnR5XTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgLy8gQWRkIGFsbCBwdWJsaWMgcHJvcGVydGllcyBvZiB0aGUgcGxheWVyIHRvIHRoZSB3cmFwcGVyXHJcbiAgICAgICAgZm9yICh2YXIgX2IgPSAwLCBwcm9wZXJ0aWVzXzEgPSBwcm9wZXJ0aWVzOyBfYiA8IHByb3BlcnRpZXNfMS5sZW5ndGg7IF9iKyspIHtcclxuICAgICAgICAgICAgdmFyIHByb3BlcnR5ID0gcHJvcGVydGllc18xW19iXTtcclxuICAgICAgICAgICAgX2xvb3BfMihwcm9wZXJ0eSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIEV4cGxpY2l0bHkgYWRkIGEgd3JhcHBlciBtZXRob2QgZm9yICdhZGRFdmVudEhhbmRsZXInIHRoYXQgYWRkcyBhZGRlZCBldmVudCBoYW5kbGVycyB0byB0aGUgZXZlbnQgbGlzdFxyXG4gICAgICAgIHdyYXBwZXIuYWRkRXZlbnRIYW5kbGVyID0gZnVuY3Rpb24gKGV2ZW50VHlwZSwgY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgLy8gaW4gcGxheWVyIFY4IGFkZEV2ZW50SGFuZGxlciB3YXMgcmVwbGFjZWQgYnkgb25cclxuICAgICAgICAgICAgaWYgKHBsYXllci5vbikge1xyXG4gICAgICAgICAgICAgICAgcGxheWVyLm9uKGV2ZW50VHlwZSwgY2FsbGJhY2spO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8ga2VlcCBiYWNrd2FyZCBjb21wYXRpYmlsaXR5IGZvciB2ZXJzaW9ucyA8Ny43XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKGV2ZW50VHlwZSwgY2FsbGJhY2spO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICghX3RoaXMuZXZlbnRIYW5kbGVyc1tldmVudFR5cGVdKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5ldmVudEhhbmRsZXJzW2V2ZW50VHlwZV0gPSBbXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBfdGhpcy5ldmVudEhhbmRsZXJzW2V2ZW50VHlwZV0ucHVzaChjYWxsYmFjayk7XHJcbiAgICAgICAgICAgIHJldHVybiB3cmFwcGVyO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgLy8gRXhwbGljaXRseSBhZGQgYSB3cmFwcGVyIG1ldGhvZCBmb3IgJ3JlbW92ZUV2ZW50SGFuZGxlcicgdGhhdCByZW1vdmVzIHJlbW92ZWQgZXZlbnQgaGFuZGxlcnMgZnJvbSB0aGUgZXZlbnQgbGlzdFxyXG4gICAgICAgIHdyYXBwZXIucmVtb3ZlRXZlbnRIYW5kbGVyID0gZnVuY3Rpb24gKGV2ZW50VHlwZSwgY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgaWYgKHBsYXllci5vZmYpIHtcclxuICAgICAgICAgICAgICAgIHBsYXllci5vZmYoZXZlbnRUeXBlLCBjYWxsYmFjayk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBrZWVwIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkgZm9yIHZlcnNpb25zIDw3LjdcclxuICAgICAgICAgICAgICAgIHBsYXllci5yZW1vdmVFdmVudEhhbmRsZXIoZXZlbnRUeXBlLCBjYWxsYmFjayk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKF90aGlzLmV2ZW50SGFuZGxlcnNbZXZlbnRUeXBlXSkge1xyXG4gICAgICAgICAgICAgICAgYXJyYXl1dGlsc18xLkFycmF5VXRpbHMucmVtb3ZlKF90aGlzLmV2ZW50SGFuZGxlcnNbZXZlbnRUeXBlXSwgY2FsbGJhY2spO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB3cmFwcGVyO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgd3JhcHBlci5maXJlRXZlbnRJblVJID0gZnVuY3Rpb24gKGV2ZW50LCBkYXRhKSB7XHJcbiAgICAgICAgICAgIGlmIChfdGhpcy5ldmVudEhhbmRsZXJzW2V2ZW50XSkgeyAvLyBjaGVjayBpZiB0aGVyZSBhcmUgaGFuZGxlcnMgZm9yIHRoaXMgZXZlbnQgcmVnaXN0ZXJlZFxyXG4gICAgICAgICAgICAgICAgLy8gRXh0ZW5kIHRoZSBkYXRhIG9iamVjdCB3aXRoIGRlZmF1bHQgdmFsdWVzIHRvIGNvbnZlcnQgaXQgdG8gYSB7QGxpbmsgUGxheWVyRXZlbnR9IG9iamVjdC5cclxuICAgICAgICAgICAgICAgIHZhciBwbGF5ZXJFdmVudERhdGEgPSBPYmplY3QuYXNzaWduKHt9LCB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IGV2ZW50LFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIEFkZCBhIG1hcmtlciBwcm9wZXJ0eSBzbyB0aGUgVUkgY2FuIGRldGVjdCBVSS1pbnRlcm5hbCBwbGF5ZXIgZXZlbnRzXHJcbiAgICAgICAgICAgICAgICAgICAgdWlTb3VyY2VkOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgfSwgZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAvLyBFeGVjdXRlIHRoZSByZWdpc3RlcmVkIGNhbGxiYWNrc1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IF90aGlzLmV2ZW50SGFuZGxlcnNbZXZlbnRdOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjYWxsYmFjayA9IF9hW19pXTtcclxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhwbGF5ZXJFdmVudERhdGEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLndyYXBwZXIgPSB3cmFwcGVyO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGEgd3JhcHBlZCBwbGF5ZXIgb2JqZWN0IHRoYXQgY2FuIGJlIHVzZWQgb24gcGxhY2Ugb2YgdGhlIG5vcm1hbCBwbGF5ZXIgb2JqZWN0LlxyXG4gICAgICogQHJldHVybnMge1dyYXBwZWRQbGF5ZXJ9IGEgd3JhcHBlZCBwbGF5ZXJcclxuICAgICAqL1xyXG4gICAgUGxheWVyV3JhcHBlci5wcm90b3R5cGUuZ2V0UGxheWVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLndyYXBwZXI7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBDbGVhcnMgYWxsIHJlZ2lzdGVyZWQgZXZlbnQgaGFuZGxlcnMgZnJvbSB0aGUgcGxheWVyIHRoYXQgd2VyZSBhZGRlZCB0aHJvdWdoIHRoZSB3cmFwcGVkIHBsYXllci5cclxuICAgICAqL1xyXG4gICAgUGxheWVyV3JhcHBlci5wcm90b3R5cGUuY2xlYXJFdmVudEhhbmRsZXJzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGZvciAodmFyIGV2ZW50VHlwZSBpbiB0aGlzLmV2ZW50SGFuZGxlcnMpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IHRoaXMuZXZlbnRIYW5kbGVyc1tldmVudFR5cGVdOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNhbGxiYWNrID0gX2FbX2ldO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIucmVtb3ZlRXZlbnRIYW5kbGVyKGV2ZW50VHlwZSwgY2FsbGJhY2spO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHJldHVybiBQbGF5ZXJXcmFwcGVyO1xyXG59KCkpO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL3VpbWFuYWdlci50c1xuLy8gbW9kdWxlIGlkID0gNzlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIEd1aWQ7XHJcbihmdW5jdGlvbiAoR3VpZCkge1xyXG4gICAgdmFyIGd1aWQgPSAxO1xyXG4gICAgZnVuY3Rpb24gbmV4dCgpIHtcclxuICAgICAgICByZXR1cm4gZ3VpZCsrO1xyXG4gICAgfVxyXG4gICAgR3VpZC5uZXh0ID0gbmV4dDtcclxufSkoR3VpZCA9IGV4cG9ydHMuR3VpZCB8fCAoZXhwb3J0cy5HdWlkID0ge30pKTtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9ndWlkLnRzXG4vLyBtb2R1bGUgaWQgPSA4MFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgc3RvcmFnZXV0aWxzXzEgPSByZXF1aXJlKFwiLi4vLi4vc3RvcmFnZXV0aWxzXCIpO1xyXG52YXIgY29tcG9uZW50XzEgPSByZXF1aXJlKFwiLi4vY29tcG9uZW50XCIpO1xyXG52YXIgZXZlbnRkaXNwYXRjaGVyXzEgPSByZXF1aXJlKFwiLi4vLi4vZXZlbnRkaXNwYXRjaGVyXCIpO1xyXG52YXIgU3VidGl0bGVTZXR0aW5nc01hbmFnZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBTdWJ0aXRsZVNldHRpbmdzTWFuYWdlcigpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMuX3Byb3BlcnRpZXMgPSB7XHJcbiAgICAgICAgICAgIGZvbnRDb2xvcjogbmV3IFN1YnRpdGxlU2V0dGluZ3NQcm9wZXJ0eSh0aGlzKSxcclxuICAgICAgICAgICAgZm9udE9wYWNpdHk6IG5ldyBTdWJ0aXRsZVNldHRpbmdzUHJvcGVydHkodGhpcyksXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6IG5ldyBTdWJ0aXRsZVNldHRpbmdzUHJvcGVydHkodGhpcyksXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiBuZXcgU3VidGl0bGVTZXR0aW5nc1Byb3BlcnR5KHRoaXMpLFxyXG4gICAgICAgICAgICBjaGFyYWN0ZXJFZGdlOiBuZXcgU3VidGl0bGVTZXR0aW5nc1Byb3BlcnR5KHRoaXMpLFxyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IG5ldyBTdWJ0aXRsZVNldHRpbmdzUHJvcGVydHkodGhpcyksXHJcbiAgICAgICAgICAgIGJhY2tncm91bmRPcGFjaXR5OiBuZXcgU3VidGl0bGVTZXR0aW5nc1Byb3BlcnR5KHRoaXMpLFxyXG4gICAgICAgICAgICB3aW5kb3dDb2xvcjogbmV3IFN1YnRpdGxlU2V0dGluZ3NQcm9wZXJ0eSh0aGlzKSxcclxuICAgICAgICAgICAgd2luZG93T3BhY2l0eTogbmV3IFN1YnRpdGxlU2V0dGluZ3NQcm9wZXJ0eSh0aGlzKSxcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMudXNlclNldHRpbmdzID0ge307XHJcbiAgICAgICAgdGhpcy5sb2NhbFN0b3JhZ2VLZXkgPSBEdW1teUNvbXBvbmVudC5pbnN0YW5jZSgpLnByZWZpeENzcygnc3VidGl0bGVzZXR0aW5ncycpO1xyXG4gICAgICAgIHZhciBfbG9vcF8xID0gZnVuY3Rpb24gKHByb3BlcnR5TmFtZSkge1xyXG4gICAgICAgICAgICB0aGlzXzEuX3Byb3BlcnRpZXNbcHJvcGVydHlOYW1lXS5vbkNoYW5nZWQuc3Vic2NyaWJlKGZ1bmN0aW9uIChzZW5kZXIsIHByb3BlcnR5KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocHJvcGVydHkuaXNTZXQoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnVzZXJTZXR0aW5nc1twcm9wZXJ0eU5hbWVdID0gcHJvcGVydHkudmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBEZWxldGUgdGhlIHByb3BlcnR5IGZyb20gdGhlIHNldHRpbmdzIG9iamVjdCBpZiB1bnNldCB0byBhdm9pZCBzZXJpYWxpemF0aW9uIG9mIG51bGwgdmFsdWVzXHJcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIF90aGlzLnVzZXJTZXR0aW5nc1twcm9wZXJ0eU5hbWVdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gU2F2ZSB0aGUgc2V0dGluZ3Mgb2JqZWN0IHdoZW4gYSBwcm9wZXJ0eSBoYXMgY2hhbmdlZFxyXG4gICAgICAgICAgICAgICAgX3RoaXMuc2F2ZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciB0aGlzXzEgPSB0aGlzO1xyXG4gICAgICAgIGZvciAodmFyIHByb3BlcnR5TmFtZSBpbiB0aGlzLl9wcm9wZXJ0aWVzKSB7XHJcbiAgICAgICAgICAgIF9sb29wXzEocHJvcGVydHlOYW1lKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5sb2FkKCk7XHJcbiAgICB9XHJcbiAgICBTdWJ0aXRsZVNldHRpbmdzTWFuYWdlci5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZm9yICh2YXIgcHJvcGVydHlOYW1lIGluIHRoaXMuX3Byb3BlcnRpZXMpIHtcclxuICAgICAgICAgICAgdGhpcy5fcHJvcGVydGllc1twcm9wZXJ0eU5hbWVdLmNsZWFyKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdWJ0aXRsZVNldHRpbmdzTWFuYWdlci5wcm90b3R5cGUsIFwiZm9udENvbG9yXCIsIHtcclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3Byb3BlcnRpZXMuZm9udENvbG9yO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN1YnRpdGxlU2V0dGluZ3NNYW5hZ2VyLnByb3RvdHlwZSwgXCJmb250T3BhY2l0eVwiLCB7XHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9wcm9wZXJ0aWVzLmZvbnRPcGFjaXR5O1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN1YnRpdGxlU2V0dGluZ3NNYW5hZ2VyLnByb3RvdHlwZSwgXCJmb250RmFtaWx5XCIsIHtcclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3Byb3BlcnRpZXMuZm9udEZhbWlseTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdWJ0aXRsZVNldHRpbmdzTWFuYWdlci5wcm90b3R5cGUsIFwiZm9udFNpemVcIiwge1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcHJvcGVydGllcy5mb250U2l6ZTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdWJ0aXRsZVNldHRpbmdzTWFuYWdlci5wcm90b3R5cGUsIFwiY2hhcmFjdGVyRWRnZVwiLCB7XHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9wcm9wZXJ0aWVzLmNoYXJhY3RlckVkZ2U7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3VidGl0bGVTZXR0aW5nc01hbmFnZXIucHJvdG90eXBlLCBcImJhY2tncm91bmRDb2xvclwiLCB7XHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9wcm9wZXJ0aWVzLmJhY2tncm91bmRDb2xvcjtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdWJ0aXRsZVNldHRpbmdzTWFuYWdlci5wcm90b3R5cGUsIFwiYmFja2dyb3VuZE9wYWNpdHlcIiwge1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcHJvcGVydGllcy5iYWNrZ3JvdW5kT3BhY2l0eTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdWJ0aXRsZVNldHRpbmdzTWFuYWdlci5wcm90b3R5cGUsIFwid2luZG93Q29sb3JcIiwge1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcHJvcGVydGllcy53aW5kb3dDb2xvcjtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdWJ0aXRsZVNldHRpbmdzTWFuYWdlci5wcm90b3R5cGUsIFwid2luZG93T3BhY2l0eVwiLCB7XHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9wcm9wZXJ0aWVzLndpbmRvd09wYWNpdHk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICAvKipcclxuICAgICAqIFNhdmVzIHRoZSBzZXR0aW5ncyB0byBsb2NhbCBzdG9yYWdlLlxyXG4gICAgICovXHJcbiAgICBTdWJ0aXRsZVNldHRpbmdzTWFuYWdlci5wcm90b3R5cGUuc2F2ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBzdG9yYWdldXRpbHNfMS5TdG9yYWdlVXRpbHMuc2V0T2JqZWN0KHRoaXMubG9jYWxTdG9yYWdlS2V5LCB0aGlzLnVzZXJTZXR0aW5ncyk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBMb2FkcyB0aGUgc2V0dGluZ3MgZnJvbSBsb2NhbCBzdG9yYWdlXHJcbiAgICAgKi9cclxuICAgIFN1YnRpdGxlU2V0dGluZ3NNYW5hZ2VyLnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMudXNlclNldHRpbmdzID0gc3RvcmFnZXV0aWxzXzEuU3RvcmFnZVV0aWxzLmdldE9iamVjdCh0aGlzLmxvY2FsU3RvcmFnZUtleSkgfHwge307XHJcbiAgICAgICAgLy8gQXBwbHkgdGhlIGxvYWRlZCBzZXR0aW5nc1xyXG4gICAgICAgIGZvciAodmFyIHByb3BlcnR5IGluIHRoaXMudXNlclNldHRpbmdzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3Byb3BlcnRpZXNbcHJvcGVydHldLnZhbHVlID0gdGhpcy51c2VyU2V0dGluZ3NbcHJvcGVydHldO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICByZXR1cm4gU3VidGl0bGVTZXR0aW5nc01hbmFnZXI7XHJcbn0oKSk7XHJcbmV4cG9ydHMuU3VidGl0bGVTZXR0aW5nc01hbmFnZXIgPSBTdWJ0aXRsZVNldHRpbmdzTWFuYWdlcjtcclxuLyoqXHJcbiAqIEEgZHVtbXkgY29tcG9uZW50IHdob3NlIHNvbGUgcHVycG9zZSBpcyB0byBleHBvc2UgdGhlIHtAbGluayAjcHJlZml4Q3NzfSBtZXRob2QgdG8gdGhlXHJcbiAqIHtAbGluayBTdWJ0aXRsZVNldHRpbmdzTWFuYWdlcn0uXHJcbiAqL1xyXG52YXIgRHVtbXlDb21wb25lbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoRHVtbXlDb21wb25lbnQsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBEdW1teUNvbXBvbmVudCgpIHtcclxuICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XHJcbiAgICB9XHJcbiAgICBEdW1teUNvbXBvbmVudC5pbnN0YW5jZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoIUR1bW15Q29tcG9uZW50Ll9pbnN0YW5jZSkge1xyXG4gICAgICAgICAgICBEdW1teUNvbXBvbmVudC5faW5zdGFuY2UgPSBuZXcgRHVtbXlDb21wb25lbnQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIER1bW15Q29tcG9uZW50Ll9pbnN0YW5jZTtcclxuICAgIH07XHJcbiAgICBEdW1teUNvbXBvbmVudC5wcm90b3R5cGUucHJlZml4Q3NzID0gZnVuY3Rpb24gKGNzc0NsYXNzT3JJZCkge1xyXG4gICAgICAgIHJldHVybiBfc3VwZXIucHJvdG90eXBlLnByZWZpeENzcy5jYWxsKHRoaXMsIGNzc0NsYXNzT3JJZCk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIER1bW15Q29tcG9uZW50O1xyXG59KGNvbXBvbmVudF8xLkNvbXBvbmVudCkpO1xyXG52YXIgU3VidGl0bGVTZXR0aW5nc1Byb3BlcnR5ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gU3VidGl0bGVTZXR0aW5nc1Byb3BlcnR5KG1hbmFnZXIpIHtcclxuICAgICAgICB0aGlzLl9tYW5hZ2VyID0gbWFuYWdlcjtcclxuICAgICAgICB0aGlzLl9vbkNoYW5nZWQgPSBuZXcgZXZlbnRkaXNwYXRjaGVyXzEuRXZlbnREaXNwYXRjaGVyKCk7XHJcbiAgICB9XHJcbiAgICBTdWJ0aXRsZVNldHRpbmdzUHJvcGVydHkucHJvdG90eXBlLmlzU2V0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl92YWx1ZSAhPSBudWxsO1xyXG4gICAgfTtcclxuICAgIFN1YnRpdGxlU2V0dGluZ3NQcm9wZXJ0eS5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5fdmFsdWUgPSBudWxsO1xyXG4gICAgICAgIHRoaXMub25DaGFuZ2VkRXZlbnQobnVsbCk7XHJcbiAgICB9O1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN1YnRpdGxlU2V0dGluZ3NQcm9wZXJ0eS5wcm90b3R5cGUsIFwidmFsdWVcIiwge1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdmFsdWU7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyAmJiB2YWx1ZSA9PT0gJ251bGwnKSB7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5fdmFsdWUgPSB2YWx1ZTtcclxuICAgICAgICAgICAgdGhpcy5vbkNoYW5nZWRFdmVudCh2YWx1ZSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBTdWJ0aXRsZVNldHRpbmdzUHJvcGVydHkucHJvdG90eXBlLm9uQ2hhbmdlZEV2ZW50ID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5fb25DaGFuZ2VkLmRpc3BhdGNoKHRoaXMuX21hbmFnZXIsIHRoaXMpO1xyXG4gICAgfTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdWJ0aXRsZVNldHRpbmdzUHJvcGVydHkucHJvdG90eXBlLCBcIm9uQ2hhbmdlZFwiLCB7XHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9vbkNoYW5nZWQuZ2V0RXZlbnQoKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIHJldHVybiBTdWJ0aXRsZVNldHRpbmdzUHJvcGVydHk7XHJcbn0oKSk7XHJcbmV4cG9ydHMuU3VidGl0bGVTZXR0aW5nc1Byb3BlcnR5ID0gU3VidGl0bGVTZXR0aW5nc1Byb3BlcnR5O1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvc3VidGl0bGVzZXR0aW5ncy9zdWJ0aXRsZXNldHRpbmdzbWFuYWdlci50c1xuLy8gbW9kdWxlIGlkID0gODFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGRvbV8xID0gcmVxdWlyZShcIi4vZG9tXCIpO1xyXG4vKipcclxuICogVHJhY2tzIHRoZSBsb2FkaW5nIHN0YXRlIG9mIGltYWdlcy5cclxuICovXHJcbnZhciBJbWFnZUxvYWRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIEltYWdlTG9hZGVyKCkge1xyXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7fTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogTG9hZHMgYW4gaW1hZ2UgYW5kIGNhbGwgdGhlIGNhbGxiYWNrIG9uY2UgdGhlIGltYWdlIGlzIGxvYWRlZC4gSWYgdGhlIGltYWdlIGlzIGFscmVhZHkgbG9hZGVkLCB0aGUgY2FsbGJhY2tcclxuICAgICAqIGlzIGNhbGxlZCBpbW1lZGlhdGVseSwgZWxzZSBpdCBpcyBjYWxsZWQgb25jZSBsb2FkaW5nIGhhcyBmaW5pc2hlZC4gQ2FsbGluZyB0aGlzIG1ldGhvZCBtdWx0aXBsZSB0aW1lcyBmb3IgdGhlXHJcbiAgICAgKiBzYW1lIGltYWdlIHdoaWxlIGl0IGlzIGxvYWRpbmcgY2FsbHMgb25seSBsZXQgY2FsbGJhY2sgcGFzc2VkIGludG8gdGhlIGxhc3QgY2FsbC5cclxuICAgICAqIEBwYXJhbSB1cmwgVGhlIHVybCB0byB0aGUgaW1hZ2UgdG8gbG9hZFxyXG4gICAgICogQHBhcmFtIGxvYWRlZENhbGxiYWNrIFRoZSBjYWxsYmFjayB0aGF0IGlzIGNhbGxlZCB3aGVuIHRoZSBpbWFnZSBpcyBsb2FkZWRcclxuICAgICAqL1xyXG4gICAgSW1hZ2VMb2FkZXIucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbiAodXJsLCBsb2FkZWRDYWxsYmFjaykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgaWYgKCF0aGlzLnN0YXRlW3VybF0pIHtcclxuICAgICAgICAgICAgLy8gV2hlbiB0aGUgaW1hZ2Ugd2FzIG5ldmVyIGF0dGVtcHRlZCB0byBiZSBsb2FkZWQgYmVmb3JlLCB3ZSBjcmVhdGUgYSBzdGF0ZSBhbmQgc3RvcmUgaXQgaW4gdGhlIHN0YXRlIG1hcFxyXG4gICAgICAgICAgICAvLyBmb3IgbGF0ZXIgdXNlIHdoZW4gdGhlIHNhbWUgaW1hZ2UgaXMgcmVxdWVzdGVkIHRvIGJlIGxvYWRlZCBhZ2Fpbi5cclxuICAgICAgICAgICAgdmFyIHN0YXRlXzEgPSB7XHJcbiAgICAgICAgICAgICAgICB1cmw6IHVybCxcclxuICAgICAgICAgICAgICAgIGltYWdlOiBuZXcgZG9tXzEuRE9NKCdpbWcnLCB7fSksXHJcbiAgICAgICAgICAgICAgICBsb2FkZWRDYWxsYmFjazogbG9hZGVkQ2FsbGJhY2ssXHJcbiAgICAgICAgICAgICAgICBsb2FkZWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgd2lkdGg6IDAsXHJcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IDAsXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGVbdXJsXSA9IHN0YXRlXzE7XHJcbiAgICAgICAgICAgIC8vIExpc3RlbiB0byB0aGUgbG9hZCBldmVudCwgdXBkYXRlIHRoZSBzdGF0ZSBhbmQgY2FsbCB0aGUgY2FsbGJhY2sgb25jZSB0aGUgaW1hZ2UgaXMgbG9hZGVkXHJcbiAgICAgICAgICAgIHN0YXRlXzEuaW1hZ2Uub24oJ2xvYWQnLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgc3RhdGVfMS5sb2FkZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgc3RhdGVfMS53aWR0aCA9IHN0YXRlXzEuaW1hZ2UuZ2V0KDApLndpZHRoO1xyXG4gICAgICAgICAgICAgICAgc3RhdGVfMS5oZWlnaHQgPSBzdGF0ZV8xLmltYWdlLmdldCgwKS5oZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5jYWxsTG9hZGVkQ2FsbGJhY2soc3RhdGVfMSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAvLyBTZXQgdGhlIGltYWdlIFVSTCB0byBzdGFydCB0aGUgbG9hZGluZ1xyXG4gICAgICAgICAgICBzdGF0ZV8xLmltYWdlLmF0dHIoJ3NyYycsIHN0YXRlXzEudXJsKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIFdlIGhhdmUgYSBzdGF0ZSBmb3IgdGhlIHJlcXVlc3RlZCBpbWFnZSwgc28gaXQgaXMgZWl0aGVyIGFscmVhZHkgbG9hZGVkIG9yIGN1cnJlbnRseSBsb2FkaW5nXHJcbiAgICAgICAgICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGVbdXJsXTtcclxuICAgICAgICAgICAgLy8gV2Ugb3ZlcndyaXRlIHRoZSBjYWxsYmFjayB0byBtYWtlIHN1cmUgdGhhdCBvbmx5IHRoZSBjYWxsYmFjayBvZiB0aGUgbGF0ZXN0IGNhbGwgZ2V0cyBleGVjdXRlZC5cclxuICAgICAgICAgICAgLy8gRWFybGllciBjYWxsYmFja3MgYmVjb21lIGludmFsaWQgb25jZSBhIG5ldyBsb2FkIGNhbGwgYXJyaXZlcywgYW5kIHRoZXkgYXJlIG5vdCBjYWxsZWQgYXMgbG9uZyBhcyB0aGUgaW1hZ2VcclxuICAgICAgICAgICAgLy8gaXMgbm90IGxvYWRlZC5cclxuICAgICAgICAgICAgc3RhdGUubG9hZGVkQ2FsbGJhY2sgPSBsb2FkZWRDYWxsYmFjaztcclxuICAgICAgICAgICAgLy8gV2hlbiB0aGUgaW1hZ2UgaXMgYWxyZWFkeSBsb2FkZWQsIHdlIGRpcmVjdGx5IGV4ZWN1dGUgdGhlIGNhbGxiYWNrIGluc3RlYWQgb2Ygd2FpdGluZyBmb3IgdGhlIGxvYWQgZXZlbnRcclxuICAgICAgICAgICAgaWYgKHN0YXRlLmxvYWRlZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jYWxsTG9hZGVkQ2FsbGJhY2soc3RhdGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIEltYWdlTG9hZGVyLnByb3RvdHlwZS5jYWxsTG9hZGVkQ2FsbGJhY2sgPSBmdW5jdGlvbiAoc3RhdGUpIHtcclxuICAgICAgICBzdGF0ZS5sb2FkZWRDYWxsYmFjayhzdGF0ZS51cmwsIHN0YXRlLndpZHRoLCBzdGF0ZS5oZWlnaHQpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBJbWFnZUxvYWRlcjtcclxufSgpKTtcclxuZXhwb3J0cy5JbWFnZUxvYWRlciA9IEltYWdlTG9hZGVyO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL2ltYWdlbG9hZGVyLnRzXG4vLyBtb2R1bGUgaWQgPSA4MlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgY29tcG9uZW50XzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRcIik7XHJcbnZhciBkb21fMSA9IHJlcXVpcmUoXCIuLi9kb21cIik7XHJcbi8qKlxyXG4gKiBBbmltYXRlZCBhbmFsb2cgVFYgc3RhdGljIG5vaXNlLlxyXG4gKi9cclxudmFyIFR2Tm9pc2VDYW52YXMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoVHZOb2lzZUNhbnZhcywgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIFR2Tm9pc2VDYW52YXMoY29uZmlnKSB7XHJcbiAgICAgICAgaWYgKGNvbmZpZyA9PT0gdm9pZCAwKSB7IGNvbmZpZyA9IHt9OyB9XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgY29uZmlnKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLmNhbnZhc1dpZHRoID0gMTYwO1xyXG4gICAgICAgIF90aGlzLmNhbnZhc0hlaWdodCA9IDkwO1xyXG4gICAgICAgIF90aGlzLmludGVyZmVyZW5jZUhlaWdodCA9IDUwO1xyXG4gICAgICAgIF90aGlzLmxhc3RGcmFtZVVwZGF0ZSA9IDA7XHJcbiAgICAgICAgX3RoaXMuZnJhbWVJbnRlcnZhbCA9IDYwO1xyXG4gICAgICAgIF90aGlzLnVzZUFuaW1hdGlvbkZyYW1lID0gISF3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lO1xyXG4gICAgICAgIF90aGlzLmNvbmZpZyA9IF90aGlzLm1lcmdlQ29uZmlnKGNvbmZpZywge1xyXG4gICAgICAgICAgICBjc3NDbGFzczogJ3VpLXR2bm9pc2VjYW52YXMnLFxyXG4gICAgICAgIH0sIF90aGlzLmNvbmZpZyk7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgVHZOb2lzZUNhbnZhcy5wcm90b3R5cGUudG9Eb21FbGVtZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNhbnZhcyA9IG5ldyBkb21fMS5ET00oJ2NhbnZhcycsIHsgJ2NsYXNzJzogdGhpcy5nZXRDc3NDbGFzc2VzKCkgfSk7XHJcbiAgICB9O1xyXG4gICAgVHZOb2lzZUNhbnZhcy5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5jYW52YXNFbGVtZW50ID0gdGhpcy5jYW52YXMuZ2V0KDApO1xyXG4gICAgICAgIHRoaXMuY2FudmFzQ29udGV4dCA9IHRoaXMuY2FudmFzRWxlbWVudC5nZXRDb250ZXh0KCcyZCcpO1xyXG4gICAgICAgIHRoaXMubm9pc2VBbmltYXRpb25XaW5kb3dQb3MgPSAtdGhpcy5jYW52YXNIZWlnaHQ7XHJcbiAgICAgICAgdGhpcy5sYXN0RnJhbWVVcGRhdGUgPSAwO1xyXG4gICAgICAgIHRoaXMuY2FudmFzRWxlbWVudC53aWR0aCA9IHRoaXMuY2FudmFzV2lkdGg7XHJcbiAgICAgICAgdGhpcy5jYW52YXNFbGVtZW50LmhlaWdodCA9IHRoaXMuY2FudmFzSGVpZ2h0O1xyXG4gICAgICAgIHRoaXMucmVuZGVyRnJhbWUoKTtcclxuICAgIH07XHJcbiAgICBUdk5vaXNlQ2FudmFzLnByb3RvdHlwZS5zdG9wID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnVzZUFuaW1hdGlvbkZyYW1lKSB7XHJcbiAgICAgICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMuZnJhbWVVcGRhdGVIYW5kbGVySWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuZnJhbWVVcGRhdGVIYW5kbGVySWQpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBUdk5vaXNlQ2FudmFzLnByb3RvdHlwZS5yZW5kZXJGcmFtZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyBUaGlzIGNvZGUgaGFzIGJlZW4gY29waWVkIGZyb20gdGhlIHBsYXllciBjb250cm9scy5qcyBhbmQgc2ltcGxpZmllZFxyXG4gICAgICAgIGlmICh0aGlzLmxhc3RGcmFtZVVwZGF0ZSArIHRoaXMuZnJhbWVJbnRlcnZhbCA+IG5ldyBEYXRlKCkuZ2V0VGltZSgpKSB7XHJcbiAgICAgICAgICAgIC8vIEl0J3MgdG9vIGVhcmx5IHRvIHJlbmRlciB0aGUgbmV4dCBmcmFtZVxyXG4gICAgICAgICAgICB0aGlzLnNjaGVkdWxlTmV4dFJlbmRlcigpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBjdXJyZW50UGl4ZWxPZmZzZXQ7XHJcbiAgICAgICAgdmFyIGNhbnZhc1dpZHRoID0gdGhpcy5jYW52YXNXaWR0aDtcclxuICAgICAgICB2YXIgY2FudmFzSGVpZ2h0ID0gdGhpcy5jYW52YXNIZWlnaHQ7XHJcbiAgICAgICAgLy8gQ3JlYXRlIHRleHR1cmVcclxuICAgICAgICB2YXIgbm9pc2VJbWFnZSA9IHRoaXMuY2FudmFzQ29udGV4dC5jcmVhdGVJbWFnZURhdGEoY2FudmFzV2lkdGgsIGNhbnZhc0hlaWdodCk7XHJcbiAgICAgICAgLy8gRmlsbCB0ZXh0dXJlIHdpdGggbm9pc2VcclxuICAgICAgICBmb3IgKHZhciB5ID0gMDsgeSA8IGNhbnZhc0hlaWdodDsgeSsrKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgY2FudmFzV2lkdGg7IHgrKykge1xyXG4gICAgICAgICAgICAgICAgY3VycmVudFBpeGVsT2Zmc2V0ID0gKGNhbnZhc1dpZHRoICogeSAqIDQpICsgeCAqIDQ7XHJcbiAgICAgICAgICAgICAgICBub2lzZUltYWdlLmRhdGFbY3VycmVudFBpeGVsT2Zmc2V0XSA9IE1hdGgucmFuZG9tKCkgKiAyNTU7XHJcbiAgICAgICAgICAgICAgICBpZiAoeSA8IHRoaXMubm9pc2VBbmltYXRpb25XaW5kb3dQb3MgfHwgeSA+IHRoaXMubm9pc2VBbmltYXRpb25XaW5kb3dQb3MgKyB0aGlzLmludGVyZmVyZW5jZUhlaWdodCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG5vaXNlSW1hZ2UuZGF0YVtjdXJyZW50UGl4ZWxPZmZzZXRdICo9IDAuODU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBub2lzZUltYWdlLmRhdGFbY3VycmVudFBpeGVsT2Zmc2V0ICsgMV0gPSBub2lzZUltYWdlLmRhdGFbY3VycmVudFBpeGVsT2Zmc2V0XTtcclxuICAgICAgICAgICAgICAgIG5vaXNlSW1hZ2UuZGF0YVtjdXJyZW50UGl4ZWxPZmZzZXQgKyAyXSA9IG5vaXNlSW1hZ2UuZGF0YVtjdXJyZW50UGl4ZWxPZmZzZXRdO1xyXG4gICAgICAgICAgICAgICAgbm9pc2VJbWFnZS5kYXRhW2N1cnJlbnRQaXhlbE9mZnNldCArIDNdID0gNTA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gUHV0IHRleHR1cmUgb250byBjYW52YXNcclxuICAgICAgICB0aGlzLmNhbnZhc0NvbnRleHQucHV0SW1hZ2VEYXRhKG5vaXNlSW1hZ2UsIDAsIDApO1xyXG4gICAgICAgIHRoaXMubGFzdEZyYW1lVXBkYXRlID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XHJcbiAgICAgICAgdGhpcy5ub2lzZUFuaW1hdGlvbldpbmRvd1BvcyArPSA3O1xyXG4gICAgICAgIGlmICh0aGlzLm5vaXNlQW5pbWF0aW9uV2luZG93UG9zID4gY2FudmFzSGVpZ2h0KSB7XHJcbiAgICAgICAgICAgIHRoaXMubm9pc2VBbmltYXRpb25XaW5kb3dQb3MgPSAtY2FudmFzSGVpZ2h0O1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnNjaGVkdWxlTmV4dFJlbmRlcigpO1xyXG4gICAgfTtcclxuICAgIFR2Tm9pc2VDYW52YXMucHJvdG90eXBlLnNjaGVkdWxlTmV4dFJlbmRlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodGhpcy51c2VBbmltYXRpb25GcmFtZSkge1xyXG4gICAgICAgICAgICB0aGlzLmZyYW1lVXBkYXRlSGFuZGxlcklkID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLnJlbmRlckZyYW1lLmJpbmQodGhpcykpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5mcmFtZVVwZGF0ZUhhbmRsZXJJZCA9IHNldFRpbWVvdXQodGhpcy5yZW5kZXJGcmFtZS5iaW5kKHRoaXMpLCB0aGlzLmZyYW1lSW50ZXJ2YWwpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICByZXR1cm4gVHZOb2lzZUNhbnZhcztcclxufShjb21wb25lbnRfMS5Db21wb25lbnQpKTtcclxuZXhwb3J0cy5Udk5vaXNlQ2FudmFzID0gVHZOb2lzZUNhbnZhcztcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3R2bm9pc2VjYW52YXMudHNcbi8vIG1vZHVsZSBpZCA9IDgzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBjb250YWluZXJfMSA9IHJlcXVpcmUoXCIuL2NvbnRhaW5lclwiKTtcclxudmFyIGNvbXBvbmVudF8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50XCIpO1xyXG52YXIgdGltZW91dF8xID0gcmVxdWlyZShcIi4uL3RpbWVvdXRcIik7XHJcbi8qKlxyXG4gKiBPdmVybGF5cyB0aGUgcGxheWVyIGFuZCBkaXNwbGF5cyBhbiBhdWRpby1vbmx5IGluZGljYXRvci5cclxuICovXHJcbnZhciBBdWRpb09ubHlPdmVybGF5ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKEF1ZGlvT25seU92ZXJsYXksIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBBdWRpb09ubHlPdmVybGF5KGNvbmZpZykge1xyXG4gICAgICAgIGlmIChjb25maWcgPT09IHZvaWQgMCkgeyBjb25maWcgPSB7fTsgfVxyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGNvbmZpZykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5pbmRpY2F0b3JDb25maWcgPSBbXHJcbiAgICAgICAgICAgIG5ldyBjb21wb25lbnRfMS5Db21wb25lbnQoeyB0YWc6ICdkaXYnLCBjc3NDbGFzczogJ3VpLWF1ZGlvb25seS1vdmVybGF5LWluZGljYXRvcicsIGhpZGRlbjogdHJ1ZSB9KSxcclxuICAgICAgICBdO1xyXG4gICAgICAgIF90aGlzLmNvbmZpZyA9IF90aGlzLm1lcmdlQ29uZmlnKGNvbmZpZywge1xyXG4gICAgICAgICAgICBjc3NDbGFzczogJ3VpLWF1ZGlvb25seS1vdmVybGF5JyxcclxuICAgICAgICAgICAgaGlkZGVuOiBmYWxzZSxcclxuICAgICAgICAgICAgY29tcG9uZW50czogX3RoaXMuaW5kaWNhdG9yQ29uZmlnLFxyXG4gICAgICAgIH0sIF90aGlzLmNvbmZpZyk7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgQXVkaW9Pbmx5T3ZlcmxheS5wcm90b3R5cGUuY29uZmlndXJlID0gZnVuY3Rpb24gKHBsYXllciwgdWltYW5hZ2VyKSB7XHJcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5jb25maWd1cmUuY2FsbCh0aGlzLCBwbGF5ZXIsIHVpbWFuYWdlcik7XHJcbiAgICAgICAgdGhpcy5jb21wb25lbnRDb25maWcgPSB1aW1hbmFnZXIuZ2V0Q29uZmlnKCkuYXVkaW9Pbmx5T3ZlcmxheUNvbmZpZyB8fCB7fTtcclxuICAgICAgICB2YXIgY29uZmlnID0gdGhpcy5nZXRDb25maWcoKTtcclxuICAgICAgICB2YXIgaW5kaWNhdG9yID0gY29uZmlnLmNvbXBvbmVudHNbMF07XHJcbiAgICAgICAgdmFyIGJhY2tncm91bmRJbWFnZVVybCA9IHRoaXMuY29tcG9uZW50Q29uZmlnLmJhY2tncm91bmRJbWFnZVVybDtcclxuICAgICAgICB2YXIgZWxlbWVudCA9IHRoaXMuZ2V0RG9tRWxlbWVudCgpO1xyXG4gICAgICAgIHZhciBzaG93QmFja2dyb3VuZEltYWdlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBlbGVtZW50LmNzcygnYmFja2dyb3VuZEltYWdlJywgXCJ1cmwoXCIgKyBiYWNrZ3JvdW5kSW1hZ2VVcmwgKyBcIilcIik7XHJcbiAgICAgICAgICAgIGVsZW1lbnQuY3NzKCdiYWNrZ3JvdW5kU2l6ZScsICdjb250YWluJyk7XHJcbiAgICAgICAgICAgIGVsZW1lbnQuY3NzKCdiYWNrZ3JvdW5kQ29sb3InLCAnIzAwMDAwMCcpO1xyXG4gICAgICAgICAgICBlbGVtZW50LmNzcygnYW5pbWF0aW9uJywgJ25vbmUnKTtcclxuICAgICAgICAgICAgZWxlbWVudC5jc3MoJ2JhY2tncm91bmRQb3NpdGlvbicsICdjZW50ZXInKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciBvdmVybGF5U2hvd1RpbWVvdXQgPSBuZXcgdGltZW91dF8xLlRpbWVvdXQoNDAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGluZGljYXRvci5zaG93KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdmFyIHNob3dPdmVybGF5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBvdmVybGF5U2hvd1RpbWVvdXQuc3RhcnQoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciBoaWRlT3ZlcmxheSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgb3ZlcmxheVNob3dUaW1lb3V0LmNsZWFyKCk7XHJcbiAgICAgICAgICAgIGluZGljYXRvci5oaWRlKCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBpZiAoYmFja2dyb3VuZEltYWdlVXJsKSB7XHJcbiAgICAgICAgICAgIHNob3dCYWNrZ3JvdW5kSW1hZ2UoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCF0aGlzLmNvbXBvbmVudENvbmZpZy5oaWRkZUluZGljYXRvcikge1xyXG4gICAgICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9QTEFZLCBzaG93T3ZlcmxheSk7XHJcbiAgICAgICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1BBVVNFRCwgaGlkZU92ZXJsYXkpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICByZXR1cm4gQXVkaW9Pbmx5T3ZlcmxheTtcclxufShjb250YWluZXJfMS5Db250YWluZXIpKTtcclxuZXhwb3J0cy5BdWRpb09ubHlPdmVybGF5ID0gQXVkaW9Pbmx5T3ZlcmxheTtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL2F1ZGlvb25seW92ZXJsYXkudHNcbi8vIG1vZHVsZSBpZCA9IDg0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBsaXN0c2VsZWN0b3JfMSA9IHJlcXVpcmUoXCIuL2xpc3RzZWxlY3RvclwiKTtcclxudmFyIGRvbV8xID0gcmVxdWlyZShcIi4uL2RvbVwiKTtcclxudmFyIEl0ZW1TZWxlY3Rpb25MaXN0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKEl0ZW1TZWxlY3Rpb25MaXN0LCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gSXRlbVNlbGVjdGlvbkxpc3QoY29uZmlnKSB7XHJcbiAgICAgICAgaWYgKGNvbmZpZyA9PT0gdm9pZCAwKSB7IGNvbmZpZyA9IHt9OyB9XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgY29uZmlnKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLmNvbmZpZyA9IF90aGlzLm1lcmdlQ29uZmlnKGNvbmZpZywge1xyXG4gICAgICAgICAgICB0YWc6ICd1bCcsXHJcbiAgICAgICAgICAgIGNzc0NsYXNzOiAndWktaXRlbXNlbGVjdGlvbmxpc3QnLFxyXG4gICAgICAgIH0sIF90aGlzLmNvbmZpZyk7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgSXRlbVNlbGVjdGlvbkxpc3QucHJvdG90eXBlLmlzQWN0aXZlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLml0ZW1zLmxlbmd0aCA+IDE7XHJcbiAgICB9O1xyXG4gICAgSXRlbVNlbGVjdGlvbkxpc3QucHJvdG90eXBlLnRvRG9tRWxlbWVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgbGlzdEVsZW1lbnQgPSBuZXcgZG9tXzEuRE9NKCd1bCcsIHtcclxuICAgICAgICAgICAgJ2lkJzogdGhpcy5jb25maWcuaWQsXHJcbiAgICAgICAgICAgICdjbGFzcyc6IHRoaXMuZ2V0Q3NzQ2xhc3NlcygpLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMubGlzdEVsZW1lbnQgPSBsaXN0RWxlbWVudDtcclxuICAgICAgICB0aGlzLnVwZGF0ZURvbUl0ZW1zKCk7XHJcbiAgICAgICAgcmV0dXJuIGxpc3RFbGVtZW50O1xyXG4gICAgfTtcclxuICAgIEl0ZW1TZWxlY3Rpb25MaXN0LnByb3RvdHlwZS51cGRhdGVEb21JdGVtcyA9IGZ1bmN0aW9uIChzZWxlY3RlZFZhbHVlKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBpZiAoc2VsZWN0ZWRWYWx1ZSA9PT0gdm9pZCAwKSB7IHNlbGVjdGVkVmFsdWUgPSBudWxsOyB9XHJcbiAgICAgICAgLy8gRGVsZXRlIGFsbCBjaGlsZHJlblxyXG4gICAgICAgIHRoaXMubGlzdEVsZW1lbnQuZW1wdHkoKTtcclxuICAgICAgICB2YXIgc2VsZWN0ZWRMaXN0SXRlbSA9IG51bGw7XHJcbiAgICAgICAgdmFyIHNlbGVjdEl0ZW0gPSBmdW5jdGlvbiAobGlzdEl0ZW0pIHtcclxuICAgICAgICAgICAgbGlzdEl0ZW0uYWRkQ2xhc3MoX3RoaXMucHJlZml4Q3NzKEl0ZW1TZWxlY3Rpb25MaXN0LkNMQVNTX1NFTEVDVEVEKSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB2YXIgZGVzZWxlY3RJdGVtID0gZnVuY3Rpb24gKGxpc3RJdGVtKSB7XHJcbiAgICAgICAgICAgIGxpc3RJdGVtLnJlbW92ZUNsYXNzKF90aGlzLnByZWZpeENzcyhJdGVtU2VsZWN0aW9uTGlzdC5DTEFTU19TRUxFQ1RFRCkpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdmFyIF9sb29wXzEgPSBmdW5jdGlvbiAoaXRlbSkge1xyXG4gICAgICAgICAgICB2YXIgbGlzdEl0ZW0gPSBuZXcgZG9tXzEuRE9NKCdsaScsIHtcclxuICAgICAgICAgICAgICAgICd0eXBlJzogJ2xpJyxcclxuICAgICAgICAgICAgICAgICdjbGFzcyc6IHRoaXNfMS5wcmVmaXhDc3MoJ3VpLXNlbGVjdGlvbmxpc3RpdGVtJyksXHJcbiAgICAgICAgICAgIH0pLmFwcGVuZChuZXcgZG9tXzEuRE9NKCdhJywge30pLmh0bWwoaXRlbS5sYWJlbCkpO1xyXG4gICAgICAgICAgICBpZiAoIXNlbGVjdGVkTGlzdEl0ZW0pIHtcclxuICAgICAgICAgICAgICAgIGlmIChzZWxlY3RlZFZhbHVlID09IG51bGwpIHsgLy8gSWYgdGhlcmUgaXMgbm8gcHJlLXNlbGVjdGVkIHZhbHVlLCBzZWxlY3QgdGhlIGZpcnN0IG9uZVxyXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkTGlzdEl0ZW0gPSBsaXN0SXRlbTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKFN0cmluZyhzZWxlY3RlZFZhbHVlKSA9PT0gaXRlbS5rZXkpIHsgLy8gY29udmVydCBzZWxlY3RlZFZhbHVlIHRvIHN0cmluZyB0byBjYXRjaCAnbnVsbCcvbnVsbCBjYXNlXHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRMaXN0SXRlbSA9IGxpc3RJdGVtO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIEhhbmRsZSBsaXN0IGl0ZW0gc2VsZWN0aW9uc1xyXG4gICAgICAgICAgICBsaXN0SXRlbS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBEZXNlbGVjdCB0aGUgcHJldmlvdXMgaXRlbSAoaWYgdGhlcmUgd2FzIGEgc2VsZWN0ZWQgaXRlbSlcclxuICAgICAgICAgICAgICAgIGlmIChzZWxlY3RlZExpc3RJdGVtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVzZWxlY3RJdGVtKHNlbGVjdGVkTGlzdEl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gU2VsZWN0IHRoZSBjbGlja2VkIGl0ZW1cclxuICAgICAgICAgICAgICAgIHNlbGVjdGVkTGlzdEl0ZW0gPSBsaXN0SXRlbTtcclxuICAgICAgICAgICAgICAgIHNlbGVjdEl0ZW0obGlzdEl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgLy8gRmlyZSB0aGUgZXZlbnRcclxuICAgICAgICAgICAgICAgIF90aGlzLm9uSXRlbVNlbGVjdGVkRXZlbnQoaXRlbS5rZXksIGZhbHNlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIC8vIFNlbGVjdCBkZWZhdWx0IGl0ZW1cclxuICAgICAgICAgICAgaWYgKHNlbGVjdGVkTGlzdEl0ZW0pIHtcclxuICAgICAgICAgICAgICAgIHNlbGVjdEl0ZW0oc2VsZWN0ZWRMaXN0SXRlbSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpc18xLmxpc3RFbGVtZW50LmFwcGVuZChsaXN0SXRlbSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB2YXIgdGhpc18xID0gdGhpcztcclxuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gdGhpcy5pdGVtczsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgdmFyIGl0ZW0gPSBfYVtfaV07XHJcbiAgICAgICAgICAgIF9sb29wXzEoaXRlbSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIEl0ZW1TZWxlY3Rpb25MaXN0LnByb3RvdHlwZS5vbkl0ZW1BZGRlZEV2ZW50ID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5vbkl0ZW1BZGRlZEV2ZW50LmNhbGwodGhpcywgdmFsdWUpO1xyXG4gICAgICAgIHRoaXMudXBkYXRlRG9tSXRlbXModGhpcy5zZWxlY3RlZEl0ZW0pO1xyXG4gICAgfTtcclxuICAgIEl0ZW1TZWxlY3Rpb25MaXN0LnByb3RvdHlwZS5vbkl0ZW1SZW1vdmVkRXZlbnQgPSBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLm9uSXRlbVJlbW92ZWRFdmVudC5jYWxsKHRoaXMsIHZhbHVlKTtcclxuICAgICAgICB0aGlzLnVwZGF0ZURvbUl0ZW1zKHRoaXMuc2VsZWN0ZWRJdGVtKTtcclxuICAgIH07XHJcbiAgICBJdGVtU2VsZWN0aW9uTGlzdC5wcm90b3R5cGUub25JdGVtU2VsZWN0ZWRFdmVudCA9IGZ1bmN0aW9uICh2YWx1ZSwgdXBkYXRlRG9tSXRlbXMpIHtcclxuICAgICAgICBpZiAodXBkYXRlRG9tSXRlbXMgPT09IHZvaWQgMCkgeyB1cGRhdGVEb21JdGVtcyA9IHRydWU7IH1cclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLm9uSXRlbVNlbGVjdGVkRXZlbnQuY2FsbCh0aGlzLCB2YWx1ZSk7XHJcbiAgICAgICAgaWYgKHVwZGF0ZURvbUl0ZW1zKSB7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlRG9tSXRlbXModmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBJdGVtU2VsZWN0aW9uTGlzdC5DTEFTU19TRUxFQ1RFRCA9ICdzZWxlY3RlZCc7XHJcbiAgICByZXR1cm4gSXRlbVNlbGVjdGlvbkxpc3Q7XHJcbn0obGlzdHNlbGVjdG9yXzEuTGlzdFNlbGVjdG9yKSk7XHJcbmV4cG9ydHMuSXRlbVNlbGVjdGlvbkxpc3QgPSBJdGVtU2VsZWN0aW9uTGlzdDtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL2l0ZW1zZWxlY3Rpb25saXN0LnRzXG4vLyBtb2R1bGUgaWQgPSA4NVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgY2xpY2tvdmVybGF5XzEgPSByZXF1aXJlKFwiLi9jbGlja292ZXJsYXlcIik7XHJcbi8qKlxyXG4gKiBBIHdhdGVybWFyayBvdmVybGF5IHdpdGggYSBjbGlja2FibGUgbG9nby5cclxuICovXHJcbnZhciBXYXRlcm1hcmsgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoV2F0ZXJtYXJrLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gV2F0ZXJtYXJrKGNvbmZpZykge1xyXG4gICAgICAgIGlmIChjb25maWcgPT09IHZvaWQgMCkgeyBjb25maWcgPSB7fTsgfVxyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGNvbmZpZykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5jb25maWcgPSBfdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIHtcclxuICAgICAgICAgICAgY3NzQ2xhc3M6ICd1aS13YXRlcm1hcmsnLFxyXG4gICAgICAgICAgICB1cmw6ICdodHRwOi8vYml0bW92aW4uY29tJyxcclxuICAgICAgICB9LCBfdGhpcy5jb25maWcpO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIHJldHVybiBXYXRlcm1hcms7XHJcbn0oY2xpY2tvdmVybGF5XzEuQ2xpY2tPdmVybGF5KSk7XHJcbmV4cG9ydHMuV2F0ZXJtYXJrID0gV2F0ZXJtYXJrO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvd2F0ZXJtYXJrLnRzXG4vLyBtb2R1bGUgaWQgPSA4NlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgY29udGFpbmVyXzEgPSByZXF1aXJlKFwiLi9jb250YWluZXJcIik7XHJcbnZhciB2b2x1bWVzbGlkZXJfMSA9IHJlcXVpcmUoXCIuL3ZvbHVtZXNsaWRlclwiKTtcclxudmFyIHZvbHVtZXRvZ2dsZWJ1dHRvbl8xID0gcmVxdWlyZShcIi4vdm9sdW1ldG9nZ2xlYnV0dG9uXCIpO1xyXG52YXIgdGltZW91dF8xID0gcmVxdWlyZShcIi4uL3RpbWVvdXRcIik7XHJcbi8qKlxyXG4gKiBBIGNvbXBvc2l0ZSB2b2x1bWUgY29udHJvbCB0aGF0IGNvbnNpc3RzIG9mIGFuZCBpbnRlcm5hbGx5IG1hbmFnZXMgYSB2b2x1bWUgY29udHJvbCBidXR0b24gdGhhdCBjYW4gYmUgdXNlZFxyXG4gKiBmb3IgbXV0aW5nLCBhbmQgYSAoZGVwZW5kaW5nIG9uIHRoZSBDU1Mgc3R5bGUsIGUuZy4gc2xpZGUtb3V0KSB2b2x1bWUgY29udHJvbCBiYXIuXHJcbiAqL1xyXG52YXIgVm9sdW1lQ29udHJvbEJ1dHRvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhWb2x1bWVDb250cm9sQnV0dG9uLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gVm9sdW1lQ29udHJvbEJ1dHRvbihjb25maWcpIHtcclxuICAgICAgICBpZiAoY29uZmlnID09PSB2b2lkIDApIHsgY29uZmlnID0ge307IH1cclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBjb25maWcpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMudm9sdW1lVG9nZ2xlQnV0dG9uID0gbmV3IHZvbHVtZXRvZ2dsZWJ1dHRvbl8xLlZvbHVtZVRvZ2dsZUJ1dHRvbigpO1xyXG4gICAgICAgIF90aGlzLnZvbHVtZVNsaWRlciA9IG5ldyB2b2x1bWVzbGlkZXJfMS5Wb2x1bWVTbGlkZXIoe1xyXG4gICAgICAgICAgICB2ZXJ0aWNhbDogY29uZmlnLnZlcnRpY2FsICE9IG51bGwgPyBjb25maWcudmVydGljYWwgOiB0cnVlLFxyXG4gICAgICAgICAgICBoaWRkZW46IHRydWUsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgX3RoaXMuY29uZmlnID0gX3RoaXMubWVyZ2VDb25maWcoY29uZmlnLCB7XHJcbiAgICAgICAgICAgIGNzc0NsYXNzOiAndWktdm9sdW1lY29udHJvbGJ1dHRvbicsXHJcbiAgICAgICAgICAgIGNvbXBvbmVudHM6IFtfdGhpcy52b2x1bWVUb2dnbGVCdXR0b24sIF90aGlzLnZvbHVtZVNsaWRlcl0sXHJcbiAgICAgICAgICAgIGhpZGVEZWxheTogNTAwLFxyXG4gICAgICAgIH0sIF90aGlzLmNvbmZpZyk7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgVm9sdW1lQ29udHJvbEJ1dHRvbi5wcm90b3R5cGUuY29uZmlndXJlID0gZnVuY3Rpb24gKHBsYXllciwgdWltYW5hZ2VyKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmNvbmZpZ3VyZS5jYWxsKHRoaXMsIHBsYXllciwgdWltYW5hZ2VyKTtcclxuICAgICAgICB2YXIgdm9sdW1lVG9nZ2xlQnV0dG9uID0gdGhpcy5nZXRWb2x1bWVUb2dnbGVCdXR0b24oKTtcclxuICAgICAgICB2YXIgdm9sdW1lU2xpZGVyID0gdGhpcy5nZXRWb2x1bWVTbGlkZXIoKTtcclxuICAgICAgICB0aGlzLnZvbHVtZVNsaWRlckhpZGVUaW1lb3V0ID0gbmV3IHRpbWVvdXRfMS5UaW1lb3V0KHRoaXMuZ2V0Q29uZmlnKCkuaGlkZURlbGF5LCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZvbHVtZVNsaWRlci5oaWRlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLypcclxuICAgICAgICAgKiBWb2x1bWUgU2xpZGVyIHZpc2liaWxpdHkgaGFuZGxpbmdcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIFRoZSB2b2x1bWUgc2xpZGVyIHNoYWxsIGJlIHZpc2libGUgd2hpbGUgdGhlIHVzZXIgaG92ZXJzIHRoZSBtdXRlIHRvZ2dsZSBidXR0b24sIHdoaWxlIHRoZSB1c2VyIGhvdmVycyB0aGVcclxuICAgICAgICAgKiB2b2x1bWUgc2xpZGVyLCBhbmQgd2hpbGUgdGhlIHVzZXIgc2xpZGVzIHRoZSB2b2x1bWUgc2xpZGVyLiBJZiBub25lIG9mIHRoZXNlIHNpdHVhdGlvbnMgYXJlIHRydWUsIHRoZSBzbGlkZXJcclxuICAgICAgICAgKiBzaGFsbCBkaXNhcHBlYXIuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdmFyIHZvbHVtZVNsaWRlckhvdmVyZWQgPSBmYWxzZTtcclxuICAgICAgICB2b2x1bWVUb2dnbGVCdXR0b24uZ2V0RG9tRWxlbWVudCgpLm9uKCdtb3VzZWVudGVyJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAvLyBTaG93IHZvbHVtZSBzbGlkZXIgd2hlbiBtb3VzZSBlbnRlcnMgdGhlIGJ1dHRvbiBhcmVhXHJcbiAgICAgICAgICAgIGlmICh2b2x1bWVTbGlkZXIuaXNIaWRkZW4oKSkge1xyXG4gICAgICAgICAgICAgICAgdm9sdW1lU2xpZGVyLnNob3coKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBBdm9pZCBoaWRpbmcgb2YgdGhlIHNsaWRlciB3aGVuIGJ1dHRvbiBpcyBob3ZlcmVkXHJcbiAgICAgICAgICAgIF90aGlzLnZvbHVtZVNsaWRlckhpZGVUaW1lb3V0LmNsZWFyKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdm9sdW1lVG9nZ2xlQnV0dG9uLmdldERvbUVsZW1lbnQoKS5vbignbW91c2VsZWF2ZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgLy8gSGlkZSBzbGlkZXIgZGVsYXllZCB3aGVuIGJ1dHRvbiBpcyBsZWZ0XHJcbiAgICAgICAgICAgIF90aGlzLnZvbHVtZVNsaWRlckhpZGVUaW1lb3V0LnJlc2V0KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdm9sdW1lU2xpZGVyLmdldERvbUVsZW1lbnQoKS5vbignbW91c2VlbnRlcicsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgLy8gV2hlbiB0aGUgc2xpZGVyIGlzIGVudGVyZWQsIGNhbmNlbCB0aGUgaGlkZSB0aW1lb3V0IGFjdGl2YXRlZCBieSBsZWF2aW5nIHRoZSBidXR0b25cclxuICAgICAgICAgICAgX3RoaXMudm9sdW1lU2xpZGVySGlkZVRpbWVvdXQuY2xlYXIoKTtcclxuICAgICAgICAgICAgdm9sdW1lU2xpZGVySG92ZXJlZCA9IHRydWU7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdm9sdW1lU2xpZGVyLmdldERvbUVsZW1lbnQoKS5vbignbW91c2VsZWF2ZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgLy8gV2hlbiBtb3VzZSBsZWF2ZXMgdGhlIHNsaWRlciwgb25seSBoaWRlIGl0IGlmIHRoZXJlIGlzIG5vIHNsaWRlIG9wZXJhdGlvbiBpbiBwcm9ncmVzc1xyXG4gICAgICAgICAgICBpZiAodm9sdW1lU2xpZGVyLmlzU2Vla2luZygpKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy52b2x1bWVTbGlkZXJIaWRlVGltZW91dC5jbGVhcigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMudm9sdW1lU2xpZGVySGlkZVRpbWVvdXQucmVzZXQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2b2x1bWVTbGlkZXJIb3ZlcmVkID0gZmFsc2U7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdm9sdW1lU2xpZGVyLm9uU2Vla2VkLnN1YnNjcmliZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIC8vIFdoZW4gYSBzbGlkZSBvcGVyYXRpb24gaXMgZG9uZSBhbmQgdGhlIHNsaWRlciBub3QgaG92ZXJlZCAobW91c2Ugb3V0c2lkZSBzbGlkZXIpLCBoaWRlIHNsaWRlciBkZWxheWVkXHJcbiAgICAgICAgICAgIGlmICghdm9sdW1lU2xpZGVySG92ZXJlZCkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMudm9sdW1lU2xpZGVySGlkZVRpbWVvdXQucmVzZXQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIFZvbHVtZUNvbnRyb2xCdXR0b24ucHJvdG90eXBlLnJlbGVhc2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5yZWxlYXNlLmNhbGwodGhpcyk7XHJcbiAgICAgICAgdGhpcy52b2x1bWVTbGlkZXJIaWRlVGltZW91dC5jbGVhcigpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUHJvdmlkZXMgYWNjZXNzIHRvIHRoZSBpbnRlcm5hbGx5IG1hbmFnZWQgdm9sdW1lIHRvZ2dsZSBidXR0b24uXHJcbiAgICAgKiBAcmV0dXJucyB7Vm9sdW1lVG9nZ2xlQnV0dG9ufVxyXG4gICAgICovXHJcbiAgICBWb2x1bWVDb250cm9sQnV0dG9uLnByb3RvdHlwZS5nZXRWb2x1bWVUb2dnbGVCdXR0b24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudm9sdW1lVG9nZ2xlQnV0dG9uO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUHJvdmlkZXMgYWNjZXNzIHRvIHRoZSBpbnRlcm5hbGx5IG1hbmFnZWQgdm9sdW1lIHNpbGRlci5cclxuICAgICAqIEByZXR1cm5zIHtWb2x1bWVTbGlkZXJ9XHJcbiAgICAgKi9cclxuICAgIFZvbHVtZUNvbnRyb2xCdXR0b24ucHJvdG90eXBlLmdldFZvbHVtZVNsaWRlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy52b2x1bWVTbGlkZXI7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFZvbHVtZUNvbnRyb2xCdXR0b247XHJcbn0oY29udGFpbmVyXzEuQ29udGFpbmVyKSk7XHJcbmV4cG9ydHMuVm9sdW1lQ29udHJvbEJ1dHRvbiA9IFZvbHVtZUNvbnRyb2xCdXR0b247XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy92b2x1bWVjb250cm9sYnV0dG9uLnRzXG4vLyBtb2R1bGUgaWQgPSA4N1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgYnV0dG9uXzEgPSByZXF1aXJlKFwiLi9idXR0b25cIik7XHJcbnZhciBzdHJpbmd1dGlsc18xID0gcmVxdWlyZShcIi4uL3N0cmluZ3V0aWxzXCIpO1xyXG4vKipcclxuICogQSBidXR0b24gdGhhdCBpcyBkaXNwbGF5ZWQgZHVyaW5nIGFkcyBhbmQgY2FuIGJlIHVzZWQgdG8gc2tpcCB0aGUgYWQuXHJcbiAqL1xyXG52YXIgQWRTa2lwQnV0dG9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKEFkU2tpcEJ1dHRvbiwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIEFkU2tpcEJ1dHRvbihjb25maWcpIHtcclxuICAgICAgICBpZiAoY29uZmlnID09PSB2b2lkIDApIHsgY29uZmlnID0ge307IH1cclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBjb25maWcpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMuY29uZmlnID0gX3RoaXMubWVyZ2VDb25maWcoY29uZmlnLCB7XHJcbiAgICAgICAgICAgIGNzc0NsYXNzOiAndWktYnV0dG9uLWFkLXNraXAnLFxyXG4gICAgICAgICAgICBza2lwTWVzc2FnZToge1xyXG4gICAgICAgICAgICAgICAgY291bnRkb3duOiAnU2tpcCBhZCBpbiB7cmVtYWluaW5nVGltZX0nLFxyXG4gICAgICAgICAgICAgICAgc2tpcDogJ1NraXAgYWQnLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH0sIF90aGlzLmNvbmZpZyk7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgQWRTa2lwQnV0dG9uLnByb3RvdHlwZS5jb25maWd1cmUgPSBmdW5jdGlvbiAocGxheWVyLCB1aW1hbmFnZXIpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuY29uZmlndXJlLmNhbGwodGhpcywgcGxheWVyLCB1aW1hbmFnZXIpO1xyXG4gICAgICAgIHZhciBjb25maWcgPSB0aGlzLmdldENvbmZpZygpOyAvLyBUT0RPIGdldCByaWQgb2YgZ2VuZXJpYyBjYXN0XHJcbiAgICAgICAgdmFyIHNraXBNZXNzYWdlID0gY29uZmlnLnNraXBNZXNzYWdlO1xyXG4gICAgICAgIHZhciBhZEV2ZW50ID0gbnVsbDtcclxuICAgICAgICB2YXIgdXBkYXRlU2tpcE1lc3NhZ2VIYW5kbGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAvLyBEaXNwbGF5IHRoaXMgYnV0dG9uIG9ubHkgaWYgYWQgaXMgc2tpcHBhYmxlXHJcbiAgICAgICAgICAgIGlmIChhZEV2ZW50LnNraXBPZmZzZXQpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLnNob3coKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLmhpZGUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBVcGRhdGUgdGhlIHNraXAgbWVzc2FnZSBvbiB0aGUgYnV0dG9uXHJcbiAgICAgICAgICAgIGlmIChwbGF5ZXIuZ2V0Q3VycmVudFRpbWUoKSA8IGFkRXZlbnQuc2tpcE9mZnNldCkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuc2V0VGV4dChzdHJpbmd1dGlsc18xLlN0cmluZ1V0aWxzLnJlcGxhY2VBZE1lc3NhZ2VQbGFjZWhvbGRlcnMoY29uZmlnLnNraXBNZXNzYWdlLmNvdW50ZG93biwgYWRFdmVudC5za2lwT2Zmc2V0LCBwbGF5ZXIpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLnNldFRleHQoY29uZmlnLnNraXBNZXNzYWdlLnNraXApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICB2YXIgYWRTdGFydEhhbmRsZXIgPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgYWRFdmVudCA9IGV2ZW50O1xyXG4gICAgICAgICAgICBza2lwTWVzc2FnZSA9IGFkRXZlbnQuc2tpcE1lc3NhZ2UgfHwgc2tpcE1lc3NhZ2U7XHJcbiAgICAgICAgICAgIHVwZGF0ZVNraXBNZXNzYWdlSGFuZGxlcigpO1xyXG4gICAgICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9USU1FX0NIQU5HRUQsIHVwZGF0ZVNraXBNZXNzYWdlSGFuZGxlcik7XHJcbiAgICAgICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX0NBU1RfVElNRV9VUERBVEVELCB1cGRhdGVTa2lwTWVzc2FnZUhhbmRsZXIpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdmFyIGFkRW5kSGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcGxheWVyLnJlbW92ZUV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fVElNRV9DSEFOR0VELCB1cGRhdGVTa2lwTWVzc2FnZUhhbmRsZXIpO1xyXG4gICAgICAgICAgICBwbGF5ZXIucmVtb3ZlRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9DQVNUX1RJTUVfVVBEQVRFRCwgdXBkYXRlU2tpcE1lc3NhZ2VIYW5kbGVyKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX0FEX1NUQVJURUQsIGFkU3RhcnRIYW5kbGVyKTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9BRF9TS0lQUEVELCBhZEVuZEhhbmRsZXIpO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX0FEX0VSUk9SLCBhZEVuZEhhbmRsZXIpO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX0FEX0ZJTklTSEVELCBhZEVuZEhhbmRsZXIpO1xyXG4gICAgICAgIHRoaXMub25DbGljay5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAvLyBUcnkgdG8gc2tpcCB0aGUgYWQgKHRoaXMgb25seSB3b3JrcyBpZiBpdCBpcyBza2lwcGFibGUgc28gd2UgZG9uJ3QgbmVlZCB0byB0YWtlIGV4dHJhIGNhcmUgb2YgdGhhdCBoZXJlKVxyXG4gICAgICAgICAgICBwbGF5ZXIuc2tpcEFkKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEFkU2tpcEJ1dHRvbjtcclxufShidXR0b25fMS5CdXR0b24pKTtcclxuZXhwb3J0cy5BZFNraXBCdXR0b24gPSBBZFNraXBCdXR0b247XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9hZHNraXBidXR0b24udHNcbi8vIG1vZHVsZSBpZCA9IDg4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBsYWJlbF8xID0gcmVxdWlyZShcIi4vbGFiZWxcIik7XHJcbnZhciBzdHJpbmd1dGlsc18xID0gcmVxdWlyZShcIi4uL3N0cmluZ3V0aWxzXCIpO1xyXG4vKipcclxuICogQSBsYWJlbCB0aGF0IGRpc3BsYXlzIGEgbWVzc2FnZSBhYm91dCBhIHJ1bm5pbmcgYWQsIG9wdGlvbmFsbHkgd2l0aCBhIGNvdW50ZG93bi5cclxuICovXHJcbnZhciBBZE1lc3NhZ2VMYWJlbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhBZE1lc3NhZ2VMYWJlbCwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIEFkTWVzc2FnZUxhYmVsKGNvbmZpZykge1xyXG4gICAgICAgIGlmIChjb25maWcgPT09IHZvaWQgMCkgeyBjb25maWcgPSB7fTsgfVxyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGNvbmZpZykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5jb25maWcgPSBfdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIHtcclxuICAgICAgICAgICAgY3NzQ2xhc3M6ICd1aS1sYWJlbC1hZC1tZXNzYWdlJyxcclxuICAgICAgICAgICAgdGV4dDogJ1RoaXMgYWQgd2lsbCBlbmQgaW4ge3JlbWFpbmluZ1RpbWV9IHNlY29uZHMuJyxcclxuICAgICAgICB9LCBfdGhpcy5jb25maWcpO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIEFkTWVzc2FnZUxhYmVsLnByb3RvdHlwZS5jb25maWd1cmUgPSBmdW5jdGlvbiAocGxheWVyLCB1aW1hbmFnZXIpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuY29uZmlndXJlLmNhbGwodGhpcywgcGxheWVyLCB1aW1hbmFnZXIpO1xyXG4gICAgICAgIHZhciB0ZXh0ID0gdGhpcy5nZXRDb25maWcoKS50ZXh0O1xyXG4gICAgICAgIHZhciB1cGRhdGVNZXNzYWdlSGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgX3RoaXMuc2V0VGV4dChzdHJpbmd1dGlsc18xLlN0cmluZ1V0aWxzLnJlcGxhY2VBZE1lc3NhZ2VQbGFjZWhvbGRlcnModGV4dCwgbnVsbCwgcGxheWVyKSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB2YXIgYWRTdGFydEhhbmRsZXIgPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgdGV4dCA9IGV2ZW50LmFkTWVzc2FnZSB8fCB0ZXh0O1xyXG4gICAgICAgICAgICB1cGRhdGVNZXNzYWdlSGFuZGxlcigpO1xyXG4gICAgICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9USU1FX0NIQU5HRUQsIHVwZGF0ZU1lc3NhZ2VIYW5kbGVyKTtcclxuICAgICAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fQ0FTVF9USU1FX1VQREFURUQsIHVwZGF0ZU1lc3NhZ2VIYW5kbGVyKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciBhZEVuZEhhbmRsZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHBsYXllci5yZW1vdmVFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1RJTUVfQ0hBTkdFRCwgdXBkYXRlTWVzc2FnZUhhbmRsZXIpO1xyXG4gICAgICAgICAgICBwbGF5ZXIucmVtb3ZlRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9DQVNUX1RJTUVfVVBEQVRFRCwgdXBkYXRlTWVzc2FnZUhhbmRsZXIpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fQURfU1RBUlRFRCwgYWRTdGFydEhhbmRsZXIpO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX0FEX1NLSVBQRUQsIGFkRW5kSGFuZGxlcik7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fQURfRVJST1IsIGFkRW5kSGFuZGxlcik7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fQURfRklOSVNIRUQsIGFkRW5kSGFuZGxlcik7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEFkTWVzc2FnZUxhYmVsO1xyXG59KGxhYmVsXzEuTGFiZWwpKTtcclxuZXhwb3J0cy5BZE1lc3NhZ2VMYWJlbCA9IEFkTWVzc2FnZUxhYmVsO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvYWRtZXNzYWdlbGFiZWwudHNcbi8vIG1vZHVsZSBpZCA9IDg5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBjbGlja292ZXJsYXlfMSA9IHJlcXVpcmUoXCIuL2NsaWNrb3ZlcmxheVwiKTtcclxuLyoqXHJcbiAqIEEgc2ltcGxlIGNsaWNrIGNhcHR1cmUgb3ZlcmxheSBmb3IgY2xpY2tUaHJvdWdoVXJscyBvZiBhZHMuXHJcbiAqL1xyXG52YXIgQWRDbGlja092ZXJsYXkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoQWRDbGlja092ZXJsYXksIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBBZENsaWNrT3ZlcmxheSgpIHtcclxuICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XHJcbiAgICB9XHJcbiAgICBBZENsaWNrT3ZlcmxheS5wcm90b3R5cGUuY29uZmlndXJlID0gZnVuY3Rpb24gKHBsYXllciwgdWltYW5hZ2VyKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmNvbmZpZ3VyZS5jYWxsKHRoaXMsIHBsYXllciwgdWltYW5hZ2VyKTtcclxuICAgICAgICB2YXIgY2xpY2tUaHJvdWdoVXJsID0gbnVsbDtcclxuICAgICAgICB2YXIgY2xpY2tUaHJvdWdoRW5hYmxlZCA9ICFwbGF5ZXIuZ2V0Q29uZmlnKCkuYWR2ZXJ0aXNpbmdcclxuICAgICAgICAgICAgfHwgIXBsYXllci5nZXRDb25maWcoKS5hZHZlcnRpc2luZy5oYXNPd25Qcm9wZXJ0eSgnY2xpY2tUaHJvdWdoRW5hYmxlZCcpXHJcbiAgICAgICAgICAgIHx8IHBsYXllci5nZXRDb25maWcoKS5hZHZlcnRpc2luZy5jbGlja1Rocm91Z2hFbmFibGVkO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX0FEX1NUQVJURUQsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICBjbGlja1Rocm91Z2hVcmwgPSBldmVudC5jbGlja1Rocm91Z2hVcmw7XHJcbiAgICAgICAgICAgIGlmIChjbGlja1Rocm91Z2hFbmFibGVkKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5zZXRVcmwoY2xpY2tUaHJvdWdoVXJsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIElmIGNsaWNrLXRocm91Z2ggaXMgZGlzYWJsZWQsIHdlIHNldCB0aGUgdXJsIHRvIG51bGwgdG8gYXZvaWQgaXQgb3BlblxyXG4gICAgICAgICAgICAgICAgX3RoaXMuc2V0VXJsKG51bGwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gQ2xlYXIgY2xpY2stdGhyb3VnaCBVUkwgd2hlbiBhZCBoYXMgZmluaXNoZWRcclxuICAgICAgICB2YXIgYWRGaW5pc2hlZEhhbmRsZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIF90aGlzLnNldFVybChudWxsKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX0FEX0ZJTklTSEVELCBhZEZpbmlzaGVkSGFuZGxlcik7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fQURfU0tJUFBFRCwgYWRGaW5pc2hlZEhhbmRsZXIpO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX0FEX0VSUk9SLCBhZEZpbmlzaGVkSGFuZGxlcik7XHJcbiAgICAgICAgdGhpcy5vbkNsaWNrLnN1YnNjcmliZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIC8vIFBhdXNlIHRoZSBhZCB3aGVuIG92ZXJsYXkgaXMgY2xpY2tlZFxyXG4gICAgICAgICAgICBwbGF5ZXIucGF1c2UoJ3VpLWNvbnRlbnQtY2xpY2snKTtcclxuICAgICAgICAgICAgLy8gTm90aWZ5IHRoZSBwbGF5ZXIgb2YgdGhlIGNsaWNrZWQgYWRcclxuICAgICAgICAgICAgcGxheWVyLmZpcmVFdmVudChwbGF5ZXIuRVZFTlQuT05fQURfQ0xJQ0tFRCwge1xyXG4gICAgICAgICAgICAgICAgY2xpY2tUaHJvdWdoVXJsOiBjbGlja1Rocm91Z2hVcmwsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBBZENsaWNrT3ZlcmxheTtcclxufShjbGlja292ZXJsYXlfMS5DbGlja092ZXJsYXkpKTtcclxuZXhwb3J0cy5BZENsaWNrT3ZlcmxheSA9IEFkQ2xpY2tPdmVybGF5O1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvYWRjbGlja292ZXJsYXkudHNcbi8vIG1vZHVsZSBpZCA9IDkwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciB1aWNvbnRhaW5lcl8xID0gcmVxdWlyZShcIi4vdWljb250YWluZXJcIik7XHJcbnZhciB0aW1lb3V0XzEgPSByZXF1aXJlKFwiLi4vdGltZW91dFwiKTtcclxuLyoqXHJcbiAqIFRoZSBiYXNlIGNvbnRhaW5lciBmb3IgQ2FzdCByZWNlaXZlcnMgdGhhdCBjb250YWlucyBhbGwgb2YgdGhlIFVJIGFuZCB0YWtlcyBjYXJlIHRoYXQgdGhlIFVJIGlzIHNob3duIG9uXHJcbiAqIGNlcnRhaW4gcGxheWJhY2sgZXZlbnRzLlxyXG4gKi9cclxudmFyIENhc3RVSUNvbnRhaW5lciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhDYXN0VUlDb250YWluZXIsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBDYXN0VUlDb250YWluZXIoY29uZmlnKSB7XHJcbiAgICAgICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMsIGNvbmZpZykgfHwgdGhpcztcclxuICAgIH1cclxuICAgIENhc3RVSUNvbnRhaW5lci5wcm90b3R5cGUuY29uZmlndXJlID0gZnVuY3Rpb24gKHBsYXllciwgdWltYW5hZ2VyKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmNvbmZpZ3VyZS5jYWxsKHRoaXMsIHBsYXllciwgdWltYW5hZ2VyKTtcclxuICAgICAgICB2YXIgY29uZmlnID0gdGhpcy5nZXRDb25maWcoKTtcclxuICAgICAgICAvKlxyXG4gICAgICAgICAqIFNob3cgVUkgb24gQ2FzdCBkZXZpY2VzIGF0IGNlcnRhaW4gcGxheWJhY2sgZXZlbnRzXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBTaW5jZSBhIENhc3QgcmVjZWl2ZXIgZG9lcyBub3QgaGF2ZSBhIGRpcmVjdCBIQ0ksIHdlIHNob3cgdGhlIFVJIG9uIGNlcnRhaW4gcGxheWJhY2sgZXZlbnRzIHRvIGdpdmUgdGhlIHVzZXJcclxuICAgICAgICAgKiBhIGNoYW5jZSB0byBzZWUgb24gdGhlIHNjcmVlbiB3aGF0J3MgZ29pbmcgb24sIGUuZy4gb24gcGxheS9wYXVzZSBvciBhIHNlZWsgdGhlIFVJIGlzIHNob3duIGFuZCB0aGUgdXNlciBjYW5cclxuICAgICAgICAgKiBzZWUgdGhlIGN1cnJlbnQgdGltZSBhbmQgcG9zaXRpb24gb24gdGhlIHNlZWsgYmFyLlxyXG4gICAgICAgICAqIFRoZSBVSSBpcyBzaG93biBwZXJtYW5lbnRseSB3aGlsZSBwbGF5YmFjayBpcyBwYXVzZWQsIG90aGVyd2lzZSBoaWRlcyBhdXRvbWF0aWNhbGx5IGFmdGVyIHRoZSBjb25maWd1cmVkXHJcbiAgICAgICAgICogaGlkZSBkZWxheSB0aW1lLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHZhciBpc1VpU2hvd24gPSBmYWxzZTtcclxuICAgICAgICB2YXIgaGlkZVVpID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB1aW1hbmFnZXIub25Db250cm9sc0hpZGUuZGlzcGF0Y2goX3RoaXMpO1xyXG4gICAgICAgICAgICBpc1VpU2hvd24gPSBmYWxzZTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuY2FzdFVpSGlkZVRpbWVvdXQgPSBuZXcgdGltZW91dF8xLlRpbWVvdXQoY29uZmlnLmhpZGVEZWxheSwgaGlkZVVpKTtcclxuICAgICAgICB2YXIgc2hvd1VpID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoIWlzVWlTaG93bikge1xyXG4gICAgICAgICAgICAgICAgdWltYW5hZ2VyLm9uQ29udHJvbHNTaG93LmRpc3BhdGNoKF90aGlzKTtcclxuICAgICAgICAgICAgICAgIGlzVWlTaG93biA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciBzaG93VWlQZXJtYW5lbnRseSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgc2hvd1VpKCk7XHJcbiAgICAgICAgICAgIF90aGlzLmNhc3RVaUhpZGVUaW1lb3V0LmNsZWFyKCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB2YXIgc2hvd1VpV2l0aFRpbWVvdXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHNob3dVaSgpO1xyXG4gICAgICAgICAgICBfdGhpcy5jYXN0VWlIaWRlVGltZW91dC5zdGFydCgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdmFyIHNob3dVaUFmdGVyU2VlayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKHBsYXllci5pc1BsYXlpbmcoKSkge1xyXG4gICAgICAgICAgICAgICAgc2hvd1VpV2l0aFRpbWVvdXQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHNob3dVaVBlcm1hbmVudGx5KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1JFQURZLCBzaG93VWlXaXRoVGltZW91dCk7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fU09VUkNFX0xPQURFRCwgc2hvd1VpV2l0aFRpbWVvdXQpO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1BMQVksIHNob3dVaVdpdGhUaW1lb3V0KTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9QQVVTRUQsIHNob3dVaVBlcm1hbmVudGx5KTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9TRUVLLCBzaG93VWlQZXJtYW5lbnRseSk7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fU0VFS0VELCBzaG93VWlBZnRlclNlZWspO1xyXG4gICAgfTtcclxuICAgIENhc3RVSUNvbnRhaW5lci5wcm90b3R5cGUucmVsZWFzZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLnJlbGVhc2UuY2FsbCh0aGlzKTtcclxuICAgICAgICB0aGlzLmNhc3RVaUhpZGVUaW1lb3V0LmNsZWFyKCk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIENhc3RVSUNvbnRhaW5lcjtcclxufSh1aWNvbnRhaW5lcl8xLlVJQ29udGFpbmVyKSk7XHJcbmV4cG9ydHMuQ2FzdFVJQ29udGFpbmVyID0gQ2FzdFVJQ29udGFpbmVyO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvY2FzdHVpY29udGFpbmVyLnRzXG4vLyBtb2R1bGUgaWQgPSA5MVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKiEgSGl2ZSBTdGF0cyBQYWNrIGJ1aWxkIDQuMS4wIENvcHlyaWdodChjKSAyMDE1IEhpdmVTdHJlYW1pbmcgQUIsIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBBdXRob3JzOiBtaWthZWwuaG9ncXZpc3RAaGl2ZXN0cmVhbWluZy5jb20gLSByaWNjYXJkby5yZWFsZUBoaXZlc3RyZWFtaW5nLmNvbSAtIHJvYmVydG8ucm92ZXJzb0BoaXZlc3RyZWFtaW5nLmNvbSAqL1xuLyohIEF0YXR1c0pzIC0gdjIuMy4xMiAtIDIwMTYtMDctMDNcbiAqIENvcHlyaWdodCAoYykgMjAxNiBBdGF0dXMgKi9cbiFmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEsYil7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhLGIpfWZ1bmN0aW9uIGMoYSl7cmV0dXJuXCJ1bmRlZmluZWRcIj09dHlwZW9mIGF9aWYoYSl7dmFyIGQ9e30sZT1hLlRyYWNlS2l0LGY9W10uc2xpY2UsZz1cIj9cIjtkLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gYS5UcmFjZUtpdD1lLGR9LGQud3JhcD1mdW5jdGlvbihhKXtmdW5jdGlvbiBiKCl7dHJ5e3JldHVybiBhLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1jYXRjaChiKXt0aHJvdyBkLnJlcG9ydChiKSxifX1yZXR1cm4gYn0sZC5yZXBvcnQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBjKGEpe2koKSxtLnB1c2goYSl9ZnVuY3Rpb24gZShhKXtmb3IodmFyIGI9bS5sZW5ndGgtMTtiPj0wOy0tYiltW2JdPT09YSYmbS5zcGxpY2UoYiwxKX1mdW5jdGlvbiBnKGEsYyl7dmFyIGU9bnVsbDtpZighY3x8ZC5jb2xsZWN0V2luZG93RXJyb3JzKXtmb3IodmFyIGcgaW4gbSlpZihiKG0sZykpdHJ5e21bZ10uYXBwbHkobnVsbCxbYV0uY29uY2F0KGYuY2FsbChhcmd1bWVudHMsMikpKX1jYXRjaChoKXtlPWh9aWYoZSl0aHJvdyBlfX1mdW5jdGlvbiBoKGEsYixjLGUsZil7dmFyIGg9bnVsbDtpZihmKWg9ZC5jb21wdXRlU3RhY2tUcmFjZShmKTtlbHNlIGlmKG8pZC5jb21wdXRlU3RhY2tUcmFjZS5hdWdtZW50U3RhY2tUcmFjZVdpdGhJbml0aWFsRWxlbWVudChvLGIsYyxhKSxoPW8sbz1udWxsLG49bnVsbDtlbHNle3ZhciBpPXt1cmw6YixsaW5lOmMsY29sdW1uOmV9O2kuZnVuYz1kLmNvbXB1dGVTdGFja1RyYWNlLmd1ZXNzRnVuY3Rpb25OYW1lKGkudXJsLGkubGluZSksaS5jb250ZXh0PWQuY29tcHV0ZVN0YWNrVHJhY2UuZ2F0aGVyQ29udGV4dChpLnVybCxpLmxpbmUpLGg9e21vZGU6XCJvbmVycm9yXCIsbWVzc2FnZTphLHVybDpkb2N1bWVudC5sb2NhdGlvbi5ocmVmLHN0YWNrOltpXSx1c2VyYWdlbnQ6bmF2aWdhdG9yLnVzZXJBZ2VudH19cmV0dXJuIGcoaCxcImZyb20gd2luZG93Lm9uZXJyb3JcIiksaz9rLmFwcGx5KHRoaXMsYXJndW1lbnRzKTohMX1mdW5jdGlvbiBpKCl7bCE9PSEwJiYoaz1hLm9uZXJyb3IsYS5vbmVycm9yPWgsbD0hMCl9ZnVuY3Rpb24gaihiKXt2YXIgYz1mLmNhbGwoYXJndW1lbnRzLDEpO2lmKG8pe2lmKG49PT1iKXJldHVybjt2YXIgZT1vO289bnVsbCxuPW51bGwsZy5hcHBseShudWxsLFtlLG51bGxdLmNvbmNhdChjKSl9dmFyIGg9ZC5jb21wdXRlU3RhY2tUcmFjZShiKTt0aHJvdyBvPWgsbj1iLGEuc2V0VGltZW91dChmdW5jdGlvbigpe249PT1iJiYobz1udWxsLG49bnVsbCxnLmFwcGx5KG51bGwsW2gsbnVsbF0uY29uY2F0KGMpKSl9LGguaW5jb21wbGV0ZT8yZTM6MCksYn12YXIgayxsLG09W10sbj1udWxsLG89bnVsbDtyZXR1cm4gai5zdWJzY3JpYmU9YyxqLnVuc3Vic2NyaWJlPWUsan0oKSxkLmNvbXB1dGVTdGFja1RyYWNlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShiKXtpZighZC5yZW1vdGVGZXRjaGluZylyZXR1cm5cIlwiO3RyeXt2YXIgYz1mdW5jdGlvbigpe3RyeXtyZXR1cm4gbmV3IGEuWE1MSHR0cFJlcXVlc3R9Y2F0Y2goYil7cmV0dXJuIG5ldyBhLkFjdGl2ZVhPYmplY3QoXCJNaWNyb3NvZnQuWE1MSFRUUFwiKX19LGU9YygpO3JldHVybiBlLm9wZW4oXCJHRVRcIixiLCExKSxlLnNlbmQoXCJcIiksZS5yZXNwb25zZVRleHR9Y2F0Y2goZil7cmV0dXJuXCJcIn19ZnVuY3Rpb24gZihhKXtpZihcInN0cmluZ1wiIT10eXBlb2YgYSlyZXR1cm5bXTtpZighYih3LGEpKXt2YXIgYz1cIlwiLGQ9XCJcIjt0cnl7ZD1kb2N1bWVudC5kb21haW59Y2F0Y2goZil7fS0xIT09YS5pbmRleE9mKGQpJiYoYz1lKGEpKSx3W2FdPWM/Yy5zcGxpdChcIlxcblwiKTpbXX1yZXR1cm4gd1thXX1mdW5jdGlvbiBoKGEsYil7dmFyIGQsZT0vZnVuY3Rpb24gKFteKF0qKVxcKChbXildKilcXCkvLGg9L1snXCJdPyhbMC05QS1aYS16JF9dKylbJ1wiXT9cXHMqWzo9XVxccyooZnVuY3Rpb258ZXZhbHxuZXcgRnVuY3Rpb24pLyxpPVwiXCIsaj0xMCxrPWYoYSk7aWYoIWsubGVuZ3RoKXJldHVybiBnO2Zvcih2YXIgbD0wO2o+bDsrK2wpaWYoaT1rW2ItbF0raSwhYyhpKSl7aWYoZD1oLmV4ZWMoaSkpcmV0dXJuIGRbMV07aWYoZD1lLmV4ZWMoaSkpcmV0dXJuIGRbMV19cmV0dXJuIGd9ZnVuY3Rpb24gaShhLGIpe3ZhciBlPWYoYSk7aWYoIWUubGVuZ3RoKXJldHVybiBudWxsO3ZhciBnPVtdLGg9TWF0aC5mbG9vcihkLmxpbmVzT2ZDb250ZXh0LzIpLGk9aCtkLmxpbmVzT2ZDb250ZXh0JTIsaj1NYXRoLm1heCgwLGItaC0xKSxrPU1hdGgubWluKGUubGVuZ3RoLGIraS0xKTtiLT0xO2Zvcih2YXIgbD1qO2s+bDsrK2wpYyhlW2xdKXx8Zy5wdXNoKGVbbF0pO3JldHVybiBnLmxlbmd0aD4wP2c6bnVsbH1mdW5jdGlvbiBqKGEpe3JldHVybiBhLnJlcGxhY2UoL1tcXC1cXFtcXF17fSgpKis/LixcXFxcXFxeJHwjXS9nLFwiXFxcXCQmXCIpfWZ1bmN0aW9uIGsoYSl7cmV0dXJuIGooYSkucmVwbGFjZShcIjxcIixcIig/Ojx8Jmx0OylcIikucmVwbGFjZShcIj5cIixcIig/Oj58Jmd0OylcIikucmVwbGFjZShcIiZcIixcIig/OiZ8JmFtcDspXCIpLnJlcGxhY2UoJ1wiJywnKD86XCJ8JnF1b3Q7KScpLnJlcGxhY2UoL1xccysvZyxcIlxcXFxzK1wiKX1mdW5jdGlvbiBsKGEsYil7Zm9yKHZhciBjLGQsZT0wLGc9Yi5sZW5ndGg7Zz5lOysrZSlpZigoYz1mKGJbZV0pKS5sZW5ndGgmJihjPWMuam9pbihcIlxcblwiKSxkPWEuZXhlYyhjKSkpcmV0dXJue3VybDpiW2VdLGxpbmU6Yy5zdWJzdHJpbmcoMCxkLmluZGV4KS5zcGxpdChcIlxcblwiKS5sZW5ndGgsY29sdW1uOmQuaW5kZXgtYy5sYXN0SW5kZXhPZihcIlxcblwiLGQuaW5kZXgpLTF9O3JldHVybiBudWxsfWZ1bmN0aW9uIG0oYSxiLGMpe3ZhciBkLGU9ZihiKSxnPW5ldyBSZWdFeHAoXCJcXFxcYlwiK2ooYSkrXCJcXFxcYlwiKTtyZXR1cm4gYy09MSxlJiZlLmxlbmd0aD5jJiYoZD1nLmV4ZWMoZVtjXSkpP2QuaW5kZXg6bnVsbH1mdW5jdGlvbiBuKGIpe2Zvcih2YXIgYyxkLGUsZixnPVthLmxvY2F0aW9uLmhyZWZdLGg9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzY3JpcHRcIiksaT1cIlwiK2IsbT0vXmZ1bmN0aW9uKD86XFxzKyhbXFx3JF0rKSk/XFxzKlxcKChbXFx3XFxzLF0qKVxcKVxccypcXHtcXHMqKFxcU1tcXHNcXFNdKlxcUylcXHMqXFx9XFxzKiQvLG49L15mdW5jdGlvbiBvbihbXFx3JF0rKVxccypcXChldmVudFxcKVxccypcXHtcXHMqKFxcU1tcXHNcXFNdKlxcUylcXHMqXFx9XFxzKiQvLG89MDtvPGgubGVuZ3RoOysrbyl7dmFyIHA9aFtvXTtwLnNyYyYmZy5wdXNoKHAuc3JjKX1pZihlPW0uZXhlYyhpKSl7dmFyIHE9ZVsxXT9cIlxcXFxzK1wiK2VbMV06XCJcIixyPWVbMl0uc3BsaXQoXCIsXCIpLmpvaW4oXCJcXFxccyosXFxcXHMqXCIpO2M9aihlWzNdKS5yZXBsYWNlKC87JC8sXCI7P1wiKSxkPW5ldyBSZWdFeHAoXCJmdW5jdGlvblwiK3ErXCJcXFxccypcXFxcKFxcXFxzKlwiK3IrXCJcXFxccypcXFxcKVxcXFxzKntcXFxccypcIitjK1wiXFxcXHMqfVwiKX1lbHNlIGQ9bmV3IFJlZ0V4cChqKGkpLnJlcGxhY2UoL1xccysvZyxcIlxcXFxzK1wiKSk7aWYoZj1sKGQsZykpcmV0dXJuIGY7aWYoZT1uLmV4ZWMoaSkpe3ZhciBzPWVbMV07aWYoYz1rKGVbMl0pLGQ9bmV3IFJlZ0V4cChcIm9uXCIrcytcIj1bXFxcXCdcXFwiXVxcXFxzKlwiK2MrXCJcXFxccypbXFxcXCdcXFwiXVwiLFwiaVwiKSxmPWwoZCxnWzBdKSlyZXR1cm4gZjtpZihkPW5ldyBSZWdFeHAoYyksZj1sKGQsZykpcmV0dXJuIGZ9cmV0dXJuIG51bGx9ZnVuY3Rpb24gbyhhKXtpZighYS5zdGFjaylyZXR1cm4gbnVsbDtmb3IodmFyIGIsZCxlPS9eXFxzKmF0ICguKj8pID9cXCg/KCg/OmZpbGV8aHR0cHM/fGNocm9tZS1leHRlbnNpb24pOi4qPyk6KFxcZCspKD86OihcXGQrKSk/XFwpP1xccyokL2ksZj0vXlxccyooLio/KSg/OlxcKCguKj8pXFwpKT9APygoPzpmaWxlfGh0dHBzP3xjaHJvbWUpOi4qPyk6KFxcZCspKD86OihcXGQrKSk/XFxzKiQvaSxqPS9eXFxzKmF0ICg/OigoPzpcXFtvYmplY3Qgb2JqZWN0XFxdKT8uKykgKT9cXCg/KCg/Om1zLWFwcHh8aHR0cHxodHRwcyk6Lio/KTooXFxkKykoPzo6KFxcZCspKT9cXCk/XFxzKiQvaSxrPWEuc3RhY2suc3BsaXQoXCJcXG5cIiksbD1bXSxuPS9eKC4qKSBpcyB1bmRlZmluZWQkLy5leGVjKGEubWVzc2FnZSksbz0wLHA9ay5sZW5ndGg7cD5vOysrbyl7aWYoYj1mLmV4ZWMoa1tvXSkpZD17dXJsOmJbM10sZnVuYzpiWzFdfHxnLGFyZ3M6YlsyXT9iWzJdLnNwbGl0KFwiLFwiKTpcIlwiLGxpbmU6K2JbNF0sY29sdW1uOmJbNV0/K2JbNV06bnVsbH07ZWxzZSBpZihiPWUuZXhlYyhrW29dKSlkPXt1cmw6YlsyXSxmdW5jOmJbMV18fGcsbGluZTorYlszXSxjb2x1bW46Yls0XT8rYls0XTpudWxsfTtlbHNle2lmKCEoYj1qLmV4ZWMoa1tvXSkpKWNvbnRpbnVlO2Q9e3VybDpiWzJdLGZ1bmM6YlsxXXx8ZyxsaW5lOitiWzNdLGNvbHVtbjpiWzRdPytiWzRdOm51bGx9fSFkLmZ1bmMmJmQubGluZSYmKGQuZnVuYz1oKGQudXJsLGQubGluZSkpLGQubGluZSYmKGQuY29udGV4dD1pKGQudXJsLGQubGluZSkpLGwucHVzaChkKX1yZXR1cm4gbC5sZW5ndGg/KGxbMF0mJmxbMF0ubGluZSYmIWxbMF0uY29sdW1uJiZuP2xbMF0uY29sdW1uPW0oblsxXSxsWzBdLnVybCxsWzBdLmxpbmUpOmxbMF0uY29sdW1ufHxjKGEuY29sdW1uTnVtYmVyKXx8KGxbMF0uY29sdW1uPWEuY29sdW1uTnVtYmVyKzEpLHttb2RlOlwic3RhY2tcIixuYW1lOmEubmFtZSxtZXNzYWdlOmEubWVzc2FnZSx1cmw6ZG9jdW1lbnQubG9jYXRpb24uaHJlZixzdGFjazpsLHVzZXJhZ2VudDpuYXZpZ2F0b3IudXNlckFnZW50fSk6bnVsbH1mdW5jdGlvbiBwKGEpe2Zvcih2YXIgYixjPWEuc3RhY2t0cmFjZSxkPS8gbGluZSAoXFxkKyksIGNvbHVtbiAoXFxkKykgaW4gKD86PGFub255bW91cyBmdW5jdGlvbjogKFtePl0rKT58KFteXFwpXSspKVxcKCguKilcXCkgaW4gKC4qKTpcXHMqJC9pLGU9Yy5zcGxpdChcIlxcblwiKSxmPVtdLGc9MCxqPWUubGVuZ3RoO2o+ZztnKz0yKWlmKGI9ZC5leGVjKGVbZ10pKXt2YXIgaz17bGluZTorYlsxXSxjb2x1bW46K2JbMl0sZnVuYzpiWzNdfHxiWzRdLGFyZ3M6Yls1XT9iWzVdLnNwbGl0KFwiLFwiKTpbXSx1cmw6Yls2XX07aWYoIWsuZnVuYyYmay5saW5lJiYoay5mdW5jPWgoay51cmwsay5saW5lKSksay5saW5lKXRyeXtrLmNvbnRleHQ9aShrLnVybCxrLmxpbmUpfWNhdGNoKGwpe31rLmNvbnRleHR8fChrLmNvbnRleHQ9W2VbZysxXV0pLGYucHVzaChrKX1yZXR1cm4gZi5sZW5ndGg/e21vZGU6XCJzdGFja3RyYWNlXCIsbmFtZTphLm5hbWUsbWVzc2FnZTphLm1lc3NhZ2UsdXJsOmRvY3VtZW50LmxvY2F0aW9uLmhyZWYsc3RhY2s6Zix1c2VyYWdlbnQ6bmF2aWdhdG9yLnVzZXJBZ2VudH06bnVsbH1mdW5jdGlvbiBxKGMpe3ZhciBkPWMubWVzc2FnZS5zcGxpdChcIlxcblwiKTtpZihkLmxlbmd0aDw0KXJldHVybiBudWxsO3ZhciBlLGcsaixtLG49L15cXHMqTGluZSAoXFxkKykgb2YgbGlua2VkIHNjcmlwdCAoKD86ZmlsZXxodHRwcz8pXFxTKykoPzo6IGluIGZ1bmN0aW9uIChcXFMrKSk/XFxzKiQvaSxvPS9eXFxzKkxpbmUgKFxcZCspIG9mIGlubGluZSMoXFxkKykgc2NyaXB0IGluICgoPzpmaWxlfGh0dHBzPylcXFMrKSg/OjogaW4gZnVuY3Rpb24gKFxcUyspKT9cXHMqJC9pLHA9L15cXHMqTGluZSAoXFxkKykgb2YgZnVuY3Rpb24gc2NyaXB0XFxzKiQvaSxxPVtdLHI9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzY3JpcHRcIikscz1bXTtmb3IoZyBpbiByKWIocixnKSYmIXJbZ10uc3JjJiZzLnB1c2gocltnXSk7Zm9yKGc9MixqPWQubGVuZ3RoO2o+ZztnKz0yKXt2YXIgdD1udWxsO2lmKGU9bi5leGVjKGRbZ10pKXQ9e3VybDplWzJdLGZ1bmM6ZVszXSxsaW5lOitlWzFdfTtlbHNlIGlmKGU9by5leGVjKGRbZ10pKXt0PXt1cmw6ZVszXSxmdW5jOmVbNF19O3ZhciB1PStlWzFdLHY9c1tlWzJdLTFdO2lmKHYmJihtPWYodC51cmwpKSl7bT1tLmpvaW4oXCJcXG5cIik7dmFyIHc9bS5pbmRleE9mKHYuaW5uZXJUZXh0KTt3Pj0wJiYodC5saW5lPXUrbS5zdWJzdHJpbmcoMCx3KS5zcGxpdChcIlxcblwiKS5sZW5ndGgpfX1lbHNlIGlmKGU9cC5leGVjKGRbZ10pKXt2YXIgeD1hLmxvY2F0aW9uLmhyZWYucmVwbGFjZSgvIy4qJC8sXCJcIikseT1lWzFdLHo9bmV3IFJlZ0V4cChrKGRbZysxXSkpO209bCh6LFt4XSksdD17dXJsOngsbGluZTptP20ubGluZTp5LGZ1bmM6XCJcIn19aWYodCl7dC5mdW5jfHwodC5mdW5jPWgodC51cmwsdC5saW5lKSk7dmFyIEE9aSh0LnVybCx0LmxpbmUpLEI9QT9BW01hdGguZmxvb3IoQS5sZW5ndGgvMildOm51bGw7dC5jb250ZXh0PUEmJkIucmVwbGFjZSgvXlxccyovLFwiXCIpPT09ZFtnKzFdLnJlcGxhY2UoL15cXHMqLyxcIlwiKT9BOltkW2crMV1dLHEucHVzaCh0KX19cmV0dXJuIHEubGVuZ3RoP3ttb2RlOlwibXVsdGlsaW5lXCIsbmFtZTpjLm5hbWUsbWVzc2FnZTpkWzBdLHVybDpkb2N1bWVudC5sb2NhdGlvbi5ocmVmLHN0YWNrOnEsdXNlcmFnZW50Om5hdmlnYXRvci51c2VyQWdlbnR9Om51bGx9ZnVuY3Rpb24gcihhLGIsYyxkKXt2YXIgZT17dXJsOmIsbGluZTpjfTtpZihlLnVybCYmZS5saW5lKXthLmluY29tcGxldGU9ITEsZS5mdW5jfHwoZS5mdW5jPWgoZS51cmwsZS5saW5lKSksZS5jb250ZXh0fHwoZS5jb250ZXh0PWkoZS51cmwsZS5saW5lKSk7dmFyIGY9LyAnKFteJ10rKScgLy5leGVjKGQpO2lmKGYmJihlLmNvbHVtbj1tKGZbMV0sZS51cmwsZS5saW5lKSksYS5zdGFjay5sZW5ndGg+MCYmYS5zdGFja1swXS51cmw9PT1lLnVybCl7aWYoYS5zdGFja1swXS5saW5lPT09ZS5saW5lKXJldHVybiExO2lmKCFhLnN0YWNrWzBdLmxpbmUmJmEuc3RhY2tbMF0uZnVuYz09PWUuZnVuYylyZXR1cm4gYS5zdGFja1swXS5saW5lPWUubGluZSxhLnN0YWNrWzBdLmNvbnRleHQ9ZS5jb250ZXh0LCExfXJldHVybiBhLnN0YWNrLnVuc2hpZnQoZSksYS5wYXJ0aWFsPSEwLCEwfXJldHVybiBhLmluY29tcGxldGU9ITAsITF9ZnVuY3Rpb24gcyhhLGIpe2Zvcih2YXIgYyxlLGYsaT0vZnVuY3Rpb25cXHMrKFtfJGEtekEtWlxceEEwLVxcdUZGRkZdW18kYS16QS1aMC05XFx4QTAtXFx1RkZGRl0qKT9cXHMqXFwoL2ksaj1bXSxrPXt9LGw9ITEsbz1zLmNhbGxlcjtvJiYhbDtvPW8uY2FsbGVyKWlmKG8hPT10JiZvIT09ZC5yZXBvcnQpe2lmKGU9e3VybDpudWxsLGZ1bmM6ZyxsaW5lOm51bGwsY29sdW1uOm51bGx9LG8ubmFtZT9lLmZ1bmM9by5uYW1lOihjPWkuZXhlYyhvLnRvU3RyaW5nKCkpKSYmKGUuZnVuYz1jWzFdKSxcInVuZGVmaW5lZFwiPT10eXBlb2YgZS5mdW5jKXRyeXtlLmZ1bmM9Yy5pbnB1dC5zdWJzdHJpbmcoMCxjLmlucHV0LmluZGV4T2YoXCJ7XCIpKX1jYXRjaChwKXt9aWYoZj1uKG8pKXtlLnVybD1mLnVybCxlLmxpbmU9Zi5saW5lLGUuZnVuYz09PWcmJihlLmZ1bmM9aChlLnVybCxlLmxpbmUpKTt2YXIgcT0vICcoW14nXSspJyAvLmV4ZWMoYS5tZXNzYWdlfHxhLmRlc2NyaXB0aW9uKTtxJiYoZS5jb2x1bW49bShxWzFdLGYudXJsLGYubGluZSkpfWtbXCJcIitvXT9sPSEwOmtbXCJcIitvXT0hMCxqLnB1c2goZSl9YiYmai5zcGxpY2UoMCxiKTt2YXIgdT17bW9kZTpcImNhbGxlcnNcIixuYW1lOmEubmFtZSxtZXNzYWdlOmEubWVzc2FnZSx1cmw6ZG9jdW1lbnQubG9jYXRpb24uaHJlZixzdGFjazpqLHVzZXJhZ2VudDpuYXZpZ2F0b3IudXNlckFnZW50fTtyZXR1cm4gcih1LGEuc291cmNlVVJMfHxhLmZpbGVOYW1lLGEubGluZXx8YS5saW5lTnVtYmVyLGEubWVzc2FnZXx8YS5kZXNjcmlwdGlvbiksdX1mdW5jdGlvbiB0KGEsYil7dmFyIGM9bnVsbDtiPW51bGw9PWI/MDorYjt0cnl7aWYoYz1wKGEpKXJldHVybiBjfWNhdGNoKGQpe2lmKHYpdGhyb3cgZH10cnl7aWYoYz1vKGEpKXJldHVybiBjfWNhdGNoKGQpe2lmKHYpdGhyb3cgZH10cnl7aWYoYz1xKGEpKXJldHVybiBjfWNhdGNoKGQpe2lmKHYpdGhyb3cgZH10cnl7aWYoYz1zKGEsYisxKSlyZXR1cm4gY31jYXRjaChkKXtpZih2KXRocm93IGR9cmV0dXJue21vZGU6XCJmYWlsZWRcIn19ZnVuY3Rpb24gdShhKXthPShudWxsPT1hPzA6K2EpKzE7dHJ5e3Rocm93IG5ldyBFcnJvcn1jYXRjaChiKXtyZXR1cm4gdChiLGErMSl9fXZhciB2PSExLHc9e307cmV0dXJuIHQuYXVnbWVudFN0YWNrVHJhY2VXaXRoSW5pdGlhbEVsZW1lbnQ9cix0Lmd1ZXNzRnVuY3Rpb25OYW1lPWgsdC5nYXRoZXJDb250ZXh0PWksdC5vZkNhbGxlcj11LHQuZ2V0U291cmNlPWYsdH0oKSxkLmV4dGVuZFRvQXN5bmNocm9ub3VzQ2FsbGJhY2tzPWZ1bmN0aW9uKCl7dmFyIGI9ZnVuY3Rpb24oYil7dmFyIGM9YVtiXTthW2JdPWZ1bmN0aW9uKCl7dmFyIGE9Zi5jYWxsKGFyZ3VtZW50cyksYj1hWzBdO3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIGImJihhWzBdPWQud3JhcChiKSksYy5hcHBseT9jLmFwcGx5KHRoaXMsYSk6YyhhWzBdLGFbMV0pfX07YihcInNldFRpbWVvdXRcIiksYihcInNldEludGVydmFsXCIpfSxkLnJlbW90ZUZldGNoaW5nfHwoZC5yZW1vdGVGZXRjaGluZz0hMCksZC5jb2xsZWN0V2luZG93RXJyb3JzfHwoZC5jb2xsZWN0V2luZG93RXJyb3JzPSEwKSwoIWQubGluZXNPZkNvbnRleHR8fGQubGluZXNPZkNvbnRleHQ8MSkmJihkLmxpbmVzT2ZDb250ZXh0PTExKSxhLlRyYWNlS2l0PWR9fShcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzpnbG9iYWwpLGZ1bmN0aW9uKGEsYil7XCJ1c2Ugc3RyaWN0XCI7aWYoYSl7dmFyIGM9YS5ldmVudC5hZGQ7YS5ldmVudC5hZGQ9ZnVuY3Rpb24oZCxlLGYsZyxoKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBmJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBmLmhhbmRsZXIpcmV0dXJuIGMuY2FsbCh0aGlzLGQsZSxmLGcsaCk7dmFyIGk7cmV0dXJuIGYuaGFuZGxlcj8oaT1mLmhhbmRsZXIsZi5oYW5kbGVyPWIud3JhcChmLmhhbmRsZXIpKTooaT1mLGY9Yi53cmFwKGYpKSxmLmd1aWQ9aS5ndWlkP2kuZ3VpZDppLmd1aWQ9YS5ndWlkKyssYy5jYWxsKHRoaXMsZCxlLGYsZyxoKX07dmFyIGQ9YS5mbi5yZWFkeTthLmZuLnJlYWR5PWZ1bmN0aW9uKGEpe3JldHVybiBkLmNhbGwodGhpcyxiLndyYXAoYSkpfTt2YXIgZT1hLmFqYXg7YS5hamF4PWZ1bmN0aW9uKGMsZCl7XCJvYmplY3RcIj09dHlwZW9mIGMmJihkPWMsYz12b2lkIDApLGQ9ZHx8e307Zm9yKHZhciBmLGc9W1wiY29tcGxldGVcIixcImVycm9yXCIsXCJzdWNjZXNzXCJdO2Y9Zy5wb3AoKTspYS5pc0Z1bmN0aW9uKGRbZl0pJiYoZFtmXT1iLndyYXAoZFtmXSkpO3RyeXtyZXR1cm4gYz9lLmNhbGwodGhpcyxjLGQpOmUuY2FsbCh0aGlzLGQpfWNhdGNoKGgpe3Rocm93IGIucmVwb3J0KGgpLGh9fX19KHdpbmRvdy5qUXVlcnksd2luZG93LlRyYWNlS2l0KSxmdW5jdGlvbihhLGIsYyxkKXtmdW5jdGlvbiBlKGEpe3ZhciBiPWEsYz1hLnNwbGl0KFwiLy9cIilbMV07aWYoYyl7dmFyIGQ9Yy5pbmRleE9mKFwiP1wiKSxlPWMudG9TdHJpbmcoKS5zdWJzdHJpbmcoMCxkKSxmPWUuc3BsaXQoXCIvXCIpLnNsaWNlKDAsNCkuam9pbihcIi9cIiksZz1lLnN1YnN0cmluZygwLDQ4KTtiPWYubGVuZ3RoPGcubGVuZ3RoP2Y6ZyxiIT09ZSYmKGIrPVwiLi5cIil9cmV0dXJuIGJ9ZnVuY3Rpb24gZihhLGIsYyxmKXtpZihLJiYoTHx8Yi5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSkpe3ZhciBnPVwiQUpBWCBFcnJvcjogXCIrKGIuc3RhdHVzVGV4dHx8XCJ1bmtub3duXCIpK1wiIFwiKyhjLnR5cGV8fFwidW5rbm93blwiKStcIiBcIisoZShjLnVybCl8fFwidW5rbm93blwiKTtWLnNlbmQoZnx8YS50eXBlLHtzdGF0dXM6Yi5zdGF0dXMsc3RhdHVzVGV4dDpiLnN0YXR1c1RleHQsdHlwZTpjLnR5cGUsdXJsOmMudXJsLGFqYXhFcnJvck1lc3NhZ2U6Zyxjb250ZW50VHlwZTpjLmNvbnRlbnRUeXBlLHJlcXVlc3REYXRhOmMuZGF0YSYmYy5kYXRhLnNsaWNlP2MuZGF0YS5zbGljZSgwLDEwMjQwKTpkLHJlc3BvbnNlRGF0YTpiLnJlc3BvbnNlVGV4dCYmYi5yZXNwb25zZVRleHQuc2xpY2U/Yi5yZXNwb25zZVRleHQuc2xpY2UoMCwxMDI0MCk6ZCxhY3RpdmVUYXJnZXQ6YS50YXJnZXQmJmEudGFyZ2V0LmFjdGl2ZUVsZW1lbnQ/YS50YXJnZXQuYWN0aXZlRWxlbWVudC5vdXRlckhUTUw6ZH0pfX1mdW5jdGlvbiBnKCl7cmV0dXJuIG8mJlwiXCIhPT1vPyEwOihSLmxvZyhcIkF0YXR1cyBBUEkga2V5IGhhcyBub3QgYmVlbiBjb25maWd1cmVkLCBtYWtlIHN1cmUgeW91IGNhbGwgYXRhdHVzLmNvbmZpZyh5b3VyQXBpS2V5KVwiKSwhMSl9ZnVuY3Rpb24gaCgpe3ZhciBjPWIuZG9jdW1lbnRFbGVtZW50LGQ9Yi5nZXRFbGVtZW50c0J5VGFnTmFtZShcImJvZHlcIilbMF0sZT1hLmlubmVyV2lkdGh8fGMuY2xpZW50V2lkdGh8fGQuY2xpZW50V2lkdGgsZj1hLmlubmVySGVpZ2h0fHxjLmNsaWVudEhlaWdodHx8ZC5jbGllbnRIZWlnaHQ7cmV0dXJue3dpZHRoOmUsaGVpZ2h0OmZ9fWZ1bmN0aW9uIGkoYSl7dmFyIGI9KG5ldyBEYXRlKS50b0pTT04oKTt0cnl7dmFyIGM9XCJhdGF0dXNqcz1cIitiK1wiPVwiK1IuZ2V0UmFuZG9tSW50KCk7XCJ1bmRlZmluZWRcIj09dHlwZW9mIGxvY2FsU3RvcmFnZVtjXSYmKGxvY2FsU3RvcmFnZVtjXT1hKX1jYXRjaChkKXtSLmxvZyhcIkF0YXR1czogTG9jYWxTdG9yYWdlIGZ1bGwsIGNhbm5vdCBzYXZlIGV4Y2VwdGlvblwiKX19ZnVuY3Rpb24gaigpe3RyeXtyZXR1cm5cImxvY2FsU3RvcmFnZVwiaW4gYSYmbnVsbCE9PWEubG9jYWxTdG9yYWdlfWNhdGNoKGIpe3JldHVybiExfX1mdW5jdGlvbiBrKCl7aWYoaigpJiZsb2NhbFN0b3JhZ2UubGVuZ3RoPjApZm9yKHZhciBhIGluIGxvY2FsU3RvcmFnZSlpZihcImF0YXR1c2pzPVwiPT09YS5zdWJzdHJpbmcoMCw5KSl7dHJ5e3ZhciBiPUpTT04ucGFyc2UobG9jYWxTdG9yYWdlW2FdKTtcImFwaWtleVwiaW4gYiYmbShOLGIpfWNhdGNoKGMpe1IubG9nKFwiQXRhdHVzOiBJbnZhbGlkIEpTT04gb2JqZWN0IGluIExvY2FsU3RvcmFnZVwiKX1sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShhKX19ZnVuY3Rpb24gbChhLGMpe2lmKGM9Y3x8e30sIWEuc3RhY2t8fCFhLnN0YWNrLmxlbmd0aClyZXR1cm4gdm9pZCBSLmxvZyhcIkF0YXR1czogQ2FuY2VsaW5nIHNlbmQgZHVlIHRvIG5vIHN0YWNrdHJhY2UuXCIpO1IuaXNFbXB0eShjLmN1c3RvbURhdGEpJiYoYy5jdXN0b21EYXRhPVwiZnVuY3Rpb25cIj09dHlwZW9mIHA/cCgpOnApLFIuaXNFbXB0eShjLnRhZ3MpJiYoYy50YWdzPUUpO3ZhciBkPWMuY3VzdG9tRGF0YSYmYy5jdXN0b21EYXRhLmFqYXhFcnJvck1lc3NhZ2V8fGEubWVzc2FnZTtpZihkJiYwPT09ZC5pbmRleE9mKFwiVW5jYXVnaHQgXCIpJiYoZD1hLm1lc3NhZ2Uuc3Vic3RyaW5nKDkpKSxkPWR8fGMuc3RhdHVzfHxcIlNjcmlwdCBlcnJvci5cIix3JiZ3LnRlc3QoZCkpcmV0dXJuIHZvaWQgUi5sb2coXCJBdGF0dXM6IGNhbmNlbGluZyBzZW5kIGR1ZSB0byBpZ25vcmUgZXJyb3JzXCIpO3ZhciBlPVtdO2Euc3RhY2smJmEuc3RhY2subGVuZ3RoJiZSLmZvckVhY2goYS5zdGFjayxmdW5jdGlvbihhLGIpe1IuZW5kc1dpdGgoYi51cmwsXCIvYXRhdHVzLmpzXCIpfHxlLnB1c2goe2xuOmIubGluZXx8MCxjbjpiLmNvbHVtbnx8MCxmOmIudXJsfHxcImFub255bW91c1wiLG06Yi5mdW5jfHxcIlthbm9ueW1vdXNdXCJ9KX0pO3ZhciBmPVthLm5hbWUsZCxKU09OLnN0cmluZ2lmeShlKV0uam9pbihcInxcIik7aWYoZj09PXgpcmV0dXJuIHZvaWQgUi5sb2coXCJBdGF0dXM6IGNhbmNlbGluZyBzZW5kIGR1ZSB0byBkdXBsaWNhdGUgZXJyb3JzXCIpO3g9Zjt2YXIgZz1jLmN1c3RvbURhdGE7dHJ5e0pTT04uc3RyaW5naWZ5KGcpfWNhdGNoKGgpe3ZhciBpPVwiQ2Fubm90IGFkZCBjdXN0b20gZGF0YTsgbWF5IGNvbnRhaW4gY2lyY3VsYXIgcmVmZXJlbmNlXCI7Zz17ZXJyb3I6aX0sUi5sb2coXCJBdGF0dXM6IFwiK2kpfXZhciBqPVUuZ2V0QWxsRXZlbnRzKCk7Uy5jbGVhcigpO3ZhciBrPXtcImNsYXNzXCI6YS5uYW1lLG5hbWU6ZCxiYWNrVHJhY2VzOmUsdXNlckFjdGlvbnM6aixuZXQ6bnVsbCxjdXN0b21EYXRhOmd8fG51bGwsdGFnczpjLnRhZ3Msc291cmNlbWFwOkoscmVxdWVzdDp7dXJsOmIubG9jYXRpb24uaHJlZix1YTpuYXZpZ2F0b3IudXNlckFnZW50fX07aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgeSYmKGsuZ3JvdXBpbmdLZXk9eShrKSksXCJmdW5jdGlvblwiPT10eXBlb2Ygeil7dmFyIGw9eihrKTtsJiZtKE4sayl9ZWxzZSBtKE4sayl9ZnVuY3Rpb24gbShjLGQpe2lmKEcmJkcubGVuZ3RoJiYtMT09PUcuaW5kZXhPZihsb2NhdGlvbi5ob3N0KSlyZXR1cm4gdm9pZCBSLmxvZyhcIkF0YXR1czogY2FuY2VsaW5nIHNlbmQgZHVlIHRvIG5vdCBhIGFsbG93ZWQgZG9tYWluXCIpO2lmKGcoKSl7aWYoIWQudHMpe3ZhciBlPWEuc2NyZWVufHxoKCk7ZC50cz0obmV3IERhdGUpLmdldFRpbWUoKSxkLmFwaWtleT1vLGQucmVxdWVzdD1kLnJlcXVlc3R8fHt9LGQucmVxdWVzdC51cmw9ZC5yZXF1ZXN0LnVybHx8Yi5sb2NhdGlvbi5ocmVmLGQucmVxdWVzdC51YT1kLnJlcXVlc3QudWF8fG5hdmlnYXRvci51c2VyQWdlbnQsZC5yZXF1ZXN0Lnc9ZS53aWR0aCxkLnJlcXVlc3QuaD1lLmhlaWdodCxkLnY9cnx8XCJcIixkLl92PUJ8fFwiXCJ9cSYmKGQuY2lkPXEudXNlcklkfHxudWxsKSxSLmxvZyhcIlNlbmRpbmcgZGF0YSB0byBBdGF0dXMgUmVjZWl2ZXI6XCIsZCksbihjLEpTT04uc3RyaW5naWZ5KGQpKX19ZnVuY3Rpb24gbihhLGIpe3ZhciBjPW5ldyBJbWFnZSxkPU0rYStcIj9kYXRhPVwiK2VuY29kZVVSSUNvbXBvbmVudChiKTtjLmNyb3NzT3JpZ2luPVwiYW5vbnltb3VzXCIsYy5vbmxvYWQ9ZnVuY3Rpb24oKXtrKCl9LGMub25lcnJvcj1jLm9uYWJvcnQ9ZnVuY3Rpb24oKXtJJiZhPT09TiYmaShiKX0sYy5zcmM9ZH12YXIgbyxwLHEscixzLHQsdSx2LHcseCx5LHosQSxCPVwiMi4zLjEyXCIsQz1UcmFjZUtpdC5ub0NvbmZsaWN0KCksRD1hLmF0YXR1cyxFPVtdLEY9ITEsRz1bXSxIPSExLEk9ITEsSj0hMSxLPSExLEw9ITEsTT1cImh0dHBzOi8vYnItcnguYXRhdHVzLmNvbVwiLE49XCIvdHJhY2svYnJvd3Nlci9lcnJvcnNcIixPPVwiL3RyYWNrL2Jyb3dzZXIvcGVyZlwiLFA9XCIvdHJhY2svYnJvd3Nlci9wZXJmL2FqYXhcIixRPVwiL3RyYWNrL2Jyb3dzZXIvcGVyZi90eG5cIjtjJiYoQT1jKGIpKTt2YXIgUj17aXNCb29sZWFuOmZ1bmN0aW9uKGEpe3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBhJiZcImJvb2xlYW5cIj09dHlwZW9mIGF9LGlzU3RyaW5nOmZ1bmN0aW9uKGEpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBhfSxpc0FycmF5OmZ1bmN0aW9uKGEpe3JldHVyblwiW29iamVjdCBBcnJheV1cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhKX0sZW5kc1dpdGg6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYSYmYj8tMSE9PWEuaW5kZXhPZihiLGEubGVuZ3RoLWIubGVuZ3RoKTohMX0sam9pblJlZ0V4cDpmdW5jdGlvbihhKXtmb3IodmFyIGIsYz1bXSxkPTAsZT1hLmxlbmd0aDtlPmQ7ZCsrKWI9YVtkXSxSLmlzU3RyaW5nKGIpP2MucHVzaChiLnJlcGxhY2UoLyhbLiorP1xcXj0hOiR7fSgpfFxcW1xcXVxcL1xcXFxdKS9nLFwiXFxcXCQxXCIpKTpiJiZiLnNvdXJjZSYmYy5wdXNoKGIuc291cmNlKTtyZXR1cm4gbmV3IFJlZ0V4cChjLmpvaW4oXCJ8XCIpLFwiaVwiKX0sZ2V0VGFyZ2V0VXJsOmZ1bmN0aW9uKGIpe3JldHVybiBhLlhEb21haW5SZXF1ZXN0JiZIJiYoYj1iLnNsaWNlKDYpKSxifSxub3c6ZnVuY3Rpb24oKXtyZXR1cm4obmV3IERhdGUpLmdldFRpbWUoKX0scGFkOmZ1bmN0aW9uKGEpe3JldHVybiBhPVN0cmluZyhhKSwxPT09YS5sZW5ndGgmJihhPVwiMFwiK2EpLGF9LG1lcmdlOmZ1bmN0aW9uKGEsYil7dmFyIGMsZD17fTtmb3IoYyBpbiBhKWRbY109YVtjXTtmb3IoYyBpbiBiKWRbY109YltjXTtyZXR1cm4gZH0sbWVyZ2VBcnJheTpmdW5jdGlvbihhLGIpe3JldHVybiBudWxsIT1iP2EuY29uY2F0KGIpOmF9LGZvckVhY2g6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9MDtjPGEubGVuZ3RoO2MrKyliLmNhbGwobnVsbCxjLGFbY10pfSxpc0VtcHR5OmZ1bmN0aW9uKGEpe2Zvcih2YXIgYiBpbiBhKWlmKGEuaGFzT3duUHJvcGVydHkoYikpcmV0dXJuITE7cmV0dXJuITB9LGdldFJhbmRvbUludDpmdW5jdGlvbigpe3JldHVybiBNYXRoLmZsb29yKDkwMDcxOTkyNTQ3NDA5OTIqTWF0aC5yYW5kb20oKSl9LGxvZzpmdW5jdGlvbihiLGMpe0YmJmEuY29uc29sZSYmYS5jb25zb2xlLmxvZyYmKGEuY29uc29sZS5sb2coYiksYyYmYS5jb25zb2xlLmxvZyhjKSl9LGJpbmQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gYS5hcHBseShiLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykpfX0sY2FuQWxsb3dJbnNlY3VyZVN1Ym1pc3Npb25zOmZ1bmN0aW9uKCl7dmFyIGI9YS5uYXZpZ2F0b3IudXNlckFnZW50LGM9Yi5tYXRjaCgvVHJpZGVudFxcLyhbXFxkLl0rKS8pLGQ9YyYmXCI3LjBcIj09PWNbMV0/MTE6KGI9Yi5tYXRjaCgvTVNJRSAoW1xcZC5dKykvKSk/cGFyc2VJbnQoYlsxXSwxMCk6ITE7cmV0dXJuIGQmJjk+PWR9LHV1aWQ0OmZ1bmN0aW9uKCl7cmV0dXJuXCJ4eHh4eHh4eHh4eHg0eHh4eXh4eHh4eHh4eHh4eHh4eFwiLnJlcGxhY2UoL1t4eV0vZyxmdW5jdGlvbihhKXt2YXIgYj0xNipNYXRoLnJhbmRvbSgpfDAsYz1cInhcIj09PWE/YjozJmJ8ODtyZXR1cm4gYy50b1N0cmluZygxNil9KX0sYWRkRXZlbnRMaXN0ZW5lcjpmdW5jdGlvbihiLGMsZCl7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGEuYXR0YWNoRXZlbnQ/YS5hdHRhY2hFdmVudChcIm9uXCIrYixjKTphLmFkZEV2ZW50TGlzdGVuZXI/YS5hZGRFdmVudExpc3RlbmVyKGIsYyxkKTp2b2lkIDB9LGFycmF5RnJvbU9iamVjdDpmdW5jdGlvbihhKXt2YXIgYj1bXTtmb3IodmFyIGMgaW4gYSlhLmhhc093blByb3BlcnR5KGMpJiZiLnB1c2goYVtjXSk7cmV0dXJuIGJ9fSxTPXtldmVudE9iamVjdDp7fSxhbGw6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPXRoaXMuZ2V0RXZlbnRPYmplY3QoYSksYz1bXSxkPTA7ZDxiLmxlbmd0aDtkKyspYy5wdXNoKGJbZF0udmFsdWUpO3JldHVybiBjfSxjbGVhcjpmdW5jdGlvbigpe2Zvcih2YXIgYSBpbiB0aGlzLmV2ZW50T2JqZWN0KXRoaXMuZXZlbnRPYmplY3QuaGFzT3duUHJvcGVydHkoYSkmJih0aGlzLmV2ZW50T2JqZWN0W2FdLmxlbmd0aD0wKX0sYWRkOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5nZXRFdmVudE9iamVjdChhKSxkPVIudXVpZDQoKTtyZXR1cm4gYy5wdXNoKHtrZXk6ZCx2YWx1ZTpifSksdGhpcy50cnVuY2F0ZUV2ZW50T2JqZWN0KGEsMTApLGR9LGdldDpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz10aGlzLmdldEV2ZW50T2JqZWN0KGEpLGQ9MDtkPGMubGVuZ3RoO2QrKylpZihjW2RdLmtleT09PWIpcmV0dXJuIGNbZF0udmFsdWU7cmV0dXJuITF9LGdldEV2ZW50T2JqZWN0OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmV2ZW50T2JqZWN0W2FdfHwodGhpcy5ldmVudE9iamVjdFthXT1bXSksdGhpcy5ldmVudE9iamVjdFthXX0sdHJ1bmNhdGVFdmVudE9iamVjdDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ2V0RXZlbnRPYmplY3QoYSk7Yy5sZW5ndGg+YiYmKHRoaXMuZXZlbnRPYmplY3RbYV09Yy5zbGljZShjLmxlbmd0aC1iKSl9fSxUPXthdHRhY2g6ZnVuY3Rpb24oYixjLGQsZSxmKXtiPWJ8fGEuY29uc29sZXx8e307Zm9yKHZhciBnPWZ8fFtcImxvZ1wiLFwiZGVidWdcIixcImluZm9cIixcIndhcm5cIixcImVycm9yXCJdLGg9Zy5wb3AoKSxpPWZ1bmN0aW9uKGEsYixkKXtjJiZTLmFkZChcInVzZXJcIix7dHM6Ui5ub3coKSxjOlwiY29uc29sZVwiLGw6YSxtOmJ9KSxcImVycm9yXCI9PT1hJiZlJiZWLm5vdGlmeShuZXcgRXJyb3IoYiksZCl9O2g7KXRoaXMud3JhcENvbnNvbGVNZXRob2QoYixoLGQsaSksaD1nLnBvcCgpfSx3cmFwQ29uc29sZU1ldGhvZDpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1hW2JdLGY9YTtiIGluIGEmJihhW2JdPWZ1bmN0aW9uKCl7dmFyIGE9W10uc2xpY2UuY2FsbChhcmd1bWVudHMpLGc9XCJcIithLmpvaW4oXCIgXCIpLGg9e2xldmVsOmIsbG9nZ2VyOlwiY29uc29sZVwifTtkJiZkKGIsZyxoKSxlJiZjJiZGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHkuY2FsbChlLGYsYSl9KX19LFU9e2F0dGFjaDpmdW5jdGlvbigpe3ZhciBhPVIuYmluZCh0aGlzLm9uRG9jdW1lbnRDbGlja2VkLHRoaXMpLGM9Ui5iaW5kKHRoaXMub25JbnB1dENoYW5nZWQsdGhpcyk7Yi5hZGRFdmVudExpc3RlbmVyPyhiLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGEsITApLGIuYWRkRXZlbnRMaXN0ZW5lcihcImJsdXJcIixjLCEwKSk6Yi5hdHRhY2hFdmVudCYmKGIuYXR0YWNoRXZlbnQoXCJvbmNsaWNrXCIsYSksYi5hdHRhY2hFdmVudChcIm9uZm9jdXNvdXRcIixjKSl9LHdyaXRlVXNlckV2ZW50OmZ1bmN0aW9uKGEsYixjLGQpe1wicGFzc3dvcmRcIj09PXRoaXMuZ2V0RWxlbWVudFR5cGUoYSkmJihjPXZvaWQgMCksUy5hZGQoXCJ1c2VyXCIse3RzOlIubm93KCksYTpiLGU6dGhpcy5nZXRPdXRlckhUTUwoYSksdjp0aGlzLmdldFZhbHVlS2luZChjLGQpfSl9LG9uRG9jdW1lbnRDbGlja2VkOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ2V0RWxlbWVudEZyb21FdmVudChhKTtiJiZiLnRhZ05hbWUmJih0aGlzLmlzVGFyZ2V0KGIsXCJhXCIpfHx0aGlzLmlzVGFyZ2V0KGIsXCJidXR0b25cIil8fHRoaXMuaXNUYXJnZXQoYixcImlucHV0XCIsW1wiYnV0dG9uXCIsXCJzdWJtaXRcIl0pP3RoaXMud3JpdGVVc2VyRXZlbnQoYixcImNsaWNrXCIpOnRoaXMuaXNUYXJnZXQoYixcImlucHV0XCIsW1wiY2hlY2tib3hcIixcInJhZGlvXCJdKSYmdGhpcy53cml0ZVVzZXJFdmVudChiLFwiY2hlY2tcIixiLnZhbHVlLGIuY2hlY2tlZCkpfSxvbklucHV0Q2hhbmdlZDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldEVsZW1lbnRGcm9tRXZlbnQoYSk7YiYmYi50YWdOYW1lJiYodGhpcy5pc1RhcmdldChiLFwidGV4dGFyZWFcIik/dGhpcy53cml0ZVVzZXJFdmVudChiLFwiaW5wdXRcIixiLnZhbHVlKTp0aGlzLmlzVGFyZ2V0KGIsXCJzZWxlY3RcIikmJmIub3B0aW9ucyYmYi5vcHRpb25zLmxlbmd0aD90aGlzLm9uU2VsZWN0SW5wdXRDaGFuZ2VkKGIpOnRoaXMuaXNUYXJnZXQoYixcImlucHV0XCIpJiYhdGhpcy5pc1RhcmdldChiLFwiaW5wdXRcIixbXCJidXR0b25cIixcInN1Ym1pdFwiLFwiaGlkZGVuXCIsXCJjaGVja2JveFwiLFwicmFkaW9cIl0pJiZ0aGlzLndyaXRlVXNlckV2ZW50KGIsXCJpbnB1dFwiLGIudmFsdWUpKX0sb25TZWxlY3RJbnB1dENoYW5nZWQ6ZnVuY3Rpb24oYSl7aWYoYS5tdWx0aXBsZSl7Zm9yKHZhciBiPTA7YjxhLm9wdGlvbnMubGVuZ3RoO2IrKylpZihhLm9wdGlvbnNbYl0uc2VsZWN0ZWQpe3RoaXMud3JpdGVVc2VyRXZlbnQoYSxcInNlbGVjdFwiLGEub3B0aW9uc1tiXS52YWx1ZSk7YnJlYWt9fWVsc2UgMDw9YS5zZWxlY3RlZEluZGV4JiZhLm9wdGlvbnNbYS5zZWxlY3RlZEluZGV4XSYmdGhpcy53cml0ZVVzZXJFdmVudChhLFwic2VsZWN0XCIsYS5vcHRpb25zW2Euc2VsZWN0ZWRJbmRleF0udmFsdWUpfSxnZXRFbGVtZW50RnJvbUV2ZW50OmZ1bmN0aW9uKGEpe3JldHVybiBhLnRhcmdldHx8Yi5lbGVtZW50RnJvbVBvaW50KGEuY2xpZW50WCxhLmNsaWVudFkpfSxpc1RhcmdldDpmdW5jdGlvbihhLGIsYyl7aWYoYS50YWdOYW1lLnRvTG93ZXJDYXNlKCkhPT1iLnRvTG93ZXJDYXNlKCkpcmV0dXJuITE7aWYoIWMpcmV0dXJuITA7Zm9yKHZhciBkPXRoaXMuZ2V0RWxlbWVudFR5cGUoYSksZT0wO2U8Yy5sZW5ndGg7ZSsrKWlmKGNbZV09PT1kKXJldHVybiEwO3JldHVybiExfSxnZXRFbGVtZW50VHlwZTpmdW5jdGlvbihhKXtyZXR1cm4oYS5nZXRBdHRyaWJ1dGUoXCJ0eXBlXCIpfHxcIlwiKS50b0xvd2VyQ2FzZSgpfSxnZXRPdXRlckhUTUw6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPVwiPFwiK2EudGFnTmFtZS50b0xvd2VyQ2FzZSgpLGM9YS5hdHRyaWJ1dGVzLGQ9MCxlPWMubGVuZ3RoO2U+ZDtkKyspe3ZhciBmPWNbZF0ubmFtZTtcInZhbHVlXCIhPT1mLnRvTG93ZXJDYXNlKCkmJihiKz1cIiBcIitmKyc9XCInK2NbZF0udmFsdWUrJ1wiJyl9cmV0dXJuIGIrPVwiID5cIn0sZ2V0VmFsdWVLaW5kOmZ1bmN0aW9uKGEsYil7cmV0dXJuIG51bGw9PWE/bnVsbDp7bGVuZ3RoOmEubGVuZ3RoLGNoZWNrZWQ6YixwYXR0ZXJuOnRoaXMubWF0Y2hJbnB1dFBhdHRlcm4oYSl9fSxtYXRjaElucHV0UGF0dGVybjpmdW5jdGlvbihhKXtyZXR1cm5cIlwiPT09YT9cImVtcHR5XCI6L15bYS16MC05ISMkJSYnKis9P1xcXl9ge3x9flxcLV0rKD86XFwuW2EtejAtOSEjJCUmJyorPT9cXF5fYHt8fX5cXC1dKykqQCg/OlthLXowLTldKD86W2EtejAtOVxcLV0qW2EtejAtOV0pP1xcLikrW2EtejAtOV0oPzpbYS16MC05XFwtXSpbYS16MC05XSk/JC8udGVzdChhKT9cImVtYWlsXCI6L14oMD9bMS05XXxbMTJdWzAtOV18M1swMV0pW1xcL1xcLV0oMD9bMS05XXwxWzAxMl0pW1xcL1xcLV1cXGR7NH0kLy50ZXN0KGEpfHwvXihcXGR7NH1bXFwvXFwtXSgwP1sxLTldfDFbMDEyXSlbXFwvXFwtXTA/WzEtOV18WzEyXVswLTldfDNbMDFdKSQvLnRlc3QoYSk/XCJkYXRlXCI6L14oPzooPzpcXCs/MVxccyooPzpbLlxcLV1cXHMqKT8pPyg/OlxcKFxccyooWzItOV0xWzAyLTldfFsyLTldWzAyLThdMXxbMi05XVswMi04XVswMi05XSlcXHMqXFwpfChbMi05XTFbMDItOV18WzItOV1bMDItOF0xfFsyLTldWzAyLThdWzAyLTldKSlcXHMqKD86Wy5cXC1dXFxzKik/KT8oWzItOV0xWzAyLTldfFsyLTldWzAyLTldMXxbMi05XVswMi05XXsyfSlcXHMqKD86Wy5cXC1dXFxzKik/KFswLTldezR9KSg/OlxccyooPzojfHhcXC4/fGV4dFxcLj98ZXh0ZW5zaW9uKVxccyooXFxkKykpPyQvLnRlc3QoYSk/XCJwaG9uZVwiOi9eXFxzKiQvLnRlc3QoYSk/XCJ3aGl0ZXNwYWNlXCI6L15cXGQqJC8udGVzdChhKT9cIm51bWVyaWNcIjpcImNoYXJhY3RlclwifSxnZXRBbGxFdmVudHM6ZnVuY3Rpb24oKXtyZXR1cm4gUy5hbGwoXCJ1c2VyXCIpfX0sVj17bm9Db25mbGljdDpmdW5jdGlvbigpe3JldHVybiBhLmF0YXR1cz1ELFZ9LGlzQ29uZmlndXJlZDpmdW5jdGlvbigpe3JldHVybiEhb30sY29uZmlnOmZ1bmN0aW9uKGIsYyl7cmV0dXJuIGM9Y3x8e30sbz1iLEMucmVtb3RlRmV0Y2hpbmc9ITEsdz1bXSxjJiYocD1jLmN1c3RvbURhdGEsRT1jLnRhZ3N8fFtdLEo9ISghYy5lbmFibGVTb3VyY2VtYXAmJiFjLnNvdXJjZW1hcCkscz0hIWMuZGlzYWJsZVVzZXJBY3Rpb25zLHQ9ISFjLmRpc2FibGVBamF4TW9uaXRvcmluZyx1PSEhYy5kaXNhYmxlUlVNLEY9ISFjLmRlYnVnTW9kZSxjLmlnbm9yZUVycm9ycyYmUi5pc0FycmF5KGMuaWdub3JlRXJyb3JzKSYmKHc9Yy5pZ25vcmVFcnJvcnMpLFYuc2V0QWxsb3dlZERvbWFpbnMoYy5hbGxvd2VkRG9tYWlucyksVi5zZXRWZXJzaW9uKGMudmVyc2lvbiksVi5lbmFibGVPZmZsaW5lKGMuZW5hYmxlT2ZmbGluZXx8Yy5vZmZsaW5lKSxWLm9uQmVmb3JlRXJyb3JTZW5kKGMuYmVmb3JlRXJyb3JTZW5kKSxWLnNldEdyb3VwaW5nS2V5Q2FsbGJhY2soYy5ncm91cGluZ0tleUNhbGxiYWNrKSksSD1SLmNhbkFsbG93SW5zZWN1cmVTdWJtaXNzaW9ucygpLHcucHVzaCgvXlNjcmlwdCBlcnJvclxcLj8kLyksdy5wdXNoKC9eSmF2YXNjcmlwdCBlcnJvcjogU2NyaXB0IGVycm9yXFwuPyBvbiBsaW5lIDAkLyksdz1SLmpvaW5SZWdFeHAodyksaygpLHY9e2VuYWJsZWQ6ITAsdGltZWxpbmU6ITAsZGlzcGxheTohMCxlcnJvcjohMCxsZXZlbHM6bnVsbH0sUi5pc0Jvb2xlYW4oYy5jb25zb2xlKSYmKHYuZW5hYmxlZD1jLmNvbnNvbGUpLFIuaXNCb29sZWFuKGMuY29uc29sZVRpbWVsaW5lKSYmKHYudGltZWxpbmU9Yy5jb25zb2xlVGltZWxpbmUpLFIuaXNCb29sZWFuKGMuY29uc29sZURpc3BsYXkpJiYodi5kaXNwbGF5PWMuY29uc29sZURpc3BsYXkpLFIuaXNCb29sZWFuKGMuY29uc29sZUVycm9yTm90aWZ5KSYmKHYuZXJyb3I9Yy5jb25zb2xlRXJyb3JOb3RpZnkpLFIuaXNBcnJheShjLmNvbnNvbGVUaW1lbGluZUxldmVscykmJih2LmxldmVscz1jLmNvbnNvbGVUaW1lbGluZUxldmVscyksdi5lbmFibGVkJiZcImNvbnNvbGVcImluIGEmJmEuY29uc29sZS5sb2cmJlQuYXR0YWNoKGEuY29uc29sZSx2LnRpbWVsaW5lLHYuZGlzcGxheSx2LmVycm9yLHYubGV2ZWxzKSxzfHxVLmF0dGFjaCgpLHR8fHV8fFYuX19hdHRhY2hBamF4SG9va3MoKSxWfSxpbnN0YWxsOmZ1bmN0aW9uKCl7cmV0dXJuIGcoKT8oQy5yZXBvcnQuc3Vic2NyaWJlKGwpLEMuZXh0ZW5kVG9Bc3luY2hyb25vdXNDYWxsYmFja3MoKSxBJiZLJiZBLmFqYXhFcnJvcihmKSxWKTp2b2lkIDB9LHVuaW5zdGFsbDpmdW5jdGlvbigpe3JldHVybiBvPW51bGwsQy5yZXBvcnQudW5zdWJzY3JpYmUobCksQSYmSyYmQS51bmJpbmQoXCJhamF4RXJyb3JcIixmKSxWfSxzZXRDdXN0b21EYXRhOmZ1bmN0aW9uKGEpe3JldHVybiBwPWEsVn0sc2V0VGFnczpmdW5jdGlvbihhKXtyZXR1cm4gRT1hLFZ9LHNldEFsbG93ZWREb21haW5zOmZ1bmN0aW9uKGEpe3JldHVybiBhJiZSLmlzQXJyYXkoYSkmJihHPWEpLFZ9LGdldEFsbG93ZWREb21haW5zOmZ1bmN0aW9uKCl7cmV0dXJuIEd9LHNldFVzZXI6ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIHE9e30sYSYmKHEudXNlcklkPVwiXCIrYSksYiYmKHEuZW1haWw9XCJcIitiKSxjJiYocS5maXJzdE5hbWU9XCJcIitjKSxkJiYocS5sYXN0TmFtZT1cIlwiK2QpLFZ9LHNldFZlcnNpb246ZnVuY3Rpb24oYSl7cmV0dXJuIGEmJihyPVwiXCIrYSksVn0sZW5hYmxlT2ZmbGluZTpmdW5jdGlvbihhKXtyZXR1cm4gUi5pc0Jvb2xlYW4oYSkmJihJPWEpLFZ9LG9uQmVmb3JlRXJyb3JTZW5kOmZ1bmN0aW9uKGEpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIGEmJih6PWEpLFZ9LHNldEdyb3VwaW5nS2V5Q2FsbGJhY2s6ZnVuY3Rpb24oYSl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgYSYmKHk9YSksVn0sc2V0QVBJRW5kcG9pbnQ6ZnVuY3Rpb24oYSl7cmV0dXJuIE09YSxWfSxpbml0OmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYyYmKGI9Ynx8e30sYi5jdXN0b21EYXRhPWMpLFYuY29uZmlnKGEsYil9LHdpdGhDdXN0b21EYXRhOmZ1bmN0aW9uKGEpe3JldHVybiBWLnNldEN1c3RvbURhdGEoYSl9LHdpdGhUYWdzOmZ1bmN0aW9uKGEpe3JldHVybiBWLnNldFRhZ3MoYSl9LGF0dGFjaDpmdW5jdGlvbigpe3JldHVybiBWLmluc3RhbGwoKX0sZGV0YWNoOmZ1bmN0aW9uKCl7cmV0dXJuIFYudW5pbnN0YWxsKCl9LG5vdGlmeTpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIFYuc2VuZChhLGIsYyl9LHNlbmRQZXJmOmZ1bmN0aW9uKGEpe3JldHVybiB1P3ZvaWQgUi5sb2coXCJSVU0gaXMgZGlzYWJsZWQuIFBsZWFzZSBlbmFibGUgaXQgaW4gdGhlIGNvbmZpZyBvcHRpb25zLlwiKTptKE8sYSl9LHNlbmRBamF4UGVyZjpmdW5jdGlvbihhKXtyZXR1cm4gdT92b2lkIFIubG9nKFwiUlVNIGlzIGRpc2FibGVkLiBQbGVhc2UgZW5hYmxlIGl0IGluIHRoZSBjb25maWcgb3B0aW9ucy5cIik6bShQLGEpfSxzZW5kVHhuUGVyZjpmdW5jdGlvbihhKXtyZXR1cm4gbShRLGEpfSxzZW5kOmZ1bmN0aW9uKGEsYixjKXt0cnl7bChDLmNvbXB1dGVTdGFja1RyYWNlKGEpLHtjdXN0b21EYXRhOlIubWVyZ2UocCxiKSx0YWdzOlIubWVyZ2VBcnJheShFLGMpfSl9Y2F0Y2goZCl7aWYoYSE9PWQpdGhyb3cgZH1yZXR1cm4gVn0sX2hlbHBlcjpSfTthLmF0YXR1cz1WfSh3aW5kb3csZG9jdW1lbnQsd2luZG93LmpRdWVyeSksZnVuY3Rpb24oYSxiLGMpe2Z1bmN0aW9uIGQoYSl7YS5wbDw9MHx8YXRhdHVzLnNlbmRQZXJmKGEpfWZ1bmN0aW9uIGUoKXt2YXIgYj1hLnBlcmZvcm1hbmNlfHxhLm1velBlcmZvcm1hbmNlfHxhLm1zUGVyZm9ybWFuY2V8fGEud2Via2l0UGVyZm9ybWFuY2UsYz1iLnRpbWluZyxlPWIubmF2aWdhdGlvbjtpZigwPT09Yy5sb2FkRXZlbnRFbmQpcmV0dXJuITE7Y2xlYXJJbnRlcnZhbChpKSxpPW51bGw7dmFyIGY9Yy5uYXZpZ2F0aW9uU3RhcnQ7MD49ZiYmKGY9Yy5mZXRjaFN0YXJ0KTt2YXIgZz17fTtmb3IodmFyIGggaW4gailnW2pbaF1dPS0xLGggaW4gYyYmKGNbaF08PTB8fChnW2pbaF1dPWNbaF0tZikpO3ZhciBrPXtudHk6ZS50eXBlLHJjOmUucmVkaXJlY3RDb3VudCxudDpnLnJwcy1nLm5zLGRwOmcuZGNlLWcucnBzLHByOmcubGUtZy5kY2UsZmU6Zy5sZS1nLnJwcyxwbDpnLmxlLWcubnN9O2Qoayl9ZnVuY3Rpb24gZigpe2lmKCFofHwhaC5iRG9uZSlyZXR1cm4hMTtjbGVhckludGVydmFsKGkpLGk9ITE7dmFyIGE9aC5nZXRNZWFzdXJlcygpO2lmKG51bGwhPWEmJm51bGwhPWEuYmFja2VuZCYmbnVsbCE9YS5mcm9udGVuZCYmbnVsbCE9YVtcInBhZ2UgbG9hZCB0aW1lXCJdJiZudWxsIT1hW1widG90YWwgbG9hZCB0aW1lXCJdKXt2YXIgYj1hLmJhY2tlbmQsYz1hLmJhY2tlbmQrYS5mcm9udGVuZCxlPXtudHk6MCxyYzowLG50OmIsZHA6Yy1iLHByOmFbXCJ0b3RhbCBsb2FkIHRpbWVcIl0tYyxmZTphW1widG90YWwgbG9hZCB0aW1lXCJdLWIscGw6YVtcInRvdGFsIGxvYWQgdGltZVwiXX07ZChlKX19dmFyIGc9KG5ldyBEYXRlKS5nZXRUaW1lKCksaD1ofHx7fTtoLnE9aC5xfHxbXSxoLnZlcnNpb249XCIwLjNcIixoLnRhcmdldE9yaWdpbj1iLmxvY2F0aW9uLnByb3RvY29sK1wiLy9cIitiLmxvY2F0aW9uLmhvc3RuYW1lLGguYlBvc3RNZXNzYWdlPSExLGguYmVhY29uVXJsPWguYmVhY29uVXJsfHxcIi9pbWFnZXMvYmVhY29uLmdpZlwiLGguYXV0b3J1bj0hMSxoLmluaXQ9ZnVuY3Rpb24oKXtpZihoLmJEb25lPSExLGguYlVubG9hZGVkPSExLGgubWFya3M9e30saC5tZWFzdXJlcz17fSxoLnN0YXJ0cz17fSxoLmZpbmRTdGFydFRpbWUoKSxoLmFkZEV2ZW50TGlzdGVuZXIoXCJiZWZvcmV1bmxvYWRcIixoLmJlZm9yZVVubG9hZCwhMSksaC5hZGRFdmVudExpc3RlbmVyKFwicGFnZWhpZGVcIixoLmJlZm9yZVVubG9hZCwhMSksaC5hZGRFdmVudExpc3RlbmVyKFwidW5sb2FkXCIsaC5iZWZvcmVVbmxvYWQsITEpLGgucHJvY2Vzc1EoKSxcImNvbXBsZXRlXCI9PT1iLnJlYWR5U3RhdGUpe3ZhciBjPWEucGVyZm9ybWFuY2V8fGEubW96UGVyZm9ybWFuY2V8fGEubXNQZXJmb3JtYW5jZXx8YS53ZWJraXRQZXJmb3JtYW5jZTtjJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgYy50aW1pbmcmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBjLnRpbWluZy5sb2FkRXZlbnRFbmQmJihoLm1hcmsoXCJmaXJzdGJ5dGVcIixjLnRpbWluZy5yZXNwb25zZVN0YXJ0KSxoLm1hcmsoXCJvbmxvYWRcIixjLnRpbWluZy5sb2FkRXZlbnRFbmQpKSxoLmRvbmUoKX1lbHNlIGguYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIixoLm9ubG9hZCwhMSl9LGgucHJvY2Vzc1E9ZnVuY3Rpb24oKXtmb3IodmFyIGE9aC5xLmxlbmd0aCxiPTA7YT5iO2IrKyl7dmFyIGM9aC5xW2JdLGQ9Y1swXTtcIm1hcmtcIj09PWQ/aC5tYXJrKGNbMV0sY1syXSk6XCJtZWFzdXJlXCI9PT1kP2gubWVhc3VyZShjWzFdLGNbMl0sY1szXSk6XCJkb25lXCI9PT1kJiZoLmRvbmUoY1sxXSl9fSxoLm1hcms9ZnVuY3Rpb24oYixjKXtyZXR1cm4gaC5kcHJpbnQoXCJSVU1fRVBJU09ERVMubWFyazogXCIrYitcIiwgXCIrYyksYj8oaC5tYXJrc1tiXT1wYXJzZUludChjfHwobmV3IERhdGUpLmdldFRpbWUoKSksaC5iUG9zdE1lc3NhZ2UmJmEucG9zdE1lc3NhZ2UoXCJSVU1fRVBJU09ERVM6bWFyazpcIitiK1wiOlwiK2MsaC50YXJnZXRPcmlnaW4pLHZvaWQoXCJmaXJzdGJ5dGVcIj09PWI/aC5tZWFzdXJlKFwiYmFja2VuZFwiLFwic3RhcnR0aW1lXCIsXCJmaXJzdGJ5dGVcIik6XCJvbmxvYWRcIj09PWI/KGgubWVhc3VyZShcImZyb250ZW5kXCIsXCJmaXJzdGJ5dGVcIixcIm9ubG9hZFwiKSxoLm1lYXN1cmUoXCJwYWdlIGxvYWQgdGltZVwiLFwic3RhcnR0aW1lXCIsXCJvbmxvYWRcIikpOlwiZG9uZVwiPT09YiYmaC5tZWFzdXJlKFwidG90YWwgbG9hZCB0aW1lXCIsXCJzdGFydHRpbWVcIixcImRvbmVcIikpKTp2b2lkIGguZHByaW50KFwiRXJyb3I6IG1hcmtOYW1lIGlzIHVuZGVmaW5lZCBpbiBSVU1fRVBJU09ERVMubWFyay5cIil9LGgubWVhc3VyZT1mdW5jdGlvbihiLGMsZCl7aWYoaC5kcHJpbnQoXCJSVU1fRVBJU09ERVMubWVhc3VyZTogXCIrYitcIiwgXCIrYytcIiwgXCIrZCksIWIpcmV0dXJuIHZvaWQgaC5kcHJpbnQoXCJFcnJvcjogZXBpc29kZU5hbWUgaXMgdW5kZWZpbmVkIGluIFJVTV9FUElTT0RFUy5tZWFzdXJlLlwiKTt2YXIgZTtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgYyllPVwibnVtYmVyXCI9PXR5cGVvZiBoLm1hcmtzW2JdP2gubWFya3NbYl06KG5ldyBEYXRlKS5nZXRUaW1lKCk7ZWxzZSBpZihcIm51bWJlclwiPT10eXBlb2YgaC5tYXJrc1tjXSllPWgubWFya3NbY107ZWxzZXtpZihcIm51bWJlclwiIT10eXBlb2YgYylyZXR1cm4gdm9pZCBoLmRwcmludChcIkVycm9yOiB1bmV4cGVjdGVkIHN0YXJ0TmFtZU9yVGltZSBpbiBSVU1fRVBJU09ERVMubWVhc3VyZTogXCIrYyk7ZT1jfXZhciBmO2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBkKWY9KG5ldyBEYXRlKS5nZXRUaW1lKCk7ZWxzZSBpZihcIm51bWJlclwiPT10eXBlb2YgaC5tYXJrc1tkXSlmPWgubWFya3NbZF07ZWxzZXtpZihcIm51bWJlclwiIT10eXBlb2YgZClyZXR1cm4gdm9pZCBoLmRwcmludChcIkVycm9yOiB1bmV4cGVjdGVkIGVuZE5hbWVPclRpbWUgaW4gUlVNX0VQSVNPREVTLm1lYXN1cmU6IFwiK2QpO2Y9ZH1oLnN0YXJ0c1tiXT1wYXJzZUludChlKSxoLm1lYXN1cmVzW2JdPXBhcnNlSW50KGYtZSksaC5iUG9zdE1lc3NhZ2UmJmEucG9zdE1lc3NhZ2UoXCJSVU1fRVBJU09ERVM6bWVhc3VyZTpcIitiK1wiOlwiK2UrXCI6XCIrZixoLnRhcmdldE9yaWdpbil9LGguZG9uZT1mdW5jdGlvbihiKXtoLmJEb25lPSEwLGgubWFyayhcImRvbmVcIiksaC5iUG9zdE1lc3NhZ2UmJmEucG9zdE1lc3NhZ2UoXCJSVU1fRVBJU09ERVM6ZG9uZVwiLGgudGFyZ2V0T3JpZ2luKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBiJiZiKCl9LGguZ2V0TWFya3M9ZnVuY3Rpb24oKXtyZXR1cm4gaC5tYXJrc30saC5nZXRNZWFzdXJlcz1mdW5jdGlvbigpe3JldHVybiBoLm1lYXN1cmVzfSxoLmdldFN0YXJ0cz1mdW5jdGlvbigpe3JldHVybiBoLnN0YXJ0c30saC5maW5kU3RhcnRUaW1lPWZ1bmN0aW9uKCl7dmFyIGE9aC5maW5kU3RhcnRXZWJUaW1pbmcoKXx8aC5maW5kU3RhcnRDb29raWUoKTthJiZoLm1hcmsoXCJzdGFydHRpbWVcIixhKX0saC5maW5kU3RhcnRXZWJUaW1pbmc9ZnVuY3Rpb24oKXt2YXIgYixjPWEucGVyZm9ybWFuY2V8fGEubW96UGVyZm9ybWFuY2V8fGEubXNQZXJmb3JtYW5jZXx8YS53ZWJraXRQZXJmb3JtYW5jZTtyZXR1cm4gYyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGMudGltaW5nJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgYy50aW1pbmcubmF2aWdhdGlvblN0YXJ0JiYoYj1jLnRpbWluZy5uYXZpZ2F0aW9uU3RhcnQsaC5kcHJpbnQoXCJSVU1fRVBJU09ERVMuZmluZFN0YXJ0V2ViVGltaW5nOiBzdGFydFRpbWUgPSBcIitiKSksYn0saC5maW5kU3RhcnRDb29raWU9ZnVuY3Rpb24oKXtmb3IodmFyIGQ9Yi5jb29raWUuc3BsaXQoXCIgXCIpLGU9MDtlPGQubGVuZ3RoO2UrKylpZigwPT09ZFtlXS5pbmRleE9mKFwiUlVNX0VQSVNPREVTPVwiKSl7Zm9yKHZhciBmLGcsaT1kW2VdLnN1YnN0cmluZyhcIlJVTV9FUElTT0RFUz1cIi5sZW5ndGgpLnNwbGl0KFwiJlwiKSxqPTA7ajxpLmxlbmd0aDtqKyspaWYoMD09PWlbal0uaW5kZXhPZihcInM9XCIpKWY9aVtqXS5zdWJzdHJpbmcoMik7ZWxzZSBpZigwPT09aVtqXS5pbmRleE9mKFwicj1cIikpe3ZhciBrPWlbal0uc3Vic3RyaW5nKDIpO2s9ay5yZXBsYWNlKC87JC8sXCJcIiksZz1hLmVzY2FwZShiLnJlZmVycmVyKT09PWt9aWYoZyYmZilyZXR1cm4gaC5kcHJpbnQoXCJSVU1fRVBJU09ERVMuZmluZFN0YXJ0Q29va2llOiBzdGFydFRpbWUgPSBcIitmKSxmfXJldHVybiBjfSxoLmJlZm9yZVVubG9hZD1mdW5jdGlvbigpe2guYlVubG9hZGVkfHwoYi5jb29raWU9XCJSVU1fRVBJU09ERVM9cz1cIitOdW1iZXIobmV3IERhdGUpK1wiJnI9XCIrYS5lc2NhcGUoYi5sb2NhdGlvbikrXCI7IHBhdGg9L1wiLGguYlVubG9hZGVkPSEwKX0saC5vbmxvYWQ9ZnVuY3Rpb24oKXtoLm1hcmsoXCJvbmxvYWRcIiksaC5kb25lKCl9LGguYWRkRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihiLGMsZCl7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGEuYXR0YWNoRXZlbnQ/YS5hdHRhY2hFdmVudChcIm9uXCIrYixjKTphLmFkZEV2ZW50TGlzdGVuZXI/YS5hZGRFdmVudExpc3RlbmVyKGIsYyxkKTp2b2lkIDB9LGguZHByaW50PWZ1bmN0aW9uKCl7fSxoLmluaXQoKTt2YXIgaT1udWxsLGo9e25hdmlnYXRpb25TdGFydDpcIm5zXCIscmVkaXJlY3RTdGFydDpcInJkc1wiLHJlZGlyZWN0RW5kOlwicmRlXCIsdW5sb2FkRXZlbnRTdGFydDpcInVzXCIsdW5sb2FkRXZlbnRFbmQ6XCJ1ZVwiLGZldGNoU3RhcnQ6XCJmc1wiLGRvbWFpbkxvb2t1cFN0YXJ0OlwiZGxzXCIsZG9tYWluTG9va3VwRW5kOlwiZGxlXCIsY29ubmVjdFN0YXJ0OlwiY3NcIixzZWN1cmVDb25uZWN0aW9uU3RhcnQ6XCJzY3NcIixjb25uZWN0RW5kOlwiY2VcIixoYW5kc2hha2VTdGFydDpcImhzXCIscmVxdWVzdFN0YXJ0OlwicnFzXCIscmVzcG9uc2VTdGFydDpcInJwc1wiLHJlc3BvbnNlRW5kOlwicnBlXCIsZG9tTG9hZGluZzpcImRsXCIsZG9tSW50ZXJhY3RpdmU6XCJkaVwiLGRvbUNvbnRlbnRMb2FkZWRFdmVudFN0YXJ0OlwiZGNzXCIsZG9tQ29udGVudExvYWRlZEV2ZW50RW5kOlwiZGNlXCIsZG9tQ29tcGxldGU6XCJkY1wiLGxvYWRFdmVudFN0YXJ0OlwibHNcIixsb2FkRXZlbnRFbmQ6XCJsZVwifSxrPWEucGVyZm9ybWFuY2V8fGEubW96UGVyZm9ybWFuY2V8fGEubXNQZXJmb3JtYW5jZXx8YS53ZWJraXRQZXJmb3JtYW5jZTtrJiZcInVuZGVmaW5lZFwiIT10eXBlb2Ygay50aW1pbmcmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBrLm5hdmlnYXRpb24/aT1zZXRJbnRlcnZhbChlLDEwMCk6KGgubWFyayhcImZpcnN0Ynl0ZVwiLGcpLGk9c2V0SW50ZXJ2YWwoZiwxMDApKX0od2luZG93LGRvY3VtZW50KSxhdGF0dXMuX19hdHRhY2hBamF4SG9va3M9ZnVuY3Rpb24oKXshZnVuY3Rpb24oYSxiKXt2YXIgYz1hdGF0dXMuX2hlbHBlcixkPXtxdWV1ZTpbXSxiYXRjaFNpemU6MjUscHJvY2Vzc2luZzohMSxiVW5sb2FkZWQ6ITEscHVzaDpmdW5jdGlvbihhKXtcInN0cmluZ1wiPT10eXBlb2YgYS51cmwmJmEudXJsLmluZGV4T2YoXCIuaHRtbFwiKT4wfHwodGhpcy5xdWV1ZS5wdXNoKGEpLHRoaXMucXVldWUubGVuZ3RoPj10aGlzLmJhdGNoU2l6ZSYmdGhpcy5fcHJvY2Vzc1F1ZXVlKCkpfSxfcHJvY2Vzc1F1ZXVlOmZ1bmN0aW9uKCl7aWYoIXRoaXMucHJvY2Vzc2luZyYmdGhpcy5xdWV1ZS5sZW5ndGgpe3RoaXMucHJvY2Vzc2luZz0hMDt0cnl7Zm9yKHZhciBhPXt9LGI9e30sZD0wO2Q8dGhpcy5xdWV1ZS5sZW5ndGg7ZCsrKXt2YXIgZSxmPXRoaXMucXVldWVbZF07aWYoZi5zdGF0dXM8NDAwKXtlPWYubWV0aG9kK2YudXJsO3ZhciBnPWYucmVzcEF2YWlsVGltZS1mLnNlbmRUaW1lLGg9Zi5yZXNwUHJvY1RpbWUtZi5yZXNwQXZhaWxUaW1lLGk9Zi5yZWNlaXZlZFNpemUsaj1mLnNlbmRTaXplLGs9YVtlXTtpZihrKXtrLmMrKzt2YXIgbD1rLnJlO2wudD1sLnQrZyxsLmxvPWwubG88Zz9sLmxvOmcsbC5oaT1sLmhpPmc/bC5oaTpnLGwuc3NxPWwuc3NxK2cqZzt2YXIgbT1rLmNiO20udD1tLnQraCxtLmxvPW0ubG88aD9tLmxvOmgsbS5oaT1tLmhpPmg/bS5oaTpoLG0uc3NxPW0uc3NxK2gqaDt2YXIgbj1rLnJzO24udD1uLnQraSxuLmxvPW4ubG88aT9uLmxvOmksbi5oaT1uLmhpPmk/bi5oaTppLG4uc3NxPW4uc3NxK2kqaTt2YXIgbz1rLnNzO28udD1vLnQraixvLmxvPW8ubG88aj9vLmxvOmosby5oaT1vLmhpPmo/by5oaTpqLG8uc3NxPW8uc3NxK2oqan1lbHNlIGFbZV09e206Zi5tZXRob2QsdXJsOmYudXJsLGM6MSxyZTp7dDpnLGxvOmcsaGk6Zyxzc3E6ZypnfSxjYjp7dDpoLGxvOmgsaGk6aCxzc3E6aCpofSxyczp7dDpmLnJlY2VpdmVkU2l6ZSxsbzpmLnJlY2VpdmVkU2l6ZSxoaTpmLnJlY2VpdmVkU2l6ZSxzc3E6Zi5yZWNlaXZlZFNpemUqZi5yZWNlaXZlZFNpemV9LHNzOnt0OmYuc2VuZFNpemUsbG86Zi5zZW5kU2l6ZSxoaTpmLnNlbmRTaXplLHNzcTpmLnNlbmRTaXplKmYuc2VuZFNpemV9fX1lbHNlIGU9Zi5tZXRob2QrZi5zdGF0dXMrZi51cmwsYltlXT9iW2VdLmMrKzpiW2VdPXttOmYubWV0aG9kLHVybDpmLnVybCxzdDpmLnN0YXR1cyxjOjF9fXZhciBwPXt4aHI6Yy5hcnJheUZyb21PYmplY3QoYSkseGhyRXJyb3I6Yy5hcnJheUZyb21PYmplY3QoYil9O2F0YXR1cy5zZW5kQWpheFBlcmYocCl9Y2F0Y2gocSl7Yy5sb2coXCJFcnJvciB3aGlsZSBwcm9jZXNzaW5nIHF1ZXVlOiBcIixxKX1maW5hbGx5e3RoaXMucXVldWU9W10sdGhpcy5wcm9jZXNzaW5nPSExfX19LGJlZm9yZVVubG9hZDpmdW5jdGlvbigpe2QuYlVubG9hZGVkfHwoZC5fcHJvY2Vzc1F1ZXVlKCksZC5iVW5sb2FkZWQ9ITApfX07Yy5hZGRFdmVudExpc3RlbmVyKFwiYmVmb3JldW5sb2FkXCIsZC5iZWZvcmVVbmxvYWQsITEpO3ZhciBlPXtzdXBwb3J0OmZ1bmN0aW9uKGEpe3JldHVybiFhfHxcImFwcGx5XCJpbiBhfSxhcm91bmQ6ZnVuY3Rpb24oYSxiLGQsZSl7cmV0dXJuIGE9YXx8ZnVuY3Rpb24oKXt9LGZ1bmN0aW9uKCl7dmFyIGYsZz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO3RyeXtiJiYoZj1iLmFwcGx5KHRoaXMsZykpfWNhdGNoKGgpe2MubG9nKGUsaCl9dmFyIGk7dHJ5e2k9YS5hcHBseSh0aGlzLGZ8fGcpfWZpbmFsbHl7dHJ5e2QmJmQuYXBwbHkodGhpcyxnKX1jYXRjaChoKXtjLmxvZyhlLGgpfX1yZXR1cm4gaX19LGJlZm9yZTpmdW5jdGlvbihhLGIpe3JldHVybiBlLmFyb3VuZChhLGIpfSxhZnRlcjpmdW5jdGlvbihhLGIpe3JldHVybiBlLmFyb3VuZChhLG51bGwsYil9LHRpbWVvdXQ6ZnVuY3Rpb24oYSl7c2V0VGltZW91dChhLDApfSx3cmFwQWRkRXZlbnRMaXN0ZW5lcjpmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihhLGIpe2lmKChcImxvYWRcIj09PWF8fFwiZXJyb3JcIj09PWEpJiZiJiZ0aGlzLl9hdHJ1bVhockRhdGEpe3ZhciBjO2IuX19hdHJ1bUludGVyY2VwdG9yP2M9Yi5fX2F0cnVtSW50ZXJjZXB0b3I6ZS5zdXBwb3J0KGIpPyhjPWcud3JhcFhIUihiLHRoaXMsXCJYSFIuaW52b2tlRXZlbnRMaXN0ZW5lclwiKSxiLl9fYXRydW1JbnRlcmNlcHRvcj1jKTpjPW51bGw7dmFyIGQ7cmV0dXJuIGMmJihkPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyksZFsxXT1jKSxkfX19LHdyYXBSZW1vdmVFdmVudExpc3RlbmVyOmZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGEsYil7aWYodGhpcy5fYXRydW1YaHJEYXRhKXt2YXIgYz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO3JldHVybiBiLl9fYXRydW1JbnRlcmNlcHRvciYmKGNbMV09Yi5fX2F0cnVtSW50ZXJjZXB0b3IpLGN9fX0sYXJvdW5kV2l0aEhhbmRsZUV2ZW50OmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBmPWE7cmV0dXJuIGEmJlwib2JqZWN0XCI9PXR5cGVvZiBhJiZcInRvU3RyaW5nXCJpbiBhJiZcIlt4cGNvbm5lY3Qgd3JhcHBlZCBuc0lET01FdmVudExpc3RlbmVyXVwiPT09YS50b1N0cmluZygpJiZcImhhbmRsZUV2ZW50XCJpbiBhJiYoZj1mdW5jdGlvbigpe2EuaGFuZGxlRXZlbnQuYXBwbHkodGhpcyxBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpKX0pLGUuYXJvdW5kKGYsYixjLGQpfSxnZXRGdWxseVF1YWxpZmllZFVybDpmdW5jdGlvbihhKXt2YXIgYz1iLmNyZWF0ZUVsZW1lbnQoXCJhXCIpO3JldHVybiBjLmhyZWY9YSxjLmhyZWZ9fTtpZihhLlhNTEh0dHBSZXF1ZXN0JiZhLlhNTEh0dHBSZXF1ZXN0LnByb3RvdHlwZSl7dmFyIGY9YS5YTUxIdHRwUmVxdWVzdC5wcm90b3R5cGU7aWYoIShcIm9wZW5cImluIGYmJlwic2VuZFwiaW4gZikpcmV0dXJuO2lmKCFlLnN1cHBvcnQoZi5vcGVuKXx8IWUuc3VwcG9ydChmLnNlbmQpKXJldHVybjt2YXIgZz17fTtnLmNhcHR1cmVBamF4VGltaW5ncz1mdW5jdGlvbihhKXt2YXIgYj1hLl9hdHJ1bVhockRhdGE7aWYoYil7dmFyIGM9KG5ldyBEYXRlKS5nZXRUaW1lKCk7Mj09PWEucmVhZHlTdGF0ZT9iLmZpcnN0Qnl0ZVRpbWU9Yi5maXJzdEJ5dGVUaW1lfHxjOjQ9PT1hLnJlYWR5U3RhdGUmJihiLnJlc3BBdmFpbFRpbWU9Yi5yZXNwQXZhaWxUaW1lfHxjLGIuZmlyc3RCeXRlVGltZT1iLmZpcnN0Qnl0ZVRpbWV8fGMpfX0sZy5zZW5kUGF5bG9hZD1mdW5jdGlvbihhLGIpe2IucmVjZWl2ZWRTaXplPTAsYS5yZXNwb25zZVR5cGUmJlwidGV4dFwiIT09YS5yZXNwb25zZVR5cGV8fFwic3RyaW5nXCI9PXR5cGVvZiBhLnJlc3BvbnNlVGV4dCYmKGIucmVjZWl2ZWRTaXplPWEucmVzcG9uc2VUZXh0Lmxlbmd0aCksYi5zdGF0dXM9YS5zdGF0dXMsZC5wdXNoKGIpfSxnLndyYXBYSFI9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBlLmFyb3VuZFdpdGhIYW5kbGVFdmVudChhLGZ1bmN0aW9uKCl7Zy5jYXB0dXJlQWpheFRpbWluZ3ModGhpcyl9LGZ1bmN0aW9uKCl7dmFyIGE9Yi5fYXRydW1YaHJEYXRhO2lmKGEmJjQ9PT1iLnJlYWR5U3RhdGUpe3ZhciBjPShuZXcgRGF0ZSkuZ2V0VGltZSgpO2EucmVzcFByb2NUaW1lPWEucmVzcFByb2NUaW1lfHxjLGcuc2VuZFBheWxvYWQoYixhKSxkZWxldGUgYi5fYXRydW1YaHJEYXRhfX0sYyl9LGcuYWpheERvbmU9ZnVuY3Rpb24oYSl7aWYoYS5fYXRydW1YaHJEYXRhKXt2YXIgYj0obmV3IERhdGUpLmdldFRpbWUoKSszZTQsYz1mdW5jdGlvbigpe2cuY2FwdHVyZUFqYXhUaW1pbmdzKGEpO3ZhciBkPWEuX2F0cnVtWGhyRGF0YTtpZihkKXt2YXIgZT0obmV3IERhdGUpLmdldFRpbWUoKTs0PT09YS5yZWFkeVN0YXRlPyhkLnJlc3BQcm9jVGltZT1kLnJlc3BQcm9jVGltZXx8ZSxnLnNlbmRQYXlsb2FkKGEsZCksZGVsZXRlIGEuX2F0cnVtWGhyRGF0YSk6Yj5lP3NldFRpbWVvdXQoYyw1MCk6ZGVsZXRlIGEuX2F0cnVtWGhyRGF0YX19O2MoKX19LGYub3Blbj1lLmFyb3VuZChmLm9wZW4sZnVuY3Rpb24oKXt2YXIgYT0xPD1hcmd1bWVudHMubGVuZ3RoP1N0cmluZyhhcmd1bWVudHNbMF0pOlwiXCIsYj0yPD1hcmd1bWVudHMubGVuZ3RoP1N0cmluZyhhcmd1bWVudHNbMV0pOlwiXCIsYz1hdGF0dXMuZ2V0QWxsb3dlZERvbWFpbnMoKSxkPSEwO2lmKGI9ZS5nZXRGdWxseVF1YWxpZmllZFVybChiKSxiJiZjJiZjLmxlbmd0aCl7ZD0hMTtmb3IodmFyIGY9MDtmPGMubGVuZ3RoO2YrKyl7dmFyIGc9Y1tmXTtpZihnJiZiLmluZGV4T2YoZyk+LTEpe2Q9ITA7YnJlYWt9fX1kJiYoYj1iJiZiLnNwbGl0KFwiP1wiKVswXSx0aGlzLl9hdHJ1bVhockRhdGE9e21ldGhvZDphLHVybDpiLHNlbmRUaW1lOm51bGwsc2VuZFNpemU6bnVsbCxmaXJzdEJ5dGVUaW1lOm51bGwscmVzcEF2YWlsVGltZTpudWxsLHJlc3BQcm9jVGltZTpudWxsLHJlY2VpdmVkU2l6ZTpudWxsLHBhcmVudFBoYXNlOm51bGx9KX0sbnVsbCxcIlhIUi5vcGVuXCIpLGYuc2VuZD1lLmFyb3VuZChmLnNlbmQsZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9YS5fYXRydW1YaHJEYXRhO2lmKGIpe3ZhciBjPShuZXcgRGF0ZSkuZ2V0VGltZSgpO2Iuc2VuZFRpbWU9Yi5zZW5kVGltZXx8YyxiLnNlbmRTaXplPTE8PWFyZ3VtZW50cy5sZW5ndGgmJmFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF0ubGVuZ3RofHwwOjA7dmFyIGQ9MCxmPWZ1bmN0aW9uKCl7aWYoND09PWEucmVhZHlTdGF0ZSlnLmFqYXhEb25lKGEpO2Vsc2V7dmFyIGI9bnVsbDt0cnl7Yj1hLm9ucmVhZHlzdGF0ZWNoYW5nZX1jYXRjaChjKXtyZXR1cm4gdm9pZCBnLmFqYXhEb25lKGEpfWQrKyxiP2Uuc3VwcG9ydChiKT9hLm9ucmVhZHlzdGF0ZWNoYW5nZT1nLndyYXBYSFIoYixhLFwiWEhSLm9uUmVhZHlTdGF0ZUNoYW5nZVwiKTpnLmFqYXhEb25lKGEpOjU+ZD9lLnRpbWVvdXQoZik6Zy5hamF4RG9uZShhKX19O2YoKX19LG51bGwsXCJYSFIuc2VuZFwiKSxcImFkZEV2ZW50TGlzdGVuZXJcImluIGYmJlwicmVtb3ZlRXZlbnRMaXN0ZW5lclwiaW4gZiYmZS5zdXBwb3J0KGYuYWRkRXZlbnRMaXN0ZW5lcikmJmUuc3VwcG9ydChmLnJlbW92ZUV2ZW50TGlzdGVuZXIpJiYoZi5hZGRFdmVudExpc3RlbmVyPWUuYXJvdW5kKGYuYWRkRXZlbnRMaXN0ZW5lcixlLndyYXBBZGRFdmVudExpc3RlbmVyKCksbnVsbCxcIlhIUi5hZGRFdmVudExpc3RlbmVyXCIpLGYucmVtb3ZlRXZlbnRMaXN0ZW5lcj1lLmFyb3VuZChmLnJlbW92ZUV2ZW50TGlzdGVuZXIsZS53cmFwUmVtb3ZlRXZlbnRMaXN0ZW5lcigpLG51bGwsXCJYSFIucmVtb3ZlRXZlbnRMaXN0ZW5lclwiKSl9fSh3aW5kb3csZG9jdW1lbnQpfSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEsYixjKXtpZighKDA+PWIpKXt2YXIgZD17bmFtZTphLGR1cjpiLHN0OmN9O2F0YXR1cy5zZW5kVHhuUGVyZihkKX19ZnVuY3Rpb24gYyhhKXtyZXR1cm4gaCtcIiBcIithfWZ1bmN0aW9uIGQoKXt0cnl7cmV0dXJuXCJsb2NhbFN0b3JhZ2VcImluIGEmJm51bGwhPT1hLmxvY2FsU3RvcmFnZTt9Y2F0Y2goYil7cmV0dXJuITF9fWZ1bmN0aW9uIGUoYSl7dmFyIGI9aS5ub3coKTt0cnl7bG9jYWxTdG9yYWdlLnNldEl0ZW0oYyhhKSxiKX1jYXRjaChkKXt9fWZ1bmN0aW9uIGYoYSl7dmFyIGI9bnVsbCxkPWMoYSk7dHJ5e2I9bG9jYWxTdG9yYWdlLmdldEl0ZW0oZCksbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oZCl9Y2F0Y2goZSl7fXZhciBmPTA7cmV0dXJuIGImJihmPWkubm93KCktYiksZn1mdW5jdGlvbiBnKGEpe3RyeXt2YXIgYj1jKGEpO2xvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGIpfWNhdGNoKGQpe319dmFyIGg9XCJhdGF0dXMuY29tL1wiLGk9YXRhdHVzLl9oZWxwZXIsaj0xLGs9MDthdGF0dXMuYmVnaW5UcmFuc2FjdGlvbj1mdW5jdGlvbihhKXtkKCkmJmUoYSl9LGF0YXR1cy5lbmRUcmFuc2FjdGlvbj1mdW5jdGlvbihhKXtpZihkKCkpe3ZhciBjPWYoYSk7YihhLGMsail9fSxhdGF0dXMuZmFpbFRyYW5zYWN0aW9uPWZ1bmN0aW9uKGEpe2lmKGQoKSl7dmFyIGM9ZihhKTtiKGEsYyxrKX19LGF0YXR1cy5jYW5jZWxUcmFuc2FjdGlvbj1mdW5jdGlvbihhKXtkKCkmJmcoYSl9fSh3aW5kb3csZG9jdW1lbnQpO1xuLyohIGh0dHBzOi8vZ2l0aHViLmNvbS90dGF1YmVydC9ub2RlLWFycmF5YnVmZmVyLXNsaWNlXG4gKiAoYykgMjAxNCBUaW0gVGF1YmVydCA8dGltQHRpbXRhdWJlcnQuZGU+XG4gKiBhcnJheWJ1ZmZlci1zbGljZSBtYXkgYmUgZnJlZWx5IGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS4qL1xuIWZ1bmN0aW9uKHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHQocix0KXtyZXR1cm4gcj0wfHJ8fDAscjwwP01hdGgubWF4KHIrdCwwKTpNYXRoLm1pbihyLHQpfUFycmF5QnVmZmVyLnByb3RvdHlwZS5zbGljZXx8KEFycmF5QnVmZmVyLnByb3RvdHlwZS5zbGljZT1mdW5jdGlvbihlLG4pe3ZhciBmPXRoaXMuYnl0ZUxlbmd0aCxpPXQoZSxmKSxhPWY7aWYobiE9PXImJihhPXQobixmKSksaT5hKXJldHVybiBuZXcgQXJyYXlCdWZmZXIoMCk7dmFyIHU9YS1pLHk9bmV3IEFycmF5QnVmZmVyKHUpLG89bmV3IFVpbnQ4QXJyYXkoeSkscz1uZXcgVWludDhBcnJheSh0aGlzLGksdSk7cmV0dXJuIG8uc2V0KHMpLHl9KX0oKTtcbiFmdW5jdGlvbihlKXtmdW5jdGlvbiB0KGkpe2lmKHJbaV0pcmV0dXJuIHJbaV0uaTt2YXIgbj1yW2ldPXtzOmksbzohMSxpOnt9fTtyZXR1cm4gZVtpXS5jYWxsKG4uaSxuLG4uaSx0KSxuLm89ITAsbi5pfXZhciByPXt9O3QuaD1lLHQuYz1yLHQuZD1mdW5jdGlvbihlLHIsaSl7dC51KGUscil8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHIse2w6ITEscDohMCxnZXQ6aX0pfSx0Lm49ZnVuY3Rpb24oZSl7dmFyIHI9ZSYmZS5nP2Z1bmN0aW9uKCl7cmV0dXJuIGUuZGVmYXVsdH06ZnVuY3Rpb24oKXtyZXR1cm4gZX07cmV0dXJuIHQuZChyLFwiYVwiLHIpLHJ9LHQudT1mdW5jdGlvbihlLHQpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KX0sdC52PVwiXCIsdCh0LlQ9OTkpfShbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpLG49cig0MCkscz1yKDMpOyFmdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQpe04mJmNvbnNvbGUubG9nKFwiRnJhbWV3b3JrIGFscmVhZHkgaW5pdGlhbGl6ZWRcIiksZS5tKCksQT1uZXcgRGF0ZSx0LmFwcGx5KEwpLE49TC5yZXNvbHZlKEMuSSksaz1MLnJlc29sdmUoQy5SKSxGPU4uQygpfWZ1bmN0aW9uIHIoKXtEPUwucmVzb2x2ZShDLl8pLEQuaW5pdCgpfWZ1bmN0aW9uIGkoKXtyZXR1cm4gRH1mdW5jdGlvbiBvKCl7cmV0dXJuIEx9ZnVuY3Rpb24gYSgpe3JldHVybiBrfWZ1bmN0aW9uIGgoKXtyZXR1cm4gTn1mdW5jdGlvbiBjKGUpe3JldHVybiBNLmdldChlKX1mdW5jdGlvbiB1KGUsdCl7dmFyIHI9bmV3IF8oZSk7cmV0dXJuIHIuYXBwbHkodCksTS5zZXQoZSxyKSxyfWZ1bmN0aW9uIGwodCl7UD1lLlAodCl9ZnVuY3Rpb24gcChlKXtyZXR1cm4gbnVsbCE9UD9QLmNvbnRleHQucmVzb2x2ZShlKTooY29uc29sZS53YXJuKFwidW5kZWZpbmVkIGNvbnRleHRcIiksbnVsbCl9ZnVuY3Rpb24gZCgpe3JldHVybiBQfWZ1bmN0aW9uIGYoKXtyZXR1cm4gTi50aW1lKCl9ZnVuY3Rpb24gZyhlLHQpe3JldHVybiBOLnNldFRpbWVvdXQoZSx0KX1mdW5jdGlvbiBFKGUpe3JldHVybiBOLmNsZWFyVGltZW91dChlKX1mdW5jdGlvbiB2KGUsdCl7cmV0dXJuIE4uc2V0SW50ZXJ2YWwoZSx0KX1mdW5jdGlvbiB5KGUpe3JldHVybiBOLmNsZWFySW50ZXJ2YWwoZSl9ZnVuY3Rpb24gVCgpe04uQSgpfWZ1bmN0aW9uIG0oKXtOJiZOLk8oKSxMLk4oKSxMPW5ldyBuLkQsTT1uZXcgcyxQPW51bGwsQT1udWxsLEY9ITEsTz1udWxsLE49bnVsbCxEPW51bGwsaz1udWxsfWZ1bmN0aW9uIEkoZSl7Tz1lfWZ1bmN0aW9uIFMoKXtyZXR1cm4gT3x8KE89KG5ldyBEYXRlKS5nZXRUaW1lKCkpLChPPSg5MzAxKk8rNDkyOTcpJTIzMzI4MCkvMjMzMjgwfWZ1bmN0aW9uIFIoKXtyZXR1cm4gQX1mdW5jdGlvbiB3KCl7cmV0dXJuIEZ9dmFyIGI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlfSgpO2Iuaz1cIndzOi8vMTI3LjAuMC4xOjgwMDAvaGl2ZVwiLGUuTD1iO3ZhciBDPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZX0oKTtDLkk9XCJUaW1lclNjaGVkdWxlclwiLEMuTT1cImlkZW50aXR5UHJvdmlkZXJcIixDLl89XCJOZXR3b3JrQ29tcG9uZW50XCIsQy5GPVwicnRjTWFuYWdlclwiLEMuVT1cInRyYW5zcG9ydFwiLEMuQj1cImh0dHBNYW5hZ2VyXCIsQy5IPVwiaHR0cFJlcXVlc3RcIixDLlI9XCJsb2dnZXJcIixDLnE9XCJzZXJ2ZXJNYW5hZ2VyXCIsQy5HPVwic2VydmljZXNDbGllbnRcIixlLlY9Qzt2YXIgXz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dGhpcy5pZD1lLHRoaXMuY29udGV4dD1uZXcgbi5EfXJldHVybiBlLnByb3RvdHlwZS5hcHBseT1mdW5jdGlvbihlKXtlLmFwcGx5KHRoaXMuY29udGV4dCl9LGV9KCk7ZS5qPV87IWZ1bmN0aW9uKGUpe2VbZS5LPTBdPVwiSFRUUFwiLGVbZS5ZPTFdPVwiUlRDXCIsZVtlLlc9Ml09XCJVRFBcIn0oZS5KfHwoZS5KPXt9KSk7IWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIHIoKXtyZXR1cm5cIltcIitmKCkrXCJdIFtcIitlLlgoKS5pZCtcIl1cIn10LmdldElkPXJ9KGUuWnx8KGUuWj17fSkpO3ZhciBQLEEsTyxOLEQsayxMPW5ldyBuLkQsTT1uZXcgcyxGPSExO2UuJD10LGUuZWU9cixlLnRlPWksZS5zeXN0ZW09byxlLmxvZ2dlcj1hLGUucmU9aCxlLlA9YyxlLmllPXUsZS5uZT1sLGUucmVzb2x2ZT1wLGUuWD1kLGUudGltZT1mLGUuc2V0VGltZW91dD1nLGUuY2xlYXJUaW1lb3V0PUUsZS5zZXRJbnRlcnZhbD12LGUuY2xlYXJJbnRlcnZhbD15LGUuQT1ULGUubT1tLGUuc2U9SSxlLnJhbmRvbT1TLGUub2U9UixlLkM9d30oaT10LkZyYW1ld29ya3x8KHQuRnJhbWV3b3JrPXt9KSksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbCYmKGdsb2JhbC5GcmFtZXdvcms9aSl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1yKDEwNiksbj1yKDIwKSxzPXIoNiksbz1zLmhlLmFlLGE9KHMuaGUuY2Uscy5oZS51ZSksaD1zLmhlLmxlLGM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpe3ZhciByPXRoaXM7aWYodGhpcy5pc0FjdGl2ZT0hMSx0aGlzLnBlPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBhdGF0dXMmJm51bGwhPWF0YXR1cyx0aGlzLmRlPXt9LGUuZmUpdGhyb3cgbmV3IEVycm9yKFwiRXJyb3I6IEluc3RhbnRpYXRpb24gZmFpbGVkOiBVc2UgQXRhdHVzTG9nZ2VyLmdldEluc3RhbmNlKCkgaW5zdGVhZCBvZiBuZXcuXCIpO3ZhciBpLHM9dm9pZCAwIT1uLkhpdmVDb25maWcuRXJyb3JNb25pdG9yLmtleT9uLkhpdmVDb25maWcuRXJyb3JNb25pdG9yLmtleTpvLGM9MT09bi5IaXZlQ29uZmlnLkVycm9yTW9uaXRvci5lbmFibGVkUlVNLHU9MT09bi5IaXZlQ29uZmlnLkVycm9yTW9uaXRvci5lbmFibGVLZXlDb21iaW5hdGlvbixsPTE9PW4uSGl2ZUNvbmZpZy5FcnJvck1vbml0b3IuZW5hYmxlZEVycm9yRmlsdGVyO2wmJihpPXRoaXMuZ2UoKSksdGhpcy52ZXJzaW9uPXQsdGhpcy5wZSYmKHZvaWQgMD09bi5IaXZlQ29uZmlnLkVycm9yTW9uaXRvci5lbmFibGVkJiZhfHx2b2lkIDAhPW4uSGl2ZUNvbmZpZy5FcnJvck1vbml0b3IuZW5hYmxlZCYmMT09bi5IaXZlQ29uZmlnLkVycm9yTW9uaXRvci5lbmFibGVkKSYmKGF0YXR1cy5jb25maWcocyx7ZW5hYmxlU291cmNlbWFwOiEwLGRpc2FibGVSVU06IWMsY29uc29sZTohMSx2ZXJzaW9uOnQsYmVmb3JlRXJyb3JTZW5kOmZ1bmN0aW9uKGUpe3ZhciB0PSExO2UmJmUuY3VzdG9tRGF0YSYmdm9pZCAwIT09ZS5jdXN0b21EYXRhLmZvcmNlU2VuZCYmKHQ9ZS5jdXN0b21EYXRhLmZvcmNlU2VuZCxkZWxldGUgZS5jdXN0b21EYXRhLmZvcmNlU2VuZCwwPT09T2JqZWN0LmtleXMoZS5jdXN0b21EYXRhKS5sZW5ndGgmJihlLmN1c3RvbURhdGE9bnVsbCkpO2Zvcih2YXIgbiBpbiByLmRlKWUuY3VzdG9tRGF0YVtuXT1yLmRlW25dO2lmKCFsfHx0KXJldHVybiEwO2lmKCFpKXJldHVybiExO3RyeXt2YXIgcz0hMTtpZihlLmJhY2tUcmFjZXMpe2Zvcih2YXIgbz0wLGE9ZS5iYWNrVHJhY2VzO288YS5sZW5ndGg7bysrKXt2YXIgYz1hW29dO2lmKGMuZi5pbmRleE9mKGkpPi0xJiZjLmxuPmgpe3M9ITA7YnJlYWt9fXMmJihlLm5hbWU9ZS5uYW1lLnJlcGxhY2UoLyVzIFxcW1swLTldezJ9OlswLTldezJ9OlswLTldezJ9OlswLTldK10gLyxcIlwiKSxlLm5hbWUuaW5kZXhPZihcIlN0YXR1cyBDb2RlIEVycm9yOlwiKT49MCYmKGUudGFncz1bXCJQbHVnaW4gRXJyb3IgQ29kZVwiLGUubmFtZS5zcGxpdChcIjpcIilbMV0udHJpbSgpXSkpfXJldHVybiBzfWNhdGNoKGUpe3JldHVybiExfX19KS5pbnN0YWxsKCksdSYmdGhpcy5FZSgpLHRoaXMuaXNBY3RpdmU9ITAsd2luZG93LmNvbnNvbGUmJmNvbnNvbGUubG9nKFwiW0hpdmVDb21tXSBFcnJvciBNb25pdG9yIGluc3RhbGxlZCBbUlVNOlwiK2MrXCIsIEtleUhhbmRsZXI6XCIrdStcIl1cIiksbCYmIWkmJnRoaXMubG9nRXJyb3IoXCJDb3VsZCBub3QgZXh0cmFjdCBlcnJvciBmaWx0ZXJcIikpfXJldHVybiBlLnZlPWZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDA9PT10JiYodD1cIjMuMC4wXCIpLHZvaWQgMD09PXRoaXMuZmUmJih0aGlzLmZlPW5ldyBlKHQpKSx0aGlzLmZlfSxlLnByb3RvdHlwZS5FZT1mdW5jdGlvbigpe2kuVGUudmUoKS55ZShbMTYsMTcsODhdLGZ1bmN0aW9uKCl7dHJ5e3Rocm93IG5ldyBFcnJvcihcIlVwbG9hZCBjb25zb2xlIGxvZ3NcIil9Y2F0Y2goZSl7YXRhdHVzLm5vdGlmeShlKSx3aW5kb3cuY29uc29sZSYmY29uc29sZS5sb2coXCJbSGl2ZUNvbW1dIGNvbnNvbGUgbG9nIHVwbG9hZGVkIGZvciBkZWJ1Z2dpbmdcIil9fSl9LGUucHJvdG90eXBlLmdlPWZ1bmN0aW9uKCl7dHJ5e3Rocm93IG5ldyBFcnJvcihcInRlc3RcIil9Y2F0Y2godCl7dmFyIGU9dC5zdGFjay5tYXRjaCgvKFxcL1xcLy4qXFwuanMpL2kpO2lmKGUmJmUubGVuZ3RoPjApcmV0dXJuIGVbMF19fSxlLnByb3RvdHlwZS5zZXRVc2VyPWZ1bmN0aW9uKGUpe3RoaXMucGUmJnRoaXMuaXNBY3RpdmUmJmF0YXR1cy5zZXRVc2VyKGUpfSxlLnByb3RvdHlwZS5tZT1mdW5jdGlvbihlKXt0aGlzLmxvZ2dlcj1lfSxlLnByb3RvdHlwZS5zZXRDdXN0b21EYXRhPWZ1bmN0aW9uKGUpe3RoaXMucGUmJnRoaXMuaXNBY3RpdmUmJmF0YXR1cy5zZXRDdXN0b21EYXRhKGUpfSxlLnByb3RvdHlwZS5JZT1mdW5jdGlvbihlKXtmb3IodmFyIHQgaW4gZSl0aGlzLmRlW3RdPWVbdF19LGUucHJvdG90eXBlLmxvZ0Vycm9yPWZ1bmN0aW9uKGUsdCxyLGksbil7dmFyIHM9XCJcIjtpZihcInN0cmluZ1wiPT10eXBlb2YgdD9zPXQudHJpbSgpOnZvaWQgMCE9PXQmJihpPXQpLChpIGluc3RhbmNlb2YgRXJyb3J8fGkmJlwib2JqZWN0XCIhPXR5cGVvZiBpKSYmKGk9e2Vycm9yOmkudG9TdHJpbmcoKX0pLGl8fChpPXt9KSxpLmVycm9yQ29kZT1yLHRoaXMubG9nZ2VyJiYoT2JqZWN0LmtleXMoaSkubGVuZ3RoPjA/dGhpcy5sb2dnZXIud2FybihzK1wiIFwiK2UsaSk6dGhpcy5sb2dnZXIud2FybihzK1wiIFwiK2UpKSxzJiYobj1uP24uY29uY2F0KFtzXSk6W3NdKSxpLmZvcmNlU2VuZD0hMCx0aGlzLnBlJiZ0aGlzLmlzQWN0aXZlKXRyeXt0aHJvdyBuZXcgRXJyb3IoZSl9Y2F0Y2goZSl7YXRhdHVzLm5vdGlmeShlLGksbil9fSxlLnByb3RvdHlwZS5zZXRUYWdzPWZ1bmN0aW9uKGUpe3RoaXMucGUmJnRoaXMuaXNBY3RpdmUmJmF0YXR1cy5zZXRUYWdzKGUpfSxlLnByb3RvdHlwZS5ub3RpZnk9ZnVuY3Rpb24oZSx0KXt0aGlzLnBlJiZ0aGlzLmlzQWN0aXZlJiYodHx8KHQ9e30pLHQuZm9yY2VTZW5kPSEwLGF0YXR1cy5ub3RpZnkoZSx0KSl9LGV9KCk7dC5FcnJvck1vbml0b3I9Y30sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiOyFmdW5jdGlvbihlKXshZnVuY3Rpb24oZSl7ZVtlLlNlPTI2ODQzNTQ1Nl09XCJCQVNFX0NPREVcIixlW2UuUmU9MjY4NDM1NDU3XT1cIkZJUkVfU0VSVkVSX0NPTk5FQ1RFRF9XSVRIX1NXQVJNXCIsZVtlLndlPTI2ODQzNTQ1OF09XCJGSVJFX1NFUlZFUl9DT05ORUNURURfV0lUSE9VVF9TV0FSTVwiLGVbZS5iZT0yNjg0MzU0NTldPVwiQ09OTkVDVElPTl9OT1RfRVNUQUJMSVNIRURcIixlW2UuQ2U9MjY4NDM1NDYwXT1cIlNFTkRfTUVTU0FHRV9UT19OT05fRVhJU1RJTkdfQ0hBTk5FTFwiLGVbZS5fZT0yNjg0MzU0NjFdPVwiUkVDRUlWRURfTUVTU0FHRV9GUk9NX05PTl9FWElTVElOR19DT05ORUNUSU9OXCJ9KGUuUGV8fChlLlBlPXt9KSk7IWZ1bmN0aW9uKGUpe2VbZS5TZT01MzY4NzA5MTJdPVwiQkFTRV9DT0RFXCIsZVtlLkFlPTUzNjg3MDkxM109XCJDUkVBVEVfT0ZGRVJcIixlW2UuT2U9NTM2ODcwOTE0XT1cIkNSRUFURV9BTlNXRVJcIixlW2UuTmU9NTM2ODcwOTE1XT1cIlNJR05BTElOR19TVEFURV9DTE9TRURcIixlW2UuRGU9NTM2ODcwOTE2XT1cIlNFVF9MT0NBTF9ERVNDUklQVElPTl9GQUlMRURcIixlW2Uua2U9NTM2ODcwOTE3XT1cIk5FR09USUFUSU9OX0ZBSUxVUkVcIixlW2UuTGU9NTM2ODcwOTE4XT1cIlNFVFVQX0NIQU5ORUxfRVJST1JcIixlW2UuTWU9NTM2ODcwOTE5XT1cIklDRV9DT05ORUNUSU9OX0ZBSUxFRFwiLGVbZS5GZT01MzY4NzA5MjBdPVwiU0VUX1JFTU9URV9ERVNDUklQVElPTlwiLGVbZS5VZT01MzY4NzA5MjFdPVwiVVBEQVRFX0lDRV9DQU5ESURBVEVTXCIsZVtlLkJlPTUzNjg3MDkyMl09XCJBTlNXRVJfUkVDRUlWRURcIixlW2UuSGU9NTM2ODcwOTIzXT1cIk9GRkVSX1JFQ0VJVkVEXCIsZVtlLnhlPTUzNjg3MDkyNF09XCJTRU5EX0NBTkRJREFURVNcIixlW2UucWU9NTM2ODcwOTI1XT1cIkNMT1NFX0NPTk5FQ1RJT05cIn0oZS5HZXx8KGUuR2U9e30pKTshZnVuY3Rpb24oZSl7ZVtlLlNlPTgwNTMwNjM2OF09XCJCQVNFX0NPREVcIixlW2UuVmU9ODA1MzA2MzY5XT1cIlNFTkRfTVNHX1dJVEhPVVRfQ0hBTk5FTFwiLGVbZS5qZT04MDUzMDYzNzBdPVwiTVNHX1RSSUdHRVJfRVJST1JcIixlW2UuUWU9ODA1MzA2MzcxXT1cIkNPTk5FQ1RJT05fVElNRU9VVFwifShlLktlfHwoZS5LZT17fSkpOyFmdW5jdGlvbihlKXtlW2UuU2U9MTA3Mzc0MTgyNF09XCJCQVNFX0NPREVcIixlW2UucWU9MTA3Mzc0MTgyNV09XCJDTE9TRV9DT05ORUNUSU9OXCIsZVtlLlllPTEwNzM3NDE4MjZdPVwiUDJQX0RJU1BBVENIRVJfRVJST1JcIn0oZS5XZXx8KGUuV2U9e30pKTshZnVuY3Rpb24oZSl7ZVtlLlNlPTEzNDIxNzcyODBdPVwiQkFTRV9DT0RFXCIsZVtlLnplPTEzNDIxNzcyODFdPVwiQ09OU1RSVUNUX01FU1NBR0VcIixlW2UuSmU9MTM0MjE3NzI4Ml09XCJEUk9QUEVEX01FU1NBR0VcIixlW2UuWGU9MTM0MjE3NzI4M109XCJTRU5EX01FU1NBR0VcIixlW2UuWmU9MTM0MjE3NzI4NF09XCJSRUNFSVZFX01FU1NBR0VcIn0oZS4kZXx8KGUuJGU9e30pKTshZnVuY3Rpb24oZSl7ZVtlLlNlPTE2MTA2MTI3MzZdPVwiQkFTRV9DT0RFXCIsZVtlLmV0PTE2MTA2MTI3MzddPVwiTkVXX0RJU1BBVENIRVJcIn0oZS50dHx8KGUudHQ9e30pKTshZnVuY3Rpb24oZSl7ZVtlLlNlPTE4NzkwNDgxOTJdPVwiQkFTRV9DT0RFXCIsZVtlLnJ0PTE4NzkwNDgxOTNdPVwiSU5JVF9DQUNIRVwiLGVbZS5pdD0xODc5MDQ4MTk0XT1cIlBVVF9PUEVSQVRJT05cIixlW2UubnQ9MTg3OTA0ODE5NV09XCJHRVRfT1BFUkFUSU9OXCIsZVtlLnN0PTE4NzkwNDgxOTZdPVwiQ09OVEFJTlNfT1BFUkFUSU9OXCIsZVtlLm90PTE4NzkwNDgxOTddPVwiR0VUX0tFWVNfT1BFUkFUSU9OXCIsZVtlLmF0PTE4NzkwNDgxOThdPVwiR0VUX0VMRU1FTlRTX09QRVJBVElPTlwifShlLmh0fHwoZS5odD17fSkpOyFmdW5jdGlvbihlKXtlW2UuU2U9MjE0NzQ4MzY0OF09XCJCQVNFX0NPREVcIixlW2UuaXQ9MjE0NzQ4MzY0OV09XCJQVVRfT1BFUkFUSU9OXCIsZVtlLm50PTIxNDc0ODM2NTBdPVwiR0VUX09QRVJBVElPTlwiLGVbZS5zdD0yMTQ3NDgzNjUxXT1cIkNPTlRBSU5TX09QRVJBVElPTlwiLGVbZS5vdD0yMTQ3NDgzNjUyXT1cIkdFVF9LRVlTX09QRVJBVElPTlwiLGVbZS5hdD0yMTQ3NDgzNjUzXT1cIkdFVF9FTEVNRU5UU19PUEVSQVRJT05cIixlW2UuY3Q9MjE0NzQ4MzY1NF09XCJQVVJHRV9DQUNIRV9PUEVSQVRJT05cIn0oZS51dHx8KGUudXQ9e30pKTshZnVuY3Rpb24oZSl7ZVtlLlNlPTI0MTU5MTkxMDRdPVwiQkFTRV9DT0RFXCJ9KGUubHR8fChlLmx0PXt9KSk7IWZ1bmN0aW9uKGUpe2VbZS5TZT0yNjg0MzU0NTYwXT1cIkJBU0VfQ09ERVwiLGVbZS5wdD0yNjg0MzU0NTYxXT1cIkRJU0NPVkVSRURfUEVFUlNcIixlW2UuZHQ9MjY4NDM1NDU2Ml09XCJMRUFERVJfRUxFQ1RJT05cIixlW2UuZnQ9MjY4NDM1NDU2M109XCJHQ19NRU1CRVJTXCIsZVtlLmd0PTI2ODQzNTQ1NjRdPVwiQUREX0xBTl9NRU1CRVJcIixlW2UuRXQ9MjY4NDM1NDU2NV09XCJBRERfUkFORE9NX01FTUJFUlwiLGVbZS52dD0yNjg0MzU0NTY2XT1cIlNBTVBMRV9NRU1CRVJTSElQXCJ9KGUueXR8fChlLnl0PXt9KSk7IWZ1bmN0aW9uKGUpe2VbZS5TZT0yOTUyNzkwMDE2XT1cIkJBU0VfQ09ERVwiLGVbZS5UdD0yOTUyNzkwMDE3XT1cIlNFTkRfQUxMX0hBVkVTXCIsZVtlLkl0PTI5NTI3OTAwMThdPVwiU0VORF9IQVZFXCIsZVtlLlN0PTI5NTI3OTAwMTldPVwiVU5LTk9XTl9IQVZFXCIsZVtlLlJ0PTI5NTI3OTAwMjBdPVwiVU5LTk9XTl9IQVZFU1wiLGVbZS53dD0yOTUyNzkwMDIxXT1cIlJFQ0VJVkVEX0hBVkVcIixlW2UuYnQ9Mjk1Mjc5MDAyMl09XCJSRUNFSVZFRF9IQVZFU1wiLGVbZS5DdD0yOTUyNzkwMDIzXT1cIk5PX09VVF9QQVJUTkVSXCIsZVtlLl90PTI5NTI3OTAwMjRdPVwiQ1JFQVRFX1JBTkRPTV9CVUZGRVJcIixlW2UuUHQ9Mjk1Mjc5MDAyNV09XCJSRVFVRVNUX1BJTkdcIixlW2UuQXQ9Mjk1Mjc5MDAyNl09XCJSRUNFSVZFRF9QSU5HXCIsZVtlLk90PTI5NTI3OTAwMjddPVwiVU5LTk9XTl9QSU5HXCIsZVtlLk50PTI5NTI3OTAwMjhdPVwiU0VORF9QT05HXCIsZVtlLkR0PTI5NTI3OTAwMjldPVwiVU5LT1dOX1BPTkdcIixlW2Uua3Q9Mjk1Mjc5MDAzMF09XCJXUk9OR19QT05HX1NJWkVcIixlW2UuTHQ9Mjk1Mjc5MDAzMV09XCJXUk9OR19USU1FU1RBTVBcIixlW2UuTXQ9Mjk1Mjc5MDAzMl09XCJSRUNFSVZFRF9QT05HXCIsZVtlLkZ0PTI5NTI3OTAwMzNdPVwiQ09MTEVDVF9QQVJUTkVSX1NOQVBTSE9UU1wifShlLlV0fHwoZS5VdD17fSkpOyFmdW5jdGlvbihlKXtlW2UuU2U9MzIyMTIyNTQ3Ml09XCJCQVNFX0NPREVcIixlW2UuQnQ9MzIyMTIyNTQ3M109XCJTVEFSVF9QQVJUTkVSU0hJUFwiLGVbZS5IdD0zMjIxMjI1NDc0XT1cIk5FV19MQU5fTUVNQkVSXCIsZVtlLnh0PTMyMjEyMjU0NzVdPVwiSU5fUEFSVE5FUl9DSE9JQ0VcIixlW2UucXQ9MzIyMTIyNTQ3Nl09XCJJTl9QQVJUTkVSX0FERF9QUk9DRVNTXCIsZVtlLkd0PTMyMjEyMjU0NzddPVwiSU5fUEFSVE5FUl9DT05ORUNUXCIsZVtlLlZ0PTMyMjEyMjU0NzhdPVwiSU5fUEFSVE5FUlNISVBfUkVRVUVTVFwiLGVbZS5qdD0zMjIxMjI1NDc5XT1cIk9VVF9QQVJOVEVSU0hJUF9SRVFVRVNUX1BST0NFU1NcIixlW2UuUXQ9MzIyMTIyNTQ4MF09XCJDT05TVFJVQ1RfRElTQ09WRVJfUEVFUl9JTkZPXCIsZVtlLkt0PTMyMjEyMjU0ODFdPVwiU0VORF9QQVJUTl9SRVNQXCIsZVtlLll0PTMyMjEyMjU0ODJdPVwiTkVXX0lOX1BBUlRORVJfVE9fTElTVFwiLGVbZS5XdD0zMjIxMjI1NDgzXT1cIlJFTU9WRV9ESVNDT05ORUNURURfUEVFUlwiLGVbZS56dD0zMjIxMjI1NDg0XT1cIlJFTU9WRV9JTl9QQVJUTkVSXCIsZVtlLkp0PTMyMjEyMjU0ODVdPVwiQ0xPU0VfUkVDRUlWRURcIixlW2UuWHQ9MzIyMTIyNTQ4Nl09XCJTRU5EX1BBUlRfUkVRVUVTVFwiLGVbZS5adD0zMjIxMjI1NDg3XT1cIlBBUlRfUkVRVUVTVF9FWFBJUkVEXCIsZVtlLiR0PTMyMjEyMjU0ODhdPVwiVU5LTk9XTl9QQVJUTkVSU0hJUF9SRVFVRVNUX0VYUElSRURcIixlW2UuZXI9MzIyMTIyNTQ4OV09XCJVTktOT1dOX09VVF9QQVJUX1JFU1BcIixlW2UudHI9MzIyMTIyNTQ5MF09XCJDTE9TRV9QQVJUTkVSU0hJUFwiLGVbZS5ycj0zMjIxMjI1NDkxXT1cIkFOTk9VTkNFX0JJVFJBVEVcIixlW2UuaXI9MzIyMTIyNTQ5Ml09XCJDT05TVFJVQ1RfQU5OT1VOQ0VfQklUUkFURV9NU0dcIixlW2UubnI9MzIyMTIyNTQ5M109XCJSRUNFSVZFX0JJVFJBVEVfSU5GT1wiLGVbZS5zcj0zMjIxMjI1NDk0XT1cIlBFRVJfSU5GT19SRUNFSVZFRFwiLGVbZS5hcj0zMjIxMjI1NDk1XT1cIlBFRVJfSU5GT19BTk5PVU5DRURcIixlW2UuaHI9MzIyMTIyNTQ5Nl09XCJDT0xMRUNUX0FMTF9QQVJUTkVSU1wifShlLmNyfHwoZS5jcj17fSkpOyFmdW5jdGlvbihlKXtlW2UuU2U9MzQ4OTY2MDkyOF09XCJCQVNFX0NPREVcIixlW2UudXI9MzQ4OTY2MDkyOV09XCJVUERBVEVfSU5fUEFSVE5FUlNcIn0oZS5scnx8KGUubHI9e30pKTshZnVuY3Rpb24oZSl7ZVtlLlNlPTM3NTgwOTYzODRdPVwiQkFTRV9DT0RFXCIsZVtlLnByPTM3NTgwOTYzODVdPVwiU0VMRUNUX1BBUlRORVJTX1RPX1JFTU9WRVwiLGVbZS5kcj0zNzU4MDk2Mzg2XT1cIlNFTEVDVF9QQVJUTkVSU19UT19BRERcIixlW2UuZ3I9Mzc1ODA5NjM4N109XCJTRUxFQ1RfVVBEQVRFX09VVFwifShlLkVyfHwoZS5Fcj17fSkpOyFmdW5jdGlvbihlKXtlW2UuU2U9NDAyNjUzMTg0MF09XCJCQVNFX0NPREVcIixlW2UucHI9NDAyNjUzMTg0MV09XCJTRUxFQ1RfUEFSVE5FUlNfVE9fUkVNT1ZFXCIsZVtlLmRyPTQwMjY1MzE4NDJdPVwiU0VMRUNUX1BBUlRORVJTX1RPX0FERFwiLGVbZS5ncj00MDI2NTMxODQzXT1cIlNFTEVDVF9VUERBVEVfT1VUXCJ9KGUudnJ8fChlLnZyPXt9KSk7IWZ1bmN0aW9uKGUpe2VbZS5TZT00Mjk0OTY3Mjk2XT1cIkJBU0VfQ09ERVwiLGVbZS51cj00Mjk0OTY3Mjk3XT1cIlVQREFURV9JTl9QQVJUTkVSU1wiLGVbZS5wcj00Mjk0OTY3Mjk4XT1cIlNFTEVDVF9QQVJUTkVSU19UT19SRU1PVkVcIixlW2UuZHI9NDI5NDk2NzI5OV09XCJTRUxFQ1RfUEFSVE5FUlNfVE9fQUREXCIsZVtlLmdyPTQyOTQ5NjczMDBdPVwiU0VMRUNUX1VQREFURV9PVVRcIixlW2UueXI9NDI5NDk2NzMwMV09XCJHUk9VUF9QQVJUTkVSU1wiLGVbZS5Ucj00Mjk0OTY3MzAyXT1cIklERU5USUZZX01FTUJFUl9BU19MRUFERVJfT1JfU0FNRV9TSVRFXCIsZVtlLm1yPTQyOTQ5NjczMDNdPVwiQUhFQURfQlVUX0JFSElORF9ERUxUQVwiLGVbZS5Jcj00Mjk0OTY3MzA0XT1cIkJFSElORF9PUl9OT1RfUkVUUklFVklOR19CSVRSQVRFXCIsZVtlLlNyPTQyOTQ5NjczMDVdPVwiR0VUX0RFTFRBX0ZPUl9CSVRSQVRFXCJ9KGUuUnJ8fChlLlJyPXt9KSk7IWZ1bmN0aW9uKGUpe2VbZS5TZT00NTYzNDAyNzUyXT1cIkJBU0VfQ09ERVwiLGVbZS53cj00NTYzNDAyNzUzXT1cIlVQREFURV9PVVRfUEFSVE5FUlNcIn0oZS5icnx8KGUuYnI9e30pKTshZnVuY3Rpb24oZSl7ZVtlLlNlPTQ4MzE4MzgyMDhdPVwiQkFTRV9DT0RFXCIsZVtlLkNyPTQ4MzE4MzgyMDldPVwiQUREX0ZSQUdNRU5UX1RPX01BUFwiLGVbZS5Qcj00ODMxODM4MjEwXT1cIldSQVBfQ0hVTktcIixlW2UuQXI9NDgzMTgzODIxMV09XCJHRU5FUkFURV9IQVNITUFQU1wifShlLk9yfHwoZS5Pcj17fSkpOyFmdW5jdGlvbihlKXtlW2UuU2U9NTEwMDI3MzY2NF09XCJCQVNFX0NPREVcIixlW2UuTnI9NTEwMDI3MzY2NV09XCJJTklUX0FFU19NQU5BR0VSXCIsZVtlLkRyPTUxMDAyNzM2NjZdPVwiSU5JVF9LRVlcIixlW2Uua3I9NTEwMDI3MzY2N109XCJJTklUX0lWXCIsZVtlLkxyPTUxMDAyNzM2NjhdPVwiREVDUllQVF9CVUZGRVJcIixlW2UuTXI9NTEwMDI3MzY2OV09XCJET1dOTE9BRF9LRVlfT05MT0FEXCIsZVtlLkZyPTUxMDAyNzM2NzBdPVwiRE9XTkxPQURfS0VZXCJ9KGUuVXJ8fChlLlVyPXt9KSk7IWZ1bmN0aW9uKGUpe2VbZS5TZT01MzY4NzA5MTIwXT1cIkJBU0VfQ09ERVwiLGVbZS5Ccj01MzY4NzA5MTIxXT1cIkdFVF9FTlRJVFlfVFlQRVwiLGVbZS5Icj01MzY4NzA5MTIyXT1cIkdFVF9FTlRJVFlfQ0hBUkFDVEVSSVNUSUNTXCIsZVtlLnhyPTUzNjg3MDkxMjNdPVwiR0VUX05FWFRfRU5USVRZXCIsZVtlLnFyPTUzNjg3MDkxMjRdPVwiSVNfQ1VSUkVOVF9DT05URVhUXCIsZVtlLkdyPTUzNjg3MDkxMjVdPVwiUEFSU0VEX01FVEFEQVRBXCIsZVtlLlZyPTUzNjg3MDkxMjZdPVwiUFJFRkVUQ0hfTUVUQURBVEFfUkVDRUlWRURcIixlW2UuanI9NTM2ODcwOTEyN109XCJGUkFHTUVOVF9SRUNFSVZFRFwiLGVbZS5Rcj01MzY4NzA5MTI4XT1cIkVWQUxVQVRFX1BST1RFQ1RJT05cIixlW2UuS3I9NTM2ODcwOTEyOV09XCJHRVRfRElTVEFOQ0VfRFVSQVRJT05cIn0oZS5Zcnx8KGUuWXI9e30pKTshZnVuY3Rpb24oZSl7ZVtlLlNlPTU2MzcxNDQ1NzZdPVwiQkFTRV9DT0RFXCIsZVtlLldyPTU2MzcxNDQ1NzddPVwiUEFSU0VfTUVUQURBVEFcIixlW2UuenI9NTYzNzE0NDU3OF09XCJFWFRSQUNUX1NFR01FTlRfTUFQU1wiLGVbZS5Kcj01NjM3MTQ0NTc5XT1cIklOSVRfUFJPVEVDVElPTlwiLGVbZS5Ycj01NjM3MTQ0NTgwXT1cIkdFVF9TRUdNRU5UX0lORk9cIixlW2UuWnI9NTYzNzE0NDU4MV09XCJHRVRfU0VHTUVOVF9ESVNUQU5DRVwiLGVbZS4kcj01NjM3MTQ0NTgyXT1cIkVYVFJBQ1RfRFVSQVRJT05cIixlW2UuZWk9NTYzNzE0NDU4M109XCJFWFRSQUNUX0RVUkFUSU9OX09SX0RFQ1JZUFRcIixlW2UudGk9NTYzNzE0NDU4NF09XCJFWFRSQUNUX0RVUkFUSU9OX0NBTk5PVF9ERUNSWVBUXCIsZVtlLnJpPTU2MzcxNDQ1ODVdPVwiRVhUUkFDVF9EVVJBVElPTl9OT05fRU5DUllQVEVEXCIsZVtlLmlpPTU2MzcxNDQ1ODZdPVwiR0VORVJBVEVfTUlTU0lOR19TRUdNRU5UU1wiLGVbZS5uaT01NjM3MTQ0NTg3XT1cIlJFR0VORVJBVEVfTUFOSUZFU1RcIixlW2Uuc2k9NTYzNzE0NDU4OF09XCJUUklNX01BTklGRVNUXCIsZVtlLm9pPTU2MzcxNDQ1ODldPVwiUEFSU0VfQklUUkFURVNfVE9fRklMVEVSXCIsZVtlLmFpPTU2MzcxNDQ1OTBdPVwiRklMVEVSX0JJVFJBVEVTXCIsZVtlLmhpPTU2MzcxNDQ1OTFdPVwiR0VUX0RJU1RBTkNFX0RVUkFUSU9OX0JFVFdFRU5fU0VHTUVOVFNcIixlW2UuY2k9NTYzNzE0NDU5Ml09XCJHRVRfU0VHTUVOVFwifShlLnVpfHwoZS51aT17fSkpOyFmdW5jdGlvbihlKXtlW2UuU2U9NTkwNTU4MDAzMl09XCJCQVNFX0NPREVcIixlW2UucXI9NTkwNTU4MDAzM109XCJJU19DVVJSRU5UX0NPTlRFWFRcIixlW2UuQnI9NTkwNTU4MDAzNF09XCJHRVRfRU5USVRZX1RZUEVcIixlW2UuSHI9NTkwNTU4MDAzNV09XCJHRVRfRU5USVRZX0NIQVJBQ1RFUklTVElDU1wiLGVbZS5saT01OTA1NTgwMDM2XT1cIk1FVEFEQVRBX1JFQ0VJVkVEXCIsZVtlLnBpPTU5MDU1ODAwMzddPVwiU0NIRURVTEVfTUVUQURBVEFfUFJFRkVUQ0hcIixlW2UueHI9NTkwNTU4MDAzOF09XCJHRVRfTkVYVF9FTlRJVFlcIixlW2UuS3I9NTkwNTU4MDAzOV09XCJHRVRfRElTVEFOQ0VfRFVSQVRJT05cIn0oZS5kaXx8KGUuZGk9e30pKTshZnVuY3Rpb24oZSl7ZVtlLlNlPTYxNzQwMTU0ODhdPVwiQkFTRV9DT0RFXCIsZVtlLmZpPTYxNzQwMTU0ODldPVwiUExBWUxJU1RfTUlTTUFUQ0hcIixlW2UuZ2k9NjE3NDAxNTQ5MF09XCJGTE9BVF9CSVRSQVRFXCIsZVtlLldyPTYxNzQwMTU0OTFdPVwiUEFSU0VfTUVUQURBVEFcIixlW2UuWHI9NjE3NDAxNTQ5Ml09XCJHRVRfU0VHTUVOVF9JTkZPXCIsZVtlLkVpPTYxNzQwMTU0OTNdPVwiVVBEQVRFX1BMQVlMSVNUXCIsZVtlLnZpPTYxNzQwMTU0OTRdPVwiVFJJTV9QTEFZTElTVFwifShlLnlpfHwoZS55aT17fSkpOyFmdW5jdGlvbihlKXtlW2UuU2U9NjQ0MjQ1MDk0NF09XCJCQVNFX0NPREVcIixlW2UuVGk9NjQ0MjQ1MDk0NV09XCJHRVRfUDJQX1RJTUVPVVRcIixlW2UubWk9NjQ0MjQ1MDk0Nl09XCJERUxJVkVSX0RFTEFZXCJ9KGUuSWl8fChlLklpPXt9KSk7IWZ1bmN0aW9uKGUpe2VbZS5TZT02NzEwODg2NDAwXT1cIkJBU0VfQ09ERVwiLGVbZS5TaT02NzEwODg2NDAxXT1cIklTX1BMQVlFUl9CVUZGRVJJTkdfQkFTRVwiLGVbZS5SaT02NzEwODg2NDAyXT1cIkNPTkZJR1VSRV9SRVFVRVNUX0RJUkVDVElWRVwiLGVbZS53aT02NzEwODg2NDAzXT1cIkFUVEVNUFRfVE9fVVBHUkFERV9QUkVGRVRDSFwifShlLmJpfHwoZS5iaT17fSkpOyFmdW5jdGlvbihlKXtlW2UuU2U9Njk3OTMyMTg1Nl09XCJCQVNFX0NPREVcIixlW2UuQ2k9Njk3OTMyMTg1N109XCJQUkVQQVJFX1JFUVVFU1RcIixlW2UuX2k9Njk3OTMyMTg1OF09XCJHRVRfQ09OTkVDVElWSVRZX0lORk9cIixlW2UuUGk9Njk3OTMyMTg1OV09XCJDT0xMRUNUX1RSQUNLRVJfUkVRVUVTVF9JTkZPXCIsZVtlLkFpPTY5NzkzMjE4NjBdPVwiUFJFUEFSRV9RVUVSWVwiLGVbZS5PaT02OTc5MzIxODYxXT1cIlBSRVBBUkVfQklUUkFURV9RVUVSWVwiLGVbZS5OaT02OTc5MzIxODYyXT1cIlBSRVBBUkVfVFJBQ0tFUl9JTkZPXCIsZVtlLkRpPTY5NzkzMjE4NjNdPVwiU0VORF9SRVFVRVNUXCIsZVtlLmtpPTY5NzkzMjE4NjRdPVwiSEFORExFX1JFU1BPTlNFXCJ9KGUuTGl8fChlLkxpPXt9KSk7IWZ1bmN0aW9uKGUpe2VbZS5TZT03MjQ3NzU3MzEyXT1cIkJBU0VfQ09ERVwiLGVbZS5NaT03MjQ3NzU3MzEzXT1cIk5FV19UUkFDS0VSX0NMSUVOVFwiLGVbZS5GaT03MjQ3NzU3MzE0XT1cIlNFUklBTElaRV9SRVFVRVNUXCIsZVtlLlVpPTcyNDc3NTczMTVdPVwiREVTRVJJQUxJWkVfUkVTUE9OU0VcIixlW2UuQmk9NzI0Nzc1NzMxNl09XCJTRVJWSUNFX0NPTk5FQ1RJT05fRE9XTlwiLGVbZS5EaT03MjQ3NzU3MzE3XT1cIlNFTkRfUkVRVUVTVFwiLGVbZS5IaT03MjQ3NzU3MzE4XT1cIlRSQUNLRVJfTUFOQUdFUl9JTklUXCJ9KGUueGl8fChlLnhpPXt9KSk7IWZ1bmN0aW9uKGUpe2VbZS5TZT03NTE2MTkyNzY4XT1cIkJBU0VfQ09ERVwiLGVbZS5xaT03NTE2MTkyNzY5XT1cIlNPUlRfUEFSVE5FUlNcIn0oZS5HaXx8KGUuR2k9e30pKTshZnVuY3Rpb24oZSl7ZVtlLlNlPTc3ODQ2MjgyMjRdPVwiQkFTRV9DT0RFXCIsZVtlLlZpPTc3ODQ2MjgyMjVdPVwiQ0hPT1NFX1BBUlRORVJcIn0oZS5qaXx8KGUuamk9e30pKTshZnVuY3Rpb24oZSl7ZVtlLlNlPTgwNTMwNjM2ODBdPVwiQkFTRV9DT0RFXCIsZVtlLlFpPTgwNTMwNjM2ODFdPVwiQ09OU1RSVUNUX0ZSQUdNRU5UX1JFUVVFU1RfTUVTU0FHRVwiLGVbZS5LaT04MDUzMDYzNjgyXT1cIlNFTkRfRlJBR01FTlRfUkVRVUVTVFwiLGVbZS5ZaT04MDUzMDYzNjgzXT1cIlJFQ0VJVkVfQ0hVTktcIixlW2UuV2k9ODA1MzA2MzY4NF09XCJTRU5EX0FDS1wiLGVbZS56aT04MDUzMDYzNjg1XT1cIkNMRUFOX1VQX05PVF9QRU5ESU5HXCIsZVtlLkppPTgwNTMwNjM2ODZdPVwiU1RPUF9UUkFOU0ZFUlwiLGVbZS5YaT04MDUzMDYzNjg3XT1cIlJFQ0VJVkVfRVhQSVJFRF9DSFVOS1wifShlLlppfHwoZS5aaT17fSkpOyFmdW5jdGlvbihlKXtlW2UuU2U9ODMyMTQ5OTEzNl09XCJCQVNFX0NPREVcIixlW2UuJGk9ODMyMTQ5OTEzN109XCJDT05TVFJVQ1RfQ0hVTktfUkVTUE9OU0VcIixlW2UuZW49ODMyMTQ5OTEzOF09XCJTVEFSVF9TRU5ESU5HX0NIVU5LXCIsZVtlLnRuPTgzMjE0OTkxMzldPVwiU0VORF9DSFVOS1wiLGVbZS5ybj04MzIxNDk5MTQwXT1cIlVOS05PV05fQUNLXCJ9KGUuaW58fChlLmluPXt9KSk7IWZ1bmN0aW9uKGUpe2VbZS5TZT04NTg5OTM0NTkyXT1cIkJBU0VfQ09ERVwiLGVbZS5ubj04NTg5OTM0NTkzXT1cIk5PX1BBUlRORVJfRk9VTkRcIixlW2Uuc249ODU4OTkzNDU5NF09XCJGSUxURVJfSU5fUEFSVE5FUlNcIixlW2UuYW49ODU4OTkzNDU5NV09XCJTRVRfUkVRVUVTVF9USU1FT1VUXCIsZVtlLmhuPTg1ODk5MzQ1OTZdPVwiUkVNT1ZFX1JFUVVFU1RcIixlW2UuY249ODU4OTkzNDU5N109XCJDQU5DRUxfT05fTk9OX0VYSVNUSU5HX1NFU1NJT05cIixlW2UudW49ODU4OTkzNDU5OF09XCJET19OT1RfSEFWRVwiLGVbZS5wbj04NTg5OTM0NTk5XT1cIlJFUVVFU1RFRF9UT19OT05fUEFSVE5FUlwifShlLmRufHwoZS5kbj17fSkpOyFmdW5jdGlvbihlKXtlW2UuU2U9ODg1ODM3MDA0OF09XCJCQVNFX0NPREVcIixlW2UuZm49ODg1ODM3MDA0OV09XCJSRVNQT05EX1RPX1BFRVJcIixlW2UuZ249ODg1ODM3MDA1MF09XCJSRVFVRVNUX1NBVElTRklFRFwiLGVbZS5Fbj04ODU4MzcwMDUxXT1cIlJFUVVFU1RfUEFSVElBTExZX1NBVElTRklFRFwiLGVbZS52bj04ODU4MzcwMDUyXT1cIlJFUVVFU1RfTk9UX1NBVElTRklFRFwiLGVbZS55bj04ODU4MzcwMDUzXT1cIlNFTkRfRE9fTk9UX0hBVkVcIixlW2UuVG49ODg1ODM3MDA1NF09XCJTRU5EX05PX1BBUlRORVJTXCJ9KGUubW58fChlLm1uPXt9KSk7IWZ1bmN0aW9uKGUpe2VbZS5TZT05MTI2ODA1NTA0XT1cIkJBU0VfQ09ERVwiLGVbZS5Jbj05MTI2ODA1NTA1XT1cIlZJT0xBVEVfU1BPT0ZJTkdfSEFORExFUlwiLGVbZS5Tbj05MTI2ODA1NTA2XT1cIlZJT0xBVEVfU1BPT0ZJTkdfUlVMRVNcIixlW2UuUm49OTEyNjgwNTUwN109XCJBRERfT1JfVVBEQVRFX1NQT09GSU5HX01BUFNcIixlW2Uud249OTEyNjgwNTUwOF09XCJQRVJJT0RJQ19DSEVDS19JUF9TUE9PRklOR1wifShlLmJufHwoZS5ibj17fSkpOyFmdW5jdGlvbihlKXtlW2UuU2U9OTM5NTI0MDk2MF09XCJCQVNFX0NPREVcIixlW2UuQ249OTM5NTI0MDk2MV09XCJSRVFVRVNUX0NPTVBMRVRFRFwiLGVbZS5fbj05Mzk1MjQwOTYyXT1cIlJFUVVFU1RfTk9UX0VYSVNUSU5HX0NPTVBMRVRFRFwiLGVbZS5Qbj05Mzk1MjQwOTYzXT1cIlJFUVVFU1RfUEFSVElBTExZX0ZBSUxFRFwiLGVbZS5Bbj05Mzk1MjQwOTY0XT1cIlJFUVVFU1RfTk9UX0VYSVNUSU5HX1BBUlRJQUxMWV9GQUlMRURcIixlW2UuT249OTM5NTI0MDk2NV09XCJSRVFVRVNUX0ZBSUxFRFwiLGVbZS5Obj05Mzk1MjQwOTY2XT1cIlJFUVVFU1RfTk9UX0VYSVNUSU5HX0ZBSUxFRFwifShlLkRufHwoZS5Ebj17fSkpOyFmdW5jdGlvbihlKXtlW2UuU2U9OTY2MzY3NjQxNl09XCJCQVNFX0NPREVcIixlW2Uua249OTY2MzY3NjQxN109XCJVUERBVEVfV0FOVEVEX1NFU1NJT05TXCIsZVtlLkxuPTk2NjM2NzY0MThdPVwiQ09ORklHVVJFX1BSRUZFVENISU5HXCIsZVtlLk1uPTk2NjM2NzY0MTldPVwiU1RBUlRfUFJFRkVUQ0hJTkdcIixlW2UuRm49OTY2MzY3NjQyMF09XCJGUkFHTUVOVF9SRVRSSUVWRURfU0VTU0lPTl9OT1RfRVhJU1RJTkdcIixlW2UuVW49OTY2MzY3NjQyMV09XCJBVFRFTVBUX1BSRUZFVENIX0JFRk9SRV9QTEFZRVJfUkVRVUVTVFwiLGVbZS5Cbj05NjYzNjc2NDIyXT1cIkZPUldBUkRfSUZfTkVDRVNTQVJZXCIsZVtlLkhuPTk2NjM2NzY0MjNdPVwiSVNfQUxMT1dFRF9UT19QUkVGRVRDSFwiLGVbZS54bj05NjYzNjc2NDI0XT1cIlBSRUZFVENIX1BST0NFU1NcIixlW2UucW49OTY2MzY3NjQyNV09XCJDSEVDS19QTEFZRVJfRElTVEFOQ0VcIixlW2UuR249OTY2MzY3NjQyNl09XCJPRkZMT0FEX0xFQURFUlwiLGVbZS5Wbj05NjYzNjc2NDI3XT1cIlVQR1JBREVfUFJFRkVUQ0hcIn0oZS5qbnx8KGUuam49e30pKTshZnVuY3Rpb24oZSl7ZVtlLlNlPTk5MzIxMTE4NzJdPVwiQkFTRV9DT0RFXCIsZVtlLlFuPTk5MzIxMTE4NzNdPVwiUkVRVUVTVF9USU1FT1VUXCJ9KGUuS258fChlLktuPXt9KSk7IWZ1bmN0aW9uKGUpe2VbZS5TZT0xMDIwMDU0NzMyOF09XCJCQVNFX0NPREVcIixlW2UuWW49MTAyMDA1NDczMjldPVwiUExBWUVSX1JFUVVFU1RfRVJST1JcIn0oZS5Xbnx8KGUuV249e30pKTshZnVuY3Rpb24oZSl7ZVtlLlNlPTEwNDY4OTgyNzg0XT1cIkJBU0VfQ09ERVwiLGVbZS56bj0xMDQ2ODk4Mjc4NV09XCJBRERfSEFWRVwiLGVbZS5Kbj0xMDQ2ODk4Mjc4Nl09XCJSRU1PVkVfUEVFUlwifShlLlhufHwoZS5Ybj17fSkpOyFmdW5jdGlvbihlKXtlW2UuU2U9MTA3Mzc0MTgyNDBdPVwiQkFTRV9DT0RFXCIsZVtlLlpuPTEwNzM3NDE4MjQxXT1cIkNPTlNUUlVDVF9TV0FSTVwiLGVbZS4kbj0xMDczNzQxODI0Ml09XCJJTklUX1NXQVJNXCIsZVtlLmVzPTEwNzM3NDE4MjQzXT1cIlNXSVRDSF9TVEFURVwiLGVbZS5Rbj0xMDczNzQxODI0NF09XCJSRVFVRVNUX1RJTUVPVVRcIn0oZS5yc3x8KGUucnM9e30pKTshZnVuY3Rpb24oZSl7ZVtlLlNlPTExMDA1ODUzNjk2XT1cIkJBU0VfQ09ERVwiLGVbZS5ucz0xMTAwNTg1MzY5N109XCJTRVJJQUxJWkVfTUVTU0FHRVwiLGVbZS5zcz0xMTAwNTg1MzY5OF09XCJFWFRSQUNUX01FU1NBR0VcIn0oZS5hc3x8KGUuYXM9e30pKX0odC5oc3x8KHQuaHM9e30pKX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGkoZSx0LHIscyl7aWYoISh0aGlzIGluc3RhbmNlb2YgaSkpcmV0dXJuIG5ldyBpKGUsdCxyLHMpO3Q9dHx8T2JqZWN0LmNzLHI9cnx8T2JqZWN0Lmhhc2gscz1zfHxGdW5jdGlvbi51cyx0aGlzLmxzPXQsdGhpcy5wcz1yLHRoaXMuZHM9cyx0aGlzLmZzPW5ldyBuKHZvaWQgMCxmdW5jdGlvbihlLHIpe3JldHVybiB0KGUua2V5LHIua2V5KX0sZnVuY3Rpb24oZSl7cmV0dXJuIHIoZS5rZXkpfSksdGhpcy5sZW5ndGg9MCx0aGlzLmFkZEVhY2goZSl9dmFyIG49KHIoMTEpLHIoNjgpKSxzPXIoMTIpLG89cig1MiksYT1yKDEzKTtlLmk9aSxpLk1hcD1pLE9iamVjdC5hZGRFYWNoKGkucHJvdG90eXBlLHMucHJvdG90eXBlKSxPYmplY3QuYWRkRWFjaChpLnByb3RvdHlwZSxvLnByb3RvdHlwZSksT2JqZWN0LmFkZEVhY2goaS5wcm90b3R5cGUsYS5wcm90b3R5cGUpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSxcInNpemVcIixzLmdzKSxpLnByb3RvdHlwZS5Fcz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoZSx0aGlzLmxzLHRoaXMucHMsdGhpcy5kcyl9LGkucHJvdG90eXBlLmxvZz1mdW5jdGlvbihlLHQscixpKXt0PXR8fHRoaXMudnMsdGhpcy5mcy5sb2coZSxmdW5jdGlvbihlLHIsaSl7dChlLnZhbHVlLnZhbHVlLHIsaSl9LHIsaSl9LGkucHJvdG90eXBlLnZzPWZ1bmN0aW9uKGUsdCl7dChcIiBrZXk6IFwiK2Uua2V5KSx0KFwiIHZhbHVlOiBcIitlLnZhbHVlKX19LGZ1bmN0aW9uKGUsdCxyKXsvKiFcbiAqXG4gKiBDb3B5cmlnaHQgMjAwOS0yMDE2IEtyaXMgS293YWwgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBNSVRcbiAqIGxpY2Vuc2UgZm91bmQgYXQgaHR0cHM6Ly9naXRodWIuY29tL2tyaXNrb3dhbC9xL2Jsb2IvdjEvTElDRU5TRVxuICpcbiAqIFdpdGggcGFydHMgYnkgVHlsZXIgQ2xvc2VcbiAqIENvcHlyaWdodCAyMDA3LTIwMDkgVHlsZXIgQ2xvc2UgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBNSVQgWCBsaWNlbnNlIGZvdW5kXG4gKiBhdCBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLmh0bWxcbiAqIEZvcmtlZCBhdCByZWZfc2VuZC5qcyB2ZXJzaW9uOiAyMDA5LTA1LTExXG4gKlxuICogV2l0aCBwYXJ0cyBieSBNYXJrIE1pbGxlclxuICogQ29weXJpZ2h0IChDKSAyMDExIEdvb2dsZSBJbmMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG4hZnVuY3Rpb24odCl7XCJ1c2Ugc3RyaWN0XCI7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgYm9vdHN0cmFwKWJvb3RzdHJhcChcInByb21pc2VcIix0KTtlbHNle2UuaT10KCl9fShmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGUoZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIEsuYXBwbHkoZSxhcmd1bWVudHMpfX1mdW5jdGlvbiB0KGUpe3JldHVybiBlPT09T2JqZWN0KGUpfWZ1bmN0aW9uIHIoZSl7cmV0dXJuXCJbb2JqZWN0IFN0b3BJdGVyYXRpb25dXCI9PT1lZShlKXx8ZSBpbnN0YW5jZW9mIEd9ZnVuY3Rpb24gaShlLHQpe2lmKHgmJnQuc3RhY2smJlwib2JqZWN0XCI9PXR5cGVvZiBlJiZudWxsIT09ZSYmZS5zdGFjayYmLTE9PT1lLnN0YWNrLmluZGV4T2YodGUpKXtmb3IodmFyIHI9W10saT10O2k7aT1pLnNvdXJjZSlpLnN0YWNrJiZyLnVuc2hpZnQoaS5zdGFjayk7ci51bnNoaWZ0KGUuc3RhY2spO3ZhciBzPXIuam9pbihcIlxcblwiK3RlK1wiXFxuXCIpO2Uuc3RhY2s9bihzKX19ZnVuY3Rpb24gbihlKXtmb3IodmFyIHQ9ZS5zcGxpdChcIlxcblwiKSxyPVtdLGk9MDtpPHQubGVuZ3RoOysraSl7dmFyIG49dFtpXTthKG4pfHxzKG4pfHwhbnx8ci5wdXNoKG4pfXJldHVybiByLmpvaW4oXCJcXG5cIil9ZnVuY3Rpb24gcyhlKXtyZXR1cm4tMSE9PWUuaW5kZXhPZihcIihtb2R1bGUuanM6XCIpfHwtMSE9PWUuaW5kZXhPZihcIihub2RlLmpzOlwiKX1mdW5jdGlvbiBvKGUpe3ZhciB0PS9hdCAuKyBcXCgoLispOihcXGQrKTooPzpcXGQrKVxcKSQvLmV4ZWMoZSk7aWYodClyZXR1cm5bdFsxXSxOdW1iZXIodFsyXSldO3ZhciByPS9hdCAoW14gXSspOihcXGQrKTooPzpcXGQrKSQvLmV4ZWMoZSk7aWYocilyZXR1cm5bclsxXSxOdW1iZXIoclsyXSldO3ZhciBpPS8uKkAoLispOihcXGQrKSQvLmV4ZWMoZSk7cmV0dXJuIGk/W2lbMV0sTnVtYmVyKGlbMl0pXTp2b2lkIDB9ZnVuY3Rpb24gYShlKXt2YXIgdD1vKGUpO2lmKCF0KXJldHVybiExO3ZhciByPXRbMF0saT10WzFdO3JldHVybiByPT09cSYmaT49ViYmaTw9b2V9ZnVuY3Rpb24gaCgpe2lmKHgpdHJ5e3Rocm93IG5ldyBFcnJvcn1jYXRjaChpKXt2YXIgZT1pLnN0YWNrLnNwbGl0KFwiXFxuXCIpLHQ9ZVswXS5pbmRleE9mKFwiQFwiKT4wP2VbMV06ZVsyXSxyPW8odCk7aWYoIXIpcmV0dXJuO3JldHVybiBxPXJbMF0sclsxXX19ZnVuY3Rpb24gYyhlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGQ/ZTp2KGUpP0MoZSk6YihlKX1mdW5jdGlvbiB1KCl7ZnVuY3Rpb24gZShlKXt0PWUsYy55cyYmeCYmKHMuc291cmNlPWUpLFcocixmdW5jdGlvbih0LHIpe2MuVHMoZnVuY3Rpb24oKXtlLm1zLmFwcGx5KGUscil9KX0sdm9pZCAwKSxyPXZvaWQgMCxpPXZvaWQgMH12YXIgdCxyPVtdLGk9W10sbj1YKHUucHJvdG90eXBlKSxzPVgoZC5wcm90b3R5cGUpO2lmKHMubXM9ZnVuY3Rpb24oZSxuLHMpe3ZhciBvPVkoYXJndW1lbnRzKTtyPyhyLnB1c2gobyksXCJ3aGVuXCI9PT1uJiZzWzFdJiZpLnB1c2goc1sxXSkpOmMuVHMoZnVuY3Rpb24oKXt0Lm1zLmFwcGx5KHQsbyl9KX0scy52YWx1ZU9mPWZ1bmN0aW9uKCl7aWYocilyZXR1cm4gczt2YXIgZT1nKHQpO3JldHVybiBFKGUpJiYodD1lKSxlfSxzLklzPWZ1bmN0aW9uKCl7cmV0dXJuIHQ/dC5JcygpOntzdGF0ZTpcInBlbmRpbmdcIn19LGMueXMmJngpdHJ5e3Rocm93IG5ldyBFcnJvcn1jYXRjaChlKXtzLnN0YWNrPWUuc3RhY2suc3Vic3RyaW5nKGUuc3RhY2suaW5kZXhPZihcIlxcblwiKSsxKX1yZXR1cm4gbi5Tcz1zLG4ucmVzb2x2ZT1mdW5jdGlvbihyKXt0fHxlKGMocikpfSxuLlJzPWZ1bmN0aW9uKHIpe3R8fGUoYihyKSl9LG4ucmVqZWN0PWZ1bmN0aW9uKHIpe3R8fGUodyhyKSl9LG4ubm90aWZ5PWZ1bmN0aW9uKGUpe3R8fFcoaSxmdW5jdGlvbih0LHIpe2MuVHMoZnVuY3Rpb24oKXtyKGUpfSl9LHZvaWQgMCl9LG59ZnVuY3Rpb24gbChlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoXCJyZXNvbHZlciBtdXN0IGJlIGEgZnVuY3Rpb24uXCIpO3ZhciB0PXUoKTt0cnl7ZSh0LnJlc29sdmUsdC5yZWplY3QsdC5ub3RpZnkpfWNhdGNoKGUpe3QucmVqZWN0KGUpfXJldHVybiB0LlNzfWZ1bmN0aW9uIHAoZSl7cmV0dXJuIGwoZnVuY3Rpb24odCxyKXtmb3IodmFyIGk9MCxuPWUubGVuZ3RoO2k8bjtpKyspYyhlW2ldKS50aGVuKHQscil9KX1mdW5jdGlvbiBkKGUsdCxyKXt2b2lkIDA9PT10JiYodD1mdW5jdGlvbihlKXtyZXR1cm4gdyhuZXcgRXJyb3IoXCJQcm9taXNlIGRvZXMgbm90IHN1cHBvcnQgb3BlcmF0aW9uOiBcIitlKSl9KSx2b2lkIDA9PT1yJiYocj1mdW5jdGlvbigpe3JldHVybntzdGF0ZTpcInVua25vd25cIn19KTt2YXIgaT1YKGQucHJvdG90eXBlKTtpZihpLm1zPWZ1bmN0aW9uKHIsbixzKXt2YXIgbzt0cnl7bz1lW25dP2Vbbl0uYXBwbHkoaSxzKTp0LmNhbGwoaSxuLHMpfWNhdGNoKGUpe289dyhlKX1yJiZyKG8pfSxpLklzPXIscil7dmFyIG49cigpO1wicmVqZWN0ZWRcIj09PW4uc3RhdGUmJihpLmV4Y2VwdGlvbj1uLnJlYXNvbiksaS52YWx1ZU9mPWZ1bmN0aW9uKCl7dmFyIGU9cigpO3JldHVyblwicGVuZGluZ1wiPT09ZS5zdGF0ZXx8XCJyZWplY3RlZFwiPT09ZS5zdGF0ZT9pOmUudmFsdWV9fXJldHVybiBpfWZ1bmN0aW9uIGYoZSx0LHIsaSl7cmV0dXJuIGMoZSkudGhlbih0LHIsaSl9ZnVuY3Rpb24gZyhlKXtpZihFKGUpKXt2YXIgdD1lLklzKCk7aWYoXCJmdWxmaWxsZWRcIj09PXQuc3RhdGUpcmV0dXJuIHQudmFsdWV9cmV0dXJuIGV9ZnVuY3Rpb24gRShlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGR9ZnVuY3Rpb24gdihlKXtyZXR1cm4gdChlKSYmXCJmdW5jdGlvblwiPT10eXBlb2YgZS50aGVufWZ1bmN0aW9uIHkoZSl7cmV0dXJuIEUoZSkmJlwicGVuZGluZ1wiPT09ZS5JcygpLnN0YXRlfWZ1bmN0aW9uIFQoZSl7cmV0dXJuIUUoZSl8fFwiZnVsZmlsbGVkXCI9PT1lLklzKCkuc3RhdGV9ZnVuY3Rpb24gbShlKXtyZXR1cm4gRShlKSYmXCJyZWplY3RlZFwiPT09ZS5JcygpLnN0YXRlfWZ1bmN0aW9uIEkoKXtyZS5sZW5ndGg9MCxpZS5sZW5ndGg9MCxzZXx8KHNlPSEwKX1mdW5jdGlvbiBTKGUsdCl7c2UmJihcIm9iamVjdFwiPT10eXBlb2YgcHJvY2VzcyYmcHJvY2VzcyYmXCJmdW5jdGlvblwiPT10eXBlb2YgcHJvY2Vzcy53cyYmYy5Ucy5icyhmdW5jdGlvbigpey0xIT09eihpZSxlKSYmKHByb2Nlc3Mud3MoXCJ1bmhhbmRsZWRSZWplY3Rpb25cIix0LGUpLG5lLnB1c2goZSkpfSksaWUucHVzaChlKSx0JiZ2b2lkIDAhPT10LnN0YWNrP3JlLnB1c2godC5zdGFjayk6cmUucHVzaChcIihubyBzdGFjaykgXCIrdCkpfWZ1bmN0aW9uIFIoZSl7aWYoc2Upe3ZhciB0PXooaWUsZSk7LTEhPT10JiYoXCJvYmplY3RcIj09dHlwZW9mIHByb2Nlc3MmJnByb2Nlc3MmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHByb2Nlc3Mud3MmJmMuVHMuYnMoZnVuY3Rpb24oKXt2YXIgcj16KG5lLGUpOy0xIT09ciYmKHByb2Nlc3Mud3MoXCJyZWplY3Rpb25IYW5kbGVkXCIscmVbdF0sZSksbmUuc3BsaWNlKHIsMSkpfSksaWUuc3BsaWNlKHQsMSkscmUuc3BsaWNlKHQsMSkpfX1mdW5jdGlvbiB3KGUpe3ZhciB0PWQoe3doZW46ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlIodGhpcyksdD90KGUpOnRoaXN9fSxmdW5jdGlvbigpe3JldHVybiB0aGlzfSxmdW5jdGlvbigpe3JldHVybntzdGF0ZTpcInJlamVjdGVkXCIscmVhc29uOmV9fSk7cmV0dXJuIFModCxlKSx0fWZ1bmN0aW9uIGIoZSl7cmV0dXJuIGQoe3doZW46ZnVuY3Rpb24oKXtyZXR1cm4gZX0sZ2V0OmZ1bmN0aW9uKHQpe3JldHVybiBlW3RdfSxzZXQ6ZnVuY3Rpb24odCxyKXtlW3RdPXJ9LGRlbGV0ZTpmdW5jdGlvbih0KXtkZWxldGUgZVt0XX0sQ3M6ZnVuY3Rpb24odCxyKXtyZXR1cm4gbnVsbD09PXR8fHZvaWQgMD09PXQ/ZS5hcHBseSh2b2lkIDAscik6ZVt0XS5hcHBseShlLHIpfSxhcHBseTpmdW5jdGlvbih0LHIpe3JldHVybiBlLmFwcGx5KHQscil9LGtleXM6ZnVuY3Rpb24oKXtyZXR1cm4gJChlKX19LHZvaWQgMCxmdW5jdGlvbigpe3JldHVybntzdGF0ZTpcImZ1bGZpbGxlZFwiLHZhbHVlOmV9fSl9ZnVuY3Rpb24gQyhlKXt2YXIgdD11KCk7cmV0dXJuIGMuVHMoZnVuY3Rpb24oKXt0cnl7ZS50aGVuKHQucmVzb2x2ZSx0LnJlamVjdCx0Lm5vdGlmeSl9Y2F0Y2goZSl7dC5yZWplY3QoZSl9fSksdC5Tc31mdW5jdGlvbiBfKGUpe3JldHVybiBkKHtfczpmdW5jdGlvbigpe319LGZ1bmN0aW9uKHQscil7cmV0dXJuIGsoZSx0LHIpfSxmdW5jdGlvbigpe3JldHVybiBjKGUpLklzKCl9KX1mdW5jdGlvbiBQKGUsdCxyKXtyZXR1cm4gYyhlKS5Qcyh0LHIpfWZ1bmN0aW9uIEEoZSl7cmV0dXJuIGZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlLHQpe3ZhciBvO2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBTdG9wSXRlcmF0aW9uKXt0cnl7bz1pW2VdKHQpfWNhdGNoKGUpe3JldHVybiB3KGUpfXJldHVybiBvLmRvbmU/YyhvLnZhbHVlKTpmKG8udmFsdWUsbixzKX10cnl7bz1pW2VdKHQpfWNhdGNoKGUpe3JldHVybiByKGUpP2MoZS52YWx1ZSk6dyhlKX1yZXR1cm4gZihvLG4scyl9dmFyIGk9ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyksbj10LmJpbmQodCxcIm5leHRcIikscz10LmJpbmQodCxcInRocm93XCIpO3JldHVybiBuKCl9fWZ1bmN0aW9uIE8oZSl7Yy5kb25lKGMuYXN5bmMoZSkoKSl9ZnVuY3Rpb24gTihlKXt0aHJvdyBuZXcgRyhlKX1mdW5jdGlvbiBEKGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBQKFt0aGlzLEwoYXJndW1lbnRzKV0sZnVuY3Rpb24odCxyKXtyZXR1cm4gZS5hcHBseSh0LHIpfSl9fWZ1bmN0aW9uIGsoZSx0LHIpe3JldHVybiBjKGUpLkFzKHQscil9ZnVuY3Rpb24gTChlKXtyZXR1cm4gZihlLGZ1bmN0aW9uKGUpe3ZhciB0PTAscj11KCk7cmV0dXJuIFcoZSxmdW5jdGlvbihpLG4scyl7dmFyIG87RShuKSYmXCJmdWxmaWxsZWRcIj09PShvPW4uSXMoKSkuc3RhdGU/ZVtzXT1vLnZhbHVlOigrK3QsZihuLGZ1bmN0aW9uKGkpe2Vbc109aSwwPT0tLXQmJnIucmVzb2x2ZShlKX0sci5yZWplY3QsZnVuY3Rpb24oZSl7ci5ub3RpZnkoe2luZGV4OnMsdmFsdWU6ZX0pfSkpfSx2b2lkIDApLDA9PT10JiZyLnJlc29sdmUoZSksci5Tc30pfWZ1bmN0aW9uIE0oZSl7aWYoMD09PWUubGVuZ3RoKXJldHVybiBjLnJlc29sdmUoKTt2YXIgdD1jLmRlZmVyKCkscj0wO3JldHVybiBXKGUsZnVuY3Rpb24oaSxuLHMpe2Z1bmN0aW9uIG8oZSl7dC5yZXNvbHZlKGUpfWZ1bmN0aW9uIGEoZSl7MD09PS0tciYmKGUubWVzc2FnZT1cIlEgY2FuJ3QgZ2V0IGZ1bGZpbGxtZW50IHZhbHVlIGZyb20gYW55IHByb21pc2UsIGFsbCBwcm9taXNlcyB3ZXJlIHJlamVjdGVkLiBMYXN0IGVycm9yIG1lc3NhZ2U6IFwiK2UubWVzc2FnZSx0LnJlamVjdChlKSl9ZnVuY3Rpb24gaChlKXt0Lm5vdGlmeSh7aW5kZXg6cyx2YWx1ZTplfSl9dmFyIGM9ZVtzXTtyKyssZihjLG8sYSxoKX0sdm9pZCAwKSx0LlNzfWZ1bmN0aW9uIEYoZSl7cmV0dXJuIGYoZSxmdW5jdGlvbihlKXtyZXR1cm4gZT1KKGUsYyksZihMKEooZSxmdW5jdGlvbihlKXtyZXR1cm4gZihlLGosail9KSksZnVuY3Rpb24oKXtyZXR1cm4gZX0pfSl9ZnVuY3Rpb24gVShlKXtyZXR1cm4gYyhlKS5PcygpfWZ1bmN0aW9uIEIoZSx0KXtyZXR1cm4gYyhlKS50aGVuKHZvaWQgMCx2b2lkIDAsdCl9ZnVuY3Rpb24gSChlLHQpe3JldHVybiBjKGUpLk5zKHQpfXZhciB4PSExO3RyeXt0aHJvdyBuZXcgRXJyb3J9Y2F0Y2goZSl7eD0hIWUuc3RhY2t9dmFyIHEsRyxWPWgoKSxqPWZ1bmN0aW9uKCl7fSxRPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe2Zvcih2YXIgZSxpO3IubmV4dDspcj1yLm5leHQsZT1yLkRzLHIuRHM9dm9pZCAwLGk9ci5kb21haW4saSYmKHIuZG9tYWluPXZvaWQgMCxpLmtzKCkpLHQoZSxpKTtmb3IoO2gubGVuZ3RoOyllPWgucG9wKCksdChlKTtuPSExfWZ1bmN0aW9uIHQodCxyKXt0cnl7dCgpfWNhdGNoKHQpe2lmKG8pdGhyb3cgciYmci5McygpLHNldFRpbWVvdXQoZSwwKSxyJiZyLmtzKCksdDtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhyb3cgdH0sMCl9ciYmci5McygpfXZhciByPXtEczp2b2lkIDAsbmV4dDpudWxsfSxpPXIsbj0hMSxzPXZvaWQgMCxvPSExLGE9ITE7dHJ5e2E9bmF2aWdhdG9yJiYoXCJNaWNyb3NvZnQgSW50ZXJuZXQgRXhwbG9yZXJcIj09PW5hdmlnYXRvci5hcHBOYW1lfHxudWxsIT1uYXZpZ2F0b3IuYXBwVmVyc2lvbi5tYXRjaCgvKHRyaWRlbnQpLitydls6XFxzXShbXFx3XFwuXSspLitsaWtlXFxzZ2Vja28vaSkpfWNhdGNoKGUpe312YXIgaD1bXTtpZihRPWZ1bmN0aW9uKGUpe1widW5kZWZpbmVkXCIhPXR5cGVvZiBGcmFtZXdvcmsmJkZyYW1ld29yay5DKCk/RnJhbWV3b3JrLnNldFRpbWVvdXQoZSwwKTooaT1pLm5leHQ9e0RzOmUsZG9tYWluOm8mJnByb2Nlc3MuZG9tYWluLG5leHQ6bnVsbH0sbnx8KG49ITAscygpKSl9LFwib2JqZWN0XCI9PXR5cGVvZiBwcm9jZXNzJiZwcm9jZXNzJiZcIltvYmplY3QgcHJvY2Vzc11cIj09PXByb2Nlc3MudG9TdHJpbmcoKSYmcHJvY2Vzcy5UcylvPSEwLHM9ZnVuY3Rpb24oKXtwcm9jZXNzLlRzKGUpfTtlbHNlIGlmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHNldEltbWVkaWF0ZXx8YSlpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgTWVzc2FnZUNoYW5uZWx8fGEpcz1mdW5jdGlvbigpe3NldFRpbWVvdXQoZSwwKX07ZWxzZXt2YXIgYz1uZXcgTWVzc2FnZUNoYW5uZWw7Yy5wb3J0MS5vbm1lc3NhZ2U9ZnVuY3Rpb24oKXtzPXUsYy5wb3J0MS5vbm1lc3NhZ2U9ZSxlKCl9O3ZhciB1PWZ1bmN0aW9uKCl7Yy5wb3J0Mi5wb3N0TWVzc2FnZSgwKX07cz1mdW5jdGlvbigpe3NldFRpbWVvdXQoZSwwKSx1KCl9fWVsc2Ugcz1cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3NldEltbWVkaWF0ZS5iaW5kKHdpbmRvdyxlKTpmdW5jdGlvbigpe3NldEltbWVkaWF0ZShlKX07cmV0dXJuIFEuYnM9ZnVuY3Rpb24oZSl7aC5wdXNoKGUpLG58fChuPSEwLHMoKSl9LFF9KCksSz1GdW5jdGlvbi5jYWxsLFk9ZShBcnJheS5wcm90b3R5cGUuc2xpY2UpLFc9ZShBcnJheS5wcm90b3R5cGUucmVkdWNlfHxmdW5jdGlvbihlLHQpe3ZhciByPTAsaT10aGlzLmxlbmd0aDtpZigxPT09YXJndW1lbnRzLmxlbmd0aClmb3IoOzspe2lmKHIgaW4gdGhpcyl7dD10aGlzW3IrK107YnJlYWt9aWYoKytyPj1pKXRocm93IG5ldyBUeXBlRXJyb3J9Zm9yKDtyPGk7cisrKXIgaW4gdGhpcyYmKHQ9ZSh0LHRoaXNbcl0scikpO3JldHVybiB0fSksej1lKEFycmF5LnByb3RvdHlwZS5pbmRleE9mfHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MDt0PHRoaXMubGVuZ3RoO3QrKylpZih0aGlzW3RdPT09ZSlyZXR1cm4gdDtyZXR1cm4tMX0pLEo9ZShBcnJheS5wcm90b3R5cGUubWFwfHxmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsaT1bXTtyZXR1cm4gVyhyLGZ1bmN0aW9uKG4scyxvKXtpLnB1c2goZS5jYWxsKHQscyxvLHIpKX0sdm9pZCAwKSxpfSksWD1PYmplY3QuY3JlYXRlfHxmdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnByb3RvdHlwZT1lLG5ldyB0fSxaPWUoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSksJD1PYmplY3Qua2V5c3x8ZnVuY3Rpb24oZSl7dmFyIHQ9W107Zm9yKHZhciByIGluIGUpWihlLHIpJiZ0LnB1c2gocik7cmV0dXJuIHR9LGVlPWUoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyk7Rz1cInVuZGVmaW5lZFwiIT10eXBlb2YgUmV0dXJuVmFsdWU/UmV0dXJuVmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy52YWx1ZT1lfTt2YXIgdGU9XCJGcm9tIHByZXZpb3VzIGV2ZW50OlwiO2MucmVzb2x2ZT1jLGMuVHM9USxjLnlzPSExLFwib2JqZWN0XCI9PXR5cGVvZiBwcm9jZXNzJiZwcm9jZXNzJiZwcm9jZXNzLk1zJiZwcm9jZXNzLk1zLkZzJiYoYy55cz0hMCksYy5kZWZlcj11LHUucHJvdG90eXBlLlVzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gZnVuY3Rpb24odCxyKXt0P2UucmVqZWN0KHQpOmFyZ3VtZW50cy5sZW5ndGg+Mj9lLnJlc29sdmUoWShhcmd1bWVudHMsMSkpOmUucmVzb2x2ZShyKX19LGMuUHJvbWlzZT1sLGMuU3M9bCxsLnJhY2U9cCxsLmFsbD1MLGwucmVqZWN0PXcsbC5yZXNvbHZlPWMsYy5Ccz1mdW5jdGlvbihlKXtyZXR1cm4gZX0sZC5wcm90b3R5cGUuQnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sYy5qb2luPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGMoZSkuam9pbih0KX0sZC5wcm90b3R5cGUuam9pbj1mdW5jdGlvbihlKXtyZXR1cm4gYyhbdGhpcyxlXSkuUHMoZnVuY3Rpb24oZSx0KXtpZihlPT09dClyZXR1cm4gZTt0aHJvdyBuZXcgRXJyb3IoXCJRIGNhbid0IGpvaW46IG5vdCB0aGUgc2FtZTogXCIrZStcIiBcIit0KX0pfSxjLnJhY2U9cCxkLnByb3RvdHlwZS5yYWNlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGhlbihjLnJhY2UpfSxjLkhzPWQsZC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIltvYmplY3QgUHJvbWlzZV1cIn0sZC5wcm90b3R5cGUudGhlbj1mdW5jdGlvbihlLHQscil7ZnVuY3Rpb24gbih0KXt0cnl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgZT9lKHQpOnR9Y2F0Y2goZSl7cmV0dXJuIHcoZSl9fWZ1bmN0aW9uIHMoZSl7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgdCl7aShlLGEpO3RyeXtyZXR1cm4gdChlKX1jYXRjaChlKXtyZXR1cm4gdyhlKX19cmV0dXJuIHcoZSl9ZnVuY3Rpb24gbyhlKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiByP3IoZSk6ZX12YXIgYT10aGlzLGg9dSgpLGw9ITE7cmV0dXJuIGMuVHMoZnVuY3Rpb24oKXthLm1zKGZ1bmN0aW9uKGUpe2x8fChsPSEwLGgucmVzb2x2ZShuKGUpKSl9LFwid2hlblwiLFtmdW5jdGlvbihlKXtsfHwobD0hMCxoLnJlc29sdmUocyhlKSkpfV0pfSksYS5tcyh2b2lkIDAsXCJ3aGVuXCIsW3ZvaWQgMCxmdW5jdGlvbihlKXt2YXIgdCxyPSExO3RyeXt0PW8oZSl9Y2F0Y2goZSl7aWYocj0hMCwhYy5vbmVycm9yKXRocm93IGU7Yy5vbmVycm9yKGUpfXJ8fGgubm90aWZ5KHQpfV0pLGguU3N9LGMueHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYyhlKS54cyh0KX0sZC5wcm90b3R5cGUueHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9YyhlKSx0aGlzLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIGUuR3ModCkucXModCl9KX0sYy53aGVuPWYsZC5wcm90b3R5cGUucXM9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudGhlbihmdW5jdGlvbigpe3JldHVybiBlfSl9LGMucXM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYyhlKS5xcyh0KX0sZC5wcm90b3R5cGUuVnM9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudGhlbihmdW5jdGlvbigpe3Rocm93IGV9KX0sYy5Wcz1mdW5jdGlvbihlLHQpe3JldHVybiBjKGUpLlZzKHQpfSxjLmpzPWcsYy5Rcz1FLGMuS3M9dixjLllzPXksZC5wcm90b3R5cGUuWXM9ZnVuY3Rpb24oKXtyZXR1cm5cInBlbmRpbmdcIj09PXRoaXMuSXMoKS5zdGF0ZX0sYy5Xcz1ULGQucHJvdG90eXBlLldzPWZ1bmN0aW9uKCl7cmV0dXJuXCJmdWxmaWxsZWRcIj09PXRoaXMuSXMoKS5zdGF0ZX0sYy56cz1tLGQucHJvdG90eXBlLnpzPWZ1bmN0aW9uKCl7cmV0dXJuXCJyZWplY3RlZFwiPT09dGhpcy5JcygpLnN0YXRlfTt2YXIgcmU9W10saWU9W10sbmU9W10sc2U9ITA7Yy5Kcz1JLGMuWHM9ZnVuY3Rpb24oKXtyZXR1cm4gcmUuc2xpY2UoKX0sYy5acz1mdW5jdGlvbigpe0koKSxzZT0hMX0sSSgpLGMucmVqZWN0PXcsYy5Scz1iLGMuJHM9XyxjLlBzPVAsZC5wcm90b3R5cGUuUHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5hbGwoKS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBlLmFwcGx5KHZvaWQgMCx0KX0sdCl9LGMuYXN5bmM9QSxjLmVvPU8sYy50bz1OLGMucm89RCxjLkFzPWssZC5wcm90b3R5cGUuQXM9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLGk9dSgpO3JldHVybiBjLlRzKGZ1bmN0aW9uKCl7ci5tcyhpLnJlc29sdmUsZSx0KX0pLGkuU3N9LGMuZ2V0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGMoZSkuQXMoXCJnZXRcIixbdF0pfSxkLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuQXMoXCJnZXRcIixbZV0pfSxjLnNldD1mdW5jdGlvbihlLHQscil7cmV0dXJuIGMoZSkuQXMoXCJzZXRcIixbdCxyXSl9LGQucHJvdG90eXBlLnNldD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLkFzKFwic2V0XCIsW2UsdF0pfSxjLmlvPWMuZGVsZXRlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGMoZSkuQXMoXCJkZWxldGVcIixbdF0pfSxkLnByb3RvdHlwZS5pbz1kLnByb3RvdHlwZS5kZWxldGU9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuQXMoXCJkZWxldGVcIixbZV0pfSxjLm5vPWMuQ3M9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBjKGUpLkFzKFwicG9zdFwiLFt0LHJdKX0sZC5wcm90b3R5cGUubm89ZC5wcm90b3R5cGUuQ3M9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5BcyhcInBvc3RcIixbZSx0XSl9LGMuc2VuZD1jLnNvPWMub289ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYyhlKS5BcyhcInBvc3RcIixbdCxZKGFyZ3VtZW50cywyKV0pfSxkLnByb3RvdHlwZS5zZW5kPWQucHJvdG90eXBlLnNvPWQucHJvdG90eXBlLm9vPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLkFzKFwicG9zdFwiLFtlLFkoYXJndW1lbnRzLDEpXSl9LGMuYW89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYyhlKS5BcyhcImFwcGx5XCIsW3ZvaWQgMCx0XSl9LGQucHJvdG90eXBlLmFvPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLkFzKFwiYXBwbHlcIixbdm9pZCAwLGVdKX0sYy5obz1jLkdzPWZ1bmN0aW9uKGUpe3JldHVybiBjKGUpLkFzKFwiYXBwbHlcIixbdm9pZCAwLFkoYXJndW1lbnRzLDEpXSl9LGQucHJvdG90eXBlLkdzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuQXMoXCJhcHBseVwiLFt2b2lkIDAsWShhcmd1bWVudHMpXSl9LGMuY289ZnVuY3Rpb24oZSl7dmFyIHQ9YyhlKSxyPVkoYXJndW1lbnRzLDEpO3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0LkFzKFwiYXBwbHlcIixbdGhpcyxyLmNvbmNhdChZKGFyZ3VtZW50cykpXSl9fSxkLnByb3RvdHlwZS5jbz1mdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1ZKGFyZ3VtZW50cyk7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUuQXMoXCJhcHBseVwiLFt0aGlzLHQuY29uY2F0KFkoYXJndW1lbnRzKSldKX19LGMua2V5cz1mdW5jdGlvbihlKXtyZXR1cm4gYyhlKS5BcyhcImtleXNcIixbXSl9LGQucHJvdG90eXBlLmtleXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5BcyhcImtleXNcIixbXSl9LGMuYWxsPUwsZC5wcm90b3R5cGUuYWxsPWZ1bmN0aW9uKCl7cmV0dXJuIEwodGhpcyl9LGMudW89TSxkLnByb3RvdHlwZS51bz1mdW5jdGlvbigpe3JldHVybiBNKHRoaXMpfSxjLmxvPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2YgY29uc29sZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgY29uc29sZS53YXJuJiZjb25zb2xlLndhcm4odCtcIiBpcyBkZXByZWNhdGVkLCB1c2UgXCIrcitcIiBpbnN0ZWFkLlwiLG5ldyBFcnJvcihcIlwiKS5zdGFjayksZS5hcHBseShlLGFyZ3VtZW50cyl9fShGLFwiYWxsUmVzb2x2ZWRcIixcImFsbFNldHRsZWRcIiksZC5wcm90b3R5cGUubG89ZnVuY3Rpb24oKXtyZXR1cm4gRih0aGlzKX0sYy5Pcz1VLGQucHJvdG90eXBlLk9zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gTChKKGUsZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBlLklzKCl9cmV0dXJuIGU9YyhlKSxlLnRoZW4odCx0KX0pKX0pfSxjLmZhaWw9Yy5jYXRjaD1mdW5jdGlvbihlLHQpe3JldHVybiBjKGUpLnRoZW4odm9pZCAwLHQpfSxkLnByb3RvdHlwZS5mYWlsPWQucHJvdG90eXBlLmNhdGNoPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnRoZW4odm9pZCAwLGUpfSxjLnByb2dyZXNzPUIsZC5wcm90b3R5cGUucHJvZ3Jlc3M9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudGhlbih2b2lkIDAsdm9pZCAwLGUpfSxjLnBvPWMuZmluYWxseT1mdW5jdGlvbihlLHQpe3JldHVybiBjKGUpLmZpbmFsbHkodCl9LGQucHJvdG90eXBlLnBvPWQucHJvdG90eXBlLmZpbmFsbHk9ZnVuY3Rpb24oZSl7aWYoIWV8fFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUuYXBwbHkpdGhyb3cgbmV3IEVycm9yKFwiUSBjYW4ndCBhcHBseSBmaW5hbGx5IGNhbGxiYWNrXCIpO3JldHVybiBlPWMoZSksdGhpcy50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBlLkdzKCkudGhlbihmdW5jdGlvbigpe3JldHVybiB0fSl9LGZ1bmN0aW9uKHQpe3JldHVybiBlLkdzKCkudGhlbihmdW5jdGlvbigpe3Rocm93IHR9KX0pfSxjLmRvbmU9ZnVuY3Rpb24oZSx0LHIsaSl7cmV0dXJuIGMoZSkuZG9uZSh0LHIsaSl9LGQucHJvdG90eXBlLmRvbmU9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWZ1bmN0aW9uKGUpe2MuVHMoZnVuY3Rpb24oKXtpZihpKGUscyksIWMub25lcnJvcil0aHJvdyBlO2Mub25lcnJvcihlKX0pfSxzPWV8fHR8fHI/dGhpcy50aGVuKGUsdCxyKTp0aGlzO1wib2JqZWN0XCI9PXR5cGVvZiBwcm9jZXNzJiZwcm9jZXNzJiZwcm9jZXNzLmRvbWFpbiYmKG49cHJvY2Vzcy5kb21haW4uYmluZChuKSkscy50aGVuKHZvaWQgMCxuKX0sYy50aW1lb3V0PWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gYyhlKS50aW1lb3V0KHQscil9LGQucHJvdG90eXBlLnRpbWVvdXQ9ZnVuY3Rpb24oZSx0KXt2YXIgcj11KCksaT1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dCYmXCJzdHJpbmdcIiE9dHlwZW9mIHR8fCh0PW5ldyBFcnJvcih0fHxcIlRpbWVkIG91dCBhZnRlciBcIitlK1wiIG1zXCIpLHQuY29kZT1cIkVUSU1FRE9VVFwiKSxyLnJlamVjdCh0KX0sZSk7cmV0dXJuIHRoaXMudGhlbihmdW5jdGlvbihlKXtjbGVhclRpbWVvdXQoaSksci5yZXNvbHZlKGUpfSxmdW5jdGlvbihlKXtjbGVhclRpbWVvdXQoaSksci5yZWplY3QoZSl9LHIubm90aWZ5KSxyLlNzfSxjLmRlbGF5PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHZvaWQgMD09PXQmJih0PWUsZT12b2lkIDApLGMoZSkuZGVsYXkodCl9LGQucHJvdG90eXBlLmRlbGF5PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnRoZW4oZnVuY3Rpb24odCl7dmFyIHI9dSgpO3JldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ci5yZXNvbHZlKHQpfSxlKSxyLlNzfSl9LGMuZG89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYyhlKS5kbyh0KX0sZC5wcm90b3R5cGUuZG89ZnVuY3Rpb24oZSl7dmFyIHQ9dSgpLHI9WShlKTtyZXR1cm4gci5wdXNoKHQuVXMoKSksdGhpcy5hbyhyKS5mYWlsKHQucmVqZWN0KSx0LlNzfSxjLmZvPWZ1bmN0aW9uKGUpe3ZhciB0PVkoYXJndW1lbnRzLDEpO3JldHVybiBjKGUpLmRvKHQpfSxkLnByb3RvdHlwZS5mbz1mdW5jdGlvbigpe3ZhciBlPVkoYXJndW1lbnRzKSx0PXUoKTtyZXR1cm4gZS5wdXNoKHQuVXMoKSksdGhpcy5hbyhlKS5mYWlsKHQucmVqZWN0KSx0LlNzfSxjLkVvPWMudm89ZnVuY3Rpb24oZSl7aWYodm9pZCAwPT09ZSl0aHJvdyBuZXcgRXJyb3IoXCJRIGNhbid0IHdyYXAgYW4gdW5kZWZpbmVkIGZ1bmN0aW9uXCIpO3ZhciB0PVkoYXJndW1lbnRzLDEpO3JldHVybiBmdW5jdGlvbigpe3ZhciByPXQuY29uY2F0KFkoYXJndW1lbnRzKSksaT11KCk7cmV0dXJuIHIucHVzaChpLlVzKCkpLGMoZSkuYW8ocikuZmFpbChpLnJlamVjdCksaS5Tc319LGQucHJvdG90eXBlLkVvPWQucHJvdG90eXBlLnZvPWZ1bmN0aW9uKCl7dmFyIGU9WShhcmd1bWVudHMpO3JldHVybiBlLnVuc2hpZnQodGhpcyksYy52by5hcHBseSh2b2lkIDAsZSl9LGMueW89ZnVuY3Rpb24oZSx0KXt2YXIgcj1ZKGFyZ3VtZW50cywyKTtyZXR1cm4gZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7cmV0dXJuIGUuYXBwbHkodCxhcmd1bWVudHMpfXZhciBuPXIuY29uY2F0KFkoYXJndW1lbnRzKSkscz11KCk7cmV0dXJuIG4ucHVzaChzLlVzKCkpLGMoaSkuYW8obikuZmFpbChzLnJlamVjdCkscy5Tc319LGQucHJvdG90eXBlLnlvPWZ1bmN0aW9uKCl7dmFyIGU9WShhcmd1bWVudHMsMCk7cmV0dXJuIGUudW5zaGlmdCh0aGlzKSxjLnlvLmFwcGx5KHZvaWQgMCxlKX0sYy5Ubz1jLm1vPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gYyhlKS5tbyh0LHIpfSxkLnByb3RvdHlwZS5Ubz1kLnByb3RvdHlwZS5tbz1mdW5jdGlvbihlLHQpe3ZhciByPVkodHx8W10pLGk9dSgpO3JldHVybiByLnB1c2goaS5VcygpKSx0aGlzLkFzKFwicG9zdFwiLFtlLHJdKS5mYWlsKGkucmVqZWN0KSxpLlNzfSxjLklvPWMuU289Yy5Sbz1mdW5jdGlvbihlLHQpe3ZhciByPVkoYXJndW1lbnRzLDIpLGk9dSgpO3JldHVybiByLnB1c2goaS5VcygpKSxjKGUpLkFzKFwicG9zdFwiLFt0LHJdKS5mYWlsKGkucmVqZWN0KSxpLlNzfSxkLnByb3RvdHlwZS5Jbz1kLnByb3RvdHlwZS5Tbz1kLnByb3RvdHlwZS5Sbz1mdW5jdGlvbihlKXt2YXIgdD1ZKGFyZ3VtZW50cywxKSxyPXUoKTtyZXR1cm4gdC5wdXNoKHIuVXMoKSksdGhpcy5BcyhcInBvc3RcIixbZSx0XSkuZmFpbChyLnJlamVjdCksci5Tc30sYy5Ocz1ILGQucHJvdG90eXBlLk5zPWZ1bmN0aW9uKGUpe2lmKCFlKXJldHVybiB0aGlzO3RoaXMudGhlbihmdW5jdGlvbih0KXtjLlRzKGZ1bmN0aW9uKCl7ZShudWxsLHQpfSl9LGZ1bmN0aW9uKHQpe2MuVHMoZnVuY3Rpb24oKXtlKHQpfSl9KX0sYy53bz1mdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcihcIlEubm9Db25mbGljdCBvbmx5IHdvcmtzIHdoZW4gUSBpcyB1c2VkIGFzIGEgZ2xvYmFsXCIpfTt2YXIgb2U9aCgpO3JldHVybiBjfSl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1yKDYpLG49aS5oZS5ibzshZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlfSgpO3QuQ289NWUzLHQuX289Nix0LlBvPTFlNCx0LkFvPS4yLHQuT289MTAsZS5Obz10O3ZhciByPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZX0oKTtyLkRvPVwiMC4wLjFcIixyLmtvPTNlNCxyLkxvPTRlNyxyLk1vPTEsci5Gbz0uOCxyLlVvPSExLHIuQm89MmU0LGUuSG89cjt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGV9KCk7aS54bz0hMCxpLnFvPTMsaS5Hbz0xZTQsZS5Wbz1pO3ZhciBzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZX0oKTtzLmpvPTEuMSxlLlFvPXM7dmFyIG89ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlfSgpO28uS289bixvLllvPTJlNCxvLldvPTVlMyxlLnpvPW87dmFyIGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlfSgpO2EuSm89WzQxMl0sZS5Ybz1hO3ZhciBoPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZX0oKTtoLlpvPTJlMyxoLiRvPSEwLGguZWE9ITEsaC50YT0xLGgucmE9LjAyLGguaWE9ITAsaC5uYT0hMSxoLnNhPSExLGgub2E9MWU0LGguYWE9NGU0LGguaGE9MzcwMCxoLmNhPTJlNCxoLnVhPTEsaC5sYT01LGgucGE9LjQsaC5kYT0xLGUuZmE9aDt2YXIgYz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGV9KCk7Yy5nYT0zMCxjLkVhPTJlNCxjLnZhPTNlNCxlLnlhPWM7dmFyIHU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlfSgpO3UuVGE9M2U3LHUubWE9M2U0LHUuSWE9ITEsdS5TYT0xMCxlLlJhPXU7dmFyIGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlfSgpO2wud2E9MyxsLmJhPSExLGwuQ2E9M2U0LGwuX2E9LjIsbC5QYT0uMixsLkFhPTFlNCxlLk9hPWw7dmFyIHA9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlfSgpO3AuTmE9ITEsZS5LPXA7dmFyIGQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlfSgpO2QuRGE9NjRlMyxkLmthPTVlMyxkLkxhPTEsZC5NYT0xLGUuRmE9ZDt2YXIgZj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGV9KCk7Zi5VYT00ZTMsZi5CYT0zZTQsZi5IYT00MDk2LGYueGE9ITAsZi5xYT01ZTMsZi5HYT0xZTQsZS5VRFBCcm9hZGNhc3Q9Zjt2YXIgZz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGV9KCk7Zy5WYT0xMDAsZy5qYT0xZTMsZS5RYT1nO3ZhciBFPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZX0oKTtFLkthPTIwLEUuWWE9MjAsRS5XYT0yMCxFLnphPTUsZS5KYT1FO3ZhciB2PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZX0oKTt2LlhhPVwic2l0ZVwiLHYuWmE9XCJleHRlcm5hbEFzXCIsdi4kYT1cImF2YWlsYWJsZVNlbmRSYXRlXCIsdi5laD1cInJlbW90ZUFkZHJlc3NcIix2LnRoPVwibG9jYWxBZGRyZXNzXCIsdi5yaD0yZTQsZS5paD12O3ZhciB5PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZX0oKTt5Lm5oPTNlNCxlLnNoPXk7dmFyIFQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlfSgpO1Qub2g9MzAwLGUuYWg9VH0odC5oaHx8KHQuaGg9e30pKX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZX0oKTtpLnVoPSExLGkubGg9ITAsaS5waD0hMSxpLmRoPVwiNC4xLjBcIixpLmZoPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBjb3JlP2NvcmU6XCJ1bmRlZmluZWRcIixpLmdoPSExLGkuRWg9ITAsaS52aD1cInVuZGVmaW5lZFwiIT10eXBlb2YgSU5DTFVERV9WT0RfQ0FDSEUmJklOQ0xVREVfVk9EX0NBQ0hFLGkueWg9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIElOQ0xVREVfVURQX0JST0FEQ0FTVCYmSU5DTFVERV9VRFBfQlJPQURDQVNULGkuVGg9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIElOQ0xVREVfVURQX0xFQURFUl9FTEVDVElPTiYmSU5DTFVERV9VRFBfTEVBREVSX0VMRUNUSU9OLGkubWg9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIExFQURFUl9TQ09SRV9FUVVBTElUWSYmTEVBREVSX1NDT1JFX0VRVUFMSVRZLGkuSWg9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIElOQ0xVREVfREVGQVVMVF9ORVRXT1JLJiZJTkNMVURFX0RFRkFVTFRfTkVUV09SSyxpLlNoPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBISVZFX1JFU1RSSUNURURfQ09OTklORk8mJkhJVkVfUkVTVFJJQ1RFRF9DT05OSU5GTyxpLmJvPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBISVZFX0RJU0NPVkVSWT9ISVZFX0RJU0NPVkVSWTpcIndzOi8vMTI3LjAuMC4xOjgwMDAvaGl2ZVwiLGkuUmg9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFAyUERpc3BhdGNoZXJEZXRhaWxlZExvZyYmUDJQRGlzcGF0Y2hlckRldGFpbGVkTG9nLGkud2g9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIE5ldHdvcmtNYW5hZ2VyRGV0YWlsZWRMb2cmJk5ldHdvcmtNYW5hZ2VyRGV0YWlsZWRMb2csaS5hZT1cInVuZGVmaW5lZFwiIT10eXBlb2YgQVRBVFVTX0tFWT9BVEFUVVNfS0VZOlwiNTkyODM1YTZiNDIwNGRkMTk3YzAwNDg4NjEwMDAzZTBcIixpLmNlPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBBVEFUVVNfVkVSU0lPTj9BVEFUVVNfVkVSU0lPTjpcIjAuOFwiLGkudWU9XCJ1bmRlZmluZWRcIj09dHlwZW9mIEFUQVRVU19ERUZBVUxUX0VOQUJMRUR8fEFUQVRVU19ERUZBVUxUX0VOQUJMRUQsaS5sZT01LGkuYmg9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIEhJVkVfUExVR0lOX1RJTUVPVVQ/SElWRV9QTFVHSU5fVElNRU9VVDotMSxpLkNoPVwidW5kZWZpbmVkXCI9PXR5cGVvZiBISVZFX0RFVEVDVF9QUklWQVRFSVB8fEhJVkVfREVURUNUX1BSSVZBVEVJUCxpLl9oPSEwLHQuaGU9aX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXIoMCksbj1yKDQzKSxzPXIoMzApOyFmdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUsdCl7cmV0dXJuIHQ/ZStcIi1cIit0OmV9ZnVuY3Rpb24gcihlLHQpe3ZhciByPW5ldyBVaW50OEFycmF5KGUuYnl0ZUxlbmd0aCt0LmJ5dGVMZW5ndGgpO3JldHVybiByLnNldChuZXcgVWludDhBcnJheShlKSwwKSxyLnNldChuZXcgVWludDhBcnJheSh0KSxlLmJ5dGVMZW5ndGgpLHIuYnVmZmVyfWZ1bmN0aW9uIG8oZSl7dmFyIHQ9bmV3IFVpbnQ4QXJyYXkoZS5ieXRlTGVuZ3RoKTtyZXR1cm4gdC5zZXQobmV3IFVpbnQ4QXJyYXkoZSksMCksdC5idWZmZXJ9ZnVuY3Rpb24gYShlLHQscil7dm9pZCAwPT09ciYmKHI9ITApO2Zvcih2YXIgaT0wO2k8ZS5sZW5ndGg7KWlmKGVbaV09PT10KXtpZihlLnNwbGljZShpLDEpLHIpYnJlYWt9ZWxzZSBpKyt9ZnVuY3Rpb24gaChlKXtyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLG5ldyBVaW50MTZBcnJheShlKSl9ZnVuY3Rpb24gYyhlKXtlPWUucmVwbGFjZSgvW1xcW10vLFwiXFxcXFtcIikucmVwbGFjZSgvW1xcXV0vLFwiXFxcXF1cIik7dmFyIHQ9bmV3IFJlZ0V4cChcIltcXFxcPyZdXCIrZStcIj0oW14mI10qKVwiKSxyPXQuZXhlYyhsb2NhdGlvbi5zZWFyY2gpO3JldHVybiBudWxsPT1yP1wiXCI6ZGVjb2RlVVJJQ29tcG9uZW50KHJbMV0ucmVwbGFjZSgvXFwrL2csXCIgXCIpKX1mdW5jdGlvbiB1KGUpe2Zvcih2YXIgdD1lLmxlbmd0aC0xO3Q+MDt0LS0pe3ZhciByPU1hdGguZmxvb3IoaS5GcmFtZXdvcmsucmFuZG9tKCkqKHQrMSkpLG49ZVt0XTtlW3RdPWVbcl0sZVtyXT1ufXJldHVybiBlfWZ1bmN0aW9uIGwoZSl7dmFyIHQ9bmV3IEFycmF5O2Zvcih2YXIgciBpbiBlKWUuaGFzT3duUHJvcGVydHkocikmJiEvXlxcZCskLy50ZXN0KHIpJiZ0LnB1c2gocik7cmV0dXJuIHR9ZnVuY3Rpb24gcChlKXtyZXR1cm4gT2JqZWN0LmtleXMoZSkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBwYXJzZUludChlLDEwKX0pLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4haXNOYU4oZSl9KX1mdW5jdGlvbiBkKGUsdCl7cmV0dXJuIGVbdF0/ZVt0XTpudWxsfWZ1bmN0aW9uIGYoZSx0KXtyZXR1cm4gbmV3IHModCkuUGgoZSkudG9TdHJpbmcoKX1mdW5jdGlvbiBnKGUpe3JldHVybiAwPT1lLmxlbmd0aD8wOmUucmVkdWNlKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUrdH0pL2UubGVuZ3RofWZ1bmN0aW9uIEUoZSl7Zm9yKHZhciB0PW5ldyBBcnJheUJ1ZmZlcihlLmxlbmd0aCkscj1uZXcgVWludDhBcnJheSh0KSxpPTAsbj1lLmxlbmd0aDtpPG47aSsrKXJbaV09ZS5jaGFyQ29kZUF0KGkpO3JldHVybiB0fWZ1bmN0aW9uIHYoZSx0LHIsaSl7dmFyIG49bmV3IGUodCxyKSxzPWl8fHIuY3VycmVudFRhcmdldDtyZXR1cm4gcyYmT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobix7Y3VycmVudFRhcmdldDp7dmFsdWU6cyxwOiEwLEFoOiExfSx0YXJnZXQ6e3ZhbHVlOnMscDohMCxBaDohMX19KSxufWUuT2g9bmV3IG4uQ291bnRlcjt2YXIgeT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLkFMUEhBPS4yNSx0aGlzLk5oPTFlOCx0aGlzLkRoPTFlNH1yZXR1cm4gZS5wcm90b3R5cGUua2g9ZnVuY3Rpb24oKXtyZXR1cm4gdm9pZCAwIT09dGhpcy5MaH0sZS5wcm90b3R5cGUuTWg9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5MaD1NYXRoLm1pbih0aGlzLk5oLHQvZSo4ZTMpLHRoaXN9LGUucHJvdG90eXBlLkZoPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLkxoPU1hdGgubWF4KHRoaXMuTmgsZSksdGhpc30sZS5wcm90b3R5cGUuVWg9ZnVuY3Rpb24oZSl7ZS5raCgpJiYodGhpcy5raCgpP3RoaXMuTGg9dGhpcy5MaCooMS10aGlzLkFMUEhBKStlLkxoKnRoaXMuQUxQSEE6dGhpcy5MaD1lLkxoKX0sZS5wcm90b3R5cGUuQmg9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMua2goKT9NYXRoLnJvdW5kKDhlMyplL3RoaXMuTGgpOk5hTn0sZS5wcm90b3R5cGUuSGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5raCgpP3RoaXMuTGg6TmFOfSxlLnByb3RvdHlwZS54aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmtoKCk/dGhpcy5MaC8xZTM6TmFOfSxlLnByb3RvdHlwZS5xaD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmtoKCk/dGhpcy5MaC8xZTY6TmFOfSxlLnByb3RvdHlwZS5HaD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmtoKCk/dGhpcy5MaD4xZTY/KHRoaXMuTGgvMWU2KS50b0ZpeGVkKDIpK1wiTWIvc1wiOnRoaXMuTGg+MWUzPyh0aGlzLkxoLzFlMykudG9GaXhlZCgyKStcIktiL3NcIjp0aGlzLkxoK1wiYi9zXCI6XCJOYU5cIn0sZX0oKTtlLlZoPXksZS5qaD10LGUuYXBwZW5kQnVmZmVyPXIsZS5RaD1vLGUuS2g9YSxlLlloPWgsZS5XaD1jLGUuemg9dSxlLkpoPWwsZS5YaD1wLGUuWmg9ZCxlLiRoPWYsZS5lYz1nLGUudGM9RSxlLmNyZWF0ZUV2ZW50PXZ9KHQucmN8fCh0LnJjPXt9KSl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjshZnVuY3Rpb24oZSl7ZS5pYz1cInN0YXRzQ2xpZW50XCIsZS5HPVwic2VydmljZXNDbGllbnRcIixlLm5jPVwidGlja2V0UmVzb2x2ZXJcIixlLk09XCJpZGVudGl0eVByb3ZpZGVyXCIsZS5zYz1cImNvbm5JbmZvUHJvdmlkZXJcIixlLm9jPVwicGVlckluZm9cIixlLmFjPVwic3RyZWFtSW5mb1Byb3ZpZGVyXCIsZS5oYz1cInJlcG9ydGluZ1wiLGUuY2M9XCJzdGF0c1N0b3JlXCIsZS51Yz1cInRyYWNrTWFuYWdlclwiLGUubGM9XCJ0cmFja0NsaWVudFwifSh0LnBjfHwodC5wYz17fSkpfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7IWZ1bmN0aW9uKGUpe2VbZS5kYz0wXT1cIkFVRElPXCIsZVtlLmZjPTFdPVwiVklERU9cIixlW2UuZ2M9Ml09XCJNRVRBREFUQVwiLGVbZS5FYz0zXT1cIk9USEVSXCJ9KHQudmN8fCh0LnZjPXt9KSl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtyKDYwKTshZnVuY3Rpb24oZSl7ZVtlLnljPTBdPVwiVFJBQ0tFUlwiLGVbZS5XPTFdPVwiVURQXCJ9KHQuVGN8fCh0LlRjPXt9KSk7IWZ1bmN0aW9uKGUpe2VbZS5tYz0xXT1cIlBMQVlFUlwiLGVbZS5JYz0yXT1cIlAyUF9BR0VOVFwiLGVbZS5TYz0zXT1cIlBSRUZFVENIRVJfRklSU1RfVElFUlwiLGVbZS5SYz00XT1cIlBSRUZFVENIRVJfU0VDT05EX1RJRVJcIn0odC53Y3x8KHQud2M9e30pKTt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGV9KCk7dC5UcmFja2VyUGVlclN0cmVhbUluZm89aTt2YXIgbj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0LHIpe3RoaXMuaXNMZWFkZXI9cix0aGlzLmludGVybmFsQXM9MCx0aGlzLmV4dGVybmFsQXM9MCx0aGlzLnR5cGU9ZSxyfHwodGhpcy5pc0xlYWRlcj0hMSksdCYmKHRoaXMuZ3VpZD10Lmd1aWQsdGhpcy5pbnRlcm5hbEFzPXQuaW50ZXJuYWxBcyx0aGlzLmV4dGVybmFsQXM9dC5leHRlcm5hbEFzLHRoaXMubmF0PXQubmF0LHRoaXMuYmFuZHdpZHRoPXQuYmFuZHdpZHRoLHRoaXMud2F0Y2hpbmdCaXRyYXRlPXQud2F0Y2hpbmdCaXRyYXRlLHRoaXMuc3RyZWFtcz10LnN0cmVhbXMsdGhpcy5yYW5rVmFsdWU9dC5yYW5rVmFsdWUsdGhpcy50aW1lc3RhbXA9dC50aW1lc3RhbXAsdGhpcy5wcml2YXRlSXBTdHJpbmc9dC5wcml2YXRlSXBTdHJpbmcsdGhpcy5wdWJsaWNJcFN0cmluZz10LnB1YmxpY0lwU3RyaW5nKX1yZXR1cm4gZX0oKTt0LmJjPW59LGZ1bmN0aW9uKGUsdCxyKXtyKDY1KSxyKDM2KSxyKDY2KSxyKDEwMCl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBpKCl7dGhyb3cgbmV3IEVycm9yKFwiQ2FuJ3QgY29uc3RydWN0LiBHZW5lcmljQ29sbGVjdGlvbiBpcyBhIG1peGluLlwiKX1lLmk9aSxpLkNjPU9iamVjdC5mcmVlemUoW10pLGkucHJvdG90eXBlLmFkZEVhY2g9ZnVuY3Rpb24oZSl7aWYoZSYmT2JqZWN0KGUpPT09ZSlpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLmZvckVhY2gpZS5mb3JFYWNoKHRoaXMuYWRkLHRoaXMpO2Vsc2UgaWYoXCJudW1iZXJcIj09dHlwZW9mIGUubGVuZ3RoKWZvcih2YXIgdD0wO3Q8ZS5sZW5ndGg7dCsrKXRoaXMuYWRkKGVbdF0sdCk7ZWxzZSBPYmplY3Qua2V5cyhlKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3RoaXMuYWRkKGVbdF0sdCl9LHRoaXMpO2Vsc2UgaWYoZSYmXCJudW1iZXJcIj09dHlwZW9mIGUubGVuZ3RoKWZvcih2YXIgdD0wO3Q8ZS5sZW5ndGg7dCsrKXRoaXMuYWRkKGVbdF0sdCk7cmV0dXJuIHRoaXN9LGkucHJvdG90eXBlLl9jPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuZm9yRWFjaChmdW5jdGlvbihlKXt0aGlzLmRlbGV0ZShlLHQpfSx0aGlzKSx0aGlzfSxpLnByb3RvdHlwZS5mb3JFYWNoPWZ1bmN0aW9uKGUpe3ZhciB0PWFyZ3VtZW50c1sxXTtyZXR1cm4gdGhpcy5yZWR1Y2UoZnVuY3Rpb24ocixpLG4scyxvKXtlLmNhbGwodCxpLG4scyxvKX0sdm9pZCAwKX0saS5wcm90b3R5cGUubWFwPWZ1bmN0aW9uKGUpe3ZhciB0PWFyZ3VtZW50c1sxXSxyPVtdO3JldHVybiB0aGlzLnJlZHVjZShmdW5jdGlvbihpLG4scyxvLGEpe3IucHVzaChlLmNhbGwodCxuLHMsbyxhKSl9LHZvaWQgMCkscn0saS5wcm90b3R5cGUuZW51bWVyYXRlPWZ1bmN0aW9uKGUpe251bGw9PWUmJihlPTApO3ZhciB0PVtdO3JldHVybiB0aGlzLnJlZHVjZShmdW5jdGlvbihyLGkpe3QucHVzaChbZSsrLGldKX0sdm9pZCAwKSx0fSxpLnByb3RvdHlwZS5ncm91cD1mdW5jdGlvbihlLHQscil7cj1yfHxPYmplY3QuY3M7dmFyIGk9W10sbj1bXTtyZXR1cm4gdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKHMsbyxhKXt2YXIgaCxvPWUuY2FsbCh0LHMsbyxhKSxjPW4uaW5kZXhPZihvLHIpOy0xPT09Yz8oaD1bXSxpLnB1c2goW28saF0pLG4ucHVzaChvKSk6aD1pW2NdWzFdLGgucHVzaChzKX0pLGl9LGkucHJvdG90eXBlLnRvQXJyYXk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoRnVuY3Rpb24uaWRlbnRpdHkpfSxpLnByb3RvdHlwZS5QYz1mdW5jdGlvbigpe3ZhciBlPXt9O3JldHVybiB0aGlzLnJlZHVjZShmdW5jdGlvbih0LHIsaSl7ZVtpXT1yfSx2b2lkIDApLGV9LGkucHJvdG90eXBlLmZpbHRlcj1mdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHNbMV0scj10aGlzLkVzKCk7cmV0dXJuIHRoaXMucmVkdWNlKGZ1bmN0aW9uKGksbixzLG8sYSl7ZS5jYWxsKHQsbixzLG8sYSkmJnIuYWRkKG4scyl9LHZvaWQgMCkscn0saS5wcm90b3R5cGUuZXZlcnk9ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzWzFdO3JldHVybiB0aGlzLnJlZHVjZShmdW5jdGlvbihyLGksbixzLG8pe3JldHVybiByJiZlLmNhbGwodCxpLG4scyxvKX0sITApfSxpLnByb3RvdHlwZS5zb21lPWZ1bmN0aW9uKGUpe3ZhciB0PWFyZ3VtZW50c1sxXTtyZXR1cm4gdGhpcy5yZWR1Y2UoZnVuY3Rpb24ocixpLG4scyxvKXtyZXR1cm4gcnx8ZS5jYWxsKHQsaSxuLHMsbyl9LCExKX0saS5wcm90b3R5cGUuYWxsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXZlcnkoQm9vbGVhbil9LGkucHJvdG90eXBlLnVvPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc29tZShCb29sZWFuKX0saS5wcm90b3R5cGUubWluPWZ1bmN0aW9uKGUpe2U9ZXx8dGhpcy5BY3x8T2JqZWN0Lk9jO3ZhciB0PSEwO3JldHVybiB0aGlzLnJlZHVjZShmdW5jdGlvbihyLGkpe3JldHVybiB0Pyh0PSExLGkpOmUoaSxyKTwwP2k6cn0sdm9pZCAwKX0saS5wcm90b3R5cGUubWF4PWZ1bmN0aW9uKGUpe2U9ZXx8dGhpcy5BY3x8T2JqZWN0Lk9jO3ZhciB0PSEwO3JldHVybiB0aGlzLnJlZHVjZShmdW5jdGlvbihyLGkpe3JldHVybiB0Pyh0PSExLGkpOmUoaSxyKT4wP2k6cn0sdm9pZCAwKX0saS5wcm90b3R5cGUuTmM9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9dm9pZCAwPT09ZT8wOmUsdGhpcy5yZWR1Y2UoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSt0fSxlKX0saS5wcm90b3R5cGUuRGM9ZnVuY3Rpb24oZSl7dmFyIHQ9dm9pZCAwPT09ZT8wOmUscj12b2lkIDA9PT1lPzA6ZTtyZXR1cm4gdGhpcy5yZWR1Y2UoZnVuY3Rpb24oZSxpKXt0Kz1pLHIrPTF9LHZvaWQgMCksdC9yfSxpLnByb3RvdHlwZS5jb25jYXQ9ZnVuY3Rpb24oKXtmb3IodmFyIGU9dGhpcy5Fcyh0aGlzKSx0PTA7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyllLmFkZEVhY2goYXJndW1lbnRzW3RdKTtyZXR1cm4gZX0saS5wcm90b3R5cGUua2M9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiB0aGlzLnJlZHVjZShmdW5jdGlvbih0LHIpe3JldHVybiByLmZvckVhY2goZnVuY3Rpb24oZSl7dGhpcy5wdXNoKGUpfSx0LGUpLHR9LFtdKX0saS5wcm90b3R5cGUuTGM9ZnVuY3Rpb24oKXt2YXIgZT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO3JldHVybiBlLnVuc2hpZnQodGhpcyksQXJyYXkuTWMoZSl9LGkucHJvdG90eXBlLmpvaW49ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucmVkdWNlKGZ1bmN0aW9uKHQscil7cmV0dXJuIHZvaWQgMD09PXQ/cjp0K2Urcn0sdm9pZCAwKX0saS5wcm90b3R5cGUuRmM9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlPWV8fHRoaXMuQWN8fE9iamVjdC5PYyxlLlVjPyh0PWUuVWMsZT1lLk9jfHx0aGlzLkFjfHxPYmplY3QuT2MpOnQ9dHx8RnVuY3Rpb24uaWRlbnRpdHksdm9pZCAwPT09ciYmKHI9MSksdGhpcy5tYXAoZnVuY3Rpb24oZSl7cmV0dXJue1VjOnQoZSksdmFsdWU6ZX19KS5zb3J0KGZ1bmN0aW9uKHQsaSl7cmV0dXJuIGUodC5VYyxpLlVjKSpyfSkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLnZhbHVlfSl9LGkucHJvdG90eXBlLnJldmVyc2VkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuRXModGhpcykucmV2ZXJzZSgpfSxpLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbihlLHQpe2lmKHZvaWQgMD09PWUpZT0xLzA7ZWxzZSBpZigwPT09ZSlyZXR1cm4gdGhpczt2YXIgcj10aGlzLkVzKCk7cmV0dXJuIHRoaXMuZm9yRWFjaChmdW5jdGlvbihpLG4pe3IuYWRkKE9iamVjdC5jbG9uZShpLGUtMSx0KSxuKX0sdGhpcykscn0saS5wcm90b3R5cGUub25seT1mdW5jdGlvbigpe2lmKDE9PT10aGlzLmxlbmd0aClyZXR1cm4gdGhpcy5CYygpfSxpLnByb3RvdHlwZS5pdGVyYXRvcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLkhjLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0saS5ncz17Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGVuZ3RofSxwOiExLGw6ITB9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSxcInNpemVcIixpLmdzKSxyKDY1KX0sZnVuY3Rpb24oZSx0LHIpe2Z1bmN0aW9uIGkoKXt0aHJvdyBuZXcgRXJyb3IoXCJUaGlzIGlzIGFuIGFic3RyYWN0IG1vZGVscy4gTWl4IGl0LiBEb24ndCBjb25zdHJ1Y3QgaXRcIil9ZnVuY3Rpb24gbihlLHQscixpKXt2YXIgbixzLG8sYT1lLmFjdGl2ZSxoPWUueGMsYz1oLmxlbmd0aCx1PWM7Zm9yKGEubGVuZ3RoPmMmJihhLmxlbmd0aD1jKTtjLS07KWFbY109aFtjXTtmb3Iocz0wO3M8dTtzKyspaWYobz1hW3NdLCFzfHxoLmluZGV4T2Yobyk+PTApe2lmKG49b1tlLnFjXXx8b1tlLkdjXXx8bywhbi5jYWxsKXRocm93IG5ldyBFcnJvcihcIk5vIGV2ZW50IGxpc3RlbmVyIGZvciBcIitlLlZjK1wiIG9yIFwiK2UuamMrXCIgb3IgY2FsbCBvbiBcIituKTtuLmNhbGwobyxyLHQsaSl9fXIoMTEpO3ZhciBzPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7ZS5pPWksaS5kZWJ1Zz0hMCxpLnByb3RvdHlwZS5RYz1mdW5jdGlvbihlKXt0aGlzLktjfHxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcIl9fcHJvcGVydHlDaGFuZ2VMaXN0ZW5lcnNfX1wiLHt2YWx1ZTp7fSxwOiExLGw6ITAsQWg6ITB9KTt2YXIgdD10aGlzLktjO2lmKCFzLmNhbGwodCxlKSl7dmFyIHI9U3RyaW5nKGUpO3I9ciYmclswXS50b1VwcGVyQ2FzZSgpK3Iuc2xpY2UoMSksdFtlXT17WWM6e3hjOltdLGFjdGl2ZTpbXSxxYzpcImhhbmRsZVwiK3IrXCJXaWxsQ2hhbmdlXCIsR2M6XCJoYW5kbGVQcm9wZXJ0eVdpbGxDaGFuZ2VcIn0sV2M6e3hjOltdLGFjdGl2ZTpbXSxxYzpcImhhbmRsZVwiK3IrXCJDaGFuZ2VcIixHYzpcImhhbmRsZVByb3BlcnR5Q2hhbmdlXCJ9fX1yZXR1cm4gdFtlXX0saS5wcm90b3R5cGUuemM9ZnVuY3Rpb24oZSl7aWYoIXRoaXMuS2MpcmV0dXJuITE7aWYoIWUpcmV0dXJuITA7dmFyIHQ9dGhpcy5LYztyZXR1cm4hIXMuY2FsbCh0LGUpfSxpLnByb3RvdHlwZS5KYz1mdW5jdGlvbihlLHQscil7dGhpcy5YYyYmIXRoaXMuWmMmJnRoaXMuWGMoKTt2YXIgbixzPWkuUWModGhpcyxlKTtuPXI/cy5ZYzpzLldjLGkuJGModGhpcyxlKSxuLnhjLnB1c2godCk7dmFyIG89dGhpcztyZXR1cm4gZnVuY3Rpb24oKXtpLmV1KG8sZSx0LHIpLG89bnVsbH19LGkucHJvdG90eXBlLnR1PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGkuSmModGhpcyxlLHQsITApfSxpLnByb3RvdHlwZS5ldT1mdW5jdGlvbihlLHQscil7dmFyIG4scz1pLlFjKHRoaXMsZSk7bj1yP3MuWWM6cy5XYzt2YXIgbz1uLnhjLmxhc3RJbmRleE9mKHQpO2lmKC0xPT09byl0aHJvdyBuZXcgRXJyb3IoXCJDYW4ndCByZW1vdmUgcHJvcGVydHkgY2hhbmdlIGxpc3RlbmVyOiBkb2VzIG5vdCBleGlzdDogcHJvcGVydHkgbmFtZVwiK0pTT04uc3RyaW5naWZ5KGUpKTtuLnhjLnNwbGljZShvLDEpfSxpLnByb3RvdHlwZS5ydT1mdW5jdGlvbihlLHQpe3JldHVybiBpLmV1KHRoaXMsZSx0LCEwKX0saS5wcm90b3R5cGUuaXU9ZnVuY3Rpb24oZSx0LHIpe3ZhciBzLG89aS5RYyh0aGlzLGUpO2lmKCFvLmlzQWN0aXZlKXtvLmlzQWN0aXZlPSEwLHM9cj9vLlljOm8uV2M7dHJ5e24ocyxlLHQsdGhpcyl9ZmluYWxseXtvLmlzQWN0aXZlPSExfX19LGkucHJvdG90eXBlLm51PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGkuaXUodGhpcyxlLHQsITApfSxpLnByb3RvdHlwZS4kYz1mdW5jdGlvbihlKXt2YXIgdD10aGlzLnN1O2lmKHQpe2lmKHMuY2FsbCh0LGUpKXJldHVybn1lbHNle2lmKEFycmF5LmlzQXJyYXkodGhpcykpcmV0dXJuO2lmKCFPYmplY3QuaXNFeHRlbnNpYmxlKHRoaXMpKXRocm93IG5ldyBFcnJvcihcIkNhbid0IG1ha2UgcHJvcGVydHkgXCIrSlNPTi5zdHJpbmdpZnkoZSkrXCIgb2JzZXJ2YWJsZSBvbiBcIit0aGlzK1wiIGJlY2F1c2Ugb2JqZWN0IGlzIG5vdCBleHRlbnNpYmxlXCIpO3Q9e30sT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJfX292ZXJyaWRkZW5Qcm9wZXJ0eURlc2NyaXB0b3JzX19cIix7dmFsdWU6dCxwOiExLEFoOiEwLGw6ITB9KX12YXIgcjtcIm9iamVjdFwiPT10eXBlb2YgdGhpcy5vdT9yPXRoaXMub3U6KHI9e30sT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJfX3N0YXRlX19cIix7dmFsdWU6cixBaDohMCxwOiExfSkpLHJbZV09dGhpc1tlXTt2YXIgaSxvPXRoaXM7ZG97aWYoaT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG8sZSkpYnJlYWs7bz1PYmplY3QuZ2V0UHJvdG90eXBlT2Yobyl9d2hpbGUobyk7aWYoaSl7aWYoIWkubClyZXR1cm47aWYoIWkuQWgmJiFpLnNldClyZXR1cm59ZWxzZSBpPXt2YWx1ZTp2b2lkIDAscDohMCxBaDohMCxsOiEwfTt0W2VdPWk7dmFyIGE7YT1cInZhbHVlXCJpbiBpP3tnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaS52YWx1ZX0sc2V0OmZ1bmN0aW9uKHQpe3ZhciBzLG87aWYodCE9PWkudmFsdWUpe2lmKHM9dGhpcy5LY1tlXSwhKG89cy5pc0FjdGl2ZSkpe3MuaXNBY3RpdmU9ITA7dHJ5e24ocy5ZYyxlLGkudmFsdWUsdGhpcyl9ZmluYWxseXt9fWlmKGkudmFsdWU9dCxyW2VdPXQsIW8pdHJ5e24ocy5XYyxlLHQsdGhpcyl9ZmluYWxseXtzLmlzQWN0aXZlPSExfX19LHA6aS5wLGw6ITB9OntnZXQ6aS5nZXQsc2V0OmZ1bmN0aW9uKHQpe3ZhciBzLG8sYT10aGlzW2VdO2lmKGkuc2V0LmNhbGwodGhpcyx0KSwodD10aGlzW2VdKSE9PWEpe2lmKHM9dGhpcy5LY1tlXSwhKG89cy5pc0FjdGl2ZSkpe3MuaXNBY3RpdmU9ITA7dHJ5e24ocy5ZYyxlLGEsdGhpcyl9ZmluYWxseXt9fWlmKHJbZV09dCwhbyl0cnl7bihzLldjLGUsdCx0aGlzKX1maW5hbGx5e3MuaXNBY3RpdmU9ITF9fX0scDppLnAsbDohMH0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsZSxhKX0saS5RYz1mdW5jdGlvbihlLHQpe3JldHVybiBlLlFjP2UuUWModCk6aS5wcm90b3R5cGUuUWMuY2FsbChlLHQpfSxpLnpjPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuemM/ZS56Yyh0KTppLnByb3RvdHlwZS56Yy5jYWxsKGUsdCl9LGkuSmM9ZnVuY3Rpb24oZSx0LHIsbil7aWYoT2JqZWN0LmF1KGUpKXJldHVybiBlLkpjP2UuSmModCxyLG4pOmkucHJvdG90eXBlLkpjLmNhbGwoZSx0LHIsbil9LGkuZXU9ZnVuY3Rpb24oZSx0LHIsbil7aWYoT2JqZWN0LmF1KGUpKXJldHVybiBlLmV1P2UuZXUodCxyLG4pOmkucHJvdG90eXBlLmV1LmNhbGwoZSx0LHIsbil9LGkuaXU9ZnVuY3Rpb24oZSx0LHIsbil7aWYoT2JqZWN0LmF1KGUpKXJldHVybiBlLml1P2UuaXUodCxyLG4pOmkucHJvdG90eXBlLml1LmNhbGwoZSx0LHIsbil9LGkudHU9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBpLkpjKGUsdCxyLCEwKX0saS5ydT1mdW5jdGlvbihlLHQscil7cmV0dXJuIGkuZXUoZSx0LHIsITApfSxpLm51PWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gaS5pdShlLHQsciwhMCl9LGkuJGM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS4kYz9lLiRjKHQpOmkucHJvdG90eXBlLiRjLmNhbGwoZSx0KX19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaSxuPXRoaXMmJnRoaXMuaHV8fGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gcigpe3RoaXMuY29uc3RydWN0b3I9ZX1mb3IodmFyIGkgaW4gdCl0Lmhhc093blByb3BlcnR5KGkpJiYoZVtpXT10W2ldKTtlLnByb3RvdHlwZT1udWxsPT09dD9PYmplY3QuY3JlYXRlKHQpOihyLnByb3RvdHlwZT10LnByb3RvdHlwZSxuZXcgcil9LHM9cig0MSksbz1yKDYpLGE9by5oZS5TaCxoPW8uaGUuQ2g7IWZ1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZX0oKTt0LkRhc2hGaWx0ZXJCaXRyYXRlcz1udWxsLHQuRGFzaFJlbW92ZUJpdHJhdGVTaXplPSExLGUuRGFzaD10O3ZhciByPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZX0oKTtyLkF1ZGlvQWNjb3VudGluZz0hMCxlLlN0YXRzPXI7dmFyIGk9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIG4odCxlKSx0fShzLkhpdmVDb25maWcuRGVidWdMb2dzKTtpLlRyYWNrZXJMb2dzPTAsZS5EZWJ1Z0xvZ3M9aTt2YXIgbz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGV9KCk7by51c2l6PW51bGwsZS5VRFBCcm9hZGNhc3Q9bzt2YXIgYz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGV9KCk7Yy5yZXN0cmljdGVkQ29ubmVjdGl2aXR5SW5mbz1hLGMuaGlkZGVuSG9zdG5hbWVWYWx1ZT1cIltIaWRkZW5dXCIsZS5TZW5zaXRpdmVJbmZvPWM7dmFyIHU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlfSgpO3UuY3U9bnVsbCx1LnV1PW51bGwsZS5DbGllbnRJbmZvPXU7dmFyIGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlfSgpO2wuZGV0ZWN0UHJpdmF0ZUlQPWgsZS5Db25uSW5mbz1sfShpPXQuSGl2ZUNvbmZpZ3x8KHQuSGl2ZUNvbmZpZz17fSkpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJih2b2lkIDA9PT13aW5kb3cuSGl2ZUNvbmZpZyYmKHdpbmRvdy5IaXZlQ29uZmlnPXt9KSx3aW5kb3cuSGl2ZUNvbmZpZy5EYXNoPWkuRGFzaCx3aW5kb3cuSGl2ZUNvbmZpZy5TdGF0cz1pLlN0YXRzLHdpbmRvdy5IaXZlQ29uZmlnLlVEUEJyb2FkY2FzdD1pLlVEUEJyb2FkY2FzdCx3aW5kb3cuSGl2ZUNvbmZpZy5EZWJ1Z0xvZ3M9aS5EZWJ1Z0xvZ3Msd2luZG93LkhpdmVDb25maWcuU2Vuc2l0aXZlSW5mbz1pLlNlbnNpdGl2ZUluZm8sd2luZG93LkhpdmVDb25maWcuQ2xpZW50SW5mbz1pLkNsaWVudEluZm8sd2luZG93LkhpdmVDb25maWcuQ29ubkluZm89aS5Db25uSW5mbyl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjshZnVuY3Rpb24oZSl7ZS5sdT1cInNuYXBBY2NvdW50aW5nTWFuYWdlclwiLGUucHU9XCJtZW1iZXJzaGlwXCIsZS5kdT1cInBhcnRuZXJzaGlwXCIsZS5mdT1cImluUGFydG5lcnNoaXBcIixlLmd1PVwib3V0UGFydG5lcnNoaXBcIixlLkV1PVwiaW5QcmVmZXRjaGVyUGFydG5lcnNoaXBcIixlLnZ1PVwib3V0UHJlZmV0Y2hlclBhcnRuZXJzaGlwXCIsZS55dT1cImNhY2hlXCIsZS5UdT1cImxpdmVjYWNoZVwiLGUubXU9XCJ2b2RjYWNoZVwiLGUuSXU9XCJvYmpJbmRleFwiLGUuU3U9XCJjZW50ckZyYWdtZW50XCIsZS5SdT1cImhjYWNoZVwiLGUud3U9XCJyZXNwb25kZXJcIixlLmJ1PVwicmVxdWVzdGVyXCIsZS5DdT1cInAycFJlcXVlc3RlclwiLGUuX3U9XCJwZWVyXCIsZS5QdT1cImNvbnRleHRSZXNvbHZlclwiLGUuQXU9XCJ2aWRlb1ByZWZldGNoZXJcIixlLk91PVwicHJlZmV0Y2hNYW5hZ2VyXCIsZS5OdT1cInBpY2tlclwiLGUuRHU9XCJ0cmFja2VyQ2xpZW50XCIsZS5rdT1cInNjb3JlVXBkYXRlclwiLGUucT1cInNlcnZlck1hbmFnZXJcIixlLkx1PVwicmVxdWVzdFRyYWNrZXJcIixlLk11PVwidHJhY2tlck1hbmFnZXJcIixlLkZ1PVwicmVuZGVyU3RhdHNcIixlLlV1PVwidWRwQnJvYWRjYXN0ZXJcIixlLkJ1PVwidWRwRGlzY292ZXJ5XCIsZS5UaD1cInVkcExlYWRlckVsZWN0aW9uXCIsZS5IdT1cIm5vZGVJbmZvXCIsZS54dT1cImlwc3Bvb2ZpbmdcIn0odC5xdXx8KHQucXU9e30pKX0sZnVuY3Rpb24oZSx0KXtlLmk9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEZ1bmN0aW9ufX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPSEwLG49e0d1OmZ1bmN0aW9uKGUpe3JldHVyblwiYm9vbGVhblwiIT10eXBlb2YgZT9uZXcgRXJyb3IoXCJBcmd1bWVudCB0eXBlOiBcIit0eXBlb2YgZStcIi4gUGxlYXNlIHVzZSBhIGJvb2xlYW4uXCIpOihpPWUsZT9cImFkYXB0ZXIuanMgbG9nZ2luZyBkaXNhYmxlZFwiOlwiYWRhcHRlci5qcyBsb2dnaW5nIGVuYWJsZWRcIil9LGxvZzpmdW5jdGlvbigpe2lmKFwib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3cpe2lmKGkpcmV0dXJuO1widW5kZWZpbmVkXCIhPXR5cGVvZiBjb25zb2xlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBjb25zb2xlLmxvZyYmY29uc29sZS5sb2cuYXBwbHkoY29uc29sZSxhcmd1bWVudHMpfX0sVnU6ZnVuY3Rpb24oZSx0LHIpe3ZhciBpPWUubWF0Y2godCk7cmV0dXJuIGkmJmkubGVuZ3RoPj1yJiZwYXJzZUludChpW3JdLDEwKX0sanU6ZnVuY3Rpb24oKXt2YXIgZT17fTtpZihlLlF1PW51bGwsZS52ZXJzaW9uPW51bGwsXCJ1bmRlZmluZWRcIj09dHlwZW9mIHdpbmRvd3x8IXdpbmRvdy5uYXZpZ2F0b3IpcmV0dXJuIGUuUXU9XCJOb3QgYSBicm93c2VyLlwiLGU7aWYobmF2aWdhdG9yLm1vekdldFVzZXJNZWRpYSllLlF1PVwiZmlyZWZveFwiLGUudmVyc2lvbj10aGlzLlZ1KG5hdmlnYXRvci51c2VyQWdlbnQsL0ZpcmVmb3hcXC8oXFxkKylcXC4vLDEpO2Vsc2UgaWYobmF2aWdhdG9yLndlYmtpdEdldFVzZXJNZWRpYSlpZih3aW5kb3cud2Via2l0UlRDUGVlckNvbm5lY3Rpb24pZS5RdT1cImNocm9tZVwiLGUudmVyc2lvbj10aGlzLlZ1KG5hdmlnYXRvci51c2VyQWdlbnQsL0Nocm9tKGV8aXVtKVxcLyhcXGQrKVxcLi8sMik7ZWxzZXtpZighbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvVmVyc2lvblxcLyhcXGQrKS4oXFxkKykvKSlyZXR1cm4gZS5RdT1cIlVuc3VwcG9ydGVkIHdlYmtpdC1iYXNlZCBicm93c2VyIHdpdGggR1VNIHN1cHBvcnQgYnV0IG5vIFdlYlJUQyBzdXBwb3J0LlwiLGU7ZS5RdT1cInNhZmFyaVwiLGUudmVyc2lvbj10aGlzLlZ1KG5hdmlnYXRvci51c2VyQWdlbnQsL0FwcGxlV2ViS2l0XFwvKFxcZCspXFwuLywxKX1lbHNlIGlmKG5hdmlnYXRvci5tZWRpYURldmljZXMmJm5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0VkZ2VcXC8oXFxkKykuKFxcZCspJC8pKWUuUXU9XCJlZGdlXCIsZS52ZXJzaW9uPXRoaXMuVnUobmF2aWdhdG9yLnVzZXJBZ2VudCwvRWRnZVxcLyhcXGQrKS4oXFxkKykkLywyKTtlbHNle2lmKCFuYXZpZ2F0b3IubWVkaWFEZXZpY2VzfHwhbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvQXBwbGVXZWJLaXRcXC8oXFxkKylcXC4vKSlyZXR1cm4gZS5RdT1cIk5vdCBhIHN1cHBvcnRlZCBicm93c2VyLlwiLGU7ZS5RdT1cInNhZmFyaVwiLGUudmVyc2lvbj10aGlzLlZ1KG5hdmlnYXRvci51c2VyQWdlbnQsL0FwcGxlV2ViS2l0XFwvKFxcZCspXFwuLywxKX1yZXR1cm4gZX0sS3U6ZnVuY3Rpb24oKXtpZihcIm9iamVjdFwiPT10eXBlb2Ygd2luZG93JiZ3aW5kb3cuSFRNTE1lZGlhRWxlbWVudCYmXCJzcmNPYmplY3RcImluIHdpbmRvdy5IVE1MTWVkaWFFbGVtZW50LnByb3RvdHlwZSl7dmFyIGU9VVJMLmNyZWF0ZU9iamVjdFVSTC5iaW5kKFVSTCksdD1VUkwucmV2b2tlT2JqZWN0VVJMLmJpbmQoVVJMKSxyPW5ldyBNYXAsaT0wO1VSTC5jcmVhdGVPYmplY3RVUkw9ZnVuY3Rpb24odCl7aWYoXCJnZXRUcmFja3NcImluIHQpe3ZhciBuPVwicG9seWJsb2I6XCIrICsraTtyZXR1cm4gci5zZXQobix0KSxjb25zb2xlLmxvZyhcIlVSTC5jcmVhdGVPYmplY3RVUkwoc3RyZWFtKSBpcyBkZXByZWNhdGVkISBVc2UgZWxlbS5zcmNPYmplY3QgPSBzdHJlYW0gaW5zdGVhZCFcIiksbn1yZXR1cm4gZSh0KX0sVVJMLnJldm9rZU9iamVjdFVSTD1mdW5jdGlvbihlKXt0KGUpLHIuZGVsZXRlKGUpfTt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHdpbmRvdy5IVE1MTWVkaWFFbGVtZW50LnByb3RvdHlwZSxcInNyY1wiKTtPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LkhUTUxNZWRpYUVsZW1lbnQucHJvdG90eXBlLFwic3JjXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBuLmdldC5hcHBseSh0aGlzKX0sc2V0OmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLll1PXIuZ2V0KGUpfHxudWxsLG4uc2V0LmFwcGx5KHRoaXMsW2VdKX19KTt2YXIgcz1IVE1MTWVkaWFFbGVtZW50LnByb3RvdHlwZS5zZXRBdHRyaWJ1dGU7SFRNTE1lZGlhRWxlbWVudC5wcm90b3R5cGUuc2V0QXR0cmlidXRlPWZ1bmN0aW9uKCl7cmV0dXJuIDI9PT1hcmd1bWVudHMubGVuZ3RoJiZcInNyY1wiPT09KFwiXCIrYXJndW1lbnRzWzBdKS50b0xvd2VyQ2FzZSgpJiYodGhpcy5ZdT1yLmdldChhcmd1bWVudHNbMV0pfHxudWxsKSxzLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19fX07ZS5pPXtsb2c6bi5sb2csR3U6bi5HdSxXdTpuLmp1KCksVnU6bi5WdSxLdTpuLkt1LGp1Om4uanUuYmluZChuKX19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBpKGUsdCxyKXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9XCJcIiksdm9pZCAwPT09ciYmKHI9W10pLG4oZSx0LHIsITApfWZ1bmN0aW9uIG4oZSx0LHIsaSl7dm9pZCAwPT09dCYmKHQ9XCJcIiksdm9pZCAwPT09ciYmKHI9W10pLHZvaWQgMD09PWkmJihpPSExKTtmb3IodmFyIHMgaW4gZSkhZnVuY3Rpb24ocyl7aWYoZS5oYXNPd25Qcm9wZXJ0eShzKSl7dmFyIG89ZVtzXTtBcnJheS5pc0FycmF5KG8pP28uZm9yRWFjaChmdW5jdGlvbihlLG8pe1wib2JqZWN0XCI9PXR5cGVvZiBlJiZuKGUsdCtcIi5cIitzK1wiW1wiK28rXCJdXCIscixpKX0pOlwib2JqZWN0XCI9PXR5cGVvZiBvP24obyx0K1wiLlwiK3MscixpKTpcIm51bWJlclwiPT10eXBlb2YgbyYmaXNOYU4obykmJihyLnB1c2godCtcIi5cIitzKSxpfHwoZVtzXT1udWxsKSl9fShzKTtyZXR1cm4gcn1mdW5jdGlvbiBzKGUsdCxyKXt2YXIgaT1uZXcgYztyZXR1cm4gaS50aWNrZXRVcmw9ZSxpLmNvZGU9dCxpLm1lc3NhZ2U9dSh0KSxpLmRldGFpbGVkTWVzc2FnZT1yLGl9dmFyIG89cigzKSxhPXIoNCksaD1yKDI2KSxjPWguSGl2ZUNvbW0uSGl2ZVNlc3Npb25FcnJvcix1PWguSGl2ZUNvbW0uZ2V0SGl2ZVNlc3Npb25FcnJvck1lc3NhZ2UsbD1oLkhpdmVDb21tLkhpdmVTZXNzaW9uLHA9cig1MyksZD1yKDcyKSxmPXIoMTQpLGc9cig2KSxFPXIoMSksdj1nLmhlLnVoO2lmKHYpdmFyIHk9cigzMSkuSGl2ZVJlcXVlc3QsVD1yKDU0KS56dTt2YXIgbT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7aWYoIXQpe2lmKDA9PU9iamVjdC5rZXlzKGUubWFwcGluZykubGVuZ3RoJiYhZS5KdSlyZXR1cm4gRS5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIk5vIHJlZ2lzdGVyZWQgZGVmYXVsdCBIaXZlUmVxdWVzdEZhY3RvcnkgdGVjaFwiLGUubG9nZ2VySWQpLGUuSnU9ITAsZS5nZXRPcmlnaW5hbFhocigpO3Q9T2JqZWN0LmtleXMoZS5tYXBwaW5nKVswXX1pZighKHQgaW4gZS5tYXBwaW5nKSlyZXR1cm4gZS5KdXx8KEUuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJubyByZWdpc3RlcmVkIEhpdmVSZXF1ZXN0RmFjdG9yeSB0ZWNoIGZvciBzZXNzaW9uXCIse3Nlc3Npb25JZDp0fSksZS5KdT0hMCksZS5nZXRPcmlnaW5hbFhocigpO3ZhciByPWUubWFwcGluZ1t0XTtzd2l0Y2goci50ZWNoKXtjYXNlXCJIaXZlSlNcIjpyZXR1cm4gdj9yLlh1P25ldyB5KHQpOihyLlh1PSEwLG5ldyBUKHQpKTplLmdldE9yaWdpbmFsWGhyKCk7Y2FzZVwiSGl2ZUpzUHJveHlcIjpyZXR1cm4gci5YdT9uZXcgcC5adSh0KTooci5YdT0hMCxuZXcgZC4kdSh0KSk7Y2FzZVwiSGl2ZUphdmFcIjpjYXNlXCJTdGF0c0pTXCI6cmV0dXJuIGUuZ2V0T3JpZ2luYWxYaHIoKX19cmV0dXJuIGUuZ2V0T3JpZ2luYWxYaHI9ZnVuY3Rpb24oKXtyZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2YgT3JpZ2luYWxYTUxIdHRwUmVxdWVzdD9uZXcgT3JpZ2luYWxYTUxIdHRwUmVxdWVzdDpuZXcgWE1MSHR0cFJlcXVlc3R9LGUuY2xlYXI9ZnVuY3Rpb24oKXtlLm1hcHBpbmc9e319LGUuY2xlYXJTZXNzaW9uU3RhdGU9ZnVuY3Rpb24odCl7aWYodCBpbiBlLm1hcHBpbmcpe3ZhciByPWUubWFwcGluZ1t0XTtmb3IodmFyIGkgaW4gcilcInRlY2hcIiE9PWkmJmRlbGV0ZSByW2ldfX0sZS5jbGVhclNlc3Npb249ZnVuY3Rpb24odCl7dCBpbiBlLm1hcHBpbmcmJmRlbGV0ZSBlLm1hcHBpbmdbdF19LGUucmVnaXN0ZXJUZWNoPWZ1bmN0aW9uKHQscil7dCBpbiBlLm1hcHBpbmd8fChlLm1hcHBpbmdbdF09e30pLGUubWFwcGluZ1t0XS50ZWNoPXJ9LGV9KCk7bS5tYXBwaW5nPXt9LG0uSnU9ITEsbS5sb2dnZXJJZD1cIltIaXZlUmVxdWVzdEZhY3RvcnldXCIsdC5IaXZlUmVxdWVzdEZhY3Rvcnk9bTt2YXIgST1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0LHIsaSl7dGhpcy5lbD0hMSx0aGlzLnRpY2tldFVybD1lLHRoaXMudGlja2V0PXQsdGhpcy5tYW5pZmVzdD1yLHRoaXMudGw9YS5kZWZlcigpLHRoaXMucmw9aSx0aGlzLnJsJiZ0aGlzLnRsLnJlc29sdmUodGhpcy5ybCl9cmV0dXJuIGUucHJvdG90eXBlLmlzQWN0aXZlPWZ1bmN0aW9uKGUpe3JldHVybiBudWxsIT09dGhpcy50ZWNoJiZ0aGlzLnRlY2guaXNBY3RpdmUoZSx0aGlzKX0sZS5wcm90b3R5cGUuaWw9ZnVuY3Rpb24oZSl7dGhpcy5lbCE9ZSYmKHRoaXMuZWw9ZSx0aGlzLnRlY2gmJnRoaXMudGVjaC5ubCh0aGlzLGUpKX0sZS5wcm90b3R5cGUuZ2V0VGVjaE5hbWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50ZWNoJiZ0aGlzLnRlY2guZ2V0TmFtZSgpfHx2b2lkIDB9LGUucHJvdG90eXBlLnNsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWx9LGUucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKGUsdCl7aWYodm9pZCAwPT09dCYmKHQ9ITApLHRoaXMuZWw9ITAsbnVsbCE9dGhpcy50ZWNoKXJldHVybiB0aGlzLnRlY2gub2wodGhpcyxlLHQpfSxlLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRpY2tldC50b1N0cmluZygpfSxlLnByb3RvdHlwZS50b0hpdmVTZXNzaW9uPWZ1bmN0aW9uKCl7dmFyIGU9bmV3IGw7cmV0dXJuIGUuaWQ9dGhpcy5pZCxlLnRpY2tldFVybD10aGlzLnRpY2tldFVybCxlLm1hbmlmZXN0PXRoaXMubWFuaWZlc3QsZS50ZWNoPXRoaXMudGVjaC5nZXROYW1lKCksZX0sZS5wcm90b3R5cGUuYWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50bC5Tc30sZS5wcm90b3R5cGUuaGw9ZnVuY3Rpb24oZSl7dGhpcy5ybD1lLHRoaXMudGwucmVzb2x2ZSh0aGlzLnJsKX0sZX0oKTt0LmNsPUk7dmFyIFM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlfSgpO3QudWw9Uzt2YXIgUj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLnN1Y2Nlc3M9MCx0aGlzLmxsPTAsdGhpcy5ieXRlcz0wfXJldHVybiBlfSgpO3QucGw9Ujt2YXIgdz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLmRsPTAsdGhpcy5mbD0wLHRoaXMuZ2w9bmV3IG8sdGhpcy5FbD1uZXcgb31yZXR1cm4gZS5wcm90b3R5cGUuYWNjb3VudENvbXBsZXRlZD1mdW5jdGlvbihlLHQscixpKXt2b2lkIDA9PT1pJiYoaT0hMCk7dmFyIG49ZT90aGlzLmdsOnRoaXMuRWw7bi5oYXModCl8fG4uc2V0KHQsbmV3IFIpO3ZhciBzPW4uZ2V0KHQpO3MuYnl0ZXMrPXIsaSYmcy5zdWNjZXNzKyt9LGUucHJvdG90eXBlLmFjY291bnRGYWlsZWQ9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lP3RoaXMuZ2w6dGhpcy5FbDtyLmhhcyh0KXx8ci5zZXQodCxuZXcgUiksci5nZXQodCkubGwrK30sZS5wcm90b3R5cGUudXBkYXRlQmFuZHdpZHRoPWZ1bmN0aW9uKGUpe3RoaXMuYmFuZHdpZHRoPWV9LGUucHJvdG90eXBlLmJpdHJhdGVTd2l0Y2hVcD1mdW5jdGlvbigpe3RoaXMuZGwrK30sZS5wcm90b3R5cGUuYml0cmF0ZVN3aXRjaERvd249ZnVuY3Rpb24oKXt0aGlzLmZsKyt9LGUucHJvdG90eXBlLmdldEJhbmR3aWR0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJhbmR3aWR0aH0sZS5wcm90b3R5cGUuZ2V0VmlkZW9CaXRyYXRlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdsfSxlLnByb3RvdHlwZS5nZXRBdWRpb0JpdHJhdGVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuRWx9LGUucHJvdG90eXBlLmdldEJpdHJhdGVTd2l0Y2hVcD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRsfSxlLnByb3RvdHlwZS5nZXRCaXRyYXRlU3dpdGNoRG93bj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmZsfSxlfSgpO3QuSGl2ZVBsYXllckV4dGVuZGVkU3RhdHM9dzt2YXIgYj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt2YXIgdD10aGlzO2lmKGUuZmUpdGhyb3cgbmV3IEVycm9yKFwiRXJyb3I6IEluc3RhbnRpYXRpb24gZmFpbGVkOiBVc2UgVmlzaWJpbGl0eUNoYW5nZUxpc3RlbmVyLmdldEluc3RhbmNlKCkgaW5zdGVhZCBvZiBuZXcuXCIpO3ZhciByLGk7dm9pZCAwIT09ZG9jdW1lbnQuaGlkZGVuPyhyPVwiaGlkZGVuXCIsaT1cInZpc2liaWxpdHljaGFuZ2VcIik6dm9pZCAwIT09ZG9jdW1lbnQubXNIaWRkZW4/KHI9XCJtc0hpZGRlblwiLGk9XCJtc3Zpc2liaWxpdHljaGFuZ2VcIik6dm9pZCAwIT09ZG9jdW1lbnQud2Via2l0SGlkZGVuJiYocj1cIndlYmtpdEhpZGRlblwiLGk9XCJ3ZWJraXR2aXNpYmlsaXR5Y2hhbmdlXCIpLHZvaWQgMCE9PWRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXImJnZvaWQgMCE9PWRvY3VtZW50W3JdP2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoaSxmdW5jdGlvbigpe3ZhciBlPSFkb2N1bWVudFtyXTt0LnZsLmZvckVhY2goZnVuY3Rpb24ocil7ci5jYWxsKHQsZSl9KX0sITEpOmUubG9nZ2VyJiZlLmxvZ2dlci5kZWJ1ZyhcIndhcm4gLSB2aXNpYmlsaXR5Q2hhbmdlIGxpc3RlbmVyIG5vdCBzdXBwb3J0ZWRcIiksdGhpcy52bD1uZXcgQXJyYXl9cmV0dXJuIGUudmU9ZnVuY3Rpb24odCl7cmV0dXJuIHQmJih0aGlzLmxvZ2dlcj10KSx2b2lkIDA9PT10aGlzLmZlJiYodGhpcy5mZT1uZXcgZSksdGhpcy5mZX0sZS5wcm90b3R5cGUueWw9ZnVuY3Rpb24oZSl7dGhpcy52bC5wdXNoKGUpfSxlfSgpO3QuVGw9Yix0Lm1sPWksdC5JbD1uLHQuU2w9czt2YXIgQz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGUuZ2V0SXRlbT1mdW5jdGlvbihlKXt0cnl7cmV0dXJuIHdpbmRvdy5zZXNzaW9uU3RvcmFnZT93aW5kb3cuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShlKTpudWxsfWNhdGNoKGUpe3JldHVybiBudWxsfX0sZS5zZXRJdGVtPWZ1bmN0aW9uKGUsdCl7dHJ5e3JldHVybiEhd2luZG93LnNlc3Npb25TdG9yYWdlJiYod2luZG93LnNlc3Npb25TdG9yYWdlLnNldEl0ZW0oZSx0KSwhMCl9Y2F0Y2goZSl7cmV0dXJuITF9fSxlLnJlbW92ZUl0ZW09ZnVuY3Rpb24oZSl7dHJ5e3dpbmRvdy5zZXNzaW9uU3RvcmFnZSYmd2luZG93LnNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0oZSl9Y2F0Y2goZSl7cmV0dXJuIG51bGx9fSxlfSgpO3QuUmw9Qzt2YXIgXz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dGhpcy53bD1lfXJldHVybiBlLnByb3RvdHlwZS5ibD1mdW5jdGlvbihlKXt2YXIgdD1EYXRlLm5vdygpO3JldHVybiB0aGlzLmlzRXF1YWwodGhpcy5DbCxlKXx8KHRoaXMuX2w9dCksdGhpcy5DbD1lLHQtdGhpcy5fbD49dGhpcy53bH0sZS5wcm90b3R5cGUuaXNFcXVhbD1mdW5jdGlvbihlLHQpe2lmKGUmJnQpe3JldHVyblt0LlBsLWUuUGwsdC5BbC1lLkFsLHQuT2wtZS5PbF0ucmVkdWNlKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUmJk1hdGguYWJzKHQpPDEwfSwhMCl9cmV0dXJuITF9LGV9KCk7dC5ObD1fO3ZhciBQPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZS5nZXRQcml2YXRlSXA9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5nZXRQcml2YXRlSXAoKTtyZXR1cm4gZi5IaXZlQ29uZmlnLlNlbnNpdGl2ZUluZm8ucmVzdHJpY3RlZENvbm5lY3Rpdml0eUluZm8mJnQmJih0PXQucmVwbGFjZSgvWzAtOV0qJC8sXCIwXCIpKSx0fSxlLkRsPWZ1bmN0aW9uKGUpe3JldHVybiBmLkhpdmVDb25maWcuU2Vuc2l0aXZlSW5mby5yZXN0cmljdGVkQ29ubmVjdGl2aXR5SW5mbz9mLkhpdmVDb25maWcuU2Vuc2l0aXZlSW5mby5oaWRkZW5Ib3N0bmFtZVZhbHVlOmUuZ2V0SG9zdE5hbWUoKX0sZX0oKTt0LmtsPVB9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1yKDMpLG49cig0KSxzPXIoMCksbz1yKDIyKSxhPXIoOCksaD1yKDMyKTshZnVuY3Rpb24oZSl7ZVtlLlNUT1A9MF09XCJTVE9QXCIsZVtlLklETEU9MV09XCJJRExFXCIsZVtlLkxsPTJdPVwiUExBWVwifSh0Lk1sfHwodC5NbD17fSkpO3ZhciBjPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQscixpKXt0aGlzLnRpY2tldD1lLHRoaXMuRmw9dCx0aGlzLmFwcD1yLHRoaXMuaWRlbnRpdHk9aSx0aGlzLlVsPXMuRnJhbWV3b3JrLnJlc29sdmUoYS5wYy5jYyksdGhpcy5CbD1zLkZyYW1ld29yay5yZXNvbHZlKGEucGMuaWMpLHRoaXMuSGw9cy5GcmFtZXdvcmsucmVzb2x2ZShhLnBjLnVjKSx0aGlzLnhsPW5ldyBvLkdsLnFsKHRoaXMuSGwpfXJldHVybiBlLnByb3RvdHlwZS5WbD1mdW5jdGlvbihlLHQscil7dGhpcy5hcHA9bmV3IHUoZSx0KSx0aGlzLlVsLlZsKHRoaXMuYXBwKSx0aGlzLkhsLlZsKHRoaXMuYXBwLHIpfSxlLnByb3RvdHlwZS5ubD1mdW5jdGlvbihlKXt0aGlzLkJsLm5sKGUpfSxlLnByb3RvdHlwZS5qbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJlbmRlclN0YXRzQ2FsbGJhY2t9LGUucHJvdG90eXBlLlFsPWZ1bmN0aW9uKGUpe3RoaXMucmVuZGVyU3RhdHNDYWxsYmFjaz1lfSxlfSgpO3QuS2w9Yzt2YXIgdT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXt0aGlzLmFwcD1lLHRoaXMudmVyc2lvbj10fXJldHVybiBlfSgpO3QuWWw9dTt2YXIgbD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLnAycElkPW51bGwsdGhpcy5XbD1udWxsLHRoaXMuemw9bmV3IGksdGhpcy5sb2dnZXI9cy5GcmFtZXdvcmsucmVzb2x2ZShzLkZyYW1ld29yay5WLlIpLmxvZygpLHRoaXMubG9nZ2VyLmRlYnVnKFwiSU5JVCBSRVBPUlRJTkdcIiksdGhpcy5GbD1zLkZyYW1ld29yay5yZXNvbHZlKGEucGMuRyksdGhpcy5KbD1zLkZyYW1ld29yay5yZXNvbHZlKGEucGMuTSksdGhpcy5YbD1zLkZyYW1ld29yay5yZXNvbHZlKGEucGMubmMpfXJldHVybiBlLnByb3RvdHlwZS5pbml0U2Vzc2lvbj1mdW5jdGlvbihlLHQscil7dmFyIGk9dGhpcyxzPW4uZGVmZXIoKSxvPXRoaXMuSmwuWmwoKSxhPXRoaXMuWGwuJGwoZSk7cmV0dXJuIG51bGwhPXImJihhLnRlc3RJZD1yKSxudWxsIT1hP28udGhlbihmdW5jdGlvbihlKXtyZXR1cm4gaS5lcChlLGEscyx0KX0pLmZhaWwocy5yZWplY3QpOnMucmVqZWN0KFwiVGlja2V0IFVSTCBub3QgdmFsaWRcIikscy5Tc30sZS5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oZSl7ZT8odGhpcy56bC5kZWxldGUoZSksMD09dGhpcy56bC5sZW5ndGgmJnRoaXMuRmwuY2xvc2UoKSk6KHRoaXMuemwuY2xlYXIoKSx0aGlzLkZsLmNsb3NlKCkpfSxlLnByb3RvdHlwZS5lcD1mdW5jdGlvbihlLHQscixpKXt2YXIgbj10aGlzO3RoaXMucDJwSWQ9ZS50cCgpLHRoaXMuV2w9ZS5ycCgpO3ZhciBzPXRoaXMuRmwuaW5pdCh0aGlzLnAycElkLHQpLG89dGhpcy5YbC5yZXNvbHZlKHMubnAsdCxpKTtzLlNzLnRoZW4oZnVuY3Rpb24odCl7by50aGVuKGZ1bmN0aW9uKHQpe3ZhciBpPXQuc2Vzc2lvbklkO2lmKG4uemwuaGFzKGkpKXt2YXIgcz1uLnpsLmdldChpKTtuLmxvZ2dlci53YXJuKFwiU0VTU0lPTiBBTFJFQURZIEVYSVNUSU5HIFwiK3MuVWwudGlja2V0KX1lbHNle3ZhciBvPW5ldyB1KGguSGl2ZS5zcCgpLGguSGl2ZS5nZXRWZXJzaW9uKCkpLGE9bmV3IGModCxuLkZsLG8sZSk7YS5VbC5pbml0KG4uV2wsdCxvLGkpLGEuSGwuaW5pdChuLldsLG8pLGEuSGwub3AodCksbi56bC5zZXQoaSxhKSxuLmxvZ2dlci5kZWJ1ZyhcIlNFU1NJT04gU0VUIFwiLGkpLHIucmVzb2x2ZShhKX19KS5mYWlsKGZ1bmN0aW9uKGUpe3JldHVybiByLnJlamVjdChlfHxcIkVycm9yIHJlc29sdmluZyB0aGUgdGlja2V0XCIpfSksdC5vbmVycm9yKGZ1bmN0aW9uKGUpe3IucmVqZWN0KFwiRXJyb3IgZXN0YWJsaXNoaW5nIGNvbm5lY3Rpb24gdG8gSGl2ZSBTZXJ2aWNlc1wiKX0pfSkuZmFpbChmdW5jdGlvbihlKXtyZXR1cm4gci5yZWplY3QoZSl9KSx0aGlzLkZsLmNvbm5lY3QoKX0sZS5wcm90b3R5cGUuYXA9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5ocCgpPT09dC5ocCgpJiZlLmNwKCk9PT10LmNwKCkmJmUudXAoKT09PXQudXAoKX0sZX0oKTt0LmxwPWx9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1yKDQxKSxuPXIoMjkpLHM9cig0Miksbz1yKDYpO28uaGUubGgsby5oZS51aCxvLmhlLnBoO2lmKHZvaWQgMD09PWEpdmFyIGE9M2U0OyFmdW5jdGlvbihlKXshZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5tb25pdG9yUG9ydD1uLkwucHA/cy5mcC5kcDpzLmZwLmdwLHRoaXMucGxheWVyUG9ydD1uLkwucHA/cy5mcC5FcDpzLmZwLnZwLHRoaXMuZmVlZGJhY2tQZXJpb2Q9MmUzLHRoaXMuaWRsZVRpbWVQZXJpb2Q9NmU0LHRoaXMudXNlU2Vzc2lvbkNoZWNrPW4uTC55cCx0aGlzLmRlYnVnTGV2ZWw9XCJub3RpY2VcIix0aGlzLmhpdmVUZWNoT3JkZXI9W10sdGhpcy50ZWxlbWV0cnlJZD1udWxsLHRoaXMuc2lsZW50PSExLHRoaXMubG9nZ2VyVGltZXN0YW1wPWkuSGl2ZUNvbmZpZy5GcmFtZXdvcmsuTG9nZ2VyVGltZXN0YW1wLHRoaXMudGVzdElkPW51bGwsdGhpcy5wbHVnaW5UaW1lb3V0PWEsdGhpcy5vblNvdXJjZVNldENvbXBsZXRlZD1mdW5jdGlvbihlKXt9LHRoaXMub25Mb2FkaW5nQ29tcGxldGVkPWZ1bmN0aW9uKGUpe30sdGhpcy5kZXRlY3RQcml2YXRlSVA9by5oZS5DaCx0aGlzLm9uQWN0aXZlU2Vzc2lvbj1mdW5jdGlvbihlKXt9fXJldHVybiBlfSgpO2UuT3B0aW9ucz10O3ZhciByPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuaW5pdFRpbWVvdXQ9M2U0LHRoaXMub25FcnJvcj1mdW5jdGlvbihlKXtyZXR1cm4hMH0sdGhpcy5vbkFjdGl2ZVNlc3Npb249ZnVuY3Rpb24oZSl7fX1yZXR1cm4gZX0oKTtlLlRwPXI7dmFyIGg9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5oaXZlUGxheWVyUG9ydD1cInBsYXllclBvcnRcIix0aGlzLmhpdmVNb25pdG9yUG9ydD1cIm1vbml0b3JQb3J0XCIsdGhpcy5oaXZlU2lsZW50PVwic2lsZW50XCIsdGhpcy5oaXZlRGVidWdMZXZlbD1cImRlYnVnTGV2ZWxcIix0aGlzLmhpdmVEZWJ1Z1RpbWVzdGFtcD1cImxvZ2dlclRpbWVzdGFtcFwiLHRoaXMuaGl2ZVNldHVwVGltZW91dD1cInNldHVwVGltZW91dFwiLHRoaXMuaGl2ZUphdmFUaW1lb3V0PVwiaW5pdFRpbWVvdXRcIix0aGlzLmhpdmVXYXJuSmF2YVRpbWVvdXQ9XCJ3YXJuU2xvd1Jlc3BUaW1lb3V0XCIsdGhpcy5oaXZlVGVzdElkPVwidGVzdElkXCIsdGhpcy5oaXZlRGV0ZWN0UHJpdmF0ZUlQPVwiZGV0ZWN0UHJpdmF0ZUlQXCJ9cmV0dXJuIGV9KCk7ZS5tcD1ofShlLk9wdGlvbnN8fChlLk9wdGlvbnM9e30pKX0odC5IaXZlQ29tbXx8KHQuSGl2ZUNvbW09e30pKTt2YXIgaDshZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlfSgpO3QuZW5hYmxlZFJVTT0hMSx0LmVuYWJsZUtleUNvbWJpbmF0aW9uPSEwLHQuZW5hYmxlZEVycm9yRmlsdGVyPSEwLGUuRXJyb3JNb25pdG9yPXR9KGg9dC5IaXZlQ29uZmlnfHwodC5IaXZlQ29uZmlnPXt9KSksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmKHZvaWQgMD09PXdpbmRvdy5IaXZlQ29uZmlnJiYod2luZG93LkhpdmVDb25maWc9e30pLHdpbmRvdy5IaXZlQ29uZmlnLkVycm9yTW9uaXRvcj1oLkVycm9yTW9uaXRvcil9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBpKCl7Zm9yKHZhciBlPVtdLHQ9MDt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKWVbdF09YXJndW1lbnRzW3RdO2Zvcih2YXIgcj1lWzBdLGk9MTtpPGUubGVuZ3RoO2krKyl7dmFyIG49bmV3IFJlZ0V4cChcIlxcXFx7XCIrKGktMSkrXCJcXFxcfVwiLFwiZ21cIik7cj1yLnJlcGxhY2UobixlW2ldKX1yZXR1cm4gcn1mdW5jdGlvbiBuKGUsdCl7Zm9yKHZhciByIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShyKSYmdC5oYXNPd25Qcm9wZXJ0eShyKSYmKHRbcl09ZVtyXSl9ZnVuY3Rpb24gcyhlLHQscil7dmFyIGk9bmV3IGQoZSkucXVlcnkoITApO2Zvcih2YXIgbiBpbiBpKXRyeXtpZihpLmhhc093blByb3BlcnR5KG4pJiZ0Lmhhc093blByb3BlcnR5KG4pJiZyLmhhc093blByb3BlcnR5KHRbbl0pKXt2YXIgcz10W25dLGE9aVtuXTtyW3NdPW8oYSxyW3NdKX19Y2F0Y2goZSl7fX1mdW5jdGlvbiBvKGUsdCl7dmFyIHI7c3dpdGNoKHR5cGVvZiB0KXtjYXNlXCJudW1iZXJcIjpyPXBhcnNlSW50KGUpO2JyZWFrO2Nhc2VcImJvb2xlYW5cIjpyPVwidHJ1ZVwiPT09ZTticmVhaztkZWZhdWx0OnI9ZX1yZXR1cm4gcn1mdW5jdGlvbiBhKGUsdCl7ZnVuY3Rpb24gcigpe2lmKCFlKCkpcmV0dXJuIGkucmVzb2x2ZSghMCk7cC53aGVuKHQoKSxyLGkucmVqZWN0KX12YXIgaT1wLmRlZmVyKCk7cmV0dXJuIHAuVHMociksaS5Tc31mdW5jdGlvbiBoKGUsdCxyLGkpe3JldHVybiB2b2lkIDA9PT1yJiYocj0hMCksdm9pZCAwPT09aSYmKGk9e30pLGMoXCJHRVRcIixlLHQscixpKX1mdW5jdGlvbiBjKGUsdCxyLGksbil7dm9pZCAwPT09aSYmKGk9ITApLHZvaWQgMD09PW4mJihuPXt9KTt2YXIgcz1wLmRlZmVyKCk7dHJ5e3ZhciBvPW5ldyBYTUxIdHRwUmVxdWVzdDtpZihvLm9wZW4oZSx0LGkpLHZvaWQgMCE9ciYmbnVsbCE9ciYmby5zZXRSZXF1ZXN0SGVhZGVyKFwiQ29udGVudC1UeXBlXCIsciksbilmb3IodmFyIGEgaW4gbiluLmhhc093blByb3BlcnR5KGEpJiZudWxsIT09blthXSYmby5zZXRSZXF1ZXN0SGVhZGVyKGEsblthXSk7by5vbmxvYWQ9ZnVuY3Rpb24oKXsyMDA9PW8uc3RhdHVzP3MucmVzb2x2ZShvLnJlc3BvbnNlKTpzLnJlamVjdCh7c3RhdHVzOm8uc3RhdHVzLHJlYXNvbjpvLnN0YXR1c1RleHQsYm9keTpvLnJlc3BvbnNlVGV4dH0pfSxvLm9uZXJyb3I9ZnVuY3Rpb24oZSl7cy5yZWplY3Qoe3N0YXR1czotMSxyZWFzb246XCJOZXR3b3JrIEVycm9yXCJ9KX0sby5zZW5kKCl9Y2F0Y2goZSl7cy5yZWplY3Qoe3N0YXR1czotMSxyZWFzb246ZX0pfXJldHVybiBzLlNzfWZ1bmN0aW9uIHUoZSx0LHIsaSxuKXt2b2lkIDA9PT1uJiYobj0hMCk7dmFyIHM9cC5kZWZlcigpO3RyeXt2YXIgbz1uZXcgWE1MSHR0cFJlcXVlc3Q7aWYoby5vcGVuKFwiUE9TVFwiLGUsbiksdm9pZCAwIT1yJiZudWxsIT1yJiZvLnNldFJlcXVlc3RIZWFkZXIoXCJDb250ZW50LVR5cGVcIixyKSx2b2lkIDAhPWkmJm51bGwhPWkpZm9yKHZhciBhIGluIGkpaS5oYXNPd25Qcm9wZXJ0eShhKSYmbnVsbCE9PWlbYV0mJm8uc2V0UmVxdWVzdEhlYWRlcihhLGlbYV0pO28ub25sb2FkPWZ1bmN0aW9uKCl7MjAwPT1vLnN0YXR1cz9zLnJlc29sdmUoby5yZXNwb25zZSk6cy5yZWplY3Qoe3N0YXR1czpvLnN0YXR1cyxyZWFzb246by5zdGF0dXNUZXh0fSl9LG8ub25lcnJvcj1mdW5jdGlvbihlKXtzLnJlamVjdCh7c3RhdHVzOi0xLHJlYXNvbjpcIk5ldHdvcmsgRXJyb3JcIn0pfSxvLnNlbmQodCl9Y2F0Y2goZSl7cy5yZWplY3Qoe3N0YXR1czotMSxyZWFzb246ZX0pfXJldHVybiBzLlNzfWZ1bmN0aW9uIGwoZSx0KXt2YXIgcixpLG49ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImJhc2VcIikscz1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiaGVhZFwiKSxvPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpLGE9bjtyZXR1cm4gbj9yPW4uaHJlZjphPXMuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJhc2VcIikpLGEuaHJlZj1lLG8uaHJlZj10LGk9by5ocmVmLG4/bi5ocmVmPXI6cy5yZW1vdmVDaGlsZChhKSxpfXZhciBwPXIoNCksZD1yKDMwKTt0LklwPWksdC5TcD1uLHQuUnA9cyx0LndwPWEsdC5icD1oLHQuQ3A9Yyx0Ll9wPXUsdC4kaD1sfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9dGhpcyYmdGhpcy5odXx8ZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiByKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfWZvcih2YXIgaSBpbiB0KXQuaGFzT3duUHJvcGVydHkoaSkmJihlW2ldPXRbaV0pO2UucHJvdG90eXBlPW51bGw9PT10P09iamVjdC5jcmVhdGUodCk6KHIucHJvdG90eXBlPXQucHJvdG90eXBlLG5ldyByKX0sbj1yKDE4KSxzPXIoNDQpLlBwLG89cig0KSxhPXIoMCksaD1yKDgpLGM9cigyNyksdT1yKDIzKSxsPXIoMTQpOyFmdW5jdGlvbihlKXtlLkFwPVwiaGl2ZS1jbGllbnQtdHJhY2tcIixlLk9wPVwidHJhY2tldmVudFwiLGUuTnA9XCJOVUxMSURcIixlLkRwPVwiXCI7dmFyIHQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlfSgpO3Qua3A9MCx0LkxwPTEsdC5NcD0yLHQuRnA9MTAwLHQuVXA9MjAwLGUuQnA9dDshZnVuY3Rpb24oZSl7ZVtlLkhwPTBdPVwiUExBWUlOR1wiLGVbZS54cD0xXT1cIkJVRkZFUklOR1wiLGVbZS5xcD0yXT1cIlBBVVNFRFwiLGVbZS5HcD0zXT1cIlNLSVBcIixlW2UuVnA9NF09XCJTVE9QUEVEXCIsZVtlLkVSUk9SPTVdPVwiRVJST1JcIixlW2UuanA9Nl09XCJXSU5ET1dfU0laRVwiLGVbZS5RcD03XT1cIkZVTExTQ1JFRU5cIixlW2UuS3A9OF09XCJWSVNJQkxFXCIsZVtlLkhJRERFTj05XT1cIkhJRERFTlwifShlLllwfHwoZS5ZcD17fSkpOyFmdW5jdGlvbihlKXtlW2UuV3A9MF09XCJKQVZBX05PVF9SRUFDSEFCTEVcIixlW2UuenA9MV09XCJKQVZBX05PVF9SRUFEWVwiLGVbZS5KcD0yXT1cIkpBVkFfV1JPTkdfVkVSU0lPTlwiLGVbZS5YcD0zXT1cIkpBVkFfU0VTU0lPTl9CVVNZXCIsZVtlLlpwPTRdPVwiSkFWQV9TRVNTSU9OX0VSUk9SXCIsZVtlLiRwPTVdPVwiSkFWQV9USUNLRVRfVElNRU9VVFwifShlLnRkfHwoZS50ZD17fSkpO3ZhciByPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZX0oKTtlLnJkPXI7dmFyIHA9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlfSgpO2UubmQ9cDt2YXIgZD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGV9KCk7ZS5zZD1kO3ZhciBmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMudHlwZT10Lk1wfXJldHVybiBlfSgpLGc9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5zZXNzaW9ucz1uZXcgQXJyYXl9cmV0dXJuIGUucHJvdG90eXBlLm9kPWZ1bmN0aW9uKGUsdCl7dmFyIHI7dGhpcy5zZXNzaW9ucy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3Quc2Vzc2lvbklkPT1lJiYocj10KX0pLHJ8fChyPW5ldyBFLHIuc2Vzc2lvbklkPWUsdGhpcy5zZXNzaW9ucy5wdXNoKHIpKSxyLmV2ZW50cy5wdXNoKHQpfSxlfSgpO2UuYWQ9Zzt2YXIgRT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLmV2ZW50cz1uZXcgQXJyYXl9cmV0dXJuIGV9KCk7ZS5oZD1FO3ZhciB2PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3RoaXMubG9nZ2VyPWEuRnJhbWV3b3JrLnJlc29sdmUoYS5GcmFtZXdvcmsuVi5SKS5sb2coKSx0aGlzLnVkPWEuRnJhbWV3b3JrLnJlc29sdmUoaC5wYy5zYyksdGhpcy5sZD1uZXcgQXJyYXksdGhpcy5wZD1uZXcgQXJyYXksdGhpcy5kZD1uZXcgQXJyYXl9cmV0dXJuIHQucHJvdG90eXBlLmZkPWZ1bmN0aW9uKGUpe3RoaXMuY2xpZW50PWV9LHQucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oZSx0KXt0aGlzLmdkPWUsdGhpcy5WbCh0KSx0aGlzLmxvZ2dlci5kZWJ1ZyhcIltUUkFDS10gSU5JVCBJRDogXCIrZSl9LHQucHJvdG90eXBlLlZsPWZ1bmN0aW9uKGUsdCl7dGhpcy5hcHA9ZSx0JiYodGhpcy5FZD10KX0sdC5wcm90b3R5cGUudXBkYXRlUGxheWVySW5mbz1mdW5jdGlvbihlKXt0aGlzLnZkPWV9LHQucHJvdG90eXBlLm9wPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBUKGUsdGhpcyk7dGhpcy5sZC5wdXNoKHQpLHRoaXMueWQ9bnVsbCx0aGlzLmNsaWVudC5UZCghMCl9LHQucHJvdG90eXBlLlh1PWZ1bmN0aW9uKGUsdCxyKXtpZighdGhpcy55ZClmb3IodmFyIGk9MDtpPHRoaXMubGQubGVuZ3RoO2krKyl7dmFyIG49dGhpcy5sZFtpXTtpZihuLnRpY2tldC5zZXNzaW9uSWQ9PT1lKXt0aGlzLmxvZ2dlci5kZWJ1ZyhcIltUUkFDS10gQWN0aXZhdGluZyBUcmFjayBmb3Igc2Vzc2lvbiBcIitlKSx0aGlzLnlkPW47YnJlYWt9fWlmKHRoaXMueWQpe2lmKHRoaXMueWQudGlja2V0LnNlc3Npb25JZCE9ZSlyZXR1cm4gdm9pZCB0aGlzLmxvZ2dlci53YXJuKFwiW1RSQUNLXSBpZ25vcmluZyBtYW5pZmVzdCBub3QgbWF0Y2hpbmcgZXZlbnQgXCIrdGhpcy55ZC50aWNrZXQuc2Vzc2lvbklkK1wiICE9IFwiK2UpO2lmKCF0aGlzLnlkLm1kKXt2YXIgcz1uZXcgbShlLHQscik7dGhpcy55ZC5JZChzKSx0aGlzLmNsaWVudC5UZCgpfX19LHQucHJvdG90eXBlLlNkPWZ1bmN0aW9uKGUsdCxyKXtudWxsIT10aGlzLnlkJiYodGhpcy55ZC5tZHx8dGhpcy55ZC5SZC5wdXNoKG5ldyB3KGUsdCxyKSkpfSx0LnByb3RvdHlwZS53ZD1mdW5jdGlvbihlLHQscil7dGhpcy5wZC5wdXNoKG5ldyBTKGUsdCxyKSksdGhpcy5jbGllbnQuVGQoKX0sdC5wcm90b3R5cGUuYmQ9ZnVuY3Rpb24oZSx0LHIpe3RoaXMuZGQucHVzaChuZXcgUihlLHQscikpLHRoaXMuY2xpZW50LlRkKCl9LHQucHJvdG90eXBlLkNkPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7ZSYmZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3QuZGQucHVzaChlKX0pfSx0LnByb3RvdHlwZS5QZD1mdW5jdGlvbigpe3ZhciBlPW5ldyBwO3RoaXMuRWQ/KGUucGFydG5lcklkPXRoaXMuRWQucGFydG5lcklkLGUuY3VzdG9tZXJJZD10aGlzLkVkLmN1c3RvbWVySWQpOmwuSGl2ZUNvbmZpZy5DbGllbnRJbmZvLmN1JiZsLkhpdmVDb25maWcuQ2xpZW50SW5mby51dT8oZS5wYXJ0bmVySWQ9bC5IaXZlQ29uZmlnLkNsaWVudEluZm8uY3UsZS5jdXN0b21lcklkPWwuSGl2ZUNvbmZpZy5DbGllbnRJbmZvLnV1KTp0aGlzLnlkJiYoZS5wYXJ0bmVySWQ9dGhpcy55ZC50aWNrZXQudXAoKSxlLmN1c3RvbWVySWQ9dGhpcy55ZC50aWNrZXQuY3AoKSksZS52ZXJzaW9uPXRoaXMuYXBwLmFwcCtcIl9cIisodGhpcy5FZD90aGlzLkVkLnZlcnNpb246dGhpcy5hcHAudmVyc2lvbiksdGhpcy5FZCYmKGUuaW5zdGFsbFZlcnNpb249dGhpcy5FZC5pbnN0YWxsVmVyc2lvbixlLmluc3RhbGxUcz10aGlzLkVkLmluc3RhbGxUcyk7dmFyIHQ9bmV3IHM7cmV0dXJuIHQuQWQobmF2aWdhdG9yLnVzZXJBZ2VudCksZS5vcz10Lk9kKCkubmFtZStcIiBcIit0Lk9kKCkudmVyc2lvbix0aGlzLnZkJiYoZS5jb21tVmVyc2lvbj10aGlzLnZkLmNvbW1WZXJzaW9uLGUucGx1Z2luTmFtZT10aGlzLnZkLnBsdWdpbk5hbWUsZS5wbHVnaW5WZXJzaW9uPXRoaXMudmQucGx1Z2luVmVyc2lvbixlLnBsYXllclRlY2g9dGhpcy52ZC5wbGF5ZXJUZWNoLGUucGxheWVyVmVyc2lvbj10aGlzLnZkLnBsYXllclZlcnNpb24sdGhpcy52ZC50ZWxlbWV0cnlJZCYmKGUudGVsZW1ldHJ5SWQ9dGhpcy52ZC50ZWxlbWV0cnlJZCkpLGV9LHQucHJvdG90eXBlLk5kPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueWQ/dGhpcy55ZDp0aGlzLmxkJiZ0aGlzLmxkLmxlbmd0aD4wP3RoaXMubGRbdGhpcy5sZC5sZW5ndGgtMV06dm9pZCAwfSx0LnByb3RvdHlwZS5EZD1mdW5jdGlvbih0KXt2YXIgaT10aGlzO2lmKHZvaWQgMD09PXQmJih0PSEwKSwwPT10aGlzLmxkLmxlbmd0aCYmMD09dGhpcy5wZC5sZW5ndGgpcmV0dXJuIHQ/by5yZWplY3QoXCJub3RoaW5nIHRvIHNlbmRcIik6KHRoaXMubG9nZ2VyLmRlYnVnKFwiW1RSQUNLXSAgTk9USElORyBUTyBTRU5EXCIpLG51bGwpO3ZhciBuPW5ldyByO24uYXBwPWUuQXAsbi5jcmVhdGVkQXQ9YS5GcmFtZXdvcmsudGltZSgpLG4uZ3VpZD10aGlzLmdkLG4ubmFtZT1lLk9wO3ZhciBzPXRoaXMuTmQoKTtpZihzKXt2YXIgaD1zLnRpY2tldC5rZCgpLnJlcGxhY2UoL1tcXFtcXF1dL2csXCJcIik7bi50YWdzPVtoXSxuLnRhZ3MucHVzaChzLnRpY2tldC51cCgpKSxuLnRhZ3MucHVzaChzLnRpY2tldC5jcCgpKX1lbHNlIG4udGFncz1uZXcgQXJyYXk7dmFyIGM9bmV3IGc7aWYoYy5wZWVyPXRoaXMuUGQoKSx0aGlzLmxkLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5tZHx8Yy5vZChlLnRpY2tldC5zZXNzaW9uSWQsZSl9KSx0aGlzLnBkLmZvckVhY2goZnVuY3Rpb24oZSl7Yy5vZChlLnNlc3Npb25JZCxlKX0pLHRoaXMuZGQuZm9yRWFjaChmdW5jdGlvbihlKXtjLm9kKGUuc2Vzc2lvbklkLGUpfSksbi5kYXRhPWMsdClyZXR1cm4gdGhpcy51ZC5nZXRDb25uZWN0aXZpdHlJbmZvKCkudGhlbihmdW5jdGlvbihlKXt2YXIgdD1pLkxkKGUpO3JldHVybiBjLm9kKFwibnVsbFwiLHQpLG59KS5mYWlsKGZ1bmN0aW9uKGUpe3JldHVybiBufSk7dmFyIHU9dGhpcy5MZCh0aGlzLnVkLk1kKCkpO3JldHVybiBjLm9kKFwibnVsbFwiLHUpLG59LHQucHJvdG90eXBlLkxkPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBmO3QudHM9YS5GcmFtZXdvcmsudGltZSgpO3ZhciByPWUuZ2V0TmV0d29ya0NoYW5nZWQoKTtyZXR1cm4gci5nZXRQdWJsaWNJcCgpJiYodC5wdWJJcD1yLmdldFB1YmxpY0lwKCkpLHIuZ2V0UHJpdmF0ZUlwKCkmJih0LnByaXZJcD1uLmtsLmdldFByaXZhdGVJcChyKSksZS5nZXRIb3N0TmFtZSgpJiYodC5ob3N0bmFtZT1uLmtsLkRsKGUpKSxyLmdldENpZHIoKSYmKHQubmV0bWFzaz1yLmdldENpZHIoKSksci5nZXROaWMoKSYmKHQubmljPXIuZ2V0TmljKCkpLHIuZ2V0TmljTmFtZSgpJiYodC5uaWNOYW1lPXIuZ2V0TmljTmFtZSgpKSxyLmdldE1hY0FkZHJlc3MoKSYmKHQubWFjPXIuZ2V0TWFjQWRkcmVzcygpKSx0fSx0LnByb3RvdHlwZS5GZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLkVkP3RoaXMuRWQudXNlckFnZW50Om5hdmlnYXRvci51c2VyQWdlbnR9LHQucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5sZD1uZXcgQXJyYXksdGhpcy5wZD1uZXcgQXJyYXksdGhpcy5kZD1uZXcgQXJyYXl9LHQucHJvdG90eXBlLlVkPWZ1bmN0aW9uKGUpe30sdH0oKTtlLkJkPXY7dmFyIHk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMuSGQ9aXNOYU4obC5IaXZlQ29uZmlnLkRlYnVnTG9ncy5UcmFja1NuYXBzaG90TG9ncyk/MDpsLkhpdmVDb25maWcuRGVidWdMb2dzLlRyYWNrU25hcHNob3RMb2dzLHRoaXMuSGw9ZSx0aGlzLmxvZ2dlcj1hLkZyYW1ld29yay5yZXNvbHZlKGEuRnJhbWV3b3JrLlYuUikubG9nKCksdGhpcy5jbGllbnQ9YS5GcmFtZXdvcmsucmVzb2x2ZShoLnBjLkcpLHRoaXMuSGwuZmQodGhpcyl9cmV0dXJuIGUucHJvdG90eXBlLlRkPWZ1bmN0aW9uKGUpe3ZvaWQgMD09PWUmJihlPSExKTt2YXIgdD1lP2MuR2QucWQueGQ6Yy5HZC5xZC5WZDtpZih0aGlzLmpkKXt0aGlzLlFkLShuZXcgRGF0ZSkuZ2V0VGltZSgpPnQmJihhLkZyYW1ld29yay5jbGVhclRpbWVvdXQodGhpcy5qZCksdGhpcy5RZD1udWxsLHRoaXMuS2QodCkpfWVsc2UgdGhpcy5LZCh0KX0sZS5wcm90b3R5cGUuWWQ9ZnVuY3Rpb24oKXt0aGlzLmpkJiYoYS5GcmFtZXdvcmsuY2xlYXJUaW1lb3V0KHRoaXMuamQpLHRoaXMuUWQ9dGhpcy5qZD1udWxsKX0sZS5wcm90b3R5cGUuS2Q9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0aGlzLmpkPWEuRnJhbWV3b3JrLnNldFRpbWVvdXQoZnVuY3Rpb24oKXt0LldkKCl9LGUpLHRoaXMuUWQ9KG5ldyBEYXRlKS5nZXRUaW1lKCkrZX0sZS5wcm90b3R5cGUuV2Q9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt2b2lkIDA9PT1lJiYoZT0hMCksdGhpcy5qZD1udWxsLHRoaXMuUWQ9bnVsbDt2YXIgcj10aGlzLkhsLkRkKGUpO2U/KHRoaXMubG9nZ2VyLmRlYnVnKFwiW1RSQUNLXSBUQUtJTkcgQSBUUkFDSyBTTkFQU0hPVFwiKSxyLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIHQuZm9yd2FyZChlKX0pLmZhaWwoZnVuY3Rpb24oZSl7dC5sb2dnZXIuZGVidWcoXCJbVFJBQ0tdICBFUlJPUiBHRU5FUkFUSU5HL1NFTkRJTkcgVEhFIFRSQUNLIFNOQVBTSE9UOiBcIixlKX0pLmZpbmFsbHkoZnVuY3Rpb24oKXtyZXR1cm4gdC5IbC5yZXNldCgpfSkuZG9uZSgpKToodGhpcy5sb2dnZXIuZGVidWcoXCJbVFJBQ0tdIEZMVVNISU5HIFRSQUNLIFNOQVBTSE9UXCIpLHRoaXMuZm9yd2FyZChyKSx0aGlzLkhsLnJlc2V0KCkpfSxlLnByb3RvdHlwZS5mb3J3YXJkPWZ1bmN0aW9uKGUpe2lmKHRoaXMuY2xpZW50JiZ0aGlzLmNsaWVudC56ZCgpJiZlKXt2YXIgdD1KU09OLnN0cmluZ2lmeShlKTtzd2l0Y2godGhpcy5IZCl7Y2FzZSAwOmRlZmF1bHQ6dGhpcy5sb2dnZXIuZGVidWcoXCJbVFJBQ0tdIFRSQUNLIEVWRU5UXCIpO2JyZWFrO2Nhc2UgMTp0aGlzLmxvZ2dlci5kZWJ1ZyhcIltUUkFDS10gVFJBQ0sgRVZFTlQ6XCIrdCl9dmFyIHI9bmV3IHUuSmQoU2VydmljZXMuWGQsMix0KTt0aGlzLmNsaWVudC56ZCgpLnNlbmQocil9fSxlLnByb3RvdHlwZS5aZD1mdW5jdGlvbihlKXt2b2lkIDA9PT1lJiYoZT0hMCksZT8odGhpcy5ZZCgpLHRoaXMuS2QoYy5HZC5xZC4kZCkpOnRoaXMuV2QoITEpfSxlfSgpO2UucWw9eTt2YXIgVD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXt0aGlzLmNyZWF0ZWRBdD0obmV3IERhdGUpLmdldFRpbWUoKSx0aGlzLm1kPSExLHRoaXMudGlja2V0PWUsdGhpcy5tYW5pZmVzdHM9bmV3IEFycmF5LHRoaXMuUmQ9bmV3IEFycmF5LHRoaXMuSGw9dH1yZXR1cm4gZS5wcm90b3R5cGUuSWQ9ZnVuY3Rpb24oZSl7dGhpcy5tYW5pZmVzdHMucHVzaChlKX0sZS5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7dmFyIGU9e307ZS50eXBlPXQua3AsZS50aWNrZXQ9e30sZS50aWNrZXQudXJsPXRoaXMudGlja2V0LnRpY2tldFVybCxlLnRpY2tldC5yZXFUcz10aGlzLnRpY2tldC5lZixlLnRpY2tldC5yZXNwVHM9dGhpcy50aWNrZXQucmYsZS50aWNrZXQudXNlckFnZW50PXRoaXMuSGwuRmQoKSxudWxsIT10aGlzLnRpY2tldC50ZXN0SWQmJihlLnRpY2tldC50ZXN0SWQ9dGhpcy50aWNrZXQudGVzdElkKSxlLm1hbmlmZXN0cz1bXSx0aGlzLm1hbmlmZXN0cy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciByPXt9O3IudXJsPXQudXJsLHIucmVzcFRzPXQucmYsci5yZXNwQ29kZT10LnJlc3BDb2RlLGUubWFuaWZlc3RzLnB1c2gocil9KTt2YXIgcj0tMSxpPS0xLG49LTE7cmV0dXJuIHRoaXMuUmQuZm9yRWFjaChmdW5jdGlvbihlKXtlLmlmPjAmJigtMT09ciYmKHI9ZS50cyxpPWUuaWYpLG49ZS5pZil9KSwtMSE9ciYmKGUucGxheVRzPXIpLC0xIT1uJiYoZS5idWZmVGltZT1uKSwtMSE9aSYmKGUuaW5pdEJ1ZmZUaW1lPWkpLGV9LGV9KCk7ZS5uZj1UO3ZhciBtPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQscil7dGhpcy5ldmVudElkPWUsdGhpcy51cmw9dCx0aGlzLnJmPShuZXcgRGF0ZSkuZ2V0VGltZSgpLHRoaXMucmVzcENvZGU9cn1yZXR1cm4gZX0oKTtlLnNmPW07dmFyIEk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxyLGkpe3RoaXMudHM9KG5ldyBEYXRlKS5nZXRUaW1lKCksdGhpcy5zZXNzaW9uSWQ9ZSx0aGlzLnNlc3Npb25JZHx8KHRoaXMuc2Vzc2lvbklkPVwibnVsbFwiKSx0aGlzLmV2ZW50PXQsdGhpcy5hZj1yLGkmJih0aGlzLnRzPWkpfXJldHVybiBlLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXt2YXIgZT17fTtyZXR1cm4gZS50eXBlPXRoaXMuaGYrdGhpcy5ldmVudCxlLnRzPXRoaXMudHMsdGhpcy5hZiYmKGUucGFyYW1ldGVycz10aGlzLmFmKSxlfSxlfSgpO2UuY2Y9STt2YXIgUz1mdW5jdGlvbihlKXtmdW5jdGlvbiByKHIsaSxuLHMpe3ZhciBvPWUuY2FsbCh0aGlzLHIsaSxuLHMpfHx0aGlzO3JldHVybiBvLmhmPXQuRnAsb31yZXR1cm4gaShyLGUpLHJ9KEkpO2UudWY9Uzt2YXIgUj1mdW5jdGlvbihlKXtmdW5jdGlvbiByKHIsaSxuLHMpe3ZhciBvPWUuY2FsbCh0aGlzLHIsaSxuLHMpfHx0aGlzO3JldHVybiBvLmhmPXQuVXAsb31yZXR1cm4gaShyLGUpLHJ9KEkpO2UubGY9Ujt2YXIgdz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0LHIpe3RoaXMudHM9KG5ldyBEYXRlKS5nZXRUaW1lKCksdGhpcy5QbD1lLHRoaXMucGY9dCx0aGlzLmlmPXJ9cmV0dXJuIGV9KCk7ZS5kZj13fSh0LkdsfHwodC5HbD17fSkpfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaSgpe2lmKHRoaXMuZmYpcmV0dXJuIHRoaXMuZmY7dmFyIGU9d2luZG93JiZ3aW5kb3cud2luZG93P3dpbmRvdy53aW5kb3cuZ2Y6dm9pZCAwO2lmKHZvaWQgMCE9PWUmJmUubG9nJiZlLmRlYnVnJiZlLmluZm8mJmUud2FybiYmZS5lcnJvciYmKHRoaXMuZmY9ZSksIXRoaXMuZmYpe3ZhciB0PSEodm9pZCAwPT09d2luZG93LmNvbnNvbGUpLHI9dD9jb25zb2xlLmxvZy5iaW5kKGNvbnNvbGUpOmZ1bmN0aW9uKCl7fTt0aGlzLmZmPXtsb2c6cixkZWJ1Zzp0JiZ3aW5kb3cuY29uc29sZS5kZWJ1Zz93aW5kb3cuY29uc29sZS5kZWJ1Zy5iaW5kKGNvbnNvbGUpOnIsaW5mbzp0JiZ3aW5kb3cuY29uc29sZS5pbmZvP3dpbmRvdy5jb25zb2xlLmluZm8uYmluZChjb25zb2xlKTpyLHdhcm46dCYmd2luZG93LmNvbnNvbGUud2Fybj93aW5kb3cuY29uc29sZS53YXJuLmJpbmQoY29uc29sZSk6cixlcnJvcjp0JiZ3aW5kb3cuY29uc29sZS5lcnJvcj93aW5kb3cuY29uc29sZS5lcnJvci5iaW5kKGNvbnNvbGUpOnJ9fXJldHVybiB0aGlzLmZmfXZhciBuPXIoMSkscz1yKDIpO3QubG9nZ2VySWQ9XCJbSGl2ZVNlcnZpY2VzXSBcIjt2YXIgbz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGV9KCk7by5FZj0yNTAsdC5MPW87dmFyIGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxyKXt0aGlzLm1zZ0lkPXQsdGhpcy5zZXJ2aWNlPWUsdGhpcy5tc2c9cn1yZXR1cm4gZS5wcm90b3R5cGUudmY9ZnVuY3Rpb24oKXt0cnl7dmFyIHQ9bmV3IFVpbnQ4QXJyYXkoW3RoaXMuc2VydmljZT4+OCwyNTUmdGhpcy5zZXJ2aWNlXSkscj1uZXcgVWludDhBcnJheShbdGhpcy5tc2dJZF0pLGk9W3Qscix0aGlzLm1zZ107cmV0dXJuIG5ldyBCbG9iKGkse3R5cGU6XCJhcHBsaWNhdGlvbi9vY3RldC1iaW5hcnlcIn0pfWNhdGNoKHQpe3Rocm93IG4uRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBzZXJpYWxpemluZyBtZXNzYWdlIHRvIHNlbmQgdG8gdGhlIHNlcnZpY2VzXCIsZS5sb2dnZXJJZCxzLmhzLmFzLm5zLHQpLG5ldyBFcnJvcih0KX19LGUueWY9ZnVuY3Rpb24odCl7dHJ5e3ZhciByPShTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsbmV3IFVpbnQ4QXJyYXkodCkpLFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxuZXcgVWludDhBcnJheSh0LnNsaWNlKDMpKSkpLGk9bmV3IFVpbnQ4QXJyYXkodC5zbGljZSgwLDIpKSxvPW5ldyBVaW50OEFycmF5KHQuc2xpY2UoMiwzKSk7cmV0dXJuIG5ldyBlKChpWzBdPDw4KStpWzFdLG9bMF0scil9Y2F0Y2goZSl7dGhyb3cgbi5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIGV4dHJhY3RpbmcgbWVzc2FnZSBmcm9tIHRoZSBzZXJ2aWNlc1wiLHRoaXMubG9nZ2VySWQscy5ocy5hcy5zcyxlKSxuZXcgRXJyb3IoZSl9fSxlfSgpO2EubG9nZ2VySWQ9XCJbTWVzc2FnZV0gXCIsdC5KZD1hLHQubG9nZ2VyPWl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1yKDApLG49cig3KTshZnVuY3Rpb24oZSl7ZVtlLlRmPTBdPVwiVVBQRVJfTEFZRVJcIixlW2UubWY9MV09XCJDRE5cIixlW2UuSWY9Ml09XCJDRE5fUFJFRkVUQ0hcIixlW2UuU2Y9M109XCJDRE5fQ09NUEVOU0FUSU9OXCIsZVtlLlJmPTRdPVwiUDJQXCIsZVtlLndmPTVdPVwiUDJQX1BSRUZFVENIXCJ9KHQuYmZ8fCh0LmJmPXt9KSk7dmFyIHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5DZj0hMSx0aGlzLl9mPSExLHRoaXMuUGY9MCx0aGlzLkFmPTAsdGhpcy5PZj0wLHRoaXMuTmY9MCx0aGlzLkRmPTAsdGhpcy5wMnBBZ2VuVHJhZmZpY1N1Y2Nlc3NRdD0wLHRoaXMua2Y9MCx0aGlzLnNyY090aGVyUmVzcFF0PTAsdGhpcy5MZj0wLHRoaXMuTWY9MCx0aGlzLkZmPTAsdGhpcy5VZj0wLHRoaXMuQmY9MH1yZXR1cm4gZX0oKTt0LkhmPXM7dmFyIG89ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxyLG4sbyl7dGhpcy54Zj0hMSx0aGlzLnR5cGU9dm9pZCAwLHRoaXMucWY9bmV3IHMsdGhpcy5HZj0hMSx0aGlzLlZmPSExLHRoaXMucmVzcG9uc2VIZWFkZXJzPVwiXCIsdGhpcy5qZj1uZXcgQXJyYXlCdWZmZXIoMCksdGhpcy5RZj0wLHRoaXMudHlwZT1yLHRoaXMuS2Y9ZSx0aGlzLllmPXQsdGhpcy5XZj1vLHRoaXMuemY9bix0aGlzLnFmLkxmPWkuRnJhbWV3b3JrLnRpbWUoKX1yZXR1cm4gZS5wcm90b3R5cGUuSmY9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50eXBlfSxlLnByb3RvdHlwZS5YZj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnpmLlhmKCl9LGUucHJvdG90eXBlLlpmPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuemYuWmYoKX0sZS5wcm90b3R5cGUuJGY9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5aZigpK1wiLVwiK3RoaXMuWWZ9LGUucHJvdG90eXBlLmVnPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuemYudGcoKX0sZS5wcm90b3R5cGUucmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy56Zi5pZygpfSxlLnByb3RvdHlwZS5sb2FkZWQ9ZnVuY3Rpb24oKXt0aGlzLm5nPWkuRnJhbWV3b3JrLnRpbWUoKX0sZS5wcm90b3R5cGUuc2c9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uZz9NYXRoLm1heCgxLHRoaXMubmctdGhpcy5xZi5GZik6TWF0aC5tYXgoMSx0aGlzLnFmLlVmLXRoaXMucWYuRmYpfSxlLnByb3RvdHlwZS5vZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLm5nP01hdGgubWF4KDEsdGhpcy5uZy10aGlzLnFmLk1mKTpNYXRoLm1heCgxLHRoaXMucWYuVWYtdGhpcy5xZi5NZil9LGUucHJvdG90eXBlLmFnPWZ1bmN0aW9uKCl7cmV0dXJuIDAhPXRoaXMucWYuRGY/KG5ldyBuLnJjLlZoKS5NaCh0aGlzLnNnKCksdGhpcy5xZi5EZik6KG5ldyBuLnJjLlZoKS5NaCh0aGlzLm9nKCksdGhpcy5xZi5BZil9LGV9KCk7dC5oZz1vfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9cigxNjEpLG49cigzNSkscz1yKDI4KSxvPXMuY2csYT1yKDQpLGg9cigwKSxjPXIoMTYzKSx1PXIoMTY5KSxsPXIoNSkscD1yKDcpLGQ9cigzKSxmPXIoMTUpLGc9cigxKSxFPXIoMik7IWZ1bmN0aW9uKGUpe2UudWc9ITE7dmFyIHQ7IWZ1bmN0aW9uKGUpe2VbZS5IYXZlPTFdPVwiSGF2ZVwiLGVbZS5DaHVuaz0yXT1cIkNodW5rXCIsZVtlLlJlcXVlc3Q9M109XCJSZXF1ZXN0XCIsZVtlLkNhbmNlbD00XT1cIkNhbmNlbFwiLGVbZS5BY2s9NV09XCJBY2tcIixlW2UuQ2xvc2U9Nl09XCJDbG9zZVwiLGVbZS5Eb05vdEhhdmU9N109XCJEb05vdEhhdmVcIixlW2UubGc9OF09XCJPdXRQYXJ0UmVxdWVzdFwiLGVbZS5wZz05XT1cIk91dFBhcnRSZXNwXCIsZVtlLmRnPTEwXT1cIlVEUEhhbmRzaGFrZVJlcVwiLGVbZS5VRFBIYW5kc2hha2VSZXNwb25zZT0xMV09XCJVRFBIYW5kc2hha2VSZXNwb25zZVwiLGVbZS5VRFBTd2l0Y2hMZWFkZXJzaGlwUmVxdWVzdD0xMl09XCJVRFBTd2l0Y2hMZWFkZXJzaGlwUmVxdWVzdFwiLGVbZS5mZz0xM109XCJVRFBTd2l0Y2hBY2tcIixlW2UuQml0cmF0ZT0xNF09XCJCaXRyYXRlXCIsZVtlLkhhdmVzPTE1XT1cIkhhdmVzXCIsZVtlLm5kPTE2XT1cIlBlZXJJbmZvXCIsZVtlLlBpbmc9MTddPVwiUGluZ1wiLGVbZS5Qb25nPTE4XT1cIlBvbmdcIixlW2UuZ2c9MTldPVwiTm9QYXJ0bmVyUmVzcFwifSh0PWUuRWd8fChlLkVnPXt9KSk7dmFyIHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMubG9nZ2VySWQ9XCJbRGlzcGF0Y2hlck1hbmFnZXJdIFwiLHRoaXMudmc9bmV3IGQsdGhpcy5sb2dnZXI9aC5GcmFtZXdvcmsucmVzb2x2ZShoLkZyYW1ld29yay5WLlIpLmxvZygpLHRoaXMueWc9ZX1yZXR1cm4gZS5wcm90b3R5cGUuVGc9ZnVuY3Rpb24oZSl7dHJ5e3ZhciB0PW51bGwscj1oLkZyYW1ld29yay5yZXNvbHZlKGYucXUuX3UpLGk9ci5tZyhlKTtyZXR1cm4gbnVsbD09aT8odGhpcy5sb2dnZXIud2FybihcIk1TRyBSRUNFSVZFRCBGUk9NIFVOS05PV04gU1dBUk1cIiksbnVsbCk6KHQ9bmV3IGMuSWcoaSx0aGlzLnlnLlNnLHRoaXMueWcub3RoZXJHdWlkLHRoaXMueWcpLHRoaXMudmcuaGFzKGUpfHx0aGlzLnZnLnNldChlLHQpLHRoaXMudmcuZ2V0KGUpKX1jYXRjaChlKXtnLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgY3JlYXRpbmcgbmV3IGRpc3BhdGNoZXJcIix0aGlzLmxvZ2dlcklkLEUuaHMudHQuZXQsZSl9fSxlLnByb3RvdHlwZS5SZz1mdW5jdGlvbihlKXt0aGlzLnZnLmRlbGV0ZShlKX0sZS5wcm90b3R5cGUud2c9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudmcuZ2V0KGUpfSxlfSgpO2UuYmc9czt2YXIgdj1mdW5jdGlvbigpe2Z1bmN0aW9uIHIoKXt0aGlzLmxvZ2dlcklkPVwiW1RyYW5zcG9ydF0gXCIsdGhpcy5DZz1udWxsLHRoaXMuX2c9aC5GcmFtZXdvcmsucmVzb2x2ZShoLkZyYW1ld29yay5WLlIpLHRoaXMuUGc9bmV3IHModGhpcyksdGhpcy5mZT1yLkFnKyssdGhpcy5PZz1oLkZyYW1ld29yay50aW1lKCl9cmV0dXJuIHIucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oZSx0KXt0aGlzLlNnPWUsdGhpcy5vdGhlckd1aWQ9dCx0aGlzLk5nPWguRnJhbWV3b3JrLnJlc29sdmUoaC5GcmFtZXdvcmsuVi5GKX0sci5wcm90b3R5cGUuRGc9ZnVuY3Rpb24oKXt2YXIgZT0hMTtyZXR1cm4gdGhpcy5QZy52Zy5mb3JFYWNoKGZ1bmN0aW9uKHQscil7KHQuc2VuZGVyLkRnKCl8fHQucmVjZWl2ZXIuRGcoKSkmJihlPSEwKX0pLGV9LHIucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5QZy52Zy5mb3JFYWNoKGZ1bmN0aW9uKGUsdCl7ZS5zZW5kZXIua2coKX0pfSxyLnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5QZy5SZyhlKSwwPT10aGlzLlBnLnZnLmxlbmd0aCYmdGhpcy5OZy5kaXNjb25uZWN0KHRoaXMub3RoZXJHdWlkKSxhKFwib2tcIil9LHIucHJvdG90eXBlLkxnPWZ1bmN0aW9uKHIsaSxzKXt0cnl7dGhpcy5PZz1oLkZyYW1ld29yay50aW1lKCk7dmFyIGE9cy50YygpLGM9YS5ieXRlTGVuZ3RoLHU9by5GZy5NZy5jcmVhdGUoYSkscD1vLlVnKHUpLGQ9bmV3IG47ZC5CZyhyKSxkLkhnKGkpLGQuQmcoYyksZC5IZyhwLnRvU3RyaW5nKCkpLGQuYXBwZW5kKGEpLGQueGcoKTt2YXIgZj1kLnRjKCksdj1yPT09dC5DaHVuayYmaC5GcmFtZXdvcmsuQygpP2YuYnl0ZUxlbmd0aCtsLmhoLkZhLkRhOmYuYnl0ZUxlbmd0aDtlLnVnJiZ0aGlzLl9nLmxvZyhpKS5kZWJ1Zyh0aGlzLmZlK1wiIFNFTkQgTVNHIElEIFwiK3IrXCIsXCIrditcIiBIQVNIIFwiK3AudG9TdHJpbmcoKStcIiBUTyBcIit0aGlzLm90aGVyR3VpZCl9Y2F0Y2godCl7Zy5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIGNvbnN0cnVjdGluZyBtZXNzYWdlXCIsdGhpcy5sb2dnZXJJZCxFLmhzLiRlLnplLHtxZzplLkVnW3JdfSl9dHJ5e3RoaXMuTmcuc2VuZCh0aGlzLm90aGVyR3VpZCxmLHYpfHxnLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgbWVzc2FnZSBkcm9wcGVkXCIsdGhpcy5sb2dnZXJJZCxFLmhzLiRlLkplLHtxZzplLkVnW3JdLG90aGVyR3VpZDp0aGlzLm90aGVyR3VpZH0pfWNhdGNoKHQpe2cuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBzZW5kaW5nIG1lc3NhZ2VcIix0aGlzLmxvZ2dlcklkLEUuaHMuJGUuWGUse3FnOmUuRWdbcl0sb3RoZXJHdWlkOnRoaXMub3RoZXJHdWlkfSksdGhpcy5fZy5sb2coaSkud2FybihcIkVSUk9SIFNFTkRJTkcgTUVTU0FHRSBUTyBcIit0aGlzLm90aGVyR3VpZCtcIiBcIit0LnN0YWNrKX19LHIucHJvdG90eXBlLkdnPWZ1bmN0aW9uKGkpe3ZhciBzPXRoaXM7ZS51ZyYmdGhpcy5fZy5sb2coKS5kZWJ1Zyh0aGlzLmZlK1wiIEdPVCBNU0cgXCIraS5ieXRlTGVuZ3RoKTt0cnl7dmFyIGE9aC5GcmFtZXdvcmsudGltZSgpO3RoaXMuT2c9YSx0aGlzLlZnKGkpLnRoZW4oZnVuY3Rpb24oYyl7aWYoZS51ZyYmcy5fZy5sb2coKS5kZWJ1ZyhzLmZlK1wiIFJFQ0VJVklORyBcIitjLmJ5dGVMZW5ndGgrXCIgYWZ0ZXIgXCIrKGguRnJhbWV3b3JrLnRpbWUoKS1hKSksYy5ieXRlTGVuZ3RoPnIuamcpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJQMlAgTWVzc2FnZSB0b28gYmlnIHRvIGJlIHByb2Nlc3NlZFwiKTt2YXIgbD1zLkNnO2lmKG51bGw9PT1sKXt2YXIgZD1uLndyYXAoYyksZj1kLlFnKCk7aWYoZS51ZyYmcy5fZy5sb2coKS5kZWJ1ZyhcIk1TRyBJRCBcIitmKSxmPk9iamVjdC5rZXlzKHQpLmxlbmd0aClyZXR1cm4gcy5fZy5sb2coKS53YXJuKFwiTVNHIE9GIFdST05HIElEIFJFQ0VJVkVEOiBcIitmKSx2b2lkKHMuQ2c9bnVsbCk7aWYobD1zLkNnPW5ldyB1LktnLGwubXNnSWQ9ZixsLnN3YXJtSWQ9ZC5ZZygpLGwubGVuZ3RoPWQuUWcoKSxsLmhhc2g9ZC5ZZygpLGwuV2c9ZC50YygpLGwubGVuZ3RoPnIuamcpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJQMlAgTWVzc2FnZSB0b28gYmlnIHRvIGJlIHByb2Nlc3NlZFwiKTtlLnVnJiZzLl9nLmxvZyhsLnN3YXJtSWQpLmRlYnVnKFwiTVNHIElEIFwiK2wubXNnSWQrXCIgTCBcIitsLmxlbmd0aCtcIiBTV0lEIFwiK2wuc3dhcm1JZCtcIiBIIFwiK2wuaGFzaCtcIiBUUiBcIitsLldnLmJ5dGVMZW5ndGgpfWVsc2V7aWYoZS51ZyYmcy5fZy5sb2coKS5kZWJ1ZyhcIkFQUEVORElORyBUTyBQMlAgTUVTU0FHRSBcIitsLm1zZ0lkKSxudWxsIT1sLldnLmJ5dGVMZW5ndGgmJmwuV2cuYnl0ZUxlbmd0aD5yLmpnKXRocm93IG5ldyBSYW5nZUVycm9yKFwiUDJQIE1lc3NhZ2UgdG9vIGJpZyB0byBiZSBwcm9jZXNzZWRcIik7bC5XZz1wLnJjLmFwcGVuZEJ1ZmZlcihsLldnLGkpfWlmKGwuV2cuYnl0ZUxlbmd0aD09PWwubGVuZ3RoKXt2YXIgZz1vLkZnLk1nLmNyZWF0ZShsLldnKTtpZihvLlVnKGcpLnRvU3RyaW5nKCkhPT1sLmhhc2gpe3JldHVybiB2b2lkIHMuX2cubG9nKGwuc3dhcm1JZCkud2FybihcIiBJTlRFR1JJVFkgQ0hFQ0sgRkFJTEVEIFwiKX12YXIgRT1zLlBnLndnKGwuc3dhcm1JZCk7RXx8KEU9cy5QZy5UZyhsLnN3YXJtSWQpLHMuX2cubG9nKGwuc3dhcm1JZCkuZGVidWcoXCJDUkVBVEVEIE5FVyBESVNQQVRDSEVSIEZPUiBcIitzLm90aGVyR3VpZCkpLEUmJkUuQXMobCksbC5XZz1udWxsLHMuQ2c9bnVsbH19KX1jYXRjaChlKXtnLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgcmVjZWl2aW5nIG1lc3NhZ2VcIix0aGlzLmxvZ2dlcklkLEUuaHMuJGUuWmUsZSksdGhpcy5DZz1udWxsfX0sci5wcm90b3R5cGUuVmc9ZnVuY3Rpb24oZSl7dmFyIHQ9IWguRnJhbWV3b3JrLkMoKSYmbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoXCJmaXJlZm94XCIpPi0xLHI9YS5kZWZlcigpO2lmKHQpe3ZhciBpPW5ldyBGaWxlUmVhZGVyO2kub25sb2FkPWZ1bmN0aW9uKHQpe2U9dGhpcy5yZXN1bHQsci5yZXNvbHZlKGUpfSxpLm9uZXJyb3I9ci5yZWplY3QsaS5yZWFkQXNBcnJheUJ1ZmZlcihlKX1lbHNlIHIucmVzb2x2ZShlKTtyZXR1cm4gci5Tc30sci5wcm90b3R5cGUuemc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5PZ30scn0oKTt2LkpnPWkuWmcocigxNzApKS5YZyhcIkhpdmVNc2dzXCIpLHYuQWc9MCx2LmpnPTEzNitNYXRoLmNlaWwoMS4yKmwuaGguRmEuRGEpLGUuRmE9dn0odC5SZnx8KHQuUmY9e30pKX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpOyFmdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUpe3JldHVybiBvW2VdfWZ1bmN0aW9uIHIoZSxyLGkpe3ZhciBuPW5ldyBhO3JldHVybiBuLnRpY2tldFVybD1lLG4uY29kZT1yLG4ubWVzc2FnZT10KHIpLG4uZGV0YWlsZWRNZXNzYWdlPWksbn12YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLnNhdmluZ3M9MCx0aGlzLmNkblJlcXVlc3RzPTAsdGhpcy5jZG5SZXNwb25zZXM9MCx0aGlzLmNkblJlc3BvbnNlRXJyb3JzPTAsdGhpcy5jZG5SZXNwb25zZUJ5dGVzPTAsdGhpcy5wMnBSZXF1ZXN0cz0wLHRoaXMucDJwUmVzcG9uc2VzPTAsdGhpcy5wMnBSZXNwb25zZUVycm9ycz0wLHRoaXMucDJwUmVzcG9uc2VCeXRlcz0wLHRoaXMucGFydG5lcnM9e319cmV0dXJuIGV9KCk7ZS4kZz1pO3ZhciBuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMudXVpZD1cIlwiLHRoaXMuc2VudEJ5dGVzPTAsdGhpcy5yZWNlaXZlZEJ5dGVzPTAsdGhpcy5zdWNjZXNzVHJhbnNmZXJzPTAsdGhpcy5mYWlsZWRUcmFuc2ZlcnM9MH1yZXR1cm4gZX0oKTtlLmVFPW47dmFyIHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlfSgpO2UuSGl2ZVNlc3Npb249czshZnVuY3Rpb24oZSl7ZVtlLnRFPTBdPVwiR0VORVJJQ19FUlJPUlwiLGVbZS5yRT0xXT1cIk5PX1RFQ0hfQVZBSUxBQkxFXCIsZVtlLmlFPTJdPVwiTk9fVEVDSF9SRVNPTFZFRFwiLGVbZS5uRT0zXT1cIlRFQ0hfRVJST1JcIixlW2Uuc0U9NF09XCJUSUNLRVRfRVJST1JcIn0oZS5vRXx8KGUub0U9e30pKTt2YXIgbzshZnVuY3Rpb24oZSl7ZVtlW1wiYUVcIl09MF09XCJHZW5lcmljIFVuZGVmaW5lZCBFcnJvclwiLGVbZVtcImhFXCJdPTFdPVwiTm8gVGVjaCBhdmFpbGFibGUgdG8gcmVzb2x2ZSB0aGUgdGlja2V0XCIsZVtlW1wiY0VcIl09Ml09XCJObyBhdmFpbGFibGUgVGVjaCBjb3VsZCByZXNvbHZlZCB0aGUgdGlja2V0XCIsZVtlW1widUVcIl09M109XCJTdG9wcGVkIHJlc29sdmluZyBzZXNzaW9uIG9uIGxhc3QgdGVjaCBvbkVycm9yXCIsZVtlW1wibEVcIl09NF09XCJUaGUgdGlja2V0IGNvdWxkIG5vdCBiZSByZXNvbHZlZFwifShvfHwobz17fSkpO3ZhciBhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZX0oKTtlLkhpdmVTZXNzaW9uRXJyb3I9YTt2YXIgaD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXt0aGlzLmNvZGU9ZSx0aGlzLm1lc3NhZ2U9dH1yZXR1cm4gZX0oKTtlLkhpdmVUZWNoRXJyb3I9aDshZnVuY3Rpb24oZSl7ZVtlLnBFPTBdPVwiTk9UX1JFQURZXCIsZVtlLmRFPTFdPVwiUExVR0lOX0VSUk9SXCIsZVtlLmZFPTJdPVwiU0VTU0lPTl9FUlJPUlwiLGVbZS5zRT0zXT1cIlRJQ0tFVF9FUlJPUlwiLGVbZS5nRT00XT1cIlZFUlNJT05fRVJST1JcIixlW2UuRUU9NV09XCJUSU1FT1VUX0VSUk9SXCJ9KGUudkV8fChlLnZFPXt9KSk7IWZ1bmN0aW9uKGUpe2VbZS55RT0wXT1cIk9LXCIsZVtlLlRFPTFdPVwiSElWRV9OT1RfQUxMT1dFRFwiLGVbZS5tRT0yXT1cIlRJQ0tFVF9OT1RfUkVTT0xWRURcIixlW2UuSUU9M109XCJUSU1FT1VUX1JFU09MVklOR19USUNLRVRcIn0oZS5TRXx8KGUuU0U9e30pKSxlLmdldEhpdmVTZXNzaW9uRXJyb3JNZXNzYWdlPXQsZS5TbD1yO3ZhciBjPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLlJFPWV9cmV0dXJuIGUucHJvdG90eXBlLmdldFBsdWdpblN0YXR1c0NvZGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5SRS5nZXRTdGF0dXNDb2RlKCl9LGV9KCk7ZS53RT1jfShpPXQuSGl2ZUNvbW18fCh0LkhpdmVDb21tPXt9KSksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmKHZvaWQgMD09PXdpbmRvdy5IaXZlQ29tbSYmKHdpbmRvdy5IaXZlQ29tbT17fSksd2luZG93LkhpdmVDb21tLmdldEhpdmVTZXNzaW9uRXJyb3JNZXNzYWdlPWkuZ2V0SGl2ZVNlc3Npb25FcnJvck1lc3NhZ2UpfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9cig2KTshZnVuY3Rpb24oZSl7ZS5FaD1pLmhlLkVoLGUuX2g9aS5oZS5faDt2YXIgdD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGV9KCk7dC5iRT1cIndzczovL2JlZS5oaXZlc3RyZWFtaW5nLmNvbTo0NDMvdjEvaGl2ZWpzXCIsdC5DRT1cIndzczovL2JlZS10ZXN0LmhpdmVzdHJlYW1pbmcuY29tOjQ0My92MS9oaXZlanNcIix0Ll9FPXtpY2VTZXJ2ZXJzOlt7dXJsOlwic3R1bjpzdHVuLmhpdmVzdHJlYW1pbmcuY29tOjM0NzhcIn1dfSx0LlBFPTNlNCx0LlZkPTNlNSx0LnhkPThlNCx0LiRkPTFlMyx0LkFFPTNlNCx0Lk9FPTEwMCx0Lk5FPTFlNCxlLnFkPXR9KHQuR2R8fCh0LkdkPXt9KSl9LGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gcihlLHQscil7bnVsbCE9ZSYmKFwibnVtYmVyXCI9PXR5cGVvZiBlP3RoaXMuREUoZSx0LHIpOm51bGw9PXQmJlwic3RyaW5nXCIhPXR5cGVvZiBlP3RoaXMua0UoZSwyNTYpOnRoaXMua0UoZSx0KSl9ZnVuY3Rpb24gaSgpe3JldHVybiBuZXcgcihudWxsKX1mdW5jdGlvbiBuKGUsdCxyLGksbixzKXtmb3IoOy0tcz49MDspe3ZhciBvPXQqdGhpc1tlKytdK3JbaV0rbjtuPU1hdGguZmxvb3Ioby82NzEwODg2NCkscltpKytdPTY3MTA4ODYzJm99cmV0dXJuIG59ZnVuY3Rpb24gcyhlLHQscixpLG4scyl7Zm9yKHZhciBvPTMyNzY3JnQsYT10Pj4xNTstLXM+PTA7KXt2YXIgaD0zMjc2NyZ0aGlzW2VdLGM9dGhpc1tlKytdPj4xNSx1PWEqaCtjKm87aD1vKmgrKCgzMjc2NyZ1KTw8MTUpK3JbaV0rKDEwNzM3NDE4MjMmbiksbj0oaD4+PjMwKSsodT4+PjE1KSthKmMrKG4+Pj4zMCkscltpKytdPTEwNzM3NDE4MjMmaH1yZXR1cm4gbn1mdW5jdGlvbiBvKGUsdCxyLGksbixzKXtmb3IodmFyIG89MTYzODMmdCxhPXQ+PjE0Oy0tcz49MDspe3ZhciBoPTE2MzgzJnRoaXNbZV0sYz10aGlzW2UrK10+PjE0LHU9YSpoK2MqbztoPW8qaCsoKDE2MzgzJnUpPDwxNCkrcltpXStuLG49KGg+PjI4KSsodT4+MTQpK2EqYyxyW2krK109MjY4NDM1NDU1Jmh9cmV0dXJuIG59ZnVuY3Rpb24gYShlKXtyZXR1cm4gQ2UuY2hhckF0KGUpfWZ1bmN0aW9uIGgoZSx0KXt2YXIgcj1fZVtlLmNoYXJDb2RlQXQodCldO3JldHVybiBudWxsPT1yPy0xOnJ9ZnVuY3Rpb24gYyhlKXtmb3IodmFyIHQ9dGhpcy50LTE7dD49MDstLXQpZVt0XT10aGlzW3RdO2UudD10aGlzLnQsZS5UPXRoaXMuVH1mdW5jdGlvbiB1KGUpe3RoaXMudD0xLHRoaXMuVD1lPDA/LTE6MCxlPjA/dGhpc1swXT1lOmU8LTE/dGhpc1swXT1lK3RoaXMuTEU6dGhpcy50PTB9ZnVuY3Rpb24gbChlKXt2YXIgdD1pKCk7cmV0dXJuIHQuTUUoZSksdH1mdW5jdGlvbiBwKGUsdCl7dmFyIGk7aWYoMTY9PXQpaT00O2Vsc2UgaWYoOD09dClpPTM7ZWxzZSBpZigyNTY9PXQpaT04O2Vsc2UgaWYoMj09dClpPTE7ZWxzZSBpZigzMj09dClpPTU7ZWxzZXtpZig0IT10KXJldHVybiB2b2lkIHRoaXMuRkUoZSx0KTtpPTJ9dGhpcy50PTAsdGhpcy5UPTA7Zm9yKHZhciBuPWUubGVuZ3RoLHM9ITEsbz0wOy0tbj49MDspe3ZhciBhPTg9PWk/MjU1JmVbbl06aChlLG4pO2E8MD9cIi1cIj09ZS5jaGFyQXQobikmJihzPSEwKToocz0hMSwwPT1vP3RoaXNbdGhpcy50KytdPWE6bytpPnRoaXMuVUU/KHRoaXNbdGhpcy50LTFdfD0oYSYoMTw8dGhpcy5VRS1vKS0xKTw8byx0aGlzW3RoaXMudCsrXT1hPj50aGlzLlVFLW8pOnRoaXNbdGhpcy50LTFdfD1hPDxvLChvKz1pKT49dGhpcy5VRSYmKG8tPXRoaXMuVUUpKX04PT1pJiYwIT0oMTI4JmVbMF0pJiYodGhpcy5UPS0xLG8+MCYmKHRoaXNbdGhpcy50LTFdfD0oMTw8dGhpcy5VRS1vKS0xPDxvKSksdGhpcy5CRSgpLHMmJnIuWkVSTy5IRSh0aGlzLHRoaXMpfWZ1bmN0aW9uIGQoKXtmb3IodmFyIGU9dGhpcy5UJnRoaXMueEU7dGhpcy50PjAmJnRoaXNbdGhpcy50LTFdPT1lOyktLXRoaXMudH1mdW5jdGlvbiBmKGUpe2lmKHRoaXMuVDwwKXJldHVyblwiLVwiK3RoaXMucUUoKS50b1N0cmluZyhlKTt2YXIgdDtpZigxNj09ZSl0PTQ7ZWxzZSBpZig4PT1lKXQ9MztlbHNlIGlmKDI9PWUpdD0xO2Vsc2UgaWYoMzI9PWUpdD01O2Vsc2V7aWYoNCE9ZSlyZXR1cm4gdGhpcy5HRShlKTt0PTJ9dmFyIHIsaT0oMTw8dCktMSxuPSExLHM9XCJcIixvPXRoaXMudCxoPXRoaXMuVUUtbyp0aGlzLlVFJXQ7aWYoby0tID4wKWZvcihoPHRoaXMuVUUmJihyPXRoaXNbb10+PmgpPjAmJihuPSEwLHM9YShyKSk7bz49MDspaDx0PyhyPSh0aGlzW29dJigxPDxoKS0xKTw8dC1oLHJ8PXRoaXNbLS1vXT4+KGgrPXRoaXMuVUUtdCkpOihyPXRoaXNbb10+PihoLT10KSZpLGg8PTAmJihoKz10aGlzLlVFLC0tbykpLHI+MCYmKG49ITApLG4mJihzKz1hKHIpKTtyZXR1cm4gbj9zOlwiMFwifWZ1bmN0aW9uIGcoKXt2YXIgZT1pKCk7cmV0dXJuIHIuWkVSTy5IRSh0aGlzLGUpLGV9ZnVuY3Rpb24gRSgpe3JldHVybiB0aGlzLlQ8MD90aGlzLnFFKCk6dGhpc31mdW5jdGlvbiB2KGUpe3ZhciB0PXRoaXMuVC1lLlQ7aWYoMCE9dClyZXR1cm4gdDt2YXIgcj10aGlzLnQ7aWYoMCE9KHQ9ci1lLnQpKXJldHVybiB0aGlzLlQ8MD8tdDp0O2Zvcig7LS1yPj0wOylpZigwIT0odD10aGlzW3JdLWVbcl0pKXJldHVybiB0O3JldHVybiAwfWZ1bmN0aW9uIHkoZSl7dmFyIHQscj0xO3JldHVybiAwIT0odD1lPj4+MTYpJiYoZT10LHIrPTE2KSwwIT0odD1lPj44KSYmKGU9dCxyKz04KSwwIT0odD1lPj40KSYmKGU9dCxyKz00KSwwIT0odD1lPj4yKSYmKGU9dCxyKz0yKSwwIT0odD1lPj4xKSYmKGU9dCxyKz0xKSxyfWZ1bmN0aW9uIFQoKXtyZXR1cm4gdGhpcy50PD0wPzA6dGhpcy5VRSoodGhpcy50LTEpK3kodGhpc1t0aGlzLnQtMV1edGhpcy5UJnRoaXMueEUpfWZ1bmN0aW9uIG0oZSx0KXt2YXIgcjtmb3Iocj10aGlzLnQtMTtyPj0wOy0tcil0W3IrZV09dGhpc1tyXTtmb3Iocj1lLTE7cj49MDstLXIpdFtyXT0wO3QudD10aGlzLnQrZSx0LlQ9dGhpcy5UfWZ1bmN0aW9uIEkoZSx0KXtmb3IodmFyIHI9ZTtyPHRoaXMudDsrK3IpdFtyLWVdPXRoaXNbcl07dC50PU1hdGgubWF4KHRoaXMudC1lLDApLHQuVD10aGlzLlR9ZnVuY3Rpb24gUyhlLHQpe3ZhciByLGk9ZSV0aGlzLlVFLG49dGhpcy5VRS1pLHM9KDE8PG4pLTEsbz1NYXRoLmZsb29yKGUvdGhpcy5VRSksYT10aGlzLlQ8PGkmdGhpcy54RTtmb3Iocj10aGlzLnQtMTtyPj0wOy0tcil0W3IrbysxXT10aGlzW3JdPj5ufGEsYT0odGhpc1tyXSZzKTw8aTtmb3Iocj1vLTE7cj49MDstLXIpdFtyXT0wO3Rbb109YSx0LnQ9dGhpcy50K28rMSx0LlQ9dGhpcy5ULHQuQkUoKX1mdW5jdGlvbiBSKGUsdCl7dC5UPXRoaXMuVDt2YXIgcj1NYXRoLmZsb29yKGUvdGhpcy5VRSk7aWYocj49dGhpcy50KXJldHVybiB2b2lkKHQudD0wKTt2YXIgaT1lJXRoaXMuVUUsbj10aGlzLlVFLWkscz0oMTw8aSktMTt0WzBdPXRoaXNbcl0+Pmk7Zm9yKHZhciBvPXIrMTtvPHRoaXMudDsrK28pdFtvLXItMV18PSh0aGlzW29dJnMpPDxuLHRbby1yXT10aGlzW29dPj5pO2k+MCYmKHRbdGhpcy50LXItMV18PSh0aGlzLlQmcyk8PG4pLHQudD10aGlzLnQtcix0LkJFKCl9ZnVuY3Rpb24gdyhlLHQpe2Zvcih2YXIgcj0wLGk9MCxuPU1hdGgubWluKGUudCx0aGlzLnQpO3I8bjspaSs9dGhpc1tyXS1lW3JdLHRbcisrXT1pJnRoaXMueEUsaT4+PXRoaXMuVUU7aWYoZS50PHRoaXMudCl7Zm9yKGktPWUuVDtyPHRoaXMudDspaSs9dGhpc1tyXSx0W3IrK109aSZ0aGlzLnhFLGk+Pj10aGlzLlVFO2krPXRoaXMuVH1lbHNle2ZvcihpKz10aGlzLlQ7cjxlLnQ7KWktPWVbcl0sdFtyKytdPWkmdGhpcy54RSxpPj49dGhpcy5VRTtpLT1lLlR9dC5UPWk8MD8tMTowLGk8LTE/dFtyKytdPXRoaXMuTEUraTppPjAmJih0W3IrK109aSksdC50PXIsdC5CRSgpfWZ1bmN0aW9uIGIoZSx0KXt2YXIgaT10aGlzLmFicygpLG49ZS5hYnMoKSxzPWkudDtmb3IodC50PXMrbi50Oy0tcz49MDspdFtzXT0wO2ZvcihzPTA7czxuLnQ7KytzKXRbcytpLnRdPWkuVkUoMCxuW3NdLHQscywwLGkudCk7dC5UPTAsdC5CRSgpLHRoaXMuVCE9ZS5UJiZyLlpFUk8uSEUodCx0KX1mdW5jdGlvbiBDKGUpe2Zvcih2YXIgdD10aGlzLmFicygpLHI9ZS50PTIqdC50Oy0tcj49MDspZVtyXT0wO2ZvcihyPTA7cjx0LnQtMTsrK3Ipe3ZhciBpPXQuVkUocix0W3JdLGUsMipyLDAsMSk7KGVbcit0LnRdKz10LlZFKHIrMSwyKnRbcl0sZSwyKnIrMSxpLHQudC1yLTEpKT49dC5MRSYmKGVbcit0LnRdLT10LkxFLGVbcit0LnQrMV09MSl9ZS50PjAmJihlW2UudC0xXSs9dC5WRShyLHRbcl0sZSwyKnIsMCwxKSksZS5UPTAsZS5CRSgpfWZ1bmN0aW9uIF8oZSx0LG4pe3ZhciBzPWUuYWJzKCk7aWYoIShzLnQ8PTApKXt2YXIgbz10aGlzLmFicygpO2lmKG8udDxzLnQpcmV0dXJuIG51bGwhPXQmJnQuTUUoMCksdm9pZChudWxsIT1uJiZ0aGlzLmpFKG4pKTtudWxsPT1uJiYobj1pKCkpO3ZhciBhPWkoKSxoPXRoaXMuVCxjPWUuVCx1PXRoaXMuVUUteShzW3MudC0xXSk7dT4wPyhzLlFFKHUsYSksby5RRSh1LG4pKToocy5qRShhKSxvLmpFKG4pKTt2YXIgbD1hLnQscD1hW2wtMV07aWYoMCE9cCl7dmFyIGQ9cCooMTw8dGhpcy5LRSkrKGw+MT9hW2wtMl0+PnRoaXMuWUU6MCksZj10aGlzLldFL2QsZz0oMTw8dGhpcy5LRSkvZCxFPTE8PHRoaXMuWUUsdj1uLnQsVD12LWwsbT1udWxsPT10P2koKTp0O2ZvcihhLnpFKFQsbSksbi5KRShtKT49MCYmKG5bbi50KytdPTEsbi5IRShtLG4pKSxyLk9ORS56RShsLG0pLG0uSEUoYSxhKTthLnQ8bDspYVthLnQrK109MDtmb3IoOy0tVD49MDspe3ZhciBJPW5bLS12XT09cD90aGlzLnhFOk1hdGguZmxvb3Ioblt2XSpmKyhuW3YtMV0rRSkqZyk7aWYoKG5bdl0rPWEuVkUoMCxJLG4sVCwwLGwpKTxJKWZvcihhLnpFKFQsbSksbi5IRShtLG4pO25bdl08LS1JOyluLkhFKG0sbil9bnVsbCE9dCYmKG4uWEUobCx0KSxoIT1jJiZyLlpFUk8uSEUodCx0KSksbi50PWwsbi5CRSgpLHU+MCYmbi5aRSh1LG4pLGg8MCYmci5aRVJPLkhFKG4sbil9fX1mdW5jdGlvbiBQKGUpe3ZhciB0PWkoKTtyZXR1cm4gdGhpcy5hYnMoKS4kRShlLG51bGwsdCksdGhpcy5UPDAmJnQuSkUoci5aRVJPKT4wJiZlLkhFKHQsdCksdH1mdW5jdGlvbiBBKGUpe3RoaXMuaD1lfWZ1bmN0aW9uIE8oZSl7cmV0dXJuIGUuVDwwfHxlLkpFKHRoaXMuaCk+PTA/ZS5ldih0aGlzLmgpOmV9ZnVuY3Rpb24gTihlKXtyZXR1cm4gZX1mdW5jdGlvbiBEKGUpe2UuJEUodGhpcy5oLG51bGwsZSl9ZnVuY3Rpb24gayhlLHQscil7ZS50dih0LHIpLHRoaXMucmVkdWNlKHIpfWZ1bmN0aW9uIEwoZSx0KXtlLnJ2KHQpLHRoaXMucmVkdWNlKHQpfWZ1bmN0aW9uIE0oKXtpZih0aGlzLnQ8MSlyZXR1cm4gMDt2YXIgZT10aGlzWzBdO2lmKDA9PSgxJmUpKXJldHVybiAwO3ZhciB0PTMmZTtyZXR1cm4gdD10KigyLSgxNSZlKSp0KSYxNSx0PXQqKDItKDI1NSZlKSp0KSYyNTUsdD10KigyLSgoNjU1MzUmZSkqdCY2NTUzNSkpJjY1NTM1LHQ9dCooMi1lKnQldGhpcy5MRSkldGhpcy5MRSx0PjA/dGhpcy5MRS10Oi10fWZ1bmN0aW9uIEYoZSl7dGhpcy5oPWUsdGhpcy5udj1lLnN2KCksdGhpcy5vdj0zMjc2NyZ0aGlzLm52LHRoaXMuYXY9dGhpcy5udj4+MTUsdGhpcy5odj0oMTw8ZS5VRS0xNSktMSx0aGlzLmN2PTIqZS50fWZ1bmN0aW9uIFUoZSl7dmFyIHQ9aSgpO3JldHVybiBlLmFicygpLnpFKHRoaXMuaC50LHQpLHQuJEUodGhpcy5oLG51bGwsdCksZS5UPDAmJnQuSkUoci5aRVJPKT4wJiZ0aGlzLmguSEUodCx0KSx0fWZ1bmN0aW9uIEIoZSl7dmFyIHQ9aSgpO3JldHVybiBlLmpFKHQpLHRoaXMucmVkdWNlKHQpLHR9ZnVuY3Rpb24gSChlKXtmb3IoO2UudDw9dGhpcy5jdjspZVtlLnQrK109MDtmb3IodmFyIHQ9MDt0PHRoaXMuaC50OysrdCl7dmFyIHI9MzI3NjcmZVt0XSxpPXIqdGhpcy5vdisoKHIqdGhpcy5hdisoZVt0XT4+MTUpKnRoaXMub3YmdGhpcy5odik8PDE1KSZlLnhFO2ZvcihyPXQrdGhpcy5oLnQsZVtyXSs9dGhpcy5oLlZFKDAsaSxlLHQsMCx0aGlzLmgudCk7ZVtyXT49ZS5MRTspZVtyXS09ZS5MRSxlWysrcl0rK31lLkJFKCksZS5YRSh0aGlzLmgudCxlKSxlLkpFKHRoaXMuaCk+PTAmJmUuSEUodGhpcy5oLGUpfWZ1bmN0aW9uIHgoZSx0KXtlLnJ2KHQpLHRoaXMucmVkdWNlKHQpfWZ1bmN0aW9uIHEoZSx0LHIpe2UudHYodCxyKSx0aGlzLnJlZHVjZShyKX1mdW5jdGlvbiBHKCl7cmV0dXJuIDA9PSh0aGlzLnQ+MD8xJnRoaXNbMF06dGhpcy5UKX1mdW5jdGlvbiBWKGUsdCl7aWYoZT40Mjk0OTY3Mjk1fHxlPDEpcmV0dXJuIHIuT05FO3ZhciBuPWkoKSxzPWkoKSxvPXQudXYodGhpcyksYT15KGUpLTE7Zm9yKG8uakUobik7LS1hPj0wOylpZih0Lmx2KG4scyksKGUmMTw8YSk+MCl0LnB2KHMsbyxuKTtlbHNle3ZhciBoPW47bj1zLHM9aH1yZXR1cm4gdC5kdihuKX1mdW5jdGlvbiBqKGUsdCl7dmFyIHI7cmV0dXJuIHI9ZTwyNTZ8fHQuZnYoKT9uZXcgQSh0KTpuZXcgRih0KSx0aGlzLmV4cChlLHIpfWZ1bmN0aW9uIFEoZSl7dmFyIHQscixpLG49XCJcIixzPTA7Zm9yKHQ9MDt0PGUubGVuZ3RoJiZlLmNoYXJBdCh0KSE9QWU7Kyt0KShpPVBlLmluZGV4T2YoZS5jaGFyQXQodCkpKTwwfHwoMD09cz8obis9YShpPj4yKSxyPTMmaSxzPTEpOjE9PXM/KG4rPWEocjw8MnxpPj40KSxyPTE1Jmkscz0yKToyPT1zPyhuKz1hKHIpLG4rPWEoaT4+Mikscj0zJmkscz0zKToobis9YShyPDwyfGk+PjQpLG4rPWEoMTUmaSkscz0wKSk7cmV0dXJuIDE9PXMmJihuKz1hKHI8PDIpKSxufWZ1bmN0aW9uIEsoZSl7dmFyIHQscj1RKGUpLGk9bmV3IEFycmF5O2Zvcih0PTA7Mip0PHIubGVuZ3RoOysrdClpW3RdPXBhcnNlSW50KHIuc3Vic3RyaW5nKDIqdCwyKnQrMiksMTYpO3JldHVybiBpfS8qISAoYykgVG9tIFd1IHwgaHR0cDovL3d3dy1jcy1zdHVkZW50cy5zdGFuZm9yZC5lZHUvfnRqdy9qc2JuL1xuICovXG5mdW5jdGlvbiBZKGUsdCl7cmV0dXJuIG5ldyByKGUsdCl9ZnVuY3Rpb24gVyhlLHQpe2lmKHQ8ZS5sZW5ndGgrMTEpcmV0dXJuIGFsZXJ0KFwiTWVzc2FnZSB0b28gbG9uZyBmb3IgUlNBXCIpLG51bGw7Zm9yKHZhciBpPW5ldyBBcnJheSxuPWUubGVuZ3RoLTE7bj49MCYmdD4wOyl7dmFyIHM9ZS5jaGFyQ29kZUF0KG4tLSk7czwxMjg/aVstLXRdPXM6cz4xMjcmJnM8MjA0OD8oaVstLXRdPTYzJnN8MTI4LGlbLS10XT1zPj42fDE5Mik6KGlbLS10XT02MyZzfDEyOCxpWy0tdF09cz4+NiY2M3wxMjgsaVstLXRdPXM+PjEyfDIyNCl9aVstLXRdPTA7Zm9yKHZhciBvPW5ldyBTZWN1cmVSYW5kb20sYT1uZXcgQXJyYXk7dD4yOyl7Zm9yKGFbMF09MDswPT1hWzBdOylvLmd2KGEpO2lbLS10XT1hWzBdfXJldHVybiBpWy0tdF09MixpWy0tdF09MCxuZXcgcihpKX1mdW5jdGlvbiB6KGUsdCxyKXtmb3IodmFyIGk9XCJcIixuPTA7aS5sZW5ndGg8dDspaSs9cihTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZyxlLmNvbmNhdChbKDQyNzgxOTAwODAmbik+PjI0LCgxNjcxMTY4MCZuKT4+MTYsKDY1MjgwJm4pPj44LDI1NSZuXSkpKSxuKz0xO3JldHVybiBpfWZ1bmN0aW9uIEooZSx0LGkpe2lmKGUubGVuZ3RoKzIqT2UrMj50KXRocm93XCJNZXNzYWdlIHRvbyBsb25nIGZvciBSU0FcIjt2YXIgbixzPVwiXCI7Zm9yKG49MDtuPHQtZS5sZW5ndGgtMipPZS0yO24rPTEpcys9XCJcXDBcIjt2YXIgbz1yc3RyX3NoYTEoXCJcIikrcytcIlx1MDAwMVwiK2UsYT1uZXcgQXJyYXkoT2UpOyhuZXcgU2VjdXJlUmFuZG9tKS5ndihhKTt2YXIgaD16KGEsby5sZW5ndGgsaXx8cnN0cl9zaGExKSxjPVtdO2ZvcihuPTA7bjxvLmxlbmd0aDtuKz0xKWNbbl09by5jaGFyQ29kZUF0KG4pXmguY2hhckNvZGVBdChuKTt2YXIgdT16KGMsYS5sZW5ndGgscnN0cl9zaGExKSxsPVswXTtmb3Iobj0wO248YS5sZW5ndGg7bis9MSlsW24rMV09YVtuXV51LmNoYXJDb2RlQXQobik7cmV0dXJuIG5ldyByKGwuY29uY2F0KGMpKX1mdW5jdGlvbiBYKCl7dGhpcy5uPW51bGwsdGhpcy5lPTAsdGhpcy5kPW51bGwsdGhpcy52PW51bGwsdGhpcy5Fdj1udWxsLHRoaXMudnY9bnVsbCx0aGlzLnl2PW51bGwsdGhpcy5Udj1udWxsfWZ1bmN0aW9uIFooZSx0KXt0aGlzLm12PSEwLFwic3RyaW5nXCIhPXR5cGVvZiBlPyh0aGlzLm49ZSx0aGlzLmU9dCk6bnVsbCE9ZSYmbnVsbCE9dCYmZS5sZW5ndGg+MCYmdC5sZW5ndGg+MD8odGhpcy5uPVkoZSwxNiksdGhpcy5lPXBhcnNlSW50KHQsMTYpKTphbGVydChcIkludmFsaWQgUlNBIHB1YmxpYyBrZXlcIil9ZnVuY3Rpb24gJChlKXtyZXR1cm4gZS5Jdih0aGlzLmUsdGhpcy5uKX1mdW5jdGlvbiBlZShlKXt2YXIgdD1XKGUsdGhpcy5uLlN2KCkrNz4+Myk7aWYobnVsbD09dClyZXR1cm4gbnVsbDt2YXIgcj10aGlzLlJ2KHQpO2lmKG51bGw9PXIpcmV0dXJuIG51bGw7dmFyIGk9ci50b1N0cmluZygxNik7cmV0dXJuIDA9PSgxJmkubGVuZ3RoKT9pOlwiMFwiK2l9ZnVuY3Rpb24gdGUoZSx0KXt2YXIgcj1KKGUsdGhpcy5uLlN2KCkrNz4+Myx0KTtpZihudWxsPT1yKXJldHVybiBudWxsO3ZhciBpPXRoaXMuUnYocik7aWYobnVsbD09aSlyZXR1cm4gbnVsbDt2YXIgbj1pLnRvU3RyaW5nKDE2KTtyZXR1cm4gMD09KDEmbi5sZW5ndGgpP246XCIwXCIrbn1mdW5jdGlvbiByZShlLHQpe2Zvcih2YXIgcj1cIlwiLGk9dC80LWUubGVuZ3RoLG49MDtuPGk7bisrKXIrPVwiMFwiO3JldHVybiByK2V9ZnVuY3Rpb24gaWUoZSx0KXt2YXIgcj1mdW5jdGlvbihlKXtyZXR1cm4gS0pVUi5jcnlwdG8uYnYud3YoZSx0KX0oZSk7cmV0dXJuIHRoaXMuQ3Yocix0KX1mdW5jdGlvbiBuZShlLHQpe3ZhciByPUtKVVIuY3J5cHRvLmJ2Ll92KGUsdCx0aGlzLm4uU3YoKSksaT1ZKHIsMTYpO3JldHVybiByZSh0aGlzLlB2KGkpLnRvU3RyaW5nKDE2KSx0aGlzLm4uU3YoKSl9ZnVuY3Rpb24gc2UoZSl7cmV0dXJuIGllLmNhbGwodGhpcyxlLFwic2hhMVwiKX1mdW5jdGlvbiBvZShlKXtyZXR1cm4gaWUuY2FsbCh0aGlzLGUsXCJzaGEyNTZcIil9ZnVuY3Rpb24gYWUoZSx0LHIpe2Zvcih2YXIgaT1cIlwiLG49MDtpLmxlbmd0aDx0OylpKz1oZXh0b3JzdHIocihyc3RydG9oZXgoZStTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZyxbKDQyNzgxOTAwODAmbik+PjI0LCgxNjcxMTY4MCZuKT4+MTYsKDY1MjgwJm4pPj44LDI1NSZuXSkpKSksbis9MTtyZXR1cm4gaX1mdW5jdGlvbiBoZShlLHQscil7dmFyIGk9ZnVuY3Rpb24oZSl7cmV0dXJuIEtKVVIuY3J5cHRvLmJ2LkF2KGUsdCl9KHJzdHJ0b2hleChlKSk7cmV0dXJuIHZvaWQgMD09PXImJihyPS0xKSx0aGlzLk92KGksdCxyKX1mdW5jdGlvbiBjZShlLHQsaSl7dmFyIG4scz1oZXh0b3JzdHIoZSksbz1zLmxlbmd0aCxhPXRoaXMubi5TdigpLTEsaD1NYXRoLmNlaWwoYS84KSxjPWZ1bmN0aW9uKGUpe3JldHVybiBLSlVSLmNyeXB0by5idi5BdihlLHQpfTtpZigtMT09PWl8fHZvaWQgMD09PWkpaT1vO2Vsc2UgaWYoLTI9PT1pKWk9aC1vLTI7ZWxzZSBpZihpPC0yKXRocm93XCJpbnZhbGlkIHNhbHQgbGVuZ3RoXCI7aWYoaDxvK2krMil0aHJvd1wiZGF0YSB0b28gbG9uZ1wiO3ZhciB1PVwiXCI7aT4wJiYodT1uZXcgQXJyYXkoaSksKG5ldyBTZWN1cmVSYW5kb20pLmd2KHUpLHU9U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsdSkpO3ZhciBsPWhleHRvcnN0cihjKHJzdHJ0b2hleChcIlxcMFxcMFxcMFxcMFxcMFxcMFxcMFxcMFwiK3MrdSkpKSxwPVtdO2ZvcihuPTA7bjxoLWktby0yO24rPTEpcFtuXT0wO3ZhciBkPVN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLHApK1wiXHUwMDAxXCIrdSxmPWFlKGwsZC5sZW5ndGgsYyksZz1bXTtmb3Iobj0wO248ZC5sZW5ndGg7bis9MSlnW25dPWQuY2hhckNvZGVBdChuKV5mLmNoYXJDb2RlQXQobik7dmFyIEU9NjUyODA+PjgqaC1hJjI1NTtmb3IoZ1swXSY9fkUsbj0wO248bztuKyspZy5wdXNoKGwuY2hhckNvZGVBdChuKSk7cmV0dXJuIGcucHVzaCgxODgpLHJlKHRoaXMuUHYobmV3IHIoZykpLnRvU3RyaW5nKDE2KSx0aGlzLm4uU3YoKSl9ZnVuY3Rpb24gdWUoZSx0LHIpe3ZhciBpPW5ldyBYO3JldHVybiBpLk52KHQsciksaS5SdihlKX1mdW5jdGlvbiBsZShlLHQscil7cmV0dXJuIHVlKGUsdCxyKS50b1N0cmluZygxNikucmVwbGFjZSgvXjFmKzAwLyxcIlwiKX1mdW5jdGlvbiBwZShlKXtmb3IodmFyIHQgaW4gS0pVUi5jcnlwdG8uYnYuRHYpe3ZhciByPUtKVVIuY3J5cHRvLmJ2LkR2W3RdLGk9ci5sZW5ndGg7aWYoZS5zdWJzdHJpbmcoMCxpKT09cil7cmV0dXJuW3QsZS5zdWJzdHJpbmcoaSldfX1yZXR1cm5bXX1mdW5jdGlvbiBkZShlLHQscixpKXt2YXIgbj1sZSh0LHIsaSkscz1wZShuKTtpZigwPT1zLmxlbmd0aClyZXR1cm4hMTt2YXIgbz1zWzBdLGE9c1sxXTtyZXR1cm4gYT09ZnVuY3Rpb24oZSl7cmV0dXJuIEtKVVIuY3J5cHRvLmJ2Lnd2KGUsbyl9KGUpfWZ1bmN0aW9uIGZlKGUsdCl7cmV0dXJuIGRlKHQsWShlLDE2KSx0aGlzLm4udG9TdHJpbmcoMTYpLHRoaXMuZS50b1N0cmluZygxNikpfWZ1bmN0aW9uIGdlKGUsdCl7dD10LnJlcGxhY2UoTmUsXCJcIiksdD10LnJlcGxhY2UoL1sgXFxuXSsvZyxcIlwiKTt2YXIgcj1ZKHQsMTYpO2lmKHIuU3YoKT50aGlzLm4uU3YoKSlyZXR1cm4gMDt2YXIgaT10aGlzLlJ2KHIpLG49aS50b1N0cmluZygxNikucmVwbGFjZSgvXjFmKzAwLyxcIlwiKSxzPXBlKG4pO2lmKDA9PXMubGVuZ3RoKXJldHVybiExO3ZhciBvPXNbMF0sYT1zWzFdO3JldHVybiBhPT1mdW5jdGlvbihlKXtyZXR1cm4gS0pVUi5jcnlwdG8uYnYud3YoZSxvKX0oZSl9ZnVuY3Rpb24gRWUoZSx0KXt0PXQucmVwbGFjZShOZSxcIlwiKSx0PXQucmVwbGFjZSgvWyBcXG5dKy9nLFwiXCIpO3ZhciByPVkodCwxNik7aWYoci5TdigpPnRoaXMubi5TdigpKXJldHVybiAwO3ZhciBpPXRoaXMuUnYociksbj1pLnRvU3RyaW5nKDE2KS5yZXBsYWNlKC9eMWYrMDAvLFwiXCIpLHM9cGUobik7aWYoMD09cy5sZW5ndGgpcmV0dXJuITE7c1swXTtyZXR1cm4gc1sxXT09ZX1mdW5jdGlvbiB2ZShlLHQscixpKXt2YXIgbj1mdW5jdGlvbihlKXtyZXR1cm4gS0pVUi5jcnlwdG8uYnYuQXYoZSxyKX0ocnN0cnRvaGV4KGUpKTtyZXR1cm4gdm9pZCAwPT09aSYmKGk9LTEpLHRoaXMua3Yobix0LHIsaSl9ZnVuY3Rpb24geWUoZSx0LGksbil7dmFyIHM9bmV3IHIodCwxNik7aWYocy5TdigpPnRoaXMubi5TdigpKXJldHVybiExO3ZhciBvLGE9ZnVuY3Rpb24oZSl7cmV0dXJuIEtKVVIuY3J5cHRvLmJ2LkF2KGUsaSl9LGg9aGV4dG9yc3RyKGUpLGM9aC5sZW5ndGgsdT10aGlzLm4uU3YoKS0xLGw9TWF0aC5jZWlsKHUvOCk7aWYoLTE9PT1ufHx2b2lkIDA9PT1uKW49YztlbHNlIGlmKC0yPT09biluPWwtYy0yO2Vsc2UgaWYobjwtMil0aHJvd1wiaW52YWxpZCBzYWx0IGxlbmd0aFwiO2lmKGw8YytuKzIpdGhyb3dcImRhdGEgdG9vIGxvbmdcIjt2YXIgcD10aGlzLlJ2KHMpLkx2KCk7Zm9yKG89MDtvPHAubGVuZ3RoO28rPTEpcFtvXSY9MjU1O2Zvcig7cC5sZW5ndGg8bDspcC51bnNoaWZ0KDApO2lmKDE4OCE9PXBbbC0xXSl0aHJvd1wiZW5jb2RlZCBtZXNzYWdlIGRvZXMgbm90IGVuZCBpbiAweGJjXCI7cD1TdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZyxwKTt2YXIgZD1wLnN1YnN0cigwLGwtYy0xKSxmPXAuc3Vic3RyKGQubGVuZ3RoLGMpLGc9NjUyODA+PjgqbC11JjI1NTtpZigwIT0oZC5jaGFyQ29kZUF0KDApJmcpKXRocm93XCJiaXRzIGJleW9uZCBrZXlzaXplIG5vdCB6ZXJvXCI7dmFyIEU9YWUoZixkLmxlbmd0aCxhKSx2PVtdO2ZvcihvPTA7bzxkLmxlbmd0aDtvKz0xKXZbb109ZC5jaGFyQ29kZUF0KG8pXkUuY2hhckNvZGVBdChvKTt2WzBdJj1+Zzt2YXIgeT1sLWMtbi0yO2ZvcihvPTA7bzx5O28rPTEpaWYoMCE9PXZbb10pdGhyb3dcImxlZnRtb3N0IG9jdGV0cyBub3QgemVyb1wiO2lmKDEhPT12W3ldKXRocm93XCIweDAxIG1hcmtlciBub3QgZm91bmRcIjtyZXR1cm4gZj09PWhleHRvcnN0cihhKHJzdHJ0b2hleChcIlxcMFxcMFxcMFxcMFxcMFxcMFxcMFxcMFwiK2grU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsdi5zbGljZSgtbikpKSkpfXZhciBUZT17fTtUZS51c2VyQWdlbnQ9ITE7dmFyIG1lPXt9O2lmKHZvaWQgMD09PUllfHwhSWUpdmFyIEllPXt9O0llLk12PWZ1bmN0aW9uKCl7dmFyIGUsdCxyLGk9YXJndW1lbnRzLG49bnVsbDtmb3IoZT0wO2U8aS5sZW5ndGg7ZSs9MSlmb3Iocj0oXCJcIitpW2VdKS5zcGxpdChcIi5cIiksbj1JZSx0PVwiWUFIT09cIj09clswXT8xOjA7dDxyLmxlbmd0aDt0Kz0xKW5bclt0XV09bltyW3RdXXx8e30sbj1uW3JbdF1dO3JldHVybiBufSxJZS5sb2c9ZnVuY3Rpb24oZSx0LHIpe3ZhciBpPUllLlV2LkZ2O3JldHVybiEoIWl8fCFpLmxvZykmJmkubG9nKGUsdCxyKX0sSWUucmVnaXN0ZXI9ZnVuY3Rpb24oZSx0LHIpe3ZhciBpLG4scyxvLGEsaD1JZS5Ncy5Cdjtmb3IoaFtlXXx8KGhbZV09e0h2OltdLHh2OltdfSksaT1oW2VdLG49ci52ZXJzaW9uLHM9ci5YZyxvPUllLk1zLnZsLGkubmFtZT1lLGkudmVyc2lvbj1uLGkuWGc9cyxpLkh2LnB1c2gobiksaS54di5wdXNoKHMpLGkucXY9dCxhPTA7YTxvLmxlbmd0aDthKz0xKW9bYV0oaSk7dD8odC5WRVJTSU9OPW4sdC5Hdj1zKTpJZS5sb2coXCJtYWluQ2xhc3MgaXMgdW5kZWZpbmVkIGZvciBtb2R1bGUgXCIrZSxcIndhcm5cIil9LEllLk1zPUllLk1zfHx7QnY6W10sdmw6W119LEllLk1zLmdldFZlcnNpb249ZnVuY3Rpb24oZSl7cmV0dXJuIEllLk1zLkJ2W2VdfHxudWxsfSxJZS5Ncy5Wdj1mdW5jdGlvbihlKXt2YXIgdCxyPWZ1bmN0aW9uKGUpe3ZhciB0PTA7cmV0dXJuIHBhcnNlRmxvYXQoZS5yZXBsYWNlKC9cXC4vZyxmdW5jdGlvbigpe3JldHVybiAxPT10Kys/XCJcIjpcIi5cIn0pKX0saT1UZSxuPXtqdjowLG9wZXJhOjAsUXY6MCxLdjowLGNocm9tZTowLFl2Om51bGwsV3Y6MCx6djowLEp2OjAsWHY6MCxadjpudWxsLCR2OjAsZXk6MCx0eTppJiZpLml5LG55OiExLG9zOm51bGx9LHM9ZXx8VGUmJlRlLnVzZXJBZ2VudCxvPW1lJiZtZS5sb2NhdGlvbixhPW8mJm8uaHJlZjtyZXR1cm4gbi5ueT1hJiYwPT09YS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoXCJodHRwc1wiKSxzJiYoL3dpbmRvd3N8d2luMzIvaS50ZXN0KHMpP24ub3M9XCJ3aW5kb3dzXCI6L21hY2ludG9zaC9pLnRlc3Qocyk/bi5vcz1cIm1hY2ludG9zaFwiOi9yaGluby9pLnRlc3QocykmJihuLm9zPVwicmhpbm9cIiksL0tIVE1MLy50ZXN0KHMpJiYobi5Ldj0xKSx0PXMubWF0Y2goL0FwcGxlV2ViS2l0XFwvKFteXFxzXSopLyksdCYmdFsxXSYmKG4uS3Y9cih0WzFdKSwvIE1vYmlsZVxcLy8udGVzdChzKT8obi5Zdj1cIkFwcGxlXCIsdD1zLm1hdGNoKC9PUyAoW15cXHNdKikvKSx0JiZ0WzFdJiYodD1yKHRbMV0ucmVwbGFjZShcIl9cIixcIi5cIikpKSxuLlp2PXQsbi56dj1uLlh2PW4uSnY9MCwodD1zLm1hdGNoKC9pUGFkfGlQb2R8aVBob25lLykpJiZ0WzBdJiYoblt0WzBdLnRvTG93ZXJDYXNlKCldPW4uWnYpKToodD1zLm1hdGNoKC9Ob2tpYU5bXlxcL10qfEFuZHJvaWQgXFxkXFwuXFxkfHdlYk9TXFwvXFxkXFwuXFxkLyksdCYmKG4uWXY9dFswXSksL3dlYk9TLy50ZXN0KHMpJiYobi5Zdj1cIldlYk9TXCIsKHQ9cy5tYXRjaCgvd2ViT1NcXC8oW15cXHNdKik7LykpJiZ0WzFdJiYobi5leT1yKHRbMV0pKSksLyBBbmRyb2lkLy50ZXN0KHMpJiYobi5Zdj1cIkFuZHJvaWRcIiwodD1zLm1hdGNoKC9BbmRyb2lkIChbXlxcc10qKTsvKSkmJnRbMV0mJihuLiR2PXIodFsxXSkpKSksdD1zLm1hdGNoKC9DaHJvbWVcXC8oW15cXHNdKikvKSx0JiZ0WzFdP24uY2hyb21lPXIodFsxXSk6KHQ9cy5tYXRjaCgvQWRvYmVBSVJcXC8oW15cXHNdKikvKSkmJihuLld2PXRbMF0pKSxuLkt2fHwodD1zLm1hdGNoKC9PcGVyYVtcXHNcXC9dKFteXFxzXSopLyksdCYmdFsxXT8obi5vcGVyYT1yKHRbMV0pLHQ9cy5tYXRjaCgvVmVyc2lvblxcLyhbXlxcc10qKS8pLHQmJnRbMV0mJihuLm9wZXJhPXIodFsxXSkpLCh0PXMubWF0Y2goL09wZXJhIE1pbmlbXjtdKi8pKSYmKG4uWXY9dFswXSkpOih0PXMubWF0Y2goL01TSUVcXHMoW147XSopLyksdCYmdFsxXT9uLmp2PXIodFsxXSk6KHQ9cy5tYXRjaCgvR2Vja29cXC8oW15cXHNdKikvKSkmJihuLlF2PTEsKHQ9cy5tYXRjaCgvcnY6KFteXFxzXFwpXSopLykpJiZ0WzFdJiYobi5Rdj1yKHRbMV0pKSkpKSksbn0sSWUuTXMuc3k9SWUuTXMuVnYoKSxmdW5jdGlvbigpe2lmKEllLk12KFwidXRpbFwiLFwid2lkZ2V0XCIsXCJleGFtcGxlXCIpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBZQUhPT19jb25maWcpe3ZhciBlLHQ9WUFIT09fY29uZmlnLmxpc3RlbmVyLHI9SWUuTXMudmwsaT0hMDtpZih0KXtmb3IoZT0wO2U8ci5sZW5ndGg7ZSsrKWlmKHJbZV09PXQpe2k9ITE7YnJlYWt9aSYmci5wdXNoKHQpfX19KCksSWUubGFuZz1JZS5sYW5nfHx7fSxmdW5jdGlvbigpe3ZhciBlPUllLmxhbmcsdD1PYmplY3QucHJvdG90eXBlLHI9W10saT17b3k6XCImYW1wO1wiLGF5OlwiJmx0O1wiLGh5OlwiJmd0O1wiLHV5OlwiJnF1b3Q7XCIsbHk6XCImI3gyNztcIixweTpcIiYjeDJGO1wiLGd5OlwiJiN4NjA7XCJ9LG49W1widG9TdHJpbmdcIixcInZhbHVlT2ZcIl0scz17aXNBcnJheTpmdW5jdGlvbihlKXtyZXR1cm5cIltvYmplY3QgQXJyYXldXCI9PT10LnRvU3RyaW5nLmFwcGx5KGUpfSxFeTpmdW5jdGlvbihlKXtyZXR1cm5cImJvb2xlYW5cIj09dHlwZW9mIGV9LHZ5OmZ1bmN0aW9uKGUpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIGV8fFwiW29iamVjdCBGdW5jdGlvbl1cIj09PXQudG9TdHJpbmcuYXBwbHkoZSl9LHl5OmZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT09ZX0sVHk6ZnVuY3Rpb24oZSl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIGUmJmlzRmluaXRlKGUpfSxhdTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmKFwib2JqZWN0XCI9PXR5cGVvZiB0fHxlLnZ5KHQpKXx8ITF9LG15OmZ1bmN0aW9uKGUpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlfSxJeTpmdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwPT09ZX0sU3k6SWUuTXMuc3kuanY/ZnVuY3Rpb24ocixpKXt2YXIgcyxvLGE7Zm9yKHM9MDtzPG4ubGVuZ3RoO3MrPTEpbz1uW3NdLGE9aVtvXSxlLnZ5KGEpJiZhIT10W29dJiYocltvXT1hKX06ZnVuY3Rpb24oKXt9LFJ5OmZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoL1smPD5cIidcXC9gXS9nLGZ1bmN0aW9uKGUpe3JldHVybiBpW2VdfSl9LGV4dGVuZDpmdW5jdGlvbihyLGksbil7aWYoIWl8fCFyKXRocm93IG5ldyBFcnJvcihcImV4dGVuZCBmYWlsZWQsIHBsZWFzZSBjaGVjayB0aGF0IGFsbCBkZXBlbmRlbmNpZXMgYXJlIGluY2x1ZGVkLlwiKTt2YXIgcyxvPWZ1bmN0aW9uKCl7fTtpZihvLnByb3RvdHlwZT1pLnByb3RvdHlwZSxyLnByb3RvdHlwZT1uZXcgbyxyLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1yLHIud3k9aS5wcm90b3R5cGUsaS5wcm90b3R5cGUuY29uc3RydWN0b3I9PXQuY29uc3RydWN0b3ImJihpLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1pKSxuKXtmb3IocyBpbiBuKWUuaGFzT3duUHJvcGVydHkobixzKSYmKHIucHJvdG90eXBlW3NdPW5bc10pO2UuU3koci5wcm90b3R5cGUsbil9fSxieTpmdW5jdGlvbih0LHIpe2lmKCFyfHwhdCl0aHJvdyBuZXcgRXJyb3IoXCJBYnNvcmIgZmFpbGVkLCB2ZXJpZnkgZGVwZW5kZW5jaWVzLlwiKTt2YXIgaSxuLHM9YXJndW1lbnRzLG89c1syXTtpZihvJiYhMCE9PW8pZm9yKGk9MjtpPHMubGVuZ3RoO2krPTEpdFtzW2ldXT1yW3NbaV1dO2Vsc2V7Zm9yKG4gaW4gcikhbyYmbiBpbiB0fHwodFtuXT1yW25dKTtlLlN5KHQscil9cmV0dXJuIHR9LEN5OmZ1bmN0aW9uKHQscil7aWYoIXJ8fCF0KXRocm93IG5ldyBFcnJvcihcIkF1Z21lbnQgZmFpbGVkLCB2ZXJpZnkgZGVwZW5kZW5jaWVzLlwiKTt2YXIgaSxuPVt0LnByb3RvdHlwZSxyLnByb3RvdHlwZV07Zm9yKGk9MjtpPGFyZ3VtZW50cy5sZW5ndGg7aSs9MSluLnB1c2goYXJndW1lbnRzW2ldKTtyZXR1cm4gZS5ieS5hcHBseSh0aGlzLG4pLHR9LGR1bXA6ZnVuY3Rpb24odCxyKXt2YXIgaSxuLHM9W10sbz1cInsuLi59XCI7aWYoIWUuYXUodCkpcmV0dXJuIHQrXCJcIjtpZih0IGluc3RhbmNlb2YgRGF0ZXx8XCJub2RlVHlwZVwiaW4gdCYmXCJ0YWdOYW1lXCJpbiB0KXJldHVybiB0O2lmKGUudnkodCkpcmV0dXJuXCJmKCl7Li4ufVwiO2lmKHI9ZS5UeShyKT9yOjMsZS5pc0FycmF5KHQpKXtmb3Iocy5wdXNoKFwiW1wiKSxpPTAsbj10Lmxlbmd0aDtpPG47aSs9MSllLmF1KHRbaV0pP3MucHVzaChyPjA/ZS5kdW1wKHRbaV0sci0xKTpvKTpzLnB1c2godFtpXSkscy5wdXNoKFwiLCBcIik7cy5sZW5ndGg+MSYmcy5wb3AoKSxzLnB1c2goXCJdXCIpfWVsc2V7cy5wdXNoKFwie1wiKTtmb3IoaSBpbiB0KWUuaGFzT3duUHJvcGVydHkodCxpKSYmKHMucHVzaChpK1wiID0+IFwiKSxlLmF1KHRbaV0pP3MucHVzaChyPjA/ZS5kdW1wKHRbaV0sci0xKTpvKTpzLnB1c2godFtpXSkscy5wdXNoKFwiLCBcIikpO3MubGVuZ3RoPjEmJnMucG9wKCkscy5wdXNoKFwifVwiKX1yZXR1cm4gcy5qb2luKFwiXCIpfSxfeTpmdW5jdGlvbih0LHIsaSxuKXtmb3IodmFyIHMsbyxhLGgsYyx1LGwscCxkLGY9W10sZz10Lmxlbmd0aDshKChzPXQubGFzdEluZGV4T2YoXCJ7XCIsZykpPDApJiYobz10LmluZGV4T2YoXCJ9XCIscyksIShzKzE+bykpOylsPXQuc3Vic3RyaW5nKHMrMSxvKSxoPWwsdT1udWxsLGE9aC5pbmRleE9mKFwiIFwiKSxhPi0xJiYodT1oLnN1YnN0cmluZyhhKzEpLGg9aC5zdWJzdHJpbmcoMCxhKSksYz1yW2hdLGkmJihjPWkoaCxjLHUpKSxlLmF1KGMpP2UuaXNBcnJheShjKT9jPWUuZHVtcChjLHBhcnNlSW50KHUsMTApKToodT11fHxcIlwiLHA9dS5pbmRleE9mKFwiZHVtcFwiKSxwPi0xJiYodT11LnN1YnN0cmluZyg0KSksZD1jLnRvU3RyaW5nKCksYz1cIltvYmplY3QgT2JqZWN0XVwiPT09ZHx8cD4tMT9lLmR1bXAoYyxwYXJzZUludCh1LDEwKSk6ZCk6ZS5teShjKXx8ZS5UeShjKXx8KGM9XCJ+LVwiK2YubGVuZ3RoK1wiLX5cIixmW2YubGVuZ3RoXT1sKSx0PXQuc3Vic3RyaW5nKDAscykrYyt0LnN1YnN0cmluZyhvKzEpLCExPT09biYmKGc9cy0xKTtmb3Iocz1mLmxlbmd0aC0xO3M+PTA7cy09MSl0PXQucmVwbGFjZShuZXcgUmVnRXhwKFwifi1cIitzK1wiLX5cIiksXCJ7XCIrZltzXStcIn1cIixcImdcIik7cmV0dXJuIHR9LHRyaW06ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiBlLnJlcGxhY2UoL15cXHMrfFxccyskL2csXCJcIil9Y2F0Y2godCl7cmV0dXJuIGV9fSxQeTpmdW5jdGlvbigpe3ZhciB0LHI9e30saT1hcmd1bWVudHMsbj1pLmxlbmd0aDtmb3IodD0wO3Q8bjt0Kz0xKWUuYnkocixpW3RdLCEwKTtyZXR1cm4gcn0sQXk6ZnVuY3Rpb24odCxpLG4scyxvKXt0PXR8fDAsaT1pfHx7fTt2YXIgYSxoLGM9bix1PXM7aWYoZS5teShuKSYmKGM9aVtuXSksIWMpdGhyb3cgbmV3IFR5cGVFcnJvcihcIm1ldGhvZCB1bmRlZmluZWRcIik7cmV0dXJuIGUuSXkocyl8fGUuaXNBcnJheSh1KXx8KHU9W3NdKSxhPWZ1bmN0aW9uKCl7Yy5hcHBseShpLHV8fHIpfSxoPW8/c2V0SW50ZXJ2YWwoYSx0KTpzZXRUaW1lb3V0KGEsdCkse2ludGVydmFsOm8sY2FuY2VsOmZ1bmN0aW9uKCl7dGhpcy5pbnRlcnZhbD9jbGVhckludGVydmFsKGgpOmNsZWFyVGltZW91dChoKX19fSxPeTpmdW5jdGlvbih0KXtyZXR1cm4gZS5hdSh0KXx8ZS5teSh0KXx8ZS5UeSh0KXx8ZS5FeSh0KX19O2UuaGFzT3duUHJvcGVydHk9dC5oYXNPd25Qcm9wZXJ0eT9mdW5jdGlvbihlLHQpe3JldHVybiBlJiZlLmhhc093blByb3BlcnR5JiZlLmhhc093blByb3BlcnR5KHQpfTpmdW5jdGlvbih0LHIpe3JldHVybiFlLkl5KHRbcl0pJiZ0LmNvbnN0cnVjdG9yLnByb3RvdHlwZVtyXSE9PXRbcl19LHMuYnkoZSxzLCEwKSxJZS51dGlsLkxhbmc9ZSxlLk55PWUuQ3ksSWUuTnk9ZS5DeSxJZS5leHRlbmQ9ZS5leHRlbmR9KCksSWUucmVnaXN0ZXIoXCJ5YWhvb1wiLEllLHt2ZXJzaW9uOlwiMi45LjBcIixYZzpcIjI4MDBcIn0pOy8qISBDcnlwdG9KUyB2My4xLjIgY29yZS1maXguanNcbiAqIGNvZGUuZ29vZ2xlLmNvbS9wL2NyeXB0by1qc1xuICogKGMpIDIwMDktMjAxMyBieSBKZWZmIE1vdHQuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBjb2RlLmdvb2dsZS5jb20vcC9jcnlwdG8tanMvd2lraS9MaWNlbnNlXG4gKiBUSElTIElTIEZJWCBvZiAnY29yZS5qcycgdG8gZml4IEhtYWMgaXNzdWUuXG4gKiBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2NyeXB0by1qcy9pc3N1ZXMvZGV0YWlsP2lkPTg0XG4gKiBodHRwczovL2NyeXB0by1qcy5nb29nbGVjb2RlLmNvbS9zdm4taGlzdG9yeS9yNjY3L2JyYW5jaGVzLzMueC9zcmMvY29yZS5qc1xuICovXG52YXIgU2U9U2V8fGZ1bmN0aW9uKGUsdCl7dmFyIHI9e30saT1yLkZnPXt9LG49aS5EeT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJue2V4dGVuZDpmdW5jdGlvbih0KXtlLnByb3RvdHlwZT10aGlzO3ZhciByPW5ldyBlO3JldHVybiB0JiZyLmt5KHQpLHIuaGFzT3duUHJvcGVydHkoXCJpbml0XCIpfHwoci5pbml0PWZ1bmN0aW9uKCl7ci5MeS5pbml0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pLHIuaW5pdC5wcm90b3R5cGU9cixyLkx5PXRoaXMscn0sY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5leHRlbmQoKTtyZXR1cm4gZS5pbml0LmFwcGx5KGUsYXJndW1lbnRzKSxlfSxpbml0OmZ1bmN0aW9uKCl7fSxreTpmdW5jdGlvbihlKXtmb3IodmFyIHQgaW4gZSllLmhhc093blByb3BlcnR5KHQpJiYodGhpc1t0XT1lW3RdKTtlLmhhc093blByb3BlcnR5KFwidG9TdHJpbmdcIikmJih0aGlzLnRvU3RyaW5nPWUudG9TdHJpbmcpfSxjbG9uZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmluaXQucHJvdG90eXBlLmV4dGVuZCh0aGlzKX19fSgpLHM9aS5NZz1uLmV4dGVuZCh7aW5pdDpmdW5jdGlvbihlLHQpe2U9dGhpcy5NeT1lfHxbXSx0aGlzLkZ5PXZvaWQgMCE9dD90OjQqZS5sZW5ndGh9LHRvU3RyaW5nOmZ1bmN0aW9uKGUpe3JldHVybihlfHxhKS5zdHJpbmdpZnkodGhpcyl9LGNvbmNhdDpmdW5jdGlvbihlKXt2YXIgdD10aGlzLk15LHI9ZS5NeSxpPXRoaXMuRnksbj1lLkZ5O2lmKHRoaXMuQkUoKSxpJTQpZm9yKHZhciBzPTA7czxuO3MrKyl7dmFyIG89cltzPj4+Ml0+Pj4yNC1zJTQqOCYyNTU7dFtpK3M+Pj4yXXw9bzw8MjQtKGkrcyklNCo4fWVsc2UgZm9yKHZhciBzPTA7czxuO3MrPTQpdFtpK3M+Pj4yXT1yW3M+Pj4yXTtyZXR1cm4gdGhpcy5GeSs9bix0aGlzfSxCRTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuTXkscj10aGlzLkZ5O3Rbcj4+PjJdJj00Mjk0OTY3Mjk1PDwzMi1yJTQqOCx0Lmxlbmd0aD1lLmNlaWwoci80KX0sY2xvbmU6ZnVuY3Rpb24oKXt2YXIgZT1uLmNsb25lLmNhbGwodGhpcyk7cmV0dXJuIGUuTXk9dGhpcy5NeS5zbGljZSgwKSxlfSxyYW5kb206ZnVuY3Rpb24odCl7Zm9yKHZhciByPVtdLGk9MDtpPHQ7aSs9NClyLnB1c2goNDI5NDk2NzI5NiplLnJhbmRvbSgpfDApO3JldHVybiBuZXcgcy5pbml0KHIsdCl9fSksbz1yLlV5PXt9LGE9by5CeT17c3RyaW5naWZ5OmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1lLk15LHI9ZS5GeSxpPVtdLG49MDtuPHI7bisrKXt2YXIgcz10W24+Pj4yXT4+PjI0LW4lNCo4JjI1NTtpLnB1c2goKHM+Pj40KS50b1N0cmluZygxNikpLGkucHVzaCgoMTUmcykudG9TdHJpbmcoMTYpKX1yZXR1cm4gaS5qb2luKFwiXCIpfSxwYXJzZTpmdW5jdGlvbihlKXtmb3IodmFyIHQ9ZS5sZW5ndGgscj1bXSxpPTA7aTx0O2krPTIpcltpPj4+M118PXBhcnNlSW50KGUuc3Vic3RyKGksMiksMTYpPDwyNC1pJTgqNDtyZXR1cm4gbmV3IHMuaW5pdChyLHQvMil9fSxoPW8uSHk9e3N0cmluZ2lmeTpmdW5jdGlvbihlKXtmb3IodmFyIHQ9ZS5NeSxyPWUuRnksaT1bXSxuPTA7bjxyO24rKyl7dmFyIHM9dFtuPj4+Ml0+Pj4yNC1uJTQqOCYyNTU7aS5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUocykpfXJldHVybiBpLmpvaW4oXCJcIil9LHBhcnNlOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1lLmxlbmd0aCxyPVtdLGk9MDtpPHQ7aSsrKXJbaT4+PjJdfD0oMjU1JmUuY2hhckNvZGVBdChpKSk8PDI0LWklNCo4O3JldHVybiBuZXcgcy5pbml0KHIsdCl9fSxjPW8ueHk9e3N0cmluZ2lmeTpmdW5jdGlvbihlKXt0cnl7cmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChlc2NhcGUoaC5zdHJpbmdpZnkoZSkpKX1jYXRjaChlKXt0aHJvdyBuZXcgRXJyb3IoXCJNYWxmb3JtZWQgVVRGLTggZGF0YVwiKX19LHBhcnNlOmZ1bmN0aW9uKGUpe3JldHVybiBoLnBhcnNlKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChlKSkpfX0sdT1pLnF5PW4uZXh0ZW5kKHtyZXNldDpmdW5jdGlvbigpe3RoaXMuR3k9bmV3IHMuaW5pdCx0aGlzLlZ5PTB9LGp5OmZ1bmN0aW9uKGUpe1wic3RyaW5nXCI9PXR5cGVvZiBlJiYoZT1jLnBhcnNlKGUpKSx0aGlzLkd5LmNvbmNhdChlKSx0aGlzLlZ5Kz1lLkZ5fSxReTpmdW5jdGlvbih0KXt2YXIgcj10aGlzLkd5LGk9ci5NeSxuPXIuRnksbz10aGlzLkt5LGE9NCpvLGg9bi9hO2g9dD9lLmNlaWwoaCk6ZS5tYXgoKDB8aCktdGhpcy5ZeSwwKTt2YXIgYz1oKm8sdT1lLm1pbig0KmMsbik7aWYoYyl7Zm9yKHZhciBsPTA7bDxjO2wrPW8pdGhpcy5XeShpLGwpO3ZhciBwPWkuc3BsaWNlKDAsYyk7ci5GeS09dX1yZXR1cm4gbmV3IHMuaW5pdChwLHUpfSxjbG9uZTpmdW5jdGlvbigpe3ZhciBlPW4uY2xvbmUuY2FsbCh0aGlzKTtyZXR1cm4gZS5HeT10aGlzLkd5LmNsb25lKCksZX0sWXk6MH0pLGw9KGkuenk9dS5leHRlbmQoe0p5Om4uZXh0ZW5kKCksaW5pdDpmdW5jdGlvbihlKXt0aGlzLkp5PXRoaXMuSnkuZXh0ZW5kKGUpLHRoaXMucmVzZXQoKX0scmVzZXQ6ZnVuY3Rpb24oKXt1LnJlc2V0LmNhbGwodGhpcyksdGhpcy5YeSgpfSx1cGRhdGU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuankoZSksdGhpcy5ReSgpLHRoaXN9LFp5OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZ0aGlzLmp5KGUpLHRoaXMuJHkoKX0sS3k6MTYsZVQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQscil7cmV0dXJuIG5ldyBlLmluaXQocikuWnkodCl9fSx0VDpmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxyKXtyZXR1cm4gbmV3IGwuclQuaW5pdChlLHIpLlp5KHQpfX19KSxyLmlUPXt9KTtyZXR1cm4gcn0oTWF0aCk7IWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSx0LHIsaSxuLHMsbyl7cmV0dXJuKChlPWUrKHQmcnx+dCZpKStuK28pPDxzfGU+Pj4zMi1zKSt0fWZ1bmN0aW9uIHIoZSx0LHIsaSxuLHMsbyl7cmV0dXJuKChlPWUrKHQmaXxyJn5pKStuK28pPDxzfGU+Pj4zMi1zKSt0fWZ1bmN0aW9uIGkoZSx0LHIsaSxuLHMsbyl7cmV0dXJuKChlPWUrKHRecl5pKStuK28pPDxzfGU+Pj4zMi1zKSt0fWZ1bmN0aW9uIG4oZSx0LHIsaSxuLHMsbyl7cmV0dXJuKChlPWUrKHJeKHR8fmkpKStuK28pPDxzfGU+Pj4zMi1zKSt0fWZvcih2YXIgcz1TZSxvPXMuRmcsYT1vLk1nLGg9by56eSxvPXMuaVQsYz1bXSx1PTA7NjQ+dTt1KyspY1t1XT00Mjk0OTY3Mjk2KmUuYWJzKGUuc2luKHUrMSkpfDA7bz1vLlVnPWguZXh0ZW5kKHtYeTpmdW5jdGlvbigpe3RoaXMublQ9bmV3IGEuaW5pdChbMTczMjU4NDE5Myw0MDIzMjMzNDE3LDI1NjIzODMxMDIsMjcxNzMzODc4XSl9LFd5OmZ1bmN0aW9uKGUscyl7Zm9yKHZhciBvPTA7MTY+bztvKyspe3ZhciBhPXMrbyxoPWVbYV07ZVthXT0xNjcxMTkzNSYoaDw8OHxoPj4+MjQpfDQyNzgyNTUzNjAmKGg8PDI0fGg+Pj44KX12YXIgbz10aGlzLm5ULk15LGE9ZVtzKzBdLGg9ZVtzKzFdLHU9ZVtzKzJdLGw9ZVtzKzNdLHA9ZVtzKzRdLGQ9ZVtzKzVdLGY9ZVtzKzZdLGc9ZVtzKzddLEU9ZVtzKzhdLHY9ZVtzKzldLHk9ZVtzKzEwXSxUPWVbcysxMV0sbT1lW3MrMTJdLEk9ZVtzKzEzXSxTPWVbcysxNF0sUj1lW3MrMTVdLHc9b1swXSxiPW9bMV0sQz1vWzJdLF89b1szXSx3PXQodyxiLEMsXyxhLDcsY1swXSksXz10KF8sdyxiLEMsaCwxMixjWzFdKSxDPXQoQyxfLHcsYix1LDE3LGNbMl0pLGI9dChiLEMsXyx3LGwsMjIsY1szXSksdz10KHcsYixDLF8scCw3LGNbNF0pLF89dChfLHcsYixDLGQsMTIsY1s1XSksQz10KEMsXyx3LGIsZiwxNyxjWzZdKSxiPXQoYixDLF8sdyxnLDIyLGNbN10pLHc9dCh3LGIsQyxfLEUsNyxjWzhdKSxfPXQoXyx3LGIsQyx2LDEyLGNbOV0pLEM9dChDLF8sdyxiLHksMTcsY1sxMF0pLGI9dChiLEMsXyx3LFQsMjIsY1sxMV0pLHc9dCh3LGIsQyxfLG0sNyxjWzEyXSksXz10KF8sdyxiLEMsSSwxMixjWzEzXSksQz10KEMsXyx3LGIsUywxNyxjWzE0XSksYj10KGIsQyxfLHcsUiwyMixjWzE1XSksdz1yKHcsYixDLF8saCw1LGNbMTZdKSxfPXIoXyx3LGIsQyxmLDksY1sxN10pLEM9cihDLF8sdyxiLFQsMTQsY1sxOF0pLGI9cihiLEMsXyx3LGEsMjAsY1sxOV0pLHc9cih3LGIsQyxfLGQsNSxjWzIwXSksXz1yKF8sdyxiLEMseSw5LGNbMjFdKSxDPXIoQyxfLHcsYixSLDE0LGNbMjJdKSxiPXIoYixDLF8sdyxwLDIwLGNbMjNdKSx3PXIodyxiLEMsXyx2LDUsY1syNF0pLF89cihfLHcsYixDLFMsOSxjWzI1XSksQz1yKEMsXyx3LGIsbCwxNCxjWzI2XSksYj1yKGIsQyxfLHcsRSwyMCxjWzI3XSksdz1yKHcsYixDLF8sSSw1LGNbMjhdKSxfPXIoXyx3LGIsQyx1LDksY1syOV0pLEM9cihDLF8sdyxiLGcsMTQsY1szMF0pLGI9cihiLEMsXyx3LG0sMjAsY1szMV0pLHc9aSh3LGIsQyxfLGQsNCxjWzMyXSksXz1pKF8sdyxiLEMsRSwxMSxjWzMzXSksQz1pKEMsXyx3LGIsVCwxNixjWzM0XSksYj1pKGIsQyxfLHcsUywyMyxjWzM1XSksdz1pKHcsYixDLF8saCw0LGNbMzZdKSxfPWkoXyx3LGIsQyxwLDExLGNbMzddKSxDPWkoQyxfLHcsYixnLDE2LGNbMzhdKSxiPWkoYixDLF8sdyx5LDIzLGNbMzldKSx3PWkodyxiLEMsXyxJLDQsY1s0MF0pLF89aShfLHcsYixDLGEsMTEsY1s0MV0pLEM9aShDLF8sdyxiLGwsMTYsY1s0Ml0pLGI9aShiLEMsXyx3LGYsMjMsY1s0M10pLHc9aSh3LGIsQyxfLHYsNCxjWzQ0XSksXz1pKF8sdyxiLEMsbSwxMSxjWzQ1XSksQz1pKEMsXyx3LGIsUiwxNixjWzQ2XSksYj1pKGIsQyxfLHcsdSwyMyxjWzQ3XSksdz1uKHcsYixDLF8sYSw2LGNbNDhdKSxfPW4oXyx3LGIsQyxnLDEwLGNbNDldKSxDPW4oQyxfLHcsYixTLDE1LGNbNTBdKSxiPW4oYixDLF8sdyxkLDIxLGNbNTFdKSx3PW4odyxiLEMsXyxtLDYsY1s1Ml0pLF89bihfLHcsYixDLGwsMTAsY1s1M10pLEM9bihDLF8sdyxiLHksMTUsY1s1NF0pLGI9bihiLEMsXyx3LGgsMjEsY1s1NV0pLHc9bih3LGIsQyxfLEUsNixjWzU2XSksXz1uKF8sdyxiLEMsUiwxMCxjWzU3XSksQz1uKEMsXyx3LGIsZiwxNSxjWzU4XSksYj1uKGIsQyxfLHcsSSwyMSxjWzU5XSksdz1uKHcsYixDLF8scCw2LGNbNjBdKSxfPW4oXyx3LGIsQyxULDEwLGNbNjFdKSxDPW4oQyxfLHcsYix1LDE1LGNbNjJdKSxiPW4oYixDLF8sdyx2LDIxLGNbNjNdKTtvWzBdPW9bMF0rd3wwLG9bMV09b1sxXStifDAsb1syXT1vWzJdK0N8MCxvWzNdPW9bM10rX3wwfSwkeTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuR3kscj10Lk15LGk9OCp0aGlzLlZ5LG49OCp0LkZ5O3Jbbj4+PjVdfD0xMjg8PDI0LW4lMzI7dmFyIHM9ZS5mbG9vcihpLzQyOTQ5NjcyOTYpO2ZvcihyWzE1KyhuKzY0Pj4+OTw8NCldPTE2NzExOTM1JihzPDw4fHM+Pj4yNCl8NDI3ODI1NTM2MCYoczw8MjR8cz4+PjgpLHJbMTQrKG4rNjQ+Pj45PDw0KV09MTY3MTE5MzUmKGk8PDh8aT4+PjI0KXw0Mjc4MjU1MzYwJihpPDwyNHxpPj4+OCksdC5GeT00KihyLmxlbmd0aCsxKSx0aGlzLlF5KCksdD10aGlzLm5ULHI9dC5NeSxpPTA7ND5pO2krKyluPXJbaV0scltpXT0xNjcxMTkzNSYobjw8OHxuPj4+MjQpfDQyNzgyNTUzNjAmKG48PDI0fG4+Pj44KTtyZXR1cm4gdH0sY2xvbmU6ZnVuY3Rpb24oKXt2YXIgZT1oLmNsb25lLmNhbGwodGhpcyk7cmV0dXJuIGUublQ9dGhpcy5uVC5jbG9uZSgpLGV9fSkscy5VZz1oLmVUKG8pLHMuc1Q9aC50VChvKX0oTWF0aCksZnVuY3Rpb24oKXt2YXIgZT1TZSx0PWUuRmcscj10Lk1nLGk9dC56eSxuPVtdLHQ9ZS5pVC5vVD1pLmV4dGVuZCh7WHk6ZnVuY3Rpb24oKXt0aGlzLm5UPW5ldyByLmluaXQoWzE3MzI1ODQxOTMsNDAyMzIzMzQxNywyNTYyMzgzMTAyLDI3MTczMzg3OCwzMjg1Mzc3NTIwXSl9LFd5OmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPXRoaXMublQuTXksaT1yWzBdLHM9clsxXSxvPXJbMl0sYT1yWzNdLGg9cls0XSxjPTA7ODA+YztjKyspe2lmKDE2PmMpbltjXT0wfGVbdCtjXTtlbHNle3ZhciB1PW5bYy0zXV5uW2MtOF1ebltjLTE0XV5uW2MtMTZdO25bY109dTw8MXx1Pj4+MzF9dT0oaTw8NXxpPj4+MjcpK2grbltjXSx1PTIwPmM/dSsoMTUxODUwMDI0OSsocyZvfH5zJmEpKTo0MD5jP3UrKDE4NTk3NzUzOTMrKHNeb15hKSk6NjA+Yz91KygocyZvfHMmYXxvJmEpLTE4OTQwMDc1ODgpOnUrKChzXm9eYSktODk5NDk3NTE0KSxoPWEsYT1vLG89czw8MzB8cz4+PjIscz1pLGk9dX1yWzBdPXJbMF0raXwwLHJbMV09clsxXStzfDAsclsyXT1yWzJdK298MCxyWzNdPXJbM10rYXwwLHJbNF09cls0XStofDB9LCR5OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5HeSx0PWUuTXkscj04KnRoaXMuVnksaT04KmUuRnk7cmV0dXJuIHRbaT4+PjVdfD0xMjg8PDI0LWklMzIsdFsxNCsoaSs2ND4+Pjk8PDQpXT1NYXRoLmZsb29yKHIvNDI5NDk2NzI5NiksdFsxNSsoaSs2ND4+Pjk8PDQpXT1yLGUuRnk9NCp0Lmxlbmd0aCx0aGlzLlF5KCksdGhpcy5uVH0sY2xvbmU6ZnVuY3Rpb24oKXt2YXIgZT1pLmNsb25lLmNhbGwodGhpcyk7cmV0dXJuIGUublQ9dGhpcy5uVC5jbG9uZSgpLGV9fSk7ZS5vVD1pLmVUKHQpLGUuYVQ9aS50VCh0KX0oKTsvKiEgKGMpIFRvbSBXdSB8IGh0dHA6Ly93d3ctY3Mtc3R1ZGVudHMuc3RhbmZvcmQuZWR1L350ancvanNibi8gKi9cbnZhciBSZTtcIk1pY3Jvc29mdCBJbnRlcm5ldCBFeHBsb3JlclwiPT1UZS5hcHBOYW1lPyhyLnByb3RvdHlwZS5WRT1zLFJlPTMwKTpcIk5ldHNjYXBlXCIhPVRlLmFwcE5hbWU/KHIucHJvdG90eXBlLlZFPW4sUmU9MjYpOihyLnByb3RvdHlwZS5WRT1vLFJlPTI4KSxyLnByb3RvdHlwZS5VRT1SZSxyLnByb3RvdHlwZS54RT0oMTw8UmUpLTEsci5wcm90b3R5cGUuTEU9MTw8UmU7ci5wcm90b3R5cGUuV0U9TWF0aC5wb3coMiw1Miksci5wcm90b3R5cGUuS0U9NTItUmUsci5wcm90b3R5cGUuWUU9MipSZS01Mjt2YXIgd2UsYmUsQ2U9XCIwMTIzNDU2Nzg5YWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpcIixfZT1uZXcgQXJyYXk7Zm9yKHdlPVwiMFwiLmNoYXJDb2RlQXQoMCksYmU9MDtiZTw9OTsrK2JlKV9lW3dlKytdPWJlO2Zvcih3ZT1cImFcIi5jaGFyQ29kZUF0KDApLGJlPTEwO2JlPDM2OysrYmUpX2Vbd2UrK109YmU7Zm9yKHdlPVwiQVwiLmNoYXJDb2RlQXQoMCksYmU9MTA7YmU8MzY7KytiZSlfZVt3ZSsrXT1iZTtBLnByb3RvdHlwZS51dj1PLEEucHJvdG90eXBlLmR2PU4sQS5wcm90b3R5cGUucmVkdWNlPUQsQS5wcm90b3R5cGUucHY9ayxBLnByb3RvdHlwZS5sdj1MLEYucHJvdG90eXBlLnV2PVUsRi5wcm90b3R5cGUuZHY9QixGLnByb3RvdHlwZS5yZWR1Y2U9SCxGLnByb3RvdHlwZS5wdj1xLEYucHJvdG90eXBlLmx2PXgsci5wcm90b3R5cGUuakU9YyxyLnByb3RvdHlwZS5NRT11LHIucHJvdG90eXBlLmtFPXAsci5wcm90b3R5cGUuQkU9ZCxyLnByb3RvdHlwZS56RT1tLHIucHJvdG90eXBlLlhFPUksci5wcm90b3R5cGUuUUU9UyxyLnByb3RvdHlwZS5aRT1SLHIucHJvdG90eXBlLkhFPXcsci5wcm90b3R5cGUudHY9YixyLnByb3RvdHlwZS5ydj1DLHIucHJvdG90eXBlLiRFPV8sci5wcm90b3R5cGUuc3Y9TSxyLnByb3RvdHlwZS5mdj1HLHIucHJvdG90eXBlLmV4cD1WLHIucHJvdG90eXBlLnRvU3RyaW5nPWYsci5wcm90b3R5cGUucUU9ZyxyLnByb3RvdHlwZS5hYnM9RSxyLnByb3RvdHlwZS5KRT12LHIucHJvdG90eXBlLlN2PVQsci5wcm90b3R5cGUuZXY9UCxyLnByb3RvdHlwZS5Jdj1qLHIuWkVSTz1sKDApLHIuT05FPWwoMSksLyohIGFzbjEtMS4wLjkuanMgKGMpIDIwMTMtMjAxNSBLZW5qaSBVcnVzaGltYSB8IGtqdXIuZ2l0aHViLmNvbS9qc3JzYXNpZ24vbGljZW5zZVxuICovXG5cInVuZGVmaW5lZFwiIT10eXBlb2YgS0pVUiYmS0pVUnx8KEtKVVI9e30pLHZvaWQgMCE9PUtKVVIuaFQmJktKVVIuaFR8fChLSlVSLmhUPXt9KSxLSlVSLmhULmNUPW5ldyBmdW5jdGlvbigpe3RoaXMudVQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS50b1N0cmluZygxNik7cmV0dXJuIHQubGVuZ3RoJTI9PTEmJih0PVwiMFwiK3QpLHR9LHRoaXMubFQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS50b1N0cmluZygxNik7aWYoXCItXCIhPXQuc3Vic3RyKDAsMSkpdC5sZW5ndGglMj09MT90PVwiMFwiK3Q6dC5tYXRjaCgvXlswLTddLyl8fCh0PVwiMDBcIit0KTtlbHNle3ZhciBpPXQuc3Vic3RyKDEpLG49aS5sZW5ndGg7biUyPT0xP24rPTE6dC5tYXRjaCgvXlswLTddLyl8fChuKz0yKTtmb3IodmFyIHM9XCJcIixvPTA7bzxuO28rKylzKz1cImZcIjt0PW5ldyByKHMsMTYpLnBUKGUpLmFkZChyLk9ORSkudG9TdHJpbmcoMTYpLnJlcGxhY2UoL14tLyxcIlwiKX1yZXR1cm4gdH0sdGhpcy5kVD1mdW5jdGlvbihlLHQpe3ZhciByPShLSlVSLmhULFNlLlV5LkJ5LnBhcnNlKGUpKSxpPVNlLlV5LmZULnN0cmluZ2lmeShyKSxuPWkucmVwbGFjZSgvKC57NjR9KS9nLFwiJDFcXHJcXG5cIik7cmV0dXJuIG49bi5yZXBsYWNlKC9cXHJcXG4kLyxcIlwiKSxcIi0tLS0tQkVHSU4gXCIrdCtcIi0tLS0tXFxyXFxuXCIrbitcIlxcclxcbi0tLS0tRU5EIFwiK3QrXCItLS0tLVxcclxcblwifSx0aGlzLmdUPWZ1bmN0aW9uKGUpe3ZhciB0PUtKVVIuaFQscj1PYmplY3Qua2V5cyhlKTtpZigxIT1yLmxlbmd0aCl0aHJvd1wia2V5IG9mIHBhcmFtIHNoYWxsIGJlIG9ubHkgb25lLlwiO3ZhciBpPXJbMF07aWYoLTE9PVwiOmJvb2w6aW50OmJpdHN0cjpvY3RzdHI6bnVsbDpvaWQ6ZW51bTp1dGY4c3RyOm51bXN0cjpwcm5zdHI6dGVsc3RyOmlhNXN0cjp1dGN0aW1lOmdlbnRpbWU6c2VxOnNldDp0YWc6XCIuaW5kZXhPZihcIjpcIitpK1wiOlwiKSl0aHJvd1widW5kZWZpbmVkIGtleTogXCIraTtpZihcImJvb2xcIj09aSlyZXR1cm4gbmV3IHQuRVQoZVtpXSk7aWYoXCJpbnRcIj09aSlyZXR1cm4gbmV3IHQudlQoZVtpXSk7aWYoXCJiaXRzdHJcIj09aSlyZXR1cm4gbmV3IHQueVQoZVtpXSk7aWYoXCJvY3RzdHJcIj09aSlyZXR1cm4gbmV3IHQuVFQoZVtpXSk7aWYoXCJudWxsXCI9PWkpcmV0dXJuIG5ldyB0Lm1UKGVbaV0pO2lmKFwib2lkXCI9PWkpcmV0dXJuIG5ldyB0LklUKGVbaV0pO2lmKFwiZW51bVwiPT1pKXJldHVybiBuZXcgdC5TVChlW2ldKTtpZihcInV0ZjhzdHJcIj09aSlyZXR1cm4gbmV3IHQuUlQoZVtpXSk7aWYoXCJudW1zdHJcIj09aSlyZXR1cm4gbmV3IHQud1QoZVtpXSk7aWYoXCJwcm5zdHJcIj09aSlyZXR1cm4gbmV3IHQuYlQoZVtpXSk7aWYoXCJ0ZWxzdHJcIj09aSlyZXR1cm4gbmV3IHQuQ1QoZVtpXSk7aWYoXCJpYTVzdHJcIj09aSlyZXR1cm4gbmV3IHQuX1QoZVtpXSk7aWYoXCJ1dGN0aW1lXCI9PWkpcmV0dXJuIG5ldyB0LlBUKGVbaV0pO2lmKFwiZ2VudGltZVwiPT1pKXJldHVybiBuZXcgdC5BVChlW2ldKTtpZihcInNlcVwiPT1pKXtmb3IodmFyIG49ZVtpXSxzPVtdLG89MDtvPG4ubGVuZ3RoO28rKyl7dmFyIGE9dC5jVC5nVChuW29dKTtzLnB1c2goYSl9cmV0dXJuIG5ldyB0Lk9UKHtOVDpzfSl9aWYoXCJzZXRcIj09aSl7Zm9yKHZhciBuPWVbaV0scz1bXSxvPTA7bzxuLmxlbmd0aDtvKyspe3ZhciBhPXQuY1QuZ1QobltvXSk7cy5wdXNoKGEpfXJldHVybiBuZXcgdC5EVCh7TlQ6c30pfWlmKFwidGFnXCI9PWkpe3ZhciBoPWVbaV07aWYoXCJbb2JqZWN0IEFycmF5XVwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGgpJiYzPT1oLmxlbmd0aCl7dmFyIGM9dC5jVC5nVChoWzJdKTtyZXR1cm4gbmV3IHQua1Qoe3RhZzpoWzBdLExUOmhbMV0sTVQ6Y30pfXZhciB1PXt9O2lmKHZvaWQgMCE9PWguTFQmJih1LkxUPWguTFQpLHZvaWQgMCE9PWgudGFnJiYodS50YWc9aC50YWcpLHZvaWQgMD09PWguTVQpdGhyb3dcIm9iaiBzaGFsbCBiZSBzcGVjaWZpZWQgZm9yICd0YWcnLlwiO3JldHVybiB1Lk1UPXQuY1QuZ1QoaC5NVCksbmV3IHQua1QodSl9fSx0aGlzLkZUPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmdUKGUpLlVUKCl9fSxLSlVSLmhULmNULkJUPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1cIlwiLGk9cGFyc2VJbnQoZS5zdWJzdHIoMCwyKSwxNiksbj1NYXRoLmZsb29yKGkvNDApLHM9aSU0MCx0PW4rXCIuXCIrcyxvPVwiXCIsYT0yO2E8ZS5sZW5ndGg7YSs9Mil7dmFyIGg9cGFyc2VJbnQoZS5zdWJzdHIoYSwyKSwxNiksYz0oXCIwMDAwMDAwMFwiK2gudG9TdHJpbmcoMikpLnNsaWNlKC04KTtpZihvKz1jLnN1YnN0cigxLDcpLFwiMFwiPT1jLnN1YnN0cigwLDEpKXt0PXQrXCIuXCIrbmV3IHIobywyKS50b1N0cmluZygxMCksbz1cIlwifX1yZXR1cm4gdH0sS0pVUi5oVC5jVC5IVD1mdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbihlKXt2YXIgdD1lLnRvU3RyaW5nKDE2KTtyZXR1cm4gMT09dC5sZW5ndGgmJih0PVwiMFwiK3QpLHR9O2lmKCFlLm1hdGNoKC9eWzAtOS5dKyQvKSl0aHJvd1wibWFsZm9ybWVkIG9pZCBzdHJpbmc6IFwiK2U7dmFyIGk9XCJcIixuPWUuc3BsaXQoXCIuXCIpLHM9NDAqcGFyc2VJbnQoblswXSkrcGFyc2VJbnQoblsxXSk7aSs9dChzKSxuLnNwbGljZSgwLDIpO2Zvcih2YXIgbz0wO288bi5sZW5ndGg7bysrKWkrPWZ1bmN0aW9uKGUpe3ZhciBpPVwiXCIsbj1uZXcgcihlLDEwKSxzPW4udG9TdHJpbmcoMiksbz03LXMubGVuZ3RoJTc7Nz09byYmKG89MCk7Zm9yKHZhciBhPVwiXCIsaD0wO2g8bztoKyspYSs9XCIwXCI7cz1hK3M7Zm9yKHZhciBoPTA7aDxzLmxlbmd0aC0xO2grPTcpe3ZhciBjPXMuc3Vic3RyKGgsNyk7aCE9cy5sZW5ndGgtNyYmKGM9XCIxXCIrYyksaSs9dChwYXJzZUludChjLDIpKX1yZXR1cm4gaX0obltvXSk7cmV0dXJuIGl9LEtKVVIuaFQueFQ9ZnVuY3Rpb24oKXt0aGlzLnFUPWZ1bmN0aW9uKCl7aWYodm9pZCAwPT09dGhpcy5HVHx8bnVsbD09dGhpcy5HVCl0aHJvd1widGhpcy5oViBpcyBudWxsIG9yIHVuZGVmaW5lZC5cIjtpZih0aGlzLkdULmxlbmd0aCUyPT0xKXRocm93XCJ2YWx1ZSBoZXggbXVzdCBiZSBldmVuIGxlbmd0aDogbj1cIitcIlwiLmxlbmd0aCtcIix2PVwiK3RoaXMuR1Q7dmFyIGU9dGhpcy5HVC5sZW5ndGgvMix0PWUudG9TdHJpbmcoMTYpO2lmKHQubGVuZ3RoJTI9PTEmJih0PVwiMFwiK3QpLGU8MTI4KXJldHVybiB0O3ZhciByPXQubGVuZ3RoLzI7aWYocj4xNSl0aHJvd1wiQVNOLjEgbGVuZ3RoIHRvbyBsb25nIHRvIHJlcHJlc2VudCBieSA4eDogbiA9IFwiK2UudG9TdHJpbmcoMTYpO3JldHVybigxMjgrcikudG9TdHJpbmcoMTYpK3R9LHRoaXMuVVQ9ZnVuY3Rpb24oKXtyZXR1cm4obnVsbD09dGhpcy5WVHx8dGhpcy5qVCkmJih0aGlzLkdUPXRoaXMuUVQoKSx0aGlzLktUPXRoaXMucVQoKSx0aGlzLlZUPXRoaXMuWVQrdGhpcy5LVCt0aGlzLkdULHRoaXMualQ9ITEpLHRoaXMuVlR9LHRoaXMuV1Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5VVCgpLHRoaXMuR1R9LHRoaXMuUVQ9ZnVuY3Rpb24oKXtyZXR1cm5cIlwifX0sS0pVUi5oVC56VD1mdW5jdGlvbihlKXtLSlVSLmhULnpULnd5LmNvbnN0cnVjdG9yLmNhbGwodGhpcyk7dGhpcy5KVD1mdW5jdGlvbigpe3JldHVybiB0aGlzLlR9LHRoaXMuWFQ9ZnVuY3Rpb24oZSl7dGhpcy5WVD1udWxsLHRoaXMualQ9ITAsdGhpcy5UPWUsdGhpcy5HVD1zdG9oZXgodGhpcy5UKX0sdGhpcy5aVD1mdW5jdGlvbihlKXt0aGlzLlZUPW51bGwsdGhpcy5qVD0hMCx0aGlzLlQ9bnVsbCx0aGlzLkdUPWV9LHRoaXMuUVQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5HVH0sdm9pZCAwIT09ZSYmKFwic3RyaW5nXCI9PXR5cGVvZiBlP3RoaXMuWFQoZSk6dm9pZCAwIT09ZS5zdHI/dGhpcy5YVChlLnN0cik6dm9pZCAwIT09ZS4kVCYmdGhpcy5aVChlLiRUKSl9LEllLmxhbmcuZXh0ZW5kKEtKVVIuaFQuelQsS0pVUi5oVC54VCksS0pVUi5oVC5lbT1mdW5jdGlvbihlKXtLSlVSLmhULmVtLnd5LmNvbnN0cnVjdG9yLmNhbGwodGhpcyk7dGhpcy50bT1mdW5jdGlvbihlKXtyZXR1cm4gdXRjPWUuZ2V0VGltZSgpKzZlNCplLmdldFRpbWV6b25lT2Zmc2V0KCksbmV3IERhdGUodXRjKX0sdGhpcy5ybT1mdW5jdGlvbihlLHQscil7dmFyIGk9dGhpcy5pbSxuPXRoaXMudG0oZSkscz1TdHJpbmcobi5nZXRGdWxsWWVhcigpKTtcInV0Y1wiPT10JiYocz1zLnN1YnN0cigyLDIpKTt2YXIgbz1pKFN0cmluZyhuLmdldE1vbnRoKCkrMSksMiksYT1pKFN0cmluZyhuLmdldERhdGUoKSksMiksaD1pKFN0cmluZyhuLmdldEhvdXJzKCkpLDIpLGM9aShTdHJpbmcobi5nZXRNaW51dGVzKCkpLDIpLHU9aShTdHJpbmcobi5nZXRTZWNvbmRzKCkpLDIpLGw9cytvK2EraCtjK3U7aWYoITA9PT1yKXt2YXIgcD1uLmdldE1pbGxpc2Vjb25kcygpO2lmKDAhPXApe3ZhciBkPWkoU3RyaW5nKHApLDMpO2Q9ZC5yZXBsYWNlKC9bMF0rJC8sXCJcIiksbD1sK1wiLlwiK2R9fXJldHVybiBsK1wiWlwifSx0aGlzLmltPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUubGVuZ3RoPj10P2U6bmV3IEFycmF5KHQtZS5sZW5ndGgrMSkuam9pbihcIjBcIikrZX0sdGhpcy5KVD1mdW5jdGlvbigpe3JldHVybiB0aGlzLlR9LHRoaXMuWFQ9ZnVuY3Rpb24oZSl7dGhpcy5WVD1udWxsLHRoaXMualQ9ITAsdGhpcy5UPWUsdGhpcy5HVD1zdG9oZXgoZSl9LHRoaXMubm09ZnVuY3Rpb24oZSx0LHIsaSxuLHMpe3ZhciBvPW5ldyBEYXRlKERhdGUuVVRDKGUsdC0xLHIsaSxuLHMsMCkpO3RoaXMuc20obyl9LHRoaXMuUVQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5HVH19LEllLmxhbmcuZXh0ZW5kKEtKVVIuaFQuZW0sS0pVUi5oVC54VCksS0pVUi5oVC5vbT1mdW5jdGlvbihlKXtLSlVSLmhULnpULnd5LmNvbnN0cnVjdG9yLmNhbGwodGhpcyk7dGhpcy5hbT1mdW5jdGlvbihlKXt0aGlzLlZUPW51bGwsdGhpcy5qVD0hMCx0aGlzLmhtPWV9LHRoaXMuY209ZnVuY3Rpb24oZSl7dGhpcy5WVD1udWxsLHRoaXMualQ9ITAsdGhpcy5obS5wdXNoKGUpfSx0aGlzLmhtPW5ldyBBcnJheSx2b2lkIDAhPT1lJiZ2b2lkIDAhPT1lLk5UJiYodGhpcy5obT1lLk5UKX0sSWUubGFuZy5leHRlbmQoS0pVUi5oVC5vbSxLSlVSLmhULnhUKSxLSlVSLmhULkVUPWZ1bmN0aW9uKCl7S0pVUi5oVC5FVC53eS5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpLHRoaXMuWVQ9XCIwMVwiLHRoaXMuVlQ9XCIwMTAxZmZcIn0sSWUubGFuZy5leHRlbmQoS0pVUi5oVC5FVCxLSlVSLmhULnhUKSxLSlVSLmhULnZUPWZ1bmN0aW9uKGUpe0tKVVIuaFQudlQud3kuY29uc3RydWN0b3IuY2FsbCh0aGlzKSx0aGlzLllUPVwiMDJcIix0aGlzLnVtPWZ1bmN0aW9uKGUpe3RoaXMuVlQ9bnVsbCx0aGlzLmpUPSEwLHRoaXMuR1Q9S0pVUi5oVC5jVC5sVChlKX0sdGhpcy5sbT1mdW5jdGlvbihlKXt2YXIgdD1uZXcgcihTdHJpbmcoZSksMTApO3RoaXMudW0odCl9LHRoaXMucG09ZnVuY3Rpb24oZSl7dGhpcy5HVD1lfSx0aGlzLlFUPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuR1R9LHZvaWQgMCE9PWUmJih2b2lkIDAhPT1lLmRtP3RoaXMudW0oZS5kbSk6dm9pZCAwIT09ZS5mbT90aGlzLmxtKGUuZm0pOlwibnVtYmVyXCI9PXR5cGVvZiBlP3RoaXMubG0oZSk6dm9pZCAwIT09ZS4kVCYmdGhpcy5wbShlLiRUKSl9LEllLmxhbmcuZXh0ZW5kKEtKVVIuaFQudlQsS0pVUi5oVC54VCksS0pVUi5oVC55VD1mdW5jdGlvbihlKXtLSlVSLmhULnlULnd5LmNvbnN0cnVjdG9yLmNhbGwodGhpcyksdGhpcy5ZVD1cIjAzXCIsdGhpcy5nbT1mdW5jdGlvbihlKXt0aGlzLlZUPW51bGwsdGhpcy5qVD0hMCx0aGlzLkdUPWV9LHRoaXMuRW09ZnVuY3Rpb24oZSx0KXtpZihlPDB8fDc8ZSl0aHJvd1widW51c2VkIGJpdHMgc2hhbGwgYmUgZnJvbSAwIHRvIDc6IHUgPSBcIitlO3ZhciByPVwiMFwiK2U7dGhpcy5WVD1udWxsLHRoaXMualQ9ITAsdGhpcy5HVD1yK3R9LHRoaXMudm09ZnVuY3Rpb24oZSl7ZT1lLnJlcGxhY2UoLzArJC8sXCJcIik7dmFyIHQ9OC1lLmxlbmd0aCU4Ozg9PXQmJih0PTApO2Zvcih2YXIgcj0wO3I8PXQ7cisrKWUrPVwiMFwiO2Zvcih2YXIgaT1cIlwiLHI9MDtyPGUubGVuZ3RoLTE7cis9OCl7dmFyIG49ZS5zdWJzdHIociw4KSxzPXBhcnNlSW50KG4sMikudG9TdHJpbmcoMTYpOzE9PXMubGVuZ3RoJiYocz1cIjBcIitzKSxpKz1zfXRoaXMuVlQ9bnVsbCx0aGlzLmpUPSEwLHRoaXMuR1Q9XCIwXCIrdCtpfSx0aGlzLnltPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1cIlwiLHI9MDtyPGUubGVuZ3RoO3IrKykxPT1lW3JdP3QrPVwiMVwiOnQrPVwiMFwiO3RoaXMudm0odCl9LHRoaXMuVG09ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PW5ldyBBcnJheShlKSxyPTA7cjxlO3IrKyl0W3JdPSExO3JldHVybiB0fSx0aGlzLlFUPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuR1R9LHZvaWQgMCE9PWUmJihcInN0cmluZ1wiPT10eXBlb2YgZSYmZS50b0xvd2VyQ2FzZSgpLm1hdGNoKC9eWzAtOWEtZl0rJC8pP3RoaXMuZ20oZSk6dm9pZCAwIT09ZS4kVD90aGlzLmdtKGUuJFQpOnZvaWQgMCE9PWUubW0/dGhpcy52bShlLm1tKTp2b2lkIDAhPT1lLk5UJiZ0aGlzLnltKGUuTlQpKX0sSWUubGFuZy5leHRlbmQoS0pVUi5oVC55VCxLSlVSLmhULnhUKSxLSlVSLmhULlRUPWZ1bmN0aW9uKGUpe0tKVVIuaFQuVFQud3kuY29uc3RydWN0b3IuY2FsbCh0aGlzLGUpLHRoaXMuWVQ9XCIwNFwifSxJZS5sYW5nLmV4dGVuZChLSlVSLmhULlRULEtKVVIuaFQuelQpLEtKVVIuaFQubVQ9ZnVuY3Rpb24oKXtLSlVSLmhULm1ULnd5LmNvbnN0cnVjdG9yLmNhbGwodGhpcyksdGhpcy5ZVD1cIjA1XCIsdGhpcy5WVD1cIjA1MDBcIn0sSWUubGFuZy5leHRlbmQoS0pVUi5oVC5tVCxLSlVSLmhULnhUKSxLSlVSLmhULklUPWZ1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKGUpe3ZhciB0PWUudG9TdHJpbmcoMTYpO3JldHVybiAxPT10Lmxlbmd0aCYmKHQ9XCIwXCIrdCksdH0saT1mdW5jdGlvbihlKXt2YXIgaT1cIlwiLG49bmV3IHIoZSwxMCkscz1uLnRvU3RyaW5nKDIpLG89Ny1zLmxlbmd0aCU3Ozc9PW8mJihvPTApO2Zvcih2YXIgYT1cIlwiLGg9MDtoPG87aCsrKWErPVwiMFwiO3M9YStzO2Zvcih2YXIgaD0wO2g8cy5sZW5ndGgtMTtoKz03KXt2YXIgYz1zLnN1YnN0cihoLDcpO2ghPXMubGVuZ3RoLTcmJihjPVwiMVwiK2MpLGkrPXQocGFyc2VJbnQoYywyKSl9cmV0dXJuIGl9O0tKVVIuaFQuSVQud3kuY29uc3RydWN0b3IuY2FsbCh0aGlzKSx0aGlzLllUPVwiMDZcIix0aGlzLnBtPWZ1bmN0aW9uKGUpe3RoaXMuVlQ9bnVsbCx0aGlzLmpUPSEwLHRoaXMuVD1udWxsLHRoaXMuR1Q9ZX0sdGhpcy5JbT1mdW5jdGlvbihlKXtpZighZS5tYXRjaCgvXlswLTkuXSskLykpdGhyb3dcIm1hbGZvcm1lZCBvaWQgc3RyaW5nOiBcIitlO3ZhciByPVwiXCIsbj1lLnNwbGl0KFwiLlwiKSxzPTQwKnBhcnNlSW50KG5bMF0pK3BhcnNlSW50KG5bMV0pO3IrPXQocyksbi5zcGxpY2UoMCwyKTtmb3IodmFyIG89MDtvPG4ubGVuZ3RoO28rKylyKz1pKG5bb10pO3RoaXMuVlQ9bnVsbCx0aGlzLmpUPSEwLHRoaXMuVD1udWxsLHRoaXMuR1Q9cn0sdGhpcy5TbT1mdW5jdGlvbihlKXtpZih2b2lkIDA9PT1LSlVSLmhULmJtLndtLlJtW2VdKXRocm93XCJERVJPYmplY3RJZGVudGlmaWVyIG9pZE5hbWUgdW5kZWZpbmVkOiBcIitlO3ZhciB0PUtKVVIuaFQuYm0ud20uUm1bZV07dGhpcy5JbSh0KX0sdGhpcy5RVD1mdW5jdGlvbigpe3JldHVybiB0aGlzLkdUfSx2b2lkIDAhPT1lJiYoXCJzdHJpbmdcIj09dHlwZW9mIGUmJmUubWF0Y2goL15bMC0yXS5bMC05Ll0rJC8pP3RoaXMuSW0oZSk6dm9pZCAwIT09S0pVUi5oVC5ibS53bS5SbVtlXT90aGlzLkltKEtKVVIuaFQuYm0ud20uUm1bZV0pOnZvaWQgMCE9PWUuQ20/dGhpcy5JbShlLkNtKTp2b2lkIDAhPT1lLiRUP3RoaXMucG0oZS4kVCk6dm9pZCAwIT09ZS5uYW1lJiZ0aGlzLlNtKGUubmFtZSkpfSxJZS5sYW5nLmV4dGVuZChLSlVSLmhULklULEtKVVIuaFQueFQpLEtKVVIuaFQuU1Q9ZnVuY3Rpb24oZSl7S0pVUi5oVC5TVC53eS5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpLHRoaXMuWVQ9XCIwYVwiLHRoaXMudW09ZnVuY3Rpb24oZSl7dGhpcy5WVD1udWxsLHRoaXMualQ9ITAsdGhpcy5HVD1LSlVSLmhULmNULmxUKGUpfSx0aGlzLmxtPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyByKFN0cmluZyhlKSwxMCk7dGhpcy51bSh0KX0sdGhpcy5wbT1mdW5jdGlvbihlKXt0aGlzLkdUPWV9LHRoaXMuUVQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5HVH0sdm9pZCAwIT09ZSYmKHZvaWQgMCE9PWUuZm0/dGhpcy5sbShlLmZtKTpcIm51bWJlclwiPT10eXBlb2YgZT90aGlzLmxtKGUpOnZvaWQgMCE9PWUuJFQmJnRoaXMucG0oZS4kVCkpfSxJZS5sYW5nLmV4dGVuZChLSlVSLmhULlNULEtKVVIuaFQueFQpLEtKVVIuaFQuUlQ9ZnVuY3Rpb24oZSl7S0pVUi5oVC5SVC53eS5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsZSksdGhpcy5ZVD1cIjBjXCJ9LEllLmxhbmcuZXh0ZW5kKEtKVVIuaFQuUlQsS0pVUi5oVC56VCksS0pVUi5oVC53VD1mdW5jdGlvbihlKXtLSlVSLmhULndULnd5LmNvbnN0cnVjdG9yLmNhbGwodGhpcyxlKSx0aGlzLllUPVwiMTJcIn0sSWUubGFuZy5leHRlbmQoS0pVUi5oVC53VCxLSlVSLmhULnpUKSxLSlVSLmhULmJUPWZ1bmN0aW9uKGUpe0tKVVIuaFQuYlQud3kuY29uc3RydWN0b3IuY2FsbCh0aGlzLGUpLHRoaXMuWVQ9XCIxM1wifSxJZS5sYW5nLmV4dGVuZChLSlVSLmhULmJULEtKVVIuaFQuelQpLEtKVVIuaFQuQ1Q9ZnVuY3Rpb24oZSl7S0pVUi5oVC5DVC53eS5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsZSksdGhpcy5ZVD1cIjE0XCJ9LEllLmxhbmcuZXh0ZW5kKEtKVVIuaFQuQ1QsS0pVUi5oVC56VCksS0pVUi5oVC5fVD1mdW5jdGlvbihlKXtLSlVSLmhULl9ULnd5LmNvbnN0cnVjdG9yLmNhbGwodGhpcyxlKSx0aGlzLllUPVwiMTZcIn0sSWUubGFuZy5leHRlbmQoS0pVUi5oVC5fVCxLSlVSLmhULnpUKSxLSlVSLmhULlBUPWZ1bmN0aW9uKGUpe0tKVVIuaFQuUFQud3kuY29uc3RydWN0b3IuY2FsbCh0aGlzLGUpLHRoaXMuWVQ9XCIxN1wiLHRoaXMuc209ZnVuY3Rpb24oZSl7dGhpcy5WVD1udWxsLHRoaXMualQ9ITAsdGhpcy5fbT1lLHRoaXMuVD10aGlzLnJtKHRoaXMuX20sXCJ1dGNcIiksdGhpcy5HVD1zdG9oZXgodGhpcy5UKX0sdGhpcy5RVD1mdW5jdGlvbigpe3JldHVybiB2b2lkIDA9PT10aGlzLl9tJiZ2b2lkIDA9PT10aGlzLlQmJih0aGlzLl9tPW5ldyBEYXRlLHRoaXMuVD10aGlzLnJtKHRoaXMuX20sXCJ1dGNcIiksdGhpcy5HVD1zdG9oZXgodGhpcy5UKSksdGhpcy5HVH0sdm9pZCAwIT09ZSYmKHZvaWQgMCE9PWUuc3RyP3RoaXMuWFQoZS5zdHIpOlwic3RyaW5nXCI9PXR5cGVvZiBlJiZlLm1hdGNoKC9eWzAtOV17MTJ9WiQvKT90aGlzLlhUKGUpOnZvaWQgMCE9PWUuJFQ/dGhpcy5aVChlLiRUKTp2b2lkIDAhPT1lLl9tJiZ0aGlzLnNtKGUuX20pKX0sSWUubGFuZy5leHRlbmQoS0pVUi5oVC5QVCxLSlVSLmhULmVtKSxLSlVSLmhULkFUPWZ1bmN0aW9uKGUpe0tKVVIuaFQuQVQud3kuY29uc3RydWN0b3IuY2FsbCh0aGlzLGUpLHRoaXMuWVQ9XCIxOFwiLHRoaXMuUG09ITEsdGhpcy5zbT1mdW5jdGlvbihlKXt0aGlzLlZUPW51bGwsdGhpcy5qVD0hMCx0aGlzLl9tPWUsdGhpcy5UPXRoaXMucm0odGhpcy5fbSxcImdlblwiLHRoaXMuUG0pLHRoaXMuR1Q9c3RvaGV4KHRoaXMuVCl9LHRoaXMuUVQ9ZnVuY3Rpb24oKXtyZXR1cm4gdm9pZCAwPT09dGhpcy5fbSYmdm9pZCAwPT09dGhpcy5UJiYodGhpcy5fbT1uZXcgRGF0ZSx0aGlzLlQ9dGhpcy5ybSh0aGlzLl9tLFwiZ2VuXCIsdGhpcy5QbSksdGhpcy5HVD1zdG9oZXgodGhpcy5UKSksdGhpcy5HVH0sdm9pZCAwIT09ZSYmKHZvaWQgMCE9PWUuc3RyP3RoaXMuWFQoZS5zdHIpOlwic3RyaW5nXCI9PXR5cGVvZiBlJiZlLm1hdGNoKC9eWzAtOV17MTR9WiQvKT90aGlzLlhUKGUpOnZvaWQgMCE9PWUuJFQ/dGhpcy5aVChlLiRUKTp2b2lkIDAhPT1lLl9tJiZ0aGlzLnNtKGUuX20pLCEwPT09ZS5BbSYmKHRoaXMuUG09ITApKX0sSWUubGFuZy5leHRlbmQoS0pVUi5oVC5BVCxLSlVSLmhULmVtKSxLSlVSLmhULk9UPWZ1bmN0aW9uKGUpe0tKVVIuaFQuT1Qud3kuY29uc3RydWN0b3IuY2FsbCh0aGlzLGUpLHRoaXMuWVQ9XCIzMFwiLHRoaXMuUVQ9ZnVuY3Rpb24oKXtmb3IodmFyIGU9XCJcIix0PTA7dDx0aGlzLmhtLmxlbmd0aDt0Kyspe2UrPXRoaXMuaG1bdF0uVVQoKX1yZXR1cm4gdGhpcy5HVD1lLHRoaXMuR1R9fSxJZS5sYW5nLmV4dGVuZChLSlVSLmhULk9ULEtKVVIuaFQub20pLEtKVVIuaFQuRFQ9ZnVuY3Rpb24oZSl7S0pVUi5oVC5EVC53eS5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsZSksdGhpcy5ZVD1cIjMxXCIsdGhpcy5PbT0hMCx0aGlzLlFUPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPW5ldyBBcnJheSx0PTA7dDx0aGlzLmhtLmxlbmd0aDt0Kyspe3ZhciByPXRoaXMuaG1bdF07ZS5wdXNoKHIuVVQoKSl9cmV0dXJuIDE9PXRoaXMuT20mJmUuc29ydCgpLHRoaXMuR1Q9ZS5qb2luKFwiXCIpLHRoaXMuR1R9LHZvaWQgMCE9PWUmJnZvaWQgMCE9PWUuTm0mJjA9PWUuTm0mJih0aGlzLk9tPSExKX0sSWUubGFuZy5leHRlbmQoS0pVUi5oVC5EVCxLSlVSLmhULm9tKSxLSlVSLmhULmtUPWZ1bmN0aW9uKGUpe0tKVVIuaFQua1Qud3kuY29uc3RydWN0b3IuY2FsbCh0aGlzKSx0aGlzLllUPVwiYTBcIix0aGlzLkdUPVwiXCIsdGhpcy5EbT0hMCx0aGlzLmttPW51bGwsdGhpcy5MbT1mdW5jdGlvbihlLHQscil7dGhpcy5ZVD10LHRoaXMuRG09ZSx0aGlzLmttPXIsdGhpcy5EbT8odGhpcy5HVD10aGlzLmttLlVUKCksdGhpcy5WVD1udWxsLHRoaXMualQ9ITApOih0aGlzLkdUPW51bGwsdGhpcy5WVD1yLlVUKCksdGhpcy5WVD10aGlzLlZULnJlcGxhY2UoL14uLi8sdCksdGhpcy5qVD0hMSl9LHRoaXMuUVQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5HVH0sdm9pZCAwIT09ZSYmKHZvaWQgMCE9PWUudGFnJiYodGhpcy5ZVD1lLnRhZyksdm9pZCAwIT09ZS5MVCYmKHRoaXMuRG09ZS5MVCksdm9pZCAwIT09ZS5NVCYmKHRoaXMua209ZS5NVCx0aGlzLkxtKHRoaXMuRG0sdGhpcy5ZVCx0aGlzLmttKSkpfSxJZS5sYW5nLmV4dGVuZChLSlVSLmhULmtULEtKVVIuaFQueFQpOy8qISAoYykgVG9tIFd1IHwgaHR0cDovL3d3dy1jcy1zdHVkZW50cy5zdGFuZm9yZC5lZHUvfnRqdy9qc2JuLyAqL1xudmFyIFBlPVwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrL1wiLEFlPVwiPVwiOy8qISBjcnlwdG8tMS4xLjguanMgKGMpIDIwMTMtMjAxNiBLZW5qaSBVcnVzaGltYSB8IGtqdXIuZ2l0aHViLmNvbS9qc3JzYXNpZ24vbGljZW5zZVxuICovXG5cInVuZGVmaW5lZFwiIT10eXBlb2YgS0pVUiYmS0pVUnx8KEtKVVI9e30pLHZvaWQgMCE9PUtKVVIuY3J5cHRvJiZLSlVSLmNyeXB0b3x8KEtKVVIuY3J5cHRvPXt9KSxLSlVSLmNyeXB0by5idj1uZXcgZnVuY3Rpb24oKXt0aGlzLkR2PXtzaGExOlwiMzAyMTMwMDkwNjA1MmIwZTAzMDIxYTA1MDAwNDE0XCIsTW06XCIzMDJkMzAwZDA2MDk2MDg2NDgwMTY1MDMwNDAyMDQwNTAwMDQxY1wiLHNoYTI1NjpcIjMwMzEzMDBkMDYwOTYwODY0ODAxNjUwMzA0MDIwMTA1MDAwNDIwXCIsRm06XCIzMDQxMzAwZDA2MDk2MDg2NDgwMTY1MDMwNDAyMDIwNTAwMDQzMFwiLFVtOlwiMzA1MTMwMGQwNjA5NjA4NjQ4MDE2NTAzMDQwMjAzMDUwMDA0NDBcIixCbTpcIjMwMjAzMDBjMDYwODJhODY0ODg2ZjcwZDAyMDIwNTAwMDQxMFwiLEhtOlwiMzAyMDMwMGMwNjA4MmE4NjQ4ODZmNzBkMDIwNTA1MDAwNDEwXCIseG06XCIzMDIxMzAwOTA2MDUyYjI0MDMwMjAxMDUwMDA0MTRcIn0sdGhpcy5xbT17SG06XCJjcnlwdG9qc1wiLHNoYTE6XCJjcnlwdG9qc1wiLE1tOlwiY3J5cHRvanNcIixzaGEyNTY6XCJjcnlwdG9qc1wiLEZtOlwiY3J5cHRvanNcIixVbTpcImNyeXB0b2pzXCIseG06XCJjcnlwdG9qc1wiLEdtOlwiY3J5cHRvanNcIixWbTpcImNyeXB0b2pzXCIsam06XCJjcnlwdG9qc1wiLFFtOlwiY3J5cHRvanNcIixLbTpcImNyeXB0b2pzXCIsWW06XCJjcnlwdG9qc1wiLFdtOlwiY3J5cHRvanNcIix6bTpcImNyeXB0b2pzL2pzcnNhXCIsSm06XCJjcnlwdG9qcy9qc3JzYVwiLFhtOlwiY3J5cHRvanMvanNyc2FcIixabTpcImNyeXB0b2pzL2pzcnNhXCIsJG06XCJjcnlwdG9qcy9qc3JzYVwiLGVJOlwiY3J5cHRvanMvanNyc2FcIix0STpcImNyeXB0b2pzL2pzcnNhXCIsckk6XCJjcnlwdG9qcy9qc3JzYVwiLGlJOlwiY3J5cHRvanMvanNyc2FcIixuSTpcImNyeXB0b2pzL2pzcnNhXCIsc0k6XCJjcnlwdG9qcy9qc3JzYVwiLG9JOlwiY3J5cHRvanMvanNyc2FcIixhSTpcImNyeXB0b2pzL2pzcnNhXCIsaEk6XCJjcnlwdG9qcy9qc3JzYVwiLGNJOlwiY3J5cHRvanMvanNyc2FcIix1STpcImNyeXB0b2pzL2pzcnNhXCIsbEk6XCJjcnlwdG9qcy9qc3JzYVwiLHBJOlwiY3J5cHRvanMvanNyc2FcIixkSTpcImNyeXB0b2pzL2pzcnNhXCIsZkk6XCJjcnlwdG9qcy9qc3JzYVwiLGdJOlwiY3J5cHRvanMvanNyc2FcIixFSTpcImNyeXB0b2pzL2pzcnNhXCIsdkk6XCJjcnlwdG9qcy9qc3JzYVwiLHlJOlwiY3J5cHRvanMvanNyc2FcIn0sdGhpcy5UST17SG06U2UuaVQuVWcsc2hhMTpTZS5pVC5vVCxNbTpTZS5pVC5tSSxzaGEyNTY6U2UuaVQuSUksRm06U2UuaVQuU0ksVW06U2UuaVQuUkkseG06U2UuaVQud0l9LHRoaXMuYkk9ZnVuY3Rpb24oZSx0KXtpZih2b2lkIDA9PT10aGlzLkR2W3RdKXRocm93XCJhbGcgbm90IHN1cHBvcnRlZCBpbiBVdGlsLkRJR0VTVElORk9IRUFEOiBcIit0O3JldHVybiB0aGlzLkR2W3RdK2V9LHRoaXMuX3Y9ZnVuY3Rpb24oZSx0LHIpe3ZhciBpPXRoaXMuYkkoZSx0KSxuPXIvNDtpZihpLmxlbmd0aCsyMj5uKXRocm93XCJrZXkgaXMgdG9vIHNob3J0IGZvciBTaWdBbGc6IGtleWxlbj1cIityK1wiLFwiK3Q7Zm9yKHZhciBzPVwiMDAwMVwiLG89XCIwMFwiK2ksYT1cIlwiLGg9bi1zLmxlbmd0aC1vLmxlbmd0aCxjPTA7YzxoO2MrPTIpYSs9XCJmZlwiO3JldHVybiBzK2Erb30sdGhpcy53dj1mdW5jdGlvbihlLHQpe3JldHVybiBuZXcgS0pVUi5jcnlwdG8uX0koe0FJOnR9KS5DSShlKX0sdGhpcy5Bdj1mdW5jdGlvbihlLHQpe3JldHVybiBuZXcgS0pVUi5jcnlwdG8uX0koe0FJOnR9KS5PSShlKX0sdGhpcy5zaGExPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgS0pVUi5jcnlwdG8uX0koe0FJOlwic2hhMVwiLE5JOlwiY3J5cHRvanNcIn0pLkNJKGUpfSx0aGlzLnNoYTI1Nj1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IEtKVVIuY3J5cHRvLl9JKHtBSTpcInNoYTI1NlwiLE5JOlwiY3J5cHRvanNcIn0pLkNJKGUpfSx0aGlzLkRJPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgS0pVUi5jcnlwdG8uX0koe0FJOlwic2hhMjU2XCIsTkk6XCJjcnlwdG9qc1wifSkuT0koZSl9LHRoaXMuVW09ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBLSlVSLmNyeXB0by5fSSh7QUk6XCJzaGE1MTJcIixOSTpcImNyeXB0b2pzXCJ9KS5DSShlKX0sdGhpcy5rST1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IEtKVVIuY3J5cHRvLl9JKHtBSTpcInNoYTUxMlwiLE5JOlwiY3J5cHRvanNcIn0pLk9JKGUpfSx0aGlzLkhtPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgS0pVUi5jcnlwdG8uX0koe0FJOlwibWQ1XCIsTkk6XCJjcnlwdG9qc1wifSkuQ0koZSl9LHRoaXMueG09ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBLSlVSLmNyeXB0by5fSSh7QUk6XCJyaXBlbWQxNjBcIixOSTpcImNyeXB0b2pzXCJ9KS5DSShlKX0sdGhpcy5MST1mdW5jdGlvbihlKXt9fSxLSlVSLmNyeXB0by5fST1mdW5jdGlvbihlKXt0aGlzLk1JPWZ1bmN0aW9uKGUsdCl7aWYobnVsbCE9ZSYmdm9pZCAwPT09dCYmKHQ9S0pVUi5jcnlwdG8uYnYucW1bZV0pLC0xIT1cIjptZDU6c2hhMTpzaGEyMjQ6c2hhMjU2OnNoYTM4NDpzaGE1MTI6cmlwZW1kMTYwOlwiLmluZGV4T2YoZSkmJlwiY3J5cHRvanNcIj09dCl7dHJ5e3RoaXMuRkk9S0pVUi5jcnlwdG8uYnYuVElbZV0uY3JlYXRlKCl9Y2F0Y2godCl7dGhyb3dcInNldEFsZ0FuZFByb3ZpZGVyIGhhc2ggYWxnIHNldCBmYWlsIGFsZz1cIitlK1wiL1wiK3R9dGhpcy5VST1mdW5jdGlvbihlKXt0aGlzLkZJLnVwZGF0ZShlKX0sdGhpcy5CST1mdW5jdGlvbihlKXt2YXIgdD1TZS5VeS5CeS5wYXJzZShlKTt0aGlzLkZJLnVwZGF0ZSh0KX0sdGhpcy5kaWdlc3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5GSS5aeSgpLnRvU3RyaW5nKFNlLlV5LkJ5KX0sdGhpcy5DST1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5VSShlKSx0aGlzLmRpZ2VzdCgpfSx0aGlzLk9JPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLkJJKGUpLHRoaXMuZGlnZXN0KCl9fWlmKC0xIT1cIjpzaGEyNTY6XCIuaW5kZXhPZihlKSYmXCJzamNsXCI9PXQpe3RyeXt0aGlzLkZJPW5ldyBzamNsLmhhc2guc2hhMjU2fWNhdGNoKHQpe3Rocm93XCJzZXRBbGdBbmRQcm92aWRlciBoYXNoIGFsZyBzZXQgZmFpbCBhbGc9XCIrZStcIi9cIit0fXRoaXMuVUk9ZnVuY3Rpb24oZSl7dGhpcy5GSS51cGRhdGUoZSl9LHRoaXMuQkk9ZnVuY3Rpb24oZSl7dmFyIHQ9c2pjbC54SS4kVC5ISShlKTt0aGlzLkZJLnVwZGF0ZSh0KX0sdGhpcy5kaWdlc3Q9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLkZJLlp5KCk7cmV0dXJuIHNqY2wueEkuJFQucUkoZSl9LHRoaXMuQ0k9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuVUkoZSksdGhpcy5kaWdlc3QoKX0sdGhpcy5PST1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5CSShlKSx0aGlzLmRpZ2VzdCgpfX19LHRoaXMuVUk9ZnVuY3Rpb24oZSl7dGhyb3dcInVwZGF0ZVN0cmluZyhzdHIpIG5vdCBzdXBwb3J0ZWQgZm9yIHRoaXMgYWxnL3Byb3Y6IFwiK3RoaXMuR0krXCIvXCIrdGhpcy5WSX0sdGhpcy5CST1mdW5jdGlvbihlKXt0aHJvd1widXBkYXRlSGV4KGhleCkgbm90IHN1cHBvcnRlZCBmb3IgdGhpcyBhbGcvcHJvdjogXCIrdGhpcy5HSStcIi9cIit0aGlzLlZJfSx0aGlzLmRpZ2VzdD1mdW5jdGlvbigpe3Rocm93XCJkaWdlc3QoKSBub3Qgc3VwcG9ydGVkIGZvciB0aGlzIGFsZy9wcm92OiBcIit0aGlzLkdJK1wiL1wiK3RoaXMuVkl9LHRoaXMuQ0k9ZnVuY3Rpb24oZSl7dGhyb3dcImRpZ2VzdFN0cmluZyhzdHIpIG5vdCBzdXBwb3J0ZWQgZm9yIHRoaXMgYWxnL3Byb3Y6IFwiK3RoaXMuR0krXCIvXCIrdGhpcy5WSX0sdGhpcy5PST1mdW5jdGlvbihlKXt0aHJvd1wiZGlnZXN0SGV4KGhleCkgbm90IHN1cHBvcnRlZCBmb3IgdGhpcyBhbGcvcHJvdjogXCIrdGhpcy5HSStcIi9cIit0aGlzLlZJfSx2b2lkIDAhPT1lJiZ2b2lkIDAhPT1lLkFJJiYodGhpcy5HST1lLkFJLHZvaWQgMD09PWUuTkkmJih0aGlzLlZJPUtKVVIuY3J5cHRvLmJ2LnFtW3RoaXMuR0ldKSx0aGlzLk1JKHRoaXMuR0ksdGhpcy5WSSkpfSxLSlVSLmNyeXB0by5qST1mdW5jdGlvbihlKXt0aGlzLk1JPWZ1bmN0aW9uKGUsdCl7aWYoZT1lLnRvTG93ZXJDYXNlKCksbnVsbD09ZSYmKGU9XCJobWFjc2hhMVwiKSxlPWUudG9Mb3dlckNhc2UoKSxcImhtYWNcIiE9ZS5zdWJzdHIoMCw0KSl0aHJvd1wic2V0QWxnQW5kUHJvdmlkZXIgdW5zdXBwb3J0ZWQgSE1BQyBhbGc6IFwiK2U7dm9pZCAwPT09dCYmKHQ9S0pVUi5jcnlwdG8uYnYucW1bZV0pLHRoaXMuUUk9ZStcIi9cIit0O3ZhciByPWUuc3Vic3RyKDQpO2lmKC0xIT1cIjptZDU6c2hhMTpzaGEyMjQ6c2hhMjU2OnNoYTM4NDpzaGE1MTI6cmlwZW1kMTYwOlwiLmluZGV4T2YocikmJlwiY3J5cHRvanNcIj09dCl7dHJ5e3ZhciBpPUtKVVIuY3J5cHRvLmJ2LlRJW3JdO3RoaXMubWFjPVNlLmlULnJULmNyZWF0ZShpLHRoaXMuS0kpfWNhdGNoKGUpe3Rocm93XCJzZXRBbGdBbmRQcm92aWRlciBoYXNoIGFsZyBzZXQgZmFpbCBoYXNoQWxnPVwiK3IrXCIvXCIrZX10aGlzLlVJPWZ1bmN0aW9uKGUpe3RoaXMubWFjLnVwZGF0ZShlKX0sdGhpcy5CST1mdW5jdGlvbihlKXt2YXIgdD1TZS5VeS5CeS5wYXJzZShlKTt0aGlzLm1hYy51cGRhdGUodCl9LHRoaXMuWUk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYWMuWnkoKS50b1N0cmluZyhTZS5VeS5CeSl9LHRoaXMuV0k9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuVUkoZSksdGhpcy5ZSSgpfSx0aGlzLnpJPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLkJJKGUpLHRoaXMuWUkoKX19fSx0aGlzLlVJPWZ1bmN0aW9uKGUpe3Rocm93XCJ1cGRhdGVTdHJpbmcoc3RyKSBub3Qgc3VwcG9ydGVkIGZvciB0aGlzIGFsZy9wcm92OiBcIit0aGlzLlFJfSx0aGlzLkJJPWZ1bmN0aW9uKGUpe3Rocm93XCJ1cGRhdGVIZXgoaGV4KSBub3Qgc3VwcG9ydGVkIGZvciB0aGlzIGFsZy9wcm92OiBcIit0aGlzLlFJfSx0aGlzLllJPWZ1bmN0aW9uKCl7dGhyb3dcImRpZ2VzdCgpIG5vdCBzdXBwb3J0ZWQgZm9yIHRoaXMgYWxnL3Byb3Y6IFwiK3RoaXMuUUl9LHRoaXMuV0k9ZnVuY3Rpb24oZSl7dGhyb3dcImRpZ2VzdFN0cmluZyhzdHIpIG5vdCBzdXBwb3J0ZWQgZm9yIHRoaXMgYWxnL3Byb3Y6IFwiK3RoaXMuUUl9LHRoaXMuekk9ZnVuY3Rpb24oZSl7dGhyb3dcImRpZ2VzdEhleChoZXgpIG5vdCBzdXBwb3J0ZWQgZm9yIHRoaXMgYWxnL3Byb3Y6IFwiK3RoaXMuUUl9LHRoaXMuSkk9ZnVuY3Rpb24oZSl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpe3ZhciB0PWU7cmV0dXJuIGUubGVuZ3RoJTIhPTEmJmUubWF0Y2goL15bMC05QS1GYS1mXSskLyl8fCh0PXJzdHJ0b2hleChlKSksdm9pZCh0aGlzLktJPVNlLlV5LkJ5LnBhcnNlKHQpKX1pZihcIm9iamVjdFwiIT10eXBlb2YgZSl0aHJvd1wiS0pVUi5jcnlwdG8uTWFjIHVuc3VwcG9ydGVkIHBhc3N3b3JkIHR5cGU6IFwiK2U7dmFyIHQ9bnVsbDtpZih2b2lkIDAhPT1lLiRUKXtpZihlLiRULmxlbmd0aCUyIT0wfHwhZS4kVC5tYXRjaCgvXlswLTlBLUZhLWZdKyQvKSl0aHJvd1wiTWFjOiB3cm9uZyBoZXggcGFzc3dvcmQ6IFwiK2UuJFQ7dD1lLiRUfWlmKHZvaWQgMCE9PWUuWEkmJih0PXV0Zjh0b2hleChlLlhJKSksdm9pZCAwIT09ZS5aSSYmKHQ9cnN0cnRvaGV4KGUuWkkpKSx2b2lkIDAhPT1lLiRJJiYodD1RKGUuJEkpKSx2b2lkIDAhPT1lLmVTJiYodD1iNjR1dG9oZXgoZS5lUykpLG51bGw9PXQpdGhyb3dcIktKVVIuY3J5cHRvLk1hYyB1bnN1cHBvcnRlZCBwYXNzd29yZCB0eXBlOiBcIitlO3RoaXMuS0k9U2UuVXkuQnkucGFyc2UodCl9LHZvaWQgMCE9PWUmJih2b2lkIDAhPT1lLktJJiZ0aGlzLkpJKGUuS0kpLHZvaWQgMCE9PWUuQUkmJih0aGlzLkdJPWUuQUksdm9pZCAwPT09ZS5OSSYmKHRoaXMuVkk9S0pVUi5jcnlwdG8uYnYucW1bdGhpcy5HSV0pLHRoaXMuTUkodGhpcy5HSSx0aGlzLlZJKSkpfSxLSlVSLmNyeXB0by5TaWduYXR1cmU9ZnVuY3Rpb24oZSl7dmFyIHQ9bnVsbDtpZih0aGlzLnRTPWZ1bmN0aW9uKCl7dGhpcy5HSS5tYXRjaCgvXiguKyl3aXRoKC4rKSQvKSYmKHRoaXMuclM9UmVnRXhwLiQxLnRvTG93ZXJDYXNlKCksdGhpcy5pUz1SZWdFeHAuJDIudG9Mb3dlckNhc2UoKSl9LHRoaXMublM9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9XCJcIixpPXQvNC1lLmxlbmd0aCxuPTA7bjxpO24rKylyKz1cIjBcIjtyZXR1cm4gcitlfSx0aGlzLk1JPWZ1bmN0aW9uKGUsdCl7aWYodGhpcy50UygpLFwiY3J5cHRvanMvanNyc2FcIiE9dCl0aHJvd1wicHJvdmlkZXIgbm90IHN1cHBvcnRlZDogXCIrdDtpZigtMSE9XCI6bWQ1OnNoYTE6c2hhMjI0OnNoYTI1NjpzaGEzODQ6c2hhNTEyOnJpcGVtZDE2MDpcIi5pbmRleE9mKHRoaXMuclMpKXt0cnl7dGhpcy5GST1uZXcgS0pVUi5jcnlwdG8uX0koe0FJOnRoaXMuclN9KX1jYXRjaChlKXt0aHJvd1wic2V0QWxnQW5kUHJvdmlkZXIgaGFzaCBhbGcgc2V0IGZhaWwgYWxnPVwiK3RoaXMuclMrXCIvXCIrZX10aGlzLmluaXQ9ZnVuY3Rpb24oZSx0KXt2YXIgcj1udWxsO3RyeXtyPXZvaWQgMD09PXQ/S0VZVVRJTC5nZXRLZXkoZSk6S0VZVVRJTC5nZXRLZXkoZSx0KX1jYXRjaChlKXt0aHJvd1wiaW5pdCBmYWlsZWQ6XCIrZX1pZighMD09PXIuc1MpdGhpcy5vUz1yLHRoaXMuc3RhdGU9XCJTSUdOXCI7ZWxzZXtpZighMCE9PXIubXYpdGhyb3dcImluaXQgZmFpbGVkLjpcIityO3RoaXMuYVM9cix0aGlzLnN0YXRlPVwiVkVSSUZZXCJ9fSx0aGlzLmhTPWZ1bmN0aW9uKGUpe1wic3RyaW5nXCI9PXR5cGVvZiBlLmNTJiZcInN0cmluZ1wiPT10eXBlb2YgZS51Uz8odGhpcy5jUz1lLmNTLHRoaXMudVM9ZS51Uyk6dGhpcy5vUz1lLHRoaXMuc3RhdGU9XCJTSUdOXCJ9LHRoaXMubFM9ZnVuY3Rpb24oZSl7XCJzdHJpbmdcIj09dHlwZW9mIGUucFMmJlwic3RyaW5nXCI9PXR5cGVvZiBlLnVTPyh0aGlzLnBTPWUucFMsdGhpcy51Uz1lLnVTKTplIGluc3RhbmNlb2YgS0pVUi5jcnlwdG8uZFM/dGhpcy5hUz1lOmUgaW5zdGFuY2VvZiBYJiYodGhpcy5hUz1lKSx0aGlzLnN0YXRlPVwiVkVSSUZZXCJ9LHRoaXMuZlM9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IFg1MDk7dC5nUyhlKSx0aGlzLmFTPXQuRVMsdGhpcy5zdGF0ZT1cIlZFUklGWVwifSx0aGlzLlVJPWZ1bmN0aW9uKGUpe3RoaXMuRkkuVUkoZSl9LHRoaXMuQkk9ZnVuY3Rpb24oZSl7dGhpcy5GSS5CSShlKX0sdGhpcy5zaWduPWZ1bmN0aW9uKCl7aWYodGhpcy52Uz10aGlzLkZJLmRpZ2VzdCgpLHZvaWQgMCE9PXRoaXMuY1MmJnZvaWQgMCE9PXRoaXMudVMpe3ZhciBlPW5ldyBLSlVSLmNyeXB0by5kUyh7Y3VydmU6dGhpcy51U30pO3RoaXMueVM9ZS5UUyh0aGlzLnZTLHRoaXMuY1MpfWVsc2UgaWYodGhpcy5vUyBpbnN0YW5jZW9mIFgmJlwicnNhYW5kbWdmMVwiPT10aGlzLmlTKXRoaXMueVM9dGhpcy5vUy5Pdih0aGlzLnZTLHRoaXMuclMsdGhpcy5tUyk7ZWxzZSBpZih0aGlzLm9TIGluc3RhbmNlb2YgWCYmXCJyc2FcIj09dGhpcy5pUyl0aGlzLnlTPXRoaXMub1MuQ3YodGhpcy52Uyx0aGlzLnJTKTtlbHNlIGlmKHRoaXMub1MgaW5zdGFuY2VvZiBLSlVSLmNyeXB0by5kUyl0aGlzLnlTPXRoaXMub1MuQ3YodGhpcy52Uyk7ZWxzZXtpZighKHRoaXMub1MgaW5zdGFuY2VvZiBLSlVSLmNyeXB0by5JUykpdGhyb3dcIlNpZ25hdHVyZTogdW5zdXBwb3J0ZWQgcHVibGljIGtleSBhbGc6IFwiK3RoaXMuaVM7dGhpcy55Uz10aGlzLm9TLkN2KHRoaXMudlMpfXJldHVybiB0aGlzLnlTfSx0aGlzLlNTPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLlVJKGUpLHRoaXMuc2lnbigpfSx0aGlzLlRTPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLkJJKGUpLHRoaXMuc2lnbigpfSx0aGlzLnZlcmlmeT1mdW5jdGlvbihlKXtpZih0aGlzLnZTPXRoaXMuRkkuZGlnZXN0KCksdm9pZCAwIT09dGhpcy5wUyYmdm9pZCAwIT09dGhpcy51Uyl7cmV0dXJuIG5ldyBLSlVSLmNyeXB0by5kUyh7Y3VydmU6dGhpcy51U30pLlJTKHRoaXMudlMsZSx0aGlzLnBTKX1pZih0aGlzLmFTIGluc3RhbmNlb2YgWCYmXCJyc2FhbmRtZ2YxXCI9PXRoaXMuaVMpcmV0dXJuIHRoaXMuYVMua3YodGhpcy52UyxlLHRoaXMuclMsdGhpcy5tUyk7aWYodGhpcy5hUyBpbnN0YW5jZW9mIFgmJlwicnNhXCI9PXRoaXMuaVMpcmV0dXJuIHRoaXMuYVMud1ModGhpcy52UyxlKTtpZih0aGlzLmFTIGluc3RhbmNlb2YgS0pVUi5jcnlwdG8uZFMpcmV0dXJuIHRoaXMuYVMud1ModGhpcy52UyxlKTtpZih0aGlzLmFTIGluc3RhbmNlb2YgS0pVUi5jcnlwdG8uSVMpcmV0dXJuIHRoaXMuYVMud1ModGhpcy52UyxlKTt0aHJvd1wiU2lnbmF0dXJlOiB1bnN1cHBvcnRlZCBwdWJsaWMga2V5IGFsZzogXCIrdGhpcy5pU319fSx0aGlzLmluaXQ9ZnVuY3Rpb24oZSx0KXt0aHJvd1wiaW5pdChrZXksIHBhc3MpIG5vdCBzdXBwb3J0ZWQgZm9yIHRoaXMgYWxnOnByb3Y9XCIrdGhpcy5iU30sdGhpcy5sUz1mdW5jdGlvbihlKXt0aHJvd1wiaW5pdFZlcmlmeUJ5UHVibGljS2V5KHJzYVB1YktleXkpIG5vdCBzdXBwb3J0ZWQgZm9yIHRoaXMgYWxnOnByb3Y9XCIrdGhpcy5iU30sdGhpcy5mUz1mdW5jdGlvbihlKXt0aHJvd1wiaW5pdFZlcmlmeUJ5Q2VydGlmaWNhdGVQRU0oY2VydFBFTSkgbm90IHN1cHBvcnRlZCBmb3IgdGhpcyBhbGc6cHJvdj1cIit0aGlzLmJTfSx0aGlzLmhTPWZ1bmN0aW9uKGUpe3Rocm93XCJpbml0U2lnbihwcnZLZXkpIG5vdCBzdXBwb3J0ZWQgZm9yIHRoaXMgYWxnOnByb3Y9XCIrdGhpcy5iU30sdGhpcy5VST1mdW5jdGlvbihlKXt0aHJvd1widXBkYXRlU3RyaW5nKHN0cikgbm90IHN1cHBvcnRlZCBmb3IgdGhpcyBhbGc6cHJvdj1cIit0aGlzLmJTfSx0aGlzLkJJPWZ1bmN0aW9uKGUpe3Rocm93XCJ1cGRhdGVIZXgoaGV4KSBub3Qgc3VwcG9ydGVkIGZvciB0aGlzIGFsZzpwcm92PVwiK3RoaXMuYlN9LHRoaXMuc2lnbj1mdW5jdGlvbigpe3Rocm93XCJzaWduKCkgbm90IHN1cHBvcnRlZCBmb3IgdGhpcyBhbGc6cHJvdj1cIit0aGlzLmJTfSx0aGlzLlNTPWZ1bmN0aW9uKGUpe3Rocm93XCJkaWdlc3RTdHJpbmcoc3RyKSBub3Qgc3VwcG9ydGVkIGZvciB0aGlzIGFsZzpwcm92PVwiK3RoaXMuYlN9LHRoaXMuVFM9ZnVuY3Rpb24oZSl7dGhyb3dcImRpZ2VzdEhleChoZXgpIG5vdCBzdXBwb3J0ZWQgZm9yIHRoaXMgYWxnOnByb3Y9XCIrdGhpcy5iU30sdGhpcy52ZXJpZnk9ZnVuY3Rpb24oZSl7dGhyb3dcInZlcmlmeShoU2lnVmFsKSBub3Qgc3VwcG9ydGVkIGZvciB0aGlzIGFsZzpwcm92PVwiK3RoaXMuYlN9LHRoaXMuQ1M9ZSx2b2lkIDAhPT1lJiYodm9pZCAwIT09ZS5BSSYmKHRoaXMuR0k9ZS5BSSx2b2lkIDA9PT1lLk5JP3RoaXMuVkk9S0pVUi5jcnlwdG8uYnYucW1bdGhpcy5HSV06dGhpcy5WST1lLk5JLHRoaXMuYlM9dGhpcy5HSStcIjpcIit0aGlzLlZJLHRoaXMuTUkodGhpcy5HSSx0aGlzLlZJKSx0aGlzLnRTKCkpLHZvaWQgMCE9PWUuX1MmJih0aGlzLm1TPWUuX1MpLHZvaWQgMCE9PWUuUFMpKXtpZih2b2lkIDAhPT1lLk9TKXRocm93XCJib3RoIHBydmtleXBlbSBhbmQgcHJ2a2V5cGFzIHBhcmFtZXRlcnMgbm90IHN1cHBvcnRlZFwiO3RyeXt2YXIgdD1uZXcgWDt0Lk5TKGUuUFMpLHRoaXMuaFModCl9Y2F0Y2goZSl7dGhyb3dcImZhdGFsIGVycm9yIHRvIGxvYWQgcGVtIHByaXZhdGUga2V5OiBcIitlfX19LEtKVVIuY3J5cHRvLndtPW5ldyBmdW5jdGlvbigpe3RoaXMuRFM9e2tTOlwicnNhRW5jcnlwdGlvblwiLExTOlwiZWNQdWJsaWNLZXlcIixNUzpcImRzYVwiLEZTOlwic2VjcDI1NnIxXCIsVVM6XCJzZWNwMTkyazFcIixCUzpcInNlY3AyMjRyMVwiLEhTOlwic2VjcDI1NmsxXCIseFM6XCJzZWNwNTIxcjFcIixxUzpcInNlY3AzODRyMVwiLEdTOlwiU0hBMXdpdGhEU0FcIixcIjYwODY0ODAxNjUwMzA0MDMwMVwiOlwiU0hBMjI0d2l0aERTQVwiLFwiNjA4NjQ4MDE2NTAzMDQwMzAyXCI6XCJTSEEyNTZ3aXRoRFNBXCJ9fTt2YXIgT2U9MjA7WC5wcm90b3R5cGUuUnY9JCxYLnByb3RvdHlwZS5Odj1aLFgucHJvdG90eXBlLmVuY3J5cHQ9ZWUsWC5wcm90b3R5cGUuVlM9dGUsWC5wcm90b3R5cGUudHlwZT1cIlJTQVwiOy8qISByc2FzaWduLTEuMi43LmpzIChjKSAyMDEyIEtlbmppIFVydXNoaW1hIHwga2p1ci5naXRodWIuY29tL2pzcnNhc2lnbi9saWNlbnNlXG4gKi9cbnZhciBOZT1uZXcgUmVnRXhwKFwiXCIpO05lLmNvbXBpbGUoXCJbXjAtOWEtZl1cIixcImdpXCIpLFgucHJvdG90eXBlLkN2PW5lLFgucHJvdG90eXBlLlNTPWllLFgucHJvdG90eXBlLmpTPXNlLFgucHJvdG90eXBlLlFTPW9lLFgucHJvdG90eXBlLnNpZ249aWUsWC5wcm90b3R5cGUuS1M9c2UsWC5wcm90b3R5cGUuWVM9b2UsWC5wcm90b3R5cGUuT3Y9Y2UsWC5wcm90b3R5cGUuV1M9aGUsWC5wcm90b3R5cGUuelM9aGUsWC5KUz0tMSxYLlhTPS0yLFgucHJvdG90eXBlLndTPUVlLFgucHJvdG90eXBlLlpTPWdlLFgucHJvdG90eXBlLiRTPWZlLFgucHJvdG90eXBlLnZlcmlmeT1nZSxYLnByb3RvdHlwZS5lUj1mZSxYLnByb3RvdHlwZS5rdj15ZSxYLnByb3RvdHlwZS50Uj12ZSxYLnByb3RvdHlwZS5yUj12ZSxYLmlSPS0yLHQublI9cix0LnNSPVgsdC5TaWduYXR1cmU9S0pVUi5jcnlwdG8uU2lnbmF0dXJlLHQuX0k9S0pVUi5jcnlwdG8uX0ksdC5jZz1TZSx0Lm9SPVEsdC5hUj1LfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlfSgpO2kucHA9XCJodHRwczpcIj09PWxvY2F0aW9uLnByb3RvY29sLGkueXA9ITAsaS5oUj0xZTQsaS5uaD02ZTQsaS5jUj1cIlgtSGl2ZS1UZXN0SWRcIix0Lkw9aX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBpLG4sczsvKiFcbiAqIFVSSS5qcyAtIE11dGF0aW5nIFVSTHNcbiAqXG4gKiBWZXJzaW9uOiAxLjE4LjEwXG4gKlxuICogQXV0aG9yOiBSb2RuZXkgUmVobVxuICogV2ViOiBodHRwOi8vbWVkaWFsaXplLmdpdGh1Yi5pby9VUkkuanMvXG4gKlxuICogTGljZW5zZWQgdW5kZXJcbiAqICAgTUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICpcbiAqL1xuIWZ1bmN0aW9uKG8sYSl7XCJ1c2Ugc3RyaWN0XCI7XCJvYmplY3RcIj09dHlwZW9mIGUmJmUuaT9lLmk9YShyKDE2KSxyKDE2KSxyKDE2KSk6KG49W3IoMTYpLHIoMTYpLHIoMTYpXSxpPWEsdm9pZCAwIT09KHM9XCJmdW5jdGlvblwiPT10eXBlb2YgaT9pLmFwcGx5KHQsbik6aSkmJihlLmk9cykpfSgwLGZ1bmN0aW9uKGUsdCxyLGkpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4oZSx0KXt2YXIgcj1hcmd1bWVudHMubGVuZ3RoPj0xLGk9YXJndW1lbnRzLmxlbmd0aD49MjtpZighKHRoaXMgaW5zdGFuY2VvZiBuKSlyZXR1cm4gcj9pP25ldyBuKGUsdCk6bmV3IG4oZSk6bmV3IG47aWYodm9pZCAwPT09ZSl7aWYocil0aHJvdyBuZXcgVHlwZUVycm9yKFwidW5kZWZpbmVkIGlzIG5vdCBhIHZhbGlkIGFyZ3VtZW50IGZvciBVUklcIik7ZT1cInVuZGVmaW5lZFwiIT10eXBlb2YgbG9jYXRpb24/bG9jYXRpb24uaHJlZitcIlwiOlwiXCJ9aWYobnVsbD09PWUmJnIpdGhyb3cgbmV3IFR5cGVFcnJvcihcIm51bGwgaXMgbm90IGEgdmFsaWQgYXJndW1lbnQgZm9yIFVSSVwiKTtyZXR1cm4gdGhpcy5ocmVmKGUpLHZvaWQgMCE9PXQ/dGhpcy5QaCh0KTp0aGlzfWZ1bmN0aW9uIHMoZSl7cmV0dXJuIGUucmVwbGFjZSgvKFsuKis/Xj0hOiR7fSgpfFtcXF1cXC9cXFxcXSkvZyxcIlxcXFwkMVwiKX1mdW5jdGlvbiBvKGUpe3JldHVybiB2b2lkIDA9PT1lP1wiVW5kZWZpbmVkXCI6U3RyaW5nKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKSkuc2xpY2UoOCwtMSl9ZnVuY3Rpb24gYShlKXtyZXR1cm5cIkFycmF5XCI9PT1vKGUpfWZ1bmN0aW9uIGgoZSx0KXt2YXIgcixpLG49e307aWYoXCJSZWdFeHBcIj09PW8odCkpbj1udWxsO2Vsc2UgaWYoYSh0KSlmb3Iocj0wLGk9dC5sZW5ndGg7cjxpO3IrKyluW3Rbcl1dPSEwO2Vsc2Ugblt0XT0hMDtmb3Iocj0wLGk9ZS5sZW5ndGg7cjxpO3IrKyl7KG4mJnZvaWQgMCE9PW5bZVtyXV18fCFuJiZ0LnRlc3QoZVtyXSkpJiYoZS5zcGxpY2UociwxKSxpLS0sci0tKX1yZXR1cm4gZX1mdW5jdGlvbiBjKGUsdCl7dmFyIHIsaTtpZihhKHQpKXtmb3Iocj0wLGk9dC5sZW5ndGg7cjxpO3IrKylpZighYyhlLHRbcl0pKXJldHVybiExO3JldHVybiEwfXZhciBuPW8odCk7Zm9yKHI9MCxpPWUubGVuZ3RoO3I8aTtyKyspaWYoXCJSZWdFeHBcIj09PW4pe2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlW3JdJiZlW3JdLm1hdGNoKHQpKXJldHVybiEwfWVsc2UgaWYoZVtyXT09PXQpcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gdShlLHQpe2lmKCFhKGUpfHwhYSh0KSlyZXR1cm4hMTtpZihlLmxlbmd0aCE9PXQubGVuZ3RoKXJldHVybiExO2Uuc29ydCgpLHQuc29ydCgpO2Zvcih2YXIgcj0wLGk9ZS5sZW5ndGg7cjxpO3IrKylpZihlW3JdIT09dFtyXSlyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiBsKGUpe3ZhciB0PS9eXFwvK3xcXC8rJC9nO3JldHVybiBlLnJlcGxhY2UodCxcIlwiKX1mdW5jdGlvbiBwKGUpe3JldHVybiBlc2NhcGUoZSl9ZnVuY3Rpb24gZChlKXtyZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KGUpLnJlcGxhY2UoL1shJygpKl0vZyxwKS5yZXBsYWNlKC9cXCovZyxcIiUyQVwiKX1mdW5jdGlvbiBmKGUpe3JldHVybiBmdW5jdGlvbih0LHIpe3JldHVybiB2b2lkIDA9PT10P3RoaXMudVJbZV18fFwiXCI6KHRoaXMudVJbZV09dHx8bnVsbCx0aGlzLlhnKCFyKSx0aGlzKX19ZnVuY3Rpb24gZyhlLHQpe3JldHVybiBmdW5jdGlvbihyLGkpe3JldHVybiB2b2lkIDA9PT1yP3RoaXMudVJbZV18fFwiXCI6KG51bGwhPT1yJiYocis9XCJcIixyLmNoYXJBdCgwKT09PXQmJihyPXIuc3Vic3RyaW5nKDEpKSksdGhpcy51UltlXT1yLHRoaXMuWGcoIWkpLHRoaXMpfX12YXIgRT1pJiZpLmxSO24udmVyc2lvbj1cIjEuMTguMTBcIjt2YXIgdj1uLnByb3RvdHlwZSx5PU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7bi51Uj1mdW5jdGlvbigpe3JldHVybntwcm90b2NvbDpudWxsLHVzZXJuYW1lOm51bGwscGFzc3dvcmQ6bnVsbCxob3N0bmFtZTpudWxsLHVybjpudWxsLHBvcnQ6bnVsbCxwYXRoOm51bGwscXVlcnk6bnVsbCxwUjpudWxsLGRSOm4uZFIsZlI6bi5mUn19LG4uZFI9ITEsbi5mUj0hMCxuLmdSPS9eW2Etel1bYS16MC05ListXSokL2ksbi5FUj0vW15hLXowLTlcXC4tXS9pLG4udlI9Lyh4bi0tKS9pLG4ueVI9L15cXGR7MSwzfVxcLlxcZHsxLDN9XFwuXFxkezEsM31cXC5cXGR7MSwzfSQvLG4uVFI9L15cXHMqKCgoWzAtOUEtRmEtZl17MSw0fTopezd9KFswLTlBLUZhLWZdezEsNH18OikpfCgoWzAtOUEtRmEtZl17MSw0fTopezZ9KDpbMC05QS1GYS1mXXsxLDR9fCgoMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKFxcLigyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkpezN9KXw6KSl8KChbMC05QS1GYS1mXXsxLDR9Oil7NX0oKCg6WzAtOUEtRmEtZl17MSw0fSl7MSwyfSl8OigoMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKFxcLigyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkpezN9KXw6KSl8KChbMC05QS1GYS1mXXsxLDR9Oil7NH0oKCg6WzAtOUEtRmEtZl17MSw0fSl7MSwzfSl8KCg6WzAtOUEtRmEtZl17MSw0fSk/OigoMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKFxcLigyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkpezN9KSl8OikpfCgoWzAtOUEtRmEtZl17MSw0fTopezN9KCgoOlswLTlBLUZhLWZdezEsNH0pezEsNH0pfCgoOlswLTlBLUZhLWZdezEsNH0pezAsMn06KCgyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoXFwuKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSl7M30pKXw6KSl8KChbMC05QS1GYS1mXXsxLDR9Oil7Mn0oKCg6WzAtOUEtRmEtZl17MSw0fSl7MSw1fSl8KCg6WzAtOUEtRmEtZl17MSw0fSl7MCwzfTooKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKShcXC4oMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSkpfDopKXwoKFswLTlBLUZhLWZdezEsNH06KXsxfSgoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDZ9KXwoKDpbMC05QS1GYS1mXXsxLDR9KXswLDR9OigoMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKFxcLigyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkpezN9KSl8OikpfCg6KCgoOlswLTlBLUZhLWZdezEsNH0pezEsN30pfCgoOlswLTlBLUZhLWZdezEsNH0pezAsNX06KCgyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoXFwuKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSl7M30pKXw6KSkpKCUuKyk/XFxzKiQvLG4ubVI9L1xcYigoPzpbYS16XVtcXHctXSs6KD86XFwvezEsM318W2EtejAtOSVdKXx3d3dcXGR7MCwzfVsuXXxbYS16MC05LlxcLV0rWy5dW2Etel17Miw0fVxcLykoPzpbXlxccygpPD5dK3xcXCgoW15cXHMoKTw+XSt8KFxcKFteXFxzKCk8Pl0rXFwpKSkqXFwpKSsoPzpcXCgoW15cXHMoKTw+XSt8KFxcKFteXFxzKCk8Pl0rXFwpKSkqXFwpfFteXFxzYCEoKVxcW1xcXXt9OzonXCIuLDw+P8KrwrvigJzigJ3igJjigJldKSkvZ2ksbi5JUj17c3RhcnQ6L1xcYig/OihbYS16XVthLXowLTkuKy1dKjpcXC9cXC8pfHd3d1xcLikvZ2ksZW5kOi9bXFxzXFxyXFxuXXwkLyx0cmltOi9bYCEoKVxcW1xcXXt9OzonXCIuLDw+P8KrwrvigJzigJ3igJ7igJjigJldKyQvLFNSOi8oXFwoW15cXCldKlxcKXxcXFtbXlxcXV0qXFxdfFxce1tefV0qXFx9fDxbXj5dKj4pL2d9LG4uUlI9e3dSOlwiODBcIixiUjpcIjQ0M1wiLENSOlwiMjFcIixfUjpcIjcwXCIsUFI6XCI4MFwiLEFSOlwiNDQzXCJ9LG4uT1I9L1teYS16QS1aMC05XFwuLV0vLG4uTlI9e2E6XCJocmVmXCIsRFI6XCJjaXRlXCIsbGluazpcImhyZWZcIixrUjpcImhyZWZcIixMUjpcInNyY1wiLGZvcm06XCJhY3Rpb25cIixNUjpcInNyY1wiLEZSOlwiaHJlZlwiLFVSOlwic3JjXCIsQlI6XCJzcmNcIixzb3VyY2U6XCJzcmNcIix0cmFjazpcInNyY1wiLGlucHV0Olwic3JjXCIsSFI6XCJzcmNcIix2aWRlbzpcInNyY1wifSxuLnhSPWZ1bmN0aW9uKGUpe2lmKGUmJmUubm9kZU5hbWUpe3ZhciB0PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtpZihcImlucHV0XCIhPT10fHxcImltYWdlXCI9PT1lLnR5cGUpcmV0dXJuIG4uTlJbdF19fSxuLmVuY29kZT1kLG4uZGVjb2RlPWRlY29kZVVSSUNvbXBvbmVudCxuLnFSPWZ1bmN0aW9uKCl7bi5lbmNvZGU9ZXNjYXBlLG4uZGVjb2RlPXVuZXNjYXBlfSxuLkdSPWZ1bmN0aW9uKCl7bi5lbmNvZGU9ZCxuLmRlY29kZT1kZWNvZGVVUklDb21wb25lbnR9LG4uVlI9e3BhdGhuYW1lOntlbmNvZGU6e2pSOi8lKDI0fDI2fDJCfDJDfDNCfDNEfDNBfDQwKS9naSxtYXA6e1wiJTI0XCI6XCIkXCIsXCIlMjZcIjpcIiZcIixcIiUyQlwiOlwiK1wiLFwiJTJDXCI6XCIsXCIsXCIlM0JcIjpcIjtcIixcIiUzRFwiOlwiPVwiLFwiJTNBXCI6XCI6XCIsXCIlNDBcIjpcIkBcIn19LGRlY29kZTp7alI6L1tcXC9cXD8jXS9nLG1hcDp7cHk6XCIlMkZcIixRUjpcIiUzRlwiLEtSOlwiJTIzXCJ9fX0sWVI6e2VuY29kZTp7alI6LyUoMjF8MjN8MjR8MjZ8Mjd8Mjh8Mjl8MkF8MkJ8MkN8MkZ8M0F8M0J8M0R8M0Z8NDB8NUJ8NUQpL2dpLG1hcDp7XCIlM0FcIjpcIjpcIixXUjpcIi9cIix6UjpcIj9cIixKUjpcIiNcIixYUjpcIltcIixaUjpcIl1cIixcIiU0MFwiOlwiQFwiLCRSOlwiIVwiLFwiJTI0XCI6XCIkXCIsXCIlMjZcIjpcIiZcIixldzpcIidcIix0dzpcIihcIixydzpcIilcIixpdzpcIipcIixcIiUyQlwiOlwiK1wiLFwiJTJDXCI6XCIsXCIsXCIlM0JcIjpcIjtcIixcIiUzRFwiOlwiPVwifX19LG53OntlbmNvZGU6e2pSOi8lKDIxfDI0fDI3fDI4fDI5fDJBfDJCfDJDfDNCfDNEfDQwKS9naSxtYXA6eyRSOlwiIVwiLFwiJTI0XCI6XCIkXCIsZXc6XCInXCIsdHc6XCIoXCIscnc6XCIpXCIsaXc6XCIqXCIsXCIlMkJcIjpcIitcIixcIiUyQ1wiOlwiLFwiLFwiJTNCXCI6XCI7XCIsXCIlM0RcIjpcIj1cIixcIiU0MFwiOlwiQFwifX0sZGVjb2RlOntqUjovW1xcL1xcPyM6XS9nLG1hcDp7cHk6XCIlMkZcIixRUjpcIiUzRlwiLEtSOlwiJTIzXCIsc3c6XCIlM0FcIn19fX0sbi5vdz1mdW5jdGlvbihlLHQpe3ZhciByPW4uZW5jb2RlKGUrXCJcIik7cmV0dXJuIHZvaWQgMD09PXQmJih0PW4uZlIpLHQ/ci5yZXBsYWNlKC8lMjAvZyxcIitcIik6cn0sbi5hdz1mdW5jdGlvbihlLHQpe2UrPVwiXCIsdm9pZCAwPT09dCYmKHQ9bi5mUik7dHJ5e3JldHVybiBuLmRlY29kZSh0P2UucmVwbGFjZSgvXFwrL2csXCIlMjBcIik6ZSl9Y2F0Y2godCl7cmV0dXJuIGV9fTt2YXIgVCxtPXtlbmNvZGU6XCJlbmNvZGVcIixkZWNvZGU6XCJkZWNvZGVcIn0sST1mdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbihyKXt0cnl7cmV0dXJuIG5bdF0ocitcIlwiKS5yZXBsYWNlKG4uVlJbZV1bdF0ualIsZnVuY3Rpb24ocil7cmV0dXJuIG4uVlJbZV1bdF0ubWFwW3JdfSl9Y2F0Y2goZSl7cmV0dXJuIHJ9fX07Zm9yKFQgaW4gbSluW1QrXCJQYXRoU2VnbWVudFwiXT1JKFwicGF0aG5hbWVcIixtW1RdKSxuW1QrXCJVcm5QYXRoU2VnbWVudFwiXT1JKFwidXJucGF0aFwiLG1bVF0pO3ZhciBTPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZnVuY3Rpb24oaSl7dmFyIHM7cz1yP2Z1bmN0aW9uKGUpe3JldHVybiBuW3RdKG5bcl0oZSkpfTpuW3RdO2Zvcih2YXIgbz0oaStcIlwiKS5zcGxpdChlKSxhPTAsaD1vLmxlbmd0aDthPGg7YSsrKW9bYV09cyhvW2FdKTtyZXR1cm4gby5qb2luKGUpfX07bi5odz1TKFwiL1wiLFwiZGVjb2RlUGF0aFNlZ21lbnRcIiksbi5jdz1TKFwiOlwiLFwiZGVjb2RlVXJuUGF0aFNlZ21lbnRcIiksbi51dz1TKFwiL1wiLFwiZW5jb2RlUGF0aFNlZ21lbnRcIixcImRlY29kZVwiKSxuLmx3PVMoXCI6XCIsXCJlbmNvZGVVcm5QYXRoU2VnbWVudFwiLFwiZGVjb2RlXCIpLG4ucHc9SShcInJlc2VydmVkXCIsXCJlbmNvZGVcIiksbi5wYXJzZT1mdW5jdGlvbihlLHQpe3ZhciByO3JldHVybiB0fHwodD17fSkscj1lLmluZGV4T2YoXCIjXCIpLHI+LTEmJih0LnBSPWUuc3Vic3RyaW5nKHIrMSl8fG51bGwsZT1lLnN1YnN0cmluZygwLHIpKSxyPWUuaW5kZXhPZihcIj9cIikscj4tMSYmKHQucXVlcnk9ZS5zdWJzdHJpbmcocisxKXx8bnVsbCxlPWUuc3Vic3RyaW5nKDAscikpLFwiLy9cIj09PWUuc3Vic3RyaW5nKDAsMik/KHQucHJvdG9jb2w9bnVsbCxlPWUuc3Vic3RyaW5nKDIpLGU9bi5kdyhlLHQpKToocj1lLmluZGV4T2YoXCI6XCIpKT4tMSYmKHQucHJvdG9jb2w9ZS5zdWJzdHJpbmcoMCxyKXx8bnVsbCx0LnByb3RvY29sJiYhdC5wcm90b2NvbC5tYXRjaChuLmdSKT90LnByb3RvY29sPXZvaWQgMDpcIi8vXCI9PT1lLnN1YnN0cmluZyhyKzEsciszKT8oZT1lLnN1YnN0cmluZyhyKzMpLGU9bi5kdyhlLHQpKTooZT1lLnN1YnN0cmluZyhyKzEpLHQudXJuPSEwKSksdC5wYXRoPWUsdH0sbi5mdz1mdW5jdGlvbihlLHQpe2U9ZS5yZXBsYWNlKC9cXFxcL2csXCIvXCIpO3ZhciByLGksbj1lLmluZGV4T2YoXCIvXCIpO2lmKC0xPT09biYmKG49ZS5sZW5ndGgpLFwiW1wiPT09ZS5jaGFyQXQoMCkpcj1lLmluZGV4T2YoXCJdXCIpLHQuaG9zdG5hbWU9ZS5zdWJzdHJpbmcoMSxyKXx8bnVsbCx0LnBvcnQ9ZS5zdWJzdHJpbmcocisyLG4pfHxudWxsLFwiL1wiPT09dC5wb3J0JiYodC5wb3J0PW51bGwpO2Vsc2V7dmFyIHM9ZS5pbmRleE9mKFwiOlwiKSxvPWUuaW5kZXhPZihcIi9cIiksYT1lLmluZGV4T2YoXCI6XCIscysxKTstMSE9PWEmJigtMT09PW98fGE8byk/KHQuaG9zdG5hbWU9ZS5zdWJzdHJpbmcoMCxuKXx8bnVsbCx0LnBvcnQ9bnVsbCk6KGk9ZS5zdWJzdHJpbmcoMCxuKS5zcGxpdChcIjpcIiksdC5ob3N0bmFtZT1pWzBdfHxudWxsLHQucG9ydD1pWzFdfHxudWxsKX1yZXR1cm4gdC5ob3N0bmFtZSYmXCIvXCIhPT1lLnN1YnN0cmluZyhuKS5jaGFyQXQoMCkmJihuKyssZT1cIi9cIitlKSxlLnN1YnN0cmluZyhuKXx8XCIvXCJ9LG4uZHc9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT1uLmd3KGUsdCksbi5mdyhlLHQpfSxuLmd3PWZ1bmN0aW9uKGUsdCl7dmFyIHIsaT1lLmluZGV4T2YoXCIvXCIpLHM9ZS5sYXN0SW5kZXhPZihcIkBcIixpPi0xP2k6ZS5sZW5ndGgtMSk7cmV0dXJuIHM+LTEmJigtMT09PWl8fHM8aSk/KHI9ZS5zdWJzdHJpbmcoMCxzKS5zcGxpdChcIjpcIiksdC51c2VybmFtZT1yWzBdP24uZGVjb2RlKHJbMF0pOm51bGwsci5zaGlmdCgpLHQucGFzc3dvcmQ9clswXT9uLmRlY29kZShyLmpvaW4oXCI6XCIpKTpudWxsLGU9ZS5zdWJzdHJpbmcocysxKSk6KHQudXNlcm5hbWU9bnVsbCx0LnBhc3N3b3JkPW51bGwpLGV9LG4uRXc9ZnVuY3Rpb24oZSx0KXtpZighZSlyZXR1cm57fTtpZighKGU9ZS5yZXBsYWNlKC8mKy9nLFwiJlwiKS5yZXBsYWNlKC9eXFw/KiYqfCYrJC9nLFwiXCIpKSlyZXR1cm57fTtmb3IodmFyIHIsaSxzLG89e30sYT1lLnNwbGl0KFwiJlwiKSxoPWEubGVuZ3RoLGM9MDtjPGg7YysrKXI9YVtjXS5zcGxpdChcIj1cIiksaT1uLmF3KHIuc2hpZnQoKSx0KSxzPXIubGVuZ3RoP24uYXcoci5qb2luKFwiPVwiKSx0KTpudWxsLHkuY2FsbChvLGkpPyhcInN0cmluZ1wiIT10eXBlb2Ygb1tpXSYmbnVsbCE9PW9baV18fChvW2ldPVtvW2ldXSksb1tpXS5wdXNoKHMpKTpvW2ldPXM7cmV0dXJuIG99LG4uWGc9ZnVuY3Rpb24oZSl7dmFyIHQ9XCJcIjtyZXR1cm4gZS5wcm90b2NvbCYmKHQrPWUucHJvdG9jb2wrXCI6XCIpLGUudXJufHwhdCYmIWUuaG9zdG5hbWV8fCh0Kz1cIi8vXCIpLHQrPW4udncoZSl8fFwiXCIsXCJzdHJpbmdcIj09dHlwZW9mIGUucGF0aCYmKFwiL1wiIT09ZS5wYXRoLmNoYXJBdCgwKSYmXCJzdHJpbmdcIj09dHlwZW9mIGUuaG9zdG5hbWUmJih0Kz1cIi9cIiksdCs9ZS5wYXRoKSxcInN0cmluZ1wiPT10eXBlb2YgZS5xdWVyeSYmZS5xdWVyeSYmKHQrPVwiP1wiK2UucXVlcnkpLFwic3RyaW5nXCI9PXR5cGVvZiBlLnBSJiZlLnBSJiYodCs9XCIjXCIrZS5wUiksdH0sbi55dz1mdW5jdGlvbihlKXt2YXIgdD1cIlwiO3JldHVybiBlLmhvc3RuYW1lPyhuLlRSLnRlc3QoZS5ob3N0bmFtZSk/dCs9XCJbXCIrZS5ob3N0bmFtZStcIl1cIjp0Kz1lLmhvc3RuYW1lLGUucG9ydCYmKHQrPVwiOlwiK2UucG9ydCksdCk6XCJcIn0sbi52dz1mdW5jdGlvbihlKXtyZXR1cm4gbi5UdyhlKStuLnl3KGUpfSxuLlR3PWZ1bmN0aW9uKGUpe3ZhciB0PVwiXCI7cmV0dXJuIGUudXNlcm5hbWUmJih0Kz1uLmVuY29kZShlLnVzZXJuYW1lKSksZS5wYXNzd29yZCYmKHQrPVwiOlwiK24uZW5jb2RlKGUucGFzc3dvcmQpKSx0JiYodCs9XCJAXCIpLHR9LG4ubXc9ZnVuY3Rpb24oZSx0LHIpe3ZhciBpLHMsbyxoLGM9XCJcIjtmb3IocyBpbiBlKWlmKHkuY2FsbChlLHMpJiZzKWlmKGEoZVtzXSkpZm9yKGk9e30sbz0wLGg9ZVtzXS5sZW5ndGg7bzxoO28rKyl2b2lkIDAhPT1lW3NdW29dJiZ2b2lkIDA9PT1pW2Vbc11bb10rXCJcIl0mJihjKz1cIiZcIituLkl3KHMsZVtzXVtvXSxyKSwhMCE9PXQmJihpW2Vbc11bb10rXCJcIl09ITApKTtlbHNlIHZvaWQgMCE9PWVbc10mJihjKz1cIiZcIituLkl3KHMsZVtzXSxyKSk7cmV0dXJuIGMuc3Vic3RyaW5nKDEpfSxuLkl3PWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gbi5vdyhlLHIpKyhudWxsIT09dD9cIj1cIituLm93KHQscik6XCJcIil9LG4uU3c9ZnVuY3Rpb24oZSx0LHIpe2lmKFwib2JqZWN0XCI9PXR5cGVvZiB0KWZvcih2YXIgaSBpbiB0KXkuY2FsbCh0LGkpJiZuLlN3KGUsaSx0W2ldKTtlbHNle2lmKFwic3RyaW5nXCIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoXCJVUkkuYWRkUXVlcnkoKSBhY2NlcHRzIGFuIG9iamVjdCwgc3RyaW5nIGFzIHRoZSBuYW1lIHBhcmFtZXRlclwiKTtpZih2b2lkIDA9PT1lW3RdKXJldHVybiB2b2lkKGVbdF09cik7XCJzdHJpbmdcIj09dHlwZW9mIGVbdF0mJihlW3RdPVtlW3RdXSksYShyKXx8KHI9W3JdKSxlW3RdPShlW3RdfHxbXSkuY29uY2F0KHIpfX0sbi5Sdz1mdW5jdGlvbihlLHQscil7dmFyIGkscyxjO2lmKGEodCkpZm9yKGk9MCxzPXQubGVuZ3RoO2k8cztpKyspZVt0W2ldXT12b2lkIDA7ZWxzZSBpZihcIlJlZ0V4cFwiPT09byh0KSlmb3IoYyBpbiBlKXQudGVzdChjKSYmKGVbY109dm9pZCAwKTtlbHNlIGlmKFwib2JqZWN0XCI9PXR5cGVvZiB0KWZvcihjIGluIHQpeS5jYWxsKHQsYykmJm4uUncoZSxjLHRbY10pO2Vsc2V7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlVSSS5yZW1vdmVRdWVyeSgpIGFjY2VwdHMgYW4gb2JqZWN0LCBzdHJpbmcsIFJlZ0V4cCBhcyB0aGUgZmlyc3QgcGFyYW1ldGVyXCIpO3ZvaWQgMCE9PXI/XCJSZWdFeHBcIj09PW8ocik/IWEoZVt0XSkmJnIudGVzdChlW3RdKT9lW3RdPXZvaWQgMDplW3RdPWgoZVt0XSxyKTplW3RdIT09U3RyaW5nKHIpfHxhKHIpJiYxIT09ci5sZW5ndGg/YShlW3RdKSYmKGVbdF09aChlW3RdLHIpKTplW3RdPXZvaWQgMDplW3RdPXZvaWQgMH19LG4ud3c9ZnVuY3Rpb24oZSx0LHIsaSl7c3dpdGNoKG8odCkpe2Nhc2VcIlN0cmluZ1wiOmJyZWFrO2Nhc2VcIlJlZ0V4cFwiOmZvcih2YXIgcyBpbiBlKWlmKHkuY2FsbChlLHMpJiZ0LnRlc3QocykmJih2b2lkIDA9PT1yfHxuLnd3KGUscyxyKSkpcmV0dXJuITA7cmV0dXJuITE7Y2FzZVwiT2JqZWN0XCI6Zm9yKHZhciBoIGluIHQpaWYoeS5jYWxsKHQsaCkmJiFuLnd3KGUsaCx0W2hdKSlyZXR1cm4hMTtyZXR1cm4hMDtkZWZhdWx0OnRocm93IG5ldyBUeXBlRXJyb3IoXCJVUkkuaGFzUXVlcnkoKSBhY2NlcHRzIGEgc3RyaW5nLCByZWd1bGFyIGV4cHJlc3Npb24gb3Igb2JqZWN0IGFzIHRoZSBuYW1lIHBhcmFtZXRlclwiKX1zd2l0Y2gobyhyKSl7Y2FzZVwiVW5kZWZpbmVkXCI6cmV0dXJuIHQgaW4gZTtjYXNlXCJCb29sZWFuXCI6cmV0dXJuIHI9PT1Cb29sZWFuKGEoZVt0XSk/ZVt0XS5sZW5ndGg6ZVt0XSk7Y2FzZVwiRnVuY3Rpb25cIjpyZXR1cm4hIXIoZVt0XSx0LGUpO2Nhc2VcIkFycmF5XCI6aWYoIWEoZVt0XSkpcmV0dXJuITE7cmV0dXJuKGk/Yzp1KShlW3RdLHIpO2Nhc2VcIlJlZ0V4cFwiOnJldHVybiBhKGVbdF0pPyEhaSYmYyhlW3RdLHIpOkJvb2xlYW4oZVt0XSYmZVt0XS5tYXRjaChyKSk7Y2FzZVwiTnVtYmVyXCI6cj1TdHJpbmcocik7Y2FzZVwiU3RyaW5nXCI6cmV0dXJuIGEoZVt0XSk/ISFpJiZjKGVbdF0scik6ZVt0XT09PXI7ZGVmYXVsdDp0aHJvdyBuZXcgVHlwZUVycm9yKFwiVVJJLmhhc1F1ZXJ5KCkgYWNjZXB0cyB1bmRlZmluZWQsIGJvb2xlYW4sIHN0cmluZywgbnVtYmVyLCBSZWdFeHAsIEZ1bmN0aW9uIGFzIHRoZSB2YWx1ZSBwYXJhbWV0ZXJcIil9fSxuLmJ3PWZ1bmN0aW9uKCl7Zm9yKHZhciBlPVtdLHQ9W10scj0wLGk9MDtpPGFyZ3VtZW50cy5sZW5ndGg7aSsrKXt2YXIgcz1uZXcgbihhcmd1bWVudHNbaV0pO2UucHVzaChzKTtmb3IodmFyIG89cy5DdygpLGE9MDthPG8ubGVuZ3RoO2ErKylcInN0cmluZ1wiPT10eXBlb2Ygb1thXSYmdC5wdXNoKG9bYV0pLG9bYV0mJnIrK31pZighdC5sZW5ndGh8fCFyKXJldHVybiBuZXcgbihcIlwiKTt2YXIgaD1uZXcgbihcIlwiKS5Ddyh0KTtyZXR1cm5cIlwiIT09ZVswXS5wYXRoKCkmJlwiL1wiIT09ZVswXS5wYXRoKCkuc2xpY2UoMCwxKXx8aC5wYXRoKFwiL1wiK2gucGF0aCgpKSxoLm5vcm1hbGl6ZSgpfSxuLl93PWZ1bmN0aW9uKGUsdCl7dmFyIHIsaT1NYXRoLm1pbihlLmxlbmd0aCx0Lmxlbmd0aCk7Zm9yKHI9MDtyPGk7cisrKWlmKGUuY2hhckF0KHIpIT09dC5jaGFyQXQocikpe3ItLTticmVha31yZXR1cm4gcjwxP2UuY2hhckF0KDApPT09dC5jaGFyQXQoMCkmJlwiL1wiPT09ZS5jaGFyQXQoMCk/XCIvXCI6XCJcIjooXCIvXCI9PT1lLmNoYXJBdChyKSYmXCIvXCI9PT10LmNoYXJBdChyKXx8KHI9ZS5zdWJzdHJpbmcoMCxyKS5sYXN0SW5kZXhPZihcIi9cIikpLGUuc3Vic3RyaW5nKDAscisxKSl9LG4uUHc9ZnVuY3Rpb24oZSx0LHIpe3J8fChyPXt9KTt2YXIgaT1yLnN0YXJ0fHxuLklSLnN0YXJ0LHM9ci5lbmR8fG4uSVIuZW5kLG89ci50cmltfHxuLklSLnRyaW0sYT1yLlNSfHxuLklSLlNSLGg9L1thLXowLTktXT1bXCInXT8kL2k7Zm9yKGkubGFzdEluZGV4PTA7Oyl7dmFyIGM9aS5leGVjKGUpO2lmKCFjKWJyZWFrO3ZhciB1PWMuaW5kZXg7aWYoci5Bdyl7dmFyIGw9ZS5zbGljZShNYXRoLm1heCh1LTMsMCksdSk7aWYobCYmaC50ZXN0KGwpKWNvbnRpbnVlfWZvcih2YXIgcD11K2Uuc2xpY2UodSkuc2VhcmNoKHMpLGQ9ZS5zbGljZSh1LHApLGY9LTE7Oyl7dmFyIGc9YS5leGVjKGQpO2lmKCFnKWJyZWFrO3ZhciBFPWcuaW5kZXgrZ1swXS5sZW5ndGg7Zj1NYXRoLm1heChmLEUpfWlmKGQ9Zj4tMT9kLnNsaWNlKDAsZikrZC5zbGljZShmKS5yZXBsYWNlKG8sXCJcIik6ZC5yZXBsYWNlKG8sXCJcIiksIShkLmxlbmd0aDw9Y1swXS5sZW5ndGh8fHIuT3cmJnIuT3cudGVzdChkKSkpe3A9dStkLmxlbmd0aDt2YXIgdj10KGQsdSxwLGUpO3ZvaWQgMCE9PXY/KHY9U3RyaW5nKHYpLGU9ZS5zbGljZSgwLHUpK3YrZS5zbGljZShwKSxpLmxhc3RJbmRleD11K3YubGVuZ3RoKTppLmxhc3RJbmRleD1wfX1yZXR1cm4gaS5sYXN0SW5kZXg9MCxlfSxuLk53PWZ1bmN0aW9uKHQpe2lmKHQubWF0Y2gobi5PUikpe2lmKCFlKXRocm93IG5ldyBUeXBlRXJyb3IoJ0hvc3RuYW1lIFwiJyt0KydcIiBjb250YWlucyBjaGFyYWN0ZXJzIG90aGVyIHRoYW4gW0EtWjAtOS4tXSBhbmQgUHVueWNvZGUuanMgaXMgbm90IGF2YWlsYWJsZScpO2lmKGUuRHcodCkubWF0Y2gobi5PUikpdGhyb3cgbmV3IFR5cGVFcnJvcignSG9zdG5hbWUgXCInK3QrJ1wiIGNvbnRhaW5zIGNoYXJhY3RlcnMgb3RoZXIgdGhhbiBbQS1aMC05Li1dJyl9fSxuLndvPWZ1bmN0aW9uKGUpe2lmKGUpe3ZhciB0PXtsUjp0aGlzLndvKCl9O3JldHVybiBpLmt3JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBpLmt3LndvJiYodC5rdz1pLmt3LndvKCkpLGkuTHcmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGkuTHcud28mJih0Lkx3PWkuTHcud28oKSksaS5NdyYmXCJmdW5jdGlvblwiPT10eXBlb2YgaS5Ndy53byYmKHQuTXc9aS5Ndy53bygpKSx0fXJldHVybiBpLmxSPT09dGhpcyYmKGkubFI9RSksdGhpc30sdi5YZz1mdW5jdGlvbihlKXtyZXR1cm4hMD09PWU/dGhpcy5Gdz0hMDoodm9pZCAwPT09ZXx8dGhpcy5GdykmJih0aGlzLlV3PW4uWGcodGhpcy51UiksdGhpcy5Gdz0hMSksdGhpc30sdi5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgbih0aGlzKX0sdi52YWx1ZU9mPXYudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5YZyghMSkuVXd9LHYucHJvdG9jb2w9ZihcInByb3RvY29sXCIpLHYudXNlcm5hbWU9ZihcInVzZXJuYW1lXCIpLHYucGFzc3dvcmQ9ZihcInBhc3N3b3JkXCIpLHYuaG9zdG5hbWU9ZihcImhvc3RuYW1lXCIpLHYucG9ydD1mKFwicG9ydFwiKSx2LnF1ZXJ5PWcoXCJxdWVyeVwiLFwiP1wiKSx2LnBSPWcoXCJmcmFnbWVudFwiLFwiI1wiKSx2LnNlYXJjaD1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMucXVlcnkoZSx0KTtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgciYmci5sZW5ndGg/XCI/XCIrcjpyfSx2Lmhhc2g9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLnBSKGUsdCk7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHImJnIubGVuZ3RoP1wiI1wiK3I6cn0sdi5wYXRobmFtZT1mdW5jdGlvbihlLHQpe2lmKHZvaWQgMD09PWV8fCEwPT09ZSl7dmFyIHI9dGhpcy51Ui5wYXRofHwodGhpcy51Ui5ob3N0bmFtZT9cIi9cIjpcIlwiKTtyZXR1cm4gZT8odGhpcy51Ui51cm4/bi5jdzpuLmh3KShyKTpyfXJldHVybiB0aGlzLnVSLnVybj90aGlzLnVSLnBhdGg9ZT9uLmx3KGUpOlwiXCI6dGhpcy51Ui5wYXRoPWU/bi51dyhlKTpcIi9cIix0aGlzLlhnKCF0KSx0aGlzfSx2LnBhdGg9di5wYXRobmFtZSx2LmhyZWY9ZnVuY3Rpb24oZSx0KXt2YXIgcjtpZih2b2lkIDA9PT1lKXJldHVybiB0aGlzLnRvU3RyaW5nKCk7dGhpcy5Vdz1cIlwiLHRoaXMudVI9bi51UigpO3ZhciBpPWUgaW5zdGFuY2VvZiBuLHM9XCJvYmplY3RcIj09dHlwZW9mIGUmJihlLmhvc3RuYW1lfHxlLnBhdGh8fGUucGF0aG5hbWUpO2lmKGUubm9kZU5hbWUpe2U9ZVtuLnhSKGUpXXx8XCJcIixzPSExfWlmKCFpJiZzJiZ2b2lkIDAhPT1lLnBhdGhuYW1lJiYoZT1lLnRvU3RyaW5nKCkpLFwic3RyaW5nXCI9PXR5cGVvZiBlfHxlIGluc3RhbmNlb2YgU3RyaW5nKXRoaXMudVI9bi5wYXJzZShTdHJpbmcoZSksdGhpcy51Uik7ZWxzZXtpZighaSYmIXMpdGhyb3cgbmV3IFR5cGVFcnJvcihcImludmFsaWQgaW5wdXRcIik7dmFyIG89aT9lLnVSOmU7Zm9yKHIgaW4gbyl5LmNhbGwodGhpcy51UixyKSYmKHRoaXMudVJbcl09b1tyXSl9cmV0dXJuIHRoaXMuWGcoIXQpLHRoaXN9LHYuaXM9ZnVuY3Rpb24oZSl7dmFyIHQ9ITEsaT0hMSxzPSExLG89ITEsYT0hMSxoPSExLGM9ITEsdT0hdGhpcy51Ui51cm47c3dpdGNoKHRoaXMudVIuaG9zdG5hbWUmJih1PSExLGk9bi55Ui50ZXN0KHRoaXMudVIuaG9zdG5hbWUpLHM9bi5UUi50ZXN0KHRoaXMudVIuaG9zdG5hbWUpLHQ9aXx8cyxvPSF0LGE9byYmciYmci5oYXModGhpcy51Ui5ob3N0bmFtZSksaD1vJiZuLkVSLnRlc3QodGhpcy51Ui5ob3N0bmFtZSksYz1vJiZuLnZSLnRlc3QodGhpcy51Ui5ob3N0bmFtZSkpLGUudG9Mb3dlckNhc2UoKSl7Y2FzZVwicmVsYXRpdmVcIjpyZXR1cm4gdTtjYXNlXCJhYnNvbHV0ZVwiOnJldHVybiF1O2Nhc2VcImRvbWFpblwiOmNhc2VcIm5hbWVcIjpyZXR1cm4gbztjYXNlXCJzbGRcIjpyZXR1cm4gYTtjYXNlXCJpcFwiOnJldHVybiB0O2Nhc2VcImlwNFwiOmNhc2VcImlwdjRcIjpjYXNlXCJpbmV0NFwiOnJldHVybiBpO2Nhc2VcImlwNlwiOmNhc2VcImlwdjZcIjpjYXNlXCJpbmV0NlwiOnJldHVybiBzO2Nhc2VcImlkblwiOnJldHVybiBoO2Nhc2VcInVybFwiOnJldHVybiF0aGlzLnVSLnVybjtjYXNlXCJ1cm5cIjpyZXR1cm4hIXRoaXMudVIudXJuO2Nhc2VcInB1bnljb2RlXCI6cmV0dXJuIGN9cmV0dXJuIG51bGx9O3ZhciBSPXYucHJvdG9jb2wsdz12LnBvcnQsYj12Lmhvc3RuYW1lO3YucHJvdG9jb2w9ZnVuY3Rpb24oZSx0KXtpZih2b2lkIDAhPT1lJiZlJiYoZT1lLnJlcGxhY2UoLzooXFwvXFwvKT8kLyxcIlwiKSwhZS5tYXRjaChuLmdSKSkpdGhyb3cgbmV3IFR5cGVFcnJvcignUHJvdG9jb2wgXCInK2UrXCJcXFwiIGNvbnRhaW5zIGNoYXJhY3RlcnMgb3RoZXIgdGhhbiBbQS1aMC05ListXSBvciBkb2Vzbid0IHN0YXJ0IHdpdGggW0EtWl1cIik7cmV0dXJuIFIuY2FsbCh0aGlzLGUsdCl9LHYuc2NoZW1lPXYucHJvdG9jb2wsdi5wb3J0PWZ1bmN0aW9uKGUsdCl7aWYodGhpcy51Ui51cm4pcmV0dXJuIHZvaWQgMD09PWU/XCJcIjp0aGlzO2lmKHZvaWQgMCE9PWUmJigwPT09ZSYmKGU9bnVsbCksZSYmKGUrPVwiXCIsXCI6XCI9PT1lLmNoYXJBdCgwKSYmKGU9ZS5zdWJzdHJpbmcoMSkpLGUubWF0Y2goL1teMC05XS8pKSkpdGhyb3cgbmV3IFR5cGVFcnJvcignUG9ydCBcIicrZSsnXCIgY29udGFpbnMgY2hhcmFjdGVycyBvdGhlciB0aGFuIFswLTldJyk7cmV0dXJuIHcuY2FsbCh0aGlzLGUsdCl9LHYuaG9zdG5hbWU9ZnVuY3Rpb24oZSx0KXtpZih0aGlzLnVSLnVybilyZXR1cm4gdm9pZCAwPT09ZT9cIlwiOnRoaXM7aWYodm9pZCAwIT09ZSl7dmFyIHI9e307aWYoXCIvXCIhPT1uLmZ3KGUscikpdGhyb3cgbmV3IFR5cGVFcnJvcignSG9zdG5hbWUgXCInK2UrJ1wiIGNvbnRhaW5zIGNoYXJhY3RlcnMgb3RoZXIgdGhhbiBbQS1aMC05Li1dJyk7ZT1yLmhvc3RuYW1lfXJldHVybiBiLmNhbGwodGhpcyxlLHQpfSx2Lm9yaWdpbj1mdW5jdGlvbihlLHQpe2lmKHRoaXMudVIudXJuKXJldHVybiB2b2lkIDA9PT1lP1wiXCI6dGhpcztpZih2b2lkIDA9PT1lKXt2YXIgcj10aGlzLnByb3RvY29sKCk7cmV0dXJuIHRoaXMuQncoKT8ocj9yK1wiOi8vXCI6XCJcIikrdGhpcy5CdygpOlwiXCJ9dmFyIGk9bihlKTtyZXR1cm4gdGhpcy5wcm90b2NvbChpLnByb3RvY29sKCkpLkJ3KGkuQncoKSkuWGcoIXQpLHRoaXN9LHYuaG9zdD1mdW5jdGlvbihlLHQpe2lmKHRoaXMudVIudXJuKXJldHVybiB2b2lkIDA9PT1lP1wiXCI6dGhpcztpZih2b2lkIDA9PT1lKXJldHVybiB0aGlzLnVSLmhvc3RuYW1lP24ueXcodGhpcy51Uik6XCJcIjtpZihcIi9cIiE9PW4uZncoZSx0aGlzLnVSKSl0aHJvdyBuZXcgVHlwZUVycm9yKCdIb3N0bmFtZSBcIicrZSsnXCIgY29udGFpbnMgY2hhcmFjdGVycyBvdGhlciB0aGFuIFtBLVowLTkuLV0nKTtyZXR1cm4gdGhpcy5YZyghdCksdGhpc30sdi5Cdz1mdW5jdGlvbihlLHQpe2lmKHRoaXMudVIudXJuKXJldHVybiB2b2lkIDA9PT1lP1wiXCI6dGhpcztpZih2b2lkIDA9PT1lKXJldHVybiB0aGlzLnVSLmhvc3RuYW1lP24udncodGhpcy51Uik6XCJcIjtpZihcIi9cIiE9PW4uZHcoZSx0aGlzLnVSKSl0aHJvdyBuZXcgVHlwZUVycm9yKCdIb3N0bmFtZSBcIicrZSsnXCIgY29udGFpbnMgY2hhcmFjdGVycyBvdGhlciB0aGFuIFtBLVowLTkuLV0nKTtyZXR1cm4gdGhpcy5YZyghdCksdGhpc30sdi5Idz1mdW5jdGlvbihlLHQpe2lmKHRoaXMudVIudXJuKXJldHVybiB2b2lkIDA9PT1lP1wiXCI6dGhpcztpZih2b2lkIDA9PT1lKXt2YXIgcj1uLlR3KHRoaXMudVIpO3JldHVybiByP3Iuc3Vic3RyaW5nKDAsci5sZW5ndGgtMSk6cn1yZXR1cm5cIkBcIiE9PWVbZS5sZW5ndGgtMV0mJihlKz1cIkBcIiksbi5ndyhlLHRoaXMudVIpLHRoaXMuWGcoIXQpLHRoaXN9LHYueHc9ZnVuY3Rpb24oZSx0KXt2YXIgcjtyZXR1cm4gdm9pZCAwPT09ZT90aGlzLnBhdGgoKSt0aGlzLnNlYXJjaCgpK3RoaXMuaGFzaCgpOihyPW4ucGFyc2UoZSksdGhpcy51Ui5wYXRoPXIucGF0aCx0aGlzLnVSLnF1ZXJ5PXIucXVlcnksdGhpcy51Ui5wUj1yLnBSLHRoaXMuWGcoIXQpLHRoaXMpfSx2LnF3PWZ1bmN0aW9uKGUsdCl7aWYodGhpcy51Ui51cm4pcmV0dXJuIHZvaWQgMD09PWU/XCJcIjp0aGlzO2lmKHZvaWQgMD09PWUpe2lmKCF0aGlzLnVSLmhvc3RuYW1lfHx0aGlzLmlzKFwiSVBcIikpcmV0dXJuXCJcIjt2YXIgcj10aGlzLnVSLmhvc3RuYW1lLmxlbmd0aC10aGlzLmRvbWFpbigpLmxlbmd0aC0xO3JldHVybiB0aGlzLnVSLmhvc3RuYW1lLnN1YnN0cmluZygwLHIpfHxcIlwifXZhciBpPXRoaXMudVIuaG9zdG5hbWUubGVuZ3RoLXRoaXMuZG9tYWluKCkubGVuZ3RoLG89dGhpcy51Ui5ob3N0bmFtZS5zdWJzdHJpbmcoMCxpKSxhPW5ldyBSZWdFeHAoXCJeXCIrcyhvKSk7cmV0dXJuIGUmJlwiLlwiIT09ZS5jaGFyQXQoZS5sZW5ndGgtMSkmJihlKz1cIi5cIiksZSYmbi5OdyhlKSx0aGlzLnVSLmhvc3RuYW1lPXRoaXMudVIuaG9zdG5hbWUucmVwbGFjZShhLGUpLHRoaXMuWGcoIXQpLHRoaXN9LHYuZG9tYWluPWZ1bmN0aW9uKGUsdCl7aWYodGhpcy51Ui51cm4pcmV0dXJuIHZvaWQgMD09PWU/XCJcIjp0aGlzO2lmKFwiYm9vbGVhblwiPT10eXBlb2YgZSYmKHQ9ZSxlPXZvaWQgMCksdm9pZCAwPT09ZSl7aWYoIXRoaXMudVIuaG9zdG5hbWV8fHRoaXMuaXMoXCJJUFwiKSlyZXR1cm5cIlwiO3ZhciByPXRoaXMudVIuaG9zdG5hbWUubWF0Y2goL1xcLi9nKTtpZihyJiZyLmxlbmd0aDwyKXJldHVybiB0aGlzLnVSLmhvc3RuYW1lO3ZhciBpPXRoaXMudVIuaG9zdG5hbWUubGVuZ3RoLXRoaXMuR3codCkubGVuZ3RoLTE7cmV0dXJuIGk9dGhpcy51Ui5ob3N0bmFtZS5sYXN0SW5kZXhPZihcIi5cIixpLTEpKzEsdGhpcy51Ui5ob3N0bmFtZS5zdWJzdHJpbmcoaSl8fFwiXCJ9aWYoIWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcImNhbm5vdCBzZXQgZG9tYWluIGVtcHR5XCIpO2lmKG4uTncoZSksIXRoaXMudVIuaG9zdG5hbWV8fHRoaXMuaXMoXCJJUFwiKSl0aGlzLnVSLmhvc3RuYW1lPWU7ZWxzZXt2YXIgbz1uZXcgUmVnRXhwKHModGhpcy5kb21haW4oKSkrXCIkXCIpO3RoaXMudVIuaG9zdG5hbWU9dGhpcy51Ui5ob3N0bmFtZS5yZXBsYWNlKG8sZSl9cmV0dXJuIHRoaXMuWGcoIXQpLHRoaXN9LHYuR3c9ZnVuY3Rpb24oZSx0KXtpZih0aGlzLnVSLnVybilyZXR1cm4gdm9pZCAwPT09ZT9cIlwiOnRoaXM7aWYoXCJib29sZWFuXCI9PXR5cGVvZiBlJiYodD1lLGU9dm9pZCAwKSx2b2lkIDA9PT1lKXtpZighdGhpcy51Ui5ob3N0bmFtZXx8dGhpcy5pcyhcIklQXCIpKXJldHVyblwiXCI7dmFyIGk9dGhpcy51Ui5ob3N0bmFtZS5sYXN0SW5kZXhPZihcIi5cIiksbj10aGlzLnVSLmhvc3RuYW1lLnN1YnN0cmluZyhpKzEpO3JldHVybiEwIT09dCYmciYmci5saXN0W24udG9Mb3dlckNhc2UoKV0/ci5nZXQodGhpcy51Ui5ob3N0bmFtZSl8fG46bn12YXIgbztpZighZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiY2Fubm90IHNldCBUTEQgZW1wdHlcIik7aWYoZS5tYXRjaCgvW15hLXpBLVowLTktXS8pKXtpZighcnx8IXIuaXMoZSkpdGhyb3cgbmV3IFR5cGVFcnJvcignVExEIFwiJytlKydcIiBjb250YWlucyBjaGFyYWN0ZXJzIG90aGVyIHRoYW4gW0EtWjAtOV0nKTtvPW5ldyBSZWdFeHAocyh0aGlzLkd3KCkpK1wiJFwiKSx0aGlzLnVSLmhvc3RuYW1lPXRoaXMudVIuaG9zdG5hbWUucmVwbGFjZShvLGUpfWVsc2V7aWYoIXRoaXMudVIuaG9zdG5hbWV8fHRoaXMuaXMoXCJJUFwiKSl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJjYW5ub3Qgc2V0IFRMRCBvbiBub24tZG9tYWluIGhvc3RcIik7bz1uZXcgUmVnRXhwKHModGhpcy5HdygpKStcIiRcIiksdGhpcy51Ui5ob3N0bmFtZT10aGlzLnVSLmhvc3RuYW1lLnJlcGxhY2UobyxlKX1yZXR1cm4gdGhpcy5YZyghdCksdGhpc30sdi5Wdz1mdW5jdGlvbihlLHQpe2lmKHRoaXMudVIudXJuKXJldHVybiB2b2lkIDA9PT1lP1wiXCI6dGhpcztpZih2b2lkIDA9PT1lfHwhMD09PWUpe2lmKCF0aGlzLnVSLnBhdGgmJiF0aGlzLnVSLmhvc3RuYW1lKXJldHVyblwiXCI7aWYoXCIvXCI9PT10aGlzLnVSLnBhdGgpcmV0dXJuXCIvXCI7dmFyIHI9dGhpcy51Ui5wYXRoLmxlbmd0aC10aGlzLmZpbGVuYW1lKCkubGVuZ3RoLTEsaT10aGlzLnVSLnBhdGguc3Vic3RyaW5nKDAscil8fCh0aGlzLnVSLmhvc3RuYW1lP1wiL1wiOlwiXCIpO3JldHVybiBlP24uaHcoaSk6aX12YXIgbz10aGlzLnVSLnBhdGgubGVuZ3RoLXRoaXMuZmlsZW5hbWUoKS5sZW5ndGgsYT10aGlzLnVSLnBhdGguc3Vic3RyaW5nKDAsbyksaD1uZXcgUmVnRXhwKFwiXlwiK3MoYSkpO3JldHVybiB0aGlzLmlzKFwicmVsYXRpdmVcIil8fChlfHwoZT1cIi9cIiksXCIvXCIhPT1lLmNoYXJBdCgwKSYmKGU9XCIvXCIrZSkpLGUmJlwiL1wiIT09ZS5jaGFyQXQoZS5sZW5ndGgtMSkmJihlKz1cIi9cIiksZT1uLnV3KGUpLHRoaXMudVIucGF0aD10aGlzLnVSLnBhdGgucmVwbGFjZShoLGUpLHRoaXMuWGcoIXQpLHRoaXN9LHYuZmlsZW5hbWU9ZnVuY3Rpb24oZSx0KXtpZih0aGlzLnVSLnVybilyZXR1cm4gdm9pZCAwPT09ZT9cIlwiOnRoaXM7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGUpe2lmKCF0aGlzLnVSLnBhdGh8fFwiL1wiPT09dGhpcy51Ui5wYXRoKXJldHVyblwiXCI7dmFyIHI9dGhpcy51Ui5wYXRoLmxhc3RJbmRleE9mKFwiL1wiKSxpPXRoaXMudVIucGF0aC5zdWJzdHJpbmcocisxKTtyZXR1cm4gZT9uLmp3KGkpOml9dmFyIG89ITE7XCIvXCI9PT1lLmNoYXJBdCgwKSYmKGU9ZS5zdWJzdHJpbmcoMSkpLGUubWF0Y2goL1xcLj9cXC8vKSYmKG89ITApO3ZhciBhPW5ldyBSZWdFeHAocyh0aGlzLmZpbGVuYW1lKCkpK1wiJFwiKTtyZXR1cm4gZT1uLnV3KGUpLHRoaXMudVIucGF0aD10aGlzLnVSLnBhdGgucmVwbGFjZShhLGUpLG8/dGhpcy5Rdyh0KTp0aGlzLlhnKCF0KSx0aGlzfSx2LnN1ZmZpeD1mdW5jdGlvbihlLHQpe2lmKHRoaXMudVIudXJuKXJldHVybiB2b2lkIDA9PT1lP1wiXCI6dGhpcztpZih2b2lkIDA9PT1lfHwhMD09PWUpe2lmKCF0aGlzLnVSLnBhdGh8fFwiL1wiPT09dGhpcy51Ui5wYXRoKXJldHVyblwiXCI7dmFyIHIsaSxvPXRoaXMuZmlsZW5hbWUoKSxhPW8ubGFzdEluZGV4T2YoXCIuXCIpO3JldHVybi0xPT09YT9cIlwiOihyPW8uc3Vic3RyaW5nKGErMSksaT0vXlthLXowLTklXSskL2kudGVzdChyKT9yOlwiXCIsZT9uLmp3KGkpOmkpfVwiLlwiPT09ZS5jaGFyQXQoMCkmJihlPWUuc3Vic3RyaW5nKDEpKTt2YXIgaCxjPXRoaXMuc3VmZml4KCk7aWYoYyloPWU/bmV3IFJlZ0V4cChzKGMpK1wiJFwiKTpuZXcgUmVnRXhwKHMoXCIuXCIrYykrXCIkXCIpO2Vsc2V7aWYoIWUpcmV0dXJuIHRoaXM7dGhpcy51Ui5wYXRoKz1cIi5cIituLnV3KGUpfXJldHVybiBoJiYoZT1uLnV3KGUpLHRoaXMudVIucGF0aD10aGlzLnVSLnBhdGgucmVwbGFjZShoLGUpKSx0aGlzLlhnKCF0KSx0aGlzfSx2LkN3PWZ1bmN0aW9uKGUsdCxyKXt2YXIgaT10aGlzLnVSLnVybj9cIjpcIjpcIi9cIixuPXRoaXMucGF0aCgpLHM9XCIvXCI9PT1uLnN1YnN0cmluZygwLDEpLG89bi5zcGxpdChpKTtpZih2b2lkIDAhPT1lJiZcIm51bWJlclwiIT10eXBlb2YgZSYmKHI9dCx0PWUsZT12b2lkIDApLHZvaWQgMCE9PWUmJlwibnVtYmVyXCIhPXR5cGVvZiBlKXRocm93IG5ldyBFcnJvcignQmFkIHNlZ21lbnQgXCInK2UrJ1wiLCBtdXN0IGJlIDAtYmFzZWQgaW50ZWdlcicpO2lmKHMmJm8uc2hpZnQoKSxlPDAmJihlPU1hdGgubWF4KG8ubGVuZ3RoK2UsMCkpLHZvaWQgMD09PXQpcmV0dXJuIHZvaWQgMD09PWU/bzpvW2VdO2lmKG51bGw9PT1lfHx2b2lkIDA9PT1vW2VdKWlmKGEodCkpe289W107Zm9yKHZhciBoPTAsYz10Lmxlbmd0aDtoPGM7aCsrKSh0W2hdLmxlbmd0aHx8by5sZW5ndGgmJm9bby5sZW5ndGgtMV0ubGVuZ3RoKSYmKG8ubGVuZ3RoJiYhb1tvLmxlbmd0aC0xXS5sZW5ndGgmJm8ucG9wKCksby5wdXNoKGwodFtoXSkpKX1lbHNlKHR8fFwic3RyaW5nXCI9PXR5cGVvZiB0KSYmKHQ9bCh0KSxcIlwiPT09b1tvLmxlbmd0aC0xXT9vW28ubGVuZ3RoLTFdPXQ6by5wdXNoKHQpKTtlbHNlIHQ/b1tlXT1sKHQpOm8uc3BsaWNlKGUsMSk7cmV0dXJuIHMmJm8udW5zaGlmdChcIlwiKSx0aGlzLnBhdGgoby5qb2luKGkpLHIpfSx2Lkt3PWZ1bmN0aW9uKGUsdCxyKXt2YXIgaSxzLG87aWYoXCJudW1iZXJcIiE9dHlwZW9mIGUmJihyPXQsdD1lLGU9dm9pZCAwKSx2b2lkIDA9PT10KXtpZihpPXRoaXMuQ3coZSx0LHIpLGEoaSkpZm9yKHM9MCxvPWkubGVuZ3RoO3M8bztzKyspaVtzXT1uLmRlY29kZShpW3NdKTtlbHNlIGk9dm9pZCAwIT09aT9uLmRlY29kZShpKTp2b2lkIDA7cmV0dXJuIGl9aWYoYSh0KSlmb3Iocz0wLG89dC5sZW5ndGg7czxvO3MrKyl0W3NdPW4uZW5jb2RlKHRbc10pO2Vsc2UgdD1cInN0cmluZ1wiPT10eXBlb2YgdHx8dCBpbnN0YW5jZW9mIFN0cmluZz9uLmVuY29kZSh0KTp0O3JldHVybiB0aGlzLkN3KGUsdCxyKX07dmFyIEM9di5xdWVyeTtyZXR1cm4gdi5xdWVyeT1mdW5jdGlvbihlLHQpe2lmKCEwPT09ZSlyZXR1cm4gbi5Fdyh0aGlzLnVSLnF1ZXJ5LHRoaXMudVIuZlIpO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpe3ZhciByPW4uRXcodGhpcy51Ui5xdWVyeSx0aGlzLnVSLmZSKSxpPWUuY2FsbCh0aGlzLHIpO3JldHVybiB0aGlzLnVSLnF1ZXJ5PW4ubXcoaXx8cix0aGlzLnVSLmRSLHRoaXMudVIuZlIpLHRoaXMuWGcoIXQpLHRoaXN9cmV0dXJuIHZvaWQgMCE9PWUmJlwic3RyaW5nXCIhPXR5cGVvZiBlPyh0aGlzLnVSLnF1ZXJ5PW4ubXcoZSx0aGlzLnVSLmRSLHRoaXMudVIuZlIpLHRoaXMuWGcoIXQpLHRoaXMpOkMuY2FsbCh0aGlzLGUsdCl9LHYuWXc9ZnVuY3Rpb24oZSx0LHIpe3ZhciBpPW4uRXcodGhpcy51Ui5xdWVyeSx0aGlzLnVSLmZSKTtpZihcInN0cmluZ1wiPT10eXBlb2YgZXx8ZSBpbnN0YW5jZW9mIFN0cmluZylpW2VdPXZvaWQgMCE9PXQ/dDpudWxsO2Vsc2V7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlVSSS5hZGRRdWVyeSgpIGFjY2VwdHMgYW4gb2JqZWN0LCBzdHJpbmcgYXMgdGhlIG5hbWUgcGFyYW1ldGVyXCIpO2Zvcih2YXIgcyBpbiBlKXkuY2FsbChlLHMpJiYoaVtzXT1lW3NdKX1yZXR1cm4gdGhpcy51Ui5xdWVyeT1uLm13KGksdGhpcy51Ui5kUix0aGlzLnVSLmZSKSxcInN0cmluZ1wiIT10eXBlb2YgZSYmKHI9dCksdGhpcy5YZyghciksdGhpc30sdi5Tdz1mdW5jdGlvbihlLHQscil7dmFyIGk9bi5Fdyh0aGlzLnVSLnF1ZXJ5LHRoaXMudVIuZlIpO3JldHVybiBuLlN3KGksZSx2b2lkIDA9PT10P251bGw6dCksdGhpcy51Ui5xdWVyeT1uLm13KGksdGhpcy51Ui5kUix0aGlzLnVSLmZSKSxcInN0cmluZ1wiIT10eXBlb2YgZSYmKHI9dCksdGhpcy5YZyghciksdGhpc30sdi5Sdz1mdW5jdGlvbihlLHQscil7dmFyIGk9bi5Fdyh0aGlzLnVSLnF1ZXJ5LHRoaXMudVIuZlIpO3JldHVybiBuLlJ3KGksZSx0KSx0aGlzLnVSLnF1ZXJ5PW4ubXcoaSx0aGlzLnVSLmRSLHRoaXMudVIuZlIpLFwic3RyaW5nXCIhPXR5cGVvZiBlJiYocj10KSx0aGlzLlhnKCFyKSx0aGlzfSx2Lnd3PWZ1bmN0aW9uKGUsdCxyKXt2YXIgaT1uLkV3KHRoaXMudVIucXVlcnksdGhpcy51Ui5mUik7cmV0dXJuIG4ud3coaSxlLHQscil9LHYuV3c9di5Zdyx2Lnp3PXYuU3csdi5Kdz12LlJ3LHYuWHc9di53dyx2Lm5vcm1hbGl6ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnVSLnVybj90aGlzLmViKCExKS5RdyghMSkuJHcoITEpLlp3KCExKS5YZygpOnRoaXMuZWIoITEpLnJiKCExKS50YighMSkuUXcoITEpLiR3KCExKS5adyghMSkuWGcoKX0sdi5lYj1mdW5jdGlvbihlKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgdGhpcy51Ui5wcm90b2NvbCYmKHRoaXMudVIucHJvdG9jb2w9dGhpcy51Ui5wcm90b2NvbC50b0xvd2VyQ2FzZSgpLHRoaXMuWGcoIWUpKSx0aGlzfSx2LnJiPWZ1bmN0aW9uKHIpe3JldHVybiB0aGlzLnVSLmhvc3RuYW1lJiYodGhpcy5pcyhcIklETlwiKSYmZT90aGlzLnVSLmhvc3RuYW1lPWUuRHcodGhpcy51Ui5ob3N0bmFtZSk6dGhpcy5pcyhcIklQdjZcIikmJnQmJih0aGlzLnVSLmhvc3RuYW1lPXQuaWIodGhpcy51Ui5ob3N0bmFtZSkpLHRoaXMudVIuaG9zdG5hbWU9dGhpcy51Ui5ob3N0bmFtZS50b0xvd2VyQ2FzZSgpLHRoaXMuWGcoIXIpKSx0aGlzfSx2LnRiPWZ1bmN0aW9uKGUpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiB0aGlzLnVSLnByb3RvY29sJiZ0aGlzLnVSLnBvcnQ9PT1uLlJSW3RoaXMudVIucHJvdG9jb2xdJiYodGhpcy51Ui5wb3J0PW51bGwsdGhpcy5YZyghZSkpLHRoaXN9LHYuUXc9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy51Ui5wYXRoO2lmKCF0KXJldHVybiB0aGlzO2lmKHRoaXMudVIudXJuKXJldHVybiB0aGlzLnVSLnBhdGg9bi5sdyh0aGlzLnVSLnBhdGgpLHRoaXMuWGcoIWUpLHRoaXM7aWYoXCIvXCI9PT10aGlzLnVSLnBhdGgpcmV0dXJuIHRoaXM7dD1uLnV3KHQpO3ZhciByLGkscyxvPVwiXCI7Zm9yKFwiL1wiIT09dC5jaGFyQXQoMCkmJihyPSEwLHQ9XCIvXCIrdCksXCIvLi5cIiE9PXQuc2xpY2UoLTMpJiZcIi8uXCIhPT10LnNsaWNlKC0yKXx8KHQrPVwiL1wiKSx0PXQucmVwbGFjZSgvKFxcLyhcXC5cXC8pKyl8KFxcL1xcLiQpL2csXCIvXCIpLnJlcGxhY2UoL1xcL3syLH0vZyxcIi9cIiksciYmKG89dC5zdWJzdHJpbmcoMSkubWF0Y2goL14oXFwuXFwuXFwvKSsvKXx8XCJcIikmJihvPW9bMF0pOzspe2lmKC0xPT09KGk9dC5zZWFyY2goL1xcL1xcLlxcLihcXC98JCkvKSkpYnJlYWs7MCE9PWk/KHM9dC5zdWJzdHJpbmcoMCxpKS5sYXN0SW5kZXhPZihcIi9cIiksLTE9PT1zJiYocz1pKSx0PXQuc3Vic3RyaW5nKDAscykrdC5zdWJzdHJpbmcoaSszKSk6dD10LnN1YnN0cmluZygzKX1yZXR1cm4gciYmdGhpcy5pcyhcInJlbGF0aXZlXCIpJiYodD1vK3Quc3Vic3RyaW5nKDEpKSx0aGlzLnVSLnBhdGg9dCx0aGlzLlhnKCFlKSx0aGlzfSx2Lm5iPXYuUXcsdi4kdz1mdW5jdGlvbihlKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgdGhpcy51Ui5xdWVyeSYmKHRoaXMudVIucXVlcnkubGVuZ3RoP3RoaXMucXVlcnkobi5Fdyh0aGlzLnVSLnF1ZXJ5LHRoaXMudVIuZlIpKTp0aGlzLnVSLnF1ZXJ5PW51bGwsdGhpcy5YZyghZSkpLHRoaXN9LHYuWnc9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudVIucFJ8fCh0aGlzLnVSLnBSPW51bGwsdGhpcy5YZyghZSkpLHRoaXN9LHYuc2I9di4kdyx2Lm9iPXYuWncsdi5xUj1mdW5jdGlvbigpe3ZhciBlPW4uZW5jb2RlLHQ9bi5kZWNvZGU7bi5lbmNvZGU9ZXNjYXBlLG4uZGVjb2RlPWRlY29kZVVSSUNvbXBvbmVudDt0cnl7dGhpcy5ub3JtYWxpemUoKX1maW5hbGx5e24uZW5jb2RlPWUsbi5kZWNvZGU9dH1yZXR1cm4gdGhpc30sdi5HUj1mdW5jdGlvbigpe3ZhciBlPW4uZW5jb2RlLHQ9bi5kZWNvZGU7bi5lbmNvZGU9ZCxuLmRlY29kZT11bmVzY2FwZTt0cnl7dGhpcy5ub3JtYWxpemUoKX1maW5hbGx5e24uZW5jb2RlPWUsbi5kZWNvZGU9dH1yZXR1cm4gdGhpc30sdi5hYj1mdW5jdGlvbigpe3ZhciB0PXRoaXMuY2xvbmUoKTt0LnVzZXJuYW1lKFwiXCIpLnBhc3N3b3JkKFwiXCIpLm5vcm1hbGl6ZSgpO3ZhciByPVwiXCI7aWYodC51Ui5wcm90b2NvbCYmKHIrPXQudVIucHJvdG9jb2wrXCI6Ly9cIiksdC51Ui5ob3N0bmFtZSYmKHQuaXMoXCJwdW55Y29kZVwiKSYmZT8ocis9ZS5oYih0LnVSLmhvc3RuYW1lKSx0LnVSLnBvcnQmJihyKz1cIjpcIit0LnVSLnBvcnQpKTpyKz10Lmhvc3QoKSksdC51Ui5ob3N0bmFtZSYmdC51Ui5wYXRoJiZcIi9cIiE9PXQudVIucGF0aC5jaGFyQXQoMCkmJihyKz1cIi9cIikscis9dC5wYXRoKCEwKSx0LnVSLnF1ZXJ5KXtmb3IodmFyIGk9XCJcIixzPTAsbz10LnVSLnF1ZXJ5LnNwbGl0KFwiJlwiKSxhPW8ubGVuZ3RoO3M8YTtzKyspe3ZhciBoPShvW3NdfHxcIlwiKS5zcGxpdChcIj1cIik7aSs9XCImXCIrbi5hdyhoWzBdLHRoaXMudVIuZlIpLnJlcGxhY2UoLyYvZyxcIiUyNlwiKSx2b2lkIDAhPT1oWzFdJiYoaSs9XCI9XCIrbi5hdyhoWzFdLHRoaXMudVIuZlIpLnJlcGxhY2UoLyYvZyxcIiUyNlwiKSl9cis9XCI/XCIraS5zdWJzdHJpbmcoMSl9cmV0dXJuIHIrPW4uYXcodC5oYXNoKCksITApfSx2LlBoPWZ1bmN0aW9uKGUpe3ZhciB0LHIsaSxzPXRoaXMuY2xvbmUoKSxvPVtcInByb3RvY29sXCIsXCJ1c2VybmFtZVwiLFwicGFzc3dvcmRcIixcImhvc3RuYW1lXCIsXCJwb3J0XCJdO2lmKHRoaXMudVIudXJuKXRocm93IG5ldyBFcnJvcihcIlVSTnMgZG8gbm90IGhhdmUgYW55IGdlbmVyYWxseSBkZWZpbmVkIGhpZXJhcmNoaWNhbCBjb21wb25lbnRzXCIpO2lmKGUgaW5zdGFuY2VvZiBufHwoZT1uZXcgbihlKSkscy51Ui5wcm90b2NvbClyZXR1cm4gcztpZihzLnVSLnByb3RvY29sPWUudVIucHJvdG9jb2wsdGhpcy51Ui5ob3N0bmFtZSlyZXR1cm4gcztmb3Iocj0wO2k9b1tyXTtyKyspcy51UltpXT1lLnVSW2ldO3JldHVybiBzLnVSLnBhdGg/KFwiLi5cIj09PXMudVIucGF0aC5zdWJzdHJpbmcoLTIpJiYocy51Ui5wYXRoKz1cIi9cIiksXCIvXCIhPT1zLnBhdGgoKS5jaGFyQXQoMCkmJih0PWUuVncoKSx0PXR8fCgwPT09ZS5wYXRoKCkuaW5kZXhPZihcIi9cIik/XCIvXCI6XCJcIikscy51Ui5wYXRoPSh0P3QrXCIvXCI6XCJcIikrcy51Ui5wYXRoLHMuUXcoKSkpOihzLnVSLnBhdGg9ZS51Ui5wYXRoLHMudVIucXVlcnl8fChzLnVSLnF1ZXJ5PWUudVIucXVlcnkpKSxzLlhnKCksc30sdi5jYj1mdW5jdGlvbihlKXt2YXIgdCxyLGkscyxvLGE9dGhpcy5jbG9uZSgpLm5vcm1hbGl6ZSgpO2lmKGEudVIudXJuKXRocm93IG5ldyBFcnJvcihcIlVSTnMgZG8gbm90IGhhdmUgYW55IGdlbmVyYWxseSBkZWZpbmVkIGhpZXJhcmNoaWNhbCBjb21wb25lbnRzXCIpO2lmKGU9bmV3IG4oZSkubm9ybWFsaXplKCksdD1hLnVSLHI9ZS51UixzPWEucGF0aCgpLG89ZS5wYXRoKCksXCIvXCIhPT1zLmNoYXJBdCgwKSl0aHJvdyBuZXcgRXJyb3IoXCJVUkkgaXMgYWxyZWFkeSByZWxhdGl2ZVwiKTtpZihcIi9cIiE9PW8uY2hhckF0KDApKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjYWxjdWxhdGUgYSBVUkkgcmVsYXRpdmUgdG8gYW5vdGhlciByZWxhdGl2ZSBVUklcIik7aWYodC5wcm90b2NvbD09PXIucHJvdG9jb2wmJih0LnByb3RvY29sPW51bGwpLHQudXNlcm5hbWUhPT1yLnVzZXJuYW1lfHx0LnBhc3N3b3JkIT09ci5wYXNzd29yZClyZXR1cm4gYS5YZygpO2lmKG51bGwhPT10LnByb3RvY29sfHxudWxsIT09dC51c2VybmFtZXx8bnVsbCE9PXQucGFzc3dvcmQpcmV0dXJuIGEuWGcoKTtpZih0Lmhvc3RuYW1lIT09ci5ob3N0bmFtZXx8dC5wb3J0IT09ci5wb3J0KXJldHVybiBhLlhnKCk7aWYodC5ob3N0bmFtZT1udWxsLHQucG9ydD1udWxsLHM9PT1vKXJldHVybiB0LnBhdGg9XCJcIixhLlhnKCk7aWYoIShpPW4uX3cocyxvKSkpcmV0dXJuIGEuWGcoKTt2YXIgaD1yLnBhdGguc3Vic3RyaW5nKGkubGVuZ3RoKS5yZXBsYWNlKC9bXlxcL10qJC8sXCJcIikucmVwbGFjZSgvLio/XFwvL2csXCIuLi9cIik7cmV0dXJuIHQucGF0aD1oK3QucGF0aC5zdWJzdHJpbmcoaS5sZW5ndGgpfHxcIi4vXCIsYS5YZygpfSx2LmNzPWZ1bmN0aW9uKGUpe3ZhciB0LHIsaSxzPXRoaXMuY2xvbmUoKSxvPW5ldyBuKGUpLGg9e30sYz17fSxsPXt9O2lmKHMubm9ybWFsaXplKCksby5ub3JtYWxpemUoKSxzLnRvU3RyaW5nKCk9PT1vLnRvU3RyaW5nKCkpcmV0dXJuITA7aWYodD1zLnF1ZXJ5KCkscj1vLnF1ZXJ5KCkscy5xdWVyeShcIlwiKSxvLnF1ZXJ5KFwiXCIpLHMudG9TdHJpbmcoKSE9PW8udG9TdHJpbmcoKSlyZXR1cm4hMTtpZih0Lmxlbmd0aCE9PXIubGVuZ3RoKXJldHVybiExO2g9bi5Fdyh0LHRoaXMudVIuZlIpLGM9bi5FdyhyLHRoaXMudVIuZlIpO2ZvcihpIGluIGgpaWYoeS5jYWxsKGgsaSkpe2lmKGEoaFtpXSkpe2lmKCF1KGhbaV0sY1tpXSkpcmV0dXJuITF9ZWxzZSBpZihoW2ldIT09Y1tpXSlyZXR1cm4hMTtsW2ldPSEwfWZvcihpIGluIGMpaWYoeS5jYWxsKGMsaSkmJiFsW2ldKXJldHVybiExO3JldHVybiEwfSx2LmRSPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnVSLmRSPSEhZSx0aGlzfSx2LmZSPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnVSLmZSPSEhZSx0aGlzfSxufSl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT10aGlzJiZ0aGlzLmh1fHxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIHIoKXt0aGlzLmNvbnN0cnVjdG9yPWV9Zm9yKHZhciBpIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShpKSYmKGVbaV09dFtpXSk7ZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KTooci5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IHIpfSxuPXIoNzMpLHM9cig3MSksbz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHIpe3ZhciBpPWUuY2FsbCh0aGlzLHIpfHx0aGlzO3JldHVybiBpLkRPTkU9NCxpLkxPQURJTkc9MyxpLkhFQURFUlNfUkVDRUlWRUQ9MixpLk9QRU5FRD0xLGkuVU5TRU5UPTAsaS5pbnRlcm5hbD0hMSxpLmlkPXQuQWcrKyxpfXJldHVybiBpKHQsZSksdC5wcm90b3R5cGUuc2VuZD1mdW5jdGlvbigpe2lmKHRoaXMucmVhZHlTdGF0ZSE9PXRoaXMuT1BFTkVEKXRocm93IG5ldyBFcnJvcihcIlRoZSBvYmplY3QncyBzdGF0ZSBtdXN0IGJlIE9QRU5FRC5cIik7aWYoIXRoaXMuc2Vzc2lvbklkKXt2YXIgZT1PYmplY3Qua2V5cyh0LnViKTtlLmxlbmd0aD4wJiYodGhpcy5zZXNzaW9uSWQ9dC51YltlWzBdXSl9bi5sYi5BcGkoKS5yZXF1ZXN0KHRoaXMsdGhpcy5zZXNzaW9uSWQpfSx0LnByb3RvdHlwZS5hYm9ydD1mdW5jdGlvbigpe24ubGIuQXBpKCkuYWJvcnQodGhpcyx0aGlzLnNlc3Npb25JZCl9LHR9KHMucGIpO28udWI9e30sby5BZz0wLHQuSGl2ZVJlcXVlc3Q9b30sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXIoMCksbj1yKDgpLHM9cig2KSxvPXMuaGUuZGgsYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGUuUmVwb3J0aW5nPWZ1bmN0aW9uKCl7cmV0dXJuIGUuYXBwPVwiU1RBVFNcIixpLkZyYW1ld29yay5yZXNvbHZlKG4ucGMuaGMpfSxlLnNwPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXBwfSxlLmdldFZlcnNpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52ZXJzaW9ufSxlfSgpO2EudmVyc2lvbj1vLHQuSGl2ZT1hfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgVGhyaWZ0PXtmYjpcIjAuOS4yXCIsVHlwZTp7U1RPUDowLFZPSUQ6MSxCT09MOjIsQllURTozLEkwODozLERPVUJMRTo0LEkxNjo2LEkzMjo4LEk2NDoxMCxTVFJJTkc6MTEsVVRGNzoxMSxTVFJVQ1Q6MTIsTUFQOjEzLFNFVDoxNCxMSVNUOjE1LFVURjg6MTYsVVRGMTY6MTd9LGdiOntDQUxMOjEsUkVQTFk6MixFWENFUFRJT046MyxPTkVXQVk6NH0sRWI6ZnVuY3Rpb24oZSl7dmFyIHQ9MDtmb3IodmFyIHIgaW4gZSllLmhhc093blByb3BlcnR5KHIpJiZ0Kys7cmV0dXJuIHR9LHZiOmZ1bmN0aW9uKGUsdCxyKXtmdW5jdGlvbiBpKCl7fWkucHJvdG90eXBlPXQucHJvdG90eXBlLGUucHJvdG90eXBlPW5ldyBpLGUucHJvdG90eXBlLm5hbWU9cnx8XCJcIn19O1RocmlmdC55Yj1mdW5jdGlvbihlKXt0aGlzLm1lc3NhZ2U9ZX0sVGhyaWZ0LnZiKFRocmlmdC55YixFcnJvcixcIlRFeGNlcHRpb25cIiksVGhyaWZ0LnliLnByb3RvdHlwZS5UYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLm1lc3NhZ2V9LFRocmlmdC5tYj17SWI6MCxTYjoxLFJiOjIsd2I6MyxiYjo0LENiOjUsX2I6NixQYjo3LEFiOjgsT2I6OSxOYjoxMH0sVGhyaWZ0LkRiPWZ1bmN0aW9uKGUsdCl7dGhpcy5tZXNzYWdlPWUsdGhpcy5jb2RlPVwibnVtYmVyXCI9PXR5cGVvZiB0P3Q6MH0sVGhyaWZ0LnZiKFRocmlmdC5EYixUaHJpZnQueWIsXCJUQXBwbGljYXRpb25FeGNlcHRpb25cIiksVGhyaWZ0LkRiLnByb3RvdHlwZS5yZWFkPWZ1bmN0aW9uKGUpe2Zvcig7Oyl7dmFyIHQ9ZS5rYigpO2lmKHQuZnR5cGU9PVRocmlmdC5UeXBlLlNUT1ApYnJlYWs7c3dpdGNoKHQuZmlkKXtjYXNlIDE6dC5mdHlwZT09VGhyaWZ0LlR5cGUuU1RSSU5HPyh0PWUuTGIoKSx0aGlzLm1lc3NhZ2U9dC52YWx1ZSk6dD1lLk1iKHQuZnR5cGUpO2JyZWFrO2Nhc2UgMjp0LmZ0eXBlPT1UaHJpZnQuVHlwZS5JMzI/KHQ9ZS5GYigpLHRoaXMuY29kZT10LnZhbHVlKTp0PWUuTWIodC5mdHlwZSk7YnJlYWs7ZGVmYXVsdDp0PWUuTWIodC5mdHlwZSl9ZS5VYigpfWUuQmIoKX0sVGhyaWZ0LkRiLnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbihlKXtlLkhiKFwiVEFwcGxpY2F0aW9uRXhjZXB0aW9uXCIpLHRoaXMubWVzc2FnZSYmKGUueGIoXCJtZXNzYWdlXCIsVGhyaWZ0LlR5cGUuU1RSSU5HLDEpLGUucWIodGhpcy5UYigpKSxlLkdiKCkpLHRoaXMuY29kZSYmKGUueGIoXCJ0eXBlXCIsVGhyaWZ0LlR5cGUuSTMyLDIpLGUuVmIodGhpcy5jb2RlKSxlLkdiKCkpLGUuamIoKSxlLlFiKCl9LFRocmlmdC5EYi5wcm90b3R5cGUuS2I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb2RlfSxUaHJpZnQuRmE9VGhyaWZ0LlliPWZ1bmN0aW9uKGUsdCl7dGhpcy51cmw9ZSx0aGlzLldiPTAsdGhpcy56Yj0wLHRoaXMuSmI9dCYmdC5KYix0aGlzLlhiPVwiXCIsdGhpcy5aYj1cIlwifSxUaHJpZnQuWWIucHJvdG90eXBlPXskYjpmdW5jdGlvbigpe3RyeXtyZXR1cm4gbmV3IFhNTEh0dHBSZXF1ZXN0fWNhdGNoKGUpe310cnl7cmV0dXJuIG5ldyBBY3RpdmVYT2JqZWN0KFwiTXN4bWwyLlhNTEhUVFBcIil9Y2F0Y2goZSl7fXRyeXtyZXR1cm4gbmV3IEFjdGl2ZVhPYmplY3QoXCJNaWNyb3NvZnQuWE1MSFRUUFwiKX1jYXRjaChlKXt9dGhyb3dcIllvdXIgYnJvd3NlciBkb2Vzbid0IHN1cHBvcnQgWEhSLlwifSxmbHVzaDpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7aWYoZSYmIXR8fHZvaWQgMD09PXRoaXMudXJsfHxcIlwiPT09dGhpcy51cmwpcmV0dXJuIHRoaXMuWGI7dmFyIGk9dGhpcy4kYigpO2lmKGkub3ZlcnJpZGVNaW1lVHlwZSYmaS5vdmVycmlkZU1pbWVUeXBlKFwiYXBwbGljYXRpb24vanNvblwiKSx0JiYoaS5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXt2YXIgZT10O3JldHVybiBmdW5jdGlvbigpezQ9PXRoaXMucmVhZHlTdGF0ZSYmMjAwPT10aGlzLnN0YXR1cyYmKHIuZUModGhpcy5yZXNwb25zZVRleHQpLGUoKSl9fSgpKSxpLm9wZW4oXCJQT1NUXCIsdGhpcy51cmwsISFlKSxpLnNlbmQodGhpcy5YYiksIWV8fCF0KXtpZig0IT1pLnJlYWR5U3RhdGUpdGhyb3dcImVuY291bnRlcmVkIGFuIHVua25vd24gYWpheCByZWFkeSBzdGF0ZTogXCIraS5yZWFkeVN0YXRlO2lmKDIwMCE9aS5zdGF0dXMpdGhyb3dcImVuY291bnRlcmVkIGEgdW5rbm93biByZXF1ZXN0IHN0YXR1czogXCIraS5zdGF0dXM7dGhpcy5aYj1pLnJlc3BvbnNlVGV4dCx0aGlzLnRDPXRoaXMuWmIubGVuZ3RoLHRoaXMuV2I9dGhpcy5aYi5sZW5ndGgsdGhpcy56Yj0wfX0sckM6ZnVuY3Rpb24oZSx0LHIsaSl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIGpRdWVyeXx8dm9pZCAwPT09alF1ZXJ5LmlDKXRocm93XCJUaHJpZnQuanMgcmVxdWlyZXMgalF1ZXJ5IDEuNSsgdG8gdXNlIGFzeW5jaHJvbm91cyByZXF1ZXN0c1wiO3ZhciBuPXRoaXM7cmV0dXJuIGpRdWVyeS5uQyh7dXJsOnRoaXMudXJsLGRhdGE6dCx0eXBlOlwiUE9TVFwiLHNDOiExLGNvbnRlbnRUeXBlOlwiYXBwbGljYXRpb24vanNvblwiLG9DOlwidGV4dCB0aHJpZnRcIixhQzp7aEM6ZnVuY3Rpb24odCl7cmV0dXJuIG4uZUModCksaS5jYWxsKGUpfX0sY29udGV4dDplLHN1Y2Nlc3M6alF1ZXJ5LmNDKHIpLnBvcCgpfSl9LGVDOmZ1bmN0aW9uKGUpe3RoaXMuWmI9ZSx0aGlzLnRDPXRoaXMuWmIubGVuZ3RoLHRoaXMuV2I9dGhpcy5aYi5sZW5ndGgsdGhpcy56Yj0wfSxpc09wZW46ZnVuY3Rpb24oKXtyZXR1cm4hMH0sb3BlbjpmdW5jdGlvbigpe30sY2xvc2U6ZnVuY3Rpb24oKXt9LHJlYWQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5XYi10aGlzLnpiO2lmKDA9PT10KXJldHVyblwiXCI7dmFyIHI9ZTt0PGUmJihyPXQpO3ZhciBpPXRoaXMudUMuc3Vic3RyKHRoaXMuemIscik7cmV0dXJuIHRoaXMuemIrPXIsaX0sbEM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5aYn0sd3JpdGU6ZnVuY3Rpb24oZSl7dGhpcy5YYj1lfSxwQzpmdW5jdGlvbigpe3JldHVybiB0aGlzLlhifX0sVGhyaWZ0LmRDPWZ1bmN0aW9uKGUpe3RoaXMuZkMoZSl9LFRocmlmdC5kQy5wcm90b3R5cGU9e2ZDOmZ1bmN0aW9uKGUpe3RoaXMudXJsPWUsdGhpcy5nQz1udWxsLHRoaXMuY2FsbGJhY2tzPVtdLHRoaXMuRUM9W10sdGhpcy5YYj1cIlwiLHRoaXMuWmI9XCJcIix0aGlzLnZDPTAsdGhpcy55Qz0wfSxmbHVzaDpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7dGhpcy5pc09wZW4oKT8odGhpcy5nQy5zZW5kKHRoaXMuWGIpLHRoaXMuY2FsbGJhY2tzLnB1c2goZnVuY3Rpb24oKXt2YXIgZT10O3JldHVybiBmdW5jdGlvbih0KXtyLmVDKHQpLGUoKX19KCkpKTp0aGlzLkVDLnB1c2goe1RDOnRoaXMuWGIsbUM6dH0pfSxJQzpmdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5FQy5sZW5ndGg+MCYmKHRoaXMuRUMuZm9yRWFjaChmdW5jdGlvbih0KXt0aGlzLmdDLnNlbmQodC5UQyksdGhpcy5jYWxsYmFja3MucHVzaChmdW5jdGlvbigpe3ZhciByPXQubUM7cmV0dXJuIGZ1bmN0aW9uKHQpe2UuZUModCkscigpfX0oKSl9KSx0aGlzLkVDPVtdKX0sU0M6ZnVuY3Rpb24oZSl7dGhpcy5mQyh0aGlzLnVybCl9LFJDOmZ1bmN0aW9uKGUpe3RoaXMuY2FsbGJhY2tzLmxlbmd0aCYmdGhpcy5jYWxsYmFja3Muc2hpZnQoKShlLmRhdGEpfSx3QzpmdW5jdGlvbihlKXtjb25zb2xlLmxvZyhcIlRocmlmdCBXZWJTb2NrZXQgRXJyb3I6IFwiK2UudG9TdHJpbmcoKSksdGhpcy5nQy5jbG9zZSgpfSxlQzpmdW5jdGlvbihlKXt0aGlzLlpiPWUsdGhpcy50Qz10aGlzLlpiLmxlbmd0aCx0aGlzLldiPXRoaXMuWmIubGVuZ3RoLHRoaXMuemI9MH0saXNPcGVuOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ0MmJnRoaXMuZ0MucmVhZHlTdGF0ZT09dGhpcy5nQy5PUEVOfSxvcGVuOmZ1bmN0aW9uKCl7dGhpcy5nQyYmdGhpcy5nQy5yZWFkeVN0YXRlIT10aGlzLmdDLkNMT1NFRHx8KHRoaXMuZ0M9bmV3IFdlYlNvY2tldCh0aGlzLnVybCksdGhpcy5nQy5vbm9wZW49dGhpcy5JQy5iaW5kKHRoaXMpLHRoaXMuZ0Mub25tZXNzYWdlPXRoaXMuUkMuYmluZCh0aGlzKSx0aGlzLmdDLm9uZXJyb3I9dGhpcy53Qy5iaW5kKHRoaXMpLHRoaXMuZ0Mub25jbG9zZT10aGlzLlNDLmJpbmQodGhpcykpfSxjbG9zZTpmdW5jdGlvbigpe3RoaXMuZ0MuY2xvc2UoKX0scmVhZDpmdW5jdGlvbihlKXt2YXIgdD10aGlzLldiLXRoaXMuemI7aWYoMD09PXQpcmV0dXJuXCJcIjt2YXIgcj1lO3Q8ZSYmKHI9dCk7dmFyIGk9dGhpcy51Qy5zdWJzdHIodGhpcy56YixyKTtyZXR1cm4gdGhpcy56Yis9cixpfSxsQzpmdW5jdGlvbigpe3JldHVybiB0aGlzLlpifSx3cml0ZTpmdW5jdGlvbihlKXt0aGlzLlhiPWV9LHBDOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuWGJ9fSxUaHJpZnQuYkM9VGhyaWZ0LkNDPWZ1bmN0aW9uKGUpe3RoaXMueWc9ZX0sVGhyaWZ0LkNDLlR5cGU9e30sVGhyaWZ0LkNDLlR5cGVbVGhyaWZ0LlR5cGUuQk9PTF09J1widGZcIicsVGhyaWZ0LkNDLlR5cGVbVGhyaWZ0LlR5cGUuQllURV09J1wiaThcIicsVGhyaWZ0LkNDLlR5cGVbVGhyaWZ0LlR5cGUuSTE2XT0nXCJpMTZcIicsVGhyaWZ0LkNDLlR5cGVbVGhyaWZ0LlR5cGUuSTMyXT0nXCJpMzJcIicsVGhyaWZ0LkNDLlR5cGVbVGhyaWZ0LlR5cGUuSTY0XT0nXCJpNjRcIicsVGhyaWZ0LkNDLlR5cGVbVGhyaWZ0LlR5cGUuRE9VQkxFXT0nXCJkYmxcIicsVGhyaWZ0LkNDLlR5cGVbVGhyaWZ0LlR5cGUuU1RSVUNUXT0nXCJyZWNcIicsVGhyaWZ0LkNDLlR5cGVbVGhyaWZ0LlR5cGUuU1RSSU5HXT0nXCJzdHJcIicsVGhyaWZ0LkNDLlR5cGVbVGhyaWZ0LlR5cGUuTUFQXT0nXCJtYXBcIicsVGhyaWZ0LkNDLlR5cGVbVGhyaWZ0LlR5cGUuTElTVF09J1wibHN0XCInLFRocmlmdC5DQy5UeXBlW1RocmlmdC5UeXBlLlNFVF09J1wic2V0XCInLFRocmlmdC5DQy5fQz17fSxUaHJpZnQuQ0MuX0MudGY9VGhyaWZ0LlR5cGUuQk9PTCxUaHJpZnQuQ0MuX0MuaTg9VGhyaWZ0LlR5cGUuQllURSxUaHJpZnQuQ0MuX0MuaTE2PVRocmlmdC5UeXBlLkkxNixUaHJpZnQuQ0MuX0MuaTMyPVRocmlmdC5UeXBlLkkzMixUaHJpZnQuQ0MuX0MuaTY0PVRocmlmdC5UeXBlLkk2NCxUaHJpZnQuQ0MuX0MuZGJsPVRocmlmdC5UeXBlLkRPVUJMRSxUaHJpZnQuQ0MuX0MucmVjPVRocmlmdC5UeXBlLlNUUlVDVCxUaHJpZnQuQ0MuX0Muc3RyPVRocmlmdC5UeXBlLlNUUklORyxUaHJpZnQuQ0MuX0MubWFwPVRocmlmdC5UeXBlLk1BUCxUaHJpZnQuQ0MuX0MubHN0PVRocmlmdC5UeXBlLkxJU1QsVGhyaWZ0LkNDLl9DLnNldD1UaHJpZnQuVHlwZS5TRVQsVGhyaWZ0LkNDLmZiPTEsVGhyaWZ0LkNDLnByb3RvdHlwZT17UEM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy55Z30sQUM6ZnVuY3Rpb24oZSx0LHIpe3RoaXMuT0M9W10sdGhpcy5OQz1bXSx0aGlzLk9DLnB1c2goW1RocmlmdC5DQy5mYiwnXCInK2UrJ1wiJyx0LHJdKX0sREM6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLk9DLnBvcCgpO3RoaXMua0M9dGhpcy5PQy5wb3AoKSx0aGlzLmtDLnB1c2goZSksdGhpcy5MQz1cIltcIit0aGlzLmtDLmpvaW4oXCIsXCIpK1wiXVwiLHRoaXMueWcud3JpdGUodGhpcy5MQyl9LEhiOmZ1bmN0aW9uKGUpe3RoaXMuTkMucHVzaCh0aGlzLk9DLmxlbmd0aCksdGhpcy5PQy5wdXNoKHt9KX0sUWI6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLk5DLnBvcCgpLHQ9dGhpcy5PQ1tlXSxyPVwie1wiLGk9ITA7Zm9yKHZhciBuIGluIHQpaT9pPSExOnIrPVwiLFwiLHIrPW4rXCI6XCIrdFtuXTtyKz1cIn1cIix0aGlzLk9DW2VdPXJ9LHhiOmZ1bmN0aW9uKGUsdCxyKXt0aGlzLk5DLnB1c2godGhpcy5PQy5sZW5ndGgpLHRoaXMuT0MucHVzaCh7TUM6J1wiJytyKydcIicsRkM6VGhyaWZ0LkNDLlR5cGVbdF19KX0sR2I6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLk9DLnBvcCgpLHQ9dGhpcy5PQy5wb3AoKTt0aGlzLk9DW3RoaXMuT0MubGVuZ3RoLTFdW3QuTUNdPVwie1wiK3QuRkMrXCI6XCIrZStcIn1cIix0aGlzLk5DLnBvcCgpfSxqYjpmdW5jdGlvbigpe30sVUM6ZnVuY3Rpb24oZSx0LHIpe3RoaXMuTkMucHVzaCh0aGlzLk9DLmxlbmd0aCksdGhpcy5PQy5wdXNoKFtUaHJpZnQuQ0MuVHlwZVtlXSxUaHJpZnQuQ0MuVHlwZVt0XSwwXSl9LEJDOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5OQy5wb3AoKTtpZihlIT10aGlzLk9DLmxlbmd0aCl7KHRoaXMuT0MubGVuZ3RoLWUtMSklMiE9MCYmdGhpcy5PQy5wdXNoKFwiXCIpO3ZhciB0PSh0aGlzLk9DLmxlbmd0aC1lLTEpLzI7dGhpcy5PQ1tlXVt0aGlzLk9DW2VdLmxlbmd0aC0xXT10O2Zvcih2YXIgcj1cIn1cIixpPSEwO3RoaXMuT0MubGVuZ3RoPmUrMTspe3ZhciBuPXRoaXMuT0MucG9wKCkscz10aGlzLk9DLnBvcCgpO2k/aT0hMTpyPVwiLFwiK3IsaXNOYU4ocyl8fChzPSdcIicrcysnXCInKSxyPXMrXCI6XCIrbityfXI9XCJ7XCIrcix0aGlzLk9DW2VdLnB1c2gociksdGhpcy5PQ1tlXT1cIltcIit0aGlzLk9DW2VdLmpvaW4oXCIsXCIpK1wiXVwifX0sSEM6ZnVuY3Rpb24oZSx0KXt0aGlzLk5DLnB1c2godGhpcy5PQy5sZW5ndGgpLHRoaXMuT0MucHVzaChbVGhyaWZ0LkNDLlR5cGVbZV0sdF0pfSx4QzpmdW5jdGlvbigpe2Zvcih2YXIgZT10aGlzLk5DLnBvcCgpO3RoaXMuT0MubGVuZ3RoPmUrMTspe3ZhciB0PXRoaXMuT0NbZSsxXTt0aGlzLk9DLnNwbGljZShlKzEsMSksdGhpcy5PQ1tlXS5wdXNoKHQpfXRoaXMuT0NbZV09XCJbXCIrdGhpcy5PQ1tlXS5qb2luKFwiLFwiKStcIl1cIn0scUM6ZnVuY3Rpb24oZSx0KXt0aGlzLk5DLnB1c2godGhpcy5PQy5sZW5ndGgpLHRoaXMuT0MucHVzaChbVGhyaWZ0LkNDLlR5cGVbZV0sdF0pfSxHQzpmdW5jdGlvbigpe2Zvcih2YXIgZT10aGlzLk5DLnBvcCgpO3RoaXMuT0MubGVuZ3RoPmUrMTspe3ZhciB0PXRoaXMuT0NbZSsxXTt0aGlzLk9DLnNwbGljZShlKzEsMSksdGhpcy5PQ1tlXS5wdXNoKHQpfXRoaXMuT0NbZV09XCJbXCIrdGhpcy5PQ1tlXS5qb2luKFwiLFwiKStcIl1cIn0sVkM6ZnVuY3Rpb24oZSl7dGhpcy5PQy5wdXNoKGU/MTowKX0sakM6ZnVuY3Rpb24oZSl7dGhpcy5PQy5wdXNoKGUpfSxRQzpmdW5jdGlvbihlKXt0aGlzLk9DLnB1c2goZSl9LFZiOmZ1bmN0aW9uKGUpe3RoaXMuT0MucHVzaChlKX0sS0M6ZnVuY3Rpb24oZSl7dGhpcy5PQy5wdXNoKGUpfSxZQzpmdW5jdGlvbihlKXt0aGlzLk9DLnB1c2goZSl9LHFiOmZ1bmN0aW9uKGUpe2lmKG51bGw9PT1lKXRoaXMuT0MucHVzaChudWxsKTtlbHNle2Zvcih2YXIgdD1cIlwiLHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIGk9ZS5jaGFyQXQocik7dCs9J1wiJz09PWk/J1xcXFxcIic6XCJcXFxcXCI9PT1pP1wiXFxcXFxcXFxcIjpcIlxcYlwiPT09aT9cIlxcXFxiXCI6XCJcXGZcIj09PWk/XCJcXFxcZlwiOlwiXFxuXCI9PT1pP1wiXFxcXG5cIjpcIlxcclwiPT09aT9cIlxcXFxyXCI6XCJcXHRcIj09PWk/XCJcXFxcdFwiOml9dGhpcy5PQy5wdXNoKCdcIicrdCsnXCInKX19LFdDOmZ1bmN0aW9uKGUpe3RoaXMucWIoZSl9LHpDOmZ1bmN0aW9uKCl7dGhpcy5KQz1bXSx0aGlzLnpiPVtdLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBKU09OJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBKU09OLnBhcnNlP3RoaXMuWEM9SlNPTi5wYXJzZSh0aGlzLnlnLmxDKCkpOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBqUXVlcnk/dGhpcy5YQz1qUXVlcnkuWkModGhpcy55Zy5sQygpKTp0aGlzLlhDPWV2YWwodGhpcy55Zy5sQygpKTt2YXIgcj17fSx2ZXJzaW9uPXRoaXMuWEMuc2hpZnQoKTtpZih2ZXJzaW9uIT1UaHJpZnQuQ0MuZmIpdGhyb3dcIldyb25nIHRocmlmdCBwcm90b2NvbCB2ZXJzaW9uOiBcIit2ZXJzaW9uO3JldHVybiByLmZuYW1lPXRoaXMuWEMuc2hpZnQoKSxyLiRDPXRoaXMuWEMuc2hpZnQoKSxyLmVfPXRoaXMuWEMuc2hpZnQoKSx0aGlzLkpDLnB1c2godGhpcy5YQy5zaGlmdCgpKSxyfSx0XzpmdW5jdGlvbigpe30scl86ZnVuY3Rpb24oZSl7dmFyIHQ9e307cmV0dXJuIHQuZm5hbWU9XCJcIix0aGlzLkpDW3RoaXMuSkMubGVuZ3RoLTFdaW5zdGFuY2VvZiBBcnJheSYmdGhpcy5KQy5wdXNoKHRoaXMuSkNbdGhpcy5KQy5sZW5ndGgtMV0uc2hpZnQoKSksdH0sQmI6ZnVuY3Rpb24oKXt0aGlzLkpDW3RoaXMuSkMubGVuZ3RoLTJdaW5zdGFuY2VvZiBBcnJheSYmdGhpcy5KQy5wb3AoKX0sa2I6ZnVuY3Rpb24oKXt2YXIgZT17fSx0PS0xLHI9VGhyaWZ0LlR5cGUuU1RPUDtmb3IodmFyIGkgaW4gdGhpcy5KQ1t0aGlzLkpDLmxlbmd0aC0xXSlpZihudWxsIT09aSl7dD1wYXJzZUludChpLDEwKSx0aGlzLnpiLnB1c2godGhpcy5KQy5sZW5ndGgpO3ZhciBuPXRoaXMuSkNbdGhpcy5KQy5sZW5ndGgtMV1bdF07ZGVsZXRlIHRoaXMuSkNbdGhpcy5KQy5sZW5ndGgtMV1bdF0sdGhpcy5KQy5wdXNoKG4pO2JyZWFrfWlmKC0xIT10KWZvcih2YXIgcyBpbiB0aGlzLkpDW3RoaXMuSkMubGVuZ3RoLTFdKW51bGwhPT1UaHJpZnQuQ0MuX0Nbc10mJihyPVRocmlmdC5DQy5fQ1tzXSx0aGlzLkpDW3RoaXMuSkMubGVuZ3RoLTFdPXRoaXMuSkNbdGhpcy5KQy5sZW5ndGgtMV1bc10pO3JldHVybiBlLmZuYW1lPVwiXCIsZS5mdHlwZT1yLGUuZmlkPXQsZX0sVWI6ZnVuY3Rpb24oKXtmb3IodmFyIGU9dGhpcy56Yi5wb3AoKTt0aGlzLkpDLmxlbmd0aD5lOyl0aGlzLkpDLnBvcCgpfSxpXzpmdW5jdGlvbigpe3ZhciBlPXRoaXMuSkMucG9wKCksdD1lLnNoaWZ0KCk7dCBpbnN0YW5jZW9mIEFycmF5JiYodGhpcy5KQy5wdXNoKGUpLGU9dCx0PWUuc2hpZnQoKSk7dmFyIHI9e307cmV0dXJuIHIubl89VGhyaWZ0LkNDLl9DW3RdLHIuc189VGhyaWZ0LkNDLl9DW2Uuc2hpZnQoKV0sci5zaXplPWUuc2hpZnQoKSx0aGlzLnpiLnB1c2godGhpcy5KQy5sZW5ndGgpLHRoaXMuSkMucHVzaChlLnNoaWZ0KCkpLHJ9LG9fOmZ1bmN0aW9uKCl7dGhpcy5VYigpfSxhXzpmdW5jdGlvbigpe3ZhciBlPXRoaXMuSkNbdGhpcy5KQy5sZW5ndGgtMV0sdD17fTtyZXR1cm4gdC5oXz1UaHJpZnQuQ0MuX0NbZS5zaGlmdCgpXSx0LnNpemU9ZS5zaGlmdCgpLHRoaXMuemIucHVzaCh0aGlzLkpDLmxlbmd0aCksdGhpcy5KQy5wdXNoKGUpLHR9LGNfOmZ1bmN0aW9uKCl7dGhpcy5VYigpfSx1XzpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmFfKGUsdCl9LGxfOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY18oKX0scF86ZnVuY3Rpb24oKXt2YXIgZT10aGlzLkZiKCk7cmV0dXJuIG51bGwhPT1lJiZcIjFcIj09ZS52YWx1ZT9lLnZhbHVlPSEwOmUudmFsdWU9ITEsZX0sZF86ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5GYigpfSxmXzpmdW5jdGlvbigpe3JldHVybiB0aGlzLkZiKCl9LEZiOmZ1bmN0aW9uKGUpe3ZvaWQgMD09PWUmJihlPXRoaXMuSkNbdGhpcy5KQy5sZW5ndGgtMV0pO3ZhciB0PXt9O2lmKGUgaW5zdGFuY2VvZiBBcnJheSkwPT09ZS5sZW5ndGg/dC52YWx1ZT12b2lkIDA6dC52YWx1ZT1lLnNoaWZ0KCk7ZWxzZSBpZihlIGluc3RhbmNlb2YgT2JqZWN0KXtmb3IodmFyIHIgaW4gZSlpZihudWxsIT09cil7dGhpcy5KQy5wdXNoKGVbcl0pLGRlbGV0ZSBlW3JdLHQudmFsdWU9cjticmVha319ZWxzZSB0LnZhbHVlPWUsdGhpcy5KQy5wb3AoKTtyZXR1cm4gdH0sZ186ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5GYigpfSxFXzpmdW5jdGlvbigpe3JldHVybiB0aGlzLkZiKCl9LExiOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuRmIoKX0sdl86ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5MYigpfSxNYjpmdW5jdGlvbihlKXt2YXIgdCxyO3N3aXRjaChlKXtjYXNlIFRocmlmdC5UeXBlLlNUT1A6cmV0dXJuIG51bGw7Y2FzZSBUaHJpZnQuVHlwZS5CT09MOnJldHVybiB0aGlzLnBfKCk7Y2FzZSBUaHJpZnQuVHlwZS5CWVRFOnJldHVybiB0aGlzLmRfKCk7Y2FzZSBUaHJpZnQuVHlwZS5JMTY6cmV0dXJuIHRoaXMuZl8oKTtjYXNlIFRocmlmdC5UeXBlLkkzMjpyZXR1cm4gdGhpcy5GYigpO2Nhc2UgVGhyaWZ0LlR5cGUuSTY0OnJldHVybiB0aGlzLmdfKCk7Y2FzZSBUaHJpZnQuVHlwZS5ET1VCTEU6cmV0dXJuIHRoaXMuRV8oKTtjYXNlIFRocmlmdC5UeXBlLlNUUklORzpyZXR1cm4gdGhpcy5MYigpO2Nhc2UgVGhyaWZ0LlR5cGUuU1RSVUNUOmZvcih0aGlzLnJfKCk7Oyl7aWYodD10aGlzLmtiKCksdC5mdHlwZT09VGhyaWZ0LlR5cGUuU1RPUClicmVhazt0aGlzLk1iKHQuZnR5cGUpLHRoaXMuVWIoKX1yZXR1cm4gdGhpcy5CYigpLG51bGw7Y2FzZSBUaHJpZnQuVHlwZS5NQVA6Zm9yKHQ9dGhpcy5pXygpLHI9MDtyPHQuc2l6ZTtyKyspcj4wJiZ0aGlzLkpDLmxlbmd0aD50aGlzLnpiW3RoaXMuemIubGVuZ3RoLTFdKzEmJnRoaXMuSkMucG9wKCksdGhpcy5NYih0Lm5fKSx0aGlzLk1iKHQuc18pO3JldHVybiB0aGlzLm9fKCksbnVsbDtjYXNlIFRocmlmdC5UeXBlLlNFVDpmb3IodD10aGlzLnVfKCkscj0wO3I8dC5zaXplO3IrKyl0aGlzLk1iKHQuaF8pO3JldHVybiB0aGlzLmxfKCksbnVsbDtjYXNlIFRocmlmdC5UeXBlLkxJU1Q6Zm9yKHQ9dGhpcy5hXygpLHI9MDtyPHQuc2l6ZTtyKyspdGhpcy5NYih0LmhfKTtyZXR1cm4gdGhpcy5jXygpLG51bGx9fX0sVGhyaWZ0LnlfPWZ1bmN0aW9uKGUsdCxyLGkpe1RocmlmdC5DQy5jYWxsKHRoaXMsdCxyLGkpLHRoaXMuVF89ZX0sVGhyaWZ0LnZiKFRocmlmdC55XyxUaHJpZnQuQ0MsXCJtdWx0aXBsZXhQcm90b2NvbFwiKSxUaHJpZnQueV8ucHJvdG90eXBlLkFDPWZ1bmN0aW9uKGUsdCxyKXt0PT09VGhyaWZ0LmdiLkNBTEx8fHQ9PT1UaHJpZnQuZ2IuT05FV0FZP1RocmlmdC5DQy5wcm90b3R5cGUuQUMuY2FsbCh0aGlzLHRoaXMuVF8rXCI6XCIrZSx0LHIpOlRocmlmdC5DQy5wcm90b3R5cGUuQUMuY2FsbCh0aGlzLGUsdCxyKX0sVGhyaWZ0Lm1fPWZ1bmN0aW9uKCl7dGhpcy5JXz0wfSxUaHJpZnQubV8ucHJvdG90eXBlLlNfPWZ1bmN0aW9uKGUsdCxyKXt0LnFsJiYodD10LnFsKTt2YXIgaT10aGlzO3JldHVybiB0LnByb3RvdHlwZS5SXz1mdW5jdGlvbigpe3JldHVybiBpLklfKz0xLGkuSV99LG5ldyB0KG5ldyBUaHJpZnQueV8oZSxyKSl9LG1vZHVsZS5pPVRocmlmdH0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXIoOSksbj1yKDI4KSxzPW4uY2csbz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0LHIsaSxuLG8sYSxoKXt0aGlzLmNvbnRleHRJZD1oLHRoaXMudXJsPWUsdGhpcy53Xz1yLHRoaXMuYl89dCx0aGlzLkNfPWksdGhpcy5kdXJhdGlvbj1uLHRoaXMuYml0cmF0ZT1vLHRoaXMuX189YTt2YXIgYz0odGhpcy5jb250ZXh0SWQ/dGhpcy5jb250ZXh0SWQ6dGhpcy51cmwpLnJlcGxhY2UoL2h0dHAocyk/OlxcL1xcLy8sXCJcIiksdT1zLm9UKGMpLnRvU3RyaW5nKHMuVXkuQnkpO3RoaXMuUF89dStcIi1cIit0aGlzLkNfK1wiLVwiK3RoaXMuYml0cmF0ZX1yZXR1cm4gZS5wcm90b3R5cGUuWGY9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iX30sZS5wcm90b3R5cGUuQV89ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5DX30sZS5wcm90b3R5cGUuZ2V0RHVyYXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kdXJhdGlvbn0sZS5wcm90b3R5cGUuZ2V0Qml0cmF0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJpdHJhdGV9LGUucHJvdG90eXBlLmlnPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX199LGUucHJvdG90eXBlLk9fPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMud199LGUucHJvdG90eXBlLlpmPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuUF99LGUucHJvdG90eXBlLnRnPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudXJsfSxlLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiBpLnZjW3RoaXMuWGYoKV0rXCItXCIrdGhpcy5aZigpfSxlfSgpO3QuTl89b30sZnVuY3Rpb24oZSx0LHIpeyhmdW5jdGlvbihlKXt2YXIgbixzOy8qKlxuICogQGxpY2Vuc2UgQnl0ZUJ1ZmZlci5qcyAoYykgMjAxMy0yMDE0IERhbmllbCBXaXJ0eiA8ZGNvZGVAZGNvZGUuaW8+XG4gKiBUaGlzIHZlcnNpb24gb2YgQnl0ZUJ1ZmZlci5qcyB1c2VzIGFuIEFycmF5QnVmZmVyIGFzIGl0cyBiYWNraW5nIGJ1ZmZlciB3aGljaCBpcyBhY2Nlc3NlZCB0aHJvdWdoIGEgRGF0YVZpZXcgYW5kIGlzXG4gKiBjb21wYXRpYmxlIHdpdGggbW9kZXJuIGJyb3dzZXJzLlxuICogUmVsZWFzZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMFxuICogc2VlOiBodHRwczovL2dpdGh1Yi5jb20vZGNvZGVJTy9CeXRlQnVmZmVyLmpzIGZvciBkZXRhaWxzXG4gKi9cbiFmdW5jdGlvbihvKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBhKGUpe2Z1bmN0aW9uIHQoZSl7dmFyIHQ9MDtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdDxlLmxlbmd0aD9lLmNoYXJDb2RlQXQodCsrKTpudWxsfX1mdW5jdGlvbiByKCl7dmFyIGU9W10sdD1bXTtyZXR1cm4gZnVuY3Rpb24oKXtpZigwPT09YXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdC5qb2luKFwiXCIpK2EuYXBwbHkoU3RyaW5nLGUpO2UubGVuZ3RoK2FyZ3VtZW50cy5sZW5ndGg+MTAyNCYmKHQucHVzaChhLmFwcGx5KFN0cmluZyxlKSksZS5sZW5ndGg9MCksQXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkoZSxhcmd1bWVudHMpfX12YXIgbj1mdW5jdGlvbihlLHQscil7aWYodm9pZCAwPT09ZSYmKGU9bi5EXyksdm9pZCAwPT09dCYmKHQ9bi5rXyksdm9pZCAwPT09ciYmKHI9bi5MXyksIXIpe2lmKChlfD0wKTwwKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIGNhcGFjaXR5XCIpO3Q9ISF0LHI9ISFyfXRoaXMuYnVmZmVyPTA9PT1lP286bmV3IEFycmF5QnVmZmVyKGUpLHRoaXMudmlldz0wPT09ZT9udWxsOm5ldyBEYXRhVmlldyh0aGlzLmJ1ZmZlciksdGhpcy5vZmZzZXQ9MCx0aGlzLk1fPS0xLHRoaXMuRl89ZSx0aGlzLlVfPXZvaWQgMCE9PXQmJiEhdCx0aGlzLkJfPSEhcn07bi5WRVJTSU9OPVwiMy41LjVcIixuLkhfPSEwLG4ueF89ITEsbi5EXz0xNixuLmtfPW4ueF8sbi5MXz0hMSxuLnFfPWV8fG51bGw7dmFyIHM9bi5wcm90b3R5cGUsbz1uZXcgQXJyYXlCdWZmZXIoMCksYT1TdHJpbmcuZnJvbUNoYXJDb2RlO24uR189ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBuZXcgbihlLHQscil9LG4uY29uY2F0PWZ1bmN0aW9uKGUsdCxyLGkpe1wiYm9vbGVhblwiIT10eXBlb2YgdCYmXCJzdHJpbmdcIj09dHlwZW9mIHR8fChpPXIscj10LHQ9dm9pZCAwKTtmb3IodmFyIHMsbz0wLGE9MCxoPWUubGVuZ3RoO2E8aDsrK2Epbi5WXyhlW2FdKXx8KGVbYV09bi53cmFwKGVbYV0sdCkpLChzPWVbYV0uRl8tZVthXS5vZmZzZXQpPjAmJihvKz1zKTtpZigwPT09bylyZXR1cm4gbmV3IG4oMCxyLGkpO3ZhciBjLHU9bmV3IG4obyxyLGkpLGw9bmV3IFVpbnQ4QXJyYXkodS5idWZmZXIpO2ZvcihhPTA7YTxoOyljPWVbYSsrXSwocz1jLkZfLWMub2Zmc2V0KTw9MHx8KGwuc2V0KG5ldyBVaW50OEFycmF5KGMuYnVmZmVyKS5zdWJhcnJheShjLm9mZnNldCxjLkZfKSx1Lm9mZnNldCksdS5vZmZzZXQrPXMpO3JldHVybiB1LkZfPXUub2Zmc2V0LHUub2Zmc2V0PTAsdX0sbi5WXz1mdW5jdGlvbihlKXtyZXR1cm4hMD09PShlJiZlIGluc3RhbmNlb2Ygbil9LG4udHlwZT1mdW5jdGlvbigpe3JldHVybiBBcnJheUJ1ZmZlcn0sbi53cmFwPWZ1bmN0aW9uKGUsdCxyLG8pe2lmKFwic3RyaW5nXCIhPXR5cGVvZiB0JiYobz1yLHI9dCx0PXZvaWQgMCksXCJzdHJpbmdcIj09dHlwZW9mIGUpc3dpdGNoKHZvaWQgMD09PXQmJih0PVwidXRmOFwiKSx0KXtjYXNlXCJiYXNlNjRcIjpyZXR1cm4gbi5qXyhlLHIpO2Nhc2VcImhleFwiOnJldHVybiBuLlFfKGUscik7Y2FzZVwiYmluYXJ5XCI6cmV0dXJuIG4uS18oZSxyKTtjYXNlXCJ1dGY4XCI6cmV0dXJuIG4uWV8oZSxyKTtjYXNlXCJkZWJ1Z1wiOnJldHVybiBuLldfKGUscik7ZGVmYXVsdDp0aHJvdyBFcnJvcihcIlVuc3VwcG9ydGVkIGVuY29kaW5nOiBcIit0KX1pZihudWxsPT09ZXx8XCJvYmplY3RcIiE9dHlwZW9mIGUpdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBidWZmZXJcIik7dmFyIGE7aWYobi5WXyhlKSlyZXR1cm4gYT1zLmNsb25lLmNhbGwoZSksYS5NXz0tMSxhO2lmKGUgaW5zdGFuY2VvZiBVaW50OEFycmF5KWE9bmV3IG4oMCxyLG8pLGUubGVuZ3RoPjAmJihhLmJ1ZmZlcj1lLmJ1ZmZlcixhLm9mZnNldD1lLmJ5dGVPZmZzZXQsYS5GXz1lLmJ5dGVPZmZzZXQrZS5sZW5ndGgsYS52aWV3PWUubGVuZ3RoPjA/bmV3IERhdGFWaWV3KGUuYnVmZmVyKTpudWxsKTtlbHNlIGlmKGUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcilhPW5ldyBuKDAscixvKSxlLmJ5dGVMZW5ndGg+MCYmKGEuYnVmZmVyPWUsYS5vZmZzZXQ9MCxhLkZfPWUuYnl0ZUxlbmd0aCxhLnZpZXc9ZS5ieXRlTGVuZ3RoPjA/bmV3IERhdGFWaWV3KGUpOm51bGwpO2Vsc2V7aWYoXCJbb2JqZWN0IEFycmF5XVwiIT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgYnVmZmVyXCIpO2ZvcihhPW5ldyBuKGUubGVuZ3RoLHIsbyksYS5GXz1lLmxlbmd0aCxpPTA7aTxlLmxlbmd0aDsrK2kpYS52aWV3LnNldFVpbnQ4KGksZVtpXSl9cmV0dXJuIGF9LHMuel89ZnVuY3Rpb24oZSx0KXt2YXIgcj12b2lkIDA9PT10O2lmKHImJih0PXRoaXMub2Zmc2V0KSwhdGhpcy5CXyl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGV8fGUlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIHZhbHVlOiBcIitlK1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoZXw9MCxcIm51bWJlclwiIT10eXBlb2YgdHx8dCUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBcIit0K1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKHQ+Pj49MCk8MHx8dCswPnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiAwIDw9IFwiK3QrXCIgKCswKSA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX10Kz0xO3ZhciBpPXRoaXMuYnVmZmVyLmJ5dGVMZW5ndGg7cmV0dXJuIHQ+aSYmdGhpcy5yZXNpemUoKGkqPTIpPnQ/aTp0KSx0LT0xLHRoaXMudmlldy5zZXRJbnQ4KHQsZSksciYmKHRoaXMub2Zmc2V0Kz0xKSx0aGlzfSxzLmpDPXMuel8scy5KXz1mdW5jdGlvbihlKXt2YXIgdD12b2lkIDA9PT1lO2lmKHQmJihlPXRoaXMub2Zmc2V0KSwhdGhpcy5CXyl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGV8fGUlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogXCIrZStcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKChlPj4+PTApPDB8fGUrMT50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogMCA8PSBcIitlK1wiICgrMSkgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9dmFyIHI9dGhpcy52aWV3LmdldEludDgoZSk7cmV0dXJuIHQmJih0aGlzLm9mZnNldCs9MSkscn0scy5kXz1zLkpfLHMuWF89ZnVuY3Rpb24oZSx0KXt2YXIgcj12b2lkIDA9PT10O2lmKHImJih0PXRoaXMub2Zmc2V0KSwhdGhpcy5CXyl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGV8fGUlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIHZhbHVlOiBcIitlK1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoZT4+Pj0wLFwibnVtYmVyXCIhPXR5cGVvZiB0fHx0JTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IFwiK3QrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZigodD4+Pj0wKTwwfHx0KzA+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IDAgPD0gXCIrdCtcIiAoKzApIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfXQrPTE7dmFyIGk9dGhpcy5idWZmZXIuYnl0ZUxlbmd0aDtyZXR1cm4gdD5pJiZ0aGlzLnJlc2l6ZSgoaSo9Mik+dD9pOnQpLHQtPTEsdGhpcy52aWV3LnNldFVpbnQ4KHQsZSksciYmKHRoaXMub2Zmc2V0Kz0xKSx0aGlzfSxzLlpfPWZ1bmN0aW9uKGUpe3ZhciB0PXZvaWQgMD09PWU7aWYodCYmKGU9dGhpcy5vZmZzZXQpLCF0aGlzLkJfKXtpZihcIm51bWJlclwiIT10eXBlb2YgZXx8ZSUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBcIitlK1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKGU+Pj49MCk8MHx8ZSsxPnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiAwIDw9IFwiK2UrXCIgKCsxKSA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX12YXIgcj10aGlzLnZpZXcuZ2V0VWludDgoZSk7cmV0dXJuIHQmJih0aGlzLm9mZnNldCs9MSkscn0scy5lUD1mdW5jdGlvbihlLHQpe3ZhciByPXZvaWQgMD09PXQ7aWYociYmKHQ9dGhpcy5vZmZzZXQpLCF0aGlzLkJfKXtpZihcIm51bWJlclwiIT10eXBlb2YgZXx8ZSUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgdmFsdWU6IFwiK2UrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZihlfD0wLFwibnVtYmVyXCIhPXR5cGVvZiB0fHx0JTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IFwiK3QrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZigodD4+Pj0wKTwwfHx0KzA+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IDAgPD0gXCIrdCtcIiAoKzApIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfXQrPTI7dmFyIGk9dGhpcy5idWZmZXIuYnl0ZUxlbmd0aDtyZXR1cm4gdD5pJiZ0aGlzLnJlc2l6ZSgoaSo9Mik+dD9pOnQpLHQtPTIsdGhpcy52aWV3LnNldEludDE2KHQsZSx0aGlzLlVfKSxyJiYodGhpcy5vZmZzZXQrPTIpLHRoaXN9LHMudFA9cy5lUCxzLnJQPWZ1bmN0aW9uKGUpe3ZhciB0PXZvaWQgMD09PWU7aWYodCYmKGU9dGhpcy5vZmZzZXQpLCF0aGlzLkJfKXtpZihcIm51bWJlclwiIT10eXBlb2YgZXx8ZSUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBcIitlK1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKGU+Pj49MCk8MHx8ZSsyPnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiAwIDw9IFwiK2UrXCIgKCsyKSA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX12YXIgcj10aGlzLnZpZXcuZ2V0SW50MTYoZSx0aGlzLlVfKTtyZXR1cm4gdCYmKHRoaXMub2Zmc2V0Kz0yKSxyfSxzLmlQPXMuclAscy5uUD1mdW5jdGlvbihlLHQpe3ZhciByPXZvaWQgMD09PXQ7aWYociYmKHQ9dGhpcy5vZmZzZXQpLCF0aGlzLkJfKXtpZihcIm51bWJlclwiIT10eXBlb2YgZXx8ZSUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgdmFsdWU6IFwiK2UrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZihlPj4+PTAsXCJudW1iZXJcIiE9dHlwZW9mIHR8fHQlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogXCIrdCtcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKCh0Pj4+PTApPDB8fHQrMD50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogMCA8PSBcIit0K1wiICgrMCkgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9dCs9Mjt2YXIgaT10aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoO3JldHVybiB0PmkmJnRoaXMucmVzaXplKChpKj0yKT50P2k6dCksdC09Mix0aGlzLnZpZXcuc2V0VWludDE2KHQsZSx0aGlzLlVfKSxyJiYodGhpcy5vZmZzZXQrPTIpLHRoaXN9LHMuc1A9ZnVuY3Rpb24oZSl7dmFyIHQ9dm9pZCAwPT09ZTtpZih0JiYoZT10aGlzLm9mZnNldCksIXRoaXMuQl8pe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlfHxlJTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IFwiK2UrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZigoZT4+Pj0wKTwwfHxlKzI+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IDAgPD0gXCIrZStcIiAoKzIpIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfXZhciByPXRoaXMudmlldy5nZXRVaW50MTYoZSx0aGlzLlVfKTtyZXR1cm4gdCYmKHRoaXMub2Zmc2V0Kz0yKSxyfSxzLm9QPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dm9pZCAwPT09dDtpZihyJiYodD10aGlzLm9mZnNldCksIXRoaXMuQl8pe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlfHxlJTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCB2YWx1ZTogXCIrZStcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKGV8PTAsXCJudW1iZXJcIiE9dHlwZW9mIHR8fHQlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogXCIrdCtcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKCh0Pj4+PTApPDB8fHQrMD50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogMCA8PSBcIit0K1wiICgrMCkgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9dCs9NDt2YXIgaT10aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoO3JldHVybiB0PmkmJnRoaXMucmVzaXplKChpKj0yKT50P2k6dCksdC09NCx0aGlzLnZpZXcuc2V0SW50MzIodCxlLHRoaXMuVV8pLHImJih0aGlzLm9mZnNldCs9NCksdGhpc30scy5CZz1zLm9QLHMuYVA9ZnVuY3Rpb24oZSl7dmFyIHQ9dm9pZCAwPT09ZTtpZih0JiYoZT10aGlzLm9mZnNldCksIXRoaXMuQl8pe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlfHxlJTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IFwiK2UrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZigoZT4+Pj0wKTwwfHxlKzQ+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IDAgPD0gXCIrZStcIiAoKzQpIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfXZhciByPXRoaXMudmlldy5nZXRJbnQzMihlLHRoaXMuVV8pO3JldHVybiB0JiYodGhpcy5vZmZzZXQrPTQpLHJ9LHMuUWc9cy5hUCxzLmhQPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dm9pZCAwPT09dDtpZihyJiYodD10aGlzLm9mZnNldCksIXRoaXMuQl8pe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlfHxlJTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCB2YWx1ZTogXCIrZStcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKGU+Pj49MCxcIm51bWJlclwiIT10eXBlb2YgdHx8dCUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBcIit0K1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKHQ+Pj49MCk8MHx8dCswPnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiAwIDw9IFwiK3QrXCIgKCswKSA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX10Kz00O3ZhciBpPXRoaXMuYnVmZmVyLmJ5dGVMZW5ndGg7cmV0dXJuIHQ+aSYmdGhpcy5yZXNpemUoKGkqPTIpPnQ/aTp0KSx0LT00LHRoaXMudmlldy5zZXRVaW50MzIodCxlLHRoaXMuVV8pLHImJih0aGlzLm9mZnNldCs9NCksdGhpc30scy5jUD1mdW5jdGlvbihlKXt2YXIgdD12b2lkIDA9PT1lO2lmKHQmJihlPXRoaXMub2Zmc2V0KSwhdGhpcy5CXyl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGV8fGUlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogXCIrZStcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKChlPj4+PTApPDB8fGUrND50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogMCA8PSBcIitlK1wiICgrNCkgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9dmFyIHI9dGhpcy52aWV3LmdldFVpbnQzMihlLHRoaXMuVV8pO3JldHVybiB0JiYodGhpcy5vZmZzZXQrPTQpLHJ9LGUmJihzLnVQPWZ1bmN0aW9uKHQscil7dmFyIGk9dm9pZCAwPT09cjtpZihpJiYocj10aGlzLm9mZnNldCksIXRoaXMuQl8pe2lmKFwibnVtYmVyXCI9PXR5cGVvZiB0KXQ9ZS5ERSh0KTtlbHNlIGlmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXQ9ZS5rRSh0KTtlbHNlIGlmKCEodCYmdCBpbnN0YW5jZW9mIGUpKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgdmFsdWU6IFwiK3QrXCIgKG5vdCBhbiBpbnRlZ2VyIG9yIExvbmcpXCIpO2lmKFwibnVtYmVyXCIhPXR5cGVvZiByfHxyJTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IFwiK3IrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZigocj4+Pj0wKTwwfHxyKzA+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IDAgPD0gXCIrcitcIiAoKzApIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfVwibnVtYmVyXCI9PXR5cGVvZiB0P3Q9ZS5ERSh0KTpcInN0cmluZ1wiPT10eXBlb2YgdCYmKHQ9ZS5rRSh0KSkscis9ODt2YXIgbj10aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoO3JldHVybiByPm4mJnRoaXMucmVzaXplKChuKj0yKT5yP246ciksci09OCx0aGlzLlVfPyh0aGlzLnZpZXcuc2V0SW50MzIocix0LmxvdywhMCksdGhpcy52aWV3LnNldEludDMyKHIrNCx0LmhpZ2gsITApKToodGhpcy52aWV3LnNldEludDMyKHIsdC5oaWdoLCExKSx0aGlzLnZpZXcuc2V0SW50MzIocis0LHQubG93LCExKSksaSYmKHRoaXMub2Zmc2V0Kz04KSx0aGlzfSxzLmxQPXMudVAscy5wUD1mdW5jdGlvbih0KXt2YXIgcj12b2lkIDA9PT10O2lmKHImJih0PXRoaXMub2Zmc2V0KSwhdGhpcy5CXyl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIHR8fHQlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogXCIrdCtcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKCh0Pj4+PTApPDB8fHQrOD50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogMCA8PSBcIit0K1wiICgrOCkgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9dmFyIGk9dGhpcy5VXz9uZXcgZSh0aGlzLnZpZXcuZ2V0SW50MzIodCwhMCksdGhpcy52aWV3LmdldEludDMyKHQrNCwhMCksITEpOm5ldyBlKHRoaXMudmlldy5nZXRJbnQzMih0KzQsITEpLHRoaXMudmlldy5nZXRJbnQzMih0LCExKSwhMSk7cmV0dXJuIHImJih0aGlzLm9mZnNldCs9OCksaX0scy5kUD1zLnBQLHMuZlA9ZnVuY3Rpb24odCxyKXt2YXIgaT12b2lkIDA9PT1yO2lmKGkmJihyPXRoaXMub2Zmc2V0KSwhdGhpcy5CXyl7aWYoXCJudW1iZXJcIj09dHlwZW9mIHQpdD1lLkRFKHQpO2Vsc2UgaWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpdD1lLmtFKHQpO2Vsc2UgaWYoISh0JiZ0IGluc3RhbmNlb2YgZSkpdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCB2YWx1ZTogXCIrdCtcIiAobm90IGFuIGludGVnZXIgb3IgTG9uZylcIik7aWYoXCJudW1iZXJcIiE9dHlwZW9mIHJ8fHIlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogXCIrcitcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKChyPj4+PTApPDB8fHIrMD50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogMCA8PSBcIityK1wiICgrMCkgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9XCJudW1iZXJcIj09dHlwZW9mIHQ/dD1lLkRFKHQpOlwic3RyaW5nXCI9PXR5cGVvZiB0JiYodD1lLmtFKHQpKSxyKz04O3ZhciBuPXRoaXMuYnVmZmVyLmJ5dGVMZW5ndGg7cmV0dXJuIHI+biYmdGhpcy5yZXNpemUoKG4qPTIpPnI/bjpyKSxyLT04LHRoaXMuVV8/KHRoaXMudmlldy5zZXRJbnQzMihyLHQubG93LCEwKSx0aGlzLnZpZXcuc2V0SW50MzIocis0LHQuaGlnaCwhMCkpOih0aGlzLnZpZXcuc2V0SW50MzIocix0LmhpZ2gsITEpLHRoaXMudmlldy5zZXRJbnQzMihyKzQsdC5sb3csITEpKSxpJiYodGhpcy5vZmZzZXQrPTgpLHRoaXN9LHMuZ1A9ZnVuY3Rpb24odCl7dmFyIHI9dm9pZCAwPT09dDtpZihyJiYodD10aGlzLm9mZnNldCksIXRoaXMuQl8pe2lmKFwibnVtYmVyXCIhPXR5cGVvZiB0fHx0JTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IFwiK3QrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZigodD4+Pj0wKTwwfHx0Kzg+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IDAgPD0gXCIrdCtcIiAoKzgpIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfXZhciBpPXRoaXMuVV8/bmV3IGUodGhpcy52aWV3LmdldEludDMyKHQsITApLHRoaXMudmlldy5nZXRJbnQzMih0KzQsITApLCEwKTpuZXcgZSh0aGlzLnZpZXcuZ2V0SW50MzIodCs0LCExKSx0aGlzLnZpZXcuZ2V0SW50MzIodCwhMSksITApO3JldHVybiByJiYodGhpcy5vZmZzZXQrPTgpLGl9KSxzLkVQPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dm9pZCAwPT09dDtpZihyJiYodD10aGlzLm9mZnNldCksIXRoaXMuQl8pe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgdmFsdWU6IFwiK2UrXCIgKG5vdCBhIG51bWJlcilcIik7aWYoXCJudW1iZXJcIiE9dHlwZW9mIHR8fHQlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogXCIrdCtcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKCh0Pj4+PTApPDB8fHQrMD50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogMCA8PSBcIit0K1wiICgrMCkgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9dCs9NDt2YXIgaT10aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoO3JldHVybiB0PmkmJnRoaXMucmVzaXplKChpKj0yKT50P2k6dCksdC09NCx0aGlzLnZpZXcuc2V0RmxvYXQzMih0LGUsdGhpcy5VXyksciYmKHRoaXMub2Zmc2V0Kz00KSx0aGlzfSxzLnZQPXMuRVAscy55UD1mdW5jdGlvbihlKXt2YXIgdD12b2lkIDA9PT1lO2lmKHQmJihlPXRoaXMub2Zmc2V0KSwhdGhpcy5CXyl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGV8fGUlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogXCIrZStcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKChlPj4+PTApPDB8fGUrND50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogMCA8PSBcIitlK1wiICgrNCkgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9dmFyIHI9dGhpcy52aWV3LmdldEZsb2F0MzIoZSx0aGlzLlVfKTtyZXR1cm4gdCYmKHRoaXMub2Zmc2V0Kz00KSxyfSxzLlRQPXMueVAscy5tUD1mdW5jdGlvbihlLHQpe3ZhciByPXZvaWQgMD09PXQ7aWYociYmKHQ9dGhpcy5vZmZzZXQpLCF0aGlzLkJfKXtpZihcIm51bWJlclwiIT10eXBlb2YgZSl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIHZhbHVlOiBcIitlK1wiIChub3QgYSBudW1iZXIpXCIpO2lmKFwibnVtYmVyXCIhPXR5cGVvZiB0fHx0JTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IFwiK3QrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZigodD4+Pj0wKTwwfHx0KzA+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IDAgPD0gXCIrdCtcIiAoKzApIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfXQrPTg7dmFyIGk9dGhpcy5idWZmZXIuYnl0ZUxlbmd0aDtyZXR1cm4gdD5pJiZ0aGlzLnJlc2l6ZSgoaSo9Mik+dD9pOnQpLHQtPTgsdGhpcy52aWV3LnNldEZsb2F0NjQodCxlLHRoaXMuVV8pLHImJih0aGlzLm9mZnNldCs9OCksdGhpc30scy5ZQz1zLm1QLHMuSVA9ZnVuY3Rpb24oZSl7dmFyIHQ9dm9pZCAwPT09ZTtpZih0JiYoZT10aGlzLm9mZnNldCksIXRoaXMuQl8pe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlfHxlJTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IFwiK2UrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZigoZT4+Pj0wKTwwfHxlKzg+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IDAgPD0gXCIrZStcIiAoKzgpIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfXZhciByPXRoaXMudmlldy5nZXRGbG9hdDY0KGUsdGhpcy5VXyk7cmV0dXJuIHQmJih0aGlzLm9mZnNldCs9OCkscn0scy5FXz1zLklQLG4uU1A9NSxuLlJQPWZ1bmN0aW9uKGUpe3JldHVybiBlPj4+PTAsZTwxMjg/MTplPDE2Mzg0PzI6ZTwxPDwyMT8zOmU8MTw8Mjg/NDo1fSxuLndQPWZ1bmN0aW9uKGUpe3JldHVybigoZXw9MCk8PDFeZT4+MzEpPj4+MH0sbi5iUD1mdW5jdGlvbihlKXtyZXR1cm4gZT4+PjFeLSgxJmUpfDB9LHMuQ1A9ZnVuY3Rpb24oZSx0KXt2YXIgcj12b2lkIDA9PT10O2lmKHImJih0PXRoaXMub2Zmc2V0KSwhdGhpcy5CXyl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGV8fGUlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIHZhbHVlOiBcIitlK1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoZXw9MCxcIm51bWJlclwiIT10eXBlb2YgdHx8dCUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBcIit0K1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKHQ+Pj49MCk8MHx8dCswPnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiAwIDw9IFwiK3QrXCIgKCswKSA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX12YXIgaSxzPW4uUlAoZSk7dCs9czt2YXIgbz10aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoO3JldHVybiB0Pm8mJnRoaXMucmVzaXplKChvKj0yKT50P286dCksdC09cyx0aGlzLnZpZXcuc2V0VWludDgodCxpPTEyOHxlKSxlPj4+PTAsZT49MTI4PyhpPWU+Pjd8MTI4LHRoaXMudmlldy5zZXRVaW50OCh0KzEsaSksZT49MTYzODQ/KGk9ZT4+MTR8MTI4LHRoaXMudmlldy5zZXRVaW50OCh0KzIsaSksZT49MTw8MjE/KGk9ZT4+MjF8MTI4LHRoaXMudmlldy5zZXRVaW50OCh0KzMsaSksZT49MTw8Mjg/KHRoaXMudmlldy5zZXRVaW50OCh0KzQsZT4+MjgmMTUpLHM9NSk6KHRoaXMudmlldy5zZXRVaW50OCh0KzMsMTI3JmkpLHM9NCkpOih0aGlzLnZpZXcuc2V0VWludDgodCsyLDEyNyZpKSxzPTMpKToodGhpcy52aWV3LnNldFVpbnQ4KHQrMSwxMjcmaSkscz0yKSk6KHRoaXMudmlldy5zZXRVaW50OCh0LDEyNyZpKSxzPTEpLHI/KHRoaXMub2Zmc2V0Kz1zLHRoaXMpOnN9LHMuX1A9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5DUChuLndQKGUpLHQpfSxzLlBQPWZ1bmN0aW9uKGUpe3ZhciB0PXZvaWQgMD09PWU7aWYodCYmKGU9dGhpcy5vZmZzZXQpLCF0aGlzLkJfKXtpZihcIm51bWJlclwiIT10eXBlb2YgZXx8ZSUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBcIitlK1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKGU+Pj49MCk8MHx8ZSsxPnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiAwIDw9IFwiK2UrXCIgKCsxKSA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX12YXIgcixpLG49MCxzPTA7ZG97aWYoaT1lK24sIXRoaXMuQl8mJmk+dGhpcy5GXyl7dmFyIG89RXJyb3IoXCJUcnVuY2F0ZWRcIik7dGhyb3cgby5BUD0hMCxvfXI9dGhpcy52aWV3LmdldFVpbnQ4KGkpLG48NSYmKHN8PSgxMjcmcik8PDcqbj4+PjApLCsrbn13aGlsZSgxMjg9PSgxMjgmcikpO3JldHVybiBzfD0wLHQ/KHRoaXMub2Zmc2V0Kz1uLHMpOnt2YWx1ZTpzLGxlbmd0aDpufX0scy5PUD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLlBQKGUpO3JldHVyblwib2JqZWN0XCI9PXR5cGVvZiB0P3QudmFsdWU9bi5iUCh0LnZhbHVlKTp0PW4uYlAodCksdH0sZSYmKG4uTlA9MTAsbi5EUD1mdW5jdGlvbih0KXtcIm51bWJlclwiPT10eXBlb2YgdD90PWUuREUodCk6XCJzdHJpbmdcIj09dHlwZW9mIHQmJih0PWUua0UodCkpO3ZhciByPXQua1AoKT4+PjAsaT10LkxQKDI4KS5rUCgpPj4+MCxuPXQuTFAoNTYpLmtQKCk+Pj4wO3JldHVybiAwPT1uPzA9PWk/cjwxNjM4ND9yPDEyOD8xOjI6cjwxPDwyMT8zOjQ6aTwxNjM4ND9pPDEyOD81OjY6aTwxPDwyMT83Ojg6bjwxMjg/OToxMH0sbi5NUD1mdW5jdGlvbih0KXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgdD90PWUuREUodCwhMSk6XCJzdHJpbmdcIj09dHlwZW9mIHQ/dD1lLmtFKHQsITEpOiExIT09dC5GUCYmKHQ9dC5VUCgpKSx0LnNoaWZ0TGVmdCgxKS5wVCh0LkhQKDYzKSkuQlAoKX0sbi54UD1mdW5jdGlvbih0KXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgdD90PWUuREUodCwhMSk6XCJzdHJpbmdcIj09dHlwZW9mIHQ/dD1lLmtFKHQsITEpOiExIT09dC5GUCYmKHQ9dC5VUCgpKSx0LkxQKDEpLnBUKHQucVAoZS5PTkUpLlVQKCkucUUoKSkuVVAoKX0scy5HUD1mdW5jdGlvbih0LHIpe3ZhciBpPXZvaWQgMD09PXI7aWYoaSYmKHI9dGhpcy5vZmZzZXQpLCF0aGlzLkJfKXtpZihcIm51bWJlclwiPT10eXBlb2YgdCl0PWUuREUodCk7ZWxzZSBpZihcInN0cmluZ1wiPT10eXBlb2YgdCl0PWUua0UodCk7ZWxzZSBpZighKHQmJnQgaW5zdGFuY2VvZiBlKSl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIHZhbHVlOiBcIit0K1wiIChub3QgYW4gaW50ZWdlciBvciBMb25nKVwiKTtpZihcIm51bWJlclwiIT10eXBlb2Ygcnx8ciUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBcIityK1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKHI+Pj49MCk8MHx8ciswPnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiAwIDw9IFwiK3IrXCIgKCswKSA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX1cIm51bWJlclwiPT10eXBlb2YgdD90PWUuREUodCwhMSk6XCJzdHJpbmdcIj09dHlwZW9mIHQ/dD1lLmtFKHQsITEpOiExIT09dC5GUCYmKHQ9dC5VUCgpKTt2YXIgcz1uLkRQKHQpLG89dC5rUCgpPj4+MCxhPXQuTFAoMjgpLmtQKCk+Pj4wLGg9dC5MUCg1Nikua1AoKT4+PjA7cis9czt2YXIgYz10aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoO3N3aXRjaChyPmMmJnRoaXMucmVzaXplKChjKj0yKT5yP2M6ciksci09cyxzKXtjYXNlIDEwOnRoaXMudmlldy5zZXRVaW50OChyKzksaD4+PjcmMSk7Y2FzZSA5OnRoaXMudmlldy5zZXRVaW50OChyKzgsOSE9PXM/MTI4fGg6MTI3JmgpO2Nhc2UgODp0aGlzLnZpZXcuc2V0VWludDgocis3LDghPT1zP2E+Pj4yMXwxMjg6YT4+PjIxJjEyNyk7Y2FzZSA3OnRoaXMudmlldy5zZXRVaW50OChyKzYsNyE9PXM/YT4+PjE0fDEyODphPj4+MTQmMTI3KTtjYXNlIDY6dGhpcy52aWV3LnNldFVpbnQ4KHIrNSw2IT09cz9hPj4+N3wxMjg6YT4+PjcmMTI3KTtjYXNlIDU6dGhpcy52aWV3LnNldFVpbnQ4KHIrNCw1IT09cz8xMjh8YToxMjcmYSk7Y2FzZSA0OnRoaXMudmlldy5zZXRVaW50OChyKzMsNCE9PXM/bz4+PjIxfDEyODpvPj4+MjEmMTI3KTtjYXNlIDM6dGhpcy52aWV3LnNldFVpbnQ4KHIrMiwzIT09cz9vPj4+MTR8MTI4Om8+Pj4xNCYxMjcpO2Nhc2UgMjp0aGlzLnZpZXcuc2V0VWludDgocisxLDIhPT1zP28+Pj43fDEyODpvPj4+NyYxMjcpO2Nhc2UgMTp0aGlzLnZpZXcuc2V0VWludDgociwxIT09cz8xMjh8bzoxMjcmbyl9cmV0dXJuIGk/KHRoaXMub2Zmc2V0Kz1zLHRoaXMpOnN9LHMuVlA9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5HUChuLk1QKGUpLHQpfSxzLmpQPWZ1bmN0aW9uKHQpe3ZhciByPXZvaWQgMD09PXQ7aWYociYmKHQ9dGhpcy5vZmZzZXQpLCF0aGlzLkJfKXtpZihcIm51bWJlclwiIT10eXBlb2YgdHx8dCUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBcIit0K1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKHQ+Pj49MCk8MHx8dCsxPnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiAwIDw9IFwiK3QrXCIgKCsxKSA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX12YXIgaT10LG49MCxzPTAsbz0wLGE9MDtpZihhPXRoaXMudmlldy5nZXRVaW50OCh0KyspLG49MTI3JmEsMTI4JmEmJihhPXRoaXMudmlldy5nZXRVaW50OCh0KyspLG58PSgxMjcmYSk8PDcsMTI4JmEmJihhPXRoaXMudmlldy5nZXRVaW50OCh0KyspLG58PSgxMjcmYSk8PDE0LDEyOCZhJiYoYT10aGlzLnZpZXcuZ2V0VWludDgodCsrKSxufD0oMTI3JmEpPDwyMSwxMjgmYSYmKGE9dGhpcy52aWV3LmdldFVpbnQ4KHQrKykscz0xMjcmYSwxMjgmYSYmKGE9dGhpcy52aWV3LmdldFVpbnQ4KHQrKyksc3w9KDEyNyZhKTw8NywxMjgmYSYmKGE9dGhpcy52aWV3LmdldFVpbnQ4KHQrKyksc3w9KDEyNyZhKTw8MTQsMTI4JmEmJihhPXRoaXMudmlldy5nZXRVaW50OCh0KyspLHN8PSgxMjcmYSk8PDIxLDEyOCZhJiYoYT10aGlzLnZpZXcuZ2V0VWludDgodCsrKSxvPTEyNyZhLDEyOCZhJiYoYT10aGlzLnZpZXcuZ2V0VWludDgodCsrKSxvfD0oMTI3JmEpPDw3LDEyOCZhKSkpKSkpKSkpKXRocm93IEVycm9yKFwiQnVmZmVyIG92ZXJydW5cIik7dmFyIGg9ZS5xSShufHM8PDI4LHM+Pj40fG88PDI0LCExKTtyZXR1cm4gcj8odGhpcy5vZmZzZXQ9dCxoKTp7dmFsdWU6aCxsZW5ndGg6dC1pfX0scy5RUD1mdW5jdGlvbih0KXt2YXIgcj10aGlzLmpQKHQpO3JldHVybiByJiZyLnZhbHVlIGluc3RhbmNlb2YgZT9yLnZhbHVlPW4ueFAoci52YWx1ZSk6cj1uLnhQKHIpLHJ9KSxzLkhnPWZ1bmN0aW9uKGUscil7dmFyIGk9dm9pZCAwPT09cjtpJiYocj10aGlzLm9mZnNldCk7dmFyIG4scz1lLmxlbmd0aDtpZighdGhpcy5CXyl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGUpdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBzdHI6IE5vdCBhIHN0cmluZ1wiKTtmb3Iobj0wO248czsrK24paWYoMD09PWUuY2hhckNvZGVBdChuKSl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBzdHI6IENvbnRhaW5zIE5VTEwtY2hhcmFjdGVyc1wiKTtpZihcIm51bWJlclwiIT10eXBlb2Ygcnx8ciUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBcIityK1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKHI+Pj49MCk8MHx8ciswPnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiAwIDw9IFwiK3IrXCIgKCswKSA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX1zPWMuS1AodChlKSlbMV0scis9cysxO3ZhciBvPXRoaXMuYnVmZmVyLmJ5dGVMZW5ndGg7cmV0dXJuIHI+byYmdGhpcy5yZXNpemUoKG8qPTIpPnI/bzpyKSxyLT1zKzEsYy5ZUCh0KGUpLGZ1bmN0aW9uKGUpe3RoaXMudmlldy5zZXRVaW50OChyKyssZSl9LmJpbmQodGhpcykpLHRoaXMudmlldy5zZXRVaW50OChyKyssMCksaT8odGhpcy5vZmZzZXQ9cix0aGlzKTpzfSxzLllnPWZ1bmN0aW9uKGUpe3ZhciB0PXZvaWQgMD09PWU7aWYodCYmKGU9dGhpcy5vZmZzZXQpLCF0aGlzLkJfKXtpZihcIm51bWJlclwiIT10eXBlb2YgZXx8ZSUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBcIitlK1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKGU+Pj49MCk8MHx8ZSsxPnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiAwIDw9IFwiK2UrXCIgKCsxKSA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX12YXIgaSxuPWUscz0tMTtyZXR1cm4gYy5XUChmdW5jdGlvbigpe2lmKDA9PT1zKXJldHVybiBudWxsO2lmKGU+PXRoaXMuRl8pdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgcmFuZ2U6IFRydW5jYXRlZCBkYXRhLCBcIitlK1wiIDwgXCIrdGhpcy5GXyk7cmV0dXJuIDA9PT0ocz10aGlzLnZpZXcuZ2V0VWludDgoZSsrKSk/bnVsbDpzfS5iaW5kKHRoaXMpLGk9cigpLCEwKSx0Pyh0aGlzLm9mZnNldD1lLGkoKSk6e3N0cmluZzppKCksbGVuZ3RoOmUtbn19LHMuelA9ZnVuY3Rpb24oZSxyKXt2YXIgaT12b2lkIDA9PT1yO2lmKGkmJihyPXRoaXMub2Zmc2V0KSwhdGhpcy5CXyl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGUpdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBzdHI6IE5vdCBhIHN0cmluZ1wiKTtpZihcIm51bWJlclwiIT10eXBlb2Ygcnx8ciUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBcIityK1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKHI+Pj49MCk8MHx8ciswPnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiAwIDw9IFwiK3IrXCIgKCswKSA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX12YXIgbixzPXI7bj1jLktQKHQoZSksdGhpcy5CXylbMV0scis9NCtuO3ZhciBvPXRoaXMuYnVmZmVyLmJ5dGVMZW5ndGg7aWYocj5vJiZ0aGlzLnJlc2l6ZSgobyo9Mik+cj9vOnIpLHItPTQrbix0aGlzLnZpZXcuc2V0VWludDMyKHIsbix0aGlzLlVfKSxyKz00LGMuWVAodChlKSxmdW5jdGlvbihlKXt0aGlzLnZpZXcuc2V0VWludDgocisrLGUpfS5iaW5kKHRoaXMpKSxyIT09cys0K24pdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgcmFuZ2U6IFRydW5jYXRlZCBkYXRhLCBcIityK1wiID09IFwiKyhyKzQrbikpO3JldHVybiBpPyh0aGlzLm9mZnNldD1yLHRoaXMpOnItc30scy5KUD1mdW5jdGlvbihlKXt2YXIgdD12b2lkIDA9PT1lO2lmKHQmJihlPXRoaXMub2Zmc2V0KSwhdGhpcy5CXyl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGV8fGUlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogXCIrZStcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKChlPj4+PTApPDB8fGUrND50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogMCA8PSBcIitlK1wiICgrNCkgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9dmFyIGksbj0wLHM9ZTtuPXRoaXMudmlldy5nZXRVaW50MzIoZSx0aGlzLlVfKSxlKz00O3ZhciBvLGE9ZStuO3JldHVybiBjLldQKGZ1bmN0aW9uKCl7cmV0dXJuIGU8YT90aGlzLnZpZXcuZ2V0VWludDgoZSsrKTpudWxsfS5iaW5kKHRoaXMpLG89cigpLHRoaXMuQl8pLGk9bygpLHQ/KHRoaXMub2Zmc2V0PWUsaSk6e3N0cmluZzppLGxlbmd0aDplLXN9fSxuLlhQPVwiY1wiLG4uWlA9XCJiXCIscy4kUD1mdW5jdGlvbihlLHIpe3ZhciBpPXZvaWQgMD09PXI7aWYoaSYmKHI9dGhpcy5vZmZzZXQpLCF0aGlzLkJfKXtpZihcIm51bWJlclwiIT10eXBlb2Ygcnx8ciUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBcIityK1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKHI+Pj49MCk8MHx8ciswPnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiAwIDw9IFwiK3IrXCIgKCswKSA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX12YXIgbixzPXI7bj1jLktQKHQoZSkpWzFdLHIrPW47dmFyIG89dGhpcy5idWZmZXIuYnl0ZUxlbmd0aDtyZXR1cm4gcj5vJiZ0aGlzLnJlc2l6ZSgobyo9Mik+cj9vOnIpLHItPW4sYy5ZUCh0KGUpLGZ1bmN0aW9uKGUpe3RoaXMudmlldy5zZXRVaW50OChyKyssZSl9LmJpbmQodGhpcykpLGk/KHRoaXMub2Zmc2V0PXIsdGhpcyk6ci1zfSxzLnFiPXMuJFAsbi5lQT1mdW5jdGlvbihlKXtyZXR1cm4gYy5LUCh0KGUpKVswXX0sbi50QT1mdW5jdGlvbihlKXtyZXR1cm4gYy5LUCh0KGUpKVsxXX0scy5yQT1mdW5jdGlvbihlLHQsaSl7XCJudW1iZXJcIj09dHlwZW9mIHQmJihpPXQsdD12b2lkIDApO3ZhciBzPXZvaWQgMD09PWk7aWYocyYmKGk9dGhpcy5vZmZzZXQpLHZvaWQgMD09PXQmJih0PW4uWFApLCF0aGlzLkJfKXtpZihcIm51bWJlclwiIT10eXBlb2YgZXx8ZSUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgbGVuZ3RoOiBcIitlK1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoZXw9MCxcIm51bWJlclwiIT10eXBlb2YgaXx8aSUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBcIitpK1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKGk+Pj49MCk8MHx8aSswPnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiAwIDw9IFwiK2krXCIgKCswKSA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX12YXIgbyxhPTAsaD1pO2lmKHQ9PT1uLlhQKXtpZihvPXIoKSxjLmlBKGZ1bmN0aW9uKCl7cmV0dXJuIGE8ZSYmaTx0aGlzLkZfP3RoaXMudmlldy5nZXRVaW50OChpKyspOm51bGx9LmJpbmQodGhpcyksZnVuY3Rpb24oZSl7KythLGMubkEoZSxvKX0uYmluZCh0aGlzKSksYSE9PWUpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgcmFuZ2U6IFRydW5jYXRlZCBkYXRhLCBcIithK1wiID09IFwiK2UpO3JldHVybiBzPyh0aGlzLm9mZnNldD1pLG8oKSk6e3N0cmluZzpvKCksbGVuZ3RoOmktaH19aWYodD09PW4uWlApe2lmKCF0aGlzLkJfKXtpZihcIm51bWJlclwiIT10eXBlb2YgaXx8aSUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBcIitpK1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKGk+Pj49MCk8MHx8aStlPnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiAwIDw9IFwiK2krXCIgKCtcIitlK1wiKSA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX12YXIgdT1pK2U7aWYoYy5XUChmdW5jdGlvbigpe3JldHVybiBpPHU/dGhpcy52aWV3LmdldFVpbnQ4KGkrKyk6bnVsbH0uYmluZCh0aGlzKSxvPXIoKSx0aGlzLkJfKSxpIT09dSl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCByYW5nZTogVHJ1bmNhdGVkIGRhdGEsIFwiK2krXCIgPT0gXCIrdSk7cmV0dXJuIHM/KHRoaXMub2Zmc2V0PWksbygpKTp7c3RyaW5nOm8oKSxsZW5ndGg6aS1ofX10aHJvdyBUeXBlRXJyb3IoXCJVbnN1cHBvcnRlZCBtZXRyaWNzOiBcIit0KX0scy5MYj1zLnJBLHMuc0E9ZnVuY3Rpb24oZSxyKXt2YXIgaT12b2lkIDA9PT1yO2lmKGkmJihyPXRoaXMub2Zmc2V0KSwhdGhpcy5CXyl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGUpdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBzdHI6IE5vdCBhIHN0cmluZ1wiKTtpZihcIm51bWJlclwiIT10eXBlb2Ygcnx8ciUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBcIityK1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKHI+Pj49MCk8MHx8ciswPnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiAwIDw9IFwiK3IrXCIgKCswKSA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX12YXIgcyxvLGE9cjtzPWMuS1AodChlKSx0aGlzLkJfKVsxXSxvPW4uUlAocykscis9bytzO3ZhciBoPXRoaXMuYnVmZmVyLmJ5dGVMZW5ndGg7aWYocj5oJiZ0aGlzLnJlc2l6ZSgoaCo9Mik+cj9oOnIpLHItPW8rcyxyKz10aGlzLkNQKHMsciksYy5ZUCh0KGUpLGZ1bmN0aW9uKGUpe3RoaXMudmlldy5zZXRVaW50OChyKyssZSl9LmJpbmQodGhpcykpLHIhPT1hK3Mrbyl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCByYW5nZTogVHJ1bmNhdGVkIGRhdGEsIFwiK3IrXCIgPT0gXCIrKHIrcytvKSk7cmV0dXJuIGk/KHRoaXMub2Zmc2V0PXIsdGhpcyk6ci1hfSxzLm9BPWZ1bmN0aW9uKGUpe3ZhciB0PXZvaWQgMD09PWU7aWYodCYmKGU9dGhpcy5vZmZzZXQpLCF0aGlzLkJfKXtpZihcIm51bWJlclwiIT10eXBlb2YgZXx8ZSUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBcIitlK1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKGU+Pj49MCk8MHx8ZSsxPnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiAwIDw9IFwiK2UrXCIgKCsxKSA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX12YXIgaSxuPXRoaXMuUFAoZSkscz1lO2UrPW4ubGVuZ3RoLG49bi52YWx1ZTt2YXIgbz1lK24sYT1yKCk7cmV0dXJuIGMuV1AoZnVuY3Rpb24oKXtyZXR1cm4gZTxvP3RoaXMudmlldy5nZXRVaW50OChlKyspOm51bGx9LmJpbmQodGhpcyksYSx0aGlzLkJfKSxpPWEoKSx0Pyh0aGlzLm9mZnNldD1lLGkpOntzdHJpbmc6aSxsZW5ndGg6ZS1zfX0scy5hcHBlbmQ9ZnVuY3Rpb24oZSx0LHIpe1wibnVtYmVyXCIhPXR5cGVvZiB0JiZcInN0cmluZ1wiPT10eXBlb2YgdHx8KHI9dCx0PXZvaWQgMCk7dmFyIGk9dm9pZCAwPT09cjtpZihpJiYocj10aGlzLm9mZnNldCksIXRoaXMuQl8pe2lmKFwibnVtYmVyXCIhPXR5cGVvZiByfHxyJTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IFwiK3IrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZigocj4+Pj0wKTwwfHxyKzA+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IDAgPD0gXCIrcitcIiAoKzApIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfWUgaW5zdGFuY2VvZiBufHwoZT1uLndyYXAoZSx0KSk7dmFyIHM9ZS5GXy1lLm9mZnNldDtpZihzPD0wKXJldHVybiB0aGlzO3IrPXM7dmFyIG89dGhpcy5idWZmZXIuYnl0ZUxlbmd0aDtyZXR1cm4gcj5vJiZ0aGlzLnJlc2l6ZSgobyo9Mik+cj9vOnIpLHItPXMsbmV3IFVpbnQ4QXJyYXkodGhpcy5idWZmZXIscikuc2V0KG5ldyBVaW50OEFycmF5KGUuYnVmZmVyKS5zdWJhcnJheShlLm9mZnNldCxlLkZfKSksZS5vZmZzZXQrPXMsaSYmKHRoaXMub2Zmc2V0Kz1zKSx0aGlzfSxzLmFBPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuYXBwZW5kKHRoaXMsdCksdGhpc30scy5hc3NlcnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuQl89IWUsdGhpc30scy5oQT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RofSxzLmNsZWFyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub2Zmc2V0PTAsdGhpcy5GXz10aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoLHRoaXMuTV89LTEsdGhpc30scy5jbG9uZT1mdW5jdGlvbihlKXt2YXIgdD1uZXcgbigwLHRoaXMuVV8sdGhpcy5CXyk7aWYoZSl7dmFyIHI9bmV3IEFycmF5QnVmZmVyKHRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpO25ldyBVaW50OEFycmF5KHIpLnNldCh0aGlzLmJ1ZmZlciksdC5idWZmZXI9cix0LnZpZXc9bmV3IERhdGFWaWV3KHIpfWVsc2UgdC5idWZmZXI9dGhpcy5idWZmZXIsdC52aWV3PXRoaXMudmlldztyZXR1cm4gdC5vZmZzZXQ9dGhpcy5vZmZzZXQsdC5NXz10aGlzLk1fLHQuRl89dGhpcy5GXyx0fSxzLmNvbXBhY3Q9ZnVuY3Rpb24oZSx0KXtpZih2b2lkIDA9PT1lJiYoZT10aGlzLm9mZnNldCksdm9pZCAwPT09dCYmKHQ9dGhpcy5GXyksIXRoaXMuQl8pe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlfHxlJTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBiZWdpbjogTm90IGFuIGludGVnZXJcIik7aWYoZT4+Pj0wLFwibnVtYmVyXCIhPXR5cGVvZiB0fHx0JTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBlbmQ6IE5vdCBhbiBpbnRlZ2VyXCIpO2lmKHQ+Pj49MCxlPDB8fGU+dHx8dD50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIHJhbmdlOiAwIDw9IFwiK2UrXCIgPD0gXCIrdCtcIiA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX1pZigwPT09ZSYmdD09PXRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpcmV0dXJuIHRoaXM7dmFyIHI9dC1lO2lmKDA9PT1yKXJldHVybiB0aGlzLmJ1ZmZlcj1vLHRoaXMudmlldz1udWxsLHRoaXMuTV8+PTAmJih0aGlzLk1fLT1lKSx0aGlzLm9mZnNldD0wLHRoaXMuRl89MCx0aGlzO3ZhciBpPW5ldyBBcnJheUJ1ZmZlcihyKTtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoaSkuc2V0KG5ldyBVaW50OEFycmF5KHRoaXMuYnVmZmVyKS5zdWJhcnJheShlLHQpKSx0aGlzLmJ1ZmZlcj1pLHRoaXMudmlldz1uZXcgRGF0YVZpZXcoaSksdGhpcy5NXz49MCYmKHRoaXMuTV8tPWUpLHRoaXMub2Zmc2V0PTAsdGhpcy5GXz1yLHRoaXN9LHMuY0E9ZnVuY3Rpb24oZSx0KXtpZih2b2lkIDA9PT1lJiYoZT10aGlzLm9mZnNldCksdm9pZCAwPT09dCYmKHQ9dGhpcy5GXyksIXRoaXMuQl8pe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlfHxlJTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBiZWdpbjogTm90IGFuIGludGVnZXJcIik7aWYoZT4+Pj0wLFwibnVtYmVyXCIhPXR5cGVvZiB0fHx0JTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBlbmQ6IE5vdCBhbiBpbnRlZ2VyXCIpO2lmKHQ+Pj49MCxlPDB8fGU+dHx8dD50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIHJhbmdlOiAwIDw9IFwiK2UrXCIgPD0gXCIrdCtcIiA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX1pZihlPT09dClyZXR1cm4gbmV3IG4oMCx0aGlzLlVfLHRoaXMuQl8pO3ZhciByPXQtZSxpPW5ldyBuKHIsdGhpcy5VXyx0aGlzLkJfKTtyZXR1cm4gaS5vZmZzZXQ9MCxpLkZfPXIsaS5NXz49MCYmKGkuTV8tPWUpLHRoaXMuakUoaSwwLGUsdCksaX0scy5qRT1mdW5jdGlvbihlLHQscixpKXt2YXIgcyxvO2lmKCF0aGlzLkJfJiYhbi5WXyhlKSl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIHRhcmdldDogTm90IGEgQnl0ZUJ1ZmZlclwiKTtpZih0PShvPXZvaWQgMD09PXQpP2Uub2Zmc2V0OjB8dCxyPShzPXZvaWQgMD09PXIpP3RoaXMub2Zmc2V0OjB8cixpPXZvaWQgMD09PWk/dGhpcy5GXzowfGksdDwwfHx0PmUuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgdGFyZ2V0IHJhbmdlOiAwIDw9IFwiK3QrXCIgPD0gXCIrZS5idWZmZXIuYnl0ZUxlbmd0aCk7aWYocjwwfHxpPnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgc291cmNlIHJhbmdlOiAwIDw9IFwiK3IrXCIgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCk7dmFyIGE9aS1yO3JldHVybiAwPT09YT9lOihlLnVBKHQrYSksbmV3IFVpbnQ4QXJyYXkoZS5idWZmZXIpLnNldChuZXcgVWludDhBcnJheSh0aGlzLmJ1ZmZlcikuc3ViYXJyYXkocixpKSx0KSxzJiYodGhpcy5vZmZzZXQrPWEpLG8mJihlLm9mZnNldCs9YSksdGhpcyl9LHMudUE9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5idWZmZXIuYnl0ZUxlbmd0aDtyZXR1cm4gdDxlP3RoaXMucmVzaXplKCh0Kj0yKT5lP3Q6ZSk6dGhpc30scy5maWxsPWZ1bmN0aW9uKGUsdCxyKXt2YXIgaT12b2lkIDA9PT10O2lmKGkmJih0PXRoaXMub2Zmc2V0KSxcInN0cmluZ1wiPT10eXBlb2YgZSYmZS5sZW5ndGg+MCYmKGU9ZS5jaGFyQ29kZUF0KDApKSx2b2lkIDA9PT10JiYodD10aGlzLm9mZnNldCksdm9pZCAwPT09ciYmKHI9dGhpcy5GXyksIXRoaXMuQl8pe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlfHxlJTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCB2YWx1ZTogXCIrZStcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKGV8PTAsXCJudW1iZXJcIiE9dHlwZW9mIHR8fHQlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIGJlZ2luOiBOb3QgYW4gaW50ZWdlclwiKTtpZih0Pj4+PTAsXCJudW1iZXJcIiE9dHlwZW9mIHJ8fHIlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIGVuZDogTm90IGFuIGludGVnZXJcIik7aWYocj4+Pj0wLHQ8MHx8dD5yfHxyPnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgcmFuZ2U6IDAgPD0gXCIrdCtcIiA8PSBcIityK1wiIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfWlmKHQ+PXIpcmV0dXJuIHRoaXM7Zm9yKDt0PHI7KXRoaXMudmlldy5zZXRVaW50OCh0KyssZSk7cmV0dXJuIGkmJih0aGlzLm9mZnNldD10KSx0aGlzfSxzLnhnPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuRl89dGhpcy5vZmZzZXQsdGhpcy5vZmZzZXQ9MCx0aGlzfSxzLm1hcms9ZnVuY3Rpb24oZSl7aWYoZT12b2lkIDA9PT1lP3RoaXMub2Zmc2V0OmUsIXRoaXMuQl8pe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlfHxlJTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IFwiK2UrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZigoZT4+Pj0wKTwwfHxlKzA+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IDAgPD0gXCIrZStcIiAoKzApIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfXJldHVybiB0aGlzLk1fPWUsdGhpc30scy5vcmRlcj1mdW5jdGlvbihlKXtpZighdGhpcy5CXyYmXCJib29sZWFuXCIhPXR5cGVvZiBlKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgbGl0dGxlRW5kaWFuOiBOb3QgYSBib29sZWFuXCIpO3JldHVybiB0aGlzLlVfPSEhZSx0aGlzfSxzLmxBPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLlVfPXZvaWQgMD09PWV8fCEhZSx0aGlzfSxzLnBBPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLlVfPXZvaWQgMCE9PWUmJiFlLHRoaXN9LHMuZEE9ZnVuY3Rpb24oZSx0LHIpe1wibnVtYmVyXCIhPXR5cGVvZiB0JiZcInN0cmluZ1wiPT10eXBlb2YgdHx8KHI9dCx0PXZvaWQgMCk7dmFyIGk9dm9pZCAwPT09cjtpZihpJiYocj10aGlzLm9mZnNldCksIXRoaXMuQl8pe2lmKFwibnVtYmVyXCIhPXR5cGVvZiByfHxyJTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IFwiK3IrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZigocj4+Pj0wKTwwfHxyKzA+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IDAgPD0gXCIrcitcIiAoKzApIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfWUgaW5zdGFuY2VvZiBufHwoZT1uLndyYXAoZSx0KSk7dmFyIHM9ZS5GXy1lLm9mZnNldDtpZihzPD0wKXJldHVybiB0aGlzO3ZhciBvLGE9cy1yO2lmKGE+MCl7dmFyIGg9bmV3IEFycmF5QnVmZmVyKHRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgrYSk7bz1uZXcgVWludDhBcnJheShoKSxvLnNldChuZXcgVWludDhBcnJheSh0aGlzLmJ1ZmZlcikuc3ViYXJyYXkocix0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKSxzKSx0aGlzLmJ1ZmZlcj1oLHRoaXMudmlldz1uZXcgRGF0YVZpZXcoaCksdGhpcy5vZmZzZXQrPWEsdGhpcy5NXz49MCYmKHRoaXMuTV8rPWEpLHRoaXMuRl8rPWEscis9YX1lbHNlIG89bmV3IFVpbnQ4QXJyYXkodGhpcy5idWZmZXIpO3JldHVybiBvLnNldChuZXcgVWludDhBcnJheShlLmJ1ZmZlcikuc3ViYXJyYXkoZS5vZmZzZXQsZS5GXyksci1zKSxlLm9mZnNldD1lLkZfLGkmJih0aGlzLm9mZnNldC09cyksdGhpc30scy5mQT1mdW5jdGlvbihlLHQpe3JldHVybiBlLmRBKHRoaXMsdCksdGhpc30scy5nQT1mdW5jdGlvbihlKXtcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiYoZT1jb25zb2xlLmxvZy5iaW5kKGNvbnNvbGUpKSxlKHRoaXMudG9TdHJpbmcoKStcIlxcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cXG5cIit0aGlzLkVBKCEwKSl9LHMudkE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5GXy10aGlzLm9mZnNldH0scy5yZXNldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLk1fPj0wPyh0aGlzLm9mZnNldD10aGlzLk1fLHRoaXMuTV89LTEpOnRoaXMub2Zmc2V0PTAsdGhpc30scy5yZXNpemU9ZnVuY3Rpb24oZSl7aWYoIXRoaXMuQl8pe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlfHxlJTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBjYXBhY2l0eTogXCIrZStcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKChlfD0wKTwwKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIGNhcGFjaXR5OiAwIDw9IFwiK2UpfWlmKHRoaXMuYnVmZmVyLmJ5dGVMZW5ndGg8ZSl7dmFyIHQ9bmV3IEFycmF5QnVmZmVyKGUpO25ldyBVaW50OEFycmF5KHQpLnNldChuZXcgVWludDhBcnJheSh0aGlzLmJ1ZmZlcikpLHRoaXMuYnVmZmVyPXQsdGhpcy52aWV3PW5ldyBEYXRhVmlldyh0KX1yZXR1cm4gdGhpc30scy5yZXZlcnNlPWZ1bmN0aW9uKGUsdCl7aWYodm9pZCAwPT09ZSYmKGU9dGhpcy5vZmZzZXQpLHZvaWQgMD09PXQmJih0PXRoaXMuRl8pLCF0aGlzLkJfKXtpZihcIm51bWJlclwiIT10eXBlb2YgZXx8ZSUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgYmVnaW46IE5vdCBhbiBpbnRlZ2VyXCIpO2lmKGU+Pj49MCxcIm51bWJlclwiIT10eXBlb2YgdHx8dCUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgZW5kOiBOb3QgYW4gaW50ZWdlclwiKTtpZih0Pj4+PTAsZTwwfHxlPnR8fHQ+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCByYW5nZTogMCA8PSBcIitlK1wiIDw9IFwiK3QrXCIgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9cmV0dXJuIGU9PT10P3RoaXM6KEFycmF5LnByb3RvdHlwZS5yZXZlcnNlLmNhbGwobmV3IFVpbnQ4QXJyYXkodGhpcy5idWZmZXIpLnN1YmFycmF5KGUsdCkpLHRoaXMudmlldz1uZXcgRGF0YVZpZXcodGhpcy5idWZmZXIpLHRoaXMpfSxzLk1iPWZ1bmN0aW9uKGUpe2lmKCF0aGlzLkJfKXtpZihcIm51bWJlclwiIT10eXBlb2YgZXx8ZSUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgbGVuZ3RoOiBcIitlK1wiIChub3QgYW4gaW50ZWdlcilcIik7ZXw9MH12YXIgdD10aGlzLm9mZnNldCtlO2lmKCF0aGlzLkJfJiYodDwwfHx0PnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIGxlbmd0aDogMCA8PSBcIit0aGlzLm9mZnNldCtcIiArIFwiK2UrXCIgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCk7cmV0dXJuIHRoaXMub2Zmc2V0PXQsdGhpc30scy5zbGljZT1mdW5jdGlvbihlLHQpe2lmKHZvaWQgMD09PWUmJihlPXRoaXMub2Zmc2V0KSx2b2lkIDA9PT10JiYodD10aGlzLkZfKSwhdGhpcy5CXyl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGV8fGUlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIGJlZ2luOiBOb3QgYW4gaW50ZWdlclwiKTtpZihlPj4+PTAsXCJudW1iZXJcIiE9dHlwZW9mIHR8fHQlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIGVuZDogTm90IGFuIGludGVnZXJcIik7aWYodD4+Pj0wLGU8MHx8ZT50fHx0PnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgcmFuZ2U6IDAgPD0gXCIrZStcIiA8PSBcIit0K1wiIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfXZhciByPXRoaXMuY2xvbmUoKTtyZXR1cm4gci5vZmZzZXQ9ZSxyLkZfPXQscn0scy55QT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLm9mZnNldCxyPXRoaXMuRl87aWYodD5yKXt2YXIgaT10O3Q9cixyPWl9aWYoIXRoaXMuQl8pe2lmKFwibnVtYmVyXCIhPXR5cGVvZiB0fHx0JTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IE5vdCBhbiBpbnRlZ2VyXCIpO2lmKHQ+Pj49MCxcIm51bWJlclwiIT10eXBlb2Ygcnx8ciUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgbGltaXQ6IE5vdCBhbiBpbnRlZ2VyXCIpO2lmKHI+Pj49MCx0PDB8fHQ+cnx8cj50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIHJhbmdlOiAwIDw9IFwiK3QrXCIgPD0gXCIrcitcIiA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX1pZighZSYmMD09PXQmJnI9PT10aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXJldHVybiB0aGlzLmJ1ZmZlcjtpZih0PT09cilyZXR1cm4gbzt2YXIgbj1uZXcgQXJyYXlCdWZmZXIoci10KTtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkobikuc2V0KG5ldyBVaW50OEFycmF5KHRoaXMuYnVmZmVyKS5zdWJhcnJheSh0LHIpLDApLG59LHMudGM9cy55QSxzLnRvU3RyaW5nPWZ1bmN0aW9uKGUsdCxyKXtpZih2b2lkIDA9PT1lKXJldHVyblwiQnl0ZUJ1ZmZlckFCKG9mZnNldD1cIit0aGlzLm9mZnNldCtcIixtYXJrZWRPZmZzZXQ9XCIrdGhpcy5NXytcIixsaW1pdD1cIit0aGlzLkZfK1wiLGNhcGFjaXR5PVwiK3RoaXMuaEEoKStcIilcIjtzd2l0Y2goXCJudW1iZXJcIj09dHlwZW9mIGUmJihlPVwidXRmOFwiLHQ9ZSxyPXQpLGUpe2Nhc2VcInV0ZjhcIjpyZXR1cm4gdGhpcy5UQSh0LHIpO2Nhc2VcImJhc2U2NFwiOnJldHVybiB0aGlzLm1BKHQscik7Y2FzZVwiaGV4XCI6cmV0dXJuIHRoaXMuSUEodCxyKTtjYXNlXCJiaW5hcnlcIjpyZXR1cm4gdGhpcy5TQSh0LHIpO2Nhc2VcImRlYnVnXCI6cmV0dXJuIHRoaXMuRUEoKTtjYXNlXCJjb2x1bW5zXCI6cmV0dXJuIHRoaXMuUkEoKTtkZWZhdWx0OnRocm93IEVycm9yKFwiVW5zdXBwb3J0ZWQgZW5jb2Rpbmc6IFwiK2UpfX07dmFyIGg9ZnVuY3Rpb24oKXtmb3IodmFyIGU9e30sdD1bNjUsNjYsNjcsNjgsNjksNzAsNzEsNzIsNzMsNzQsNzUsNzYsNzcsNzgsNzksODAsODEsODIsODMsODQsODUsODYsODcsODgsODksOTAsOTcsOTgsOTksMTAwLDEwMSwxMDIsMTAzLDEwNCwxMDUsMTA2LDEwNywxMDgsMTA5LDExMCwxMTEsMTEyLDExMywxMTQsMTE1LDExNiwxMTcsMTE4LDExOSwxMjAsMTIxLDEyMiw0OCw0OSw1MCw1MSw1Miw1Myw1NCw1NSw1Niw1Nyw0Myw0N10scj1bXSxpPTAsbj10Lmxlbmd0aDtpPG47KytpKXJbdFtpXV09aTtyZXR1cm4gZS5lbmNvZGU9ZnVuY3Rpb24oZSxyKXtmb3IodmFyIGksbjtudWxsIT09KGk9ZSgpKTspcih0W2k+PjImNjNdKSxuPSgzJmkpPDw0LG51bGwhPT0oaT1lKCkpPyhufD1pPj40JjE1LHIodFs2MyYobnxpPj40JjE1KV0pLG49KDE1JmkpPDwyLG51bGwhPT0oaT1lKCkpPyhyKHRbNjMmKG58aT4+NiYzKV0pLHIodFs2MyZpXSkpOihyKHRbNjMmbl0pLHIoNjEpKSk6KHIodFs2MyZuXSkscig2MSkscig2MSkpfSxlLmRlY29kZT1mdW5jdGlvbihlLHQpe2Z1bmN0aW9uIGkoZSl7dGhyb3cgRXJyb3IoXCJJbGxlZ2FsIGNoYXJhY3RlciBjb2RlOiBcIitlKX1mb3IodmFyIG4scyxvO251bGwhPT0obj1lKCkpOylpZihzPXJbbl0sdm9pZCAwPT09cyYmaShuKSxudWxsIT09KG49ZSgpKSYmKG89cltuXSx2b2lkIDA9PT1vJiZpKG4pLHQoczw8Mj4+PjB8KDQ4Jm8pPj40KSxudWxsIT09KG49ZSgpKSkpe2lmKHZvaWQgMD09PShzPXJbbl0pKXtpZig2MT09PW4pYnJlYWs7aShuKX1pZih0KCgxNSZvKTw8ND4+PjB8KDYwJnMpPj4yKSxudWxsIT09KG49ZSgpKSl7aWYodm9pZCAwPT09KG89cltuXSkpe2lmKDYxPT09bilicmVhaztpKG4pfXQoKDMmcyk8PDY+Pj4wfG8pfX19LGUudGVzdD1mdW5jdGlvbihlKXtyZXR1cm4vXig/OltBLVphLXowLTkrXFwvXXs0fSkqKD86W0EtWmEtejAtOStcXC9dezJ9PT18W0EtWmEtejAtOStcXC9dezN9PSk/JC8udGVzdChlKX0sZX0oKTtzLm1BPWZ1bmN0aW9uKGUsdCl7aWYodm9pZCAwPT09ZSYmKGU9dGhpcy5vZmZzZXQpLHZvaWQgMD09PXQmJih0PXRoaXMuRl8pLCF0aGlzLkJfKXtpZihcIm51bWJlclwiIT10eXBlb2YgZXx8ZSUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgYmVnaW46IE5vdCBhbiBpbnRlZ2VyXCIpO2lmKGU+Pj49MCxcIm51bWJlclwiIT10eXBlb2YgdHx8dCUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgZW5kOiBOb3QgYW4gaW50ZWdlclwiKTtpZih0Pj4+PTAsZTwwfHxlPnR8fHQ+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCByYW5nZTogMCA8PSBcIitlK1wiIDw9IFwiK3QrXCIgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9dmFyIGk7cmV0dXJuIGguZW5jb2RlKGZ1bmN0aW9uKCl7cmV0dXJuIGU8dD90aGlzLnZpZXcuZ2V0VWludDgoZSsrKTpudWxsfS5iaW5kKHRoaXMpLGk9cigpKSxpKCl9LG4ual89ZnVuY3Rpb24oZSxyLGkpe2lmKCFpKXtpZihcInN0cmluZ1wiIT10eXBlb2YgZSl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIHN0cjogTm90IGEgc3RyaW5nXCIpO2lmKGUubGVuZ3RoJTQhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBzdHI6IExlbmd0aCBub3QgYSBtdWx0aXBsZSBvZiA0XCIpfXZhciBzPW5ldyBuKGUubGVuZ3RoLzQqMyxyLGkpLG89MDtyZXR1cm4gaC5kZWNvZGUodChlKSxmdW5jdGlvbihlKXtzLnZpZXcuc2V0VWludDgobysrLGUpfSkscy5GXz1vLHN9LG4uYnRvYT1mdW5jdGlvbihlKXtyZXR1cm4gbi5LXyhlKS5tQSgpfSxuLmF0b2I9ZnVuY3Rpb24oZSl7cmV0dXJuIG4ual8oZSkuU0EoKX0scy5TQT1mdW5jdGlvbihlLHQpe2lmKGU9dm9pZCAwPT09ZT90aGlzLm9mZnNldDplLHQ9dm9pZCAwPT09dD90aGlzLkZfOnQsIXRoaXMuQl8pe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlfHxlJTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBiZWdpbjogTm90IGFuIGludGVnZXJcIik7aWYoZT4+Pj0wLFwibnVtYmVyXCIhPXR5cGVvZiB0fHx0JTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBlbmQ6IE5vdCBhbiBpbnRlZ2VyXCIpO2lmKHQ+Pj49MCxlPDB8fGU+dHx8dD50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIHJhbmdlOiAwIDw9IFwiK2UrXCIgPD0gXCIrdCtcIiA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX1pZihlPT09dClyZXR1cm5cIlwiO2Zvcih2YXIgcj1bXSxpPVtdO2U8dDspci5wdXNoKHRoaXMudmlldy5nZXRVaW50OChlKyspKSxyLmxlbmd0aD49MTAyNCYmKGkucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZyxyKSkscj1bXSk7cmV0dXJuIGkuam9pbihcIlwiKStTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZyxyKX0sbi5LXz1mdW5jdGlvbihlLHQscil7aWYoIXImJlwic3RyaW5nXCIhPXR5cGVvZiBlKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgc3RyOiBOb3QgYSBzdHJpbmdcIik7Zm9yKHZhciBpLHM9MCxvPWUubGVuZ3RoLGE9bmV3IG4obyx0LHIpO3M8bzspe2lmKGk9ZS5jaGFyQ29kZUF0KHMpLCFyJiZpPjI1NSl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBjaGFyQ29kZSBhdCBcIitzK1wiOiAwIDw9IFwiK2krXCIgPD0gMjU1XCIpO2Eudmlldy5zZXRVaW50OChzKyssaSl9cmV0dXJuIGEuRl89byxhfSxzLkVBPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxyPS0xLGk9dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCxuPVwiXCIscz1cIlwiLG89XCJcIjtyPGk7KXtpZigtMSE9PXImJih0PXRoaXMudmlldy5nZXRVaW50OChyKSxuKz10PDE2P1wiMFwiK3QudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCk6dC50b1N0cmluZygxNikudG9VcHBlckNhc2UoKSxlJiYocys9dD4zMiYmdDwxMjc/U3RyaW5nLmZyb21DaGFyQ29kZSh0KTpcIi5cIikpLCsrcixlJiZyPjAmJnIlMTY9PTAmJnIhPT1pKXtmb3IoO24ubGVuZ3RoPDUxOyluKz1cIiBcIjtvKz1uK3MrXCJcXG5cIixuPXM9XCJcIn1yPT09dGhpcy5vZmZzZXQmJnI9PT10aGlzLkZfP24rPXI9PT10aGlzLk1fP1wiIVwiOlwifFwiOnI9PT10aGlzLm9mZnNldD9uKz1yPT09dGhpcy5NXz9cIltcIjpcIjxcIjpyPT09dGhpcy5GXz9uKz1yPT09dGhpcy5NXz9cIl1cIjpcIj5cIjpuKz1yPT09dGhpcy5NXz9cIidcIjplfHwwIT09ciYmciE9PWk/XCIgXCI6XCJcIn1pZihlJiZcIiBcIiE9PW4pe2Zvcig7bi5sZW5ndGg8NTE7KW4rPVwiIFwiO28rPW4rcytcIlxcblwifXJldHVybiBlP286bn0sbi5XXz1mdW5jdGlvbihlLHQscil7Zm9yKHZhciBpLHMsbz1lLmxlbmd0aCxhPW5ldyBuKChvKzEpLzN8MCx0LHIpLGg9MCxjPTAsdT0hMSxsPSExLHA9ITEsZD0hMSxmPSExO2g8bzspe3N3aXRjaChpPWUuY2hhckF0KGgrKykpe2Nhc2VcIiFcIjppZighcil7aWYobHx8cHx8ZCl7Zj0hMDticmVha31sPXA9ZD0hMH1hLm9mZnNldD1hLk1fPWEuRl89Yyx1PSExO2JyZWFrO2Nhc2VcInxcIjppZighcil7aWYobHx8ZCl7Zj0hMDticmVha31sPWQ9ITB9YS5vZmZzZXQ9YS5GXz1jLHU9ITE7YnJlYWs7Y2FzZVwiW1wiOmlmKCFyKXtpZihsfHxwKXtmPSEwO2JyZWFrfWw9cD0hMH1hLm9mZnNldD1hLk1fPWMsdT0hMTticmVhaztjYXNlXCI8XCI6aWYoIXIpe2lmKGwpe2Y9ITA7YnJlYWt9bD0hMH1hLm9mZnNldD1jLHU9ITE7YnJlYWs7Y2FzZVwiXVwiOmlmKCFyKXtpZihkfHxwKXtmPSEwO2JyZWFrfWQ9cD0hMH1hLkZfPWEuTV89Yyx1PSExO2JyZWFrO2Nhc2VcIj5cIjppZighcil7aWYoZCl7Zj0hMDticmVha31kPSEwfWEuRl89Yyx1PSExO2JyZWFrO2Nhc2VcIidcIjppZighcil7aWYocCl7Zj0hMDticmVha31wPSEwfWEuTV89Yyx1PSExO2JyZWFrO2Nhc2VcIiBcIjp1PSExO2JyZWFrO2RlZmF1bHQ6aWYoIXImJnUpe2Y9ITA7YnJlYWt9aWYocz1wYXJzZUludChpK2UuY2hhckF0KGgrKyksMTYpLCFyJiYoaXNOYU4ocyl8fHM8MHx8cz4yNTUpKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgc3RyOiBOb3QgYSBkZWJ1ZyBlbmNvZGVkIHN0cmluZ1wiKTthLnZpZXcuc2V0VWludDgoYysrLHMpLHU9ITB9aWYoZil0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIHN0cjogSW52YWxpZCBzeW1ib2wgYXQgXCIraCl9aWYoIXIpe2lmKCFsfHwhZCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIHN0cjogTWlzc2luZyBvZmZzZXQgb3IgbGltaXRcIik7aWYoYzxhLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgc3RyOiBOb3QgYSBkZWJ1ZyBlbmNvZGVkIHN0cmluZyAoaXMgaXQgaGV4PykgXCIrYytcIiA8IFwiK28pfXJldHVybiBhfSxzLklBPWZ1bmN0aW9uKGUsdCl7aWYoZT12b2lkIDA9PT1lP3RoaXMub2Zmc2V0OmUsdD12b2lkIDA9PT10P3RoaXMuRl86dCwhdGhpcy5CXyl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGV8fGUlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIGJlZ2luOiBOb3QgYW4gaW50ZWdlclwiKTtpZihlPj4+PTAsXCJudW1iZXJcIiE9dHlwZW9mIHR8fHQlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIGVuZDogTm90IGFuIGludGVnZXJcIik7aWYodD4+Pj0wLGU8MHx8ZT50fHx0PnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgcmFuZ2U6IDAgPD0gXCIrZStcIiA8PSBcIit0K1wiIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfWZvcih2YXIgcixpPW5ldyBBcnJheSh0LWUpO2U8dDspcj10aGlzLnZpZXcuZ2V0VWludDgoZSsrKSxyPDE2P2kucHVzaChcIjBcIixyLnRvU3RyaW5nKDE2KSk6aS5wdXNoKHIudG9TdHJpbmcoMTYpKTtyZXR1cm4gaS5qb2luKFwiXCIpfSxuLlFfPWZ1bmN0aW9uKGUsdCxyKXtpZighcil7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGUpdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBzdHI6IE5vdCBhIHN0cmluZ1wiKTtpZihlLmxlbmd0aCUyIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgc3RyOiBMZW5ndGggbm90IGEgbXVsdGlwbGUgb2YgMlwiKX1mb3IodmFyIGkscz1lLmxlbmd0aCxvPW5ldyBuKHMvMnwwLHQpLGE9MCxoPTA7YTxzO2ErPTIpe2lmKGk9cGFyc2VJbnQoZS5zdWJzdHJpbmcoYSxhKzIpLDE2KSwhciYmKCFpc0Zpbml0ZShpKXx8aTwwfHxpPjI1NSkpdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBzdHI6IENvbnRhaW5zIG5vbi1oZXggY2hhcmFjdGVyc1wiKTtvLnZpZXcuc2V0VWludDgoaCsrLGkpfXJldHVybiBvLkZfPWgsb307dmFyIGM9ZnVuY3Rpb24oKXt2YXIgZT17fTtyZXR1cm4gZS53QT0xMTE0MTExLGUuYkE9ZnVuY3Rpb24oZSx0KXt2YXIgcj1udWxsO2ZvcihcIm51bWJlclwiPT10eXBlb2YgZSYmKHI9ZSxlPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9KTtudWxsIT09cnx8bnVsbCE9PShyPWUoKSk7KXI8MTI4P3QoMTI3JnIpOnI8MjA0OD8odChyPj42JjMxfDE5MiksdCg2MyZyfDEyOCkpOnI8NjU1MzY/KHQocj4+MTImMTV8MjI0KSx0KHI+PjYmNjN8MTI4KSx0KDYzJnJ8MTI4KSk6KHQocj4+MTgmN3wyNDApLHQocj4+MTImNjN8MTI4KSx0KHI+PjYmNjN8MTI4KSx0KDYzJnJ8MTI4KSkscj1udWxsfSxlLmlBPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByLGksbixzLG89ZnVuY3Rpb24oZSl7ZT1lLnNsaWNlKDAsZS5pbmRleE9mKG51bGwpKTt2YXIgdD1FcnJvcihlLnRvU3RyaW5nKCkpO3Rocm93IHQubmFtZT1cIlRydW5jYXRlZEVycm9yXCIsdC5ieXRlcz1lLHR9O251bGwhPT0ocj1lKCkpOylpZigwPT0oMTI4JnIpKXQocik7ZWxzZSBpZigxOTI9PSgyMjQmcikpbnVsbD09PShpPWUoKSkmJm8oW3IsaV0pLHQoKDMxJnIpPDw2fDYzJmkpO2Vsc2UgaWYoMjI0PT0oMjQwJnIpKShudWxsPT09KGk9ZSgpKXx8bnVsbD09PShuPWUoKSkpJiZvKFtyLGksbl0pLHQoKDE1JnIpPDwxMnwoNjMmaSk8PDZ8NjMmbik7ZWxzZXtpZigyNDAhPSgyNDgmcikpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgc3RhcnRpbmcgYnl0ZTogXCIrcik7KG51bGw9PT0oaT1lKCkpfHxudWxsPT09KG49ZSgpKXx8bnVsbD09PShzPWUoKSkpJiZvKFtyLGksbixzXSksdCgoNyZyKTw8MTh8KDYzJmkpPDwxMnwoNjMmbik8PDZ8NjMmcyl9fSxlLkNBPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByLGk9bnVsbDs7KXtpZihudWxsPT09KHI9bnVsbCE9PWk/aTplKCkpKWJyZWFrO3I+PTU1Mjk2JiZyPD01NzM0MyYmbnVsbCE9PShpPWUoKSkmJmk+PTU2MzIwJiZpPD01NzM0Mz8odCgxMDI0KihyLTU1Mjk2KStpLTU2MzIwKzY1NTM2KSxpPW51bGwpOnQocil9bnVsbCE9PWkmJnQoaSl9LGUubkE9ZnVuY3Rpb24oZSx0KXt2YXIgcj1udWxsO2ZvcihcIm51bWJlclwiPT10eXBlb2YgZSYmKHI9ZSxlPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9KTtudWxsIT09cnx8bnVsbCE9PShyPWUoKSk7KXI8PTY1NTM1P3Qocik6KHItPTY1NTM2LHQoNTUyOTYrKHI+PjEwKSksdChyJTEwMjQrNTYzMjApKSxyPW51bGx9LGUuWVA9ZnVuY3Rpb24odCxyKXtlLkNBKHQsZnVuY3Rpb24odCl7ZS5iQSh0LHIpfSl9LGUuV1A9ZnVuY3Rpb24odCxyKXtlLmlBKHQsZnVuY3Rpb24odCl7ZS5uQSh0LHIpfSl9LGUuX0E9ZnVuY3Rpb24oZSl7cmV0dXJuIGU8MTI4PzE6ZTwyMDQ4PzI6ZTw2NTUzNj8zOjR9LGUuUEE9ZnVuY3Rpb24odCl7Zm9yKHZhciByLGk9MDtudWxsIT09KHI9dCgpKTspaSs9ZS5fQShyKTtyZXR1cm4gaX0sZS5LUD1mdW5jdGlvbih0KXt2YXIgcj0wLGk9MDtyZXR1cm4gZS5DQSh0LGZ1bmN0aW9uKHQpeysrcixpKz1lLl9BKHQpfSksW3IsaV19LGV9KCk7cmV0dXJuIHMuVEE9ZnVuY3Rpb24oZSx0KXtpZih2b2lkIDA9PT1lJiYoZT10aGlzLm9mZnNldCksdm9pZCAwPT09dCYmKHQ9dGhpcy5GXyksIXRoaXMuQl8pe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlfHxlJTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBiZWdpbjogTm90IGFuIGludGVnZXJcIik7aWYoZT4+Pj0wLFwibnVtYmVyXCIhPXR5cGVvZiB0fHx0JTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBlbmQ6IE5vdCBhbiBpbnRlZ2VyXCIpO2lmKHQ+Pj49MCxlPDB8fGU+dHx8dD50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIHJhbmdlOiAwIDw9IFwiK2UrXCIgPD0gXCIrdCtcIiA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX12YXIgaTt0cnl7Yy5XUChmdW5jdGlvbigpe3JldHVybiBlPHQ/dGhpcy52aWV3LmdldFVpbnQ4KGUrKyk6bnVsbH0uYmluZCh0aGlzKSxpPXIoKSl9Y2F0Y2gocil7aWYoZSE9PXQpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgcmFuZ2U6IFRydW5jYXRlZCBkYXRhLCBcIitlK1wiICE9IFwiK3QpfXJldHVybiBpKCl9LG4uWV89ZnVuY3Rpb24oZSxyLGkpe2lmKCFpJiZcInN0cmluZ1wiIT10eXBlb2YgZSl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIHN0cjogTm90IGEgc3RyaW5nXCIpO3ZhciBzPW5ldyBuKGMuS1AodChlKSwhMClbMV0scixpKSxvPTA7cmV0dXJuIGMuWVAodChlKSxmdW5jdGlvbihlKXtzLnZpZXcuc2V0VWludDgobysrLGUpfSkscy5GXz1vLHN9LG59XCJvYmplY3RcIj09dHlwZW9mIGUmJmUmJlwib2JqZWN0XCI9PXR5cGVvZiB0JiZ0P2UuaT1mdW5jdGlvbigpe3ZhciBlO3RyeXtlPXIoOTMpfWNhdGNoKGUpe31yZXR1cm4gYShlKX0oKToobj1bcig5NCldLHZvaWQgMCE9PShzPWZ1bmN0aW9uKGUpe3JldHVybiBhKGUpfS5hcHBseSh0LG4pKSYmKGUuaT1zKSl9KCl9KS5jYWxsKHQscig2MykoZSkpfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9cigzNyk7ZS5pPU9iamVjdCxPYmplY3QuZW1wdHk9T2JqZWN0LmZyZWV6ZShPYmplY3QuY3JlYXRlKG51bGwpKSxPYmplY3QuYXU9ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChlKT09PWV9LE9iamVjdC5BQT1mdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgZS52YWx1ZU9mJiYoZT1lLnZhbHVlT2YoKSksZX07dmFyIG49bmV3IGk7T2JqZWN0Lmhhc2g9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGUuaGFzaD9cIlwiK2UuaGFzaCgpOk9iamVjdChlKT09PWU/KG4uaGFzKGUpfHxuLnNldChlLE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnNsaWNlKDIpKSxuLmdldChlKSk6XCJcIitlfTt2YXIgcz1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O09iamVjdC5PQT1mdW5jdGlvbihlLHQpe3JldHVybiBzLmNhbGwoZSx0KX0sT2JqZWN0Lmhhcz1mdW5jdGlvbihlLHQpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlKXRocm93IG5ldyBFcnJvcihcIk9iamVjdC5oYXMgY2FuJ3QgYWNjZXB0IG5vbi1vYmplY3Q6IFwiK3R5cGVvZiBlKTtpZihlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLmhhcylyZXR1cm4gZS5oYXModCk7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpcmV0dXJuIHQgaW4gZSYmZVt0XSE9PU9iamVjdC5wcm90b3R5cGVbdF07dGhyb3cgbmV3IEVycm9yKFwiS2V5IG11c3QgYmUgYSBzdHJpbmcgZm9yIE9iamVjdC5oYXMgb24gcGxhaW4gb2JqZWN0c1wiKX0sT2JqZWN0LmdldD1mdW5jdGlvbihlLHQscil7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUpdGhyb3cgbmV3IEVycm9yKFwiT2JqZWN0LmdldCBjYW4ndCBhY2NlcHQgbm9uLW9iamVjdDogXCIrdHlwZW9mIGUpO3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLmdldD9lLmdldCh0LHIpOk9iamVjdC5oYXMoZSx0KT9lW3RdOnJ9LE9iamVjdC5zZXQ9ZnVuY3Rpb24oZSx0LHIpe2UmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGUuc2V0P2Uuc2V0KHQscik6ZVt0XT1yfSxPYmplY3QuYWRkRWFjaD1mdW5jdGlvbihlLHQpe2lmKHQpaWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdC5mb3JFYWNofHx0Lmhhc093blByb3BlcnR5KFwiZm9yRWFjaFwiKSlpZihcIm51bWJlclwiPT10eXBlb2YgdC5sZW5ndGgpZm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspZVtyXT10W3JdO2Vsc2UgT2JqZWN0LmtleXModCkuZm9yRWFjaChmdW5jdGlvbihyKXtlW3JdPXRbcl19KTtlbHNlITA9PT10LmlzTWFwP3QuZm9yRWFjaChmdW5jdGlvbih0LHIpe2Vbcl09dH0pOnQuZm9yRWFjaChmdW5jdGlvbih0KXtlW3RbMF1dPXRbMV19KTtlbHNlO3JldHVybiBlfSxPYmplY3QuZm9yRWFjaD1mdW5jdGlvbihlLHQscil7Zm9yKHZhciBpLG49T2JqZWN0LmtleXMoZSkscz0wO2k9bltzXTtzKyspdC5jYWxsKHIsZVtpXSxpLGUpfSxPYmplY3QubWFwPWZ1bmN0aW9uKGUsdCxyKXtmb3IodmFyIGksbj1PYmplY3Qua2V5cyhlKSxzPTAsbz1bXTtpPW5bc107cysrKW8ucHVzaCh0LmNhbGwocixlW2ldLGksZSkpO3JldHVybiBvfSxPYmplY3QudmFsdWVzPWZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QubWFwKGUsRnVuY3Rpb24uaWRlbnRpdHkpfSxPYmplY3QuY29uY2F0PWZ1bmN0aW9uKCl7Zm9yKHZhciBlPXt9LHQ9MDt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKU9iamVjdC5hZGRFYWNoKGUsYXJndW1lbnRzW3RdKTtyZXR1cm4gZX0sT2JqZWN0LmZyb209T2JqZWN0LmNvbmNhdCxPYmplY3QuaXM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT09PXQ/MCE9PWV8fDEvZT09MS90OmUhPT1lJiZ0IT09dH0sT2JqZWN0LmNzPWZ1bmN0aW9uKGUsdCxyLG4pe2lmKHI9cnx8T2JqZWN0LmNzLGU9T2JqZWN0LkFBKGUpLHQ9T2JqZWN0LkFBKHQpLGU9PT10KXJldHVybiEwO2lmKE9iamVjdC5hdShlKSl7aWYobj1ufHxuZXcgaSxuLmhhcyhlKSlyZXR1cm4hMDtuLnNldChlLCEwKX1pZihPYmplY3QuYXUoZSkmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGUuY3MpcmV0dXJuIGUuY3ModCxyLG4pO2lmKE9iamVjdC5hdSh0KSYmXCJmdW5jdGlvblwiPT10eXBlb2YgdC5jcylyZXR1cm4gdC5jcyhlLHIsbik7aWYoT2JqZWN0LmF1KGUpJiZPYmplY3QuYXUodCkmJk9iamVjdC5nZXRQcm90b3R5cGVPZihlKT09PU9iamVjdC5wcm90b3R5cGUmJk9iamVjdC5nZXRQcm90b3R5cGVPZih0KT09PU9iamVjdC5wcm90b3R5cGUpe2Zvcih2YXIgcyBpbiBlKWlmKCFyKGVbc10sdFtzXSxyLG4pKXJldHVybiExO2Zvcih2YXIgcyBpbiB0KWlmKCEocyBpbiBlJiZyKHRbc10sZVtzXSxyLG4pKSlyZXR1cm4hMTtyZXR1cm4hMH1yZXR1cm4gZSE9PWUmJnQhPT10fHwoIWV8fCF0KSYmZT09PXR9LE9iamVjdC5PYz1mdW5jdGlvbihlLHQpe2lmKGU9T2JqZWN0LkFBKGUpLHQ9T2JqZWN0LkFBKHQpLGU9PT10KXJldHVybiAwO3ZhciByPXR5cGVvZiBlLGk9dHlwZW9mIHQ7cmV0dXJuXCJudW1iZXJcIj09PXImJlwibnVtYmVyXCI9PT1pP2UtdDpcInN0cmluZ1wiPT09ciYmXCJzdHJpbmdcIj09PWk/ZTx0Py0xLzA6MS8wOmUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGUuT2M/ZS5PYyh0KTp0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0Lk9jPy10Lk9jKGUpOjB9LE9iamVjdC5jbG9uZT1mdW5jdGlvbihlLHQscil7aWYoZT1PYmplY3QuQUEoZSkscj1yfHxuZXcgaSx2b2lkIDA9PT10KXQ9MS8wO2Vsc2UgaWYoMD09PXQpcmV0dXJuIGU7aWYoT2JqZWN0LmF1KGUpKXtpZighci5oYXMoZSkpaWYoZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgZS5jbG9uZSlyLnNldChlLGUuY2xvbmUodCxyKSk7ZWxzZXt2YXIgbj1PYmplY3QuZ2V0UHJvdG90eXBlT2YoZSk7aWYobnVsbCE9PW4mJm4hPT1PYmplY3QucHJvdG90eXBlKXRocm93IG5ldyBFcnJvcihcIkNhbid0IGNsb25lIFwiK2UpO3ZhciBzPU9iamVjdC5jcmVhdGUobik7ci5zZXQoZSxzKTtmb3IodmFyIG8gaW4gZSlzW29dPU9iamVjdC5jbG9uZShlW29dLHQtMSxyKX1yZXR1cm4gci5nZXQoZSl9cmV0dXJuIGV9LE9iamVjdC5jbGVhcj1mdW5jdGlvbihlKXtpZihlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLmNsZWFyKWUuY2xlYXIoKTtlbHNlIGZvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxyPXQubGVuZ3RoO3I7KXItLSxkZWxldGUgZVt0W3JdXTtyZXR1cm4gZX19LGZ1bmN0aW9uKGUsdCl7IWZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gdChlKXtlLk5BJiZlLk5BKHQpfWZ1bmN0aW9uIHIoZSl7cmV0dXJuIShlLnN1YnN0cigwLGQubGVuZ3RoKT09ZCYmXCJfX19cIj09PWUuc3Vic3RyKGUubGVuZ3RoLTMpKX1mdW5jdGlvbiBpKGUpe2lmKGUhPT1PYmplY3QoZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIk5vdCBhbiBvYmplY3Q6IFwiK2UpO3ZhciB0PWVbZl07aWYodCYmdC5rZXk9PT1lKXJldHVybiB0O2lmKHAoZSkpe3Q9e2tleTplfTt0cnl7cmV0dXJuIGwoZSxmLHt2YWx1ZTp0LEFoOiExLHA6ITEsbDohMX0pLHR9Y2F0Y2goZSl7cmV0dXJufX19ZnVuY3Rpb24gbihlKXtyZXR1cm4gZS5wcm90b3R5cGU9bnVsbCxPYmplY3QuZnJlZXplKGUpfWZ1bmN0aW9uIHMoKXt5fHxcInVuZGVmaW5lZFwiPT10eXBlb2YgY29uc29sZXx8KHk9ITAsY29uc29sZS53YXJuKFwiV2Vha01hcCBzaG91bGQgYmUgaW52b2tlZCBhcyBuZXcgV2Vha01hcCgpLCBub3QgV2Vha01hcCgpLiBUaGlzIHdpbGwgYmUgYW4gZXJyb3IgaW4gdGhlIGZ1dHVyZS5cIikpfWlmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBzZXN8fCFzZXMub2t8fHNlcy5vaygpKXtcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VzJiYoc2VzLkRBPXQpO3ZhciBvPSExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFdlYWtNYXApe3ZhciBhPVdlYWtNYXA7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG5hdmlnYXRvciYmL0ZpcmVmb3gvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkpO2Vsc2V7dmFyIGg9bmV3IGEsYz1PYmplY3QuZnJlZXplKHt9KTtpZihoLnNldChjLDEpLDE9PT1oLmdldChjKSlyZXR1cm4gdm9pZChlLmk9V2Vha01hcCk7bz0hMH19dmFyIHU9KE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMpLGw9T2JqZWN0LmRlZmluZVByb3BlcnR5LHA9T2JqZWN0LmlzRXh0ZW5zaWJsZSxkPVwid2Vha21hcDpcIixmPWQrXCJpZGVudDpcIitNYXRoLnJhbmRvbSgpK1wiX19fXCI7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGNyeXB0byYmXCJmdW5jdGlvblwiPT10eXBlb2YgY3J5cHRvLmdldFJhbmRvbVZhbHVlcyYmXCJmdW5jdGlvblwiPT10eXBlb2YgQXJyYXlCdWZmZXImJlwiZnVuY3Rpb25cIj09dHlwZW9mIFVpbnQ4QXJyYXkpe3ZhciBnPW5ldyBBcnJheUJ1ZmZlcigyNSksRT1uZXcgVWludDhBcnJheShnKTtjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKEUpLGY9ZCtcInJhbmQ6XCIrQXJyYXkucHJvdG90eXBlLm1hcC5jYWxsKEUsZnVuY3Rpb24oZSl7cmV0dXJuKGUlMzYpLnRvU3RyaW5nKDM2KX0pLmpvaW4oXCJcIikrXCJfX19cIn1pZihsKE9iamVjdCxcImdldE93blByb3BlcnR5TmFtZXNcIix7dmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHUoZSkuZmlsdGVyKHIpfX0pLFwiZ2V0UHJvcGVydHlOYW1lc1wiaW4gT2JqZWN0KXt2YXIgdj1PYmplY3Qua0E7bChPYmplY3QsXCJnZXRQcm9wZXJ0eU5hbWVzXCIse3ZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB2KGUpLmZpbHRlcihyKX19KX0hZnVuY3Rpb24oKXt2YXIgZT1PYmplY3QuZnJlZXplO2woT2JqZWN0LFwiZnJlZXplXCIse3ZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBpKHQpLGUodCl9fSk7dmFyIHQ9T2JqZWN0LnNlYWw7bChPYmplY3QsXCJzZWFsXCIse3ZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBpKGUpLHQoZSl9fSk7dmFyIHI9T2JqZWN0LnByZXZlbnRFeHRlbnNpb25zO2woT2JqZWN0LFwicHJldmVudEV4dGVuc2lvbnNcIix7dmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGkoZSkscihlKX19KX0oKTt2YXIgeT0hMSxUPTAsbT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXt2YXIgcixuPWkoZSk7cmV0dXJuIG4/YyBpbiBuP25bY106dDoocj1hLmluZGV4T2YoZSkscj49MD9oW3JdOnQpfWZ1bmN0aW9uIHQoZSl7dmFyIHQ9aShlKTtyZXR1cm4gdD9jIGluIHQ6YS5pbmRleE9mKGUpPj0wfWZ1bmN0aW9uIHIoZSx0KXt2YXIgcixuPWkoZSk7cmV0dXJuIG4/bltjXT10OihyPWEuaW5kZXhPZihlKSxyPj0wP2hbcl09dDoocj1hLmxlbmd0aCxoW3JdPXQsYVtyXT1lKSksdGhpc31mdW5jdGlvbiBvKGUpe3ZhciB0LHIsbj1pKGUpO3JldHVybiBuP2MgaW4gbiYmZGVsZXRlIG5bY106ISgodD1hLmluZGV4T2YoZSkpPDApJiYocj1hLmxlbmd0aC0xLGFbdF09dm9pZCAwLGhbdF09aFtyXSxhW3RdPWFbcl0sYS5sZW5ndGg9cixoLmxlbmd0aD1yLCEwKX10aGlzIGluc3RhbmNlb2YgbXx8cygpO3ZhciBhPVtdLGg9W10sYz1UKys7cmV0dXJuIE9iamVjdC5jcmVhdGUobS5wcm90b3R5cGUse0xBOnt2YWx1ZTpuKGUpfSxNQTp7dmFsdWU6bih0KX0sRkE6e3ZhbHVlOm4ocil9LFVBOnt2YWx1ZTpuKG8pfX0pfTttLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKE9iamVjdC5wcm90b3R5cGUse2dldDp7dmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5MQShlLHQpfSxBaDohMCxsOiEwfSxoYXM6e3ZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLk1BKGUpfSxBaDohMCxsOiEwfSxzZXQ6e3ZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuRkEoZSx0KX0sQWg6ITAsbDohMH0sZGVsZXRlOnt2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5VQShlKX0sQWg6ITAsbDohMH19KSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBhP2Z1bmN0aW9uKCl7ZnVuY3Rpb24gcigpe2Z1bmN0aW9uIGUoZSx0KXtyZXR1cm4gdT9jLmhhcyhlKT9jLmdldChlKTp1LkxBKGUsdCk6Yy5nZXQoZSx0KX1mdW5jdGlvbiByKGUpe3JldHVybiBjLmhhcyhlKXx8ISF1JiZ1Lk1BKGUpfWZ1bmN0aW9uIGkoZSl7dmFyIHQ9ISFjLmRlbGV0ZShlKTtyZXR1cm4gdT91LlVBKGUpfHx0OnR9dGhpcyBpbnN0YW5jZW9mIG18fHMoKTt2YXIgaCxjPW5ldyBhLHU9dm9pZCAwLGw9ITE7cmV0dXJuIGg9bz9mdW5jdGlvbihlLHQpe3JldHVybiBjLnNldChlLHQpLGMuaGFzKGUpfHwodXx8KHU9bmV3IG0pLHUuc2V0KGUsdCkpLHRoaXN9OmZ1bmN0aW9uKGUsdCl7aWYobCl0cnl7Yy5zZXQoZSx0KX1jYXRjaChyKXt1fHwodT1uZXcgbSksdS5GQShlLHQpfWVsc2UgYy5zZXQoZSx0KTtyZXR1cm4gdGhpc30sT2JqZWN0LmNyZWF0ZShtLnByb3RvdHlwZSx7TEE6e3ZhbHVlOm4oZSl9LE1BOnt2YWx1ZTpuKHIpfSxGQTp7dmFsdWU6bihoKX0sVUE6e3ZhbHVlOm4oaSl9LE5BOnt2YWx1ZTpuKGZ1bmN0aW9uKGUpe2lmKGUhPT10KXRocm93IG5ldyBFcnJvcihcImJvZ3VzIGNhbGwgdG8gcGVybWl0SG9zdE9iamVjdHNfX19cIik7bD0hMH0pfX0pfW8mJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBQcm94eSYmKFByb3h5PXZvaWQgMCksci5wcm90b3R5cGU9bS5wcm90b3R5cGUsZS5pPXIsT2JqZWN0LmRlZmluZVByb3BlcnR5KFdlYWtNYXAucHJvdG90eXBlLFwiY29uc3RydWN0b3JcIix7dmFsdWU6V2Vha01hcCxwOiExLGw6ITAsQWg6ITB9KX0oKTooXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFByb3h5JiYoUHJveHk9dm9pZCAwKSxlLmk9bSl9fSgpfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaSgpe3Rocm93IG5ldyBFcnJvcihcIkNhbid0IGNvbnN0cnVjdC4gUmFuZ2VDaGFuZ2VzIGlzIGEgbWl4aW4uXCIpfXZhciBuPXIoMzcpLHM9cig1MSksbz1uZXcgbjtlLmk9aSxpLnByb3RvdHlwZS5CQT1mdW5jdGlvbigpe3JldHVybiBvLmhhcyh0aGlzKXx8by5zZXQodGhpcyxzKCkpLG8uZ2V0KHRoaXMpfSxpLnByb3RvdHlwZS5IQT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLkJBKCk7cmV0dXJuIGU9ZXx8XCJcIix0LmhhcyhlKXx8dC5zZXQoZSx7aXNBY3RpdmU6ITEsV2M6W10sWWM6W119KSx0LmdldChlKX0saS5wcm90b3R5cGUueEE9ZnVuY3Rpb24oZSx0LHIpeyF0aGlzLlpjJiZ0aGlzLlhjJiZ0aGlzLlhjKCk7dmFyIGksbj10aGlzLkhBKHQpO2k9cj9uLlljOm4uV2MsaS5wdXNoKGUpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwiZGlzcGF0Y2hlc1JhbmdlQ2hhbmdlc1wiLHt2YWx1ZTohMCxBaDohMCxsOiEwLHA6ITF9KTt2YXIgcz10aGlzO3JldHVybiBmdW5jdGlvbigpe3MmJihzLnFBKGUsdCxyKSxzPW51bGwpfX0saS5wcm90b3R5cGUucUE9ZnVuY3Rpb24oZSx0LHIpe3ZhciBpLG49dGhpcy5IQSh0KTtpPXI/bi5ZYzpuLldjO3ZhciBzPWkubGFzdEluZGV4T2YoZSk7aWYoLTE9PT1zKXRocm93IG5ldyBFcnJvcihcIkNhbid0IHJlbW92ZSByYW5nZSBjaGFuZ2UgbGlzdGVuZXI6IGRvZXMgbm90IGV4aXN0OiB0b2tlbiBcIitKU09OLnN0cmluZ2lmeSh0KSk7aS5zcGxpY2UocywxKX0saS5wcm90b3R5cGUuR0E9ZnVuY3Rpb24oZSx0LHIsaSl7dmFyIG49XCJSYW5nZVwiKyhpP1wiV2lsbENoYW5nZVwiOlwiQ2hhbmdlXCIpO3RoaXMuQkEoKS5mb3JFYWNoKGZ1bmN0aW9uKHMsbyl7aWYoIXMuaXNBY3RpdmUpe3MuaXNBY3RpdmU9ITA7dmFyIGE7YT1pP3MuWWM6cy5XYzt2YXIgaD1cImhhbmRsZVwiKyhvLnNsaWNlKDAsMSkudG9VcHBlckNhc2UoKStvLnNsaWNlKDEpKStuO3RyeXthLnNsaWNlKCkuZm9yRWFjaChmdW5jdGlvbihuKXtpZighKGEuaW5kZXhPZihuKTwwKSlpZihuW2hdKW5baF0oZSx0LHIsdGhpcyxpKTtlbHNle2lmKCFuLmNhbGwpdGhyb3cgbmV3IEVycm9yKFwiSGFuZGxlciBcIituK1wiIGhhcyBubyBtZXRob2QgXCIraCtcIiBhbmQgaXMgbm90IGNhbGxhYmxlXCIpO24uY2FsbCh0aGlzLGUsdCxyLHRoaXMsaSl9fSx0aGlzKX1maW5hbGx5e3MuaXNBY3RpdmU9ITF9fX0sdGhpcyl9LGkucHJvdG90eXBlLlZBPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMueEEoZSx0LCEwKX0saS5wcm90b3R5cGUuakE9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5xQShlLHQsITApfSxpLnByb3RvdHlwZS5RQT1mdW5jdGlvbihlLHQscil7cmV0dXJuIHRoaXMuR0EoZSx0LHIsITApfX0sZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiByKCl7dGhyb3cgbmV3IEVycm9yKFwiQ2FuJ3QgY29uc3RydWN0LiBHZW5lcmljU2V0IGlzIGEgbWl4aW4uXCIpfWUuaT1yLHIucHJvdG90eXBlLktBPSEwLHIucHJvdG90eXBlLllBPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuRXModGhpcyk7cmV0dXJuIHQuYWRkRWFjaChlKSx0fSxyLnByb3RvdHlwZS5XQT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5Fcyh0aGlzLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4gZS5oYXModCl9KSl9LHIucHJvdG90eXBlLnpBPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuRXModGhpcyk7cmV0dXJuIHQuX2MoZSksdH0sci5wcm90b3R5cGUuSkE9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5ZQShlKSxyPXRoaXMuV0EoZSk7cmV0dXJuIHQuekEocil9LHIucHJvdG90eXBlLlhBPWZ1bmN0aW9uKGUpe3JldHVybit0aGlzLmRlbGV0ZShlKX0sci5wcm90b3R5cGUuY3M9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLnJlZHVjZSYmdGhpcy5sZW5ndGg9PT1lLmxlbmd0aCYmZS5yZWR1Y2UoZnVuY3Rpb24oZSxpKXtyZXR1cm4gZSYmci5oYXMoaSx0KX0sITApfSxyLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50b0FycmF5KCl9LHIucHJvdG90eXBlLmNvbnRhaW5zPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmhhcyhlKX0sci5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmRlbGV0ZShlKX0sci5wcm90b3R5cGUudG9nZ2xlPWZ1bmN0aW9uKGUpe3RoaXMuaGFzKGUpP3RoaXMuZGVsZXRlKGUpOnRoaXMuYWRkKGUpfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBpLGk7IWZ1bmN0aW9uKHQpe2UuaT10KCl9KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uIGUodCxyLG4pe2Z1bmN0aW9uIHMoYSxoKXtpZighclthXSl7aWYoIXRbYV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIGkmJmk7aWYoIWgmJmMpcmV0dXJuIGkoYSwhMCk7aWYobylyZXR1cm4gbyhhLCEwKTt2YXIgdT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2ErXCInXCIpO3Rocm93IHUuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIix1fXZhciBsPXJbYV09e2k6e319O3RbYV1bMF0uY2FsbChsLmksZnVuY3Rpb24oZSl7dmFyIHI9dFthXVsxXVtlXTtyZXR1cm4gcyhyfHxlKX0sbCxsLmksZSx0LHIsbil9cmV0dXJuIHJbYV0uaX1mb3IodmFyIG89XCJmdW5jdGlvblwiPT10eXBlb2YgaSYmaSxhPTA7YTxuLmxlbmd0aDthKyspcyhuW2FdKTtyZXR1cm4gc30oezE6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgaT1lKFwiLi9rZXJuZWxcIik7ci5EPWkuRDt2YXIgbj1lKFwiLi90eXBlX2JpbmRpbmdcIik7ci5aQT1uLlpBO3ZhciBzPWUoXCIuL3R5cGVfYmluZGluZ19zY29wZVwiKTtyLiRBPXMuJEF9LHtcIi4va2VybmVsXCI6MixcIi4vdHlwZV9iaW5kaW5nXCI6NCxcIi4vdHlwZV9iaW5kaW5nX3Njb3BlXCI6NX1dLDI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgaT1lKFwiLi90eXBlX2JpbmRpbmdfc2NvcGVcIiksbj1lKFwiLi9sb29rdXBcIikscz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLmVPPW5ldyBuLnRPfXJldHVybiBlLnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKGUpe3RoaXMuZU8uYWRkKGUuck8sZSl9LGUucHJvdG90eXBlLmlPPWZ1bmN0aW9uKGUpe3RyeXt0aGlzLmVPLnJlbW92ZShlKX1jYXRjaCh0KXt0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZCBub3QgcmVzb2x2ZSBzZXJ2aWNlIFwiK2UpfX0sZS5wcm90b3R5cGUuTj1mdW5jdGlvbigpe3RoaXMuZU89bmV3IG4udE99LGUucHJvdG90eXBlLnJlc29sdmU9ZnVuY3Rpb24oZSl7dmFyIHQ7aWYoIXRoaXMuZU8ubk8oZSkpcmV0dXJuIG51bGw7dD10aGlzLmVPLmdldChlKTt2YXIgcj10WzBdO2lmKHIuc2NvcGU9PT1pLiRBLnNPJiZudWxsIT09ci5zQylyZXR1cm4gci5zQzt2YXIgbj10aGlzLm9PKHIuYU8pO3JldHVybiByLnNDPW4sbn0sZS5wcm90b3R5cGUuaE89ZnVuY3Rpb24oZSl7dmFyIHQscixpLG4scyxvO3JldHVybiBzPS8oKFxcL1xcLy4qJCl8KFxcL1xcKltcXHNcXFNdKj9cXCpcXC8pKS9nbSxvPS8oW15cXHMsXSspL2csdD1lLnRvU3RyaW5nKCkucmVwbGFjZShzLFwiXCIpLHI9dC5pbmRleE9mKFwiKFwiKSsxLGk9dC5pbmRleE9mKFwiKVwiKSxuPVwiZnVuY3Rpb25cIj09dHlwZW9mIE1hcCYmLTEhPT10LmluZGV4T2YoXCJjbGFzc1wiKSYmLTE9PT10LmluZGV4T2YoXCJjb25zdHJ1Y3RvclwiKT9udWxsOnQuc2xpY2UocixpKS5tYXRjaChvKSxudWxsPT09biYmKG49W10pLG59LGUucHJvdG90eXBlLm9PPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuaE8oZSk7aWYoMD09PXQubGVuZ3RoKXJldHVybiBuZXcgZTtmb3IodmFyIHI9W10saT1udWxsLG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIHM9dFtuXTtpPXRoaXMucmVzb2x2ZShzKSxyLnB1c2goaSl9cmV0dXJuIHRoaXMuY08oZSxyKX0sZS5wcm90b3R5cGUuY089ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3KEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmFwcGx5KGUsW251bGxdLmNvbmNhdCh0KSkpfSxlfSgpO3IuRD1zfSx7XCIuL2xvb2t1cFwiOjMsXCIuL3R5cGVfYmluZGluZ19zY29wZVwiOjV9XSwzOltmdW5jdGlvbihlLHQscil7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7dGhpcy5rZXk9ZSx0aGlzLnZhbHVlPW5ldyBBcnJheSx0aGlzLnZhbHVlLnB1c2godCl9cmV0dXJuIGV9KCksbj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLnVPPW5ldyBBcnJheX1yZXR1cm4gZS5wcm90b3R5cGUubE89ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PS0xLHI9MDtyPHRoaXMudU8ubGVuZ3RoO3IrKyl7dGhpcy51T1tyXS5rZXk9PT1lJiYodD1yKX1yZXR1cm4gdH0sZS5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKGUsdCl7aWYobnVsbD09PWV8fHZvaWQgMD09PWUpdGhyb3cgbmV3IEVycm9yKFwiQXJndW1lbnQgTnVsbFwiKTtpZihudWxsPT09dHx8dm9pZCAwPT09dCl0aHJvdyBuZXcgRXJyb3IoXCJBcmd1bWVudCBOdWxsXCIpO3ZhciByPXRoaXMubE8oZSk7aWYoLTEhPT1yKXt2YXIgbj10aGlzLnVPW3JdO24ua2V5PT09ZSYmbi52YWx1ZS5wdXNoKHQpfWVsc2UgdGhpcy51Ty5wdXNoKG5ldyBpKGUsdCkpfSxlLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oZSl7aWYobnVsbD09PWV8fHZvaWQgMD09PWUpdGhyb3cgbmV3IEVycm9yKFwiQXJndW1lbnQgTnVsbFwiKTt2YXIgdD10aGlzLmxPKGUpO2lmKC0xPT09dCl0aHJvdyBuZXcgRXJyb3IoXCJLZXkgTm90IEZvdW5kXCIpO3ZhciByPXRoaXMudU9bdF07cmV0dXJuIHIua2V5PT09ZT9yLnZhbHVlOnZvaWQgMH0sZS5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKGUpe2lmKG51bGw9PT1lfHx2b2lkIDA9PT1lKXRocm93IG5ldyBFcnJvcihcIkFyZ3VtZW50IE51bGxcIik7dmFyIHQ9dGhpcy5sTyhlKTtpZigtMT09PXQpdGhyb3cgbmV3IEVycm9yKFwiS2V5IE5vdCBGb3VuZFwiKTt0aGlzLnVPLnNwbGljZSh0LDEpfSxlLnByb3RvdHlwZS5uTz1mdW5jdGlvbihlKXtpZihudWxsPT09ZXx8dm9pZCAwPT09ZSl0aHJvdyBuZXcgRXJyb3IoXCJBcmd1bWVudCBOdWxsXCIpO3JldHVybi0xIT09dGhpcy5sTyhlKX0sZX0oKTtyLnRPPW59LHt9XSw0OltmdW5jdGlvbihlLHQscil7dmFyIGk9ZShcIi4vdHlwZV9iaW5kaW5nX3Njb3BlXCIpLG49ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxyKXtpZih0aGlzLnJPPWUsdGhpcy5hTz10LHRoaXMuc0M9bnVsbCx2b2lkIDA9PT1yKXRoaXMuc2NvcGU9aS4kQS5wTztlbHNle2lmKCFpLiRBW3JdKXt2YXIgbj1cIkludmFsaWQgc2NvcGUgdHlwZSBcIityO3Rocm93IG5ldyBFcnJvcihuKX10aGlzLnNjb3BlPXJ9fXJldHVybiBlfSgpO3IuWkE9bn0se1wiLi90eXBlX2JpbmRpbmdfc2NvcGVcIjo1fV0sNTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBpOyFmdW5jdGlvbihlKXtlW2UucE89MF09XCJUcmFuc2llbnRcIixlW2Uuc089MV09XCJTaW5nbGV0b25cIn0oaXx8KGk9e30pKSxyLiRBPWl9LHt9XX0se30sWzFdKSgxKX0pfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk7IWZ1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZX0oKTt0LkxvZ2dlclRpbWVzdGFtcD0hMCxlLkZyYW1ld29yaz10O3ZhciByPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZX0oKTtyLk1ldHJpY1NuYXBzaG90TG9ncz0wLHIuVHJhY2tTbmFwc2hvdExvZ3M9MCxlLkRlYnVnTG9ncz1yfShpPXQuSGl2ZUNvbmZpZ3x8KHQuSGl2ZUNvbmZpZz17fSkpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJih2b2lkIDA9PT13aW5kb3cuSGl2ZUNvbmZpZyYmKHdpbmRvdy5IaXZlQ29uZmlnPXt9KSx3aW5kb3cuSGl2ZUNvbmZpZy5GcmFtZXdvcms9aS5GcmFtZXdvcmssd2luZG93LkhpdmVDb25maWcuRGVidWdMb2dzPWkuRGVidWdMb2dzKX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZX0oKTtpLmRPPVwiMTI3LjAuMC4xXCIsaS52cD04OTk5LGkuRXA9ODk5OCxpLmdwPTg4OTksaS5kcD04ODk4LGkuZk89XCIvL3swfTp7MX0vP2NhbGxiYWNrPXsyfXszfWhpdmVQbHVnaW5JZD17NH1cIixpLmdPPVwiLy97MH06ezF9Lz9jYWxsYmFjaz17Mn1cIixpLnlwPSEwLGkuRU89LygoaHR0cHxodHRwcyk6XFwvXFwvKC4qKTooWzAtOV0qKVxcLyhbMC05YS16LV0qKS5pc21cXC8pKC4qKS8saS52Tz1cIjIwMTMuMS4xXCIsaS55Tz1cIjIwMTguMVwiLHQuZnA9aX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuY291bnQ9MH1yZXR1cm4gZS5wcm90b3R5cGUubmV4dD1mdW5jdGlvbigpe3JldHVybisrdGhpcy5jb3VudH0sZX0oKTt0LkNvdW50ZXI9aTt2YXIgbj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLnJlc2V0KCl9cmV0dXJuIGUucHJvdG90eXBlLmFkZD1mdW5jdGlvbihlKXtlPD0wfHwodGhpcy5UTys9ZSx0aGlzLm1PKyssZT50aGlzLklPJiYodGhpcy5JTz1lKSxlPHRoaXMuU08mJih0aGlzLlNPPWUpKX0sZS5wcm90b3R5cGUubWluPWZ1bmN0aW9uKGUpe3ZvaWQgMD09PWUmJihlPSEwKTt2YXIgdD10aGlzLlNPPT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk/MDp0aGlzLlNPO3JldHVybiBlJiZ0aGlzLnJlc2V0KCksdH0sZS5wcm90b3R5cGUubWF4PWZ1bmN0aW9uKGUpe3ZvaWQgMD09PWUmJihlPSEwKTt2YXIgdD10aGlzLklPPT1OdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFk/MDp0aGlzLklPO3JldHVybiBlJiZ0aGlzLnJlc2V0KCksdH0sZS5wcm90b3R5cGUuTmM9ZnVuY3Rpb24oZSl7dm9pZCAwPT09ZSYmKGU9ITApO3ZhciB0PXRoaXMuVE87cmV0dXJuIGUmJnRoaXMucmVzZXQoKSx0fSxlLnByb3RvdHlwZS5lYz1mdW5jdGlvbihlKXt2b2lkIDA9PT1lJiYoZT0hMCk7dmFyIHQ9dGhpcy5tTz4wP3RoaXMuVE8vdGhpcy5tTzowO3JldHVybiBlJiZ0aGlzLnJlc2V0KCksdH0sZS5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLlNPPU51bWJlci5QT1NJVElWRV9JTkZJTklUWSx0aGlzLklPPU51bWJlci5ORUdBVElWRV9JTkZJTklUWSx0aGlzLlRPPTAsdGhpcy5tTz0wfSxlfSgpO3QuUk89bn0sZnVuY3Rpb24oZSx0LHIpe3ZhciBpOyFmdW5jdGlvbihuLHMpe1widXNlIHN0cmljdFwiO3ZhciBvPVwibW9kZWxcIixhPVwibmFtZVwiLGg9XCJ0eXBlXCIsYz1cInZlbmRvclwiLHU9XCJ2ZXJzaW9uXCIsbD1cIm1vYmlsZVwiLHA9XCJ0YWJsZXRcIixkPXtleHRlbmQ6ZnVuY3Rpb24oZSx0KXt2YXIgcj17fTtmb3IodmFyIGkgaW4gZSl0W2ldJiZ0W2ldLmxlbmd0aCUyPT0wP3JbaV09dFtpXS5jb25jYXQoZVtpXSk6cltpXT1lW2ldO3JldHVybiByfSxoYXM6ZnVuY3Rpb24oZSx0KXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZSYmLTEhPT10LnRvTG93ZXJDYXNlKCkuaW5kZXhPZihlLnRvTG93ZXJDYXNlKCkpfSx3TzpmdW5jdGlvbihlKXtyZXR1cm4gZS50b0xvd2VyQ2FzZSgpfSxiTzpmdW5jdGlvbihlKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZT9lLnJlcGxhY2UoL1teXFxkXFwuXS9nLFwiXCIpLnNwbGl0KFwiLlwiKVswXTp2b2lkIDB9LHRyaW06ZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVwbGFjZSgvXltcXHNcXHVGRUZGXFx4QTBdK3xbXFxzXFx1RkVGRlxceEEwXSskL2csXCJcIil9fSxmPXtDTzpmdW5jdGlvbigpe2Zvcih2YXIgZSx0LHIsaSxuLHMsbyxhPTAsaD1hcmd1bWVudHM7YTxoLmxlbmd0aCYmIXM7KXt2YXIgYz1oW2FdLHU9aFthKzFdO2lmKHZvaWQgMD09PWUpe2U9e307Zm9yKGkgaW4gdSl1Lmhhc093blByb3BlcnR5KGkpJiYobj11W2ldLFwib2JqZWN0XCI9PXR5cGVvZiBuP2VbblswXV09dm9pZCAwOmVbbl09dm9pZCAwKX1mb3IodD1yPTA7dDxjLmxlbmd0aCYmIXM7KWlmKHM9Y1t0KytdLmV4ZWModGhpcy5fTygpKSlmb3IoaT0wO2k8dS5sZW5ndGg7aSsrKW89c1srK3JdLG49dVtpXSxcIm9iamVjdFwiPT10eXBlb2YgbiYmbi5sZW5ndGg+MD8yPT1uLmxlbmd0aD9cImZ1bmN0aW9uXCI9PXR5cGVvZiBuWzFdP2VbblswXV09blsxXS5jYWxsKHRoaXMsbyk6ZVtuWzBdXT1uWzFdOjM9PW4ubGVuZ3RoP1wiZnVuY3Rpb25cIiE9dHlwZW9mIG5bMV18fG5bMV0uZXhlYyYmblsxXS50ZXN0P2VbblswXV09bz9vLnJlcGxhY2UoblsxXSxuWzJdKTp2b2lkIDA6ZVtuWzBdXT1vP25bMV0uY2FsbCh0aGlzLG8sblsyXSk6dm9pZCAwOjQ9PW4ubGVuZ3RoJiYoZVtuWzBdXT1vP25bM10uY2FsbCh0aGlzLG8ucmVwbGFjZShuWzFdLG5bMl0pKTp2b2lkIDApOmVbbl09b3x8dm9pZCAwO2ErPTJ9cmV0dXJuIGV9LHN0cjpmdW5jdGlvbihlLHQpe2Zvcih2YXIgciBpbiB0KWlmKFwib2JqZWN0XCI9PXR5cGVvZiB0W3JdJiZ0W3JdLmxlbmd0aD4wKXtmb3IodmFyIGk9MDtpPHRbcl0ubGVuZ3RoO2krKylpZihkLmhhcyh0W3JdW2ldLGUpKXJldHVyblwiP1wiPT09cj92b2lkIDA6cn1lbHNlIGlmKGQuaGFzKHRbcl0sZSkpcmV0dXJuXCI/XCI9PT1yP3ZvaWQgMDpyO3JldHVybiBlfX0sZz17UXU6e1BPOnt2ZXJzaW9uOntcIjEuMFwiOlwiLzhcIiwxLjI6XCIvMVwiLDEuMzpcIi8zXCIsXCIyLjBcIjpcIi80MTJcIixcIjIuMC4yXCI6XCIvNDE2XCIsXCIyLjAuM1wiOlwiLzQxN1wiLFwiMi4wLjRcIjpcIi80MTlcIixRUjpcIi9cIn19fSxBTzp7T086e05POntETzpbXCJTRFwiLFwiS0ZcIl19fSxrTzp7Tk86e0xPOlwiNzM3M0tUXCJ9LHZlbmRvcjp7TU86XCJBUEFcIixGTzpcIlNwcmludFwifX19LG9zOntVTzp7dmVyc2lvbjp7Qk86XCI0LjkwXCIsXCJOVCAzLjExXCI6XCJOVDMuNTFcIixcIk5UIDQuMFwiOlwiTlQ0LjBcIiwyMDAwOlwiTlQgNS4wXCIsSE86W1wiTlQgNS4xXCIsXCJOVCA1LjJcIl0seE86XCJOVCA2LjBcIiw3OlwiTlQgNi4xXCIsODpcIk5UIDYuMlwiLDguMTpcIk5UIDYuM1wiLDEwOltcIk5UIDYuNFwiLFwiTlQgMTAuMFwiXSxxTzpcIkFSTVwifX19fSxFPXtRdTpbWy8ob3BlcmFcXHNtaW5pKVxcLyhbXFx3XFwuLV0rKS9pLC8ob3BlcmFcXHNbbW9iaWxldGFiXSspLit2ZXJzaW9uXFwvKFtcXHdcXC4tXSspL2ksLyhvcGVyYSkuK3ZlcnNpb25cXC8oW1xcd1xcLl0rKS9pLC8ob3BlcmEpW1xcL1xcc10rKFtcXHdcXC5dKykvaV0sW2EsdV0sWy8ob3Bpb3MpW1xcL1xcc10rKFtcXHdcXC5dKykvaV0sW1thLFwiT3BlcmEgTWluaVwiXSx1XSxbL1xccyhvcHIpXFwvKFtcXHdcXC5dKykvaV0sW1thLFwiT3BlcmFcIl0sdV0sWy8oa2luZGxlKVxcLyhbXFx3XFwuXSspL2ksLyhsdW5hc2NhcGV8bWF4dGhvbnxuZXRmcm9udHxqYXNtaW5lfGJsYXplcilbXFwvXFxzXT8oW1xcd1xcLl0rKSovaSwvKGF2YW50XFxzfGllbW9iaWxlfHNsaW18YmFpZHUpKD86YnJvd3Nlcik/W1xcL1xcc10/KFtcXHdcXC5dKikvaSwvKD86bXN8XFwoKShpZSlcXHMoW1xcd1xcLl0rKS9pLC8ocmVrb25xKVxcLyhbXFx3XFwuXSspKi9pLC8oY2hyb21pdW18ZmxvY2t8cm9ja21lbHR8bWlkb3JpfGVwaXBoYW55fHNpbGt8c2t5ZmlyZXxvdmlicm93c2VyfGJvbHR8aXJvbnx2aXZhbGRpfGlyaWRpdW18cGhhbnRvbWpzKVxcLyhbXFx3XFwuLV0rKS9pXSxbYSx1XSxbLyh0cmlkZW50KS4rcnZbOlxcc10oW1xcd1xcLl0rKS4rbGlrZVxcc2dlY2tvL2ldLFtbYSxcIklFXCJdLHVdLFsvKGVkZ2UpXFwvKChcXGQrKT9bXFx3XFwuXSspL2ldLFthLHVdLFsvKHlhYnJvd3NlcilcXC8oW1xcd1xcLl0rKS9pXSxbW2EsXCJZYW5kZXhcIl0sdV0sWy8oY29tb2RvX2RyYWdvbilcXC8oW1xcd1xcLl0rKS9pXSxbW2EsL18vZyxcIiBcIl0sdV0sWy8obWljcm9tZXNzZW5nZXIpXFwvKFtcXHdcXC5dKykvaV0sW1thLFwiV2VDaGF0XCJdLHVdLFsveGlhb21pXFwvbWl1aWJyb3dzZXJcXC8oW1xcd1xcLl0rKS9pXSxbdSxbYSxcIk1JVUkgQnJvd3NlclwiXV0sWy9cXHN3dlxcKS4rKGNocm9tZSlcXC8oW1xcd1xcLl0rKS9pXSxbW2EsLyguKykvLFwiJDEgV2ViVmlld1wiXSx1XSxbL2FuZHJvaWQuK3NhbXN1bmdicm93c2VyXFwvKFtcXHdcXC5dKykvaSwvYW5kcm9pZC4rdmVyc2lvblxcLyhbXFx3XFwuXSspXFxzKyg/Om1vYmlsZVxccz9zYWZhcml8c2FmYXJpKSovaV0sW3UsW2EsXCJBbmRyb2lkIEJyb3dzZXJcIl1dLFsvKGNocm9tZXxvbW5pd2VifGFyb3JhfFt0aXplbm9rYV17NX1cXHM/YnJvd3NlcilcXC92PyhbXFx3XFwuXSspL2ksLyhxcWJyb3dzZXIpW1xcL1xcc10/KFtcXHdcXC5dKykvaV0sW2EsdV0sWy8odWNcXHM/YnJvd3NlcilbXFwvXFxzXT8oW1xcd1xcLl0rKS9pLC91Y3dlYi4rKHVjYnJvd3NlcilbXFwvXFxzXT8oW1xcd1xcLl0rKS9pLC9qdWMuKyh1Y3dlYilbXFwvXFxzXT8oW1xcd1xcLl0rKS9pXSxbW2EsXCJVQ0Jyb3dzZXJcIl0sdV0sWy8oZG9sZmluKVxcLyhbXFx3XFwuXSspL2ldLFtbYSxcIkRvbHBoaW5cIl0sdV0sWy8oKD86YW5kcm9pZC4rKWNybW98Y3Jpb3MpXFwvKFtcXHdcXC5dKykvaV0sW1thLFwiQ2hyb21lXCJdLHVdLFsvO2ZiYXZcXC8oW1xcd1xcLl0rKTsvaV0sW3UsW2EsXCJGYWNlYm9va1wiXV0sWy9meGlvc1xcLyhbXFx3XFwuLV0rKS9pXSxbdSxbYSxcIkZpcmVmb3hcIl1dLFsvdmVyc2lvblxcLyhbXFx3XFwuXSspLis/bW9iaWxlXFwvXFx3K1xccyhzYWZhcmkpL2ldLFt1LFthLFwiTW9iaWxlIFNhZmFyaVwiXV0sWy92ZXJzaW9uXFwvKFtcXHdcXC5dKykuKz8obW9iaWxlXFxzP3NhZmFyaXxzYWZhcmkpL2ldLFt1LGFdLFsvd2Via2l0Lis/KG1vYmlsZVxccz9zYWZhcml8c2FmYXJpKShcXC9bXFx3XFwuXSspL2ldLFthLFt1LGYuc3RyLGcuUXUuUE8udmVyc2lvbl1dLFsvKGtvbnF1ZXJvcilcXC8oW1xcd1xcLl0rKS9pLC8od2Via2l0fGtodG1sKVxcLyhbXFx3XFwuXSspL2ldLFthLHVdLFsvKG5hdmlnYXRvcnxuZXRzY2FwZSlcXC8oW1xcd1xcLi1dKykvaV0sW1thLFwiTmV0c2NhcGVcIl0sdV0sWy8oc3dpZnRmb3gpL2ksLyhpY2VkcmFnb258aWNld2Vhc2VsfGNhbWlub3xjaGltZXJhfGZlbm5lY3xtYWVtb1xcc2Jyb3dzZXJ8bWluaW1vfGNvbmtlcm9yKVtcXC9cXHNdPyhbXFx3XFwuXFwrXSspL2ksLyhmaXJlZm94fHNlYW1vbmtleXxrLW1lbGVvbnxpY2VjYXR8aWNlYXBlfGZpcmViaXJkfHBob2VuaXgpXFwvKFtcXHdcXC4tXSspL2ksLyhtb3ppbGxhKVxcLyhbXFx3XFwuXSspLitydlxcOi4rZ2Vja29cXC9cXGQrL2ksLyhwb2xhcmlzfGx5bnh8ZGlsbG98aWNhYnxkb3Jpc3xhbWF5YXx3M218bmV0c3VyZnxzbGVpcG5pcilbXFwvXFxzXT8oW1xcd1xcLl0rKS9pLC8obGlua3MpXFxzXFwoKFtcXHdcXC5dKykvaSwvKGdvYnJvd3NlcilcXC8/KFtcXHdcXC5dKykqL2ksLyhpY2VcXHM/YnJvd3NlcilcXC92PyhbXFx3XFwuX10rKS9pLC8obW9zYWljKVtcXC9cXHNdKFtcXHdcXC5dKykvaV0sW2EsdV1dLEdPOltbLyg/OihhbWR8eCg/Oig/Ojg2fDY0KVtfLV0pP3x3b3d8d2luKTY0KVs7XFwpXS9pXSxbW1wiYXJjaGl0ZWN0dXJlXCIsXCJhbWQ2NFwiXV0sWy8oaWEzMig/PTspKS9pXSxbW1wiYXJjaGl0ZWN0dXJlXCIsZC53T11dLFsvKCg/OmlbMzQ2XXx4KTg2KVs7XFwpXS9pXSxbW1wiYXJjaGl0ZWN0dXJlXCIsXCJpYTMyXCJdXSxbL3dpbmRvd3NcXHMoY2V8bW9iaWxlKTtcXHNwcGM7L2ldLFtbXCJhcmNoaXRlY3R1cmVcIixcImFybVwiXV0sWy8oKD86cHBjfHBvd2VycGMpKD86NjQpPykoPzpcXHNtYWN8O3xcXCkpL2ldLFtbXCJhcmNoaXRlY3R1cmVcIiwvb3dlci8sXCJcIixkLndPXV0sWy8oc3VuNFxcdylbO1xcKV0vaV0sW1tcImFyY2hpdGVjdHVyZVwiLFwic3BhcmNcIl1dLFsvKCg/OmF2cjMyfGlhNjQoPz07KSl8NjhrKD89XFwpKXxhcm0oPzo2NHwoPz12XFxkKzspKXwoPz1hdG1lbFxccylhdnJ8KD86aXJpeHxtaXBzfHNwYXJjKSg/OjY0KT8oPz07KXxwYS1yaXNjKS9pXSxbW1wiYXJjaGl0ZWN0dXJlXCIsZC53T11dXSxBTzpbWy9cXCgoaXBhZHxwbGF5Ym9vayk7W1xcd1xcc1xcKTstXSsocmltfGFwcGxlKS9pXSxbbyxjLFtoLHBdXSxbL2FwcGxlY29yZW1lZGlhXFwvW1xcd1xcLl0rIFxcKChpcGFkKS9dLFtvLFtjLFwiQXBwbGVcIl0sW2gscF1dLFsvKGFwcGxlXFxzezAsMX10dikvaV0sW1tvLFwiQXBwbGUgVFZcIl0sW2MsXCJBcHBsZVwiXV0sWy8oYXJjaG9zKVxccyhnYW1lcGFkMj8pL2ksLyhocCkuKyh0b3VjaHBhZCkvaSwvKGhwKS4rKHRhYmxldCkvaSwvKGtpbmRsZSlcXC8oW1xcd1xcLl0rKS9pLC9cXHMobm9vaylbXFx3XFxzXStidWlsZFxcLyhcXHcrKS9pLC8oZGVsbClcXHMoc3RyZWFba3ByXFxzXFxkXSpbXFxka29dKS9pXSxbYyxvLFtoLHBdXSxbLyhrZltBLXpdKylcXHNidWlsZFxcL1tcXHdcXC5dKy4qc2lsa1xcLy9pXSxbbyxbYyxcIkFtYXpvblwiXSxbaCxwXV0sWy8oc2R8a2YpWzAzNDloaWpvcnN0dXddK1xcc2J1aWxkXFwvW1xcd1xcLl0rLipzaWxrXFwvL2ldLFtbbyxmLnN0cixnLkFPLk9PLk5PXSxbYyxcIkFtYXpvblwiXSxbaCxsXV0sWy9cXCgoaXBbaG9uZWR8XFxzXFx3Kl0rKTsuKyhhcHBsZSkvaV0sW28sYyxbaCxsXV0sWy9cXCgoaXBbaG9uZWR8XFxzXFx3Kl0rKTsvaV0sW28sW2MsXCJBcHBsZVwiXSxbaCxsXV0sWy8oYmxhY2tiZXJyeSlbXFxzLV0/KFxcdyspL2ksLyhibGFja2JlcnJ5fGJlbnF8cGFsbSg/PVxcLSl8c29ueWVyaWNzc29ufGFjZXJ8YXN1c3xkZWxsfGh1YXdlaXxtZWl6dXxtb3Rvcm9sYXxwb2x5dHJvbilbXFxzXy1dPyhbXFx3LV0rKSovaSwvKGhwKVxccyhbXFx3XFxzXStcXHcpL2ksLyhhc3VzKS0/KFxcdyspL2ldLFtjLG8sW2gsbF1dLFsvXFwoYmIxMDtcXHMoXFx3KykvaV0sW28sW2MsXCJCbGFja0JlcnJ5XCJdLFtoLGxdXSxbL2FuZHJvaWQuKyh0cmFuc2ZvW3ByaW1lXFxzXXs0LDEwfVxcc1xcdyt8ZWVlcGN8c2xpZGVyXFxzXFx3K3xuZXh1cyA3fHBhZGZvbmUpL2ldLFtvLFtjLFwiQXN1c1wiXSxbaCxwXV0sWy8oc29ueSlcXHModGFibGV0XFxzW3BzXSlcXHNidWlsZFxcLy9pLC8oc29ueSk/KD86c2dwLispXFxzYnVpbGRcXC8vaV0sW1tjLFwiU29ueVwiXSxbbyxcIlhwZXJpYSBUYWJsZXRcIl0sW2gscF1dLFsvKD86c29ueSk/KD86KD86KD86Y3xkKVxcZHs0fSl8KD86c29bLWxdLispKVxcc2J1aWxkXFwvL2ldLFtbYyxcIlNvbnlcIl0sW28sXCJYcGVyaWEgUGhvbmVcIl0sW2gsbF1dLFsvXFxzKG91eWEpXFxzL2ksLyhuaW50ZW5kbylcXHMoW3dpZHMzdV0rKS9pXSxbYyxvLFtoLFwiY29uc29sZVwiXV0sWy9hbmRyb2lkLis7XFxzKHNoaWVsZClcXHNidWlsZC9pXSxbbyxbYyxcIk52aWRpYVwiXSxbaCxcImNvbnNvbGVcIl1dLFsvKHBsYXlzdGF0aW9uXFxzWzM0cG9ydGFibGV2aV0rKS9pXSxbbyxbYyxcIlNvbnlcIl0sW2gsXCJjb25zb2xlXCJdXSxbLyhzcHJpbnRcXHMoXFx3KykpL2ldLFtbYyxmLnN0cixnLkFPLmtPLnZlbmRvcl0sW28sZi5zdHIsZy5BTy5rTy5OT10sW2gsbF1dLFsvKGxlbm92bylcXHM/KFMoPzo1MDAwfDYwMDApKyg/OlstXVtcXHcrXSkpL2ldLFtjLG8sW2gscF1dLFsvKGh0YylbO19cXHMtXSsoW1xcd1xcc10rKD89XFwpKXxcXHcrKSovaSwvKHp0ZSktKFxcdyspKi9pLC8oYWxjYXRlbHxnZWVrc3Bob25lfGh1YXdlaXxsZW5vdm98bmV4aWFufHBhbmFzb25pY3woPz07XFxzKXNvbnkpW19cXHMtXT8oW1xcdy1dKykqL2ldLFtjLFtvLC9fL2csXCIgXCJdLFtoLGxdXSxbLyhuZXh1c1xcczkpL2ldLFtvLFtjLFwiSFRDXCJdLFtoLHBdXSxbLyhuZXh1c1xcczZwKS9pXSxbbyxbYyxcIkh1YXdlaVwiXSxbaCxsXV0sWy8obWljcm9zb2Z0KTtcXHMobHVtaWFbXFxzXFx3XSspL2ldLFtjLG8sW2gsbF1dLFsvW1xcc1xcKDtdKHhib3goPzpcXHNvbmUpPylbXFxzXFwpO10vaV0sW28sW2MsXCJNaWNyb3NvZnRcIl0sW2gsXCJjb25zb2xlXCJdXSxbLyhraW5cXC5bb25ldHddezN9KS9pXSxbW28sL1xcLi9nLFwiIFwiXSxbYyxcIk1pY3Jvc29mdFwiXSxbaCxsXV0sWy9cXHMobWlsZXN0b25lfGRyb2lkKD86WzItNHhdfFxccyg/OmJpb25pY3x4Mnxwcm98cmF6cikpPyg6P1xcczRnKT8pW1xcd1xcc10rYnVpbGRcXC8vaSwvbW90W1xccy1dPyhcXHcrKSovaSwvKFhUXFxkezMsNH0pIGJ1aWxkXFwvL2ksLyhuZXh1c1xcczYpL2ldLFtvLFtjLFwiTW90b3JvbGFcIl0sW2gsbF1dLFsvYW5kcm9pZC4rXFxzKG16NjBcXGR8eG9vbVtcXHMyXXswLDJ9KVxcc2J1aWxkXFwvL2ldLFtvLFtjLFwiTW90b3JvbGFcIl0sW2gscF1dLFsvaGJidHZcXC9cXGQrXFwuXFxkK1xcLlxcZCtcXHMrXFwoW1xcd1xcc10qO1xccyooXFx3W147XSopOyhbXjtdKikvaV0sW1tjLGQudHJpbV0sW28sZC50cmltXSxbaCxcInNtYXJ0dHZcIl1dLFsvaGJidHYuK21hcGxlOyhcXGQrKS9pXSxbW28sL14vLFwiU21hcnRUVlwiXSxbYyxcIlNhbXN1bmdcIl0sW2gsXCJzbWFydHR2XCJdXSxbL1xcKGR0dltcXCk7XS4rKGFxdW9zKS9pXSxbbyxbYyxcIlNoYXJwXCJdLFtoLFwic21hcnR0dlwiXV0sWy9hbmRyb2lkLisoKHNjaC1pWzg5XTBcXGR8c2h3LW0zODBzfGd0LXBcXGR7NH18Z3QtblxcZCt8c2doLXQ4WzU2XTl8bmV4dXMgMTApKS9pLC8oKFNNLVRcXHcrKSkvaV0sW1tjLFwiU2Ftc3VuZ1wiXSxvLFtoLHBdXSxbL3NtYXJ0LXR2Lisoc2Ftc3VuZykvaV0sW2MsW2gsXCJzbWFydHR2XCJdLG9dLFsvKChzW2NncF1oLVxcdyt8Z3QtXFx3K3xnYWxheHlcXHNuZXh1c3xzbS1cXHdbXFx3XFxkXSspKS9pLC8oc2FtW3N1bmddKilbXFxzLV0qKFxcdystP1tcXHctXSopKi9pLC9zZWMtKChzZ2hcXHcrKSkvaV0sW1tjLFwiU2Ftc3VuZ1wiXSxvLFtoLGxdXSxbL3NpZS0oXFx3KykqL2ldLFtvLFtjLFwiU2llbWVuc1wiXSxbaCxsXV0sWy8obWFlbW98bm9raWEpLioobjkwMHxsdW1pYVxcc1xcZCspL2ksLyhub2tpYSlbXFxzXy1dPyhbXFx3LV0rKSovaV0sW1tjLFwiTm9raWFcIl0sbyxbaCxsXV0sWy9hbmRyb2lkXFxzM1xcLltcXHNcXHc7LV17MTB9KGFcXGR7M30pL2ldLFtvLFtjLFwiQWNlclwiXSxbaCxwXV0sWy9hbmRyb2lkXFxzM1xcLltcXHNcXHc7LV17MTB9KGxnPyktKFswNmN2OV17Myw0fSkvaV0sW1tjLFwiTEdcIl0sbyxbaCxwXV0sWy8obGcpIG5ldGNhc3RcXC50di9pXSxbYyxvLFtoLFwic21hcnR0dlwiXV0sWy8obmV4dXNcXHNbNDVdKS9pLC9sZ1tlO1xcc1xcLy1dKyhcXHcrKSovaV0sW28sW2MsXCJMR1wiXSxbaCxsXV0sWy9hbmRyb2lkLisoaWRlYXRhYlthLXowLTlcXC1cXHNdKykvaV0sW28sW2MsXCJMZW5vdm9cIl0sW2gscF1dLFsvbGludXg7LisoKGpvbGxhKSk7L2ldLFtjLG8sW2gsbF1dLFsvKChwZWJibGUpKWFwcFxcL1tcXGRcXC5dK1xccy9pXSxbYyxvLFtoLFwid2VhcmFibGVcIl1dLFsvYW5kcm9pZC4rO1xccyhnbGFzcylcXHNcXGQvaV0sW28sW2MsXCJHb29nbGVcIl0sW2gsXCJ3ZWFyYWJsZVwiXV0sWy9hbmRyb2lkLisoXFx3KylcXHMrYnVpbGRcXC9obVxcMS9pLC9hbmRyb2lkLisoaG1bXFxzXFwtX10qbm90ZT9bXFxzX10qKD86XFxkXFx3KT8pXFxzK2J1aWxkL2ksL2FuZHJvaWQuKyhtaVtcXHNcXC1fXSooPzpvbmV8b25lW1xcc19dcGx1c3xub3RlIGx0ZSk/W1xcc19dKig/OlxcZFxcdyk/KVxccytidWlsZC9pXSxbW28sL18vZyxcIiBcIl0sW2MsXCJYaWFvbWlcIl0sW2gsbF1dLFsvYW5kcm9pZC4rYTAwMCgxKVxccytidWlsZC9pXSxbbyxbYyxcIk9uZVBsdXNcIl0sW2gsbF1dLFsvXFxzKHRhYmxldClbO1xcL10vaSwvXFxzKG1vYmlsZSkoPzpbO1xcL118XFxzc2FmYXJpKS9pXSxbW2gsZC53T10sYyxvXV0sZW5naW5lOltbL3dpbmRvd3MuK1xcc2VkZ2VcXC8oW1xcd1xcLl0rKS9pXSxbdSxbYSxcIkVkZ2VIVE1MXCJdXSxbLyhwcmVzdG8pXFwvKFtcXHdcXC5dKykvaSwvKHdlYmtpdHx0cmlkZW50fG5ldGZyb250fG5ldHN1cmZ8YW1heWF8bHlueHx3M20pXFwvKFtcXHdcXC5dKykvaSwvKGtodG1sfHRhc21hbnxsaW5rcylbXFwvXFxzXVxcKD8oW1xcd1xcLl0rKS9pLC8oaWNhYilbXFwvXFxzXShbMjNdXFwuW1xcZFxcLl0rKS9pXSxbYSx1XSxbL3J2XFw6KFtcXHdcXC5dKykuKihnZWNrbykvaV0sW3UsYV1dLG9zOltbL21pY3Jvc29mdFxccyh3aW5kb3dzKVxccyh2aXN0YXx4cCkvaV0sW2EsdV0sWy8od2luZG93cylcXHNudFxcczZcXC4yO1xccyhhcm0pL2ksLyh3aW5kb3dzXFxzcGhvbmUoPzpcXHNvcykqKVtcXHNcXC9dPyhbXFxkXFwuXFxzXStcXHcpKi9pLC8od2luZG93c1xcc21vYmlsZXx3aW5kb3dzKVtcXHNcXC9dPyhbbnRjZVxcZFxcLlxcc10rXFx3KS9pXSxbYSxbdSxmLnN0cixnLm9zLlVPLnZlcnNpb25dXSxbLyh3aW4oPz0zfDl8bil8d2luXFxzOXhcXHMpKFtudFxcZFxcLl0rKS9pXSxbW2EsXCJXaW5kb3dzXCJdLFt1LGYuc3RyLGcub3MuVU8udmVyc2lvbl1dLFsvXFwoKGJiKSgxMCk7L2ldLFtbYSxcIkJsYWNrQmVycnlcIl0sdV0sWy8oYmxhY2tiZXJyeSlcXHcqXFwvPyhbXFx3XFwuXSspKi9pLC8odGl6ZW4pW1xcL1xcc10oW1xcd1xcLl0rKS9pLC8oYW5kcm9pZHx3ZWJvc3xwYWxtXFxzb3N8cW54fGJhZGF8cmltXFxzdGFibGV0XFxzb3N8bWVlZ298Y29udGlraSlbXFwvXFxzLV0/KFtcXHdcXC5dKykqL2ksL2xpbnV4Oy4rKHNhaWxmaXNoKTsvaV0sW2EsdV0sWy8oc3ltYmlhblxccz9vc3xzeW1ib3N8czYwKD89OykpW1xcL1xccy1dPyhbXFx3XFwuXSspKi9pXSxbW2EsXCJTeW1iaWFuXCJdLHVdLFsvXFwoKHNlcmllczQwKTsvaV0sW2FdLFsvbW96aWxsYS4rXFwobW9iaWxlOy4rZ2Vja28uK2ZpcmVmb3gvaV0sW1thLFwiRmlyZWZveCBPU1wiXSx1XSxbLyhuaW50ZW5kb3xwbGF5c3RhdGlvbilcXHMoW3dpZHMzNHBvcnRhYmxldnVdKykvaSwvKG1pbnQpW1xcL1xcc1xcKF0/KFxcdyspKi9pLC8obWFnZWlhfHZlY3RvcmxpbnV4KVs7XFxzXS9pLC8oam9saXxba3hsbl0/dWJ1bnR1fGRlYmlhbnxbb3Blbl0qc3VzZXxnZW50b298KD89XFxzKWFyY2h8c2xhY2t3YXJlfGZlZG9yYXxtYW5kcml2YXxjZW50b3N8cGNsaW51eG9zfHJlZGhhdHx6ZW53YWxrfGxpbnB1cylbXFwvXFxzLV0/KD8hY2hyb20pKFtcXHdcXC4tXSspKi9pLC8oaHVyZHxsaW51eClcXHM/KFtcXHdcXC5dKykqL2ksLyhnbnUpXFxzPyhbXFx3XFwuXSspKi9pXSxbYSx1XSxbLyhjcm9zKVxcc1tcXHddK1xccyhbXFx3XFwuXStcXHcpL2ldLFtbYSxcIkNocm9taXVtIE9TXCJdLHVdLFsvKHN1bm9zKVxccz8oW1xcd1xcLl0rXFxkKSovaV0sW1thLFwiU29sYXJpc1wiXSx1XSxbL1xccyhbZnJlbnRvcGMtXXswLDR9YnNkfGRyYWdvbmZseSlcXHM/KFtcXHdcXC5dKykqL2ldLFthLHVdLFsvKGhhaWt1KVxccyhcXHcrKS9pXSxbYSx1XSxbLyhpcFtob25lYWRdKykoPzouKm9zXFxzKFtcXHddKykqXFxzbGlrZVxcc21hY3w7XFxzb3BlcmEpL2ldLFtbYSxcImlPU1wiXSxbdSwvXy9nLFwiLlwiXV0sWy8obWFjXFxzb3NcXHN4KVxccz8oW1xcd1xcc1xcLl0rXFx3KSovaSwvKG1hY2ludG9zaHxtYWMoPz1fcG93ZXJwYylcXHMpL2ldLFtbYSxcIk1hYyBPU1wiXSxbdSwvXy9nLFwiLlwiXV0sWy8oKD86b3Blbik/c29sYXJpcylbXFwvXFxzLV0/KFtcXHdcXC5dKykqL2ksLyhhaXgpXFxzKChcXGQpKD89XFwufFxcKXxcXHMpW1xcd1xcLl0qKSovaSwvKHBsYW5cXHM5fG1pbml4fGJlb3N8b3NcXC8yfGFtaWdhb3N8bW9ycGhvc3xyaXNjXFxzb3N8b3BlbnZtcykvaSwvKHVuaXgpXFxzPyhbXFx3XFwuXSspKi9pXSxbYSx1XV19LHY9ZnVuY3Rpb24oZSx0KXtpZighKHRoaXMgaW5zdGFuY2VvZiB2KSlyZXR1cm4gbmV3IHYoZSx0KS5WTygpO3ZhciByPWV8fChuJiZuLm5hdmlnYXRvciYmbi5uYXZpZ2F0b3IudXNlckFnZW50P24ubmF2aWdhdG9yLnVzZXJBZ2VudDpcIlwiKSxpPXQ/ZC5leHRlbmQoRSx0KTpFO3JldHVybiB0aGlzLmpPPWZ1bmN0aW9uKCl7dmFyIGU9Zi5DTy5hcHBseSh0aGlzLGkuUXUpO3JldHVybiBlLmJPPWQuYk8oZS52ZXJzaW9uKSxlfSx0aGlzLlFPPWZ1bmN0aW9uKCl7cmV0dXJuIGYuQ08uYXBwbHkodGhpcyxpLkdPKX0sdGhpcy5LTz1mdW5jdGlvbigpe3JldHVybiBmLkNPLmFwcGx5KHRoaXMsaS5BTyl9LHRoaXMuWU89ZnVuY3Rpb24oKXtyZXR1cm4gZi5DTy5hcHBseSh0aGlzLGkuZW5naW5lKX0sdGhpcy5PZD1mdW5jdGlvbigpe3JldHVybiBmLkNPLmFwcGx5KHRoaXMsaS5vcyl9LHRoaXMuVk89ZnVuY3Rpb24oKXtyZXR1cm57c3k6dGhpcy5fTygpLFF1OnRoaXMuak8oKSxlbmdpbmU6dGhpcy5ZTygpLG9zOnRoaXMuT2QoKSxBTzp0aGlzLktPKCksR086dGhpcy5RTygpfX0sdGhpcy5fTz1mdW5jdGlvbigpe3JldHVybiByfSx0aGlzLkFkPWZ1bmN0aW9uKGUpe3JldHVybiByPWUsdGhpc30sdGhpc307di5WRVJTSU9OPVwiMC43LjEyXCIsdi5XTz17ek86YSxKTzpcIm1ham9yXCIsVkVSU0lPTjp1fSx2LlhPPXtaTzpcImFyY2hpdGVjdHVyZVwifSx2LiRPPXtlTjpvLFZFTkRPUjpjLHROOmgsck46XCJjb25zb2xlXCIsaU46bCxuTjpcInNtYXJ0dHZcIixzTjpwLG9OOlwid2VhcmFibGVcIixhTjpcImVtYmVkZGVkXCJ9LHYuaE49e3pPOmEsVkVSU0lPTjp1fSx2LmNOPXt6TzphLFZFUlNJT046dX0sdm9pZCAwIT09dD8odm9pZCAwIT09ZSYmZS5pJiYodD1lLmk9diksdC5QcD12KTpyKDExMCk/dm9pZCAwIT09KGk9ZnVuY3Rpb24oKXtyZXR1cm4gdn0uY2FsbCh0LHIsdCxlKSkmJihlLmk9aSk6bi5QcD12O3ZhciB5PW4udU58fG4ubE47aWYodm9pZCAwIT09eSl7dmFyIFQ9bmV3IHY7eS5zeT1ULlZPKCkseS5zeS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gVC5fTygpfSx5LnN5LnNldD1mdW5jdGlvbihlKXtULkFkKGUpO3ZhciB0PVQuVk8oKTtmb3IodmFyIHIgaW4gdCl5LnN5W3JdPXRbcl19fX0oXCJvYmplY3RcIj09dHlwZW9mIHdpbmRvdz93aW5kb3c6dGhpcyl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1yKDQxKSxuPXIoMyk7IWZ1bmN0aW9uKGUpe3ZhciB0OyFmdW5jdGlvbihlKXtlW2Uub2ZmPTBdPVwib2ZmXCIsZVtlLmVycm9yPTFdPVwiZXJyb3JcIixlW2Uud2Fybj0yXT1cIndhcm5cIixlW2Uubm90aWNlPTNdPVwibm90aWNlXCIsZVtlLmluZm89NF09XCJpbmZvXCIsZVtlLmRlYnVnPTVdPVwiZGVidWdcIixlW2UudHJhY2U9Nl09XCJ0cmFjZVwifSh0PWUucE58fChlLnBOPXt9KSk7dmFyIHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy50aW1lc3RhbXA9ZnVuY3Rpb24oKXt9LHRoaXMuZE49bmV3IG4sdGhpcy5sZXZlbD10LmRlYnVnLHRoaXMudGltZXN0YW1wLnRvU3RyaW5nPWZ1bmN0aW9uKCl7dmFyIGU9bmV3IERhdGU7cmV0dXJuXCJbXCIrKFwiMFwiK2UuZ2V0VVRDSG91cnMoKSkuc2xpY2UoLTIpK1wiOlwiKyhcIjBcIitlLmdldFVUQ01pbnV0ZXMoKSkuc2xpY2UoLTIpK1wiOlwiKyhcIjBcIitlLmdldFVUQ1NlY29uZHMoKSkuc2xpY2UoLTIpK1wiOlwiKyhcIjAwXCIrZS5nZXRVVENNaWxsaXNlY29uZHMoKSkuc2xpY2UoLTMpK1wiXVwifSx0aGlzLmxvZ2dlcj1cInVuZGVmaW5lZFwiPT10eXBlb2YgY29uc29sZT97bG9nOmZ1bmN0aW9uKCl7fX06Y29uc29sZSx0aGlzLmxvZ2dlci50cmFjZXx8KHRoaXMubG9nZ2VyLnRyYWNlPXRoaXMubG9nZ2VyLmxvZyksdGhpcy5sb2dnZXIuZGVidWd8fCh0aGlzLmxvZ2dlci5kZWJ1Zz10aGlzLmxvZ2dlci5sb2cpLHRoaXMubG9nZ2VyLmluZm98fCh0aGlzLmxvZ2dlci5pbmZvPXRoaXMubG9nZ2VyLmxvZyksdGhpcy5sb2dnZXIud2Fybnx8KHRoaXMubG9nZ2VyLndhcm49dGhpcy5sb2dnZXIubG9nKSx0aGlzLmxvZ2dlci5lcnJvcnx8KHRoaXMubG9nZ2VyLmVycm9yPXRoaXMubG9nZ2VyLmxvZyksdGhpcy5mTih0W3RoaXMubGV2ZWxdKX1yZXR1cm4gZS5wcm90b3R5cGUuZk49ZnVuY3Rpb24oZSxyKXtpLkhpdmVDb25maWcuRnJhbWV3b3JrLkhpdmVEZWJ1Z0xldmVsJiZ2b2lkIDAhPXRbaS5IaXZlQ29uZmlnLkZyYW1ld29yay5IaXZlRGVidWdMZXZlbF0/dGhpcy5sZXZlbD10W2kuSGl2ZUNvbmZpZy5GcmFtZXdvcmsuSGl2ZURlYnVnTGV2ZWxdOnZvaWQgMCE9dFtlXT90aGlzLmxldmVsPXRbZV06Y29uc29sZS5sb2coXCJXcm9uZyBsb2dnaW5nIGxldmVsOiBcIitlLHQpLHRoaXMuZ04ocil9LGUucHJvdG90eXBlLmdOPWZ1bmN0aW9uKGUpe3ZhciByPXtsb2c6dGhpcy5FTih0aGlzLmxvZ2dlci5sb2csdC5lcnJvcixlKSxlcnJvcjp0aGlzLkVOKHRoaXMubG9nZ2VyLmVycm9yLHQuZXJyb3IsZSksd2Fybjp0aGlzLkVOKHRoaXMubG9nZ2VyLndhcm4sdC53YXJuLGUpLG5vdGljZTp0aGlzLkVOKHRoaXMubG9nZ2VyLmluZm8sdC5ub3RpY2UsZSksaW5mbzp0aGlzLkVOKHRoaXMubG9nZ2VyLmluZm8sdC5pbmZvLGUpLGRlYnVnOnRoaXMuRU4odGhpcy5sb2dnZXIuZGVidWcsdC5kZWJ1ZyxlKSx0cmFjZTp0aGlzLkVOKHRoaXMubG9nZ2VyLnRyYWNlLHQudHJhY2UsZSl9O2U/dGhpcy5kTi5zZXQoZSxyKTp0aGlzLnZOPXJ9LGUucHJvdG90eXBlLkVOPWZ1bmN0aW9uKGUsdCxyKXtpZighKHRoaXMubGV2ZWw+PXQpKXJldHVybiBmdW5jdGlvbigpe307dHJ5e3JldHVybiBpLkhpdmVDb25maWcuRnJhbWV3b3JrLkxvZ2dlclRpbWVzdGFtcD9yP0Z1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmNhbGwoZSxjb25zb2xlLFwiU1tcIityK1wiXSAlc1wiLHRoaXMudGltZXN0YW1wKTpGdW5jdGlvbi5wcm90b3R5cGUuYmluZC5jYWxsKGUsY29uc29sZSxcIiVzXCIsdGhpcy50aW1lc3RhbXApOnI/RnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuY2FsbChlLGNvbnNvbGUsXCJTW1wiK3IrXCJdXCIpOkZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmNhbGwoZSxjb25zb2xlKX1jYXRjaChlKXt9fSxlLnByb3RvdHlwZS5sb2c9ZnVuY3Rpb24oZSl7cmV0dXJuIGU/KHRoaXMuZE4uaGFzKGUpfHx0aGlzLmZOKHRbdGhpcy5sZXZlbF0sZSksdGhpcy5kTi5nZXQoZSkpOnRoaXMudk59LGV9KCk7ZS55Tj1yfSh0LlROfHwodC5UTj17fSkpfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9cigzMCksbj1yKDI4KSxzPW4uc1Isbz1uLm9SLGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5Tb3VyY2VVUkxQYXJhbXM9e30sdGhpcy50ZXN0SWQ9bnVsbH1yZXR1cm4gZS5wcm90b3R5cGUubU49ZnVuY3Rpb24oZSl7Zm9yKHZhciB0IGluIGUpaWYoXCJTb3VyY2VVUkxQYXJhbXNcIj09PXQpZm9yKHZhciByIGluIGVbdF0pdGhpc1t0XVtyXT1lW3RdW3JdO2Vsc2UgdGhpc1t0XT1lW3RdO3RoaXMuSU4oKX0sZS5wcm90b3R5cGUuU049ZnVuY3Rpb24oKXt2YXIgZT10aGlzLkNvbnRlbnRJZCt0aGlzLlNpdGVJZCt0aGlzLkNST0lkK3RoaXMuU291cmNlVVJMLHQ9bmV3IHM7dC5OdihcImI2NjE0YzNlNGNkMWQxNGVlZDZiMzllZjJiZjZiOWEzZTNkNmRmY2QyNjY5OWQ3MjcwZDg4NzkyM2JjYmY4M2VmYjNkYWRiNzE3YzBiYWZiMWQ0OGRjZTM2MWViMzY5YjdjYzQ2ZTU3NDA1ZWJmYmRkODZjMzE3NTUzMmZlNTZjYzc3ZjQ3M2QzNDViMmNiNmZlYWZiNWFiMGUyNGYzNjRhM2QyNTlmMjdlNGEyZmQ5NzQ2ODI2NWJkZGZkM2RkZDNhYzY0MjUxZGI2NTBjYTAyODBhZjJiMmM0NWU4YjFjOGYwNDBmMmM0MzNhYzBhMTU3ZDJiM2ZkOTE1MTcyNTNcIixcIjAxMDAwMVwiKTt2YXIgcj1vKHRoaXMuU2lnbmF0dXJlKTtyZXR1cm4gdC5aUyhlLHIpfSxlLnByb3RvdHlwZS5STj1mdW5jdGlvbihlKXt0aGlzLnRpY2tldFVybD1lO3ZhciB0PWkucGFyc2UoZSkscj10LnBhdGguc3BsaXQoXCIvXCIpLnNsaWNlKDMpO2lmKHRoaXMuU2l0ZUlkPXJbMF0sdGhpcy5DUk9JZD1yWzFdLHRoaXMuQ29udGVudElkPXJbMl0sdGhpcy53Tj1yWzNdLHQucXVlcnkpdHJ5e3ZhciBuPXQucXVlcnkuc3BsaXQoXCImXCIpO2Zvcih2YXIgcyBpbiBuKXt2YXIgbz1uW3NdLnNwbGl0KC89KC4rKS8pO3RoaXMuU291cmNlVVJMUGFyYW1zW29bMF1dPW9bMV19fWNhdGNoKGUpe310aGlzLmJOPWUuaW5kZXhPZihcImFwaS10ZXN0XCIpPi0xfSxlLnByb3RvdHlwZS51cD1mdW5jdGlvbigpe3JldHVybiB0aGlzLlNpdGVJZH0sZS5wcm90b3R5cGUuY3A9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5DUk9JZH0sZS5wcm90b3R5cGUuaHA9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5Db250ZW50SWR9LGUucHJvdG90eXBlLkNOPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMud059LGUucHJvdG90eXBlLl9OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuU291cmNlVVJMfSxlLnByb3RvdHlwZS5QTj1mdW5jdGlvbigpe2lmKHRoaXMuQU49dGhpcy5Tb3VyY2VVUkwsdm9pZCAwIT10aGlzLlNvdXJjZVVSTFBhcmFtcyl7dmFyIGU9bmV3IEFycmF5O2Zvcih2YXIgdCBpbiB0aGlzLlNvdXJjZVVSTFBhcmFtcyllLnB1c2godCtcIj1cIit0aGlzLlNvdXJjZVVSTFBhcmFtc1t0XSk7ZS5sZW5ndGg+MCYmdGhpcy5BTiYmKHRoaXMuQU4rPSh0aGlzLkFOLmluZGV4T2YoXCI/XCIpPjA/XCImXCI6XCI/XCIpK2Uuam9pbihcIiZcIikpfX0sZS5wcm90b3R5cGUuSU49ZnVuY3Rpb24oKXt2YXIgZT1yKDc4KTt0aGlzLnNlc3Npb25JZD1lLk9OKCl9LGUucHJvdG90eXBlLk5OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuQU58fHRoaXMuUE4oKSx0aGlzLkFOfSxlLnByb3RvdHlwZS5rZD1mdW5jdGlvbigpe3JldHVyblwiW1wiK3RoaXMuU2l0ZUlkK1wiL1wiK3RoaXMuQ1JPSWQrXCIvXCIrdGhpcy5Db250ZW50SWQrXCJdXCJ9LGUucHJvdG90eXBlLkROPWZ1bmN0aW9uKCl7cmV0dXJuW3RoaXMuU2l0ZUlkLHRoaXMuQ1JPSWQsdGhpcy5Db250ZW50SWRdfSxlLnByb3RvdHlwZS5rTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLlNvdXJjZVVSTCtcIi1bXCIrdGhpcy5TaXRlSWQrXCIvXCIrdGhpcy5DUk9JZCtcIi9cIit0aGlzLkNvbnRlbnRJZCtcIl1cIn0sZS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5rZCgpfSxlfSgpO2EuTE49XCJeaHR0cHM/Oi8vYXBpKD86LXRlc3QpPy5oaXZlc3RyZWFtaW5nLmNvbS92MS9ldmVudHMvKD86d2lsZGNhcmQvKT9cIixhLk1OPVwiQ1JPSWRcIixhLkZOPVwiU2l0ZUlkXCIsYS5VTj1cIkNvbnRlbnRJZFwiLHQuQk49YX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZX0oKTtpLkhOPTU1LGkueE49NmU1LGkucU49NSxpLkdOPTUsaS5WTj01LGkuak49MTAsaS5RTj1cImRpc3RcIixpLktOPVwiLi9zY2VuYXJpb3MvQnJva2VuVWRwXCIsaS5ZTj1udWxsLGkuV049bnVsbCxpLnpOPW51bGwsaS5KTj0hMCxpLlhOPSEwLGkuWk49NmU0LHQuJE49aTt2YXIgbj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGV9KCk7bi5lRD1cIkJ3RW11bGF0aW9uXCIsdC50RD1ufSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaShlLHQscixzKXtpZighKHRoaXMgaW5zdGFuY2VvZiBpKSlyZXR1cm4gbmV3IGkoZSx0LHIscyk7dD10fHxPYmplY3QuY3Mscj1yfHxPYmplY3QuT2Mscz1zfHxGdW5jdGlvbi51cyx0aGlzLmxzPXQsdGhpcy5BYz1yLHRoaXMuZHM9cyx0aGlzLmZzPW5ldyBuKG51bGwsZnVuY3Rpb24oZSxyKXtyZXR1cm4gdChlLmtleSxyLmtleSl9LGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHIoZS5rZXksdC5rZXkpfSksdGhpcy5sZW5ndGg9MCx0aGlzLmFkZEVhY2goZSl9dmFyIG49KHIoMTEpLHIoMTM5KSkscz1yKDEyKSxvPXIoNTIpLGE9cigxMyk7ZS5pPWksaS5yRD1pLE9iamVjdC5hZGRFYWNoKGkucHJvdG90eXBlLHMucHJvdG90eXBlKSxPYmplY3QuYWRkRWFjaChpLnByb3RvdHlwZSxvLnByb3RvdHlwZSksT2JqZWN0LmFkZEVhY2goaS5wcm90b3R5cGUsYS5wcm90b3R5cGUpLGkucHJvdG90eXBlLkVzPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvcihlLHRoaXMubHMsdGhpcy5BYyx0aGlzLmRzKX0saS5wcm90b3R5cGUubG9nPWZ1bmN0aW9uKGUsdCxyLGkpe3Q9dHx8dGhpcy52cyx0aGlzLmZzLmxvZyhlLGZ1bmN0aW9uKGUscixpKXt0KGUudmFsdWUscixpKX0scixpKX0saS5wcm90b3R5cGUudnM9ZnVuY3Rpb24oZSx0KXt0KFwiIGtleTogXCIrZS5rZXkpLHQoXCIgdmFsdWU6IFwiK2UudmFsdWUpfX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpLG49cig1OSkscz1yKDMpLG89cigyNCksYT1yKDApLGg9cig1KSxjPXIoOSksdT1yKDMxKSxsPXIoMTApLHA9cigxKSxkPXIoMik7IWZ1bmN0aW9uKGUpe2VbZS5tYz0wXT1cIlBMQVlFUlwiLGVbZS5pRD0xXT1cIkxBTlwiLGVbZS5uRD0yXT1cIlNJVEVcIn0oaT10LnNEfHwodC5zRD17fSkpO3ZhciBmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMub0Q9ITEsdGhpcy5iXz1udWxsLHRoaXMuYUQ9LTEsdGhpcy5oRD0wfXJldHVybiBlfSgpO3QuY0Q9Zjt2YXIgZz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLmxvZ2dlcklkPVwiW1ByZWZldGNoZXJdIFwiLHRoaXMudUQ9ITAsdGhpcy5sRD0wLHRoaXMuaXNBY3RpdmU9ITAsdGhpcy5wRD1uZXcgcyx0aGlzLmREPW5ldyBzfXJldHVybiBlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKGUpe3RoaXMubG9nZ2VyPWEuRnJhbWV3b3JrLnJlc29sdmUoYS5GcmFtZXdvcmsuVi5SKS5sb2coZS5zZXNzaW9uSWQpLHRoaXMuZkQ9ZS5nRCx0aGlzLkVEPWUuRUQsdGhpcy52RD1lLnZELHRoaXMuc0M9ZS5zQyx0aGlzLnlEPWUueUQsdGhpcy5URD1lLlRELHRoaXMubUQ9ZS5tRCx0aGlzLklEPWUuSUR9LGUucHJvdG90eXBlLlNEPWZ1bmN0aW9uKCl7dGhpcy5pc0FjdGl2ZT0hMH0sZS5wcm90b3R5cGUuUkQ9ZnVuY3Rpb24oZSx0KXt0aGlzLmNvbnRleHQ9ZSx0aGlzLndEPXQsdGhpcy5tRC5SRCh0KX0sZS5wcm90b3R5cGUuYkQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZEQuaGFzKGUpfSxlLnByb3RvdHlwZS5DRD1mdW5jdGlvbigpe3JldHVybiB0aGlzLndEfSxlLnByb3RvdHlwZS5fRD1mdW5jdGlvbihlLHQscil7dmFyIG89dGhpczt0cnl7dmFyIGE9bmV3IG47dGhpcy5kRC5mb3JFYWNoKGZ1bmN0aW9uKGUsdCl7YS5hZGQodCl9KTt2YXIgaD1uZXcgbjtpZihoLmFkZEVhY2goZS5rZXlzKCkpLHRoaXMud0QuUEQoKSl7dmFyIGM9dGhpcy53RC5QRCgpLmJpdHJhdGU7aWYoaC5hZGQoYyksaC5mb3JFYWNoKGZ1bmN0aW9uKGUpe2EuZGVsZXRlKGUpfSkscil7dmFyIHU9W107YS5mb3JFYWNoKGZ1bmN0aW9uKGUpe28uZEQuaGFzKGUpJiZvLmRELmdldChlKS5BRD09aS5uRCYmKHUucHVzaChlKSxoLmFkZChlKSl9KSx1LmZvckVhY2goZnVuY3Rpb24oZSl7YS5kZWxldGUoZSl9KX12YXIgbD1uZXcgcztoLmZvckVhY2goZnVuY3Rpb24odCl7by5kRC5oYXModCkmJm8uZEQuZ2V0KHQpLkFEPT1pLm5EP2wuc2V0KHQsaS5uRCk6bC5zZXQodCxlLmdldCh0KSl9KSx0aGlzLk9EKGEpLHRoaXMuTkQobCx0KX19Y2F0Y2goZSl7cC5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIHVwZGF0aW5nIHRoZSBwcmVmZXRjaCBzZXNzaW9uc1wiLHRoaXMubG9nZ2VySWQsZC5ocy5qbi5rbixlKX19LGUucHJvdG90eXBlLk5EPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztlLmZvckVhY2goZnVuY3Rpb24oZSxpKXswIT1pJiZyLkREKGksZSx0KX0pfSxlLnByb3RvdHlwZS5PRD1mdW5jdGlvbihlKXt2YXIgdD10aGlzO2UuZm9yRWFjaChmdW5jdGlvbihlKXt0LnlELmtEKGUpLHQubG9nZ2VyLmRlYnVnKHQubG9nZ2VySWQrXCJSZW1vdmUgdW53YW50ZWQgYml0cmF0ZSBcIitlKSx0LmRELmRlbGV0ZShlKX0pfSxlLnByb3RvdHlwZS5ERD1mdW5jdGlvbihlLHQscil7dGhpcy5kRC5oYXMoZSk/dGhpcy5MRChlLHIpOnRoaXMuZEQuaGFzKGUpfHx0aGlzLk1EKGUsdCxyKX0sZS5wcm90b3R5cGUuTEQ9ZnVuY3Rpb24oZSx0KXt0cnl7dmFyIHI9dGhpcy5kRC5nZXQoZSk7ci50eXBlPXQsci50eXBlIT1pLm5EJiYoci5hRD0tMSksdGhpcy55RC5GRChlLHIpfWNhdGNoKGUpe3AuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBjb25maWd1cmluZyBhbHJlYWR5IGV4aXN0aW5nIHByZWZldGNoIHNlc3Npb25zXCIsdGhpcy5sb2dnZXJJZCxkLmhzLmpuLkxuLGUpfX0sZS5wcm90b3R5cGUuTUQ9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXRoaXM7dHJ5e3ZhciBzPW5ldyBmO3MuYl89bnVsbCxzLnR5cGU9cixzLmJpdHJhdGU9ZSxzLkFEPXQsdGhpcy5kRC5zZXQoZSxzKSx0aGlzLmRELmZvckVhY2goZnVuY3Rpb24oZSx0KXtuLmxvZ2dlci5kZWJ1ZyhuLmxvZ2dlcklkK1wiQUJUIFwiK3QrXCIgUyBcIitpW2UudHlwZV0rXCIgUFJFRiBSRUFTT04gXCIraVtlLkFEXSl9KSx0aGlzLnlELkZEKGUscyl9Y2F0Y2goZSl7cC5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIGNvbnN0cnVjdGluZyBhIG5ldyBwcmVmZXRjaCBzZXNzaW9uXCIsdGhpcy5sb2dnZXJJZCxkLmhzLmpuLk1uLGUpfX0sZS5wcm90b3R5cGUuVUQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZih0aGlzLmRELmhhcyhlLmdldEJpdHJhdGUoKSkpe3ZhciByPXRoaXMuZEQuZ2V0KGUuZ2V0Qml0cmF0ZSgpKTtyLmFEPjAmJnIuQkQmJihyLmFEPWUuZHVyYXRpb24tKGEuRnJhbWV3b3JrLnRpbWUoKS1yLkJEKS1yLmhELHIuaEQ9NTApLHIuYl89ZSx0aGlzLkhEKGUuZ2V0Qml0cmF0ZSgpKSx0aGlzLmRELmZvckVhY2goZnVuY3Rpb24ocixuKXtyJiZyLnR5cGUhPWkubWMmJm4hPWUuZ2V0Qml0cmF0ZSgpJiZ0LnhEKHIsbil9KX1lbHNlIHAuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciByZXRyaWV2aW5nIGEgZnJhZ21lbnQgd2l0aG91dCBoYXZpbmcgYSBwcmVmZXRjaCBzZXNzaW9uXCIsdGhpcy5sb2dnZXJJZCxkLmhzLmpuLkZuKX0sZS5wcm90b3R5cGUucUQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5kRC5rZXlzKCkscj10LmluZGV4T2YoZSk7cmV0dXJuLTEhPXImJnQuc3BsaWNlKHIsMSksdH0sZS5wcm90b3R5cGUuR0Q9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztlLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHI9dC5kRC5nZXQoZSk7ciYmci50eXBlIT1pLm1jJiZ0LnhEKHIsci5iaXRyYXRlKX0pfSxlLnByb3RvdHlwZS54RD1mdW5jdGlvbihlLHQpe2lmKGUudHlwZSE9aS5tYyl7dmFyIHI9dGhpcy53RC5QRCgpO2lmKG51bGwhPXIpe3ZhciBuPXRoaXMud0QuVkQoci5DXyx0LGMudmMuZmMpO251bGw9PW4/KHRoaXMubG9nZ2VyLmRlYnVnKHRoaXMubG9nZ2VySWQrXCJQUkVGRVRDSElORyBcIit0K1wiIE1JU1NJTkcgTUVUQURBVEEgXCIpLHRoaXMub0QodCkpOihlLmJfPW4sdGhpcy5IRChuLmdldEJpdHJhdGUoKSkpfWVsc2UgdGhpcy5sb2dnZXIuZGVidWcodGhpcy5sb2dnZXJJZCtcIlBMQVlFUiBOT1QgUExBWUlORyBcIiksdGhpcy5vRCh0KX19LGUucHJvdG90eXBlLmpEPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZEQuZ2V0KGUpO3QmJnQub0QmJihudWxsIT10LmJfPyh0aGlzLmxvZ2dlci5kZWJ1Zyh0aGlzLmxvZ2dlcklkK1wiUkVTVEFSVCBQUkVGRVRDSElORyBPTiBBVkFJTEFCTEUgTUVUQURBVEFcIiksdC5vRD0hMSx0aGlzLkhEKHQuYml0cmF0ZSkpOih0Lm9EPSExLHRoaXMueEQodCxlKSkpfSxlLnByb3RvdHlwZS5RRD1mdW5jdGlvbihlKXt2YXIgdD10aGlzO2U/dGhpcy5qRChlKTp0aGlzLmRELmZvckVhY2goZnVuY3Rpb24oZSxyKXt0LmpEKHIpfSl9LGUucHJvdG90eXBlLkhEPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMud0QuUEQoKTtpZih0KXt2YXIgcj10aGlzLmRELmdldChlKTtpZihyKXtpZihyLmJfJiZ0LmdldEJpdHJhdGUoKT09ZSl7dmFyIGk9dGhpcy5LRChyLmJfLkFfKCksZSk7dGhpcy55RC5zZXREZWx0YShpKX10aGlzLllEKHIpfX1lbHNlIHAuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBhdHRlbXB0aW5nIHByZWZldGNoIGJlZm9yZSBoYXZpbmcgYSBwbGF5ZXIgcmVxdWVzdFwiLHRoaXMubG9nZ2VySWQsZC5ocy5qbi5Vbil9LGUucHJvdG90eXBlLllEPWZ1bmN0aW9uKGUpe2lmKGUuYl8pe3ZhciB0PXRoaXMuV0QoZS5iXyk7aWYobnVsbCE9dCl0aGlzLnpEKHQsZSk7ZWxzZXt2YXIgcj1lLmJpdHJhdGU7dGhpcy5sb2dnZXIuZGVidWcodGhpcy5sb2dnZXJJZCtcIlBSRUZFVENISU5HIFwiK3IrXCIgU1RPUFBFRCBCRUNBVVNFIE9GIE1JU1NJTkcgTUVUQURBVEEgXCIpLHRoaXMuZEQuZ2V0KHIpLm9EPSEwLHRoaXMub0Qocil9fWVsc2UgZS5vRD0hMCx0aGlzLm9EKGUuYml0cmF0ZSl9LGUucHJvdG90eXBlLnpEPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPXRoaXMuSkQoZS5aZigpLGUuZ2V0Qml0cmF0ZSgpLGUuQV8oKSx0LnR5cGUpO2lmKG4uWEQpdHJ5e3RoaXMucEQuaGFzKGUuWmYoKSkmJmEuRnJhbWV3b3JrLmNsZWFyVGltZW91dCh0aGlzLnBELmdldChlLlpmKCkpKTt2YXIgcz1uLnR5cGU9PW8uYmYuSWYsYz0xO2lmKHMpe3ZhciBsPU1hdGgubWF4KDAsdC5hRCk7Yz10aGlzLm1ELlpEKHQudHlwZSxlLmdldEJpdHJhdGUoKSxlLkFfKCksbCl9dGhpcy5sb2dnZXIuZGVidWcodGhpcy5sb2dnZXJJZCtcIlBSRUZFVENISU5HIFwiK2UudXJsK1wiIENETiBQUkVGRVRDSCBcIitzK1wiIElOIFwiK2MrXCIgTVNFQ1NcIik7dmFyIGY9dGhpcy5kRC5nZXQoZS5nZXRCaXRyYXRlKCkpO2YuYl89ZTt2YXIgZz1hLkZyYW1ld29yay5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ci5wRC5kZWxldGUoZS5aZigpKTt2YXIgcz1uZXcgdS5IaXZlUmVxdWVzdChyLkVELnNlc3Npb25JZCk7cy51cmw9ZS51cmwsZi5CRD1hLkZyYW1ld29yay50aW1lKCksci5sRD0wO3ZhciBjPXIuRUQuJEQocyxlLHIuY29udGV4dCxuLnR5cGUpO2MmJihjLkdmPXQudHlwZT09aS5uRHx8dC50eXBlPT1pLmlELHMub25lcnJvcj1zLm9ubG9hZD1mdW5jdGlvbigpe2lmKGMuSmYoKT09by5iZi5JZiYmKCFzLnN0YXR1c3x8cy5zdGF0dXM8MjAwfHxzLnN0YXR1cz4yOTkpKXt2YXIgdD1yLmRELmdldChlLmdldEJpdHJhdGUoKSk7cz1udWxsO3ZhciBpPXQuYl8uZHVyYXRpb24sbj10LmJfLmR1cmF0aW9uK2guaGguZmEuWm8sdT1NYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqKG4taSkpK2k7dC5hRD11LShhLkZyYW1ld29yay50aW1lKCktdC5CRCksdC5oRD0wLHIuSEQodC5iXy5iaXRyYXRlKX19KX0sYyk7dGhpcy5wRC5zZXQoZS5aZigpLGcpfWNhdGNoKGUpe3AuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciByZXF1ZXN0aW5nIGZvciBwcmVmZXRjaFwiLHRoaXMubG9nZ2VySWQsZC5ocy5qbi54bixlKX19LGUucHJvdG90eXBlLmVrPWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLnBELmZvckVhY2goZnVuY3Rpb24odCxyKXtlLmxvZ2dlci5kZWJ1ZyhlLmxvZ2dlcklkK1wiQ2xlYXJpbmcgZGVsYXllZCBwcmVmZXRjaCB0aW1lciBpZCBcIit0KSxhLkZyYW1ld29yay5jbGVhclRpbWVvdXQodCksZS5wRC5kZWxldGUocil9KSx0aGlzLmlzQWN0aXZlPSExfSxlLnByb3RvdHlwZS5vRD1mdW5jdGlvbihlKXt0aGlzLmRELmhhcyhlKSYmKHRoaXMuZEQuZ2V0KGUpLm9EPSEwLHRoaXMud0QudGsoZSkpfSxlLnByb3RvdHlwZS5XRD1mdW5jdGlvbihlKXt0cnl7dmFyIHQ9dGhpcy5kRC5nZXQoZS5nZXRCaXRyYXRlKCkpLHI9ZSxpPXRoaXMucmsocik7cmV0dXJuIGkmJmkuWmYoKSE9ZS5aZigpP2k6aSYmaS5aZigpPT10LmJfLlpmKCk/ZTpudWxsfWNhdGNoKGUpe3JldHVybiBwLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgZm9yd2FyZGluZyB0byBuZXh0IHNlZ21lbnRcIix0aGlzLmxvZ2dlcklkLGQuaHMuam4uQm4sZSksbnVsbH19LGUucHJvdG90eXBlLnJrPWZ1bmN0aW9uKGUpe2lmKG51bGw9PWUpcmV0dXJuIG51bGw7dmFyIHQ9dGhpcy5zQy5payghMCkscj1lO2lmKHQpZm9yKDtudWxsIT1yJiYtMSE9dC5pbmRleE9mKHIuWmYoKSk7KWlmKCEocj10aGlzLndELm5rKHIpKSlyZXR1cm4gcjtyZXR1cm4gcn0sZS5wcm90b3R5cGUuSkQ9ZnVuY3Rpb24oZSx0LHIsbil7dHJ5e3ZhciBzPXRoaXMuc2soZSksYT1zP28uYmYud2Y6by5iZi5JZixoPSExO2g9biE9aS5tYz8hdGhpcy5wRC5oYXMoZSl8fGEhPW8uYmYuSWY6YT09by5iZi53Zjt2YXIgYz10aGlzLndELmFrKCksdT10aGlzLmhrKHIsdCxhKSxsPW49PWkubkQ7cmV0dXJuIHRoaXMubG9nZ2VyLmRlYnVnKHRoaXMubG9nZ2VySWQrXCJQUkVGRVRDSElORyBcIitvLmJmW2FdK1wiIChMQU4gTEVBREVSOiBcIit0aGlzLnlELmNrKCkrXCIgU0lURSBMRUFERVI6IFwiK2wrXCIpIENIRUNLUyBGT1IgXCIrZStcIiBbSEFWRVM6XCIrcytcIiBOT1RCVUZGRVJJTkc6XCIrYytcIiBESVNUQU5DRTpcIit1LnZhbGlkK1wiKFwiK3UudWsrXCIpXVwiKSx7WEQ6aCYmYyYmdS52YWxpZCYmdGhpcy5pc0FjdGl2ZSx0eXBlOmF9fWNhdGNoKGUpe3JldHVybiBwLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgY2hlY2tpbmcgaWYgYWxsb3dlZCB0byBwcmVmZXRjaFwiLHRoaXMubG9nZ2VySWQsZC5ocy5qbi5IbixlKSx7WEQ6ITEsdHlwZTpvLmJmLklmfX19LGUucHJvdG90eXBlLmhrPWZ1bmN0aW9uKGUsdCxyKXt0cnl7dmFyIGk9dGhpcy53RC5sayhlLHQpO3JldHVybiBpPD10aGlzLndELnBrKCk/e3VrOmksdmFsaWQ6ITB9Ont1azppLHZhbGlkOiExfX1jYXRjaChlKXtyZXR1cm4gcC5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIGNoZWNraW5nIHRoZSBwbGF5ZXIgZGlzdGFuY2VcIix0aGlzLmxvZ2dlcklkLGQuaHMuam4ucW4sZSkse3VrOjAsdmFsaWQ6ITF9fX0sZS5wcm90b3R5cGUuS0Q9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLndELlBEKCk7aWYobnVsbCE9cil7dmFyIGk9ci5BXygpO3JldHVybiB0aGlzLndELmRrKGksdCxlLHQpfXJldHVybi0xfSxlLnByb3RvdHlwZS5zaz1mdW5jdGlvbihlKXtpZih0aGlzLmZELmNvbnRhaW5zKGUpKXt2YXIgdD10aGlzLmZELmZrKGUpO2lmKHQubGVuZ3RoPj1oLmhoLmZhLnRhKXtpZihoLmhoLmZhLmlhKXt2YXIgcj1bXSxpPVtdLG49W10scz10aGlzLnlELmdrKCk7cmV0dXJuIHQuZm9yRWFjaChmdW5jdGlvbihlKXtlLkVrLnBlZXJJbmZvLnR5cGU9PWwuVGMuVyYmci5wdXNoKGUpO3ZhciB0PWUuRWsucGVlckluZm8uaW50ZXJuYWxBczswIT1zJiZ0JiZzPT10JiZpLnB1c2goZSksZS5Fay5wZWVySW5mby50eXBlPT1sLlRjLnljJiZuLnB1c2goZSl9KSxyLmxlbmd0aD4wPyF0aGlzLnVEfHwhdGhpcy52ayhyLGUpOiEoIXRoaXMueUQuY2soKSYmdGhpcy55RC55aygpfHwhKGkubGVuZ3RoPjApKXx8ISghKG4ubGVuZ3RoPjApfHwhdGhpcy55RC5UaygpJiZ0aGlzLnlELm1rKCkpfXJldHVybiEwfX1yZXR1cm4hMX0sZS5wcm90b3R5cGUudms9ZnVuY3Rpb24oZSx0KXt0cnl7aWYodGhpcy55RC5JaygpLmxlbmd0aD5oLmhoLmZhLmxhKXt0aGlzLnlELlNrKCk7cmV0dXJuIGUubGVuZ3RoPT1oLmhoLmZhLnVhJiZlWzBdLmd1aWQ9PXRoaXMueUQuUmsoKS51dWlkJiYoYS5GcmFtZXdvcmsucmFuZG9tKCk+aC5oaC5mYS5wYSYmdGhpcy5sRDxoLmhoLmZhLmRhJiYodGhpcy5sb2dnZXIuZGVidWcoXCJTS0lQIFBSRUZFVENIIENZQ0xFIFwiK3RoaXMubEQrXCIgVE8gT0ZGTE9BRCBMRUFERVJcIiksdGhpcy5sRCsrLCEwKSl9cmV0dXJuITF9Y2F0Y2goZSl7cmV0dXJuIHAuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBkZWNpZGluZyB0byBvZmZsb2FkIHRoZSBsZWFkZXJcIix0aGlzLmxvZ2dlcklkLGQuaHMuam4uR24sZSksITF9fSxlLnByb3RvdHlwZS53az1mdW5jdGlvbihlLHQpe3RyeXtlLmJrPWUuS2YuaWQsZS5LZj10LHRoaXMubG9nZ2VyLmRlYnVnKHRoaXMubG9nZ2VySWQrXCJVUEdSQURFIFwiK28uYmZbZS5KZigpXStcIiBSRVEgXCIrZS5ZZitcIiBGT1IgXCIrZS56Zi5aZigpKSxlLkpmKCk9PW8uYmYud2Y/KGUucWYucDJwQWdlblRyYWZmaWNTdWNjZXNzUXQ9ZS5RZixlLlZmPyhlLnR5cGU9by5iZi5SZix0aGlzLnZELkNrKGUpfHwodGhpcy5sb2dnZXIuZGVidWcodGhpcy5sb2dnZXJJZCtcIlNFVCBSRVFVRVNUIFRJTUVELU9VVCBXQVMgMC4gQ0ROIENPTVBFTlNBVElPTlwiKSx0aGlzLnZELl9rKGUuUGssXCJUSU1FRC1PVVRcIikpKTooZS50eXBlPW8uYmYuVGYsdGhpcy5sb2dnZXIuZGVidWcodGhpcy5sb2dnZXJJZCtcIlRIRSBISVZFIFJFUSBcIitlLlpmKCkrXCIgQVJSSVZFRCBCRUZPUkUgVEhFIFAyUF9QUkVGRVRDSCBJTklUSUFMSVpFRC4gQ0hBTkdFIFJFUVVFU1QgVFlQRSBUTyBcIitvLmJmW2UuSmYoKV0pKSk6ZS5KZigpPT1vLmJmLklmJiYoZS50eXBlPW8uYmYuVGYpfWNhdGNoKGUpe3AuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciB1cGdyYWRpbmcgcHJlZmV0Y2hcIix0aGlzLmxvZ2dlcklkLGQuaHMuam4uVm4sZSl9fSxlfSgpO3QuQWs9Z30sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGkoZSx0LHIpe2lmKCEodGhpcyBpbnN0YW5jZW9mIGkpKXJldHVybiBuZXcgaShlLHQscik7dmFyIG49dGhpcy5oZWFkPW5ldyB0aGlzLk5vZGU7bi5uZXh0PW4sbi5Paz1uLHRoaXMubHM9dHx8T2JqZWN0LmNzLHRoaXMuZHM9cnx8RnVuY3Rpb24udXMsdGhpcy5sZW5ndGg9MCx0aGlzLmFkZEVhY2goZSl9ZnVuY3Rpb24gbihlKXt0aGlzLmhlYWQ9ZSx0aGlzLk5rPWUubmV4dH1mdW5jdGlvbiBzKGUpe3RoaXMudmFsdWU9ZSx0aGlzLk9rPW51bGwsdGhpcy5uZXh0PW51bGx9ZS5pPWk7dmFyIG89KHIoMTEpLHIoMTIpKSxhPXIoNjcpLGg9cigxMyksYz1yKDM4KTtpLkRrPWksT2JqZWN0LmFkZEVhY2goaS5wcm90b3R5cGUsby5wcm90b3R5cGUpLE9iamVjdC5hZGRFYWNoKGkucHJvdG90eXBlLGEucHJvdG90eXBlKSxPYmplY3QuYWRkRWFjaChpLnByb3RvdHlwZSxoLnByb3RvdHlwZSksT2JqZWN0LmFkZEVhY2goaS5wcm90b3R5cGUsYy5wcm90b3R5cGUpLGkucHJvdG90eXBlLkVzPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvcihlLHRoaXMubHMsdGhpcy5kcyl9LGkucHJvdG90eXBlLmZpbmQ9ZnVuY3Rpb24oZSx0LHIpe3Q9dHx8dGhpcy5scztmb3IodmFyIGk9dGhpcy5oZWFkLG49dGhpcy5rayhyLGkubmV4dCk7biE9PWk7KXtpZih0KG4udmFsdWUsZSkpcmV0dXJuIG47bj1uLm5leHR9fSxpLnByb3RvdHlwZS5Maz1mdW5jdGlvbihlLHQscil7dD10fHx0aGlzLmxzO2Zvcih2YXIgaT10aGlzLmhlYWQsbj10aGlzLmtrKHIsaS5Payk7biE9PWk7KXtpZih0KG4udmFsdWUsZSkpcmV0dXJuIG47bj1uLk9rfX0saS5wcm90b3R5cGUuaGFzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuISF0aGlzLmZpbmQoZSx0KX0saS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5maW5kKGUsdCk7cmV0dXJuIHI/ci52YWx1ZTp0aGlzLmRzKGUpfSxpLnByb3RvdHlwZS5kZWxldGU9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLkxrKGUsdCk7aWYocil7aWYodGhpcy5Nayl7dmFyIGk9W10sbj1bZV07dGhpcy5RQShpLG4sci5pbmRleCl9cmV0dXJuIHIuZGVsZXRlKCksdGhpcy5sZW5ndGgtLSx0aGlzLk1rJiYodGhpcy5GayhyLm5leHQsci5pbmRleCksdGhpcy5HQShpLG4sci5pbmRleCkpLCEwfXJldHVybiExfSxpLnByb3RvdHlwZS5YQT1mdW5jdGlvbihlLHQpe3Q9dHx8dGhpcy5scztmb3IodmFyIHI9dGhpcy5oZWFkLGk9ci5uZXh0LG49MDtpIT09cjspdChlLGkudmFsdWUpJiYoaS5kZWxldGUoKSxuKyspLGk9aS5uZXh0O3JldHVybiB0aGlzLmxlbmd0aC09bixufSxpLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3ZhciBlLHQ7dGhpcy5NayYmKHQ9dGhpcy50b0FycmF5KCksZT1bXSx0aGlzLlFBKGUsdCwwKSksdGhpcy5oZWFkLm5leHQ9dGhpcy5oZWFkLk9rPXRoaXMuaGVhZCx0aGlzLmxlbmd0aD0wLHRoaXMuTWsmJnRoaXMuR0EoZSx0LDApfSxpLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IHRoaXMuTm9kZShlKTtyZXR1cm4gdGhpcy5NayYmKHQuaW5kZXg9dGhpcy5sZW5ndGgsdGhpcy5RQShbZV0sW10sdC5pbmRleCkpLHRoaXMuaGVhZC5Vayh0KSx0aGlzLmxlbmd0aCsrLHRoaXMuTWsmJnRoaXMuR0EoW2VdLFtdLHQuaW5kZXgpLCEwfSxpLnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5oZWFkO2lmKHRoaXMuTWspe3ZhciB0PUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykscj1bXSxpPXRoaXMubGVuZ3RoO3RoaXMuUUEodCxyLGkpO3ZhciBuPXRoaXMuaGVhZC5Pa31mb3IodmFyIHM9MDtzPGFyZ3VtZW50cy5sZW5ndGg7cysrKXt2YXIgbz1hcmd1bWVudHNbc10sYT1uZXcgdGhpcy5Ob2RlKG8pO2UuVWsoYSl9dGhpcy5sZW5ndGgrPWFyZ3VtZW50cy5sZW5ndGgsdGhpcy5NayYmKHRoaXMuRmsobi5uZXh0LHZvaWQgMD09PW4uaW5kZXg/MDpuLmluZGV4KzEpLHRoaXMuR0EodCxyLGkpKX0saS5wcm90b3R5cGUudW5zaGlmdD1mdW5jdGlvbigpe2lmKHRoaXMuTWspe3ZhciBlPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyksdD1bXTt0aGlzLlFBKGUsdCwwKX1mb3IodmFyIHI9dGhpcy5oZWFkLGk9MDtpPGFyZ3VtZW50cy5sZW5ndGg7aSsrKXt2YXIgbj1hcmd1bWVudHNbaV0scz1uZXcgdGhpcy5Ob2RlKG4pO3IuQmsocykscj1zfXRoaXMubGVuZ3RoKz1hcmd1bWVudHMubGVuZ3RoLHRoaXMuTWsmJih0aGlzLkZrKHRoaXMuaGVhZC5uZXh0LDApLHRoaXMuR0EoZSx0LDApKX0saS5wcm90b3R5cGUucG9wPWZ1bmN0aW9uKCl7dmFyIGUsdD10aGlzLmhlYWQ7aWYodC5PayE9PXQpe2lmKGU9dC5Pay52YWx1ZSx0aGlzLk1rKXt2YXIgcj1bXSxpPVtlXSxuPXRoaXMubGVuZ3RoLTE7dGhpcy5RQShyLGksbil9dC5Pay5kZWxldGUoKSx0aGlzLmxlbmd0aC0tLHRoaXMuTWsmJnRoaXMuR0EocixpLG4pfXJldHVybiBlfSxpLnByb3RvdHlwZS5zaGlmdD1mdW5jdGlvbigpe3ZhciBlLHQ9dGhpcy5oZWFkO2lmKHQuT2shPT10KXtpZihlPXQubmV4dC52YWx1ZSx0aGlzLk1rKXt2YXIgcj1bXSxpPVtlXTt0aGlzLlFBKHIsaSwwKX10Lm5leHQuZGVsZXRlKCksdGhpcy5sZW5ndGgtLSx0aGlzLk1rJiYodGhpcy5Gayh0aGlzLmhlYWQubmV4dCwwKSx0aGlzLkdBKHIsaSwwKSl9cmV0dXJuIGV9LGkucHJvdG90eXBlLkhrPWZ1bmN0aW9uKCl7aWYodGhpcy5oZWFkIT09dGhpcy5oZWFkLm5leHQpcmV0dXJuIHRoaXMuaGVhZC5uZXh0LnZhbHVlfSxpLnByb3RvdHlwZS54az1mdW5jdGlvbihlKXt0aGlzLmhlYWQhPT10aGlzLmhlYWQubmV4dD90aGlzLmhlYWQubmV4dC52YWx1ZT1lOnRoaXMucHVzaChlKX0saS5wcm90b3R5cGUuQmM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5IaygpfSxpLnByb3RvdHlwZS5raz1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuaGVhZDtpZihcIm51bWJlclwiPT10eXBlb2YgZSl7dmFyIGk9ZTtpZihpPj0wKWZvcihlPXIubmV4dDtpJiYoaS0tLChlPWUubmV4dCkhPXIpOyk7ZWxzZSBmb3IoZT1yO2k8MCYmKGkrKywoZT1lLk9rKSE9cik7KTtyZXR1cm4gZX1yZXR1cm4gZXx8dH0saS5wcm90b3R5cGUuc2xpY2U9ZnVuY3Rpb24oZSx0KXt2YXIgcj1bXSxpPXRoaXMuaGVhZDtmb3IoZT10aGlzLmtrKGUsaS5uZXh0KSx0PXRoaXMua2sodCxpKTtlIT09dCYmZSE9PWk7KXIucHVzaChlLnZhbHVlKSxlPWUubmV4dDtyZXR1cm4gcn0saS5wcm90b3R5cGUuc3BsaWNlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMucWsoZSx0LEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywyKSl9LGkucHJvdG90eXBlLnFrPWZ1bmN0aW9uKGUsdCxyKXt2YXIgaT1lO2U9dGhpcy5rayhlLHRoaXMuaGVhZCksbnVsbD09dCYmKHQ9MS8wKSxyPUFycmF5LmZyb20ocik7Zm9yKHZhciBuPVtdLHM9ZTt0LS0mJnQ+PTAmJnMhPT10aGlzLmhlYWQ7KW4ucHVzaChzLnZhbHVlKSxzPXMubmV4dDt2YXIgbyxhO3RoaXMuTWsmJihvPWU9PT10aGlzLmhlYWQ/dGhpcy5sZW5ndGg6ZS5Paz09PXRoaXMuaGVhZD8wOmUuaW5kZXgsYT1lLk9rLHRoaXMuUUEocixuLG8pKTtmb3IodmFyIHM9ZSxoPTAscz1lO2g8bi5sZW5ndGg7aCsrLHM9cy5uZXh0KXMuZGVsZXRlKCk7bnVsbD09aSYmcz09PXRoaXMuaGVhZCYmKHM9dGhpcy5oZWFkLm5leHQpO2Zvcih2YXIgaD0wO2g8ci5sZW5ndGg7aCsrKXt2YXIgYz1uZXcgdGhpcy5Ob2RlKHJbaF0pO3MuVWsoYyl9cmV0dXJuIHRoaXMubGVuZ3RoKz1yLmxlbmd0aC1uLmxlbmd0aCx0aGlzLk1rJiYoZT09PXRoaXMuaGVhZD90aGlzLkZrKHRoaXMuaGVhZC5uZXh0LDApOnRoaXMuRmsoYS5uZXh0LGEuaW5kZXgrMSksdGhpcy5HQShyLG4sbykpLG59LGkucHJvdG90eXBlLnJldmVyc2U9ZnVuY3Rpb24oKXtpZih0aGlzLk1rKXt2YXIgZT10aGlzLnRvQXJyYXkoKSx0PWUucmV2ZXJzZWQoKTt0aGlzLlFBKHQsZSwwKX12YXIgcj10aGlzLmhlYWQ7ZG97dmFyIGk9ci5uZXh0O3IubmV4dD1yLk9rLHIuT2s9aSxyPXIubmV4dH13aGlsZShyIT09dGhpcy5oZWFkKTtyZXR1cm4gdGhpcy5NayYmdGhpcy5HQSh0LGUsMCksdGhpc30saS5wcm90b3R5cGUuc29ydD1mdW5jdGlvbigpe3RoaXMucWsoMCx0aGlzLmxlbmd0aCx0aGlzLkZjKCkpfSxpLnByb3RvdHlwZS5yZWR1Y2U9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9YXJndW1lbnRzWzJdLGk9dGhpcy5oZWFkLG49aS5uZXh0O24hPT1pOyl0PWUuY2FsbChyLHQsbi52YWx1ZSxuLHRoaXMpLG49bi5uZXh0O3JldHVybiB0fSxpLnByb3RvdHlwZS5yZWR1Y2VSaWdodD1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcj1hcmd1bWVudHNbMl0saT10aGlzLmhlYWQsbj1pLk9rO24hPT1pOyl0PWUuY2FsbChyLHQsbi52YWx1ZSxuLHRoaXMpLG49bi5PaztyZXR1cm4gdH0saS5wcm90b3R5cGUuRms9ZnVuY3Rpb24oZSx0KXtmb3IoO2UhPT10aGlzLmhlYWQ7KWUuaW5kZXg9dCsrLGU9ZS5uZXh0fSxpLnByb3RvdHlwZS5YYz1mdW5jdGlvbigpe3RoaXMuaGVhZC5pbmRleD0tMSx0aGlzLkZrKHRoaXMuaGVhZC5uZXh0LDApLHRoaXMuTWs9ITB9LGkucHJvdG90eXBlLkhjPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBuKHRoaXMuaGVhZCl9LG4ucHJvdG90eXBlLkdrPW51bGwsT2JqZWN0LmRlZmluZVByb3BlcnR5KG4ucHJvdG90eXBlLFwiX2l0ZXJhdGlvbk9iamVjdFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5Ha3x8KHRoaXMuR2s9e2RvbmU6ITEsdmFsdWU6bnVsbH0pfX0pLG4ucHJvdG90eXBlLm5leHQ9ZnVuY3Rpb24oKXtpZih0aGlzLk5rPT09dGhpcy5oZWFkKXRoaXMuVmsuZG9uZT0hMCx0aGlzLlZrLnZhbHVlPXZvaWQgMDtlbHNle3ZhciBlPXRoaXMuTmsudmFsdWU7dGhpcy5Oaz10aGlzLk5rLm5leHQsdGhpcy5Way52YWx1ZT1lfXJldHVybiB0aGlzLlZrfSxpLnByb3RvdHlwZS5Ob2RlPXMscy5wcm90b3R5cGUuZGVsZXRlPWZ1bmN0aW9uKCl7dGhpcy5Pay5uZXh0PXRoaXMubmV4dCx0aGlzLm5leHQuT2s9dGhpcy5Pa30scy5wcm90b3R5cGUuVWs9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5Pazt0aGlzLk9rPWUsZS5Paz10LHQubmV4dD1lLGUubmV4dD10aGlzfSxzLnByb3RvdHlwZS5Caz1mdW5jdGlvbihlKXt2YXIgdD10aGlzLm5leHQ7dGhpcy5uZXh0PWUsZS5uZXh0PXQsdC5Paz1lLGUuT2s9dGhpc319LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBpKGUsdCl7aWYoISh0aGlzIGluc3RhbmNlb2YgaSkpcmV0dXJuIG5ldyBpKGUsdCk7dD10fHxGdW5jdGlvbi51cyx0aGlzLmRzPXQsdGhpcy5mcz1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMubGVuZ3RoPTAsdGhpcy5hZGRFYWNoKGUpfXZhciBuPShyKDExKSxyKDEyKSkscz1yKDUyKSxvPXIoMTMpO2UuaT1pLGkuams9aSxPYmplY3QuYWRkRWFjaChpLnByb3RvdHlwZSxuLnByb3RvdHlwZSksT2JqZWN0LmFkZEVhY2goaS5wcm90b3R5cGUscy5wcm90b3R5cGUpLE9iamVjdC5hZGRFYWNoKGkucHJvdG90eXBlLG8ucHJvdG90eXBlKSxpLnByb3RvdHlwZS5Fcz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoZSx0aGlzLmRzKX0saS5wcm90b3R5cGUuUWs9ZnVuY3Rpb24oZSl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcihcImtleSBtdXN0IGJlIGEgc3RyaW5nIGJ1dCBHb3QgXCIrZSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSxcIiRfX3Byb3RvX19cIix7QWg6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsXCJfaGFzUHJvdG9cIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaGFzT3duUHJvcGVydHkoXCIkX19wcm90b19fXCIpJiZ2b2lkIDAhPT10aGlzLktrfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSxcIl9wcm90b1ZhbHVlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLllrfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5Zaz1lfX0pLGkucHJvdG90eXBlLmdldD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLlFrKGUpLFwiX19wcm90b19fXCI9PT1lP3RoaXMuV2s/dGhpcy5Lazphcmd1bWVudHMubGVuZ3RoPjE/dDp0aGlzLmRzKGUpOmUgaW4gdGhpcy5mcz90aGlzLmZzW2VdOmFyZ3VtZW50cy5sZW5ndGg+MT90OnRoaXMuZHMoZSl9LGkucHJvdG90eXBlLnNldD1mdW5jdGlvbihlLHQpe3RoaXMuUWsoZSk7dmFyIHI9XCJfX3Byb3RvX19cIj09PWU7cmV0dXJuKHI/dGhpcy5XazplIGluIHRoaXMuZnMpPyh0aGlzLnprJiZ0aGlzLkprKGUscj90aGlzLktrOnRoaXMuZnNbZV0pLHI/dGhpcy5Laz10OnRoaXMuZnNbZV09dCx0aGlzLnprJiZ0aGlzLlhrKGUsdCksITEpOih0aGlzLnprJiZ0aGlzLkprKGUsdm9pZCAwKSx0aGlzLmxlbmd0aCsrLHI/dGhpcy5Laz10OnRoaXMuZnNbZV09dCx0aGlzLnprJiZ0aGlzLlhrKGUsdCksITApfSxpLnByb3RvdHlwZS5oYXM9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuUWsoZSksXCJfX3Byb3RvX19cIj09PWU/dGhpcy5XazplIGluIHRoaXMuZnN9LGkucHJvdG90eXBlLmRlbGV0ZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5RayhlKSxcIl9fcHJvdG9fX1wiPT09ZT8hIXRoaXMuV2smJih0aGlzLnprJiZ0aGlzLkprKGUsdGhpcy5LayksdGhpcy5Laz12b2lkIDAsdGhpcy5sZW5ndGgtLSx0aGlzLnprJiZ0aGlzLlhrKGUsdm9pZCAwKSwhMCk6ZSBpbiB0aGlzLmZzJiYodGhpcy56ayYmdGhpcy5KayhlLHRoaXMuZnNbZV0pLGRlbGV0ZSB0aGlzLmZzW2VdLHRoaXMubGVuZ3RoLS0sdGhpcy56ayYmdGhpcy5YayhlLHZvaWQgMCksITApfSxpLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3ZhciBlO3RoaXMuV2smJih0aGlzLnprJiZ0aGlzLkprKFwiX19wcm90b19fXCIsdGhpcy5LayksdGhpcy5Laz12b2lkIDAsdGhpcy56ayYmdGhpcy5YayhcIl9fcHJvdG9fX1wiLHZvaWQgMCkpO2ZvcihlIGluIHRoaXMuZnMpdGhpcy56ayYmdGhpcy5KayhlLHRoaXMuZnNbZV0pLGRlbGV0ZSB0aGlzLmZzW2VdLHRoaXMuemsmJnRoaXMuWGsoZSx2b2lkIDApO3RoaXMubGVuZ3RoPTB9LGkucHJvdG90eXBlLnJlZHVjZT1mdW5jdGlvbihlLHQscil7dGhpcy5XayYmKHQ9ZS5jYWxsKHIsdCxcIiRfX3Byb3RvX19cIixcIl9fcHJvdG9fX1wiLHRoaXMpKTt2YXIgaT10aGlzLmZzO2Zvcih2YXIgbiBpbiB0aGlzLmZzKXQ9ZS5jYWxsKHIsdCxpW25dLG4sdGhpcyk7cmV0dXJuIHR9LGkucHJvdG90eXBlLnJlZHVjZVJpZ2h0PWZ1bmN0aW9uKGUsdCxyKXt2YXIgaT10aGlzLG49dGhpcy5mcztyZXR1cm4gdD1PYmplY3Qua2V5cyh0aGlzLmZzKS5yZWR1Y2VSaWdodChmdW5jdGlvbih0LHMpe3JldHVybiBlLmNhbGwocix0LG5bc10scyxpKX0sdCksdGhpcy5Xaz9lLmNhbGwocix0LHRoaXMuS2ssXCJfX3Byb3RvX19cIixpKTp0fSxpLnByb3RvdHlwZS5CYz1mdW5jdGlvbigpe3ZhciBlO2ZvcihlIGluIHRoaXMuZnMpcmV0dXJuIHRoaXMuZnNbZV07cmV0dXJuIHRoaXMuS2t9LGkucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLlBjKCl9fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaSgpe3Rocm93IG5ldyBFcnJvcihcIkNhbid0IGNvbnN0cnVjdC4gR2VuZXJpY01hcCBpcyBhIG1peGluLlwiKX1mdW5jdGlvbiBuKGUsdCl7dGhpcy5rZXk9ZSx0aGlzLnZhbHVlPXR9dmFyIHM9cigzNiksbz1yKDEwMSksYT1yKDEzKTtlLmk9aSxzLmFkZEVhY2goaS5wcm90b3R5cGUsby5wcm90b3R5cGUpLHMuYWRkRWFjaChpLnByb3RvdHlwZSxhLnByb3RvdHlwZSksaS5wcm90b3R5cGUuaXNNYXA9ITAsaS5wcm90b3R5cGUuYWRkRWFjaD1mdW5jdGlvbihlKXtpZihlJiZzKGUpPT09ZSlpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLmZvckVhY2gpITA9PT1lLmlzTWFwP2UuZm9yRWFjaChmdW5jdGlvbihlLHQpe3RoaXMuc2V0KHQsZSl9LHRoaXMpOmUuZm9yRWFjaChmdW5jdGlvbihlKXt0aGlzLnNldChlWzBdLGVbMV0pfSx0aGlzKTtlbHNlIGlmKFwibnVtYmVyXCI9PXR5cGVvZiBlLmxlbmd0aClmb3IodmFyIHQ9MDt0PGUubGVuZ3RoO3QrKyl0aGlzLmFkZChlW3RdLHQpO2Vsc2Ugcy5rZXlzKGUpLmZvckVhY2goZnVuY3Rpb24odCl7dGhpcy5zZXQodCxlW3RdKX0sdGhpcyk7ZWxzZSBpZihlJiZcIm51bWJlclwiPT10eXBlb2YgZS5sZW5ndGgpZm9yKHZhciB0PTA7dDxlLmxlbmd0aDt0KyspdGhpcy5hZGQoZVt0XSx0KTtyZXR1cm4gdGhpc30saS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5mcy5nZXQobmV3IHRoaXMuWmsoZSkpO3JldHVybiByP3IudmFsdWU6YXJndW1lbnRzLmxlbmd0aD4xP3Q6dGhpcy5kcyhlKX0saS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGUsdCl7dmFyIHI9bmV3IHRoaXMuWmsoZSx0KSxpPXRoaXMuZnMuZ2V0KHIpLG49ITE7cmV0dXJuIGk/KHRoaXMuemsmJnRoaXMuSmsoZSxpLnZhbHVlKSxpLnZhbHVlPXQsdGhpcy56ayYmdGhpcy5YayhlLHQpKToodGhpcy56ayYmdGhpcy5KayhlLHZvaWQgMCksdGhpcy5mcy5hZGQocikmJih0aGlzLmxlbmd0aCsrLG49ITApLHRoaXMuemsmJnRoaXMuWGsoZSx0KSksbn0saS5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuc2V0KHQsZSl9LGkucHJvdG90eXBlLmhhcz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5mcy5oYXMobmV3IHRoaXMuWmsoZSkpfSxpLnByb3RvdHlwZS5kZWxldGU9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IHRoaXMuWmsoZSk7aWYodGhpcy5mcy5oYXModCkpe3ZhciByPXRoaXMuZnMuZ2V0KHQpLnZhbHVlO3JldHVybiB0aGlzLnprJiZ0aGlzLkprKGUsciksdGhpcy5mcy5kZWxldGUodCksdGhpcy5sZW5ndGgtLSx0aGlzLnprJiZ0aGlzLlhrKGUsdm9pZCAwKSwhMH1yZXR1cm4hMX0saS5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt2YXIgZTt0aGlzLnprJiYodGhpcy5mb3JFYWNoKGZ1bmN0aW9uKGUsdCl7dGhpcy5Kayh0LGUpfSx0aGlzKSxlPXRoaXMua2V5cygpKSx0aGlzLmZzLmNsZWFyKCksdGhpcy5sZW5ndGg9MCx0aGlzLnprJiZlLmZvckVhY2goZnVuY3Rpb24oZSl7dGhpcy5YayhlKX0sdGhpcyl9LGkucHJvdG90eXBlLnJlZHVjZT1mdW5jdGlvbihlLHQscil7cmV0dXJuIHRoaXMuZnMucmVkdWNlKGZ1bmN0aW9uKHQsaSl7cmV0dXJuIGUuY2FsbChyLHQsaS52YWx1ZSxpLmtleSx0aGlzKX0sdCx0aGlzKX0saS5wcm90b3R5cGUucmVkdWNlUmlnaHQ9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiB0aGlzLmZzLnJlZHVjZVJpZ2h0KGZ1bmN0aW9uKHQsaSl7cmV0dXJuIGUuY2FsbChyLHQsaS52YWx1ZSxpLmtleSx0aGlzKX0sdCx0aGlzKX0saS5wcm90b3R5cGUua2V5cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcChmdW5jdGlvbihlLHQpe3JldHVybiB0fSl9LGkucHJvdG90eXBlLnZhbHVlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcChGdW5jdGlvbi5pZGVudGl0eSl9LGkucHJvdG90eXBlLmVudHJpZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oZSx0KXtyZXR1cm5bdCxlXX0pfSxpLnByb3RvdHlwZS4kaz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVudHJpZXMoKX0saS5wcm90b3R5cGUuY3M9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD10fHxzLmNzLHRoaXM9PT1lfHwoZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgZS5ldmVyeT9lLmxlbmd0aD09PXRoaXMubGVuZ3RoJiZlLmV2ZXJ5KGZ1bmN0aW9uKGUscil7cmV0dXJuIHQodGhpcy5nZXQociksZSl9LHRoaXMpOnMua2V5cyhlKS5sZW5ndGg9PT10aGlzLmxlbmd0aCYmcy5rZXlzKGUpLmV2ZXJ5KGZ1bmN0aW9uKHIpe3JldHVybiB0KHRoaXMuZ2V0KHIpLGVbcl0pfSx0aGlzKSl9LGkucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVudHJpZXMoKX0saS5wcm90b3R5cGUuWms9bixuLnByb3RvdHlwZS5jcz1mdW5jdGlvbihlKXtyZXR1cm4gcy5jcyh0aGlzLmtleSxlLmtleSkmJnMuY3ModGhpcy52YWx1ZSxlLnZhbHVlKX0sbi5wcm90b3R5cGUuT2M9ZnVuY3Rpb24oZSl7cmV0dXJuIHMuT2ModGhpcy5rZXksZS5rZXkpfX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXRoaXMmJnRoaXMuaHV8fGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gcigpe3RoaXMuY29uc3RydWN0b3I9ZX1mb3IodmFyIGkgaW4gdCl0Lmhhc093blByb3BlcnR5KGkpJiYoZVtpXT10W2ldKTtlLnByb3RvdHlwZT1udWxsPT09dD9PYmplY3QuY3JlYXRlKHQpOihyLnByb3RvdHlwZT10LnByb3RvdHlwZSxuZXcgcil9LG49cig3MCkscz1yKDIxKSxvPXIoNzEpLGE9cig3KSxoPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBpKHQsZSksdC5tZT1mdW5jdGlvbihlKXt0LmxvZ2dlcj1lfSx0LnByb3RvdHlwZS5zZW5kPWZ1bmN0aW9uKCl7aWYodC5sb2dnZXImJnQubG9nZ2VyLmRlYnVnKHRoaXMubWV0aG9kK1wiIFwiK3RoaXMudXJsKSwhdGhpcy5zZXNzaW9uSWQpe3ZhciBlPU9iamVjdC5rZXlzKHQudWIpO2UubGVuZ3RoPjAmJih0aGlzLnNlc3Npb25JZD10LnViW2VbMF1dKX12YXIgcj10aGlzLGk9bmV3IFhNTEh0dHBSZXF1ZXN0OzA9PT10aGlzLnVybC5pbmRleE9mKFwiLy9cIikmJih0aGlzLnVybD1sb2NhdGlvbi5wcm90b2NvbCt0aGlzLnVybCk7dmFyIG89cy5JcChuLnRMLmVMLG4udEwuZE8sbi50TC5yTCx0aGlzLnNlc3Npb25JZCxlbmNvZGVVUklDb21wb25lbnQodGhpcy51cmwpKTtpLm9wZW4oXCJHRVRcIixvKSx0aGlzLnJlc3BvbnNlVHlwZSYmKGkucmVzcG9uc2VUeXBlPXRoaXMucmVzcG9uc2VUeXBlKSxpLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe30saS5vbmxvYWQ9ZnVuY3Rpb24oKXtpZig0PT09aS5yZWFkeVN0YXRlKXRyeXtyLnJlc3BvbnNlSGVhZGVycz1pLmdldEFsbFJlc3BvbnNlSGVhZGVycygpLHIucmVzcG9uc2U9aS5yZXNwb25zZTt2YXIgZT1pLnJlc3BvbnNlLmJ5dGVMZW5ndGg7XCJhcnJheWJ1ZmZlclwiIT09aS5yZXNwb25zZVR5cGUmJihyLnJlc3BvbnNlVGV4dD1pLnJlc3BvbnNlKSxyLnJlYWR5U3RhdGU9NCxyLnN0YXR1cz1pLnN0YXR1cyxyLmRpc3BhdGNoRXZlbnQoYS5yYy5jcmVhdGVFdmVudChQcm9ncmVzc0V2ZW50LFwicHJvZ3Jlc3NcIix7bGVuZ3RoQ29tcHV0YWJsZTohMCxsb2FkZWQ6ZSx0b3RhbDplLGN1cnJlbnRUYXJnZXQ6cn0pKSxyLmRpc3BhdGNoRXZlbnQoYS5yYy5jcmVhdGVFdmVudChFdmVudCxcInJlYWR5c3RhdGVjaGFuZ2VcIix7Y3VycmVudFRhcmdldDpyLGJ1YmJsZXM6ITEsY2FuY2VsYWJsZTohMX0pKSxyLmRpc3BhdGNoRXZlbnQoYS5yYy5jcmVhdGVFdmVudChQcm9ncmVzc0V2ZW50LFwibG9hZFwiLHtjdXJyZW50VGFyZ2V0OnIsYnViYmxlczohMSxjYW5jZWxhYmxlOiExLGxlbmd0aENvbXB1dGFibGU6ITEsbG9hZGVkOmUsdG90YWw6MH0pKSxyLmRpc3BhdGNoRXZlbnQoYS5yYy5jcmVhdGVFdmVudChQcm9ncmVzc0V2ZW50LFwibG9hZGVuZFwiLHtjdXJyZW50VGFyZ2V0OnIsYnViYmxlczohMSxjYW5jZWxhYmxlOiExLGxlbmd0aENvbXB1dGFibGU6ITEsbG9hZGVkOmUsdG90YWw6MH0pKX1jYXRjaChlKXt0LmxvZ2dlciYmdC5sb2dnZXIud2FybihlKX19LGkub25lcnJvcj1mdW5jdGlvbihlKXt0LmxvZ2dlciYmdC5sb2dnZXIud2FybihcIm9uRXJyb3I6IFwiK0pTT04uc3RyaW5naWZ5KGUpKSxyLmRpc3BhdGNoRXZlbnQoYS5yYy5jcmVhdGVFdmVudChFcnJvckV2ZW50LFwiZXJyb3JcIixlLHIpKX0saS5vbmFib3J0PWZ1bmN0aW9uKGUpe3QubG9nZ2VyJiZ0LmxvZ2dlci53YXJuKFwib25BYm9ydDogXCIrSlNPTi5zdHJpbmdpZnkoZSkpLHIuZGlzcGF0Y2hFdmVudChhLnJjLmNyZWF0ZUV2ZW50KFByb2dyZXNzRXZlbnQsXCJhYm9ydFwiLGUscikpfSxpLnNlbmQoKX0sdC5wcm90b3R5cGUuYWJvcnQ9ZnVuY3Rpb24oKXt9LHR9KG8ucGIpO3QuWnU9aH0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXRoaXMmJnRoaXMuaHV8fGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gcigpe3RoaXMuY29uc3RydWN0b3I9ZX1mb3IodmFyIGkgaW4gdCl0Lmhhc093blByb3BlcnR5KGkpJiYoZVtpXT10W2ldKTtlLnByb3RvdHlwZT1udWxsPT09dD9PYmplY3QuY3JlYXRlKHQpOihyLnByb3RvdHlwZT10LnByb3RvdHlwZSxuZXcgcil9LG49cigzMSkscz1yKDc0KSxvPXIoMSksYT1yKDcpLGg9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3ZhciB0PW51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gdC5sb2dnZXJJZD1cIltIaXZlUmVxdWVzdE1hbmlmZXN0XVwiLHR9cmV0dXJuIGkodCxlKSx0LnJlZ2lzdGVyVGVjaD1mdW5jdGlvbihlLHIpe3QuaUxbcl09ZX0sdC5yZWdpc3RlckNvbW09ZnVuY3Rpb24oZSxyKXt0Lm5MW3JdPWV9LHQucHJvdG90eXBlLnNlbmQ9ZnVuY3Rpb24oKXtpZighdGhpcy5zZXNzaW9uSWQpe3ZhciBlPU9iamVjdC5rZXlzKHQubkwpO2UubGVuZ3RoPjAmJih0aGlzLnNlc3Npb25JZD10Lm5MW2VbMF1dKX12YXIgcj10LmlMW3RoaXMuc2Vzc2lvbklkXSxpPXQubkxbdGhpcy5zZXNzaW9uSWRdO3Muc0wocil8fHMuc0woaSk/KG8uRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJIaXZlSlMgVGVjaCBvciBDb21tIGFyZSBub3QgZGVmaW5lZFwiLHRoaXMubG9nZ2VySWQpLHRoaXMucmVzb2x2ZSgpKTooaS5sb2dnZXIoKS5kZWJ1ZyhcIkludGVyY2VwdGVkIE1hbmlmZXN0IFJlcXVlc3QgXCIrdGhpcy51cmwpLHIub0wodGhpcyksaS5vbkFjdGl2YXRlU2Vzc2lvbih0aGlzLnVybCkpfSx0LnByb3RvdHlwZS5yZXNvbHZlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PW5ldyBYTUxIdHRwUmVxdWVzdDt0Lm9wZW4oXCJHRVRcIix0aGlzLnVybCksdC5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXs0PT09dC5yZWFkeVN0YXRlJiYoZS5yZXNwb25zZT10LnJlc3BvbnNlVGV4dCxlLnJlc3BvbnNlVGV4dD10LnJlc3BvbnNlVGV4dCxlLnJlYWR5U3RhdGU9NCxlLnN0YXR1cz10LnN0YXR1cyxlLmRpc3BhdGNoRXZlbnQoYS5yYy5jcmVhdGVFdmVudChFdmVudCxcInJlYWR5c3RhdGVjaGFuZ2VcIix7Y3VycmVudFRhcmdldDplfSkpLGUuZGlzcGF0Y2hFdmVudChhLnJjLmNyZWF0ZUV2ZW50KFByb2dyZXNzRXZlbnQsXCJvbmxvYWRcIix7Y3VycmVudFRhcmdldDplfSkpLGNvbnNvbGUuZGVidWcoXCJSZXR1cm5lZCBNYW5pZmVzdCBSZXF1ZXN0IFwiK2UudXJsKSl9LHQuc2VuZCgpfSx0fShuLkhpdmVSZXF1ZXN0KTtoLm5MPXt9LGguaUw9e30sdC56dT1ofSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7IWZ1bmN0aW9uKCl7dmFyIHQ9cigxNyksaT10LmxvZyxuPXQuV3U7ZS5pLld1PW4sZS5pLlZ1PXQuVnUsZS5pLkd1PXQuR3U7dmFyIHM9cigxMjIpfHxudWxsLG89cigxMjQpfHxudWxsLGE9cigxMjcpfHxudWxsLGg9cigxMjkpfHxudWxsO3N3aXRjaChuLlF1KXtjYXNlXCJjaHJvbWVcIjppZighc3x8IXMuYUwpcmV0dXJuIHZvaWQgaShcIkNocm9tZSBzaGltIGlzIG5vdCBpbmNsdWRlZCBpbiB0aGlzIGFkYXB0ZXIgcmVsZWFzZS5cIik7aShcImFkYXB0ZXIuanMgc2hpbW1pbmcgY2hyb21lLlwiKSxlLmkuaEw9cyxzLmNMKCkscy51TCgpLHQuS3UoKSxzLmxMKCkscy5hTCgpLHMucEwoKSxzLmRMKCk7YnJlYWs7Y2FzZVwiZmlyZWZveFwiOmlmKCFhfHwhYS5hTClyZXR1cm4gdm9pZCBpKFwiRmlyZWZveCBzaGltIGlzIG5vdCBpbmNsdWRlZCBpbiB0aGlzIGFkYXB0ZXIgcmVsZWFzZS5cIik7aShcImFkYXB0ZXIuanMgc2hpbW1pbmcgZmlyZWZveC5cIiksZS5pLmhMPWEsYS5jTCgpLHQuS3UoKSxhLmxMKCksYS5hTCgpLGEucEwoKTticmVhaztjYXNlXCJlZGdlXCI6aWYoIW98fCFvLmFMKXJldHVybiB2b2lkIGkoXCJNUyBlZGdlIHNoaW0gaXMgbm90IGluY2x1ZGVkIGluIHRoaXMgYWRhcHRlciByZWxlYXNlLlwiKTtpKFwiYWRhcHRlci5qcyBzaGltbWluZyBlZGdlLlwiKSxlLmkuaEw9byxvLmNMKCksdC5LdSgpLG8uYUwoKTticmVhaztjYXNlXCJzYWZhcmlcIjppZighaClyZXR1cm4gdm9pZCBpKFwiU2FmYXJpIHNoaW0gaXMgbm90IGluY2x1ZGVkIGluIHRoaXMgYWRhcHRlciByZWxlYXNlLlwiKTtpKFwiYWRhcHRlci5qcyBzaGltbWluZyBzYWZhcmkuXCIpLGUuaS5oTD1oLGguY0woKTticmVhaztkZWZhdWx0OmkoXCJVbnN1cHBvcnRlZCBicm93c2VyIVwiKX19KCl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1yKDMyKSxuPXIoNCkscz1yKDE4KSxvPXIoMjEpLGE9cigxMzApLGg9YS5IaXZlQ29tbS5PcHRpb25zLmZMLGM9cigxOSksdT1yKDEzMSksbD1yKDEpLHA9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscil7dGhpcy5nTD10LHRoaXMub3B0aW9uc189bmV3IGgsdm9pZCAwIT09cltlLkVMXSYmby5TcChyW2UuRUxdLHRoaXMub3B0aW9uc18pfXJldHVybiBlLnByb3RvdHlwZS5nZXROYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIGUuRUx9LGUucHJvdG90eXBlLmlkPWZ1bmN0aW9uKCl7cmV0dXJuXCJbXCIrZS5FTCtcIl0gXCJ9LGUucHJvdG90eXBlLmdldFZlcnNpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nTC5nZXRQbHVnaW5WZXJzaW9uKCl9LGUucHJvdG90eXBlLnZMPWZ1bmN0aW9uKCl7cmV0dXJuITB9LGUucHJvdG90eXBlLnlMPWZ1bmN0aW9uKCl7cmV0dXJuIG4ucmVzb2x2ZSghMCl9LGUucHJvdG90eXBlLmluaXRTZXNzaW9uPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5UTChlLHQudGlja2V0LHQudGlja2V0Lk5OKCksdCk7cmV0dXJuIHMuSGl2ZVJlcXVlc3RGYWN0b3J5LnJlZ2lzdGVyVGVjaChyLmlkLHRoaXMuZ2V0TmFtZSgpKSxuLnJlc29sdmUocil9LGUucHJvdG90eXBlLm1MPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3B0aW9ucygpLmluaXRUaW1lb3V0fSxlLnByb3RvdHlwZS5pc0FjdGl2ZT1mdW5jdGlvbihlLHQpe3ZhciByPXQubWFuaWZlc3QudG9Mb3dlckNhc2UoKS5pbmRleE9mKFwiL21hbmlmZXN0XCIpO2lmKHI+LTEpe3ZhciBpPXQubWFuaWZlc3Quc3Vic3RyaW5nKDAscik7aWYoZS5pbmRleE9mKGkpPi0xKXJldHVybiEwfWVsc2UgaWYoZT09dC5tYW5pZmVzdClyZXR1cm4hMDtyZXR1cm4hMX0sZS5wcm90b3R5cGUub2w9ZnVuY3Rpb24oZSx0LHIpe3ZvaWQgMD09PXImJihyPSEwKSxlLnJsJiYodGhpcy5nTC5sb2dnZXIoKS5kZWJ1ZyhcIltTdGF0c0pTXSBzdG9wcGluZyBzZXNzaW9uIFtcIitlLmlkK1wiXSBjb21wbGV0ZSBjbG9zZTogXCIrdCksZS5ybC54bC5aZChyKSxlLnJsLkJsLklMKCksZS5ybC5CbC5yZXNldCh0KSksdD9pLkhpdmUuUmVwb3J0aW5nKCkuY2xvc2UoZS5pZCk6dGhpcy5ubChlLCEwKX0sZS5wcm90b3R5cGUubmw9ZnVuY3Rpb24oZSx0KXt2YXIgcj10P2MuTWwuSURMRTpjLk1sLkxsO3RoaXMuZ0wubG9nZ2VyKCkubm90aWNlKFwiW0hpdmVDb21tXSBjbGllbnQgc3RhdGU6IFwiK2MuTWxbcl0pLGUucmwmJmUucmwubmwocil9LGUucHJvdG90eXBlLlNMPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxpPTA7cmV0dXJuIHRoaXMuUkw8dC5PbCYmKGk9dC5PbC10aGlzLlJMLHRoaXMuUkw9dC5PbCksZS5hbCgpLnRoZW4oZnVuY3Rpb24oKXtlLnJsLlVsLndMKGksdC5BbCksZS5ybC5IbC5TZCh0LlBsLHQuQWwsdC5PbCksci5iTCgpfSkuZG9uZSgpLG4ucmVzb2x2ZSghMCl9LGUucHJvdG90eXBlLkNMPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZS5hbCgpLnRoZW4oZnVuY3Rpb24oKXtlLnJsLkhsLndkKGUudGlja2V0LnNlc3Npb25JZCx0LHIpfSkuZG9uZSgpLG4ucmVzb2x2ZSghMCl9LGUucHJvdG90eXBlLmJkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuYWwoKS50aGVuKGZ1bmN0aW9uKCl7ZS5ybC5IbC5DZChbdF0pfSkuZG9uZSgpLG4ucmVzb2x2ZSghMCl9LGUucHJvdG90eXBlLm9uRXJyb3I9ZnVuY3Rpb24oZSl7dmFyIHQ9ITA7aWYodm9pZCAwIT10aGlzLm9wdGlvbnMoKS5vbkVycm9yKXRyeXt0PXRoaXMub3B0aW9ucygpLm9uRXJyb3IoZSl9Y2F0Y2goZSl7bC5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcImV4Y2VwdGlvbiBpbiB1c2VyLWRlZmluZWQgb25FcnJvciBjYWxsYmFja1wiLHRoaXMuaWQoKSxlKX1yZXR1cm4gdH0sZS5wcm90b3R5cGUub25BY3RpdmVTZXNzaW9uPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dGhpcy5fTCgpLGUuYWwoKS50aGVuKGZ1bmN0aW9uKHIpe3QuUEw9cjt2YXIgaT1uZXcgdS5BTCh0LmdMLmlzTGl2ZSgpLHQuZ0wuZ2V0U3RyZWFtUHJvdG9jb2woKSxlLnRpY2tldC5OTigpKTt0LlBMLk9MPWksdC5QTC5VbC5PTD1pLHQuZ0wudXBkYXRlUGxheWVySW5mbyh0LlBMKSx0LlBMLkJsLmluaXQodC5QTC5VbCxlLmlkKSx0LmdMLm9wdGlvbnMoKS50ZXN0SWQmJnQuUEwuVWwuTkwodC5nTC5vcHRpb25zKCkudGVzdElkKSx0LlBMLkhsLlh1KGUudGlja2V0LnNlc3Npb25JZCx0LmdMLmdldFBsYXllclNvdXJjZSgpLDIwMCk7dmFyIG49dC5nTC5mbHVzaFRlY2hFdmVudHMoKTtpZihuJiZuLmxlbmd0aD4wJiZ0LlBMLkhsLkNkKG4pLHZvaWQgMCE9dC5vcHRpb25zXy5vbkFjdGl2ZVNlc3Npb24pdHJ5e3Qub3B0aW9uc18ub25BY3RpdmVTZXNzaW9uKGUudG9IaXZlU2Vzc2lvbigpKX1jYXRjaChlKXtsLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiZXhjZXB0aW9uIGluIHVzZXItZGVmaW5lZCBvbkFjdGl2ZVNlc3Npb24gY2FsbGJhY2tcIix0LmlkKCksZSl9fSkuZG9uZSgpfSxlLnByb3RvdHlwZS5ETD1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUua0w9ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLkxMPWZ1bmN0aW9uKGUpe3RoaXMuZ0w9ZX0sZS5wcm90b3R5cGUub3B0aW9ucz1mdW5jdGlvbigpe3JldHVybiB0aGlzLm9wdGlvbnNffSxlLnByb3RvdHlwZS5fTD1mdW5jdGlvbigpe3RoaXMuUkw9MH0sZS5wcm90b3R5cGUuVEw9ZnVuY3Rpb24oZSx0LHIsaSl7dmFyIG49bmV3IHMuY2woZSx0LHIsaSk7cmV0dXJuIG4uTUw9ITEsbi5pZD10LnNlc3Npb25JZCxufSxlLnByb3RvdHlwZS5iTD1mdW5jdGlvbigpe3RyeXt2YXIgZT10aGlzLmdMLmdldEV4dGVuZGVkU3RhdHMoKTt2b2lkIDAhPWUmJih0aGlzLlBMLlVsLkZMLm1ldHJpY3MuYml0cmF0ZVVwTis9ZS5nZXRCaXRyYXRlU3dpdGNoVXAoKSx0aGlzLlBMLlVsLkZMLm1ldHJpY3MuYml0cmF0ZUR3bk4rPWUuZ2V0Qml0cmF0ZVN3aXRjaERvd24oKSxudWxsIT1lLmdldEJhbmR3aWR0aCgpJiYodGhpcy5QTC5VbC5GTC5tZXRyaWNzLnNyY1Rocm91Z2hwdXQ9ZS5nZXRCYW5kd2lkdGgoKSksbnVsbCE9ZS5nZXRWaWRlb0JpdHJhdGVzKCkmJnRoaXMuVUwoITAsZS5nZXRWaWRlb0JpdHJhdGVzKCkpLG51bGwhPWUuZ2V0QXVkaW9CaXRyYXRlcygpJiZ0aGlzLlVMKCExLGUuZ2V0QXVkaW9CaXRyYXRlcygpKSl9Y2F0Y2goZSl7bC5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIGFjY291bnRpbmcgZXh0ZW5kZWQgc3RhdHNcIix0aGlzLmlkKCksZSl9fSxlLnByb3RvdHlwZS5VTD1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsaT0wLG49MCxzPTAsbz0wO3QuZm9yRWFjaChmdW5jdGlvbih0LGEpe3ZhciBoPXQuc3VjY2Vzcyt0LmxsO2lmKGkrPWgsbys9dC5ieXRlcyxuKz10LnN1Y2Nlc3Mscys9dC5sbCxlKXt2YXIgYz1yLlBMLlVsLkJMKE51bWJlcihhKSk7ci5ITChjLGgsdC5zdWNjZXNzLHQubGwsdC5ieXRlcyl9fSk7dmFyIGE9dGhpcy5QTC5VbC54TCgpO3RoaXMuSEwoYSxpLG4scyxvKX0sZS5wcm90b3R5cGUuSEw9ZnVuY3Rpb24oZSx0LHIsaSxuKXtlLnNyY1JlcU4rPXQsZS5zcmNSZXNwTis9cixlLnNyY1Jlc3BFcnJOKz1pLGUuc3JjUmVzcFF0Kz1uLGUucmVzcEZhbGxiYWNrTis9cixlLnJlc3BGYWxsYmFja0Vyck4rPWl9LGV9KCk7cC5FTD1cIlN0YXRzSlNcIix0LlN0YXRzSlM9cH0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXRoaXMmJnRoaXMuaHV8fGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gcigpe3RoaXMuY29uc3RydWN0b3I9ZX1mb3IodmFyIGkgaW4gdCl0Lmhhc093blByb3BlcnR5KGkpJiYoZVtpXT10W2ldKTtlLnByb3RvdHlwZT1udWxsPT09dD9PYmplY3QuY3JlYXRlKHQpOihyLnByb3RvdHlwZT10LnByb3RvdHlwZSxuZXcgcil9LG49cig1OCkscz1yKDE0Miksbz1yKDkpLGE9cigzNCksaD1yKDMxKSxjPXIoMCksdT1yKDEpLGw9cigyKSxwPXIoMTQzKSxkPXIoMTUwKTshZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0KXtyZXR1cm4gdGhpcy5xTCh0KXx8LTEhPXQuaW5kZXhPZihlLkdMKX1mdW5jdGlvbiByKHQpe3JldHVybi0xIT10LnRvTG93ZXJDYXNlKCkuaW5kZXhPZihlLlZMLnRvTG93ZXJDYXNlKCkpfHwtMSE9dC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoZS5qTC50b0xvd2VyQ2FzZSgpKX1mdW5jdGlvbiBmKHQscil7dmFyIGk9ci5yZXBsYWNlKFwiX2RlZmluc3RfL1wiLFwiXCIpLm1hdGNoKG5ldyBSZWdFeHAodC5yZXBsYWNlKFwiLm1wZFwiLFwiXCIpK2UuUUwpKTtyZXR1cm4gaSYmaS5sZW5ndGg+MH1lLktMPTEsZS5ZTD0yLGUuV0w9MmUzLGUuekw9M2U0LGUuSkw9MWU0LGUuWEw9ITAsZS5aTD0hMCxlLiRMPTUwMCxlLmVNPTEwLGUuREFTSF9NRVRBREFUQV9NSU5fRlJBR01FTlRTPTMsZS5WTD1cIihmb3JtYXQ9bXBkLXRpbWUtY3NmKVwiLGUuakw9XCIubXBkXCIsZS5RTD1cIl8uKi5tcGRcIixlLkdMPVwiLm00c1wiLGUudE09XCIuaXNtL1wiLGUuck09dCxlLnFMPXI7dmFyIGc9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gbihyLGkpe3ZhciBuPXQuY2FsbCh0aGlzLGkpfHx0aGlzO3JldHVybiBuLkFnPTAsbi5pTT0hMCxuLmxvZ2dlcklkPVwiW0Rhc2ggQ29udGV4dF0gXCIsbi50aWNrZXQ9cixuLm5NPXIuX04oKSxuLnNNPW5ldyBzLm9NLG4ubk0uaW5kZXhPZihlLmpMKT4wP24uYU09bmV3IHAuaE0oaS5zZXNzaW9uSWQpOm4uYU09bmV3IGQuY00oaS5zZXNzaW9uSWQpLG59cmV0dXJuIGkobix0KSxuLnByb3RvdHlwZS5Taz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRpY2tldH0sbi5wcm90b3R5cGUuZ2V0U3RyZWFtUHJvdG9jb2w9ZnVuY3Rpb24oKXtyZXR1cm4gU3RyZWFtUHJvdG9jb2wuREFTSH0sbi5wcm90b3R5cGUudU09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uTX0sbi5wcm90b3R5cGUubE09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hTS5sTSgpfSxuLnByb3RvdHlwZS5pc0xpdmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hTS5wTSgpfSxuLnByb3RvdHlwZS5kTT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNNfSxuLnByb3RvdHlwZS5pZz1mdW5jdGlvbihlKXt2YXIgdD10aGlzLlhmKGUpO2lmKHQ9PW8udmMuZmN8fHQ9PW8udmMuZGMpcmV0dXJuITB9LG4ucHJvdG90eXBlLlhmPWZ1bmN0aW9uKGUpe3RyeXtpZihyKGUpKXJldHVybiBvLnZjLmdjO2lmKHRoaXMuZk0oZSkpcmV0dXJuIG8udmMuRWM7dmFyIHQ9dGhpcy5hTS5nTShlKTtyZXR1cm4gbnVsbCE9dD90LnR5cGU6LTEhPWUuaW5kZXhPZihcImF1ZGlvXCIpP28udmMuZGM6by52Yy5FY31jYXRjaCh0KXtyZXR1cm4gdS5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIGdldHRpbmcgdGhlIGVudGl0eSB0eXBlIGJhc2VkIG9uIGEgdXJsXCIsdGhpcy5sb2dnZXJJZCxsLmhzLllyLkJyLHtkZXRhaWxlZEVycm9yOnQsdXJsOmV9KSxvLnZjLkVjfX0sbi5wcm90b3R5cGUuRU09ZnVuY3Rpb24oZSl7dmFyIHQ9by52Yy5FYyxyPTAsaT0wLG49MCxzPSEwLGg9ITEsYz0wO3RyeXtpZih0PXRoaXMuWGYoZSksdGhpcy5mTShlKSlzPSEwO2Vsc2UgaWYodCE9by52Yy5nYyl7dmFyIHA9dGhpcy5hTS5nTShlKTtudWxsIT1wPyhyPXAuZHVyYXRpb24saT1wLmJpdHJhdGUsbj1wLmlkLGg9dGhpcy5pZyhlKSk6KHRoaXMudGsoKSx0aGlzLmxvZ2dlci53YXJuKFwiY291bGQgbm90IGV4dHJhY3Qgc2VnbWVudCBpbmZvIGZvciBcIitlKSl9ZWxzZSBzPSExO3JldHVybiBjPU1hdGgucm91bmQoci8xZTQpLG5ldyBhLk5fKGUsdCxzLG4sYyxpLGgsdGhpcy5nZXRDb250ZXh0SWQoKSl9Y2F0Y2godCl7cmV0dXJuIHUuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBnZXR0aW5nIHRoZSBlbnRpdHkgY2hhcmFjdGVyaXN0aWNzIGJhc2VkIG9uIGEgdXJsXCIsdGhpcy5sb2dnZXJJZCxsLmhzLllyLkhyLHtkZXRhaWxlZEVycm9yOnQsdXJsOmV9KSxuZXcgYS5OXyhlLG8udmMuRWMsITEsMCwwLDAsITEsdGhpcy5nZXRDb250ZXh0SWQoKSl9fSxuLnByb3RvdHlwZS5uaz1mdW5jdGlvbihlKXt0cnl7dmFyIHQ9ZS51cmwscj10aGlzLmFNLnZNKHQpO3JldHVybiBudWxsIT1yP3RoaXMuRU0oci55TSk6bnVsbH1jYXRjaCh0KXtyZXR1cm4gdS5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIGdldHRpbmcgdGhlIG5leHQgZW50aXR5XCIsdGhpcy5sb2dnZXJJZCxsLmhzLllyLnhyLHtkZXRhaWxlZEVycm9yOnQsdXJsOmUudXJsfSksbnVsbH19LG4ucHJvdG90eXBlLmFrPWZ1bmN0aW9uKCl7cmV0dXJuIHQucHJvdG90eXBlLlRNLmNhbGwodGhpcyxlLktMLGUuWUwpfSxuLnByb3RvdHlwZS5tTT1mdW5jdGlvbihlKXt0cnl7dmFyIHQ9ZS51cmw7dC50b0xvd2VyQ2FzZSgpO3JldHVybiB0PT09dGhpcy5uTXx8KCEobnVsbD09dGhpcy5hTXx8IXRoaXMuYU0uZk0odCkpfHwhKHIodCkmJnRoaXMuYU0uSU0hPT10JiYhZih0aGlzLmFNLklNLHQpKSl9Y2F0Y2godCl7cmV0dXJuIHUuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBpZGVudGlmeWluZyBpZiBpcyBjdXJyZW50IGNvbnRleHRcIix0aGlzLmxvZ2dlcklkLGwuaHMuWXIucXIse2RldGFpbGVkRXJyb3I6dCx1cmw6ZS51cmx9KSwhMX19LG4ucHJvdG90eXBlLlNNPWZ1bmN0aW9uKGUpe3RyeXt2YXIgdD1lLlJNLHI9ZS5LZi51cmwsaT10aGlzLmFNLnBhcnNlKHIsdCxlLktmLmludGVybmFsKTtlLktmLnJlc3BvbnNlVGV4dD1pLGUuS2YucmVzcG9uc2U9aX1jYXRjaCh0KXt1LkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgcGFyc2luZyByZWNlaXZlZCBtZXRhZGF0YVwiLHRoaXMubG9nZ2VySWQsbC5ocy5Zci5Hcix7ZGV0YWlsZWRFcnJvcjp0LHVybDplLktmLnVybH0pLGUuUk0mJihlLktmLnJlc3BvbnNlVGV4dD1lLlJNLGUuS2YucmVzcG9uc2U9ZS5STSl9dHJ5e3RoaXMud00uUUQoKX1jYXRjaCh0KXt1LkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3Igc3RhcnRpbmcgcHJlZmV0Y2hlciBhZnRlciBmZXRjaGluZyBtZXRhZGF0YVwiLHRoaXMubG9nZ2VySWQsbC5ocy5Zci5Wcix7ZGV0YWlsZWRFcnJvcjp0LHVybDplLktmLnVybH0pfXRoaXMuYk0oKX0sbi5wcm90b3R5cGUuQ009ZnVuY3Rpb24oZSl7dmFyIHI9dGhpczt0cnl7dC5wcm90b3R5cGUuQ00uY2FsbCh0aGlzLGUpLGUuWGYoKSE9PW8udmMuZmMmJmUuWGYoKSE9PW8udmMuZGN8fChlLlhmKCk9PT1vLnZjLmZjJiZ0aGlzLnNNLl9NKGUpLHRoaXMuYU0uQ00oZSkudGhlbihmdW5jdGlvbih0KXt0JiZyLmJNKCksZS5YZigpPT1vLnZjLmZjJiZyLndNLlVEKGUuemYpfSkuZG9uZSgpKX1jYXRjaChlKXt1LkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3Igd2hlbiByZWNlaXZlZCBhIGZyYWdtZW50XCIsdGhpcy5sb2dnZXJJZCxsLmhzLllyLmpyLGUpfX0sbi5wcm90b3R5cGUuZ2V0Q29udGV4dElkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGlja2V0LmtOKCl9LG4ucHJvdG90eXBlLlBNPWZ1bmN0aW9uKGUscil7dmFyIGk9ZTtyZXR1cm4gaS5BTT1jLkZyYW1ld29yay50aW1lKCksdC5wcm90b3R5cGUuUE0uY2FsbCh0aGlzLGkscil9LG4ucHJvdG90eXBlLmRrPWZ1bmN0aW9uKGUsdCxyLGkpe3JldHVybiB0aGlzLmFNLmRrKGUsdCxyLGkpfSxuLnByb3RvdHlwZS5mTT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5hTS5mTShlKX0sbi5wcm90b3R5cGUuYk09ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RyeXt0aGlzLmFNLk9NP3RoaXMuYU0uT00uTk0oKS50aGVuKGZ1bmN0aW9uKHIpe2lmKHIpdC5pTT0hMCx0LmxvZ2dlci5kZWJ1ZyhcIlByb3RlY3Rpb24gZXZhbHVhdGlvbjogY2FuIGRlY3J5cHRcIik7ZWxzZXt2YXIgaT1cIlByb3RlY3Rpb24gZXZhbHVhdGlvbjogY2Fubm90IGRlY3J5cHQgW1wiKyhlLlhMP1wiZXJyb3JcIjpcImRpc2FibGVkXCIpK1wiXVwiO2UuWkw/KHQuaU09ITAsdC5sb2dnZXIuZGVidWcoaStcIiwgbWV0YWRhdGEgcHJlZmV0Y2ggZW5hYmxlZFwiKSk6dC5sb2dnZXIud2FybihpK1wiLCBtZXRhZGF0YSBwcmVmZXRjaCBESVNBQkxFRFwiKX19KS5kb25lKCk6dGhpcy5sb2dnZXIuZGVidWcoXCJQcm90ZWN0aW9uIGV2YWx1YXRpb246IG5vdCBlbmNyeXB0ZWRcIil9Y2F0Y2godCl7aWYodS5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIGV2YWx1YXRpbmcgdGhlIHByb3RlY3Rpb25cIix0aGlzLmxvZ2dlcklkLGwuaHMuWXIuUXIsdCksZS5aTCl7dmFyIHI9XCJQcm90ZWN0aW9uIGV2YWx1YXRpb246IGNhbm5vdCBkZWNyeXB0IFtcIisoZS5YTD9cImVycm9yXCI6XCJkaXNhYmxlZFwiKStcIl1cIjt0aGlzLmlNPSEwLHRoaXMubG9nZ2VyLmRlYnVnKHIrXCIsIG1ldGFkYXRhIHByZWZldGNoIGVuYWJsZWRcIil9fX0sbi5wcm90b3R5cGUudGs9ZnVuY3Rpb24oKXt0aGlzLmlNJiYobnVsbD09dGhpcy5ETSYmdGhpcy5hTS5wTSgpP3RoaXMua00oKTp0aGlzLmxvZ2dlci5kZWJ1ZyhcIkRBU0ggUFJFLUZFVENISU5HIE1FVEFEQVRBIEFMUkVBRFkgU0NIRURVTEVEIE9SIE5PVCBMSVZFXCIpKX0sbi5wcm90b3R5cGUuTE09ZnVuY3Rpb24oKXt0aGlzLmlNJiZudWxsIT10aGlzLkRNJiZjLkZyYW1ld29yay5jbGVhclRpbWVvdXQodGhpcy5ETSl9LG4ucHJvdG90eXBlLmtNPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxyPXZvaWQgMCE9dGhpcy5NTT90aGlzLk1NOjAsaT1lLldMLG49citpLHM9TWF0aC5tYXgoMSxuLWMuRnJhbWV3b3JrLnRpbWUoKStlLiRMKTt0aGlzLmxvZ2dlci5kZWJ1ZyhcIkRBU0ggUFJFRkVUQ0hJTkcgTUVUQURBVEEgXCIrdGhpcy5hTS5JTStcIiBJTiBcIitzKSx0aGlzLkRNPWMuRnJhbWV3b3JrLnNldFRpbWVvdXQoZnVuY3Rpb24oKXt0LkZNKHQuYU0uSU0sYy5GcmFtZXdvcmsudGltZSgpKX0scyl9LG4ucHJvdG90eXBlLkZNPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5NTTtpZihudWxsPT1yJiYocj0wKSxyPnQpdGhpcy5rTSgpO2Vsc2V7dmFyIGk9bmV3IGguSGl2ZVJlcXVlc3QodGhpcy50aWNrZXQuc2Vzc2lvbklkKTtpLm9wZW4oXCJHRVRcIixlKSxpLmludGVybmFsPSEwLGkuc2VuZCgpLHRoaXMuRE09bnVsbCx0aGlzLk1NPWMuRnJhbWV3b3JrLnRpbWUoKX19LG4ucHJvdG90eXBlLlVNPWZ1bmN0aW9uKGUpe3RoaXMuYU0uYXV0aGVudGljYXRpb25Ub2tlbj1lfSxuLnByb3RvdHlwZS5saz1mdW5jdGlvbihlLHQpe3RyeXt2YXIgcj10aGlzLlBEKCksaT10aGlzLkJNKCksbj1yLkFfKCkscz10aGlzLmFNLkhNKG4sci5nZXRCaXRyYXRlKCksZSx0KSxvPWMuRnJhbWV3b3JrLnRpbWUoKS1pO3JldHVybiBNYXRoLm1heCgwLHMtbyl9Y2F0Y2goZSl7cmV0dXJuIHUuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBjYWxjdWxhdGluZyB0aGUgZGlzdGFuY2UgZHVyYXRpb25cIix0aGlzLmxvZ2dlcklkLGwuaHMuWXIuS3IsZSksMH19LG4ucHJvdG90eXBlLnhNPWZ1bmN0aW9uKCl7cmV0dXJuIGUuSkx9LG4ucHJvdG90eXBlLlZEPWZ1bmN0aW9uKGUsdCxyKXt2YXIgaT10aGlzLmFNLnFNKGUsdCk7cmV0dXJuIG51bGwhPWk/bmV3IGEuTl8oaS55TSxyLCEwLGUsaS5kdXJhdGlvbix0LCEwLHRoaXMuZ2V0Q29udGV4dElkKCkpOm51bGx9LG4ucHJvdG90eXBlLnBrPWZ1bmN0aW9uKCl7cmV0dXJuIGUuekx9LG59KG4uR00pO2UuVk09Z30odC5EQVNIfHwodC5EQVNIPXt9KSl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1yKDQ4KSxuPXIoMzQpLHM9cigwKSxvPXIoMTQwKSxhPXIoOSksaD1yKDI0KSxjPXIoNDkpLHU9cig1KSxsPXIoMikscD1yKDEpLGQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMuak09XCJbVmlkZW9Db250ZXh0XSBcIix0aGlzLlFNPW5ldyBpLHRoaXMubG9nZ2VyPXMuRnJhbWV3b3JrLnJlc29sdmUocy5GcmFtZXdvcmsuVi5SKS5sb2coZS5zZXNzaW9uSWQpLHRoaXMueUQ9ZS55RCx0aGlzLktNPWUuWU0sdGhpcy5XTT1lLldNLHRoaXMud009ZS56TSx0aGlzLndNLlJEKHRoaXMsdGhpcyl9cmV0dXJuIGUucHJvdG90eXBlLlNrPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLkpNPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMud019LGUucHJvdG90eXBlLlRNPWZ1bmN0aW9uKGUsdCl7dHJ5e3ZhciByPTAsaT0wO2lmKHRoaXMuUU0ubGVuZ3RoPHQpcmV0dXJuITA7Zm9yKHZhciBuPXRoaXMuUU0ua2V5cygpLnJldmVyc2UoKSxzPW5bMF0sbz10aGlzLlFNLmdldChzKS5iaXRyYXRlLGE9bi5zbGljZSgxKSxoPTA7aDxhLmxlbmd0aDtoKyspe3ZhciBjPWFbaF0sdT10aGlzLlFNLmdldChjKSxkPXUuQU0sZj11LmJpdHJhdGUsZz1NYXRoLmFicyh1LkFNLXMpO2lmKGYhPW8pcmV0dXJuITE7aWYoZzxlKXtpZigrK2k+PXQpcmV0dXJuITF9ZWxzZXtpZigrK3I+dClyZXR1cm4hMDtpPU1hdGgubWF4KDAsaS0xKSxzPWQsbz1mfX1yZXR1cm4hMX1jYXRjaChlKXtyZXR1cm4gcC5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIGNhbGN1bGF0aW5nIGlmIHRoZSBwbGF5ZXIgaXMgaW4gYnVmZmVyaW5nIG1vZGVcIix0aGlzLmpNLGwuaHMuYmkuU2ksZSksITF9fSxlLnByb3RvdHlwZS5nZXRDb250ZXh0SWQ9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUuUE09ZnVuY3Rpb24oZSx0KXtpZih0aGlzLlhNKHQpKXt2YXIgcj10aGlzLlBEKCk7aWYocil7dmFyIGk9ZS5nZXRCaXRyYXRlKCksbj1yLmdldEJpdHJhdGUoKTtpPm4/dGhpcy5LTS5aTSghMCk6aTxuJiZ0aGlzLktNLlpNKCExKX1lbHNlIHRoaXMuS00uWk0oITApO2lmKHRoaXMuUU0ubGVuZ3RoPnUuaGgueWEuZ2Epe3ZhciBvPXRoaXMuUU0ua2V5cygpWzBdO3RoaXMuUU0uZGVsZXRlKG8pfXRoaXMuUU0uc2V0KHMuRnJhbWV3b3JrLnRpbWUoKSxlKX1yZXR1cm4gdGhpcy4kTShlLHQpfSxlLnByb3RvdHlwZS4kTT1mdW5jdGlvbihlLHQpe3ZhciByPW5ldyBvLmVGO3RyeXtpZih0aGlzLndNLmJEKGUuYml0cmF0ZSkpe2lmKHRoaXMuV00udEYoZS5aZigpKSl7ci5yRj0hMDt2YXIgaT10aGlzLldNLmlGKGUuWmYoKSk7dGhpcy5uRih0LGkscil9aWYodGhpcy5XTS5zRihlLlpmKCkpKWZvcih2YXIgbj10aGlzLldNLm9GKGUuWmYoKSkscz0wLGE9bjtzPGEubGVuZ3RoO3MrKyl7dmFyIGg9YVtzXTt0aGlzLm5GKHQsaC5KZigpLHIpLHIuYUY9ITB9fWVsc2V7dmFyIHU9Yy5zRC5tYzt0aGlzLnlELmNrKCkmJih1PWMuc0QuaUQpLHRoaXMud00uREQoZS5iaXRyYXRlLHUsdSl9cmV0dXJuIHJ9Y2F0Y2goZSl7cmV0dXJuIHAuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBjb25maWd1cmluZyB0aGUgcmVxdWVzdCBkaXJlY3RpdmVcIix0aGlzLmpNLGwuaHMuYmkuUmksZSksbmV3IG8uZUZ9fSxlLnByb3RvdHlwZS5uRj1mdW5jdGlvbihlLHQscil7ZSE9aC5iZi5JZiYmZSE9aC5iZi53Znx8dCE9aC5iZi5UZiYmdCE9aC5iZi53ZiYmdCE9aC5iZi5JZnx8KHIuaEY9ITApfSxlLnByb3RvdHlwZS5YTT1mdW5jdGlvbihlKXtyZXR1cm4gZSE9aC5iZi53ZiYmZSE9aC5iZi5JZn0sZS5wcm90b3R5cGUuY0Y9ZnVuY3Rpb24oZSx0LHIpe3ZhciBpPVtdO3RyeXtmb3IodmFyIG49dGhpcy5XTS5vRih0LlpmKCkpLHM9MCxvPW47czxvLmxlbmd0aDtzKyspe3ZhciBhPW9bc107YS5KZigpIT1oLmJmLlRmJiYodGhpcy53TS53ayhhLGUpLGkucHVzaChhLmJrKSl9cmV0dXJuIGl9Y2F0Y2goZSl7cmV0dXJuIHAuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBhdHRlbXB0aW5nIHRvIHVwZ3JhZGUgcHJlZmV0Y2hcIix0aGlzLmpNLGwuaHMuYmkud2ksZSksW119fSxlLnByb3RvdHlwZS51Rj1mdW5jdGlvbihlKXt0aGlzLldNLnVGKGUpfSxlLnByb3RvdHlwZS5sRj1mdW5jdGlvbihlLHQpe3RoaXMuV00ubEYoZSx0KX0sZS5wcm90b3R5cGUucEY9ZnVuY3Rpb24oZSl7dGhpcy5XTS5wRihlKX0sZS5wcm90b3R5cGUuZEY9ZnVuY3Rpb24oZSl7dGhpcy5XTS5mRihlKX0sZS5wcm90b3R5cGUuZ0Y9ZnVuY3Rpb24oZSl7dGhpcy5XTS5FRigpfHx0aGlzLndNLkhEKGUpfSxlLnByb3RvdHlwZS5QRD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuUU0ua2V5cygpO3JldHVybiBlLmxlbmd0aD4wP3RoaXMuUU0uZ2V0KGVbZS5sZW5ndGgtMV0pOm51bGx9LGUucHJvdG90eXBlLkJNPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5RTS5rZXlzKCk7aWYoZS5sZW5ndGg+MClyZXR1cm4gZVtlLmxlbmd0aC0xXX0sZS5wcm90b3R5cGUudkY9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy55RihlKTtudWxsIT10JiZ0aGlzLmdGKHQuYml0cmF0ZSl9LGUucHJvdG90eXBlLnlGPWZ1bmN0aW9uKGUpe3ZhciB0PWUuZnJhZ21lbnRJZCxyPXQuc2xpY2UoMCx0Lmxhc3RJbmRleE9mKFwiLVwiKSksaT1yLnNsaWNlKDAsci5sYXN0SW5kZXhPZihcIi1cIikpLHM9ZS5nZXRUeXBlKCk7cmV0dXJuIG5ldyBuLk5fKGkscywhMCxlLmlkLGUuZHVyYXRpb24sZS5iaXRyYXRlLCEwLHRoaXMuZ2V0Q29udGV4dElkKCkpfSxlLnByb3RvdHlwZS5haz1mdW5jdGlvbigpe3JldHVybiExfSxlLnByb3RvdHlwZS5kaz1mdW5jdGlvbihlLHQscixpKXtyZXR1cm4gMH0sZS5wcm90b3R5cGUucGs9ZnVuY3Rpb24oKXtyZXR1cm4gM2U0fSxlLnByb3RvdHlwZS54TT1mdW5jdGlvbigpe3JldHVybiAxZTR9LGUucHJvdG90eXBlLm5rPWZ1bmN0aW9uKGUpe3JldHVybiBudWxsfSxlLnByb3RvdHlwZS5WRD1mdW5jdGlvbihlLHQscil7cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLmdldFN0cmVhbVByb3RvY29sPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLmlzTGl2ZT1mdW5jdGlvbigpe3JldHVybiExfSxlLnByb3RvdHlwZS50az1mdW5jdGlvbihlKXt9LGUucHJvdG90eXBlLkxNPWZ1bmN0aW9uKCl7fSxlLnByb3RvdHlwZS5sTT1mdW5jdGlvbigpe3JldHVybiBudWxsfSxlLnByb3RvdHlwZS5tTT1mdW5jdGlvbihlKXt9LGUucHJvdG90eXBlLmRNPWZ1bmN0aW9uKCl7fSxlLnByb3RvdHlwZS5FTT1mdW5jdGlvbihlKXt9LGUucHJvdG90eXBlLlNNPWZ1bmN0aW9uKGUpe30sZS5wcm90b3R5cGUuQ009ZnVuY3Rpb24oZSl7ZS5YZigpPT09YS52Yy5mYyYmdGhpcy5sRihlLlpmKCksZS4kZigpKX0sZS5wcm90b3R5cGUudU09ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUuVU09ZnVuY3Rpb24oZSl7fSxlLnByb3RvdHlwZS5saz1mdW5jdGlvbihlLHQpe3JldHVybiAwfSxlfSgpO3QuR009ZH0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGkoZSx0LHIscyl7aWYoISh0aGlzIGluc3RhbmNlb2YgaSkpcmV0dXJuIG5ldyBpKGUsdCxyLHMpO24uY2FsbCh0aGlzLGUsdCxyLHMpfWUuaT1pO3ZhciBuPShyKDExKSxyKDE0MSkpLHM9cigzOSksbz1yKDEzKTtpLlRGPWksaS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShuLnByb3RvdHlwZSksaS5wcm90b3R5cGUuY29uc3RydWN0b3I9aSxPYmplY3QuYWRkRWFjaChpLnByb3RvdHlwZSxzLnByb3RvdHlwZSksT2JqZWN0LmFkZEVhY2goaS5wcm90b3R5cGUsby5wcm90b3R5cGUpLGkucHJvdG90eXBlLm1GPSEwLGkucHJvdG90eXBlLmFkZD1mdW5jdGlvbihlKXtyZXR1cm4hdGhpcy5oYXMoZSkmJihuLnByb3RvdHlwZS5hZGQuY2FsbCh0aGlzLGUpLCEwKX0saS5wcm90b3R5cGUucmVkdWNlPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxpPWFyZ3VtZW50c1syXTtyZXR1cm4gdGhpcy5OVC5yZWR1Y2UoZnVuY3Rpb24odCxuLHMpe3JldHVybiBlLmNhbGwoaSx0LG4scyxyKX0sdCl9LGkucHJvdG90eXBlLnJlZHVjZVJpZ2h0PWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxpPWFyZ3VtZW50c1syXTtyZXR1cm4gdGhpcy5OVC5yZWR1Y2VSaWdodChmdW5jdGlvbih0LG4scyl7cmV0dXJuIGUuY2FsbChpLHQsbixzLHIpfSx0KX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgaT1yKDMzKTtcInVuZGVmaW5lZFwiPT10eXBlb2YgaGl2ZSYmKGhpdmU9e30pLHZvaWQgMD09PWhpdmUuc2VydmljZXMmJihoaXZlLnNlcnZpY2VzPXt9KSx2b2lkIDA9PT1oaXZlLnNlcnZpY2VzLnByb3RvY29sJiYoaGl2ZS5zZXJ2aWNlcy5wcm90b2NvbD17fSksdm9pZCAwPT09aGl2ZS5zZXJ2aWNlcy5wcm90b2NvbC5JRiYmKGhpdmUuc2VydmljZXMucHJvdG9jb2wuSUY9e30pLGhpdmUuc2VydmljZXMucHJvdG9jb2wuSUYud2M9ezE6XCJQTEFZRVJcIixtYzoxLDI6XCJQMlBfQUdFTlRcIixJYzoyLDM6XCJQUkVGRVRDSEVSX0ZJUlNUX1RJRVJcIixTYzozLDQ6XCJQUkVGRVRDSEVSX1NFQ09ORF9USUVSXCIsUmM6NH0saGl2ZS5zZXJ2aWNlcy5wcm90b2NvbC5JRi5TRj17MTpcIkdsb2JhbFwiLFJGOjEsMjpcIkludGVybmFsQXNcIix3RjoyLDM6XCJFeHRlcm5hbEFzXCIsYkY6M30saGl2ZS5zZXJ2aWNlcy5wcm90b2NvbC5JRi5DRj17MTpcIkludGVybmFsXCIsX0Y6MSwyOlwiRXh0ZXJuYWxcIixFeHRlcm5hbDoyfSxoaXZlLnNlcnZpY2VzLnByb3RvY29sLklGLlRyYWNrZXJQZWVyU3RyZWFtSW5mbz1mdW5jdGlvbihlKXt0aGlzLnN0YXRlPW51bGwsdGhpcy5iaXRyYXRlPW51bGwsdGhpcy5kZWx0YT1udWxsLGUmJih2b2lkIDAhPT1lLnN0YXRlJiYodGhpcy5zdGF0ZT1lLnN0YXRlKSx2b2lkIDAhPT1lLmJpdHJhdGUmJih0aGlzLmJpdHJhdGU9ZS5iaXRyYXRlKSx2b2lkIDAhPT1lLmRlbHRhJiYodGhpcy5kZWx0YT1lLmRlbHRhKSl9LGhpdmUuc2VydmljZXMucHJvdG9jb2wuSUYuVHJhY2tlclBlZXJTdHJlYW1JbmZvLnByb3RvdHlwZT17fSxoaXZlLnNlcnZpY2VzLnByb3RvY29sLklGLlRyYWNrZXJQZWVyU3RyZWFtSW5mby5wcm90b3R5cGUucmVhZD1mdW5jdGlvbihlKXtmb3IoZS5yXygpOzspe3ZhciB0PWUua2IoKSxyPSh0LmZuYW1lLHQuZnR5cGUpLG49dC5maWQ7aWYocj09aS5UeXBlLlNUT1ApYnJlYWs7c3dpdGNoKG4pe2Nhc2UgMTpyPT1pLlR5cGUuSTMyP3RoaXMuc3RhdGU9ZS5GYigpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSAyOnI9PWkuVHlwZS5JMzI/dGhpcy5iaXRyYXRlPWUuRmIoKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgMzpyPT1pLlR5cGUuSTMyP3RoaXMuZGVsdGE9ZS5GYigpLnZhbHVlOmUuTWIocik7YnJlYWs7ZGVmYXVsdDplLk1iKHIpfWUuVWIoKX1lLkJiKCl9LGhpdmUuc2VydmljZXMucHJvdG9jb2wuSUYuVHJhY2tlclBlZXJTdHJlYW1JbmZvLnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbihlKXtlLkhiKFwiVHJhY2tlclBlZXJTdHJlYW1JbmZvXCIpLG51bGwhPT10aGlzLnN0YXRlJiZ2b2lkIDAhPT10aGlzLnN0YXRlJiYoZS54YihcInN0YXRlXCIsaS5UeXBlLkkzMiwxKSxlLlZiKHRoaXMuc3RhdGUpLGUuR2IoKSksbnVsbCE9PXRoaXMuYml0cmF0ZSYmdm9pZCAwIT09dGhpcy5iaXRyYXRlJiYoZS54YihcImJpdHJhdGVcIixpLlR5cGUuSTMyLDIpLGUuVmIodGhpcy5iaXRyYXRlKSxlLkdiKCkpLG51bGwhPT10aGlzLmRlbHRhJiZ2b2lkIDAhPT10aGlzLmRlbHRhJiYoZS54YihcImRlbHRhXCIsaS5UeXBlLkkzMiwzKSxlLlZiKHRoaXMuZGVsdGEpLGUuR2IoKSksZS5qYigpLGUuUWIoKX0saGl2ZS5zZXJ2aWNlcy5wcm90b2NvbC5JRi5UcmFja2VyUGVlckluZm89ZnVuY3Rpb24oZSl7dGhpcy5ndWlkPW51bGwsdGhpcy5pbnRlcm5hbEFzPW51bGwsdGhpcy5leHRlcm5hbEFzPW51bGwsdGhpcy5uYXQ9bnVsbCx0aGlzLmJhbmR3aWR0aD1udWxsLHRoaXMud2F0Y2hpbmdCaXRyYXRlPW51bGwsdGhpcy5wcml2YXRlSXA9bnVsbCx0aGlzLnB1YmxpY0lwPW51bGwsdGhpcy5zdHJlYW1zPW51bGwsdGhpcy5yYW5rVmFsdWU9bnVsbCx0aGlzLnRpbWVzdGFtcD1udWxsLHRoaXMucHVibGljSXBTdHJpbmc9bnVsbCx0aGlzLnByaXZhdGVJcFN0cmluZz1udWxsLGUmJih2b2lkIDAhPT1lLmd1aWQmJih0aGlzLmd1aWQ9ZS5ndWlkKSx2b2lkIDAhPT1lLmludGVybmFsQXMmJih0aGlzLmludGVybmFsQXM9ZS5pbnRlcm5hbEFzKSx2b2lkIDAhPT1lLmV4dGVybmFsQXMmJih0aGlzLmV4dGVybmFsQXM9ZS5leHRlcm5hbEFzKSx2b2lkIDAhPT1lLm5hdCYmKHRoaXMubmF0PWUubmF0KSx2b2lkIDAhPT1lLmJhbmR3aWR0aCYmKHRoaXMuYmFuZHdpZHRoPWUuYmFuZHdpZHRoKSx2b2lkIDAhPT1lLndhdGNoaW5nQml0cmF0ZSYmKHRoaXMud2F0Y2hpbmdCaXRyYXRlPWUud2F0Y2hpbmdCaXRyYXRlKSx2b2lkIDAhPT1lLnByaXZhdGVJcCYmKHRoaXMucHJpdmF0ZUlwPWUucHJpdmF0ZUlwKSx2b2lkIDAhPT1lLnB1YmxpY0lwJiYodGhpcy5wdWJsaWNJcD1lLnB1YmxpY0lwKSx2b2lkIDAhPT1lLnN0cmVhbXMmJih0aGlzLnN0cmVhbXM9ZS5zdHJlYW1zKSx2b2lkIDAhPT1lLnJhbmtWYWx1ZSYmKHRoaXMucmFua1ZhbHVlPWUucmFua1ZhbHVlKSx2b2lkIDAhPT1lLnRpbWVzdGFtcCYmKHRoaXMudGltZXN0YW1wPWUudGltZXN0YW1wKSx2b2lkIDAhPT1lLnB1YmxpY0lwU3RyaW5nJiYodGhpcy5wdWJsaWNJcFN0cmluZz1lLnB1YmxpY0lwU3RyaW5nKSx2b2lkIDAhPT1lLnByaXZhdGVJcFN0cmluZyYmKHRoaXMucHJpdmF0ZUlwU3RyaW5nPWUucHJpdmF0ZUlwU3RyaW5nKSl9LGhpdmUuc2VydmljZXMucHJvdG9jb2wuSUYuVHJhY2tlclBlZXJJbmZvLnByb3RvdHlwZT17fSxoaXZlLnNlcnZpY2VzLnByb3RvY29sLklGLlRyYWNrZXJQZWVySW5mby5wcm90b3R5cGUucmVhZD1mdW5jdGlvbihlKXtmb3IoZS5yXygpOzspe3ZhciB0PWUua2IoKSxyPSh0LmZuYW1lLHQuZnR5cGUpLG49dC5maWQ7aWYocj09aS5UeXBlLlNUT1ApYnJlYWs7c3dpdGNoKG4pe2Nhc2UgMTpyPT1pLlR5cGUuU1RSSU5HP3RoaXMuZ3VpZD1lLnZfKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDI6cj09aS5UeXBlLkkzMj90aGlzLmludGVybmFsQXM9ZS5GYigpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSAzOnI9PWkuVHlwZS5JMzI/dGhpcy5leHRlcm5hbEFzPWUuRmIoKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgNDpyPT1pLlR5cGUuSTMyP3RoaXMubmF0PWUuRmIoKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgNTpyPT1pLlR5cGUuSTMyP3RoaXMuYmFuZHdpZHRoPWUuRmIoKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgNjpyPT1pLlR5cGUuSTMyP3RoaXMud2F0Y2hpbmdCaXRyYXRlPWUuRmIoKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgNzpyPT1pLlR5cGUuU1RSVUNUPyh0aGlzLnByaXZhdGVJcD1uZXcgSW5ldEFkZHJlc3MsdGhpcy5wcml2YXRlSXAucmVhZChlKSk6ZS5NYihyKTticmVhaztjYXNlIDg6cj09aS5UeXBlLlNUUlVDVD8odGhpcy5wdWJsaWNJcD1uZXcgSW5ldEFkZHJlc3MsdGhpcy5wdWJsaWNJcC5yZWFkKGUpKTplLk1iKHIpO2JyZWFrO2Nhc2UgOTppZihyPT1pLlR5cGUuTElTVCl7dmFyIHMsbz0wO3RoaXMuc3RyZWFtcz1bXTtzPWUuYV8oKSxzLmhfLG89cy5zaXplO2Zvcih2YXIgYT0wO2E8bzsrK2Epe3ZhciBoPW51bGw7aD1uZXcgaGl2ZS5zZXJ2aWNlcy5wcm90b2NvbC5JRi5UcmFja2VyUGVlclN0cmVhbUluZm8saC5yZWFkKGUpLHRoaXMuc3RyZWFtcy5wdXNoKGgpfWUuY18oKX1lbHNlIGUuTWIocik7YnJlYWs7Y2FzZSAxMDpyPT1pLlR5cGUuRE9VQkxFP3RoaXMucmFua1ZhbHVlPWUuRV8oKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgMTE6cj09aS5UeXBlLkk2ND90aGlzLnRpbWVzdGFtcD1lLmdfKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDEyOnI9PWkuVHlwZS5TVFJJTkc/dGhpcy5wdWJsaWNJcFN0cmluZz1lLkxiKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDEzOnI9PWkuVHlwZS5TVFJJTkc/dGhpcy5wcml2YXRlSXBTdHJpbmc9ZS5MYigpLnZhbHVlOmUuTWIocik7YnJlYWs7ZGVmYXVsdDplLk1iKHIpfWUuVWIoKX1lLkJiKCl9LGhpdmUuc2VydmljZXMucHJvdG9jb2wuSUYuVHJhY2tlclBlZXJJbmZvLnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbihlKXtpZihlLkhiKFwiVHJhY2tlclBlZXJJbmZvXCIpLG51bGwhPT10aGlzLmd1aWQmJnZvaWQgMCE9PXRoaXMuZ3VpZCYmKGUueGIoXCJndWlkXCIsaS5UeXBlLlNUUklORywxKSxlLldDKHRoaXMuZ3VpZCksZS5HYigpKSxudWxsIT09dGhpcy5pbnRlcm5hbEFzJiZ2b2lkIDAhPT10aGlzLmludGVybmFsQXMmJihlLnhiKFwiaW50ZXJuYWxBc1wiLGkuVHlwZS5JMzIsMiksZS5WYih0aGlzLmludGVybmFsQXMpLGUuR2IoKSksbnVsbCE9PXRoaXMuZXh0ZXJuYWxBcyYmdm9pZCAwIT09dGhpcy5leHRlcm5hbEFzJiYoZS54YihcImV4dGVybmFsQXNcIixpLlR5cGUuSTMyLDMpLGUuVmIodGhpcy5leHRlcm5hbEFzKSxlLkdiKCkpLG51bGwhPT10aGlzLm5hdCYmdm9pZCAwIT09dGhpcy5uYXQmJihlLnhiKFwibmF0XCIsaS5UeXBlLkkzMiw0KSxlLlZiKHRoaXMubmF0KSxlLkdiKCkpLG51bGwhPT10aGlzLmJhbmR3aWR0aCYmdm9pZCAwIT09dGhpcy5iYW5kd2lkdGgmJihlLnhiKFwiYmFuZHdpZHRoXCIsaS5UeXBlLkkzMiw1KSxlLlZiKHRoaXMuYmFuZHdpZHRoKSxlLkdiKCkpLG51bGwhPT10aGlzLndhdGNoaW5nQml0cmF0ZSYmdm9pZCAwIT09dGhpcy53YXRjaGluZ0JpdHJhdGUmJihlLnhiKFwid2F0Y2hpbmdCaXRyYXRlXCIsaS5UeXBlLkkzMiw2KSxlLlZiKHRoaXMud2F0Y2hpbmdCaXRyYXRlKSxlLkdiKCkpLG51bGwhPT10aGlzLnByaXZhdGVJcCYmdm9pZCAwIT09dGhpcy5wcml2YXRlSXAmJihlLnhiKFwicHJpdmF0ZUlwXCIsaS5UeXBlLlNUUlVDVCw3KSx0aGlzLnByaXZhdGVJcC53cml0ZShlKSxlLkdiKCkpLG51bGwhPT10aGlzLnB1YmxpY0lwJiZ2b2lkIDAhPT10aGlzLnB1YmxpY0lwJiYoZS54YihcInB1YmxpY0lwXCIsaS5UeXBlLlNUUlVDVCw4KSx0aGlzLnB1YmxpY0lwLndyaXRlKGUpLGUuR2IoKSksbnVsbCE9PXRoaXMuc3RyZWFtcyYmdm9pZCAwIT09dGhpcy5zdHJlYW1zKXtlLnhiKFwic3RyZWFtc1wiLGkuVHlwZS5MSVNULDkpLGUuSEMoaS5UeXBlLlNUUlVDVCx0aGlzLnN0cmVhbXMubGVuZ3RoKTtmb3IodmFyIHQgaW4gdGhpcy5zdHJlYW1zKXRoaXMuc3RyZWFtcy5oYXNPd25Qcm9wZXJ0eSh0KSYmKHQ9dGhpcy5zdHJlYW1zW3RdLHQud3JpdGUoZSkpO2UueEMoKSxlLkdiKCl9bnVsbCE9PXRoaXMucmFua1ZhbHVlJiZ2b2lkIDAhPT10aGlzLnJhbmtWYWx1ZSYmKGUueGIoXCJyYW5rVmFsdWVcIixpLlR5cGUuRE9VQkxFLDEwKSxlLllDKHRoaXMucmFua1ZhbHVlKSxlLkdiKCkpLG51bGwhPT10aGlzLnRpbWVzdGFtcCYmdm9pZCAwIT09dGhpcy50aW1lc3RhbXAmJihlLnhiKFwidGltZXN0YW1wXCIsaS5UeXBlLkk2NCwxMSksZS5LQyh0aGlzLnRpbWVzdGFtcCksZS5HYigpKSxudWxsIT09dGhpcy5wdWJsaWNJcFN0cmluZyYmdm9pZCAwIT09dGhpcy5wdWJsaWNJcFN0cmluZyYmKGUueGIoXCJwdWJsaWNJcFN0cmluZ1wiLGkuVHlwZS5TVFJJTkcsMTIpLGUucWIodGhpcy5wdWJsaWNJcFN0cmluZyksZS5HYigpKSxudWxsIT09dGhpcy5wcml2YXRlSXBTdHJpbmcmJnZvaWQgMCE9PXRoaXMucHJpdmF0ZUlwU3RyaW5nJiYoZS54YihcInByaXZhdGVJcFN0cmluZ1wiLGkuVHlwZS5TVFJJTkcsMTMpLGUucWIodGhpcy5wcml2YXRlSXBTdHJpbmcpLGUuR2IoKSksZS5qYigpLGUuUWIoKX0saGl2ZS5zZXJ2aWNlcy5wcm90b2NvbC5JRi5DdXN0b21lcktleT1mdW5jdGlvbihlKXt0aGlzLnBhcnRuZXJJZD1udWxsLHRoaXMuY3VzdG9tZXJJZD1udWxsLGUmJih2b2lkIDAhPT1lLnBhcnRuZXJJZCYmKHRoaXMucGFydG5lcklkPWUucGFydG5lcklkKSx2b2lkIDAhPT1lLmN1c3RvbWVySWQmJih0aGlzLmN1c3RvbWVySWQ9ZS5jdXN0b21lcklkKSl9LGhpdmUuc2VydmljZXMucHJvdG9jb2wuSUYuQ3VzdG9tZXJLZXkucHJvdG90eXBlPXt9LGhpdmUuc2VydmljZXMucHJvdG9jb2wuSUYuQ3VzdG9tZXJLZXkucHJvdG90eXBlLnJlYWQ9ZnVuY3Rpb24oZSl7Zm9yKGUucl8oKTs7KXt2YXIgdD1lLmtiKCkscj0odC5mbmFtZSx0LmZ0eXBlKSxuPXQuZmlkO2lmKHI9PWkuVHlwZS5TVE9QKWJyZWFrO3N3aXRjaChuKXtjYXNlIDE6cj09aS5UeXBlLlNUUklORz90aGlzLnBhcnRuZXJJZD1lLkxiKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDI6cj09aS5UeXBlLlNUUklORz90aGlzLmN1c3RvbWVySWQ9ZS5MYigpLnZhbHVlOmUuTWIocik7YnJlYWs7ZGVmYXVsdDplLk1iKHIpfWUuVWIoKX1lLkJiKCl9LGhpdmUuc2VydmljZXMucHJvdG9jb2wuSUYuQ3VzdG9tZXJLZXkucHJvdG90eXBlLndyaXRlPWZ1bmN0aW9uKGUpe2UuSGIoXCJDdXN0b21lcktleVwiKSxudWxsIT09dGhpcy5wYXJ0bmVySWQmJnZvaWQgMCE9PXRoaXMucGFydG5lcklkJiYoZS54YihcInBhcnRuZXJJZFwiLGkuVHlwZS5TVFJJTkcsMSksZS5xYih0aGlzLnBhcnRuZXJJZCksZS5HYigpKSxudWxsIT09dGhpcy5jdXN0b21lcklkJiZ2b2lkIDAhPT10aGlzLmN1c3RvbWVySWQmJihlLnhiKFwiY3VzdG9tZXJJZFwiLGkuVHlwZS5TVFJJTkcsMiksZS5xYih0aGlzLmN1c3RvbWVySWQpLGUuR2IoKSksZS5qYigpLGUuUWIoKX0saGl2ZS5zZXJ2aWNlcy5wcm90b2NvbC5JRi5UcmFja2VyQXNRdWVyeT1mdW5jdGlvbihlKXt0aGlzLmFzVHlwZT1udWxsLHRoaXMuYXNuPW51bGwsZSYmKHZvaWQgMCE9PWUuYXNUeXBlJiYodGhpcy5hc1R5cGU9ZS5hc1R5cGUpLHZvaWQgMCE9PWUuYXNuJiYodGhpcy5hc249ZS5hc24pKX0saGl2ZS5zZXJ2aWNlcy5wcm90b2NvbC5JRi5UcmFja2VyQXNRdWVyeS5wcm90b3R5cGU9e30saGl2ZS5zZXJ2aWNlcy5wcm90b2NvbC5JRi5UcmFja2VyQXNRdWVyeS5wcm90b3R5cGUucmVhZD1mdW5jdGlvbihlKXtmb3IoZS5yXygpOzspe3ZhciB0PWUua2IoKSxyPSh0LmZuYW1lLHQuZnR5cGUpLG49dC5maWQ7aWYocj09aS5UeXBlLlNUT1ApYnJlYWs7c3dpdGNoKG4pe2Nhc2UgMTpyPT1pLlR5cGUuSTMyP3RoaXMuYXNUeXBlPWUuRmIoKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgMjpyPT1pLlR5cGUuSTMyP3RoaXMuYXNuPWUuRmIoKS52YWx1ZTplLk1iKHIpO2JyZWFrO2RlZmF1bHQ6ZS5NYihyKX1lLlViKCl9ZS5CYigpfSxoaXZlLnNlcnZpY2VzLnByb3RvY29sLklGLlRyYWNrZXJBc1F1ZXJ5LnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbihlKXtlLkhiKFwiVHJhY2tlckFzUXVlcnlcIiksbnVsbCE9PXRoaXMuYXNUeXBlJiZ2b2lkIDAhPT10aGlzLmFzVHlwZSYmKGUueGIoXCJhc1R5cGVcIixpLlR5cGUuSTMyLDEpLGUuVmIodGhpcy5hc1R5cGUpLGUuR2IoKSksbnVsbCE9PXRoaXMuYXNuJiZ2b2lkIDAhPT10aGlzLmFzbiYmKGUueGIoXCJhc25cIixpLlR5cGUuSTMyLDIpLGUuVmIodGhpcy5hc24pLGUuR2IoKSksZS5qYigpLGUuUWIoKX0saGl2ZS5zZXJ2aWNlcy5wcm90b2NvbC5JRi5UcmFja2VyQml0cmF0ZVF1ZXJ5PWZ1bmN0aW9uKGUpe3RoaXMuYml0cmF0ZT1udWxsLHRoaXMuYXNuPW51bGwsdGhpcy5zdHJlYW1TdGF0ZT1udWxsLGUmJih2b2lkIDAhPT1lLmJpdHJhdGUmJih0aGlzLmJpdHJhdGU9ZS5iaXRyYXRlKSx2b2lkIDAhPT1lLmFzbiYmKHRoaXMuYXNuPWUuYXNuKSx2b2lkIDAhPT1lLnN0cmVhbVN0YXRlJiYodGhpcy5zdHJlYW1TdGF0ZT1lLnN0cmVhbVN0YXRlKSl9LGhpdmUuc2VydmljZXMucHJvdG9jb2wuSUYuVHJhY2tlckJpdHJhdGVRdWVyeS5wcm90b3R5cGU9e30saGl2ZS5zZXJ2aWNlcy5wcm90b2NvbC5JRi5UcmFja2VyQml0cmF0ZVF1ZXJ5LnByb3RvdHlwZS5yZWFkPWZ1bmN0aW9uKGUpe2ZvcihlLnJfKCk7Oyl7dmFyIHQ9ZS5rYigpLHI9KHQuZm5hbWUsdC5mdHlwZSksbj10LmZpZDtpZihyPT1pLlR5cGUuU1RPUClicmVhaztzd2l0Y2gobil7Y2FzZSAxOnI9PWkuVHlwZS5JMzI/dGhpcy5iaXRyYXRlPWUuRmIoKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgMjpyPT1pLlR5cGUuU1RSVUNUPyh0aGlzLmFzbj1uZXcgaGl2ZS5zZXJ2aWNlcy5wcm90b2NvbC5JRi5UcmFja2VyQXNRdWVyeSx0aGlzLmFzbi5yZWFkKGUpKTplLk1iKHIpO2JyZWFrO2Nhc2UgMzpyPT1pLlR5cGUuSTMyP3RoaXMuc3RyZWFtU3RhdGU9ZS5GYigpLnZhbHVlOmUuTWIocik7YnJlYWs7ZGVmYXVsdDplLk1iKHIpfWUuVWIoKX1lLkJiKCl9LGhpdmUuc2VydmljZXMucHJvdG9jb2wuSUYuVHJhY2tlckJpdHJhdGVRdWVyeS5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24oZSl7ZS5IYihcIlRyYWNrZXJCaXRyYXRlUXVlcnlcIiksbnVsbCE9PXRoaXMuYml0cmF0ZSYmdm9pZCAwIT09dGhpcy5iaXRyYXRlJiYoZS54YihcImJpdHJhdGVcIixpLlR5cGUuSTMyLDEpLGUuVmIodGhpcy5iaXRyYXRlKSxlLkdiKCkpLG51bGwhPT10aGlzLmFzbiYmdm9pZCAwIT09dGhpcy5hc24mJihlLnhiKFwiYXNuXCIsaS5UeXBlLlNUUlVDVCwyKSx0aGlzLmFzbi53cml0ZShlKSxlLkdiKCkpLG51bGwhPT10aGlzLnN0cmVhbVN0YXRlJiZ2b2lkIDAhPT10aGlzLnN0cmVhbVN0YXRlJiYoZS54YihcInN0cmVhbVN0YXRlXCIsaS5UeXBlLkkzMiwzKSxlLlZiKHRoaXMuc3RyZWFtU3RhdGUpLGUuR2IoKSksZS5qYigpLGUuUWIoKX0saGl2ZS5zZXJ2aWNlcy5wcm90b2NvbC5JRi5UcmFja2VyUmFua1F1ZXJ5PWZ1bmN0aW9uKGUpe3RoaXMucmFua1R5cGU9bnVsbCx0aGlzLmFzUXVlcnk9bnVsbCxlJiYodm9pZCAwIT09ZS5yYW5rVHlwZSYmKHRoaXMucmFua1R5cGU9ZS5yYW5rVHlwZSksdm9pZCAwIT09ZS5hc1F1ZXJ5JiYodGhpcy5hc1F1ZXJ5PWUuYXNRdWVyeSkpfSxoaXZlLnNlcnZpY2VzLnByb3RvY29sLklGLlRyYWNrZXJSYW5rUXVlcnkucHJvdG90eXBlPXt9LGhpdmUuc2VydmljZXMucHJvdG9jb2wuSUYuVHJhY2tlclJhbmtRdWVyeS5wcm90b3R5cGUucmVhZD1mdW5jdGlvbihlKXtmb3IoZS5yXygpOzspe3ZhciB0PWUua2IoKSxyPSh0LmZuYW1lLHQuZnR5cGUpLG49dC5maWQ7aWYocj09aS5UeXBlLlNUT1ApYnJlYWs7c3dpdGNoKG4pe2Nhc2UgMTpyPT1pLlR5cGUuSTMyP3RoaXMucmFua1R5cGU9ZS5GYigpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSAyOnI9PWkuVHlwZS5TVFJVQ1Q/KHRoaXMuYXNRdWVyeT1uZXcgaGl2ZS5zZXJ2aWNlcy5wcm90b2NvbC5JRi5UcmFja2VyQXNRdWVyeSx0aGlzLmFzUXVlcnkucmVhZChlKSk6ZS5NYihyKTticmVhaztkZWZhdWx0OmUuTWIocil9ZS5VYigpfWUuQmIoKX0saGl2ZS5zZXJ2aWNlcy5wcm90b2NvbC5JRi5UcmFja2VyUmFua1F1ZXJ5LnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbihlKXtlLkhiKFwiVHJhY2tlclJhbmtRdWVyeVwiKSxudWxsIT09dGhpcy5yYW5rVHlwZSYmdm9pZCAwIT09dGhpcy5yYW5rVHlwZSYmKGUueGIoXCJyYW5rVHlwZVwiLGkuVHlwZS5JMzIsMSksZS5WYih0aGlzLnJhbmtUeXBlKSxlLkdiKCkpLG51bGwhPT10aGlzLmFzUXVlcnkmJnZvaWQgMCE9PXRoaXMuYXNRdWVyeSYmKGUueGIoXCJhc1F1ZXJ5XCIsaS5UeXBlLlNUUlVDVCwyKSx0aGlzLmFzUXVlcnkud3JpdGUoZSksZS5HYigpKSxlLmpiKCksZS5RYigpfSxoaXZlLnNlcnZpY2VzLnByb3RvY29sLklGLlRyYWNrZXJRdWVyeT1mdW5jdGlvbihlKXt0aGlzLnJhbmRvbT1udWxsLHRoaXMuYXNucz1udWxsLHRoaXMud2F0Y2hlcnM9bnVsbCx0aGlzLnN0cmVhbWVycz1udWxsLHRoaXMucmFua2luZ3M9bnVsbCxlJiYodm9pZCAwIT09ZS5yYW5kb20mJih0aGlzLnJhbmRvbT1lLnJhbmRvbSksdm9pZCAwIT09ZS5hc25zJiYodGhpcy5hc25zPWUuYXNucyksdm9pZCAwIT09ZS53YXRjaGVycyYmKHRoaXMud2F0Y2hlcnM9ZS53YXRjaGVycyksdm9pZCAwIT09ZS5zdHJlYW1lcnMmJih0aGlzLnN0cmVhbWVycz1lLnN0cmVhbWVycyksdm9pZCAwIT09ZS5yYW5raW5ncyYmKHRoaXMucmFua2luZ3M9ZS5yYW5raW5ncykpfSxoaXZlLnNlcnZpY2VzLnByb3RvY29sLklGLlRyYWNrZXJRdWVyeS5wcm90b3R5cGU9e30saGl2ZS5zZXJ2aWNlcy5wcm90b2NvbC5JRi5UcmFja2VyUXVlcnkucHJvdG90eXBlLnJlYWQ9ZnVuY3Rpb24oZSl7Zm9yKGUucl8oKTs7KXt2YXIgdD1lLmtiKCkscj0odC5mbmFtZSx0LmZ0eXBlKSxuPXQuZmlkO2lmKHI9PWkuVHlwZS5TVE9QKWJyZWFrO3N3aXRjaChuKXtjYXNlIDE6cj09aS5UeXBlLkkzMj90aGlzLnJhbmRvbT1lLkZiKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDI6aWYocj09aS5UeXBlLk1BUCl7dmFyIHMsbz0wO3RoaXMuYXNucz17fTtzPWUuaV8oKSxzLm5fLHMuc18sbz1zLnNpemU7Zm9yKHZhciBhPTA7YTxvOysrYSl7YT4wJiZlLkpDLmxlbmd0aD5lLnpiW2UuemIubGVuZ3RoLTFdKzEmJmUuSkMucG9wKCk7dmFyIGg9bnVsbCxjPW51bGw7aD1uZXcgaGl2ZS5zZXJ2aWNlcy5wcm90b2NvbC5JRi5UcmFja2VyQXNRdWVyeSxoLnJlYWQoZSksYz1lLkZiKCkudmFsdWUsdGhpcy5hc25zW2hdPWN9ZS5vXygpfWVsc2UgZS5NYihyKTticmVhaztjYXNlIDM6aWYocj09aS5UeXBlLk1BUCl7dmFyIHUsbD0wO3RoaXMud2F0Y2hlcnM9e307dT1lLmlfKCksdS5uXyx1LnNfLGw9dS5zaXplO2Zvcih2YXIgcD0wO3A8bDsrK3Ape3A+MCYmZS5KQy5sZW5ndGg+ZS56YltlLnpiLmxlbmd0aC0xXSsxJiZlLkpDLnBvcCgpO3ZhciBkPW51bGwsZj1udWxsO2Q9bmV3IGhpdmUuc2VydmljZXMucHJvdG9jb2wuSUYuVHJhY2tlckJpdHJhdGVRdWVyeSxkLnJlYWQoZSksZj1lLkZiKCkudmFsdWUsdGhpcy53YXRjaGVyc1tkXT1mfWUub18oKX1lbHNlIGUuTWIocik7YnJlYWs7Y2FzZSA0OmlmKHI9PWkuVHlwZS5NQVApe3ZhciBnLEU9MDt0aGlzLnN0cmVhbWVycz17fTtnPWUuaV8oKSxnLm5fLGcuc18sRT1nLnNpemU7Zm9yKHZhciB2PTA7djxFOysrdil7dj4wJiZlLkpDLmxlbmd0aD5lLnpiW2UuemIubGVuZ3RoLTFdKzEmJmUuSkMucG9wKCk7dmFyIHk9bnVsbCxUPW51bGw7eT1uZXcgaGl2ZS5zZXJ2aWNlcy5wcm90b2NvbC5JRi5UcmFja2VyQml0cmF0ZVF1ZXJ5LHkucmVhZChlKSxUPWUuRmIoKS52YWx1ZSx0aGlzLnN0cmVhbWVyc1t5XT1UfWUub18oKX1lbHNlIGUuTWIocik7YnJlYWs7Y2FzZSA1OmlmKHI9PWkuVHlwZS5MSVNUKXt2YXIgbSxJPTA7dGhpcy5yYW5raW5ncz1bXTttPWUuYV8oKSxtLmhfLEk9bS5zaXplO2Zvcih2YXIgUz0wO1M8STsrK1Mpe3ZhciBSPW51bGw7Uj1lLkZiKCkudmFsdWUsdGhpcy5yYW5raW5ncy5wdXNoKFIpfWUuY18oKX1lbHNlIGUuTWIocik7YnJlYWs7ZGVmYXVsdDplLk1iKHIpfWUuVWIoKX1lLkJiKCl9LGhpdmUuc2VydmljZXMucHJvdG9jb2wuSUYuVHJhY2tlclF1ZXJ5LnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbihlKXtpZihlLkhiKFwiVHJhY2tlclF1ZXJ5XCIpLG51bGwhPT10aGlzLnJhbmRvbSYmdm9pZCAwIT09dGhpcy5yYW5kb20mJihlLnhiKFwicmFuZG9tXCIsaS5UeXBlLkkzMiwxKSxlLlZiKHRoaXMucmFuZG9tKSxlLkdiKCkpLG51bGwhPT10aGlzLmFzbnMmJnZvaWQgMCE9PXRoaXMuYXNucyl7ZS54YihcImFzbnNcIixpLlR5cGUuTUFQLDIpLGUuVUMoaS5UeXBlLlNUUlVDVCxpLlR5cGUuSTMyLGkuRWIodGhpcy5hc25zKSk7Zm9yKHZhciB0PTA7dDx0aGlzLmFzbnMubGVuZ3RoO3QrKyl7dmFyIHI9dGhpcy5hc25zW3RdLG49ci5rZXkscz1yLnZhbHVlO24ud3JpdGUoZSksZS5WYihzKX1lLkJDKCksZS5HYigpfWlmKG51bGwhPT10aGlzLndhdGNoZXJzJiZ2b2lkIDAhPT10aGlzLndhdGNoZXJzKXtlLnhiKFwid2F0Y2hlcnNcIixpLlR5cGUuTUFQLDMpLGUuVUMoaS5UeXBlLlNUUlVDVCxpLlR5cGUuSTMyLGkuRWIodGhpcy53YXRjaGVycykpO2Zvcih2YXIgdD0wO3Q8dGhpcy53YXRjaGVycy5sZW5ndGg7dCsrKXt2YXIgcj10aGlzLndhdGNoZXJzW3RdLG89ci5rZXksYT1yLnZhbHVlO28ud3JpdGUoZSksZS5WYihhKX1lLkJDKCksZS5HYigpfWlmKG51bGwhPT10aGlzLnN0cmVhbWVycyYmdm9pZCAwIT09dGhpcy5zdHJlYW1lcnMpe2UueGIoXCJzdHJlYW1lcnNcIixpLlR5cGUuTUFQLDQpLGUuVUMoaS5UeXBlLlNUUlVDVCxpLlR5cGUuSTMyLGkuRWIodGhpcy5zdHJlYW1lcnMpKTtmb3IodmFyIHQ9MDt0PHRoaXMuc3RyZWFtZXJzLmxlbmd0aDt0Kyspe3ZhciByPXRoaXMuc3RyZWFtZXJzW3RdLGg9ci5rZXksYz1yLnZhbHVlO2gud3JpdGUoZSksZS5WYihjKX1lLkJDKCksZS5HYigpfWlmKG51bGwhPT10aGlzLnJhbmtpbmdzJiZ2b2lkIDAhPT10aGlzLnJhbmtpbmdzKXtlLnhiKFwicmFua2luZ3NcIixpLlR5cGUuTElTVCw1KSxlLkhDKGkuVHlwZS5JMzIsdGhpcy5yYW5raW5ncy5sZW5ndGgpO2Zvcih2YXIgdSBpbiB0aGlzLnJhbmtpbmdzKXRoaXMucmFua2luZ3MuaGFzT3duUHJvcGVydHkodSkmJih1PXRoaXMucmFua2luZ3NbdV0sZS5WYih1KSk7ZS54QygpLGUuR2IoKX1lLmpiKCksZS5RYigpfSxoaXZlLnNlcnZpY2VzLnByb3RvY29sLklGLlRyYWNrZXJQZWVyUmFua2luZ0tleT1mdW5jdGlvbihlKXt0aGlzLnJhbmtUeXBlPW51bGwsdGhpcy5pbnRlcm5hbEFzPW51bGwsdGhpcy5leHRlcm5hbEFzPW51bGwsZSYmKHZvaWQgMCE9PWUucmFua1R5cGUmJih0aGlzLnJhbmtUeXBlPWUucmFua1R5cGUpLHZvaWQgMCE9PWUuaW50ZXJuYWxBcyYmKHRoaXMuaW50ZXJuYWxBcz1lLmludGVybmFsQXMpLHZvaWQgMCE9PWUuZXh0ZXJuYWxBcyYmKHRoaXMuZXh0ZXJuYWxBcz1lLmV4dGVybmFsQXMpKX0saGl2ZS5zZXJ2aWNlcy5wcm90b2NvbC5JRi5UcmFja2VyUGVlclJhbmtpbmdLZXkucHJvdG90eXBlPXt9LGhpdmUuc2VydmljZXMucHJvdG9jb2wuSUYuVHJhY2tlclBlZXJSYW5raW5nS2V5LnByb3RvdHlwZS5yZWFkPWZ1bmN0aW9uKGUpe2ZvcihlLnJfKCk7Oyl7dmFyIHQ9ZS5rYigpLHI9KHQuZm5hbWUsdC5mdHlwZSksbj10LmZpZDtpZihyPT1pLlR5cGUuU1RPUClicmVhaztzd2l0Y2gobil7Y2FzZSAxOnI9PWkuVHlwZS5JMzI/dGhpcy5yYW5rVHlwZT1lLkZiKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDI6cj09aS5UeXBlLkkzMj90aGlzLmludGVybmFsQXM9ZS5GYigpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSAzOnI9PWkuVHlwZS5JMzI/dGhpcy5leHRlcm5hbEFzPWUuRmIoKS52YWx1ZTplLk1iKHIpO2JyZWFrO2RlZmF1bHQ6ZS5NYihyKX1lLlViKCl9ZS5CYigpfSxoaXZlLnNlcnZpY2VzLnByb3RvY29sLklGLlRyYWNrZXJQZWVyUmFua2luZ0tleS5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24oZSl7ZS5IYihcIlRyYWNrZXJQZWVyUmFua2luZ0tleVwiKSxudWxsIT09dGhpcy5yYW5rVHlwZSYmdm9pZCAwIT09dGhpcy5yYW5rVHlwZSYmKGUueGIoXCJyYW5rVHlwZVwiLGkuVHlwZS5JMzIsMSksZS5WYih0aGlzLnJhbmtUeXBlKSxlLkdiKCkpLG51bGwhPT10aGlzLmludGVybmFsQXMmJnZvaWQgMCE9PXRoaXMuaW50ZXJuYWxBcyYmKGUueGIoXCJpbnRlcm5hbEFzXCIsaS5UeXBlLkkzMiwyKSxlLlZiKHRoaXMuaW50ZXJuYWxBcyksZS5HYigpKSxudWxsIT09dGhpcy5leHRlcm5hbEFzJiZ2b2lkIDAhPT10aGlzLmV4dGVybmFsQXMmJihlLnhiKFwiZXh0ZXJuYWxBc1wiLGkuVHlwZS5JMzIsMyksZS5WYih0aGlzLmV4dGVybmFsQXMpLGUuR2IoKSksZS5qYigpLGUuUWIoKX0saGl2ZS5zZXJ2aWNlcy5wcm90b2NvbC5JRi5UcmFja2VyUGVlclJhbmtpbmc9ZnVuY3Rpb24oZSl7dGhpcy5rZXk9bnVsbCx0aGlzLnJhbmtpbmc9bnVsbCx0aGlzLmdyb3VwU2l6ZT1udWxsLHRoaXMuY3VtdWxhdGVkUmFua1ZhbHVlPW51bGwsdGhpcy50b3RhbE9mUmFua1ZhbHVlcz1udWxsLGUmJih2b2lkIDAhPT1lLmtleSYmKHRoaXMua2V5PWUua2V5KSx2b2lkIDAhPT1lLnJhbmtpbmcmJih0aGlzLnJhbmtpbmc9ZS5yYW5raW5nKSx2b2lkIDAhPT1lLmdyb3VwU2l6ZSYmKHRoaXMuZ3JvdXBTaXplPWUuZ3JvdXBTaXplKSx2b2lkIDAhPT1lLmN1bXVsYXRlZFJhbmtWYWx1ZSYmKHRoaXMuY3VtdWxhdGVkUmFua1ZhbHVlPWUuY3VtdWxhdGVkUmFua1ZhbHVlKSx2b2lkIDAhPT1lLnRvdGFsT2ZSYW5rVmFsdWVzJiYodGhpcy50b3RhbE9mUmFua1ZhbHVlcz1lLnRvdGFsT2ZSYW5rVmFsdWVzKSl9LGhpdmUuc2VydmljZXMucHJvdG9jb2wuSUYuVHJhY2tlclBlZXJSYW5raW5nLnByb3RvdHlwZT17fSxoaXZlLnNlcnZpY2VzLnByb3RvY29sLklGLlRyYWNrZXJQZWVyUmFua2luZy5wcm90b3R5cGUucmVhZD1mdW5jdGlvbihlKXtmb3IoZS5yXygpOzspe3ZhciB0PWUua2IoKSxyPSh0LmZuYW1lLHQuZnR5cGUpLG49dC5maWQ7aWYocj09aS5UeXBlLlNUT1ApYnJlYWs7c3dpdGNoKG4pe2Nhc2UgMTpyPT1pLlR5cGUuU1RSVUNUPyh0aGlzLmtleT1uZXcgaGl2ZS5zZXJ2aWNlcy5wcm90b2NvbC5JRi5UcmFja2VyUGVlclJhbmtpbmdLZXksdGhpcy5rZXkucmVhZChlKSk6ZS5NYihyKTticmVhaztjYXNlIDI6cj09aS5UeXBlLkkzMj90aGlzLnJhbmtpbmc9ZS5GYigpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSAzOnI9PWkuVHlwZS5JMzI/dGhpcy5ncm91cFNpemU9ZS5GYigpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSA0OnI9PWkuVHlwZS5ET1VCTEU/dGhpcy5jdW11bGF0ZWRSYW5rVmFsdWU9ZS5FXygpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSA1OnI9PWkuVHlwZS5ET1VCTEU/dGhpcy50b3RhbE9mUmFua1ZhbHVlcz1lLkVfKCkudmFsdWU6ZS5NYihyKTticmVhaztkZWZhdWx0OmUuTWIocil9ZS5VYigpfWUuQmIoKX0saGl2ZS5zZXJ2aWNlcy5wcm90b2NvbC5JRi5UcmFja2VyUGVlclJhbmtpbmcucHJvdG90eXBlLndyaXRlPWZ1bmN0aW9uKGUpe2UuSGIoXCJUcmFja2VyUGVlclJhbmtpbmdcIiksbnVsbCE9PXRoaXMua2V5JiZ2b2lkIDAhPT10aGlzLmtleSYmKGUueGIoXCJrZXlcIixpLlR5cGUuU1RSVUNULDEpLHRoaXMua2V5LndyaXRlKGUpLGUuR2IoKSksbnVsbCE9PXRoaXMucmFua2luZyYmdm9pZCAwIT09dGhpcy5yYW5raW5nJiYoZS54YihcInJhbmtpbmdcIixpLlR5cGUuSTMyLDIpLGUuVmIodGhpcy5yYW5raW5nKSxlLkdiKCkpLG51bGwhPT10aGlzLmdyb3VwU2l6ZSYmdm9pZCAwIT09dGhpcy5ncm91cFNpemUmJihlLnhiKFwiZ3JvdXBTaXplXCIsaS5UeXBlLkkzMiwzKSxlLlZiKHRoaXMuZ3JvdXBTaXplKSxlLkdiKCkpLG51bGwhPT10aGlzLmN1bXVsYXRlZFJhbmtWYWx1ZSYmdm9pZCAwIT09dGhpcy5jdW11bGF0ZWRSYW5rVmFsdWUmJihlLnhiKFwiY3VtdWxhdGVkUmFua1ZhbHVlXCIsaS5UeXBlLkRPVUJMRSw0KSxlLllDKHRoaXMuY3VtdWxhdGVkUmFua1ZhbHVlKSxlLkdiKCkpLG51bGwhPT10aGlzLnRvdGFsT2ZSYW5rVmFsdWVzJiZ2b2lkIDAhPT10aGlzLnRvdGFsT2ZSYW5rVmFsdWVzJiYoZS54YihcInRvdGFsT2ZSYW5rVmFsdWVzXCIsaS5UeXBlLkRPVUJMRSw1KSxlLllDKHRoaXMudG90YWxPZlJhbmtWYWx1ZXMpLGUuR2IoKSksZS5qYigpLGUuUWIoKX0saGl2ZS5zZXJ2aWNlcy5wcm90b2NvbC5JRi5UcmFja2VyUmVxdWVzdD1mdW5jdGlvbihlKXt0aGlzLmluZm89bnVsbCx0aGlzLmNvbnRlbnRJZD1udWxsLHRoaXMucXVlcnk9bnVsbCx0aGlzLnN0cmVhbVR5cGU9bnVsbCx0aGlzLnNlc3Npb25JZD1udWxsLHRoaXMuY3VzdG9tZXJLZXk9bnVsbCxlJiYodm9pZCAwIT09ZS5pbmZvJiYodGhpcy5pbmZvPWUuaW5mbyksdm9pZCAwIT09ZS5jb250ZW50SWQmJih0aGlzLmNvbnRlbnRJZD1lLmNvbnRlbnRJZCksdm9pZCAwIT09ZS5xdWVyeSYmKHRoaXMucXVlcnk9ZS5xdWVyeSksdm9pZCAwIT09ZS5zdHJlYW1UeXBlJiYodGhpcy5zdHJlYW1UeXBlPWUuc3RyZWFtVHlwZSksdm9pZCAwIT09ZS5zZXNzaW9uSWQmJih0aGlzLnNlc3Npb25JZD1lLnNlc3Npb25JZCksdm9pZCAwIT09ZS5jdXN0b21lcktleSYmKHRoaXMuY3VzdG9tZXJLZXk9ZS5jdXN0b21lcktleSkpfSxoaXZlLnNlcnZpY2VzLnByb3RvY29sLklGLlRyYWNrZXJSZXF1ZXN0LnByb3RvdHlwZT17fSxoaXZlLnNlcnZpY2VzLnByb3RvY29sLklGLlRyYWNrZXJSZXF1ZXN0LnByb3RvdHlwZS5yZWFkPWZ1bmN0aW9uKGUpe2ZvcihlLnJfKCk7Oyl7dmFyIHQ9ZS5rYigpLHI9KHQuZm5hbWUsdC5mdHlwZSksbj10LmZpZDtpZihyPT1pLlR5cGUuU1RPUClicmVhaztzd2l0Y2gobil7Y2FzZSAxOnI9PWkuVHlwZS5TVFJVQ1Q/KHRoaXMuaW5mbz1uZXcgaGl2ZS5zZXJ2aWNlcy5wcm90b2NvbC5JRi5UcmFja2VyUGVlckluZm8sdGhpcy5pbmZvLnJlYWQoZSkpOmUuTWIocik7YnJlYWs7Y2FzZSAyOnI9PWkuVHlwZS5TVFJJTkc/dGhpcy5jb250ZW50SWQ9ZS5MYigpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSAzOnI9PWkuVHlwZS5TVFJVQ1Q/KHRoaXMucXVlcnk9bmV3IGhpdmUuc2VydmljZXMucHJvdG9jb2wuSUYuVHJhY2tlclF1ZXJ5LHRoaXMucXVlcnkucmVhZChlKSk6ZS5NYihyKTticmVhaztjYXNlIDQ6cj09aS5UeXBlLkkzMj90aGlzLnN0cmVhbVR5cGU9ZS5GYigpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSA1OnI9PWkuVHlwZS5TVFJJTkc/dGhpcy5zZXNzaW9uSWQ9ZS5MYigpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSA2OnI9PWkuVHlwZS5TVFJVQ1Q/KHRoaXMuY3VzdG9tZXJLZXk9bmV3IGhpdmUuc2VydmljZXMucHJvdG9jb2wuSUYuQ3VzdG9tZXJLZXksdGhpcy5jdXN0b21lcktleS5yZWFkKGUpKTplLk1iKHIpO2JyZWFrO2RlZmF1bHQ6ZS5NYihyKX1lLlViKCl9ZS5CYigpfSxoaXZlLnNlcnZpY2VzLnByb3RvY29sLklGLlRyYWNrZXJSZXF1ZXN0LnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbihlKXtlLkhiKFwiVHJhY2tlclJlcXVlc3RcIiksbnVsbCE9PXRoaXMuaW5mbyYmdm9pZCAwIT09dGhpcy5pbmZvJiYoZS54YihcImluZm9cIixpLlR5cGUuU1RSVUNULDEpLHRoaXMuaW5mby53cml0ZShlKSxlLkdiKCkpLG51bGwhPT10aGlzLmNvbnRlbnRJZCYmdm9pZCAwIT09dGhpcy5jb250ZW50SWQmJihlLnhiKFwiY29udGVudElkXCIsaS5UeXBlLlNUUklORywyKSxlLnFiKHRoaXMuY29udGVudElkKSxlLkdiKCkpLG51bGwhPT10aGlzLnF1ZXJ5JiZ2b2lkIDAhPT10aGlzLnF1ZXJ5JiYoZS54YihcInF1ZXJ5XCIsaS5UeXBlLlNUUlVDVCwzKSx0aGlzLnF1ZXJ5LndyaXRlKGUpLGUuR2IoKSksbnVsbCE9PXRoaXMuc3RyZWFtVHlwZSYmdm9pZCAwIT09dGhpcy5zdHJlYW1UeXBlJiYoZS54YihcInN0cmVhbVR5cGVcIixpLlR5cGUuSTMyLDQpLGUuVmIodGhpcy5zdHJlYW1UeXBlKSxlLkdiKCkpLG51bGwhPT10aGlzLnNlc3Npb25JZCYmdm9pZCAwIT09dGhpcy5zZXNzaW9uSWQmJihlLnhiKFwic2Vzc2lvbklkXCIsaS5UeXBlLlNUUklORyw1KSxlLnFiKHRoaXMuc2Vzc2lvbklkKSxlLkdiKCkpLG51bGwhPT10aGlzLmN1c3RvbWVyS2V5JiZ2b2lkIDAhPT10aGlzLmN1c3RvbWVyS2V5JiYoZS54YihcImN1c3RvbWVyS2V5XCIsaS5UeXBlLlNUUlVDVCw2KSx0aGlzLmN1c3RvbWVyS2V5LndyaXRlKGUpLGUuR2IoKSksZS5qYigpLGUuUWIoKX0saGl2ZS5zZXJ2aWNlcy5wcm90b2NvbC5JRi5UcmFja2VyUmVzcG9uc2U9ZnVuY3Rpb24oZSl7dGhpcy5pbmZvcz1udWxsLHRoaXMucmFua2luZ3M9bnVsbCx0aGlzLnBlZXJJbmZvPW51bGwsdGhpcy5zZXNzaW9uSWQ9bnVsbCxlJiYodm9pZCAwIT09ZS5pbmZvcyYmKHRoaXMuaW5mb3M9ZS5pbmZvcyksdm9pZCAwIT09ZS5yYW5raW5ncyYmKHRoaXMucmFua2luZ3M9ZS5yYW5raW5ncyksdm9pZCAwIT09ZS5wZWVySW5mbyYmKHRoaXMucGVlckluZm89ZS5wZWVySW5mbyksdm9pZCAwIT09ZS5zZXNzaW9uSWQmJih0aGlzLnNlc3Npb25JZD1lLnNlc3Npb25JZCkpfSxoaXZlLnNlcnZpY2VzLnByb3RvY29sLklGLlRyYWNrZXJSZXNwb25zZS5wcm90b3R5cGU9e30saGl2ZS5zZXJ2aWNlcy5wcm90b2NvbC5JRi5UcmFja2VyUmVzcG9uc2UucHJvdG90eXBlLnJlYWQ9ZnVuY3Rpb24oZSl7Zm9yKGUucl8oKTs7KXt2YXIgdD1lLmtiKCkscj0odC5mbmFtZSx0LmZ0eXBlKSxuPXQuZmlkO2lmKHI9PWkuVHlwZS5TVE9QKWJyZWFrO3N3aXRjaChuKXtjYXNlIDE6aWYocj09aS5UeXBlLkxJU1Qpe3ZhciBzLG89MDt0aGlzLmluZm9zPVtdO3M9ZS5hXygpLHMuaF8sbz1zLnNpemU7Zm9yKHZhciBhPTA7YTxvOysrYSl7dmFyIGg9bnVsbDtoPW5ldyBoaXZlLnNlcnZpY2VzLnByb3RvY29sLklGLlRyYWNrZXJQZWVySW5mbyxoLnJlYWQoZSksdGhpcy5pbmZvcy5wdXNoKGgpfWUuY18oKX1lbHNlIGUuTWIocik7YnJlYWs7Y2FzZSAyOmlmKHI9PWkuVHlwZS5MSVNUKXt2YXIgYyx1PTA7dGhpcy5yYW5raW5ncz1bXTtjPWUuYV8oKSxjLmhfLHU9Yy5zaXplO2Zvcih2YXIgbD0wO2w8dTsrK2wpe3ZhciBwPW51bGw7cD1uZXcgaGl2ZS5zZXJ2aWNlcy5wcm90b2NvbC5JRi5UcmFja2VyUGVlclJhbmtpbmcscC5yZWFkKGUpLHRoaXMucmFua2luZ3MucHVzaChwKX1lLmNfKCl9ZWxzZSBlLk1iKHIpO2JyZWFrO2Nhc2UgMzpyPT1pLlR5cGUuU1RSVUNUPyh0aGlzLnBlZXJJbmZvPW5ldyBoaXZlLnNlcnZpY2VzLnByb3RvY29sLklGLlRyYWNrZXJQZWVySW5mbyx0aGlzLnBlZXJJbmZvLnJlYWQoZSkpOmUuTWIocik7YnJlYWs7Y2FzZSA0OnI9PWkuVHlwZS5TVFJJTkc/dGhpcy5zZXNzaW9uSWQ9ZS5MYigpLnZhbHVlOmUuTWIocik7YnJlYWs7ZGVmYXVsdDplLk1iKHIpfWUuVWIoKX1lLkJiKCl9LGhpdmUuc2VydmljZXMucHJvdG9jb2wuSUYuVHJhY2tlclJlc3BvbnNlLnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbihlKXtpZihlLkhiKFwiVHJhY2tlclJlc3BvbnNlXCIpLG51bGwhPT10aGlzLmluZm9zJiZ2b2lkIDAhPT10aGlzLmluZm9zKXtlLnhiKFwiaW5mb3NcIixpLlR5cGUuTElTVCwxKSxlLkhDKGkuVHlwZS5TVFJVQ1QsdGhpcy5pbmZvcy5sZW5ndGgpO2Zvcih2YXIgdCBpbiB0aGlzLmluZm9zKXRoaXMuaW5mb3MuaGFzT3duUHJvcGVydHkodCkmJih0PXRoaXMuaW5mb3NbdF0sdC53cml0ZShlKSk7ZS54QygpLGUuR2IoKX1pZihudWxsIT09dGhpcy5yYW5raW5ncyYmdm9pZCAwIT09dGhpcy5yYW5raW5ncyl7ZS54YihcInJhbmtpbmdzXCIsaS5UeXBlLkxJU1QsMiksZS5IQyhpLlR5cGUuU1RSVUNULHRoaXMucmFua2luZ3MubGVuZ3RoKTtmb3IodmFyIHIgaW4gdGhpcy5yYW5raW5ncyl0aGlzLnJhbmtpbmdzLmhhc093blByb3BlcnR5KHIpJiYocj10aGlzLnJhbmtpbmdzW3JdLHIud3JpdGUoZSkpO2UueEMoKSxlLkdiKCl9bnVsbCE9PXRoaXMucGVlckluZm8mJnZvaWQgMCE9PXRoaXMucGVlckluZm8mJihlLnhiKFwicGVlckluZm9cIixpLlR5cGUuU1RSVUNULDMpLHRoaXMucGVlckluZm8ud3JpdGUoZSksZS5HYigpKSxudWxsIT09dGhpcy5zZXNzaW9uSWQmJnZvaWQgMCE9PXRoaXMuc2Vzc2lvbklkJiYoZS54YihcInNlc3Npb25JZFwiLGkuVHlwZS5TVFJJTkcsNCksZS5xYih0aGlzLnNlc3Npb25JZCksZS5HYigpKSxlLmpiKCksZS5RYigpfSxoaXZlLnNlcnZpY2VzLnByb3RvY29sLklGLlBGPWZ1bmN0aW9uKGUpe3RoaXMudGltZXN0YW1wPW51bGwsdGhpcy5jb250ZW50SWQ9bnVsbCx0aGlzLmFzVHlwZT1udWxsLHRoaXMuYXNuPW51bGwsdGhpcy5iaXRyYXRlPW51bGwsdGhpcy5zdHJlYW1TdGF0ZT1udWxsLHRoaXMucmFua1R5cGU9bnVsbCxlJiYodm9pZCAwIT09ZS50aW1lc3RhbXAmJih0aGlzLnRpbWVzdGFtcD1lLnRpbWVzdGFtcCksdm9pZCAwIT09ZS5jb250ZW50SWQmJih0aGlzLmNvbnRlbnRJZD1lLmNvbnRlbnRJZCksdm9pZCAwIT09ZS5hc1R5cGUmJih0aGlzLmFzVHlwZT1lLmFzVHlwZSksdm9pZCAwIT09ZS5hc24mJih0aGlzLmFzbj1lLmFzbiksdm9pZCAwIT09ZS5iaXRyYXRlJiYodGhpcy5iaXRyYXRlPWUuYml0cmF0ZSksdm9pZCAwIT09ZS5zdHJlYW1TdGF0ZSYmKHRoaXMuc3RyZWFtU3RhdGU9ZS5zdHJlYW1TdGF0ZSksdm9pZCAwIT09ZS5yYW5rVHlwZSYmKHRoaXMucmFua1R5cGU9ZS5yYW5rVHlwZSkpfSxoaXZlLnNlcnZpY2VzLnByb3RvY29sLklGLlBGLnByb3RvdHlwZT17fSxoaXZlLnNlcnZpY2VzLnByb3RvY29sLklGLlBGLnByb3RvdHlwZS5yZWFkPWZ1bmN0aW9uKGUpe2ZvcihlLnJfKCk7Oyl7dmFyIHQ9ZS5rYigpLHI9KHQuZm5hbWUsdC5mdHlwZSksbj10LmZpZDtpZihyPT1pLlR5cGUuU1RPUClicmVhaztzd2l0Y2gobil7Y2FzZSAxOnI9PWkuVHlwZS5JMzI/dGhpcy50aW1lc3RhbXA9ZS5GYigpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSAyOnI9PWkuVHlwZS5TVFJJTkc/dGhpcy5jb250ZW50SWQ9ZS5MYigpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSAzOnI9PWkuVHlwZS5JMzI/dGhpcy5hc1R5cGU9ZS5GYigpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSA0OnI9PWkuVHlwZS5JMzI/dGhpcy5hc249ZS5GYigpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSA1OnI9PWkuVHlwZS5JMzI/dGhpcy5iaXRyYXRlPWUuRmIoKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgNjpyPT1pLlR5cGUuSTMyP3RoaXMuc3RyZWFtU3RhdGU9ZS5GYigpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSA3OnI9PWkuVHlwZS5JMzI/dGhpcy5yYW5rVHlwZT1lLkZiKCkudmFsdWU6ZS5NYihyKTticmVhaztkZWZhdWx0OmUuTWIocil9ZS5VYigpfWUuQmIoKX0saGl2ZS5zZXJ2aWNlcy5wcm90b2NvbC5JRi5QRi5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24oZSl7ZS5IYihcIlRyYWNrZXJTdG9yZUluZGV4S2V5XCIpLG51bGwhPT10aGlzLnRpbWVzdGFtcCYmdm9pZCAwIT09dGhpcy50aW1lc3RhbXAmJihlLnhiKFwidGltZXN0YW1wXCIsaS5UeXBlLkkzMiwxKSxlLlZiKHRoaXMudGltZXN0YW1wKSxlLkdiKCkpLG51bGwhPT10aGlzLmNvbnRlbnRJZCYmdm9pZCAwIT09dGhpcy5jb250ZW50SWQmJihlLnhiKFwiY29udGVudElkXCIsaS5UeXBlLlNUUklORywyKSxlLnFiKHRoaXMuY29udGVudElkKSxlLkdiKCkpLG51bGwhPT10aGlzLmFzVHlwZSYmdm9pZCAwIT09dGhpcy5hc1R5cGUmJihlLnhiKFwiYXNUeXBlXCIsaS5UeXBlLkkzMiwzKSxlLlZiKHRoaXMuYXNUeXBlKSxlLkdiKCkpLG51bGwhPT10aGlzLmFzbiYmdm9pZCAwIT09dGhpcy5hc24mJihlLnhiKFwiYXNuXCIsaS5UeXBlLkkzMiw0KSxlLlZiKHRoaXMuYXNuKSxlLkdiKCkpLG51bGwhPT10aGlzLmJpdHJhdGUmJnZvaWQgMCE9PXRoaXMuYml0cmF0ZSYmKGUueGIoXCJiaXRyYXRlXCIsaS5UeXBlLkkzMiw1KSxlLlZiKHRoaXMuYml0cmF0ZSksZS5HYigpKSxudWxsIT09dGhpcy5zdHJlYW1TdGF0ZSYmdm9pZCAwIT09dGhpcy5zdHJlYW1TdGF0ZSYmKGUueGIoXCJzdHJlYW1TdGF0ZVwiLGkuVHlwZS5JMzIsNiksZS5WYih0aGlzLnN0cmVhbVN0YXRlKSxlLkdiKCkpLG51bGwhPT10aGlzLnJhbmtUeXBlJiZ2b2lkIDAhPT10aGlzLnJhbmtUeXBlJiYoZS54YihcInJhbmtUeXBlXCIsaS5UeXBlLkkzMiw3KSxlLlZiKHRoaXMucmFua1R5cGUpLGUuR2IoKSksZS5qYigpLGUuUWIoKX0saGl2ZS5zZXJ2aWNlcy5wcm90b2NvbC5JRi5BRj1mdW5jdGlvbihlKXt0aGlzLmd1aWQ9bnVsbCx0aGlzLk9GPW51bGwsdGhpcy5rZXk9bnVsbCxlJiYodm9pZCAwIT09ZS5ndWlkJiYodGhpcy5ndWlkPWUuZ3VpZCksdm9pZCAwIT09ZS5PRiYmKHRoaXMuT0Y9ZS5PRiksdm9pZCAwIT09ZS5rZXkmJih0aGlzLmtleT1lLmtleSkpfSxoaXZlLnNlcnZpY2VzLnByb3RvY29sLklGLkFGLnByb3RvdHlwZT17fSxoaXZlLnNlcnZpY2VzLnByb3RvY29sLklGLkFGLnByb3RvdHlwZS5yZWFkPWZ1bmN0aW9uKGUpe2ZvcihlLnJfKCk7Oyl7dmFyIHQ9ZS5rYigpLHI9KHQuZm5hbWUsdC5mdHlwZSksbj10LmZpZDtpZihyPT1pLlR5cGUuU1RPUClicmVhaztzd2l0Y2gobil7Y2FzZSAxOnI9PWkuVHlwZS5TVFJJTkc/dGhpcy5ndWlkPWUudl8oKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgMjpyPT1pLlR5cGUuRE9VQkxFP3RoaXMuT0Y9ZS5FXygpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSAzOnI9PWkuVHlwZS5TVFJVQ1Q/KHRoaXMua2V5PW5ldyBoaXZlLnNlcnZpY2VzLnByb3RvY29sLklGLlRyYWNrZXJQZWVyUmFua2luZ0tleSx0aGlzLmtleS5yZWFkKGUpKTplLk1iKHIpO2JyZWFrO2RlZmF1bHQ6ZS5NYihyKX1lLlViKCl9ZS5CYigpfSxoaXZlLnNlcnZpY2VzLnByb3RvY29sLklGLkFGLnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbihlKXtlLkhiKFwiVHJhY2tlclN0b3JlUmFua1BlZXJcIiksbnVsbCE9PXRoaXMuZ3VpZCYmdm9pZCAwIT09dGhpcy5ndWlkJiYoZS54YihcImd1aWRcIixpLlR5cGUuU1RSSU5HLDEpLGUuV0ModGhpcy5ndWlkKSxlLkdiKCkpLG51bGwhPT10aGlzLk9GJiZ2b2lkIDAhPT10aGlzLk9GJiYoZS54YihcInJhbmtcIixpLlR5cGUuRE9VQkxFLDIpLGUuWUModGhpcy5PRiksZS5HYigpKSxudWxsIT09dGhpcy5rZXkmJnZvaWQgMCE9PXRoaXMua2V5JiYoZS54YihcImtleVwiLGkuVHlwZS5TVFJVQ1QsMyksdGhpcy5rZXkud3JpdGUoZSksZS5HYigpKSxlLmpiKCksZS5RYigpfSxoaXZlLnNlcnZpY2VzLnByb3RvY29sLklGLk5GPWZ1bmN0aW9uKGUpe3RoaXMudGltZXN0YW1wPW51bGwsdGhpcy5yZXF1ZXN0PW51bGwsZSYmKHZvaWQgMCE9PWUudGltZXN0YW1wJiYodGhpcy50aW1lc3RhbXA9ZS50aW1lc3RhbXApLHZvaWQgMCE9PWUucmVxdWVzdCYmKHRoaXMucmVxdWVzdD1lLnJlcXVlc3QpKX0saGl2ZS5zZXJ2aWNlcy5wcm90b2NvbC5JRi5ORi5wcm90b3R5cGU9e30saGl2ZS5zZXJ2aWNlcy5wcm90b2NvbC5JRi5ORi5wcm90b3R5cGUucmVhZD1mdW5jdGlvbihlKXtmb3IoZS5yXygpOzspe3ZhciB0PWUua2IoKSxyPSh0LmZuYW1lLHQuZnR5cGUpLG49dC5maWQ7aWYocj09aS5UeXBlLlNUT1ApYnJlYWs7c3dpdGNoKG4pe2Nhc2UgMTpyPT1pLlR5cGUuSTY0P3RoaXMudGltZXN0YW1wPWUuZ18oKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgMjpyPT1pLlR5cGUuU1RSVUNUPyh0aGlzLnJlcXVlc3Q9bmV3IGhpdmUuc2VydmljZXMucHJvdG9jb2wuSUYuVHJhY2tlclJlcXVlc3QsdGhpcy5yZXF1ZXN0LnJlYWQoZSkpOmUuTWIocik7YnJlYWs7ZGVmYXVsdDplLk1iKHIpfWUuVWIoKX1lLkJiKCl9LGhpdmUuc2VydmljZXMucHJvdG9jb2wuSUYuTkYucHJvdG90eXBlLndyaXRlPWZ1bmN0aW9uKGUpe2UuSGIoXCJUcmFja2VyUmVxdWVzdFF1ZXVlTWVzc2FnZVwiKSxudWxsIT09dGhpcy50aW1lc3RhbXAmJnZvaWQgMCE9PXRoaXMudGltZXN0YW1wJiYoZS54YihcInRpbWVzdGFtcFwiLGkuVHlwZS5JNjQsMSksZS5LQyh0aGlzLnRpbWVzdGFtcCksZS5HYigpKSxudWxsIT09dGhpcy5yZXF1ZXN0JiZ2b2lkIDAhPT10aGlzLnJlcXVlc3QmJihlLnhiKFwicmVxdWVzdFwiLGkuVHlwZS5TVFJVQ1QsMiksdGhpcy5yZXF1ZXN0LndyaXRlKGUpLGUuR2IoKSksZS5qYigpLGUuUWIoKX19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0LHIsaSxuKXt0aGlzLmlkPWUsdGhpcy5iaXRyYXRlPXQsdGhpcy5kdXJhdGlvbj1yLHRoaXMudXJpPWksdGhpcy55TT1ufXJldHVybiBlfSgpO3QuREY9aX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXIoMSksbj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0LHIpe3RoaXMuc3RhcnQ9ZSx0aGlzLmVuZD10LHRoaXMudG90YWw9cn1yZXR1cm4gZS5wcm90b3R5cGUuc2l6ZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZW5kLXRoaXMuc3RhcnQrMTtyZXR1cm4gTnVtYmVyLmlzSW50ZWdlcihlKXx8KGkuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJTZWdtZW50IFNpemUgaXMgYSBGbG9hdFwiLHtzaXplOmV9KSxlPU1hdGgucm91bmQoZSkpLDA9PXRoaXMuZW5kJiYwPT10aGlzLnN0YXJ0PzA6ZX0sZS5wcm90b3R5cGUua0Y9ZnVuY3Rpb24oKXtyZXR1cm4gMD09dGhpcy5zdGFydCYmKHRoaXMuZW5kPT10aGlzLnRvdGFsLTF8fHRoaXMuZW5kPT10aGlzLnRvdGFsJiYwPT10aGlzLnRvdGFsKX0sZS5wcm90b3R5cGUuTEY9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbmQ9PXRoaXMudG90YWwtMXx8dGhpcy5lbmQ9PXRoaXMudG90YWwmJjA9PXRoaXMudG90YWx9LGUucHJvdG90eXBlLk1GPWZ1bmN0aW9uKGUpe3JldHVybiBlLnN0YXJ0PD10aGlzLnN0YXJ0JiZ0aGlzLnN0YXJ0PD1lLmVuZH0sZS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIlJbUz1cIit0aGlzLnN0YXJ0K1wiLEU9XCIrdGhpcy5lbmQrXCIsVD1cIit0aGlzLnRvdGFsK1wiXVwifSxlfSgpO3QuRkY9bjt2YXIgcz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGUuVUY9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3BsaXQoXCItXCIpfSxlLkJGPWZ1bmN0aW9uKGUpe3ZhciB0PWUuc3BsaXQoXCI9XCIsNCkscj10WzFdLnN1YnN0cigwLHRbMV0uaW5kZXhPZihcIixcIikpLGk9dFsyXS5zdWJzdHIoMCx0WzJdLmluZGV4T2YoXCIsXCIpKSxzPXRbM10uc3Vic3RyKDAsdFszXS5pbmRleE9mKFwiXVwiKSk7cmV0dXJuIG5ldyBuKCtyLCtpLCtzKX0sZX0oKTt0LkhGPXN9LGZ1bmN0aW9uKGUsdCl7ZS5pPWZ1bmN0aW9uKGUpe3JldHVybiBlLnhGfHwoZS5xRj1mdW5jdGlvbigpe30sZS5HRj1bXSxlLmNoaWxkcmVufHwoZS5jaGlsZHJlbj1bXSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJsb2FkZWRcIix7cDohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZS5vfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiaWRcIix7cDohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZS5zfX0pLGUueEY9MSksZX19LGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gcihlLHQpe2Zvcih2YXIgcj0wLGk9ZS5sZW5ndGgtMTtpPj0wO2ktLSl7dmFyIG49ZVtpXTtcIi5cIj09PW4/ZS5zcGxpY2UoaSwxKTpcIi4uXCI9PT1uPyhlLnNwbGljZShpLDEpLHIrKyk6ciYmKGUuc3BsaWNlKGksMSksci0tKX1pZih0KWZvcig7ci0tO3IpZS51bnNoaWZ0KFwiLi5cIik7cmV0dXJuIGV9ZnVuY3Rpb24gaShlLHQpe2lmKGUuZmlsdGVyKXJldHVybiBlLmZpbHRlcih0KTtmb3IodmFyIHI9W10saT0wO2k8ZS5sZW5ndGg7aSsrKXQoZVtpXSxpLGUpJiZyLnB1c2goZVtpXSk7cmV0dXJuIHJ9dmFyIG49L14oXFwvP3wpKFtcXHNcXFNdKj8pKCg/OlxcLnsxLDJ9fFteXFwvXSs/fCkoXFwuW14uXFwvXSp8KSkoPzpbXFwvXSopJC8scz1mdW5jdGlvbihlKXtyZXR1cm4gbi5leGVjKGUpLnNsaWNlKDEpfTt0LnJlc29sdmU9ZnVuY3Rpb24oKXtmb3IodmFyIGU9XCJcIix0PSExLG49YXJndW1lbnRzLmxlbmd0aC0xO24+PS0xJiYhdDtuLS0pe3ZhciBzPW4+PTA/YXJndW1lbnRzW25dOnByb2Nlc3MuVkYoKTtpZihcInN0cmluZ1wiIT10eXBlb2Ygcyl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQXJndW1lbnRzIHRvIHBhdGgucmVzb2x2ZSBtdXN0IGJlIHN0cmluZ3NcIik7cyYmKGU9cytcIi9cIitlLHQ9XCIvXCI9PT1zLmNoYXJBdCgwKSl9cmV0dXJuIGU9cihpKGUuc3BsaXQoXCIvXCIpLGZ1bmN0aW9uKGUpe3JldHVybiEhZX0pLCF0KS5qb2luKFwiL1wiKSwodD9cIi9cIjpcIlwiKStlfHxcIi5cIn0sdC5ub3JtYWxpemU9ZnVuY3Rpb24oZSl7dmFyIG49dC5qRihlKSxzPVwiL1wiPT09byhlLC0xKTtyZXR1cm4gZT1yKGkoZS5zcGxpdChcIi9cIiksZnVuY3Rpb24oZSl7cmV0dXJuISFlfSksIW4pLmpvaW4oXCIvXCIpLGV8fG58fChlPVwiLlwiKSxlJiZzJiYoZSs9XCIvXCIpLChuP1wiL1wiOlwiXCIpK2V9LHQuakY9ZnVuY3Rpb24oZSl7cmV0dXJuXCIvXCI9PT1lLmNoYXJBdCgwKX0sdC5qb2luPWZ1bmN0aW9uKCl7dmFyIGU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDApO3JldHVybiB0Lm5vcm1hbGl6ZShpKGUsZnVuY3Rpb24oZSx0KXtpZihcInN0cmluZ1wiIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQXJndW1lbnRzIHRvIHBhdGguam9pbiBtdXN0IGJlIHN0cmluZ3NcIik7cmV0dXJuIGV9KS5qb2luKFwiL1wiKSl9LHQuUUY9ZnVuY3Rpb24oZSxyKXtmdW5jdGlvbiBpKGUpe2Zvcih2YXIgdD0wO3Q8ZS5sZW5ndGgmJlwiXCI9PT1lW3RdO3QrKyk7Zm9yKHZhciByPWUubGVuZ3RoLTE7cj49MCYmXCJcIj09PWVbcl07ci0tKTtyZXR1cm4gdD5yP1tdOmUuc2xpY2UodCxyLXQrMSl9ZT10LnJlc29sdmUoZSkuc3Vic3RyKDEpLHI9dC5yZXNvbHZlKHIpLnN1YnN0cigxKTtmb3IodmFyIG49aShlLnNwbGl0KFwiL1wiKSkscz1pKHIuc3BsaXQoXCIvXCIpKSxvPU1hdGgubWluKG4ubGVuZ3RoLHMubGVuZ3RoKSxhPW8saD0wO2g8bztoKyspaWYobltoXSE9PXNbaF0pe2E9aDticmVha31mb3IodmFyIGM9W10saD1hO2g8bi5sZW5ndGg7aCsrKWMucHVzaChcIi4uXCIpO3JldHVybiBjPWMuY29uY2F0KHMuc2xpY2UoYSkpLGMuam9pbihcIi9cIil9LHQuS0Y9XCIvXCIsdC5ZRj1cIjpcIix0LldGPWZ1bmN0aW9uKGUpe3ZhciB0PXMoZSkscj10WzBdLGk9dFsxXTtyZXR1cm4gcnx8aT8oaSYmKGk9aS5zdWJzdHIoMCxpLmxlbmd0aC0xKSkscitpKTpcIi5cIn0sdC56Rj1mdW5jdGlvbihlLHQpe3ZhciByPXMoZSlbMl07cmV0dXJuIHQmJnIuc3Vic3RyKC0xKnQubGVuZ3RoKT09PXQmJihyPXIuc3Vic3RyKDAsci5sZW5ndGgtdC5sZW5ndGgpKSxyfSx0LkpGPWZ1bmN0aW9uKGUpe3JldHVybiBzKGUpWzNdfTt2YXIgbz1cImJcIj09PVwiYWJcIi5zdWJzdHIoLTEpP2Z1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZS5zdWJzdHIodCxyKX06ZnVuY3Rpb24oZSx0LHIpe3JldHVybiB0PDAmJih0PWUubGVuZ3RoK3QpLGUuc3Vic3RyKHQscil9fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaShlLHQpe0FycmF5LnByb3RvdHlwZVtlXXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KEFycmF5LnByb3RvdHlwZSxlLHt2YWx1ZTp0LEFoOiEwLGw6ITAscDohMX0pfWZ1bmN0aW9uIG4oZSx0LHIpe3RoaXMuTlQ9ZSx0aGlzLnN0YXJ0PW51bGw9PXQ/MDp0LHRoaXMuZW5kPXJ9dmFyIHM9KHIoNjYpLHIoMTIpKSxvPXIoNjcpLGE9cigzNyk7ZS5pPUFycmF5O3ZhciBoPUFycmF5LnByb3RvdHlwZS5zcGxpY2UsYz1BcnJheS5wcm90b3R5cGUuc2xpY2U7QXJyYXkuZW1wdHk9W10sT2JqZWN0LmZyZWV6ZSYmT2JqZWN0LmZyZWV6ZShBcnJheS5lbXB0eSksQXJyYXkuZnJvbT1BcnJheS5mcm9tfHxmdW5jdGlvbihlKXt2YXIgdD1bXTtyZXR1cm4gdC5hZGRFYWNoKGUpLHR9LEFycmF5Lk1jPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxyPTEvMCxpPTA7aTxlLmxlbmd0aDtpKyspe3ZhciBuPWVbaV07ZVtpXT1uLnRvQXJyYXkoKSxuLmxlbmd0aDxyJiYocj1uLmxlbmd0aCl9Zm9yKHZhciBpPTA7aTxlLmxlbmd0aDtpKyspZm9yKHZhciBuPWVbaV0scz0wO3M8bi5sZW5ndGg7cysrKXM8ciYmcyBpbiBuJiYodFtzXT10W3NdfHxbXSx0W3NdW2ldPW5bc10pO3JldHVybiB0fSxpKFwiYWRkRWFjaFwiLHMucHJvdG90eXBlLmFkZEVhY2gpLGkoXCJkZWxldGVFYWNoXCIscy5wcm90b3R5cGUuX2MpLGkoXCJ0b0FycmF5XCIscy5wcm90b3R5cGUudG9BcnJheSksaShcInRvT2JqZWN0XCIscy5wcm90b3R5cGUuUGMpLGkoXCJhbGxcIixzLnByb3RvdHlwZS5hbGwpLGkoXCJhbnlcIixzLnByb3RvdHlwZS51byksaShcIm1pblwiLHMucHJvdG90eXBlLm1pbiksaShcIm1heFwiLHMucHJvdG90eXBlLm1heCksaShcInN1bVwiLHMucHJvdG90eXBlLk5jKSxpKFwiYXZlcmFnZVwiLHMucHJvdG90eXBlLkRjKSxpKFwib25seVwiLHMucHJvdG90eXBlLm9ubHkpLGkoXCJmbGF0dGVuXCIscy5wcm90b3R5cGUua2MpLGkoXCJ6aXBcIixzLnByb3RvdHlwZS5MYyksaShcImVudW1lcmF0ZVwiLHMucHJvdG90eXBlLmVudW1lcmF0ZSksaShcImdyb3VwXCIscy5wcm90b3R5cGUuZ3JvdXApLGkoXCJzb3J0ZWRcIixzLnByb3RvdHlwZS5GYyksaShcInJldmVyc2VkXCIscy5wcm90b3R5cGUucmV2ZXJzZWQpLGkoXCJjb25zdHJ1Y3RDbG9uZVwiLGZ1bmN0aW9uKGUpe3ZhciB0PW5ldyB0aGlzLmNvbnN0cnVjdG9yO3JldHVybiB0LmFkZEVhY2goZSksdH0pLGkoXCJoYXNcIixmdW5jdGlvbihlLHQpe3JldHVybi0xIT09dGhpcy5maW5kKGUsdCl9KSxpKFwic2V0XCIsZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpc1tlXT10LCEwfSksaShcImFkZFwiLGZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnB1c2goZSksITB9KSxpKFwiZGVsZXRlXCIsZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLmZpbmQoZSx0KTtyZXR1cm4tMSE9PXImJih0aGlzLnNwbGljZShyLDEpLCEwKX0pLGkoXCJkZWxldGVBbGxcIixmdW5jdGlvbihlLHQpe3Q9dHx8dGhpcy5sc3x8T2JqZWN0LmNzO2Zvcih2YXIgcj0wLGk9MDtpPHRoaXMubGVuZ3RoOyl0KGUsdGhpc1tpXSk/KHRoaXMucWsoaSwxKSxyKyspOmkrKztyZXR1cm4gcn0pLGkoXCJmaW5kXCIsZnVuY3Rpb24oZSx0KXt0PXR8fHRoaXMubHN8fE9iamVjdC5jcztmb3IodmFyIHI9MDtyPHRoaXMubGVuZ3RoO3IrKylpZihyIGluIHRoaXMmJnQoZSx0aGlzW3JdKSlyZXR1cm4gcjtyZXR1cm4tMX0pLGkoXCJmaW5kTGFzdFwiLGZ1bmN0aW9uKGUsdCl7dD10fHx0aGlzLmxzfHxPYmplY3QuY3M7dmFyIHI9dGhpcy5sZW5ndGg7ZG97aWYoLS1yIGluIHRoaXMmJnQodGhpc1tyXSxlKSlyZXR1cm4gcn13aGlsZShyPjApO3JldHVybi0xfSksaShcInN3YXBcIixmdW5jdGlvbihlLHQscil7dmFyIGksbixzLG8sYTtpZihlPnRoaXMubGVuZ3RoJiYodGhpcy5sZW5ndGg9ZSksdm9pZCAwIT09cil7aWYoaT1bZSx0XSxBcnJheS5pc0FycmF5KHIpfHwocj1jLmNhbGwocikpLHM9MCwobj1yLmxlbmd0aCk8MWUzKXtmb3IocztzPG47cysrKWlbcysyXT1yW3NdO3JldHVybiBoLmFwcGx5KHRoaXMsaSl9Zm9yKGE9aC5hcHBseSh0aGlzLGkpLHM7czxuOyl7Zm9yKGk9W2UrcywwXSxvPTI7bzwxMDAyJiZzPG47bysrLHMrKylpW29dPXJbc107aC5hcHBseSh0aGlzLGkpfXJldHVybiBhfXJldHVybiB2b2lkIDAhPT10P2guY2FsbCh0aGlzLGUsdCk6dm9pZCAwIT09ZT9oLmNhbGwodGhpcyxlKTpbXX0pLGkoXCJwZWVrXCIsZnVuY3Rpb24oKXtyZXR1cm4gdGhpc1swXX0pLGkoXCJwb2tlXCIsZnVuY3Rpb24oZSl7dGhpcy5sZW5ndGg+MCYmKHRoaXNbMF09ZSl9KSxpKFwicGVla0JhY2tcIixmdW5jdGlvbigpe2lmKHRoaXMubGVuZ3RoPjApcmV0dXJuIHRoaXNbdGhpcy5sZW5ndGgtMV19KSxpKFwicG9rZUJhY2tcIixmdW5jdGlvbihlKXt0aGlzLmxlbmd0aD4wJiYodGhpc1t0aGlzLmxlbmd0aC0xXT1lKX0pLGkoXCJvbmVcIixmdW5jdGlvbigpe2Zvcih2YXIgZSBpbiB0aGlzKWlmKE9iamVjdC5PQSh0aGlzLGUpKXJldHVybiB0aGlzW2VdfSksQXJyYXkucHJvdG90eXBlLmNsZWFyfHxpKFwiY2xlYXJcIixmdW5jdGlvbigpe3JldHVybiB0aGlzLmxlbmd0aD0wLHRoaXN9KSxpKFwiY29tcGFyZVwiLGZ1bmN0aW9uKGUsdCl7dD10fHxPYmplY3QuT2M7dmFyIHIsaSxuLHMsYTtpZih0aGlzPT09ZSlyZXR1cm4gMDtpZighZXx8IUFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIG8ucHJvdG90eXBlLk9jLmNhbGwodGhpcyxlLHQpO2ZvcihpPU1hdGgubWluKHRoaXMubGVuZ3RoLGUubGVuZ3RoKSxyPTA7cjxpO3IrKylpZihyIGluIHRoaXMpe2lmKCEociBpbiBlKSlyZXR1cm4tMTtpZihuPXRoaXNbcl0scz1lW3JdLGE9dChuLHMpKXJldHVybiBhfWVsc2UgaWYociBpbiBlKXJldHVybiAxO3JldHVybiB0aGlzLmxlbmd0aC1lLmxlbmd0aH0pLGkoXCJlcXVhbHNcIixmdW5jdGlvbihlLHQpe3Q9dHx8T2JqZWN0LmNzO3ZhciByLGksbj0wLHM9dGhpcy5sZW5ndGg7aWYodGhpcz09PWUpcmV0dXJuITA7aWYoIWV8fCFBcnJheS5pc0FycmF5KGUpKXJldHVybiBvLnByb3RvdHlwZS5jcy5jYWxsKHRoaXMsZSk7aWYocyE9PWUubGVuZ3RoKXJldHVybiExO2Zvcig7bjxzOysrbilpZihuIGluIHRoaXMpe2lmKCEobiBpbiBlKSlyZXR1cm4hMTtpZihyPXRoaXNbbl0saT1lW25dLCF0KHIsaSkpcmV0dXJuITF9ZWxzZSBpZihuIGluIGUpcmV0dXJuITE7cmV0dXJuITB9KSxpKFwiY2xvbmVcIixmdW5jdGlvbihlLHQpe2lmKG51bGw9PWUpZT0xLzA7ZWxzZSBpZigwPT09ZSlyZXR1cm4gdGhpcztpZih0PXR8fG5ldyBhLHQuaGFzKHRoaXMpKXJldHVybiB0LmdldCh0aGlzKTt2YXIgcj1uZXcgQXJyYXkodGhpcy5sZW5ndGgpO3Quc2V0KHRoaXMscik7Zm9yKHZhciBpIGluIHRoaXMpcltpXT1PYmplY3QuY2xvbmUodGhpc1tpXSxlLTEsdCk7cmV0dXJuIHJ9KSxpKFwiaXRlcmF0ZVwiLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIG5ldyBuKHRoaXMsZSx0KX0pLGkoXCJJdGVyYXRvclwiLG4pLG4ucHJvdG90eXBlLkdrPW51bGwsT2JqZWN0LmRlZmluZVByb3BlcnR5KG4ucHJvdG90eXBlLFwiX2l0ZXJhdGlvbk9iamVjdFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5Ha3x8KHRoaXMuR2s9e2RvbmU6ITEsdmFsdWU6bnVsbH0pfX0pLG4ucHJvdG90eXBlLm5leHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGFydD09PShudWxsPT10aGlzLmVuZD90aGlzLk5ULmxlbmd0aDp0aGlzLmVuZCk/KHRoaXMuVmsuZG9uZT0hMCx0aGlzLlZrLnZhbHVlPXZvaWQgMCk6dGhpcy5Way52YWx1ZT10aGlzLk5UW3RoaXMuc3RhcnQrK10sdGhpcy5Wa319LGZ1bmN0aW9uKGUsdCl7ZS5pPUZ1bmN0aW9uLEZ1bmN0aW9uLnVzPWZ1bmN0aW9uKCl7fSxGdW5jdGlvbi5pZGVudGl0eT1mdW5jdGlvbihlKXtyZXR1cm4gZX0sRnVuY3Rpb24uVWM9ZnVuY3Rpb24oZSx0KXt0PXR8fE9iamVjdC5PYyxlPWV8fEZ1bmN0aW9uLmlkZW50aXR5O3ZhciByPWZ1bmN0aW9uKHIsaSl7cmV0dXJuIHQoZShyKSxlKGkpKX07cmV0dXJuIHIuT2M9dCxyLlVjPWUscn0sRnVuY3Rpb24uZ2V0PWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldCh0LGUpfX19LGZ1bmN0aW9uKGUsdCxyKXtmdW5jdGlvbiBpKCl7dGhyb3cgbmV3IEVycm9yKFwiQ2FuJ3QgY29uc3RydWN0LiBHZW5lcmljT3JkZXIgaXMgYSBtaXhpbi5cIil9dmFyIG49cigzNik7ZS5pPWksaS5wcm90b3R5cGUuY3M9ZnVuY3Rpb24oZSx0KXtpZih0PXR8fHRoaXMubHN8fG4uY3MsdGhpcz09PWUpcmV0dXJuITA7aWYoIWUpcmV0dXJuITE7cmV0dXJuIHRoaXMubGVuZ3RoPT09ZS5sZW5ndGgmJnRoaXMuTGMoZSkuZXZlcnkoZnVuY3Rpb24oZSl7cmV0dXJuIHQoZVswXSxlWzFdKX0pfSxpLnByb3RvdHlwZS5PYz1mdW5jdGlvbihlLHQpe2lmKHQ9dHx8dGhpcy5BY3x8bi5PYyx0aGlzPT09ZSlyZXR1cm4gMDtpZighZSlyZXR1cm4gMTt2YXIgcj1NYXRoLm1pbih0aGlzLmxlbmd0aCxlLmxlbmd0aCksaT10aGlzLkxjKGUpLnJlZHVjZShmdW5jdGlvbihlLGksbil7cmV0dXJuIDA9PT1lP24+PXI/ZTp0KGlbMF0saVsxXSk6ZX0sMCk7cmV0dXJuIDA9PT1pP3RoaXMubGVuZ3RoLWUubGVuZ3RoOml9LGkucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRvQXJyYXkoKX19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBpKGUsdCxyLG4pe2lmKCEodGhpcyBpbnN0YW5jZW9mIGkpKXJldHVybiBuZXcgaShlLHQscixuKTt0PXR8fE9iamVjdC5jcyxyPXJ8fE9iamVjdC5oYXNoLG49bnx8RnVuY3Rpb24udXMsdGhpcy5scz10LHRoaXMucHM9cix0aGlzLmRzPW4sdGhpcy5vcmRlcj1uZXcgdGhpcy5YRih2b2lkIDAsdCksdGhpcy5mcz1uZXcgdGhpcy5aRih2b2lkIDAsZnVuY3Rpb24oZSxyKXtyZXR1cm4gdChlLnZhbHVlLHIudmFsdWUpfSxmdW5jdGlvbihlKXtyZXR1cm4gcihlLnZhbHVlKX0pLHRoaXMubGVuZ3RoPTAsdGhpcy5hZGRFYWNoKGUpfXZhciBuPShyKDExKSxyKDUwKSkscz1yKDEwMiksbz1yKDEyKSxhPXIoMzkpLGg9cigxMyksYz1yKDM4KSx1PXIoMTAzKTtlLmk9aSxpLlNldD1pLE9iamVjdC5hZGRFYWNoKGkucHJvdG90eXBlLG8ucHJvdG90eXBlKSxPYmplY3QuYWRkRWFjaChpLnByb3RvdHlwZSxhLnByb3RvdHlwZSksT2JqZWN0LmFkZEVhY2goaS5wcm90b3R5cGUsaC5wcm90b3R5cGUpLE9iamVjdC5hZGRFYWNoKGkucHJvdG90eXBlLGMucHJvdG90eXBlKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsXCJzaXplXCIsby5ncyksaS5wcm90b3R5cGUuWEY9bixpLnByb3RvdHlwZS5aRj1zLGkucHJvdG90eXBlLkVzPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvcihlLHRoaXMubHMsdGhpcy5wcyx0aGlzLmRzKX0saS5wcm90b3R5cGUuaGFzPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyB0aGlzLm9yZGVyLk5vZGUoZSk7cmV0dXJuIHRoaXMuZnMuaGFzKHQpfSxpLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oZSx0KXtpZih0KXRocm93IG5ldyBFcnJvcihcIlNldCNnZXQgZG9lcyBub3Qgc3VwcG9ydCBzZWNvbmQgYXJndW1lbnQ6IGVxdWFsc1wiKTt2YXIgcj1uZXcgdGhpcy5vcmRlci5Ob2RlKGUpO3JldHVybiByPXRoaXMuZnMuZ2V0KHIpLHI/ci52YWx1ZTp0aGlzLmRzKGUpfSxpLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IHRoaXMub3JkZXIuTm9kZShlKTtpZighdGhpcy5mcy5oYXModCkpe3ZhciByPXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLk1rJiZ0aGlzLlFBKFtlXSxbXSxyKSx0aGlzLm9yZGVyLmFkZChlKSx0PXRoaXMub3JkZXIuaGVhZC5Payx0aGlzLmZzLmFkZCh0KSx0aGlzLmxlbmd0aCsrLHRoaXMuTWsmJnRoaXMuR0EoW2VdLFtdLHIpLCEwfXJldHVybiExfSxpLnByb3RvdHlwZS5kZWxldGU9ZnVuY3Rpb24oZSx0KXtpZih0KXRocm93IG5ldyBFcnJvcihcIlNldCNkZWxldGUgZG9lcyBub3Qgc3VwcG9ydCBzZWNvbmQgYXJndW1lbnQ6IGVxdWFsc1wiKTt2YXIgcj1uZXcgdGhpcy5vcmRlci5Ob2RlKGUpO3JldHVybiEhdGhpcy5mcy5oYXMocikmJihyPXRoaXMuZnMuZ2V0KHIpLHRoaXMuTWsmJnRoaXMuUUEoW10sW2VdLHIuaW5kZXgpLHRoaXMuZnMuZGVsZXRlKHIpLHRoaXMub3JkZXIuc3BsaWNlKHIsMSksdGhpcy5sZW5ndGgtLSx0aGlzLk1rJiZ0aGlzLkdBKFtdLFtlXSxyLmluZGV4KSwhMCl9LGkucHJvdG90eXBlLnBvcD1mdW5jdGlvbigpe2lmKHRoaXMubGVuZ3RoKXt2YXIgZT10aGlzLm9yZGVyLmhlYWQuT2sudmFsdWU7cmV0dXJuIHRoaXMuZGVsZXRlKGUpLGV9fSxpLnByb3RvdHlwZS5zaGlmdD1mdW5jdGlvbigpe2lmKHRoaXMubGVuZ3RoKXt2YXIgZT10aGlzLm9yZGVyLmhlYWQubmV4dC52YWx1ZTtyZXR1cm4gdGhpcy5kZWxldGUoZSksZX19LGkucHJvdG90eXBlLkJjPWZ1bmN0aW9uKCl7aWYodGhpcy5sZW5ndGg+MClyZXR1cm4gdGhpcy5mcy5CYygpLnZhbHVlfSxpLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3ZhciBlO3RoaXMuTWsmJihlPXRoaXMudG9BcnJheSgpLHRoaXMuUUEoW10sZSwwKSksdGhpcy5mcy5jbGVhcigpLHRoaXMub3JkZXIuY2xlYXIoKSx0aGlzLmxlbmd0aD0wLHRoaXMuTWsmJnRoaXMuR0EoW10sZSwwKX0saS5wcm90b3R5cGUucmVkdWNlPWZ1bmN0aW9uKGUsdCl7dmFyIHI9YXJndW1lbnRzWzJdLGk9MDtyZXR1cm4gdGhpcy5vcmRlci5yZWR1Y2UoZnVuY3Rpb24odCxuKXtyZXR1cm4gZS5jYWxsKHIsdCxuLGkrKyx0aGlzKX0sdCx0aGlzKX0saS5wcm90b3R5cGUucmVkdWNlUmlnaHQ9ZnVuY3Rpb24oZSx0KXt2YXIgcj1hcmd1bWVudHNbMl0saT10aGlzLm9yZGVyLG49dGhpcy5sZW5ndGgtMTtyZXR1cm4gaS5yZWR1Y2VSaWdodChmdW5jdGlvbih0LGkpe3JldHVybiBlLmNhbGwocix0LGksbi0tLHRoaXMpfSx0LHRoaXMpfSxpLnByb3RvdHlwZS5IYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLm9yZGVyLkhjKCl9LGkucHJvdG90eXBlLnZhbHVlcz1mdW5jdGlvbigpe3JldHVybiBuZXcgdSh0aGlzKX0saS5wcm90b3R5cGUubG9nPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5mcztyZXR1cm4gZS5sb2cuYXBwbHkoZSxhcmd1bWVudHMpfSxpLnByb3RvdHlwZS5YYz1mdW5jdGlvbigpe3RoaXMub3JkZXIuWGMoKX19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBpKCl7fWUuaT1pLGkuJEY9e1dBOlwiK1wiLGVVOlwiLVwiLHRVOlwiK1wiLHJVOlwiK1wiLGlVOlwiLlwiLG5VOlwiJ1wiLHNVOlwiK1wiLG9VOlwifFwifSxpLmFVPXtXQTpcIuKVi1wiLGVVOlwi4pSBXCIsdFU6XCLilLtcIixyVTpcIuKUs1wiLGlVOlwi4pWtXCIsblU6XCLilbBcIixzVTpcIuKUo1wiLG9VOlwi4pSDXCJ9LGkuaFU9e1dBOlwi4pWLXCIsZVU6XCLilIFcIix0VTpcIuKUu1wiLHJVOlwi4pSzXCIsaVU6XCLilI9cIixuVTpcIuKUl1wiLHNVOlwi4pSjXCIsb1U6XCLilINcIn19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGV9KCk7aS5kTz1cIjEyNy4wLjAuMVwiLGkuckw9MTE5ODMsaS5mTz1cIi8vezB9OnsxfS9wcm94eS8/Y2FsbGJhY2s9ezJ9ezN9aGl2ZVBsdWdpbklkPXs0fVwiLGkuY1U9XCIvL3swfTp7MX0vcHJveHkvezJ9L3Nlc3Npb24/bWFuaWZlc3Q9ezN9XCIsaS5lTD1cIi8vezB9OnsxfS9wcm94eS97Mn0vcGxheWVyP3JlcT17M31cIixpLnVVPVwiLy97MH06ezF9L3Byb3h5L3syfS9pbmZvP3szfVwiLHQudEw9aX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXIoNyksbj1yKDEpLHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMubG9nZ2VySWQ9XCJbSGl2ZVhIUl0gXCIsdGhpcy5ET05FPTQsdGhpcy5MT0FESU5HPTMsdGhpcy5IRUFERVJTX1JFQ0VJVkVEPTIsdGhpcy5PUEVORUQ9MSx0aGlzLlVOU0VOVD0wLHRoaXMudXNlcm5hbWU9bnVsbCx0aGlzLnBhc3N3b3JkPW51bGwsdGhpcy5sVT1bXSx0aGlzLnJlc3BvbnNlVHlwZT1cIlwiLHRoaXMucmVhZHlTdGF0ZT10aGlzLlVOU0VOVCx0aGlzLnN0YXR1cz0wLHRoaXMuYXN5bmM9ITAsdGhpcy50aW1lb3V0PTAsdGhpcy5ldmVudHM9e30sZSYmKHRoaXMuc2Vzc2lvbklkPWUpfXJldHVybiBlLnByb3RvdHlwZS5hZGRFdmVudExpc3RlbmVyPWZ1bmN0aW9uKGUsdCxyKXt0aGlzLmV2ZW50c1tlXT10aGlzLmV2ZW50c1tlXXx8W10sdGhpcy5ldmVudHNbZV0ucHVzaCh0KX0sZS5wcm90b3R5cGUucmVtb3ZlRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihlLHQscil7dGhpcy5ldmVudHNbZV0mJih0aGlzLmV2ZW50c1tlXT10aGlzLmV2ZW50c1tlXS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGUhPT10fSkpfSxlLnByb3RvdHlwZS5kaXNwYXRjaEV2ZW50PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dGhpcy5ldmVudHNbZS50eXBlXSYmdGhpcy5ldmVudHNbZS50eXBlXS5mb3JFYWNoKGZ1bmN0aW9uKHIpe3RyeXtcImZ1bmN0aW9uXCI9PXR5cGVvZiByP3IuY2FsbCh0LGUpOlwiZnVuY3Rpb25cIj09dHlwZW9mIHIuQ0wmJnIuQ0woZSl9Y2F0Y2gocil7bi5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcih0LmxvZ2dlcklkK1wiRXJyb3IgaW4gY2FsbGJhY2sgaGFuZGxlciAnXCIrZS50eXBlK1wiJ1wiLHtlcnJvcjpyfSl9fSk7dmFyIHI9dGhpc1tcIm9uXCIrZS50eXBlXTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiByKXRyeXtyLmNhbGwodGhpcyxlKX1jYXRjaCh0KXtuLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKHRoaXMubG9nZ2VySWQrXCJFcnJvciBpbiBjYWxsYmFjayBoYW5kbGVyICdcIitlLnR5cGUrXCInXCIse2Vycm9yOnR9KX1yZXR1cm4hMX0sZS5wcm90b3R5cGUubXNDYWNoaW5nRW5hYmxlZD1mdW5jdGlvbigpe3JldHVybiB2b2lkIDAhPT10aGlzLm1zQ2FjaGluZ30sZS5wcm90b3R5cGUub3ZlcnJpZGVNaW1lVHlwZT1mdW5jdGlvbihlKXt0aGlzLm1pbWVUeXBlPWV9LGUucmVnaXN0ZXI9ZnVuY3Rpb24odCxyKXtlLnViW3RdPXJ9LGUucHJvdG90eXBlLnBVPWZ1bmN0aW9uKHQpe3RoaXMuc2Vzc2lvbklkfHwodGhpcy5zZXNzaW9uSWQ9ZS51Ylt0XSl9LGUucHJvdG90eXBlLm9wZW49ZnVuY3Rpb24oZSx0LHIsbixzKXt2b2lkIDA9PT1yJiYocj0hMCksdm9pZCAwPT09biYmKG49bnVsbCksdm9pZCAwPT09cyYmKHM9bnVsbCksdGhpcy51cmw9dC50cmltKCksdGhpcy5tZXRob2Q9ZSx0aGlzLnVzZXJuYW1lPW4sdGhpcy5wYXNzd29yZD1zLHRoaXMuYXN5bmM9cix0aGlzLnJlYWR5U3RhdGU9dGhpcy5PUEVORUQ7dmFyIG89aS5yYy5jcmVhdGVFdmVudChFdmVudCxcInJlYWR5c3RhdGVjaGFuZ2VcIix7Y3VycmVudFRhcmdldDp0aGlzfSk7dGhpcy5kaXNwYXRjaEV2ZW50KG8pfSxlLnByb3RvdHlwZS5zZXRSZXF1ZXN0SGVhZGVyPWZ1bmN0aW9uKGUsdCl7aWYodGhpcy5yZWFkeVN0YXRlIT09dGhpcy5PUEVORUQpdGhyb3cgbmV3IEVycm9yKFwiVGhlIG9iamVjdCdzIHN0YXRlIG11c3QgYmUgT1BFTkVELlwiKTt0aGlzLmxVLnB1c2goe2tleTplLHZhbHVlOnR9KX0sZS5wcm90b3R5cGUuZ2V0UmVzcG9uc2VIZWFkZXI9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKTtpZih0KXt2YXIgcj1bXTtyZXR1cm4gdC5zcGxpdCgvW1xcclxcbl0rLykuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD1lLm1hdGNoKC9eKFteOl0rKTogPyguKykkLyk7dCYmKHJbdFsxXV09dFsyXSl9KSxyW2UudG9Mb3dlckNhc2UoKV19cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLmdldEFsbFJlc3BvbnNlSGVhZGVycz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJlc3BvbnNlSGVhZGVyc30sZS5wcm90b3R5cGUub25sb2FkPWZ1bmN0aW9uKGUpe30sZS5wcm90b3R5cGUub25sb2FkZW5kPWZ1bmN0aW9uKGUpe30sZS5wcm90b3R5cGUub25lcnJvcj1mdW5jdGlvbihlKXt9LGUucHJvdG90eXBlLm9ucHJvZ3Jlc3M9ZnVuY3Rpb24oZSl7fSxlLnByb3RvdHlwZS5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oZSl7fSxlLnByb3RvdHlwZS5vbmFib3J0PWZ1bmN0aW9uKGUpe30sZS5wcm90b3R5cGUub25sb2Fkc3RhcnQ9ZnVuY3Rpb24oZSl7fSxlLnByb3RvdHlwZS5vbnRpbWVvdXQ9ZnVuY3Rpb24oZSl7fSxlfSgpO3MudWI9e30scy5BZz0wLHQucGI9c30sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXRoaXMmJnRoaXMuaHV8fGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gcigpe3RoaXMuY29uc3RydWN0b3I9ZX1mb3IodmFyIGkgaW4gdCl0Lmhhc093blByb3BlcnR5KGkpJiYoZVtpXT10W2ldKTtlLnByb3RvdHlwZT1udWxsPT09dD9PYmplY3QuY3JlYXRlKHQpOihyLnByb3RvdHlwZT10LnByb3RvdHlwZSxuZXcgcil9LG49cig1Mykscz1yKDcpLG89ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIGkodCxlKSx0LnJlZ2lzdGVyVGVjaD1mdW5jdGlvbihlLHIpe3QuaUxbcl09ZX0sdC5yZWdpc3RlckNvbW09ZnVuY3Rpb24oZSxyKXt0Lm5MW3JdPWV9LHQucHJvdG90eXBlLnNlbmQ9ZnVuY3Rpb24oKXtpZighdGhpcy5zZXNzaW9uSWQpe3ZhciBlPU9iamVjdC5rZXlzKHQubkwpO2UubGVuZ3RoPjAmJih0aGlzLnNlc3Npb25JZD10Lm5MW2VbMF1dKX12YXIgcj10LmlMW3RoaXMuc2Vzc2lvbklkXSxpPXQubkxbdGhpcy5zZXNzaW9uSWRdO2kubG9nZ2VyKCkuZGVidWcoXCJJbnRlcmNlcHRlZCBNYW5pZmVzdCBSZXF1ZXN0IFwiK3RoaXMudXJsKSxyLm9MKHRoaXMpLGkub25BY3RpdmF0ZVNlc3Npb24odGhpcy51cmwpfSx0LnByb3RvdHlwZS5kVT1mdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1uZXcgWE1MSHR0cFJlcXVlc3Q7dC5vcGVuKFwiR0VUXCIsdGhpcy51cmwpLHQub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKHIpezQ9PT10LnJlYWR5U3RhdGUmJihlLnJlc3BvbnNlPXQucmVzcG9uc2VUZXh0LGUucmVzcG9uc2VUZXh0PXQucmVzcG9uc2VUZXh0LGUucmVhZHlTdGF0ZT00LGUuc3RhdHVzPXQuc3RhdHVzLGUub25yZWFkeXN0YXRlY2hhbmdlKHMucmMuY3JlYXRlRXZlbnQoRXZlbnQsXCJyZWFkeXN0YXRlY2hhbmdlXCIscixlKSksZS5vbmxvYWQocy5yYy5jcmVhdGVFdmVudChQcm9ncmVzc0V2ZW50LFwibG9hZFwiLHIsZSkpLGNvbnNvbGUuZGVidWcoXCJSZXR1cm5lZCBNYW5pZmVzdCBSZXF1ZXN0IFwiK2UudXJsKSl9LHQuc2VuZCgpfSx0LnByb3RvdHlwZS5mVT1mdW5jdGlvbigpe2UucHJvdG90eXBlLnNlbmQuY2FsbCh0aGlzKX0sdH0obi5adSk7by5uTD17fSxvLmlMPXt9LHQuJHU9b30sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXRoaXMmJnRoaXMuaHV8fGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gcigpe3RoaXMuY29uc3RydWN0b3I9ZX1mb3IodmFyIGkgaW4gdCl0Lmhhc093blByb3BlcnR5KGkpJiYoZVtpXT10W2ldKTtlLnByb3RvdHlwZT1udWxsPT09dD9PYmplY3QuY3JlYXRlKHQpOihyLnByb3RvdHlwZT10LnByb3RvdHlwZSxuZXcgcil9LG49cigxNSkscz1yKDApLG89cigzMiksYT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gaSh0LGUpLHQuQXBpPWZ1bmN0aW9uKCl7cmV0dXJuIHQuYXBwPVwiSlNcIixzLkZyYW1ld29yay5yZXNvbHZlKG4ucXUuX3UpfSx0fShvLkhpdmUpO3QubGI9YX0sZnVuY3Rpb24oZSx0LHIpe2Z1bmN0aW9uIGkoZSxyKXt2YXIgaT17Z1U6W10sRVU6c307cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg+PTMmJihpLnZVPWFyZ3VtZW50c1syXSksYXJndW1lbnRzLmxlbmd0aD49NCYmKGkueVU9YXJndW1lbnRzWzNdKSxmKHIpP2kuVFU9cjpyJiZ0Lm1VKGksciksbShpLlRVKSYmKGkuVFU9ITEpLG0oaS52VSkmJihpLnZVPTIpLG0oaS55VSkmJihpLnlVPSExKSxtKGkuSVUpJiYoaS5JVT0hMCksaS55VSYmKGkuRVU9biksYShpLGUsaS52VSl9ZnVuY3Rpb24gbihlLHQpe3ZhciByPWkuU1VbdF07cmV0dXJuIHI/XCJcdTAwMWJbXCIraS55VVtyXVswXStcIm1cIitlK1wiXHUwMDFiW1wiK2kueVVbcl1bMV0rXCJtXCI6ZX1mdW5jdGlvbiBzKGUsdCl7cmV0dXJuIGV9ZnVuY3Rpb24gbyhlKXt2YXIgdD17fTtyZXR1cm4gZS5mb3JFYWNoKGZ1bmN0aW9uKGUscil7dFtlXT0hMH0pLHR9ZnVuY3Rpb24gYShlLHIsaSl7aWYoZS5JVSYmciYmYihyLklzKSYmci5JcyE9PXQuSXMmJighci5jb25zdHJ1Y3Rvcnx8ci5jb25zdHJ1Y3Rvci5wcm90b3R5cGUhPT1yKSl7dmFyIG49ci5JcyhpLGUpO3JldHVybiB5KG4pfHwobj1hKGUsbixpKSksbn12YXIgcz1oKGUscik7aWYocylyZXR1cm4gczt2YXIgZj1PYmplY3Qua2V5cyhyKSxnPW8oZik7aWYoZS5UVSYmKGY9T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMocikpLHcocikmJihmLmluZGV4T2YoXCJtZXNzYWdlXCIpPj0wfHxmLmluZGV4T2YoXCJkZXNjcmlwdGlvblwiKT49MCkpcmV0dXJuIGMocik7aWYoMD09PWYubGVuZ3RoKXtpZihiKHIpKXt2YXIgRT1yLm5hbWU/XCI6IFwiK3IubmFtZTpcIlwiO3JldHVybiBlLkVVKFwiW0Z1bmN0aW9uXCIrRStcIl1cIixcInNwZWNpYWxcIil9aWYoSShyKSlyZXR1cm4gZS5FVShSZWdFeHAucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwociksXCJyZWdleHBcIik7aWYoUihyKSlyZXR1cm4gZS5FVShEYXRlLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHIpLFwiZGF0ZVwiKTtpZih3KHIpKXJldHVybiBjKHIpfXZhciB2PVwiXCIsVD0hMSxtPVtcIntcIixcIn1cIl07aWYoZChyKSYmKFQ9ITAsbT1bXCJbXCIsXCJdXCJdKSxiKHIpKXt2PVwiIFtGdW5jdGlvblwiKyhyLm5hbWU/XCI6IFwiK3IubmFtZTpcIlwiKStcIl1cIn1pZihJKHIpJiYodj1cIiBcIitSZWdFeHAucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwocikpLFIocikmJih2PVwiIFwiK0RhdGUucHJvdG90eXBlLnRvVVRDU3RyaW5nLmNhbGwocikpLHcocikmJih2PVwiIFwiK2MocikpLDA9PT1mLmxlbmd0aCYmKCFUfHwwPT1yLmxlbmd0aCkpcmV0dXJuIG1bMF0rdittWzFdO2lmKGk8MClyZXR1cm4gSShyKT9lLkVVKFJlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChyKSxcInJlZ2V4cFwiKTplLkVVKFwiW09iamVjdF1cIixcInNwZWNpYWxcIik7ZS5nVS5wdXNoKHIpO3ZhciBTO3JldHVybiBTPVQ/dShlLHIsaSxnLGYpOmYubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBsKGUscixpLGcsdCxUKX0pLGUuZ1UucG9wKCkscChTLHYsbSl9ZnVuY3Rpb24gaChlLHQpe2lmKG0odCkpcmV0dXJuIGUuRVUoXCJ1bmRlZmluZWRcIixcInVuZGVmaW5lZFwiKTtpZih5KHQpKXt2YXIgcj1cIidcIitKU09OLnN0cmluZ2lmeSh0KS5yZXBsYWNlKC9eXCJ8XCIkL2csXCJcIikucmVwbGFjZSgvJy9nLFwiXFxcXCdcIikucmVwbGFjZSgvXFxcXFwiL2csJ1wiJykrXCInXCI7cmV0dXJuIGUuRVUocixcInN0cmluZ1wiKX1yZXR1cm4gdih0KT9lLkVVKFwiXCIrdCxcIm51bWJlclwiKTpmKHQpP2UuRVUoXCJcIit0LFwiYm9vbGVhblwiKTpnKHQpP2UuRVUoXCJudWxsXCIsXCJudWxsXCIpOnZvaWQgMH1mdW5jdGlvbiBjKGUpe3JldHVyblwiW1wiK0Vycm9yLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpK1wiXVwifWZ1bmN0aW9uIHUoZSx0LHIsaSxuKXtmb3IodmFyIHM9W10sbz0wLGE9dC5sZW5ndGg7bzxhOysrbylPKHQsU3RyaW5nKG8pKT9zLnB1c2gobChlLHQscixpLFN0cmluZyhvKSwhMCkpOnMucHVzaChcIlwiKTtyZXR1cm4gbi5mb3JFYWNoKGZ1bmN0aW9uKG4pe24ubWF0Y2goL15cXGQrJC8pfHxzLnB1c2gobChlLHQscixpLG4sITApKX0pLHN9ZnVuY3Rpb24gbChlLHQscixpLG4scyl7dmFyIG8saCxjO2lmKGM9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LG4pfHx7dmFsdWU6dFtuXX0sYy5nZXQ/aD1jLnNldD9lLkVVKFwiW0dldHRlci9TZXR0ZXJdXCIsXCJzcGVjaWFsXCIpOmUuRVUoXCJbR2V0dGVyXVwiLFwic3BlY2lhbFwiKTpjLnNldCYmKGg9ZS5FVShcIltTZXR0ZXJdXCIsXCJzcGVjaWFsXCIpKSxPKGksbil8fChvPVwiW1wiK24rXCJdXCIpLGh8fChlLmdVLmluZGV4T2YoYy52YWx1ZSk8MD8oaD1nKHIpP2EoZSxjLnZhbHVlLG51bGwpOmEoZSxjLnZhbHVlLHItMSksaC5pbmRleE9mKFwiXFxuXCIpPi0xJiYoaD1zP2guc3BsaXQoXCJcXG5cIikubWFwKGZ1bmN0aW9uKGUpe3JldHVyblwiICBcIitlfSkuam9pbihcIlxcblwiKS5zdWJzdHIoMik6XCJcXG5cIitoLnNwbGl0KFwiXFxuXCIpLm1hcChmdW5jdGlvbihlKXtyZXR1cm5cIiAgIFwiK2V9KS5qb2luKFwiXFxuXCIpKSk6aD1lLkVVKFwiW0NpcmN1bGFyXVwiLFwic3BlY2lhbFwiKSksbShvKSl7aWYocyYmbi5tYXRjaCgvXlxcZCskLykpcmV0dXJuIGg7bz1KU09OLnN0cmluZ2lmeShcIlwiK24pLG8ubWF0Y2goL15cIihbYS16QS1aX11bYS16QS1aXzAtOV0qKVwiJC8pPyhvPW8uc3Vic3RyKDEsby5sZW5ndGgtMiksbz1lLkVVKG8sXCJuYW1lXCIpKToobz1vLnJlcGxhY2UoLycvZyxcIlxcXFwnXCIpLnJlcGxhY2UoL1xcXFxcIi9nLCdcIicpLnJlcGxhY2UoLyheXCJ8XCIkKS9nLFwiJ1wiKSxvPWUuRVUobyxcInN0cmluZ1wiKSl9cmV0dXJuIG8rXCI6IFwiK2h9ZnVuY3Rpb24gcChlLHQscil7dmFyIGk9MDtyZXR1cm4gZS5yZWR1Y2UoZnVuY3Rpb24oZSx0KXtyZXR1cm4gaSsrLHQuaW5kZXhPZihcIlxcblwiKT49MCYmaSsrLGUrdC5yZXBsYWNlKC9cXHUwMDFiXFxbXFxkXFxkP20vZyxcIlwiKS5sZW5ndGgrMX0sMCk+NjA/clswXSsoXCJcIj09PXQ/XCJcIjp0K1wiXFxuIFwiKStcIiBcIitlLmpvaW4oXCIsXFxuICBcIikrXCIgXCIrclsxXTpyWzBdK3QrXCIgXCIrZS5qb2luKFwiLCBcIikrXCIgXCIrclsxXX1mdW5jdGlvbiBkKGUpe3JldHVybiBBcnJheS5pc0FycmF5KGUpfWZ1bmN0aW9uIGYoZSl7cmV0dXJuXCJib29sZWFuXCI9PXR5cGVvZiBlfWZ1bmN0aW9uIGcoZSl7cmV0dXJuIG51bGw9PT1lfWZ1bmN0aW9uIEUoZSl7cmV0dXJuIG51bGw9PWV9ZnVuY3Rpb24gdihlKXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgZX1mdW5jdGlvbiB5KGUpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlfWZ1bmN0aW9uIFQoZSl7cmV0dXJuXCJzeW1ib2xcIj09dHlwZW9mIGV9ZnVuY3Rpb24gbShlKXtyZXR1cm4gdm9pZCAwPT09ZX1mdW5jdGlvbiBJKGUpe3JldHVybiBTKGUpJiZcIltvYmplY3QgUmVnRXhwXVwiPT09XyhlKX1mdW5jdGlvbiBTKGUpe3JldHVyblwib2JqZWN0XCI9PXR5cGVvZiBlJiZudWxsIT09ZX1mdW5jdGlvbiBSKGUpe3JldHVybiBTKGUpJiZcIltvYmplY3QgRGF0ZV1cIj09PV8oZSl9ZnVuY3Rpb24gdyhlKXtyZXR1cm4gUyhlKSYmKFwiW29iamVjdCBFcnJvcl1cIj09PV8oZSl8fGUgaW5zdGFuY2VvZiBFcnJvcil9ZnVuY3Rpb24gYihlKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBlfWZ1bmN0aW9uIEMoZSl7cmV0dXJuIG51bGw9PT1lfHxcImJvb2xlYW5cIj09dHlwZW9mIGV8fFwibnVtYmVyXCI9PXR5cGVvZiBlfHxcInN0cmluZ1wiPT10eXBlb2YgZXx8XCJzeW1ib2xcIj09dHlwZW9mIGV8fHZvaWQgMD09PWV9ZnVuY3Rpb24gXyhlKXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpfWZ1bmN0aW9uIFAoZSl7cmV0dXJuIGU8MTA/XCIwXCIrZS50b1N0cmluZygxMCk6ZS50b1N0cmluZygxMCl9ZnVuY3Rpb24gQSgpe3ZhciBlPW5ldyBEYXRlLHQ9W1AoZS5nZXRIb3VycygpKSxQKGUuZ2V0TWludXRlcygpKSxQKGUuZ2V0U2Vjb25kcygpKV0uam9pbihcIjpcIik7cmV0dXJuW2UuZ2V0RGF0ZSgpLExbZS5nZXRNb250aCgpXSx0XS5qb2luKFwiIFwiKX1mdW5jdGlvbiBPKGUsdCl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpfXZhciBOPS8lW3NkaiVdL2c7dC5mb3JtYXQ9ZnVuY3Rpb24oZSl7aWYoIXkoZSkpe2Zvcih2YXIgdD1bXSxyPTA7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyl0LnB1c2goaShhcmd1bWVudHNbcl0pKTtyZXR1cm4gdC5qb2luKFwiIFwiKX1mb3IodmFyIHI9MSxuPWFyZ3VtZW50cyxzPW4ubGVuZ3RoLG89U3RyaW5nKGUpLnJlcGxhY2UoTixmdW5jdGlvbihlKXtpZihcIiUlXCI9PT1lKXJldHVyblwiJVwiO2lmKHI+PXMpcmV0dXJuIGU7c3dpdGNoKGUpe2Nhc2VcIiVzXCI6cmV0dXJuIFN0cmluZyhuW3IrK10pO2Nhc2VcIiVkXCI6cmV0dXJuIE51bWJlcihuW3IrK10pO2Nhc2VcIiVqXCI6dHJ5e3JldHVybiBKU09OLnN0cmluZ2lmeShuW3IrK10pfWNhdGNoKGUpe3JldHVyblwiW0NpcmN1bGFyXVwifWRlZmF1bHQ6cmV0dXJuIGV9fSksYT1uW3JdO3I8czthPW5bKytyXSlnKGEpfHwhUyhhKT9vKz1cIiBcIithOm8rPVwiIFwiK2koYSk7cmV0dXJuIG99LHQucUY9ZnVuY3Rpb24oZSxyKXtmdW5jdGlvbiBpKCl7aWYoIW4pe2lmKHByb2Nlc3MuUlUpdGhyb3cgbmV3IEVycm9yKHIpO3Byb2Nlc3Mud1U/Y29uc29sZS50cmFjZShyKTpjb25zb2xlLmVycm9yKHIpLG49ITB9cmV0dXJuIGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfWlmKG0oZ2xvYmFsLnByb2Nlc3MpKXJldHVybiBmdW5jdGlvbigpe3JldHVybiB0LnFGKGUscikuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtpZighMD09PXByb2Nlc3MuYlUpcmV0dXJuIGU7dmFyIG49ITE7cmV0dXJuIGl9O3ZhciBELGs9e307dC5DVT1mdW5jdGlvbihlKXtpZihtKEQpJiYoRD1wcm9jZXNzLk1zLl9VfHxcIlwiKSxlPWUudG9VcHBlckNhc2UoKSwha1tlXSlpZihuZXcgUmVnRXhwKFwiXFxcXGJcIitlK1wiXFxcXGJcIixcImlcIikudGVzdChEKSl7dmFyIHI9cHJvY2Vzcy5QVTtrW2VdPWZ1bmN0aW9uKCl7dmFyIGk9dC5mb3JtYXQuYXBwbHkodCxhcmd1bWVudHMpO2NvbnNvbGUuZXJyb3IoXCIlcyAlZDogJXNcIixlLHIsaSl9fWVsc2Uga1tlXT1mdW5jdGlvbigpe307cmV0dXJuIGtbZV19LHQuSXM9aSxpLnlVPXtib2xkOlsxLDIyXSxBVTpbMywyM10sT1U6WzQsMjRdLGludmVyc2U6WzcsMjddLE5VOlszNywzOV0sRFU6WzkwLDM5XSxrVTpbMzAsMzldLGJsdWU6WzM0LDM5XSxMVTpbMzYsMzldLGdyZWVuOlszMiwzOV0sTVU6WzM1LDM5XSxyZWQ6WzMxLDM5XSxGVTpbMzMsMzldfSxpLlNVPXtVVTpcImN5YW5cIixudW1iZXI6XCJ5ZWxsb3dcIixCVTpcInllbGxvd1wiLHVuZGVmaW5lZDpcImdyZXlcIixIVTpcImJvbGRcIixzdHJpbmc6XCJncmVlblwiLF9tOlwibWFnZW50YVwiLHhVOlwicmVkXCJ9LHQuaXNBcnJheT1kLHQuRXk9Zix0Lnl5PWcsdC5zTD1FLHQuVHk9dix0Lm15PXksdC5xVT1ULHQuSXk9bSx0LkdVPUksdC5hdT1TLHQuVlU9Uix0LmpVPXcsdC52eT1iLHQuUVU9Qyx0LmlzQnVmZmVyPXIoMTA3KTt2YXIgTD1bXCJKYW5cIixcIkZlYlwiLFwiTWFyXCIsXCJBcHJcIixcIk1heVwiLFwiSnVuXCIsXCJKdWxcIixcIkF1Z1wiLFwiU2VwXCIsXCJPY3RcIixcIk5vdlwiLFwiRGVjXCJdO3QubG9nPWZ1bmN0aW9uKCl7Y29uc29sZS5sb2coXCIlcyAtICVzXCIsQSgpLHQuZm9ybWF0LmFwcGx5KHQsYXJndW1lbnRzKSl9LHQudmI9cigxMDgpLHQubVU9ZnVuY3Rpb24oZSx0KXtpZighdHx8IVModCkpcmV0dXJuIGU7Zm9yKHZhciByPU9iamVjdC5rZXlzKHQpLGk9ci5sZW5ndGg7aS0tOyllW3JbaV1dPXRbcltpXV07cmV0dXJuIGV9fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9cigxOCksbj1yKDMpLHM9cigzMyk7cigxMTQpLHIoMTE1KTt2YXIgbz1yKDApLGE9cig4KSxoPXIoMjcpLGM9cigyMyksdT1yKDE5KSxsPXIoMTQpLHA9cigxKSxkPXIoMTgpOyFmdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLm1ldHJpY3M9bmV3IGhpdmUuc25hcHNob3RzLk1ldHJpY3MsdGhpcy5LVT1uZXcgaGl2ZS5zbmFwc2hvdHMuVHJhZmZpYyx0aGlzLllVPW5ldyBuLHRoaXMuV1U9bmV3IG4sdGhpcy56VT1uZXcgbix0aGlzLnBsYXllcj1uZXcgaGl2ZS5zbmFwc2hvdHMuUGxheWVyfXJldHVybiBlfSgpO2UuSlU9dDt2YXIgcj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLnRpY2tldD1udWxsLHRoaXMuWFU9MCx0aGlzLlpVPTAsdGhpcy50ZXN0SWQ9bnVsbCx0aGlzLiRVKCl9cmV0dXJuIHQucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oZSx0LHIsaSl7dGhpcy5sb2dnZXI9by5GcmFtZXdvcmsucmVzb2x2ZShvLkZyYW1ld29yay5WLlIpLmxvZyhpKSx0aGlzLnVkPW8uRnJhbWV3b3JrLnJlc29sdmUoYS5wYy5zYyksdGhpcy5sb2dnZXIuZGVidWcoXCJbU05BUF0gSU5JVCBTVEFUUyBTVE9SRSAtIElEOiBcIitlKSx0aGlzLmdkPWUsdGhpcy50aWNrZXQ9dCx0aGlzLlZsKHIpfSx0LnByb3RvdHlwZS5OTD1mdW5jdGlvbihlKXt0aGlzLnRlc3RJZD1lfSx0LnByb3RvdHlwZS5lQj1mdW5jdGlvbihlKXt0aGlzLnRCPWV9LHQucHJvdG90eXBlLlZsPWZ1bmN0aW9uKGUpe3RoaXMuYXBwPWV9LHQucHJvdG90eXBlLnJCPWZ1bmN0aW9uKGUpe3RoaXMueUQ9ZX0sdC5wcm90b3R5cGUuJFU9ZnVuY3Rpb24oKXt0aGlzLmlCPW5ldyBlLkpVLHRoaXMuZ2Q9bnVsbCx0aGlzLnRpY2tldD1udWxsLHRoaXMucmVzZXQoKX0sdC5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLkZMPW5ldyBlLkpVLHRoaXMubkIodGhpcy5GTC5LVSksdGhpcy5zQih0aGlzLkZMKX0sdC5wcm90b3R5cGUubkI9ZnVuY3Rpb24oZSl7ZS5yZXFOPTAsZS5yZXNwRmFsbGJhY2tOPTAsZS5yZXNwRmFsbGJhY2tFcnJOPTAsZS5yZXNwUDJwTj0wLGUucmVxT3RoZXJOPTAsZS5yZXNwRmFsbGJhY2tPdGhlck49MCxlLnJlc3BGYWxsYmFja090aGVydEVyck49MCxlLnNyY1JlcU49MCxlLnNyY1Jlc3BOPTAsZS5zcmNSZXNwRXJyTj0wLGUuc3JjUmVxUXQ9MCxlLnNyY1Jlc3BRdD0wLGUuc3JjT3ZlclF0PTAsZS5zcmNPdGhlclJlcU49MCxlLnNyY090aGVyUmVzcE49MCxlLnNyY090aGVyUmVzcEVyck49MCxlLnNyY090aGVyUmVxUXQ9MCxlLnNyY090aGVyUmVzcFF0PTAsZS5zcmNPdGhlck92ZXJRdD0wLGUucDJwU3ViUmVxTj0wLGUucDJwU3ViUmVzcE49MCxlLnAycFN1YlJlc3BQYXJ0Tj0wLGUucDJwU3ViUmVzcEVyck49MCxlLnAycFN1YlJlc3BFeHBOPTAsZS5wMnBTdWJSZXFRdD0wLGUucDJwU3ViUmVzcFF0PTAsZS5wMnBEaXJlY3RRdD0wLGUucDJwUmVsYXlRdD0wLGUucDJwTmF0UXQ9MCxlLnAycFVkcGJRdD0wLGUuZmFsbEFnZW50UmVzcE49MCxlLmZhbGxBZ2VudFByZWRIaXROPTAsZS5mYWxsQWdlbnRGYWlsZWRSZXNwTj0wLGUuZmFsbEFnZW5UcmFmZmljU3VjY2Vzc1F0PTAsZS5wMnBBZ2VudFByZWRIaXROPTAsZS5wMnBBZ2VudFByZWRNaXNzTj0wLGUucDJwQWdlbnRQcmVkUGFydGlhbEhpdE49MCxlLnAycEFnZW5UcmFmZmljU3VjY2Vzc1F0PTAsZS5wMnBBZ2VuVHJhZmZpY0ZhaWx1cmVRdD0wfSx0LnByb3RvdHlwZS5zQj1mdW5jdGlvbihlKXtlLm1ldHJpY3MudmlkZW9CdWZOPTAsZS5tZXRyaWNzLnZpZGVvQnVmUXQ9MCxlLm1ldHJpY3MuY2xpZW50QnVmZmVyTXM9MCxlLm1ldHJpY3MubG9va3VwTm90Rm91bmQ9MCxlLm1ldHJpY3MubG9va3VwVG90YWw9MCxlLm1ldHJpY3MubG9va3VwTGF0ZW5jeT0wLGUubWV0cmljcy5sb29rdXBSZXFBY2NlcHQ9MCxlLm1ldHJpY3MubG9va3VwUmVxRXN0YWJsaXNoZWQ9MCxlLm1ldHJpY3MubG9va3VwRmFpbGVkPTAsZS5wbGF5ZXIuYnVmZmVyaW5nTj0wLGUucGxheWVyLmJ1ZmZlcmluZ01zPTB9LHQucHJvdG90eXBlLnhjPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dm9pZCAwPT09ZSYmKGU9ITApO3ZhciByPW5ldyBoaXZlLnNuYXBzaG90cy5NZXRyaWNTbmFwc2hvdDtyLnRpbWVzdGFtcD1vLkZyYW1ld29yay50aW1lKCksci5ndWlkPXRoaXMuZ2Qsci5zZXNzaW9uSWQ9dGhpcy50aWNrZXQuc2Vzc2lvbklkLHIuZXZlbnRJZD1uZXcgRXZlbnRJZCxyLmV2ZW50SWQucGFydG5lcklkPXRoaXMudGlja2V0LnVwKCksci5ldmVudElkLmN1c3RvbWVySWQ9dGhpcy50aWNrZXQuY3AoKSxyLmV2ZW50SWQuY29udGVudElkPXRoaXMudGlja2V0LmhwKCk7dHJ5e3ZhciBuPW5ldyBoaXZlLnNuYXBzaG90cy5DbGllbnRJbmZvO24uY2xpZW50VHlwZT10aGlzLm9CKCk7dmFyIHM9dGhpcy5hcHAudmVyc2lvbi5zcGxpdChcIi5cIik7aWYobi5tYWpvclZlcnNpb249cGFyc2VJbnQoc1swXSksbi5taW5vclZlcnNpb249cGFyc2VJbnQoc1sxXSksbi5wYXRjaFZlcnNpb249cGFyc2VJbnQoc1syXSksci5jbGllbnQ9bixudWxsIT10aGlzLnRlc3RJZCl7dmFyIGE9bmV3IFRlc3RJbmZvO2EudGVzdElkPXRoaXMudGVzdElkLHIuYUI9YX19Y2F0Y2goZSl7dGhpcy5sb2dnZXIud2FybihcIltTTkFQXSBlcnJvciBzZXR0aW5nIFNuYXBzaG90IENsaWVudEluZm9cIixlKX1pZih0aGlzLnlEKXt2YXIgaD1uZXcgaGl2ZS5zbmFwc2hvdHMuQWdlbnRJbmZvO2guZmlyc3RUaWVyQml0cmF0ZXM9dGhpcy55RC5oQigpLGguc2Vjb25kVGllckJpdHJhdGVzPXRoaXMueUQuY0IoKSxyLmFnZW50SW5mbz1ofXIuc3RyZWFtSW5mbz10aGlzLk9MLnVCKCksci50cmFmZmljPVtdO3ZhciBjPW5ldyBoaXZlLnNuYXBzaG90cy5UcmFmZmljS2V5O2lmKHIudHJhZmZpYy5wdXNoKHtrZXk6Yyx2YWx1ZTp0aGlzLkZMLktVfSksdGhpcy5GTC5ZVS5mb3JFYWNoKGZ1bmN0aW9uKGUsdCl7dmFyIGk9bmV3IGhpdmUuc25hcHNob3RzLlRyYWZmaWNLZXk7aS5iaXRyYXRlPXQsci50cmFmZmljLnB1c2goe2tleTppLHZhbHVlOmV9KX0pLHIubWV0cmljcz10aGlzLkZMLm1ldHJpY3MsdGhpcy50QiYmKHIubWV0cmljcy5jbGllbnRCdWZmZXJNcz10aGlzLnRCLm1pbigpKSxyLnBsYXllcj10aGlzLkZMLnBsYXllcix0aGlzLmxCKXt2YXIgdT10aGlzLmxCLnBCKCk7dGhpcy5GTC5tZXRyaWNzLnBydE91dE49dS5kQit1LmZCLHRoaXMuRkwubWV0cmljcy5wcnRJbk49dS5nQit1LkVCO3ZhciBsPXRoaXMubEIudkIoKTtsLmZvckVhY2goZnVuY3Rpb24oZSxpKXt0LnlCKGksZSxyKX0pLHRoaXMuRkwuelUuZmlsdGVyKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIWwuaGFzKHQpfSkuZm9yRWFjaChmdW5jdGlvbihlLGkpe3QueUIoaSxlLHIpfSl9cmV0dXJuIHIuY29ubkluZm89bmV3IGhpdmUuc25hcHNob3RzLkNvbm5lY3Rpdml0eUluZm8sZT90aGlzLnVkLmdldENvbm5lY3Rpdml0eUluZm8oKS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiByLmNvbm5JbmZvLnByaXZhdGVJcD1pLmtsLmdldFByaXZhdGVJcChlLmdldE5ldHdvcmtDaGFuZ2VkKCkpLHQuVEIodC5tQihyKSl9KS5mYWlsKGZ1bmN0aW9uKGUpe3JldHVybiB0LlRCKHQubUIocikpfSk6KHIuY29ubkluZm8ucHJpdmF0ZUlwPWkua2wuZ2V0UHJpdmF0ZUlwKHRoaXMudWQuTWQoKS5nZXROZXR3b3JrQ2hhbmdlZCgpKSx0aGlzLlRCKHIpKX0sdC5wcm90b3R5cGUubUI9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuY29ubkluZm8uaW50ZXJuYWxBcz10aGlzLlhVLGUuY29ubkluZm8uZXh0ZXJuYWxBcz10aGlzLlpVLGUuY29ubkluZm8ucHVibGljSXA9dGhpcy5JQixlfSx0LnByb3RvdHlwZS5UQj1mdW5jdGlvbihlLHQpe3ZvaWQgMD09PXQmJih0PVtdKTt2YXIgcj1kLm1sKGUsXCJzbmFwc2hvdFwiKTtyZXR1cm4gci5sZW5ndGgmJnAuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJOYU4gZm91bmQgaW4gTWV0cmljU25hcHNob3RcIixcIltTTkFQXVwiLHtrZXlzV2l0aE5hTjpyLHNuYXBzaG90OmV9KSx0Lmxlbmd0aD0wLHQucHVzaC5hcHBseSh0LHIpLGV9LHQucHJvdG90eXBlLm9CPWZ1bmN0aW9uKCl7dmFyIGU7c3dpdGNoKHRoaXMuYXBwLmFwcCl7Y2FzZVwiSlNcIjplPUNsaWVudFR5cGUuU0I7YnJlYWs7Y2FzZVwiUFJPWFlcIjplPUNsaWVudFR5cGUuUkI7YnJlYWs7ZGVmYXVsdDplPUNsaWVudFR5cGUud0J9cmV0dXJuIGV9LHQucHJvdG90eXBlLnlCPWZ1bmN0aW9uKGUsdCxyKXt2YXIgaT10aGlzLkZMLldVLmdldChlKTt0LnRyYWZmaWM9aSxyLnBhcnRuZXJzfHwoci5wYXJ0bmVycz1bXSk7dmFyIG49bmV3IGhpdmUuc25hcHNob3RzLlBhcnRuZXJLZXk7bi5wYXJ0bmVyR3VpZD1lLHIucGFydG5lcnMucHVzaCh7a2V5Om4sdmFsdWU6dH0pfSx0LnByb3RvdHlwZS53TD1mdW5jdGlvbihlLHQpe2U+MCYmKHRoaXMuRkwubWV0cmljcy52aWRlb0J1Zk4rKyx0aGlzLkZMLm1ldHJpY3MudmlkZW9CdWZRdCs9ZSx0aGlzLkZMLnBsYXllci5idWZmZXJpbmdOKyssdGhpcy5GTC5wbGF5ZXIuYnVmZmVyaW5nTXMrPWUpLHRoaXMuRkwucGxheWVyLnBsYXllckJ1ZmZlck1zPXR9LHQucHJvdG90eXBlLnhMPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuRkwuS1V9LHQucHJvdG90eXBlLmJCPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaUIuS1V9LHQucHJvdG90eXBlLkNCPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmlCLllVLmhhcyhlKXx8dGhpcy5pQi5ZVS5zZXQoZSxuZXcgaGl2ZS5zbmFwc2hvdHMuVHJhZmZpYyksdGhpcy5pQi5ZVS5nZXQoZSl9LHQucHJvdG90eXBlLkJMPWZ1bmN0aW9uKGUpe2lmKCF0aGlzLkZMLllVLmhhcyhlKSl7dmFyIHQ9bmV3IGhpdmUuc25hcHNob3RzLlRyYWZmaWM7dGhpcy5uQih0KSx0aGlzLkZMLllVLnNldChlLHQpfXJldHVybiB0aGlzLkZMLllVLmdldChlKX0sdC5wcm90b3R5cGUuX0I9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgaGl2ZS5zbmFwc2hvdHMuUGFydG5lclRyYWZmaWM7cmV0dXJuIGUucDJwU3VjY1JlcT0wLGUucDJwRmFpbFJlcT0wLGUucDJwUGFydFJlcT0wLGUucDJwU3VjY1JlY2VpdmVkPTAsZS5wMnBTdWNjUmVjZWl2ZWRMb3c9MCxlLnAycEZhaWxSZWNlaXZlZD0wLGUucDJwU3VjY1Jlc3A9MCxlLnAycEZhaWxSZXNwPTAsZS5wMnBQYXJ0UmVzcD0wLGUucDJwU3VjY1NlbnQ9MCxlLnAycFN1Y2NTZW50TG93PTAsZS5wMnBGYWlsU2VudD0wLGV9LHQucHJvdG90eXBlLlBCPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQuV1UuaGFzKGUpfHx0LldVLnNldChlLHRoaXMuX0IoKSksdC5XVS5nZXQoZSl9LHQucHJvdG90eXBlLkFCPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLlBCKGUsdGhpcy5GTCl9LHQucHJvdG90eXBlLk9CPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLlBCKGUsdGhpcy5pQil9LHQucHJvdG90eXBlLk5CPWZ1bmN0aW9uKGUpe3RoaXMudWQ9ZX0sdC5wcm90b3R5cGUuREI9ZnVuY3Rpb24oZSl7dGhpcy5sQj1lfSx0LnByb3RvdHlwZS5VZD1mdW5jdGlvbihlKXt9LHR9KCk7ZS5aRj1yO3ZhciBmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMua0I9aXNOYU4obC5IaXZlQ29uZmlnLkRlYnVnTG9ncy5NZXRyaWNTbmFwc2hvdExvZ3MpPzA6bC5IaXZlQ29uZmlnLkRlYnVnTG9ncy5NZXRyaWNTbmFwc2hvdExvZ3MsdGhpcy5zdGF0ZT11Lk1sLkxsLHRoaXMuY2xpZW50PW8uRnJhbWV3b3JrLnJlc29sdmUoYS5wYy5HKSx0aGlzLnlnPW5ldyBzLlliLHRoaXMucHJvdG9jb2w9bmV3IHMuYkModGhpcy55Zyl9cmV0dXJuIGUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oZSx0KXt0aGlzLmxvZ2dlcj1vLkZyYW1ld29yay5yZXNvbHZlKG8uRnJhbWV3b3JrLlYuUikubG9nKHQpLHRoaXMubG9nZ2VyLmRlYnVnKFwiW1NOQVBdIElOSVQgQ0xJRU5UIFNUQVRTXCIpLHRoaXMuZnM9ZSx0aGlzLkxCKCl9LGUucHJvdG90eXBlLkxCPWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLk1CPi0xJiZvLkZyYW1ld29yay5jbGVhckludGVydmFsKHRoaXMuTUIpLHRoaXMuTUI9by5GcmFtZXdvcmsuc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtlLnNuYXBzaG90KCl9LGguR2QucWQuUEUpfSxlLnByb3RvdHlwZS5ubD1mdW5jdGlvbihlKXt0aGlzLnN0YXRlPWV9LGUucHJvdG90eXBlLklMPWZ1bmN0aW9uKCl7aWYodGhpcy5mcylyZXR1cm4gdGhpcy5zbmFwc2hvdCghMSl9LGUucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKGUpe28uRnJhbWV3b3JrLmNsZWFySW50ZXJ2YWwodGhpcy5NQiksdGhpcy5mcyYmKCExPT09ZT90aGlzLmZzLnJlc2V0KCk6dGhpcy5mcy4kVSgpKX0sZS5wcm90b3R5cGUuc25hcHNob3Q9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt2b2lkIDA9PT1lJiYoZT0hMCk7dmFyIHI9dGhpcy5mcy54YyhlKTtlPyh0aGlzLmxvZ2dlci5kZWJ1ZyhcIltTTkFQXSBUQUtJTkcgU05BUFNIT1RcIiksci50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiB0LmZvcndhcmQoZSl9KS5mYWlsKGZ1bmN0aW9uKGUpe3QubG9nZ2VyLndhcm4oXCJbU05BUF0gRVJST1IgRk9SV0FSRElORyBTTkFQU0hPVFwiLGUpfSkuZmluYWxseShmdW5jdGlvbigpe3QuZnMucmVzZXQoKX0pKToodGhpcy5sb2dnZXIuZGVidWcoXCJbU05BUF0gRkxVU0hJTkcgU05BUFNIT1RcIiksdGhpcy5mb3J3YXJkKHIpKX0sZS5wcm90b3R5cGUuZm9yd2FyZD1mdW5jdGlvbihlKXt2YXIgdD10aGlzO2lmKHRoaXMuc3RhdGU9PT11Lk1sLklETEV8fHRoaXMuc3RhdGU9PT11Lk1sLlNUT1ApcmV0dXJuIHZvaWQgdGhpcy5sb2dnZXIuZGVidWcoXCJbU05BUF0gbm90IHNlbmQgLSBzdGF0ZSBcIit1Lk1sW3RoaXMuc3RhdGVdKTtpZih0aGlzLmNsaWVudCYmdGhpcy5jbGllbnQuemQoKSl7c3dpdGNoKHRoaXMua0Ipe2Nhc2UgMDpkZWZhdWx0OnRoaXMubG9nZ2VyLmRlYnVnKFwiW1NOQVBdIFNFTkRJTkcgU05BUFNIT1RcIik7YnJlYWs7Y2FzZSAxOnRoaXMubG9nZ2VyLmRlYnVnKFwiW1NOQVBdIFNFTkRJTkcgU05BUFNIT1QgXCIrSlNPTi5zdHJpbmdpZnkoZSkpO2JyZWFrO2Nhc2UgMjp0aGlzLmxvZ2dlci5kZWJ1ZyhcIltTTkFQXSBTRU5ESU5HIFNOQVBTSE9UXCIsZSk7YnJlYWs7Y2FzZSAzOnRoaXMubG9nZ2VyLmRlYnVnKFwiW1NOQVBdIFNFTkRJTkcgU05BUFNIT1QgXCIrSlNPTi5zdHJpbmdpZnkoZSksZSl9dGhpcy5wcm90b2NvbC5BQyhcIlNOQVBTSE9UXCIscy5nYi5PTkVXQVksMCksZS53cml0ZSh0aGlzLnByb3RvY29sKSx0aGlzLnByb3RvY29sLkRDKCk7dmFyIHI9dGhpcy55Zy5wQygpLGk9dGhpcy5GQihyLFwiLFwiLDQpLG49ci5zbGljZShpKzEsci5sZW5ndGgtMSksbz1uZXcgYy5KZChTZXJ2aWNlcy5YZCwxLG4pO3RoaXMuY2xpZW50LnpkKCkuc2VuZChvKS5mYWlsKGZ1bmN0aW9uKGUpe3QubG9nZ2VyLndhcm4oXCJbU05BUF0gUFJPQkxFTTogXCIsZSl9KX19LGUucHJvdG90eXBlLkZCPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZS5zcGxpdCh0LHIpLmpvaW4odCkubGVuZ3RofSxlfSgpO2UucWw9Zn0odC5TdGF0c3x8KHQuU3RhdHM9e30pKX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXIoNCksbj1yKDMwKSxzPXIoMTE2KSxvPXIoMCksYT1yKDI3KSxoPXIoMjMpLGM9cig2KSx1PWMuaGUuZ2gsbD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLmxvZ2dlcj1vLkZyYW1ld29yay5yZXNvbHZlKG8uRnJhbWV3b3JrLlYuUikubG9nKCksdGhpcy5sb2dnZXIuZGVidWcoXCJJTklUIFNFUlZJQ0UgQ0xJRU5UXCIpfXJldHVybiBlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztpZih0aGlzLlVCKXRoaXMuVUIudGhlbihmdW5jdGlvbigpe3ZhciBlPXtwYXJ0bmVySWQ6dC51cCgpLGN1c3RvbWVySWQ6dC5jcCgpLGNvbnRlbnRJZDp0LmhwKCksc2VjcmV0OnQuQ04oKX0saT1uZXcgaC5KZChTZXJ2aWNlcy5CQiwxLEpTT04uc3RyaW5naWZ5KGUpKTtyLmNvbm5lY3Rpb24uc2VuZChpKX0pO2Vsc2V7dmFyIG89aS5kZWZlcigpLGM9YS5HZC5xZC5iRTt0LmJOJiYodT9jPWEuR2QucWQuQ0U6KHRoaXMubG9nZ2VyLndhcm4oXCJbSGl2ZUNvbW1dIEVycm9yIHRyeWluZyB0byByZXNvbHZlIHRlc3QgdGlja2V0IGFnYWluc3QgcHJvZHVjdGlvbiBzZXJ2aWNlcyAtIHVzZSBwcm9kdWN0aW9uIHRpY2tldCBvciB0ZXN0IHBsdWdpblwiKSxvLnJlamVjdChuZXcgRXJyb3IoXCJ0ZXN0IHRpY2tldCBpbiBwcm9kdWN0aW9uXCIpKSkpO3ZhciBsPW5ldyBuKGMpLHA9bC5Tdyh7XCJjb25uZWN0aW9uLWlkXCI6ZSxwYXJ0bmVyX2lkOnQudXAoKSxjdXN0b21lcl9pZDp0LmNwKCksY29udGVudF9pZDp0LmhwKCksdGlja2V0OnQuQ04oKX0pLnRvU3RyaW5nKCk7dGhpcy5jb25uZWN0aW9uPW5ldyBzLkhCKHAsYS5HZC5xZC5BRSxhLkdkLnFkLk9FLGEuR2QucWQuTkUpLHRoaXMuY29ubmVjdGlvbi54QihmdW5jdGlvbigpe3IubG9nZ2VyLmRlYnVnKFwiSElWRSBTRVJWSUNFUyBDT05ORUNURURcIiksby5yZXNvbHZlKHIuY29ubmVjdGlvbil9KSx0aGlzLmNvbm5lY3Rpb24ub25lcnJvcihmdW5jdGlvbigpe3IubG9nZ2VyLndhcm4oXCJIaXZlIFNlcnZpY2VzIENvbm5lY3Rpb24gZmFpbGVkXCIpLG8ucmVqZWN0KHIuY29ubmVjdGlvbil9KSx0aGlzLlVCPW8uU3N9cmV0dXJue25wOnRoaXMuY29ubmVjdGlvbixTczp0aGlzLlVCfX0sZS5wcm90b3R5cGUuY29ubmVjdD1mdW5jdGlvbigpe3RoaXMuY29ubmVjdGlvbiYmdGhpcy5jb25uZWN0aW9uLmNvbm5lY3QoITApfSxlLnByb3RvdHlwZS5TRD1mdW5jdGlvbihlKXt9LGUucHJvdG90eXBlLnpkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29ubmVjdGlvbn0sZS5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oKXt0aGlzLmNvbm5lY3Rpb24mJih0aGlzLlVCPW51bGwsdGhpcy5jb25uZWN0aW9uLmNsb3NlKCExKSl9LGV9KCk7dC5xQj1sfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7cigxMTcpO3ZhciBpPXIoNCksbj1yKDMpLHM9cigwKSxvPXIoNDYpLGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMuZWY9KG5ldyBEYXRlKS5nZXRUaW1lKCksdGhpcy5HQj1lfXJldHVybiBlfSgpLGg9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5WQj1uZXcgbix0aGlzLmxvZ2dlcj0ocy5GcmFtZXdvcmsucmVzb2x2ZShzLkZyYW1ld29yay5WLlIpfHxjb25zb2xlKS5sb2coKSx0aGlzLmxvZ2dlci5kZWJ1ZyhcIklOSVQgVElDS0VUIFJFU09MVkVSXCIpfXJldHVybiBlLnByb3RvdHlwZS5yZXNvbHZlPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10aGlzLHM9aS5kZWZlcigpO3JldHVybiBlJiYoZS5vbihTZXJ2aWNlcy5CQiwwLGZ1bmN0aW9uKGUpe24uakIoZSl9KSxlLm9uKFNlcnZpY2VzLkJCLDIsZnVuY3Rpb24oZSl7bi5qQihlKX0pLHRoaXMuVkIuc2V0KHQsbmV3IGEocykpKSxzLlNzfSxlLnByb3RvdHlwZS5qQj1mdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9KG5ldyBEYXRlKS5nZXRUaW1lKCksaT1KU09OLnBhcnNlKGUubXNnKSxuPSExO3RoaXMuVkIuZm9yRWFjaChmdW5jdGlvbihlLHMpe2lmKHQuUUIocyxpKSl7bj0hMDt2YXIgbz10LktCKHMsaSk7bz8oby5lZj1lLmVmLG8ucmY9cixlLkdCLnJlc29sdmUobykpOmUuR0IucmVqZWN0KFwiVGlja2V0IHZlcmlmaWNhdGlvbiBmYWlsZWRcIiksdC5WQi5kZWxldGUobyl9fSksbnx8dGhpcy5sb2dnZXIud2FybihcIm5vIHBlbmRpbmcgdGlja2V0IG1hdGNoaW5nOiBcIitlLm1zZyl9LGUucHJvdG90eXBlLiRsPWZ1bmN0aW9uKGUpe2lmKG5ldyBSZWdFeHAoXCJeaHR0cHM/Oi8vYXBpKD86LXRlc3QpPy5oaXZlc3RyZWFtaW5nLmNvbS92MS9ldmVudHMvKD86d2lsZGNhcmQvKT9cIikudGVzdChlKSl7dmFyIHQ9dGhpcy5ZQigpO3JldHVybiB0LlJOKGUpLHR9cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLllCPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBvLkJOfSxlLnByb3RvdHlwZS5RQj1mdW5jdGlvbihlLHQpe3JldHVybiBlLnVwKCk9PT10W28uQk4uRk5dJiZlLmNwKCk9PT10W28uQk4uTU5dJiZlLmhwKCk9PT10W28uQk4uVU5dfSxlLnByb3RvdHlwZS5LQj1mdW5jdGlvbihlLHQpe3JldHVybiBlLm1OKHQpLGUuU04oKT9lOm51bGx9LGV9KCk7dC5XQj1ofSxmdW5jdGlvbihlLHQscil7LyohIHV1aWQuanNcbiAqIENvcHlyaWdodCAoYykgMjAxMC0yMDEyIFJvYmVydCBLaWVmZmVyXG4gKiBNSVQgTGljZW5zZSAtIGh0dHA6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcbiAqL1xuIWZ1bmN0aW9uKHQpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGkoZSx0LHIpe3ZhciBpPXQmJnJ8fDAsbj0wO2Zvcih0PXR8fFtdLGUudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9bMC05YS1mXXsyfS9nLGZ1bmN0aW9uKGUpe248MTYmJih0W2krbisrXT1mW2VdKX0pO248MTY7KXRbaStuKytdPTA7cmV0dXJuIHR9ZnVuY3Rpb24gbihlLHQpe3ZhciByPXR8fDAsaT1kO3JldHVybiBpW2VbcisrXV0raVtlW3IrK11dK2lbZVtyKytdXStpW2VbcisrXV0rXCItXCIraVtlW3IrK11dK2lbZVtyKytdXStcIi1cIitpW2VbcisrXV0raVtlW3IrK11dK1wiLVwiK2lbZVtyKytdXStpW2VbcisrXV0rXCItXCIraVtlW3IrK11dK2lbZVtyKytdXStpW2VbcisrXV0raVtlW3IrK11dK2lbZVtyKytdXStpW2VbcisrXV19ZnVuY3Rpb24gcyhlLHQscil7dmFyIGk9dCYmcnx8MCxzPXR8fFtdO2U9ZXx8e307dmFyIG89bnVsbCE9ZS56Qj9lLnpCOnksYT1udWxsIT1lLkpCP2UuSkI6KG5ldyBEYXRlKS5nZXRUaW1lKCksaD1udWxsIT1lLlhCP2UuWEI6bSsxLGM9YS1UKyhoLW0pLzFlNDtpZihjPDAmJm51bGw9PWUuekImJihvPW8rMSYxNjM4MyksKGM8MHx8YT5UKSYmbnVsbD09ZS5YQiYmKGg9MCksaD49MWU0KXRocm93IG5ldyBFcnJvcihcInV1aWQudjEoKTogQ2FuJ3QgY3JlYXRlIG1vcmUgdGhhbiAxME0gdXVpZHMvc2VjXCIpO1Q9YSxtPWgseT1vLGErPTEyMjE5MjkyOGU1O3ZhciB1PSgxZTQqKDI2ODQzNTQ1NSZhKStoKSU0Mjk0OTY3Mjk2O3NbaSsrXT11Pj4+MjQmMjU1LHNbaSsrXT11Pj4+MTYmMjU1LHNbaSsrXT11Pj4+OCYyNTUsc1tpKytdPTI1NSZ1O3ZhciBsPWEvNDI5NDk2NzI5NioxZTQmMjY4NDM1NDU1O3NbaSsrXT1sPj4+OCYyNTUsc1tpKytdPTI1NSZsLHNbaSsrXT1sPj4+MjQmMTV8MTYsc1tpKytdPWw+Pj4xNiYyNTUsc1tpKytdPW8+Pj44fDEyOCxzW2krK109MjU1Jm87Zm9yKHZhciBwPWUuWkJ8fHYsZD0wO2Q8NjtkKyspc1tpK2RdPXBbZF07cmV0dXJuIHR8fG4ocyl9ZnVuY3Rpb24gbyhlLHQscil7dmFyIGk9dCYmcnx8MDtcInN0cmluZ1wiPT10eXBlb2YgZSYmKHQ9XCJiaW5hcnlcIj09PWU/bmV3IHAoMTYpOm51bGwsZT1udWxsKSxlPWV8fHt9O3ZhciBzPWUucmFuZG9tfHwoZS4kQnx8YSkoKTtpZihzWzZdPTE1JnNbNl18NjQsc1s4XT02MyZzWzhdfDEyOCx0KWZvcih2YXIgbz0wO288MTY7bysrKXRbaStvXT1zW29dO3JldHVybiB0fHxuKHMpfXZhciBhLGgsYyx1LGw7dD9mdW5jdGlvbigpe3ZhciBlPXQuY3J5cHRvfHx0Lm1zQ3J5cHRvO2lmKCFhJiZlJiZlLmdldFJhbmRvbVZhbHVlcyl0cnl7dmFyIHI9bmV3IFVpbnQ4QXJyYXkoMTYpO3U9YT1mdW5jdGlvbigpe3JldHVybiBlLmdldFJhbmRvbVZhbHVlcyhyKSxyfSxhKCl9Y2F0Y2goZSl7fWlmKCFhKXt2YXIgaT1uZXcgQXJyYXkoMTYpO2g9YT1mdW5jdGlvbigpe2Zvcih2YXIgZSx0PTA7dDwxNjt0KyspMD09KDMmdCkmJihlPTQyOTQ5NjcyOTYqTWF0aC5yYW5kb20oKSksaVt0XT1lPj4+KCgzJnQpPDwzKSYyNTU7cmV0dXJuIGl9LFwidW5kZWZpbmVkXCIhPXR5cGVvZiBjb25zb2xlJiZjb25zb2xlLndhcm4mJmNvbnNvbGUud2FybihcIltTRUNVUklUWV0gbm9kZS11dWlkOiBjcnlwdG8gbm90IHVzYWJsZSwgZmFsbGluZyBiYWNrIHRvIGluc2VjdXJlIE1hdGgucmFuZG9tKClcIil9fSgpOmZ1bmN0aW9uKCl7dHJ5e3ZhciBlPXIoMTE4KS5lSDtjPWE9ZSYmZnVuY3Rpb24oKXtyZXR1cm4gZSgxNil9LGEoKX1jYXRjaChlKXt9fSgpO2Zvcih2YXIgcD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBCdWZmZXI/QnVmZmVyOkFycmF5LGQ9W10sZj17fSxnPTA7ZzwyNTY7ZysrKWRbZ109KGcrMjU2KS50b1N0cmluZygxNikuc3Vic3RyKDEpLGZbZFtnXV09Zzt2YXIgRT1hKCksdj1bMXxFWzBdLEVbMV0sRVsyXSxFWzNdLEVbNF0sRVs1XV0seT0xNjM4MyYoRVs2XTw8OHxFWzddKSxUPTAsbT0wLEk9bztJLnRIPXMsSS5PTj1vLEkucGFyc2U9aSxJLnJIPW4sSS5pSD1wLEkubkg9YSxJLnNIPWgsSS5vSD1jLEkuYUg9dSx2b2lkIDAhPT1lJiZlLmk/ZS5pPUk6KGw9dC51dWlkLEkud289ZnVuY3Rpb24oKXtyZXR1cm4gdC51dWlkPWwsSX0sdC51dWlkPUkpfShcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzpudWxsKX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXRoaXMmJnRoaXMuaHV8fGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gcigpe3RoaXMuY29uc3RydWN0b3I9ZX1mb3IodmFyIGkgaW4gdCl0Lmhhc093blByb3BlcnR5KGkpJiYoZVtpXT10W2ldKTtlLnByb3RvdHlwZT1udWxsPT09dD9PYmplY3QuY3JlYXRlKHQpOihyLnByb3RvdHlwZT10LnByb3RvdHlwZSxuZXcgcil9LG49cig0KSxzPXIoNzgpLG89cigwKSxhPXIoMjcpLGg9cigxMTkpLGM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5oSD1cIklkZW50aXR5U3RvcmVcIix0aGlzLmNIPVwiSWRlbnRpdHlEQlwiLHRoaXMuZ2Q9bnVsbCx0aGlzLmluZGV4ZWREQj13aW5kb3cuaW5kZXhlZERCfHx3aW5kb3cubW96SW5kZXhlZERCfHx3aW5kb3cud2Via2l0SW5kZXhlZERCfHx3aW5kb3cubXNJbmRleGVkREIsby5GcmFtZXdvcmsmJm8uRnJhbWV3b3JrLnJlc29sdmUoby5GcmFtZXdvcmsuVi5SKT90aGlzLmxvZ2dlcj1vLkZyYW1ld29yay5yZXNvbHZlKG8uRnJhbWV3b3JrLlYuUikubG9nKCk6dGhpcy5sb2dnZXI9Y29uc29sZX1yZXR1cm4gZS5wcm90b3R5cGUudUg9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9bi5kZWZlcigpLHI9aW5kZXhlZERCLm9wZW4odGhpcy5jSCk7cmV0dXJuIHIub251cGdyYWRlbmVlZGVkPWZ1bmN0aW9uKCl7dmFyIHQ9ci5yZXN1bHQ7dC5jcmVhdGVPYmplY3RTdG9yZShlLmhILHtrZXlQYXRoOlwiaWRcIn0pfSxyLm9uc3VjY2Vzcz1mdW5jdGlvbigpe3ZhciBlPXIucmVzdWx0O3QucmVzb2x2ZShlKX0sci5vbmVycm9yPWZ1bmN0aW9uKGUpe3QucmVqZWN0KGUpfSx0LlNzfSxlLnByb3RvdHlwZS5abD1mdW5jdGlvbigpe3ZhciBlPXRoaXM7aWYodGhpcy5sSClyZXR1cm4gdGhpcy5sSDt2YXIgdD1uLmRlZmVyKCk7aWYodGhpcy5nZCl0LnJlc29sdmUobmV3IGgucEgodGhpcy5nZCkpO2Vsc2UgaWYoYS5HZC5FaCYmdGhpcy5pbmRleGVkREIpe3ZhciByPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtlLmxvZ2dlci53YXJuKFwiW0hpdmVDb21tXSB0aW1lb3V0IHJldHJpZXZpbmcgcGVyc2lzdGVudCBJRCAtIGdlbmVyYXRpbmcgcmFuZG9tIG9uZVwiKSxlLmdkPWUuZEgoKSxlLmxvZ2dlci5kZWJ1ZyhcIltIaXZlQ29tbV0gR2VuZXJhdGVkIFVVSUQ6IFwiK2UuZ2QpLHQucmVzb2x2ZShuZXcgaC5wSChlLmdkKSl9LDRlMyk7dHJ5e3ZhciBpPXRoaXMudUgoKTtpLnRoZW4oZnVuY3Rpb24oaSl7dmFyIG49aS50cmFuc2FjdGlvbihlLmhILFwicmVhZHdyaXRlXCIpLHM9bi5vYmplY3RTdG9yZShlLmhIKSxvPXMuZ2V0KFwiTVlJRFwiKTtvLm9uc3VjY2Vzcz1mdW5jdGlvbigpe2lmKGNsZWFyVGltZW91dChyKSxlLmdkKXQucmVzb2x2ZShuZXcgaC5wSChlLmdkKSk7ZWxzZSBpZihudWxsIT1vLnJlc3VsdCYmYS5HZC5FaCl7dmFyIG49by5yZXN1bHQudmFsdWU7ZS5sb2dnZXIuZGVidWcoXCJbSGl2ZUNvbW1dIFJldHJpZXZlZCBwZXJzaXN0ZW50IFVVSUQ6IFwiK24pLGUuZ2Q9bixpLmNsb3NlKCksdC5yZXNvbHZlKG5ldyBoLnBIKGUuZ2QpKX1lbHNle3ZhciBzPWUuZEgoKTtlLmZIKGkscyksdC5yZXNvbHZlKG5ldyBoLnBIKGUuZ2QpKX19LG8ub25lcnJvcj1mdW5jdGlvbihpKXtjbGVhclRpbWVvdXQociksZS5nZHx8KGUubG9nZ2VyLndhcm4oXCJbSGl2ZUNvbW1dIGVycm9yIHJldHJpZXZpbmcgcGVyc2lzdGVudCBVVUlEOiBcIitpKSxlLmdkPWUuZEgoKSxlLmxvZ2dlci5kZWJ1ZyhcIltIaXZlQ29tbV0gR2VuZXJhdGVkIFVVSUQ6IFwiK2UuZ2QpKSx0LnJlc29sdmUobmV3IGgucEgoZS5nZCkpfX0pLmZhaWwoZnVuY3Rpb24oaSl7Y2xlYXJUaW1lb3V0KHIpLGUuZ2R8fChlLmxvZ2dlci53YXJuKFwiW0hpdmVDb21tXSBlcnJvciBvcGVuaW5nIGluZGV4ZWREQiAtIGdlbmVyYXRpbmcgcmFuZG9tIGlkLiBFcnJvcjogXCIraSksZS5nZD1lLmRIKCksZS5sb2dnZXIuZGVidWcoXCJbSGl2ZUNvbW1dIEdlbmVyYXRlZCBVVUlEOiBcIitlLmdkKSksdC5yZXNvbHZlKG5ldyBoLnBIKGUuZ2QpKX0pfWNhdGNoKGUpe3RoaXMuZ2Q9dGhpcy5kSCgpLHRoaXMubG9nZ2VyLmRlYnVnKFwiW0hpdmVDb21tXSBQZXJzaXN0ZW5jZSBlcnJvciAtIEdlbmVyYXRlIFVVSUQ6IFwiK3RoaXMuZ2QsZSksdC5yZXNvbHZlKG5ldyBoLnBIKHRoaXMuZ2QpKX19ZWxzZSB0aGlzLmdkPXRoaXMuZEgoKSx0aGlzLmxvZ2dlci5kZWJ1ZyhcIltIaXZlQ29tbV0gUGVyc2lzdGVuY2UgZGlzYWJsZWQgLSBHZW5lcmF0ZSBVVUlEOiBcIit0aGlzLmdkKSx0LnJlc29sdmUobmV3IGgucEgodGhpcy5nZCkpO3JldHVybiB0aGlzLmxIPXQuU3MsdGhpcy5sSH0sZS5wcm90b3R5cGUuZkg9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLGk9ZS50cmFuc2FjdGlvbih0aGlzLmhILFwicmVhZHdyaXRlXCIpO2kub2JqZWN0U3RvcmUodGhpcy5oSCkucHV0KHtpZDpcIk1ZSURcIix2YWx1ZTp0fSksaS5vbmNvbXBsZXRlPWZ1bmN0aW9uKCl7ci5sb2dnZXIuZGVidWcoXCJbSGl2ZUNvbW1dIGNvbXBsZXRlZCBVVUlEIHBlcnNpc3RlbmNlXCIpLGUuY2xvc2UoKX0sdGhpcy5sb2dnZXIuZGVidWcoXCJbSGl2ZUNvbW1dIEdlbmVyYXRlZCBVVUlEOiBcIit0KSx0aGlzLmdkPXR9LGUucHJvdG90eXBlLmRIPWZ1bmN0aW9uKCl7cmV0dXJuIHMuT04oKX0sZX0oKTt0LmdIPWM7dmFyIHU9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBlLmNhbGwodGhpcyl8fHRoaXN9cmV0dXJuIGkodCxlKSx0LnByb3RvdHlwZS5abD1mdW5jdGlvbigpe3ZhciB0PXRoaXM7aWYodGhpcy5FSClyZXR1cm4gdGhpcy5FSDt2YXIgcj1uLmRlZmVyKCk7cmV0dXJuIGUucHJvdG90eXBlLlpsLmNhbGwodGhpcykudGhlbihmdW5jdGlvbihlKXt2YXIgaT10LmRIKCksbj1lLnJwKCkscz1uZXcgaC5wSChpLG4pO3IucmVzb2x2ZShzKX0pLmZhaWwoZnVuY3Rpb24oZSl7dmFyIGk9dC5kSCgpLG49bmV3IGgucEgoaSk7ci5yZXNvbHZlKG4pfSksdGhpcy5FSD1yLlNzLHRoaXMuRUh9LHR9KGMpO3Qudkg9dX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZS5wcm90b3R5cGUueUg9ZnVuY3Rpb24oZSl7dGhpcy5ob3N0bmFtZT1lfSxlLnByb3RvdHlwZS5nZXRIb3N0TmFtZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmhvc3RuYW1lfSxlLnByb3RvdHlwZS5USD1mdW5jdGlvbihlKXt0aGlzLm1IPWV9LGUucHJvdG90eXBlLmdldE5ldHdvcmtDaGFuZ2VkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubUh9LGV9KCk7dC5JSD1pfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9cig0KSxuPXIoMCkscz1yKDgpLG89cigxMjApLGE9cigxKSxoPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMubG9nZ2VySWQ9XCJbUHJlbG9hZENvbm5lY3Rpdml0eUluZm9Qcm92aWRlcl0gXCIsdGhpcy5jb25uSW5mbz13aW5kb3cubXlDb25uSW5mbyx0aGlzLmxvZ2dlcj1uLkZyYW1ld29yay5yZXNvbHZlKG4uRnJhbWV3b3JrLlYuUikubG9nKCksdGhpcy5TSD1uLkZyYW1ld29yay5yZXNvbHZlKHMucGMub2MpLHRoaXMuY29ubkluZm98fGEuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJoZWxwZXIgdW5kZWZpbmVkXCIsdGhpcy5sb2dnZXJJZCksdGhpcy5SSCgpfXJldHVybiBlLnByb3RvdHlwZS5SSD1mdW5jdGlvbigpe3ZhciBlPW5ldyBvLndIO3RoaXMuU0guVEgoZSl9LGUucHJvdG90eXBlLk1kPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuU0h9LGUucHJvdG90eXBlLmdldENvbm5lY3Rpdml0eUluZm89ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2lmKCF0aGlzLmNvbm5JbmZvKXJldHVybiBpLnJlamVjdChcIkNvbm5JbmZvIGhlbHBlciB1bmRlZmluZWRcIik7dmFyIHQ9c2V0VGltZW91dChmdW5jdGlvbigpe3JldHVybiBlLmxvZ2dlci53YXJuKGUubG9nZ2VySWQrXCJHZXQgY29ubmVjdGl2aXR5IGluZm8gZXhwaXJlZFwiKSxlLlNIP2kucmVzb2x2ZShlLlNIKTppLnJlamVjdChcImV4cGlyZWRcIil9LDJlMyk7dHJ5e3JldHVybiB0aGlzLmNvbm5JbmZvLmdldENvbm5lY3Rpdml0eUluZm8oKS50aGVuKGZ1bmN0aW9uKHIpe3JldHVybiBjbGVhclRpbWVvdXQodCksZS5TSD1yLHJ9KS5mYWlsKGZ1bmN0aW9uKHQpe3JldHVybiBlLmxvZ2dlci5kZWJ1ZyhlLmxvZ2dlcklkK1wiIGdldCBjb25uZWN0aXZpdHkgaW5mbyBmYWlsZWQgd2l0aCBlcnJvciAxOiBcIix0KSxlLlNIP2UuU0g6aS5yZWplY3QodCl9KX1jYXRjaChlKXtyZXR1cm4gdGhpcy5sb2dnZXIuZGVidWcodGhpcy5sb2dnZXJJZCtcIiBnZXQgY29ubmVjdGl2aXR5IGluZm8gZmFpbGVkIHdpdGggZXJyb3IgMjpcIixlKSxpLnJlamVjdChlKX19LGUucHJvdG90eXBlLmJIPWZ1bmN0aW9uKGUsdCxyKXt9LGV9KCk7dC5DSD1ofSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlLnByb3RvdHlwZS5fSD1mdW5jdGlvbihlKXt0aGlzLnB1YmxpY0lwPWV9LGUucHJvdG90eXBlLmdldFB1YmxpY0lwPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHVibGljSXB9LGUucHJvdG90eXBlLlBIPWZ1bmN0aW9uKGUpe3RoaXMuQUg9ZX0sZS5wcm90b3R5cGUuZ2V0TWFjQWRkcmVzcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLkFIfSxlLnByb3RvdHlwZS5PSD1mdW5jdGlvbihlKXt0aGlzLm5pYz1lfSxlLnByb3RvdHlwZS5nZXROaWM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uaWN9LGUucHJvdG90eXBlLk5IPWZ1bmN0aW9uKGUpe3RoaXMubmljTmFtZT1lfSxlLnByb3RvdHlwZS5nZXROaWNOYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubmljTmFtZX0sZS5wcm90b3R5cGUuREg9ZnVuY3Rpb24oZSl7dGhpcy5wcml2YXRlSXA9ZX0sZS5wcm90b3R5cGUuZ2V0UHJpdmF0ZUlwPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHJpdmF0ZUlwfSxlLnByb3RvdHlwZS5rSD1mdW5jdGlvbihlKXt0aGlzLm5ldG1hc2s9ZX0sZS5wcm90b3R5cGUuZ2V0TmV0bWFzaz1mdW5jdGlvbigpe3JldHVybiB0aGlzLm5ldG1hc2t9LGUucHJvdG90eXBlLkxIPWZ1bmN0aW9uKGUpe3RoaXMuTUg9ZX0sZS5wcm90b3R5cGUuZ2V0Q2lkcj1mdW5jdGlvbigpe3JldHVybiBudWxsfSxlfSgpO3QuRkg9aX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXIoNCksbj1yKDMpLHM9cigwKSxvPXIoOCksYT1yKDgyKSxoPXIoMTIxKSxjPXIoMTQpLHU9cigyNyksbD1yKDU1KSxwPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuVUg9bnVsbCx0aGlzLkJIPW51bGwsdGhpcy5ISD1udWxsLHRoaXMueEg9bnVsbCx0aGlzLnFIPW5ldyBuLHRoaXMucHVibGljSXA9bnVsbCx0aGlzLkdIPVtdLHRoaXMubGw9ITEsdGhpcy5WSD1udWxsLHRoaXMubG9nZ2VyPXMuRnJhbWV3b3JrLnJlc29sdmUocy5GcmFtZXdvcmsuVi5SKS5sb2coKSx0aGlzLlNIPXMuRnJhbWV3b3JrLnJlc29sdmUoby5wYy5vYyksdGhpcy5qSD1uZXcgaC5RSCx0aGlzLktIPVtdLHRoaXMuUkgoKSx0aGlzLllIKCl9cmV0dXJuIGUucHJvdG90eXBlLlJIPWZ1bmN0aW9uKCl7dmFyIGU9bmV3IGEuRkg7dGhpcy5TSC5USChlKX0sZS5wcm90b3R5cGUuWUg9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3MuRnJhbWV3b3JrLnNldEludGVydmFsKGZ1bmN0aW9uKCl7ZS5HSD1bXSxlLktIPVtdLGUucUg9bmV3IG4sZS5wdWJsaWNJcD1udWxsLGUuV0g9bnVsbH0sMTJlNCl9LGUucHJvdG90eXBlLmdldENvbm5lY3Rpdml0eUluZm89ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5XSHx8KHRoaXMuV0g9dGhpcy56SCgpKSx0aGlzLldIfSxlLnByb3RvdHlwZS5NZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLlNIfSxlLnByb3RvdHlwZS56SD1mdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1pLmRlZmVyKCk7aWYodGhpcy5WSD1zLkZyYW1ld29yay5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5yZWplY3Qoe0pIOiEwLG1lc3NhZ2U6XCJleHBpcmVkXCJ9KX0sNGUzKSxjLkhpdmVDb25maWcuQ29ubkluZm8uZGV0ZWN0UHJpdmF0ZUlQJiZ0aGlzLlhIKCkpdHJ5e3RoaXMuVUg9bmV3IFJUQ1BlZXJDb25uZWN0aW9uKG51bGwpLHRoaXMuSEg9dGhpcy5VSC5jcmVhdGVEYXRhQ2hhbm5lbChcInNlbmRDaGFubmVsXCIse3JlbGlhYmxlOiExfSksdGhpcy5CSD1uZXcgUlRDUGVlckNvbm5lY3Rpb24obnVsbCksdGhpcy5CSC5vbmRhdGFjaGFubmVsPWZ1bmN0aW9uKHIpe2UueEg9ci5jaGFubmVsLGUueEgub25vcGVuPWZ1bmN0aW9uKHIpe1wib3BlblwiPT09ZS54SC5yZWFkeVN0YXRlJiYoZS5sb2dnZXIuZGVidWcoXCJDb2xsZWN0ZWQgaXBzIFtcIitlLnFILmtleXMoKS5qb2luKFwiLCBcIikrXCJdXCIpLGUuQkguY2xvc2UoKSxlLmpILlpIKCkudGhlbihmdW5jdGlvbih0KXtlLktIPXQsZS5sb2dnZXIuZGVidWcoXCJBbHJlYWR5IGtub3duIG1hdGNoaW5nIGlwcyBbXCIrZS5LSC5qb2luKFwiLFwiKStcIl1cIik7dmFyIHI9ZS5xSC5rZXlzKCk7ZS5LSC5mb3JFYWNoKGZ1bmN0aW9uKHQpe3IuaW5kZXhPZih0KT4wJiYoZS5HSC5wdXNoKHQpLGUucUguZGVsZXRlKHQpKX0pLGUucUgua2V5cygpLmZvckVhY2goZnVuY3Rpb24odCl7ZS5HSC5wdXNoKHQpfSl9KS5mYWlsKGZ1bmN0aW9uKHQpe2UubG9nZ2VyLndhcm4oXCJHZXQgUHJldmlvdXMgd29ya2luZyBpcHMgZmFpbGVkIHdpdGggZXJyb3IgXCIrdC5tZXNzYWdlKSxlLnFILmtleXMoKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2UuR0gucHVzaCh0KX0pfSkuZmluYWxseShmdW5jdGlvbigpe2UubG9nZ2VyLmRlYnVnKFwiRmluYWwgcHJpdmF0ZSBpcCBsaXN0IFtcIitlLkdILmpvaW4oXCIsXCIpK1wiXVwiKSx0LnJlc29sdmUoZS4kSCgpKX0pKX19LHRoaXMuVUgub25pY2VjYW5kaWRhdGU9ZnVuY3Rpb24ocil7ci5jYW5kaWRhdGUmJmUuZXgoci5jYW5kaWRhdGUuY2FuZGlkYXRlKSwhci5jYW5kaWRhdGV8fGUuQkguYWRkSWNlQ2FuZGlkYXRlKHIuY2FuZGlkYXRlKS5jYXRjaChmdW5jdGlvbihyKXt0LnJlamVjdCh7Skg6ITAsbWVzc2FnZTpyLm1lc3NhZ2V9KSxzLkZyYW1ld29yay5jbGVhclRpbWVvdXQoZS5WSCksY29uc29sZS5sb2coXCJFcnJvcjogRmFpbHVyZSBkdXJpbmcgYWRkSWNlQ2FuZGlkYXRlKClcIil9KX0sdGhpcy5CSC5vbmljZWNhbmRpZGF0ZT1mdW5jdGlvbihyKXtyLmNhbmRpZGF0ZSYmZS5leChyLmNhbmRpZGF0ZS5jYW5kaWRhdGUpLCFyLmNhbmRpZGF0ZXx8ZS5VSC5hZGRJY2VDYW5kaWRhdGUoci5jYW5kaWRhdGUpLmNhdGNoKGZ1bmN0aW9uKHIpe3QucmVqZWN0KHtKSDohMCxtZXNzYWdlOnIubWVzc2FnZX0pLHMuRnJhbWV3b3JrLmNsZWFyVGltZW91dChlLlZIKSxjb25zb2xlLmxvZyhcIkVycm9yOiBGYWlsdXJlIGR1cmluZyBhZGRJY2VDYW5kaWRhdGUoKVwiKX0pfSx0aGlzLlVILmNyZWF0ZU9mZmVyKCkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gZS5VSC5zZXRMb2NhbERlc2NyaXB0aW9uKHQpfSkudGhlbihmdW5jdGlvbigpe3JldHVybiBlLkJILnNldFJlbW90ZURlc2NyaXB0aW9uKGUuVUgubG9jYWxEZXNjcmlwdGlvbil9KS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGUuQkguY3JlYXRlQW5zd2VyKCl9KS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBlLkJILnNldExvY2FsRGVzY3JpcHRpb24odCl9KS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGUuVUguc2V0UmVtb3RlRGVzY3JpcHRpb24oZS5CSC5sb2NhbERlc2NyaXB0aW9uKX0pLmNhdGNoKGZ1bmN0aW9uKHIpe3QucmVqZWN0KHtKSDohMCxtZXNzYWdlOnIubWVzc2FnZX0pLHMuRnJhbWV3b3JrLmNsZWFyVGltZW91dChlLlZIKSxjb25zb2xlLmxvZyhcIkVycm9yOiBGYWlsdXJlIGNyZWF0aW5nIG9mZmVyXCIpfSl9Y2F0Y2goZSl7dC5yZWplY3Qoe0pIOiEwLG1lc3NhZ2U6ZS5tZXNzYWdlfSl9ZWxzZXtzLkZyYW1ld29yay5jbGVhclRpbWVvdXQodGhpcy5WSCk7dmFyIHI9Yy5IaXZlQ29uZmlnLkNvbm5JbmZvLmRldGVjdFByaXZhdGVJUD9cIndlYnJ0YyBkYXRhY2hhbm5lbCBub3Qgc3VwcG9ydGVkXCI6XCJwcml2YXRlIElQIGRldGVjdGlvbiBkaXNhYmxlZFwiO3QucmVqZWN0KHtKSDohMSxtZXNzYWdlOnJ9KX1yZXR1cm4gdC5Tc30sZS5wcm90b3R5cGUuWEg9ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIG51bGwhPWwuVnUmJm51bGwhPWwuaEwmJlwiZnVuY3Rpb25cIj09dHlwZW9mIG5ldyBSVENQZWVyQ29ubmVjdGlvbihudWxsLG51bGwpLmNyZWF0ZURhdGFDaGFubmVsfWNhdGNoKGUpe3JldHVybiExfX0sZS5wcm90b3R5cGUuZXg9ZnVuY3Rpb24oZSl7dmFyIHQ9LyhbMC05XXsxLDN9KFxcLlswLTldezEsM30pezN9KS8scj10LmV4ZWMoZSk7aWYocil7dmFyIGk9clswXTt0aGlzLnFILnNldChpLCEwKX19LGUucHJvdG90eXBlLiRIPWZ1bmN0aW9uKCl7dmFyIGU9bmV3IGEuRkg7cmV0dXJuIHRoaXMuR0gubGVuZ3RoPjAmJmUuREgodGhpcy5HSFswXSksdGhpcy5wdWJsaWNJcCYmZS5fSCh0aGlzLnB1YmxpY0lwKSx0aGlzLlNILlRIKGUpLHRoaXMuU0h9LGUucHJvdG90eXBlLmJIPWZ1bmN0aW9uKGUsdCxyKXtpZih0aGlzLnB1YmxpY0lwPWUsdGhpcy50eCgpLDA9PT1yJiZ0aGlzLkdILmxlbmd0aD4xKXRoaXMuR0guc2hpZnQoKTtlbHNlIGlmKHUuR2QuX2gmJjAhPT1yJiYtMT09dGhpcy5LSC5pbmRleE9mKHRoaXMuR0hbMF0pKXRoaXMuS0gudW5zaGlmdCh0aGlzLkdIWzBdKSx0aGlzLmpILml4KHRoaXMuS0guc2xpY2UoMCwyKSk7ZWxzZSBpZih1LkdkLl9oJiYwIT09ciYmdGhpcy5LSC5pbmRleE9mKHRoaXMuR0hbMF0pPjApe3ZhciBpPXRoaXMuS0guaW5kZXhPZih0aGlzLkdIWzBdKTt0aGlzLktIPXRoaXMuS0guc3BsaWNlKGksMSksdGhpcy5LSC51bnNoaWZ0KHRoaXMuR0hbMF0pLHRoaXMuakguaXgodGhpcy5LSC5zbGljZSgwLDIpKX10aGlzLiRIKCl9LGUucHJvdG90eXBlLnR4PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5HSC5pbmRleE9mKHRoaXMucHVibGljSXApO2U+LTEmJnRoaXMuR0guc3BsaWNlKGUsMSl9LGV9KCk7dC5ueD1wfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9cig3KSxuPXIoMjQpLHM9cig5KSxvPXIoMCksYT1yKDUpLGg9cigyKSxjPXIoMSksdT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLmxvZ2dlcklkPVwiW1RJTUVSIEhBTkRMRVJdIFwiLHRoaXMuc3g9bmV3IGkucmMuVmgsdGhpcy5veD1uZXcgaS5yYy5WaCx0aGlzLmxvZ2dlcj1vLkZyYW1ld29yay5yZXNvbHZlKG8uRnJhbWV3b3JrLlYuUikubG9nKCl9cmV0dXJuIGUucHJvdG90eXBlLmF4PWZ1bmN0aW9uKGUsdCl7dHJ5e3ZhciByPTAsaT0tMSxzPWUuemYuZHVyYXRpb247dGhpcy5zeC5raCgpP2k9TWF0aC5tYXgoMTAsdGhpcy5zeC5CaCh0KSk6dGhpcy5veC5raCgpJiYoaT1NYXRoLm1heCgxMCx0aGlzLm94LkJoKHQpKSkscj1pPi0xP01hdGgubWF4KDAscy1pKmEuaGguUW8uam8pOnMvMixlLnR5cGU9PW4uYmYud2YmJihyKj0yKTt2YXIgbz1NYXRoLm1heCh0aGlzLmh4KCkscik7cmV0dXJuIHRoaXMubG9nZ2VyLmRlYnVnKFwiVElNRVIgREVUQUlMUyBkdXJhdGlvbjogXCIrcytcIiBsZWZ0OiBcIit0K1wiIGRvd25UaW1lOiBcIitpK1wiIGZhbGxBdmc6IFwiK3RoaXMuc3guR2goKStcIiB0aW1lcjogXCIrbyksb31jYXRjaChlKXtyZXR1cm4gYy5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIGNhbGN1bGF0aW5nIHRoZSBwMnAgdGltZW91dFwiLHRoaXMubG9nZ2VySWQsaC5ocy5JaS5UaSxlKSwwfX0sZS5wcm90b3R5cGUudXg9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gNWUzfSxlLnByb3RvdHlwZS5seD1mdW5jdGlvbihlKXt0cnl7cmV0dXJuIHRoaXMuc3gua2goKT9NYXRoLm1pbih0aGlzLnN4LkJoKGUpLHRoaXMucHgoKSk6dGhpcy5neCgpfWNhdGNoKGUpe3JldHVybiBjLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgY2FsY3VsYXRpbmcgdGhlIGRlbGl2ZXJ5IGRlbGF5XCIsdGhpcy5sb2dnZXJJZCxoLmhzLklpLm1pLGUpLHRoaXMuZ3goKX19LGUucHJvdG90eXBlLl9NPWZ1bmN0aW9uKGUpe2lmKGUuWGYoKT09PXMudmMuZmMpc3dpdGNoKGUuSmYoKSl7Y2FzZSBuLmJmLm1mOmNhc2Ugbi5iZi5UZjpjYXNlIG4uYmYuSWY6dGhpcy5zeC5VaChlLmFnKCkpO2JyZWFrO2Nhc2Ugbi5iZi5SZjpjYXNlIG4uYmYud2Y6dGhpcy5veC5VaChlLmFnKCkpfX0sZS5wcm90b3R5cGUuaHg9ZnVuY3Rpb24oKXtyZXR1cm4gZS5FeH0sZS5wcm90b3R5cGUuZ3g9ZnVuY3Rpb24oKXtyZXR1cm4gZS52eH0sZS5wcm90b3R5cGUucHg9ZnVuY3Rpb24oKXtyZXR1cm4gZS55eH0sZX0oKTt1LkV4PTUwMCx1Lnl4PTE1MDAsdS52eD01MDAsdC5UeD11fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9cigzKSxuPXIoNDgpO3IoMTQ0KSxyKDE0Nik7dmFyIHM9cig4Niksbz1yKDApLGE9cigxNDcpLGg9cig5KSxjPXIoNjEpLHU9cigxNDgpLGw9cigxNDkpLHA9cig1NyksZD1yKDE0KSxmPXIoMSksZz1yKDIpLEU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMubG9nZ2VySWQ9XCJbREFTSCBNRVRBREFUQV0gXCIsdGhpcy5pc0xpdmU9ITEsdGhpcy5sb2dnZXI9by5GcmFtZXdvcmsmJm8uRnJhbWV3b3JrLnJlc29sdmUoby5GcmFtZXdvcmsuVi5SKT9vLkZyYW1ld29yay5yZXNvbHZlKG8uRnJhbWV3b3JrLlYuUikubG9nKGUpOmNvbnNvbGUsdGhpcy5teD1uZXcgRGFzaFBhcnNlcix0aGlzLnJlc2V0KCl9cmV0dXJuIGUucHJvdG90eXBlLkl4PWZ1bmN0aW9uKGUpe3ZhciB0PVwiXCI7cmV0dXJuLTEhPT1lLmluZGV4T2YoXCIvXCIpJiYoLTEhPT1lLmluZGV4T2YoXCI/XCIpJiYoZT1lLnN1YnN0cmluZygwLGUuaW5kZXhPZihcIj9cIikpKSx0PWUuc3Vic3RyaW5nKDAsZS5sYXN0SW5kZXhPZihcIi9cIikrMSkpLHR9LGUucHJvdG90eXBlLnBNPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNMaXZlfSxlLnByb3RvdHlwZS5sTT1mdW5jdGlvbigpe3JldHVybiB0aGlzLlN4LnZhbHVlcygpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5iYW5kd2lkdGh9KX0sZS5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLlN4PW5ldyBpfSxlLnByb3RvdHlwZS5SeD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnd4fSxlLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbih0LHIsaSl7dHJ5e3RoaXMucmVzZXQoKSx0aGlzLklNPXQsdGhpcy5ieCh0LHIpLHRoaXMuaXNMaXZlPVwic3RhdGljXCIhPT10aGlzLm1hbmlmZXN0LnR5cGU7Zm9yKHZhciBuPXRoaXMubWFuaWZlc3QuQmFzZVVSTCxzPXRoaXMubWFuaWZlc3QuUGVyaW9kX2FzQXJyYXlbMF0sbz1zLkFkYXB0YXRpb25TZXRfYXNBcnJheSxjPTA7YzxvLmxlbmd0aDtjKyspe3ZhciB1PXMuQWRhcHRhdGlvblNldFtjXSxsPS0xIT11Lm1pbWVUeXBlLmluZGV4T2YoXCJhdWRpb1wiKT9oLnZjLmRjOmgudmMuZmM7bD09PWgudmMuZmMmJnUuQ29udGVudFByb3RlY3Rpb24mJnRoaXMuQ3godS5Db250ZW50UHJvdGVjdGlvbik7Zm9yKHZhciBwPXUuU2VnbWVudFRlbXBsYXRlLmluaXRpYWxpemF0aW9uLGQ9dS5TZWdtZW50VGVtcGxhdGUubWVkaWEsRT1wYXJzZUludCh1LlNlZ21lbnRUZW1wbGF0ZS50aW1lc2NhbGUpLHY9MDt2PHUuUmVwcmVzZW50YXRpb25fYXNBcnJheS5sZW5ndGg7disrKXt2YXIgeT11LlJlcHJlc2VudGF0aW9uX2FzQXJyYXlbdl0sVD1uZXcgYS5feDtULnR5cGU9bCxULmJhbmR3aWR0aD1wYXJzZUludCh5LmJhbmR3aWR0aCksVC50aW1lc2NhbGU9RSxULlB4PXkuaWQsVC5pbml0aWFsaXphdGlvbj1uK1wiXCIrcCxULmluaXRpYWxpemF0aW9uPVQuaW5pdGlhbGl6YXRpb24ucmVwbGFjZShlLkF4LFwiXCIrVC5iYW5kd2lkdGgpLFQuaW5pdGlhbGl6YXRpb249VC5pbml0aWFsaXphdGlvbi5yZXBsYWNlKGUuT3gsXCJcIitULlB4KSxpfHx0aGlzLmxvZ2dlci5kZWJ1ZyhcIlF1YWxpdHlMZXZlbCBcIitoLnZjW2xdK1wiIFwiK1QuYmFuZHdpZHRoKTt2YXIgbT1uK1wiXCIrZDttPW0ucmVwbGFjZShlLkF4LFwiXCIrVC5iYW5kd2lkdGgpLG09bS5yZXBsYWNlKGUuT3gsXCJcIitULlB4KSxULk54PW07dmFyIEk9cGFyc2VJbnQoVC5iYW5kd2lkdGgrXCJcIiksUz10aGlzLkR4KHUuU2VnbWVudFRlbXBsYXRlLlNlZ21lbnRUaW1lbGluZV9hc0FycmF5WzBdLlNfYXNBcnJheSxtLEksbCk7VC5reD1TLkx4LFQuTXg9Uy5GeDt2YXIgUj10aGlzLlV4KG0pO3RoaXMuU3guc2V0KFIsVCl9fXJldHVybiB0aGlzLnd4PSEwLHRoaXMuQngocixpKX1jYXRjaChlKXt0aHJvdyBmLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgcGFyc2luZyB0aGUgbWV0YWRhdGFcIix0aGlzLmxvZ2dlcklkLGcuaHMudWkuV3IsZSksdGhpcy53eD0hMSxuZXcgRXJyb3IoZSl9fSxlLnByb3RvdHlwZS5EeD1mdW5jdGlvbih0LHIsaSxzKXt0cnl7dmFyIG8sYT1uZXcgbixoPW5ldyBuLHU9MCxsPTA7cmV0dXJuIHQuZm9yRWFjaChmdW5jdGlvbih0KXtpZih0LmQpe3QudD91PXBhcnNlSW50KHQudCk6dSs9bDt2YXIgbj1wYXJzZUludCh0LmQpLHA9ci5yZXBsYWNlKGUuSHgsdStcIlwiKSxkPW5ldyBjLkRGKHUsaSxuLHAscCk7ZC50eXBlPXMsbyYmKG8ubmV4dD1kKSxhLnNldChwLGQpLGguc2V0KHUsZCksbz1kO3ZhciBmPTA7dC5yJiYoZj1wYXJzZUludCh0LnIpKTtmb3IodmFyIGc9MDtnPGY7ZysrKXt1Kz1uO3ZhciBwPXIucmVwbGFjZShlLkh4LHUrXCJcIiksZD1uZXcgYy5ERih1LGksbixwLHApO2QudHlwZT1zLG8mJihvLm5leHQ9ZCksYS5zZXQocCxkKSxoLnNldCh1LGQpLG89ZH1sPW59fSkse0x4OmEsRng6aH19Y2F0Y2goZSl7dGhyb3cgZi5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIGV4dHJhY3Rpbmcgc2VnbWVudCBtYXBzXCIsdGhpcy5sb2dnZXJJZCxnLmhzLnVpLnpyLGUpLG5ldyBFcnJvcihlKX19LGUucHJvdG90eXBlLkN4PWZ1bmN0aW9uKGUpe3RyeXtpZihlKXtpZihlLkNyeXB0b1BlcmlvZCl7dmFyIHQ9ZS5DcnlwdG9QZXJpb2Q7dGhpcy5PTSYmIXRoaXMuT00ueHgoKSYmdGhpcy5PTSBpbnN0YW5jZW9mIHUucXh8fCh0aGlzLk9NPW5ldyB1LnF4KHQua2V5VXJpVGVtcGxhdGUsdC5JVix0aGlzLmF1dGhlbnRpY2F0aW9uVG9rZW4pKX1lbHNlIHRoaXMuT00mJnRoaXMuT00gaW5zdGFuY2VvZiBsLkd4fHwodGhpcy5PTT1uZXcgbC5HeCk7dGhpcy5PTSYmcC5EQVNILlhMJiZ0aGlzLk9NLmluaXQoKX19Y2F0Y2goZSl7dGhyb3cgZi5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIGluaXRpYWxpemluZyB0aGUgcHJvdGVjdGlvblwiLHRoaXMubG9nZ2VySWQsZy5ocy51aS5KcixlKSxuZXcgRXJyb3IoZSl9fSxlLnByb3RvdHlwZS5WeD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLlV4KGUpO3JldHVybiB0aGlzLlN4LmdldCh0KX0sZS5wcm90b3R5cGUuZ009ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiB0aGlzLlZ4KGUpLmt4LmdldChlKX1jYXRjaChlKXtyZXR1cm4gZi5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIGdldHRpbmcgdGhlIHNlZ21lbnQgaW5mb1wiLHRoaXMubG9nZ2VySWQsZy5ocy51aS5YcixlKSxudWxsfX0sZS5wcm90b3R5cGUuZk09ZnVuY3Rpb24oZSl7dmFyIHQ9ITE7cmV0dXJuIHRoaXMuU3guZm9yRWFjaChmdW5jdGlvbihyLGkpe3IuaW5pdGlhbGl6YXRpb249PT1lJiYodD0hMCl9KSx0fSxlLnByb3RvdHlwZS52TT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmdNKGUpO3JldHVybiBudWxsIT10P3QubmV4dDpudWxsfSxlLnByb3RvdHlwZS5kaz1mdW5jdGlvbihlLHQscixpKXt0cnl7dmFyIG47aWYodGhpcy5TeC5mb3JFYWNoKGZ1bmN0aW9uKGUsdCl7ZS5iYW5kd2lkdGg9PT1pJiYobj1lKX0pLG4mJm4uTXguaGFzKGUpJiZuLk14LmhhcyhyKSl7Zm9yKHZhciBzPW4uTXguZ2V0KGUpLG89bi5NeC5nZXQociksYT0wLGg9cztoJiZoIT1vOylhKz1oLmR1cmF0aW9uLGg9aC5uZXh0O3JldHVybiBNYXRoLnJvdW5kKGEvKG4udGltZXNjYWxlLzFlMykpfXJldHVybiAwfWNhdGNoKGUpe3JldHVybiBmLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgZXh0cmFjdGluZyB0aGUgc2VnbWVudCBkaXN0YW5jZVwiLHRoaXMubG9nZ2VySWQsZy5ocy51aS5acixlKSwwfX0sZS5wcm90b3R5cGUuang9ZnVuY3Rpb24oZSl7dHJ5e2UgaW5zdGFuY2VvZiBVaW50OEFycmF5JiYoZT1lLmJ1ZmZlcik7dmFyIHQ9SVNPQm94ZXIuUXgoZSkscj10LmZldGNoKFwidGZoZFwiKSxpPXQuZmV0Y2goXCJ0cnVuXCIpLG49cj9yLmRlZmF1bHRfc2FtcGxlX2R1cmF0aW9uOjA7aWYoaSl7dmFyIHM9MDtyZXR1cm4gaS5LeC5mb3JFYWNoKGZ1bmN0aW9uKGUpe3MrPWUuc2FtcGxlX2R1cmF0aW9ufSksaXNOYU4ocykmJm4+MCYmKHM9bippLkt4Lmxlbmd0aCksc319Y2F0Y2goZSl7cmV0dXJuIGYuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBleHRyYWN0aW5nIGR1cmF0aW9uIGZyb20gdGhlIGJ1ZmZlclwiLHRoaXMubG9nZ2VySWQsZy5ocy51aS4kcixlKSwwfX0sZS5wcm90b3R5cGUuQng9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLll4KCk7aWYoIXQmJih0aGlzLmlzTGl2ZXx8cnx8ZC5IaXZlQ29uZmlnLkRhc2guRGFzaFJlbW92ZUJpdHJhdGVTaXplKSl0cnl7dmFyIGk9bmV3IHMoe30pLG49aS5XeChlKTt0aGlzLmlzTGl2ZSYmdGhpcy56eChuKSwocnx8ZC5IaXZlQ29uZmlnLkRhc2guRGFzaFJlbW92ZUJpdHJhdGVTaXplKSYmdGhpcy5KeChuLHIsZC5IaXZlQ29uZmlnLkRhc2guRGFzaFJlbW92ZUJpdHJhdGVTaXplKTtyZXR1cm4gaS5YeChuKX1jYXRjaChlKXt0aGlzLmxvZ2dlci5lcnJvcihlKX1yZXR1cm4gZX0sZS5wcm90b3R5cGUueng9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0cnl7dmFyIHI9TWF0aC5tYXgoMSxwLkRBU0guREFTSF9NRVRBREFUQV9NSU5fRlJBR01FTlRTKSxpPU1hdGgubWF4KDEscC5EQVNILmVNKSxuPTAscz0wO3JldHVybiBlLk1QRCYmZS5NUEQuUGVyaW9kJiZlLk1QRC5QZXJpb2QuQWRhcHRhdGlvblNldC5mb3JFYWNoKGZ1bmN0aW9uKGUpe2lmKHQuWngoZSkpe2Zvcih2YXIgbz1lLlNlZ21lbnRUZW1wbGF0ZS5TZWdtZW50VGltZWxpbmUuU19hc0FycmF5LGE9cGFyc2VJbnQoZS5TZWdtZW50VGVtcGxhdGUuX3RpbWVzY2FsZSksaD1pKmEsYz0wLHU9MCxsPTA7bDxvLmxlbmd0aCYmcj4wO2wrKyl7dmFyIHA9b1tsXTtjPWw7dmFyIGQ9cC5fcj9wYXJzZUludChwLl9yKToxO2Q+cj8odT1yLHI9MCk6KHItPWQsdT1kKX1mb3IodmFyIGY9by5sZW5ndGgtMTtmPj0wJiYoaD4wJiZmPj1jKTtmLS0pe3ZhciBwPW9bZl0sZD1wLl9yP3BhcnNlSW50KHAuX3IpOjEsZz0wO2lmKCFwLl9kKXRocm93IG5ldyBFcnJvcihcIm1pc3Npbmcgc2VnbWVudCBkdXJhdGlvblwiKTtnPXBhcnNlSW50KHAuX2QpO3ZhciBFPWQqZztpZigoZj5jfHxmPT1jJiYwPT11KSYmaD49RSloLT1FLG8uc3BsaWNlKGYsMSksbis9ZCxzKz1FO2Vsc2V7dmFyIHY9TWF0aC5jZWlsKGgvZyk7Zj09YyYmKHY9TWF0aC5taW4odixkLXUpKTt2YXIgeT1nKnY7cC5fcj1kLXYrXCJcIixoLT15LG4rPXYscys9eX19dC5sb2dnZXIuZGVidWcoXCJEQVNIIHRyaW1tZWQgXCIrbitcIiBzZWdtZW50cyBmb3IgdG90YWwgZHVyYXRpb246IFwiK3MpfX0pLGV9Y2F0Y2goZSl7dGhyb3cgZi5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIHRyaW1taW5nIHRoZSBtYW5pZmVzdFwiLHRoaXMubG9nZ2VySWQsZy5ocy51aS5zaSxlKSxuZXcgRXJyb3IoZSl9fSxlLnByb3RvdHlwZS5aeD1mdW5jdGlvbihlKXtyZXR1cm4hIWUmJighIShcInZpZGVvL21wNFwiPT09ZS5fbWltZVR5cGV8fFwidmlkZW9cIj09PWUuX2NvbnRlbnRUeXBlfHxlLlNlZ21lbnRUZW1wbGF0ZS5fbWVkaWEmJmUuU2VnbWVudFRlbXBsYXRlLl9tZWRpYS5pbmRleE9mKFwidmlkZW9cIik+LTEpJiYoZS5TZWdtZW50VGVtcGxhdGUmJmUuU2VnbWVudFRlbXBsYXRlLlNlZ21lbnRUaW1lbGluZSkpfSxlLnByb3RvdHlwZS5ZeD1mdW5jdGlvbigpe2lmKGQuSGl2ZUNvbmZpZy5EYXNoLkRhc2hGaWx0ZXJCaXRyYXRlcyl0cnl7dmFyIGU9bnVsbDtlPVwic3RyaW5nXCI9PXR5cGVvZiBkLkhpdmVDb25maWcuRGFzaC5EYXNoRmlsdGVyQml0cmF0ZXM/ZC5IaXZlQ29uZmlnLkRhc2guRGFzaEZpbHRlckJpdHJhdGVzLnNwbGl0KFwiLFwiKTpkLkhpdmVDb25maWcuRGFzaC5EYXNoRmlsdGVyQml0cmF0ZXM7dmFyIHQ9W107cmV0dXJuIGUuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgcj1wYXJzZUludChlKTtpc05hTihyKXx8dC5wdXNoKHIpfSksdH1jYXRjaChlKXtmLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgcGFyc2luZyBEYXNoRmlsdGVyQml0cmF0ZXNcIix0aGlzLmxvZ2dlcklkLGcuaHMudWkub2ksZSl9fSxlLnByb3RvdHlwZS5KeD1mdW5jdGlvbihlLHQscil7dmFyIGk9dGhpcztpZihlLk1QRCYmZS5NUEQuUGVyaW9kKXt2YXIgbj1bXTtlLk1QRC5QZXJpb2QuQWRhcHRhdGlvblNldC5mb3JFYWNoKGZ1bmN0aW9uKGUpe2lmKGkuWngoZSkpe3ZhciBzPWUuUmVwcmVzZW50YXRpb25fYXNBcnJheTtzLnNvcnQoZnVuY3Rpb24oZSx0KXtyZXR1cm4gaXNOYU4oZS5fYmFuZHdpZHRoKSYmKGUuX2JhbmR3aWR0aD1wYXJzZUludChlLl9iYW5kd2lkdGgpKSxpc05hTih0Ll9iYW5kd2lkdGgpJiYodC5fYmFuZHdpZHRoPXBhcnNlSW50KHQuX2JhbmR3aWR0aCkpLGUuX2JhbmR3aWR0aC10Ll9iYW5kd2lkdGh9KTtmb3IodmFyIG89cy5sZW5ndGgtMTtvPj0wO28tLSlyJiYoZGVsZXRlIHNbb10uX3dpZHRoLGRlbGV0ZSBzW29dLl9oZWlnaHQpLHQmJi0xPT10LmluZGV4T2Yobyk/cy5zcGxpY2UobywxKTpuLnB1c2goc1tvXS5fYmFuZHdpZHRoKTtpLmxvZ2dlci5kZWJ1ZyhcIkRBU0ggZmlsdGVyZWQtaW4gYml0cmF0ZXM6IFwiK24ucmV2ZXJzZSgpLmpvaW4oXCIgXCIpK1wiIC0gcmVtb3ZlZCBzaXplOiBcIityKX19KX19LGUucHJvdG90eXBlLkhNPWZ1bmN0aW9uKGUsdCxyLGkpe3RyeXt2YXIgbjtpZih0aGlzLlN4LmZvckVhY2goZnVuY3Rpb24oZSx0KXtlLmJhbmR3aWR0aD09PWkmJihuPWUpfSksbiYmbi5NeC5oYXMoZSkmJm4uTXguaGFzKHIpKXtmb3IodmFyIHM9bi5NeC5nZXQoZSksbz1uLk14LmdldChyKSxhPTAsaD1zO2gmJmghPW87KWErPWguZHVyYXRpb24saD1oLm5leHQ7cmV0dXJuIE1hdGgucm91bmQoYS8obi50aW1lc2NhbGUvMWUzKSl9cmV0dXJuIDB9Y2F0Y2goZSl7cmV0dXJuIGYuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBnZXR0aW5nIHRoZSBkdXJhdGlvbiBiZXR3ZWVuIHR3byBzZWdtZW50c1wiLHRoaXMubG9nZ2VySWQsZy5ocy51aS5oaSxlKSwwfX0sZS5wcm90b3R5cGUucU09ZnVuY3Rpb24oZSx0KXt0cnl7dmFyIHI7cmV0dXJuIHRoaXMuU3guZm9yRWFjaChmdW5jdGlvbihlLGkpe2UuYmFuZHdpZHRoPT09dCYmKHI9ZSl9KSxyJiZyLk14LmhhcyhlKT9yLk14LmdldChlKTpudWxsfWNhdGNoKGUpe3JldHVybiBmLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgZ2V0dGluZyB0aGUgc2VnbWVudFwiLHRoaXMubG9nZ2VySWQsZy5ocy51aS5jaSxlKSxudWxsfX0sZX0oKTtFLkF4PVwiJEJhbmR3aWR0aCRcIixFLkh4PVwiJFRpbWUkXCIsRS5PeD1cIiRSZXByZXNlbnRhdGlvbklEJFwiLHQuJHg9RX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBpPWZ1bmN0aW9uKGUsdCxyKXtmdW5jdGlvbiBpKGUpe3ZhciB0PWUubG9jYWxOYW1lO3JldHVybiBudWxsPT10JiYodD1lLmVxKSxudWxsIT10JiZcIlwiIT10fHwodD1lLm5vZGVOYW1lKSx0fWZ1bmN0aW9uIG4oZSl7cmV0dXJuIGUucHJlZml4fWZ1bmN0aW9uIHMoZSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGU/ZS5yZXBsYWNlKC8mL2csXCImYW1wO1wiKS5yZXBsYWNlKC88L2csXCImbHQ7XCIpLnJlcGxhY2UoLz4vZyxcIiZndDtcIikucmVwbGFjZSgvXCIvZyxcIiZxdW90O1wiKS5yZXBsYWNlKC8nL2csXCImI3gyNztcIikucmVwbGFjZSgvXFwvL2csXCImI3gyRjtcIik6ZX1mdW5jdGlvbiBvKGUpe3JldHVybiBlLnJlcGxhY2UoLyZhbXA7L2csXCImXCIpLnJlcGxhY2UoLyZsdDsvZyxcIjxcIikucmVwbGFjZSgvJmd0Oy9nLFwiPlwiKS5yZXBsYWNlKC8mcXVvdDsvZywnXCInKS5yZXBsYWNlKC8mI3gyNzsvZyxcIidcIikucmVwbGFjZSgvJiN4MkY7L2csXCIvXCIpfWZ1bmN0aW9uIGEocyl7aWYocy5ub2RlVHlwZT09VC5ET0NVTUVOVF9OT0RFKXt2YXIgaCxjLHUsbD1zLmZpcnN0Q2hpbGQ7Zm9yKGM9MCx1PXMuY2hpbGROb2Rlcy5sZW5ndGg7Yzx1O2MrPTEpaWYocy5jaGlsZE5vZGVzW2NdLm5vZGVUeXBlIT09VC5DT01NRU5UX05PREUpe2w9cy5jaGlsZE5vZGVzW2NdO2JyZWFrfWlmKHIpaD1hKGwpO2Vsc2V7aD17fTt2YXIgcD1pKGwpO2hbcF09YShsKX1yZXR1cm4gaH1pZihzLm5vZGVUeXBlPT1ULkVMRU1FTlRfTk9ERSl7dmFyIGg9bmV3IE9iamVjdDtoLl9fY250PTA7Zm9yKHZhciBkPXMuY2hpbGROb2RlcyxmPTA7ZjxkLmxlbmd0aDtmKyspe3ZhciBsPWQuaXRlbShmKSxwPWkobCk7aWYoaC5fX2NudCsrLG51bGw9PWhbcF0paFtwXT1hKGwpLGhbcCtcIl9hc0FycmF5XCJdPW5ldyBBcnJheSgxKSxoW3ArXCJfYXNBcnJheVwiXVswXT1oW3BdO2Vsc2V7aWYobnVsbCE9aFtwXSYmIShoW3BdaW5zdGFuY2VvZiBBcnJheSkpe3ZhciBnPWhbcF07aFtwXT1uZXcgQXJyYXksaFtwXVswXT1nLGhbcCtcIl9hc0FycmF5XCJdPWhbcF19Zm9yKHZhciBFPTA7bnVsbCE9aFtwXVtFXTspRSsrO2hbcF1bRV09YShsKX19Zm9yKHZhciB2PTA7djxzLmF0dHJpYnV0ZXMubGVuZ3RoO3YrKyl7dmFyIG09cy5hdHRyaWJ1dGVzLml0ZW0odik7aC5fX2NudCsrO2Zvcih2YXIgST1tLnZhbHVlLFM9MCxSPWUubGVuZ3RoO1M8UjtTKyspe3ZhciB3PWVbU107dHJ5e3cudGVzdC5jYWxsKHRoaXMsbSkmJihJPXcudHEuY2FsbCh0aGlzLG0udmFsdWUpKX1jYXRjaChlKXt3LnRlc3QuY2FsbCh0aGlzLG0pLGNvbnNvbGUuZXJyb3IoZSl9fWhbdCttLm5hbWVdPUl9dmFyIGI9bihzKTtyZXR1cm4gbnVsbCE9YiYmXCJcIiE9YiYmKGguX19jbnQrKyxoLl9fcHJlZml4PWIpLDE9PWguX19jbnQmJm51bGwhPWhbXCIjdGV4dFwiXSYmKGg9aFtcIiN0ZXh0XCJdKSxudWxsIT1oW1wiI3RleHRcIl0mJihoLl9fdGV4dD1oW1wiI3RleHRcIl0saC5fX3RleHQgaW5zdGFuY2VvZiBBcnJheSYmKGguX190ZXh0PWguX190ZXh0LmpvaW4oXCJcXG5cIikpLHkmJihoLl9fdGV4dD1vKGguX190ZXh0KSksZGVsZXRlIGhbXCIjdGV4dFwiXSxkZWxldGUgaFtcIiN0ZXh0X2FzQXJyYXlcIl0sXCJcIj09PWguX190ZXh0LnRyaW0oKSYmZGVsZXRlIGguX190ZXh0KSxudWxsIT1oW1wiI2NkYXRhLXNlY3Rpb25cIl0mJihoLl9fY2RhdGE9aFtcIiNjZGF0YS1zZWN0aW9uXCJdLGRlbGV0ZSBoW1wiI2NkYXRhLXNlY3Rpb25cIl0sZGVsZXRlIGhbXCIjY2RhdGEtc2VjdGlvbl9hc0FycmF5XCJdKSxudWxsPT1oLl9fdGV4dCYmbnVsbD09aC5fX2NkYXRhfHwoaC50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybihudWxsIT10aGlzLl9fdGV4dD90aGlzLl9fdGV4dDpcIlwiKSsobnVsbCE9dGhpcy5fX2NkYXRhP3RoaXMuX19jZGF0YTpcIlwiKX0pLGh9cmV0dXJuIHMubm9kZVR5cGU9PVQuVEVYVF9OT0RFfHxzLm5vZGVUeXBlPT1ULkNEQVRBX1NFQ1RJT05fTk9ERT9zLm5vZGVWYWx1ZTpzLm5vZGVUeXBlPT1ULkNPTU1FTlRfTk9ERT9udWxsOnZvaWQgMH1mdW5jdGlvbiBoKGUsdCxyLGkpe3ZhciBuPVwiPFwiKyhudWxsIT1lJiZudWxsIT1lLl9fcHJlZml4P2UuX19wcmVmaXgrXCI6XCI6XCJcIikrdDtpZihudWxsIT1yKWZvcih2YXIgcz0wO3M8ci5sZW5ndGg7cysrKXt2YXIgbz1yW3NdLGE9ZVtvXTtuKz1cIiBcIitvLnN1YnN0cigxKStcIj0nXCIrYStcIidcIn1yZXR1cm4gbis9aT9cIi8+XCI6XCI+XCJ9ZnVuY3Rpb24gYyhlLHQpe3JldHVyblwiPC9cIisobnVsbCE9ZS5fX3ByZWZpeD9lLl9fcHJlZml4K1wiOlwiOlwiXCIpK3QrXCI+XCJ9ZnVuY3Rpb24gdShlLHQpe3JldHVybi0xIT09ZS5pbmRleE9mKHQsZS5sZW5ndGgtdC5sZW5ndGgpfWZ1bmN0aW9uIGwoZSx0KXtyZXR1cm4hISh1KHQudG9TdHJpbmcoKSxcIl9hc0FycmF5XCIpfHwwPT10LnRvU3RyaW5nKCkuaW5kZXhPZihcIl9cIil8fGVbdF1pbnN0YW5jZW9mIEZ1bmN0aW9uKX1mdW5jdGlvbiBwKGUpe3ZhciB0PTA7aWYoZSBpbnN0YW5jZW9mIE9iamVjdClmb3IodmFyIHIgaW4gZSlsKGUscil8fHQrKztyZXR1cm4gdH1mdW5jdGlvbiBkKGUpe3ZhciB0PVtdO2lmKGUgaW5zdGFuY2VvZiBPYmplY3QpZm9yKHZhciByIGluIGUpLTE9PXIudG9TdHJpbmcoKS5pbmRleE9mKFwiX19cIikmJjA9PXIudG9TdHJpbmcoKS5pbmRleE9mKFwiX1wiKSYmdC5wdXNoKHIpO3JldHVybiB0fWZ1bmN0aW9uIGYoZSl7dmFyIHQ9XCJcIjtyZXR1cm4gbnVsbCE9ZS5fX2NkYXRhJiYodCs9XCI8IVtDREFUQVtcIitlLl9fY2RhdGErXCJdXT5cIiksbnVsbCE9ZS5fX3RleHQmJih0Kz15P3MoZS5fX3RleHQpOmUuX190ZXh0KSx0fWZ1bmN0aW9uIGcoZSl7dmFyIHQ9XCJcIjtyZXR1cm4gZSBpbnN0YW5jZW9mIE9iamVjdD90Kz1mKGUpOm51bGwhPWUmJih0Kz15P3MoZSk6ZSksdH1mdW5jdGlvbiBFKGUsdCxyKXt2YXIgaT1cIlwiO2lmKDA9PWUubGVuZ3RoKWkrPWgoZSx0LHIsITApO2Vsc2UgZm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspaSs9aChlW25dLHQsZChlW25dKSwhMSksaSs9dihlW25dKSxpKz1jKGVbbl0sdCk7cmV0dXJuIGl9ZnVuY3Rpb24gdihlKXt2YXIgdD1cIlwiO2lmKHAoZSk+MClmb3IodmFyIHIgaW4gZSlpZighbChlLHIpKXt2YXIgaT1lW3JdLG49ZChpKTtpZihudWxsPT1pfHx2b2lkIDA9PWkpdCs9aChpLHIsbiwhMCk7ZWxzZSBpZihpIGluc3RhbmNlb2YgT2JqZWN0KWlmKGkgaW5zdGFuY2VvZiBBcnJheSl0Kz1FKGkscixuKTtlbHNle3ZhciBzPXAoaSk7cz4wfHxudWxsIT1pLl9fdGV4dHx8bnVsbCE9aS5fX2NkYXRhPyh0Kz1oKGkscixuLCExKSx0Kz12KGkpLHQrPWMoaSxyKSk6dCs9aChpLHIsbiwhMCl9ZWxzZSB0Kz1oKGkscixuLCExKSx0Kz1nKGkpLHQrPWMoaSxyKX1yZXR1cm4gdCs9ZyhlKX1udWxsIT09dCYmdm9pZCAwIT09dHx8KHQ9XCJfXCIpLG51bGwhPT1yJiZ2b2lkIDAhPT1yfHwocj0hMSk7dmFyIHk9ITEsVD17RUxFTUVOVF9OT0RFOjEsVEVYVF9OT0RFOjMsQ0RBVEFfU0VDVElPTl9OT0RFOjQsQ09NTUVOVF9OT0RFOjgsRE9DVU1FTlRfTk9ERTo5fTt0aGlzLnJxPWZ1bmN0aW9uKGUpe3ZhciB0O2lmKHdpbmRvdy5ET01QYXJzZXIpe3Q9KG5ldyB3aW5kb3cuRE9NUGFyc2VyKS5wYXJzZUZyb21TdHJpbmcoZSxcInRleHQveG1sXCIpfWVsc2UgMD09ZS5pbmRleE9mKFwiPD9cIikmJihlPWUuc3Vic3RyKGUuaW5kZXhPZihcIj8+XCIpKzIpKSx0PW5ldyBBY3RpdmVYT2JqZWN0KFwiTWljcm9zb2Z0LlhNTERPTVwiKSx0LmFzeW5jPVwiZmFsc2VcIix0LmlxKGUpO3JldHVybiB0fSx0aGlzLm5xPWZ1bmN0aW9uKGUpe3JldHVybiBhKGUpfSx0aGlzLld4PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMucnEoZSk7cmV0dXJuIHRoaXMubnEodCl9LHRoaXMuWHg9ZnVuY3Rpb24oZSl7cmV0dXJuIHYoZSl9LHRoaXMuc3E9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5YeChlKTtyZXR1cm4gdGhpcy5ycSh0KX0sdGhpcy5nZXRWZXJzaW9uPWZ1bmN0aW9uKCl7cmV0dXJuXCIxLjAuMTFcIn0sdGhpcy5vcT1mdW5jdGlvbihlKXt5PWV9fTtlLmk9aX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXRoaXMmJnRoaXMuaHV8fGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gcigpe3RoaXMuY29uc3RydWN0b3I9ZX1mb3IodmFyIGkgaW4gdCl0Lmhhc093blByb3BlcnR5KGkpJiYoZVtpXT10W2ldKTtlLnByb3RvdHlwZT1udWxsPT09dD9PYmplY3QuY3JlYXRlKHQpOihyLnByb3RvdHlwZT10LnByb3RvdHlwZSxuZXcgcil9LG49cigzKSxzPXIoNTgpLG89cigxNTEpLGE9cigxNTQpLGg9cigwKSxjPXIoMzEpLHU9cig5KSxsPXIoMzQpLHA9cigzMCksZD1yKDEpLGY9cigyKTshZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0KXtyZXR1cm4gdGhpcy5xTCh0KXx8LTEhPXQuaW5kZXhPZihlLkdMKX1mdW5jdGlvbiByKHQpe3JldHVybi0xIT10LnRvTG93ZXJDYXNlKCkuaW5kZXhPZihlLlZMLnRvTG93ZXJDYXNlKCkpfHwtMSE9dC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoZS5hcS50b0xvd2VyQ2FzZSgpKXx8LTEhPXQudG9Mb3dlckNhc2UoKS5pbmRleE9mKGUuaHEudG9Mb3dlckNhc2UoKSl9ZS5jcT0xLGUudXE9MixlLmxxPTNlNCxlLnBxPTRlMyxlLmRxPTUwMCxlLmZxPSEwLGUuZ3E9MWU0LGUuRXE9MTYsZS52cT0zLGUuVkw9XCIubTN1OFwiLGUuYXE9XCIoZm9ybWF0PW0zdTgtYWFwbC12MylcIixlLmhxPVwiKHZpZGVvLGZvcm1hdD1tM3U4LWFhcGwtdjMsYXVkaW90cmFjaz1hdWRpbylcIixlLkdMPVwiLnRzXCIsZS5yTT10LGUucUw9cjt2YXIgZz1mdW5jdGlvbih0KXtmdW5jdGlvbiBzKGUscixpKXt2YXIgcz10LmNhbGwodGhpcyxpKXx8dGhpcztyZXR1cm4gcy55cT0hMSxzLmxvZ2dlcklkPVwiW0hMUyBDb250ZXh0XSBcIixzLkFnPTAscy5NTT1uZXcgbixzLkRNPW5ldyBuLHMudGlja2V0PWUscy5UcT1yLHImJihzLm1xPXMuSXEoZS5fTigpKSkscy5uTT1lLk5OKCkscy5zTT1uZXcgYS5TcSxzLlJxPW5ldyBvLndxLHN9cmV0dXJuIGkocyx0KSxzLnByb3RvdHlwZS5nZXRTdHJlYW1Qcm90b2NvbD1mdW5jdGlvbigpe3JldHVybiBTdHJlYW1Qcm90b2NvbC5icX0scy5wcm90b3R5cGUuSXE9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5sYXN0SW5kZXhPZihcIi9cIik7cmV0dXJuIGUuc3Vic3RyKDAsdCl9LHMucHJvdG90eXBlLlNrPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGlja2V0fSxzLnByb3RvdHlwZS5sTT1mdW5jdGlvbigpe3JldHVybiB0aGlzLlJxLmxNKCl9LHMucHJvdG90eXBlLmlzTGl2ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLlJxLmlzTGl2ZSgpfSxzLnByb3RvdHlwZS5kTT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNNfSxzLnByb3RvdHlwZS5nZXRDb250ZXh0SWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50aWNrZXQua04oKX0scy5wcm90b3R5cGUudU09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uTX0scy5wcm90b3R5cGUubU09ZnVuY3Rpb24oZSl7dHJ5e3ZhciB0PWUudXJsPXRoaXMuQ3EoZS51cmwpO3JldHVybiB0PT09dGhpcy5uTT8odGhpcy55cSYmdGhpcy5sb2dnZXIuZGVidWcoXCJTQU1FIE1BTklGRVNUIFwiK3QrXCIsXCIrdGhpcy5uTSksITApOm51bGwhPXRoaXMuUnEmJnRoaXMuUnEuX3EodCk/KHRoaXMueXEmJnRoaXMubG9nZ2VyLmRlYnVnKFwiQ09SUkVDVCBQTEFZTElTVCBcIit0K1wiLFwiK3RoaXMubk0pLCEwKTpudWxsIT10aGlzLlJxJiZudWxsIT10aGlzLlJxLmdNKHQpPyh0aGlzLnlxJiZ0aGlzLmxvZ2dlci5kZWJ1ZyhcIkNPUlJFQ1QgU0VHTUVOVCBcIit0K1wiLFwiK3RoaXMubk0pLCEwKTohKCFyKHQpfHx0aGlzLlJxLlBxKCk9PT10KSYmKHRoaXMueXEmJnRoaXMubG9nZ2VyLmRlYnVnKFwiRklSU1QgUkVRVUVTVCBGT1IgTUFOSUZFU1QgXCIrdCtcIixcIit0aGlzLm5NKSwhMSl9Y2F0Y2godCl7cmV0dXJuIGQuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBnZXR0aW5nIHRoZSBjdXJyZW50IGNvbnRleHQgb2YgdGhlIEhpdmVSZXF1ZXN0XCIsdGhpcy5sb2dnZXJJZCxmLmhzLmRpLnFyLHtkZXRhaWxlZEVycm9yOnQsdXJsOmUudXJsfSksITF9fSxzLnByb3RvdHlwZS5DcT1mdW5jdGlvbihlKXtyZXR1cm4gcChlKS5uYigpLnRvU3RyaW5nKCl9LHMucHJvdG90eXBlLlhmPWZ1bmN0aW9uKGUpe3RyeXtpZihyKGUpKXJldHVybiB1LnZjLmdjO3JldHVybiBudWxsIT10aGlzLlJxLmdNKGUpP3UudmMuZmM6dS52Yy5FY31jYXRjaCh0KXtyZXR1cm4gZC5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIGdldHRpbmcgdGhlIGVudGl0eVR5cGVcIix0aGlzLmxvZ2dlcklkLGYuaHMuZGkuQnIse2RldGFpbGVkRXJyb3I6dCx1cmw6ZX0pLHUudmMuRWN9fSxzLnByb3RvdHlwZS5pZz1mdW5jdGlvbihlKXt2YXIgdD10aGlzLlhmKGUpO2lmKHQ9PXUudmMuZmN8fHQ9PXUudmMuZGMpcmV0dXJuITB9LHMucHJvdG90eXBlLkVNPWZ1bmN0aW9uKGUpe3ZhciB0PTAscj0wLGk9MCxuPSEwLHM9ITE7dHJ5e3ZhciBvPXRoaXMuWGYoZSk7aWYobyE9dS52Yy5nYyl7dmFyIGE9dGhpcy5ScS5nTShlKTtudWxsIT1hJiYodD1hLmR1cmF0aW9uLHI9YS5iaXRyYXRlLGk9YS5pZCxzPXRoaXMuaWcoZSkpfWVsc2Ugbj0hMSxudWxsIT10aGlzLlJxJiZ0aGlzLlJxLkFxLmhhcyhlKSYmKHI9dGhpcy5ScS5BcS5nZXQoZSkuYml0cmF0ZSx0aGlzLk1NLnNldChyLGguRnJhbWV3b3JrLnRpbWUoKSkpO3JldHVybiBuZXcgbC5OXyhlLG8sbixpLHQscixzLHRoaXMuZ2V0Q29udGV4dElkKCkpfWNhdGNoKHQpe3JldHVybiBkLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgZ2V0dGluZyB0aGUgZW50aXR5Q2hhcmFjdGVyaXN0aWNzIGZyb20gdGhlIHVybFwiLHRoaXMubG9nZ2VySWQsZi5ocy5kaS5Icix7ZGV0YWlsZWRFcnJvcjp0LHVybDplfSksbmV3IGwuTl8oZSx1LnZjLkVjLCExLDAsMCwwLCExLHRoaXMuZ2V0Q29udGV4dElkKCkpfX0scy5wcm90b3R5cGUuVkQ9ZnVuY3Rpb24oZSx0LHIpe3ZhciBpPXRoaXMuUnEucU0oZSx0KTtyZXR1cm4gbnVsbCE9aT9uZXcgbC5OXyhpLnlNLHIsITAsZSxpLmR1cmF0aW9uLHQsITAsdGhpcy5nZXRDb250ZXh0SWQoKSk6bnVsbH0scy5wcm90b3R5cGUuU009ZnVuY3Rpb24oZSl7dHJ5e3ZhciB0PWUuUk0scj1lLmVnKCksaT10aGlzLlJxLnBhcnNlKHIsdCk7aWYodGhpcy5ScS5BcS5oYXMocikpe3ZhciBuPXRoaXMuUnEuQXEuZ2V0KHIpO3RoaXMud00uUUQobi5iaXRyYXRlKX1lLktmLnJlc3BvbnNlPWksZS5LZi5yZXNwb25zZVRleHQ9aX1jYXRjaCh0KXtkLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgcmVjZWl2aW5nIHRoZSBtZXRhZGF0YVwiLHRoaXMubG9nZ2VySWQsZi5ocy5kaS5saSx7ZGV0YWlsZWRFcnJvcjp0LHVybDplLmVnKCl9KSxlLlJNJiYoZS5LZi5yZXNwb25zZVRleHQ9ZS5STSxlLktmLnJlc3BvbnNlPWUuUk0pfX0scy5wcm90b3R5cGUuQ009ZnVuY3Rpb24oZSl7dC5wcm90b3R5cGUuQ00uY2FsbCh0aGlzLGUpLGUuWGYoKSE9dS52Yy5nYyYmZS5YZigpIT11LnZjLkVjJiYodGhpcy5zTS5fTShlKSxlLlhmKCk9PXUudmMuZmMmJnRoaXMud00uVUQoZS56ZikpfSxzLnByb3RvdHlwZS5QTT1mdW5jdGlvbihlLHIpe3ZhciBpPWU7cmV0dXJuIGkuQU09aC5GcmFtZXdvcmsudGltZSgpLHQucHJvdG90eXBlLlBNLmNhbGwodGhpcyxpLHIpfSxzLnByb3RvdHlwZS50az1mdW5jdGlvbih0KXtpZihlLmZxKXtudWxsPT10aGlzLkRNLmdldCh0KSYmdGhpcy5ScS5pc0xpdmUoKT90aGlzLmtNKHQpOnRoaXMubG9nZ2VyLmRlYnVnKFwiSExTIFBSRS1GRVRDSElORyBNRVRBREFUQSBBTFJFQURZIFNDSEVEVUxFRCBPUiBNSVNTSU5HIEhMUyBJTkZPXCIpfX0scy5wcm90b3R5cGUua009ZnVuY3Rpb24odCl7dmFyIHI9dGhpczt0cnl7dmFyIGk9dGhpcy5ScS5PcS5nZXQodCk7aWYobnVsbCE9aSl7dmFyIG49dGhpcy5NTS5oYXModCkscz10aGlzLk1NLmdldCh0KSxvPW4/czowLGE9bnVsbCE9aS5OcT9pLk5xW2kuTnEubGVuZ3RoLTFdLmR1cmF0aW9uOmUucHEsYz1vK2EsdT1NYXRoLm1heCgxLGMtaC5GcmFtZXdvcmsudGltZSgpK2UuZHEpO3RoaXMubG9nZ2VyLmluZm8oXCJITFMgUFJFRkVUQ0hJTkcgTUVUQURBVEEgXCIraS55TStcIiBCSVRSQVRFIFwiK3QrXCIgSU4gXCIrdSk7dmFyIGw9aC5GcmFtZXdvcmsuc2V0VGltZW91dChmdW5jdGlvbigpe3IuRk0odCxpLnlNLGguRnJhbWV3b3JrLnRpbWUoKSl9LHUpO3RoaXMuRE0uc2V0KHQsbCl9ZWxzZSB0aGlzLmxvZ2dlci53YXJuKFwiTk8gU1RSRUFNIFdJVEggQlQgXCIrdCl9Y2F0Y2goZSl7ZC5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIHNjaGVkdWxpbmcgbWV0YWRhdGEgcHJlZmV0Y2hcIix0aGlzLmxvZ2dlcklkLGYuaHMuZGkucGksZSl9fSxzLnByb3RvdHlwZS5GTT1mdW5jdGlvbihlLHQscil7dmFyIGk9dGhpcy5NTS5nZXQoZSk7aWYobnVsbD09aSYmKGk9MCksaT5yKXRoaXMua00oZSk7ZWxzZXt2YXIgbj1uZXcgYy5IaXZlUmVxdWVzdCh0aGlzLnRpY2tldC5zZXNzaW9uSWQpO24ub3BlbihcIkdFVFwiLHQpLG4uaW50ZXJuYWw9ITAsbi5zZW5kKCksdGhpcy5ETS5kZWxldGUoZSksdGhpcy5NTS5zZXQoZSxoLkZyYW1ld29yay50aW1lKCkpfX0scy5wcm90b3R5cGUuTE09ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuRE0ua2V5cygpLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIHI9ZS5ETS5nZXQodCk7aC5GcmFtZXdvcmsuY2xlYXJUaW1lb3V0KHIpLGUuRE0uZGVsZXRlKHQpfSl9LHMucHJvdG90eXBlLmFrPWZ1bmN0aW9uKCl7cmV0dXJuIHQucHJvdG90eXBlLlRNLmNhbGwodGhpcyxlLmNxLGUudXEpfSxzLnByb3RvdHlwZS5uaz1mdW5jdGlvbihlKXt0cnl7dmFyIHQ9ZS51cmwscj10aGlzLlJxLnZNKHQpO3JldHVybiBudWxsIT1yP3RoaXMuRU0oci55TSk6bnVsbH1jYXRjaChlKXtyZXR1cm4gZC5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIGdldHRpbmcgdGhlIG5leHQgZW50aXR5XCIsdGhpcy5sb2dnZXJJZCxmLmhzLmRpLnhyLGUpLG51bGx9fSxzLnByb3RvdHlwZS5kaz1mdW5jdGlvbihlLHQscixpKXtyZXR1cm4gci1lfSxzLnByb3RvdHlwZS5waz1mdW5jdGlvbigpe3JldHVybiBlLmxxfSxzLnByb3RvdHlwZS54TT1mdW5jdGlvbigpe3JldHVybiBlLmdxfSxzLnByb3RvdHlwZS5saz1mdW5jdGlvbihlLHQpe3RyeXt2YXIgcj10aGlzLlBEKCksaT10aGlzLkJNKCksbj1yLkFfKCkscz0wO2lmKGU+bilmb3IodmFyIG89dGhpcy5ScS5xTShuLHQpO28mJm8uaWQ8ZTspcys9by5kdXJhdGlvbix0aGlzLmxvZ2dlci5kZWJ1ZyhcIlNlZ21lbnQgZHVyYXRpb24gXCIrby5kdXJhdGlvbitcIiB0b3RhbCBtc2VjIFwiK3MrXCJzZWdtZW50IGlkIFwiK28uaWQpLG89by5uZXh0O3ZhciBhPWguRnJhbWV3b3JrLnRpbWUoKS1pO3JldHVybiBNYXRoLm1heCgwLHMtYSl9Y2F0Y2goZSl7cmV0dXJuIGQuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBnZXR0aW5nIHRoZSBkaXN0YW5jZSBkdXJhdGlvblwiLHRoaXMubG9nZ2VySWQsZi5ocy5kaS5LcixlKSwwfX0sc30ocy5HTSk7ZS5EcT1nfSh0LmJxfHwodC5icT17fSkpfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9cigzKSxuPXIoNCkscz1yKDApLG89cig4OSksYT1yKDYyKSxoPXIoOTApLGM9cigxKSx1PXIoMiksbD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLmxvZ2dlcklkPVwiW0xJVkUgQ0FDSEVdIFwiLHRoaXMua3E9bmV3IGksdGhpcy5McT0tMSx0aGlzLk1xPVtdLHRoaXMubG9nZ2VyPXMuRnJhbWV3b3JrLnJlc29sdmUocy5GcmFtZXdvcmsuVi5SKS5sb2coKX1yZXR1cm4gZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbihlLHQpe3RoaXMuRnE9ZSx0aGlzLlVxPXR9LGUucHJvdG90eXBlLnB1dD1mdW5jdGlvbihlKXt2YXIgdD1uLmRlZmVyKCk7dHJ5e3ZhciByPWUuWmYoKSxpPWUucmVzcG9uc2VIZWFkZXJzLHM9ZS5qZixsPWUucWYuUGYtMSxwPWUucWYuUGY7LTE9PXRoaXMuTHEmJnRoaXMuQnEoKTt2YXIgZD1udWxsLGY9ITE7aWYodGhpcy5rcS5oYXMocikpe2Q9dGhpcy5rcS5nZXQocik7dmFyIGc9bmV3IGEuRkYoMCxsLHApO2Y9ITAsZC5jb250ZW50LmZvckVhY2goZnVuY3Rpb24oZSx0KXtpZihhLkhGLkJGKHQpLk1GKGcpKXJldHVybiB2b2lkKGY9ITEpfSl9ZWxzZXt2YXIgRT1uZXcgYS5GRigwLGwscCkudG9TdHJpbmcoKTtkPW5ldyBoLkhxKGUuemYpLGUueHEmJihkLnFxPWUueHEuRWsucGVlckluZm8pLGQuY29udGVudC5zZXQoRSxuZXcgby5HcShwLHMsZS5xZixlLkpmKCkpKSx0aGlzLmtxLnNldChyLGQpLGY9ITAsdGhpcy5NcS51bnNoaWZ0KHIpfW51bGw9PWQuaGVhZGVycyYmbnVsbCE9aSYmKGQuaGVhZGVycz1pKSx0LnJlc29sdmUoZil9Y2F0Y2goZSl7Yy5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIGFkZGluZyBmcmFnbWVudCBpbiBMaXZlQ2FjaGVcIix0aGlzLmxvZ2dlcklkLHUuaHMudXQuaXQsZSksdC5yZWplY3QoXCJDQUNIRSBQVVQgRVJST1IgXCIrZSl9cmV0dXJuIHQuU3N9LGUucHJvdG90eXBlLmdldD1mdW5jdGlvbihlKXt2YXIgdD1uLmRlZmVyKCk7dHJ5e3ZhciByPXRoaXMua3EuZ2V0KGUpO2lmKG51bGwhPXIpe3ZhciBpPW51bGw7ci5jb250ZW50LmZvckVhY2goZnVuY3Rpb24oZSx0KXtpZihhLkhGLkJGKHQpLmtGKCkpcmV0dXJuIGk9ZSxpLmhlYWRlcnM9ci5oZWFkZXJzLHZvaWQoaS5xcT1yLnFxKX0pLHQucmVzb2x2ZShpKX1lbHNlIHQucmVzb2x2ZShudWxsKX1jYXRjaChlKXtjLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgZ2V0dGluZyBmcmFnbWVudCBmcm9tIExpdmVDYWNoZVwiLHRoaXMubG9nZ2VySWQsdS5ocy51dC5udCxlKSx0LnJlamVjdChcIkNBQ0hFIEdFVCBFUlJPUiBcIitlKX1yZXR1cm4gdC5Tc30sZS5wcm90b3R5cGUuaWs9ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiB0aGlzLmtxLmtleXMoKX1jYXRjaChlKXtyZXR1cm4gYy5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIGdldHRpbmcga2V5cyBmcm9tIExpdmVDYWNoZVwiLHRoaXMubG9nZ2VySWQsdS5ocy51dC5vdCxlKSxbXX19LGUucHJvdG90eXBlLlZxPWZ1bmN0aW9uKGUpe3ZhciB0PW4uZGVmZXIoKTt0cnl7dC5yZXNvbHZlKHRoaXMua3EudmFsdWVzKCkpfWNhdGNoKGUpe2MuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBnZXR0aW5nIGVsZW1lbnRzIGZyb20gTGl2ZUNhY2hlXCIsdGhpcy5sb2dnZXJJZCx1LmhzLnV0LmF0LGUpLHQucmVqZWN0KFwiQ0FDSEUgR0VUIEVMRU1FTlRTIEVSUk9SIFwiK2UpfXJldHVybiB0LlNzfSxlLnByb3RvdHlwZS5jb250YWlucz1mdW5jdGlvbihlKXt2YXIgdD1uLmRlZmVyKCk7dHJ5e3RoaXMua3EuaGFzKGUpP3QucmVzb2x2ZSghMCk6dC5yZXNvbHZlKCExKX1jYXRjaChlKXtjLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgY2hlY2tpbmcgaWYgTGl2ZUNhY2hlIGNvbnRhaW5zIHRoZSBmcmFnbWVudFwiLHRoaXMubG9nZ2VySWQsdS5ocy51dC5zdCxlKSx0LnJlamVjdChcIkNBQ0hFIENPTlRBSU5TIEVSUk9SIFwiK2UpfXJldHVybiB0LlNzfSxlLnByb3RvdHlwZS5CcT1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5qcSgpLHRoaXMubG9nZ2VyLmRlYnVnKHRoaXMubG9nZ2VySWQrXCJTdGFydGluZyBjYWNoZSBwZXJpb2RpYyBwdXJnZVwiKSx0aGlzLkxxPXMuRnJhbWV3b3JrLnNldEludGVydmFsKGZ1bmN0aW9uKCl7ZS5tKCl9LHRoaXMuVXEpfSxlLnByb3RvdHlwZS5qcT1mdW5jdGlvbigpey0xIT10aGlzLkxxJiYodGhpcy5sb2dnZXIuZGVidWcodGhpcy5sb2dnZXJJZCtcIiBTdG9wcGluZyBjYWNoZSBwZXJpb2RpYyBwdXJnZVwiKSxzLkZyYW1ld29yay5jbGVhckludGVydmFsKHRoaXMuTHEpLHRoaXMuTHE9LTEpfSxlLnByb3RvdHlwZS5tPWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0cnl7dmFyIHQ9MCxyPTAsaT0wO3RoaXMubG9nZ2VyLmRlYnVnKHRoaXMubG9nZ2VySWQrXCIgUlVOTklORyBHQ1wiKSx0aGlzLk1xLmV2ZXJ5KGZ1bmN0aW9uKGksbil7dmFyIHM9ZS5rcS5nZXQoaSkuc2l6ZSgpO3JldHVybiB0K3M+ZS5GcT8ocj1uLCExKToodCs9cywhMCl9KXx8KGk9dGhpcy5NcS5sZW5ndGgtcix0aGlzLk1xLnNwbGljZShyLHRoaXMuTXEubGVuZ3RoLTEpLmZvckVhY2goZnVuY3Rpb24odCl7ZS5rcS5kZWxldGUodCl9KSksdGhpcy5sb2dnZXIuZGVidWcodGhpcy5sb2dnZXJJZCtcIiBHQyBET05FIC0gUkVNT1ZFRDogXCIraStcIiAtIENVUlJFTlQgSVRFTVM6IFwiK3RoaXMua3EubGVuZ3RoK1wiIFNJWkU6IFwiK3QrXCIgXCIpLDA9PT10aGlzLmtxLmxlbmd0aCYmKHRoaXMubG9nZ2VyLmRlYnVnKHRoaXMubG9nZ2VySWQrXCIgQ2FjaGUgY29udGFpbnMgbm8gaXRlbXMsIHN0b3BwaW5nIHB1cmdlIHRpbWVyXCIpLHRoaXMuanEoKSl9Y2F0Y2goZSl7Yy5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIHB1cmdpbmcgTGl2ZUNhY2hlXCIsdGhpcy5sb2dnZXJJZCx1LmhzLnV0LmN0LGUpfX0sZS5wcm90b3R5cGUuUXE9ZnVuY3Rpb24oKXt0aGlzLmtxPW5ldyBpLHRoaXMuTXE9W119LGUucHJvdG90eXBlLktxPWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLmtxLmZvckVhY2goZnVuY3Rpb24odCxyKXtlLmxvZ2dlci5kZWJ1ZyhcIkVJRD1cIityKSx0LmNvbnRlbnQuZm9yRWFjaChmdW5jdGlvbih0LHIpe2UubG9nZ2VyLmRlYnVnKFwiXFx0UkFOR0UgXCIscil9KX0pfSxlfSgpO3QuWXE9bH0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQscixpKXt0aGlzLmxlbmd0aD1lLHRoaXMuZGF0YT10LHRoaXMucWY9cix0aGlzLldxPWl9cmV0dXJuIGV9KCk7dC5HcT1pfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9cig2Miksbj1yKDMpLHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMuaGVhZGVycz1udWxsLHRoaXMucXE9bnVsbCx0aGlzLnRvdGFsU2l6ZT0wLHRoaXMuenE9ITEsdGhpcy56Zj1lLHRoaXMuY29udGVudD1uZXcgbn1yZXR1cm4gZS5wcm90b3R5cGUuc2l6ZT1mdW5jdGlvbigpe3ZhciBlPTA7cmV0dXJuIHRoaXMuY29udGVudC5mb3JFYWNoKGZ1bmN0aW9uKHQscil7ZSs9aS5IRi5CRihyKS5zaXplKCl9KSxlfSxlfSgpO3QuSHE9c30sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiOyFmdW5jdGlvbihlKXtlW2UuSnE9MF09XCJBTExcIixlW2UuQVM9MV09XCJBU1wiLGVbZS5uRD0yXT1cIlNJVEVcIn0odC5YcXx8KHQuWHE9e30pKX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXIoMCksbj1yKDI1KSxzPXIoNSksbz1yKDEwKSxhPXIoNCksaD1yKDMpLGM9cig1OSksdT1yKDE3MSksbD1yKDEpLHA9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5acT0hMSx0aGlzLmxvZ2dlcklkPVwiW1VEUExlYWRlckVsZWN0aW9uXSBcIix0aGlzLk5nPWkuRnJhbWV3b3JrLnJlc29sdmUoaS5GcmFtZXdvcmsuVi5GKSx0aGlzLiRxPW5ldyBoLHRoaXMuZUc9bmV3IGgsdGhpcy50Rz1uZXcgaCx0aGlzLnJHPW5ldyBoLHRoaXMuaUc9bmV3IGgsdGhpcy5uRz1bXX1yZXR1cm4gZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbihlKXt0aGlzLnNHPWUsdGhpcy5sb2dnZXI9aS5GcmFtZXdvcmsucmVzb2x2ZShpLkZyYW1ld29yay5WLlIpLmxvZyhlLnNlc3Npb25JZCksdGhpcy55RD1lLnlELHRoaXMub0c9ZS5vRyx0aGlzLm1EPWUubUR9LGUucHJvdG90eXBlLmFHPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxpPWEuZGVmZXIoKTt0cnl7aWYodGhpcy5acSl7dmFyIG49bnVsbDtlLnByaXZhdGVJcFN0cmluZyYmKG49ZS5wcml2YXRlSXBTdHJpbmcpO3ZhciBzPW5ldyB1LmhHKGUuZ3VpZCxlLnJhbmtWYWx1ZSxuLGUuaXNMZWFkZXIpO2lmKHRoaXMuJHEuaGFzKHMudXVpZCkpe3ZhciBvPXRoaXMuJHEuZ2V0KHMudXVpZCk7by51ZHBTY29yZT09cy51ZHBTY29yZSYmby5jRz09cy5jRz9pLnJlc29sdmUoKToodGhpcy4kcS5zZXQocy51dWlkLHMpLHRoaXMudUcoKSx0aGlzLmxHKHMpLnRoZW4oZnVuY3Rpb24oKXtpLnJlc29sdmUoKX0pLmZhaWwoZnVuY3Rpb24oZSl7ci4kcS5kZWxldGUocy51dWlkKSxyLnVHKCksaS5yZWplY3QoZSl9KSl9ZWxzZSB0PyhzLnBHPXQsdGhpcy5sb2dnZXIuaW5mbyh0aGlzLmxvZ2dlcklkK1wiIE5FVyBNRU1CRVIgR1VJRCBcIitzLnV1aWQrXCIgUkFOS0lORyBcIitzLnVkcFNjb3JlK1wiIExFQURFUiBcIitzLmNHKSx0aGlzLiRxLnNldChzLnV1aWQscyksdGhpcy51RygpLHRoaXMubEcocykudGhlbihmdW5jdGlvbigpe3IuZEcoci4kcS5nZXQocy51dWlkKSksaS5yZXNvbHZlKCl9KS5mYWlsKGZ1bmN0aW9uKGUpe3IuJHEuZGVsZXRlKHMudXVpZCksci51RygpLGkucmVqZWN0KGUpfSkpOnRoaXMuZkcocykudGhlbihmdW5jdGlvbihlKXtzLnBHPWUsci5sb2dnZXIuaW5mbyhyLmxvZ2dlcklkK1wiIE5FVyBNRU1CRVIgR1VJRCBcIitzLnV1aWQrXCIgUkFOS0lORyBcIitzLnVkcFNjb3JlK1wiIExFQURFUiBcIitzLmNHKSxyLiRxLnNldChzLnV1aWQscyksci51RygpLHIubEcocykudGhlbihmdW5jdGlvbigpe2kucmVzb2x2ZSgpfSkuZmFpbChmdW5jdGlvbihlKXtyLiRxLmRlbGV0ZShzLnV1aWQpLHIudUcoKSxpLnJlamVjdChlKX0pfSkuZmFpbChmdW5jdGlvbihlKXtpLnJlamVjdChlKX0pfWVsc2UgaS5yZWplY3QoXCJMRUFERVIgRUxFQ1RJT04gTk9UIFNUQVJURUQgWUVUXCIpfWNhdGNoKGUpe2kucmVqZWN0KFwiVFJJR0dFUiBMRUFERVIgRUxFQ1RJT04gRVJST1IgXCIrZSl9cmV0dXJuIGkuU3N9LGUucHJvdG90eXBlLmRHPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBvLmJjKG8uVGMuVyxudWxsKTt0Lmd1aWQ9ZS51dWlkLHQuaXNMZWFkZXI9ZS5jRyx0LnJhbmtWYWx1ZT1lLnVkcFNjb3JlO3ZhciByPVt0XTt0aGlzLm9HLmdHKHIsITEpfSxlLnByb3RvdHlwZS5mRz1mdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9YS5kZWZlcigpO3JldHVybiB0aGlzLnJHLmhhcyhlLnV1aWQpfHx0aGlzLnRHLmhhcyhlLnV1aWQpP3IucmVqZWN0KGQuRUcpOih0aGlzLnJHLnNldChlLnV1aWQsRGF0ZS5ub3coKSksdGhpcy5OZy5jb25uZWN0KGUudXVpZCkudGhlbihmdW5jdGlvbihpKXt2YXIgbj1pLlBnLndnKHQuc0cuc3dhcm1JZCk7bnVsbD09bj8obj1pLlBnLlRnKHQuc0cuc3dhcm1JZCksdC52RyhuKS50aGVuKGZ1bmN0aW9uKCl7ci5yZXNvbHZlKGkpfSkuZmFpbChmdW5jdGlvbihlKXtyLnJlamVjdChlKX0pLmRvbmUoKSk6dC5pRy5nZXQoZS51dWlkKT9yLnJlc29sdmUoaSk6KHQuckcuZGVsZXRlKGUudXVpZCksdC52RyhuKS50aGVuKGZ1bmN0aW9uKCl7ci5yZXNvbHZlKGkpfSkuZmFpbChmdW5jdGlvbihlKXtyLnJlamVjdChlKX0pLmRvbmUoKSl9KS5mYWlsKGZ1bmN0aW9uKGkpe3QuckcuZGVsZXRlKGUudXVpZCksci5yZWplY3QoaSl9KS5kb25lKCkpLHIuU3N9LGUucHJvdG90eXBlLnZHPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1hLmRlZmVyKCksbz1uZXcgbi5SZi5GYS5KZy5VRFBIYW5kc2hha2VNZXNzYWdlO28udXVpZD10aGlzLnlHLnV1aWQsby51ZHBTY29yZT10aGlzLnlHLnVkcFNjb3JlLG8uaXNMZWFkZXI9dGhpcy55Ry5jRyxvLnN0cmVhbUlkPXRoaXMueUcuc3RyZWFtSWQsdGhpcy5sb2dnZXIuZGVidWcodGhpcy5sb2dnZXJJZCtcIk1TRyB1dWlkIFwiK28udXVpZCtcIiByYW5rVmFsdWUgXCIrby51ZHBTY29yZStcIiBpc0xlYWRlciBcIitvLmlzTGVhZGVyK1wiIHN0cmVhbSBpZCBcIitvLnN0cmVhbUlkKTt2YXIgaD1pLkZyYW1ld29yay5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5URyhlLm90aGVyR3VpZCl9LHMuaGguVURQQnJvYWRjYXN0LkdhKTtyZXR1cm4gdGhpcy50Ry5zZXQoZS5vdGhlckd1aWQse21HOmgsZGVmZXI6cn0pLGUuTGcobi5SZi5FZy5kZyxvKSxyLlNzfSxlLnByb3RvdHlwZS5URz1mdW5jdGlvbihlKXtpZih0aGlzLnRHLmhhcyhlKSl7dGhpcy5sb2dnZXIuZGVidWcodGhpcy5sb2dnZXJJZCtcIiBIQU5EU0hBS0UgUkVRIEVYUElSRUQgVE8gXCIrZSk7dmFyIHQ9dGhpcy50Ry5nZXQoZSk7dGhpcy50Ry5kZWxldGUoZSksdC5kZWZlci5yZWplY3QoXCJFWFBJUkVEXCIpfX0sZS5wcm90b3R5cGUuSUc9ZnVuY3Rpb24oZSx0KXt0cnl7dGhpcy5sb2dnZXIuZGVidWcodGhpcy5sb2dnZXJJZCtcIkhBTkRTSEFLRSBSRVNQIFJFQ0VJVkVEIEZST00gXCIrdC5vdGhlckd1aWQpO3ZhciByPXQub3RoZXJHdWlkLG49dGhpcy50Ry5nZXQocik7aS5GcmFtZXdvcmsuY2xlYXJUaW1lb3V0KG4ubUcpLHRoaXMudEcuZGVsZXRlKHIpLG4uZGVmZXIucmVzb2x2ZSh0KX1jYXRjaChlKXtsLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiSEFORFNIQUtFIFJFU1BPTlNFIFJFQ0VJVkVEIEZBSUxFRFwiLHRoaXMubG9nZ2VySWQsZSl9fSxlLnByb3RvdHlwZS5TRz1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7dHJ5e3ZhciBpPW5ldyBvLmJjKG8uVGMuVyxudWxsLGUuaXNMZWFkZXIpO2lmKGkuZ3VpZD1lLnV1aWQsaS5yYW5rVmFsdWU9ZS51ZHBTY29yZSxlLnN0cmVhbUlkPT09dGhpcy55RC5nZXRDb250ZXh0SWQoKSl7dmFyIG49dC5QZy53Zyh0aGlzLnNHLnN3YXJtSWQpO3RoaXMuaUcuc2V0KGUudXVpZCxlLnV1aWQpLHRoaXMuUkcobixcIk9LXCIpLHRoaXMuYUcoaSx0KS50aGVuKGZ1bmN0aW9uKCl7fSkuZmFpbChmdW5jdGlvbihlKXtsLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiTEVBREVSIEVMRUNUSU9OIEZBSUxFRFwiLHIubG9nZ2VySWQsZSl9KX19Y2F0Y2goZSl7bC5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkhBTkRTSEFLRSBSRVFVRVNUIEZBSUxFRFwiLHRoaXMubG9nZ2VySWQsZSl9fSxlLnByb3RvdHlwZS5SRz1mdW5jdGlvbihlLHQpe3ZhciByPW5ldyBuLlJmLkZhLkpnLlVEUEhhbmRzaGFrZVJlc3BvbnNlO3IuYWNjZXB0PXQsZS5MZyhuLlJmLkVnLlVEUEhhbmRzaGFrZVJlc3BvbnNlLHIpLHRoaXMubG9nZ2VyLmRlYnVnKHRoaXMubG9nZ2VySWQrXCJTRU5EIEhBTkRTSEFLRSBSRVNQT05TRSBUTyBcIitlLm90aGVyR3VpZCl9LGUucHJvdG90eXBlLmxHPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1hLmRlZmVyKCk7aWYodGhpcy53RygpKXt2YXIgaT0hMTt0aGlzLmxvZ2dlci5pbmZvKHRoaXMubG9nZ2VySWQrXCJJIEhBVkUgVEhFIEhJR0hFU1QgU0NPUkVcIiksZS5jRyYmIXRoaXMuZUcuaGFzKGUudXVpZCkmJihpPSEwLHRoaXMubG9nZ2VyLmluZm8odGhpcy5sb2dnZXJJZCtcIlNFTkQgU1dJVENIIFJFUVVFU1QgVE8gXCIrZS51dWlkKSx0aGlzLmJHKGUpLnRoZW4oZnVuY3Rpb24oKXtyLnJlc29sdmUoKX0pLmZhaWwoZnVuY3Rpb24oZSl7Mz09ZS5DRz8odC5sb2dnZXIuZGVidWcodC5sb2dnZXJJZCtcIiBTV0lUQ0ggUkVRVUVTVCBXQVMgQ0FOQ0VMRUQuXCIpLHIucmVzb2x2ZSgpKTooZS5DRz0yKSYmci5yZWplY3QoZSl9KSksdGhpcy55Ry5jR3x8bnVsbD09dGhpcy5fR3x8dGhpcy5fRy51dWlkPT1lLnV1aWR8fHRoaXMuZUcuaGFzKHRoaXMuX0cudXVpZCl8fCh0aGlzLmxvZ2dlci5pbmZvKFwiU0VORCBTV0lUQ0ggUkVRVUVTVCBUTyBUSEUgQUxSRUFEWSBLTk9XTiBMRUFERVJcIiksaT0hMCx0aGlzLmJHKHRoaXMuX0cpLnRoZW4oZnVuY3Rpb24oKXtyLnJlc29sdmUoKX0pLmZhaWwoZnVuY3Rpb24oZSl7Mz09ZS5DRz8odC5sb2dnZXIuZGVidWcodC5sb2dnZXJJZCtcIiBTV0lUQ0ggUkVRVUVTVCBXQVMgQ0FOQ0VMRUQuXCIpLHIucmVzb2x2ZSgpKTooZS5DRz0yKSYmci5yZWplY3QoZSl9KSksbnVsbCE9dGhpcy5fR3x8ZS5jR3x8dGhpcy55Ry5jR3x8MCE9dGhpcy5lRy5sZW5ndGh8fCh0aGlzLmxvZ2dlci5pbmZvKHRoaXMubG9nZ2VySWQrXCJCRUNPTUUgTEVBREVSXCIpLHRoaXMuUEcoKSksaXx8ci5yZXNvbHZlKCl9ZWxzZSB0aGlzLkFHKGUpPyh0aGlzLmxvZ2dlci5pbmZvKHRoaXMubG9nZ2VySWQrXCJQRUVSIFwiK2UudXVpZCtcIiBIQVMgVEhFIEhJR0hFU1QgU0NPUkVcIiksdGhpcy5PRygpLHRoaXMueUcuY0cmJmUuY0cmJnRoaXMuc3RlcERvd24oKSx0aGlzLk5HKGUpLHIucmVzb2x2ZSgpKTpyLnJlc29sdmUoKTtyZXR1cm4gci5Tc30sZS5wcm90b3R5cGUuTkc9ZnVuY3Rpb24oZSl7dHJ5e3RoaXMubG9nZ2VyLmluZm8odGhpcy5sb2dnZXJJZCtcIlVQREFURSBUSEUgTEVBREVSU0hJUFwiKSxudWxsIT10aGlzLl9HJiZ0aGlzLiRxLmhhcyh0aGlzLl9HLnV1aWQpJiYodGhpcy4kcS5nZXQodGhpcy5fRy51dWlkKS5jRz0hMSksdGhpcy4kcS5oYXMoZS51dWlkKT8odGhpcy4kcS5nZXQoZS51dWlkKS51ZHBTY29yZT1lLnVkcFNjb3JlLHRoaXMuX0c9ZSx0aGlzLiRxLmdldChlLnV1aWQpLmNHPSEwKToodGhpcy5sb2dnZXIud2Fybih0aGlzLmxvZ2dlcklkK1wiU0VUIEEgTEVBREVSIFRIQVQgSVMgTk9UIEEgTEFOIE1FTUJFUiBMSVNULiBTSE9VTEQgTkVWRVIgSEFQUEVOXCIpLHRoaXMuJHEuc2V0KGUudXVpZCxlKSx0aGlzLl9HPWUpLHRoaXMueUQuREcoZSksdGhpcy5sb2dnZXIuaW5mbyh0aGlzLmxvZ2dlcklkK1wiTkVXIEtOT1dOIExFQURFUiBcIit0aGlzLnlELlJrKCkudXVpZCl9Y2F0Y2goZSl7bC5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihlLHRoaXMubG9nZ2VySWQpfX0sZS5wcm90b3R5cGUuc3RlcERvd249ZnVuY3Rpb24oKXt0aGlzLmxvZ2dlci5pbmZvKHRoaXMubG9nZ2VySWQrXCJTVEVQIERPV05cIiksdGhpcy55Ry5jRz0hMSx0aGlzLnlELmtHKCExKSxzLmhoLmZhLmlhJiYodGhpcy5tRC5MRygpLHRoaXMubUQuTUcoITEpKX0sZS5wcm90b3R5cGUuT0c9ZnVuY3Rpb24oKXtmb3IodmFyIGU9dGhpcy5lRy5rZXlzKCksdD0wLHI9ZTt0PHIubGVuZ3RoO3QrKyl7dmFyIG49clt0XSxzPXRoaXMuZUcuZ2V0KG4pO3RoaXMuZUcuZGVsZXRlKG4pLGkuRnJhbWV3b3JrLmNsZWFyVGltZW91dChzLm1HKSxzLmRlZmVyLnJlamVjdCh7Q0c6MyxtZXNzYWdlOlwiQ0FOQ0VMRUQgUEVORElORyBSRVNQT05TRVNcIn0pfX0sZS5wcm90b3R5cGUuQUc9ZnVuY3Rpb24oZSl7cmV0dXJuIGUudXVpZD09dGhpcy5uR1swXS51dWlkfSxlLnByb3RvdHlwZS53Rz1mdW5jdGlvbigpe3JldHVybiB1LmhHLkpFKHRoaXMueUcsdGhpcy5uR1swXSk8MH0sZS5wcm90b3R5cGUudUc9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgYyh0aGlzLiRxLnZhbHVlcygpKSx0PWUuRmModS5oRy5KRSk7ZS5wdXNoKHRoaXMueUcpLHRoaXMueUQuRkcodCk7dmFyIHI9bmV3IGModGhpcy4kcS52YWx1ZXMoKSk7dGhpcy5uRz1yLkZjKHUuaEcuSkUpfSxlLnByb3RvdHlwZS5VRz1mdW5jdGlvbihlKXt0aGlzLkJHKGUpfSxlLnByb3RvdHlwZS5CRz1mdW5jdGlvbihlKXt0aGlzLmxvZ2dlci5pbmZvKHRoaXMubG9nZ2VySWQrXCJFVkFMVUFURSBUSEUgU1dJVENIIFJFUVVFU1QgRlJPTSBcIitlLnV1aWQpO3ZhciB0PXZvaWQgMDt0aGlzLiRxLmhhcyhlLnV1aWQpP3Q9dGhpcy4kcS5nZXQoZS51dWlkKTp0aGlzLmxvZ2dlci53YXJuKFwiSSBSRUNFSVZFRCBBIFNXSVRDSCBSRVFVRVNUIEZST00gQU4gVU5LTk9XTiBNRU1CRVIuIFRISVMgU0hPVUxEIE5FVkVSIEhBUFBFTlwiKSx0JiYodGhpcy55Ry5jRz90aGlzLndHKCk/dGhpcy5IRyh0LCExKToodGhpcy5zdGVwRG93bigpLHRoaXMuT0coKSx0aGlzLk5HKHQpLHRoaXMuSEcodCwhMCkpOnRoaXMuQUcodCk/KHRoaXMuTkcodCksdGhpcy5IRyh0LCEwKSk6dGhpcy5IRyh0LCExKSl9LGUucHJvdG90eXBlLkhHPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpczt0aGlzLnhHKGUucEcsdCkudGhlbihmdW5jdGlvbigpe30pLmZhaWwoZnVuY3Rpb24oZSl7bC5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIlNFTkQgU1dJVENIIFJFU1BPTlNFIEVSUk9SXCIsci5sb2dnZXJJZCxlKX0pLmRvbmUoKX0sZS5wcm90b3R5cGUueEc9ZnVuY3Rpb24oZSx0KXt2YXIgcj1hLmRlZmVyKCksaT1uZXcgbi5SZi5GYS5KZy5VRFBTd2l0Y2hMZWFkZXJzaGlwQWNrO3JldHVybiBpLm9rPXQsZS5QZy53Zyh0aGlzLnNHLnN3YXJtSWQpLkxnKG4uUmYuRWcuZmcsaSksci5Tc30sZS5wcm90b3R5cGUuYkc9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWEuZGVmZXIoKTtyZXR1cm4gdGhpcy5xRyhlLnBHKS50aGVuKGZ1bmN0aW9uKGkpe3QuR0coaSxlKSxyLnJlc29sdmUoKX0pLmZhaWwoZnVuY3Rpb24oZSl7ci5yZWplY3QoZSl9KS5kb25lKCksci5Tc30sZS5wcm90b3R5cGUuR0c9ZnVuY3Rpb24oZSx0KXt0cnl7ZT8odGhpcy4kcS5nZXQodC51dWlkKS5jRz0hMSx0aGlzLl9HPXRoaXMueUcsdGhpcy5QRygpKToodGhpcy5PRygpLHRoaXMuJHEuZ2V0KHQudXVpZCkuY0c9ITAsdGhpcy5zdGVwRG93bigpLHRoaXMuTkcodCkpfWNhdGNoKGUpe2wuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJIQU5ETEUgTEVBREVSU0hJUCBTV0lUQ0ggUkVTUE9OU0UgRVJST1JcIix0aGlzLmxvZ2dlcklkLGUpfX0sZS5wcm90b3R5cGUuVkc9ZnVuY3Rpb24oZSx0KXtpZih0aGlzLmVHLmhhcyh0KSl7dmFyIHI9dGhpcy5lRy5nZXQodCk7aS5GcmFtZXdvcmsuY2xlYXJUaW1lb3V0KHIubUcpLHRoaXMuZUcuZGVsZXRlKHQpLHIuZGVmZXIucmVzb2x2ZShlLm9rKX1lbHNlIHRoaXMubG9nZ2VyLndhcm4odGhpcy5sb2dnZXJJZCtcIiBTV0lUQ0ggTEVBREVSU0hJUCBSRVNQT05TRSBSRUNFSVZFRCBGUk9NIFVOS05PV04gUEVFUiBcIit0KX0sZS5wcm90b3R5cGUucUc9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWEuZGVmZXIoKSxvPW5ldyBuLlJmLkZhLkpnLlVEUFN3aXRjaExlYWRlcnNoaXBSZXF1ZXN0O28udXVpZD10aGlzLnlHLnV1aWQsby51ZHBTY29yZT10aGlzLnlHLnVkcFNjb3JlLHRoaXMubG9nZ2VyLmRlYnVnKHRoaXMubG9nZ2VySWQrXCJTV0lUQ0ggTEVBREVSU0hJUCBSRVFVRVNUIFRPIFwiK2Uub3RoZXJHdWlkKTt2YXIgaD1pLkZyYW1ld29yay5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5qRyhlLm90aGVyR3VpZCl9LHMuaGguVURQQnJvYWRjYXN0LnFhKTt0aGlzLmVHLnNldChlLm90aGVyR3VpZCx7bUc6aCxkZWZlcjpyfSk7dmFyIGM9ZS5QZy53Zyh0aGlzLnNHLnN3YXJtSWQpO3JldHVybiBpLkZyYW1ld29yay5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yy5MZyhuLlJmLkVnLlVEUFN3aXRjaExlYWRlcnNoaXBSZXF1ZXN0LG8pfSwxKSxyLlNzfSxlLnByb3RvdHlwZS5qRz1mdW5jdGlvbihlKXtpZih0aGlzLmVHLmhhcyhlKSl7dGhpcy5sb2dnZXIuaW5mbyh0aGlzLmxvZ2dlcklkK1wiIFNXSVRDSCBMRUFERVJTSElQIEVYUElSRUQgVE8gXCIrZSk7dmFyIHQ9dGhpcy5lRy5nZXQoZSk7dGhpcy5lRy5kZWxldGUoZSksdC5kZWZlci5yZWplY3Qoe0NHOjIsbWVzc2FnZTpcIkVYUElSRURcIn0pfX0sZS5wcm90b3R5cGUuUEc9ZnVuY3Rpb24oKXt0aGlzLmxvZ2dlci5pbmZvKHRoaXMubG9nZ2VySWQrXCJCRUNPTUlORyBMQU4gTEVBREVSXCIpLG51bGwhPXRoaXMuX0cmJnRoaXMuJHEuaGFzKHRoaXMuX0cudXVpZCkmJih0aGlzLiRxLmdldCh0aGlzLl9HLnV1aWQpLmNHPSExKSx0aGlzLnlHLmNHPSEwLHRoaXMuX0c9dGhpcy55Ryx0aGlzLnlELmtHKCEwKSx0aGlzLnlELkRHKHRoaXMueUcpLHMuaGguZmEuaWEmJih0aGlzLm1ELkxHKCksdGhpcy5tRC5NRyghMCkpfSxlLnByb3RvdHlwZS5VZD1mdW5jdGlvbihlKXt0aGlzLnlHPW5ldyB1LmhHKHRoaXMueUQuZ2V0SWQoKSx0aGlzLnlELlFHKCksXCJcIiwhMSx0aGlzLnlELmdldENvbnRleHRJZCgpKSx0aGlzLlpxPSEwLHRoaXMubG9nZ2VyLmluZm8odGhpcy5sb2dnZXJJZCtcIiBVRFAgTEVBREVSIEVMRUNUSU9OIFNUQVJURURcIil9LGUucHJvdG90eXBlLktHPWZ1bmN0aW9uKGUpe3RoaXMuJHEuZGVsZXRlKGUpLHRoaXMudUcoKSwwPT10aGlzLiRxLmxlbmd0aD8odGhpcy55Ry5jRz0hMSx0aGlzLl9HPW51bGwsdGhpcy55RC5rRyghMSksdGhpcy55RC5ZRyghMSksdGhpcy5tRC5MRygpLHRoaXMubUQuTUcoITEpKTp0aGlzLndHKCk/dGhpcy5QRygpOnRoaXMubkcubGVuZ3RoPjAmJnRoaXMuTkcodGhpcy5uR1swXSl9LGV9KCk7dC5XRz1wO3ZhciBkOyFmdW5jdGlvbihlKXtlW2Uuekc9MF09XCJGQUlMVVJFXCIsZVtlLkVHPTFdPVwiQUxSRUFEWV9QRU5ESU5HXCJ9KGQ9dC5KR3x8KHQuSkc9e30pKX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBpLG4sczsvKipcbiAqIEBsaWNlbnNlIExvbmcuanMgKGMpIDIwMTMgRGFuaWVsIFdpcnR6IDxkY29kZUBkY29kZS5pbz5cbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjBcbiAqIHNlZTogaHR0cHM6Ly9naXRodWIuY29tL2Rjb2RlSU8vTG9uZy5qcyBmb3IgZGV0YWlsc1xuICovXG4hZnVuY3Rpb24ocixvKXtuPVtdLGk9byx2b2lkIDAhPT0ocz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBpP2kuYXBwbHkodCxuKTppKSYmKGUuaT1zKX0oMCxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGUoZSx0LHIpe3RoaXMubG93PTB8ZSx0aGlzLmhpZ2g9MHx0LHRoaXMuRlA9ISFyfWUuWEcsT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiX19pc0xvbmdfX1wiLHt2YWx1ZTohMCxwOiExLGw6ITF9KSxlLlpHPWZ1bmN0aW9uKGUpe3JldHVybiEwPT09KGUmJmUuWEcpfTt2YXIgdD17fSxyPXt9O2UuTUU9ZnVuY3Rpb24oaSxuKXt2YXIgcyxvO3JldHVybiBuPzA8PShpPj4+PTApJiZpPDI1NiYmKG89cltpXSk/bzoocz1uZXcgZShpLCgwfGkpPDA/LTE6MCwhMCksMDw9aSYmaTwyNTYmJihyW2ldPXMpLHMpOi0xMjg8PShpfD0wKSYmaTwxMjgmJihvPXRbaV0pP286KHM9bmV3IGUoaSxpPDA/LTE6MCwhMSksLTEyODw9aSYmaTwxMjgmJih0W2ldPXMpLHMpfSxlLkRFPWZ1bmN0aW9uKHQscil7cmV0dXJuIHI9ISFyLGlzTmFOKHQpfHwhaXNGaW5pdGUodCk/ZS5aRVJPOiFyJiZ0PD0tcz9lLk1JTl9WQUxVRTohciYmdCsxPj1zP2UuTUFYX1ZBTFVFOnImJnQ+PW4/ZS4kRzp0PDA/ZS5ERSgtdCxyKS5xRSgpOm5ldyBlKHQlaXwwLHQvaXwwLHIpfSxlLnFJPWZ1bmN0aW9uKHQscixpKXtyZXR1cm4gbmV3IGUodCxyLGkpfSxlLmtFPWZ1bmN0aW9uKHQscixpKXtpZigwPT09dC5sZW5ndGgpdGhyb3cgRXJyb3IoXCJudW1iZXIgZm9ybWF0IGVycm9yOiBlbXB0eSBzdHJpbmdcIik7aWYoXCJOYU5cIj09PXR8fFwiSW5maW5pdHlcIj09PXR8fFwiK0luZmluaXR5XCI9PT10fHxcIi1JbmZpbml0eVwiPT09dClyZXR1cm4gZS5aRVJPO2lmKFwibnVtYmVyXCI9PXR5cGVvZiByJiYoaT1yLHI9ITEpLChpPWl8fDEwKTwyfHwzNjxpKXRocm93IEVycm9yKFwicmFkaXggb3V0IG9mIHJhbmdlOiBcIitpKTt2YXIgbjtpZigobj10LmluZGV4T2YoXCItXCIpKT4wKXRocm93IEVycm9yKCdudW1iZXIgZm9ybWF0IGVycm9yOiBpbnRlcmlvciBcIi1cIiBjaGFyYWN0ZXI6ICcrdCk7aWYoMD09PW4pcmV0dXJuIGUua0UodC5zdWJzdHJpbmcoMSkscixpKS5xRSgpO2Zvcih2YXIgcz1lLkRFKE1hdGgucG93KGksOCkpLG89ZS5aRVJPLGE9MDthPHQubGVuZ3RoO2ErPTgpe3ZhciBoPU1hdGgubWluKDgsdC5sZW5ndGgtYSksYz1wYXJzZUludCh0LnN1YnN0cmluZyhhLGEraCksaSk7aWYoaDw4KXt2YXIgdT1lLkRFKE1hdGgucG93KGksaCkpO289by5tdWx0aXBseSh1KS5hZGQoZS5ERShjKSl9ZWxzZSBvPW8ubXVsdGlwbHkocyksbz1vLmFkZChlLkRFKGMpKX1yZXR1cm4gby5GUD1yLG99LGUuZVY9ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBlP3Q6XCJudW1iZXJcIj09dHlwZW9mIHQ/ZS5ERSh0KTpcInN0cmluZ1wiPT10eXBlb2YgdD9lLmtFKHQpOm5ldyBlKHQubG93LHQuaGlnaCx0LkZQKX07dmFyIGk9NDI5NDk2NzI5NixuPWkqaSxzPW4vMixvPWUuTUUoMTw8MjQpO3JldHVybiBlLlpFUk89ZS5NRSgwKSxlLnRWPWUuTUUoMCwhMCksZS5PTkU9ZS5NRSgxKSxlLnJWPWUuTUUoMSwhMCksZS5pVj1lLk1FKC0xKSxlLk1BWF9WQUxVRT1lLnFJKC0xLDIxNDc0ODM2NDcsITEpLGUuJEc9ZS5xSSgtMSwtMSwhMCksZS5NSU5fVkFMVUU9ZS5xSSgwLC0yMTQ3NDgzNjQ4LCExKSxlLnByb3RvdHlwZS5rUD1mdW5jdGlvbigpe3JldHVybiB0aGlzLkZQP3RoaXMubG93Pj4+MDp0aGlzLmxvd30sZS5wcm90b3R5cGUublY9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5GUD8odGhpcy5oaWdoPj4+MCkqaSsodGhpcy5sb3c+Pj4wKTp0aGlzLmhpZ2gqaSsodGhpcy5sb3c+Pj4wKX0sZS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24odCl7aWYoKHQ9dHx8MTApPDJ8fDM2PHQpdGhyb3cgUmFuZ2VFcnJvcihcInJhZGl4IG91dCBvZiByYW5nZTogXCIrdCk7aWYodGhpcy5zVigpKXJldHVyblwiMFwiO3ZhciByO2lmKHRoaXMub1YoKSl7aWYodGhpcy5jcyhlLk1JTl9WQUxVRSkpe3ZhciBpPWUuREUodCksbj10aGlzLmFWKGkpO3JldHVybiByPW4ubXVsdGlwbHkoaSkuaFYodGhpcyksbi50b1N0cmluZyh0KStyLmtQKCkudG9TdHJpbmcodCl9cmV0dXJuXCItXCIrdGhpcy5xRSgpLnRvU3RyaW5nKHQpfXZhciBzPWUuREUoTWF0aC5wb3codCw2KSx0aGlzLkZQKTtyPXRoaXM7Zm9yKHZhciBvPVwiXCI7Oyl7dmFyIGE9ci5hVihzKSxoPXIuaFYoYS5tdWx0aXBseShzKSkua1AoKT4+PjAsYz1oLnRvU3RyaW5nKHQpO2lmKHI9YSxyLnNWKCkpcmV0dXJuIGMrbztmb3IoO2MubGVuZ3RoPDY7KWM9XCIwXCIrYztvPVwiXCIrYytvfX0sZS5wcm90b3R5cGUuY1Y9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oaWdofSxlLnByb3RvdHlwZS51Vj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmhpZ2g+Pj4wfSxlLnByb3RvdHlwZS5sVj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxvd30sZS5wcm90b3R5cGUucFY9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sb3c+Pj4wfSxlLnByb3RvdHlwZS5kVj1mdW5jdGlvbigpe2lmKHRoaXMub1YoKSlyZXR1cm4gdGhpcy5jcyhlLk1JTl9WQUxVRSk/NjQ6dGhpcy5xRSgpLmRWKCk7Zm9yKHZhciB0PTAhPXRoaXMuaGlnaD90aGlzLmhpZ2g6dGhpcy5sb3cscj0zMTtyPjAmJjA9PSh0JjE8PHIpO3ItLSk7cmV0dXJuIDAhPXRoaXMuaGlnaD9yKzMzOnIrMX0sZS5wcm90b3R5cGUuc1Y9ZnVuY3Rpb24oKXtyZXR1cm4gMD09PXRoaXMuaGlnaCYmMD09PXRoaXMubG93fSxlLnByb3RvdHlwZS5vVj1mdW5jdGlvbigpe3JldHVybiF0aGlzLkZQJiZ0aGlzLmhpZ2g8MH0sZS5wcm90b3R5cGUuZlY9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5GUHx8dGhpcy5oaWdoPj0wfSxlLnByb3RvdHlwZS5nVj1mdW5jdGlvbigpe3JldHVybiAxPT0oMSZ0aGlzLmxvdyl9LGUucHJvdG90eXBlLmZ2PWZ1bmN0aW9uKCl7cmV0dXJuIDA9PSgxJnRoaXMubG93KX0sZS5wcm90b3R5cGUuY3M9ZnVuY3Rpb24odCl7cmV0dXJuIGUuWkcodCl8fCh0PWUuZVYodCkpLCh0aGlzLkZQPT09dC5GUHx8dGhpcy5oaWdoPj4+MzEhPTF8fHQuaGlnaD4+PjMxIT0xKSYmKHRoaXMuaGlnaD09PXQuaGlnaCYmdGhpcy5sb3c9PT10Lmxvdyl9LGUuRVY9ZS5wcm90b3R5cGUuY3MsZS5wcm90b3R5cGUudlY9ZnVuY3Rpb24oZSl7cmV0dXJuIXRoaXMuY3MoZSl9LGUueVY9ZS5wcm90b3R5cGUudlYsZS5wcm90b3R5cGUuVFY9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuT2MoZSk8MH0sZS5wcm90b3R5cGUubVY9ZS5wcm90b3R5cGUuVFYsZS5wcm90b3R5cGUuU1Y9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuT2MoZSk8PTB9LGUucHJvdG90eXBlLlJWPWUucHJvdG90eXBlLlNWLGUucHJvdG90eXBlLndWPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLk9jKGUpPjB9LGUucHJvdG90eXBlLmJWPWUucHJvdG90eXBlLndWLGUucHJvdG90eXBlLkNWPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLk9jKGUpPj0wfSxlLnByb3RvdHlwZS5fVj1lLnByb3RvdHlwZS5DVixlLnByb3RvdHlwZS5PYz1mdW5jdGlvbih0KXtpZihlLlpHKHQpfHwodD1lLmVWKHQpKSx0aGlzLmNzKHQpKXJldHVybiAwO3ZhciByPXRoaXMub1YoKSxpPXQub1YoKTtyZXR1cm4gciYmIWk/LTE6IXImJmk/MTp0aGlzLkZQP3QuaGlnaD4+PjA+dGhpcy5oaWdoPj4+MHx8dC5oaWdoPT09dGhpcy5oaWdoJiZ0Lmxvdz4+PjA+dGhpcy5sb3c+Pj4wPy0xOjE6dGhpcy5oVih0KS5vVigpPy0xOjF9LGUucHJvdG90eXBlLnFFPWZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMuRlAmJnRoaXMuY3MoZS5NSU5fVkFMVUUpP2UuTUlOX1ZBTFVFOnRoaXMubm90KCkuYWRkKGUuT05FKX0sZS5wcm90b3R5cGUuUFY9ZS5wcm90b3R5cGUucUUsZS5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKHQpe2UuWkcodCl8fCh0PWUuZVYodCkpO3ZhciByPXRoaXMuaGlnaD4+PjE2LGk9NjU1MzUmdGhpcy5oaWdoLG49dGhpcy5sb3c+Pj4xNixzPTY1NTM1JnRoaXMubG93LG89dC5oaWdoPj4+MTYsYT02NTUzNSZ0LmhpZ2gsaD10Lmxvdz4+PjE2LGM9NjU1MzUmdC5sb3csdT0wLGw9MCxwPTAsZD0wO3JldHVybiBkKz1zK2MscCs9ZD4+PjE2LGQmPTY1NTM1LHArPW4raCxsKz1wPj4+MTYscCY9NjU1MzUsbCs9aSthLHUrPWw+Pj4xNixsJj02NTUzNSx1Kz1yK28sdSY9NjU1MzUsZS5xSShwPDwxNnxkLHU8PDE2fGwsdGhpcy5GUCl9LGUucHJvdG90eXBlLmhWPWZ1bmN0aW9uKHQpe3JldHVybiBlLlpHKHQpfHwodD1lLmVWKHQpKSx0aGlzLmFkZCh0LnFFKCkpfSxlLnByb3RvdHlwZS5zdWI9ZS5wcm90b3R5cGUuaFYsZS5wcm90b3R5cGUubXVsdGlwbHk9ZnVuY3Rpb24odCl7aWYodGhpcy5zVigpKXJldHVybiBlLlpFUk87aWYoZS5aRyh0KXx8KHQ9ZS5lVih0KSksdC5zVigpKXJldHVybiBlLlpFUk87aWYodGhpcy5jcyhlLk1JTl9WQUxVRSkpcmV0dXJuIHQuZ1YoKT9lLk1JTl9WQUxVRTplLlpFUk87aWYodC5jcyhlLk1JTl9WQUxVRSkpcmV0dXJuIHRoaXMuZ1YoKT9lLk1JTl9WQUxVRTplLlpFUk87aWYodGhpcy5vVigpKXJldHVybiB0Lm9WKCk/dGhpcy5xRSgpLm11bHRpcGx5KHQucUUoKSk6dGhpcy5xRSgpLm11bHRpcGx5KHQpLnFFKCk7aWYodC5vVigpKXJldHVybiB0aGlzLm11bHRpcGx5KHQucUUoKSkucUUoKTtpZih0aGlzLlRWKG8pJiZ0LlRWKG8pKXJldHVybiBlLkRFKHRoaXMublYoKSp0Lm5WKCksdGhpcy5GUCk7dmFyIHI9dGhpcy5oaWdoPj4+MTYsaT02NTUzNSZ0aGlzLmhpZ2gsbj10aGlzLmxvdz4+PjE2LHM9NjU1MzUmdGhpcy5sb3csYT10LmhpZ2g+Pj4xNixoPTY1NTM1JnQuaGlnaCxjPXQubG93Pj4+MTYsdT02NTUzNSZ0LmxvdyxsPTAscD0wLGQ9MCxmPTA7cmV0dXJuIGYrPXMqdSxkKz1mPj4+MTYsZiY9NjU1MzUsZCs9bip1LHArPWQ+Pj4xNixkJj02NTUzNSxkKz1zKmMscCs9ZD4+PjE2LGQmPTY1NTM1LHArPWkqdSxsKz1wPj4+MTYscCY9NjU1MzUscCs9bipjLGwrPXA+Pj4xNixwJj02NTUzNSxwKz1zKmgsbCs9cD4+PjE2LHAmPTY1NTM1LGwrPXIqdStpKmMrbipoK3MqYSxsJj02NTUzNSxlLnFJKGQ8PDE2fGYsbDw8MTZ8cCx0aGlzLkZQKX0sZS5wcm90b3R5cGUuQVY9ZS5wcm90b3R5cGUubXVsdGlwbHksZS5wcm90b3R5cGUuYVY9ZnVuY3Rpb24odCl7aWYoZS5aRyh0KXx8KHQ9ZS5lVih0KSksdC5zVigpKXRocm93IG5ldyBFcnJvcihcImRpdmlzaW9uIGJ5IHplcm9cIik7aWYodGhpcy5zVigpKXJldHVybiB0aGlzLkZQP2UudFY6ZS5aRVJPO3ZhciByLGksbjtpZih0aGlzLmNzKGUuTUlOX1ZBTFVFKSl7aWYodC5jcyhlLk9ORSl8fHQuY3MoZS5pVikpcmV0dXJuIGUuTUlOX1ZBTFVFO2lmKHQuY3MoZS5NSU5fVkFMVUUpKXJldHVybiBlLk9ORTtyZXR1cm4gcj10aGlzLkhQKDEpLmFWKHQpLnNoaWZ0TGVmdCgxKSxyLmNzKGUuWkVSTyk/dC5vVigpP2UuT05FOmUuaVY6KGk9dGhpcy5oVih0Lm11bHRpcGx5KHIpKSxuPXIuYWRkKGkuYVYodCkpKX1pZih0LmNzKGUuTUlOX1ZBTFVFKSlyZXR1cm4gdGhpcy5GUD9lLnRWOmUuWkVSTztpZih0aGlzLm9WKCkpcmV0dXJuIHQub1YoKT90aGlzLnFFKCkuYVYodC5xRSgpKTp0aGlzLnFFKCkuYVYodCkucUUoKTtpZih0Lm9WKCkpcmV0dXJuIHRoaXMuYVYodC5xRSgpKS5xRSgpO2ZvcihuPWUuWkVSTyxpPXRoaXM7aS5DVih0KTspe3I9TWF0aC5tYXgoMSxNYXRoLmZsb29yKGkublYoKS90Lm5WKCkpKTtmb3IodmFyIHM9TWF0aC5jZWlsKE1hdGgubG9nKHIpL01hdGguTE4yKSxvPXM8PTQ4PzE6TWF0aC5wb3coMixzLTQ4KSxhPWUuREUociksaD1hLm11bHRpcGx5KHQpO2gub1YoKXx8aC53VihpKTspci09byxhPWUuREUocix0aGlzLkZQKSxoPWEubXVsdGlwbHkodCk7YS5zVigpJiYoYT1lLk9ORSksbj1uLmFkZChhKSxpPWkuaFYoaCl9cmV0dXJuIG59LGUucHJvdG90eXBlLk9WPWUucHJvdG90eXBlLmFWLGUucHJvdG90eXBlLk5WPWZ1bmN0aW9uKHQpe3JldHVybiBlLlpHKHQpfHwodD1lLmVWKHQpKSx0aGlzLmhWKHRoaXMuYVYodCkubXVsdGlwbHkodCkpfSxlLnByb3RvdHlwZS5ldj1lLnByb3RvdHlwZS5OVixlLnByb3RvdHlwZS5ub3Q9ZnVuY3Rpb24oKXtyZXR1cm4gZS5xSSh+dGhpcy5sb3csfnRoaXMuaGlnaCx0aGlzLkZQKX0sZS5wcm90b3R5cGUucVA9ZnVuY3Rpb24odCl7cmV0dXJuIGUuWkcodCl8fCh0PWUuZVYodCkpLGUucUkodGhpcy5sb3cmdC5sb3csdGhpcy5oaWdoJnQuaGlnaCx0aGlzLkZQKX0sZS5wcm90b3R5cGUub3I9ZnVuY3Rpb24odCl7cmV0dXJuIGUuWkcodCl8fCh0PWUuZVYodCkpLGUucUkodGhpcy5sb3d8dC5sb3csdGhpcy5oaWdofHQuaGlnaCx0aGlzLkZQKX0sZS5wcm90b3R5cGUucFQ9ZnVuY3Rpb24odCl7cmV0dXJuIGUuWkcodCl8fCh0PWUuZVYodCkpLGUucUkodGhpcy5sb3dedC5sb3csdGhpcy5oaWdoXnQuaGlnaCx0aGlzLkZQKX0sZS5wcm90b3R5cGUuc2hpZnRMZWZ0PWZ1bmN0aW9uKHQpe3JldHVybiBlLlpHKHQpJiYodD10LmtQKCkpLDA9PSh0Jj02Myk/dGhpczp0PDMyP2UucUkodGhpcy5sb3c8PHQsdGhpcy5oaWdoPDx0fHRoaXMubG93Pj4+MzItdCx0aGlzLkZQKTplLnFJKDAsdGhpcy5sb3c8PHQtMzIsdGhpcy5GUCl9LGUucHJvdG90eXBlLkRWPWUucHJvdG90eXBlLnNoaWZ0TGVmdCxlLnByb3RvdHlwZS5IUD1mdW5jdGlvbih0KXtyZXR1cm4gZS5aRyh0KSYmKHQ9dC5rUCgpKSwwPT0odCY9NjMpP3RoaXM6dDwzMj9lLnFJKHRoaXMubG93Pj4+dHx0aGlzLmhpZ2g8PDMyLXQsdGhpcy5oaWdoPj50LHRoaXMuRlApOmUucUkodGhpcy5oaWdoPj50LTMyLHRoaXMuaGlnaD49MD8wOi0xLHRoaXMuRlApfSxlLnByb3RvdHlwZS5rVj1lLnByb3RvdHlwZS5IUCxlLnByb3RvdHlwZS5MUD1mdW5jdGlvbih0KXtpZihlLlpHKHQpJiYodD10LmtQKCkpLDA9PT0odCY9NjMpKXJldHVybiB0aGlzO3ZhciByPXRoaXMuaGlnaDtpZih0PDMyKXt2YXIgaT10aGlzLmxvdztyZXR1cm4gZS5xSShpPj4+dHxyPDwzMi10LHI+Pj50LHRoaXMuRlApfXJldHVybiAzMj09PXQ/ZS5xSShyLDAsdGhpcy5GUCk6ZS5xSShyPj4+dC0zMiwwLHRoaXMuRlApfSxlLnByb3RvdHlwZS5MVj1lLnByb3RvdHlwZS5MUCxlLnByb3RvdHlwZS5VUD1mdW5jdGlvbigpe3JldHVybiB0aGlzLkZQP25ldyBlKHRoaXMubG93LHRoaXMuaGlnaCwhMSk6dGhpc30sZS5wcm90b3R5cGUuQlA9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5GUD90aGlzOm5ldyBlKHRoaXMubG93LHRoaXMuaGlnaCwhMCl9LGV9KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBpLG4sczsvKipcbiAqIEBsaWNlbnNlIExvbmcuanMgKGMpIDIwMTMgRGFuaWVsIFdpcnR6IDxkY29kZUBkY29kZS5pbz5cbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjBcbiAqIHNlZTogaHR0cHM6Ly9naXRodWIuY29tL2Rjb2RlSU8vTG9uZy5qcyBmb3IgZGV0YWlsc1xuICovXG4hZnVuY3Rpb24ocixvKXtuPVtdLGk9byx2b2lkIDAhPT0ocz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBpP2kuYXBwbHkodCxuKTppKSYmKGUuaT1zKX0oMCxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGUoZSx0LHIpe3RoaXMubG93PTB8ZSx0aGlzLmhpZ2g9MHx0LHRoaXMuRlA9ISFyfWUuWEcsT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiX19pc0xvbmdfX1wiLHt2YWx1ZTohMCxwOiExLGw6ITF9KSxlLlpHPWZ1bmN0aW9uKGUpe3JldHVybiEwPT09KGUmJmUuWEcpfTt2YXIgdD17fSxyPXt9O2UuTUU9ZnVuY3Rpb24oaSxuKXt2YXIgcyxvO3JldHVybiBuPzA8PShpPj4+PTApJiZpPDI1NiYmKG89cltpXSk/bzoocz1uZXcgZShpLCgwfGkpPDA/LTE6MCwhMCksMDw9aSYmaTwyNTYmJihyW2ldPXMpLHMpOi0xMjg8PShpfD0wKSYmaTwxMjgmJihvPXRbaV0pP286KHM9bmV3IGUoaSxpPDA/LTE6MCwhMSksLTEyODw9aSYmaTwxMjgmJih0W2ldPXMpLHMpfSxlLkRFPWZ1bmN0aW9uKHQscil7cmV0dXJuIHI9ISFyLGlzTmFOKHQpfHwhaXNGaW5pdGUodCk/ZS5aRVJPOiFyJiZ0PD0tcz9lLk1JTl9WQUxVRTohciYmdCsxPj1zP2UuTUFYX1ZBTFVFOnImJnQ+PW4/ZS4kRzp0PDA/ZS5ERSgtdCxyKS5xRSgpOm5ldyBlKHQlaXwwLHQvaXwwLHIpfSxlLnFJPWZ1bmN0aW9uKHQscixpKXtyZXR1cm4gbmV3IGUodCxyLGkpfSxlLmtFPWZ1bmN0aW9uKHQscixpKXtpZigwPT09dC5sZW5ndGgpdGhyb3cgRXJyb3IoXCJudW1iZXIgZm9ybWF0IGVycm9yOiBlbXB0eSBzdHJpbmdcIik7aWYoXCJOYU5cIj09PXR8fFwiSW5maW5pdHlcIj09PXR8fFwiK0luZmluaXR5XCI9PT10fHxcIi1JbmZpbml0eVwiPT09dClyZXR1cm4gZS5aRVJPO2lmKFwibnVtYmVyXCI9PXR5cGVvZiByJiYoaT1yLHI9ITEpLChpPWl8fDEwKTwyfHwzNjxpKXRocm93IEVycm9yKFwicmFkaXggb3V0IG9mIHJhbmdlOiBcIitpKTt2YXIgbjtpZigobj10LmluZGV4T2YoXCItXCIpKT4wKXRocm93IEVycm9yKCdudW1iZXIgZm9ybWF0IGVycm9yOiBpbnRlcmlvciBcIi1cIiBjaGFyYWN0ZXI6ICcrdCk7aWYoMD09PW4pcmV0dXJuIGUua0UodC5zdWJzdHJpbmcoMSkscixpKS5xRSgpO2Zvcih2YXIgcz1lLkRFKE1hdGgucG93KGksOCkpLG89ZS5aRVJPLGE9MDthPHQubGVuZ3RoO2ErPTgpe3ZhciBoPU1hdGgubWluKDgsdC5sZW5ndGgtYSksYz1wYXJzZUludCh0LnN1YnN0cmluZyhhLGEraCksaSk7aWYoaDw4KXt2YXIgdT1lLkRFKE1hdGgucG93KGksaCkpO289by5tdWx0aXBseSh1KS5hZGQoZS5ERShjKSl9ZWxzZSBvPW8ubXVsdGlwbHkocyksbz1vLmFkZChlLkRFKGMpKX1yZXR1cm4gby5GUD1yLG99LGUuZVY9ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBlP3Q6XCJudW1iZXJcIj09dHlwZW9mIHQ/ZS5ERSh0KTpcInN0cmluZ1wiPT10eXBlb2YgdD9lLmtFKHQpOm5ldyBlKHQubG93LHQuaGlnaCx0LkZQKX07dmFyIGk9NDI5NDk2NzI5NixuPWkqaSxzPW4vMixvPWUuTUUoMTw8MjQpO3JldHVybiBlLlpFUk89ZS5NRSgwKSxlLnRWPWUuTUUoMCwhMCksZS5PTkU9ZS5NRSgxKSxlLnJWPWUuTUUoMSwhMCksZS5pVj1lLk1FKC0xKSxlLk1BWF9WQUxVRT1lLnFJKC0xLDIxNDc0ODM2NDcsITEpLGUuJEc9ZS5xSSgtMSwtMSwhMCksZS5NSU5fVkFMVUU9ZS5xSSgwLC0yMTQ3NDgzNjQ4LCExKSxlLnByb3RvdHlwZS5rUD1mdW5jdGlvbigpe3JldHVybiB0aGlzLkZQP3RoaXMubG93Pj4+MDp0aGlzLmxvd30sZS5wcm90b3R5cGUublY9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5GUD8odGhpcy5oaWdoPj4+MCkqaSsodGhpcy5sb3c+Pj4wKTp0aGlzLmhpZ2gqaSsodGhpcy5sb3c+Pj4wKX0sZS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24odCl7aWYoKHQ9dHx8MTApPDJ8fDM2PHQpdGhyb3cgUmFuZ2VFcnJvcihcInJhZGl4IG91dCBvZiByYW5nZTogXCIrdCk7aWYodGhpcy5zVigpKXJldHVyblwiMFwiO3ZhciByO2lmKHRoaXMub1YoKSl7aWYodGhpcy5jcyhlLk1JTl9WQUxVRSkpe3ZhciBpPWUuREUodCksbj10aGlzLmFWKGkpO3JldHVybiByPW4ubXVsdGlwbHkoaSkuaFYodGhpcyksbi50b1N0cmluZyh0KStyLmtQKCkudG9TdHJpbmcodCl9cmV0dXJuXCItXCIrdGhpcy5xRSgpLnRvU3RyaW5nKHQpfXZhciBzPWUuREUoTWF0aC5wb3codCw2KSx0aGlzLkZQKTtyPXRoaXM7Zm9yKHZhciBvPVwiXCI7Oyl7dmFyIGE9ci5hVihzKSxoPXIuaFYoYS5tdWx0aXBseShzKSkua1AoKT4+PjAsYz1oLnRvU3RyaW5nKHQpO2lmKHI9YSxyLnNWKCkpcmV0dXJuIGMrbztmb3IoO2MubGVuZ3RoPDY7KWM9XCIwXCIrYztvPVwiXCIrYytvfX0sZS5wcm90b3R5cGUuY1Y9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oaWdofSxlLnByb3RvdHlwZS51Vj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmhpZ2g+Pj4wfSxlLnByb3RvdHlwZS5sVj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxvd30sZS5wcm90b3R5cGUucFY9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sb3c+Pj4wfSxlLnByb3RvdHlwZS5kVj1mdW5jdGlvbigpe2lmKHRoaXMub1YoKSlyZXR1cm4gdGhpcy5jcyhlLk1JTl9WQUxVRSk/NjQ6dGhpcy5xRSgpLmRWKCk7Zm9yKHZhciB0PTAhPXRoaXMuaGlnaD90aGlzLmhpZ2g6dGhpcy5sb3cscj0zMTtyPjAmJjA9PSh0JjE8PHIpO3ItLSk7cmV0dXJuIDAhPXRoaXMuaGlnaD9yKzMzOnIrMX0sZS5wcm90b3R5cGUuc1Y9ZnVuY3Rpb24oKXtyZXR1cm4gMD09PXRoaXMuaGlnaCYmMD09PXRoaXMubG93fSxlLnByb3RvdHlwZS5vVj1mdW5jdGlvbigpe3JldHVybiF0aGlzLkZQJiZ0aGlzLmhpZ2g8MH0sZS5wcm90b3R5cGUuZlY9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5GUHx8dGhpcy5oaWdoPj0wfSxlLnByb3RvdHlwZS5nVj1mdW5jdGlvbigpe3JldHVybiAxPT0oMSZ0aGlzLmxvdyl9LGUucHJvdG90eXBlLmZ2PWZ1bmN0aW9uKCl7cmV0dXJuIDA9PSgxJnRoaXMubG93KX0sZS5wcm90b3R5cGUuY3M9ZnVuY3Rpb24odCl7cmV0dXJuIGUuWkcodCl8fCh0PWUuZVYodCkpLCh0aGlzLkZQPT09dC5GUHx8dGhpcy5oaWdoPj4+MzEhPTF8fHQuaGlnaD4+PjMxIT0xKSYmKHRoaXMuaGlnaD09PXQuaGlnaCYmdGhpcy5sb3c9PT10Lmxvdyl9LGUuRVY9ZS5wcm90b3R5cGUuY3MsZS5wcm90b3R5cGUudlY9ZnVuY3Rpb24oZSl7cmV0dXJuIXRoaXMuY3MoZSl9LGUueVY9ZS5wcm90b3R5cGUudlYsZS5wcm90b3R5cGUuVFY9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuT2MoZSk8MH0sZS5wcm90b3R5cGUubVY9ZS5wcm90b3R5cGUuVFYsZS5wcm90b3R5cGUuU1Y9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuT2MoZSk8PTB9LGUucHJvdG90eXBlLlJWPWUucHJvdG90eXBlLlNWLGUucHJvdG90eXBlLndWPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLk9jKGUpPjB9LGUucHJvdG90eXBlLmJWPWUucHJvdG90eXBlLndWLGUucHJvdG90eXBlLkNWPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLk9jKGUpPj0wfSxlLnByb3RvdHlwZS5fVj1lLnByb3RvdHlwZS5DVixlLnByb3RvdHlwZS5PYz1mdW5jdGlvbih0KXtpZihlLlpHKHQpfHwodD1lLmVWKHQpKSx0aGlzLmNzKHQpKXJldHVybiAwO3ZhciByPXRoaXMub1YoKSxpPXQub1YoKTtyZXR1cm4gciYmIWk/LTE6IXImJmk/MTp0aGlzLkZQP3QuaGlnaD4+PjA+dGhpcy5oaWdoPj4+MHx8dC5oaWdoPT09dGhpcy5oaWdoJiZ0Lmxvdz4+PjA+dGhpcy5sb3c+Pj4wPy0xOjE6dGhpcy5oVih0KS5vVigpPy0xOjF9LGUucHJvdG90eXBlLnFFPWZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMuRlAmJnRoaXMuY3MoZS5NSU5fVkFMVUUpP2UuTUlOX1ZBTFVFOnRoaXMubm90KCkuYWRkKGUuT05FKX0sZS5wcm90b3R5cGUuUFY9ZS5wcm90b3R5cGUucUUsZS5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKHQpe2UuWkcodCl8fCh0PWUuZVYodCkpO3ZhciByPXRoaXMuaGlnaD4+PjE2LGk9NjU1MzUmdGhpcy5oaWdoLG49dGhpcy5sb3c+Pj4xNixzPTY1NTM1JnRoaXMubG93LG89dC5oaWdoPj4+MTYsYT02NTUzNSZ0LmhpZ2gsaD10Lmxvdz4+PjE2LGM9NjU1MzUmdC5sb3csdT0wLGw9MCxwPTAsZD0wO3JldHVybiBkKz1zK2MscCs9ZD4+PjE2LGQmPTY1NTM1LHArPW4raCxsKz1wPj4+MTYscCY9NjU1MzUsbCs9aSthLHUrPWw+Pj4xNixsJj02NTUzNSx1Kz1yK28sdSY9NjU1MzUsZS5xSShwPDwxNnxkLHU8PDE2fGwsdGhpcy5GUCl9LGUucHJvdG90eXBlLmhWPWZ1bmN0aW9uKHQpe3JldHVybiBlLlpHKHQpfHwodD1lLmVWKHQpKSx0aGlzLmFkZCh0LnFFKCkpfSxlLnByb3RvdHlwZS5zdWI9ZS5wcm90b3R5cGUuaFYsZS5wcm90b3R5cGUubXVsdGlwbHk9ZnVuY3Rpb24odCl7aWYodGhpcy5zVigpKXJldHVybiBlLlpFUk87aWYoZS5aRyh0KXx8KHQ9ZS5lVih0KSksdC5zVigpKXJldHVybiBlLlpFUk87aWYodGhpcy5jcyhlLk1JTl9WQUxVRSkpcmV0dXJuIHQuZ1YoKT9lLk1JTl9WQUxVRTplLlpFUk87aWYodC5jcyhlLk1JTl9WQUxVRSkpcmV0dXJuIHRoaXMuZ1YoKT9lLk1JTl9WQUxVRTplLlpFUk87aWYodGhpcy5vVigpKXJldHVybiB0Lm9WKCk/dGhpcy5xRSgpLm11bHRpcGx5KHQucUUoKSk6dGhpcy5xRSgpLm11bHRpcGx5KHQpLnFFKCk7aWYodC5vVigpKXJldHVybiB0aGlzLm11bHRpcGx5KHQucUUoKSkucUUoKTtpZih0aGlzLlRWKG8pJiZ0LlRWKG8pKXJldHVybiBlLkRFKHRoaXMublYoKSp0Lm5WKCksdGhpcy5GUCk7dmFyIHI9dGhpcy5oaWdoPj4+MTYsaT02NTUzNSZ0aGlzLmhpZ2gsbj10aGlzLmxvdz4+PjE2LHM9NjU1MzUmdGhpcy5sb3csYT10LmhpZ2g+Pj4xNixoPTY1NTM1JnQuaGlnaCxjPXQubG93Pj4+MTYsdT02NTUzNSZ0LmxvdyxsPTAscD0wLGQ9MCxmPTA7cmV0dXJuIGYrPXMqdSxkKz1mPj4+MTYsZiY9NjU1MzUsZCs9bip1LHArPWQ+Pj4xNixkJj02NTUzNSxkKz1zKmMscCs9ZD4+PjE2LGQmPTY1NTM1LHArPWkqdSxsKz1wPj4+MTYscCY9NjU1MzUscCs9bipjLGwrPXA+Pj4xNixwJj02NTUzNSxwKz1zKmgsbCs9cD4+PjE2LHAmPTY1NTM1LGwrPXIqdStpKmMrbipoK3MqYSxsJj02NTUzNSxlLnFJKGQ8PDE2fGYsbDw8MTZ8cCx0aGlzLkZQKX0sZS5wcm90b3R5cGUuQVY9ZS5wcm90b3R5cGUubXVsdGlwbHksZS5wcm90b3R5cGUuYVY9ZnVuY3Rpb24odCl7aWYoZS5aRyh0KXx8KHQ9ZS5lVih0KSksdC5zVigpKXRocm93IG5ldyBFcnJvcihcImRpdmlzaW9uIGJ5IHplcm9cIik7aWYodGhpcy5zVigpKXJldHVybiB0aGlzLkZQP2UudFY6ZS5aRVJPO3ZhciByLGksbjtpZih0aGlzLmNzKGUuTUlOX1ZBTFVFKSl7aWYodC5jcyhlLk9ORSl8fHQuY3MoZS5pVikpcmV0dXJuIGUuTUlOX1ZBTFVFO2lmKHQuY3MoZS5NSU5fVkFMVUUpKXJldHVybiBlLk9ORTtyZXR1cm4gcj10aGlzLkhQKDEpLmFWKHQpLnNoaWZ0TGVmdCgxKSxyLmNzKGUuWkVSTyk/dC5vVigpP2UuT05FOmUuaVY6KGk9dGhpcy5oVih0Lm11bHRpcGx5KHIpKSxuPXIuYWRkKGkuYVYodCkpKX1pZih0LmNzKGUuTUlOX1ZBTFVFKSlyZXR1cm4gdGhpcy5GUD9lLnRWOmUuWkVSTztpZih0aGlzLm9WKCkpcmV0dXJuIHQub1YoKT90aGlzLnFFKCkuYVYodC5xRSgpKTp0aGlzLnFFKCkuYVYodCkucUUoKTtpZih0Lm9WKCkpcmV0dXJuIHRoaXMuYVYodC5xRSgpKS5xRSgpO2ZvcihuPWUuWkVSTyxpPXRoaXM7aS5DVih0KTspe3I9TWF0aC5tYXgoMSxNYXRoLmZsb29yKGkublYoKS90Lm5WKCkpKTtmb3IodmFyIHM9TWF0aC5jZWlsKE1hdGgubG9nKHIpL01hdGguTE4yKSxvPXM8PTQ4PzE6TWF0aC5wb3coMixzLTQ4KSxhPWUuREUociksaD1hLm11bHRpcGx5KHQpO2gub1YoKXx8aC53VihpKTspci09byxhPWUuREUocix0aGlzLkZQKSxoPWEubXVsdGlwbHkodCk7YS5zVigpJiYoYT1lLk9ORSksbj1uLmFkZChhKSxpPWkuaFYoaCl9cmV0dXJuIG59LGUucHJvdG90eXBlLk9WPWUucHJvdG90eXBlLmFWLGUucHJvdG90eXBlLk5WPWZ1bmN0aW9uKHQpe3JldHVybiBlLlpHKHQpfHwodD1lLmVWKHQpKSx0aGlzLmhWKHRoaXMuYVYodCkubXVsdGlwbHkodCkpfSxlLnByb3RvdHlwZS5ldj1lLnByb3RvdHlwZS5OVixlLnByb3RvdHlwZS5ub3Q9ZnVuY3Rpb24oKXtyZXR1cm4gZS5xSSh+dGhpcy5sb3csfnRoaXMuaGlnaCx0aGlzLkZQKX0sZS5wcm90b3R5cGUucVA9ZnVuY3Rpb24odCl7cmV0dXJuIGUuWkcodCl8fCh0PWUuZVYodCkpLGUucUkodGhpcy5sb3cmdC5sb3csdGhpcy5oaWdoJnQuaGlnaCx0aGlzLkZQKX0sZS5wcm90b3R5cGUub3I9ZnVuY3Rpb24odCl7cmV0dXJuIGUuWkcodCl8fCh0PWUuZVYodCkpLGUucUkodGhpcy5sb3d8dC5sb3csdGhpcy5oaWdofHQuaGlnaCx0aGlzLkZQKX0sZS5wcm90b3R5cGUucFQ9ZnVuY3Rpb24odCl7cmV0dXJuIGUuWkcodCl8fCh0PWUuZVYodCkpLGUucUkodGhpcy5sb3dedC5sb3csdGhpcy5oaWdoXnQuaGlnaCx0aGlzLkZQKX0sZS5wcm90b3R5cGUuc2hpZnRMZWZ0PWZ1bmN0aW9uKHQpe3JldHVybiBlLlpHKHQpJiYodD10LmtQKCkpLDA9PSh0Jj02Myk/dGhpczp0PDMyP2UucUkodGhpcy5sb3c8PHQsdGhpcy5oaWdoPDx0fHRoaXMubG93Pj4+MzItdCx0aGlzLkZQKTplLnFJKDAsdGhpcy5sb3c8PHQtMzIsdGhpcy5GUCl9LGUucHJvdG90eXBlLkRWPWUucHJvdG90eXBlLnNoaWZ0TGVmdCxlLnByb3RvdHlwZS5IUD1mdW5jdGlvbih0KXtyZXR1cm4gZS5aRyh0KSYmKHQ9dC5rUCgpKSwwPT0odCY9NjMpP3RoaXM6dDwzMj9lLnFJKHRoaXMubG93Pj4+dHx0aGlzLmhpZ2g8PDMyLXQsdGhpcy5oaWdoPj50LHRoaXMuRlApOmUucUkodGhpcy5oaWdoPj50LTMyLHRoaXMuaGlnaD49MD8wOi0xLHRoaXMuRlApfSxlLnByb3RvdHlwZS5rVj1lLnByb3RvdHlwZS5IUCxlLnByb3RvdHlwZS5MUD1mdW5jdGlvbih0KXtpZihlLlpHKHQpJiYodD10LmtQKCkpLDA9PT0odCY9NjMpKXJldHVybiB0aGlzO3ZhciByPXRoaXMuaGlnaDtpZih0PDMyKXt2YXIgaT10aGlzLmxvdztyZXR1cm4gZS5xSShpPj4+dHxyPDwzMi10LHI+Pj50LHRoaXMuRlApfXJldHVybiAzMj09PXQ/ZS5xSShyLDAsdGhpcy5GUCk6ZS5xSShyPj4+dC0zMiwwLHRoaXMuRlApfSxlLnByb3RvdHlwZS5MVj1lLnByb3RvdHlwZS5MUCxlLnByb3RvdHlwZS5VUD1mdW5jdGlvbigpe3JldHVybiB0aGlzLkZQP25ldyBlKHRoaXMubG93LHRoaXMuaGlnaCwhMSk6dGhpc30sZS5wcm90b3R5cGUuQlA9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5GUD90aGlzOm5ldyBlKHRoaXMubG93LHRoaXMuaGlnaCwhMCl9LGV9KX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpLG49dGhpcyYmdGhpcy5odXx8ZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiByKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfWZvcih2YXIgaSBpbiB0KXQuaGFzT3duUHJvcGVydHkoaSkmJihlW2ldPXRbaV0pO2UucHJvdG90eXBlPW51bGw9PT10P09iamVjdC5jcmVhdGUodCk6KHIucHJvdG90eXBlPXQucHJvdG90eXBlLG5ldyByKX0scz1yKDQpLG89cigzKSxhPXIoMCksaD1yKDE2NiksYz1yKDUpLHU9cigyNSksbD1yKDEwKSxwPXIoMTY3KSxkPXIoMTUpLGY9aGl2ZS5zZXJ2aWNlcy5wcm90b2NvbC5JRi5UcmFja2VyUGVlckluZm8sZz1yKDYpLEU9cigxKSx2PXIoMikseT1nLmhlLlRoOyFmdW5jdGlvbihlKXtlW2UuTVY9MV09XCJBQ0NFUFRcIixlW2UuRlY9Ml09XCJSRUpFQ1RcIn0oaT10LlVWfHwodC5VVj17fSkpO3ZhciBUOyFmdW5jdGlvbihlKXtlW2UuSnE9MF09XCJBTExcIixlW2UuQlY9MV09XCJJTlwiLGVbZS5IVj0yXT1cIk9VVFwifShUPXQueFZ8fCh0LnhWPXt9KSk7dmFyIG09ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3ZhciB0PWUuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gdC5sb2dnZXJJZD1cIltQYXJ0bmVyc2hpcF0gXCIsdC5xVj1uZXcgbyx0LnJHPW5ldyBvLHQuR1Y9LTEsdC5WVj0tMSx0LmpWPS0xLHQuY29ubmVjdGVkPSExLHQuTmc9YS5GcmFtZXdvcmsucmVzb2x2ZShhLkZyYW1ld29yay5WLkYpLHQuUVY9YS5GcmFtZXdvcmsucmVzb2x2ZShkLnF1LmZ1KSx0LktWPWEuRnJhbWV3b3JrLnJlc29sdmUoZC5xdS5ndSksdC5ZVj1hLkZyYW1ld29yay5yZXNvbHZlKGQucXUuRXUpLHQuV1Y9YS5GcmFtZXdvcmsucmVzb2x2ZShkLnF1LnZ1KSx0fXJldHVybiBuKHQsZSksdC5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbih0KXtlLnByb3RvdHlwZS5pbml0LmNhbGwodGhpcyx0KSx0aGlzLnNHPXQsdGhpcy50aWNrZXQ9dC5ybC50aWNrZXQsdGhpcy5vRz10Lm9HLHRoaXMubUQ9dC5tRCx0aGlzLnpWPXQuelZ9LHQucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKGUpe3RyeXt0aGlzLmxvZ2dlci5pbmZvKHRoaXMubG9nZ2VySWQrXCJQQVJUTkVSU0hJUCBTVEFSVEVEIFwiK2UuZ2V0Q29udGV4dElkKCkpLHRoaXMuY29udGV4dD1lLHRoaXMuY29udGV4dElkPWUuZ2V0Q29udGV4dElkKCksdGhpcy5KVihjLmhoLk5vLlBvKSx0aGlzLlhWKGMuaGguZmEuYWEpLHRoaXMuWlYoYy5oaC5Iby5rbyksdGhpcy5hY3RpdmU9ITB9Y2F0Y2goZSl7RS5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIGluIHBhcnRuZXJzaGlwIGluaXRpYWxpemF0aW9uXCIsdGhpcy5sb2dnZXJJZCx2LmhzLmNyLkJ0LGUpfX0sdC5wcm90b3R5cGUuc3RvcD1mdW5jdGlvbigpe3JldHVybiBhLkZyYW1ld29yay5jbGVhckludGVydmFsKHRoaXMuR1YpLGEuRnJhbWV3b3JrLmNsZWFySW50ZXJ2YWwodGhpcy5WViksYS5GcmFtZXdvcmsuY2xlYXJJbnRlcnZhbCh0aGlzLmpWKSx0aGlzLmNvbnRleHQ9bnVsbCx0aGlzLmNvbnRleHRJZD1udWxsLHRoaXMuYWN0aXZlPSExLHRoaXMuJFYoKX0sdC5wcm90b3R5cGUuVWQ9ZnVuY3Rpb24oZSl7dGhpcy5sb2dnZXIuaW5mbyhcIlBBUlRORVJTSElQIFNFUlZFUiBDT05ORUNURURcIiksdGhpcy5nZD1lLHRoaXMuY29ubmVjdGVkPSEwLG51bGw9PXRoaXMueUQuZ2V0SWQoKSYmdGhpcy55RC5zZXRJZCh0aGlzLmdkKX0sdC5wcm90b3R5cGUuZWo9ZnVuY3Rpb24oKXt0aGlzLmNvbm5lY3RlZD0hMX0sdC5wcm90b3R5cGUudGo9ZnVuY3Rpb24oZSl7dHJ5e3RoaXMucmooZSl8fHRoaXMucVYuaGFzKGUucGVlckluZm8uZ3VpZCl8fHRoaXMuckcuaGFzKGUucGVlckluZm8uZ3VpZCl8fGUucGVlckluZm8uZ3VpZD09dGhpcy5nZD90aGlzLmlqKGUpOnRoaXMubmooZSksdGhpcy5zaihlKSYmdGhpcy5vaihlKX1jYXRjaCh0KXtFLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgaW4gZGlzY29lcmluZyBuZXcgbGFuIHBlZXJcIix0aGlzLmxvZ2dlcklkLHYuaHMuY3IuSHQse2RldGFpbGVkRXJyb3I6dCxvdGhlckd1aWQ6ZS5wZWVySW5mby5ndWlkfSl9fSx0LnByb3RvdHlwZS5paj1mdW5jdGlvbihlKXtpZih0aGlzLmFqLmhhcyhlLnBlZXJJbmZvLmd1aWQpKXt2YXIgdD10aGlzLmFqLmdldChlLnBlZXJJbmZvLmd1aWQpO3RoaXMuYWouZGVsZXRlKGUucGVlckluZm8uZ3VpZCksdGhpcy5nQi5zZXQoZS5wZWVySW5mby5ndWlkLHQpLHRoaXMueUQuWUcoITApfX0sdC5wcm90b3R5cGUub2o9ZnVuY3Rpb24oZSl7aWYodGhpcy5kQi5oYXMoZS5wZWVySW5mby5ndWlkKSl7dmFyIHQ9dGhpcy5kQi5nZXQoZS5wZWVySW5mby5ndWlkKTt0aGlzLmRCLmRlbGV0ZShlLnBlZXJJbmZvLmd1aWQpLHRoaXMuZkIuc2V0KGUucGVlckluZm8uZ3VpZCx0KX19LHQucHJvdG90eXBlLkpWPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7LTEhPXRoaXMuR1YmJmEuRnJhbWV3b3JrLmNsZWFySW50ZXJ2YWwodGhpcy5HViksdGhpcy5HVj1hLkZyYW1ld29yay5zZXRJbnRlcnZhbChmdW5jdGlvbigpe3QuaGooITEpfSxlKX0sdC5wcm90b3R5cGUuaGo9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztlJiZ0aGlzLkdWJiYoYS5GcmFtZXdvcmsuY2xlYXJJbnRlcnZhbCh0aGlzLkdWKSx0aGlzLkpWKGMuaGguTm8uUG8pKTt0cnl7aWYodGhpcy5jb25uZWN0ZWQpe3RoaXMubG9nZ2VyLmRlYnVnKHRoaXMubG9nZ2VySWQrXCJBRERJTkcgTkVXIFBFRVJTIElGIFBPU1NJQkxFLCBOT1cgXCIrdGhpcy5hai5sZW5ndGgrXCIvXCIrYy5oaC5Oby5fbytcIixcIit0aGlzLmdCLmxlbmd0aCtcIi9pbmZpbml0eSBPVVQgUk5EIFwiK3RoaXMuZEIubGVuZ3RoK1wiIE9VVCBMQU4gXCIrdGhpcy5mQi5sZW5ndGgpO3ZhciByPVtdLmNvbmNhdCh0aGlzLnFWLmtleXMoKSkuY29uY2F0KHRoaXMuckcua2V5cygpKSxpPXRoaXMub0cuY2ooITApLG49dm9pZCAwO249dGhpcy55RC5jaygpfHx0aGlzLnlELlRrKCk/dGhpcy5ZVi51aih0aGlzLnlELGMuaGguTm8uX28sdGhpcy5hai52YWx1ZXMoKSxyLGkpOnRoaXMuUVYudWooYy5oaC5Oby5fbyx0aGlzLmFqLnZhbHVlcygpLHIsaSksdGhpcy5saj1uLnBqKCksbi5kaigpLmZvckVhY2goZnVuY3Rpb24oZSl7dC5uaihlKX0pfWVsc2UgdGhpcy5sb2dnZXIud2Fybih0aGlzLmxvZ2dlcklkK1wiTk9UIFJVTk5JTkcgSU4gUEFSVE5FUiBDSE9JQ0UsIFNSViBESVNDT05ORUNURURcIil9Y2F0Y2goZSl7RS5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIGluIGNob29zaW5nIGluIHBhcnRuZXJzXCIsdGhpcy5sb2dnZXJJZCx2LmhzLmNyLnh0LGUpfX0sdC5wcm90b3R5cGUubmo9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWUucGVlckluZm8uZ3VpZCxpPWUucGVlckluZm8ucHJpdmF0ZUlwU3RyaW5nLG49ZS5wZWVySW5mby5wdWJsaWNJcFN0cmluZzt0aGlzLmxvZ2dlci5kZWJ1Zyh0aGlzLmxvZ2dlcklkK1wiSU4gUEFSVE5FUiBBREQgUFJPQ0VTUyBcIityKSx0aGlzLnJqKGUpfHx0aGlzLnFWLmhhcyhyKXx8dGhpcy5yRy5oYXMocil8fHRoaXMuelYuZmoocixpLG4pfHwodGhpcy5yRy5zZXQocixEYXRlLm5vdygpKSx0aGlzLk5nLmNvbm5lY3QocikudGhlbihmdW5jdGlvbihpKXt2YXIgbj1pLlBnLndnKHQuc0cuc3dhcm1JZCk7aWYobnVsbD09biYmKG49aS5QZy5UZyh0LnNHLnN3YXJtSWQpKSxuKXt0LnJHLmdldChyKTt0LnJHLmRlbGV0ZShyKSx0LmFjdGl2ZSYmdC5naihuKS50aGVuKGZ1bmN0aW9uKGkpe2lmKHQuRWoobixlLGkubXNnKSx0LnlqLnZqKCExLCExKSx0LnpWLlRqKHIsZS5wZWVySW5mby5wcml2YXRlSXBTdHJpbmcsZS5wZWVySW5mby5wdWJsaWNJcFN0cmluZyksdC5taihuKSx0LmxqLmxlbmd0aD4wJiYhZS5JaigpKXt2YXIgcz10LmxqWzBdO3QuU2oocy5ndWlkKSxzLndqLlJqKFQuSFYpLHQubGouc3BsaWNlKDAsMSl9fSkuZmFpbChmdW5jdGlvbihlKXtFLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgaW4gcmVxdWVzdGluZyBwYXJ0bmVyc2hpcFwiLHQubG9nZ2VySWQsdi5ocy5jci5WdCx7b3RoZXJHdWlkOnJ9KSx0LnlqLnZqKCExLCEwKSx0LmJqKHIpfSl9fSkuZmFpbChmdW5jdGlvbihlKXtFLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgaW4gY3JlYXRpbmcgbmV3IHAycCBjb25uZWN0aW9uXCIsdC5sb2dnZXJJZCx2LmhzLmNyLkd0LHtvdGhlckd1aWQ6cn0pLHQueWoudmooITAsITApLHQuckcuZGVsZXRlKHIpLHQub0cuS0cocil9KS5kb25lKCkpfSx0LnByb3RvdHlwZS5Daj1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7dHJ5e3ZhciBuPWUuZ3VpZCxzPW51bGwsbz1udWxsO2lmKGUucHJpdmF0ZUlwU3RyaW5nJiYobz1lLnByaXZhdGVJcFN0cmluZyksZS5wdWJsaWNJcFN0cmluZyYmKHM9ZS5wdWJsaWNJcFN0cmluZyksdGhpcy5faihuKSl0aGlzLmxvZ2dlci5pbmZvKHRoaXMubG9nZ2VySWQrXCJBTFJFQURZIE9VVCBQQVJUTkVSIFwiK24pO2Vsc2V7dmFyIHU9ZS5jb250ZXh0SWQsbD10LlBnLndnKHRoaXMuc0cuc3dhcm1JZCk7aWYodGhpcy5jb250ZXh0SWQhPT11fHxjLmhoLkhvLkRvIT09ZS5wMnBQcm90b2NvbFZlcnNpb258fHRoaXMuelYuZmoobixvLHMpKXRoaXMubG9nZ2VyLmluZm8odGhpcy5sb2dnZXJJZCtcIlBBUlRORVJTSElQIENBTk5PVCBCRSBFU1RBQkxJU0hFRCBXSVRIIFwiK24rXCIgQ09OVEVYVCBJRCBcIit1K1wiIHByb3RvY29sIHZlcnNpb24gXCIrZS5wMnBQcm90b2NvbFZlcnNpb24pLHRoaXMuUGoobCxpLkZWKTtlbHNle3ZhciBwPXRoaXMuQWooZSksZD12b2lkIDAsZj12b2lkIDA7aWYocCl7aWYodGhpcy5vRy5nRyhbcF0sITEpLGY9dGhpcy5vRy5PaihuKSwhKGQ9Zi5JaigpfHx0aGlzLmRCLmxlbmd0aDxjLmhoLk5vLk9vKSl7dGhpcy5sb2dnZXIuZGVidWcodGhpcy5sb2dnZXJJZCtcIiBnb3Qgb3V0IHBhcnQgcmVxIGZyb20gXCIrbitcIiAtIHJlYWNoZWQgbWF4IFwiK3RoaXMuZEIubGVuZ3RoK1wiL1wiK2MuaGguTm8uT28pO3ZhciBnPXZvaWQgMDtnPXRoaXMueUQuY2soKXx8dGhpcy55RC5UaygpP3RoaXMuV1YuTmoodGhpcy55RCxwLHRoaXMuZEIudmFsdWVzKCkpOnRoaXMuS1YuTmoodGhpcy5kQi52YWx1ZXMoKSksZyYmKHRoaXMubG9nZ2VyLmRlYnVnKHRoaXMubG9nZ2VySWQrXCIgY2hvY2tpbmcgXCIrZy5ndWlkKSx0aGlzLmRCLmRlbGV0ZShnLmd1aWQpLGcud2ouUmooVC5CViksZD0hMCl9fWVsc2UgZD0hMTtpZihkKXt2YXIgeT1uZXcgaC5QYXJ0bmVyKG4sdGhpcy55aixsLHRoaXMubG9nZ2VyLCExLGYpO2UucmVwb3J0aW5nR3VpZCYmeS5EaihlLnJlcG9ydGluZ0d1aWQpLHRoaXMub0cua2ouaGFzKG4pP3RoaXMuZkIuc2V0KG4seSk6dGhpcy5kQi5zZXQobix5KSx0aGlzLmxvZ2dlci5pbmZvKHRoaXMubG9nZ2VySWQrXCJBRERFRCBPVVQgUEFSVCBcIituKSx0aGlzLlBqKGwsaS5NViksdGhpcy56Vi5UaihuLG8scyksYS5GcmFtZXdvcmsuc2V0VGltZW91dChmdW5jdGlvbigpe3IuTGoobil9LDUwMCksdGhpcy55ai5NaigpfWVsc2UgdGhpcy5sb2dnZXIuaW5mbyh0aGlzLmxvZ2dlcklkK1wiIGNhbm5vdCBlc3RhYmxpc2ggcGFydG5lcnNoaXAgdG8gXCIrbitcIiAtIHJlYWNoZWQgbWF4IFwiK3RoaXMuZEIubGVuZ3RoK1wiL1wiK2MuaGguTm8uT28pLHRoaXMuUGoobCxpLkZWKX19fWNhdGNoKHQpe0UuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciByZWNlaXZpbmcgb3V0IHBhcnRuZXJzaGlwIHJlcXVlc3RcIix0aGlzLmxvZ2dlcklkLHYuaHMuY3IuanQse2RldGFpbGVkRXJyb3I6dCxvdGhlckd1aWQ6ZS5ndWlkfSl9fSx0LnByb3RvdHlwZS5Baj1mdW5jdGlvbihlKXt0cnl7dmFyIHQ9bmV3IGY7dC5ndWlkPWUuZ3VpZCxlLmludGVybmFsQXMmJih0LmludGVybmFsQXM9ZS5pbnRlcm5hbEFzKSxlLmV4dGVybmFsQXMmJih0LmV4dGVybmFsQXM9ZS5leHRlcm5hbEFzKSxlLnB1YmxpY0lwU3RyaW5nJiYodC5wdWJsaWNJcFN0cmluZz1lLnB1YmxpY0lwU3RyaW5nKSxlLnByaXZhdGVJcFN0cmluZyYmKHQucHJpdmF0ZUlwU3RyaW5nPWUucHJpdmF0ZUlwU3RyaW5nKTt2YXIgcj0hMSxpPXRoaXMub0cuT2ooZS5ndWlkKTtpZihpJiYocj1pLnBlZXJJbmZvLmlzTGVhZGVyKSxlLnN0cmVhbUNoYXJhY3RlcmlzdGljcyl7dmFyIG49W107ZS5zdHJlYW1DaGFyYWN0ZXJpc3RpY3MuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD1uZXcgbC5UcmFja2VyUGVlclN0cmVhbUluZm87dC5zdGF0ZT1lLnN0cmVhbVN0YXRlLHQuYml0cmF0ZT1lLmJpdHJhdGUsdC5kZWx0YT1lLmRlbHRhLG4ucHVzaCh0KX0pLHQuc3RyZWFtcz1ufXJldHVybiBuZXcgbC5iYyhsLlRjLnljLHQscil9Y2F0Y2godCl7cmV0dXJuIEUuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBjb25zdHJ1Y3RpbmcgZGlzY292ZXJlZCBwZWVyIGluZm9cIix0aGlzLmxvZ2dlcklkLHYuaHMuY3IuUXQse2RldGFpbGVkRXJyb3I6dCxvdGhlckd1aWQ6ZS5ndWlkfSksbnVsbH19LHQucHJvdG90eXBlLlBqPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpczt0aGlzLmxvZ2dlci5kZWJ1Zyh0aGlzLmxvZ2dlcklkK1wiU0VORCBQQVJUIFJFU1BPTlNFIFRPIFwiK2Uub3RoZXJHdWlkKTt0cnl7dmFyIG49bmV3IHUuUmYuRmEuSmcuT3V0UGFydG5lcnNoaXBSZXNwb25zZTtpZihuLmFjY2VwdD10LG4uYWNjZXB0PT09aS5NVil7dGhpcy55RC5naygpJiYobi5pbnRlcm5hbEFzPXRoaXMueUQuZ2soKSksdGhpcy55RC5GaigpJiYobi5leHRlcm5hbEFzPXRoaXMueUQuRmooKSksdGhpcy55RC5nZXRQdWJsaWNJcCgpJiYobi5wdWJsaWNJcFN0cmluZz10aGlzLnlELmdldFB1YmxpY0lwKCkpLHRoaXMueUQuZ2V0UHJpdmF0ZUlwKCkmJihuLnByaXZhdGVJcFN0cmluZz10aGlzLnlELmdldFByaXZhdGVJcCgpKSxuLnJlcG9ydGluZ0d1aWQ9dGhpcy55RC5nZXRSZXBvcnRpbmdHdWlkKCk7dmFyIHM9dGhpcy55RC5VaigpLG89W107cy5mb3JFYWNoKGZ1bmN0aW9uKGUsdCl7dmFyIGk9bmV3IHUuUmYuRmEuSmcuU3RyZWFtQ2hhcmFjdGVyaXN0aWNzO2kuYml0cmF0ZT10LGkuc3RyZWFtU3RhdGU9ZS50eXBlLGkuZGVsdGE9bnVsbCE9ci55RC5nZXREZWx0YSgpP3IueUQuZ2V0RGVsdGEoKTotMSxvLnB1c2goaSl9KSxvLmxlbmd0aD4wJiZuLnNldFN0cmVhbUNoYXJhY3RlcmlzdGljcyhvKX1lLkxnKHUuUmYuRWcucGcsbil9Y2F0Y2godCl7RS5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIGNvbnN0cnVjdGluZyBwYXJ0bmVyc2hpcCByZXNwb25zZSBtZXNzYWdlXCIsdGhpcy5sb2dnZXJJZCx2LmhzLmNyLkt0LHtkZXRhaWxlZEVycm9yOnQsb3RoZXJHdWlkOmUub3RoZXJHdWlkfSl9fSx0LnByb3RvdHlwZS5Caj1mdW5jdGlvbihlKXt0aGlzLmxvZ2dlci53YXJuKHRoaXMubG9nZ2VySWQrZSl9LHQucHJvdG90eXBlLkVqPWZ1bmN0aW9uKGUsdCxyKXt2YXIgaT1lLm90aGVyR3VpZDtpZihyLmV4dGVybmFsQXMmJih0LnBlZXJJbmZvLmV4dGVybmFsQXM9ci5leHRlcm5hbEFzKSxyLmludGVybmFsQXMmJih0LnBlZXJJbmZvLmludGVybmFsQXM9ci5pbnRlcm5hbEFzKSxyLnB1YmxpY0lwU3RyaW5nJiYodC5wZWVySW5mby5wdWJsaWNJcFN0cmluZz1yLnB1YmxpY0lwU3RyaW5nKSxyLnByaXZhdGVJcFN0cmluZyYmKHQucGVlckluZm8ucHJpdmF0ZUlwU3RyaW5nPXIucHJpdmF0ZUlwU3RyaW5nKSxyLnN0cmVhbUNoYXJhY3RlcmlzdGljcyl7dmFyIG49W107ci5zdHJlYW1DaGFyYWN0ZXJpc3RpY3MuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD1uZXcgbC5UcmFja2VyUGVlclN0cmVhbUluZm87dC5zdGF0ZT1lLnN0cmVhbVN0YXRlLHQuYml0cmF0ZT1lLmJpdHJhdGUsdC5kZWx0YT1lLmRlbHRhLG4ucHVzaCh0KX0pLHQucGVlckluZm8uc3RyZWFtcz1ufXRyeXt2YXIgcz1uZXcgaC5QYXJ0bmVyKGksdGhpcy55aixlLHRoaXMubG9nZ2VyLCEwLHQpO3JldHVybiByLnJlcG9ydGluZ0d1aWQmJihzLnJlcG9ydGluZ0d1aWQ9ci5yZXBvcnRpbmdHdWlkLGUucmVjZWl2ZXIuc2V0UmVwb3J0aW5nR3VpZChyLnJlcG9ydGluZ0d1aWQpLGUuc2VuZGVyLnNldFJlcG9ydGluZ0d1aWQoci5yZXBvcnRpbmdHdWlkKSksdC5wZWVySW5mby50eXBlPT1sLlRjLlc/KHRoaXMuZ0Iuc2V0KGkscyksdGhpcy55RC5IaighMCksdGhpcy55RC5ZRyghMCkpOigwIT10aGlzLnlELmdrKCkmJnRoaXMueUQuZ2soKT09PXQucGVlckluZm8uaW50ZXJuYWxBcyYmdGhpcy55RC5IaighMCksdGhpcy5hai5zZXQoaSxzKSksdGhpcy5sb2dnZXIuZGVidWcodGhpcy5sb2dnZXJJZCtpK1wiIElTIE5PVyBJTiBQQVJUTkVSXCIpLHN9Y2F0Y2goZSl7RS5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIGFkZGluZyBhIG5ldyBwYXJ0bmVyIG9iamVjdCBpbiB0aGUgbGlzdFwiLHRoaXMubG9nZ2VySWQsdi5ocy5jci5ZdCx7ZGV0YWlsZWRFcnJvcjplLG90aGVyR3VpZDppfSl9fSx0LnByb3RvdHlwZS5LRz1mdW5jdGlvbihlKXt0cnl7dGhpcy5sb2dnZXIuaW5mbyh0aGlzLmxvZ2dlcklkK1wiR09UIFBFRVIgRElTQyBcIitlKSx0aGlzLnhqKGUpJiYodGhpcy5sb2dnZXIuaW5mbyh0aGlzLmxvZ2dlcklkK1wiSU4gUFJUIERJU0MgXCIrZSksdGhpcy5TaihlKSksdGhpcy5faihlKSYmKHRoaXMubG9nZ2VyLmluZm8odGhpcy5sb2dnZXJJZCtcIk9VVCBQUlQgRElTQyBcIitlKSx0aGlzLmRCLmRlbGV0ZShlKSx0aGlzLmZCLmRlbGV0ZShlKSl9Y2F0Y2godCl7RS5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIHJlbW92aW5nIGRpc2NvbmVjdGVkIHBhcnRuZXIgZnJvbSB0aGUgbGlzdFwiLHRoaXMubG9nZ2VySWQsdi5ocy5jci5XdCx7ZGV0YWlsZWRFcnJvcjp0LG90aGVyR3VpZDplfSl9fSx0LnByb3RvdHlwZS5Taj1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3RyeXt0aGlzLmxvZ2dlci5kZWJ1Zyh0aGlzLmxvZ2dlcklkK1wiSU4gUEFSVE5FUiBSRU1PVkUgXCIrZSk7dmFyIHI9dGhpcy5xaihlKTtpZih0aGlzLmdELkdqKHIpLHRoaXMuYWouZGVsZXRlKGUpLHRoaXMuZ0IuZGVsZXRlKGUpLHRoaXMuZ0IubGVuZ3RoPjApdGhpcy55RC5IaighMCk7ZWxzZSBpZigwIT10aGlzLnlELmdrKCkpe3ZhciBpPSExO3RoaXMuYWouZm9yRWFjaChmdW5jdGlvbihlKXt0LnlELmdrKCk9PT1lLkVrLnBlZXJJbmZvLmludGVybmFsQXMmJihpPSEwKX0pLHRoaXMueUQuSGooaSl9ZWxzZSB0aGlzLnlELkhqKCExKX1jYXRjaCh0KXtFLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgcmVtb3ZpbmcgdGhlIGluIHBhcnRuZXJcIix0aGlzLmxvZ2dlcklkLHYuaHMuY3IuenQse2RldGFpbGVkRXJyb3I6dCxvdGhlckd1aWQ6ZX0pfX0sdC5wcm90b3R5cGUuVmo9ZnVuY3Rpb24oZSx0KXt0cnl7dGhpcy5sb2dnZXIuZGVidWcodGhpcy5sb2dnZXJJZCtcIkNMT1NFIFJFQ0VJVkVEIEZST00gXCIrZStcIiBUWVBFIFwiK1RbdC5nZXRUeXBlKCldKSx0LmdldFR5cGUoKSE9VC5KcSYmdC5nZXRUeXBlKCkhPVQuSFZ8fCh0aGlzLmRCLmhhcyhlKSYmdGhpcy5kQi5kZWxldGUoZSksdGhpcy5mQi5oYXMoZSkmJnRoaXMuZkIuZGVsZXRlKGUpKSx0LmdldFR5cGUoKSE9VC5KcSYmdC5nZXRUeXBlKCkhPVQuQlZ8fHRoaXMuU2ooZSl9Y2F0Y2godCl7RS5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIHdoZW4gY2xvc2UgcmVjZWl2ZWRcIix0aGlzLmxvZ2dlcklkLHYuaHMuY3IuSnQse2RldGFpbGVkRXJyb3I6dCxvdGhlckd1aWQ6ZX0pfX0sdC5wcm90b3R5cGUuZ2o9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXMuZGVmZXIoKTt0cnl7dmFyIGk9bmV3IHUuUmYuRmEuSmcuT3V0UGFydG5lcnNoaXBSZXF1ZXN0O2kuZ3VpZD10aGlzLmdkLGkuY29udGV4dElkPXRoaXMuY29udGV4dElkLGkucDJwUHJvdG9jb2xWZXJzaW9uPWMuaGguSG8uRG8saS5yZXBvcnRpbmdHdWlkPXRoaXMueUQuZ2V0UmVwb3J0aW5nR3VpZCgpLHRoaXMueUQuZ2soKSYmKGkuaW50ZXJuYWxBcz10aGlzLnlELmdrKCkpLHRoaXMueUQuRmooKSYmKGkuZXh0ZXJuYWxBcz10aGlzLnlELkZqKCkpLHRoaXMueUQuZ2V0UHJpdmF0ZUlwKCkmJihpLnByaXZhdGVJcFN0cmluZz10aGlzLnlELmdldFByaXZhdGVJcCgpKSx0aGlzLnlELmdldFB1YmxpY0lwKCkmJihpLnB1YmxpY0lwU3RyaW5nPXRoaXMueUQuZ2V0UHVibGljSXAoKSk7dmFyIG49dGhpcy55RC5VaigpLG89W107bi5mb3JFYWNoKGZ1bmN0aW9uKGUscil7dmFyIGk9bmV3IHUuUmYuRmEuSmcuU3RyZWFtQ2hhcmFjdGVyaXN0aWNzO2kuYml0cmF0ZT1yLGkuc3RyZWFtU3RhdGU9ZS50eXBlLGkuZGVsdGE9bnVsbCE9dC55RC5nZXREZWx0YSgpP3QueUQuZ2V0RGVsdGEoKTotMSxvLnB1c2goaSl9KSxvLmxlbmd0aD4wJiZpLnNldFN0cmVhbUNoYXJhY3RlcmlzdGljcyhvKSx0aGlzLmxvZ2dlci5kZWJ1Zyh0aGlzLmxvZ2dlcklkK1wiU0VORCBQQVJUIFJFUSBUTyBcIitlLm90aGVyR3VpZCtcIiBXSVRIIElEIFwiK2kuY29udGV4dElkK1wiIGludGVybmFsQVMgXCIraS5pbnRlcm5hbEFzK1wiIGV4dGVybmFsQXMgXCIraS5leHRlcm5hbEFzK1wiIHByaXZhdGUgaXAgXCIraS5wcml2YXRlSXBTdHJpbmcrXCIgcHVibGljIGlwIFwiK2kucHVibGljSXBTdHJpbmcrXCIgckd1aWQgXCIrdGhpcy55RC5nZXRSZXBvcnRpbmdHdWlkKCkpO3ZhciBoPWEuRnJhbWV3b3JrLnNldFRpbWVvdXQoZnVuY3Rpb24oKXt0LmpqKHIsZS5vdGhlckd1aWQpfSxjLmhoLk5vLkNvKTt0aGlzLnFWLnNldChlLm90aGVyR3VpZCx7bUc6aCxkZWZlcjpyfSksZS5MZyh1LlJmLkVnLmxnLGkpfWNhdGNoKHQpe0UuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBzZW5kaW5nIHBhcnRuZXJzaGlwIHJlcXVlc3RcIix0aGlzLmxvZ2dlcklkLHYuaHMuY3IuWHQse2RldGFpbGVkRXJyb3I6dCxvdGhlckd1aWQ6ZS5vdGhlckd1aWR9KSxyLnJlamVjdCh0KX1yZXR1cm4gci5Tc30sdC5wcm90b3R5cGUuUWo9ZnVuY3Rpb24oZSx0KXt2YXIgcj10Lm90aGVyR3VpZCxuPXRoaXMucVYuZ2V0KHIpO24/KGEuRnJhbWV3b3JrLmNsZWFyVGltZW91dChuLm1HKSx0aGlzLnFWLmRlbGV0ZShyKSxlLmFjY2VwdD09PWkuTVY/bi5kZWZlci5yZXNvbHZlKHt5Zzp0LG1zZzplfSk6bi5kZWZlci5yZWplY3QoXCJOT1QgQUNDRVBURURcIikpOkUuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciByZWNlaXZpbmcgb3V0IHBhcnRuZXJzaGlwIHJlc3BvbnNlIGZyb20gYW4gdW5rbm93biBwZWVyXCIsdGhpcy5sb2dnZXJJZCx2LmhzLmNyLmVyLHtvdGhlckd1aWQ6cn0pfSx0LnByb3RvdHlwZS5qaj1mdW5jdGlvbihlLHQpe2lmKHRoaXMucVYuaGFzKHQpKXtFLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgcGFydG5lcnNoaXAgcmVxdWVzdCBleHBpcmVkXCIsdGhpcy5sb2dnZXJJZCx2LmhzLmNyLlp0LHtvdGhlckd1aWQ6dH0pO3ZhciByPXRoaXMucVYuZ2V0KHQpO3RoaXMucVYuZGVsZXRlKHQpLHIuZGVmZXIucmVqZWN0KFwiRVhQSVJFRFwiKX1lbHNlIEUuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBwYXJ0bmVyc2hpcCByZXF1ZXN0IGV4cGlyZWQgZm9yIHVua25vd24gcGVlclwiLHRoaXMubG9nZ2VySWQsdi5ocy5jci4kdCx7b3RoZXJHdWlkOnR9KX0sdC5wcm90b3R5cGUuJFY9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9cy5kZWZlcigpLHI9dGhpcy5hai52YWx1ZXMoKTt0aGlzLmdCLmZvckVhY2goZnVuY3Rpb24oZSx0KXtyLnB1c2goZSl9KTt2YXIgaT1yLnNsaWNlKCkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLndqLmNsb3NlKCl9KTtyZXR1cm4gcy5hbGwoaSkudGhlbihmdW5jdGlvbihlKXt0LnJlc29sdmUoXCJyZXNvbHZlZFwiKX0pLmZhaWwoZnVuY3Rpb24ocil7RS5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIGNsb3NpbmcgcGFydG5lcnNoaXBcIixlLmxvZ2dlcklkLHYuaHMuY3IudHIpLHQucmVqZWN0KFwiY291bGQgbm90IGNsb3NlXCIpfSksdC5Tc30sdC5wcm90b3R5cGUuYmo9ZnVuY3Rpb24oZSl7dGhpcy5OZy5kaXNjb25uZWN0KGUpfSx0LnByb3RvdHlwZS5YVj1mdW5jdGlvbihlKXt2YXIgdD10aGlzOy0xIT10aGlzLlZWJiZhLkZyYW1ld29yay5jbGVhckludGVydmFsKHRoaXMuVlYpLHRoaXMuVlY9YS5GcmFtZXdvcmsuc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXt0LktqKCl9LGUpfSx0LnByb3RvdHlwZS5Laj1mdW5jdGlvbigpe3RyeXtpZih0aGlzLnlELnlrKCkmJiF0aGlzLnlELmNrKCkmJnkpe3ZhciBlPXRoaXMueUQuUmsoKSx0PXRoaXMuY29udGV4dC5QRCgpLmJpdHJhdGU7aWYodCYmdGhpcy54aihlLnV1aWQpKXt2YXIgcj10aGlzLnFqKGUudXVpZCk7dGhpcy5ZaihyLndqLHQpfX19Y2F0Y2goZSl7RS5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIGFubm91bmNpbmcgYml0cmF0ZVwiLHRoaXMubG9nZ2VySWQsdi5ocy5jci5ycixlKX19LHQucHJvdG90eXBlLllqPWZ1bmN0aW9uKGUsdCl7dHJ5e3ZhciByPW5ldyB1LlJmLkZhLkpnLkJpdHJhdGU7ci5ndWlkPXRoaXMuZ2Qsci5iaXRyYXRlPXQsdGhpcy5sb2dnZXIuZGVidWcodGhpcy5sb2dnZXJJZCtcIkFOTk9VTkNFIEJJVFJBVEUgXCIrci5iaXRyYXRlK1wiIFRPIFBFRVIgR1VJRCBcIitlLm90aGVyR3VpZCksZS5MZyh1LlJmLkVnLkJpdHJhdGUscil9Y2F0Y2godCl7RS5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIGNvbnN0cnVjdGluZyBiaXRyYXRlIGFubm91bmNlbWVudFwiLHRoaXMubG9nZ2VySWQsdi5ocy5jci5pcix7ZGV0YWlsZWRFcnJvcjp0LG90aGVyR3VpZDplLm90aGVyR3VpZH0pfX0sdC5wcm90b3R5cGUuV2o9ZnVuY3Rpb24oZSl7dHJ5e3RoaXMubG9nZ2VyLmRlYnVnKHRoaXMubG9nZ2VySWQrXCJSRUNFSVZFRCBCSVRSQVRFIFwiK2UuYml0cmF0ZStcIiBGUk9NIFBFRVIgR1VJRCBcIitlLmd1aWQpLHRoaXMub0cua2ouaGFzKGUuZ2V0R3VpZCgpKSYmKHRoaXMub0cua2ouZ2V0KGUuZ3VpZCkuemooZS5iaXRyYXRlKSx0aGlzLm1ELkpqKCkpfWNhdGNoKHQpe0UuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciByZWNlaXZpbmcgYml0cmF0ZSBpbmZvXCIsdGhpcy5sb2dnZXJJZCx2LmhzLmNyLm5yLHtkZXRhaWxlZEVycm9yOnQsb3RoZXJHdWlkOmUuZ3VpZH0pfX0sdC5wcm90b3R5cGUuWGo9ZnVuY3Rpb24oZSl7dHJ5e3ZhciB0PWUuZ3VpZCxyPXRoaXMucWoodCk7ciYmdGhpcy5aaihyLGUpLHI9dGhpcy4kaih0KSxyJiZ0aGlzLlpqKHIsZSksdGhpcy56Vi5Uaih0LGUucHJpdmF0ZUlwU3RyaW5nLGUucHVibGljSXBTdHJpbmcpfWNhdGNoKHQpe0UuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciByZWNlaXZpbmcgcGVlciBpbmZvXCIsdGhpcy5sb2dnZXJJZCx2LmhzLmNyLnNyLHtkZXRhaWxlZEVycm9yOnQsb3RoZXJHdWlkOmUuZ3VpZH0pfX0sdC5wcm90b3R5cGUuWmo9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLkVrLnBlZXJJbmZvO2lmKHQucHJpdmF0ZUlwU3RyaW5nJiYoci5wcml2YXRlSXBTdHJpbmc9dC5wcml2YXRlSXBTdHJpbmcpLHQucHVibGljSXBTdHJpbmcmJihyLnB1YmxpY0lwU3RyaW5nPXQucHVibGljSXBTdHJpbmcpLHQuZXh0ZXJuYWxBcyYmKHIuZXh0ZXJuYWxBcz10LmV4dGVybmFsQXMpLHQuaW50ZXJuYWxBcyYmKHIuaW50ZXJuYWxBcz10LmludGVybmFsQXMpLHQuc3RyZWFtQ2hhcmFjdGVyaXN0aWNzKXt2YXIgaT1bXTt0LnN0cmVhbUNoYXJhY3RlcmlzdGljcy5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBsLlRyYWNrZXJQZWVyU3RyZWFtSW5mbzt0LmJpdHJhdGU9ZS5iaXRyYXRlLHQuZGVsdGE9ZS5kZWx0YSx0LnN0YXRlPWUuc3RyZWFtU3RhdGUsaS5wdXNoKHQpfSksci5zdHJlYW1zPWl9fSx0LnByb3RvdHlwZS5aVj1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3RoaXMualYmJmEuRnJhbWV3b3JrLmNsZWFySW50ZXJ2YWwodGhpcy5qViksdGhpcy5qVj1hLkZyYW1ld29yay5zZXRJbnRlcnZhbChmdW5jdGlvbigpe3QuZVEoKX0sZSl9LHQucHJvdG90eXBlLmVRPWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0cnl7aWYodGhpcy55RC5nZXRQcml2YXRlSXAoKXx8dGhpcy55RC5nZXRQdWJsaWNJcCgpfHx0aGlzLnlELmdrKCl8fHRoaXMueUQuRmooKSl7dmFyIHQ9dGhpcy50USgpLHI9bmV3IHUuUmYuRmEuSmcuUGVlckluZm9NZXNzYWdlO3IuZ3VpZD10aGlzLnlELmdldElkKCksdGhpcy55RC5nZXRQcml2YXRlSXAoKSYmKHIucHJpdmF0ZUlwU3RyaW5nPXRoaXMueUQuZ2V0UHJpdmF0ZUlwKCkpLHRoaXMueUQuZ2V0UHVibGljSXAoKSYmKHIucHVibGljSXBTdHJpbmc9dGhpcy55RC5nZXRQdWJsaWNJcCgpKSx0aGlzLnlELkZqKCkmJihyLmV4dGVybmFsQXM9dGhpcy55RC5GaigpKSx0aGlzLnlELmdrKCkmJihyLmludGVybmFsQXM9dGhpcy55RC5naygpKTt2YXIgaT10aGlzLnlELlVqKCksbj1bXTtpLmZvckVhY2goZnVuY3Rpb24odCxyKXt2YXIgaT1uZXcgdS5SZi5GYS5KZy5TdHJlYW1DaGFyYWN0ZXJpc3RpY3M7aS5iaXRyYXRlPXIsaS5zdHJlYW1TdGF0ZT10LnR5cGUsaS5kZWx0YT1udWxsIT1lLnlELmdldERlbHRhKCk/ZS55RC5nZXREZWx0YSgpOi0xLG4ucHVzaChpKX0pLG4ubGVuZ3RoPjAmJnIuc2V0U3RyZWFtQ2hhcmFjdGVyaXN0aWNzKG4pLHQuZm9yRWFjaChmdW5jdGlvbihlLHQpe2Uud2ouTGcodS5SZi5FZy5uZCxyKX0pfX1jYXRjaChlKXtFLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgYW5ub3VuY2luZyBwZWVyIGluZm8gdG8gYWxsIHBhcnRuZXJzXCIsdGhpcy5sb2dnZXJJZCx2LmhzLmNyLmFyLGUpfX0sdC5wcm90b3R5cGUudFE9ZnVuY3Rpb24oKXt0cnl7dmFyIGU9bmV3IG87cmV0dXJuIHRoaXMuZEIuZm9yRWFjaChmdW5jdGlvbih0LHIpe2UuaGFzKHIpfHxlLnNldChyLHQpfSksdGhpcy5mQi5mb3JFYWNoKGZ1bmN0aW9uKHQscil7ZS5oYXMocil8fGUuc2V0KHIsdCl9KSx0aGlzLmdCLmZvckVhY2goZnVuY3Rpb24odCxyKXtlLmhhcyhyKXx8ZS5zZXQocix0KX0pLHRoaXMuYWouZm9yRWFjaChmdW5jdGlvbih0LHIpe2UuaGFzKHIpfHxlLnNldChyLHQpfSksZX1jYXRjaChlKXtyZXR1cm4gRS5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIGNvbGxlY3RpbmcgYWxsIHBhcnRuZXJzXCIsdGhpcy5sb2dnZXJJZCx2LmhzLmNyLmhyLGUpLG5ldyBvfX0sdH0ocC5yUSk7dC5pUT1tfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlfSgpO2kublE9ITAsaS5zUT0zZTQsaS5vUT02ZTQsaS5hUT0zZTQsdC5oUT1pO3ZhciBuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZX0oKTtuLlhhPVwic2l0ZVwiLG4uWmE9XCJleHRlcm5hbEFzXCIsbi4kYT1cImF2YWlsYWJsZVNlbmRSYXRlXCIsbi5laD1cInJlbW90ZUFkZHJlc3NcIixuLnRoPVwibG9jYWxBZGRyZXNzXCIsdC5jUT1ufSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7dGhpcy51UT1lLHRoaXMubFE9dH1yZXR1cm4gZS5wcm90b3R5cGUucGo9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sUX0sZS5wcm90b3R5cGUuZGo9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51UX0sZX0oKTt0LnBRPWl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGUuZFE9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLmdRLmZRKCExKSxpPXQuZ1EuZlEoITEpO3JldHVybiByPmk/MTpyPGk/MDotMX0sZX0oKTt0LkVRPWk7dmFyIG49ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlLmRRPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS52US5mUSghMSksaT10LnZRLmZRKCExKTtyZXR1cm4gcj5pPzE6cjxpPzA6LTF9LGV9KCk7dC55UT1ufSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9cigzKSxuPXIoNCkscz1yKDApLG89cigxMDQpLGE9cigxMDUpLGg9cigyNiksYz1yKDQxKSx1PXIoMTgpLGw9cigyMSkscD1yKDEwOSksZD1yKDIyKSxmPXIoMTExKSxnPXIoOCksRT1yKDExMyksdj1yKDU2KSx5PXIoMzIpLFQ9cigxKSxtPXIoNDYpLEk9cigyOSksUz1yKDYpLFI9by5IaXZlQ29tbS5PcHRpb25zLHc9YS5IaXZlQ29tbS5UUSxiPWguSGl2ZUNvbW0ub0UsQz1oLkhpdmVDb21tLlNFLF89aC5IaXZlQ29tbS5IaXZlVGVjaEVycm9yLFA9aC5IaXZlQ29tbS52RSxBPWguSGl2ZUNvbW0ud0UsTz1yKDU0KSxOPVMuaGUuZGgsRD1TLmhlLmxoLGs9Uy5oZS51aCxMPVMuaGUucGg7KGt8fEwpJiZyKDE0KS5IaXZlQ29uZmlnLHQudmVyc2lvbj1OO3ZhciBNOyFmdW5jdGlvbihlKXt2YXIgYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dGhpcy5tUT1bd1t3LkhpdmVKYXZhXSx3W3cuSGl2ZUpzUHJveHldLHdbdy5IaXZlSlNdLHdbdy5TdGF0c0pTXV0sdGhpcy5JUT1uZXcgaSx0aGlzLlNRPW5ldyBBcnJheSx0aGlzLlJRPW5ldyBBcnJheSx0aGlzLndRPW51bGwsdGhpcy5iUT0wLHRoaXMuQ1E9MCx0aGlzLmxvZ2dlcklkPVwiW0hpdmVDb21tXSBcIix0aGlzLl9RPTAsdGhpcy5QUT11LlJsLmdldEl0ZW0oXCJoaXZlUGx1Z2luSWRcIiksdGhpcy5QUXx8KHRoaXMuUFE9TWF0aC5hYnMoTWF0aC5mbG9vcig2ODcxOTQ3NjczNipNYXRoLnJhbmRvbSgpKSkudG9TdHJpbmcoMTYpLHUuUmwuc2V0SXRlbShcImhpdmVQbHVnaW5JZFwiLHRoaXMuUFEpKSxULkVycm9yTW9uaXRvci52ZSh0LnZlcnNpb24pLHRoaXMub3B0aW9uc189bmV3IFIuQVEsdGhpcy5PUShlKSxsLlNwKGUsdGhpcy5vcHRpb25zXyksbC5ScCh3aW5kb3cubG9jYXRpb24uaHJlZixuZXcgUi5OUSx0aGlzLm9wdGlvbnNfKSxvLmtRLkRRKHRoaXMub3B0aW9uc18pLHRoaXMuZmY9cy5GcmFtZXdvcmsucmVzb2x2ZShzLkZyYW1ld29yay5WLlIpLGMuSGl2ZUNvbmZpZy5GcmFtZXdvcmsuTG9nZ2VyVGltZXN0YW1wPXRoaXMub3B0aW9ucygpLmxvZ2dlclRpbWVzdGFtcCx0aGlzLmZmLmZOKHRoaXMub3B0aW9ucygpLmRlYnVnTGV2ZWwpLFQuRXJyb3JNb25pdG9yLnZlKCkubWUodGhpcy5mZi5sb2coKSk7dmFyIHI9cy5GcmFtZXdvcmsucmVzb2x2ZShnLnBjLk0pLG49cy5GcmFtZXdvcmsucmVzb2x2ZShnLnBjLnNjKTtyLlpsKCkudGhlbihmdW5jdGlvbihlKXtULkVycm9yTW9uaXRvci52ZSgpLnNldFVzZXIoZS50cCgpKSxULkVycm9yTW9uaXRvci52ZSgpLkllKHtyZXBvcnRpbmdHdWlkOmUucnAoKX0pLFQuRXJyb3JNb25pdG9yLnZlKCkuSWUoe3AycElkOmUudHAoKX0pfSk7dmFyIGE9e307bmV3IHAuTFEodGhpcyksbi5nZXRDb25uZWN0aXZpdHlJbmZvKCkudGhlbihmdW5jdGlvbihlKXthPXtwSVBBZGRyOmUuZ2V0TmV0d29ya0NoYW5nZWQoKS5nZXRQcml2YXRlSXAoKX0sVC5FcnJvck1vbml0b3IudmUoKS5JZSh7cHJpdmF0ZUlwOmEucElQQWRkcn0pfSksd2luZG93LmdmPXRoaXMuZmYubG9nKCksdGhpcy5NUSgpLHRoaXMucGx1Z2luUmVmZXJlbmNlPW5ldyBBKHRoaXMpO3ZhciBoPXRoaXMub3B0aW9ucygpLmlkbGVUaW1lUGVyaW9kPnRoaXMub3B0aW9ucygpLmZlZWRiYWNrUGVyaW9kP3RoaXMub3B0aW9ucygpLmlkbGVUaW1lUGVyaW9kOkkuTC5uaDt0aGlzLkZRPW5ldyB1Lk5sKGgpfXJldHVybiBlLnByb3RvdHlwZS5vcHRpb25zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3B0aW9uc199LGUucHJvdG90eXBlLmxvZ2dlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLndRP3RoaXMuZmYubG9nKHRoaXMud1EuaWQpOnRoaXMuZmYubG9nKCl9LGUucHJvdG90eXBlLmxvZ2dlckxldmVsPWZ1bmN0aW9uKCl7aWYodGhpcy5sb2dnZXIpcmV0dXJuIHRoaXMuZmYubGV2ZWx9LGUucHJvdG90eXBlLmdldFBsdWdpbklkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuUFF9LGUucHJvdG90eXBlLmdldENvbW1WZXJzaW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHQudmVyc2lvbn0sZS5wcm90b3R5cGUudXBkYXRlQ29tbXNGb3JJbml0U2Vzc2lvbnM9ZnVuY3Rpb24oKXtmb3IodmFyIGU9MCx0PXRoaXMuUlE7ZTx0Lmxlbmd0aDtlKyspe3ZhciByPXRbZV07ci50ZWNoLkxMKHRoaXMpLFwiSGl2ZUpTXCI9PT1yLnRlY2guZ2V0TmFtZSgpJiZyLnRlY2guVVEmJnIudGVjaC5VUS5MTCh0aGlzKX19LGUucHJvdG90eXBlLk9RPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyB2LlN0YXRzSlModGhpcyxlKTtpZih0aGlzLklRLnNldCh2LlN0YXRzSlMuRUwsdCksayl7dmFyIGk9cigxMzIpLkhpdmVKUzt0aGlzLklRLnNldChpLkVMLG5ldyBpKHRoaXMsZSx0KSl9aWYoTCl7dmFyIG49cigxOTkpLkhpdmVKc1Byb3h5O3RoaXMuSVEuc2V0KG4uRUwsbmV3IG4odGhpcyxlLHQpKX1pZihEKXt2YXIgcz1yKDIwMSkuSGl2ZUphdmE7dGhpcy5JUS5zZXQocy5FTCxuZXcgcyh0aGlzLGUpKX12YXIgbz1lLmhpdmVUZWNoT3JkZXI7aWYoIW98fG8gaW5zdGFuY2VvZiBBcnJheSlpZihvJiZvLmxlbmd0aD4wKWZvcih2YXIgYT1vLmxlbmd0aDthLS07KXt2YXIgaD1vW2FdO1wic3RyaW5nXCIhPXR5cGVvZiBofHwtMT09dGhpcy5tUS5pbmRleE9mKGgpPyhjb25zb2xlLndhcm4odGhpcy5sb2dnZXJJZCsnVGhlIFwiJytoKydcIiBIaXZlIHRlY2ggaXMgdW5kZWZpbmVkJyksby5zcGxpY2UoYSwxKSk6XCJzdHJpbmdcIj09dHlwZW9mIGgmJnRoaXMuSVEuaGFzKGgpfHxjb25zb2xlLndhcm4odGhpcy5sb2dnZXJJZCsnVGhlIFwiJytoKydcIiBIaXZlIHRlY2ggaXMgbm90IGVuYWJsZWQgb24gdGhpcyBwbHVnaW4nKX1lbHNlIG89dGhpcy5tUTtlbHNlIGNvbnNvbGUud2Fybih0aGlzLmxvZ2dlcklkK1wiaGl2ZVRlY2hPcmRlciB2YWx1ZSBub3QgYWNjZXB0ZWQuIEl0IG11c3QgYmUgYW4gYXJyYXkgb2Ygc3RyaW5nc1wiKSxvPXRoaXMubVE7ZS5oaXZlVGVjaE9yZGVyPW99LGUucHJvdG90eXBlLnJlc29sdmVUaWNrZXRQcm9taXNlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dGhpcy5sb2dnZXIoKS5ub3RpY2UodGhpcy5sb2dnZXJJZCtcInJlc29sdmluZyBcIitlKTt2YXIgcj1uLmRlZmVyKCk7aWYoIWUpcmV0dXJuIHIucmVqZWN0KHUuU2woXCJcIixiLnNFLFwiTm8gdGlja2V0IHByb3ZpZGVkLlwiKSksci5Tczt0aGlzLkJRKGUpO3ZhciBpPXRoaXMuSFEoKS52YWx1ZXMoKTswPT1pLmxlbmd0aCYmci5yZWplY3QodS5TbChlLGIuckUpKTt2YXIgcyxvLGE9ITEsaD0hMSxjPTAscD1udWxsO3JldHVybiBsLndwKGZ1bmN0aW9uKCl7cmV0dXJuIWEmJiFoJiZjPGkubGVuZ3RoJiYhc30sZnVuY3Rpb24oKXt2YXIgcj1pW2MrK107ci5rTCgpO3ZhciB1O3JldHVybiB1PXIudkwoKSYmIW8/dC5LQihlLHQub3B0aW9ucygpLnRlc3RJZCk6bi5yZXNvbHZlKG51bGwpLHUudGhlbihmdW5jdGlvbihpKXtudWxsIT1pJiYobz1pKTt2YXIgcz1yLm1MKCk7cmV0dXJuIHIuaW5pdFNlc3Npb24oZSxvKS50aW1lb3V0KHMsXCJbXCIrci5nZXROYW1lKCkrXCJdIEVycm9yOiBpbml0aWFsaXphdGlvbiB0aW1lZCBvdXQgYWZ0ZXIgXCIrcytcIm1zXCIpLnRoZW4oZnVuY3Rpb24oZSl7cD1lLHQueFEocCxyKSxhPSEwLCFyLnZMKCkmJm8mJm8uSGwucmVzZXQoKSxULkVycm9yTW9uaXRvci52ZSgpLkllKHtzZXNzaW9uSWQ6cC5pZH0pLHQubG9nZ2VyKCkubm90aWNlKHQubG9nZ2VySWQrXCJpbml0aWFsaXppbmcgU2Vzc2lvbjpbXCIrcC5pZCtcIl0gVGlja2V0OlwiK3AudGlja2V0LnRvU3RyaW5nKCkrXCIgSGl2ZVRlY2g6W1wiK3AudGVjaC5nZXROYW1lKCkrXCJdXCIpLG4ucmVzb2x2ZSghMCl9LGZ1bmN0aW9uKGkpe2kgaW5zdGFuY2VvZiBFcnJvciYmKGk9bmV3IF8oUC5FRSxpLm1lc3NhZ2UpLHIuREwoaSkpLGkudGlja2V0VXJsPWUsaD0hci5vbkVycm9yKGkpLHQubG9nZ2VyKCkuZGVidWcodC5sb2dnZXJJZCtcInRlY2ggXCIrci5nZXROYW1lKCkrXCI6IFwiK2kubWVzc2FnZSksbi5yZXNvbHZlKCEwKX0pfSxmdW5jdGlvbihlKXtzPWUsbi5yZXNvbHZlKCEwKX0pfSkudGhlbihmdW5jdGlvbigpe3M/ci5yZWplY3QodS5TbChlLGIuc0UscykpOmg/ci5yZWplY3QodS5TbChlLGIubkUpKTphP3IucmVzb2x2ZShwKTpyLnJlamVjdCh1LlNsKGUsYi5yRSkpfSkuY2F0Y2goZnVuY3Rpb24oaSl7VC5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIHJlc29sdmluZyB0aWNrZXQgcHJvbWlzZVwiLHQubG9nZ2VySWQsaSksci5yZWplY3QodS5TbChlLGIudEUsaS50b1N0cmluZygpKSl9KS5kb25lKCksci5Tc30sZS5wcm90b3R5cGUuS0I9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3JldHVybiB5LkhpdmUuUmVwb3J0aW5nKCkuaW5pdFNlc3Npb24oZSwhMSx0KS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiByLmxvZ2dlcigpLmRlYnVnKHIubG9nZ2VySWQrXCJ2ZXJpZmllZCB0aWNrZXQgXCIrZSksci51cGRhdGVQbGF5ZXJJbmZvKHQpLHR9KS5jYXRjaChmdW5jdGlvbihlKXtyZXR1cm4gbi5yZWplY3QoXCJUaWNrZXQgbm90IHZlcmlmaWVkLCBlcnJvcjogXCIrZS5tZXNzYWdlKX0pfSxlLnByb3RvdHlwZS5IUT1mdW5jdGlvbigpe3ZhciBlPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5vcHRpb25zKCkuaGl2ZVRlY2hPcmRlcikpLHQ9bmV3IGk7Zm9yKHZhciByIGluIGUpdGhpcy5JUS5oYXMoZVtyXSkmJnQuc2V0KGVbcl0sdGhpcy5JUS5nZXQoZVtyXSkpO3JldHVybiB0fSxlLnByb3RvdHlwZS5CUT1mdW5jdGlvbihlKXt2YXIgdD1ULkVycm9yTW9uaXRvci52ZSgpO3RyeXt2YXIgcj1uZXcgbS5CTjtyLlJOKGUpLHIudXAoKSYmci5jcCgpJiZyLmhwKCk/dC5zZXRUYWdzKFtyLnVwKCksci5jcCgpLHIuaHAoKV0pOnQubG9nRXJyb3IoXCJUaWNrZXQgbm90IHZhbGlkLCB3ZSBjb3VsZCBub3QgcmVzb2x2ZSB0aGUgdHJpcGxlIHBhcnRuZXJJZC9DdXN0b21lcklkL0NvbnRlbnRJZFwiLHRoaXMubG9nZ2VySWQse3BhcnRuZXJJZDpyLnVwKCksY3VzdG9tZXJJZDpyLmNwKCksY29udGVudElkOnIuaHAoKX0pfWNhdGNoKGUpe3RoaXMubG9nZ2VyKCkud2Fybih0aGlzLmxvZ2dlcklkK1wiIFwiK2UubWVzc2FnZSxlKSx0Lm5vdGlmeShlKX19LGUucHJvdG90eXBlLnVwZGF0ZVBsYXllckluZm89ZnVuY3Rpb24oZSl7dmFyIHI9e2NvbW1WZXJzaW9uOnQudmVyc2lvbixwbHVnaW5OYW1lOnRoaXMuZ2V0UGx1Z2luTmFtZSgpLHBsdWdpblZlcnNpb246dGhpcy5nZXRQbHVnaW5WZXJzaW9uKCkscGxheWVyVGVjaDp0aGlzLmdldFBsYXllclRlY2goKSxwbGF5ZXJWZXJzaW9uOnRoaXMuZ2V0UGxheWVyVmVyc2lvbigpLHRlbGVtZXRyeUlkOnRoaXMuZ2V0VGVsZW1ldHJ5SWQoKX07ZS5IbC51cGRhdGVQbGF5ZXJJbmZvKHIpfSxlLnByb3RvdHlwZS5vblNldHVwVGltZW91dD1mdW5jdGlvbigpe3dpbmRvdy5IaXZlUmVxdWVzdD1YTUxIdHRwUmVxdWVzdCx1LkhpdmVSZXF1ZXN0RmFjdG9yeS5jbGVhcigpLHkuSGl2ZS5SZXBvcnRpbmcoKS5jbG9zZSgpfSxlLnByb3RvdHlwZS5hZGRUZWNoRXZlbnQ9ZnVuY3Rpb24oZSl7dGhpcy53USYmdGhpcy53US50ZWNoPyhlLnNlc3Npb25JZD10aGlzLndRLmlkLHRoaXMud1EudGVjaC5iZCh0aGlzLndRLGUpKTp0aGlzLlNRLnB1c2goZSl9LGUucHJvdG90eXBlLmZsdXNoVGVjaEV2ZW50cz1mdW5jdGlvbigpe3ZhciBlPXRoaXMuU1E7cmV0dXJuIHRoaXMuU1E9bmV3IEFycmF5LGV9LGUucHJvdG90eXBlLk1RPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXdpbmRvdzt0LmFkZEV2ZW50TGlzdGVuZXI/dC5hZGRFdmVudExpc3RlbmVyKFwiYmVmb3JldW5sb2FkXCIsZnVuY3Rpb24oKXtlLnFRKCEwLCExKX0sITEpOnQuYXR0YWNoRXZlbnQoXCJvbmJlZm9yZXVubG9hZFwiLGZ1bmN0aW9uKCl7ZS5xUSghMCwhMSl9KX0sZS5wcm90b3R5cGUuY2xvc2VIaXZlU2Vzc2lvbj1mdW5jdGlvbihlKXt0aGlzLmxvZ2dlcigpLmRlYnVnKFwiTWFudWFsbHkgQ2xvc2luZyBTZXNzaW9uXCIrKGU/XCIgYmVjYXVzZTogXCIrZTpcIlwiKSk7dmFyIHQ9dGhpcy5nZXRBY3RpdmVTZXNzaW9uKCk7dCYmdS5IaXZlUmVxdWVzdEZhY3RvcnkuY2xlYXJTZXNzaW9uU3RhdGUodC5pZCksdGhpcy5yZXNldFNlc3Npb24oITApfSxlLnByb3RvdHlwZS5yZXNldFNlc3Npb249ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0aGlzLnFRKGUpLCExPT09ZT90aGlzLndRJiZ0aGlzLlJRLmV2ZXJ5KGZ1bmN0aW9uKGUpe3JldHVybiBlLmlkIT09dC53US5pZH0pJiZ0aGlzLlJRLnVuc2hpZnQodGhpcy53USk6dGhpcy5SUS5sZW5ndGg9MCx0aGlzLkdRKCksdGhpcy53UT1udWxsLHRoaXMuYlE9MCx0aGlzLkNRPTB9LGUucHJvdG90eXBlLnhRPWZ1bmN0aW9uKGUsdCl7ZS50ZWNoPXQsdGhpcy5SUS5wdXNoKGUpfSxlLnByb3RvdHlwZS5vbkFjdGl2YXRlU2Vzc2lvbj1mdW5jdGlvbihlKXtpZihudWxsPT10aGlzLndRKXtmb3IodmFyIHQ9ZXx8dGhpcy5nZXRQbGF5ZXJTb3VyY2UoKSxyPTA7cjx0aGlzLlJRLmxlbmd0aDtyKyspe3ZhciBpPXRoaXMuUlFbcl07aWYoaS5pc0FjdGl2ZSh0KSl7aWYodGhpcy53UT1pLHRoaXMud1Eucmw/dGhpcy53US5ybC5GbC5TRCh0aGlzLndRLnRpY2tldCk6dGhpcy5WUSgpLHRoaXMuUlEubGVuZ3RoPTAsdGhpcy53US50ZWNoLm9uQWN0aXZlU2Vzc2lvbih0aGlzLndRKSx0aGlzLmxvZ2dlcigpLm5vdGljZSh0aGlzLmxvZ2dlcklkK1wiYWN0aXZhdGluZyBTZXNzaW9uOltcIit0aGlzLndRLmlkK1wiXSBUaWNrZXQ6XCIrdGhpcy53US50aWNrZXQudG9TdHJpbmcoKStcIiBIaXZlVGVjaDpbXCIrdGhpcy53US50ZWNoLmdldE5hbWUoKStcIl1cIiksdGhpcy5qUSgpLHRoaXMub3B0aW9ucygpLm9uQWN0aXZlU2Vzc2lvbil0cnl7dGhpcy5vcHRpb25zKCkub25BY3RpdmVTZXNzaW9uKGkudG9IaXZlU2Vzc2lvbigpKX1jYXRjaChlKXtULkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKHRoaXMubG9nZ2VySWQrXCIgZXhjZXB0aW9uIGluIHVzZXItZGVmaW5lZCBHZW5lcmljIG9uQWN0aXZlU2Vzc2lvbiBjYWxsYmFjazogXCIrZSl9cmV0dXJuITB9fXRoaXMubG9nZ2VyKCkud2Fybih0aGlzLmxvZ2dlcklkK1wiQ2xvc2luZyBzZXNzaW9ucyAtIHRoZSBhY3RpdmUgc3RyZWFtIGRvZXNuJ3QgbWF0Y2ggYW55IGluaXRpYWxpemVkIHNlc3Npb25zXCIpLHRoaXMubG9nZ2VyKCkud2Fybih0aGlzLmxvZ2dlcklkK1wiQWN0aXZlOlwiK3QrXCIgLSBpbml0aWFsaXplZDogXCIrdGhpcy5SUS5sZW5ndGgpLHRoaXMucmVzZXRTZXNzaW9uKCl9cmV0dXJuITF9LGUucHJvdG90eXBlLmdldEFjdGl2ZVNlc3Npb249ZnVuY3Rpb24oKXtpZih0aGlzLndRKXJldHVybiB0aGlzLndRLnRvSGl2ZVNlc3Npb24oKX0sZS5wcm90b3R5cGUuVlE9ZnVuY3Rpb24oKXt2YXIgZT0hMTt0aGlzLlJRLmZvckVhY2goZnVuY3Rpb24odCl7dC5ybCYmKGU9ITApfSksZSYmeS5IaXZlLlJlcG9ydGluZygpLmNsb3NlKCl9LGUucHJvdG90eXBlLmlzU2Vzc2lvbkFjdGl2ZT1mdW5jdGlvbigpe2lmKG51bGwhPXRoaXMud1Epe2lmKHRoaXMud1EuaXNBY3RpdmUodGhpcy5nZXRQbGF5ZXJTb3VyY2UoKSkpcmV0dXJuITA7dGhpcy5sb2dnZXIoKS53YXJuKHRoaXMubG9nZ2VySWQrXCJTZXNzaW9uIHNyYyBtaXNtYXRjaDogXCIrdGhpcy5nZXRQbGF5ZXJTb3VyY2UoKStcIiAhPSBcIit0aGlzLndRLm1hbmlmZXN0KSx0aGlzLnJlc2V0U2Vzc2lvbigpfXJldHVybiExfSxlLnByb3RvdHlwZS5xUT1mdW5jdGlvbihlLHQpe2lmKHZvaWQgMD09PXQmJih0PSEwKSxudWxsIT10aGlzLndRKXRoaXMubG9nZ2VyKCkubm90aWNlKHRoaXMubG9nZ2VySWQrXCJTdG9wcGluZyBzZXNzaW9uIFtcIit0aGlzLndRLmlkK1wiXVwiKSx0aGlzLndRLmNsb3NlKGUsdCk7ZWxzZSBpZih0aGlzLlJRLmxlbmd0aD4wKXt2YXIgcj10aGlzLlJRWzBdO3RoaXMubG9nZ2VyKCkubm90aWNlKHRoaXMubG9nZ2VySWQrXCJBdHRlbXB0IHRvIHN0b3BwaW5nIHNlc3Npb24gW1wiK3IuaWQrXCJdXCIpLHIuY2xvc2UoZSx0KX19LGUucHJvdG90eXBlLmpRPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztudWxsPT10aGlzLlFRJiYodGhpcy5RUT1zZXRJbnRlcnZhbChmdW5jdGlvbigpe2UuS1EoKX0sdGhpcy5vcHRpb25zKCkuZmVlZGJhY2tQZXJpb2QpLHRoaXMuS1EoKSl9LGUucHJvdG90eXBlLkdRPWZ1bmN0aW9uKCl7Y2xlYXJJbnRlcnZhbCh0aGlzLlFRKSx0aGlzLlFRPW51bGx9LGUucHJvdG90eXBlLktRPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztpZih0aGlzLmlzU2Vzc2lvbkFjdGl2ZSgpKXtpZighdGhpcy5pc0FjdGl2ZSgpKXJldHVybiB2b2lkIHRoaXMucmVzZXRTZXNzaW9uKCk7dmFyIHQ9bmV3IHUudWw7dC5QbD10aGlzLmdldEN1cnJlbnRUaW1lKCksdC5BbD10aGlzLmdldEJ1ZmZlckxlbigpLHQuT2w9dGhpcy5iUSx0LndpZHRoPXRoaXMuZ2V0V2luZG93U2l6ZSgpLndpZHRoLHQuaGVpZ2h0PXRoaXMuZ2V0V2luZG93U2l6ZSgpLmhlaWdodCx0LllRPXRoaXMuaXNGdWxsc2NyZWVuKCksdGhpcy53US5pbCh0aGlzLkZRLmJsKHQpKSx0aGlzLndRLnRlY2guU0wodGhpcy53USx0KS5mYWlsKGZ1bmN0aW9uKHQpe2UubG9nZ2VyKCkud2FybihlLmxvZ2dlcklkK1wic3RhdHMgaGFuZGxpbmcgZmFpbGVkXCIsdCksZS5HUSgpfSl9fSxlLnByb3RvdHlwZS5yZWdpc3RlckdlbmVyaWNFdmVudHM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RyeXt1LlRsLnZlKHRoaXMubG9nZ2VyKCkpLnlsKGZ1bmN0aW9uKHQpe3ZhciByPWUuZ2V0UG90ZW50aWFsU2Vzc2lvbigpO3ImJiFyLnNsKCkmJihlLm9uRXZlbnRGZWVkYmFjayh0P2QuR2wuWXAuS3A6ZC5HbC5ZcC5ISURERU4pLGUubG9nZ2VyKCkuZGVidWcodD9cInZpc2libGVcIjpcImhpZGRlblwiKSl9KX1jYXRjaChlKXtULkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiZXJyb3Igc2V0dGluZyB1cCB0aGUgdmlzaWJpbGl0eUNoYW5nZSBsaXN0ZW5lclwiLHRoaXMubG9nZ2VySWQse2Vycm9yOmV9KX19LGUucHJvdG90eXBlLm9uU3RhcnRCdWZmZXJpbmc9ZnVuY3Rpb24oZSl7dGhpcy5pc1Nlc3Npb25BY3RpdmUoKSYmdGhpcy5DUTw9MCYmKHRoaXMuQ1E9RGF0ZS5ub3coKSwodm9pZCAwPT1lfHxlKSYmdGhpcy5vbkV2ZW50RmVlZGJhY2soZC5HbC5ZcC54cCkpfSxlLnByb3RvdHlwZS5vbkVuZEJ1ZmZlcmluZz1mdW5jdGlvbigpe3ZhciBlPTA9PXRoaXMuYlE7aWYodGhpcy5DUT4wKXt2YXIgdD1EYXRlLm5vdygpLXRoaXMuQ1E7cmV0dXJuIHRoaXMuYlErPXQsdGhpcy5sb2dnZXIoKS5kZWJ1Zyh0aGlzLmxvZ2dlcklkK1wicmVwb3J0aW5nIG5ldyBidWZmZXJpbmcgZXZlbnQgb2YgXCIrdCksdGhpcy5DUT0wLGUmJnRoaXMuS1EoKSwhMH1yZXR1cm4hMX0sZS5wcm90b3R5cGUub25FcnJvcj1mdW5jdGlvbihlLHQscil7dm9pZCAwPT09ciYmKHI9ITApLHRoaXMub25FdmVudEZlZWRiYWNrKGQuR2wuWXAuRVJST1Ise2NvZGU6LTEsXCJwbGF5ZXItY29kZVwiOmV9KSxyJiZ0aGlzLnJlc2V0U2Vzc2lvbigpfSxlLnByb3RvdHlwZS5vbkV2ZW50RmVlZGJhY2s9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLGk9dGhpcy5nZXRQb3RlbnRpYWxTZXNzaW9uKCk7bnVsbD09aXx8aSE9dGhpcy53USYmaS50ZWNoLmdldE5hbWUoKT09PXdbdy5IaXZlSmF2YV18fGkudGVjaC5DTChpLGUsdCkuZmFpbChmdW5jdGlvbihlKXtyLmxvZ2dlcigpLndhcm4oci5sb2dnZXJJZCtcImVycm9yIGluIGZvcndhcmRpbmcgcGxheWVyIGV2ZW50IHRvIHRlY2hcIixlKX0pfSxlLnByb3RvdHlwZS5nZXRQb3RlbnRpYWxTZXNzaW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMud1E/dGhpcy53UTp0aGlzLlJRJiZ0aGlzLlJRLmxlbmd0aD4wP3RoaXMuUlFbMF06dm9pZCAwfSxlLnByb3RvdHlwZS5pbml0U3RhdHVzQ29kZT1mdW5jdGlvbigpe3RoaXMuX1E9MH0sZS5wcm90b3R5cGUuc2V0U3RhdHVzQ29kZT1mdW5jdGlvbihlLHQpe3RoaXMuaW5pdFN0YXR1c0NvZGUoKTt0aGlzLl9RKz1lPDwyOCx0JiYwPT09ZSYmKHRoaXMuX1ErPTE8PDQqKDYtd1t0LmdldE5hbWUoKV0pKSxlPjAmJlQuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJTdGF0dXMgQ29kZSBFcnJvclwiLHRoaXMubG9nZ2VySWQse2NvZGU6Q1tlXX0sW1wiUGx1Z2luIEVycm9yIENvZGVcIixDW2VdXSl9LGUucHJvdG90eXBlLmdldFN0YXR1c0NvZGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fUX0sZS5wcm90b3R5cGUuZ2V0VGVsZW1ldHJ5SWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcHRpb25zKCkudGVsZW1ldHJ5SWR9LGUubG9nRXJyb3I9ZnVuY3Rpb24oZSx0LHIsaSl7dmFyIG49VC5FcnJvck1vbml0b3IudmUoKTtuLmxvZ0Vycm9yLmFwcGx5KG4sYXJndW1lbnRzKX0sZS5wcm90b3R5cGUucmVnaXN0ZXJDb21tPWZ1bmN0aW9uKGUpe08uenUucmVnaXN0ZXJDb21tKHRoaXMsZSl9LGV9KCk7ZS5QbHVnaW49YX0oTT10LkhpdmVDb21tfHwodC5IaXZlQ29tbT17fSkpLHMuRnJhbWV3b3JrLiQobmV3IGYuV1EpLHMuRnJhbWV3b3JrLmllKFwicGVlcjBcIixuZXcgRS56USkscy5GcmFtZXdvcmsubmUoXCJwZWVyMFwiKSxcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiYod2luZG93LkhpdmVSZXF1ZXN0RmFjdG9yeT11LkhpdmVSZXF1ZXN0RmFjdG9yeSx2b2lkIDA9PT13aW5kb3cuSGl2ZUNvbW0mJih3aW5kb3cuSGl2ZUNvbW09e30pLHdpbmRvdy5IaXZlQ29tbS5QbHVnaW49TS5QbHVnaW4sd2luZG93LkhpdmVDb21tLk9wdGlvbnM9Ui5BUSx3aW5kb3cuSGl2ZUNvbW0uSGl2ZVJlcXVlc3RGYWN0b3J5PXUuSGl2ZVJlcXVlc3RGYWN0b3J5LHdpbmRvdy5IaXZlQ29tbS56dT1PLnp1LHdpbmRvdy5IaXZlQ29tbS5IaXZlUGxheWVyRXh0ZW5kZWRTdGF0cz11LkhpdmVQbGF5ZXJFeHRlbmRlZFN0YXRzLHdpbmRvdy5IaXZlQ29tbS5UZWNoTmFtZT1hLkhpdmVDb21tLlRlY2hOYW1lLHdpbmRvdy5IaXZlQ29tbS5sb2dFcnJvcj1NLlBsdWdpbi5sb2dFcnJvcil9LGZ1bmN0aW9uKGUsdCl7aWYoIVJlZ0V4cC5lc2NhcGUpe3ZhciByPS9bLVtcXF17fSgpKis/LlxcXFxeJHwsI1xcc10vZztSZWdFeHAuZXNjYXBlPWZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UocixcIlxcXFwkJlwiKX19fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaSgpe3Rocm93IG5ldyBFcnJvcihcIkNhbid0IGNvbnN0cnVjdC4gTWFwQ2hhbmdlcyBpcyBhIG1peGluLlwiKX12YXIgbj1yKDM3KSxzPXIoNTApO2UuaT1pO3ZhciBvPShPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LG5ldyBuKSxhPW51bGw7aS5wcm90b3R5cGUuSlE9ZnVuY3Rpb24oKXtyZXR1cm4gby5oYXModGhpcyl8fChhfHwoYT1yKDUxKSksby5zZXQodGhpcyxhKCkpKSxvLmdldCh0aGlzKX0saS5wcm90b3R5cGUuWFE9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5KUSgpO3JldHVybiBlPWV8fFwiXCIsdC5oYXMoZSl8fHQuc2V0KGUse1ljOm5ldyBzLFdjOm5ldyBzfSksdC5nZXQoZSl9LGkucHJvdG90eXBlLlpRPWZ1bmN0aW9uKGUsdCxyKXshdGhpcy5aYyYmdGhpcy5YYyYmdGhpcy5YYygpO3ZhciBpLG49dGhpcy5YUSh0KTtpPXI/bi5ZYzpuLldjLGkucHVzaChlKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcImRpc3BhdGNoZXNNYXBDaGFuZ2VzXCIse3ZhbHVlOiEwLEFoOiEwLGw6ITAscDohMX0pO3ZhciBzPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKCl7cyYmKHMuJFEoZSx0LHIpLHM9bnVsbCl9fSxpLnByb3RvdHlwZS4kUT1mdW5jdGlvbihlLHQscil7dmFyIGksbj10aGlzLlhRKHQpO2k9cj9uLlljOm4uV2M7dmFyIHM9aS5MayhlKTtpZighcyl0aHJvdyBuZXcgRXJyb3IoXCJDYW4ndCByZW1vdmUgbWFwIGNoYW5nZSBsaXN0ZW5lcjogZG9lcyBub3QgZXhpc3Q6IHRva2VuIFwiK0pTT04uc3RyaW5naWZ5KHQpKTtzLmRlbGV0ZSgpfSxpLnByb3RvdHlwZS5Yaz1mdW5jdGlvbihlLHQscil7dmFyIGk9XCJNYXBcIisocj9cIldpbGxDaGFuZ2VcIjpcIkNoYW5nZVwiKTt0aGlzLkpRKCkuZm9yRWFjaChmdW5jdGlvbihuLHMpe2lmKCFuLmlzQWN0aXZlKXtuLmlzQWN0aXZlPSEwO3ZhciBvO289cj9uLlljOm4uV2M7dmFyIGE9XCJoYW5kbGVcIisocy5zbGljZSgwLDEpLnRvVXBwZXJDYXNlKCkrcy5zbGljZSgxKSkraTt0cnl7by5mb3JFYWNoKGZ1bmN0aW9uKHIpe2lmKHJbYV0pclthXSh0LGUsdGhpcyk7ZWxzZXtpZighci5jYWxsKXRocm93IG5ldyBFcnJvcihcIkhhbmRsZXIgXCIrcitcIiBoYXMgbm8gbWV0aG9kIFwiK2ErXCIgYW5kIGlzIG5vdCBjYWxsYWJsZVwiKTtyLmNhbGwocix0LGUsdGhpcyl9fSx0aGlzKX1maW5hbGx5e24uaXNBY3RpdmU9ITF9fX0sdGhpcyl9LGkucHJvdG90eXBlLmVLPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuWlEoZSx0LCEwKX0saS5wcm90b3R5cGUudEs9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy4kUShlLHQsITApfSxpLnByb3RvdHlwZS5Kaz1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLlhrKGUsdCwhMCl9fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaShlLHQscixuKXtpZighKHRoaXMgaW5zdGFuY2VvZiBpKSlyZXR1cm4gbmV3IGkoZSx0LHIsbik7dD10fHxPYmplY3QuY3Mscj1yfHxPYmplY3QuaGFzaCxuPW58fEZ1bmN0aW9uLnVzLHRoaXMubHM9dCx0aGlzLnBzPXIsdGhpcy5kcz1uO3ZhciBzPXRoaXM7dGhpcy5ySz1uZXcgdGhpcy5pSyhudWxsLGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBzLm5LfSksdGhpcy5sZW5ndGg9MCx0aGlzLmFkZEVhY2goZSl9dmFyIG49KHIoMTEpLHIoNTEpKSxzPXIoNTApLG89cigxMiksYT1yKDM5KSxoPXIoNjkpLGM9cigxMyk7T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtlLmk9aSxpLnNLPWksT2JqZWN0LmFkZEVhY2goaS5wcm90b3R5cGUsby5wcm90b3R5cGUpLE9iamVjdC5hZGRFYWNoKGkucHJvdG90eXBlLGEucHJvdG90eXBlKSxPYmplY3QuYWRkRWFjaChpLnByb3RvdHlwZSxjLnByb3RvdHlwZSksaS5wcm90b3R5cGUuaUs9bixpLnByb3RvdHlwZS5uSz1zLGkucHJvdG90eXBlLkVzPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvcihlLHRoaXMubHMsdGhpcy5wcyx0aGlzLmRzKX0saS5wcm90b3R5cGUuaGFzPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMucHMoZSk7cmV0dXJuIHRoaXMucksuZ2V0KHQpLmhhcyhlKX0saS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGUsdCl7aWYodCl0aHJvdyBuZXcgRXJyb3IoXCJGYXN0U2V0I2dldCBkb2VzIG5vdCBzdXBwb3J0IHNlY29uZCBhcmd1bWVudDogZXF1YWxzXCIpO3ZhciByPXRoaXMucHMoZSksaT10aGlzLnJLO3JldHVybiBpLmhhcyhyKT9pLmdldChyKS5nZXQoZSk6dGhpcy5kcyhlKX0saS5wcm90b3R5cGUuZGVsZXRlPWZ1bmN0aW9uKGUsdCl7aWYodCl0aHJvdyBuZXcgRXJyb3IoXCJGYXN0U2V0I2RlbGV0ZSBkb2VzIG5vdCBzdXBwb3J0IHNlY29uZCBhcmd1bWVudDogZXF1YWxzXCIpO3ZhciByPXRoaXMucHMoZSksaT10aGlzLnJLO2lmKGkuaGFzKHIpKXt2YXIgbj1pLmdldChyKTtpZihuLmRlbGV0ZShlKSlyZXR1cm4gdGhpcy5sZW5ndGgtLSwwPT09bi5sZW5ndGgmJmkuZGVsZXRlKHIpLCEwfXJldHVybiExfSxpLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3RoaXMucksuY2xlYXIoKSx0aGlzLmxlbmd0aD0wfSxpLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5wcyhlKSxyPXRoaXMucks7cmV0dXJuIHIuaGFzKHQpfHxyLnNldCh0LG5ldyB0aGlzLm5LKG51bGwsdGhpcy5scykpLCFyLmdldCh0KS5oYXMoZSkmJihyLmdldCh0KS5hZGQoZSksdGhpcy5sZW5ndGgrKywhMCl9LGkucHJvdG90eXBlLnJlZHVjZT1mdW5jdGlvbihlLHQpe3ZhciByPWFyZ3VtZW50c1syXSxpPTA7cmV0dXJuIHRoaXMucksucmVkdWNlKGZ1bmN0aW9uKHQsbil7cmV0dXJuIG4ucmVkdWNlKGZ1bmN0aW9uKHQsbil7cmV0dXJuIGUuY2FsbChyLHQsbixpKyssdGhpcyl9LHQsdGhpcyl9LHQsdGhpcyl9LGkucHJvdG90eXBlLkJjPWZ1bmN0aW9uKCl7aWYodGhpcy5sZW5ndGg+MClyZXR1cm4gdGhpcy5ySy5CYygpLkJjKCl9LGkucHJvdG90eXBlLkhjPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucksudmFsdWVzKCkua2MoKS5IYygpfSxpLnByb3RvdHlwZS5sb2c9ZnVuY3Rpb24oZSx0LHIsaSl7ZT1lfHxoLmhVLHQ9dHx8dGhpcy52cyxyfHwocj1jb25zb2xlLmxvZyxpPWNvbnNvbGUpLHI9ci5iaW5kKGkpO3ZhciBuPXRoaXMucksscz1uLmtleXMoKTtzLmZvckVhY2goZnVuY3Rpb24obyxhKXt2YXIgaCxjO2E9PT1zLmxlbmd0aC0xPyhoPWUublUsYz1cIiBcIik6MD09PWE/KGg9ZS5yVSxjPWUub1UpOihoPWUuc1UsYz1lLm9VKTt2YXIgdT1uLmdldChvKTtyLmNhbGwoaSxoK2UuZVUrZS5yVStcIiBcIitvKSx1LmZvckVhY2goZnVuY3Rpb24obixzKXt2YXIgbyxhO3M9PT11LmhlYWQuT2s/KG89ZS5uVSxhPVwiIFwiKToobz1lLnNVLGE9ZS5vVSk7dmFyIGg7dChzLGZ1bmN0aW9uKHQpe2g/ci5jYWxsKGksYytcIiBcIithK1wiICBcIit0KTooci5jYWxsKGksYytcIiBcIitvK2UuZVUrZS5lVSt0KSxoPSEwKX0sZnVuY3Rpb24odCl7ci5jYWxsKGksYytcIiBcIitlLm9VK1wiICBcIit0KX0pfSl9KX0saS5wcm90b3R5cGUudnM9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLnZhbHVlO09iamVjdChyKT09PXI/SlNPTi5zdHJpbmdpZnkocixudWxsLDQpLnNwbGl0KFwiXFxuXCIpLmZvckVhY2goZnVuY3Rpb24oZSl7dChcIiBcIitlKX0pOnQoXCIgXCIrcil9fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaShlKXtpZighKHRoaXMgaW5zdGFuY2VvZiBpKSlyZXR1cm4gbmV3IGkoZSk7aWYoQXJyYXkuaXNBcnJheShlKXx8XCJzdHJpbmdcIj09dHlwZW9mIGUpcmV0dXJuIGkuSGMoZSk7aWYoKGU9bihlKSlpbnN0YW5jZW9mIGkpcmV0dXJuIGU7aWYoZS5uZXh0KXRoaXMubmV4dD1mdW5jdGlvbigpe3JldHVybiBlLm5leHQoKX07ZWxzZSBpZihlLkhjKXt2YXIgdD1lLkhjKCk7dGhpcy5uZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIHQubmV4dCgpfX1lbHNle2lmKFwiW29iamVjdCBGdW5jdGlvbl1cIiE9PW4ucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbid0IGl0ZXJhdGUgXCIrZSk7dGhpcy5uZXh0PWV9fWUuaT1pO3ZhciBuPXIoMzYpLHM9cigxMik7aS5wcm90b3R5cGUuZm9yRWFjaD1zLnByb3RvdHlwZS5mb3JFYWNoLGkucHJvdG90eXBlLm1hcD1zLnByb3RvdHlwZS5tYXAsaS5wcm90b3R5cGUuZmlsdGVyPXMucHJvdG90eXBlLmZpbHRlcixpLnByb3RvdHlwZS5ldmVyeT1zLnByb3RvdHlwZS5ldmVyeSxpLnByb3RvdHlwZS5zb21lPXMucHJvdG90eXBlLnNvbWUsaS5wcm90b3R5cGUudW89cy5wcm90b3R5cGUudW8saS5wcm90b3R5cGUuYWxsPXMucHJvdG90eXBlLmFsbCxpLnByb3RvdHlwZS5taW49cy5wcm90b3R5cGUubWluLGkucHJvdG90eXBlLm1heD1zLnByb3RvdHlwZS5tYXgsaS5wcm90b3R5cGUuTmM9cy5wcm90b3R5cGUuTmMsaS5wcm90b3R5cGUuRGM9cy5wcm90b3R5cGUuRGMsaS5wcm90b3R5cGUua2M9cy5wcm90b3R5cGUua2MsaS5wcm90b3R5cGUuTGM9cy5wcm90b3R5cGUuTGMsaS5wcm90b3R5cGUuZW51bWVyYXRlPXMucHJvdG90eXBlLmVudW1lcmF0ZSxpLnByb3RvdHlwZS5GYz1zLnByb3RvdHlwZS5GYyxpLnByb3RvdHlwZS5ncm91cD1zLnByb3RvdHlwZS5ncm91cCxpLnByb3RvdHlwZS5yZXZlcnNlZD1zLnByb3RvdHlwZS5yZXZlcnNlZCxpLnByb3RvdHlwZS50b0FycmF5PXMucHJvdG90eXBlLnRvQXJyYXksaS5wcm90b3R5cGUuUGM9cy5wcm90b3R5cGUuUGMsaS5wcm90b3R5cGUuaXRlcmF0b3I9cy5wcm90b3R5cGUuaXRlcmF0b3IsaS5wcm90b3R5cGUuR2s9bnVsbCxuLmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLFwiX2l0ZXJhdGlvbk9iamVjdFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5Ha3x8KHRoaXMuR2s9e2RvbmU6ITEsdmFsdWU6dm9pZCAwfSl9fSksaS5wcm90b3R5cGUuRXM9ZnVuY3Rpb24oZSl7dmFyIHQ9W107cmV0dXJuIHQuYWRkRWFjaChlKSx0fSxpLnByb3RvdHlwZS5vSz1mdW5jdGlvbihlKXt2YXIgdD1pKHRoaXMpLHI9YXJndW1lbnRzWzFdLHM9MDtpZihcIltvYmplY3QgRnVuY3Rpb25dXCIhPW4ucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkpdGhyb3cgbmV3IFR5cGVFcnJvcjtyZXR1cm4gbmV3IHQuY29uc3RydWN0b3IoZnVuY3Rpb24oKXtpZighMCE9PXQuVmsuZG9uZSl7dmFyIGk9ZS5jYWxsKHIsdC5uZXh0KCkudmFsdWUscysrLHQpO3QuVmsudmFsdWU9aX1yZXR1cm4gdC5Wa30pfSxpLnByb3RvdHlwZS5hSz1mdW5jdGlvbihlKXt2YXIgdD1pKHRoaXMpLHI9YXJndW1lbnRzWzFdLHM9MDtpZihcIltvYmplY3QgRnVuY3Rpb25dXCIhPW4ucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkpdGhyb3cgbmV3IFR5cGVFcnJvcjtyZXR1cm4gbmV3IHQuY29uc3RydWN0b3IoZnVuY3Rpb24oKXtmb3IodmFyIGk7Oyl7aWYoaT10Lm5leHQoKSwhMD09PWkuZG9uZSlyZXR1cm4gaTtpZihlLmNhbGwocixpLnZhbHVlLHMrKyx0KSlyZXR1cm4gaX19KX0saS5wcm90b3R5cGUucmVkdWNlPWZ1bmN0aW9uKGUpe3ZhciB0LHI9aSh0aGlzKSxzPWFyZ3VtZW50c1sxXSxvPWFyZ3VtZW50c1syXSxhPTA7aWYoXCJbb2JqZWN0IEZ1bmN0aW9uXVwiIT1uLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpKXRocm93IG5ldyBUeXBlRXJyb3I7aWYodD1yLm5leHQoKSwhMD09PXQuZG9uZSl7aWYoYXJndW1lbnRzLmxlbmd0aD4xKXJldHVybiBhcmd1bWVudHNbMV07dGhyb3cgVHlwZUVycm9yKFwiY2Fubm90IHJlZHVjZSBhIHZhbHVlIGZyb20gYW4gZW1wdHkgaXRlcmF0b3Igd2l0aCBubyBpbml0aWFsIHZhbHVlXCIpfWZvcihzPWFyZ3VtZW50cy5sZW5ndGg+MT9lLmNhbGwobyxzLHQudmFsdWUsYSxyKTp0LnZhbHVlLGErKzs7KXtpZih0PXIubmV4dCgpLCEwPT09dC5kb25lKXJldHVybiBzO3M9ZS5jYWxsKG8scyx0LnZhbHVlLGEsciksYSsrfX0saS5wcm90b3R5cGUuY29uY2F0PWZ1bmN0aW9uKCl7cmV0dXJuIGkuY29uY2F0KEFycmF5LnByb3RvdHlwZS5jb25jYXQuYXBwbHkodGhpcyxhcmd1bWVudHMpKX0saS5wcm90b3R5cGUuaEs9ZnVuY3Rpb24oZSl7dmFyIHQscixzPWkodGhpcyksbz1hcmd1bWVudHNbMV0sYT0hMSxoPTA7aWYoXCJbb2JqZWN0IEZ1bmN0aW9uXVwiIT1uLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpKXRocm93IG5ldyBUeXBlRXJyb3I7Zm9yKDs7KXtpZihyPXMubmV4dCgpLCEwPT09ci5kb25lKWJyZWFrO2lmKCFlLmNhbGwobyxyLnZhbHVlLGgscykpe2E9ITAsdD1yLnZhbHVlO2JyZWFrfWgrK31yZXR1cm4gYT9zLmNvbnN0cnVjdG9yKFt0XSkuY29uY2F0KHMpOnMuY29uc3RydWN0b3IoW10pfSxpLnByb3RvdHlwZS5jSz1mdW5jdGlvbihlKXt2YXIgdD1pKHRoaXMpLHI9YXJndW1lbnRzWzFdLHM9MDtpZihcIltvYmplY3QgRnVuY3Rpb25dXCIhPW4ucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkpdGhyb3cgbmV3IFR5cGVFcnJvcjtyZXR1cm4gbmV3IHQuY29uc3RydWN0b3IoZnVuY3Rpb24oKXtpZighMCE9PXQuVmsuZG9uZSl7dmFyIGk9dC5uZXh0KCkudmFsdWU7ZS5jYWxsKHIsaSxzKyssdCk/dC5Way52YWx1ZT1pOih0LlZrLmRvbmU9ITAsdC5Way52YWx1ZT12b2lkIDApfXJldHVybiB0LlZrfSl9LGkucHJvdG90eXBlLnVLPWZ1bmN0aW9uKCl7cmV0dXJuIGkuTWMoQXJyYXkucHJvdG90eXBlLmNvbmNhdC5hcHBseSh0aGlzLGFyZ3VtZW50cykpfSxpLnByb3RvdHlwZS5sSz1mdW5jdGlvbihlKXtyZXR1cm4gaS5jb3VudChlKS51Syh0aGlzKX0saS5IYz1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gdD0wLG5ldyBpKGZ1bmN0aW9uKCl7aWYoXCJvYmplY3RcIj09dHlwZW9mIGUpZm9yKDshKHQgaW4gZSk7KXtpZih0Pj1lLmxlbmd0aCl7dGhpcy5Way5kb25lPSEwLHRoaXMuVmsudmFsdWU9dm9pZCAwO2JyZWFrfXQrPTF9ZWxzZSB0Pj1lLmxlbmd0aCYmKHRoaXMuVmsuZG9uZT0hMCx0aGlzLlZrLnZhbHVlPXZvaWQgMCk7cmV0dXJuIHRoaXMuVmsuZG9uZXx8KHRoaXMuVmsudmFsdWU9ZVt0XSx0Kz0xKSx0aGlzLlZrfSl9LGkucEs9ZnVuY3Rpb24oZSx0KXt2YXIgcjtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aDwyJiYodD0xLzApLG5ldyBpKGZ1bmN0aW9uKCl7dmFyIG4scztyZXR1cm4gciYmKHM9cigpKSxyJiYhMCE9PXMuZG9uZXx8KHQ+MD8odC0tLG49aS5IYyhlKSxzPShyPW4ubmV4dC5iaW5kKG4pKSgpKToodGhpcy5Way5kb25lPSEwLHM9dGhpcy5WaykpLHN9KX0saS5jb25jYXQ9ZnVuY3Rpb24oZSl7ZT1pKGUpO3ZhciB0O3JldHVybiBuZXcgaShmdW5jdGlvbigpe3ZhciByLG47cmV0dXJuIHQmJihuPXQoKSksbiYmITAhPT1uLmRvbmU/bjoobj1lLm5leHQoKSwhMT09PW4uZG9uZT8ocj1pKG4udmFsdWUpLCh0PXIubmV4dC5iaW5kKHIpKSgpKTpuKX0pfSxpLk1jPWZ1bmN0aW9uKGUpe3JldHVybiBlPWkoZSkubWFwKGkpLG5ldyBpKDA9PT1lLmxlbmd0aD9bXTpmdW5jdGlvbigpe3ZhciB0LHIsaT1lLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gcj1lLm5leHQoKSwhMD09PXIuZG9uZSYmKHQ9ITApLHIudmFsdWV9KTtyZXR1cm4gdD8odGhpcy5Way5kb25lPSEwLHRoaXMuVmsudmFsdWU9dm9pZCAwKTp0aGlzLlZrLnZhbHVlPWksdGhpcy5Wa30pfSxpLkxjPWZ1bmN0aW9uKCl7cmV0dXJuIGkuTWMoQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSl9LGkuY2hhaW49ZnVuY3Rpb24oKXtyZXR1cm4gaS5jb25jYXQoQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSl9LGkucmFuZ2U9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPDMmJihyPTEpLGFyZ3VtZW50cy5sZW5ndGg8MiYmKHQ9ZSxlPTApLGU9ZXx8MCxyPXJ8fDEsbmV3IGkoZnVuY3Rpb24oKXtlPj10JiYodGhpcy5Way5kb25lPSEwLHRoaXMuVmsudmFsdWU9dm9pZCAwKTt2YXIgaT1lO3JldHVybiBlKz1yLHRoaXMuVmsudmFsdWU9aSx0aGlzLlZrfSl9LGkuY291bnQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaS5yYW5nZShlLDEvMCx0KX0saS5yZXBlYXQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3IGkucmFuZ2UodCkub0soZnVuY3Rpb24oKXtyZXR1cm4gZX0pfX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXRoaXMmJnRoaXMuaHV8fGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gcigpe3RoaXMuY29uc3RydWN0b3I9ZX1mb3IodmFyIGkgaW4gdCl0Lmhhc093blByb3BlcnR5KGkpJiYoZVtpXT10W2ldKTtlLnByb3RvdHlwZT1udWxsPT09dD9PYmplY3QuY3JlYXRlKHQpOihyLnByb3RvdHlwZT10LnByb3RvdHlwZSxuZXcgcil9LG49cigyMCkscz1uLkhpdmVDb21tLk9wdGlvbnMuT3B0aW9ucyxvPW4uSGl2ZUNvbW0uT3B0aW9ucy5tcDshZnVuY3Rpb24oZSl7IWZ1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXt2YXIgdD1udWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIHQuYXV0aFRva2VuRW5hYmxlZD0hMCx0LmRhc2hSZW1vdmVCaXRyYXRlU2l6ZT0hMSx0LmRhc2hGaWx0ZXJCaXRyYXRlcz1udWxsLHQuc3RhdGljUGFydG5lcklkPW51bGwsdC5zdGF0aWNDdXN0b21lcklkPW51bGwsdC5hdWRpb01ldHJpY3M9ITAsdC5sb2dKc29uU25hcHNob3RzPXZvaWQgMCx0fXJldHVybiBpKHQsZSksdH0ocyk7ZS5BUT10O3ZhciByPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXt2YXIgdD1udWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIHQuaGl2ZUF1dGhUb2tlbkVuYWJsZWQ9XCJhdXRoVG9rZW5FbmFibGVkXCIsdC5oaXZlRGFzaFJlbW92ZUJpdHJhdGVTaXplPVwiZGFzaFJlbW92ZUJpdHJhdGVTaXplXCIsdC5oaXZlRGFzaEZpbHRlckJpdHJhdGVzPVwiZGFzaEZpbHRlckJpdHJhdGVzXCIsdC5oaXZlTG9nSnNvblNuYXBzaG90cz1cImxvZ0pzb25TbmFwc2hvdHNcIix0LmhpdmVTdGF0aWNQYXJ0bmVySWQ9XCJzdGF0aWNQYXJ0bmVySWRcIix0LmhpdmVTdGF0aWNDdXN0b21lcklkPVwic3RhdGljQ3VzdG9tZXJJZFwiLHQuaGl2ZUF1ZGlvTWV0cmljcz1cImF1ZGlvTWV0cmljc1wiLHR9cmV0dXJuIGkodCxlKSx0fShvKTtlLk5RPXJ9KGUuT3B0aW9uc3x8KGUuT3B0aW9ucz17fSkpfSh0LkhpdmVDb21tfHwodC5IaXZlQ29tbT17fSkpO3ZhciBhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZS5EUT1mdW5jdGlvbihlKXtcImRhc2hSZW1vdmVCaXRyYXRlU2l6ZVwiaW4gZSYmZS5kYXNoUmVtb3ZlQml0cmF0ZVNpemUmJndpbmRvdy5IaXZlQ29uZmlnJiZ3aW5kb3cuSGl2ZUNvbmZpZy5EYXNoJiYod2luZG93LkhpdmVDb25maWcuRGFzaC5EYXNoUmVtb3ZlQml0cmF0ZVNpemU9ZS5kYXNoUmVtb3ZlQml0cmF0ZVNpemUpLFwiZGFzaEZpbHRlckJpdHJhdGVzXCJpbiBlJiZlLmRhc2hGaWx0ZXJCaXRyYXRlcyYmd2luZG93LkhpdmVDb25maWcmJndpbmRvdy5IaXZlQ29uZmlnLkRhc2gmJih3aW5kb3cuSGl2ZUNvbmZpZy5EYXNoLkRhc2hGaWx0ZXJCaXRyYXRlcz1lLmRhc2hGaWx0ZXJCaXRyYXRlcyksXCJzdGF0aWNDdXN0b21lcklkXCJpbiBlJiZlLnN0YXRpY0N1c3RvbWVySWQmJndpbmRvdy5IaXZlQ29uZmlnJiZ3aW5kb3cuSGl2ZUNvbmZpZy5DbGllbnRJbmZvJiYod2luZG93LkhpdmVDb25maWcuQ2xpZW50SW5mby51dT1lLnN0YXRpY0N1c3RvbWVySWQpLFwic3RhdGljUGFydG5lcklkXCJpbiBlJiZlLnN0YXRpY1BhcnRuZXJJZCYmd2luZG93LkhpdmVDb25maWcmJndpbmRvdy5IaXZlQ29uZmlnLkNsaWVudEluZm8mJih3aW5kb3cuSGl2ZUNvbmZpZy5DbGllbnRJbmZvLmN1PWUuc3RhdGljUGFydG5lcklkKSxcImF1ZGlvTWV0cmljc1wiaW4gZSYmIWUuYXVkaW9NZXRyaWNzJiZ3aW5kb3cuSGl2ZUNvbmZpZyYmd2luZG93LkhpdmVDb25maWcuU3RhdHMmJih3aW5kb3cuSGl2ZUNvbmZpZy5TdGF0cy5BdWRpb0FjY291bnRpbmc9ZS5hdWRpb01ldHJpY3MpLFwiZGV0ZWN0UHJpdmF0ZUlQXCJpbiBlJiZcImJvb2xlYW5cIj09dHlwZW9mIGUuZGV0ZWN0UHJpdmF0ZUlQJiZ3aW5kb3cuSGl2ZUNvbmZpZyYmd2luZG93LkhpdmVDb25maWcuQ29ubkluZm8mJih3aW5kb3cuSGl2ZUNvbmZpZy5Db25uSW5mby5kZXRlY3RQcml2YXRlSVA9ZS5kZXRlY3RQcml2YXRlSVApLFwibG9nSnNvblNuYXBzaG90c1wiaW4gZSYmZS5sb2dKc29uU25hcHNob3RzJiZ3aW5kb3cuSGl2ZUNvbmZpZyYmd2luZG93LkhpdmVDb25maWcuRGVidWdMb2dzJiYod2luZG93LkhpdmVDb25maWcuRGVidWdMb2dzLk1ldHJpY1NuYXBzaG90TG9ncz0xLHdpbmRvdy5IaXZlQ29uZmlnLkRlYnVnTG9ncy5UcmFja1NuYXBzaG90TG9ncz0xLHdpbmRvdy5IaXZlQ29uZmlnLkRlYnVnTG9ncy5UcmFja2VyTG9ncz0xKX0sZX0oKTt0LmtRPWF9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjshZnVuY3Rpb24oZSl7IWZ1bmN0aW9uKGUpe2VbZS5IaXZlSlM9MF09XCJIaXZlSlNcIixlW2UuSGl2ZUphdmE9MV09XCJIaXZlSmF2YVwiLGVbZS5TdGF0c0pTPTJdPVwiU3RhdHNKU1wiLGVbZS5IaXZlSnNQcm94eT0zXT1cIkhpdmVKc1Byb3h5XCJ9KGUuVFF8fChlLlRRPXt9KSk7IWZ1bmN0aW9uKGUpe2UuU3RhdHNKUz1cIlN0YXRzSlNcIixlLkhpdmVKc1Byb3h5PVwiSGl2ZUpzUHJveHlcIixlLkhpdmVKYXZhPVwiSGl2ZUphdmFcIixlLkhpdmVKUz1cIkhpdmVKU1wifShlLlRlY2hOYW1lfHwoZS5UZWNoTmFtZT17fSkpfSh0LkhpdmVDb21tfHwodC5IaXZlQ29tbT17fSkpfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dmFyIHQ9dGhpcztpZih0aGlzLmRLPW5ldyBBcnJheSx0aGlzLmNhbGxiYWNrcz1uZXcgQXJyYXksZS5mZSl0aHJvdyBuZXcgRXJyb3IoXCJFcnJvcjogSW5zdGFudGlhdGlvbiBmYWlsZWQ6IFVzZSBLZXlIYW5kbGVySGl2ZUNvbW0uZ2V0SW5zdGFuY2UoKSBpbnN0ZWFkIG9mIG5ldy5cIik7dmFyIHI9e307ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIixmdW5jdGlvbihlKXtyW2Uua2V5Q29kZV09ITAsdC5mSyhyKX0sITApLGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLGZ1bmN0aW9uKGUpe3I9e319LCEwKX1yZXR1cm4gZS52ZT1mdW5jdGlvbigpe3JldHVybiB2b2lkIDA9PT10aGlzLmZlJiYodGhpcy5mZT1uZXcgZSksdGhpcy5mZX0sZS5wcm90b3R5cGUueWU9ZnVuY3Rpb24oZSx0KXt0aGlzLmRLLnB1c2goZSksdGhpcy5jYWxsYmFja3MucHVzaCh0KX0sZS5wcm90b3R5cGUuZks9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMscj0wO3I8dGhpcy5kSy5sZW5ndGg7cisrKSFmdW5jdGlvbihyKXt2YXIgaT0hMDt0LmRLW3JdLmZvckVhY2goZnVuY3Rpb24odCl7dm9pZCAwIT1lW3RdJiZlW3RdfHwoaT0hMSl9KSxpJiZ0LmNhbGxiYWNrc1tyXSgpfShyKX0sZX0oKTt0LlRlPWl9LGZ1bmN0aW9uKGUsdCl7ZS5pPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZcIm9iamVjdFwiPT10eXBlb2YgZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgZS5jQSYmXCJmdW5jdGlvblwiPT10eXBlb2YgZS5maWxsJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLmdLfX0sZnVuY3Rpb24oZSx0KXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBPYmplY3QuY3JlYXRlP2UuaT1mdW5jdGlvbihlLHQpe2UuRUs9dCxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSxwOiExLEFoOiEwLGw6ITB9fSl9OmUuaT1mdW5jdGlvbihlLHQpe2UuRUs9dDt2YXIgcj1mdW5jdGlvbigpe307ci5wcm90b3R5cGU9dC5wcm90b3R5cGUsZS5wcm90b3R5cGU9bmV3IHIsZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZX19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1yKDQyKSxuPXIoMjkpLHM9cigyMSksbz1yKDEpLGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMudks9bi5MLnBwPzk5ODk6OTk4OCx0aGlzLnlLPS0xLHRoaXMuZ0w9ZSx0aGlzLlRLKCl9cmV0dXJuIGUucHJvdG90eXBlLlRLPWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLmdMLm9wdGlvbnMoKS5zaWxlbnQmJihIaXZlQ29uZmlnJiYoSGl2ZUNvbmZpZy5Db25uSW5mby5kZXRlY3RQcml2YXRlSVA9ITApLHZvaWQgMD09PXRoaXMubUsmJih0aGlzLnVybD1cIi8vXCIraS5mcC5kTytcIjpcIit0aGlzLnZLK1wiL2ZlZWRiYWNrXCIsdGhpcy5nTC5sb2dnZXIoKS5pbmZvKFwic3RhcnRpbmcgcGVyaW9kaWMgYWxpdmUgcGluZyB0byBoaXZlIHRlc3RlciBbXCIrdGhpcy51cmwrXCJdXCIpLHRoaXMubUs9c2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtlLklLKCl9LG4uTC5oUikpKX0sZS5wcm90b3R5cGUuSUs9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9dGhpcy5nTC5nZXRBY3RpdmVTZXNzaW9uKCkscj12b2lkIDA7dCYmKHI9XCJTW1wiK3QuaWQrXCJdXCIpO3ZhciBpPXRoaXMuZ0wuZ2V0Q3VycmVudFRpbWUoKTtpPnRoaXMueUs/KHRoaXMuZ0wubG9nZ2VyKCkuaW5mbyhcInNlbmRpbmcgaGl2ZSB0ZXN0ZXIgcGluZyBbXCIraStcIiA+IFwiK3RoaXMueUsrXCJdXCIpLHMuYnAodGhpcy51cmwpLnRoZW4oZnVuY3Rpb24oZSl7fSxmdW5jdGlvbih0KXtvLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiZXJyb3Igc2VuZGluZyBoaXZlIHRlc3RlciBwaW5nXCIscix7ZXJyb3I6dH0pLGNsZWFySW50ZXJ2YWwoZS5tSyl9KSk6dGhpcy5nTC5sb2dnZXIoKS53YXJuKFwibm90IHNlbmRpbmcgaGl2ZSB0ZXN0ZXIgcGluZyBbXCIraStcIiA8PSBcIit0aGlzLnlLK1wiXVwiKSx0aGlzLnlLPWl9LGV9KCk7dC5MUT1hfSxmdW5jdGlvbihlLHQpeyhmdW5jdGlvbih0KXtlLmk9dH0pLmNhbGwodCx7fSl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1yKDQwKSxuPXIoMTEyKSxzPXIoNDUpLG89cigwKSxhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZS5wcm90b3R5cGUuYXBwbHk9ZnVuY3Rpb24oZSl7ZS5iaW5kKG5ldyBpLlpBKG8uRnJhbWV3b3JrLlYuSSxuLlNLLGkuJEEuc08pKSxlLmJpbmQobmV3IGkuWkEoby5GcmFtZXdvcmsuVi5SLHMuVE4ueU4pKX0sZX0oKTt0LldRPWF9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1yKDY4KSxuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuUks9bmV3IGksdGhpcy53Sz1uZXcgaSxcInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsP3RoaXMuYks9Z2xvYmFsOnRoaXMuYks9d2luZG93fXJldHVybiBlLnByb3RvdHlwZS5DPWZ1bmN0aW9uKCl7cmV0dXJuITF9LGUucHJvdG90eXBlLkNLPWZ1bmN0aW9uKGUsdCxyKXt9LGUucHJvdG90eXBlLkE9ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLnRpbWU9ZnVuY3Rpb24oKXtyZXR1cm4rbmV3IERhdGV9LGUucHJvdG90eXBlLnNldFRpbWVvdXQ9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLGk9dGhpcy5iSy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ci5SSy5kZWxldGUoaSksZSgpfSx0KTtyZXR1cm4gdGhpcy5SSy5hZGQoaSksaX0sZS5wcm90b3R5cGUuY2xlYXJUaW1lb3V0PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLlJLLmRlbGV0ZShlKSx0aGlzLmJLLmNsZWFyVGltZW91dChlKSwhMH0sZS5wcm90b3R5cGUuc2V0SW50ZXJ2YWw9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLmJLLnNldEludGVydmFsKGZ1bmN0aW9uKCl7ZSgpfSx0KTtyZXR1cm4gdGhpcy53Sy5hZGQocikscn0sZS5wcm90b3R5cGUuY2xlYXJJbnRlcnZhbD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy53Sy5kZWxldGUoZSksdGhpcy5iSy5jbGVhckludGVydmFsKGUpLCEwfSxlLnByb3RvdHlwZS5PPWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLlJLLmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIGUuY2xlYXJUaW1lb3V0KHQpfSksdGhpcy53Sy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiBlLmNsZWFySW50ZXJ2YWwodCl9KX0sZX0oKTt0LlNLPW59LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1yKDQwKSxuPXIoMCkscz1yKDQ1KSxvPXIoMTkpLGE9cig4KSxoPXIoMjIpLGM9cig3NSksdT1yKDc2KSxsPXIoNzcpLHA9cig3OSksZD1yKDgwKSxmPXIoNiksZz1mLmhlLkloO2lmKGcpdmFyIEU9cig4MSkuQ0g7ZWxzZSB2YXIgdj1yKDgzKS5ueDt2YXIgeT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGUucHJvdG90eXBlLmFwcGx5PWZ1bmN0aW9uKGUpe2UuYmluZChuZXcgaS5aQShhLnBjLmhjLG8ubHAsaS4kQS5zTykpLGUuYmluZChuZXcgaS5aQShhLnBjLkcsdS5xQixpLiRBLnNPKSksZS5iaW5kKG5ldyBpLlpBKGEucGMubmMsbC5XQixpLiRBLnNPKSksZS5iaW5kKG5ldyBpLlpBKGEucGMuTSxwLnZILGkuJEEuc08pKSxlLmJpbmQobmV3IGkuWkEobi5GcmFtZXdvcmsuVi5SLHMuVE4ueU4saS4kQS5zTykpLGc/ZS5iaW5kKG5ldyBpLlpBKGEucGMuc2MsRSxpLiRBLnNPKSk6ZS5iaW5kKG5ldyBpLlpBKGEucGMuc2MsdixpLiRBLnNPKSksZS5iaW5kKG5ldyBpLlpBKGEucGMub2MsZC5JSCxpLiRBLnNPKSksZS5iaW5kKG5ldyBpLlpBKGEucGMuY2MsYy5TdGF0cy5aRixpLiRBLnBPKSksZS5iaW5kKG5ldyBpLlpBKGEucGMuaWMsYy5TdGF0cy5xbCxpLiRBLnBPKSksZS5iaW5kKG5ldyBpLlpBKGEucGMudWMsaC5HbC5CZCxpLiRBLnBPKSksZS5iaW5kKG5ldyBpLlpBKGEucGMubGMsaC5HbC5xbCxpLiRBLnBPKSl9LGV9KCk7dC56UT15fSxmdW5jdGlvbihlLHQscil7dmFyIGk9cigzMyk7XCJ1bmRlZmluZWRcIj09dHlwZW9mIGhpdmUmJihoaXZlPXt9KSx2b2lkIDA9PT1oaXZlLnNuYXBzaG90cyYmKGhpdmUuc25hcHNob3RzPXt9KSxoaXZlLnNuYXBzaG90cy5UcmFmZmljPWZ1bmN0aW9uKGUpe3RoaXMucmVxTj1udWxsLHRoaXMucmVzcEZhbGxiYWNrTj1udWxsLHRoaXMucmVzcEZhbGxiYWNrRXJyTj1udWxsLHRoaXMucmVzcFAycE49bnVsbCx0aGlzLnJlcU90aGVyTj1udWxsLHRoaXMucmVzcEZhbGxiYWNrT3RoZXJOPW51bGwsdGhpcy5yZXNwRmFsbGJhY2tPdGhlcnRFcnJOPW51bGwsdGhpcy5zcmNSZXFOPW51bGwsdGhpcy5zcmNSZXNwTj1udWxsLHRoaXMuc3JjUmVzcEVyck49bnVsbCx0aGlzLnNyY1JlcVF0PW51bGwsdGhpcy5zcmNSZXNwUXQ9bnVsbCx0aGlzLnNyY092ZXJRdD1udWxsLHRoaXMuc3JjT3RoZXJSZXFOPW51bGwsdGhpcy5zcmNPdGhlclJlc3BOPW51bGwsdGhpcy5zcmNPdGhlclJlc3BFcnJOPW51bGwsdGhpcy5zcmNPdGhlclJlcVF0PW51bGwsdGhpcy5zcmNPdGhlclJlc3BRdD1udWxsLHRoaXMuc3JjT3RoZXJPdmVyUXQ9bnVsbCx0aGlzLnAycFN1YlJlcU49bnVsbCx0aGlzLnAycFN1YlJlc3BOPW51bGwsdGhpcy5wMnBTdWJSZXNwUGFydE49bnVsbCx0aGlzLnAycFN1YlJlc3BFcnJOPW51bGwsdGhpcy5wMnBTdWJSZXNwRXhwTj1udWxsLHRoaXMucDJwU3ViUmVxUXQ9bnVsbCx0aGlzLnAycFN1YlJlc3BRdD1udWxsLHRoaXMucDJwRGlyZWN0UXQ9bnVsbCx0aGlzLnAycFJlbGF5UXQ9bnVsbCx0aGlzLnAycE5hdFF0PW51bGwsdGhpcy5wMnBVZHBiUXQ9bnVsbCx0aGlzLmZhbGxBZ2VudFJlc3BOPW51bGwsdGhpcy5mYWxsQWdlbnRQcmVkSGl0Tj1udWxsLHRoaXMuZmFsbEFnZW50RmFpbGVkUmVzcE49bnVsbCx0aGlzLmZhbGxBZ2VudFByZWRNaXNzTj1udWxsLHRoaXMuZmFsbEFnZW50UHJlZFBhcnRpYWxIaXROPW51bGwsdGhpcy5mYWxsQWdlblRyYWZmaWNTdWNjZXNzUXQ9bnVsbCx0aGlzLmZhbGxBZ2VuVHJhZmZpY0ZhaWx1cmVRdD1udWxsLHRoaXMucDJwQWdlbnRQcmVkSGl0Tj1udWxsLHRoaXMucDJwQWdlbnRQcmVkTWlzc049bnVsbCx0aGlzLnAycEFnZW50UHJlZFBhcnRpYWxIaXROPW51bGwsdGhpcy5wMnBBZ2VuVHJhZmZpY1N1Y2Nlc3NRdD1udWxsLHRoaXMucDJwQWdlblRyYWZmaWNGYWlsdXJlUXQ9bnVsbCx0aGlzLnJlc3BQMnBPdGhlck49bnVsbCx0aGlzLmxDYWNoZVJlc3BOPW51bGwsdGhpcy5sQ2FjaGVSZXNwUXQ9bnVsbCx0aGlzLnAycE91dFNpdGVMb3dQcmlvPW51bGwsZSYmKHZvaWQgMCE9PWUucmVxTiYmbnVsbCE9PWUucmVxTiYmKHRoaXMucmVxTj1lLnJlcU4pLHZvaWQgMCE9PWUucmVzcEZhbGxiYWNrTiYmbnVsbCE9PWUucmVzcEZhbGxiYWNrTiYmKHRoaXMucmVzcEZhbGxiYWNrTj1lLnJlc3BGYWxsYmFja04pLHZvaWQgMCE9PWUucmVzcEZhbGxiYWNrRXJyTiYmbnVsbCE9PWUucmVzcEZhbGxiYWNrRXJyTiYmKHRoaXMucmVzcEZhbGxiYWNrRXJyTj1lLnJlc3BGYWxsYmFja0Vyck4pLHZvaWQgMCE9PWUucmVzcFAycE4mJm51bGwhPT1lLnJlc3BQMnBOJiYodGhpcy5yZXNwUDJwTj1lLnJlc3BQMnBOKSx2b2lkIDAhPT1lLnJlcU90aGVyTiYmbnVsbCE9PWUucmVxT3RoZXJOJiYodGhpcy5yZXFPdGhlck49ZS5yZXFPdGhlck4pLHZvaWQgMCE9PWUucmVzcEZhbGxiYWNrT3RoZXJOJiZudWxsIT09ZS5yZXNwRmFsbGJhY2tPdGhlck4mJih0aGlzLnJlc3BGYWxsYmFja090aGVyTj1lLnJlc3BGYWxsYmFja090aGVyTiksdm9pZCAwIT09ZS5yZXNwRmFsbGJhY2tPdGhlcnRFcnJOJiZudWxsIT09ZS5yZXNwRmFsbGJhY2tPdGhlcnRFcnJOJiYodGhpcy5yZXNwRmFsbGJhY2tPdGhlcnRFcnJOPWUucmVzcEZhbGxiYWNrT3RoZXJ0RXJyTiksdm9pZCAwIT09ZS5zcmNSZXFOJiZudWxsIT09ZS5zcmNSZXFOJiYodGhpcy5zcmNSZXFOPWUuc3JjUmVxTiksdm9pZCAwIT09ZS5zcmNSZXNwTiYmbnVsbCE9PWUuc3JjUmVzcE4mJih0aGlzLnNyY1Jlc3BOPWUuc3JjUmVzcE4pLHZvaWQgMCE9PWUuc3JjUmVzcEVyck4mJm51bGwhPT1lLnNyY1Jlc3BFcnJOJiYodGhpcy5zcmNSZXNwRXJyTj1lLnNyY1Jlc3BFcnJOKSx2b2lkIDAhPT1lLnNyY1JlcVF0JiZudWxsIT09ZS5zcmNSZXFRdCYmKHRoaXMuc3JjUmVxUXQ9ZS5zcmNSZXFRdCksdm9pZCAwIT09ZS5zcmNSZXNwUXQmJm51bGwhPT1lLnNyY1Jlc3BRdCYmKHRoaXMuc3JjUmVzcFF0PWUuc3JjUmVzcFF0KSx2b2lkIDAhPT1lLnNyY092ZXJRdCYmbnVsbCE9PWUuc3JjT3ZlclF0JiYodGhpcy5zcmNPdmVyUXQ9ZS5zcmNPdmVyUXQpLHZvaWQgMCE9PWUuc3JjT3RoZXJSZXFOJiZudWxsIT09ZS5zcmNPdGhlclJlcU4mJih0aGlzLnNyY090aGVyUmVxTj1lLnNyY090aGVyUmVxTiksdm9pZCAwIT09ZS5zcmNPdGhlclJlc3BOJiZudWxsIT09ZS5zcmNPdGhlclJlc3BOJiYodGhpcy5zcmNPdGhlclJlc3BOPWUuc3JjT3RoZXJSZXNwTiksdm9pZCAwIT09ZS5zcmNPdGhlclJlc3BFcnJOJiZudWxsIT09ZS5zcmNPdGhlclJlc3BFcnJOJiYodGhpcy5zcmNPdGhlclJlc3BFcnJOPWUuc3JjT3RoZXJSZXNwRXJyTiksdm9pZCAwIT09ZS5zcmNPdGhlclJlcVF0JiZudWxsIT09ZS5zcmNPdGhlclJlcVF0JiYodGhpcy5zcmNPdGhlclJlcVF0PWUuc3JjT3RoZXJSZXFRdCksdm9pZCAwIT09ZS5zcmNPdGhlclJlc3BRdCYmbnVsbCE9PWUuc3JjT3RoZXJSZXNwUXQmJih0aGlzLnNyY090aGVyUmVzcFF0PWUuc3JjT3RoZXJSZXNwUXQpLHZvaWQgMCE9PWUuc3JjT3RoZXJPdmVyUXQmJm51bGwhPT1lLnNyY090aGVyT3ZlclF0JiYodGhpcy5zcmNPdGhlck92ZXJRdD1lLnNyY090aGVyT3ZlclF0KSx2b2lkIDAhPT1lLnAycFN1YlJlcU4mJm51bGwhPT1lLnAycFN1YlJlcU4mJih0aGlzLnAycFN1YlJlcU49ZS5wMnBTdWJSZXFOKSx2b2lkIDAhPT1lLnAycFN1YlJlc3BOJiZudWxsIT09ZS5wMnBTdWJSZXNwTiYmKHRoaXMucDJwU3ViUmVzcE49ZS5wMnBTdWJSZXNwTiksdm9pZCAwIT09ZS5wMnBTdWJSZXNwUGFydE4mJm51bGwhPT1lLnAycFN1YlJlc3BQYXJ0TiYmKHRoaXMucDJwU3ViUmVzcFBhcnROPWUucDJwU3ViUmVzcFBhcnROKSx2b2lkIDAhPT1lLnAycFN1YlJlc3BFcnJOJiZudWxsIT09ZS5wMnBTdWJSZXNwRXJyTiYmKHRoaXMucDJwU3ViUmVzcEVyck49ZS5wMnBTdWJSZXNwRXJyTiksdm9pZCAwIT09ZS5wMnBTdWJSZXNwRXhwTiYmbnVsbCE9PWUucDJwU3ViUmVzcEV4cE4mJih0aGlzLnAycFN1YlJlc3BFeHBOPWUucDJwU3ViUmVzcEV4cE4pLHZvaWQgMCE9PWUucDJwU3ViUmVxUXQmJm51bGwhPT1lLnAycFN1YlJlcVF0JiYodGhpcy5wMnBTdWJSZXFRdD1lLnAycFN1YlJlcVF0KSx2b2lkIDAhPT1lLnAycFN1YlJlc3BRdCYmbnVsbCE9PWUucDJwU3ViUmVzcFF0JiYodGhpcy5wMnBTdWJSZXNwUXQ9ZS5wMnBTdWJSZXNwUXQpLHZvaWQgMCE9PWUucDJwRGlyZWN0UXQmJm51bGwhPT1lLnAycERpcmVjdFF0JiYodGhpcy5wMnBEaXJlY3RRdD1lLnAycERpcmVjdFF0KSx2b2lkIDAhPT1lLnAycFJlbGF5UXQmJm51bGwhPT1lLnAycFJlbGF5UXQmJih0aGlzLnAycFJlbGF5UXQ9ZS5wMnBSZWxheVF0KSx2b2lkIDAhPT1lLnAycE5hdFF0JiZudWxsIT09ZS5wMnBOYXRRdCYmKHRoaXMucDJwTmF0UXQ9ZS5wMnBOYXRRdCksdm9pZCAwIT09ZS5wMnBVZHBiUXQmJm51bGwhPT1lLnAycFVkcGJRdCYmKHRoaXMucDJwVWRwYlF0PWUucDJwVWRwYlF0KSx2b2lkIDAhPT1lLmZhbGxBZ2VudFJlc3BOJiZudWxsIT09ZS5mYWxsQWdlbnRSZXNwTiYmKHRoaXMuZmFsbEFnZW50UmVzcE49ZS5mYWxsQWdlbnRSZXNwTiksdm9pZCAwIT09ZS5mYWxsQWdlbnRQcmVkSGl0TiYmbnVsbCE9PWUuZmFsbEFnZW50UHJlZEhpdE4mJih0aGlzLmZhbGxBZ2VudFByZWRIaXROPWUuZmFsbEFnZW50UHJlZEhpdE4pLHZvaWQgMCE9PWUuZmFsbEFnZW50RmFpbGVkUmVzcE4mJm51bGwhPT1lLmZhbGxBZ2VudEZhaWxlZFJlc3BOJiYodGhpcy5mYWxsQWdlbnRGYWlsZWRSZXNwTj1lLmZhbGxBZ2VudEZhaWxlZFJlc3BOKSx2b2lkIDAhPT1lLmZhbGxBZ2VudFByZWRNaXNzTiYmbnVsbCE9PWUuZmFsbEFnZW50UHJlZE1pc3NOJiYodGhpcy5mYWxsQWdlbnRQcmVkTWlzc049ZS5mYWxsQWdlbnRQcmVkTWlzc04pLHZvaWQgMCE9PWUuZmFsbEFnZW50UHJlZFBhcnRpYWxIaXROJiZudWxsIT09ZS5mYWxsQWdlbnRQcmVkUGFydGlhbEhpdE4mJih0aGlzLmZhbGxBZ2VudFByZWRQYXJ0aWFsSGl0Tj1lLmZhbGxBZ2VudFByZWRQYXJ0aWFsSGl0Tiksdm9pZCAwIT09ZS5mYWxsQWdlblRyYWZmaWNTdWNjZXNzUXQmJm51bGwhPT1lLmZhbGxBZ2VuVHJhZmZpY1N1Y2Nlc3NRdCYmKHRoaXMuZmFsbEFnZW5UcmFmZmljU3VjY2Vzc1F0PWUuZmFsbEFnZW5UcmFmZmljU3VjY2Vzc1F0KSx2b2lkIDAhPT1lLmZhbGxBZ2VuVHJhZmZpY0ZhaWx1cmVRdCYmbnVsbCE9PWUuZmFsbEFnZW5UcmFmZmljRmFpbHVyZVF0JiYodGhpcy5mYWxsQWdlblRyYWZmaWNGYWlsdXJlUXQ9ZS5mYWxsQWdlblRyYWZmaWNGYWlsdXJlUXQpLHZvaWQgMCE9PWUucDJwQWdlbnRQcmVkSGl0TiYmbnVsbCE9PWUucDJwQWdlbnRQcmVkSGl0TiYmKHRoaXMucDJwQWdlbnRQcmVkSGl0Tj1lLnAycEFnZW50UHJlZEhpdE4pLHZvaWQgMCE9PWUucDJwQWdlbnRQcmVkTWlzc04mJm51bGwhPT1lLnAycEFnZW50UHJlZE1pc3NOJiYodGhpcy5wMnBBZ2VudFByZWRNaXNzTj1lLnAycEFnZW50UHJlZE1pc3NOKSx2b2lkIDAhPT1lLnAycEFnZW50UHJlZFBhcnRpYWxIaXROJiZudWxsIT09ZS5wMnBBZ2VudFByZWRQYXJ0aWFsSGl0TiYmKHRoaXMucDJwQWdlbnRQcmVkUGFydGlhbEhpdE49ZS5wMnBBZ2VudFByZWRQYXJ0aWFsSGl0Tiksdm9pZCAwIT09ZS5wMnBBZ2VuVHJhZmZpY1N1Y2Nlc3NRdCYmbnVsbCE9PWUucDJwQWdlblRyYWZmaWNTdWNjZXNzUXQmJih0aGlzLnAycEFnZW5UcmFmZmljU3VjY2Vzc1F0PWUucDJwQWdlblRyYWZmaWNTdWNjZXNzUXQpLHZvaWQgMCE9PWUucDJwQWdlblRyYWZmaWNGYWlsdXJlUXQmJm51bGwhPT1lLnAycEFnZW5UcmFmZmljRmFpbHVyZVF0JiYodGhpcy5wMnBBZ2VuVHJhZmZpY0ZhaWx1cmVRdD1lLnAycEFnZW5UcmFmZmljRmFpbHVyZVF0KSx2b2lkIDAhPT1lLnJlc3BQMnBPdGhlck4mJm51bGwhPT1lLnJlc3BQMnBPdGhlck4mJih0aGlzLnJlc3BQMnBPdGhlck49ZS5yZXNwUDJwT3RoZXJOKSx2b2lkIDAhPT1lLmxDYWNoZVJlc3BOJiZudWxsIT09ZS5sQ2FjaGVSZXNwTiYmKHRoaXMubENhY2hlUmVzcE49ZS5sQ2FjaGVSZXNwTiksdm9pZCAwIT09ZS5sQ2FjaGVSZXNwUXQmJm51bGwhPT1lLmxDYWNoZVJlc3BRdCYmKHRoaXMubENhY2hlUmVzcFF0PWUubENhY2hlUmVzcFF0KSx2b2lkIDAhPT1lLnAycE91dFNpdGVMb3dQcmlvJiZudWxsIT09ZS5wMnBPdXRTaXRlTG93UHJpbyYmKHRoaXMucDJwT3V0U2l0ZUxvd1ByaW89ZS5wMnBPdXRTaXRlTG93UHJpbykpfSxoaXZlLnNuYXBzaG90cy5UcmFmZmljLnByb3RvdHlwZT17fSxoaXZlLnNuYXBzaG90cy5UcmFmZmljLnByb3RvdHlwZS5yZWFkPWZ1bmN0aW9uKGUpe2ZvcihlLnJfKCk7Oyl7dmFyIHQ9ZS5rYigpLHI9KHQuZm5hbWUsdC5mdHlwZSksbj10LmZpZDtpZihyPT1pLlR5cGUuU1RPUClicmVhaztzd2l0Y2gobil7Y2FzZSAxOnI9PWkuVHlwZS5JMzI/dGhpcy5yZXFOPWUuRmIoKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgMjpyPT1pLlR5cGUuRE9VQkxFP3RoaXMucmVzcEZhbGxiYWNrTj1lLkVfKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDM6cj09aS5UeXBlLkkzMj90aGlzLnJlc3BGYWxsYmFja0Vyck49ZS5GYigpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSA0OnI9PWkuVHlwZS5ET1VCTEU/dGhpcy5yZXNwUDJwTj1lLkVfKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDU6cj09aS5UeXBlLkkzMj90aGlzLnJlcU90aGVyTj1lLkZiKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDY6cj09aS5UeXBlLkkzMj90aGlzLnJlc3BGYWxsYmFja090aGVyTj1lLkZiKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDc6cj09aS5UeXBlLkkzMj90aGlzLnJlc3BGYWxsYmFja090aGVydEVyck49ZS5GYigpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSA4OnI9PWkuVHlwZS5JMzI/dGhpcy5zcmNSZXFOPWUuRmIoKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgOTpyPT1pLlR5cGUuSTMyP3RoaXMuc3JjUmVzcE49ZS5GYigpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSAxMDpyPT1pLlR5cGUuSTMyP3RoaXMuc3JjUmVzcEVyck49ZS5GYigpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSAxMTpyPT1pLlR5cGUuSTY0P3RoaXMuc3JjUmVxUXQ9ZS5nXygpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSAxMjpyPT1pLlR5cGUuSTY0P3RoaXMuc3JjUmVzcFF0PWUuZ18oKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgMTM6cj09aS5UeXBlLkk2ND90aGlzLnNyY092ZXJRdD1lLmdfKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDE0OnI9PWkuVHlwZS5JMzI/dGhpcy5zcmNPdGhlclJlcU49ZS5GYigpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSAxNTpyPT1pLlR5cGUuSTMyP3RoaXMuc3JjT3RoZXJSZXNwTj1lLkZiKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDE2OnI9PWkuVHlwZS5JMzI/dGhpcy5zcmNPdGhlclJlc3BFcnJOPWUuRmIoKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgMTc6cj09aS5UeXBlLkk2ND90aGlzLnNyY090aGVyUmVxUXQ9ZS5nXygpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSAxODpyPT1pLlR5cGUuSTY0P3RoaXMuc3JjT3RoZXJSZXNwUXQ9ZS5nXygpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSAxOTpyPT1pLlR5cGUuSTY0P3RoaXMuc3JjT3RoZXJPdmVyUXQ9ZS5nXygpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSAyMDpyPT1pLlR5cGUuSTMyP3RoaXMucDJwU3ViUmVxTj1lLkZiKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDIxOnI9PWkuVHlwZS5JMzI/dGhpcy5wMnBTdWJSZXNwTj1lLkZiKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDIyOnI9PWkuVHlwZS5ET1VCTEU/dGhpcy5wMnBTdWJSZXNwUGFydE49ZS5FXygpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSAyMzpyPT1pLlR5cGUuRE9VQkxFP3RoaXMucDJwU3ViUmVzcEVyck49ZS5FXygpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSAyNDpyPT1pLlR5cGUuSTMyP3RoaXMucDJwU3ViUmVzcEV4cE49ZS5GYigpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSAyNTpyPT1pLlR5cGUuSTY0P3RoaXMucDJwU3ViUmVxUXQ9ZS5nXygpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSAyNjpyPT1pLlR5cGUuSTY0P3RoaXMucDJwU3ViUmVzcFF0PWUuZ18oKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgMjc6cj09aS5UeXBlLkk2ND90aGlzLnAycERpcmVjdFF0PWUuZ18oKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgMjg6cj09aS5UeXBlLkk2ND90aGlzLnAycFJlbGF5UXQ9ZS5nXygpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSAyOTpyPT1pLlR5cGUuSTY0P3RoaXMucDJwTmF0UXQ9ZS5nXygpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSAzMDpyPT1pLlR5cGUuSTY0P3RoaXMucDJwVWRwYlF0PWUuZ18oKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgMzE6cj09aS5UeXBlLkkzMj90aGlzLmZhbGxBZ2VudFJlc3BOPWUuRmIoKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgMzI6cj09aS5UeXBlLkkzMj90aGlzLmZhbGxBZ2VudFByZWRIaXROPWUuRmIoKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgMzM6cj09aS5UeXBlLkkzMj90aGlzLmZhbGxBZ2VudEZhaWxlZFJlc3BOPWUuRmIoKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgMzQ6cj09aS5UeXBlLkkzMj90aGlzLmZhbGxBZ2VudFByZWRNaXNzTj1lLkZiKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDM1OnI9PWkuVHlwZS5JMzI/dGhpcy5mYWxsQWdlbnRQcmVkUGFydGlhbEhpdE49ZS5GYigpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSAzNjpyPT1pLlR5cGUuSTY0P3RoaXMuZmFsbEFnZW5UcmFmZmljU3VjY2Vzc1F0PWUuZ18oKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgMzc6cj09aS5UeXBlLkk2ND90aGlzLmZhbGxBZ2VuVHJhZmZpY0ZhaWx1cmVRdD1lLmdfKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDM4OnI9PWkuVHlwZS5JMzI/dGhpcy5wMnBBZ2VudFByZWRIaXROPWUuRmIoKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgMzk6cj09aS5UeXBlLkkzMj90aGlzLnAycEFnZW50UHJlZE1pc3NOPWUuRmIoKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgNDA6cj09aS5UeXBlLkkzMj90aGlzLnAycEFnZW50UHJlZFBhcnRpYWxIaXROPWUuRmIoKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgNDE6cj09aS5UeXBlLkk2ND90aGlzLnAycEFnZW5UcmFmZmljU3VjY2Vzc1F0PWUuZ18oKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgNDI6cj09aS5UeXBlLkk2ND90aGlzLnAycEFnZW5UcmFmZmljRmFpbHVyZVF0PWUuZ18oKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgNDM6cj09aS5UeXBlLkkzMj90aGlzLnJlc3BQMnBPdGhlck49ZS5GYigpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSA0NDpyPT1pLlR5cGUuSTMyP3RoaXMubENhY2hlUmVzcE49ZS5GYigpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSA0NTpyPT1pLlR5cGUuSTY0P3RoaXMubENhY2hlUmVzcFF0PWUuZ18oKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgNDY6cj09aS5UeXBlLkk2ND90aGlzLnAycE91dFNpdGVMb3dQcmlvPWUuZ18oKS52YWx1ZTplLk1iKHIpO2JyZWFrO2RlZmF1bHQ6ZS5NYihyKX1lLlViKCl9ZS5CYigpfSxoaXZlLnNuYXBzaG90cy5UcmFmZmljLnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbihlKXtlLkhiKFwiVHJhZmZpY1wiKSxudWxsIT09dGhpcy5yZXFOJiZ2b2lkIDAhPT10aGlzLnJlcU4mJihlLnhiKFwicmVxTlwiLGkuVHlwZS5JMzIsMSksZS5WYih0aGlzLnJlcU4pLGUuR2IoKSksbnVsbCE9PXRoaXMucmVzcEZhbGxiYWNrTiYmdm9pZCAwIT09dGhpcy5yZXNwRmFsbGJhY2tOJiYoZS54YihcInJlc3BGYWxsYmFja05cIixpLlR5cGUuRE9VQkxFLDIpLGUuWUModGhpcy5yZXNwRmFsbGJhY2tOKSxlLkdiKCkpLG51bGwhPT10aGlzLnJlc3BGYWxsYmFja0Vyck4mJnZvaWQgMCE9PXRoaXMucmVzcEZhbGxiYWNrRXJyTiYmKGUueGIoXCJyZXNwRmFsbGJhY2tFcnJOXCIsaS5UeXBlLkkzMiwzKSxlLlZiKHRoaXMucmVzcEZhbGxiYWNrRXJyTiksZS5HYigpKSxudWxsIT09dGhpcy5yZXNwUDJwTiYmdm9pZCAwIT09dGhpcy5yZXNwUDJwTiYmKGUueGIoXCJyZXNwUDJwTlwiLGkuVHlwZS5ET1VCTEUsNCksZS5ZQyh0aGlzLnJlc3BQMnBOKSxlLkdiKCkpLG51bGwhPT10aGlzLnJlcU90aGVyTiYmdm9pZCAwIT09dGhpcy5yZXFPdGhlck4mJihlLnhiKFwicmVxT3RoZXJOXCIsaS5UeXBlLkkzMiw1KSxlLlZiKHRoaXMucmVxT3RoZXJOKSxlLkdiKCkpLG51bGwhPT10aGlzLnJlc3BGYWxsYmFja090aGVyTiYmdm9pZCAwIT09dGhpcy5yZXNwRmFsbGJhY2tPdGhlck4mJihlLnhiKFwicmVzcEZhbGxiYWNrT3RoZXJOXCIsaS5UeXBlLkkzMiw2KSxlLlZiKHRoaXMucmVzcEZhbGxiYWNrT3RoZXJOKSxlLkdiKCkpLG51bGwhPT10aGlzLnJlc3BGYWxsYmFja090aGVydEVyck4mJnZvaWQgMCE9PXRoaXMucmVzcEZhbGxiYWNrT3RoZXJ0RXJyTiYmKGUueGIoXCJyZXNwRmFsbGJhY2tPdGhlcnRFcnJOXCIsaS5UeXBlLkkzMiw3KSxlLlZiKHRoaXMucmVzcEZhbGxiYWNrT3RoZXJ0RXJyTiksZS5HYigpKSxudWxsIT09dGhpcy5zcmNSZXFOJiZ2b2lkIDAhPT10aGlzLnNyY1JlcU4mJihlLnhiKFwic3JjUmVxTlwiLGkuVHlwZS5JMzIsOCksZS5WYih0aGlzLnNyY1JlcU4pLGUuR2IoKSksbnVsbCE9PXRoaXMuc3JjUmVzcE4mJnZvaWQgMCE9PXRoaXMuc3JjUmVzcE4mJihlLnhiKFwic3JjUmVzcE5cIixpLlR5cGUuSTMyLDkpLGUuVmIodGhpcy5zcmNSZXNwTiksZS5HYigpKSxudWxsIT09dGhpcy5zcmNSZXNwRXJyTiYmdm9pZCAwIT09dGhpcy5zcmNSZXNwRXJyTiYmKGUueGIoXCJzcmNSZXNwRXJyTlwiLGkuVHlwZS5JMzIsMTApLGUuVmIodGhpcy5zcmNSZXNwRXJyTiksZS5HYigpKSxudWxsIT09dGhpcy5zcmNSZXFRdCYmdm9pZCAwIT09dGhpcy5zcmNSZXFRdCYmKGUueGIoXCJzcmNSZXFRdFwiLGkuVHlwZS5JNjQsMTEpLGUuS0ModGhpcy5zcmNSZXFRdCksZS5HYigpKSxudWxsIT09dGhpcy5zcmNSZXNwUXQmJnZvaWQgMCE9PXRoaXMuc3JjUmVzcFF0JiYoZS54YihcInNyY1Jlc3BRdFwiLGkuVHlwZS5JNjQsMTIpLGUuS0ModGhpcy5zcmNSZXNwUXQpLGUuR2IoKSksbnVsbCE9PXRoaXMuc3JjT3ZlclF0JiZ2b2lkIDAhPT10aGlzLnNyY092ZXJRdCYmKGUueGIoXCJzcmNPdmVyUXRcIixpLlR5cGUuSTY0LDEzKSxlLktDKHRoaXMuc3JjT3ZlclF0KSxlLkdiKCkpLG51bGwhPT10aGlzLnNyY090aGVyUmVxTiYmdm9pZCAwIT09dGhpcy5zcmNPdGhlclJlcU4mJihlLnhiKFwic3JjT3RoZXJSZXFOXCIsaS5UeXBlLkkzMiwxNCksZS5WYih0aGlzLnNyY090aGVyUmVxTiksZS5HYigpKSxudWxsIT09dGhpcy5zcmNPdGhlclJlc3BOJiZ2b2lkIDAhPT10aGlzLnNyY090aGVyUmVzcE4mJihlLnhiKFwic3JjT3RoZXJSZXNwTlwiLGkuVHlwZS5JMzIsMTUpLGUuVmIodGhpcy5zcmNPdGhlclJlc3BOKSxlLkdiKCkpLG51bGwhPT10aGlzLnNyY090aGVyUmVzcEVyck4mJnZvaWQgMCE9PXRoaXMuc3JjT3RoZXJSZXNwRXJyTiYmKGUueGIoXCJzcmNPdGhlclJlc3BFcnJOXCIsaS5UeXBlLkkzMiwxNiksZS5WYih0aGlzLnNyY090aGVyUmVzcEVyck4pLGUuR2IoKSksbnVsbCE9PXRoaXMuc3JjT3RoZXJSZXFRdCYmdm9pZCAwIT09dGhpcy5zcmNPdGhlclJlcVF0JiYoZS54YihcInNyY090aGVyUmVxUXRcIixpLlR5cGUuSTY0LDE3KSxlLktDKHRoaXMuc3JjT3RoZXJSZXFRdCksZS5HYigpKSxudWxsIT09dGhpcy5zcmNPdGhlclJlc3BRdCYmdm9pZCAwIT09dGhpcy5zcmNPdGhlclJlc3BRdCYmKGUueGIoXCJzcmNPdGhlclJlc3BRdFwiLGkuVHlwZS5JNjQsMTgpLGUuS0ModGhpcy5zcmNPdGhlclJlc3BRdCksZS5HYigpKSxudWxsIT09dGhpcy5zcmNPdGhlck92ZXJRdCYmdm9pZCAwIT09dGhpcy5zcmNPdGhlck92ZXJRdCYmKGUueGIoXCJzcmNPdGhlck92ZXJRdFwiLGkuVHlwZS5JNjQsMTkpLGUuS0ModGhpcy5zcmNPdGhlck92ZXJRdCksZS5HYigpKSxudWxsIT09dGhpcy5wMnBTdWJSZXFOJiZ2b2lkIDAhPT10aGlzLnAycFN1YlJlcU4mJihlLnhiKFwicDJwU3ViUmVxTlwiLGkuVHlwZS5JMzIsMjApLGUuVmIodGhpcy5wMnBTdWJSZXFOKSxlLkdiKCkpLG51bGwhPT10aGlzLnAycFN1YlJlc3BOJiZ2b2lkIDAhPT10aGlzLnAycFN1YlJlc3BOJiYoZS54YihcInAycFN1YlJlc3BOXCIsaS5UeXBlLkkzMiwyMSksZS5WYih0aGlzLnAycFN1YlJlc3BOKSxlLkdiKCkpLG51bGwhPT10aGlzLnAycFN1YlJlc3BQYXJ0TiYmdm9pZCAwIT09dGhpcy5wMnBTdWJSZXNwUGFydE4mJihlLnhiKFwicDJwU3ViUmVzcFBhcnROXCIsaS5UeXBlLkRPVUJMRSwyMiksZS5ZQyh0aGlzLnAycFN1YlJlc3BQYXJ0TiksZS5HYigpKSxudWxsIT09dGhpcy5wMnBTdWJSZXNwRXJyTiYmdm9pZCAwIT09dGhpcy5wMnBTdWJSZXNwRXJyTiYmKGUueGIoXCJwMnBTdWJSZXNwRXJyTlwiLGkuVHlwZS5ET1VCTEUsMjMpLGUuWUModGhpcy5wMnBTdWJSZXNwRXJyTiksZS5HYigpKSxudWxsIT09dGhpcy5wMnBTdWJSZXNwRXhwTiYmdm9pZCAwIT09dGhpcy5wMnBTdWJSZXNwRXhwTiYmKGUueGIoXCJwMnBTdWJSZXNwRXhwTlwiLGkuVHlwZS5JMzIsMjQpLGUuVmIodGhpcy5wMnBTdWJSZXNwRXhwTiksZS5HYigpKSxudWxsIT09dGhpcy5wMnBTdWJSZXFRdCYmdm9pZCAwIT09dGhpcy5wMnBTdWJSZXFRdCYmKGUueGIoXCJwMnBTdWJSZXFRdFwiLGkuVHlwZS5JNjQsMjUpLGUuS0ModGhpcy5wMnBTdWJSZXFRdCksZS5HYigpKSxudWxsIT09dGhpcy5wMnBTdWJSZXNwUXQmJnZvaWQgMCE9PXRoaXMucDJwU3ViUmVzcFF0JiYoZS54YihcInAycFN1YlJlc3BRdFwiLGkuVHlwZS5JNjQsMjYpLGUuS0ModGhpcy5wMnBTdWJSZXNwUXQpLGUuR2IoKSksbnVsbCE9PXRoaXMucDJwRGlyZWN0UXQmJnZvaWQgMCE9PXRoaXMucDJwRGlyZWN0UXQmJihlLnhiKFwicDJwRGlyZWN0UXRcIixpLlR5cGUuSTY0LDI3KSxlLktDKHRoaXMucDJwRGlyZWN0UXQpLGUuR2IoKSksbnVsbCE9PXRoaXMucDJwUmVsYXlRdCYmdm9pZCAwIT09dGhpcy5wMnBSZWxheVF0JiYoZS54YihcInAycFJlbGF5UXRcIixpLlR5cGUuSTY0LDI4KSxlLktDKHRoaXMucDJwUmVsYXlRdCksZS5HYigpKSxudWxsIT09dGhpcy5wMnBOYXRRdCYmdm9pZCAwIT09dGhpcy5wMnBOYXRRdCYmKGUueGIoXCJwMnBOYXRRdFwiLGkuVHlwZS5JNjQsMjkpLGUuS0ModGhpcy5wMnBOYXRRdCksZS5HYigpKSxudWxsIT09dGhpcy5wMnBVZHBiUXQmJnZvaWQgMCE9PXRoaXMucDJwVWRwYlF0JiYoZS54YihcInAycFVkcGJRdFwiLGkuVHlwZS5JNjQsMzApLGUuS0ModGhpcy5wMnBVZHBiUXQpLGUuR2IoKSksbnVsbCE9PXRoaXMuZmFsbEFnZW50UmVzcE4mJnZvaWQgMCE9PXRoaXMuZmFsbEFnZW50UmVzcE4mJihlLnhiKFwiZmFsbEFnZW50UmVzcE5cIixpLlR5cGUuSTMyLDMxKSxlLlZiKHRoaXMuZmFsbEFnZW50UmVzcE4pLGUuR2IoKSksbnVsbCE9PXRoaXMuZmFsbEFnZW50UHJlZEhpdE4mJnZvaWQgMCE9PXRoaXMuZmFsbEFnZW50UHJlZEhpdE4mJihlLnhiKFwiZmFsbEFnZW50UHJlZEhpdE5cIixpLlR5cGUuSTMyLDMyKSxlLlZiKHRoaXMuZmFsbEFnZW50UHJlZEhpdE4pLGUuR2IoKSksbnVsbCE9PXRoaXMuZmFsbEFnZW50RmFpbGVkUmVzcE4mJnZvaWQgMCE9PXRoaXMuZmFsbEFnZW50RmFpbGVkUmVzcE4mJihlLnhiKFwiZmFsbEFnZW50RmFpbGVkUmVzcE5cIixpLlR5cGUuSTMyLDMzKSxlLlZiKHRoaXMuZmFsbEFnZW50RmFpbGVkUmVzcE4pLGUuR2IoKSksbnVsbCE9PXRoaXMuZmFsbEFnZW50UHJlZE1pc3NOJiZ2b2lkIDAhPT10aGlzLmZhbGxBZ2VudFByZWRNaXNzTiYmKGUueGIoXCJmYWxsQWdlbnRQcmVkTWlzc05cIixpLlR5cGUuSTMyLDM0KSxlLlZiKHRoaXMuZmFsbEFnZW50UHJlZE1pc3NOKSxlLkdiKCkpLG51bGwhPT10aGlzLmZhbGxBZ2VudFByZWRQYXJ0aWFsSGl0TiYmdm9pZCAwIT09dGhpcy5mYWxsQWdlbnRQcmVkUGFydGlhbEhpdE4mJihlLnhiKFwiZmFsbEFnZW50UHJlZFBhcnRpYWxIaXROXCIsaS5UeXBlLkkzMiwzNSksZS5WYih0aGlzLmZhbGxBZ2VudFByZWRQYXJ0aWFsSGl0TiksZS5HYigpKSxudWxsIT09dGhpcy5mYWxsQWdlblRyYWZmaWNTdWNjZXNzUXQmJnZvaWQgMCE9PXRoaXMuZmFsbEFnZW5UcmFmZmljU3VjY2Vzc1F0JiYoZS54YihcImZhbGxBZ2VuVHJhZmZpY1N1Y2Nlc3NRdFwiLGkuVHlwZS5JNjQsMzYpLGUuS0ModGhpcy5mYWxsQWdlblRyYWZmaWNTdWNjZXNzUXQpLGUuR2IoKSksbnVsbCE9PXRoaXMuZmFsbEFnZW5UcmFmZmljRmFpbHVyZVF0JiZ2b2lkIDAhPT10aGlzLmZhbGxBZ2VuVHJhZmZpY0ZhaWx1cmVRdCYmKGUueGIoXCJmYWxsQWdlblRyYWZmaWNGYWlsdXJlUXRcIixpLlR5cGUuSTY0LDM3KSxlLktDKHRoaXMuZmFsbEFnZW5UcmFmZmljRmFpbHVyZVF0KSxlLkdiKCkpLG51bGwhPT10aGlzLnAycEFnZW50UHJlZEhpdE4mJnZvaWQgMCE9PXRoaXMucDJwQWdlbnRQcmVkSGl0TiYmKGUueGIoXCJwMnBBZ2VudFByZWRIaXROXCIsaS5UeXBlLkkzMiwzOCksZS5WYih0aGlzLnAycEFnZW50UHJlZEhpdE4pLGUuR2IoKSksbnVsbCE9PXRoaXMucDJwQWdlbnRQcmVkTWlzc04mJnZvaWQgMCE9PXRoaXMucDJwQWdlbnRQcmVkTWlzc04mJihlLnhiKFwicDJwQWdlbnRQcmVkTWlzc05cIixpLlR5cGUuSTMyLDM5KSxlLlZiKHRoaXMucDJwQWdlbnRQcmVkTWlzc04pLGUuR2IoKSksbnVsbCE9PXRoaXMucDJwQWdlbnRQcmVkUGFydGlhbEhpdE4mJnZvaWQgMCE9PXRoaXMucDJwQWdlbnRQcmVkUGFydGlhbEhpdE4mJihlLnhiKFwicDJwQWdlbnRQcmVkUGFydGlhbEhpdE5cIixpLlR5cGUuSTMyLDQwKSxlLlZiKHRoaXMucDJwQWdlbnRQcmVkUGFydGlhbEhpdE4pLGUuR2IoKSksbnVsbCE9PXRoaXMucDJwQWdlblRyYWZmaWNTdWNjZXNzUXQmJnZvaWQgMCE9PXRoaXMucDJwQWdlblRyYWZmaWNTdWNjZXNzUXQmJihlLnhiKFwicDJwQWdlblRyYWZmaWNTdWNjZXNzUXRcIixpLlR5cGUuSTY0LDQxKSxlLktDKHRoaXMucDJwQWdlblRyYWZmaWNTdWNjZXNzUXQpLGUuR2IoKSksbnVsbCE9PXRoaXMucDJwQWdlblRyYWZmaWNGYWlsdXJlUXQmJnZvaWQgMCE9PXRoaXMucDJwQWdlblRyYWZmaWNGYWlsdXJlUXQmJihlLnhiKFwicDJwQWdlblRyYWZmaWNGYWlsdXJlUXRcIixpLlR5cGUuSTY0LDQyKSxlLktDKHRoaXMucDJwQWdlblRyYWZmaWNGYWlsdXJlUXQpLGUuR2IoKSksbnVsbCE9PXRoaXMucmVzcFAycE90aGVyTiYmdm9pZCAwIT09dGhpcy5yZXNwUDJwT3RoZXJOJiYoZS54YihcInJlc3BQMnBPdGhlck5cIixpLlR5cGUuSTMyLDQzKSxlLlZiKHRoaXMucmVzcFAycE90aGVyTiksZS5HYigpKSxudWxsIT09dGhpcy5sQ2FjaGVSZXNwTiYmdm9pZCAwIT09dGhpcy5sQ2FjaGVSZXNwTiYmKGUueGIoXCJsQ2FjaGVSZXNwTlwiLGkuVHlwZS5JMzIsNDQpLGUuVmIodGhpcy5sQ2FjaGVSZXNwTiksZS5HYigpKSxudWxsIT09dGhpcy5sQ2FjaGVSZXNwUXQmJnZvaWQgMCE9PXRoaXMubENhY2hlUmVzcFF0JiYoZS54YihcImxDYWNoZVJlc3BRdFwiLGkuVHlwZS5JNjQsNDUpLGUuS0ModGhpcy5sQ2FjaGVSZXNwUXQpLGUuR2IoKSksbnVsbCE9PXRoaXMucDJwT3V0U2l0ZUxvd1ByaW8mJnZvaWQgMCE9PXRoaXMucDJwT3V0U2l0ZUxvd1ByaW8mJihlLnhiKFwicDJwT3V0U2l0ZUxvd1ByaW9cIixpLlR5cGUuSTY0LDQ2KSxlLktDKHRoaXMucDJwT3V0U2l0ZUxvd1ByaW8pLGUuR2IoKSksZS5qYigpLGUuUWIoKX0saGl2ZS5zbmFwc2hvdHMuTWV0cmljcz1mdW5jdGlvbihlKXt0aGlzLnVwQlc9bnVsbCx0aGlzLmRvd25CVz1udWxsLHRoaXMubWVtTj1udWxsLHRoaXMucHJ0SW5OPW51bGwsdGhpcy5wcnRPdXROPW51bGwsdGhpcy5pbml0VmlkZW9CdWZRdD1udWxsLHRoaXMudmlkZW9BdmdCdWZRdD1udWxsLHRoaXMudmlkZW9CdWZRdD1udWxsLHRoaXMudmlkZW9CdWZOPW51bGwsdGhpcy5pbml0QXVkaW9CdWZRdD1udWxsLHRoaXMuYXVkaW9BdmdCdWZRdD1udWxsLHRoaXMuYXVkaW9CdWZRdD1udWxsLHRoaXMuYXVkaW9CdWZOPW51bGwsdGhpcy5iaXRyYXRlVXBOPW51bGwsdGhpcy5iaXRyYXRlRHduTj1udWxsLHRoaXMuZGVsYXk9bnVsbCx0aGlzLmRlbGF5RW5mb3JjZW1lbnQ9bnVsbCx0aGlzLmxvb2t1cFJlcUVzdGFibGlzaGVkPW51bGwsdGhpcy5sb29rdXBSZXFBY2NlcHQ9bnVsbCx0aGlzLmZhbGxiYWNrQXZnVHA9bnVsbCx0aGlzLnNyY1Rocm91Z2hwdXQ9bnVsbCx0aGlzLmRpc2tSZWFkVGltZW91dD1udWxsLHRoaXMuZGlza1JlYWRSYXRlPW51bGwsdGhpcy5kaXNrU3RvcmVSYXRlPW51bGwsdGhpcy5kaXNrUmVtb3ZlUmF0ZT1udWxsLHRoaXMuZGlza0NhY2hlU2l6ZT1udWxsLHRoaXMuY2xpZW50QnVmZmVyTXM9bnVsbCx0aGlzLmxvb2t1cFRvdGFsPW51bGwsdGhpcy5sb29rdXBOb3RGb3VuZD1udWxsLHRoaXMubG9va3VwRmFpbGVkPW51bGwsdGhpcy5sb29rdXBMYXRlbmN5PW51bGwsdGhpcy50cmFja2VyRmFpbGVkPW51bGwsdGhpcy50cmFja2VyTGF0ZW5jeT1udWxsLHRoaXMuc25hcHNob3RGYWlsZWQ9bnVsbCx0aGlzLnNuYXBzaG90TGF0ZW5jeT1udWxsLHRoaXMuX0s9bnVsbCxlJiYodm9pZCAwIT09ZS51cEJXJiZudWxsIT09ZS51cEJXJiYodGhpcy51cEJXPWUudXBCVyksdm9pZCAwIT09ZS5kb3duQlcmJm51bGwhPT1lLmRvd25CVyYmKHRoaXMuZG93bkJXPWUuZG93bkJXKSx2b2lkIDAhPT1lLm1lbU4mJm51bGwhPT1lLm1lbU4mJih0aGlzLm1lbU49ZS5tZW1OKSx2b2lkIDAhPT1lLnBydEluTiYmbnVsbCE9PWUucHJ0SW5OJiYodGhpcy5wcnRJbk49ZS5wcnRJbk4pLHZvaWQgMCE9PWUucHJ0T3V0TiYmbnVsbCE9PWUucHJ0T3V0TiYmKHRoaXMucHJ0T3V0Tj1lLnBydE91dE4pLHZvaWQgMCE9PWUuaW5pdFZpZGVvQnVmUXQmJm51bGwhPT1lLmluaXRWaWRlb0J1ZlF0JiYodGhpcy5pbml0VmlkZW9CdWZRdD1lLmluaXRWaWRlb0J1ZlF0KSx2b2lkIDAhPT1lLnZpZGVvQXZnQnVmUXQmJm51bGwhPT1lLnZpZGVvQXZnQnVmUXQmJih0aGlzLnZpZGVvQXZnQnVmUXQ9ZS52aWRlb0F2Z0J1ZlF0KSx2b2lkIDAhPT1lLnZpZGVvQnVmUXQmJm51bGwhPT1lLnZpZGVvQnVmUXQmJih0aGlzLnZpZGVvQnVmUXQ9ZS52aWRlb0J1ZlF0KSx2b2lkIDAhPT1lLnZpZGVvQnVmTiYmbnVsbCE9PWUudmlkZW9CdWZOJiYodGhpcy52aWRlb0J1Zk49ZS52aWRlb0J1Zk4pLHZvaWQgMCE9PWUuaW5pdEF1ZGlvQnVmUXQmJm51bGwhPT1lLmluaXRBdWRpb0J1ZlF0JiYodGhpcy5pbml0QXVkaW9CdWZRdD1lLmluaXRBdWRpb0J1ZlF0KSx2b2lkIDAhPT1lLmF1ZGlvQXZnQnVmUXQmJm51bGwhPT1lLmF1ZGlvQXZnQnVmUXQmJih0aGlzLmF1ZGlvQXZnQnVmUXQ9ZS5hdWRpb0F2Z0J1ZlF0KSx2b2lkIDAhPT1lLmF1ZGlvQnVmUXQmJm51bGwhPT1lLmF1ZGlvQnVmUXQmJih0aGlzLmF1ZGlvQnVmUXQ9ZS5hdWRpb0J1ZlF0KSx2b2lkIDAhPT1lLmF1ZGlvQnVmTiYmbnVsbCE9PWUuYXVkaW9CdWZOJiYodGhpcy5hdWRpb0J1Zk49ZS5hdWRpb0J1Zk4pLHZvaWQgMCE9PWUuYml0cmF0ZVVwTiYmbnVsbCE9PWUuYml0cmF0ZVVwTiYmKHRoaXMuYml0cmF0ZVVwTj1lLmJpdHJhdGVVcE4pLHZvaWQgMCE9PWUuYml0cmF0ZUR3bk4mJm51bGwhPT1lLmJpdHJhdGVEd25OJiYodGhpcy5iaXRyYXRlRHduTj1lLmJpdHJhdGVEd25OKSx2b2lkIDAhPT1lLmRlbGF5JiZudWxsIT09ZS5kZWxheSYmKHRoaXMuZGVsYXk9ZS5kZWxheSksdm9pZCAwIT09ZS5kZWxheUVuZm9yY2VtZW50JiZudWxsIT09ZS5kZWxheUVuZm9yY2VtZW50JiYodGhpcy5kZWxheUVuZm9yY2VtZW50PWUuZGVsYXlFbmZvcmNlbWVudCksdm9pZCAwIT09ZS5sb29rdXBSZXFFc3RhYmxpc2hlZCYmbnVsbCE9PWUubG9va3VwUmVxRXN0YWJsaXNoZWQmJih0aGlzLmxvb2t1cFJlcUVzdGFibGlzaGVkPWUubG9va3VwUmVxRXN0YWJsaXNoZWQpLHZvaWQgMCE9PWUubG9va3VwUmVxQWNjZXB0JiZudWxsIT09ZS5sb29rdXBSZXFBY2NlcHQmJih0aGlzLmxvb2t1cFJlcUFjY2VwdD1lLmxvb2t1cFJlcUFjY2VwdCksdm9pZCAwIT09ZS5mYWxsYmFja0F2Z1RwJiZudWxsIT09ZS5mYWxsYmFja0F2Z1RwJiYodGhpcy5mYWxsYmFja0F2Z1RwPWUuZmFsbGJhY2tBdmdUcCksdm9pZCAwIT09ZS5zcmNUaHJvdWdocHV0JiZudWxsIT09ZS5zcmNUaHJvdWdocHV0JiYodGhpcy5zcmNUaHJvdWdocHV0PWUuc3JjVGhyb3VnaHB1dCksdm9pZCAwIT09ZS5kaXNrUmVhZFRpbWVvdXQmJm51bGwhPT1lLmRpc2tSZWFkVGltZW91dCYmKHRoaXMuZGlza1JlYWRUaW1lb3V0PWUuZGlza1JlYWRUaW1lb3V0KSx2b2lkIDAhPT1lLmRpc2tSZWFkUmF0ZSYmbnVsbCE9PWUuZGlza1JlYWRSYXRlJiYodGhpcy5kaXNrUmVhZFJhdGU9ZS5kaXNrUmVhZFJhdGUpLHZvaWQgMCE9PWUuZGlza1N0b3JlUmF0ZSYmbnVsbCE9PWUuZGlza1N0b3JlUmF0ZSYmKHRoaXMuZGlza1N0b3JlUmF0ZT1lLmRpc2tTdG9yZVJhdGUpLHZvaWQgMCE9PWUuZGlza1JlbW92ZVJhdGUmJm51bGwhPT1lLmRpc2tSZW1vdmVSYXRlJiYodGhpcy5kaXNrUmVtb3ZlUmF0ZT1lLmRpc2tSZW1vdmVSYXRlKSx2b2lkIDAhPT1lLmRpc2tDYWNoZVNpemUmJm51bGwhPT1lLmRpc2tDYWNoZVNpemUmJih0aGlzLmRpc2tDYWNoZVNpemU9ZS5kaXNrQ2FjaGVTaXplKSx2b2lkIDAhPT1lLmNsaWVudEJ1ZmZlck1zJiZudWxsIT09ZS5jbGllbnRCdWZmZXJNcyYmKHRoaXMuY2xpZW50QnVmZmVyTXM9ZS5jbGllbnRCdWZmZXJNcyksdm9pZCAwIT09ZS5sb29rdXBUb3RhbCYmbnVsbCE9PWUubG9va3VwVG90YWwmJih0aGlzLmxvb2t1cFRvdGFsPWUubG9va3VwVG90YWwpLHZvaWQgMCE9PWUubG9va3VwTm90Rm91bmQmJm51bGwhPT1lLmxvb2t1cE5vdEZvdW5kJiYodGhpcy5sb29rdXBOb3RGb3VuZD1lLmxvb2t1cE5vdEZvdW5kKSx2b2lkIDAhPT1lLmxvb2t1cEZhaWxlZCYmbnVsbCE9PWUubG9va3VwRmFpbGVkJiYodGhpcy5sb29rdXBGYWlsZWQ9ZS5sb29rdXBGYWlsZWQpLHZvaWQgMCE9PWUubG9va3VwTGF0ZW5jeSYmbnVsbCE9PWUubG9va3VwTGF0ZW5jeSYmKHRoaXMubG9va3VwTGF0ZW5jeT1lLmxvb2t1cExhdGVuY3kpLHZvaWQgMCE9PWUudHJhY2tlckZhaWxlZCYmbnVsbCE9PWUudHJhY2tlckZhaWxlZCYmKHRoaXMudHJhY2tlckZhaWxlZD1lLnRyYWNrZXJGYWlsZWQpLHZvaWQgMCE9PWUudHJhY2tlckxhdGVuY3kmJm51bGwhPT1lLnRyYWNrZXJMYXRlbmN5JiYodGhpcy50cmFja2VyTGF0ZW5jeT1lLnRyYWNrZXJMYXRlbmN5KSx2b2lkIDAhPT1lLnNuYXBzaG90RmFpbGVkJiZudWxsIT09ZS5zbmFwc2hvdEZhaWxlZCYmKHRoaXMuc25hcHNob3RGYWlsZWQ9ZS5zbmFwc2hvdEZhaWxlZCksdm9pZCAwIT09ZS5zbmFwc2hvdExhdGVuY3kmJm51bGwhPT1lLnNuYXBzaG90TGF0ZW5jeSYmKHRoaXMuc25hcHNob3RMYXRlbmN5PWUuc25hcHNob3RMYXRlbmN5KSx2b2lkIDAhPT1lLl9LJiZudWxsIT09ZS5fSyYmKHRoaXMuX0s9ZS5fSykpfSxoaXZlLnNuYXBzaG90cy5NZXRyaWNzLnByb3RvdHlwZT17fSxoaXZlLnNuYXBzaG90cy5NZXRyaWNzLnByb3RvdHlwZS5yZWFkPWZ1bmN0aW9uKGUpe2ZvcihlLnJfKCk7Oyl7dmFyIHQ9ZS5rYigpLHI9KHQuZm5hbWUsdC5mdHlwZSksbj10LmZpZDtpZihyPT1pLlR5cGUuU1RPUClicmVhaztzd2l0Y2gobil7Y2FzZSAxOnI9PWkuVHlwZS5JMzI/dGhpcy51cEJXPWUuRmIoKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgMjpyPT1pLlR5cGUuSTMyP3RoaXMuZG93bkJXPWUuRmIoKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgMzpyPT1pLlR5cGUuSTMyP3RoaXMubWVtTj1lLkZiKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDQ6cj09aS5UeXBlLkkzMj90aGlzLnBydEluTj1lLkZiKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDU6cj09aS5UeXBlLkkzMj90aGlzLnBydE91dE49ZS5GYigpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSA2OnI9PWkuVHlwZS5JNjQ/dGhpcy5pbml0VmlkZW9CdWZRdD1lLmdfKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDc6cj09aS5UeXBlLkRPVUJMRT90aGlzLnZpZGVvQXZnQnVmUXQ9ZS5FXygpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSA4OnI9PWkuVHlwZS5JNjQ/dGhpcy52aWRlb0J1ZlF0PWUuZ18oKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgOTpyPT1pLlR5cGUuSTMyP3RoaXMudmlkZW9CdWZOPWUuRmIoKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgMTA6cj09aS5UeXBlLkkzMj90aGlzLmluaXRBdWRpb0J1ZlF0PWUuRmIoKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgMTE6cj09aS5UeXBlLkRPVUJMRT90aGlzLmF1ZGlvQXZnQnVmUXQ9ZS5FXygpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSAxMjpyPT1pLlR5cGUuSTY0P3RoaXMuYXVkaW9CdWZRdD1lLmdfKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDEzOnI9PWkuVHlwZS5JMzI/dGhpcy5hdWRpb0J1Zk49ZS5GYigpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSAxNDpyPT1pLlR5cGUuSTMyP3RoaXMuYml0cmF0ZVVwTj1lLkZiKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDE1OnI9PWkuVHlwZS5JMzI/dGhpcy5iaXRyYXRlRHduTj1lLkZiKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDE2OnI9PWkuVHlwZS5JMzI/dGhpcy5kZWxheT1lLkZiKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDE3OnI9PWkuVHlwZS5JMzI/dGhpcy5kZWxheUVuZm9yY2VtZW50PWUuRmIoKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgMTg6cj09aS5UeXBlLkkzMj90aGlzLmxvb2t1cFJlcUVzdGFibGlzaGVkPWUuRmIoKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgMTk6cj09aS5UeXBlLkkzMj90aGlzLmxvb2t1cFJlcUFjY2VwdD1lLkZiKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDIwOnI9PWkuVHlwZS5ET1VCTEU/dGhpcy5mYWxsYmFja0F2Z1RwPWUuRV8oKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgMjE6cj09aS5UeXBlLkRPVUJMRT90aGlzLnNyY1Rocm91Z2hwdXQ9ZS5FXygpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSAyMjpyPT1pLlR5cGUuSTMyP3RoaXMuZGlza1JlYWRUaW1lb3V0PWUuRmIoKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgMjM6cj09aS5UeXBlLkRPVUJMRT90aGlzLmRpc2tSZWFkUmF0ZT1lLkVfKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDI0OnI9PWkuVHlwZS5ET1VCTEU/dGhpcy5kaXNrU3RvcmVSYXRlPWUuRV8oKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgMjU6cj09aS5UeXBlLkRPVUJMRT90aGlzLmRpc2tSZW1vdmVSYXRlPWUuRV8oKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgMjY6cj09aS5UeXBlLkk2ND90aGlzLmRpc2tDYWNoZVNpemU9ZS5nXygpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSAyNzpyPT1pLlR5cGUuSTMyP3RoaXMuY2xpZW50QnVmZmVyTXM9ZS5GYigpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSAyODpyPT1pLlR5cGUuSTMyP3RoaXMubG9va3VwVG90YWw9ZS5GYigpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSAyOTpyPT1pLlR5cGUuSTMyP3RoaXMubG9va3VwTm90Rm91bmQ9ZS5GYigpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSAzMDpyPT1pLlR5cGUuSTMyP3RoaXMubG9va3VwRmFpbGVkPWUuRmIoKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgMzE6cj09aS5UeXBlLkkzMj90aGlzLmxvb2t1cExhdGVuY3k9ZS5GYigpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSAzMjpyPT1pLlR5cGUuSTMyP3RoaXMudHJhY2tlckZhaWxlZD1lLkZiKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDMzOnI9PWkuVHlwZS5JMzI/dGhpcy50cmFja2VyTGF0ZW5jeT1lLkZiKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDM0OnI9PWkuVHlwZS5JMzI/dGhpcy5zbmFwc2hvdEZhaWxlZD1lLkZiKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDM1OnI9PWkuVHlwZS5JMzI/dGhpcy5zbmFwc2hvdExhdGVuY3k9ZS5GYigpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSAzNjpyPT1pLlR5cGUuSTMyP3RoaXMuX0s9ZS5GYigpLnZhbHVlOmUuTWIocik7YnJlYWs7ZGVmYXVsdDplLk1iKHIpfWUuVWIoKX1lLkJiKCl9LGhpdmUuc25hcHNob3RzLk1ldHJpY3MucHJvdG90eXBlLndyaXRlPWZ1bmN0aW9uKGUpe2UuSGIoXCJNZXRyaWNzXCIpLG51bGwhPT10aGlzLnVwQlcmJnZvaWQgMCE9PXRoaXMudXBCVyYmKGUueGIoXCJ1cEJXXCIsaS5UeXBlLkkzMiwxKSxlLlZiKHRoaXMudXBCVyksZS5HYigpKSxudWxsIT09dGhpcy5kb3duQlcmJnZvaWQgMCE9PXRoaXMuZG93bkJXJiYoZS54YihcImRvd25CV1wiLGkuVHlwZS5JMzIsMiksZS5WYih0aGlzLmRvd25CVyksZS5HYigpKSxudWxsIT09dGhpcy5tZW1OJiZ2b2lkIDAhPT10aGlzLm1lbU4mJihlLnhiKFwibWVtTlwiLGkuVHlwZS5JMzIsMyksZS5WYih0aGlzLm1lbU4pLGUuR2IoKSksbnVsbCE9PXRoaXMucHJ0SW5OJiZ2b2lkIDAhPT10aGlzLnBydEluTiYmKGUueGIoXCJwcnRJbk5cIixpLlR5cGUuSTMyLDQpLGUuVmIodGhpcy5wcnRJbk4pLGUuR2IoKSksbnVsbCE9PXRoaXMucHJ0T3V0TiYmdm9pZCAwIT09dGhpcy5wcnRPdXROJiYoZS54YihcInBydE91dE5cIixpLlR5cGUuSTMyLDUpLGUuVmIodGhpcy5wcnRPdXROKSxlLkdiKCkpLG51bGwhPT10aGlzLmluaXRWaWRlb0J1ZlF0JiZ2b2lkIDAhPT10aGlzLmluaXRWaWRlb0J1ZlF0JiYoZS54YihcImluaXRWaWRlb0J1ZlF0XCIsaS5UeXBlLkk2NCw2KSxlLktDKHRoaXMuaW5pdFZpZGVvQnVmUXQpLGUuR2IoKSksbnVsbCE9PXRoaXMudmlkZW9BdmdCdWZRdCYmdm9pZCAwIT09dGhpcy52aWRlb0F2Z0J1ZlF0JiYoZS54YihcInZpZGVvQXZnQnVmUXRcIixpLlR5cGUuRE9VQkxFLDcpLGUuWUModGhpcy52aWRlb0F2Z0J1ZlF0KSxlLkdiKCkpLG51bGwhPT10aGlzLnZpZGVvQnVmUXQmJnZvaWQgMCE9PXRoaXMudmlkZW9CdWZRdCYmKGUueGIoXCJ2aWRlb0J1ZlF0XCIsaS5UeXBlLkk2NCw4KSxlLktDKHRoaXMudmlkZW9CdWZRdCksZS5HYigpKSxudWxsIT09dGhpcy52aWRlb0J1Zk4mJnZvaWQgMCE9PXRoaXMudmlkZW9CdWZOJiYoZS54YihcInZpZGVvQnVmTlwiLGkuVHlwZS5JMzIsOSksZS5WYih0aGlzLnZpZGVvQnVmTiksZS5HYigpKSxudWxsIT09dGhpcy5pbml0QXVkaW9CdWZRdCYmdm9pZCAwIT09dGhpcy5pbml0QXVkaW9CdWZRdCYmKGUueGIoXCJpbml0QXVkaW9CdWZRdFwiLGkuVHlwZS5JMzIsMTApLGUuVmIodGhpcy5pbml0QXVkaW9CdWZRdCksZS5HYigpKSxudWxsIT09dGhpcy5hdWRpb0F2Z0J1ZlF0JiZ2b2lkIDAhPT10aGlzLmF1ZGlvQXZnQnVmUXQmJihlLnhiKFwiYXVkaW9BdmdCdWZRdFwiLGkuVHlwZS5ET1VCTEUsMTEpLGUuWUModGhpcy5hdWRpb0F2Z0J1ZlF0KSxlLkdiKCkpLG51bGwhPT10aGlzLmF1ZGlvQnVmUXQmJnZvaWQgMCE9PXRoaXMuYXVkaW9CdWZRdCYmKGUueGIoXCJhdWRpb0J1ZlF0XCIsaS5UeXBlLkk2NCwxMiksZS5LQyh0aGlzLmF1ZGlvQnVmUXQpLGUuR2IoKSksbnVsbCE9PXRoaXMuYXVkaW9CdWZOJiZ2b2lkIDAhPT10aGlzLmF1ZGlvQnVmTiYmKGUueGIoXCJhdWRpb0J1Zk5cIixpLlR5cGUuSTMyLDEzKSxlLlZiKHRoaXMuYXVkaW9CdWZOKSxlLkdiKCkpLG51bGwhPT10aGlzLmJpdHJhdGVVcE4mJnZvaWQgMCE9PXRoaXMuYml0cmF0ZVVwTiYmKGUueGIoXCJiaXRyYXRlVXBOXCIsaS5UeXBlLkkzMiwxNCksZS5WYih0aGlzLmJpdHJhdGVVcE4pLGUuR2IoKSksbnVsbCE9PXRoaXMuYml0cmF0ZUR3bk4mJnZvaWQgMCE9PXRoaXMuYml0cmF0ZUR3bk4mJihlLnhiKFwiYml0cmF0ZUR3bk5cIixpLlR5cGUuSTMyLDE1KSxlLlZiKHRoaXMuYml0cmF0ZUR3bk4pLGUuR2IoKSksbnVsbCE9PXRoaXMuZGVsYXkmJnZvaWQgMCE9PXRoaXMuZGVsYXkmJihlLnhiKFwiZGVsYXlcIixpLlR5cGUuSTMyLDE2KSxlLlZiKHRoaXMuZGVsYXkpLGUuR2IoKSksbnVsbCE9PXRoaXMuZGVsYXlFbmZvcmNlbWVudCYmdm9pZCAwIT09dGhpcy5kZWxheUVuZm9yY2VtZW50JiYoZS54YihcImRlbGF5RW5mb3JjZW1lbnRcIixpLlR5cGUuSTMyLDE3KSxlLlZiKHRoaXMuZGVsYXlFbmZvcmNlbWVudCksZS5HYigpKSxudWxsIT09dGhpcy5sb29rdXBSZXFFc3RhYmxpc2hlZCYmdm9pZCAwIT09dGhpcy5sb29rdXBSZXFFc3RhYmxpc2hlZCYmKGUueGIoXCJsb29rdXBSZXFFc3RhYmxpc2hlZFwiLGkuVHlwZS5JMzIsMTgpLGUuVmIodGhpcy5sb29rdXBSZXFFc3RhYmxpc2hlZCksZS5HYigpKSxudWxsIT09dGhpcy5sb29rdXBSZXFBY2NlcHQmJnZvaWQgMCE9PXRoaXMubG9va3VwUmVxQWNjZXB0JiYoZS54YihcImxvb2t1cFJlcUFjY2VwdFwiLGkuVHlwZS5JMzIsMTkpLGUuVmIodGhpcy5sb29rdXBSZXFBY2NlcHQpLGUuR2IoKSksbnVsbCE9PXRoaXMuZmFsbGJhY2tBdmdUcCYmdm9pZCAwIT09dGhpcy5mYWxsYmFja0F2Z1RwJiYoZS54YihcImZhbGxiYWNrQXZnVHBcIixpLlR5cGUuRE9VQkxFLDIwKSxlLllDKHRoaXMuZmFsbGJhY2tBdmdUcCksZS5HYigpKSxudWxsIT09dGhpcy5zcmNUaHJvdWdocHV0JiZ2b2lkIDAhPT10aGlzLnNyY1Rocm91Z2hwdXQmJihlLnhiKFwic3JjVGhyb3VnaHB1dFwiLGkuVHlwZS5ET1VCTEUsMjEpLGUuWUModGhpcy5zcmNUaHJvdWdocHV0KSxlLkdiKCkpLG51bGwhPT10aGlzLmRpc2tSZWFkVGltZW91dCYmdm9pZCAwIT09dGhpcy5kaXNrUmVhZFRpbWVvdXQmJihlLnhiKFwiZGlza1JlYWRUaW1lb3V0XCIsaS5UeXBlLkkzMiwyMiksZS5WYih0aGlzLmRpc2tSZWFkVGltZW91dCksZS5HYigpKSxudWxsIT09dGhpcy5kaXNrUmVhZFJhdGUmJnZvaWQgMCE9PXRoaXMuZGlza1JlYWRSYXRlJiYoZS54YihcImRpc2tSZWFkUmF0ZVwiLGkuVHlwZS5ET1VCTEUsMjMpLGUuWUModGhpcy5kaXNrUmVhZFJhdGUpLGUuR2IoKSksbnVsbCE9PXRoaXMuZGlza1N0b3JlUmF0ZSYmdm9pZCAwIT09dGhpcy5kaXNrU3RvcmVSYXRlJiYoZS54YihcImRpc2tTdG9yZVJhdGVcIixpLlR5cGUuRE9VQkxFLDI0KSxlLllDKHRoaXMuZGlza1N0b3JlUmF0ZSksZS5HYigpKSxudWxsIT09dGhpcy5kaXNrUmVtb3ZlUmF0ZSYmdm9pZCAwIT09dGhpcy5kaXNrUmVtb3ZlUmF0ZSYmKGUueGIoXCJkaXNrUmVtb3ZlUmF0ZVwiLGkuVHlwZS5ET1VCTEUsMjUpLGUuWUModGhpcy5kaXNrUmVtb3ZlUmF0ZSksZS5HYigpKSxudWxsIT09dGhpcy5kaXNrQ2FjaGVTaXplJiZ2b2lkIDAhPT10aGlzLmRpc2tDYWNoZVNpemUmJihlLnhiKFwiZGlza0NhY2hlU2l6ZVwiLGkuVHlwZS5JNjQsMjYpLGUuS0ModGhpcy5kaXNrQ2FjaGVTaXplKSxlLkdiKCkpLG51bGwhPT10aGlzLmNsaWVudEJ1ZmZlck1zJiZ2b2lkIDAhPT10aGlzLmNsaWVudEJ1ZmZlck1zJiYoZS54YihcImNsaWVudEJ1ZmZlck1zXCIsaS5UeXBlLkkzMiwyNyksZS5WYih0aGlzLmNsaWVudEJ1ZmZlck1zKSxlLkdiKCkpLG51bGwhPT10aGlzLmxvb2t1cFRvdGFsJiZ2b2lkIDAhPT10aGlzLmxvb2t1cFRvdGFsJiYoZS54YihcImxvb2t1cFRvdGFsXCIsaS5UeXBlLkkzMiwyOCksZS5WYih0aGlzLmxvb2t1cFRvdGFsKSxlLkdiKCkpLG51bGwhPT10aGlzLmxvb2t1cE5vdEZvdW5kJiZ2b2lkIDAhPT10aGlzLmxvb2t1cE5vdEZvdW5kJiYoZS54YihcImxvb2t1cE5vdEZvdW5kXCIsaS5UeXBlLkkzMiwyOSksZS5WYih0aGlzLmxvb2t1cE5vdEZvdW5kKSxlLkdiKCkpLG51bGwhPT10aGlzLmxvb2t1cEZhaWxlZCYmdm9pZCAwIT09dGhpcy5sb29rdXBGYWlsZWQmJihlLnhiKFwibG9va3VwRmFpbGVkXCIsaS5UeXBlLkkzMiwzMCksZS5WYih0aGlzLmxvb2t1cEZhaWxlZCksZS5HYigpKSxudWxsIT09dGhpcy5sb29rdXBMYXRlbmN5JiZ2b2lkIDAhPT10aGlzLmxvb2t1cExhdGVuY3kmJihlLnhiKFwibG9va3VwTGF0ZW5jeVwiLGkuVHlwZS5JMzIsMzEpLGUuVmIodGhpcy5sb29rdXBMYXRlbmN5KSxlLkdiKCkpLG51bGwhPT10aGlzLnRyYWNrZXJGYWlsZWQmJnZvaWQgMCE9PXRoaXMudHJhY2tlckZhaWxlZCYmKGUueGIoXCJ0cmFja2VyRmFpbGVkXCIsaS5UeXBlLkkzMiwzMiksZS5WYih0aGlzLnRyYWNrZXJGYWlsZWQpLGUuR2IoKSksbnVsbCE9PXRoaXMudHJhY2tlckxhdGVuY3kmJnZvaWQgMCE9PXRoaXMudHJhY2tlckxhdGVuY3kmJihlLnhiKFwidHJhY2tlckxhdGVuY3lcIixpLlR5cGUuSTMyLDMzKSxlLlZiKHRoaXMudHJhY2tlckxhdGVuY3kpLGUuR2IoKSksbnVsbCE9PXRoaXMuc25hcHNob3RGYWlsZWQmJnZvaWQgMCE9PXRoaXMuc25hcHNob3RGYWlsZWQmJihlLnhiKFwic25hcHNob3RGYWlsZWRcIixpLlR5cGUuSTMyLDM0KSxlLlZiKHRoaXMuc25hcHNob3RGYWlsZWQpLGUuR2IoKSksbnVsbCE9PXRoaXMuc25hcHNob3RMYXRlbmN5JiZ2b2lkIDAhPT10aGlzLnNuYXBzaG90TGF0ZW5jeSYmKGUueGIoXCJzbmFwc2hvdExhdGVuY3lcIixpLlR5cGUuSTMyLDM1KSxlLlZiKHRoaXMuc25hcHNob3RMYXRlbmN5KSxlLkdiKCkpLG51bGwhPT10aGlzLl9LJiZ2b2lkIDAhPT10aGlzLl9LJiYoZS54YihcInNvdXJjZUxhdGVuY3lcIixpLlR5cGUuSTMyLDM2KSxlLlZiKHRoaXMuX0spLGUuR2IoKSksZS5qYigpLGUuUWIoKX0saGl2ZS5zbmFwc2hvdHMuUGFydG5lclRyYWZmaWM9ZnVuY3Rpb24oZSl7dGhpcy5wMnBTdWNjUmVxPW51bGwsdGhpcy5wMnBGYWlsUmVxPW51bGwsdGhpcy5wMnBQYXJ0UmVxPW51bGwsdGhpcy5wMnBTdWNjUmVjZWl2ZWQ9bnVsbCx0aGlzLnAycFN1Y2NSZWNlaXZlZExvdz1udWxsLHRoaXMucDJwRmFpbFJlY2VpdmVkPW51bGwsdGhpcy5wMnBTdWNjUmVzcD1udWxsLHRoaXMucDJwRmFpbFJlc3A9bnVsbCx0aGlzLnAycFBhcnRSZXNwPW51bGwsdGhpcy5wMnBTdWNjU2VudD1udWxsLHRoaXMucDJwU3VjY1NlbnRMb3c9bnVsbCx0aGlzLnAycEZhaWxTZW50PW51bGwsZSYmKHZvaWQgMCE9PWUucDJwU3VjY1JlcSYmbnVsbCE9PWUucDJwU3VjY1JlcSYmKHRoaXMucDJwU3VjY1JlcT1lLnAycFN1Y2NSZXEpLHZvaWQgMCE9PWUucDJwRmFpbFJlcSYmbnVsbCE9PWUucDJwRmFpbFJlcSYmKHRoaXMucDJwRmFpbFJlcT1lLnAycEZhaWxSZXEpLHZvaWQgMCE9PWUucDJwUGFydFJlcSYmbnVsbCE9PWUucDJwUGFydFJlcSYmKHRoaXMucDJwUGFydFJlcT1lLnAycFBhcnRSZXEpLHZvaWQgMCE9PWUucDJwU3VjY1JlY2VpdmVkJiZudWxsIT09ZS5wMnBTdWNjUmVjZWl2ZWQmJih0aGlzLnAycFN1Y2NSZWNlaXZlZD1lLnAycFN1Y2NSZWNlaXZlZCksdm9pZCAwIT09ZS5wMnBTdWNjUmVjZWl2ZWRMb3cmJm51bGwhPT1lLnAycFN1Y2NSZWNlaXZlZExvdyYmKHRoaXMucDJwU3VjY1JlY2VpdmVkTG93PWUucDJwU3VjY1JlY2VpdmVkTG93KSx2b2lkIDAhPT1lLnAycEZhaWxSZWNlaXZlZCYmbnVsbCE9PWUucDJwRmFpbFJlY2VpdmVkJiYodGhpcy5wMnBGYWlsUmVjZWl2ZWQ9ZS5wMnBGYWlsUmVjZWl2ZWQpLHZvaWQgMCE9PWUucDJwU3VjY1Jlc3AmJm51bGwhPT1lLnAycFN1Y2NSZXNwJiYodGhpcy5wMnBTdWNjUmVzcD1lLnAycFN1Y2NSZXNwKSx2b2lkIDAhPT1lLnAycEZhaWxSZXNwJiZudWxsIT09ZS5wMnBGYWlsUmVzcCYmKHRoaXMucDJwRmFpbFJlc3A9ZS5wMnBGYWlsUmVzcCksdm9pZCAwIT09ZS5wMnBQYXJ0UmVzcCYmbnVsbCE9PWUucDJwUGFydFJlc3AmJih0aGlzLnAycFBhcnRSZXNwPWUucDJwUGFydFJlc3ApLHZvaWQgMCE9PWUucDJwU3VjY1NlbnQmJm51bGwhPT1lLnAycFN1Y2NTZW50JiYodGhpcy5wMnBTdWNjU2VudD1lLnAycFN1Y2NTZW50KSx2b2lkIDAhPT1lLnAycFN1Y2NTZW50TG93JiZudWxsIT09ZS5wMnBTdWNjU2VudExvdyYmKHRoaXMucDJwU3VjY1NlbnRMb3c9ZS5wMnBTdWNjU2VudExvdyksdm9pZCAwIT09ZS5wMnBGYWlsU2VudCYmbnVsbCE9PWUucDJwRmFpbFNlbnQmJih0aGlzLnAycEZhaWxTZW50PWUucDJwRmFpbFNlbnQpKX0saGl2ZS5zbmFwc2hvdHMuUGFydG5lclRyYWZmaWMucHJvdG90eXBlPXt9LGhpdmUuc25hcHNob3RzLlBhcnRuZXJUcmFmZmljLnByb3RvdHlwZS5yZWFkPWZ1bmN0aW9uKGUpe2ZvcihlLnJfKCk7Oyl7dmFyIHQ9ZS5rYigpLHI9KHQuZm5hbWUsdC5mdHlwZSksbj10LmZpZDtpZihyPT1pLlR5cGUuU1RPUClicmVhaztzd2l0Y2gobil7Y2FzZSAxOnI9PWkuVHlwZS5JNjQ/dGhpcy5wMnBTdWNjUmVxPWUuZ18oKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgMjpyPT1pLlR5cGUuSTY0P3RoaXMucDJwRmFpbFJlcT1lLmdfKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDM6cj09aS5UeXBlLkk2ND90aGlzLnAycFBhcnRSZXE9ZS5nXygpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSA0OnI9PWkuVHlwZS5JNjQ/dGhpcy5wMnBTdWNjUmVjZWl2ZWQ9ZS5nXygpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSA1OnI9PWkuVHlwZS5JNjQ/dGhpcy5wMnBTdWNjUmVjZWl2ZWRMb3c9ZS5nXygpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSAxMDpyPT1pLlR5cGUuSTY0P3RoaXMucDJwRmFpbFJlY2VpdmVkPWUuZ18oKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgNjpyPT1pLlR5cGUuSTY0P3RoaXMucDJwU3VjY1Jlc3A9ZS5nXygpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSAxMTpyPT1pLlR5cGUuSTY0P3RoaXMucDJwRmFpbFJlc3A9ZS5nXygpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSA3OnI9PWkuVHlwZS5JNjQ/dGhpcy5wMnBQYXJ0UmVzcD1lLmdfKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDg6cj09aS5UeXBlLkk2ND90aGlzLnAycFN1Y2NTZW50PWUuZ18oKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgOTpyPT1pLlR5cGUuSTY0P3RoaXMucDJwU3VjY1NlbnRMb3c9ZS5nXygpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSAxMjpyPT1pLlR5cGUuSTY0P3RoaXMucDJwRmFpbFNlbnQ9ZS5nXygpLnZhbHVlOmUuTWIocik7YnJlYWs7ZGVmYXVsdDplLk1iKHIpfWUuVWIoKX1lLkJiKCl9LGhpdmUuc25hcHNob3RzLlBhcnRuZXJUcmFmZmljLnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbihlKXtlLkhiKFwiUGFydG5lclRyYWZmaWNcIiksbnVsbCE9PXRoaXMucDJwU3VjY1JlcSYmdm9pZCAwIT09dGhpcy5wMnBTdWNjUmVxJiYoZS54YihcInAycFN1Y2NSZXFcIixpLlR5cGUuSTY0LDEpLGUuS0ModGhpcy5wMnBTdWNjUmVxKSxlLkdiKCkpLG51bGwhPT10aGlzLnAycEZhaWxSZXEmJnZvaWQgMCE9PXRoaXMucDJwRmFpbFJlcSYmKGUueGIoXCJwMnBGYWlsUmVxXCIsaS5UeXBlLkk2NCwyKSxlLktDKHRoaXMucDJwRmFpbFJlcSksZS5HYigpKSxudWxsIT09dGhpcy5wMnBQYXJ0UmVxJiZ2b2lkIDAhPT10aGlzLnAycFBhcnRSZXEmJihlLnhiKFwicDJwUGFydFJlcVwiLGkuVHlwZS5JNjQsMyksZS5LQyh0aGlzLnAycFBhcnRSZXEpLGUuR2IoKSksbnVsbCE9PXRoaXMucDJwU3VjY1JlY2VpdmVkJiZ2b2lkIDAhPT10aGlzLnAycFN1Y2NSZWNlaXZlZCYmKGUueGIoXCJwMnBTdWNjUmVjZWl2ZWRcIixpLlR5cGUuSTY0LDQpLGUuS0ModGhpcy5wMnBTdWNjUmVjZWl2ZWQpLGUuR2IoKSksbnVsbCE9PXRoaXMucDJwU3VjY1JlY2VpdmVkTG93JiZ2b2lkIDAhPT10aGlzLnAycFN1Y2NSZWNlaXZlZExvdyYmKGUueGIoXCJwMnBTdWNjUmVjZWl2ZWRMb3dcIixpLlR5cGUuSTY0LDUpLGUuS0ModGhpcy5wMnBTdWNjUmVjZWl2ZWRMb3cpLGUuR2IoKSksbnVsbCE9PXRoaXMucDJwRmFpbFJlY2VpdmVkJiZ2b2lkIDAhPT10aGlzLnAycEZhaWxSZWNlaXZlZCYmKGUueGIoXCJwMnBGYWlsUmVjZWl2ZWRcIixpLlR5cGUuSTY0LDEwKSxlLktDKHRoaXMucDJwRmFpbFJlY2VpdmVkKSxlLkdiKCkpLG51bGwhPT10aGlzLnAycFN1Y2NSZXNwJiZ2b2lkIDAhPT10aGlzLnAycFN1Y2NSZXNwJiYoZS54YihcInAycFN1Y2NSZXNwXCIsaS5UeXBlLkk2NCw2KSxlLktDKHRoaXMucDJwU3VjY1Jlc3ApLGUuR2IoKSksbnVsbCE9PXRoaXMucDJwRmFpbFJlc3AmJnZvaWQgMCE9PXRoaXMucDJwRmFpbFJlc3AmJihlLnhiKFwicDJwRmFpbFJlc3BcIixpLlR5cGUuSTY0LDExKSxlLktDKHRoaXMucDJwRmFpbFJlc3ApLGUuR2IoKSksbnVsbCE9PXRoaXMucDJwUGFydFJlc3AmJnZvaWQgMCE9PXRoaXMucDJwUGFydFJlc3AmJihlLnhiKFwicDJwUGFydFJlc3BcIixpLlR5cGUuSTY0LDcpLGUuS0ModGhpcy5wMnBQYXJ0UmVzcCksZS5HYigpKSxudWxsIT09dGhpcy5wMnBTdWNjU2VudCYmdm9pZCAwIT09dGhpcy5wMnBTdWNjU2VudCYmKGUueGIoXCJwMnBTdWNjU2VudFwiLGkuVHlwZS5JNjQsOCksZS5LQyh0aGlzLnAycFN1Y2NTZW50KSxlLkdiKCkpLG51bGwhPT10aGlzLnAycFN1Y2NTZW50TG93JiZ2b2lkIDAhPT10aGlzLnAycFN1Y2NTZW50TG93JiYoZS54YihcInAycFN1Y2NTZW50TG93XCIsaS5UeXBlLkk2NCw5KSxlLktDKHRoaXMucDJwU3VjY1NlbnRMb3cpLGUuR2IoKSksbnVsbCE9PXRoaXMucDJwRmFpbFNlbnQmJnZvaWQgMCE9PXRoaXMucDJwRmFpbFNlbnQmJihlLnhiKFwicDJwRmFpbFNlbnRcIixpLlR5cGUuSTY0LDEyKSxlLktDKHRoaXMucDJwRmFpbFNlbnQpLGUuR2IoKSksZS5qYigpLGUuUWIoKX0saGl2ZS5zbmFwc2hvdHMuUGFydG5lck1ldHJpY3M9ZnVuY3Rpb24oZSl7dGhpcy5yYXRlUmVjZWl2ZWQ9bnVsbCx0aGlzLnJhdGVTZW50PW51bGwsdGhpcy5oYW5kc2hha2VEZWxheT1udWxsLGUmJih2b2lkIDAhPT1lLnJhdGVSZWNlaXZlZCYmbnVsbCE9PWUucmF0ZVJlY2VpdmVkJiYodGhpcy5yYXRlUmVjZWl2ZWQ9ZS5yYXRlUmVjZWl2ZWQpLHZvaWQgMCE9PWUucmF0ZVNlbnQmJm51bGwhPT1lLnJhdGVTZW50JiYodGhpcy5yYXRlU2VudD1lLnJhdGVTZW50KSx2b2lkIDAhPT1lLmhhbmRzaGFrZURlbGF5JiZudWxsIT09ZS5oYW5kc2hha2VEZWxheSYmKHRoaXMuaGFuZHNoYWtlRGVsYXk9ZS5oYW5kc2hha2VEZWxheSkpfSxoaXZlLnNuYXBzaG90cy5QYXJ0bmVyTWV0cmljcy5wcm90b3R5cGU9e30saGl2ZS5zbmFwc2hvdHMuUGFydG5lck1ldHJpY3MucHJvdG90eXBlLnJlYWQ9ZnVuY3Rpb24oZSl7Zm9yKGUucl8oKTs7KXt2YXIgdD1lLmtiKCkscj0odC5mbmFtZSx0LmZ0eXBlKSxuPXQuZmlkO2lmKHI9PWkuVHlwZS5TVE9QKWJyZWFrO3N3aXRjaChuKXtjYXNlIDE6cj09aS5UeXBlLkRPVUJMRT90aGlzLnJhdGVSZWNlaXZlZD1lLkVfKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDI6cj09aS5UeXBlLkRPVUJMRT90aGlzLnJhdGVTZW50PWUuRV8oKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgMzpyPT1pLlR5cGUuSTY0P3RoaXMuaGFuZHNoYWtlRGVsYXk9ZS5nXygpLnZhbHVlOmUuTWIocik7YnJlYWs7ZGVmYXVsdDplLk1iKHIpfWUuVWIoKX1lLkJiKCl9LGhpdmUuc25hcHNob3RzLlBhcnRuZXJNZXRyaWNzLnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbihlKXtlLkhiKFwiUGFydG5lck1ldHJpY3NcIiksbnVsbCE9PXRoaXMucmF0ZVJlY2VpdmVkJiZ2b2lkIDAhPT10aGlzLnJhdGVSZWNlaXZlZCYmKGUueGIoXCJyYXRlUmVjZWl2ZWRcIixpLlR5cGUuRE9VQkxFLDEpLGUuWUModGhpcy5yYXRlUmVjZWl2ZWQpLGUuR2IoKSksbnVsbCE9PXRoaXMucmF0ZVNlbnQmJnZvaWQgMCE9PXRoaXMucmF0ZVNlbnQmJihlLnhiKFwicmF0ZVNlbnRcIixpLlR5cGUuRE9VQkxFLDIpLGUuWUModGhpcy5yYXRlU2VudCksZS5HYigpKSxudWxsIT09dGhpcy5oYW5kc2hha2VEZWxheSYmdm9pZCAwIT09dGhpcy5oYW5kc2hha2VEZWxheSYmKGUueGIoXCJoYW5kc2hha2VEZWxheVwiLGkuVHlwZS5JNjQsMyksZS5LQyh0aGlzLmhhbmRzaGFrZURlbGF5KSxlLkdiKCkpLGUuamIoKSxlLlFiKCl9LGhpdmUuc25hcHNob3RzLkNvbm5lY3Rpdml0eUluZm89ZnVuY3Rpb24oZSl7dGhpcy51cEJXPW51bGwsdGhpcy5kb3duQlc9bnVsbCx0aGlzLmV4dGVybmFsQXM9bnVsbCx0aGlzLmludGVybmFsQXM9bnVsbCx0aGlzLnB1YmxpY0lwPW51bGwsdGhpcy5wcml2YXRlSXA9bnVsbCxlJiYodm9pZCAwIT09ZS51cEJXJiZudWxsIT09ZS51cEJXJiYodGhpcy51cEJXPWUudXBCVyksdm9pZCAwIT09ZS5kb3duQlcmJm51bGwhPT1lLmRvd25CVyYmKHRoaXMuZG93bkJXPWUuZG93bkJXKSx2b2lkIDAhPT1lLmV4dGVybmFsQXMmJm51bGwhPT1lLmV4dGVybmFsQXMmJih0aGlzLmV4dGVybmFsQXM9ZS5leHRlcm5hbEFzKSx2b2lkIDAhPT1lLmludGVybmFsQXMmJm51bGwhPT1lLmludGVybmFsQXMmJih0aGlzLmludGVybmFsQXM9ZS5pbnRlcm5hbEFzKSx2b2lkIDAhPT1lLnB1YmxpY0lwJiZudWxsIT09ZS5wdWJsaWNJcCYmKHRoaXMucHVibGljSXA9ZS5wdWJsaWNJcCksdm9pZCAwIT09ZS5wcml2YXRlSXAmJm51bGwhPT1lLnByaXZhdGVJcCYmKHRoaXMucHJpdmF0ZUlwPWUucHJpdmF0ZUlwKSl9LGhpdmUuc25hcHNob3RzLkNvbm5lY3Rpdml0eUluZm8ucHJvdG90eXBlPXt9LGhpdmUuc25hcHNob3RzLkNvbm5lY3Rpdml0eUluZm8ucHJvdG90eXBlLnJlYWQ9ZnVuY3Rpb24oZSl7Zm9yKGUucl8oKTs7KXt2YXIgdD1lLmtiKCkscj0odC5mbmFtZSx0LmZ0eXBlKSxuPXQuZmlkO2lmKHI9PWkuVHlwZS5TVE9QKWJyZWFrO3N3aXRjaChuKXtjYXNlIDE6cj09aS5UeXBlLkkzMj90aGlzLnVwQlc9ZS5GYigpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSAyOnI9PWkuVHlwZS5JMzI/dGhpcy5kb3duQlc9ZS5GYigpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSAzOnI9PWkuVHlwZS5JMzI/dGhpcy5leHRlcm5hbEFzPWUuRmIoKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgNDpyPT1pLlR5cGUuSTMyP3RoaXMuaW50ZXJuYWxBcz1lLkZiKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDU6cj09aS5UeXBlLlNUUklORz90aGlzLnB1YmxpY0lwPWUuTGIoKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgNjpyPT1pLlR5cGUuU1RSSU5HP3RoaXMucHJpdmF0ZUlwPWUuTGIoKS52YWx1ZTplLk1iKHIpO2JyZWFrO2RlZmF1bHQ6ZS5NYihyKX1lLlViKCl9ZS5CYigpfSxoaXZlLnNuYXBzaG90cy5Db25uZWN0aXZpdHlJbmZvLnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbihlKXtlLkhiKFwiQ29ubmVjdGl2aXR5SW5mb1wiKSxudWxsIT09dGhpcy51cEJXJiZ2b2lkIDAhPT10aGlzLnVwQlcmJihlLnhiKFwidXBCV1wiLGkuVHlwZS5JMzIsMSksZS5WYih0aGlzLnVwQlcpLGUuR2IoKSksbnVsbCE9PXRoaXMuZG93bkJXJiZ2b2lkIDAhPT10aGlzLmRvd25CVyYmKGUueGIoXCJkb3duQldcIixpLlR5cGUuSTMyLDIpLGUuVmIodGhpcy5kb3duQlcpLGUuR2IoKSksbnVsbCE9PXRoaXMuZXh0ZXJuYWxBcyYmdm9pZCAwIT09dGhpcy5leHRlcm5hbEFzJiYoZS54YihcImV4dGVybmFsQXNcIixpLlR5cGUuSTMyLDMpLGUuVmIodGhpcy5leHRlcm5hbEFzKSxlLkdiKCkpLG51bGwhPT10aGlzLmludGVybmFsQXMmJnZvaWQgMCE9PXRoaXMuaW50ZXJuYWxBcyYmKGUueGIoXCJpbnRlcm5hbEFzXCIsaS5UeXBlLkkzMiw0KSxlLlZiKHRoaXMuaW50ZXJuYWxBcyksZS5HYigpKSxudWxsIT09dGhpcy5wdWJsaWNJcCYmdm9pZCAwIT09dGhpcy5wdWJsaWNJcCYmKGUueGIoXCJwdWJsaWNJcFwiLGkuVHlwZS5TVFJJTkcsNSksZS5xYih0aGlzLnB1YmxpY0lwKSxlLkdiKCkpLG51bGwhPT10aGlzLnByaXZhdGVJcCYmdm9pZCAwIT09dGhpcy5wcml2YXRlSXAmJihlLnhiKFwicHJpdmF0ZUlwXCIsaS5UeXBlLlNUUklORyw2KSxlLnFiKHRoaXMucHJpdmF0ZUlwKSxlLkdiKCkpLGUuamIoKSxlLlFiKCl9LGhpdmUuc25hcHNob3RzLlBhcnRuZXI9ZnVuY3Rpb24oZSl7dGhpcy5jb25uSW5mbz1udWxsLHRoaXMudHJhZmZpYz1udWxsLHRoaXMubWV0cmljcz1udWxsLHRoaXMuaW5QYXJ0PW51bGwsdGhpcy5vdXRQYXJ0PW51bGwsdGhpcy51ZHA9bnVsbCxlJiYodm9pZCAwIT09ZS5jb25uSW5mbyYmbnVsbCE9PWUuY29ubkluZm8mJih0aGlzLmNvbm5JbmZvPWUuY29ubkluZm8pLHZvaWQgMCE9PWUudHJhZmZpYyYmbnVsbCE9PWUudHJhZmZpYyYmKHRoaXMudHJhZmZpYz1lLnRyYWZmaWMpLHZvaWQgMCE9PWUubWV0cmljcyYmbnVsbCE9PWUubWV0cmljcyYmKHRoaXMubWV0cmljcz1lLm1ldHJpY3MpLHZvaWQgMCE9PWUuaW5QYXJ0JiZudWxsIT09ZS5pblBhcnQmJih0aGlzLmluUGFydD1lLmluUGFydCksdm9pZCAwIT09ZS5vdXRQYXJ0JiZudWxsIT09ZS5vdXRQYXJ0JiYodGhpcy5vdXRQYXJ0PWUub3V0UGFydCksdm9pZCAwIT09ZS51ZHAmJm51bGwhPT1lLnVkcCYmKHRoaXMudWRwPWUudWRwKSl9LGhpdmUuc25hcHNob3RzLlBhcnRuZXIucHJvdG90eXBlPXt9LGhpdmUuc25hcHNob3RzLlBhcnRuZXIucHJvdG90eXBlLnJlYWQ9ZnVuY3Rpb24oZSl7Zm9yKGUucl8oKTs7KXt2YXIgdD1lLmtiKCkscj0odC5mbmFtZSx0LmZ0eXBlKSxuPXQuZmlkO2lmKHI9PWkuVHlwZS5TVE9QKWJyZWFrO3N3aXRjaChuKXtjYXNlIDE6cj09aS5UeXBlLlNUUlVDVD8odGhpcy5jb25uSW5mbz1uZXcgaGl2ZS5zbmFwc2hvdHMuQ29ubmVjdGl2aXR5SW5mbyx0aGlzLmNvbm5JbmZvLnJlYWQoZSkpOmUuTWIocik7YnJlYWs7Y2FzZSAyOnI9PWkuVHlwZS5TVFJVQ1Q/KHRoaXMudHJhZmZpYz1uZXcgaGl2ZS5zbmFwc2hvdHMuUGFydG5lclRyYWZmaWMsdGhpcy50cmFmZmljLnJlYWQoZSkpOmUuTWIocik7YnJlYWs7Y2FzZSAzOnI9PWkuVHlwZS5TVFJVQ1Q/KHRoaXMubWV0cmljcz1uZXcgaGl2ZS5zbmFwc2hvdHMuUGFydG5lck1ldHJpY3MsdGhpcy5tZXRyaWNzLnJlYWQoZSkpOmUuTWIocik7YnJlYWs7Y2FzZSA0OnI9PWkuVHlwZS5CT09MP3RoaXMuaW5QYXJ0PWUucF8oKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgNTpyPT1pLlR5cGUuQk9PTD90aGlzLm91dFBhcnQ9ZS5wXygpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSA2OnI9PWkuVHlwZS5CT09MP3RoaXMudWRwPWUucF8oKS52YWx1ZTplLk1iKHIpO2JyZWFrO2RlZmF1bHQ6ZS5NYihyKX1lLlViKCl9ZS5CYigpfSxoaXZlLnNuYXBzaG90cy5QYXJ0bmVyLnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbihlKXtlLkhiKFwiUGFydG5lclwiKSxudWxsIT09dGhpcy5jb25uSW5mbyYmdm9pZCAwIT09dGhpcy5jb25uSW5mbyYmKGUueGIoXCJjb25uSW5mb1wiLGkuVHlwZS5TVFJVQ1QsMSksdGhpcy5jb25uSW5mby53cml0ZShlKSxlLkdiKCkpLG51bGwhPT10aGlzLnRyYWZmaWMmJnZvaWQgMCE9PXRoaXMudHJhZmZpYyYmKGUueGIoXCJ0cmFmZmljXCIsaS5UeXBlLlNUUlVDVCwyKSx0aGlzLnRyYWZmaWMud3JpdGUoZSksZS5HYigpKSxudWxsIT09dGhpcy5tZXRyaWNzJiZ2b2lkIDAhPT10aGlzLm1ldHJpY3MmJihlLnhiKFwibWV0cmljc1wiLGkuVHlwZS5TVFJVQ1QsMyksdGhpcy5tZXRyaWNzLndyaXRlKGUpLGUuR2IoKSksbnVsbCE9PXRoaXMuaW5QYXJ0JiZ2b2lkIDAhPT10aGlzLmluUGFydCYmKGUueGIoXCJpblBhcnRcIixpLlR5cGUuQk9PTCw0KSxlLlZDKHRoaXMuaW5QYXJ0KSxlLkdiKCkpLG51bGwhPT10aGlzLm91dFBhcnQmJnZvaWQgMCE9PXRoaXMub3V0UGFydCYmKGUueGIoXCJvdXRQYXJ0XCIsaS5UeXBlLkJPT0wsNSksZS5WQyh0aGlzLm91dFBhcnQpLGUuR2IoKSksbnVsbCE9PXRoaXMudWRwJiZ2b2lkIDAhPT10aGlzLnVkcCYmKGUueGIoXCJ1ZHBcIixpLlR5cGUuQk9PTCw2KSxlLlZDKHRoaXMudWRwKSxlLkdiKCkpLGUuamIoKSxlLlFiKCl9LGhpdmUuc25hcHNob3RzLlN0cmVhbUluZm89ZnVuY3Rpb24oZSl7dGhpcy51cmw9bnVsbCx0aGlzLnN0cmVhbVR5cGU9bnVsbCx0aGlzLnN0cmVhbVByb3RvY29sPW51bGwsZSYmKHZvaWQgMCE9PWUudXJsJiZudWxsIT09ZS51cmwmJih0aGlzLnVybD1lLnVybCksdm9pZCAwIT09ZS5zdHJlYW1UeXBlJiZudWxsIT09ZS5zdHJlYW1UeXBlJiYodGhpcy5zdHJlYW1UeXBlPWUuc3RyZWFtVHlwZSksdm9pZCAwIT09ZS5zdHJlYW1Qcm90b2NvbCYmbnVsbCE9PWUuc3RyZWFtUHJvdG9jb2wmJih0aGlzLnN0cmVhbVByb3RvY29sPWUuc3RyZWFtUHJvdG9jb2wpKX0saGl2ZS5zbmFwc2hvdHMuU3RyZWFtSW5mby5wcm90b3R5cGU9e30saGl2ZS5zbmFwc2hvdHMuU3RyZWFtSW5mby5wcm90b3R5cGUucmVhZD1mdW5jdGlvbihlKXtmb3IoZS5yXygpOzspe3ZhciB0PWUua2IoKSxyPSh0LmZuYW1lLHQuZnR5cGUpLG49dC5maWQ7aWYocj09aS5UeXBlLlNUT1ApYnJlYWs7c3dpdGNoKG4pe2Nhc2UgMTpyPT1pLlR5cGUuU1RSSU5HP3RoaXMudXJsPWUuTGIoKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgMjpyPT1pLlR5cGUuSTMyP3RoaXMuc3RyZWFtVHlwZT1lLkZiKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDM6cj09aS5UeXBlLkkzMj90aGlzLnN0cmVhbVByb3RvY29sPWUuRmIoKS52YWx1ZTplLk1iKHIpO2JyZWFrO2RlZmF1bHQ6ZS5NYihyKX1lLlViKCl9ZS5CYigpfSxoaXZlLnNuYXBzaG90cy5TdHJlYW1JbmZvLnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbihlKXtlLkhiKFwiU3RyZWFtSW5mb1wiKSxudWxsIT09dGhpcy51cmwmJnZvaWQgMCE9PXRoaXMudXJsJiYoZS54YihcInVybFwiLGkuVHlwZS5TVFJJTkcsMSksZS5xYih0aGlzLnVybCksZS5HYigpKSxudWxsIT09dGhpcy5zdHJlYW1UeXBlJiZ2b2lkIDAhPT10aGlzLnN0cmVhbVR5cGUmJihlLnhiKFwic3RyZWFtVHlwZVwiLGkuVHlwZS5JMzIsMiksZS5WYih0aGlzLnN0cmVhbVR5cGUpLGUuR2IoKSksbnVsbCE9PXRoaXMuc3RyZWFtUHJvdG9jb2wmJnZvaWQgMCE9PXRoaXMuc3RyZWFtUHJvdG9jb2wmJihlLnhiKFwic3RyZWFtUHJvdG9jb2xcIixpLlR5cGUuSTMyLDMpLGUuVmIodGhpcy5zdHJlYW1Qcm90b2NvbCksZS5HYigpKSxlLmpiKCksZS5RYigpfSxoaXZlLnNuYXBzaG90cy5DbGllbnRJbmZvPWZ1bmN0aW9uKGUpe3RoaXMuY2xpZW50VHlwZT1udWxsLHRoaXMubWFqb3JWZXJzaW9uPW51bGwsdGhpcy5taW5vclZlcnNpb249bnVsbCx0aGlzLnBhdGNoVmVyc2lvbj1udWxsLGUmJih2b2lkIDAhPT1lLmNsaWVudFR5cGUmJm51bGwhPT1lLmNsaWVudFR5cGUmJih0aGlzLmNsaWVudFR5cGU9ZS5jbGllbnRUeXBlKSx2b2lkIDAhPT1lLm1ham9yVmVyc2lvbiYmbnVsbCE9PWUubWFqb3JWZXJzaW9uJiYodGhpcy5tYWpvclZlcnNpb249ZS5tYWpvclZlcnNpb24pLHZvaWQgMCE9PWUubWlub3JWZXJzaW9uJiZudWxsIT09ZS5taW5vclZlcnNpb24mJih0aGlzLm1pbm9yVmVyc2lvbj1lLm1pbm9yVmVyc2lvbiksdm9pZCAwIT09ZS5wYXRjaFZlcnNpb24mJm51bGwhPT1lLnBhdGNoVmVyc2lvbiYmKHRoaXMucGF0Y2hWZXJzaW9uPWUucGF0Y2hWZXJzaW9uKSl9LGhpdmUuc25hcHNob3RzLkNsaWVudEluZm8ucHJvdG90eXBlPXt9LGhpdmUuc25hcHNob3RzLkNsaWVudEluZm8ucHJvdG90eXBlLnJlYWQ9ZnVuY3Rpb24oZSl7Zm9yKGUucl8oKTs7KXt2YXIgdD1lLmtiKCkscj0odC5mbmFtZSx0LmZ0eXBlKSxuPXQuZmlkO2lmKHI9PWkuVHlwZS5TVE9QKWJyZWFrO3N3aXRjaChuKXtjYXNlIDE6cj09aS5UeXBlLkkzMj90aGlzLmNsaWVudFR5cGU9ZS5GYigpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSAyOnI9PWkuVHlwZS5CWVRFP3RoaXMubWFqb3JWZXJzaW9uPWUuZF8oKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgMzpyPT1pLlR5cGUuQllURT90aGlzLm1pbm9yVmVyc2lvbj1lLmRfKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDQ6cj09aS5UeXBlLkkxNj90aGlzLnBhdGNoVmVyc2lvbj1lLmZfKCkudmFsdWU6ZS5NYihyKTticmVhaztkZWZhdWx0OmUuTWIocil9ZS5VYigpfWUuQmIoKX0saGl2ZS5zbmFwc2hvdHMuQ2xpZW50SW5mby5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24oZSl7ZS5IYihcIkNsaWVudEluZm9cIiksbnVsbCE9PXRoaXMuY2xpZW50VHlwZSYmdm9pZCAwIT09dGhpcy5jbGllbnRUeXBlJiYoZS54YihcImNsaWVudFR5cGVcIixpLlR5cGUuSTMyLDEpLGUuVmIodGhpcy5jbGllbnRUeXBlKSxlLkdiKCkpLG51bGwhPT10aGlzLm1ham9yVmVyc2lvbiYmdm9pZCAwIT09dGhpcy5tYWpvclZlcnNpb24mJihlLnhiKFwibWFqb3JWZXJzaW9uXCIsaS5UeXBlLkJZVEUsMiksZS5qQyh0aGlzLm1ham9yVmVyc2lvbiksZS5HYigpKSxudWxsIT09dGhpcy5taW5vclZlcnNpb24mJnZvaWQgMCE9PXRoaXMubWlub3JWZXJzaW9uJiYoZS54YihcIm1pbm9yVmVyc2lvblwiLGkuVHlwZS5CWVRFLDMpLGUuakModGhpcy5taW5vclZlcnNpb24pLGUuR2IoKSksbnVsbCE9PXRoaXMucGF0Y2hWZXJzaW9uJiZ2b2lkIDAhPT10aGlzLnBhdGNoVmVyc2lvbiYmKGUueGIoXCJwYXRjaFZlcnNpb25cIixpLlR5cGUuSTE2LDQpLGUuUUModGhpcy5wYXRjaFZlcnNpb24pLGUuR2IoKSksZS5qYigpLGUuUWIoKX0saGl2ZS5zbmFwc2hvdHMuQWdlbnRJbmZvPWZ1bmN0aW9uKGUpe3RoaXMuZmlyc3RUaWVyQml0cmF0ZXM9bnVsbCx0aGlzLnNlY29uZFRpZXJCaXRyYXRlcz1udWxsLGUmJih2b2lkIDAhPT1lLmZpcnN0VGllckJpdHJhdGVzJiZudWxsIT09ZS5maXJzdFRpZXJCaXRyYXRlcyYmKHRoaXMuZmlyc3RUaWVyQml0cmF0ZXM9ZS5maXJzdFRpZXJCaXRyYXRlcyksdm9pZCAwIT09ZS5zZWNvbmRUaWVyQml0cmF0ZXMmJm51bGwhPT1lLnNlY29uZFRpZXJCaXRyYXRlcyYmKHRoaXMuc2Vjb25kVGllckJpdHJhdGVzPWUuc2Vjb25kVGllckJpdHJhdGVzKSl9LGhpdmUuc25hcHNob3RzLkFnZW50SW5mby5wcm90b3R5cGU9e30saGl2ZS5zbmFwc2hvdHMuQWdlbnRJbmZvLnByb3RvdHlwZS5yZWFkPWZ1bmN0aW9uKGUpe2ZvcihlLnJfKCk7Oyl7dmFyIHQ9ZS5rYigpLHI9KHQuZm5hbWUsdC5mdHlwZSksbj10LmZpZDtpZihyPT1pLlR5cGUuU1RPUClicmVhaztzd2l0Y2gobil7Y2FzZSAxOmlmKHI9PWkuVHlwZS5TRVQpe3ZhciBzLG89MDt0aGlzLmZpcnN0VGllckJpdHJhdGVzPVtdO3M9ZS51XygpLHMuaF8sbz1zLnNpemU7Zm9yKHZhciBhPTA7YTxvOysrYSl7dmFyIGg9bnVsbDtoPWUuRmIoKS52YWx1ZSx0aGlzLmZpcnN0VGllckJpdHJhdGVzLnB1c2goaCl9ZS5sXygpfWVsc2UgZS5NYihyKTticmVhaztjYXNlIDI6aWYocj09aS5UeXBlLlNFVCl7dmFyIGMsdT0wO3RoaXMuc2Vjb25kVGllckJpdHJhdGVzPVtdO2M9ZS51XygpLGMuaF8sdT1jLnNpemU7Zm9yKHZhciBsPTA7bDx1OysrbCl7dmFyIHA9bnVsbDtwPWUuRmIoKS52YWx1ZSx0aGlzLnNlY29uZFRpZXJCaXRyYXRlcy5wdXNoKHApfWUubF8oKX1lbHNlIGUuTWIocik7YnJlYWs7ZGVmYXVsdDplLk1iKHIpfWUuVWIoKX1lLkJiKCl9LGhpdmUuc25hcHNob3RzLkFnZW50SW5mby5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24oZSl7aWYoZS5IYihcIkFnZW50SW5mb1wiKSxudWxsIT09dGhpcy5maXJzdFRpZXJCaXRyYXRlcyYmdm9pZCAwIT09dGhpcy5maXJzdFRpZXJCaXRyYXRlcyl7ZS54YihcImZpcnN0VGllckJpdHJhdGVzXCIsaS5UeXBlLlNFVCwxKSxlLnFDKGkuVHlwZS5JMzIsdGhpcy5maXJzdFRpZXJCaXRyYXRlcy5sZW5ndGgpO2Zvcih2YXIgdCBpbiB0aGlzLmZpcnN0VGllckJpdHJhdGVzKXRoaXMuZmlyc3RUaWVyQml0cmF0ZXMuaGFzT3duUHJvcGVydHkodCkmJih0PXRoaXMuZmlyc3RUaWVyQml0cmF0ZXNbdF0sZS5WYih0KSk7ZS5HQygpLGUuR2IoKX1pZihudWxsIT09dGhpcy5zZWNvbmRUaWVyQml0cmF0ZXMmJnZvaWQgMCE9PXRoaXMuc2Vjb25kVGllckJpdHJhdGVzKXtlLnhiKFwic2Vjb25kVGllckJpdHJhdGVzXCIsaS5UeXBlLlNFVCwyKSxlLnFDKGkuVHlwZS5JMzIsdGhpcy5zZWNvbmRUaWVyQml0cmF0ZXMubGVuZ3RoKTtmb3IodmFyIHIgaW4gdGhpcy5zZWNvbmRUaWVyQml0cmF0ZXMpdGhpcy5zZWNvbmRUaWVyQml0cmF0ZXMuaGFzT3duUHJvcGVydHkocikmJihyPXRoaXMuc2Vjb25kVGllckJpdHJhdGVzW3JdLGUuVmIocikpO2UuR0MoKSxlLkdiKCl9ZS5qYigpLGUuUWIoKX0saGl2ZS5zbmFwc2hvdHMuVHJhZmZpY0tleT1mdW5jdGlvbihlKXt0aGlzLmJpdHJhdGU9bnVsbCx0aGlzLkFTPW51bGwsdGhpcy5wYXJ0bmVyR3VpZD1udWxsLGUmJih2b2lkIDAhPT1lLmJpdHJhdGUmJm51bGwhPT1lLmJpdHJhdGUmJih0aGlzLmJpdHJhdGU9ZS5iaXRyYXRlKSx2b2lkIDAhPT1lLkFTJiZudWxsIT09ZS5BUyYmKHRoaXMuQVM9ZS5BUyksdm9pZCAwIT09ZS5wYXJ0bmVyR3VpZCYmbnVsbCE9PWUucGFydG5lckd1aWQmJih0aGlzLnBhcnRuZXJHdWlkPWUucGFydG5lckd1aWQpKX0saGl2ZS5zbmFwc2hvdHMuVHJhZmZpY0tleS5wcm90b3R5cGU9e30saGl2ZS5zbmFwc2hvdHMuVHJhZmZpY0tleS5wcm90b3R5cGUucmVhZD1mdW5jdGlvbihlKXtmb3IoZS5yXygpOzspe3ZhciB0PWUua2IoKSxyPSh0LmZuYW1lLHQuZnR5cGUpLG49dC5maWQ7aWYocj09aS5UeXBlLlNUT1ApYnJlYWs7c3dpdGNoKG4pe2Nhc2UgMTpyPT1pLlR5cGUuSTMyP3RoaXMuYml0cmF0ZT1lLkZiKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDI6cj09aS5UeXBlLkkzMj90aGlzLkFTPWUuRmIoKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgMzpyPT1pLlR5cGUuU1RSSU5HP3RoaXMucGFydG5lckd1aWQ9ZS5MYigpLnZhbHVlOmUuTWIocik7YnJlYWs7ZGVmYXVsdDplLk1iKHIpfWUuVWIoKX1lLkJiKCl9LGhpdmUuc25hcHNob3RzLlRyYWZmaWNLZXkucHJvdG90eXBlLndyaXRlPWZ1bmN0aW9uKGUpe2UuSGIoXCJUcmFmZmljS2V5XCIpLG51bGwhPT10aGlzLmJpdHJhdGUmJnZvaWQgMCE9PXRoaXMuYml0cmF0ZSYmKGUueGIoXCJiaXRyYXRlXCIsaS5UeXBlLkkzMiwxKSxlLlZiKHRoaXMuYml0cmF0ZSksZS5HYigpKSxudWxsIT09dGhpcy5BUyYmdm9pZCAwIT09dGhpcy5BUyYmKGUueGIoXCJBU1wiLGkuVHlwZS5JMzIsMiksZS5WYih0aGlzLkFTKSxlLkdiKCkpLG51bGwhPT10aGlzLnBhcnRuZXJHdWlkJiZ2b2lkIDAhPT10aGlzLnBhcnRuZXJHdWlkJiYoZS54YihcInBhcnRuZXJHdWlkXCIsaS5UeXBlLlNUUklORywzKSxlLnFiKHRoaXMucGFydG5lckd1aWQpLGUuR2IoKSksZS5qYigpLGUuUWIoKX0saGl2ZS5zbmFwc2hvdHMuUGFydG5lcktleT1mdW5jdGlvbihlKXt0aGlzLmJpdHJhdGU9bnVsbCx0aGlzLkFTPW51bGwsdGhpcy5wYXJ0bmVyR3VpZD1udWxsLGUmJih2b2lkIDAhPT1lLmJpdHJhdGUmJm51bGwhPT1lLmJpdHJhdGUmJih0aGlzLmJpdHJhdGU9ZS5iaXRyYXRlKSx2b2lkIDAhPT1lLkFTJiZudWxsIT09ZS5BUyYmKHRoaXMuQVM9ZS5BUyksdm9pZCAwIT09ZS5wYXJ0bmVyR3VpZCYmbnVsbCE9PWUucGFydG5lckd1aWQmJih0aGlzLnBhcnRuZXJHdWlkPWUucGFydG5lckd1aWQpKX0saGl2ZS5zbmFwc2hvdHMuUGFydG5lcktleS5wcm90b3R5cGU9e30saGl2ZS5zbmFwc2hvdHMuUGFydG5lcktleS5wcm90b3R5cGUucmVhZD1mdW5jdGlvbihlKXtmb3IoZS5yXygpOzspe3ZhciB0PWUua2IoKSxyPSh0LmZuYW1lLHQuZnR5cGUpLG49dC5maWQ7aWYocj09aS5UeXBlLlNUT1ApYnJlYWs7c3dpdGNoKG4pe2Nhc2UgMTpyPT1pLlR5cGUuSTMyP3RoaXMuYml0cmF0ZT1lLkZiKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDI6cj09aS5UeXBlLkkzMj90aGlzLkFTPWUuRmIoKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgMzpyPT1pLlR5cGUuU1RSSU5HP3RoaXMucGFydG5lckd1aWQ9ZS5MYigpLnZhbHVlOmUuTWIocik7YnJlYWs7ZGVmYXVsdDplLk1iKHIpfWUuVWIoKX1lLkJiKCl9LGhpdmUuc25hcHNob3RzLlBhcnRuZXJLZXkucHJvdG90eXBlLndyaXRlPWZ1bmN0aW9uKGUpe2UuSGIoXCJQYXJ0bmVyS2V5XCIpLG51bGwhPT10aGlzLmJpdHJhdGUmJnZvaWQgMCE9PXRoaXMuYml0cmF0ZSYmKGUueGIoXCJiaXRyYXRlXCIsaS5UeXBlLkkzMiwxKSxlLlZiKHRoaXMuYml0cmF0ZSksZS5HYigpKSxudWxsIT09dGhpcy5BUyYmdm9pZCAwIT09dGhpcy5BUyYmKGUueGIoXCJBU1wiLGkuVHlwZS5JMzIsMiksZS5WYih0aGlzLkFTKSxlLkdiKCkpLG51bGwhPT10aGlzLnBhcnRuZXJHdWlkJiZ2b2lkIDAhPT10aGlzLnBhcnRuZXJHdWlkJiYoZS54YihcInBhcnRuZXJHdWlkXCIsaS5UeXBlLlNUUklORywzKSxlLnFiKHRoaXMucGFydG5lckd1aWQpLGUuR2IoKSksZS5qYigpLGUuUWIoKX0saGl2ZS5zbmFwc2hvdHMuUGxheWVyPWZ1bmN0aW9uKGUpe3RoaXMuYnVmZmVyaW5nTj1udWxsLHRoaXMuYnVmZmVyaW5nTXM9bnVsbCx0aGlzLmluaXRCdWZmZXJpbmdOPW51bGwsdGhpcy5pbml0QnVmZmVyaW5nTXM9bnVsbCx0aGlzLnNlZWtCdWZmZXJpbmdOPW51bGwsdGhpcy5zZWVrQnVmZmVyaW5nTXM9bnVsbCx0aGlzLnBsYXllckJ1ZmZlck1zPW51bGwsZSYmKHZvaWQgMCE9PWUuYnVmZmVyaW5nTiYmbnVsbCE9PWUuYnVmZmVyaW5nTiYmKHRoaXMuYnVmZmVyaW5nTj1lLmJ1ZmZlcmluZ04pLHZvaWQgMCE9PWUuYnVmZmVyaW5nTXMmJm51bGwhPT1lLmJ1ZmZlcmluZ01zJiYodGhpcy5idWZmZXJpbmdNcz1lLmJ1ZmZlcmluZ01zKSx2b2lkIDAhPT1lLmluaXRCdWZmZXJpbmdOJiZudWxsIT09ZS5pbml0QnVmZmVyaW5nTiYmKHRoaXMuaW5pdEJ1ZmZlcmluZ049ZS5pbml0QnVmZmVyaW5nTiksdm9pZCAwIT09ZS5pbml0QnVmZmVyaW5nTXMmJm51bGwhPT1lLmluaXRCdWZmZXJpbmdNcyYmKHRoaXMuaW5pdEJ1ZmZlcmluZ01zPWUuaW5pdEJ1ZmZlcmluZ01zKSx2b2lkIDAhPT1lLnNlZWtCdWZmZXJpbmdOJiZudWxsIT09ZS5zZWVrQnVmZmVyaW5nTiYmKHRoaXMuc2Vla0J1ZmZlcmluZ049ZS5zZWVrQnVmZmVyaW5nTiksdm9pZCAwIT09ZS5zZWVrQnVmZmVyaW5nTXMmJm51bGwhPT1lLnNlZWtCdWZmZXJpbmdNcyYmKHRoaXMuc2Vla0J1ZmZlcmluZ01zPWUuc2Vla0J1ZmZlcmluZ01zKSx2b2lkIDAhPT1lLnBsYXllckJ1ZmZlck1zJiZudWxsIT09ZS5wbGF5ZXJCdWZmZXJNcyYmKHRoaXMucGxheWVyQnVmZmVyTXM9ZS5wbGF5ZXJCdWZmZXJNcykpfSxoaXZlLnNuYXBzaG90cy5QbGF5ZXIucHJvdG90eXBlPXt9LGhpdmUuc25hcHNob3RzLlBsYXllci5wcm90b3R5cGUucmVhZD1mdW5jdGlvbihlKXtmb3IoZS5yXygpOzspe3ZhciB0PWUua2IoKSxyPSh0LmZuYW1lLHQuZnR5cGUpLG49dC5maWQ7aWYocj09aS5UeXBlLlNUT1ApYnJlYWs7c3dpdGNoKG4pe2Nhc2UgMTpyPT1pLlR5cGUuSTE2P3RoaXMuYnVmZmVyaW5nTj1lLmZfKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDI6cj09aS5UeXBlLkkzMj90aGlzLmJ1ZmZlcmluZ01zPWUuRmIoKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgMzpyPT1pLlR5cGUuSTE2P3RoaXMuaW5pdEJ1ZmZlcmluZ049ZS5mXygpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSA0OnI9PWkuVHlwZS5JMzI/dGhpcy5pbml0QnVmZmVyaW5nTXM9ZS5GYigpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSA1OnI9PWkuVHlwZS5JMTY/dGhpcy5zZWVrQnVmZmVyaW5nTj1lLmZfKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDY6cj09aS5UeXBlLkkzMj90aGlzLnNlZWtCdWZmZXJpbmdNcz1lLkZiKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDM2OnI9PWkuVHlwZS5JMzI/dGhpcy5wbGF5ZXJCdWZmZXJNcz1lLkZiKCkudmFsdWU6ZS5NYihyKTticmVhaztkZWZhdWx0OmUuTWIocil9ZS5VYigpfWUuQmIoKX0saGl2ZS5zbmFwc2hvdHMuUGxheWVyLnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbihlKXtlLkhiKFwiUGxheWVyXCIpLG51bGwhPT10aGlzLmJ1ZmZlcmluZ04mJnZvaWQgMCE9PXRoaXMuYnVmZmVyaW5nTiYmKGUueGIoXCJidWZmZXJpbmdOXCIsaS5UeXBlLkkxNiwxKSxlLlFDKHRoaXMuYnVmZmVyaW5nTiksZS5HYigpKSxudWxsIT09dGhpcy5idWZmZXJpbmdNcyYmdm9pZCAwIT09dGhpcy5idWZmZXJpbmdNcyYmKGUueGIoXCJidWZmZXJpbmdNc1wiLGkuVHlwZS5JMzIsMiksZS5WYih0aGlzLmJ1ZmZlcmluZ01zKSxlLkdiKCkpLG51bGwhPT10aGlzLmluaXRCdWZmZXJpbmdOJiZ2b2lkIDAhPT10aGlzLmluaXRCdWZmZXJpbmdOJiYoZS54YihcImluaXRCdWZmZXJpbmdOXCIsaS5UeXBlLkkxNiwzKSxlLlFDKHRoaXMuaW5pdEJ1ZmZlcmluZ04pLGUuR2IoKSksbnVsbCE9PXRoaXMuaW5pdEJ1ZmZlcmluZ01zJiZ2b2lkIDAhPT10aGlzLmluaXRCdWZmZXJpbmdNcyYmKGUueGIoXCJpbml0QnVmZmVyaW5nTXNcIixpLlR5cGUuSTMyLDQpLGUuVmIodGhpcy5pbml0QnVmZmVyaW5nTXMpLGUuR2IoKSksbnVsbCE9PXRoaXMuc2Vla0J1ZmZlcmluZ04mJnZvaWQgMCE9PXRoaXMuc2Vla0J1ZmZlcmluZ04mJihlLnhiKFwic2Vla0J1ZmZlcmluZ05cIixpLlR5cGUuSTE2LDUpLGUuUUModGhpcy5zZWVrQnVmZmVyaW5nTiksZS5HYigpKSxudWxsIT09dGhpcy5zZWVrQnVmZmVyaW5nTXMmJnZvaWQgMCE9PXRoaXMuc2Vla0J1ZmZlcmluZ01zJiYoZS54YihcInNlZWtCdWZmZXJpbmdNc1wiLGkuVHlwZS5JMzIsNiksZS5WYih0aGlzLnNlZWtCdWZmZXJpbmdNcyksZS5HYigpKSxudWxsIT09dGhpcy5wbGF5ZXJCdWZmZXJNcyYmdm9pZCAwIT09dGhpcy5wbGF5ZXJCdWZmZXJNcyYmKGUueGIoXCJwbGF5ZXJCdWZmZXJNc1wiLGkuVHlwZS5JMzIsMzYpLGUuVmIodGhpcy5wbGF5ZXJCdWZmZXJNcyksZS5HYigpKSxlLmpiKCksZS5RYigpfSxoaXZlLnNuYXBzaG90cy5QSz1mdW5jdGlvbihlKXt0aGlzLl9RPW51bGwsdGhpcy5jb3VudD1udWxsLGUmJih2b2lkIDAhPT1lLl9RJiZudWxsIT09ZS5fUSYmKHRoaXMuX1E9ZS5fUSksdm9pZCAwIT09ZS5jb3VudCYmbnVsbCE9PWUuY291bnQmJih0aGlzLmNvdW50PWUuY291bnQpKX0saGl2ZS5zbmFwc2hvdHMuUEsucHJvdG90eXBlPXt9LGhpdmUuc25hcHNob3RzLlBLLnByb3RvdHlwZS5yZWFkPWZ1bmN0aW9uKGUpe2ZvcihlLnJfKCk7Oyl7dmFyIHQ9ZS5rYigpLHI9KHQuZm5hbWUsdC5mdHlwZSksbj10LmZpZDtpZihyPT1pLlR5cGUuU1RPUClicmVhaztzd2l0Y2gobil7Y2FzZSAxOnI9PWkuVHlwZS5JMTY/dGhpcy5fUT1lLmZfKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDI6cj09aS5UeXBlLkkzMj90aGlzLmNvdW50PWUuRmIoKS52YWx1ZTplLk1iKHIpO2JyZWFrO2RlZmF1bHQ6ZS5NYihyKX1lLlViKCl9ZS5CYigpfSxoaXZlLnNuYXBzaG90cy5QSy5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24oZSl7ZS5IYihcIlJlc3BvbnNlSW5mb1wiKSxudWxsIT09dGhpcy5fUSYmdm9pZCAwIT09dGhpcy5fUSYmKGUueGIoXCJzdGF0dXNDb2RlXCIsaS5UeXBlLkkxNiwxKSxlLlFDKHRoaXMuX1EpLGUuR2IoKSksbnVsbCE9PXRoaXMuY291bnQmJnZvaWQgMCE9PXRoaXMuY291bnQmJihlLnhiKFwiY291bnRcIixpLlR5cGUuSTMyLDIpLGUuVmIodGhpcy5jb3VudCksZS5HYigpKSxlLmpiKCksZS5RYigpfSxoaXZlLnNuYXBzaG90cy5BSz1mdW5jdGlvbihlKXt0aGlzLnNvdXJjZT1udWxsLGUmJnZvaWQgMCE9PWUuc291cmNlJiZudWxsIT09ZS5zb3VyY2UmJih0aGlzLnNvdXJjZT1pLk9LKGUuc291cmNlLFtoaXZlLnNuYXBzaG90cy5QS10pKX0saGl2ZS5zbmFwc2hvdHMuQUsucHJvdG90eXBlPXt9LGhpdmUuc25hcHNob3RzLkFLLnByb3RvdHlwZS5yZWFkPWZ1bmN0aW9uKGUpe2ZvcihlLnJfKCk7Oyl7dmFyIHQ9ZS5rYigpLHI9KHQuZm5hbWUsdC5mdHlwZSksbj10LmZpZDtpZihyPT1pLlR5cGUuU1RPUClicmVhaztzd2l0Y2gobil7Y2FzZSAxOmlmKHI9PWkuVHlwZS5MSVNUKXt2YXIgcyxvPTA7dGhpcy5zb3VyY2U9W107cz1lLmFfKCkscy5oXyxvPXMuc2l6ZTtmb3IodmFyIGE9MDthPG87KythKXt2YXIgaD1udWxsO2g9bmV3IGhpdmUuc25hcHNob3RzLlBLLGgucmVhZChlKSx0aGlzLnNvdXJjZS5wdXNoKGgpfWUuY18oKX1lbHNlIGUuTWIocik7YnJlYWs7Y2FzZSAwOmUuTWIocik7YnJlYWs7ZGVmYXVsdDplLk1iKHIpfWUuVWIoKX1lLkJiKCl9LGhpdmUuc25hcHNob3RzLkFLLnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbihlKXtpZihlLkhiKFwiU2VydmljZVJlc3BvbnNlSW5mb1wiKSxudWxsIT09dGhpcy5zb3VyY2UmJnZvaWQgMCE9PXRoaXMuc291cmNlKXtlLnhiKFwic291cmNlXCIsaS5UeXBlLkxJU1QsMSksZS5IQyhpLlR5cGUuU1RSVUNULHRoaXMuc291cmNlLmxlbmd0aCk7Zm9yKHZhciB0IGluIHRoaXMuc291cmNlKXRoaXMuc291cmNlLmhhc093blByb3BlcnR5KHQpJiYodD10aGlzLnNvdXJjZVt0XSx0LndyaXRlKGUpKTtlLnhDKCksZS5HYigpfWUuamIoKSxlLlFiKCl9LGhpdmUuc25hcHNob3RzLk1ldHJpY1NuYXBzaG90PWZ1bmN0aW9uKGUpe3RoaXMudGltZXN0YW1wPW51bGwsdGhpcy5ndWlkPW51bGwsdGhpcy5ldmVudElkPW51bGwsdGhpcy5zdHJlYW1JbmZvPW51bGwsdGhpcy5tZXRyaWNzPW51bGwsdGhpcy50cmFmZmljPW51bGwsdGhpcy5zbmFwc2hvdEluZm89bnVsbCx0aGlzLmFnZW50SW5mbz1udWxsLHRoaXMuY29ubkluZm89bnVsbCx0aGlzLnBhcnRuZXJzPW51bGwsdGhpcy5wbGF5ZXI9bnVsbCx0aGlzLmNsaWVudD1udWxsLHRoaXMuc2Vzc2lvbklkPW51bGwsdGhpcy5OSz1udWxsLHRoaXMuYUI9bnVsbCx0aGlzLkRLPW51bGwsZSYmKHZvaWQgMCE9PWUudGltZXN0YW1wJiZudWxsIT09ZS50aW1lc3RhbXAmJih0aGlzLnRpbWVzdGFtcD1lLnRpbWVzdGFtcCksdm9pZCAwIT09ZS5ndWlkJiZudWxsIT09ZS5ndWlkJiYodGhpcy5ndWlkPWUuZ3VpZCksdm9pZCAwIT09ZS5ldmVudElkJiZudWxsIT09ZS5ldmVudElkJiYodGhpcy5ldmVudElkPWUuZXZlbnRJZCksdm9pZCAwIT09ZS5zdHJlYW1JbmZvJiZudWxsIT09ZS5zdHJlYW1JbmZvJiYodGhpcy5zdHJlYW1JbmZvPWUuc3RyZWFtSW5mbyksdm9pZCAwIT09ZS5tZXRyaWNzJiZudWxsIT09ZS5tZXRyaWNzJiYodGhpcy5tZXRyaWNzPWUubWV0cmljcyksdm9pZCAwIT09ZS50cmFmZmljJiZudWxsIT09ZS50cmFmZmljJiYodGhpcy50cmFmZmljPWUudHJhZmZpYyksdm9pZCAwIT09ZS5zbmFwc2hvdEluZm8mJm51bGwhPT1lLnNuYXBzaG90SW5mbyYmKHRoaXMuc25hcHNob3RJbmZvPWUuc25hcHNob3RJbmZvKSx2b2lkIDAhPT1lLmFnZW50SW5mbyYmbnVsbCE9PWUuYWdlbnRJbmZvJiYodGhpcy5hZ2VudEluZm89ZS5hZ2VudEluZm8pLHZvaWQgMCE9PWUuY29ubkluZm8mJm51bGwhPT1lLmNvbm5JbmZvJiYodGhpcy5jb25uSW5mbz1lLmNvbm5JbmZvKSx2b2lkIDAhPT1lLnBhcnRuZXJzJiZudWxsIT09ZS5wYXJ0bmVycyYmKHRoaXMucGFydG5lcnM9ZS5wYXJ0bmVycyksdm9pZCAwIT09ZS5wbGF5ZXImJm51bGwhPT1lLnBsYXllciYmKHRoaXMucGxheWVyPWUucGxheWVyKSx2b2lkIDAhPT1lLmNsaWVudCYmbnVsbCE9PWUuY2xpZW50JiYodGhpcy5jbGllbnQ9ZS5jbGllbnQpLHZvaWQgMCE9PWUuc2Vzc2lvbklkJiZudWxsIT09ZS5zZXNzaW9uSWQmJih0aGlzLnNlc3Npb25JZD1lLnNlc3Npb25JZCksdm9pZCAwIT09ZS5OSyYmbnVsbCE9PWUuTksmJih0aGlzLk5LPWUuTkspLHZvaWQgMCE9PWUuYUImJm51bGwhPT1lLmFCJiYodGhpcy5hQj1lLmFCKSx2b2lkIDAhPT1lLkRLJiZudWxsIT09ZS5ESyYmKHRoaXMuREs9ZS5ESykpfSxoaXZlLnNuYXBzaG90cy5NZXRyaWNTbmFwc2hvdC5wcm90b3R5cGU9e30saGl2ZS5zbmFwc2hvdHMuTWV0cmljU25hcHNob3QucHJvdG90eXBlLnJlYWQ9ZnVuY3Rpb24oZSl7Zm9yKGUucl8oKTs7KXt2YXIgdD1lLmtiKCkscj0odC5mbmFtZSx0LmZ0eXBlKSxuPXQuZmlkO2lmKHI9PWkuVHlwZS5TVE9QKWJyZWFrO3N3aXRjaChuKXtjYXNlIDE6cj09aS5UeXBlLkk2ND90aGlzLnRpbWVzdGFtcD1lLmdfKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDI6cj09aS5UeXBlLlNUUklORz90aGlzLmd1aWQ9ZS5MYigpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSAzOnI9PWkuVHlwZS5TVFJVQ1Q/KHRoaXMuZXZlbnRJZD1uZXcgRXZlbnRJZCx0aGlzLmV2ZW50SWQucmVhZChlKSk6ZS5NYihyKTticmVhaztjYXNlIDQ6cj09aS5UeXBlLlNUUlVDVD8odGhpcy5zdHJlYW1JbmZvPW5ldyBoaXZlLnNuYXBzaG90cy5TdHJlYW1JbmZvLHRoaXMuc3RyZWFtSW5mby5yZWFkKGUpKTplLk1iKHIpO2JyZWFrO2Nhc2UgNTpyPT1pLlR5cGUuU1RSVUNUPyh0aGlzLm1ldHJpY3M9bmV3IGhpdmUuc25hcHNob3RzLk1ldHJpY3MsdGhpcy5tZXRyaWNzLnJlYWQoZSkpOmUuTWIocik7YnJlYWs7Y2FzZSA2OmlmKHI9PWkuVHlwZS5NQVApe3ZhciBzLG89MDt0aGlzLnRyYWZmaWM9e307cz1lLmlfKCkscy5uXyxzLnNfLG89cy5zaXplO2Zvcih2YXIgYT0wO2E8bzsrK2Epe2E+MCYmZS5KQy5sZW5ndGg+ZS56YltlLnpiLmxlbmd0aC0xXSsxJiZlLkpDLnBvcCgpO3ZhciBoPW51bGwsYz1udWxsO2g9bmV3IGhpdmUuc25hcHNob3RzLlRyYWZmaWNLZXksaC5yZWFkKGUpLGM9bmV3IGhpdmUuc25hcHNob3RzLlRyYWZmaWMsYy5yZWFkKGUpLHRoaXMudHJhZmZpY1toXT1jfWUub18oKX1lbHNlIGUuTWIocik7YnJlYWs7Y2FzZSA3OnI9PWkuVHlwZS5TVFJVQ1Q/KHRoaXMuc25hcHNob3RJbmZvPW5ldyBTbmFwc2hvdEluZm8sdGhpcy5zbmFwc2hvdEluZm8ucmVhZChlKSk6ZS5NYihyKTticmVhaztjYXNlIDg6cj09aS5UeXBlLlNUUlVDVD8odGhpcy5hZ2VudEluZm89bmV3IGhpdmUuc25hcHNob3RzLkFnZW50SW5mbyx0aGlzLmFnZW50SW5mby5yZWFkKGUpKTplLk1iKHIpO2JyZWFrO2Nhc2UgOTpyPT1pLlR5cGUuU1RSVUNUPyh0aGlzLmNvbm5JbmZvPW5ldyBoaXZlLnNuYXBzaG90cy5Db25uZWN0aXZpdHlJbmZvLHRoaXMuY29ubkluZm8ucmVhZChlKSk6ZS5NYihyKTticmVhaztjYXNlIDEwOmlmKHI9PWkuVHlwZS5NQVApe3ZhciB1LGw9MDt0aGlzLnBhcnRuZXJzPXt9O3U9ZS5pXygpLHUubl8sdS5zXyxsPXUuc2l6ZTtmb3IodmFyIHA9MDtwPGw7KytwKXtwPjAmJmUuSkMubGVuZ3RoPmUuemJbZS56Yi5sZW5ndGgtMV0rMSYmZS5KQy5wb3AoKTt2YXIgZD1udWxsLGY9bnVsbDtkPW5ldyBoaXZlLnNuYXBzaG90cy5QYXJ0bmVyS2V5LGQucmVhZChlKSxmPW5ldyBoaXZlLnNuYXBzaG90cy5QYXJ0bmVyLGYucmVhZChlKSx0aGlzLnBhcnRuZXJzW2RdPWZ9ZS5vXygpfWVsc2UgZS5NYihyKTticmVhaztjYXNlIDExOnI9PWkuVHlwZS5TVFJVQ1Q/KHRoaXMucGxheWVyPW5ldyBoaXZlLnNuYXBzaG90cy5QbGF5ZXIsdGhpcy5wbGF5ZXIucmVhZChlKSk6ZS5NYihyKTticmVhaztjYXNlIDEyOnI9PWkuVHlwZS5TVFJVQ1Q/KHRoaXMuY2xpZW50PW5ldyBoaXZlLnNuYXBzaG90cy5DbGllbnRJbmZvLHRoaXMuY2xpZW50LnJlYWQoZSkpOmUuTWIocik7YnJlYWs7Y2FzZSAxMzpyPT1pLlR5cGUuU1RSSU5HP3RoaXMuc2Vzc2lvbklkPWUuTGIoKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgMTQ6cj09aS5UeXBlLlNUUlVDVD8odGhpcy5OSz1uZXcgaGl2ZS5zbmFwc2hvdHMuQUssdGhpcy5OSy5yZWFkKGUpKTplLk1iKHIpO2JyZWFrO2Nhc2UgMTU6cj09aS5UeXBlLlNUUlVDVD8odGhpcy5hQj1uZXcgVGVzdEluZm8sdGhpcy5hQi5yZWFkKGUpKTplLk1iKHIpO2JyZWFrO2Nhc2UgMTY6cj09aS5UeXBlLkk2ND90aGlzLkRLPWUuZ18oKS52YWx1ZTplLk1iKHIpO2JyZWFrO2RlZmF1bHQ6ZS5NYihyKX1lLlViKCl9ZS5CYigpfSxoaXZlLnNuYXBzaG90cy5NZXRyaWNTbmFwc2hvdC5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24oZSl7aWYoZS5IYihcIk1ldHJpY1NuYXBzaG90XCIpLG51bGwhPT10aGlzLnRpbWVzdGFtcCYmdm9pZCAwIT09dGhpcy50aW1lc3RhbXAmJihlLnhiKFwidGltZXN0YW1wXCIsaS5UeXBlLkk2NCwxKSxlLktDKHRoaXMudGltZXN0YW1wKSxlLkdiKCkpLG51bGwhPT10aGlzLmd1aWQmJnZvaWQgMCE9PXRoaXMuZ3VpZCYmKGUueGIoXCJndWlkXCIsaS5UeXBlLlNUUklORywyKSxlLnFiKHRoaXMuZ3VpZCksZS5HYigpKSxudWxsIT09dGhpcy5ldmVudElkJiZ2b2lkIDAhPT10aGlzLmV2ZW50SWQmJihlLnhiKFwiZXZlbnRJZFwiLGkuVHlwZS5TVFJVQ1QsMyksdGhpcy5ldmVudElkLndyaXRlKGUpLGUuR2IoKSksbnVsbCE9PXRoaXMuc3RyZWFtSW5mbyYmdm9pZCAwIT09dGhpcy5zdHJlYW1JbmZvJiYoZS54YihcInN0cmVhbUluZm9cIixpLlR5cGUuU1RSVUNULDQpLHRoaXMuc3RyZWFtSW5mby53cml0ZShlKSxlLkdiKCkpLG51bGwhPT10aGlzLm1ldHJpY3MmJnZvaWQgMCE9PXRoaXMubWV0cmljcyYmKGUueGIoXCJtZXRyaWNzXCIsaS5UeXBlLlNUUlVDVCw1KSx0aGlzLm1ldHJpY3Mud3JpdGUoZSksZS5HYigpKSxudWxsIT09dGhpcy50cmFmZmljJiZ2b2lkIDAhPT10aGlzLnRyYWZmaWMpe2UueGIoXCJ0cmFmZmljXCIsaS5UeXBlLk1BUCw2KSxlLlVDKGkuVHlwZS5TVFJVQ1QsaS5UeXBlLlNUUlVDVCxpLkViKHRoaXMudHJhZmZpYykpO2Zvcih2YXIgdCBpbiB0aGlzLnRyYWZmaWMpaWYodGhpcy50cmFmZmljLmhhc093blByb3BlcnR5KHQpKXt2YXIgcj10aGlzLnRyYWZmaWNbdF07ci5rZXkud3JpdGUoZSksci52YWx1ZS53cml0ZShlKX1lLkJDKCksZS5HYigpfWlmKG51bGwhPT10aGlzLnNuYXBzaG90SW5mbyYmdm9pZCAwIT09dGhpcy5zbmFwc2hvdEluZm8mJihlLnhiKFwic25hcHNob3RJbmZvXCIsaS5UeXBlLlNUUlVDVCw3KSx0aGlzLnNuYXBzaG90SW5mby53cml0ZShlKSxlLkdiKCkpLG51bGwhPT10aGlzLmFnZW50SW5mbyYmdm9pZCAwIT09dGhpcy5hZ2VudEluZm8mJihlLnhiKFwiYWdlbnRJbmZvXCIsaS5UeXBlLlNUUlVDVCw4KSx0aGlzLmFnZW50SW5mby53cml0ZShlKSxlLkdiKCkpLG51bGwhPT10aGlzLmNvbm5JbmZvJiZ2b2lkIDAhPT10aGlzLmNvbm5JbmZvJiYoZS54YihcImNvbm5JbmZvXCIsaS5UeXBlLlNUUlVDVCw5KSx0aGlzLmNvbm5JbmZvLndyaXRlKGUpLGUuR2IoKSksbnVsbCE9PXRoaXMucGFydG5lcnMmJnZvaWQgMCE9PXRoaXMucGFydG5lcnMpe2UueGIoXCJwYXJ0bmVyc1wiLGkuVHlwZS5NQVAsMTApLGUuVUMoaS5UeXBlLlNUUlVDVCxpLlR5cGUuU1RSVUNULGkuRWIodGhpcy5wYXJ0bmVycykpO2Zvcih2YXIgbiBpbiB0aGlzLnBhcnRuZXJzKWlmKHRoaXMucGFydG5lcnMuaGFzT3duUHJvcGVydHkobikpe3ZhciBzPXRoaXMucGFydG5lcnNbbl07cy5rZXkud3JpdGUoZSkscy52YWx1ZS53cml0ZShlKX1lLkJDKCksZS5HYigpfW51bGwhPT10aGlzLnBsYXllciYmdm9pZCAwIT09dGhpcy5wbGF5ZXImJihlLnhiKFwicGxheWVyXCIsaS5UeXBlLlNUUlVDVCwxMSksdGhpcy5wbGF5ZXIud3JpdGUoZSksZS5HYigpKSxudWxsIT09dGhpcy5jbGllbnQmJnZvaWQgMCE9PXRoaXMuY2xpZW50JiYoZS54YihcImNsaWVudFwiLGkuVHlwZS5TVFJVQ1QsMTIpLHRoaXMuY2xpZW50LndyaXRlKGUpLGUuR2IoKSksbnVsbCE9PXRoaXMuc2Vzc2lvbklkJiZ2b2lkIDAhPT10aGlzLnNlc3Npb25JZCYmKGUueGIoXCJzZXNzaW9uSWRcIixpLlR5cGUuU1RSSU5HLDEzKSxlLnFiKHRoaXMuc2Vzc2lvbklkKSxlLkdiKCkpLG51bGwhPT10aGlzLk5LJiZ2b2lkIDAhPT10aGlzLk5LJiYoZS54YihcInJlc3BvbnNlSW5mb1wiLGkuVHlwZS5TVFJVQ1QsMTQpLHRoaXMuTksud3JpdGUoZSksZS5HYigpKSxudWxsIT09dGhpcy5hQiYmdm9pZCAwIT09dGhpcy5hQiYmKGUueGIoXCJ0ZXN0SW5mb1wiLGkuVHlwZS5TVFJVQ1QsMTUpLHRoaXMuYUIud3JpdGUoZSksZS5HYigpKSxudWxsIT09dGhpcy5ESyYmdm9pZCAwIT09dGhpcy5ESyYmKGUueGIoXCJjbGllbnRJZFwiLGkuVHlwZS5JNjQsMTYpLGUuS0ModGhpcy5ESyksZS5HYigpKSxlLmpiKCksZS5RYigpfSxoaXZlLnNuYXBzaG90cy5Kc29uTWV0cmljU25hcHNob3Q9ZnVuY3Rpb24oZSl7dGhpcy50aW1lc3RhbXA9bnVsbCx0aGlzLmd1aWQ9bnVsbCx0aGlzLmV2ZW50SWQ9bnVsbCx0aGlzLnN0cmVhbUluZm89bnVsbCx0aGlzLm1ldHJpY3M9bnVsbCx0aGlzLnRyYWZmaWM9bnVsbCx0aGlzLnNuYXBzaG90SW5mbz1udWxsLHRoaXMuYWdlbnRJbmZvPW51bGwsdGhpcy5jb25uSW5mbz1udWxsLHRoaXMucGFydG5lcnM9bnVsbCx0aGlzLnBsYXllcj1udWxsLHRoaXMuY2xpZW50PW51bGwsdGhpcy5zZXNzaW9uSWQ9bnVsbCx0aGlzLk5LPW51bGwsdGhpcy5hQj1udWxsLHRoaXMuREs9bnVsbCxlJiYodm9pZCAwIT09ZS50aW1lc3RhbXAmJm51bGwhPT1lLnRpbWVzdGFtcCYmKHRoaXMudGltZXN0YW1wPWUudGltZXN0YW1wKSx2b2lkIDAhPT1lLmd1aWQmJm51bGwhPT1lLmd1aWQmJih0aGlzLmd1aWQ9ZS5ndWlkKSx2b2lkIDAhPT1lLmV2ZW50SWQmJm51bGwhPT1lLmV2ZW50SWQmJih0aGlzLmV2ZW50SWQ9ZS5ldmVudElkKSx2b2lkIDAhPT1lLnN0cmVhbUluZm8mJm51bGwhPT1lLnN0cmVhbUluZm8mJih0aGlzLnN0cmVhbUluZm89ZS5zdHJlYW1JbmZvKSx2b2lkIDAhPT1lLm1ldHJpY3MmJm51bGwhPT1lLm1ldHJpY3MmJih0aGlzLm1ldHJpY3M9ZS5tZXRyaWNzKSx2b2lkIDAhPT1lLnRyYWZmaWMmJm51bGwhPT1lLnRyYWZmaWMmJih0aGlzLnRyYWZmaWM9ZS50cmFmZmljKSx2b2lkIDAhPT1lLnNuYXBzaG90SW5mbyYmbnVsbCE9PWUuc25hcHNob3RJbmZvJiYodGhpcy5zbmFwc2hvdEluZm89ZS5zbmFwc2hvdEluZm8pLHZvaWQgMCE9PWUuYWdlbnRJbmZvJiZudWxsIT09ZS5hZ2VudEluZm8mJih0aGlzLmFnZW50SW5mbz1lLmFnZW50SW5mbyksdm9pZCAwIT09ZS5jb25uSW5mbyYmbnVsbCE9PWUuY29ubkluZm8mJih0aGlzLmNvbm5JbmZvPWUuY29ubkluZm8pLHZvaWQgMCE9PWUucGFydG5lcnMmJm51bGwhPT1lLnBhcnRuZXJzJiYodGhpcy5wYXJ0bmVycz1lLnBhcnRuZXJzKSx2b2lkIDAhPT1lLnBsYXllciYmbnVsbCE9PWUucGxheWVyJiYodGhpcy5wbGF5ZXI9ZS5wbGF5ZXIpLHZvaWQgMCE9PWUuY2xpZW50JiZudWxsIT09ZS5jbGllbnQmJih0aGlzLmNsaWVudD1lLmNsaWVudCksdm9pZCAwIT09ZS5zZXNzaW9uSWQmJm51bGwhPT1lLnNlc3Npb25JZCYmKHRoaXMuc2Vzc2lvbklkPWUuc2Vzc2lvbklkKSx2b2lkIDAhPT1lLk5LJiZudWxsIT09ZS5OSyYmKHRoaXMuTks9ZS5OSyksdm9pZCAwIT09ZS5hQiYmbnVsbCE9PWUuYUImJih0aGlzLmFCPWUuYUIpLHZvaWQgMCE9PWUuREsmJm51bGwhPT1lLkRLJiYodGhpcy5ESz1lLkRLKSl9LGhpdmUuc25hcHNob3RzLkpzb25NZXRyaWNTbmFwc2hvdC5wcm90b3R5cGU9e30saGl2ZS5zbmFwc2hvdHMuSnNvbk1ldHJpY1NuYXBzaG90LnByb3RvdHlwZS5yZWFkPWZ1bmN0aW9uKGUpe2ZvcihlLnJfKCk7Oyl7dmFyIHQ9ZS5rYigpLHI9KHQuZm5hbWUsdC5mdHlwZSksbj10LmZpZDtpZihyPT1pLlR5cGUuU1RPUClicmVhaztzd2l0Y2gobil7Y2FzZSAxOnI9PWkuVHlwZS5JNjQ/dGhpcy50aW1lc3RhbXA9ZS5nXygpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSAyOnI9PWkuVHlwZS5TVFJJTkc/dGhpcy5ndWlkPWUuTGIoKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgMzpyPT1pLlR5cGUuU1RSVUNUPyh0aGlzLmV2ZW50SWQ9bmV3IEV2ZW50SWQsdGhpcy5ldmVudElkLnJlYWQoZSkpOmUuTWIocik7YnJlYWs7Y2FzZSA0OnI9PWkuVHlwZS5TVFJVQ1Q/KHRoaXMuc3RyZWFtSW5mbz1uZXcgaGl2ZS5zbmFwc2hvdHMuU3RyZWFtSW5mbyx0aGlzLnN0cmVhbUluZm8ucmVhZChlKSk6ZS5NYihyKTticmVhaztjYXNlIDU6cj09aS5UeXBlLlNUUlVDVD8odGhpcy5tZXRyaWNzPW5ldyBoaXZlLnNuYXBzaG90cy5NZXRyaWNzLHRoaXMubWV0cmljcy5yZWFkKGUpKTplLk1iKHIpO2JyZWFrO2Nhc2UgNjppZihyPT1pLlR5cGUuTUFQKXt2YXIgcyxvPTA7dGhpcy50cmFmZmljPXt9O3M9ZS5pXygpLHMubl8scy5zXyxvPXMuc2l6ZTtmb3IodmFyIGE9MDthPG87KythKXthPjAmJmUuSkMubGVuZ3RoPmUuemJbZS56Yi5sZW5ndGgtMV0rMSYmZS5KQy5wb3AoKTt2YXIgaD1udWxsLGM9bnVsbDtoPWUuTGIoKS52YWx1ZSxjPW5ldyBoaXZlLnNuYXBzaG90cy5UcmFmZmljLGMucmVhZChlKSx0aGlzLnRyYWZmaWNbaF09Y31lLm9fKCl9ZWxzZSBlLk1iKHIpO2JyZWFrO2Nhc2UgNzpyPT1pLlR5cGUuU1RSVUNUPyh0aGlzLnNuYXBzaG90SW5mbz1uZXcgU25hcHNob3RJbmZvLHRoaXMuc25hcHNob3RJbmZvLnJlYWQoZSkpOmUuTWIocik7YnJlYWs7Y2FzZSA4OnI9PWkuVHlwZS5TVFJVQ1Q/KHRoaXMuYWdlbnRJbmZvPW5ldyBoaXZlLnNuYXBzaG90cy5BZ2VudEluZm8sdGhpcy5hZ2VudEluZm8ucmVhZChlKSk6ZS5NYihyKTticmVhaztjYXNlIDk6cj09aS5UeXBlLlNUUlVDVD8odGhpcy5jb25uSW5mbz1uZXcgaGl2ZS5zbmFwc2hvdHMuQ29ubmVjdGl2aXR5SW5mbyx0aGlzLmNvbm5JbmZvLnJlYWQoZSkpOmUuTWIocik7YnJlYWs7Y2FzZSAxMDppZihyPT1pLlR5cGUuTUFQKXt2YXIgdSxsPTA7dGhpcy5wYXJ0bmVycz17fTt1PWUuaV8oKSx1Lm5fLHUuc18sbD11LnNpemU7Zm9yKHZhciBwPTA7cDxsOysrcCl7cD4wJiZlLkpDLmxlbmd0aD5lLnpiW2UuemIubGVuZ3RoLTFdKzEmJmUuSkMucG9wKCk7dmFyIGQ9bnVsbCxmPW51bGw7ZD1lLkxiKCkudmFsdWUsZj1uZXcgaGl2ZS5zbmFwc2hvdHMuUGFydG5lcixmLnJlYWQoZSksdGhpcy5wYXJ0bmVyc1tkXT1mfWUub18oKX1lbHNlIGUuTWIocik7YnJlYWs7Y2FzZSAxMTpyPT1pLlR5cGUuU1RSVUNUPyh0aGlzLnBsYXllcj1uZXcgaGl2ZS5zbmFwc2hvdHMuUGxheWVyLHRoaXMucGxheWVyLnJlYWQoZSkpOmUuTWIocik7YnJlYWs7Y2FzZSAxMjpyPT1pLlR5cGUuU1RSVUNUPyh0aGlzLmNsaWVudD1uZXcgaGl2ZS5zbmFwc2hvdHMuQ2xpZW50SW5mbyx0aGlzLmNsaWVudC5yZWFkKGUpKTplLk1iKHIpO2JyZWFrO2Nhc2UgMTM6cj09aS5UeXBlLlNUUklORz90aGlzLnNlc3Npb25JZD1lLkxiKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDE0OnI9PWkuVHlwZS5TVFJVQ1Q/KHRoaXMuTks9bmV3IGhpdmUuc25hcHNob3RzLkFLLHRoaXMuTksucmVhZChlKSk6ZS5NYihyKTticmVhaztjYXNlIDE1OnI9PWkuVHlwZS5TVFJVQ1Q/KHRoaXMuYUI9bmV3IFRlc3RJbmZvLHRoaXMuYUIucmVhZChlKSk6ZS5NYihyKTticmVhaztjYXNlIDE2OnI9PWkuVHlwZS5JNjQ/dGhpcy5ESz1lLmdfKCkudmFsdWU6ZS5NYihyKTticmVhaztkZWZhdWx0OmUuTWIocil9ZS5VYigpfWUuQmIoKX0saGl2ZS5zbmFwc2hvdHMuSnNvbk1ldHJpY1NuYXBzaG90LnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbihlKXtpZihlLkhiKFwiSnNvbk1ldHJpY1NuYXBzaG90XCIpLG51bGwhPT10aGlzLnRpbWVzdGFtcCYmdm9pZCAwIT09dGhpcy50aW1lc3RhbXAmJihlLnhiKFwidGltZXN0YW1wXCIsaS5UeXBlLkk2NCwxKSxlLktDKHRoaXMudGltZXN0YW1wKSxlLkdiKCkpLG51bGwhPT10aGlzLmd1aWQmJnZvaWQgMCE9PXRoaXMuZ3VpZCYmKGUueGIoXCJndWlkXCIsaS5UeXBlLlNUUklORywyKSxlLnFiKHRoaXMuZ3VpZCksZS5HYigpKSxudWxsIT09dGhpcy5ldmVudElkJiZ2b2lkIDAhPT10aGlzLmV2ZW50SWQmJihlLnhiKFwiZXZlbnRJZFwiLGkuVHlwZS5TVFJVQ1QsMyksdGhpcy5ldmVudElkLndyaXRlKGUpLGUuR2IoKSksbnVsbCE9PXRoaXMuc3RyZWFtSW5mbyYmdm9pZCAwIT09dGhpcy5zdHJlYW1JbmZvJiYoZS54YihcInN0cmVhbUluZm9cIixpLlR5cGUuU1RSVUNULDQpLHRoaXMuc3RyZWFtSW5mby53cml0ZShlKSxlLkdiKCkpLG51bGwhPT10aGlzLm1ldHJpY3MmJnZvaWQgMCE9PXRoaXMubWV0cmljcyYmKGUueGIoXCJtZXRyaWNzXCIsaS5UeXBlLlNUUlVDVCw1KSx0aGlzLm1ldHJpY3Mud3JpdGUoZSksZS5HYigpKSxudWxsIT09dGhpcy50cmFmZmljJiZ2b2lkIDAhPT10aGlzLnRyYWZmaWMpe2UueGIoXCJ0cmFmZmljXCIsaS5UeXBlLk1BUCw2KSxlLlVDKGkuVHlwZS5TVFJJTkcsaS5UeXBlLlNUUlVDVCxpLkViKHRoaXMudHJhZmZpYykpO2Zvcih2YXIgdCBpbiB0aGlzLnRyYWZmaWMpaWYodGhpcy50cmFmZmljLmhhc093blByb3BlcnR5KHQpKXt2YXIgcj10aGlzLnRyYWZmaWNbdF07ZS5xYih0KSxyLndyaXRlKGUpfWUuQkMoKSxlLkdiKCl9aWYobnVsbCE9PXRoaXMuc25hcHNob3RJbmZvJiZ2b2lkIDAhPT10aGlzLnNuYXBzaG90SW5mbyYmKGUueGIoXCJzbmFwc2hvdEluZm9cIixpLlR5cGUuU1RSVUNULDcpLHRoaXMuc25hcHNob3RJbmZvLndyaXRlKGUpLGUuR2IoKSksbnVsbCE9PXRoaXMuYWdlbnRJbmZvJiZ2b2lkIDAhPT10aGlzLmFnZW50SW5mbyYmKGUueGIoXCJhZ2VudEluZm9cIixpLlR5cGUuU1RSVUNULDgpLHRoaXMuYWdlbnRJbmZvLndyaXRlKGUpLGUuR2IoKSksbnVsbCE9PXRoaXMuY29ubkluZm8mJnZvaWQgMCE9PXRoaXMuY29ubkluZm8mJihlLnhiKFwiY29ubkluZm9cIixpLlR5cGUuU1RSVUNULDkpLHRoaXMuY29ubkluZm8ud3JpdGUoZSksZS5HYigpKSxudWxsIT09dGhpcy5wYXJ0bmVycyYmdm9pZCAwIT09dGhpcy5wYXJ0bmVycyl7ZS54YihcInBhcnRuZXJzXCIsaS5UeXBlLk1BUCwxMCksZS5VQyhpLlR5cGUuU1RSSU5HLGkuVHlwZS5TVFJVQ1QsaS5FYih0aGlzLnBhcnRuZXJzKSk7Zm9yKHZhciBuIGluIHRoaXMucGFydG5lcnMpaWYodGhpcy5wYXJ0bmVycy5oYXNPd25Qcm9wZXJ0eShuKSl7dmFyIHM9dGhpcy5wYXJ0bmVyc1tuXTtlLnFiKG4pLHMud3JpdGUoZSl9ZS5CQygpLGUuR2IoKX1udWxsIT09dGhpcy5wbGF5ZXImJnZvaWQgMCE9PXRoaXMucGxheWVyJiYoZS54YihcInBsYXllclwiLGkuVHlwZS5TVFJVQ1QsMTEpLHRoaXMucGxheWVyLndyaXRlKGUpLGUuR2IoKSksbnVsbCE9PXRoaXMuY2xpZW50JiZ2b2lkIDAhPT10aGlzLmNsaWVudCYmKGUueGIoXCJjbGllbnRcIixpLlR5cGUuU1RSVUNULDEyKSx0aGlzLmNsaWVudC53cml0ZShlKSxlLkdiKCkpLG51bGwhPT10aGlzLnNlc3Npb25JZCYmdm9pZCAwIT09dGhpcy5zZXNzaW9uSWQmJihlLnhiKFwic2Vzc2lvbklkXCIsaS5UeXBlLlNUUklORywxMyksZS5xYih0aGlzLnNlc3Npb25JZCksZS5HYigpKSxudWxsIT09dGhpcy5OSyYmdm9pZCAwIT09dGhpcy5OSyYmKGUueGIoXCJyZXNwb25zZUluZm9cIixpLlR5cGUuU1RSVUNULDE0KSx0aGlzLk5LLndyaXRlKGUpLGUuR2IoKSksbnVsbCE9PXRoaXMuYUImJnZvaWQgMCE9PXRoaXMuYUImJihlLnhiKFwidGVzdEluZm9cIixpLlR5cGUuU1RSVUNULDE1KSx0aGlzLmFCLndyaXRlKGUpLGUuR2IoKSksbnVsbCE9PXRoaXMuREsmJnZvaWQgMCE9PXRoaXMuREsmJihlLnhiKFwiY2xpZW50SWRcIixpLlR5cGUuSTY0LDE2KSxlLktDKHRoaXMuREspLGUuR2IoKSksZS5qYigpLGUuUWIoKX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgaT1yKDMzKTtTdHJlYW1UeXBlPXsxOlwiTElWRVwiLExJVkU6MSwyOlwiVk9EXCIsa0s6Mn0sU3RyZWFtUHJvdG9jb2w9ezE6XCJEQVNIXCIsREFTSDoxLDI6XCJIRFNcIixMSzoyLDM6XCJITFNcIixicTozLDQ6XCJTU1wiLE1LOjR9LENsaWVudFR5cGU9ezE6XCJKQVZBXCIsRks6MSwyOlwiU1RBVFNfT05MWVwiLHdCOjIsMzpcIkpTX0RJUkVDVFwiLFNCOjMsNDpcIkpTX1BST1hZXCIsUkI6NH0sRXZlbnRJZD1mdW5jdGlvbihlKXt0aGlzLnBhcnRuZXJJZD1udWxsLHRoaXMuY3VzdG9tZXJJZD1udWxsLHRoaXMuY29udGVudElkPW51bGwsdGhpcy50YWdzPW51bGwsZSYmKHZvaWQgMCE9PWUucGFydG5lcklkJiZudWxsIT09ZS5wYXJ0bmVySWQmJih0aGlzLnBhcnRuZXJJZD1lLnBhcnRuZXJJZCksdm9pZCAwIT09ZS5jdXN0b21lcklkJiZudWxsIT09ZS5jdXN0b21lcklkJiYodGhpcy5jdXN0b21lcklkPWUuY3VzdG9tZXJJZCksdm9pZCAwIT09ZS5jb250ZW50SWQmJm51bGwhPT1lLmNvbnRlbnRJZCYmKHRoaXMuY29udGVudElkPWUuY29udGVudElkKSx2b2lkIDAhPT1lLnRhZ3MmJm51bGwhPT1lLnRhZ3MmJih0aGlzLnRhZ3M9ZS50YWdzKSl9LEV2ZW50SWQucHJvdG90eXBlPXt9LEV2ZW50SWQucHJvdG90eXBlLnJlYWQ9ZnVuY3Rpb24oZSl7Zm9yKGUucl8oKTs7KXt2YXIgdD1lLmtiKCkscj0odC5mbmFtZSx0LmZ0eXBlKSxuPXQuZmlkO2lmKHI9PWkuVHlwZS5TVE9QKWJyZWFrO3N3aXRjaChuKXtjYXNlIDE6cj09aS5UeXBlLlNUUklORz90aGlzLnBhcnRuZXJJZD1lLkxiKCkudmFsdWU6ZS5NYihyKTticmVhaztjYXNlIDI6cj09aS5UeXBlLlNUUklORz90aGlzLmN1c3RvbWVySWQ9ZS5MYigpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSAzOnI9PWkuVHlwZS5TVFJJTkc/dGhpcy5jb250ZW50SWQ9ZS5MYigpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSA0OmlmKHI9PWkuVHlwZS5MSVNUKXt2YXIgcyxvPTA7dGhpcy50YWdzPVtdO3M9ZS5hXygpLHMuaF8sbz1zLnNpemU7Zm9yKHZhciBhPTA7YTxvOysrYSl7dmFyIGg9bnVsbDtoPWUuTGIoKS52YWx1ZSx0aGlzLnRhZ3MucHVzaChoKX1lLmNfKCl9ZWxzZSBlLk1iKHIpO2JyZWFrO2RlZmF1bHQ6ZS5NYihyKX1lLlViKCl9ZS5CYigpfSxFdmVudElkLnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbihlKXtpZihlLkhiKFwiRXZlbnRJZFwiKSxudWxsIT09dGhpcy5wYXJ0bmVySWQmJnZvaWQgMCE9PXRoaXMucGFydG5lcklkJiYoZS54YihcInBhcnRuZXJJZFwiLGkuVHlwZS5TVFJJTkcsMSksZS5xYih0aGlzLnBhcnRuZXJJZCksZS5HYigpKSxudWxsIT09dGhpcy5jdXN0b21lcklkJiZ2b2lkIDAhPT10aGlzLmN1c3RvbWVySWQmJihlLnhiKFwiY3VzdG9tZXJJZFwiLGkuVHlwZS5TVFJJTkcsMiksZS5xYih0aGlzLmN1c3RvbWVySWQpLGUuR2IoKSksbnVsbCE9PXRoaXMuY29udGVudElkJiZ2b2lkIDAhPT10aGlzLmNvbnRlbnRJZCYmKGUueGIoXCJjb250ZW50SWRcIixpLlR5cGUuU1RSSU5HLDMpLGUucWIodGhpcy5jb250ZW50SWQpLGUuR2IoKSksbnVsbCE9PXRoaXMudGFncyYmdm9pZCAwIT09dGhpcy50YWdzKXtlLnhiKFwidGFnc1wiLGkuVHlwZS5MSVNULDQpLGUuSEMoaS5UeXBlLlNUUklORyx0aGlzLnRhZ3MubGVuZ3RoKTtmb3IodmFyIHQgaW4gdGhpcy50YWdzKXRoaXMudGFncy5oYXNPd25Qcm9wZXJ0eSh0KSYmKHQ9dGhpcy50YWdzW3RdLGUucWIodCkpO2UueEMoKSxlLkdiKCl9ZS5qYigpLGUuUWIoKX0sU25hcHNob3RJbmZvPWZ1bmN0aW9uKGUpe3RoaXMudGltZXN0YW1wPW51bGwsdGhpcy5hcGlTZXJ2ZXI9bnVsbCx0aGlzLmNsaWVudElwPW51bGwsZSYmKHZvaWQgMCE9PWUudGltZXN0YW1wJiZudWxsIT09ZS50aW1lc3RhbXAmJih0aGlzLnRpbWVzdGFtcD1lLnRpbWVzdGFtcCksdm9pZCAwIT09ZS5hcGlTZXJ2ZXImJm51bGwhPT1lLmFwaVNlcnZlciYmKHRoaXMuYXBpU2VydmVyPWUuYXBpU2VydmVyKSx2b2lkIDAhPT1lLmNsaWVudElwJiZudWxsIT09ZS5jbGllbnRJcCYmKHRoaXMuY2xpZW50SXA9ZS5jbGllbnRJcCkpfSxTbmFwc2hvdEluZm8ucHJvdG90eXBlPXt9LFNuYXBzaG90SW5mby5wcm90b3R5cGUucmVhZD1mdW5jdGlvbihlKXtmb3IoZS5yXygpOzspe3ZhciB0PWUua2IoKSxyPSh0LmZuYW1lLHQuZnR5cGUpLG49dC5maWQ7aWYocj09aS5UeXBlLlNUT1ApYnJlYWs7c3dpdGNoKG4pe2Nhc2UgMTpyPT1pLlR5cGUuSTY0P3RoaXMudGltZXN0YW1wPWUuZ18oKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgMjpyPT1pLlR5cGUuU1RSSU5HP3RoaXMuYXBpU2VydmVyPWUuTGIoKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgMzpyPT1pLlR5cGUuU1RSSU5HP3RoaXMuY2xpZW50SXA9ZS5MYigpLnZhbHVlOmUuTWIocik7YnJlYWs7ZGVmYXVsdDplLk1iKHIpfWUuVWIoKX1lLkJiKCl9LFNuYXBzaG90SW5mby5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24oZSl7ZS5IYihcIlNuYXBzaG90SW5mb1wiKSxudWxsIT09dGhpcy50aW1lc3RhbXAmJnZvaWQgMCE9PXRoaXMudGltZXN0YW1wJiYoZS54YihcInRpbWVzdGFtcFwiLGkuVHlwZS5JNjQsMSksZS5LQyh0aGlzLnRpbWVzdGFtcCksZS5HYigpKSxudWxsIT09dGhpcy5hcGlTZXJ2ZXImJnZvaWQgMCE9PXRoaXMuYXBpU2VydmVyJiYoZS54YihcImFwaVNlcnZlclwiLGkuVHlwZS5TVFJJTkcsMiksZS5xYih0aGlzLmFwaVNlcnZlciksZS5HYigpKSxudWxsIT09dGhpcy5jbGllbnRJcCYmdm9pZCAwIT09dGhpcy5jbGllbnRJcCYmKGUueGIoXCJjbGllbnRJcFwiLGkuVHlwZS5TVFJJTkcsMyksZS5xYih0aGlzLmNsaWVudElwKSxlLkdiKCkpLGUuamIoKSxlLlFiKCl9LFRlc3RJbmZvPWZ1bmN0aW9uKGUpe3RoaXMudGVzdElkPW51bGwsZSYmdm9pZCAwIT09ZS50ZXN0SWQmJm51bGwhPT1lLnRlc3RJZCYmKHRoaXMudGVzdElkPWUudGVzdElkKX0sVGVzdEluZm8ucHJvdG90eXBlPXt9LFRlc3RJbmZvLnByb3RvdHlwZS5yZWFkPWZ1bmN0aW9uKGUpe2ZvcihlLnJfKCk7Oyl7dmFyIHQ9ZS5rYigpLHI9KHQuZm5hbWUsdC5mdHlwZSksbj10LmZpZDtpZihyPT1pLlR5cGUuU1RPUClicmVhaztzd2l0Y2gobil7Y2FzZSAxOnI9PWkuVHlwZS5TVFJJTkc/dGhpcy50ZXN0SWQ9ZS5MYigpLnZhbHVlOmUuTWIocik7YnJlYWs7Y2FzZSAwOmUuTWIocik7YnJlYWs7ZGVmYXVsdDplLk1iKHIpfWUuVWIoKX1lLkJiKCl9LFRlc3RJbmZvLnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbihlKXtlLkhiKFwiVGVzdEluZm9cIiksbnVsbCE9PXRoaXMudGVzdElkJiZ2b2lkIDAhPT10aGlzLnRlc3RJZCYmKGUueGIoXCJ0ZXN0SWRcIixpLlR5cGUuU1RSSU5HLDEpLGUucWIodGhpcy50ZXN0SWQpLGUuR2IoKSksZS5qYigpLGUuUWIoKX0sSW5ldEFkZHJlc3M9ZnVuY3Rpb24oZSl7dGhpcy5hZGRyZXNzPW51bGwsdGhpcy5wb3J0PW51bGwsZSYmKHZvaWQgMCE9PWUuYWRkcmVzcyYmbnVsbCE9PWUuYWRkcmVzcyYmKHRoaXMuYWRkcmVzcz1lLmFkZHJlc3MpLHZvaWQgMCE9PWUucG9ydCYmbnVsbCE9PWUucG9ydCYmKHRoaXMucG9ydD1lLnBvcnQpKX0sSW5ldEFkZHJlc3MucHJvdG90eXBlPXt9LEluZXRBZGRyZXNzLnByb3RvdHlwZS5yZWFkPWZ1bmN0aW9uKGUpe2ZvcihlLnJfKCk7Oyl7dmFyIHQ9ZS5rYigpLHI9KHQuZm5hbWUsdC5mdHlwZSksbj10LmZpZDtpZihyPT1pLlR5cGUuU1RPUClicmVhaztzd2l0Y2gobil7Y2FzZSAxOnI9PWkuVHlwZS5TVFJJTkc/dGhpcy5hZGRyZXNzPWUudl8oKS52YWx1ZTplLk1iKHIpO2JyZWFrO2Nhc2UgMjpyPT1pLlR5cGUuSTMyP3RoaXMucG9ydD1lLkZiKCkudmFsdWU6ZS5NYihyKTticmVhaztkZWZhdWx0OmUuTWIocil9ZS5VYigpfWUuQmIoKX0sSW5ldEFkZHJlc3MucHJvdG90eXBlLndyaXRlPWZ1bmN0aW9uKGUpe2UuSGIoXCJJbmV0QWRkcmVzc1wiKSxudWxsIT09dGhpcy5hZGRyZXNzJiZ2b2lkIDAhPT10aGlzLmFkZHJlc3MmJihlLnhiKFwiYWRkcmVzc1wiLGkuVHlwZS5TVFJJTkcsMSksZS5XQyh0aGlzLmFkZHJlc3MpLGUuR2IoKSksbnVsbCE9PXRoaXMucG9ydCYmdm9pZCAwIT09dGhpcy5wb3J0JiYoZS54YihcInBvcnRcIixpLlR5cGUuSTMyLDIpLGUuVmIodGhpcy5wb3J0KSxlLkdiKCkpLGUuamIoKSxlLlFiKCl9fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9cig0KSxuPXIoMjMpLHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7dGhpcy5tc2c9ZSx0aGlzLlVLPURhdGUubm93KCkrdCx0aGlzLkJLPWkuZGVmZXIoKX1yZXR1cm4gZS5wcm90b3R5cGUuSEs9ZnVuY3Rpb24oKXtyZXR1cm4gRGF0ZS5ub3coKT49dGhpcy5VS30sZX0oKSxvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQscixpLG4scyxvKXt2b2lkIDA9PT10JiYodD0zZTQpLHZvaWQgMD09PXImJihyPTEwMCksdm9pZCAwPT09aSYmKGk9M2U0KSx2b2lkIDA9PT1uJiYobj0xNWUzKSx2b2lkIDA9PT1zJiYocz1EYXRlKSx2b2lkIDA9PT1vJiYobz0hMSksdGhpcy54Sz0xLHRoaXMucUs9LTEsdGhpcy5HSz0tMSx0aGlzLndqPXt9LHRoaXMuVks9W10sdGhpcy5qSz1bXSx0aGlzLlFLPSExLHRoaXMuS0s9ITAsdGhpcy5ZSz1lLHRoaXMuV0s9QXJyYXkoKSx0aGlzLkFFPXQsdGhpcy5PRT1yLHRoaXMuTkU9aSx0aGlzLnpLPW4sdGhpcy5KSz1zLHRoaXMuUUs9b3x8L01TSUUgMTAvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpfHwvTVNJRSA5L2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KXx8L3J2OjExLjAvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpfHwvRWRnZS4vaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpfXJldHVybiBlLnByb3RvdHlwZS5Bcz1mdW5jdGlvbihlKXt2YXIgdD1lLnNlcnZpY2UrXCJfXCIrZS5tc2dJZCxyPXRoaXMud2pbdF07bnVsbCE9cj9yKGUpOm4ubG9nZ2VyKCkuZXJyb3Iobi5sb2dnZXJJZCtcIkNvdWxkIG5vdCBmaW5kIGEgZGlzcGF0Y2hlciBmb3IgXCIsZSx0LHRoaXMud2opfSxlLnByb3RvdHlwZS5vbj1mdW5jdGlvbihlLHQscil7dGhpcy53altlK1wiX1wiK3RdPXJ9LGUucHJvdG90eXBlLm9uZXJyb3I9ZnVuY3Rpb24oZSl7dGhpcy5WSy5wdXNoKGUpfSxlLnByb3RvdHlwZS54Qj1mdW5jdGlvbihlKXt0aGlzLmpLLnB1c2goZSl9LGUucHJvdG90eXBlLlhLPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztpZighd2luZG93LldlYlNvY2tldClyZXR1cm4gdm9pZCB0aGlzLlZLLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIGUoXCJXZWJTb2NrZXQgbm90IGRlZmluZWRcIil9KTt2YXIgdD1uZXcgV2ViU29ja2V0KHRoaXMuWUspO3JldHVybiB0LmJpbmFyeVR5cGU9XCJhcnJheWJ1ZmZlclwiLHQub25vcGVuPWZ1bmN0aW9uKHQpe2UuWksoKSxuLmxvZ2dlcigpLmRlYnVnKG4ubG9nZ2VySWQrXCJIaXZlU2VydmljZXNDb25uZWN0aW9uIGVzdGFibGlzaGVkIHRvIFwiK2UuWUspLGUuR0s9KG5ldyBlLkpLKS5nZXRUaW1lKCksZS4kSygpLGUuaksuZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gdChlKX0pLGUuZVkoKSxlLnRZKCl9LHQub25jbG9zZT1mdW5jdGlvbih0KXtlLmNsb3NlKGUuS0spLGUuY29ubmVjdCgpfSx0Lm9ubWVzc2FnZT1mdW5jdGlvbih0KXtlLkFzKG4uSmQueWYodC5kYXRhKSl9LHQub25lcnJvcj1mdW5jdGlvbih0KXtlLmNsb3NlKCEwKSxlLlZLLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIGUodC50b1N0cmluZygpKX0pfSx0fSxlLnByb3RvdHlwZS5pc09wZW49ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9dGhpcy5QUiYmdGhpcy5QUi5yZWFkeVN0YXRlPT10aGlzLlBSLk9QRU59LGUucHJvdG90eXBlLmNvbm5lY3Q9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztlJiYodGhpcy5LSz0hMCksdGhpcy5LSyYmMSE9dGhpcy5pc09wZW4oKSYmKHRoaXMucUs+MHx8KHRoaXMuR0s+LTEmJihuZXcgdGhpcy5KSykuZ2V0VGltZSgpLXRoaXMuR0s+dGhpcy5BRT8odGhpcy54Sz1uLkwuRWYsdGhpcy5HSz0tMSk6dGhpcy54Sz1NYXRoLm1pbigyKnRoaXMueEssdGhpcy5BRSksdGhpcy5xSz13aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpe3QucUs9LTEsbi5sb2dnZXIoKS5kZWJ1ZyhuLmxvZ2dlcklkK1wiQ29ubmVjdGlvbiBhdHRlbXB0IHRvIFwiK3QuWUsrXCIgW3Q6XCIrdC54SytcIiBoYjpcIit0LlFLK1wiXVwiKSx0LlBSPXQuWEsoKSx0LnhLPU1hdGgubWF4KHQueEssbi5MLkVmKX0sdGhpcy54SykpKX0sZS5wcm90b3R5cGUuWks9ZnVuY3Rpb24oKXt0aGlzLnFLPi0xJiYoY2xlYXJUaW1lb3V0KHRoaXMucUspLHRoaXMucUs9LTEpfSxlLnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbihlKXt0aGlzLktLPXZvaWQgMCE9ZSYmZSxuLmxvZ2dlcigpLmRlYnVnKG4ubG9nZ2VySWQrXCJDbG9zaW5nIGNvbm5lY3Rpb24gW3JlY29ubmVjdDpcIit0aGlzLktLK1wiXVwiKSx0aGlzLlpLKCksbnVsbCE9dGhpcy5QUiYmKHRoaXMuUFIuY2xvc2UoKSx0aGlzLlBSPW51bGwpfSxlLnByb3RvdHlwZS4kSz1mdW5jdGlvbigpe2Zvcig7dGhpcy5XSy5sZW5ndGg+MDspe3ZhciBlPXRoaXMuV0sucG9wKCk7dHJ5e2UuSEsoKT9lLkJLLnJlamVjdChuZXcgRXJyb3IoXCJNZXNzYWdlIGV4cGlyZWRcIikpOih0aGlzLmVZKCksdGhpcy5QUi5zZW5kKGUubXNnLnZmKCkpKX1jYXRjaCh0KXtpZih0LmNvZGU9PT1ET01FeGNlcHRpb24uSU5WQUxJRF9TVEFURV9FUlIpe3RoaXMuV0sucHVzaChlKTticmVha31uLmxvZ2dlcigpLmVycm9yKG4ubG9nZ2VySWQrXCJGYWlsZWQgdG8gc2VuZCB0aGUgbWVzc2FnZSwgZHJvcHBlZDogXCIsdC5jb2RlLHQubmFtZSksZS5CSy5yZWplY3QodCl9fXRoaXMudFkoKX0sZS5wcm90b3R5cGUuZVk9ZnVuY3Rpb24oKXt0aGlzLnJZJiYoY2xlYXJUaW1lb3V0KHRoaXMuclkpLHRoaXMuclk9bnVsbCl9LGUucHJvdG90eXBlLnRZPWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLlFLJiYhdGhpcy5yWSYmKHRoaXMuclk9d2luZG93LnNldEludGVydmFsKGZ1bmN0aW9uKCl7ZS5zZW5kKG5ldyBuLkpkKFNlcnZpY2VzLmlZLDAsXCJcIikpfSx0aGlzLnpLKSl9LGUucHJvdG90eXBlLnNlbmQ9ZnVuY3Rpb24oZSx0KXtpZih2b2lkIDA9PT10JiYodD10aGlzLk5FKSx0aGlzLldLLmxlbmd0aD49dGhpcy5PRSl0aHJvdyBuZXcgRXJyb3IoXCJIaXZlU2VydmljZXMgY29ubmVjdGlvbiBjYW5ub3QgcXVldWUgbW9yZSBtZXNzYWdlc1wiKTt2YXIgcj1uZXcgcyhlLHQpO3JldHVybiB0aGlzLldLLnB1c2gociksdGhpcy5QUiYmdGhpcy4kSygpLHIuQksuU3N9LGUucHJvdG90eXBlLm5ZPWZ1bmN0aW9uKGUpe3RoaXMuUUs9ZSx0aGlzLlFLJiZ0aGlzLnRZKCl9LGUucHJvdG90eXBlLnNZPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPXRoaXMuUFJ9LGV9KCk7dC5IQj1vfSxmdW5jdGlvbihlLHQpe1NlcnZpY2VzPXsxOlwiUkVNT1RFX0VYRUNVVE9SXCIsb1k6MSwyOlwiUEVFUl9GT1JXQVJERVJcIixhWToyLDM6XCJQRUVSX0lOREVYXCIsaFk6Myw0OlwiUEVFUl9CUk9BRENBU1RcIixjWTo0LDU6XCJQRUVSX0ZJTFRFUlwiLHVZOjUsNjpcIlBFRVJfTE9HR0lOR1wiLGxZOjYsNzpcIkhJVkVKU19UUkFDS0VSXCIscFk6Nyw4OlwiUEVFUl9TWVNURU1cIixkWTo4LDk6XCJISVZFSlNfU05BUFNIT1RTXCIsWGQ6OSwxMDpcIkhJVkVKU19USUNLRVRTXCIsQkI6MTAsMTE6XCJISVZFSlNfS0VFUEFMSVZFXCIsaVk6MTEsMTI6XCJISVZFSlNfRk9SV0FSRElOR1wiLGZZOjEyfX0sZnVuY3Rpb24oZSx0KXtlLmk9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEZ1bmN0aW9ufX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe3RoaXMucDJwSWQ9ZSx0aGlzLldsPXR9cmV0dXJuIGUucHJvdG90eXBlLnRwPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucDJwSWR9LGUucHJvdG90eXBlLnJwPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuV2w/dGhpcy5XbDp0aGlzLnAycElkfSxlfSgpO3QucEg9aX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXRoaXMmJnRoaXMuaHV8fGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gcigpe3RoaXMuY29uc3RydWN0b3I9ZX1mb3IodmFyIGkgaW4gdCl0Lmhhc093blByb3BlcnR5KGkpJiYoZVtpXT10W2ldKTtlLnByb3RvdHlwZT1udWxsPT09dD9PYmplY3QuY3JlYXRlKHQpOihyLnByb3RvdHlwZT10LnByb3RvdHlwZSxuZXcgcil9LG49cig4Mikscz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gaSh0LGUpLHQucHJvdG90eXBlLmdldENpZHI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5NSD90aGlzLk1IOm51bGx9LHR9KG4uRkgpO3Qud0g9c30sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXIoNzQpLG49cig0KSxzPXIoMCksbz1yKDI3KSxhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuaW5kZXhlZERCPXdpbmRvdy5pbmRleGVkREJ8fHdpbmRvdy5tb3pJbmRleGVkREJ8fHdpbmRvdy53ZWJraXRJbmRleGVkREJ8fHdpbmRvdy5tc0luZGV4ZWREQix0aGlzLmxvZ2dlcj1zLkZyYW1ld29yay5yZXNvbHZlKHMuRnJhbWV3b3JrLlYuUikubG9nKCl9cmV0dXJuIGUucHJvdG90eXBlLnVIPWZ1bmN0aW9uKCl7dmFyIGU9bi5kZWZlcigpLHQ9dGhpcy5pbmRleGVkREIub3BlbihcIlByaXZhdGVJUERCXCIpO3JldHVybiB0Lm9udXBncmFkZW5lZWRlZD1mdW5jdGlvbigpe3QucmVzdWx0LmNyZWF0ZU9iamVjdFN0b3JlKFwiUHJpdmF0ZUlQU3RvcmVcIix7a2V5UGF0aDpcImlkXCJ9KX0sdC5vbnN1Y2Nlc3M9ZnVuY3Rpb24oKXt2YXIgcj10LnJlc3VsdDtlLnJlc29sdmUocil9LHQub25lcnJvcj1mdW5jdGlvbih0KXtlLnJlamVjdCh0KX0sZS5Tc30sZS5wcm90b3R5cGUuWkg9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2lmKHRoaXMuZ1kpcmV0dXJuIHRoaXMuZ1k7dmFyIHQ9c2V0VGltZW91dChmdW5jdGlvbigpe2UubG9nZ2VyLndhcm4oXCJQcml2YXRlIGxpc3QgcmV0cmlldmFsIHRpbWVvdXRcIiksci5yZWplY3QoXCJQcml2YXRlIGxpc3QgdGltZW91dFwiKX0sNGUzKSxyPW4uZGVmZXIoKTtpZihvLkdkLl9oJiZ0aGlzLmluZGV4ZWREQil7dGhpcy51SCgpLnRoZW4oZnVuY3Rpb24obil7dmFyIHM9bi50cmFuc2FjdGlvbihcIlByaXZhdGVJUFN0b3JlXCIsXCJyZWFkd3JpdGVcIiksbz1zLm9iamVjdFN0b3JlKFwiUHJpdmF0ZUlQU3RvcmVcIiksYT1vLmdldChcImlwbGlzdFwiKTthLm9uc3VjY2Vzcz1mdW5jdGlvbigpe2NsZWFyVGltZW91dCh0KTt2YXIgZT1bXTtpLnNMKGEucmVzdWx0KXx8aS5zTChhLnJlc3VsdC52YWx1ZSl8fChlPWEucmVzdWx0LnZhbHVlLnNwbGl0KFwifFwiKSksci5yZXNvbHZlKGUpLG4uY2xvc2UoKX0sYS5vbmVycm9yPWZ1bmN0aW9uKGkpe2NsZWFyVGltZW91dCh0KSxlLmxvZ2dlci53YXJuKFwiSSBnb3QgYW4gZXJyb3Igb24gaW5kZXhlZCBkYiBcIitpLm1lc3NhZ2UpLHIucmVqZWN0KFwiRXJyb3Igb24gaW5kZXhlZERCIFwiK2kubWVzc2FnZSl9fSkuZmFpbChmdW5jdGlvbihpKXtjbGVhclRpbWVvdXQodCksZS5sb2dnZXIud2FybihcIkRCIGlzIG5vdCBvcGVuIHdpdGggZXJyb3JcIitpLm1lc3NhZ2UpLHIucmVqZWN0KFwiREIgaXMgbm90IG9wZW4gd2l0aCBlcnJvciBcIitpLm1lc3NhZ2UpfSl9ZWxzZSBjbGVhclRpbWVvdXQodCksci5yZWplY3Qoe21lc3NhZ2U6XCJEQiBpcyBub3QgcmVhZHkgb3IgZW5hYmxlZFwifSk7cmV0dXJuIHRoaXMuZ1k9ci5Tcyx0aGlzLmdZfSxlLnByb3RvdHlwZS5peD1mdW5jdGlvbihlKXt2YXIgdD10aGlzO2lmKG8uR2QuX2gmJnRoaXMuaW5kZXhlZERCKXt2YXIgcj1lLmpvaW4oXCJ8XCIpO3RoaXMudUgoKS50aGVuKGZ1bmN0aW9uKGkpe3ZhciBuPWkudHJhbnNhY3Rpb24oXCJQcml2YXRlSVBTdG9yZVwiLFwicmVhZHdyaXRlXCIpO24ub2JqZWN0U3RvcmUoXCJQcml2YXRlSVBTdG9yZVwiKS5wdXQoe2lkOlwiaXBsaXN0XCIsdmFsdWU6cn0pLG4ub25jb21wbGV0ZT1mdW5jdGlvbigpe3QubG9nZ2VyLmRlYnVnKFwiU3RvcmluZyBzaXRlIG1hdGNoZWQgaXBzIFtcIitlLmpvaW4oXCIsXCIpK1wiXVwiKSxpLmNsb3NlKCl9fSkuZmFpbChmdW5jdGlvbihlKXt0LmxvZ2dlci53YXJuKFwiREIgaXMgbm90IG9wZW4gd2l0aCBlcnJvciBcIitlLm1lc3NhZ2UpfSl9fSxlfSgpO3QuUUg9YX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXIoMTcpLmxvZyxuPXIoMTcpLld1LHM9e3VMOmZ1bmN0aW9uKCl7d2luZG93Lk1lZGlhU3RyZWFtPXdpbmRvdy5NZWRpYVN0cmVhbXx8d2luZG93LndlYmtpdE1lZGlhU3RyZWFtfSxwTDpmdW5jdGlvbigpe1wib2JqZWN0XCIhPXR5cGVvZiB3aW5kb3d8fCF3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb258fFwib250cmFja1wiaW4gd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUsXCJvbnRyYWNrXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLkVZfSxzZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0aGlzLkVZJiYodGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKFwidHJhY2tcIix0aGlzLkVZKSx0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJhZGRzdHJlYW1cIix0aGlzLnZZKSksdGhpcy5hZGRFdmVudExpc3RlbmVyKFwidHJhY2tcIix0aGlzLkVZPWUpLHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihcImFkZHN0cmVhbVwiLHRoaXMudlk9ZnVuY3Rpb24oZSl7ZS5zdHJlYW0uYWRkRXZlbnRMaXN0ZW5lcihcImFkZHRyYWNrXCIsZnVuY3Rpb24ocil7dmFyIGk9bmV3IEV2ZW50KFwidHJhY2tcIik7aS50cmFjaz1yLnRyYWNrLGkucmVjZWl2ZXI9e3RyYWNrOnIudHJhY2t9LGkuc3RyZWFtcz1bZS5zdHJlYW1dLHQuZGlzcGF0Y2hFdmVudChpKX0pLGUuc3RyZWFtLmdldFRyYWNrcygpLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIHI9bmV3IEV2ZW50KFwidHJhY2tcIik7ci50cmFjaz10LHIucmVjZWl2ZXI9e3RyYWNrOnR9LHIuc3RyZWFtcz1bZS5zdHJlYW1dLHRoaXMuZGlzcGF0Y2hFdmVudChyKX0uYmluZCh0aGlzKSl9LmJpbmQodGhpcykpfX0pfSxkTDpmdW5jdGlvbigpe2lmKFwib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3cmJndpbmRvdy5SVENQZWVyQ29ubmVjdGlvbiYmIShcImdldFNlbmRlcnNcImluIFJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZSkmJlwiY3JlYXRlRFRNRlNlbmRlclwiaW4gUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlKXtSVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0U2VuZGVycz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnlZfTt2YXIgZT1SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkU3RyZWFtLHQ9UlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnJlbW92ZVN0cmVhbTtSVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkU3RyZWFtPWZ1bmN0aW9uKHQpe3ZhciByPXRoaXM7ci55WT1yLnlZfHxbXSxlLmFwcGx5KHIsW3RdKSx0LmdldFRyYWNrcygpLmZvckVhY2goZnVuY3Rpb24oZSl7ci55WS5wdXNoKHt0cmFjazplLGdldCBUWSgpe3JldHVybiB2b2lkIDA9PT10aGlzLm1ZJiYoXCJhdWRpb1wiPT09ZS5raW5kP3RoaXMubVk9ci5jcmVhdGVEVE1GU2VuZGVyKGUpOnRoaXMubVk9bnVsbCksdGhpcy5tWX19KX0pfSxSVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUucmVtb3ZlU3RyZWFtPWZ1bmN0aW9uKGUpe3ZhciByPXRoaXM7ci55WT1yLnlZfHxbXSx0LmFwcGx5KHIsW2VdKSxlLmdldFRyYWNrcygpLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9ci55WS5maW5kKGZ1bmN0aW9uKHQpe3JldHVybiB0LnRyYWNrPT09ZX0pO3QmJnIueVkuc3BsaWNlKHIueVkuaW5kZXhPZih0KSwxKX0pfX19LGxMOmZ1bmN0aW9uKCl7XCJvYmplY3RcIj09dHlwZW9mIHdpbmRvdyYmKCF3aW5kb3cuSFRNTE1lZGlhRWxlbWVudHx8XCJzcmNPYmplY3RcImluIHdpbmRvdy5IVE1MTWVkaWFFbGVtZW50LnByb3RvdHlwZXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdy5IVE1MTWVkaWFFbGVtZW50LnByb3RvdHlwZSxcInNyY09iamVjdFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5JWX0sc2V0OmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7aWYodGhpcy5JWT1lLHRoaXMuc3JjJiZVUkwucmV2b2tlT2JqZWN0VVJMKHRoaXMuc3JjKSwhZSlyZXR1cm4gdm9pZCh0aGlzLnNyYz1cIlwiKTt0aGlzLnNyYz1VUkwuY3JlYXRlT2JqZWN0VVJMKGUpLGUuYWRkRXZlbnRMaXN0ZW5lcihcImFkZHRyYWNrXCIsZnVuY3Rpb24oKXt0LnNyYyYmVVJMLnJldm9rZU9iamVjdFVSTCh0LnNyYyksdC5zcmM9VVJMLmNyZWF0ZU9iamVjdFVSTChlKX0pLGUuYWRkRXZlbnRMaXN0ZW5lcihcInJlbW92ZXRyYWNrXCIsZnVuY3Rpb24oKXt0LnNyYyYmVVJMLnJldm9rZU9iamVjdFVSTCh0LnNyYyksdC5zcmM9VVJMLmNyZWF0ZU9iamVjdFVSTChlKX0pfX0pKX0sYUw6ZnVuY3Rpb24oKXt3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb258fCh3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb249ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaShcIlBlZXJDb25uZWN0aW9uXCIpLGUmJmUuU1kmJihlLlJZPWUuU1kpLG5ldyB3ZWJraXRSVENQZWVyQ29ubmVjdGlvbihlLHQpfSx3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlPXdlYmtpdFJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZSx3ZWJraXRSVENQZWVyQ29ubmVjdGlvbi53WSYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbixcImdlbmVyYXRlQ2VydGlmaWNhdGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHdlYmtpdFJUQ1BlZXJDb25uZWN0aW9uLndZfX0pKTt2YXIgZT1SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0U3RhdHM7UlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFN0YXRzPWZ1bmN0aW9uKHQscixpKXt2YXIgbj10aGlzLHM9YXJndW1lbnRzO2lmKGFyZ3VtZW50cy5sZW5ndGg+MCYmXCJmdW5jdGlvblwiPT10eXBlb2YgdClyZXR1cm4gZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7aWYoMD09PWUubGVuZ3RoJiYoMD09PWFyZ3VtZW50cy5sZW5ndGh8fFwiZnVuY3Rpb25cIiE9dHlwZW9mIGFyZ3VtZW50c1swXSkpcmV0dXJuIGUuYXBwbHkodGhpcyxbXSk7dmFyIG89ZnVuY3Rpb24oZSl7dmFyIHQ9e307cmV0dXJuIGUucmVzdWx0KCkuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgcj17aWQ6ZS5pZCx0aW1lc3RhbXA6ZS50aW1lc3RhbXAsdHlwZTp7Ylk6XCJsb2NhbC1jYW5kaWRhdGVcIixDWTpcInJlbW90ZS1jYW5kaWRhdGVcIn1bZS50eXBlXXx8ZS50eXBlfTtlLm5hbWVzKCkuZm9yRWFjaChmdW5jdGlvbih0KXtyW3RdPWUuX1kodCl9KSx0W3IuaWRdPXJ9KSx0fSxhPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgTWFwKE9iamVjdC5rZXlzKGUpLm1hcChmdW5jdGlvbih0KXtyZXR1cm5bdCxlW3RdXX0pKX07aWYoYXJndW1lbnRzLmxlbmd0aD49Mil7dmFyIGg9ZnVuY3Rpb24oZSl7c1sxXShhKG8oZSkpKX07cmV0dXJuIGUuYXBwbHkodGhpcyxbaCxhcmd1bWVudHNbMF1dKX1yZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24odCxyKXtlLmFwcGx5KG4sW2Z1bmN0aW9uKGUpe3QoYShvKGUpKSl9LHJdKX0pLnRoZW4ocixpKX0sbi52ZXJzaW9uPDUxJiZbXCJzZXRMb2NhbERlc2NyaXB0aW9uXCIsXCJzZXRSZW1vdGVEZXNjcmlwdGlvblwiLFwiYWRkSWNlQ2FuZGlkYXRlXCJdLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9UlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlW2VdO1JUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZVtlXT1mdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cyxyPXRoaXMsaT1uZXcgUHJvbWlzZShmdW5jdGlvbihpLG4pe3QuYXBwbHkocixbZVswXSxpLG5dKX0pO3JldHVybiBlLmxlbmd0aDwyP2k6aS50aGVuKGZ1bmN0aW9uKCl7ZVsxXS5hcHBseShudWxsLFtdKX0sZnVuY3Rpb24odCl7ZS5sZW5ndGg+PTMmJmVbMl0uYXBwbHkobnVsbCxbdF0pfSl9fSksbi52ZXJzaW9uPDUyJiZbXCJjcmVhdGVPZmZlclwiLFwiY3JlYXRlQW5zd2VyXCJdLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9UlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlW2VdO1JUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZVtlXT1mdW5jdGlvbigpe3ZhciBlPXRoaXM7aWYoYXJndW1lbnRzLmxlbmd0aDwxfHwxPT09YXJndW1lbnRzLmxlbmd0aCYmXCJvYmplY3RcIj09dHlwZW9mIGFyZ3VtZW50c1swXSl7dmFyIHI9MT09PWFyZ3VtZW50cy5sZW5ndGg/YXJndW1lbnRzWzBdOnZvaWQgMDtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24oaSxuKXt0LmFwcGx5KGUsW2ksbixyXSl9KX1yZXR1cm4gdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSksW1wic2V0TG9jYWxEZXNjcmlwdGlvblwiLFwic2V0UmVtb3RlRGVzY3JpcHRpb25cIixcImFkZEljZUNhbmRpZGF0ZVwiXS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PVJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZVtlXTtSVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGVbZV09ZnVuY3Rpb24oKXtyZXR1cm4gYXJndW1lbnRzWzBdPW5ldyhcImFkZEljZUNhbmRpZGF0ZVwiPT09ZT9SVENJY2VDYW5kaWRhdGU6UlRDU2Vzc2lvbkRlc2NyaXB0aW9uKShhcmd1bWVudHNbMF0pLHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0pO3ZhciB0PVJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRJY2VDYW5kaWRhdGU7UlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZEljZUNhbmRpZGF0ZT1mdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHNbMF0/dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk6KGFyZ3VtZW50c1sxXSYmYXJndW1lbnRzWzFdLmFwcGx5KG51bGwpLFByb21pc2UucmVzb2x2ZSgpKX19fTtlLmk9e3VMOnMudUwscEw6cy5wTCxkTDpzLmRMLGxMOnMubEwsYUw6cy5hTCxjTDpyKDEyMyl9fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9cigxNykubG9nLG49cigxNykuV3U7ZS5pPWZ1bmN0aW9uKCl7dmFyIGU9ZnVuY3Rpb24oZSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fGUuUFl8fGUub3B0aW9uYWwpcmV0dXJuIGU7dmFyIHQ9e307cmV0dXJuIE9iamVjdC5rZXlzKGUpLmZvckVhY2goZnVuY3Rpb24ocil7aWYoXCJyZXF1aXJlXCIhPT1yJiZcImFkdmFuY2VkXCIhPT1yJiZcIm1lZGlhU291cmNlXCIhPT1yKXt2YXIgaT1cIm9iamVjdFwiPT10eXBlb2YgZVtyXT9lW3JdOntBWTplW3JdfTt2b2lkIDAhPT1pLk9ZJiZcIm51bWJlclwiPT10eXBlb2YgaS5PWSYmKGkubWluPWkubWF4PWkuT1kpO3ZhciBuPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU/ZSt0LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK3Quc2xpY2UoMSk6XCJkZXZpY2VJZFwiPT09dD9cInNvdXJjZUlkXCI6dH07aWYodm9pZCAwIT09aS5BWSl7dC5vcHRpb25hbD10Lm9wdGlvbmFsfHxbXTt2YXIgcz17fTtcIm51bWJlclwiPT10eXBlb2YgaS5BWT8oc1tuKFwibWluXCIscildPWkuQVksdC5vcHRpb25hbC5wdXNoKHMpLHM9e30sc1tuKFwibWF4XCIscildPWkuQVksdC5vcHRpb25hbC5wdXNoKHMpKTooc1tuKFwiXCIscildPWkuQVksdC5vcHRpb25hbC5wdXNoKHMpKX12b2lkIDAhPT1pLk9ZJiZcIm51bWJlclwiIT10eXBlb2YgaS5PWT8odC5QWT10LlBZfHx7fSx0LlBZW24oXCJcIixyKV09aS5PWSk6W1wibWluXCIsXCJtYXhcIl0uZm9yRWFjaChmdW5jdGlvbihlKXt2b2lkIDAhPT1pW2VdJiYodC5QWT10LlBZfHx7fSx0LlBZW24oZSxyKV09aVtlXSl9KX19KSxlLk5ZJiYodC5vcHRpb25hbD0odC5vcHRpb25hbHx8W10pLmNvbmNhdChlLk5ZKSksdH0sdD1mdW5jdGlvbih0LHIpe2lmKHQ9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0KSksdCYmdC5IUiYmKHQuSFI9ZSh0LkhSKSksdCYmXCJvYmplY3RcIj09dHlwZW9mIHQudmlkZW8pe3ZhciBzPXQudmlkZW8uRFk7cz1zJiYoXCJvYmplY3RcIj09dHlwZW9mIHM/czp7QVk6c30pO3ZhciBvPW4udmVyc2lvbjw1OTtpZihzJiYoXCJ1c2VyXCI9PT1zLk9ZfHxcImVudmlyb25tZW50XCI9PT1zLk9ZfHxcInVzZXJcIj09PXMuQVl8fFwiZW52aXJvbm1lbnRcIj09PXMuQVkpJiYoIW5hdmlnYXRvci5tZWRpYURldmljZXMua1l8fCFuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmtZKCkuRFl8fG8pJiYoZGVsZXRlIHQudmlkZW8uRFksXCJlbnZpcm9ubWVudFwiPT09cy5PWXx8XCJlbnZpcm9ubWVudFwiPT09cy5BWSkpcmV0dXJuIG5hdmlnYXRvci5tZWRpYURldmljZXMuTFkoKS50aGVuKGZ1bmN0aW9uKG4pe249bi5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuXCJ2aWRlb2lucHV0XCI9PT1lLmtpbmR9KTt2YXIgbz1uLmZpbmQoZnVuY3Rpb24oZSl7cmV0dXJuLTEhPT1lLmxhYmVsLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihcImJhY2tcIil9KXx8bi5sZW5ndGgmJm5bbi5sZW5ndGgtMV07cmV0dXJuIG8mJih0LnZpZGVvLk1ZPXMuT1k/e09ZOm8uTVl9OntBWTpvLk1ZfSksdC52aWRlbz1lKHQudmlkZW8pLGkoXCJjaHJvbWU6IFwiK0pTT04uc3RyaW5naWZ5KHQpKSxyKHQpfSk7dC52aWRlbz1lKHQudmlkZW8pfXJldHVybiBpKFwiY2hyb21lOiBcIitKU09OLnN0cmluZ2lmeSh0KSkscih0KX0scj1mdW5jdGlvbihlKXtyZXR1cm57bmFtZTp7Rlk6XCJOb3RBbGxvd2VkRXJyb3JcIixVWTpcIk92ZXJjb25zdHJhaW5lZEVycm9yXCJ9W2UubmFtZV18fGUubmFtZSxtZXNzYWdlOmUubWVzc2FnZSxCWTplLkhZLHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubmFtZSsodGhpcy5tZXNzYWdlJiZcIjogXCIpK3RoaXMubWVzc2FnZX19fSxzPWZ1bmN0aW9uKGUsaSxuKXt0KGUsZnVuY3Rpb24oZSl7bmF2aWdhdG9yLndlYmtpdEdldFVzZXJNZWRpYShlLGksZnVuY3Rpb24oZSl7bihyKGUpKX0pfSl9O25hdmlnYXRvci5nZXRVc2VyTWVkaWE9czt2YXIgbz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24odCxyKXtuYXZpZ2F0b3IuZ2V0VXNlck1lZGlhKGUsdCxyKX0pfTtpZihuYXZpZ2F0b3IubWVkaWFEZXZpY2VzfHwobmF2aWdhdG9yLm1lZGlhRGV2aWNlcz17Z2V0VXNlck1lZGlhOm8sTFk6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24oZSl7dmFyIHQ9e0hSOlwiYXVkaW9pbnB1dFwiLHZpZGVvOlwidmlkZW9pbnB1dFwifTtyZXR1cm4gTWVkaWFTdHJlYW1UcmFjay5nZXRTb3VyY2VzKGZ1bmN0aW9uKHIpe2Uoci5tYXAoZnVuY3Rpb24oZSl7cmV0dXJue2xhYmVsOmUubGFiZWwsa2luZDp0W2Uua2luZF0sTVk6ZS5pZCx4WTpcIlwifX0pKX0pfSl9LGtZOmZ1bmN0aW9uKCl7cmV0dXJue01ZOiEwLHFZOiEwLERZOiEwLEdZOiEwLGhlaWdodDohMCx3aWR0aDohMH19fSksbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEpe3ZhciBhPW5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhLmJpbmQobmF2aWdhdG9yLm1lZGlhRGV2aWNlcyk7bmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWE9ZnVuY3Rpb24oZSl7cmV0dXJuIHQoZSxmdW5jdGlvbihlKXtyZXR1cm4gYShlKS50aGVuKGZ1bmN0aW9uKHQpe2lmKGUuSFImJiF0LmdldEF1ZGlvVHJhY2tzKCkubGVuZ3RofHxlLnZpZGVvJiYhdC5nZXRWaWRlb1RyYWNrcygpLmxlbmd0aCl0aHJvdyB0LmdldFRyYWNrcygpLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5zdG9wKCl9KSxuZXcgRE9NRXhjZXB0aW9uKFwiXCIsXCJOb3RGb3VuZEVycm9yXCIpO3JldHVybiB0fSxmdW5jdGlvbihlKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QocihlKSl9KX0pfX1lbHNlIG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhPWZ1bmN0aW9uKGUpe3JldHVybiBvKGUpfTt2b2lkIDA9PT1uYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmFkZEV2ZW50TGlzdGVuZXImJihuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmFkZEV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oKXtpKFwiRHVtbXkgbWVkaWFEZXZpY2VzLmFkZEV2ZW50TGlzdGVuZXIgY2FsbGVkLlwiKX0pLHZvaWQgMD09PW5hdmlnYXRvci5tZWRpYURldmljZXMucmVtb3ZlRXZlbnRMaXN0ZW5lciYmKG5hdmlnYXRvci5tZWRpYURldmljZXMucmVtb3ZlRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbigpe2koXCJEdW1teSBtZWRpYURldmljZXMucmVtb3ZlRXZlbnRMaXN0ZW5lciBjYWxsZWQuXCIpfSl9fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaShlKXt2YXIgdD1lLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm5cImF1ZGlvXCI9PT1lLmtpbmR9KSxyPWUuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVyblwidmlkZW9cIj09PWUua2luZH0pO2ZvcihlPVtdO3QubGVuZ3RofHxyLmxlbmd0aDspdC5sZW5ndGgmJmUucHVzaCh0LnNoaWZ0KCkpLHIubGVuZ3RoJiZlLnB1c2goci5zaGlmdCgpKTtyZXR1cm4gZX1mdW5jdGlvbiBuKGUpe3ZhciB0PSExO3JldHVybiBlPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoZSkpLGUuZmlsdGVyKGZ1bmN0aW9uKGUpe2lmKGUmJihlLlZZfHxlLnVybCkpe3ZhciByPWUuVll8fGUudXJsLGk9XCJzdHJpbmdcIj09dHlwZW9mIHI7cmV0dXJuIGkmJihyPVtyXSkscj1yLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gMCE9PWUuaW5kZXhPZihcInR1cm46XCIpfHwtMT09PWUuaW5kZXhPZihcInRyYW5zcG9ydD11ZHBcIil8fC0xIT09ZS5pbmRleE9mKFwidHVybjpbXCIpfHx0PzA9PT1lLmluZGV4T2YoXCJzdHVuOlwiKSYmby52ZXJzaW9uPj0xNDM5MzoodD0hMCwhMCl9KSxkZWxldGUgZS51cmwsZS5WWT1pP3JbMF06ciwhIXIubGVuZ3RofXJldHVybiExfSl9dmFyIHM9cigxMjUpLG89cigxNykuV3UsYT17YUw6ZnVuY3Rpb24oKXtpZih3aW5kb3cualkmJih3aW5kb3cuUlRDSWNlQ2FuZGlkYXRlfHwod2luZG93LlJUQ0ljZUNhbmRpZGF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gZX0pLHdpbmRvdy5SVENTZXNzaW9uRGVzY3JpcHRpb258fCh3aW5kb3cuUlRDU2Vzc2lvbkRlc2NyaXB0aW9uPWZ1bmN0aW9uKGUpe3JldHVybiBlfSksby52ZXJzaW9uPDE1MDI1KSl7dmFyIGU9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihNZWRpYVN0cmVhbVRyYWNrLnByb3RvdHlwZSxcImVuYWJsZWRcIik7T2JqZWN0LmRlZmluZVByb3BlcnR5KE1lZGlhU3RyZWFtVHJhY2sucHJvdG90eXBlLFwiZW5hYmxlZFwiLHtzZXQ6ZnVuY3Rpb24odCl7ZS5zZXQuY2FsbCh0aGlzLHQpO3ZhciByPW5ldyBFdmVudChcImVuYWJsZWRcIik7ci5lbmFibGVkPXQsdGhpcy5kaXNwYXRjaEV2ZW50KHIpfX0pfXdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbj1mdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO2lmKFtcImFkZEV2ZW50TGlzdGVuZXJcIixcInJlbW92ZUV2ZW50TGlzdGVuZXJcIixcImRpc3BhdGNoRXZlbnRcIl0uZm9yRWFjaChmdW5jdGlvbihlKXt0W2VdPXJbZV0uYmluZChyKX0pLHRoaXMub25pY2VjYW5kaWRhdGU9bnVsbCx0aGlzLm9uYWRkc3RyZWFtPW51bGwsdGhpcy5RWT1udWxsLHRoaXMub25yZW1vdmVzdHJlYW09bnVsbCx0aGlzLm9uc2lnbmFsaW5nc3RhdGVjaGFuZ2U9bnVsbCx0aGlzLm9uaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlPW51bGwsdGhpcy5LWT1udWxsLHRoaXMub25uZWdvdGlhdGlvbm5lZWRlZD1udWxsLHRoaXMub25kYXRhY2hhbm5lbD1udWxsLHRoaXMuWVk9W10sdGhpcy5XWT1bXSx0aGlzLmdldExvY2FsU3RyZWFtcz1mdW5jdGlvbigpe3JldHVybiB0LllZfSx0aGlzLmdldFJlbW90ZVN0cmVhbXM9ZnVuY3Rpb24oKXtyZXR1cm4gdC5XWX0sdGhpcy5sb2NhbERlc2NyaXB0aW9uPW5ldyBSVENTZXNzaW9uRGVzY3JpcHRpb24oe3R5cGU6XCJcIixzZHA6XCJcIn0pLHRoaXMucmVtb3RlRGVzY3JpcHRpb249bmV3IFJUQ1Nlc3Npb25EZXNjcmlwdGlvbih7dHlwZTpcIlwiLHNkcDpcIlwifSksdGhpcy5zaWduYWxpbmdTdGF0ZT1cInN0YWJsZVwiLHRoaXMuaWNlQ29ubmVjdGlvblN0YXRlPVwibmV3XCIsdGhpcy5pY2VHYXRoZXJpbmdTdGF0ZT1cIm5ld1wiLHRoaXMuelk9e0pZOlwiYWxsXCIsaWNlU2VydmVyczpbXX0sZSYmZS5TWSlzd2l0Y2goZS5TWSl7Y2FzZVwiYWxsXCI6Y2FzZVwicmVsYXlcIjp0aGlzLnpZLkpZPWUuU1l9dGhpcy5YWT1lJiZcIm1heC1idW5kbGVcIj09PWUuWlksZSYmZS5pY2VTZXJ2ZXJzJiYodGhpcy56WS5pY2VTZXJ2ZXJzPW4oZS5pY2VTZXJ2ZXJzKSksdGhpcy4kWT1lLHRoaXMuZVc9W10sdGhpcy50Vz1bXX0sd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5yVz1mdW5jdGlvbigpe3ZhciBlPW5ldyBFdmVudChcImljZWdhdGhlcmluZ3N0YXRlY2hhbmdlXCIpO3RoaXMuZGlzcGF0Y2hFdmVudChlKSxudWxsIT09dGhpcy5LWSYmdGhpcy5LWShlKX0sd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5pVz1mdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1zLm5XKGUubG9jYWxEZXNjcmlwdGlvbi5zZHApO3RoaXMudFcuZm9yRWFjaChmdW5jdGlvbihyKXtpZihyLmNhbmRpZGF0ZSYmMCE9PU9iamVjdC5rZXlzKHIuY2FuZGlkYXRlKS5sZW5ndGgpdFtyLmNhbmRpZGF0ZS5zZHBNTGluZUluZGV4KzFdKz1cImE9XCIrci5jYW5kaWRhdGUuY2FuZGlkYXRlK1wiXFxyXFxuXCI7ZWxzZSBmb3IodmFyIGk9MTtpPHQubGVuZ3RoO2krKyktMT09PXRbaV0uaW5kZXhPZihcIlxcclxcbmE9ZW5kLW9mLWNhbmRpZGF0ZXNcXHJcXG5cIikmJih0W2ldKz1cImE9ZW5kLW9mLWNhbmRpZGF0ZXNcXHJcXG5cIik7aWYoZS5sb2NhbERlc2NyaXB0aW9uLnNkcD10LmpvaW4oXCJcIiksZS5kaXNwYXRjaEV2ZW50KHIpLG51bGwhPT1lLm9uaWNlY2FuZGlkYXRlJiZlLm9uaWNlY2FuZGlkYXRlKHIpLCFyLmNhbmRpZGF0ZSYmXCJjb21wbGV0ZVwiIT09ZS5pY2VHYXRoZXJpbmdTdGF0ZSl7ZS5lVy5ldmVyeShmdW5jdGlvbihlKXtyZXR1cm4gZS5zVyYmXCJjb21wbGV0ZWRcIj09PWUuc1cuc3RhdGV9KSYmXCJjb21wbGV0ZVwiIT09ZS5vVyYmKGUuaWNlR2F0aGVyaW5nU3RhdGU9XCJjb21wbGV0ZVwiLGUuclcoKSl9fSksdGhpcy50Vz1bXX0sd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRDb25maWd1cmF0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJFl9LHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkU3RyZWFtPWZ1bmN0aW9uKGUpe2lmKG8udmVyc2lvbj49MTUwMjUpdGhpcy5ZWS5wdXNoKGUpO2Vsc2V7dmFyIHQ9ZS5jbG9uZSgpO2UuZ2V0VHJhY2tzKCkuZm9yRWFjaChmdW5jdGlvbihlLHIpe3ZhciBpPXQuZ2V0VHJhY2tzKClbcl07ZS5hZGRFdmVudExpc3RlbmVyKFwiZW5hYmxlZFwiLGZ1bmN0aW9uKGUpe2kuZW5hYmxlZD1lLmVuYWJsZWR9KX0pLHRoaXMuWVkucHVzaCh0KX10aGlzLmFXKCl9LHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUucmVtb3ZlU3RyZWFtPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuWVkuaW5kZXhPZihlKTt0Pi0xJiYodGhpcy5ZWS5zcGxpY2UodCwxKSx0aGlzLmFXKCkpfSx3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFNlbmRlcnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lVy5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuISFlLmhXfSkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLmhXfSl9LHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0UmVjZWl2ZXJzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZVcuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiEhZS5jV30pLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5jV30pfSx3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnVXPWZ1bmN0aW9uKGUsdCl7dmFyIHI9e2xXOltdLHBXOltdLGRXOltdfSxpPWZ1bmN0aW9uKGUsdCl7ZT1wYXJzZUludChlLDEwKTtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKylpZih0W3JdLmZXPT09ZXx8dFtyXS5nVz09PWUpcmV0dXJuIHRbcl19LG49ZnVuY3Rpb24oZSx0LHIsbil7dmFyIHM9aShlLnBhcmFtZXRlcnMuRVcsciksbz1pKHQucGFyYW1ldGVycy5FVyxuKTtyZXR1cm4gcyYmbyYmcy5uYW1lLnRvTG93ZXJDYXNlKCk9PT1vLm5hbWUudG9Mb3dlckNhc2UoKX07cmV0dXJuIGUubFcuZm9yRWFjaChmdW5jdGlvbihpKXtmb3IodmFyIHM9MDtzPHQubFcubGVuZ3RoO3MrKyl7dmFyIG89dC5sV1tzXTtpZihpLm5hbWUudG9Mb3dlckNhc2UoKT09PW8ubmFtZS50b0xvd2VyQ2FzZSgpJiZpLnZXPT09by52Vyl7aWYoXCJydHhcIj09PWkubmFtZS50b0xvd2VyQ2FzZSgpJiZpLnBhcmFtZXRlcnMmJm8ucGFyYW1ldGVycy5FVyYmIW4oaSxvLGUubFcsdC5sVykpY29udGludWU7bz1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG8pKSxvLnlXPU1hdGgubWluKGkueVcsby55Vyksci5sVy5wdXNoKG8pLG8uVFc9by5UVy5maWx0ZXIoZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTA7dDxpLlRXLmxlbmd0aDt0KyspaWYoaS5UV1t0XS50eXBlPT09ZS50eXBlJiZpLlRXW3RdLm1XPT09ZS5tVylyZXR1cm4hMDtyZXR1cm4hMX0pO2JyZWFrfX19KSxlLnBXLmZvckVhY2goZnVuY3Rpb24oZSl7Zm9yKHZhciBpPTA7aTx0LnBXLmxlbmd0aDtpKyspe3ZhciBuPXQucFdbaV07aWYoZS51cmk9PT1uLnVyaSl7ci5wVy5wdXNoKG4pO2JyZWFrfX19KSxyfSx3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLklXPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxpPW5ldyBSVENJY2VHYXRoZXJlcihyLnpZKSxuPW5ldyBSVENJY2VUcmFuc3BvcnQoaSk7aS5TVz1mdW5jdGlvbihvKXt2YXIgYT1uZXcgRXZlbnQoXCJpY2VjYW5kaWRhdGVcIik7YS5jYW5kaWRhdGU9e3NkcE1pZDplLHNkcE1MaW5lSW5kZXg6dH07dmFyIGg9by5jYW5kaWRhdGUsYz0haHx8MD09PU9iamVjdC5rZXlzKGgpLmxlbmd0aDtjP3ZvaWQgMD09PWkuc3RhdGUmJihpLnN0YXRlPVwiY29tcGxldGVkXCIpOihoLlJXPVwiUlRDUFwiPT09bi5SVz8yOjEsYS5jYW5kaWRhdGUuY2FuZGlkYXRlPXMud1coaCkpO3ZhciB1PXMublcoci5sb2NhbERlc2NyaXB0aW9uLnNkcCk7dVthLmNhbmRpZGF0ZS5zZHBNTGluZUluZGV4KzFdKz1jP1wiYT1lbmQtb2YtY2FuZGlkYXRlc1xcclxcblwiOlwiYT1cIithLmNhbmRpZGF0ZS5jYW5kaWRhdGUrXCJcXHJcXG5cIixyLmxvY2FsRGVzY3JpcHRpb24uc2RwPXUuam9pbihcIlwiKTt2YXIgbD1yLmJXP3IuYlc6ci5lVyxwPWwuZXZlcnkoZnVuY3Rpb24oZSl7cmV0dXJuIGUuc1cmJlwiY29tcGxldGVkXCI9PT1lLnNXLnN0YXRlfSk7c3dpdGNoKHIuaWNlR2F0aGVyaW5nU3RhdGUpe2Nhc2VcIm5ld1wiOmN8fHIudFcucHVzaChhKSxjJiZwJiZyLnRXLnB1c2gobmV3IEV2ZW50KFwiaWNlY2FuZGlkYXRlXCIpKTticmVhaztjYXNlXCJnYXRoZXJpbmdcIjpyLmlXKCksY3x8KHIuZGlzcGF0Y2hFdmVudChhKSxudWxsIT09ci5vbmljZWNhbmRpZGF0ZSYmci5vbmljZWNhbmRpZGF0ZShhKSkscCYmKHIuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoXCJpY2VjYW5kaWRhdGVcIikpLG51bGwhPT1yLm9uaWNlY2FuZGlkYXRlJiZyLm9uaWNlY2FuZGlkYXRlKG5ldyBFdmVudChcImljZWNhbmRpZGF0ZVwiKSksci5pY2VHYXRoZXJpbmdTdGF0ZT1cImNvbXBsZXRlXCIsci5yVygpKX19LG4uX1c9ZnVuY3Rpb24oKXtyLlBXKCl9O3ZhciBvPW5ldyBSVENEdGxzVHJhbnNwb3J0KG4pO3JldHVybiBvLkFXPWZ1bmN0aW9uKCl7ci5QVygpfSxvLm9uZXJyb3I9ZnVuY3Rpb24oKXtvLnN0YXRlPVwiZmFpbGVkXCIsci5QVygpfSx7c1c6aSxPVzpuLE5XOm99fSx3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLkRXPWZ1bmN0aW9uKGUsdCxyKXt2YXIgaT10aGlzLnVXKGUua1csZS5MVyk7dCYmZS5oVyYmKGkuTVc9ZS5GVyxpLlVXPXtCVzpzLkhXfSxlLnhXLmxlbmd0aCYmKGkuVVcucVc9ZS54V1swXS5xVyksZS5oVy5zZW5kKGkpKSxyJiZlLmNXJiYoXCJ2aWRlb1wiPT09ZS5raW5kJiZlLnhXJiZvLnZlcnNpb248MTUwMTkmJmUueFcuZm9yRWFjaChmdW5jdGlvbihlKXtkZWxldGUgZS5HV30pLGkuTVc9ZS54VyxpLlVXPXtCVzplLkJXfSxlLkZXLmxlbmd0aCYmKGkuVVcucVc9ZS5GV1swXS5xVyksZS5jVy5WVyhpKSl9LHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuc2V0TG9jYWxEZXNjcmlwdGlvbj1mdW5jdGlvbihlKXt2YXIgdCxyLGk9dGhpcztpZihcIm9mZmVyXCI9PT1lLnR5cGUpdGhpcy5iVyYmKHQ9cy5uVyhlLnNkcCkscj10LnNoaWZ0KCksdC5mb3JFYWNoKGZ1bmN0aW9uKGUsdCl7dmFyIHI9cy5qVyhlKTtpLmJXW3RdLmtXPXJ9KSx0aGlzLmVXPXRoaXMuYlcsZGVsZXRlIHRoaXMuYlcpO2Vsc2UgaWYoXCJhbnN3ZXJcIj09PWUudHlwZSl7dD1zLm5XKGkucmVtb3RlRGVzY3JpcHRpb24uc2RwKSxyPXQuc2hpZnQoKTt2YXIgbj1zLlFXKHIsXCJhPWljZS1saXRlXCIpLmxlbmd0aD4wO3QuZm9yRWFjaChmdW5jdGlvbihlLHQpe3ZhciBvPWkuZVdbdF0sYT1vLnNXLGg9by5PVyxjPW8uTlcsdT1vLmtXLGw9by5MVztpZihcIjBcIiE9PWUuc3BsaXQoXCJcXG5cIiwxKVswXS5zcGxpdChcIiBcIiwyKVsxXSYmIW8uS1cpe3ZhciBwPXMuWVcoZSxyKSxkPXMuV1coZSxyKTtuJiYoZC56Vz1cInNlcnZlclwiKSxpLlhZJiYwIT09dHx8KGguc3RhcnQoYSxwLG4/XCJjb250cm9sbGluZ1wiOlwiY29udHJvbGxlZFwiKSxjLnN0YXJ0KGQpKTt2YXIgZj1pLnVXKHUsbCk7aS5EVyhvLGYubFcubGVuZ3RoPjAsITEpfX0pfXN3aXRjaCh0aGlzLmxvY2FsRGVzY3JpcHRpb249e3R5cGU6ZS50eXBlLHNkcDplLnNkcH0sZS50eXBlKXtjYXNlXCJvZmZlclwiOnRoaXMuSlcoXCJoYXZlLWxvY2FsLW9mZmVyXCIpO2JyZWFrO2Nhc2VcImFuc3dlclwiOnRoaXMuSlcoXCJzdGFibGVcIik7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgVHlwZUVycm9yKCd1bnN1cHBvcnRlZCB0eXBlIFwiJytlLnR5cGUrJ1wiJyl9dmFyIG89YXJndW1lbnRzLmxlbmd0aD4xJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBhcmd1bWVudHNbMV07aWYobyl7dmFyIGE9YXJndW1lbnRzWzFdO3dpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YSgpLFwibmV3XCI9PT1pLmljZUdhdGhlcmluZ1N0YXRlJiYoaS5pY2VHYXRoZXJpbmdTdGF0ZT1cImdhdGhlcmluZ1wiLGkuclcoKSksaS5pVygpfSwwKX12YXIgaD1Qcm9taXNlLnJlc29sdmUoKTtyZXR1cm4gaC50aGVuKGZ1bmN0aW9uKCl7b3x8KFwibmV3XCI9PT1pLmljZUdhdGhlcmluZ1N0YXRlJiYoaS5pY2VHYXRoZXJpbmdTdGF0ZT1cImdhdGhlcmluZ1wiLGkuclcoKSksd2luZG93LnNldFRpbWVvdXQoaS5pVy5iaW5kKGkpLDUwMCkpfSksaH0sd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5zZXRSZW1vdGVEZXNjcmlwdGlvbj1mdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9bmV3IE1lZGlhU3RyZWFtLGk9W10sbj1zLm5XKGUuc2RwKSxhPW4uc2hpZnQoKSxoPXMuUVcoYSxcImE9aWNlLWxpdGVcIikubGVuZ3RoPjA7c3dpdGNoKHRoaXMuWFk9cy5RVyhhLFwiYT1ncm91cDpCVU5ETEUgXCIpLmxlbmd0aD4wLG4uZm9yRWFjaChmdW5jdGlvbihuLGMpe3ZhciB1PXMuWFcobiksbD11WzBdLnN1YnN0cigyKS5zcGxpdChcIiBcIikscD1sWzBdLGQ9XCIwXCI9PT1sWzFdLGY9cy5aVyhuLGEpLGc9cy5RVyhuLFwiYT1taWQ6XCIpO2lmKGc9Zy5sZW5ndGg/Z1swXS5zdWJzdHIoNik6cy4kVygpLFwiYXBwbGljYXRpb25cIj09PXAmJlwiRFRMUy9TQ1RQXCI9PT1sWzJdKXJldHVybiB2b2lkKHQuZVdbY109e2V6OmcsS1c6ITB9KTt2YXIgRSx2LHksVCxtLEksUyxSLHcsYixDLF8sUD1zLmpXKG4pO2R8fChDPXMuWVcobixhKSxfPXMuV1cobixhKSxfLnpXPVwiY2xpZW50XCIpLFI9cy50eihuKTt2YXIgQSxPPXMuUVcobixcImE9c3NyYzpcIikubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBzLnJ6KGUpfSkuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVyblwiY25hbWVcIj09PWUuaXp9KVswXTtPJiYoQT1PLnZhbHVlKTt2YXIgTj1zLlFXKG4sXCJhPWVuZC1vZi1jYW5kaWRhdGVzXCIsYSkubGVuZ3RoPjAsRD1zLlFXKG4sXCJhPWNhbmRpZGF0ZTpcIikubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBzLmV4KGUpfSkuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVyblwiMVwiPT09ZS5SV30pO2lmKFwib2ZmZXJcIiE9PWUudHlwZXx8ZClcImFuc3dlclwiIT09ZS50eXBlfHxkfHwoRT10LmVXW2NdLHY9RS5zVyx5PUUuT1csVD1FLk5XLG09RS5oVyxJPUUuY1csUz1FLkZXLHc9RS5rVyx0LmVXW2NdLnhXPVIsdC5lV1tjXS5MVz1QLHQuZVdbY10uQlc9QSwoaHx8TikmJkQubGVuZ3RoJiZ5Lm56KEQpLHQuWFkmJjAhPT1jfHwoeS5zdGFydCh2LEMsXCJjb250cm9sbGluZ1wiKSxULnN0YXJ0KF8pKSx0LkRXKEUsXCJzZW5kcmVjdlwiPT09Znx8XCJyZWN2b25seVwiPT09ZixcInNlbmRyZWN2XCI9PT1mfHxcInNlbmRvbmx5XCI9PT1mKSwhSXx8XCJzZW5kcmVjdlwiIT09ZiYmXCJzZW5kb25seVwiIT09Zj9kZWxldGUgRS5jVzooYj1JLnRyYWNrLGkucHVzaChbYixJXSksci5hZGRUcmFjayhiKSkpO2Vsc2V7dmFyIGs9dC5YWSYmYz4wP3tzVzp0LmVXWzBdLnNXLE9XOnQuZVdbMF0uT1csTlc6dC5lV1swXS5OV306dC5JVyhnLGMpO2lmKCFOfHx0LlhZJiYwIT09Y3x8ay5PVy5ueihEKSx3PVJUQ1J0cFJlY2VpdmVyLnN6KHApLG8udmVyc2lvbjwxNTAxOSYmKHcubFc9dy5sVy5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuXCJydHhcIiE9PWUubmFtZX0pKSxTPVt7cVc6MTAwMSooMipjKzIpfV0sXCJzZW5kcmVjdlwiIT09ZiYmXCJzZW5kb25seVwiIT09Znx8KEk9bmV3IFJUQ1J0cFJlY2VpdmVyKGsuTlcscCksYj1JLnRyYWNrLGkucHVzaChbYixJXSksci5hZGRUcmFjayhiKSksdC5ZWS5sZW5ndGg+MCYmdC5ZWVswXS5nZXRUcmFja3MoKS5sZW5ndGg+PWMpe3ZhciBMO1wiYXVkaW9cIj09PXA/TD10LllZWzBdLmdldEF1ZGlvVHJhY2tzKClbMF06XCJ2aWRlb1wiPT09cCYmKEw9dC5ZWVswXS5nZXRWaWRlb1RyYWNrcygpWzBdKSxMJiYoby52ZXJzaW9uPj0xNTAxOSYmXCJ2aWRlb1wiPT09cCYmKFNbMF0uR1c9e3FXOjEwMDEqKDIqYysyKSsxfSksbT1uZXcgUlRDUnRwU2VuZGVyKEwsay5OVykpfXQuZVdbY109e3NXOmsuc1csT1c6ay5PVyxOVzprLk5XLGtXOncsTFc6UCxoVzptLGNXOkksa2luZDpwLGV6OmcsQlc6QSxGVzpTLHhXOlJ9LHQuRFcodC5lV1tjXSwhMSxcInNlbmRyZWN2XCI9PT1mfHxcInNlbmRvbmx5XCI9PT1mKX19KSx0aGlzLnJlbW90ZURlc2NyaXB0aW9uPXt0eXBlOmUudHlwZSxzZHA6ZS5zZHB9LGUudHlwZSl7Y2FzZVwib2ZmZXJcIjp0aGlzLkpXKFwiaGF2ZS1yZW1vdGUtb2ZmZXJcIik7YnJlYWs7Y2FzZVwiYW5zd2VyXCI6dGhpcy5KVyhcInN0YWJsZVwiKTticmVhaztkZWZhdWx0OnRocm93IG5ldyBUeXBlRXJyb3IoJ3Vuc3VwcG9ydGVkIHR5cGUgXCInK2UudHlwZSsnXCInKX1yZXR1cm4gci5nZXRUcmFja3MoKS5sZW5ndGgmJih0LldZLnB1c2gociksd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgZT1uZXcgRXZlbnQoXCJhZGRzdHJlYW1cIik7ZS5zdHJlYW09cix0LmRpc3BhdGNoRXZlbnQoZSksbnVsbCE9PXQub25hZGRzdHJlYW0mJndpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5vbmFkZHN0cmVhbShlKX0sMCksaS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciBpPWVbMF0sbj1lWzFdLHM9bmV3IEV2ZW50KFwidHJhY2tcIik7cy50cmFjaz1pLHMucmVjZWl2ZXI9bixzLnN0cmVhbXM9W3JdLHQuZGlzcGF0Y2hFdmVudChzKSxudWxsIT09dC5RWSYmd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXt0LlFZKHMpfSwwKX0pfSwwKSksYXJndW1lbnRzLmxlbmd0aD4xJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBhcmd1bWVudHNbMV0mJndpbmRvdy5zZXRUaW1lb3V0KGFyZ3VtZW50c1sxXSwwKSxQcm9taXNlLnJlc29sdmUoKX0sd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbigpe3RoaXMuZVcuZm9yRWFjaChmdW5jdGlvbihlKXtlLk9XJiZlLk9XLnN0b3AoKSxlLk5XJiZlLk5XLnN0b3AoKSxlLmhXJiZlLmhXLnN0b3AoKSxlLmNXJiZlLmNXLnN0b3AoKX0pLHRoaXMuSlcoXCJjbG9zZWRcIil9LHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuSlc9ZnVuY3Rpb24oZSl7dGhpcy5zaWduYWxpbmdTdGF0ZT1lO3ZhciB0PW5ldyBFdmVudChcInNpZ25hbGluZ3N0YXRlY2hhbmdlXCIpO3RoaXMuZGlzcGF0Y2hFdmVudCh0KSxudWxsIT09dGhpcy5vbnNpZ25hbGluZ3N0YXRlY2hhbmdlJiZ0aGlzLm9uc2lnbmFsaW5nc3RhdGVjaGFuZ2UodCl9LHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYVc9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgRXZlbnQoXCJuZWdvdGlhdGlvbm5lZWRlZFwiKTt0aGlzLmRpc3BhdGNoRXZlbnQoZSksbnVsbCE9PXRoaXMub25uZWdvdGlhdGlvbm5lZWRlZCYmdGhpcy5vbm5lZ290aWF0aW9ubmVlZGVkKGUpfSx3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLlBXPWZ1bmN0aW9uKCl7dmFyIGUsdD10aGlzLHI9e296OjAsY2xvc2VkOjAsYXo6MCxoejowLGNvbm5lY3RlZDowLGN6OjAsbGw6MH07aWYodGhpcy5lVy5mb3JFYWNoKGZ1bmN0aW9uKGUpe3JbZS5PVy5zdGF0ZV0rKyxyW2UuTlcuc3RhdGVdKyt9KSxyLmNvbm5lY3RlZCs9ci5jeixlPVwibmV3XCIsci5sbD4wP2U9XCJmYWlsZWRcIjpyLmF6PjB8fHIuaHo+MD9lPVwiY29ubmVjdGluZ1wiOnIudXo+MD9lPVwiZGlzY29ubmVjdGVkXCI6ci5vej4wP2U9XCJuZXdcIjooci5jb25uZWN0ZWQ+MHx8ci5jej4wKSYmKGU9XCJjb25uZWN0ZWRcIiksZSE9PXQuaWNlQ29ubmVjdGlvblN0YXRlKXt0LmljZUNvbm5lY3Rpb25TdGF0ZT1lO3ZhciBpPW5ldyBFdmVudChcImljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZVwiKTt0aGlzLmRpc3BhdGNoRXZlbnQoaSksbnVsbCE9PXRoaXMub25pY2Vjb25uZWN0aW9uc3RhdGVjaGFuZ2UmJnRoaXMub25pY2Vjb25uZWN0aW9uc3RhdGVjaGFuZ2UoaSl9fSx3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmNyZWF0ZU9mZmVyPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztpZih0aGlzLmJXKXRocm93IG5ldyBFcnJvcihcImNyZWF0ZU9mZmVyIGNhbGxlZCB3aGlsZSB0aGVyZSBpcyBhIHBlbmRpbmcgb2ZmZXIuXCIpO3ZhciB0OzE9PT1hcmd1bWVudHMubGVuZ3RoJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBhcmd1bWVudHNbMF0/dD1hcmd1bWVudHNbMF06Mz09PWFyZ3VtZW50cy5sZW5ndGgmJih0PWFyZ3VtZW50c1syXSk7dmFyIHI9W10sbj0wLGE9MDtpZih0aGlzLllZLmxlbmd0aCYmKG49dGhpcy5ZWVswXS5nZXRBdWRpb1RyYWNrcygpLmxlbmd0aCxhPXRoaXMuWVlbMF0uZ2V0VmlkZW9UcmFja3MoKS5sZW5ndGgpLHQpe2lmKHQuUFl8fHQub3B0aW9uYWwpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkxlZ2FjeSBtYW5kYXRvcnkvb3B0aW9uYWwgY29uc3RyYWludHMgbm90IHN1cHBvcnRlZC5cIik7dm9pZCAwIT09dC5seiYmKG49dC5seiksdm9pZCAwIT09dC5weiYmKGE9dC5weil9Zm9yKHRoaXMuWVkubGVuZ3RoJiZ0aGlzLllZWzBdLmdldFRyYWNrcygpLmZvckVhY2goZnVuY3Rpb24oZSl7ci5wdXNoKHtraW5kOmUua2luZCx0cmFjazplLGR6OlwiYXVkaW9cIj09PWUua2luZD9uPjA6YT4wfSksXCJhdWRpb1wiPT09ZS5raW5kP24tLTpcInZpZGVvXCI9PT1lLmtpbmQmJmEtLX0pO24+MHx8YT4wOyluPjAmJihyLnB1c2goe2tpbmQ6XCJhdWRpb1wiLGR6OiEwfSksbi0tKSxhPjAmJihyLnB1c2goe2tpbmQ6XCJ2aWRlb1wiLGR6OiEwfSksYS0tKTtyPWkocik7dmFyIGg9cy5meigpLGM9W107ci5mb3JFYWNoKGZ1bmN0aW9uKHQscil7dmFyIGk9dC50cmFjayxuPXQua2luZCxhPXMuJFcoKSxoPWUuWFkmJnI+MD97c1c6Y1swXS5zVyxPVzpjWzBdLk9XLE5XOmNbMF0uTld9OmUuSVcoYSxyKSx1PVJUQ1J0cFNlbmRlci5zeihuKTtvLnZlcnNpb248MTUwMTkmJih1LmxXPXUubFcuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVyblwicnR4XCIhPT1lLm5hbWV9KSksdS5sVy5mb3JFYWNoKGZ1bmN0aW9uKGUpe1wiSDI2NFwiPT09ZS5uYW1lJiZ2b2lkIDA9PT1lLnBhcmFtZXRlcnNbXCJnelwiXSYmKGUucGFyYW1ldGVyc1tcImd6XCJdPVwiMVwiKX0pO3ZhciBsLHAsZD1be3FXOjEwMDEqKDIqcisxKX1dO2kmJihvLnZlcnNpb24+PTE1MDE5JiZcInZpZGVvXCI9PT1uJiYoZFswXS5HVz17cVc6MTAwMSooMipyKzEpKzF9KSxsPW5ldyBSVENSdHBTZW5kZXIoaSxoLk5XKSksdC5keiYmKHA9bmV3IFJUQ1J0cFJlY2VpdmVyKGguTlcsbikpLGNbcl09e3NXOmguc1csT1c6aC5PVyxOVzpoLk5XLGtXOnUsTFc6bnVsbCxoVzpsLGNXOnAsa2luZDpuLGV6OmEsRlc6ZCx4VzpudWxsfX0pLHRoaXMuWFkmJihoKz1cImE9Z3JvdXA6QlVORExFIFwiK2MubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLmV6fSkuam9pbihcIiBcIikrXCJcXHJcXG5cIiksci5mb3JFYWNoKGZ1bmN0aW9uKHQscil7dmFyIGk9Y1tyXTtoKz1zLkV6KGksaS5rVyxcIm9mZmVyXCIsZS5ZWVswXSl9KSx0aGlzLmJXPWM7dmFyIHU9bmV3IFJUQ1Nlc3Npb25EZXNjcmlwdGlvbih7dHlwZTpcIm9mZmVyXCIsc2RwOmh9KTtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aCYmXCJmdW5jdGlvblwiPT10eXBlb2YgYXJndW1lbnRzWzBdJiZ3aW5kb3cuc2V0VGltZW91dChhcmd1bWVudHNbMF0sMCx1KSxQcm9taXNlLnJlc29sdmUodSl9LHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuY3JlYXRlQW5zd2VyPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXMuZnooKTt0aGlzLlhZJiYodCs9XCJhPWdyb3VwOkJVTkRMRSBcIit0aGlzLmVXLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5len0pLmpvaW4oXCIgXCIpK1wiXFxyXFxuXCIpLHRoaXMuZVcuZm9yRWFjaChmdW5jdGlvbihyKXtpZihyLktXKXJldHVybiB2b2lkKHQrPVwibT1hcHBsaWNhdGlvbiAwIERUTFMvU0NUUCA1MDAwXFxyXFxuYz1JTiBJUDQgMC4wLjAuMFxcclxcbmE9bWlkOlwiK3IuZXorXCJcXHJcXG5cIik7dmFyIGk9ZS51VyhyLmtXLHIuTFcpO3QrPXMuRXoocixpLFwiYW5zd2VyXCIsZS5ZWVswXSl9KTt2YXIgcj1uZXcgUlRDU2Vzc2lvbkRlc2NyaXB0aW9uKHt0eXBlOlwiYW5zd2VyXCIsc2RwOnR9KTtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aCYmXCJmdW5jdGlvblwiPT10eXBlb2YgYXJndW1lbnRzWzBdJiZ3aW5kb3cuc2V0VGltZW91dChhcmd1bWVudHNbMF0sMCxyKSxQcm9taXNlLnJlc29sdmUocil9LHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkSWNlQ2FuZGlkYXRlPWZ1bmN0aW9uKGUpe2lmKGUpe3ZhciB0PWUuc2RwTUxpbmVJbmRleDtpZihlLnNkcE1pZClmb3IodmFyIHI9MDtyPHRoaXMuZVcubGVuZ3RoO3IrKylpZih0aGlzLmVXW3JdLmV6PT09ZS5zZHBNaWQpe3Q9cjticmVha312YXIgaT10aGlzLmVXW3RdO2lmKGkpe3ZhciBuPU9iamVjdC5rZXlzKGUuY2FuZGlkYXRlKS5sZW5ndGg+MD9zLmV4KGUuY2FuZGlkYXRlKTp7fTtpZihcInRjcFwiPT09bi5wcm90b2NvbCYmKDA9PT1uLnBvcnR8fDk9PT1uLnBvcnQpKXJldHVybiBQcm9taXNlLnJlc29sdmUoKTtpZihcIjFcIiE9PW4uUlcpcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO2kuT1cudnoobik7dmFyIG89cy5uVyh0aGlzLnJlbW90ZURlc2NyaXB0aW9uLnNkcCk7b1t0KzFdKz0obi50eXBlP2UuY2FuZGlkYXRlLnRyaW0oKTpcImE9ZW5kLW9mLWNhbmRpZGF0ZXNcIikrXCJcXHJcXG5cIix0aGlzLnJlbW90ZURlc2NyaXB0aW9uLnNkcD1vLmpvaW4oXCJcIil9fWVsc2UgZm9yKHZhciBhPTA7YTx0aGlzLmVXLmxlbmd0aDthKyspaWYodGhpcy5lV1thXS5PVy52eih7fSksdGhpcy5YWSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg+MSYmXCJmdW5jdGlvblwiPT10eXBlb2YgYXJndW1lbnRzWzFdJiZ3aW5kb3cuc2V0VGltZW91dChhcmd1bWVudHNbMV0sMCksUHJvbWlzZS5yZXNvbHZlKCl9LHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0U3RhdHM9ZnVuY3Rpb24oKXt2YXIgZT1bXTt0aGlzLmVXLmZvckVhY2goZnVuY3Rpb24odCl7W1wicnRwU2VuZGVyXCIsXCJydHBSZWNlaXZlclwiLFwiaWNlR2F0aGVyZXJcIixcImljZVRyYW5zcG9ydFwiLFwiZHRsc1RyYW5zcG9ydFwiXS5mb3JFYWNoKGZ1bmN0aW9uKHIpe3Rbcl0mJmUucHVzaCh0W3JdLmdldFN0YXRzKCkpfSl9KTt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGFyZ3VtZW50c1sxXSYmYXJndW1lbnRzWzFdLHI9ZnVuY3Rpb24oZSl7cmV0dXJue3l6OlwiaW5ib3VuZC1ydHBcIixUejpcIm91dGJvdW5kLXJ0cFwiLG16OlwiY2FuZGlkYXRlLXBhaXJcIixiWTpcImxvY2FsLWNhbmRpZGF0ZVwiLENZOlwicmVtb3RlLWNhbmRpZGF0ZVwifVtlLnR5cGVdfHxlLnR5cGV9O3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihpKXt2YXIgbj1uZXcgTWFwO1Byb21pc2UuYWxsKGUpLnRoZW4oZnVuY3Rpb24oZSl7ZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe09iamVjdC5rZXlzKGUpLmZvckVhY2goZnVuY3Rpb24odCl7ZVt0XS50eXBlPXIoZVt0XSksbi5zZXQodCxlW3RdKX0pfSksdCYmd2luZG93LnNldFRpbWVvdXQodCwwLG4pLGkobil9KX0pfX19O2UuaT17YUw6YS5hTCxjTDpyKDEyNil9fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9e307aS4kVz1mdW5jdGlvbigpe3JldHVybiBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwxMCl9LGkuSFc9aS4kVygpLGkuWFc9ZnVuY3Rpb24oZSl7cmV0dXJuIGUudHJpbSgpLnNwbGl0KFwiXFxuXCIpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS50cmltKCl9KX0saS5uVz1mdW5jdGlvbihlKXtyZXR1cm4gZS5zcGxpdChcIlxcbm09XCIpLm1hcChmdW5jdGlvbihlLHQpe3JldHVybih0PjA/XCJtPVwiK2U6ZSkudHJpbSgpK1wiXFxyXFxuXCJ9KX0saS5RVz1mdW5jdGlvbihlLHQpe3JldHVybiBpLlhXKGUpLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gMD09PWUuaW5kZXhPZih0KX0pfSxpLmV4PWZ1bmN0aW9uKGUpe3ZhciB0O3Q9MD09PWUuaW5kZXhPZihcImE9Y2FuZGlkYXRlOlwiKT9lLnN1YnN0cmluZygxMikuc3BsaXQoXCIgXCIpOmUuc3Vic3RyaW5nKDEwKS5zcGxpdChcIiBcIik7Zm9yKHZhciByPXtJejp0WzBdLFJXOnRbMV0scHJvdG9jb2w6dFsyXS50b0xvd2VyQ2FzZSgpLFN6OnBhcnNlSW50KHRbM10sMTApLGlwOnRbNF0scG9ydDpwYXJzZUludCh0WzVdLDEwKSx0eXBlOnRbN119LGk9ODtpPHQubGVuZ3RoO2krPTIpc3dpdGNoKHRbaV0pe2Nhc2VcInJhZGRyXCI6ci5Sej10W2krMV07YnJlYWs7Y2FzZVwicnBvcnRcIjpyLnd6PXBhcnNlSW50KHRbaSsxXSwxMCk7YnJlYWs7Y2FzZVwidGNwdHlwZVwiOnIuYno9dFtpKzFdO2JyZWFrO2RlZmF1bHQ6clt0W2ldXT10W2krMV19cmV0dXJuIHJ9LGkud1c9ZnVuY3Rpb24oZSl7dmFyIHQ9W107dC5wdXNoKGUuSXopLHQucHVzaChlLlJXKSx0LnB1c2goZS5wcm90b2NvbC50b1VwcGVyQ2FzZSgpKSx0LnB1c2goZS5TeiksdC5wdXNoKGUuaXApLHQucHVzaChlLnBvcnQpO3ZhciByPWUudHlwZTtyZXR1cm4gdC5wdXNoKFwidHlwXCIpLHQucHVzaChyKSxcImhvc3RcIiE9PXImJmUuUnomJmUud3omJih0LnB1c2goXCJyYWRkclwiKSx0LnB1c2goZS5SeiksdC5wdXNoKFwicnBvcnRcIiksdC5wdXNoKGUud3opKSxlLmJ6JiZcInRjcFwiPT09ZS5wcm90b2NvbC50b0xvd2VyQ2FzZSgpJiYodC5wdXNoKFwidGNwdHlwZVwiKSx0LnB1c2goZS5ieikpLFwiY2FuZGlkYXRlOlwiK3Quam9pbihcIiBcIil9LGkuQ3o9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3Vic3RyKDE0KS5zcGxpdChcIiBcIil9LGkuX3o9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zdWJzdHIoOSkuc3BsaXQoXCIgXCIpLHI9e2ZXOnBhcnNlSW50KHQuc2hpZnQoKSwxMCl9O3JldHVybiB0PXRbMF0uc3BsaXQoXCIvXCIpLHIubmFtZT10WzBdLHIudlc9cGFyc2VJbnQodFsxXSwxMCksci55Vz0zPT09dC5sZW5ndGg/cGFyc2VJbnQodFsyXSwxMCk6MSxyfSxpLlB6PWZ1bmN0aW9uKGUpe3ZhciB0PWUuZlc7cmV0dXJuIHZvaWQgMCE9PWUuZ1cmJih0PWUuZ1cpLFwiYT1ydHBtYXA6XCIrdCtcIiBcIitlLm5hbWUrXCIvXCIrZS52VysoMSE9PWUueVc/XCIvXCIrZS55VzpcIlwiKStcIlxcclxcblwifSxpLkF6PWZ1bmN0aW9uKGUpe3ZhciB0PWUuc3Vic3RyKDkpLnNwbGl0KFwiIFwiKTtyZXR1cm57aWQ6cGFyc2VJbnQodFswXSwxMCksZGlyZWN0aW9uOnRbMF0uaW5kZXhPZihcIi9cIik+MD90WzBdLnNwbGl0KFwiL1wiKVsxXTpcInNlbmRyZWN2XCIsdXJpOnRbMV19fSxpLk96PWZ1bmN0aW9uKGUpe3JldHVyblwiYT1leHRtYXA6XCIrKGUuaWR8fGUuTnopKyhlLmRpcmVjdGlvbiYmXCJzZW5kcmVjdlwiIT09ZS5kaXJlY3Rpb24/XCIvXCIrZS5kaXJlY3Rpb246XCJcIikrXCIgXCIrZS51cmkrXCJcXHJcXG5cIn0saS5Eej1mdW5jdGlvbihlKXtmb3IodmFyIHQscj17fSxpPWUuc3Vic3RyKGUuaW5kZXhPZihcIiBcIikrMSkuc3BsaXQoXCI7XCIpLG49MDtuPGkubGVuZ3RoO24rKyl0PWlbbl0udHJpbSgpLnNwbGl0KFwiPVwiKSxyW3RbMF0udHJpbSgpXT10WzFdO3JldHVybiByfSxpLmt6PWZ1bmN0aW9uKGUpe3ZhciB0PVwiXCIscj1lLmZXO2lmKHZvaWQgMCE9PWUuZ1cmJihyPWUuZ1cpLGUucGFyYW1ldGVycyYmT2JqZWN0LmtleXMoZS5wYXJhbWV0ZXJzKS5sZW5ndGgpe3ZhciBpPVtdO09iamVjdC5rZXlzKGUucGFyYW1ldGVycykuZm9yRWFjaChmdW5jdGlvbih0KXtpLnB1c2godCtcIj1cIitlLnBhcmFtZXRlcnNbdF0pfSksdCs9XCJhPWZtdHA6XCIrcitcIiBcIitpLmpvaW4oXCI7XCIpK1wiXFxyXFxuXCJ9cmV0dXJuIHR9LGkuTHo9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zdWJzdHIoZS5pbmRleE9mKFwiIFwiKSsxKS5zcGxpdChcIiBcIik7cmV0dXJue3R5cGU6dC5zaGlmdCgpLG1XOnQuam9pbihcIiBcIil9fSxpLk16PWZ1bmN0aW9uKGUpe3ZhciB0PVwiXCIscj1lLmZXO3JldHVybiB2b2lkIDAhPT1lLmdXJiYocj1lLmdXKSxlLlRXJiZlLlRXLmxlbmd0aCYmZS5UVy5mb3JFYWNoKGZ1bmN0aW9uKGUpe3QrPVwiYT1ydGNwLWZiOlwiK3IrXCIgXCIrZS50eXBlKyhlLm1XJiZlLm1XLmxlbmd0aD9cIiBcIitlLm1XOlwiXCIpK1wiXFxyXFxuXCJ9KSx0fSxpLnJ6PWZ1bmN0aW9uKGUpe3ZhciB0PWUuaW5kZXhPZihcIiBcIikscj17cVc6cGFyc2VJbnQoZS5zdWJzdHIoNyx0LTcpLDEwKX0saT1lLmluZGV4T2YoXCI6XCIsdCk7cmV0dXJuIGk+LTE/KHIuaXo9ZS5zdWJzdHIodCsxLGktdC0xKSxyLnZhbHVlPWUuc3Vic3RyKGkrMSkpOnIuaXo9ZS5zdWJzdHIodCsxKSxyfSxpLkZ6PWZ1bmN0aW9uKGUpe3ZhciB0PWkuUVcoZSxcImE9bWlkOlwiKVswXTtpZih0KXJldHVybiB0LnN1YnN0cig2KX0saS5Vej1mdW5jdGlvbihlKXt2YXIgdD1lLnN1YnN0cigxNCkuc3BsaXQoXCIgXCIpO3JldHVybnthbGdvcml0aG06dFswXS50b0xvd2VyQ2FzZSgpLHZhbHVlOnRbMV19fSxpLldXPWZ1bmN0aW9uKGUsdCl7cmV0dXJue3pXOlwiYXV0b1wiLEJ6OmkuUVcoZSt0LFwiYT1maW5nZXJwcmludDpcIikubWFwKGkuVXopfX0saS5Iej1mdW5jdGlvbihlLHQpe3ZhciByPVwiYT1zZXR1cDpcIit0K1wiXFxyXFxuXCI7cmV0dXJuIGUuQnouZm9yRWFjaChmdW5jdGlvbihlKXtyKz1cImE9ZmluZ2VycHJpbnQ6XCIrZS5hbGdvcml0aG0rXCIgXCIrZS52YWx1ZStcIlxcclxcblwifSkscn0saS5ZVz1mdW5jdGlvbihlLHQpe3ZhciByPWkuWFcoZSk7cmV0dXJuIHI9ci5jb25jYXQoaS5YVyh0KSkse3h6OnIuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiAwPT09ZS5pbmRleE9mKFwiYT1pY2UtdWZyYWc6XCIpfSlbMF0uc3Vic3RyKDEyKSxwYXNzd29yZDpyLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gMD09PWUuaW5kZXhPZihcImE9aWNlLXB3ZDpcIil9KVswXS5zdWJzdHIoMTApfX0saS5xej1mdW5jdGlvbihlKXtyZXR1cm5cImE9aWNlLXVmcmFnOlwiK2UueHorXCJcXHJcXG5hPWljZS1wd2Q6XCIrZS5wYXNzd29yZCtcIlxcclxcblwifSxpLmpXPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD17bFc6W10scFc6W10sZFc6W10sVVc6W119LHI9aS5YVyhlKSxuPXJbMF0uc3BsaXQoXCIgXCIpLHM9MztzPG4ubGVuZ3RoO3MrKyl7dmFyIG89bltzXSxhPWkuUVcoZSxcImE9cnRwbWFwOlwiK28rXCIgXCIpWzBdO2lmKGEpe3ZhciBoPWkuX3ooYSksYz1pLlFXKGUsXCJhPWZtdHA6XCIrbytcIiBcIik7c3dpdGNoKGgucGFyYW1ldGVycz1jLmxlbmd0aD9pLkR6KGNbMF0pOnt9LGguVFc9aS5RVyhlLFwiYT1ydGNwLWZiOlwiK28rXCIgXCIpLm1hcChpLkx6KSx0LmxXLnB1c2goaCksaC5uYW1lLnRvVXBwZXJDYXNlKCkpe2Nhc2VcIlJFRFwiOmNhc2VcIlVMUEZFQ1wiOnQuZFcucHVzaChoLm5hbWUudG9VcHBlckNhc2UoKSl9fX1yZXR1cm4gaS5RVyhlLFwiYT1leHRtYXA6XCIpLmZvckVhY2goZnVuY3Rpb24oZSl7dC5wVy5wdXNoKGkuQXooZSkpfSksdH0saS5Hej1mdW5jdGlvbihlLHQpe3ZhciByPVwiXCI7cis9XCJtPVwiK2UrXCIgXCIscis9dC5sVy5sZW5ndGg+MD9cIjlcIjpcIjBcIixyKz1cIiBVRFAvVExTL1JUUC9TQVZQRiBcIixyKz10LmxXLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT09ZS5nVz9lLmdXOmUuZld9KS5qb2luKFwiIFwiKStcIlxcclxcblwiLHIrPVwiYz1JTiBJUDQgMC4wLjAuMFxcclxcblwiLHIrPVwiYT1ydGNwOjkgSU4gSVA0IDAuMC4wLjBcXHJcXG5cIix0LmxXLmZvckVhY2goZnVuY3Rpb24oZSl7cis9aS5QeihlKSxyKz1pLmt6KGUpLHIrPWkuTXooZSl9KTt2YXIgbj0wO3JldHVybiB0LmxXLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5Wej5uJiYobj1lLlZ6KX0pLG4+MCYmKHIrPVwiYT1tYXhwdGltZTpcIituK1wiXFxyXFxuXCIpLHIrPVwiYT1ydGNwLW11eFxcclxcblwiLHQucFcuZm9yRWFjaChmdW5jdGlvbihlKXtyKz1pLk96KGUpfSkscn0saS50ej1mdW5jdGlvbihlKXt2YXIgdCxyPVtdLG49aS5qVyhlKSxzPS0xIT09bi5kVy5pbmRleE9mKFwiUkVEXCIpLG89LTEhPT1uLmRXLmluZGV4T2YoXCJVTFBGRUNcIiksYT1pLlFXKGUsXCJhPXNzcmM6XCIpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gaS5yeihlKX0pLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm5cImNuYW1lXCI9PT1lLml6fSksaD1hLmxlbmd0aD4wJiZhWzBdLnFXLGM9aS5RVyhlLFwiYT1zc3JjLWdyb3VwOkZJRFwiKS5tYXAoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zcGxpdChcIiBcIik7cmV0dXJuIHQuc2hpZnQoKSx0Lm1hcChmdW5jdGlvbihlKXtyZXR1cm4gcGFyc2VJbnQoZSwxMCl9KX0pO2MubGVuZ3RoPjAmJmNbMF0ubGVuZ3RoPjEmJmNbMF1bMF09PT1oJiYodD1jWzBdWzFdKSxuLmxXLmZvckVhY2goZnVuY3Rpb24oZSl7aWYoXCJSVFhcIj09PWUubmFtZS50b1VwcGVyQ2FzZSgpJiZlLnBhcmFtZXRlcnMuRVcpe3ZhciBpPXtxVzpoLGp6OnBhcnNlSW50KGUucGFyYW1ldGVycy5FVywxMCksR1c6e3FXOnR9fTtyLnB1c2goaSkscyYmKGk9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShpKSksaS5Rej17cVc6dCxLejpvP1wicmVkK3VscGZlY1wiOlwicmVkXCJ9LHIucHVzaChpKSl9fSksMD09PXIubGVuZ3RoJiZoJiZyLnB1c2goe3FXOmh9KTt2YXIgdT1pLlFXKGUsXCJiPVwiKTtyZXR1cm4gdS5sZW5ndGgmJigwPT09dVswXS5pbmRleE9mKFwiYj1USUFTOlwiKT91PXBhcnNlSW50KHVbMF0uc3Vic3RyKDcpLDEwKTowPT09dVswXS5pbmRleE9mKFwiYj1BUzpcIikmJih1PXBhcnNlSW50KHVbMF0uc3Vic3RyKDUpLDEwKSksci5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UuWXo9dX0pKSxyfSxpLld6PWZ1bmN0aW9uKGUpe3ZhciB0PXt9LHI9aS5RVyhlLFwiYT1zc3JjOlwiKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGkucnooZSl9KS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuXCJjbmFtZVwiPT09ZS5pen0pWzBdO3ImJih0LkJXPXIudmFsdWUsdC5xVz1yLnFXKTt2YXIgbj1pLlFXKGUsXCJhPXJ0Y3AtcnNpemVcIik7dC56ej1uLmxlbmd0aD4wLHQuSno9MD09PW4ubGVuZ3RoO3ZhciBzPWkuUVcoZSxcImE9cnRjcC1tdXhcIik7cmV0dXJuIHQuWHo9cy5sZW5ndGg+MCx0fSxpLlp6PWZ1bmN0aW9uKGUpe3ZhciB0LHI9aS5RVyhlLFwiYT1tc2lkOlwiKTtpZigxPT09ci5sZW5ndGgpcmV0dXJuIHQ9clswXS5zdWJzdHIoNykuc3BsaXQoXCIgXCIpLHtzdHJlYW06dFswXSx0cmFjazp0WzFdfTt2YXIgbj1pLlFXKGUsXCJhPXNzcmM6XCIpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gaS5yeihlKX0pLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm5cIm1zaWRcIj09PWUuaXp9KTtyZXR1cm4gbi5sZW5ndGg+MD8odD1uWzBdLnZhbHVlLnNwbGl0KFwiIFwiKSx7c3RyZWFtOnRbMF0sdHJhY2s6dFsxXX0pOnZvaWQgMH0saS5mej1mdW5jdGlvbigpe3JldHVyblwidj0wXFxyXFxubz10aGlzaXNhZGFwdGVyb3J0YyA4MTY5NjM5OTE1NjQ2OTQzMTM3IDIgSU4gSVA0IDEyNy4wLjAuMVxcclxcbnM9LVxcclxcbnQ9MCAwXFxyXFxuXCJ9LGkuRXo9ZnVuY3Rpb24oZSx0LHIsbil7dmFyIHM9aS5HeihlLmtpbmQsdCk7aWYocys9aS5xeihlLnNXLiR6KCkpLHMrPWkuSHooZS5OVy4keigpLFwib2ZmZXJcIj09PXI/XCJhY3RwYXNzXCI6XCJhY3RpdmVcIikscys9XCJhPW1pZDpcIitlLmV6K1wiXFxyXFxuXCIsZS5kaXJlY3Rpb24/cys9XCJhPVwiK2UuZGlyZWN0aW9uK1wiXFxyXFxuXCI6ZS5oVyYmZS5jVz9zKz1cImE9c2VuZHJlY3ZcXHJcXG5cIjplLmhXP3MrPVwiYT1zZW5kb25seVxcclxcblwiOmUuY1c/cys9XCJhPXJlY3Zvbmx5XFxyXFxuXCI6cys9XCJhPWluYWN0aXZlXFxyXFxuXCIsZS5oVyl7dmFyIG89XCJtc2lkOlwiK24uaWQrXCIgXCIrZS5oVy50cmFjay5pZCtcIlxcclxcblwiO3MrPVwiYT1cIitvLHMrPVwiYT1zc3JjOlwiK2UuRldbMF0ucVcrXCIgXCIrbyxlLkZXWzBdLkdXJiYocys9XCJhPXNzcmM6XCIrZS5GV1swXS5HVy5xVytcIiBcIitvLHMrPVwiYT1zc3JjLWdyb3VwOkZJRCBcIitlLkZXWzBdLnFXK1wiIFwiK2UuRldbMF0uR1cucVcrXCJcXHJcXG5cIil9cmV0dXJuIHMrPVwiYT1zc3JjOlwiK2UuRldbMF0ucVcrXCIgY25hbWU6XCIraS5IVytcIlxcclxcblwiLGUuaFcmJmUuRldbMF0uR1cmJihzKz1cImE9c3NyYzpcIitlLkZXWzBdLkdXLnFXK1wiIGNuYW1lOlwiK2kuSFcrXCJcXHJcXG5cIiksc30saS5aVz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcj1pLlhXKGUpLG49MDtuPHIubGVuZ3RoO24rKylzd2l0Y2gocltuXSl7Y2FzZVwiYT1zZW5kcmVjdlwiOmNhc2VcImE9c2VuZG9ubHlcIjpjYXNlXCJhPXJlY3Zvbmx5XCI6Y2FzZVwiYT1pbmFjdGl2ZVwiOnJldHVybiByW25dLnN1YnN0cigyKX1yZXR1cm4gdD9pLlpXKHQpOlwic2VuZHJlY3ZcIn0saS5lSj1mdW5jdGlvbihlKXtyZXR1cm4gaS5YVyhlKVswXS5zcGxpdChcIiBcIilbMF0uc3Vic3RyKDIpfSxpLnpzPWZ1bmN0aW9uKGUpe3JldHVyblwiMFwiPT09ZS5zcGxpdChcIiBcIiwyKVsxXX0sZS5pPWl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtlLmk9ZnVuY3Rpb24oKXt2YXIgZT1mdW5jdGlvbihlKXtyZXR1cm57bmFtZTp7Rlk6XCJOb3RBbGxvd2VkRXJyb3JcIn1bZS5uYW1lXXx8ZS5uYW1lLG1lc3NhZ2U6ZS5tZXNzYWdlLEJZOmUuQlksdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uYW1lfX19LHQ9bmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEuYmluZChuYXZpZ2F0b3IubWVkaWFEZXZpY2VzKTtuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYT1mdW5jdGlvbihyKXtyZXR1cm4gdChyKS5jYXRjaChmdW5jdGlvbih0KXtyZXR1cm4gUHJvbWlzZS5yZWplY3QoZSh0KSl9KX19fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9cigxNykuV3Usbj17cEw6ZnVuY3Rpb24oKXtcIm9iamVjdFwiIT10eXBlb2Ygd2luZG93fHwhd2luZG93LlJUQ1BlZXJDb25uZWN0aW9ufHxcIm9udHJhY2tcImluIHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGV8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLFwib250cmFja1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5FWX0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuRVkmJih0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0cmFja1wiLHRoaXMuRVkpLHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImFkZHN0cmVhbVwiLHRoaXMudlkpKSx0aGlzLmFkZEV2ZW50TGlzdGVuZXIoXCJ0cmFja1wiLHRoaXMuRVk9ZSksdGhpcy5hZGRFdmVudExpc3RlbmVyKFwiYWRkc3RyZWFtXCIsdGhpcy52WT1mdW5jdGlvbihlKXtlLnN0cmVhbS5nZXRUcmFja3MoKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciByPW5ldyBFdmVudChcInRyYWNrXCIpO3IudHJhY2s9dCxyLnJlY2VpdmVyPXt0cmFjazp0fSxyLnN0cmVhbXM9W2Uuc3RyZWFtXSx0aGlzLmRpc3BhdGNoRXZlbnQocil9LmJpbmQodGhpcykpfS5iaW5kKHRoaXMpKX19KX0sbEw6ZnVuY3Rpb24oKXtcIm9iamVjdFwiPT10eXBlb2Ygd2luZG93JiYoIXdpbmRvdy5IVE1MTWVkaWFFbGVtZW50fHxcInNyY09iamVjdFwiaW4gd2luZG93LkhUTUxNZWRpYUVsZW1lbnQucHJvdG90eXBlfHxPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LkhUTUxNZWRpYUVsZW1lbnQucHJvdG90eXBlLFwic3JjT2JqZWN0XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1velNyY09iamVjdH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMubW96U3JjT2JqZWN0PWV9fSkpfSxhTDpmdW5jdGlvbigpe2lmKFwib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3cmJih3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb258fHdpbmRvdy5tb3pSVENQZWVyQ29ubmVjdGlvbikpe3dpbmRvdy5SVENQZWVyQ29ubmVjdGlvbnx8KHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbj1mdW5jdGlvbihlLHQpe2lmKGkudmVyc2lvbjwzOCYmZSYmZS5pY2VTZXJ2ZXJzKXtmb3IodmFyIHI9W10sbj0wO248ZS5pY2VTZXJ2ZXJzLmxlbmd0aDtuKyspe3ZhciBzPWUuaWNlU2VydmVyc1tuXTtpZihzLmhhc093blByb3BlcnR5KFwidXJsc1wiKSlmb3IodmFyIG89MDtvPHMuVlkubGVuZ3RoO28rKyl7dmFyIGE9e3VybDpzLlZZW29dfTswPT09cy5WWVtvXS5pbmRleE9mKFwidHVyblwiKSYmKGEudXNlcm5hbWU9cy51c2VybmFtZSxhLnRKPXMudEopLHIucHVzaChhKX1lbHNlIHIucHVzaChlLmljZVNlcnZlcnNbbl0pfWUuaWNlU2VydmVycz1yfXJldHVybiBuZXcgbW96UlRDUGVlckNvbm5lY3Rpb24oZSx0KX0sd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZT1tb3pSVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUsbW96UlRDUGVlckNvbm5lY3Rpb24ud1kmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24sXCJnZW5lcmF0ZUNlcnRpZmljYXRlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBtb3pSVENQZWVyQ29ubmVjdGlvbi53WX19KSx3aW5kb3cuUlRDU2Vzc2lvbkRlc2NyaXB0aW9uPW1velJUQ1Nlc3Npb25EZXNjcmlwdGlvbix3aW5kb3cuUlRDSWNlQ2FuZGlkYXRlPW1velJUQ0ljZUNhbmRpZGF0ZSksW1wic2V0TG9jYWxEZXNjcmlwdGlvblwiLFwic2V0UmVtb3RlRGVzY3JpcHRpb25cIixcImFkZEljZUNhbmRpZGF0ZVwiXS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PVJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZVtlXTtSVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGVbZV09ZnVuY3Rpb24oKXtyZXR1cm4gYXJndW1lbnRzWzBdPW5ldyhcImFkZEljZUNhbmRpZGF0ZVwiPT09ZT9SVENJY2VDYW5kaWRhdGU6UlRDU2Vzc2lvbkRlc2NyaXB0aW9uKShhcmd1bWVudHNbMF0pLHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0pO3ZhciBlPVJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRJY2VDYW5kaWRhdGU7UlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZEljZUNhbmRpZGF0ZT1mdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHNbMF0/ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk6KGFyZ3VtZW50c1sxXSYmYXJndW1lbnRzWzFdLmFwcGx5KG51bGwpLFByb21pc2UucmVzb2x2ZSgpKX07dmFyIHQ9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IE1hcDtyZXR1cm4gT2JqZWN0LmtleXMoZSkuZm9yRWFjaChmdW5jdGlvbihyKXt0LnNldChyLGVbcl0pLHRbcl09ZVtyXX0pLHR9LHI9e3l6OlwiaW5ib3VuZC1ydHBcIixUejpcIm91dGJvdW5kLXJ0cFwiLG16OlwiY2FuZGlkYXRlLXBhaXJcIixiWTpcImxvY2FsLWNhbmRpZGF0ZVwiLENZOlwicmVtb3RlLWNhbmRpZGF0ZVwifSxuPVJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRTdGF0cztSVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0U3RhdHM9ZnVuY3Rpb24oZSxzLG8pe3JldHVybiBuLmFwcGx5KHRoaXMsW2V8fG51bGxdKS50aGVuKGZ1bmN0aW9uKGUpe2lmKGkudmVyc2lvbjw0OCYmKGU9dChlKSksaS52ZXJzaW9uPDUzJiYhcyl0cnl7ZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UudHlwZT1yW2UudHlwZV18fGUudHlwZX0pfWNhdGNoKHQpe2lmKFwiVHlwZUVycm9yXCIhPT10Lm5hbWUpdGhyb3cgdDtlLmZvckVhY2goZnVuY3Rpb24odCxpKXtlLnNldChpLE9iamVjdC5hc3NpZ24oe30sdCx7dHlwZTpyW3QudHlwZV18fHQudHlwZX0pKX0pfXJldHVybiBlfSkudGhlbihzLG8pfX19fTtlLmk9e3BMOm4ucEwsbEw6bi5sTCxhTDpuLmFMLGNMOnIoMTI4KX19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1yKDE3KS5sb2csbj1yKDE3KS5XdTtlLmk9ZnVuY3Rpb24oKXt2YXIgZT1mdW5jdGlvbihlKXtyZXR1cm57bmFtZTp7cko6XCJOb3RBbGxvd2VkRXJyb3JcIixGWTpcIk5vdEFsbG93ZWRFcnJvclwifVtlLm5hbWVdfHxlLm5hbWUsbWVzc2FnZTp7XCJUaGUgb3BlcmF0aW9uIGlzIGluc2VjdXJlLlwiOlwiVGhlIHJlcXVlc3QgaXMgbm90IGFsbG93ZWQgYnkgdGhlIHVzZXIgYWdlbnQgb3IgdGhlIHBsYXRmb3JtIGluIHRoZSBjdXJyZW50IGNvbnRleHQuXCJ9W2UubWVzc2FnZV18fGUubWVzc2FnZSxCWTplLkJZLHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubmFtZSsodGhpcy5tZXNzYWdlJiZcIjogXCIpK3RoaXMubWVzc2FnZX19fSx0PWZ1bmN0aW9uKHQscixzKXt2YXIgbz1mdW5jdGlvbihlKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8ZS5pSilyZXR1cm4gZTt2YXIgdD1bXTtyZXR1cm4gT2JqZWN0LmtleXMoZSkuZm9yRWFjaChmdW5jdGlvbihyKXtpZihcInJlcXVpcmVcIiE9PXImJlwiYWR2YW5jZWRcIiE9PXImJlwibWVkaWFTb3VyY2VcIiE9PXIpe3ZhciBpPWVbcl09XCJvYmplY3RcIj09dHlwZW9mIGVbcl0/ZVtyXTp7QVk6ZVtyXX07aWYodm9pZCAwPT09aS5taW4mJnZvaWQgMD09PWkubWF4JiZ2b2lkIDA9PT1pLk9ZfHx0LnB1c2gociksdm9pZCAwIT09aS5PWSYmKFwibnVtYmVyXCI9PXR5cGVvZiBpLk9ZP2kubWluPWkubWF4PWkuT1k6ZVtyXT1pLk9ZLGRlbGV0ZSBpLk9ZKSx2b2lkIDAhPT1pLkFZKXtlLk5ZPWUuTll8fFtdO3ZhciBuPXt9O1wibnVtYmVyXCI9PXR5cGVvZiBpLkFZP25bcl09e21pbjppLkFZLG1heDppLkFZfTpuW3JdPWkuQVksZS5OWS5wdXNoKG4pLGRlbGV0ZSBpLkFZLE9iamVjdC5rZXlzKGkpLmxlbmd0aHx8ZGVsZXRlIGVbcl19fX0pLHQubGVuZ3RoJiYoZS5pSj10KSxlfTtyZXR1cm4gdD1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHQpKSxuLnZlcnNpb248MzgmJihpKFwic3BlYzogXCIrSlNPTi5zdHJpbmdpZnkodCkpLHQuSFImJih0LkhSPW8odC5IUikpLHQudmlkZW8mJih0LnZpZGVvPW8odC52aWRlbykpLGkoXCJmZjM3OiBcIitKU09OLnN0cmluZ2lmeSh0KSkpLG5hdmlnYXRvci5tb3pHZXRVc2VyTWVkaWEodCxyLGZ1bmN0aW9uKHQpe3MoZSh0KSl9KX0scj1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocixpKXt0KGUscixpKX0pfTtpZihuYXZpZ2F0b3IubWVkaWFEZXZpY2VzfHwobmF2aWdhdG9yLm1lZGlhRGV2aWNlcz17Z2V0VXNlck1lZGlhOnIsYWRkRXZlbnRMaXN0ZW5lcjpmdW5jdGlvbigpe30scmVtb3ZlRXZlbnRMaXN0ZW5lcjpmdW5jdGlvbigpe319KSxuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLkxZPW5hdmlnYXRvci5tZWRpYURldmljZXMuTFl8fGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKGUpe2UoW3traW5kOlwiYXVkaW9pbnB1dFwiLE1ZOlwiZGVmYXVsdFwiLGxhYmVsOlwiXCIseFk6XCJcIn0se2tpbmQ6XCJ2aWRlb2lucHV0XCIsTVk6XCJkZWZhdWx0XCIsbGFiZWw6XCJcIix4WTpcIlwifV0pfSl9LG4udmVyc2lvbjw0MSl7dmFyIHM9bmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5MWS5iaW5kKG5hdmlnYXRvci5tZWRpYURldmljZXMpO25hdmlnYXRvci5tZWRpYURldmljZXMuTFk9ZnVuY3Rpb24oKXtyZXR1cm4gcygpLnRoZW4odm9pZCAwLGZ1bmN0aW9uKGUpe2lmKFwiTm90Rm91bmRFcnJvclwiPT09ZS5uYW1lKXJldHVybltdO3Rocm93IGV9KX19aWYobi52ZXJzaW9uPDQ5KXt2YXIgbz1uYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYS5iaW5kKG5hdmlnYXRvci5tZWRpYURldmljZXMpO25hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhPWZ1bmN0aW9uKHQpe3JldHVybiBvKHQpLnRoZW4oZnVuY3Rpb24oZSl7aWYodC5IUiYmIWUuZ2V0QXVkaW9UcmFja3MoKS5sZW5ndGh8fHQudmlkZW8mJiFlLmdldFZpZGVvVHJhY2tzKCkubGVuZ3RoKXRocm93IGUuZ2V0VHJhY2tzKCkuZm9yRWFjaChmdW5jdGlvbihlKXtlLnN0b3AoKX0pLG5ldyBET01FeGNlcHRpb24oXCJUaGUgb2JqZWN0IGNhbiBub3QgYmUgZm91bmQgaGVyZS5cIixcIk5vdEZvdW5kRXJyb3JcIik7cmV0dXJuIGV9LGZ1bmN0aW9uKHQpe3JldHVybiBQcm9taXNlLnJlamVjdChlKHQpKX0pfX1uYXZpZ2F0b3IuZ2V0VXNlck1lZGlhPWZ1bmN0aW9uKGUscixpKXtpZihuLnZlcnNpb248NDQpcmV0dXJuIHQoZSxyLGkpO2NvbnNvbGUud2FybihcIm5hdmlnYXRvci5nZXRVc2VyTWVkaWEgaGFzIGJlZW4gcmVwbGFjZWQgYnkgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWFcIiksbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoZSkudGhlbihyLGkpfX19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT17Y0w6ZnVuY3Rpb24oKXtuYXZpZ2F0b3IuZ2V0VXNlck1lZGlhfHwobmF2aWdhdG9yLndlYmtpdEdldFVzZXJNZWRpYT9uYXZpZ2F0b3IuZ2V0VXNlck1lZGlhPW5hdmlnYXRvci53ZWJraXRHZXRVc2VyTWVkaWEuYmluZChuYXZpZ2F0b3IpOm5hdmlnYXRvci5tZWRpYURldmljZXMmJm5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhJiYobmF2aWdhdG9yLmdldFVzZXJNZWRpYT1mdW5jdGlvbihlLHQscil7bmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoZSkudGhlbih0LHIpfS5iaW5kKG5hdmlnYXRvcikpKX19O2UuaT17Y0w6aS5jTH19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT10aGlzJiZ0aGlzLmh1fHxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIHIoKXt0aGlzLmNvbnN0cnVjdG9yPWV9Zm9yKHZhciBpIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShpKSYmKGVbaV09dFtpXSk7ZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KTooci5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IHIpfSxuPXIoMjApOyFmdW5jdGlvbihlKXshZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIGkodCxlKSx0fShuLkhpdmVDb21tLk9wdGlvbnMuVHApO2UuZkw9dH0oZS5PcHRpb25zfHwoZS5PcHRpb25zPXt9KSl9KHQuSGl2ZUNvbW18fCh0LkhpdmVDb21tPXt9KSl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0LHIpe3RoaXMuaXNMaXZlPWUsdGhpcy5wcm90b2NvbD10LHRoaXMuSU09cn1yZXR1cm4gZS5wcm90b3R5cGUudUI9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgaGl2ZS5zbmFwc2hvdHMuU3RyZWFtSW5mbztyZXR1cm4gZS5zdHJlYW1UeXBlPXRoaXMuaXNMaXZlP1N0cmVhbVR5cGUuTElWRTpTdHJlYW1UeXBlLmtLLGUuc3RyZWFtUHJvdG9jb2w9dGhpcy5wcm90b2NvbCxlLnVybD10aGlzLklNLGV9LGV9KCk7dC5BTD1pfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9dGhpcyYmdGhpcy5odXx8ZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiByKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfWZvcih2YXIgaSBpbiB0KXQuaGFzT3duUHJvcGVydHkoaSkmJihlW2ldPXRbaV0pO2UucHJvdG90eXBlPW51bGw9PT10P09iamVjdC5jcmVhdGUodCk6KHIucHJvdG90eXBlPXQucHJvdG90eXBlLG5ldyByKX0sbj1yKDQpLHM9cig1NSksbz1yKDQ0KS5QcCxhPXIoMCksaD1yKDEzMyksYz1yKDczKSx1PXIoMTkpLGw9cig1NikscD1yKDE5OCksZD1yKDI2KSxmPXIoMTgpLGc9cigyMSksRT1yKDU0KSx2PXIoMSkseT1yKDQ1KSxUPXAuSGl2ZUNvbW0uT3B0aW9ucyxtPWQuSGl2ZUNvbW0uSGl2ZVRlY2hFcnJvcixJPWQuSGl2ZUNvbW0udkUsUz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHIsaSxuKXt2YXIgcz1lLmNhbGwodGhpcyxyLGkpfHx0aGlzO3JldHVybiBzLm9wdGlvbnNfPW5ldyBULm5KLHZvaWQgMCE9aVt0LkVMXSYmZy5TcChpW3QuRUxdLHMub3B0aW9uc18pLHMuVVE9bixzfXJldHVybiBpKHQsZSksdC5wcm90b3R5cGUuZ2V0TmFtZT1mdW5jdGlvbigpe3JldHVybiB0LkVMfSx0LnByb3RvdHlwZS5nZXRWZXJzaW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ0wuZ2V0UGx1Z2luVmVyc2lvbigpfSx0LnByb3RvdHlwZS52TD1mdW5jdGlvbigpe3JldHVybiEwfSx0LnByb3RvdHlwZS55TD1mdW5jdGlvbigpe3JldHVybiBjLmxiLkFwaT90aGlzLnNKKCkmJnRoaXMuWEgoKT9uLnJlc29sdmUoITApOm4ucmVqZWN0KG5ldyBtKEkucEUsXCJXZWJSVEMgRGF0YUNoYW5uZWxzIG5vdCBzdXBwb3J0ZWQgYnkgYnJvd3NlclwiKSk6bi5yZWplY3QobmV3IG0oSS5wRSxcIk5vdCBpbmNsdWRlZCBpbiB0aGUgcGFnZVwiKSl9LHQucHJvdG90eXBlLmluaXRTZXNzaW9uPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztyZXR1cm4gdGhpcy55TCgpLnRoZW4oZnVuY3Rpb24oKXt2YXIgaT10LnRpY2tldDtyLl9MKCk7dmFyIG49aS5OTigpOzA9PT1uLmluZGV4T2YoXCIvL1wiKSYmKG49bG9jYXRpb24ucHJvdG9jb2wrbik7dmFyIHM9ci5UTChlLGksbix0KTtyZXR1cm4gRS56dS5yZWdpc3RlclRlY2gocixzLmlkKSxFLnp1LnJlZ2lzdGVyQ29tbShyLmdMLHMuaWQpLGYuSGl2ZVJlcXVlc3RGYWN0b3J5LnJlZ2lzdGVyVGVjaChzLmlkLHIuZ2V0TmFtZSgpKSx3aW5kb3cmJndpbmRvdy5hY3RpdmF0ZVhIUkludGVyY2VwdG9yJiZ3aW5kb3cuYWN0aXZhdGVYSFJJbnRlcmNlcHRvcihyLmdMLmxvZ2dlckxldmVsKCk+eS5UTi5wTi5pbmZvKSxzfSl9LHQucHJvdG90eXBlLmlzQWN0aXZlPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dC5tYW5pZmVzdC50b0xvd2VyQ2FzZSgpLGk9ZS50b0xvd2VyQ2FzZSgpLG49ci5pbmRleE9mKFwiLmlzbS9tYW5pZmVzdFwiKTtpZihuPi0xKXt2YXIgcz1yLnN1YnN0cmluZygwLG4pO2lmKGkuaW5kZXhPZihzKT4tMSlyZXR1cm4gaS5pbmRleE9mKFwiLmlzbS9tYW5pZmVzdChmb3JtYXQ9bXBkLXRpbWUtY3NmKVwiKT4tMT90aGlzLm9KPyh0LnRpY2tldC5Tb3VyY2VVUkw9ZSwhMCk6dGhpcy5hSih0LFwiVGhlIHBsYXllciBkb2VzIG5vdCB1c2UgSGl2ZVJlcXVlc3QsIGRvd25ncmFkaW5nIHRvIFN0YXRzSlNcIik6dGhpcy5hSih0LFwiUHJvdG9jb2wgbm90IHN1cHBvcnRlZCBieSBIaXZlSlMgdGVjaCwgZG93bmdyYWRpbmcgdG8gU3RhdHNKU1wiKX1lbHNlIGlmKGk9PT1yKXJldHVybiEhdGhpcy5vSnx8dGhpcy5hSih0LFwiVGhlIHBsYXllciBkb2VzIG5vdCB1c2UgSGl2ZVJlcXVlc3QsIGRvd25ncmFkaW5nIHRvIFN0YXRzSlNcIik7cmV0dXJuITF9LHQucHJvdG90eXBlLm9sPWZ1bmN0aW9uKHQscil7d2luZG93JiZ3aW5kb3cuZGVhY3RpdmF0ZVhIUkludGVyY2VwdG9yJiZ3aW5kb3cuZGVhY3RpdmF0ZVhIUkludGVyY2VwdG9yKCksZS5wcm90b3R5cGUub2wuY2FsbCh0aGlzLHQscik7dmFyIGk9Yy5sYi5BcGkoKTtyPyhmLkhpdmVSZXF1ZXN0RmFjdG9yeS5jbGVhclNlc3Npb24odC5pZCksaSYmKGkubmwodC5pZCx1Lk1sLlNUT1ApLGkuaEooKSkpOmkmJmkubmwodC5pZCx1Lk1sLklETEUpfSx0LnByb3RvdHlwZS5hSj1mdW5jdGlvbihlLHQpe3JldHVybiBlLnRlY2g9dGhpcy5VUSxmLkhpdmVSZXF1ZXN0RmFjdG9yeS5yZWdpc3RlclRlY2goZS5pZCxsLlN0YXRzSlMuRUwpLHRoaXMub0omJnRoaXMub0oucmVzb2x2ZSgpLHRoaXMub0o9dm9pZCAwLHRoaXMuZ0wubG9nZ2VyKCkud2FybihcIltIaXZlSlNdIFwiK3QpLHRoaXMub25FcnJvcihuZXcgbShJLmZFLHQpKSx3aW5kb3cmJndpbmRvdy5kZWFjdGl2YXRlWEhSSW50ZXJjZXB0b3ImJndpbmRvdy5kZWFjdGl2YXRlWEhSSW50ZXJjZXB0b3IoKSwhMH0sdC5wcm90b3R5cGUub0w9ZnVuY3Rpb24oZSl7dGhpcy5vSj1lfSx0LnByb3RvdHlwZS5vbkFjdGl2ZVNlc3Npb249ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczthLkZyYW1ld29yay5YKCkuYXBwbHkobmV3IGguY0ooITApKTt2YXIgcj1jLmxiLkFwaSgpO2lmKHRoaXMudUooKSYmci5sSighMCksci5zdGFydChlLnJsLCExKS50aGVuKGZ1bmN0aW9uKGkpe2lmKHQuX0woKSx0LlBMPWUucmwsdC5QTC5RbCh0Lm9wdGlvbnNfLnJlbmRlclN0YXRzQ2FsbGJhY2spLHQuUEwuVmwoYy5sYi5zcCgpLGMubGIuZ2V0VmVyc2lvbigpKSx0LlBMLkJsLmluaXQodC5QTC5VbCxlLnRpY2tldC5zZXNzaW9uSWQpLHQuZ0wub3B0aW9ucygpLnRlc3RJZCYmdC5QTC5VbC5OTCh0LmdMLm9wdGlvbnMoKS50ZXN0SWQpLGUuYXV0aGVudGljYXRpb25Ub2tlbil7dmFyIG49ci5wSihlLnRpY2tldC5zZXNzaW9uSWQpO24mJm4uZkouZEouVU0oZS5hdXRoZW50aWNhdGlvblRva2VuKX10Lm9KJiZyLnJlcXVlc3QodC5vSixlLnJsLnRpY2tldC5zZXNzaW9uSWQpLHQuUEwuSGwuWHUoZS50aWNrZXQuc2Vzc2lvbklkLHQuZ0wuZ2V0UGxheWVyU291cmNlKCksMjAwKTt2YXIgcz10LmdMLmZsdXNoVGVjaEV2ZW50cygpO3MmJnMubGVuZ3RoPjAmJnQuUEwuSGwuQ2QocyksdC5nTC51cGRhdGVQbGF5ZXJJbmZvKHQuUEwpfSksdm9pZCAwIT10aGlzLm9wdGlvbnMoKS5vbkFjdGl2ZVNlc3Npb24pdHJ5e3RoaXMub3B0aW9ucygpLm9uQWN0aXZlU2Vzc2lvbihlLnRvSGl2ZVNlc3Npb24oKSl9Y2F0Y2goZSl7di5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcImV4Y2VwdGlvbiBpbiB1c2VyLWRlZmluZWQgb25BY3RpdmVTZXNzaW9uIGNhbGxiYWNrXCIsXCJbSGl2ZUpTXVwiLGUpfX0sdC5wcm90b3R5cGUubmw9ZnVuY3Rpb24oZSx0KXt9LHQucHJvdG90eXBlLlRMPWZ1bmN0aW9uKGUsdCxyLGkpe3ZhciBuPW5ldyBmLmNsKGUsdCxyLGkpO3JldHVybiBuLk1MPSEwLG4uaWQ9bi50aWNrZXQuc2Vzc2lvbklkLG59LHQucHJvdG90eXBlLmJMPWZ1bmN0aW9uKCl7fSx0LnByb3RvdHlwZS51Sj1mdW5jdGlvbigpe3ZhciBlPW5ldyBvO3JldHVybiBlLkFkKG5hdmlnYXRvci51c2VyQWdlbnQpLFwiQW5kcm9pZFwiPT1lLk9kKCkubmFtZX0sdC5wcm90b3R5cGUuc0o9ZnVuY3Rpb24oKXtyZXR1cm5cInNhZmFyaVwiIT1zLld1LlF1fSx0LnByb3RvdHlwZS5YSD1mdW5jdGlvbigpe3RyeXtyZXR1cm4gbnVsbCE9cy5WdSYmbnVsbCE9cy5oTCYmXCJmdW5jdGlvblwiPT10eXBlb2YgbmV3IFJUQ1BlZXJDb25uZWN0aW9uKG51bGwsbnVsbCkuY3JlYXRlRGF0YUNoYW5uZWx9Y2F0Y2goZSl7cmV0dXJuITF9fSx0fShsLlN0YXRzSlMpO1MuRUw9XCJIaXZlSlNcIix0LkhpdmVKUz1TfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9cig0MCksbj1yKDApLHM9cig0NSksbz1yKDgpLGE9cigxOSksaD1yKDc2KSxjPXIoNzcpLHU9cig3OSksbD1yKDc1KSxwPXIoMjIpLGQ9cigxNSksZj1yKDEzNCksZz1yKDEzNyksRT1yKDEzOCksdj1yKDg4KSx5PXIoMTU1KSxUPXIoMTU2KSxtPXIoMTU3KSxJPXIoMTU4KSxTPXIoMTU5KSxSPXIoOTUpLHc9cigxNzIpLGI9cigxNzMpLEM9cigxNzQpLF89cig0OSksUD1yKDI1KSxBPXIoMTc1KSxPPXIoMTc5KSxOPXIoMTgwKSxEPXIoMTgxKSxrPXIoMTgyKSxMPXIoMTg0KSxNPXIoMTg1KSxGPXIoMTg2KSxVPXIoMTg3KSxCPXIoODApLEg9cigxODgpLHg9cigxODkpLHE9cigxOTEpLEc9cig2KSxWPXIoMTkyKSxqPUcuaGUudmgsUT1HLmhlLnloLEs9Ry5oZS5UaCxZPUcuaGUuSWg7aWYoUSl2YXIgVz1yKDE5MykuZ0osej1yKDE5NSkuRUo7aWYoSyl2YXIgSj1yKDkyKS5XRztpZihqKXZhciBYPXIoMTk2KS52SjtpZihZKXZhciBaPXIoODEpLkNIO2Vsc2UgdmFyICQ9cig4Mykubng7dmFyIGVlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLnlKPSExLGUmJih0aGlzLnlKPWUpfXJldHVybiBlLnByb3RvdHlwZS5hcHBseT1mdW5jdGlvbihlKXt0aGlzLnlKP1kmJmUuYmluZChuZXcgaS5aQShvLnBjLnNjLFosaS4kQS5zTykpOihlLmJpbmQobmV3IGkuWkEoby5wYy5oYyxhLmxwLGkuJEEuc08pKSxlLmJpbmQobmV3IGkuWkEoby5wYy5HLGgucUIsaS4kQS5zTykpLGUuYmluZChuZXcgaS5aQShvLnBjLm5jLGMuV0IsaS4kQS5zTykpLGUuYmluZChuZXcgaS5aQShvLnBjLk0sdS52SCxpLiRBLnNPKSksZS5iaW5kKG5ldyBpLlpBKG4uRnJhbWV3b3JrLlYuUixzLlROLnlOLGkuJEEuc08pKSxlLmJpbmQobmV3IGkuWkEoby5wYy5pYyxsLlN0YXRzLnFsLGkuJEEucE8pKSxlLmJpbmQobmV3IGkuWkEoby5wYy51YyxwLkdsLkJkLGkuJEEucE8pKSxlLmJpbmQobmV3IGkuWkEoby5wYy5sYyxwLkdsLnFsLGkuJEEucE8pKSxZP2UuYmluZChuZXcgaS5aQShvLnBjLnNjLFosaS4kQS5zTykpOmUuYmluZChuZXcgaS5aQShvLnBjLnNjLCQsaS4kQS5zTykpKSxlLmJpbmQobmV3IGkuWkEoZC5xdS5sdSxWLlRKLGkuJEEucE8pKSxlLmJpbmQobmV3IGkuWkEoby5wYy5vYyxCLklILGkuJEEuc08pKSxlLmJpbmQobmV3IGkuWkEoZC5xdS5GdSxGLm1KLGkuJEEuc08pKSxlLmJpbmQobmV3IGkuWkEoZC5xdS5fdSxmLnNoLGkuJEEuc08pKSxlLmJpbmQobmV3IGkuWkEoZC5xdS5SdSxnLklKLGkuJEEucE8pKSxlLmJpbmQobmV3IGkuWkEoZC5xdS5QdSxFLlNKLGkuJEEucE8pKSxlLmJpbmQobmV3IGkuWkEoZC5xdS55dSx5LlJhLGkuJEEucE8pKSxlLmJpbmQobmV3IGkuWkEoZC5xdS5UdSx2LllxLGkuJEEucE8pKSxqJiZlLmJpbmQobmV3IGkuWkEoZC5xdS5tdSxYLGkuJEEucE8pKSxlLmJpbmQobmV3IGkuWkEoZC5xdS5idSxULlJKLGkuJEEucE8pKSxcInVuZGVmaW5lZFwiIT10eXBlb2YgSGl2ZU9yaWdpbmFsWE1MSHR0cFJlcXVlc3Q/ZS5iaW5kKG5ldyBpLlpBKG4uRnJhbWV3b3JrLlYuSCxIaXZlT3JpZ2luYWxYTUxIdHRwUmVxdWVzdCkpOmUuYmluZChuZXcgaS5aQShuLkZyYW1ld29yay5WLkgsWE1MSHR0cFJlcXVlc3QpKSxlLmJpbmQobmV3IGkuWkEoZC5xdS5NdSxNLndKLGkuJEEuc08pKSxlLmJpbmQobmV3IGkuWkEoZC5xdS5EdSxtLmJKLGkuJEEucE8pKSxlLmJpbmQobmV3IGkuWkEobi5GcmFtZXdvcmsuVi5GLEEuQ0osaS4kQS5zTykpLGUuYmluZChuZXcgaS5aQShkLnF1LnEsTy5fSixpLiRBLnNPKSksZS5iaW5kKG5ldyBpLlpBKGQucXUuU3UsVS5QSixpLiRBLnBPKSksZS5iaW5kKG5ldyBpLlpBKGQucXUuSXUsSS5BSixpLiRBLnBPKSksZS5iaW5kKG5ldyBpLlpBKGQucXUucHUsUy5RYSxpLiRBLnBPKSksZS5iaW5kKG5ldyBpLlpBKGQucXUuZHUsUi5pUSxpLiRBLnBPKSksZS5iaW5kKG5ldyBpLlpBKGQucXUuZnUseC5PSixpLiRBLnBPKSksZS5iaW5kKG5ldyBpLlpBKGQucXUuZ3UseC5OSixpLiRBLnBPKSksZS5iaW5kKG5ldyBpLlpBKGQucXUuRXUscS5ESixpLiRBLnBPKSksZS5iaW5kKG5ldyBpLlpBKGQucXUudnUscS5rSixpLiRBLnBPKSksZS5iaW5kKG5ldyBpLlpBKGQucXUueHUsSC5WbyxpLiRBLnBPKSksZS5iaW5kKG5ldyBpLlpBKGQucXUuQ3Usdy5MSixpLiRBLnBPKSksZS5iaW5kKG5ldyBpLlpBKGQucXUud3UsYi5NSixpLiRBLnBPKSksZS5iaW5kKG5ldyBpLlpBKGQucXUua3UsQy5GSixpLiRBLnBPKSksZS5iaW5kKG5ldyBpLlpBKGQucXUuTnUsay5VSixpLiRBLnBPKSksZS5iaW5kKG5ldyBpLlpBKGQucXUuQXUsXy5BayxpLiRBLnBPKSksZS5iaW5kKG5ldyBpLlpBKGQucXUuT3UsTC5CSixpLiRBLnBPKSksZS5iaW5kKG5ldyBpLlpBKG4uRnJhbWV3b3JrLlYuVSxQLlJmLkZhLGkuJEEucE8pKSxlLmJpbmQobmV3IGkuWkEoZC5xdS5MdSxOLnlhLGkuJEEucE8pKSxRJiYoZS5iaW5kKG5ldyBpLlpBKGQucXUuQnUsVyxpLiRBLnBPKSksZS5iaW5kKG5ldyBpLlpBKGQucXUuVXUseixpLiRBLnBPKSkpLEsmJmUuYmluZChuZXcgaS5aQShkLnF1LlRoLEosaS4kQS5wTykpLGUuYmluZChuZXcgaS5aQShkLnF1Lkh1LEQuSEosaS4kQS5wTykpfSxlfSgpO3QuY0o9ZWV9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1yKDQpLG49cigyOCkscz1uLmNnLG89cigwKSxhPXIoNDMpLGg9cigxNSksYz1yKDUpLHU9cigxOSksbD1yKDMpLHA9cigxMzUpLGQ9cig0NyksZj1yKDgpLGc9cigxMzYpLEU9cig2KSx2PXIoMSkseT1yKDIpLFQ9RS5oZS55aCxtPUUuaGUuVGgsST1FLmhlLm1oLFM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMuc3RhdGU9dS5NbC5MbCx0aGlzLnJlcXVlc3RUaW1lb3V0PS0xO3RyeXt0aGlzLmxvZ2dlcj1vLkZyYW1ld29yay5yZXNvbHZlKG8uRnJhbWV3b3JrLlYuUikubG9nKGUudGlja2V0LnNlc3Npb25JZCksdGhpcy5sb2dnZXJJZD1cIltTV0FSTV0gXCIsdGhpcy5OZz1vLkZyYW1ld29yay5yZXNvbHZlKG8uRnJhbWV3b3JrLlYuRiksdGhpcy5zZXNzaW9uSWQ9ZS50aWNrZXQuc2Vzc2lvbklkLHRoaXMucmw9ZSx0aGlzLkVEPW8uRnJhbWV3b3JrLnJlc29sdmUoaC5xdS5SdSksdGhpcy5zQz1vLkZyYW1ld29yay5yZXNvbHZlKGgucXUueXUpLHRoaXMub0c9by5GcmFtZXdvcmsucmVzb2x2ZShoLnF1LnB1KSx0aGlzLnhKPW8uRnJhbWV3b3JrLnJlc29sdmUoaC5xdS5idSksdGhpcy5nRD1vLkZyYW1ld29yay5yZXNvbHZlKGgucXUuSXUpLHRoaXMuVEQ9by5GcmFtZXdvcmsucmVzb2x2ZShoLnF1LmR1KSx0aGlzLnVwbG9hZFNjb3JlPW8uRnJhbWV3b3JrLnJlc29sdmUoaC5xdS5rdSksdGhpcy5xSj1vLkZyYW1ld29yay5yZXNvbHZlKGgucXUud3UpLHRoaXMuR0o9by5GcmFtZXdvcmsucmVzb2x2ZShoLnF1LkR1KSx0aGlzLnZEPW8uRnJhbWV3b3JrLnJlc29sdmUoaC5xdS5DdSksdGhpcy5mSj1vLkZyYW1ld29yay5yZXNvbHZlKGgucXUuUHUpLHRoaXMuV009by5GcmFtZXdvcmsucmVzb2x2ZShoLnF1Lkx1KSx0aGlzLnlEPW8uRnJhbWV3b3JrLnJlc29sdmUoaC5xdS5IdSksdGhpcy56TT1vLkZyYW1ld29yay5yZXNvbHZlKGgucXUuQXUpLHRoaXMubUQ9by5GcmFtZXdvcmsucmVzb2x2ZShoLnF1Lk91KSx0aGlzLklEPW8uRnJhbWV3b3JrLnJlc29sdmUoaC5xdS5TdSksdGhpcy56Vj1vLkZyYW1ld29yay5yZXNvbHZlKGgucXUueHUpLHRoaXMuWU09by5GcmFtZXdvcmsucmVzb2x2ZShoLnF1Lmx1KSwoVHx8by5GcmFtZXdvcmsuQygpJiZkLiROLkpOKSYmKHRoaXMuVko9by5GcmFtZXdvcmsucmVzb2x2ZShoLnF1LlV1KSx0aGlzLmpKPW8uRnJhbWV3b3JrLnJlc29sdmUoaC5xdS5CdSkpLChtfHxvLkZyYW1ld29yay5DKCkmJmQuJE4uWE4pJiYodGhpcy5RSj1vLkZyYW1ld29yay5yZXNvbHZlKGgucXUuVGgpKSx0aGlzLnN3YXJtSWQ9dGhpcy5LSihlLnRpY2tldC5rZCgpKSx0aGlzLllNLmluaXQodGhpcyksdGhpcy54Si5pbml0KHRoaXMpLHRoaXMuSUQuaW5pdCh0aGlzKSx0aGlzLnpWLmluaXQodGhpcyksdGhpcy5URC5pbml0KHRoaXMpLHRoaXMucUouaW5pdCh0aGlzKSx0aGlzLkdKLmluaXQodGhpcyksdGhpcy52RC5pbml0KHRoaXMpLHRoaXMuZkouaW5pdCh0aGlzKSx0aGlzLkVELmluaXQodGhpcyksdGhpcy5vRy5pbml0KHRoaXMpLHRoaXMuek0uaW5pdCh0aGlzKSx0aGlzLm1ELmluaXQodGhpcyksdGhpcy5XTS5pbml0KHRoaXMpLChtfHxvLkZyYW1ld29yay5DKCkmJmQuJE4uWE4pJiZ0aGlzLlFKLmluaXQodGhpcyksKFR8fG8uRnJhbWV3b3JrLkMoKSYmZC4kTi5KTikmJnRoaXMuakouaW5pdCh0aGlzKX1jYXRjaChlKXt0aHJvdyB2LkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgY29uc3RydWN0aW5nIHN3YXJtIG9iamVjdFwiLHRoaXMubG9nZ2VySWQseS5ocy5ycy5abixlKSxuZXcgRXJyb3IoZSl9fXJldHVybiBlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKGUsdCxyKXt0cnl7ST90aGlzLllKKCExKTpyP3RoaXMuWUooITEpOnRoaXMuWUooITApLHRoaXMueUQuc2V0UmVwb3J0aW5nR3VpZCh0aGlzLnJsLmlkZW50aXR5LnJwKCkpLHRoaXMueUQuV0oociksdGhpcy5zQy5pbml0KGMuaGguUmEuVGEsYy5oaC5SYS5tYSk7dmFyIGk9dGhpcy5mSi5SRChlLHQpO3RoaXMueUQuc2V0Q29udGV4dElkKHRoaXMuZkouZEouZ2V0Q29udGV4dElkKCkpO3ZhciBuPW5ldyBwLnpKKGkpO3RoaXMucmwuT0w9bix0aGlzLnJsLlVsLk9MPW4sdGhpcy5HSi5zdGFydCh0aGlzLmZKLHRoaXMub0cpLChUfHxvLkZyYW1ld29yay5DKCkmJmQuJE4uSk4pJiZ0aGlzLmpKLkpKKHRoaXMub0cpO3ZhciBzPVt0aGlzLm9HLHRoaXMuVEQsdGhpcy5HSix0aGlzLnJsLlVsLHRoaXMucmwuSGwsdGhpcy56Vl07KFR8fG8uRnJhbWV3b3JrLkMoKSYmZC4kTi5KTikmJnMucHVzaCh0aGlzLmpKKSwobXx8by5GcmFtZXdvcmsuQygpJiZkLiROLlhOKSYmcy5wdXNoKHRoaXMuUUopLChhPXRoaXMuTmcpLnN0YXJ0LmFwcGx5KGEsW2Uuc2Vzc2lvbklkXS5jb25jYXQocykpLHRoaXMucmwuVWwuREIodGhpcy5URCksdGhpcy5ybC5VbC5yQih0aGlzLnlEKSx0aGlzLnlELlhKKGUpfWNhdGNoKGUpe3Rocm93IHYuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBpbml0aWFsaXppbmcgc3dhcm0gb2JqZWN0XCIsdGhpcy5sb2dnZXJJZCx5LmhzLnJzLiRuLGUpLG5ldyBFcnJvcihlKX12YXIgYX0sZS5wcm90b3R5cGUuWUo9ZnVuY3Rpb24oZSl7ZSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG5hdmlnYXRvciYmbmF2aWdhdG9yLmhhcmR3YXJlQ29uY3VycmVuY3k/KHRoaXMueUQuWkoobmF2aWdhdG9yLmhhcmR3YXJlQ29uY3VycmVuY3kpLHRoaXMueUQuJEoobmF2aWdhdG9yLmhhcmR3YXJlQ29uY3VycmVuY3kpKToodGhpcy55RC5aSigxKSx0aGlzLnlELiRKKDEpKSx0aGlzLmxvZ2dlci5kZWJ1Zyh0aGlzLmxvZ2dlcklkK1wiTXkgc2NvcmUgXCIrdGhpcy55RC5RRygpKX0sZS5wcm90b3R5cGUuS0o9ZnVuY3Rpb24oZSl7cmV0dXJuIHMub1QoZSkudG9TdHJpbmcocy5VeS5CeSl9LGUucHJvdG90eXBlLnJlcXVlc3Q9ZnVuY3Rpb24oZSl7dGhpcy5lWCgpLHRoaXMuRUQucmVxdWVzdChlKX0sZS5wcm90b3R5cGUudFg9ZnVuY3Rpb24oKXtpZih0aGlzLnN0YXRlPT09dS5NbC5TVE9QKXJldHVybiB2b2lkIHRoaXMubG9nZ2VyLmRlYnVnKFwiSWdub3JpbmcgY2hhbmdpbmcgc3RhdGUgZnJvbSBTdG9wIHRvIElkbGVcIik7dGhpcy5vRy5zdG9wKCksdGhpcy5URC5zdG9wKCksdGhpcy5tRC5yWCgpLHRoaXMubUQuaVgoKSx0aGlzLkdKLm5YKCksdGhpcy5qSiYmdGhpcy5qSi5zWCgpLHRoaXMucmwubmwodS5NbC5JRExFKSx0aGlzLnNDLlFxKCksdGhpcy5JRC5vWCgpLHRoaXMuRUQuYVgoKSx0aGlzLllNLmhYKCksby5GcmFtZXdvcmsuY2xlYXJUaW1lb3V0KHRoaXMucmVxdWVzdFRpbWVvdXQpfSxlLnByb3RvdHlwZS5ubD1mdW5jdGlvbihlLHQpe3RyeXtpZih0aGlzLnN0YXRlIT1lKXtzd2l0Y2godGhpcy5sb2dnZXIuaW5mbyhcIlN3aXRjaGluZyBzdGF0ZSBcIit1Lk1sW3RoaXMuc3RhdGVdK1wiIC0+IFwiK3UuTWxbZV0pLGUpe2Nhc2UgdS5NbC5TVE9QOnRoaXMudFgoKSx0aGlzLk5nLnN0b3AodCk7YnJlYWs7Y2FzZSB1Lk1sLklETEU6dGhpcy50WCgpO2JyZWFrO2Nhc2UgdS5NbC5MbDp0aGlzLm9HLnN0YXJ0KCksdGhpcy5URC5zdGFydCh0aGlzLmZKLmRKKSx0aGlzLm1ELmNYKCksdGhpcy5HSi51WCgpLHRoaXMuakomJnRoaXMuakoubFgoKSx0aGlzLnJsLm5sKHUuTWwuTGwpLHRoaXMuWU0ucFgoKX10aGlzLnN0YXRlPWV9fWNhdGNoKGUpe3YuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBjaGFuZ2luZyBwZWVyIHN0YXR1c1wiLHRoaXMubG9nZ2VySWQseS5ocy5ycy5lcyxlKX19LGUucHJvdG90eXBlLmVYPWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0cnl7by5GcmFtZXdvcmsuY2xlYXJUaW1lb3V0KHRoaXMucmVxdWVzdFRpbWVvdXQpLHRoaXMubmwodS5NbC5MbCksdGhpcy5yZXF1ZXN0VGltZW91dD1vLkZyYW1ld29yay5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS5ubCh1Lk1sLklETEUpfSxjLmhoLnNoLm5oKX1jYXRjaChlKXt2LkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgcmVxdWVzdGluZyB0aW1lb3V0XCIsdGhpcy5sb2dnZXJJZCx5LmhzLnJzLlFuLGUpfX0sZX0oKTt0LmRYPVM7dmFyIFI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5BZz1uZXcgYS5Db3VudGVyLHRoaXMuZlg9ITEsdGhpcy56bD1uZXcgbCx0aGlzLmdYPW5ldyBsLHRoaXMuRVg9ITEsdGhpcy52WD0hMSx0aGlzLnlYPW8uRnJhbWV3b3JrLnJlc29sdmUoaC5xdS5NdSksdGhpcy5UWD1vLkZyYW1ld29yay5yZXNvbHZlKGgucXUuRnUpLHRoaXMudWQ9by5GcmFtZXdvcmsucmVzb2x2ZShmLnBjLnNjKSx0aGlzLm1YPSExfXJldHVybiBlLnByb3RvdHlwZS5zdGFydD1mdW5jdGlvbihlLHQpe3RoaXMubG9nZ2VyPW8uRnJhbWV3b3JrLnJlc29sdmUoby5GcmFtZXdvcmsuVi5SKS5sb2coZS50aWNrZXQuc2Vzc2lvbklkKTt2YXIgcj1lLnRpY2tldDt0aGlzLlRYLmluaXQodGhpcyxlKTt2YXIgbj1yLnNlc3Npb25JZDtpZih0aGlzLnpsLmhhcyhuKSl0aGlzLmxvZ2dlci53YXJuKFwiU0VTU0lPTiBBTFJFQURZIEFDVElWRSBcIituKTtlbHNle2cuSVguZmQoZS54bC5jbGllbnQpO3ZhciBzPW5ldyBTKGUpO3MuaW5pdChyLHQsdGhpcy5tWCksdGhpcy51ZC5nZXRDb25uZWN0aXZpdHlJbmZvKCkudGhlbihmdW5jdGlvbihlKXt2YXIgdD1lLmdldE5ldHdvcmtDaGFuZ2VkKCkscj10LmdldFByaXZhdGVJcCgpO3ImJnMueUQuREgocil9KS5kb25lKCksZS5VbC5OQih0aGlzLnVkKSx0aGlzLmxvZ2dlci5pbmZvKFwiUEVFUiBDT05URVhUIFNUQVJURURcIiksdGhpcy56bC5zZXQobixzKSx0aGlzLmdYLnNldChzLnN3YXJtSWQsbil9cmV0dXJuIDEhPXRoaXMuemwubGVuZ3RoJiYhdGhpcy52WHx8by5GcmFtZXdvcmsuQygpfHwodGhpcy55WC5pbml0KCksdGhpcy52WD0hMSksaS5yZXNvbHZlKHIuU291cmNlVVJMKX0sZS5wcm90b3R5cGUuaEo9ZnVuY3Rpb24oKXt0aGlzLnZYPSEwfSxlLnByb3RvdHlwZS5tZz1mdW5jdGlvbihlKXtpZih0aGlzLmdYLmhhcyhlKSl7dmFyIHQ9dGhpcy5nWC5nZXQoZSk7cmV0dXJuIHRoaXMuemwuZ2V0KHQpfXJldHVybiBudWxsfSxlLnByb3RvdHlwZS5wSj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy56bC5nZXQoZSl9LGUucHJvdG90eXBlLlNYPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnpsLmhhcyhlKT90aGlzLnpsLmdldChlKS5FRDpudWxsfSxlLnByb3RvdHlwZS5yZXF1ZXN0PWZ1bmN0aW9uKGUsdCl7dGhpcy5wSih0KS5yZXF1ZXN0KGUpfSxlLnByb3RvdHlwZS5ubD1mdW5jdGlvbihlLHQpe3RoaXMucEooZSkubmwodCxlKX0sZS5wcm90b3R5cGUuYWJvcnQ9ZnVuY3Rpb24oZSx0KXt0aGlzLlNYKHQpLmFib3J0KGUpfSxlLnByb3RvdHlwZS5sSj1mdW5jdGlvbihlKXt0aGlzLm1YPWV9LGV9KCk7dC5zaD1SfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMud0Q9ZX1yZXR1cm4gZS5wcm90b3R5cGUudUI9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgaGl2ZS5zbmFwc2hvdHMuU3RyZWFtSW5mbztyZXR1cm4gZS5zdHJlYW1UeXBlPXRoaXMud0QuaXNMaXZlKCk/U3RyZWFtVHlwZS5MSVZFOlN0cmVhbVR5cGUua0ssZS5zdHJlYW1Qcm90b2NvbD10aGlzLndELmdldFN0cmVhbVByb3RvY29sKCksZS51cmw9dGhpcy53RC51TSgpLGV9LGV9KCk7dC56Sj1pfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9cigyMiksbj1pLkdsLnJkLHM9cigwKSxvPXIoMjMpLGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlLmZkPWZ1bmN0aW9uKGUpe3RoaXMuY2xpZW50PWV9LGUuUlg9ZnVuY3Rpb24oZSx0LHIsaSxhKXt2YXIgaD1uZXcgbjtoLmFwcD1lLGguZ3VpZD1pLGguY3JlYXRlZEF0PXMuRnJhbWV3b3JrLnRpbWUoKSxoLm5hbWU9cixoLnRhZ3M9dCxoLmRhdGE9SlNPTi5wYXJzZShhKTt2YXIgYz1uZXcgby5KZChTZXJ2aWNlcy5YZCwyLEpTT04uc3RyaW5naWZ5KGgpKTt0aGlzLmNsaWVudCYmdGhpcy5jbGllbnQuemQoKS5zZW5kKGMpfSxlfSgpO3QuSVg9YX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXIoMyksbj1yKDQpLHM9cigyNCksbz1yKDcpLGE9cig1KSxoPXIoMCksYz1yKDkpLHU9cigxNSksbD1yKDQzKSxwPXIoMSksZD1yKDIpLGY9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy53WD1uZXcgaSx0aGlzLmJYPSExLHRoaXMuQ1g9MCx0aGlzLmxvZ2dlcklkPVwiW0hpdmVDYWNoZV0gXCIsdGhpcy5fWD01LHRoaXMuVFg9aC5GcmFtZXdvcmsucmVzb2x2ZSh1LnF1LkZ1KSx0aGlzLlBYPW5ldyBsLlJPfXJldHVybiBlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKGUpe3RoaXMubG9nZ2VyPWguRnJhbWV3b3JrLnJlc29sdmUoaC5GcmFtZXdvcmsuVi5SKS5sb2coZS5zZXNzaW9uSWQpLHRoaXMuZ0Q9ZS5nRCx0aGlzLnNDPWUuc0MsdGhpcy5URD1lLlRELHRoaXMuVWw9ZS5ybC5VbCx0aGlzLnNlc3Npb25JZD1lLnJsLnRpY2tldC5zZXNzaW9uSWQsdGhpcy54Sj1lLnhKLHRoaXMudkQ9ZS52RCx0aGlzLkFYPWUuZkosdGhpcy55RD1lLnlELHRoaXMuSUQ9ZS5JRCx0aGlzLllNPWUuWU0sdGhpcy5VbC5lQih0aGlzLlBYKX0sZS5wcm90b3R5cGUucmVxdWVzdD1mdW5jdGlvbihlKXt0cnl7dmFyIHQ9ZS51cmw7dGhpcy5sb2dnZXIuaW5mbyhcIkhJVkUgUkVRIFwiK3QpLGUuQmY9aC5GcmFtZXdvcmsudGltZSgpO3ZhciByPXRoaXMuQVguT1goZSksaT1yLkVNKGUudXJsKTt0aGlzLllNLk5YKGkpLHRoaXMuJEQoZSxpLHIscy5iZi5UZil9Y2F0Y2goZSl7cC5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIG9uIHBsYXllciByZXF1ZXN0XCIsdGhpcy5sb2dnZXJJZCxkLmhzLlduLlluLGUpfX0sZS5wcm90b3R5cGUuJEQ9ZnVuY3Rpb24oZSx0LHIsaSl7dmFyIG49dGhpcztpZih0LmlnKCkpe2lmKHQuWGYoKT09Yy52Yy5mYyl7dmFyIGE9ci5QTSh0LGkpO2lmKGEuaEYpcmV0dXJuIHRoaXMubG9nZ2VyLmRlYnVnKFwiRE8gTk9UIENPTlRJTlVFIFdJVEggVEhFIFJFUVVFU1QgXCIrdC5aZigpK1wiLiBBTFJFQURZIFJFUVVFU1RFRCAgXCIrYS5yRitcIiBQRU5ESU5HIFJFUVVFU1QgXCIrYS5hRiksbnVsbDtpZihhLmFGJiZpPT1zLmJmLlRmKXt2YXIgaD10aGlzLkRYKGUsdCxyLGkpO3JldHVybiBoLmxlbmd0aD4wPyhoLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIHI9bi53WC5nZXQodCk7bi53WC5zZXQoZS5pZCxyKSxuLndYLmRlbGV0ZSh0KX0pLG51bGwpOih0aGlzLmxvZ2dlci5pbmZvKFwiUFJFRkVUQ0ggVVBHUkFERSBGQUlMRUQuIFRISVMgU0hPVUxEIE5PVCBIQVBQRU4uIENIRUNLIEZPUiBNVUxUSVBMRSBQTEFZRVIgUkVRVUVTVFMgRk9SIFRIRSBTQU1FIEZSQUdNRU5UXCIpLHRoaXMua1goZSx0LHIsaSkpfXJldHVybiB0aGlzLmtYKGUsdCxyLGkpfXJldHVybiB0aGlzLmtYKGUsdCxyLGkpfXZhciB1PW8ucmMuT2gubmV4dCgpLGw9bmV3IHMuaGcoZSx1LGksdCxyKTtyZXR1cm4gdGhpcy53WC5zZXQoZS5pZCxsKSxsLnR5cGU9cy5iZi5tZix0aGlzLkxYKGwpLGx9LGUucHJvdG90eXBlLmtYPWZ1bmN0aW9uKGUsdCxyLGkpe3ZhciBuPXRoaXMsYT1vLnJjLk9oLm5leHQoKSxoPW5ldyBzLmhnKGUsYSxpLHQscik7aWYodGhpcy53WC5zZXQoZS5pZCxoKSx0LlhmKCk9PWMudmMuZmMmJihyLnVGKGgpLGkhPT1zLmJmLklmJiZpIT09cy5iZi53Zikpe3ZhciB1PXQuYml0cmF0ZSxsPXRoaXMueUQuTVgoKTswIT11JiYodGhpcy55RC5GWCh1KSx1IT1sJiYodGhpcy5iWD0hMCx0aGlzLkNYPTApLHRoaXMuYlgmJnRoaXMuQ1grKyx0aGlzLkNYPT10aGlzLl9YJiYodGhpcy5URC5LaigpLHRoaXMuYlg9ITEsdGhpcy5DWD0wKSl9cmV0dXJuIHRoaXMuVVgodC5aZigpKS50aGVuKGZ1bmN0aW9uKGUpe251bGwhPWU/KG4uWU0uQlgoaCxlKSxuLkhYKGgsZSksci5sRihoLlpmKCksaC4kZigpKSxyLmdGKHQuYml0cmF0ZSkpOihuLnhYKHQsaCksaC5YZigpPT1jLnZjLmZjJiYoci5kRihoKSxoLnR5cGU9PXMuYmYuVGYmJm4uUFguYWRkKDApKSl9KSxofSxlLnByb3RvdHlwZS5EWD1mdW5jdGlvbihlLHQscixpKXtyZXR1cm4gci5jRihlLHQsaSl9LGUucHJvdG90eXBlLlVYPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnNDLmdldChlKX0sZS5wcm90b3R5cGUueFg9ZnVuY3Rpb24oZSx0KXt0aGlzLmdELmNvbnRhaW5zKGUuWmYoKSk/KHRoaXMubG9nZ2VyLmRlYnVnKFwiT0JKIElEWCBDT05UQUlOUyBcIit0LlpmKCkpLHQuSmYoKT09cy5iZi5JZiYmKHQudHlwZT1zLmJmLndmKSx0aGlzLkNmKHQpKTp0LkpmKCkhPXMuYmYud2Y/dGhpcy5MWCh0KToocC5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIlAyUCBQUkVGRVRDSCBGQUlMRUQgQkVDQVVTRSBPQkpFQ1QgSU5ERVggRE9FUyBOT1QgQ09OVEFJTiBSRVFVRVNUIEVOVElUWVwiLHRoaXMubG9nZ2VySWQse1BfOnQuWmYoKX0pLHQuV2YubEYodC5aZigpLHQuJGYoKSkpfSxlLnByb3RvdHlwZS5hWD1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy53WC5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiBlLmFib3J0KHQuS2YpfSl9LGUucHJvdG90eXBlLmFib3J0PWZ1bmN0aW9uKGUpe2lmKHRoaXMud1guaGFzKGUuaWQpKXt2YXIgdD10aGlzLndYLmdldChlLmlkKSxyPXQuJGYoKTt0aGlzLmxvZ2dlci5kZWJ1ZyhcIlJFUVVFU1QgXCIrcitcIiBBQk9SVEVEIFwiKSx0aGlzLnZELllzKHIpP3RoaXMudkQucVgocik6dGhpcy54Si5ZcyhyKSYmdGhpcy54Si5xWChyKSx0aGlzLndYLmRlbGV0ZShlLmlkKX19LGUucHJvdG90eXBlLkNmPWZ1bmN0aW9uKGUpe2UudHlwZT09cy5iZi5UZiYmKGUudHlwZT1zLmJmLlJmKSxlLnR5cGU9PXMuYmYud2YmJihlLlZmPSEwKSx0aGlzLnZELnJlcXVlc3QoZSl9LGUucHJvdG90eXBlLkdYPWZ1bmN0aW9uKGUpe2lmKDAhPWUuUWYmJihlLnFmLkFmPWUuUWYsdGhpcy5sb2dnZXIuaW5mbyhcIkFMUkVBRFkgRE9XTkxPQURFRCBcIitlLnFmLkFmK1wiIEJZVEVTXCIpLGUucWYuT2Y9ZS5RZiksIWEuaGguSy5OYSYmZS5RZiYmKGUucWYuQWY9MCksdGhpcy5ZTS5WWChlKSxlLnR5cGUhPXMuYmYud2YpZS50eXBlPXMuYmYuU2YsdGhpcy5MWChlKTtlbHNlIGlmKGUuWGYoKT09Yy52Yy5mYyl7ZS5XZi5wRihlLlpmKCkpLGUuV2YubEYoZS5aZigpLGUuJGYoKSk7dmFyIHQ9ZS56Zjt0LmJpdHJhdGUmJmUuV2YuZ0YodC5iaXRyYXRlKX19LGUucHJvdG90eXBlLmpYPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dGhpcy5sb2dnZXIuaW5mbyhcIlNVQ0NFU1MgRlJPTSBQMlAgRk9SIFwiK2UuZWcoKStcIiBbUkVRIFwiK2UuWWYrXCJdIFtcIitzLmJmW2UudHlwZV0rXCJdIEFGVEVSIFwiK2Uub2coKStcIiBbYnc6XCIrZS5hZygpLkdoKCkrXCJdXCIpLHRoaXMuUVgoZSksdGhpcy5LWChlLHRoaXMuWE0oZS50eXBlKSksdGhpcy5JRC5ZWChlKTt2YXIgcj10aGlzLnhKLldYKCkuSGgoKTt0aGlzLllNLnpYKGUsciksdGhpcy5KWChlKS50aGVuKGZ1bmN0aW9uKCl7ZS5XZi5DTShlKSx0LlhYKCl9KS5maW5hbGx5KGZ1bmN0aW9uKCl7dC5YTShlLnR5cGUpJiZ0LlpYKGUpLHQud1guZGVsZXRlKGUuS2YuaWQpfSl9LGUucHJvdG90eXBlLkxYPWZ1bmN0aW9uKGUpe3RoaXMuWU0uJFgoZSksdGhpcy54Si5yZXF1ZXN0KGUpfSxlLnByb3RvdHlwZS5lWj1mdW5jdGlvbihlKXt0aGlzLlhYKCk7dmFyIHQ9dGhpcy54Si5XWCgpLkhoKCk7dGhpcy5ZTS50WihlLHQpLGUuWGYoKT09Yy52Yy5mYyYmKGUuV2YucEYoZS5aZigpKSxlLldmLmxGKGUuWmYoKSxlLiRmKCkpKSx0aGlzLnJaKGUpfSxlLnByb3RvdHlwZS5pWj1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3RoaXMuUVgoZSksdGhpcy5LWChlLHRoaXMuWE0oZS50eXBlKSksZS50eXBlPT1zLmJmLlNmJiZ0aGlzLmxvZ2dlci5kZWJ1ZyhcIkNETiBDT01QRU5TQVRJT04gVElNRSBcIisoZS5xZi5VZi1lLktmLkJmKStcIiAvIFwiKyhlLnFmLlVmLWUucWYuTGYpK1wiIFAyUCBUSU1FIFwiKyhlLnFmLkZmLWUucWYuTWYpKSwtMT09W2MudmMuZ2MsYy52Yy5FY10uaW5kZXhPZihlLlhmKCkpJiZ0aGlzLklELllYKGUpO3ZhciByPXRoaXMueEouV1goKS5IaCgpO3RoaXMuWU0ublooZSxyKSx0aGlzLkpYKGUpLnRoZW4oZnVuY3Rpb24oKXtlLlhmKCk9PWMudmMuZ2MmJmUuV2YuU00oZSksLTE9PVtjLnZjLmdjLGMudmMuRWNdLmluZGV4T2YoZS5YZigpKSYmZS5XZi5DTShlKSx0LlhYKCl9KS5jYXRjaChmdW5jdGlvbihlKXt0LmxvZ2dlci5lcnJvcihlKX0pLmZpbmFsbHkoZnVuY3Rpb24oKXt0LlhNKGUudHlwZSkmJnQuWlgoZSksdC53WC5kZWxldGUoZS5LZi5pZCl9KX0sZS5wcm90b3R5cGUuUVg9ZnVuY3Rpb24oZSl7ZS50eXBlPT1zLmJmLndmJiYoZS5xZi5wMnBBZ2VuVHJhZmZpY1N1Y2Nlc3NRdD1lLnFmLkFmKSxlLnR5cGU9PXMuYmYuSWYmJihlLnFmLmtmPWUucWYuRGYsZS5HZiYmKGUucWYuc3JjT3RoZXJSZXNwUXQ9ZS5xZi5EZikpLGUucWYuUGY9ZS5xZi5EZitlLnFmLkFmLGUuS2YudG90YWw9ZS5xZi5QZn0sZS5wcm90b3R5cGUuS1g9ZnVuY3Rpb24oZSx0KXtpZih0aGlzLnNaKGUpLHQpe3ZhciByPW8ucmMuY3JlYXRlRXZlbnQoUHJvZ3Jlc3NFdmVudCxcInByb2dyZXNzXCIse2xlbmd0aENvbXB1dGFibGU6ITAsdG90YWw6ZS5xZi5QZixsb2FkZWQ6ZS5xZi5QZixjdXJyZW50VGFyZ2V0OmUuS2Z9KTtlLktmLmRpc3BhdGNoRXZlbnQociksZS56Zi5PXygpfHwoZS5LZi5yZXNwb25zZT1lLlJNLGUuS2YucmVzcG9uc2VUZXh0PWUuUk0pfX0sZS5wcm90b3R5cGUuWlg9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5LZjt0aGlzLmxvZ2dlci5pbmZvKFwiUkVTUE9ORCBUTyBUSEUgUExBWUVSIFwiK2UuWmYoKStcIiBTSVpFIFwiKyhoLkZyYW1ld29yay5DKCk/dC50b3RhbDplLmpmLmJ5dGVMZW5ndGgpKSx0LnN0YXR1cz0yMDAsdC5yZWFkeVN0YXRlPTQsXCJzdHJpbmdcIj09dHlwZW9mIHQucmVzcG9uc2UmJlwiYXJyYXlidWZmZXJcIj09PXQucmVzcG9uc2VUeXBlJiYodC5yZXNwb25zZT1vLnJjLnRjKHQucmVzcG9uc2UpKSxcInRleHRcIiE9dC5yZXNwb25zZVR5cGUmJlwiXCIhPXQucmVzcG9uc2VUeXBlJiZkZWxldGUgdC5yZXNwb25zZVRleHQsZS56Zi5PXygpJiYodC5yZXNwb25zZT1oLkZyYW1ld29yay5DKCk/bnVsbDpvLnJjLlFoKGUuamYpKTt2YXIgcj1vLnJjLmNyZWF0ZUV2ZW50KEV2ZW50LFwicmVhZHlzdGF0ZWNoYW5nZVwiLHtjdXJyZW50VGFyZ2V0OnR9KSxpPW8ucmMuY3JlYXRlRXZlbnQoUHJvZ3Jlc3NFdmVudCxcImxvYWRcIix7YnViYmxlczohMSxjYW5jZWxhYmxlOiExLGxlbmd0aENvbXB1dGFibGU6ITEsdG90YWw6ZS56Zi5PXygpP2UuamYuYnl0ZUxlbmd0aDplLlJNLmxlbmd0aCxjdXJyZW50VGFyZ2V0OnR9KSxuPW8ucmMuY3JlYXRlRXZlbnQoUHJvZ3Jlc3NFdmVudCxcImxvYWRlbmRcIix7YnViYmxlczohMSxjYW5jZWxhYmxlOiExLGxlbmd0aENvbXB1dGFibGU6ITEsbG9hZGVkOnQudG90YWwsdG90YWw6MCxjdXJyZW50VGFyZ2V0OnR9KTt0LmRpc3BhdGNoRXZlbnQociksdC5kaXNwYXRjaEV2ZW50KGkpLHQuZGlzcGF0Y2hFdmVudChuKX0sZS5wcm90b3R5cGUuclo9ZnVuY3Rpb24oZSl7dGhpcy53WC5kZWxldGUoZS5LZi5pZCk7dmFyIHQ9ZS5LZixyPXtidWJibGVzOiExLGNhbmNlbGFibGU6ITEsbGVuZ3RoQ29tcHV0YWJsZTohMSxsb2FkZWQ6dC50b3RhbCx0b3RhbDowLGN1cnJlbnRUYXJnZXQ6dH07ZS54aHIuc3RhdHVzJiZlLnhoci5zdGF0dXM+MD8odC5zdGF0dXM9ZS54aHIuc3RhdHVzLHQucmVzcG9uc2VIZWFkZXJzPWUucmVzcG9uc2VIZWFkZXJzKTp0LnN0YXR1cz00MDQsdC5yZWFkeVN0YXRlPTQsdC5kaXNwYXRjaEV2ZW50KG8ucmMuY3JlYXRlRXZlbnQoRXZlbnQsXCJyZWFkeXN0YXRlY2hhbmdlXCIscikpLHQuZGlzcGF0Y2hFdmVudChvLnJjLmNyZWF0ZUV2ZW50KFByb2dyZXNzRXZlbnQsXCJsb2FkXCIscikpLHQuZGlzcGF0Y2hFdmVudChvLnJjLmNyZWF0ZUV2ZW50KFByb2dyZXNzRXZlbnQsXCJsb2FkZW5kXCIscikpfSxlLnByb3RvdHlwZS5KWD1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBlLnpmLmlnKCk/dGhpcy5zQy5wdXQoZSkudGhlbihmdW5jdGlvbihyKXtyJiZ0LlRELm9aKGUuemYsZS5xZi5QZixlLnhxKX0pOm4ucmVzb2x2ZSghMCl9LGUucHJvdG90eXBlLkhYPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztlLmpmPXQuZGF0YSxlLnJlc3BvbnNlSGVhZGVycz10LmhlYWRlcnMsZS5xcT10LnFxLGUucWY9dC5xZjt2YXIgaT1lLldmLmRNKCkubHgodC5sZW5ndGgpO3RoaXMubG9nZ2VyLmluZm8oXCJTQ0hFRFVMRSBERUxJVkVSWSBPRiBcIitlLlpmKCkrXCIgSU4gXCIraStcIiBTSVpFIFwiKyhoLkZyYW1ld29yay5DKCk/dC5sZW5ndGg6ZS5qZi5ieXRlTGVuZ3RoKStcIiBCWVRFU1wiKSxoLkZyYW1ld29yay5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ci5hWihlKX0saSl9LGUucHJvdG90eXBlLmFaPWZ1bmN0aW9uKGUpe3RoaXMubG9nZ2VyLmRlYnVnKFwiREVMSVZFUlkgT0YgXCIrZS5aZigpKSx0aGlzLktYKGUsITApLHRoaXMud1guZGVsZXRlKGUuS2YuaWQpO3ZhciB0PWUuS2YuQmYtZS5xZi5VZjt0aGlzLmxvZ2dlci5pbmZvKFwiRlJBR01FTlQgUFJFRkVUQ0hFRCBcIit0K1wiIE1TRUNTIEJFRk9SRSBQTEFZRVIgUkVRVUVTVFwiKSx0PjAmJmUuWGYoKT09Yy52Yy5mYyYmdGhpcy5QWC5hZGQodCk7dmFyIHI9MDtyPWUucWYuTWY+MD9lLktmLkJmLWUucWYuTWY6ZS5LZi5CZi1lLnFmLkZmLHRoaXMubG9nZ2VyLmluZm8oXCJGUkFHTUVOVCBSRVFVRVNURUQgXCIrcitcIiBNU0VDUyBCRUZPUkUgUExBWUVSIFJFUVVFU1RcIiksdGhpcy5aWChlKX0sZS5wcm90b3R5cGUuWE09ZnVuY3Rpb24oZSl7cmV0dXJuIGUhPXMuYmYud2YmJmUhPXMuYmYuSWZ9LGUucHJvdG90eXBlLnNaPWZ1bmN0aW9uKGUpe2lmKGUudHlwZSE9PXMuYmYuU2YpZS5yZXNwb25zZUhlYWRlcnM9ZS5LZi5yZXNwb25zZUhlYWRlcnM9ZS5yZXNwb25zZUhlYWRlcnM7ZWxzZXt2YXIgdD1cIlxcbkNvbnRlbnQtUmFuZ2U6IGJ5dGVzPTAtXCIrKGUuc2l6ZS0xKStcIi9cIitlLnNpemUrXCJcXG5cIjt0Kz1cIkNvbnRlbnQtTGVuZ3RoOiBcIitlLnNpemUrXCJcXG5cIixlLnJlc3BvbnNlSGVhZGVycz1lLktmLnJlc3BvbnNlSGVhZGVycz10fW51bGwhPWUucmVzcG9uc2VIZWFkZXJzJiYtMSE9ZS5yZXNwb25zZUhlYWRlcnMuaW5kZXhPZihcIkFjY2Vzcy1Db250cm9sLUFsbG93LU9yaWdpblwiKXx8KGUucmVzcG9uc2VIZWFkZXJzKz1cIlxcbkFjY2Vzcy1Db250cm9sLUFsbG93LU9yaWdpbjoqXCIpfSxlLnByb3RvdHlwZS5YWD1mdW5jdGlvbigpe2guRnJhbWV3b3JrLkMoKXx8dGhpcy5UWC5yZW5kZXIoKX0sZX0oKTt0LklKPWZ9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1yKDU3KSxuPXIoODcpLHM9cigwKSxvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuVEQ9bnVsbCx0aGlzLk5nPXMuRnJhbWV3b3JrLnJlc29sdmUocy5GcmFtZXdvcmsuVi5GKX1yZXR1cm4gZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbihlKXt0aGlzLmxvZ2dlcj1zLkZyYW1ld29yay5yZXNvbHZlKHMuRnJhbWV3b3JrLlYuUikubG9nKGUuc2Vzc2lvbklkKSx0aGlzLnNHPWUsdGhpcy5URD1lLlREfSxlLnByb3RvdHlwZS5SRD1mdW5jdGlvbihlLHQpe3ZhciByPW51bGwscz1lLl9OKCk7cmV0dXJuIG4uYnEuck0ocyk/dGhpcy5kSj1yPW5ldyBuLmJxLkRxKGUsdCx0aGlzLnNHKTppLkRBU0guck0ocyk/dGhpcy5kSj1yPW5ldyBpLkRBU0guVk0oZSx0aGlzLnNHKTp0aGlzLmxvZ2dlci53YXJuKFwiQ09VTEQgTk9UIEZJTkQgQSBDT05URVhUIEZPUiBcIitzKSxudWxsIT1yJiZ0aGlzLmhaKHRoaXMuZEopLHJ9LGUucHJvdG90eXBlLmhaPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7bnVsbCE9dGhpcy5URD90aGlzLlRELnN0b3AoKS50aGVuKGZ1bmN0aW9uKHIpe3QuVEQuc3RhcnQoZSl9KTp0aGlzLlRELnN0YXJ0KGUpfSxlLnByb3RvdHlwZS5PWD1mdW5jdGlvbihlKXtpZihudWxsPT10aGlzLmRKKXRoaXMubG9nZ2VyLndhcm4oXCJGSVJTVCBSRVFVRVNULCBDT1VMRCBOT1QgRklORCBSSUdIVCBDT05URVhUIFwiK2UudXJsKTtlbHNlIGlmKCF0aGlzLmRKLm1NKGUpKXJldHVybiB0aGlzLmxvZ2dlci53YXJuKFwiUkVRVUVTVCBET0VTIE5PVCBCRUxPTkcgVE8gVEhFIENVUlJFTlQgQ09OVEVYVCBcIitlLnVybCksbnVsbDtyZXR1cm4gdGhpcy5kSn0sZX0oKTt0LlNKPW99LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBpKGUsdCxyLG4pe2lmKCEodGhpcyBpbnN0YW5jZW9mIGkpKXJldHVybiBuZXcgaShlLHQscixuKTt0aGlzLmxzPXR8fE9iamVjdC5jcyx0aGlzLkFjPXJ8fE9iamVjdC5PYyx0aGlzLmRzPW58fEZ1bmN0aW9uLnVzLHRoaXMucm9vdD1udWxsLHRoaXMubGVuZ3RoPTAsdGhpcy5hZGRFYWNoKGUpfWZ1bmN0aW9uIG4oZSl7dGhpcy52YWx1ZT1lLHRoaXMubGVmdD1udWxsLHRoaXMucmlnaHQ9bnVsbCx0aGlzLmxlbmd0aD0xfWZ1bmN0aW9uIHMoZSx0LHIpe2lmKHRoaXMuc2V0PWUsdGhpcy5Paz1udWxsLHRoaXMuZW5kPXIsdCl7dmFyIGk9dGhpcy5zZXQuY1oodCk7aSYmKHRoaXMuc2V0LnVaKGkudmFsdWUpLHRoaXMuT2s9aS5sWigpKX19ZS5pPWk7dmFyIG89KHIoMTEpLHIoMTIpKSxhPXIoMzkpLGg9cigxMyksYz1yKDM4KSx1PXIoNjkpO2kucFo9aSxPYmplY3QuYWRkRWFjaChpLnByb3RvdHlwZSxvLnByb3RvdHlwZSksT2JqZWN0LmFkZEVhY2goaS5wcm90b3R5cGUsYS5wcm90b3R5cGUpLE9iamVjdC5hZGRFYWNoKGkucHJvdG90eXBlLGgucHJvdG90eXBlKSxPYmplY3QuYWRkRWFjaChpLnByb3RvdHlwZSxjLnByb3RvdHlwZSksaS5wcm90b3R5cGUubUY9ITAsaS5wcm90b3R5cGUuRXM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKGUsdGhpcy5scyx0aGlzLkFjLHRoaXMuZHMpfSxpLnByb3RvdHlwZS5oYXM9ZnVuY3Rpb24oZSx0KXtpZih0KXRocm93IG5ldyBFcnJvcihcIlNvcnRlZFNldCNoYXMgZG9lcyBub3Qgc3VwcG9ydCBzZWNvbmQgYXJndW1lbnQ6IGVxdWFsc1wiKTtyZXR1cm4hIXRoaXMucm9vdCYmKHRoaXMudVooZSksdGhpcy5scyhlLHRoaXMucm9vdC52YWx1ZSkpfSxpLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oZSx0KXtpZih0KXRocm93IG5ldyBFcnJvcihcIlNvcnRlZFNldCNnZXQgZG9lcyBub3Qgc3VwcG9ydCBzZWNvbmQgYXJndW1lbnQ6IGVxdWFsc1wiKTtyZXR1cm4gdGhpcy5yb290JiYodGhpcy51WihlKSx0aGlzLmxzKGUsdGhpcy5yb290LnZhbHVlKSk/dGhpcy5yb290LnZhbHVlOnRoaXMuZHMoZSl9LGkucHJvdG90eXBlLmFkZD1mdW5jdGlvbihlKXt2YXIgdD1uZXcgdGhpcy5Ob2RlKGUpO2lmKCF0aGlzLnJvb3QpcmV0dXJuIHRoaXMuTWsmJnRoaXMuUUEoW2VdLFtdLDApLHRoaXMucm9vdD10LHRoaXMubGVuZ3RoKyssdGhpcy5NayYmdGhpcy5HQShbZV0sW10sMCksITA7aWYodGhpcy51WihlKSwhdGhpcy5scyhlLHRoaXMucm9vdC52YWx1ZSkpe3ZhciByPXRoaXMuQWMoZSx0aGlzLnJvb3QudmFsdWUpO2lmKDA9PT1yKXRocm93IG5ldyBFcnJvcihcIlNvcnRlZFNldCBjYW5ub3QgY29udGFpbiBpbmNvbXBhcmFibGUgYnV0IGluZXF1YWwgdmFsdWVzOiBcIitlK1wiIGFuZCBcIit0aGlzLnJvb3QudmFsdWUpO3JldHVybiB0aGlzLk1rJiZ0aGlzLlFBKFtlXSxbXSx0aGlzLnJvb3QuaW5kZXgpLHI8MD8odC5yaWdodD10aGlzLnJvb3QsdC5sZWZ0PXRoaXMucm9vdC5sZWZ0LHRoaXMucm9vdC5sZWZ0PW51bGwsdGhpcy5yb290LmRaKCkpOih0LmxlZnQ9dGhpcy5yb290LHQucmlnaHQ9dGhpcy5yb290LnJpZ2h0LHRoaXMucm9vdC5yaWdodD1udWxsLHRoaXMucm9vdC5kWigpKSx0LmRaKCksdGhpcy5yb290PXQsdGhpcy5sZW5ndGgrKyx0aGlzLk1rJiZ0aGlzLkdBKFtlXSxbXSx0aGlzLnJvb3QuaW5kZXgpLCEwfXJldHVybiExfSxpLnByb3RvdHlwZS5kZWxldGU9ZnVuY3Rpb24oZSx0KXtpZih0KXRocm93IG5ldyBFcnJvcihcIlNvcnRlZFNldCNkZWxldGUgZG9lcyBub3Qgc3VwcG9ydCBzZWNvbmQgYXJndW1lbnQ6IGVxdWFsc1wiKTtpZih0aGlzLnJvb3QmJih0aGlzLnVaKGUpLHRoaXMubHMoZSx0aGlzLnJvb3QudmFsdWUpKSl7dmFyIHI9dGhpcy5yb290LmluZGV4O2lmKHRoaXMuTWsmJnRoaXMuUUEoW10sW2VdLHIpLHRoaXMucm9vdC5sZWZ0KXt2YXIgaT10aGlzLnJvb3QucmlnaHQ7dGhpcy5yb290PXRoaXMucm9vdC5sZWZ0LHRoaXMudVooZSksdGhpcy5yb290LnJpZ2h0PWl9ZWxzZSB0aGlzLnJvb3Q9dGhpcy5yb290LnJpZ2h0O3JldHVybiB0aGlzLmxlbmd0aC0tLHRoaXMucm9vdCYmdGhpcy5yb290LmRaKCksdGhpcy5NayYmdGhpcy5HQShbXSxbZV0sciksITB9cmV0dXJuITF9LGkucHJvdG90eXBlLmluZGV4T2Y9ZnVuY3Rpb24oZSx0KXtpZih0KXRocm93IG5ldyBFcnJvcihcIlNvcnRlZFNldCNpbmRleE9mIGRvZXMgbm90IHN1cHBvcnQgc2Vjb25kIGFyZ3VtZW50OiBzdGFydEluZGV4XCIpO3JldHVybiB0aGlzLnJvb3QmJih0aGlzLnVaKGUpLHRoaXMubHMoZSx0aGlzLnJvb3QudmFsdWUpKT90aGlzLnJvb3QuaW5kZXg6LTF9LGkucHJvdG90eXBlLmZpbmQ9ZnVuY3Rpb24oZSx0LHIpe2lmKHQpdGhyb3cgbmV3IEVycm9yKFwiU29ydGVkU2V0I2ZpbmQgZG9lcyBub3Qgc3VwcG9ydCBzZWNvbmQgYXJndW1lbnQ6IGVxdWFsc1wiKTtpZihyKXRocm93IG5ldyBFcnJvcihcIlNvcnRlZFNldCNmaW5kIGRvZXMgbm90IHN1cHBvcnQgdGhpcmQgYXJndW1lbnQ6IGluZGV4XCIpO2lmKHRoaXMucm9vdCYmKHRoaXMudVooZSksdGhpcy5scyhlLHRoaXMucm9vdC52YWx1ZSkpKXJldHVybiB0aGlzLnJvb3R9LGkucHJvdG90eXBlLmZaPWZ1bmN0aW9uKGUpe2lmKHRoaXMucm9vdCl7Zm9yKGU9ZXx8dGhpcy5yb290O2UucmlnaHQ7KWU9ZS5yaWdodDtyZXR1cm4gZX19LGkucHJvdG90eXBlLmdaPWZ1bmN0aW9uKGUpe2lmKHRoaXMucm9vdCl7Zm9yKGU9ZXx8dGhpcy5yb290O2UubGVmdDspZT1lLmxlZnQ7cmV0dXJuIGV9fSxpLnByb3RvdHlwZS5FWj1mdW5jdGlvbihlKXtpZih0aGlzLnJvb3QpcmV0dXJuIHRoaXMudVooZSksdGhpcy5BYyh0aGlzLnJvb3QudmFsdWUsZSk+MD90aGlzLnJvb3QubFooKTp0aGlzLnJvb3R9LGkucHJvdG90eXBlLnZaPWZ1bmN0aW9uKGUpe2lmKHRoaXMucm9vdClyZXR1cm4gdGhpcy51WihlKSx0aGlzLkFjKHRoaXMucm9vdC52YWx1ZSxlKT49MD90aGlzLnJvb3QubFooKTp0aGlzLnJvb3R9LGkucHJvdG90eXBlLmNaPWZ1bmN0aW9uKGUpe2lmKHRoaXMucm9vdClyZXR1cm4gdGhpcy51WihlKSx0aGlzLkFjKHRoaXMucm9vdC52YWx1ZSxlKT49MD90aGlzLnJvb3Q6dGhpcy5yb290LnlaKCl9LGkucHJvdG90eXBlLlRaPWZ1bmN0aW9uKGUpe2lmKHRoaXMucm9vdClyZXR1cm4gdGhpcy51WihlKSx0aGlzLkFjKHRoaXMucm9vdC52YWx1ZSxlKTw9MD90aGlzLnJvb3QueVooKTp0aGlzLnJvb3R9LGkucHJvdG90eXBlLnBvcD1mdW5jdGlvbigpe2lmKHRoaXMucm9vdCl7dmFyIGU9dGhpcy5mWigpO3JldHVybiB0aGlzLmRlbGV0ZShlLnZhbHVlKSxlLnZhbHVlfX0saS5wcm90b3R5cGUuc2hpZnQ9ZnVuY3Rpb24oKXtpZih0aGlzLnJvb3Qpe3ZhciBlPXRoaXMuZ1ooKTtyZXR1cm4gdGhpcy5kZWxldGUoZS52YWx1ZSksZS52YWx1ZX19LGkucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24oKXt0aGlzLmFkZEVhY2goYXJndW1lbnRzKX0saS5wcm90b3R5cGUudW5zaGlmdD1mdW5jdGlvbigpe3RoaXMuYWRkRWFjaChhcmd1bWVudHMpfSxpLnByb3RvdHlwZS5zbGljZT1mdW5jdGlvbihlLHQpe2U9ZXx8MCx0PXR8fHRoaXMubGVuZ3RoLGU8MCYmKGUrPXRoaXMubGVuZ3RoKSx0PDAmJih0Kz10aGlzLmxlbmd0aCk7dmFyIHI9W107aWYodGhpcy5yb290KWZvcih0aGlzLm1aKGUpO3RoaXMucm9vdC5pbmRleDx0JiYoci5wdXNoKHRoaXMucm9vdC52YWx1ZSksdGhpcy5yb290LnJpZ2h0KTspdGhpcy51Wih0aGlzLnJvb3QueVooKS52YWx1ZSk7cmV0dXJuIHJ9LGkucHJvdG90eXBlLnNwbGljZT1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLnFrKGUsdCxBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMikpfSxpLnByb3RvdHlwZS5xaz1mdW5jdGlvbihlLHQscil7aWYodm9pZCAwPT09ZSYmdm9pZCAwPT09dClyZXR1cm5bXTtlPWV8fDAsZTwwJiYoZSs9dGhpcy5sZW5ndGgpLHZvaWQgMD09PXQmJih0PTEvMCk7dmFyIGk9W107aWYodGhpcy5yb290KXt0aGlzLm1aKGUpO2Zvcih2YXIgbj0wO248dDtuKyspe2kucHVzaCh0aGlzLnJvb3QudmFsdWUpO3ZhciBzPXRoaXMucm9vdC55WigpO2lmKHRoaXMuZGVsZXRlKHRoaXMucm9vdC52YWx1ZSksIXMpYnJlYWs7dGhpcy51WihzLnZhbHVlKX19cmV0dXJuIHRoaXMuYWRkRWFjaChyKSxpfSxpLnByb3RvdHlwZS51Wj1mdW5jdGlvbihlKXt2YXIgdCxyLGkscyxvLGE7aWYodGhpcy5yb290KXtmb3IodD1yPWk9bmV3IHRoaXMuTm9kZSxhPW5ldyB0aGlzLk5vZGUsbz10aGlzLnJvb3Q7Oyl7dmFyIGg9dGhpcy5BYyhlLG8udmFsdWUpO2lmKGg8MCl7aWYoIW8ubGVmdClicmVhaztpZih0aGlzLkFjKGUsby5sZWZ0LnZhbHVlKTwwJiYocz1vLmxlZnQsby5sZWZ0PXMucmlnaHQsby5kWigpLHMucmlnaHQ9byxzLmRaKCksbz1zLCFvLmxlZnQpKWJyZWFrO3M9bmV3IG4scy5yaWdodD1vLHMubGVmdD1hLmxlZnQsYS5sZWZ0PXMsaS5sZWZ0PW8saS5kWigpLGk9byxvPW8ubGVmdH1lbHNle2lmKCEoaD4wKSlicmVhaztpZighby5yaWdodClicmVhaztpZih0aGlzLkFjKGUsby5yaWdodC52YWx1ZSk+MCYmKHM9by5yaWdodCxvLnJpZ2h0PXMubGVmdCxvLmRaKCkscy5sZWZ0PW8scy5kWigpLG89cywhby5yaWdodCkpYnJlYWs7cz1uZXcgbixzLmxlZnQ9byxzLnJpZ2h0PWEucmlnaHQsYS5yaWdodD1zLHIucmlnaHQ9byxyLmRaKCkscj1vLG89by5yaWdodH19Zm9yKHIucmlnaHQ9by5sZWZ0LHIuZFooKSxpLmxlZnQ9by5yaWdodCxpLmRaKCksby5sZWZ0PXQucmlnaHQsby5yaWdodD10LmxlZnQ7YS5sZWZ0OylhLmxlZnQucmlnaHQuZFooKSxhLmxlZnQ9YS5sZWZ0LmxlZnQ7Zm9yKDthLnJpZ2h0OylhLnJpZ2h0LmxlZnQuZFooKSxhLnJpZ2h0PWEucmlnaHQucmlnaHQ7by5kWigpLHRoaXMucm9vdD1vfX0saS5wcm90b3R5cGUubVo9ZnVuY3Rpb24oZSl7aWYodGhpcy5yb290KXtmb3IodmFyIHQ9dGhpcy5yb290LHI9dGhpcy5yb290LmluZGV4O3IhPT1lOylpZihyPmUmJnQubGVmdCl0PXQubGVmdCxyLT0xKyh0LnJpZ2h0P3QucmlnaHQubGVuZ3RoOjApO2Vsc2V7aWYoIShyPGUmJnQucmlnaHQpKWJyZWFrO3Q9dC5yaWdodCxyKz0xKyh0LmxlZnQ/dC5sZWZ0Lmxlbmd0aDowKX1yZXR1cm4gdGhpcy51Wih0LnZhbHVlKSx0aGlzLnJvb3QuaW5kZXg9PT1lfXJldHVybiExfSxpLnByb3RvdHlwZS5yZWR1Y2U9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiB0aGlzLnJvb3QmJih0PXRoaXMucm9vdC5yZWR1Y2UoZSx0LDAscix0aGlzKSksdH0saS5wcm90b3R5cGUucmVkdWNlUmlnaHQ9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiB0aGlzLnJvb3QmJih0PXRoaXMucm9vdC5yZWR1Y2VSaWdodChlLHQsdGhpcy5sZW5ndGgtMSxyLHRoaXMpKSx0fSxpLnByb3RvdHlwZS5taW49ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5nWihlKTtpZih0KXJldHVybiB0LnZhbHVlfSxpLnByb3RvdHlwZS5tYXg9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5mWihlKTtpZih0KXJldHVybiB0LnZhbHVlfSxpLnByb3RvdHlwZS5CYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLm1pbigpfSxpLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3ZhciBlO3RoaXMuTWsmJihlPXRoaXMudG9BcnJheSgpLHRoaXMuUUEoW10sZSwwKSksdGhpcy5yb290PW51bGwsdGhpcy5sZW5ndGg9MCx0aGlzLk1rJiZ0aGlzLkdBKFtdLGUsMCl9LGkucHJvdG90eXBlLkhjPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG5ldyB0aGlzLkl0ZXJhdG9yKHRoaXMsZSx0KX0saS5wcm90b3R5cGUuSXRlcmF0b3I9cyxpLnByb3RvdHlwZS5zdW1tYXJ5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucm9vdD90aGlzLnJvb3Quc3VtbWFyeSgpOlwiKClcIn0saS5wcm90b3R5cGUubG9nPWZ1bmN0aW9uKGUsdCxyLGkpe2U9ZXx8dS5hVSx0PXR8fHRoaXMudnMscnx8KHI9Y29uc29sZS5sb2csaT1jb25zb2xlKSxyPXIuYmluZChpKSx0aGlzLnJvb3QmJnRoaXMucm9vdC5sb2coZSx0LHIscil9LGkucHJvdG90eXBlLnZzPWZ1bmN0aW9uKGUsdCxyKXt0KFwiIFwiK2UudmFsdWUpfSxpLklaPXUsaS5wcm90b3R5cGUuTm9kZT1uLG4ucHJvdG90eXBlLnJlZHVjZT1mdW5jdGlvbihlLHQscixpLG4scyl7aWYocz1zfHwwLHRoaXMubGVmdCl7dmFyIG89dGhpcy5sZWZ0Lmxlbmd0aDt0PXRoaXMubGVmdC5yZWR1Y2UoZSx0LHIsaSxuLHMrMSkscis9b31yZXR1cm4gdD1lLmNhbGwoaSx0LHRoaXMudmFsdWUscixuLHRoaXMscykscis9MSx0aGlzLnJpZ2h0JiYodD10aGlzLnJpZ2h0LnJlZHVjZShlLHQscixpLG4scysxKSksdH0sbi5wcm90b3R5cGUucmVkdWNlUmlnaHQ9ZnVuY3Rpb24oZSx0LHIsaSxuLHMpe3JldHVybiBzPXN8fDAsdGhpcy5yaWdodCYmKHQ9dGhpcy5yaWdodC5yZWR1Y2UoZSx0LHIsaSxuLHMrMSksci09dGhpcy5yaWdodC5sZW5ndGgpLHQ9ZS5jYWxsKGksdCx0aGlzLnZhbHVlLHRoaXMudmFsdWUsbix0aGlzLHMpLHItPTEsdGhpcy5sZWZ0JiYodD10aGlzLmxlZnQucmVkdWNlKGUsdCxyLGksbixzKzEpKSx0fSxuLnByb3RvdHlwZS5kWj1mdW5jdGlvbigpe3RoaXMubGVuZ3RoPTErKHRoaXMubGVmdD90aGlzLmxlZnQubGVuZ3RoOjApKyh0aGlzLnJpZ2h0P3RoaXMucmlnaHQubGVuZ3RoOjApLHRoaXMuaW5kZXg9dGhpcy5sZWZ0P3RoaXMubGVmdC5sZW5ndGg6MH0sbi5wcm90b3R5cGUuU1o9ZnVuY3Rpb24oKXt2YXIgZT0xO2lmKGUrPXRoaXMubGVmdD90aGlzLmxlZnQuU1ooKTowLGUrPXRoaXMucmlnaHQ/dGhpcy5yaWdodC5TWigpOjAsdGhpcy5sZW5ndGghPT1lKXRocm93IG5ldyBFcnJvcihcIkludGVncml0eSBjaGVjayBmYWlsZWQ6IFwiK3RoaXMuc3VtbWFyeSgpKTtyZXR1cm4gZX0sbi5wcm90b3R5cGUueVo9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2lmKGUucmlnaHQpe2ZvcihlPWUucmlnaHQ7ZS5sZWZ0OyllPWUubGVmdDtyZXR1cm4gZX19LG4ucHJvdG90eXBlLmxaPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztpZihlLmxlZnQpe2ZvcihlPWUubGVmdDtlLnJpZ2h0OyllPWUucmlnaHQ7cmV0dXJuIGV9fSxuLnByb3RvdHlwZS5zdW1tYXJ5PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy52YWx1ZXx8XCItXCI7cmV0dXJuIGUrPVwiIDxcIit0aGlzLmxlbmd0aCx0aGlzLmxlZnR8fHRoaXMucmlnaHQ/XCIoXCIrZStcIiBcIisodGhpcy5sZWZ0P3RoaXMubGVmdC5zdW1tYXJ5KCk6XCIoKVwiKStcIiwgXCIrKHRoaXMucmlnaHQ/dGhpcy5yaWdodC5zdW1tYXJ5KCk6XCIoKVwiKStcIilcIjpcIihcIitlK1wiKVwifSxuLnByb3RvdHlwZS5sb2c9ZnVuY3Rpb24oZSx0LHIsaSl7dmFyIG4scz10aGlzO249dGhpcy5sZWZ0JiZ0aGlzLnJpZ2h0P2UuV0E6dGhpcy5sZWZ0P2UudFU6dGhpcy5yaWdodD9lLnJVOmUuZVU7dmFyIG87dGhpcy5sZWZ0JiZ0aGlzLmxlZnQubG9nKGUsdCxmdW5jdGlvbih0KXtvP2koZS5vVStcIiBcIit0KToobz0hMCxpKGUuaVUrZS5lVSt0KSl9LGZ1bmN0aW9uKGUpe2koXCIgIFwiK2UpfSk7dmFyIGE7dCh0aGlzLGZ1bmN0aW9uKHQpe2E/cigocy5yaWdodD9lLm9VOlwiIFwiKSt0KTooYT0hMCxyKG4rdCkpfSxmdW5jdGlvbih0KXtpKChzLmxlZnQ/ZS5vVTpcIiBcIikrdCl9KTt2YXIgaDt0aGlzLnJpZ2h0JiZ0aGlzLnJpZ2h0LmxvZyhlLHQsZnVuY3Rpb24odCl7aD9yKFwiICBcIit0KTooaD0hMCxyKGUublUrZS5lVSt0KSl9LGZ1bmN0aW9uKHQpe3IoZS5vVStcIiBcIit0KX0pfSxzLnByb3RvdHlwZS5Haz1udWxsLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzLnByb3RvdHlwZSxcIl9pdGVyYXRpb25PYmplY3RcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuR2t8fCh0aGlzLkdrPXtkb25lOiExLHZhbHVlOm51bGx9KX19KSxzLnByb3RvdHlwZS5uZXh0PWZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIGU9dGhpcy5Paz90aGlzLnNldC5UWih0aGlzLk9rLnZhbHVlKTp0aGlzLnNldC5nWigpLGU/dm9pZCAwIT09dGhpcy5lbmQmJnRoaXMuc2V0LkFjKGUudmFsdWUsdGhpcy5lbmQpPj0wPyh0aGlzLlZrLmRvbmU9ITAsdGhpcy5Way52YWx1ZT12b2lkIDApOih0aGlzLk9rPWUsdGhpcy5Way52YWx1ZT1lLnZhbHVlKToodGhpcy5Way5kb25lPSEwLHRoaXMuVmsudmFsdWU9dm9pZCAwKSx0aGlzLlZrfX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuckY9ITEsdGhpcy5hRj0hMSx0aGlzLmhGPSExfXJldHVybiBlfSgpO3QuZUY9aX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGkoZSx0LHIsbil7aWYoISh0aGlzIGluc3RhbmNlb2YgaSkpcmV0dXJuIG5ldyBpKGUsdCxyLG4pO0FycmF5LmlzQXJyYXkoZSk/KHRoaXMuTlQ9ZSxlPWUuc3BsaWNlKDAsZS5sZW5ndGgpKTp0aGlzLk5UPVtdLHRoaXMubHM9dHx8T2JqZWN0LmNzLHRoaXMuQWM9cnx8T2JqZWN0Lk9jLHRoaXMuZHM9bnx8RnVuY3Rpb24udXMsdGhpcy5sZW5ndGg9MCx0aGlzLmFkZEVhY2goZSl9ZnVuY3Rpb24gbihlLHQscil7Zm9yKHZhciBpPTAsbj1lLmxlbmd0aC0xO2k8PW47KXt2YXIgcz1pK24+PjEsbz1yKHQsZVtzXSk7aWYobz4wKWk9cysxO2Vsc2V7aWYoIShvPDApKXJldHVybiBzO249cy0xfX1yZXR1cm4tKGkrMSl9ZnVuY3Rpb24gcyhlLHQscixpKXt2YXIgcz1uKGUsdCxyKTtpZihzPDApcmV0dXJuLTE7Zm9yKDtzPjAmJmkodCxlW3MtMV0pOylzLS07cmV0dXJuIGkodCxlW3NdKT9zOi0xfWZ1bmN0aW9uIG8oZSx0LHIsaSl7dmFyIHM9bihlLHQscik7aWYoczwwKXJldHVybi0xO2Zvcig7czxlLmxlbmd0aC0xJiZpKHQsZVtzKzFdKTspcysrO3JldHVybiBpKHQsZVtzXSk/czotMX1mdW5jdGlvbiBhKGUsdCxyKXt2YXIgaT1uKGUsdCxyKTtpZihpPDApcmV0dXJuLWktMTtmb3IodmFyIHM9ZS5sZW5ndGgtMTtpPHMmJjA9PT1yKHQsZVtpKzFdKTspaSsrO3JldHVybiBpfWUuaT1pO3ZhciBoPShyKDExKSxyKDEyKSksYz1yKDEzKSx1PXIoMzgpO2kuUlo9aSxPYmplY3QuYWRkRWFjaChpLnByb3RvdHlwZSxoLnByb3RvdHlwZSksT2JqZWN0LmFkZEVhY2goaS5wcm90b3R5cGUsYy5wcm90b3R5cGUpLE9iamVjdC5hZGRFYWNoKGkucHJvdG90eXBlLHUucHJvdG90eXBlKSxpLnByb3RvdHlwZS5tRj0hMCxpLnByb3RvdHlwZS5Fcz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoZSx0aGlzLmxzLHRoaXMuQWMsdGhpcy5kcyl9LGkucHJvdG90eXBlLmhhcz1mdW5jdGlvbihlLHQpe2lmKHQpdGhyb3cgbmV3IEVycm9yKFwiU29ydGVkU2V0I2hhcyBkb2VzIG5vdCBzdXBwb3J0IHNlY29uZCBhcmd1bWVudDogZXF1YWxzXCIpO3ZhciByPW4odGhpcy5OVCxlLHRoaXMuQWMpO3JldHVybiByPj0wJiZ0aGlzLmxzKHRoaXMuTlRbcl0sZSl9LGkucHJvdG90eXBlLmdldD1mdW5jdGlvbihlLHQpe2lmKHQpdGhyb3cgbmV3IEVycm9yKFwiU29ydGVkQXJyYXkjZ2V0IGRvZXMgbm90IHN1cHBvcnQgc2Vjb25kIGFyZ3VtZW50OiBlcXVhbHNcIik7dmFyIHI9cyh0aGlzLk5ULGUsdGhpcy5BYyx0aGlzLmxzKTtyZXR1cm4tMSE9PXI/dGhpcy5OVFtyXTp0aGlzLmRzKGUpfSxpLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24oZSl7dmFyIHQ9YSh0aGlzLk5ULGUsdGhpcy5BYyk7cmV0dXJuIHRoaXMuTWsmJnRoaXMuUUEoW2VdLFtdLHQpLHRoaXMuTlQuc3BsaWNlKHQsMCxlKSx0aGlzLmxlbmd0aCsrLHRoaXMuTWsmJnRoaXMuR0EoW2VdLFtdLHQpLCEwfSxpLnByb3RvdHlwZS5kZWxldGU9ZnVuY3Rpb24oZSx0KXtpZih0KXRocm93IG5ldyBFcnJvcihcIlNvcnRlZEFycmF5I2RlbGV0ZSBkb2VzIG5vdCBzdXBwb3J0IHNlY29uZCBhcmd1bWVudDogZXF1YWxzXCIpO3ZhciByPXModGhpcy5OVCxlLHRoaXMuQWMsdGhpcy5scyk7cmV0dXJuLTEhPT1yJiYodGhpcy5NayYmdGhpcy5RQShbXSxbZV0sciksdGhpcy5OVC5zcGxpY2UociwxKSx0aGlzLmxlbmd0aC0tLHRoaXMuTWsmJnRoaXMuR0EoW10sW2VdLHIpLCEwKX0saS5wcm90b3R5cGUuWEE9ZnVuY3Rpb24oZSx0KXtpZih0KXt2YXIgcj10aGlzLk5ULlhBKGUsdCk7cmV0dXJuIHRoaXMubGVuZ3RoLT1yLHJ9dmFyIGk9cyh0aGlzLk5ULGUsdGhpcy5BYyx0aGlzLmxzKTtpZigtMSE9PWkpe2Zvcih2YXIgbj1pO3RoaXMubHMoZSx0aGlzLk5UW25dKTspbisrO3ZhciBvPXRoaXMuc2xpY2UoaSxuKTtyZXR1cm4gdGhpcy5NayYmdGhpcy5RQShbXSxvLGkpLHRoaXMuTlQuc3BsaWNlKGksby5sZW5ndGgpLHRoaXMubGVuZ3RoLT1vLmxlbmd0aCx0aGlzLk1rJiZ0aGlzLkdBKFtdLG8saSksby5sZW5ndGh9cmV0dXJuIDB9LGkucHJvdG90eXBlLmluZGV4T2Y9ZnVuY3Rpb24oZSl7cmV0dXJuIHModGhpcy5OVCxlLHRoaXMuQWMsdGhpcy5scyl9LGkucHJvdG90eXBlLmxhc3RJbmRleE9mPWZ1bmN0aW9uKGUpe3JldHVybiBvKHRoaXMuTlQsZSx0aGlzLkFjLHRoaXMubHMpfSxpLnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKGUsdCxyKXtpZih0KXRocm93IG5ldyBFcnJvcihcIlNvcnRlZEFycmF5I2ZpbmQgZG9lcyBub3Qgc3VwcG9ydCBzZWNvbmQgYXJndW1lbnQ6IGVxdWFsc1wiKTtpZihyKXRocm93IG5ldyBFcnJvcihcIlNvcnRlZEFycmF5I2ZpbmQgZG9lcyBub3Qgc3VwcG9ydCB0aGlyZCBhcmd1bWVudDogaW5kZXhcIik7cmV0dXJuIHModGhpcy5OVCxlLHRoaXMuQWMsdGhpcy5scyl9LGkucHJvdG90eXBlLkxrPWZ1bmN0aW9uKGUsdCxyKXtpZih0KXRocm93IG5ldyBFcnJvcihcIlNvcnRlZEFycmF5I2ZpbmRMYXN0IGRvZXMgbm90IHN1cHBvcnQgc2Vjb25kIGFyZ3VtZW50OiBlcXVhbHNcIik7aWYocil0aHJvdyBuZXcgRXJyb3IoXCJTb3J0ZWRBcnJheSNmaW5kTGFzdCBkb2VzIG5vdCBzdXBwb3J0IHRoaXJkIGFyZ3VtZW50OiBpbmRleFwiKTtyZXR1cm4gbyh0aGlzLk5ULGUsdGhpcy5BYyx0aGlzLmxzKX0saS5wcm90b3R5cGUucHVzaD1mdW5jdGlvbigpe3RoaXMuYWRkRWFjaChhcmd1bWVudHMpfSxpLnByb3RvdHlwZS51bnNoaWZ0PWZ1bmN0aW9uKCl7dGhpcy5hZGRFYWNoKGFyZ3VtZW50cyl9LGkucHJvdG90eXBlLnBvcD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuTlQucG9wKCk7cmV0dXJuIHRoaXMubGVuZ3RoPXRoaXMuTlQubGVuZ3RoLGV9LGkucHJvdG90eXBlLnNoaWZ0PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5OVC5zaGlmdCgpO3JldHVybiB0aGlzLmxlbmd0aD10aGlzLk5ULmxlbmd0aCxlfSxpLnByb3RvdHlwZS5zbGljZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLk5ULnNsaWNlLmFwcGx5KHRoaXMuTlQsYXJndW1lbnRzKX0saS5wcm90b3R5cGUuc3BsaWNlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMucWsoZSx0LEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywyKSl9LGkucHJvdG90eXBlLnFrPWZ1bmN0aW9uKGUsdCxyKXtpZih2b2lkIDA9PT1lJiZ2b2lkIDA9PT10KXJldHVybltdO2U9ZXx8MCxlPDAmJihlKz10aGlzLmxlbmd0aCksdm9pZCAwPT09dCYmKHQ9MS8wKTt2YXIgaT10aGlzLnNsaWNlKGUsZSt0KTtyZXR1cm4gdGhpcy5NayYmdGhpcy5RQShyLGksZSksdGhpcy5OVC5zcGxpY2UoZSx0KSx0aGlzLmxlbmd0aC09aS5sZW5ndGgsdGhpcy5NayYmdGhpcy5HQShbXSxpLGUpLHRoaXMuYWRkRWFjaChyKSxpfSxpLnByb3RvdHlwZS5yZWR1Y2U9ZnVuY3Rpb24oZSx0KXt2YXIgcj1hcmd1bWVudHNbMl07cmV0dXJuIHRoaXMuTlQucmVkdWNlKGZ1bmN0aW9uKHQsaSxuKXtyZXR1cm4gZS5jYWxsKHIsdCxpLG4sdGhpcyl9LHQsdGhpcyl9LGkucHJvdG90eXBlLnJlZHVjZVJpZ2h0PWZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzWzJdO3JldHVybiB0aGlzLk5ULnJlZHVjZVJpZ2h0KGZ1bmN0aW9uKHQscixpKXtyZXR1cm4gY2FsbGJhY2suY2FsbChlLHQscixpLHRoaXMpfSxiYXNpcyx0aGlzKX0saS5wcm90b3R5cGUubWluPWZ1bmN0aW9uKCl7aWYodGhpcy5sZW5ndGgpcmV0dXJuIHRoaXMuTlRbMF19LGkucHJvdG90eXBlLm1heD1mdW5jdGlvbigpe2lmKHRoaXMubGVuZ3RoKXJldHVybiB0aGlzLk5UW3RoaXMubGVuZ3RoLTFdfSxpLnByb3RvdHlwZS5CYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLk5ULkJjKCl9LGkucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dmFyIGU7dGhpcy5NayYmKGU9dGhpcy5OVC5zbGljZSgpLHRoaXMuUUEoW10sZSwwKSksdGhpcy5sZW5ndGg9MCx0aGlzLk5ULmNsZWFyKCksdGhpcy5NayYmdGhpcy5HQShbXSxlLDApfSxpLnByb3RvdHlwZS5jcz1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLk5ULmNzKGUsdCl9LGkucHJvdG90eXBlLk9jPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuTlQuT2MoZSx0KX0saS5wcm90b3R5cGUuSGM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3IHRoaXMuSXRlcmF0b3IodGhpcy5OVCxlLHQpfSxpLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50b0FycmF5KCl9LGkucHJvdG90eXBlLkl0ZXJhdG9yPUFycmF5LnByb3RvdHlwZS5JdGVyYXRvcn0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXRoaXMmJnRoaXMuaHV8fGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gcigpe3RoaXMuY29uc3RydWN0b3I9ZX1mb3IodmFyIGkgaW4gdCl0Lmhhc093blByb3BlcnR5KGkpJiYoZVtpXT10W2ldKTtlLnByb3RvdHlwZT1udWxsPT09dD9PYmplY3QuY3JlYXRlKHQpOihyLnByb3RvdHlwZT10LnByb3RvdHlwZSxuZXcgcil9LG49cig4NCkscz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gaSh0LGUpLHR9KG4uVHgpO3Qub009c30sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXRoaXMmJnRoaXMuaHV8fGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gcigpe3RoaXMuY29uc3RydWN0b3I9ZX1mb3IodmFyIGkgaW4gdCl0Lmhhc093blByb3BlcnR5KGkpJiYoZVtpXT10W2ldKTtlLnByb3RvdHlwZT1udWxsPT09dD9PYmplY3QuY3JlYXRlKHQpOihyLnByb3RvdHlwZT10LnByb3RvdHlwZSxuZXcgcil9LG49cig4NSkscz1yKDQpLG89ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIGkodCxlKSx0LnByb3RvdHlwZS5ieD1mdW5jdGlvbihlLHQpe2lmKERPTVBhcnNlcil7dmFyIHI9KG5ldyBET01QYXJzZXIpLnBhcnNlRnJvbVN0cmluZyh0LFwidGV4dC94bWxcIiksaT1yLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiTG9jYXRpb25cIiksbj1cIlwiO2lmKGkmJmkubGVuZ3RoPjAmJmlbMF0uY2hpbGROb2Rlcy5sZW5ndGg+MCl7dmFyIHM9aVswXS5jaGlsZE5vZGVzWzBdO249dGhpcy5JeChzLmRhdGEpfWVsc2Ugbj10aGlzLkl4KGUpO3RoaXMubWFuaWZlc3Q9dGhpcy5teC5wYXJzZSh0LG4pfX0sdC5wcm90b3R5cGUuVXg9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3Vic3RyKDAsZS5sYXN0SW5kZXhPZihcIl9jc1wiKSl9LHQucHJvdG90eXBlLkNNPWZ1bmN0aW9uKGUpe3JldHVybiBzLnJlc29sdmUoITEpfSx0fShuLiR4KTt0LmhNPW99LGZ1bmN0aW9uKGUsdCxyKXsvKiFcbiAqIFRoZSBjb3B5cmlnaHQgaW4gdGhpcyBzb2Z0d2FyZSBpcyBiZWluZyBtYWRlIGF2YWlsYWJsZSB1bmRlciB0aGUgQlNEIExpY2Vuc2UsXG4gKiBpbmNsdWRlZCBiZWxvdy4gVGhpcyBzb2Z0d2FyZSBtYXkgYmUgc3ViamVjdCB0byBvdGhlciB0aGlyZCBwYXJ0eSBhbmQgY29udHJpYnV0b3JcbiAqIHJpZ2h0cywgaW5jbHVkaW5nIHBhdGVudCByaWdodHMsIGFuZCBubyBzdWNoIHJpZ2h0cyBhcmUgZ3JhbnRlZCB1bmRlciB0aGlzIGxpY2Vuc2UuXG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLCBEYXNoIEluZHVzdHJ5IEZvcnVtLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBSZWRpc3RyaWJ1dGlvbiBhbmQgdXNlIGluIHNvdXJjZSBhbmQgYmluYXJ5IGZvcm1zLCB3aXRoIG9yIHdpdGhvdXQgbW9kaWZpY2F0aW9uLFxuICogYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmUgbWV0OlxuICogICogUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLCB0aGlzXG4gKiAgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuXG4gKiAgKiBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsXG4gKiAgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lciBpbiB0aGUgZG9jdW1lbnRhdGlvbiBhbmQvb3JcbiAqICBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWQgd2l0aCB0aGUgZGlzdHJpYnV0aW9uLlxuICogICogTmVpdGhlciB0aGUgbmFtZSBvZiBEYXNoIEluZHVzdHJ5IEZvcnVtIG5vciB0aGUgbmFtZXMgb2YgaXRzXG4gKiAgY29udHJpYnV0b3JzIG1heSBiZSB1c2VkIHRvIGVuZG9yc2Ugb3IgcHJvbW90ZSBwcm9kdWN0cyBkZXJpdmVkIGZyb20gdGhpcyBzb2Z0d2FyZVxuICogIHdpdGhvdXQgc3BlY2lmaWMgcHJpb3Igd3JpdHRlbiBwZXJtaXNzaW9uLlxuICpcbiAqICBUSElTIFNPRlRXQVJFIElTIFBST1ZJREVEIEJZIFRIRSBDT1BZUklHSFQgSE9MREVSUyBBTkQgQ09OVFJJQlVUT1JTIEFTIElTIEFORCBBTllcbiAqICBFWFBSRVNTIE9SIElNUExJRUQgV0FSUkFOVElFUywgSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFRIRSBJTVBMSUVEXG4gKiAgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFSRSBESVNDTEFJTUVELlxuICogIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBDT1BZUklHSFQgSE9MREVSIE9SIENPTlRSSUJVVE9SUyBCRSBMSUFCTEUgRk9SIEFOWSBESVJFQ1QsXG4gKiAgSU5ESVJFQ1QsIElOQ0lERU5UQUwsIFNQRUNJQUwsIEVYRU1QTEFSWSwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIChJTkNMVURJTkcsIEJVVFxuICogIE5PVCBMSU1JVEVEIFRPLCBQUk9DVVJFTUVOVCBPRiBTVUJTVElUVVRFIEdPT0RTIE9SIFNFUlZJQ0VTOyBMT1NTIE9GIFVTRSwgREFUQSwgT1JcbiAqICBQUk9GSVRTOyBPUiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORCBPTiBBTlkgVEhFT1JZIE9GIExJQUJJTElUWSxcbiAqICBXSEVUSEVSIElOIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUiBUT1JUIChJTkNMVURJTkcgTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpXG4gKiAgQVJJU0lORyBJTiBBTlkgV0FZIE9VVCBPRiBUSEUgVVNFIE9GIFRISVMgU09GVFdBUkUsIEVWRU4gSUYgQURWSVNFRCBPRiBUSEVcbiAqICBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS5cbiAqL1xudmFyIGk9cigxNDUpLG49cig4Nik7RGFzaFBhcnNlcj1mdW5jdGlvbigpe3ZhciBlPS9eKFstXSk/UCgoW1xcZC5dKilZKT8oKFtcXGQuXSopTSk/KChbXFxkLl0qKUQpP1Q/KChbXFxkLl0qKUgpPygoW1xcZC5dKilNKT8oKFtcXGQuXSopUyk/Lyx0PS9eKFswLTldezR9KS0oWzAtOV17Mn0pLShbMC05XXsyfSlUKFswLTldezJ9KTooWzAtOV17Mn0pKD86OihbMC05XSopKFxcLlswLTldKik/KT8oPzooWystXSkoWzAtOV17Mn0pKFswLTldezJ9KSk/LyxyPS9eWy0rXT9bMC05XStbLl0/WzAtOV0qKFtlRV1bLStdP1swLTldKyk/JC8scz1be3R5cGU6XCJkdXJhdGlvblwiLHRlc3Q6ZnVuY3Rpb24odCl7Zm9yKHZhciByPVtcIm1pbkJ1ZmZlclRpbWVcIixcIm1lZGlhUHJlc2VudGF0aW9uRHVyYXRpb25cIixcIm1pbmltdW1VcGRhdGVQZXJpb2RcIixcInRpbWVTaGlmdEJ1ZmZlckRlcHRoXCIsXCJtYXhTZWdtZW50RHVyYXRpb25cIixcIm1heFN1YnNlZ21lbnREdXJhdGlvblwiLFwic3VnZ2VzdGVkUHJlc2VudGF0aW9uRGVsYXlcIixcInN0YXJ0XCIsXCJzdGFydHRpbWVcIixcImR1cmF0aW9uXCJdLGk9ci5sZW5ndGgsbj0wO248aTtuKyspaWYodC5ub2RlTmFtZT09PXJbbl0pcmV0dXJuIGUudGVzdCh0LnZhbHVlKTtyZXR1cm4hMX0sdHE6ZnVuY3Rpb24odCl7dmFyIHI9ZS5leGVjKHQpLGk9MzE1MzZlMypwYXJzZUZsb2F0KHJbMl18fDApKzI1OTJlMypwYXJzZUZsb2F0KHJbNF18fDApKzg2NDAwKnBhcnNlRmxvYXQocls2XXx8MCkrMzYwMCpwYXJzZUZsb2F0KHJbOF18fDApKzYwKnBhcnNlRmxvYXQoclsxMF18fDApK3BhcnNlRmxvYXQoclsxMl18fDApO3JldHVybiB2b2lkIDAhPT1yWzFdJiYoaT0taSksaX19LHt0eXBlOlwiZGF0ZXRpbWVcIix0ZXN0OmZ1bmN0aW9uKGUpe3JldHVybiB0LnRlc3QoZS52YWx1ZSl9LHRxOmZ1bmN0aW9uKGUpe3ZhciByLGk9dC5leGVjKGUpO2lmKHI9RGF0ZS5VVEMocGFyc2VJbnQoaVsxXSwxMCkscGFyc2VJbnQoaVsyXSwxMCktMSxwYXJzZUludChpWzNdLDEwKSxwYXJzZUludChpWzRdLDEwKSxwYXJzZUludChpWzVdLDEwKSxpWzZdJiZwYXJzZUludChpWzZdLDEwKXx8MCxpWzddJiYxZTMqcGFyc2VGbG9hdChpWzddKXx8MCksaVs5XSYmaVsxMF0pe3ZhciBuPTYwKnBhcnNlSW50KGlbOV0sMTApK3BhcnNlSW50KGlbMTBdLDEwKTtyKz0oXCIrXCI9PT1pWzhdPy0xOjEpKm4qNjAqMWUzfXJldHVybiBuZXcgRGF0ZShyKX19LHt0eXBlOlwibnVtZXJpY1wiLHRlc3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIHIudGVzdChlLnZhbHVlKX0sdHE6ZnVuY3Rpb24oZSl7cmV0dXJuIHBhcnNlRmxvYXQoZSl9fV0sbz1mdW5jdGlvbigpe3ZhciBlLHQscixpO3JldHVybiBpPVt7bmFtZTpcInByb2ZpbGVzXCIsUHk6ITF9LHtuYW1lOlwid2lkdGhcIixQeTohMX0se25hbWU6XCJoZWlnaHRcIixQeTohMX0se25hbWU6XCJzYXJcIixQeTohMX0se25hbWU6XCJmcmFtZVJhdGVcIixQeTohMX0se25hbWU6XCJhdWRpb1NhbXBsaW5nUmF0ZVwiLFB5OiExfSx7bmFtZTpcIm1pbWVUeXBlXCIsUHk6ITF9LHtuYW1lOlwic2VnbWVudFByb2ZpbGVzXCIsUHk6ITF9LHtuYW1lOlwiY29kZWNzXCIsUHk6ITF9LHtuYW1lOlwibWF4aW11bVNBUFBlcmlvZFwiLFB5OiExfSx7bmFtZTpcInN0YXJ0c1dpdGhTYXBcIixQeTohMX0se25hbWU6XCJtYXhQbGF5b3V0UmF0ZVwiLFB5OiExfSx7bmFtZTpcImNvZGluZ0RlcGVuZGVuY3lcIixQeTohMX0se25hbWU6XCJzY2FuVHlwZVwiLFB5OiExfSx7bmFtZTpcIkZyYW1lUGFja2luZ1wiLFB5OiEwfSx7bmFtZTpcIkF1ZGlvQ2hhbm5lbENvbmZpZ3VyYXRpb25cIixQeTohMH0se25hbWU6XCJDb250ZW50UHJvdGVjdGlvblwiLFB5OiEwfV0sZT17fSxlLm5hbWU9XCJBZGFwdGF0aW9uU2V0XCIsZS53Wj0hMSxlLmlzQXJyYXk9ITAsZS5wYXJlbnQ9bnVsbCxlLmNoaWxkcmVuPVtdLGUucHJvcGVydGllcz1pLHQ9e30sdC5uYW1lPVwiUmVwcmVzZW50YXRpb25cIix0LndaPSExLHQuaXNBcnJheT0hMCx0LnBhcmVudD1lLHQuY2hpbGRyZW49W10sdC5wcm9wZXJ0aWVzPWksZS5jaGlsZHJlbi5wdXNoKHQpLHI9e30sci5uYW1lPVwiU3ViUmVwcmVzZW50YXRpb25cIixyLndaPSExLHIuaXNBcnJheT0hMCxyLnBhcmVudD10LHIuY2hpbGRyZW49W10sci5wcm9wZXJ0aWVzPWksdC5jaGlsZHJlbi5wdXNoKHIpLGV9LGE9ZnVuY3Rpb24oKXt2YXIgZSx0LHIsaTtyZXR1cm4gaT1be25hbWU6XCJTZWdtZW50QmFzZVwiLFB5OiEwfSx7bmFtZTpcIlNlZ21lbnRUZW1wbGF0ZVwiLFB5OiEwfSx7bmFtZTpcIlNlZ21lbnRMaXN0XCIsUHk6ITB9XSxlPXt9LGUubmFtZT1cIlBlcmlvZFwiLGUud1o9ITEsZS5pc0FycmF5PSEwLGUucGFyZW50PW51bGwsZS5jaGlsZHJlbj1bXSxlLnByb3BlcnRpZXM9aSx0PXt9LHQubmFtZT1cIkFkYXB0YXRpb25TZXRcIix0LndaPSExLHQuaXNBcnJheT0hMCx0LnBhcmVudD1lLHQuY2hpbGRyZW49W10sdC5wcm9wZXJ0aWVzPWksZS5jaGlsZHJlbi5wdXNoKHQpLHI9e30sci5uYW1lPVwiUmVwcmVzZW50YXRpb25cIixyLndaPSExLHIuaXNBcnJheT0hMCxyLnBhcmVudD10LHIuY2hpbGRyZW49W10sci5wcm9wZXJ0aWVzPWksdC5jaGlsZHJlbi5wdXNoKHIpLGV9LGg9ZnVuY3Rpb24oKXt2YXIgZSx0LHIsaSxuO3JldHVybiBuPVt7bmFtZTpcIkJhc2VVUkxcIixQeTohMCxiWjpmdW5jdGlvbihlLHQpe3JldHVybiAwPT09dC5pbmRleE9mKFwiaHR0cDovL1wiKT90OmUrdH19XSxlPXt9LGUubmFtZT1cIm1wZFwiLGUud1o9ITAsZS5pc0FycmF5PSEwLGUucGFyZW50PW51bGwsZS5jaGlsZHJlbj1bXSxlLnByb3BlcnRpZXM9bix0PXt9LHQubmFtZT1cIlBlcmlvZFwiLHQud1o9ITEsdC5pc0FycmF5PSEwLHQucGFyZW50PW51bGwsdC5jaGlsZHJlbj1bXSx0LnByb3BlcnRpZXM9bixlLmNoaWxkcmVuLnB1c2godCkscj17fSxyLm5hbWU9XCJBZGFwdGF0aW9uU2V0XCIsci53Wj0hMSxyLmlzQXJyYXk9ITAsci5wYXJlbnQ9dCxyLmNoaWxkcmVuPVtdLHIucHJvcGVydGllcz1uLHQuY2hpbGRyZW4ucHVzaChyKSxpPXt9LGkubmFtZT1cIlJlcHJlc2VudGF0aW9uXCIsaS53Wj0hMSxpLmlzQXJyYXk9ITAsaS5wYXJlbnQ9cixpLmNoaWxkcmVuPVtdLGkucHJvcGVydGllcz1uLHIuY2hpbGRyZW4ucHVzaChpKSxlfSxjPWZ1bmN0aW9uKCl7dmFyIGU9W107cmV0dXJuIGUucHVzaChvKCkpLGUucHVzaChhKCkpLGUucHVzaChoKCkpLGV9O3JldHVybntwYXJzZTpmdW5jdGlvbihlLHQpe3ZhciByLG89bmV3IG4ocyxcIlwiLCEwKSxhPW5ldyBpKGMoKSk7bmV3IERhdGU7dHJ5e3I9by5XeChlKSxuZXcgRGF0ZSxyLmhhc093blByb3BlcnR5KFwiQmFzZVVSTFwiKT8oci5CYXNlVVJMPXIuQ1pbMF0sMCE9PXIuQmFzZVVSTC50b1N0cmluZygpLmluZGV4T2YoXCJodHRwXCIpJiYoci5CYXNlVVJMPXQrci5CYXNlVVJMKSk6ci5CYXNlVVJMPXQsci5oYXNPd25Qcm9wZXJ0eShcIkxvY2F0aW9uXCIpJiYoci5Mb2NhdGlvbj1yLkxvY2F0aW9uX2FzQXJyYXlbMF0pLGEuX1oociksbmV3IERhdGV9Y2F0Y2godCl7cmV0dXJuIGNvbnNvbGUubG9nKFwicGFyc2luZyB0aGUgbWFuaWZlc3QgZmFpbGVkXCIsXCJwYXJzZVwiLGUpLG51bGx9cmV0dXJuIHJ9fX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1mdW5jdGlvbihlKXt2YXIgdDtmb3IodD1bXSxpPTAsbGVuPWUubGVuZ3RoO2k8bGVuO2krPTEpZVtpXS53Wj90LnB1c2goXCJyb290XCIpOnQucHVzaChlW2ldLm5hbWUpO3ZhciByPWZ1bmN0aW9uKGUsdCl7dmFyIHI7aWYobnVsbCE9PWUmJm51bGwhPT10KWZvcihyIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShyKSYmKHQuaGFzT3duUHJvcGVydHkocil8fCh0W3JdPWVbcl0pKX0sbj1mdW5jdGlvbihlLHQsaSl7dmFyIG4scyxvLGEsaDtpZihudWxsIT09ZSYmMCE9PWUubGVuZ3RoKWZvcihuPTAscz1lLmxlbmd0aDtuPHM7bis9MSlvPWVbbl0sdC5oYXNPd25Qcm9wZXJ0eShvLm5hbWUpJiYoaS5oYXNPd25Qcm9wZXJ0eShvLm5hbWUpP28uUHkmJihhPXRbby5uYW1lXSxoPWlbby5uYW1lXSxcIm9iamVjdFwiPT10eXBlb2YgYSYmXCJvYmplY3RcIj09dHlwZW9mIGg/cihhLGgpOm51bGwhPW8uYlo/aVtvLm5hbWVdPW8uYlooYSxoKTppW28ubmFtZV09YStoKTppW28ubmFtZV09dFtvLm5hbWVdKX0scz1mdW5jdGlvbihlLHQpe3ZhciByLGksbyxhLGgsYyx1LGw9ZTtpZihudWxsIT09bC5jaGlsZHJlbiYmMCE9PWwuY2hpbGRyZW4ubGVuZ3RoKWZvcihyPTAsaT1sLmNoaWxkcmVuLmxlbmd0aDtyPGk7cis9MSlpZihjPWwuY2hpbGRyZW5bcl0sdC5oYXNPd25Qcm9wZXJ0eShjLm5hbWUpKWlmKGMuaXNBcnJheSlmb3IoaD10W2MubmFtZStcIl9hc0FycmF5XCJdLG89MCxhPWgubGVuZ3RoO288YTtvKz0xKXU9aFtvXSxuKGwucHJvcGVydGllcyx0LHUpLHMoYyx1KTtlbHNlIHU9dFtjLm5hbWVdLG4obC5wcm9wZXJ0aWVzLHQsdSkscyhjLHUpfSxvPWZ1bmN0aW9uKHIpe3ZhciBpLG4sYSxoLGMsdSxsO2lmKG51bGw9PT1yKXJldHVybiByO2lmKFwib2JqZWN0XCIhPXR5cGVvZiByKXJldHVybiByO2ZvcihpPTAsbj10Lmxlbmd0aDtpPG47aSs9MSlcInJvb3RcIj09PXRbaV0mJihjPWVbaV0sdT1yLHMoYyx1KSk7Zm9yKGggaW4gcilpZihyLmhhc093blByb3BlcnR5KGgpKXtpZigtMSE9PShhPXQuaW5kZXhPZihoKSkpaWYoYz1lW2FdLGMuaXNBcnJheSlmb3IobD1yW2grXCJfYXNBcnJheVwiXSxpPTAsbj1sLmxlbmd0aDtpPG47aSs9MSl1PWxbaV0scyhjLHUpO2Vsc2UgdT1yW2hdLHMoYyx1KTtvKHJbaF0pfXJldHVybiByfTtyZXR1cm57X1o6b319O2UuaT1ufSxmdW5jdGlvbihlLHQscil7LyohIGNvZGVtLWlzb2JveGVyIHYwLjIuMiBodHRwczovL2dpdGh1Yi5jb20vbWFkZWJ5aGlyby9jb2RlbS1pc29ib3hlci9ibG9iL21hc3Rlci9MSUNFTlNFLnR4dCAqL1xuXCJ1bmRlZmluZWRcIj09dHlwZW9mIElTT0JveGVyJiYoSVNPQm94ZXI9e30pLElTT0JveGVyLlF4PWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgaShlKS5wYXJzZSgpfSxJU09Cb3hlci5yYz17fSxJU09Cb3hlci5yYy5QWj1mdW5jdGlvbihlLHQpe3ZhciByPXR8fFwidXRmLThcIjtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgVGV4dERlY29kZXIpcmV0dXJuIG5ldyBUZXh0RGVjb2RlcihyKS5kZWNvZGUoZSk7dmFyIGk9W10sbj0wO2lmKFwidXRmLThcIj09PXIpZm9yKDtuPGUuYnl0ZUxlbmd0aDspe3ZhciBzPWUuZ2V0VWludDgobisrKTtzPDEyOHx8KHM8MjI0PyhzPSgzMSZzKTw8NixzfD02MyZlLmdldFVpbnQ4KG4rKykpOnM8MjQwPyhzPSgxNSZzKTw8MTIsc3w9KDYzJmUuZ2V0VWludDgobisrKSk8PDYsc3w9NjMmZS5nZXRVaW50OChuKyspKToocz0oNyZzKTw8MTgsc3w9KDYzJmUuZ2V0VWludDgobisrKSk8PDEyLHN8PSg2MyZlLmdldFVpbnQ4KG4rKykpPDw2LHN8PTYzJmUuZ2V0VWludDgobisrKSkpLGkucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKHMpKX1lbHNlIGZvcig7bjxlLmJ5dGVMZW5ndGg7KWkucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKGUuZ2V0VWludDgobisrKSkpO3JldHVybiBpLmpvaW4oXCJcIil9LHQuUXg9SVNPQm94ZXIuUXgsdC5yYz1JU09Cb3hlci5yYyxJU09Cb3hlci5BWj1mdW5jdGlvbihlKXt0aGlzLm9mZnNldD12b2lkIDA9PT1lPzA6ZX07dmFyIGk9ZnVuY3Rpb24oZSl7dGhpcy5PWj1uZXcgRGF0YVZpZXcoZSksdGhpcy5OWj1uZXcgSVNPQm94ZXIuQVosdGhpcy5EWj1bXX07aS5wcm90b3R5cGUuZmV0Y2g9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5rWihlLCEwKTtyZXR1cm4gdC5sZW5ndGg/dFswXTpudWxsfSxpLnByb3RvdHlwZS5rWj1mdW5jdGlvbihlLHQpe3ZhciByPVtdO3JldHVybiBpLkxaLmNhbGwodGhpcyxlLHIsdCkscn0saS5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oKXtmb3IodGhpcy5OWi5vZmZzZXQ9MCx0aGlzLkRaPVtdO3RoaXMuTloub2Zmc2V0PHRoaXMuT1ouYnl0ZUxlbmd0aDspe3ZhciBlPW4ucGFyc2UodGhpcyk7aWYodm9pZCAwPT09ZS50eXBlKWJyZWFrO3RoaXMuRFoucHVzaChlKX1yZXR1cm4gdGhpc30saS5MWj1mdW5jdGlvbihlLHQscil7dGhpcy50eXBlJiZ0aGlzLnR5cGU9PWUmJnQucHVzaCh0aGlzKTtmb3IodmFyIG4gaW4gdGhpcy5EWil7aWYodC5sZW5ndGgmJnIpcmV0dXJuO2kuTFouY2FsbCh0aGlzLkRaW25dLGUsdCxyKX19O3ZhciBuPWZ1bmN0aW9uKCl7dGhpcy5OWj1uZXcgSVNPQm94ZXIuQVp9O24ucGFyc2U9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IG47cmV0dXJuIHQuTVo9ZS5OWi5vZmZzZXQsdC5GWj1lLkZaP2UuRlo6ZSx0Lk9aPWUuT1osdC5VWj1lLHQuQlooKSxlLk5aLm9mZnNldD10Lk9aLmJ5dGVPZmZzZXQrdC5PWi5ieXRlTGVuZ3RoLHR9LG4ucHJvdG90eXBlLkhaPWZ1bmN0aW9uKGUpe3ZhciB0PW51bGw7c3dpdGNoKGUpe2Nhc2UgODp0PXRoaXMuT1ouZ2V0SW50OCh0aGlzLk5aLm9mZnNldC10aGlzLk9aLmJ5dGVPZmZzZXQpO2JyZWFrO2Nhc2UgMTY6dD10aGlzLk9aLmdldEludDE2KHRoaXMuTloub2Zmc2V0LXRoaXMuT1ouYnl0ZU9mZnNldCk7YnJlYWs7Y2FzZSAzMjp0PXRoaXMuT1ouZ2V0SW50MzIodGhpcy5OWi5vZmZzZXQtdGhpcy5PWi5ieXRlT2Zmc2V0KTticmVhaztjYXNlIDY0OnZhciByPXRoaXMuT1ouZ2V0SW50MzIodGhpcy5OWi5vZmZzZXQtdGhpcy5PWi5ieXRlT2Zmc2V0KSxpPXRoaXMuT1ouZ2V0SW50MzIodGhpcy5OWi5vZmZzZXQtdGhpcy5PWi5ieXRlT2Zmc2V0KzQpO3Q9cipNYXRoLnBvdygyLDMyKStpfXJldHVybiB0aGlzLk5aLm9mZnNldCs9ZT4+Myx0fSxuLnByb3RvdHlwZS54Wj1mdW5jdGlvbihlKXt2YXIgdD1udWxsO3N3aXRjaChlKXtjYXNlIDg6dD10aGlzLk9aLmdldFVpbnQ4KHRoaXMuTloub2Zmc2V0LXRoaXMuT1ouYnl0ZU9mZnNldCk7YnJlYWs7Y2FzZSAxNjp0PXRoaXMuT1ouZ2V0VWludDE2KHRoaXMuTloub2Zmc2V0LXRoaXMuT1ouYnl0ZU9mZnNldCk7YnJlYWs7Y2FzZSAyNDp2YXIgcj10aGlzLk9aLmdldFVpbnQxNih0aGlzLk5aLm9mZnNldC10aGlzLk9aLmJ5dGVPZmZzZXQpLGk9dGhpcy5PWi5nZXRVaW50OCh0aGlzLk5aLm9mZnNldC10aGlzLk9aLmJ5dGVPZmZzZXQrMik7dD0ocjw8OCkraTticmVhaztjYXNlIDMyOnQ9dGhpcy5PWi5nZXRVaW50MzIodGhpcy5OWi5vZmZzZXQtdGhpcy5PWi5ieXRlT2Zmc2V0KTticmVhaztjYXNlIDY0OnZhciByPXRoaXMuT1ouZ2V0VWludDMyKHRoaXMuTloub2Zmc2V0LXRoaXMuT1ouYnl0ZU9mZnNldCksaT10aGlzLk9aLmdldFVpbnQzMih0aGlzLk5aLm9mZnNldC10aGlzLk9aLmJ5dGVPZmZzZXQrNCk7dD1yKk1hdGgucG93KDIsMzIpK2l9cmV0dXJuIHRoaXMuTloub2Zmc2V0Kz1lPj4zLHR9LG4ucHJvdG90eXBlLnFaPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1cIlwiLHI9MDtyPGU7cisrKXt2YXIgaT10aGlzLnhaKDgpO3QrPVN0cmluZy5mcm9tQ2hhckNvZGUoaSl9cmV0dXJuIHR9LG4ucHJvdG90eXBlLkdaPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPVwiXCI7Oyl7dmFyIHQ9dGhpcy54Wig4KTtpZigwPT10KWJyZWFrO2UrPVN0cmluZy5mcm9tQ2hhckNvZGUodCl9cmV0dXJuIGV9LG4ucHJvdG90eXBlLlZaPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnhaKGUvMikrdGhpcy54WihlLzIpL01hdGgucG93KDIsZS8yKX0sbi5wcm90b3R5cGUuQlo9ZnVuY3Rpb24oKXtpZih0aGlzLk5aLm9mZnNldD10aGlzLk1aLHRoaXMuTVorOD50aGlzLk9aLmJ1ZmZlci5ieXRlTGVuZ3RoKXJldHVybiB2b2lkKHRoaXMuRloualo9ITApO3N3aXRjaCh0aGlzLnNpemU9dGhpcy54WigzMiksdGhpcy50eXBlPXRoaXMucVooNCksMT09dGhpcy5zaXplJiYodGhpcy5RWj10aGlzLnhaKDY0KSksXCJ1dWlkXCI9PXRoaXMudHlwZSYmKHRoaXMuS1o9dGhpcy5xWigxNikpLHRoaXMuc2l6ZSl7Y2FzZSAwOnRoaXMuT1o9bmV3IERhdGFWaWV3KHRoaXMuT1ouYnVmZmVyLHRoaXMuTVosdGhpcy5PWi5ieXRlTGVuZ3RoLXRoaXMuTloub2Zmc2V0KTticmVhaztjYXNlIDE6dGhpcy5NWit0aGlzLnNpemU+dGhpcy5PWi5idWZmZXIuYnl0ZUxlbmd0aD8odGhpcy5qWj0hMCx0aGlzLkZaLmpaPSEwKTp0aGlzLk9aPW5ldyBEYXRhVmlldyh0aGlzLk9aLmJ1ZmZlcix0aGlzLk1aLHRoaXMuUVopO2JyZWFrO2RlZmF1bHQ6dGhpcy5NWit0aGlzLnNpemU+dGhpcy5PWi5idWZmZXIuYnl0ZUxlbmd0aD8odGhpcy5qWj0hMCx0aGlzLkZaLmpaPSEwKTp0aGlzLk9aPW5ldyBEYXRhVmlldyh0aGlzLk9aLmJ1ZmZlcix0aGlzLk1aLHRoaXMuc2l6ZSl9IXRoaXMualomJnRoaXMuWVpbdGhpcy50eXBlXSYmdGhpcy5ZWlt0aGlzLnR5cGVdLmNhbGwodGhpcyl9LG4ucHJvdG90eXBlLldaPWZ1bmN0aW9uKCl7dGhpcy52ZXJzaW9uPXRoaXMueFooOCksdGhpcy56Wj10aGlzLnhaKDI0KX0sbi5wcm90b3R5cGUuWVo9e30sW1wibW9vdlwiLFwidHJha1wiLFwidHJlZlwiLFwibWRpYVwiLFwibWluZlwiLFwic3RibFwiLFwiZWR0c1wiLFwiZGluZlwiLFwibXZleFwiLFwibW9vZlwiLFwidHJhZlwiLFwibWZyYVwiLFwidWR0YVwiLFwibWVjb1wiLFwic3Rya1wiLFwidnR0Y1wiXS5mb3JFYWNoKGZ1bmN0aW9uKGUpe24ucHJvdG90eXBlLllaW2VdPWZ1bmN0aW9uKCl7Zm9yKHRoaXMuRFo9W107dGhpcy5OWi5vZmZzZXQtdGhpcy5PWi5ieXRlT2Zmc2V0PHRoaXMuT1ouYnl0ZUxlbmd0aDspdGhpcy5EWi5wdXNoKG4ucGFyc2UodGhpcykpfX0pLG4ucHJvdG90eXBlLllaLkpaPWZ1bmN0aW9uKCl7dGhpcy5XWigpLHRoaXMuWFo9dGhpcy54WigzMiksdGhpcy5lbnRyaWVzPVtdO2Zvcih2YXIgZT0xO2U8PXRoaXMuWFo7ZSsrKXt2YXIgdD17fTsxPT10aGlzLnZlcnNpb24/KHQuWlo9dGhpcy54Wig2NCksdC4kWj10aGlzLkhaKDY0KSk6KHQuWlo9dGhpcy54WigzMiksdC4kWj10aGlzLkhaKDMyKSksdC5lJD10aGlzLkhaKDE2KSx0LnQkPXRoaXMuSFooMTYpLHRoaXMuZW50cmllcy5wdXNoKHQpfX0sbi5wcm90b3R5cGUuWVouciQ9ZnVuY3Rpb24oKXt0aGlzLldaKCksdGhpcy5pJD10aGlzLkdaKCksdGhpcy52YWx1ZT10aGlzLkdaKCksdGhpcy50aW1lc2NhbGU9dGhpcy54WigzMiksdGhpcy5uJD10aGlzLnhaKDMyKSx0aGlzLnMkPXRoaXMueFooMzIpLHRoaXMuaWQ9dGhpcy54WigzMiksdGhpcy5vJD1uZXcgRGF0YVZpZXcodGhpcy5PWi5idWZmZXIsdGhpcy5OWi5vZmZzZXQsdGhpcy5PWi5ieXRlTGVuZ3RoLSh0aGlzLk5aLm9mZnNldC10aGlzLk1aKSl9LG4ucHJvdG90eXBlLllaLmEkPW4ucHJvdG90eXBlLllaLk1iPWZ1bmN0aW9uKCl7dGhpcy5kYXRhPW5ldyBEYXRhVmlldyh0aGlzLk9aLmJ1ZmZlcix0aGlzLk5aLm9mZnNldCx0aGlzLk9aLmJ5dGVMZW5ndGgtKHRoaXMuTloub2Zmc2V0LXRoaXMuTVopKX0sbi5wcm90b3R5cGUuWVouaCQ9bi5wcm90b3R5cGUuWVouYyQ9ZnVuY3Rpb24oKXtmb3IodGhpcy51JD10aGlzLnFaKDQpLHRoaXMubCQ9dGhpcy54WigzMiksdGhpcy5wJD1bXTt0aGlzLk5aLm9mZnNldC10aGlzLk9aLmJ5dGVPZmZzZXQ8dGhpcy5PWi5ieXRlTGVuZ3RoOyl0aGlzLnAkLnB1c2godGhpcy5xWig0KSl9LG4ucHJvdG90eXBlLllaLmQkPWZ1bmN0aW9uKCl7dGhpcy5XWigpLHRoaXMuZiQ9dGhpcy54WigzMiksdGhpcy5nJD10aGlzLnFaKDQpLHRoaXMuWVI9W3RoaXMueFooMzIpLHRoaXMueFooMzIpLHRoaXMueFooMzIpXSx0aGlzLm5hbWU9dGhpcy5HWigpfSxuLnByb3RvdHlwZS5ZWi5FJD1mdW5jdGlvbigpe3RoaXMuZGF0YT1uZXcgRGF0YVZpZXcodGhpcy5PWi5idWZmZXIsdGhpcy5OWi5vZmZzZXQsdGhpcy5PWi5ieXRlTGVuZ3RoLSh0aGlzLk5aLm9mZnNldC10aGlzLk1aKSl9LG4ucHJvdG90eXBlLllaLnYkPWZ1bmN0aW9uKCl7dGhpcy5XWigpLDE9PXRoaXMudmVyc2lvbj8odGhpcy55JD10aGlzLnhaKDY0KSx0aGlzLlQkPXRoaXMueFooNjQpLHRoaXMudGltZXNjYWxlPXRoaXMueFooMzIpLHRoaXMuZHVyYXRpb249dGhpcy54Wig2NCkpOih0aGlzLnkkPXRoaXMueFooMzIpLHRoaXMuVCQ9dGhpcy54WigzMiksdGhpcy50aW1lc2NhbGU9dGhpcy54WigzMiksdGhpcy5kdXJhdGlvbj10aGlzLnhaKDMyKSk7dmFyIGU9dGhpcy54WigxNik7dGhpcy5wYWQ9ZT4+MTUsdGhpcy5sYW5ndWFnZT1TdHJpbmcuZnJvbUNoYXJDb2RlKDk2KyhlPj4xMCYzMSksOTYrKGU+PjUmMzEpLDk2KygzMSZlKSksdGhpcy5mJD10aGlzLnhaKDE2KX0sbi5wcm90b3R5cGUuWVoubSQ9ZnVuY3Rpb24oKXt0aGlzLldaKCksdGhpcy5JJD10aGlzLnhaKDMyKX0sbi5wcm90b3R5cGUuWVouUyQ9ZnVuY3Rpb24oKXt0aGlzLldaKCksMT09dGhpcy52ZXJzaW9uPyh0aGlzLnkkPXRoaXMueFooNjQpLHRoaXMuVCQ9dGhpcy54Wig2NCksdGhpcy50aW1lc2NhbGU9dGhpcy54WigzMiksdGhpcy5kdXJhdGlvbj10aGlzLnhaKDY0KSk6KHRoaXMueSQ9dGhpcy54WigzMiksdGhpcy5UJD10aGlzLnhaKDMyKSx0aGlzLnRpbWVzY2FsZT10aGlzLnhaKDMyKSx0aGlzLmR1cmF0aW9uPXRoaXMueFooMzIpKSx0aGlzLnJhdGU9dGhpcy5WWigzMiksdGhpcy52b2x1bWU9dGhpcy5WWigxNiksdGhpcy5SJD10aGlzLnhaKDE2KSx0aGlzLnckPVt0aGlzLnhaKDMyKSx0aGlzLnhaKDMyKV0sdGhpcy5tYXRyaXg9W107Zm9yKHZhciBlPTA7ZTw5O2UrKyl0aGlzLm1hdHJpeC5wdXNoKHRoaXMuVlooMzIpKTt0aGlzLmYkPVtdO2Zvcih2YXIgZT0wO2U8NjtlKyspdGhpcy5mJC5wdXNoKHRoaXMueFooMzIpKTt0aGlzLmIkPXRoaXMueFooMzIpfSxuLnByb3RvdHlwZS5ZWi5DJD1mdW5jdGlvbigpe3ZhciBlPW5ldyBEYXRhVmlldyh0aGlzLk9aLmJ1ZmZlcix0aGlzLk5aLm9mZnNldCx0aGlzLk9aLmJ5dGVMZW5ndGgtKHRoaXMuTloub2Zmc2V0LXRoaXMuTVopKTt0aGlzLl8kPUlTT0JveGVyLnJjLlBaKGUpfSxuLnByb3RvdHlwZS5ZWi5QJD1mdW5jdGlvbigpe3RoaXMuV1ooKSx0aGlzLkEkPXRoaXMueFooMzIpLHRoaXMudGltZXNjYWxlPXRoaXMueFooMzIpLDA9PXRoaXMudmVyc2lvbj8odGhpcy5PJD10aGlzLnhaKDMyKSx0aGlzLk4kPXRoaXMueFooMzIpKToodGhpcy5PJD10aGlzLnhaKDY0KSx0aGlzLk4kPXRoaXMueFooNjQpKSx0aGlzLllSPXRoaXMueFooMTYpLHRoaXMuRCQ9dGhpcy54WigxNiksdGhpcy5rJD1bXTtmb3IodmFyIGU9MDtlPHRoaXMuRCQ7ZSsrKXt2YXIgdD17fSxyPXRoaXMueFooMzIpO3QuTCQ9cj4+MzEmMSx0Lk0kPTIxNDc0ODM2NDcmcix0LkYkPXRoaXMueFooMzIpO3ZhciBpPXRoaXMueFooMzIpO3QuVSQ9aT4+MzEmMSx0LkIkPWk+PjI4JjcsdC5IJD0yNjg0MzU0NTUmaSx0aGlzLmskLnB1c2godCl9fSxuLnByb3RvdHlwZS5ZWi54JD1mdW5jdGlvbigpe3RoaXMuV1ooKSx0aGlzLnEkPXRoaXMueFooMzIpLHRoaXMuRyQ9W107Zm9yKHZhciBlPTA7ZTx0aGlzLnEkO2UrKyl7dmFyIHQ9e307dC5WJD10aGlzLnhaKDMyKSx0LmokPVtdO2Zvcih2YXIgcj0wO3I8dC5WJDtyKyspe3ZhciBpPXt9O2kubGV2ZWw9dGhpcy54Wig4KSxpLlEkPXRoaXMueFooMjQpLHQuaiQucHVzaChpKX10aGlzLkckLnB1c2godCl9fSxuLnByb3RvdHlwZS5ZWi5LJD1mdW5jdGlvbigpe3RoaXMuV1ooKSwxPT10aGlzLnZlcnNpb24/dGhpcy5ZJD10aGlzLnhaKDY0KTp0aGlzLlkkPXRoaXMueFooMzIpfSxuLnByb3RvdHlwZS5ZWi50ZmhkPWZ1bmN0aW9uKCl7dGhpcy5XWigpLHRoaXMuVyQ9dGhpcy54WigzMiksMSZ0aGlzLnpaJiYodGhpcy56JD10aGlzLnhaKDY0KSksMiZ0aGlzLnpaJiYodGhpcy5KJD10aGlzLnhaKDMyKSksOCZ0aGlzLnpaJiYodGhpcy5kZWZhdWx0X3NhbXBsZV9kdXJhdGlvbj10aGlzLnhaKDMyKSksMTYmdGhpcy56WiYmKHRoaXMuWCQ9dGhpcy54WigzMikpLDMyJnRoaXMuelomJih0aGlzLlokPXRoaXMueFooMzIpKX0sbi5wcm90b3R5cGUuWVouJCQ9ZnVuY3Rpb24oKXt0aGlzLldaKCksMT09dGhpcy52ZXJzaW9uPyh0aGlzLnkkPXRoaXMueFooNjQpLHRoaXMuVCQ9dGhpcy54Wig2NCksdGhpcy5XJD10aGlzLnhaKDMyKSx0aGlzLlIkPXRoaXMueFooMzIpLHRoaXMuZHVyYXRpb249dGhpcy54Wig2NCkpOih0aGlzLnkkPXRoaXMueFooMzIpLHRoaXMuVCQ9dGhpcy54WigzMiksdGhpcy5XJD10aGlzLnhaKDMyKSx0aGlzLlIkPXRoaXMueFooMzIpLHRoaXMuZHVyYXRpb249dGhpcy54WigzMikpLHRoaXMudyQ9W3RoaXMueFooMzIpLHRoaXMueFooMzIpXSx0aGlzLmUwPXRoaXMueFooMTYpLHRoaXMudDA9dGhpcy54WigxNiksdGhpcy52b2x1bWU9dGhpcy5WWigxNiksdGhpcy5yMD10aGlzLnhaKDE2KSx0aGlzLm1hdHJpeD1bXTtmb3IodmFyIGU9MDtlPDk7ZSsrKXRoaXMubWF0cml4LnB1c2godGhpcy5WWigzMikpO3RoaXMud2lkdGg9dGhpcy54WigzMiksdGhpcy5oZWlnaHQ9dGhpcy54WigzMil9LG4ucHJvdG90eXBlLllaLnRydW49ZnVuY3Rpb24oKXt0aGlzLldaKCksdGhpcy5pMD10aGlzLnhaKDMyKSwxJnRoaXMuelomJih0aGlzLm4wPXRoaXMuSFooMzIpKSw0JnRoaXMuelomJih0aGlzLnMwPXRoaXMueFooMzIpKSx0aGlzLkt4PVtdO2Zvcih2YXIgZT0wO2U8dGhpcy5pMDtlKyspe3ZhciB0PXt9OzI1NiZ0aGlzLnpaJiYodC5zYW1wbGVfZHVyYXRpb249dGhpcy54WigzMikpLDUxMiZ0aGlzLnpaJiYodC5vMD10aGlzLnhaKDMyKSksMTAyNCZ0aGlzLnpaJiYodC5hMD10aGlzLnhaKDMyKSksMjA0OCZ0aGlzLnpaJiYoMD09dGhpcy52ZXJzaW9uP3QuaDA9dGhpcy54WigzMik6dC5oMD10aGlzLkhaKDMyKSksdGhpcy5LeC5wdXNoKHQpfX0sbi5wcm90b3R5cGUuWVouYzA9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgRGF0YVZpZXcodGhpcy5PWi5idWZmZXIsdGhpcy5OWi5vZmZzZXQsdGhpcy5PWi5ieXRlTGVuZ3RoLSh0aGlzLk5aLm9mZnNldC10aGlzLk1aKSk7dGhpcy51MD1JU09Cb3hlci5yYy5QWihlKX0sbi5wcm90b3R5cGUuWVoubDA9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgRGF0YVZpZXcodGhpcy5PWi5idWZmZXIsdGhpcy5OWi5vZmZzZXQsdGhpcy5PWi5ieXRlTGVuZ3RoLSh0aGlzLk5aLm9mZnNldC10aGlzLk1aKSk7dGhpcy5jb25maWc9SVNPQm94ZXIucmMuUFooZSl9LG4ucHJvdG90eXBlLllaLnAwPWZ1bmN0aW9uKCl7fX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZX0oKTt0Ll94PWl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1yKDQpLG49cigwKSxzPXIoMSksbz1yKDIpLGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7dGhpcy5uYW1lPWUsdGhpcy5pdj10fXJldHVybiBlfSgpLGg9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxyKXt0aGlzLmxvZ2dlcklkPVwiW0RBU0ggQUVTIE1hbmFnZXJdIFwiLHRoaXMuZDA9XCJBRVMtQ0JDXCIsdGhpcy5sbD0hMSx0aGlzLmxvZ2dlcj1uLkZyYW1ld29yayYmbi5GcmFtZXdvcmsucmVzb2x2ZShuLkZyYW1ld29yay5WLlIpP24uRnJhbWV3b3JrLnJlc29sdmUobi5GcmFtZXdvcmsuVi5SKS5sb2coKTpjb25zb2xlLHRoaXMuZjA9ZSx0aGlzLmcwPXQsdGhpcy5sb2dnZXIuZGVidWcodGhpcy5sb2dnZXJJZCtcIlN0YXJ0aW5nIERhc2ggQUVTIE1hbmFnZXJcIiksciYmKHRoaXMuRTA9cil9cmV0dXJuIGUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RyeXt0aGlzLnYwKCk7dmFyIHQ9aS5kZWZlcigpO3RoaXMueTAoKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIHQucmVzb2x2ZSghMCl9KS5mYWlsKGZ1bmN0aW9uKHIpe3MuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBpbml0aWFsaXppbmcga2V5XCIsZS5sb2dnZXJJZCxvLmhzLlVyLkRyLHIpLHQucmVzb2x2ZSghMSl9KSx0aGlzLlQwPXQuU3N9Y2F0Y2goZSl7cy5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIGluaXRpYWxpemluZyBBRVMgTWFuYWdlclwiLHRoaXMubG9nZ2VySWQsby5ocy5Vci5OcixlKX19LGUucHJvdG90eXBlLk5NPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuVDA/dGhpcy5UMDppLnJlc29sdmUoITEpfSxlLnByb3RvdHlwZS55MD1mdW5jdGlvbigpe3ZhciBlPXRoaXM7aWYodGhpcy5tMClyZXR1cm4gdGhpcy5tMDt2YXIgdD1pLmRlZmVyKCk7cmV0dXJuIHRoaXMuSTAoKS50aGVuKGZ1bmN0aW9uKHIpe3dpbmRvdy5jcnlwdG8uc3VidGxlLmltcG9ydEtleShcInJhd1wiLHIse25hbWU6ZS5kMH0sITEsW1wiZGVjcnlwdFwiXSkudGhlbihmdW5jdGlvbihlKXt0LnJlc29sdmUoZSl9LGZ1bmN0aW9uKGUpe3QucmVqZWN0KFwiZXJyb3IgaW1wb3J0aW5nIGtleTogXCIrZS50b1N0cmluZygpKX0pfSkuZmFpbChmdW5jdGlvbihlKXtyZXR1cm4gdC5yZWplY3QoZSl9KSx0aGlzLm0wPXQuU3MsdGhpcy5tMH0sZS5wcm90b3R5cGUudjA9ZnVuY3Rpb24oKXtmb3IodmFyIGU9Mix0PXRoaXMuZzAubGVuZ3RoLHI9W107ZTx0O2UrPTIpci5wdXNoKHBhcnNlSW50KHRoaXMuZzAuc3Vic3RyKGUsMiksMTYpKTt0aGlzLml2PW5ldyBVaW50OEFycmF5KHIpfSxlLnByb3RvdHlwZS5kZWNyeXB0PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1pLmRlZmVyKCksbj1uZXcgYSh0aGlzLmQwLHRoaXMuaXYpO3JldHVybiB0aGlzLm0wLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIHdpbmRvdy5jcnlwdG8uc3VidGxlLmRlY3J5cHQobix0LGUpLnRoZW4oZnVuY3Rpb24oZSl7ci5yZXNvbHZlKGUpfSl9KS5jYXRjaChmdW5jdGlvbihlKXtzLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgZGVjcnlwdGluZyBhcnJheWJ1ZmZlclwiLHQubG9nZ2VySWQsby5ocy5Vci5McixlKSx0LmxsPSEwLHQuVDA9aS5yZXNvbHZlKCExKSxyLnJlamVjdChlKX0pLHIuU3N9LGUucHJvdG90eXBlLkkwPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PWkuZGVmZXIoKSxyPW5ldyBYTUxIdHRwUmVxdWVzdDtyZXR1cm4gci5yZXNwb25zZVR5cGU9XCJhcnJheWJ1ZmZlclwiLHIub3BlbihcIkdFVFwiLHRoaXMuZjApLHRoaXMuRTAmJnIuc2V0UmVxdWVzdEhlYWRlcihcIkF1dGhvcml6YXRpb25cIix0aGlzLkUwKSxyLm9ubG9hZD1mdW5jdGlvbigpe2lmKDIwMD09PXIuc3RhdHVzKXt2YXIgaT1uZXcgVWludDhBcnJheShyLnJlc3BvbnNlKTt0LnJlc29sdmUoaSl9ZWxzZSBzLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgZG93bmxvYWRpbmcga2V5XCIsZS5sb2dnZXJJZCxvLmhzLlVyLk1yLHIuc3RhdHVzKSx0LnJlamVjdChcImVycm9yIGRvd25sb2FkaW5nIGtleSAtIHN0YXR1czogXCIrci5zdGF0dXMpfSxyLm9uZXJyb3I9ZnVuY3Rpb24oKXtzLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgZG93bmxvYWRpbmcga2V5XCIsZS5sb2dnZXIsby5ocy5Vci5GciksdC5yZWplY3QoXCJlcnJvciBkb3dubG9hZGluZyBrZXlcIil9LHIuc2VuZCgpLHQuU3N9LGUucHJvdG90eXBlLnh4PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGx9LGV9KCk7dC5xeD1ofSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9cig0KSxuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUuTk09ZnVuY3Rpb24oKXtyZXR1cm4gaS5yZXNvbHZlKCExKX0sZS5wcm90b3R5cGUuZGVjcnlwdD1mdW5jdGlvbihlKXtyZXR1cm4gaS5yZWplY3QoXCJ1bnN1cHBvcnRlZFwiKX0sZS5wcm90b3R5cGUueHg9ZnVuY3Rpb24oKXtyZXR1cm4hMX0sZX0oKTt0Lkd4PW59LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT10aGlzJiZ0aGlzLmh1fHxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIHIoKXt0aGlzLmNvbnN0cnVjdG9yPWV9Zm9yKHZhciBpIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShpKSYmKGVbaV09dFtpXSk7ZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KTooci5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IHIpfSxuPXIoODUpLHM9cig2MSksbz1yKDU3KSxhPXIoNCksaD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gaSh0LGUpLHQucHJvdG90eXBlLmJ4PWZ1bmN0aW9uKGUsdCl7dGhpcy5tYW5pZmVzdD10aGlzLm14LnBhcnNlKHQsdGhpcy5JeChlKSl9LHQucHJvdG90eXBlLlV4PWZ1bmN0aW9uKGUpe3ZhciB0PWUuc3Vic3RyKDAsZS5sYXN0SW5kZXhPZihcIj1cIikpO3JldHVybiB0PXQuc3Vic3RyKDAsdC5sYXN0SW5kZXhPZihcIj1cIikpfSx0LnByb3RvdHlwZS5DTT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9YS5kZWZlcigpLGk9dGhpcy5nTShlLmVnKCkpO2lmKCFpfHxpLm5leHQpcmV0dXJuIHIucmVzb2x2ZSghMSksci5Tczt2YXIgaD1hLmRlZmVyKCk7aWYodGhpcy5PTSlvLkRBU0guWEw/dGhpcy5PTS5OTSgpLnRoZW4oZnVuY3Rpb24ocil7cj90Lk9NLmRlY3J5cHQoZS5qZikudGhlbihmdW5jdGlvbihlKXtoLnJlc29sdmUodC5qeChlKSl9KS5mYWlsKGZ1bmN0aW9uKGUpe3JldHVybiBoLnJlamVjdCghMCl9KTpoLnJlamVjdCghMSl9KTpoLnJlamVjdCghMSk7ZWxzZSB0cnl7dmFyIGM9dGhpcy5qeChlLmpmKTtoLnJlc29sdmUoYyl9Y2F0Y2goZSl7dGhpcy5sb2dnZXIud2FybihcImVycm9yIGV4dHJhY3RpbmcgZHVyYXRpb25cIixlKSxoLnJlamVjdCghMCl9cmV0dXJuIGguU3MudGhlbihmdW5jdGlvbihlKXtpZighaXNOYU4oZSkpe3ZhciBvPWkuaWQrZTt0LmxvZ2dlci5kZWJ1ZyhcImZvdW5kIG5leHQgZnJhZ21lbnQ6IFwiK2kuaWQrXCIgLT4gXCIrbytcIiBkdXJhdGlvbjogXCIrZSksdC5TeC5mb3JFYWNoKGZ1bmN0aW9uKHQscil7aWYodC50eXBlPT09aS50eXBlKXt2YXIgYT10Lk54LnJlcGxhY2Uobi4keC5IeCxpLmlkK1wiXCIpLGg9dC5OeC5yZXBsYWNlKG4uJHguSHgsbytcIlwiKSxjPXQua3guZ2V0KGEpO2lmKCF0Lmt4LmhhcyhoKSYmYyl7Yy5kdXJhdGlvbj1lO3ZhciB1PW5ldyBzLkRGKG8sdC5iYW5kd2lkdGgsZSxoLGgpO3UudHlwZT1jLnR5cGUsYy5uZXh0PXUsdC5reC5zZXQoaCx1KSx0Lk14LnNldChvLHUpfX19KX1yLnJlc29sdmUoITEpfSkuZmFpbChmdW5jdGlvbihpKXt0LmxvZ2dlci5kZWJ1ZyhcImNvdWxkIG5vdCBleHRyYWN0IGR1cmF0aW9uIGZyb20gXCIrZS5lZygpK1wiIFtyZWV2YWx1YXRlOiBcIitpK1wiXVwiKSxyLnJlc29sdmUoaSl9KSxyLlNzfSx0fShuLiR4KTt0LmNNPWh9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1yKDEpLG49cigxNTIpLHM9cigzKSxvPXIoMTUzKSxhPXIoNjEpLGg9cigwKSxjPXIoNyksdT1yKDg3KSxsPXIoMikscD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLmxvZ2dlcklkPVwiW0hMUyBNRVRBREFUQV0gXCIsdGhpcy5BcT1uZXcgcyx0aGlzLlMwPW51bGwsdGhpcy5sb2dnZXI9KGguRnJhbWV3b3JrLnJlc29sdmUoaC5GcmFtZXdvcmsuVi5SKXx8Y29uc29sZSkubG9nKCl9cmV0dXJuIGUucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGUsdCl7dHJ5e3ZhciByPW5ldyBuLlIwO2lmKHIucHVzaCh0KSxyLm1hbmlmZXN0LnBsYXlsaXN0cyl0aGlzLncwKGUsci5tYW5pZmVzdCk7ZWxzZXt2YXIgcz10aGlzLmIwKGUsci5tYW5pZmVzdCk7aWYocyYmcy5DMCYmKHRoaXMubGl2ZT0hcy5DMC5fMCksdGhpcy5saXZlKXt2YXIgbz10aGlzLlAwKHIubWFuaWZlc3QsdCk7cmV0dXJuIHRoaXMubG9nZ2VyLmRlYnVnKFwiSExTIG1hbmlmZXN0IHRyaW1tZWQgXCIrby5BMCtcIiBzZWdtZW50cyAoXCIrby5BMCtcInMpIC0gbmV3IHNlZ21lbnRzOltcIitzLk8wLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5pZCtcIjpcIitlLmR1cmF0aW9ufSkrXCJdXCIpLG8uTjB9fXJldHVybiB0fWNhdGNoKHIpe3JldHVybiBpLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgcGFyc2luZyBtZXRhZGF0YVwiLHRoaXMubG9nZ2VySWQsbC5ocy55aS5Xcix7ZGV0YWlsZWRFcnJvcjpyLHVybDplfSksdH19LGUucHJvdG90eXBlLnFNPWZ1bmN0aW9uKGUsdCl7aWYodGhpcy5PcS5oYXModCkpe3JldHVybiB0aGlzLk9xLmdldCh0KS5NeC5nZXQoZSl9cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLmxNPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuQXEudmFsdWVzKCkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpdHJhdGV9KX0sZS5wcm90b3R5cGUuaXNMaXZlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGl2ZX0sZS5wcm90b3R5cGUuZ009ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PXRoaXMua3g/bnVsbDp0aGlzLmt4LmdldChlKX0sZS5wcm90b3R5cGUudk09ZnVuY3Rpb24oZSl7dHJ5e3ZhciB0PXRoaXMua3guZ2V0KGUpO2lmKHQpe3ZhciByPXQuYml0cmF0ZTtyZXR1cm4gdGhpcy5PcS5nZXQocikuTXguZ2V0KHQuaWQrMSl9cmV0dXJuIG51bGx9Y2F0Y2godCl7cmV0dXJuIGkuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBnZXR0aW5nIHRoZSBuZXh0IHNlZ21lbnQgaW5mb1wiLHRoaXMubG9nZ2VySWQsbC5ocy55aS5Ycix7ZGV0YWlsZWRFcnJvcjp0LHVybDplfSksbnVsbH19LGUucHJvdG90eXBlLl9xPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLkFxLmhhcyhlKX0sZS5wcm90b3R5cGUuUHE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5EMH0sZS5wcm90b3R5cGUudzA9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3RoaXMuRDA9ZSx0aGlzLmswPXQsdGhpcy5BcT1uZXcgcyx0aGlzLmt4PW5ldyBzLHRoaXMuT3E9bmV3IHMsdGhpcy5rMC5wbGF5bGlzdHMuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgaT1jLnJjLiRoKGUsdC51cmkpLG49dC5hdHRyaWJ1dGVzLkJBTkRXSURUSCxzPW5ldyBvLkwwKG4sdC51cmksaSk7ci5BcS5zZXQoaSxzKSxyLk9xLnNldChuLHMpfSl9LGUucHJvdG90eXBlLmIwPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpczt0cnl7dmFyIG49dGhpcy5BcS5nZXQoZSk7aWYoIW4pcmV0dXJuIHZvaWQgaS5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIlBsYXlsaXN0IHVybCBkb2VzIG5vdCBtYXRjaCBhbnkgcGxheWxpc3QgaW4gdGhlIG1hc3RlciBmaWxlXCIsdGhpcy5sb2dnZXJJZCxsLmhzLnlpLmZpLHt1cmw6ZX0pO3ZhciBzPW51bGwhPXQubWVkaWFTZXF1ZW5jZT90Lm1lZGlhU2VxdWVuY2U6MCxvPVtdLGg9cy0xLHU9bi5NeC5nZXQoaCkscD1bXTtyZXR1cm4gdC5OcS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBoPWMucmMuJGgoZSx0LnVyaSksbD1NYXRoLnJvdW5kKDFlMyp0LmR1cmF0aW9uKSxkPW4uYml0cmF0ZTtOdW1iZXIuaXNJbnRlZ2VyKGQpfHwoaS5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIlNlZ21lbnQgQml0cmF0ZSBpcyBhIEZsb2F0XCIse2JpdHJhdGU6ZH0pLGQ9TWF0aC5yb3VuZChkKSk7dmFyIGY9bmV3IGEuREYocyxkLGwsdC51cmksaCk7ci5reC5oYXMoaCl8fHAucHVzaChmKSxyLmt4LnNldChoLGYpLG4uTXguc2V0KHMsZiksby5wdXNoKGYpLHUmJih1Lm5leHQ9ZiksdT1mLHMrK30pLHRoaXMuUzA9bixuLnVwZGF0ZSh0Lm1lZGlhU2VxdWVuY2UsdC5kaXNjb250aW51aXR5U2VxdWVuY2UsdC5fMCx0Lk0wLG8pLHtDMDpuLE8wOnB9fWNhdGNoKGUpe3JldHVybiBpLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgdXBkYXRpbmcgdGhlIHBsYXlsaXN0XCIsdGhpcy5sb2dnZXJJZCxsLmhzLnlpLkVpLGUpLG51bGx9fSxlLnByb3RvdHlwZS5QMD1mdW5jdGlvbihlLHQpe3RyeXtmb3IodmFyIHI9dC5zcGxpdChcIlxcblwiKSxuPU1hdGgubWF4KDEsdS5icS52cSkscz1udWxsLG89MCxhPTAsaD1lLk5xLmxlbmd0aC0xO2g+bi0xJiYocz1lLk5xW2hdLCEobz49dS5icS5FcSkpO2gtLSlhKyssbys9cy5kdXJhdGlvbjtmb3IodmFyIGM9XCJcIixoPTA7aDxyLmxlbmd0aCYmKGM9YytyW2hdK1wiXFxuXCIscltoXS50cmltKCkhPT1zLnVyaSk7aCsrKTtyZXR1cm4gdGhpcy5sb2dnZXIuZGVidWcoXCJITFMgdHJpbW1lZCBcIithK1wiIHNlZ21lbnRzIGZvciB0b3RhbCBkdXJhdGlvbjogXCIrbykse04wOmMsQTA6YSxGMDpvfX1jYXRjaChlKXt0aHJvdyBpLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgdHJpbW1pbmcgdGhlIHBsYXlsaXN0XCIsdGhpcy5sb2dnZXJJZCxsLmhzLnlpLnZpLGUpLG5ldyBFcnJvcihlKX19LGV9KCk7dC53cT1wfSxmdW5jdGlvbihlLHQscil7dmFyIGk9ZnVuY3Rpb24oKXt2YXIgZT17fTtlLk1UPXt9LGUuTVQuY3JlYXRlPU9iamVjdC5jcmVhdGV8fGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQucHJvdG90eXBlPWUsbmV3IHR9LGUuTVQuVTA9ZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgaSBpbiBlKWhhc093blByb3AuY2FsbChlLGkpJiZ0LmNhbGwocnx8dGhpcyxpLGVbaV0pfSxlLk1ULlB5PWZ1bmN0aW9uKGUsdCl7aWYoIXQpcmV0dXJuIGU7Zm9yKHZhciByIGluIHQpaGFzT3duUHJvcC5jYWxsKHQscikmJihlW3JdPXRbcl0pO3JldHVybiBlfSxlLk1ULkIwPWZ1bmN0aW9uKHQscil7dmFyIGksbixzO3Q9ZS5NVC5jQSh0KTtmb3IoaSBpbiByKWhhc093blByb3AuY2FsbChyLGkpJiYobj10W2ldLHM9cltpXSxlLk1ULkgwKG4pJiZlLk1ULkgwKHMpP3RbaV09ZS5NVC5CMChuLHMpOnRbaV09cltpXSk7cmV0dXJuIHR9LGUuTVQuY0E9ZnVuY3Rpb24odCl7cmV0dXJuIGUuTVQuUHkoe30sdCl9LGUuTVQuSDA9ZnVuY3Rpb24oZSl7cmV0dXJuISFlJiZcIm9iamVjdFwiPT10eXBlb2YgZSYmXCJbb2JqZWN0IE9iamVjdF1cIj09PWUudG9TdHJpbmcoKSYmZS5jb25zdHJ1Y3Rvcj09PU9iamVjdH0sZS5NVC5pc0FycmF5PUFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKGUpe3JldHVyblwiW29iamVjdCBBcnJheV1cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKX0sbWVyZ2VPcHRpb25zPWZ1bmN0aW9uKHQscil7dmFyIGksbixzO3Q9ZS5NVC5jQSh0KTtmb3IoaSBpbiByKXIuaGFzT3duUHJvcGVydHkoaSkmJihuPXRbaV0scz1yW2ldLGUuTVQuSDAobikmJmUuTVQuSDAocyk/dFtpXT1lLnV0aWwueDAobixzKTp0W2ldPXJbaV0pO3JldHVybiB0fSxlLngwPW1lcmdlT3B0aW9uczt2YXIgdD1mdW5jdGlvbigpe3RoaXMuaW5pdD1mdW5jdGlvbigpe3ZhciBlPXt9O3RoaXMub249ZnVuY3Rpb24odCxyKXtlW3RdfHwoZVt0XT1bXSksZVt0XS5wdXNoKHIpfSx0aGlzLm9mZj1mdW5jdGlvbih0LHIpe3ZhciBpO3JldHVybiEhZVt0XSYmKGk9ZVt0XS5pbmRleE9mKHIpLGVbdF0uc3BsaWNlKGksMSksaT4tMSl9LHRoaXMucTA9ZnVuY3Rpb24odCl7dmFyIHIsaSxuLHM7aWYocj1lW3RdKWZvcihzPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSxuPXIubGVuZ3RoLGk9MDtpPG47KytpKXJbaV0uYXBwbHkodGhpcyxzKX0sdGhpcy5HMD1mdW5jdGlvbigpe2U9e319fX07dC5wcm90b3R5cGUuVjA9ZnVuY3Rpb24oZSl7dGhpcy5vbihcImRhdGFcIixmdW5jdGlvbih0KXtlLnB1c2godCl9KX0sZS5qMD10O3ZhciByLGksbixzPWZ1bmN0aW9uKCl7fSxvPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBSZWdFeHAoJyg/Ol58LCkoKD86W149XSopPSg/OlwiW15cIl0qXCJ8W14sXSopKScpfSgpLGE9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LHI9ZS5zcGxpdChvKSxpPXIubGVuZ3RoLG49e307aS0tOylcIlwiIT09cltpXSYmKHQ9LyhbXj1dKik9KC4qKS8uZXhlYyhyW2ldKS5zbGljZSgxKSx0WzBdPXRbMF0ucmVwbGFjZSgvXlxccyt8XFxzKyQvZyxcIlwiKSx0WzFdPXRbMV0ucmVwbGFjZSgvXlxccyt8XFxzKyQvZyxcIlwiKSx0WzFdPXRbMV0ucmVwbGFjZSgvXlsnXCJdKC4qKVsnXCJdJC9nLFwiJDFcIiksblt0WzBdXT10WzFdKTtyZXR1cm4gbn0sdD1lLmowO3JldHVybiByPWZ1bmN0aW9uKCl7dmFyIGU9XCJcIjtyLnByb3RvdHlwZS5pbml0LmNhbGwodGhpcyksdGhpcy5wdXNoPWZ1bmN0aW9uKHQpe3ZhciByO2ZvcihlKz10LHI9ZS5pbmRleE9mKFwiXFxuXCIpO3I+LTE7cj1lLmluZGV4T2YoXCJcXG5cIikpdGhpcy5xMChcImRhdGFcIixlLnN1YnN0cmluZygwLHIpKSxlPWUuc3Vic3RyaW5nKHIrMSl9fSxyLnByb3RvdHlwZT1uZXcgdCxpPWZ1bmN0aW9uKCl7aS5wcm90b3R5cGUuaW5pdC5jYWxsKHRoaXMpfSxpLnByb3RvdHlwZT1uZXcgdCxpLnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKGUpe3ZhciB0LHI7aWYoZT1lLnJlcGxhY2UoL15cXHMrfFxccyskL2csXCJcIiksMCE9PWUubGVuZ3RoKXtpZihcIiNcIiE9PWVbMF0pcmV0dXJuIHZvaWQgdGhpcy5xMChcImRhdGFcIix7dHlwZTpcInVyaVwiLHVyaTplfSk7aWYoMCE9PWUuaW5kZXhPZihcIiNFWFRcIikpcmV0dXJuIHZvaWQgdGhpcy5xMChcImRhdGFcIix7dHlwZTpcImNvbW1lbnRcIix0ZXh0OmUuc2xpY2UoMSl9KTtpZihlPWUucmVwbGFjZShcIlxcclwiLFwiXCIpLHQ9L14jRVhUTTNVLy5leGVjKGUpKXJldHVybiB2b2lkIHRoaXMucTAoXCJkYXRhXCIse3R5cGU6XCJ0YWdcIixRMDpcIm0zdVwifSk7aWYodD0vXiNFWFRJTkY6PyhbMC05XFwuXSopPyw/KC4qKT8kLy5leGVjKGUpKXJldHVybiByPXt0eXBlOlwidGFnXCIsUTA6XCJpbmZcIn0sdFsxXSYmKHIuZHVyYXRpb249cGFyc2VGbG9hdCh0WzFdKSksdFsyXSYmKHIudGl0bGU9dFsyXSksdm9pZCB0aGlzLnEwKFwiZGF0YVwiLHIpO2lmKHQ9L14jRVhULVgtVEFSR0VURFVSQVRJT046PyhbMC05Ll0qKT8vLmV4ZWMoZSkpcmV0dXJuIHI9e3R5cGU6XCJ0YWdcIixRMDpcInRhcmdldGR1cmF0aW9uXCJ9LHRbMV0mJihyLmR1cmF0aW9uPXBhcnNlSW50KHRbMV0sMTApKSx2b2lkIHRoaXMucTAoXCJkYXRhXCIscik7aWYodD0vXiNaRU4tVE9UQUwtRFVSQVRJT046PyhbMC05Ll0qKT8vLmV4ZWMoZSkpcmV0dXJuIHI9e3R5cGU6XCJ0YWdcIixRMDpcInRvdGFsZHVyYXRpb25cIn0sdFsxXSYmKHIuZHVyYXRpb249cGFyc2VJbnQodFsxXSwxMCkpLHZvaWQgdGhpcy5xMChcImRhdGFcIixyKTtpZih0PS9eI0VYVC1YLVZFUlNJT046PyhbMC05Ll0qKT8vLmV4ZWMoZSkpcmV0dXJuIHI9e3R5cGU6XCJ0YWdcIixRMDpcInZlcnNpb25cIn0sdFsxXSYmKHIudmVyc2lvbj1wYXJzZUludCh0WzFdLDEwKSksdm9pZCB0aGlzLnEwKFwiZGF0YVwiLHIpO2lmKHQ9L14jRVhULVgtTUVESUEtU0VRVUVOQ0U6PyhcXC0/WzAtOS5dKik/Ly5leGVjKGUpKXJldHVybiByPXt0eXBlOlwidGFnXCIsUTA6XCJtZWRpYS1zZXF1ZW5jZVwifSx0WzFdJiYoci5udW1iZXI9cGFyc2VJbnQodFsxXSwxMCkpLHZvaWQgdGhpcy5xMChcImRhdGFcIixyKTtpZih0PS9eI0VYVC1YLURJU0NPTlRJTlVJVFktU0VRVUVOQ0U6PyhcXC0/WzAtOS5dKik/Ly5leGVjKGUpKXJldHVybiByPXt0eXBlOlwidGFnXCIsUTA6XCJkaXNjb250aW51aXR5LXNlcXVlbmNlXCJ9LHRbMV0mJihyLm51bWJlcj1wYXJzZUludCh0WzFdLDEwKSksdm9pZCB0aGlzLnEwKFwiZGF0YVwiLHIpO2lmKHQ9L14jRVhULVgtUExBWUxJU1QtVFlQRTo/KC4qKT8kLy5leGVjKGUpKXJldHVybiByPXt0eXBlOlwidGFnXCIsUTA6XCJwbGF5bGlzdC10eXBlXCJ9LHRbMV0mJihyLkswPXRbMV0pLHZvaWQgdGhpcy5xMChcImRhdGFcIixyKTtpZih0PS9eI0VYVC1YLUJZVEVSQU5HRTo/KFswLTkuXSopP0A/KFswLTkuXSopPy8uZXhlYyhlKSlyZXR1cm4gcj17dHlwZTpcInRhZ1wiLFEwOlwiYnl0ZXJhbmdlXCJ9LHRbMV0mJihyLmxlbmd0aD1wYXJzZUludCh0WzFdLDEwKSksdFsyXSYmKHIub2Zmc2V0PXBhcnNlSW50KHRbMl0sMTApKSx2b2lkIHRoaXMucTAoXCJkYXRhXCIscik7aWYodD0vXiNFWFQtWC1BTExPVy1DQUNIRTo/KFlFU3xOTyk/Ly5leGVjKGUpKXJldHVybiByPXt0eXBlOlwidGFnXCIsUTA6XCJhbGxvdy1jYWNoZVwifSx0WzFdJiYoci5YRD0hL05PLy50ZXN0KHRbMV0pKSx2b2lkIHRoaXMucTAoXCJkYXRhXCIscik7aWYodD0vXiNFWFQtWC1TVFJFQU0tSU5GOj8oLiopJC8uZXhlYyhlKSlyZXR1cm4gcj17dHlwZTpcInRhZ1wiLFEwOlwic3RyZWFtLWluZlwifSx0WzFdJiYoci5hdHRyaWJ1dGVzPWEodFsxXSksci5hdHRyaWJ1dGVzLlkwJiZmdW5jdGlvbigpe3ZhciBlPXIuYXR0cmlidXRlcy5ZMC5zcGxpdChcInhcIiksdD17fTtlWzBdJiYodC53aWR0aD1wYXJzZUludChlWzBdLDEwKSksZVsxXSYmKHQuaGVpZ2h0PXBhcnNlSW50KGVbMV0sMTApKSxyLmF0dHJpYnV0ZXMuWTA9dH0oKSxyLmF0dHJpYnV0ZXMuQkFORFdJRFRIJiYoci5hdHRyaWJ1dGVzLkJBTkRXSURUSD1wYXJzZUludChyLmF0dHJpYnV0ZXMuQkFORFdJRFRILDEwKSksci5hdHRyaWJ1dGVzW1wiVzBcIl0mJihyLmF0dHJpYnV0ZXNbXCJXMFwiXT1wYXJzZUludChyLmF0dHJpYnV0ZXNbXCJXMFwiXSwxMCkpKSx2b2lkIHRoaXMucTAoXCJkYXRhXCIscik7aWYodD0vXiNFWFQtWC1FTkRMSVNULy5leGVjKGUpKXJldHVybiB2b2lkIHRoaXMucTAoXCJkYXRhXCIse3R5cGU6XCJ0YWdcIixRMDpcImVuZGxpc3RcIn0pO2lmKHQ9L14jRVhULVgtRElTQ09OVElOVUlUWS8uZXhlYyhlKSlyZXR1cm4gdm9pZCB0aGlzLnEwKFwiZGF0YVwiLHt0eXBlOlwidGFnXCIsUTA6XCJkaXNjb250aW51aXR5XCJ9KTtpZih0PS9eI0VYVC1YLUtFWTo/KC4qKSQvLmV4ZWMoZSkpcmV0dXJuIHI9e3R5cGU6XCJ0YWdcIixRMDpcImtleVwifSx0WzFdJiYoci5hdHRyaWJ1dGVzPWEodFsxXSksci5hdHRyaWJ1dGVzLklWJiYoXCIweFwiPT09ci5hdHRyaWJ1dGVzLklWLnN1YnN0cmluZygwLDIpJiYoci5hdHRyaWJ1dGVzLklWPXIuYXR0cmlidXRlcy5JVi5zdWJzdHJpbmcoMikpLHIuYXR0cmlidXRlcy5JVj1yLmF0dHJpYnV0ZXMuSVYubWF0Y2goLy57OH0vZyksci5hdHRyaWJ1dGVzLklWWzBdPXBhcnNlSW50KHIuYXR0cmlidXRlcy5JVlswXSwxNiksci5hdHRyaWJ1dGVzLklWWzFdPXBhcnNlSW50KHIuYXR0cmlidXRlcy5JVlsxXSwxNiksci5hdHRyaWJ1dGVzLklWWzJdPXBhcnNlSW50KHIuYXR0cmlidXRlcy5JVlsyXSwxNiksci5hdHRyaWJ1dGVzLklWWzNdPXBhcnNlSW50KHIuYXR0cmlidXRlcy5JVlszXSwxNiksci5hdHRyaWJ1dGVzLklWPW5ldyBVaW50MzJBcnJheShyLmF0dHJpYnV0ZXMuSVYpKSksdm9pZCB0aGlzLnEwKFwiZGF0YVwiLHIpO3RoaXMucTAoXCJkYXRhXCIse3R5cGU6XCJ0YWdcIixkYXRhOmUuc2xpY2UoNCxlLmxlbmd0aCl9KX19LG49ZnVuY3Rpb24oKXt2YXIgdCxvPXRoaXMsYT1bXSxoPXt9O24ucHJvdG90eXBlLmluaXQuY2FsbCh0aGlzKSx0aGlzLnowPW5ldyByLHRoaXMuSjA9bmV3IGksdGhpcy56MC5WMCh0aGlzLkowKSx0aGlzLm1hbmlmZXN0PXtYMDohMH0sdGhpcy5KMC5vbihcImRhdGFcIixmdW5jdGlvbihyKXsoe3RhZzpmdW5jdGlvbigpeygoe1wiYWxsb3ctY2FjaGVcIjpmdW5jdGlvbigpe3RoaXMubWFuaWZlc3QuWDA9ci5YRCxcImFsbG93ZWRcImluIHJ8fCh0aGlzLnEwKFwiaW5mb1wiLHttZXNzYWdlOlwiZGVmYXVsdGluZyBhbGxvd0NhY2hlIHRvIFlFU1wifSksdGhpcy5tYW5pZmVzdC5YMD0hMCl9LGJ5dGVyYW5nZTpmdW5jdGlvbigpe3ZhciBlPXt9O1wibGVuZ3RoXCJpbiByJiYoaC5ieXRlcmFuZ2U9ZSxlLmxlbmd0aD1yLmxlbmd0aCxcIm9mZnNldFwiaW4gcnx8KHRoaXMucTAoXCJpbmZvXCIse21lc3NhZ2U6XCJkZWZhdWx0aW5nIG9mZnNldCB0byB6ZXJvXCJ9KSxyLm9mZnNldD0wKSksXCJvZmZzZXRcImluIHImJihoLmJ5dGVyYW5nZT1lLGUub2Zmc2V0PXIub2Zmc2V0KX0sZW5kbGlzdDpmdW5jdGlvbigpe3RoaXMubWFuaWZlc3QuXzA9ITB9LGluZjpmdW5jdGlvbigpe1wibWVkaWFTZXF1ZW5jZVwiaW4gdGhpcy5tYW5pZmVzdHx8KHRoaXMubWFuaWZlc3QubWVkaWFTZXF1ZW5jZT0wLHRoaXMucTAoXCJpbmZvXCIse21lc3NhZ2U6XCJkZWZhdWx0aW5nIG1lZGlhIHNlcXVlbmNlIHRvIHplcm9cIn0pKSxcImRpc2NvbnRpbnVpdHlTZXF1ZW5jZVwiaW4gdGhpcy5tYW5pZmVzdHx8KHRoaXMubWFuaWZlc3QuZGlzY29udGludWl0eVNlcXVlbmNlPTAsdGhpcy5xMChcImluZm9cIix7bWVzc2FnZTpcImRlZmF1bHRpbmcgZGlzY29udGludWl0eSBzZXF1ZW5jZSB0byB6ZXJvXCJ9KSksci5kdXJhdGlvbj49MCYmKGguZHVyYXRpb249ci5kdXJhdGlvbiksdGhpcy5tYW5pZmVzdC5OcT1hfSxrZXk6ZnVuY3Rpb24oKXtyZXR1cm4gci5hdHRyaWJ1dGVzP1wiTk9ORVwiPT09ci5hdHRyaWJ1dGVzLlowP3ZvaWQodD1udWxsKTpyLmF0dHJpYnV0ZXMubFI/KHIuYXR0cmlidXRlcy5aMHx8dGhpcy5xMChcIndhcm5cIix7bWVzc2FnZTpcImRlZmF1bHRpbmcga2V5IG1ldGhvZCB0byBBRVMtMTI4XCJ9KSx0PXttZXRob2Q6ci5hdHRyaWJ1dGVzLlowfHxcIkFFUy0xMjhcIix1cmk6ci5hdHRyaWJ1dGVzLmxSfSx2b2lkKHZvaWQgMCE9PXIuYXR0cmlidXRlcy5JViYmKHQuaXY9ci5hdHRyaWJ1dGVzLklWKSkpOnZvaWQgdGhpcy5xMChcIndhcm5cIix7bWVzc2FnZTpcImlnbm9yaW5nIGtleSBkZWNsYXJhdGlvbiB3aXRob3V0IFVSSVwifSk6dm9pZCB0aGlzLnEwKFwid2FyblwiLHttZXNzYWdlOlwiaWdub3Jpbmcga2V5IGRlY2xhcmF0aW9uIHdpdGhvdXQgYXR0cmlidXRlIGxpc3RcIn0pfSxcIm1lZGlhLXNlcXVlbmNlXCI6ZnVuY3Rpb24oKXtpZighaXNGaW5pdGUoci5udW1iZXIpKXJldHVybiB2b2lkIHRoaXMucTAoXCJ3YXJuXCIse21lc3NhZ2U6XCJpZ25vcmluZyBpbnZhbGlkIG1lZGlhIHNlcXVlbmNlOiBcIityLm51bWJlcn0pO3RoaXMubWFuaWZlc3QubWVkaWFTZXF1ZW5jZT1yLm51bWJlcn0sXCJkaXNjb250aW51aXR5LXNlcXVlbmNlXCI6ZnVuY3Rpb24oKXtpZighaXNGaW5pdGUoci5udW1iZXIpKXJldHVybiB2b2lkIHRoaXMucTAoXCJ3YXJuXCIse21lc3NhZ2U6XCJpZ25vcmluZyBpbnZhbGlkIGRpc2NvbnRpbnVpdHkgc2VxdWVuY2U6IFwiK3IubnVtYmVyfSk7dGhpcy5tYW5pZmVzdC5kaXNjb250aW51aXR5U2VxdWVuY2U9ci5udW1iZXJ9LFwicGxheWxpc3QtdHlwZVwiOmZ1bmN0aW9uKCl7aWYoIS9WT0R8RVZFTlQvLnRlc3Qoci5LMCkpcmV0dXJuIHZvaWQgdGhpcy5xMChcIndhcm5cIix7bWVzc2FnZTpcImlnbm9yaW5nIHVua25vd24gcGxheWxpc3QgdHlwZTogXCIrci5DMH0pO3RoaXMubWFuaWZlc3QuSzA9ci5LMH0sXCJzdHJlYW0taW5mXCI6ZnVuY3Rpb24oKXtpZih0aGlzLm1hbmlmZXN0LnBsYXlsaXN0cz1hLCFyLmF0dHJpYnV0ZXMpcmV0dXJuIHZvaWQgdGhpcy5xMChcIndhcm5cIix7bWVzc2FnZTpcImlnbm9yaW5nIGVtcHR5IHN0cmVhbS1pbmYgYXR0cmlidXRlc1wifSk7aC5hdHRyaWJ1dGVzfHwoaC5hdHRyaWJ1dGVzPXt9KSxoLmF0dHJpYnV0ZXM9ZS54MChoLmF0dHJpYnV0ZXMsci5hdHRyaWJ1dGVzKX0sZGlzY29udGludWl0eTpmdW5jdGlvbigpe2guZGlzY29udGludWl0eT0hMH0sdGFyZ2V0ZHVyYXRpb246ZnVuY3Rpb24oKXtpZighaXNGaW5pdGUoci5kdXJhdGlvbil8fHIuZHVyYXRpb248MClyZXR1cm4gdm9pZCB0aGlzLnEwKFwid2FyblwiLHttZXNzYWdlOlwiaWdub3JpbmcgaW52YWxpZCB0YXJnZXQgZHVyYXRpb246IFwiK3IuZHVyYXRpb259KTt0aGlzLm1hbmlmZXN0Lk0wPXIuZHVyYXRpb259LHRvdGFsZHVyYXRpb246ZnVuY3Rpb24oKXtpZighaXNGaW5pdGUoci5kdXJhdGlvbil8fHIuZHVyYXRpb248MClyZXR1cm4gdm9pZCB0aGlzLnEwKFwid2FyblwiLHttZXNzYWdlOlwiaWdub3JpbmcgaW52YWxpZCB0b3RhbCBkdXJhdGlvbjogXCIrci5kdXJhdGlvbn0pO3RoaXMubWFuaWZlc3QuJDA9ci5kdXJhdGlvbn19KVtyLlEwXXx8cykuY2FsbChvKX0sdXJpOmZ1bmN0aW9uKCl7aC51cmk9ci51cmksYS5wdXNoKGgpLCF0aGlzLm1hbmlmZXN0Lk0wfHxcImR1cmF0aW9uXCJpbiBofHwodGhpcy5xMChcIndhcm5cIix7bWVzc2FnZTpcImRlZmF1bHRpbmcgc2VnbWVudCBkdXJhdGlvbiB0byB0aGUgdGFyZ2V0IGR1cmF0aW9uXCJ9KSxoLmR1cmF0aW9uPXRoaXMubWFuaWZlc3QuTTApLHQmJihoLmtleT10KSxoPXt9fSxlMTpmdW5jdGlvbigpe319KVtyLnR5cGVdLmNhbGwobyl9KX0sbi5wcm90b3R5cGU9bmV3IHQsbi5wcm90b3R5cGUucHVzaD1mdW5jdGlvbihlKXt0aGlzLnowLnB1c2goZSl9LG4ucHJvdG90eXBlLmVuZD1mdW5jdGlvbigpe3RoaXMuejAucHVzaChcIlxcblwiKX0sZS50MT1yLGUuaTE9aSxlLlIwPW4sZX0oKTtlLmk9aX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXIoMyksbj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0LHIpe3RoaXMuTXg9bmV3IGksdGhpcy5iaXRyYXRlPWUsdGhpcy51cmk9dCx0aGlzLnlNPXJ9cmV0dXJuIGUucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbihlLHQscixpLG4pe3RoaXMubWVkaWFTZXF1ZW5jZT1lLHRoaXMuZGlzY29udGludWl0eVNlcXVlbmNlPXQsdGhpcy5fMD1yLHRoaXMuTTA9aSx0aGlzLk5xPW4sdGhpcy51cGRhdGVkPSEwfSxlfSgpO3QuTDA9bn0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXRoaXMmJnRoaXMuaHV8fGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gcigpe3RoaXMuY29uc3RydWN0b3I9ZX1mb3IodmFyIGkgaW4gdCl0Lmhhc093blByb3BlcnR5KGkpJiYoZVtpXT10W2ldKTtlLnByb3RvdHlwZT1udWxsPT09dD9PYmplY3QuY3JlYXRlKHQpOihyLnByb3RvdHlwZT10LnByb3RvdHlwZSxuZXcgcil9LG49cig4NCkscz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gaSh0LGUpLHR9KG4uVHgpO3QuU3E9c30sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXIoMTUpLG49cigwKSxzPXIoNSksbz1yKDQpLGE9cig2KSxoPXIoMiksYz1yKDEpLHU9YS5oZS52aCxsPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMubG9nZ2VySWQ9XCJbQ0FDSEVdIFwiLHRoaXMubG9nZ2VyPW4uRnJhbWV3b3JrLnJlc29sdmUobi5GcmFtZXdvcmsuVi5SKS5sb2coKSx0aGlzLm4xPW4uRnJhbWV3b3JrLnJlc29sdmUoaS5xdS5UdSksdSYmcy5oaC5SYS5JYSYmKHRoaXMuczE9bi5GcmFtZXdvcmsucmVzb2x2ZShpLnF1Lm11KSl9cmV0dXJuIGUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oZSx0KXt0cnl7dGhpcy5uMS5pbml0KGUsdCksdSYmcy5oaC5SYS5JYSYmdGhpcy5zMS5pbml0KGUsdCl9Y2F0Y2goZSl7Yy5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIGluaXRpYWxpemluZyBjYWNoZVwiLHRoaXMubG9nZ2VySWQsaC5ocy5odC5ydCxlKX19LGUucHJvdG90eXBlLnB1dD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9by5kZWZlcigpLGk9ITE7dHJ5eyFlLldmLmlzTGl2ZSgpJiZ1JiZzLmhoLlJhLklhP3RoaXMuczEucHV0KGUpLnRoZW4oZnVuY3Rpb24oZSl7aT1lfSkuZmFpbChmdW5jdGlvbihlKXt0LmxvZ2dlci5lcnJvcihlKX0pLmZpbmFsbHkoZnVuY3Rpb24oKXtyLnJlc29sdmUoaSl9KTp0aGlzLm4xLnB1dChlKS50aGVuKGZ1bmN0aW9uKGUpe2k9ZX0pLmZhaWwoZnVuY3Rpb24oZSl7dC5sb2dnZXIuZXJyb3IoZSl9KS5maW5hbGx5KGZ1bmN0aW9uKCl7ci5yZXNvbHZlKGkpfSl9Y2F0Y2goZSl7Yy5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIGFkZGluZyBuZXcgZnJhZ21lbnQgaW4gY2FjaGVcIix0aGlzLmxvZ2dlcklkLGguaHMuaHQuaXQsZSksci5yZXNvbHZlKGkpfXJldHVybiByLlNzfSxlLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPW8uZGVmZXIoKSxpPW51bGw7dHJ5e3RoaXMuY29udGFpbnMoZSkudGhlbihmdW5jdGlvbihuKXtuP3QubjEuZ2V0KGUpLnRoZW4oZnVuY3Rpb24ocil7bnVsbD09ciYmdSYmcy5oaC5SYS5JYT90LnMxLmdldChlKS50aGVuKGZ1bmN0aW9uKGUpe2k9ZX0pOmk9cn0pLmZhaWwoZnVuY3Rpb24oZSl7dC5sb2dnZXIuZXJyb3IoZSl9KS5maW5hbGx5KGZ1bmN0aW9uKCl7ci5yZXNvbHZlKGkpfSk6ci5yZXNvbHZlKGkpfSkuZmFpbChmdW5jdGlvbihlKXt0LmxvZ2dlci5lcnJvcihlKX0pLmZpbmFsbHkoZnVuY3Rpb24oKXtyLnJlc29sdmUoaSl9KX1jYXRjaChlKXtjLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgZ2V0dGluZyB0aGUgZnJhZ21lbnQgZnJvbSBjYWNoZVwiLHRoaXMubG9nZ2VySWQsaC5ocy5odC5udCxlKSxyLnJlc29sdmUoaSl9cmV0dXJuIHIuU3N9LGUucHJvdG90eXBlLmNvbnRhaW5zPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1vLmRlZmVyKCksaT0hMTt0cnl7dGhpcy5uMS5jb250YWlucyhlKS50aGVuKGZ1bmN0aW9uKHIpeyFpJiZ1JiZzLmhoLlJhLklhP3QuczEuY29udGFpbnMoZSkudGhlbihmdW5jdGlvbihlKXtpPWV9KTppPXJ9KS5mYWlsKGZ1bmN0aW9uKGUpe3QubG9nZ2VyLmVycm9yKGUpfSkuZmluYWxseShmdW5jdGlvbigpe3IucmVzb2x2ZShpKX0pfWNhdGNoKGUpe2MuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBjaGVja2luZyBpZiBjYWNoZSBjb250YWlucyB0aGUgZnJhZ21lbnRcIix0aGlzLmxvZ2dlcklkLGguaHMuaHQuc3QsZSksci5yZXNvbHZlKCExKX1yZXR1cm4gci5Tc30sZS5wcm90b3R5cGUuaWs9ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiFlJiZ1JiZzLmhoLlJhLklhP3RoaXMuczEuaWsoZSk6dGhpcy5uMS5payhlKX1jYXRjaChlKXtyZXR1cm4gYy5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIGdldHRpbmcgdGhlIGtleXMgZnJvbSBjYWNoZVwiLHRoaXMubG9nZ2VySWQsaC5ocy5odC5vdCxlKSxbXX19LGUucHJvdG90eXBlLlZxPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1vLmRlZmVyKCksaT1bXTt0cnl7IWUmJnUmJnMuaGguUmEuSWE/dGhpcy5zMS5WcShlKS50aGVuKGZ1bmN0aW9uKGUpe2k9ZX0pLmZhaWwoZnVuY3Rpb24oZSl7dC5sb2dnZXIuZXJyb3IoZSl9KS5maW5hbGx5KGZ1bmN0aW9uKCl7ci5yZXNvbHZlKGkpfSk6dGhpcy5uMS5WcShlKS50aGVuKGZ1bmN0aW9uKGUpe2k9ZX0pLmZhaWwoZnVuY3Rpb24oZSl7dC5sb2dnZXIuZXJyb3IoZSl9KS5maW5hbGx5KGZ1bmN0aW9uKCl7ci5yZXNvbHZlKGkpfSl9Y2F0Y2goZSl7Yy5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIGdldHRpbmcgdGhlIGVsZW1lbnRzIGZyb20gY2FjaGUgXCIsdGhpcy5sb2dnZXJJZCxoLmhzLmh0LmF0LGUpLHIucmVzb2x2ZShpKX1yZXR1cm4gci5Tc30sZS5wcm90b3R5cGUuUXE9ZnVuY3Rpb24oKXt0aGlzLm4xLlFxKCl9LGV9KCk7dC5SYT1sfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9cigzKSxuPXIoMjQpLHM9cig3KSxvPXIoNSksYT1yKDApLGg9cig5KSxjPXIoMSksdT1yKDIpLGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5sb2dnZXJJZD1cIltGYWxsYmFja1JlcXVlc3Rlcl0gXCIsdGhpcy5vMT1uZXcgaSx0aGlzLkxoPW5ldyBzLnJjLlZofXJldHVybiBlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKGUpe3RoaXMubG9nZ2VyPWEuRnJhbWV3b3JrLnJlc29sdmUoYS5GcmFtZXdvcmsuVi5SKS5sb2coZS5zZXNzaW9uSWQpLHRoaXMuYTE9ZS5FRH0sZS5wcm90b3R5cGUucmVxdWVzdD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9YS5GcmFtZXdvcmsucmVzb2x2ZShhLkZyYW1ld29yay5WLkgpLGk9ITEsbj1lLiRmKCksbD1lLktmLHA9ZS5lZygpO2UueGhyPXIsZS5xZi5GZj1hLkZyYW1ld29yay50aW1lKCksdGhpcy5sb2dnZXIuZGVidWcoXCJGUkwgSVNTVUUgUkVRIEZPUiBGUkFHTUVOVCBcIitlLnpmLnRvU3RyaW5nKCkrXCItXCIrZS5xZi5BZitcIiBbXCIraC52Y1tlLlhmKCldK1wiXSBUTyBGQUxMQkFDSyBcIiksZS56Zi5PXygpJiYoci5yZXNwb25zZVR5cGU9XCJhcnJheWJ1ZmZlclwiKSx0aGlzLmgxKGUudHlwZSkmJmwucmFuZ2UmJmUuWGYoKSE9aC52Yy5nYyYmci5zZXRSZXF1ZXN0SGVhZGVyKFwiUmFuZ2VcIixcImJ5dGVzPVwiK2wucmFuZ2UpLG8uaGguSy5OYSYmdGhpcy5jMShlLnR5cGUpJiYwIT1lLnFmLkFmJiYodGhpcy5sb2dnZXIuaW5mbyhcIlNFVCBSQU5HRSBieXRlcz1cIitlLnFmLkFmK1wiLVwiKSxyLnNldFJlcXVlc3RIZWFkZXIoXCJSYW5nZVwiLFwiYnl0ZXM9XCIrZS5xZi5BZitcIi1cIikpLGwubFUuZm9yRWFjaChmdW5jdGlvbihlKXtcInJhbmdlXCIhPT1lLmtleS50b0xvd2VyQ2FzZSgpJiZyLnNldFJlcXVlc3RIZWFkZXIoZS5rZXksZS52YWx1ZSl9KSxsLmFzeW5jJiZsLnRpbWVvdXQ+MCYmKHIudGltZW91dD1sLnRpbWVvdXQpLGwubWltZVR5cGUmJnIub3ZlcnJpZGVNaW1lVHlwZShsLm1pbWVUeXBlKSxsLndpdGhDcmVkZW50aWFscyYmKHIud2l0aENyZWRlbnRpYWxzPWwud2l0aENyZWRlbnRpYWxzKSxyLm9ubG9hZHN0YXJ0PWZ1bmN0aW9uKGUpe3ZhciB0PXMucmMuY3JlYXRlRXZlbnQoRXZlbnQsXCJsb2Fkc3RhcnRcIixlLGwpO2wuZGlzcGF0Y2hFdmVudCh0KX0sci5vbmFib3J0PWZ1bmN0aW9uKGUpe2lmKCFpKXt2YXIgdD1zLnJjLmNyZWF0ZUV2ZW50KEV2ZW50LFwiYWJvcnRcIixlLGwpO2wuZGlzcGF0Y2hFdmVudCh0KX19LHIub250aW1lb3V0PWZ1bmN0aW9uKHIpe2lmKCFpKXt0LmVycm9yKGUsbik7dmFyIG89cy5yYy5jcmVhdGVFdmVudChQcm9ncmVzc0V2ZW50LFwidGltZW91dFwiLHIsbCk7bC5kaXNwYXRjaEV2ZW50KG8pLGMuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBvbiBmYWxsYmFjayByZXF1ZXN0IGJlY2F1c2Ugb2YgdGltZW91dFwiLHQubG9nZ2VySWQsdS5ocy5Lbi5Rbil9fSxyLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbihlKXtpZihsJiYoci5yZWFkeVN0YXRlPT09WE1MSHR0cFJlcXVlc3QuSEVBREVSU19SRUNFSVZFRCYmKGwucmVzcG9uc2VIZWFkZXJzPXIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkpLHIucmVhZHlTdGF0ZTxYTUxIdHRwUmVxdWVzdC5ET05FfHxyLnJlYWR5U3RhdGU9PT1YTUxIdHRwUmVxdWVzdC5ET05FJiYwPT09ci5zdGF0dXMpKXtsLnJlYWR5U3RhdGU9ci5yZWFkeVN0YXRlO3ZhciB0PXMucmMuY3JlYXRlRXZlbnQoRXZlbnQsXCJyZWFkeXN0YXRlY2hhbmdlXCIsZSxsKTtsLmRpc3BhdGNoRXZlbnQodCl9fSxyLm9ucHJvZ3Jlc3M9ZnVuY3Rpb24oaSl7aWYoIXQuYzEoZS50eXBlKSl7dmFyIG49cy5yYy5jcmVhdGVFdmVudChQcm9ncmVzc0V2ZW50LFwicHJvZ3Jlc3NcIixpLGwpO2wuZGlzcGF0Y2hFdmVudChuKSxyLnRvdGFsPWkudG90YWx9ZS5xZi5EZj1pLnRvdGFsfSxyLm9ubG9hZD1mdW5jdGlvbihoKXtpZihpPSEwLGwuc3RhdHVzPXIuc3RhdHVzLGgmJjAhPWgudG90YWwmJihlLnFmLkRmPWgudG90YWwpLGUucmVzcG9uc2VIZWFkZXJzPXIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCksci5zdGF0dXM8MjAwfHxyLnN0YXR1cz4yOTkpcmV0dXJuIHQubG9nZ2VyLmRlYnVnKFwiRlJMIFNFUlZFUiBSRVRVUk5FRCBFUlJPUiBDT0RFIFwiK3Iuc3RhdHVzKSx2b2lkIHQuZXJyb3IoZSxuKTtlLnpmLk9fKCk/dC5oMShlLnR5cGUpP2UuamY9ci5yZXNwb25zZTp0LmMxKGUudHlwZSkmJihvLmhoLksuTmE/ZS5qZj1hLkZyYW1ld29yay5DKCk/bnVsbDpzLnJjLmFwcGVuZEJ1ZmZlcihlLmpmLHIucmVzcG9uc2UpOmUuamY9ci5yZXNwb25zZSk6ZS5STT1yLnJlc3BvbnNlVGV4dCxlLmxvYWRlZCgpLHQubzEuZGVsZXRlKG4pLGUucWYuVWY9YS5GcmFtZXdvcmsudGltZSgpLHQudTEoZSksdC5sMShlKSx0LmExLmlaKGUpLHI9bnVsbH0sci5vbmVycm9yPWZ1bmN0aW9uKCl7aXx8dC5lcnJvcihlLG4pfSx0aGlzLm8xLnNldChuLGUpLHIub3BlbihcIkdFVFwiLHAsbC5hc3luYyxsLnVzZXJuYW1lLGwucGFzc3dvcmQpLHIuc2VuZCgpfSxlLnByb3RvdHlwZS5lcnJvcj1mdW5jdGlvbihlLHQpe3ZhciByPVwiQ09VTEQgTk9UIERPV05MT0FEIFwiK2UuZWcoKStcIiBzdGF0dXM6IFwiK2UueGhyLnN0YXR1cztlLnR5cGU9PW4uYmYuSWY/dGhpcy5sb2dnZXIuZGVidWcocik6dGhpcy5sb2dnZXIud2FybihyKSx0aGlzLmQxKGUpLHRoaXMubzEuZGVsZXRlKHQpLHRoaXMuYTEuZVooZSl9LGUucHJvdG90eXBlLllzPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLm8xLmhhcyhlKX0sZS5wcm90b3R5cGUuaDE9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PW4uYmYuSWZ8fGU9PW4uYmYubWZ8fGU9PW4uYmYuVGZ9LGUucHJvdG90eXBlLmMxPWZ1bmN0aW9uKGUpe3JldHVybiBlPT1uLmJmLlNmfSxlLnByb3RvdHlwZS5xWD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLm8xLmdldChlKTt0aGlzLm8xLmRlbGV0ZShlKSx0JiZ0LnhociYmdC54aHIuYWJvcnQoKX0sZS5wcm90b3R5cGUubDE9ZnVuY3Rpb24oZSl7dGhpcy5sb2dnZXIuaW5mbyhcIlNVQ0NFU1MgRlJPTSBGQUxMQkFDSyBGT1IgXCIrZS5lZygpK1wiIFtcIituLmJmW2UudHlwZV0rXCJdW1wiK2UucWYuRGYrXCJdIEFGVEVSIFwiK2Uuc2coKStcIiBbY3VycjpcIitlLmFnKCkuR2goKStcIiBhdmc6XCIrdGhpcy5MaC5HaCgpK1wiXVwiKX0sZS5wcm90b3R5cGUuZDE9ZnVuY3Rpb24oZSl7fSxlLnByb3RvdHlwZS5XWD1mdW5jdGlvbigpe3JldHVybiB0aGlzLkxofSxlLnByb3RvdHlwZS51MT1mdW5jdGlvbihlKXtlLlhmKCk9PT1oLnZjLmZjJiZ0aGlzLkxoLlVoKGUuYWcoKSl9LGV9KCk7dC5SSj1sfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9cig0KTtyKDYwKTt2YXIgbj1yKDApLHM9cig1KSxvPXIoMTUpLGE9cig0OSksaD1yKDU4KSxjPXIoMTApLHU9cig5MSksbD1oaXZlLnNlcnZpY2VzLnByb3RvY29sLklGLkN1c3RvbWVyS2V5LHA9cig4KSxkPXIoMTQpLGY9cig2KSxnPXIoMSksRT1yKDIpLHY9Zi5oZS5UaCx5PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuZjE9aXNOYU4oZC5IaXZlQ29uZmlnLkRlYnVnTG9ncy5UcmFja2VyTG9ncyk/MDpkLkhpdmVDb25maWcuRGVidWdMb2dzLlRyYWNrZXJMb2dzLHRoaXMubG9nZ2VySWQ9XCJbVFJBQ0tFUl0gXCIsdGhpcy5aVT0wLHRoaXMuZzE9MCx0aGlzLkUxPS8oWzAtOV17MSwzfShcXC5bMC05XXsxLDN9KXszfXxbYS1mMC05XXsxLDR9KDpbYS1mMC05XXswLDR9KXs1fSkvLHRoaXMudjE9ITAsdGhpcy5OZz1uLkZyYW1ld29yay5yZXNvbHZlKG4uRnJhbWV3b3JrLlYuRiksdGhpcy51ZD1uLkZyYW1ld29yay5yZXNvbHZlKHAucGMuc2MpLHRoaXMueVg9bi5GcmFtZXdvcmsucmVzb2x2ZShvLnF1Lk11KX1yZXR1cm4gZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbihlKXt0aGlzLmxvZ2dlcj1uLkZyYW1ld29yay5yZXNvbHZlKG4uRnJhbWV3b3JrLlYuUikubG9nKGUuc2Vzc2lvbklkKSx0aGlzLnNlc3Npb25JZD1lLnNlc3Npb25JZCx0aGlzLnhKPWUueEosdGhpcy55RD1lLnlELHRoaXMuek09ZS56TSx0aGlzLlQxPWUubUQsdGhpcy55WC5tMShlLnNlc3Npb25JZCx0aGlzKSx0aGlzLkkxPXUuWHEuSnF9LGUucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxyPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyl0W3ItMV09YXJndW1lbnRzW3JdO3RoaXMuY29udGV4dD1lLHRoaXMuc3RyZWFtSWQ9ZS5kSi5nZXRDb250ZXh0SWQoKSx0aGlzLnRpY2tldD1lLmRKLlNrKCksdGhpcy52bD10fSxlLnByb3RvdHlwZS5TMT1mdW5jdGlvbihlKXt0aGlzLlIxPWV9LGUucHJvdG90eXBlLnVYPWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLm5YKCksdGhpcy53MT1uLkZyYW1ld29yay5zZXRJbnRlcnZhbChmdW5jdGlvbigpe2UuYjEoKX0scy5oaC56by5ZbyksdGhpcy5iMSgpfSxlLnByb3RvdHlwZS5uWD1mdW5jdGlvbigpe3RoaXMudzEmJm4uRnJhbWV3b3JrLmNsZWFySW50ZXJ2YWwodGhpcy53MSl9LGUucHJvdG90eXBlLkMxPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PWkuZGVmZXIoKSxyPW5ldyBoaXZlLnNlcnZpY2VzLnByb3RvY29sLklGLlRyYWNrZXJSZXF1ZXN0LG49dGhpcy5jb250ZXh0LmRKLHM9bi5pc0xpdmUoKT9TdHJlYW1UeXBlLkxJVkU6U3RyZWFtVHlwZS5rSztyLnNlc3Npb25JZD10aGlzLnNlc3Npb25JZDt2YXIgbz1uZXcgbDtyZXR1cm4gdGhpcy5SMT8oby5wYXJ0bmVySWQ9dGhpcy5SMS5wYXJ0bmVySWQsby5jdXN0b21lcklkPXRoaXMuUjEuY3VzdG9tZXJJZCk6ZC5IaXZlQ29uZmlnLkNsaWVudEluZm8uY3UmJmQuSGl2ZUNvbmZpZy5DbGllbnRJbmZvLnV1PyhvLnBhcnRuZXJJZD1kLkhpdmVDb25maWcuQ2xpZW50SW5mby5jdSxvLmN1c3RvbWVySWQ9ZC5IaXZlQ29uZmlnLkNsaWVudEluZm8udXUpOihvLnBhcnRuZXJJZD10aGlzLnRpY2tldC51cCgpLG8uY3VzdG9tZXJJZD10aGlzLnRpY2tldC5jcCgpKSxyLmN1c3RvbWVyS2V5PW8sci5zdHJlYW1UeXBlPXMsci5jb250ZW50SWQ9dGhpcy55RC5nZXRDb250ZXh0SWQoKSx0aGlzLnVkLmdldENvbm5lY3Rpdml0eUluZm8oKS50aGVuKGZ1bmN0aW9uKHQpe2UuXzE9dC5nZXROZXR3b3JrQ2hhbmdlZCgpLmdldFByaXZhdGVJcCgpLGUueUQuREgoZS5fMSl9KS5mYWlsKGZ1bmN0aW9uKHQpe2cuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBnZXR0aW5nIGNvbm5lY3Rpdml0eSBpbmZvXCIsZS5sb2dnZXJJZCxFLmhzLkxpLl9pKX0pLmZpbmFsbHkoZnVuY3Rpb24oKXt0cnl7dmFyIGk9bmV3IGhpdmUuc25hcHNob3RzLkNvbm5lY3Rpdml0eUluZm87aS5wdWJsaWNJcD1lLklCLGkucHJpdmF0ZUlwPWUuXzEsci5pbmZvPWUuUDEoaSxuKSxyLnF1ZXJ5PWUuQTEobixyLmluZm8pLHQucmVzb2x2ZShyKX1jYXRjaChyKXtnLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgY29sbGVjdGluZyB0aGUgZGF0YSBmb3IgdGhlIHRyYWNrZXIgcmVxdWVzdFwiLGUubG9nZ2VySWQsRS5ocy5MaS5QaSxyKSx0LnJlamVjdChcIkVSUk9SXCIpfX0pLmRvbmUoKSx0LlNzfSxlLnByb3RvdHlwZS5PMT1mdW5jdGlvbigpe3ZhciBlPW5ldyBBcnJheTtyZXR1cm4gdGhpcy5JMT09dS5YcS5KcT9lLnB1c2goaGl2ZS5zZXJ2aWNlcy5wcm90b2NvbC5JRi5TRi5SRik6dGhpcy5JMT09dS5YcS5BUz9lLnB1c2goaGl2ZS5zZXJ2aWNlcy5wcm90b2NvbC5JRi5TRi5iRik6dGhpcy5JMT09dS5YcS5uRD9lLnB1c2goaGl2ZS5zZXJ2aWNlcy5wcm90b2NvbC5JRi5TRi53Rik6dGhpcy5sb2dnZXIud2FybihcIldyb25nIGxvY2FsaXR5IG1vZGVcIiksZX0sZS5wcm90b3R5cGUuQTE9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLGk9bmV3IGhpdmUuc2VydmljZXMucHJvdG9jb2wuSUYuVHJhY2tlclF1ZXJ5O3RyeXtyZXR1cm4gaS5yYW5kb209cy5oaC5KYS5LYSx0LmV4dGVybmFsQXMmJiF0aGlzLlpVJiYodGhpcy5aVT10LmV4dGVybmFsQXMpLHQuaW50ZXJuYWxBcyYmIXRoaXMuZzEmJih0aGlzLmcxPXQuaW50ZXJuYWxBcyksaS5yYW5raW5ncz10aGlzLk8xKCksaS5hc25zPVtdLHRoaXMuWlU+MCYmdGhpcy5OMShpLmFzbnMsaGl2ZS5zZXJ2aWNlcy5wcm90b2NvbC5JRi5DRi5FeHRlcm5hbCx0aGlzLlpVLHMuaGguSmEuWWEpLHRoaXMuZzE+MCYmKHRoaXMuTjEoaS5hc25zLGhpdmUuc2VydmljZXMucHJvdG9jb2wuSUYuQ0YuX0YsdGhpcy5nMSxzLmhoLkphLldhKSxpLndhdGNoZXJzPVtdLGUubE0oKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PXIuRDEoaGl2ZS5zZXJ2aWNlcy5wcm90b2NvbC5JRi5DRi5fRixyLmcxLGUsLTEpO2kud2F0Y2hlcnMucHVzaCh7a2V5OnQsdmFsdWU6MX0pfSksaS5zdHJlYW1lcnM9W10sdGhpcy55RC5VaigpLmZvckVhY2goZnVuY3Rpb24oZSx0KXt2YXIgbj1yLkQxKGhpdmUuc2VydmljZXMucHJvdG9jb2wuSUYuQ0YuX0Ysci5nMSx0LGUudHlwZT09YS5zRC5uRD9oaXZlLnNlcnZpY2VzLnByb3RvY29sLklGLndjLlNjOi0xKTtpLnN0cmVhbWVycy5wdXNoKHtrZXk6bix2YWx1ZTpzLmhoLkphLnphfSl9KSksaX1jYXRjaChlKXt0aHJvdyBnLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgcHJlcGFyaW5nIHRyYWNrZXIgcXVlcnlcIix0aGlzLmxvZ2dlcklkLEUuaHMuTGkuQWksZSksbmV3IEVycm9yKGUpfX0sZS5wcm90b3R5cGUuRDE9ZnVuY3Rpb24oZSx0LHIsaSl7dmFyIG49bmV3IGhpdmUuc2VydmljZXMucHJvdG9jb2wuSUYuVHJhY2tlckJpdHJhdGVRdWVyeSxzPW5ldyBoaXZlLnNlcnZpY2VzLnByb3RvY29sLklGLlRyYWNrZXJBc1F1ZXJ5O3JldHVybiBzLmFzVHlwZT1lLHMuYXNuPXQsbi5iaXRyYXRlPXIsbi5hc249cywtMSE9aSYmbi5zdHJlYW1TdGF0ZSxufSxlLnByb3RvdHlwZS5OMT1mdW5jdGlvbihlLHQscixpKXt2YXIgbj1uZXcgaGl2ZS5zZXJ2aWNlcy5wcm90b2NvbC5JRi5UcmFja2VyQXNRdWVyeTtuLmFzVHlwZT10LG4uYXNuPXIsZS5wdXNoKHtrZXk6bix2YWx1ZTppfSl9LGUucHJvdG90eXBlLlAxPWZ1bmN0aW9uKGUsdCl7dmFyIHI9bmV3IGhpdmUuc2VydmljZXMucHJvdG9jb2wuSUYuVHJhY2tlclBlZXJJbmZvO3RyeXtpZihuLkZyYW1ld29yay5DKCk/ci5ndWlkPXRoaXMuZ2Q6ci5ndWlkPWJ0b2EodGhpcy5nZCksci50aW1lc3RhbXA9bi5GcmFtZXdvcmsudGltZSgpLHIubmF0PXZvaWQgMCx0aGlzLnlELkZqKCkmJihyLmV4dGVybmFsQXM9dGhpcy55RC5GaigpKSx0aGlzLnlELmdrKCkmJihyLmludGVybmFsQXM9dGhpcy55RC5naygpKSxudWxsIT1lKXtyLnB1YmxpY0lwU3RyaW5nPWUucHVibGljSXA7dmFyIGk9bmV3IEluZXRBZGRyZXNzO2kuYWRkcmVzcz1lLnB1YmxpY0lwLHIucHVibGljSXA9aSxyLnByaXZhdGVJcFN0cmluZz1lLnByaXZhdGVJcDt2YXIgcz1uZXcgSW5ldEFkZHJlc3M7cy5hZGRyZXNzPWUucHJpdmF0ZUlwLHIucHJpdmF0ZUlwPXN9aWYoIXRoaXMueUQuY2soKSYmdGhpcy55RC55aygpJiZ2P3IucmFua1ZhbHVlPTE6ci5yYW5rVmFsdWU9dGhpcy55RC5MMSgpLHRoaXMuY29udGV4dC5kSiBpbnN0YW5jZW9mIGguR00pe3Iuc3RyZWFtcz1uZXcgQXJyYXk7dmFyIG89dC5QRCgpO251bGwhPW8mJihyLndhdGNoaW5nQml0cmF0ZT1vLmJpdHJhdGUpO3ZhciBjPXQuSk0oKTt0aGlzLnlELlVqKCkuZm9yRWFjaChmdW5jdGlvbihlLHQpe2lmKGUuYl8pe3ZhciBpPW5ldyBoaXZlLnNlcnZpY2VzLnByb3RvY29sLklGLlRyYWNrZXJQZWVyU3RyZWFtSW5mbztzd2l0Y2goaS5iaXRyYXRlPXQsZS50eXBlKXtjYXNlIGEuc0QubWM6aS5zdGF0ZT1oaXZlLnNlcnZpY2VzLnByb3RvY29sLklGLndjLkljO2JyZWFrO2Nhc2UgYS5zRC5pRDppLnN0YXRlPWhpdmUuc2VydmljZXMucHJvdG9jb2wuSUYud2MuUmM7YnJlYWs7Y2FzZSBhLnNELm5EOmkuc3RhdGU9aGl2ZS5zZXJ2aWNlcy5wcm90b2NvbC5JRi53Yy5TY31pLmRlbHRhPWMuS0QoZS5iXy5BXygpLHQpLHIuc3RyZWFtcy5wdXNoKGkpfX0pfXJldHVybiByfWNhdGNoKGUpe3Rocm93IGcuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBwcmVwYXJpbmcgdHJhY2tlciBpbmZvXCIsdGhpcy5sb2dnZXJJZCxFLmhzLkxpLk5pLGUpLG5ldyBFcnJvcihlKX19LGUucHJvdG90eXBlLmIxPWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLmxvZ2dlci5kZWJ1Zyh0aGlzLmxvZ2dlcklkK1wiIFBSRVBBUkUgUkVRVUVTVFwiKSx0aGlzLkMxKCkudGhlbihmdW5jdGlvbih0KXt2YXIgcj1lLmxvZ2dlcklkK1wiU0VORElORyBUUkFDS0VSIFJFUVVFU1QgWyBwcml2YXRlSXA6XCIrdC5pbmZvLnByaXZhdGVJcFN0cmluZytcIiByYW5rOlwiK3QuaW5mby5yYW5rVmFsdWUrXCJdXCI7c3dpdGNoKGUuZjEpe2Nhc2UgMDpkZWZhdWx0OmUubG9nZ2VyLmRlYnVnKHIpO2JyZWFrO2Nhc2UgMTplLmxvZ2dlci5kZWJ1ZyhyK1wiIFwiK0pTT04uc3RyaW5naWZ5KHQpKTticmVhaztjYXNlIDI6ZS5sb2dnZXIuZGVidWcocix0KTticmVhaztjYXNlIDM6ZS5sb2dnZXIuZGVidWcocitcIiBcIitKU09OLnN0cmluZ2lmeSh0KSx0KX1lLnlYLk0xKHQpfSxmdW5jdGlvbih0KXtnLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgcHJlcGFyaW5nIHRoZSB0cmFja2VyIHJlcXVlc3RcIixlLmxvZ2dlcklkLEUuaHMuTGkuQ2kpfSkuY2F0Y2goZnVuY3Rpb24odCl7Zy5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIHNlbmRpbmcgdHJhY2tlciByZXF1ZXN0XCIsZS5sb2dnZXJJZCxFLmhzLkxpLkRpLHQpfSl9LGUucHJvdG90eXBlLkYxPWZ1bmN0aW9uKGUpe3RoaXMuSTE9ZX0sZS5wcm90b3R5cGUuS1g9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0cnl7c3dpdGNoKHRoaXMuZjEpe2Nhc2UgMTp0aGlzLmxvZ2dlci5kZWJ1Zyh0aGlzLmxvZ2dlcklkK3RoaXMuY29udGV4dC5kSi5TaygpK1wiIFRyYWNrZXIgUmVzcG9uc2U6IFwiK0pTT04uc3RyaW5naWZ5KGUpKTticmVhaztjYXNlIDI6dGhpcy5sb2dnZXIuZGVidWcodGhpcy5sb2dnZXJJZCt0aGlzLmNvbnRleHQuZEouU2soKStcIiBUcmFja2VyIFJlc3BvbnNlOiBcIixlKTticmVhaztjYXNlIDM6dGhpcy5sb2dnZXIuZGVidWcodGhpcy5sb2dnZXJJZCt0aGlzLmNvbnRleHQuZEouU2soKStcIiBUcmFja2VyIFJlc3BvbnNlOiBcIitKU09OLnN0cmluZ2lmeShlKSxlKX10aGlzLlpVPWUucGVlckluZm8uZXh0ZXJuYWxBcyx0aGlzLmcxPWUucGVlckluZm8uaW50ZXJuYWxBcyx0aGlzLklCPWUucGVlckluZm8ucHVibGljSXBTdHJpbmcsdGhpcy5fMT1lLnBlZXJJbmZvLnByaXZhdGVJcFN0cmluZyx0aGlzLnlELl9IKHRoaXMuSUIpLHRoaXMueUQuVTEodGhpcy5nMSksdGhpcy55RC5CMSh0aGlzLlpVKSx0aGlzLnVkLmJIKHRoaXMuSUIsdGhpcy5fMSx0aGlzLmcxKSx0aGlzLmxvZ2dlci5kZWJ1Zyh0aGlzLmxvZ2dlcklkK1wiUmVwb3J0aW5nIGZyb20gdHJhY2tlciBwdWJsaWMgSVA6XCIrdGhpcy5JQitcIiBwcml2YXRlIElQOiBcIit0aGlzLl8xK1wiIEV4dEFzOlwiK3RoaXMuWlUrXCIgaW5BczpcIit0aGlzLmcxKSwhdGhpcy55RC5jaygpJiZ0aGlzLnlELnlrKCkmJnY/dGhpcy5UMS5NRyghMSk6dGhpcy5UMS5IMShlLnJhbmtpbmdzLGUuaW5mb3MpO3ZhciByPXRoaXMucTEoZSk7dGhpcy52bC5mb3JFYWNoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmdHKHIsdC52MSl9KSx0aGlzLnYxPSExfWNhdGNoKGUpe2cuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBoYW5kbGluZyB0aGUgcmVzcG9uc2VcIix0aGlzLmxvZ2dlcklkLEUuaHMuTGkua2ksZSl9fSxlLnByb3RvdHlwZS5xMT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10scj0wLGk9ZS5pbmZvcztyPGkubGVuZ3RoO3IrKyl7dmFyIG49aVtyXSxzPW5ldyBjLmJjKGMuVGMueWMsbik7dC5wdXNoKHMpfXJldHVybiB0fSxlLnByb3RvdHlwZS5LRz1mdW5jdGlvbihlKXt9LGUucHJvdG90eXBlLlVkPWZ1bmN0aW9uKGUpe3RoaXMuZ2Q9ZSx0aGlzLmxvZ2dlci5pbmZvKHRoaXMubG9nZ2VySWQrXCJDT05ORUNURUQgXCIrdGhpcy5nZCksdGhpcy5UMS5HMSgpLHRoaXMudVgoKX0sZS5wcm90b3R5cGUuZWo9ZnVuY3Rpb24oKXt9LGV9KCk7dC5iSj15fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9cigzKSxuPXIoMCkscz1yKDcpLG89cigxKSxhPXIoMiksaD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXt0aGlzLmlkPWUsdGhpcy5zaXplPXR9cmV0dXJuIGV9KCksYz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLmxvZ2dlcklkPVwiW09iamVjdEluZGV4XSBcIix0aGlzLlYxPW5ldyBpLHRoaXMuajE9bmV3IGksdGhpcy5sb2dnZXI9bi5GcmFtZXdvcmsucmVzb2x2ZShuLkZyYW1ld29yay5WLlIpLmxvZygpfXJldHVybiBlLnByb3RvdHlwZS5wdXQ9ZnVuY3Rpb24oZSx0KXt0cnl7dmFyIHI9ZS5mcmFnbWVudElkLGk9ZS5zaXplO2UuYml0cmF0ZTt0aGlzLlYxLmhhcyhyKXx8KHRoaXMuVjEuc2V0KHIsbmV3IGgocixpKSksdGhpcy5qMS5zZXQocixuZXcgQXJyYXkpKSx0aGlzLmoxLmdldChyKS5wdXNoKHQpfWNhdGNoKGUpe3Rocm93IG8uRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBhZGRpbmcgbmV3IGhhdmUgaW4gb2JqZWN0IGluZGV4XCIsdGhpcy5sb2dnZXJJZCxhLmhzLlhuLnpuLGUpLG5ldyBFcnJvcihlKX19LGUucHJvdG90eXBlLmNvbnRhaW5zPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmoxLmhhcyhlKX0sZS5wcm90b3R5cGUuZms9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuajEuZ2V0KGUpfSxlLnByb3RvdHlwZS5RMT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5WMS5nZXQoZSl9LGUucHJvdG90eXBlLkdqPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dHJ5e3RoaXMuajEuZm9yRWFjaChmdW5jdGlvbihyLGkpe3MucmMuS2gocixlLCExKSwwPT09ci5sZW5ndGgmJih0LmoxLmRlbGV0ZShpKSx0LlYxLmRlbGV0ZShpKSl9KX1jYXRjaChlKXtvLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgcmVtb3ZpbmcgaGF2ZXMgc2VuZCBmcm9tIGEgc3BlY2lmaWMgcGVlclwiLHRoaXMubG9nZ2VySWQsYS5ocy5Ybi5KbixlKX19LGUucHJvdG90eXBlLktxPWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLmoxLmZvckVhY2goZnVuY3Rpb24odCxyKXtlLmxvZ2dlci5kZWJ1ZyhcIk9CSklEWCBGUiBcIityK1wiIFBTIFwiK3QubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLndqLnlnLm90aGVyR3VpZH0pLnJlZHVjZShmdW5jdGlvbihlLHQpe3JldHVybiBlK1wiLFwiK3R9KSl9KX0sZX0oKTt0LkFKPWN9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1yKDMpLG49cig1KSxzPXIoMCksbz1yKDcpLGE9cigxMCksaD1yKDE2MCksYz1yKDQ3KSx1PXIoOTIpLGw9cig2KSxwPXIoMSksZD1yKDIpLGY9bC5oZS5UaCxnPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMubG9nZ2VySWQ9XCJbTWVtYmVyc2hpcF0gXCIsdGhpcy5nZD1udWxsLHRoaXMuSzE9bmV3IGksdGhpcy5raj1uZXcgaX1yZXR1cm4gZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbihlKXt0aGlzLmxvZ2dlcj1zLkZyYW1ld29yay5yZXNvbHZlKHMuRnJhbWV3b3JrLlYuUikubG9nKGUuc2Vzc2lvbklkKSx0aGlzLlREPWUuVEQsdGhpcy55RD1lLnlELHRoaXMuWTE9ZS5ZTSwoZnx8cy5GcmFtZXdvcmsuQygpJiZjLiROLlhOKSYmKHRoaXMuUUo9ZS5RSiksdGhpcy5zdGFydCgpfSxlLnByb3RvdHlwZS5zdGFydD1mdW5jdGlvbigpe3RoaXMuVzE9ITB9LGUucHJvdG90eXBlLnN0b3A9ZnVuY3Rpb24oKXt0aGlzLlcxPSExfSxlLnByb3RvdHlwZS5nRz1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7dHJ5e2lmKHRoaXMuVzEpe3ZhciBpPVtdO2UuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD1udWxsO3IuejEoKSxlLmd1aWQhPXIuZ2QmJihlLnR5cGU9PWEuVGMueWM/dD1yLkoxKGUpOmZ8fHMuRnJhbWV3b3JrLkMoKSYmYy4kTi5YTj8odD1yLlgxKGUpLHIuUUouYUcoZSkudGhlbihmdW5jdGlvbigpe3IuVEQudGooci5rai5nZXQoZS5ndWlkKSl9KS5mYWlsKGZ1bmN0aW9uKHQpe3QmJnQhPXUuSkcuRUcmJihyLmtqLmRlbGV0ZShlLmd1aWQpLHAuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBlbGVjdGluZyBsYW4gbGVhZGVyXCIsci5sb2dnZXJJZCxkLmhzLnl0LmR0KSl9KSk6dD1yLlgxKGUpKSx0JiZpLnB1c2godC5wZWVySW5mby5ndWlkKX0pLHRoaXMuU0woKSx0JiZ0aGlzLlRELmhqKHQpLGkubGVuZ3RoPjAmJnRoaXMubG9nZ2VyLmRlYnVnKFwiRElTQ09WRVJFRCBORVcgXCIraS5sZW5ndGgrXCIvXCIrZS5sZW5ndGgrXCI6IFtcIitpLmpvaW4oXCIsIFwiKStcIl1cIil9fWNhdGNoKGUpe3AuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBkaXNjb3ZlcmluZyBwZWVyc1wiLHRoaXMubG9nZ2VySWQsZC5ocy55dC5wdCxlKX19LGUucHJvdG90eXBlLlNMPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5LMS5sZW5ndGgrdGhpcy5rai5sZW5ndGg7dGhpcy5ZMS5aMShlKX0sZS5wcm90b3R5cGUuejE9ZnVuY3Rpb24oKXt0cnl7dGhpcy5LMS5sZW5ndGg+PW4uaGguUWEuVmEmJnRoaXMuZTIodGhpcy5LMSksdGhpcy5rai5sZW5ndGg+PW4uaGguUWEuamEmJnRoaXMuZTIodGhpcy5rail9Y2F0Y2goZSl7cC5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIGNsZWFyaW5nIG1lbWJlcnNoaXAgdmlld3NcIix0aGlzLmxvZ2dlcklkLGQuaHMueXQuZnQsZSl9fSxlLnByb3RvdHlwZS5lMj1mdW5jdGlvbihlKXt2YXIgdD1lLmtleXMoKVtzLkZyYW1ld29yay5yYW5kb20oKSp0aGlzLksxLmxlbmd0aF07ZS5kZWxldGUodCl9LGUucHJvdG90eXBlLlgxPWZ1bmN0aW9uKGUpe3ZhciB0PW51bGw7dHJ5e2lmKHRoaXMuSzEuaGFzKGUuZ3VpZCk/KHQ9dGhpcy5LMS5nZXQoZS5ndWlkKSx0aGlzLksxLmRlbGV0ZShlLmd1aWQpLHRoaXMua2ouc2V0KGUuZ3VpZCx0KSk6dGhpcy5rai5oYXMoZS5ndWlkKSYmKHQ9dGhpcy5rai5nZXQoZS5ndWlkKSksIXQpcmV0dXJuIHQ9bmV3IGgudDIoZSksdGhpcy5rai5zZXQoZS5ndWlkLHQpLHQ7dC5TMShlKX1jYXRjaChlKXtyZXR1cm4gcC5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIGFkZGluZyBwZWVyIHRvIGxhbiB2aWV3XCIsdGhpcy5sb2dnZXJJZCxkLmhzLnl0Lmd0LGUpLG51bGx9fSxlLnByb3RvdHlwZS5KMT1mdW5jdGlvbihlKXt2YXIgdD1udWxsO3RyeXtpZih0aGlzLmtqLmhhcyhlLmd1aWQpKXRoaXMuWDEoZSk7ZWxzZXtpZighdGhpcy5LMS5oYXMoZS5ndWlkKSlyZXR1cm4gdD1uZXcgaC50MihlKSx0aGlzLksxLnNldChlLmd1aWQsdCksdDt0PXRoaXMuSzEuZ2V0KGUuZ3VpZCksdC5TMShlKX19Y2F0Y2goZSl7cmV0dXJuIHAuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBhZGRpbmcgcGVlciB0byByYW5kb20gdmlld1wiLHRoaXMubG9nZ2VySWQsZC5ocy55dC5FdCxlKSxudWxsfX0sZS5wcm90b3R5cGUuY2o9ZnVuY3Rpb24oZSx0KXt2YXIgcj1bXTt0cnl7cmV0dXJuIHRoaXMuVzEmJihmfHxzLkZyYW1ld29yay5DKCkmJmMuJE4uWE4/cj1vLnJjLnpoKHRoaXMuSzEudmFsdWVzKCkpOihyPXRoaXMuSzEudmFsdWVzKCksdGhpcy5rai5mb3JFYWNoKGZ1bmN0aW9uKGUsdCl7ci5wdXNoKGUpfSkscj1vLnJjLnpoKHIpKSksZT9yOnQ/ci5zbGljZSgwLHQpOnIuc2xpY2UoMCwyKm4uaGguTm8uX28pfWNhdGNoKGUpe3JldHVybiBwLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3Igc2FtcGxpbmcgbWVtYmVyc2hpcFwiLHRoaXMubG9nZ2VySWQsZC5ocy55dC52dCxlKSxbXX19LGUucHJvdG90eXBlLk9qPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLksxLmhhcyhlKT90aGlzLksxLmdldChlKTp0aGlzLmtqLmhhcyhlKT90aGlzLmtqLmdldChlKTpudWxsfSxlLnByb3RvdHlwZS5VZD1mdW5jdGlvbihlKXt0aGlzLmxvZ2dlci5pbmZvKFwiTUVNQkVSU0hJUCBTRVJWRVIgQ09OTkVDVEVEXCIpLHRoaXMuZ2Q9ZSx0aGlzLnlELnNldElkKHRoaXMuZ2QpfSxlLnByb3RvdHlwZS5laj1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUuS0c9ZnVuY3Rpb24oZSl7dGhpcy5sb2dnZXIuZGVidWcoXCJQZWVyIFwiK2UrXCIgZGlzY29ubmVjdGVkXCIpLHRoaXMuSzEuZGVsZXRlKGUpLHRoaXMua2ouZGVsZXRlKGUpLHRoaXMuU0woKX0sZX0oKTt0LlFhPWd9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1yKDEwKSxuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLnBlZXJJbmZvPWV9cmV0dXJuIGUucHJvdG90eXBlLklqPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGVlckluZm8udHlwZT09PWkuVGMuV30sZS5wcm90b3R5cGUuUzE9ZnVuY3Rpb24oZSl7dGhpcy5wZWVySW5mby50eXBlPT1pLlRjLnljJiZlLnR5cGU9PWkuVGMuVz90aGlzLnBlZXJJbmZvLnR5cGU9aS5UYy5XOnRoaXMucGVlckluZm8udHlwZT09aS5UYy55YyYmZS50eXBlPT1pLlRjLnljfHx0aGlzLnBlZXJJbmZvLnR5cGU9PWkuVGMuVyYmZS50eXBlPT1pLlRjLlc/dGhpcy5pMih0aGlzLnBlZXJJbmZvLGUpOnRoaXMucGVlckluZm8udHlwZT09aS5UYy5XJiZlLnR5cGU9PWkuVGMueWMmJih0aGlzLmkyKHRoaXMucGVlckluZm8sZSksdGhpcy5wZWVySW5mby50eXBlPWkuVGMuVyl9LGUucHJvdG90eXBlLnpqPWZ1bmN0aW9uKGUpe3RoaXMucGVlckluZm8ud2F0Y2hpbmdCaXRyYXRlPWV9LGUucHJvdG90eXBlLmkyPWZ1bmN0aW9uKGUsdCl7ZS5pbnRlcm5hbEFzPXRoaXMubjIoZS5pbnRlcm5hbEFzLHQuaW50ZXJuYWxBcyksZS5leHRlcm5hbEFzPXRoaXMubjIoZS5leHRlcm5hbEFzLHQuZXh0ZXJuYWxBcyksZS5uYXQ9dGhpcy5uMihlLm5hdCx0Lm5hdCksZS5iYW5kd2lkdGg9dGhpcy5uMihlLmJhbmR3aWR0aCx0LmJhbmR3aWR0aCksZS53YXRjaGluZ0JpdHJhdGU9dGhpcy5uMihlLndhdGNoaW5nQml0cmF0ZSx0LndhdGNoaW5nQml0cmF0ZSksZS5wcml2YXRlSXBTdHJpbmc9dGhpcy5uMihlLnByaXZhdGVJcFN0cmluZyx0LnByaXZhdGVJcFN0cmluZyksZS5wdWJsaWNJcFN0cmluZz10aGlzLm4yKGUucHVibGljSXBTdHJpbmcsdC5wdWJsaWNJcFN0cmluZyksZS5yYW5rVmFsdWU9dGhpcy5uMihlLnJhbmtWYWx1ZSx0LnJhbmtWYWx1ZSksZS50aW1lc3RhbXA9dGhpcy5uMihlLnRpbWVzdGFtcCx0LnRpbWVzdGFtcCksdC5pc0xlYWRlciYmKGUuaXNMZWFkZXI9dGhpcy5uMihlLmlzTGVhZGVyLHQuaXNMZWFkZXIpKSx0LnN0cmVhbXMmJihlLnN0cmVhbXM9dC5zdHJlYW1zKX0sZS5wcm90b3R5cGUubjI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT90JiZlIT10JiYoZT10KTp0JiYoZT10KSxlfSxlfSgpO3QudDI9bn0sZnVuY3Rpb24oZSx0LHIpeyhmdW5jdGlvbihlKXt2YXIgaSxuLHM7LyoqXG4gKiBAbGljZW5zZSBQcm90b0J1Zi5qcyAoYykgMjAxMyBEYW5pZWwgV2lydHogPGRjb2RlQGRjb2RlLmlvPlxuICogUmVsZWFzZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMFxuICogc2VlOiBodHRwczovL2dpdGh1Yi5jb20vZGNvZGVJTy9Qcm90b0J1Zi5qcyBmb3IgZGV0YWlsc1xuICovXG4hZnVuY3Rpb24obyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gYShlKXt2YXIgdD17fTtyZXR1cm4gdC5zMj1lLHQucV89ZS5xX3x8bnVsbCx0LlZFUlNJT049XCI0LjAuMC1iM1wiLHQubzI9e30sdC5vMi5hMj0wLHQubzIuaDI9MSx0Lm8yLmMyPTIsdC5vMi51Mj0zLHQubzIubDI9NCx0Lm8yLmQyPTUsdC5mMj1bdC5vMi5hMix0Lm8yLmgyLHQubzIuZDJdLHQuZzI9e2ludDMyOntuYW1lOlwiaW50MzJcIixFMjp0Lm8yLmEyLGRlZmF1bHRWYWx1ZTowfSx1aW50MzI6e25hbWU6XCJ1aW50MzJcIixFMjp0Lm8yLmEyLGRlZmF1bHRWYWx1ZTowfSxzaW50MzI6e25hbWU6XCJzaW50MzJcIixFMjp0Lm8yLmEyLGRlZmF1bHRWYWx1ZTowfSxpbnQ2NDp7bmFtZTpcImludDY0XCIsRTI6dC5vMi5hMixkZWZhdWx0VmFsdWU6dC5xXz90LnFfLlpFUk86dm9pZCAwfSx1aW50NjQ6e25hbWU6XCJ1aW50NjRcIixFMjp0Lm8yLmEyLGRlZmF1bHRWYWx1ZTp0LnFfP3QucV8udFY6dm9pZCAwfSxzaW50NjQ6e25hbWU6XCJzaW50NjRcIixFMjp0Lm8yLmEyLGRlZmF1bHRWYWx1ZTp0LnFfP3QucV8uWkVSTzp2b2lkIDB9LGJvb2w6e25hbWU6XCJib29sXCIsRTI6dC5vMi5hMixkZWZhdWx0VmFsdWU6ITF9LGRvdWJsZTp7bmFtZTpcImRvdWJsZVwiLEUyOnQubzIuaDIsZGVmYXVsdFZhbHVlOjB9LHN0cmluZzp7bmFtZTpcInN0cmluZ1wiLEUyOnQubzIuYzIsZGVmYXVsdFZhbHVlOlwiXCJ9LGJ5dGVzOntuYW1lOlwiYnl0ZXNcIixFMjp0Lm8yLmMyLGRlZmF1bHRWYWx1ZTpudWxsfSxmaXhlZDMyOntuYW1lOlwiZml4ZWQzMlwiLEUyOnQubzIuZDIsZGVmYXVsdFZhbHVlOjB9LHNmaXhlZDMyOntuYW1lOlwic2ZpeGVkMzJcIixFMjp0Lm8yLmQyLGRlZmF1bHRWYWx1ZTowfSxmaXhlZDY0OntuYW1lOlwiZml4ZWQ2NFwiLEUyOnQubzIuaDIsZGVmYXVsdFZhbHVlOnQucV8/dC5xXy50Vjp2b2lkIDB9LHNmaXhlZDY0OntuYW1lOlwic2ZpeGVkNjRcIixFMjp0Lm8yLmgyLGRlZmF1bHRWYWx1ZTp0LnFfP3QucV8uWkVSTzp2b2lkIDB9LGZsb2F0OntuYW1lOlwiZmxvYXRcIixFMjp0Lm8yLmQyLGRlZmF1bHRWYWx1ZTowfSxlbnVtOntuYW1lOlwiZW51bVwiLEUyOnQubzIuYTIsZGVmYXVsdFZhbHVlOjB9LG1lc3NhZ2U6e25hbWU6XCJtZXNzYWdlXCIsRTI6dC5vMi5jMixkZWZhdWx0VmFsdWU6bnVsbH0sZ3JvdXA6e25hbWU6XCJncm91cFwiLEUyOnQubzIudTIsZGVmYXVsdFZhbHVlOm51bGx9fSx0LnYyPVt0LmcyLmludDMyLHQuZzIuc2ludDMyLHQuZzIuc2ZpeGVkMzIsdC5nMi51aW50MzIsdC5nMi5maXhlZDMyLHQuZzIuaW50NjQsdC5nMi5zaW50NjQsdC5nMi5zZml4ZWQ2NCx0LmcyLnVpbnQ2NCx0LmcyLmZpeGVkNjQsdC5nMi5ib29sLHQuZzIuc3RyaW5nLHQuZzIuYnl0ZXNdLHQuVDI9MSx0Lm0yPTUzNjg3MDkxMSx0LkkyPSExLHQuUzI9ITAsdC5SMj0hMCx0LmJ2PWZ1bmN0aW9uKCl7T2JqZWN0LmNyZWF0ZXx8KE9iamVjdC5jcmVhdGU9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe31pZihhcmd1bWVudHMubGVuZ3RoPjEpdGhyb3cgRXJyb3IoXCJPYmplY3QuY3JlYXRlIHBvbHlmaWxsIG9ubHkgYWNjZXB0cyB0aGUgZmlyc3QgcGFyYW1ldGVyLlwiKTtyZXR1cm4gdC5wcm90b3R5cGU9ZSxuZXcgdH0pO3ZhciBlPXt9O2UudzI9ITE7dHJ5e2UudzI9XCJmdW5jdGlvblwiPT10eXBlb2YgcigxNikuYjImJlwiZnVuY3Rpb25cIj09dHlwZW9mIHIoNjQpLnJlc29sdmV9Y2F0Y2goZSl7fXJldHVybiBlLkMyPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPVtmdW5jdGlvbigpe3JldHVybiBuZXcgWE1MSHR0cFJlcXVlc3R9LGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBBY3RpdmVYT2JqZWN0KFwiTXN4bWwyLlhNTEhUVFBcIil9LGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBBY3RpdmVYT2JqZWN0KFwiTXN4bWwzLlhNTEhUVFBcIil9LGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBBY3RpdmVYT2JqZWN0KFwiTWljcm9zb2Z0LlhNTEhUVFBcIil9XSx0PW51bGwscj0wO3I8ZS5sZW5ndGg7cisrKXt0cnl7dD1lW3JdKCl9Y2F0Y2goZSl7Y29udGludWV9YnJlYWt9aWYoIXQpdGhyb3cgRXJyb3IoXCJYTUxIdHRwUmVxdWVzdCBpcyBub3Qgc3VwcG9ydGVkXCIpO3JldHVybiB0fSxlLmZldGNoPWZ1bmN0aW9uKHQsaSl7aWYoaSYmXCJmdW5jdGlvblwiIT10eXBlb2YgaSYmKGk9bnVsbCksZS53MilpZihpKXIoMTYpLl8yKHQsZnVuY3Rpb24oZSx0KXtpKGU/bnVsbDpcIlwiK3QpfSk7ZWxzZSB0cnl7cmV0dXJuIHIoMTYpLmIyKHQpfWNhdGNoKGUpe3JldHVybiBudWxsfWVsc2V7dmFyIG49ZS5DMigpO2lmKG4ub3BlbihcIkdFVFwiLHQsISFpKSxuLnNldFJlcXVlc3RIZWFkZXIoXCJBY2NlcHRcIixcInRleHQvcGxhaW5cIiksXCJmdW5jdGlvblwiPT10eXBlb2Ygbi5vdmVycmlkZU1pbWVUeXBlJiZuLm92ZXJyaWRlTWltZVR5cGUoXCJ0ZXh0L3BsYWluXCIpLCFpKXJldHVybiBuLnNlbmQobnVsbCksMjAwPT1uLnN0YXR1c3x8MD09bi5zdGF0dXMmJlwic3RyaW5nXCI9PXR5cGVvZiBuLnJlc3BvbnNlVGV4dD9uLnJlc3BvbnNlVGV4dDpudWxsO2lmKG4ub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7ND09bi5yZWFkeVN0YXRlJiZpKDIwMD09bi5zdGF0dXN8fDA9PW4uc3RhdHVzJiZcInN0cmluZ1wiPT10eXBlb2Ygbi5yZXNwb25zZVRleHQ/bi5yZXNwb25zZVRleHQ6bnVsbCl9LDQ9PW4ucmVhZHlTdGF0ZSlyZXR1cm47bi5zZW5kKG51bGwpfX0sZS5pc0FycmF5PUFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKGUpe3JldHVyblwiW29iamVjdCBBcnJheV1cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKX0sZX0oKSx0Lkxhbmc9e09QRU46XCJ7XCIsUDI6XCJ9XCIsQTI6XCJbXCIsTzI6XCJdXCIsTjI6XCIsXCIsRVFVQUw6XCI9XCIsRDI6XCI7XCIsTDI6XCIsXCIsTTI6J1wiJyxGMjonXCInLFUyOlwiJ1wiLEIyOlwiJ1wiLEgyOlwiKFwiLHEyOlwiKVwiLEcyOlwiPFwiLFYyOlwiPlwiLGoyOi9bXFxzXFx7XFx9PTtcXFtcXF0sJ1wiXFwoXFwpPD5dL2csUTI6L14oPzpyZXF1aXJlZHxvcHRpb25hbHxyZXBlYXRlZHxtYXApJC8sdE46L14oPzpkb3VibGV8ZmxvYXR8aW50MzJ8dWludDMyfHNpbnQzMnxpbnQ2NHx1aW50NjR8c2ludDY0fGZpeGVkMzJ8c2ZpeGVkMzJ8Zml4ZWQ2NHxzZml4ZWQ2NHxib29sfHN0cmluZ3xieXRlcykkLyx6TzovXlthLXpBLVpfXVthLXpBLVpfMC05XSokLyxLMjovXlthLXpBLVpdW2EtekEtWl8wLTldKiQvLFkyOi9eKD86XFwuP1thLXpBLVpfXVthLXpBLVpfMC05XSopKyQvLFcyOi9eKD86XFwuW2EtekEtWl1bYS16QS1aXzAtOV0qKSskLyx6MjovXi0/KD86WzEtOV1bMC05XSp8MHwwW3hYXVswLTlhLWZBLUZdK3wwWzAtN10rfChbMC05XSooXFwuWzAtOV0qKT8oW0VlXVsrLV0/WzAtOV0rKT8pfGluZnxuYW4pJC8sSjI6L14oPzpbMS05XVswLTldKnwwKSQvLFgyOi9eMFt4WF1bMC05YS1mQS1GXSskLyxaMjovXjBbMC03XSskLyxlMzovXihbMC05XSooXFwuWzAtOV0qKT8oW0VlXVsrLV0/WzAtOV0rKT98aW5mfG5hbikkLyx0MzovXig/OlsxLTldWzAtOV0qfDB8MFt4WF1bMC05YS1mQS1GXSt8MFswLTddKykkLyxyMzovXlxcLT8oPzpbMS05XVswLTldKnwwfDBbeFhdWzAtOWEtZkEtRl0rfDBbMC03XSspJC8saTM6L1xccy8sU1RSSU5HOi8oPzpcIihbXlwiXFxcXF0qKD86XFxcXC5bXlwiXFxcXF0qKSopXCIpfCg/OicoW14nXFxcXF0qKD86XFxcXC5bXidcXFxcXSopKiknKS9nLEJPT0w6L14oPzp0cnVlfGZhbHNlKSQvaX0sdC5uMz1mdW5jdGlvbihlLHQpe3ZhciByPXt9LGk9ZnVuY3Rpb24oZSl7dGhpcy5zb3VyY2U9XCJcIitlLHRoaXMuaW5kZXg9MCx0aGlzLmxpbmU9MSx0aGlzLnN0YWNrPVtdLHRoaXMuczM9ITEsdGhpcy5vMz10LkYyfSxuPWkucHJvdG90eXBlO24ucVo9ZnVuY3Rpb24oKXt0LlNUUklORy5sYXN0SW5kZXg9dGhpcy5pbmRleC0xO3ZhciBlO2lmKG51bGwhPT0oZT10LlNUUklORy5leGVjKHRoaXMuc291cmNlKSkpe3ZhciByPXZvaWQgMCE9PWVbMV0/ZVsxXTplWzJdO3JldHVybiB0aGlzLmluZGV4PXQuU1RSSU5HLmxhc3RJbmRleCx0aGlzLnN0YWNrLnB1c2godGhpcy5vMykscn10aHJvdyBFcnJvcihcIlVudGVybWluYXRlZCBzdHJpbmcgYXQgbGluZSBcIit0aGlzLmxpbmUrXCIsIGluZGV4IFwiK3RoaXMuaW5kZXgpfSxuLm5leHQ9ZnVuY3Rpb24oKXtpZih0aGlzLnN0YWNrLmxlbmd0aD4wKXJldHVybiB0aGlzLnN0YWNrLnNoaWZ0KCk7aWYodGhpcy5pbmRleD49dGhpcy5zb3VyY2UubGVuZ3RoKXJldHVybiBudWxsO2lmKHRoaXMuczMpcmV0dXJuIHRoaXMuczM9ITEsdGhpcy5xWigpO3ZhciBlLHI7ZG97Zm9yKGU9ITE7dC5pMy50ZXN0KHI9dGhpcy5zb3VyY2UuY2hhckF0KHRoaXMuaW5kZXgpKTspaWYodGhpcy5pbmRleCsrLFwiXFxuXCI9PT1yJiZ0aGlzLmxpbmUrKyx0aGlzLmluZGV4PT09dGhpcy5zb3VyY2UubGVuZ3RoKXJldHVybiBudWxsO2lmKFwiL1wiPT09dGhpcy5zb3VyY2UuY2hhckF0KHRoaXMuaW5kZXgpKWlmKFwiL1wiPT09dGhpcy5zb3VyY2UuY2hhckF0KCsrdGhpcy5pbmRleCkpe2Zvcig7XCJcXG5cIiE9PXRoaXMuc291cmNlLmNoYXJBdCh0aGlzLmluZGV4KTspaWYoKyt0aGlzLmluZGV4PT10aGlzLnNvdXJjZS5sZW5ndGgpcmV0dXJuIG51bGw7dGhpcy5pbmRleCsrLHRoaXMubGluZSsrLGU9ITB9ZWxzZXtpZihcIipcIiE9PXRoaXMuc291cmNlLmNoYXJBdCh0aGlzLmluZGV4KSl0aHJvdyBFcnJvcihcIlVudGVybWluYXRlZCBjb21tZW50IGF0IGxpbmUgXCIrdGhpcy5saW5lK1wiOiAvXCIrdGhpcy5zb3VyY2UuY2hhckF0KHRoaXMuaW5kZXgpKTtmb3Iocj1cIlwiO3IrKHI9dGhpcy5zb3VyY2UuY2hhckF0KHRoaXMuaW5kZXgpKSE9PVwiKi9cIjspaWYodGhpcy5pbmRleCsrLFwiXFxuXCI9PT1yJiZ0aGlzLmxpbmUrKyx0aGlzLmluZGV4PT09dGhpcy5zb3VyY2UubGVuZ3RoKXJldHVybiBudWxsO3RoaXMuaW5kZXgrKyxlPSEwfX13aGlsZShlKTtpZih0aGlzLmluZGV4PT09dGhpcy5zb3VyY2UubGVuZ3RoKXJldHVybiBudWxsO3ZhciBpPXRoaXMuaW5kZXg7aWYodC5qMi5sYXN0SW5kZXg9MCx0LmoyLnRlc3QodGhpcy5zb3VyY2UuY2hhckF0KGkpKSkrK2k7ZWxzZSBmb3IoKytpO2k8dGhpcy5zb3VyY2UubGVuZ3RoJiYhdC5qMi50ZXN0KHRoaXMuc291cmNlLmNoYXJBdChpKSk7KWkrKzt2YXIgbj10aGlzLnNvdXJjZS5zdWJzdHJpbmcodGhpcy5pbmRleCx0aGlzLmluZGV4PWkpO3JldHVybiBuPT09dC5NMj8odGhpcy5zMz0hMCx0aGlzLm8zPXQuRjIpOm49PT10LlUyJiYodGhpcy5zMz0hMCx0aGlzLm8zPXQuQjIpLG59LG4uSGs9ZnVuY3Rpb24oKXtpZigwPT09dGhpcy5zdGFjay5sZW5ndGgpe3ZhciBlPXRoaXMubmV4dCgpO2lmKG51bGw9PT1lKXJldHVybiBudWxsO3RoaXMuc3RhY2sucHVzaChlKX1yZXR1cm4gdGhpcy5zdGFja1swXX0sbi50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiVG9rZW5pemVyKFwiK3RoaXMuaW5kZXgrXCIvXCIrdGhpcy5zb3VyY2UubGVuZ3RoK1wiIGF0IGxpbmUgXCIrdGhpcy5saW5lK1wiKVwifSxyLmEzPWk7dmFyIHM9ZnVuY3Rpb24oZSl7dGhpcy5oMz1uZXcgaShlKX0sbz1zLnByb3RvdHlwZTtyZXR1cm4gby5wYXJzZT1mdW5jdGlvbigpe2Zvcih2YXIgZSx0PXtuYW1lOlwiW1JPT1RdXCIscGFja2FnZTpudWxsLG1lc3NhZ2VzOltdLGMzOltdLGltcG9ydHM6W10sb3B0aW9uczp7fSxzZXJ2aWNlczpbXX0scj0hMDtlPXRoaXMuaDMubmV4dCgpOylzd2l0Y2goZSl7Y2FzZVwicGFja2FnZVwiOmlmKCFyfHxudWxsIT09dC5wYWNrYWdlKXRocm93IEVycm9yKFwiVW5leHBlY3RlZCBwYWNrYWdlIGF0IGxpbmUgXCIrdGhpcy5oMy5saW5lKTt0LnBhY2thZ2U9dGhpcy51MyhlKTticmVhaztjYXNlXCJpbXBvcnRcIjppZighcil0aHJvdyBFcnJvcihcIlVuZXhwZWN0ZWQgaW1wb3J0IGF0IGxpbmUgXCIrdGhpcy5oMy5saW5lKTt0LmltcG9ydHMucHVzaCh0aGlzLmwzKGUpKTticmVhaztjYXNlXCJtZXNzYWdlXCI6dGhpcy5kMyh0LG51bGwsZSkscj0hMTticmVhaztjYXNlXCJlbnVtXCI6dGhpcy5mMyh0LGUpLHI9ITE7YnJlYWs7Y2FzZVwib3B0aW9uXCI6dGhpcy5nMyh0LGUpO2JyZWFrO2Nhc2VcInNlcnZpY2VcIjp0aGlzLkUzKHQsZSk7YnJlYWs7Y2FzZVwiZXh0ZW5kXCI6dGhpcy52Myh0LGUpO2JyZWFrO2Nhc2VcInN5bnRheFwiOnQueTM9dGhpcy5UMyh0KTticmVhaztkZWZhdWx0OnRocm93IEVycm9yKFwiVW5leHBlY3RlZCB0b2tlbiBhdCBsaW5lIFwiK3RoaXMuaDMubGluZStcIjogXCIrZSl9cmV0dXJuIGRlbGV0ZSB0Lm5hbWUsdH0sby5tMz1mdW5jdGlvbihlKXt2YXIgcj0xO2lmKFwiLVwiPT1lLmNoYXJBdCgwKSYmKHI9LTEsZT1lLnN1YnN0cmluZygxKSksdC5KMi50ZXN0KGUpKXJldHVybiByKnBhcnNlSW50KGUsMTApO2lmKHQuWDIudGVzdChlKSlyZXR1cm4gcipwYXJzZUludChlLnN1YnN0cmluZygyKSwxNik7aWYodC5aMi50ZXN0KGUpKXJldHVybiByKnBhcnNlSW50KGUuc3Vic3RyaW5nKDEpLDgpO2lmKHQuZTMudGVzdChlKSlyZXR1cm5cImluZlwiPT09ZT9yKigxLzApOlwibmFuXCI9PT1lP05hTjpyKnBhcnNlRmxvYXQoZSk7dGhyb3cgRXJyb3IoXCJJbGxlZ2FsIG51bWJlciBhdCBsaW5lIFwiK3RoaXMuaDMubGluZStcIjogXCIrKHI8MD9cIi1cIjpcIlwiKStlKX0sby5JMz1mdW5jdGlvbigpe3ZhciBlLHIsaT1cIlwiO2Rve2lmKHI9dGhpcy5oMy5uZXh0KCksaSs9dGhpcy5oMy5uZXh0KCksKGU9dGhpcy5oMy5uZXh0KCkpIT09cil0aHJvdyBFcnJvcihcIklsbGVnYWwgZW5kIG9mIHN0cmluZyBhdCBsaW5lIFwiK3RoaXMuaDMubGluZStcIjogXCIrZSk7ZT10aGlzLmgzLkhrKCl9d2hpbGUoZT09PXQuTTJ8fGU9PT10LlUyKTtyZXR1cm4gaX0sby5TMz1mdW5jdGlvbihlLHIpe3ZhciBpPS0xLG49MTtpZihcIi1cIj09ZS5jaGFyQXQoMCkmJihuPS0xLGU9ZS5zdWJzdHJpbmcoMSkpLHQuSjIudGVzdChlKSlpPXBhcnNlSW50KGUpO2Vsc2UgaWYodC5YMi50ZXN0KGUpKWk9cGFyc2VJbnQoZS5zdWJzdHJpbmcoMiksMTYpO2Vsc2V7aWYoIXQuWjIudGVzdChlKSl0aHJvdyBFcnJvcihcIklsbGVnYWwgaWQgYXQgbGluZSBcIit0aGlzLmgzLmxpbmUrXCI6IFwiKyhuPDA/XCItXCI6XCJcIikrZSk7aT1wYXJzZUludChlLnN1YnN0cmluZygxKSw4KX1pZihpPW4qaXwwLCFyJiZpPDApdGhyb3cgRXJyb3IoXCJJbGxlZ2FsIGlkIGF0IGxpbmUgXCIrdGhpcy5oMy5saW5lK1wiOiBcIisobjwwP1wiLVwiOlwiXCIpK2UpO3JldHVybiBpfSxvLnUzPWZ1bmN0aW9uKGUpe2lmKGU9dGhpcy5oMy5uZXh0KCksIXQuWTIudGVzdChlKSl0aHJvdyBFcnJvcihcIklsbGVnYWwgcGFja2FnZSBuYW1lIGF0IGxpbmUgXCIrdGhpcy5oMy5saW5lK1wiOiBcIitlKTt2YXIgcj1lO2lmKChlPXRoaXMuaDMubmV4dCgpKSE9dC5EMil0aHJvdyBFcnJvcihcIklsbGVnYWwgZW5kIG9mIHBhY2thZ2UgYXQgbGluZSBcIit0aGlzLmgzLmxpbmUrXCI6IFwiK2UpO3JldHVybiByfSxvLmwzPWZ1bmN0aW9uKGUpe2lmKGU9dGhpcy5oMy5IaygpLFwicHVibGljXCI9PT1lJiYodGhpcy5oMy5uZXh0KCksZT10aGlzLmgzLkhrKCkpLGUhPT10Lk0yJiZlIT09dC5VMil0aHJvdyBFcnJvcihcIklsbGVnYWwgc3RhcnQgb2YgaW1wb3J0IGF0IGxpbmUgXCIrdGhpcy5oMy5saW5lK1wiOiBcIitlKTt2YXIgcj10aGlzLkkzKCk7aWYoKGU9dGhpcy5oMy5uZXh0KCkpIT09dC5EMil0aHJvdyBFcnJvcihcIklsbGVnYWwgZW5kIG9mIGltcG9ydCBhdCBsaW5lIFwiK3RoaXMuaDMubGluZStcIjogXCIrZSk7cmV0dXJuIHJ9LG8uZzM9ZnVuY3Rpb24oZSxyKXtyPXRoaXMuaDMubmV4dCgpO3ZhciBpPSExO2lmKHI9PXQuSDImJihpPSEwLHI9dGhpcy5oMy5uZXh0KCkpLCF0LlkyLnRlc3QocikmJiEvZ29vZ2xlXFwucHJvdG9idWZcXC4vLnRlc3QocikpdGhyb3cgRXJyb3IoXCJJbGxlZ2FsIG9wdGlvbiBuYW1lIGluIG1lc3NhZ2UgXCIrZS5uYW1lK1wiIGF0IGxpbmUgXCIrdGhpcy5oMy5saW5lK1wiOiBcIityKTt2YXIgbj1yO2lmKHI9dGhpcy5oMy5uZXh0KCksaSl7aWYociE9PXQucTIpdGhyb3cgRXJyb3IoXCJJbGxlZ2FsIGVuZCBpbiBtZXNzYWdlIFwiK2UubmFtZStcIiwgb3B0aW9uIFwiK24rXCIgYXQgbGluZSBcIit0aGlzLmgzLmxpbmUrXCI6IFwiK3IpO249XCIoXCIrbitcIilcIixyPXRoaXMuaDMubmV4dCgpLHQuVzIudGVzdChyKSYmKG4rPXIscj10aGlzLmgzLm5leHQoKSl9aWYociE9PXQuRVFVQUwpdGhyb3cgRXJyb3IoXCJJbGxlZ2FsIG9wZXJhdG9yIGluIG1lc3NhZ2UgXCIrZS5uYW1lK1wiLCBvcHRpb24gXCIrbitcIiBhdCBsaW5lIFwiK3RoaXMuaDMubGluZStcIjogXCIrcik7dmFyIHM7aWYoKHI9dGhpcy5oMy5IaygpKT09PXQuTTJ8fHI9PT10LlUyKXM9dGhpcy5JMygpO2Vsc2UgaWYodGhpcy5oMy5uZXh0KCksdC56Mi50ZXN0KHIpKXM9dGhpcy5tMyhyLCEwKTtlbHNlIGlmKHQuQk9PTC50ZXN0KHIpKXM9XCJ0cnVlXCI9PT1yO2Vsc2V7aWYoIXQuWTIudGVzdChyKSl0aHJvdyBFcnJvcihcIklsbGVnYWwgb3B0aW9uIHZhbHVlIGluIG1lc3NhZ2UgXCIrZS5uYW1lK1wiLCBvcHRpb24gXCIrbitcIiBhdCBsaW5lIFwiK3RoaXMuaDMubGluZStcIjogXCIrcik7cz1yfWlmKChyPXRoaXMuaDMubmV4dCgpKSE9PXQuRDIpdGhyb3cgRXJyb3IoXCJJbGxlZ2FsIGVuZCBvZiBvcHRpb24gaW4gbWVzc2FnZSBcIitlLm5hbWUrXCIsIG9wdGlvbiBcIituK1wiIGF0IGxpbmUgXCIrdGhpcy5oMy5saW5lK1wiOiBcIityKTtlLm9wdGlvbnNbbl09c30sby5SMz1mdW5jdGlvbihlLHIpe2Zvcih2YXIgaTs7KXtpZihudWxsPT09KGk9dGhpcy5oMy5uZXh0KCkpKXRocm93IEVycm9yKFwiVW5leHBlY3RlZCBFT0YgaW4gXCIrZS5uYW1lK1wiLCBcIityK1wiIGF0IGxpbmUgXCIrdGhpcy5oMy5saW5lKTtpZihpPT09dC5EMilicmVha319LG8uRTM9ZnVuY3Rpb24oZSxyKXtpZihyPXRoaXMuaDMubmV4dCgpLCF0LnpPLnRlc3QocikpdGhyb3cgRXJyb3IoXCJJbGxlZ2FsIHNlcnZpY2UgbmFtZSBhdCBsaW5lIFwiK3RoaXMuaDMubGluZStcIjogXCIrcik7dmFyIGk9cixuPXtuYW1lOmksdzM6e30sb3B0aW9uczp7fX07aWYoKHI9dGhpcy5oMy5uZXh0KCkpIT09dC5PUEVOKXRocm93IEVycm9yKFwiSWxsZWdhbCBzdGFydCBvZiBzZXJ2aWNlIFwiK2krXCIgYXQgbGluZSBcIit0aGlzLmgzLmxpbmUrXCI6IFwiK3IpO2Rve2lmKFwib3B0aW9uXCI9PT0ocj10aGlzLmgzLm5leHQoKSkpdGhpcy5nMyhuLHIpO2Vsc2UgaWYoXCJycGNcIj09PXIpdGhpcy5iMyhuLHIpO2Vsc2UgaWYociE9PXQuUDIpdGhyb3cgRXJyb3IoXCJJbGxlZ2FsIHR5cGUgb2Ygc2VydmljZSBcIitpK1wiIGF0IGxpbmUgXCIrdGhpcy5oMy5saW5lK1wiOiBcIityKX13aGlsZShyIT09dC5QMik7ZS5zZXJ2aWNlcy5wdXNoKG4pfSxvLmIzPWZ1bmN0aW9uKGUscil7dmFyIGk9cjtpZihyPXRoaXMuaDMubmV4dCgpLCF0LnpPLnRlc3QocikpdGhyb3cgRXJyb3IoXCJJbGxlZ2FsIG1ldGhvZCBuYW1lIGluIHNlcnZpY2UgXCIrZS5uYW1lK1wiIGF0IGxpbmUgXCIrdGhpcy5oMy5saW5lK1wiOiBcIityKTt2YXIgbj1yLHM9e3JlcXVlc3Q6bnVsbCxyZXNwb25zZTpudWxsLEMzOiExLF8zOiExLG9wdGlvbnM6e319O2lmKChyPXRoaXMuaDMubmV4dCgpKSE9PXQuSDIpdGhyb3cgRXJyb3IoXCJJbGxlZ2FsIHN0YXJ0IG9mIHJlcXVlc3QgdHlwZSBpbiBzZXJ2aWNlIFwiK2UubmFtZStcIiNcIituK1wiIGF0IGxpbmUgXCIrdGhpcy5oMy5saW5lK1wiOiBcIityKTtpZihyPXRoaXMuaDMubmV4dCgpLFwic3RyZWFtXCI9PT1yLnRvTG93ZXJDYXNlKCkmJihzLkMzPSEwLHI9dGhpcy5oMy5uZXh0KCkpLCF0LlkyLnRlc3QocikpdGhyb3cgRXJyb3IoXCJJbGxlZ2FsIHJlcXVlc3QgdHlwZSBpbiBzZXJ2aWNlIFwiK2UubmFtZStcIiNcIituK1wiIGF0IGxpbmUgXCIrdGhpcy5oMy5saW5lK1wiOiBcIityKTtpZihzLnJlcXVlc3Q9ciwocj10aGlzLmgzLm5leHQoKSkhPXQucTIpdGhyb3cgRXJyb3IoXCJJbGxlZ2FsIGVuZCBvZiByZXF1ZXN0IHR5cGUgaW4gc2VydmljZSBcIitlLm5hbWUrXCIjXCIrbitcIiBhdCBsaW5lIFwiK3RoaXMuaDMubGluZStcIjogXCIrcik7aWYocj10aGlzLmgzLm5leHQoKSxcInJldHVybnNcIiE9PXIudG9Mb3dlckNhc2UoKSl0aHJvdyBFcnJvcihcIklsbGVnYWwgZGVsaW1pdGVyIGluIHNlcnZpY2UgXCIrZS5uYW1lK1wiI1wiK24rXCIgYXQgbGluZSBcIit0aGlzLmgzLmxpbmUrXCI6IFwiK3IpO2lmKChyPXRoaXMuaDMubmV4dCgpKSE9dC5IMil0aHJvdyBFcnJvcihcIklsbGVnYWwgc3RhcnQgb2YgcmVzcG9uc2UgdHlwZSBpbiBzZXJ2aWNlIFwiK2UubmFtZStcIiNcIituK1wiIGF0IGxpbmUgXCIrdGhpcy5oMy5saW5lK1wiOiBcIityKTtpZihyPXRoaXMuaDMubmV4dCgpLFwic3RyZWFtXCI9PT1yLnRvTG93ZXJDYXNlKCkmJihzLl8zPSEwLHI9dGhpcy5oMy5uZXh0KCkpLHMucmVzcG9uc2U9ciwocj10aGlzLmgzLm5leHQoKSkhPT10LnEyKXRocm93IEVycm9yKFwiSWxsZWdhbCBlbmQgb2YgcmVzcG9uc2UgdHlwZSBpbiBzZXJ2aWNlIFwiK2UubmFtZStcIiNcIituK1wiIGF0IGxpbmUgXCIrdGhpcy5oMy5saW5lK1wiOiBcIityKTtpZigocj10aGlzLmgzLm5leHQoKSk9PT10Lk9QRU4pe2Rve2lmKFwib3B0aW9uXCI9PT0ocj10aGlzLmgzLm5leHQoKSkpdGhpcy5nMyhzLHIpO2Vsc2UgaWYociE9PXQuUDIpdGhyb3cgRXJyb3IoXCJJbGxlZ2FsIHN0YXJ0IG9mIG9wdGlvbiBpbnNlcnZpY2UgXCIrZS5uYW1lK1wiI1wiK24rXCIgYXQgbGluZSBcIit0aGlzLmgzLmxpbmUrXCI6IFwiK3IpfXdoaWxlKHIhPT10LlAyKTt0aGlzLmgzLkhrKCk9PT10LkQyJiZ0aGlzLmgzLm5leHQoKX1lbHNlIGlmKHIhPT10LkQyKXRocm93IEVycm9yKFwiSWxsZWdhbCBkZWxpbWl0ZXIgaW4gc2VydmljZSBcIitlLm5hbWUrXCIjXCIrbitcIiBhdCBsaW5lIFwiK3RoaXMuaDMubGluZStcIjogXCIrcik7dm9pZCAwPT09ZVtpXSYmKGVbaV09e30pLGVbaV1bbl09c30sby5kMz1mdW5jdGlvbihlLHIsaSl7dmFyIG49e30scz1cImdyb3VwXCI9PT1pO2lmKGk9dGhpcy5oMy5uZXh0KCksIXQuek8udGVzdChpKSl0aHJvdyBFcnJvcihcIklsbGVnYWwgXCIrKHM/XCJncm91cFwiOlwibWVzc2FnZVwiKStcIiBuYW1lXCIrKGU/XCIgaW4gbWVzc2FnZSBcIitlLm5hbWU6XCJcIikrXCIgYXQgbGluZSBcIit0aGlzLmgzLmxpbmUrXCI6IFwiK2kpO2lmKG4ubmFtZT1pLHMpe2lmKChpPXRoaXMuaDMubmV4dCgpKSE9PXQuRVFVQUwpdGhyb3cgRXJyb3IoXCJJbGxlZ2FsIGlkIGFzc2lnbm1lbnQgYWZ0ZXIgZ3JvdXAgXCIrbi5uYW1lK1wiIGF0IGxpbmUgXCIrdGhpcy5oMy5saW5lK1wiOiBcIitpKTtpPXRoaXMuaDMubmV4dCgpO3RyeXtyLmlkPXRoaXMuUzMoaSl9Y2F0Y2goZSl7dGhyb3cgRXJyb3IoXCJJbGxlZ2FsIGZpZWxkIGlkIHZhbHVlIGZvciBncm91cCBcIituLm5hbWUrXCIjXCIrci5uYW1lK1wiIGF0IGxpbmUgXCIrdGhpcy5oMy5saW5lK1wiOiBcIitpKX1uLlAzPSEwfWlmKG4uZmllbGRzPVtdLG4uYzM9W10sbi5tZXNzYWdlcz1bXSxuLm9wdGlvbnM9e30sbi5BMz17fSxpPXRoaXMuaDMubmV4dCgpLGk9PT10LkEyJiZyJiYodGhpcy5PMyhuLHIsaSksaT10aGlzLmgzLm5leHQoKSksaSE9PXQuT1BFTil0aHJvdyBFcnJvcihcIklsbGVnYWwgc3RhcnQgb2YgXCIrKHM/XCJncm91cFwiOlwibWVzc2FnZVwiKStcIiBcIituLm5hbWUrXCIgYXQgbGluZSBcIit0aGlzLmgzLmxpbmUrXCI6IFwiK2kpO2Zvcig7Oyl7aWYoKGk9dGhpcy5oMy5uZXh0KCkpPT09dC5QMil7aT10aGlzLmgzLkhrKCksaT09PXQuRDImJnRoaXMuaDMubmV4dCgpO2JyZWFrfWlmKHQuUTIudGVzdChpKSl0aGlzLk4zKG4saSk7ZWxzZSBpZihcIm9uZW9mXCI9PT1pKXRoaXMuRDMobixpKTtlbHNlIGlmKFwiZW51bVwiPT09aSl0aGlzLmYzKG4saSk7ZWxzZSBpZihcIm1lc3NhZ2VcIj09PWkpdGhpcy5kMyhuLG51bGwsaSk7ZWxzZSBpZihcIm9wdGlvblwiPT09aSl0aGlzLmczKG4saSk7ZWxzZSBpZihcImV4dGVuc2lvbnNcIj09PWkpbi5leHRlbnNpb25zPXRoaXMuTDMobixpKTtlbHNlIGlmKFwiZXh0ZW5kXCI9PT1pKXRoaXMudjMobixpKTtlbHNle2lmKCF0LlkyLnRlc3QoaSkpdGhyb3cgRXJyb3IoXCJJbGxlZ2FsIHRva2VuIGluIG1lc3NhZ2UgXCIrbi5uYW1lK1wiIGF0IGxpbmUgXCIrdGhpcy5oMy5saW5lK1wiOiBcIitpKTt0aGlzLk4zKG4sXCJvcHRpb25hbFwiLGkpfX1yZXR1cm4gZS5tZXNzYWdlcy5wdXNoKG4pLG59LG8uTjM9ZnVuY3Rpb24oZSxyLGkpe3ZhciBuPXt9LHM9bnVsbDtpZihuLnJ1bGU9cixuLm9wdGlvbnM9e30scj12b2lkIDAhPT1pP2k6dGhpcy5oMy5uZXh0KCksXCJtYXBcIj09PW4ucnVsZSl7aWYociE9PXQuRzIpdGhyb3cgRXJyb3IoXCJJbGxlZ2FsIHRva2VuIGluIG1lc3NhZ2UgXCIrZS5uYW1lK1wiIGF0IGxpbmUgXCIrdGhpcy5oMy5saW5lK1wiOiBcIityKTtpZihyPXRoaXMuaDMubmV4dCgpLCF0LnROLnRlc3QocikmJiF0LlkyLnRlc3QocikpdGhyb3cgRXJyb3IoXCJJbGxlZ2FsIHRva2VuIGluIG1lc3NhZ2UgXCIrZS5uYW1lK1wiIGF0IGxpbmUgXCIrdGhpcy5oMy5saW5lK1wiOiBcIityKTtpZihuLmtleXR5cGU9ciwocj10aGlzLmgzLm5leHQoKSkhPT10LkwyKXRocm93IEVycm9yKFwiSWxsZWdhbCB0b2tlbiBpbiBtZXNzYWdlIFwiK2UubmFtZStcIiBhdCBsaW5lIFwiK3RoaXMuaDMubGluZStcIjogXCIrcik7aWYocj10aGlzLmgzLm5leHQoKSwhdC50Ti50ZXN0KHIpJiYhdC5ZMi50ZXN0KHIpKXRocm93IEVycm9yKFwiSWxsZWdhbCB0b2tlbiBpbiBtZXNzYWdlIFwiK2UubmFtZStcIiBhdCBsaW5lIFwiK3RoaXMuaDMubGluZStcIjogXCIrcik7aWYobi50eXBlPXIsKHI9dGhpcy5oMy5uZXh0KCkpIT09dC5WMil0aHJvdyBFcnJvcihcIklsbGVnYWwgdG9rZW4gaW4gbWVzc2FnZSBcIitlLm5hbWUrXCIgYXQgbGluZSBcIit0aGlzLmgzLmxpbmUrXCI6IFwiK3IpO2lmKHI9dGhpcy5oMy5uZXh0KCksIXQuek8udGVzdChyKSl0aHJvdyBFcnJvcihcIklsbGVnYWwgdG9rZW4gaW4gbWVzc2FnZSBcIitlLm5hbWUrXCIgYXQgbGluZSBcIit0aGlzLmgzLmxpbmUrXCI6IFwiK3IpO2lmKG4ubmFtZT1yLChyPXRoaXMuaDMubmV4dCgpKSE9PXQuRVFVQUwpdGhyb3cgRXJyb3IoXCJJbGxlZ2FsIHRva2VuIGluIGZpZWxkIFwiK2UubmFtZStcIiNcIituLm5hbWUrXCIgYXQgbGluZSBcIit0aGlzLmxpbmUrXCI6IFwiK3IpO3I9dGhpcy5oMy5uZXh0KCk7dHJ5e24uaWQ9dGhpcy5TMyhyKX1jYXRjaCh0KXt0aHJvdyBFcnJvcihcIklsbGVnYWwgZmllbGQgaWQgaW4gbWVzc2FnZSBcIitlLm5hbWUrXCIjXCIrbi5uYW1lK1wiIGF0IGxpbmUgXCIrdGhpcy5oMy5saW5lK1wiOiBcIityKX1pZihyPXRoaXMuaDMubmV4dCgpLHI9PT10LkEyJiYodGhpcy5PMyhlLG4scikscj10aGlzLmgzLm5leHQoKSksciE9PXQuRDIpdGhyb3cgRXJyb3IoXCJJbGxlZ2FsIGRlbGltaXRlciBpbiBtZXNzYWdlIFwiK2UubmFtZStcIiNcIituLm5hbWUrXCIgYXQgbGluZSBcIit0aGlzLmgzLmxpbmUrXCI6IFwiK3IpfWVsc2UgaWYoXCJncm91cFwiPT09cil7aWYocz10aGlzLmQzKGUsbixyKSwhL15bQS1aXS8udGVzdChzLm5hbWUpKXRocm93IEVycm9yKFwiR3JvdXAgbmFtZXMgbXVzdCBzdGFydCB3aXRoIGEgY2FwaXRhbCBsZXR0ZXJcIik7bi50eXBlPXMubmFtZSxuLm5hbWU9cy5uYW1lLnRvTG93ZXJDYXNlKCkscj10aGlzLmgzLkhrKCkscj09PXQuRDImJnRoaXMuaDMubmV4dCgpfWVsc2V7aWYoIXQudE4udGVzdChyKSYmIXQuWTIudGVzdChyKSl0aHJvdyBFcnJvcihcIklsbGVnYWwgZmllbGQgdHlwZSBpbiBtZXNzYWdlIFwiK2UubmFtZStcIiBhdCBsaW5lIFwiK3RoaXMuaDMubGluZStcIjogXCIrcik7aWYobi50eXBlPXIscj10aGlzLmgzLm5leHQoKSwhdC56Ty50ZXN0KHIpKXRocm93IEVycm9yKFwiSWxsZWdhbCBmaWVsZCBuYW1lIGluIG1lc3NhZ2UgXCIrZS5uYW1lK1wiIGF0IGxpbmUgXCIrdGhpcy5oMy5saW5lK1wiOiBcIityKTtpZihuLm5hbWU9ciwocj10aGlzLmgzLm5leHQoKSkhPT10LkVRVUFMKXRocm93IEVycm9yKFwiSWxsZWdhbCB0b2tlbiBpbiBmaWVsZCBcIitlLm5hbWUrXCIjXCIrbi5uYW1lK1wiIGF0IGxpbmUgXCIrdGhpcy5oMy5saW5lK1wiOiBcIityKTtyPXRoaXMuaDMubmV4dCgpO3RyeXtuLmlkPXRoaXMuUzMocil9Y2F0Y2godCl7dGhyb3cgRXJyb3IoXCJJbGxlZ2FsIGZpZWxkIGlkIGluIG1lc3NhZ2UgXCIrZS5uYW1lK1wiI1wiK24ubmFtZStcIiBhdCBsaW5lIFwiK3RoaXMuaDMubGluZStcIjogXCIrcil9aWYocj10aGlzLmgzLm5leHQoKSxyPT09dC5BMiYmKHRoaXMuTzMoZSxuLHIpLHI9dGhpcy5oMy5uZXh0KCkpLHIhPT10LkQyKXRocm93IEVycm9yKFwiSWxsZWdhbCBkZWxpbWl0ZXIgaW4gbWVzc2FnZSBcIitlLm5hbWUrXCIjXCIrbi5uYW1lK1wiIGF0IGxpbmUgXCIrdGhpcy5oMy5saW5lK1wiOiBcIityKX1yZXR1cm4gZS5maWVsZHMucHVzaChuKSxufSxvLkQzPWZ1bmN0aW9uKGUscil7aWYocj10aGlzLmgzLm5leHQoKSwhdC56Ty50ZXN0KHIpKXRocm93IEVycm9yKFwiSWxsZWdhbCBvbmVvZiBuYW1lIGluIG1lc3NhZ2UgXCIrZS5uYW1lK1wiIGF0IGxpbmUgXCIrdGhpcy5oMy5saW5lK1wiOiBcIityKTt2YXIgaSxuPXIscz1bXTtpZigocj10aGlzLmgzLm5leHQoKSkhPT10Lk9QRU4pdGhyb3cgRXJyb3IoXCJJbGxlZ2FsIHN0YXJ0IG9mIG9uZW9mIFwiK24rXCIgYXQgbGluZSBcIit0aGlzLmgzLmxpbmUrXCI6IFwiK3IpO2Zvcig7dGhpcy5oMy5IaygpIT09dC5QMjspaT10aGlzLk4zKGUsXCJvcHRpb25hbFwiKSxpLk0zPW4scy5wdXNoKGkuaWQpO3RoaXMuaDMubmV4dCgpLGUuQTNbbl09c30sby5PMz1mdW5jdGlvbihlLHIsaSl7Zm9yKHZhciBuPSEwOzspe2lmKChpPXRoaXMuaDMubmV4dCgpKT09PXQuTzIpYnJlYWs7aWYoaT09PXQuTjIpe2lmKG4pdGhyb3cgRXJyb3IoXCJJbGxlZ2FsIHN0YXJ0IG9mIG9wdGlvbnMgaW4gbWVzc2FnZSBcIitlLm5hbWUrXCIjXCIrci5uYW1lK1wiIGF0IGxpbmUgXCIrdGhpcy5oMy5saW5lK1wiOiBcIitpKTtpPXRoaXMuaDMubmV4dCgpfXRoaXMuRjMoZSxyLGkpLG49ITF9fSxvLkYzPWZ1bmN0aW9uKGUscixpKXt2YXIgbj0hMTtpZihpPT09dC5IMiYmKGk9dGhpcy5oMy5uZXh0KCksbj0hMCksIXQuWTIudGVzdChpKSl0aHJvdyBFcnJvcihcIklsbGVnYWwgZmllbGQgb3B0aW9uIGluIFwiK2UubmFtZStcIiNcIityLm5hbWUrXCIgYXQgbGluZSBcIit0aGlzLmgzLmxpbmUrXCI6IFwiK2kpO3ZhciBzPWk7aWYoaT10aGlzLmgzLm5leHQoKSxuKXtpZihpIT09dC5xMil0aHJvdyBFcnJvcihcIklsbGVnYWwgZGVsaW1pdGVyIGluIFwiK2UubmFtZStcIiNcIityLm5hbWUrXCIgYXQgbGluZSBcIit0aGlzLmgzLmxpbmUrXCI6IFwiK2kpO3M9XCIoXCIrcytcIilcIixpPXRoaXMuaDMubmV4dCgpLHQuVzIudGVzdChpKSYmKHMrPWksaT10aGlzLmgzLm5leHQoKSl9aWYoaSE9PXQuRVFVQUwpdGhyb3cgRXJyb3IoXCJJbGxlZ2FsIHRva2VuIGluIFwiK2UubmFtZStcIiNcIityLm5hbWUrXCIgYXQgbGluZSBcIit0aGlzLmgzLmxpbmUrXCI6IFwiK2kpO3ZhciBvO2lmKChpPXRoaXMuaDMuSGsoKSk9PT10Lk0yfHxpPT09dC5VMilvPXRoaXMuSTMoKTtlbHNlIGlmKHQuejIudGVzdChpLCEwKSlvPXRoaXMubTModGhpcy5oMy5uZXh0KCksITApO2Vsc2UgaWYodC5CT09MLnRlc3QoaSkpbz1cInRydWVcIj09PXRoaXMuaDMubmV4dCgpLnRvTG93ZXJDYXNlKCk7ZWxzZXtpZighdC5ZMi50ZXN0KGkpKXRocm93IEVycm9yKFwiSWxsZWdhbCB2YWx1ZSBpbiBtZXNzYWdlIFwiK2UubmFtZStcIiNcIityLm5hbWUrXCIsIG9wdGlvbiBcIitzK1wiIGF0IGxpbmUgXCIrdGhpcy5oMy5saW5lK1wiOiBcIitpKTtvPXRoaXMuaDMubmV4dCgpfXIub3B0aW9uc1tzXT1vfSxvLmYzPWZ1bmN0aW9uKGUscil7dmFyIGk9e307aWYocj10aGlzLmgzLm5leHQoKSwhdC56Ty50ZXN0KHIpKXRocm93IEVycm9yKFwiSWxsZWdhbCBlbnVtIG5hbWUgaW4gbWVzc2FnZSBcIitlLm5hbWUrXCIgYXQgbGluZSBcIit0aGlzLmgzLmxpbmUrXCI6IFwiK3IpO2lmKGkubmFtZT1yLChyPXRoaXMuaDMubmV4dCgpKSE9PXQuT1BFTil0aHJvdyBFcnJvcihcIklsbGVnYWwgc3RhcnQgb2YgZW51bSBcIitpLm5hbWUrXCIgYXQgbGluZSBcIit0aGlzLmgzLmxpbmUrXCI6IFwiK3IpO2ZvcihpLnZhbHVlcz1bXSxpLm9wdGlvbnM9e307Oyl7aWYoKHI9dGhpcy5oMy5uZXh0KCkpPT09dC5QMil7cj10aGlzLmgzLkhrKCkscj09PXQuRDImJnRoaXMuaDMubmV4dCgpO2JyZWFrfWlmKFwib3B0aW9uXCI9PXIpdGhpcy5nMyhpLHIpO2Vsc2V7aWYoIXQuek8udGVzdChyKSl0aHJvdyBFcnJvcihcIklsbGVnYWwgbmFtZSBpbiBlbnVtIFwiK2kubmFtZStcIiBhdCBsaW5lIFwiK3RoaXMuaDMubGluZStcIjogXCIrcik7dGhpcy5VMyhpLHIpfX1lLmMzLnB1c2goaSl9LG8uVTM9ZnVuY3Rpb24oZSxyKXt2YXIgaT17fTtpZihpLm5hbWU9ciwocj10aGlzLmgzLm5leHQoKSkhPT10LkVRVUFMKXRocm93IEVycm9yKFwiSWxsZWdhbCB0b2tlbiBpbiBlbnVtIFwiK2UubmFtZStcIiBhdCBsaW5lIFwiK3RoaXMuaDMubGluZStcIjogXCIrcik7cj10aGlzLmgzLm5leHQoKTt0cnl7aS5pZD10aGlzLlMzKHIsITApfWNhdGNoKHQpe3Rocm93IEVycm9yKFwiSWxsZWdhbCBpZCBpbiBlbnVtIFwiK2UubmFtZStcIiBhdCBsaW5lIFwiK3RoaXMuaDMubGluZStcIjogXCIrcil9aWYoZS52YWx1ZXMucHVzaChpKSwocj10aGlzLmgzLm5leHQoKSk9PT10LkEyKXt2YXIgbj17b3B0aW9uczp7fX07dGhpcy5PMyhlLG4scikscj10aGlzLmgzLm5leHQoKX1pZihyIT09dC5EMil0aHJvdyBFcnJvcihcIklsbGVnYWwgZGVsaW1pdGVyIGluIGVudW0gXCIrZS5uYW1lK1wiIGF0IGxpbmUgXCIrdGhpcy5oMy5saW5lK1wiOiBcIityKX0sby5MMz1mdW5jdGlvbihyLGkpe3ZhciBuPVtdO2lmKGk9dGhpcy5oMy5uZXh0KCksXCJtaW5cIj09PWk/bi5wdXNoKGUuVDIpOlwibWF4XCI9PT1pP24ucHVzaChlLm0yKTpuLnB1c2godGhpcy5tMyhpKSksXCJ0b1wiIT09KGk9dGhpcy5oMy5uZXh0KCkpKXRocm93IEVycm9yKFwiSWxsZWdhbCBleHRlbnNpb25zIGRlbGltaXRlciBpbiBtZXNzYWdlIFwiK3IubmFtZStcIiBhdCBsaW5lIFwiK3RoaXMuaDMubGluZStcIjogXCIraSk7aWYoaT10aGlzLmgzLm5leHQoKSxcIm1pblwiPT09aT9uLnB1c2goZS5UMik6XCJtYXhcIj09PWk/bi5wdXNoKGUubTIpOm4ucHVzaCh0aGlzLm0zKGkpKSwoaT10aGlzLmgzLm5leHQoKSkhPT10LkQyKXRocm93IEVycm9yKFwiSWxsZWdhbCBleHRlbnNpb25zIGRlbGltaXRlciBpbiBtZXNzYWdlIFwiK3IubmFtZStcIiBhdCBsaW5lIFwiK3RoaXMuaDMubGluZStcIjogXCIraSk7cmV0dXJuIG59LG8udjM9ZnVuY3Rpb24oZSxyKXtpZihyPXRoaXMuaDMubmV4dCgpLCF0LlkyLnRlc3QocikpdGhyb3cgRXJyb3IoXCJJbGxlZ2FsIG1lc3NhZ2UgbmFtZSBhdCBsaW5lIFwiK3RoaXMuaDMubGluZStcIjogXCIrcik7dmFyIGk9e307aWYoaS5CMz1yLGkuZmllbGRzPVtdLChyPXRoaXMuaDMubmV4dCgpKSE9PXQuT1BFTil0aHJvdyBFcnJvcihcIklsbGVnYWwgc3RhcnQgb2YgZXh0ZW5kIFwiK2kubmFtZStcIiBhdCBsaW5lIFwiK3RoaXMuaDMubGluZStcIjogXCIrcik7Zm9yKDs7KXtpZigocj10aGlzLmgzLm5leHQoKSk9PT10LlAyKXtyPXRoaXMuaDMuSGsoKSxyPT10LkQyJiZ0aGlzLmgzLm5leHQoKTticmVha31pZih0LlEyLnRlc3QocikpdGhpcy5OMyhpLHIpO2Vsc2V7aWYoIXQuWTIudGVzdChyKSl0aHJvdyBFcnJvcihcIklsbGVnYWwgdG9rZW4gaW4gZXh0ZW5kIFwiK2kubmFtZStcIiBhdCBsaW5lIFwiK3RoaXMuaDMubGluZStcIjogXCIrcik7dGhpcy5OMyhpLFwib3B0aW9uYWxcIixyKX19cmV0dXJuIGUubWVzc2FnZXMucHVzaChpKSxpfSxvLlQzPWZ1bmN0aW9uKGUpe3ZhciByPXRoaXMuaDMubmV4dCgpO2lmKHIhPT10LkVRVUFMKXRocm93IEVycm9yKFwiSWxsZWdhbCB0b2tlbiBhdCBsaW5lIFwiK3RoaXMuaDMubGluZStcIjogXCIrcik7aWYoKHI9dGhpcy5oMy5IaygpKSE9PXQuTTImJnIhPT10LlUyKXRocm93IEVycm9yKFwiSWxsZWdhbCB0b2tlbiBhdCBsaW5lIFwiK3RoaXMuaDMubGluZStcIjogXCIrcik7dmFyIGk9dGhpcy5JMygpO2lmKChyPXRoaXMuaDMubmV4dCgpKSE9PXQuRDIpdGhyb3cgRXJyb3IoXCJJbGxlZ2FsIHRva2VuIGF0IGxpbmUgXCIrdGhpcy5oMy5saW5lK1wiOiBcIityKTtyZXR1cm4gaX0sby50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiUGFyc2VyXCJ9LHIuUjA9cyxyfSh0LHQuTGFuZyksdC5IMz1mdW5jdGlvbih0KXtmdW5jdGlvbiByKHIpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiByJiYocj10LmcyW3JdKSx2b2lkIDA9PT1yLmRlZmF1bHRWYWx1ZSl0aHJvdyBFcnJvcihcImRlZmF1bHQgdmFsdWUgZm9yIHR5cGUgXCIrci5uYW1lK1wiIGlzIG5vdCBzdXBwb3J0ZWRcIik7cmV0dXJuIHI9PXQuZzIuYnl0ZXM/bmV3IGUoMCk6ci5kZWZhdWx0VmFsdWV9ZnVuY3Rpb24gaShlLHIpe2lmKGUmJlwibnVtYmVyXCI9PXR5cGVvZiBlLmxvdyYmXCJudW1iZXJcIj09dHlwZW9mIGUuaGlnaCYmXCJib29sZWFuXCI9PXR5cGVvZiBlLkZQJiZlLmxvdz09PWUubG93JiZlLmhpZ2g9PT1lLmhpZ2gpcmV0dXJuIG5ldyB0LnFfKGUubG93LGUuaGlnaCx2b2lkIDA9PT1yP2UuRlA6cik7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpcmV0dXJuIHQucV8ua0UoZSxyfHwhMSwxMCk7aWYoXCJudW1iZXJcIj09dHlwZW9mIGUpcmV0dXJuIHQucV8uREUoZSxyfHwhMSk7dGhyb3cgRXJyb3IoXCJub3QgY29udmVydGlibGUgdG8gTG9uZ1wiKX1mdW5jdGlvbiBuKGUscil7dmFyIGk9ci5QUCgpLHM9NyZpLG89aT4+PjM7c3dpdGNoKHMpe2Nhc2UgdC5vMi5hMjpkb3tpPXIuWl8oKX13aGlsZSgxMjg9PSgxMjgmaSkpO2JyZWFrO2Nhc2UgdC5vMi5oMjpyLm9mZnNldCs9ODticmVhaztjYXNlIHQubzIuYzI6aT1yLlBQKCksci5vZmZzZXQrPWk7YnJlYWs7Y2FzZSB0Lm8yLnUyOm4obyxyKTticmVhaztjYXNlIHQubzIubDI6aWYobz09PWUpcmV0dXJuITE7dGhyb3cgRXJyb3IoXCJJbGxlZ2FsIEdST1VQRU5EIGFmdGVyIHVua25vd24gZ3JvdXA6IFwiK28rXCIgKFwiK2UrXCIgZXhwZWN0ZWQpXCIpO2Nhc2UgdC5vMi5kMjpyLm9mZnNldCs9NDticmVhaztkZWZhdWx0OnRocm93IEVycm9yKFwiSWxsZWdhbCB3aXJlIHR5cGUgaW4gdW5rbm93biBncm91cCBcIitlK1wiOiBcIitzKX1yZXR1cm4hMH12YXIgcz17fSxvPWZ1bmN0aW9uKGUsdCxyKXt0aGlzLngzPWUsdGhpcy5wYXJlbnQ9dCx0aGlzLm5hbWU9cix0aGlzLmNsYXNzTmFtZX0sYT1vLnByb3RvdHlwZTthLnEzPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXMubmFtZSx0PXRoaXM7Oyl7aWYobnVsbD09KHQ9dC5wYXJlbnQpKWJyZWFrO2U9dC5uYW1lK1wiLlwiK2V9cmV0dXJuIGV9LGEudG9TdHJpbmc9ZnVuY3Rpb24oZSl7cmV0dXJuKGU/dGhpcy5jbGFzc05hbWUrXCIgXCI6XCJcIikrdGhpcy5xMygpfSxhLlhnPWZ1bmN0aW9uKCl7dGhyb3cgRXJyb3IodGhpcy50b1N0cmluZyghMCkrXCIgY2Fubm90IGJlIGJ1aWx0IGRpcmVjdGx5XCIpfSxzLkczPW87dmFyIGg9ZnVuY3Rpb24oZSx0LHIsaSxuKXtvLmNhbGwodGhpcyxlLHQsciksdGhpcy5jbGFzc05hbWU9XCJOYW1lc3BhY2VcIix0aGlzLmNoaWxkcmVuPVtdLHRoaXMub3B0aW9ucz1pfHx7fSx0aGlzLnkzPW58fFwicHJvdG8yXCJ9LGM9aC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShvLnByb3RvdHlwZSk7Yy5WMz1mdW5jdGlvbihlKXtpZihudWxsPT0oZT1lfHxudWxsKSlyZXR1cm4gdGhpcy5jaGlsZHJlbi5zbGljZSgpO2Zvcih2YXIgdD1bXSxyPTAsaT10aGlzLmNoaWxkcmVuLmxlbmd0aDtyPGk7KytyKXRoaXMuY2hpbGRyZW5bcl1pbnN0YW5jZW9mIGUmJnQucHVzaCh0aGlzLmNoaWxkcmVuW3JdKTtyZXR1cm4gdH0sYy5qMz1mdW5jdGlvbihlKXt2YXIgdDtpZih0PXRoaXMuUTMoZS5uYW1lKSlpZih0IGluc3RhbmNlb2YgcC5LMyYmdC5uYW1lIT09dC5ZMyYmbnVsbD09PXRoaXMuUTModC5ZMykpdC5uYW1lPXQuWTM7ZWxzZXtpZighKGUgaW5zdGFuY2VvZiBwLkszJiZlLm5hbWUhPT1lLlkzJiZudWxsPT09dGhpcy5RMyhlLlkzKSkpdGhyb3cgRXJyb3IoXCJEdXBsaWNhdGUgbmFtZSBpbiBuYW1lc3BhY2UgXCIrdGhpcy50b1N0cmluZyghMCkrXCI6IFwiK2UubmFtZSk7ZS5uYW1lPWUuWTN9dGhpcy5jaGlsZHJlbi5wdXNoKGUpfSxjLlEzPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1cIm51bWJlclwiPT10eXBlb2YgZT9cImlkXCI6XCJuYW1lXCIscj0wLGk9dGhpcy5jaGlsZHJlbi5sZW5ndGg7cjxpOysrcilpZih0aGlzLmNoaWxkcmVuW3JdW3RdPT09ZSlyZXR1cm4gdGhpcy5jaGlsZHJlbltyXTtyZXR1cm4gbnVsbH0sYy5yZXNvbHZlPWZ1bmN0aW9uKGUsdCl7dmFyIHI9XCJzdHJpbmdcIj09dHlwZW9mIGU/ZS5zcGxpdChcIi5cIik6ZSxpPXRoaXMsbj0wO2lmKFwiXCI9PT1yW25dKXtmb3IoO251bGwhPT1pLnBhcmVudDspaT1pLnBhcmVudDtuKyt9dmFyIG87ZG97ZG97aWYoIShvPWkuUTMocltuXSkpfHwhKG8gaW5zdGFuY2VvZiBzLkczKXx8dCYmbyBpbnN0YW5jZW9mIHMuSmQuSzMpe2k9bnVsbDticmVha31pPW8sbisrfXdoaWxlKG48ci5sZW5ndGgpO2lmKG51bGwhPWkpYnJlYWs7aWYobnVsbCE9PXRoaXMucGFyZW50KXJldHVybiB0aGlzLnBhcmVudC5yZXNvbHZlKGUsdCl9d2hpbGUobnVsbCE9aSk7cmV0dXJuIGl9LGMuVzM9ZnVuY3Rpb24oZSl7dmFyIHQ9W10scj1lO2Rve3QudW5zaGlmdChyLm5hbWUpLHI9ci5wYXJlbnR9d2hpbGUobnVsbCE9PXIpO2Zvcih2YXIgaT0xO2k8PXQubGVuZ3RoO2krKyl7dmFyIG49dC5zbGljZSh0Lmxlbmd0aC1pKTtpZihlPT09dGhpcy5yZXNvbHZlKG4sIShlIGluc3RhbmNlb2Ygcy5KZC5LMykpKXJldHVybiBuLmpvaW4oXCIuXCIpfXJldHVybiBlLnEzKCl9LGMuWGc9ZnVuY3Rpb24oKXtmb3IodmFyIGUsdD17fSxyPXRoaXMuY2hpbGRyZW4saT0wLG49ci5sZW5ndGg7aTxuOysraSkoZT1yW2ldKWluc3RhbmNlb2YgaCYmKHRbZS5uYW1lXT1lLlhnKCkpO3JldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiJG9wdGlvbnNcIix7dmFsdWU6dGhpcy56MygpfSksdH0sYy56Mz1mdW5jdGlvbigpe2Zvcih2YXIgZT17fSx0PU9iamVjdC5rZXlzKHRoaXMub3B0aW9ucykscj0wLGk9dC5sZW5ndGg7cjxpOysrcil7dmFyIG49dFtyXSxzPXRoaXMub3B0aW9uc1t0W3JdXTtlW25dPXN9cmV0dXJuIGV9LGMuSjM9ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMD09PWU/dGhpcy5vcHRpb25zOnZvaWQgMCE9PXRoaXMub3B0aW9uc1tlXT90aGlzLm9wdGlvbnNbZV06bnVsbH0scy5YMz1oO3ZhciB1PWZ1bmN0aW9uKGUscixpLG4pe2lmKHRoaXMudHlwZT1lLHRoaXMuWjM9cix0aGlzLmU0PWksdGhpcy55Mz1uLGkmJnQudjIuaW5kZXhPZihlKTwwKXRocm93IEVycm9yKFwiSW52YWxpZCBtYXAga2V5IHR5cGU6IFwiK2UubmFtZSl9LGw9dS5wcm90b3R5cGU7bC50ND1yLGwucjQ9ZnVuY3Rpb24ocil7dmFyIG49ZnVuY3Rpb24oZSx0KXt0aHJvdyBFcnJvcihcIklsbGVnYWwgdmFsdWUgZm9yIFwiK3RoaXMudG9TdHJpbmcoITApK1wiIG9mIHR5cGUgXCIrdGhpcy50eXBlLm5hbWUrXCI6IFwiK2UrXCIgKFwiK3QrXCIpXCIpfS5iaW5kKHRoaXMpO3N3aXRjaCh0aGlzLnR5cGUpe2Nhc2UgdC5nMi5pbnQzMjpjYXNlIHQuZzIuc2ludDMyOmNhc2UgdC5nMi5zZml4ZWQzMjpyZXR1cm4oXCJudW1iZXJcIiE9dHlwZW9mIHJ8fHI9PT1yJiZyJTEhPTApJiZuKHR5cGVvZiByLFwibm90IGFuIGludGVnZXJcIikscj40Mjk0OTY3Mjk1PzB8cjpyO2Nhc2UgdC5nMi51aW50MzI6Y2FzZSB0LmcyLmZpeGVkMzI6cmV0dXJuKFwibnVtYmVyXCIhPXR5cGVvZiByfHxyPT09ciYmciUxIT0wKSYmbih0eXBlb2YgcixcIm5vdCBhbiBpbnRlZ2VyXCIpLHI8MD9yPj4+MDpyO2Nhc2UgdC5nMi5pbnQ2NDpjYXNlIHQuZzIuc2ludDY0OmNhc2UgdC5nMi5zZml4ZWQ2NDppZih0LnFfKXRyeXtyZXR1cm4gaShyLCExKX1jYXRjaChlKXtuKHR5cGVvZiByLGUubWVzc2FnZSl9ZWxzZSBuKHR5cGVvZiByLFwicmVxdWlyZXMgTG9uZy5qc1wiKTtjYXNlIHQuZzIudWludDY0OmNhc2UgdC5nMi5maXhlZDY0OmlmKHQucV8pdHJ5e3JldHVybiBpKHIsITApfWNhdGNoKGUpe24odHlwZW9mIHIsZS5tZXNzYWdlKX1lbHNlIG4odHlwZW9mIHIsXCJyZXF1aXJlcyBMb25nLmpzXCIpO2Nhc2UgdC5nMi5ib29sOnJldHVyblwiYm9vbGVhblwiIT10eXBlb2YgciYmbih0eXBlb2YgcixcIm5vdCBhIGJvb2xlYW5cIikscjtjYXNlIHQuZzIuZmxvYXQ6Y2FzZSB0LmcyLmRvdWJsZTpyZXR1cm5cIm51bWJlclwiIT10eXBlb2YgciYmbih0eXBlb2YgcixcIm5vdCBhIG51bWJlclwiKSxyO2Nhc2UgdC5nMi5zdHJpbmc6cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHJ8fHImJnIgaW5zdGFuY2VvZiBTdHJpbmd8fG4odHlwZW9mIHIsXCJub3QgYSBzdHJpbmdcIiksXCJcIityO2Nhc2UgdC5nMi5ieXRlczpyZXR1cm4gZS5WXyhyKT9yOmUud3JhcChyLFwiYmFzZTY0XCIpO2Nhc2UgdC5nMi5lbnVtOnZhciBzPXRoaXMuWjMuVjModC5IMy5uNC5pNCk7Zm9yKGE9MDthPHMubGVuZ3RoO2ErKyl7aWYoc1thXS5uYW1lPT1yKXJldHVybiBzW2FdLmlkO2lmKHNbYV0uaWQ9PXIpcmV0dXJuIHNbYV0uaWR9aWYoXCJwcm90bzNcIj09PXRoaXMueTMpcmV0dXJuKFwibnVtYmVyXCIhPXR5cGVvZiByfHxyPT09ciYmciUxIT0wKSYmbih0eXBlb2YgcixcIm5vdCBhbiBpbnRlZ2VyXCIpLChyPjQyOTQ5NjcyOTV8fHI8MCkmJm4odHlwZW9mIHIsXCJub3QgaW4gcmFuZ2UgZm9yIHVpbnQzMlwiKSxyO24ocixcIm5vdCBhIHZhbGlkIGVudW0gdmFsdWVcIik7Y2FzZSB0LmcyLmdyb3VwOmNhc2UgdC5nMi5tZXNzYWdlOmlmKHImJlwib2JqZWN0XCI9PXR5cGVvZiByfHxuKHR5cGVvZiByLFwib2JqZWN0IGV4cGVjdGVkXCIpLHIgaW5zdGFuY2VvZiB0aGlzLlozLnM0KXJldHVybiByO2lmKHIgaW5zdGFuY2VvZiB0Lm80LkpkKXt2YXIgbz17fTtmb3IodmFyIGEgaW4gcilyLmhhc093blByb3BlcnR5KGEpJiYob1thXT1yW2FdKTtyPW99cmV0dXJuIG5ldyB0aGlzLlozLnM0KHIpfXRocm93IEVycm9yKFwiW0lOVEVSTkFMXSBJbGxlZ2FsIHZhbHVlIGZvciBcIit0aGlzLnRvU3RyaW5nKCEwKStcIjogXCIrcitcIiAodW5kZWZpbmVkIHR5cGUgXCIrdGhpcy50eXBlK1wiKVwiKX0sbC5hND1mdW5jdGlvbihyLGkpe2lmKG51bGw9PT1pKXJldHVybiAwO3ZhciBuO3N3aXRjaCh0aGlzLnR5cGUpe2Nhc2UgdC5nMi5pbnQzMjpyZXR1cm4gaTwwP2UuRFAoaSk6ZS5SUChpKTtjYXNlIHQuZzIudWludDMyOnJldHVybiBlLlJQKGkpO2Nhc2UgdC5nMi5zaW50MzI6cmV0dXJuIGUuUlAoZS53UChpKSk7Y2FzZSB0LmcyLmZpeGVkMzI6Y2FzZSB0LmcyLnNmaXhlZDMyOmNhc2UgdC5nMi5mbG9hdDpyZXR1cm4gNDtjYXNlIHQuZzIuaW50NjQ6Y2FzZSB0LmcyLnVpbnQ2NDpyZXR1cm4gZS5EUChpKTtjYXNlIHQuZzIuc2ludDY0OnJldHVybiBlLkRQKGUuTVAoaSkpO2Nhc2UgdC5nMi5maXhlZDY0OmNhc2UgdC5nMi5zZml4ZWQ2NDpyZXR1cm4gODtjYXNlIHQuZzIuYm9vbDpyZXR1cm4gMTtjYXNlIHQuZzIuZW51bTpyZXR1cm4gZS5SUChpKTtjYXNlIHQuZzIuZG91YmxlOnJldHVybiA4O2Nhc2UgdC5nMi5zdHJpbmc6cmV0dXJuIG49ZS50QShpKSxlLlJQKG4pK247Y2FzZSB0LmcyLmJ5dGVzOmlmKGkudkEoKTwwKXRocm93IEVycm9yKFwiSWxsZWdhbCB2YWx1ZSBmb3IgXCIrdGhpcy50b1N0cmluZyghMCkrXCI6IFwiK2kudkEoKStcIiBieXRlcyByZW1haW5pbmdcIik7cmV0dXJuIGUuUlAoaS52QSgpKStpLnZBKCk7Y2FzZSB0LmcyLm1lc3NhZ2U6cmV0dXJuIG49dGhpcy5aMy5oNChpKSxlLlJQKG4pK247Y2FzZSB0LmcyLmdyb3VwOnJldHVybihuPXRoaXMuWjMuaDQoaSkpK2UuUlAocjw8M3x0Lm8yLmwyKX10aHJvdyBFcnJvcihcIltJTlRFUk5BTF0gSWxsZWdhbCB2YWx1ZSB0byBlbmNvZGUgaW4gXCIrdGhpcy50b1N0cmluZyghMCkrXCI6IFwiK2krXCIgKHVua25vd24gdHlwZSlcIil9LGwuYzQ9ZnVuY3Rpb24ocixpLG4pe2lmKG51bGw9PT1pKXJldHVybiBuO3N3aXRjaCh0aGlzLnR5cGUpe2Nhc2UgdC5nMi5pbnQzMjppPDA/bi5HUChpKTpuLkNQKGkpO2JyZWFrO2Nhc2UgdC5nMi51aW50MzI6bi5DUChpKTticmVhaztjYXNlIHQuZzIuc2ludDMyOm4uX1AoaSk7YnJlYWs7Y2FzZSB0LmcyLmZpeGVkMzI6bi5oUChpKTticmVhaztjYXNlIHQuZzIuc2ZpeGVkMzI6bi5vUChpKTticmVhaztjYXNlIHQuZzIuaW50NjQ6Y2FzZSB0LmcyLnVpbnQ2NDpuLkdQKGkpO2JyZWFrO2Nhc2UgdC5nMi5zaW50NjQ6bi5WUChpKTticmVhaztjYXNlIHQuZzIuZml4ZWQ2NDpuLmZQKGkpO2JyZWFrO2Nhc2UgdC5nMi5zZml4ZWQ2NDpuLnVQKGkpO2JyZWFrO2Nhc2UgdC5nMi5ib29sOlwic3RyaW5nXCI9PXR5cGVvZiBpP24uQ1AoXCJmYWxzZVwiPT09aS50b0xvd2VyQ2FzZSgpPzA6ISFpKTpuLkNQKGk/MTowKTticmVhaztjYXNlIHQuZzIuZW51bTpuLkNQKGkpO2JyZWFrO2Nhc2UgdC5nMi5mbG9hdDpuLkVQKGkpO2JyZWFrO2Nhc2UgdC5nMi5kb3VibGU6bi5tUChpKTticmVhaztjYXNlIHQuZzIuc3RyaW5nOm4uc0EoaSk7YnJlYWs7Y2FzZSB0LmcyLmJ5dGVzOmlmKGkudkEoKTwwKXRocm93IEVycm9yKFwiSWxsZWdhbCB2YWx1ZSBmb3IgXCIrdGhpcy50b1N0cmluZyghMCkrXCI6IFwiK2kudkEoKStcIiBieXRlcyByZW1haW5pbmdcIik7dmFyIHM9aS5vZmZzZXQ7bi5DUChpLnZBKCkpLG4uYXBwZW5kKGkpLGkub2Zmc2V0PXM7YnJlYWs7Y2FzZSB0LmcyLm1lc3NhZ2U6dmFyIG89KG5ldyBlKS5sQSgpO3RoaXMuWjMuZW5jb2RlKGksbyksbi5DUChvLm9mZnNldCksbi5hcHBlbmQoby54ZygpKTticmVhaztjYXNlIHQuZzIuZ3JvdXA6dGhpcy5aMy5lbmNvZGUoaSxuKSxuLkNQKHI8PDN8dC5vMi5sMik7YnJlYWs7ZGVmYXVsdDp0aHJvdyBFcnJvcihcIltJTlRFUk5BTF0gSWxsZWdhbCB2YWx1ZSB0byBlbmNvZGUgaW4gXCIrdGhpcy50b1N0cmluZyghMCkrXCI6IFwiK2krXCIgKHVua25vd24gdHlwZSlcIil9cmV0dXJuIG59LGwuZGVjb2RlPWZ1bmN0aW9uKGUscixpKXtpZihyIT10aGlzLnR5cGUuRTIpdGhyb3cgRXJyb3IoXCJVbmV4cGVjdGVkIHdpcmUgdHlwZSBmb3IgZWxlbWVudFwiKTt2YXIgbixzO3N3aXRjaCh0aGlzLnR5cGUpe2Nhc2UgdC5nMi5pbnQzMjpyZXR1cm4gMHxlLlBQKCk7Y2FzZSB0LmcyLnVpbnQzMjpyZXR1cm4gZS5QUCgpPj4+MDtjYXNlIHQuZzIuc2ludDMyOnJldHVybiAwfGUuT1AoKTtjYXNlIHQuZzIuZml4ZWQzMjpyZXR1cm4gZS5jUCgpPj4+MDtjYXNlIHQuZzIuc2ZpeGVkMzI6cmV0dXJuIDB8ZS5hUCgpO2Nhc2UgdC5nMi5pbnQ2NDpyZXR1cm4gZS5qUCgpO2Nhc2UgdC5nMi51aW50NjQ6cmV0dXJuIGUualAoKS5CUCgpO2Nhc2UgdC5nMi5zaW50NjQ6cmV0dXJuIGUuUVAoKTtjYXNlIHQuZzIuZml4ZWQ2NDpyZXR1cm4gZS5nUCgpO2Nhc2UgdC5nMi5zZml4ZWQ2NDpyZXR1cm4gZS5wUCgpO2Nhc2UgdC5nMi5ib29sOnJldHVybiEhZS5QUCgpO2Nhc2UgdC5nMi5lbnVtOnJldHVybiBlLlBQKCk7Y2FzZSB0LmcyLmZsb2F0OnJldHVybiBlLlRQKCk7Y2FzZSB0LmcyLmRvdWJsZTpyZXR1cm4gZS5FXygpO2Nhc2UgdC5nMi5zdHJpbmc6cmV0dXJuIGUub0EoKTtjYXNlIHQuZzIuYnl0ZXM6aWYocz1lLlBQKCksZS52QSgpPHMpdGhyb3cgRXJyb3IoXCJJbGxlZ2FsIG51bWJlciBvZiBieXRlcyBmb3IgXCIrdGhpcy50b1N0cmluZyghMCkrXCI6IFwiK3MrXCIgcmVxdWlyZWQgYnV0IGdvdCBvbmx5IFwiK2UudkEoKSk7cmV0dXJuIG49ZS5jbG9uZSgpLG4uRl89bi5vZmZzZXQrcyxlLm9mZnNldCs9cyxuO2Nhc2UgdC5nMi5tZXNzYWdlOnJldHVybiBzPWUuUFAoKSx0aGlzLlozLmRlY29kZShlLHMpO2Nhc2UgdC5nMi5ncm91cDpyZXR1cm4gdGhpcy5aMy5kZWNvZGUoZSwtMSxpKX10aHJvdyBFcnJvcihcIltJTlRFUk5BTF0gSWxsZWdhbCBkZWNvZGUgdHlwZVwiKX0sbC51ND1mdW5jdGlvbihyKXtpZighdGhpcy5lNCl0aHJvdyBFcnJvcihcInZhbHVlRnJvbVN0cmluZygpIGNhbGxlZCBvbiBub24tbWFwLWtleSBlbGVtZW50XCIpO3N3aXRjaCh0aGlzLnR5cGUpe2Nhc2UgdC5nMi5pbnQzMjpjYXNlIHQuZzIuc2ludDMyOmNhc2UgdC5nMi5zZml4ZWQzMjpjYXNlIHQuZzIudWludDMyOmNhc2UgdC5nMi5maXhlZDMyOnJldHVybiB0aGlzLnI0KHBhcnNlSW50KHIpKTtjYXNlIHQuZzIuaW50NjQ6Y2FzZSB0LmcyLnNpbnQ2NDpjYXNlIHQuZzIuc2ZpeGVkNjQ6Y2FzZSB0LmcyLnVpbnQ2NDpjYXNlIHQuZzIuZml4ZWQ2NDpyZXR1cm4gdGhpcy5yNChyKTtjYXNlIHQuZzIuYm9vbDpyZXR1cm5cInRydWVcIj09PXI7Y2FzZSB0LmcyLnN0cmluZzpyZXR1cm4gdGhpcy5yNChyKTtjYXNlIHQuZzIuYnl0ZXM6cmV0dXJuIGUuS18ocil9fSxsLmw0PWZ1bmN0aW9uKGUpe2lmKCF0aGlzLmU0KXRocm93IEVycm9yKFwidmFsdWVUb1N0cmluZygpIGNhbGxlZCBvbiBub24tbWFwLWtleSBlbGVtZW50XCIpO3JldHVybiB0aGlzLnR5cGU9PT10LmcyLmJ5dGVzP2UudG9TdHJpbmcoXCJiaW5hcnlcIik6ZS50b1N0cmluZygpfSxzLkVsZW1lbnQ9dTt2YXIgcD1mdW5jdGlvbihlLHIsaSxuLHMsbyl7aC5jYWxsKHRoaXMsZSxyLGksbixvKSx0aGlzLmNsYXNzTmFtZT1cIk1lc3NhZ2VcIix0aGlzLmV4dGVuc2lvbnM9W3QuVDIsdC5tMl0sdGhpcy5zND1udWxsLHRoaXMuUDM9ISFzLHRoaXMuZDQ9bnVsbCx0aGlzLmY0PW51bGwsdGhpcy5nND1udWxsfSxkPXAucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoaC5wcm90b3R5cGUpO2QuWGc9ZnVuY3Rpb24ocil7aWYodGhpcy5zNCYmIXIpcmV0dXJuIHRoaXMuczQ7dmFyIGk9ZnVuY3Rpb24odCxyKXtmdW5jdGlvbiBpKHIsbixzLG8sYSl7dmFyIGg9dm9pZCAwO2lmKG51bGw9PT1yfHxcIm9iamVjdFwiIT10eXBlb2Ygcil7aWYobz09dC5nMi5lbnVtKWZvcih2YXIgYz1hLlYzKHQuSDMubjQuaTQpLHU9MDt1PGMubGVuZ3RoO3UrKylpZihjW3VdLmlkPT09cil7cj1jW3VdLm5hbWU7YnJlYWt9aD1yfWVsc2UgaWYociBpbnN0YW5jZW9mIGUpaD1uP3IubUEoKTpyLnlBKCk7ZWxzZSBpZih0LmJ2LmlzQXJyYXkocikpe3ZhciBsPXI7aD1bXTtmb3IodmFyIHA9MDtwPGwubGVuZ3RoO3ArKyloLnB1c2goaShsW3BdLG4scyxvLGEpKX1lbHNlIGlmKHIgaW5zdGFuY2VvZiB0Lk1hcCl7dmFyIGQ9ci5lbnRyaWVzKCk7aD17fTtmb3IodmFyIGY9ZC5uZXh0KCk7IWYuZG9uZTtmPWQubmV4dCgpKWhbci5FNC5sNChmLnZhbHVlWzBdKV09aShmLnZhbHVlWzFdLG4scyxyLnY0LnR5cGUsci52NC5aMyl9ZWxzZSBpZihyIGluc3RhbmNlb2YgdC5xXyloPXM/ci50b1N0cmluZygpOm5ldyB0LnFfKHIpO2Vsc2V7aD17fTt2YXIgZz1yLnk0LEU9dm9pZCAwO2Zvcih2YXIgdSBpbiByKWlmKHIuaGFzT3duUHJvcGVydHkodSkpe3ZhciB2PXJbdV07ZyYmKEU9Zy5RMyh1KSksaFt1XT1pKHYsbixzLEUudHlwZSxFLlozKX19cmV0dXJuIGh9dmFyIG49ci5WMyh0LkgzLkpkLkszKSxzPXIuVjModC5IMy5KZC5UNCksbz1mdW5jdGlvbihpLG8pe3QubzQuSmQuY2FsbCh0aGlzKTtmb3IodmFyIGE9MCxoPXMubGVuZ3RoO2E8aDsrK2EpdGhpc1tzW2FdLm5hbWVdPW51bGw7Zm9yKGE9MCxoPW4ubGVuZ3RoO2E8aDsrK2Epe3ZhciBjPW5bYV07dGhpc1tjLm5hbWVdPWMucmVwZWF0ZWQ/W106Yy5tYXA/bmV3IHQuTWFwKGMpOm51bGwsIWMucmVxdWlyZWQmJlwicHJvdG8zXCIhPT1yLnkzfHxudWxsPT09Yy5kZWZhdWx0VmFsdWV8fCh0aGlzW2MubmFtZV09Yy5kZWZhdWx0VmFsdWUpfWlmKGFyZ3VtZW50cy5sZW5ndGg+MCl7dmFyIHU7aWYoMSE9PWFyZ3VtZW50cy5sZW5ndGh8fFwib2JqZWN0XCIhPXR5cGVvZiBpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBpLmVuY29kZXx8dC5idi5pc0FycmF5KGkpfHxpIGluc3RhbmNlb2YgdC5NYXB8fGkgaW5zdGFuY2VvZiBlfHxpIGluc3RhbmNlb2YgQXJyYXlCdWZmZXJ8fHQucV8mJmkgaW5zdGFuY2VvZiB0LnFfKWZvcihhPTAsaD1hcmd1bWVudHMubGVuZ3RoO2E8aDsrK2Epdm9pZCAwIT09KHU9YXJndW1lbnRzW2FdKSYmdGhpcy5tNChuW2FdLm5hbWUsdSk7ZWxzZSB0aGlzLm00KGkpfX0sYT1vLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQubzQuSmQucHJvdG90eXBlKTthLmFkZD1mdW5jdGlvbihlLGksbil7dmFyIHM9ci5nNFtlXTtpZighbil7aWYoIXMpdGhyb3cgRXJyb3IodGhpcytcIiNcIitlK1wiIGlzIHVuZGVmaW5lZFwiKTtpZighKHMgaW5zdGFuY2VvZiB0LkgzLkpkLkszKSl0aHJvdyBFcnJvcih0aGlzK1wiI1wiK2UrXCIgaXMgbm90IGEgZmllbGQ6IFwiK3MudG9TdHJpbmcoITApKTtpZighcy5yZXBlYXRlZCl0aHJvdyBFcnJvcih0aGlzK1wiI1wiK2UrXCIgaXMgbm90IGEgcmVwZWF0ZWQgZmllbGRcIil9bnVsbD09PXRoaXNbcy5uYW1lXSYmKHRoaXNbcy5uYW1lXT1bXSksdGhpc1tzLm5hbWVdLnB1c2gobj9pOnMucjQoaSwhMCkpfSxhLkk0PWEuYWRkLGEuc2V0PWZ1bmN0aW9uKGUsaSxuKXtpZihlJiZcIm9iamVjdFwiPT10eXBlb2YgZSl7bj1pO2Zvcih2YXIgcyBpbiBlKWUuaGFzT3duUHJvcGVydHkocykmJnZvaWQgMCE9PShpPWVbc10pJiZ0aGlzLm00KHMsaSxuKTtyZXR1cm4gdGhpc312YXIgbz1yLmc0W2VdO2lmKG4pdGhpc1tvLm5hbWVdPWk7ZWxzZXtpZighbyl0aHJvdyBFcnJvcih0aGlzK1wiI1wiK2UrXCIgaXMgbm90IGEgZmllbGQ6IHVuZGVmaW5lZFwiKTtpZighKG8gaW5zdGFuY2VvZiB0LkgzLkpkLkszKSl0aHJvdyBFcnJvcih0aGlzK1wiI1wiK2UrXCIgaXMgbm90IGEgZmllbGQ6IFwiK28udG9TdHJpbmcoITApKTt0aGlzW28ubmFtZV09aT1vLnI0KGkpfXJldHVybiBvLk0zJiYobnVsbCE9PWk/KG51bGwhPT10aGlzW28uTTMubmFtZV0mJih0aGlzW3RoaXNbby5NMy5uYW1lXV09bnVsbCksdGhpc1tvLk0zLm5hbWVdPW8ubmFtZSk6by5NMy5uYW1lPT09ZSYmKHRoaXNbby5NMy5uYW1lXT1udWxsKSksdGhpc30sYS5tND1hLnNldCxhLmdldD1mdW5jdGlvbihlLGkpe2lmKGkpcmV0dXJuIHRoaXNbZV07dmFyIG49ci5nNFtlXTtpZighKG4mJm4gaW5zdGFuY2VvZiB0LkgzLkpkLkszKSl0aHJvdyBFcnJvcih0aGlzK1wiI1wiK2UrXCIgaXMgbm90IGEgZmllbGQ6IHVuZGVmaW5lZFwiKTtpZighKG4gaW5zdGFuY2VvZiB0LkgzLkpkLkszKSl0aHJvdyBFcnJvcih0aGlzK1wiI1wiK2UrXCIgaXMgbm90IGEgZmllbGQ6IFwiK24udG9TdHJpbmcoITApKTtyZXR1cm4gdGhpc1tuLm5hbWVdfSxhLlM0PWEuZ2V0O2Zvcih2YXIgaD0wO2g8bi5sZW5ndGg7aCsrKXt2YXIgYz1uW2hdO2MgaW5zdGFuY2VvZiB0LkgzLkpkLlI0fHxyLngzLm9wdGlvbnMuUzImJmZ1bmN0aW9uKGUpe3ZhciB0PWUuWTMucmVwbGFjZSgvKF9bYS16QS1aXSkvZyxmdW5jdGlvbihlKXtyZXR1cm4gZS50b1VwcGVyQ2FzZSgpLnJlcGxhY2UoXCJfXCIsXCJcIil9KTt0PXQuc3Vic3RyaW5nKDAsMSkudG9VcHBlckNhc2UoKSt0LnN1YnN0cmluZygxKTt2YXIgaT1lLlkzLnJlcGxhY2UoLyhbQS1aXSkvZyxmdW5jdGlvbihlKXtyZXR1cm5cIl9cIitlfSksbj1mdW5jdGlvbih0LHIpe3JldHVybiB0aGlzW2UubmFtZV09cj90OmUucjQodCksdGhpc30scz1mdW5jdGlvbigpe3JldHVybiB0aGlzW2UubmFtZV19O251bGw9PT1yLlEzKFwic2V0XCIrdCkmJihhW1wic2V0XCIrdF09biksbnVsbD09PXIuUTMoXCJzZXRfXCIraSkmJihhW1wic2V0X1wiK2ldPW4pLG51bGw9PT1yLlEzKFwiZ2V0XCIrdCkmJihhW1wiZ2V0XCIrdF09cyksbnVsbD09PXIuUTMoXCJnZXRfXCIraSkmJihhW1wiZ2V0X1wiK2ldPXMpfShjKX1hLmVuY29kZT1mdW5jdGlvbih0LGkpe1wiYm9vbGVhblwiPT10eXBlb2YgdCYmKGk9dCx0PXZvaWQgMCk7dmFyIG49ITE7dHx8KHQ9bmV3IGUsbj0hMCk7dmFyIHM9dC5VXzt0cnl7cmV0dXJuIHIuZW5jb2RlKHRoaXMsdC5sQSgpLGkpLChuP3QueGcoKTp0KS5sQShzKX1jYXRjaChlKXt0aHJvdyB0LmxBKHMpLGV9fSxhLmg0PWZ1bmN0aW9uKCl7cmV0dXJuIHIuaDQodGhpcyl9LGEudzQ9ZnVuY3Rpb24odCl7dmFyIGk9ITE7dHx8KHQ9bmV3IGUsaT0hMCk7dmFyIG49KG5ldyBlKS5sQSgpO3JldHVybiByLmVuY29kZSh0aGlzLG4pLnhnKCksdC5DUChuLnZBKCkpLHQuYXBwZW5kKG4pLGk/dC54ZygpOnR9LGEuYjQ9ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIHRoaXMuZW5jb2RlKCkudGMoKX1jYXRjaChlKXt0aHJvdyBlLkM0JiYoZS5DND1lLkM0LnRjKCkpLGV9fSxhLnRjPWEuYjQsYS5fND1mdW5jdGlvbigpe3RyeXtyZXR1cm4gdGhpcy5lbmNvZGUoKS55QSgpfWNhdGNoKGUpe3Rocm93IGUuQzQmJihlLkM0PWUuQzQueUEoKSksZX19LGEueUE9YS5fNCxhLlA0PWZ1bmN0aW9uKCl7dHJ5e3JldHVybiB0aGlzLmVuY29kZSgpLm1BKCl9Y2F0Y2goZSl7dGhyb3cgZS5DNCYmKGUuQzQ9ZS5DNC5tQSgpKSxlfX0sYS5tQT1hLlA0LGEuQTQ9ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIHRoaXMuZW5jb2RlKCkuSUEoKX1jYXRjaChlKXt0aHJvdyBlLkM0JiYoZS5DND1lLkM0LklBKCkpLGV9fSxhLklBPWEuQTQsYS5PND1mdW5jdGlvbihlLHIpe3JldHVybiBpKHRoaXMsISFlLCEhcix0LmcyLm1lc3NhZ2UsdGhpcy55NCl9LGEuTjQ9ZnVuY3Rpb24oKXtyZXR1cm4gSlNPTi5zdHJpbmdpZnkoaSh0aGlzLCEwLCEwLHQuZzIubWVzc2FnZSx0aGlzLnk0KSl9LG8uZGVjb2RlPWZ1bmN0aW9uKHQsaSl7XCJzdHJpbmdcIj09dHlwZW9mIHQmJih0PWUud3JhcCh0LGl8fFwiYmFzZTY0XCIpKSx0PXQgaW5zdGFuY2VvZiBlP3Q6ZS53cmFwKHQpO3ZhciBuPXQuVV87dHJ5e3ZhciBzPXIuZGVjb2RlKHQubEEoKSk7cmV0dXJuIHQubEEobiksc31jYXRjaChlKXt0aHJvdyB0LmxBKG4pLGV9fSxvLkQ0PWZ1bmN0aW9uKHQsaSl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQmJih0PWUud3JhcCh0LGl8fFwiYmFzZTY0XCIpKSx0PXQgaW5zdGFuY2VvZiBlP3Q6ZS53cmFwKHQpLHQudkEoKTwxKXJldHVybiBudWxsO3ZhciBuPXQub2Zmc2V0LHM9dC5QUCgpO2lmKHQudkEoKTxzKXJldHVybiB0Lm9mZnNldD1uLG51bGw7dHJ5e3ZhciBvPXIuZGVjb2RlKHQuc2xpY2UodC5vZmZzZXQsdC5vZmZzZXQrcykubEEoKSk7cmV0dXJuIHQub2Zmc2V0Kz1zLG99Y2F0Y2goZSl7dGhyb3cgdC5vZmZzZXQrPXMsZX19LG8uTDQ9ZnVuY3Rpb24oZSl7cmV0dXJuIG8uZGVjb2RlKGUsXCJiYXNlNjRcIil9LG8uTTQ9ZnVuY3Rpb24oZSl7cmV0dXJuIG8uZGVjb2RlKGUsXCJoZXhcIil9LG8uRjQ9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBvKEpTT04ucGFyc2UoZSkpfSxhLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHIudG9TdHJpbmcoKX07cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSYmKE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLFwiJG9wdGlvbnNcIix7dmFsdWU6ci56MygpfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGEsXCIkb3B0aW9uc1wiLHt2YWx1ZTpvLlU0fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sXCIkdHlwZVwiLHt2YWx1ZTpyfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGEsXCIkdHlwZVwiLHt2YWx1ZTpyfSkpLG99KHQsdGhpcyk7dGhpcy5kND1bXSx0aGlzLmY0PXt9LHRoaXMuZzQ9e307Zm9yKHZhciBuLHM9MCxvPXRoaXMuY2hpbGRyZW4ubGVuZ3RoO3M8bztzKyspaWYoKG49dGhpcy5jaGlsZHJlbltzXSlpbnN0YW5jZW9mIHkpaVtuLm5hbWVdPW4uWGcoKTtlbHNlIGlmKG4gaW5zdGFuY2VvZiBwKWlbbi5uYW1lXT1uLlhnKCk7ZWxzZSBpZihuIGluc3RhbmNlb2YgcC5LMyluLlhnKCksdGhpcy5kNC5wdXNoKG4pLHRoaXMuZjRbbi5pZF09bix0aGlzLmc0W24ubmFtZV09bjtlbHNlIGlmKCEobiBpbnN0YW5jZW9mIHAuVDR8fG4gaW5zdGFuY2VvZiBtKSl0aHJvdyBFcnJvcihcIklsbGVnYWwgcmVmbGVjdCBjaGlsZCBvZiBcIit0aGlzLnRvU3RyaW5nKCEwKStcIjogXCIrY2hpbGRyZW5bc10udG9TdHJpbmcoITApKTtyZXR1cm4gdGhpcy5zND1pfSxkLmVuY29kZT1mdW5jdGlvbihlLHQscil7Zm9yKHZhciBpLG4scz1udWxsLG89MCxhPXRoaXMuZDQubGVuZ3RoO288YTsrK28paT10aGlzLmQ0W29dLG49ZVtpLm5hbWVdLGkucmVxdWlyZWQmJm51bGw9PT1uP251bGw9PT1zJiYocz1pKTppLmVuY29kZShyP246aS5yNChuKSx0KTtpZihudWxsIT09cyl7dmFyIGg9RXJyb3IoXCJNaXNzaW5nIGF0IGxlYXN0IG9uZSByZXF1aXJlZCBmaWVsZCBmb3IgXCIrdGhpcy50b1N0cmluZyghMCkrXCI6IFwiK3MpO3Rocm93IGguQzQ9dCxofXJldHVybiB0fSxkLmg0PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxyLGk9MCxuPTAscz10aGlzLmQ0Lmxlbmd0aDtuPHM7KytuKXtpZih0PXRoaXMuZDRbbl0scj1lW3QubmFtZV0sdC5yZXF1aXJlZCYmbnVsbD09PXIpdGhyb3cgRXJyb3IoXCJNaXNzaW5nIGF0IGxlYXN0IG9uZSByZXF1aXJlZCBmaWVsZCBmb3IgXCIrdGhpcy50b1N0cmluZyghMCkrXCI6IFwiK3QpO2krPXQuaDQocil9cmV0dXJuIGl9LGQuZGVjb2RlPWZ1bmN0aW9uKGUscixpKXtyPVwibnVtYmVyXCI9PXR5cGVvZiByP3I6LTE7Zm9yKHZhciBzLG8sYSxoLGM9ZS5vZmZzZXQsdT1uZXcgdGhpcy5zNDtlLm9mZnNldDxjK3J8fC0xPT09ciYmZS52QSgpPjA7KXtpZihzPWUuUFAoKSxvPTcmcyxhPXM+Pj4zLG89PT10Lm8yLmwyKXtpZihhIT09aSl0aHJvdyBFcnJvcihcIklsbGVnYWwgZ3JvdXAgZW5kIGluZGljYXRvciBmb3IgXCIrdGhpcy50b1N0cmluZyghMCkrXCI6IFwiK2ErXCIgKFwiKyhpP2krXCIgZXhwZWN0ZWRcIjpcIm5vdCBhIGdyb3VwXCIpK1wiKVwiKTticmVha31pZihoPXRoaXMuZjRbYV0paWYoaC5yZXBlYXRlZCYmIWgub3B0aW9ucy5CNCl1W2gubmFtZV0ucHVzaChoLmRlY29kZShvLGUpKTtlbHNlIGlmKGgubWFwKXt2YXIgbD1oLmRlY29kZShvLGUpO3VbaC5uYW1lXS5zZXQobFswXSxsWzFdKX1lbHNlIHVbaC5uYW1lXT1oLmRlY29kZShvLGUpLGguTTMmJihudWxsIT09dGhpc1toLk0zLm5hbWVdJiYodGhpc1t0aGlzW2guTTMubmFtZV1dPW51bGwpLHVbaC5NMy5uYW1lXT1oLm5hbWUpO2Vsc2Ugc3dpdGNoKG8pe2Nhc2UgdC5vMi5hMjplLlBQKCk7YnJlYWs7Y2FzZSB0Lm8yLmQyOmUub2Zmc2V0Kz00O2JyZWFrO2Nhc2UgdC5vMi5oMjplLm9mZnNldCs9ODticmVhaztjYXNlIHQubzIuYzI6dmFyIHA9ZS5QUCgpO2Uub2Zmc2V0Kz1wO2JyZWFrO2Nhc2UgdC5vMi51Mjpmb3IoO24oYSxlKTspO2JyZWFrO2RlZmF1bHQ6dGhyb3cgRXJyb3IoXCJJbGxlZ2FsIHdpcmUgdHlwZSBmb3IgdW5rbm93biBmaWVsZCBcIithK1wiIGluIFwiK3RoaXMudG9TdHJpbmcoITApK1wiI2RlY29kZTogXCIrbyl9fWZvcih2YXIgZD0wLGY9dGhpcy5kNC5sZW5ndGg7ZDxmOysrZClpZihoPXRoaXMuZDRbZF0sbnVsbD09PXVbaC5uYW1lXSl7aWYoaC5yZXF1aXJlZCl7dmFyIGc9RXJyb3IoXCJNaXNzaW5nIGF0IGxlYXN0IG9uZSByZXF1aXJlZCBmaWVsZCBmb3IgXCIrdGhpcy50b1N0cmluZyghMCkrXCI6IFwiK2gubmFtZSk7dGhyb3cgZy5IND11LGd9dC5SMiYmbnVsbCE9PWguZGVmYXVsdFZhbHVlJiYodVtoLm5hbWVdPWguZGVmYXVsdFZhbHVlKX1yZXR1cm4gdX0scy5KZD1wO3ZhciBmPWZ1bmN0aW9uKGUsdCxyLGksbixzLGEsaCxjLHUpe28uY2FsbCh0aGlzLGUsdCxzKSx0aGlzLmNsYXNzTmFtZT1cIk1lc3NhZ2UuRmllbGRcIix0aGlzLnJlcXVpcmVkPVwicmVxdWlyZWRcIj09PXIsdGhpcy5yZXBlYXRlZD1cInJlcGVhdGVkXCI9PT1yLHRoaXMubWFwPVwibWFwXCI9PT1yLHRoaXMueDQ9aXx8bnVsbCx0aGlzLnR5cGU9bix0aGlzLlozPW51bGwsdGhpcy5pZD1hLHRoaXMub3B0aW9ucz1ofHx7fSx0aGlzLmRlZmF1bHRWYWx1ZT1udWxsLHRoaXMuTTM9Y3x8bnVsbCx0aGlzLnkzPXV8fFwicHJvdG8yXCIsdGhpcy5ZMz10aGlzLm5hbWUsdGhpcy5xND1udWxsLHRoaXMuRzQ9bnVsbCwhdGhpcy54My5vcHRpb25zLkkyfHx0aGlzIGluc3RhbmNlb2YgcC5SNHx8KHRoaXMubmFtZT1mLlY0KHRoaXMubmFtZSkpfTtmLlY0PWZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoL18oW2EtekEtWl0pL2csZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC50b1VwcGVyQ2FzZSgpfSl9O3ZhciBnPWYucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoby5wcm90b3R5cGUpO2cuWGc9ZnVuY3Rpb24oKXt0aGlzLnE0PW5ldyB1KHRoaXMudHlwZSx0aGlzLlozLCExLHRoaXMueTMpLHRoaXMubWFwJiYodGhpcy5HND1uZXcgdSh0aGlzLng0LHZvaWQgMCwhMCx0aGlzLnkzKSksdGhpcy5kZWZhdWx0VmFsdWU9dm9pZCAwIT09dGhpcy5vcHRpb25zLmRlZmF1bHQ/dGhpcy5yNCh0aGlzLm9wdGlvbnMuZGVmYXVsdCk6bnVsbCxcInByb3RvM1wiIT09dGhpcy55M3x8dGhpcy5yZXBlYXRlZHx8dGhpcy5tYXB8fCh0aGlzLmRlZmF1bHRWYWx1ZT10aGlzLnE0LnQ0KHRoaXMudHlwZSkpfSxnLnI0PWZ1bmN0aW9uKGUscil7cj1yfHwhMTt2YXIgaT1mdW5jdGlvbihlLHQpe3Rocm93IEVycm9yKFwiSWxsZWdhbCB2YWx1ZSBmb3IgXCIrdGhpcy50b1N0cmluZyghMCkrXCIgb2YgdHlwZSBcIit0aGlzLnR5cGUubmFtZStcIjogXCIrZStcIiAoXCIrdCtcIilcIil9LmJpbmQodGhpcyk7aWYobnVsbD09PWUpcmV0dXJuIHRoaXMucmVxdWlyZWQmJmkodHlwZW9mIGUsXCJyZXF1aXJlZFwiKSxcInByb3RvM1wiPT09dGhpcy55MyYmdGhpcy50eXBlIT09dC5nMi5tZXNzYWdlJiZpKHR5cGVvZiBlLFwicHJvdG8zIGZpZWxkIHdpdGhvdXQgZmllbGQgcHJlc2VuY2UgY2Fubm90IGJlIG51bGxcIiksbnVsbDt2YXIgbjtpZih0aGlzLnJlcGVhdGVkJiYhcil7dC5idi5pc0FycmF5KGUpfHwoZT1bZV0pO3ZhciBzPVtdO2ZvcihuPTA7bjxlLmxlbmd0aDtuKyspcy5wdXNoKHRoaXMucTQucjQoZVtuXSkpO3JldHVybiBzfXJldHVybiB0aGlzLm1hcCYmIXI/ZSBpbnN0YW5jZW9mIHQuTWFwP2U6KGUgaW5zdGFuY2VvZiBPYmplY3R8fGkodHlwZW9mIGUsXCJleHBlY3RlZCBQcm90b0J1Zi5NYXAgb3IgcmF3IG9iamVjdCBmb3IgbWFwIGZpZWxkXCIpLG5ldyB0Lk1hcCh0aGlzLGUpKTooIXRoaXMucmVwZWF0ZWQmJnQuYnYuaXNBcnJheShlKSYmaSh0eXBlb2YgZSxcIm5vIGFycmF5IGV4cGVjdGVkXCIpLHRoaXMucTQucjQoZSkpfSxnLmo0PWZ1bmN0aW9uKGUpe2lmKFwicHJvdG8zXCIhPT10aGlzLnkzKXJldHVybiBudWxsIT09ZTtzd2l0Y2godGhpcy50eXBlKXtjYXNlIHQuZzIuaW50MzI6Y2FzZSB0LmcyLnNpbnQzMjpjYXNlIHQuZzIuc2ZpeGVkMzI6Y2FzZSB0LmcyLnVpbnQzMjpjYXNlIHQuZzIuZml4ZWQzMjpyZXR1cm4gMCE9PWU7Y2FzZSB0LmcyLmludDY0OmNhc2UgdC5nMi5zaW50NjQ6Y2FzZSB0LmcyLnNmaXhlZDY0OmNhc2UgdC5nMi51aW50NjQ6Y2FzZSB0LmcyLmZpeGVkNjQ6cmV0dXJuIDAhPT1lLmxvd3x8MCE9PWUuaGlnaDtjYXNlIHQuZzIuYm9vbDpyZXR1cm4gZTtjYXNlIHQuZzIuZmxvYXQ6Y2FzZSB0LmcyLmRvdWJsZTpyZXR1cm4gMCE9PWU7Y2FzZSB0LmcyLnN0cmluZzpyZXR1cm4gZS5sZW5ndGg+MDtjYXNlIHQuZzIuYnl0ZXM6cmV0dXJuIGUudkEoKT4wO2Nhc2UgdC5nMi5lbnVtOnJldHVybiAwIT09ZTtjYXNlIHQuZzIubWVzc2FnZTpyZXR1cm4gbnVsbCE9PWU7ZGVmYXVsdDpyZXR1cm4hMH19LGcuZW5jb2RlPWZ1bmN0aW9uKHIsaSl7aWYobnVsbD09PXRoaXMudHlwZXx8XCJvYmplY3RcIiE9dHlwZW9mIHRoaXMudHlwZSl0aHJvdyBFcnJvcihcIltJTlRFUk5BTF0gVW5yZXNvbHZlZCB0eXBlIGluIFwiK3RoaXMudG9TdHJpbmcoITApK1wiOiBcIit0aGlzLnR5cGUpO2lmKG51bGw9PT1yfHx0aGlzLnJlcGVhdGVkJiYwPT1yLmxlbmd0aClyZXR1cm4gaTt0cnl7aWYodGhpcy5yZXBlYXRlZCl7dmFyIG47aWYodGhpcy5vcHRpb25zLkI0JiZ0LmYyLmluZGV4T2YodGhpcy50eXBlLkUyKT49MCl7aS5DUCh0aGlzLmlkPDwzfHQubzIuYzIpLGkudUEoaS5vZmZzZXQrPTEpO3ZhciBzPWkub2Zmc2V0O2ZvcihuPTA7bjxyLmxlbmd0aDtuKyspdGhpcy5xNC5jNCh0aGlzLmlkLHJbbl0saSk7dmFyIG89aS5vZmZzZXQtcyxhPWUuUlAobyk7aWYoYT4xKXt2YXIgaD1pLnNsaWNlKHMsaS5vZmZzZXQpO3MrPWEtMSxpLm9mZnNldD1zLGkuYXBwZW5kKGgpfWkuQ1AobyxzLWEpfWVsc2UgZm9yKG49MDtuPHIubGVuZ3RoO24rKylpLkNQKHRoaXMuaWQ8PDN8dGhpcy50eXBlLkUyKSx0aGlzLnE0LmM0KHRoaXMuaWQscltuXSxpKX1lbHNlIHRoaXMubWFwP3IuZm9yRWFjaChmdW5jdGlvbihyLG4scyl7dmFyIG89ZS5SUCg4fHRoaXMueDQuRTIpK3RoaXMuRzQuYTQoMSxuKStlLlJQKDE2fHRoaXMudHlwZS5FMikrdGhpcy5xNC5hNCgyLHIpO2kuQ1AodGhpcy5pZDw8M3x0Lm8yLmMyKSxpLkNQKG8pLGkuQ1AoOHx0aGlzLng0LkUyKSx0aGlzLkc0LmM0KDEsbixpKSxpLkNQKDE2fHRoaXMudHlwZS5FMiksdGhpcy5xNC5jNCgyLHIsaSl9LHRoaXMpOnRoaXMuajQocikmJihpLkNQKHRoaXMuaWQ8PDN8dGhpcy50eXBlLkUyKSx0aGlzLnE0LmM0KHRoaXMuaWQscixpKSl9Y2F0Y2goZSl7dGhyb3cgRXJyb3IoXCJJbGxlZ2FsIHZhbHVlIGZvciBcIit0aGlzLnRvU3RyaW5nKCEwKStcIjogXCIrcitcIiAoXCIrZStcIilcIil9cmV0dXJuIGl9LGcuaDQ9ZnVuY3Rpb24ocil7aWYocj10aGlzLnI0KHIpLG51bGw9PT10aGlzLnR5cGV8fFwib2JqZWN0XCIhPXR5cGVvZiB0aGlzLnR5cGUpdGhyb3cgRXJyb3IoXCJbSU5URVJOQUxdIFVucmVzb2x2ZWQgdHlwZSBpbiBcIit0aGlzLnRvU3RyaW5nKCEwKStcIjogXCIrdGhpcy50eXBlKTtpZihudWxsPT09cnx8dGhpcy5yZXBlYXRlZCYmMD09ci5sZW5ndGgpcmV0dXJuIDA7dmFyIGk9MDt0cnl7aWYodGhpcy5yZXBlYXRlZCl7dmFyIG4scztpZih0aGlzLm9wdGlvbnMuQjQmJnQuZjIuaW5kZXhPZih0aGlzLnR5cGUuRTIpPj0wKXtmb3IoaSs9ZS5SUCh0aGlzLmlkPDwzfHQubzIuYzIpLHM9MCxuPTA7bjxyLmxlbmd0aDtuKyspcys9dGhpcy5xNC5hNCh0aGlzLmlkLHJbbl0pO2krPWUuUlAocyksaSs9c31lbHNlIGZvcihuPTA7bjxyLmxlbmd0aDtuKyspaSs9ZS5SUCh0aGlzLmlkPDwzfHRoaXMudHlwZS5FMiksaSs9dGhpcy5xNC5hNCh0aGlzLmlkLHJbbl0pfWVsc2UgdGhpcy5tYXA/ci5mb3JFYWNoKGZ1bmN0aW9uKHIsbixzKXt2YXIgbz1lLlJQKDh8dGhpcy54NC5FMikrdGhpcy5HNC5hNCgxLG4pK2UuUlAoMTZ8dGhpcy50eXBlLkUyKSt0aGlzLnE0LmE0KDIscik7aSs9ZS5SUCh0aGlzLmlkPDwzfHQubzIuYzIpLGkrPWUuUlAobyksaSs9b30sdGhpcyk6dGhpcy5qNChyKSYmKGkrPWUuUlAodGhpcy5pZDw8M3x0aGlzLnR5cGUuRTIpLGkrPXRoaXMucTQuYTQodGhpcy5pZCxyKSl9Y2F0Y2goZSl7dGhyb3cgRXJyb3IoXCJJbGxlZ2FsIHZhbHVlIGZvciBcIit0aGlzLnRvU3RyaW5nKCEwKStcIjogXCIrcitcIiAoXCIrZStcIilcIil9cmV0dXJuIGl9LGcuZGVjb2RlPWZ1bmN0aW9uKGUscixpKXt2YXIgbixzO2lmKCEoIXRoaXMubWFwJiZlPT10aGlzLnR5cGUuRTJ8fCFpJiZ0aGlzLnJlcGVhdGVkJiZ0aGlzLm9wdGlvbnMuQjQmJmU9PXQubzIuYzJ8fHRoaXMubWFwJiZlPT10Lm8yLmMyKSl0aHJvdyBFcnJvcihcIklsbGVnYWwgd2lyZSB0eXBlIGZvciBmaWVsZCBcIit0aGlzLnRvU3RyaW5nKCEwKStcIjogXCIrZStcIiAoXCIrdGhpcy50eXBlLkUyK1wiIGV4cGVjdGVkKVwiKTtpZihlPT10Lm8yLmMyJiZ0aGlzLnJlcGVhdGVkJiZ0aGlzLm9wdGlvbnMuQjQmJnQuZjIuaW5kZXhPZih0aGlzLnR5cGUuRTIpPj0wJiYhaSl7cz1yLlBQKCkscz1yLm9mZnNldCtzO2Zvcih2YXIgbz1bXTtyLm9mZnNldDxzOylvLnB1c2godGhpcy5kZWNvZGUodGhpcy50eXBlLkUyLHIsITApKTtyZXR1cm4gb31pZih0aGlzLm1hcCl7dmFyIGE9dGhpcy5HNC50NCh0aGlzLng0KTtpZihuPXRoaXMucTQudDQodGhpcy50eXBlKSxzPXIuUFAoKSxyLnZBKCk8cyl0aHJvdyBFcnJvcihcIklsbGVnYWwgbnVtYmVyIG9mIGJ5dGVzIGZvciBcIit0aGlzLnRvU3RyaW5nKCEwKStcIjogXCIrcytcIiByZXF1aXJlZCBidXQgZ290IG9ubHkgXCIrci52QSgpKTt2YXIgaD1yLmNsb25lKCk7Zm9yKGguRl89aC5vZmZzZXQrcyxyLm9mZnNldCs9cztoLnZBKCk+MDspe3ZhciBjPWguUFAoKTtlPTcmYzt2YXIgdT1jPj4+MztpZigxPT09dSlhPXRoaXMuRzQuZGVjb2RlKGgsZSx1KTtlbHNle2lmKDIhPT11KXRocm93IEVycm9yKFwiVW5leHBlY3RlZCB0YWcgaW4gbWFwIGZpZWxkIGtleS92YWx1ZSBzdWJtZXNzYWdlXCIpO249dGhpcy5xNC5kZWNvZGUoaCxlLHUpfX1yZXR1cm5bYSxuXX1yZXR1cm4gdGhpcy5xNC5kZWNvZGUocixlLHRoaXMuaWQpfSxzLkpkLkszPWY7dmFyIEU9ZnVuY3Rpb24oZSx0LHIsaSxuLHMsbyl7Zi5jYWxsKHRoaXMsZSx0LHIsbnVsbCxpLG4scyxvKSx0aGlzLlE0fTtFLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGYucHJvdG90eXBlKSxzLkpkLlI0PUU7dmFyIHY9ZnVuY3Rpb24oZSx0LHIpe28uY2FsbCh0aGlzLGUsdCxyKSx0aGlzLmZpZWxkcz1bXX07cy5KZC5UND12O3ZhciB5PWZ1bmN0aW9uKGUsdCxyLGksbil7aC5jYWxsKHRoaXMsZSx0LHIsaSxuKSx0aGlzLmNsYXNzTmFtZT1cIkVudW1cIix0aGlzLm9iamVjdD1udWxsfTsoeS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShoLnByb3RvdHlwZSkpLlhnPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPXt9LHQ9dGhpcy5WMyh5Lmk0KSxyPTAsaT10Lmxlbmd0aDtyPGk7KytyKWVbdFtyXS5uYW1lXT10W3JdLmlkO3JldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiJG9wdGlvbnNcIix7dmFsdWU6dGhpcy56MygpfSksdGhpcy5vYmplY3Q9ZX0scy5uND15O3ZhciBUPWZ1bmN0aW9uKGUsdCxyLGkpe28uY2FsbCh0aGlzLGUsdCxyKSx0aGlzLmNsYXNzTmFtZT1cIkVudW0uVmFsdWVcIix0aGlzLmlkPWl9O1QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoby5wcm90b3R5cGUpLHMubjQuaTQ9VDt2YXIgbT1mdW5jdGlvbihlLHQscixpKXtvLmNhbGwodGhpcyxlLHQsciksdGhpcy5LND1pfTttLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG8ucHJvdG90eXBlKSxzLlk0PW07dmFyIEk9ZnVuY3Rpb24oZSx0LHIsaSl7aC5jYWxsKHRoaXMsZSx0LHIsaSksdGhpcy5jbGFzc05hbWU9XCJTZXJ2aWNlXCIsdGhpcy5zND1udWxsfTsoSS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShoLnByb3RvdHlwZSkpLlhnPWZ1bmN0aW9uKHIpe3JldHVybiB0aGlzLnM0JiYhcj90aGlzLnM0OnRoaXMuczQ9ZnVuY3Rpb24odCxyKXtmb3IodmFyIGk9ZnVuY3Rpb24oZSl7dC5vNC5XNC5jYWxsKHRoaXMpLHRoaXMuejQ9ZXx8ZnVuY3Rpb24oZSx0LHIpe3NldFRpbWVvdXQoci5iaW5kKHRoaXMsRXJyb3IoXCJOb3QgaW1wbGVtZW50ZWQsIHNlZTogaHR0cHM6Ly9naXRodWIuY29tL2Rjb2RlSU8vUHJvdG9CdWYuanMvd2lraS9TZXJ2aWNlc1wiKSksMCl9fSxuPWkucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodC5vNC5XNC5wcm90b3R5cGUpLHM9ci5WMyh0LkgzLlc0Lko0KSxvPTA7bzxzLmxlbmd0aDtvKyspIWZ1bmN0aW9uKHQpe25bdC5uYW1lXT1mdW5jdGlvbihpLG4pe3RyeXt0cnl7aT10Llg0LnM0LmRlY29kZShlLndyYXAoaSkpfWNhdGNoKGUpe2lmKCEoZSBpbnN0YW5jZW9mIFR5cGVFcnJvcikpdGhyb3cgZX1pZighKGkmJmkgaW5zdGFuY2VvZiB0Llg0LnM0KSlyZXR1cm4gdm9pZCBzZXRUaW1lb3V0KG4uYmluZCh0aGlzLEVycm9yKFwiSWxsZWdhbCByZXF1ZXN0IHR5cGUgcHJvdmlkZWQgdG8gc2VydmljZSBtZXRob2QgXCIrci5uYW1lK1wiI1wiK3QubmFtZSkpLDApO3RoaXMuejQodC5xMygpLGksZnVuY3Rpb24oZSxpKXtpZihlKXJldHVybiB2b2lkIG4oZSk7dHJ5e2k9dC5aNC5zNC5kZWNvZGUoaSl9Y2F0Y2goZSl7fWlmKCEoaSYmaSBpbnN0YW5jZW9mIHQuWjQuczQpKXJldHVybiB2b2lkIG4oRXJyb3IoXCJJbGxlZ2FsIHJlc3BvbnNlIHR5cGUgcmVjZWl2ZWQgaW4gc2VydmljZSBtZXRob2QgXCIrci5uYW1lK1wiI1wiK3QubmFtZSkpO24obnVsbCxpKX0pfWNhdGNoKGUpe3NldFRpbWVvdXQobi5iaW5kKHRoaXMsZSksMCl9fSxpW3QubmFtZV09ZnVuY3Rpb24oZSxyLG4pe25ldyBpKGUpW3QubmFtZV0ocixuKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5JiYoT2JqZWN0LmRlZmluZVByb3BlcnR5KGlbdC5uYW1lXSxcIiRvcHRpb25zXCIse3ZhbHVlOnQuejMoKX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuW3QubmFtZV0sXCIkb3B0aW9uc1wiLHt2YWx1ZTppW3QubmFtZV0uVTR9KSl9KHNbb10pO3JldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkmJihPYmplY3QuZGVmaW5lUHJvcGVydHkoaSxcIiRvcHRpb25zXCIse3ZhbHVlOnIuejMoKX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLFwiJG9wdGlvbnNcIix7dmFsdWU6aS5VNH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLFwiJHR5cGVcIix7dmFsdWU6cn0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLFwiJHR5cGVcIix7dmFsdWU6cn0pKSxpfSh0LHRoaXMpfSxzLlc0PUk7dmFyIFM9ZnVuY3Rpb24oZSx0LHIsaSl7by5jYWxsKHRoaXMsZSx0LHIpLHRoaXMuY2xhc3NOYW1lPVwiU2VydmljZS5NZXRob2RcIix0aGlzLm9wdGlvbnM9aXx8e319OyhTLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG8ucHJvdG90eXBlKSkuejM9Yy56MyxzLlc0LmU2PVM7dmFyIFI9ZnVuY3Rpb24oZSx0LHIsaSxuLHMsbyxhKXtTLmNhbGwodGhpcyxlLHQscixhKSx0aGlzLmNsYXNzTmFtZT1cIlNlcnZpY2UuUlBDTWV0aG9kXCIsdGhpcy50Nj1pLHRoaXMucjY9bix0aGlzLmk2PXMsdGhpcy5uNj1vLHRoaXMuWDQ9bnVsbCx0aGlzLlo0PW51bGx9O3JldHVybiBSLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKFMucHJvdG90eXBlKSxzLlc0Lko0PVIsc30odCksdC5vND1mdW5jdGlvbihlLHQsaSl7ZnVuY3Rpb24gbihlLHQpe3QueTM9ZSx0Lm1lc3NhZ2VzJiZ0Lm1lc3NhZ2VzLmZvckVhY2goZnVuY3Rpb24odCl7bihlLHQpfSksdC5jMyYmdC5jMy5mb3JFYWNoKGZ1bmN0aW9uKHQpe24oZSx0KX0pfXZhciBzPWZ1bmN0aW9uKGUpe3RoaXMuczY9bmV3IGkuWDModGhpcyxudWxsLFwiXCIpLHRoaXMubzY9dGhpcy5zNix0aGlzLmE2PSExLHRoaXMucmVzdWx0PW51bGwsdGhpcy5maWxlcz17fSx0aGlzLmg2PW51bGwsdGhpcy5vcHRpb25zPWV8fHt9LHRoaXMueTM9XCJwcm90bzNcIj09PXRoaXMub3B0aW9ucy55Mz9cInByb3RvM1wiOlwicHJvdG8yXCJ9LG89cy5wcm90b3R5cGU7cmV0dXJuIG8ucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLm82PXRoaXMuczZ9LG8uYzY9ZnVuY3Rpb24oZSl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGV8fCF0LlkyLnRlc3QoZSkpdGhyb3cgRXJyb3IoXCJJbGxlZ2FsIHBhY2thZ2U6IFwiK2UpO3ZhciByLG4scz1lLnNwbGl0KFwiLlwiKTtmb3Iocj0wO3I8cy5sZW5ndGg7cisrKWlmKCF0LnpPLnRlc3Qoc1tyXSkpdGhyb3cgRXJyb3IoXCJJbGxlZ2FsIHBhY2thZ2U6IFwiK3Nbcl0pO2ZvcihyPTA7cjxzLmxlbmd0aDtyKyspbj10aGlzLm82LlEzKHNbcl0pLG51bGw9PT1uJiZ0aGlzLm82LmozKG49bmV3IGkuWDModGhpcyx0aGlzLm82LHNbcl0pKSx0aGlzLm82PW47cmV0dXJuIHRoaXN9LHMudTY9ZnVuY3Rpb24ocil7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIHIubmFtZXx8IXQuek8udGVzdChyLm5hbWUpKXJldHVybiExO2lmKHZvaWQgMCE9PXIudmFsdWVzfHx2b2lkIDAhPT1yLnczKXJldHVybiExO3ZhciBpO2lmKHZvaWQgMCE9PXIuZmllbGRzKXtpZighZS5idi5pc0FycmF5KHIuZmllbGRzKSlyZXR1cm4hMTt2YXIgbixvPVtdO2ZvcihpPTA7aTxyLmZpZWxkcy5sZW5ndGg7aSsrKXtpZighcy5sNihyLmZpZWxkc1tpXSkpcmV0dXJuITE7aWYobj1wYXJzZUludChyLmZpZWxkc1tpXS5pZCwxMCksby5pbmRleE9mKG4pPj0wKXJldHVybiExO28ucHVzaChuKX1vPW51bGx9aWYodm9pZCAwIT09ci5jMyl7aWYoIWUuYnYuaXNBcnJheShyLmMzKSlyZXR1cm4hMTtmb3IoaT0wO2k8ci5jMy5sZW5ndGg7aSsrKWlmKCFzLnA2KHIuYzNbaV0pKXJldHVybiExfWlmKHZvaWQgMCE9PXIubWVzc2FnZXMpe2lmKCFlLmJ2LmlzQXJyYXkoci5tZXNzYWdlcykpcmV0dXJuITE7Zm9yKGk9MDtpPHIubWVzc2FnZXMubGVuZ3RoO2krKylpZighcy51NihyLm1lc3NhZ2VzW2ldKSYmIXMuZDYoci5tZXNzYWdlc1tpXSkpcmV0dXJuITF9aWYodm9pZCAwIT09ci5leHRlbnNpb25zJiYoIWUuYnYuaXNBcnJheShyLmV4dGVuc2lvbnMpfHwyIT09ci5leHRlbnNpb25zLmxlbmd0aHx8XCJudW1iZXJcIiE9dHlwZW9mIHIuZXh0ZW5zaW9uc1swXXx8XCJudW1iZXJcIiE9dHlwZW9mIHIuZXh0ZW5zaW9uc1sxXSkpcmV0dXJuITE7aWYoXCJwcm90bzNcIj09PXIueTMpe2ZvcihpPTA7aTxyLmZpZWxkcy5sZW5ndGg7aSsrKXt2YXIgYT1yLmZpZWxkc1tpXTtpZihcInJlcXVpcmVkXCI9PT1hLnJ1bGUpcmV0dXJuITE7aWYoYS5kZWZhdWx0KXJldHVybiExO2lmKGEub3B0aW9ucylmb3IodmFyIGg9T2JqZWN0LmtleXMoYS5vcHRpb25zKSxjPTA7YzxoLmxlbmd0aDtjKyspaWYoXCJkZWZhdWx0XCI9PT1oW2NdKXJldHVybiExfWlmKHIuZXh0ZW5zaW9ucylyZXR1cm4hMX1yZXR1cm4hMH0scy5sNj1mdW5jdGlvbihlKXtpZihcInN0cmluZ1wiIT10eXBlb2YgZS5ydWxlfHxcInN0cmluZ1wiIT10eXBlb2YgZS5uYW1lfHxcInN0cmluZ1wiIT10eXBlb2YgZS50eXBlfHx2b2lkIDA9PT1lLmlkKXJldHVybiExO2lmKCEodC5RMi50ZXN0KGUucnVsZSkmJnQuek8udGVzdChlLm5hbWUpJiZ0LlkyLnRlc3QoZS50eXBlKSYmdC50My50ZXN0KFwiXCIrZS5pZCkpKXJldHVybiExO2lmKHZvaWQgMCE9PWUub3B0aW9ucyl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUub3B0aW9ucylyZXR1cm4hMTtmb3IodmFyIHIsaT1PYmplY3Qua2V5cyhlLm9wdGlvbnMpLG49MDtuPGkubGVuZ3RoO24rKylpZihcInN0cmluZ1wiIT10eXBlb2Yocj1pW25dKXx8XCJzdHJpbmdcIiE9dHlwZW9mIGUub3B0aW9uc1tyXSYmXCJudW1iZXJcIiE9dHlwZW9mIGUub3B0aW9uc1tyXSYmXCJib29sZWFuXCIhPXR5cGVvZiBlLm9wdGlvbnNbcl0pcmV0dXJuITF9cmV0dXJuITB9LHMucDY9ZnVuY3Rpb24ocil7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIHIubmFtZXx8IXQuek8udGVzdChyLm5hbWUpKXJldHVybiExO2lmKHZvaWQgMD09PXIudmFsdWVzfHwhZS5idi5pc0FycmF5KHIudmFsdWVzKXx8MD09ci52YWx1ZXMubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgaT0wO2k8ci52YWx1ZXMubGVuZ3RoO2krKyl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIHIudmFsdWVzW2ldKXJldHVybiExO2lmKFwic3RyaW5nXCIhPXR5cGVvZiByLnZhbHVlc1tpXS5uYW1lfHx2b2lkIDA9PT1yLnZhbHVlc1tpXS5pZClyZXR1cm4hMTtpZighdC56Ty50ZXN0KHIudmFsdWVzW2ldLm5hbWUpfHwhdC5yMy50ZXN0KFwiXCIrci52YWx1ZXNbaV0uaWQpKXJldHVybiExfXJldHVyblwicHJvdG8zXCIhPT1yLnkzfHwwPT09ci52YWx1ZXNbMF0uaWR9LG8uY3JlYXRlPWZ1bmN0aW9uKHQpe2lmKCF0KXJldHVybiB0aGlzO2lmKGUuYnYuaXNBcnJheSh0KXx8KHQ9W3RdKSwwPT09dC5sZW5ndGgpcmV0dXJuIHRoaXM7dmFyIHI9W107Zm9yKHIucHVzaCh0KTtyLmxlbmd0aD4wOyl7aWYodD1yLnBvcCgpLCFlLmJ2LmlzQXJyYXkodCkpdGhyb3cgRXJyb3IoXCJOb3QgYSB2YWxpZCBuYW1lc3BhY2U6IFwiK0pTT04uc3RyaW5naWZ5KHQpKTtmb3IoO3QubGVuZ3RoPjA7KXt2YXIgbj10LnNoaWZ0KCk7aWYocy51NihuKSl7dmFyIG89bmV3IGkuSmQodGhpcyx0aGlzLm82LG4ubmFtZSxuLm9wdGlvbnMsbi5QMyxuLnkzKSxhPXt9O2lmKG4uQTMpZm9yKHZhciBoPU9iamVjdC5rZXlzKG4uQTMpLGM9MCx1PWgubGVuZ3RoO2M8dTsrK2Mpby5qMyhhW2hbY11dPW5ldyBpLkpkLlQ0KHRoaXMsbyxoW2NdKSk7aWYobi5maWVsZHMmJm4uZmllbGRzLmxlbmd0aD4wKWZvcihjPTAsdT1uLmZpZWxkcy5sZW5ndGg7Yzx1OysrYyl7dmFyIGw9bi5maWVsZHNbY107aWYobnVsbCE9PW8uUTMobC5pZCkpdGhyb3cgRXJyb3IoXCJEdXBsaWNhdGUgZmllbGQgaWQgaW4gbWVzc2FnZSBcIitvLm5hbWUrXCI6IFwiK2wuaWQpO2lmKGwub3B0aW9ucylmb3IodmFyIHA9T2JqZWN0LmtleXMobC5vcHRpb25zKSxkPTAsZj1wLmxlbmd0aDtkPGY7KytkKXtpZihcInN0cmluZ1wiIT10eXBlb2YgcFtkXSl0aHJvdyBFcnJvcihcIklsbGVnYWwgZmllbGQgb3B0aW9uIG5hbWUgaW4gbWVzc2FnZSBcIitvLm5hbWUrXCIjXCIrbC5uYW1lK1wiOiBcIitwW2RdKTtpZihcInN0cmluZ1wiIT10eXBlb2YgbC5vcHRpb25zW3BbZF1dJiZcIm51bWJlclwiIT10eXBlb2YgbC5vcHRpb25zW3BbZF1dJiZcImJvb2xlYW5cIiE9dHlwZW9mIGwub3B0aW9uc1twW2RdXSl0aHJvdyBFcnJvcihcIklsbGVnYWwgZmllbGQgb3B0aW9uIHZhbHVlIGluIG1lc3NhZ2UgXCIrby5uYW1lK1wiI1wiK2wubmFtZStcIiNcIitwW2RdK1wiOiBcIitsLm9wdGlvbnNbcFtkXV0pfXZhciBnPW51bGw7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGwuTTMmJnZvaWQgMD09PShnPWFbbC5NM10pKXRocm93IEVycm9yKFwiSWxsZWdhbCBvbmVvZiBpbiBtZXNzYWdlIFwiK28ubmFtZStcIiNcIitsLm5hbWUrXCI6IFwiK2wuTTMpO2w9bmV3IGkuSmQuSzModGhpcyxvLGwucnVsZSxsLmtleXR5cGUsbC50eXBlLGwubmFtZSxsLmlkLGwub3B0aW9ucyxnLG4ueTMpLGcmJmcuZmllbGRzLnB1c2gobCksby5qMyhsKX12YXIgRT1bXTtpZih2b2lkIDAhPT1uLmMzJiZuLmMzLmxlbmd0aD4wKWZvcihjPTA7YzxuLmMzLmxlbmd0aDtjKyspRS5wdXNoKG4uYzNbY10pO2lmKG4ubWVzc2FnZXMmJm4ubWVzc2FnZXMubGVuZ3RoPjApZm9yKGM9MDtjPG4ubWVzc2FnZXMubGVuZ3RoO2MrKylFLnB1c2gobi5tZXNzYWdlc1tjXSk7aWYobi5leHRlbnNpb25zJiYoby5leHRlbnNpb25zPW4uZXh0ZW5zaW9ucyxvLmV4dGVuc2lvbnNbMF08ZS5UMiYmKG8uZXh0ZW5zaW9uc1swXT1lLlQyKSxvLmV4dGVuc2lvbnNbMV0+ZS5tMiYmKG8uZXh0ZW5zaW9uc1sxXT1lLm0yKSksdGhpcy5vNi5qMyhvKSxFLmxlbmd0aD4wKXtyLnB1c2godCksdD1FLEU9bnVsbCx0aGlzLm82PW8sbz1udWxsO2NvbnRpbnVlfUU9bnVsbCxvPW51bGx9ZWxzZSBpZihzLnA2KG4pKXtmb3Iobz1uZXcgaS5uNCh0aGlzLHRoaXMubzYsbi5uYW1lLG4ub3B0aW9ucyxuLnkzKSxjPTA7YzxuLnZhbHVlcy5sZW5ndGg7YysrKW8uajMobmV3IGkubjQuaTQodGhpcyxvLG4udmFsdWVzW2NdLm5hbWUsbi52YWx1ZXNbY10uaWQpKTt0aGlzLm82LmozKG8pLG89bnVsbH1lbHNlIGlmKHMuZjYobikpe289bmV3IGkuVzQodGhpcyx0aGlzLm82LG4ubmFtZSxuLm9wdGlvbnMpO2ZvcihjIGluIG4udzMpbi53My5oYXNPd25Qcm9wZXJ0eShjKSYmby5qMyhuZXcgaS5XNC5KNCh0aGlzLG8sYyxuLnczW2NdLnJlcXVlc3Qsbi53M1tjXS5yZXNwb25zZSxuLnczW2NdLkMzLG4udzNbY10uXzMsbi53M1tjXS5vcHRpb25zKSk7dGhpcy5vNi5qMyhvKSxvPW51bGx9ZWxzZXtpZighcy5kNihuKSl0aHJvdyBFcnJvcihcIk5vdCBhIHZhbGlkIGRlZmluaXRpb246IFwiK0pTT04uc3RyaW5naWZ5KG4pKTtpZihvPXRoaXMubzYucmVzb2x2ZShuLkIzKSlmb3IoYz0wO2M8bi5maWVsZHMubGVuZ3RoO2MrKyl7aWYobnVsbCE9PW8uUTMobi5maWVsZHNbY10uaWQpKXRocm93IEVycm9yKFwiRHVwbGljYXRlIGV4dGVuZGVkIGZpZWxkIGlkIGluIG1lc3NhZ2UgXCIrby5uYW1lK1wiOiBcIituLmZpZWxkc1tjXS5pZCk7aWYobi5maWVsZHNbY10uaWQ8by5leHRlbnNpb25zWzBdfHxuLmZpZWxkc1tjXS5pZD5vLmV4dGVuc2lvbnNbMV0pdGhyb3cgRXJyb3IoXCJJbGxlZ2FsIGV4dGVuZGVkIGZpZWxkIGlkIGluIG1lc3NhZ2UgXCIrby5uYW1lK1wiOiBcIituLmZpZWxkc1tjXS5pZCtcIiAoXCIrby5leHRlbnNpb25zLmpvaW4oXCIgdG8gXCIpK1wiIGV4cGVjdGVkKVwiKTt2YXIgdj1uLmZpZWxkc1tjXS5uYW1lO3RoaXMub3B0aW9ucy5JMiYmKHY9aS5KZC5LMy5WNChuLmZpZWxkc1tjXS5uYW1lKSksbD1uZXcgaS5KZC5SNCh0aGlzLG8sbi5maWVsZHNbY10ucnVsZSxuLmZpZWxkc1tjXS50eXBlLHRoaXMubzYucTMoKStcIi5cIit2LG4uZmllbGRzW2NdLmlkLG4uZmllbGRzW2NdLm9wdGlvbnMpO3ZhciB5PW5ldyBpLlk0KHRoaXMsdGhpcy5vNixuLmZpZWxkc1tjXS5uYW1lLGwpO2wuUTQ9eSx0aGlzLm82LmozKHkpLG8uajMobCl9ZWxzZSBpZighL1xcLj9nb29nbGVcXC5wcm90b2J1ZlxcLi8udGVzdChuLkIzKSl0aHJvdyBFcnJvcihcIkV4dGVuZGVkIG1lc3NhZ2UgXCIrbi5CMytcIiBpcyBub3QgZGVmaW5lZFwiKX1uPW51bGx9dD1udWxsLHRoaXMubzY9dGhpcy5vNi5wYXJlbnR9cmV0dXJuIHRoaXMuYTY9ITEsdGhpcy5yZXN1bHQ9bnVsbCx0aGlzfSxvLmc2PWZ1bmN0aW9uKHQsaSl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGkpe2lmKGUuYnYudzImJihpPXIoNjQpLnJlc29sdmUoaSkpLCEwPT09dGhpcy5maWxlc1tpXSlyZXR1cm4gdGhpcy5yZXNldCgpLHRoaXM7dGhpcy5maWxlc1tpXT0hMH1lbHNlIGlmKFwib2JqZWN0XCI9PXR5cGVvZiBpKXt2YXIgcz1pLnJvb3Q7ZS5idi53MiYmKHM9cig2NCkucmVzb2x2ZShzKSk7dmFyIG89W3MsaS5FNl0uam9pbihcIi9cIik7aWYoITA9PT10aGlzLmZpbGVzW29dKXJldHVybiB0aGlzLnJlc2V0KCksdGhpczt0aGlzLmZpbGVzW29dPSEwfWlmKHQuaW1wb3J0cyYmdC5pbXBvcnRzLmxlbmd0aD4wKXt2YXIgYSxoPVwiL1wiLGM9ITE7XCJvYmplY3RcIj09dHlwZW9mIGk/KHRoaXMuaDY9aS5yb290LGM9ITAsYT10aGlzLmg2LGk9aS5FNiwoYS5pbmRleE9mKFwiXFxcXFwiKT49MHx8aS5pbmRleE9mKFwiXFxcXFwiKT49MCkmJihoPVwiXFxcXFwiKSk6XCJzdHJpbmdcIj09dHlwZW9mIGk/dGhpcy5oNj9hPXRoaXMuaDY6aS5pbmRleE9mKFwiL1wiKT49MD9cIlwiPT09KGE9aS5yZXBsYWNlKC9cXC9bXlxcL10qJC8sXCJcIikpJiYoYT1cIi9cIik6aS5pbmRleE9mKFwiXFxcXFwiKT49MD8oYT1pLnJlcGxhY2UoL1xcXFxbXlxcXFxdKiQvLFwiXCIpLGg9XCJcXFxcXCIpOmE9XCIuXCI6YT1udWxsO2Zvcih2YXIgdT0wO3U8dC5pbXBvcnRzLmxlbmd0aDt1KyspaWYoXCJzdHJpbmdcIj09dHlwZW9mIHQuaW1wb3J0c1t1XSl7aWYoIWEpdGhyb3cgRXJyb3IoXCJDYW5ub3QgZGV0ZXJtaW5lIGltcG9ydCByb290OiBGaWxlIG5hbWUgaXMgdW5rbm93blwiKTt2YXIgbD10LmltcG9ydHNbdV07aWYoL15nb29nbGVcXC9wcm90b2J1ZlxcLy8udGVzdChsKSljb250aW51ZTtpZihsPWEraCtsLCEwPT09dGhpcy5maWxlc1tsXSljb250aW51ZTsvXFwucHJvdG8kL2kudGVzdChsKSYmIWUubjMmJihsPWwucmVwbGFjZSgvXFwucHJvdG8kLyxcIi5qc29uXCIpKTt2YXIgcD1lLmJ2LmZldGNoKGwpO2lmKG51bGw9PT1wKXRocm93IEVycm9yKFwiRmFpbGVkIHRvIGltcG9ydCAnXCIrbCtcIicgaW4gJ1wiK2krXCInOiBGaWxlIG5vdCBmb3VuZFwiKTsvXFwuanNvbiQvaS50ZXN0KGwpP3RoaXMuZzYoSlNPTi5wYXJzZShwK1wiXCIpLGwpOnRoaXMuZzYobmV3IGUubjMuUjAocCtcIlwiKS5wYXJzZSgpLGwpfWVsc2UgaT8vXFwuKFxcdyspJC8udGVzdChpKT90aGlzLmc2KHQuaW1wb3J0c1t1XSxpLnJlcGxhY2UoL14oLispXFwuKFxcdyspJC8sZnVuY3Rpb24oZSx0LHIpe3JldHVybiB0K1wiX2ltcG9ydFwiK3UrXCIuXCIrcn0pKTp0aGlzLmc2KHQuaW1wb3J0c1t1XSxpK1wiX2ltcG9ydFwiK3UpOnRoaXMuZzYodC5pbXBvcnRzW3VdKTtjJiYodGhpcy5oNj1udWxsKX10LnBhY2thZ2UmJnRoaXMuYzYodC5wYWNrYWdlKSx0LnkzJiZuKHQueTMsdCk7dmFyIGQ9dGhpcy5vNjtyZXR1cm4gdC5vcHRpb25zJiZPYmplY3Qua2V5cyh0Lm9wdGlvbnMpLmZvckVhY2goZnVuY3Rpb24oZSl7ZC5vcHRpb25zW2VdPXQub3B0aW9uc1tlXX0pLHQubWVzc2FnZXMmJih0aGlzLmNyZWF0ZSh0Lm1lc3NhZ2VzKSx0aGlzLm82PWQpLHQuYzMmJih0aGlzLmNyZWF0ZSh0LmMzKSx0aGlzLm82PWQpLHQuc2VydmljZXMmJih0aGlzLmNyZWF0ZSh0LnNlcnZpY2VzKSx0aGlzLm82PWQpLHQudjYmJnRoaXMuY3JlYXRlKHQudjYpLHRoaXMucmVzZXQoKSx0aGlzfSxzLmY2PWZ1bmN0aW9uKGUpe3JldHVybiEoXCJzdHJpbmdcIiE9dHlwZW9mIGUubmFtZXx8IXQuek8udGVzdChlLm5hbWUpfHxcIm9iamVjdFwiIT10eXBlb2YgZS53Myl9LHMuZDY9ZnVuY3Rpb24ocil7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIHIuQjN8fCF0LlkyLnRlc3Qoci5CMykpcmV0dXJuITE7dmFyIGk7aWYodm9pZCAwIT09ci5maWVsZHMpe2lmKCFlLmJ2LmlzQXJyYXkoci5maWVsZHMpKXJldHVybiExO3ZhciBuLG89W107Zm9yKGk9MDtpPHIuZmllbGRzLmxlbmd0aDtpKyspe2lmKCFzLmw2KHIuZmllbGRzW2ldKSlyZXR1cm4hMTtpZihuPXBhcnNlSW50KHIuaWQsMTApLG8uaW5kZXhPZihuKT49MClyZXR1cm4hMTtvLnB1c2gobil9bz1udWxsfXJldHVybiEwfSxvLnk2PWZ1bmN0aW9uKCl7dmFyIHI7aWYobnVsbCE9dGhpcy5vNiYmXCJvYmplY3RcIiE9dHlwZW9mIHRoaXMubzYudHlwZSl7aWYodGhpcy5vNiBpbnN0YW5jZW9mIGkuWDMpZm9yKHZhciBuPXRoaXMubzYuY2hpbGRyZW4scz0wLG89bi5sZW5ndGg7czxvOysrcyl0aGlzLm82PW5bc10sdGhpcy55NigpO2Vsc2UgaWYodGhpcy5vNiBpbnN0YW5jZW9mIGkuSmQuSzMpe2lmKHQudE4udGVzdCh0aGlzLm82LnR5cGUpKXRoaXMubzYudHlwZT1lLmcyW3RoaXMubzYudHlwZV07ZWxzZXtpZighdC5ZMi50ZXN0KHRoaXMubzYudHlwZSkpdGhyb3cgRXJyb3IoXCJJbGxlZ2FsIHR5cGUgcmVmZXJlbmNlIGluIFwiK3RoaXMubzYudG9TdHJpbmcoITApK1wiOiBcIit0aGlzLm82LnR5cGUpO2lmKCEocj0odGhpcy5vNiBpbnN0YW5jZW9mIGkuSmQuUjQ/dGhpcy5vNi5RNC5wYXJlbnQ6dGhpcy5vNi5wYXJlbnQpLnJlc29sdmUodGhpcy5vNi50eXBlLCEwKSkpdGhyb3cgRXJyb3IoXCJVbnJlc29sdmFibGUgdHlwZSByZWZlcmVuY2UgaW4gXCIrdGhpcy5vNi50b1N0cmluZyghMCkrXCI6IFwiK3RoaXMubzYudHlwZSk7aWYodGhpcy5vNi5aMz1yLHIgaW5zdGFuY2VvZiBpLm40KXtpZih0aGlzLm82LnR5cGU9ZS5nMi5lbnVtLFwicHJvdG8zXCI9PT10aGlzLm82LnkzJiZcInByb3RvM1wiIT09ci55Myl0aHJvdyBFcnJvcihcIlByb3RvMyBtZXNzYWdlIHJlZmVycyB0byBwcm90bzIgZW51bTsgdGhpcyBpcyBub3QgYWxsb3dlZCBkdWUgdG8gZGlmZmVyaW5nIGVudW0gc2VtYW50aWNzIGluIHByb3RvM1wiKX1lbHNle2lmKCEociBpbnN0YW5jZW9mIGkuSmQpKXRocm93IEVycm9yKFwiSWxsZWdhbCB0eXBlIHJlZmVyZW5jZSBpbiBcIit0aGlzLm82LnRvU3RyaW5nKCEwKStcIjogXCIrdGhpcy5vNi50eXBlKTt0aGlzLm82LnR5cGU9ci5QMz9lLmcyLmdyb3VwOmUuZzIubWVzc2FnZX19aWYodGhpcy5vNi5tYXApe2lmKCF0LnROLnRlc3QodGhpcy5vNi54NCkpdGhyb3cgRXJyb3IoXCJJbGxlZ2FsIGtleSB0eXBlIGZvciBtYXAgZmllbGQgaW4gXCIrdGhpcy5vNi50b1N0cmluZyghMCkrXCI6IFwiK3RoaXMubzYudHlwZSk7dGhpcy5vNi54ND1lLmcyW3RoaXMubzYueDRdfX1lbHNlIGlmKHRoaXMubzYgaW5zdGFuY2VvZiBlLkgzLm40Lmk0KTtlbHNlIGlmKHRoaXMubzYgaW5zdGFuY2VvZiBlLkgzLlc0LmU2KXtpZighKHRoaXMubzYgaW5zdGFuY2VvZiBlLkgzLlc0Lko0KSl0aHJvdyBFcnJvcihcIklsbGVnYWwgc2VydmljZSB0eXBlIGluIFwiK3RoaXMubzYudG9TdHJpbmcoITApKTtpZighKChyPXRoaXMubzYucGFyZW50LnJlc29sdmUodGhpcy5vNi50NikpJiZyIGluc3RhbmNlb2YgZS5IMy5KZCkpdGhyb3cgRXJyb3IoXCJJbGxlZ2FsIHR5cGUgcmVmZXJlbmNlIGluIFwiK3RoaXMubzYudG9TdHJpbmcoITApK1wiOiBcIit0aGlzLm82LnQ2KTtpZih0aGlzLm82Llg0PXIsISgocj10aGlzLm82LnBhcmVudC5yZXNvbHZlKHRoaXMubzYucjYpKSYmciBpbnN0YW5jZW9mIGUuSDMuSmQpKXRocm93IEVycm9yKFwiSWxsZWdhbCB0eXBlIHJlZmVyZW5jZSBpbiBcIit0aGlzLm82LnRvU3RyaW5nKCEwKStcIjogXCIrdGhpcy5vNi5yNik7dGhpcy5vNi5aND1yfWVsc2UgaWYoISh0aGlzLm82IGluc3RhbmNlb2YgZS5IMy5KZC5UNHx8dGhpcy5vNiBpbnN0YW5jZW9mIGUuSDMuWTQpKXRocm93IEVycm9yKFwiSWxsZWdhbCBvYmplY3QgaW4gbmFtZXNwYWNlOiBcIit0eXBlb2YgdGhpcy5vNitcIjpcIit0aGlzLm82KTt0aGlzLnJlc2V0KCl9fSxvLlhnPWZ1bmN0aW9uKGUpe2lmKHRoaXMucmVzZXQoKSx0aGlzLmE2fHwodGhpcy55NigpLHRoaXMuYTY9ITAsdGhpcy5yZXN1bHQ9bnVsbCksbnVsbD09PXRoaXMucmVzdWx0JiYodGhpcy5yZXN1bHQ9dGhpcy5zNi5YZygpKSxlKXtmb3IodmFyIHQ9XCJzdHJpbmdcIj09dHlwZW9mIGU/ZS5zcGxpdChcIi5cIik6ZSxyPXRoaXMucmVzdWx0LGk9MDtpPHQubGVuZ3RoO2krKyl7aWYoIXJbdFtpXV0pe3I9bnVsbDticmVha31yPXJbdFtpXV19cmV0dXJuIHJ9cmV0dXJuIHRoaXMucmVzdWx0fSxvLlQ2PWZ1bmN0aW9uKGUpe3JldHVybiBlP3RoaXMuczYucmVzb2x2ZShlKTp0aGlzLnM2fSxvLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJCdWlsZGVyXCJ9LHMuSmQ9ZnVuY3Rpb24oKXt9LHMuVzQ9ZnVuY3Rpb24oKXt9LHN9KHQsdC5MYW5nLHQuSDMpLHQuTWFwPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSl7dmFyIHQ9MDtyZXR1cm57bmV4dDpmdW5jdGlvbigpe3JldHVybiB0PGUubGVuZ3RoP3tkb25lOiExLHZhbHVlOmVbdCsrXX06e2RvbmU6ITB9fX19dmFyIHI9ZnVuY3Rpb24odCxyKXtpZighdC5tYXApdGhyb3cgRXJyb3IoXCJmaWVsZCBpcyBub3QgYSBtYXBcIik7aWYodGhpcy5LND10LHRoaXMuRTQ9bmV3IGUuSDMuRWxlbWVudCh0Lng0LG51bGwsITAsdC55MyksdGhpcy52ND1uZXcgZS5IMy5FbGVtZW50KHQudHlwZSx0LlozLCExLHQueTMpLHRoaXMubWFwPXt9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwic2l6ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0LmtleXModGhpcy5tYXApLmxlbmd0aH19KSxyKWZvcih2YXIgaT1PYmplY3Qua2V5cyhyKSxuPTA7bjxpLmxlbmd0aDtuKyspe3ZhciBzPXRoaXMuRTQudTQoaVtuXSksbz10aGlzLnY0LnI0KHJbaVtuXV0pO3RoaXMubWFwW3RoaXMuRTQubDQocyldPXtrZXk6cyx2YWx1ZTpvfX19LGk9ci5wcm90b3R5cGU7cmV0dXJuIGkuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLm1hcD17fX0saS5kZWxldGU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5FNC5sNCh0aGlzLkU0LnI0KGUpKSxyPXQgaW4gdGhpcy5tYXA7cmV0dXJuIGRlbGV0ZSB0aGlzLm1hcFt0XSxyfSxpLmVudHJpZXM9ZnVuY3Rpb24oKXtmb3IodmFyIGUscj1bXSxpPU9iamVjdC5rZXlzKHRoaXMubWFwKSxuPTA7bjxpLmxlbmd0aDtuKyspci5wdXNoKFsoZT10aGlzLm1hcFtpW25dXSkua2V5LGUudmFsdWVdKTtyZXR1cm4gdChyKX0saS5rZXlzPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPVtdLHI9T2JqZWN0LmtleXModGhpcy5tYXApLGk9MDtpPHIubGVuZ3RoO2krKyllLnB1c2godGhpcy5tYXBbcltpXV0ua2V5KTtyZXR1cm4gdChlKX0saS52YWx1ZXM9ZnVuY3Rpb24oKXtmb3IodmFyIGU9W10scj1PYmplY3Qua2V5cyh0aGlzLm1hcCksaT0wO2k8ci5sZW5ndGg7aSsrKWUucHVzaCh0aGlzLm1hcFtyW2ldXS52YWx1ZSk7cmV0dXJuIHQoZSl9LGkuZm9yRWFjaD1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcixpPU9iamVjdC5rZXlzKHRoaXMubWFwKSxuPTA7bjxpLmxlbmd0aDtuKyspZS5jYWxsKHQsKHI9dGhpcy5tYXBbaVtuXV0pLnZhbHVlLHIua2V5LHRoaXMpfSxpLnNldD1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuRTQucjQoZSksaT10aGlzLnY0LnI0KHQpO3JldHVybiB0aGlzLm1hcFt0aGlzLkU0Lmw0KHIpXT17a2V5OnIsdmFsdWU6aX0sdGhpc30saS5nZXQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5FNC5sNCh0aGlzLkU0LnI0KGUpKTtpZih0IGluIHRoaXMubWFwKXJldHVybiB0aGlzLm1hcFt0XS52YWx1ZX0saS5oYXM9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuRTQubDQodGhpcy5FNC5yNChlKSlpbiB0aGlzLm1hcH0scn0odCksdC5tNj1mdW5jdGlvbihlLHIsaSl7cmV0dXJuKFwic3RyaW5nXCI9PXR5cGVvZiByfHxyJiZcInN0cmluZ1wiPT10eXBlb2Ygci5FNiYmXCJzdHJpbmdcIj09dHlwZW9mIHIucm9vdCkmJihpPXIscj12b2lkIDApLHQuWmcobmV3IHQubjMuUjAoZSkucGFyc2UoKSxyLGkpfSx0Lkk2PXQubTYsdC5TNj1mdW5jdGlvbihlLHIsaSl7aWYociYmXCJvYmplY3RcIj09dHlwZW9mIHI/KGk9cixyPW51bGwpOnImJlwiZnVuY3Rpb25cIj09dHlwZW9mIHJ8fChyPW51bGwpLHIpcmV0dXJuIHQuYnYuZmV0Y2goXCJzdHJpbmdcIj09dHlwZW9mIGU/ZTplLnJvb3QrXCIvXCIrZS5FNixmdW5jdGlvbihuKXtpZihudWxsPT09bilyZXR1cm4gdm9pZCByKEVycm9yKFwiRmFpbGVkIHRvIGZldGNoIGZpbGVcIikpO3RyeXtyKG51bGwsdC5tNihuLGksZSkpfWNhdGNoKGUpe3IoZSl9fSk7dmFyIG49dC5idi5mZXRjaChcIm9iamVjdFwiPT10eXBlb2YgZT9lLnJvb3QrXCIvXCIrZS5FNjplKTtyZXR1cm4gbnVsbD09PW4/bnVsbDp0Lm02KG4saSxlKX0sdC5SNj10LlM2LHQudzY9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9ZXx8e30sdm9pZCAwPT09ZS5JMiYmKGUuSTI9dC5JMiksdm9pZCAwPT09ZS5TMiYmKGUuUzI9dC5TMiksbmV3IHQubzQoZSl9LHQuWmc9ZnVuY3Rpb24oZSxyLGkpe3JldHVybihcInN0cmluZ1wiPT10eXBlb2Ygcnx8ciYmXCJzdHJpbmdcIj09dHlwZW9mIHIuRTYmJlwic3RyaW5nXCI9PXR5cGVvZiByLnJvb3QpJiYoaT1yLHI9bnVsbCksciYmXCJvYmplY3RcIj09dHlwZW9mIHJ8fChyPXQudzYoKSksXCJzdHJpbmdcIj09dHlwZW9mIGUmJihlPUpTT04ucGFyc2UoZSkpLHIuZzYoZSxpKSxyLnk2KCkscn0sdC5iNj1mdW5jdGlvbihlLHIsaSl7aWYociYmXCJvYmplY3RcIj09dHlwZW9mIHI/KGk9cixyPW51bGwpOnImJlwiZnVuY3Rpb25cIj09dHlwZW9mIHJ8fChyPW51bGwpLHIpcmV0dXJuIHQuYnYuZmV0Y2goXCJzdHJpbmdcIj09dHlwZW9mIGU/ZTplLnJvb3QrXCIvXCIrZS5FNixmdW5jdGlvbihuKXtpZihudWxsPT09bilyZXR1cm4gdm9pZCByKEVycm9yKFwiRmFpbGVkIHRvIGZldGNoIGZpbGVcIikpO3RyeXtyKG51bGwsdC5aZyhKU09OLnBhcnNlKG4pLGksZSkpfWNhdGNoKGUpe3IoZSl9fSk7dmFyIG49dC5idi5mZXRjaChcIm9iamVjdFwiPT10eXBlb2YgZT9lLnJvb3QrXCIvXCIrZS5FNjplKTtyZXR1cm4gbnVsbD09PW4/bnVsbDp0LlpnKEpTT04ucGFyc2UobiksaSxlKX0sdH1cIm9iamVjdFwiPT10eXBlb2YgZSYmZSYmXCJvYmplY3RcIj09dHlwZW9mIHQmJnQ/ZS5pPWEocigzNSkpOihuPVtyKDE2MildLGk9YSx2b2lkIDAhPT0ocz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBpP2kuYXBwbHkodCxuKTppKSYmKGUuaT1zKSl9KCl9KS5jYWxsKHQscig2MykoZSkpfSxmdW5jdGlvbihlLHQscil7KGZ1bmN0aW9uKGUpe3ZhciBuLHM7LyoqXG4gKiBAbGljZW5zZSBCeXRlQnVmZmVyLmpzIChjKSAyMDEzLTIwMTQgRGFuaWVsIFdpcnR6IDxkY29kZUBkY29kZS5pbz5cbiAqIFRoaXMgdmVyc2lvbiBvZiBCeXRlQnVmZmVyLmpzIHVzZXMgYW4gQXJyYXlCdWZmZXIgYXMgaXRzIGJhY2tpbmcgYnVmZmVyIHdoaWNoIGlzIGFjY2Vzc2VkIHRocm91Z2ggYSBEYXRhVmlldyBhbmQgaXNcbiAqIGNvbXBhdGlibGUgd2l0aCBtb2Rlcm4gYnJvd3NlcnMuXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wXG4gKiBzZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9kY29kZUlPL0J5dGVCdWZmZXIuanMgZm9yIGRldGFpbHNcbiAqL1xuIWZ1bmN0aW9uKG8pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGEoZSl7ZnVuY3Rpb24gdChlKXt2YXIgdD0wO3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0PGUubGVuZ3RoP2UuY2hhckNvZGVBdCh0KyspOm51bGx9fWZ1bmN0aW9uIHIoKXt2YXIgZT1bXSx0PVtdO3JldHVybiBmdW5jdGlvbigpe2lmKDA9PT1hcmd1bWVudHMubGVuZ3RoKXJldHVybiB0LmpvaW4oXCJcIikrYS5hcHBseShTdHJpbmcsZSk7ZS5sZW5ndGgrYXJndW1lbnRzLmxlbmd0aD4xMDI0JiYodC5wdXNoKGEuYXBwbHkoU3RyaW5nLGUpKSxlLmxlbmd0aD0wKSxBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShlLGFyZ3VtZW50cyl9fXZhciBuPWZ1bmN0aW9uKGUsdCxyKXtpZih2b2lkIDA9PT1lJiYoZT1uLkRfKSx2b2lkIDA9PT10JiYodD1uLmtfKSx2b2lkIDA9PT1yJiYocj1uLkxfKSwhcil7aWYoKGV8PTApPDApdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgY2FwYWNpdHlcIik7dD0hIXQscj0hIXJ9dGhpcy5idWZmZXI9MD09PWU/bzpuZXcgQXJyYXlCdWZmZXIoZSksdGhpcy52aWV3PTA9PT1lP251bGw6bmV3IERhdGFWaWV3KHRoaXMuYnVmZmVyKSx0aGlzLm9mZnNldD0wLHRoaXMuTV89LTEsdGhpcy5GXz1lLHRoaXMuVV89dm9pZCAwIT09dCYmISF0LHRoaXMuQl89ISFyfTtuLlZFUlNJT049XCIzLjUuNVwiLG4uSF89ITAsbi54Xz0hMSxuLkRfPTE2LG4ua189bi54XyxuLkxfPSExLG4ucV89ZXx8bnVsbDt2YXIgcz1uLnByb3RvdHlwZSxvPW5ldyBBcnJheUJ1ZmZlcigwKSxhPVN0cmluZy5mcm9tQ2hhckNvZGU7bi5HXz1mdW5jdGlvbihlLHQscil7cmV0dXJuIG5ldyBuKGUsdCxyKX0sbi5jb25jYXQ9ZnVuY3Rpb24oZSx0LHIsaSl7XCJib29sZWFuXCIhPXR5cGVvZiB0JiZcInN0cmluZ1wiPT10eXBlb2YgdHx8KGk9cixyPXQsdD12b2lkIDApO2Zvcih2YXIgcyxvPTAsYT0wLGg9ZS5sZW5ndGg7YTxoOysrYSluLlZfKGVbYV0pfHwoZVthXT1uLndyYXAoZVthXSx0KSksKHM9ZVthXS5GXy1lW2FdLm9mZnNldCk+MCYmKG8rPXMpO2lmKDA9PT1vKXJldHVybiBuZXcgbigwLHIsaSk7dmFyIGMsdT1uZXcgbihvLHIsaSksbD1uZXcgVWludDhBcnJheSh1LmJ1ZmZlcik7Zm9yKGE9MDthPGg7KWM9ZVthKytdLChzPWMuRl8tYy5vZmZzZXQpPD0wfHwobC5zZXQobmV3IFVpbnQ4QXJyYXkoYy5idWZmZXIpLnN1YmFycmF5KGMub2Zmc2V0LGMuRl8pLHUub2Zmc2V0KSx1Lm9mZnNldCs9cyk7cmV0dXJuIHUuRl89dS5vZmZzZXQsdS5vZmZzZXQ9MCx1fSxuLlZfPWZ1bmN0aW9uKGUpe3JldHVybiEwPT09KGUmJmUgaW5zdGFuY2VvZiBuKX0sbi50eXBlPWZ1bmN0aW9uKCl7cmV0dXJuIEFycmF5QnVmZmVyfSxuLndyYXA9ZnVuY3Rpb24oZSx0LHIsbyl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIHQmJihvPXIscj10LHQ9dm9pZCAwKSxcInN0cmluZ1wiPT10eXBlb2YgZSlzd2l0Y2godm9pZCAwPT09dCYmKHQ9XCJ1dGY4XCIpLHQpe2Nhc2VcImJhc2U2NFwiOnJldHVybiBuLmpfKGUscik7Y2FzZVwiaGV4XCI6cmV0dXJuIG4uUV8oZSxyKTtjYXNlXCJiaW5hcnlcIjpyZXR1cm4gbi5LXyhlLHIpO2Nhc2VcInV0ZjhcIjpyZXR1cm4gbi5ZXyhlLHIpO2Nhc2VcImRlYnVnXCI6cmV0dXJuIG4uV18oZSxyKTtkZWZhdWx0OnRocm93IEVycm9yKFwiVW5zdXBwb3J0ZWQgZW5jb2Rpbmc6IFwiK3QpfWlmKG51bGw9PT1lfHxcIm9iamVjdFwiIT10eXBlb2YgZSl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIGJ1ZmZlclwiKTt2YXIgYTtpZihuLlZfKGUpKXJldHVybiBhPXMuY2xvbmUuY2FsbChlKSxhLk1fPS0xLGE7aWYoZSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpYT1uZXcgbigwLHIsbyksZS5sZW5ndGg+MCYmKGEuYnVmZmVyPWUuYnVmZmVyLGEub2Zmc2V0PWUuYnl0ZU9mZnNldCxhLkZfPWUuYnl0ZU9mZnNldCtlLmxlbmd0aCxhLnZpZXc9ZS5sZW5ndGg+MD9uZXcgRGF0YVZpZXcoZS5idWZmZXIpOm51bGwpO2Vsc2UgaWYoZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKWE9bmV3IG4oMCxyLG8pLGUuYnl0ZUxlbmd0aD4wJiYoYS5idWZmZXI9ZSxhLm9mZnNldD0wLGEuRl89ZS5ieXRlTGVuZ3RoLGEudmlldz1lLmJ5dGVMZW5ndGg+MD9uZXcgRGF0YVZpZXcoZSk6bnVsbCk7ZWxzZXtpZihcIltvYmplY3QgQXJyYXldXCIhPT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkpdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBidWZmZXJcIik7Zm9yKGE9bmV3IG4oZS5sZW5ndGgscixvKSxhLkZfPWUubGVuZ3RoLGk9MDtpPGUubGVuZ3RoOysraSlhLnZpZXcuc2V0VWludDgoaSxlW2ldKX1yZXR1cm4gYX0scy56Xz1mdW5jdGlvbihlLHQpe3ZhciByPXZvaWQgMD09PXQ7aWYociYmKHQ9dGhpcy5vZmZzZXQpLCF0aGlzLkJfKXtpZihcIm51bWJlclwiIT10eXBlb2YgZXx8ZSUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgdmFsdWU6IFwiK2UrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZihlfD0wLFwibnVtYmVyXCIhPXR5cGVvZiB0fHx0JTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IFwiK3QrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZigodD4+Pj0wKTwwfHx0KzA+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IDAgPD0gXCIrdCtcIiAoKzApIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfXQrPTE7dmFyIGk9dGhpcy5idWZmZXIuYnl0ZUxlbmd0aDtyZXR1cm4gdD5pJiZ0aGlzLnJlc2l6ZSgoaSo9Mik+dD9pOnQpLHQtPTEsdGhpcy52aWV3LnNldEludDgodCxlKSxyJiYodGhpcy5vZmZzZXQrPTEpLHRoaXN9LHMuakM9cy56XyxzLkpfPWZ1bmN0aW9uKGUpe3ZhciB0PXZvaWQgMD09PWU7aWYodCYmKGU9dGhpcy5vZmZzZXQpLCF0aGlzLkJfKXtpZihcIm51bWJlclwiIT10eXBlb2YgZXx8ZSUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBcIitlK1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKGU+Pj49MCk8MHx8ZSsxPnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiAwIDw9IFwiK2UrXCIgKCsxKSA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX12YXIgcj10aGlzLnZpZXcuZ2V0SW50OChlKTtyZXR1cm4gdCYmKHRoaXMub2Zmc2V0Kz0xKSxyfSxzLmRfPXMuSl8scy5YXz1mdW5jdGlvbihlLHQpe3ZhciByPXZvaWQgMD09PXQ7aWYociYmKHQ9dGhpcy5vZmZzZXQpLCF0aGlzLkJfKXtpZihcIm51bWJlclwiIT10eXBlb2YgZXx8ZSUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgdmFsdWU6IFwiK2UrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZihlPj4+PTAsXCJudW1iZXJcIiE9dHlwZW9mIHR8fHQlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogXCIrdCtcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKCh0Pj4+PTApPDB8fHQrMD50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogMCA8PSBcIit0K1wiICgrMCkgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9dCs9MTt2YXIgaT10aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoO3JldHVybiB0PmkmJnRoaXMucmVzaXplKChpKj0yKT50P2k6dCksdC09MSx0aGlzLnZpZXcuc2V0VWludDgodCxlKSxyJiYodGhpcy5vZmZzZXQrPTEpLHRoaXN9LHMuWl89ZnVuY3Rpb24oZSl7dmFyIHQ9dm9pZCAwPT09ZTtpZih0JiYoZT10aGlzLm9mZnNldCksIXRoaXMuQl8pe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlfHxlJTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IFwiK2UrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZigoZT4+Pj0wKTwwfHxlKzE+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IDAgPD0gXCIrZStcIiAoKzEpIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfXZhciByPXRoaXMudmlldy5nZXRVaW50OChlKTtyZXR1cm4gdCYmKHRoaXMub2Zmc2V0Kz0xKSxyfSxzLmVQPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dm9pZCAwPT09dDtpZihyJiYodD10aGlzLm9mZnNldCksIXRoaXMuQl8pe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlfHxlJTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCB2YWx1ZTogXCIrZStcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKGV8PTAsXCJudW1iZXJcIiE9dHlwZW9mIHR8fHQlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogXCIrdCtcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKCh0Pj4+PTApPDB8fHQrMD50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogMCA8PSBcIit0K1wiICgrMCkgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9dCs9Mjt2YXIgaT10aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoO3JldHVybiB0PmkmJnRoaXMucmVzaXplKChpKj0yKT50P2k6dCksdC09Mix0aGlzLnZpZXcuc2V0SW50MTYodCxlLHRoaXMuVV8pLHImJih0aGlzLm9mZnNldCs9MiksdGhpc30scy50UD1zLmVQLHMuclA9ZnVuY3Rpb24oZSl7dmFyIHQ9dm9pZCAwPT09ZTtpZih0JiYoZT10aGlzLm9mZnNldCksIXRoaXMuQl8pe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlfHxlJTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IFwiK2UrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZigoZT4+Pj0wKTwwfHxlKzI+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IDAgPD0gXCIrZStcIiAoKzIpIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfXZhciByPXRoaXMudmlldy5nZXRJbnQxNihlLHRoaXMuVV8pO3JldHVybiB0JiYodGhpcy5vZmZzZXQrPTIpLHJ9LHMuaVA9cy5yUCxzLm5QPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dm9pZCAwPT09dDtpZihyJiYodD10aGlzLm9mZnNldCksIXRoaXMuQl8pe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlfHxlJTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCB2YWx1ZTogXCIrZStcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKGU+Pj49MCxcIm51bWJlclwiIT10eXBlb2YgdHx8dCUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBcIit0K1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKHQ+Pj49MCk8MHx8dCswPnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiAwIDw9IFwiK3QrXCIgKCswKSA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX10Kz0yO3ZhciBpPXRoaXMuYnVmZmVyLmJ5dGVMZW5ndGg7cmV0dXJuIHQ+aSYmdGhpcy5yZXNpemUoKGkqPTIpPnQ/aTp0KSx0LT0yLHRoaXMudmlldy5zZXRVaW50MTYodCxlLHRoaXMuVV8pLHImJih0aGlzLm9mZnNldCs9MiksdGhpc30scy5zUD1mdW5jdGlvbihlKXt2YXIgdD12b2lkIDA9PT1lO2lmKHQmJihlPXRoaXMub2Zmc2V0KSwhdGhpcy5CXyl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGV8fGUlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogXCIrZStcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKChlPj4+PTApPDB8fGUrMj50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogMCA8PSBcIitlK1wiICgrMikgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9dmFyIHI9dGhpcy52aWV3LmdldFVpbnQxNihlLHRoaXMuVV8pO3JldHVybiB0JiYodGhpcy5vZmZzZXQrPTIpLHJ9LHMub1A9ZnVuY3Rpb24oZSx0KXt2YXIgcj12b2lkIDA9PT10O2lmKHImJih0PXRoaXMub2Zmc2V0KSwhdGhpcy5CXyl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGV8fGUlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIHZhbHVlOiBcIitlK1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoZXw9MCxcIm51bWJlclwiIT10eXBlb2YgdHx8dCUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBcIit0K1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKHQ+Pj49MCk8MHx8dCswPnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiAwIDw9IFwiK3QrXCIgKCswKSA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX10Kz00O3ZhciBpPXRoaXMuYnVmZmVyLmJ5dGVMZW5ndGg7cmV0dXJuIHQ+aSYmdGhpcy5yZXNpemUoKGkqPTIpPnQ/aTp0KSx0LT00LHRoaXMudmlldy5zZXRJbnQzMih0LGUsdGhpcy5VXyksciYmKHRoaXMub2Zmc2V0Kz00KSx0aGlzfSxzLkJnPXMub1Ascy5hUD1mdW5jdGlvbihlKXt2YXIgdD12b2lkIDA9PT1lO2lmKHQmJihlPXRoaXMub2Zmc2V0KSwhdGhpcy5CXyl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGV8fGUlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogXCIrZStcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKChlPj4+PTApPDB8fGUrND50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogMCA8PSBcIitlK1wiICgrNCkgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9dmFyIHI9dGhpcy52aWV3LmdldEludDMyKGUsdGhpcy5VXyk7cmV0dXJuIHQmJih0aGlzLm9mZnNldCs9NCkscn0scy5RZz1zLmFQLHMuaFA9ZnVuY3Rpb24oZSx0KXt2YXIgcj12b2lkIDA9PT10O2lmKHImJih0PXRoaXMub2Zmc2V0KSwhdGhpcy5CXyl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGV8fGUlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIHZhbHVlOiBcIitlK1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoZT4+Pj0wLFwibnVtYmVyXCIhPXR5cGVvZiB0fHx0JTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IFwiK3QrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZigodD4+Pj0wKTwwfHx0KzA+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IDAgPD0gXCIrdCtcIiAoKzApIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfXQrPTQ7dmFyIGk9dGhpcy5idWZmZXIuYnl0ZUxlbmd0aDtyZXR1cm4gdD5pJiZ0aGlzLnJlc2l6ZSgoaSo9Mik+dD9pOnQpLHQtPTQsdGhpcy52aWV3LnNldFVpbnQzMih0LGUsdGhpcy5VXyksciYmKHRoaXMub2Zmc2V0Kz00KSx0aGlzfSxzLmNQPWZ1bmN0aW9uKGUpe3ZhciB0PXZvaWQgMD09PWU7aWYodCYmKGU9dGhpcy5vZmZzZXQpLCF0aGlzLkJfKXtpZihcIm51bWJlclwiIT10eXBlb2YgZXx8ZSUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBcIitlK1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKGU+Pj49MCk8MHx8ZSs0PnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiAwIDw9IFwiK2UrXCIgKCs0KSA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX12YXIgcj10aGlzLnZpZXcuZ2V0VWludDMyKGUsdGhpcy5VXyk7cmV0dXJuIHQmJih0aGlzLm9mZnNldCs9NCkscn0sZSYmKHMudVA9ZnVuY3Rpb24odCxyKXt2YXIgaT12b2lkIDA9PT1yO2lmKGkmJihyPXRoaXMub2Zmc2V0KSwhdGhpcy5CXyl7aWYoXCJudW1iZXJcIj09dHlwZW9mIHQpdD1lLkRFKHQpO2Vsc2UgaWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpdD1lLmtFKHQpO2Vsc2UgaWYoISh0JiZ0IGluc3RhbmNlb2YgZSkpdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCB2YWx1ZTogXCIrdCtcIiAobm90IGFuIGludGVnZXIgb3IgTG9uZylcIik7aWYoXCJudW1iZXJcIiE9dHlwZW9mIHJ8fHIlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogXCIrcitcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKChyPj4+PTApPDB8fHIrMD50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogMCA8PSBcIityK1wiICgrMCkgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9XCJudW1iZXJcIj09dHlwZW9mIHQ/dD1lLkRFKHQpOlwic3RyaW5nXCI9PXR5cGVvZiB0JiYodD1lLmtFKHQpKSxyKz04O3ZhciBuPXRoaXMuYnVmZmVyLmJ5dGVMZW5ndGg7cmV0dXJuIHI+biYmdGhpcy5yZXNpemUoKG4qPTIpPnI/bjpyKSxyLT04LHRoaXMuVV8/KHRoaXMudmlldy5zZXRJbnQzMihyLHQubG93LCEwKSx0aGlzLnZpZXcuc2V0SW50MzIocis0LHQuaGlnaCwhMCkpOih0aGlzLnZpZXcuc2V0SW50MzIocix0LmhpZ2gsITEpLHRoaXMudmlldy5zZXRJbnQzMihyKzQsdC5sb3csITEpKSxpJiYodGhpcy5vZmZzZXQrPTgpLHRoaXN9LHMubFA9cy51UCxzLnBQPWZ1bmN0aW9uKHQpe3ZhciByPXZvaWQgMD09PXQ7aWYociYmKHQ9dGhpcy5vZmZzZXQpLCF0aGlzLkJfKXtpZihcIm51bWJlclwiIT10eXBlb2YgdHx8dCUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBcIit0K1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKHQ+Pj49MCk8MHx8dCs4PnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiAwIDw9IFwiK3QrXCIgKCs4KSA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX12YXIgaT10aGlzLlVfP25ldyBlKHRoaXMudmlldy5nZXRJbnQzMih0LCEwKSx0aGlzLnZpZXcuZ2V0SW50MzIodCs0LCEwKSwhMSk6bmV3IGUodGhpcy52aWV3LmdldEludDMyKHQrNCwhMSksdGhpcy52aWV3LmdldEludDMyKHQsITEpLCExKTtyZXR1cm4gciYmKHRoaXMub2Zmc2V0Kz04KSxpfSxzLmRQPXMucFAscy5mUD1mdW5jdGlvbih0LHIpe3ZhciBpPXZvaWQgMD09PXI7aWYoaSYmKHI9dGhpcy5vZmZzZXQpLCF0aGlzLkJfKXtpZihcIm51bWJlclwiPT10eXBlb2YgdCl0PWUuREUodCk7ZWxzZSBpZihcInN0cmluZ1wiPT10eXBlb2YgdCl0PWUua0UodCk7ZWxzZSBpZighKHQmJnQgaW5zdGFuY2VvZiBlKSl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIHZhbHVlOiBcIit0K1wiIChub3QgYW4gaW50ZWdlciBvciBMb25nKVwiKTtpZihcIm51bWJlclwiIT10eXBlb2Ygcnx8ciUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBcIityK1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKHI+Pj49MCk8MHx8ciswPnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiAwIDw9IFwiK3IrXCIgKCswKSA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX1cIm51bWJlclwiPT10eXBlb2YgdD90PWUuREUodCk6XCJzdHJpbmdcIj09dHlwZW9mIHQmJih0PWUua0UodCkpLHIrPTg7dmFyIG49dGhpcy5idWZmZXIuYnl0ZUxlbmd0aDtyZXR1cm4gcj5uJiZ0aGlzLnJlc2l6ZSgobio9Mik+cj9uOnIpLHItPTgsdGhpcy5VXz8odGhpcy52aWV3LnNldEludDMyKHIsdC5sb3csITApLHRoaXMudmlldy5zZXRJbnQzMihyKzQsdC5oaWdoLCEwKSk6KHRoaXMudmlldy5zZXRJbnQzMihyLHQuaGlnaCwhMSksdGhpcy52aWV3LnNldEludDMyKHIrNCx0LmxvdywhMSkpLGkmJih0aGlzLm9mZnNldCs9OCksdGhpc30scy5nUD1mdW5jdGlvbih0KXt2YXIgcj12b2lkIDA9PT10O2lmKHImJih0PXRoaXMub2Zmc2V0KSwhdGhpcy5CXyl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIHR8fHQlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogXCIrdCtcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKCh0Pj4+PTApPDB8fHQrOD50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogMCA8PSBcIit0K1wiICgrOCkgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9dmFyIGk9dGhpcy5VXz9uZXcgZSh0aGlzLnZpZXcuZ2V0SW50MzIodCwhMCksdGhpcy52aWV3LmdldEludDMyKHQrNCwhMCksITApOm5ldyBlKHRoaXMudmlldy5nZXRJbnQzMih0KzQsITEpLHRoaXMudmlldy5nZXRJbnQzMih0LCExKSwhMCk7cmV0dXJuIHImJih0aGlzLm9mZnNldCs9OCksaX0pLHMuRVA9ZnVuY3Rpb24oZSx0KXt2YXIgcj12b2lkIDA9PT10O2lmKHImJih0PXRoaXMub2Zmc2V0KSwhdGhpcy5CXyl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGUpdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCB2YWx1ZTogXCIrZStcIiAobm90IGEgbnVtYmVyKVwiKTtpZihcIm51bWJlclwiIT10eXBlb2YgdHx8dCUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBcIit0K1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKHQ+Pj49MCk8MHx8dCswPnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiAwIDw9IFwiK3QrXCIgKCswKSA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX10Kz00O3ZhciBpPXRoaXMuYnVmZmVyLmJ5dGVMZW5ndGg7cmV0dXJuIHQ+aSYmdGhpcy5yZXNpemUoKGkqPTIpPnQ/aTp0KSx0LT00LHRoaXMudmlldy5zZXRGbG9hdDMyKHQsZSx0aGlzLlVfKSxyJiYodGhpcy5vZmZzZXQrPTQpLHRoaXN9LHMudlA9cy5FUCxzLnlQPWZ1bmN0aW9uKGUpe3ZhciB0PXZvaWQgMD09PWU7aWYodCYmKGU9dGhpcy5vZmZzZXQpLCF0aGlzLkJfKXtpZihcIm51bWJlclwiIT10eXBlb2YgZXx8ZSUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBcIitlK1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKGU+Pj49MCk8MHx8ZSs0PnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiAwIDw9IFwiK2UrXCIgKCs0KSA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX12YXIgcj10aGlzLnZpZXcuZ2V0RmxvYXQzMihlLHRoaXMuVV8pO3JldHVybiB0JiYodGhpcy5vZmZzZXQrPTQpLHJ9LHMuVFA9cy55UCxzLm1QPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dm9pZCAwPT09dDtpZihyJiYodD10aGlzLm9mZnNldCksIXRoaXMuQl8pe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgdmFsdWU6IFwiK2UrXCIgKG5vdCBhIG51bWJlcilcIik7aWYoXCJudW1iZXJcIiE9dHlwZW9mIHR8fHQlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogXCIrdCtcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKCh0Pj4+PTApPDB8fHQrMD50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogMCA8PSBcIit0K1wiICgrMCkgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9dCs9ODt2YXIgaT10aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoO3JldHVybiB0PmkmJnRoaXMucmVzaXplKChpKj0yKT50P2k6dCksdC09OCx0aGlzLnZpZXcuc2V0RmxvYXQ2NCh0LGUsdGhpcy5VXyksciYmKHRoaXMub2Zmc2V0Kz04KSx0aGlzfSxzLllDPXMubVAscy5JUD1mdW5jdGlvbihlKXt2YXIgdD12b2lkIDA9PT1lO2lmKHQmJihlPXRoaXMub2Zmc2V0KSwhdGhpcy5CXyl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGV8fGUlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogXCIrZStcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKChlPj4+PTApPDB8fGUrOD50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogMCA8PSBcIitlK1wiICgrOCkgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9dmFyIHI9dGhpcy52aWV3LmdldEZsb2F0NjQoZSx0aGlzLlVfKTtyZXR1cm4gdCYmKHRoaXMub2Zmc2V0Kz04KSxyfSxzLkVfPXMuSVAsbi5TUD01LG4uUlA9ZnVuY3Rpb24oZSl7cmV0dXJuIGU+Pj49MCxlPDEyOD8xOmU8MTYzODQ/MjplPDE8PDIxPzM6ZTwxPDwyOD80OjV9LG4ud1A9ZnVuY3Rpb24oZSl7cmV0dXJuKChlfD0wKTw8MV5lPj4zMSk+Pj4wfSxuLmJQPWZ1bmN0aW9uKGUpe3JldHVybiBlPj4+MV4tKDEmZSl8MH0scy5DUD1mdW5jdGlvbihlLHQpe3ZhciByPXZvaWQgMD09PXQ7aWYociYmKHQ9dGhpcy5vZmZzZXQpLCF0aGlzLkJfKXtpZihcIm51bWJlclwiIT10eXBlb2YgZXx8ZSUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgdmFsdWU6IFwiK2UrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZihlfD0wLFwibnVtYmVyXCIhPXR5cGVvZiB0fHx0JTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IFwiK3QrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZigodD4+Pj0wKTwwfHx0KzA+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IDAgPD0gXCIrdCtcIiAoKzApIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfXZhciBpLHM9bi5SUChlKTt0Kz1zO3ZhciBvPXRoaXMuYnVmZmVyLmJ5dGVMZW5ndGg7cmV0dXJuIHQ+byYmdGhpcy5yZXNpemUoKG8qPTIpPnQ/bzp0KSx0LT1zLHRoaXMudmlldy5zZXRVaW50OCh0LGk9MTI4fGUpLGU+Pj49MCxlPj0xMjg/KGk9ZT4+N3wxMjgsdGhpcy52aWV3LnNldFVpbnQ4KHQrMSxpKSxlPj0xNjM4ND8oaT1lPj4xNHwxMjgsdGhpcy52aWV3LnNldFVpbnQ4KHQrMixpKSxlPj0xPDwyMT8oaT1lPj4yMXwxMjgsdGhpcy52aWV3LnNldFVpbnQ4KHQrMyxpKSxlPj0xPDwyOD8odGhpcy52aWV3LnNldFVpbnQ4KHQrNCxlPj4yOCYxNSkscz01KToodGhpcy52aWV3LnNldFVpbnQ4KHQrMywxMjcmaSkscz00KSk6KHRoaXMudmlldy5zZXRVaW50OCh0KzIsMTI3JmkpLHM9MykpOih0aGlzLnZpZXcuc2V0VWludDgodCsxLDEyNyZpKSxzPTIpKToodGhpcy52aWV3LnNldFVpbnQ4KHQsMTI3JmkpLHM9MSkscj8odGhpcy5vZmZzZXQrPXMsdGhpcyk6c30scy5fUD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLkNQKG4ud1AoZSksdCl9LHMuUFA9ZnVuY3Rpb24oZSl7dmFyIHQ9dm9pZCAwPT09ZTtpZih0JiYoZT10aGlzLm9mZnNldCksIXRoaXMuQl8pe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlfHxlJTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IFwiK2UrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZigoZT4+Pj0wKTwwfHxlKzE+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IDAgPD0gXCIrZStcIiAoKzEpIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfXZhciByLGksbj0wLHM9MDtkb3tpZihpPWUrbiwhdGhpcy5CXyYmaT50aGlzLkZfKXt2YXIgbz1FcnJvcihcIlRydW5jYXRlZFwiKTt0aHJvdyBvLkFQPSEwLG99cj10aGlzLnZpZXcuZ2V0VWludDgoaSksbjw1JiYoc3w9KDEyNyZyKTw8NypuPj4+MCksKytufXdoaWxlKDEyOD09KDEyOCZyKSk7cmV0dXJuIHN8PTAsdD8odGhpcy5vZmZzZXQrPW4scyk6e3ZhbHVlOnMsbGVuZ3RoOm59fSxzLk9QPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuUFAoZSk7cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIHQ/dC52YWx1ZT1uLmJQKHQudmFsdWUpOnQ9bi5iUCh0KSx0fSxlJiYobi5OUD0xMCxuLkRQPWZ1bmN0aW9uKHQpe1wibnVtYmVyXCI9PXR5cGVvZiB0P3Q9ZS5ERSh0KTpcInN0cmluZ1wiPT10eXBlb2YgdCYmKHQ9ZS5rRSh0KSk7dmFyIHI9dC5rUCgpPj4+MCxpPXQuTFAoMjgpLmtQKCk+Pj4wLG49dC5MUCg1Nikua1AoKT4+PjA7cmV0dXJuIDA9PW4/MD09aT9yPDE2Mzg0P3I8MTI4PzE6MjpyPDE8PDIxPzM6NDppPDE2Mzg0P2k8MTI4PzU6NjppPDE8PDIxPzc6ODpuPDEyOD85OjEwfSxuLk1QPWZ1bmN0aW9uKHQpe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiB0P3Q9ZS5ERSh0LCExKTpcInN0cmluZ1wiPT10eXBlb2YgdD90PWUua0UodCwhMSk6ITEhPT10LkZQJiYodD10LlVQKCkpLHQuc2hpZnRMZWZ0KDEpLnBUKHQuSFAoNjMpKS5CUCgpfSxuLnhQPWZ1bmN0aW9uKHQpe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiB0P3Q9ZS5ERSh0LCExKTpcInN0cmluZ1wiPT10eXBlb2YgdD90PWUua0UodCwhMSk6ITEhPT10LkZQJiYodD10LlVQKCkpLHQuTFAoMSkucFQodC5xUChlLk9ORSkuVVAoKS5xRSgpKS5VUCgpfSxzLkdQPWZ1bmN0aW9uKHQscil7dmFyIGk9dm9pZCAwPT09cjtpZihpJiYocj10aGlzLm9mZnNldCksIXRoaXMuQl8pe2lmKFwibnVtYmVyXCI9PXR5cGVvZiB0KXQ9ZS5ERSh0KTtlbHNlIGlmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXQ9ZS5rRSh0KTtlbHNlIGlmKCEodCYmdCBpbnN0YW5jZW9mIGUpKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgdmFsdWU6IFwiK3QrXCIgKG5vdCBhbiBpbnRlZ2VyIG9yIExvbmcpXCIpO2lmKFwibnVtYmVyXCIhPXR5cGVvZiByfHxyJTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IFwiK3IrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZigocj4+Pj0wKTwwfHxyKzA+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IDAgPD0gXCIrcitcIiAoKzApIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfVwibnVtYmVyXCI9PXR5cGVvZiB0P3Q9ZS5ERSh0LCExKTpcInN0cmluZ1wiPT10eXBlb2YgdD90PWUua0UodCwhMSk6ITEhPT10LkZQJiYodD10LlVQKCkpO3ZhciBzPW4uRFAodCksbz10LmtQKCk+Pj4wLGE9dC5MUCgyOCkua1AoKT4+PjAsaD10LkxQKDU2KS5rUCgpPj4+MDtyKz1zO3ZhciBjPXRoaXMuYnVmZmVyLmJ5dGVMZW5ndGg7c3dpdGNoKHI+YyYmdGhpcy5yZXNpemUoKGMqPTIpPnI/YzpyKSxyLT1zLHMpe2Nhc2UgMTA6dGhpcy52aWV3LnNldFVpbnQ4KHIrOSxoPj4+NyYxKTtjYXNlIDk6dGhpcy52aWV3LnNldFVpbnQ4KHIrOCw5IT09cz8xMjh8aDoxMjcmaCk7Y2FzZSA4OnRoaXMudmlldy5zZXRVaW50OChyKzcsOCE9PXM/YT4+PjIxfDEyODphPj4+MjEmMTI3KTtjYXNlIDc6dGhpcy52aWV3LnNldFVpbnQ4KHIrNiw3IT09cz9hPj4+MTR8MTI4OmE+Pj4xNCYxMjcpO2Nhc2UgNjp0aGlzLnZpZXcuc2V0VWludDgocis1LDYhPT1zP2E+Pj43fDEyODphPj4+NyYxMjcpO2Nhc2UgNTp0aGlzLnZpZXcuc2V0VWludDgocis0LDUhPT1zPzEyOHxhOjEyNyZhKTtjYXNlIDQ6dGhpcy52aWV3LnNldFVpbnQ4KHIrMyw0IT09cz9vPj4+MjF8MTI4Om8+Pj4yMSYxMjcpO2Nhc2UgMzp0aGlzLnZpZXcuc2V0VWludDgocisyLDMhPT1zP28+Pj4xNHwxMjg6bz4+PjE0JjEyNyk7Y2FzZSAyOnRoaXMudmlldy5zZXRVaW50OChyKzEsMiE9PXM/bz4+Pjd8MTI4Om8+Pj43JjEyNyk7Y2FzZSAxOnRoaXMudmlldy5zZXRVaW50OChyLDEhPT1zPzEyOHxvOjEyNyZvKX1yZXR1cm4gaT8odGhpcy5vZmZzZXQrPXMsdGhpcyk6c30scy5WUD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLkdQKG4uTVAoZSksdCl9LHMualA9ZnVuY3Rpb24odCl7dmFyIHI9dm9pZCAwPT09dDtpZihyJiYodD10aGlzLm9mZnNldCksIXRoaXMuQl8pe2lmKFwibnVtYmVyXCIhPXR5cGVvZiB0fHx0JTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IFwiK3QrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZigodD4+Pj0wKTwwfHx0KzE+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IDAgPD0gXCIrdCtcIiAoKzEpIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfXZhciBpPXQsbj0wLHM9MCxvPTAsYT0wO2lmKGE9dGhpcy52aWV3LmdldFVpbnQ4KHQrKyksbj0xMjcmYSwxMjgmYSYmKGE9dGhpcy52aWV3LmdldFVpbnQ4KHQrKyksbnw9KDEyNyZhKTw8NywxMjgmYSYmKGE9dGhpcy52aWV3LmdldFVpbnQ4KHQrKyksbnw9KDEyNyZhKTw8MTQsMTI4JmEmJihhPXRoaXMudmlldy5nZXRVaW50OCh0KyspLG58PSgxMjcmYSk8PDIxLDEyOCZhJiYoYT10aGlzLnZpZXcuZ2V0VWludDgodCsrKSxzPTEyNyZhLDEyOCZhJiYoYT10aGlzLnZpZXcuZ2V0VWludDgodCsrKSxzfD0oMTI3JmEpPDw3LDEyOCZhJiYoYT10aGlzLnZpZXcuZ2V0VWludDgodCsrKSxzfD0oMTI3JmEpPDwxNCwxMjgmYSYmKGE9dGhpcy52aWV3LmdldFVpbnQ4KHQrKyksc3w9KDEyNyZhKTw8MjEsMTI4JmEmJihhPXRoaXMudmlldy5nZXRVaW50OCh0KyspLG89MTI3JmEsMTI4JmEmJihhPXRoaXMudmlldy5nZXRVaW50OCh0KyspLG98PSgxMjcmYSk8PDcsMTI4JmEpKSkpKSkpKSkpdGhyb3cgRXJyb3IoXCJCdWZmZXIgb3ZlcnJ1blwiKTt2YXIgaD1lLnFJKG58czw8Mjgscz4+PjR8bzw8MjQsITEpO3JldHVybiByPyh0aGlzLm9mZnNldD10LGgpOnt2YWx1ZTpoLGxlbmd0aDp0LWl9fSxzLlFQPWZ1bmN0aW9uKHQpe3ZhciByPXRoaXMualAodCk7cmV0dXJuIHImJnIudmFsdWUgaW5zdGFuY2VvZiBlP3IudmFsdWU9bi54UChyLnZhbHVlKTpyPW4ueFAocikscn0pLHMuSGc9ZnVuY3Rpb24oZSxyKXt2YXIgaT12b2lkIDA9PT1yO2kmJihyPXRoaXMub2Zmc2V0KTt2YXIgbixzPWUubGVuZ3RoO2lmKCF0aGlzLkJfKXtpZihcInN0cmluZ1wiIT10eXBlb2YgZSl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIHN0cjogTm90IGEgc3RyaW5nXCIpO2ZvcihuPTA7bjxzOysrbilpZigwPT09ZS5jaGFyQ29kZUF0KG4pKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIHN0cjogQ29udGFpbnMgTlVMTC1jaGFyYWN0ZXJzXCIpO2lmKFwibnVtYmVyXCIhPXR5cGVvZiByfHxyJTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IFwiK3IrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZigocj4+Pj0wKTwwfHxyKzA+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IDAgPD0gXCIrcitcIiAoKzApIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfXM9Yy5LUCh0KGUpKVsxXSxyKz1zKzE7dmFyIG89dGhpcy5idWZmZXIuYnl0ZUxlbmd0aDtyZXR1cm4gcj5vJiZ0aGlzLnJlc2l6ZSgobyo9Mik+cj9vOnIpLHItPXMrMSxjLllQKHQoZSksZnVuY3Rpb24oZSl7dGhpcy52aWV3LnNldFVpbnQ4KHIrKyxlKX0uYmluZCh0aGlzKSksdGhpcy52aWV3LnNldFVpbnQ4KHIrKywwKSxpPyh0aGlzLm9mZnNldD1yLHRoaXMpOnN9LHMuWWc9ZnVuY3Rpb24oZSl7dmFyIHQ9dm9pZCAwPT09ZTtpZih0JiYoZT10aGlzLm9mZnNldCksIXRoaXMuQl8pe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlfHxlJTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IFwiK2UrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZigoZT4+Pj0wKTwwfHxlKzE+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IDAgPD0gXCIrZStcIiAoKzEpIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfXZhciBpLG49ZSxzPS0xO3JldHVybiBjLldQKGZ1bmN0aW9uKCl7aWYoMD09PXMpcmV0dXJuIG51bGw7aWYoZT49dGhpcy5GXyl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCByYW5nZTogVHJ1bmNhdGVkIGRhdGEsIFwiK2UrXCIgPCBcIit0aGlzLkZfKTtyZXR1cm4gMD09PShzPXRoaXMudmlldy5nZXRVaW50OChlKyspKT9udWxsOnN9LmJpbmQodGhpcyksaT1yKCksITApLHQ/KHRoaXMub2Zmc2V0PWUsaSgpKTp7c3RyaW5nOmkoKSxsZW5ndGg6ZS1ufX0scy56UD1mdW5jdGlvbihlLHIpe3ZhciBpPXZvaWQgMD09PXI7aWYoaSYmKHI9dGhpcy5vZmZzZXQpLCF0aGlzLkJfKXtpZihcInN0cmluZ1wiIT10eXBlb2YgZSl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIHN0cjogTm90IGEgc3RyaW5nXCIpO2lmKFwibnVtYmVyXCIhPXR5cGVvZiByfHxyJTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IFwiK3IrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZigocj4+Pj0wKTwwfHxyKzA+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IDAgPD0gXCIrcitcIiAoKzApIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfXZhciBuLHM9cjtuPWMuS1AodChlKSx0aGlzLkJfKVsxXSxyKz00K247dmFyIG89dGhpcy5idWZmZXIuYnl0ZUxlbmd0aDtpZihyPm8mJnRoaXMucmVzaXplKChvKj0yKT5yP286ciksci09NCtuLHRoaXMudmlldy5zZXRVaW50MzIocixuLHRoaXMuVV8pLHIrPTQsYy5ZUCh0KGUpLGZ1bmN0aW9uKGUpe3RoaXMudmlldy5zZXRVaW50OChyKyssZSl9LmJpbmQodGhpcykpLHIhPT1zKzQrbil0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCByYW5nZTogVHJ1bmNhdGVkIGRhdGEsIFwiK3IrXCIgPT0gXCIrKHIrNCtuKSk7cmV0dXJuIGk/KHRoaXMub2Zmc2V0PXIsdGhpcyk6ci1zfSxzLkpQPWZ1bmN0aW9uKGUpe3ZhciB0PXZvaWQgMD09PWU7aWYodCYmKGU9dGhpcy5vZmZzZXQpLCF0aGlzLkJfKXtpZihcIm51bWJlclwiIT10eXBlb2YgZXx8ZSUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBcIitlK1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKGU+Pj49MCk8MHx8ZSs0PnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiAwIDw9IFwiK2UrXCIgKCs0KSA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX12YXIgaSxuPTAscz1lO249dGhpcy52aWV3LmdldFVpbnQzMihlLHRoaXMuVV8pLGUrPTQ7dmFyIG8sYT1lK247cmV0dXJuIGMuV1AoZnVuY3Rpb24oKXtyZXR1cm4gZTxhP3RoaXMudmlldy5nZXRVaW50OChlKyspOm51bGx9LmJpbmQodGhpcyksbz1yKCksdGhpcy5CXyksaT1vKCksdD8odGhpcy5vZmZzZXQ9ZSxpKTp7c3RyaW5nOmksbGVuZ3RoOmUtc319LG4uWFA9XCJjXCIsbi5aUD1cImJcIixzLiRQPWZ1bmN0aW9uKGUscil7dmFyIGk9dm9pZCAwPT09cjtpZihpJiYocj10aGlzLm9mZnNldCksIXRoaXMuQl8pe2lmKFwibnVtYmVyXCIhPXR5cGVvZiByfHxyJTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IFwiK3IrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZigocj4+Pj0wKTwwfHxyKzA+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IDAgPD0gXCIrcitcIiAoKzApIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfXZhciBuLHM9cjtuPWMuS1AodChlKSlbMV0scis9bjt2YXIgbz10aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoO3JldHVybiByPm8mJnRoaXMucmVzaXplKChvKj0yKT5yP286ciksci09bixjLllQKHQoZSksZnVuY3Rpb24oZSl7dGhpcy52aWV3LnNldFVpbnQ4KHIrKyxlKX0uYmluZCh0aGlzKSksaT8odGhpcy5vZmZzZXQ9cix0aGlzKTpyLXN9LHMucWI9cy4kUCxuLmVBPWZ1bmN0aW9uKGUpe3JldHVybiBjLktQKHQoZSkpWzBdfSxuLnRBPWZ1bmN0aW9uKGUpe3JldHVybiBjLktQKHQoZSkpWzFdfSxzLnJBPWZ1bmN0aW9uKGUsdCxpKXtcIm51bWJlclwiPT10eXBlb2YgdCYmKGk9dCx0PXZvaWQgMCk7dmFyIHM9dm9pZCAwPT09aTtpZihzJiYoaT10aGlzLm9mZnNldCksdm9pZCAwPT09dCYmKHQ9bi5YUCksIXRoaXMuQl8pe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlfHxlJTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBsZW5ndGg6IFwiK2UrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZihlfD0wLFwibnVtYmVyXCIhPXR5cGVvZiBpfHxpJTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IFwiK2krXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZigoaT4+Pj0wKTwwfHxpKzA+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IDAgPD0gXCIraStcIiAoKzApIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfXZhciBvLGE9MCxoPWk7aWYodD09PW4uWFApe2lmKG89cigpLGMuaUEoZnVuY3Rpb24oKXtyZXR1cm4gYTxlJiZpPHRoaXMuRl8/dGhpcy52aWV3LmdldFVpbnQ4KGkrKyk6bnVsbH0uYmluZCh0aGlzKSxmdW5jdGlvbihlKXsrK2EsYy5uQShlLG8pfS5iaW5kKHRoaXMpKSxhIT09ZSl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCByYW5nZTogVHJ1bmNhdGVkIGRhdGEsIFwiK2ErXCIgPT0gXCIrZSk7cmV0dXJuIHM/KHRoaXMub2Zmc2V0PWksbygpKTp7c3RyaW5nOm8oKSxsZW5ndGg6aS1ofX1pZih0PT09bi5aUCl7aWYoIXRoaXMuQl8pe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBpfHxpJTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IFwiK2krXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZigoaT4+Pj0wKTwwfHxpK2U+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IDAgPD0gXCIraStcIiAoK1wiK2UrXCIpIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfXZhciB1PWkrZTtpZihjLldQKGZ1bmN0aW9uKCl7cmV0dXJuIGk8dT90aGlzLnZpZXcuZ2V0VWludDgoaSsrKTpudWxsfS5iaW5kKHRoaXMpLG89cigpLHRoaXMuQl8pLGkhPT11KXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIHJhbmdlOiBUcnVuY2F0ZWQgZGF0YSwgXCIraStcIiA9PSBcIit1KTtyZXR1cm4gcz8odGhpcy5vZmZzZXQ9aSxvKCkpOntzdHJpbmc6bygpLGxlbmd0aDppLWh9fXRocm93IFR5cGVFcnJvcihcIlVuc3VwcG9ydGVkIG1ldHJpY3M6IFwiK3QpfSxzLkxiPXMuckEscy5zQT1mdW5jdGlvbihlLHIpe3ZhciBpPXZvaWQgMD09PXI7aWYoaSYmKHI9dGhpcy5vZmZzZXQpLCF0aGlzLkJfKXtpZihcInN0cmluZ1wiIT10eXBlb2YgZSl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIHN0cjogTm90IGEgc3RyaW5nXCIpO2lmKFwibnVtYmVyXCIhPXR5cGVvZiByfHxyJTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IFwiK3IrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZigocj4+Pj0wKTwwfHxyKzA+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IDAgPD0gXCIrcitcIiAoKzApIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfXZhciBzLG8sYT1yO3M9Yy5LUCh0KGUpLHRoaXMuQl8pWzFdLG89bi5SUChzKSxyKz1vK3M7dmFyIGg9dGhpcy5idWZmZXIuYnl0ZUxlbmd0aDtpZihyPmgmJnRoaXMucmVzaXplKChoKj0yKT5yP2g6ciksci09bytzLHIrPXRoaXMuQ1AocyxyKSxjLllQKHQoZSksZnVuY3Rpb24oZSl7dGhpcy52aWV3LnNldFVpbnQ4KHIrKyxlKX0uYmluZCh0aGlzKSksciE9PWErcytvKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIHJhbmdlOiBUcnVuY2F0ZWQgZGF0YSwgXCIrcitcIiA9PSBcIisocitzK28pKTtyZXR1cm4gaT8odGhpcy5vZmZzZXQ9cix0aGlzKTpyLWF9LHMub0E9ZnVuY3Rpb24oZSl7dmFyIHQ9dm9pZCAwPT09ZTtpZih0JiYoZT10aGlzLm9mZnNldCksIXRoaXMuQl8pe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlfHxlJTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IFwiK2UrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZigoZT4+Pj0wKTwwfHxlKzE+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IDAgPD0gXCIrZStcIiAoKzEpIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfXZhciBpLG49dGhpcy5QUChlKSxzPWU7ZSs9bi5sZW5ndGgsbj1uLnZhbHVlO3ZhciBvPWUrbixhPXIoKTtyZXR1cm4gYy5XUChmdW5jdGlvbigpe3JldHVybiBlPG8/dGhpcy52aWV3LmdldFVpbnQ4KGUrKyk6bnVsbH0uYmluZCh0aGlzKSxhLHRoaXMuQl8pLGk9YSgpLHQ/KHRoaXMub2Zmc2V0PWUsaSk6e3N0cmluZzppLGxlbmd0aDplLXN9fSxzLmFwcGVuZD1mdW5jdGlvbihlLHQscil7XCJudW1iZXJcIiE9dHlwZW9mIHQmJlwic3RyaW5nXCI9PXR5cGVvZiB0fHwocj10LHQ9dm9pZCAwKTt2YXIgaT12b2lkIDA9PT1yO2lmKGkmJihyPXRoaXMub2Zmc2V0KSwhdGhpcy5CXyl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIHJ8fHIlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogXCIrcitcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKChyPj4+PTApPDB8fHIrMD50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogMCA8PSBcIityK1wiICgrMCkgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9ZSBpbnN0YW5jZW9mIG58fChlPW4ud3JhcChlLHQpKTt2YXIgcz1lLkZfLWUub2Zmc2V0O2lmKHM8PTApcmV0dXJuIHRoaXM7cis9czt2YXIgbz10aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoO3JldHVybiByPm8mJnRoaXMucmVzaXplKChvKj0yKT5yP286ciksci09cyxuZXcgVWludDhBcnJheSh0aGlzLmJ1ZmZlcixyKS5zZXQobmV3IFVpbnQ4QXJyYXkoZS5idWZmZXIpLnN1YmFycmF5KGUub2Zmc2V0LGUuRl8pKSxlLm9mZnNldCs9cyxpJiYodGhpcy5vZmZzZXQrPXMpLHRoaXN9LHMuYUE9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5hcHBlbmQodGhpcyx0KSx0aGlzfSxzLmFzc2VydD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5CXz0hZSx0aGlzfSxzLmhBPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYnVmZmVyLmJ5dGVMZW5ndGh9LHMuY2xlYXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vZmZzZXQ9MCx0aGlzLkZfPXRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgsdGhpcy5NXz0tMSx0aGlzfSxzLmNsb25lPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBuKDAsdGhpcy5VXyx0aGlzLkJfKTtpZihlKXt2YXIgcj1uZXcgQXJyYXlCdWZmZXIodGhpcy5idWZmZXIuYnl0ZUxlbmd0aCk7bmV3IFVpbnQ4QXJyYXkocikuc2V0KHRoaXMuYnVmZmVyKSx0LmJ1ZmZlcj1yLHQudmlldz1uZXcgRGF0YVZpZXcocil9ZWxzZSB0LmJ1ZmZlcj10aGlzLmJ1ZmZlcix0LnZpZXc9dGhpcy52aWV3O3JldHVybiB0Lm9mZnNldD10aGlzLm9mZnNldCx0Lk1fPXRoaXMuTV8sdC5GXz10aGlzLkZfLHR9LHMuY29tcGFjdD1mdW5jdGlvbihlLHQpe2lmKHZvaWQgMD09PWUmJihlPXRoaXMub2Zmc2V0KSx2b2lkIDA9PT10JiYodD10aGlzLkZfKSwhdGhpcy5CXyl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGV8fGUlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIGJlZ2luOiBOb3QgYW4gaW50ZWdlclwiKTtpZihlPj4+PTAsXCJudW1iZXJcIiE9dHlwZW9mIHR8fHQlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIGVuZDogTm90IGFuIGludGVnZXJcIik7aWYodD4+Pj0wLGU8MHx8ZT50fHx0PnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgcmFuZ2U6IDAgPD0gXCIrZStcIiA8PSBcIit0K1wiIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfWlmKDA9PT1lJiZ0PT09dGhpcy5idWZmZXIuYnl0ZUxlbmd0aClyZXR1cm4gdGhpczt2YXIgcj10LWU7aWYoMD09PXIpcmV0dXJuIHRoaXMuYnVmZmVyPW8sdGhpcy52aWV3PW51bGwsdGhpcy5NXz49MCYmKHRoaXMuTV8tPWUpLHRoaXMub2Zmc2V0PTAsdGhpcy5GXz0wLHRoaXM7dmFyIGk9bmV3IEFycmF5QnVmZmVyKHIpO3JldHVybiBuZXcgVWludDhBcnJheShpKS5zZXQobmV3IFVpbnQ4QXJyYXkodGhpcy5idWZmZXIpLnN1YmFycmF5KGUsdCkpLHRoaXMuYnVmZmVyPWksdGhpcy52aWV3PW5ldyBEYXRhVmlldyhpKSx0aGlzLk1fPj0wJiYodGhpcy5NXy09ZSksdGhpcy5vZmZzZXQ9MCx0aGlzLkZfPXIsdGhpc30scy5jQT1mdW5jdGlvbihlLHQpe2lmKHZvaWQgMD09PWUmJihlPXRoaXMub2Zmc2V0KSx2b2lkIDA9PT10JiYodD10aGlzLkZfKSwhdGhpcy5CXyl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGV8fGUlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIGJlZ2luOiBOb3QgYW4gaW50ZWdlclwiKTtpZihlPj4+PTAsXCJudW1iZXJcIiE9dHlwZW9mIHR8fHQlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIGVuZDogTm90IGFuIGludGVnZXJcIik7aWYodD4+Pj0wLGU8MHx8ZT50fHx0PnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgcmFuZ2U6IDAgPD0gXCIrZStcIiA8PSBcIit0K1wiIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfWlmKGU9PT10KXJldHVybiBuZXcgbigwLHRoaXMuVV8sdGhpcy5CXyk7dmFyIHI9dC1lLGk9bmV3IG4ocix0aGlzLlVfLHRoaXMuQl8pO3JldHVybiBpLm9mZnNldD0wLGkuRl89cixpLk1fPj0wJiYoaS5NXy09ZSksdGhpcy5qRShpLDAsZSx0KSxpfSxzLmpFPWZ1bmN0aW9uKGUsdCxyLGkpe3ZhciBzLG87aWYoIXRoaXMuQl8mJiFuLlZfKGUpKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgdGFyZ2V0OiBOb3QgYSBCeXRlQnVmZmVyXCIpO2lmKHQ9KG89dm9pZCAwPT09dCk/ZS5vZmZzZXQ6MHx0LHI9KHM9dm9pZCAwPT09cik/dGhpcy5vZmZzZXQ6MHxyLGk9dm9pZCAwPT09aT90aGlzLkZfOjB8aSx0PDB8fHQ+ZS5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCB0YXJnZXQgcmFuZ2U6IDAgPD0gXCIrdCtcIiA8PSBcIitlLmJ1ZmZlci5ieXRlTGVuZ3RoKTtpZihyPDB8fGk+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBzb3VyY2UgcmFuZ2U6IDAgPD0gXCIrcitcIiA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKTt2YXIgYT1pLXI7cmV0dXJuIDA9PT1hP2U6KGUudUEodCthKSxuZXcgVWludDhBcnJheShlLmJ1ZmZlcikuc2V0KG5ldyBVaW50OEFycmF5KHRoaXMuYnVmZmVyKS5zdWJhcnJheShyLGkpLHQpLHMmJih0aGlzLm9mZnNldCs9YSksbyYmKGUub2Zmc2V0Kz1hKSx0aGlzKX0scy51QT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoO3JldHVybiB0PGU/dGhpcy5yZXNpemUoKHQqPTIpPmU/dDplKTp0aGlzfSxzLmZpbGw9ZnVuY3Rpb24oZSx0LHIpe3ZhciBpPXZvaWQgMD09PXQ7aWYoaSYmKHQ9dGhpcy5vZmZzZXQpLFwic3RyaW5nXCI9PXR5cGVvZiBlJiZlLmxlbmd0aD4wJiYoZT1lLmNoYXJDb2RlQXQoMCkpLHZvaWQgMD09PXQmJih0PXRoaXMub2Zmc2V0KSx2b2lkIDA9PT1yJiYocj10aGlzLkZfKSwhdGhpcy5CXyl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGV8fGUlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIHZhbHVlOiBcIitlK1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoZXw9MCxcIm51bWJlclwiIT10eXBlb2YgdHx8dCUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgYmVnaW46IE5vdCBhbiBpbnRlZ2VyXCIpO2lmKHQ+Pj49MCxcIm51bWJlclwiIT10eXBlb2Ygcnx8ciUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgZW5kOiBOb3QgYW4gaW50ZWdlclwiKTtpZihyPj4+PTAsdDwwfHx0PnJ8fHI+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCByYW5nZTogMCA8PSBcIit0K1wiIDw9IFwiK3IrXCIgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9aWYodD49cilyZXR1cm4gdGhpcztmb3IoO3Q8cjspdGhpcy52aWV3LnNldFVpbnQ4KHQrKyxlKTtyZXR1cm4gaSYmKHRoaXMub2Zmc2V0PXQpLHRoaXN9LHMueGc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5GXz10aGlzLm9mZnNldCx0aGlzLm9mZnNldD0wLHRoaXN9LHMubWFyaz1mdW5jdGlvbihlKXtpZihlPXZvaWQgMD09PWU/dGhpcy5vZmZzZXQ6ZSwhdGhpcy5CXyl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGV8fGUlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogXCIrZStcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKChlPj4+PTApPDB8fGUrMD50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogMCA8PSBcIitlK1wiICgrMCkgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9cmV0dXJuIHRoaXMuTV89ZSx0aGlzfSxzLm9yZGVyPWZ1bmN0aW9uKGUpe2lmKCF0aGlzLkJfJiZcImJvb2xlYW5cIiE9dHlwZW9mIGUpdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBsaXR0bGVFbmRpYW46IE5vdCBhIGJvb2xlYW5cIik7cmV0dXJuIHRoaXMuVV89ISFlLHRoaXN9LHMubEE9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuVV89dm9pZCAwPT09ZXx8ISFlLHRoaXN9LHMucEE9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuVV89dm9pZCAwIT09ZSYmIWUsdGhpc30scy5kQT1mdW5jdGlvbihlLHQscil7XCJudW1iZXJcIiE9dHlwZW9mIHQmJlwic3RyaW5nXCI9PXR5cGVvZiB0fHwocj10LHQ9dm9pZCAwKTt2YXIgaT12b2lkIDA9PT1yO2lmKGkmJihyPXRoaXMub2Zmc2V0KSwhdGhpcy5CXyl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIHJ8fHIlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogXCIrcitcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKChyPj4+PTApPDB8fHIrMD50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogMCA8PSBcIityK1wiICgrMCkgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9ZSBpbnN0YW5jZW9mIG58fChlPW4ud3JhcChlLHQpKTt2YXIgcz1lLkZfLWUub2Zmc2V0O2lmKHM8PTApcmV0dXJuIHRoaXM7dmFyIG8sYT1zLXI7aWYoYT4wKXt2YXIgaD1uZXcgQXJyYXlCdWZmZXIodGhpcy5idWZmZXIuYnl0ZUxlbmd0aCthKTtvPW5ldyBVaW50OEFycmF5KGgpLG8uc2V0KG5ldyBVaW50OEFycmF5KHRoaXMuYnVmZmVyKS5zdWJhcnJheShyLHRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpLHMpLHRoaXMuYnVmZmVyPWgsdGhpcy52aWV3PW5ldyBEYXRhVmlldyhoKSx0aGlzLm9mZnNldCs9YSx0aGlzLk1fPj0wJiYodGhpcy5NXys9YSksdGhpcy5GXys9YSxyKz1hfWVsc2Ugbz1uZXcgVWludDhBcnJheSh0aGlzLmJ1ZmZlcik7cmV0dXJuIG8uc2V0KG5ldyBVaW50OEFycmF5KGUuYnVmZmVyKS5zdWJhcnJheShlLm9mZnNldCxlLkZfKSxyLXMpLGUub2Zmc2V0PWUuRl8saSYmKHRoaXMub2Zmc2V0LT1zKSx0aGlzfSxzLmZBPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuZEEodGhpcyx0KSx0aGlzfSxzLmdBPWZ1bmN0aW9uKGUpe1wiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJihlPWNvbnNvbGUubG9nLmJpbmQoY29uc29sZSkpLGUodGhpcy50b1N0cmluZygpK1wiXFxuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxcblwiK3RoaXMuRUEoITApKX0scy52QT1mdW5jdGlvbigpe3JldHVybiB0aGlzLkZfLXRoaXMub2Zmc2V0fSxzLnJlc2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuTV8+PTA/KHRoaXMub2Zmc2V0PXRoaXMuTV8sdGhpcy5NXz0tMSk6dGhpcy5vZmZzZXQ9MCx0aGlzfSxzLnJlc2l6ZT1mdW5jdGlvbihlKXtpZighdGhpcy5CXyl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGV8fGUlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIGNhcGFjaXR5OiBcIitlK1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKGV8PTApPDApdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgY2FwYWNpdHk6IDAgPD0gXCIrZSl9aWYodGhpcy5idWZmZXIuYnl0ZUxlbmd0aDxlKXt2YXIgdD1uZXcgQXJyYXlCdWZmZXIoZSk7bmV3IFVpbnQ4QXJyYXkodCkuc2V0KG5ldyBVaW50OEFycmF5KHRoaXMuYnVmZmVyKSksdGhpcy5idWZmZXI9dCx0aGlzLnZpZXc9bmV3IERhdGFWaWV3KHQpfXJldHVybiB0aGlzfSxzLnJldmVyc2U9ZnVuY3Rpb24oZSx0KXtpZih2b2lkIDA9PT1lJiYoZT10aGlzLm9mZnNldCksdm9pZCAwPT09dCYmKHQ9dGhpcy5GXyksIXRoaXMuQl8pe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlfHxlJTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBiZWdpbjogTm90IGFuIGludGVnZXJcIik7aWYoZT4+Pj0wLFwibnVtYmVyXCIhPXR5cGVvZiB0fHx0JTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBlbmQ6IE5vdCBhbiBpbnRlZ2VyXCIpO2lmKHQ+Pj49MCxlPDB8fGU+dHx8dD50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIHJhbmdlOiAwIDw9IFwiK2UrXCIgPD0gXCIrdCtcIiA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX1yZXR1cm4gZT09PXQ/dGhpczooQXJyYXkucHJvdG90eXBlLnJldmVyc2UuY2FsbChuZXcgVWludDhBcnJheSh0aGlzLmJ1ZmZlcikuc3ViYXJyYXkoZSx0KSksdGhpcy52aWV3PW5ldyBEYXRhVmlldyh0aGlzLmJ1ZmZlciksdGhpcyl9LHMuTWI9ZnVuY3Rpb24oZSl7aWYoIXRoaXMuQl8pe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlfHxlJTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBsZW5ndGg6IFwiK2UrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtlfD0wfXZhciB0PXRoaXMub2Zmc2V0K2U7aWYoIXRoaXMuQl8mJih0PDB8fHQ+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCkpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgbGVuZ3RoOiAwIDw9IFwiK3RoaXMub2Zmc2V0K1wiICsgXCIrZStcIiA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKTtyZXR1cm4gdGhpcy5vZmZzZXQ9dCx0aGlzfSxzLnNsaWNlPWZ1bmN0aW9uKGUsdCl7aWYodm9pZCAwPT09ZSYmKGU9dGhpcy5vZmZzZXQpLHZvaWQgMD09PXQmJih0PXRoaXMuRl8pLCF0aGlzLkJfKXtpZihcIm51bWJlclwiIT10eXBlb2YgZXx8ZSUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgYmVnaW46IE5vdCBhbiBpbnRlZ2VyXCIpO2lmKGU+Pj49MCxcIm51bWJlclwiIT10eXBlb2YgdHx8dCUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgZW5kOiBOb3QgYW4gaW50ZWdlclwiKTtpZih0Pj4+PTAsZTwwfHxlPnR8fHQ+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCByYW5nZTogMCA8PSBcIitlK1wiIDw9IFwiK3QrXCIgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9dmFyIHI9dGhpcy5jbG9uZSgpO3JldHVybiByLm9mZnNldD1lLHIuRl89dCxyfSxzLnlBPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMub2Zmc2V0LHI9dGhpcy5GXztpZih0PnIpe3ZhciBpPXQ7dD1yLHI9aX1pZighdGhpcy5CXyl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIHR8fHQlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogTm90IGFuIGludGVnZXJcIik7aWYodD4+Pj0wLFwibnVtYmVyXCIhPXR5cGVvZiByfHxyJTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBsaW1pdDogTm90IGFuIGludGVnZXJcIik7aWYocj4+Pj0wLHQ8MHx8dD5yfHxyPnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgcmFuZ2U6IDAgPD0gXCIrdCtcIiA8PSBcIityK1wiIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfWlmKCFlJiYwPT09dCYmcj09PXRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpcmV0dXJuIHRoaXMuYnVmZmVyO2lmKHQ9PT1yKXJldHVybiBvO3ZhciBuPW5ldyBBcnJheUJ1ZmZlcihyLXQpO3JldHVybiBuZXcgVWludDhBcnJheShuKS5zZXQobmV3IFVpbnQ4QXJyYXkodGhpcy5idWZmZXIpLnN1YmFycmF5KHQsciksMCksbn0scy50Yz1zLnlBLHMudG9TdHJpbmc9ZnVuY3Rpb24oZSx0LHIpe2lmKHZvaWQgMD09PWUpcmV0dXJuXCJCeXRlQnVmZmVyQUIob2Zmc2V0PVwiK3RoaXMub2Zmc2V0K1wiLG1hcmtlZE9mZnNldD1cIit0aGlzLk1fK1wiLGxpbWl0PVwiK3RoaXMuRl8rXCIsY2FwYWNpdHk9XCIrdGhpcy5oQSgpK1wiKVwiO3N3aXRjaChcIm51bWJlclwiPT10eXBlb2YgZSYmKGU9XCJ1dGY4XCIsdD1lLHI9dCksZSl7Y2FzZVwidXRmOFwiOnJldHVybiB0aGlzLlRBKHQscik7Y2FzZVwiYmFzZTY0XCI6cmV0dXJuIHRoaXMubUEodCxyKTtjYXNlXCJoZXhcIjpyZXR1cm4gdGhpcy5JQSh0LHIpO2Nhc2VcImJpbmFyeVwiOnJldHVybiB0aGlzLlNBKHQscik7Y2FzZVwiZGVidWdcIjpyZXR1cm4gdGhpcy5FQSgpO2Nhc2VcImNvbHVtbnNcIjpyZXR1cm4gdGhpcy5SQSgpO2RlZmF1bHQ6dGhyb3cgRXJyb3IoXCJVbnN1cHBvcnRlZCBlbmNvZGluZzogXCIrZSl9fTt2YXIgaD1mdW5jdGlvbigpe2Zvcih2YXIgZT17fSx0PVs2NSw2Niw2Nyw2OCw2OSw3MCw3MSw3Miw3Myw3NCw3NSw3Niw3Nyw3OCw3OSw4MCw4MSw4Miw4Myw4NCw4NSw4Niw4Nyw4OCw4OSw5MCw5Nyw5OCw5OSwxMDAsMTAxLDEwMiwxMDMsMTA0LDEwNSwxMDYsMTA3LDEwOCwxMDksMTEwLDExMSwxMTIsMTEzLDExNCwxMTUsMTE2LDExNywxMTgsMTE5LDEyMCwxMjEsMTIyLDQ4LDQ5LDUwLDUxLDUyLDUzLDU0LDU1LDU2LDU3LDQzLDQ3XSxyPVtdLGk9MCxuPXQubGVuZ3RoO2k8bjsrK2kpclt0W2ldXT1pO3JldHVybiBlLmVuY29kZT1mdW5jdGlvbihlLHIpe2Zvcih2YXIgaSxuO251bGwhPT0oaT1lKCkpOylyKHRbaT4+MiY2M10pLG49KDMmaSk8PDQsbnVsbCE9PShpPWUoKSk/KG58PWk+PjQmMTUscih0WzYzJihufGk+PjQmMTUpXSksbj0oMTUmaSk8PDIsbnVsbCE9PShpPWUoKSk/KHIodFs2MyYobnxpPj42JjMpXSkscih0WzYzJmldKSk6KHIodFs2MyZuXSkscig2MSkpKToocih0WzYzJm5dKSxyKDYxKSxyKDYxKSl9LGUuZGVjb2RlPWZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gaShlKXt0aHJvdyBFcnJvcihcIklsbGVnYWwgY2hhcmFjdGVyIGNvZGU6IFwiK2UpfWZvcih2YXIgbixzLG87bnVsbCE9PShuPWUoKSk7KWlmKHM9cltuXSx2b2lkIDA9PT1zJiZpKG4pLG51bGwhPT0obj1lKCkpJiYobz1yW25dLHZvaWQgMD09PW8mJmkobiksdChzPDwyPj4+MHwoNDgmbyk+PjQpLG51bGwhPT0obj1lKCkpKSl7aWYodm9pZCAwPT09KHM9cltuXSkpe2lmKDYxPT09bilicmVhaztpKG4pfWlmKHQoKDE1Jm8pPDw0Pj4+MHwoNjAmcyk+PjIpLG51bGwhPT0obj1lKCkpKXtpZih2b2lkIDA9PT0obz1yW25dKSl7aWYoNjE9PT1uKWJyZWFrO2kobil9dCgoMyZzKTw8Nj4+PjB8byl9fX0sZS50ZXN0PWZ1bmN0aW9uKGUpe3JldHVybi9eKD86W0EtWmEtejAtOStcXC9dezR9KSooPzpbQS1aYS16MC05K1xcL117Mn09PXxbQS1aYS16MC05K1xcL117M309KT8kLy50ZXN0KGUpfSxlfSgpO3MubUE9ZnVuY3Rpb24oZSx0KXtpZih2b2lkIDA9PT1lJiYoZT10aGlzLm9mZnNldCksdm9pZCAwPT09dCYmKHQ9dGhpcy5GXyksIXRoaXMuQl8pe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlfHxlJTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBiZWdpbjogTm90IGFuIGludGVnZXJcIik7aWYoZT4+Pj0wLFwibnVtYmVyXCIhPXR5cGVvZiB0fHx0JTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBlbmQ6IE5vdCBhbiBpbnRlZ2VyXCIpO2lmKHQ+Pj49MCxlPDB8fGU+dHx8dD50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIHJhbmdlOiAwIDw9IFwiK2UrXCIgPD0gXCIrdCtcIiA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX12YXIgaTtyZXR1cm4gaC5lbmNvZGUoZnVuY3Rpb24oKXtyZXR1cm4gZTx0P3RoaXMudmlldy5nZXRVaW50OChlKyspOm51bGx9LmJpbmQodGhpcyksaT1yKCkpLGkoKX0sbi5qXz1mdW5jdGlvbihlLHIsaSl7aWYoIWkpe2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgc3RyOiBOb3QgYSBzdHJpbmdcIik7aWYoZS5sZW5ndGglNCE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIHN0cjogTGVuZ3RoIG5vdCBhIG11bHRpcGxlIG9mIDRcIil9dmFyIHM9bmV3IG4oZS5sZW5ndGgvNCozLHIsaSksbz0wO3JldHVybiBoLmRlY29kZSh0KGUpLGZ1bmN0aW9uKGUpe3Mudmlldy5zZXRVaW50OChvKyssZSl9KSxzLkZfPW8sc30sbi5idG9hPWZ1bmN0aW9uKGUpe3JldHVybiBuLktfKGUpLm1BKCl9LG4uYXRvYj1mdW5jdGlvbihlKXtyZXR1cm4gbi5qXyhlKS5TQSgpfSxzLlNBPWZ1bmN0aW9uKGUsdCl7aWYoZT12b2lkIDA9PT1lP3RoaXMub2Zmc2V0OmUsdD12b2lkIDA9PT10P3RoaXMuRl86dCwhdGhpcy5CXyl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGV8fGUlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIGJlZ2luOiBOb3QgYW4gaW50ZWdlclwiKTtpZihlPj4+PTAsXCJudW1iZXJcIiE9dHlwZW9mIHR8fHQlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIGVuZDogTm90IGFuIGludGVnZXJcIik7aWYodD4+Pj0wLGU8MHx8ZT50fHx0PnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgcmFuZ2U6IDAgPD0gXCIrZStcIiA8PSBcIit0K1wiIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfWlmKGU9PT10KXJldHVyblwiXCI7Zm9yKHZhciByPVtdLGk9W107ZTx0OylyLnB1c2godGhpcy52aWV3LmdldFVpbnQ4KGUrKykpLHIubGVuZ3RoPj0xMDI0JiYoaS5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLHIpKSxyPVtdKTtyZXR1cm4gaS5qb2luKFwiXCIpK1N0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLHIpfSxuLktfPWZ1bmN0aW9uKGUsdCxyKXtpZighciYmXCJzdHJpbmdcIiE9dHlwZW9mIGUpdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBzdHI6IE5vdCBhIHN0cmluZ1wiKTtmb3IodmFyIGkscz0wLG89ZS5sZW5ndGgsYT1uZXcgbihvLHQscik7czxvOyl7aWYoaT1lLmNoYXJDb2RlQXQocyksIXImJmk+MjU1KXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIGNoYXJDb2RlIGF0IFwiK3MrXCI6IDAgPD0gXCIraStcIiA8PSAyNTVcIik7YS52aWV3LnNldFVpbnQ4KHMrKyxpKX1yZXR1cm4gYS5GXz1vLGF9LHMuRUE9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LHI9LTEsaT10aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoLG49XCJcIixzPVwiXCIsbz1cIlwiO3I8aTspe2lmKC0xIT09ciYmKHQ9dGhpcy52aWV3LmdldFVpbnQ4KHIpLG4rPXQ8MTY/XCIwXCIrdC50b1N0cmluZygxNikudG9VcHBlckNhc2UoKTp0LnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpLGUmJihzKz10PjMyJiZ0PDEyNz9TdHJpbmcuZnJvbUNoYXJDb2RlKHQpOlwiLlwiKSksKytyLGUmJnI+MCYmciUxNj09MCYmciE9PWkpe2Zvcig7bi5sZW5ndGg8NTE7KW4rPVwiIFwiO28rPW4rcytcIlxcblwiLG49cz1cIlwifXI9PT10aGlzLm9mZnNldCYmcj09PXRoaXMuRl8/bis9cj09PXRoaXMuTV8/XCIhXCI6XCJ8XCI6cj09PXRoaXMub2Zmc2V0P24rPXI9PT10aGlzLk1fP1wiW1wiOlwiPFwiOnI9PT10aGlzLkZfP24rPXI9PT10aGlzLk1fP1wiXVwiOlwiPlwiOm4rPXI9PT10aGlzLk1fP1wiJ1wiOmV8fDAhPT1yJiZyIT09aT9cIiBcIjpcIlwifWlmKGUmJlwiIFwiIT09bil7Zm9yKDtuLmxlbmd0aDw1MTspbis9XCIgXCI7bys9bitzK1wiXFxuXCJ9cmV0dXJuIGU/bzpufSxuLldfPWZ1bmN0aW9uKGUsdCxyKXtmb3IodmFyIGkscyxvPWUubGVuZ3RoLGE9bmV3IG4oKG8rMSkvM3wwLHQsciksaD0wLGM9MCx1PSExLGw9ITEscD0hMSxkPSExLGY9ITE7aDxvOyl7c3dpdGNoKGk9ZS5jaGFyQXQoaCsrKSl7Y2FzZVwiIVwiOmlmKCFyKXtpZihsfHxwfHxkKXtmPSEwO2JyZWFrfWw9cD1kPSEwfWEub2Zmc2V0PWEuTV89YS5GXz1jLHU9ITE7YnJlYWs7Y2FzZVwifFwiOmlmKCFyKXtpZihsfHxkKXtmPSEwO2JyZWFrfWw9ZD0hMH1hLm9mZnNldD1hLkZfPWMsdT0hMTticmVhaztjYXNlXCJbXCI6aWYoIXIpe2lmKGx8fHApe2Y9ITA7YnJlYWt9bD1wPSEwfWEub2Zmc2V0PWEuTV89Yyx1PSExO2JyZWFrO2Nhc2VcIjxcIjppZighcil7aWYobCl7Zj0hMDticmVha31sPSEwfWEub2Zmc2V0PWMsdT0hMTticmVhaztjYXNlXCJdXCI6aWYoIXIpe2lmKGR8fHApe2Y9ITA7YnJlYWt9ZD1wPSEwfWEuRl89YS5NXz1jLHU9ITE7YnJlYWs7Y2FzZVwiPlwiOmlmKCFyKXtpZihkKXtmPSEwO2JyZWFrfWQ9ITB9YS5GXz1jLHU9ITE7YnJlYWs7Y2FzZVwiJ1wiOmlmKCFyKXtpZihwKXtmPSEwO2JyZWFrfXA9ITB9YS5NXz1jLHU9ITE7YnJlYWs7Y2FzZVwiIFwiOnU9ITE7YnJlYWs7ZGVmYXVsdDppZighciYmdSl7Zj0hMDticmVha31pZihzPXBhcnNlSW50KGkrZS5jaGFyQXQoaCsrKSwxNiksIXImJihpc05hTihzKXx8czwwfHxzPjI1NSkpdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBzdHI6IE5vdCBhIGRlYnVnIGVuY29kZWQgc3RyaW5nXCIpO2Eudmlldy5zZXRVaW50OChjKysscyksdT0hMH1pZihmKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgc3RyOiBJbnZhbGlkIHN5bWJvbCBhdCBcIitoKX1pZighcil7aWYoIWx8fCFkKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgc3RyOiBNaXNzaW5nIG9mZnNldCBvciBsaW1pdFwiKTtpZihjPGEuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBzdHI6IE5vdCBhIGRlYnVnIGVuY29kZWQgc3RyaW5nIChpcyBpdCBoZXg/KSBcIitjK1wiIDwgXCIrbyl9cmV0dXJuIGF9LHMuSUE9ZnVuY3Rpb24oZSx0KXtpZihlPXZvaWQgMD09PWU/dGhpcy5vZmZzZXQ6ZSx0PXZvaWQgMD09PXQ/dGhpcy5GXzp0LCF0aGlzLkJfKXtpZihcIm51bWJlclwiIT10eXBlb2YgZXx8ZSUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgYmVnaW46IE5vdCBhbiBpbnRlZ2VyXCIpO2lmKGU+Pj49MCxcIm51bWJlclwiIT10eXBlb2YgdHx8dCUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgZW5kOiBOb3QgYW4gaW50ZWdlclwiKTtpZih0Pj4+PTAsZTwwfHxlPnR8fHQ+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCByYW5nZTogMCA8PSBcIitlK1wiIDw9IFwiK3QrXCIgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9Zm9yKHZhciByLGk9bmV3IEFycmF5KHQtZSk7ZTx0OylyPXRoaXMudmlldy5nZXRVaW50OChlKyspLHI8MTY/aS5wdXNoKFwiMFwiLHIudG9TdHJpbmcoMTYpKTppLnB1c2goci50b1N0cmluZygxNikpO3JldHVybiBpLmpvaW4oXCJcIil9LG4uUV89ZnVuY3Rpb24oZSx0LHIpe2lmKCFyKXtpZihcInN0cmluZ1wiIT10eXBlb2YgZSl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIHN0cjogTm90IGEgc3RyaW5nXCIpO2lmKGUubGVuZ3RoJTIhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBzdHI6IExlbmd0aCBub3QgYSBtdWx0aXBsZSBvZiAyXCIpfWZvcih2YXIgaSxzPWUubGVuZ3RoLG89bmV3IG4ocy8yfDAsdCksYT0wLGg9MDthPHM7YSs9Mil7aWYoaT1wYXJzZUludChlLnN1YnN0cmluZyhhLGErMiksMTYpLCFyJiYoIWlzRmluaXRlKGkpfHxpPDB8fGk+MjU1KSl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIHN0cjogQ29udGFpbnMgbm9uLWhleCBjaGFyYWN0ZXJzXCIpO28udmlldy5zZXRVaW50OChoKyssaSl9cmV0dXJuIG8uRl89aCxvfTt2YXIgYz1mdW5jdGlvbigpe3ZhciBlPXt9O3JldHVybiBlLndBPTExMTQxMTEsZS5iQT1mdW5jdGlvbihlLHQpe3ZhciByPW51bGw7Zm9yKFwibnVtYmVyXCI9PXR5cGVvZiBlJiYocj1lLGU9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0pO251bGwhPT1yfHxudWxsIT09KHI9ZSgpKTspcjwxMjg/dCgxMjcmcik6cjwyMDQ4Pyh0KHI+PjYmMzF8MTkyKSx0KDYzJnJ8MTI4KSk6cjw2NTUzNj8odChyPj4xMiYxNXwyMjQpLHQocj4+NiY2M3wxMjgpLHQoNjMmcnwxMjgpKToodChyPj4xOCY3fDI0MCksdChyPj4xMiY2M3wxMjgpLHQocj4+NiY2M3wxMjgpLHQoNjMmcnwxMjgpKSxyPW51bGx9LGUuaUE9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIsaSxuLHMsbz1mdW5jdGlvbihlKXtlPWUuc2xpY2UoMCxlLmluZGV4T2YobnVsbCkpO3ZhciB0PUVycm9yKGUudG9TdHJpbmcoKSk7dGhyb3cgdC5uYW1lPVwiVHJ1bmNhdGVkRXJyb3JcIix0LmJ5dGVzPWUsdH07bnVsbCE9PShyPWUoKSk7KWlmKDA9PSgxMjgmcikpdChyKTtlbHNlIGlmKDE5Mj09KDIyNCZyKSludWxsPT09KGk9ZSgpKSYmbyhbcixpXSksdCgoMzEmcik8PDZ8NjMmaSk7ZWxzZSBpZigyMjQ9PSgyNDAmcikpKG51bGw9PT0oaT1lKCkpfHxudWxsPT09KG49ZSgpKSkmJm8oW3IsaSxuXSksdCgoMTUmcik8PDEyfCg2MyZpKTw8Nnw2MyZuKTtlbHNle2lmKDI0MCE9KDI0OCZyKSl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBzdGFydGluZyBieXRlOiBcIityKTsobnVsbD09PShpPWUoKSl8fG51bGw9PT0obj1lKCkpfHxudWxsPT09KHM9ZSgpKSkmJm8oW3IsaSxuLHNdKSx0KCg3JnIpPDwxOHwoNjMmaSk8PDEyfCg2MyZuKTw8Nnw2MyZzKX19LGUuQ0E9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIsaT1udWxsOzspe2lmKG51bGw9PT0ocj1udWxsIT09aT9pOmUoKSkpYnJlYWs7cj49NTUyOTYmJnI8PTU3MzQzJiZudWxsIT09KGk9ZSgpKSYmaT49NTYzMjAmJmk8PTU3MzQzPyh0KDEwMjQqKHItNTUyOTYpK2ktNTYzMjArNjU1MzYpLGk9bnVsbCk6dChyKX1udWxsIT09aSYmdChpKX0sZS5uQT1mdW5jdGlvbihlLHQpe3ZhciByPW51bGw7Zm9yKFwibnVtYmVyXCI9PXR5cGVvZiBlJiYocj1lLGU9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0pO251bGwhPT1yfHxudWxsIT09KHI9ZSgpKTspcjw9NjU1MzU/dChyKTooci09NjU1MzYsdCg1NTI5Nisocj4+MTApKSx0KHIlMTAyNCs1NjMyMCkpLHI9bnVsbH0sZS5ZUD1mdW5jdGlvbih0LHIpe2UuQ0EodCxmdW5jdGlvbih0KXtlLmJBKHQscil9KX0sZS5XUD1mdW5jdGlvbih0LHIpe2UuaUEodCxmdW5jdGlvbih0KXtlLm5BKHQscil9KX0sZS5fQT1mdW5jdGlvbihlKXtyZXR1cm4gZTwxMjg/MTplPDIwNDg/MjplPDY1NTM2PzM6NH0sZS5QQT1mdW5jdGlvbih0KXtmb3IodmFyIHIsaT0wO251bGwhPT0ocj10KCkpOylpKz1lLl9BKHIpO3JldHVybiBpfSxlLktQPWZ1bmN0aW9uKHQpe3ZhciByPTAsaT0wO3JldHVybiBlLkNBKHQsZnVuY3Rpb24odCl7KytyLGkrPWUuX0EodCl9KSxbcixpXX0sZX0oKTtyZXR1cm4gcy5UQT1mdW5jdGlvbihlLHQpe2lmKHZvaWQgMD09PWUmJihlPXRoaXMub2Zmc2V0KSx2b2lkIDA9PT10JiYodD10aGlzLkZfKSwhdGhpcy5CXyl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGV8fGUlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIGJlZ2luOiBOb3QgYW4gaW50ZWdlclwiKTtpZihlPj4+PTAsXCJudW1iZXJcIiE9dHlwZW9mIHR8fHQlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIGVuZDogTm90IGFuIGludGVnZXJcIik7aWYodD4+Pj0wLGU8MHx8ZT50fHx0PnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgcmFuZ2U6IDAgPD0gXCIrZStcIiA8PSBcIit0K1wiIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfXZhciBpO3RyeXtjLldQKGZ1bmN0aW9uKCl7cmV0dXJuIGU8dD90aGlzLnZpZXcuZ2V0VWludDgoZSsrKTpudWxsfS5iaW5kKHRoaXMpLGk9cigpKX1jYXRjaChyKXtpZihlIT09dCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCByYW5nZTogVHJ1bmNhdGVkIGRhdGEsIFwiK2UrXCIgIT0gXCIrdCl9cmV0dXJuIGkoKX0sbi5ZXz1mdW5jdGlvbihlLHIsaSl7aWYoIWkmJlwic3RyaW5nXCIhPXR5cGVvZiBlKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgc3RyOiBOb3QgYSBzdHJpbmdcIik7dmFyIHM9bmV3IG4oYy5LUCh0KGUpLCEwKVsxXSxyLGkpLG89MDtyZXR1cm4gYy5ZUCh0KGUpLGZ1bmN0aW9uKGUpe3Mudmlldy5zZXRVaW50OChvKyssZSl9KSxzLkZfPW8sc30sbn1cIm9iamVjdFwiPT10eXBlb2YgZSYmZSYmXCJvYmplY3RcIj09dHlwZW9mIHQmJnQ/ZS5pPWZ1bmN0aW9uKCl7dmFyIGU7dHJ5e2U9cig5Myl9Y2F0Y2goZSl7fXJldHVybiBhKGUpfSgpOihuPVtyKDk0KV0sdm9pZCAwIT09KHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGEoZSl9LmFwcGx5KHQsbikpJiYoZS5pPXMpKX0oKX0pLmNhbGwodCxyKDYzKShlKSl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1yKDQpLG49cigwKSxzPXIoMjUpLG89cig0NyksYT1yKDE2NCksaD1yKDYpLGM9cigxKSx1PXIoMiksbD1oLmhlLlJoLHA9aC5oZS5UaCxkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQscixpKXt0aGlzLmxvZ2dlcklkPVwiW1AyUERpc3BhdGNoZXJdIFwiLHRoaXMubG9nZ2VyPW4uRnJhbWV3b3JrLnJlc29sdmUobi5GcmFtZXdvcmsuVi5SKS5sb2coZS5zZXNzaW9uSWQpLHRoaXMuU2c9dCx0aGlzLm90aGVyR3VpZD1yLHRoaXMuc3dhcm1JZD1lLnN3YXJtSWQsdGhpcy55Zz1pLHRoaXMucmVjZWl2ZXI9bmV3IGEuQzYodCxyLGUpLHRoaXMuc2VuZGVyPW5ldyBhLl82KHQscixlLHRoaXMpLHRoaXMudkQ9ZS52RCx0aGlzLlREPWUuVEQsdGhpcy5xSj1lLnFKLChwfHxuLkZyYW1ld29yay5DKCkmJm8uJE4uWE4pJiYodGhpcy5RSj1lLlFKKX1yZXR1cm4gZS5wcm90b3R5cGUuRGc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZW5kZXIuRGcoKXx8dGhpcy5yZWNlaXZlci5EZygpfSxlLnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1pLmRlZmVyKCk7cmV0dXJuIHRoaXMuc2VuZGVyLlA2KCkudGhlbihmdW5jdGlvbihyKXtyZXR1cm4gZS5yZWNlaXZlci5jbG9zZShyKS50aGVuKGZ1bmN0aW9uKHIpe3JldHVybiBlLlJqKHIpLnRoZW4oZnVuY3Rpb24ocil7cmV0dXJuIGUueWcuY2xvc2UocikudGhlbihmdW5jdGlvbihlKXt0LnJlc29sdmUoZSl9KX0pfSl9KS5jYXRjaChmdW5jdGlvbihyKXtjLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgY2xvc2luZyBjb25uZWN0aW9uIHRvIHBlZXJcIixlLmxvZ2dlcklkLHUuaHMuV2UucWUse2RldGFpbGVkRXJyb3I6cixvdGhlckd1aWQ6ZS5vdGhlckd1aWR9KSx0LnJlamVjdChcIkNsb3NlIHBhcnRuZXJzaGlwIGZhaWxlZFwiKX0pLHQuU3N9LGUucHJvdG90eXBlLlJqPWZ1bmN0aW9uKGUpe3RoaXMubG9nZ2VyLmRlYnVnKFwiU0VORCBDTE9TRSBUTyBcIit0aGlzLm90aGVyR3VpZCk7dmFyIHQ9bmV3IHMuUmYuRmEuSmcuQ2xvc2U7cmV0dXJuIHQuc2V0VHlwZShlKSx0aGlzLkxnKHMuUmYuRWcuQ2xvc2UsdCksaSh0aGlzLnN3YXJtSWQpfSxlLnByb3RvdHlwZS5Bcz1mdW5jdGlvbihlKXt0cnl7c3dpdGNoKGwmJnRoaXMubG9nZ2VyLmRlYnVnKFwiRElTUEFUQ0ggXCIrZS5tc2dJZCksZS5tc2dJZCl7Y2FzZSBzLlJmLkVnLkNodW5rOnZhciB0PXMuUmYuRmEuSmcuQ2h1bmsuZGVjb2RlKGUuV2cpO3RoaXMucmVjZWl2ZXIuQTYodCk7YnJlYWs7Y2FzZSBzLlJmLkVnLkFjazp2YXIgcj1zLlJmLkZhLkpnLkFjay5kZWNvZGUoZS5XZyk7dGhpcy5zZW5kZXIuTzYoci50cmFuc2ZlcklkKTticmVhaztjYXNlIHMuUmYuRWcuQ2FuY2VsOnZhciBpPXMuUmYuRmEuSmcuQ2FuY2VsLmRlY29kZShlLldnKTt0aGlzLnNlbmRlci5ONihpLnRyYW5zZmVySWQpO2JyZWFrO2Nhc2Ugcy5SZi5FZy5sZzpsJiZ0aGlzLmxvZ2dlci5kZWJ1ZyhcIlJFQ0VJVkVEIE9VVCBQQVJULERFQ09ESU5HIFwiKTt2YXIgbj1zLlJmLkZhLkpnLk91dFBhcnRuZXJzaGlwUmVxdWVzdC5kZWNvZGUoZS5XZyk7bCYmdGhpcy5sb2dnZXIuZGVidWcoXCJSRUNFSVZFRCBPVVQgUEFSVCBGUk9NIFwiK24uZ3VpZCksdGhpcy5URC5DaihuLHRoaXMueWcpO2JyZWFrO2Nhc2Ugcy5SZi5FZy5wZzpsJiZ0aGlzLmxvZ2dlci5kZWJ1ZyhcIlJFQ0VJVkVEIE9VVCBQQVJUIFJFU1AgXCIpO3ZhciBvPXMuUmYuRmEuSmcuT3V0UGFydG5lcnNoaXBSZXNwb25zZS5kZWNvZGUoZS5XZyk7bCYmdGhpcy5sb2dnZXIuZGVidWcoXCJSRUNFSVZFRCBPVVQgUEFSVCBSRVNQIEZST00gXCIrby5hY2NlcHQpLHRoaXMuVEQuUWoobyx0aGlzLnlnKTticmVhaztjYXNlIHMuUmYuRWcuSGF2ZTp2YXIgYT1zLlJmLkZhLkpnLkhhdmUuZGVjb2RlKGUuV2cpO2wmJnRoaXMubG9nZ2VyLmRlYnVnKFwiUkVDRUlWRUQgSEFWRSBGT1IgXCIrYS5mcmFnbWVudElkK1wiIEZST00gXCIrdGhpcy5vdGhlckd1aWQpLHRoaXMuVEQuRDYodGhpcy5vdGhlckd1aWQsYSk7YnJlYWs7Y2FzZSBzLlJmLkVnLkNsb3NlOnZhciBoPXMuUmYuRmEuSmcuQ2xvc2UuZGVjb2RlKGUuV2cpO2wmJnRoaXMubG9nZ2VyLmRlYnVnKFwiUkVDRUlWRUQgQ0xPU0UgRlJPTSBcIit0aGlzLm90aGVyR3VpZCksdGhpcy5URC5Waih0aGlzLm90aGVyR3VpZCxoKTticmVhaztjYXNlIHMuUmYuRWcuUmVxdWVzdDp2YXIgcD1zLlJmLkZhLkpnLlJlcXVlc3QuZGVjb2RlKGUuV2cpO2wmJnRoaXMubG9nZ2VyLmRlYnVnKFwiUkVDRUlWRUQgUkVRVUVTVCBGT1IgXCIrcC5mcmFnbWVudElkK1wiIEZST00gXCIrdGhpcy5vdGhlckd1aWQpLHRoaXMucUouUE0odGhpcy5vdGhlckd1aWQscCx0aGlzKTticmVhaztjYXNlIHMuUmYuRWcuRG9Ob3RIYXZlOnZhciBkPXMuUmYuRmEuSmcuRG9Ob3RIYXZlLmRlY29kZShlLldnKTtsJiZ0aGlzLmxvZ2dlci5kZWJ1ZyhcIkRvTm90SGF2ZSBcIitkLnRyYW5zZmVySWQpLHRoaXMudkQuazYoZCk7YnJlYWs7Y2FzZSBzLlJmLkVnLmRnOnZhciBmPXMuUmYuRmEuSmcuVURQSGFuZHNoYWtlTWVzc2FnZS5kZWNvZGUoZS5XZyk7bCYmdGhpcy5sb2dnZXIuZGVidWcoXCJVRFAgSEFORFNIQUtFIE1FU1NBR0UgUkVDRUlWRUQgRlJPTSBcIitmLnV1aWQpLHRoaXMuUUouU0coZix0aGlzLnlnKTticmVhaztjYXNlIHMuUmYuRWcuVURQSGFuZHNoYWtlUmVzcG9uc2U6dmFyIGc9cy5SZi5GYS5KZy5VRFBIYW5kc2hha2VSZXNwb25zZS5kZWNvZGUoZS5XZyk7bCYmdGhpcy5sb2dnZXIuZGVidWcoXCJVRFAgSEFORFNIQUtFIE1FU1NBR0UgUkVTUE9OU0UgUkVDRUlWRUQgRlJPTSBcIit0aGlzLm90aGVyR3VpZCksdGhpcy5RSi5JRyhnLHRoaXMueWcpO2JyZWFrO2Nhc2Ugcy5SZi5FZy5VRFBTd2l0Y2hMZWFkZXJzaGlwUmVxdWVzdDp2YXIgRT1zLlJmLkZhLkpnLlVEUFN3aXRjaExlYWRlcnNoaXBSZXF1ZXN0LmRlY29kZShlLldnKTtsJiZ0aGlzLmxvZ2dlci5kZWJ1ZyhcIlNXSVRDSCBMRUFERVJTSElQIFJFUVVFU1QgUkVDRUlWRUQgRlJPTSBcIit0aGlzLm90aGVyR3VpZCksdGhpcy5RSi5VRyhFKTticmVhaztjYXNlIHMuUmYuRWcuZmc6dmFyIHY9cy5SZi5GYS5KZy5VRFBTd2l0Y2hMZWFkZXJzaGlwQWNrLmRlY29kZShlLldnKTtsJiZ0aGlzLmxvZ2dlci5kZWJ1ZyhcIlVEUCBTV0lUQ0ggQUNLTk9XTEVER01FTlQgUkVTUE9OU0UgRlJPTSBcIit0aGlzLm90aGVyR3VpZCksdGhpcy5RSi5WRyh2LHRoaXMub3RoZXJHdWlkKTticmVhaztjYXNlIHMuUmYuRWcuQml0cmF0ZTp2YXIgeT1zLlJmLkZhLkpnLkJpdHJhdGUuZGVjb2RlKGUuV2cpO2wmJnRoaXMubG9nZ2VyLmRlYnVnKFwiQklUUkFURSBJTkZPIFwiK3kuYml0cmF0ZStcIiBGUk9NIFwiK3kuZ3VpZCksdGhpcy5URC5Xaih5KTticmVhaztjYXNlIHMuUmYuRWcuSGF2ZXM6dmFyIFQ9cy5SZi5GYS5KZy5IYXZlcy5kZWNvZGUoZS5XZyk7bCYmdGhpcy5sb2dnZXIuZGVidWcoXCJSRUNFSVZFRCBCQVRDSCBIQVZFUyBGT1IgRlJPTSBcIit0aGlzLm90aGVyR3VpZCksdGhpcy5URC5MNih0aGlzLm90aGVyR3VpZCxUKTticmVhaztjYXNlIHMuUmYuRWcubmQ6dmFyIG09cy5SZi5GYS5KZy5QZWVySW5mb01lc3NhZ2UuZGVjb2RlKGUuV2cpO2wmJnRoaXMubG9nZ2VyLmRlYnVnKFwiUkVDRUlWRUQgUEVFUiBJTkZPIEZST00gXCIrdGhpcy5vdGhlckd1aWQpLHRoaXMuVEQuWGoobSk7YnJlYWs7Y2FzZSBzLlJmLkVnLlBpbmc6dmFyIEk9cy5SZi5GYS5KZy5QaW5nLmRlY29kZShlLldnKTtsJiZ0aGlzLmxvZ2dlci5kZWJ1ZyhcIlJFQ0VJVkVEIFBJTkcgRlJPTSBcIit0aGlzLm90aGVyR3VpZCksdGhpcy5URC5NNihJKTticmVhaztjYXNlIHMuUmYuRWcuUG9uZzp2YXIgUz1zLlJmLkZhLkpnLlBvbmcuZGVjb2RlKGUuV2cpO2wmJnRoaXMubG9nZ2VyLmRlYnVnKFwiUkVDRUlWRUQgUE9ORyBGUk9NIFwiK3RoaXMub3RoZXJHdWlkKSx0aGlzLlRELkY2KFMpO2JyZWFrO2Nhc2Ugcy5SZi5FZy5nZzp2YXIgUj1zLlJmLkZhLkpnLk5vUGFydG5lcnMuZGVjb2RlKGUuV2cpO2wmJnRoaXMubG9nZ2VyLmRlYnVnKFwiUkVDRUlWRUQgTk9OIFBBUlRORVIgTUVTU0FHRSBGUk9NIFwiK3RoaXMub3RoZXJHdWlkKSx0aGlzLnZELlU2KHRoaXMub3RoZXJHdWlkLFIpO2JyZWFrO2RlZmF1bHQ6dGhpcy5sb2dnZXIud2FybihcIlVOS05PV04gTUVTU0FHRSBUWVBFIFwiK2UubXNnSWQpfX1jYXRjaChlKXtjLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgZGlzcGF0Y2hpbmcgbWVzc2FnZVwiLHRoaXMubG9nZ2VySWQsZSx1LmhzLldlLlllLGUpfX0sZS5wcm90b3R5cGUuTGc9ZnVuY3Rpb24oZSx0KXt0aGlzLnlnLkxnKGUsdGhpcy5zd2FybUlkLHQpfSxlfSgpO3QuSWc9ZH0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXIoNDgpLG49cigzNSkscz1yKDQpLG89cigyNSksYT1yKDApLGg9cig3KSxjPXIoMTY1KSx1PXIoNSksbD1yKDk1KSxwPXIoMSksZD1yKDIpLGY9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxyKXt0aGlzLmxvZ2dlcklkPVwiW0ZyYWdtZW50UmVxdWVzdGVyXSBcIix0aGlzLkI2PW5ldyBpLHRoaXMuSDY9bmV3IGksdGhpcy54Nj1udWxsLHRoaXMudWc9by5SZi51Zyx0aGlzLlNnPWUsdGhpcy5vdGhlckd1aWQ9dCx0aGlzLnZEPXIudkQsdGhpcy55RD1yLnlELHRoaXMuTmc9YS5GcmFtZXdvcmsucmVzb2x2ZShhLkZyYW1ld29yay5WLkYpLHRoaXMubG9nZ2VyPWEuRnJhbWV3b3JrLnJlc29sdmUoYS5GcmFtZXdvcmsuVi5SKS5sb2coci5zZXNzaW9uSWQpfXJldHVybiBlLnByb3RvdHlwZS5zZXRSZXBvcnRpbmdHdWlkPWZ1bmN0aW9uKGUpe3RoaXMucTY9ZX0sZS5wcm90b3R5cGUuRGc9ZnVuY3Rpb24oKXtyZXR1cm4hKDA9PT10aGlzLkI2LmtleXMoKS5sZW5ndGgmJm51bGw9PT10aGlzLng2KX0sZS5wcm90b3R5cGUuRzY9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IG8uUmYuRmEuSmcuUmVxdWVzdDt0cnl7dC5mcmFnbWVudElkPWUuWmYoKSx0LnRyYW5zZmVySWQ9ZS5Qayx0aGlzLnVnJiZ0aGlzLmxvZ2dlci5kZWJ1ZyhcIklOSVRJQVRJTkcgVFItXCIrZS5QaytcIiBUSU1FT1VUOiBcIitlLlY2K1wiIEZSQUdNRU5UOiBcIitlLlpmKCkrXCIgRlJPTTogXCIrdGhpcy5vdGhlckd1aWQpLHRoaXMuQjYuc2V0KGUuUGssZSksdGhpcy5INi5zZXQoZS5QayxhLkZyYW1ld29yay50aW1lKCkpfWNhdGNoKGUpe3AuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBjb25zdHJ1Y3RpbmcgZnJhZ21lbnQgcmVxdWVzdCBtZXNzYWdlXCIsdGhpcy5sb2dnZXJJZCxkLmhzLlppLlFpLHtkZXRhaWxlZEVycm9yOmUsb3RoZXJHdWlkOnRoaXMub3RoZXJHdWlkfSksdD1udWxsfXRyeXt0JiZlLnhxLndqLkxnKG8uUmYuRWcuUmVxdWVzdCx0KX1jYXRjaChlKXtwLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3Igc2VuZGluZyBmcmFnbWVudCByZXF1ZXN0XCIsdGhpcy5sb2dnZXJJZCxkLmhzLlppLktpLHtkZXRhaWxlZEVycm9yOmUsb3RoZXJHdWlkOnRoaXMub3RoZXJHdWlkfSl9fSxlLnByb3RvdHlwZS5BNj1mdW5jdGlvbihlKXt0cnl7dmFyIHQ9ZS50cmFuc2ZlcklkLHI9ZS5kYXRhLnlBKCksaT1lLmNodW5rU2l6ZSxuPWUudG90YWxTaXplLHM9ZS5oZWFkZXJzO2lmKHRoaXMudWcmJnRoaXMubG9nZ2VyLmRlYnVnKFwiUkNWIENodW5rIFwiK3IuYnl0ZUxlbmd0aCksIXRoaXMuQjYuaGFzKHQpKXJldHVybjtudWxsPT10aGlzLng2Pyh0aGlzLnVnJiZ0aGlzLmxvZ2dlci5kZWJ1ZyhcIklOSVRJQVRFRCBUUi1cIit0K1wiLFNJWkU9XCIrbiksdGhpcy54Nj10aGlzLkI2LmdldCh0KSx0aGlzLng2LlBrPXQsdGhpcy5qNih0LHRoaXMueDYueHEpLG51bGwhPXM/dGhpcy54Ni5yZXNwb25zZUhlYWRlcnM9czp0aGlzLmxvZ2dlci53YXJuKFwiSEVBREVSUyBOVUxMIElOIEZJUlNUIENIVU5LXCIpLHRoaXMudkQudjEodGhpcy5vdGhlckd1aWQsdGhpcy54NixpLG4pLHRoaXMueDYuUWY9aSxhLkZyYW1ld29yay5DKCl8fCh0aGlzLng2LmpmPXIpKToodGhpcy5qNih0LHRoaXMueDYueHEpLHRoaXMueDYuUWYrPWksYS5GcmFtZXdvcmsuQygpfHwodGhpcy54Ni5qZj1oLnJjLmFwcGVuZEJ1ZmZlcih0aGlzLng2LmpmLHIpKSk7dmFyIG89YS5GcmFtZXdvcmsuQygpP3RoaXMueDYuUWY6dGhpcy54Ni5qZi5ieXRlTGVuZ3RoO2lmKHRoaXMudWcmJnRoaXMubG9nZ2VyLmRlYnVnKFwiUkVDRUlWRUQgXCIrbytcIi9cIituK1wiIFRSSUQgXCIrdCksbz09bil7dGhpcy51ZyYmdGhpcy5sb2dnZXIuZGVidWcoXCJSQ1YgQUxMIERBVEEgXCIrbytcIiBUUi1cIit0aGlzLng2LllmKSx0aGlzLng2LnFmLkFmPW8sYS5GcmFtZXdvcmsuY2xlYXJUaW1lb3V0KHRoaXMueDYubUcpLHRoaXMuQjYuZGVsZXRlKHQpO3ZhciBjPWEuRnJhbWV3b3JrLnRpbWUoKS10aGlzLkg2LmdldCh0KTt0aGlzLmxvZ2dlci5kZWJ1ZyhcIlJDViBBTEwgREFUQSBGUk9NIFwiK3RoaXMub3RoZXJHdWlkK1wiIEFGVEVSIFwiK2MrXCIgbXNlY29uZHNcIiksdGhpcy5INi5kZWxldGUodCksdGhpcy52RC5VRCh0LHRoaXMueDYpLHRoaXMueDY9bnVsbH19Y2F0Y2goZSl7cC5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIHJlY2VpdmluZyBjaHVua1wiLHRoaXMubG9nZ2VySWQsZC5ocy5aaS5ZaSx7ZGV0YWlsZWRFcnJvcjplLG90aGVyR3VpZDp0aGlzLm90aGVyR3VpZH0pfX0sZS5wcm90b3R5cGUuajY9ZnVuY3Rpb24oZSx0KXt0cnl7dGhpcy51ZyYmdGhpcy5sb2dnZXIuZGVidWcoXCJTRU5EIEFDSyBcIitlK1wiIFRPIFwiK3RoaXMub3RoZXJHdWlkKTt2YXIgcj1uZXcgby5SZi5GYS5KZy5BY2s7ci50cmFuc2ZlcklkPWUsdC53ai5MZyhvLlJmLkVnLkFjayxyKX1jYXRjaChlKXtwLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3Igc2VuZGluZyBhY2tcIix0aGlzLmxvZ2dlcklkLGQuaHMuWmkuV2kse2RldGFpbGVkRXJyb3I6ZSxvdGhlckd1aWQ6dGhpcy5vdGhlckd1aWR9KX19LGUucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1zLmRlZmVyKCk7cmV0dXJuIG51bGwhPXRoaXMueDYmJnRoaXMuUTYodGhpcy54Ni5QayksdGhpcy5CNi5rZXlzKCkuc2xpY2UoKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3QuUTYoZSl9KSxyLnJlc29sdmUobC54Vi5KcSksci5Tc30sZS5wcm90b3R5cGUuUTY9ZnVuY3Rpb24oZSl7dHJ5e2lmKHRoaXMuQjYuaGFzKGUpKXt2YXIgdD10aGlzLkI2LmdldChlKTt0LnFmLkFmPXQuUWYsdGhpcy5sb2dnZXIuZGVidWcoXCJTRU5EIENBTkNFTCBGT1IgXCIrZStcIiBUTyBcIit0aGlzLm90aGVyR3VpZCksdGhpcy5INi5kZWxldGUoZSk7dmFyIHI9bmV3IG8uUmYuRmEuSmcuQ2FuY2VsO3IudHJhbnNmZXJJZD1lLHQueHEud2ouTGcoby5SZi5FZy5DYW5jZWwsciksbnVsbCE9PXRoaXMueDYmJnRoaXMueDYuJGYoKT09PXQuJGYoKSYmKHRoaXMueDY9bnVsbCksdGhpcy5CNi5kZWxldGUoZSl9ZWxzZSBwLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgY2xlYW5pbmcgdXAgYSBub3QgcGVuZGluZyB0cmFuc2ZlclwiLHRoaXMubG9nZ2VySWQsZC5ocy5aaS56aSl9Y2F0Y2goZSl7cC5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIHNlbmRpbmcgc3RvcCB0cmFuc2ZlclwiLHRoaXMubG9nZ2VySWQsZC5ocy5aaS5KaSx7ZGV0YWlsZWRFcnJvcjplLG90aGVyR3VpZDp0aGlzLm90aGVyR3VpZH0pfX0sZX0oKTt0LkM2PWY7dmFyIGc9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxyLG4pe3RoaXMubG9nZ2VySWQ9XCJbRnJhZ21lbnRTZW5kZXJdIFwiLHRoaXMudWc9by5SZi51Zyx0aGlzLks2PW51bGwsdGhpcy5ZNj1uZXcgQXJyYXksdGhpcy5XNj1uZXcgaSx0aGlzLno2PTAsdGhpcy5jbG9zZT1udWxsLHRoaXMuU2c9ZSx0aGlzLm90aGVyR3VpZD10LHRoaXMuSjY9ci5xSix0aGlzLndqPW4sdGhpcy5JRD1yLklELHRoaXMubG9nZ2VyPWEuRnJhbWV3b3JrLnJlc29sdmUoYS5GcmFtZXdvcmsuVi5SKS5sb2coci5zZXNzaW9uSWQpLHRoaXMuTmc9YS5GcmFtZXdvcmsucmVzb2x2ZShhLkZyYW1ld29yay5WLkYpfXJldHVybiBlLnByb3RvdHlwZS5zZXRSZXBvcnRpbmdHdWlkPWZ1bmN0aW9uKGUpe3RoaXMucTY9ZX0sZS5wcm90b3R5cGUuWDY9ZnVuY3Rpb24oZSx0LHIsaSxuKXt2YXIgcz10aGlzO3RoaXMudWcmJnRoaXMubG9nZ2VyLmluZm8oXCJTRU5EIEZSQUdNRU5UIFwiK2UrXCIgVE8gXCIrdGhpcy5vdGhlckd1aWQpO3RyeXt2YXIgbz1uZXcgYy5aNjtvLnRyYW5zZmVySWQ9dCxvLmZyYWdtZW50SWQ9ZSxvLmU4PW4sby5oZWFkZXJzPWksby50OD1yLG8ucjg9TWF0aC5jZWlsKG8udDgvdS5oaC5GYS5EYSksby5uOD0wLHRoaXMuWTYucHVzaChvKSx0aGlzLnVnJiZ0aGlzLlk2LmZvckVhY2goZnVuY3Rpb24oZSl7cy5sb2dnZXIuZGVidWcocy5vdGhlckd1aWQrXCIgUEVORElORyBPVVQgXCIrZSl9KX1jYXRjaChlKXtwLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgY29uc3RydWN0aW5nIGNodW5rIHJlc3BvbnNlXCIsdGhpcy5sb2dnZXJJZCxkLmhzLmluLiRpLHtkZXRhaWxlZEVycm9yOmUsb3RoZXJHdWlkOnRoaXMub3RoZXJHdWlkfSl9bnVsbD09PXRoaXMuSzY/dGhpcy5zOCgpOnRoaXMudWcmJnRoaXMubG9nZ2VyLmRlYnVnKHRoaXMub3RoZXJHdWlkK1wiIE9VVCBNU0cgTk9UIE5VTExcIil9LGUucHJvdG90eXBlLk82PWZ1bmN0aW9uKGUpe3RoaXMudWcmJnRoaXMubG9nZ2VyLmRlYnVnKFwiT05HT0lORyBcIitlK1wiIEdPVCBBQ0tcIiksbnVsbCE9PXRoaXMuSzYmJnRoaXMuSzYudHJhbnNmZXJJZC50b1N0cmluZygpPT09ZS50b1N0cmluZygpP3RoaXMubzgoITEpOnAuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciByZWNlaXZpbmcgYWNrIGZvciB1bmtub3duIHRyYW5zZmVyXCIsdGhpcy5sb2dnZXJJZCxkLmhzLmluLnJuKX0sZS5wcm90b3R5cGUuTjY9ZnVuY3Rpb24oZSl7bnVsbCE9dGhpcy5LNiYmdGhpcy5LNi50cmFuc2ZlcklkPT09ZT8odGhpcy5sb2dnZXIuZGVidWcoXCJHT1QgQ0FOQ0VMIEZPUiBPTkdPSU5HIFRSLVwiK2UpLHRoaXMubG9nZ2VyLmRlYnVnKFwiVFJBTlNQT1JUIENBTkNFTCBTVEFUUyBcIit0aGlzLlNnK1wiLFwiK3RoaXMub3RoZXJHdWlkK1wiLFwiK2UpLHRoaXMuVzYuZGVsZXRlKGUpLDAhPXRoaXMuSzYubjg/dGhpcy5KNi5hOCh0aGlzLm90aGVyR3VpZCx0aGlzLnE2LHRoaXMuSzYubjgsdGhpcy5LNi50OCk6dGhpcy5KNi5oOCh0aGlzLm90aGVyR3VpZCx0aGlzLnE2LHRoaXMuSzYudDgpLHRoaXMuSzY9bnVsbCx0aGlzLnM4KCkpOnRoaXMuWTY9dGhpcy5ZNi5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIHQudHJhbnNmZXJJZCE9PWV9KX0sZS5wcm90b3R5cGUuczg9ZnVuY3Rpb24oKXt0cnl7aWYobnVsbD09PXRoaXMuSzYmJjAhPT10aGlzLlk2Lmxlbmd0aCl7dmFyIGU9dGhpcy5ZNi5zaGlmdCgpO3RoaXMuSzY9ZSx0aGlzLnVnJiZ0aGlzLmxvZ2dlci5kZWJ1ZyhcIkRBVEEgVE8gU0VORCBMRU5HVEggXCIrdGhpcy5LNi50OCtcIiBJTiBcIit0aGlzLks2LnI4K1wiIENIVU5LUyBXSVRIIFRSLVwiK3RoaXMuSzYudHJhbnNmZXJJZCksdGhpcy5vOCghMCl9fWNhdGNoKGUpe3AuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBzdGFydCBzZW5kaW5nIGNodW5rc1wiLHRoaXMubG9nZ2VySWQsZC5ocy5pbi5lbixlKSx0aGlzLmtnKCl9fSxlLnByb3RvdHlwZS5vOD1mdW5jdGlvbihlKXtlJiYodGhpcy5XNi5zZXQodGhpcy5LNi50cmFuc2ZlcklkLGEuRnJhbWV3b3JrLnRpbWUoKSksdGhpcy56Nj10aGlzLks2LnI4KTt0cnl7aWYobnVsbCE9dGhpcy5LNilpZigwPT09dGhpcy5LNi5yOCl0aGlzLmxvZ2dlci5kZWJ1ZyhcIkZJTklTSEVEIFNFTkRJTkcgVFJBTlNGRVIgXCIrdGhpcy5LNi50cmFuc2ZlcklkK1wiIFdJVEggXCIrdGhpcy5LNi5uOCtcIiBCWVRFU1wiKSx0aGlzLlc2LmRlbGV0ZSh0aGlzLks2LnRyYW5zZmVySWQpLHRoaXMuSjYuYzgodGhpcy5vdGhlckd1aWQsdGhpcy5xNix0aGlzLks2LnQ4KSx0aGlzLks2PW51bGwsdGhpcy51OCgpLHRoaXMuczgoKTtlbHNle3RoaXMudWcmJnRoaXMubG9nZ2VyLmRlYnVnKFwiQSBDSFVOS1wiKTt2YXIgdD1NYXRoLm1pbih0aGlzLks2Lm44K3UuaGguRmEuRGEsdGhpcy5LNi50OCkscj10LXRoaXMuSzYubjgsaT1uZXcgby5SZi5GYS5KZy5DaHVuaztpZihpLnRyYW5zZmVySWQ9dGhpcy5LNi50cmFuc2ZlcklkLGkudG90YWxTaXplPXRoaXMuSzYudDgsaS5jaHVua1NpemU9cixlJiZudWxsIT10aGlzLks2LmhlYWRlcnMmJihpLmhlYWRlcnM9dGhpcy5LNi5oZWFkZXJzKSxhLkZyYW1ld29yay5DKCl8fG51bGw9PXRoaXMuSzYuZTgpaS5kYXRhPW4ud3JhcChuZXcgQXJyYXlCdWZmZXIoMCkpO2Vsc2UgaWYoaS5kYXRhPXRoaXMuSUQubDgodGhpcy5LNi5mcmFnbWVudElkLHRoaXMuejYtdGhpcy5LNi5yOCksbnVsbD09aS5kYXRhKXt2YXIgcz10aGlzLks2LmU4LnNsaWNlKHRoaXMuSzYubjgsdCk7aS5kYXRhPW4ud3JhcChzKX10aGlzLks2Lm44PXRoaXMuSzYubjgrcix0aGlzLndqLkxnKG8uUmYuRWcuQ2h1bmssaSksdGhpcy51ZyYmdGhpcy5sb2dnZXIuZGVidWcoXCJTTkQgW1wiK3RoaXMuSzYubjgrXCItXCIrKHRoaXMuSzYubjgrcikrXCIvXCIrdGhpcy5LNi50OCtcIl0gVE8gXCIrdGhpcy5vdGhlckd1aWQrXCIgT0YgVFItXCIrdGhpcy5LNi50cmFuc2ZlcklkKSx0aGlzLks2LnI4LS19ZWxzZSB0aGlzLmxvZ2dlci5kZWJ1ZyhcIk5PIE1FU1NBR0UgVE8gU0VORFwiKX1jYXRjaChlKXtwLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3Igc2VuZGluZyBjaHVua1wiLHRoaXMubG9nZ2VySWQsZC5ocy5pbi50bix7ZGV0YWlsZWRFcnJvcjplLG90aGVyR3VpZDp0aGlzLm90aGVyR3VpZH0pLHRoaXMua2coKX19LGUucHJvdG90eXBlLkRnPWZ1bmN0aW9uKCl7cmV0dXJuISgwPT09dGhpcy5ZNi5sZW5ndGgmJm51bGw9PT10aGlzLks2KX0sZS5wcm90b3R5cGUuUDY9ZnVuY3Rpb24oKXt2YXIgZT1zLmRlZmVyKCk7cmV0dXJuIHRoaXMuWTYubGVuZ3RoPTAsdGhpcy5EZygpP3RoaXMuY2xvc2U9ZTplLnJlc29sdmUoXCJDTE9TRVwiKSxlLlNzfSxlLnByb3RvdHlwZS51OD1mdW5jdGlvbigpe3RoaXMuY2xvc2UmJnRoaXMuY2xvc2UucmVzb2x2ZShcIkNMT1NFRFwiKX0sZS5wcm90b3R5cGUua2c9ZnVuY3Rpb24oKXt0aGlzLks2PW51bGx9LGV9KCk7dC5fNj1nfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5oZWFkZXJzPW51bGx9cmV0dXJuIGV9KCk7dC5aNj1pfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9cigzKSxuPXIoMCkscz1yKDUpLG89cigxNSksYT1yKDIpLGg9cigxKSxjPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQscixzLGEsaCl7dGhpcy5sb2dnZXJJZD1cIltQYXJ0bmVyXSBcIix0aGlzLnA4PTAsdGhpcy5kOD0wLHRoaXMuZjg9MCx0aGlzLmc4PW5ldyBBcnJheSx0aGlzLkU4PW5ldyBBcnJheSx0aGlzLkI2PW5ldyBpLHRoaXMubG9nZ2VyPXMsdGhpcy53aj1yLHRoaXMuZ3VpZD1lLHRoaXMuRWs9aCx0aGlzLnY4PWEsdGhpcy5LTT10LHRoaXMuZ1E9bi5GcmFtZXdvcmsucmVzb2x2ZShvLnF1Lmt1KSx0aGlzLnZRPW4uRnJhbWV3b3JrLnJlc29sdmUoby5xdS5rdSksdGhpcy55OD1uLkZyYW1ld29yay50aW1lKCl9cmV0dXJuIGUucHJvdG90eXBlLkRqPWZ1bmN0aW9uKGUpe3RoaXMucmVwb3J0aW5nR3VpZD1lLHRoaXMud2omJih0aGlzLndqLnJlY2VpdmVyLnNldFJlcG9ydGluZ0d1aWQodGhpcy5yZXBvcnRpbmdHdWlkKSx0aGlzLndqLnNlbmRlci5zZXRSZXBvcnRpbmdHdWlkKHRoaXMucmVwb3J0aW5nR3VpZCkpfSxlLnByb3RvdHlwZS5UOD1mdW5jdGlvbihlLHQscil7dmFyIGk9TWF0aC5tYXgoMSx0KTtmb3IociYmKHRoaXMuZDgrPWksdGhpcy5wOCs9ZSk7dGhpcy5nOC5sZW5ndGg+cy5oaC5PYS53YTspdGhpcy5nOC5wb3AoKTt2YXIgbj1lL2k7dGhpcy5nOC51bnNoaWZ0KG4pfSxlLnByb3RvdHlwZS5tOD1mdW5jdGlvbihlKXt0aGlzLkI2LmhhcyhlKT90aGlzLmxvZ2dlci53YXJuKHRoaXMuZ3VpZCtcIiBEVVBMSUNBVEUge30gUEVORElORyBSRVFVRVNUUyBcIitlKTp0aGlzLkI2LnNldChlLG4uRnJhbWV3b3JrLnRpbWUoKSl9LGUucHJvdG90eXBlLkk4PWZ1bmN0aW9uKGUsdCxyLGkscyxvKXt0cnl7aWYodGhpcy5CNi5oYXMoZSkpe3ZhciBjPXRoaXMuQjYuZ2V0KGUpLHU9bi5GcmFtZXdvcmsudGltZSgpLWM7dGhpcy5CNi5kZWxldGUoZSksaSYmdGhpcy5UOCh0LHUsITApLHRoaXMuZ1Euc3VjY2Vzcyh0KSx0aGlzLktNLlM4KHRoaXMucmVwb3J0aW5nR3VpZCx0LHIscyxvKX1lbHNlIGguRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBjb21wbGV0aW5nIGEgbm9uLWV4aXN0aW5nIHJlcXVlc3RcIix0aGlzLmxvZ2dlcklkLGEuaHMuRG4uX24se290aGVyR3VpZDp0aGlzLmd1aWQscTY6dGhpcy5yZXBvcnRpbmdHdWlkfSl9Y2F0Y2goZSl7aC5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIGhhbmRsaW5nIHJlcXVlc3QgY29tcGxldGVkXCIsdGhpcy5sb2dnZXJJZCxhLmhzLkRuLkNuLHtkZXRhaWxlZEVycm9yOmUsb3RoZXJHdWlkOnRoaXMuZ3VpZCxxNjp0aGlzLnJlcG9ydGluZ0d1aWR9KX19LGUucHJvdG90eXBlLlI4PWZ1bmN0aW9uKGUsdCxyLGksbixvKXt0cnl7aWYodGhpcy5CNi5oYXMoZSkpe3ZhciBjPXRoaXMuQjYuZ2V0KGUpO3RoaXMuQjYuZGVsZXRlKGUpLHMuaGguT2EuYmE/dGhpcy5UOCh0LGMsITApOnRoaXMuVDgoMCxjLCEwKSx0aGlzLmdRLnc4KHQsaSksdGhpcy5LTS5iOCh0aGlzLnJlcG9ydGluZ0d1aWQsdCxyLGksbixvKX1lbHNlIGguRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBwYXJ0aWFsbHkgZmFpbGVkIGEgbm9uLWV4aXN0aW5nIHJlcXVlc3RcIix0aGlzLmxvZ2dlcklkLGEuaHMuRG4uQW4se290aGVyR3VpZDp0aGlzLmd1aWQscTY6dGhpcy5yZXBvcnRpbmdHdWlkfSl9Y2F0Y2goZSl7aC5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIGhhbmRsaW5nIHJlcXVlc3QgcGFydGlhbGx5IGZhaWxlZCBcIix0aGlzLmxvZ2dlcklkLGEuaHMuRG4uUG4se2RldGFpbGVkRXJyb3I6ZSxvdGhlckd1aWQ6dGhpcy5ndWlkfSl9fSxlLnByb3RvdHlwZS5faz1mdW5jdGlvbihlLHQscil7dHJ5e2lmKHRoaXMuQjYuaGFzKGUpKXt2YXIgaT10aGlzLkI2LmdldChlKTt0aGlzLkI2LmRlbGV0ZShlKSx0aGlzLlQ4KDAsaSwhMCksdGhpcy5nUS5sbCgpLHRoaXMuS00uQzgodGhpcy5yZXBvcnRpbmdHdWlkLHIsdCl9ZWxzZSBoLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgZmFpbGVkIGEgbm9uLWV4aXN0aW5nIHJlcXVlc3RcIix0aGlzLmxvZ2dlcklkLGEuaHMuRG4uTm4se290aGVyR3VpZDp0aGlzLmd1aWQscTY6dGhpcy5yZXBvcnRpbmdHdWlkfSl9Y2F0Y2goZSl7aC5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIGhhbmRsaW5nIHJlcXVlc3QgZmFpbGVkIFwiLHRoaXMubG9nZ2VySWQsYS5ocy5Ebi5Pbix7ZGV0YWlsZWRFcnJvcjplLG90aGVyR3VpZDp0aGlzLmd1aWR9KX19LGUucHJvdG90eXBlLl84PWZ1bmN0aW9uKGUsdCl7dGhpcy5LTS5QOChlLHQsITApfSxlLnByb3RvdHlwZS5BOD1mdW5jdGlvbihlLHQpe3RoaXMuS00uTzgoZSx0LCEwKX0sZS5wcm90b3R5cGUuTjg9ZnVuY3Rpb24oZSx0LHIpe3RoaXMuS00uRDgoZSx0LHIsITApfSxlLnByb3RvdHlwZS5rOD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZzgucmVkdWNlKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUrdH0sMCk7cmV0dXJuIHRoaXMuZzgubGVuZ3RoPjA/ZS90aGlzLmc4Lmxlbmd0aDowfSxlLnByb3RvdHlwZS5MOD1mdW5jdGlvbihlKXt0aGlzLmY4PWV9LGUucHJvdG90eXBlLk04PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZjh9LGUucHJvdG90eXBlLklqPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuRWsuSWooKX0sZX0oKTt0LlBhcnRuZXI9Y30sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXIoMzUpLG49cigzKSxzPXIoMCksbz1yKDEwKSxhPXIoMjUpLGg9cig1KSxjPXIoMSksdT1yKDE2OCksbD1yKDIpLHA9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5qTT1cIltQQVJUTkVSU0hJUF0gXCIsdGhpcy5haj1uZXcgbix0aGlzLmdCPW5ldyBuLHRoaXMuZEI9bmV3IG4sdGhpcy5mQj1uZXcgbix0aGlzLkY4PSExLHRoaXMuVTg9ITEsdGhpcy5COD0hMCx0aGlzLmFjdGl2ZT0hMSx0aGlzLkg4KCksdGhpcy5saj1bXX1yZXR1cm4gZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbihlKXt0aGlzLmxvZ2dlcj1zLkZyYW1ld29yay5yZXNvbHZlKHMuRnJhbWV3b3JrLlYuUikubG9nKGUuc2Vzc2lvbklkKSx0aGlzLnlEPWUueUQsdGhpcy5zQz1lLnNDLHRoaXMudXBsb2FkU2NvcmU9ZS51cGxvYWRTY29yZSx0aGlzLmdEPWUuZ0QsdGhpcy55aj1lLllNfSxlLnByb3RvdHlwZS5zaj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5faihlLnBlZXJJbmZvLmd1aWQpfSxlLnByb3RvdHlwZS5faj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5mQi5oYXMoZSl8fHRoaXMuZEIuaGFzKGUpfSxlLnByb3RvdHlwZS4kaj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5kQi5oYXMoZSk/dGhpcy5kQi5nZXQoZSk6dGhpcy5mQi5nZXQoZSl9LGUucHJvdG90eXBlLnJqPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnhqKGUucGVlckluZm8uZ3VpZCl9LGUucHJvdG90eXBlLnhqPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmdCLmhhcyhlKXx8dGhpcy5hai5oYXMoZSl9LGUucHJvdG90eXBlLnFqPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmdCLmhhcyhlKT90aGlzLmdCLmdldChlKTp0aGlzLmFqLmdldChlKX0sZS5wcm90b3R5cGUuTGo9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0cnl7dmFyIHI9dGhpcy55RC54OCgpO2lmKHRoaXMuQjgmJiFyKWlmKHRoaXMuX2ooZSkpe3ZhciBpPXRoaXMuJGooZSksbj10aGlzLnVwbG9hZFNjb3JlLnE4KCExKSxzPVtdO3RoaXMuc0MuVnEodGhpcy5jb250ZXh0LmlzTGl2ZSgpKS50aGVuKGZ1bmN0aW9uKHIpe3QubG9nZ2VyLmRlYnVnKHQuak0rXCJTRU5EIEFMTCBIQVZFUyBUTyBcIitlK1wiLFwiK3IubGVuZ3RoKTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKyl7dmFyIGg9MDtoPXQuY29udGV4dC5pc0xpdmUoKT9yW29dLnNpemUoKTpyW29dLnRvdGFsU2l6ZTt2YXIgYz1yW29dLnpmLHU9bmV3IGEuUmYuRmEuSmcuSGF2ZTt1LnNldEZyYWdtZW50SWQoYy5aZigpKSx1LnNldFNpemUoaCksdS5zZXRVcGxvYWRTY29yZShuKTt2YXIgbD1jO3Uuc2V0SWQobC5BXygpKSx1LnNldEJpdHJhdGUobC5iaXRyYXRlKSx1LnNldER1cmF0aW9uKGwuZHVyYXRpb24pLHUuc2V0VHlwZShsLlhmKCkpLHMucHVzaCh1KX1pZihzLmxlbmd0aD4wKXt2YXIgcD1uZXcgYS5SZi5GYS5KZy5IYXZlcztwLnNldEhhdmUocyksaS53ai5MZyhhLlJmLkVnLkhhdmVzLHApfX0pfWVsc2UgYy5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIHNlbmRpbmcgYWxsIGhhdmVzIHRvIHBlZXIgd2hvIGlzIG5vdCBvdXQgcGFydG5lclwiLHRoaXMuak0sbC5ocy5VdC5DdCx7b3RoZXJHdWlkOmV9KX1jYXRjaCh0KXtjLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3Igc2VuZGluZyBhbGwgaGF2ZXNcIix0aGlzLmpNLGwuaHMuVXQuVHQse2RldGFpbGVkRXJyb3I6dCxvdGhlckd1aWQ6ZX0pfX0sZS5wcm90b3R5cGUub1o9ZnVuY3Rpb24oZSx0LHIpe3ZhciBpPXRoaXMsbj10aGlzLnlELng4KCk7aWYodGhpcy5COCYmIW4pe3ZhciBzPXRoaXMuZEIudmFsdWVzKCk7dGhpcy5mQi5mb3JFYWNoKGZ1bmN0aW9uKGUsdCl7cy5wdXNoKGUpfSk7dmFyIG89dGhpcy51cGxvYWRTY29yZS5xOCghMSk7cy5mb3JFYWNoKGZ1bmN0aW9uKG4peyghcnx8ciYmbi5ndWlkIT1yLmd1aWQpJiZpLkc4KG4ud2osZSx0LG8pfSl9fSxlLnByb3RvdHlwZS5HOD1mdW5jdGlvbihlLHQscixpKXt0aGlzLkY4JiZ0aGlzLmxvZ2dlci5kZWJ1Zyh0aGlzLmpNK1wiU0VORCBIQVZFIFRPIFwiK2Uub3RoZXJHdWlkK1wiIEZPUiBcIit0LlpmKCkpO3RyeXt2YXIgbj1uZXcgYS5SZi5GYS5KZy5IYXZlO24uc2V0RnJhZ21lbnRJZCh0LlpmKCkpLG4uc2V0U2l6ZShyKSxuLnNldFVwbG9hZFNjb3JlKGkpO3ZhciBzPXQ7bi5zZXRJZChzLkFfKCkpLG4uc2V0Qml0cmF0ZShzLmJpdHJhdGUpLG4uc2V0RHVyYXRpb24ocy5kdXJhdGlvbiksbi5zZXRUeXBlKHMuWGYoKSksZS5MZyhhLlJmLkVnLkhhdmUsbil9Y2F0Y2godCl7Yy5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIHNlbmRpbmcgaGF2ZSBcIix0aGlzLmpNLGwuaHMuVXQuSXQse2RldGFpbGVkRXJyb3I6dCxvdGhlckd1aWQ6ZS5vdGhlckd1aWR9KX19LGUucHJvdG90eXBlLkQ2PWZ1bmN0aW9uKGUsdCl7dHJ5e2lmKHRoaXMueGooZSkpe3RoaXMuVTgmJnRoaXMubG9nZ2VyLmRlYnVnKHRoaXMuak0rXCJIQVZFIFJFQ0VJVkVEIEZST00gXCIrZStcIjogXCIrdC5mcmFnbWVudElkKTt2YXIgcj10aGlzLnFqKGUpO3IuTDgodC5nZXRVcGxvYWRTY29yZSgpKSx0aGlzLmdELnB1dCh0LHIpLHRoaXMuY29udGV4dC52Rih0KX1lbHNlIGMuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciByZWNlaXZpbmcgaGF2ZSBmcm9tIHVua25vd24gcGVlclwiLHRoaXMuak0sbC5ocy5VdC5TdCx7b3RoZXJHdWlkOmV9KX1jYXRjaCh0KXtjLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgaGFuZGxpbmcgcmVjZWl2ZWQgaGF2ZVwiLHRoaXMuak0sbC5ocy5VdC53dCx7ZGV0YWlsZWRFcnJvcjp0LG90aGVyR3VpZDplfSl9fSxlLnByb3RvdHlwZS5MNj1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7dHJ5e2lmKHRoaXMueGooZSkpe3RoaXMuVTgmJnRoaXMubG9nZ2VyLmRlYnVnKHRoaXMuak0rXCJCQVRDSCBIQVZFUyBSRUNFSVZFRCBGUk9NIFwiK2UpO3ZhciBpPXRoaXMucWooZSk7dC5nZXRIYXZlKCkuZm9yRWFjaChmdW5jdGlvbihlKXtpLkw4KGUuZ2V0VXBsb2FkU2NvcmUoKSksci5nRC5wdXQoZSxpKX0pLHRoaXMuY29udGV4dC52Rih0LmdldEhhdmUoKVswXSl9ZWxzZSBjLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgcmVjZWl2aW5nIGhhdmVzIGZyb20gdW5rbm93biBwZWVyXCIsdGhpcy5qTSxsLmhzLlV0LlJ0LHtvdGhlckd1aWQ6ZX0pfWNhdGNoKHQpe2MuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBoYW5kbGluZyByZWNlaXZlZCBoYXZlc1wiLHRoaXMuak0sbC5ocy5VdC5idCx7ZGV0YWlsZWRFcnJvcjp0LG90aGVyR3VpZDplfSl9fSxlLnByb3RvdHlwZS5taj1mdW5jdGlvbihlKXt0cnl7dmFyIHQ9bmV3IGEuUmYuRmEuSmcuUGluZzt0LmlkPXRoaXMueUQuZ2V0SWQoKSx0LnN0YXJ0VHM9cy5GcmFtZXdvcmsudGltZSgpLHRoaXMubG9nZ2VyLmRlYnVnKHRoaXMuak0rXCJSRVFVRVNUIFBJTkcgVE8gUEVFUiBHVUlEIFwiK2Uub3RoZXJHdWlkKSxlLkxnKGEuUmYuRWcuUGluZyx0KX1jYXRjaCh0KXtjLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgcmVxdWVzdGluZyBwaW5nXCIsdGhpcy5qTSxsLmhzLlV0LlB0LHtkZXRhaWxlZEVycm9yOnQsb3RoZXJHdWlkOmUub3RoZXJHdWlkfSl9fSxlLnByb3RvdHlwZS5NNj1mdW5jdGlvbihlKXt0cnl7dmFyIHQ9ZS5pZDtpZighdGhpcy5faih0KSlyZXR1cm4gdm9pZCBjLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgcmVjZWl2aW5nIHBpbmcgZnJvbSBhbiB1bmtub3duIHBlZXJcIix0aGlzLmpNLGwuaHMuVXQuT3Qse290aGVyR3VpZDp0fSk7dmFyIHI9LTE7ZS5zdGFydFRzJiYocj1lLnN0YXJ0VHMpLHRoaXMuVjgodGhpcy4kaih0KS53aixyKX1jYXRjaCh0KXtjLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgaGFuZGxpbmcgcmVjZWl2ZWQgcGluZ1wiLHRoaXMuak0sbC5ocy5VdC5BdCx7ZGV0YWlsZWRFcnJvcjp0LG90aGVyR3VpZDplLmlkfSl9fSxlLnByb3RvdHlwZS5IOD1mdW5jdGlvbigpe3RyeXtmb3IodmFyIGU9XCJcIix0PTA7dDxoLmhoLkZhLkRhO3QrKyllKz1TdHJpbmcuZnJvbUNoYXJDb2RlKDMzKzkzKk1hdGgucmFuZG9tKCkpO2Zvcih2YXIgcj1uZXcgQXJyYXlCdWZmZXIoZS5sZW5ndGgpLG49bmV3IFVpbnQ4QXJyYXkocikscz1lLmxlbmd0aCx0PTA7dDxzO3QrKyluW3RdPWUuY2hhckNvZGVBdCh0KTt0aGlzLmo4PWkud3JhcChuKX1jYXRjaChlKXtjLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgY3JlYXRpbmcgcmFuZG9tIGJ1ZmZlciBmb3IgcGluZyBwb25nXCIsdGhpcy5sb2dnZXIsbC5ocy5VdC5fdCxlKX19LGUucHJvdG90eXBlLlY4PWZ1bmN0aW9uKGUsdCl7dHJ5e3ZhciByPW5ldyBhLlJmLkZhLkpnLlBvbmc7ci5pZD10aGlzLnlELmdldElkKCksci5zdGFydFRzPXQsdGhpcy5qOHx8dGhpcy5IOCgpLHIuZGF0YT10aGlzLmo4LHIuZGF0YVNpemU9aC5oaC5GYS5EYSx0aGlzLmxvZ2dlci5kZWJ1Zyh0aGlzLmpNK1wiU0VORCBQT05HIFRPIFBFRVIgR1VJRCBcIitlLm90aGVyR3VpZCksZS5MZyhhLlJmLkVnLlBvbmcscil9Y2F0Y2godCl7Yy5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIHNlbmRpbmcgcG9uZ1wiLHRoaXMuak0sbC5ocy5VdC5OdCx7ZGV0YWlsZWRFcnJvcjp0LG90aGVyR3VpZDplLm90aGVyR3VpZH0pfX0sZS5wcm90b3R5cGUuRjY9ZnVuY3Rpb24oZSl7dHJ5e3ZhciB0PWUuaWQ7aWYoIXRoaXMueGoodCkpcmV0dXJuIHZvaWQgYy5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIHJlY2VpdmluZyBhIHBvbmcgZnJvbSBhbiB1bmtub3duIHBlZXJcIix0aGlzLmpNLGwuaHMuVXQuRHQse290aGVyR3VpZDp0fSk7dmFyIHI9cy5GcmFtZXdvcmsudGltZSgpO2lmKGUuc3RhcnRUcyYmZS5zdGFydFRzPjApe3ZhciBpPXItZS5zdGFydFRzLG49dGhpcy5xaih0KTtlLmRhdGFTaXplPT1lLmRhdGEudGMoKS5ieXRlTGVuZ3RoP24uVDgoZS5kYXRhU2l6ZSxpLCEwKTpjLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgcmVjZWluZyBwb25nIHdpdGggd3JvbmcgZGF0YSBzaXplXCIsdGhpcy5qTSxsLmhzLlV0Lmt0LHtvdGhlckd1aWQ6dH0pfWVsc2UgYy5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIHJlY2VpdmluZyBwb25nIHdpdGggd3JvbmcgdGltZXN0YW1wXCIsdGhpcy5qTSxsLmhzLlV0Lkx0LHtvdGhlckd1aWQ6dH0pfWNhdGNoKHQpe2MuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciByZWNlaXZpbmcgcG9uZ1wiLHRoaXMuak0sbC5ocy5VdC5NdCx7ZGV0YWlsZWRFcnJvcjp0LG90aGVyR3VpZDplLmlkfSl9fSxlLnByb3RvdHlwZS52Qj1mdW5jdGlvbigpe3RyeXt2YXIgZT1uZXcgbjtyZXR1cm4gdGhpcy5ROCh0aGlzLmdCLGUpLHRoaXMuUTgodGhpcy5haixlKSxlfWNhdGNoKGUpe3JldHVybiBjLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgZ2V0dGluZyBwYXJ0bmVyIHNuYXBzaG90c1wiLHRoaXMuak0sbC5ocy5VdC5GdCxlKSxuZXcgbn19LGUucHJvdG90eXBlLlE4PWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztlLmZvckVhY2goZnVuY3Rpb24oZSxpKXt2YXIgbj1uZXcgaGl2ZS5zbmFwc2hvdHMuUGFydG5lcjtuLmluUGFydD0hMCxuLm91dFBhcnQ9ci5faihpKSxuLmNvbm5JbmZvPW5ldyBoaXZlLnNuYXBzaG90cy5Db25uZWN0aXZpdHlJbmZvO3ZhciBzPXZvaWQgMDtlLkVrLnBlZXJJbmZvLnB1YmxpY0lwU3RyaW5nJiYocz1lLkVrLnBlZXJJbmZvLnB1YmxpY0lwU3RyaW5nKTt2YXIgYT12b2lkIDA7ZS5Fay5wZWVySW5mby5wcml2YXRlSXBTdHJpbmcmJihhPWUuRWsucGVlckluZm8ucHJpdmF0ZUlwU3RyaW5nKSxuLmNvbm5JbmZvLnB1YmxpY0lwPXMsbi5jb25uSW5mby5wcml2YXRlSXA9YSxuLmNvbm5JbmZvLmV4dGVybmFsQXM9ZS5Fay5wZWVySW5mby5leHRlcm5hbEFzLG4uY29ubkluZm8uaW50ZXJuYWxBcz1lLkVrLnBlZXJJbmZvLmludGVybmFsQXM7dmFyIGg9ci5LOCgpO2gucmF0ZVJlY2VpdmVkPWUuazgoKSxuLm1ldHJpY3M9aCxuLnVkcD1lLkVrLnBlZXJJbmZvLnR5cGU9PW8uVGMuVyx0LnNldChlLnJlcG9ydGluZ0d1aWQsbil9KX0sZS5wcm90b3R5cGUucEI9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHUuWTgodGhpcy5nQi5sZW5ndGgsdGhpcy5hai5sZW5ndGgsdGhpcy5mQi5sZW5ndGgsdGhpcy5kQi5sZW5ndGgpfSxlLnByb3RvdHlwZS5LOD1mdW5jdGlvbigpe3ZhciBlPW5ldyBoaXZlLnNuYXBzaG90cy5QYXJ0bmVyTWV0cmljcztyZXR1cm4gZS5yYXRlUmVjZWl2ZWQ9MCxlLnJhdGVTZW50PTAsZS5oYW5kc2hha2VEZWxheT0wLGV9LGV9KCk7dC5yUT1wfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxyLGkpe3RoaXMuZ0I9ZSx0aGlzLkVCPXQsdGhpcy5mQj1yLHRoaXMuZEI9aX1yZXR1cm4gZX0oKTt0Llk4PWl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGV9KCk7dC5LZz1pfSxmdW5jdGlvbihlLHQpe2UuaT17cGFja2FnZTpcIkhpdmVNc2dzXCIsbWVzc2FnZXM6W3tuYW1lOlwiQ2h1bmtcIixmaWVsZHM6W3tydWxlOlwicmVxdWlyZWRcIix0eXBlOlwiaW50MzJcIixuYW1lOlwidHJhbnNmZXJJZFwiLGlkOjF9LHtydWxlOlwicmVxdWlyZWRcIix0eXBlOlwiaW50MzJcIixuYW1lOlwidG90YWxTaXplXCIsaWQ6Mn0se3J1bGU6XCJyZXF1aXJlZFwiLHR5cGU6XCJpbnQzMlwiLG5hbWU6XCJjaHVua1NpemVcIixpZDozfSx7cnVsZTpcInJlcXVpcmVkXCIsdHlwZTpcImJ5dGVzXCIsbmFtZTpcImRhdGFcIixpZDo0fSx7cnVsZTpcIm9wdGlvbmFsXCIsdHlwZTpcInN0cmluZ1wiLG5hbWU6XCJoZWFkZXJzXCIsaWQ6NX1dfSx7bmFtZTpcIkhhdmVzXCIsZmllbGRzOlt7cnVsZTpcInJlcGVhdGVkXCIsdHlwZTpcIkhhdmVcIixuYW1lOlwiaGF2ZVwiLGlkOjF9XX0se25hbWU6XCJIYXZlXCIsZmllbGRzOlt7cnVsZTpcInJlcXVpcmVkXCIsdHlwZTpcInN0cmluZ1wiLG5hbWU6XCJmcmFnbWVudElkXCIsaWQ6MX0se3J1bGU6XCJyZXF1aXJlZFwiLHR5cGU6XCJpbnQzMlwiLG5hbWU6XCJzaXplXCIsaWQ6Mn0se3J1bGU6XCJyZXF1aXJlZFwiLHR5cGU6XCJpbnQzMlwiLG5hbWU6XCJ0eXBlXCIsaWQ6M30se3J1bGU6XCJyZXF1aXJlZFwiLHR5cGU6XCJpbnQzMlwiLG5hbWU6XCJpZFwiLGlkOjR9LHtydWxlOlwicmVxdWlyZWRcIix0eXBlOlwiaW50MzJcIixuYW1lOlwiYml0cmF0ZVwiLGlkOjV9LHtydWxlOlwicmVxdWlyZWRcIix0eXBlOlwiaW50MzJcIixuYW1lOlwiZHVyYXRpb25cIixpZDo2fSx7cnVsZTpcInJlcXVpcmVkXCIsdHlwZTpcImZsb2F0XCIsbmFtZTpcInVwbG9hZFNjb3JlXCIsaWQ6N31dfSx7bmFtZTpcIlBpbmdcIixmaWVsZHM6W3tydWxlOlwicmVxdWlyZWRcIix0eXBlOlwic3RyaW5nXCIsbmFtZTpcImlkXCIsaWQ6MX0se3J1bGU6XCJyZXF1aXJlZFwiLHR5cGU6XCJ1aW50NjRcIixuYW1lOlwic3RhcnRUc1wiLGlkOjJ9XX0se25hbWU6XCJQb25nXCIsZmllbGRzOlt7cnVsZTpcInJlcXVpcmVkXCIsdHlwZTpcInN0cmluZ1wiLG5hbWU6XCJpZFwiLGlkOjF9LHtydWxlOlwicmVxdWlyZWRcIix0eXBlOlwiYnl0ZXNcIixuYW1lOlwiZGF0YVwiLGlkOjJ9LHtydWxlOlwicmVxdWlyZWRcIix0eXBlOlwiaW50MzJcIixuYW1lOlwiZGF0YVNpemVcIixpZDozfSx7cnVsZTpcInJlcXVpcmVkXCIsdHlwZTpcInVpbnQ2NFwiLG5hbWU6XCJzdGFydFRzXCIsaWQ6NH1dfSx7bmFtZTpcIlJlcXVlc3RcIixmaWVsZHM6W3tydWxlOlwicmVxdWlyZWRcIix0eXBlOlwic3RyaW5nXCIsbmFtZTpcImZyYWdtZW50SWRcIixpZDoxfSx7cnVsZTpcInJlcXVpcmVkXCIsdHlwZTpcImludDMyXCIsbmFtZTpcInRyYW5zZmVySWRcIixpZDoyfV19LHtuYW1lOlwiRG9Ob3RIYXZlXCIsZmllbGRzOlt7cnVsZTpcInJlcXVpcmVkXCIsdHlwZTpcImludDMyXCIsbmFtZTpcInRyYW5zZmVySWRcIixpZDoxfV19LHtuYW1lOlwiTm9QYXJ0bmVyc1wiLGZpZWxkczpbe3J1bGU6XCJyZXF1aXJlZFwiLHR5cGU6XCJpbnQzMlwiLG5hbWU6XCJ0cmFuc2ZlcklkXCIsaWQ6MX1dfSx7bmFtZTpcIkNhbmNlbFwiLGZpZWxkczpbe3J1bGU6XCJyZXF1aXJlZFwiLHR5cGU6XCJpbnQzMlwiLG5hbWU6XCJ0cmFuc2ZlcklkXCIsaWQ6MX1dfSx7bmFtZTpcIkFja1wiLGZpZWxkczpbe3J1bGU6XCJvcHRpb25hbFwiLHR5cGU6XCJpbnQzMlwiLG5hbWU6XCJ0cmFuc2ZlcklkXCIsaWQ6MX1dfSx7bmFtZTpcIkNsb3NlXCIsZmllbGRzOlt7cnVsZTpcInJlcXVpcmVkXCIsdHlwZTpcImludDMyXCIsbmFtZTpcInR5cGVcIixpZDoxfV19LHtuYW1lOlwiU3RyZWFtQ2hhcmFjdGVyaXN0aWNzXCIsZmllbGRzOlt7cnVsZTpcInJlcXVpcmVkXCIsdHlwZTpcImludDMyXCIsbmFtZTpcInN0cmVhbVN0YXRlXCIsaWQ6MX0se3J1bGU6XCJyZXF1aXJlZFwiLHR5cGU6XCJpbnQzMlwiLG5hbWU6XCJiaXRyYXRlXCIsaWQ6Mn0se3J1bGU6XCJyZXF1aXJlZFwiLHR5cGU6XCJpbnQzMlwiLG5hbWU6XCJkZWx0YVwiLGlkOjN9XX0se25hbWU6XCJPdXRQYXJ0bmVyc2hpcFJlcXVlc3RcIixmaWVsZHM6W3tydWxlOlwicmVxdWlyZWRcIix0eXBlOlwic3RyaW5nXCIsbmFtZTpcImd1aWRcIixpZDoxfSx7cnVsZTpcInJlcXVpcmVkXCIsdHlwZTpcInN0cmluZ1wiLG5hbWU6XCJjb250ZXh0SWRcIixpZDoyfSx7cnVsZTpcInJlcXVpcmVkXCIsdHlwZTpcInN0cmluZ1wiLG5hbWU6XCJwMnBQcm90b2NvbFZlcnNpb25cIixpZDozfSx7cnVsZTpcIm9wdGlvbmFsXCIsdHlwZTpcImludDMyXCIsbmFtZTpcImludGVybmFsQXNcIixpZDo0fSx7cnVsZTpcIm9wdGlvbmFsXCIsdHlwZTpcImludDMyXCIsbmFtZTpcImV4dGVybmFsQXNcIixpZDo1fSx7cnVsZTpcIm9wdGlvbmFsXCIsdHlwZTpcInN0cmluZ1wiLG5hbWU6XCJwdWJsaWNJcFN0cmluZ1wiLGlkOjZ9LHtydWxlOlwib3B0aW9uYWxcIix0eXBlOlwic3RyaW5nXCIsbmFtZTpcInByaXZhdGVJcFN0cmluZ1wiLGlkOjd9LHtydWxlOlwicmVxdWlyZWRcIix0eXBlOlwic3RyaW5nXCIsbmFtZTpcInJlcG9ydGluZ0d1aWRcIixpZDo4fSx7cnVsZTpcInJlcGVhdGVkXCIsdHlwZTpcIlN0cmVhbUNoYXJhY3RlcmlzdGljc1wiLG5hbWU6XCJzdHJlYW1DaGFyYWN0ZXJpc3RpY3NcIixpZDo5fV19LHtuYW1lOlwiT3V0UGFydG5lcnNoaXBSZXNwb25zZVwiLGZpZWxkczpbe3J1bGU6XCJyZXF1aXJlZFwiLHR5cGU6XCJpbnQzMlwiLG5hbWU6XCJhY2NlcHRcIixpZDoxfSx7cnVsZTpcIm9wdGlvbmFsXCIsdHlwZTpcImludDMyXCIsbmFtZTpcImludGVybmFsQXNcIixpZDoyfSx7cnVsZTpcIm9wdGlvbmFsXCIsdHlwZTpcImludDMyXCIsbmFtZTpcImV4dGVybmFsQXNcIixpZDozfSx7cnVsZTpcIm9wdGlvbmFsXCIsdHlwZTpcInN0cmluZ1wiLG5hbWU6XCJwdWJsaWNJcFN0cmluZ1wiLGlkOjR9LHtydWxlOlwib3B0aW9uYWxcIix0eXBlOlwic3RyaW5nXCIsbmFtZTpcInByaXZhdGVJcFN0cmluZ1wiLGlkOjV9LHtydWxlOlwib3B0aW9uYWxcIix0eXBlOlwic3RyaW5nXCIsbmFtZTpcInJlcG9ydGluZ0d1aWRcIixpZDo2fSx7cnVsZTpcInJlcGVhdGVkXCIsdHlwZTpcIlN0cmVhbUNoYXJhY3RlcmlzdGljc1wiLG5hbWU6XCJzdHJlYW1DaGFyYWN0ZXJpc3RpY3NcIixpZDo3fV19LHtuYW1lOlwiUGVlckluZm9NZXNzYWdlXCIsZmllbGRzOlt7cnVsZTpcInJlcXVpcmVkXCIsdHlwZTpcInN0cmluZ1wiLG5hbWU6XCJndWlkXCIsaWQ6MX0se3J1bGU6XCJvcHRpb25hbFwiLHR5cGU6XCJzdHJpbmdcIixuYW1lOlwicHVibGljSXBTdHJpbmdcIixpZDoyfSx7cnVsZTpcIm9wdGlvbmFsXCIsdHlwZTpcInN0cmluZ1wiLG5hbWU6XCJwcml2YXRlSXBTdHJpbmdcIixpZDozfSx7cnVsZTpcIm9wdGlvbmFsXCIsdHlwZTpcImludDMyXCIsbmFtZTpcImludGVybmFsQXNcIixpZDo0fSx7cnVsZTpcIm9wdGlvbmFsXCIsdHlwZTpcImludDMyXCIsbmFtZTpcImV4dGVybmFsQXNcIixpZDo1fSx7cnVsZTpcInJlcGVhdGVkXCIsdHlwZTpcIlN0cmVhbUNoYXJhY3RlcmlzdGljc1wiLG5hbWU6XCJzdHJlYW1DaGFyYWN0ZXJpc3RpY3NcIixpZDo2fV19LHtuYW1lOlwiVURQSGFuZHNoYWtlTWVzc2FnZVwiLGZpZWxkczpbe3J1bGU6XCJyZXF1aXJlZFwiLHR5cGU6XCJzdHJpbmdcIixuYW1lOlwidXVpZFwiLGlkOjF9LHtydWxlOlwicmVxdWlyZWRcIix0eXBlOlwic3RyaW5nXCIsbmFtZTpcInN0cmVhbUlkXCIsaWQ6Mn0se3J1bGU6XCJyZXF1aXJlZFwiLHR5cGU6XCJmbG9hdFwiLG5hbWU6XCJ1ZHBTY29yZVwiLGlkOjN9LHtydWxlOlwicmVxdWlyZWRcIix0eXBlOlwiYm9vbFwiLG5hbWU6XCJpc0xlYWRlclwiLGlkOjR9XX0se25hbWU6XCJVRFBIYW5kc2hha2VSZXNwb25zZVwiLGZpZWxkczpbe3J1bGU6XCJyZXF1aXJlZFwiLHR5cGU6XCJzdHJpbmdcIixuYW1lOlwiYWNjZXB0XCIsaWQ6MX1dfSx7bmFtZTpcIlVEUFN3aXRjaExlYWRlcnNoaXBSZXF1ZXN0XCIsZmllbGRzOlt7cnVsZTpcInJlcXVpcmVkXCIsdHlwZTpcInN0cmluZ1wiLG5hbWU6XCJ1dWlkXCIsaWQ6MX0se3J1bGU6XCJyZXF1aXJlZFwiLHR5cGU6XCJmbG9hdFwiLG5hbWU6XCJ1ZHBTY29yZVwiLGlkOjJ9XX0se25hbWU6XCJVRFBTd2l0Y2hMZWFkZXJzaGlwQWNrXCIsZmllbGRzOlt7cnVsZTpcInJlcXVpcmVkXCIsdHlwZTpcImJvb2xcIixuYW1lOlwib2tcIixpZDoxfV19LHtuYW1lOlwiQml0cmF0ZVwiLGZpZWxkczpbe3J1bGU6XCJyZXF1aXJlZFwiLHR5cGU6XCJzdHJpbmdcIixuYW1lOlwiZ3VpZFwiLGlkOjF9LHtydWxlOlwicmVxdWlyZWRcIix0eXBlOlwiaW50MzJcIixuYW1lOlwiYml0cmF0ZVwiLGlkOjJ9XX1dfX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXIoNSksbj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0LHIsaSxuKXt0aGlzLnVkcFNjb3JlPTAsdGhpcy5jRz0hMSx0aGlzLnN0cmVhbUlkPVwiXCIsdGhpcy51dWlkPWUsdGhpcy51ZHBTY29yZT10LHImJih0aGlzLmFkZHJlc3M9ciksaSYmKHRoaXMuY0c9aSksbiYmKHRoaXMuc3RyZWFtSWQ9bil9cmV0dXJuIGUuSkU9ZnVuY3Rpb24oZSx0KXt2YXIgcj0wO3JldHVybiByPWUudWRwU2NvcmU+dC51ZHBTY29yZT8xOmUudWRwU2NvcmU8dC51ZHBTY29yZT8tMTowLDAhPXI/LXI6aS5oaC5VRFBCcm9hZGNhc3QueGE/dC51dWlkLmxvY2FsZUNvbXBhcmUoZS51dWlkKTplLnV1aWQubG9jYWxlQ29tcGFyZSh0LnV1aWQpfSxlfSgpO3QuaEc9bn0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXIoMyksbj1yKDQzKSxzPXIoMCksbz1yKDE1KSxhPXIoOSksaD1yKDEwKSxjPXIoMSksdT1yKDIpLGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5sb2dnZXJJZD1cIltQMlBSZXF1ZXN0ZXJdIFwiLHRoaXMuQWc9bmV3IG4uQ291bnRlcix0aGlzLlc4PW5ldyBpLHRoaXMuejg9bmV3IGksdGhpcy5KOD1zLkZyYW1ld29yay5yZXNvbHZlKG8ucXUuTnUpfXJldHVybiBlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKGUpe3RoaXMubG9nZ2VyPXMuRnJhbWV3b3JrLnJlc29sdmUocy5GcmFtZXdvcmsuVi5SKS5sb2coZS5zZXNzaW9uSWQpLHRoaXMuZ0Q9ZS5nRCx0aGlzLlREPWUuVEQsdGhpcy5FRD1lLkVELHRoaXMueUQ9ZS55RCx0aGlzLktNPWUuWU0sdGhpcy5KOC5YOChlLnlEKX0sZS5wcm90b3R5cGUucmVxdWVzdD1mdW5jdGlvbihlKXt0aGlzLmxvZ2dlci5kZWJ1ZyhcIkZSTCBJU1NVRSBSRVEgRk9SIEZSQUdNRU5UIFwiK2UuemYudG9TdHJpbmcoKStcIi1cIitlLnFmLkFmK1wiIFtcIithLnZjW2UuWGYoKV0rXCJdIFRPIFAyUFwiKSx0aGlzLlc4LnNldChlLiRmKCksZSk7dmFyIHQ9dGhpcy5BZy5uZXh0KCk7ZS5Qaz10LHRoaXMuejguc2V0KHQsZS4kZigpKSx0aGlzLk0xKGUpfSxlLnByb3RvdHlwZS5NMT1mdW5jdGlvbihlKXt2YXIgdD1lLlpmKCkscj1lLiRmKCksaT10aGlzLlo4KHQpO2Uuc2l6ZT10aGlzLmdELlExKHQpLnNpemU7dmFyIG49dGhpcy5KOC5lNShpLGUudHlwZSk7bnVsbCE9bj8odGhpcy5sb2dnZXIuaW5mbyhcIlNFTkQgUkVRVUVTVCBcIitlLlBrK1wiIEZPUiBcIityK1wiIFRPIFwiK24ud2oub3RoZXJHdWlkK1wiIChMQU4gTEVBREVSIFwiK24uRWsucGVlckluZm8uaXNMZWFkZXIrXCIgaUFTIFwiK24uRWsucGVlckluZm8uaW50ZXJuYWxBcytcIiBlQVMgXCIrbi5Fay5wZWVySW5mby5leHRlcm5hbEFzK1wiIHByaXZhdGVJcCBcIituLkVrLnBlZXJJbmZvLnByaXZhdGVJcFN0cmluZytcIiApIG91dCBvZiBcIitpLmxlbmd0aCtcIiB0eXBlIFwiK2guVGNbbi5Fay5wZWVySW5mby50eXBlXStcIiBzaXplOlwiK2Uuc2l6ZSksZS54cT1uLGUucXE9bi5Fay5wZWVySW5mbyxlLnhxLm04KGUuUGspLGUucWYuQ2Y9ITAsZS5xZi5NZj1zLkZyYW1ld29yay50aW1lKCksdGhpcy5LTS50NShlKSx0aGlzLkNrKGUpP24ud2oucmVjZWl2ZXIuRzYoZSk6dGhpcy5fayhlLlBrLFwiVElNRUQtT1VUXCIpKTooYy5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIHNlbmRpbmcgcDJwIHJlcXVlc3QgYmVjYXVzZSB3ZSBjYW5ub3QgZmluZCBhIHBhcnRuZXJcIix0aGlzLmxvZ2dlcklkLHUuaHMuZG4ubm4pLHRoaXMuX2soZS5QayxcIk5PIFBBUlRORVJTIEZPVU5EIEZPUiBSRVFVRVNUXCIpKX0sZS5wcm90b3R5cGUuWjg9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPVtdO3RyeXt0aGlzLmdELmZrKGUpLmZvckVhY2goZnVuY3Rpb24oZSl7dC5URC54aihlLmd1aWQpP3IucHVzaChlKTp0LmxvZ2dlci53YXJuKFwiSSBIQVZFIEEgSEFWRSBGUk9NIEEgTk9OIElOLVBBUlRORVIgXCIrZS5ndWlkKX0pfWNhdGNoKGUpe2MuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBmaWx0ZXJpbmcgaW4gcGFydG5lcnNcIix0aGlzLmxvZ2dlcklkLHUuaHMuZG4uc24sZSl9ZmluYWxseXtyZXR1cm4gcn19LGUucHJvdG90eXBlLkNrPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj0hMTt0cnl7dmFyIGk9MDtudWxsPT1lLnNpemU/KGk9dGhpcy5nRC5RMShlLlpmKCkpLnNpemUsdGhpcy5sb2dnZXIud2FybihcInJlcXVlc3Qgc2l6ZSBub3Qgc2V0IC0gdGhpcyBzaG91bGQgbm90IGhhcHBlblwiKSk6aT1lLnNpemU7dmFyIG49ZS5XZi5kTSgpLmF4KGUsaSk7cmV0dXJuIGUuVjY9bixuPjAmJihyPSEwLG51bGw9PWUubUcmJihlLm1HPXMuRnJhbWV3b3JrLnNldFRpbWVvdXQoZnVuY3Rpb24oKXt0LktNLnI1KGUpLHQuX2soZS5QayxcIlRJTUVELU9VVFwiKX0sbikpKSxyfWNhdGNoKGUpe3JldHVybiBjLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3Igc2V0dGluZyByZXF1ZXN0IHRpbWVvdXRcIix0aGlzLmxvZ2dlcklkLHUuaHMuZG4uYW4sZSksITF9fSxlLnByb3RvdHlwZS5faz1mdW5jdGlvbihlLHQpe3RoaXMubG9nZ2VyLmluZm8odCtcIiBcIitlKTt2YXIgcj10aGlzLmk1KGUsITApO3RoaXMubG9nZ2VyLmluZm8oXCJSRVFVRVNUIFwiK2UrXCIgRk9SIFwiK3IuJGYoKStcIiBGQUlMRUQgQkVDQVVTRSBcIit0KSxyJiZ0aGlzLkVELkdYKHIpfSxlLnByb3RvdHlwZS5pNT1mdW5jdGlvbihlLHQpe3RyeXtpZih0aGlzLno4LmhhcyhlKSl7dmFyIHI9dGhpcy56OC5nZXQoZSk7dGhpcy56OC5kZWxldGUoZSk7dmFyIGk9dGhpcy5XOC5nZXQocik7aWYodGhpcy5XOC5kZWxldGUocikscy5GcmFtZXdvcmsuY2xlYXJUaW1lb3V0KGkubUcpLHQmJnRoaXMuVEQueGooaS54cS53ai5vdGhlckd1aWQpKXtpLnhxLndqLnJlY2VpdmVyLlE2KGUpO3ZhciBuPWkuWGYoKT09YS52Yy5mYzswIT1pLlFmP2kueHEuUjgoaS5QayxpLlFmLGkucWYucDJwQWdlblRyYWZmaWNTdWNjZXNzUXQsaS5zaXplLG4saS50eXBlKTppLnhxLl9rKGkuUGssbixpLnNpemUpfXJldHVybiBpfXJldHVybiBjLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgY2FuY2VsbGluZyByZXF1ZXN0IG9uIG5vbiBleGlzdGluZyBzZXNzaW9uXCIsdGhpcy5sb2dnZXJJZCx1LmhzLmRuLmNuKSxudWxsfWNhdGNoKGUpe3JldHVybiBjLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgcmVtb3ZpbmcgcmVxdWVzdFwiLHRoaXMubG9nZ2VySWQsdS5ocy5kbi5obixlKSxudWxsfX0sZS5wcm90b3R5cGUucVg9ZnVuY3Rpb24oZSl7aWYodGhpcy5XOC5oYXMoZSkpe3ZhciB0PXRoaXMuVzguZ2V0KGUpLlBrO3RoaXMuaTUodCwhMCl9fSxlLnByb3RvdHlwZS52MT1mdW5jdGlvbihlLHQscixpKXt0aGlzLmxvZ2dlci5kZWJ1ZyhcIkZSTCBET1dOTE9BRElORyBcIit0LiRmKCkrXCIgRlJPTSBcIitlK1wiIFAyUFwiKX0sZS5wcm90b3R5cGUuVUQ9ZnVuY3Rpb24oZSx0KXtpZih0aGlzLmxvZ2dlci5kZWJ1ZyhcIkZSTCBQUk9NSVNFRCBGUkFHTUVOVCBcIit0LiRmKCkrXCIgUkVUVVJORUQgRlJPTSBQMlAgU0laRSBcIit0LnFmLkFmKSx0PXRoaXMuaTUoZSwhMSkpe3QucWYuVWY9cy5GcmFtZXdvcmsudGltZSgpO3ZhciByPXQuWGYoKT09YS52Yy5mYzt0LnhxLkk4KHQuUGssdC5zaXplLHQucWYucDJwQWdlblRyYWZmaWNTdWNjZXNzUXQsITAscix0LnR5cGUpLHRoaXMuRUQualgodCl9ZWxzZSB0aGlzLmxvZ2dlci53YXJuKFwiVFJJRUQgVE8gUkVNT1ZFIEEgTk9OIEVYSVNUSU5HIFJFUVVFU1QgXCIrZStcIiAoVEhJUyBTSE9VTEQgTk9UIEhBUFBFTi4gQVQgTEVBU1QgTk9UIFRPTyBPRlRFTilcIil9LGUucHJvdG90eXBlLms2PWZ1bmN0aW9uKGUpe3ZhciB0PWUuZ2V0VHJhbnNmZXJJZCgpO2lmKHRoaXMuejguaGFzKHQpKXtjLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgcmVjZWl2aW5nIGEgZG8gbm90IGhhdmUgZm9yIG15IHJlcXVlc3RcIix0aGlzLmxvZ2dlcklkLHUuaHMuZG4udW4pLHRoaXMubG9nZ2VyLmRlYnVnKFwiRE8gTk9UIEhBVkUgUkVDRUlWRUQgRk9SIFwiK3QpO3ZhciByPXRoaXMuaTUodCwhMSk7aWYocil7dmFyIGk9ci5YZigpPT1hLnZjLmZjO3IueHEuX2soci5QayxpLHIuc2l6ZSksdGhpcy5FRC5HWChyKX19ZWxzZSB0aGlzLmxvZ2dlci53YXJuKFwiVU5LTk9XTiBETyBOT1QgSEFWRSBcIit0KX0sZS5wcm90b3R5cGUuVTY9ZnVuY3Rpb24oZSx0KXt2YXIgcj10LnRyYW5zZmVySWQ7aWYodGhpcy56OC5oYXMocikpe2MuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciByZWplY3RlZCByZXF1ZXN0IGJ5IGEgbm9uIHBhcnRuZXJcIix0aGlzLmxvZ2dlcklkLHUuaHMuZG4ucG4pLHRoaXMuVEQuU2ooZSk7dmFyIGk9dGhpcy5pNShyLCExKTtpJiZ0aGlzLkVELkdYKGkpfX0sZS5wcm90b3R5cGUuWXM9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuVzguaGFzKGUpfSxlfSgpO3QuTEo9bH0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXIoMCksbj1yKDI1KSxzPXIoMSksbz1yKDIpLGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5sb2dnZXJJZD1cIltQMlBSZXNwb25kZXJdIFwifXJldHVybiBlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKGUpe3RoaXMubG9nZ2VyPWkuRnJhbWV3b3JrLnJlc29sdmUoaS5GcmFtZXdvcmsuVi5SKS5sb2coZS5zZXNzaW9uSWQpLHRoaXMuc0c9ZSx0aGlzLmdEPWUuZ0QsdGhpcy5zQz1lLnNDLHRoaXMuVEQ9ZS5URCx0aGlzLnVwbG9hZFNjb3JlPWUudXBsb2FkU2NvcmUsdGhpcy55RD1lLnlELHRoaXMuS009ZS5ZTX0sZS5wcm90b3R5cGUuUE09ZnVuY3Rpb24oZSx0LHIpe3RyeXtpZih0aGlzLlRELl9qKGUpKXt2YXIgaT10aGlzLlRELiRqKGUpO3RoaXMubjUoZSx0LGkpfWVsc2UgdGhpcy5zNShlLHQscil9Y2F0Y2goZSl7cy5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIG9uIHJlc3BvbmRpbmcgdG8gcDJwIHJlcXVlc3RcIix0aGlzLmxvZ2dlcklkLG8uaHMubW4uZm4sZSl9fSxlLnByb3RvdHlwZS5jOD1mdW5jdGlvbihlLHQscil7dHJ5e2lmKHRoaXMudXBsb2FkU2NvcmUuc3VjY2VzcyhyKSx0aGlzLlRELl9qKGUpKXt2YXIgaT10aGlzLlRELiRqKGUpO2kudlEuc3VjY2VzcyhyKSxpLl84KHIsdCl9fWNhdGNoKGUpe3MuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBvbiByZXF1ZXN0IHNhdGlzZmllZFwiLHRoaXMubG9nZ2VySWQsby5ocy5tbi5nbixlKX19LGUucHJvdG90eXBlLmE4PWZ1bmN0aW9uKGUsdCxyLGkpe3RyeXtpZih0aGlzLnVwbG9hZFNjb3JlLnc4KHIsaSksdGhpcy5URC5faihlKSl7dmFyIG49dGhpcy5URC4kaihlKTtuLnZRLnc4KHIsaSksbi5OOChyLGksdCl9fWNhdGNoKGUpe3MuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBvbiByZXF1ZXN0IHBhcnRpYWxseSBzYXRpc2ZpZWRcIix0aGlzLmxvZ2dlcklkLG8uaHMubW4uRW4sZSl9fSxlLnByb3RvdHlwZS5oOD1mdW5jdGlvbihlLHQscil7dHJ5e2lmKHRoaXMudXBsb2FkU2NvcmUubGwoKSx0aGlzLlRELl9qKGUpKXt2YXIgaT10aGlzLlRELiRqKGUpO2kudlEubGwoKSxpLkE4KHIsdCl9fWNhdGNoKGUpe3MuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBvbiByZXF1ZXN0IG5vdCBzYXRpc2ZpZWRcIix0aGlzLmxvZ2dlcklkLG8uaHMubW4udm4sZSl9fSxlLnByb3RvdHlwZS5uNT1mdW5jdGlvbihlLHQscil7dmFyIGk9dGhpczt0aGlzLnNDLmdldCh0LmZyYWdtZW50SWQpLnRoZW4oZnVuY3Rpb24obil7bj8oaS5sb2dnZXIuZGVidWcoXCJTRU5ESU5HIFRPIFwiK2UrXCIsXCIrdC5mcmFnbWVudElkK1wiLFwiK3QudHJhbnNmZXJJZCtcIixcIituLmxlbmd0aCtcIiBETCBcIituLmxlbmd0aCksci53ai5zZW5kZXIuWDYodC5mcmFnbWVudElkLHQudHJhbnNmZXJJZCxuLmxlbmd0aCxuLmhlYWRlcnMsbi5kYXRhKSk6KGkubG9nZ2VyLmRlYnVnKFwiUkVDRUlWRUQgUkVRVUVTVCBGT1IgXCIrdC5mcmFnbWVudElkK1wiIEZST00gXCIrZStcIiBDQU4nVCBCRSBTRVJWRURcIiksaS5vNSh0LnRyYW5zZmVySWQscikpfSl9LGUucHJvdG90eXBlLm81PWZ1bmN0aW9uKGUsdCl7dHJ5e3RoaXMubG9nZ2VyLmluZm8oXCJTRU5EIERPIE5PVCBIQVZFIFwiK2UrXCIgVE8gXCIrdC53ai5TZyk7dmFyIHI9bmV3IG4uUmYuRmEuSmcuRG9Ob3RIYXZlO3Iuc2V0VHJhbnNmZXJJZChlKSx0LndqLkxnKG4uUmYuRWcuRG9Ob3RIYXZlLHIpfWNhdGNoKGUpe3MuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBvbiBzZW5kaW5nIGRvIG5vdCBoYXZlXCIsdGhpcy5sb2dnZXJJZCxvLmhzLm1uLnluLGUpfX0sZS5wcm90b3R5cGUuczU9ZnVuY3Rpb24oZSx0LHIpe3RyeXt0aGlzLmxvZ2dlci53YXJuKFwiR09UIFJFUVVFU1QgRlJPTSBOT04tUEFSVE5FUiBcIitlK1wiIEZPUiBcIit0LmZyYWdtZW50SWQpO3ZhciBpPW5ldyBuLlJmLkZhLkpnLk5vUGFydG5lcnM7aS5zZXRUcmFuc2ZlcklkKHQudHJhbnNmZXJJZCksci5MZyhuLlJmLkVnLmdnLGkpfWNhdGNoKGUpe3MuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBvbiBzZW5kIG5vIHBhcnRuZXJzXCIsdGhpcy5sb2dnZXJJZCxvLmhzLm1uLlRuLGUpfX0sZX0oKTt0Lk1KPWF9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaSxuPXIoNDgpLHM9cigwKSxvPXIoNSk7IWZ1bmN0aW9uKGUpe2VbZS5TPTBdPVwiU1wiLGVbZS5hNT0xXT1cIkZcIixlW2UuaDU9Ml09XCJQRlwifShpfHwoaT17fSkpO3ZhciBhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLnRzPWV9cmV0dXJuIGV9KCksaD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLmM1PTAsdGhpcy51NT0wLHRoaXMubDU9MCx0aGlzLnA1PTAsdGhpcy5kNT0wLHRoaXMuZjU9MH1yZXR1cm4gZX0oKSxjPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuZzU9bmV3IG59cmV0dXJuIGUucHJvdG90eXBlLnN1Y2Nlc3M9ZnVuY3Rpb24oZSl7dGhpcy5ldmVudChpLlMsZSxlKX0sZS5wcm90b3R5cGUubGw9ZnVuY3Rpb24oKXt0aGlzLmV2ZW50KGkuYTUsMCwwKX0sZS5wcm90b3R5cGUudzg9ZnVuY3Rpb24oZSx0KXt0aGlzLmV2ZW50KGkuaDUsZSx0KX0sZS5wcm90b3R5cGUuZXZlbnQ9ZnVuY3Rpb24oZSx0LHIpe3ZhciBpPW5ldyBhKHMuRnJhbWV3b3JrLnRpbWUoKSk7aS50PWUsaS5FNT10LGkudjU9dC9yLGkueTU9KHItdCkvcix0aGlzLmc1LnNldChpLnRzLGkpLHRoaXMuVDUoKX0sZS5wcm90b3R5cGUuVDU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9cy5GcmFtZXdvcmsudGltZSgpLHI9dC0yKm8uaGguT2EuQ2E7aWYocj4wKXt2YXIgaT1bXTt0aGlzLmc1LmZvckVhY2goZnVuY3Rpb24oZSx0KXt0PHImJmkucHVzaCh0KX0pLGkuZm9yRWFjaChmdW5jdGlvbih0KXtlLmc1LmRlbGV0ZSh0KX0pfX0sZS5wcm90b3R5cGUuZlE9ZnVuY3Rpb24oZSl7dmFyIHQ9MCxyPXRoaXMubTUoZSxvLmhoLk9hLkNhKTtpZihudWxsIT1yKXt2YXIgaT1yLnU1K3IubDUrci5wNTt0PTA9PWk/MDooci51NStyLnA1Km8uaGguT2EuX2EpL2l9cmV0dXJuIHR9LGUucHJvdG90eXBlLnE4PWZ1bmN0aW9uKGUpe3ZhciB0PTAscj10aGlzLm01KGUsby5oaC5PYS5DYSk7aWYobnVsbCE9cil7dmFyIGk9ci51NStyLmw1K3IucDU7dD0wPT1pPzA6KHIubDUrci5wNSpvLmhoLk9hLlBhKS9pfXJldHVybiB0fSxlLnByb3RvdHlwZS5JNT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLm01KCExLGUpO3JldHVybiBudWxsIT10P3QuYzU6MH0sZS5wcm90b3R5cGUubTU9ZnVuY3Rpb24oZSx0KXtpZigwIT10aGlzLmc1LmtleXMoKS5sZW5ndGgpe3ZhciByPW5ldyBoLG89cy5GcmFtZXdvcmsudGltZSgpLGE9by10O2E8MCYmKGE9MCk7dmFyIGM9bmV3IG47cmV0dXJuIHRoaXMuZzUuZm9yRWFjaChmdW5jdGlvbihlLHQpe3Q+PWEmJmMuc2V0KHQsZSl9KSxjLmZvckVhY2goZnVuY3Rpb24oZSx0KXtzd2l0Y2goci5jNSs9ZS5FNSxlLnQpe2Nhc2UgaS5TOnIudTUrKzticmVhaztjYXNlIGkuYTU6ci5sNSsrO2JyZWFrO2RlZmF1bHQ6ci5wNSsrLHIuZDUrPWUudjUsci5mNSs9ZS55NX19KSxyfXJldHVybiBudWxsfSxlfSgpO2MuUGE9LjIsYy5fYT0uMix0LkZKPWN9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT10aGlzJiZ0aGlzLmh1fHxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIHIoKXt0aGlzLmNvbnN0cnVjdG9yPWV9Zm9yKHZhciBpIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShpKSYmKGVbaV09dFtpXSk7ZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KTooci5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IHIpfSxuPXIoMykscz1yKDQpLG89cigwKSxhPXIoMTc2KSxoPXIoMTc4KSxjPXIoOTYpLHU9cigyKSxsPXIoMSk7dC5TNXx8KHQuUzU9e30pO3ZhciBwPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXt2YXIgdD1lLmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIHQubG9nZ2VySWQ9XCJbSGl2ZU5ldHdvcmtNYW5hZ2VyXSBcIix0LlI1PSExLHQudzU9bmV3IG4sdC5BZz0xLHQuSmw9by5GcmFtZXdvcmsucmVzb2x2ZShvLkZyYW1ld29yay5WLk0pLHQuYjU9by5GcmFtZXdvcmsucmVzb2x2ZShvLkZyYW1ld29yay5WLnEpLHQuY2hhbm5lbE1hbmFnZXI9bmV3IGEuQzUodC5sb2dnZXIsdC5iNSx0KSx0LmI1LmluaXQodCx0LmxvZ2dlcix0LmNoYW5uZWxNYW5hZ2VyKSx0Ll81KCksdH1yZXR1cm4gaSh0LGUpLHQucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxyPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyl0W3ItMV09YXJndW1lbnRzW3JdO3ZhciBpPW8uRnJhbWV3b3JrLnJlc29sdmUoby5GcmFtZXdvcmsuVi5SKS5sb2coZSksbj1udWxsO3JldHVybiAwPT10aGlzLnZsLmtleXMoKS5sZW5ndGg/KGkuZGVidWcoXCJUUklHR0VSSU5HIENPTk5FQ1QgXCIpLG49dGhpcy5QNSgpLHRoaXMuQTUoZSx0KSk6KGkuZGVidWcoXCJBTFJFQURZIENPTk5FQ1RFRCBcIiksbj10aGlzLkpsLlpsKCksdGhpcy5BNShlLHQpLHRoaXMuYjUuc1koKSYmdGhpcy5PNSh0aGlzLmdkLGUpKSxufSx0LnByb3RvdHlwZS5QNT1mdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1vLkZyYW1ld29yay5MLms7cmV0dXJuXCJsb2NhbGhvc3RcIj09PXQmJih0PVwiMTI3LjAuMC4xOlwiK2xvY2F0aW9uLnBvcnQpLHRoaXMubG9nZ2VyLmRlYnVnKFwiQ09OTkVDVElORy4uXCIpLHRoaXMuSmwuWmwoKS50aGVuKGZ1bmN0aW9uKHIpe3ZhciBpPXIudHAoKTtyZXR1cm4gZS5sb2dnZXIuZGVidWcoXCJNWSBJREVOVElUWSBcIixpKSxlLmdkPWksZS5iNS5zdGFydCh0LGkpLHJ9KX0sdC5wcm90b3R5cGUuTjU9ZnVuY3Rpb24oKXtyZXR1cm4gcy5yZXNvbHZlKG5ldyBuKX0sdC5wcm90b3R5cGUuY29ubmVjdD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9cy5kZWZlcigpO3JldHVybiB0aGlzLnc1LmhhcyhlKT8odGhpcy5sb2dnZXIuZGVidWcoXCJBbHJlYWR5IGNvbm5lY3RlZCB0byBcIitlK1wiLCBpZ25vcmluZ1wiKSxyLnJlc29sdmUodGhpcy53NS5nZXQoZSkpKTp0aGlzLmNoYW5uZWxNYW5hZ2VyLkQ1KHRoaXMuZ2QsZSkudGhlbihmdW5jdGlvbihyKXtyZXR1cm4gdC5jb25uZWN0ZWQoZSxyKX0pLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIHIucmVzb2x2ZShlKX0pLmZhaWwoZnVuY3Rpb24oaSl7bC5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIGVzdGFibGlzaGluZyBjb25uZWN0aW9uXCIsdC5sb2dnZXJJZCx1LmhzLlBlLmJlLHtvdGhlckd1aWQ6ZX0pLHIucmVqZWN0KFwiQ09OTiBUTyBcIitlK1wiIENBTk5PVCBCRSBFU1RBQkxJU0hFRCBcIil9KSxyLlNzfSx0LnByb3RvdHlwZS5zZW5kPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4hIXRoaXMuY2hhbm5lbE1hbmFnZXIuc2VuZChlLHQpfHwobC5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIHNlbmRpbmcgbWVzc2FnZSB3aXRob3V0IGNoYW5uZWwgZXN0YWJsaXNoZWRcIix0aGlzLmxvZ2dlcklkLHUuaHMuUGUuQ2Use290aGVyR3VpZDplfSksdGhpcy5rNShlKSwhMSl9LHQucHJvdG90eXBlLkw1PWZ1bmN0aW9uKGUsdCxyKXtpZih0aGlzLlI1JiZ0aGlzLmxvZ2dlci5kZWJ1ZyhcIlJFQyBCVUYgXCIrci5ieXRlTGVuZ3RoK1wiIFwiK3IpLHRoaXMudzUuaGFzKGUpKXt0aGlzLlI1JiZ0aGlzLmxvZ2dlci5kZWJ1ZyhcIlBST0MgTVNHIEZST00gXCIrZSk7dGhpcy53NS5nZXQoZSkuR2cocil9ZWxzZSBsLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgcmVjZWl2aW5nIG1zZyB3aXRob3V0IGhhdmluZyBhIGNvbm5lY3Rpb24gZXN0YWJsaXNoZWRcIix0aGlzLmxvZ2dlcklkLHUuaHMuUGUuQ2Use290aGVyR3VpZDplfSl9LHQucHJvdG90eXBlLmNvbm5lY3RlZD1mdW5jdGlvbihlLHQpe2lmKHRoaXMudzUuaGFzKGUpKXRoaXMubG9nZ2VyLmRlYnVnKFwiUkVDT05ORUNURUQgVE8gXCIrZStcIiwgUkVTRVRUSU5HIFNUQVRFXCIpLHRoaXMudzUuZ2V0KGUpLnJlc2V0KCk7ZWxzZXt0aGlzLmxvZ2dlci5pbmZvKFwiQ09OTkVDVEVEIFRPIFwiK2UpO3ZhciByPXQucEc7ci5pbml0KHRoaXMuZ2QsZSksdGhpcy53NS5zZXQoZSxyKX1yZXR1cm4gcy5yZXNvbHZlKHRoaXMudzUuZ2V0KGUpKX0sdC5wcm90b3R5cGUuTTU9ZnVuY3Rpb24oZSx0KXt0aGlzLmxvZ2dlci5kZWJ1ZyhcIkZBSUxFRCBDT05OIFRPIFwiK3QpLGUucmVqZWN0KFwiQ09OTiBUTyBcIit0K1wiIENBTk5PVCBCRSBFU1RBQkxJU0hFRCBcIil9LHQucHJvdG90eXBlLkY1PWZ1bmN0aW9uKGUsdCl7dGhpcy5sb2dnZXIuaW5mbyhlK1wiIGNvbm5lY3RlZCB0byBtZVwiKSx0aGlzLmNvbm5lY3RlZChlLHQpfSx0LnByb3RvdHlwZS5rNT1mdW5jdGlvbihlKXt0aGlzLnc1LmhhcyhlKT8odGhpcy5sb2dnZXIuaW5mbyhcIkNvbm5lY3Rpb24gY2xvc2VkIHRvIFwiK2UpLHRoaXMudzUuZGVsZXRlKGUpLHRoaXMuVTUoZSkpOnRoaXMubG9nZ2VyLndhcm4oXCJUUllJTkcgVE8gUkVNT1ZFIEEgUEVFUiBUSEFUIElTIE5PVCBUSEVSRTogXCIrZSl9LHQucHJvdG90eXBlLl81PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztjLmhRLm5RJiZvLkZyYW1ld29yay5zZXRJbnRlcnZhbChmdW5jdGlvbigpe3ZhciB0PW8uRnJhbWV3b3JrLnRpbWUoKTtlLnc1LmZvckVhY2goZnVuY3Rpb24ocixpKXt2YXIgbj10LXIuemcoKTtuPmMuaFEub1EmJihlLmxvZ2dlci5kZWJ1ZyhcImNsb3Npbmcgc3RhbGUgY29ubmVjdGlvbiB0byBcIitpK1wiIFt1bnVzZWQgZm9yOiBcIituK1wibXNdXCIpLGUuZGlzY29ubmVjdChpKSl9KX0sYy5oUS5zUSl9LHQucHJvdG90eXBlLnN0b3A9ZnVuY3Rpb24oZSl7by5GcmFtZXdvcmsucmVzb2x2ZShvLkZyYW1ld29yay5WLlIpLmxvZyhlKS5kZWJ1ZyhcIlNUT1BQSU5HIENPTk5FQ1RJT05TIEFORCBSRU1PVklORyBMSVNURU5FUlNcIiksdGhpcy5CNShlKX0sdC5wcm90b3R5cGUuSDU9ZnVuY3Rpb24oKXt9LHQucHJvdG90eXBlLmRpc2Nvbm5lY3Q9ZnVuY3Rpb24oZSl7dGhpcy53NS5oYXMoZSkmJnRoaXMuY2hhbm5lbE1hbmFnZXIuZGlzY29ubmVjdChlKX0sdH0oaC54NSk7cC4kYT1cImF2YWlsYWJsZVNlbmRSYXRlXCIscC5laD1cInJlbW90ZUFkZHJlc3NcIixwLnRoPVwibG9jYWxBZGRyZXNzXCIsdC5DSj1wfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9cig0KSxuPXIoMCkscz1yKDE3Nyksbz1yKDk2KSxhPXIoMiksaD1yKDEpLGM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxyKXt0aGlzLmxvZ2dlcj1lLHRoaXMuYjU9dCx0aGlzLnE1PXIsdGhpcy5sb2dnZXJJZD1cIltDaGFubmVsTWFuYWdlcl0gXCIsdGhpcy5HNT17aWNlU2VydmVyczpbe3VybDpcInN0dW46c3R1bi5oaXZlc3RyZWFtaW5nLmNvbTozNDc4XCJ9XX0sdGhpcy5BZz0xLHRoaXMuVjU9bnVsbCx0aGlzLmo1PXt9LHRoaXMuUTU9e319cmV0dXJuIGUucHJvdG90eXBlLkQ1PWZ1bmN0aW9uKGUsdCl7dmFyIHI9bnVsbDtpZih0IGluIHRoaXMuUTUpe3ZhciBuPWkuZGVmZXIoKTtuLnJlamVjdChcIk9USEVSIEFMUkVBRFkgVFJZSU5HIFRPIENPTk5FQ1RcIikscj1uLlNzfWVsc2V7dGhpcy5xNS5SNSYmdGhpcy5sb2dnZXIuaW5mbyhcIkluaXRpYXRpbmcgY29ubmVjdGlvbiB0byBcIit0KTt2YXIgcz10aGlzLks1KGUsdCk7cj10aGlzLlk1KHMsdCkuY29ubmVjdCh0KX1yZXR1cm4gcn0sZS5wcm90b3R5cGUuVzU9ZnVuY3Rpb24oZSl7ZS56NSBpbiB0aGlzLlE1JiYoZGVsZXRlIHRoaXMuajVbZS5sYWJlbF0sZGVsZXRlIHRoaXMuUTVbZS56NV0pLGUub3BlbiYmKHRoaXMucTUuazUoZS56NSksZS5vcGVuPSExKX0sZS5wcm90b3R5cGUuc2VuZD1mdW5jdGlvbihlLHQpe3RoaXMucTUuUjUmJnRoaXMubG9nZ2VyLmRlYnVnKFwiREFUQSBcIit0LmJ5dGVMZW5ndGgrXCIgXCIrdCk7dmFyIHI9dGhpcy5RNVtlXTtyZXR1cm4gciYmci5jaGFubmVsPyhyLmNoYW5uZWwuc2VuZCh0KSwhMCk6KGguRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBzZW5kaW5nIG1lc3NhZ2Ugd2lodG91dCBjaGFubmVsIGVzdGFibGlzaGVkXCIsdGhpcy5sb2dnZXJJZCxhLmhzLktlLlZlLHtvdGhlckd1aWQ6ZX0pLCExKX0sZS5wcm90b3R5cGUucTA9ZnVuY3Rpb24oZSx0KXt2YXIgcj10LmNoYW5uZWw7aWYociYmci5sYWJlbCYmdGhpcy5qNVtyLmxhYmVsXSl7dmFyIGk9dGhpcy5qNVtyLmxhYmVsXSxuPWlbZV07bi5jYWxsKGksdCl9ZWxzZXt2YXIgcz1cImhhbmRsZV9cIitlLG49dGhpc1tzXTtuP24uY2FsbCh0aGlzLHQpOmguRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciByZWNlaXZlZCBhIG1lc3NhZ2UgZm9yIGEgbm9uIGV4aXN0aW5nIGZ1bmN0aW9uXCIsdGhpcy5sb2dnZXJJZCxhLmhzLktlLmplLHtKNTpzfSl9fSxlLnByb3RvdHlwZS5oYW5kbGVfb2ZmZXI9ZnVuY3Rpb24oZSl7aWYodGhpcy5xNS5SNSYmdGhpcy5sb2dnZXIuaW5mbyhcInJlY2VpdmVkIGFuIG9mZmVyIGZyb20gXCIrZS5wZWVyLmd1aWQrXCIgb24gY2hhbm5lbCBcIitlLmNoYW5uZWwubGFiZWwpLHRoaXMuUTVbZS5wZWVyLmd1aWRdJiZlLnBlZXI8dGhpcy5xNS5nZCl0aGlzLmI1Llg1KHRoaXMucTUuZ2QsZS5wZWVyLmd1aWQsZS5jaGFubmVsLmxhYmVsKTtlbHNle3ZhciB0PXRoaXMuWTUoZS5jaGFubmVsLmxhYmVsLGUucGVlci5ndWlkKSxyPXRoaXMuWjUodCk7dC5vZmZlcihlLHIpfX0sZS5wcm90b3R5cGUuWjU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbi5GcmFtZXdvcmsuc2V0VGltZW91dChmdW5jdGlvbigpe2guRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBpbmNvbWluZyBjb25uZWN0aW9uIHRpbWVkb3V0XCIsdC5sb2dnZXJJZCxhLmhzLktlLlFlLHtvdGhlckd1aWQ6ZS56NX0pLGUuY2xvc2UoKX0sby5oUS5hUSl9LGUucHJvdG90eXBlLlk1PWZ1bmN0aW9uKGUsdCl7dmFyIHI9bmV3IHMuZTkodGhpcyx0aGlzLnE1LGUsdGhpcy5WNSx0aGlzLkc1LHQpO3JldHVybiB0aGlzLmo1W2VdPXIsdGhpcy5RNVt0XT1yLHJ9LGUucHJvdG90eXBlLmhhbmRsZV9vZmZlcl9yZWplY3RlZD1mdW5jdGlvbihlKXt0aGlzLnE1LlI1JiZ0aGlzLmxvZ2dlci5kZWJ1ZyhcInJlbW90ZSBwZWVyIHJlamVjdGVkIFwiLGUpO3ZhciB0PXRoaXMuUTVbZS50OV07dCYmdC5jbG9zZSgpLGRlbGV0ZSB0aGlzLlE1W2UudDldLGRlbGV0ZSB0aGlzLmo1W2UuY2hhbm5lbF19LGUucHJvdG90eXBlLks1PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuc3Vic3RyaW5nKDAsTWF0aC5tYXgoOCxlLmxlbmd0aCkpK1wiOlwiK3Quc3Vic3RyaW5nKDAsTWF0aC5tYXgoOCx0Lmxlbmd0aCkpK1wiOlwiK3RoaXMuQWcrK30sZS5wcm90b3R5cGUuZGlzY29ubmVjdD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLlE1W2VdO3QmJnQuY2xvc2UoKX0sZX0oKTt0LkM1PWN9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1yKDUpLG49cigyKSxzPShyKDU1KSxyKDQpKSxvPXIoMCksYT1yKDEpLGg9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxyLGkscyxoKXt2YXIgYz10aGlzO3RoaXMuY2hhbm5lbE1hbmFnZXI9ZSx0aGlzLnE1PXQsdGhpcy5sYWJlbD1yLHRoaXMuVjU9aSx0aGlzLkc1PXMsdGhpcy56NT1oLHRoaXMuUjU9ITEsdGhpcy5sb2dnZXJJZD1cIltDaGFubmVsXSBcIix0aGlzLnI5PS0xLHRoaXMuU0g9bnVsbCx0aGlzLmNoYW5uZWw9bnVsbCx0aGlzLmk5PW51bGwsdGhpcy5uOT01LHRoaXMudGltZW91dD01ZTMsdGhpcy5vcGVuPSExLHRoaXMuczk9ITEsdGhpcy5vOT1uZXcgQXJyYXksdGhpcy5hOT1mdW5jdGlvbigpe3JldHVybiEhdGhpcy5jaGFubmVsJiZcImNvbm5lY3RpbmdcIj09PXRoaXMuY2hhbm5lbC5yZWFkeVN0YXRlfSx0aGlzLmxvZ2dlcj1vLkZyYW1ld29yay5yZXNvbHZlKG8uRnJhbWV3b3JrLlYuUikubG9nKCksdGhpcy5wRz1vLkZyYW1ld29yay5yZXNvbHZlKG8uRnJhbWV3b3JrLlYuVSksdGhpcy5wRy5pbml0KHRoaXMucTUuZ2QsaCksdGhpcy5TSD1uZXcgUlRDUGVlckNvbm5lY3Rpb24odGhpcy5HNSx0aGlzLlY1KSx0aGlzLlNILm9uaWNlY2FuZGlkYXRlPWZ1bmN0aW9uKGUpe2UmJmUuY2FuZGlkYXRlJiYoYy5vOS5wdXNoKGUuY2FuZGlkYXRlKSxjLmg5KCkpfSx0aGlzLlNILm9ubmVnb3RpYXRpb25uZWVkZWQ9ZnVuY3Rpb24oKXtjLmNyZWF0ZU9mZmVyKCkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gYy5jOShlKX0pLnRoZW4oZnVuY3Rpb24oZSl7Yy5SNSYmYy5sb2dnZXIuZGVidWcoYy5sb2dnZXJJZCtcIlNlbmRpbmcgb2ZmZXIgdG8gXCIrYy56NStcIiBbY2FuZGlkYXRlczogXCIrYy5vOS5sZW5ndGgrXCJdXCIpO3ZhciB0PWMubzk7Yy5vOT1uZXcgQXJyYXk7dmFyIHI9Yy5jaGFubmVsTWFuYWdlci5iNS5vZmZlcihjLnE1LmdkLGMuejUsYyx0LGUpO3JldHVybiBjLnM5PSEwLHJ9KS5jYXRjaChmdW5jdGlvbihlKXthLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgbmVnb3RpYXRpbmcgd2l0aCBwZWVyXCIsYy5sb2dnZXJJZCxuLmhzLkdlLmtlLHtkZXRhaWxlZEVycm9yOmUsb3RoZXJHdWlkOmMuejV9KSxjLmNsb3NlKCl9KX0sdGhpcy5TSC5vbmljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZT1mdW5jdGlvbihlKXtcImRpc2Nvbm5lY3RlZFwiPT09Yy5TSC5pY2VDb25uZWN0aW9uU3RhdGUmJmMuY2xvc2UoKSxcImZhaWxlZFwiPT09Yy5TSC5pY2VDb25uZWN0aW9uU3RhdGUmJihhLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgZXN0YWJsaXNoaW5nIElDRSBjb25uZWN0aW9uXCIsYy5sb2dnZXJJZCxuLmhzLkdlLmtlLHtvdGhlckd1aWQ6Yy56NX0pLGMuY2xvc2UoKSl9LHRoaXMuU0gub25zaWduYWxpbmdzdGF0ZWNoYW5nZT1mdW5jdGlvbihlKXtcImNsb3NlZFwiPT09ZS5zaWduYWxpbmdTdGF0ZSYmYy5jbG9zZSgpfX1yZXR1cm4gZS5wcm90b3R5cGUudTk9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2lmKHRoaXMuY2hhbm5lbCYmXCJvcGVuXCIhPXRoaXMuY2hhbm5lbC5yZWFkeVN0YXRlKXtpZih0aGlzLlI1JiZ0aGlzLmxvZ2dlci5kZWJ1Zyh0aGlzLmxvZ2dlcklkK1wiQ2hlY2sgY29ubmVjdGlvbiBcIit0aGlzLno1KSx0aGlzLm45PD0wKXJldHVybiB0aGlzLmxvZ2dlci5kZWJ1Zyh0aGlzLmxvZ2dlcklkK1wiQ2xvc2luZyBjaGFubmVsIHNpbmNlIGl0IGNvdWxkbnQgYmUgZXN0YWJsaXNoZWQgdG8gXCIrdGhpcy56NSksdm9pZCB0aGlzLmNsb3NlKCk7dGhpcy5uOS09MSx0aGlzLmk5PW8uRnJhbWV3b3JrLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtyZXR1cm4gZS51OSgpfSx0aGlzLnRpbWVvdXQpfX0sZS5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oKXt0cnl7dGhpcy5SNSYmdGhpcy5sb2dnZXIuZGVidWcodGhpcy5sb2dnZXJJZCtcIkNsb3NpbmcgY29ubmVjdGlvbiB0byBcIit0aGlzLno1KSx0aGlzLmw5KCEwKSx0aGlzLmNoYW5uZWxNYW5hZ2VyLlc1KHRoaXMpLHRoaXMuU0gmJlwiY2xvc2VkXCIhPT10aGlzLlNILnNpZ25hbGluZ1N0YXRlJiYodGhpcy5TSC5jbG9zZSgpLHRoaXMuY2hhbm5lbCYmdGhpcy5jaGFubmVsLmNsb3NlKCkpfWNhdGNoKGUpe2EuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBjbG9zaW5nIHRoZSBjb25uZWN0aW9uXCIsdGhpcy5sb2dnZXJJZCxuLmhzLkdlLnFlLHtkZXRhaWxlZEVycm9yOmUsb3RoZXJHdWlkOnRoaXMuejV9KX19LGUucHJvdG90eXBlLmNvbm5lY3Q9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0aGlzLlI1JiZ0aGlzLmxvZ2dlci5kZWJ1Zyh0aGlzLmxvZ2dlcklkK1wiQ29ubmVjdGluZyB0byBcIitlKSx0aGlzLno1PWUsdGhpcy5jaGFubmVsPXRoaXMuU0guY3JlYXRlRGF0YUNoYW5uZWwodGhpcy5sYWJlbCk7dmFyIHI9dGhpcy5wOSghMCwtMSk7cmV0dXJuIHRoaXMuaTk9by5GcmFtZXdvcmsuc2V0VGltZW91dChmdW5jdGlvbigpe3JldHVybiB0LnU5KCl9LHRoaXMudGltZW91dCkscn0sZS5wcm90b3R5cGUuZDk9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXMuZGVmZXIoKTtyZXR1cm4gdGhpcy5TSC5zZXRSZW1vdGVEZXNjcmlwdGlvbihlLGZ1bmN0aW9uKCl7cmV0dXJuIHIucmVzb2x2ZShcIk9LXCIpfSxmdW5jdGlvbihlKXthLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3Igc2V0dGluZyByZW1vdGUgZGVzY3JpcHRpb25cIix0LmxvZ2dlcklkLG4uaHMuR2UuTmUse2RldGFpbGVkRXJyb3I6ZSxvdGhlckd1aWQ6dC56NX0pLHIucmVqZWN0KGUpfSksci5Tc30sZS5wcm90b3R5cGUuYzk9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXMuZGVmZXIoKTtyZXR1cm5cImNsb3NlZFwiIT09dGhpcy5TSC5zaWduYWxpbmdTdGF0ZT90aGlzLlNILnNldExvY2FsRGVzY3JpcHRpb24oZSxmdW5jdGlvbigpe3JldHVybiByLnJlc29sdmUodC5TSC5sb2NhbERlc2NyaXB0aW9uKX0sZnVuY3Rpb24oZSl7YS5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIHNldHRpbmcgbG9jYWwgZGVzY3JpcHRpb25cIix0LmxvZ2dlcklkLG4uaHMuR2UuRGUse2RldGFpbGVkRXJyb3I6ZSxvdGhlckd1aWQ6dC56NX0pLHIucmVqZWN0KGUpfSk6KGEuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJTaWduYWxpbmcgc3RhdGUgaXMgY2xvc2VkXCIsdGhpcy5sb2dnZXJJZCxuLmhzLkdlLk5lKSxyLnJlamVjdChcIlNpZ25hbGluZyBzdGF0ZSBpcyBjbG9zZWRcIikpLHIuU3N9LGUucHJvdG90eXBlLmNyZWF0ZU9mZmVyPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXMuZGVmZXIoKTtyZXR1cm4gdGhpcy5TSC5jcmVhdGVPZmZlcih0LnJlc29sdmUsZnVuY3Rpb24odCl7YS5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIGNyZWF0aW5nIG9mZmVyXCIsZS5sb2dnZXJJZCxuLmhzLkdlLkFlLHtkZXRhaWxlZEVycm9yOnQsb3RoZXJHdWlkOmUuejV9KSxlLmNsb3NlKCl9KSx0LlNzfSxlLnByb3RvdHlwZS5jcmVhdGVBbnN3ZXI9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9cy5kZWZlcigpO3JldHVybiB0aGlzLlNILmNyZWF0ZUFuc3dlcih0LnJlc29sdmUsZnVuY3Rpb24ocil7YS5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIGNyZWF0aW5nIGFuc3dlclwiLGUubG9nZ2VySWQsbi5ocy5HZS5PZSx7ZGV0YWlsZWRFcnJvcjpyLG90aGVyR3VpZDplLno1fSksdC5yZWplY3Qocil9KSx0LlNzfSxlLnByb3RvdHlwZS5vZmZlcj1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7dGhpcy5SNSYmKHRoaXMubG9nZ2VyLmRlYnVnKHRoaXMubG9nZ2VySWQrXCJSZWNlaXZlZCBhbiBvZmZlciBmcm9tIFwiK3RoaXMuejUpLHRoaXMubG9nZ2VyLmRlYnVnKHRoaXMubG9nZ2VySWQrXCJPZmZlcjpcIixlKSksdGhpcy5TSC5vbmRhdGFjaGFubmVsPWZ1bmN0aW9uKGUpe3IuY2hhbm5lbD1lLmNoYW5uZWwsci5wOSghMSx0KX07dmFyIGk9bmV3IFJUQ1Nlc3Npb25EZXNjcmlwdGlvbihlLmNoYW5uZWwub2ZmZXIpO3RoaXMuejU9ZS5wZWVyLmd1aWQsdGhpcy5kOShpKS50aGVuKGZ1bmN0aW9uKHQpe2lmKFwiY2xvc2VkXCIhPT1yLlNILnNpZ25hbGluZ1N0YXRlKXJldHVybiByLnVwZGF0ZV9pY2VfY2FuZGlkYXRlcyhlKSxyLmNyZWF0ZUFuc3dlcigpfSkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gci5jOShlKX0pLnRoZW4oZnVuY3Rpb24oZSl7ci5sb2dnZXIuZGVidWcoci5sb2dnZXJJZCtcIlNlbmRpbmcgYmFjayBhbiBhbnN3ZXIgW2NhbmRpZGF0ZXM6IFwiK3IubzkubGVuZ3RoK1wiXVwiKTt2YXIgdD1yLm85O3Iubzk9bmV3IEFycmF5LHIuY2hhbm5lbE1hbmFnZXIuYjUuYW5zd2VyKHIsZSx0LHIuejUpLHIuczk9ITB9KS5jYXRjaChmdW5jdGlvbihlKXthLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgcmVzcG9uZGluZyB0byBvZmZlclwiLHIubG9nZ2VySWQsbi5ocy5HZS5IZSx7ZGV0YWlsZWRFcnJvcjplLG90aGVyR3VpZDpyLno1fSksci5jbG9zZSgpfSl9LGUucHJvdG90eXBlLmFuc3dlcj1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3RoaXMuUjUmJnRoaXMubG9nZ2VyLmRlYnVnKHRoaXMubG9nZ2VySWQrXCJBbnN3ZXI6IFwiLGUpO3ZhciByPW5ldyBSVENTZXNzaW9uRGVzY3JpcHRpb24oZS5hbnN3ZXIpO3RoaXMuZDkocikudGhlbihmdW5jdGlvbigpe1wiY2xvc2VkXCIhPT10LlNILnNpZ25hbGluZ1N0YXRlJiZ0LnVwZGF0ZV9pY2VfY2FuZGlkYXRlcyhlKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe2EuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBzZXR0aW5nIHJlbW90ZSBkZXNjcmlwdG9yIGZvciB0aGUgYW5zd2VyIHJlY2VpdmVkXCIsdC5sb2dnZXIsbi5ocy5HZS5CZSx7ZGV0YWlsZWRFcnJvcjplLG90aGVyR3VpZDp0Lno1fSksdC5jbG9zZSgpfSl9LGUucHJvdG90eXBlLnVwZGF0ZV9pY2VfY2FuZGlkYXRlcz1mdW5jdGlvbihlKXt2YXIgdD10aGlzO2UuY2hhbm5lbC5pY2VfY2FuZGlkYXRlcy5mb3JFYWNoKGZ1bmN0aW9uKGUpe3QuUjUmJnQubG9nZ2VyLmRlYnVnKHQubG9nZ2VySWQrXCJnb3QgSUNFIGNhbmQ6IFwiLGUpO3ZhciByPW5ldyBSVENJY2VDYW5kaWRhdGUoZSk7dC5TSC5hZGRJY2VDYW5kaWRhdGUocixmdW5jdGlvbigpe30sZnVuY3Rpb24oZSl7cmV0dXJuIGEuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciB1cGRhdGluZyBpY2UgY2FuZGlkYXRlc1wiLHQubG9nZ2VySWQsbi5ocy5HZS5VZSx7ZGV0YWlsZWRFcnJvcjplLG90aGVyR3VpZDp0Lno1fSl9KX0pfSxlLnByb3RvdHlwZS5wOT1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsaT1zLmRlZmVyKCk7cmV0dXJuIHRoaXMuY2hhbm5lbC5vbm9wZW49ZnVuY3Rpb24obil7cmV0dXJuIHIuZjkoaSxlLHQpfSx0aGlzLmNoYW5uZWwub25jbG9zZT1mdW5jdGlvbihlKXtyLmNsb3NlKCksaS5yZWplY3Qocil9LHRoaXMuY2hhbm5lbC5vbm1lc3NhZ2U9ZnVuY3Rpb24oZSl7cmV0dXJuIHIucEcuR2coZS5kYXRhKX0sdGhpcy5jaGFubmVsLm9uZXJyb3I9ZnVuY3Rpb24oZSl7YS5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIHNldHRpbmcgdXAgY2hhbm5lbFwiLHIubG9nZ2VySWQsbi5ocy5HZS5MZSx7ZGV0YWlsZWRFcnJvcjplLG90aGVyR3VpZDpyLno1fSksci5jbG9zZSgpfSxpLlNzfSxlLnByb3RvdHlwZS5mOT1mdW5jdGlvbihlLHQscil7dGhpcy5vcGVuPSEwLGUucmVzb2x2ZSh0aGlzKSx0fHwodGhpcy5xNS5GNSh0aGlzLno1LHRoaXMpLHImJm8uRnJhbWV3b3JrLmNsZWFyVGltZW91dChyKSl9LGUucHJvdG90eXBlLmg5PWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLnM5JiYtMT09dGhpcy5yOSYmKHRoaXMucjk9by5GcmFtZXdvcmsuc2V0VGltZW91dChmdW5jdGlvbigpe2UuZzkoKSxlLmw5KCExKX0saS5oaC5haC5vaCkpfSxlLnByb3RvdHlwZS5nOT1mdW5jdGlvbigpe3ZhciBlPXRoaXMsdD10aGlzLm85O2lmKHRoaXMubzk9bmV3IEFycmF5LHQmJnQubGVuZ3RoPjApe3ZhciByPXQubGVuZ3RoO3RoaXMuY2hhbm5lbE1hbmFnZXIuYjUuRTkodGhpcy5xNS5nZCx0aGlzLHQsdGhpcy56NSkudGhlbihmdW5jdGlvbih0KXtlLlI1JiZlLmxvZ2dlci5kZWJ1ZyhlLmxvZ2dlcklkK1wic2VudCBcIityK1wiIG1vcmUgY2FuZGlkYXRlc1wiKX0pLmNhdGNoKGZ1bmN0aW9uKHQpe2EuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBzZW5kaW5nIGNhbmRpZGF0ZXNcIixlLmxvZ2dlcklkLG4uaHMuR2UuTGUse2RldGFpbGVkRXJyb3I6dCxvdGhlckd1aWQ6ZS56NX0pfSl9fSxlLnByb3RvdHlwZS5sOT1mdW5jdGlvbihlKXtlJiYtMSE9dGhpcy5yOSYmby5GcmFtZXdvcmsuY2xlYXJUaW1lb3V0KHRoaXMucjkpLHRoaXMucjk9LTF9LGV9KCk7dC5lOT1ofSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9cigzKSxuPXIoMCkscz1yKDIpLG89cigxKSxhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuak09XCJbQmFzZSBOZXR3b3JrIE1hbmFnZXJdIFwiLHRoaXMudmw9bmV3IGksdGhpcy5sb2dnZXI9bi5GcmFtZXdvcmsucmVzb2x2ZShuLkZyYW1ld29yay5WLlIpLmxvZygpfXJldHVybiBlLnByb3RvdHlwZS5BNT1mdW5jdGlvbihlLHQpe3RoaXMubG9nZ2VyLmluZm8oXCJTRVQgTElTVEVORVJTIEZPUiBcIitlK1wiLFwiK3QubGVuZ3RoKSx0aGlzLnZsLnNldChlLHQpfSxlLnByb3RvdHlwZS5CNT1mdW5jdGlvbihlKXt0aGlzLnZsLmRlbGV0ZShlKX0sZS5wcm90b3R5cGUudjk9ZnVuY3Rpb24oKXt0aGlzLnZsLmxlbmd0aD4wJiZ0aGlzLnZsLmZvckVhY2goZnVuY3Rpb24oZSx0KXtlLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5laiYmZS5laigpfSl9KX0sZS5wcm90b3R5cGUuTzU9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3RoaXMudmwubGVuZ3RoPjAmJih0P3RoaXMudmwuZ2V0KHQpLmZvckVhY2goZnVuY3Rpb24odCl7dHJ5e3QuVWQmJnQuVWQoZSl9Y2F0Y2goZSl7by5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIGZpcmluZyBzZXJ2ZXIgY29ubmVjdCB3aGVuIHdlIGhhdmUgc3dhcm1cIixyLmpNLHMuaHMuUGUuUmUsZSl9fSk6dGhpcy52bC5mb3JFYWNoKGZ1bmN0aW9uKHQsaSl7dC5mb3JFYWNoKGZ1bmN0aW9uKHQpe3RyeXt0LlVkJiZ0LlVkKGUpfWNhdGNoKGUpe28uRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBmaXJpbmcgc2VydmVyIGNvbm5lY3Qgd2hlbiB3ZSBkbyBub3QgaGF2ZSBzd2FybVwiLHIuak0scy5ocy5QZS53ZSxlKX19KX0pKX0sZS5wcm90b3R5cGUuVTU9ZnVuY3Rpb24oZSl7dGhpcy52bC5sZW5ndGg+MCYmdGhpcy52bC5mb3JFYWNoKGZ1bmN0aW9uKHQscil7dC5mb3JFYWNoKGZ1bmN0aW9uKHQpe3QuS0cmJnQuS0coZSl9KX0pfSxlfSgpO3QueDU9YX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXIoNCksbj1yKDApLHM9cigyMyksbz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLkFnPTEsdGhpcy5jbGllbnQ9bi5GcmFtZXdvcmsucmVzb2x2ZShuLkZyYW1ld29yay5WLkcpfXJldHVybiBlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKGUsdCxyKXt0aGlzLnE1PWUsdGhpcy5sb2dnZXI9dCx0aGlzLmNoYW5uZWxNYW5hZ2VyPXJ9LGUucHJvdG90eXBlLnNZPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2xpZW50LnpkKCkuc1koKX0sZS5wcm90b3R5cGUuc3RhcnQ9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3RoaXMubG9nZ2VyLmRlYnVnKFwiTVkgSUQgXCIrdCksdGhpcy5nZD10LHRoaXMuY2xpZW50JiZ0aGlzLmNsaWVudC56ZCgpP3RoaXMuY2xpZW50LnpkKCkub24oU2VydmljZXMuZlksMSxmdW5jdGlvbihlKXtyLnk5KGUubXNnKX0pOnRoaXMubG9nZ2VyLmVycm9yKFwiZXJyb3IgZ2V0dGluZyBhY3RpdmUgc2VydmljZXMgY29ubmVjdGlvblwiKSx0aGlzLnE1Lk81KHRoaXMuZ2QpfSxlLnByb3RvdHlwZS55OT1mdW5jdGlvbihlKXt2YXIgdD1KU09OLnBhcnNlKGUpO3RoaXMucTUuUjUmJnRoaXMubG9nZ2VyLmRlYnVnKFwiUkNWIE1TRyBGUk9NIFNSViBcIix0KSx0aGlzLmNoYW5uZWxNYW5hZ2VyLnEwKHQubXNnTmFtZSx0Lm1zZyl9LGUucHJvdG90eXBlLlQ5PWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10aGlzLndyYXAodCxlLHIpO2lmKHRoaXMuY2xpZW50JiZ0aGlzLmNsaWVudC56ZCgpKXt2YXIgbz1KU09OLnN0cmluZ2lmeShuKTt0aGlzLnE1LlI1JiZ0aGlzLmxvZ2dlci5kZWJ1ZyhcIiBGT1JXQVJESU5HIFJFUVVFU1QgOiBcIitvKTt2YXIgYT1uZXcgcy5KZChTZXJ2aWNlcy5mWSwwLG8pO3JldHVybiB0aGlzLmNsaWVudC56ZCgpLnNlbmQoYSl9cmV0dXJuIGkucmVqZWN0KCl9LGUucHJvdG90eXBlLndyYXA9ZnVuY3Rpb24oZSx0LHIpe3JldHVybnttc2dJZDp0aGlzLkFnKyssZGVzdGluYXRpb246cixtc2c6ZSxtc2dOYW1lOnR9fSxlLnByb3RvdHlwZS5FOT1mdW5jdGlvbihlLHQscixpKXt2YXIgbj17Y2hhbm5lbDp7bGFiZWw6dC5sYWJlbCxpY2VfY2FuZGlkYXRlczpyfX07cmV0dXJuIHRoaXMuVDkoXCJ1cGRhdGVfaWNlX2NhbmRpZGF0ZXNcIixuLGkpfSxlLnByb3RvdHlwZS5vZmZlcj1mdW5jdGlvbihlLHQscixpLHMpe3ZhciBvPXtwZWVyOntndWlkOmUsZmlyc3Rfc2VlbjpuLkZyYW1ld29yay50aW1lKCl9LGNoYW5uZWw6e2xhYmVsOnIubGFiZWwsaWNlX2NhbmRpZGF0ZXM6aSxvZmZlcjpzfX07cmV0dXJuIHRoaXMuVDkoXCJvZmZlclwiLG8sci56NSl9LGUucHJvdG90eXBlLlg1PWZ1bmN0aW9uKGUsdCxyKXt0aGlzLnE1LlI1JiZ0aGlzLmxvZ2dlci5kZWJ1ZyhcIkRpc2NvdmVyeSBzZXJ2aWNlIHJlamVjdHMgb2ZmZXIgZnJvbSBwZWVyIFwiK3QrXCIgb24gY2hhbm5lbCBcIityKTt2YXIgaT17dDk6ZSxjaGFubmVsOnJ9O3JldHVybiB0aGlzLlQ5KFwiYW5zd2VyXCIsaSx0KX0sZS5wcm90b3R5cGUuYW5zd2VyPWZ1bmN0aW9uKGUsdCxyLGkpe3ZhciBuPXthbnN3ZXI6dCxtOTp0aGlzLnE1LmdkLGNoYW5uZWw6e2xhYmVsOmUubGFiZWwsaWNlX2NhbmRpZGF0ZXM6cn19O3JldHVybiB0aGlzLlQ5KFwiYW5zd2VyXCIsbixpKX0sZX0oKTt0Ll9KPW99LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1yKDMpLG49cig1KSxzPXIoMCksbz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLnJGPW5ldyBpLHRoaXMuSTk9W10sdGhpcy5CNj1uZXcgaSx0aGlzLlM5PW5ldyBpfXJldHVybiBlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKGUpe3RoaXMubG9nZ2VyPXMuRnJhbWV3b3JrLnJlc29sdmUocy5GcmFtZXdvcmsuVi5SKS5sb2coZS5zZXNzaW9uSWQpLHRoaXMuRUQ9ZS5FRCx0aGlzLlI5KCl9LGUucHJvdG90eXBlLlI5PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztzLkZyYW1ld29yay5zZXRJbnRlcnZhbChmdW5jdGlvbigpe2UudzkoKX0sbi5oaC55YS5FYSl9LGUucHJvdG90eXBlLnc5PWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLkI2LnZhbHVlcygpLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gcy5GcmFtZXdvcmsudGltZSgpLWUucWYuTGY+bi5oaC55YS52YX0pLmZvckVhY2goZnVuY3Rpb24odCl7ZS5FRC5hYm9ydCh0LktmKSxlLmxGKHQuWmYoKSx0LiRmKCkpfSl9LGUucHJvdG90eXBlLnVGPWZ1bmN0aW9uKGUpe3RoaXMuYjkoZS5aZigpLGUuJGYoKSksdGhpcy5CNi5zZXQoZS4kZigpLGUpfSxlLnByb3RvdHlwZS5sRj1mdW5jdGlvbihlLHQpe3RoaXMuQjYuZGVsZXRlKHQpLHRoaXMuQzkoZSx0KX0sZS5wcm90b3R5cGUuZkY9ZnVuY3Rpb24oZSl7dGhpcy5fOShlKX0sZS5wcm90b3R5cGUucEY9ZnVuY3Rpb24oZSl7dGhpcy5yRi5kZWxldGUoZSl9LGUucHJvdG90eXBlLl85PWZ1bmN0aW9uKGUpe2lmKHRoaXMuckYuc2V0KGUuWmYoKSxlLkpmKCkpLHRoaXMuSTkucHVzaChlLlpmKCkpLHRoaXMuckYubGVuZ3RoPm4uaGgueWEuZ2Epe3ZhciB0PXRoaXMuSTlbMF07dGhpcy5yRi5kZWxldGUodCksdGhpcy5JOS5zcGxpY2UoMCwxKX19LGUucHJvdG90eXBlLnRGPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnJGLmhhcyhlKX0sZS5wcm90b3R5cGUuaUY9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuckYuZ2V0KGUpfSxlLnByb3RvdHlwZS5iOT1mdW5jdGlvbihlLHQpe2lmKHRoaXMuUzkuaGFzKGUpKXRoaXMuUzkuZ2V0KGUpLnB1c2godCk7ZWxzZXt2YXIgcj1bXTtyLnB1c2godCksdGhpcy5TOS5zZXQoZSxyKX19LGUucHJvdG90eXBlLkM5PWZ1bmN0aW9uKGUsdCl7aWYodGhpcy5TOS5oYXMoZSkpe3ZhciByPXRoaXMuUzkuZ2V0KGUpLGk9ci5pbmRleE9mKHQpOy0xPT1pP3RoaXMubG9nZ2VyLndhcm4oXCJJIENBTk5PVCBGSU5EIFRIRSBSRVFVRVNUIElEIFwiK3QpOnIuc3BsaWNlKGksMSksMD09ci5sZW5ndGgmJnRoaXMuUzkuZGVsZXRlKGUpfWVsc2UgdGhpcy5sb2dnZXIud2FybihcIlRSSUVEIFRPIFJFTU9WRSBBTiBPQkpFQ1QgVEhBVCBET0VTIE5PVCBFWElTVFwiKX0sZS5wcm90b3R5cGUub0Y9ZnVuY3Rpb24oZSl7dmFyIHQ9W107aWYodGhpcy5QOShlKSlmb3IodmFyIHI9dGhpcy5TOS5nZXQoZSksaT0wO2k8ci5sZW5ndGg7aSsrKXRoaXMuQjYuaGFzKHJbaV0pJiZ0LnB1c2godGhpcy5CNi5nZXQocltpXSkpO3JldHVybiB0fSxlLnByb3RvdHlwZS5QOT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5TOS5oYXMoZSl9LGUucHJvdG90eXBlLkVGPWZ1bmN0aW9uKCl7cmV0dXJuIDAhPXRoaXMuQjYubGVuZ3RofSxlLnByb3RvdHlwZS5zRj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5TOS5oYXMoZSl9LGV9KCk7dC55YT1vfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9cigzKSxuPXIoNSkscz1yKDI4KSxvPXMuY2csYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLnVkcFNjb3JlPTAsdGhpcy5BOT0wLHRoaXMud2F0Y2hpbmdCaXRyYXRlPS0xLHRoaXMuTzk9ITEsdGhpcy5OOT0hMSx0aGlzLkQ5PSExLHRoaXMuazk9ITEsdGhpcy5MOT1uZXcgaX1yZXR1cm4gZS5wcm90b3R5cGUuc2V0SWQ9ZnVuY3Rpb24oZSl7dGhpcy5NOT1lfSxlLnByb3RvdHlwZS5nZXRJZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLk05fSxlLnByb3RvdHlwZS5aSj1mdW5jdGlvbihlKXt0aGlzLnVkcFNjb3JlPWV9LGUucHJvdG90eXBlLlFHPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudWRwU2NvcmV9LGUucHJvdG90eXBlLiRKPWZ1bmN0aW9uKGUpe3RoaXMuQTk9ZX0sZS5wcm90b3R5cGUuTDE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5BOX0sZS5wcm90b3R5cGUuc2V0Q29udGV4dElkPWZ1bmN0aW9uKGUpe3ZhciB0PW8ub1QoZStcIl9cIituLmhoLkhvLkRvKS50b1N0cmluZyhvLlV5LkJ5KTt0aGlzLmNvbnRleHRJZD10fSxlLnByb3RvdHlwZS5nZXRDb250ZXh0SWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250ZXh0SWR9LGUucHJvdG90eXBlLmtHPWZ1bmN0aW9uKGUpe3RoaXMuTzk9ZX0sZS5wcm90b3R5cGUuY2s9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5POX0sZS5wcm90b3R5cGUuWUc9ZnVuY3Rpb24oZSl7dGhpcy5EOT1lfSxlLnByb3RvdHlwZS55az1mdW5jdGlvbigpe3JldHVybiB0aGlzLkQ5fSxlLnByb3RvdHlwZS5Iaj1mdW5jdGlvbihlKXt0aGlzLms5PWV9LGUucHJvdG90eXBlLm1rPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuazl9LGUucHJvdG90eXBlLlUxPWZ1bmN0aW9uKGUpe3RoaXMuRjk9ZX0sZS5wcm90b3R5cGUuZ2s9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5GOX0sZS5wcm90b3R5cGUuQjE9ZnVuY3Rpb24oZSl7dGhpcy5VOT1lfSxlLnByb3RvdHlwZS5Gaj1mdW5jdGlvbigpe3JldHVybiB0aGlzLlU5fSxlLnByb3RvdHlwZS5ERz1mdW5jdGlvbihlKXt0aGlzLkI5PWV9LGUucHJvdG90eXBlLlJrPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuQjl9LGUucHJvdG90eXBlLkg5PWZ1bmN0aW9uKGUpe3RoaXMuTjk9ZX0sZS5wcm90b3R5cGUuVGs9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5OOX0sZS5wcm90b3R5cGUuRlg9ZnVuY3Rpb24oZSl7dGhpcy53YXRjaGluZ0JpdHJhdGU9ZX0sZS5wcm90b3R5cGUuTVg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53YXRjaGluZ0JpdHJhdGV9LGUucHJvdG90eXBlLkZHPWZ1bmN0aW9uKGUpe3RoaXMubkc9ZX0sZS5wcm90b3R5cGUuSWs9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uR30sZS5wcm90b3R5cGUuREg9ZnVuY3Rpb24oZSl7dGhpcy5wcml2YXRlSXA9ZX0sZS5wcm90b3R5cGUuZ2V0UHJpdmF0ZUlwPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHJpdmF0ZUlwfSxlLnByb3RvdHlwZS5fSD1mdW5jdGlvbihlKXt0aGlzLnB1YmxpY0lwPWV9LGUucHJvdG90eXBlLmdldFB1YmxpY0lwPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHVibGljSXB9LGUucHJvdG90eXBlLnNldFJlcG9ydGluZ0d1aWQ9ZnVuY3Rpb24oZSl7dGhpcy5yZXBvcnRpbmdHdWlkPWV9LGUucHJvdG90eXBlLmdldFJlcG9ydGluZ0d1aWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZXBvcnRpbmdHdWlkfSxlLnByb3RvdHlwZS5zZXREZWx0YT1mdW5jdGlvbihlKXt0aGlzLmRlbHRhPWV9LGUucHJvdG90eXBlLmdldERlbHRhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGVsdGF9LGUucHJvdG90eXBlLkZEPWZ1bmN0aW9uKGUsdCl7dGhpcy5MOS5zZXQoZSx0KX0sZS5wcm90b3R5cGUua0Q9ZnVuY3Rpb24oZSl7dGhpcy5MOS5kZWxldGUoZSl9LGUucHJvdG90eXBlLlVqPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuTDl9LGUucHJvdG90eXBlLmhCPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuVGsoKT90aGlzLkw5LmtleXMoKTpbXX0sZS5wcm90b3R5cGUuY0I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5UaygpP1tdOnRoaXMuTDkua2V5cygpfSxlLnByb3RvdHlwZS5YSj1mdW5jdGlvbihlKXt0aGlzLnRpY2tldD1lfSxlLnByb3RvdHlwZS5Taz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRpY2tldH0sZS5wcm90b3R5cGUuV0o9ZnVuY3Rpb24oZSl7dGhpcy5tWD1lfSxlLnByb3RvdHlwZS54OD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm1YfSxlfSgpO3QuSEo9YX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXRoaXMmJnRoaXMuaHV8fGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gcigpe3RoaXMuY29uc3RydWN0b3I9ZX1mb3IodmFyIGkgaW4gdCl0Lmhhc093blByb3BlcnR5KGkpJiYoZVtpXT10W2ldKTtlLnByb3RvdHlwZT1udWxsPT09dD9PYmplY3QuY3JlYXRlKHQpOihyLnByb3RvdHlwZT10LnByb3RvdHlwZSxuZXcgcil9LG49cigxMCkscz1yKDE4Myksbz1yKDIpLGE9cigxKSxoPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBpKHQsZSksdC5wcm90b3R5cGUuZTU9ZnVuY3Rpb24odCxyKXt2YXIgaT1bXSxzPVtdLGg9W107dHJ5e3ZhciBjPXRoaXMueUQuZ2soKTtyZXR1cm4gdC5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UuRWsucGVlckluZm8udHlwZT09bi5UYy5XJiZpLnB1c2goZSk7dmFyIHQ9ZS5Fay5wZWVySW5mby5pbnRlcm5hbEFzOzAhPWMmJnQmJmM9PXQmJnMucHVzaChlKSxlLkVrLnBlZXJJbmZvLnR5cGU9PW4uVGMueWMmJmgucHVzaChlKX0pLGkubGVuZ3RoPjA/ZS5wcm90b3R5cGUuZTUuY2FsbCh0aGlzLGkscik6cy5sZW5ndGg+MD9lLnByb3RvdHlwZS5lNS5jYWxsKHRoaXMscyxyKTplLnByb3RvdHlwZS5lNS5jYWxsKHRoaXMsaCxyKX1jYXRjaChlKXtyZXR1cm4gYS5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIGNob29zaW5nIHBhcnRuZXIgZm9yIHAycFwiLHRoaXMubG9nZ2VySWQsby5ocy5qaS5WaSxlKSxudWxsfX0sdH0ocy54OSk7dC5VSj1ofSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9cigwKSxuPXIoNSkscz1yKDEpLG89cigyKSxhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMubG9nZ2VySWQ9XCJbUGlja2VyVFJTaW5nbGVdIFwiLHRoaXMubG9nZ2VyPWkuRnJhbWV3b3JrLnJlc29sdmUoaS5GcmFtZXdvcmsuVi5SKS5sb2coKX1yZXR1cm4gZS5wcm90b3R5cGUuWDg9ZnVuY3Rpb24oZSl7dGhpcy55RD1lfSxlLnByb3RvdHlwZS5lNT1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMucTkoZSk7cmV0dXJuIHI/clswXTpudWxsfSxlLnByb3RvdHlwZS5HOT1mdW5jdGlvbihlLHQpe3JldHVybiBuLmhoLkZhLkxhKihlLms4KCkvdCkrbi5oaC5GYS5NYSooMS1lLk04KCkpfSxlLnByb3RvdHlwZS5xOT1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3RyeXt2YXIgcj0uMTtyKz1lLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5rOCgpfSkucmVkdWNlKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUrdH0pO3ZhciBpPWUuc29ydChmdW5jdGlvbihlLGkpe3JldHVybiB0Lkc5KGksciktdC5HOShlLHIpfSksbj1bXTtyZXR1cm4gaS5mb3JFYWNoKGZ1bmN0aW9uKGUpe24ucHVzaChlLmd1aWQrXCI6XCIrdC5HOShlLHIpKX0pLHRoaXMubG9nZ2VyLmRlYnVnKFwiU0MgW1wiK24uam9pbihcIiwgXCIpK1wiXVwiKSxpfWNhdGNoKGUpe3JldHVybiBzLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3Igc29ydGluZyB0aGUgcGFydG5lcnNcIix0aGlzLmxvZ2dlcklkLG8uaHMuR2kucWksZSksbnVsbH19LGV9KCk7dC54OT1hfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9cig0OSksbj1yKDMpLHM9cig1OSksbz1yKDcpLGE9cig1KSxoPXIoMCksYz1yKDQ3KSx1PXIoOTEpLGw9cig2KSxwPWwuaGUuVGgsZD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLlY5PSExfXJldHVybiBlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKGUpe3RoaXMubG9nZ2VyPWguRnJhbWV3b3JrLnJlc29sdmUoaC5GcmFtZXdvcmsuVi5SKS5sb2coZS5zZXNzaW9uSWQpLHRoaXMueUQ9ZS55RCx0aGlzLkdKPWUuR0osdGhpcy5vRz1lLm9HLHRoaXMuek09ZS56TX0sZS5wcm90b3R5cGUuUkQ9ZnVuY3Rpb24oZSl7dGhpcy53RD1lfSxlLnByb3RvdHlwZS5HMT1mdW5jdGlvbigpe3RoaXMuVjk9ITAsdGhpcy5jWCgpfSxlLnByb3RvdHlwZS5MRz1mdW5jdGlvbigpe2lmKGEuaGguZmEubmEpcmV0dXJuIHZvaWQgdGhpcy5qOSgpO3ZhciBlPSF0aGlzLnlELnlrKCl8fHRoaXMueUQuY2soKXx8IXA7dGhpcy5sb2dnZXIuZGVidWcoXCJSRVFVRVNUIFJFTU9URSBFTEVDVElPTiBcIitlKSxlP3RoaXMuajkoKTp0aGlzLlE5KCl9LGUucHJvdG90eXBlLmo5PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy55RC5naygpLHQ9ZSYmMCE9ZT91LlhxLm5EOnUuWHEuQVM7dGhpcy5HSi5GMSh0KX0sZS5wcm90b3R5cGUuUTk9ZnVuY3Rpb24oKXt0aGlzLkdKLkYxKHUuWHEuSnEpfSxlLnByb3RvdHlwZS5jWD1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5yWCgpLHRoaXMuSzk9aC5GcmFtZXdvcmsuc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtlLkxHKCl9LGEuaGguZmEub2EpLHRoaXMuek0uU0QoKSx0aGlzLkxHKCl9LGUucHJvdG90eXBlLnJYPWZ1bmN0aW9uKCl7dGhpcy5LOSYmaC5GcmFtZXdvcmsuY2xlYXJJbnRlcnZhbCh0aGlzLks5KX0sZS5wcm90b3R5cGUuaVg9ZnVuY3Rpb24oKXt0aGlzLnpNLmVrKCksdGhpcy53RC5MTSgpfSxlLnByb3RvdHlwZS5NRz1mdW5jdGlvbihlKXt2YXIgdD1uZXcgbjtpZihlKXt0aGlzLlk5KCkuZm9yRWFjaChmdW5jdGlvbihlKXt0LnNldChlLGkuc0QuaUQpfSk7dmFyIHI9ITEscz1pLnNELmlEO3RoaXMueUQuVGsoKSYmKHM9aS5zRC5uRCxyPSEwKSx0aGlzLnpNLl9EKHQscyxyKX1lbHNlIHRoaXMuek0uX0QodCxpLnNELm1jLCExKX0sZS5wcm90b3R5cGUuSDE9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLGg9dGhpcy5XOSh0KSxjPXRoaXMuek0uQ0QoKS5pc0xpdmUoKTtpZihlJiZlLmxlbmd0aD4wKXt2YXIgdT1uZXcgczt1LmFkZEVhY2goZSk7dmFyIGw9YS5oaC5mYS5lYXx8dS5zb21lKGZ1bmN0aW9uKGUpe3ZhciB0PW8ucmMuWmgoaGl2ZS5zZXJ2aWNlcy5wcm90b2NvbC5JRi5TRixlLmtleS5yYW5rVHlwZSk7cmV0dXJuIHIubG9nZ2VyLmluZm8oXCJHT1QgUkFOS0lORyBcIit0K1wiLENSViBcIitlLmN1bXVsYXRlZFJhbmtWYWx1ZStcIixSViBcIitlLnJhbmtpbmcrXCIsR1MgXCIrZS5ncm91cFNpemUpLHIuejkoZSl9KSxwPW51bGwhPWgmJjAhPWgubGVuZ3RoO2lmKHRoaXMubG9nZ2VyLmRlYnVnKFwiVHJhY2tlciByZXBvcnRzIFtcIitoLmtleXMoKS5qb2luKFwiLCBcIikrXCJdICBiaXRyYXRlc1wiKSx0aGlzLmxvZ2dlci5kZWJ1ZyhcIklTTGl2ZSBcIitjK1wiIERvRWxlY3QgXCIrbCksYS5oaC5mYS4kbyYmYyl7dmFyIGQ9dGhpcy5ZOSgpO2lmKHAmJmwpe3RoaXMueUQuSDkoITApLHRoaXMubG9nZ2VyLmluZm8oXCJCRUNPTUlORyBTSVRFIExFQURFUlwiKTt2YXIgZj1uZXcgbjtkLmZvckVhY2goZnVuY3Rpb24oZSl7Zi5zZXQoZSxpLnNELmlEKX0pLGguZm9yRWFjaChmdW5jdGlvbihlLHQpe3Iub0cua2ouaGFzKGUpfHxmLnNldCh0LGkuc0QubkQpfSksdGhpcy56TS5fRChmLGkuc0QubkQsITEpfWVsc2V7dGhpcy55RC5IOSghMSk7dmFyIGc9aS5zRC5tYyxFPW5ldyBuO3RoaXMueUQueWsoKSYmdGhpcy55RC5jaygpJiYoZz1pLnNELmlELGQuZm9yRWFjaChmdW5jdGlvbihlKXtFLnNldChlLGkuc0QuaUQpfSkpLHRoaXMuek0uX0QoRSxnLCExKX19fWVsc2UgaWYoYyl7YS5oaC5mYS5lYT90aGlzLnlELkg5KCEwKTp0aGlzLnlELkg5KCExKTt2YXIgdj1uZXcgbixnPWkuc0QubWM7aWYodGhpcy55RC55aygpJiZ0aGlzLnlELmNrKCkpe3ZhciB5PXRoaXMuWTkoKTt5LmZvckVhY2goZnVuY3Rpb24oZSl7di5zZXQoZSxpLnNELmlEKX0pLGc9aS5zRC5pRH1hLmhoLmZhLmVhJiYoZz1pLnNELm5EKSx0aGlzLnpNLl9EKHYsZywhMSl9fSxlLnByb3RvdHlwZS5Kaj1mdW5jdGlvbigpe3ZhciBlPXRoaXMuWTkoKSx0PW5ldyBuO2UuZm9yRWFjaChmdW5jdGlvbihlKXt0LnNldChlLGkuc0QuaUQpfSk7dmFyIHI9ITEscz1pLnNELmlEO3RoaXMueUQuVGsoKSYmKHM9aS5zRC5uRCxyPSEwKSx0aGlzLnpNLl9EKHQscyxyKX0sZS5wcm90b3R5cGUuWTk9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgcztyZXR1cm4gdGhpcy5vRy5rai5mb3JFYWNoKGZ1bmN0aW9uKHQscil7dC5wZWVySW5mby53YXRjaGluZ0JpdHJhdGUmJiFlLmhhcyh0LnBlZXJJbmZvLndhdGNoaW5nQml0cmF0ZSkmJmUuYWRkKHQucGVlckluZm8ud2F0Y2hpbmdCaXRyYXRlKX0pLGUudG9BcnJheSgpfSxlLnByb3RvdHlwZS5XOT1mdW5jdGlvbihlKXt2YXIgdD1uZXcgbixyPXRoaXMueUQuZ2soKTtyZXR1cm4gZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe251bGwhPWUud2F0Y2hpbmdCaXRyYXRlJiYocj4wP3I9PT1lLmludGVybmFsQXMmJnQuc2V0KGUud2F0Y2hpbmdCaXRyYXRlLGUuZ3VpZCk6dC5zZXQoZS53YXRjaGluZ0JpdHJhdGUsZS5ndWlkKSl9KSx0fSxlLnByb3RvdHlwZS56OT1mdW5jdGlvbihlKXtpZihlLmdyb3VwU2l6ZTwyKXJldHVybiExO3ZhciB0PU1hdGgubWF4KDEsTWF0aC5yb3VuZChlLmdyb3VwU2l6ZSphLmhoLmZhLnJhKSk7cmV0dXJuIHB8fGguRnJhbWV3b3JrLkMoKSYmYy4kTi5YTj9lLnJhbmtpbmc8dCYmKHRoaXMueUQuY2soKXx8IXRoaXMueUQueWsoKSk6ZS5yYW5raW5nPHR9LGUucHJvdG90eXBlLlpEPWZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBzPTEsbz10aGlzLndELmxrKHIsdCksYz1hLmhoLmZhLmhhKmguRnJhbWV3b3JrLnJhbmRvbSgpO2lmKGU9PWkuc0QuaUQpe3ZhciB1PXRoaXMud0QueE0oKSxsPXUtYztzPU1hdGgubWF4KDEsby1sKX1lbHNlIGlmKGU9PWkuc0QubkQpe3ZhciBwPWEuaGguZmEuY2EtYztzPU1hdGgubWF4KDEsby1wKStufXJldHVybiBzPU1hdGgucm91bmQocyl9LGV9KCk7dC5CSj1kfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9cigwKSxuPXIoMykscz1yKDIzKSxvPXIoMzMpLGE9cigxKSxoPXIoMik7cig2MCk7dmFyIGM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5KOT0hMSx0aGlzLmxvZ2dlcklkPVwiW1RSQUNLRVJdIFwiLHRoaXMuWDk9bmV3IG4sdGhpcy55Zz1uZXcgby5ZYix0aGlzLnByb3RvY29sPW5ldyBvLmJDKHRoaXMueWcpLHRoaXMubG9nZ2VyPWkuRnJhbWV3b3JrLnJlc29sdmUoaS5GcmFtZXdvcmsuVi5SKS5sb2coKSxpLkZyYW1ld29yay5DKCl8fCh0aGlzLmNsaWVudD1pLkZyYW1ld29yay5yZXNvbHZlKGkuRnJhbWV3b3JrLlYuRykpfXJldHVybiBlLnByb3RvdHlwZS5tMT1mdW5jdGlvbihlLHQpe3RyeXtyZXR1cm4gdGhpcy5sb2dnZXIuZGVidWcoXCJUUkFDS0VSIENMSUVOVCBSRUdJU1RFUkVEIFwiK2UpLHRoaXMuWDkuaGFzKGUpfHx0aGlzLlg5LnNldChlLHQpLHRoaXMuWDkuZ2V0KGUpfWNhdGNoKGUpe2EuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBhZGRpbmcgbmV3IHRyYWNrZXIgY2xpZW50XCIsdGhpcy5sb2dnZXJJZCxoLmhzLnhpLk1pLGUpfX0sZS5wcm90b3R5cGUuUmc9ZnVuY3Rpb24oZSl7dGhpcy5YOS5kZWxldGUoZSl9LGUucHJvdG90eXBlLndnPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLlg5LmdldChlKX0sZS5wcm90b3R5cGUuTTE9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZih0aGlzLmNsaWVudCYmdGhpcy5jbGllbnQuemQoKSl7dmFyIHI9dGhpcy5aOShlKSxpPW5ldyBzLkpkKFNlcnZpY2VzLnBZLDEsciksbj10aGlzLmNsaWVudC56ZCgpLnNlbmQoaSk7bi50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIHQubG9nZ2VyLmluZm8oXCJUUkFDS0VSIFJFUVVFU1QgU0VOVFwiKX0pLG4uZmFpbChmdW5jdGlvbihlKXthLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3Igc2VuZGluZyB0cmFja2VyIHJlcXVlc3RcIix0LmxvZ2dlcklkLGguaHMueGkuRGkpfSl9ZWxzZSBhLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3Igc2VuZGluZyB0cmFja2VyIHJlcXVlc3QgYmVjYXVzZSBvZiBjb25uZWN0aW9uXCIsdGhpcy5sb2dnZXJJZCxoLmhzLnhpLkJpKX0sZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5sb2dnZXIuZGVidWcoXCJUUkFDS0VSIE1BTkFHRVIgSU5JVFwiKSx0aGlzLmNsaWVudCYmdGhpcy5jbGllbnQuemQoKT90aGlzLmNsaWVudC56ZCgpLm9uKFNlcnZpY2VzLnBZLDEwLGZ1bmN0aW9uKHQpe3RyeXt2YXIgcj1lLmU3KHQubXNnKTtpZihyJiZlLlg5LmhhcyhyLnNlc3Npb25JZCkpe2UuWDkuZ2V0KHIuc2Vzc2lvbklkKS5LWChyKX1lbHNlIGUubG9nZ2VyLndhcm4oXCJTRVNTSU9OIElEIE5PVCBWQUxJRCBPUiBOVUxMIFwiK3Iuc2Vzc2lvbklkKX1jYXRjaCh0KXthLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgaW5pdGlhbGl6aW5nIHRoZSB0cmFja2VyIG1hbmFnZXJcIixlLmxvZ2dlcklkLGguaHMueGkuSGksdCl9fSk6aS5GcmFtZXdvcmsuQygpfHx0aGlzLmxvZ2dlci53YXJuKHRoaXMubG9nZ2VySWQrXCIgQ0FOTk9UIEdFVCBBQ1RJVkUgQ09OTkVDVElPTlwiKX0sZS5wcm90b3R5cGUuZTc9ZnVuY3Rpb24oZSl7dHJ5e3ZhciB0PSdbMSwgXCJUUkFDS0VSX1JFU1BcIiwgNCwgMCwnK2UrXCJdXCI7dGhpcy55Zy5lQyh0KTt2YXIgcj0odGhpcy5wcm90b2NvbC56QygpLG5ldyBoaXZlLnNlcnZpY2VzLnByb3RvY29sLklGLlRyYWNrZXJSZXNwb25zZSk7cmV0dXJuIHIucmVhZCh0aGlzLnByb3RvY29sKSxyLmluZm9zLm1hcChmdW5jdGlvbihlKXtlLmd1aWQ9YXRvYihlLmd1aWQpLGUucHVibGljSXA9bmV3IEluZXRBZGRyZXNzLGUucHVibGljSXAuYWRkcmVzcz1lLnB1YmxpY0lwU3RyaW5nLGUucHJpdmF0ZUlwPW5ldyBJbmV0QWRkcmVzcyxlLnByaXZhdGVJcC5hZGRyZXNzPWUucHJpdmF0ZUlwU3RyaW5nfSksci5wZWVySW5mby5ndWlkPWF0b2Ioci5wZWVySW5mby5ndWlkKSxyLnBlZXJJbmZvLnB1YmxpY0lwPW5ldyBJbmV0QWRkcmVzcyxyLnBlZXJJbmZvLnB1YmxpY0lwLmFkZHJlc3M9ci5wZWVySW5mby5wdWJsaWNJcFN0cmluZyxyLnBlZXJJbmZvLnByaXZhdGVJcD1uZXcgSW5ldEFkZHJlc3Msci5wZWVySW5mby5wcml2YXRlSXAuYWRkcmVzcz1yLnBlZXJJbmZvLnByaXZhdGVJcFN0cmluZyx0aGlzLnByb3RvY29sLnRfKCksdGhpcy5KOSYmdGhpcy5sb2dnZXIuZGVidWcoXCJSRVNQIFwiK0pTT04uc3RyaW5naWZ5KHIpKSxyfWNhdGNoKGUpe3JldHVybiBhLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgZGVzZXJpYWxpemluZyB0aGUgdHJhY2tlciByZXNwb25zZVwiLHRoaXMubG9nZ2VySWQsaC5ocy54aS5VaSxlKSxudWxsfX0sZS5wcm90b3R5cGUuWjk9ZnVuY3Rpb24oZSl7dHJ5e3RoaXMucHJvdG9jb2wuQUMoXCJUUkFDS0VSX1JFUVwiLG8uZ2IuT05FV0FZLDApLGUud3JpdGUodGhpcy5wcm90b2NvbCksdGhpcy5wcm90b2NvbC5EQygpO3ZhciB0PXRoaXMueWcucEMoKSxyPXRoaXMuRkIodCxcIixcIiw0KTtyZXR1cm4gdC5zbGljZShyKzEsdC5sZW5ndGgtMSl9Y2F0Y2goZSl7dGhyb3cgYS5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIHNlcmlhbGl6aW5nIHRoZSBuZXcgcmVxdWVzdFwiLHRoaXMubG9nZ2VySWQsaC5ocy54aS5GaSxlKSxuZXcgRXJyb3IoZSl9fSxlLnByb3RvdHlwZS5GQj1mdW5jdGlvbihlLHQscil7cmV0dXJuIGUuc3BsaXQodCxyKS5qb2luKHQpLmxlbmd0aH0sZX0oKTt0LndKPWN9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1yKDI2KSxuPWkuSGl2ZUNvbW0uJGcscz1pLkhpdmVDb21tLmVFLG89ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKGUsdCl7dGhpcy5wZWVyPWUsdGhpcy5ybD10fSxlLnByb3RvdHlwZS50Nz1mdW5jdGlvbihlKXtlLnV1aWQ9dGhpcy5ybC5VbC5nZDt2YXIgdD10aGlzLnJsLlVsLmlCLktVLHI9dGhpcy5yNyh0LnAycFN1YlJlc3BRdCksaT10aGlzLnI3KHQuc3JjUmVzcFF0KTtlLmNkblJlcXVlc3RzKz10aGlzLnI3KHQuc3JjUmVxTiksZS5jZG5SZXNwb25zZXMrPXRoaXMucjcodC5zcmNSZXNwTiksZS5jZG5SZXNwb25zZUVycm9ycys9dGhpcy5yNyh0LnNyY1Jlc3BFcnJOKSxlLmNkblJlc3BvbnNlQnl0ZXMrPXRoaXMucjcodC5zcmNSZXNwUXQpLGUucDJwUmVxdWVzdHMrPXRoaXMucjcodC5wMnBTdWJSZXFOKSxlLnAycFJlc3BvbnNlcys9dGhpcy5yNyh0LnAycFN1YlJlc3BOKSxlLnAycFJlc3BvbnNlRXJyb3JzKz10aGlzLnI3KHQucDJwU3ViUmVzcEVyck4pLGUucDJwUmVzcG9uc2VCeXRlcys9dGhpcy5yNyh0LnAycFN1YlJlc3BRdCksZS5zYXZpbmdzPXRoaXMucjcoci8oaStyKSoxMDApfSxlLnByb3RvdHlwZS5yNz1mdW5jdGlvbihlKXtyZXR1cm4gZXx8MH0sZS5wcm90b3R5cGUuaTc9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztlLnV1aWQ9dGhpcy5ybC5VbC5nZCx0aGlzLnJsLlVsLmlCLldVLmZvckVhY2goZnVuY3Rpb24ocixpKXtlLnBhcnRuZXJzW2ldfHwoZS5wYXJ0bmVyc1tpXT1uZXcgcyk7dmFyIG49ZS5wYXJ0bmVyc1tpXTtuLnV1aWQ9aSxuLnNlbnRCeXRlcys9dC5yNyhyLnAycFN1Y2NTZW50KSxuLnJlY2VpdmVkQnl0ZXMrPXQucjcoci5wMnBTdWNjUmVjZWl2ZWQpLG4uc3VjY2Vzc1RyYW5zZmVycys9dC5yNyhyLnAycFN1Y2NSZXEpLG4uZmFpbGVkVHJhbnNmZXJzKz10LnI3KHIucDJwRmFpbFJlcSl9KX0sZS5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5ybC5yZW5kZXJTdGF0c0NhbGxiYWNrO2lmKGUpe3ZhciB0PW5ldyBuO3RoaXMudDcodCksdGhpcy5pNyh0KTt0cnl7ZSh0KX1jYXRjaChlKXtjb25zb2xlLndhcm4oXCJlcnJvciBpbiByZW5kZXJpbmcgbG9jYWwgc3RhdHNcIixlKX19fSxlfSgpO3QubUo9b30sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXIoMzUpLG49cigzKSxzPXIoMCksbz1yKDUpLGE9cigxKSxoPXIoMiksYz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLmxvZ2dlcklkPVwiW0NodW5rSGFuZGxlcl0gXCIsdGhpcy5uNz1uZXcgbix0aGlzLnM3PW5ldyBufXJldHVybiBlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKGUpe3RoaXMubG9nZ2VyPXMuRnJhbWV3b3JrLnJlc29sdmUocy5GcmFtZXdvcmsuVi5SKS5sb2coZS5zZXNzaW9uSWQpfSxlLnByb3RvdHlwZS5ZWD1mdW5jdGlvbihlKXt0cnl7dmFyIHQ9ZS5aZigpLHI9ZS5qZixuPWUucWYuUGYsYz1NYXRoLmNlaWwobi9vLmhoLkZhLkRhKSx1PWUuemYuYml0cmF0ZSxsPTAscD1NYXRoLm1pbihvLmhoLkZhLkRhLG4pO3RoaXMubzcodCx1KTtmb3IodmFyIGQ9cC1sO2M+MDspe3ZhciBmPW51bGw7dHJ5e3MuRnJhbWV3b3JrLkMoKXx8KGY9aS53cmFwKHIuc2xpY2UobCxwKSkpLGwrPWR9Y2F0Y2goZSl7YS5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIHdyYXBwaW5nIGNodW5rXCIsdGhpcy5sb2dnZXJJZCxoLmhzLk9yLlByLGUpfXRoaXMubjcuZ2V0KHQpLnB1c2goZiksYy0tLHA9TWF0aC5taW4obCtvLmhoLkZhLkRhLG4pLGQ9cC1sfX1jYXRjaChlKXthLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgYWRkaW5nIGZyYWdtZW50IHRvIHRoZSBmcmFnbWVudE1hcFwiLHRoaXMubG9nZ2VySWQsaC5ocy5Pci5DcixlKX19LGUucHJvdG90eXBlLm83PWZ1bmN0aW9uKGUsdCl7dHJ5e2lmKHRoaXMuczcuaGFzKHQpJiZ0aGlzLnM3LmdldCh0KS5sZW5ndGg+by5oaC5SYS5TYSl7dmFyIHI9dGhpcy5zNy5nZXQodClbMF07dGhpcy5uNy5kZWxldGUociksdGhpcy5zNy5nZXQodCkuc2hpZnQoKX1pZih0aGlzLnM3Lmhhcyh0KSl0aGlzLnM3LmdldCh0KS5wdXNoKGUpLHRoaXMubjcuc2V0KGUsW10pO2Vsc2V7dmFyIGk9W2VdO3RoaXMuczcuc2V0KHQsaSksdGhpcy5uNy5zZXQoZSxbXSl9fWNhdGNoKGUpe2EuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBnZW5lcmF0aW5nIHRoZSBjaHVuayBoYW5kbGVyIGhhc2htYXBzXCIsdGhpcy5sb2dnZXJJZCxoLmhzLk9yLkFyLGUpfX0sZS5wcm90b3R5cGUubDg9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5uNy5oYXMoZSk/dGhpcy5uNy5nZXQoZSlbdF06bnVsbH0sZS5wcm90b3R5cGUuYTc9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuczcuZ2V0KGUpfSxlLnByb3RvdHlwZS5vWD1mdW5jdGlvbigpe3RoaXMubjc9bmV3IG4sdGhpcy5zNz1uZXcgbn0sZX0oKTt0LlBKPWN9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1yKDMpLG49cig1KSxzPXIoMCksbz1yKDIpLGE9cigxKSxoPXIoMjgpLGM9KGguY2csZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5sb2dnZXJJZD1cIltJUFNwb29maW5nXSBcIix0aGlzLmg3PW4uaGguVm8ueG99cmV0dXJuIGUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oZSl7dGhpcy5sb2dnZXI9cy5GcmFtZXdvcmsucmVzb2x2ZShzLkZyYW1ld29yay5WLlIpLmxvZyhlLnNlc3Npb25JZCksdGhpcy5URD1lLlRELHRoaXMuYzc9bmV3IGksdGhpcy51Nz1uZXcgaSx0aGlzLmg3JiZ0aGlzLmw3KCl9LGUucHJvdG90eXBlLmZqPWZ1bmN0aW9uKGUsdCxyKXt0cnl7aWYoIXRoaXMuaDcpcmV0dXJuITE7aWYodGhpcy5jNy5oYXMoZSl8fCF0fHwhcilyZXR1cm4hMTt2YXIgaT10aGlzLnA3KHQscik7aWYoaSYmdGhpcy51Ny5oYXMoaSkpe2lmKHRoaXMudTcuZ2V0KGkpLmxlbmd0aD49bi5oaC5Wby5xbylyZXR1cm4gYS5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIHBlZXIgdmlvbGF0ZXMgaXAgc3Bvb2ZpbmcgcnVsZXNcIix0aGlzLmxvZ2dlcklkLG8uaHMuYm4uU24se3ByaXZhdGVJcDp0LHB1YmxpY0lwOnIsb3RoZXJHdWlkOmV9KSx0aGlzLmxvZ2dlci5kZWJ1Zyh0aGlzLmxvZ2dlcklkK1wiU3Bvb2ZpbmcgcnVsZSB2aW9sYXRlZCBmb3IgXCIrZStcIiB3aXRoIHByaXZhdGVJcCBcIit0K1wiIHB1YmxpY0lwIFwiK3IpLCEwfXJldHVybiExfWNhdGNoKHQpe3JldHVybiBhLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgY2hlY2tpbmcgaWYgcGVlciB2aW9sYXRlcyBpcCBzcG9vZmluZyBydWxlc1wiLHRoaXMubG9nZ2VySWQsby5ocy5ibi5Jbix7ZGV0YWlsZWRFcnJvcjp0LG90aGVyR3VpZDplfSksITF9fSxlLnByb3RvdHlwZS5Uaj1mdW5jdGlvbihlLHQscil7dHJ5e2lmKHRoaXMuaDcmJnImJnQpe3ZhciBpPXRoaXMucDcodCxyKSxuPXRoaXMuYzcuZ2V0KGUpO24mJm4hPWkmJnRoaXMuZDcoZSxuKSx0aGlzLmY3KGUsaSl9fWNhdGNoKHQpe2EuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBhZGRpbmcgb3IgdXBkYXRpbmcgaXAgc3Bvb2ZpbmcgbWFwc1wiLHRoaXMubG9nZ2VySWQsby5ocy5ibi5Sbix7ZGV0YWlsZWRFcnJvcjp0LG90aGVyR3VpZDplfSl9fSxlLnByb3RvdHlwZS5nNz1mdW5jdGlvbihlKXt0aGlzLmg3JiZ0aGlzLkdqKGUpfSxlLnByb3RvdHlwZS5LRz1mdW5jdGlvbihlKXt0aGlzLmg3JiZ0aGlzLkdqKGUpfSxlLnByb3RvdHlwZS5mNz1mdW5jdGlvbihlLHQpe3RoaXMuYzcuc2V0KGUsdCk7dmFyIHI9W107dGhpcy51Ny5oYXModCkmJihyPXRoaXMudTcuZ2V0KHQpLC0xIT1yLmluZGV4T2YoZSkpfHwoci5wdXNoKGUpLHRoaXMudTcuc2V0KHQscikpfSxlLnByb3RvdHlwZS5Haj1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmM3LmdldChlKTt0Pyh0aGlzLmQ3KGUsdCksdGhpcy5jNy5kZWxldGUoZSkpOnRoaXMubG9nZ2VyLndhcm4odGhpcy5sb2dnZXJJZCtcIm5vIGlwIHBhaXIgZm9yIGd1aWQgXCIrZSl9LGUucHJvdG90eXBlLmQ3PWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy51Ny5nZXQodCksaT1yLmluZGV4T2YoZSk7LTEhPWk/KHIuc3BsaWNlKGksMSksMD09ci5sZW5ndGg/dGhpcy51Ny5kZWxldGUodCk6dGhpcy51Ny5zZXQoZSxyKSk6dGhpcy5sb2dnZXIud2Fybih0aGlzLmxvZ2dlcklkK1wicGFpciBsaXN0IFwiK3QrXCIgZG9lcyBub3QgY29udGFpbiBndWlkIFwiK2UpfSxlLnByb3RvdHlwZS5wNz1mdW5jdGlvbihlLHQpe3JldHVybiB0K1wiOlwiK2V9LGUucHJvdG90eXBlLmw3PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztzLkZyYW1ld29yay5zZXRJbnRlcnZhbChmdW5jdGlvbigpe3RyeXt2YXIgdD1bXTtlLnU3LmZvckVhY2goZnVuY3Rpb24ocixpKXtpZihyLmxlbmd0aD5uLmhoLlZvLnFvKXtmb3IodmFyIHM9W10sbz1uLmhoLlZvLnFvO288ci5sZW5ndGg7bysrKXMucHVzaChyW29dKTtlLmxvZ2dlci53YXJuKFwiSXBTcG9vZmluZyB2aW9sYXRpb24gZm9yIFwiK2krXCIgLSBjbG9zaW5nOiBcIitzKSx0LmNvbmNhdChzKX19KSx0LmZvckVhY2goZnVuY3Rpb24odCl7ZS5URC5iaih0KX0pfWNhdGNoKHQpe2EuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBjaGVja2luZyBwZXJpb2RpYyBpcCBzcG9vZmluZyB0YWJsZXNcIixlLmxvZ2dlcklkLG8uaHMuYm4ud24sdCl9fSxuLmhoLlZvLkdvKX0sZX0oKSk7dC5Wbz1jfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9dGhpcyYmdGhpcy5odXx8ZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiByKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfWZvcih2YXIgaSBpbiB0KXQuaGFzT3duUHJvcGVydHkoaSkmJihlW2ldPXRbaV0pO2UucHJvdG90eXBlPW51bGw9PT10P09iamVjdC5jcmVhdGUodCk6KHIucHJvdG90eXBlPXQucHJvdG90eXBlLG5ldyByKX0sbj1yKDE5MCkscz1yKDUpLG89cig5OCksYT1yKDApLGg9cigyKSxjPXIoMSksdT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7dmFyIHQ9ZS5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiB0LkU3PVwiW1Njb3JlIFBhcnRuZXIgU2VsZWN0aW9uXSBcIix0LnR5cGU9XCJTY29yZVwiLHR9cmV0dXJuIGkodCxlKSx0LnByb3RvdHlwZS52Nz1mdW5jdGlvbihlLHQpe3RyeXtyZXR1cm4gdC5zb3J0KG8uRVEuZFEpLHQuc2xpY2UoMCxlKX1jYXRjaChlKXtyZXR1cm4gYy5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIHNlbGVjdGluZyBwYXJ0bmVycyB0byByZW1vdmVcIix0aGlzLkU3LGguaHMudnIucHIsZSksW119fSx0LnByb3RvdHlwZS55Nz1mdW5jdGlvbihlLHQscixpKXt0cnl7cmV0dXJuIGkuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiB0LmV2ZXJ5KGZ1bmN0aW9uKHQpe3JldHVybiB0Lmd1aWQhPWUucGVlckluZm8uZ3VpZH0pJiYtMT09ci5pbmRleE9mKGUucGVlckluZm8uZ3VpZCl9KS5zbGljZSgwLGUpfWNhdGNoKGUpe3JldHVybiBjLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3Igc2VsZWN0aW5nIHBhcnRuZXJzIHRvIGFkZFwiLHRoaXMuRTcsaC5ocy52ci5kcixlKSxbXX19LHR9KG4uVDcpO3QuT0o9dTt2YXIgbD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLkU3PVwiW1Njb3JlIFBhcnRuZXIgU2VsZWN0aW9uXSBcIn1yZXR1cm4gZS5wcm90b3R5cGUuTmo9ZnVuY3Rpb24oZSl7dHJ5e3ZhciB0PWUuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiFlLndqLnlnLkRnKCl9KSxyPWEuRnJhbWV3b3JrLnRpbWUoKSxpPXQuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiByLWUueTg+cy5oaC5Iby5Cb30pO3JldHVybiBpLmxlbmd0aD4wPyhpLnNvcnQoby55US5kUSksaS5zbGljZSgwLDEpWzBdKTpudWxsfWNhdGNoKGUpe3JldHVybiBjLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgdXBkYXRpbmcgcGFydG5lcnMgb3V0XCIsdGhpcy5FNyxoLmhzLnZyLmdyLGUpLG51bGx9fSxlfSgpO3QuTko9bH0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXIoOTcpLG49cig1KSxzPXIoMCksbz1yKDEpLGE9cigyKSxoPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuak09XCJbQmFzZUluUGFydG5lclNlbGVjdGlvbl0gXCIsdGhpcy5sb2dnZXI9cy5GcmFtZXdvcmsucmVzb2x2ZShzLkZyYW1ld29yay5WLlIpLmxvZygpfXJldHVybiBlLnByb3RvdHlwZS51aj1mdW5jdGlvbihlLHQscixoKXt0cnl7dmFyIGM9W10sdT1bXSxsPU1hdGgucm91bmQoZSooMS1uLmhoLk5vLkFvKSkscD1NYXRoLm1heCh0Lmxlbmd0aC1sLDApLGQ9ZS10Lmxlbmd0aCtwO2lmKHA+MCl7dmFyIGY9dC5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIWUud2oueWcuRGcoKX0pLGc9cy5GcmFtZXdvcmsudGltZSgpLEU9Zi5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGctZS55OD5uLmhoLkhvLkJvfSksdj1NYXRoLm1pbihFLmxlbmd0aCxwKTt1PXRoaXMudjcodixFKTt2YXIgeT1bXSxUPVtdO3UuZm9yRWFjaChmdW5jdGlvbihlKXt5LnB1c2goZS5ndWlkKSxULnB1c2goZS5nUS5mUSghMSkpfSl9cmV0dXJuIGQ+MCYmKGM9dGhpcy55NyhkLHQscixoKSksdGhpcy5sb2dnZXIuZGVidWcoXCJbUEFSVF0gQS9SOiBcIitkK1wiL1wiK3ArXCIgW1wiK2MubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLnBlZXJJbmZvLmd1aWQuc3Vic3RyaW5nKDAsOCl9KStcIi9cIit1Lm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5ndWlkLnN1YnN0cmluZygwLDgpfSkrXCJdIFA6W1wiK3QubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLmd1aWQuc3Vic3RyaW5nKDAsOCl9KStcIl0gTTpbXCIraC5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUucGVlckluZm8uZ3VpZC5zdWJzdHJpbmcoMCw4KX0pK1wiXVwiKSxuZXcgaS5wUShjLHUpfWNhdGNoKGUpe3JldHVybiBvLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgdXBkYXRpbmcgaW4gcGFydG5lcnNcIix0aGlzLmpNLGEuaHMubHIudXIsZSksbmV3IGkucFEoW10sW10pfX0sZX0oKTt0LlQ3PWh9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1yKDMpLG49cig5Nykscz1yKDUpLG89cigwKSxhPXIoNyksaD1yKDk4KSxjPXIoMiksdT1yKDEpLGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5tNz1cIltEZWx0YSBQYXJ0bmVyIFNlbGVjdGlvbl0gXCJ9cmV0dXJuIGUucHJvdG90eXBlLnVqPWZ1bmN0aW9uKGUsdCxyLGksYSl7dHJ5e3RoaXMueUQ9ZTt2YXIgaD1bXSxsPVtdLHA9TWF0aC5yb3VuZCh0KigxLXMuaGguTm8uQW8pKSxkPU1hdGgubWF4KHIubGVuZ3RoLXAsMCksZj10LXIubGVuZ3RoK2Q7aWYoZD4wKXt2YXIgZz1yLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4hZS53ai55Zy5EZygpfSksRT1vLkZyYW1ld29yay50aW1lKCksdj1nLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gRS1lLnk4PnMuaGguSG8uQm99KSx5PU1hdGgubWluKHYubGVuZ3RoLGQpO2w9dGhpcy52Nyh5LHYpLGwubGVuZ3RoPnkmJihmKz1sLmxlbmd0aC15KTt2YXIgVD1bXSxtPVtdO2wuZm9yRWFjaChmdW5jdGlvbihlKXtULnB1c2goZS5ndWlkKSxtLnB1c2goZS5nUS5mUSghMSkpfSl9cmV0dXJuIGY+MCYmKGg9dGhpcy55NyhmLHIsaSxhKSksbmV3IG4ucFEoaCxsKX1jYXRjaChlKXtyZXR1cm4gdS5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIHVwZGF0aW5nIGluIHBhcnRuZXJzXCIsdGhpcy5tNyxjLmhzLlJyLnVyLGUpLG5ldyBuLnBRKFtdLFtdKX19LGUucHJvdG90eXBlLnY3PWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpczt0cnl7dC5zb3J0KGguRVEuZFEpO3ZhciBpPXQuc2xpY2UoMCxlKTtyZXR1cm4gdC5zbGljZShlLHQubGVuZ3RoKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3IuSTcoZS5FaykmJmkucHVzaChlKX0pLGl9Y2F0Y2goZSl7cmV0dXJuIHUuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBzZWxlY3RpbmcgcGFydG5lcnMgdG8gcmVtb3ZlXCIsdGhpcy5tNyxjLmhzLlJyLnByLGUpLFtdfX0sZS5wcm90b3R5cGUueTc9ZnVuY3Rpb24oZSx0LHIsaSl7dmFyIG49dGhpczt0cnl7dmFyIG89W10sYT1bXSxoPVtdLGw9W10scD1bXSxkPXRoaXMueUQuZ2soKTtkfHwoZD0tMSk7dmFyIGY9W107dC5mb3JFYWNoKGZ1bmN0aW9uKGUpe2YucHVzaChlLmd1aWQpfSk7dmFyIGc9TWF0aC5mbG9vcihlKnMuaGguSG8uTW8pLEU9dGhpcy55RC5VaigpO2kuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD1lLnBlZXJJbmZvLnN0cmVhbXM7aWYodCl7dmFyIHI9bi5pc0xlYWRlcihlLHQsZCxFKTtyLmNHP3IuUzc/by5wdXNoKGUpOmEucHVzaChlKTpuLlI3KGUscy5oaC5Iby5Mbyk/bi5JNyhlKT9wLnB1c2goZSk6bC5wdXNoKGUpOmgucHVzaChlKX1lbHNlIHAucHVzaChlKX0pO3ZhciB2PXRoaXMudzcobyxhLGgsbCxwLGUsZSxnKTtyZXR1cm4gdi5zbGljZSgwLE1hdGgubWluKHYubGVuZ3RoLGUpKX1jYXRjaChlKXtyZXR1cm4gdS5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIHNlbGVjdGluZyBwYXJ0bmVycyB0byBhZGRcIix0aGlzLm03LGMuaHMuUnIuZHIsZSksW119fSxlLnByb3RvdHlwZS53Nz1mdW5jdGlvbihlLHQscixpLG4saCxsLHApe3RyeXt2YXIgZD1bXSxmPVtdO2UubGVuZ3RoPjAmJm8uRnJhbWV3b3JrLnJhbmRvbSgpPHMuaGguSG8uRm8mJihlPWEucmMuemgoZSksZj1lLnNsaWNlKDAsTWF0aC5taW4oZS5sZW5ndGgscCkpLGQucHVzaC5hcHBseShkLGYpLGw9aC1mLmxlbmd0aCk7dmFyIGc9W107dC5sZW5ndGg+MCYmKHQ9YS5yYy56aCh0KSxnPXQuc2xpY2UoMCxNYXRoLm1pbih0Lmxlbmd0aCxwKSksZC5wdXNoLmFwcGx5KGQsZyksbD1oLWcubGVuZ3RoKTt2YXIgRT1bXTtyLmxlbmd0aD4wJiYocj1hLnJjLnpoKHIpLEU9ci5zbGljZSgwLE1hdGgubWluKHIubGVuZ3RoLHApKSxkLnB1c2guYXBwbHkoZCxFKSxsPWgtRS5sZW5ndGgpO3ZhciB2PW51bGw7aWYoaS5sZW5ndGg+MCl7aT1hLnJjLnpoKGkpLHY9aS5zbGljZSgwLE1hdGgubWluKGkubGVuZ3RoLGwpKTtsPWgtKChFLmxlbmd0aD4wP0UubGVuZ3RoOjApLXYubGVuZ3RoKX12YXIgeT1bXTtyZXR1cm4gbD4wJiZuLmxlbmd0aD4wJiYobj1hLnJjLnpoKG4pLHk9bi5zbGljZSgwLE1hdGgubWluKG4ubGVuZ3RoLGwpKSxkLnB1c2guYXBwbHkoZCx5KSksZH1jYXRjaChlKXtyZXR1cm4gdS5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIGdyb3VwaW5nIHBhcnRuZXJzXCIsdGhpcy5tNyxjLmhzLlJyLnlyLGUpLFtdfX0sZS5wcm90b3R5cGUuaXNMZWFkZXI9ZnVuY3Rpb24oZSx0LHIsbil7dHJ5e3ZhciBzPSExLG89ITEsYT1uZXcgaTt0LmZvckVhY2goZnVuY3Rpb24oZSl7YS5zZXQoZS5iaXRyYXRlLGUpfSk7dmFyIGg9bmV3IGk7cmV0dXJuIGEuZm9yRWFjaChmdW5jdGlvbihlLHQpe24uaGFzKHQpJiZoLnNldCh0LGUpfSksaC5rZXlzKCkubGVuZ3RoPjAmJmguZm9yRWFjaChmdW5jdGlvbih0LGkpe3ZhciBhPW4uZ2V0KGkpO2lmKGEmJnQuc3RhdGU+PTImJmEudHlwZT49MSl7dmFyIGg9ZS5wZWVySW5mby5pbnRlcm5hbEFzO2g+MCYmaD09ciYmKG89ITApLHM9ITB9fSkse2NHOnMsUzc6b319Y2F0Y2godCl7cmV0dXJuIHUuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBpZGVudGlmeWluZyBpZiBtZW1iZXIgaXMgbGVhZGVyIG9yIHNhbWUgc2l0ZVwiLHRoaXMubTcsYy5ocy5Sci5Ucix7ZGV0YWlsZWRFcnJvcjp0LG90aGVyR3VpZDplLnBlZXJJbmZvLmd1aWR9KSx7Y0c6ITEsUzc6ITF9fX0sZS5wcm90b3R5cGUuUjc9ZnVuY3Rpb24oZSx0KXt0cnl7dmFyIHI9dGhpcy55RC5nZXREZWx0YSgpLGk9dGhpcy55RC5NWCgpLG49dGhpcy5iNyhlLGkpO3JldHVybigwIT1yfHwwIT1uKSYmKHI8biYmcj5uK3QpfWNhdGNoKHQpe3JldHVybiB1LkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgaWRlbnRpZnlpbmcgaWYgbWVtYmVyIGlzIGFoZWFkIG9yIGJlaGluZCBkZWx0YVwiLHRoaXMubTcsYy5ocy5Sci5tcix7ZGV0YWlsZWRFcnJvcjp0LG90aGVyR3VpZDplLnBlZXJJbmZvLmd1aWR9KSwhMX19LGUucHJvdG90eXBlLkk3PWZ1bmN0aW9uKGUpe3RyeXt2YXIgdD10aGlzLnlELmdldERlbHRhKCkscj10aGlzLnlELk1YKCksaT10aGlzLmI3KGUscik7cmV0dXJuIDA9PXQmJjA9PWl8fHQ+aX1jYXRjaCh0KXtyZXR1cm4gdS5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkVycm9yIGlkZW50aWZ5aW5nIGlmIG1lbWJlciBpcyBiZWhpbmQgb3Igbm90IHJldHJpZXZlaW5nIHRoZSBzYW1lIGJpdHJhdGVcIix0aGlzLm03LGMuaHMuUnIuSXIse2RldGFpbGVkRXJyb3I6dCxvdGhlckd1aWQ6ZS5wZWVySW5mby5ndWlkfSksITF9fSxlLnByb3RvdHlwZS5iNz1mdW5jdGlvbihlLHQpe3RyeXt2YXIgcj1lLnBlZXJJbmZvLnN0cmVhbXMsaT0wO3JldHVybiByJiZyLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5iaXRyYXRlPT10JiYoaT1lLmRlbHRhKX0pLGl9Y2F0Y2godCl7cmV0dXJuIHUuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciByZXRyaWV2aW5nIGRlbHRhIGZvciBtZW1iZXIncyBiaXRyYXRlXCIsdGhpcy5tNyxjLmhzLlJyLlNyLHtkZXRhaWxlZEVycm9yOnQsb3RoZXJHdWlkOmUucGVlckluZm8uZ3VpZH0pLDB9fSxlfSgpO3QuREo9bDt2YXIgcD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLmxvZ2dlcklkPVwiW1Rocm91Z2hwdXQgUGFydG5lciBTZWxlY3Rpb25dIFwiLHRoaXMubG9nZ2VyPW8uRnJhbWV3b3JrLnJlc29sdmUoby5GcmFtZXdvcmsuVi5SKS5sb2coKX1yZXR1cm4gZS5wcm90b3R5cGUuTmo9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXRoaXM7dHJ5e3RoaXMueUQ9ZTt2YXIgYT10aGlzLnlELlVqKCksaD10LnN0cmVhbXM7aWYoaCl7dmFyIGw9ci5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIWUud2oueWcuRGcoKX0pLHA9by5GcmFtZXdvcmsudGltZSgpLGQ9bC5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIHAtZS55OD5zLmhoLkhvLkJvfSk7aWYoMD09aC5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGEuaGFzKGUuYml0cmF0ZSl9KS5sZW5ndGgpcmV0dXJuIG51bGw7dmFyIGY9dGhpcy5DNyhkKSxnPXRoaXMuXzcoYSxmKTtpZihnKXJldHVybiBnO3ZhciBFPWEua2V5cygpLmxlbmd0aCx2PWQubGVuZ3RoLHk9TWF0aC5yb3VuZCh2L0UpLFQ9Zi5rZXlzKCkuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBhLmhhcyhlKX0pLG09bmV3IGk7VC5mb3JFYWNoKGZ1bmN0aW9uKGUpe20uc2V0KGUsZi5nZXQoZSkpfSk7dmFyIEk9dGhpcy5QNyhtLHkpO3JldHVybiBudWxsIT1JP0k6KGguZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD1tLmdldChlLmJpdHJhdGUpO2lmKG51bGwhPXQpe3ZhciByPW4uQTcodCk7aWYoci5sZW5ndGg+MCYmIXMuaGguSG8uVW8pcmV0dXJuIHJbMF19fSksbnVsbCl9cmV0dXJuIG51bGx9Y2F0Y2goZSl7cmV0dXJuIHUuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFcnJvciBzZWxlY3RpbmcgcGFydG5lciB0byB1cGRhdGUgb3V0XCIsdGhpcy5sb2dnZXJJZCxjLmhzLmJyLndyLGUpLG51bGx9fSxlLnByb3RvdHlwZS5DNz1mdW5jdGlvbihlKXt2YXIgdD1uZXcgaTtyZXR1cm4gZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciByPWUuRWsucGVlckluZm8ud2F0Y2hpbmdCaXRyYXRlO2lmKHJ8fChyPS0xKSx0LmhhcyhyKSl7dmFyIGk9dC5nZXQocik7aS5wdXNoKGUpLHQuc2V0KHIsaSl9ZWxzZSB0LnNldChyLFtlXSl9KSx0fSxlLnByb3RvdHlwZS5BNz1mdW5jdGlvbihlKXtyZXR1cm4gZS5maWx0ZXIoZnVuY3Rpb24oZSl7aWYoMD09ZS52US5JNShzLmhoLk9hLkFhKSlyZXR1cm4gZX0pfSxlLnByb3RvdHlwZS5QNz1mdW5jdGlvbihlLHQpe3ZhciByPVtdO2UuZm9yRWFjaChmdW5jdGlvbihlLHQpe3IucHVzaCh7Yml0cmF0ZTp0LE83OmUubGVuZ3RofSl9KSxyLnNvcnQoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5PNz50Lk83PzE6ZS5PNzx0Lk83PzA6LTF9KTt2YXIgaT1udWxsO3JldHVybiByLmZvckVhY2goZnVuY3Rpb24ocil7aWYoZS5nZXQoci5iaXRyYXRlKS5sZW5ndGg+dCl7dmFyIG49ZS5nZXQoci5iaXRyYXRlKTtuLmxlbmd0aD4wJiYobi5zb3J0KGgueVEuZFEpLGk9blswXSl9fSksaX0sZS5wcm90b3R5cGUuXzc9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLGk9bnVsbDtpZih0LmhhcygtMSkpaT10LmdldCgtMSlbMF07ZWxzZXt0LmZpbHRlcihmdW5jdGlvbih0LHIpe3JldHVybiFlLmhhcyhyKX0pLmZvckVhY2goZnVuY3Rpb24oZSx0KXt2YXIgbj1yLkE3KGUpO2lmKG4ubGVuZ3RoPjApcmV0dXJuIHZvaWQoaT1uWzBdKX0pfXJldHVybiBpfSxlfSgpO3Qua0o9cH0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXIoMCksbj1yKDkpLHM9cigzNCksbz1yKDI0KSxhPXIoMTApLGg9cigxNCksYz1yKDUpLHU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5ONz0hMD09PWguSGl2ZUNvbmZpZy5TdGF0cy5BdWRpb0FjY291bnRpbmcsdGhpcy5ENz1udWxsfXJldHVybiBlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKGUpe3RoaXMubG9nZ2VyPWkuRnJhbWV3b3JrLnJlc29sdmUoaS5GcmFtZXdvcmsuVi5SKS5sb2coZS5zZXNzaW9uSWQpLHRoaXMubG9nZ2VySWQ9XCJTW1wiK2Uuc2Vzc2lvbklkK1wiXVwiLHRoaXMuVWw9ZS5ybC5VbCx0aGlzLnlEPWUueUQsdGhpcy5wWCgpfSxlLnByb3RvdHlwZS5aMT1mdW5jdGlvbihlKXt0aGlzLlVsLkZMLm1ldHJpY3MubWVtTj1lLHRoaXMuVWwuaUIubWV0cmljcy5tZW1OPWV9LGUucHJvdG90eXBlLnZqPWZ1bmN0aW9uKGUsdCl7dGhpcy5VbC5GTC5tZXRyaWNzLmxvb2t1cFRvdGFsKyssdGhpcy5VbC5pQi5tZXRyaWNzLmxvb2t1cFRvdGFsKyssZT8odGhpcy5VbC5GTC5tZXRyaWNzLmxvb2t1cE5vdEZvdW5kKyssdGhpcy5VbC5pQi5tZXRyaWNzLmxvb2t1cE5vdEZvdW5kKyssdGhpcy5VbC5GTC5tZXRyaWNzLmxvb2t1cEZhaWxlZCsrLHRoaXMuVWwuaUIubWV0cmljcy5sb29rdXBGYWlsZWQrKyk6dD8odGhpcy5VbC5GTC5tZXRyaWNzLmxvb2t1cEZhaWxlZCsrLHRoaXMuVWwuaUIubWV0cmljcy5sb29rdXBGYWlsZWQrKyk6KHRoaXMuVWwuRkwubWV0cmljcy5sb29rdXBSZXFFc3RhYmxpc2hlZCsrLHRoaXMuVWwuaUIubWV0cmljcy5sb29rdXBSZXFFc3RhYmxpc2hlZCsrKX0sZS5wcm90b3R5cGUuTWo9ZnVuY3Rpb24oKXt0aGlzLlVsLkZMLm1ldHJpY3MubG9va3VwUmVxQWNjZXB0KyssdGhpcy5VbC5pQi5tZXRyaWNzLmxvb2t1cFJlcUFjY2VwdCsrfSxlLnByb3RvdHlwZS5TOD1mdW5jdGlvbihlLHQscixpLG4pe2lmKHRoaXMuTjd8fGkpe3ZhciBzPW49PW8uYmYud2YsYT10aGlzLlVsLk9CKGUpLGg9dGhpcy5VbC5BQihlKTthLnAycFN1Y2NSZXErKyxhLnAycFN1Y2NSZWNlaXZlZCs9dCxoLnAycFN1Y2NSZXErKyxoLnAycFN1Y2NSZWNlaXZlZCs9dCxzJiYoYS5wMnBTdWNjUmVjZWl2ZWRMb3crPXQsaC5wMnBTdWNjUmVjZWl2ZWRMb3crPXQpLHI+MCYmIXMmJihhLnAycFN1Y2NSZWNlaXZlZExvdys9dCxoLnAycFN1Y2NSZWNlaXZlZExvdys9dCl9fSxlLnByb3RvdHlwZS5iOD1mdW5jdGlvbihlLHQscixpLG4scyl7aWYodGhpcy5ON3x8bil7dmFyIGE9cz09by5iZi53ZixoPXRoaXMuVWwuT0IoZSksYz10aGlzLlVsLkFCKGUpO2gucDJwRmFpbFJlcSsrLGgucDJwU3VjY1JlY2VpdmVkKz10LGgucDJwRmFpbFJlY2VpdmVkKz1pLXQsYy5wMnBTdWNjUmVxKyssYy5wMnBTdWNjUmVjZWl2ZWQrPXQsYy5wMnBGYWlsUmVjZWl2ZWQrPWktdCxhJiYoaC5wMnBTdWNjUmVjZWl2ZWRMb3crPXQsYy5wMnBTdWNjUmVjZWl2ZWRMb3crPXQpLHI+MCYmIWEmJihoLnAycFN1Y2NSZWNlaXZlZExvdys9dCxjLnAycFN1Y2NSZWNlaXZlZExvdys9dCl9fSxlLnByb3RvdHlwZS5DOD1mdW5jdGlvbihlLHQscil7aWYodGhpcy5ON3x8cil7dmFyIGk9dGhpcy5VbC5PQihlKSxuPXRoaXMuVWwuQUIoZSk7aS5wMnBGYWlsUmVxKyssaS5wMnBGYWlsUmVjZWl2ZWQrPXQsbi5wMnBGYWlsUmVxKyssbi5wMnBGYWlsUmVjZWl2ZWQrPXR9fSxlLnByb3RvdHlwZS5QOD1mdW5jdGlvbihlLHQscil7aWYodGhpcy5ON3x8cil7dmFyIGk9dGhpcy5VbC5PQih0KSxuPXRoaXMuVWwuQUIodCk7aS5wMnBTdWNjUmVzcCsrLGkucDJwU3VjY1NlbnQrPWUsbi5wMnBTdWNjUmVzcCsrLG4ucDJwU3VjY1NlbnQrPWV9fSxlLnByb3RvdHlwZS5EOD1mdW5jdGlvbihlLHQscixpKXtpZih0aGlzLk43fHxpKXt2YXIgbj10aGlzLlVsLk9CKHIpLHM9dGhpcy5VbC5BQihyKTtuLnAycFBhcnRSZXNwKyssbi5wMnBTdWNjU2VudCs9ZSxuLnAycEZhaWxTZW50Kz10LWUscy5wMnBQYXJ0UmVzcCsrLHMucDJwU3VjY1NlbnQrPWUscy5wMnBGYWlsU2VudCs9dC1lfX0sZS5wcm90b3R5cGUuTzg9ZnVuY3Rpb24oZSx0LHIpe2lmKHRoaXMuTjd8fHIpe3ZhciBpPXRoaXMuVWwuT0IodCksbj10aGlzLlVsLkFCKHQpO2kucDJwRmFpbFJlc3ArKyxpLnAycEZhaWxTZW50Kz1lLG4ucDJwRmFpbFJlc3ArKyxuLnAycEZhaWxTZW50Kz1lfX0sZS5wcm90b3R5cGUuWk09ZnVuY3Rpb24oZSl7ZT90aGlzLlVsLkZMLm1ldHJpY3MuYml0cmF0ZVVwTisrOnRoaXMuVWwuRkwubWV0cmljcy5iaXRyYXRlRHduTisrfSxlLnByb3RvdHlwZS5OWD1mdW5jdGlvbihlKXtpZigtMT09W24udmMuZ2Msbi52Yy5FY10uaW5kZXhPZihlLlhmKCkpKXt2YXIgdD1lLlhmKCkhPW4udmMuZGM7aWYoKHRoaXMuTjd8fHQpJiYodGhpcy5VbC5iQigpLnJlcU4rKyx0aGlzLlVsLnhMKCkucmVxTisrLGUuWGYoKT09bi52Yy5mYykpe3ZhciByPWU7aWYoci5iaXRyYXRlKXt2YXIgaT1yLmJpdHJhdGU7dGhpcy5VbC5DQihpKS5yZXFOKyssdGhpcy5VbC5CTChpKS5yZXFOKyt9fX1lbHNlIHRoaXMuVWwuYkIoKS5yZXFPdGhlck4rKyx0aGlzLlVsLnhMKCkucmVxT3RoZXJOKyt9LGUucHJvdG90eXBlLiRYPWZ1bmN0aW9uKGUpe3ZhciB0PWUuWGYoKSE9bi52Yy5kYztpZih0aGlzLk43fHx0KXt2YXIgcj10aGlzLlVsLmJCKCksaT10aGlzLlVsLnhMKCkscz1udWxsLGE9bnVsbDtpZigtMT09W24udmMuZ2Msbi52Yy5FY10uaW5kZXhPZihlLlhmKCkpKXtpZihyLnNyY1JlcU4rKyxpLnNyY1JlcU4rKyx0KXt2YXIgaD10aGlzLms3KGUpO2gmJihzPXRoaXMuVWwuQ0IoaCksYT10aGlzLlVsLkJMKGgpLHMuc3JjUmVxTisrLGEuc3JjUmVxTisrKX1pZihlLkpmKCk9PW8uYmYuSWYmJihyLnNyY090aGVyUmVxTisrLGkuc3JjT3RoZXJSZXFOKyssdCkpe3ZhciBoPXRoaXMuazcoZSk7aCYmKHMuc3JjT3RoZXJSZXFOKyssYS5zcmNPdGhlclJlcU4rKyl9fX19LGUucHJvdG90eXBlLnQ1PWZ1bmN0aW9uKGUpe2lmKHRoaXMuVWwuYkIoKS5wMnBTdWJSZXFOKyssdGhpcy5VbC54TCgpLnAycFN1YlJlcU4rKyxlLlhmKCk9PW4udmMuZmMpe3ZhciB0PXRoaXMuazcoZSk7dCYmKHRoaXMuVWwuQ0IodCkucDJwU3ViUmVxTisrLHRoaXMuVWwuQkwodCkucDJwU3ViUmVxTisrKX19LGUucHJvdG90eXBlLkw3PWZ1bmN0aW9uKGUsdCl7dGhpcy5NNyhlLHRoaXMuVWwueEwoKSksdGhpcy5NNyhlLHRoaXMuVWwuYkIoKSk7dmFyIHI9dGhpcy5rNyhlKTtyJiZlLlhmKCk9PT1uLnZjLmZjJiYodGhpcy5NNyhlLHRoaXMuVWwuQ0IocikpLHRoaXMuTTcoZSx0aGlzLlVsLkJMKHIpKSksaXNOYU4odCl8fCh0aGlzLlVsLkZMLm1ldHJpY3Muc3JjVGhyb3VnaHB1dD10KX0sZS5wcm90b3R5cGUublo9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLlhmKCkhPW4udmMuZGM7KHRoaXMuTjd8fHIpJiYoLTEhPVtuLnZjLmdjLG4udmMuRWNdLmluZGV4T2YoZS5YZigpKT8odGhpcy5VbC5iQigpLnJlc3BGYWxsYmFja090aGVyTisrLHRoaXMuVWwueEwoKS5yZXNwRmFsbGJhY2tPdGhlck4rKyk6dGhpcy5MNyhlLHQpKX0sZS5wcm90b3R5cGUudFo9ZnVuY3Rpb24oZSx0KXtpZigtMSE9W24udmMuZ2Msbi52Yy5FY10uaW5kZXhPZihlLlhmKCkpKXRoaXMuVWwuYkIoKS5yZXNwRmFsbGJhY2tPdGhlcnRFcnJOKyssdGhpcy5VbC54TCgpLnJlc3BGYWxsYmFja090aGVydEVyck4rKztlbHNle3ZhciByPWUuWGYoKSE9bi52Yy5kYztpZih0aGlzLk43fHxyKWlmKHRoaXMuWE0oZS50eXBlKSl7aWYodGhpcy5VbC54TCgpLnJlc3BGYWxsYmFja0Vyck4rKyx0aGlzLlVsLmJCKCkucmVzcEZhbGxiYWNrRXJyTisrLHIpe3ZhciBpPXRoaXMuazcoZSk7aSYmKHRoaXMuVWwuQ0IoaSkucmVzcEZhbGxiYWNrRXJyTisrLHRoaXMuVWwuQkwoaSkucmVzcEZhbGxiYWNrRXJyTisrKX1pZigwPT1lLnFmLkRmJiYodGhpcy5VbC54TCgpLnNyY1Jlc3BFcnJOKyssdGhpcy5VbC5iQigpLnNyY1Jlc3BFcnJOKysscikpe3ZhciBpPXRoaXMuazcoZSk7aSYmZS5YZigpPT09bi52Yy5mYyYmKHRoaXMuVWwuQ0IoaSkuc3JjUmVzcEVyck4rKyx0aGlzLlVsLkJMKGkpLnNyY1Jlc3BFcnJOKyspfXRoaXMuTDcoZSx0KX1lbHNlIGlmKC0xIT1jLmhoLlhvLkpvLmluZGV4T2YoZS5LZi5zdGF0dXMpKXRoaXMuVWwuYkIoKS5mYWxsQWdlbnRGYWlsZWRSZXNwTisrLHRoaXMuVWwueEwoKS5mYWxsQWdlbnRGYWlsZWRSZXNwTisrLHRoaXMuVWwuYkIoKS5yZXFOLS0sdGhpcy5VbC54TCgpLnJlcU4tLTtlbHNle2lmKDA9PWUucWYuRGYmJih0aGlzLlVsLmJCKCkuc3JjT3RoZXJSZXNwRXJyTisrLHRoaXMuVWwueEwoKS5zcmNPdGhlclJlc3BFcnJOKyspLCFyKXt2YXIgaT10aGlzLms3KGUpO2kmJmUuWGYoKT09PW4udmMuZmMmJih0aGlzLlVsLkNCKGkpLnNyY090aGVyUmVzcEVyck4rKyx0aGlzLlVsLkJMKGkpLnNyY090aGVyUmVzcEVyck4rKyl9dGhpcy5MNyhlLHQpfX19LGUucHJvdG90eXBlLkJYPWZ1bmN0aW9uKGUsdCl7aWYodC5XcT09by5iZi53Zil0aGlzLlVsLnhMKCkucmVzcFAycE4rKyx0aGlzLlVsLmJCKCkucmVzcFAycE4rKztlbHNlIGlmKHQuV3E9PW8uYmYuSWYpdGhpcy5VbC54TCgpLnJlc3BGYWxsYmFja04rKyx0aGlzLlVsLmJCKCkucmVzcEZhbGxiYWNrTisrO2Vsc2UgaWYodC5XcT09by5iZi5UZil7dGhpcy5VbC54TCgpLmxDYWNoZVJlc3BOKyssdGhpcy5VbC5iQigpLmxDYWNoZVJlc3BOKys7dmFyIHI9aS5GcmFtZXdvcmsuQygpP3QubGVuZ3RoOmUuamYuYnl0ZUxlbmd0aDt0aGlzLlVsLnhMKCkubENhY2hlUmVzcFF0Kz1yLHRoaXMuVWwuYkIoKS5sQ2FjaGVSZXNwUXQrPXJ9fSxlLnByb3RvdHlwZS56WD1mdW5jdGlvbihlLHQpe3ZhciByPWUuWGYoKSE9bi52Yy5kYzsodGhpcy5ON3x8cikmJnRoaXMuTDcoZSx0KX0sZS5wcm90b3R5cGUuVlg9ZnVuY3Rpb24oZSl7aWYoMCE9ZS5RZil7dGhpcy5VbC5iQigpLnAycFN1YlJlc3BFcnJOKyssdGhpcy5VbC54TCgpLnAycFN1YlJlc3BFcnJOKys7aWYoZS5YZigpPT1uLnZjLmZjKXt2YXIgdD10aGlzLms3KGUpO3QmJih0aGlzLlVsLkNCKHQpLnAycFN1YlJlc3BFcnJOKyssdGhpcy5VbC5CTCh0KS5wMnBTdWJSZXNwRXJyTisrKX19fSxlLnByb3RvdHlwZS5yNT1mdW5jdGlvbihlKXtpZih0aGlzLlVsLmJCKCkucDJwU3ViUmVzcEV4cE4rKyx0aGlzLlVsLnhMKCkucDJwU3ViUmVzcEV4cE4rKyxlLlhmKCk9PW4udmMuZmMpe3ZhciB0PXRoaXMuazcoZSk7dCYmKHRoaXMuVWwuQ0IodCkucDJwU3ViUmVzcEV4cE4rKyx0aGlzLlVsLkJMKHQpLnAycFN1YlJlc3BFeHBOKyspfX0sZS5wcm90b3R5cGUuTTc9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLnFmLlBmLGk9ZS5xZi5EZixzPWUucWYuQWYsbz1lLnFmLk9mLGg9ZS5xZi5OZjtpZihlLlhmKCkhPW4udmMuZ2Mpe2lmKGUucWYuQ2YmJm8mJm88cil7dmFyIGM9by9yO3QucDJwU3ViUmVzcFBhcnROKz1jLHRoaXMuWE0oZS50eXBlKXx8KHQucDJwQWdlblRyYWZmaWNGYWlsdXJlUXQrPXItcyl9aWYoMCE9aCYmKGg9PXImJnQubENhY2hlUmVzcE4rKyx0LmxDYWNoZVJlc3BRdCs9ZS5xZi5OZiksMCE9cylpZihzPT1yJiYodGhpcy5YTShlLnR5cGUpJiZ0LnJlc3BQMnBOKyssdC5wMnBTdWJSZXNwTisrKSx0LnAycFN1YlJlcVF0Kz1yLHQucDJwU3ViUmVzcFF0Kz1zLHQucDJwQWdlblRyYWZmaWNTdWNjZXNzUXQrPWUucWYucDJwQWdlblRyYWZmaWNTdWNjZXNzUXQsdC5wMnBEaXJlY3RRdCs9cyxlLnhxLkVrLnBlZXJJbmZvLnR5cGU9PWEuVGMuVyl0LnAycFVkcGJRdCs9cyx0LnAycE5hdFF0Kz1zO2Vsc2V7dmFyIHU9dGhpcy55RC5naygpO2lmKHUmJnU+MClpZihudWxsIT1lLnFxKXt2YXIgbD1lLnFxLmludGVybmFsQXM7dT09PWwmJih0LnAycE5hdFF0Kz1zKX1lbHNlIHRoaXMubG9nZ2VyLndhcm4oXCJNaXNzaW5nIHBhcnRuZXIgaW5mb1wiKX19aWYoMCE9aSl7aWYodGhpcy5GNyhlLnR5cGUpJiYodC5zcmNPdGhlclJlcVF0Kz1lLnFmLkRmKSxpPT1yKXRoaXMuRjcoZS50eXBlKT8odC5zcmNPdGhlclJlc3BOKyssdC5zcmNPdGhlclJlc3BRdCs9ZS5xZi5EZix0LnNyY090aGVyT3ZlclF0Kz1lLnFmLkRmLHQuZmFsbEFnZW50UmVzcE4rKyk6dC5yZXNwRmFsbGJhY2tOKyssdC5zcmNSZXNwTisrO2Vsc2V7dC5zcmNSZXNwRXJyTisrO3ZhciBwPWkvKHMraSk7dC5yZXNwRmFsbGJhY2tOPXAsdC5yZXNwUDJwTj0xLXAsdGhpcy5GNyhlLnR5cGUpJiYodC5zcmNPdGhlclJlc3BFcnJOKyssdC5zcmNPdGhlclJlc3BRdCs9ZS5xZi5EZix0LnNyY090aGVyT3ZlclF0Kz1lLnFmLkRmLHQuZmFsbEFnZW5UcmFmZmljRmFpbHVyZVF0Kz1lLnFmLkRmKX10LnNyY1JlcVF0Kz1lLnFmLkRmLHQuc3JjUmVzcFF0Kz1lLnFmLkRmLHQuc3JjT3ZlclF0Kz1lLnFmLkRmLHRoaXMuRjcoZS50eXBlKSYmKHQuZmFsbEFnZW5UcmFmZmljU3VjY2Vzc1F0Kz1lLnFmLmtmKX19LGUucHJvdG90eXBlLms3PWZ1bmN0aW9uKGUpe3ZhciB0PW51bGw7aWYoZS56ZiBpbnN0YW5jZW9mIHMuTl8pe3ZhciByPWUuemY7ci5iaXRyYXRlJiYodD1yLmJpdHJhdGUpfXJldHVybiB0fSxlLnByb3RvdHlwZS5YTT1mdW5jdGlvbihlKXtyZXR1cm4gZSE9by5iZi53ZiYmZSE9by5iZi5JZn0sZS5wcm90b3R5cGUuRjc9ZnVuY3Rpb24oZSl7cmV0dXJuIXRoaXMuWE0oZSl9LGUucHJvdG90eXBlLnBYPWZ1bmN0aW9uKCl7dGhpcy5VNygpfSxlLnByb3RvdHlwZS5oWD1mdW5jdGlvbigpe2kuRnJhbWV3b3JrLmNsZWFySW50ZXJ2YWwodGhpcy5ENyksdGhpcy5ENz1udWxsfSxlLnByb3RvdHlwZS5VNz1mdW5jdGlvbigpe3ZhciBlPXRoaXM7bnVsbCE9dGhpcy5ENyYmKHRoaXMuRDc9aS5GcmFtZXdvcmsuc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtlLlVsLlpVPWUueUQuRmooKSxlLlVsLlhVPWUueUQuZ2soKSxlLlVsLklCPWUueUQuZ2V0UHVibGljSXAoKX0sYy5oaC5paC5yaCkpfSxlfSgpO3QuVEo9dX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXIoMCksbj1yKDUpLHM9cigxMCksbz1yKDE5NCksYT1yKDE0KSxoPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuQjc9ITEsdGhpcy5sb2dnZXJJZD1cIltVRFBCRGlzY292ZXJ5XSBcIix0aGlzLkg3PS0xfXJldHVybiBlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKGUpe3RoaXMubG9nZ2VyPWkuRnJhbWV3b3JrLnJlc29sdmUoaS5GcmFtZXdvcmsuVi5SKS5sb2coZS5zZXNzaW9uSWQpLHRoaXMueDc9ZS5WSix0aGlzLnlEPWUueUR9LGUucHJvdG90eXBlLkpKPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPVtdLHQ9MDt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKWVbdF09YXJndW1lbnRzW3RdO3RoaXMudmw9ZSx0aGlzLmNvbnRleHRJZD10aGlzLnlELmdldENvbnRleHRJZCgpfSxlLnByb3RvdHlwZS5zdGFydFNlcnZlcj1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5sb2dnZXIuZGVidWcodGhpcy5sb2dnZXJJZCtcIlNUQVJUIFVEUCBCUk9BRENBU1QgU0VSVkVSXCIpLHRoaXMueDcuc3RhcnRTZXJ2ZXIobi5oaC5VRFBCcm9hZGNhc3QuVWEsZnVuY3Rpb24odCxyKXtpZihlLkg3Pi0xKXt2YXIgaT1vLnE3LnlmKHIpO2lmKGkudXVpZCE9ZS5ndWlkJiZpLnN0cmVhbUlkPT1lLmNvbnRleHRJZCYmaS5wMnBQcm90b2NvbFZlcnNpb249PT1uLmhoLkhvLkRvKXtlLmxvZ2dlci5kZWJ1ZyhlLmxvZ2dlcklkK1wiSSBSRUNFSVZFRCBBIE1FU1NBR0UgRlJPTSBcIitpLnV1aWQpO3ZhciBhPW5ldyBzLmJjKHMuVGMuVyxudWxsLGkuaXNMZWFkZXIpO2EuZ3VpZD1pLnV1aWQsYS5wcml2YXRlSXBTdHJpbmc9dCxhLnJhbmtWYWx1ZT1pLnJhbmtWYWx1ZSxlLnZsLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ0coW2FdLCExKX0pfX19KX0sZS5wcm90b3R5cGUubFg9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMubG9nZ2VyLmluZm8odGhpcy5sb2dnZXJJZCtcIlNUQVJUIEJST0FEQ0FTVCBFVkVSWSBcIituLmhoLlVEUEJyb2FkY2FzdC5CYSksLTEhPXRoaXMuSDcmJmkuRnJhbWV3b3JrLmNsZWFySW50ZXJ2YWwodGhpcy5INyksdGhpcy5INz1pLkZyYW1ld29yay5zZXRJbnRlcnZhbChmdW5jdGlvbigpe2UuRzcoKX0sbi5oaC5VRFBCcm9hZGNhc3QuQmEpLHRoaXMuRzcoKX0sZS5wcm90b3R5cGUuc1g9ZnVuY3Rpb24oKXstMSE9dGhpcy5INyYmaS5GcmFtZXdvcmsuY2xlYXJJbnRlcnZhbCh0aGlzLkg3KX0sZS5wcm90b3R5cGUuRzc9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgby5xNyh0aGlzLmNvbnRleHRJZCx0aGlzLnlELmdldElkKCksdGhpcy55RC5RRygpLHRoaXMueUQuY2soKSxuLmhoLkhvLkRvKTt0aGlzLmxvZ2dlci5pbmZvKHRoaXMubG9nZ2VySWQrXCJCUk9BRENBU1QgTUVTU0FHRSBjb250ZXh0SWQgXCIrZS5zdHJlYW1JZCtcIiBpZCBcIitlLnV1aWQrXCIgdWRwc2NvcmUgXCIrZS5yYW5rVmFsdWUrXCIgbGFuIGxlYWRlciBcIitlLmlzTGVhZGVyK1wiIHByb3RvYnVmVmVyc2lvbiBcIitlLnAycFByb3RvY29sVmVyc2lvbiksYS5IaXZlQ29uZmlnLlVEUEJyb2FkY2FzdC51c2l6JiYobi5oaC5VRFBCcm9hZGNhc3QuSGE9YS5IaXZlQ29uZmlnLlVEUEJyb2FkY2FzdC51c2l6KSx0aGlzLng3LmJyb2FkY2FzdChuLmhoLlVEUEJyb2FkY2FzdC5VYSxuLmhoLlVEUEJyb2FkY2FzdC5IYSxlLnZmKCkpfSxlLnByb3RvdHlwZS5VZD1mdW5jdGlvbihlKXt0aGlzLmxvZ2dlci5pbmZvKFwiVURQRElTQ09WRVJZIFNFUlZFUiBDT05ORUNURURcIiksdGhpcy5CN3x8KHRoaXMuZ3VpZD1lLHRoaXMuc3RhcnRTZXJ2ZXIoKSx0aGlzLmxYKCkpfSxlfSgpO3QuZ0o9aH0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQscixpLG4pe3RoaXMuc3RyZWFtSWQ9ZSx0aGlzLnV1aWQ9dCx0aGlzLnJhbmtWYWx1ZT1yLHRoaXMuaXNMZWFkZXI9aSx0aGlzLnAycFByb3RvY29sVmVyc2lvbj1ufXJldHVybiBlLnByb3RvdHlwZS52Zj1mdW5jdGlvbigpe3ZhciBlPXtzdHJlYW1JZDp0aGlzLnN0cmVhbUlkLHV1aWQ6dGhpcy51dWlkLHJhbmtWYWx1ZTp0aGlzLnJhbmtWYWx1ZSxpc0xlYWRlcjp0aGlzLmlzTGVhZGVyLHAycFByb3RvY29sVmVyc2lvbjp0aGlzLnAycFByb3RvY29sVmVyc2lvbn07cmV0dXJuIEpTT04uc3RyaW5naWZ5KGUsdGhpcy5WNyl9LGUucHJvdG90eXBlLlY3PWZ1bmN0aW9uKGUsdCl7aWYobnVsbCE9PXQpcmV0dXJuIHR9LGUueWY9ZnVuY3Rpb24odCl7dmFyIHI9dCxpPUpTT04ucGFyc2Uocik7cmV0dXJuIG5ldyBlKGkuc3RyZWFtSWQsaS51dWlkLGkucmFua1ZhbHVlLGkuaXNMZWFkZXIsaS5wMnBQcm90b2NvbFZlcnNpb24pfSxlfSgpO3QucTc9aX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXIoMCksbj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLmxvZ2dlcklkPVwiW1Byb3h5VURQQl1cIix0aGlzLmxvZ2dlcj1pLkZyYW1ld29yay5yZXNvbHZlKGkuRnJhbWV3b3JrLlYuUikubG9nKCksdGhpcy54Nz13aW5kb3cubXlVZHBCcm9hZGNhc3Rlcix0aGlzLng3fHx0aGlzLmxvZ2dlci5lcnJvcih0aGlzLmxvZ2dlcklkK1wiIGhlbHBlciB1bmRlZmluZWRcIil9cmV0dXJuIGUucHJvdG90eXBlLnN0YXJ0U2VydmVyPWZ1bmN0aW9uKGUsdCl7dHJ5e3RoaXMueDcmJnRoaXMueDcuc3RhcnRTZXJ2ZXIoZSx0KX1jYXRjaChlKXt0aGlzLmxvZ2dlci53YXJuKHRoaXMubG9nZ2VySWQrZSl9fSxlLnByb3RvdHlwZS5qNz1mdW5jdGlvbigpe3RyeXt0aGlzLng3JiZ0aGlzLng3Lmo3KCl9Y2F0Y2goZSl7dGhpcy5sb2dnZXIud2Fybih0aGlzLmxvZ2dlcklkK2UpfX0sZS5wcm90b3R5cGUuYnJvYWRjYXN0PWZ1bmN0aW9uKGUsdCxyKXt0cnl7dGhpcy54NyYmdGhpcy54Ny5icm9hZGNhc3QoZSx0LHIpfWNhdGNoKGUpe3RoaXMubG9nZ2VyLndhcm4odGhpcy5sb2dnZXJJZCtlKX19LGUucHJvdG90eXBlLnNYPWZ1bmN0aW9uKCl7dHJ5e3RoaXMueDcmJnRoaXMueDcuc1goKX1jYXRjaChlKXt0aGlzLmxvZ2dlci53YXJuKHRoaXMubG9nZ2VySWQrZSl9fSxlLnByb3RvdHlwZS5RNz1mdW5jdGlvbihlLHQpe3RyeXt0aGlzLng3JiZ0aGlzLng3LlE3KGUsdCl9Y2F0Y2goZSl7dGhpcy5sb2dnZXIud2Fybih0aGlzLmxvZ2dlcklkK2UpfX0sZX0oKTt0LkVKPW59LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT10aGlzJiZ0aGlzLmh1fHxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIHIoKXt0aGlzLmNvbnN0cnVjdG9yPWV9Zm9yKHZhciBpIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShpKSYmKGVbaV09dFtpXSk7ZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KTooci5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IHIpfSxuPXIoODgpLHM9cigxOTcpLG89cig4OSksYT1yKDkwKSxoPXIoNjIpLGM9cigyNCksdT1yKDM0KSxsPXIoNCkscD1yKDEpLGQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3ZhciB0PWUuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gdC5LNy5vbmVycm9yPWZ1bmN0aW9uKGUpe3AuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJTaGFyZWQgV29ya2VyIGVycm9yXCIse2Vycm9yOmUubWVzc2FnZX0pfSx0Llk3Lm9uZXJyb3I9ZnVuY3Rpb24oZSl7cC5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIldlYiBXb3JrZXIgZXJyb3JcIix7ZXJyb3I6ZS50eXBlfSl9LHQuSzcucG9ydC5zdGFydCgpLHR9cmV0dXJuIGkodCxlKSx0LnByb3RvdHlwZS5XNz1mdW5jdGlvbigpe3ZhciBlPXRoaXM7c2V0VGltZW91dChmdW5jdGlvbigpe2UuejcoKX0sMWUzKX0sdC5wcm90b3R5cGUuejc9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuSzcucG9ydC5vbm1lc3NhZ2U9ZnVuY3Rpb24odCl7ZS5sb2dnZXIuZGVidWcoXCJMUlUgbGVuZ3RoIDogXCIrdC5kYXRhLnJlc3BvbnNlKX0sdGhpcy5sb2dnZXIuZGVidWcoXCJTZW5kIG1lc3NhZ2VcIiksdGhpcy5LNy5wb3J0LnBvc3RNZXNzYWdlKHt0eXBlOnMuWDcuSjd9KSx0aGlzLlc3KCl9LHQucHJvdG90eXBlLmNvbnRhaW5zPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1sLmRlZmVyKCk7aWYodGhpcy5rcS5oYXMoZSkpci5yZXNvbHZlKCEwKTtlbHNle3ZhciBpPSExLG49c2V0VGltZW91dChmdW5jdGlvbigpe2k9ITAsdC5sb2dnZXIuZGVidWcoXCJWT0QgQ09OVEFJTlMgVElNRURPVVQgOiBcIitlKSxyLnJlc29sdmUoITEpfSwxZTMpO3RoaXMuSzcucG9ydC5vbm1lc3NhZ2U9ZnVuY3Rpb24oZSl7Y2xlYXJUaW1lb3V0KG4pLGl8fChlLmRhdGEucmVzcG9uc2U/ci5yZXNvbHZlKCEwKTpyLnJlc29sdmUoITEpKX0sdGhpcy5LNy5vbmVycm9yPWZ1bmN0aW9uKGUpe3QubG9nZ2VyLmVycm9yKGUpfSx0aGlzLks3LnBvcnQucG9zdE1lc3NhZ2Uoe3R5cGU6cy5YNy5aNyxlZWU6ZX0pfXJldHVybiByLlNzfSx0LnByb3RvdHlwZS50ZWU9ZnVuY3Rpb24oZSl7dmFyIHQ9bC5kZWZlcigpLHI9dGhpcy5rcS5nZXQoZSk7aWYobnVsbCE9cil7dmFyIGk9bnVsbDtyLmNvbnRlbnQuZm9yRWFjaChmdW5jdGlvbihlLHQpe2lmKGguSEYuQkYodCkua0YoKSlyZXR1cm4gaT1lLGkuaGVhZGVycz1yLmhlYWRlcnMsdm9pZChpLnFxPXIucXEpfSksdC5yZXNvbHZlKGkpfWVsc2UgdC5yZXNvbHZlKG51bGwpO3JldHVybiB0LlNzfSx0LnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWwuZGVmZXIoKTtpZih0aGlzLmtxLmhhcyhlKSl0aGlzLnRlZShlKS50aGVuKGZ1bmN0aW9uKGUpe3IucmVzb2x2ZShlKX0pO2Vsc2V7dGhpcy5sb2dnZXIuZGVidWcoXCJTSEFSRURXT1JLRVI6IFBlcm1pc3Npb24gUmVxdWVzdCB0byBSRUFEXCIpO3ZhciBpPURhdGUubm93KCk7dGhpcy5yZWUocy5YNy5pZWUsaSkudGhlbihmdW5jdGlvbihuKXt0LmxvZ2dlci5kZWJ1ZyhcIlNIQVJFRFdPUktFUjogUGVybWlzc2lvbiBSZXF1ZXN0IFRvIFJFQUQgOiBcIituKSxuP3QubmVlKGUpLnRoZW4oZnVuY3Rpb24oZSl7dC5sb2dnZXIuZGVidWcoXCJTSEFSRURXT1JLRVI6ICBSZWFkIENvbXBsZXRlZCBcIiksdC5LNy5wb3J0LnBvc3RNZXNzYWdlKHt0eXBlOnMuWDcuc2VlLGlkOml9KSxyLnJlc29sdmUoZSl9KTpyLnJlc29sdmUobnVsbCl9KX1yZXR1cm4gci5Tc30sdC5wcm90b3R5cGUubmVlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1sLmRlZmVyKCksaT1udWxsLG49ITEsYT1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bj0hMCxyLnJlc29sdmUoaSl9LDFlMyk7cmV0dXJuIHRoaXMuWTcub25tZXNzYWdlPWZ1bmN0aW9uKGgpe2lmKGNsZWFyVGltZW91dChhKSwhbil7aWYoaC5kYXRhLnJlc3BvbnNlKXt2YXIgdT1uZXcgYy5IZjt1LkNmPSExLHUuX2Y9ITAsdS5QZj1oLmRhdGEuZGF0YS5sZW5ndGgsdS5BZj0wLHUuTmY9aC5kYXRhLmRhdGEubGVuZ3RoLHUuRGY9MCxpPW5ldyBvLkdxKGguZGF0YS5kYXRhLmxlbmd0aCxoLmRhdGEuZGF0YS5jb250ZW50LHUsYy5iZi5UZiksaS5oZWFkZXJzPWguZGF0YS5kYXRhLm9lZX1lbHNlIHQuSzcucG9ydC5wb3N0TWVzc2FnZSh7dHlwZTpzLlg3LmFlZSxlZWU6ZX0pO3IucmVzb2x2ZShpKX19LHRoaXMuWTcucG9zdE1lc3NhZ2Uoe3R5cGU6cy5YNy5oZWUsZWVlOmV9KSxyLlNzfSx0LnByb3RvdHlwZS5tPWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLmxvZ2dlci5kZWJ1ZyhcIkZMVVNISU5HIElOLU1FTU9SWSBDQUNIRVwiKTtmb3IodmFyIHQ9W10scj0wO3I8dGhpcy5NcS5sZW5ndGg7cisrKXRoaXMua3EuZ2V0KHRoaXMuTXFbcl0pLnpxfHx0LnB1c2godGhpcy5NcVtyXSk7dGhpcy5sb2dnZXIuZGVidWcoXCJGbHVzaCBcIit0Lmxlbmd0aCtcIiBpbiBtZW1vcnlcIiksdC5sZW5ndGg+MD90aGlzLmNlZSh0KS50aGVuKGZ1bmN0aW9uKHQpe2UudWVlKCl9KTp0aGlzLnVlZSgpfSx0LnByb3RvdHlwZS51ZWU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9MCxyPTA7dGhpcy5sb2dnZXIuZGVidWcoXCJQVVJHSU5HIFBFUlNJU1RFTlREQidzIElOLU1FTU9SWSBDQUNIRVwiKSx0aGlzLk1xLmV2ZXJ5KGZ1bmN0aW9uKGksbil7dmFyIHM9ZS5rcS5nZXQoaSkuc2l6ZSgpO3JldHVybiB0K3M+ZS5GcT8ocj1uLGUubG9nZ2VyLmRlYnVnKFwiQ0FDSEUgVE9PIEJJRyBcIisodCtzKSksITEpOih0Kz1zLCEwKX0pfHx0aGlzLk1xLnNwbGljZShyLHRoaXMuTXEubGVuZ3RoLTEpLmZvckVhY2goZnVuY3Rpb24odCl7ZS5rcS5kZWxldGUodCl9KSx0aGlzLkJxKCl9LHQucHJvdG90eXBlLmNlZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9bC5kZWZlcigpO3RoaXMubG9nZ2VyLmRlYnVnKFwiU0hBUkVEV09SS0VSOiAgUGVybWlzc2lvbiBSZXF1ZXN0IFRvIFdyaXRlIFwiKTt2YXIgaT1EYXRlLm5vdygpO3JldHVybiB0aGlzLnJlZShzLlg3LmxlZSxpKS50aGVuKGZ1bmN0aW9uKG4pe3QubG9nZ2VyLmRlYnVnKFwiU0hBUkVEV09SS0VSOiAgUGVybWlzc2lvbiBSZXF1ZXN0IFRvIFdSSVRFIDogXCIrbiksbj8odC5sb2dnZXIuZGVidWcoXCJGbHVzaCB0aGUgY29udGVudHNcIiksdC5wZWUoZSkudGhlbihmdW5jdGlvbihlKXt0LmxvZ2dlci5kZWJ1ZyhcIlNIQVJFRFdPUktFUjogIFdSSVRFIENPTVBMRVRFRFwiKSx0Lks3LnBvcnQucG9zdE1lc3NhZ2Uoe3R5cGU6cy5YNy5kZWUsaWQ6aX0pLHIucmVzb2x2ZShlKX0pKTpyLnJlc29sdmUobil9KSxyLlNzfSx0LnByb3RvdHlwZS5wZWU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWwuZGVmZXIoKTtyZXR1cm4gdGhpcy5mZWUoZVswXSkudGhlbihmdW5jdGlvbihpKXtpZihpKWUuc2hpZnQoKSwwPT1lLmxlbmd0aD9yLnJlc29sdmUoITApOnQucGVlKGUpLnRoZW4oZnVuY3Rpb24oZSl7ci5yZXNvbHZlKGUpfSk7ZWxzZXt2YXIgbj0hMSxvPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtuPSEwLGUuc2hpZnQoKSwwPT1lLmxlbmd0aD9yLnJlc29sdmUoITEpOnQucGVlKGUpLnRoZW4oZnVuY3Rpb24oZSl7ci5yZXNvbHZlKGUpfSl9LDFlMyk7dC5ZNy5vbm1lc3NhZ2U9ZnVuY3Rpb24oaSl7aS5kYXRhJiYodC5rcS5nZXQoZVswXSkuenE9ITAsdC5LNy5wb3J0LnBvc3RNZXNzYWdlKHt0eXBlOnMuWDcuZ2VlLGVlZTplWzBdLHNpemU6dC5rcS5nZXQoZVswXSkuc2l6ZSgpfSkpLGNsZWFyVGltZW91dChvKSxufHwoZS5zaGlmdCgpLDA9PWUubGVuZ3RoP2kuZGF0YT9yLnJlc29sdmUoITApOnIucmVzb2x2ZSghMSk6dC5wZWUoZSkudGhlbihmdW5jdGlvbihlKXtyLnJlc29sdmUoZSl9KSl9LHQuWTcub25lcnJvcj1mdW5jdGlvbihlKXt0LmxvZ2dlci5lcnJvcihlKX07dmFyIGE9dC5rcS5nZXQoZVswXSksYz1udWxsLHU9bnVsbDthLmNvbnRlbnQuZm9yRWFjaChmdW5jdGlvbihlLHQpe2lmKGguSEYuQkYodCkua0YoKSlyZXR1cm4gYz1lLHU9dCx2b2lkKGMuaGVhZGVycz1hLmhlYWRlcnMpfSk7dmFyIGw9e1BfOmEuemYuWmYoKSxoZWFkZXJzOmEuaGVhZGVycyxsZW5ndGg6YS5zaXplKCksRWVlOnUsY29udGVudDpjLmRhdGEsemY6YS56Zn07dC5ZNy5wb3N0TWVzc2FnZSh7dHlwZTpzLlg3LnZlZSxkYXRhOmx9KX19KSxyLlNzfSx0LnByb3RvdHlwZS5mZWU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWwuZGVmZXIoKSxpPSExLG49c2V0VGltZW91dChmdW5jdGlvbigpe2k9ITAsci5yZXNvbHZlKCExKX0sMWUzKTtyZXR1cm4gdGhpcy5LNy5wb3J0Lm9ubWVzc2FnZT1mdW5jdGlvbihzKXtjbGVhclRpbWVvdXQobiksaXx8KHQubG9nZ2VyLmRlYnVnKFwiU0hBUkVEV09SS0VSOiAgQ09OVEFJTlMgUkVRVUVTVCA6IFwiK2UrXCIgOiBcIitzLmRhdGEucmVzcG9uc2UpLHMuZGF0YS5yZXNwb25zZT9yLnJlc29sdmUoITApOnIucmVzb2x2ZSghMSkpfSx0aGlzLks3Lm9uZXJyb3I9ZnVuY3Rpb24oZSl7dC5sb2dnZXIuZXJyb3IoZSksci5yZXNvbHZlKCExKX0sdGhpcy5LNy5wb3J0LnBvc3RNZXNzYWdlKHt0eXBlOnMuWDcuWjcsZWVlOmV9KSxyLlNzfSx0LnByb3RvdHlwZS5yZWU9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLGk9bC5kZWZlcigpLG49ITEsbz1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bj0hMCxpLnJlc29sdmUoITEpfSwyZTMpO3JldHVybiB0aGlzLks3LnBvcnQub25tZXNzYWdlPWZ1bmN0aW9uKHQpe2NsZWFyVGltZW91dChvKSxuP2U9PXMuWDcuaWVlP3IuSzcucG9ydC5wb3N0TWVzc2FnZSh7dHlwZTpzLlg3LnNlZX0pOmU9PXMuWDcubGVlJiZyLks3LnBvcnQucG9zdE1lc3NhZ2Uoe3R5cGU6cy5YNy5kZWV9KTppLnJlc29sdmUodC5kYXRhLnJlc3BvbnNlKX0sdGhpcy5LNy5vbmVycm9yPWZ1bmN0aW9uKGUpe3IubG9nZ2VyLmVycm9yKGUpfSx0aGlzLks3LnBvcnQucG9zdE1lc3NhZ2Uoe3R5cGU6ZSxpZDp0fSksaS5Tc30sdC5wcm90b3R5cGUuaWs9ZnVuY3Rpb24oZSl7cmV0dXJuW119LHQucHJvdG90eXBlLlZxPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1sLmRlZmVyKCksaT1bXSxuPURhdGUubm93KCk7cmV0dXJuIHRoaXMucmVlKHMuWDcuaWVlLG4pLnRoZW4oZnVuY3Rpb24oZSl7aWYoZSl7dmFyIG89ITEsaD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bz0hMCx0Lks3LnBvcnQucG9zdE1lc3NhZ2Uoe3R5cGU6cy5YNy5zZWUsaWQ6bn0pLHIucmVzb2x2ZShpKX0sNGUzKTt0Llk3Lm9ubWVzc2FnZT1mdW5jdGlvbihlKXtpZihjbGVhclRpbWVvdXQoaCksZS5kYXRhLnJlc3BvbnNlJiZudWxsIT1lLmRhdGEpZm9yKHZhciBjPTA7YzxlLmRhdGEuZWxlbWVudHMubGVuZ3RoO2MrKyl7dmFyIGw9bmV3IHUuTl8oZS5kYXRhLmVsZW1lbnRzW2NdLnVybCxlLmRhdGEuZWxlbWVudHNbY10uYl8sZS5kYXRhLmVsZW1lbnRzW2NdLndfLGUuZGF0YS5lbGVtZW50c1tjXS5DXyxlLmRhdGEuZWxlbWVudHNbY10uZHVyYXRpb24sZS5kYXRhLmVsZW1lbnRzW2NdLmJpdHJhdGUsZS5kYXRhLmVsZW1lbnRzW2NdLl9fKSxwPW5ldyBhLkhxKGwpO3AuaGVhZGVycz1lLmRhdGEuZWxlbWVudHNbY10ub2VlLHAudG90YWxTaXplPWUuZGF0YS5lbGVtZW50c1tjXS5sZW5ndGgsaS5wdXNoKHApfXQuSzcucG9ydC5wb3N0TWVzc2FnZSh7dHlwZTpzLlg3LnNlZSxpZDpufSksb3x8ci5yZXNvbHZlKGkpfSx0Llk3Lm9uZXJyb3I9ZnVuY3Rpb24oZSl7cC5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkdFVCBFTEVNRU5UUyBFUlJPUlwiLHtlcnJvcjplfSksdC5LNy5wb3J0LnBvc3RNZXNzYWdlKHt0eXBlOnMuWDcuc2VlLGlkOm59KX0sdC5ZNy5wb3N0TWVzc2FnZSh7dHlwZTpzLlg3LnllZX0pfX0pLHIucmVzb2x2ZShudWxsKSxyLlNzfSx0fShuLllxKTt0LnZKPWR9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGV9KCk7aS5sZWU9XCJ3cml0ZV9yZXF1ZXN0XCIsaS5aNz1cImNvbnRhaW5zX3JlcXVlc3RcIixpLmdlZT1cIndyaXRlX2lkX29wZXJhdGlvblwiLGkuaWVlPVwicmVhZF9yZXF1ZXN0XCIsaS5zZWU9XCJyZWFkX2NvbXBsZXRlZFwiLGkuZGVlPVwid3JpdGVfY29tcGxldGVkXCIsaS5hZWU9XCJ1cGRhdGVfbHJ1XCIsaS5KNz1cImxydV9zdGF0c1wiLGkuaGVlPVwicmVhZF9vcGVyYXRpb25cIixpLnllZT1cInJlYWRfZWxlbWVudHNfb3BlcmF0aW9uXCIsaS5UZWU9XCJyZWFkX2tleXNfb3BlcmF0aW9uXCIsaS52ZWU9XCJ3cml0ZV9vcGVyYXRpb25cIix0Llg3PWl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT10aGlzJiZ0aGlzLmh1fHxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIHIoKXt0aGlzLmNvbnN0cnVjdG9yPWV9Zm9yKHZhciBpIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShpKSYmKGVbaV09dFtpXSk7ZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KTooci5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IHIpfSxuPXIoMjApOyFmdW5jdGlvbihlKXshZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3ZhciB0PW51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gdC5taW5WZXJzaW9uPVwiMy4wLjBcIix0LnJlbmRlclN0YXRzQ2FsbGJhY2s9dm9pZCAwLHR9cmV0dXJuIGkodCxlKSx0fShuLkhpdmVDb21tLk9wdGlvbnMuVHApO2Uubko9dH0oZS5PcHRpb25zfHwoZS5PcHRpb25zPXt9KSl9KHQuSGl2ZUNvbW18fCh0LkhpdmVDb21tPXt9KSl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1yKDQpLG49cigxOCkscz1yKDIxKSxvPXIoMjAwKSxhPXIoMjYpLGg9YS5IaXZlQ29tbS5IaXZlVGVjaEVycm9yLGM9YS5IaXZlQ29tbS52RSx1PXIoNzApLGw9cigxOSkscD1yKDIyKSxkPXIoNDYpLGY9cig1MyksZz1yKDE0KSxFPXIoMSksdj1yKDU2KSx5PXIoMzIpLFQ9cig3MiksbT1yKDI5KSxJPShyKDQ0KSxuYXZpZ2F0b3IpLFM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxyKXt0aGlzLmxvZ2dlcklkPVwiW0hpdmVKc1Byb3h5XVwiLHRoaXMubWVlPTAsdGhpcy5nTD1lLHRoaXMub3B0aW9uc189bmV3IG8uSGl2ZUNvbW0uT3B0aW9ucy5JZWUsdGhpcy5TZWUodCksdGhpcy55TCgpLHRoaXMuVVE9cn1yZXR1cm4gZS5wcm90b3R5cGUuZ2V0TmFtZT1mdW5jdGlvbigpe3JldHVybiBlLkVMfSxlLnByb3RvdHlwZS5nZXRWZXJzaW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmVyc2lvbn0sZS5wcm90b3R5cGUudkw9ZnVuY3Rpb24oKXtyZXR1cm4hMX0sZS5wcm90b3R5cGUueUw9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2lmKG51bGw9PXRoaXMuUmVlfHxEYXRlLm5vdygpLXRoaXMubWVlPjFlNCl7dmFyIHQ9XCIvL1wiK3UudEwuZE8rXCI6XCIrdS50TC5yTCtcIi92ZXJzaW9uLmpzb25cIjt0aGlzLlJlZT1zLmJwKHQpLnRoZW4oZnVuY3Rpb24odCl7dmFyIHI9SlNPTi5wYXJzZSh0KTtyZXR1cm4gZS5zdGF0ZT1yLnN0YXRlLGUudmVyc2lvbj1yLnZlcnNpb24sXCJyZWFkeVwiPT09ZS5zdGF0ZT9cInJlYWR5XCI6KGUubG9nZ2VyKCkud2FybihlLmlkKCkrXCJDbGllbnQgbm90IHJlYWR5OiBcIitlLnN0YXRlKSxpLnJlamVjdChuZXcgaChjLnBFLFwic3RhdGUgXCIrZS5zdGF0ZSkpKX0sZnVuY3Rpb24odCl7dmFyIHI9XCJDbGllbnQgbm90IHJlYWNoYWJsZVwiO3JldHVybiB2b2lkIDAhPXQmJnZvaWQgMCE9dC5zdGF0dXMmJi0xIT10LnN0YXR1cyYmKHI9XCJDbGllbnQgY2hlY2sgcmV0dXJuZWQgXCIrdC5zdGF0dXMpLGUubG9nZ2VyKCkud2FybihlLmlkKCkrciksaS5yZWplY3QobmV3IGgoYy5wRSxyKSl9KS5jYXRjaChmdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGg/aS5yZWplY3QoZSk6aS5yZWplY3QobmV3IGgoYy5wRSxcImVycm9yIHBhcnNpbmcgcmVzcG9uc2VcIikpfSksdGhpcy5tZWU9RGF0ZS5ub3coKX1yZXR1cm4gdGhpcy5SZWV9LGUucHJvdG90eXBlLmluaXRTZXNzaW9uPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztyZXR1cm4gdGhpcy55TCgpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gci5yZXNvbHZlVGlja2V0UHJvbWlzZShlKS50aGVuKGZ1bmN0aW9uKHQpe3ZhciBpPXIuVEwoZSx0KTtpZihudWxsIT1pKXJldHVybiBULiR1LnJlZ2lzdGVyQ29tbShyLmdMLGkuaWQpLFQuJHUucmVnaXN0ZXJUZWNoKHIsaS5pZCksbi5IaXZlUmVxdWVzdEZhY3RvcnkucmVnaXN0ZXJUZWNoKGkuaWQsci5nZXROYW1lKCkpLGk7dGhyb3cgbmV3IGgoYy5zRSxcImVycm9yIGdlbmVyYXRpbmcgc2Vzc2lvblwiKX0pfSkuY2F0Y2goZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBoP2kucmVqZWN0KGUpOmkucmVqZWN0KG5ldyBoKGMuc0UsXCJnZW5lcmljIGVycm9yIHJlc29sdmluZyB0aWNrZXRcIikpfSl9LGUucHJvdG90eXBlLm9MPWZ1bmN0aW9uKGUpe3RoaXMub0o9ZX0sZS5wcm90b3R5cGUubUw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcHRpb25zXy5pbml0VGltZW91dH0sZS5wcm90b3R5cGUuaXNBY3RpdmU9ZnVuY3Rpb24oZSx0KXt2YXIgcj10Lm1hbmlmZXN0LnRvTG93ZXJDYXNlKCksaT1lLnRvTG93ZXJDYXNlKCksbj1yLmluZGV4T2YoXCIuaXNtL21hbmlmZXN0XCIpO2lmKG4+LTEpe3ZhciBzPXIuc3Vic3RyaW5nKDAsbik7aWYoaS5pbmRleE9mKHMpPi0xKXJldHVybiBpLmluZGV4T2YoXCIuaXNtL21hbmlmZXN0KGZvcm1hdD1tcGQtdGltZS1jc2YpXCIpPi0xP3RoaXMub0o/KHQudGlja2V0LlNvdXJjZVVSTD1lLCEwKTp0aGlzLmFKKHQsXCJUaGUgcGxheWVyIGRvZXMgbm90IHVzZSBIaXZlUmVxdWVzdCwgZG93bmdyYWRpbmcgdG8gU3RhdHNKU1wiKTp0aGlzLmFKKHQsXCJQcm90b2NvbCBub3Qgc3VwcG9ydGVkIGJ5IEhpdmVKc1Byb3h5IHRlY2gsIGRvd25ncmFkaW5nIHRvIFN0YXRzSlNcIil9ZWxzZSBpZihpPT09cilyZXR1cm4hIXRoaXMub0p8fHRoaXMuYUoodCxcIlRoZSBwbGF5ZXIgZG9lcyBub3QgdXNlIEhpdmVSZXF1ZXN0LCBkb3duZ3JhZGluZyB0byBTdGF0c0pTXCIpO3JldHVybiExfSxlLnByb3RvdHlwZS5hSj1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7cmV0dXJuIGUudGVjaD10aGlzLlVRLHkuSGl2ZS5SZXBvcnRpbmcoKS5pbml0U2Vzc2lvbihlLnRpY2tldC50aWNrZXRVcmwsITEpLnRoZW4oZnVuY3Rpb24odCl7ZS5obCh0KTt0LnRpY2tldDtyLmxvZ2dlcigpLmRlYnVnKFwiW0hpdmVKU1Byb3h5XSBkb3duZ3JhZGUgdmVyaWZpZWQgdGlja2V0IFwiK2UudGlja2V0LnRpY2tldFVybCksci5nTC51cGRhdGVQbGF5ZXJJbmZvKHQpfSkuZmFpbChmdW5jdGlvbihlKXtFLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXJyb3IgaW5pdGlhbGl6aW5nIHNlc3Npb24gd2hlbiBkb3duZ3JhZGluZyBzZXNzaW9uIHRlY2hcIixyLmxvZ2dlcklkLHtlcnJvcjplfSl9KSx0aGlzLm9KJiZ0aGlzLm9KLmRVKCksdGhpcy5vSj12b2lkIDAsbi5IaXZlUmVxdWVzdEZhY3RvcnkucmVnaXN0ZXJUZWNoKGUuaWQsdi5TdGF0c0pTLkVMKSx0aGlzLmdMLmxvZ2dlcigpLndhcm4oXCJbSGl2ZUpzUHJveHldIFwiK3QpLHRoaXMub25FcnJvcihuZXcgaChjLmZFLHQpKSwhMH0sZS5wcm90b3R5cGUub2w9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3RoaXMubG9nZ2VyKCkuZGVidWcodGhpcy5pZCgpK1wiU3RvcHBpbmcgc2Vzc2lvbiBcIitlLmlkK1wiIFtvblVubG9hZDpcIit0K1wiXVwiKTt2YXIgaT1cIi8vXCIrdS50TC5kTytcIjpcIit1LnRMLnJMK1wiL3Byb3h5L1wiK2UuaWQrXCIvc3RvcFwiO3QmJkkuc2VuZEJlYWNvbj8oSS5zZW5kQmVhY29uKGkpLHRoaXMubG9nZ2VyKCkuZGVidWcodGhpcy5pZCgpK1wic2Vzc2lvbiBzdG9wcGVkIFtcIitlLmlkK1wiXVtiZWFjb25dXCIpKTpzLmJwKGksbnVsbCwhdCkudGhlbihmdW5jdGlvbigpe3IubG9nZ2VyKCkuZGVidWcoci5pZCgpK1wic2Vzc2lvbiBzdG9wcGVkIFtcIitlLmlkK1wiXVwiKyh0P1wiW3N5bmNdXCI6XCJcIikpfSxmdW5jdGlvbihpKXtyLmxvZ2dlcigpLndhcm4oci5pZCgpK1wic2Vzc2lvbiBjbG9zZSBlcnJvciBbXCIrZS5pZCtcIl1cIisodD9cIltzeW5jXVwiOlwiXCIpLGkpfSl9LGUucHJvdG90eXBlLm5sPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dD9sLk1sLklETEU6bC5NbC5MbDt0aGlzLmxvZ2dlcigpLmRlYnVnKHRoaXMuaWQoKStcImlkbGUgc3RhdGU6IFwiK2wuTWxbcl0pfSxlLnByb3RvdHlwZS5TTD1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsbj1cInBsYXlpbmctcG9pbnQ9XCIrdC5QbDtuKz1cIiZidWZmZXItbGVuZ3RoPVwiK3QuQWwsbis9XCImdG90YWwtYnVmZmVyaW5nPVwiK3QuT2wsbis9XCImd2lkdGg9XCIrdC53aWR0aCxuKz1cIiZoZWlnaHQ9XCIrdC5oZWlnaHQsbis9XCImZnVsbHNjcmVlbj1cIit0LllRO3ZhciBvPVwiLy9cIit1LnRMLmRPK1wiOlwiK3UudEwuckwrXCIvcHJveHkvXCIrZS5pZCtcIi9zdGF0cy9wdXQ/XCIrbjtyZXR1cm4gcy5icChvKS5mYWlsKGZ1bmN0aW9uKGUpe3JldHVybiByLmxvZ2dlcigpLndhcm4oci5pZCgpK1wiZXJyb3Igc2VuZGluZyBmZWVkYmFjayB0byBIaXZlIENsaWVudFwiLGUpLGkucmVqZWN0KGUpfSl9LGUucHJvdG90eXBlLkNMPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10aGlzLG89XCIvL1wiK3UudEwuZE8rXCI6XCIrdS50TC5yTCtcIi9wcm94eS9cIitlLmlkK1wiL2V2ZW50P3R5cGU9XCIrdDtpZih2b2lkIDAhPXIpZm9yKHZhciBhIGluIHIpbys9XCImXCIrYStcIj1cIityW2FdO3JldHVybiB0aGlzLmxvZ2dlcigpLmRlYnVnKHRoaXMuaWQoKStcImV2ZW50IFwiK3AuR2wuWXBbdF0sdm9pZCAwIT1yP3I6XCJcIikscy5icChvKS5mYWlsKGZ1bmN0aW9uKGUpe3JldHVybiBuLmxvZ2dlcigpLndhcm4obi5pZCgpK1wiZXJyb3Igc2VuZGluZyBmZWVkYmFjayBldmVudCB0byBIaXZlIENsaWVudFwiLGUpLGkucmVqZWN0KGUpfSl9LGUucHJvdG90eXBlLmJkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGkucmVzb2x2ZSghMCl9LGUucHJvdG90eXBlLm9uRXJyb3I9ZnVuY3Rpb24oZSl7dmFyIHQ9ITA7aWYodm9pZCAwIT10aGlzLm9wdGlvbnNfLm9uRXJyb3IpdHJ5e3Q9dGhpcy5vcHRpb25zXy5vbkVycm9yKGUpfWNhdGNoKGUpe0UuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJleGNlcHRpb24gaW4gdXNlci1kZWZpbmVkIG9uRXJyb3IgY2FsbGJhY2tcIix0aGlzLmlkKCksZSl9cmV0dXJuIHR9LGUucHJvdG90eXBlLm9uQWN0aXZlU2Vzc2lvbj1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmdMLmdldFBsYXllclNvdXJjZSgpOzA9PT10LmluZGV4T2YoXCIvL1wiKSYmKHQ9bG9jYXRpb24ucHJvdG9jb2wrdCk7dmFyIHI9cy5JcCh1LnRMLmNVLHUudEwuZE8sdS50TC5yTCxlLmlkLHQpO2lmKGUuYXV0aGVudGljYXRpb25Ub2tlbiYmdGhpcy52ZXJzaW9uPj1cIjMuMC4xXCI/cy5fcChyLEpTT04uc3RyaW5naWZ5KHthdXRoZW50aWNhdGlvblRva2VuOmUuYXV0aGVudGljYXRpb25Ub2tlbn0pKTpzLmJwKHIpLHRoaXMudXBkYXRlUGxheWVySW5mbyhlKSxmLlp1Lm1lKHRoaXMubG9nZ2VyKCkpLHRoaXMub0omJnRoaXMub0ouZlUoKSx0aGlzLndlZShlKSx2b2lkIDAhPXRoaXMub3B0aW9uc18ub25BY3RpdmVTZXNzaW9uKXRyeXt0aGlzLm9wdGlvbnNfLm9uQWN0aXZlU2Vzc2lvbihlLnRvSGl2ZVNlc3Npb24oKSl9Y2F0Y2goZSl7RS5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcImV4Y2VwdGlvbiBpbiB1c2VyLWRlZmluZWQgb25BY3RpdmVTZXNzaW9uIGNhbGxiYWNrXCIsdGhpcy5pZCgpLGUpfX0sZS5wcm90b3R5cGUuREw9ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLmtMPWZ1bmN0aW9uKCl7fSxlLnByb3RvdHlwZS5MTD1mdW5jdGlvbihlKXt0aGlzLmdMPWV9LGUucHJvdG90eXBlLmlkPWZ1bmN0aW9uKCl7cmV0dXJuXCJbXCIrZS5FTCtcIl0gXCJ9LGUucHJvdG90eXBlLlNlZT1mdW5jdGlvbih0KXt2b2lkIDAhPXRbZS5FTF0mJnMuU3AodFtlLkVMXSx0aGlzLm9wdGlvbnNfKX0sZS5wcm90b3R5cGUucmVzb2x2ZVRpY2tldFByb21pc2U9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0aGlzLmxvZ2dlcigpLmRlYnVnKHRoaXMuaWQoKStcInJlc29sdmluZyB0aWNrZXQ6IFwiK2UpO3ZhciByPXRoaXMuYmVlKGUpLG49SlNPTi5zdHJpbmdpZnkodGhpcy5DZWUoKSksbz1udWxsO3JldHVybiB0aGlzLmdMLm9wdGlvbnMoKS50ZXN0SWQmJihhPXt9LGFbbS5MLmNSXT10aGlzLmdMLm9wdGlvbnMoKS50ZXN0SWQsbz1hKSx0aGlzLmxvZ2dlcigpLmRlYnVnKFwiTXkgaGVhZGVyIFwiLG8pLHMuX3AocixuLFwiYXBwbGljYXRpb24vanNvblwiLG8pLnRoZW4oZnVuY3Rpb24ocil7dmFyIGk9SlNPTi5wYXJzZShyKTtyZXR1cm4gdC5sb2dnZXIoKS5kZWJ1Zyh0LmlkKCkrXCJyZXNvbHZlZCB0aWNrZXQgXCIrZStcIiAtPiBcIitpLm1hbmlmZXN0KSxpfSxmdW5jdGlvbihyKXtyZXR1cm4gdC5sb2dnZXIoKS53YXJuKHQuaWQoKStcInRpY2tldCBcIitlK1wiIHJlc29sdmUgZXJyb3I6IFwiLHIpLGkucmVqZWN0KG5ldyBoKGMuc0UscikpfSkuY2F0Y2goZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBoP2kucmVqZWN0KGUpOmkucmVqZWN0KG5ldyBoKGMuZEUsZSkpfSk7dmFyIGF9LGUucHJvdG90eXBlLmJlZT1mdW5jdGlvbihlKXtyZXR1cm4gZT1lbmNvZGVVUklDb21wb25lbnQoZSkscy5JcCh1LnRMLmZPLHUudEwuZE8sdS50TC5yTCxlLFwiJlwiLHRoaXMuZ0wuZ2V0UGx1Z2luSWQoKSl9LGUucHJvdG90eXBlLlRMPWZ1bmN0aW9uKGUsdCl7dmFyIHI9bmV3IGQuQk47ci5STihlKTt2YXIgaT1uZXcgbi5jbChlLHIsdC5tYW5pZmVzdCxudWxsKTtyZXR1cm4gaS5NTD0hMCxpLmlkPXQuc2Vzc2lvbklkLGkudGlja2V0LnNlc3Npb25JZD1pLmlkLGl9LGUucHJvdG90eXBlLkNlZT1mdW5jdGlvbigpe3ZhciBlPXt9O2UuSGl2ZUNvbmZpZz17fTtmb3IodmFyIHQgaW4gd2luZG93LkhpdmVDb25maWcpe2UuSGl2ZUNvbmZpZ1t0XT17fTtmb3IodmFyIHIgaW4gd2luZG93LkhpdmVDb25maWdbdF0pZS5IaXZlQ29uZmlnW3RdW3JdPXdpbmRvdy5IaXZlQ29uZmlnW3RdW3JdfXJldHVybiBlfSxlLnByb3RvdHlwZS53ZWU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZih2b2lkIDAhPT1nLkhpdmVDb25maWcuU3RhdHMucmVuZGVyKXt2YXIgcj1cIi8vXCIrdS50TC5kTytcIjpcIit1LnRMLnJMK1wiL3Byb3h5L1wiK2UuaWQrXCIvc3RhdHMvZ2V0XCI7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIEV2ZW50U291cmNlKXt2YXIgaT1uZXcgRXZlbnRTb3VyY2Uocik7aS5vbm1lc3NhZ2U9ZnVuY3Rpb24oZSl7dC5fZWUoZS5kYXRhKX0saS5vbmVycm9yPWZ1bmN0aW9uKGUpe2kuY2xvc2UoKX19ZWxzZSB0aGlzLlBlZT13aW5kb3cuc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtzLmJwKHIpLnRoZW4oZnVuY3Rpb24oZSl7dC5fZWUoZSl9KX0sNGUzKX19LGUucHJvdG90eXBlLnVwZGF0ZVBsYXllckluZm89ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPVwiY29tbS12ZXJzaW9uPVwiK3RoaXMuZ0wuZ2V0Q29tbVZlcnNpb24oKTtyKz1cIiZwbHVnaW4tbmFtZT1cIit0aGlzLmdMLmdldFBsdWdpbk5hbWUoKSxyKz1cIiZwbHVnaW4tdmVyc2lvbj1cIit0aGlzLmdMLmdldFBsdWdpblZlcnNpb24oKSxyKz1cIiZwbGF5ZXItdGVjaD1cIit0aGlzLmdMLmdldFBsYXllclRlY2goKSxyKz1cIiZwbGF5ZXItdmVyc2lvbj1cIit0aGlzLmdMLmdldFBsYXllclZlcnNpb24oKSx0aGlzLmdMLmdldFRlbGVtZXRyeUlkKCkmJihyKz1cIiZ0ZWxlbWV0cnktaWQ9XCIrdGhpcy5nTC5nZXRUZWxlbWV0cnlJZCgpKTt2YXIgbj1zLklwKHUudEwudVUsdS50TC5kTyx1LnRMLnJMLGUuaWQscik7cmV0dXJuIHMuYnAobikuZmFpbChmdW5jdGlvbihlKXtyZXR1cm4gdC5sb2dnZXIoKS5kZWJ1Zyh0LmlkKCkrXCJlcnJvciBzZW5kaW5nIHBsYXllciBJbmZvIHRvIEhpdmUgQ2xpZW50XCIsZSksaS5yZWplY3QoZSl9KX0sZS5wcm90b3R5cGUuX2VlPWZ1bmN0aW9uKGUpe3RyeXt2YXIgdD1KU09OLnBhcnNlKGUpO2Zvcih2YXIgciBpbiB0KXQuaGFzT3duUHJvcGVydHkocikmJih0W3JdLmh1bWFuPWZ1bmN0aW9uKGUpe3JldHVybiBlPjFlNj8oZS8xZTYpLnRvRml4ZWQoMikrXCJNQlwiOmU+MWUzPyhlLzFlMykudG9GaXhlZCgyKStcIktCXCI6ZStcIkJcIn0pO2cuSGl2ZUNvbmZpZy5TdGF0cy5yZW5kZXIodCl9Y2F0Y2goZSl7Y29uc29sZS50cmFjZShlKX19LGUucHJvdG90eXBlLmxvZ2dlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdMLmxvZ2dlcigpfSxlfSgpO1MuRUw9XCJIaXZlSnNQcm94eVwiLHQuSGl2ZUpzUHJveHk9U30sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXRoaXMmJnRoaXMuaHV8fGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gcigpe3RoaXMuY29uc3RydWN0b3I9ZX1mb3IodmFyIGkgaW4gdCl0Lmhhc093blByb3BlcnR5KGkpJiYoZVtpXT10W2ldKTtlLnByb3RvdHlwZT1udWxsPT09dD9PYmplY3QuY3JlYXRlKHQpOihyLnByb3RvdHlwZT10LnByb3RvdHlwZSxuZXcgcil9LG49cigyMCk7IWZ1bmN0aW9uKGUpeyFmdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7dmFyIHQ9bnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiB0Lm1pblZlcnNpb249XCIzLjMuMFwiLHR9cmV0dXJuIGkodCxlKSx0fShuLkhpdmVDb21tLk9wdGlvbnMuVHApO2UuSWVlPXR9KGUuT3B0aW9uc3x8KGUuT3B0aW9ucz17fSkpfSh0LkhpdmVDb21tfHwodC5IaXZlQ29tbT17fSkpfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9dGhpcyYmdGhpcy5odXx8ZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiByKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfWZvcih2YXIgaSBpbiB0KXQuaGFzT3duUHJvcGVydHkoaSkmJihlW2ldPXRbaV0pO2UucHJvdG90eXBlPW51bGw9PT10P09iamVjdC5jcmVhdGUodCk6KHIucHJvdG90eXBlPXQucHJvdG90eXBlLG5ldyByKX0sbj1yKDQpLHM9cigxOCksbz1yKDIxKSxhPXIoMjApLGg9cigyMDIpLGM9cigyNiksdT1yKDQyKSxsPXIoMjkpLHA9cigxOSksZD1yKDIyKSxmPXIoNDYpLGc9cigxKSxFPWguSGl2ZUNvbW0uT3B0aW9ucyx2PWEuSGl2ZUNvbW0uT3B0aW9ucy5tcCx5PWMuSGl2ZUNvbW0uSGl2ZVRlY2hFcnJvcixUPWMuSGl2ZUNvbW0udkUsbT1yKDQ0KTt0LkFlZT1uYXZpZ2F0b3I7dmFyIEk9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIGkodCxlKSx0fShzLmNsKSxTPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe3RoaXMubWVlPTAsdGhpcy5nTD1lLHRoaXMub3B0aW9uc189bmV3IEUuT2VlLHRoaXMuU2VlKHQpLG8uUnAod2luZG93LmxvY2F0aW9uLmhyZWYsbmV3IHYsdGhpcy5vcHRpb25zXyl9cmV0dXJuIGUucHJvdG90eXBlLmdldE5hbWU9ZnVuY3Rpb24oKXtyZXR1cm4gZS5FTH0sZS5wcm90b3R5cGUuZ2V0VmVyc2lvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnZlcnNpb259LGUucHJvdG90eXBlLnZMPWZ1bmN0aW9uKCl7cmV0dXJuITF9LGUucHJvdG90eXBlLnlMPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztpZihudWxsPT10aGlzLlJlZXx8RGF0ZS5ub3coKS10aGlzLm1lZT4xZTQpe3ZhciB0PW5ldyBtO3QuQWQobmF2aWdhdG9yLnVzZXJBZ2VudCk7dmFyIHI9dC5qTygpO2lmKFwiSUVcIj09PXIubmFtZSYmci52ZXJzaW9uJiZwYXJzZUludChyLnZlcnNpb24pPDEwKXJldHVybiBuLnJlamVjdChuZXcgeShULnBFLFwiSW50ZXJuZXQgRXhwbG9yZXIgPCB2LjEwIG5vdCBzdXBwb3J0ZWRcIikpO3RoaXMuTmVlPURhdGUubm93KCksdGhpcy5EZWU9MDt2YXIgaT1cIi8vXCIrdS5mcC5kTytcIjpcIit0aGlzLmdMLm9wdGlvbnMoKS5tb25pdG9yUG9ydCtcIi92ZXJzaW9uLmpzb25cIjt0aGlzLmxvZ2dlcigpLmRlYnVnKHRoaXMuaWQoKStcInZlcmlmeWluZyBIaXZlIENsaWVudCB2ZXJzaW9uXCIpLHRoaXMuUmVlPW8uYnAoaSkudGhlbihmdW5jdGlvbih0KXt2YXIgcj1KU09OLnBhcnNlKHQpO3JldHVybiBlLnN0YXRlPXIuc3RhdGUsZS52ZXJzaW9uPXIudmVyc2lvbixcInJlYWR5XCI9PT1lLnN0YXRlP1wiZGV2ZWxvcGVyXCI9PT1lLnZlcnNpb258fGUudmVyc2lvbj49ZS5vcHRpb25zXy5taW5WZXJzaW9uPyhlLkRlZT1EYXRlLm5vdygpLGUubG9nZ2VyKCkuZGVidWcoZS5pZCgpK1wiSGl2ZSBDbGllbnQgcmVhZHkgLSB2ZXJzaW9uIFwiK2UudmVyc2lvbitcIiBbXCIrKGUuRGVlLWUuTmVlKStcIl1cIiksXCJyZWFkeVwiKTooZy5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIkNsaWVudCB2ZXJzaW9uIHJlcXVpcmVtZW50IG5vdCBzYXRpc2ZpZWRcIixlLmlkKCkse3ZlcnNpb246ZS52ZXJzaW9uLG1pblZlcnNpb246ZS5vcHRpb25zXy5taW5WZXJzaW9ufSksZS5nTC5hZGRUZWNoRXZlbnQobmV3IGQuR2wubGYobnVsbCxkLkdsLnRkLkpwKSksbi5yZWplY3QobmV3IHkoVC5nRSxcInZlcnNpb24gXCIrZS52ZXJzaW9uKSkpOihnLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiQ2Fubm90IGNoZWNrIHZlcnNpb246IGNsaWVudCBzdGF0ZSBub3QgcmVhZHlcIixlLmlkKCkse3N0YXRlOmUuc3RhdGV9KSxlLmdMLmFkZFRlY2hFdmVudChuZXcgZC5HbC5sZihudWxsLGQuR2wudGQuenApKSxuLnJlamVjdChuZXcgeShULnBFLFwic3RhdGUgXCIrZS5zdGF0ZSkpKX0sZnVuY3Rpb24odCl7dmFyIHI9XCJDbGllbnQgbm90IHJlYWNoYWJsZVwiO3JldHVybiB2b2lkIDAhPXQmJnZvaWQgMCE9dC5zdGF0dXMmJi0xIT10LnN0YXR1cyYmKHI9XCJDbGllbnQgY2hlY2sgcmV0dXJuZWQgZXJyb3JcIiksZy5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihyLGUuaWQoKSx2b2lkIDAhPXQmJnZvaWQgMCE9dC5zdGF0dXMmJi0xIT10LnN0YXR1cz97c3RhdHVzOnQuc3RhdHVzfTp2b2lkIDApLGUuZ0wuYWRkVGVjaEV2ZW50KG5ldyBkLkdsLmxmKG51bGwsZC5HbC50ZC5XcCkpLG4ucmVqZWN0KG5ldyB5KFQucEUscikpfSkuY2F0Y2goZnVuY3Rpb24odCl7aWYodCBpbnN0YW5jZW9mIHkpcmV0dXJuIG4ucmVqZWN0KHQpO3ZhciByPVwiRXJyb3IgZmV0Y2hpbmcgSGl2ZSBDbGllbnQgdmVyc2lvblwiO3JldHVybiBnLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKHIsZS5pZCgpLHQpLG4ucmVqZWN0KG5ldyB5KFQucEUscikpfSksdGhpcy5tZWU9RGF0ZS5ub3coKX1yZXR1cm4gdGhpcy5SZWV9LGUucHJvdG90eXBlLmluaXRTZXNzaW9uPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztyZXR1cm4gdGhpcy5vcHRpb25zXy5taW5WZXJzaW9uIT11LmZwLnZPfHx0aGlzLmdMLm9wdGlvbnMoKS50ZXN0SWQ/dGhpcy55TCgpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gci5rZWUoZSkuY2F0Y2goZnVuY3Rpb24oZSl7cmV0dXJuIG4ucmVqZWN0KGUpfSl9KTp0aGlzLmtlZShlKS5jYXRjaChmdW5jdGlvbihlKXtyZXR1cm4gbi5yZWplY3QoZSl9KX0sZS5wcm90b3R5cGUubUw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcHRpb25zXy5pbml0VGltZW91dH0sZS5wcm90b3R5cGUuaXNBY3RpdmU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5pbmRleE9mKHQuTGVlKT4tMX0sZS5wcm90b3R5cGUub2w9ZnVuY3Rpb24oZSxyKXt2YXIgaT10aGlzO3RoaXMubG9nZ2VyKCkuZGVidWcodGhpcy5pZCgpK1wiU3RvcHBpbmcgc2Vzc2lvbiBcIitlLmlkK1wiIFtjb21wbGV0ZSBjbG9zZTpcIityK1wiXVwiKTt2YXIgbj1cIi8vXCIrdS5mcC5kTytcIjpcIit0aGlzLmdMLm9wdGlvbnMoKS5wbGF5ZXJQb3J0K1wiL3Nlc3Npb24/YWN0aW9uPXN0b3BcIjtuKz1cIiZjdXJyZW50U2Vzc2lvbj1cIitlLmlkLHImJihuKz1cIiZjb21wbGV0ZVN0b3A9dHJ1ZVwiKSxyJiZ0LkFlZS5zZW5kQmVhY29uPyh0LkFlZS5zZW5kQmVhY29uKG4pLHRoaXMubG9nZ2VyKCkuZGVidWcodGhpcy5pZCgpK1wic2Vzc2lvbiBzdG9wcGVkIFtcIitlLmlkK1wiXVtiZWFjb25dXCIpKTpvLmJwKG4sbnVsbCwhcikudGhlbihmdW5jdGlvbigpe2kubG9nZ2VyKCkuZGVidWcoaS5pZCgpK1wic2Vzc2lvbiBzdG9wcGVkIFtcIitlLmlkK1wiXVwiKyhyP1wiW3N5bmNdXCI6XCJcIikpfSxmdW5jdGlvbih0KXtpLmxvZ2dlcigpLndhcm4oaS5pZCgpK1wic2Vzc2lvbiBjbG9zZSBlcnJvciBbXCIrZS5pZCtcIl1cIisocj9cIltzeW5jXVwiOlwiXCIpLHQpfSl9LGUucHJvdG90eXBlLm5sPWZ1bmN0aW9uKGUsdCl7dGhpcy5NZWU9dD9wLk1sLklETEU6cC5NbC5MbCx0aGlzLmxvZ2dlcigpLm5vdGljZShcIltIaXZlQ29tbV0gY2xpZW50IHN0YXRlOiBcIitwLk1sW3RoaXMuTWVlXSl9LGUucHJvdG90eXBlLlNMPWZ1bmN0aW9uKGUsdCl7aWYodGhpcy5NZWU9PXAuTWwuSURMRSlyZXR1cm4gbi5yZXNvbHZlKCEwKTt2YXIgcj1cInBsYXlpbmctcG9pbnQ9XCIrdC5QbDtyKz1cIiZidWZmZXItbGVuZ3RoPVwiK3QuQWwscis9XCImdG90YWwtYnVmZmVyaW5nPVwiK3QuT2wscis9XCImd2lkdGg9XCIrdC53aWR0aCxyKz1cIiZoZWlnaHQ9XCIrdC5oZWlnaHQscis9XCImZnVsbHNjcmVlbj1cIit0LllRO3ZhciBpPWUuTGVlK1wic3RhdHM/XCIrcjtyZXR1cm4gdGhpcy5sb2dnZXIoKS50cmFjZShpKSxvLmJwKGkpfSxlLnByb3RvdHlwZS5DTD1mdW5jdGlvbihlLHQscil7dmFyIGk9dGhpcztpZighKHQhPT1kLkdsLllwLktwJiZ0IT09ZC5HbC5ZcC5ISURERU58fHRoaXMudmVyc2lvbiYmKFwiZGV2ZWxvcGVyXCI9PT10aGlzLnZlcnNpb258fHRoaXMudmVyc2lvbj49XCIyMDE3XCIpKSlyZXR1cm4gbi5yZXNvbHZlKCEwKTt2YXIgcz1lLkxlZStcInBsYXllci1ldmVudD90eXBlPVwiK2QuR2wuWXBbdF07aWYodm9pZCAwIT1yKWZvcih2YXIgYSBpbiByKXMrPVwiJlwiK2ErXCI9XCIrclthXTtyZXR1cm4gdGhpcy5sb2dnZXIoKS5kZWJ1Zyh0aGlzLmlkKCkrXCJldmVudCBcIitkLkdsLllwW3RdLHZvaWQgMCE9cj9yOlwiXCIpLG8uYnAocykuZmFpbChmdW5jdGlvbihlKXtyZXR1cm4gaS5sb2dnZXIoKS53YXJuKGkuaWQoKStcImVycm9yIHNlbmRpbmcgZmVlZGJhY2sgZXZlbnQgdG8gSGl2ZSBDbGllbnRcIixlKSxuLnJlamVjdChlKX0pfSxlLnByb3RvdHlwZS5iZD1mdW5jdGlvbihlLHQpe3JldHVybiBuLnJlc29sdmUoITApfSxlLnByb3RvdHlwZS51cGRhdGVQbGF5ZXJJbmZvPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7aWYodGhpcy5GZWUoKSlyZXR1cm4gdGhpcy5sb2dnZXIoKS53YXJuKFwiUGxheWVyIGluZm8gbm90IHN1cHBvcnRlZCBpbiB0aGlzIEphdmEgY2xpZW50IHZlcnNpb25cIiksbi5yZXNvbHZlKCEwKTt2YXIgcj1cImNvbW0tdmVyc2lvbj1cIit0aGlzLmdMLmdldENvbW1WZXJzaW9uKCk7cis9XCImcGx1Z2luLW5hbWU9XCIrdGhpcy5nTC5nZXRQbHVnaW5OYW1lKCkscis9XCImcGx1Z2luLXZlcnNpb249XCIrdGhpcy5nTC5nZXRQbHVnaW5WZXJzaW9uKCkscis9XCImcGxheWVyLXRlY2g9XCIrdGhpcy5nTC5nZXRQbGF5ZXJUZWNoKCkscis9XCImcGxheWVyLXZlcnNpb249XCIrdGhpcy5nTC5nZXRQbGF5ZXJWZXJzaW9uKCksdGhpcy5nTC5nZXRUZWxlbWV0cnlJZCgpJiYocis9XCImdGVsZW1ldHJ5LWlkPVwiK3RoaXMuZ0wuZ2V0VGVsZW1ldHJ5SWQoKSk7dmFyIGk9ZS5MZWUrXCJwbGF5ZXItaW5mbz9cIityO3JldHVybiBvLmJwKGkpLmZhaWwoZnVuY3Rpb24oZSl7cmV0dXJuIHQubG9nZ2VyKCkuZGVidWcodC5pZCgpK1wiZXJyb3Igc2VuZGluZyBwbGF5ZXIgSW5mbyB0byBIaXZlIENsaWVudFwiLGUpLG4ucmVqZWN0KGUpfSl9LGUucHJvdG90eXBlLm9uRXJyb3I9ZnVuY3Rpb24oZSl7dmFyIHQ9ITA7aWYodm9pZCAwIT10aGlzLm9wdGlvbnNfLm9uRXJyb3IpdHJ5e3Q9dGhpcy5vcHRpb25zXy5vbkVycm9yKGUpfWNhdGNoKGUpe2cuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJFeGNlcHRpb24gaW4gdXNlci1kZWZpbmVkIG9uRXJyb3IgY2FsbGJhY2tcIix0aGlzLmlkKCksZSl9cmV0dXJuIHR9LGUucHJvdG90eXBlLkRMPWZ1bmN0aW9uKGUsdCxyKXt2YXIgaT17aXNSZWFkeUluOnRoaXMuTmVlLGlzUmVhZHlPdXQ6dGhpcy5EZWUsbGVhc2VJbjp0aGlzLlVlZSxsZWFzZU91dDp0aGlzLkJlZSxyZXNvbHZlSW46dGhpcy5IZWUscmVzb2x2ZU91dDp0aGlzLnhlZX07dm9pZCAwIT09dCYmbnVsbCE9dCYmKGkuc2Vzc2lvbklkPXQuaWQpLHZvaWQgMCE9PXImJihpLnRvdGFsPXIpO3ZhciBuPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoaSkpO2cuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoZS5tZXNzYWdlLHRoaXMuaWQoKSxuKSx0aGlzLmdMLmFkZFRlY2hFdmVudChuZXcgZC5HbC5sZihudWxsLGQuR2wudGQuJHAsaSkpLHRoaXMucWVlKCl9LGUucHJvdG90eXBlLm9uQWN0aXZlU2Vzc2lvbj1mdW5jdGlvbihlKXtpZih0aGlzLnVwZGF0ZVBsYXllckluZm8oZSkscy5SbC5zZXRJdGVtKFwiaGl2ZUFjdGl2ZVNlc3Npb25JZFwiLGUuaWQpLHZvaWQgMCE9dGhpcy5vcHRpb25zXy5vbkFjdGl2ZVNlc3Npb24pdHJ5e3RoaXMub3B0aW9uc18ub25BY3RpdmVTZXNzaW9uKGUudG9IaXZlU2Vzc2lvbigpKX1jYXRjaChlKXtnLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwiRXhjZXB0aW9uIGluIHVzZXItZGVmaW5lZCBvbkFjdGl2ZVNlc3Npb24gY2FsbGJhY2tcIix0aGlzLmlkKCksZSl9fSxlLnByb3RvdHlwZS5MTD1mdW5jdGlvbihlKXt0aGlzLmdMPWV9LGUucHJvdG90eXBlLmlkPWZ1bmN0aW9uKCl7cmV0dXJuXCJbXCIrZS5FTCtcIl0gXCJ9LGUucHJvdG90eXBlLlNlZT1mdW5jdGlvbih0KXt2b2lkIDAhPXRbZS5FTF0mJm8uU3AodFtlLkVMXSx0aGlzLm9wdGlvbnNfKX0sZS5wcm90b3R5cGUua2VlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj0obmV3IERhdGUpLmdldFRpbWUoKTtyZXR1cm4gdGhpcy5HZWUoZSkudGhlbihmdW5jdGlvbihpKXtyZXR1cm4gaT90LlZlZShlLGkscik6dC5yZXNvbHZlVGlja2V0UHJvbWlzZShlKS50aGVuKGZ1bmN0aW9uKGkpe3JldHVybiB0LlZlZShlLGkscil9KX0pfSxlLnByb3RvdHlwZS5HZWU9ZnVuY3Rpb24odCl7dmFyIHI9dGhpcztpZih0aGlzLlVlZT1EYXRlLm5vdygpLHRoaXMuZ0wub3B0aW9ucygpLnVzZVNlc3Npb25DaGVjayl7dmFyIGk9XCIvL1wiK3UuZnAuZE8rXCI6XCIrdGhpcy5nTC5vcHRpb25zKCkucGxheWVyUG9ydCtcIi9zZXNzaW9uPyZhY3Rpb249Y2hlY2tcIjtpKz1cIiZoaXZlUGx1Z2luSWQ9XCIrdGhpcy5nTC5nZXRQbHVnaW5JZCgpLGkrPVwiJmNhbGxiYWNrPVwiK2VuY29kZVVSSUNvbXBvbmVudCh0KTt2YXIgbz1zLlJsLmdldEl0ZW0oXCJoaXZlQWN0aXZlU2Vzc2lvbklkXCIpO3JldHVybiBzLlJsLnJlbW92ZUl0ZW0oXCJoaXZlQWN0aXZlU2Vzc2lvbklkXCIpLG8mJihpKz1cIiZjdXJyZW50U2Vzc2lvbj1cIitvKSx0aGlzLmplZSgpLHRoaXMuUWVlKGkpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIHIuQmVlPURhdGUubm93KCksZT9yLktlZShlLGksdCxyLlVlZSk6KHIubG9nZ2VyKCkuZGVidWcoci5pZCgpK1wic2Vzc2lvbiBhbGxvd2VkIFtcIisoci5CZWUtci5VZWUpK1wiXVwiKSwhMSl9LGZ1bmN0aW9uKHQpe2lmKDQwMD09dC5zdGF0dXMpcmV0dXJuIHIuWWVlKFwiYmFkIHJlcXVlc3RcIixcImVycm9yIHJlc29sdmluZyB0aWNrZXRcIix0KTtpZig0MDE9PXQuc3RhdHVzKXJldHVybiByLlllZShcInVuYXV0aG9yaXplZFwiLFwiZXJyb3IgdmVyaWZ5aW5nIHRoZSB0aWNrZXRcIix0KTtpZig0MDM9PXQuc3RhdHVzKXt2YXIgaT1lLldlZSh0LHZvaWQgMCxcInNlc3Npb25cIikscz1pP3t6ZWU6aX06dm9pZCAwO3JldHVybiBnLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwicmVwb3J0cyBhbm90aGVyIGFjdGl2ZSBzZXNzaW9uXCIsci5pZCgpLHMpLHIuZ0wuYWRkVGVjaEV2ZW50KG5ldyBkLkdsLmxmKG51bGwsZC5HbC50ZC5YcCxzKSksbi5yZWplY3QobmV3IHkoVC5mRSxcImFub3RoZXIgYWN0aXZlIHNlc3Npb25cIisocz9cIiBbXCIrcy56ZWUrXCJdXCI6XCJcIikpKX1yZXR1cm4gNDA0PT10LnN0YXR1cz8oci5sb2dnZXIoKS5kZWJ1ZyhyLmlkKCkrXCJpbnN0YWxsZWQgdmVyc2lvbiBkb2VzIG5vdCBzdXBwb3J0IGFjdGl2ZSBzZXNzaW9uIGNoZWNrXCIpLHIuQmVlPURhdGUubm93KCksITEpOi0xPT10LnN0YXR1cz8oY2xlYXJUaW1lb3V0KHIuSmVlKSxyLlhlZSgpKTooZy5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcInVuaGFuZGxlZCBlcnJvciBmcm9tIEphdmFcIixyLmlkKCkse2Vycm9yOnQuc3RhdHVzfSksci5nTC5hZGRUZWNoRXZlbnQobmV3IGQuR2wubGYobnVsbCxkLkdsLnRkLlpwKSksbi5yZWplY3QobmV3IHkoVC5kRSx0KSkpfSkuY2F0Y2goZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiB5P24ucmVqZWN0KGUpOihnLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKFwidW5oYW5kbGVkIGVycm9yIG9uIHJlcXVlc3RMZWFzZURpcmVjdFwiLHIuaWQoKSx7ZXJyb3I6ZX0pLHIuZ0wuYWRkVGVjaEV2ZW50KG5ldyBkLkdsLmxmKG51bGwsZC5HbC50ZC5acCkpLG4ucmVqZWN0KG5ldyB5KFQuZEUsZSkpKX0pLmZpbmFsbHkoZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQoci5KZWUpfSl9cmV0dXJuIHRoaXMubG9nZ2VyKCkuZGVidWcodGhpcy5pZCgpK1wiSGl2ZSBzZXNzaW9uIGNoZWNrIGRpc2FibGVkIC0gd2lsbCBkaXJlY3RseSByZXNvbHZlIHRpY2tldCAob3RoZXIgYWN0aXZlIHNlc3Npb25zIG1heSBmYWlsKVwiKSxuLnJlc29sdmUoITEpfSxlLnByb3RvdHlwZS5RZWU9ZnVuY3Rpb24oZSl7aWYodGhpcy5nTC5vcHRpb25zKCkudGVzdElkKXtpZighKFwiZGV2ZWxvcGVyXCIhPT10aGlzLnZlcnNpb258fHRoaXMudmVyc2lvbjx1LmZwLnlPKSlyZXR1cm4gby5icChlLHZvaWQgMCwhMCwodD17fSx0W2wuTC5jUl09dGhpcy5nTC5vcHRpb25zKCkudGVzdElkLHQpKTt0aGlzLmxvZ2dlcigpLndhcm4odGhpcy5pZCgpK1wiVGhlIEhpdmUgQ2xpZW50IFZlcnNpb24gaW5zdGFsbGVkIGRvZXMgbm90IHN1cHBvcnQgdGhlIHRlc3QgaWQgaW4gaXRzIGdlbmVyYXRlZCBtZXRyaWNzXCIpfXJldHVybiBvLmJwKGUpO3ZhciB0fSxlLnByb3RvdHlwZS5ZZWU9ZnVuY3Rpb24odCxyLGkpe3ZhciBzPWUuV2VlKGksdCk7cmV0dXJuIGcuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3Iocix0aGlzLmlkKCkpLHRoaXMueGVlPURhdGUubm93KCksbi5yZWplY3QobmV3IHkoVC5zRSxzKSl9LGUuV2VlPWZ1bmN0aW9uKGUsdCxyKXt2b2lkIDA9PT1yJiYocj1cInN0YXR1c1wiKTt2YXIgaT10O2lmKGUuYm9keSl0cnl7aT1KU09OLnBhcnNlKGUuYm9keSlbcl19Y2F0Y2goZSl7fXJldHVybiBpfSxlLnByb3RvdHlwZS5yZXNvbHZlVGlja2V0UHJvbWlzZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3RoaXMuSGVlPURhdGUubm93KCksdGhpcy5sb2dnZXIoKS5kZWJ1Zyh0aGlzLmlkKCkrXCJyZXNvbHZpbmcgdGlja2V0OiBcIitlKTt2YXIgcj10aGlzLmJlZShlKTtyZXR1cm4gby5icChyLFwiYXBwbGljYXRpb24vanNvblwiKS50aGVuKGZ1bmN0aW9uKGkpe3JldHVybiB0LktlZShpLHIsZSx0LkhlZSl9LGZ1bmN0aW9uKHIpe3JldHVybiByJiYtMT09ci5zdGF0dXM/dC5YZWUoKTooZy5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcImVycm9yIHJlc29sdmluZyB0aWNrZXRcIix0LmlkKCkse3RpY2tldDplfSksbi5yZWplY3QobmV3IHkoVC5zRSxyKSkpfSkuY2F0Y2goZnVuY3Rpb24oZSl7cmV0dXJuIGcuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJlcnJvciBwYXJzaW5nIHRpY2tldCByZXNwb25zZVwiLHQuaWQoKSxlKSxuLnJlamVjdChuZXcgeShULmRFLGUpKX0pfSxlLnByb3RvdHlwZS5LZWU9ZnVuY3Rpb24oZSx0LHIsaSl7dmFyIG49SlNPTi5wYXJzZShlKSxzPW8uJGgodCxuLmxvY2F0aW9uKTtyZXR1cm4gbi52ZXJzaW9uJiYhdGhpcy52ZXJzaW9uJiYodGhpcy52ZXJzaW9uPW4udmVyc2lvbiksdGhpcy54ZWU9RGF0ZS5ub3coKSx0aGlzLmxvZ2dlcigpLmRlYnVnKHRoaXMuaWQoKStcInJlc29sdmVkIHRpY2tldCBcIityK1wiIC0+IFwiK3MrXCIgW1wiKyh0aGlzLnhlZS1pKStcIl1cIiksc30sZS5wcm90b3R5cGUuVmVlPWZ1bmN0aW9uKGUsdCxyKXt2YXIgaT10aGlzLlRMKGUsdCk7aWYobnVsbCE9aSl7dmFyIG49KG5ldyBEYXRlKS5nZXRUaW1lKCksbz1uLXI7cmV0dXJuIG8+PXRoaXMub3B0aW9uc18ud2FyblNsb3dSZXNwVGltZW91dCYmdGhpcy5ETChuZXcgeShULkVFLHRoaXMuaWQoKStcIiBUaGUgdGVjaCBpbml0aWFsaXphdGlvbiB0b29rIG1vcmUgdGhhbiBcIit0aGlzLm9wdGlvbnNfLndhcm5TbG93UmVzcFRpbWVvdXQrXCIgbWlsbGlzZWNvbmRzXCIpLGksbykscy5IaXZlUmVxdWVzdEZhY3RvcnkucmVnaXN0ZXJUZWNoKGkuaWQsdGhpcy5nZXROYW1lKCkpLGl9dGhyb3cgbmV3IHkoVC5zRSxcImVycm9yIGdlbmVyYXRpbmcgc2Vzc2lvblwiKX0sZS5wcm90b3R5cGUuVEw9ZnVuY3Rpb24oZSx0KXt2YXIgcj1uZXcgZi5CTjtyLlJOKGUpO3ZhciBpPW5ldyBJKGUscix0LG51bGwpO2kuTUw9ITA7dmFyIG49dS5mcC5FTyxzPW4uZXhlYyhpLm1hbmlmZXN0KTtyZXR1cm4gbnVsbCE9cz8oaS5MZWU9c1sxXSxpLmlkPXNbNV0saSk6bnVsbH0sZS5wcm90b3R5cGUuYmVlPWZ1bmN0aW9uKGUpe3ZhciB0PS0xPT1lLmluZGV4T2YoXCI/XCIpP1wiP1wiOlwiJlwiO3JldHVybiB0aGlzLkZlZSgpP28uSXAodS5mcC5nTyx1LmZwLmRPLHRoaXMuZ0wub3B0aW9ucygpLnBsYXllclBvcnQsZSk6by5JcCh1LmZwLmZPLHUuZnAuZE8sdGhpcy5nTC5vcHRpb25zKCkucGxheWVyUG9ydCxlLHQsdGhpcy5nTC5nZXRQbHVnaW5JZCgpKX0sZS5wcm90b3R5cGUuamVlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLkplZSYmY2xlYXJUaW1lb3V0KHRoaXMuSmVlKSx0aGlzLkplZT1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Zy5FcnJvck1vbml0b3IudmUoKS5sb2dFcnJvcihcIlRoZSBMZWFzZSBSZXF1ZXN0IGlzIHRha2luZyBtb3JlIHRoYW4gXCIrZS5vcHRpb25zXy53YXJuU2xvd1Jlc3BUaW1lb3V0K1wiIHNlY3NcIixlLmlkKCkpfSx0aGlzLm9wdGlvbnNfLndhcm5TbG93UmVzcFRpbWVvdXQpfSxlLnByb3RvdHlwZS5xZWU9ZnVuY3Rpb24oKXt0aGlzLlVlZT0wLHRoaXMuQmVlPTAsdGhpcy5IZWU9MCx0aGlzLnhlZT0wfSxlLnByb3RvdHlwZS5sb2dnZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nTC5sb2dnZXIoKX0sZS5wcm90b3R5cGUua0w9ZnVuY3Rpb24oKXt0aGlzLnFlZSgpfSxlLnByb3RvdHlwZS5YZWU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9XCIvL1wiK3UuZnAuZE8rXCI6XCIrdGhpcy5nTC5vcHRpb25zKCkubW9uaXRvclBvcnQrXCIvdmVyc2lvbi5qc29uXCI7cmV0dXJuIHRoaXMubG9nZ2VyKCkuZGVidWcodGhpcy5pZCgpK1wiY2hlY2tpbmcgaWYgdGhlIG1vbml0b3IgcG9ydCBpcyByZWFjaGFibGVcIiksby5icCh0KS50aGVuKGZ1bmN0aW9uKHQpe3ZhciByPUpTT04ucGFyc2UodCk7dGhyb3cgZS5zdGF0ZT1yLnN0YXRlLGcuRXJyb3JNb25pdG9yLnZlKCkubG9nRXJyb3IoXCJWZXJpZnkgY2xpZW50IHN0YXRlXCIsZS5pZCgpLHtzdGF0ZTplLnN0YXRlfSksZS5nTC5hZGRUZWNoRXZlbnQobmV3IGQuR2wubGYobnVsbCxkLkdsLnRkLnpwKSksbmV3IHkoVC5wRSxcInN0YXRlIFwiK2Uuc3RhdGUpfSkuZmFpbChmdW5jdGlvbih0KXtpZih0IGluc3RhbmNlb2YgeSlyZXR1cm4gbi5yZWplY3QodCk7aWYodCYmLTE9PXQuc3RhdHVzKXt2YXIgcj1cImNsaWVudCBub3QgcmVhY2hhYmxlXCI7cmV0dXJuIGUuZ0wuYWRkVGVjaEV2ZW50KG5ldyBkLkdsLmxmKG51bGwsZC5HbC50ZC5XcCkpLGUubG9nZ2VyKCkud2FybihlLmlkKCkrciksbi5yZWplY3QobmV3IHkoVC5wRSxyKSl9dmFyIHI9XCJWZXJpZnlDbGllbnRTdGF0ZSBlcnJvclwiO3JldHVybiBnLkVycm9yTW9uaXRvci52ZSgpLmxvZ0Vycm9yKHIsZS5pZCgpLHtlcnJvcjp0fSksZS5nTC5hZGRUZWNoRXZlbnQobmV3IGQuR2wubGYobnVsbCxkLkdsLnRkLnpwKSksbi5yZWplY3QobmV3IHkoVC5kRSxyKSl9KX0sZS5wcm90b3R5cGUuRmVlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3B0aW9uc18uc3VwcG9ydExlZ2FjeUNsaWVudCYmKCF0aGlzLnZlcnNpb258fHRoaXMudmVyc2lvbi5zdWJzdHIoMCw0KTxcIjIwMTZcIil9LGV9KCk7Uy5FTD1cIkhpdmVKYXZhXCIsdC5IaXZlSmF2YT1TfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9dGhpcyYmdGhpcy5odXx8ZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiByKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfWZvcih2YXIgaSBpbiB0KXQuaGFzT3duUHJvcGVydHkoaSkmJihlW2ldPXRbaV0pO2UucHJvdG90eXBlPW51bGw9PT10P09iamVjdC5jcmVhdGUodCk6KHIucHJvdG90eXBlPXQucHJvdG90eXBlLG5ldyByKX0sbj1yKDIwKSxzPXIoNDIpOyFmdW5jdGlvbihlKXshZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3ZhciB0PW51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gdC5taW5WZXJzaW9uPXMuZnAudk8sdC5pbml0VGltZW91dD02ZTQsdC53YXJuU2xvd1Jlc3BUaW1lb3V0PTVlMyx0LnN1cHBvcnRMZWdhY3lDbGllbnQ9ITEsdH1yZXR1cm4gaSh0LGUpLHR9KG4uSGl2ZUNvbW0uT3B0aW9ucy5UcCk7ZS5PZWU9dH0oZS5PcHRpb25zfHwoZS5PcHRpb25zPXt9KSl9KHQuSGl2ZUNvbW18fCh0LkhpdmVDb21tPXt9KSl9XSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb3JlLmhpdmUubWluLmpzLm1hcFxuIWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUocil7aWYobltyXSlyZXR1cm4gbltyXS5vO3ZhciBvPW5bcl09e2k6cixzOiExLG86e319O3JldHVybiB0W3JdLmNhbGwoby5vLG8sby5vLGUpLG8ucz0hMCxvLm99dmFyIG49e307ZS51PXQsZS5jPW4sZS5kPWZ1bmN0aW9uKHQsbixyKXtlLnAodCxuKXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsbix7bDohMSxoOiEwLGdldDpyfSl9LGUubj1mdW5jdGlvbih0KXt2YXIgbj10JiZ0LnY/ZnVuY3Rpb24oKXtyZXR1cm4gdC5kZWZhdWx0fTpmdW5jdGlvbigpe3JldHVybiB0fTtyZXR1cm4gZS5kKG4sXCJhXCIsbiksbn0sZS5wPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGUpfSxlLmc9XCJcIixlKGUubT0xKX0oW2Z1bmN0aW9uKHQsZSxuKXsvKiFcbiAqXG4gKiBDb3B5cmlnaHQgMjAwOS0yMDE2IEtyaXMgS293YWwgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBNSVRcbiAqIGxpY2Vuc2UgZm91bmQgYXQgaHR0cHM6Ly9naXRodWIuY29tL2tyaXNrb3dhbC9xL2Jsb2IvdjEvTElDRU5TRVxuICpcbiAqIFdpdGggcGFydHMgYnkgVHlsZXIgQ2xvc2VcbiAqIENvcHlyaWdodCAyMDA3LTIwMDkgVHlsZXIgQ2xvc2UgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBNSVQgWCBsaWNlbnNlIGZvdW5kXG4gKiBhdCBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLmh0bWxcbiAqIEZvcmtlZCBhdCByZWZfc2VuZC5qcyB2ZXJzaW9uOiAyMDA5LTA1LTExXG4gKlxuICogV2l0aCBwYXJ0cyBieSBNYXJrIE1pbGxlclxuICogQ29weXJpZ2h0IChDKSAyMDExIEdvb2dsZSBJbmMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG4hZnVuY3Rpb24oZSl7XCJ1c2Ugc3RyaWN0XCI7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgYm9vdHN0cmFwKWJvb3RzdHJhcChcInByb21pc2VcIixlKTtlbHNle3Qubz1lKCl9fShmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHQodCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIEouYXBwbHkodCxhcmd1bWVudHMpfX1mdW5jdGlvbiBlKHQpe3JldHVybiB0PT09T2JqZWN0KHQpfWZ1bmN0aW9uIG4odCl7cmV0dXJuXCJbb2JqZWN0IFN0b3BJdGVyYXRpb25dXCI9PT10dCh0KXx8dCBpbnN0YW5jZW9mIEZ9ZnVuY3Rpb24gcih0LGUpe2lmKEImJmUuc3RhY2smJlwib2JqZWN0XCI9PXR5cGVvZiB0JiZudWxsIT09dCYmdC5zdGFjayYmLTE9PT10LnN0YWNrLmluZGV4T2YoZXQpKXtmb3IodmFyIG49W10scj1lO3I7cj1yLnNvdXJjZSlyLnN0YWNrJiZuLnVuc2hpZnQoci5zdGFjayk7bi51bnNoaWZ0KHQuc3RhY2spO3ZhciBpPW4uam9pbihcIlxcblwiK2V0K1wiXFxuXCIpO3Quc3RhY2s9byhpKX19ZnVuY3Rpb24gbyh0KXtmb3IodmFyIGU9dC5zcGxpdChcIlxcblwiKSxuPVtdLHI9MDtyPGUubGVuZ3RoOysrcil7dmFyIG89ZVtyXTt1KG8pfHxpKG8pfHwhb3x8bi5wdXNoKG8pfXJldHVybiBuLmpvaW4oXCJcXG5cIil9ZnVuY3Rpb24gaSh0KXtyZXR1cm4tMSE9PXQuaW5kZXhPZihcIihtb2R1bGUuanM6XCIpfHwtMSE9PXQuaW5kZXhPZihcIihub2RlLmpzOlwiKX1mdW5jdGlvbiBzKHQpe3ZhciBlPS9hdCAuKyBcXCgoLispOihcXGQrKTooPzpcXGQrKVxcKSQvLmV4ZWModCk7aWYoZSlyZXR1cm5bZVsxXSxOdW1iZXIoZVsyXSldO3ZhciBuPS9hdCAoW14gXSspOihcXGQrKTooPzpcXGQrKSQvLmV4ZWModCk7aWYobilyZXR1cm5bblsxXSxOdW1iZXIoblsyXSldO3ZhciByPS8uKkAoLispOihcXGQrKSQvLmV4ZWModCk7cmV0dXJuIHI/W3JbMV0sTnVtYmVyKHJbMl0pXTp2b2lkIDB9ZnVuY3Rpb24gdSh0KXt2YXIgZT1zKHQpO2lmKCFlKXJldHVybiExO3ZhciBuPWVbMF0scj1lWzFdO3JldHVybiBuPT09TSYmcj49cSYmcjw9c3R9ZnVuY3Rpb24gYSgpe2lmKEIpdHJ5e3Rocm93IG5ldyBFcnJvcn1jYXRjaChyKXt2YXIgdD1yLnN0YWNrLnNwbGl0KFwiXFxuXCIpLGU9dFswXS5pbmRleE9mKFwiQFwiKT4wP3RbMV06dFsyXSxuPXMoZSk7aWYoIW4pcmV0dXJuO3JldHVybiBNPW5bMF0sblsxXX19ZnVuY3Rpb24gYyh0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIGQ/dDpnKHQpP04odCk6dyh0KX1mdW5jdGlvbiBwKCl7ZnVuY3Rpb24gdCh0KXtlPXQsYy5UJiZCJiYoaS5zb3VyY2U9dCksRyhuLGZ1bmN0aW9uKGUsbil7Yy5fKGZ1bmN0aW9uKCl7dC5JLmFwcGx5KHQsbil9KX0sdm9pZCAwKSxuPXZvaWQgMCxyPXZvaWQgMH12YXIgZSxuPVtdLHI9W10sbz16KHAucHJvdG90eXBlKSxpPXooZC5wcm90b3R5cGUpO2lmKGkuST1mdW5jdGlvbih0LG8saSl7dmFyIHM9WChhcmd1bWVudHMpO24/KG4ucHVzaChzKSxcIndoZW5cIj09PW8mJmlbMV0mJnIucHVzaChpWzFdKSk6Yy5fKGZ1bmN0aW9uKCl7ZS5JLmFwcGx5KGUscyl9KX0saS52YWx1ZU9mPWZ1bmN0aW9uKCl7aWYobilyZXR1cm4gaTt2YXIgdD15KGUpO3JldHVybiB2KHQpJiYoZT10KSx0fSxpLk49ZnVuY3Rpb24oKXtyZXR1cm4gZT9lLk4oKTp7c3RhdGU6XCJwZW5kaW5nXCJ9fSxjLlQmJkIpdHJ5e3Rocm93IG5ldyBFcnJvcn1jYXRjaCh0KXtpLnN0YWNrPXQuc3RhY2suc3Vic3RyaW5nKHQuc3RhY2suaW5kZXhPZihcIlxcblwiKSsxKX1yZXR1cm4gby5rPWksby5yZXNvbHZlPWZ1bmN0aW9uKG4pe2V8fHQoYyhuKSl9LG8uUj1mdW5jdGlvbihuKXtlfHx0KHcobikpfSxvLnJlamVjdD1mdW5jdGlvbihuKXtlfHx0KEkobikpfSxvLm5vdGlmeT1mdW5jdGlvbih0KXtlfHxHKHIsZnVuY3Rpb24oZSxuKXtjLl8oZnVuY3Rpb24oKXtuKHQpfSl9LHZvaWQgMCl9LG99ZnVuY3Rpb24gZih0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoXCJyZXNvbHZlciBtdXN0IGJlIGEgZnVuY3Rpb24uXCIpO3ZhciBlPXAoKTt0cnl7dChlLnJlc29sdmUsZS5yZWplY3QsZS5ub3RpZnkpfWNhdGNoKHQpe2UucmVqZWN0KHQpfXJldHVybiBlLmt9ZnVuY3Rpb24gbCh0KXtyZXR1cm4gZihmdW5jdGlvbihlLG4pe2Zvcih2YXIgcj0wLG89dC5sZW5ndGg7cjxvO3IrKyljKHRbcl0pLnRoZW4oZSxuKX0pfWZ1bmN0aW9uIGQodCxlLG4pe3ZvaWQgMD09PWUmJihlPWZ1bmN0aW9uKHQpe3JldHVybiBJKG5ldyBFcnJvcihcIlByb21pc2UgZG9lcyBub3Qgc3VwcG9ydCBvcGVyYXRpb246IFwiK3QpKX0pLHZvaWQgMD09PW4mJihuPWZ1bmN0aW9uKCl7cmV0dXJue3N0YXRlOlwidW5rbm93blwifX0pO3ZhciByPXooZC5wcm90b3R5cGUpO2lmKHIuST1mdW5jdGlvbihuLG8saSl7dmFyIHM7dHJ5e3M9dFtvXT90W29dLmFwcGx5KHIsaSk6ZS5jYWxsKHIsbyxpKX1jYXRjaCh0KXtzPUkodCl9biYmbihzKX0sci5OPW4sbil7dmFyIG89bigpO1wicmVqZWN0ZWRcIj09PW8uc3RhdGUmJihyLmV4Y2VwdGlvbj1vLnJlYXNvbiksci52YWx1ZU9mPWZ1bmN0aW9uKCl7dmFyIHQ9bigpO3JldHVyblwicGVuZGluZ1wiPT09dC5zdGF0ZXx8XCJyZWplY3RlZFwiPT09dC5zdGF0ZT9yOnQudmFsdWV9fXJldHVybiByfWZ1bmN0aW9uIGgodCxlLG4scil7cmV0dXJuIGModCkudGhlbihlLG4scil9ZnVuY3Rpb24geSh0KXtpZih2KHQpKXt2YXIgZT10Lk4oKTtpZihcImZ1bGZpbGxlZFwiPT09ZS5zdGF0ZSlyZXR1cm4gZS52YWx1ZX1yZXR1cm4gdH1mdW5jdGlvbiB2KHQpe3JldHVybiB0IGluc3RhbmNlb2YgZH1mdW5jdGlvbiBnKHQpe3JldHVybiBlKHQpJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LnRoZW59ZnVuY3Rpb24gRSh0KXtyZXR1cm4gdih0KSYmXCJwZW5kaW5nXCI9PT10Lk4oKS5zdGF0ZX1mdW5jdGlvbiBtKHQpe3JldHVybiF2KHQpfHxcImZ1bGZpbGxlZFwiPT09dC5OKCkuc3RhdGV9ZnVuY3Rpb24gVCh0KXtyZXR1cm4gdih0KSYmXCJyZWplY3RlZFwiPT09dC5OKCkuc3RhdGV9ZnVuY3Rpb24gUygpe250Lmxlbmd0aD0wLHJ0Lmxlbmd0aD0wLGl0fHwoaXQ9ITApfWZ1bmN0aW9uIF8odCxlKXtpdCYmKFwib2JqZWN0XCI9PXR5cGVvZiBwcm9jZXNzJiZwcm9jZXNzJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBwcm9jZXNzLk8mJmMuXy5EKGZ1bmN0aW9uKCl7LTEhPT1LKHJ0LHQpJiYocHJvY2Vzcy5PKFwidW5oYW5kbGVkUmVqZWN0aW9uXCIsZSx0KSxvdC5wdXNoKHQpKX0pLHJ0LnB1c2godCksZSYmdm9pZCAwIT09ZS5zdGFjaz9udC5wdXNoKGUuc3RhY2spOm50LnB1c2goXCIobm8gc3RhY2spIFwiK2UpKX1mdW5jdGlvbiBiKHQpe2lmKGl0KXt2YXIgZT1LKHJ0LHQpOy0xIT09ZSYmKFwib2JqZWN0XCI9PXR5cGVvZiBwcm9jZXNzJiZwcm9jZXNzJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBwcm9jZXNzLk8mJmMuXy5EKGZ1bmN0aW9uKCl7dmFyIG49SyhvdCx0KTstMSE9PW4mJihwcm9jZXNzLk8oXCJyZWplY3Rpb25IYW5kbGVkXCIsbnRbZV0sdCksb3Quc3BsaWNlKG4sMSkpfSkscnQuc3BsaWNlKGUsMSksbnQuc3BsaWNlKGUsMSkpfX1mdW5jdGlvbiBJKHQpe3ZhciBlPWQoe3doZW46ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmIodGhpcyksZT9lKHQpOnRoaXN9fSxmdW5jdGlvbigpe3JldHVybiB0aGlzfSxmdW5jdGlvbigpe3JldHVybntzdGF0ZTpcInJlamVjdGVkXCIscmVhc29uOnR9fSk7cmV0dXJuIF8oZSx0KSxlfWZ1bmN0aW9uIHcodCl7cmV0dXJuIGQoe3doZW46ZnVuY3Rpb24oKXtyZXR1cm4gdH0sZ2V0OmZ1bmN0aW9uKGUpe3JldHVybiB0W2VdfSxzZXQ6ZnVuY3Rpb24oZSxuKXt0W2VdPW59LGRlbGV0ZTpmdW5jdGlvbihlKXtkZWxldGUgdFtlXX0sUDpmdW5jdGlvbihlLG4pe3JldHVybiBudWxsPT09ZXx8dm9pZCAwPT09ZT90LmFwcGx5KHZvaWQgMCxuKTp0W2VdLmFwcGx5KHQsbil9LGFwcGx5OmZ1bmN0aW9uKGUsbil7cmV0dXJuIHQuYXBwbHkoZSxuKX0sa2V5czpmdW5jdGlvbigpe3JldHVybiBaKHQpfX0sdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJue3N0YXRlOlwiZnVsZmlsbGVkXCIsdmFsdWU6dH19KX1mdW5jdGlvbiBOKHQpe3ZhciBlPXAoKTtyZXR1cm4gYy5fKGZ1bmN0aW9uKCl7dHJ5e3QudGhlbihlLnJlc29sdmUsZS5yZWplY3QsZS5ub3RpZnkpfWNhdGNoKHQpe2UucmVqZWN0KHQpfX0pLGUua31mdW5jdGlvbiBrKHQpe3JldHVybiBkKHtDOmZ1bmN0aW9uKCl7fX0sZnVuY3Rpb24oZSxuKXtyZXR1cm4gQyh0LGUsbil9LGZ1bmN0aW9uKCl7cmV0dXJuIGModCkuTigpfSl9ZnVuY3Rpb24gUih0LGUsbil7cmV0dXJuIGModCkuQShlLG4pfWZ1bmN0aW9uIHgodCl7cmV0dXJuIGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LGUpe3ZhciBzO2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBTdG9wSXRlcmF0aW9uKXt0cnl7cz1yW3RdKGUpfWNhdGNoKHQpe3JldHVybiBJKHQpfXJldHVybiBzLmRvbmU/YyhzLnZhbHVlKTpoKHMudmFsdWUsbyxpKX10cnl7cz1yW3RdKGUpfWNhdGNoKHQpe3JldHVybiBuKHQpP2ModC52YWx1ZSk6SSh0KX1yZXR1cm4gaChzLG8saSl9dmFyIHI9dC5hcHBseSh0aGlzLGFyZ3VtZW50cyksbz1lLmJpbmQoZSxcIm5leHRcIiksaT1lLmJpbmQoZSxcInRocm93XCIpO3JldHVybiBvKCl9fWZ1bmN0aW9uIE8odCl7Yy5kb25lKGMuYXN5bmModCkoKSl9ZnVuY3Rpb24gRCh0KXt0aHJvdyBuZXcgRih0KX1mdW5jdGlvbiBQKHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBSKFt0aGlzLEEoYXJndW1lbnRzKV0sZnVuY3Rpb24oZSxuKXtyZXR1cm4gdC5hcHBseShlLG4pfSl9fWZ1bmN0aW9uIEModCxlLG4pe3JldHVybiBjKHQpLkwoZSxuKX1mdW5jdGlvbiBBKHQpe3JldHVybiBoKHQsZnVuY3Rpb24odCl7dmFyIGU9MCxuPXAoKTtyZXR1cm4gRyh0LGZ1bmN0aW9uKHIsbyxpKXt2YXIgczt2KG8pJiZcImZ1bGZpbGxlZFwiPT09KHM9by5OKCkpLnN0YXRlP3RbaV09cy52YWx1ZTooKytlLGgobyxmdW5jdGlvbihyKXt0W2ldPXIsMD09LS1lJiZuLnJlc29sdmUodCl9LG4ucmVqZWN0LGZ1bmN0aW9uKHQpe24ubm90aWZ5KHtpbmRleDppLHZhbHVlOnR9KX0pKX0sdm9pZCAwKSwwPT09ZSYmbi5yZXNvbHZlKHQpLG4ua30pfWZ1bmN0aW9uIEwodCl7aWYoMD09PXQubGVuZ3RoKXJldHVybiBjLnJlc29sdmUoKTt2YXIgZT1jLmRlZmVyKCksbj0wO3JldHVybiBHKHQsZnVuY3Rpb24ocixvLGkpe2Z1bmN0aW9uIHModCl7ZS5yZXNvbHZlKHQpfWZ1bmN0aW9uIHUodCl7MD09PS0tbiYmKHQubWVzc2FnZT1cIlEgY2FuJ3QgZ2V0IGZ1bGZpbGxtZW50IHZhbHVlIGZyb20gYW55IHByb21pc2UsIGFsbCBwcm9taXNlcyB3ZXJlIHJlamVjdGVkLiBMYXN0IGVycm9yIG1lc3NhZ2U6IFwiK3QubWVzc2FnZSxlLnJlamVjdCh0KSl9ZnVuY3Rpb24gYSh0KXtlLm5vdGlmeSh7aW5kZXg6aSx2YWx1ZTp0fSl9dmFyIGM9dFtpXTtuKyssaChjLHMsdSxhKX0sdm9pZCAwKSxlLmt9ZnVuY3Rpb24gVih0KXtyZXR1cm4gaCh0LGZ1bmN0aW9uKHQpe3JldHVybiB0PVcodCxjKSxoKEEoVyh0LGZ1bmN0aW9uKHQpe3JldHVybiBoKHQsUSxRKX0pKSxmdW5jdGlvbigpe3JldHVybiB0fSl9KX1mdW5jdGlvbiBIKHQpe3JldHVybiBjKHQpLlYoKX1mdW5jdGlvbiBVKHQsZSl7cmV0dXJuIGModCkudGhlbih2b2lkIDAsdm9pZCAwLGUpfWZ1bmN0aW9uIGoodCxlKXtyZXR1cm4gYyh0KS5IKGUpfXZhciBCPSExO3RyeXt0aHJvdyBuZXcgRXJyb3J9Y2F0Y2godCl7Qj0hIXQuc3RhY2t9dmFyIE0sRixxPWEoKSxRPWZ1bmN0aW9uKCl7fSxZPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe2Zvcih2YXIgdCxyO24ubmV4dDspbj1uLm5leHQsdD1uLlUsbi5VPXZvaWQgMCxyPW4uZG9tYWluLHImJihuLmRvbWFpbj12b2lkIDAsci5qKCkpLGUodCxyKTtmb3IoO2EubGVuZ3RoOyl0PWEucG9wKCksZSh0KTtvPSExfWZ1bmN0aW9uIGUoZSxuKXt0cnl7ZSgpfWNhdGNoKGUpe2lmKHMpdGhyb3cgbiYmbi5CKCksc2V0VGltZW91dCh0LDApLG4mJm4uaigpLGU7c2V0VGltZW91dChmdW5jdGlvbigpe3Rocm93IGV9LDApfW4mJm4uQigpfXZhciBuPXtVOnZvaWQgMCxuZXh0Om51bGx9LHI9bixvPSExLGk9dm9pZCAwLHM9ITEsdT0hMTt0cnl7dT1uYXZpZ2F0b3ImJihcIk1pY3Jvc29mdCBJbnRlcm5ldCBFeHBsb3JlclwiPT09bmF2aWdhdG9yLmFwcE5hbWV8fG51bGwhPW5hdmlnYXRvci5hcHBWZXJzaW9uLm1hdGNoKC8odHJpZGVudCkuK3J2WzpcXHNdKFtcXHdcXC5dKykuK2xpa2VcXHNnZWNrby9pKSl9Y2F0Y2godCl7fXZhciBhPVtdO2lmKFk9ZnVuY3Rpb24odCl7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIEZyYW1ld29yayYmRnJhbWV3b3JrLk0oKT9GcmFtZXdvcmsuc2V0VGltZW91dCh0LDApOihyPXIubmV4dD17VTp0LGRvbWFpbjpzJiZwcm9jZXNzLmRvbWFpbixuZXh0Om51bGx9LG98fChvPSEwLGkoKSkpfSxcIm9iamVjdFwiPT10eXBlb2YgcHJvY2VzcyYmcHJvY2VzcyYmXCJbb2JqZWN0IHByb2Nlc3NdXCI9PT1wcm9jZXNzLnRvU3RyaW5nKCkmJnByb2Nlc3MuXylzPSEwLGk9ZnVuY3Rpb24oKXtwcm9jZXNzLl8odCl9O2Vsc2UgaWYoXCJmdW5jdGlvblwiIT10eXBlb2Ygc2V0SW1tZWRpYXRlfHx1KWlmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBNZXNzYWdlQ2hhbm5lbHx8dSlpPWZ1bmN0aW9uKCl7c2V0VGltZW91dCh0LDApfTtlbHNle3ZhciBjPW5ldyBNZXNzYWdlQ2hhbm5lbDtjLnBvcnQxLm9ubWVzc2FnZT1mdW5jdGlvbigpe2k9cCxjLnBvcnQxLm9ubWVzc2FnZT10LHQoKX07dmFyIHA9ZnVuY3Rpb24oKXtjLnBvcnQyLnBvc3RNZXNzYWdlKDApfTtpPWZ1bmN0aW9uKCl7c2V0VGltZW91dCh0LDApLHAoKX19ZWxzZSBpPVwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/c2V0SW1tZWRpYXRlLmJpbmQod2luZG93LHQpOmZ1bmN0aW9uKCl7c2V0SW1tZWRpYXRlKHQpfTtyZXR1cm4gWS5EPWZ1bmN0aW9uKHQpe2EucHVzaCh0KSxvfHwobz0hMCxpKCkpfSxZfSgpLEo9RnVuY3Rpb24uY2FsbCxYPXQoQXJyYXkucHJvdG90eXBlLnNsaWNlKSxHPXQoQXJyYXkucHJvdG90eXBlLnJlZHVjZXx8ZnVuY3Rpb24odCxlKXt2YXIgbj0wLHI9dGhpcy5sZW5ndGg7aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgpZm9yKDs7KXtpZihuIGluIHRoaXMpe2U9dGhpc1tuKytdO2JyZWFrfWlmKCsrbj49cil0aHJvdyBuZXcgVHlwZUVycm9yfWZvcig7bjxyO24rKyluIGluIHRoaXMmJihlPXQoZSx0aGlzW25dLG4pKTtyZXR1cm4gZX0pLEs9dChBcnJheS5wcm90b3R5cGUuaW5kZXhPZnx8ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7ZTx0aGlzLmxlbmd0aDtlKyspaWYodGhpc1tlXT09PXQpcmV0dXJuIGU7cmV0dXJuLTF9KSxXPXQoQXJyYXkucHJvdG90eXBlLm1hcHx8ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLHI9W107cmV0dXJuIEcobixmdW5jdGlvbihvLGkscyl7ci5wdXNoKHQuY2FsbChlLGkscyxuKSl9LHZvaWQgMCkscn0pLHo9T2JqZWN0LmNyZWF0ZXx8ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZS5wcm90b3R5cGU9dCxuZXcgZX0sJD10KE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkpLFo9T2JqZWN0LmtleXN8fGZ1bmN0aW9uKHQpe3ZhciBlPVtdO2Zvcih2YXIgbiBpbiB0KSQodCxuKSYmZS5wdXNoKG4pO3JldHVybiBlfSx0dD10KE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcpO0Y9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFJldHVyblZhbHVlP1JldHVyblZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMudmFsdWU9dH07dmFyIGV0PVwiRnJvbSBwcmV2aW91cyBldmVudDpcIjtjLnJlc29sdmU9YyxjLl89WSxjLlQ9ITEsXCJvYmplY3RcIj09dHlwZW9mIHByb2Nlc3MmJnByb2Nlc3MmJnByb2Nlc3MuRiYmcHJvY2Vzcy5GLnEmJihjLlQ9ITApLGMuZGVmZXI9cCxwLnByb3RvdHlwZS5ZPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztyZXR1cm4gZnVuY3Rpb24oZSxuKXtlP3QucmVqZWN0KGUpOmFyZ3VtZW50cy5sZW5ndGg+Mj90LnJlc29sdmUoWChhcmd1bWVudHMsMSkpOnQucmVzb2x2ZShuKX19LGMuUHJvbWlzZT1mLGMuaz1mLGYucmFjZT1sLGYuYWxsPUEsZi5yZWplY3Q9SSxmLnJlc29sdmU9YyxjLko9ZnVuY3Rpb24odCl7cmV0dXJuIHR9LGQucHJvdG90eXBlLko9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sYy5qb2luPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGModCkuam9pbihlKX0sZC5wcm90b3R5cGUuam9pbj1mdW5jdGlvbih0KXtyZXR1cm4gYyhbdGhpcyx0XSkuQShmdW5jdGlvbih0LGUpe2lmKHQ9PT1lKXJldHVybiB0O3Rocm93IG5ldyBFcnJvcihcIlEgY2FuJ3Qgam9pbjogbm90IHRoZSBzYW1lOiBcIit0K1wiIFwiK2UpfSl9LGMucmFjZT1sLGQucHJvdG90eXBlLnJhY2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50aGVuKGMucmFjZSl9LGMuWD1kLGQucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJbb2JqZWN0IFByb21pc2VdXCJ9LGQucHJvdG90eXBlLnRoZW49ZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIG8oZSl7dHJ5e3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/dChlKTplfWNhdGNoKHQpe3JldHVybiBJKHQpfX1mdW5jdGlvbiBpKHQpe2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpe3IodCx1KTt0cnl7cmV0dXJuIGUodCl9Y2F0Y2godCl7cmV0dXJuIEkodCl9fXJldHVybiBJKHQpfWZ1bmN0aW9uIHModCl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2Ygbj9uKHQpOnR9dmFyIHU9dGhpcyxhPXAoKSxmPSExO3JldHVybiBjLl8oZnVuY3Rpb24oKXt1LkkoZnVuY3Rpb24odCl7Znx8KGY9ITAsYS5yZXNvbHZlKG8odCkpKX0sXCJ3aGVuXCIsW2Z1bmN0aW9uKHQpe2Z8fChmPSEwLGEucmVzb2x2ZShpKHQpKSl9XSl9KSx1Lkkodm9pZCAwLFwid2hlblwiLFt2b2lkIDAsZnVuY3Rpb24odCl7dmFyIGUsbj0hMTt0cnl7ZT1zKHQpfWNhdGNoKHQpe2lmKG49ITAsIWMub25lcnJvcil0aHJvdyB0O2Mub25lcnJvcih0KX1ufHxhLm5vdGlmeShlKX1dKSxhLmt9LGMuRz1mdW5jdGlvbih0LGUpe3JldHVybiBjKHQpLkcoZSl9LGQucHJvdG90eXBlLkc9ZnVuY3Rpb24odCl7cmV0dXJuIHQ9Yyh0KSx0aGlzLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIHQuVyhlKS5LKGUpfSl9LGMud2hlbj1oLGQucHJvdG90eXBlLks9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudGhlbihmdW5jdGlvbigpe3JldHVybiB0fSl9LGMuSz1mdW5jdGlvbih0LGUpe3JldHVybiBjKHQpLksoZSl9LGQucHJvdG90eXBlLiQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudGhlbihmdW5jdGlvbigpe3Rocm93IHR9KX0sYy4kPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGModCkuJChlKX0sYy5aPXksYy50dD12LGMuZXQ9ZyxjLm50PUUsZC5wcm90b3R5cGUubnQ9ZnVuY3Rpb24oKXtyZXR1cm5cInBlbmRpbmdcIj09PXRoaXMuTigpLnN0YXRlfSxjLnJ0PW0sZC5wcm90b3R5cGUucnQ9ZnVuY3Rpb24oKXtyZXR1cm5cImZ1bGZpbGxlZFwiPT09dGhpcy5OKCkuc3RhdGV9LGMub3Q9VCxkLnByb3RvdHlwZS5vdD1mdW5jdGlvbigpe3JldHVyblwicmVqZWN0ZWRcIj09PXRoaXMuTigpLnN0YXRlfTt2YXIgbnQ9W10scnQ9W10sb3Q9W10saXQ9ITA7Yy5pdD1TLGMuc3Q9ZnVuY3Rpb24oKXtyZXR1cm4gbnQuc2xpY2UoKX0sYy51dD1mdW5jdGlvbigpe1MoKSxpdD0hMX0sUygpLGMucmVqZWN0PUksYy5SPXcsYy5hdD1rLGMuQT1SLGQucHJvdG90eXBlLkE9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5hbGwoKS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiB0LmFwcGx5KHZvaWQgMCxlKX0sZSl9LGMuYXN5bmM9eCxjLmN0PU8sYy5wdD1ELGMuZnQ9UCxjLkw9QyxkLnByb3RvdHlwZS5MPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcyxyPXAoKTtyZXR1cm4gYy5fKGZ1bmN0aW9uKCl7bi5JKHIucmVzb2x2ZSx0LGUpfSksci5rfSxjLmdldD1mdW5jdGlvbih0LGUpe3JldHVybiBjKHQpLkwoXCJnZXRcIixbZV0pfSxkLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuTChcImdldFwiLFt0XSl9LGMuc2V0PWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gYyh0KS5MKFwic2V0XCIsW2Usbl0pfSxkLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5MKFwic2V0XCIsW3QsZV0pfSxjLmx0PWMuZGVsZXRlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGModCkuTChcImRlbGV0ZVwiLFtlXSl9LGQucHJvdG90eXBlLmx0PWQucHJvdG90eXBlLmRlbGV0ZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5MKFwiZGVsZXRlXCIsW3RdKX0sYy5kdD1jLlA9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBjKHQpLkwoXCJwb3N0XCIsW2Usbl0pfSxkLnByb3RvdHlwZS5kdD1kLnByb3RvdHlwZS5QPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuTChcInBvc3RcIixbdCxlXSl9LGMuc2VuZD1jLmh0PWMueXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gYyh0KS5MKFwicG9zdFwiLFtlLFgoYXJndW1lbnRzLDIpXSl9LGQucHJvdG90eXBlLnNlbmQ9ZC5wcm90b3R5cGUuaHQ9ZC5wcm90b3R5cGUueXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuTChcInBvc3RcIixbdCxYKGFyZ3VtZW50cywxKV0pfSxjLnZ0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGModCkuTChcImFwcGx5XCIsW3ZvaWQgMCxlXSl9LGQucHJvdG90eXBlLnZ0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLkwoXCJhcHBseVwiLFt2b2lkIDAsdF0pfSxjLmd0PWMuVz1mdW5jdGlvbih0KXtyZXR1cm4gYyh0KS5MKFwiYXBwbHlcIixbdm9pZCAwLFgoYXJndW1lbnRzLDEpXSl9LGQucHJvdG90eXBlLlc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5MKFwiYXBwbHlcIixbdm9pZCAwLFgoYXJndW1lbnRzKV0pfSxjLkV0PWZ1bmN0aW9uKHQpe3ZhciBlPWModCksbj1YKGFyZ3VtZW50cywxKTtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZS5MKFwiYXBwbHlcIixbdGhpcyxuLmNvbmNhdChYKGFyZ3VtZW50cykpXSl9fSxkLnByb3RvdHlwZS5FdD1mdW5jdGlvbigpe3ZhciB0PXRoaXMsZT1YKGFyZ3VtZW50cyk7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHQuTChcImFwcGx5XCIsW3RoaXMsZS5jb25jYXQoWChhcmd1bWVudHMpKV0pfX0sYy5rZXlzPWZ1bmN0aW9uKHQpe3JldHVybiBjKHQpLkwoXCJrZXlzXCIsW10pfSxkLnByb3RvdHlwZS5rZXlzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuTChcImtleXNcIixbXSl9LGMuYWxsPUEsZC5wcm90b3R5cGUuYWxsPWZ1bmN0aW9uKCl7cmV0dXJuIEEodGhpcyl9LGMuVHQ9TCxkLnByb3RvdHlwZS5UdD1mdW5jdGlvbigpe3JldHVybiBMKHRoaXMpfSxjLlN0PWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2YgY29uc29sZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgY29uc29sZS53YXJuJiZjb25zb2xlLndhcm4oZStcIiBpcyBkZXByZWNhdGVkLCB1c2UgXCIrbitcIiBpbnN0ZWFkLlwiLG5ldyBFcnJvcihcIlwiKS5zdGFjayksdC5hcHBseSh0LGFyZ3VtZW50cyl9fShWLFwiYWxsUmVzb2x2ZWRcIixcImFsbFNldHRsZWRcIiksZC5wcm90b3R5cGUuU3Q9ZnVuY3Rpb24oKXtyZXR1cm4gVih0aGlzKX0sYy5WPUgsZC5wcm90b3R5cGUuVj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIEEoVyh0LGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gdC5OKCl9cmV0dXJuIHQ9Yyh0KSx0LnRoZW4oZSxlKX0pKX0pfSxjLmZhaWw9Yy5jYXRjaD1mdW5jdGlvbih0LGUpe3JldHVybiBjKHQpLnRoZW4odm9pZCAwLGUpfSxkLnByb3RvdHlwZS5mYWlsPWQucHJvdG90eXBlLmNhdGNoPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnRoZW4odm9pZCAwLHQpfSxjLnByb2dyZXNzPVUsZC5wcm90b3R5cGUucHJvZ3Jlc3M9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudGhlbih2b2lkIDAsdm9pZCAwLHQpfSxjLl90PWMuZmluYWxseT1mdW5jdGlvbih0LGUpe3JldHVybiBjKHQpLmZpbmFsbHkoZSl9LGQucHJvdG90eXBlLl90PWQucHJvdG90eXBlLmZpbmFsbHk9ZnVuY3Rpb24odCl7aWYoIXR8fFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQuYXBwbHkpdGhyb3cgbmV3IEVycm9yKFwiUSBjYW4ndCBhcHBseSBmaW5hbGx5IGNhbGxiYWNrXCIpO3JldHVybiB0PWModCksdGhpcy50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiB0LlcoKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGV9KX0sZnVuY3Rpb24oZSl7cmV0dXJuIHQuVygpLnRoZW4oZnVuY3Rpb24oKXt0aHJvdyBlfSl9KX0sYy5kb25lPWZ1bmN0aW9uKHQsZSxuLHIpe3JldHVybiBjKHQpLmRvbmUoZSxuLHIpfSxkLnByb3RvdHlwZS5kb25lPWZ1bmN0aW9uKHQsZSxuKXt2YXIgbz1mdW5jdGlvbih0KXtjLl8oZnVuY3Rpb24oKXtpZihyKHQsaSksIWMub25lcnJvcil0aHJvdyB0O2Mub25lcnJvcih0KX0pfSxpPXR8fGV8fG4/dGhpcy50aGVuKHQsZSxuKTp0aGlzO1wib2JqZWN0XCI9PXR5cGVvZiBwcm9jZXNzJiZwcm9jZXNzJiZwcm9jZXNzLmRvbWFpbiYmKG89cHJvY2Vzcy5kb21haW4uYmluZChvKSksaS50aGVuKHZvaWQgMCxvKX0sYy50aW1lb3V0PWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gYyh0KS50aW1lb3V0KGUsbil9LGQucHJvdG90eXBlLnRpbWVvdXQ9ZnVuY3Rpb24odCxlKXt2YXIgbj1wKCkscj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZSYmXCJzdHJpbmdcIiE9dHlwZW9mIGV8fChlPW5ldyBFcnJvcihlfHxcIlRpbWVkIG91dCBhZnRlciBcIit0K1wiIG1zXCIpLGUuY29kZT1cIkVUSU1FRE9VVFwiKSxuLnJlamVjdChlKX0sdCk7cmV0dXJuIHRoaXMudGhlbihmdW5jdGlvbih0KXtjbGVhclRpbWVvdXQociksbi5yZXNvbHZlKHQpfSxmdW5jdGlvbih0KXtjbGVhclRpbWVvdXQociksbi5yZWplY3QodCl9LG4ubm90aWZ5KSxuLmt9LGMuZGVsYXk9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9dCx0PXZvaWQgMCksYyh0KS5kZWxheShlKX0sZC5wcm90b3R5cGUuZGVsYXk9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudGhlbihmdW5jdGlvbihlKXt2YXIgbj1wKCk7cmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtuLnJlc29sdmUoZSl9LHQpLG4ua30pfSxjLmJ0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGModCkuYnQoZSl9LGQucHJvdG90eXBlLmJ0PWZ1bmN0aW9uKHQpe3ZhciBlPXAoKSxuPVgodCk7cmV0dXJuIG4ucHVzaChlLlkoKSksdGhpcy52dChuKS5mYWlsKGUucmVqZWN0KSxlLmt9LGMuSXQ9ZnVuY3Rpb24odCl7dmFyIGU9WChhcmd1bWVudHMsMSk7cmV0dXJuIGModCkuYnQoZSl9LGQucHJvdG90eXBlLkl0PWZ1bmN0aW9uKCl7dmFyIHQ9WChhcmd1bWVudHMpLGU9cCgpO3JldHVybiB0LnB1c2goZS5ZKCkpLHRoaXMudnQodCkuZmFpbChlLnJlamVjdCksZS5rfSxjLnd0PWMuTnQ9ZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgRXJyb3IoXCJRIGNhbid0IHdyYXAgYW4gdW5kZWZpbmVkIGZ1bmN0aW9uXCIpO3ZhciBlPVgoYXJndW1lbnRzLDEpO3JldHVybiBmdW5jdGlvbigpe3ZhciBuPWUuY29uY2F0KFgoYXJndW1lbnRzKSkscj1wKCk7cmV0dXJuIG4ucHVzaChyLlkoKSksYyh0KS52dChuKS5mYWlsKHIucmVqZWN0KSxyLmt9fSxkLnByb3RvdHlwZS53dD1kLnByb3RvdHlwZS5OdD1mdW5jdGlvbigpe3ZhciB0PVgoYXJndW1lbnRzKTtyZXR1cm4gdC51bnNoaWZ0KHRoaXMpLGMuTnQuYXBwbHkodm9pZCAwLHQpfSxjLmt0PWZ1bmN0aW9uKHQsZSl7dmFyIG49WChhcmd1bWVudHMsMik7cmV0dXJuIGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcigpe3JldHVybiB0LmFwcGx5KGUsYXJndW1lbnRzKX12YXIgbz1uLmNvbmNhdChYKGFyZ3VtZW50cykpLGk9cCgpO3JldHVybiBvLnB1c2goaS5ZKCkpLGMocikudnQobykuZmFpbChpLnJlamVjdCksaS5rfX0sZC5wcm90b3R5cGUua3Q9ZnVuY3Rpb24oKXt2YXIgdD1YKGFyZ3VtZW50cywwKTtyZXR1cm4gdC51bnNoaWZ0KHRoaXMpLGMua3QuYXBwbHkodm9pZCAwLHQpfSxjLlJ0PWMueHQ9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBjKHQpLnh0KGUsbil9LGQucHJvdG90eXBlLlJ0PWQucHJvdG90eXBlLnh0PWZ1bmN0aW9uKHQsZSl7dmFyIG49WChlfHxbXSkscj1wKCk7cmV0dXJuIG4ucHVzaChyLlkoKSksdGhpcy5MKFwicG9zdFwiLFt0LG5dKS5mYWlsKHIucmVqZWN0KSxyLmt9LGMuT3Q9Yy5EdD1jLlB0PWZ1bmN0aW9uKHQsZSl7dmFyIG49WChhcmd1bWVudHMsMikscj1wKCk7cmV0dXJuIG4ucHVzaChyLlkoKSksYyh0KS5MKFwicG9zdFwiLFtlLG5dKS5mYWlsKHIucmVqZWN0KSxyLmt9LGQucHJvdG90eXBlLk90PWQucHJvdG90eXBlLkR0PWQucHJvdG90eXBlLlB0PWZ1bmN0aW9uKHQpe3ZhciBlPVgoYXJndW1lbnRzLDEpLG49cCgpO3JldHVybiBlLnB1c2gobi5ZKCkpLHRoaXMuTChcInBvc3RcIixbdCxlXSkuZmFpbChuLnJlamVjdCksbi5rfSxjLkg9aixkLnByb3RvdHlwZS5IPWZ1bmN0aW9uKHQpe2lmKCF0KXJldHVybiB0aGlzO3RoaXMudGhlbihmdW5jdGlvbihlKXtjLl8oZnVuY3Rpb24oKXt0KG51bGwsZSl9KX0sZnVuY3Rpb24oZSl7Yy5fKGZ1bmN0aW9uKCl7dChlKX0pfSl9LGMuQ3Q9ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoXCJRLm5vQ29uZmxpY3Qgb25seSB3b3JrcyB3aGVuIFEgaXMgdXNlZCBhcyBhIGdsb2JhbFwiKX07dmFyIHN0PWEoKTtyZXR1cm4gY30pfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9dGhpcyYmdGhpcy5BdHx8ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWZvcih2YXIgciBpbiBlKWUuaGFzT3duUHJvcGVydHkocikmJih0W3JdPWVbcl0pO3QucHJvdG90eXBlPW51bGw9PT1lP09iamVjdC5jcmVhdGUoZSk6KG4ucHJvdG90eXBlPWUucHJvdG90eXBlLG5ldyBuKX0sbz1uKDApLGk9bigyKSxzPW4oMyksdT1pLlZ0Lkx0Oy0xPT11JiYodT0zZTQpO3ZhciBhPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxuKXt2YXIgcj10LmNhbGwodGhpcyxuKXx8dGhpcztyZXR1cm4gci5wbHVnaW5OYW1lPVwiYml0bW92aW5cIixyLkh0PVtdLHIuVXQ9dm9pZCAwLHIucGxheWVyPWUsci5wbGF5ZXIub3JpZ2luYWxTZXR1cD1yLnBsYXllci5zZXR1cCxyLnBsYXllci5qdD1yLnBsYXllci5sb2FkLHIucGxheWVyLmxvYWQ9ZnVuY3Rpb24odCxlLG4pe3JldHVybiByLnBsYXllci5jbG9zZUhpdmVTZXNzaW9uKCksci5wbGF5ZXIuanQodCxlLG4pfSxyLnBsYXllci5jbG9zZUhpdmVTZXNzaW9uPWZ1bmN0aW9uKHQpe3ZvaWQgMD09PXQmJih0PSEwKSxyLmNsb3NlSGl2ZVNlc3Npb24oKSx0JiZyLkJ0KCl9LHIucGxheWVyLnNldHVwPWZ1bmN0aW9uKHQsZSl7ci5jbG9zZUhpdmVTZXNzaW9uKCksdC5zb3VyY2UuaGxzX3RpY2tldCYmdC5zb3VyY2UuZGFzaF90aWNrZXQmJihyLmxvZ2dlcigpLndhcm4oXCJUaGUgSGl2ZSBwbHVnaW4gZG9lcyBub3Qgc3VwcG9ydCBwcm92aWRpbmcgYSB0aWNrZXQgZm9yIGJvdGggREFTSCBhbmQgSExTIHNpbXVsdGFuZW91c2x5LiBVc2luZyBITFMgc291cmNlLlwiKSxkZWxldGUgdC5zb3VyY2UuZGFzaF90aWNrZXQpO3ZhciBuPXQuc291cmNlLmhsc190aWNrZXQ/XCJobHNcIjp0LnNvdXJjZS5kYXNoX3RpY2tldD9cImRhc2hcIjpcIlwiLGk9dC5zb3VyY2UuaGxzX3RpY2tldHx8dC5zb3VyY2UuZGFzaF90aWNrZXQ7cmV0dXJuIGk/KGRlbGV0ZSB0LnNvdXJjZVtuK1wiX3RpY2tldFwiXSxyLnJlc29sdmVUaWNrZXRQcm9taXNlKGkpLnRpbWVvdXQodSxyLmxvZ2dlcklkK1wiSGl2ZSBQbHVnaW4gaW5pdGlhbGl6YXRpb24gdGltZW91dFwiKS50aGVuKGZ1bmN0aW9uKG8pe3JldHVybiByLk10KCksby50ZWNoLmdldE5hbWUoKT09PUhpdmVDb21tLlRlY2hOYW1lLkhpdmVKUyYmKHQubmV0d29yaz17c2VuZEh0dHBSZXF1ZXN0OnIuc2VuZEh0dHBSZXF1ZXN0KG8uaWQpfSksdC5zb3VyY2Vbbl09by5tYW5pZmVzdCxyLnBsYXllci5vcmlnaW5hbFNldHVwKHQsZSl9KS5jYXRjaChmdW5jdGlvbih0KXtyZXR1cm4gci5vblNldHVwVGltZW91dCgpLHIucmVzZXRTZXNzaW9uKCksci5sb2dnZXIoKS5kZWJ1ZyhyLmxvZ2dlcklkK1wiZXJyb3Igb2NjdXJyZWQgcmVzb2x2aW5nIHRoZSB0aWNrZXQgLSBcIisodC5zdGFja3x8dC5tZXNzYWdlfHx0KSksby5yZWplY3QodCl9KSk6KHIubG9nZ2VyKCkuZGVidWcoci5sb2dnZXJJZCtcIk5vIEhpdmUgdGlja2V0IHByb3ZpZGVkLCBmYWxsaW5nIGJhY2sgdG8gb3JpZ2luYWxTZXR1cFwiKSxyLnBsYXllci5vcmlnaW5hbFNldHVwKHQsZSkpfSxyLmxvZ2dlcigpLm5vdGljZShyLmxvZ2dlcklkK1wicmVnaXN0ZXJlZCBwbHVnaW4gW25hbWU6XCIrci5nZXRQbHVnaW5OYW1lKCkrXCJdW2lkOiBcIityLmdldFBsdWdpbklkKCkrXCJdW3ZlcnNpb246IFwiK3IuZ2V0UGx1Z2luVmVyc2lvbigpK1wiXVwiKSxyfXJldHVybiByKGUsdCksZS5wcm90b3R5cGUuc2VuZEh0dHBSZXF1ZXN0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKG4scil7cmV0dXJuIGUubG9nZ2VyKCkuZGVidWcoXCJzZW5kSHR0cFJlcXVlc3QgY2FsbGVkXCIsbixyKSxlLmdldFBvdGVudGlhbFNlc3Npb24oKSYmbi5tYXRjaCgvbWFuaWZlc3RcXC9kYXNofG1hbmlmZXN0XFwvaGxzfGF1ZGlvfHZpZGVvLyk/KGUubG9nZ2VyKCkuZGVidWcoXCJVc2luZyBIaXZlUmVxdWVzdFwiLG4sciksbmV3IHMuRnQocix0KSk6bnVsbH19LGUucHJvdG90eXBlLnJlZ2lzdGVyRXZlbnQ9ZnVuY3Rpb24odCxlKXt0aGlzLnBsYXllci5hZGRFdmVudEhhbmRsZXIodCxlKSx0aGlzLkh0LnB1c2goe3F0OnQsUXQ6ZX0pfSxlLnByb3RvdHlwZS5CdD1mdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy5sb2dnZXIoKS5kZWJ1Zyh0aGlzLmxvZ2dlcklkK1wiVW5yZWdpc3RlcmluZyBldmVudHNcIiksdGhpcy5IdC5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciBuPWUucXQscj1lLlF0O3QucGxheWVyLnJlbW92ZUV2ZW50SGFuZGxlcihuLHIpfSksdGhpcy5IdC5sZW5ndGg9MH0sZS5wcm90b3R5cGUuTXQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuSHQubGVuZ3RofHwodGhpcy5yZWdpc3RlckV2ZW50KFwib25SZWFkeVwiLGZ1bmN0aW9uKCl7aWYodC5sb2dnZXIoKS5kZWJ1ZyhcImJpdG1vdmluLnBsYXllci5FVkVOVC5PTl9SRUFEWVwiKSx0Lm9uQWN0aXZhdGVTZXNzaW9uKCkpeyEhdC5wbGF5ZXIuZ2V0Q29uZmlnKCkucGxheWJhY2smJnQucGxheWVyLmdldENvbmZpZygpLnBsYXliYWNrLmF1dG8mJnQub25TdGFydEJ1ZmZlcmluZyghMSksdC5nZXRBY3RpdmVTZXNzaW9uKCkmJih0Lll0PW5ldyBIaXZlQ29tbS5IaXZlUGxheWVyRXh0ZW5kZWRTdGF0cyl9fSksdGhpcy5yZWdpc3RlckV2ZW50KFwib25QbGF5XCIsZnVuY3Rpb24oKXt0LmxvZ2dlcigpLmRlYnVnKFwiYml0bW92aW4ucGxheWVyLkVWRU5ULk9OX1BMQVlcIiksdC5KdCgwKX0pLHRoaXMucmVnaXN0ZXJFdmVudChcIm9uRXJyb3JcIixmdW5jdGlvbihlKXt0LmxvZ2dlcigpLmRlYnVnKFwiYml0bW92aW4ucGxheWVyLkVWRU5ULk9OX0VSUk9SXCIpO3ZhciBuPS0xLHI9bnVsbDtpZihudWxsIT1lKXRyeXtuPWUuY29kZSxyPUpTT04uc3RyaW5naWZ5KGUsbnVsbCl9Y2F0Y2godCl7cj1lfXQub25FcnJvcihuLHIpLHQuQnQoKX0pLHRoaXMucmVnaXN0ZXJFdmVudChcIm9uUGxheWJhY2tGaW5pc2hlZFwiLGZ1bmN0aW9uKCl7dC5sb2dnZXIoKS5kZWJ1ZyhcImJpdG1vdmluLnBsYXllci5FVkVOVC5PTl9QTEFZQkFDS19GSU5JU0hFRFwiKSx0Lm9uRXZlbnRGZWVkYmFjayg0LHtjb2RlOjF9KX0pLHRoaXMucmVnaXN0ZXJFdmVudChcIm9uU2Vla1wiLGZ1bmN0aW9uKCl7dC5sb2dnZXIoKS5kZWJ1ZyhcImJpdG1vdmluLnBsYXllci5FVkVOVC5PTl9TRUVLXCIpLHQub25FdmVudEZlZWRiYWNrKDMpfSksdGhpcy5yZWdpc3RlckV2ZW50KFwib25GdWxsc2NyZWVuRW50ZXJcIixmdW5jdGlvbigpe3QubG9nZ2VyKCkuZGVidWcoXCJiaXRtb3Zpbi5wbGF5ZXIuRVZFTlQuT05fRlVMTFNDUkVFTl9FTlRFUlwiKSx0Lm9uRXZlbnRGZWVkYmFjayg3LHt2YWx1ZTohMH0pfSksdGhpcy5yZWdpc3RlckV2ZW50KFwib25GdWxsc2NyZWVuRXhpdFwiLGZ1bmN0aW9uKCl7dC5sb2dnZXIoKS5kZWJ1ZyhcImJpdG1vdmluLnBsYXllci5FVkVOVC5PTl9GVUxMU0NSRUVOX0VYSVRcIiksdC5vbkV2ZW50RmVlZGJhY2soNyx7dmFsdWU6ITF9KX0pLHRoaXMucmVnaXN0ZXJFdmVudChcIm9uU2VnbWVudFJlcXVlc3RGaW5pc2hlZFwiLGZ1bmN0aW9uKGUpe2lmKHQuWXQpe3ZhciBuPWUubWltZVR5cGUuaW5kZXhPZihcInZpZGVvXCIpPj0wO2lmKHZvaWQgMD09PXQuWHQpe3ZhciByPXQucGxheWVyLmdldFBsYXliYWNrVmlkZW9EYXRhKCk7ciYmci5iaXRyYXRlJiZ0Lkd0KHIuYml0cmF0ZSl9aWYoZS5zdWNjZXNzKXtpZighZS5pc0luaXQmJnQuWHQpe3ZhciBvPTgqZS5zaXplL2UuZG93bmxvYWRUaW1lO3QuWXQuYWNjb3VudENvbXBsZXRlZChuLHQuWHQsZS5zaXplKSx0Lll0LnVwZGF0ZUJhbmR3aWR0aChvKX19ZWxzZSB0Lll0LmFjY291bnRGYWlsZWQobix0Llh0KX19KSx0aGlzLnJlZ2lzdGVyRXZlbnQoXCJvbkRlc3Ryb3lcIixmdW5jdGlvbigpe3QubG9nZ2VyKCkuZGVidWcoXCJiaXRtb3Zpbi5wbGF5ZXIuRVZFTlQuT05fREVTVFJPWVwiKSx0LnBsYXllci5jbG9zZUhpdmVTZXNzaW9uKCExKX0pLDA9PT10aGlzLmdldFBsYXllclZlcnNpb24oKS5pbmRleE9mKFwiN1wiKT90aGlzLkt0KCk6MD09PXRoaXMuZ2V0UGxheWVyVmVyc2lvbigpLmluZGV4T2YoXCI2XCIpJiZ0aGlzLld0KCkpfSxlLnByb3RvdHlwZS5XdD1mdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy5yZWdpc3RlckV2ZW50KFwib25TdGFydEJ1ZmZlcmluZ1wiLGZ1bmN0aW9uKCl7dC5sb2dnZXIoKS5kZWJ1ZyhcImJpdG1vdmluLnBsYXllci5FVkVOVC5PTl9TVEFSVF9CVUZGRVJJTkdcIiksdC5vblN0YXJ0QnVmZmVyaW5nKCl9KSx0aGlzLnJlZ2lzdGVyRXZlbnQoXCJvblN0b3BCdWZmZXJpbmdcIixmdW5jdGlvbigpe3QubG9nZ2VyKCkuZGVidWcoXCJiaXRtb3Zpbi5wbGF5ZXIuRVZFTlQuT05fU1RPUF9CVUZGRVJJTkdcIiksdC5vbkVuZEJ1ZmZlcmluZygpfSksdGhpcy5yZWdpc3RlckV2ZW50KFwib25QYXVzZVwiLGZ1bmN0aW9uKCl7dC5sb2dnZXIoKS5kZWJ1ZyhcImJpdG1vdmluLnBsYXllci5FVkVOVC5PTl9QQVVTRVwiKSx0Lkp0KDIpfSksdGhpcy5yZWdpc3RlckV2ZW50KFwib25WaWRlb0Rvd25sb2FkUXVhbGl0eUNoYW5nZVwiLGZ1bmN0aW9uKGUpe3QuZ2V0U3RyZWFtUHJvdG9jb2woKT09PVN0cmVhbVByb3RvY29sLnp0P3QuR3QoZS50YXJnZXRRdWFsaXR5KTp0Lkd0KGUudGFyZ2V0UXVhbGl0eS5zcGxpdChcImJyXCIpWzFdKX0pfSxlLnByb3RvdHlwZS5LdD1mdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy5yZWdpc3RlckV2ZW50KFwib25TdGFsbFN0YXJ0ZWRcIixmdW5jdGlvbigpe3QubG9nZ2VyKCkuZGVidWcoXCJiaXRtb3Zpbi5wbGF5ZXIuRVZFTlQuT05fU1RBTExfU1RBUlRFRFwiKSx0Lm9uU3RhcnRCdWZmZXJpbmcoKX0pLHRoaXMucmVnaXN0ZXJFdmVudChcIm9uU3RhbGxFbmRlZFwiLGZ1bmN0aW9uKCl7dC5sb2dnZXIoKS5kZWJ1ZyhcImJpdG1vdmluLnBsYXllci5FVkVOVC5PTl9TVEFMTF9FTkRFRFwiKSx0Lm9uRW5kQnVmZmVyaW5nKCl9KSx0aGlzLnJlZ2lzdGVyRXZlbnQoXCJvblBhdXNlZFwiLGZ1bmN0aW9uKCl7dC5sb2dnZXIoKS5kZWJ1ZyhcImJpdG1vdmluLnBsYXllci5FVkVOVC5PTl9QQVVTRURcIiksdC5KdCgyKX0pLHRoaXMucmVnaXN0ZXJFdmVudChcIm9uVmlkZW9Eb3dubG9hZFF1YWxpdHlDaGFuZ2VkXCIsZnVuY3Rpb24oZSl7dC5HdChlLnRhcmdldFF1YWxpdHkmJmUudGFyZ2V0UXVhbGl0eS5iaXRyYXRlfHxlLnRhcmdldFF1YWxpdHlJZCYmZS50YXJnZXRRdWFsaXR5SWQuYml0cmF0ZSl9KX0sZS5wcm90b3R5cGUuR3Q9ZnVuY3Rpb24odCl7dGhpcy5sb2dnZXIoKS5kZWJ1ZyhcIm5ld0JpdHJhdGVcIix0KSx0aGlzLlh0JiZ0PnRoaXMuWHQmJnRoaXMuWXQ/dGhpcy5ZdC5iaXRyYXRlU3dpdGNoVXAoKTp0aGlzLlh0JiZ0aGlzLlh0PnQmJnRoaXMuWXQmJnRoaXMuWXQuYml0cmF0ZVN3aXRjaERvd24oKSx0aGlzLlh0PXR9LGUucHJvdG90eXBlLkp0PWZ1bmN0aW9uKHQpe3ZvaWQgMCE9dGhpcy5VdCYmdGhpcy5VdD09PXR8fCh0aGlzLm9uRXZlbnRGZWVkYmFjayh0KSx0aGlzLlV0PXQpfSxlLnByb3RvdHlwZS5nZXRQbGF5ZXJTb3VyY2U9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldFN0cmVhbVByb3RvY29sKCk7cmV0dXJuIHQ9PT1TdHJlYW1Qcm90b2NvbC56dD90aGlzLnBsYXllci5nZXRDb25maWcoKS5zb3VyY2UuaGxzOnQ9PT1TdHJlYW1Qcm90b2NvbC5EQVNIP3RoaXMucGxheWVyLmdldENvbmZpZygpLnNvdXJjZS5kYXNoOnZvaWQgMH0sZS5wcm90b3R5cGUuZ2V0Q3VycmVudFRpbWU9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9dGhpcy5wbGF5ZXI/TWF0aC5yb3VuZCgxZTMqdGhpcy5wbGF5ZXIuZ2V0Q3VycmVudFRpbWUoKSk6MH0sZS5wcm90b3R5cGUuZ2V0QnVmZmVyTGVuPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPXRoaXMucGxheWVyJiZudWxsIT10aGlzLnBsYXllci5nZXRWaWRlb0J1ZmZlckxlbmd0aCYmdGhpcy5wbGF5ZXIuZ2V0VmlkZW9CdWZmZXJMZW5ndGgoKT4wP01hdGgubWF4KDAsTWF0aC5yb3VuZCgxZTMqdGhpcy5wbGF5ZXIuZ2V0VmlkZW9CdWZmZXJMZW5ndGgoKSkpOjB9LGUucHJvdG90eXBlLmdldFdpbmRvd1NpemU9ZnVuY3Rpb24oKXtpZih0aGlzLnBsYXllcil7dmFyIHQ9dGhpcy5wbGF5ZXIuZ2V0RmlndXJlKCk7cmV0dXJue3dpZHRoOnQub2Zmc2V0V2lkdGgsaGVpZ2h0OnQub2Zmc2V0SGVpZ2h0fX19LGUucHJvdG90eXBlLmlzRnVsbHNjcmVlbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBsYXllci5pc0Z1bGxzY3JlZW4oKX0sZS5wcm90b3R5cGUuaXNMaXZlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGxheWVyLmlzTGl2ZSgpfSxlLnByb3RvdHlwZS5pc0FjdGl2ZT1mdW5jdGlvbigpe3JldHVybiEwfSxlLnByb3RvdHlwZS5nZXRTdHJlYW1Qcm90b2NvbD1mdW5jdGlvbigpe2lmKHRoaXMucGxheWVyKXt2YXIgdD10aGlzLnBsYXllci5nZXRTdHJlYW1UeXBlKCk7aWYoXCJobHNcIj09PXQpcmV0dXJuIFN0cmVhbVByb3RvY29sLnp0O2lmKFwiZGFzaFwiPT09dClyZXR1cm4gU3RyZWFtUHJvdG9jb2wuREFTSH1yZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUuZ2V0RXh0ZW5kZWRTdGF0cz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuWXQ7cmV0dXJuIHRoaXMuWXQ9bmV3IEhpdmVDb21tLkhpdmVQbGF5ZXJFeHRlbmRlZFN0YXRzLHR9LGUucHJvdG90eXBlLmdldFBsdWdpbk5hbWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wbHVnaW5OYW1lfSxlLnByb3RvdHlwZS5nZXRQbHVnaW5WZXJzaW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0Q29tbVZlcnNpb24oKX0sZS5wcm90b3R5cGUuZ2V0UGxheWVyVGVjaD1mdW5jdGlvbigpe2lmKHRoaXMucGxheWVyKXJldHVybiB0aGlzLnBsYXllci5nZXRQbGF5ZXJUeXBlKCl9LGUucHJvdG90eXBlLmdldFBsYXllclZlcnNpb249ZnVuY3Rpb24oKXtyZXR1cm4gdm9pZCAwIT09Yml0bW92aW4ucGxheWVyLnZlcnNpb24/Yml0bW92aW4ucGxheWVyLnZlcnNpb246dGhpcy5wbGF5ZXIuZ2V0VmVyc2lvbigpfSxlfShIaXZlQ29tbS5QbHVnaW4pO2UuJHQ9YTt2YXIgYz1mdW5jdGlvbih0LGUpe25ldyBhKHQsZSl9O2JpdG1vdmluLmluaXRIaXZlU0ROPWN9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHR9KCk7ci5adD1cInVuZGVmaW5lZFwiIT10eXBlb2YgSElWRV9DT01NX0pTJiZISVZFX0NPTU1fSlMsci50ZT1cInVuZGVmaW5lZFwiIT10eXBlb2YgSElWRV9DT01NX0pBVkEmJkhJVkVfQ09NTV9KQVZBLHIuZWU9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIEhJVkVfQ09NTV9KU19QUk9YWSYmSElWRV9DT01NX0pTX1BST1hZLHIubmU9XCI0LjEuMFwiLHIucmU9XCJiaXRtb3ZpblwiLHIub2U9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIEhJVkVfU0VSVklDRV9FTkRQT0lOVF9URVNUJiZISVZFX1NFUlZJQ0VfRU5EUE9JTlRfVEVTVCxyLmllPVwidW5kZWZpbmVkXCI9PXR5cGVvZiBISVZFX1BFUlNJU1RFTlRfSURFTlRJVFl8fEhJVkVfUEVSU0lTVEVOVF9JREVOVElUWSxyLnNlPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBJTkNMVURFX1ZPRF9DQUNIRSYmSU5DTFVERV9WT0RfQ0FDSEUsci51ZT1cInVuZGVmaW5lZFwiIT10eXBlb2YgSU5DTFVERV9VRFBfQlJPQURDQVNUJiZJTkNMVURFX1VEUF9CUk9BRENBU1Qsci5hZT1cInVuZGVmaW5lZFwiIT10eXBlb2YgSU5DTFVERV9VRFBfTEVBREVSX0VMRUNUSU9OJiZJTkNMVURFX1VEUF9MRUFERVJfRUxFQ1RJT04sci5jZT1cInVuZGVmaW5lZFwiIT10eXBlb2YgTEVBREVSX1NDT1JFX0VRVUFMSVRZJiZMRUFERVJfU0NPUkVfRVFVQUxJVFksci5wZT1cInVuZGVmaW5lZFwiIT10eXBlb2YgSU5DTFVERV9ERUZBVUxUX05FVFdPUksmJklOQ0xVREVfREVGQVVMVF9ORVRXT1JLLHIuZmU9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIEhJVkVfUkVTVFJJQ1RFRF9DT05OSU5GTyYmSElWRV9SRVNUUklDVEVEX0NPTk5JTkZPLHIubGU9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIEhJVkVfRElTQ09WRVJZP0hJVkVfRElTQ09WRVJZOlwid3M6Ly8xMjcuMC4wLjE6ODAwMC9oaXZlXCIsci5kZT1cInVuZGVmaW5lZFwiIT10eXBlb2YgUDJQRGlzcGF0Y2hlckRldGFpbGVkTG9nJiZQMlBEaXNwYXRjaGVyRGV0YWlsZWRMb2csci5oZT1cInVuZGVmaW5lZFwiIT10eXBlb2YgTmV0d29ya01hbmFnZXJEZXRhaWxlZExvZyYmTmV0d29ya01hbmFnZXJEZXRhaWxlZExvZyxyLnllPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBBVEFUVVNfS0VZP0FUQVRVU19LRVk6XCI1OTI4MzVhNmI0MjA0ZGQxOTdjMDA0ODg2MTAwMDNlMFwiLHIudmU9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIEFUQVRVU19WRVJTSU9OP0FUQVRVU19WRVJTSU9OOlwiMC44XCIsci5nZT1cInVuZGVmaW5lZFwiPT10eXBlb2YgQVRBVFVTX0RFRkFVTFRfRU5BQkxFRHx8QVRBVFVTX0RFRkFVTFRfRU5BQkxFRCxyLkVlPTUsci5MdD1cInVuZGVmaW5lZFwiIT10eXBlb2YgSElWRV9QTFVHSU5fVElNRU9VVD9ISVZFX1BMVUdJTl9USU1FT1VUOi0xLHIubWU9XCJ1bmRlZmluZWRcIj09dHlwZW9mIEhJVkVfREVURUNUX1BSSVZBVEVJUHx8SElWRV9ERVRFQ1RfUFJJVkFURUlQLHIuVGU9XCJ1bmRlZmluZWRcIj09dHlwZW9mIEhJVkVfU1RPUkVfSVBfREJ8fEhJVkVfU1RPUkVfSVBfREIsZS5WdD1yfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9big0KSxvPW4oMCksaT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt0aGlzLnNlc3Npb25JZD1lLHRoaXMucmVxdWVzdD10fXJldHVybiB0LnByb3RvdHlwZS5nZXRSZXNwb25zZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMsZT1vLmRlZmVyKCk7cmV0dXJuIHRoaXMuU2U9bmV3IHIuX2Uoe3hoclNldHVwOmZ1bmN0aW9uKGUsbil7ZT1uZXcgSGl2ZUNvbW0uSGl2ZVJlcXVlc3RGYWN0b3J5KHQuc2Vzc2lvbklkKSxlLm9wZW4odC5yZXF1ZXN0Lm1ldGhvZCxuLnVybCwhMCk7Zm9yKHZhciByPTAsbz10LnJlcXVlc3QuaGVhZGVycztyPG8ubGVuZ3RoO3IrKyl7dmFyIGk9b1tyXTtlLnNldFJlcXVlc3RIZWFkZXIoaS5uYW1lLGkudmFsdWUpfXJldHVybiBlLnJlc3BvbnNlVHlwZT10LnJlcXVlc3QucmVzcG9uc2VUeXBlLGV9fSksdGhpcy5TZS5sb2FkKHRoaXMucmVxdWVzdCx7fSx7b25TdWNjZXNzOmZ1bmN0aW9uKG4scixvKXtjb25zb2xlLmxvZyhcIlNVQ0NFU1MgUkVRVUVTVFwiLG4scixvKSxlLnJlc29sdmUoe3JlcXVlc3Q6dC5yZXF1ZXN0LHVybDp0LnJlcXVlc3QudXJsLGhlYWRlcnM6dC5yZXF1ZXN0LmhlYWRlcnMsc3RhdHVzOm4uc3RhdHVzLGxlbmd0aDpuLmRhdGEubGVuZ3RofHxuLmRhdGEuYnl0ZUxlbmd0aCxzdGF0dXNUZXh0OlwiT0tcIixib2R5Om4uZGF0YX0pfSxvbkVycm9yOmZ1bmN0aW9uKHQsbil7dmFyIHI9dC5jb2RlO3QudGV4dDtlLnJlamVjdChyKX0sb25UaW1lb3V0OmZ1bmN0aW9uKHQsbil7ZS5yZWplY3QoXCJ0aW1lb3V0XCIpfX0pLGUua30sdC5wcm90b3R5cGUuc2V0UHJvZ3Jlc3NMaXN0ZW5lcj1mdW5jdGlvbih0KXt9LHQucHJvdG90eXBlLmNhbmNlbD1mdW5jdGlvbigpe3RoaXMuU2UmJnRoaXMuU2UuYWJvcnQoKX0sdH0oKTtlLkZ0PWl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5sb2dnZXJJZD1cIltIaXZlWGhyTG9hZGVyXVwiLHRoaXMuYmU9dCx0JiZ0LnhoclNldHVwJiYodGhpcy54aHJTZXR1cD10LnhoclNldHVwKX1yZXR1cm4gdC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuYWJvcnQoKSx0aGlzLmxvYWRlcj1udWxsLHRoaXMueGhyPW51bGx9LHQucHJvdG90eXBlLmFib3J0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5sb2FkZXJ8fHRoaXMueGhyO3QmJjQhPT10LnJlYWR5U3RhdGUmJih0aGlzLnN0YXRzLkllPSEwLHQuYWJvcnQoKSksd2luZG93LmNsZWFyVGltZW91dCh0aGlzLnJlcXVlc3RUaW1lb3V0KSx0aGlzLnJlcXVlc3RUaW1lb3V0PW51bGwsd2luZG93LmNsZWFyVGltZW91dCh0aGlzLnJldHJ5VGltZW91dCksdGhpcy5yZXRyeVRpbWVvdXQ9bnVsbH0sdC5wcm90b3R5cGUubG9hZD1mdW5jdGlvbih0LGUsbil7dGhpcy5jb250ZXh0PXQsdGhpcy5jb25maWc9ZSx0aGlzLmNhbGxiYWNrcz1uLHRoaXMuc3RhdHM9e3RyZXF1ZXN0OnBlcmZvcm1hbmNlLm5vdygpLHJldHJ5OjB9LHRoaXMucmV0cnlEZWxheT1lLnJldHJ5RGVsYXksdGhpcy53ZSgpfSx0LnByb3RvdHlwZS53ZT1mdW5jdGlvbigpe3RoaXMueGhyPW51bGw7dmFyIHQ9dGhpcy5jb250ZXh0LGU9dGhpcy5zdGF0cztlLnRmaXJzdD0wLGUubG9hZGVkPTAsdGhpcy54aHJTZXR1cD90aGlzLnhocj10aGlzLnhoclNldHVwKHRoaXMueGhyLHQpOkhpdmVDb21tLmxvZ0Vycm9yKFwiSGl2ZSBYSFIgc2V0dXAgbWlzc2luZ1wiLHRoaXMubG9nZ2VySWQpLHRoaXMueGhyLm9ucmVhZHlzdGF0ZWNoYW5nZT10aGlzLnJlYWR5c3RhdGVjaGFuZ2UuYmluZCh0aGlzKSx0aGlzLnhoci5vbnByb2dyZXNzPXRoaXMubG9hZHByb2dyZXNzLmJpbmQodGhpcyksdGhpcy5jb25maWcudGltZW91dCYmKHRoaXMucmVxdWVzdFRpbWVvdXQ9d2luZG93LnNldFRpbWVvdXQodGhpcy5sb2FkdGltZW91dC5iaW5kKHRoaXMpLHRoaXMuY29uZmlnLnRpbWVvdXQpKSx0aGlzLnhoci5zZW5kKCl9LHQucHJvdG90eXBlLnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24odCl7dmFyIGU9dC5jdXJyZW50VGFyZ2V0LG49ZS5yZWFkeVN0YXRlLHI9dGhpcy5zdGF0cyxvPXRoaXMuY29udGV4dCxpPXRoaXMuY29uZmlnO2lmKCFyLkllJiZuPj0yKWlmKHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5yZXF1ZXN0VGltZW91dCksMD09PXIudGZpcnN0JiYoci50Zmlyc3Q9TWF0aC5tYXgocGVyZm9ybWFuY2Uubm93KCksci50cmVxdWVzdCkpLDQ9PT1uKXt2YXIgcz1lLnN0YXR1cztpZihzPj0yMDAmJnM8MzAwKXtyLnRsb2FkPU1hdGgubWF4KHIudGZpcnN0LHBlcmZvcm1hbmNlLm5vdygpKTt2YXIgdT12b2lkIDAsYT12b2lkIDA7XCJhcnJheWJ1ZmZlclwiPT09by5yZXNwb25zZVR5cGU/KHU9ZS5yZXNwb25zZSxhPXUuYnl0ZUxlbmd0aCk6KHU9ZS5yZXNwb25zZVRleHQsYT11Lmxlbmd0aCksci5sb2FkZWQ9ci50b3RhbD1hO3ZhciBjPXt1cmw6ZS5yZXNwb25zZVVSTCxkYXRhOnV9O3RoaXMuY2FsbGJhY2tzLm9uU3VjY2VzcyhjLHIsbyl9ZWxzZSByLnJldHJ5Pj1pLk5lfHxzPj00MDAmJnM8NDk5Pyhjb25zb2xlLndhcm4ocytcIiB3aGlsZSBsb2FkaW5nIFwiK28udXJsKSx0aGlzLmNhbGxiYWNrcy5vbkVycm9yKHtjb2RlOnMsdGV4dDplLnN0YXR1c1RleHR9LG8pKTooY29uc29sZS53YXJuKHMrXCIgd2hpbGUgbG9hZGluZyBcIitvLnVybCtcIiwgcmV0cnlpbmcgaW4gXCIrdGhpcy5yZXRyeURlbGF5K1wiLi4uXCIpLHRoaXMuZGVzdHJveSgpLHRoaXMucmV0cnlUaW1lb3V0PXdpbmRvdy5zZXRUaW1lb3V0KHRoaXMud2UuYmluZCh0aGlzKSx0aGlzLnJldHJ5RGVsYXkpLHRoaXMucmV0cnlEZWxheT1NYXRoLm1pbigyKnRoaXMucmV0cnlEZWxheSxpLmtlKSxyLnJldHJ5KyspfWVsc2UgaS50aW1lb3V0JiYodGhpcy5yZXF1ZXN0VGltZW91dD13aW5kb3cuc2V0VGltZW91dCh0aGlzLmxvYWR0aW1lb3V0LmJpbmQodGhpcyksaS50aW1lb3V0KSl9LHQucHJvdG90eXBlLmxvYWR0aW1lb3V0PWZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKFwidGltZW91dCB3aGlsZSBsb2FkaW5nIFwiK3RoaXMuY29udGV4dC51cmwpLHRoaXMuY2FsbGJhY2tzLm9uVGltZW91dCh0aGlzLnN0YXRzLHRoaXMuY29udGV4dCl9LHQucHJvdG90eXBlLmxvYWRwcm9ncmVzcz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnN0YXRzO2UubG9hZGVkPXQubG9hZGVkLHQubGVuZ3RoQ29tcHV0YWJsZSYmKGUudG90YWw9dC50b3RhbCk7dmFyIG49dGhpcy5jYWxsYmFja3Mub25Qcm9ncmVzcztuJiZuKGUsdGhpcy5jb250ZXh0LG51bGwpfSx0fSgpO2UuX2U9cn1dKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJpdG1vdmluLmNvbW0uaGl2ZTE1MzI0NDQ1NzY3MjEuanMubWFwXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL2hpdmUvYml0bW92aW4uaGl2ZS5taW4uanNcbi8vIG1vZHVsZSBpZCA9IDkyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=