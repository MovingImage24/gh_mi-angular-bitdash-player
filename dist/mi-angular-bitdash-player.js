/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 26);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var component_1 = __webpack_require__(1);
var dom_1 = __webpack_require__(2);
var utils_1 = __webpack_require__(3);
/**
 * A container component that can contain a collection of child components.
 * Components can be added at construction time through the {@link ContainerConfig#components} setting, or later
 * through the {@link Container#addComponent} method. The UIManager automatically takes care of all components, i.e. it
 * initializes and configures them automatically.
 *
 * In the DOM, the container consists of an outer <div> (that can be configured by the config) and an inner wrapper
 * <div> that contains the components. This double-<div>-structure is often required to achieve many advanced effects
 * in CSS and/or JS, e.g. animations and certain formatting with absolute positioning.
 *
 * DOM example:
 * <code>
 *     <div class='ui-container'>
 *         <div class='container-wrapper'>
 *             ... child components ...
 *         </div>
 *     </div>
 * </code>
 */
var Container = (function (_super) {
    __extends(Container, _super);
    function Container(config) {
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-container',
            components: []
        }, _this.config);
        return _this;
    }
    /**
     * Adds a child component to the container.
     * @param component the component to add
     */
    Container.prototype.addComponent = function (component) {
        this.config.components.push(component);
    };
    /**
     * Removes a child component from the container.
     * @param component the component to remove
     * @returns {boolean} true if the component has been removed, false if it is not contained in this container
     */
    Container.prototype.removeComponent = function (component) {
        return utils_1.ArrayUtils.remove(this.config.components, component) != null;
    };
    /**
     * Gets an array of all child components in this container.
     * @returns {Component<ComponentConfig>[]}
     */
    Container.prototype.getComponents = function () {
        return this.config.components;
    };
    /**
     * Removes all child components from the container.
     */
    Container.prototype.removeComponents = function () {
        for (var _i = 0, _a = this.getComponents(); _i < _a.length; _i++) {
            var component = _a[_i];
            this.removeComponent(component);
        }
    };
    /**
     * Updates the DOM of the container with the current components.
     */
    Container.prototype.updateComponents = function () {
        this.innerContainerElement.empty();
        for (var _i = 0, _a = this.config.components; _i < _a.length; _i++) {
            var component = _a[_i];
            this.innerContainerElement.append(component.getDomElement());
        }
    };
    Container.prototype.toDomElement = function () {
        // Create the container element (the outer <div>)
        var containerElement = new dom_1.DOM(this.config.tag, {
            'id': this.config.id,
            'class': this.getCssClasses()
        });
        // Create the inner container element (the inner <div>) that will contain the components
        var innerContainer = new dom_1.DOM(this.config.tag, {
            'class': this.prefixCss('container-wrapper')
        });
        this.innerContainerElement = innerContainer;
        this.updateComponents();
        containerElement.append(innerContainer);
        return containerElement;
    };
    return Container;
}(component_1.Component));
exports.Container = Container;


/***/ }),
/* 1 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var guid_1 = __webpack_require__(32);
var dom_1 = __webpack_require__(2);
var eventdispatcher_1 = __webpack_require__(4);
/**
 * The base class of the UI framework.
 * Each component must extend this class and optionally the config interface.
 */
var Component = (function () {
    /**
     * Constructs a component with an optionally supplied config. All subclasses must call the constructor of their
     * superclass and then merge their configuration into the component's configuration.
     * @param config the configuration for the component
     */
    function Component(config) {
        if (config === void 0) { config = {}; }
        /**
         * The list of events that this component offers. These events should always be private and only directly
         * accessed from within the implementing component.
         *
         * Because TypeScript does not support private properties with the same name on different class hierarchy levels
         * (i.e. superclass and subclass cannot contain a private property with the same name), the default naming
         * convention for the event list of a component that should be followed by subclasses is the concatenation of the
         * camel-cased class name + 'Events' (e.g. SubClass extends Component => subClassEvents).
         * See {@link #componentEvents} for an example.
         *
         * Event properties should be named in camel case with an 'on' prefix and in the present tense. Async events may
         * have a start event (when the operation starts) in the present tense, and must have an end event (when the
         * operation ends) in the past tense (or present tense in special cases (e.g. onStart/onStarted or onPlay/onPlaying).
         * See {@link #componentEvents#onShow} for an example.
         *
         * Each event should be accompanied with a protected method named by the convention eventName + 'Event'
         * (e.g. onStartEvent), that actually triggers the event by calling {@link EventDispatcher#dispatch dispatch} and
         * passing a reference to the component as first parameter. Components should always trigger their events with these
         * methods. Implementing this pattern gives subclasses means to directly listen to the events by overriding the
         * method (and saving the overhead of passing a handler to the event dispatcher) and more importantly to trigger
         * these events without having access to the private event list.
         * See {@link #onShow} for an example.
         *
         * To provide external code the possibility to listen to this component's events (subscribe, unsubscribe, etc.),
         * each event should also be accompanied by a public getter function with the same name as the event's property,
         * that returns the {@link Event} obtained from the event dispatcher by calling {@link EventDispatcher#getEvent}.
         * See {@link #onShow} for an example.
         *
         * Full example for an event representing an example action in a example component:
         *
         * <code>
         * // Define an example component class with an example event
         * class ExampleComponent extends Component<ComponentConfig> {
           *
           *     private exampleComponentEvents = {
           *         onExampleAction: new EventDispatcher<ExampleComponent, NoArgs>()
           *     }
           *
           *     // constructor and other stuff...
           *
           *     protected onExampleActionEvent() {
           *        this.exampleComponentEvents.onExampleAction.dispatch(this);
           *    }
           *
           *    get onExampleAction(): Event<ExampleComponent, NoArgs> {
           *        return this.exampleComponentEvents.onExampleAction.getEvent();
           *    }
           * }
         *
         * // Create an instance of the component somewhere
         * var exampleComponentInstance = new ExampleComponent();
         *
         * // Subscribe to the example event on the component
         * exampleComponentInstance.onExampleAction.subscribe(function (sender: ExampleComponent) {
           *     console.log('onExampleAction of ' + sender + ' has fired!');
           * });
         * </code>
         */
        this.componentEvents = {
            onShow: new eventdispatcher_1.EventDispatcher(),
            onHide: new eventdispatcher_1.EventDispatcher(),
            onHoverChanged: new eventdispatcher_1.EventDispatcher(),
        };
        // Create the configuration for this component
        this.config = this.mergeConfig(config, {
            tag: 'div',
            id: 'mi-wbc-id-' + guid_1.Guid.next(),
            cssPrefix: 'mi-wbc',
            cssClass: 'ui-component',
            cssClasses: [],
            hidden: false
        }, {});
    }
    /**
     * Initializes the component, e.g. by applying config settings.
     * This method must not be called from outside the UI framework.
     *
     * This method is automatically called by the {@link UIInstanceManager}. If the component is an inner component of
     * some component, and thus encapsulated abd managed internally and never directly exposed to the UIManager,
     * this method must be called from the managing component's {@link #initialize} method.
     */
    Component.prototype.initialize = function () {
        this.hidden = this.config.hidden;
        // Hide the component at initialization if it is configured to be hidden
        if (this.isHidden()) {
            this.hidden = false; // Set flag to false for the following hide() call to work (hide() checks the flag)
            this.hide();
        }
    };
    /**
     * Configures the component for the supplied Player and UIInstanceManager. This is the place where all the magic
     * happens, where components typically subscribe and react to events (on their DOM element, the Player, or the
     * UIInstanceManager), and basically everything that makes them interactive.
     * This method is called only once, when the UIManager initializes the UI.
     *
     * Subclasses usually overwrite this method to add their own functionality.
     *
     * @param player the player which this component controls
     * @param uimanager the UIInstanceManager that manages this component
     */
    Component.prototype.configure = function (player, uimanager) {
        var _this = this;
        this.onShow.subscribe(function () {
            uimanager.onComponentShow.dispatch(_this);
        });
        this.onHide.subscribe(function () {
            uimanager.onComponentHide.dispatch(_this);
        });
        // Track the hovered state of the element
        this.getDomElement().on('mouseenter', function () {
            _this.onHoverChangedEvent(true);
        });
        this.getDomElement().on('mouseleave', function () {
            _this.onHoverChangedEvent(false);
        });
    };
    /**
     * Releases all resources and dependencies that the component holds. Player, DOM, and UIManager events are
     * automatically removed during release and do not explicitly need to be removed here.
     * This method is called by the UIManager when it releases the UI.
     *
     * Subclasses that need to release resources should override this method and call super.release().
     */
    Component.prototype.release = function () {
        // Nothing to do here, override where necessary
    };
    /**
     * Generate the DOM element for this component.
     *
     * Subclasses usually overwrite this method to extend or replace the DOM element with their own design.
     */
    Component.prototype.toDomElement = function () {
        var element = new dom_1.DOM(this.config.tag, {
            'id': this.config.id,
            'class': this.getCssClasses()
        });
        return element;
    };
    /**
     * Returns the DOM element of this component. Creates the DOM element if it does not yet exist.
     *
     * Should not be overwritten by subclasses.
     *
     * @returns {DOM}
     */
    Component.prototype.getDomElement = function () {
        if (!this.element) {
            this.element = this.toDomElement();
        }
        return this.element;
    };
    /**
     * Merges a configuration with a default configuration and a base configuration from the superclass.
     *
     * @param config the configuration settings for the components, as usually passed to the constructor
     * @param defaults a default configuration for settings that are not passed with the configuration
     * @param base configuration inherited from a superclass
     * @returns {Config}
     */
    Component.prototype.mergeConfig = function (config, defaults, base) {
        // Extend default config with supplied config
        var merged = Object.assign({}, base, defaults, config);
        // Return the extended config
        return merged;
    };
    /**
     * Helper method that returns a string of all CSS classes of the component.
     *
     * @returns {string}
     */
    Component.prototype.getCssClasses = function () {
        var _this = this;
        // Merge all CSS classes into single array
        var flattenedArray = [this.config.cssClass].concat(this.config.cssClasses);
        // Prefix classes
        flattenedArray = flattenedArray.map(function (css) {
            return _this.prefixCss(css);
        });
        // Join array values into a string
        var flattenedString = flattenedArray.join(' ');
        // Return trimmed string to prevent whitespace at the end from the join operation
        return flattenedString.trim();
    };
    Component.prototype.prefixCss = function (cssClassOrId) {
        return this.config.cssPrefix + '-' + cssClassOrId;
    };
    /**
     * Returns the configuration object of the component.
     * @returns {Config}
     */
    Component.prototype.getConfig = function () {
        return this.config;
    };
    /**
     * Hides the component if shown.
     * This method basically transfers the component into the hidden state. Actual hiding is done via CSS.
     */
    Component.prototype.hide = function () {
        if (!this.hidden) {
            this.hidden = true;
            this.getDomElement().addClass(this.prefixCss(Component.CLASS_HIDDEN));
            this.onHideEvent();
        }
    };
    /**
     * Shows the component if hidden.
     */
    Component.prototype.show = function () {
        if (this.hidden) {
            this.getDomElement().removeClass(this.prefixCss(Component.CLASS_HIDDEN));
            this.hidden = false;
            this.onShowEvent();
        }
    };
    /**
     * Determines if the component is hidden.
     * @returns {boolean} true if the component is hidden, else false
     */
    Component.prototype.isHidden = function () {
        return this.hidden;
    };
    /**
     * Determines if the component is shown.
     * @returns {boolean} true if the component is visible, else false
     */
    Component.prototype.isShown = function () {
        return !this.isHidden();
    };
    /**
     * Toggles the hidden state by hiding the component if it is shown, or showing it if hidden.
     */
    Component.prototype.toggleHidden = function () {
        if (this.isHidden()) {
            this.show();
        }
        else {
            this.hide();
        }
    };
    /**
     * Determines if the component is currently hovered.
     * @returns {boolean} true if the component is hovered, else false
     */
    Component.prototype.isHovered = function () {
        return this.hovered;
    };
    /**
     * Fires the onShow event.
     * See the detailed explanation on event architecture on the {@link #componentEvents events list}.
     */
    Component.prototype.onShowEvent = function () {
        this.componentEvents.onShow.dispatch(this);
    };
    /**
     * Fires the onHide event.
     * See the detailed explanation on event architecture on the {@link #componentEvents events list}.
     */
    Component.prototype.onHideEvent = function () {
        this.componentEvents.onHide.dispatch(this);
    };
    /**
     * Fires the onHoverChanged event.
     * See the detailed explanation on event architecture on the {@link #componentEvents events list}.
     */
    Component.prototype.onHoverChangedEvent = function (hovered) {
        this.hovered = hovered;
        this.componentEvents.onHoverChanged.dispatch(this, { hovered: hovered });
    };
    Object.defineProperty(Component.prototype, "onShow", {
        /**
         * Gets the event that is fired when the component is showing.
         * See the detailed explanation on event architecture on the {@link #componentEvents events list}.
         * @returns {Event<Component<Config>, NoArgs>}
         */
        get: function () {
            return this.componentEvents.onShow.getEvent();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Component.prototype, "onHide", {
        /**
         * Gets the event that is fired when the component is hiding.
         * See the detailed explanation on event architecture on the {@link #componentEvents events list}.
         * @returns {Event<Component<Config>, NoArgs>}
         */
        get: function () {
            return this.componentEvents.onHide.getEvent();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Component.prototype, "onHoverChanged", {
        /**
         * Gets the event that is fired when the component's hover-state is changing.
         * @returns {Event<Component<Config>, ComponentHoverChangedEventArgs>}
         */
        get: function () {
            return this.componentEvents.onHoverChanged.getEvent();
        },
        enumerable: true,
        configurable: true
    });
    return Component;
}());
/**
 * The classname that is attached to the element when it is in the hidden state.
 * @type {string}
 */
Component.CLASS_HIDDEN = 'hidden';
exports.Component = Component;


/***/ }),
/* 2 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Simple DOM manipulation and DOM element event handling modeled after jQuery (as replacement for jQuery).
 *
 * Like jQuery, DOM operates on single elements and lists of elements. For example: creating an element returns a DOM
 * instance with a single element, selecting elements returns a DOM instance with zero, one, or many elements. Similar
 * to jQuery, setters usually affect all elements, while getters operate on only the first element.
 * Also similar to jQuery, most methods (except getters) return the DOM instance facilitating easy chaining of method
 * calls.
 *
 * Built with the help of: http://youmightnotneedjquery.com/
 */
var DOM = (function () {
    function DOM(something, attributes) {
        this.document = document; // Set the global document to the local document field
        if (something instanceof Array) {
            if (something.length > 0 && something[0] instanceof HTMLElement) {
                var elements = something;
                this.elements = elements;
            }
        }
        else if (something instanceof HTMLElement) {
            var element = something;
            this.elements = [element];
        }
        else if (something instanceof Document) {
            // When a document is passed in, we do not do anything with it, but by setting this.elements to null
            // we give the event handling method a means to detect if the events should be registered on the document
            // instead of elements.
            this.elements = null;
        }
        else if (attributes) {
            var tagName = something;
            var element = document.createElement(tagName);
            for (var attributeName in attributes) {
                var attributeValue = attributes[attributeName];
                element.setAttribute(attributeName, attributeValue);
            }
            this.elements = [element];
        }
        else {
            var selector = something;
            this.elements = this.findChildElements(selector);
        }
    }
    Object.defineProperty(DOM.prototype, "length", {
        /**
         * Gets the number of elements that this DOM instance currently holds.
         * @returns {number} the number of elements
         */
        get: function () {
            return this.elements ? this.elements.length : 0;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * Gets the HTML elements that this DOM instance currently holds.
     * @returns {HTMLElement[]} the raw HTML elements
     */
    DOM.prototype.getElements = function () {
        return this.elements;
    };
    /**
     * A shortcut method for iterating all elements. Shorts this.elements.forEach(...) to this.forEach(...).
     * @param handler the handler to execute an operation on an element
     */
    DOM.prototype.forEach = function (handler) {
        this.elements.forEach(function (element) {
            handler(element);
        });
    };
    DOM.prototype.findChildElementsOfElement = function (element, selector) {
        var childElements = element.querySelectorAll(selector);
        // Convert NodeList to Array
        // https://toddmotto.com/a-comprehensive-dive-into-nodelists-arrays-converting-nodelists-and-understanding-the-dom/
        return [].slice.call(childElements);
    };
    DOM.prototype.findChildElements = function (selector) {
        var _this = this;
        var allChildElements = [];
        if (this.elements) {
            this.forEach(function (element) {
                allChildElements = allChildElements.concat(_this.findChildElementsOfElement(element, selector));
            });
        }
        else {
            return this.findChildElementsOfElement(document, selector);
        }
        return allChildElements;
    };
    /**
     * Finds all child elements of all elements matching the supplied selector.
     * @param selector the selector to match with child elements
     * @returns {DOM} a new DOM instance representing all matched children
     */
    DOM.prototype.find = function (selector) {
        var allChildElements = this.findChildElements(selector);
        return new DOM(allChildElements);
    };
    DOM.prototype.html = function (content) {
        if (arguments.length > 0) {
            return this.setHtml(content);
        }
        else {
            return this.getHtml();
        }
    };
    DOM.prototype.getHtml = function () {
        return this.elements[0].innerHTML;
    };
    DOM.prototype.setHtml = function (content) {
        if (content === undefined || content == null) {
            // Set to empty string to avoid innerHTML getting set to 'undefined' (all browsers) or 'null' (IE9)
            content = '';
        }
        this.forEach(function (element) {
            element.innerHTML = content;
        });
        return this;
    };
    /**
     * Clears the inner HTML of all elements (deletes all children).
     * @returns {DOM}
     */
    DOM.prototype.empty = function () {
        this.forEach(function (element) {
            element.innerHTML = '';
        });
        return this;
    };
    /**
     * Returns the current value of the first form element, e.g. the selected value of a select box or the text if an
     * input field.
     * @returns {string} the value of a form element
     */
    DOM.prototype.val = function () {
        var element = this.elements[0];
        if (element instanceof HTMLSelectElement || element instanceof HTMLInputElement) {
            return element.value;
        }
        else {
            // TODO add support for missing form elements
            throw new Error("val() not supported for " + typeof element);
        }
    };
    DOM.prototype.attr = function (attribute, value) {
        if (arguments.length > 1) {
            return this.setAttr(attribute, value);
        }
        else {
            return this.getAttr(attribute);
        }
    };
    DOM.prototype.getAttr = function (attribute) {
        return this.elements[0].getAttribute(attribute);
    };
    DOM.prototype.setAttr = function (attribute, value) {
        this.forEach(function (element) {
            element.setAttribute(attribute, value);
        });
        return this;
    };
    DOM.prototype.data = function (dataAttribute, value) {
        if (arguments.length > 1) {
            return this.setData(dataAttribute, value);
        }
        else {
            return this.getData(dataAttribute);
        }
    };
    DOM.prototype.getData = function (dataAttribute) {
        return this.elements[0].getAttribute('data-' + dataAttribute);
    };
    DOM.prototype.setData = function (dataAttribute, value) {
        this.forEach(function (element) {
            element.setAttribute('data-' + dataAttribute, value);
        });
        return this;
    };
    /**
     * Appends one or more DOM elements as children to all elements.
     * @param childElements the chrild elements to append
     * @returns {DOM}
     */
    DOM.prototype.append = function () {
        var childElements = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            childElements[_i] = arguments[_i];
        }
        this.forEach(function (element) {
            childElements.forEach(function (childElement) {
                childElement.elements.forEach(function (_, index) {
                    element.appendChild(childElement.elements[index]);
                });
            });
        });
        return this;
    };
    /**
     * Removes all elements from the DOM.
     */
    DOM.prototype.remove = function () {
        this.forEach(function (element) {
            var parent = element.parentNode;
            if (parent) {
                parent.removeChild(element);
            }
        });
    };
    /**
     * Returns the offset of the first element from the document's top left corner.
     * @returns {Offset}
     */
    DOM.prototype.offset = function () {
        var element = this.elements[0];
        var elementRect = element.getBoundingClientRect();
        var htmlRect = document.body.parentElement.getBoundingClientRect();
        // Virtual viewport scroll handling (e.g. pinch zoomed viewports in mobile browsers or desktop Chrome/Edge)
        // 'normal' zooms and virtual viewport zooms (aka layout viewport) result in different
        // element.getBoundingClientRect() results:
        //  - with normal scrolls, the clientRect decreases with an increase in scroll(Top|Left)/page(X|Y)Offset
        //  - with pinch zoom scrolls, the clientRect stays the same while scroll/pageOffset changes
        // This means, that the combination of clientRect + scroll/pageOffset does not work to calculate the offset
        // from the document's upper left origin when pinch zoom is used.
        // To work around this issue, we do not use scroll/pageOffset but get the clientRect of the html element and
        // subtract it from the element's rect, which always results in the offset from the document origin.
        // NOTE: the current way of offset calculation was implemented specifically to track event positions on the
        // seek bar, and it might break compatibility with jQuery's offset() method. If this ever turns out to be a
        // problem, this method should be reverted to the old version and the offset calculation moved to the seek bar.
        return {
            top: elementRect.top - htmlRect.top,
            left: elementRect.left - htmlRect.left
        };
    };
    /**
     * Returns the width of the first element.
     * @returns {number} the width of the first element
     */
    DOM.prototype.width = function () {
        // TODO check if this is the same as jQuery's width() (probably not)
        return this.elements[0].offsetWidth;
    };
    /**
     * Returns the height of the first element.
     * @returns {number} the height of the first element
     */
    DOM.prototype.height = function () {
        // TODO check if this is the same as jQuery's height() (probably not)
        return this.elements[0].offsetHeight;
    };
    /**
     * Attaches an event handler to one or more events on all elements.
     * @param eventName the event name (or multiple names separated by space) to listen to
     * @param eventHandler the event handler to call when the event fires
     * @returns {DOM}
     */
    DOM.prototype.on = function (eventName, eventHandler) {
        var _this = this;
        var events = eventName.split(' ');
        events.forEach(function (event) {
            if (_this.elements == null) {
                _this.document.addEventListener(event, eventHandler);
            }
            else {
                _this.forEach(function (element) {
                    element.addEventListener(event, eventHandler);
                });
            }
        });
        return this;
    };
    /**
     * Removes an event handler from one or more events on all elements.
     * @param eventName the event name (or multiple names separated by space) to remove the handler from
     * @param eventHandler the event handler to remove
     * @returns {DOM}
     */
    DOM.prototype.off = function (eventName, eventHandler) {
        var _this = this;
        var events = eventName.split(' ');
        events.forEach(function (event) {
            if (_this.elements == null) {
                _this.document.removeEventListener(event, eventHandler);
            }
            else {
                _this.forEach(function (element) {
                    element.removeEventListener(event, eventHandler);
                });
            }
        });
        return this;
    };
    /**
     * Adds the specified class(es) to all elements.
     * @param className the class(es) to add, multiple classes separated by space
     * @returns {DOM}
     */
    DOM.prototype.addClass = function (className) {
        this.forEach(function (element) {
            if (element.classList) {
                element.classList.add(className);
            }
            else {
                element.className += ' ' + className;
            }
        });
        return this;
    };
    /**
     * Removed the specified class(es) from all elements.
     * @param className the class(es) to remove, multiple classes separated by space
     * @returns {DOM}
     */
    DOM.prototype.removeClass = function (className) {
        this.forEach(function (element) {
            if (element.classList) {
                element.classList.remove(className);
            }
            else {
                element.className = element.className.replace(new RegExp('(^|\\b)' + className.split(' ').join('|') + '(\\b|$)', 'gi'), ' ');
            }
        });
        return this;
    };
    /**
     * Checks if any of the elements has the specified class.
     * @param className the class name to check
     * @returns {boolean} true if one of the elements has the class attached, else if no element has it attached
     */
    DOM.prototype.hasClass = function (className) {
        var hasClass = false;
        this.forEach(function (element) {
            if (element.classList) {
                if (element.classList.contains(className)) {
                    // Since we are inside a handler, we can't just 'return true'. Instead, we save it to a variable
                    // and return it at the end of the function body.
                    hasClass = true;
                }
            }
            else {
                if (new RegExp('(^| )' + className + '( |$)', 'gi').test(element.className)) {
                    // See comment above
                    hasClass = true;
                }
            }
        });
        return hasClass;
    };
    DOM.prototype.css = function (propertyNameOrCollection, value) {
        if (typeof propertyNameOrCollection === 'string') {
            var propertyName = propertyNameOrCollection;
            if (arguments.length === 2) {
                return this.setCss(propertyName, value);
            }
            else {
                return this.getCss(propertyName);
            }
        }
        else {
            var propertyValueCollection = propertyNameOrCollection;
            return this.setCssCollection(propertyValueCollection);
        }
    };
    DOM.prototype.getCss = function (propertyName) {
        return getComputedStyle(this.elements[0])[propertyName];
    };
    DOM.prototype.setCss = function (propertyName, value) {
        this.forEach(function (element) {
            // <any> cast to resolve TS7015: http://stackoverflow.com/a/36627114/370252
            element.style[propertyName] = value;
        });
        return this;
    };
    DOM.prototype.setCssCollection = function (ruleValueCollection) {
        this.forEach(function (element) {
            // http://stackoverflow.com/a/34490573/370252
            Object.assign(element.style, ruleValueCollection);
        });
        return this;
    };
    return DOM;
}());
exports.DOM = DOM;


/***/ }),
/* 3 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var eventdispatcher_1 = __webpack_require__(4);
var container_1 = __webpack_require__(0);
var ArrayUtils;
(function (ArrayUtils) {
    /**
     * Removes an item from an array.
     * @param array the array that may contain the item to remove
     * @param item the item to remove from the array
     * @returns {any} the removed item or null if it wasn't part of the array
     */
    function remove(array, item) {
        var index = array.indexOf(item);
        if (index > -1) {
            return array.splice(index, 1)[0];
        }
        else {
            return null;
        }
    }
    ArrayUtils.remove = remove;
})(ArrayUtils = exports.ArrayUtils || (exports.ArrayUtils = {}));
var StringUtils;
(function (StringUtils) {
    StringUtils.FORMAT_HHMMSS = 'hh:mm:ss';
    StringUtils.FORMAT_MMSS = 'mm:ss';
    /**
     * Formats a number of seconds into a time string with the pattern hh:mm:ss.
     *
     * @param totalSeconds the total number of seconds to format to string
     * @param format the time format to output (default: hh:mm:ss)
     * @returns {string} the formatted time string
     */
    function secondsToTime(totalSeconds, format) {
        if (format === void 0) { format = StringUtils.FORMAT_HHMMSS; }
        var isNegative = totalSeconds < 0;
        if (isNegative) {
            // If the time is negative, we make it positive for the calculation below
            // (else we'd get all negative numbers) and reattach the negative sign later.
            totalSeconds = -totalSeconds;
        }
        // Split into separate time parts
        var hours = Math.floor(totalSeconds / 3600);
        var minutes = Math.floor(totalSeconds / 60) - hours * 60;
        var seconds = Math.floor(totalSeconds) % 60;
        return (isNegative ? '-' : '') + format
            .replace('hh', leftPadWithZeros(hours, 2))
            .replace('mm', leftPadWithZeros(minutes, 2))
            .replace('ss', leftPadWithZeros(seconds, 2));
    }
    StringUtils.secondsToTime = secondsToTime;
    /**
     * Converts a number to a string and left-pads it with zeros to the specified length.
     * Example: leftPadWithZeros(123, 5) => '00123'
     *
     * @param num the number to convert to string and pad with zeros
     * @param length the desired length of the padded string
     * @returns {string} the padded number as string
     */
    function leftPadWithZeros(num, length) {
        var text = num + '';
        var padding = '0000000000'.substr(0, length - text.length);
        return padding + text;
    }
    /**
     * Fills out placeholders in an ad message.
     *
     * Has the placeholders '{remainingTime[formatString]}', '{playedTime[formatString]}' and
     * '{adDuration[formatString]}', which are replaced by the remaining time until the ad can be skipped, the current
     * time or the ad duration. The format string is optional. If not specified, the placeholder is replaced by the time
     * in seconds. If specified, it must be of the following format:
     * - %d - Inserts the time as an integer.
     * - %0Nd - Inserts the time as an integer with leading zeroes, if the length of the time string is smaller than N.
     * - %f - Inserts the time as a float.
     * - %0Nf - Inserts the time as a float with leading zeroes.
     * - %.Mf - Inserts the time as a float with M decimal places. Can be combined with %0Nf, e.g. %04.2f (the time
     * 10.123
     * would be printed as 0010.12).
     * - %hh:mm:ss
     * - %mm:ss
     *
     * @param adMessage an ad message with optional placeholders to fill
     * @param skipOffset if specified, {remainingTime} will be filled with the remaining time until the ad can be skipped
     * @param player the player to get the time data from
     * @returns {string} the ad message with filled placeholders
     */
    function replaceAdMessagePlaceholders(adMessage, skipOffset, player) {
        var adMessagePlaceholderRegex = new RegExp('\\{(remainingTime|playedTime|adDuration)(}|%((0[1-9]\\d*(\\.\\d+(d|f)|d|f)|\\.\\d+f|d|f)|hh:mm:ss|mm:ss)})', 'g');
        return adMessage.replace(adMessagePlaceholderRegex, function (formatString) {
            var time = 0;
            if (formatString.indexOf('remainingTime') > -1) {
                if (skipOffset) {
                    time = Math.ceil(skipOffset - player.getCurrentTime());
                }
                else {
                    time = player.getDuration() - player.getCurrentTime();
                }
            }
            else if (formatString.indexOf('playedTime') > -1) {
                time = player.getCurrentTime();
            }
            else if (formatString.indexOf('adDuration') > -1) {
                time = player.getDuration();
            }
            return formatNumber(time, formatString);
        });
    }
    StringUtils.replaceAdMessagePlaceholders = replaceAdMessagePlaceholders;
    function formatNumber(time, format) {
        var formatStringValidationRegex = /%((0[1-9]\d*(\.\d+(d|f)|d|f)|\.\d+f|d|f)|hh:mm:ss|mm:ss)/;
        var leadingZeroesRegex = /(%0[1-9]\d*)(?=(\.\d+f|f|d))/;
        var decimalPlacesRegex = /\.\d*(?=f)/;
        if (!formatStringValidationRegex.test(format)) {
            // If the format is invalid, we set a default fallback format
            format = '%d';
        }
        // Determine the number of leading zeros
        var leadingZeroes = 0;
        var leadingZeroesMatches = format.match(leadingZeroesRegex);
        if (leadingZeroesMatches) {
            leadingZeroes = parseInt(leadingZeroesMatches[0].substring(2));
        }
        // Determine the number of decimal places
        var numDecimalPlaces = null;
        var decimalPlacesMatches = format.match(decimalPlacesRegex);
        if (decimalPlacesMatches && !isNaN(parseInt(decimalPlacesMatches[0].substring(1)))) {
            numDecimalPlaces = parseInt(decimalPlacesMatches[0].substring(1));
            if (numDecimalPlaces > 20) {
                numDecimalPlaces = 20;
            }
        }
        // Float format
        if (format.indexOf('f') > -1) {
            var timeString = '';
            if (numDecimalPlaces !== null) {
                // Apply fixed number of decimal places
                timeString = time.toFixed(numDecimalPlaces);
            }
            else {
                timeString = '' + time;
            }
            // Apply leading zeros
            if (timeString.indexOf('.') > -1) {
                return leftPadWithZeros(timeString, timeString.length + (leadingZeroes - timeString.indexOf('.')));
            }
            else {
                return leftPadWithZeros(timeString, leadingZeroes);
            }
        }
        else if (format.indexOf(':') > -1) {
            var totalSeconds = Math.ceil(time);
            // hh:mm:ss format
            if (format.indexOf('hh') > -1) {
                return secondsToTime(totalSeconds);
            }
            else {
                var minutes = Math.floor(totalSeconds / 60);
                var seconds = totalSeconds % 60;
                return leftPadWithZeros(minutes, 2) + ':' + leftPadWithZeros(seconds, 2);
            }
        }
        else {
            return leftPadWithZeros(Math.ceil(time), leadingZeroes);
        }
    }
})(StringUtils = exports.StringUtils || (exports.StringUtils = {}));
var PlayerUtils;
(function (PlayerUtils) {
    var PlayerState;
    (function (PlayerState) {
        PlayerState[PlayerState["IDLE"] = 0] = "IDLE";
        PlayerState[PlayerState["PREPARED"] = 1] = "PREPARED";
        PlayerState[PlayerState["PLAYING"] = 2] = "PLAYING";
        PlayerState[PlayerState["PAUSED"] = 3] = "PAUSED";
        PlayerState[PlayerState["FINISHED"] = 4] = "FINISHED";
    })(PlayerState = PlayerUtils.PlayerState || (PlayerUtils.PlayerState = {}));
    function isSourceLoaded(player) {
        return player.getConfig().source !== undefined;
    }
    PlayerUtils.isSourceLoaded = isSourceLoaded;
    function isTimeShiftAvailable(player) {
        return player.isLive() && player.getMaxTimeShift() !== 0;
    }
    PlayerUtils.isTimeShiftAvailable = isTimeShiftAvailable;
    function getState(player) {
        if (player.hasEnded()) {
            return PlayerState.FINISHED;
        }
        else if (player.isPlaying()) {
            return PlayerState.PLAYING;
        }
        else if (player.isPaused()) {
            return PlayerState.PAUSED;
        }
        else if (isSourceLoaded(player)) {
            return PlayerState.PREPARED;
        }
        else {
            return PlayerState.IDLE;
        }
    }
    PlayerUtils.getState = getState;
    var TimeShiftAvailabilityDetector = (function () {
        function TimeShiftAvailabilityDetector(player) {
            var _this = this;
            this.timeShiftAvailabilityChangedEvent = new eventdispatcher_1.EventDispatcher();
            this.player = player;
            this.timeShiftAvailable = undefined;
            var timeShiftDetector = function () {
                _this.detect();
            };
            // Try to detect timeshift availability in ON_READY, which works for DASH streams
            player.addEventHandler(player.EVENT.ON_READY, timeShiftDetector);
            // With HLS/NativePlayer streams, getMaxTimeShift can be 0 before the buffer fills, so we need to additionally
            // check timeshift availability in ON_TIME_CHANGED
            player.addEventHandler(player.EVENT.ON_TIME_CHANGED, timeShiftDetector);
        }
        TimeShiftAvailabilityDetector.prototype.detect = function () {
            if (this.player.isLive()) {
                var timeShiftAvailableNow = PlayerUtils.isTimeShiftAvailable(this.player);
                // When the availability changes, we fire the event
                if (timeShiftAvailableNow !== this.timeShiftAvailable) {
                    this.timeShiftAvailabilityChangedEvent.dispatch(this.player, { timeShiftAvailable: timeShiftAvailableNow });
                    this.timeShiftAvailable = timeShiftAvailableNow;
                }
            }
        };
        Object.defineProperty(TimeShiftAvailabilityDetector.prototype, "onTimeShiftAvailabilityChanged", {
            get: function () {
                return this.timeShiftAvailabilityChangedEvent.getEvent();
            },
            enumerable: true,
            configurable: true
        });
        return TimeShiftAvailabilityDetector;
    }());
    PlayerUtils.TimeShiftAvailabilityDetector = TimeShiftAvailabilityDetector;
    /**
     * Detects changes of the stream type, i.e. changes of the return value of the player#isLive method.
     * Normally, a stream cannot change its type during playback, it's either VOD or live. Due to bugs on some
     * platforms or browsers, it can still change. It is therefore unreliable to just check #isLive and this detector
     * should be used as a workaround instead.
     *
     * Known cases:
     *
     * - HLS VOD on Android 4.3
     * Video duration is initially 'Infinity' and only gets available after playback starts, so streams are wrongly
     * reported as 'live' before playback (the live-check in the player checks for infinite duration).
     */
    var LiveStreamDetector = (function () {
        function LiveStreamDetector(player) {
            var _this = this;
            this.liveChangedEvent = new eventdispatcher_1.EventDispatcher();
            this.player = player;
            this.live = undefined;
            var liveDetector = function () {
                _this.detect();
            };
            // Initialize when player is ready
            player.addEventHandler(player.EVENT.ON_READY, liveDetector);
            // Re-evaluate when playback starts
            player.addEventHandler(player.EVENT.ON_PLAY, liveDetector);
            // HLS live detection workaround for Android:
            // Also re-evaluate during playback, because that is when the live flag might change.
            // (Doing it only in Android Chrome saves unnecessary overhead on other plattforms)
            if (BrowserUtils.isAndroid && BrowserUtils.isChrome) {
                player.addEventHandler(player.EVENT.ON_TIME_CHANGED, liveDetector);
            }
        }
        LiveStreamDetector.prototype.detect = function () {
            var liveNow = this.player.isLive();
            // Compare current to previous live state flag and fire event when it changes. Since we initialize the flag
            // with undefined, there is always at least an initial event fired that tells listeners the live state.
            if (liveNow !== this.live) {
                this.liveChangedEvent.dispatch(this.player, { live: liveNow });
                this.live = liveNow;
            }
        };
        Object.defineProperty(LiveStreamDetector.prototype, "onLiveChanged", {
            get: function () {
                return this.liveChangedEvent.getEvent();
            },
            enumerable: true,
            configurable: true
        });
        return LiveStreamDetector;
    }());
    PlayerUtils.LiveStreamDetector = LiveStreamDetector;
})(PlayerUtils = exports.PlayerUtils || (exports.PlayerUtils = {}));
var UIUtils;
(function (UIUtils) {
    function traverseTree(component, visit) {
        var recursiveTreeWalker = function (component, parent) {
            visit(component, parent);
            // If the current component is a container, visit it's children
            if (component instanceof container_1.Container) {
                for (var _i = 0, _a = component.getComponents(); _i < _a.length; _i++) {
                    var childComponent = _a[_i];
                    recursiveTreeWalker(childComponent, component);
                }
            }
        };
        // Walk and configure the component tree
        recursiveTreeWalker(component);
    }
    UIUtils.traverseTree = traverseTree;
})(UIUtils = exports.UIUtils || (exports.UIUtils = {}));
var BrowserUtils;
(function (BrowserUtils) {
    // isMobile only needs to be evaluated once (it cannot change during a browser session)
    // Mobile detection according to Mozilla recommendation: "In summary, we recommend looking for the string “Mobi”
    // anywhere in the User Agent to detect a mobile device."
    // https://developer.mozilla.org/en-US/docs/Web/HTTP/Browser_detection_using_the_user_agent
    BrowserUtils.isMobile = navigator && navigator.userAgent && /Mobi/.test(navigator.userAgent);
    BrowserUtils.isChrome = navigator && navigator.userAgent && /Chrome/.test(navigator.userAgent);
    BrowserUtils.isAndroid = navigator && navigator.userAgent && /Android/.test(navigator.userAgent);
})(BrowserUtils = exports.BrowserUtils || (exports.BrowserUtils = {}));


/***/ }),
/* 4 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var utils_1 = __webpack_require__(3);
/**
 * Event dispatcher to subscribe and trigger events. Each event should have its own dispatcher.
 */
var EventDispatcher = (function () {
    function EventDispatcher() {
        this.listeners = [];
    }
    /**
     * {@inheritDoc}
     */
    EventDispatcher.prototype.subscribe = function (listener) {
        this.listeners.push(new EventListenerWrapper(listener));
    };
    /**
     * {@inheritDoc}
     */
    EventDispatcher.prototype.subscribeOnce = function (listener) {
        this.listeners.push(new EventListenerWrapper(listener, true));
    };
    /**
     * {@inheritDoc}
     */
    EventDispatcher.prototype.subscribeRateLimited = function (listener, rateMs) {
        this.listeners.push(new RateLimitedEventListenerWrapper(listener, rateMs));
    };
    /**
     * {@inheritDoc}
     */
    EventDispatcher.prototype.unsubscribe = function (listener) {
        // Iterate through listeners, compare with parameter, and remove if found
        for (var i = 0; i < this.listeners.length; i++) {
            var subscribedListener = this.listeners[i];
            if (subscribedListener.listener === listener) {
                utils_1.ArrayUtils.remove(this.listeners, subscribedListener);
                return true;
            }
        }
        return false;
    };
    /**
     * Removes all listeners from this dispatcher.
     */
    EventDispatcher.prototype.unsubscribeAll = function () {
        this.listeners = [];
    };
    /**
     * Dispatches an event to all subscribed listeners.
     * @param sender the source of the event
     * @param args the arguments for the event
     */
    EventDispatcher.prototype.dispatch = function (sender, args) {
        if (args === void 0) { args = null; }
        var listenersToRemove = [];
        // Call every listener
        for (var _i = 0, _a = this.listeners; _i < _a.length; _i++) {
            var listener = _a[_i];
            listener.fire(sender, args);
            if (listener.isOnce()) {
                listenersToRemove.push(listener);
            }
        }
        // Remove one-time listener
        for (var _b = 0, listenersToRemove_1 = listenersToRemove; _b < listenersToRemove_1.length; _b++) {
            var listenerToRemove = listenersToRemove_1[_b];
            utils_1.ArrayUtils.remove(this.listeners, listenerToRemove);
        }
    };
    /**
     * Returns the event that this dispatcher manages and on which listeners can subscribe and unsubscribe event handlers.
     * @returns {Event}
     */
    EventDispatcher.prototype.getEvent = function () {
        // For now, just cast the event dispatcher to the event interface. At some point in the future when the
        // codebase grows, it might make sense to split the dispatcher into separate dispatcher and event classes.
        return this;
    };
    return EventDispatcher;
}());
exports.EventDispatcher = EventDispatcher;
/**
 * A basic event listener wrapper to manage listeners within the {@link EventDispatcher}. This is a 'private' class
 * for internal dispatcher use and it is therefore not exported.
 */
var EventListenerWrapper = (function () {
    function EventListenerWrapper(listener, once) {
        if (once === void 0) { once = false; }
        this.eventListener = listener;
        this.once = once;
    }
    Object.defineProperty(EventListenerWrapper.prototype, "listener", {
        /**
         * Returns the wrapped event listener.
         * @returns {EventListener<Sender, Args>}
         */
        get: function () {
            return this.eventListener;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * Fires the wrapped event listener with the given arguments.
     * @param sender
     * @param args
     */
    EventListenerWrapper.prototype.fire = function (sender, args) {
        this.eventListener(sender, args);
    };
    /**
     * Checks if this listener is scheduled to be called only once.
     * @returns {boolean} once if true
     */
    EventListenerWrapper.prototype.isOnce = function () {
        return this.once;
    };
    return EventListenerWrapper;
}());
/**
 * Extends the basic {@link EventListenerWrapper} with rate-limiting functionality.
 */
var RateLimitedEventListenerWrapper = (function (_super) {
    __extends(RateLimitedEventListenerWrapper, _super);
    function RateLimitedEventListenerWrapper(listener, rateMs) {
        var _this = _super.call(this, listener) || this;
        _this.rateMs = rateMs;
        _this.lastFireTime = 0;
        // Wrap the event listener with an event listener that does the rate-limiting
        _this.rateLimitingEventListener = function (sender, args) {
            if (Date.now() - _this.lastFireTime > _this.rateMs) {
                // Only if enough time since the previous call has passed, call the
                // actual event listener and record the current time
                _this.fireSuper(sender, args);
                _this.lastFireTime = Date.now();
            }
        };
        return _this;
    }
    RateLimitedEventListenerWrapper.prototype.fireSuper = function (sender, args) {
        // Fire the actual external event listener
        _super.prototype.fire.call(this, sender, args);
    };
    RateLimitedEventListenerWrapper.prototype.fire = function (sender, args) {
        // Fire the internal rate-limiting listener instead of the external event listener
        this.rateLimitingEventListener(sender, args);
    };
    return RateLimitedEventListenerWrapper;
}(EventListenerWrapper));


/***/ }),
/* 5 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var component_1 = __webpack_require__(1);
var dom_1 = __webpack_require__(2);
var eventdispatcher_1 = __webpack_require__(4);
/**
 * A simple clickable button.
 */
var Button = (function (_super) {
    __extends(Button, _super);
    function Button(config) {
        var _this = _super.call(this, config) || this;
        _this.buttonEvents = {
            onClick: new eventdispatcher_1.EventDispatcher()
        };
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-button'
        }, _this.config);
        return _this;
    }
    Button.prototype.toDomElement = function () {
        var _this = this;
        // Create the button element with the text label
        var buttonElement = new dom_1.DOM('button', {
            'type': 'button',
            'id': this.config.id,
            'class': this.getCssClasses()
        }).append(new dom_1.DOM('span', {
            'class': this.prefixCss('label')
        }).html(this.config.text));
        // Listen for the click event on the button element and trigger the corresponding event on the button component
        buttonElement.on('click', function () {
            _this.onClickEvent();
        });
        return buttonElement;
    };
    /**
     * Sets text on the label of the button.
     * @param text the text to put into the label of the button
     */
    Button.prototype.setText = function (text) {
        this.getDomElement().find('.' + this.prefixCss('label')).html(text);
    };
    Button.prototype.onClickEvent = function () {
        this.buttonEvents.onClick.dispatch(this);
    };
    Object.defineProperty(Button.prototype, "onClick", {
        /**
         * Gets the event that is fired when the button is clicked.
         * @returns {Event<Button<Config>, NoArgs>}
         */
        get: function () {
            return this.buttonEvents.onClick.getEvent();
        },
        enumerable: true,
        configurable: true
    });
    return Button;
}(component_1.Component));
exports.Button = Button;


/***/ }),
/* 6 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var component_1 = __webpack_require__(1);
var dom_1 = __webpack_require__(2);
var eventdispatcher_1 = __webpack_require__(4);
/**
 * A simple text label.
 *
 * DOM example:
 * <code>
 *     <span class='ui-label'>...some text...</span>
 * </code>
 */
var Label = (function (_super) {
    __extends(Label, _super);
    function Label(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.labelEvents = {
            onClick: new eventdispatcher_1.EventDispatcher(),
            onTextChanged: new eventdispatcher_1.EventDispatcher(),
        };
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-label'
        }, _this.config);
        _this.text = _this.config.text;
        return _this;
    }
    Label.prototype.toDomElement = function () {
        var _this = this;
        var labelElement = new dom_1.DOM('span', {
            'id': this.config.id,
            'class': this.getCssClasses()
        }).html(this.text);
        labelElement.on('click', function () {
            _this.onClickEvent();
        });
        return labelElement;
    };
    /**
     * Set the text on this label.
     * @param text
     */
    Label.prototype.setText = function (text) {
        this.text = text;
        this.getDomElement().html(text);
        this.onTextChangedEvent(text);
    };
    /**
     * Gets the text on this label.
     * @return {string} The text on the label
     */
    Label.prototype.getText = function () {
        return this.text;
    };
    /**
     * Clears the text on this label.
     */
    Label.prototype.clearText = function () {
        this.getDomElement().html('');
        this.onTextChangedEvent(null);
    };
    /**
     * Tests if the label is empty and does not contain any text.
     * @return {boolean} True if the label is empty, else false
     */
    Label.prototype.isEmpty = function () {
        return !this.text;
    };
    /**
     * Fires the {@link #onClick} event.
     * Can be used by subclasses to listen to this event without subscribing an event listener by overwriting the method
     * and calling the super method.
     */
    Label.prototype.onClickEvent = function () {
        this.labelEvents.onClick.dispatch(this);
    };
    /**
     * Fires the {@link #onClick} event.
     * Can be used by subclasses to listen to this event without subscribing an event listener by overwriting the method
     * and calling the super method.
     */
    Label.prototype.onTextChangedEvent = function (text) {
        this.labelEvents.onTextChanged.dispatch(this, text);
    };
    Object.defineProperty(Label.prototype, "onClick", {
        /**
         * Gets the event that is fired when the label is clicked.
         * @returns {Event<Label<LabelConfig>, NoArgs>}
         */
        get: function () {
            return this.labelEvents.onClick.getEvent();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Label.prototype, "onTextChanged", {
        /**
         * Gets the event that is fired when the text on the label is changed.
         * @returns {Event<Label<LabelConfig>, string>}
         */
        get: function () {
            return this.labelEvents.onTextChanged.getEvent();
        },
        enumerable: true,
        configurable: true
    });
    return Label;
}(component_1.Component));
exports.Label = Label;


/***/ }),
/* 7 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
// TODO change to internal (not exported) class, how to use in other files?
/**
 * Executes a callback after a specified amount of time, optionally repeatedly until stopped.
 */
var Timeout = (function () {
    /**
     * Creates a new timeout callback handler.
     * @param delay the delay in milliseconds after which the callback should be executed
     * @param callback the callback to execute after the delay time
     * @param repeat if true, call the callback repeatedly in delay intervals
     */
    function Timeout(delay, callback, repeat) {
        if (repeat === void 0) { repeat = false; }
        this.delay = delay;
        this.callback = callback;
        this.repeat = repeat;
        this.timeoutHandle = 0;
    }
    /**
     * Starts the timeout and calls the callback when the timeout delay has passed.
     * @returns {Timeout} the current timeout (so the start call can be chained to the constructor)
     */
    Timeout.prototype.start = function () {
        this.reset();
        return this;
    };
    /**
     * Clears the timeout. The callback will not be called if clear is called during the timeout.
     */
    Timeout.prototype.clear = function () {
        clearTimeout(this.timeoutHandle);
    };
    /**
     * Resets the passed timeout delay to zero. Can be used to defer the calling of the callback.
     */
    Timeout.prototype.reset = function () {
        var _this = this;
        var lastScheduleTime = 0;
        var delayAdjust = 0;
        this.clear();
        var internalCallback = function () {
            _this.callback();
            if (_this.repeat) {
                var now = Date.now();
                // The time of one iteration from scheduling to executing the callback (usually a bit longer than the delay
                // time)
                var delta = now - lastScheduleTime;
                // Calculate the delay adjustment for the next schedule to keep a steady delay interval over time
                delayAdjust = _this.delay - delta + delayAdjust;
                lastScheduleTime = now;
                // Schedule next execution by the adjusted delay
                _this.timeoutHandle = setTimeout(internalCallback, _this.delay + delayAdjust);
            }
        };
        lastScheduleTime = Date.now();
        this.timeoutHandle = setTimeout(internalCallback, this.delay);
    };
    return Timeout;
}());
exports.Timeout = Timeout;


/***/ }),
/* 8 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var button_1 = __webpack_require__(5);
var eventdispatcher_1 = __webpack_require__(4);
/**
 * A button that can be toggled between 'on' and 'off' states.
 */
var ToggleButton = (function (_super) {
    __extends(ToggleButton, _super);
    function ToggleButton(config) {
        var _this = _super.call(this, config) || this;
        _this.toggleButtonEvents = {
            onToggle: new eventdispatcher_1.EventDispatcher(),
            onToggleOn: new eventdispatcher_1.EventDispatcher(),
            onToggleOff: new eventdispatcher_1.EventDispatcher()
        };
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-togglebutton'
        }, _this.config);
        return _this;
    }
    /**
     * Toggles the button to the 'on' state.
     */
    ToggleButton.prototype.on = function () {
        if (this.isOff()) {
            this.onState = true;
            this.getDomElement().removeClass(this.prefixCss(ToggleButton.CLASS_OFF));
            this.getDomElement().addClass(this.prefixCss(ToggleButton.CLASS_ON));
            this.onToggleEvent();
            this.onToggleOnEvent();
        }
    };
    /**
     * Toggles the button to the 'off' state.
     */
    ToggleButton.prototype.off = function () {
        if (this.isOn()) {
            this.onState = false;
            this.getDomElement().removeClass(this.prefixCss(ToggleButton.CLASS_ON));
            this.getDomElement().addClass(this.prefixCss(ToggleButton.CLASS_OFF));
            this.onToggleEvent();
            this.onToggleOffEvent();
        }
    };
    /**
     * Toggle the button 'on' if it is 'off', or 'off' if it is 'on'.
     */
    ToggleButton.prototype.toggle = function () {
        if (this.isOn()) {
            this.off();
        }
        else {
            this.on();
        }
    };
    /**
     * Checks if the toggle button is in the 'on' state.
     * @returns {boolean} true if button is 'on', false if 'off'
     */
    ToggleButton.prototype.isOn = function () {
        return this.onState;
    };
    /**
     * Checks if the toggle button is in the 'off' state.
     * @returns {boolean} true if button is 'off', false if 'on'
     */
    ToggleButton.prototype.isOff = function () {
        return !this.isOn();
    };
    ToggleButton.prototype.onClickEvent = function () {
        _super.prototype.onClickEvent.call(this);
        // Fire the toggle event together with the click event
        // (they are technically the same, only the semantics are different)
        this.onToggleEvent();
    };
    ToggleButton.prototype.onToggleEvent = function () {
        this.toggleButtonEvents.onToggle.dispatch(this);
    };
    ToggleButton.prototype.onToggleOnEvent = function () {
        this.toggleButtonEvents.onToggleOn.dispatch(this);
    };
    ToggleButton.prototype.onToggleOffEvent = function () {
        this.toggleButtonEvents.onToggleOff.dispatch(this);
    };
    Object.defineProperty(ToggleButton.prototype, "onToggle", {
        /**
         * Gets the event that is fired when the button is toggled.
         * @returns {Event<ToggleButton<Config>, NoArgs>}
         */
        get: function () {
            return this.toggleButtonEvents.onToggle.getEvent();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ToggleButton.prototype, "onToggleOn", {
        /**
         * Gets the event that is fired when the button is toggled 'on'.
         * @returns {Event<ToggleButton<Config>, NoArgs>}
         */
        get: function () {
            return this.toggleButtonEvents.onToggleOn.getEvent();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ToggleButton.prototype, "onToggleOff", {
        /**
         * Gets the event that is fired when the button is toggled 'off'.
         * @returns {Event<ToggleButton<Config>, NoArgs>}
         */
        get: function () {
            return this.toggleButtonEvents.onToggleOff.getEvent();
        },
        enumerable: true,
        configurable: true
    });
    return ToggleButton;
}(button_1.Button));
ToggleButton.CLASS_ON = 'on';
ToggleButton.CLASS_OFF = 'off';
exports.ToggleButton = ToggleButton;


/***/ }),
/* 9 */
/***/ (function(module, exports) {

module.exports = angular;

/***/ }),
/* 10 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var togglebutton_1 = __webpack_require__(8);
var utils_1 = __webpack_require__(3);
/**
 * A button that toggles between playback and pause.
 */
var PlaybackToggleButton = (function (_super) {
    __extends(PlaybackToggleButton, _super);
    function PlaybackToggleButton(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-playbacktogglebutton',
            text: 'Play/Pause'
        }, _this.config);
        return _this;
    }
    PlaybackToggleButton.prototype.configure = function (player, uimanager, handleClickEvent) {
        var _this = this;
        if (handleClickEvent === void 0) { handleClickEvent = true; }
        _super.prototype.configure.call(this, player, uimanager);
        var isSeeking = false;
        // Handler to update button state based on player state
        var playbackStateHandler = function (event) {
            // If the UI is currently seeking, playback is temporarily stopped but the buttons should
            // not reflect that and stay as-is (e.g indicate playback while seeking).
            if (isSeeking) {
                return;
            }
            if (player.isPlaying()) {
                _this.on();
            }
            else {
                _this.off();
            }
        };
        // Call handler upon these events
        player.addEventHandler(player.EVENT.ON_PLAY, playbackStateHandler);
        player.addEventHandler(player.EVENT.ON_PAUSED, playbackStateHandler);
        // when playback finishes, player turns to paused mode
        player.addEventHandler(player.EVENT.ON_PLAYBACK_FINISHED, playbackStateHandler);
        player.addEventHandler(player.EVENT.ON_CAST_STARTED, playbackStateHandler);
        player.addEventHandler(player.EVENT.ON_CAST_PLAYING, playbackStateHandler);
        player.addEventHandler(player.EVENT.ON_CAST_PAUSED, playbackStateHandler);
        player.addEventHandler(player.EVENT.ON_CAST_PLAYBACK_FINISHED, playbackStateHandler);
        // Detect absence of timeshifting on live streams and add tagging class to convert button icons to play/stop
        var timeShiftDetector = new utils_1.PlayerUtils.TimeShiftAvailabilityDetector(player);
        timeShiftDetector.onTimeShiftAvailabilityChanged.subscribe(function (sender, args) {
            if (!args.timeShiftAvailable) {
                _this.getDomElement().addClass(_this.prefixCss(PlaybackToggleButton.CLASS_STOPTOGGLE));
            }
            else {
                _this.getDomElement().removeClass(_this.prefixCss(PlaybackToggleButton.CLASS_STOPTOGGLE));
            }
        });
        timeShiftDetector.detect(); // Initial detection
        if (handleClickEvent) {
            // Control player by button events
            // When a button event triggers a player API call, events are fired which in turn call the event handler
            // above that updated the button state.
            this.onClick.subscribe(function () {
                if (player.isPlaying()) {
                    player.pause('ui-button');
                }
                else {
                    player.play('ui-button');
                }
            });
        }
        // Track UI seeking status
        uimanager.onSeek.subscribe(function () {
            isSeeking = true;
        });
        uimanager.onSeeked.subscribe(function () {
            isSeeking = false;
        });
        // Startup init
        playbackStateHandler(null);
    };
    return PlaybackToggleButton;
}(togglebutton_1.ToggleButton));
PlaybackToggleButton.CLASS_STOPTOGGLE = 'stoptoggle';
exports.PlaybackToggleButton = PlaybackToggleButton;


/***/ }),
/* 11 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var component_1 = __webpack_require__(1);
var dom_1 = __webpack_require__(2);
var eventdispatcher_1 = __webpack_require__(4);
var timeout_1 = __webpack_require__(7);
var utils_1 = __webpack_require__(3);
/**
 * A seek bar to seek within the player's media. It displays the current playback position, amount of buffed data, seek
 * target, and keeps status about an ongoing seek.
 *
 * The seek bar displays different 'bars':
 *  - the playback position, i.e. the position in the media at which the player current playback pointer is positioned
 *  - the buffer position, which usually is the playback position plus the time span that is already buffered ahead
 *  - the seek position, used to preview to where in the timeline a seek will jump to
 */
var SeekBar = (function (_super) {
    __extends(SeekBar, _super);
    function SeekBar(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        /**
         * Buffer of the the current playback position. The position must be buffered in case the element
         * needs to be refreshed with {@link #refreshPlaybackPosition}.
         * @type {number}
         */
        _this.playbackPositionPercentage = 0;
        // https://hacks.mozilla.org/2013/04/detecting-touch-its-the-why-not-the-how/
        _this.touchSupported = ('ontouchstart' in window);
        _this.seekBarEvents = {
            /**
             * Fired when a scrubbing seek operation is started.
             */
            onSeek: new eventdispatcher_1.EventDispatcher(),
            /**
             * Fired during a scrubbing seek to indicate that the seek preview (i.e. the video frame) should be updated.
             */
            onSeekPreview: new eventdispatcher_1.EventDispatcher(),
            /**
             * Fired when a scrubbing seek has finished or when a direct seek is issued.
             */
            onSeeked: new eventdispatcher_1.EventDispatcher()
        };
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-seekbar',
            vertical: false,
            smoothPlaybackPositionUpdateIntervalMs: 50,
            hideInLivePlayback: true,
        }, _this.config);
        _this.label = _this.config.label;
        _this.timelineMarkers = [];
        return _this;
    }
    SeekBar.prototype.initialize = function () {
        _super.prototype.initialize.call(this);
        if (this.hasLabel()) {
            this.getLabel().initialize();
        }
    };
    SeekBar.prototype.configure = function (player, uimanager, configureSeek) {
        var _this = this;
        if (configureSeek === void 0) { configureSeek = true; }
        _super.prototype.configure.call(this, player, uimanager);
        var config = this.getConfig();
        if (!configureSeek) {
            // The configureSeek flag can be used by subclasses to disable configuration as seek bar. E.g. the volume
            // slider is reusing this component but adds its own functionality, and does not need the seek functionality.
            // This is actually a hack, the proper solution would be for both seek bar and volume sliders to extend
            // a common base slider component and implement their functionality there.
            return;
        }
        var playbackNotInitialized = true;
        var isPlaying = false;
        var isSeeking = false;
        // Update playback and buffer positions
        var playbackPositionHandler = function (event, forceUpdate) {
            if (event === void 0) { event = null; }
            if (forceUpdate === void 0) { forceUpdate = false; }
            // Once this handler os called, playback has been started and we set the flag to false
            playbackNotInitialized = false;
            if (isSeeking) {
                // We caught a seek preview seek, do not update the seekbar
                return;
            }
            if (player.isLive()) {
                if (player.getMaxTimeShift() === 0) {
                    // This case must be explicitly handled to avoid division by zero
                    _this.setPlaybackPosition(100);
                }
                else {
                    var playbackPositionPercentage = 100 - (100 / player.getMaxTimeShift() * player.getTimeShift());
                    _this.setPlaybackPosition(playbackPositionPercentage);
                }
                // Always show full buffer for live streams
                _this.setBufferPosition(100);
                // Hide SeekBar if required.
                // if (config.hideInLivePlayback) {
                _this.hide();
                // }
            }
            else {
                var playbackPositionPercentage = 100 / player.getDuration() * player.getCurrentTime();
                var videoBufferLength = player.getVideoBufferLength();
                var audioBufferLength = player.getAudioBufferLength();
                // Calculate the buffer length which is the smaller length of the audio and video buffers. If one of these
                // buffers is not available, we set it's value to MAX_VALUE to make sure that the other real value is taken
                // as the buffer length.
                var bufferLength = Math.min(videoBufferLength != null ? videoBufferLength : Number.MAX_VALUE, audioBufferLength != null ? audioBufferLength : Number.MAX_VALUE);
                // If both buffer lengths are missing, we set the buffer length to zero
                if (bufferLength === Number.MAX_VALUE) {
                    bufferLength = 0;
                }
                var bufferPercentage = 100 / player.getDuration() * bufferLength;
                // Update playback position only in paused state or in the initial startup state where player is neither
                // paused nor playing. Playback updates are handled in the Timeout below.
                if (_this.config.smoothPlaybackPositionUpdateIntervalMs === SeekBar.SMOOTH_PLAYBACK_POSITION_UPDATE_DISABLED
                    || forceUpdate || player.isPaused() || (player.isPaused() === player.isPlaying())) {
                    _this.setPlaybackPosition(playbackPositionPercentage);
                }
                _this.setBufferPosition(playbackPositionPercentage + bufferPercentage);
            }
        };
        // Update seekbar upon these events
        // init playback position when the player is ready
        player.addEventHandler(player.EVENT.ON_READY, playbackPositionHandler);
        // update playback position when it changes
        player.addEventHandler(player.EVENT.ON_TIME_CHANGED, playbackPositionHandler);
        // update bufferlevel when buffering is complete
        player.addEventHandler(player.EVENT.ON_STALL_ENDED, playbackPositionHandler);
        // update playback position when a seek has finished
        player.addEventHandler(player.EVENT.ON_SEEKED, playbackPositionHandler);
        // update playback position when a timeshift has finished
        player.addEventHandler(player.EVENT.ON_TIME_SHIFTED, playbackPositionHandler);
        // update bufferlevel when a segment has been downloaded
        player.addEventHandler(player.EVENT.ON_SEGMENT_REQUEST_FINISHED, playbackPositionHandler);
        // update playback position of Cast playback
        player.addEventHandler(player.EVENT.ON_CAST_TIME_UPDATED, playbackPositionHandler);
        // Seek handling
        player.addEventHandler(player.EVENT.ON_SEEK, function () {
            _this.setSeeking(true);
        });
        player.addEventHandler(player.EVENT.ON_SEEKED, function () {
            _this.setSeeking(false);
        });
        player.addEventHandler(player.EVENT.ON_TIME_SHIFT, function () {
            _this.setSeeking(true);
        });
        player.addEventHandler(player.EVENT.ON_TIME_SHIFTED, function () {
            _this.setSeeking(false);
        });
        var seek = function (percentage) {
            if (player.isLive()) {
                player.timeShift(player.getMaxTimeShift() - (player.getMaxTimeShift() * (percentage / 100)));
            }
            else {
                player.seek(player.getDuration() * (percentage / 100));
            }
        };
        this.onSeek.subscribe(function (sender) {
            isSeeking = true; // track seeking status so we can catch events from seek preview seeks
            // Notify UI manager of started seek
            uimanager.onSeek.dispatch(sender);
            // Save current playback state
            isPlaying = player.isPlaying();
            // Pause playback while seeking
            if (isPlaying) {
                player.pause('ui-seek');
            }
        });
        this.onSeekPreview.subscribe(function (sender, args) {
            // Notify UI manager of seek preview
            uimanager.onSeekPreview.dispatch(sender, args);
        });
        this.onSeekPreview.subscribeRateLimited(function (sender, args) {
            // Rate-limited scrubbing seek
            if (args.scrubbing) {
                seek(args.position);
            }
        }, 200);
        this.onSeeked.subscribe(function (sender, percentage) {
            isSeeking = false;
            // Do the seek
            seek(percentage);
            // Continue playback after seek if player was playing when seek started
            if (isPlaying) {
                player.play('ui-seek');
            }
            // Notify UI manager of finished seek
            uimanager.onSeeked.dispatch(sender);
        });
        if (this.hasLabel()) {
            // Configure a seekbar label that is internal to the seekbar)
            this.getLabel().configure(player, uimanager);
        }
        // Hide seekbar for live sources without timeshift
        var isLive = false;
        var hasTimeShift = false;
        var switchVisibility = function (isLive, hasTimeShift) {
            if (isLive && !hasTimeShift) {
                _this.hide();
            }
            else {
                _this.show();
            }
            playbackPositionHandler(null, true);
            _this.refreshPlaybackPosition();
        };
        var liveStreamDetector = new utils_1.PlayerUtils.LiveStreamDetector(player);
        liveStreamDetector.onLiveChanged.subscribe(function (sender, args) {
            isLive = args.live;
            switchVisibility(isLive, hasTimeShift);
        });
        var timeShiftDetector = new utils_1.PlayerUtils.TimeShiftAvailabilityDetector(player);
        timeShiftDetector.onTimeShiftAvailabilityChanged.subscribe(function (sender, args) {
            hasTimeShift = args.timeShiftAvailable;
            switchVisibility(isLive, hasTimeShift);
        });
        // Initial detection
        liveStreamDetector.detect();
        timeShiftDetector.detect();
        // Refresh the playback position when the player resized or the UI is configured. The playback position marker
        // is positioned absolutely and must therefore be updated when the size of the seekbar changes.
        player.addEventHandler(player.EVENT.ON_PLAYER_RESIZE, function () {
            _this.refreshPlaybackPosition();
        });
        // Additionally, when this code is called, the seekbar is not part of the UI yet and therefore does not have a size,
        // resulting in a wrong initial position of the marker. Refreshing it once the UI is configured solved this issue.
        uimanager.onConfigured.subscribe(function () {
            _this.refreshPlaybackPosition();
        });
        // It can also happen that the value changes once the player is ready, or when a new source is loaded, so we need
        // to update on ON_READY too
        player.addEventHandler(player.EVENT.ON_READY, function () {
            _this.refreshPlaybackPosition();
        });
        // Initialize seekbar
        playbackPositionHandler(); // Set the playback position
        this.setBufferPosition(0);
        this.setSeekPosition(0);
        if (this.config.smoothPlaybackPositionUpdateIntervalMs !== SeekBar.SMOOTH_PLAYBACK_POSITION_UPDATE_DISABLED) {
            this.configureSmoothPlaybackPositionUpdater(player, uimanager);
        }
        this.configureMarkers(player, uimanager);
    };
    SeekBar.prototype.configureSmoothPlaybackPositionUpdater = function (player, uimanager) {
        var _this = this;
        /*
         * Playback position update
         *
         * We do not update the position directly from the ON_TIME_CHANGED event, because it arrives very jittery and
         * results in a jittery position indicator since the CSS transition time is statically set.
         * To work around this issue, we maintain a local playback position that is updated in a stable regular interval
         * and kept in sync with the player.
         */
        var currentTimeSeekBar = 0;
        var currentTimePlayer = 0;
        var updateIntervalMs = 50;
        var currentTimeUpdateDeltaSecs = updateIntervalMs / 1000;
        this.smoothPlaybackPositionUpdater = new timeout_1.Timeout(updateIntervalMs, function () {
            currentTimeSeekBar += currentTimeUpdateDeltaSecs;
            currentTimePlayer = player.getCurrentTime();
            // Sync currentTime of seekbar to player
            var currentTimeDelta = currentTimeSeekBar - currentTimePlayer;
            // If the delta is larger that 2 secs, directly jump the seekbar to the
            // player time instead of smoothly fast forwarding/rewinding.
            if (Math.abs(currentTimeDelta) > 2) {
                currentTimeSeekBar = currentTimePlayer;
            }
            else if (currentTimeDelta <= -currentTimeUpdateDeltaSecs) {
                currentTimeSeekBar += currentTimeUpdateDeltaSecs;
            }
            else if (currentTimeDelta >= currentTimeUpdateDeltaSecs) {
                currentTimeSeekBar -= currentTimeUpdateDeltaSecs;
            }
            var playbackPositionPercentage = 100 / player.getDuration() * currentTimeSeekBar;
            _this.setPlaybackPosition(playbackPositionPercentage);
        }, true);
        var startSmoothPlaybackPositionUpdater = function () {
            if (!player.isLive()) {
                currentTimeSeekBar = player.getCurrentTime();
                _this.smoothPlaybackPositionUpdater.start();
            }
        };
        var stopSmoothPlaybackPositionUpdater = function () {
            _this.smoothPlaybackPositionUpdater.clear();
        };
        player.addEventHandler(player.EVENT.ON_PLAY, startSmoothPlaybackPositionUpdater);
        player.addEventHandler(player.EVENT.ON_CAST_PLAYING, startSmoothPlaybackPositionUpdater);
        player.addEventHandler(player.EVENT.ON_PAUSED, stopSmoothPlaybackPositionUpdater);
        player.addEventHandler(player.EVENT.ON_CAST_PAUSED, stopSmoothPlaybackPositionUpdater);
        player.addEventHandler(player.EVENT.ON_SEEKED, function () {
            currentTimeSeekBar = player.getCurrentTime();
        });
        if (player.isPlaying()) {
            startSmoothPlaybackPositionUpdater();
        }
    };
    SeekBar.prototype.configureMarkers = function (player, uimanager) {
        var _this = this;
        var clearMarkers = function () {
            _this.timelineMarkers = [];
            _this.updateMarkers();
        };
        var setupMarkers = function () {
            clearMarkers();
            var hasMarkersInUiConfig = uimanager.getConfig().metadata && uimanager.getConfig().metadata.markers
                && uimanager.getConfig().metadata.markers.length > 0;
            var hasMarkersInPlayerConfig = player.getConfig().source && player.getConfig().source.markers
                && player.getConfig().source.markers.length > 0;
            // Take markers from the UI config. If no markers defined, try to take them from the player's source config.
            var markers = hasMarkersInUiConfig ? uimanager.getConfig().metadata.markers :
                hasMarkersInPlayerConfig ? player.getConfig().source.markers : null;
            // Generate timeline markers from the config if we have markers and if we have a duration
            // The duration check is for buggy platforms where the duration is not available instantly (Chrome on Android 4.3)
            if (markers && player.getDuration() !== Infinity) {
                for (var _i = 0, markers_1 = markers; _i < markers_1.length; _i++) {
                    var marker = markers_1[_i];
                    _this.timelineMarkers.push({
                        time: 100 / player.getDuration() * marker.time,
                        title: marker.title,
                    });
                }
            }
            // Populate the timeline with the markers
            _this.updateMarkers();
        };
        // Add markers when a source is loaded
        player.addEventHandler(player.EVENT.ON_READY, setupMarkers);
        // Remove markers when unloaded
        player.addEventHandler(player.EVENT.ON_SOURCE_UNLOADED, clearMarkers);
        // Init markers at startup
        setupMarkers();
    };
    SeekBar.prototype.release = function () {
        _super.prototype.release.call(this);
        if (this.smoothPlaybackPositionUpdater) {
            this.smoothPlaybackPositionUpdater.clear();
        }
    };
    SeekBar.prototype.toDomElement = function () {
        var _this = this;
        if (this.config.vertical) {
            this.config.cssClasses.push('vertical');
        }
        var seekBarContainer = new dom_1.DOM('div', {
            'id': this.config.id,
            'class': this.getCssClasses()
        });
        var seekBar = new dom_1.DOM('div', {
            'class': this.prefixCss('seekbar')
        });
        this.seekBar = seekBar;
        // Indicator that shows the buffer fill level
        var seekBarBufferLevel = new dom_1.DOM('div', {
            'class': this.prefixCss('seekbar-bufferlevel')
        });
        this.seekBarBufferPosition = seekBarBufferLevel;
        // Indicator that shows the current playback position
        var seekBarPlaybackPosition = new dom_1.DOM('div', {
            'class': this.prefixCss('seekbar-playbackposition')
        });
        this.seekBarPlaybackPosition = seekBarPlaybackPosition;
        // A marker of the current playback position, e.g. a dot or line
        var seekBarPlaybackPositionMarker = new dom_1.DOM('div', {
            'class': this.prefixCss('seekbar-playbackposition-marker')
        });
        this.seekBarPlaybackPositionMarker = seekBarPlaybackPositionMarker;
        // Indicator that show where a seek will go to
        var seekBarSeekPosition = new dom_1.DOM('div', {
            'class': this.prefixCss('seekbar-seekposition')
        });
        this.seekBarSeekPosition = seekBarSeekPosition;
        // Indicator that shows the full seekbar
        var seekBarBackdrop = new dom_1.DOM('div', {
            'class': this.prefixCss('seekbar-backdrop')
        });
        this.seekBarBackdrop = seekBarBackdrop;
        var seekBarChapterMarkersContainer = new dom_1.DOM('div', {
            'class': this.prefixCss('seekbar-markers')
        });
        this.seekBarMarkersContainer = seekBarChapterMarkersContainer;
        seekBar.append(seekBarBackdrop, seekBarBufferLevel, seekBarSeekPosition, seekBarPlaybackPosition, seekBarChapterMarkersContainer, seekBarPlaybackPositionMarker);
        var seeking = false;
        // Define handler functions so we can attach/remove them later
        var mouseTouchMoveHandler = function (e) {
            e.preventDefault();
            // Avoid propagation to VR handler
            e.stopPropagation();
            var targetPercentage = 100 * _this.getOffset(e);
            _this.setSeekPosition(targetPercentage);
            _this.setPlaybackPosition(targetPercentage);
            _this.onSeekPreviewEvent(targetPercentage, true);
        };
        var mouseTouchUpHandler = function (e) {
            e.preventDefault();
            // Remove handlers, seek operation is finished
            new dom_1.DOM(document).off('touchmove mousemove', mouseTouchMoveHandler);
            new dom_1.DOM(document).off('touchend mouseup', mouseTouchUpHandler);
            var targetPercentage = 100 * _this.getOffset(e);
            var snappedChapter = _this.getMarkerAtPosition(targetPercentage);
            _this.setSeeking(false);
            seeking = false;
            // Fire seeked event
            _this.onSeekedEvent(snappedChapter ? snappedChapter.time : targetPercentage);
        };
        // A seek always start with a touchstart or mousedown directly on the seekbar.
        // To track a mouse seek also outside the seekbar (for touch events this works automatically),
        // so the user does not need to take care that the mouse always stays on the seekbar, we attach the mousemove
        // and mouseup handlers to the whole document. A seek is triggered when the user lifts the mouse key.
        // A seek mouse gesture is thus basically a click with a long time frame between down and up events.
        seekBar.on('touchstart mousedown', function (e) {
            var isTouchEvent = _this.touchSupported && e instanceof TouchEvent;
            // Prevent selection of DOM elements (also prevents mousedown if current event is touchstart)
            e.preventDefault();
            // Avoid propagation to VR handler
            e.stopPropagation();
            _this.setSeeking(true); // Set seeking class on DOM element
            seeking = true; // Set seek tracking flag
            // Fire seeked event
            _this.onSeekEvent();
            // Add handler to track the seek operation over the whole document
            new dom_1.DOM(document).on(isTouchEvent ? 'touchmove' : 'mousemove', mouseTouchMoveHandler);
            new dom_1.DOM(document).on(isTouchEvent ? 'touchend' : 'mouseup', mouseTouchUpHandler);
        });
        // Display seek target indicator when mouse hovers or finger slides over seekbar
        seekBar.on('touchmove mousemove', function (e) {
            e.preventDefault();
            if (seeking) {
                // During a seek (when mouse is down or touch move active), we need to stop propagation to avoid
                // the VR viewport reacting to the moves.
                e.stopPropagation();
                // Because the stopped propagation inhibits the event on the document, we need to call it from here
                mouseTouchMoveHandler(e);
            }
            var position = 100 * _this.getOffset(e);
            _this.setSeekPosition(position);
            _this.onSeekPreviewEvent(position, false);
            if (_this.hasLabel() && _this.getLabel().isHidden()) {
                _this.getLabel().show();
            }
        });
        // Hide seek target indicator when mouse or finger leaves seekbar
        seekBar.on('touchend mouseleave', function (e) {
            e.preventDefault();
            _this.setSeekPosition(0);
            if (_this.hasLabel()) {
                _this.getLabel().hide();
            }
        });
        seekBarContainer.append(seekBar);
        if (this.label) {
            seekBarContainer.append(this.label.getDomElement());
        }
        return seekBarContainer;
    };
    SeekBar.prototype.updateMarkers = function () {
        this.seekBarMarkersContainer.empty();
        for (var _i = 0, _a = this.timelineMarkers; _i < _a.length; _i++) {
            var marker = _a[_i];
            this.seekBarMarkersContainer.append(new dom_1.DOM('div', {
                'class': this.prefixCss('seekbar-marker'),
                'data-marker-time': String(marker.time),
                'data-marker-title': String(marker.title),
            }).css({
                'width': marker.time + '%',
            }));
        }
    };
    SeekBar.prototype.getMarkerAtPosition = function (percentage) {
        var snappedMarker = null;
        var snappingRange = 1;
        if (this.timelineMarkers.length > 0) {
            for (var _i = 0, _a = this.timelineMarkers; _i < _a.length; _i++) {
                var marker = _a[_i];
                if (percentage >= marker.time - snappingRange && percentage <= marker.time + snappingRange) {
                    snappedMarker = marker;
                    break;
                }
            }
        }
        return snappedMarker;
    };
    /**
     * Gets the horizontal offset of a mouse/touch event point from the left edge of the seek bar.
     * @param eventPageX the pageX coordinate of an event to calculate the offset from
     * @returns {number} a number in the range of [0, 1], where 0 is the left edge and 1 is the right edge
     */
    SeekBar.prototype.getHorizontalOffset = function (eventPageX) {
        var elementOffsetPx = this.seekBar.offset().left;
        var widthPx = this.seekBar.width();
        var offsetPx = eventPageX - elementOffsetPx;
        var offset = 1 / widthPx * offsetPx;
        return this.sanitizeOffset(offset);
    };
    /**
     * Gets the vertical offset of a mouse/touch event point from the bottom edge of the seek bar.
     * @param eventPageY the pageX coordinate of an event to calculate the offset from
     * @returns {number} a number in the range of [0, 1], where 0 is the bottom edge and 1 is the top edge
     */
    SeekBar.prototype.getVerticalOffset = function (eventPageY) {
        var elementOffsetPx = this.seekBar.offset().top;
        var widthPx = this.seekBar.height();
        var offsetPx = eventPageY - elementOffsetPx;
        var offset = 1 / widthPx * offsetPx;
        return 1 - this.sanitizeOffset(offset);
    };
    /**
     * Gets the mouse or touch event offset for the current configuration (horizontal or vertical).
     * @param e the event to calculate the offset from
     * @returns {number} a number in the range of [0, 1]
     * @see #getHorizontalOffset
     * @see #getVerticalOffset
     */
    SeekBar.prototype.getOffset = function (e) {
        if (this.touchSupported && e instanceof TouchEvent) {
            if (this.config.vertical) {
                return this.getVerticalOffset(e.type === 'touchend' ? e.changedTouches[0].pageY : e.touches[0].pageY);
            }
            else {
                return this.getHorizontalOffset(e.type === 'touchend' ? e.changedTouches[0].pageX : e.touches[0].pageX);
            }
        }
        else if (e instanceof MouseEvent) {
            if (this.config.vertical) {
                return this.getVerticalOffset(e.pageY);
            }
            else {
                return this.getHorizontalOffset(e.pageX);
            }
        }
        else {
            if (console) {
                console.warn('invalid event');
            }
            return 0;
        }
    };
    /**
     * Sanitizes the mouse offset to the range of [0, 1].
     *
     * When tracking the mouse outside the seek bar, the offset can be outside the desired range and this method
     * limits it to the desired range. E.g. a mouse event left of the left edge of a seek bar yields an offset below
     * zero, but to display the seek target on the seek bar, we need to limit it to zero.
     *
     * @param offset the offset to sanitize
     * @returns {number} the sanitized offset.
     */
    SeekBar.prototype.sanitizeOffset = function (offset) {
        // Since we track mouse moves over the whole document, the target can be outside the seek range,
        // and we need to limit it to the [0, 1] range.
        if (offset < 0) {
            offset = 0;
        }
        else if (offset > 1) {
            offset = 1;
        }
        return offset;
    };
    /**
     * Sets the position of the playback position indicator.
     * @param percent a number between 0 and 100 as returned by the player
     */
    SeekBar.prototype.setPlaybackPosition = function (percent) {
        this.playbackPositionPercentage = percent;
        // Set position of the bar
        this.setPosition(this.seekBarPlaybackPosition, percent);
        // Set position of the marker
        var px = (this.config.vertical ? this.seekBar.height() : this.seekBar.width()) / 100 * percent;
        if (this.config.vertical) {
            px = this.seekBar.height() - px;
        }
        var style = this.config.vertical ?
            // -ms-transform required for IE9
            { 'transform': 'translateY(' + px + 'px)', '-ms-transform': 'translateY(' + px + 'px)' } :
            { 'transform': 'translateX(' + px + 'px)', '-ms-transform': 'translateX(' + px + 'px)' };
        this.seekBarPlaybackPositionMarker.css(style);
    };
    /**
     * Refreshes the playback position. Can be used by subclasses to refresh the position when
     * the size of the component changes.
     */
    SeekBar.prototype.refreshPlaybackPosition = function () {
        this.setPlaybackPosition(this.playbackPositionPercentage);
    };
    /**
     * Sets the position until which media is buffered.
     * @param percent a number between 0 and 100
     */
    SeekBar.prototype.setBufferPosition = function (percent) {
        this.setPosition(this.seekBarBufferPosition, percent);
    };
    /**
     * Sets the position where a seek, if executed, would jump to.
     * @param percent a number between 0 and 100
     */
    SeekBar.prototype.setSeekPosition = function (percent) {
        this.setPosition(this.seekBarSeekPosition, percent);
    };
    /**
     * Set the actual position (width or height) of a DOM element that represent a bar in the seek bar.
     * @param element the element to set the position for
     * @param percent a number between 0 and 100
     */
    SeekBar.prototype.setPosition = function (element, percent) {
        var scale = percent / 100;
        var style = this.config.vertical ?
            // -ms-transform required for IE9
            { 'transform': 'scaleY(' + scale + ')', '-ms-transform': 'scaleY(' + scale + ')' } :
            { 'transform': 'scaleX(' + scale + ')', '-ms-transform': 'scaleX(' + scale + ')' };
        element.css(style);
    };
    /**
     * Puts the seek bar into or out of seeking state by adding/removing a class to the DOM element. This can be used
     * to adjust the styling while seeking.
     *
     * @param seeking should be true when entering seek state, false when exiting the seek state
     */
    SeekBar.prototype.setSeeking = function (seeking) {
        if (seeking) {
            this.getDomElement().addClass(this.prefixCss(SeekBar.CLASS_SEEKING));
        }
        else {
            this.getDomElement().removeClass(this.prefixCss(SeekBar.CLASS_SEEKING));
        }
    };
    /**
     * Checks if the seek bar is currently in the seek state.
     * @returns {boolean} true if in seek state, else false
     */
    SeekBar.prototype.isSeeking = function () {
        return this.getDomElement().hasClass(this.prefixCss(SeekBar.CLASS_SEEKING));
    };
    /**
     * Checks if the seek bar has a {@link SeekBarLabel}.
     * @returns {boolean} true if the seek bar has a label, else false
     */
    SeekBar.prototype.hasLabel = function () {
        return this.label != null;
    };
    /**
     * Gets the label of this seek bar.
     * @returns {SeekBarLabel} the label if this seek bar has a label, else null
     */
    SeekBar.prototype.getLabel = function () {
        return this.label;
    };
    SeekBar.prototype.onSeekEvent = function () {
        this.seekBarEvents.onSeek.dispatch(this);
    };
    SeekBar.prototype.onSeekPreviewEvent = function (percentage, scrubbing) {
        var snappedMarker = this.getMarkerAtPosition(percentage);
        if (this.label) {
            this.label.getDomElement().css({
                'left': (snappedMarker ? snappedMarker.time : percentage) + '%'
            });
        }
        this.seekBarEvents.onSeekPreview.dispatch(this, {
            scrubbing: scrubbing,
            position: percentage,
            marker: snappedMarker,
        });
    };
    SeekBar.prototype.onSeekedEvent = function (percentage) {
        this.seekBarEvents.onSeeked.dispatch(this, percentage);
    };
    Object.defineProperty(SeekBar.prototype, "onSeek", {
        /**
         * Gets the event that is fired when a scrubbing seek operation is started.
         * @returns {Event<SeekBar, NoArgs>}
         */
        get: function () {
            return this.seekBarEvents.onSeek.getEvent();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SeekBar.prototype, "onSeekPreview", {
        /**
         * Gets the event that is fired during a scrubbing seek (to indicate that the seek preview, i.e. the video frame,
         * should be updated), or during a normal seek preview when the seek bar is hovered (and the seek target,
         * i.e. the seek bar label, should be updated).
         * @returns {Event<SeekBar, SeekPreviewEventArgs>}
         */
        get: function () {
            return this.seekBarEvents.onSeekPreview.getEvent();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SeekBar.prototype, "onSeeked", {
        /**
         * Gets the event that is fired when a scrubbing seek has finished or when a direct seek is issued.
         * @returns {Event<SeekBar, number>}
         */
        get: function () {
            return this.seekBarEvents.onSeeked.getEvent();
        },
        enumerable: true,
        configurable: true
    });
    SeekBar.prototype.onShowEvent = function () {
        _super.prototype.onShowEvent.call(this);
        // Refresh the position of the playback position when the seek bar becomes visible. To correctly set the position,
        // the DOM element must be fully initialized an have its size calculated, because the position is set as an absolute
        // value calculated from the size. This required size is not known when it is hidden.
        // For such cases, we refresh the position here in onShow because here it is guaranteed that the component knows
        // its size and can set the position correctly.
        this.refreshPlaybackPosition();
    };
    return SeekBar;
}(component_1.Component));
SeekBar.SMOOTH_PLAYBACK_POSITION_UPDATE_DISABLED = -1;
/**
 * The CSS class that is added to the DOM element while the seek bar is in 'seeking' state.
 */
SeekBar.CLASS_SEEKING = 'seeking';
exports.SeekBar = SeekBar;


/***/ }),
/* 12 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var container_1 = __webpack_require__(0);
var dom_1 = __webpack_require__(2);
var timeout_1 = __webpack_require__(7);
var utils_1 = __webpack_require__(3);
/**
 * The base container that contains all of the UI. The UIContainer is passed to the {@link UIManager} to build and
 * setup the UI.
 */
var UIContainer = (function (_super) {
    __extends(UIContainer, _super);
    function UIContainer(config) {
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-uicontainer',
            hideDelay: 2500,
        }, _this.config);
        return _this;
    }
    UIContainer.prototype.configure = function (player, uimanager) {
        _super.prototype.configure.call(this, player, uimanager);
        this.configureUIShowHide(player, uimanager);
        this.configurePlayerStates(player, uimanager);
    };
    UIContainer.prototype.configureUIShowHide = function (player, uimanager) {
        var _this = this;
        var container = this.getDomElement();
        var config = this.getConfig();
        var isUiShown = false;
        var isSeeking = false;
        var isFirstTouch = true;
        var showUi = function () {
            if (!isUiShown) {
                // Let subscribers know that they should reveal themselves
                uimanager.onControlsShow.dispatch(_this);
                isUiShown = true;
            }
            // Don't trigger timeout while seeking (it will be triggered once the seek is finished) or casting
            if (!isSeeking && !player.isCasting()) {
                _this.uiHideTimeout.start();
            }
        };
        var hideUi = function () {
            // Hide the UI only if it is shown, and if not casting
            if (isUiShown && !player.isCasting()) {
                // Issue a preview event to check if we are good to hide the controls
                var previewHideEventArgs = {};
                uimanager.onPreviewControlsHide.dispatch(_this, previewHideEventArgs);
                if (!previewHideEventArgs.cancel) {
                    // If the preview wasn't canceled, let subscribers know that they should now hide themselves
                    uimanager.onControlsHide.dispatch(_this);
                    isUiShown = false;
                }
                else {
                    // If the hide preview was canceled, continue to show UI
                    showUi();
                }
            }
        };
        // Timeout to defer UI hiding by the configured delay time
        this.uiHideTimeout = new timeout_1.Timeout(config.hideDelay, hideUi);
        // On touch displays, the first touch reveals the UI
        container.on('touchend', function (e) {
            if (!isUiShown) {
                // Only if the UI is hidden, we prevent other actions (except for the first touch) and reveal the UI instead.
                // The first touch is not prevented to let other listeners receive the event and trigger an initial action, e.g.
                // the huge playback button can directly start playback instead of requiring a double tap which 1. reveals
                // the UI and 2. starts playback.
                if (isFirstTouch) {
                    isFirstTouch = false;
                }
                else {
                    // e.preventDefault();
                }
                showUi();
            }
        });
        // When the mouse enters, we show the UI
        container.on('mouseenter', function () {
            showUi();
        });
        // When the mouse moves within, we show the UI
        container.on('mousemove', function () {
            showUi();
        });
        // When the mouse leaves, we can prepare to hide the UI, except a seek is going on
        container.on('mouseleave', function () {
            // When a seek is going on, the seek scrub pointer may exit the UI area while still seeking, and we do not hide
            // the UI in such cases
            if (!isSeeking) {
                _this.uiHideTimeout.start();
            }
        });
        uimanager.onSeek.subscribe(function () {
            _this.uiHideTimeout.clear(); // Don't hide UI while a seek is in progress
            isSeeking = true;
        });
        uimanager.onSeeked.subscribe(function () {
            isSeeking = false;
            _this.uiHideTimeout.start(); // Re-enable UI hide timeout after a seek
        });
        player.addEventHandler(player.EVENT.ON_CAST_STARTED, function () {
            showUi(); // Show UI when a Cast session has started (UI will then stay permanently on during the session)
        });
    };
    UIContainer.prototype.configurePlayerStates = function (player, uimanager) {
        var _this = this;
        var container = this.getDomElement();
        // Convert player states into CSS class names
        var stateClassNames = [];
        for (var state in utils_1.PlayerUtils.PlayerState) {
            if (isNaN(Number(state))) {
                var enumName = utils_1.PlayerUtils.PlayerState[utils_1.PlayerUtils.PlayerState[state]];
                stateClassNames[utils_1.PlayerUtils.PlayerState[state]] =
                    this.prefixCss(UIContainer.STATE_PREFIX + enumName.toLowerCase());
            }
        }
        var removeStates = function () {
            container.removeClass(stateClassNames[utils_1.PlayerUtils.PlayerState.IDLE]);
            container.removeClass(stateClassNames[utils_1.PlayerUtils.PlayerState.PREPARED]);
            container.removeClass(stateClassNames[utils_1.PlayerUtils.PlayerState.PLAYING]);
            container.removeClass(stateClassNames[utils_1.PlayerUtils.PlayerState.PAUSED]);
            container.removeClass(stateClassNames[utils_1.PlayerUtils.PlayerState.FINISHED]);
        };
        player.addEventHandler(player.EVENT.ON_READY, function () {
            removeStates();
            container.addClass(stateClassNames[utils_1.PlayerUtils.PlayerState.PREPARED]);
        });
        player.addEventHandler(player.EVENT.ON_PLAY, function () {
            removeStates();
            container.addClass(stateClassNames[utils_1.PlayerUtils.PlayerState.PLAYING]);
        });
        player.addEventHandler(player.EVENT.ON_PAUSED, function () {
            removeStates();
            container.addClass(stateClassNames[utils_1.PlayerUtils.PlayerState.PAUSED]);
        });
        player.addEventHandler(player.EVENT.ON_PLAYBACK_FINISHED, function () {
            removeStates();
            container.addClass(stateClassNames[utils_1.PlayerUtils.PlayerState.FINISHED]);
        });
        player.addEventHandler(player.EVENT.ON_SOURCE_UNLOADED, function () {
            removeStates();
            container.addClass(stateClassNames[utils_1.PlayerUtils.PlayerState.IDLE]);
        });
        // Init in current player state
        container.addClass(stateClassNames[utils_1.PlayerUtils.getState(player)]);
        // Fullscreen marker class
        player.addEventHandler(player.EVENT.ON_FULLSCREEN_ENTER, function () {
            container.addClass(_this.prefixCss(UIContainer.FULLSCREEN));
        });
        player.addEventHandler(player.EVENT.ON_FULLSCREEN_EXIT, function () {
            container.removeClass(_this.prefixCss(UIContainer.FULLSCREEN));
        });
        // Init fullscreen state
        if (player.isFullscreen()) {
            container.addClass(this.prefixCss(UIContainer.FULLSCREEN));
        }
        // Buffering marker class
        player.addEventHandler(player.EVENT.ON_STALL_STARTED, function () {
            container.addClass(_this.prefixCss(UIContainer.BUFFERING));
        });
        player.addEventHandler(player.EVENT.ON_STALL_ENDED, function () {
            container.removeClass(_this.prefixCss(UIContainer.BUFFERING));
        });
        // Init buffering state
        if (player.isStalled()) {
            container.addClass(this.prefixCss(UIContainer.BUFFERING));
        }
        // RemoteControl marker class
        player.addEventHandler(player.EVENT.ON_CAST_STARTED, function () {
            container.addClass(_this.prefixCss(UIContainer.REMOTE_CONTROL));
        });
        player.addEventHandler(player.EVENT.ON_CAST_STOPPED, function () {
            container.removeClass(_this.prefixCss(UIContainer.REMOTE_CONTROL));
        });
        // Init RemoteControl state
        if (player.isCasting()) {
            container.addClass(this.prefixCss(UIContainer.REMOTE_CONTROL));
        }
        // Controls visibility marker class
        uimanager.onControlsShow.subscribe(function () {
            container.removeClass(_this.prefixCss(UIContainer.CONTROLS_HIDDEN));
            container.addClass(_this.prefixCss(UIContainer.CONTROLS_SHOWN));
        });
        uimanager.onControlsHide.subscribe(function () {
            container.removeClass(_this.prefixCss(UIContainer.CONTROLS_SHOWN));
            container.addClass(_this.prefixCss(UIContainer.CONTROLS_HIDDEN));
        });
        // Layout size classes
        var updateLayoutSizeClasses = function (width, height) {
            container.removeClass(_this.prefixCss('layout-max-width-400'));
            container.removeClass(_this.prefixCss('layout-max-width-600'));
            container.removeClass(_this.prefixCss('layout-max-width-800'));
            container.removeClass(_this.prefixCss('layout-max-width-1200'));
            if (width <= 400) {
                container.addClass(_this.prefixCss('layout-max-width-400'));
            }
            else if (width <= 600) {
                container.addClass(_this.prefixCss('layout-max-width-600'));
            }
            else if (width <= 800) {
                container.addClass(_this.prefixCss('layout-max-width-800'));
            }
            else if (width <= 1200) {
                container.addClass(_this.prefixCss('layout-max-width-1200'));
            }
        };
        player.addEventHandler(player.EVENT.ON_PLAYER_RESIZE, function (e) {
            // Convert strings (with "px" suffix) to ints
            var width = Math.round(Number(e.width.substring(0, e.width.length - 2)));
            var height = Math.round(Number(e.height.substring(0, e.height.length - 2)));
            updateLayoutSizeClasses(width, height);
        });
        // Init layout state
        updateLayoutSizeClasses(new dom_1.DOM(player.getFigure()).width(), new dom_1.DOM(player.getFigure()).height());
    };
    UIContainer.prototype.release = function () {
        _super.prototype.release.call(this);
        this.uiHideTimeout.clear();
    };
    UIContainer.prototype.toDomElement = function () {
        var container = _super.prototype.toDomElement.call(this);
        // Detect flexbox support (not supported in IE9)
        if (document && typeof document.createElement('p').style.flex !== 'undefined') {
            container.addClass(this.prefixCss('flexbox'));
        }
        else {
            container.addClass(this.prefixCss('no-flexbox'));
        }
        return container;
    };
    return UIContainer;
}(container_1.Container));
UIContainer.STATE_PREFIX = 'player-state-';
UIContainer.FULLSCREEN = 'fullscreen';
UIContainer.BUFFERING = 'buffering';
UIContainer.REMOTE_CONTROL = 'remote-control';
UIContainer.CONTROLS_SHOWN = 'controls-shown';
UIContainer.CONTROLS_HIDDEN = 'controls-hidden';
exports.UIContainer = UIContainer;


/***/ }),
/* 13 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var label_1 = __webpack_require__(6);
var utils_1 = __webpack_require__(3);
var PlaybackTimeLabelMode;
(function (PlaybackTimeLabelMode) {
    PlaybackTimeLabelMode[PlaybackTimeLabelMode["CurrentTime"] = 0] = "CurrentTime";
    PlaybackTimeLabelMode[PlaybackTimeLabelMode["TotalTime"] = 1] = "TotalTime";
    PlaybackTimeLabelMode[PlaybackTimeLabelMode["CurrentAndTotalTime"] = 2] = "CurrentAndTotalTime";
})(PlaybackTimeLabelMode = exports.PlaybackTimeLabelMode || (exports.PlaybackTimeLabelMode = {}));
/**
 * A label that display the current playback time and the total time through {@link PlaybackTimeLabel#setTime setTime}
 * or any string through {@link PlaybackTimeLabel#setText setText}.
 */
var PlaybackTimeLabel = (function (_super) {
    __extends(PlaybackTimeLabel, _super);
    function PlaybackTimeLabel(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-playbacktimelabel',
            timeLabelMode: PlaybackTimeLabelMode.CurrentAndTotalTime,
            hideInLivePlayback: false,
        }, _this.config);
        return _this;
    }
    PlaybackTimeLabel.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        var config = this.getConfig();
        var live = false;
        var liveCssClass = this.prefixCss('ui-playbacktimelabel-live');
        var liveEdgeCssClass = this.prefixCss('ui-playbacktimelabel-live-edge');
        var minWidth = 0;
        var liveClickHandler = function () {
            player.timeShift(0);
        };
        var updateLiveState = function () {
            // Player is playing a live stream when the duration is infinite
            live = player.isLive();
            // Attach/detach live marker class
            if (live) {
                _this.getDomElement().addClass(liveCssClass);
                _this.setText('Live');
                if (config.hideInLivePlayback) {
                    _this.hide();
                }
                _this.onClick.subscribe(liveClickHandler);
                updateLiveTimeshiftState();
            }
            else {
                _this.getDomElement().removeClass(liveCssClass);
                _this.getDomElement().removeClass(liveEdgeCssClass);
                _this.show();
                _this.onClick.unsubscribe(liveClickHandler);
            }
        };
        var updateLiveTimeshiftState = function () {
            if (player.getTimeShift() === 0) {
                _this.getDomElement().addClass(liveEdgeCssClass);
            }
            else {
                _this.getDomElement().removeClass(liveEdgeCssClass);
            }
        };
        var liveStreamDetector = new utils_1.PlayerUtils.LiveStreamDetector(player);
        liveStreamDetector.onLiveChanged.subscribe(function (sender, args) {
            live = args.live;
            updateLiveState();
        });
        liveStreamDetector.detect(); // Initial detection
        var playbackTimeHandler = function () {
            if (!live && player.getDuration() !== Infinity) {
                _this.setTime(player.getCurrentTime(), player.getDuration());
            }
            // To avoid 'jumping' in the UI by varying label sizes due to non-monospaced fonts,
            // we gradually increase the min-width with the content to reach a stable size.
            var width = _this.getDomElement().width();
            if (width > minWidth) {
                minWidth = width;
                _this.getDomElement().css({
                    'min-width': minWidth + 'px'
                });
            }
        };
        player.addEventHandler(player.EVENT.ON_TIME_CHANGED, playbackTimeHandler);
        player.addEventHandler(player.EVENT.ON_SEEKED, playbackTimeHandler);
        player.addEventHandler(player.EVENT.ON_CAST_TIME_UPDATED, playbackTimeHandler);
        player.addEventHandler(player.EVENT.ON_TIME_SHIFT, updateLiveTimeshiftState);
        player.addEventHandler(player.EVENT.ON_TIME_SHIFTED, updateLiveTimeshiftState);
        var init = function () {
            // Reset min-width when a new source is ready (especially for switching VOD/Live modes where the label content
            // changes)
            minWidth = 0;
            _this.getDomElement().css({
                'min-width': null
            });
            // Set time format depending on source duration
            _this.timeFormat = Math.abs(player.isLive() ? player.getMaxTimeShift() : player.getDuration()) >= 3600 ?
                utils_1.StringUtils.FORMAT_HHMMSS : utils_1.StringUtils.FORMAT_MMSS;
            // Update time after the format has been set
            playbackTimeHandler();
        };
        player.addEventHandler(player.EVENT.ON_READY, init);
        init();
    };
    /**
     * Sets the current playback time and total duration.
     * @param playbackSeconds the current playback time in seconds
     * @param durationSeconds the total duration in seconds
     */
    PlaybackTimeLabel.prototype.setTime = function (playbackSeconds, durationSeconds) {
        var currentTime = utils_1.StringUtils.secondsToTime(playbackSeconds, this.timeFormat);
        var totalTime = utils_1.StringUtils.secondsToTime(durationSeconds, this.timeFormat);
        switch (this.config.timeLabelMode) {
            case PlaybackTimeLabelMode.CurrentTime:
                this.setText("" + currentTime);
                break;
            case PlaybackTimeLabelMode.TotalTime:
                this.setText("" + totalTime);
                break;
            case PlaybackTimeLabelMode.CurrentAndTotalTime:
                this.setText(currentTime + " / " + totalTime);
                break;
        }
    };
    return PlaybackTimeLabel;
}(label_1.Label));
exports.PlaybackTimeLabel = PlaybackTimeLabel;


/***/ }),
/* 14 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var container_1 = __webpack_require__(0);
var utils_1 = __webpack_require__(3);
var spacer_1 = __webpack_require__(15);
/**
 * A container for main player control components, e.g. play toggle button, seek bar, volume control, fullscreen toggle
 * button.
 */
var ControlBar = (function (_super) {
    __extends(ControlBar, _super);
    function ControlBar(config, autoHide) {
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-controlbar',
            hidden: autoHide
        }, _this.config);
        return _this;
    }
    ControlBar.prototype.configure = function (player, uimanager) {
        _super.prototype.configure.call(this, player, uimanager);
        var self = this;
        // Counts how many components are hovered and block hiding of the control bar
        var hoverStackCount = 0;
        // Track hover status of child components
        utils_1.UIUtils.traverseTree(this, function (component) {
            // Do not track hover status of child containers or spacers, only of 'real' controls
            if (component instanceof container_1.Container || component instanceof spacer_1.Spacer) {
                return;
            }
            // Subscribe hover event and keep a count of the number of hovered children
            component.onHoverChanged.subscribe(function (sender, args) {
                if (args.hovered) {
                    hoverStackCount++;
                }
                else {
                    hoverStackCount--;
                }
            });
        });
        uimanager.onControlsShow.subscribe(function () {
            if (self.config.hidden) {
                self.show();
            }
        });
        uimanager.onPreviewControlsHide.subscribe(function (sender, args) {
            // Cancel the hide event if hovered child components block hiding
            args.cancel = (hoverStackCount > 0);
        });
        uimanager.onControlsHide.subscribe(function () {
            if (self.config.hidden) {
                self.hide();
            }
        });
    };
    return ControlBar;
}(container_1.Container));
exports.ControlBar = ControlBar;


/***/ }),
/* 15 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var component_1 = __webpack_require__(1);
/**
 * A dummy component that just reserves some space and does nothing else.
 */
var Spacer = (function (_super) {
    __extends(Spacer, _super);
    function Spacer(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-spacer',
        }, _this.config);
        return _this;
    }
    Spacer.prototype.onShowEvent = function () {
        // disable event firing by overwriting and not calling super
    };
    Spacer.prototype.onHideEvent = function () {
        // disable event firing by overwriting and not calling super
    };
    Spacer.prototype.onHoverChangedEvent = function (hovered) {
        // disable event firing by overwriting and not calling super
    };
    return Spacer;
}(component_1.Component));
exports.Spacer = Spacer;


/***/ }),
/* 16 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var container_1 = __webpack_require__(0);
var label_1 = __webpack_require__(6);
var component_1 = __webpack_require__(1);
var utils_1 = __webpack_require__(3);
/**
 * A label for a {@link SeekBar} that can display the seek target time, a thumbnail, and title (e.g. chapter title).
 */
var SeekBarLabel = (function (_super) {
    __extends(SeekBarLabel, _super);
    function SeekBarLabel(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.timeLabel = new label_1.Label({ cssClasses: ['seekbar-label-time'] });
        _this.titleLabel = new label_1.Label({ cssClasses: ['seekbar-label-title'] });
        _this.thumbnail = new component_1.Component({ cssClasses: ['seekbar-thumbnail'] });
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-seekbar-label',
            components: [new container_1.Container({
                    components: [
                        // this.thumbnail,
                        new container_1.Container({
                            components: [_this.titleLabel, _this.timeLabel],
                            cssClass: 'seekbar-label-metadata',
                        })
                    ],
                    cssClass: 'seekbar-label-inner',
                })],
            hidden: true
        }, _this.config);
        return _this;
    }
    SeekBarLabel.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        uimanager.onSeekPreview.subscribe(function (sender, args) {
            if (player.isLive()) {
                var time = player.getMaxTimeShift() - player.getMaxTimeShift() * (args.position / 100);
                _this.setTime(time);
            }
            else {
                var percentage = 0;
                if (args.marker) {
                    percentage = args.marker.time;
                    _this.setTitleText(args.marker.title);
                }
                else {
                    percentage = args.position;
                    _this.setTitleText(null);
                }
                var time = player.getDuration() * (percentage / 100);
                _this.setTime(time);
                _this.setThumbnail(player.getThumb(time));
            }
        });
        var init = function () {
            // Set time format depending on source duration
            _this.timeFormat = Math.abs(player.isLive() ? player.getMaxTimeShift() : player.getDuration()) >= 3600 ?
                utils_1.StringUtils.FORMAT_HHMMSS : utils_1.StringUtils.FORMAT_MMSS;
        };
        player.addEventHandler(player.EVENT.ON_READY, init);
        init();
    };
    /**
     * Sets arbitrary text on the label.
     * @param text the text to show on the label
     */
    SeekBarLabel.prototype.setText = function (text) {
        this.timeLabel.setText(text);
    };
    /**
     * Sets a time to be displayed on the label.
     * @param seconds the time in seconds to display on the label
     */
    SeekBarLabel.prototype.setTime = function (seconds) {
        this.setText(utils_1.StringUtils.secondsToTime(seconds, this.timeFormat));
    };
    /**
     * Sets the text on the title label.
     * @param text the text to show on the label
     */
    SeekBarLabel.prototype.setTitleText = function (text) {
        this.titleLabel.setText(text);
    };
    /**
     * Sets or removes a thumbnail on the label.
     * @param thumbnail the thumbnail to display on the label or null to remove a displayed thumbnail
     */
    SeekBarLabel.prototype.setThumbnail = function (thumbnail) {
        if (thumbnail === void 0) { thumbnail = null; }
        var thumbnailElement = this.thumbnail.getDomElement();
        if (thumbnail == null) {
            thumbnailElement.css({
                'background-image': null,
                'display': null,
                'width': null,
                'height': null
            });
        }
        else {
            thumbnailElement.css({
                'display': 'inherit',
                'background-image': "url(" + thumbnail.url + ")",
                'width': thumbnail.w + 'px',
                'height': thumbnail.h + 'px',
                'background-position': "-" + thumbnail.x + "px -" + thumbnail.y + "px"
            });
        }
    };
    return SeekBarLabel;
}(container_1.Container));
exports.SeekBarLabel = SeekBarLabel;


/***/ }),
/* 17 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var container_1 = __webpack_require__(0);
var volumeslider_1 = __webpack_require__(18);
var volumetogglebutton_1 = __webpack_require__(19);
var timeout_1 = __webpack_require__(7);
/**
 * A composite volume control that consists of and internally manages a volume control button that can be used
 * for muting, and a (depending on the CSS style, e.g. slide-out) volume control bar.
 */
var VolumeControlButton = (function (_super) {
    __extends(VolumeControlButton, _super);
    function VolumeControlButton(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.volumeToggleButton = new volumetogglebutton_1.VolumeToggleButton();
        _this.volumeSlider = new volumeslider_1.VolumeSlider({
            vertical: config.vertical != null ? config.vertical : true,
            hidden: true
        });
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-volumecontrolbutton',
            components: [_this.volumeToggleButton, _this.volumeSlider],
            hideDelay: 500
        }, _this.config);
        return _this;
    }
    VolumeControlButton.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        var volumeToggleButton = this.getVolumeToggleButton();
        var volumeSlider = this.getVolumeSlider();
        this.volumeSliderHideTimeout = new timeout_1.Timeout(this.getConfig().hideDelay, function () {
            volumeSlider.hide();
        });
        /*
         * Volume Slider visibility handling
         *
         * The volume slider shall be visible while the user hovers the mute toggle button, while the user hovers the
         * volume slider, and while the user slides the volume slider. If none of these situations are true, the slider
         * shall disappear.
         */
        var volumeSliderHovered = false;
        volumeToggleButton.getDomElement().on('mouseenter', function () {
            // Show volume slider when mouse enters the button area
            if (volumeSlider.isHidden()) {
                volumeSlider.show();
            }
            // Avoid hiding of the slider when button is hovered
            _this.volumeSliderHideTimeout.clear();
        });
        volumeToggleButton.getDomElement().on('mouseleave', function () {
            // Hide slider delayed when button is left
            _this.volumeSliderHideTimeout.reset();
        });
        volumeSlider.getDomElement().on('mouseenter', function () {
            // When the slider is entered, cancel the hide timeout activated by leaving the button
            _this.volumeSliderHideTimeout.clear();
            volumeSliderHovered = true;
        });
        volumeSlider.getDomElement().on('mouseleave', function () {
            // When mouse leaves the slider, only hide it if there is no slide operation in progress
            if (volumeSlider.isSeeking()) {
                _this.volumeSliderHideTimeout.clear();
            }
            else {
                _this.volumeSliderHideTimeout.reset();
            }
            volumeSliderHovered = false;
        });
        volumeSlider.onSeeked.subscribe(function () {
            // When a slide operation is done and the slider not hovered (mouse outside slider), hide slider delayed
            if (!volumeSliderHovered) {
                _this.volumeSliderHideTimeout.reset();
            }
        });
    };
    VolumeControlButton.prototype.release = function () {
        _super.prototype.release.call(this);
        this.volumeSliderHideTimeout.clear();
    };
    /**
     * Provides access to the internally managed volume toggle button.
     * @returns {VolumeToggleButton}
     */
    VolumeControlButton.prototype.getVolumeToggleButton = function () {
        return this.volumeToggleButton;
    };
    /**
     * Provides access to the internally managed volume silder.
     * @returns {VolumeSlider}
     */
    VolumeControlButton.prototype.getVolumeSlider = function () {
        return this.volumeSlider;
    };
    return VolumeControlButton;
}(container_1.Container));
exports.VolumeControlButton = VolumeControlButton;


/***/ }),
/* 18 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var seekbar_1 = __webpack_require__(11);
/**
 * A simple volume slider component to adjust the player's volume setting.
 */
var VolumeSlider = (function (_super) {
    __extends(VolumeSlider, _super);
    function VolumeSlider(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-volumeslider',
            hideIfVolumeControlProhibited: true,
        }, _this.config);
        return _this;
    }
    VolumeSlider.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager, false);
        var config = this.getConfig();
        if (config.hideIfVolumeControlProhibited && !this.detectVolumeControlAvailability(player)) {
            this.hide();
            // We can just return from here, because the user will never interact with the control and any configured
            // functionality would only eat resources for no reason.
            return;
        }
        var volumeChangeHandler = function () {
            if (player.isMuted()) {
                _this.setPlaybackPosition(0);
                _this.setBufferPosition(0);
            }
            else {
                _this.setPlaybackPosition(player.getVolume());
                _this.setBufferPosition(player.getVolume());
            }
        };
        player.addEventHandler(player.EVENT.ON_READY, volumeChangeHandler);
        player.addEventHandler(player.EVENT.ON_VOLUME_CHANGED, volumeChangeHandler);
        player.addEventHandler(player.EVENT.ON_MUTED, volumeChangeHandler);
        player.addEventHandler(player.EVENT.ON_UNMUTED, volumeChangeHandler);
        this.onSeekPreview.subscribe(function (sender, args) {
            if (args.scrubbing) {
                player.setVolume(args.position);
            }
        });
        this.onSeeked.subscribe(function (sender, percentage) {
            player.setVolume(percentage);
        });
        // Update the volume slider marker when the player resized, a source is loaded and player is ready,
        // or the UI is configured. Check the seekbar for a detailed description.
        player.addEventHandler(player.EVENT.ON_PLAYER_RESIZE, function () {
            _this.refreshPlaybackPosition();
        });
        player.addEventHandler(player.EVENT.ON_READY, function () {
            _this.refreshPlaybackPosition();
        });
        uimanager.onConfigured.subscribe(function () {
            _this.refreshPlaybackPosition();
        });
        // Init volume bar
        volumeChangeHandler();
    };
    VolumeSlider.prototype.detectVolumeControlAvailability = function (player) {
        // Store current player state so we can restore it later
        var volume = player.getVolume();
        var muted = player.isMuted();
        var playing = player.isPlaying();
        /*
         * "On iOS devices, the audio level is always under the user’s physical control. The volume property is not
         * settable in JavaScript. Reading the volume property always returns 1."
         * https://developer.apple.com/library/content/documentation/AudioVideo/Conceptual/Using_HTML5_Audio_Video/Device-SpecificConsiderations/Device-SpecificConsiderations.html
         *
         * Our player API returns a volume range of [0, 100] so we need to check for 100 instead of 1.
         */
        // Only if the volume is 100, there's the possibility we are on a volume-control-restricted iOS device
        if (volume === 100) {
            // We set the volume to zero (that's the only value that does not unmute a muted player!)
            player.setVolume(0);
            // Then we check if the value is still 100
            if (player.getVolume() === 100) {
                // If the volume stayed at 100, we're on a volume-control-restricted device
                return false;
            }
            else {
                // We can control volume, so we must restore the previous player state
                player.setVolume(volume);
                if (muted) {
                    player.mute();
                }
                if (playing) {
                    // The volume restore above pauses autoplay on mobile devices (e.g. Android) so we need to resume playback
                    // (We cannot check isPaused() here because it is not set when playback is prohibited by the mobile platform)
                    player.play();
                }
                return true;
            }
        }
        else {
            // Volume is not 100, so we're definitely not on a volume-control-restricted iOS device
            return true;
        }
    };
    return VolumeSlider;
}(seekbar_1.SeekBar));
exports.VolumeSlider = VolumeSlider;


/***/ }),
/* 19 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var togglebutton_1 = __webpack_require__(8);
/**
 * A button that toggles audio muting.
 */
var VolumeToggleButton = (function (_super) {
    __extends(VolumeToggleButton, _super);
    function VolumeToggleButton(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-volumetogglebutton',
            text: 'Volume/Mute'
        }, _this.config);
        return _this;
    }
    VolumeToggleButton.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        var muteStateHandler = function () {
            if (player.isMuted()) {
                _this.on();
            }
            else {
                _this.off();
            }
        };
        var volumeLevelHandler = function () {
            // Toggle low class to display low volume icon below 50% volume
            if (player.getVolume() < 50) {
                _this.getDomElement().addClass(_this.prefixCss('low'));
            }
            else {
                _this.getDomElement().removeClass(_this.prefixCss('low'));
            }
        };
        player.addEventHandler(player.EVENT.ON_MUTED, muteStateHandler);
        player.addEventHandler(player.EVENT.ON_UNMUTED, muteStateHandler);
        player.addEventHandler(player.EVENT.ON_VOLUME_CHANGED, volumeLevelHandler);
        this.onClick.subscribe(function () {
            if (player.isMuted()) {
                player.unmute();
            }
            else {
                player.mute();
            }
        });
        // Startup init
        muteStateHandler();
        volumeLevelHandler();
    };
    return VolumeToggleButton;
}(togglebutton_1.ToggleButton));
exports.VolumeToggleButton = VolumeToggleButton;


/***/ }),
/* 20 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var container_1 = __webpack_require__(0);
var label_1 = __webpack_require__(6);
var tvnoisecanvas_1 = __webpack_require__(34);
/**
 * Overlays the player and displays error messages.
 */
var ErrorMessageOverlay = (function (_super) {
    __extends(ErrorMessageOverlay, _super);
    function ErrorMessageOverlay(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.errorLabel = new label_1.Label({ cssClass: 'ui-errormessage-label' });
        _this.tvNoiseBackground = new tvnoisecanvas_1.TvNoiseCanvas();
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-errormessage-overlay',
            components: [_this.tvNoiseBackground, _this.errorLabel],
            hidden: true
        }, _this.config);
        return _this;
    }
    ErrorMessageOverlay.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        var config = this.getConfig();
        player.addEventHandler(player.EVENT.ON_ERROR, function (event) {
            var message = event.message;
            // Process message translations
            if (config.messages) {
                if (typeof config.messages === 'function') {
                    // Translation function for all errors
                    message = config.messages(event);
                }
                else if (config.messages[event.code]) {
                    // It's not a translation function, so it must be a map of strings or translation functions
                    var customMessage = config.messages[event.code];
                    if (typeof customMessage === 'string') {
                        message = customMessage;
                    }
                    else {
                        // The message is a translation function, so we call it
                        message = customMessage(event);
                    }
                }
            }
            _this.errorLabel.setText(message);
            _this.tvNoiseBackground.start();
            _this.show();
        });
        player.addEventHandler(player.EVENT.ON_SOURCE_LOADED, function (event) {
            if (_this.isShown()) {
                _this.tvNoiseBackground.stop();
                _this.hide();
            }
        });
    };
    return ErrorMessageOverlay;
}(container_1.Container));
exports.ErrorMessageOverlay = ErrorMessageOverlay;


/***/ }),
/* 21 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var container_1 = __webpack_require__(0);
var hugeplaybacktogglebutton_1 = __webpack_require__(22);
/**
 * Overlays the player and displays error messages.
 */
var PlaybackToggleOverlay = (function (_super) {
    __extends(PlaybackToggleOverlay, _super);
    function PlaybackToggleOverlay(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.playbackToggleButton = new hugeplaybacktogglebutton_1.HugePlaybackToggleButton();
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-playbacktoggle-overlay',
            components: [_this.playbackToggleButton]
        }, _this.config);
        return _this;
    }
    return PlaybackToggleOverlay;
}(container_1.Container));
exports.PlaybackToggleOverlay = PlaybackToggleOverlay;


/***/ }),
/* 22 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var playbacktogglebutton_1 = __webpack_require__(10);
var dom_1 = __webpack_require__(2);
/**
 * A button that overlays the video and toggles between playback and pause.
 */
var HugePlaybackToggleButton = (function (_super) {
    __extends(HugePlaybackToggleButton, _super);
    function HugePlaybackToggleButton(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-hugeplaybacktogglebutton',
            text: 'Play/Pause'
        }, _this.config);
        return _this;
    }
    HugePlaybackToggleButton.prototype.configure = function (player, uimanager) {
        var _this = this;
        // Update button state through API events
        _super.prototype.configure.call(this, player, uimanager, false);
        var togglePlayback = function () {
            if (player.isPlaying()) {
                player.pause('ui-overlay');
            }
            else {
                player.play('ui-overlay');
            }
        };
        var toggleFullscreen = function () {
            if (player.isFullscreen()) {
                player.exitFullscreen();
            }
            else {
                // player.enterFullscreen();
            }
        };
        var firstPlay = true;
        var clickTime = 0;
        var doubleClickTime = 0;
        /*
         * YouTube-style toggle button handling
         *
         * The goal is to prevent a short pause or playback interval between a click, that toggles playback, and a
         * double click, that toggles fullscreen. In this naive approach, the first click would e.g. start playback,
         * the second click would be detected as double click and toggle to fullscreen, and as second normal click stop
         * playback, which results is a short playback interval with max length of the double click detection
         * period (usually 500ms).
         *
         * To solve this issue, we defer handling of the first click for 200ms, which is almost unnoticeable to the user,
         * and just toggle playback if no second click (double click) has been registered during this period. If a double
         * click is registered, we just toggle the fullscreen. In the first 200ms, undesired playback changes thus cannot
         * happen. If a double click is registered within 500ms, we undo the playback change and switch fullscreen mode.
         * In the end, this method basically introduces a 200ms observing interval in which playback changes are prevented
         * if a double click happens.
         */
        this.onClick.subscribe(function () {
            // Directly start playback on first click of the button.
            // This is a required workaround for mobile browsers where video playback needs to be triggered directly
            // by the user. A deferred playback start through the timeout below is not considered as user action and
            // therefore ignored by mobile browsers.
            if (firstPlay) {
                // Try to start playback. Then we wait for ON_PLAY and only when it arrives, we disable the firstPlay flag.
                // If we disable the flag here, onClick was triggered programmatically instead of by a user interaction, and
                // playback is blocked (e.g. on mobile devices due to the programmatic play() call), we loose the chance to
                // ever start playback through a user interaction again with this button.
                togglePlayback();
                return;
            }
            var now = Date.now();
            if (now - clickTime < 200) {
                // We have a double click inside the 200ms interval, just toggle fullscreen mode
                toggleFullscreen();
                doubleClickTime = now;
                return;
            }
            else if (now - clickTime < 500) {
                // We have a double click inside the 500ms interval, undo playback toggle and toggle fullscreen mode
                toggleFullscreen();
                togglePlayback();
                doubleClickTime = now;
                return;
            }
            clickTime = now;
            setTimeout(function () {
                if (Date.now() - doubleClickTime > 200) {
                    // No double click detected, so we toggle playback and wait what happens next
                    togglePlayback();
                }
            }, 200);
        });
        player.addEventHandler(player.EVENT.ON_PLAY, function () {
            // Playback has really started, we can disable the flag to switch to normal toggle button handling
            firstPlay = false;
        });
        // Hide button while initializing a Cast session
        var castInitializationHandler = function (event) {
            if (event.type === player.EVENT.ON_CAST_START) {
                // Hide button when session is being initialized
                _this.hide();
            }
            else {
                // Show button when session is established or initialization was aborted
                _this.show();
            }
        };
        player.addEventHandler(player.EVENT.ON_CAST_START, castInitializationHandler);
        player.addEventHandler(player.EVENT.ON_CAST_STARTED, castInitializationHandler);
        player.addEventHandler(player.EVENT.ON_CAST_STOPPED, castInitializationHandler);
    };
    HugePlaybackToggleButton.prototype.toDomElement = function () {
        var buttonElement = _super.prototype.toDomElement.call(this);
        // Add child that contains the play button image
        // Setting the image directly on the button does not work together with scaling animations, because the button
        // can cover the whole video player are and scaling would extend it beyond. By adding an inner element, confined
        // to the size if the image, it can scale inside the player without overshooting.
        buttonElement.append(new dom_1.DOM('div', {
            'class': this.prefixCss('image')
        }));
        return buttonElement;
    };
    return HugePlaybackToggleButton;
}(playbacktogglebutton_1.PlaybackToggleButton));
exports.HugePlaybackToggleButton = HugePlaybackToggleButton;


/***/ }),
/* 23 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var listselector_1 = __webpack_require__(36);
var dom_1 = __webpack_require__(2);
/**
 * A simple select box providing the possibility to select a single item out of a list of available items.
 *
 * DOM example:
 * <code>
 *     <select class='ui-selectbox'>
 *         <option value='key'>label</option>
 *         ...
 *     </select>
 * </code>
 */
var SelectBox = (function (_super) {
    __extends(SelectBox, _super);
    function SelectBox(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-selectbox'
        }, _this.config);
        return _this;
    }
    SelectBox.prototype.toDomElement = function () {
        var _this = this;
        var selectElement = new dom_1.DOM('select', {
            'id': this.config.id,
            'class': this.getCssClasses()
        });
        this.selectElement = selectElement;
        this.updateDomItems();
        selectElement.on('change', function () {
            var value = selectElement.val();
            _this.onItemSelectedEvent(value, false);
        });
        return selectElement;
    };
    SelectBox.prototype.updateDomItems = function (selectedValue) {
        if (selectedValue === void 0) { selectedValue = null; }
        // Delete all children
        this.selectElement.empty();
        // Add updated children
        for (var _i = 0, _a = this.items; _i < _a.length; _i++) {
            var item = _a[_i];
            var optionElement = new dom_1.DOM('option', {
                'value': item.key
            }).html(item.label);
            if (item.key === selectedValue + '') {
                optionElement.attr('selected', 'selected');
            }
            this.selectElement.append(optionElement);
        }
    };
    SelectBox.prototype.onItemAddedEvent = function (value) {
        _super.prototype.onItemAddedEvent.call(this, value);
        this.updateDomItems(this.selectedItem);
    };
    SelectBox.prototype.onItemRemovedEvent = function (value) {
        _super.prototype.onItemRemovedEvent.call(this, value);
        this.updateDomItems(this.selectedItem);
    };
    SelectBox.prototype.onItemSelectedEvent = function (value, updateDomItems) {
        if (updateDomItems === void 0) { updateDomItems = true; }
        _super.prototype.onItemSelectedEvent.call(this, value);
        if (updateDomItems) {
            this.updateDomItems(value);
        }
    };
    return SelectBox;
}(listselector_1.ListSelector));
exports.SelectBox = SelectBox;


/***/ }),
/* 24 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var button_1 = __webpack_require__(5);
/**
 * A click overlay that opens an url in a new tab if clicked.
 */
var ClickOverlay = (function (_super) {
    __extends(ClickOverlay, _super);
    function ClickOverlay(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-clickoverlay'
        }, _this.config);
        return _this;
    }
    ClickOverlay.prototype.initialize = function () {
        _super.prototype.initialize.call(this);
        this.setUrl(this.config.url);
        var element = this.getDomElement();
        element.on('click', function () {
            if (element.data('url')) {
                window.open(element.data('url'), '_blank');
            }
        });
    };
    /**
     * Gets the URL that should be followed when the watermark is clicked.
     * @returns {string} the watermark URL
     */
    ClickOverlay.prototype.getUrl = function () {
        return this.getDomElement().data('url');
    };
    ClickOverlay.prototype.setUrl = function (url) {
        if (url === undefined || url == null) {
            url = '';
        }
        this.getDomElement().data('url', url);
    };
    return ClickOverlay;
}(button_1.Button));
exports.ClickOverlay = ClickOverlay;


/***/ }),
/* 25 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var label_1 = __webpack_require__(6);
/**
 * Enumerates the types of content that the {@link MetadataLabel} can display.
 */
var MetadataLabelContent;
(function (MetadataLabelContent) {
    /**
     * Title of the data source.
     */
    MetadataLabelContent[MetadataLabelContent["Title"] = 0] = "Title";
    /**
     * Description fo the data source.
     */
    MetadataLabelContent[MetadataLabelContent["Description"] = 1] = "Description";
})(MetadataLabelContent = exports.MetadataLabelContent || (exports.MetadataLabelContent = {}));
/**
 * A label that can be configured to display certain metadata.
 */
var MetadataLabel = (function (_super) {
    __extends(MetadataLabel, _super);
    function MetadataLabel(config) {
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClasses: ['label-metadata', 'label-metadata-' + MetadataLabelContent[config.content].toLowerCase()]
        }, _this.config);
        return _this;
    }
    MetadataLabel.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        var config = this.getConfig();
        var uiconfig = uimanager.getConfig();
        var init = function () {
            switch (config.content) {
                case MetadataLabelContent.Title:
                    if (uiconfig && uiconfig.metadata && uiconfig.metadata.title) {
                        _this.setText(uiconfig.metadata.title);
                    }
                    else if (player.getConfig().source && player.getConfig().source.title) {
                        _this.setText(player.getConfig().source.title);
                    }
                    break;
                case MetadataLabelContent.Description:
                    if (uiconfig && uiconfig.metadata && uiconfig.metadata.description) {
                        _this.setText(uiconfig.metadata.description);
                    }
                    else if (player.getConfig().source && player.getConfig().source.description) {
                        _this.setText(player.getConfig().source.description);
                    }
                    break;
            }
        };
        var unload = function () {
            _this.setText(null);
        };
        // Init label
        init();
        // Reinit label when a new source is loaded
        player.addEventHandler(player.EVENT.ON_SOURCE_LOADED, init);
        // Clear labels when source is unloaded
        player.addEventHandler(player.EVENT.ON_SOURCE_UNLOADED, unload);
    };
    return MetadataLabel;
}(label_1.Label));
exports.MetadataLabel = MetadataLabel;


/***/ }),
/* 26 */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(27);
__webpack_require__(30);
module.exports = __webpack_require__(43);


/***/ }),
/* 27 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var angular = __webpack_require__(9);
var bitdash_controller_1 = __webpack_require__(28);
var bitdash_directive_1 = __webpack_require__(29);
exports.default = angular.module('mi.BitdashPlayer', [])
    .controller('MiBitdashController', bitdash_controller_1.default)
    .directive('miBitdashPlayer', bitdash_directive_1.default);


/***/ }),
/* 28 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var angular = __webpack_require__(9);
var BitmovinController = (function () {
    function BitmovinController($scope, $log) {
        this.$scope = $scope;
        this.$log = $log;
        this.config = {};
        this.options = {};
        this.$scope = $scope;
        this.$log = $log;
    }
    BitmovinController.prototype.$onInit = function () {
        if (angular.isDefined(this.$scope.config) && angular.isDefined(this.$scope.config.key)) {
            this.config = this.$scope.config;
        }
        else {
            this.$log.error("basic config for bitdash player is missing!");
        }
        if (angular.isDefined(this.$scope.options)) {
            this.options = this.$scope.options;
        }
        if (angular.isDefined(this.$scope.webcast)) {
            this.processWebcast(this.$scope.webcast);
        }
    };
    BitmovinController.prototype.processWebcast = function (webcast) {
        var stateProperty = webcast.state + "StateData";
        if (angular.isDefined(this.options.forcedState)) {
            stateProperty = this.options.forcedState + "StateData";
        }
        this.config.source = this.getPlayerConfigSource(webcast, stateProperty);
        this.config.style = { ux: false };
    };
    BitmovinController.prototype.getPlayerConfigSource = function (webcast, state) {
        if ((webcast.useDVRPlaybackInPostlive === true) && (state === 'postliveStateData')) {
            return this.getDVRPlaybackToPostlive(webcast);
        }
        return this.getPlayerConfigSourceByState(webcast, state);
    };
    BitmovinController.prototype.getDVRPlaybackToPostlive = function (webcast) {
        var hls = webcast['liveStateData'].playout.hlsDvrUrl;
        var title = webcast.name;
        if (angular.isDefined(webcast['postliveStateData'].playout.offset)) {
            var offset = parseInt(webcast['postliveStateData'].playout.offset, 10);
            if (offset > 0) {
                var offsetPrefix = void 0;
                var parser = document.createElement('a');
                parser.href = webcast['liveStateData'].playout.hlsDvrUrl;
                offsetPrefix = (parser.search) ? '&' : '?';
                hls += offsetPrefix + "wowzadvrplayliststart=" + offset + "000";
            }
        }
        return { hls: hls, title: title };
    };
    BitmovinController.prototype.getPlayerConfigSourceByState = function (webcast, state) {
        var hls = webcast[state].playout.hlsUrl;
        var title = webcast.name;
        var hiveServiceUrl = this.getHiveServiceUrlByLang(webcast);
        if (angular.isDefined(webcast[state].playout.videoManagerHlsUrl) && webcast[state].playout.videoManagerHlsUrl) {
            hls = webcast[state].playout.videoManagerHlsUrl;
        }
        if (angular.isDefined(webcast[state].playout.offset)) {
            var offset = parseInt(webcast[state].playout.offset, 10);
            if (offset > 0) {
                var offsetPrefix = void 0;
                var parser = document.createElement('a');
                parser.href = hls;
                offsetPrefix = (parser.search) ? '&' : '?';
                hls += offsetPrefix + "start=" + offset;
            }
        }
        return { hls: hls, title: title, hiveServiceUrl: hiveServiceUrl };
    };
    BitmovinController.prototype.getHiveServiceUrlByLang = function (webcast) {
        var hiveServiceUrl = null;
        if (webcast.languages && webcast.language) {
            webcast.languages.forEach(function (item) {
                if (item.language === webcast.language) {
                    hiveServiceUrl = angular.copy(item.hiveServiceUrl);
                }
            });
        }
        return hiveServiceUrl;
    };
    return BitmovinController;
}());
BitmovinController.$inject = ['$scope', '$log'];
exports.default = BitmovinController;


/***/ }),
/* 29 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var angular = __webpack_require__(9);
var BitdashDirective = function ($window, $log) { return ({
    controller: 'MiBitdashController',
    controllerAs: 'bitdashVm',
    replace: true,
    restrict: 'EA',
    scope: {
        config: '=',
        options: '=?',
        webcast: '=',
    },
    template: "<div id=\"mi-bitdash-player\" width=\"100%\" height=\"auto\"></div>",
    link: function (scope) {
        var bitmovinPlayer;
        var bitmovinUIManager;
        var bitmovinControlbar;
        var config = scope.config;
        var webcast = scope.webcast;
        var state = scope.webcast.state + "StateData";
        buildPlayer();
        function buildPlayer() {
            bitmovinPlayer = $window.window.bitmovin.player('mi-bitdash-player');
            if (angular.isDefined(bitmovinPlayer) && bitmovinPlayer.isReady() === true) {
                bitmovinPlayer.destroy();
                bitmovinPlayer = $window.window.bitmovin.player('mi-bitdash-player');
            }
            if ((state === 'liveStateData') && config.source.hiveServiceUrl) {
                // Get a hive-enabled player through bitdash.initHiveSDN
                $window.window.bitmovin.initHiveSDN(bitmovinPlayer, { debugLevel: 'off' });
                // Configure and Setup bitmovin in initSession callback
                bitmovinPlayer.initSession(config.source.hiveServiceUrl).then(function (session) {
                    var hiveConfig = angular.copy(config);
                    hiveConfig.source.hls = session.manifest;
                    loadPlayer(hiveConfig);
                }, function (reason) {
                    // Handle the case if Hive init fails
                    $log.warn("Hive init fails: " + reason.code + " - " + reason.message);
                    loadPlayer(config);
                });
            }
            else {
                loadPlayer(config);
            }
        }
        function loadPlayer(conf) {
            bitmovinPlayer
                .setup(conf)
                .then(function () {
                bitmovinUIManager = $window.window.bitmovin.playerui.UIManager.Factory;
                if (isAudioOnly()) {
                    bitmovinUIManager.buildAudioOnlyUI(bitmovinPlayer);
                    setAudioOnlyStillImage();
                }
                else {
                    bitmovinUIManager.buildAudioVideoUI(bitmovinPlayer);
                }
                bitmovinControlbar = getElementsByClassName('bitmovinplayer-container');
                if (angular.isDefined(bitmovinControlbar)) {
                    bitmovinControlbar.style.minWidth = '175px';
                    bitmovinControlbar.style.minHeight = '101px';
                    document.getElementById('bitmovinplayer-video-mi-bitdash-player').setAttribute('title', webcast.name);
                }
            }, function (reason) {
                $log.log("Error: " + reason.code + " - " + reason.message);
            });
        }
        function isAudioOnly() {
            return angular.isDefined(scope.webcast[state].playout.audioOnly) &&
                scope.webcast[state].playout.audioOnly;
        }
        function setAudioOnlyStillImage() {
            if (angular.isDefined(scope.webcast[state].playout.audioOnlyStillUrl) &&
                scope.webcast[state].playout.audioOnlyStillUrl !== '') {
                var element = getElementsByClassName('mi-wbc-ui-audioonly-overlay');
                element.style.backgroundImage = "url(" + scope.webcast[state].playout.audioOnlyStillUrl + ")";
                element.style.backgroundSize = 'contain';
                element.style.backgroundPosition = 'center';
            }
        }
        function getElementsByClassName(className) {
            return document.getElementsByClassName(className)[0];
        }
    }
}); };
exports.default = BitdashDirective;
BitdashDirective.$inject = ['$window', '$log'];


/***/ }),
/* 30 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
/// <reference path='player.d.ts' />
var uimanager_1 = __webpack_require__(31);
var button_1 = __webpack_require__(5);
var controlbar_1 = __webpack_require__(14);
var hugeplaybacktogglebutton_1 = __webpack_require__(22);
var playbacktimelabel_1 = __webpack_require__(13);
var playbacktogglebutton_1 = __webpack_require__(10);
var seekbar_1 = __webpack_require__(11);
var selectbox_1 = __webpack_require__(23);
var togglebutton_1 = __webpack_require__(8);
var videoqualityselectbox_1 = __webpack_require__(37);
var volumetogglebutton_1 = __webpack_require__(19);
var watermark_1 = __webpack_require__(38);
var uicontainer_1 = __webpack_require__(12);
var container_1 = __webpack_require__(0);
var label_1 = __webpack_require__(6);
var component_1 = __webpack_require__(1);
var errormessageoverlay_1 = __webpack_require__(20);
var seekbarlabel_1 = __webpack_require__(16);
var titlebar_1 = __webpack_require__(39);
var volumecontrolbutton_1 = __webpack_require__(17);
var clickoverlay_1 = __webpack_require__(24);
var hugereplaybutton_1 = __webpack_require__(40);
var bufferingoverlay_1 = __webpack_require__(41);
var playbacktoggleoverlay_1 = __webpack_require__(21);
var closebutton_1 = __webpack_require__(42);
var metadatalabel_1 = __webpack_require__(25);
var volumeslider_1 = __webpack_require__(18);
var spacer_1 = __webpack_require__(15);
var utils_1 = __webpack_require__(3);
// Object.assign polyfill for ES5/IE9
// https://developer.mozilla.org/de/docs/Web/JavaScript/Reference/Global_Objects/Object/assign
if (typeof Object.assign !== 'function') {
    Object.assign = function (target) {
        'use strict';
        if (target == null) {
            throw new TypeError('Cannot convert undefined or null to object');
        }
        target = Object(target);
        for (var index = 1; index < arguments.length; index++) {
            var source = arguments[index];
            if (source != null) {
                for (var key in source) {
                    if (Object.prototype.hasOwnProperty.call(source, key)) {
                        target[key] = source[key];
                    }
                }
            }
        }
        return target;
    };
}
// Expose classes to window
window.bitmovin.playerui = {
    // Management
    UIManager: uimanager_1.UIManager,
    UIInstanceManager: uimanager_1.UIInstanceManager,
    // Utils
    ArrayUtils: utils_1.ArrayUtils,
    StringUtils: utils_1.StringUtils,
    PlayerUtils: utils_1.PlayerUtils,
    UIUtils: utils_1.UIUtils,
    BrowserUtils: utils_1.BrowserUtils,
    // Components
    BufferingOverlay: bufferingoverlay_1.BufferingOverlay,
    Button: button_1.Button,
    ClickOverlay: clickoverlay_1.ClickOverlay,
    CloseButton: closebutton_1.CloseButton,
    Component: component_1.Component,
    Container: container_1.Container,
    ControlBar: controlbar_1.ControlBar,
    ErrorMessageOverlay: errormessageoverlay_1.ErrorMessageOverlay,
    HugePlaybackToggleButton: hugeplaybacktogglebutton_1.HugePlaybackToggleButton,
    HugeReplayButton: hugereplaybutton_1.HugeReplayButton,
    Label: label_1.Label,
    MetadataLabel: metadatalabel_1.MetadataLabel,
    MetadataLabelContent: metadatalabel_1.MetadataLabelContent,
    PlaybackTimeLabel: playbacktimelabel_1.PlaybackTimeLabel,
    PlaybackTimeLabelMode: playbacktimelabel_1.PlaybackTimeLabelMode,
    PlaybackToggleButton: playbacktogglebutton_1.PlaybackToggleButton,
    PlaybackToggleOverlay: playbacktoggleoverlay_1.PlaybackToggleOverlay,
    SeekBar: seekbar_1.SeekBar,
    SeekBarLabel: seekbarlabel_1.SeekBarLabel,
    SelectBox: selectbox_1.SelectBox,
    Spacer: spacer_1.Spacer,
    TitleBar: titlebar_1.TitleBar,
    ToggleButton: togglebutton_1.ToggleButton,
    UIContainer: uicontainer_1.UIContainer,
    VideoQualitySelectBox: videoqualityselectbox_1.VideoQualitySelectBox,
    VolumeControlButton: volumecontrolbutton_1.VolumeControlButton,
    VolumeSlider: volumeslider_1.VolumeSlider,
    VolumeToggleButton: volumetogglebutton_1.VolumeToggleButton,
    Watermark: watermark_1.Watermark,
};


/***/ }),
/* 31 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var uicontainer_1 = __webpack_require__(12);
var dom_1 = __webpack_require__(2);
var component_1 = __webpack_require__(1);
var container_1 = __webpack_require__(0);
var playbacktogglebutton_1 = __webpack_require__(10);
var seekbar_1 = __webpack_require__(11);
var playbacktimelabel_1 = __webpack_require__(13);
var controlbar_1 = __webpack_require__(14);
var eventdispatcher_1 = __webpack_require__(4);
var seekbarlabel_1 = __webpack_require__(16);
var volumecontrolbutton_1 = __webpack_require__(17);
var fullscreentogglebutton_1 = __webpack_require__(33);
var errormessageoverlay_1 = __webpack_require__(20);
var utils_1 = __webpack_require__(3);
var audioonlyoverlay_1 = __webpack_require__(35);
var playbacktoggleoverlay_1 = __webpack_require__(21);
var UIManager = (function () {
    function UIManager(player, playerUiOrUiVariants, config) {
        if (config === void 0) { config = {}; }
        var _this = this;
        if (playerUiOrUiVariants instanceof uicontainer_1.UIContainer) {
            // Single-UI constructor has been called, transform arguments to UIVariant[] signature
            var playerUi = playerUiOrUiVariants;
            var adsUi = null;
            var uiVariants = [];
            // Add the ads UI if defined
            if (adsUi) {
                uiVariants.push({
                    ui: adsUi,
                    condition: function (context) {
                        return context.isAdWithUI;
                    },
                });
            }
            // Add the default player UI
            uiVariants.push({ ui: playerUi });
            this.uiVariants = uiVariants;
        }
        else {
            // Default constructor (UIVariant[]) has been called
            this.uiVariants = playerUiOrUiVariants;
        }
        this.player = player;
        this.config = config;
        this.managerPlayerWrapper = new PlayerWrapper(player);
        this.playerElement = new dom_1.DOM(player.getFigure());
        // Create UI instance managers for the UI variants
        // The instance managers map to the corresponding UI variants by their array index
        this.uiInstanceManagers = [];
        var uiVariantsWithoutCondition = [];
        for (var _i = 0, _a = this.uiVariants; _i < _a.length; _i++) {
            var uiVariant = _a[_i];
            if (uiVariant.condition == null) {
                // Collect variants without conditions for error checking
                uiVariantsWithoutCondition.push(uiVariant);
            }
            // Create the instance manager for a UI variant
            this.uiInstanceManagers.push(new InternalUIInstanceManager(player, uiVariant.ui, this.config));
        }
        // Make sure that there is only one UI variant without a condition
        // It does not make sense to have multiple variants without condition, because only the first one in the list
        // (the one with the lowest index) will ever be selected.
        if (uiVariantsWithoutCondition.length > 1) {
            throw Error('Too many UIs without a condition: You cannot have more than one default UI');
        }
        // Make sure that the default UI variant, if defined, is at the end of the list (last index)
        // If it comes earlier, the variants with conditions that come afterwards will never be selected because the
        // default variant without a condition always evaluates to 'true'
        if (uiVariantsWithoutCondition.length > 0
            && uiVariantsWithoutCondition[0] !== this.uiVariants[this.uiVariants.length - 1]) {
            throw Error('Invalid UI variant order: the default UI (without condition) must be at the end of the list');
        }
        var adStartedEvent = null; // keep the event stored here during ad playback
        var isMobile = utils_1.BrowserUtils.isMobile;
        // Dynamically select a UI variant that matches the current UI condition.
        var resolveUiVariant = function (event) {
            // Make sure that the ON_AD_STARTED event data is persisted through ad playback in case other events happen
            // in the meantime, e.g. player resize. We need to store this data because there is no other way to find out
            // ad details (e.g. the ad client) while an ad is playing.
            // Existing event data signals that an ad is currently active. We cannot use player.isAd() because it returns
            // true on ad start and also on ad end events, which is problematic.
            if (event != null) {
                switch (event.type) {
                    // When the ad starts, we store the event data
                    case player.EVENT.ON_AD_STARTED:
                        adStartedEvent = event;
                        break;
                    // When the ad ends, we delete the event data
                    case player.EVENT.ON_AD_FINISHED:
                    case player.EVENT.ON_AD_SKIPPED:
                    case player.EVENT.ON_AD_ERROR:
                        adStartedEvent = null;
                }
            }
            // Detect if an ad has started
            var ad = adStartedEvent != null;
            var adWithUI = ad && adStartedEvent.clientType === 'vast';
            // Determine the current context for which the UI variant will be resolved
            var context = {
                isAd: ad,
                isAdWithUI: adWithUI,
                isFullscreen: _this.player.isFullscreen(),
                isMobile: isMobile,
                width: _this.playerElement.width(),
                documentWidth: document.body.clientWidth,
            };
            var nextUi = null;
            var uiVariantChanged = false;
            // Select new UI variant
            // If no variant condition is fulfilled, we switch to *no* UI
            for (var _i = 0, _a = _this.uiVariants; _i < _a.length; _i++) {
                var uiVariant = _a[_i];
                if (uiVariant.condition == null || uiVariant.condition(context) === true) {
                    nextUi = _this.uiInstanceManagers[_this.uiVariants.indexOf(uiVariant)];
                    break;
                }
            }
            // Determine if the UI variant is changing
            if (nextUi !== _this.currentUi) {
                uiVariantChanged = true;
                // console.log('switched from ', this.currentUi ? this.currentUi.getUI() : 'none',
                //   ' to ', nextUi ? nextUi.getUI() : 'none');
            }
            // Only if the UI variant is changing, we need to do some stuff. Else we just leave everything as-is.
            if (uiVariantChanged) {
                // Hide the currently active UI variant
                if (_this.currentUi) {
                    _this.currentUi.getUI().hide();
                }
                // Assign the new UI variant as current UI
                _this.currentUi = nextUi;
                // When we switch to a different UI instance, there's some additional stuff to manage. If we do not switch
                // to an instance, we're done here.
                if (_this.currentUi != null) {
                    // Add the UI to the DOM (and configure it) the first time it is selected
                    if (!_this.currentUi.isConfigured()) {
                        _this.addUi(_this.currentUi);
                    }
                    // If this is an ad UI, we need to relay the saved ON_AD_STARTED event data so ad components can configure
                    // themselves for the current ad.
                    if (context.isAd) {
                        /* Relay the ON_AD_STARTED event to the ads UI
                         *
                         * Because the ads UI is initialized in the ON_AD_STARTED handler, i.e. when the ON_AD_STARTED event has
                         * already been fired, components in the ads UI that listen for the ON_AD_STARTED event never receive it.
                         * Since this can break functionality of components that rely on this event, we relay the event to the
                         * ads UI components with the following call.
                         */
                        _this.currentUi.getWrappedPlayer().fireEventInUI(_this.player.EVENT.ON_AD_STARTED, adStartedEvent);
                    }
                    _this.currentUi.getUI().show();
                }
            }
        };
        // Listen to the following events to trigger UI variant resolution
        this.managerPlayerWrapper.getPlayer().addEventHandler(this.player.EVENT.ON_AD_STARTED, resolveUiVariant);
        this.managerPlayerWrapper.getPlayer().addEventHandler(this.player.EVENT.ON_AD_FINISHED, resolveUiVariant);
        this.managerPlayerWrapper.getPlayer().addEventHandler(this.player.EVENT.ON_AD_SKIPPED, resolveUiVariant);
        this.managerPlayerWrapper.getPlayer().addEventHandler(this.player.EVENT.ON_AD_ERROR, resolveUiVariant);
        this.managerPlayerWrapper.getPlayer().addEventHandler(this.player.EVENT.ON_PLAYER_RESIZE, resolveUiVariant);
        this.managerPlayerWrapper.getPlayer().addEventHandler(this.player.EVENT.ON_FULLSCREEN_ENTER, resolveUiVariant);
        this.managerPlayerWrapper.getPlayer().addEventHandler(this.player.EVENT.ON_FULLSCREEN_EXIT, resolveUiVariant);
        // Initialize the UI
        resolveUiVariant(null);
    }
    UIManager.prototype.getConfig = function () {
        return this.config;
    };
    UIManager.prototype.addUi = function (ui) {
        var dom = ui.getUI().getDomElement();
        ui.configureControls();
        /* Append the UI DOM after configuration to avoid CSS transitions at initialization
         * Example: Components are hidden during configuration and these hides may trigger CSS transitions that are
         * undesirable at this time. */
        this.playerElement.append(dom);
        // Fire onConfigured after UI DOM elements are successfully added. When fired immediately, the DOM elements
        // might not be fully configured and e.g. do not have a size.
        // https://swizec.com/blog/how-to-properly-wait-for-dom-elements-to-show-up-in-modern-browsers/swizec/6663
        if (window.requestAnimationFrame) {
            requestAnimationFrame(function () { ui.onConfigured.dispatch(ui.getUI()); });
        }
        else {
            // IE9 fallback
            setTimeout(function () { ui.onConfigured.dispatch(ui.getUI()); }, 0);
        }
    };
    UIManager.prototype.releaseUi = function (ui) {
        ui.releaseControls();
        ui.getUI().getDomElement().remove();
        ui.clearEventHandlers();
    };
    UIManager.prototype.release = function () {
        for (var _i = 0, _a = this.uiInstanceManagers; _i < _a.length; _i++) {
            var uiInstanceManager = _a[_i];
            this.releaseUi(uiInstanceManager);
        }
        this.managerPlayerWrapper.clearEventHandlers();
    };
    return UIManager;
}());
exports.UIManager = UIManager;
(function (UIManager) {
    var Factory;
    (function (Factory) {
        function buildAudioVideoUI(player, config) {
            if (config === void 0) { config = {}; }
            var controlBar = new controlbar_1.ControlBar({
                components: [
                    new playbacktogglebutton_1.PlaybackToggleButton(),
                    new seekbar_1.SeekBar({ label: new seekbarlabel_1.SeekBarLabel() }),
                    new playbacktimelabel_1.PlaybackTimeLabel(),
                    new volumecontrolbutton_1.VolumeControlButton({ 'vertical': true }),
                    new fullscreentogglebutton_1.FullscreenToggleButton(),
                    new component_1.Component({ cssClass: 'spacer' })
                ]
            }, true);
            var ui = new uicontainer_1.UIContainer({
                components: [
                    new playbacktoggleoverlay_1.PlaybackToggleOverlay(),
                    controlBar,
                    new errormessageoverlay_1.ErrorMessageOverlay()
                ], cssClasses: ['ui-skin']
            });
            return new UIManager(player, ui, config);
        }
        Factory.buildAudioVideoUI = buildAudioVideoUI;
        function buildAudioOnlyUI(player, config) {
            if (config === void 0) { config = {}; }
            var controlBar = new controlbar_1.ControlBar({
                components: [
                    new playbacktogglebutton_1.PlaybackToggleButton(),
                    new seekbar_1.SeekBar({ label: new seekbarlabel_1.SeekBarLabel(), hideInLivePlayback: true }),
                    new playbacktimelabel_1.PlaybackTimeLabel(),
                    new volumecontrolbutton_1.VolumeControlButton({ 'vertical': true }),
                    new component_1.Component({ cssClass: 'spacer' })
                ]
            }, false);
            var ui = new uicontainer_1.UIContainer({
                components: [
                    new audioonlyoverlay_1.AudioOnlyOverlay(),
                    new playbacktoggleoverlay_1.PlaybackToggleOverlay(),
                    controlBar,
                    new errormessageoverlay_1.ErrorMessageOverlay()
                ], cssClasses: ['ui-skin']
            });
            return new UIManager(player, ui, config);
        }
        Factory.buildAudioOnlyUI = buildAudioOnlyUI;
    })(Factory = UIManager.Factory || (UIManager.Factory = {}));
})(UIManager = exports.UIManager || (exports.UIManager = {}));
exports.UIManager = UIManager;
/**
 * Encapsulates functionality to manage a UI instance. Used by the {@link UIManager} to manage multiple UI instances.
 */
var UIInstanceManager = (function () {
    function UIInstanceManager(player, ui, config) {
        if (config === void 0) { config = {}; }
        this.events = {
            onConfigured: new eventdispatcher_1.EventDispatcher(),
            onSeek: new eventdispatcher_1.EventDispatcher(),
            onSeekPreview: new eventdispatcher_1.EventDispatcher(),
            onSeeked: new eventdispatcher_1.EventDispatcher(),
            onComponentShow: new eventdispatcher_1.EventDispatcher(),
            onComponentHide: new eventdispatcher_1.EventDispatcher(),
            onControlsShow: new eventdispatcher_1.EventDispatcher(),
            onPreviewControlsHide: new eventdispatcher_1.EventDispatcher(),
            onControlsHide: new eventdispatcher_1.EventDispatcher(),
        };
        this.playerWrapper = new PlayerWrapper(player);
        this.ui = ui;
        this.config = config;
    }
    UIInstanceManager.prototype.getConfig = function () {
        return this.config;
    };
    UIInstanceManager.prototype.getUI = function () {
        return this.ui;
    };
    UIInstanceManager.prototype.getPlayer = function () {
        return this.playerWrapper.getPlayer();
    };
    Object.defineProperty(UIInstanceManager.prototype, "onConfigured", {
        /**
         * Fires when the UI is fully configured and added to the DOM.
         * @returns {EventDispatcher}
         */
        get: function () {
            return this.events.onConfigured;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(UIInstanceManager.prototype, "onSeek", {
        /**
         * Fires when a seek starts.
         * @returns {EventDispatcher}
         */
        get: function () {
            return this.events.onSeek;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(UIInstanceManager.prototype, "onSeekPreview", {
        /**
         * Fires when the seek timeline is scrubbed.
         * @returns {EventDispatcher}
         */
        get: function () {
            return this.events.onSeekPreview;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(UIInstanceManager.prototype, "onSeeked", {
        /**
         * Fires when a seek is finished.
         * @returns {EventDispatcher}
         */
        get: function () {
            return this.events.onSeeked;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(UIInstanceManager.prototype, "onComponentShow", {
        /**
         * Fires when a component is showing.
         * @returns {EventDispatcher}
         */
        get: function () {
            return this.events.onComponentShow;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(UIInstanceManager.prototype, "onComponentHide", {
        /**
         * Fires when a component is hiding.
         * @returns {EventDispatcher}
         */
        get: function () {
            return this.events.onComponentHide;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(UIInstanceManager.prototype, "onControlsShow", {
        /**
         * Fires when the UI controls are showing.
         * @returns {EventDispatcher}
         */
        get: function () {
            return this.events.onControlsShow;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(UIInstanceManager.prototype, "onPreviewControlsHide", {
        /**
         * Fires before the UI controls are hiding to check if they are allowed to hide.
         * @returns {EventDispatcher}
         */
        get: function () {
            return this.events.onPreviewControlsHide;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(UIInstanceManager.prototype, "onControlsHide", {
        /**
         * Fires when the UI controls are hiding.
         * @returns {EventDispatcher}
         */
        get: function () {
            return this.events.onControlsHide;
        },
        enumerable: true,
        configurable: true
    });
    UIInstanceManager.prototype.clearEventHandlers = function () {
        this.playerWrapper.clearEventHandlers();
        var events = this.events; // avoid TS7017
        for (var event_1 in events) {
            var dispatcher = events[event_1];
            dispatcher.unsubscribeAll();
        }
    };
    return UIInstanceManager;
}());
exports.UIInstanceManager = UIInstanceManager;
/**
 * Extends the {@link UIInstanceManager} for internal use in the {@link UIManager} and provides access to functionality
 * that components receiving a reference to the {@link UIInstanceManager} should not have access to.
 */
var InternalUIInstanceManager = (function (_super) {
    __extends(InternalUIInstanceManager, _super);
    function InternalUIInstanceManager() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    InternalUIInstanceManager.prototype.getWrappedPlayer = function () {
        // TODO find a non-hacky way to provide the WrappedPlayer to the UIManager without exporting it
        // getPlayer() actually returns the WrappedPlayer but its return type is set to Player so the WrappedPlayer does
        // not need to be exported
        return this.getPlayer();
    };
    InternalUIInstanceManager.prototype.configureControls = function () {
        this.configureControlsTree(this.getUI());
        this.configured = true;
    };
    InternalUIInstanceManager.prototype.isConfigured = function () {
        return this.configured;
    };
    InternalUIInstanceManager.prototype.configureControlsTree = function (component) {
        var _this = this;
        var configuredComponents = [];
        utils_1.UIUtils.traverseTree(component, function (component) {
            // First, check if we have already configured a component, and throw an error if we did. Multiple configuration
            // of the same component leads to unexpected UI behavior. Also, a component that is in the UI tree multiple
            // times hints at a wrong UI structure.
            // We could just skip configuration in such a case and not throw an exception, but enforcing a clean UI tree
            // seems like the better choice.
            for (var _i = 0, configuredComponents_1 = configuredComponents; _i < configuredComponents_1.length; _i++) {
                var configuredComponent = configuredComponents_1[_i];
                if (configuredComponent === component) {
                    // Write the component to the console to simplify identification of the culprit
                    // (e.g. by inspecting the config)
                    if (console) {
                        console.error('Circular reference in UI tree', component);
                    }
                    // Additionally throw an error, because this case must not happen and leads to unexpected UI behavior.
                    throw Error('Circular reference in UI tree: ' + component.constructor.name);
                }
            }
            component.initialize();
            component.configure(_this.getPlayer(), _this);
            configuredComponents.push(component);
        });
    };
    InternalUIInstanceManager.prototype.releaseControls = function () {
        // Do not call release methods if the components have never been configured; this can result in exceptions
        if (this.configured) {
            this.releaseControlsTree(this.getUI());
            this.configured = false;
        }
        this.released = true;
    };
    InternalUIInstanceManager.prototype.isReleased = function () {
        return this.released;
    };
    InternalUIInstanceManager.prototype.releaseControlsTree = function (component) {
        component.release();
        if (component instanceof container_1.Container) {
            for (var _i = 0, _a = component.getComponents(); _i < _a.length; _i++) {
                var childComponent = _a[_i];
                this.releaseControlsTree(childComponent);
            }
        }
    };
    InternalUIInstanceManager.prototype.clearEventHandlers = function () {
        _super.prototype.clearEventHandlers.call(this);
    };
    return InternalUIInstanceManager;
}(UIInstanceManager));
/**
 * Wraps the player to track event handlers and provide a simple method to remove all registered event
 * handlers from the player.
 */
var PlayerWrapper = (function () {
    function PlayerWrapper(player) {
        var _this = this;
        this.eventHandlers = {};
        this.player = player;
        // Collect all public API methods of the player
        var methods = [];
        for (var member in player) {
            if (typeof player[member] === 'function') {
                methods.push(member);
            }
        }
        // Create wrapper object and add function wrappers for all API methods that do nothing but calling the base method
        // on the player
        var wrapper = {};
        var _loop_1 = function (member) {
            wrapper[member] = function () {
                // console.log('called ' + member); // track method calls on the player
                return player[member].apply(player, arguments);
            };
        };
        for (var _i = 0, methods_1 = methods; _i < methods_1.length; _i++) {
            var member = methods_1[_i];
            _loop_1(member);
        }
        // Collect all public properties of the player and add it to the wrapper
        for (var member in player) {
            if (typeof player[member] !== 'function') {
                wrapper[member] = player[member];
            }
        }
        // Explicitly add a wrapper method for 'addEventHandler' that adds added event handlers to the event list
        wrapper.addEventHandler = function (eventType, callback) {
            player.addEventHandler(eventType, callback);
            if (!_this.eventHandlers[eventType]) {
                _this.eventHandlers[eventType] = [];
            }
            _this.eventHandlers[eventType].push(callback);
            return wrapper;
        };
        // Explicitly add a wrapper method for 'removeEventHandler' that removes removed event handlers from the event list
        wrapper.removeEventHandler = function (eventType, callback) {
            player.removeEventHandler(eventType, callback);
            if (_this.eventHandlers[eventType]) {
                utils_1.ArrayUtils.remove(_this.eventHandlers[eventType], callback);
            }
            return wrapper;
        };
        wrapper.fireEventInUI = function (event, data) {
            if (_this.eventHandlers[event]) {
                // Extend the data object with default values to convert it to a {@link PlayerEvent} object.
                var playerEventData = Object.assign({}, {
                    timestamp: Date.now(),
                    type: event,
                    // Add a marker property so the UI can detect UI-internal player events
                    uiSourced: true,
                }, data);
                // Execute the registered callbacks
                for (var _i = 0, _a = _this.eventHandlers[event]; _i < _a.length; _i++) {
                    var callback = _a[_i];
                    callback(playerEventData);
                }
            }
        };
        this.wrapper = wrapper;
    }
    /**
     * Returns a wrapped player object that can be used on place of the normal player object.
     * @returns {WrappedPlayer} a wrapped player
     */
    PlayerWrapper.prototype.getPlayer = function () {
        return this.wrapper;
    };
    /**
     * Clears all registered event handlers from the player that were added through the wrapped player.
     */
    PlayerWrapper.prototype.clearEventHandlers = function () {
        for (var eventType in this.eventHandlers) {
            for (var _i = 0, _a = this.eventHandlers[eventType]; _i < _a.length; _i++) {
                var callback = _a[_i];
                this.player.removeEventHandler(eventType, callback);
            }
        }
    };
    return PlayerWrapper;
}());


/***/ }),
/* 32 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var Guid;
(function (Guid) {
    var guid = 1;
    function next() {
        return guid++;
    }
    Guid.next = next;
})(Guid = exports.Guid || (exports.Guid = {}));


/***/ }),
/* 33 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var togglebutton_1 = __webpack_require__(8);
/**
 * A button that toggles the player between windowed and fullscreen view.
 */
var FullscreenToggleButton = (function (_super) {
    __extends(FullscreenToggleButton, _super);
    function FullscreenToggleButton(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-fullscreentogglebutton',
            text: 'Fullscreen'
        }, _this.config);
        return _this;
    }
    FullscreenToggleButton.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        var fullscreenStateHandler = function () {
            if (player.isFullscreen()) {
                _this.on();
            }
            else {
                _this.off();
            }
        };
        player.addEventHandler(player.EVENT.ON_FULLSCREEN_ENTER, fullscreenStateHandler);
        player.addEventHandler(player.EVENT.ON_FULLSCREEN_EXIT, fullscreenStateHandler);
        this.onClick.subscribe(function () {
            if (player.isFullscreen()) {
                player.exitFullscreen();
            }
            else {
                player.enterFullscreen();
            }
        });
        // Startup init
        fullscreenStateHandler();
    };
    return FullscreenToggleButton;
}(togglebutton_1.ToggleButton));
exports.FullscreenToggleButton = FullscreenToggleButton;


/***/ }),
/* 34 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var component_1 = __webpack_require__(1);
var dom_1 = __webpack_require__(2);
/**
 * Animated analog TV static noise.
 */
var TvNoiseCanvas = (function (_super) {
    __extends(TvNoiseCanvas, _super);
    function TvNoiseCanvas(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.canvasWidth = 160;
        _this.canvasHeight = 90;
        _this.interferenceHeight = 50;
        _this.lastFrameUpdate = 0;
        _this.frameInterval = 60;
        _this.useAnimationFrame = !!window.requestAnimationFrame;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-tvnoisecanvas'
        }, _this.config);
        return _this;
    }
    TvNoiseCanvas.prototype.toDomElement = function () {
        return this.canvas = new dom_1.DOM('canvas', { 'class': this.getCssClasses() });
    };
    TvNoiseCanvas.prototype.start = function () {
        this.canvasElement = this.canvas.getElements()[0];
        this.canvasContext = this.canvasElement.getContext('2d');
        this.noiseAnimationWindowPos = -this.canvasHeight;
        this.lastFrameUpdate = 0;
        this.canvasElement.width = this.canvasWidth;
        this.canvasElement.height = this.canvasHeight;
        this.renderFrame();
    };
    TvNoiseCanvas.prototype.stop = function () {
        if (this.useAnimationFrame) {
            cancelAnimationFrame(this.frameUpdateHandlerId);
        }
        else {
            clearTimeout(this.frameUpdateHandlerId);
        }
    };
    TvNoiseCanvas.prototype.renderFrame = function () {
        // This code has been copied from the player controls.js and simplified
        if (this.lastFrameUpdate + this.frameInterval > new Date().getTime()) {
            // It's too early to render the next frame
            this.scheduleNextRender();
            return;
        }
        var currentPixelOffset;
        var canvasWidth = this.canvasWidth;
        var canvasHeight = this.canvasHeight;
        // Create texture
        var noiseImage = this.canvasContext.createImageData(canvasWidth, canvasHeight);
        // Fill texture with noise
        for (var y = 0; y < canvasHeight; y++) {
            for (var x = 0; x < canvasWidth; x++) {
                currentPixelOffset = (canvasWidth * y * 4) + x * 4;
                noiseImage.data[currentPixelOffset] = Math.random() * 255;
                if (y < this.noiseAnimationWindowPos || y > this.noiseAnimationWindowPos + this.interferenceHeight) {
                    noiseImage.data[currentPixelOffset] *= 0.85;
                }
                noiseImage.data[currentPixelOffset + 1] = noiseImage.data[currentPixelOffset];
                noiseImage.data[currentPixelOffset + 2] = noiseImage.data[currentPixelOffset];
                noiseImage.data[currentPixelOffset + 3] = 50;
            }
        }
        // Put texture onto canvas
        this.canvasContext.putImageData(noiseImage, 0, 0);
        this.lastFrameUpdate = new Date().getTime();
        this.noiseAnimationWindowPos += 7;
        if (this.noiseAnimationWindowPos > canvasHeight) {
            this.noiseAnimationWindowPos = -canvasHeight;
        }
        this.scheduleNextRender();
    };
    TvNoiseCanvas.prototype.scheduleNextRender = function () {
        if (this.useAnimationFrame) {
            this.frameUpdateHandlerId = window.requestAnimationFrame(this.renderFrame.bind(this));
        }
        else {
            this.frameUpdateHandlerId = setTimeout(this.renderFrame.bind(this), this.frameInterval);
        }
    };
    return TvNoiseCanvas;
}(component_1.Component));
exports.TvNoiseCanvas = TvNoiseCanvas;


/***/ }),
/* 35 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var container_1 = __webpack_require__(0);
var component_1 = __webpack_require__(1);
/**
 * Overlays the player and displays an audio-only indicator.
 */
var AudioOnlyOverlay = (function (_super) {
    __extends(AudioOnlyOverlay, _super);
    function AudioOnlyOverlay(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.audioonly = [
            new component_1.Component({ tag: 'div', cssClass: 'ui-audioonly-overlay-indicator' })
        ];
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-audioonly-overlay',
            components: _this.audioonly,
            hidden: false
        }, _this.config);
        return _this;
    }
    AudioOnlyOverlay.prototype.configure = function (player, uimanager) {
        _super.prototype.configure.call(this, player, uimanager);
        var self = this;
        var image = self.getDomElement().css('background-image');
        // Hide overlay when Player is paused, so we can see the Big Play Button
        // player.addEventHandler(player.EVENT.ON_PAUSED, (event) => {
        //   self.getDomElement().css('background-image', 'none');
        // });
        // player.addEventHandler(player.EVENT.ON_PLAY, (event) => {
        //   self.getDomElement().css('background-image', image);
        // });
        // Hide overlay if player is  paused at init (e.g. on mobile devices)
        // if (!player.isPlaying()) {
        //   self.getDomElement().css('background-image', 'none');
        // }
    };
    return AudioOnlyOverlay;
}(container_1.Container));
exports.AudioOnlyOverlay = AudioOnlyOverlay;


/***/ }),
/* 36 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var component_1 = __webpack_require__(1);
var eventdispatcher_1 = __webpack_require__(4);
var utils_1 = __webpack_require__(3);
var ListSelector = (function (_super) {
    __extends(ListSelector, _super);
    function ListSelector(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.listSelectorEvents = {
            onItemAdded: new eventdispatcher_1.EventDispatcher(),
            onItemRemoved: new eventdispatcher_1.EventDispatcher(),
            onItemSelected: new eventdispatcher_1.EventDispatcher()
        };
        _this.config = _this.mergeConfig(config, {
            items: [],
            cssClass: 'ui-listselector'
        }, _this.config);
        _this.items = _this.config.items;
        return _this;
    }
    ListSelector.prototype.getItemIndex = function (key) {
        for (var index in this.items) {
            if (key === this.items[index].key) {
                return parseInt(index);
            }
        }
        return -1;
    };
    /**
     * Checks if the specified item is part of this selector.
     * @param key the key of the item to check
     * @returns {boolean} true if the item is part of this selector, else false
     */
    ListSelector.prototype.hasItem = function (key) {
        return this.getItemIndex(key) > -1;
    };
    /**
     * Adds an item to this selector by appending it to the end of the list of items. If an item with the specified
     * key already exists, it is replaced.
     * @param key the key of the item to add
     * @param label the (human-readable) label of the item to add
     */
    ListSelector.prototype.addItem = function (key, label) {
        this.removeItem(key); // Try to remove key first to get overwrite behavior and avoid duplicate keys
        this.items.push({ key: key, label: label });
        this.onItemAddedEvent(key);
    };
    /**
     * Removes an item from this selector.
     * @param key the key of the item to remove
     * @returns {boolean} true if removal was successful, false if the item is not part of this selector
     */
    ListSelector.prototype.removeItem = function (key) {
        var index = this.getItemIndex(key);
        if (index > -1) {
            utils_1.ArrayUtils.remove(this.items, this.items[index]);
            this.onItemRemovedEvent(key);
            return true;
        }
        return false;
    };
    /**
     * Selects an item from the items in this selector.
     * @param key the key of the item to select
     * @returns {boolean} true is the selection was successful, false if the selected item is not part of the selector
     */
    ListSelector.prototype.selectItem = function (key) {
        if (key === this.selectedItem) {
            // itemConfig is already selected, suppress any further action
            return true;
        }
        var index = this.getItemIndex(key);
        if (index > -1) {
            this.selectedItem = key;
            this.onItemSelectedEvent(key);
            return true;
        }
        return false;
    };
    /**
     * Returns the key of the selected item.
     * @returns {string} the key of the selected item or null if no item is selected
     */
    ListSelector.prototype.getSelectedItem = function () {
        return this.selectedItem;
    };
    /**
     * Removes all items from this selector.
     */
    ListSelector.prototype.clearItems = function () {
        var items = this.items; // local copy for iteration after clear
        this.items = []; // clear items
        // fire events
        for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {
            var item = items_1[_i];
            this.onItemRemovedEvent(item.key);
        }
    };
    /**
     * Returns the number of items in this selector.
     * @returns {number}
     */
    ListSelector.prototype.itemCount = function () {
        return Object.keys(this.items).length;
    };
    ListSelector.prototype.onItemAddedEvent = function (key) {
        this.listSelectorEvents.onItemAdded.dispatch(this, key);
    };
    ListSelector.prototype.onItemRemovedEvent = function (key) {
        this.listSelectorEvents.onItemRemoved.dispatch(this, key);
    };
    ListSelector.prototype.onItemSelectedEvent = function (key) {
        this.listSelectorEvents.onItemSelected.dispatch(this, key);
    };
    Object.defineProperty(ListSelector.prototype, "onItemAdded", {
        /**
         * Gets the event that is fired when an item is added to the list of items.
         * @returns {Event<ListSelector<Config>, string>}
         */
        get: function () {
            return this.listSelectorEvents.onItemAdded.getEvent();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ListSelector.prototype, "onItemRemoved", {
        /**
         * Gets the event that is fired when an item is removed from the list of items.
         * @returns {Event<ListSelector<Config>, string>}
         */
        get: function () {
            return this.listSelectorEvents.onItemRemoved.getEvent();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ListSelector.prototype, "onItemSelected", {
        /**
         * Gets the event that is fired when an item is selected from the list of items.
         * @returns {Event<ListSelector<Config>, string>}
         */
        get: function () {
            return this.listSelectorEvents.onItemSelected.getEvent();
        },
        enumerable: true,
        configurable: true
    });
    return ListSelector;
}(component_1.Component));
exports.ListSelector = ListSelector;


/***/ }),
/* 37 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var selectbox_1 = __webpack_require__(23);
/**
 * A select box providing a selection between 'auto' and the available video qualities.
 */
var VideoQualitySelectBox = (function (_super) {
    __extends(VideoQualitySelectBox, _super);
    function VideoQualitySelectBox(config) {
        if (config === void 0) { config = {}; }
        return _super.call(this, config) || this;
    }
    VideoQualitySelectBox.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        var updateVideoQualities = function () {
            var videoQualities = player.getAvailableVideoQualities();
            _this.clearItems();
            // Add entry for automatic quality switching (default setting)
            _this.addItem('auto', 'auto');
            // Add video qualities
            for (var _i = 0, videoQualities_1 = videoQualities; _i < videoQualities_1.length; _i++) {
                var videoQuality = videoQualities_1[_i];
                _this.addItem(videoQuality.id, videoQuality.label);
            }
        };
        this.onItemSelected.subscribe(function (sender, value) {
            player.setVideoQuality(value);
        });
        // Update qualities when source goes away
        player.addEventHandler(player.EVENT.ON_SOURCE_UNLOADED, updateVideoQualities);
        // Update qualities when a new source is loaded
        player.addEventHandler(player.EVENT.ON_READY, updateVideoQualities);
        // Update quality selection when quality is changed (from outside)
        player.addEventHandler(player.EVENT.ON_VIDEO_DOWNLOAD_QUALITY_CHANGE, function () {
            var data = player.getDownloadedVideoData();
            _this.selectItem(data.isAuto ? 'auto' : data.id);
        });
        // Populate qualities at startup
        updateVideoQualities();
    };
    return VideoQualitySelectBox;
}(selectbox_1.SelectBox));
exports.VideoQualitySelectBox = VideoQualitySelectBox;


/***/ }),
/* 38 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var clickoverlay_1 = __webpack_require__(24);
/**
 * A watermark overlay with a clickable logo.
 */
var Watermark = (function (_super) {
    __extends(Watermark, _super);
    function Watermark(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-watermark',
            url: 'https://www.movingimage.com'
        }, _this.config);
        return _this;
    }
    return Watermark;
}(clickoverlay_1.ClickOverlay));
exports.Watermark = Watermark;


/***/ }),
/* 39 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var container_1 = __webpack_require__(0);
var metadatalabel_1 = __webpack_require__(25);
/**
 * Displays a title bar containing a label with the title of the video.
 */
var TitleBar = (function (_super) {
    __extends(TitleBar, _super);
    function TitleBar(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-titlebar',
            hidden: true,
            components: [
                new metadatalabel_1.MetadataLabel({ content: metadatalabel_1.MetadataLabelContent.Title }),
                new metadatalabel_1.MetadataLabel({ content: metadatalabel_1.MetadataLabelContent.Description })
            ],
            keepHiddenWithoutMetadata: false,
        }, _this.config);
        return _this;
    }
    TitleBar.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        var config = this.getConfig();
        var shouldBeShown = !this.isHidden();
        var hasMetadataText = true; // Flag to track if any metadata label contains text
        var checkMetadataTextAndUpdateVisibility = function () {
            hasMetadataText = false;
            // Iterate through metadata labels and check if at least one of them contains text
            for (var _i = 0, _a = _this.getComponents(); _i < _a.length; _i++) {
                var component = _a[_i];
                if (component instanceof metadatalabel_1.MetadataLabel) {
                    if (!component.isEmpty()) {
                        hasMetadataText = true;
                        break;
                    }
                }
            }
            if (_this.isShown()) {
                // Hide a visible titlebar if it does not contain any text and the hidden flag is set
                if (config.keepHiddenWithoutMetadata && !hasMetadataText) {
                    _this.hide();
                }
            }
            else if (shouldBeShown) {
                // Show a hidden titlebar if it should actually be shown
                _this.show();
            }
        };
        // Listen to text change events to update the hasMetadataText flag when the metadata dynamically changes
        for (var _i = 0, _a = this.getComponents(); _i < _a.length; _i++) {
            var component = _a[_i];
            if (component instanceof metadatalabel_1.MetadataLabel) {
                component.onTextChanged.subscribe(checkMetadataTextAndUpdateVisibility);
            }
        }
        uimanager.onControlsShow.subscribe(function () {
            shouldBeShown = true;
            if (!(config.keepHiddenWithoutMetadata && !hasMetadataText)) {
                _this.show();
            }
        });
        uimanager.onControlsHide.subscribe(function () {
            shouldBeShown = false;
            _this.hide();
        });
        // init
        checkMetadataTextAndUpdateVisibility();
    };
    return TitleBar;
}(container_1.Container));
exports.TitleBar = TitleBar;


/***/ }),
/* 40 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var button_1 = __webpack_require__(5);
var dom_1 = __webpack_require__(2);
/**
 * A button to play/replay a video.
 */
var HugeReplayButton = (function (_super) {
    __extends(HugeReplayButton, _super);
    function HugeReplayButton(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-hugereplaybutton',
            text: 'Replay'
        }, _this.config);
        return _this;
    }
    HugeReplayButton.prototype.configure = function (player, uimanager) {
        _super.prototype.configure.call(this, player, uimanager);
        this.onClick.subscribe(function () {
            player.play('ui-overlay');
        });
    };
    HugeReplayButton.prototype.toDomElement = function () {
        var buttonElement = _super.prototype.toDomElement.call(this);
        // Add child that contains the play button image
        // Setting the image directly on the button does not work together with scaling animations, because the button
        // can cover the whole video player are and scaling would extend it beyond. By adding an inner element, confined
        // to the size if the image, it can scale inside the player without overshooting.
        buttonElement.append(new dom_1.DOM('div', {
            'class': this.prefixCss('image')
        }));
        return buttonElement;
    };
    return HugeReplayButton;
}(button_1.Button));
exports.HugeReplayButton = HugeReplayButton;


/***/ }),
/* 41 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var container_1 = __webpack_require__(0);
var component_1 = __webpack_require__(1);
var timeout_1 = __webpack_require__(7);
/**
 * Overlays the player and displays a buffering indicator.
 */
var BufferingOverlay = (function (_super) {
    __extends(BufferingOverlay, _super);
    function BufferingOverlay(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.indicators = [
            new component_1.Component({ tag: 'div', cssClass: 'ui-buffering-overlay-indicator' }),
            new component_1.Component({ tag: 'div', cssClass: 'ui-buffering-overlay-indicator' }),
            new component_1.Component({ tag: 'div', cssClass: 'ui-buffering-overlay-indicator' }),
        ];
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-buffering-overlay',
            hidden: true,
            components: _this.indicators,
            showDelayMs: 1000,
        }, _this.config);
        return _this;
    }
    BufferingOverlay.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        var config = this.getConfig();
        var overlayShowTimeout = new timeout_1.Timeout(config.showDelayMs, function () {
            _this.show();
        });
        var showOverlay = function () {
            overlayShowTimeout.start();
        };
        var hideOverlay = function () {
            overlayShowTimeout.clear();
            _this.hide();
        };
        player.addEventHandler(player.EVENT.ON_STALL_STARTED, showOverlay);
        player.addEventHandler(player.EVENT.ON_STALL_ENDED, hideOverlay);
        player.addEventHandler(player.EVENT.ON_SOURCE_UNLOADED, hideOverlay);
        // Show overlay if player is already stalled at init
        if (player.isStalled()) {
            this.show();
        }
    };
    return BufferingOverlay;
}(container_1.Container));
exports.BufferingOverlay = BufferingOverlay;


/***/ }),
/* 42 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var button_1 = __webpack_require__(5);
/**
 * A button that closes (hides) a configured component.
 */
var CloseButton = (function (_super) {
    __extends(CloseButton, _super);
    function CloseButton(config) {
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-closebutton',
            text: 'Close'
        }, _this.config);
        return _this;
    }
    CloseButton.prototype.configure = function (player, uimanager) {
        _super.prototype.configure.call(this, player, uimanager);
        var config = this.getConfig();
        this.onClick.subscribe(function () {
            config.target.hide();
        });
    };
    return CloseButton;
}(button_1.Button));
exports.CloseButton = CloseButton;


/***/ }),
/* 43 */
/***/ (function(module, exports) {

/*! Hive Stats Pack build 3.2.0 Copyright(c) 2015 HiveStreaming AB, All rights reserved.
 * Authors: mikael.hogqvist@hivestreaming.com - riccardo.reale@hivestreaming.com - roberto.roverso@hivestreaming.com */
/*! AtatusJs - v2.3.12 - 2016-07-03
 * Copyright (c) 2016 Atatus */
!function(a){function b(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function c(a){return"undefined"==typeof a}if(a){var d={},e=a.TraceKit,f=[].slice,g="?";d.noConflict=function(){return a.TraceKit=e,d},d.wrap=function(a){function b(){try{return a.apply(this,arguments)}catch(b){throw d.report(b),b}}return b},d.report=function(){function c(a){i(),m.push(a)}function e(a){for(var b=m.length-1;b>=0;--b)m[b]===a&&m.splice(b,1)}function g(a,c){var e=null;if(!c||d.collectWindowErrors){for(var g in m)if(b(m,g))try{m[g].apply(null,[a].concat(f.call(arguments,2)))}catch(h){e=h}if(e)throw e}}function h(a,b,c,e,f){var h=null;if(f)h=d.computeStackTrace(f);else if(o)d.computeStackTrace.augmentStackTraceWithInitialElement(o,b,c,a),h=o,o=null,n=null;else{var i={url:b,line:c,column:e};i.func=d.computeStackTrace.guessFunctionName(i.url,i.line),i.context=d.computeStackTrace.gatherContext(i.url,i.line),h={mode:"onerror",message:a,url:document.location.href,stack:[i],useragent:navigator.userAgent}}return g(h,"from window.onerror"),k?k.apply(this,arguments):!1}function i(){l!==!0&&(k=a.onerror,a.onerror=h,l=!0)}function j(b){var c=f.call(arguments,1);if(o){if(n===b)return;var e=o;o=null,n=null,g.apply(null,[e,null].concat(c))}var h=d.computeStackTrace(b);throw o=h,n=b,a.setTimeout(function(){n===b&&(o=null,n=null,g.apply(null,[h,null].concat(c)))},h.incomplete?2e3:0),b}var k,l,m=[],n=null,o=null;return j.subscribe=c,j.unsubscribe=e,j}(),d.computeStackTrace=function(){function e(b){if(!d.remoteFetching)return"";try{var c=function(){try{return new a.XMLHttpRequest}catch(b){return new a.ActiveXObject("Microsoft.XMLHTTP")}},e=c();return e.open("GET",b,!1),e.send(""),e.responseText}catch(f){return""}}function f(a){if("string"!=typeof a)return[];if(!b(w,a)){var c="",d="";try{d=document.domain}catch(f){}-1!==a.indexOf(d)&&(c=e(a)),w[a]=c?c.split("\n"):[]}return w[a]}function h(a,b){var d,e=/function ([^(]*)\(([^)]*)\)/,h=/['"]?([0-9A-Za-z$_]+)['"]?\s*[:=]\s*(function|eval|new Function)/,i="",j=10,k=f(a);if(!k.length)return g;for(var l=0;j>l;++l)if(i=k[b-l]+i,!c(i)){if(d=h.exec(i))return d[1];if(d=e.exec(i))return d[1]}return g}function i(a,b){var e=f(a);if(!e.length)return null;var g=[],h=Math.floor(d.linesOfContext/2),i=h+d.linesOfContext%2,j=Math.max(0,b-h-1),k=Math.min(e.length,b+i-1);b-=1;for(var l=j;k>l;++l)c(e[l])||g.push(e[l]);return g.length>0?g:null}function j(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#]/g,"\\$&")}function k(a){return j(a).replace("<","(?:<|&lt;)").replace(">","(?:>|&gt;)").replace("&","(?:&|&amp;)").replace('"','(?:"|&quot;)').replace(/\s+/g,"\\s+")}function l(a,b){for(var c,d,e=0,g=b.length;g>e;++e)if((c=f(b[e])).length&&(c=c.join("\n"),d=a.exec(c)))return{url:b[e],line:c.substring(0,d.index).split("\n").length,column:d.index-c.lastIndexOf("\n",d.index)-1};return null}function m(a,b,c){var d,e=f(b),g=new RegExp("\\b"+j(a)+"\\b");return c-=1,e&&e.length>c&&(d=g.exec(e[c]))?d.index:null}function n(b){for(var c,d,e,f,g=[a.location.href],h=document.getElementsByTagName("script"),i=""+b,m=/^function(?:\s+([\w$]+))?\s*\(([\w\s,]*)\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/,n=/^function on([\w$]+)\s*\(event\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/,o=0;o<h.length;++o){var p=h[o];p.src&&g.push(p.src)}if(e=m.exec(i)){var q=e[1]?"\\s+"+e[1]:"",r=e[2].split(",").join("\\s*,\\s*");c=j(e[3]).replace(/;$/,";?"),d=new RegExp("function"+q+"\\s*\\(\\s*"+r+"\\s*\\)\\s*{\\s*"+c+"\\s*}")}else d=new RegExp(j(i).replace(/\s+/g,"\\s+"));if(f=l(d,g))return f;if(e=n.exec(i)){var s=e[1];if(c=k(e[2]),d=new RegExp("on"+s+"=[\\'\"]\\s*"+c+"\\s*[\\'\"]","i"),f=l(d,g[0]))return f;if(d=new RegExp(c),f=l(d,g))return f}return null}function o(a){if(!a.stack)return null;for(var b,d,e=/^\s*at (.*?) ?\(?((?:file|https?|chrome-extension):.*?):(\d+)(?::(\d+))?\)?\s*$/i,f=/^\s*(.*?)(?:\((.*?)\))?@?((?:file|https?|chrome):.*?):(\d+)(?::(\d+))?\s*$/i,j=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:ms-appx|http|https):.*?):(\d+)(?::(\d+))?\)?\s*$/i,k=a.stack.split("\n"),l=[],n=/^(.*) is undefined$/.exec(a.message),o=0,p=k.length;p>o;++o){if(b=f.exec(k[o]))d={url:b[3],func:b[1]||g,args:b[2]?b[2].split(","):"",line:+b[4],column:b[5]?+b[5]:null};else if(b=e.exec(k[o]))d={url:b[2],func:b[1]||g,line:+b[3],column:b[4]?+b[4]:null};else{if(!(b=j.exec(k[o])))continue;d={url:b[2],func:b[1]||g,line:+b[3],column:b[4]?+b[4]:null}}!d.func&&d.line&&(d.func=h(d.url,d.line)),d.line&&(d.context=i(d.url,d.line)),l.push(d)}return l.length?(l[0]&&l[0].line&&!l[0].column&&n?l[0].column=m(n[1],l[0].url,l[0].line):l[0].column||c(a.columnNumber)||(l[0].column=a.columnNumber+1),{mode:"stack",name:a.name,message:a.message,url:document.location.href,stack:l,useragent:navigator.userAgent}):null}function p(a){for(var b,c=a.stacktrace,d=/ line (\d+), column (\d+) in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\) in (.*):\s*$/i,e=c.split("\n"),f=[],g=0,j=e.length;j>g;g+=2)if(b=d.exec(e[g])){var k={line:+b[1],column:+b[2],func:b[3]||b[4],args:b[5]?b[5].split(","):[],url:b[6]};if(!k.func&&k.line&&(k.func=h(k.url,k.line)),k.line)try{k.context=i(k.url,k.line)}catch(l){}k.context||(k.context=[e[g+1]]),f.push(k)}return f.length?{mode:"stacktrace",name:a.name,message:a.message,url:document.location.href,stack:f,useragent:navigator.userAgent}:null}function q(c){var d=c.message.split("\n");if(d.length<4)return null;var e,g,j,m,n=/^\s*Line (\d+) of linked script ((?:file|https?)\S+)(?:: in function (\S+))?\s*$/i,o=/^\s*Line (\d+) of inline#(\d+) script in ((?:file|https?)\S+)(?:: in function (\S+))?\s*$/i,p=/^\s*Line (\d+) of function script\s*$/i,q=[],r=document.getElementsByTagName("script"),s=[];for(g in r)b(r,g)&&!r[g].src&&s.push(r[g]);for(g=2,j=d.length;j>g;g+=2){var t=null;if(e=n.exec(d[g]))t={url:e[2],func:e[3],line:+e[1]};else if(e=o.exec(d[g])){t={url:e[3],func:e[4]};var u=+e[1],v=s[e[2]-1];if(v&&(m=f(t.url))){m=m.join("\n");var w=m.indexOf(v.innerText);w>=0&&(t.line=u+m.substring(0,w).split("\n").length)}}else if(e=p.exec(d[g])){var x=a.location.href.replace(/#.*$/,""),y=e[1],z=new RegExp(k(d[g+1]));m=l(z,[x]),t={url:x,line:m?m.line:y,func:""}}if(t){t.func||(t.func=h(t.url,t.line));var A=i(t.url,t.line),B=A?A[Math.floor(A.length/2)]:null;t.context=A&&B.replace(/^\s*/,"")===d[g+1].replace(/^\s*/,"")?A:[d[g+1]],q.push(t)}}return q.length?{mode:"multiline",name:c.name,message:d[0],url:document.location.href,stack:q,useragent:navigator.userAgent}:null}function r(a,b,c,d){var e={url:b,line:c};if(e.url&&e.line){a.incomplete=!1,e.func||(e.func=h(e.url,e.line)),e.context||(e.context=i(e.url,e.line));var f=/ '([^']+)' /.exec(d);if(f&&(e.column=m(f[1],e.url,e.line)),a.stack.length>0&&a.stack[0].url===e.url){if(a.stack[0].line===e.line)return!1;if(!a.stack[0].line&&a.stack[0].func===e.func)return a.stack[0].line=e.line,a.stack[0].context=e.context,!1}return a.stack.unshift(e),a.partial=!0,!0}return a.incomplete=!0,!1}function s(a,b){for(var c,e,f,i=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,j=[],k={},l=!1,o=s.caller;o&&!l;o=o.caller)if(o!==t&&o!==d.report){if(e={url:null,func:g,line:null,column:null},o.name?e.func=o.name:(c=i.exec(o.toString()))&&(e.func=c[1]),"undefined"==typeof e.func)try{e.func=c.input.substring(0,c.input.indexOf("{"))}catch(p){}if(f=n(o)){e.url=f.url,e.line=f.line,e.func===g&&(e.func=h(e.url,e.line));var q=/ '([^']+)' /.exec(a.message||a.description);q&&(e.column=m(q[1],f.url,f.line))}k[""+o]?l=!0:k[""+o]=!0,j.push(e)}b&&j.splice(0,b);var u={mode:"callers",name:a.name,message:a.message,url:document.location.href,stack:j,useragent:navigator.userAgent};return r(u,a.sourceURL||a.fileName,a.line||a.lineNumber,a.message||a.description),u}function t(a,b){var c=null;b=null==b?0:+b;try{if(c=p(a))return c}catch(d){if(v)throw d}try{if(c=o(a))return c}catch(d){if(v)throw d}try{if(c=q(a))return c}catch(d){if(v)throw d}try{if(c=s(a,b+1))return c}catch(d){if(v)throw d}return{mode:"failed"}}function u(a){a=(null==a?0:+a)+1;try{throw new Error}catch(b){return t(b,a+1)}}var v=!1,w={};return t.augmentStackTraceWithInitialElement=r,t.guessFunctionName=h,t.gatherContext=i,t.ofCaller=u,t.getSource=f,t}(),d.extendToAsynchronousCallbacks=function(){var b=function(b){var c=a[b];a[b]=function(){var a=f.call(arguments),b=a[0];return"function"==typeof b&&(a[0]=d.wrap(b)),c.apply?c.apply(this,a):c(a[0],a[1])}};b("setTimeout"),b("setInterval")},d.remoteFetching||(d.remoteFetching=!0),d.collectWindowErrors||(d.collectWindowErrors=!0),(!d.linesOfContext||d.linesOfContext<1)&&(d.linesOfContext=11),a.TraceKit=d}}("undefined"!=typeof window?window:global),function(a,b){"use strict";if(a){var c=a.event.add;a.event.add=function(d,e,f,g,h){if("function"!=typeof f&&"function"!=typeof f.handler)return c.call(this,d,e,f,g,h);var i;return f.handler?(i=f.handler,f.handler=b.wrap(f.handler)):(i=f,f=b.wrap(f)),f.guid=i.guid?i.guid:i.guid=a.guid++,c.call(this,d,e,f,g,h)};var d=a.fn.ready;a.fn.ready=function(a){return d.call(this,b.wrap(a))};var e=a.ajax;a.ajax=function(c,d){"object"==typeof c&&(d=c,c=void 0),d=d||{};for(var f,g=["complete","error","success"];f=g.pop();)a.isFunction(d[f])&&(d[f]=b.wrap(d[f]));try{return c?e.call(this,c,d):e.call(this,d)}catch(h){throw b.report(h),h}}}}(window.jQuery,window.TraceKit),function(a,b,c,d){function e(a){var b=a,c=a.split("//")[1];if(c){var d=c.indexOf("?"),e=c.toString().substring(0,d),f=e.split("/").slice(0,4).join("/"),g=e.substring(0,48);b=f.length<g.length?f:g,b!==e&&(b+="..")}return b}function f(a,b,c,f){if(K&&(L||b.getAllResponseHeaders())){var g="AJAX Error: "+(b.statusText||"unknown")+" "+(c.type||"unknown")+" "+(e(c.url)||"unknown");V.send(f||a.type,{status:b.status,statusText:b.statusText,type:c.type,url:c.url,ajaxErrorMessage:g,contentType:c.contentType,requestData:c.data&&c.data.slice?c.data.slice(0,10240):d,responseData:b.responseText&&b.responseText.slice?b.responseText.slice(0,10240):d,activeTarget:a.target&&a.target.activeElement?a.target.activeElement.outerHTML:d})}}function g(){return o&&""!==o?!0:(R.log("Atatus API key has not been configured, make sure you call atatus.config(yourApiKey)"),!1)}function h(){var c=b.documentElement,d=b.getElementsByTagName("body")[0],e=a.innerWidth||c.clientWidth||d.clientWidth,f=a.innerHeight||c.clientHeight||d.clientHeight;return{width:e,height:f}}function i(a){var b=(new Date).toJSON();try{var c="atatusjs="+b+"="+R.getRandomInt();"undefined"==typeof localStorage[c]&&(localStorage[c]=a)}catch(d){R.log("Atatus: LocalStorage full, cannot save exception")}}function j(){try{return"localStorage"in a&&null!==a.localStorage}catch(b){return!1}}function k(){if(j()&&localStorage.length>0)for(var a in localStorage)if("atatusjs="===a.substring(0,9)){try{var b=JSON.parse(localStorage[a]);"apikey"in b&&m(N,b)}catch(c){R.log("Atatus: Invalid JSON object in LocalStorage")}localStorage.removeItem(a)}}function l(a,c){if(c=c||{},!a.stack||!a.stack.length)return void R.log("Atatus: Canceling send due to no stacktrace.");R.isEmpty(c.customData)&&(c.customData="function"==typeof p?p():p),R.isEmpty(c.tags)&&(c.tags=E);var d=c.customData&&c.customData.ajaxErrorMessage||a.message;if(d&&0===d.indexOf("Uncaught ")&&(d=a.message.substring(9)),d=d||c.status||"Script error.",w&&w.test(d))return void R.log("Atatus: canceling send due to ignore errors");var e=[];a.stack&&a.stack.length&&R.forEach(a.stack,function(a,b){R.endsWith(b.url,"/atatus.js")||e.push({ln:b.line||0,cn:b.column||0,f:b.url||"anonymous",m:b.func||"[anonymous]"})});var f=[a.name,d,JSON.stringify(e)].join("|");if(f===x)return void R.log("Atatus: canceling send due to duplicate errors");x=f;var g=c.customData;try{JSON.stringify(g)}catch(h){var i="Cannot add custom data; may contain circular reference";g={error:i},R.log("Atatus: "+i)}var j=U.getAllEvents();S.clear();var k={"class":a.name,name:d,backTraces:e,userActions:j,net:null,customData:g||null,tags:c.tags,sourcemap:J,request:{url:b.location.href,ua:navigator.userAgent}};if("function"==typeof y&&(k.groupingKey=y(k)),"function"==typeof z){var l=z(k);l&&m(N,k)}else m(N,k)}function m(c,d){if(G&&G.length&&-1===G.indexOf(location.host))return void R.log("Atatus: canceling send due to not a allowed domain");if(g()){if(!d.ts){var e=a.screen||h();d.ts=(new Date).getTime(),d.apikey=o,d.request=d.request||{},d.request.url=d.request.url||b.location.href,d.request.ua=d.request.ua||navigator.userAgent,d.request.w=e.width,d.request.h=e.height,d.v=r||"",d._v=B||""}q&&(d.cid=q.userId||null),R.log("Sending data to Atatus Receiver:",d),n(c,JSON.stringify(d))}}function n(a,b){var c=new Image,d=M+a+"?data="+encodeURIComponent(b);c.crossOrigin="anonymous",c.onload=function(){k()},c.onerror=c.onabort=function(){I&&a===N&&i(b)},c.src=d}var o,p,q,r,s,t,u,v,w,x,y,z,A,B="2.3.12",C=TraceKit.noConflict(),D=a.atatus,E=[],F=!1,G=[],H=!1,I=!1,J=!1,K=!1,L=!1,M="https://br-rx.atatus.com",N="/track/browser/errors",O="/track/browser/perf",P="/track/browser/perf/ajax",Q="/track/browser/perf/txn";c&&(A=c(b));var R={isBoolean:function(a){return"undefined"!=typeof a&&"boolean"==typeof a},isString:function(a){return"string"==typeof a},isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)},endsWith:function(a,b){return a&&b?-1!==a.indexOf(b,a.length-b.length):!1},joinRegExp:function(a){for(var b,c=[],d=0,e=a.length;e>d;d++)b=a[d],R.isString(b)?c.push(b.replace(/([.*+?\^=!:${}()|\[\]\/\\])/g,"\\$1")):b&&b.source&&c.push(b.source);return new RegExp(c.join("|"),"i")},getTargetUrl:function(b){return a.XDomainRequest&&H&&(b=b.slice(6)),b},now:function(){return(new Date).getTime()},pad:function(a){return a=String(a),1===a.length&&(a="0"+a),a},merge:function(a,b){var c,d={};for(c in a)d[c]=a[c];for(c in b)d[c]=b[c];return d},mergeArray:function(a,b){return null!=b?a.concat(b):a},forEach:function(a,b){for(var c=0;c<a.length;c++)b.call(null,c,a[c])},isEmpty:function(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0},getRandomInt:function(){return Math.floor(9007199254740992*Math.random())},log:function(b,c){F&&a.console&&a.console.log&&(a.console.log(b),c&&a.console.log(c))},bind:function(a,b){return function(){return a.apply(b,Array.prototype.slice.call(arguments))}},canAllowInsecureSubmissions:function(){var b=a.navigator.userAgent,c=b.match(/Trident\/([\d.]+)/),d=c&&"7.0"===c[1]?11:(b=b.match(/MSIE ([\d.]+)/))?parseInt(b[1],10):!1;return d&&9>=d},uuid4:function(){return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0,c="x"===a?b:3&b|8;return c.toString(16)})},addEventListener:function(b,c,d){return"undefined"!=typeof a.attachEvent?a.attachEvent("on"+b,c):a.addEventListener?a.addEventListener(b,c,d):void 0},arrayFromObject:function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(a[c]);return b}},S={eventObject:{},all:function(a){for(var b=this.getEventObject(a),c=[],d=0;d<b.length;d++)c.push(b[d].value);return c},clear:function(){for(var a in this.eventObject)this.eventObject.hasOwnProperty(a)&&(this.eventObject[a].length=0)},add:function(a,b){var c=this.getEventObject(a),d=R.uuid4();return c.push({key:d,value:b}),this.truncateEventObject(a,10),d},get:function(a,b){for(var c=this.getEventObject(a),d=0;d<c.length;d++)if(c[d].key===b)return c[d].value;return!1},getEventObject:function(a){return this.eventObject[a]||(this.eventObject[a]=[]),this.eventObject[a]},truncateEventObject:function(a,b){var c=this.getEventObject(a);c.length>b&&(this.eventObject[a]=c.slice(c.length-b))}},T={attach:function(b,c,d,e,f){b=b||a.console||{};for(var g=f||["log","debug","info","warn","error"],h=g.pop(),i=function(a,b,d){c&&S.add("user",{ts:R.now(),c:"console",l:a,m:b}),"error"===a&&e&&V.notify(new Error(b),d)};h;)this.wrapConsoleMethod(b,h,d,i),h=g.pop()},wrapConsoleMethod:function(a,b,c,d){var e=a[b],f=a;b in a&&(a[b]=function(){var a=[].slice.call(arguments),g=""+a.join(" "),h={level:b,logger:"console"};d&&d(b,g,h),e&&c&&Function.prototype.apply.call(e,f,a)})}},U={attach:function(){var a=R.bind(this.onDocumentClicked,this),c=R.bind(this.onInputChanged,this);b.addEventListener?(b.addEventListener("click",a,!0),b.addEventListener("blur",c,!0)):b.attachEvent&&(b.attachEvent("onclick",a),b.attachEvent("onfocusout",c))},writeUserEvent:function(a,b,c,d){"password"===this.getElementType(a)&&(c=void 0),S.add("user",{ts:R.now(),a:b,e:this.getOuterHTML(a),v:this.getValueKind(c,d)})},onDocumentClicked:function(a){var b=this.getElementFromEvent(a);b&&b.tagName&&(this.isTarget(b,"a")||this.isTarget(b,"button")||this.isTarget(b,"input",["button","submit"])?this.writeUserEvent(b,"click"):this.isTarget(b,"input",["checkbox","radio"])&&this.writeUserEvent(b,"check",b.value,b.checked))},onInputChanged:function(a){var b=this.getElementFromEvent(a);b&&b.tagName&&(this.isTarget(b,"textarea")?this.writeUserEvent(b,"input",b.value):this.isTarget(b,"select")&&b.options&&b.options.length?this.onSelectInputChanged(b):this.isTarget(b,"input")&&!this.isTarget(b,"input",["button","submit","hidden","checkbox","radio"])&&this.writeUserEvent(b,"input",b.value))},onSelectInputChanged:function(a){if(a.multiple){for(var b=0;b<a.options.length;b++)if(a.options[b].selected){this.writeUserEvent(a,"select",a.options[b].value);break}}else 0<=a.selectedIndex&&a.options[a.selectedIndex]&&this.writeUserEvent(a,"select",a.options[a.selectedIndex].value)},getElementFromEvent:function(a){return a.target||b.elementFromPoint(a.clientX,a.clientY)},isTarget:function(a,b,c){if(a.tagName.toLowerCase()!==b.toLowerCase())return!1;if(!c)return!0;for(var d=this.getElementType(a),e=0;e<c.length;e++)if(c[e]===d)return!0;return!1},getElementType:function(a){return(a.getAttribute("type")||"").toLowerCase()},getOuterHTML:function(a){for(var b="<"+a.tagName.toLowerCase(),c=a.attributes,d=0,e=c.length;e>d;d++){var f=c[d].name;"value"!==f.toLowerCase()&&(b+=" "+f+'="'+c[d].value+'"')}return b+=" >"},getValueKind:function(a,b){return null==a?null:{length:a.length,checked:b,pattern:this.matchInputPattern(a)}},matchInputPattern:function(a){return""===a?"empty":/^[a-z0-9!#$%&'*+=?\^_`{|}~\-]+(?:\.[a-z0-9!#$%&'*+=?\^_`{|}~\-]+)*@(?:[a-z0-9](?:[a-z0-9\-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9\-]*[a-z0-9])?$/.test(a)?"email":/^(0?[1-9]|[12][0-9]|3[01])[\/\-](0?[1-9]|1[012])[\/\-]\d{4}$/.test(a)||/^(\d{4}[\/\-](0?[1-9]|1[012])[\/\-]0?[1-9]|[12][0-9]|3[01])$/.test(a)?"date":/^(?:(?:\+?1\s*(?:[.\-]\s*)?)?(?:\(\s*([2-9]1[02-9]|[2-9][02-8]1|[2-9][02-8][02-9])\s*\)|([2-9]1[02-9]|[2-9][02-8]1|[2-9][02-8][02-9]))\s*(?:[.\-]\s*)?)?([2-9]1[02-9]|[2-9][02-9]1|[2-9][02-9]{2})\s*(?:[.\-]\s*)?([0-9]{4})(?:\s*(?:#|x\.?|ext\.?|extension)\s*(\d+))?$/.test(a)?"phone":/^\s*$/.test(a)?"whitespace":/^\d*$/.test(a)?"numeric":"character"},getAllEvents:function(){return S.all("user")}},V={noConflict:function(){return a.atatus=D,V},isConfigured:function(){return!!o},config:function(b,c){return c=c||{},o=b,C.remoteFetching=!1,w=[],c&&(p=c.customData,E=c.tags||[],J=!(!c.enableSourcemap&&!c.sourcemap),s=!!c.disableUserActions,t=!!c.disableAjaxMonitoring,u=!!c.disableRUM,F=!!c.debugMode,c.ignoreErrors&&R.isArray(c.ignoreErrors)&&(w=c.ignoreErrors),V.setAllowedDomains(c.allowedDomains),V.setVersion(c.version),V.enableOffline(c.enableOffline||c.offline),V.onBeforeErrorSend(c.beforeErrorSend),V.setGroupingKeyCallback(c.groupingKeyCallback)),H=R.canAllowInsecureSubmissions(),w.push(/^Script error\.?$/),w.push(/^Javascript error: Script error\.? on line 0$/),w=R.joinRegExp(w),k(),v={enabled:!0,timeline:!0,display:!0,error:!0,levels:null},R.isBoolean(c.console)&&(v.enabled=c.console),R.isBoolean(c.consoleTimeline)&&(v.timeline=c.consoleTimeline),R.isBoolean(c.consoleDisplay)&&(v.display=c.consoleDisplay),R.isBoolean(c.consoleErrorNotify)&&(v.error=c.consoleErrorNotify),R.isArray(c.consoleTimelineLevels)&&(v.levels=c.consoleTimelineLevels),v.enabled&&"console"in a&&a.console.log&&T.attach(a.console,v.timeline,v.display,v.error,v.levels),s||U.attach(),t||u||V.__attachAjaxHooks(),V},install:function(){return g()?(C.report.subscribe(l),C.extendToAsynchronousCallbacks(),A&&K&&A.ajaxError(f),V):void 0},uninstall:function(){return o=null,C.report.unsubscribe(l),A&&K&&A.unbind("ajaxError",f),V},setCustomData:function(a){return p=a,V},setTags:function(a){return E=a,V},setAllowedDomains:function(a){return a&&R.isArray(a)&&(G=a),V},getAllowedDomains:function(){return G},setUser:function(a,b,c,d){return q={},a&&(q.userId=""+a),b&&(q.email=""+b),c&&(q.firstName=""+c),d&&(q.lastName=""+d),V},setVersion:function(a){return a&&(r=""+a),V},enableOffline:function(a){return R.isBoolean(a)&&(I=a),V},onBeforeErrorSend:function(a){return"function"==typeof a&&(z=a),V},setGroupingKeyCallback:function(a){return"function"==typeof a&&(y=a),V},setAPIEndpoint:function(a){return M=a,V},init:function(a,b,c){return c&&(b=b||{},b.customData=c),V.config(a,b)},withCustomData:function(a){return V.setCustomData(a)},withTags:function(a){return V.setTags(a)},attach:function(){return V.install()},detach:function(){return V.uninstall()},notify:function(a,b,c){return V.send(a,b,c)},sendPerf:function(a){return u?void R.log("RUM is disabled. Please enable it in the config options."):m(O,a)},sendAjaxPerf:function(a){return u?void R.log("RUM is disabled. Please enable it in the config options."):m(P,a)},sendTxnPerf:function(a){return m(Q,a)},send:function(a,b,c){try{l(C.computeStackTrace(a),{customData:R.merge(p,b),tags:R.mergeArray(E,c)})}catch(d){if(a!==d)throw d}return V},_helper:R};a.atatus=V}(window,document,window.jQuery),function(a,b,c){function d(a){a.pl<=0||atatus.sendPerf(a)}function e(){var b=a.performance||a.mozPerformance||a.msPerformance||a.webkitPerformance,c=b.timing,e=b.navigation;if(0===c.loadEventEnd)return!1;clearInterval(i),i=null;var f=c.navigationStart;0>=f&&(f=c.fetchStart);var g={};for(var h in j)g[j[h]]=-1,h in c&&(c[h]<=0||(g[j[h]]=c[h]-f));var k={nty:e.type,rc:e.redirectCount,nt:g.rps-g.ns,dp:g.dce-g.rps,pr:g.le-g.dce,fe:g.le-g.rps,pl:g.le-g.ns};d(k)}function f(){if(!h||!h.bDone)return!1;clearInterval(i),i=!1;var a=h.getMeasures();if(null!=a&&null!=a.backend&&null!=a.frontend&&null!=a["page load time"]&&null!=a["total load time"]){var b=a.backend,c=a.backend+a.frontend,e={nty:0,rc:0,nt:b,dp:c-b,pr:a["total load time"]-c,fe:a["total load time"]-b,pl:a["total load time"]};d(e)}}var g=(new Date).getTime(),h=h||{};h.q=h.q||[],h.version="0.3",h.targetOrigin=b.location.protocol+"//"+b.location.hostname,h.bPostMessage=!1,h.beaconUrl=h.beaconUrl||"/images/beacon.gif",h.autorun=!1,h.init=function(){if(h.bDone=!1,h.bUnloaded=!1,h.marks={},h.measures={},h.starts={},h.findStartTime(),h.addEventListener("beforeunload",h.beforeUnload,!1),h.addEventListener("pagehide",h.beforeUnload,!1),h.addEventListener("unload",h.beforeUnload,!1),h.processQ(),"complete"===b.readyState){var c=a.performance||a.mozPerformance||a.msPerformance||a.webkitPerformance;c&&"undefined"!=typeof c.timing&&"undefined"!=typeof c.timing.loadEventEnd&&(h.mark("firstbyte",c.timing.responseStart),h.mark("onload",c.timing.loadEventEnd)),h.done()}else h.addEventListener("load",h.onload,!1)},h.processQ=function(){for(var a=h.q.length,b=0;a>b;b++){var c=h.q[b],d=c[0];"mark"===d?h.mark(c[1],c[2]):"measure"===d?h.measure(c[1],c[2],c[3]):"done"===d&&h.done(c[1])}},h.mark=function(b,c){return h.dprint("RUM_EPISODES.mark: "+b+", "+c),b?(h.marks[b]=parseInt(c||(new Date).getTime()),h.bPostMessage&&a.postMessage("RUM_EPISODES:mark:"+b+":"+c,h.targetOrigin),void("firstbyte"===b?h.measure("backend","starttime","firstbyte"):"onload"===b?(h.measure("frontend","firstbyte","onload"),h.measure("page load time","starttime","onload")):"done"===b&&h.measure("total load time","starttime","done"))):void h.dprint("Error: markName is undefined in RUM_EPISODES.mark.")},h.measure=function(b,c,d){if(h.dprint("RUM_EPISODES.measure: "+b+", "+c+", "+d),!b)return void h.dprint("Error: episodeName is undefined in RUM_EPISODES.measure.");var e;if("undefined"==typeof c)e="number"==typeof h.marks[b]?h.marks[b]:(new Date).getTime();else if("number"==typeof h.marks[c])e=h.marks[c];else{if("number"!=typeof c)return void h.dprint("Error: unexpected startNameOrTime in RUM_EPISODES.measure: "+c);e=c}var f;if("undefined"==typeof d)f=(new Date).getTime();else if("number"==typeof h.marks[d])f=h.marks[d];else{if("number"!=typeof d)return void h.dprint("Error: unexpected endNameOrTime in RUM_EPISODES.measure: "+d);f=d}h.starts[b]=parseInt(e),h.measures[b]=parseInt(f-e),h.bPostMessage&&a.postMessage("RUM_EPISODES:measure:"+b+":"+e+":"+f,h.targetOrigin)},h.done=function(b){h.bDone=!0,h.mark("done"),h.bPostMessage&&a.postMessage("RUM_EPISODES:done",h.targetOrigin),"function"==typeof b&&b()},h.getMarks=function(){return h.marks},h.getMeasures=function(){return h.measures},h.getStarts=function(){return h.starts},h.findStartTime=function(){var a=h.findStartWebTiming()||h.findStartCookie();a&&h.mark("starttime",a)},h.findStartWebTiming=function(){var b,c=a.performance||a.mozPerformance||a.msPerformance||a.webkitPerformance;return c&&"undefined"!=typeof c.timing&&"undefined"!=typeof c.timing.navigationStart&&(b=c.timing.navigationStart,h.dprint("RUM_EPISODES.findStartWebTiming: startTime = "+b)),b},h.findStartCookie=function(){for(var d=b.cookie.split(" "),e=0;e<d.length;e++)if(0===d[e].indexOf("RUM_EPISODES=")){for(var f,g,i=d[e].substring("RUM_EPISODES=".length).split("&"),j=0;j<i.length;j++)if(0===i[j].indexOf("s="))f=i[j].substring(2);else if(0===i[j].indexOf("r=")){var k=i[j].substring(2);k=k.replace(/;$/,""),g=a.escape(b.referrer)===k}if(g&&f)return h.dprint("RUM_EPISODES.findStartCookie: startTime = "+f),f}return c},h.beforeUnload=function(){h.bUnloaded||(b.cookie="RUM_EPISODES=s="+Number(new Date)+"&r="+a.escape(b.location)+"; path=/",h.bUnloaded=!0)},h.onload=function(){h.mark("onload"),h.done()},h.addEventListener=function(b,c,d){return"undefined"!=typeof a.attachEvent?a.attachEvent("on"+b,c):a.addEventListener?a.addEventListener(b,c,d):void 0},h.dprint=function(){},h.init();var i=null,j={navigationStart:"ns",redirectStart:"rds",redirectEnd:"rde",unloadEventStart:"us",unloadEventEnd:"ue",fetchStart:"fs",domainLookupStart:"dls",domainLookupEnd:"dle",connectStart:"cs",secureConnectionStart:"scs",connectEnd:"ce",handshakeStart:"hs",requestStart:"rqs",responseStart:"rps",responseEnd:"rpe",domLoading:"dl",domInteractive:"di",domContentLoadedEventStart:"dcs",domContentLoadedEventEnd:"dce",domComplete:"dc",loadEventStart:"ls",loadEventEnd:"le"},k=a.performance||a.mozPerformance||a.msPerformance||a.webkitPerformance;k&&"undefined"!=typeof k.timing&&"undefined"!=typeof k.navigation?i=setInterval(e,100):(h.mark("firstbyte",g),i=setInterval(f,100))}(window,document),atatus.__attachAjaxHooks=function(){!function(a,b){var c=atatus._helper,d={queue:[],batchSize:25,processing:!1,bUnloaded:!1,push:function(a){"string"==typeof a.url&&a.url.indexOf(".html")>0||(this.queue.push(a),this.queue.length>=this.batchSize&&this._processQueue())},_processQueue:function(){if(!this.processing&&this.queue.length){this.processing=!0;try{for(var a={},b={},d=0;d<this.queue.length;d++){var e,f=this.queue[d];if(f.status<400){e=f.method+f.url;var g=f.respAvailTime-f.sendTime,h=f.respProcTime-f.respAvailTime,i=f.receivedSize,j=f.sendSize,k=a[e];if(k){k.c++;var l=k.re;l.t=l.t+g,l.lo=l.lo<g?l.lo:g,l.hi=l.hi>g?l.hi:g,l.ssq=l.ssq+g*g;var m=k.cb;m.t=m.t+h,m.lo=m.lo<h?m.lo:h,m.hi=m.hi>h?m.hi:h,m.ssq=m.ssq+h*h;var n=k.rs;n.t=n.t+i,n.lo=n.lo<i?n.lo:i,n.hi=n.hi>i?n.hi:i,n.ssq=n.ssq+i*i;var o=k.ss;o.t=o.t+j,o.lo=o.lo<j?o.lo:j,o.hi=o.hi>j?o.hi:j,o.ssq=o.ssq+j*j}else a[e]={m:f.method,url:f.url,c:1,re:{t:g,lo:g,hi:g,ssq:g*g},cb:{t:h,lo:h,hi:h,ssq:h*h},rs:{t:f.receivedSize,lo:f.receivedSize,hi:f.receivedSize,ssq:f.receivedSize*f.receivedSize},ss:{t:f.sendSize,lo:f.sendSize,hi:f.sendSize,ssq:f.sendSize*f.sendSize}}}else e=f.method+f.status+f.url,b[e]?b[e].c++:b[e]={m:f.method,url:f.url,st:f.status,c:1}}var p={xhr:c.arrayFromObject(a),xhrError:c.arrayFromObject(b)};atatus.sendAjaxPerf(p)}catch(q){c.log("Error while processing queue: ",q)}finally{this.queue=[],this.processing=!1}}},beforeUnload:function(){d.bUnloaded||(d._processQueue(),d.bUnloaded=!0)}};c.addEventListener("beforeunload",d.beforeUnload,!1);var e={support:function(a){return!a||"apply"in a},around:function(a,b,d,e){return a=a||function(){},function(){var f,g=Array.prototype.slice.call(arguments);try{b&&(f=b.apply(this,g))}catch(h){c.log(e,h)}var i;try{i=a.apply(this,f||g)}finally{try{d&&d.apply(this,g)}catch(h){c.log(e,h)}}return i}},before:function(a,b){return e.around(a,b)},after:function(a,b){return e.around(a,null,b)},timeout:function(a){setTimeout(a,0)},wrapAddEventListener:function(){return function(a,b){if(("load"===a||"error"===a)&&b&&this._atrumXhrData){var c;b.__atrumInterceptor?c=b.__atrumInterceptor:e.support(b)?(c=g.wrapXHR(b,this,"XHR.invokeEventListener"),b.__atrumInterceptor=c):c=null;var d;return c&&(d=Array.prototype.slice.call(arguments),d[1]=c),d}}},wrapRemoveEventListener:function(){return function(a,b){if(this._atrumXhrData){var c=Array.prototype.slice.call(arguments);return b.__atrumInterceptor&&(c[1]=b.__atrumInterceptor),c}}},aroundWithHandleEvent:function(a,b,c,d){var f=a;return a&&"object"==typeof a&&"toString"in a&&"[xpconnect wrapped nsIDOMEventListener]"===a.toString()&&"handleEvent"in a&&(f=function(){a.handleEvent.apply(this,Array.prototype.slice.call(arguments))}),e.around(f,b,c,d)},getFullyQualifiedUrl:function(a){var c=b.createElement("a");return c.href=a,c.href}};if(a.XMLHttpRequest&&a.XMLHttpRequest.prototype){var f=a.XMLHttpRequest.prototype;if(!("open"in f&&"send"in f))return;if(!e.support(f.open)||!e.support(f.send))return;var g={};g.captureAjaxTimings=function(a){var b=a._atrumXhrData;if(b){var c=(new Date).getTime();2===a.readyState?b.firstByteTime=b.firstByteTime||c:4===a.readyState&&(b.respAvailTime=b.respAvailTime||c,b.firstByteTime=b.firstByteTime||c)}},g.sendPayload=function(a,b){b.receivedSize=0,a.responseType&&"text"!==a.responseType||"string"==typeof a.responseText&&(b.receivedSize=a.responseText.length),b.status=a.status,d.push(b)},g.wrapXHR=function(a,b,c){return e.aroundWithHandleEvent(a,function(){g.captureAjaxTimings(this)},function(){var a=b._atrumXhrData;if(a&&4===b.readyState){var c=(new Date).getTime();a.respProcTime=a.respProcTime||c,g.sendPayload(b,a),delete b._atrumXhrData}},c)},g.ajaxDone=function(a){if(a._atrumXhrData){var b=(new Date).getTime()+3e4,c=function(){g.captureAjaxTimings(a);var d=a._atrumXhrData;if(d){var e=(new Date).getTime();4===a.readyState?(d.respProcTime=d.respProcTime||e,g.sendPayload(a,d),delete a._atrumXhrData):b>e?setTimeout(c,50):delete a._atrumXhrData}};c()}},f.open=e.around(f.open,function(){var a=1<=arguments.length?String(arguments[0]):"",b=2<=arguments.length?String(arguments[1]):"",c=atatus.getAllowedDomains(),d=!0;if(b=e.getFullyQualifiedUrl(b),b&&c&&c.length){d=!1;for(var f=0;f<c.length;f++){var g=c[f];if(g&&b.indexOf(g)>-1){d=!0;break}}}d&&(b=b&&b.split("?")[0],this._atrumXhrData={method:a,url:b,sendTime:null,sendSize:null,firstByteTime:null,respAvailTime:null,respProcTime:null,receivedSize:null,parentPhase:null})},null,"XHR.open"),f.send=e.around(f.send,function(){var a=this,b=a._atrumXhrData;if(b){var c=(new Date).getTime();b.sendTime=b.sendTime||c,b.sendSize=1<=arguments.length&&arguments[0]?arguments[0].length||0:0;var d=0,f=function(){if(4===a.readyState)g.ajaxDone(a);else{var b=null;try{b=a.onreadystatechange}catch(c){return void g.ajaxDone(a)}d++,b?e.support(b)?a.onreadystatechange=g.wrapXHR(b,a,"XHR.onReadyStateChange"):g.ajaxDone(a):5>d?e.timeout(f):g.ajaxDone(a)}};f()}},null,"XHR.send"),"addEventListener"in f&&"removeEventListener"in f&&e.support(f.addEventListener)&&e.support(f.removeEventListener)&&(f.addEventListener=e.around(f.addEventListener,e.wrapAddEventListener(),null,"XHR.addEventListener"),f.removeEventListener=e.around(f.removeEventListener,e.wrapRemoveEventListener(),null,"XHR.removeEventListener"))}}(window,document)},function(a){function b(a,b,c){if(!(0>=b)){var d={name:a,dur:b,st:c};atatus.sendTxnPerf(d)}}function c(a){return h+" "+a}function d(){try{return"localStorage"in a&&null!==a.localStorage;}catch(b){return!1}}function e(a){var b=i.now();try{localStorage.setItem(c(a),b)}catch(d){}}function f(a){var b=null,d=c(a);try{b=localStorage.getItem(d),localStorage.removeItem(d)}catch(e){}var f=0;return b&&(f=i.now()-b),f}function g(a){try{var b=c(a);localStorage.removeItem(b)}catch(d){}}var h="atatus.com/",i=atatus._helper,j=1,k=0;atatus.beginTransaction=function(a){d()&&e(a)},atatus.endTransaction=function(a){if(d()){var c=f(a);b(a,c,j)}},atatus.failTransaction=function(a){if(d()){var c=f(a);b(a,c,k)}},atatus.cancelTransaction=function(a){d()&&g(a)}}(window,document);
/*! https://github.com/ttaubert/node-arraybuffer-slice
 * (c) 2014 Tim Taubert <tim@timtaubert.de>
 * arraybuffer-slice may be freely distributed under the MIT license.*/
!function(r){"use strict";function t(r,t){return r=0|r||0,r<0?Math.max(r+t,0):Math.min(r,t)}ArrayBuffer.prototype.slice||(ArrayBuffer.prototype.slice=function(e,n){var f=this.byteLength,i=t(e,f),a=f;if(n!==r&&(a=t(n,f)),i>a)return new ArrayBuffer(0);var u=a-i,y=new ArrayBuffer(u),o=new Uint8Array(y),s=new Uint8Array(this,i,u);return o.set(s),y})}();
!function(t){function e(r){if(i[r])return i[r].t;var n=i[r]={t:{},id:r,loaded:!1};return t[r].call(n.t,n,n.t,e),n.loaded=!0,n.t}var i={};return e.i=t,e.c=i,e.o="",e(0)}([function(t,e,i){"use strict";var r=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},n=i(25),o=i(7),s=i(9),a=i(1);if("undefined"==typeof c)var c=3e4;var h=function(t){function e(e,i){var r=t.call(this,i)||this;return r.pluginName="bitmovin",r.s=!1,r.player=e,r.player.initSession=function(t){return r.h(),r.p(t).timeout(c,r.u+" Hive Plugin initialization timeout").then(function(t){return r.l(),t.g()})["catch"](function(t){return r.v(),r.h(),r.m().debug(r.u+" error occurred resolving the ticket - "+t.stack),a.reject(t)})},r.m().notice(r.u+"registered plugin [name:"+r.T()+"][id: "+r.S()+"][version: "+r.I()+"]"),r}return r(e,t),e.prototype.l=function(){var t=this;this.s||(this.player.addEventHandler("onReady",function(){if(t.m().debug("bitmovin.player.EVENT.ON_READY"),t.R()){var e=!!t.player.getConfig().playback&&t.player.getConfig().playback.auto;e&&t.k(!1),t.C()&&(t.O=new o.P)}}),this.player.addEventHandler("onPlay",function(){t.m().debug("bitmovin.player.EVENT.ON_PLAY"),t.A(s.F.B.N)}),this.player.addEventHandler("onError",function(e){t.m().debug("bitmovin.player.EVENT.ON_ERROR");var i=-1,r=null;if(null!=e)try{i=e.code,r=JSON.stringify(e,null)}catch(n){r=e}t.onError(i,r)}),this.player.addEventHandler("onPlaybackFinished",function(){t.m().debug("bitmovin.player.EVENT.ON_PLAYBACK_FINISHED"),t._(s.F.B.D,{code:1})}),this.player.addEventHandler("onSeek",function(){t.m().debug("bitmovin.player.EVENT.ON_SEEK"),t._(s.F.B.H)}),this.player.addEventHandler("onFullscreenEnter",function(){t.m().debug("bitmovin.player.EVENT.ON_FULLSCREEN_ENTER"),t._(s.F.B.L,{value:!0})}),this.player.addEventHandler("onFullscreenExit",function(){t.m().debug("bitmovin.player.EVENT.ON_FULLSCREEN_EXIT"),t._(s.F.B.L,{value:!1})}),this.player.addEventHandler("onSegmentRequestFinished",function(e){var i=e.mimeType.indexOf("video")>=0;if(e.success){var r=8*e.size/e.downloadTime;t.O.M(i,t.j,e.size),t.O.U(r)}else t.O.V(i,t.j)}),0===this.q().indexOf("7")?this.J():0===this.q().indexOf("6")&&this.K(),this.s=!0)},e.prototype.K=function(){var t=this;this.player.addEventHandler("onStartBuffering",function(){t.m().debug("bitmovin.player.EVENT.ON_START_BUFFERING"),t.k()}),this.player.addEventHandler("onStopBuffering",function(){t.m().debug("bitmovin.player.EVENT.ON_STOP_BUFFERING"),t.G()}),this.player.addEventHandler("onPause",function(){t.m().debug("bitmovin.player.EVENT.ON_PAUSE"),t.A(s.F.B.W)}),this.player.addEventHandler("onVideoDownloadQualityChange",function(e){var i=t.$();i===StreamProtocol.Y?t.X(e.targetQuality):t.X(e.targetQuality.split("br")[1])})},e.prototype.J=function(){var t=this;this.player.addEventHandler("onStallStarted",function(){t.m().debug("bitmovin.player.EVENT.ON_STALL_STARTED"),t.k()}),this.player.addEventHandler("onStallEnded",function(){t.m().debug("bitmovin.player.EVENT.ON_STALL_ENDED"),t.G()}),this.player.addEventHandler("onPaused",function(){t.m().debug("bitmovin.player.EVENT.ON_PAUSED"),t.A(s.F.B.W)}),this.player.addEventHandler("onVideoDownloadQualityChanged",function(e){t.X(e.targetQualityId.bitrate)})},e.prototype.X=function(t){this.m().debug("newBitrate",t),this.j&&t>this.j?this.O.Z():this.j&&this.j>t&&this.O.tt(),this.j=t},e.prototype.A=function(t){"undefined"!=typeof this.et&&this.et!==t&&(this._(t),this.et=t)},e.prototype.it=function(){var t=this.$();return t===StreamProtocol.Y?this.player.getConfig().source.hls:t===StreamProtocol.rt?this.player.getConfig().source.dash:void 0},e.prototype.getCurrentTime=function(){return null!=this.player?Math.round(1e3*this.player.getCurrentTime()):0},e.prototype.nt=function(){return null!=this.player&&null!=this.player.getVideoBufferLength&&this.player.getVideoBufferLength()>0?Math.max(0,Math.round(1e3*this.player.getVideoBufferLength())):0},e.prototype.ot=function(){if(this.player){var t=this.player.getFigure();return{width:t.offsetWidth,height:t.offsetHeight}}},e.prototype.isFullscreen=function(){return this.player.isFullscreen()},e.prototype.isLive=function(){return this.player.isLive()},e.prototype.st=function(){return!0},e.prototype.$=function(){if(this.player){var t=this.player.getStreamType();if("hls"===t)return StreamProtocol.Y;if("dash"===t)return StreamProtocol.rt}return null},e.prototype.at=function(){var t=this.O;return this.O=new o.P,t},e.prototype.T=function(){return this.pluginName},e.prototype.I=function(){return this.ct()},e.prototype.ht=function(){if(this.player)return this.player.getPlayerType()},e.prototype.q=function(){return"undefined"!=typeof bitmovin.player.version?bitmovin.player.version:this.player.getVersion()},e}(n.pt.Plugin);e.ut=h;var p=function(t,e){new h(t,e)};bitmovin.initHiveSDN=p},function(t,e,i){/*!
 *
 * Copyright 2009-2016 Kris Kowal under the terms of the MIT
 * license found at https://github.com/kriskowal/q/blob/v1/LICENSE
 *
 * With parts by Tyler Close
 * Copyright 2007-2009 Tyler Close under the terms of the MIT X license found
 * at http://www.opensource.org/licenses/mit-license.html
 * Forked at ref_send.js version: 2009-05-11
 *
 * With parts by Mark Miller
 * Copyright (C) 2011 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 */
  !function(e){"use strict";if("function"==typeof bootstrap)bootstrap("promise",e);else{t.t=e()}}(function(){"use strict";function t(t){return function(){return z.apply(t,arguments)}}function e(t){return t===Object(t)}function i(t){return"[object StopIteration]"===it(t)||t instanceof q}function r(t,e){if(U&&e.stack&&"object"==typeof t&&null!==t&&t.stack&&t.stack.indexOf(rt)===-1){for(var i=[],r=e;r;r=r.source)r.stack&&i.unshift(r.stack);i.unshift(t.stack);var o=i.join("\n"+rt+"\n");t.stack=n(o)}}function n(t){for(var e=t.split("\n"),i=[],r=0;r<e.length;++r){var n=e[r];a(n)||o(n)||!n||i.push(n)}return i.join("\n")}function o(t){return t.indexOf("(module.js:")!==-1||t.indexOf("(node.js:")!==-1}function s(t){var e=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(t);if(e)return[e[1],Number(e[2])];var i=/at ([^ ]+):(\d+):(?:\d+)$/.exec(t);if(i)return[i[1],Number(i[2])];var r=/.*@(.+):(\d+)$/.exec(t);return r?[r[1],Number(r[2])]:void 0}function a(t){var e=s(t);if(!e)return!1;var i=e[0],r=e[1];return i===Q&&r>=J&&r<=ct}function c(){if(U)try{throw new Error}catch(t){var e=t.stack.split("\n"),i=e[0].indexOf("@")>0?e[1]:e[2],r=s(i);if(!r)return;return Q=r[0],r[1]}}function h(t,e,i){return function(){return"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(e+" is deprecated, use "+i+" instead.",new Error("").stack),t.apply(t,arguments)}}function p(t){return t instanceof f?t:m(t)?C(t):k(t)}function u(){function t(t){e=t,p.lt&&U&&(o.source=t),$(i,function(e,i){p.dt(function(){t.ft.apply(t,i)})},void 0),i=void 0,r=void 0}var e,i=[],r=[],n=Z(u.prototype),o=Z(f.prototype);if(o.ft=function(t,n,o){var s=W(arguments);i?(i.push(s),"when"===n&&o[1]&&r.push(o[1])):p.dt(function(){e.ft.apply(e,s)})},o.valueOf=function(){if(i)return o;var t=v(e);return y(t)&&(e=t),t},o.gt=function(){return e?e.gt():{state:"pending"}},p.lt&&U)try{throw new Error}catch(s){o.stack=s.stack.substring(s.stack.indexOf("\n")+1)}return n.vt=o,n.resolve=function(i){e||t(p(i))},n.yt=function(i){e||t(k(i))},n.reject=function(i){e||t(R(i))},n.notify=function(t){e||$(r,function(e,i){p.dt(function(){i(t)})},void 0)},n}function l(t){if("function"!=typeof t)throw new TypeError("resolver must be a function.");var e=u();try{t(e.resolve,e.reject,e.notify)}catch(i){e.reject(i)}return e.vt}function d(t){return l(function(e,i){for(var r=0,n=t.length;r<n;r++)p(t[r]).then(e,i)})}function f(t,e,i){void 0===e&&(e=function(t){return R(new Error("Promise does not support operation: "+t))}),void 0===i&&(i=function(){return{state:"unknown"}});var r=Z(f.prototype);if(r.ft=function(i,n,o){var s;try{s=t[n]?t[n].apply(r,o):e.call(r,n,o)}catch(a){s=R(a)}i&&i(s)},r.gt=i,i){var n=i();"rejected"===n.state&&(r.exception=n.reason),r.valueOf=function(){var t=i();return"pending"===t.state||"rejected"===t.state?r:t.value}}return r}function g(t,e,i,r){return p(t).then(e,i,r)}function v(t){if(y(t)){var e=t.gt();if("fulfilled"===e.state)return e.value}return t}function y(t){return t instanceof f}function m(t){return e(t)&&"function"==typeof t.then}function w(t){return y(t)&&"pending"===t.gt().state}function T(t){return!y(t)||"fulfilled"===t.gt().state}function S(t){return y(t)&&"rejected"===t.gt().state}function b(){nt.length=0,ot.length=0,at||(at=!0)}function E(t,e){at&&("object"==typeof process&&"function"==typeof process.emit&&p.dt.wt(function(){Y(ot,t)!==-1&&(process.emit("unhandledRejection",e,t),st.push(t))}),ot.push(t),e&&"undefined"!=typeof e.stack?nt.push(e.stack):nt.push("(no stack) "+e))}function I(t){if(at){var e=Y(ot,t);e!==-1&&("object"==typeof process&&"function"==typeof process.emit&&p.dt.wt(function(){var i=Y(st,t);i!==-1&&(process.emit("rejectionHandled",nt[e],t),st.splice(i,1))}),ot.splice(e,1),nt.splice(e,1))}}function R(t){var e=f({when:function(e){return e&&I(this),e?e(t):this}},function(){return this},function(){return{state:"rejected",reason:t}});return E(e,t),e}function k(t){return f({when:function(){return t},get:function(e){return t[e]},set:function(e,i){t[e]=i},"delete":function(e){delete t[e]},Tt:function(e,i){return null===e||void 0===e?t.apply(void 0,i):t[e].apply(t,i)},apply:function(e,i){return t.apply(e,i)},keys:function(){return et(t)}},void 0,function(){return{state:"fulfilled",value:t}})}function C(t){var e=u();return p.dt(function(){try{t.then(e.resolve,e.reject,e.notify)}catch(i){e.reject(i)}}),e.vt}function O(t){return f({St:function(){}},function(e,i){return F(t,e,i)},function(){return p(t).gt()})}function P(t,e,i){return p(t).bt(e,i)}function A(t){return function(){function e(t,e){var s;if("undefined"==typeof StopIteration){try{s=r[t](e)}catch(a){return R(a)}return s.done?p(s.value):g(s.value,n,o)}try{s=r[t](e)}catch(a){return i(a)?p(a.value):R(a)}return g(s,n,o)}var r=t.apply(this,arguments),n=e.bind(e,"next"),o=e.bind(e,"throw");return n()}}function N(t){p.done(p.async(t)())}function x(t){throw new q(t)}function B(t){return function(){return P([this,_(arguments)],function(e,i){return t.apply(e,i)})}}function F(t,e,i){return p(t).Et(e,i)}function _(t){return g(t,function(t){var e=0,i=u();return $(t,function(r,n,o){var s;y(n)&&"fulfilled"===(s=n.gt()).state?t[o]=s.value:(++e,g(n,function(r){t[o]=r,0===--e&&i.resolve(t)},i.reject,function(t){i.notify({index:o,value:t})}))},void 0),0===e&&i.resolve(t),i.vt})}function D(t){if(0===t.length)return p.resolve();var e=p.defer(),i=0;return $(t,function(r,n,o){function s(t){e.resolve(t)}function a(t){i--,0===i&&(t.message="Q can't get fulfillment value from any promise, all promises were rejected. Last error message: "+t.message,e.reject(t))}function c(t){e.notify({index:o,value:t})}var h=t[o];i++,g(h,s,a,c)},void 0),e.vt}function H(t){return g(t,function(t){return t=X(t,p),g(_(X(t,function(t){return g(t,K,K)})),function(){return t})})}function L(t){return p(t).It()}function M(t,e){return p(t).then(void 0,void 0,e)}function j(t,e){return p(t).Rt(e)}var U=!1;try{throw new Error}catch(V){U=!!V.stack}var Q,q,J=c(),K=function(){},G=function(){function t(){for(var t,r;i.next;)i=i.next,t=i.kt,i.kt=void 0,r=i.domain,r&&(i.domain=void 0,r.enter()),e(t,r);for(;h.length;)t=h.pop(),e(t);n=!1}function e(e,i){try{e()}catch(r){if(s)throw i&&i.exit(),setTimeout(t,0),i&&i.enter(),r;setTimeout(function(){throw r},0)}i&&i.exit()}var i={kt:void 0,next:null},r=i,n=!1,o=void 0,s=!1,a=!1;try{a=navigator&&("Microsoft Internet Explorer"===navigator.appName||null!=navigator.appVersion.match(/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i))}catch(c){}var h=[];if(G=function(t){"undefined"!=typeof Framework&&Framework.Ct()?Framework.setTimeout(t,0):(r=r.next={kt:t,domain:s&&process.domain,next:null},n||(n=!0,o()))},"object"==typeof process&&"[object process]"===process.toString()&&process.dt)s=!0,o=function(){process.dt(t)};else if("function"!=typeof setImmediate||a)if("undefined"==typeof MessageChannel||a)o=function(){setTimeout(t,0)};else{var p=new MessageChannel;p.port1.onmessage=function(){o=u,p.port1.onmessage=t,t()};var u=function(){p.port2.postMessage(0)};o=function(){setTimeout(t,0),u()}}else o="undefined"!=typeof window?setImmediate.bind(window,t):function(){setImmediate(t)};return G.wt=function(t){h.push(t),n||(n=!0,o())},G}(),z=Function.call,W=t(Array.prototype.slice),$=t(Array.prototype.reduce||function(t,e){var i=0,r=this.length;if(1===arguments.length)for(;;){if(i in this){e=this[i++];break}if(++i>=r)throw new TypeError}for(;i<r;i++)i in this&&(e=t(e,this[i],i));return e}),Y=t(Array.prototype.indexOf||function(t){for(var e=0;e<this.length;e++)if(this[e]===t)return e;return-1}),X=t(Array.prototype.map||function(t,e){var i=this,r=[];return $(i,function(n,o,s){r.push(t.call(e,o,s,i))},void 0),r}),Z=Object.create||function(t){function e(){}return e.prototype=t,new e},tt=t(Object.prototype.hasOwnProperty),et=Object.keys||function(t){var e=[];for(var i in t)tt(t,i)&&e.push(i);return e},it=t(Object.prototype.toString);q="undefined"!=typeof ReturnValue?ReturnValue:function(t){this.value=t};var rt="From previous event:";p.resolve=p,p.dt=G,p.lt=!1,"object"==typeof process&&process&&process.Ot&&process.Ot.Q_DEBUG&&(p.lt=!0),p.defer=u,u.prototype.Pt=function(){var t=this;return function(e,i){e?t.reject(e):arguments.length>2?t.resolve(W(arguments,1)):t.resolve(i)}},p.Promise=l,p.vt=l,l.race=d,l.all=_,l.reject=R,l.resolve=p,p.At=function(t){return t},f.prototype.At=function(){return this},p.join=function(t,e){return p(t).join(e)},f.prototype.join=function(t){return p([this,t]).bt(function(t,e){if(t===e)return t;throw new Error("Q can't join: not the same: "+t+" "+e)})},p.race=d,f.prototype.race=function(){return this.then(p.race)},p.Nt=f,f.prototype.toString=function(){return"[object Promise]"},f.prototype.then=function(t,e,i){function n(e){try{return"function"==typeof t?t(e):e}catch(i){return R(i)}}function o(t){if("function"==typeof e){r(t,a);try{return e(t)}catch(i){return R(i)}}return R(t)}function s(t){return"function"==typeof i?i(t):t}var a=this,c=u(),h=!1;return p.dt(function(){a.ft(function(t){h||(h=!0,c.resolve(n(t)))},"when",[function(t){h||(h=!0,c.resolve(o(t)))}])}),a.ft(void 0,"when",[void 0,function(t){var e,i=!1;try{e=s(t)}catch(r){if(i=!0,!p.onerror)throw r;p.onerror(r)}i||c.notify(e)}]),c.vt},p.xt=function(t,e){return p(t).xt(e)},f.prototype.xt=function(t){return t=p(t),this.then(function(e){return t.Ft(e).Bt(e)})},p.when=g,f.prototype.Bt=function(t){return this.then(function(){return t})},p.Bt=function(t,e){return p(t).Bt(e)},f.prototype._t=function(t){return this.then(function(){throw t})},p._t=function(t,e){return p(t)._t(e)},p.Dt=v,p.Ht=y,p.Lt=m,p.Mt=w,f.prototype.Mt=function(){return"pending"===this.gt().state},p.jt=T,f.prototype.jt=function(){return"fulfilled"===this.gt().state},p.Ut=S,f.prototype.Ut=function(){return"rejected"===this.gt().state};var nt=[],ot=[],st=[],at=!0;p.Vt=b,p.Qt=function(){return nt.slice()},p.qt=function(){b(),at=!1},b(),p.reject=R,p.yt=k,p.Jt=O,p.bt=P,f.prototype.bt=function(t,e){return this.all().then(function(e){return t.apply(void 0,e)},e)},p.async=A,p.Kt=N,p["Gt"]=x,p.zt=B,p.Et=F,f.prototype.Et=function(t,e){var i=this,r=u();return p.dt(function(){i.ft(r.resolve,t,e)}),r.vt},p.get=function(t,e){return p(t).Et("get",[e])},f.prototype.get=function(t){return this.Et("get",[t])},p.set=function(t,e,i){return p(t).Et("set",[e,i])},f.prototype.set=function(t,e){return this.Et("set",[t,e])},p.Wt=p["delete"]=function(t,e){return p(t).Et("delete",[e])},f.prototype.Wt=f.prototype["delete"]=function(t){return this.Et("delete",[t])},p.$t=p.Tt=function(t,e,i){return p(t).Et("post",[e,i])},f.prototype.$t=f.prototype.Tt=function(t,e){return this.Et("post",[t,e])},p.send=p.Yt=p.Xt=function(t,e){return p(t).Et("post",[e,W(arguments,2)])},f.prototype.send=f.prototype.Yt=f.prototype.Xt=function(t){return this.Et("post",[t,W(arguments,1)])},p.Zt=function(t,e){return p(t).Et("apply",[void 0,e])},f.prototype.Zt=function(t){return this.Et("apply",[void 0,t])},p["te"]=p.Ft=function(t){return p(t).Et("apply",[void 0,W(arguments,1)])},f.prototype.Ft=function(){return this.Et("apply",[void 0,W(arguments)])},p.ee=function(t){var e=p(t),i=W(arguments,1);return function(){return e.Et("apply",[this,i.concat(W(arguments))])}},f.prototype.ee=function(){var t=this,e=W(arguments);return function(){return t.Et("apply",[this,e.concat(W(arguments))])}},p.keys=function(t){return p(t).Et("keys",[])},f.prototype.keys=function(){return this.Et("keys",[])},p.all=_,f.prototype.all=function(){return _(this)},p.ie=D,f.prototype.ie=function(){return D(this)},p.re=h(H,"allResolved","allSettled"),f.prototype.re=function(){return H(this)},p.It=L,f.prototype.It=function(){return this.then(function(t){return _(X(t,function(t){function e(){return t.gt()}return t=p(t),t.then(e,e)}))})},p.fail=p["catch"]=function(t,e){return p(t).then(void 0,e)},f.prototype.fail=f.prototype["catch"]=function(t){return this.then(void 0,t)},p.progress=M,f.prototype.progress=function(t){return this.then(void 0,void 0,t)},p.ne=p["finally"]=function(t,e){return p(t)["finally"](e)},f.prototype.ne=f.prototype["finally"]=function(t){if(!t||"function"!=typeof t.apply)throw new Error("Q can't apply finally callback");return t=p(t),this.then(function(e){return t.Ft().then(function(){return e})},function(e){return t.Ft().then(function(){throw e})})},p.done=function(t,e,i,r){return p(t).done(e,i,r)},f.prototype.done=function(t,e,i){var n=function(t){p.dt(function(){if(r(t,o),!p.onerror)throw t;p.onerror(t)})},o=t||e||i?this.then(t,e,i):this;"object"==typeof process&&process&&process.domain&&(n=process.domain.bind(n)),o.then(void 0,n)},p.timeout=function(t,e,i){return p(t).timeout(e,i)},f.prototype.timeout=function(t,e){var i=u(),r=setTimeout(function(){e&&"string"!=typeof e||(e=new Error(e||"Timed out after "+t+" ms"),e.code="ETIMEDOUT"),i.reject(e)},t);return this.then(function(t){clearTimeout(r),i.resolve(t)},function(t){clearTimeout(r),i.reject(t)},i.notify),i.vt},p.delay=function(t,e){return void 0===e&&(e=t,t=void 0),p(t).delay(e)},f.prototype.delay=function(t){return this.then(function(e){var i=u();return setTimeout(function(){i.resolve(e)},t),i.vt})},p.oe=function(t,e){return p(t).oe(e)},f.prototype.oe=function(t){var e=u(),i=W(t);return i.push(e.Pt()),this.Zt(i).fail(e.reject),e.vt},p.se=function(t){var e=W(arguments,1);return p(t).oe(e)},f.prototype.se=function(){var t=W(arguments),e=u();return t.push(e.Pt()),this.Zt(t).fail(e.reject),e.vt},p.ae=p.ce=function(t){if(void 0===t)throw new Error("Q can't wrap an undefined function");var e=W(arguments,1);return function(){var i=e.concat(W(arguments)),r=u();return i.push(r.Pt()),p(t).Zt(i).fail(r.reject),r.vt}},f.prototype.ae=f.prototype.ce=function(){var t=W(arguments);return t.unshift(this),p.ce.apply(void 0,t)},p.he=function(t,e){var i=W(arguments,2);return function(){function r(){return t.apply(e,arguments)}var n=i.concat(W(arguments)),o=u();return n.push(o.Pt()),p(r).Zt(n).fail(o.reject),o.vt}},f.prototype.he=function(){var t=W(arguments,0);return t.unshift(this),p.he.apply(void 0,t)},p.pe=p.ue=function(t,e,i){return p(t).ue(e,i)},f.prototype.pe=f.prototype.ue=function(t,e){var i=W(e||[]),r=u();return i.push(r.Pt()),this.Et("post",[t,i]).fail(r.reject),r.vt},p.le=p.de=p.fe=function(t,e){var i=W(arguments,2),r=u();return i.push(r.Pt()),p(t).Et("post",[e,i]).fail(r.reject),r.vt},f.prototype.le=f.prototype.de=f.prototype.fe=function(t){var e=W(arguments,1),i=u();return e.push(i.Pt()),this.Et("post",[t,e]).fail(i.reject),i.vt},p.Rt=j,f.prototype.Rt=function(t){return t?void this.then(function(e){p.dt(function(){t(null,e)})},function(e){p.dt(function(){t(e)})}):this},p.ge=function(){throw new Error("Q.noConflict only works when Q is used as a global")};var ct=c();return p})},function(t,e,i){"use strict";var r,n=i(15),o=i(4),s=o.ve;!function(t){function e(e){B&&console.log("Framework already initialized"),t.ye(),N=new Date,e.apply(D),B=D.resolve(k.me),_=D.resolve(k.we),L=B.Ct()}function i(){F=D.resolve(k.Te),F.init()}function r(){return F}function o(){return D}function a(){return _}function c(){return B}function h(t){return H.get(t)}function p(t,e){var i=new C(t);return i.apply(e),H.set(t,i),i}function u(e){A=t.Se(e)}function l(t){return null!=A?A.context.resolve(t):(console.warn("undefined context"),null)}function d(){return A}function f(){return B.time()}function g(t,e){return B.setTimeout(t,e)}function v(t){return B.clearTimeout(t)}function y(t,e){return B.setInterval(t,e)}function m(t){return B.clearInterval(t)}function w(){B.be()}function T(){D.Ee(),D=new n.Ie,H=new s,A=null,N=null,L=!1,x=null,B=null,F=null,_=null}function S(t){x=t}function b(){return x||(x=(new Date).getTime()),x=(9301*x+49297)%233280,x/233280}function E(){return N}function I(){return L}var R=function(){function t(){}return t}();R.Re="ws://127.0.0.1:8000/hive",t.ke=R;var k=function(){function t(){}return t}();k.me="TimerScheduler",k.Ce="identityProvider",k.Te="NetworkComponent",k.Oe="rtcManager",k.Pe="transport",k.Ae="httpManager",k.Ne="httpRequest",k.we="logger",k.xe="serverManager",k.Be="servicesClient",t.Fe=k;var C=function(){function t(t){this.id=t,this.context=new n.Ie}return t.prototype.apply=function(t){t.apply(this.context)},t}();t._e=C;var O;!function(t){t[t.De=0]="HTTP",t[t.He=1]="RTC",t[t.Le=2]="UDP"}(O=t.Me||(t.Me={}));var P;!function(e){function i(){return"["+f()+"] ["+t.je().id+"]"}e.Ue=i}(P=t.Ve||(t.Ve={}));var A,N,x,B,F,_,D=new n.Ie,H=new s,L=!1;t.Qe=e,t.qe=i,t.Je=r,t.system=o,t.m=a,t.Ke=c,t.Se=h,t.Ge=p,t.ze=u,t.resolve=l,t.je=d,t.time=f,t.setTimeout=g,t.clearTimeout=v,t.setInterval=y,t.clearInterval=m,t.be=w,t.ye=T,t.We=S,t.random=b,t.$e=E,t.Ct=I}(r=e.Framework||(e.Framework={})),"undefined"!=typeof global&&(global.Framework=r)},function(t,e){"use strict";var i=!0,r={Ye:function(t){return"boolean"!=typeof t?new Error("Argument type: "+typeof t+". Please use a boolean."):(i=t,t?"adapter.js logging disabled":"adapter.js logging enabled")},log:function(){if("object"==typeof window){if(i)return;"undefined"!=typeof console&&"function"==typeof console.log&&console.log.apply(console,arguments)}},Xe:function(t,e,i){var r=t.match(e);return r&&r.length>=i&&parseInt(r[i],10)},Ze:function(){var t={};if(t.ti=null,t.version=null,"undefined"==typeof window||!window.navigator)return t.ti="Not a browser.",t;if(navigator.mozGetUserMedia)t.ti="firefox",t.version=this.Xe(navigator.userAgent,/Firefox\/(\d+)\./,1);else if(navigator.webkitGetUserMedia)if(window.webkitRTCPeerConnection)t.ti="chrome",t.version=this.Xe(navigator.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else{if(!navigator.userAgent.match(/Version\/(\d+).(\d+)/))return t.ti="Unsupported webkit-based browser with GUM support but no WebRTC support.",t;t.ti="safari",t.version=this.Xe(navigator.userAgent,/AppleWebKit\/(\d+)\./,1)}else if(navigator.mediaDevices&&navigator.userAgent.match(/Edge\/(\d+).(\d+)$/))t.ti="edge",t.version=this.Xe(navigator.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!navigator.mediaDevices||!navigator.userAgent.match(/AppleWebKit\/(\d+)\./))return t.ti="Not a supported browser.",t;t.ti="safari",t.version=this.Xe(navigator.userAgent,/AppleWebKit\/(\d+)\./,1)}return t},ei:function(){if("object"==typeof window&&window.HTMLMediaElement&&"srcObject"in window.HTMLMediaElement.prototype){var t=URL.createObjectURL.bind(URL),e=URL.revokeObjectURL.bind(URL),i=new Map,r=0;URL.createObjectURL=function(e){if("getTracks"in e){var n="polyblob:"+ ++r;return i.set(n,e),console.log("URL.createObjectURL(stream) is deprecated! Use elem.srcObject = stream instead!"),n}return t(e)},URL.revokeObjectURL=function(t){e(t),i["delete"](t)};var n=Object.getOwnPropertyDescriptor(window.HTMLMediaElement.prototype,"src");Object.defineProperty(window.HTMLMediaElement.prototype,"src",{get:function(){return n.get.apply(this)},set:function(t){return this.ii=i.get(t)||null,n.set.apply(this,[t])}});var o=HTMLMediaElement.prototype.setAttribute;HTMLMediaElement.prototype.setAttribute=function(){return 2===arguments.length&&"src"===(""+arguments[0]).toLowerCase()&&(this.ii=i.get(arguments[1])||null),o.apply(this,arguments)}}}};t.t={log:r.log,Ye:r.Ye,ri:r.Ze(),Xe:r.Xe,ei:r.ei,Ze:r.Ze.bind(r)}},function(t,e,i){var r=i(32);t.t={ve:r.Map,ni:r.ni,oi:r.oi}},function(t,e){"use strict";var i;!function(t){t.si="statsClient",t.Be="servicesClient",t.ai="ticketResolver",t.Ce="identityProvider",t.ci="connInfoProvider",t.hi="peerInfo",t.pi="streamInfoProvider",t.ui="reporting",t.li="statsStore",t.di="trackManager",t.fi="trackClient"}(i=e.gi||(e.gi={}))},function(t,e){t.t=function(){return new Function}},function(t,e,i){"use strict";function r(t,e){function i(){return t()?void v.when(e(),i,r.reject):r.resolve(!0)}var r=v.defer();return v.dt(i),r.vt}function n(t,e,i){return void 0===i&&(i=!0),o("GET",t,e,i)}function o(t,e,i,r){void 0===r&&(r=!0);var n=v.defer();try{var o=new XMLHttpRequest;o.open(t,e,r),void 0!=i&&null!=i&&o.setRequestHeader("Content-Type",i),o.onload=function(){200==o.status?n.resolve(o.response):n.reject({status:o.status,reason:o.statusText,body:o.responseText})},o.onerror=function(t){n.reject({status:-1,reason:"Network Error"})},o.send()}catch(s){n.reject({status:-1,reason:s})}return n.vt}function s(t,e,i,r){void 0===r&&(r=!0);var n=v.defer();try{var o=new XMLHttpRequest;o.open("POST",t,r),void 0!=i&&null!=i&&o.setRequestHeader("Content-Type",i),o.onload=function(){200==o.status?n.resolve(o.response):n.reject({status:o.status,reason:o.statusText})},o.onerror=function(t){n.reject({status:-1,reason:"Network Error"})},o.send(e)}catch(s){n.reject({status:-1,reason:s})}return n.vt}function a(t,e){var i,r,n=document.querySelector("base"),o=document.querySelector("head"),s=document.createElement("a"),a=n;return n?i=n.href:a=o.appendChild(document.createElement("base")),a.href=t,s.href=e,r=s.href,n?n.href=i:o.removeChild(a),r}function c(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var i=t[0],r=1;r<t.length;r++){var n=new RegExp("\\{"+(r-1)+"\\}","gm");i=i.replace(n,t[r])}return i}function h(t,e){for(var i in t)t.hasOwnProperty(i)&&e.hasOwnProperty(i)&&(e[i]=t[i])}function p(t,e,i){var r=g(t).vi(!0);for(var n in r)try{if(r.hasOwnProperty(n)&&e.hasOwnProperty(n)&&i.hasOwnProperty(e[n])){var o=e[n],s=r[n];i[o]=u(s,i[o])}}catch(a){}}function u(t,e){var i;switch(typeof e){case"number":i=parseInt(t);break;case"boolean":i="true"===t;break;default:i=t}return i}function l(t,e,i){var r=new m;return r.ticketUrl=t,r.code=e,r.message=w(e),r.detailedMessage=i,r}var d=i(4),f=d.ve,g=i(21),v=i(1),y=i(17),m=y.pt.HiveSessionError,w=y.pt.getHiveSessionErrorMessage,T=y.pt.HiveSession,S=i(26),b=i(46),E=function(){function t(e){if(!e){if(0==Object.keys(t.mapping).length&&!t.yi)return console.error("no registered default HiveRequestFactory tech"),t.yi=!0,t.mi();e=Object.keys(t.mapping)[0]}if(!(e in t.mapping))return t.yi||(console.error("no registered HiveRequestFactory tech for  "+e),t.yi=!0),t.mi();var i=t.mapping[e];switch(i.tech){case"HiveJS":return t.mi();case"HiveJsProxy":return i.wi?new S.Ti(e):(i.wi=!0,new b.Si(e));case"HiveJava":case"StatsJS":return t.mi()}}return t.mi=function(){return"undefined"!=typeof OriginalXMLHttpRequest?new OriginalXMLHttpRequest:new XMLHttpRequest},t.clear=function(){t.mapping={}},t.bi=function(e,i){e in t.mapping||(t.mapping[e]={}),t.mapping[e].tech=i},t}();E.mapping={},E.yi=!1,e.HiveRequestFactory=E;var I=function(){function t(t,e,i,r){this.Ei=!1,this.ticketUrl=t,this.ticket=e,this.manifest=i,this.Ii=v.defer(),this.Ri=r,this.Ri&&this.Ii.resolve(this.Ri)}return t.prototype.st=function(t){return null!==this.tech&&this.tech.st(t,this)},t.prototype.ki=function(t){this.Ei!=t&&(this.Ei=t,this.tech&&this.tech.Ci(this,t))},t.prototype.Oi=function(){return this.Ei},t.prototype.close=function(t){if(null!=this.tech)return this.tech.Pi(this,t)},t.prototype.toString=function(){return this.ticket.toString()},t.prototype.g=function(){var t=new T;return t.id=this.id,t.ticketUrl=this.ticketUrl,t.manifest=this.manifest,t.tech=this.tech.Ai(),t},t.prototype.Ni=function(){return this.Ii.vt},t.prototype.xi=function(t){this.Ri=t,this.Ii.resolve(this.Ri)},t}();e.Bi=I;var R=function(){function t(){}return t}();e.Fi=R;var k=function(){function t(){this.success=0,this._i=0,this.Di=0}return t}();e.Hi=k;var C=function(){function t(){this.Li=0,this.Mi=0,this.ji=new f,this.Ui=new f}return t.prototype.M=function(t,e,i,r){void 0===r&&(r=!0);var n=t?this.ji:this.Ui;n.has(e)||n.set(e,new k);var o=n.get(e);o.Di+=i,r&&o.success++},t.prototype.V=function(t,e){var i=t?this.ji:this.Ui;i.has(e)||i.set(e,new k),i.get(e)._i++},t.prototype.U=function(t){this.bandwidth=t},t.prototype.Z=function(){this.Li++},t.prototype.tt=function(){this.Mi++},t.prototype.Vi=function(){return this.bandwidth},t.prototype.Qi=function(){return this.ji},t.prototype.qi=function(){return this.Ui},t.prototype.Ji=function(){return this.Li},t.prototype.Ki=function(){return this.Mi},t}();e.P=C;var O=function(){function t(){var e=this;if(t.Gi)throw new Error("Error: Instantiation failed: Use VisibilityChangeListener.getInstance() instead of new.");var i,r;"undefined"!=typeof document.hidden?(i="hidden",r="visibilitychange"):"undefined"!=typeof document.msHidden?(i="msHidden",r="msvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(i="webkitHidden",r="webkitvisibilitychange"),"undefined"!=typeof document.addEventListener&&"undefined"!=typeof document[i]?document.addEventListener(r,function(){var t=!document[i];e.zi.forEach(function(i){i.call(e,t)})},!1):t.m&&t.m.debug("warn - visibilityChange listener not supported"),this.zi=new Array}return t.Wi=function(e){return e&&(this.m=e),void 0===this.Gi&&(this.Gi=new t),this.Gi},t.prototype.$i=function(t){this.zi.push(t)},t}();e.Yi=O,e.Xi=r,e.Zi=n,e.tr=o,e.er=s,e.ir=a,e.rr=c,e.nr=h,e.or=p,e.sr=l;var P=function(){function t(){}return t.getItem=function(t){try{return window.sessionStorage?window.sessionStorage.getItem(t):null}catch(e){return null}},t.setItem=function(t,e){try{return!!window.sessionStorage&&(window.sessionStorage.setItem(t,e),!0)}catch(i){return!1}},t.removeItem=function(t){try{window.sessionStorage&&window.sessionStorage.removeItem(t)}catch(e){return null}},t}();e.ar=P;var A=function(){function t(t){this.cr=t}return t.prototype.hr=function(t){var e=Date.now();return this.isEqual(this.pr,t)||(this.ur=e),this.pr=t,e-this.ur>=this.cr},t.prototype.isEqual=function(t,e){if(t&&e){var i=[e.lr-t.lr,e.dr-t.dr,e.gr-t.gr];return i.reduce(function(t,e){return t&&Math.abs(e)<10},!0)}return!1},t}();e.vr=A},function(t,e,i){"use strict";var r,n=i(11),o=i(18),s=i(12);!function(t){var e;!function(t){var e=function(){function t(){this.monitorPort=o.ke.yr?s.wr.mr:s.wr.Tr,this.playerPort=o.ke.yr?s.wr.Sr:s.wr.br,this.feedbackPeriod=2e3,this.idleTimePeriod=6e4,this.useSessionCheck=o.ke.Er,this.debugLevel="notice",this.hiveTechOrder=[],this.telemetryId=null,this.silent=!1,this.loggerTimestamp=n.HiveConfig.Framework.LoggerTimestamp,this.onSourceSetCompleted=function(t){},this.onLoadingCompleted=function(t){}}return t}();t.Ir=e;var i=function(){function t(){this.initTimeout=3e4,this.onError=function(t){return!0},this.onActiveSession=function(t){}}return t}();t.Rr=i;var r=function(){function t(){this.hivePlayerPort="playerPort",this.hiveMonitorPort="monitorPort",this.hiveSilent="silent",this.hiveDebugLevel="debugLevel",this.hiveDebugTimestamp="loggerTimestamp",this.hiveSetupTimeout="setupTimeout",this.hiveJavaTimeout="initTimeout",this.hiveWarnJavaTimeout="warnSlowRespTimeout"}return t}();t.kr=r}(e=t.Ir||(t.Ir={}))}(r=e.pt||(e.pt={}));var a;!function(t){var e=function(){function t(){}return t}();e.enabledRUM=!1,e.enableKeyCombination=!0,e.enabledErrorFilter=!0,t.ErrorMonitor=e}(a=e.HiveConfig||(e.HiveConfig={})),"undefined"!=typeof window&&("undefined"==typeof window.HiveConfig&&(window.HiveConfig={}),window.HiveConfig.ErrorMonitor=a.ErrorMonitor)},function(t,e,i){"use strict";var r,n=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},o=i(28).Cr,s=i(1),a=i(2),c=i(5),h=i(13),p=i(10),u=i(23);!function(t){var e="[TRACK] ";t.Or="hive-client-track",t.Pr="trackevent",t.Ar="NULLID",t.Nr="";var i=function(){function t(){}return t}();i.xr=0,i.Br=1,i.Fr=2,i._r=100,i.Dr=200,t.Hr=i;var r;!function(t){t[t.N=0]="PLAYING",t[t.Lr=1]="BUFFERING",t[t.W=2]="PAUSED",t[t.H=3]="SKIP",t[t.D=4]="STOPPED",t[t.ERROR=5]="ERROR",t[t.Mr=6]="WINDOW_SIZE",t[t.L=7]="FULLSCREEN",t[t.jr=8]="VISIBLE",t[t.HIDDEN=9]="HIDDEN"}(r=t.B||(t.B={}));var l;!function(t){t[t.Ur=0]="JAVA_NOT_REACHABLE",t[t.Vr=1]="JAVA_NOT_READY",t[t.Qr=2]="JAVA_WRONG_VERSION",t[t.qr=3]="JAVA_SESSION_BUSY",t[t.Jr=4]="JAVA_SESSION_ERROR",t[t.Kr=5]="JAVA_TICKET_TIMEOUT"}(l=t.Gr||(t.Gr={}));var d=function(){function t(){}return t}();t.zr=d;var f=function(){function t(){}return t}();t.Wr=f;var g=function(){function t(){}return t}();t.$r=g;var v=function(){function t(){this.type=i.Fr}return t}(),y=function(){function t(){this.sessions=new Array}return t.prototype.Yr=function(t,e){var i;this.sessions.forEach(function(e){e.sessionId==t&&(i=e)}),i||(i=new m,i.sessionId=t,this.sessions.push(i)),i.events.push(e)},t}();t.Xr=y;var m=function(){function t(){this.events=new Array}return t}();t.Zr=m;var w=function(){function i(){this.m=a.Framework.resolve(a.Framework.Fe.we).log(),this.tn=a.Framework.resolve(c.gi.ci),this.en=new Array,this.in=new Array,this.rn=new Array}return i.prototype.nn=function(t){this.client=t},i.prototype.init=function(t,i){this.sn=t,this.an(i),this.m.debug(e+"INIT ID: "+t)},i.prototype.an=function(t,e){this.app=t,e&&(this.cn=e)},i.prototype.hn=function(t){this.pn=t},i.prototype.un=function(t){var e=new S(t,this);this.en.push(e),this.ln=null,this.client.dn(!0)},i.prototype.wi=function(t,i,r){if(!this.ln)for(var n=0;n<this.en.length;n++){var o=this.en[n];if(o.ticket.sessionId===t){this.m.debug(e+"Activating Track for session "+t),this.ln=o;break}}if(this.ln){if(this.ln.ticket.sessionId!=t)return void this.m.warn(e+"ignoring manifest not matching event "+this.ln.ticket.sessionId+" != "+t);if(!this.ln.fn){var s=new b(t,i,r);this.ln.gn(s),this.client.dn()}}},i.prototype.vn=function(t,e,i){null!=this.ln&&(this.ln.fn||this.ln.yn.push(new k(t,e,i)))},i.prototype.mn=function(t,e,i){this.in.push(new I(t,e,i)),this.client.dn()},i.prototype.wn=function(t,e,i){this.rn.push(new R(t,e,i)),this.client.dn()},i.prototype.Tn=function(t){var e=this;t&&t.forEach(function(t){e.rn.push(t)})},i.prototype.Sn=function(){var t=new f;this.cn?(t.partnerId=this.cn.partnerId,t.customerId=this.cn.customerId):this.ln&&(t.partnerId=this.ln.ticket.bn(),t.customerId=this.ln.ticket.En()),t.version=this.app.app+"_"+(this.cn?this.cn.version:this.app.version),this.cn&&(t.installVersion=this.cn.installVersion,t.installTs=this.cn.installTs);var e=new o;return e.In(navigator.userAgent),t.os=e.Rn().name+" "+e.Rn().version,this.pn&&(t.commVersion=this.pn.commVersion,t.pluginName=this.pn.pluginName,t.pluginVersion=this.pn.pluginVersion,t.playerTech=this.pn.playerTech,t.playerVersion=this.pn.playerVersion,this.pn.telemetryId&&(t.telemetryId=this.pn.telemetryId)),t},i.prototype.kn=function(){return this.ln?this.ln:this.en&&this.en.length>0?this.en[this.en.length-1]:void 0},i.prototype.Cn=function(){var e=this,i=s.defer();0==this.en.length&&0==this.in.length&&i.reject("nothing to send");var r=new d;r.app=t.Or,r.createdAt=a.Framework.time(),r.guid=this.sn,r.name=t.Pr;var n=this.kn();if(n){var o=n.ticket.On().replace(/[\[\]]/g,"");r.tags=[o],r.tags.push(n.ticket.bn()),r.tags.push(n.ticket.En())}else r.tags=new Array;var c=new y;return c.peer=this.Sn(),this.en.forEach(function(t){t.fn||c.Yr(t.ticket.sessionId,t)}),this.in.forEach(function(t){c.Yr(t.sessionId,t)}),this.rn.forEach(function(t){c.Yr(t.sessionId,t)}),r.data=c,this.tn.Pn().then(function(t){var i=e.An(t);c.Yr("null",i)}).fail(function(t){})["finally"](function(){return i.resolve(r)}).done(),i.vt},i.prototype.An=function(t){var e=new v;e.ts=a.Framework.time();var i=t.Nn();return i.xn()&&(e.pubIp=i.xn()),i.Bn()&&(e.privIp=i.Bn()),t.Fn()&&(e.hostname=t.Fn()),i._n()&&(e.netmask=i._n()),i.Dn()&&(e.nic=i.Dn()),i.Hn()&&(e.nicName=i.Hn()),i.Ln()&&(e.mac=i.Ln()),e},i.prototype.Mn=function(){return this.cn?this.cn.userAgent:navigator.userAgent},i.prototype.reset=function(){this.en=new Array,this.in=new Array,this.rn=new Array},i.prototype.jn=function(t){},i}();t.Un=w;var T=function(){function t(t){this.Vn=isNaN(u.HiveConfig.DebugLogs.TrackSnapshotLogs)?0:u.HiveConfig.DebugLogs.TrackSnapshotLogs,this.Qn=t,this.m=a.Framework.resolve(a.Framework.Fe.we).log(),this.client=a.Framework.resolve(c.gi.Be),this.Qn.nn(this)}return t.prototype.dn=function(t){void 0===t&&(t=!1);var e=t?h.Kn.Jn.qn:h.Kn.Jn.Gn;if(this.zn){var i=this.Wn-(new Date).getTime();i>e&&(a.Framework.clearTimeout(this.zn),this.Wn=null,this.$n(e))}else this.$n(e)},t.prototype.$n=function(t){var e=this;this.zn=a.Framework.setTimeout(function(){e.Yn()},t),this.Wn=(new Date).getTime()+t},t.prototype.Yn=function(){var t=this;this.zn=null,this.Wn=null,this.m.debug(e+"TAKING A TRACK SNAPSHOT"),
  this.Qn.Cn().then(function(e){return t.forward(e)})["finally"](function(){return t.Qn.reset()})},t.prototype.forward=function(t){if(this.client&&this.client.Xn()){var i=JSON.stringify(t);switch(this.Vn){case 0:default:this.m.debug(e+"TRACK EVENT");break;case 1:this.m.debug(e+"TRACK EVENT:"+i)}var r=new p.Zn(Services.to,2,i);this.client.Xn().send(r)}},t}();t.eo=T;var S=function(){function t(t,e){this.createdAt=(new Date).getTime(),this.fn=!1,this.ticket=t,this.manifests=new Array,this.yn=new Array,this.Qn=e}return t.prototype.gn=function(t){this.manifests.push(t)},t.prototype.toJSON=function(){var t={};t.type=i.xr,t.ticket={},t.ticket.url=this.ticket.ticketUrl,t.ticket.reqTs=this.ticket.io,t.ticket.respTs=this.ticket.ro,t.ticket.userAgent=this.Qn.Mn(),t.manifests=[],this.manifests.forEach(function(e){var i={};i.url=e.url,i.respTs=e.ro,i.respCode=e.respCode,t.manifests.push(i)});var e=-1,r=-1,n=-1;return this.yn.forEach(function(t){t.no>0&&(e==-1&&(e=t.ts,r=t.no),n=t.no)}),e!=-1&&(t.playTs=e),n!=-1&&(t.buffTime=n),r!=-1&&(t.initBuffTime=r),t},t}();t.oo=S;var b=function(){function t(t,e,i){this.eventId=t,this.url=e,this.ro=(new Date).getTime(),this.respCode=i}return t}();t.so=b;var E=function(){function t(t,e,i,r){this.ts=(new Date).getTime(),this.sessionId=t,this.sessionId||(this.sessionId="null"),this.event=e,this.ao=i,r&&(this.ts=r)}return t.prototype.toJSON=function(){var t={};return t.type=this.co+this.event,t.ts=this.ts,this.ao&&(t.parameters=this.ao),t},t}();t.ho=E;var I=function(t){function e(e,r,n,o){var s=t.call(this,e,r,n,o)||this;return s.co=i._r,s}return n(e,t),e}(E);t.po=I;var R=function(t){function e(e,r,n,o){var s=t.call(this,e,r,n,o)||this;return s.co=i.Dr,s}return n(e,t),e}(E);t.uo=R;var k=function(){function t(t,e,i){this.ts=(new Date).getTime(),this.lr=t,this.lo=e,this.no=i}return t}();t.do=k}(r=e.F||(e.F={}))},function(t,e){"use strict";function i(){if(this.fo)return this.fo;var t=window&&window.window?window.window.vo:void 0;if("undefined"!=typeof t&&t.log&&t.debug&&t.info&&t.warn&&t.error&&(this.fo=t),!this.fo){var e=!("undefined"==typeof window.console),i=e?console.log.bind(console):function(){};this.fo={log:i,debug:e&&window.console.debug?window.console.debug.bind(console):i,info:e&&window.console.info?window.console.info.bind(console):i,warn:e&&window.console.warn?window.console.warn.bind(console):i,error:e&&window.console.error?window.console.error.bind(console):i}}return this.fo}e.u="[HiveServices] ";var r=function(){function t(){}return t}();r.yo=250,e.ke=r;var n=function(){function t(t,e,i){this.msgId=e,this.service=t,this.msg=i}return t.prototype.mo=function(){var t=new Uint8Array([this.service>>8,255&this.service]),e=new Uint8Array([this.msgId]),i=[t,e,this.msg];return new Blob(i,{type:"application/octet-binary"})},t.wo=function(e){var i=(String.fromCharCode.apply(null,new Uint8Array(e)),String.fromCharCode.apply(null,new Uint8Array(e.slice(3)))),r=new Uint8Array(e.slice(0,2)),n=new Uint8Array(e.slice(2,3)),o=(r[0]<<8)+r[1];return new t(o,n[0],i)},t}();e.Zn=n,e.m=i},function(t,e){"use strict";var i;!function(t){var e=function(){function t(){}return t}();e.LoggerTimestamp=!0,t.Framework=e;var i=function(){function t(){}return t}();i.MetricSnapshotLogs=0,i.TrackSnapshotLogs=0,t.DebugLogs=i}(i=e.HiveConfig||(e.HiveConfig={})),"undefined"!=typeof window&&("undefined"==typeof window.HiveConfig&&(window.HiveConfig={}),window.HiveConfig.Framework=i.Framework,window.HiveConfig.DebugLogs=i.DebugLogs)},function(t,e){"use strict";var i=function(){function t(){}return t}();i.To="127.0.0.1",i.br=8999,i.Sr=8998,i.Tr=8899,i.mr=8898,i.So="//{0}:{1}/?callback={2}{3}hivePluginId={4}",i.bo="//{0}:{1}/?callback={2}",i.Er=!0,i.Eo=/((http|https):\/\/(.*):([0-9]*)\/([0-9a-z-]*).ism\/)(.*)/,i.Io="2013.1.1",e.wr=i},function(t,e,i){"use strict";var r;!function(t){t.Ro=!0;var e=function(){function t(){}return t}();e.ko="wss://bee.hivestreaming.com:443/v1/hivejs",e.Co="wss://bee-test.hivestreaming.com:443/v1/hivejs",e.Oo={iceServers:[{url:"stun:stun.hivestreaming.com:3678"}]},e.Po=3e4,e.Gn=3e5,e.qn=8e4,e.Ao=3e4,e.No=100,e.xo=1e4,t.Jn=e}(r=e.Kn||(e.Kn={}))},function(t,e,i){"use strict";var r,n=i(4),o=n.ve,s=i(1),a=i(2),c=i(9),h=i(5),p=i(27);!function(t){t[t.IDLE=0]="IDLE",t[t.Bo=1]="PLAY"}(r=e.Fo||(e.Fo={}));var u=function(){function t(t,e,i,r){this.ticket=t,this._o=e,this.app=i,this.identity=r,this.Do=a.Framework.resolve(h.gi.li),this.Ho=a.Framework.resolve(h.gi.si),this.Qn=a.Framework.resolve(h.gi.di),this.Lo=new c.F.eo(this.Qn)}return t.prototype.an=function(t,e,i){this.app=new l(t,e),this.Do.an(this.app),this.Qn.an(this.app,i)},t.prototype.Ci=function(t){this.Ho.Ci(t)},t}();e.Mo=u;var l=function(){function t(t,e){this.app=t,this.version=e}return t}();e.jo=l;var d=function(){function t(){this.Uo=null,this.Vo=null,this.Qo=new o,this.m=a.Framework.resolve(a.Framework.Fe.we).log(),this.m.debug("INIT REPORTING"),this._o=a.Framework.resolve(h.gi.Be),this.qo=a.Framework.resolve(h.gi.Ce),this.Jo=a.Framework.resolve(h.gi.ai)}return t.prototype.initSession=function(t,e){var i=this,r=s.defer(),n=this.qo.Ko(),o=this.Jo.Go(t);return null!=o?n.then(function(t){return i.zo(t,o,r,e)}).fail(r.reject):r.reject("Ticket URL not valid"),r.vt},t.prototype.close=function(){this._o.close()},t.prototype.zo=function(t,e,i,r){var n=this;this.Uo=t.Wo(),this.Vo=t.$o();var o=this._o.init(this.Uo,e),s=this.Jo.resolve(o.Yo,e,r);o.vt.then(function(e){s.then(function(e){var r=e.sessionId;if(n.Qo.has(r)){var o=n.Qo.get(r);n.m.warn("SESSION ALREADY EXISTING "+o.Do.ticket)}else{var s=new l(p.Hive.Xo(),p.Hive.getVersion()),a=new u(e,n._o,s,t);a.Do.init(n.Vo,e,s,r),a.Qn.init(n.Vo,s),a.Qn.un(e),n.Qo.set(r,a),n.m.debug("SESSION SET ",r),i.resolve(a)}}).fail(function(t){return i.reject(t?t:"Error resolving the ticket")}),e.onerror(function(t){i.reject("Error establishing connection to Hive Services")})}).fail(function(t){return i.reject(t)}),this._o.connect()},t.prototype.Zo=function(t,e){return t.es()===e.es()&&t.En()===e.En()&&t.bn()===e.bn()},t}();e.rs=d},function(t,e,i){var r,r;!function(e){t.t=e()}(function(){return function t(e,i,n){function o(a,c){if(!i[a]){if(!e[a]){var h="function"==typeof r&&r;if(!c&&h)return r(a,!0);if(s)return s(a,!0);var p=new Error("Cannot find module '"+a+"'");throw p.code="MODULE_NOT_FOUND",p}var u=i[a]={t:{}};e[a][0].call(u.t,function(t){var i=e[a][1][t];return o(i?i:t)},u,u.t,t,e,i,n)}return i[a].t}for(var s="function"==typeof r&&r,a=0;a<n.length;a++)o(n[a]);return o}({1:[function(t,e,i){var r=t("./kernel");i.Ie=r.Ie;var n=t("./type_binding");i.ns=n.ns;var o=t("./type_binding_scope");i.ss=o.ss},{"./kernel":2,"./type_binding":4,"./type_binding_scope":5}],2:[function(t,e,i){var r=t("./type_binding_scope"),n=t("./lookup"),o=function(){function t(){this.as=new n.cs}return t.prototype.bind=function(t){this.as.add(t.hs,t)},t.prototype.ps=function(t){try{this.as.remove(t)}catch(e){throw new Error("Could not resolve service "+t)}},t.prototype.Ee=function(){this.as=new n.cs},t.prototype.resolve=function(t){var e;if(!this.as.us(t))return null;e=this.as.get(t);var i=e[0];if(i.scope===r.ss.ls&&null!==i.ds)return i.ds;var n=this.fs(i.gs);return i.ds=n,n},t.prototype.vs=function(t){var e,i,r,n,o,s;return o=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,s=/([^\s,]+)/g,e=t.toString().replace(o,""),i=e.indexOf("(")+1,r=e.indexOf(")"),n="function"==typeof Map&&-1!==e.indexOf("class")&&-1===e.indexOf("constructor")?null:e.slice(i,r).match(s),null===n&&(n=[]),n},t.prototype.fs=function(t){var e=this.vs(t);if(0===e.length)return new t;for(var i=[],r=null,n=0;n<e.length;n++){var o=e[n];r=this.resolve(o),i.push(r)}return this.ys(t,i)},t.prototype.ys=function(t,e){return new(Function.prototype.bind.apply(t,[null].concat(e)))},t}();i.Ie=o},{"./lookup":3,"./type_binding_scope":5}],3:[function(t,e,i){var r=function(){function t(t,e){this.key=t,this.value=new Array,this.value.push(e)}return t}(),n=function(){function t(){this.ms=new Array}return t.prototype.ws=function(t){for(var e=-1,i=0;i<this.ms.length;i++){var r=this.ms[i];r.key===t&&(e=i)}return e},t.prototype.add=function(t,e){if(null===t||void 0===t)throw new Error("Argument Null");if(null===e||void 0===e)throw new Error("Argument Null");var i=this.ws(t);if(-1!==i){var n=this.ms[i];n.key===t&&n.value.push(e)}else this.ms.push(new r(t,e))},t.prototype.get=function(t){if(null===t||void 0===t)throw new Error("Argument Null");var e=this.ws(t);if(-1===e)throw new Error("Key Not Found");var i=this.ms[e];return i.key===t?i.value:void 0},t.prototype.remove=function(t){if(null===t||void 0===t)throw new Error("Argument Null");var e=this.ws(t);if(-1===e)throw new Error("Key Not Found");this.ms.splice(e,1)},t.prototype.us=function(t){if(null===t||void 0===t)throw new Error("Argument Null");var e=this.ws(t);return-1!==e},t}();i.cs=n},{}],4:[function(t,e,i){var r=t("./type_binding_scope"),n=function(){function t(t,e,i){if(this.hs=t,this.gs=e,this.ds=null,"undefined"==typeof i)this.scope=r.ss.Ts;else{if(!r.ss[i]){var n="Invalid scope type "+i;throw new Error(n)}this.scope=i}}return t}();i.ns=n},{"./type_binding_scope":5}],5:[function(t,e,i){var r;!function(t){t[t.Ts=0]="Transient",t[t.ls=1]="Singleton"}(r||(r={})),i.ss=r},{}]},{},[1])(1)})},function(module,exports,__webpack_require__){var Thrift={Ss:"0.9.2",bs:{Es:0,Is:1,BOOL:2,BYTE:3,Rs:3,ks:4,Cs:6,Os:8,Ps:10,As:11,Ns:11,xs:12,Bs:13,Fs:14,_s:15,Ds:16,Hs:17},Ls:{Ms:1,js:2,Us:3,Vs:4},Qs:function(t){var e=0;for(var i in t)t.hasOwnProperty(i)&&e++;return e},qs:function(t,e,i){function r(){}r.prototype=e.prototype,t.prototype=new r,t.prototype.name=i||""}};Thrift.Js=function(t){this.message=t},Thrift.qs(Thrift.Js,Error,"TException"),Thrift.Js.prototype.Ks=function(){return this.message},Thrift.Gs={zs:0,Ws:1,$s:2,Ys:3,Xs:4,Zs:5,ta:6,ea:7,ia:8,ra:9,na:10},Thrift.oa=function(t,e){this.message=t,this.code="number"==typeof e?e:0},Thrift.qs(Thrift.oa,Thrift.Js,"TApplicationException"),Thrift.oa.prototype.read=function(t){for(;;){var e=t.sa();if(e.aa==Thrift.bs.Es)break;var i=e.ca;switch(i){case 1:e.aa==Thrift.bs.As?(e=t.ha(),this.message=e.value):e=t.pa(e.aa);break;case 2:e.aa==Thrift.bs.Os?(e=t.ua(),this.code=e.value):e=t.pa(e.aa);break;default:e=t.pa(e.aa)}t.la()}t.da()},Thrift.oa.prototype.write=function(t){t.fa("TApplicationException"),this.message&&(t.ga("message",Thrift.bs.As,1),t.va(this.Ks()),t.ya()),this.code&&(t.ga("type",Thrift.bs.Os,2),t.ma(this.code),t.ya()),t.wa(),t.Ta()},Thrift.oa.prototype.Sa=function(){return this.code},Thrift.ba=Thrift.Ea=function(t,e){this.url=t,this.Ia=0,this.Ra=0,this.ka=e&&e.ka,this.Ca="",this.Oa=""},Thrift.Ea.prototype={Pa:function(){try{return new XMLHttpRequest}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(i){}throw"Your browser doesn't support XHR."},flush:function(t,e){var i=this;if(t&&!e||void 0===this.url||""===this.url)return this.Ca;var r=this.Pa();if(r.overrideMimeType&&r.overrideMimeType("application/json"),e&&(r.onreadystatechange=function(){var t=e;return function(){4==this.readyState&&200==this.status&&(i.Aa(this.responseText),t())}}()),r.open("POST",this.url,!!t),r.send(this.Ca),!t||!e){if(4!=r.readyState)throw"encountered an unknown ajax ready state: "+r.readyState;if(200!=r.status)throw"encountered a unknown request status: "+r.status;this.Oa=r.responseText,this.Na=this.Oa.length,this.Ia=this.Oa.length,this.Ra=0}},xa:function(t,e,i,r){if("undefined"==typeof jQuery||"undefined"==typeof jQuery.Deferred)throw"Thrift.js requires jQuery 1.5+ to use asynchronous requests";var n=this,o=jQuery.ajax({url:this.url,data:e,type:"POST",ds:!1,contentType:"application/json",Ba:"text thrift",Fa:{_a:function(e){n.Aa(e);var i=r.call(t);return i}},context:t,success:jQuery.makeArray(i).pop()});return o},Aa:function(t){this.Oa=t,this.Na=this.Oa.length,this.Ia=this.Oa.length,this.Ra=0},isOpen:function(){return!0},open:function(){},close:function(){},read:function(t){var e=this.Ia-this.Ra;if(0===e)return"";var i=t;e<t&&(i=e);var r=this.read_buf.substr(this.Ra,i);return this.Ra+=i,r},Da:function(){return this.Oa},write:function(t){this.Ca=t},Ha:function(){return this.Ca}},Thrift.La=function(t){this.Ma(t)},Thrift.La.prototype={Ma:function(t){this.url=t,this.ja=null,this.callbacks=[],this.Ua=[],this.Ca="",this.Oa="",this.Va=0,this.Qa=0},flush:function(t,e){var i=this;this.isOpen()?(this.ja.send(this.Ca),this.callbacks.push(function(){var t=e;return function(e){i.Aa(e),t()}}())):this.Ua.push({qa:this.Ca,Ja:e})},Ka:function(){var t=this;this.Ua.length>0&&(this.Ua.forEach(function(e){this.ja.send(e.qa),this.callbacks.push(function(){var i=e.Ja;return function(e){t.Aa(e),i()}}())}),this.Ua=[])},Ga:function(t){this.Ma(this.url)},za:function(t){this.callbacks.length&&this.callbacks.shift()(t.data)},Wa:function(t){console.log("Thrift WebSocket Error: "+t.toString()),this.ja.close()},Aa:function(t){this.Oa=t,this.Na=this.Oa.length,this.Ia=this.Oa.length,this.Ra=0},isOpen:function(){return this.ja&&this.ja.readyState==this.ja.OPEN},open:function(){this.ja&&this.ja.readyState!=this.ja.CLOSED||(this.ja=new WebSocket(this.url),this.ja.onopen=this.Ka.bind(this),this.ja.onmessage=this.za.bind(this),this.ja.onerror=this.Wa.bind(this),this.ja.onclose=this.Ga.bind(this))},close:function(){this.ja.close()},read:function(t){var e=this.Ia-this.Ra;if(0===e)return"";var i=t;e<t&&(i=e);var r=this.read_buf.substr(this.Ra,i);return this.Ra+=i,r},Da:function(){return this.Oa},write:function(t){this.Ca=t},Ha:function(){return this.Ca}},Thrift.$a=Thrift.Ya=function(t){this.Xa=t},Thrift.Ya.bs={},Thrift.Ya.bs[Thrift.bs.BOOL]='"tf"',Thrift.Ya.bs[Thrift.bs.BYTE]='"i8"',Thrift.Ya.bs[Thrift.bs.Cs]='"i16"',Thrift.Ya.bs[Thrift.bs.Os]='"i32"',Thrift.Ya.bs[Thrift.bs.Ps]='"i64"',Thrift.Ya.bs[Thrift.bs.ks]='"dbl"',Thrift.Ya.bs[Thrift.bs.xs]='"rec"',Thrift.Ya.bs[Thrift.bs.As]='"str"',Thrift.Ya.bs[Thrift.bs.Bs]='"map"',Thrift.Ya.bs[Thrift.bs._s]='"lst"',Thrift.Ya.bs[Thrift.bs.Fs]='"set"',Thrift.Ya.Za={},Thrift.Ya.Za.tc=Thrift.bs.BOOL,Thrift.Ya.Za.ec=Thrift.bs.BYTE,Thrift.Ya.Za.ic=Thrift.bs.Cs,Thrift.Ya.Za.rc=Thrift.bs.Os,Thrift.Ya.Za.nc=Thrift.bs.Ps,Thrift.Ya.Za.oc=Thrift.bs.ks,Thrift.Ya.Za.sc=Thrift.bs.xs,Thrift.Ya.Za.ac=Thrift.bs.As,Thrift.Ya.Za.map=Thrift.bs.Bs,Thrift.Ya.Za.cc=Thrift.bs._s,Thrift.Ya.Za.set=Thrift.bs.Fs,Thrift.Ya.Ss=1,Thrift.Ya.prototype={hc:function(){return this.Xa},pc:function(t,e,i){this.uc=[],this.lc=[],this.uc.push([Thrift.Ya.Ss,'"'+t+'"',e,i])},dc:function(){var t=this.uc.pop();this.fc=this.uc.pop(),this.fc.push(t),this.gc="["+this.fc.join(",")+"]",this.Xa.write(this.gc)},fa:function(t){this.lc.push(this.uc.length),this.uc.push({})},Ta:function(){var t=this.lc.pop(),e=this.uc[t],i="{",r=!0;for(var n in e)r?r=!1:i+=",",i+=n+":"+e[n];i+="}",this.uc[t]=i},ga:function(t,e,i){this.lc.push(this.uc.length),this.uc.push({vc:'"'+i+'"',yc:Thrift.Ya.bs[e]})},ya:function(){var t=this.uc.pop(),e=this.uc.pop();this.uc[this.uc.length-1][e.vc]="{"+e.yc+":"+t+"}",this.lc.pop()},wa:function(){},mc:function(t,e,i){this.lc.push(this.uc.length),this.uc.push([Thrift.Ya.bs[t],Thrift.Ya.bs[e],0])},wc:function(){var t=this.lc.pop();if(t!=this.uc.length){(this.uc.length-t-1)%2!==0&&this.uc.push("");var e=(this.uc.length-t-1)/2;this.uc[t][this.uc[t].length-1]=e;for(var i="}",r=!0;this.uc.length>t+1;){var n=this.uc.pop(),o=this.uc.pop();r?r=!1:i=","+i,isNaN(o)||(o='"'+o+'"'),i=o+":"+n+i}i="{"+i,this.uc[t].push(i),this.uc[t]="["+this.uc[t].join(",")+"]"}},Tc:function(t,e){this.lc.push(this.uc.length),this.uc.push([Thrift.Ya.bs[t],e])},Sc:function(){for(var t=this.lc.pop();this.uc.length>t+1;){var e=this.uc[t+1];this.uc.splice(t+1,1),this.uc[t].push(e)}this.uc[t]="["+this.uc[t].join(",")+"]"},bc:function(t,e){this.lc.push(this.uc.length),this.uc.push([Thrift.Ya.bs[t],e])},Ec:function(){for(var t=this.lc.pop();this.uc.length>t+1;){var e=this.uc[t+1];this.uc.splice(t+1,1),this.uc[t].push(e)}this.uc[t]="["+this.uc[t].join(",")+"]"},Ic:function(t){this.uc.push(t?1:0)},Rc:function(t){this.uc.push(t)},kc:function(t){this.uc.push(t)},ma:function(t){this.uc.push(t)},Cc:function(t){this.uc.push(t)},Oc:function(t){this.uc.push(t)},va:function(t){if(null===t)this.uc.push(null);else{for(var e="",i=0;i<t.length;i++){var r=t.charAt(i);e+='"'===r?'\\"':"\\"===r?"\\\\":"\b"===r?"\\b":"\f"===r?"\\f":"\n"===r?"\\n":"\r"===r?"\\r":"\t"===r?"\\t":r}this.uc.push('"'+e+'"')}},Pc:function(t){this.va(t)},Ac:function(){this.Nc=[],this.Ra=[],"undefined"!=typeof JSON&&"function"==typeof JSON.parse?this.xc=JSON.parse(this.Xa.Da()):"undefined"!=typeof jQuery?this.xc=jQuery.parseJSON(this.Xa.Da()):this.xc=eval(this.Xa.Da());var r={},version=this.xc.shift();if(version!=Thrift.Ya.Ss)throw"Wrong thrift protocol version: "+version;return r.Bc=this.xc.shift(),r.Fc=this.xc.shift(),r._c=this.xc.shift(),this.Nc.push(this.xc.shift()),r},Dc:function(){},Hc:function(t){var e={};return e.Bc="",this.Nc[this.Nc.length-1]instanceof Array&&this.Nc.push(this.Nc[this.Nc.length-1].shift()),e},da:function(){this.Nc[this.Nc.length-2]instanceof Array&&this.Nc.pop()},sa:function(){var t={},e=-1,i=Thrift.bs.Es;for(var r in this.Nc[this.Nc.length-1])if(null!==r){e=parseInt(r,10),this.Ra.push(this.Nc.length);var n=this.Nc[this.Nc.length-1][e];delete this.Nc[this.Nc.length-1][e],this.Nc.push(n);break}if(e!=-1)for(var o in this.Nc[this.Nc.length-1])null!==Thrift.Ya.Za[o]&&(i=Thrift.Ya.Za[o],this.Nc[this.Nc.length-1]=this.Nc[this.Nc.length-1][o]);return t.Bc="",t.aa=i,t.ca=e,t},la:function(){for(var t=this.Ra.pop();this.Nc.length>t;)this.Nc.pop()},Lc:function(){var t=this.Nc.pop(),e=t.shift();e instanceof Array&&(this.Nc.push(t),t=e,e=t.shift());var i={};return i.Mc=Thrift.Ya.Za[e],i.jc=Thrift.Ya.Za[t.shift()],i.size=t.shift(),this.Ra.push(this.Nc.length),this.Nc.push(t.shift()),i},Uc:function(){this.la()},Vc:function(){var t=this.Nc[this.Nc.length-1],e={};return e.Qc=Thrift.Ya.Za[t.shift()],e.size=t.shift(),this.Ra.push(this.Nc.length),this.Nc.push(t),e},qc:function(){this.la()},Jc:function(t,e){return this.Vc(t,e)},Kc:function(){return this.qc()},Gc:function(){var t=this.ua();return null!==t&&"1"==t.value?t.value=!0:t.value=!1,t},zc:function(){return this.ua()},Wc:function(){return this.ua()},ua:function(t){void 0===t&&(t=this.Nc[this.Nc.length-1]);var e={};if(t instanceof Array)0===t.length?e.value=void 0:e.value=t.shift();else if(t instanceof Object){for(var i in t)if(null!==i){this.Nc.push(t[i]),delete t[i],e.value=i;break}}else e.value=t,this.Nc.pop();return e},$c:function(){return this.ua()},Yc:function(){return this.ua()},ha:function(){var t=this.ua();return t},Xc:function(){return this.ha()},pa:function(t){var e,i;switch(t){case Thrift.bs.Es:return null;case Thrift.bs.BOOL:return this.Gc();case Thrift.bs.BYTE:return this.zc();case Thrift.bs.Cs:return this.Wc();case Thrift.bs.Os:return this.ua();case Thrift.bs.Ps:return this.$c();case Thrift.bs.ks:return this.Yc();case Thrift.bs.As:return this.ha();case Thrift.bs.xs:for(this.Hc();;){if(e=this.sa(),e.aa==Thrift.bs.Es)break;this.pa(e.aa),this.la()}return this.da(),null;case Thrift.bs.Bs:for(e=this.Lc(),i=0;i<e.size;i++)i>0&&this.Nc.length>this.Ra[this.Ra.length-1]+1&&this.Nc.pop(),this.pa(e.Mc),this.pa(e.jc);return this.Uc(),null;case Thrift.bs.Fs:for(e=this.Jc(),i=0;i<e.size;i++)this.pa(e.Qc);return this.Kc(),null;case Thrift.bs._s:for(e=this.Vc(),i=0;i<e.size;i++)this.pa(e.Qc);return this.qc(),null}}},Thrift.Zc=function(t,e,i,r){Thrift.Ya.call(this,e,i,r),this.th=t},Thrift.qs(Thrift.Zc,Thrift.Ya,"multiplexProtocol"),Thrift.Zc.prototype.pc=function(t,e,i){e===Thrift.Ls.Ms||e===Thrift.Ls.Vs?Thrift.Ya.prototype.pc.call(this,this.th+":"+t,e,i):Thrift.Ya.prototype.pc.call(this,t,e,i)},Thrift.eh=function(){this.ih=0},Thrift.eh.prototype.rh=function(t,e,i){e.eo&&(e=e.eo);var r=this;e.prototype.nh=function(){return r.ih+=1,r.ih};var n=new e(new Thrift.Zc(t,i));return n},module.t=Thrift},function(t,e){"use strict";var i;!function(t){function e(t){return n[t]}var i=function(){function t(){}return t}();t.HiveSession=i;var r;!function(t){t[t.oh=0]="GENERIC_ERROR",t[t.sh=1]="NO_TECH_AVAILABLE",t[t.ah=2]="NO_TECH_RESOLVED",t[t.hh=3]="TECH_ERROR",t[t.ph=4]="TICKET_ERROR"}(r=t.uh||(t.uh={}));var n;!function(t){t[t["lh"]=0]="Generic Undefined Error",t[t["dh"]=1]="No Tech available to resolve the ticket",t[t["fh"]=2]="No available Tech could resolved the ticket",t[t["gh"]=3]="Stopped resolving session on last tech onError",t[t["vh"]=4]="The ticket could not be resolved"}(n||(n={}));var o=function(){function t(){}return t}();t.HiveSessionError=o;var s=function(){function t(t,e){this.code=t,this.message=e}return t}();t.HiveTechError=s;var a;!function(t){t[t.yh=0]="NOT_READY",t[t.mh=1]="PLUGIN_ERROR",t[t.wh=2]="SESSION_ERROR",t[t.ph=3]="TICKET_ERROR",t[t.Th=4]="VERSION_ERROR",t[t.Sh=5]="TIMEOUT_ERROR"}(a=t.bh||(t.bh={}));var c;!function(t){t[t.Eh=0]="OK",t[t.Ih=1]="HIVE_NOT_ALLOWED",t[t.Rh=2]="TICKET_NOT_RESOLVED",t[t.kh=3]="TIMEOUT_RESOLVING_TICKET"}(c=t.Ch||(t.Ch={})),t.getHiveSessionErrorMessage=e;var h=function(){function t(t){this.Oh=t}return t.prototype.getPluginStatusCode=function(){return this.Oh.Ph()},t}();t.Ah=h}(i=e.pt||(e.pt={})),"undefined"!=typeof window&&("undefined"==typeof window.pt&&(window.pt={}),window.pt.getHiveSessionErrorMessage=i.getHiveSessionErrorMessage)},function(t,e){"use strict";var i=function(){function t(){}return t}();i.yr="https:"===location.protocol,i.Er=!0,i.Nh=1e4,i.xh=6e4,e.ke=i},function(t,e,i){"use strict";var r=i(41),n=i(8),o=i(25);if("undefined"==typeof s)var s="592835a6b4204dd197c00488610003e0";if("undefined"==typeof a)var a="0.8";if("undefined"==typeof c)var c=!0;var h=function(){function t(){if(this.st=!1,t.Gi)throw new Error("Error: Instantiation failed: Use AtatusLogger.getInstance() instead of new.");var e,i=void 0!=n.HiveConfig.ErrorMonitor.key?n.HiveConfig.ErrorMonitor.key:s,r=1==n.HiveConfig.ErrorMonitor.enabledRUM,a=1==n.HiveConfig.ErrorMonitor.enableKeyCombination,h=1==n.HiveConfig.ErrorMonitor.enabledErrorFilter;h&&(e=this.Bh()),atatus&&(void 0==n.HiveConfig.ErrorMonitor.enabled&&c||void 0!=n.HiveConfig.ErrorMonitor.enabled&&1==n.HiveConfig.ErrorMonitor.enabled)&&(atatus.config(i,{enableSourcemap:!0,disableRUM:!r,version:o.version,beforeErrorSend:function(t){var i=!1;if(t&&t.customData&&"undefined"!=typeof t.customData.forceSend&&(i=t.customData.forceSend,delete t.customData.forceSend,0===Object.keys(t.customData).length&&(t.customData=null)),!h||i)return!0;if(!e)return!1;try{var r=!1;if(t.backTraces){for(var n=0,o=t.backTraces;n<o.length;n++){var s=o[n],a=s.f.indexOf(e)>-1;if(a&&s.ln>5){r=!0;break}}r&&(t.name=t.name.replace(/%s \[[0-9]{2}:[0-9]{2}:[0-9]{2}:[0-9]+] /,""),t.name.indexOf("Status Code Error:")>=0&&(t.tags=["Plugin Error Code",t.name.split(":")[1].trim()]))}return r}catch(c){return!1}}}).install(),a&&this.Fh(),this.st=!0,window.console&&console.log("[HiveComm] Error Monitor installed [RUM:"+r+", KeyHandler:"+a+"]"),h&&!e&&this._h("Could not extract error filter"))}return t.Wi=function(){return void 0===this.Gi&&(this.Gi=new t),this.Gi},t.prototype.Fh=function(){r.Hh.Wi().Dh([16,17,88],function(){try{throw new Error("Upload console logs")}catch(t){atatus.notify(t),window.console&&console.log("[HiveComm] console log uploaded for debugging")}})},t.prototype.Bh=function(){try{throw new Error("test")}catch(t){var e=t.stack.match(/(\/\/.*\.js)/i);if(e&&e.length>0)return e[0]}},t.prototype.setUser=function(t){atatus&&this.st&&atatus.setUser(t)},t.prototype.Lh=function(t){this.m=t},t.prototype.setCustomData=function(t){atatus&&this.st&&atatus.setCustomData(t)},t.prototype._h=function(t,e){if(this.m&&this.m.warn(t),atatus&&this.st)try{throw new Error(t)}catch(i){e||(e={}),e.forceSend=!0,atatus.notify(i,e)}},t.prototype.setTags=function(t){atatus&&this.st&&atatus.setTags(t)},t.prototype.notify=function(t,e){atatus&&this.st&&(e||(e={}),e.forceSend=!0,atatus.notify(t,e))},t}();e.ErrorMonitor=h},function(t,e,i){"use strict";var r=i(21),n=i(34),o=n.Mh,s=n.jh,a=function(){function t(){this.SourceURLParams={}}return t.prototype.Uh=function(t){for(var e in t)if("SourceURLParams"===e)for(var i in t[e])this[e][i]=t[e][i];else this[e]=t[e];this.Vh()},t.prototype.Qh=function(){var t="b6614c3e4cd1d14eed6b39ef2bf6b9a3e3d6dfcd26699d7270d887923bcbf83efb3dadb717c0bafb1d48dce361eb369b7cc46e57405ebfbdd86c3175532fe56cc77f473d345b2cb6feafb5ab0e24f364a3d259f27e4a2fd97468265bddfd3ddd3ac64251db650ca0280af2b2c45e8b1c8f040f2c433ac0a157d2b3fd91517253",e="010001",i=this.ContentId+this.SiteId+this.CROId+this.SourceURL,r=new o;r.qh(t,e);var n=s(this.Signature);return r.Jh(i,n)},t.prototype.Kh=function(t){this.ticketUrl=t;var e=r.parse(t),i=e.path.split("/").slice(3);if(this.SiteId=i[0],this.CROId=i[1],this.ContentId=i[2],this.Gh=i[3],e.vi)try{var n=e.vi.split("&");for(var o in n){var s=n[o].split(/=(.+)/);this.SourceURLParams[s[0]]=s[1]}}catch(a){}this.zh=t.indexOf("api-test")>-1},t.prototype.bn=function(){return this.SiteId},t.prototype.En=function(){return this.CROId},t.prototype.es=function(){return this.ContentId},t.prototype.Wh=function(){return this.Gh},t.prototype.$h=function(){return this.SourceURL},t.prototype.Yh=function(){if(this.Xh=this.SourceURL,void 0!=this.SourceURLParams){var t=new Array;for(var e in this.SourceURLParams)t.push(e+"="+this.SourceURLParams[e]);t.length>0&&this.Xh&&(this.Xh+=(this.Xh.indexOf("?")>0?"&":"?")+t.join("&"))}},t.prototype.Vh=function(){var t=i(22);this.sessionId=t.Zh()},t.prototype.tp=function(){return this.Xh||this.Yh(),this.Xh},t.prototype.On=function(){return"["+this.SiteId+"/"+this.CROId+"/"+this.ContentId+"]"},t.prototype.ep=function(){return[this.SiteId,this.CROId,this.ContentId]},t.prototype.ip=function(){return this.SourceURL+"-["+this.SiteId+"/"+this.CROId+"/"+this.ContentId+"]"},t.prototype.toString=function(){return this.On()},t}();a.rp="^https?://api(?:-test)?.hivestreaming.com/v1/events/(?:wildcard/)?",a.np="CROId",a.op="SiteId",a.sp="ContentId",e.ap=a},function(t,e,i){var r,n,o;/*!
 * URI.js - Mutating URLs
 *
 * Version: 1.18.10
 *
 * Author: Rodney Rehm
 * Web: http://medialize.github.io/URI.js/
 *
 * Licensed under
 *   MIT License http://www.opensource.org/licenses/mit-license
 *
 */
  !function(s,a){"use strict";"object"==typeof t&&t.t?t.t=a(i(6),i(6),i(6)):(n=[i(6),i(6),i(6)],r=a,o="function"==typeof r?r.apply(e,n):r,!(void 0!==o&&(t.t=o)))}(this,function(t,e,i,r){"use strict";function n(t,e){var i=arguments.length>=1,r=arguments.length>=2;if(!(this instanceof n))return i?r?new n(t,e):new n(t):new n;if(void 0===t){if(i)throw new TypeError("undefined is not a valid argument for URI");t="undefined"!=typeof location?location.href+"":""}if(null===t&&i)throw new TypeError("null is not a valid argument for URI");return this.href(t),void 0!==e?this.cp(e):this}function o(t){return t.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function s(t){return void 0===t?"Undefined":String(Object.prototype.toString.call(t)).slice(8,-1)}function a(t){return"Array"===s(t)}function c(t,e){var i,r,n={};if("RegExp"===s(e))n=null;else if(a(e))for(i=0,r=e.length;i<r;i++)n[e[i]]=!0;else n[e]=!0;for(i=0,r=t.length;i<r;i++){var o=n&&void 0!==n[t[i]]||!n&&e.test(t[i]);o&&(t.splice(i,1),r--,i--)}return t}function h(t,e){var i,r;if(a(e)){for(i=0,r=e.length;i<r;i++)if(!h(t,e[i]))return!1;return!0}var n=s(e);for(i=0,r=t.length;i<r;i++)if("RegExp"===n){if("string"==typeof t[i]&&t[i].match(e))return!0}else if(t[i]===e)return!0;return!1}function p(t,e){if(!a(t)||!a(e))return!1;if(t.length!==e.length)return!1;t.sort(),e.sort();for(var i=0,r=t.length;i<r;i++)if(t[i]!==e[i])return!1;return!0}function u(t){var e=/^\/+|\/+$/g;return t.replace(e,"")}function l(t){return escape(t)}function d(t){return encodeURIComponent(t).replace(/[!'()*]/g,l).replace(/\*/g,"%2A")}function f(t){return function(e,i){return void 0===e?this.hp[t]||"":(this.hp[t]=e||null,this.pp(!i),this)}}function g(t,e){return function(i,r){return void 0===i?this.hp[t]||"":(null!==i&&(i+="",i.charAt(0)===e&&(i=i.substring(1))),this.hp[t]=i,this.pp(!r),this)}}var v=r&&r.up;n.version="1.18.10";var y=n.prototype,m=Object.prototype.hasOwnProperty;n.hp=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,vi:null,lp:null,dp:n.dp,fp:n.fp}},n.dp=!1,n.fp=!0,n.gp=/^[a-z][a-z0-9.+-]*$/i,n.vp=/[^a-z0-9\.-]/i,n.yp=/(xn--)/i,n.mp=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,n.wp=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,n.Tp=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?«»“”‘’]))/gi,n.Sp={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?«»“”„‘’]+$/,bp:/(\([^\)]*\)|\[[^\]]*\]|\{[^}]*\}|<[^>]*>)/g},n.Ep={Ip:"80",Rp:"443",kp:"21",Cp:"70",Op:"80",Pp:"443"},n.Ap=/[^a-zA-Z0-9\.-]/,n.Np={a:"href",xp:"cite",link:"href",Bp:"href",Fp:"src",form:"action",_p:"src",Dp:"href",Hp:"src",Lp:"src",source:"src",track:"src",input:"src",Mp:"src",video:"src"},n.jp=function(t){if(t&&t.nodeName){var e=t.nodeName.toLowerCase();if("input"!==e||"image"===t.type)return n.Np[e]}},n.encode=d,n.decode=decodeURIComponent,n.Up=function(){n.encode=escape,n.decode=unescape},n.Vp=function(){n.encode=d,n.decode=decodeURIComponent},n.Qp={pathname:{encode:{qp:/%(24|26|2B|2C|3B|3D|3A|40)/gi,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{qp:/[\/\?#]/g,map:{Jp:"%2F",Kp:"%3F",Gp:"%23"}}},zp:{encode:{qp:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/gi,map:{"%3A":":",Wp:"/",$p:"?",Yp:"#",Xp:"[",Zp:"]","%40":"@",tu:"!","%24":"$","%26":"&",eu:"'",iu:"(",ru:")",nu:"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}},ou:{encode:{qp:/%(21|24|27|28|29|2A|2B|2C|3B|3D|40)/gi,map:{tu:"!","%24":"$",eu:"'",iu:"(",ru:")",nu:"*","%2B":"+","%2C":",","%3B":";","%3D":"=","%40":"@"}},decode:{qp:/[\/\?#:]/g,map:{Jp:"%2F",Kp:"%3F",Gp:"%23",su:"%3A"}}}},n.au=function(t,e){var i=n.encode(t+"");return void 0===e&&(e=n.fp),e?i.replace(/%20/g,"+"):i},n.cu=function(t,e){t+="",void 0===e&&(e=n.fp);try{return n.decode(e?t.replace(/\+/g,"%20"):t)}catch(i){return t}};var w,T={encode:"encode",decode:"decode"},S=function(t,e){return function(i){try{return n[e](i+"").replace(n.Qp[t][e].qp,function(i){return n.Qp[t][e].map[i]})}catch(r){return i}}};for(w in T)n[w+"PathSegment"]=S("pathname",T[w]),n[w+"UrnPathSegment"]=S("urnpath",T[w]);var b=function(t,e,i){return function(r){var o;o=i?function(t){return n[e](n[i](t))}:n[e];for(var s=(r+"").split(t),a=0,c=s.length;a<c;a++)s[a]=o(s[a]);return s.join(t)}};n.hu=b("/","decodePathSegment"),n.pu=b(":","decodeUrnPathSegment"),n.uu=b("/","encodePathSegment","decode"),n.lu=b(":","encodeUrnPathSegment","decode"),n.du=S("reserved","encode"),n.parse=function(t,e){var i;return e||(e={}),i=t.indexOf("#"),i>-1&&(e.lp=t.substring(i+1)||null,t=t.substring(0,i)),i=t.indexOf("?"),i>-1&&(e.vi=t.substring(i+1)||null,t=t.substring(0,i)),"//"===t.substring(0,2)?(e.protocol=null,t=t.substring(2),t=n.fu(t,e)):(i=t.indexOf(":"),i>-1&&(e.protocol=t.substring(0,i)||null,e.protocol&&!e.protocol.match(n.gp)?e.protocol=void 0:"//"===t.substring(i+1,i+3)?(t=t.substring(i+3),t=n.fu(t,e)):(t=t.substring(i+1),e.urn=!0))),e.path=t,e},n.gu=function(t,e){t=t.replace(/\\/g,"/");var i,r,n=t.indexOf("/");if(n===-1&&(n=t.length),"["===t.charAt(0))i=t.indexOf("]"),e.hostname=t.substring(1,i)||null,e.port=t.substring(i+2,n)||null,"/"===e.port&&(e.port=null);else{var o=t.indexOf(":"),s=t.indexOf("/"),a=t.indexOf(":",o+1);a!==-1&&(s===-1||a<s)?(e.hostname=t.substring(0,n)||null,e.port=null):(r=t.substring(0,n).split(":"),e.hostname=r[0]||null,e.port=r[1]||null)}return e.hostname&&"/"!==t.substring(n).charAt(0)&&(n++,t="/"+t),t.substring(n)||"/"},n.fu=function(t,e){return t=n.vu(t,e),n.gu(t,e)},n.vu=function(t,e){var i,r=t.indexOf("/"),o=t.lastIndexOf("@",r>-1?r:t.length-1);return o>-1&&(r===-1||o<r)?(i=t.substring(0,o).split(":"),e.username=i[0]?n.decode(i[0]):null,i.shift(),e.password=i[0]?n.decode(i.join(":")):null,t=t.substring(o+1)):(e.username=null,e.password=null),t},n.yu=function(t,e){if(!t)return{};if(t=t.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,""),!t)return{};for(var i,r,o,s={},a=t.split("&"),c=a.length,h=0;h<c;h++)i=a[h].split("="),r=n.cu(i.shift(),e),o=i.length?n.cu(i.join("="),e):null,m.call(s,r)?("string"!=typeof s[r]&&null!==s[r]||(s[r]=[s[r]]),s[r].push(o)):s[r]=o;return s},n.pp=function(t){var e="";return t.protocol&&(e+=t.protocol+":"),t.urn||!e&&!t.hostname||(e+="//"),e+=n.mu(t)||"","string"==typeof t.path&&("/"!==t.path.charAt(0)&&"string"==typeof t.hostname&&(e+="/"),e+=t.path),"string"==typeof t.vi&&t.vi&&(e+="?"+t.vi),"string"==typeof t.lp&&t.lp&&(e+="#"+t.lp),e},n.wu=function(t){var e="";return t.hostname?(e+=n.wp.test(t.hostname)?"["+t.hostname+"]":t.hostname,t.port&&(e+=":"+t.port),e):""},n.mu=function(t){return n.Tu(t)+n.wu(t)},n.Tu=function(t){var e="";return t.username&&(e+=n.encode(t.username)),t.password&&(e+=":"+n.encode(t.password)),e&&(e+="@"),e},n.Su=function(t,e,i){var r,o,s,c,h="";for(o in t)if(m.call(t,o)&&o)if(a(t[o]))for(r={},s=0,c=t[o].length;s<c;s++)void 0!==t[o][s]&&void 0===r[t[o][s]+""]&&(h+="&"+n.bu(o,t[o][s],i),e!==!0&&(r[t[o][s]+""]=!0));else void 0!==t[o]&&(h+="&"+n.bu(o,t[o],i));return h.substring(1)},n.bu=function(t,e,i){return n.au(t,i)+(null!==e?"="+n.au(e,i):"")},n.Eu=function(t,e,i){if("object"==typeof e)for(var r in e)m.call(e,r)&&n.Eu(t,r,e[r]);else{if("string"!=typeof e)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");if(void 0===t[e])return void(t[e]=i);"string"==typeof t[e]&&(t[e]=[t[e]]),a(i)||(i=[i]),t[e]=(t[e]||[]).concat(i)}},n.Iu=function(t,e,i){var r,o,h;if(a(e))for(r=0,o=e.length;r<o;r++)t[e[r]]=void 0;else if("RegExp"===s(e))for(h in t)e.test(h)&&(t[h]=void 0);else if("object"==typeof e)for(h in e)m.call(e,h)&&n.Iu(t,h,e[h]);else{if("string"!=typeof e)throw new TypeError("URI.removeQuery() accepts an object, string, RegExp as the first parameter");void 0!==i?"RegExp"===s(i)?!a(t[e])&&i.test(t[e])?t[e]=void 0:t[e]=c(t[e],i):t[e]!==String(i)||a(i)&&1!==i.length?a(t[e])&&(t[e]=c(t[e],i)):t[e]=void 0:t[e]=void 0}},n.Ru=function(t,e,i,r){switch(s(e)){case"String":break;case"RegExp":for(var o in t)if(m.call(t,o)&&e.test(o)&&(void 0===i||n.Ru(t,o,i)))return!0;return!1;case"Object":for(var c in e)if(m.call(e,c)&&!n.Ru(t,c,e[c]))return!1;return!0;default:throw new TypeError("URI.hasQuery() accepts a string, regular expression or object as the name parameter")}switch(s(i)){case"Undefined":return e in t;case"Boolean":var u=Boolean(a(t[e])?t[e].length:t[e]);return i===u;case"Function":return!!i(t[e],e,t);case"Array":if(!a(t[e]))return!1;var l=r?h:p;return l(t[e],i);case"RegExp":return a(t[e])?!!r&&h(t[e],i):Boolean(t[e]&&t[e].match(i));case"Number":i=String(i);case"String":return a(t[e])?!!r&&h(t[e],i):t[e]===i;default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter")}},n.ku=function(){for(var t=[],e=[],i=0,r=0;r<arguments.length;r++){var o=new n(arguments[r]);t.push(o);for(var s=o.Cu(),a=0;a<s.length;a++)"string"==typeof s[a]&&e.push(s[a]),s[a]&&i++}if(!e.length||!i)return new n("");var c=new n("").Cu(e);return""!==t[0].path()&&"/"!==t[0].path().slice(0,1)||c.path("/"+c.path()),c.normalize()},n.Ou=function(t,e){var i,r=Math.min(t.length,e.length);for(i=0;i<r;i++)if(t.charAt(i)!==e.charAt(i)){i--;break}return i<1?t.charAt(0)===e.charAt(0)&&"/"===t.charAt(0)?"/":"":("/"===t.charAt(i)&&"/"===e.charAt(i)||(i=t.substring(0,i).lastIndexOf("/")),t.substring(0,i+1))},n.Pu=function(t,e,i){i||(i={});var r=i.start||n.Sp.start,o=i.end||n.Sp.end,s=i.trim||n.Sp.trim,a=i.bp||n.Sp.bp,c=/[a-z0-9-]=["']?$/i;for(r.lastIndex=0;;){var h=r.exec(t);if(!h)break;var p=h.index;if(i.ignoreHtml){var u=t.slice(Math.max(p-3,0),p);if(u&&c.test(u))continue}for(var l=p+t.slice(p).search(o),d=t.slice(p,l),f=-1;;){var g=a.exec(d);if(!g)break;var v=g.index+g[0].length;f=Math.max(f,v)}if(d=f>-1?d.slice(0,f)+d.slice(f).replace(s,""):d.replace(s,""),!(d.length<=h[0].length||i.ignore&&i.ignore.test(d))){l=p+d.length;var y=e(d,p,l,t);void 0!==y?(y=String(y),t=t.slice(0,p)+y+t.slice(l),r.lastIndex=p+y.length):r.lastIndex=l}}return r.lastIndex=0,t},n.Au=function(e){if(e.match(n.Ap)){if(!t)throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-] and Punycode.js is not available');if(t.toASCII(e).match(n.Ap))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]')}},n.ge=function(t){if(t){var e={up:this.ge()};return r.Nu&&"function"==typeof r.Nu.ge&&(e.Nu=r.Nu.ge()),r.xu&&"function"==typeof r.xu.ge&&(e.xu=r.xu.ge()),r.Bu&&"function"==typeof r.Bu.ge&&(e.Bu=r.Bu.ge()),e}return r.up===this&&(r.up=v),this},y.pp=function(t){return t===!0?this.Fu=!0:(void 0===t||this.Fu)&&(this._u=n.pp(this.hp),this.Fu=!1),this},y.clone=function(){return new n(this)},y.valueOf=y.toString=function(){return this.pp(!1)._u},y.protocol=f("protocol"),y.username=f("username"),y.password=f("password"),y.hostname=f("hostname"),y.port=f("port"),y.vi=g("query","?"),y.lp=g("fragment","#"),y.search=function(t,e){var i=this.vi(t,e);return"string"==typeof i&&i.length?"?"+i:i},y.hash=function(t,e){var i=this.lp(t,e);return"string"==typeof i&&i.length?"#"+i:i},y.pathname=function(t,e){if(void 0===t||t===!0){var i=this.hp.path||(this.hp.hostname?"/":"");return t?(this.hp.urn?n.pu:n.hu)(i):i}return this.hp.urn?this.hp.path=t?n.lu(t):"":this.hp.path=t?n.uu(t):"/",this.pp(!e),this},y.path=y.pathname,y.href=function(t,e){var i;if(void 0===t)return this.toString();this._u="",this.hp=n.hp();var r=t instanceof n,o="object"==typeof t&&(t.hostname||t.path||t.pathname);if(t.nodeName){var s=n.jp(t);t=t[s]||"",o=!1}if(!r&&o&&void 0!==t.pathname&&(t=t.toString()),"string"==typeof t||t instanceof String)this.hp=n.parse(String(t),this.hp);else{if(!r&&!o)throw new TypeError("invalid input");var a=r?t.hp:t;for(i in a)m.call(this.hp,i)&&(this.hp[i]=a[i])}return this.pp(!e),this},y.is=function(t){var e=!1,r=!1,o=!1,s=!1,a=!1,c=!1,h=!1,p=!this.hp.urn;switch(this.hp.hostname&&(p=!1,r=n.mp.test(this.hp.hostname),o=n.wp.test(this.hp.hostname),e=r||o,s=!e,a=s&&i&&i.has(this.hp.hostname),c=s&&n.vp.test(this.hp.hostname),h=s&&n.yp.test(this.hp.hostname)),t.toLowerCase()){case"relative":return p;case"absolute":return!p;case"domain":case"name":return s;case"sld":return a;case"ip":return e;case"ip4":case"ipv4":case"inet4":return r;case"ip6":case"ipv6":case"inet6":return o;case"idn":return c;case"url":return!this.hp.urn;case"urn":return!!this.hp.urn;case"punycode":return h}return null};var E=y.protocol,I=y.port,R=y.hostname;y.protocol=function(t,e){if(void 0!==t&&t&&(t=t.replace(/:(\/\/)?$/,""),!t.match(n.gp)))throw new TypeError('Protocol "'+t+"\" contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]");return E.call(this,t,e)},y.scheme=y.protocol,y.port=function(t,e){if(this.hp.urn)return void 0===t?"":this;if(void 0!==t&&(0===t&&(t=null),t&&(t+="",":"===t.charAt(0)&&(t=t.substring(1)),t.match(/[^0-9]/))))throw new TypeError('Port "'+t+'" contains characters other than [0-9]');return I.call(this,t,e)},y.hostname=function(t,e){if(this.hp.urn)return void 0===t?"":this;if(void 0!==t){var i={},r=n.gu(t,i);if("/"!==r)throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-]');t=i.hostname}return R.call(this,t,e)},y.origin=function(t,e){if(this.hp.urn)return void 0===t?"":this;if(void 0===t){var i=this.protocol(),r=this.Du();return r?(i?i+"://":"")+this.Du():""}var o=n(t);return this.protocol(o.protocol()).Du(o.Du()).pp(!e),this},y.host=function(t,e){if(this.hp.urn)return void 0===t?"":this;if(void 0===t)return this.hp.hostname?n.wu(this.hp):"";var i=n.gu(t,this.hp);if("/"!==i)throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-]');return this.pp(!e),this},y.Du=function(t,e){if(this.hp.urn)return void 0===t?"":this;if(void 0===t)return this.hp.hostname?n.mu(this.hp):"";var i=n.fu(t,this.hp);if("/"!==i)throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-]');return this.pp(!e),this},y.Hu=function(t,e){if(this.hp.urn)return void 0===t?"":this;if(void 0===t){var i=n.Tu(this.hp);return i?i.substring(0,i.length-1):i}return"@"!==t[t.length-1]&&(t+="@"),n.vu(t,this.hp),this.pp(!e),this},y.Lu=function(t,e){var i;return void 0===t?this.path()+this.search()+this.hash():(i=n.parse(t),this.hp.path=i.path,this.hp.vi=i.vi,this.hp.lp=i.lp,this.pp(!e),this)},y.Mu=function(t,e){if(this.hp.urn)return void 0===t?"":this;if(void 0===t){if(!this.hp.hostname||this.is("IP"))return"";var i=this.hp.hostname.length-this.domain().length-1;return this.hp.hostname.substring(0,i)||""}var r=this.hp.hostname.length-this.domain().length,s=this.hp.hostname.substring(0,r),a=new RegExp("^"+o(s));return t&&"."!==t.charAt(t.length-1)&&(t+="."),t&&n.Au(t),this.hp.hostname=this.hp.hostname.replace(a,t),this.pp(!e),this},y.domain=function(t,e){if(this.hp.urn)return void 0===t?"":this;if("boolean"==typeof t&&(e=t,t=void 0),void 0===t){if(!this.hp.hostname||this.is("IP"))return"";var i=this.hp.hostname.match(/\./g);if(i&&i.length<2)return this.hp.hostname;var r=this.hp.hostname.length-this.ju(e).length-1;return r=this.hp.hostname.lastIndexOf(".",r-1)+1,this.hp.hostname.substring(r)||""}if(!t)throw new TypeError("cannot set domain empty");if(n.Au(t),!this.hp.hostname||this.is("IP"))this.hp.hostname=t;else{var s=new RegExp(o(this.domain())+"$");this.hp.hostname=this.hp.hostname.replace(s,t)}return this.pp(!e),this},y.ju=function(t,e){if(this.hp.urn)return void 0===t?"":this;if("boolean"==typeof t&&(e=t,t=void 0),void 0===t){if(!this.hp.hostname||this.is("IP"))return"";var r=this.hp.hostname.lastIndexOf("."),n=this.hp.hostname.substring(r+1);return e!==!0&&i&&i.list[n.toLowerCase()]?i.get(this.hp.hostname)||n:n}var s;if(!t)throw new TypeError("cannot set TLD empty");if(t.match(/[^a-zA-Z0-9-]/)){if(!i||!i.is(t))throw new TypeError('TLD "'+t+'" contains characters other than [A-Z0-9]');s=new RegExp(o(this.ju())+"$"),this.hp.hostname=this.hp.hostname.replace(s,t)}else{if(!this.hp.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");s=new RegExp(o(this.ju())+"$"),this.hp.hostname=this.hp.hostname.replace(s,t)}return this.pp(!e),this},y.Uu=function(t,e){if(this.hp.urn)return void 0===t?"":this;if(void 0===t||t===!0){if(!this.hp.path&&!this.hp.hostname)return"";if("/"===this.hp.path)return"/";var i=this.hp.path.length-this.filename().length-1,r=this.hp.path.substring(0,i)||(this.hp.hostname?"/":"");return t?n.hu(r):r}var s=this.hp.path.length-this.filename().length,a=this.hp.path.substring(0,s),c=new RegExp("^"+o(a));return this.is("relative")||(t||(t="/"),"/"!==t.charAt(0)&&(t="/"+t)),t&&"/"!==t.charAt(t.length-1)&&(t+="/"),t=n.uu(t),this.hp.path=this.hp.path.replace(c,t),this.pp(!e),this},y.filename=function(t,e){if(this.hp.urn)return void 0===t?"":this;if("string"!=typeof t){if(!this.hp.path||"/"===this.hp.path)return"";var i=this.hp.path.lastIndexOf("/"),r=this.hp.path.substring(i+1);return t?n.decodePathSegment(r):r}var s=!1;"/"===t.charAt(0)&&(t=t.substring(1)),t.match(/\.?\//)&&(s=!0);var a=new RegExp(o(this.filename())+"$");return t=n.uu(t),this.hp.path=this.hp.path.replace(a,t),s?this.Vu(e):this.pp(!e),this},y.suffix=function(t,e){if(this.hp.urn)return void 0===t?"":this;if(void 0===t||t===!0){if(!this.hp.path||"/"===this.hp.path)return"";var i,r,s=this.filename(),a=s.lastIndexOf(".");return a===-1?"":(i=s.substring(a+1),r=/^[a-z0-9%]+$/i.test(i)?i:"",t?n.decodePathSegment(r):r)}"."===t.charAt(0)&&(t=t.substring(1));var c,h=this.suffix();if(h)c=t?new RegExp(o(h)+"$"):new RegExp(o("."+h)+"$");else{if(!t)return this;this.hp.path+="."+n.uu(t)}return c&&(t=n.uu(t),this.hp.path=this.hp.path.replace(c,t)),this.pp(!e),this},y.Cu=function(t,e,i){var r=this.hp.urn?":":"/",n=this.path(),o="/"===n.substring(0,1),s=n.split(r);if(void 0!==t&&"number"!=typeof t&&(i=e,e=t,t=void 0),void 0!==t&&"number"!=typeof t)throw new Error('Bad segment "'+t+'", must be 0-based integer');if(o&&s.shift(),t<0&&(t=Math.max(s.length+t,0)),void 0===e)return void 0===t?s:s[t];if(null===t||void 0===s[t])if(a(e)){s=[];for(var c=0,h=e.length;c<h;c++)(e[c].length||s.length&&s[s.length-1].length)&&(s.length&&!s[s.length-1].length&&s.pop(),s.push(u(e[c])))}else(e||"string"==typeof e)&&(e=u(e),""===s[s.length-1]?s[s.length-1]=e:s.push(e));else e?s[t]=u(e):s.splice(t,1);return o&&s.unshift(""),this.path(s.join(r),i)},y.Qu=function(t,e,i){var r,o,s;if("number"!=typeof t&&(i=e,e=t,t=void 0),void 0===e){if(r=this.Cu(t,e,i),a(r))for(o=0,s=r.length;o<s;o++)r[o]=n.decode(r[o]);else r=void 0!==r?n.decode(r):void 0;return r}if(a(e))for(o=0,s=e.length;o<s;o++)e[o]=n.encode(e[o]);else e="string"==typeof e||e instanceof String?n.encode(e):e;return this.Cu(t,e,i)};var k=y.vi;return y.vi=function(t,e){if(t===!0)return n.yu(this.hp.vi,this.hp.fp);if("function"==typeof t){var i=n.yu(this.hp.vi,this.hp.fp),r=t.call(this,i);return this.hp.vi=n.Su(r||i,this.hp.dp,this.hp.fp),this.pp(!e),this}return void 0!==t&&"string"!=typeof t?(this.hp.vi=n.Su(t,this.hp.dp,this.hp.fp),this.pp(!e),this):k.call(this,t,e)},y.qu=function(t,e,i){var r=n.yu(this.hp.vi,this.hp.fp);if("string"==typeof t||t instanceof String)r[t]=void 0!==e?e:null;else{if("object"!=typeof t)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");for(var o in t)m.call(t,o)&&(r[o]=t[o])}return this.hp.vi=n.Su(r,this.hp.dp,this.hp.fp),"string"!=typeof t&&(i=e),this.pp(!i),this},y.Eu=function(t,e,i){var r=n.yu(this.hp.vi,this.hp.fp);return n.Eu(r,t,void 0===e?null:e),this.hp.vi=n.Su(r,this.hp.dp,this.hp.fp),"string"!=typeof t&&(i=e),this.pp(!i),this},y.Iu=function(t,e,i){var r=n.yu(this.hp.vi,this.hp.fp);return n.Iu(r,t,e),this.hp.vi=n.Su(r,this.hp.dp,this.hp.fp),"string"!=typeof t&&(i=e),this.pp(!i),this},y.Ru=function(t,e,i){var r=n.yu(this.hp.vi,this.hp.fp);return n.Ru(r,t,e,i)},y.Ju=y.qu,y.Ku=y.Eu,y.Gu=y.Iu,y.zu=y.Ru,y.normalize=function(){return this.hp.urn?this.Yu(!1).Vu(!1).$u(!1).Wu(!1).pp():this.Yu(!1).Zu(!1).Xu(!1).Vu(!1).$u(!1).Wu(!1).pp()},y.Yu=function(t){return"string"==typeof this.hp.protocol&&(this.hp.protocol=this.hp.protocol.toLowerCase(),this.pp(!t)),this},y.Zu=function(i){return this.hp.hostname&&(this.is("IDN")&&t?this.hp.hostname=t.toASCII(this.hp.hostname):this.is("IPv6")&&e&&(this.hp.hostname=e.best(this.hp.hostname)),this.hp.hostname=this.hp.hostname.toLowerCase(),this.pp(!i)),this},y.Xu=function(t){return"string"==typeof this.hp.protocol&&this.hp.port===n.Ep[this.hp.protocol]&&(this.hp.port=null,this.pp(!t)),this},y.Vu=function(t){var e=this.hp.path;if(!e)return this;if(this.hp.urn)return this.hp.path=n.lu(this.hp.path),this.pp(!t),this;if("/"===this.hp.path)return this;e=n.uu(e);var i,r,o,s="";for("/"!==e.charAt(0)&&(i=!0,e="/"+e),"/.."!==e.slice(-3)&&"/."!==e.slice(-2)||(e+="/"),e=e.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/"),i&&(s=e.substring(1).match(/^(\.\.\/)+/)||"",s&&(s=s[0]));;){if(r=e.search(/\/\.\.(\/|$)/),r===-1)break;0!==r?(o=e.substring(0,r).lastIndexOf("/"),o===-1&&(o=r),e=e.substring(0,o)+e.substring(r+3)):e=e.substring(3)}return i&&this.is("relative")&&(e=s+e.substring(1)),this.hp.path=e,this.pp(!t),this},y.tl=y.Vu,y.$u=function(t){return"string"==typeof this.hp.vi&&(this.hp.vi.length?this.vi(n.yu(this.hp.vi,this.hp.fp)):this.hp.vi=null,this.pp(!t)),this},y.Wu=function(t){return this.hp.lp||(this.hp.lp=null,this.pp(!t)),this},y.el=y.$u,y.il=y.Wu,y.Up=function(){var t=n.encode,e=n.decode;n.encode=escape,n.decode=decodeURIComponent;try{this.normalize()}finally{n.encode=t,n.decode=e}return this},y.Vp=function(){var t=n.encode,e=n.decode;n.encode=d,n.decode=unescape;try{this.normalize()}finally{n.encode=t,n.decode=e}return this},y.rl=function(){var e=this.clone();e.username("").password("").normalize();var i="";if(e.hp.protocol&&(i+=e.hp.protocol+"://"),e.hp.hostname&&(e.is("punycode")&&t?(i+=t.toUnicode(e.hp.hostname),e.hp.port&&(i+=":"+e.hp.port)):i+=e.host()),e.hp.hostname&&e.hp.path&&"/"!==e.hp.path.charAt(0)&&(i+="/"),i+=e.path(!0),e.hp.vi){for(var r="",o=0,s=e.hp.vi.split("&"),a=s.length;o<a;o++){var c=(s[o]||"").split("=");r+="&"+n.cu(c[0],this.hp.fp).replace(/&/g,"%26"),void 0!==c[1]&&(r+="="+n.cu(c[1],this.hp.fp).replace(/&/g,"%26"))}i+="?"+r.substring(1)}return i+=n.cu(e.hash(),!0)},y.cp=function(t){var e,i,r,o=this.clone(),s=["protocol","username","password","hostname","port"];if(this.hp.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(t instanceof n||(t=new n(t)),o.hp.protocol)return o;if(o.hp.protocol=t.hp.protocol,this.hp.hostname)return o;for(i=0;r=s[i];i++)o.hp[r]=t.hp[r];return o.hp.path?(".."===o.hp.path.substring(-2)&&(o.hp.path+="/"),"/"!==o.path().charAt(0)&&(e=t.Uu(),e=e?e:0===t.path().indexOf("/")?"/":"",o.hp.path=(e?e+"/":"")+o.hp.path,o.Vu())):(o.hp.path=t.hp.path,o.hp.vi||(o.hp.vi=t.hp.vi)),o.pp(),o},y.nl=function(t){var e,i,r,o,s,a=this.clone().normalize();if(a.hp.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(t=new n(t).normalize(),e=a.hp,i=t.hp,o=a.path(),s=t.path(),"/"!==o.charAt(0))throw new Error("URI is already relative");if("/"!==s.charAt(0))throw new Error("Cannot calculate a URI relative to another relative URI");if(e.protocol===i.protocol&&(e.protocol=null),e.username!==i.username||e.password!==i.password)return a.pp();if(null!==e.protocol||null!==e.username||null!==e.password)return a.pp();if(e.hostname!==i.hostname||e.port!==i.port)return a.pp();if(e.hostname=null,e.port=null,o===s)return e.path="",a.pp();if(r=n.Ou(o,s),!r)return a.pp();var c=i.path.substring(r.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../");return e.path=c+e.path.substring(r.length)||"./",a.pp()},y.ol=function(t){var e,i,r,o=this.clone(),s=new n(t),c={},h={},u={};if(o.normalize(),s.normalize(),o.toString()===s.toString())return!0;if(e=o.vi(),i=s.vi(),o.vi(""),s.vi(""),o.toString()!==s.toString())return!1;if(e.length!==i.length)return!1;c=n.yu(e,this.hp.fp),h=n.yu(i,this.hp.fp);for(r in c)if(m.call(c,r)){if(a(c[r])){if(!p(c[r],h[r]))return!1}else if(c[r]!==h[r])return!1;u[r]=!0}for(r in h)if(m.call(h,r)&&!u[r])return!1;return!0},y.dp=function(t){return this.hp.dp=!!t,this},y.fp=function(t){return this.hp.fp=!!t,this},n})},function(t,e,i){/*! uuid.js
 * Copyright (c) 2010-2012 Robert Kieffer
 * MIT License - http://opensource.org/licenses/mit-license.php
 */
  !function(e){"use strict";function r(){var t=e.crypto||e.msCrypto;if(!h&&t&&t.getRandomValues)try{var i=new Uint8Array(16);l=h=function(){return t.getRandomValues(i),i},h()}catch(r){}if(!h){var n=new Array(16);p=h=function(){for(var t,e=0;e<16;e++)0===(3&e)&&(t=4294967296*Math.random()),n[e]=t>>>((3&e)<<3)&255;return n},"undefined"!=typeof console&&console.warn&&console.warn("[SECURITY] node-uuid: crypto not usable, falling back to insecure Math.random()")}}function n(){try{var t=i(33).randomBytes;u=h=t&&function(){return t(16)},h()}catch(e){}}function o(t,e,i){var r=e&&i||0,n=0;for(e=e||[],t.toLowerCase().replace(/[0-9a-f]{2}/g,function(t){n<16&&(e[r+n++]=v[t])});n<16;)e[r+n++]=0;return e}function s(t,e){var i=e||0,r=g;return r[t[i++]]+r[t[i++]]+r[t[i++]]+r[t[i++]]+"-"+r[t[i++]]+r[t[i++]]+"-"+r[t[i++]]+r[t[i++]]+"-"+r[t[i++]]+r[t[i++]]+"-"+r[t[i++]]+r[t[i++]]+r[t[i++]]+r[t[i++]]+r[t[i++]]+r[t[i++]]}function a(t,e,i){var r=e&&i||0,n=e||[];t=t||{};var o=null!=t.clockseq?t.clockseq:T,a=null!=t.msecs?t.msecs:(new Date).getTime(),c=null!=t.nsecs?t.nsecs:b+1,h=a-S+(c-b)/1e4;if(h<0&&null==t.clockseq&&(o=o+1&16383),(h<0||a>S)&&null==t.nsecs&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");S=a,b=c,T=o,a+=122192928e5;var p=(1e4*(268435455&a)+c)%4294967296;n[r++]=p>>>24&255,n[r++]=p>>>16&255,n[r++]=p>>>8&255,n[r++]=255&p;var u=a/4294967296*1e4&268435455;n[r++]=u>>>8&255,n[r++]=255&u,n[r++]=u>>>24&15|16,n[r++]=u>>>16&255,n[r++]=o>>>8|128,n[r++]=255&o;for(var l=t.node||w,d=0;d<6;d++)n[r+d]=l[d];return e?e:s(n)}function c(t,e,i){var r=e&&i||0;"string"==typeof t&&(e="binary"===t?new f(16):null,t=null),t=t||{};var n=t.random||(t.rng||h)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,e)for(var o=0;o<16;o++)e[r+o]=n[o];return e||s(n)}var h,p,u,l,d;e?r():n();for(var f="function"==typeof Buffer?Buffer:Array,g=[],v={},y=0;y<256;y++)g[y]=(y+256).toString(16).substr(1),v[g[y]]=y;var m=h(),w=[1|m[0],m[1],m[2],m[3],m[4],m[5]],T=16383&(m[6]<<8|m[7]),S=0,b=0,E=c;E.sl=a,E.Zh=c,E.parse=o,E.al=s,E.cl=f,E.hl=h,E.pl=p,E.ul=u,E.ll=l,"undefined"!=typeof t&&t.t?t.t=E:(d=e.dl,E.ge=function(){return e.dl=d,E},e.dl=E)}("undefined"!=typeof window?window:null)},function(t,e,i){"use strict";var r,n=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},o=i(11);!function(t){var e=function(){function t(){}return t}();e.DashFilterBitrates=null,e.DashRemoveBitrateSize=!1,t.Dash=e;var i=function(){function t(){}return t}();i.fl=!0,t.Stats=i;var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(o.HiveConfig.DebugLogs);r.gl=0,t.DebugLogs=r;var s=function(){function t(){}return t}();s.usiz=null,t.UDPBroadcast=s}(r=e.HiveConfig||(e.HiveConfig={})),"undefined"!=typeof window&&("undefined"==typeof window.HiveConfig&&(window.HiveConfig={}),window.HiveConfig.Dash=r.Dash,window.HiveConfig.Stats=r.Stats,window.HiveConfig.UDPBroadcast=r.UDPBroadcast,window.HiveConfig.DebugLogs=r.DebugLogs)},function(t,e,i){"use strict";var r,n=i(11),o=i(4),s=o.ve;!function(t){var e;!function(t){t[t.off=0]="off",t[t.error=1]="error",t[t.warn=2]="warn",t[t.notice=3]="notice",t[t.info=4]="info",t[t.debug=5]="debug",t[t.trace=6]="trace"}(e=t.vl||(t.vl={}));var i=function(){function t(){this.timestamp=function(){},this.yl=new s,this.level=e.debug,this.timestamp.toString=function(){var t=new Date,e=("0"+t.getUTCHours()).slice(-2)+":"+("0"+t.getUTCMinutes()).slice(-2)+":"+("0"+t.getUTCSeconds()).slice(-2)+":"+t.getUTCMilliseconds();return"["+e+"]"},this.m="undefined"==typeof console?{log:function(){}}:console,this.m.trace||(this.m.trace=this.m.log),this.m.debug||(this.m.debug=this.m.log),this.m.info||(this.m.info=this.m.log),this.m.warn||(this.m.warn=this.m.log),this.m.error||(this.m.error=this.m.log),this.ml(e[this.level])}return t.prototype.ml=function(t,i){n.HiveConfig.Framework.HiveDebugLevel&&void 0!=e[n.HiveConfig.Framework.HiveDebugLevel]?this.level=e[n.HiveConfig.Framework.HiveDebugLevel]:void 0!=e[t]?this.level=e[t]:console.log("Wrong logging level: "+t,e),this.wl(i)},t.prototype.wl=function(t){var i={log:this.Tl(this.m.log,e.error,t),error:this.Tl(this.m.error,e.error,t),warn:this.Tl(this.m.warn,e.warn,t),notice:this.Tl(this.m.info,e.notice,t),info:this.Tl(this.m.info,e.info,t),debug:this.Tl(this.m.debug,e.debug,t),trace:this.Tl(this.m.trace,e.trace,t)};t?this.yl.set(t,i):this.Sl=i},t.prototype.Tl=function(t,e,i){if(!(this.level>=e))return function(){};try{return n.HiveConfig.Framework.LoggerTimestamp?i?Function.prototype.bind.call(t,console,"%s %s",this.timestamp,i):Function.prototype.bind.call(t,console,"%s",this.timestamp):Function.prototype.bind.call(t,console)}catch(r){}},t.prototype.log=function(t){return t?(this.yl.has(t)||this.ml(e[this.level],t),this.yl.get(t)):this.Sl},t}();t.bl=i}(r=e.El||(e.El={}))},function(t,e,i){"use strict";var r=i(4),n=r.ve,o=i(1),s=i(2),a=i(40),c=i(49),h=i(17),p=i(11),u=i(7),l=i(42),d=i(9),f=i(37),g=i(5),v=i(50),y=i(48),m=i(27),w=i(19),T=i(20),S=i(18),b=a.pt.Ir,E=c.pt.Il,I=h.pt.uh,R=h.pt.Ch,k=h.pt.HiveTechError,C=h.pt.bh,O=h.pt.Ah;e.version="3.2.0";var P;!function(t){var r=function(){function t(t){this.Rl=[E[E.HiveJava],E[E.HiveJsProxy],E[E.HiveJS],E[E.StatsJS]],this.kl=new n,this.Cl=new Array,this.Ol=new Array,this.Pl=null,this.Al=0,this.Nl=0,this.u="[HiveComm] ",this.xl=0,this.Bl=u.ar.getItem("hivePluginId"),this.Bl||(this.Bl=Math.abs(Math.floor(68719476736*Math.random())).toString(16),u.ar.setItem("hivePluginId",this.Bl)),w.ErrorMonitor.Wi(),this.options_=new b.Fl,this._l(t),u.nr(t,this.options_),u.or(window.location.href,new b.Dl,this.options_),a.Ll.Hl(this.options_),this.fo=s.Framework.resolve(s.Framework.Fe.we),p.HiveConfig.Framework.LoggerTimestamp=this.options().loggerTimestamp,this.fo.ml(this.options().debugLevel),w.ErrorMonitor.Wi().Lh(this.fo.log());var e=s.Framework.resolve(g.gi.Ce),i=s.Framework.resolve(g.gi.ci);e.Ko().then(function(t){w.ErrorMonitor.Wi().setUser(t.Wo())});var r={};i.Pn().then(function(t){r={pIPAddr:t.Nn().Bn()},w.ErrorMonitor.Wi().setCustomData(r)}),window.vo=this.fo.log(),this.Ml(),this.jl=new O(this),new l.Ul(this);var o=this.options().idleTimePeriod>this.options().feedbackPeriod?this.options().idleTimePeriod:S.ke.xh;this.Vl=new u.vr(o)}return t.prototype.options=function(){return this.options_},t.prototype.m=function(){return this.fo.log()},t.prototype.S=function(){return this.Bl},t.prototype.ct=function(){return e.version},t.prototype.Ql=function(){for(var t=0,e=this.Ol;t<e.length;t++){var i=e[t];i.tech.ql(this)}},t.prototype._l=function(t){var e=new y.StatsJS(this,t);this.kl.set(y.StatsJS.Jl,e);var r=i(43).HiveJava;this.kl.set(r.Jl,new r(this,t));var n=t.hiveTechOrder;if(!n||n instanceof Array)if(n&&n.length>0)for(var o=n.length;o--;){var s=n[o];"string"!=typeof s||this.Rl.indexOf(s)==-1?(console.warn(this.u+'The "'+s+'" Hive tech is undefined'),n.splice(o,1)):"string"==typeof s&&this.kl.has(s)||console.warn(this.u+'The "'+s+'" Hive tech is not enabled on this plugin')}else n=this.Rl;else console.warn(this.u+"hiveTechOrder value not accepted. It must be an array of strings"),n=this.Rl;t.hiveTechOrder=n},t.prototype.p=function(t){var e=this;this.m().notice(this.u+"resolving "+t),this.Kl(t);var i=o.defer(),r=this.Gl().values();0==r.length&&i.reject(u.sr(t,I.sh));var n,s,a=!1,c=!1,h=0,p=null;return u.Xi(function(){return!a&&!c&&h<r.length&&!n},function(){var i=r[h++];i.zl();var u;return u=i.Wl()&&!s?e.$l(t):o.resolve(null),u.then(function(r){null!=r&&(s=r);var n=i.Yl();return i.initSession(t,s).timeout(n,"["+i.Ai()+"] Error: initialization timed out after "+n+"ms").then(function(t){p=t,e.Xl(p,i),a=!0,!i.Wl()&&s&&s.Qn.reset(),e.m().notice(e.u+"initializing Session:["+p.id+"] Ticket:"+p.ticket.toString()+" HiveTech:["+p.tech.Ai()+"]"),o.resolve(!0)},function(r){r instanceof Error&&(r=new k(C.Sh,r.message),i.Zl(r)),r.ticketUrl=t,c=!i.onError(r),e.m().debug(e.u+"tech "+i.Ai()+": "+r.message),o.resolve(!0)})},function(t){n=t,o.resolve(!0)})}).then(function(){n?i.reject(u.sr(t,I.ph,n)):c?i.reject(u.sr(t,I.hh)):a?i.resolve(p):i.reject(u.sr(t,I.sh))})["catch"](function(e){w.ErrorMonitor.Wi()._h(e),i.reject(u.sr(t,I.oh,e.toString()))}).done(),i.vt},t.prototype.$l=function(t){var e=this;return m.Hive.Reporting().initSession(t,!1).then(function(i){return e.m().debug(e.u+"verified ticket "+t),e.hn(i),i})["catch"](function(t){return o.reject("Ticket not verified, error: "+t.message)})},t.prototype.Gl=function(){var t=JSON.parse(JSON.stringify(this.options().hiveTechOrder)),e=new n;for(var i in t)this.kl.has(t[i])&&e.set(t[i],this.kl.get(t[i]));return e},t.prototype.Kl=function(t){var e=w.ErrorMonitor.Wi();try{var i=new T.ap;i.Kh(t),i.bn()&&i.En()&&i.es()?e.setTags([i.bn(),i.En(),i.es()]):e._h(this.u+" Ticket not valid, we could not resolve the triple partnerId/CustomerId/ContentId: "+i.bn()+"/"+i.En()+"/"+i.es())}catch(r){this.m().warn(this.u+" "+r.message,r),e.notify(r)}},t.prototype.hn=function(t){var i={commVersion:e.version,pluginName:this.T(),pluginVersion:this.I(),playerTech:this.ht(),playerVersion:this.q(),telemetryId:this.td()};t.Qn.hn(i)},t.prototype.v=function(){window.HiveRequest=XMLHttpRequest,u.HiveRequestFactory.clear(),m.Hive.Reporting().close()},t.prototype.ed=function(t){this.Pl&&this.Pl.tech?(t.sessionId=this.Pl.id,this.Pl.tech.wn(this.Pl,t)):this.Cl.push(t)},t.prototype.rd=function(){var t=this.Cl;return this.Cl=new Array,t},t.prototype.Ml=function(){var t=this,e=window;e.addEventListener?e.addEventListener("beforeunload",function(){t.nd(!0)},!1):e.attachEvent("onbeforeunload",function(){t.nd(!0)})},t.prototype.h=function(t){this.nd(t),this.Pl=null,this.Ol=new Array,this.Al=0,this.Nl=0,this.od()},t.prototype.Xl=function(t,e){t.tech=e,this.Ol.push(t)},t.prototype.R=function(t){if(null==this.Pl){for(var e=t?t:this.it(),i=0;i<this.Ol.length;i++){var r=this.Ol[i];if(r.st(e))return this.Pl=r,this.Pl.Ri?this.Pl.Ri._o.sd(this.Pl.ticket):this.ad(),this.Ol=new Array,this.Pl.tech.onActiveSession(this.Pl),this.m().notice(this.u+"activating Session:["+this.Pl.id+"] Ticket:"+this.Pl.ticket.toString()+" HiveTech:["+this.Pl.tech.Ai()+"]"),this.hd(),!0}this.m().warn(this.u+"Closing sessions - the active stream doesn't match any initialized sessions"),this.m().warn(this.u+"Active:"+e+" - initialized: "+this.Ol.length),this.h()}return!1},t.prototype.C=function(){if(this.Pl)return this.Pl.g()},t.prototype.ad=function(){var t=!1;this.Ol.forEach(function(e){e.Ri&&(t=!0)}),t&&m.Hive.Reporting().close()},t.prototype.pd=function(){if(null!=this.Pl){if(this.Pl.st(this.it()))return!0;this.m().warn(this.u+"Session src mismatch: "+this.it()+" != "+this.Pl.manifest),this.h()}return!1},t.prototype.nd=function(t){if(null!=this.Pl)this.m().notice(this.u+"Stopping session ["+this.Pl.id+"]"),this.Pl.close(t);else if(this.Ol.length>0){var e=this.Ol[0];this.m().notice(this.u+"Attempt to stopping session ["+e.id+"]"),e.close(t)}},t.prototype.hd=function(){var t=this;null==this.ud&&(this.ud=setInterval(function(){t.ld()},this.options().feedbackPeriod),this.ld())},t.prototype.od=function(){clearInterval(this.ud),this.ud=null},t.prototype.ld=function(){var t=this;if(this.pd()){if(!this.st())return void this.h();var e=new u.Fi;e.lr=this.getCurrentTime(),e.dr=this.nt(),e.gr=this.Al,e.width=this.ot().width,e.height=this.ot().height,e.dd=this.isFullscreen(),this.Pl.ki(this.Vl.hr(e)),this.Pl.tech.fd(this.Pl,e).fail(function(e){t.m().warn(t.u+"stats handling failed",e),t.od()})}},t.prototype.gd=function(){var t=this;try{u.Yi.Wi(this.m()).$i(function(e){var i=t.vd();i&&!i.Oi()&&(t._(e?d.F.B.jr:d.F.B.HIDDEN),t.m().debug(e?"visible":"hidden"))})}catch(e){w.ErrorMonitor.Wi()._h("error setting up the visibilityChange listener",{error:e})}},t.prototype.k=function(t){this.pd()&&this.Nl<=0&&(this.Nl=Date.now(),(void 0==t||t)&&this._(d.F.B.Lr))},t.prototype.G=function(){var t=0==this.Al;if(this.Nl>0){var e=Date.now()-this.Nl;return this.Al+=e,this.m().debug(this.u+"reporting new buffering event of "+e),this.Nl=0,t&&this.ld(),!0}return!1},t.prototype.onError=function(t,e,i){void 0===i&&(i=!0),this._(d.F.B.ERROR,{code:-1,"player-code":t}),i&&this.h()},t.prototype._=function(t,e){var i=this,r=this.vd();null==r||r!=this.Pl&&r.tech.Ai()===E[E.HiveJava]||r.tech.yd(r,t,e).fail(function(t){i.m().warn(i.u+"error in forwarding player event to tech",t)})},t.prototype.vd=function(){return this.Pl?this.Pl:this.Ol&&this.Ol.length>0?this.Ol[0]:void 0},t.prototype.md=function(){this.xl=0},t.prototype.wd=function(t,e){this.md();var i=7,r=6;this.xl+=t<<4*i,e&&0===t&&(this.xl+=1<<4*(r-E[e.Ai()])),t>0&&w.ErrorMonitor.Wi()._h(this.u+"Status Code Error: "+R[t])},t.prototype.Ph=function(){return this.xl},t.prototype.td=function(){return this.options().telemetryId},t}();t.Plugin=r}(P=e.pt||(e.pt={})),s.Framework.Qe(new f.Td),s.Framework.Ge("peer0",new v.Sd),s.Framework.ze("peer0"),window.HiveRequestFactory=u.HiveRequestFactory},function(t,e,i){"use strict";var r=i(45),n=i(7),o=function(){function t(t){this.readyState=3,this.status=0,t&&(this.sessionId=t)}return t.Lh=function(e){t.m=e},t.register=function(e,i){t.bd[e]=i},t.prototype.Ed=function(e){this.sessionId||(this.sessionId=t.bd[e])},t.prototype.open=function(t,e,i){void 0===i&&(i=!1),this.method=t,this.url=e,this.Id=i},t.prototype.getAllResponseHeaders=function(){return this.Rd},t.prototype.getResponseHeader=function(t){var e=this.getAllResponseHeaders();if(e){var i=[],r=e.split("\n");return r.forEach(function(t){var e=t.split(":");i[e[0]]=e[1]}),i[t]}},t.prototype.send=function(){if(t.m&&t.m.debug(this.method+" "+this.url),!this.sessionId){var e=Object.keys(t.bd);e.length>0&&(this.sessionId=t.bd[e[0]])}var i=this,o=new XMLHttpRequest;0===this.url.indexOf("//")&&(this.url=location.protocol+this.url);var s=n.rr(r.Cd.kd,r.Cd.To,r.Cd.Od,this.sessionId,encodeURIComponent(this.url));o.open("GET",s),this.responseType&&(o.responseType=this.responseType),o.onreadystatechange=function(){},o.onload=function(){if(4===o.readyState)try{i.Rd=o.getAllResponseHeaders(),i.response=o.response;var e=o.response.byteLength;"arraybuffer"!==o.responseType&&(i.responseText=o.response),i.readyState=4,i.status=o.status,i.onprogress({lengthComputable:!0,loaded:e,total:e}),i.onreadystatechange({type:"loadend",target:i,currentTarget:i,bubbles:!1,cancelable:!1,lengthComputable:!1,loaded:e,total:e}),i.onload(),i.onloadend({type:"loadend",target:i,currentTarget:i,bubbles:!1,cancelable:!1,lengthComputable:!1,loaded:e,total:0})}catch(r){t.m&&t.m.warn(r)}},o.onerror=function(e){t.m&&t.m.warn("onError: "+JSON.stringify(e)),i.onerror(e)},o.onabort=function(e){t.m&&t.m.warn("onAbort: "+JSON.stringify(e))},o.send()},t.prototype.abort=function(){},t.prototype.onload=function(){},t.prototype.onloadend=function(t){},t.prototype.onerror=function(t){},t.prototype.onprogress=function(t){},t.prototype.onreadystatechange=function(t){},t}();o.bd={},e.Ti=o},function(t,e,i){"use strict";var r=i(2),n=i(5),o=function(){function t(){}return t.Reporting=function(){return t.app="STATS",r.Framework.resolve(n.gi.ui)},t.Xo=function(){return this.app},t.getVersion=function(){return this.version},t}();o.version="3.2.0",e.Hive=o},function(t,e,i){var r;!function(n,o){"use strict";var s="0.7.12",a="",c="?",h="function",p="undefined",u="object",l="string",d="major",f="model",g="name",v="type",y="vendor",m="version",w="architecture",T="console",S="mobile",b="tablet",E="smarttv",I="wearable",R="embedded",k={extend:function(t,e){var i={};for(var r in t)e[r]&&e[r].length%2===0?i[r]=e[r].concat(t[r]):i[r]=t[r];return i},has:function(t,e){return"string"==typeof t&&e.toLowerCase().indexOf(t.toLowerCase())!==-1},Pd:function(t){return t.toLowerCase()},Ad:function(t){return typeof t===l?t.replace(/[^\d\.]/g,"").split(".")[0]:o},trim:function(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},C={Nd:function(){for(var t,e,i,r,n,s,a,c=0,l=arguments;c<l.length&&!s;){var d=l[c],f=l[c+1];if(typeof t===p){t={};for(r in f)f.hasOwnProperty(r)&&(n=f[r],typeof n===u?t[n[0]]=o:t[n]=o)}for(e=i=0;e<d.length&&!s;)if(s=d[e++].exec(this.xd()))for(r=0;r<f.length;r++)a=s[++i],n=f[r],typeof n===u&&n.length>0?2==n.length?typeof n[1]==h?t[n[0]]=n[1].call(this,a):t[n[0]]=n[1]:3==n.length?typeof n[1]!==h||n[1].exec&&n[1].test?t[n[0]]=a?a.replace(n[1],n[2]):o:t[n[0]]=a?n[1].call(this,a,n[2]):o:4==n.length&&(t[n[0]]=a?n[3].call(this,a.replace(n[1],n[2])):o):t[n]=a?a:o;c+=2}return t},ac:function(t,e){for(var i in e)if(typeof e[i]===u&&e[i].length>0){for(var r=0;r<e[i].length;r++)if(k.has(e[i][r],t))return i===c?o:i}else if(k.has(e[i],t))return i===c?o:i;return t}},O={ti:{Bd:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419",Kp:"/"}}},Fd:{_d:{Dd:{Hd:["SD","KF"]}},Ld:{Dd:{Md:"7373KT"},vendor:{jd:"APA",Ud:"Sprint"}}},os:{Vd:{version:{Qd:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2000:"NT 5.0",qd:["NT 5.1","NT 5.2"],Jd:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],Kd:"ARM"}}}},P={ti:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[g,m],[/(opios)[\/\s]+([\w\.]+)/i],[[g,"Opera Mini"],m],[/\s(opr)\/([\w\.]+)/i],[[g,"Opera"],m],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs)\/([\w\.-]+)/i],[g,m],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[g,"IE"],m],[/(edge)\/((\d+)?[\w\.]+)/i],[g,m],[/(yabrowser)\/([\w\.]+)/i],[[g,"Yandex"],m],[/(comodo_dragon)\/([\w\.]+)/i],[[g,/_/g," "],m],[/(micromessenger)\/([\w\.]+)/i],[[g,"WeChat"],m],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[m,[g,"MIUI Browser"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[g,/(.+)/,"$1 WebView"],m],[/android.+samsungbrowser\/([\w\.]+)/i,/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[m,[g,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i,/(qqbrowser)[\/\s]?([\w\.]+)/i],[g,m],[/(uc\s?browser)[\/\s]?([\w\.]+)/i,/ucweb.+(ucbrowser)[\/\s]?([\w\.]+)/i,/juc.+(ucweb)[\/\s]?([\w\.]+)/i],[[g,"UCBrowser"],m],[/(dolfin)\/([\w\.]+)/i],[[g,"Dolphin"],m],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[g,"Chrome"],m],[/;fbav\/([\w\.]+);/i],[m,[g,"Facebook"]],[/fxios\/([\w\.-]+)/i],[m,[g,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[m,[g,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[m,g],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[g,[m,C.ac,O.ti.Bd.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[g,m],[/(navigator|netscape)\/([\w\.-]+)/i],[[g,"Netscape"],m],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/([\w\.-]+)/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]+)*/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[g,m]],Gd:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[w,"amd64"]],[/(ia32(?=;))/i],[[w,k.Pd]],[/((?:i[346]|x)86)[;\)]/i],[[w,"ia32"]],[/windows\s(ce|mobile);\sppc;/i],[[w,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[w,/ower/,"",k.Pd]],[/(sun4\w)[;\)]/i],[[w,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[[w,k.Pd]]],Fd:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[f,y,[v,b]],[/applecoremedia\/[\w\.]+ \((ipad)/],[f,[y,"Apple"],[v,b]],[/(apple\s{0,1}tv)/i],[[f,"Apple TV"],[y,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[y,f,[v,b]],[/(kf[A-z]+)\sbuild\/[\w\.]+.*silk\//i],[f,[y,"Amazon"],[v,b]],[/(sd|kf)[0349hijorstuw]+\sbuild\/[\w\.]+.*silk\//i],[[f,C.ac,O.Fd._d.Dd],[y,"Amazon"],[v,S]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[f,y,[v,S]],[/\((ip[honed|\s\w*]+);/i],[f,[y,"Apple"],[v,S]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|huawei|meizu|motorola|polytron)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[y,f,[v,S]],[/\(bb10;\s(\w+)/i],[f,[y,"BlackBerry"],[v,S]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone)/i],[f,[y,"Asus"],[v,b]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[y,"Sony"],[f,"Xperia Tablet"],[v,b]],[/(?:sony)?(?:(?:(?:c|d)\d{4})|(?:so[-l].+))\sbuild\//i],[[y,"Sony"],[f,"Xperia Phone"],[v,S]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[y,f,[v,T]],[/android.+;\s(shield)\sbuild/i],[f,[y,"Nvidia"],[v,T]],[/(playstation\s[34portablevi]+)/i],[f,[y,"Sony"],[v,T]],[/(sprint\s(\w+))/i],[[y,C.ac,O.Fd.Ld.vendor],[f,C.ac,O.Fd.Ld.Dd],[v,S]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[y,f,[v,b]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|huawei|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],[y,[f,/_/g," "],[v,S]],[/(nexus\s9)/i],[f,[y,"HTC"],[v,b]],[/(nexus\s6p)/i],[f,[y,"Huawei"],[v,S]],[/(microsoft);\s(lumia[\s\w]+)/i],[y,f,[v,S]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[f,[y,"Microsoft"],[v,T]],[/(kin\.[onetw]{3})/i],[[f,/\./g," "],[y,"Microsoft"],[v,S]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w+)*/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[f,[y,"Motorola"],[v,S]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[f,[y,"Motorola"],[v,b]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[y,k.trim],[f,k.trim],[v,E]],[/hbbtv.+maple;(\d+)/i],[[f,/^/,"SmartTV"],[y,"Samsung"],[v,E]],[/\(dtv[\);].+(aquos)/i],[f,[y,"Sharp"],[v,E]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[y,"Samsung"],f,[v,b]],[/smart-tv.+(samsung)/i],[y,[v,E],f],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[[y,"Samsung"],f,[v,S]],[/sie-(\w+)*/i],[f,[y,"Siemens"],[v,S]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[[y,"Nokia"],f,[v,S]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],[f,[y,"Acer"],[v,b]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[y,"LG"],f,[v,b]],[/(lg) netcast\.tv/i],[y,f,[v,E]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w+)*/i],[f,[y,"LG"],[v,S]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[f,[y,"Lenovo"],[v,b]],[/linux;.+((jolla));/i],[y,f,[v,S]],[/((pebble))app\/[\d\.]+\s/i],[y,f,[v,I]],[/android.+;\s(glass)\s\d/i],[f,[y,"Google"],[v,I]],[/android.+(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus|note lte)?[\s_]*(?:\d\w)?)\s+build/i],[[f,/_/g," "],[y,"Xiaomi"],[v,S]],[/android.+a000(1)\s+build/i],[f,[y,"OnePlus"],[v,S]],[/\s(tablet)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[v,k.Pd],y,f]],zd:[[/windows.+\sedge\/([\w\.]+)/i],[m,[g,"EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[g,m],[/rv\:([\w\.]+).*(gecko)/i],[m,g]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[g,m],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s]+\w)*/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[g,[m,C.ac,O.os.Vd.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[g,"Windows"],[m,C.ac,O.os.Vd.version]],[/\((bb)(10);/i],[[g,"BlackBerry"],m],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],[g,m],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[g,"Symbian"],m],[/\((series40);/i],[g],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[g,"Firefox OS"],m],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[g,m],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[g,"Chromium OS"],m],[/(sunos)\s?([\w\.]+\d)*/i],[[g,"Solaris"],m],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[g,m],[/(haiku)\s(\w+)/i],[g,m],[/(ip[honead]+)(?:.*os\s([\w]+)*\slike\smac|;\sopera)/i],[[g,"iOS"],[m,/_/g,"."]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i],[[g,"Mac OS"],[m,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]+)*/i],[g,m]]},A=function(t,e){if(!(this instanceof A))return new A(t,e).Wd();var i=t||(n&&n.navigator&&n.navigator.userAgent?n.navigator.userAgent:a),r=e?k.extend(P,e):P;return this.$d=function(){var t=C.Nd.apply(this,r.ti);return t.Ad=k.Ad(t.version),t},this.Yd=function(){return C.Nd.apply(this,r.Gd)},this.Xd=function(){return C.Nd.apply(this,r.Fd)},this.Zd=function(){return C.Nd.apply(this,r.zd)},this.Rn=function(){return C.Nd.apply(this,r.os)},this.Wd=function(){return{tf:this.xd(),ti:this.$d(),zd:this.Zd(),os:this.Rn(),Fd:this.Xd(),Gd:this.Yd()}},this.xd=function(){return i},this.In=function(t){return i=t,this},this};A.VERSION=s,A.ef={"if":g,rf:d,VERSION:m},A.nf={sf:w},A.af={cf:f,VENDOR:y,hf:v,pf:T,uf:S,lf:E,df:b,ff:I,gf:R},A.vf={"if":g,VERSION:m},A.yf={"if":g,VERSION:m},typeof e!==p?(typeof t!==p&&t.t&&(e=t.t=A),e.Cr=A):"function"===h&&i(64)?(r=function(){return A}.call(e,i,e,t),!(r!==o&&(t.t=r))):n.Cr=A;var N=n.jQuery||n.Zepto;if(typeof N!==p){var x=new A;N.tf=x.Wd(),N.tf.get=function(){return x.xd()},N.tf.set=function(t){x.In(t);var e=x.Wd();for(var i in e)N.tf[i]=e[i]}}}("object"==typeof window?window:this)},function(t,e){Services={1:"REMOTE_EXECUTOR",mf:1,2:"PEER_FORWARDER",wf:2,3:"PEER_INDEX",Tf:3,4:"PEER_BROADCAST",Sf:4,5:"PEER_FILTER",bf:5,6:"PEER_LOGGING",Ef:6,7:"HIVEJS_TRACKER",If:7,8:"PEER_SYSTEM",Rf:8,9:"HIVEJS_SNAPSHOTS",to:9,10:"HIVEJS_TICKETS",kf:10,11:"HIVEJS_KEEPALIVE",Cf:11,12:"HIVEJS_FORWARDING",Of:12}},function(t,e,i){var r=i(16);StreamType={1:"LIVE",LIVE:1,2:"VOD",Pf:2},StreamProtocol={1:"DASH",rt:1,2:"HDS",Af:2,3:"HLS",Y:3,4:"SS",Nf:4},ClientType={1:"JAVA",xf:1,2:"STATS_ONLY",Bf:2,3:"JS_DIRECT",Ff:3,4:"JS_PROXY",_f:4},EventId=function(t){this.partnerId=null,this.customerId=null,this.contentId=null,this.tags=null,t&&(void 0!==t.partnerId&&(this.partnerId=t.partnerId),void 0!==t.customerId&&(this.customerId=t.customerId),void 0!==t.contentId&&(this.contentId=t.contentId),void 0!==t.tags&&(this.tags=t.tags))},EventId.prototype={},EventId.prototype.read=function(t){for(t.Hc();;){var e=t.sa(),i=(e.Bc,e.aa),n=e.ca;if(i==r.bs.Es)break;switch(n){case 1:i==r.bs.As?this.partnerId=t.ha().value:t.pa(i);break;case 2:i==r.bs.As?this.customerId=t.ha().value:t.pa(i);break;case 3:i==r.bs.As?this.contentId=t.ha().value:t.pa(i);break;case 4:if(i==r.bs._s){var o,s=0;this.tags=[];var a=0;o=t.Vc(),a=o.Qc,s=o.size;for(var c=0;c<s;++c){var h=null;h=t.ha().value,this.tags.push(h)}t.qc()}else t.pa(i);break;default:t.pa(i)}t.la()}t.da()},EventId.prototype.write=function(t){if(t.fa("EventId"),null!==this.partnerId&&void 0!==this.partnerId&&(t.ga("partnerId",r.bs.As,1),t.va(this.partnerId),t.ya()),null!==this.customerId&&void 0!==this.customerId&&(t.ga("customerId",r.bs.As,2),t.va(this.customerId),t.ya()),null!==this.contentId&&void 0!==this.contentId&&(t.ga("contentId",r.bs.As,3),t.va(this.contentId),t.ya()),null!==this.tags&&void 0!==this.tags){t.ga("tags",r.bs._s,4),t.Tc(r.bs.As,this.tags.length);for(var e in this.tags)this.tags.hasOwnProperty(e)&&(e=this.tags[e],t.va(e));t.Sc(),t.ya()}t.wa(),t.Ta()},SnapshotInfo=function(t){this.timestamp=null,this.apiServer=null,this.clientIp=null,t&&(void 0!==t.timestamp&&(this.timestamp=t.timestamp),void 0!==t.apiServer&&(this.apiServer=t.apiServer),void 0!==t.clientIp&&(this.clientIp=t.clientIp))},SnapshotInfo.prototype={},SnapshotInfo.prototype.read=function(t){for(t.Hc();;){var e=t.sa(),i=(e.Bc,e.aa),n=e.ca;if(i==r.bs.Es)break;switch(n){case 1:i==r.bs.Ps?this.timestamp=t.$c().value:t.pa(i);break;case 2:i==r.bs.As?this.apiServer=t.ha().value:t.pa(i);break;case 3:i==r.bs.As?this.clientIp=t.ha().value:t.pa(i);break;default:t.pa(i)}t.la()}t.da()},SnapshotInfo.prototype.write=function(t){t.fa("SnapshotInfo"),null!==this.timestamp&&void 0!==this.timestamp&&(t.ga("timestamp",r.bs.Ps,1),t.Cc(this.timestamp),t.ya()),null!==this.apiServer&&void 0!==this.apiServer&&(t.ga("apiServer",r.bs.As,2),t.va(this.apiServer),t.ya()),null!==this.clientIp&&void 0!==this.clientIp&&(t.ga("clientIp",r.bs.As,3),t.va(this.clientIp),t.ya()),t.wa(),t.Ta()},InetAddress=function(t){this.address=null,this.port=null,t&&(void 0!==t.address&&(this.address=t.address),void 0!==t.port&&(this.port=t.port))},InetAddress.prototype={},InetAddress.prototype.read=function(t){for(t.Hc();;){var e=t.sa(),i=(e.Bc,e.aa),n=e.ca;if(i==r.bs.Es)break;switch(n){case 1:i==r.bs.As?this.address=t.Xc().value:t.pa(i);break;case 2:i==r.bs.Os?this.port=t.ua().value:t.pa(i);break;default:t.pa(i)}t.la()}t.da()},InetAddress.prototype.write=function(t){t.fa("InetAddress"),null!==this.address&&void 0!==this.address&&(t.ga("address",r.bs.As,1),t.Pc(this.address),t.ya()),null!==this.port&&void 0!==this.port&&(t.ga("port",r.bs.Os,2),t.ma(this.port),t.ya()),t.wa(),t.Ta()}},function(t,e,i){var r=i(16);"undefined"==typeof hive&&(hive={}),"undefined"==typeof hive.snapshots&&(hive.snapshots={}),hive.snapshots.Traffic=function(t){this.reqN=null,this.respFallbackN=null,this.respFallbackErrN=null,this.respP2pN=null,this.reqOtherN=null,this.respFallbackOtherN=null,this.respFallbackOthertErrN=null,this.srcReqN=null,this.srcRespN=null,this.srcRespErrN=null,this.srcReqQt=null,this.srcRespQt=null,this.srcOverQt=null,this.srcOtherReqN=null,this.srcOtherRespN=null,this.srcOtherRespErrN=null,this.srcOtherReqQt=null,this.srcOtherRespQt=null,this.srcOtherOverQt=null,this.p2pSubReqN=null,this.p2pSubRespN=null,this.p2pSubRespPartN=null,this.p2pSubRespErrN=null,this.p2pSubRespExpN=null,this.p2pSubReqQt=null,this.p2pSubRespQt=null,this.p2pDirectQt=null,this.p2pRelayQt=null,this.p2pNatQt=null,this.p2pUdpbQt=null,this.fallAgentRespN=null,this.fallAgentPredHitN=null,this.fallAgentFailedRespN=null,this.fallAgentPredMissN=null,this.fallAgentPredPartialHitN=null,this.fallAgenTrafficSuccessQt=null,this.fallAgenTrafficFailureQt=null,this.p2pAgentPredHitN=null,this.p2pAgentPredMissN=null,this.p2pAgentPredPartialHitN=null,this.p2pAgenTrafficSuccessQt=null,this.p2pAgenTrafficFailureQt=null,this.respP2pOtherN=null,this.lCacheRespN=null,this.lCacheRespQt=null,this.p2pOutSiteLowPrio=null,t&&(void 0!==t.reqN&&(this.reqN=t.reqN),void 0!==t.respFallbackN&&(this.respFallbackN=t.respFallbackN),void 0!==t.respFallbackErrN&&(this.respFallbackErrN=t.respFallbackErrN),void 0!==t.respP2pN&&(this.respP2pN=t.respP2pN),void 0!==t.reqOtherN&&(this.reqOtherN=t.reqOtherN),void 0!==t.respFallbackOtherN&&(this.respFallbackOtherN=t.respFallbackOtherN),void 0!==t.respFallbackOthertErrN&&(this.respFallbackOthertErrN=t.respFallbackOthertErrN),void 0!==t.srcReqN&&(this.srcReqN=t.srcReqN),void 0!==t.srcRespN&&(this.srcRespN=t.srcRespN),void 0!==t.srcRespErrN&&(this.srcRespErrN=t.srcRespErrN),void 0!==t.srcReqQt&&(this.srcReqQt=t.srcReqQt),void 0!==t.srcRespQt&&(this.srcRespQt=t.srcRespQt),void 0!==t.srcOverQt&&(this.srcOverQt=t.srcOverQt),void 0!==t.srcOtherReqN&&(this.srcOtherReqN=t.srcOtherReqN),void 0!==t.srcOtherRespN&&(this.srcOtherRespN=t.srcOtherRespN),void 0!==t.srcOtherRespErrN&&(this.srcOtherRespErrN=t.srcOtherRespErrN),void 0!==t.srcOtherReqQt&&(this.srcOtherReqQt=t.srcOtherReqQt),void 0!==t.srcOtherRespQt&&(this.srcOtherRespQt=t.srcOtherRespQt),void 0!==t.srcOtherOverQt&&(this.srcOtherOverQt=t.srcOtherOverQt),
void 0!==t.p2pSubReqN&&(this.p2pSubReqN=t.p2pSubReqN),void 0!==t.p2pSubRespN&&(this.p2pSubRespN=t.p2pSubRespN),void 0!==t.p2pSubRespPartN&&(this.p2pSubRespPartN=t.p2pSubRespPartN),void 0!==t.p2pSubRespErrN&&(this.p2pSubRespErrN=t.p2pSubRespErrN),void 0!==t.p2pSubRespExpN&&(this.p2pSubRespExpN=t.p2pSubRespExpN),void 0!==t.p2pSubReqQt&&(this.p2pSubReqQt=t.p2pSubReqQt),void 0!==t.p2pSubRespQt&&(this.p2pSubRespQt=t.p2pSubRespQt),void 0!==t.p2pDirectQt&&(this.p2pDirectQt=t.p2pDirectQt),void 0!==t.p2pRelayQt&&(this.p2pRelayQt=t.p2pRelayQt),void 0!==t.p2pNatQt&&(this.p2pNatQt=t.p2pNatQt),void 0!==t.p2pUdpbQt&&(this.p2pUdpbQt=t.p2pUdpbQt),void 0!==t.fallAgentRespN&&(this.fallAgentRespN=t.fallAgentRespN),void 0!==t.fallAgentPredHitN&&(this.fallAgentPredHitN=t.fallAgentPredHitN),void 0!==t.fallAgentFailedRespN&&(this.fallAgentFailedRespN=t.fallAgentFailedRespN),void 0!==t.fallAgentPredMissN&&(this.fallAgentPredMissN=t.fallAgentPredMissN),void 0!==t.fallAgentPredPartialHitN&&(this.fallAgentPredPartialHitN=t.fallAgentPredPartialHitN),void 0!==t.fallAgenTrafficSuccessQt&&(this.fallAgenTrafficSuccessQt=t.fallAgenTrafficSuccessQt),void 0!==t.fallAgenTrafficFailureQt&&(this.fallAgenTrafficFailureQt=t.fallAgenTrafficFailureQt),void 0!==t.p2pAgentPredHitN&&(this.p2pAgentPredHitN=t.p2pAgentPredHitN),void 0!==t.p2pAgentPredMissN&&(this.p2pAgentPredMissN=t.p2pAgentPredMissN),void 0!==t.p2pAgentPredPartialHitN&&(this.p2pAgentPredPartialHitN=t.p2pAgentPredPartialHitN),void 0!==t.p2pAgenTrafficSuccessQt&&(this.p2pAgenTrafficSuccessQt=t.p2pAgenTrafficSuccessQt),void 0!==t.p2pAgenTrafficFailureQt&&(this.p2pAgenTrafficFailureQt=t.p2pAgenTrafficFailureQt),void 0!==t.respP2pOtherN&&(this.respP2pOtherN=t.respP2pOtherN),void 0!==t.lCacheRespN&&(this.lCacheRespN=t.lCacheRespN),void 0!==t.lCacheRespQt&&(this.lCacheRespQt=t.lCacheRespQt),void 0!==t.p2pOutSiteLowPrio&&(this.p2pOutSiteLowPrio=t.p2pOutSiteLowPrio))},hive.snapshots.Traffic.prototype={},hive.snapshots.Traffic.prototype.read=function(t){for(t.Hc();;){var e=t.sa(),i=(e.Bc,e.aa),n=e.ca;if(i==r.bs.Es)break;switch(n){case 1:i==r.bs.Os?this.reqN=t.ua().value:t.pa(i);break;case 2:i==r.bs.ks?this.respFallbackN=t.Yc().value:t.pa(i);break;case 3:i==r.bs.Os?this.respFallbackErrN=t.ua().value:t.pa(i);break;case 4:i==r.bs.ks?this.respP2pN=t.Yc().value:t.pa(i);break;case 5:i==r.bs.Os?this.reqOtherN=t.ua().value:t.pa(i);break;case 6:i==r.bs.Os?this.respFallbackOtherN=t.ua().value:t.pa(i);break;case 7:i==r.bs.Os?this.respFallbackOthertErrN=t.ua().value:t.pa(i);break;case 8:i==r.bs.Os?this.srcReqN=t.ua().value:t.pa(i);break;case 9:i==r.bs.Os?this.srcRespN=t.ua().value:t.pa(i);break;case 10:i==r.bs.Os?this.srcRespErrN=t.ua().value:t.pa(i);break;case 11:i==r.bs.Ps?this.srcReqQt=t.$c().value:t.pa(i);break;case 12:i==r.bs.Ps?this.srcRespQt=t.$c().value:t.pa(i);break;case 13:i==r.bs.Ps?this.srcOverQt=t.$c().value:t.pa(i);break;case 14:i==r.bs.Os?this.srcOtherReqN=t.ua().value:t.pa(i);break;case 15:i==r.bs.Os?this.srcOtherRespN=t.ua().value:t.pa(i);break;case 16:i==r.bs.Os?this.srcOtherRespErrN=t.ua().value:t.pa(i);break;case 17:i==r.bs.Ps?this.srcOtherReqQt=t.$c().value:t.pa(i);break;case 18:i==r.bs.Ps?this.srcOtherRespQt=t.$c().value:t.pa(i);break;case 19:i==r.bs.Ps?this.srcOtherOverQt=t.$c().value:t.pa(i);break;case 20:i==r.bs.Os?this.p2pSubReqN=t.ua().value:t.pa(i);break;case 21:i==r.bs.Os?this.p2pSubRespN=t.ua().value:t.pa(i);break;case 22:i==r.bs.ks?this.p2pSubRespPartN=t.Yc().value:t.pa(i);break;case 23:i==r.bs.ks?this.p2pSubRespErrN=t.Yc().value:t.pa(i);break;case 24:i==r.bs.Os?this.p2pSubRespExpN=t.ua().value:t.pa(i);break;case 25:i==r.bs.Ps?this.p2pSubReqQt=t.$c().value:t.pa(i);break;case 26:i==r.bs.Ps?this.p2pSubRespQt=t.$c().value:t.pa(i);break;case 27:i==r.bs.Ps?this.p2pDirectQt=t.$c().value:t.pa(i);break;case 28:i==r.bs.Ps?this.p2pRelayQt=t.$c().value:t.pa(i);break;case 29:i==r.bs.Ps?this.p2pNatQt=t.$c().value:t.pa(i);break;case 30:i==r.bs.Ps?this.p2pUdpbQt=t.$c().value:t.pa(i);break;case 31:i==r.bs.Os?this.fallAgentRespN=t.ua().value:t.pa(i);break;case 32:i==r.bs.Os?this.fallAgentPredHitN=t.ua().value:t.pa(i);break;case 33:i==r.bs.Os?this.fallAgentFailedRespN=t.ua().value:t.pa(i);break;case 34:i==r.bs.Os?this.fallAgentPredMissN=t.ua().value:t.pa(i);break;case 35:i==r.bs.Os?this.fallAgentPredPartialHitN=t.ua().value:t.pa(i);break;case 36:i==r.bs.Ps?this.fallAgenTrafficSuccessQt=t.$c().value:t.pa(i);break;case 37:i==r.bs.Ps?this.fallAgenTrafficFailureQt=t.$c().value:t.pa(i);break;case 38:i==r.bs.Os?this.p2pAgentPredHitN=t.ua().value:t.pa(i);break;case 39:i==r.bs.Os?this.p2pAgentPredMissN=t.ua().value:t.pa(i);break;case 40:i==r.bs.Os?this.p2pAgentPredPartialHitN=t.ua().value:t.pa(i);break;case 41:i==r.bs.Ps?this.p2pAgenTrafficSuccessQt=t.$c().value:t.pa(i);break;case 42:i==r.bs.Ps?this.p2pAgenTrafficFailureQt=t.$c().value:t.pa(i);break;case 43:i==r.bs.Os?this.respP2pOtherN=t.ua().value:t.pa(i);break;case 44:i==r.bs.Os?this.lCacheRespN=t.ua().value:t.pa(i);break;case 45:i==r.bs.Ps?this.lCacheRespQt=t.$c().value:t.pa(i);break;case 46:i==r.bs.Ps?this.p2pOutSiteLowPrio=t.$c().value:t.pa(i);break;default:t.pa(i)}t.la()}t.da()},hive.snapshots.Traffic.prototype.write=function(t){t.fa("Traffic"),null!==this.reqN&&void 0!==this.reqN&&(t.ga("reqN",r.bs.Os,1),t.ma(this.reqN),t.ya()),null!==this.respFallbackN&&void 0!==this.respFallbackN&&(t.ga("respFallbackN",r.bs.ks,2),t.Oc(this.respFallbackN),t.ya()),null!==this.respFallbackErrN&&void 0!==this.respFallbackErrN&&(t.ga("respFallbackErrN",r.bs.Os,3),t.ma(this.respFallbackErrN),t.ya()),null!==this.respP2pN&&void 0!==this.respP2pN&&(t.ga("respP2pN",r.bs.ks,4),t.Oc(this.respP2pN),t.ya()),null!==this.reqOtherN&&void 0!==this.reqOtherN&&(t.ga("reqOtherN",r.bs.Os,5),t.ma(this.reqOtherN),t.ya()),null!==this.respFallbackOtherN&&void 0!==this.respFallbackOtherN&&(t.ga("respFallbackOtherN",r.bs.Os,6),t.ma(this.respFallbackOtherN),t.ya()),null!==this.respFallbackOthertErrN&&void 0!==this.respFallbackOthertErrN&&(t.ga("respFallbackOthertErrN",r.bs.Os,7),t.ma(this.respFallbackOthertErrN),t.ya()),null!==this.srcReqN&&void 0!==this.srcReqN&&(t.ga("srcReqN",r.bs.Os,8),t.ma(this.srcReqN),t.ya()),null!==this.srcRespN&&void 0!==this.srcRespN&&(t.ga("srcRespN",r.bs.Os,9),t.ma(this.srcRespN),t.ya()),null!==this.srcRespErrN&&void 0!==this.srcRespErrN&&(t.ga("srcRespErrN",r.bs.Os,10),t.ma(this.srcRespErrN),t.ya()),null!==this.srcReqQt&&void 0!==this.srcReqQt&&(t.ga("srcReqQt",r.bs.Ps,11),t.Cc(this.srcReqQt),t.ya()),null!==this.srcRespQt&&void 0!==this.srcRespQt&&(t.ga("srcRespQt",r.bs.Ps,12),t.Cc(this.srcRespQt),t.ya()),null!==this.srcOverQt&&void 0!==this.srcOverQt&&(t.ga("srcOverQt",r.bs.Ps,13),t.Cc(this.srcOverQt),t.ya()),null!==this.srcOtherReqN&&void 0!==this.srcOtherReqN&&(t.ga("srcOtherReqN",r.bs.Os,14),t.ma(this.srcOtherReqN),t.ya()),null!==this.srcOtherRespN&&void 0!==this.srcOtherRespN&&(t.ga("srcOtherRespN",r.bs.Os,15),t.ma(this.srcOtherRespN),t.ya()),null!==this.srcOtherRespErrN&&void 0!==this.srcOtherRespErrN&&(t.ga("srcOtherRespErrN",r.bs.Os,16),t.ma(this.srcOtherRespErrN),t.ya()),null!==this.srcOtherReqQt&&void 0!==this.srcOtherReqQt&&(t.ga("srcOtherReqQt",r.bs.Ps,17),t.Cc(this.srcOtherReqQt),t.ya()),null!==this.srcOtherRespQt&&void 0!==this.srcOtherRespQt&&(t.ga("srcOtherRespQt",r.bs.Ps,18),t.Cc(this.srcOtherRespQt),t.ya()),null!==this.srcOtherOverQt&&void 0!==this.srcOtherOverQt&&(t.ga("srcOtherOverQt",r.bs.Ps,19),t.Cc(this.srcOtherOverQt),t.ya()),null!==this.p2pSubReqN&&void 0!==this.p2pSubReqN&&(t.ga("p2pSubReqN",r.bs.Os,20),t.ma(this.p2pSubReqN),t.ya()),null!==this.p2pSubRespN&&void 0!==this.p2pSubRespN&&(t.ga("p2pSubRespN",r.bs.Os,21),t.ma(this.p2pSubRespN),t.ya()),null!==this.p2pSubRespPartN&&void 0!==this.p2pSubRespPartN&&(t.ga("p2pSubRespPartN",r.bs.ks,22),t.Oc(this.p2pSubRespPartN),t.ya()),null!==this.p2pSubRespErrN&&void 0!==this.p2pSubRespErrN&&(t.ga("p2pSubRespErrN",r.bs.ks,23),t.Oc(this.p2pSubRespErrN),t.ya()),null!==this.p2pSubRespExpN&&void 0!==this.p2pSubRespExpN&&(t.ga("p2pSubRespExpN",r.bs.Os,24),t.ma(this.p2pSubRespExpN),t.ya()),null!==this.p2pSubReqQt&&void 0!==this.p2pSubReqQt&&(t.ga("p2pSubReqQt",r.bs.Ps,25),t.Cc(this.p2pSubReqQt),t.ya()),null!==this.p2pSubRespQt&&void 0!==this.p2pSubRespQt&&(t.ga("p2pSubRespQt",r.bs.Ps,26),t.Cc(this.p2pSubRespQt),t.ya()),null!==this.p2pDirectQt&&void 0!==this.p2pDirectQt&&(t.ga("p2pDirectQt",r.bs.Ps,27),t.Cc(this.p2pDirectQt),t.ya()),null!==this.p2pRelayQt&&void 0!==this.p2pRelayQt&&(t.ga("p2pRelayQt",r.bs.Ps,28),t.Cc(this.p2pRelayQt),t.ya()),null!==this.p2pNatQt&&void 0!==this.p2pNatQt&&(t.ga("p2pNatQt",r.bs.Ps,29),t.Cc(this.p2pNatQt),t.ya()),null!==this.p2pUdpbQt&&void 0!==this.p2pUdpbQt&&(t.ga("p2pUdpbQt",r.bs.Ps,30),t.Cc(this.p2pUdpbQt),t.ya()),null!==this.fallAgentRespN&&void 0!==this.fallAgentRespN&&(t.ga("fallAgentRespN",r.bs.Os,31),t.ma(this.fallAgentRespN),t.ya()),null!==this.fallAgentPredHitN&&void 0!==this.fallAgentPredHitN&&(t.ga("fallAgentPredHitN",r.bs.Os,32),t.ma(this.fallAgentPredHitN),t.ya()),null!==this.fallAgentFailedRespN&&void 0!==this.fallAgentFailedRespN&&(t.ga("fallAgentFailedRespN",r.bs.Os,33),t.ma(this.fallAgentFailedRespN),t.ya()),null!==this.fallAgentPredMissN&&void 0!==this.fallAgentPredMissN&&(t.ga("fallAgentPredMissN",r.bs.Os,34),t.ma(this.fallAgentPredMissN),t.ya()),null!==this.fallAgentPredPartialHitN&&void 0!==this.fallAgentPredPartialHitN&&(t.ga("fallAgentPredPartialHitN",r.bs.Os,35),t.ma(this.fallAgentPredPartialHitN),t.ya()),null!==this.fallAgenTrafficSuccessQt&&void 0!==this.fallAgenTrafficSuccessQt&&(t.ga("fallAgenTrafficSuccessQt",r.bs.Ps,36),t.Cc(this.fallAgenTrafficSuccessQt),t.ya()),null!==this.fallAgenTrafficFailureQt&&void 0!==this.fallAgenTrafficFailureQt&&(t.ga("fallAgenTrafficFailureQt",r.bs.Ps,37),t.Cc(this.fallAgenTrafficFailureQt),t.ya()),null!==this.p2pAgentPredHitN&&void 0!==this.p2pAgentPredHitN&&(t.ga("p2pAgentPredHitN",r.bs.Os,38),t.ma(this.p2pAgentPredHitN),t.ya()),null!==this.p2pAgentPredMissN&&void 0!==this.p2pAgentPredMissN&&(t.ga("p2pAgentPredMissN",r.bs.Os,39),t.ma(this.p2pAgentPredMissN),t.ya()),null!==this.p2pAgentPredPartialHitN&&void 0!==this.p2pAgentPredPartialHitN&&(t.ga("p2pAgentPredPartialHitN",r.bs.Os,40),t.ma(this.p2pAgentPredPartialHitN),t.ya()),null!==this.p2pAgenTrafficSuccessQt&&void 0!==this.p2pAgenTrafficSuccessQt&&(t.ga("p2pAgenTrafficSuccessQt",r.bs.Ps,41),t.Cc(this.p2pAgenTrafficSuccessQt),t.ya()),null!==this.p2pAgenTrafficFailureQt&&void 0!==this.p2pAgenTrafficFailureQt&&(t.ga("p2pAgenTrafficFailureQt",r.bs.Ps,42),t.Cc(this.p2pAgenTrafficFailureQt),t.ya()),null!==this.respP2pOtherN&&void 0!==this.respP2pOtherN&&(t.ga("respP2pOtherN",r.bs.Os,43),t.ma(this.respP2pOtherN),t.ya()),null!==this.lCacheRespN&&void 0!==this.lCacheRespN&&(t.ga("lCacheRespN",r.bs.Os,44),t.ma(this.lCacheRespN),t.ya()),null!==this.lCacheRespQt&&void 0!==this.lCacheRespQt&&(t.ga("lCacheRespQt",r.bs.Ps,45),t.Cc(this.lCacheRespQt),t.ya()),null!==this.p2pOutSiteLowPrio&&void 0!==this.p2pOutSiteLowPrio&&(t.ga("p2pOutSiteLowPrio",r.bs.Ps,46),t.Cc(this.p2pOutSiteLowPrio),t.ya()),t.wa(),t.Ta()},hive.snapshots.Metrics=function(t){this.upBW=null,this.downBW=null,this.memN=null,this.prtInN=null,this.prtOutN=null,this.initVideoBufQt=null,this.videoAvgBufQt=null,this.videoBufQt=null,this.videoBufN=null,this.initAudioBufQt=null,this.audioAvgBufQt=null,this.audioBufQt=null,this.audioBufN=null,this.bitrateUpN=null,this.bitrateDwnN=null,this.delay=null,this.delayEnforcement=null,this.lookupReqEstablished=null,this.lookupReqAccept=null,this.fallbackAvgTp=null,this.srcThroughput=null,this.diskReadTimeout=null,this.diskReadRate=null,this.diskStoreRate=null,this.diskRemoveRate=null,this.diskCacheSize=null,this.clientBufferMs=null,this.lookupTotal=null,this.lookupNotFound=null,this.lookupFailed=null,this.lookupLatency=null,this.trackerFailed=null,this.trackerLatency=null,this.snapshotFailed=null,this.snapshotLatency=null,t&&(void 0!==t.upBW&&(this.upBW=t.upBW),void 0!==t.downBW&&(this.downBW=t.downBW),void 0!==t.memN&&(this.memN=t.memN),void 0!==t.prtInN&&(this.prtInN=t.prtInN),void 0!==t.prtOutN&&(this.prtOutN=t.prtOutN),void 0!==t.initVideoBufQt&&(this.initVideoBufQt=t.initVideoBufQt),void 0!==t.videoAvgBufQt&&(this.videoAvgBufQt=t.videoAvgBufQt),void 0!==t.videoBufQt&&(this.videoBufQt=t.videoBufQt),void 0!==t.videoBufN&&(this.videoBufN=t.videoBufN),void 0!==t.initAudioBufQt&&(this.initAudioBufQt=t.initAudioBufQt),void 0!==t.audioAvgBufQt&&(this.audioAvgBufQt=t.audioAvgBufQt),void 0!==t.audioBufQt&&(this.audioBufQt=t.audioBufQt),void 0!==t.audioBufN&&(this.audioBufN=t.audioBufN),void 0!==t.bitrateUpN&&(this.bitrateUpN=t.bitrateUpN),void 0!==t.bitrateDwnN&&(this.bitrateDwnN=t.bitrateDwnN),void 0!==t.delay&&(this.delay=t.delay),void 0!==t.delayEnforcement&&(this.delayEnforcement=t.delayEnforcement),void 0!==t.lookupReqEstablished&&(this.lookupReqEstablished=t.lookupReqEstablished),void 0!==t.lookupReqAccept&&(this.lookupReqAccept=t.lookupReqAccept),void 0!==t.fallbackAvgTp&&(this.fallbackAvgTp=t.fallbackAvgTp),void 0!==t.srcThroughput&&(this.srcThroughput=t.srcThroughput),void 0!==t.diskReadTimeout&&(this.diskReadTimeout=t.diskReadTimeout),void 0!==t.diskReadRate&&(this.diskReadRate=t.diskReadRate),void 0!==t.diskStoreRate&&(this.diskStoreRate=t.diskStoreRate),void 0!==t.diskRemoveRate&&(this.diskRemoveRate=t.diskRemoveRate),void 0!==t.diskCacheSize&&(this.diskCacheSize=t.diskCacheSize),void 0!==t.clientBufferMs&&(this.clientBufferMs=t.clientBufferMs),void 0!==t.lookupTotal&&(this.lookupTotal=t.lookupTotal),void 0!==t.lookupNotFound&&(this.lookupNotFound=t.lookupNotFound),void 0!==t.lookupFailed&&(this.lookupFailed=t.lookupFailed),void 0!==t.lookupLatency&&(this.lookupLatency=t.lookupLatency),void 0!==t.trackerFailed&&(this.trackerFailed=t.trackerFailed),void 0!==t.trackerLatency&&(this.trackerLatency=t.trackerLatency),void 0!==t.snapshotFailed&&(this.snapshotFailed=t.snapshotFailed),void 0!==t.snapshotLatency&&(this.snapshotLatency=t.snapshotLatency))},hive.snapshots.Metrics.prototype={},hive.snapshots.Metrics.prototype.read=function(t){for(t.Hc();;){var e=t.sa(),i=(e.Bc,e.aa),n=e.ca;if(i==r.bs.Es)break;switch(n){case 1:i==r.bs.Os?this.upBW=t.ua().value:t.pa(i);break;case 2:i==r.bs.Os?this.downBW=t.ua().value:t.pa(i);break;case 3:i==r.bs.Os?this.memN=t.ua().value:t.pa(i);break;case 4:i==r.bs.Os?this.prtInN=t.ua().value:t.pa(i);break;case 5:i==r.bs.Os?this.prtOutN=t.ua().value:t.pa(i);break;case 6:i==r.bs.Ps?this.initVideoBufQt=t.$c().value:t.pa(i);break;case 7:i==r.bs.ks?this.videoAvgBufQt=t.Yc().value:t.pa(i);break;case 8:i==r.bs.Ps?this.videoBufQt=t.$c().value:t.pa(i);break;case 9:i==r.bs.Os?this.videoBufN=t.ua().value:t.pa(i);break;case 10:i==r.bs.Os?this.initAudioBufQt=t.ua().value:t.pa(i);break;case 11:i==r.bs.ks?this.audioAvgBufQt=t.Yc().value:t.pa(i);break;case 12:i==r.bs.Ps?this.audioBufQt=t.$c().value:t.pa(i);break;case 13:i==r.bs.Os?this.audioBufN=t.ua().value:t.pa(i);break;case 14:i==r.bs.Os?this.bitrateUpN=t.ua().value:t.pa(i);break;case 15:i==r.bs.Os?this.bitrateDwnN=t.ua().value:t.pa(i);break;case 16:i==r.bs.Os?this.delay=t.ua().value:t.pa(i);break;case 17:i==r.bs.Os?this.delayEnforcement=t.ua().value:t.pa(i);break;case 18:i==r.bs.Os?this.lookupReqEstablished=t.ua().value:t.pa(i);break;case 19:i==r.bs.Os?this.lookupReqAccept=t.ua().value:t.pa(i);break;case 20:i==r.bs.ks?this.fallbackAvgTp=t.Yc().value:t.pa(i);break;case 21:i==r.bs.ks?this.srcThroughput=t.Yc().value:t.pa(i);break;case 22:i==r.bs.Os?this.diskReadTimeout=t.ua().value:t.pa(i);break;case 23:i==r.bs.ks?this.diskReadRate=t.Yc().value:t.pa(i);break;case 24:i==r.bs.ks?this.diskStoreRate=t.Yc().value:t.pa(i);break;case 25:i==r.bs.ks?this.diskRemoveRate=t.Yc().value:t.pa(i);break;case 26:i==r.bs.Ps?this.diskCacheSize=t.$c().value:t.pa(i);break;case 27:i==r.bs.Os?this.clientBufferMs=t.ua().value:t.pa(i);break;case 28:i==r.bs.Os?this.lookupTotal=t.ua().value:t.pa(i);break;case 29:i==r.bs.Os?this.lookupNotFound=t.ua().value:t.pa(i);break;case 30:i==r.bs.Os?this.lookupFailed=t.ua().value:t.pa(i);break;case 31:i==r.bs.Os?this.lookupLatency=t.ua().value:t.pa(i);break;case 32:i==r.bs.Os?this.trackerFailed=t.ua().value:t.pa(i);break;case 33:i==r.bs.Os?this.trackerLatency=t.ua().value:t.pa(i);break;case 34:i==r.bs.Os?this.snapshotFailed=t.ua().value:t.pa(i);break;case 35:i==r.bs.Os?this.snapshotLatency=t.ua().value:t.pa(i);break;default:t.pa(i)}t.la()}t.da()},hive.snapshots.Metrics.prototype.write=function(t){t.fa("Metrics"),null!==this.upBW&&void 0!==this.upBW&&(t.ga("upBW",r.bs.Os,1),t.ma(this.upBW),t.ya()),null!==this.downBW&&void 0!==this.downBW&&(t.ga("downBW",r.bs.Os,2),t.ma(this.downBW),t.ya()),null!==this.memN&&void 0!==this.memN&&(t.ga("memN",r.bs.Os,3),t.ma(this.memN),t.ya()),null!==this.prtInN&&void 0!==this.prtInN&&(t.ga("prtInN",r.bs.Os,4),t.ma(this.prtInN),t.ya()),null!==this.prtOutN&&void 0!==this.prtOutN&&(t.ga("prtOutN",r.bs.Os,5),t.ma(this.prtOutN),t.ya()),null!==this.initVideoBufQt&&void 0!==this.initVideoBufQt&&(t.ga("initVideoBufQt",r.bs.Ps,6),t.Cc(this.initVideoBufQt),t.ya()),null!==this.videoAvgBufQt&&void 0!==this.videoAvgBufQt&&(t.ga("videoAvgBufQt",r.bs.ks,7),t.Oc(this.videoAvgBufQt),t.ya()),null!==this.videoBufQt&&void 0!==this.videoBufQt&&(t.ga("videoBufQt",r.bs.Ps,8),t.Cc(this.videoBufQt),t.ya()),null!==this.videoBufN&&void 0!==this.videoBufN&&(t.ga("videoBufN",r.bs.Os,9),t.ma(this.videoBufN),t.ya()),null!==this.initAudioBufQt&&void 0!==this.initAudioBufQt&&(t.ga("initAudioBufQt",r.bs.Os,10),t.ma(this.initAudioBufQt),t.ya()),null!==this.audioAvgBufQt&&void 0!==this.audioAvgBufQt&&(t.ga("audioAvgBufQt",r.bs.ks,11),t.Oc(this.audioAvgBufQt),t.ya()),null!==this.audioBufQt&&void 0!==this.audioBufQt&&(t.ga("audioBufQt",r.bs.Ps,12),t.Cc(this.audioBufQt),t.ya()),null!==this.audioBufN&&void 0!==this.audioBufN&&(t.ga("audioBufN",r.bs.Os,13),t.ma(this.audioBufN),t.ya()),null!==this.bitrateUpN&&void 0!==this.bitrateUpN&&(t.ga("bitrateUpN",r.bs.Os,14),t.ma(this.bitrateUpN),t.ya()),null!==this.bitrateDwnN&&void 0!==this.bitrateDwnN&&(t.ga("bitrateDwnN",r.bs.Os,15),t.ma(this.bitrateDwnN),t.ya()),null!==this.delay&&void 0!==this.delay&&(t.ga("delay",r.bs.Os,16),t.ma(this.delay),t.ya()),null!==this.delayEnforcement&&void 0!==this.delayEnforcement&&(t.ga("delayEnforcement",r.bs.Os,17),t.ma(this.delayEnforcement),t.ya()),null!==this.lookupReqEstablished&&void 0!==this.lookupReqEstablished&&(t.ga("lookupReqEstablished",r.bs.Os,18),t.ma(this.lookupReqEstablished),t.ya()),null!==this.lookupReqAccept&&void 0!==this.lookupReqAccept&&(t.ga("lookupReqAccept",r.bs.Os,19),t.ma(this.lookupReqAccept),t.ya()),null!==this.fallbackAvgTp&&void 0!==this.fallbackAvgTp&&(t.ga("fallbackAvgTp",r.bs.ks,20),t.Oc(this.fallbackAvgTp),t.ya()),null!==this.srcThroughput&&void 0!==this.srcThroughput&&(t.ga("srcThroughput",r.bs.ks,21),t.Oc(this.srcThroughput),t.ya()),null!==this.diskReadTimeout&&void 0!==this.diskReadTimeout&&(t.ga("diskReadTimeout",r.bs.Os,22),t.ma(this.diskReadTimeout),t.ya()),null!==this.diskReadRate&&void 0!==this.diskReadRate&&(t.ga("diskReadRate",r.bs.ks,23),t.Oc(this.diskReadRate),t.ya()),null!==this.diskStoreRate&&void 0!==this.diskStoreRate&&(t.ga("diskStoreRate",r.bs.ks,24),t.Oc(this.diskStoreRate),t.ya()),null!==this.diskRemoveRate&&void 0!==this.diskRemoveRate&&(t.ga("diskRemoveRate",r.bs.ks,25),t.Oc(this.diskRemoveRate),t.ya()),null!==this.diskCacheSize&&void 0!==this.diskCacheSize&&(t.ga("diskCacheSize",r.bs.Ps,26),t.Cc(this.diskCacheSize),t.ya()),null!==this.clientBufferMs&&void 0!==this.clientBufferMs&&(t.ga("clientBufferMs",r.bs.Os,27),t.ma(this.clientBufferMs),t.ya()),null!==this.lookupTotal&&void 0!==this.lookupTotal&&(t.ga("lookupTotal",r.bs.Os,28),t.ma(this.lookupTotal),t.ya()),null!==this.lookupNotFound&&void 0!==this.lookupNotFound&&(t.ga("lookupNotFound",r.bs.Os,29),t.ma(this.lookupNotFound),t.ya()),null!==this.lookupFailed&&void 0!==this.lookupFailed&&(t.ga("lookupFailed",r.bs.Os,30),t.ma(this.lookupFailed),t.ya()),null!==this.lookupLatency&&void 0!==this.lookupLatency&&(t.ga("lookupLatency",r.bs.Os,31),t.ma(this.lookupLatency),t.ya()),null!==this.trackerFailed&&void 0!==this.trackerFailed&&(t.ga("trackerFailed",r.bs.Os,32),t.ma(this.trackerFailed),t.ya()),null!==this.trackerLatency&&void 0!==this.trackerLatency&&(t.ga("trackerLatency",r.bs.Os,33),t.ma(this.trackerLatency),t.ya()),null!==this.snapshotFailed&&void 0!==this.snapshotFailed&&(t.ga("snapshotFailed",r.bs.Os,34),t.ma(this.snapshotFailed),t.ya()),null!==this.snapshotLatency&&void 0!==this.snapshotLatency&&(t.ga("snapshotLatency",r.bs.Os,35),t.ma(this.snapshotLatency),t.ya()),t.wa(),t.Ta()},hive.snapshots.PartnerTraffic=function(t){this.p2pSuccReq=null,this.p2pFailReq=null,this.p2pPartReq=null,this.p2pSuccReceived=null,this.p2pSuccReceivedLow=null,this.p2pFailReceived=null,this.p2pSuccResp=null,this.p2pFailResp=null,this.p2pPartResp=null,this.p2pSuccSent=null,this.p2pSuccSentLow=null,this.p2pFailSent=null,t&&(void 0!==t.p2pSuccReq&&(this.p2pSuccReq=t.p2pSuccReq),void 0!==t.p2pFailReq&&(this.p2pFailReq=t.p2pFailReq),void 0!==t.p2pPartReq&&(this.p2pPartReq=t.p2pPartReq),void 0!==t.p2pSuccReceived&&(this.p2pSuccReceived=t.p2pSuccReceived),void 0!==t.p2pSuccReceivedLow&&(this.p2pSuccReceivedLow=t.p2pSuccReceivedLow),void 0!==t.p2pFailReceived&&(this.p2pFailReceived=t.p2pFailReceived),void 0!==t.p2pSuccResp&&(this.p2pSuccResp=t.p2pSuccResp),void 0!==t.p2pFailResp&&(this.p2pFailResp=t.p2pFailResp),void 0!==t.p2pPartResp&&(this.p2pPartResp=t.p2pPartResp),void 0!==t.p2pSuccSent&&(this.p2pSuccSent=t.p2pSuccSent),void 0!==t.p2pSuccSentLow&&(this.p2pSuccSentLow=t.p2pSuccSentLow),void 0!==t.p2pFailSent&&(this.p2pFailSent=t.p2pFailSent))},hive.snapshots.PartnerTraffic.prototype={},hive.snapshots.PartnerTraffic.prototype.read=function(t){for(t.Hc();;){var e=t.sa(),i=(e.Bc,e.aa),n=e.ca;if(i==r.bs.Es)break;switch(n){case 1:i==r.bs.Ps?this.p2pSuccReq=t.$c().value:t.pa(i);break;case 2:i==r.bs.Ps?this.p2pFailReq=t.$c().value:t.pa(i);break;case 3:i==r.bs.Ps?this.p2pPartReq=t.$c().value:t.pa(i);break;case 4:i==r.bs.Ps?this.p2pSuccReceived=t.$c().value:t.pa(i);break;case 5:i==r.bs.Ps?this.p2pSuccReceivedLow=t.$c().value:t.pa(i);break;case 10:i==r.bs.Ps?this.p2pFailReceived=t.$c().value:t.pa(i);break;case 6:i==r.bs.Ps?this.p2pSuccResp=t.$c().value:t.pa(i);break;case 11:i==r.bs.Ps?this.p2pFailResp=t.$c().value:t.pa(i);break;case 7:i==r.bs.Ps?this.p2pPartResp=t.$c().value:t.pa(i);break;case 8:i==r.bs.Ps?this.p2pSuccSent=t.$c().value:t.pa(i);break;case 9:i==r.bs.Ps?this.p2pSuccSentLow=t.$c().value:t.pa(i);break;case 12:i==r.bs.Ps?this.p2pFailSent=t.$c().value:t.pa(i);break;default:t.pa(i)}t.la()}t.da()},hive.snapshots.PartnerTraffic.prototype.write=function(t){t.fa("PartnerTraffic"),null!==this.p2pSuccReq&&void 0!==this.p2pSuccReq&&(t.ga("p2pSuccReq",r.bs.Ps,1),t.Cc(this.p2pSuccReq),t.ya()),null!==this.p2pFailReq&&void 0!==this.p2pFailReq&&(t.ga("p2pFailReq",r.bs.Ps,2),t.Cc(this.p2pFailReq),t.ya()),null!==this.p2pPartReq&&void 0!==this.p2pPartReq&&(t.ga("p2pPartReq",r.bs.Ps,3),t.Cc(this.p2pPartReq),t.ya()),null!==this.p2pSuccReceived&&void 0!==this.p2pSuccReceived&&(t.ga("p2pSuccReceived",r.bs.Ps,4),t.Cc(this.p2pSuccReceived),t.ya()),null!==this.p2pSuccReceivedLow&&void 0!==this.p2pSuccReceivedLow&&(t.ga("p2pSuccReceivedLow",r.bs.Ps,5),t.Cc(this.p2pSuccReceivedLow),t.ya()),null!==this.p2pFailReceived&&void 0!==this.p2pFailReceived&&(t.ga("p2pFailReceived",r.bs.Ps,10),t.Cc(this.p2pFailReceived),t.ya()),null!==this.p2pSuccResp&&void 0!==this.p2pSuccResp&&(t.ga("p2pSuccResp",r.bs.Ps,6),t.Cc(this.p2pSuccResp),t.ya()),null!==this.p2pFailResp&&void 0!==this.p2pFailResp&&(t.ga("p2pFailResp",r.bs.Ps,11),t.Cc(this.p2pFailResp),t.ya()),null!==this.p2pPartResp&&void 0!==this.p2pPartResp&&(t.ga("p2pPartResp",r.bs.Ps,7),t.Cc(this.p2pPartResp),t.ya()),null!==this.p2pSuccSent&&void 0!==this.p2pSuccSent&&(t.ga("p2pSuccSent",r.bs.Ps,8),t.Cc(this.p2pSuccSent),t.ya()),null!==this.p2pSuccSentLow&&void 0!==this.p2pSuccSentLow&&(t.ga("p2pSuccSentLow",r.bs.Ps,9),t.Cc(this.p2pSuccSentLow),t.ya()),null!==this.p2pFailSent&&void 0!==this.p2pFailSent&&(t.ga("p2pFailSent",r.bs.Ps,12),t.Cc(this.p2pFailSent),t.ya()),t.wa(),t.Ta()},hive.snapshots.PartnerMetrics=function(t){this.rateReceived=null,this.rateSent=null,this.handshakeDelay=null,t&&(void 0!==t.rateReceived&&(this.rateReceived=t.rateReceived),void 0!==t.rateSent&&(this.rateSent=t.rateSent),void 0!==t.handshakeDelay&&(this.handshakeDelay=t.handshakeDelay))},hive.snapshots.PartnerMetrics.prototype={},hive.snapshots.PartnerMetrics.prototype.read=function(t){for(t.Hc();;){var e=t.sa(),i=(e.Bc,e.aa),n=e.ca;if(i==r.bs.Es)break;switch(n){case 1:i==r.bs.ks?this.rateReceived=t.Yc().value:t.pa(i);break;case 2:i==r.bs.ks?this.rateSent=t.Yc().value:t.pa(i);break;case 3:i==r.bs.Ps?this.handshakeDelay=t.$c().value:t.pa(i);break;default:t.pa(i)}t.la()}t.da()},hive.snapshots.PartnerMetrics.prototype.write=function(t){t.fa("PartnerMetrics"),null!==this.rateReceived&&void 0!==this.rateReceived&&(t.ga("rateReceived",r.bs.ks,1),t.Oc(this.rateReceived),t.ya()),null!==this.rateSent&&void 0!==this.rateSent&&(t.ga("rateSent",r.bs.ks,2),t.Oc(this.rateSent),t.ya()),null!==this.handshakeDelay&&void 0!==this.handshakeDelay&&(t.ga("handshakeDelay",r.bs.Ps,3),t.Cc(this.handshakeDelay),t.ya()),t.wa(),t.Ta()},hive.snapshots.ConnectivityInfo=function(t){this.upBW=null,this.downBW=null,this.externalAs=null,this.internalAs=null,this.publicIp=null,this.privateIp=null,t&&(void 0!==t.upBW&&(this.upBW=t.upBW),void 0!==t.downBW&&(this.downBW=t.downBW),void 0!==t.externalAs&&(this.externalAs=t.externalAs),void 0!==t.internalAs&&(this.internalAs=t.internalAs),void 0!==t.publicIp&&(this.publicIp=t.publicIp),void 0!==t.privateIp&&(this.privateIp=t.privateIp))},hive.snapshots.ConnectivityInfo.prototype={},hive.snapshots.ConnectivityInfo.prototype.read=function(t){for(t.Hc();;){var e=t.sa(),i=(e.Bc,e.aa),n=e.ca;if(i==r.bs.Es)break;switch(n){case 1:i==r.bs.Os?this.upBW=t.ua().value:t.pa(i);break;case 2:i==r.bs.Os?this.downBW=t.ua().value:t.pa(i);break;case 3:i==r.bs.Os?this.externalAs=t.ua().value:t.pa(i);break;case 4:i==r.bs.Os?this.internalAs=t.ua().value:t.pa(i);break;case 5:i==r.bs.As?this.publicIp=t.ha().value:t.pa(i);break;case 6:i==r.bs.As?this.privateIp=t.ha().value:t.pa(i);break;default:t.pa(i)}t.la()}t.da()},hive.snapshots.ConnectivityInfo.prototype.write=function(t){t.fa("ConnectivityInfo"),null!==this.upBW&&void 0!==this.upBW&&(t.ga("upBW",r.bs.Os,1),t.ma(this.upBW),t.ya()),null!==this.downBW&&void 0!==this.downBW&&(t.ga("downBW",r.bs.Os,2),t.ma(this.downBW),t.ya()),null!==this.externalAs&&void 0!==this.externalAs&&(t.ga("externalAs",r.bs.Os,3),t.ma(this.externalAs),t.ya()),null!==this.internalAs&&void 0!==this.internalAs&&(t.ga("internalAs",r.bs.Os,4),t.ma(this.internalAs),t.ya()),null!==this.publicIp&&void 0!==this.publicIp&&(t.ga("publicIp",r.bs.As,5),t.va(this.publicIp),t.ya()),null!==this.privateIp&&void 0!==this.privateIp&&(t.ga("privateIp",r.bs.As,6),t.va(this.privateIp),t.ya()),t.wa(),t.Ta()},hive.snapshots.Partner=function(t){this.connInfo=null,this.traffic=null,this.metrics=null,this.inPart=null,this.outPart=null,this.udp=null,t&&(void 0!==t.connInfo&&(this.connInfo=t.connInfo),void 0!==t.traffic&&(this.traffic=t.traffic),void 0!==t.metrics&&(this.metrics=t.metrics),void 0!==t.inPart&&(this.inPart=t.inPart),void 0!==t.outPart&&(this.outPart=t.outPart),void 0!==t.udp&&(this.udp=t.udp))},hive.snapshots.Partner.prototype={},hive.snapshots.Partner.prototype.read=function(t){for(t.Hc();;){var e=t.sa(),i=(e.Bc,e.aa),n=e.ca;if(i==r.bs.Es)break;switch(n){case 1:i==r.bs.xs?(this.connInfo=new hive.snapshots.ConnectivityInfo,this.connInfo.read(t)):t.pa(i);break;case 2:i==r.bs.xs?(this.traffic=new hive.snapshots.PartnerTraffic,this.traffic.read(t)):t.pa(i);break;case 3:i==r.bs.xs?(this.metrics=new hive.snapshots.PartnerMetrics,this.metrics.read(t)):t.pa(i);break;case 4:i==r.bs.BOOL?this.inPart=t.Gc().value:t.pa(i);break;case 5:i==r.bs.BOOL?this.outPart=t.Gc().value:t.pa(i);break;case 6:i==r.bs.BOOL?this.udp=t.Gc().value:t.pa(i);break;default:t.pa(i)}t.la()}t.da()},hive.snapshots.Partner.prototype.write=function(t){t.fa("Partner"),null!==this.connInfo&&void 0!==this.connInfo&&(t.ga("connInfo",r.bs.xs,1),this.connInfo.write(t),t.ya()),null!==this.traffic&&void 0!==this.traffic&&(t.ga("traffic",r.bs.xs,2),this.traffic.write(t),t.ya()),null!==this.metrics&&void 0!==this.metrics&&(t.ga("metrics",r.bs.xs,3),this.metrics.write(t),t.ya()),null!==this.inPart&&void 0!==this.inPart&&(t.ga("inPart",r.bs.BOOL,4),t.Ic(this.inPart),t.ya()),null!==this.outPart&&void 0!==this.outPart&&(t.ga("outPart",r.bs.BOOL,5),t.Ic(this.outPart),t.ya()),null!==this.udp&&void 0!==this.udp&&(t.ga("udp",r.bs.BOOL,6),t.Ic(this.udp),t.ya()),t.wa(),t.Ta()},hive.snapshots.StreamInfo=function(t){this.url=null,this.streamType=null,this.streamProtocol=null,t&&(void 0!==t.url&&(this.url=t.url),void 0!==t.streamType&&(this.streamType=t.streamType),void 0!==t.streamProtocol&&(this.streamProtocol=t.streamProtocol))},hive.snapshots.StreamInfo.prototype={},hive.snapshots.StreamInfo.prototype.read=function(t){for(t.Hc();;){var e=t.sa(),i=(e.Bc,e.aa),n=e.ca;if(i==r.bs.Es)break;switch(n){case 1:i==r.bs.As?this.url=t.ha().value:t.pa(i);break;case 2:i==r.bs.Os?this.streamType=t.ua().value:t.pa(i);break;case 3:i==r.bs.Os?this.streamProtocol=t.ua().value:t.pa(i);break;default:t.pa(i)}t.la()}t.da()},hive.snapshots.StreamInfo.prototype.write=function(t){t.fa("StreamInfo"),null!==this.url&&void 0!==this.url&&(t.ga("url",r.bs.As,1),t.va(this.url),t.ya()),null!==this.streamType&&void 0!==this.streamType&&(t.ga("streamType",r.bs.Os,2),t.ma(this.streamType),t.ya()),null!==this.streamProtocol&&void 0!==this.streamProtocol&&(t.ga("streamProtocol",r.bs.Os,3),t.ma(this.streamProtocol),t.ya()),t.wa(),t.Ta()},hive.snapshots.ClientInfo=function(t){this.clientType=null,this.majorVersion=null,this.minorVersion=null,this.patchVersion=null,t&&(void 0!==t.clientType&&(this.clientType=t.clientType),void 0!==t.majorVersion&&(this.majorVersion=t.majorVersion),void 0!==t.minorVersion&&(this.minorVersion=t.minorVersion),void 0!==t.patchVersion&&(this.patchVersion=t.patchVersion))},hive.snapshots.ClientInfo.prototype={},hive.snapshots.ClientInfo.prototype.read=function(t){for(t.Hc();;){var e=t.sa(),i=(e.Bc,e.aa),n=e.ca;if(i==r.bs.Es)break;switch(n){case 1:i==r.bs.Os?this.clientType=t.ua().value:t.pa(i);break;case 2:i==r.bs.BYTE?this.majorVersion=t.zc().value:t.pa(i);break;case 3:i==r.bs.BYTE?this.minorVersion=t.zc().value:t.pa(i);break;case 4:i==r.bs.Cs?this.patchVersion=t.Wc().value:t.pa(i);break;default:t.pa(i)}t.la()}t.da()},hive.snapshots.ClientInfo.prototype.write=function(t){t.fa("ClientInfo"),null!==this.clientType&&void 0!==this.clientType&&(t.ga("clientType",r.bs.Os,1),t.ma(this.clientType),t.ya()),null!==this.majorVersion&&void 0!==this.majorVersion&&(t.ga("majorVersion",r.bs.BYTE,2),t.Rc(this.majorVersion),t.ya()),null!==this.minorVersion&&void 0!==this.minorVersion&&(t.ga("minorVersion",r.bs.BYTE,3),t.Rc(this.minorVersion),t.ya()),null!==this.patchVersion&&void 0!==this.patchVersion&&(t.ga("patchVersion",r.bs.Cs,4),t.kc(this.patchVersion),t.ya()),t.wa(),t.Ta()},hive.snapshots.AgentInfo=function(t){this.firstTierBitrates=null,this.secondTierBitrates=null,t&&(void 0!==t.firstTierBitrates&&(this.firstTierBitrates=t.firstTierBitrates),void 0!==t.secondTierBitrates&&(this.secondTierBitrates=t.secondTierBitrates))},hive.snapshots.AgentInfo.prototype={},hive.snapshots.AgentInfo.prototype.read=function(t){for(t.Hc();;){var e=t.sa(),i=(e.Bc,e.aa),n=e.ca;if(i==r.bs.Es)break;switch(n){case 1:if(i==r.bs.Fs){var o,s=0;this.firstTierBitrates=[];var a=0;o=t.Jc(),a=o.Qc,s=o.size;for(var c=0;c<s;++c){var h=null;h=t.ua().value,this.firstTierBitrates.push(h)}t.Kc()}else t.pa(i);break;case 2:if(i==r.bs.Fs){var p,u=0;this.secondTierBitrates=[];var l=0;p=t.Jc(),l=p.Qc,u=p.size;for(var d=0;d<u;++d){var f=null;f=t.ua().value,this.secondTierBitrates.push(f)}t.Kc()}else t.pa(i);break;default:t.pa(i)}t.la()}t.da()},hive.snapshots.AgentInfo.prototype.write=function(t){
  if(t.fa("AgentInfo"),null!==this.firstTierBitrates&&void 0!==this.firstTierBitrates){t.ga("firstTierBitrates",r.bs.Fs,1),t.bc(r.bs.Os,this.firstTierBitrates.length);for(var e in this.firstTierBitrates)this.firstTierBitrates.hasOwnProperty(e)&&(e=this.firstTierBitrates[e],t.ma(e));t.Ec(),t.ya()}if(null!==this.secondTierBitrates&&void 0!==this.secondTierBitrates){t.ga("secondTierBitrates",r.bs.Fs,2),t.bc(r.bs.Os,this.secondTierBitrates.length);for(var i in this.secondTierBitrates)this.secondTierBitrates.hasOwnProperty(i)&&(i=this.secondTierBitrates[i],t.ma(i));t.Ec(),t.ya()}t.wa(),t.Ta()},hive.snapshots.TrafficKey=function(t){this.bitrate=null,this.AS=null,this.partnerGuid=null,t&&(void 0!==t.bitrate&&(this.bitrate=t.bitrate),void 0!==t.AS&&(this.AS=t.AS),void 0!==t.partnerGuid&&(this.partnerGuid=t.partnerGuid))},hive.snapshots.TrafficKey.prototype={},hive.snapshots.TrafficKey.prototype.read=function(t){for(t.Hc();;){var e=t.sa(),i=(e.Bc,e.aa),n=e.ca;if(i==r.bs.Es)break;switch(n){case 1:i==r.bs.Os?this.bitrate=t.ua().value:t.pa(i);break;case 2:i==r.bs.Os?this.AS=t.ua().value:t.pa(i);break;case 3:i==r.bs.As?this.partnerGuid=t.ha().value:t.pa(i);break;default:t.pa(i)}t.la()}t.da()},hive.snapshots.TrafficKey.prototype.write=function(t){t.fa("TrafficKey"),null!==this.bitrate&&void 0!==this.bitrate&&(t.ga("bitrate",r.bs.Os,1),t.ma(this.bitrate),t.ya()),null!==this.AS&&void 0!==this.AS&&(t.ga("AS",r.bs.Os,2),t.ma(this.AS),t.ya()),null!==this.partnerGuid&&void 0!==this.partnerGuid&&(t.ga("partnerGuid",r.bs.As,3),t.va(this.partnerGuid),t.ya()),t.wa(),t.Ta()},hive.snapshots.PartnerKey=function(t){this.bitrate=null,this.AS=null,this.partnerGuid=null,t&&(void 0!==t.bitrate&&(this.bitrate=t.bitrate),void 0!==t.AS&&(this.AS=t.AS),void 0!==t.partnerGuid&&(this.partnerGuid=t.partnerGuid))},hive.snapshots.PartnerKey.prototype={},hive.snapshots.PartnerKey.prototype.read=function(t){for(t.Hc();;){var e=t.sa(),i=(e.Bc,e.aa),n=e.ca;if(i==r.bs.Es)break;switch(n){case 1:i==r.bs.Os?this.bitrate=t.ua().value:t.pa(i);break;case 2:i==r.bs.Os?this.AS=t.ua().value:t.pa(i);break;case 3:i==r.bs.As?this.partnerGuid=t.ha().value:t.pa(i);break;default:t.pa(i)}t.la()}t.da()},hive.snapshots.PartnerKey.prototype.write=function(t){t.fa("PartnerKey"),null!==this.bitrate&&void 0!==this.bitrate&&(t.ga("bitrate",r.bs.Os,1),t.ma(this.bitrate),t.ya()),null!==this.AS&&void 0!==this.AS&&(t.ga("AS",r.bs.Os,2),t.ma(this.AS),t.ya()),null!==this.partnerGuid&&void 0!==this.partnerGuid&&(t.ga("partnerGuid",r.bs.As,3),t.va(this.partnerGuid),t.ya()),t.wa(),t.Ta()},hive.snapshots.Player=function(t){this.bufferingN=null,this.bufferingMs=null,this.initBufferingN=null,this.initBufferingMs=null,this.seekBufferingN=null,this.seekBufferingMs=null,this.playerBufferMs=null,t&&(void 0!==t.bufferingN&&(this.bufferingN=t.bufferingN),void 0!==t.bufferingMs&&(this.bufferingMs=t.bufferingMs),void 0!==t.initBufferingN&&(this.initBufferingN=t.initBufferingN),void 0!==t.initBufferingMs&&(this.initBufferingMs=t.initBufferingMs),void 0!==t.seekBufferingN&&(this.seekBufferingN=t.seekBufferingN),void 0!==t.seekBufferingMs&&(this.seekBufferingMs=t.seekBufferingMs),void 0!==t.playerBufferMs&&(this.playerBufferMs=t.playerBufferMs))},hive.snapshots.Player.prototype={},hive.snapshots.Player.prototype.read=function(t){for(t.Hc();;){var e=t.sa(),i=(e.Bc,e.aa),n=e.ca;if(i==r.bs.Es)break;switch(n){case 1:i==r.bs.Cs?this.bufferingN=t.Wc().value:t.pa(i);break;case 2:i==r.bs.Os?this.bufferingMs=t.ua().value:t.pa(i);break;case 3:i==r.bs.Cs?this.initBufferingN=t.Wc().value:t.pa(i);break;case 4:i==r.bs.Os?this.initBufferingMs=t.ua().value:t.pa(i);break;case 5:i==r.bs.Cs?this.seekBufferingN=t.Wc().value:t.pa(i);break;case 6:i==r.bs.Os?this.seekBufferingMs=t.ua().value:t.pa(i);break;case 36:i==r.bs.Os?this.playerBufferMs=t.ua().value:t.pa(i);break;default:t.pa(i)}t.la()}t.da()},hive.snapshots.Player.prototype.write=function(t){t.fa("Player"),null!==this.bufferingN&&void 0!==this.bufferingN&&(t.ga("bufferingN",r.bs.Cs,1),t.kc(this.bufferingN),t.ya()),null!==this.bufferingMs&&void 0!==this.bufferingMs&&(t.ga("bufferingMs",r.bs.Os,2),t.ma(this.bufferingMs),t.ya()),null!==this.initBufferingN&&void 0!==this.initBufferingN&&(t.ga("initBufferingN",r.bs.Cs,3),t.kc(this.initBufferingN),t.ya()),null!==this.initBufferingMs&&void 0!==this.initBufferingMs&&(t.ga("initBufferingMs",r.bs.Os,4),t.ma(this.initBufferingMs),t.ya()),null!==this.seekBufferingN&&void 0!==this.seekBufferingN&&(t.ga("seekBufferingN",r.bs.Cs,5),t.kc(this.seekBufferingN),t.ya()),null!==this.seekBufferingMs&&void 0!==this.seekBufferingMs&&(t.ga("seekBufferingMs",r.bs.Os,6),t.ma(this.seekBufferingMs),t.ya()),null!==this.playerBufferMs&&void 0!==this.playerBufferMs&&(t.ga("playerBufferMs",r.bs.Os,36),t.ma(this.playerBufferMs),t.ya()),t.wa(),t.Ta()},hive.snapshots.MetricSnapshot=function(t){this.timestamp=null,this.guid=null,this.eventId=null,this.streamInfo=null,this.metrics=null,this.traffic=null,this.snapshotInfo=null,this.agentInfo=null,this.connInfo=null,this.partners=null,this.player=null,this.client=null,this.sessionId=null,t&&(void 0!==t.timestamp&&(this.timestamp=t.timestamp),void 0!==t.guid&&(this.guid=t.guid),void 0!==t.eventId&&(this.eventId=t.eventId),void 0!==t.streamInfo&&(this.streamInfo=t.streamInfo),void 0!==t.metrics&&(this.metrics=t.metrics),void 0!==t.traffic&&(this.traffic=t.traffic),void 0!==t.snapshotInfo&&(this.snapshotInfo=t.snapshotInfo),void 0!==t.agentInfo&&(this.agentInfo=t.agentInfo),void 0!==t.connInfo&&(this.connInfo=t.connInfo),void 0!==t.partners&&(this.partners=t.partners),void 0!==t.player&&(this.player=t.player),void 0!==t.client&&(this.client=t.client),void 0!==t.sessionId&&(this.sessionId=t.sessionId))},hive.snapshots.MetricSnapshot.prototype={},hive.snapshots.MetricSnapshot.prototype.read=function(t){for(t.Hc();;){var e=t.sa(),i=(e.Bc,e.aa),n=e.ca;if(i==r.bs.Es)break;switch(n){case 1:i==r.bs.Ps?this.timestamp=t.$c().value:t.pa(i);break;case 2:i==r.bs.As?this.guid=t.ha().value:t.pa(i);break;case 3:i==r.bs.xs?(this.eventId=new EventId,this.eventId.read(t)):t.pa(i);break;case 4:i==r.bs.xs?(this.streamInfo=new hive.snapshots.StreamInfo,this.streamInfo.read(t)):t.pa(i);break;case 5:i==r.bs.xs?(this.metrics=new hive.snapshots.Metrics,this.metrics.read(t)):t.pa(i);break;case 6:if(i==r.bs.Bs){var o,s=0;this.traffic={};var a=0,c=0;o=t.Lc(),a=o.Mc,c=o.jc,s=o.size;for(var h=0;h<s;++h){h>0&&t.Nc.length>t.Ra[t.Ra.length-1]+1&&t.Nc.pop();var p=null,u=null;p=new hive.snapshots.TrafficKey,p.read(t),u=new hive.snapshots.Traffic,u.read(t),this.traffic[p]=u}t.Uc()}else t.pa(i);break;case 7:i==r.bs.xs?(this.snapshotInfo=new SnapshotInfo,this.snapshotInfo.read(t)):t.pa(i);break;case 8:i==r.bs.xs?(this.agentInfo=new hive.snapshots.AgentInfo,this.agentInfo.read(t)):t.pa(i);break;case 9:i==r.bs.xs?(this.connInfo=new hive.snapshots.ConnectivityInfo,this.connInfo.read(t)):t.pa(i);break;case 10:if(i==r.bs.Bs){var l,d=0;this.partners={};var f=0,g=0;l=t.Lc(),f=l.Mc,g=l.jc,d=l.size;for(var v=0;v<d;++v){v>0&&t.Nc.length>t.Ra[t.Ra.length-1]+1&&t.Nc.pop();var y=null,m=null;y=new hive.snapshots.PartnerKey,y.read(t),m=new hive.snapshots.Partner,m.read(t),this.partners[y]=m}t.Uc()}else t.pa(i);break;case 11:i==r.bs.xs?(this.player=new hive.snapshots.Player,this.player.read(t)):t.pa(i);break;case 12:i==r.bs.xs?(this.client=new hive.snapshots.ClientInfo,this.client.read(t)):t.pa(i);break;case 13:i==r.bs.As?this.sessionId=t.ha().value:t.pa(i);break;default:t.pa(i)}t.la()}t.da()},hive.snapshots.MetricSnapshot.prototype.write=function(t){if(t.fa("MetricSnapshot"),null!==this.timestamp&&void 0!==this.timestamp&&(t.ga("timestamp",r.bs.Ps,1),t.Cc(this.timestamp),t.ya()),null!==this.guid&&void 0!==this.guid&&(t.ga("guid",r.bs.As,2),t.va(this.guid),t.ya()),null!==this.eventId&&void 0!==this.eventId&&(t.ga("eventId",r.bs.xs,3),this.eventId.write(t),t.ya()),null!==this.streamInfo&&void 0!==this.streamInfo&&(t.ga("streamInfo",r.bs.xs,4),this.streamInfo.write(t),t.ya()),null!==this.metrics&&void 0!==this.metrics&&(t.ga("metrics",r.bs.xs,5),this.metrics.write(t),t.ya()),null!==this.traffic&&void 0!==this.traffic){t.ga("traffic",r.bs.Bs,6),t.mc(r.bs.xs,r.bs.xs,r.Qs(this.traffic));for(var e=0;e<this.traffic.length;e++){var i=this.traffic[e],n=i.key,o=i.value;n.write(t),o.write(t)}t.wc(),t.ya()}if(null!==this.snapshotInfo&&void 0!==this.snapshotInfo&&(t.ga("snapshotInfo",r.bs.xs,7),this.snapshotInfo.write(t),t.ya()),null!==this.agentInfo&&void 0!==this.agentInfo&&(t.ga("agentInfo",r.bs.xs,8),this.agentInfo.write(t),t.ya()),null!==this.connInfo&&void 0!==this.connInfo&&(t.ga("connInfo",r.bs.xs,9),this.connInfo.write(t),t.ya()),null!==this.partners&&void 0!==this.partners){t.ga("partners",r.bs.Bs,10),t.mc(r.bs.xs,r.bs.xs,r.Qs(this.partners));for(var e=0;e<this.partners.length;e++){var i=this.partners[e],s=i.key,a=i.value;s.write(t),a.write(t)}t.wc(),t.ya()}null!==this.player&&void 0!==this.player&&(t.ga("player",r.bs.xs,11),this.player.write(t),t.ya()),null!==this.client&&void 0!==this.client&&(t.ga("client",r.bs.xs,12),this.client.write(t),t.ya()),null!==this.sessionId&&void 0!==this.sessionId&&(t.ga("sessionId",r.bs.As,13),t.va(this.sessionId),t.ya()),t.wa(),t.Ta()},hive.snapshots.JsonMetricSnapshot=function(t){this.timestamp=null,this.guid=null,this.eventId=null,this.streamInfo=null,this.metrics=null,this.traffic=null,this.snapshotInfo=null,this.agentInfo=null,this.connInfo=null,this.partners=null,this.player=null,this.client=null,this.sessionId=null,t&&(void 0!==t.timestamp&&(this.timestamp=t.timestamp),void 0!==t.guid&&(this.guid=t.guid),void 0!==t.eventId&&(this.eventId=t.eventId),void 0!==t.streamInfo&&(this.streamInfo=t.streamInfo),void 0!==t.metrics&&(this.metrics=t.metrics),void 0!==t.traffic&&(this.traffic=t.traffic),void 0!==t.snapshotInfo&&(this.snapshotInfo=t.snapshotInfo),void 0!==t.agentInfo&&(this.agentInfo=t.agentInfo),void 0!==t.connInfo&&(this.connInfo=t.connInfo),void 0!==t.partners&&(this.partners=t.partners),void 0!==t.player&&(this.player=t.player),void 0!==t.client&&(this.client=t.client),void 0!==t.sessionId&&(this.sessionId=t.sessionId))},hive.snapshots.JsonMetricSnapshot.prototype={},hive.snapshots.JsonMetricSnapshot.prototype.read=function(t){for(t.Hc();;){var e=t.sa(),i=(e.Bc,e.aa),n=e.ca;if(i==r.bs.Es)break;switch(n){case 1:i==r.bs.Ps?this.timestamp=t.$c().value:t.pa(i);break;case 2:i==r.bs.As?this.guid=t.ha().value:t.pa(i);break;case 3:i==r.bs.xs?(this.eventId=new EventId,this.eventId.read(t)):t.pa(i);break;case 4:i==r.bs.xs?(this.streamInfo=new hive.snapshots.StreamInfo,this.streamInfo.read(t)):t.pa(i);break;case 5:i==r.bs.xs?(this.metrics=new hive.snapshots.Metrics,this.metrics.read(t)):t.pa(i);break;case 6:if(i==r.bs.Bs){var o,s=0;this.traffic={};var a=0,c=0;o=t.Lc(),a=o.Mc,c=o.jc,s=o.size;for(var h=0;h<s;++h){h>0&&t.Nc.length>t.Ra[t.Ra.length-1]+1&&t.Nc.pop();var p=null,u=null;p=t.ha().value,u=new hive.snapshots.Traffic,u.read(t),this.traffic[p]=u}t.Uc()}else t.pa(i);break;case 7:i==r.bs.xs?(this.snapshotInfo=new SnapshotInfo,this.snapshotInfo.read(t)):t.pa(i);break;case 8:i==r.bs.xs?(this.agentInfo=new hive.snapshots.AgentInfo,this.agentInfo.read(t)):t.pa(i);break;case 9:i==r.bs.xs?(this.connInfo=new hive.snapshots.ConnectivityInfo,this.connInfo.read(t)):t.pa(i);break;case 10:if(i==r.bs.Bs){var l,d=0;this.partners={};var f=0,g=0;l=t.Lc(),f=l.Mc,g=l.jc,d=l.size;for(var v=0;v<d;++v){v>0&&t.Nc.length>t.Ra[t.Ra.length-1]+1&&t.Nc.pop();var y=null,m=null;y=t.ha().value,m=new hive.snapshots.Partner,m.read(t),this.partners[y]=m}t.Uc()}else t.pa(i);break;case 11:i==r.bs.xs?(this.player=new hive.snapshots.Player,this.player.read(t)):t.pa(i);break;case 12:i==r.bs.xs?(this.client=new hive.snapshots.ClientInfo,this.client.read(t)):t.pa(i);break;case 13:i==r.bs.As?this.sessionId=t.ha().value:t.pa(i);break;default:t.pa(i)}t.la()}t.da()},hive.snapshots.JsonMetricSnapshot.prototype.write=function(t){if(t.fa("JsonMetricSnapshot"),null!==this.timestamp&&void 0!==this.timestamp&&(t.ga("timestamp",r.bs.Ps,1),t.Cc(this.timestamp),t.ya()),null!==this.guid&&void 0!==this.guid&&(t.ga("guid",r.bs.As,2),t.va(this.guid),t.ya()),null!==this.eventId&&void 0!==this.eventId&&(t.ga("eventId",r.bs.xs,3),this.eventId.write(t),t.ya()),null!==this.streamInfo&&void 0!==this.streamInfo&&(t.ga("streamInfo",r.bs.xs,4),this.streamInfo.write(t),t.ya()),null!==this.metrics&&void 0!==this.metrics&&(t.ga("metrics",r.bs.xs,5),this.metrics.write(t),t.ya()),null!==this.traffic&&void 0!==this.traffic){t.ga("traffic",r.bs.Bs,6),t.mc(r.bs.As,r.bs.xs,r.Qs(this.traffic));for(var e in this.traffic)if(this.traffic.hasOwnProperty(e)){var i=this.traffic[e];t.va(e),i.write(t)}t.wc(),t.ya()}if(null!==this.snapshotInfo&&void 0!==this.snapshotInfo&&(t.ga("snapshotInfo",r.bs.xs,7),this.snapshotInfo.write(t),t.ya()),null!==this.agentInfo&&void 0!==this.agentInfo&&(t.ga("agentInfo",r.bs.xs,8),this.agentInfo.write(t),t.ya()),null!==this.connInfo&&void 0!==this.connInfo&&(t.ga("connInfo",r.bs.xs,9),this.connInfo.write(t),t.ya()),null!==this.partners&&void 0!==this.partners){t.ga("partners",r.bs.Bs,10),t.mc(r.bs.As,r.bs.xs,r.Qs(this.partners));for(var n in this.partners)if(this.partners.hasOwnProperty(n)){var o=this.partners[n];t.va(n),o.write(t)}t.wc(),t.ya()}null!==this.player&&void 0!==this.player&&(t.ga("player",r.bs.xs,11),this.player.write(t),t.ya()),null!==this.client&&void 0!==this.client&&(t.ga("client",r.bs.xs,12),this.client.write(t),t.ya()),null!==this.sessionId&&void 0!==this.sessionId&&(t.ga("sessionId",r.bs.As,13),t.va(this.sessionId),t.ya()),t.wa(),t.Ta()}},function(t,e){/*! collections.min.js v 3.0.0 github.com/montagejs/collections */
  !function(t){function e(){throw Error("Can't construct. GenericCollection is a mixin.")}function i(){throw Error("Can't construct. GenericSet is a mixin.")}function r(){}function n(){throw Error("This is an abstract interface. Mix it. Don't construct it")}function o(){throw Error("Can't construct. RangeChanges is a mixin.")}function s(){throw Error("Can't construct. GenericOrder is a mixin.")}function a(t){if(!(this instanceof a))return new a(t);if(Array.isArray(t)||"string"==typeof t)return a.Df(t);if(t=lt(t),t instanceof a)return t;if(t.next)this.next=function(){return t.next()};else if(t.Df){var e=t.Df();this.next=function(){return e.next()}}else{if("[object Function]"!==lt.prototype.toString.call(t))throw new TypeError("Cannot iterate");this.next=t}}function c(t,e,i){this.Hf=t,this.start=null==e?0:e,this.end=i}function h(t,e,i){if(!(this instanceof h))return new h(t,e,i);var r=this.head=new this.Node;r.next=r,r.Lf=r,this.Mf=e||Object.ol,this.content=i||Function.jf,this.length=0,this.addEach(t)}function p(t){this.head=t,this.Uf=t.next}function u(t){this.value=t,this.next=this.Lf=null}function l(){throw Error("Can't construct. MapChanges is a mixin.")}function d(){throw Error("Can't construct. GenericMap is a mixin.")}function f(t,e){return this instanceof f?(this.content=e||Function.jf,this.Vf={},this.length=0,void this.addEach(t)):new f(t,e)}function g(t,e,i,r){return this instanceof g?(e=e||Object.ol,i=i||Object.hash,r=r||Function.jf,this.Mf=e,this.Qf=i,this.content=r,this.qf=new this.Jf(null,this.Kf),this.length=0,void this.addEach(t)):new g(t,e,i)}function v(t,e,i,r){return this instanceof v?(e=e||Object.ol,i=i||Object.hash,r=r||Function.jf,this.Mf=e,this.Qf=i,this.content=r,this.Vf=new Mt((void 0),function(t,i){return e(t.key,i.key)},function(t){return i(t.key)}),this.length=0,void this.addEach(t)):new v(t,e,i)}function y(t,e,i,r){return this instanceof y?(e=e||Object.ol,i=i||Object.hash,r=r||Function.jf,this.Mf=e,this.Qf=i,this.content=r,this.order=new this.Gf((void 0),e),this.Vf=new this.zf((void 0),function(t,i){return e(t.value,i.value)},function(t){return i(t.value)}),this.length=0,void this.addEach(t)):new y(t,e,i)}function m(t,e,i,r,n){return this instanceof m?(e=e||1/0,i=i||Object.ol,r=r||Object.hash,n=n||Function.jf,this.Vf=new Yt((void 0),i,r),this.Mf=i,this.Qf=r,this.content=n,this.maxLength=e,this.length=0,void this.addEach(t)):new m(t,e,i,r)}function w(t,e,i,r,n){return this instanceof w?(i=i||Object.ol,r=r||Object.hash,n=n||Function.jf,this.Mf=i,this.Qf=r,this.content=n,this.Vf=new ie((void 0),e,function(t,e){return i(t.key,e.key)},function(t){return r(t.key)}),this.length=0,void this.addEach(t)):new w(t,e,i,r)}function T(t,e,i,r){return this instanceof T?(e=e||Object.ol,i=i||Object.hash,r=r||Function.jf,this.Mf=e,this.Qf=i,this.content=r,this.Vf=new ae((void 0),function(t,i){return e(t.key,i.key)},function(t){return i(t.key)}),this.length=0,void this.addEach(t)):new T(t,e,i)}function S(t,e,i,r){return this instanceof S?(this.Wf=e||this.Wf,void le.call(this,t,i,r,function(t){var e=this.Wf();return le.prototype.set.call(this,t,e),e})):new S(t,e,i,r)}function b(t,e,i,r){return this instanceof b?(Array.isArray(t)?(this.Hf=t,t=t.splice(0,t.length)):this.Hf=[],this.Mf=e||Object.ol,this.$f=i||Object.Yf,this.content=r||Function.jf,this.length=0,void this.addEach(t)):new b(t,e,i,r)}function E(t,e,i){for(var r=0,n=t.length-1;r<=n;){var o=r+n>>1,s=i(e,t[o]);if(0<s)r=o+1;else{if(!(0>s))return o;n=o-1}}return-(r+1)}function I(t,e,i,r){if(i=E(t,e,i),0>i)return-1;for(;0<i&&r(e,t[i-1]);)i--;return r(e,t[i])?i:-1}function R(t,e,i,r){if(i=E(t,e,i),0>i)return-1;for(;i<t.length-1&&r(e,t[i+1]);)i++;return r(e,t[i])?i:-1}function k(t,e,i,r){return this instanceof k?void ye.call(this,t,e,i,r):new k(t,e,i,r)}function C(t,e,i,r){return this instanceof C?(e=e||Object.ol,i=i||Object.Yf,r=r||Function.jf,this.Mf=e,this.$f=i,this.content=r,this.Vf=new Se(null,function(t,i){return e(t.key,i.key)},function(t,e){return i(t.key,e.key)}),this.length=0,void this.addEach(t)):new C(t,e,i,r)}function O(t,e,i,r){return this instanceof O?(this.Mf=e||Object.ol,this.$f=i||Object.Yf,this.content=r||Function.jf,this.root=null,this.length=0,void this.addEach(t)):new O(t,e,i,r)}function P(t){this.value=t,this.right=this.left=null,this.length=1}function A(t,e,i){this.set=t,this.Lf=null,this.end=i,e&&(t=this.set.Xf(e))&&(this.set.Zf(t.value),this.Lf=t.tg())}function N(t,e,i,r){return this instanceof N?(e=e||Object.ol,i=i||Object.Yf,r=r||Function.jf,this.Mf=e,this.$f=i,this.content=r,this.Vf=new Ne(null,function(t,i){return e(t.key,i.key)},function(t,e){return i(t.key,e.key)}),this.length=0,void this.addEach(t)):new N(t,e,i,r)}var x={};x.eg=e,e.prototype.addEach=function(t){if(t&&Object(t)===t)if("function"==typeof t.forEach)t.forEach(this.add,this);else if("number"==typeof t.length)for(var e=0;e<t.length;e++)this.add(t[e],e);else Object.keys(t).forEach(function(e){this.add(t[e],e)},this)},e.prototype.ig=function(t){t.forEach(function(t){this["delete"](t)},this)},e.prototype.forEach=function(t,e){return this.reduce(function(i,r,n,o,s){t.call(e,r,n,o,s)},void 0)},e.prototype.map=function(t,e){var i=[];return this.reduce(function(r,n,o,s,a){i.push(t.call(e,n,o,s,a))},void 0),i},e.prototype.toArray=function(){return this.map(Function.identity)},e.prototype.rg=function(){var t={};return this.reduce(function(e,i,r){t[r]=i},void 0),t},e.prototype.filter=function(t,e){var i=this.ng();return this.reduce(function(r,n,o,s,a){t.call(e,n,o,s,a)&&i.add(n)},void 0),i},e.prototype.every=function(t,e){return this.reduce(function(i,r,n,o,s){return i&&t.call(e,r,n,o,s)},!0)},e.prototype.some=function(t,e){return this.reduce(function(i,r,n,o,s){return i||t.call(e,r,n,o,s)},!1)},e.prototype.all=function(){return this.every(Boolean)},e.prototype.ie=function(){return this.some(Boolean)},e.prototype.min=function(t){return t=this.$f||Object.Yf,this.reduce(function(e,i){return 0>t(i,e)?i:e},1/0)},e.prototype.max=function(t){return t=this.$f||Object.Yf,this.reduce(function(e,i){return 0<t(i,e)?i:e},-(1/0))},e.prototype.og=function(t){return this.reduce(function(t,e){return t+e},void 0===t?0:t)},e.prototype.sg=function(t){var e=void 0===t?0:t,i=void 0===t?0:t;return this.reduce(function(t,r){e+=r,i+=1},void 0),e/i},e.prototype.concat=function(){for(var t=this.ng(this),e=0;e<arguments.length;e++)t.addEach(arguments[e]);return t},e.prototype.ag=function(){var t=this;return this.reduce(function(e,i){return i.forEach(function(t){this.push(t)},e,t),e},[])},e.prototype.cg=function(){var t=Array.prototype.slice.call(arguments);t.unshift(this);for(var e=[],i=1/0,r=0;r<t.length;r++){var n=t[r];t[r]=n.toArray(),n.length<i&&(i=n.length)}for(r=0;r<t.length;r++)for(var n=t[r],o=0;o<n.length;o++)o<i&&o in n&&(e[o]=e[o]||[],e[o][r]=n[o]);return e},e.prototype.hg=function(t,e,i){return t=t||this.$f||Object.Yf,t.pg?(e=t.pg,t=t.Yf||this.$f||Object.Yf):e=e||Function.identity,void 0===i&&(i=1),this.map(function(t){return{pg:e(t),value:t}}).sort(function(e,r){return t(e.pg,r.pg)*i}).map(function(t){return t.value})},e.prototype.reversed=function(){return this.ng(this).reverse()},e.prototype.clone=function(t,e){if(void 0===t)t=1/0;else if(0===t)return this;var i=this.ng();return this.forEach(function(r,n){i.add(Object.clone(r,t-1,e),n)},this),i},e.prototype.only=function(){if(0===this.length)throw Error("Can't get only value in empty collection.");if(1<this.length)throw Error("Can't get only value in collection with multiple values.");return this.ug()},x.eg&&(x=x.eg);var B={};B.eg=i,i.prototype.lg=function(t){var e=this.ng(this);return e.addEach(t),e},i.prototype.dg=function(t){return this.ng(this.filter(function(e){return t.has(e)}))},i.prototype.fg=function(t){var e=this.ng(this);return e.ig(t),e},i.prototype.gg=function(t){var e=this.lg(t),t=this.dg(t);return e.fg(t)},i.prototype.ol=function(t,e){var i=this;return Object.vg(t,"reduce")&&this.length===t.length&&t.reduce(function(t,r){return t&&i.has(r,e)},!0)},B.eg&&(B=B.eg);var F=x,_=Object.prototype.toString;Array.isArray||(Array.isArray=function(t){return"[object Array]"==_.call(t)}),Array.prototype.forEach||(Array.prototype.forEach=F.forEach),Array.prototype.map||(Array.prototype.map=F.map),Array.prototype.filter||(Array.prototype.filter=F.filter),Array.prototype.every||(Array.prototype.every=F.every),Array.prototype.some||(Array.prototype.some=F.some),Array.prototype.reduce||(Array.prototype.reduce=function(t){var e=toObject(this),i=e.length>>>0;if("[object Function]"!=_.call(t))throw new TypeError(t+" is not a function");if(!i&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var r,n=0;if(2<=arguments.length)r=arguments[1];else for(;;){if(n in e){r=e[n++];break}if(++n>=i)throw new TypeError("reduce of empty array with no initial value")}for(;n<i;n++)n in e&&(r=t.call(void 0,r,e[n],n,e));return r}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(t){var e=toObject(this),i=e.length>>>0;if("[object Function]"!=_.call(t))throw new TypeError(t+" is not a function");if(!i&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var r,i=i-1;if(2<=arguments.length)r=arguments[1];else for(;;){if(i in e){r=e[i--];break}if(0>--i)throw new TypeError("reduceRight of empty array with no initial value")}do i in this&&(r=t.call(void 0,r,e[i],i,e));while(i--);return r}),Array.prototype.indexOf||(Array.prototype.indexOf=function(t){var e=toObject(this),i=e.length>>>0;if(!i)return-1;var r=0;for(1<arguments.length&&(r=toInteger(arguments[1])),r=0<=r?r:Math.max(0,i+r);r<i;r++)if(r in e&&e[r]===t)return r;return-1}),Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(t){var e=toObject(this),i=e.length>>>0;if(!i)return-1;var r=i-1;for(1<arguments.length&&(r=Math.min(r,toInteger(arguments[1]))),r=0<=r?r:i-Math.abs(r);0<=r;r--)if(r in e&&t===e[r])return r;return-1});var D={};D.eg=Function,Function.jf=function(){},Function.identity=function(t){return t},Function.pg=function(t,e){var e=e||Object.Yf,t=t||Function.identity,i=function(i,r){return e(t(i),t(r))};return i.Yf=e,i.pg=t,i},D.eg&&(D=D.eg);var H={};H.eg=r,r.yg={dg:"+",mg:"-",wg:"+",Tg:"+",Sg:".",bg:"'",Eg:"+",Ig:"|"},r.Rg={dg:"╋",mg:"━",wg:"┻",Tg:"┳",Sg:"╭",bg:"╰",Eg:"┣",Ig:"┃"},r.kg={dg:"╋",mg:"━",wg:"┻",Tg:"┳",Sg:"┏",bg:"┗",Eg:"┣",Ig:"┃"},H.eg&&(H=H.eg);var L,M={},j=M;if("undefined"!=typeof WeakMap)L=WeakMap;else{var U=function(t){return t.prototype=null,Object.freeze(t)},V=Object.getOwnPropertyNames,Q=Object.defineProperty,q={};V(Object).forEach(function(t){q[t]=Object[t]});var J="ident:"+Math.random()+"___";if("undefined"!=typeof crypto&&"function"==typeof crypto.getRandomValues&&"function"==typeof ArrayBuffer&&"function"==typeof Uint8Array){var K=new ArrayBuffer(25),K=new Uint8Array(K);crypto.getRandomValues(K),J="rand:"+Array.prototype.map.call(K,function(t){return(t%36).toString(36)}).join("")+"___"}Q(Object,"getOwnPropertyNames",{value:function(t){return V(t).filter(function(t){return t!==J})}}),"getPropertyNames"in Object&&Q(Object,"getPropertyNames",{value:function(t){return q.getPropertyNames(t).filter(function(t){return t!==J})}});var G=function(t){if(t!==Object(t))throw new TypeError("Not an object: "+t);var e=t[J];return e&&e.key===t?e:q.isExtensible(t)?(e={key:t,Cg:[],Og:[]},Q(t,J,{value:e,Pg:!1,Ag:!1,Ng:!1}),e):void 0},z=Object.freeze;Q(Object,"freeze",{value:function(t){return G(t),z(t)}});var W=Object.seal;Q(Object,"seal",{value:function(t){return G(t),W(t)}});var $=Object.preventExtensions;Q(Object,"preventExtensions",{value:function(t){return G(t),$(t)}});var Y=function(){function t(r,n){var o,s=G(r);return s?(o=s.Cg.indexOf(t),s=s.Og):(o=e.indexOf(r),s=i),0<=o?s[o]:n}var e=[],i=[];return Object.create(Y.prototype,{xg:{value:U(t)},Bg:{value:U(function(i){var r=G(i);return 0<=(r?r.Cg.indexOf(t):e.indexOf(i))})},Fg:{value:U(function(r,n){var o,s=G(r);s?(o=s.Cg.indexOf(t),0<=o?s.Og[o]=n:(s.Cg.push(t),s.Og.push(n))):(o=e.indexOf(r),0<=o?i[o]=n:(e.push(r),i.push(n)))})},_g:{value:U(function(r){var n=G(r);return n?(r=n.Cg.indexOf(t),0<=r&&(n.Cg.splice(r,1),n.Og.splice(r,1))):(r=e.indexOf(r),0<=r&&(e.splice(r,1),i.splice(r,1))),!0})}})};Y.prototype=Object.create(Object.prototype,{get:{value:function(t,e){return this.xg(t,e)},Pg:!0,Ng:!0},has:{value:function(t){return this.Bg(t)},Pg:!0,Ng:!0},set:{value:function(t,e){this.Fg(t,e)},Pg:!0,Ng:!0},"delete":{value:function(t){return this._g(t)},Pg:!0,Ng:!0}}),L=Y}j.eg=L,M.eg&&(M=M.eg);var X={},Z=M,tt=Object.prototype.hasOwnProperty,et=new Z,it=new Z;X.eg=n,n.prototype.Dg=function(t){et.has(this)||et.set(this,{});var e=et.get(this);return tt.call(e,t)||(e[t]={Hg:[],Lg:[]}),e[t]},n.prototype.Mg=function(t){if(!et.has(this))return!1;if(!t)return!0;var e=et.get(this);return!!tt.call(e,t)},n.prototype.jg=function(t,e,i){this.makeObservable&&!this.isObservable&&this.makeObservable();var r=n.Dg(this,t),i=i?r.Hg:r.Lg;n.Ug(this,t),i.push(e)},n.prototype.Vg=function(t,e){return n.jg(this,t,e,!0)},n.prototype.Qg=function(t,e,i){var r=n.Dg(this,t),i=i?r.Hg:r.Lg,e=i.lastIndexOf(e);if(-1===e)throw Error("Can't remove listener: does not exist.");i.splice(e,1),0===r.Lg.length+r.Hg.length&&n.qg(this,t)},n.prototype.Jg=function(t,e){return n.Qg(this,t,e,!0)},n.prototype.Kg=function(t,e,i){var r=n.Dg(this,t),r=i?r.Hg:r.Lg,i=(i?"Will":"")+"Change",o="handleProperty"+i,s=String(t),s=s&&s[0].toUpperCase()+s.slice(1),a="handle"+s+i;r.forEach(function(i){var r=i,i=i[a]||i[o]||i;i.call&&i.call(r,e,t,this)},this)},n.prototype.Gg=function(t,e){return n.Kg(this,t,e,!0)},n.prototype.Ug=function(t){if(!Array.isArray(this)){it.has(this)||(e={},it.set(this,e));var e=it.get(this);if(!tt.call(e,t)){var i,r=this;Object.getOwnPropertyDescriptor(r,t);do{if(i=Object.getOwnPropertyDescriptor(r,t))break;r=Object.getPrototypeOf(r)}while(r);if(i=i||{value:void 0,Ag:!0,Pg:!0,Ng:!0},!i.Ng)throw Error("Can't observe non-configurable properties");e[t]=i,(i.Pg||i.set)&&Object.defineProperty(this,t,"value"in i?{get:function(){return i.value},set:function(e){return e===i.value?e:(n.Gg(this,t,i.value),i.value=e,n.Kg(this,t,e),e)},Ag:i.Ag,Ng:!0}:{get:function(){if(i.get)return i.get.apply(this,arguments)},set:function(e){var r;return i.get&&(r=i.get.apply(this,arguments)),e===r?e:(n.Gg(this,t,r),i.set&&i.set.apply(this,arguments),i.get&&(e=i.get.apply(this,arguments)),n.Kg(this,t,e),e)},Ag:i.Ag,Ng:!0})}}},n.prototype.qg=function(t){if(!Array.isArray(this)){if(!it.has(this))throw Error("Can't uninstall observer on property");var e=it.get(this);if(!e[t])throw Error("Can't uninstall observer on property");var i=e[t];delete e[t],Object.defineProperty(this,t,i)}},n.Dg=function(t,e){return t.Dg?t.Dg(e):n.prototype.Dg.call(t,e)},n.Mg=function(t,e){return t.Mg?t.Mg(e):n.prototype.Mg.call(t,e)},n.jg=function(t,e,i,r){return t.jg?t.jg(e,i,r):n.prototype.jg.call(t,e,i,r)},n.Qg=function(t,e,i,r){return t.Qg?t.Qg(e,i,r):n.prototype.Qg.call(t,e,i,r)},n.Kg=function(t,e,i,r){return t.Kg?t.Kg(e,i,r):n.prototype.Kg.call(t,e,i,r)},n.Vg=function(t,e,i){return n.jg(t,e,i,!0)},n.Jg=function(t,e,i){return n.Qg(t,e,i,!0)},n.Gg=function(t,e,i){return n.Kg(t,e,i,!0)},n.Ug=function(t,e){return t.Ug?t.Ug(e):n.prototype.Ug.call(t,e)},n.qg=function(t,e){return t.qg?t.qg(e):n.prototype.qg.call(t,e)},X.eg&&(X=X.eg);var rt={},nt=new M;rt.eg=o,o.prototype.zg=function(){return nt.has(this)||nt.set(this,{st:!1,Lg:[],Hg:[]}),nt.get(this)},o.prototype.Wg=function(t,e){!this.isObservable&&this.makeObservable&&this.makeObservable();var i=this.zg();(e?i.Hg:i.Lg).push(t),this.$g=!!(i.Hg.length+i.Lg.length)},o.prototype.Yg=function(t,e){var i,r=this.zg();i=e?r.Hg:r.Lg;var n=i.lastIndexOf(t);if(-1===n)throw Error("Can't remove listener: does not exist.");i.splice(n,1),this.$g=!!(r.Hg.length+r.Lg.length)},o.prototype.Xg=function(t,e,i,r){var n=this.zg();if(!n.st){n.st=!0;var o;o=r?n.Hg:n.Lg;try{o.forEach(function(n){n.yd?n.yd({Zg:r?"before":"after",currentTarget:this,target:this,tv:t,ev:e,index:i}):(n=r?n.handleRangeWillChange||n:n.handleRangeChange||n,n.call&&n.call(this,t,e,i,r))},this)}finally{n.st=!1}}},o.prototype.iv=function(t){return this.Wg(t,!0)},o.prototype.rv=function(t){return this.Yg(t,!0)},o.prototype.nv=function(t,e,i){return this.Xg(t,e,i,!0)},rt.eg&&(rt=rt.eg);var ot={},st=M;ot.eg=Object,Object.empty=Object.freeze(Object.create(null)),Object.ov=function(t){return Object(t)===t},Object.sv=function(t){return Object.vg(t,"valueOf")&&(t=t.valueOf()),t};var at=new st;Object.hash=function(t){return Object.vg(t,"hash")?""+t.hash():Object(t)===t?(at.has(t)||at.set(t,Math.random().toString(36).slice(2)),at.get(t)):""+t};var ct=Object.prototype.hasOwnProperty;Object.av=function(t,e){return ct.call(t,e)},Object.vg=function(t,e){return null!=t&&"function"==typeof t[e]&&!ct.call(t,e)},Object.has=function(t,e){if("object"!=typeof t)throw Error("Object.has can't accept non-object: "+typeof t);if(Object.vg(t,"has"))return t.has(e);if("string"==typeof e)return e in t&&t[e]!==Object.prototype[e];throw Error("Key must be a string for Object.has on plain objects")},Object.get=function(t,e,i){if("object"!=typeof t)throw Error("Object.get can't accept non-object: "+typeof t);return Object.vg(t,"get")?t.get(e,i):Object.has(t,e)?t[e]:i},Object.set=function(t,e,i){Object.vg(t,"set")?t.set(e,i):t[e]=i},Object.addEach=function(t,e){Object.vg(e,"forEach")?"function"==typeof e.keys?e.forEach(function(e,i){t[i]=e}):e.forEach(function(e){t[e[0]]=e[1]}):Object.keys(e).forEach(function(i){t[i]=e[i]})},Object.forEach=function(t,e,i){Object.keys(t).forEach(function(r){e.call(i,t[r],r,t)})},Object.map=function(t,e,i){return Object.keys(t).map(function(r){return e.call(i,t[r],r,t)})},Object.values=function(t){return Object.map(t,Function.identity)},Object.is=function(t,e){return t===e?0!==t||1/t===1/e:t!==t&&e!==e},Object.ol=function(t,e,i){if(i=i||Object.ol,t=Object.sv(t),e=Object.sv(e),t===e)return 0!==t||1/t===1/e;if(Object.vg(t,"equals"))return t.ol(e,i);if(Object.vg(e,"equals"))return e.ol(t,i);if("object"==typeof t&&"object"==typeof e){var r=Object.getPrototypeOf(t),n=Object.getPrototypeOf(e);if(r===n&&(r===Object.prototype||null===r)){for(var o in t)if(!i(t[o],e[o]))return!1;for(o in e)if(!i(t[o],e[o]))return!1;return!0}}return t!==t&&e!==e},Object.Yf=function(t,e){var t=Object.sv(t),e=Object.sv(e),i=typeof t;return t===e||i!==typeof e?0:"number"===i?t-e:"string"===i?t<e?-1:1:Object.vg(t,"compare")?t.Yf(e):Object.vg(e,"compare")?-e.Yf(t):0},Object.clone=function(t,e,i){if(t=Object.sv(t),i=i||new st,void 0===e)e=1/0;else if(0===e)return t;if(Object.ov(t)){if(!i.has(t))if(Object.vg(t,"clone"))i.set(t,t.clone(e,i));else{var r=Object.getPrototypeOf(t);if(null!==r&&r!==Object.prototype)throw Error("Can't clone "+t);r=Object.create(r),i.set(t,r);for(var n in t)r[n]=Object.clone(t[n],e-1,i)}return i.get(t)}return t},Object.clear=function(t){if(Object.vg(t,"clear"))t.clear();else for(var e=Object.keys(t),i=e.length;i;)i--,delete t[e[i]];return t},ot.eg&&(ot=ot.eg);var ht={},pt=ot;ht.eg=s,s.prototype.ol=function(t,e){return e=e||this.Mf||pt.ol,this===t||!!t&&(this.length===t.length&&this.cg(t).every(function(t){return e(t[0],t[1])}))},s.prototype.Yf=function(t,e){if(e=e||this.$f||pt.Yf,this===t)return 0;if(!t)return 1;var i=Math.min(this.length,t.length),r=this.cg(t).reduce(function(t,r,n){return 0===t?n>=i?t:e(r[0],r[1]):t},0);return 0===r?this.length-t.length:r},ht.eg&&(ht=ht.eg);var ut={};ut.eg=a;var lt=ot;if(lt.addEach(a.prototype,x.prototype),a.prototype.ng=function(t){var e=[];return Reducible.addEach.call(e,t),e},a.prototype.cv=function(t,e){var i=a(this),r=0;if("[object Function]"!=lt.prototype.toString.call(t))throw new TypeError;return new i.constructor(function(){return t.call(e,i.next(),r++,i)})},a.prototype.hv=function(t,e){var i=a(this),r=0;if("[object Function]"!=lt.prototype.toString.call(t))throw new TypeError;return new i.constructor(function(){for(var n;;)if(n=i.next(),t.call(e,n,r++,i))return n})},a.prototype.reduce=function(t){var e,i=a(this),r=arguments[1],n=arguments[2],o=0;if("[object Function]"!=lt.prototype.toString.call(t))throw new TypeError;try{e=i.next(),r=1<arguments.length?t.call(n,r,e,o,i):e,o++}catch(s){if(isStopIteration(s)){if(1<arguments.length)return arguments[1];throw TypeError("cannot reduce a value from an empty iterator with no initial value")}throw s}try{for(;;)e=i.next(),r=t.call(n,r,e,o,i),o++}catch(c){if(isStopIteration(c))return r;throw c}},a.prototype.every=function(t){var e=a(this),i=!0;if("[object Function]"!=lt.prototype.toString.call(t))throw new TypeError;return e.cv.apply(e,arguments).forEach(function(t){if(!t)throw i=!1,StopIteration}),i},a.prototype.some=function(t){var e=a(this),i=!1;if("[object Function]"!=lt.prototype.toString.call(t))throw new TypeError;return e.cv.apply(e,arguments).forEach(function(t){if(t)throw i=!0,StopIteration}),i},a.prototype.concat=function(){return a.concat(Array.prototype.concat.apply(this,arguments))},a.prototype.pv=function(t,e){var i,r=a(this),n=!1;if("[object Function]"!=lt.prototype.toString.call(t))throw new TypeError;return r.forEach(function(o,s){if(!t.call(e,o,s,r))throw n=!0,i=o,StopIteration}),n?r.constructor([i]).concat(r):r.constructor([])},a.prototype.uv=function(t,e){var i=a(this);if("[object Function]"!=lt.prototype.toString.call(t))throw new TypeError;return i.cv(function(r,n){if(!t.call(e,r,n,i))throw StopIteration;return r})},a.prototype.hv=function(t,e){var i=a(this),r=0;if("[object Function]"!=lt.prototype.toString.call(t))throw new TypeError;return new i.constructor(function(){for(var n;;)if(n=i.next(),t.call(e,n,r++,i))return n})},a.prototype.cg=function(){return a.lv(Array.prototype.concat.apply(this,arguments))},a.prototype.enumerate=function(t){return a.count(t).cg(this)},a.Df=function(t){var e;return e=0,new a(function(){if("object"==typeof t)for(;!(e in t);){if(e>=t.length)throw StopIteration;e+=1}else if(e>=t.length)throw StopIteration;var i=t[e];return e+=1,i})},a.dv=function(t,e){2>arguments.length&&(e=1/0);var i=function(){throw StopIteration};return new a(function(){var r;try{return i()}catch(n){if(isStopIteration(n)){if(0>=e)throw n;return e--,r=a.Df(t),(i=r.next.bind(r))()}throw n}})},a.concat=function(t){var t=a(t),e=function(){throw StopIteration};return new a(function(){var i;try{return e()}catch(r){if(isStopIteration(r))return i=a(t.next()),(e=i.next.bind(i))();throw r}})},a.lv=function(t){return t=a(t).map(a),new a(1>t.length?[]:function(){var e,i=t.map(function(t){try{return t.next()}catch(i){if(!isStopIteration(i))throw i;e=!0}});if(e)throw StopIteration;return i})},a.cg=function(){return a.lv(Array.prototype.slice.call(arguments))},a.chain=function(){return a.concat(Array.prototype.slice.call(arguments))},a.range=function(t,e,i){return 3>arguments.length&&(i=1),2>arguments.length&&(e=t,t=0),t=t||0,new a(function(){if(t>=e)throw StopIteration;if(isNaN(t))throw"";var r=t;return t+=i,r})},a.count=function(t,e){return a.range(t,1/0,e||1)},a.repeat=function(t,e){return 2>arguments.length&&(e=1/0),new a.range((+e)).cv(function(){return t})},"undefined"==typeof isStopIteration&&(t.fv=function(t){return"[object StopIteration]"===lt.prototype.toString.call(t)}),"undefined"==typeof StopIteration){t.StopIteration={};var dt=lt.prototype.toString;lt.prototype.toString=function(){return this===t.StopIteration||this instanceof t.gv?"[object StopIteration]":dt.call(this,arguments)}}"undefined"==typeof ReturnValue&&(t.gv=function(e){return this instanceof t.gv?void(this.value=e):new t.gv(e)}),ut.eg&&(ut=ut.eg);var ft={},gt=x,vt=ht,yt=M;ft.eg=Array,Array.empty=[],Object.freeze&&Object.freeze(Array.empty),Array.from=function(t){var e=[];return e.addEach(t),e},Array.prototype.addEach=gt.prototype.addEach,Array.prototype.ig=gt.prototype.ig,Array.prototype.toArray=gt.prototype.toArray,Array.prototype.rg=gt.prototype.rg,Array.prototype.all=gt.prototype.all,Array.prototype.ie=gt.prototype.ie,Array.prototype.min=gt.prototype.min,Array.prototype.max=gt.prototype.max,Array.prototype.og=gt.prototype.og,Array.prototype.sg=gt.prototype.sg,Array.prototype.only=gt.prototype.only,Array.prototype.ag=gt.prototype.ag,Array.prototype.cg=gt.prototype.cg,Array.prototype.hg=gt.prototype.hg,Array.prototype.reversed=gt.prototype.reversed,Array.prototype.ng=function(t){var e=new this.constructor;return e.addEach(t),e},Array.prototype.has=function(t,e){return-1!==this.find(t,e)},Array.prototype.get=function(t){return this[t]},Array.prototype.set=function(t,e){return this.splice(t,1,e),!0},Array.prototype.add=function(t){return this.push(t),!0},Array.prototype["delete"]=function(t,e){var i=this.find(t,e);return-1!==i&&(this.splice(i,1),!0)},Array.prototype.find=function(t,e){for(var e=e||this.Mf||Object.ol,i=0;i<this.length;i++)if(i in this&&e(this[i],t))return i;return-1},Array.prototype.vv=function(t,e){var e=e||this.Mf||Object.ol,i=this.length;do if(i--,i in this&&e(this[i],t))return i;while(0<i);return-1},Array.prototype.yv=function(t,e,i){var r=Array.prototype.slice.call(arguments,0,2);return i&&r.push.apply(r,i),this.splice.apply(this,r)},Array.prototype.ug=function(){if(0===this.length)throw Error("Can't get one element from empty array.");for(var t in this)if(Object.av(this,t))return this[t]},Array.prototype.clear=function(){return this.length=0,this},Array.prototype.Yf=function(t,e){var i,r,n,o,e=e||Object.Yf;if(this===t)return 0;if(!t||!Array.isArray(t))return vt.prototype.Yf.call(this,t,e);for(r=Math.min(this.length,t.length),i=0;i<r;i++)if(i in this){if(!(i in t))return-1;if(n=this[i],o=t[i],n=e(n,o))return n}else if(i in t)return 1;return this.length-t.length},Array.prototype.ol=function(t){var e,i,r=r||Object.ol,n=0,o=this.length;if(this===t)return!0;if(!t||!Array.isArray(t))return vt.prototype.ol.call(this,t);if(o!==t.length)return!1;for(;n<o;++n)if(n in this){if(e=this[n],i=t[n],e!==i&&e&&i&&!r(e,i))return!1}else if(n in t)return!1;return!0},Array.prototype.clone=function(t,e){if(void 0===t)t=1/0;else if(0===t)return this;var i,e=e||new yt,r=[];for(i in this)Object.av(this,i)&&(r[i]=Object.clone(this[i],t-1,e));return r},Array.prototype.Df=function(t,e){return new c(this,t,e)},Array.prototype.Iterator=c,c.prototype.next=function(){if(this.start===(null==this.end?this.Hf.length:this.end))throw StopIteration;return this.Hf[this.start++]},ft.eg&&(ft=ft.eg);var mt={};mt.eg=h;var wt=ht,Tt=X;Object.addEach(h.prototype,x.prototype),Object.addEach(h.prototype,wt.prototype),Object.addEach(h.prototype,Tt.prototype),h.prototype.ng=function(t){return new this.constructor(t,this.Mf,this.content)},h.prototype.find=function(t,e){for(var e=e||this.Mf,i=this.head,r=i.next;r!==i;){if(e(r.value,t))return r;r=r.next}},h.prototype.vv=function(t,e){for(var e=e||this.Mf,i=this.head,r=i.Lf;r!==i;){if(e(r.value,t))return r;r=r.Lf}},h.prototype.has=function(t,e){return!!this.find(t,e)},h.prototype.get=function(t,e){var i=this.find(t,e);return i?i.value:this.content()},h.prototype["delete"]=function(t,e){var i=this.vv(t,e);return!!i&&(i["delete"](),this.length--,!0)},h.prototype.clear=function(){this.head.next=this.head.Lf=this.head,this.length=0},h.prototype.add=function(t){return this.head.mv(new this.Node(t)),this.length++,!0},h.prototype.push=function(){for(var t=this.head,e=0;e<arguments.length;e++){var i=new this.Node(arguments[e]);t.mv(i),this.length++}},h.prototype.unshift=function(){for(var t=this.head,e=0;e<arguments.length;e++){var i=new this.Node(arguments[e]);t.wv(i),this.length++,t=i}},h.prototype.pop=function(){var t,e=this.head;return e.Lf!==e&&(t=e.Lf.value,e.Lf["delete"](),this.length--),t},h.prototype.shift=function(){var t,e=this.head;return e.Lf!==e&&(t=e.next.value,e.next["delete"](),this.length--),t},h.prototype.Tv=function(t,e){var i=this.head;if("number"==typeof t){var r=t;if(0<=r)for(t=i.next;r&&(r--,t=t.next,!(t==i)););else for(t=i;0>r&&(r++,t=t.Lf,!(t==i)););return t}return t||e},h.prototype.slice=function(t,e){for(var i=[],r=this.head,t=this.Tv(t,r.next),e=this.Tv(e,r);t!==e&&t!==r;)i.push(t.value),t=t.next;return i},h.prototype.splice=function(t,e){return this.yv(t,e,Array.prototype.slice.call(arguments,2))},h.prototype.yv=function(t,e,i){var r=[],n=t,t=this.Tv(t,this.head);for(void 0===e&&(e=1/0);e--&&0<=e&&t!==this.head;)r.push(t.value),t["delete"](),t=t.next,this.length--;if(i){for(null===n&&t===this.head&&(t=this.head.next),e=0;e<i.length;e++)n=new this.Node(i[e]),t.mv(n);this.length+=i.length}return r},h.prototype.reverse=function(){var t=this.head;do{var e=t.next;t.next=t.Lf,t.Lf=e,t=t.next}while(t!==this.head);return this},h.prototype.reduce=function(t,e,i){for(var r=this.head,n=r.next;n!==r;)e=t.call(i,e,n.value,n,this),n=n.next;return e},h.prototype.reduceRight=function(t,e,i){for(var r=this.head,n=r.Lf;n!==r;)e=t.call(i,e,n.value,n,this),n=n.Lf;return e},h.prototype.ug=function(){if(this.head===this.head.next)throw Error("Can't get one value from empty list");return this.head.next.value},h.prototype.Df=function(){return new p(this.head)},p.prototype.next=function(){if(this.Uf===this.head)throw StopIteration;var t=this.Uf.value;return this.Uf=this.Uf.next,t},h.prototype.Node=u,u.prototype["delete"]=function(){this.Lf.next=this.next,this.next.Lf=this.Lf},u.prototype.mv=function(t){var e=this.Lf;this.Lf=t,t.Lf=e,e.next=t,t.next=this},u.prototype.wv=function(t){var e=this.next;this.next=t,t.next=e,e.Lf=t,t.Lf=this},mt.eg&&(mt=mt.eg);var St={},bt=mt;St.eg=l,l.prototype.Sv=function(){return this.bv||(this.bv={Hg:new bt,Lg:new bt}),this.bv},l.prototype.Ev=function(t,e){this.makeObservable&&!this.dispatchMapChanges&&this.makeObservable();var i=this.Sv();(e?i.Hg:i.Lg).push(t),this.Iv=!0},l.prototype.Rv=function(t,e){var i=this.Sv(),i=(e?i.Hg:i.Lg).vv(t);if(!i)throw Error("Can't remove listener: does not exist.");i["delete"]()},l.prototype.kv=function(t,e,i){var r=this.Sv(),n="handleMap"+((i?"Will":"")+"Change");(i?r.Hg:r.Lg).forEach(function(i){var r=i,i=i[n]||i;i.call&&i.call(r,e,t,this)},this)},l.prototype.Cv=function(t){return this.Ev(t,!0)},l.prototype.Ov=function(t){return this.Rv(t,!0)},l.prototype.Pv=function(t,e){return this.kv(t,e,!0)},St.eg&&(St=St.eg);var Et={},It=ot,Rt=St,kt=X;Et.eg=d,It.addEach(d.prototype,Rt.prototype),It.addEach(d.prototype,kt.prototype),d.prototype.addEach=function(t){t&&It(t)===t&&("function"==typeof t.forEach?"function"==typeof t.keys?t.forEach(function(t,e){this.set(e,t)},this):t.forEach(function(t){this.set(t[0],t[1])},this):It.keys(t).forEach(function(e){this.set(e,t[e])},this))},d.prototype.get=function(t,e){var i=this.Vf.get(new this.Av(t));return i?i.value:1<arguments.length?e:this.content(t)},d.prototype.set=function(t,e){var i=new this.Av(t,e),r=this.Vf.get(i),n=!1;return r?(this.Iv&&this.Pv(t,r.value),r.value=e):(this.Iv&&this.Pv(t,void 0),this.Vf.add(i)&&(this.length++,n=!0)),this.Iv&&this.kv(t,e),n},d.prototype.add=function(t,e){return this.set(e,t)},d.prototype.has=function(t){return this.Vf.has(new this.Av(t))},d.prototype["delete"]=function(t){var e=new this.Av(t);if(this.Vf.has(e)){var i=this.Vf.get(e).value;return this.Iv&&this.Pv(t,i),this.Vf["delete"](e),this.length--,this.Iv&&this.kv(t,void 0),!0}return!1},d.prototype.clear=function(){this.Vf.clear(),this.length=0},d.prototype.reduce=function(t,e,i){return this.Vf.reduce(function(e,r){return t.call(i,e,r.value,r.key,this)},e,this)},d.prototype.reduceRight=function(t,e,i){return this.Vf.reduceRight(function(e,r){return t.call(i,e,r.value,r.key,this)},e,this)},d.prototype.keys=function(){return this.map(function(t,e){return e})},d.prototype.values=function(){return this.map(Function.identity)},d.prototype.Nv=function(){return this.map(function(t,e){return[e,t]})},d.prototype.ol=function(t,e){return e=e||It.ol,this===t||(It.vg(t,"every")?t.length===this.length&&t.every(function(t,i){return e(this.get(i),t)},this):It.keys(t).length===this.length&&It.keys(t).every(function(i){return e(this.get(i),t[i])},this))},d.prototype.Av=function(t,e){this.key=t,this.value=e},Et.eg&&(Et=Et.eg);var Ct={},Ot=x,Pt=Et,At=X;Ct.eg=f,Object.addEach(f.prototype,Ot.prototype),
    Object.addEach(f.prototype,Pt.prototype),Object.addEach(f.prototype,At.prototype),f.prototype.ng=function(t){return new this.constructor(t,this.mangle,this.content)},f.prototype.xv=function(t){if("string"!=typeof t)throw new TypeError("key must be a string.")},f.prototype.get=function(t,e){this.xv(t);var i="~"+t;return i in this.Vf?this.Vf[i]:1<arguments.length?e:this.content()},f.prototype.set=function(t,e){this.xv(t);var i="~"+t;return i in this.Vf?(this.Vf[i]=e,!1):(this.length++,this.Vf[i]=e,!0)},f.prototype.has=function(t){return this.xv(t),"~"+t in this.Vf},f.prototype["delete"]=function(t){return this.xv(t),"~"+t in this.Vf&&(delete this.Vf["~"+t],this.length--,!0)},f.prototype.clear=function(){for(var t in this.Vf)delete this.Vf[t];this.length=0},f.prototype.reduce=function(t,e,i){for(var r in this.Vf)e=t.call(i,e,this.Vf[r],r.slice(1),this);return e},f.prototype.ug=function(){for(var t in this.Vf)return this.Vf[t];throw Error("Can't get one value from empty dictionary.")},Ct.eg&&(Ct=Ct.eg);var Nt={},xt=Ct,Bt=mt,Ft=x,_t=B,Dt=H,Ht=X;Nt.eg=g,Object.addEach(g.prototype,Ft.prototype),Object.addEach(g.prototype,_t.prototype),Object.addEach(g.prototype,Ht.prototype),g.prototype.Jf=xt,g.prototype.Kf=Bt,g.prototype.ng=function(t){return new this.constructor(t,this.Mf,this.Qf,this.content)},g.prototype.has=function(t){var e=this.Qf(t);return this.qf.get(e).has(t)},g.prototype.get=function(t){var e=this.Qf(t),i=this.qf;return i.has(e)?i.get(e).get(t):this.content(t)},g.prototype["delete"]=function(t){var e=this.Qf(t),i=this.qf;if(i.has(e)){var r=i.get(e);if(r["delete"](t))return this.length--,0===r.length&&i["delete"](e),!0}return!1},g.prototype.clear=function(){this.qf.clear(),this.length=0},g.prototype.add=function(t){var e=this.Qf(t),i=this.qf;return i.has(e)||i.set(e,new this.Kf(null,this.Mf)),!i.get(e).has(t)&&(i.get(e).add(t),this.length++,!0)},g.prototype.reduce=function(t,e,i){return this.qf.reduce(function(e,r){return r.reduce(function(e,r){return t.call(i,e,r,r,this)},e,this)},e,this)},g.prototype.ug=function(){if(0===this.length)throw Error("Can't get one value from empty set.");return this.qf.ug().ug()},g.prototype.Df=function(){return this.qf.values().ag().Df()},g.prototype.log=function(t,e,i,r){t=t||Dt.kg,e=e||this.Bv,i||(i=console.log,r=console);var i=i.bind(r),n=this.qf,o=n.keys();o.forEach(function(s,a){var c,h;a===o.length-1?(c=t.bg,h=" "):(c=0===a?t.Tg:t.Eg,h=t.Ig);var p=n.get(s);i.call(r,c+t.mg+t.Tg+" "+s),p.forEach(function(n,o){var s,a;o===p.head.Lf?(s=t.bg,a=" "):(s=t.Eg,a=t.Ig);var c;e(o,function(e){c?i.call(r,h+" "+a+"  "+e):(i.call(r,h+" "+s+t.mg+t.mg+e),c=!0)},function(e){i.call(r,h+" "+t.Ig+"  "+e)})})})},g.prototype.Bv=function(t,e){var i=t.value;Object(i)===i?JSON.stringify(i,null,4).split("\n").forEach(function(t){e(" "+t)}):e(" "+i)},Nt.eg&&(Nt=Nt.eg);var Lt={},Mt=Nt,jt=x,Ut=Et,Vt=X;Lt.eg=v,Object.addEach(v.prototype,jt.prototype),Object.addEach(v.prototype,Ut.prototype),Object.addEach(v.prototype,Vt.prototype),v.prototype.ng=function(t){return new this.constructor(t,this.Mf,this.Qf,this.content)},v.prototype.log=function(t,e){e=e||this.stringify,this.Vf.log(t,e)},v.prototype.stringify=function(t,e){return e+JSON.stringify(t.key)+": "+JSON.stringify(t.value)},Lt.eg&&(Lt=Lt.eg);var Qt={},qt=mt,Jt=Nt,Kt=x,Gt=B,zt=X,Wt=rt;Qt.eg=y,Object.addEach(y.prototype,Kt.prototype),Object.addEach(y.prototype,Gt.prototype),Object.addEach(y.prototype,zt.prototype),Object.addEach(y.prototype,Wt.prototype),y.prototype.Gf=qt,y.prototype.zf=Jt,y.prototype.ng=function(t){return new this.constructor(t,this.Mf,this.Qf,this.content)},y.prototype.has=function(t){return t=new this.order.Node(t),this.Vf.has(t)},y.prototype.get=function(t){var e=new this.order.Node(t);return(e=this.Vf.get(e))?e.value:this.content(t)},y.prototype.add=function(t){var e=new this.order.Node(t);return!this.Vf.has(e)&&(this.$g&&this.nv([t],[],0),this.order.add(t),e=this.order.head.Lf,this.Vf.add(e),this.length++,this.$g&&this.Xg([t],[],0),!0)},y.prototype["delete"]=function(t){var e=new this.order.Node(t);return!!this.Vf.has(e)&&(this.$g&&this.nv([],[t],0),e=this.Vf.get(e),this.Vf["delete"](e),e["delete"](),this.length--,this.$g&&this.Xg([],[t],0),!0)},y.prototype.ug=function(){if(0===this.length)throw Error("Can't get one value from empty set.");return this.Vf.ug().value},y.prototype.clear=function(){this.Vf.clear(),this.order.clear(),this.length=0},y.prototype.reduce=function(t,e,i){return this.order.reduce(function(e,r){return t.call(i,e,r,r,this)},e,this)},y.prototype.reduceRight=function(t,e,i){return this.order.reduceRight(function(e,r){return t.call(i,e,r,r,this)},e,this)},y.prototype.Df=function(){return this.order.Df()},y.prototype.log=function(){var t=this.Vf;return t.log.apply(t,arguments)},Qt.eg&&(Qt=Qt.eg);var $t={},Yt=Qt,Xt=x,Zt=B,te=X;$t.eg=m,Object.addEach(m.prototype,Xt.prototype),Object.addEach(m.prototype,Zt.prototype),Object.addEach(m.prototype,te.prototype),m.prototype.ng=function(t){return new this.constructor(t,this.maxLength,this.Mf,this.Qf,this.content)},m.prototype.has=function(t){return this.Vf.has(t)},m.prototype.get=function(t){return t=this.Vf.get(t),void 0!==t?(this.Vf["delete"](t),this.Vf.add(t)):t=this.content(),t},m.prototype.add=function(t){return this.Vf.has(t)&&(this.Vf["delete"](t),this.length--),this.Vf.add(t),this.length++,!(this.Vf.length>this.maxLength)||(this.Vf["delete"](this.Vf.order.head.next.value),this.length--,!1)},m.prototype["delete"]=function(t){return!!this.Vf["delete"](t)&&(this.length--,!0)},m.prototype.ug=function(){if(0===this.length)throw Error("Can't get one value from empty collection.");return this.Vf.ug()},m.prototype.clear=function(){this.Vf.clear(),this.length=0},m.prototype.reduce=function(t,e,i){return this.Vf.reduce(function(e,r){return t.call(i,e,r,r,this)},e,this)},m.prototype.reduceRight=function(t,e,i){return this.Vf.reduceRight(function(t,e){return callback.call(i,t,e,e,this)},basis,this)},m.prototype.Df=function(){return this.Vf.Df()},$t.eg&&($t=$t.eg);var ee={},ie=$t,re=x,ne=Et,oe=X;ee.eg=w,Object.addEach(w.prototype,re.prototype),Object.addEach(w.prototype,ne.prototype),Object.addEach(w.prototype,oe.prototype),w.prototype.ng=function(t){return new this.constructor(t,this.maxLength,this.Mf,this.Qf,this.content)},w.prototype.log=function(t,e){e=e||this.stringify,this.Vf.log(t,e)},w.prototype.stringify=function(t,e){return e+JSON.stringify(t.key)+": "+JSON.stringify(t.value)},ee.eg&&(ee=ee.eg);var se={},ae=Qt,ce=x,he=Et,pe=X;se.eg=T,Object.addEach(T.prototype,ce.prototype),Object.addEach(T.prototype,he.prototype),Object.addEach(T.prototype,pe.prototype),T.prototype.ng=function(t){return new this.constructor(t,this.Mf,this.Qf,this.content)},T.prototype.log=function(t,e){e=e||this.stringify,this.Vf.log(t,e)},T.prototype.stringify=function(t,e){return e+JSON.stringify(t.key)+": "+JSON.stringify(t.value)},se.eg&&(se=se.eg);var ue={},le=se;ue.eg=S,S.prototype=Object.create(le.prototype),S.prototype.constructor=S,S.prototype.ng=function(t){return new this.constructor(t,this.Wf,this.Mf,this.Qf)},S.prototype.set=function(t,e){var i=this.get(t);i.yv(0,i.length,e)},S.prototype.Wf=function(){return[]},ue.eg&&(ue=ue.eg);var de={};de.eg=b;var fe=X,ge=rt;Object.addEach(b.prototype,x.prototype),Object.addEach(b.prototype,fe.prototype),Object.addEach(b.prototype,ge.prototype),b.prototype.ng=function(t){return new this.constructor(t,this.Mf,this.$f,this.content)},b.prototype.has=function(t){var e=E(this.Hf,t,this.$f);return 0<=e&&this.Mf(this.Hf[e],t)},b.prototype.get=function(t){var e=I(this.Hf,t,this.$f,this.Mf);return-1!==e?this.Hf[e]:this.content(t)},b.prototype.add=function(t){var e;e=this.Hf;var i=this.$f,r=E(e,t,i);if(0>r)e=-r-1;else{for(var n=e.length-1;r<n&&0===i(t,e[r+1]);)r++;e=r}return this.$g&&this.nv([t],[],e),this.Hf.splice(e,0,t),this.length++,this.$g&&this.Xg([t],[],e),!0},b.prototype["delete"]=function(t){var e=I(this.Hf,t,this.$f,this.Mf);return-1!==e&&(this.$g&&this.nv([],[t],e),this.Hf.splice(e,1),this.length--,this.$g&&this.Xg([],[t],e),!0)},b.prototype.indexOf=function(t){return I(this.Hf,t,this.$f,this.Mf)},b.prototype.lastIndexOf=function(t){return R(this.Hf,t,this.$f,this.Mf)},b.prototype.find=function(t){return I(this.Hf,t,this.$f,this.Mf)},b.prototype.vv=function(t){return R(this.Hf,t,this.$f,this.Mf)},b.prototype.push=function(){this.addEach(arguments)},b.prototype.unshift=function(){this.addEach(arguments)},b.prototype.pop=function(){return this.Hf.pop()},b.prototype.shift=function(){return this.Hf.shift()},b.prototype.slice=function(){return this.Hf.slice.apply(this.Hf,arguments)},b.prototype.splice=function(t,e){return this.yv(t,e,Array.prototype.slice.call(arguments,2))},b.prototype.yv=function(t,e,i){if(void 0===t&&void 0===e)return[];t=t||0,0>t&&(t+=this.length),void 0===e&&(e=1/0);var r=this.slice(t,t+e);return this.$g&&this.nv(i,r,t),this.Hf.splice(t,e),this.addEach(i),this.$g&&this.Xg(i,r,t),r},b.prototype.reduce=function(t,e,i){return this.Hf.reduce(function(e,r,n){return t.call(i,e,r,n,this)},e,this)},b.prototype.reduceRight=function(t,e,i){return this.Hf.reduceRight(function(t,e,r){return callback.call(i,t,e,r,this)},basis,this)},b.prototype.min=function(){if(this.length)return this.Hf[0]},b.prototype.max=function(){if(this.length)return this.Hf[this.length-1]},b.prototype.ug=function(){return this.Hf.ug()},b.prototype.clear=function(){var t;this.$g&&(t=this.Hf.slice(),this.nv([],t,0)),this.length=0,this.Hf.clear(),this.$g&&this.Xg([],t,0)},b.prototype.ol=function(t,e){return this.Hf.ol(t,e)},b.prototype.Yf=function(t,e){return this.Hf.Yf(t,e)},b.prototype.Df=function(t,e){return new this.Iterator(this.Hf,t,e)},b.prototype.Iterator=Array.prototype.Iterator,de.eg&&(de=de.eg);var ve={};ve.eg=k;var ye=de,me=B,we=X;k.prototype=Object.create(ye.prototype),k.prototype.constructor=k,Object.addEach(k.prototype,me.prototype),Object.addEach(k.prototype,we.prototype),k.prototype.add=function(t){return!this.has(t)&&(ye.prototype.add.call(this,t),!0)},k.prototype.reduce=function(t,e,i){var r=this;return this.Hf.reduce(function(e,n,o){return t.call(i,e,n,n,r,o)},e)},k.prototype.reduceRight=function(t,e,i){var r=this;return this.Hf.reduceRight(function(e,n,o){return t.call(i,e,n,n,r,o)},e)},ve.eg&&(ve=ve.eg);var Te={},Se=ve,be=x,Ee=Et,Ie=X;Te.eg=C,Object.addEach(C.prototype,be.prototype),Object.addEach(C.prototype,Ee.prototype),Object.addEach(C.prototype,Ie.prototype),C.prototype.ng=function(t){return new this.constructor(t,this.Mf,this.$f,this.content)},Te.eg&&(Te=Te.eg);var Re={};Re.eg=O;var ke=B,Ce=X,Oe=rt,Pe=H;Object.addEach(O.prototype,x.prototype),Object.addEach(O.prototype,ke.prototype),Object.addEach(O.prototype,Ce.prototype),Object.addEach(O.prototype,Oe.prototype),O.prototype.ng=function(t){return new this.constructor(t,this.Mf,this.$f,this.content)},O.prototype.has=function(t){return!!this.root&&(this.Zf(t),this.Mf(t,this.root.value))},O.prototype.get=function(t){return this.root&&(this.Zf(t),this.Mf(t,this.root.value))?this.root.value:this.content(t)},O.prototype.add=function(t){var e=new this.Node(t);return this.root?(this.Zf(t),!this.Mf(t,this.root.value)&&(this.$g&&this.nv([t],[],this.root.index),0>this.$f(t,this.root.value)?(e.right=this.root,e.left=this.root.left,this.root.left=null):(e.left=this.root,e.right=this.root.right,this.root.right=null),this.root.Fv(),e.Fv(),this.root=e,this.length++,this.$g&&this.Xg([t],[],this.root.index),!0)):(this.$g&&this.nv([t],[],0),this.root=e,this.length++,this.$g&&this.Xg([t],[],0),!0)},O.prototype["delete"]=function(t){if(this.root&&(this.Zf(t),this.Mf(t,this.root.value))){var e=this.root.index;if(this.$g&&this.nv([],[t],e),this.root.left){var i=this.root.right;this.root=this.root.left,this.Zf(t),this.root.right=i}else this.root=this.root.right;return this.length--,this.root&&this.root.Fv(),this.$g&&this.Xg([],[t],e),!0}return!1},O.prototype.indexOf=function(t){return this.root&&(this.Zf(t),this.Mf(t,this.root.value))?this.root.index:-1},O.prototype.find=function(t){if(this.root&&(this.Zf(t),this.Mf(t,this.root.value)))return this.root},O.prototype._v=function(t){if(this.root){for(t=t||this.root;t.right;)t=t.right;return t}},O.prototype.Dv=function(t){if(this.root){for(t=t||this.root;t.left;)t=t.left;return t}},O.prototype.Hv=function(t){if(this.root)return this.Zf(t),this.root},O.prototype.Lv=function(t){if(this.root)return this.Zf(t),this.root.tg()},O.prototype.Xf=function(t){if(this.root)return this.Zf(t),0===this.$f(t,this.root.value)?this.root:this.root.Mv()},O.prototype.jv=function(t){if(this.root)return this.Zf(t),this.$f(t,this.root.value),this.root.Mv()},O.prototype.pop=function(){if(this.root){var t=this._v();return this["delete"](t.value),t.value}},O.prototype.shift=function(){if(this.root){var t=this.Dv();return this["delete"](t.value),t.value}},O.prototype.push=function(){this.addEach(arguments)},O.prototype.unshift=function(){this.addEach(arguments)},O.prototype.slice=function(t,e){t=t||0,e=e||this.length,0>t&&(t+=this.length),0>e&&(e+=this.length);var i=[];if(this.root)for(this.Uv(t);this.root.index<e&&(i.push(this.root.value),this.root.right);)this.Zf(this.root.Mv().value);return i},O.prototype.splice=function(t,e){return this.yv(t,e,Array.prototype.slice.call(arguments,2))},O.prototype.yv=function(t,e,i){if(void 0===t&&void 0===e)return[];t=t||0,0>t&&(t+=this.length),void 0===e&&(e=1/0);var r=[];if(this.root)for(this.Uv(t),t=0;t<e;t++){r.push(this.root.value);var n=this.root.Mv();if(this["delete"](this.root.value),!n)break;this.Zf(n.value)}return this.addEach(i),r},O.prototype.Zf=function(t){var e,i,r,n,o,s;if(this.root){for(e=i=r=new this.Node,s=new this.Node,o=this.root;;)if(n=this.$f(t,o.value),0>n){if(!o.left)break;if(0>this.$f(t,o.left.value)&&(n=o.left,o.left=n.right,o.Fv(),n.right=o,n.Fv(),o=n,!o.left))break;n=new P,n.right=o,n.left=s.left,s.left=n,r.left=o,r.Fv(),r=o,o=o.left}else{if(!(0<n))break;if(!o.right)break;if(0<this.$f(t,o.right.value)&&(n=o.right,o.right=n.left,o.Fv(),n.left=o,n.Fv(),o=n,!o.right))break;n=new P,n.left=o,n.right=s.right,s.right=n,i.right=o,i.Fv(),i=o,o=o.right}for(i.right=o.left,i.Fv(),r.left=o.right,r.Fv(),o.left=e.right,o.right=e.left;s.left;)s.left.right.Fv(),s.left=s.left.left;for(;s.right;)s.right.left.Fv(),s.right=s.right.right;o.Fv(),this.root=o}},O.prototype.Uv=function(t){if(this.root){for(var e=this.root,i=this.root.index;i!==t;)if(i>t&&e.left)e=e.left,i-=1+(e.right?e.right.length:0);else{if(!(i<t&&e.right))break;e=e.right,i+=1+(e.left?e.left.length:0)}return this.Zf(e.value),this.root.index===t}return!1},O.prototype.reduce=function(t,e,i){return this.root&&(e=this.root.reduce(t,e,i,this)),e},O.prototype.reduceRight=function(t,e,i){return this.root&&(e=this.root.reduceRight(t,e,i,this)),e},O.prototype.min=function(t){if(t=this.Dv(t))return t.value},O.prototype.max=function(t){if(t=this._v(t))return t.value},O.prototype.ug=function(){if(!this.root)throw Error("Can't get one value from empty set");return this.root.value},O.prototype.clear=function(){var t;this.$g&&(t=this.toArray(),this.nv([],t,0)),this.root=null,this.length=0,this.$g&&this.Xg([],t,0)},O.prototype.Df=function(t,e){return new this.Iterator(this,t,e)},O.prototype.Iterator=A,O.prototype.summary=function(){return this.root?this.root.summary():"()"},O.prototype.log=function(t,e,i,r){t=t||Pe.Rg,e=e||this.Bv,i||(i=console.log,r=console),i=i.bind(r),this.root&&this.root.log(t,e,i,i)},O.prototype.Bv=function(t,e){e(" "+t.value)},O.Vv=Pe,O.prototype.Node=P,P.prototype.reduce=function(t,e,i,r,n){return n=n||0,this.left&&(e=this.left.reduce(t,e,i,r,n+1)),e=t.call(i,e,this.value,this.value,r,this,n),this.right&&(e=this.right.reduce(t,e,i,r,n+1)),e},P.prototype.reduceRight=function(t,e,i,r,n){return n=n||0,this.right&&(e=this.right.reduce(t,e,i,r,n+1)),e=t.call(i,e,this.value,this.value,r,this,n),this.left&&(e=this.left.reduce(t,e,i,r,n+1)),e},P.prototype.Fv=function(){this.length=1+(this.left?this.left.length:0)+(this.right?this.right.length:0),this.index=this.left?this.left.length:0},P.prototype.Qv=function(){var t;if(t=1+(this.left?this.left.Qv():0),t+=this.right?this.right.Qv():0,this.length!==t)throw Error("Integrity check failed: "+this.summary());return t},P.prototype.Mv=function(){var t=this;if(t.right){for(t=t.right;t.left;)t=t.left;return t}},P.prototype.tg=function(){var t=this;if(t.left){for(t=t.left;t.right;)t=t.right;return t}},P.prototype.summary=function(){var t=this.value||"-",t=t+(" <"+this.length);return this.left||this.right?"("+t+" "+(this.left?this.left.summary():"()")+", "+(this.right?this.right.summary():"()")+")":"("+t+")"},P.prototype.log=function(t,e,i,r){var n,o=this;n=this.left&&this.right?t.dg:this.left?t.wg:this.right?t.Tg:t.mg;var s;this.left&&this.left.log(t,e,function(e){s?r(t.Ig+" "+e):(s=!0,r(t.Sg+t.mg+e))},function(t){r("  "+t)});var a;e(this,function(e){a?i((o.right?t.Ig:" ")+e):(a=!0,i(n+e))},function(e){r((o.left?t.Ig:" ")+e)});var c;this.right&&this.right.log(t,e,function(e){c?i("  "+e):(c=!0,i(t.bg+t.mg+e))},function(e){i(t.Ig+" "+e)})},A.prototype.next=function(){var t;if(t=this.Lf?this.set.jv(this.Lf.value):this.set.Dv(),!t)throw StopIteration;if(void 0!==this.end&&0<=this.set.$f(t.value,this.end))throw StopIteration;return this.Lf=t,t.value},Re.eg&&(Re=Re.eg);var Ae={},Ne=Re,xe=x,Be=Et,Fe=X;Ae.eg=N,Object.addEach(N.prototype,xe.prototype),Object.addEach(N.prototype,Be.prototype),Object.addEach(N.prototype,Fe.prototype),N.prototype.ng=function(t){return new this.constructor(t,this.Mf,this.$f,this.content)},N.prototype.log=function(t,e){e=e||this.stringify,this.Vf.log(t,e)},N.prototype.qv=function(t,e,i,r){r=r||this.stringify,this.Vf.qv(t,e,i,r)},N.prototype.stringify=function(t,e,i,r){t.call(e,r+" "+i.value.key+": "+i.value.value)},Ae.eg&&(Ae=Ae.eg),t.Jv=mt,t.Set=Qt,t.Map=se,t.Kv=ue,t.WeakMap=M,t.Gv=Re,t.ni=Ae,t.zv=$t,t.Wv=ee,t.$v=de,t.oi=ve,t.Yv=Te,t.Xv=Nt,t.Zv=Lt,t.ty=Ct,t.Iterator=ut}(this)},function(t,e){t.t=function(){return new Function}},function(t,e){function i(t,e,i){null!=t&&("number"==typeof t?this.fromNumber(t,e,i):null==e&&"string"!=typeof t?this.ey(t,256):this.ey(t,e))}function r(){return new i(null)}function n(t,e,i,r,n,o){for(;--o>=0;){var s=e*this[t++]+i[r]+n;n=Math.floor(s/67108864),i[r++]=67108863&s}return n}function o(t,e,i,r,n,o){for(var s=32767&e,a=e>>15;--o>=0;){var c=32767&this[t],h=this[t++]>>15,p=a*c+h*s;c=s*c+((32767&p)<<15)+i[r]+(1073741823&n),n=(c>>>30)+(p>>>15)+a*h+(n>>>30),i[r++]=1073741823&c}return n}function s(t,e,i,r,n,o){for(var s=16383&e,a=e>>14;--o>=0;){var c=16383&this[t],h=this[t++]>>14,p=a*c+h*s;c=s*c+((16383&p)<<14)+i[r]+n,n=(c>>28)+(p>>14)+a*h,i[r++]=268435455&c}return n}function a(t){return Pt.charAt(t)}function c(t,e){var i=At[t.charCodeAt(e)];return null==i?-1:i}function h(t){for(var e=this.iy-1;e>=0;--e)t[e]=this[e];t.iy=this.iy,t.ny=this.ny}function p(t){this.iy=1,this.ny=t<0?-1:0,t>0?this[0]=t:t<-1?this[0]=t+this.oy:this.iy=0}function u(t){var e=r();return e.sy(t),e}function l(t,e){var r;if(16==e)r=4;else if(8==e)r=3;else if(256==e)r=8;else if(2==e)r=1;else if(32==e)r=5;else{if(4!=e)return void this.fromRadix(t,e);r=2}this.iy=0,this.ny=0;for(var n=t.length,o=!1,s=0;--n>=0;){var a=8==r?255&t[n]:c(t,n);a<0?"-"==t.charAt(n)&&(o=!0):(o=!1,0==s?this[this.iy++]=a:s+r>this.ay?(this[this.iy-1]|=(a&(1<<this.ay-s)-1)<<s,this[this.iy++]=a>>this.ay-s):this[this.iy-1]|=a<<s,s+=r,s>=this.ay&&(s-=this.ay))}8==r&&0!=(128&t[0])&&(this.ny=-1,s>0&&(this[this.iy-1]|=(1<<this.ay-s)-1<<s)),this.hy(),o&&i.ZERO.py(this,this)}function d(){for(var t=this.ny&this.uy;this.iy>0&&this[this.iy-1]==t;)--this.iy}function f(t){if(this.ny<0)return"-"+this.ly().toString(t);var e;if(16==t)e=4;else if(8==t)e=3;else if(2==t)e=1;else if(32==t)e=5;else{if(4!=t)return this.toRadix(t);e=2}var i,r=(1<<e)-1,n=!1,o="",s=this.iy,c=this.ay-s*this.ay%e;if(s-- >0)for(c<this.ay&&(i=this[s]>>c)>0&&(n=!0,o=a(i));s>=0;)c<e?(i=(this[s]&(1<<c)-1)<<e-c,i|=this[--s]>>(c+=this.ay-e)):(i=this[s]>>(c-=e)&r,c<=0&&(c+=this.ay,--s)),i>0&&(n=!0),n&&(o+=a(i));return n?o:"0"}function g(){var t=r();return i.ZERO.py(this,t),t}function v(){return this.ny<0?this.ly():this}function y(t){var e=this.ny-t.ny;if(0!=e)return e;var i=this.iy;if(e=i-t.iy,0!=e)return this.ny<0?-e:e;for(;--i>=0;)if(0!=(e=this[i]-t[i]))return e;return 0}function m(t){var e,i=1;return 0!=(e=t>>>16)&&(t=e,i+=16),0!=(e=t>>8)&&(t=e,i+=8),0!=(e=t>>4)&&(t=e,i+=4),0!=(e=t>>2)&&(t=e,i+=2),0!=(e=t>>1)&&(t=e,i+=1),i}function w(){return this.iy<=0?0:this.ay*(this.iy-1)+m(this[this.iy-1]^this.ny&this.uy)}function T(t,e){var i;for(i=this.iy-1;i>=0;--i)e[i+t]=this[i];for(i=t-1;i>=0;--i)e[i]=0;e.iy=this.iy+t,e.ny=this.ny}function S(t,e){for(var i=t;i<this.iy;++i)e[i-t]=this[i];e.iy=Math.max(this.iy-t,0),e.ny=this.ny}function b(t,e){var i,r=t%this.ay,n=this.ay-r,o=(1<<n)-1,s=Math.floor(t/this.ay),a=this.ny<<r&this.uy;for(i=this.iy-1;i>=0;--i)e[i+s+1]=this[i]>>n|a,a=(this[i]&o)<<r;for(i=s-1;i>=0;--i)e[i]=0;e[s]=a,e.iy=this.iy+s+1,e.ny=this.ny,e.hy()}function E(t,e){e.ny=this.ny;var i=Math.floor(t/this.ay);if(i>=this.iy)return void(e.iy=0);var r=t%this.ay,n=this.ay-r,o=(1<<r)-1;e[0]=this[i]>>r;for(var s=i+1;s<this.iy;++s)e[s-i-1]|=(this[s]&o)<<n,e[s-i]=this[s]>>r;r>0&&(e[this.iy-i-1]|=(this.ny&o)<<n),e.iy=this.iy-i,e.hy()}function I(t,e){for(var i=0,r=0,n=Math.min(t.iy,this.iy);i<n;)r+=this[i]-t[i],e[i++]=r&this.uy,r>>=this.ay;if(t.iy<this.iy){for(r-=t.ny;i<this.iy;)r+=this[i],e[i++]=r&this.uy,r>>=this.ay;r+=this.ny}else{for(r+=this.ny;i<t.iy;)r-=t[i],e[i++]=r&this.uy,r>>=this.ay;r-=t.ny}e.ny=r<0?-1:0,r<-1?e[i++]=this.oy+r:r>0&&(e[i++]=r),e.iy=i,e.hy()}function R(t,e){var r=this.abs(),n=t.abs(),o=r.iy;for(e.iy=o+n.iy;--o>=0;)e[o]=0;for(o=0;o<n.iy;++o)e[o+r.iy]=r.gy(0,n[o],e,o,0,r.iy);e.ny=0,e.hy(),this.ny!=t.ny&&i.ZERO.py(e,e)}function k(t){for(var e=this.abs(),i=t.iy=2*e.iy;--i>=0;)t[i]=0;for(i=0;i<e.iy-1;++i){var r=e.gy(i,e[i],t,2*i,0,1);(t[i+e.iy]+=e.gy(i+1,2*e[i],t,2*i+1,r,e.iy-i-1))>=e.oy&&(t[i+e.iy]-=e.oy,t[i+e.iy+1]=1)}t.iy>0&&(t[t.iy-1]+=e.gy(i,e[i],t,2*i,0,1)),t.ny=0,t.hy()}function C(t,e,n){var o=t.abs();if(!(o.iy<=0)){var s=this.abs();if(s.iy<o.iy)return null!=e&&e.sy(0),void(null!=n&&this.vy(n));null==n&&(n=r());var a=r(),c=this.ny,h=t.ny,p=this.ay-m(o[o.iy-1]);p>0?(o.yy(p,a),s.yy(p,n)):(o.vy(a),s.vy(n));var u=a.iy,l=a[u-1];if(0!=l){var d=l*(1<<this.my)+(u>1?a[u-2]>>this.wy:0),f=this.Ty/d,g=(1<<this.my)/d,v=1<<this.wy,y=n.iy,w=y-u,T=null==e?r():e;for(a.Sy(w,T),n.by(T)>=0&&(n[n.iy++]=1,n.py(T,n)),i.ONE.Sy(u,T),T.py(a,a);a.iy<u;)a[a.iy++]=0;for(;--w>=0;){var S=n[--y]==l?this.uy:Math.floor(n[y]*f+(n[y-1]+v)*g);if((n[y]+=a.gy(0,S,n,w,0,u))<S)for(a.Sy(w,T),n.py(T,n);n[y]<--S;)n.py(T,n)}null!=e&&(n.Ey(u,e),c!=h&&i.ZERO.py(e,e)),n.iy=u,n.hy(),p>0&&n.Iy(p,n),c<0&&i.ZERO.py(n,n)}}}function O(t){var e=r();return this.abs().Ry(t,null,e),this.ny<0&&e.by(i.ZERO)>0&&t.py(e,e),e}function P(t){this.i=t}function A(t){return t.ny<0||t.by(this.i)>=0?t.ky(this.i):t}function N(t){return t}function x(t){t.Ry(this.i,null,t)}function B(t,e,i){t.Cy(e,i),this.reduce(i)}function F(t,e){t.Oy(e),this.reduce(e)}function _(){if(this.iy<1)return 0;var t=this[0];if(0==(1&t))return 0;var e=3&t;return e=e*(2-(15&t)*e)&15,e=e*(2-(255&t)*e)&255,e=e*(2-((65535&t)*e&65535))&65535,e=e*(2-t*e%this.oy)%this.oy,e>0?this.oy-e:-e}function D(t){this.i=t,this.Py=t.Ay(),this.Ny=32767&this.Py,this.xy=this.Py>>15,this.By=(1<<t.ay-15)-1,this.Fy=2*t.iy}function H(t){var e=r();return t.abs().Sy(this.i.iy,e),e.Ry(this.i,null,e),t.ny<0&&e.by(i.ZERO)>0&&this.i.py(e,e),e}function L(t){var e=r();return t.vy(e),this.reduce(e),e}function M(t){for(;t.iy<=this.Fy;)t[t.iy++]=0;for(var e=0;e<this.i.iy;++e){var i=32767&t[e],r=i*this.Ny+((i*this.xy+(t[e]>>15)*this.Ny&this.By)<<15)&t.uy;for(i=e+this.i.iy,t[i]+=this.i.gy(0,r,t,e,0,this.i.iy);t[i]>=t.oy;)t[i]-=t.oy,t[++i]++}t.hy(),t.Ey(this.i.iy,t),t.by(this.i)>=0&&t.py(this.i,t)}function j(t,e){t.Oy(e),this.reduce(e)}function U(t,e,i){t.Cy(e,i),this.reduce(i)}function V(){return 0==(this.iy>0?1&this[0]:this.ny)}function Q(t,e){if(t>4294967295||t<1)return i.ONE;var n=r(),o=r(),s=e._y(this),a=m(t)-1;for(s.vy(n);--a>=0;)if(e.Dy(n,o),(t&1<<a)>0)e.Hy(o,s,n);else{var c=n;n=o,o=c}return e.Ly(n)}function q(t,e){var i;return i=t<256||e.My()?new P(e):new D(e),this.exp(t,i)}function J(t){var e,i,r,n="",o=0;for(e=0;e<t.length&&t.charAt(e)!=xt;++e)r=Nt.indexOf(t.charAt(e)),r<0||(0==o?(n+=a(r>>2),i=3&r,o=1):1==o?(n+=a(i<<2|r>>4),i=15&r,o=2):2==o?(n+=a(i),n+=a(r>>2),i=3&r,o=3):(n+=a(i<<2|r>>4),n+=a(15&r),o=0));return 1==o&&(n+=a(i<<2)),n}function K(t){var e,i=J(t),r=new Array;for(e=0;2*e<i.length;++e)r[e]=parseInt(i.substring(2*e,2*e+2),16);return r}/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */
  function G(t,e){return new i(t,e)}function z(t,e){if(e<t.length+11)return alert("Message too long for RSA"),null;for(var r=new Array,n=t.length-1;n>=0&&e>0;){var o=t.charCodeAt(n--);o<128?r[--e]=o:o>127&&o<2048?(r[--e]=63&o|128,r[--e]=o>>6|192):(r[--e]=63&o|128,r[--e]=o>>6&63|128,r[--e]=o>>12|224)}r[--e]=0;for(var s=new SecureRandom,a=new Array;e>2;){for(a[0]=0;0==a[0];)s.nextBytes(a);r[--e]=a[0]}return r[--e]=2,r[--e]=0,new i(r)}function W(t,e,i){for(var r="",n=0;r.length<e;)r+=i(String.fromCharCode.apply(String,t.concat([(4278190080&n)>>24,(16711680&n)>>16,(65280&n)>>8,255&n]))),n+=1;return r}function $(t,e,r){if(t.length+2*Bt+2>e)throw"Message too long for RSA";var n,o="";for(n=0;n<e-t.length-2*Bt-2;n+=1)o+="\0";var s=rstr_sha1("")+o+""+t,a=new Array(Bt);(new SecureRandom).nextBytes(a);var c=W(a,s.length,r||rstr_sha1),h=[];for(n=0;n<s.length;n+=1)h[n]=s.charCodeAt(n)^c.charCodeAt(n);var p=W(h,a.length,rstr_sha1),u=[0];for(n=0;n<a.length;n+=1)u[n+1]=a[n]^p.charCodeAt(n);return new i(u.concat(h))}function Y(){this.n=null,this.e=0,this.d=null,this.o=null,this.jy=null,this.Uy=null,this.Vy=null,this.Qy=null}function X(t,e){this.qy=!0,"string"!=typeof t?(this.n=t,this.e=e):null!=t&&null!=e&&t.length>0&&e.length>0?(this.n=G(t,16),this.e=parseInt(e,16)):alert("Invalid RSA public key")}function Z(t){return t.Jy(this.e,this.n)}function tt(t){var e=z(t,this.n.Ky()+7>>3);if(null==e)return null;var i=this.Gy(e);if(null==i)return null;var r=i.toString(16);return 0==(1&r.length)?r:"0"+r}function et(t,e){var i=$(t,this.n.Ky()+7>>3,e);if(null==i)return null;var r=this.Gy(i);if(null==r)return null;var n=r.toString(16);return 0==(1&n.length)?n:"0"+n}function it(t,e){for(var i="",r=e/4-t.length,n=0;n<r;n++)i+="0";return i+t}function rt(t,e){var i=function(t){return KJUR.crypto.Wy.zy(t,e)},r=i(t);return this.$y(r,e)}function nt(t,e){var i=KJUR.crypto.Wy.Yy(t,e,this.n.Ky()),r=G(i,16),n=this.doPrivate(r),o=n.toString(16);return it(o,this.n.Ky())}function ot(t){return rt.call(this,t,"sha1")}function st(t){return rt.call(this,t,"sha256")}function at(t,e,i){for(var r="",n=0;r.length<e;)r+=hextorstr(i(rstrtohex(t+String.fromCharCode.apply(String,[(4278190080&n)>>24,(16711680&n)>>16,(65280&n)>>8,255&n])))),n+=1;return r}function ct(t,e,i){var r=function(t){return KJUR.crypto.Wy.Xy(t,e)},n=r(rstrtohex(t));return void 0===i&&(i=-1),this.Zy(n,e,i)}function ht(t,e,r){var n,o=hextorstr(t),s=o.length,a=this.n.Ky()-1,c=Math.ceil(a/8),h=function(t){return KJUR.crypto.Wy.Xy(t,e)};if(r===-1||void 0===r)r=s;else if(r===-2)r=c-s-2;else if(r<-2)throw"invalid salt length";if(c<s+r+2)throw"data too long";var p="";r>0&&(p=new Array(r),(new SecureRandom).nextBytes(p),p=String.fromCharCode.apply(String,p));var u=hextorstr(h(rstrtohex("\0\0\0\0\0\0\0\0"+o+p))),l=[];for(n=0;n<c-r-s-2;n+=1)l[n]=0;var d=String.fromCharCode.apply(String,l)+""+p,f=at(u,d.length,h),g=[];for(n=0;n<d.length;n+=1)g[n]=d.charCodeAt(n)^f.charCodeAt(n);var v=65280>>8*c-a&255;for(g[0]&=~v,n=0;n<s;n++)g.push(u.charCodeAt(n));return g.push(188),it(this.doPrivate(new i(g)).toString(16),this.n.Ky())}function pt(t,e,i){var r=new Y;r.qh(e,i);var n=r.Gy(t);return n}function ut(t,e,i){var r=pt(t,e,i),n=r.toString(16).replace(/^1f+00/,"");return n}function lt(t){for(var e in KJUR.crypto.Wy.tm){var i=KJUR.crypto.Wy.tm[e],r=i.length;if(t.substring(0,r)==i){var n=[e,t.substring(r)];return n}}return[]}function dt(t,e,i,r){var n=ut(e,i,r),o=lt(n);if(0==o.length)return!1;var s=o[0],a=o[1],c=function(t){return KJUR.crypto.Wy.zy(t,s)},h=c(t);return a==h}function ft(t,e){var i=G(t,16),r=dt(e,i,this.n.toString(16),this.e.toString(16));return r}function gt(t,e){e=e.replace(Ft,""),e=e.replace(/[ \n]+/g,"");var i=G(e,16);if(i.Ky()>this.n.Ky())return 0;var r=this.Gy(i),n=r.toString(16).replace(/^1f+00/,""),o=lt(n);if(0==o.length)return!1;var s=o[0],a=o[1],c=function(t){return KJUR.crypto.Wy.zy(t,s)},h=c(t);return a==h}function vt(t,e){e=e.replace(Ft,""),e=e.replace(/[ \n]+/g,"");var i=G(e,16);if(i.Ky()>this.n.Ky())return 0;var r=this.Gy(i),n=r.toString(16).replace(/^1f+00/,""),o=lt(n);if(0==o.length)return!1;var s=(o[0],o[1]);return s==t}function yt(t,e,i,r){var n=function(t){return KJUR.crypto.Wy.Xy(t,i)},o=n(rstrtohex(t));return void 0===r&&(r=-1),this.em(o,e,i,r)}function mt(t,e,r,n){var o=new i(e,16);if(o.Ky()>this.n.Ky())return!1;var s,a=function(t){return KJUR.crypto.Wy.Xy(t,r)},c=hextorstr(t),h=c.length,p=this.n.Ky()-1,u=Math.ceil(p/8);if(n===-1||void 0===n)n=h;else if(n===-2)n=u-h-2;else if(n<-2)throw"invalid salt length";if(u<h+n+2)throw"data too long";var l=this.Gy(o).toByteArray();for(s=0;s<l.length;s+=1)l[s]&=255;for(;l.length<u;)l.unshift(0);if(188!==l[u-1])throw"encoded message does not end in 0xbc";l=String.fromCharCode.apply(String,l);var d=l.substr(0,u-h-1),f=l.substr(d.length,h),g=65280>>8*u-p&255;if(0!==(d.charCodeAt(0)&g))throw"bits beyond keysize not zero";var v=at(f,d.length,a),y=[];for(s=0;s<d.length;s+=1)y[s]=d.charCodeAt(s)^v.charCodeAt(s);y[0]&=~g;var m=u-h-n-2;for(s=0;s<m;s+=1)if(0!==y[s])throw"leftmost octets not zero";if(1!==y[m])throw"0x01 marker not found";return f===hextorstr(a(rstrtohex("\0\0\0\0\0\0\0\0"+c+String.fromCharCode.apply(String,y.slice(-n)))))}var wt={};wt.userAgent=!1;var Tt={};if("undefined"==typeof St||!St)var St={};St.im=function(){var t,e,i,r=arguments,n=null;for(t=0;t<r.length;t+=1)for(i=(""+r[t]).split("."),n=St,e="YAHOO"==i[0]?1:0;e<i.length;e+=1)n[i[e]]=n[i[e]]||{},n=n[i[e]];return n},St.log=function(t,e,i){var r=St.widget.Logger;return!(!r||!r.log)&&r.log(t,e,i)},St.register=function(t,e,i){var r,n,o,s,a,c=St.Ot.rm;for(c[t]||(c[t]={nm:[],om:[]}),r=c[t],n=i.version,o=i.pp,s=St.Ot.zi,r.name=t,r.version=n,r.pp=o,r.nm.push(n),r.om.push(o),r.sm=e,a=0;a<s.length;a+=1)s[a](r);e?(e.VERSION=n,e.am=o):St.log("mainClass is undefined for module "+t,"warn")},St.Ot=St.Ot||{rm:[],zi:[]},St.Ot.getVersion=function(t){return St.Ot.rm[t]||null},St.Ot.cm=function(t){var e,i=function(t){var e=0;return parseFloat(t.replace(/\./g,function(){return 1==e++?"":"."}))},r=wt,n={hm:0,opera:0,pm:0,um:0,chrome:0,lm:null,dm:0,fm:0,gm:0,vm:0,ym:null,mm:0,wm:0,Tm:r&&r.cajaVersion,Sm:!1,os:null},o=t||wt&&wt.userAgent,s=Tt&&Tt.location,a=s&&s.href;return n.Sm=a&&0===a.toLowerCase().indexOf("https"),o&&(/windows|win32/i.test(o)?n.os="windows":/macintosh/i.test(o)?n.os="macintosh":/rhino/i.test(o)&&(n.os="rhino"),/KHTML/.test(o)&&(n.um=1),e=o.match(/AppleWebKit\/([^\s]*)/),e&&e[1]&&(n.um=i(e[1]),/ Mobile\//.test(o)?(n.lm="Apple",e=o.match(/OS ([^\s]*)/),e&&e[1]&&(e=i(e[1].replace("_","."))),n.ym=e,n.fm=n.vm=n.gm=0,e=o.match(/iPad|iPod|iPhone/),e&&e[0]&&(n[e[0].toLowerCase()]=n.ym)):(e=o.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/),e&&(n.lm=e[0]),/webOS/.test(o)&&(n.lm="WebOS",e=o.match(/webOS\/([^\s]*);/),e&&e[1]&&(n.wm=i(e[1]))),/ Android/.test(o)&&(n.lm="Android",e=o.match(/Android ([^\s]*);/),e&&e[1]&&(n.mm=i(e[1])))),e=o.match(/Chrome\/([^\s]*)/),e&&e[1]?n.chrome=i(e[1]):(e=o.match(/AdobeAIR\/([^\s]*)/),e&&(n.dm=e[0]))),n.um||(e=o.match(/Opera[\s\/]([^\s]*)/),e&&e[1]?(n.opera=i(e[1]),e=o.match(/Version\/([^\s]*)/),e&&e[1]&&(n.opera=i(e[1])),e=o.match(/Opera Mini[^;]*/),e&&(n.lm=e[0])):(e=o.match(/MSIE\s([^;]*)/),e&&e[1]?n.hm=i(e[1]):(e=o.match(/Gecko\/([^\s]*)/),e&&(n.pm=1,e=o.match(/rv:([^\s\)]*)/),e&&e[1]&&(n.pm=i(e[1]))))))),n},St.Ot.tf=St.Ot.cm(),function(){if(St.im("util","widget","example"),"undefined"!=typeof YAHOO_config){var t,e=YAHOO_config.listener,i=St.Ot.zi,r=!0;if(e){for(t=0;t<i.length;t++)if(i[t]==e){r=!1;break}r&&i.push(e)}}}(),St.lang=St.lang||{},function(){var t=St.lang,e=Object.prototype,i="[object Array]",r="[object Function]",n="[object Object]",o=[],s={bm:"&amp;",Em:"&lt;",Im:"&gt;",Rm:"&quot;",km:"&#x27;",Jp:"&#x2F;",Cm:"&#x60;"},a=["toString","valueOf"],c={isArray:function(t){return e.toString.apply(t)===i},Om:function(t){return"boolean"==typeof t},Pm:function(t){return"function"==typeof t||e.toString.apply(t)===r},Am:function(t){return null===t},Nm:function(t){return"number"==typeof t&&isFinite(t)},ov:function(e){return e&&("object"==typeof e||t.Pm(e))||!1},xm:function(t){return"string"==typeof t},Bm:function(t){return"undefined"==typeof t},Fm:St.Ot.tf.hm?function(i,r){var n,o,s;for(n=0;n<a.length;n+=1)o=a[n],s=r[o],t.Pm(s)&&s!=e[o]&&(i[o]=s)}:function(){},_m:function(t){return t.replace(/[&<>"'\/`]/g,function(t){return s[t]})},extend:function(i,r,n){if(!r||!i)throw new Error("extend failed, please check that all dependencies are included.");var o,s=function(){};if(s.prototype=r.prototype,i.prototype=new s,i.prototype.constructor=i,i.Dm=r.prototype,r.prototype.constructor==e.constructor&&(r.prototype.constructor=r),n){for(o in n)t.hasOwnProperty(n,o)&&(i.prototype[o]=n[o]);t.Fm(i.prototype,n)}},Hm:function(e,i){if(!i||!e)throw new Error("Absorb failed, verify dependencies.");var r,n,o=arguments,s=o[2];if(s&&s!==!0)for(r=2;r<o.length;r+=1)e[o[r]]=i[o[r]];else{for(n in i)!s&&n in e||(e[n]=i[n]);t.Fm(e,i)}return e},Lm:function(e,i){if(!i||!e)throw new Error("Augment failed, verify dependencies.");var r,n=[e.prototype,i.prototype];for(r=2;r<arguments.length;r+=1)n.push(arguments[r]);return t.Hm.apply(this,n),e},dump:function(e,i){var r,n,o=[],s="{...}",a="f(){...}",c=", ",h=" => ";if(!t.ov(e))return e+"";if(e instanceof Date||"nodeType"in e&&"tagName"in e)return e;if(t.Pm(e))return a;if(i=t.Nm(i)?i:3,t.isArray(e)){for(o.push("["),r=0,n=e.length;r<n;r+=1)t.ov(e[r])?o.push(i>0?t.dump(e[r],i-1):s):o.push(e[r]),o.push(c);o.length>1&&o.pop(),o.push("]")}else{o.push("{");for(r in e)t.hasOwnProperty(e,r)&&(o.push(r+h),t.ov(e[r])?o.push(i>0?t.dump(e[r],i-1):s):o.push(e[r]),o.push(c));o.length>1&&o.pop(),o.push("}")}return o.join("")},Mm:function(e,i,r,o){for(var s,a,c,h,p,u,l,d,f,g=[],v=e.length,y="dump",m=" ",w="{",T="}";(s=e.lastIndexOf(w,v),!(s<0))&&(a=e.indexOf(T,s),!(s+1>a));)l=e.substring(s+1,a),h=l,u=null,c=h.indexOf(m),c>-1&&(u=h.substring(c+1),h=h.substring(0,c)),p=i[h],r&&(p=r(h,p,u)),t.ov(p)?t.isArray(p)?p=t.dump(p,parseInt(u,10)):(u=u||"",d=u.indexOf(y),d>-1&&(u=u.substring(4)),f=p.toString(),p=f===n||d>-1?t.dump(p,parseInt(u,10)):f):t.xm(p)||t.Nm(p)||(p="~-"+g.length+"-~",g[g.length]=l),e=e.substring(0,s)+p+e.substring(a+1),o===!1&&(v=s-1);for(s=g.length-1;s>=0;s-=1)e=e.replace(new RegExp("~-"+s+"-~"),"{"+g[s]+"}","g");return e},trim:function(t){try{return t.replace(/^\s+|\s+$/g,"")}catch(e){return t}},jm:function(){var e,i={},r=arguments,n=r.length;for(e=0;e<n;e+=1)t.Hm(i,r[e],!0);return i},Um:function(e,i,r,n,s){e=e||0,i=i||{};var a,c,h=r,p=n;if(t.xm(r)&&(h=i[r]),!h)throw new TypeError("method undefined");return t.Bm(n)||t.isArray(p)||(p=[n]),a=function(){h.apply(i,p||o)},c=s?setInterval(a,e):setTimeout(a,e),{interval:s,cancel:function(){this.interval?clearInterval(c):clearTimeout(c)}}},Vm:function(e){return t.ov(e)||t.xm(e)||t.Nm(e)||t.Om(e)}};t.hasOwnProperty=e.hasOwnProperty?function(t,e){return t&&t.hasOwnProperty&&t.hasOwnProperty(e)}:function(e,i){return!t.Bm(e[i])&&e.constructor.prototype[i]!==e[i]},c.Hm(t,c,!0),St.util.Lang=t,t.Qm=t.Lm,St.Qm=t.Lm,St.extend=t.extend}(),St.register("yahoo",St,{version:"2.9.0",pp:"2800"});/*! CryptoJS v3.1.2 core-fix.js
   * code.google.com/p/crypto-js
   * (c) 2009-2013 by Jeff Mott. All rights reserved.
   * code.google.com/p/crypto-js/wiki/License
   * THIS IS FIX of 'core.js' to fix Hmac issue.
   * https://code.google.com/p/crypto-js/issues/detail?id=84
   * https://crypto-js.googlecode.com/svn-history/r667/branches/3.x/src/core.js
   */
  var bt=bt||function(t,e){var i={},r=i.qm={},n=r.Jm=function(){function t(){}return{extend:function(e){t.prototype=this;var i=new t;return e&&i.Km(e),i.hasOwnProperty("init")||(i.init=function(){i.Gm.init.apply(this,arguments)}),i.init.prototype=i,i.Gm=this,i},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},Km:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),o=r.zm=n.extend({init:function(t,i){t=this.Wm=t||[],i!=e?this.$m=i:this.$m=4*t.length},toString:function(t){return(t||a).stringify(this)},concat:function(t){var e=this.Wm,i=t.Wm,r=this.$m,n=t.$m;if(this.hy(),r%4)for(var o=0;o<n;o++){var s=i[o>>>2]>>>24-o%4*8&255;e[r+o>>>2]|=s<<24-(r+o)%4*8}else for(var o=0;o<n;o+=4)e[r+o>>>2]=i[o>>>2];return this.$m+=n,this},hy:function(){var e=this.Wm,i=this.$m;e[i>>>2]&=4294967295<<32-i%4*8,e.length=t.ceil(i/4)},clone:function(){var t=n.clone.call(this);return t.Wm=this.Wm.slice(0),t},random:function(e){for(var i=[],r=0;r<e;r+=4)i.push(4294967296*t.random()|0);return new o.init(i,e)}}),s=i.Ym={},a=s.Xm={stringify:function(t){for(var e=t.Wm,i=t.$m,r=[],n=0;n<i;n++){var o=e[n>>>2]>>>24-n%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(t){for(var e=t.length,i=[],r=0;r<e;r+=2)i[r>>>3]|=parseInt(t.substr(r,2),16)<<24-r%8*4;return new o.init(i,e/2)}},c=s.Zm={stringify:function(t){for(var e=t.Wm,i=t.$m,r=[],n=0;n<i;n++){var o=e[n>>>2]>>>24-n%4*8&255;r.push(String.fromCharCode(o))}return r.join("")},parse:function(t){for(var e=t.length,i=[],r=0;r<e;r++)i[r>>>2]|=(255&t.charCodeAt(r))<<24-r%4*8;return new o.init(i,e)}},h=s.tw={stringify:function(t){try{return decodeURIComponent(escape(c.stringify(t)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(t){return c.parse(unescape(encodeURIComponent(t)))}},p=r.ew=n.extend({reset:function(){this.iw=new o.init,this.rw=0},nw:function(t){"string"==typeof t&&(t=h.parse(t)),this.iw.concat(t),this.rw+=t.$m},ow:function(e){var i=this.iw,r=i.Wm,n=i.$m,s=this.sw,a=4*s,c=n/a;c=e?t.ceil(c):t.max((0|c)-this.aw,0);var h=c*s,p=t.min(4*h,n);if(h){for(var u=0;u<h;u+=s)this.cw(r,u);var l=r.splice(0,h);i.$m-=p}return new o.init(l,p)},clone:function(){var t=n.clone.call(this);return t.iw=this.iw.clone(),t},aw:0}),u=(r.hw=p.extend({pw:n.extend(),init:function(t){this.pw=this.pw.extend(t),this.reset()},reset:function(){p.reset.call(this),this.uw()},update:function(t){return this.nw(t),this.ow(),this},lw:function(t){t&&this.nw(t);var e=this.dw();return e},sw:16,fw:function(t){return function(e,i){return new t.init(i).lw(e)}},gw:function(t){return function(e,i){return new u.HMAC.init(t,i).lw(e)}}}),i.vw={});return i}(Math);!function(t){function e(t,e,i,r,n,o,s){return t=t+(e&i|~e&r)+n+s,(t<<o|t>>>32-o)+e}function i(t,e,i,r,n,o,s){return t=t+(e&r|i&~r)+n+s,(t<<o|t>>>32-o)+e}function r(t,e,i,r,n,o,s){return t=t+(e^i^r)+n+s,(t<<o|t>>>32-o)+e}function n(t,e,i,r,n,o,s){return t=t+(i^(e|~r))+n+s,(t<<o|t>>>32-o)+e}for(var o=bt,s=o.qm,a=s.zm,c=s.hw,s=o.vw,h=[],p=0;64>p;p++)h[p]=4294967296*t.abs(t.sin(p+1))|0;s=s.yw=c.extend({uw:function(){this.mw=new a.init([1732584193,4023233417,2562383102,271733878])},cw:function(t,o){for(var s=0;16>s;s++){var a=o+s,c=t[a];t[a]=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8)}var s=this.mw.Wm,a=t[o+0],c=t[o+1],p=t[o+2],u=t[o+3],l=t[o+4],d=t[o+5],f=t[o+6],g=t[o+7],v=t[o+8],y=t[o+9],m=t[o+10],w=t[o+11],T=t[o+12],S=t[o+13],b=t[o+14],E=t[o+15],I=s[0],R=s[1],k=s[2],C=s[3],I=e(I,R,k,C,a,7,h[0]),C=e(C,I,R,k,c,12,h[1]),k=e(k,C,I,R,p,17,h[2]),R=e(R,k,C,I,u,22,h[3]),I=e(I,R,k,C,l,7,h[4]),C=e(C,I,R,k,d,12,h[5]),k=e(k,C,I,R,f,17,h[6]),R=e(R,k,C,I,g,22,h[7]),I=e(I,R,k,C,v,7,h[8]),C=e(C,I,R,k,y,12,h[9]),k=e(k,C,I,R,m,17,h[10]),R=e(R,k,C,I,w,22,h[11]),I=e(I,R,k,C,T,7,h[12]),C=e(C,I,R,k,S,12,h[13]),k=e(k,C,I,R,b,17,h[14]),R=e(R,k,C,I,E,22,h[15]),I=i(I,R,k,C,c,5,h[16]),C=i(C,I,R,k,f,9,h[17]),k=i(k,C,I,R,w,14,h[18]),R=i(R,k,C,I,a,20,h[19]),I=i(I,R,k,C,d,5,h[20]),C=i(C,I,R,k,m,9,h[21]),k=i(k,C,I,R,E,14,h[22]),R=i(R,k,C,I,l,20,h[23]),I=i(I,R,k,C,y,5,h[24]),C=i(C,I,R,k,b,9,h[25]),k=i(k,C,I,R,u,14,h[26]),R=i(R,k,C,I,v,20,h[27]),I=i(I,R,k,C,S,5,h[28]),C=i(C,I,R,k,p,9,h[29]),k=i(k,C,I,R,g,14,h[30]),R=i(R,k,C,I,T,20,h[31]),I=r(I,R,k,C,d,4,h[32]),C=r(C,I,R,k,v,11,h[33]),k=r(k,C,I,R,w,16,h[34]),R=r(R,k,C,I,b,23,h[35]),I=r(I,R,k,C,c,4,h[36]),C=r(C,I,R,k,l,11,h[37]),k=r(k,C,I,R,g,16,h[38]),R=r(R,k,C,I,m,23,h[39]),I=r(I,R,k,C,S,4,h[40]),C=r(C,I,R,k,a,11,h[41]),k=r(k,C,I,R,u,16,h[42]),R=r(R,k,C,I,f,23,h[43]),I=r(I,R,k,C,y,4,h[44]),C=r(C,I,R,k,T,11,h[45]),k=r(k,C,I,R,E,16,h[46]),R=r(R,k,C,I,p,23,h[47]),I=n(I,R,k,C,a,6,h[48]),C=n(C,I,R,k,g,10,h[49]),k=n(k,C,I,R,b,15,h[50]),R=n(R,k,C,I,d,21,h[51]),I=n(I,R,k,C,T,6,h[52]),C=n(C,I,R,k,u,10,h[53]),k=n(k,C,I,R,m,15,h[54]),R=n(R,k,C,I,c,21,h[55]),I=n(I,R,k,C,v,6,h[56]),C=n(C,I,R,k,E,10,h[57]),k=n(k,C,I,R,f,15,h[58]),R=n(R,k,C,I,S,21,h[59]),I=n(I,R,k,C,l,6,h[60]),C=n(C,I,R,k,w,10,h[61]),k=n(k,C,I,R,p,15,h[62]),R=n(R,k,C,I,y,21,h[63]);s[0]=s[0]+I|0,s[1]=s[1]+R|0,s[2]=s[2]+k|0,s[3]=s[3]+C|0},dw:function(){var e=this.iw,i=e.Wm,r=8*this.rw,n=8*e.$m;i[n>>>5]|=128<<24-n%32;var o=t.floor(r/4294967296);for(i[(n+64>>>9<<4)+15]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),i[(n+64>>>9<<4)+14]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),e.$m=4*(i.length+1),this.ow(),e=this.mw,i=e.Wm,r=0;4>r;r++)n=i[r],i[r]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8);return e},clone:function(){var t=c.clone.call(this);return t.mw=this.mw.clone(),t}}),o.yw=c.fw(s),o.ww=c.gw(s)}(Math),function(){var t=bt,e=t.qm,i=e.zm,r=e.hw,n=[],e=t.vw.Tw=r.extend({uw:function(){this.mw=new i.init([1732584193,4023233417,2562383102,271733878,3285377520])},cw:function(t,e){for(var i=this.mw.Wm,r=i[0],o=i[1],s=i[2],a=i[3],c=i[4],h=0;80>h;h++){if(16>h)n[h]=0|t[e+h];else{var p=n[h-3]^n[h-8]^n[h-14]^n[h-16];n[h]=p<<1|p>>>31}p=(r<<5|r>>>27)+c+n[h],p=20>h?p+((o&s|~o&a)+1518500249):40>h?p+((o^s^a)+1859775393):60>h?p+((o&s|o&a|s&a)-1894007588):p+((o^s^a)-899497514),c=a,a=s,s=o<<30|o>>>2,o=r,r=p}i[0]=i[0]+r|0,i[1]=i[1]+o|0,i[2]=i[2]+s|0,i[3]=i[3]+a|0,i[4]=i[4]+c|0},dw:function(){var t=this.iw,e=t.Wm,i=8*this.rw,r=8*t.$m;return e[r>>>5]|=128<<24-r%32,e[(r+64>>>9<<4)+14]=Math.floor(i/4294967296),e[(r+64>>>9<<4)+15]=i,t.$m=4*e.length,this.ow(),this.mw},clone:function(){var t=r.clone.call(this);return t.mw=this.mw.clone(),t}});t.Tw=r.fw(e),t.Sw=r.gw(e)}();/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/ */
  var Et,It=0xdeadbeefcafe,Rt=15715070==(16777215&It);Rt&&"Microsoft Internet Explorer"==wt.appName?(i.prototype.gy=o,Et=30):Rt&&"Netscape"!=wt.appName?(i.prototype.gy=n,Et=26):(i.prototype.gy=s,Et=28),i.prototype.ay=Et,i.prototype.uy=(1<<Et)-1,i.prototype.oy=1<<Et;var kt=52;i.prototype.Ty=Math.pow(2,kt),i.prototype.my=kt-Et,i.prototype.wy=2*Et-kt;var Ct,Ot,Pt="0123456789abcdefghijklmnopqrstuvwxyz",At=new Array;for(Ct="0".charCodeAt(0),Ot=0;Ot<=9;++Ot)At[Ct++]=Ot;for(Ct="a".charCodeAt(0),Ot=10;Ot<36;++Ot)At[Ct++]=Ot;for(Ct="A".charCodeAt(0),Ot=10;Ot<36;++Ot)At[Ct++]=Ot;P.prototype._y=A,P.prototype.Ly=N,P.prototype.reduce=x,P.prototype.Hy=B,P.prototype.Dy=F,D.prototype._y=H,D.prototype.Ly=L,D.prototype.reduce=M,D.prototype.Hy=U,D.prototype.Dy=j,i.prototype.vy=h,i.prototype.sy=p,i.prototype.ey=l,i.prototype.hy=d,i.prototype.Sy=T,i.prototype.Ey=S,i.prototype.yy=b,i.prototype.Iy=E,i.prototype.py=I,i.prototype.Cy=R,i.prototype.Oy=k,i.prototype.Ry=C,i.prototype.Ay=_,i.prototype.My=V,i.prototype.exp=Q,i.prototype.toString=f,i.prototype.ly=g,i.prototype.abs=v,i.prototype.by=y,i.prototype.Ky=w,i.prototype.ky=O,i.prototype.Jy=q,i.ZERO=u(0),i.ONE=u(1),/*! asn1-1.0.9.js (c) 2013-2015 Kenji Urushima | kjur.github.com/jsrsasign/license
   */
  "undefined"!=typeof KJUR&&KJUR||(KJUR={}),"undefined"!=typeof KJUR.bw&&KJUR.bw||(KJUR.bw={}),KJUR.bw.Ew=new function(){this.Iw=function(t){var e=t.toString(16);return e.length%2==1&&(e="0"+e),e},this.Rw=function(t){var e=t.toString(16);if("-"!=e.substr(0,1))e.length%2==1?e="0"+e:e.match(/^[0-7]/)||(e="00"+e);else{var r=e.substr(1),n=r.length;n%2==1?n+=1:e.match(/^[0-7]/)||(n+=2);for(var o="",s=0;s<n;s++)o+="f";var a=new i(o,16),c=a.xor(t).add(i.ONE);e=c.toString(16).replace(/^-/,"")}return e},this.kw=function(t,e){var i=(KJUR.bw,bt.Ym.Xm.parse(t)),r=bt.Ym.Base64.stringify(i),n=r.replace(/(.{64})/g,"$1\r\n");return n=n.replace(/\r\n$/,""),"-----BEGIN "+e+"-----\r\n"+n+"\r\n-----END "+e+"-----\r\n"},this.Cw=function(t){var e=KJUR.bw,i=Object.keys(t);if(1!=i.length)throw"key of param shall be only one.";var r=i[0];if(":bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:seq:set:tag:".indexOf(":"+r+":")==-1)throw"undefined key: "+r;if("bool"==r)return new e.Ow(t[r]);if("int"==r)return new e.Pw(t[r]);if("bitstr"==r)return new e.Aw(t[r]);if("octstr"==r)return new e.Nw(t[r]);if("null"==r)return new e.xw(t[r]);if("oid"==r)return new e.Bw(t[r]);if("enum"==r)return new e.Fw(t[r]);if("utf8str"==r)return new e._w(t[r]);if("numstr"==r)return new e.Dw(t[r]);if("prnstr"==r)return new e.Hw(t[r]);if("telstr"==r)return new e.Lw(t[r]);if("ia5str"==r)return new e.Mw(t[r]);if("utctime"==r)return new e.jw(t[r]);if("gentime"==r)return new e.Uw(t[r]);if("seq"==r){for(var n=t[r],o=[],s=0;s<n.length;s++){var a=e.Ew.Cw(n[s]);o.push(a)}return new e.Vw({Hf:o})}if("set"==r){for(var n=t[r],o=[],s=0;s<n.length;s++){var a=e.Ew.Cw(n[s]);o.push(a)}return new e.Qw({Hf:o})}if("tag"==r){var c=t[r];if("[object Array]"===Object.prototype.toString.call(c)&&3==c.length){var h=e.Ew.Cw(c[2]);return new e.qw({tag:c[0],Jw:c[1],Kw:h})}var p={};if(void 0!==c.Jw&&(p.Jw=c.Jw),void 0!==c.tag&&(p.tag=c.tag),void 0===c.Kw)throw"obj shall be specified for 'tag'.";return p.Kw=e.Ew.Cw(c.Kw),new e.qw(p)}},this.Gw=function(t){var e=this.Cw(t);return e.zw()}},KJUR.bw.Ew.Ww=function(t){for(var e="",r=parseInt(t.substr(0,2),16),n=Math.floor(r/40),o=r%40,e=n+"."+o,s="",a=2;a<t.length;a+=2){var c=parseInt(t.substr(a,2),16),h=("00000000"+c.toString(2)).slice(-8);if(s+=h.substr(1,7),"0"==h.substr(0,1)){var p=new i(s,2);e=e+"."+p.toString(10),s=""}}return e},KJUR.bw.Ew.$w=function(t){var e=function(t){var e=t.toString(16);return 1==e.length&&(e="0"+e),e},r=function(t){var r="",n=new i(t,10),o=n.toString(2),s=7-o.length%7;7==s&&(s=0);for(var a="",c=0;c<s;c++)a+="0";o=a+o;for(var c=0;c<o.length-1;c+=7){var h=o.substr(c,7);c!=o.length-7&&(h="1"+h),r+=e(parseInt(h,2))}return r};if(!t.match(/^[0-9.]+$/))throw"malformed oid string: "+t;var n="",o=t.split("."),s=40*parseInt(o[0])+parseInt(o[1]);n+=e(s),o.splice(0,2);for(var a=0;a<o.length;a++)n+=r(o[a]);return n},KJUR.bw.Yw=function(){var t="";this.Xw=function(){if("undefined"==typeof this.Zw||null==this.Zw)throw"this.hV is null or undefined.";if(this.Zw.length%2==1)throw"value hex must be even length: n="+t.length+",v="+this.Zw;var e=this.Zw.length/2,i=e.toString(16);if(i.length%2==1&&(i="0"+i),e<128)return i;var r=i.length/2;if(r>15)throw"ASN.1 length too long to represent by 8x: n = "+e.toString(16);var n=128+r;return n.toString(16)+i},this.zw=function(){return(null==this.tT||this.eT)&&(this.Zw=this.iT(),this.rT=this.Xw(),this.tT=this.nT+this.rT+this.Zw,this.eT=!1),this.tT},this.oT=function(){return this.zw(),this.Zw},this.iT=function(){return""}},KJUR.bw.sT=function(t){KJUR.bw.sT.Dm.constructor.call(this);this.aT=function(){return this.ny},this.cT=function(t){this.tT=null,this.eT=!0,this.ny=t,this.Zw=stohex(this.ny)},this.hT=function(t){this.tT=null,this.eT=!0,this.ny=null,this.Zw=t},this.iT=function(){return this.Zw},"undefined"!=typeof t&&("string"==typeof t?this.cT(t):"undefined"!=typeof t.ac?this.cT(t.ac):"undefined"!=typeof t.pT&&this.hT(t.pT))},St.lang.extend(KJUR.bw.sT,KJUR.bw.Yw),KJUR.bw.uT=function(t){KJUR.bw.uT.Dm.constructor.call(this);this.lT=function(t){utc=t.getTime()+6e4*t.getTimezoneOffset();var e=new Date(utc);return e},this.dT=function(t,e,i){var r=this.fT,n=this.lT(t),o=String(n.getFullYear());"utc"==e&&(o=o.substr(2,2));var s=r(String(n.getMonth()+1),2),a=r(String(n.getDate()),2),c=r(String(n.getHours()),2),h=r(String(n.getMinutes()),2),p=r(String(n.getSeconds()),2),u=o+s+a+c+h+p;if(i===!0){var l=n.getMilliseconds();if(0!=l){var d=r(String(l),3);d=d.replace(/[0]+$/,""),u=u+"."+d}}return u+"Z"},this.fT=function(t,e){return t.length>=e?t:new Array(e-t.length+1).join("0")+t},this.aT=function(){return this.ny},this.cT=function(t){this.tT=null,this.eT=!0,this.ny=t,this.Zw=stohex(t)},this.gT=function(t,e,i,r,n,o){var s=new Date(Date.UTC(t,e-1,i,r,n,o,0));this.vT(s)},this.iT=function(){return this.Zw}},St.lang.extend(KJUR.bw.uT,KJUR.bw.Yw),KJUR.bw.yT=function(t){KJUR.bw.sT.Dm.constructor.call(this);this.mT=function(t){this.tT=null,this.eT=!0,this.wT=t},this.TT=function(t){this.tT=null,this.eT=!0,this.wT.push(t)},this.wT=new Array,"undefined"!=typeof t&&"undefined"!=typeof t.Hf&&(this.wT=t.Hf)},St.lang.extend(KJUR.bw.yT,KJUR.bw.Yw),KJUR.bw.Ow=function(){KJUR.bw.Ow.Dm.constructor.call(this),this.nT="01",this.tT="0101ff"},St.lang.extend(KJUR.bw.Ow,KJUR.bw.Yw),KJUR.bw.Pw=function(t){KJUR.bw.Pw.Dm.constructor.call(this),this.nT="02",this.ST=function(t){this.tT=null,this.eT=!0,this.Zw=KJUR.bw.Ew.Rw(t)},this.bT=function(t){var e=new i(String(t),10);this.ST(e)},this.ET=function(t){this.Zw=t},this.iT=function(){return this.Zw},"undefined"!=typeof t&&("undefined"!=typeof t.bigint?this.ST(t.bigint):"undefined"!=typeof t["int"]?this.bT(t["int"]):"number"==typeof t?this.bT(t):"undefined"!=typeof t.pT&&this.ET(t.pT))},St.lang.extend(KJUR.bw.Pw,KJUR.bw.Yw),KJUR.bw.Aw=function(t){KJUR.bw.Aw.Dm.constructor.call(this),this.nT="03",this.IT=function(t){this.tT=null,this.eT=!0,this.Zw=t},this.RT=function(t,e){if(t<0||7<t)throw"unused bits shall be from 0 to 7: u = "+t;var i="0"+t;this.tT=null,this.eT=!0,this.Zw=i+e},this.kT=function(t){t=t.replace(/0+$/,"");var e=8-t.length%8;8==e&&(e=0);for(var i=0;i<=e;i++)t+="0";for(var r="",i=0;i<t.length-1;i+=8){var n=t.substr(i,8),o=parseInt(n,2).toString(16);1==o.length&&(o="0"+o),r+=o}this.tT=null,this.eT=!0,this.Zw="0"+e+r},this.CT=function(t){for(var e="",i=0;i<t.length;i++)e+=1==t[i]?"1":"0";this.kT(e)},this.OT=function(t){for(var e=new Array(t),i=0;i<t;i++)e[i]=!1;return e},this.iT=function(){return this.Zw},"undefined"!=typeof t&&("string"==typeof t&&t.toLowerCase().match(/^[0-9a-f]+$/)?this.IT(t):"undefined"!=typeof t.pT?this.IT(t.pT):"undefined"!=typeof t.bin?this.kT(t.bin):"undefined"!=typeof t.Hf&&this.CT(t.Hf))},St.lang.extend(KJUR.bw.Aw,KJUR.bw.Yw),KJUR.bw.Nw=function(t){KJUR.bw.Nw.Dm.constructor.call(this,t),this.nT="04"},St.lang.extend(KJUR.bw.Nw,KJUR.bw.sT),KJUR.bw.xw=function(){KJUR.bw.xw.Dm.constructor.call(this),this.nT="05",this.tT="0500"},St.lang.extend(KJUR.bw.xw,KJUR.bw.Yw),KJUR.bw.Bw=function(t){var e=function(t){var e=t.toString(16);return 1==e.length&&(e="0"+e),e},r=function(t){var r="",n=new i(t,10),o=n.toString(2),s=7-o.length%7;7==s&&(s=0);for(var a="",c=0;c<s;c++)a+="0";o=a+o;for(var c=0;c<o.length-1;c+=7){var h=o.substr(c,7);c!=o.length-7&&(h="1"+h),r+=e(parseInt(h,2))}return r};KJUR.bw.Bw.Dm.constructor.call(this),this.nT="06",this.ET=function(t){this.tT=null,this.eT=!0,this.ny=null,this.Zw=t},this.PT=function(t){if(!t.match(/^[0-9.]+$/))throw"malformed oid string: "+t;var i="",n=t.split("."),o=40*parseInt(n[0])+parseInt(n[1]);i+=e(o),n.splice(0,2);for(var s=0;s<n.length;s++)i+=r(n[s]);this.tT=null,this.eT=!0,this.ny=null,this.Zw=i},this.AT=function(t){if("undefined"==typeof KJUR.bw.x509.NT.name2oidList[t])throw"DERObjectIdentifier oidName undefined: "+t;var e=KJUR.bw.x509.NT.name2oidList[t];this.PT(e)},this.iT=function(){return this.Zw},"undefined"!=typeof t&&("string"==typeof t&&t.match(/^[0-2].[0-9.]+$/)?this.PT(t):void 0!==KJUR.bw.x509.NT.name2oidList[t]?this.PT(KJUR.bw.x509.NT.name2oidList[t]):"undefined"!=typeof t.oid?this.PT(t.oid):"undefined"!=typeof t.pT?this.ET(t.pT):"undefined"!=typeof t.name&&this.AT(t.name))},St.lang.extend(KJUR.bw.Bw,KJUR.bw.Yw),KJUR.bw.Fw=function(t){KJUR.bw.Fw.Dm.constructor.call(this),this.nT="0a",this.ST=function(t){this.tT=null,this.eT=!0,this.Zw=KJUR.bw.Ew.Rw(t)},this.bT=function(t){var e=new i(String(t),10);this.ST(e)},this.ET=function(t){this.Zw=t},this.iT=function(){return this.Zw},"undefined"!=typeof t&&("undefined"!=typeof t["int"]?this.bT(t["int"]):"number"==typeof t?this.bT(t):"undefined"!=typeof t.pT&&this.ET(t.pT))},St.lang.extend(KJUR.bw.Fw,KJUR.bw.Yw),KJUR.bw._w=function(t){KJUR.bw._w.Dm.constructor.call(this,t),this.nT="0c"},St.lang.extend(KJUR.bw._w,KJUR.bw.sT),KJUR.bw.Dw=function(t){KJUR.bw.Dw.Dm.constructor.call(this,t),this.nT="12"},St.lang.extend(KJUR.bw.Dw,KJUR.bw.sT),KJUR.bw.Hw=function(t){KJUR.bw.Hw.Dm.constructor.call(this,t),this.nT="13"},St.lang.extend(KJUR.bw.Hw,KJUR.bw.sT),KJUR.bw.Lw=function(t){KJUR.bw.Lw.Dm.constructor.call(this,t),this.nT="14"},St.lang.extend(KJUR.bw.Lw,KJUR.bw.sT),KJUR.bw.Mw=function(t){KJUR.bw.Mw.Dm.constructor.call(this,t),this.nT="16"},St.lang.extend(KJUR.bw.Mw,KJUR.bw.sT),KJUR.bw.jw=function(t){KJUR.bw.jw.Dm.constructor.call(this,t),this.nT="17",this.vT=function(t){this.tT=null,this.eT=!0,this.xT=t,this.ny=this.dT(this.xT,"utc"),this.Zw=stohex(this.ny)},this.iT=function(){return"undefined"==typeof this.xT&&"undefined"==typeof this.ny&&(this.xT=new Date,this.ny=this.dT(this.xT,"utc"),this.Zw=stohex(this.ny)),this.Zw},void 0!==t&&(void 0!==t.ac?this.cT(t.ac):"string"==typeof t&&t.match(/^[0-9]{12}Z$/)?this.cT(t):void 0!==t.pT?this.hT(t.pT):void 0!==t.xT&&this.vT(t.xT))},St.lang.extend(KJUR.bw.jw,KJUR.bw.uT),KJUR.bw.Uw=function(t){KJUR.bw.Uw.Dm.constructor.call(this,t),this.nT="18",this.BT=!1,this.vT=function(t){this.tT=null,this.eT=!0,this.xT=t,this.ny=this.dT(this.xT,"gen",this.BT),this.Zw=stohex(this.ny)},this.iT=function(){return void 0===this.xT&&void 0===this.ny&&(this.xT=new Date,this.ny=this.dT(this.xT,"gen",this.BT),this.Zw=stohex(this.ny)),this.Zw},void 0!==t&&(void 0!==t.ac?this.cT(t.ac):"string"==typeof t&&t.match(/^[0-9]{14}Z$/)?this.cT(t):void 0!==t.pT?this.hT(t.pT):void 0!==t.xT&&this.vT(t.xT),t.millis===!0&&(this.BT=!0))},St.lang.extend(KJUR.bw.Uw,KJUR.bw.uT),KJUR.bw.Vw=function(t){KJUR.bw.Vw.Dm.constructor.call(this,t),this.nT="30",this.iT=function(){for(var t="",e=0;e<this.wT.length;e++){var i=this.wT[e];t+=i.zw()}return this.Zw=t,this.Zw}},St.lang.extend(KJUR.bw.Vw,KJUR.bw.yT),KJUR.bw.Qw=function(t){KJUR.bw.Qw.Dm.constructor.call(this,t),this.nT="31",this.FT=!0,this.iT=function(){for(var t=new Array,e=0;e<this.wT.length;e++){var i=this.wT[e];t.push(i.zw())}return 1==this.FT&&t.sort(),this.Zw=t.join(""),this.Zw},"undefined"!=typeof t&&"undefined"!=typeof t.sortflag&&0==t.sortflag&&(this.FT=!1)},St.lang.extend(KJUR.bw.Qw,KJUR.bw.yT),KJUR.bw.qw=function(t){KJUR.bw.qw.Dm.constructor.call(this),this.nT="a0",this.Zw="",this._T=!0,this.DT=null,this.HT=function(t,e,i){this.nT=e,this._T=t,this.DT=i,this._T?(this.Zw=this.DT.zw(),this.tT=null,this.eT=!0):(this.Zw=null,this.tT=i.zw(),this.tT=this.tT.replace(/^../,e),this.eT=!1)},this.iT=function(){return this.Zw},"undefined"!=typeof t&&("undefined"!=typeof t.tag&&(this.nT=t.tag),"undefined"!=typeof t.Jw&&(this._T=t.Jw),"undefined"!=typeof t.Kw&&(this.DT=t.Kw,this.HT(this._T,this.nT,this.DT)))},St.lang.extend(KJUR.bw.qw,KJUR.bw.Yw);/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/ */
  var Nt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",xt="=";/*! crypto-1.1.8.js (c) 2013-2016 Kenji Urushima | kjur.github.com/jsrsasign/license
   */
  "undefined"!=typeof KJUR&&KJUR||(KJUR={}),"undefined"!=typeof KJUR.crypto&&KJUR.crypto||(KJUR.crypto={}),KJUR.crypto.Wy=new function(){this.tm={sha1:"3021300906052b0e03021a05000414",LT:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",MT:"3041300d060960864801650304020205000430",jT:"3051300d060960864801650304020305000440",UT:"3020300c06082a864886f70d020205000410",VT:"3020300c06082a864886f70d020505000410",QT:"3021300906052b2403020105000414"},this.qT={VT:"cryptojs",sha1:"cryptojs",LT:"cryptojs",sha256:"cryptojs",MT:"cryptojs",jT:"cryptojs",QT:"cryptojs",JT:"cryptojs",KT:"cryptojs",GT:"cryptojs",zT:"cryptojs",WT:"cryptojs",$T:"cryptojs",YT:"cryptojs",XT:"cryptojs/jsrsa",ZT:"cryptojs/jsrsa",tS:"cryptojs/jsrsa",eS:"cryptojs/jsrsa",iS:"cryptojs/jsrsa",rS:"cryptojs/jsrsa",nS:"cryptojs/jsrsa",oS:"cryptojs/jsrsa",sS:"cryptojs/jsrsa",aS:"cryptojs/jsrsa",cS:"cryptojs/jsrsa",hS:"cryptojs/jsrsa",pS:"cryptojs/jsrsa",uS:"cryptojs/jsrsa",lS:"cryptojs/jsrsa",dS:"cryptojs/jsrsa",fS:"cryptojs/jsrsa",gS:"cryptojs/jsrsa",vS:"cryptojs/jsrsa",yS:"cryptojs/jsrsa",mS:"cryptojs/jsrsa",wS:"cryptojs/jsrsa",TS:"cryptojs/jsrsa",SS:"cryptojs/jsrsa"},this.bS={VT:bt.vw.yw,sha1:bt.vw.Tw,LT:bt.vw.SHA224,sha256:bt.vw.SHA256,MT:bt.vw.SHA384,jT:bt.vw.SHA512,QT:bt.vw.RIPEMD160},this.ES=function(t,e){if("undefined"==typeof this.tm[e])throw"alg not supported in Util.DIGESTINFOHEAD: "+e;return this.tm[e]+t},this.Yy=function(t,e,i){var r=this.ES(t,e),n=i/4;if(r.length+22>n)throw"key is too short for SigAlg: keylen="+i+","+e;for(var o="0001",s="00"+r,a="",c=n-o.length-s.length,h=0;h<c;h+=2)a+="ff";var p=o+a+s;return p},this.zy=function(t,e){var i=new KJUR.crypto.IS({RS:e});return i.kS(t)},this.Xy=function(t,e){var i=new KJUR.crypto.IS({RS:e});return i.CS(t)},this.sha1=function(t){var e=new KJUR.crypto.IS({RS:"sha1",OS:"cryptojs"});return e.kS(t)},this.sha256=function(t){var e=new KJUR.crypto.IS({RS:"sha256",OS:"cryptojs"});return e.kS(t)},this.PS=function(t){var e=new KJUR.crypto.IS({RS:"sha256",OS:"cryptojs"});return e.CS(t)},this.jT=function(t){var e=new KJUR.crypto.IS({RS:"sha512",OS:"cryptojs"});return e.kS(t)},this.NS=function(t){var e=new KJUR.crypto.IS({RS:"sha512",OS:"cryptojs"});return e.CS(t)},this.VT=function(t){var e=new KJUR.crypto.IS({RS:"md5",OS:"cryptojs"});return e.kS(t)},this.QT=function(t){var e=new KJUR.crypto.IS({RS:"ripemd160",OS:"cryptojs"});return e.kS(t)},this.xS=function(t){}},KJUR.crypto.IS=function(t){this.BS=function(t,e){if(null!=t&&void 0===e&&(e=KJUR.crypto.Wy.qT[t]),":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(t)!=-1&&"cryptojs"==e){try{this.FS=KJUR.crypto.Wy.bS[t].create()}catch(i){throw"setAlgAndProvider hash alg set fail alg="+t+"/"+i}this._S=function(t){this.FS.update(t)},this.DS=function(t){var e=bt.Ym.Xm.parse(t);this.FS.update(e)},this.digest=function(){var t=this.FS.lw();return t.toString(bt.Ym.Xm)},this.kS=function(t){return this._S(t),this.digest()},this.CS=function(t){return this.DS(t),this.digest()}}if(":sha256:".indexOf(t)!=-1&&"sjcl"==e){try{this.FS=new sjcl.hash.sha256}catch(i){throw"setAlgAndProvider hash alg set fail alg="+t+"/"+i}this._S=function(t){this.FS.update(t)},this.DS=function(t){var e=sjcl.codec.pT.toBits(t);this.FS.update(e)},this.digest=function(){var t=this.FS.lw();return sjcl.codec.pT.fromBits(t)},this.kS=function(t){return this._S(t),this.digest()},this.CS=function(t){return this.DS(t),this.digest()}}},this._S=function(t){throw"updateString(str) not supported for this alg/prov: "+this.HS+"/"+this.LS},this.DS=function(t){throw"updateHex(hex) not supported for this alg/prov: "+this.HS+"/"+this.LS},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.HS+"/"+this.LS},this.kS=function(t){throw"digestString(str) not supported for this alg/prov: "+this.HS+"/"+this.LS},this.CS=function(t){throw"digestHex(hex) not supported for this alg/prov: "+this.HS+"/"+this.LS},void 0!==t&&void 0!==t.RS&&(this.HS=t.RS,void 0===t.OS&&(this.LS=KJUR.crypto.Wy.qT[this.HS]),this.BS(this.HS,this.LS))},KJUR.crypto.MS=function(t){this.BS=function(t,e){if(t=t.toLowerCase(),null==t&&(t="hmacsha1"),t=t.toLowerCase(),"hmac"!=t.substr(0,4))throw"setAlgAndProvider unsupported HMAC alg: "+t;void 0===e&&(e=KJUR.crypto.Wy.qT[t]),this.jS=t+"/"+e;var i=t.substr(4);if(":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(i)!=-1&&"cryptojs"==e){try{var r=KJUR.crypto.Wy.bS[i];this.mac=bt.vw.HMAC.create(r,this.US)}catch(n){throw"setAlgAndProvider hash alg set fail hashAlg="+i+"/"+n}this._S=function(t){this.mac.update(t)},this.DS=function(t){var e=bt.Ym.Xm.parse(t);this.mac.update(e)},this.VS=function(){var t=this.mac.lw();return t.toString(bt.Ym.Xm)},this.QS=function(t){return this._S(t),this.VS()},this.qS=function(t){return this.DS(t),this.VS()}}},this._S=function(t){throw"updateString(str) not supported for this alg/prov: "+this.jS},this.DS=function(t){throw"updateHex(hex) not supported for this alg/prov: "+this.jS},this.VS=function(){throw"digest() not supported for this alg/prov: "+this.jS},this.QS=function(t){throw"digestString(str) not supported for this alg/prov: "+this.jS},this.qS=function(t){throw"digestHex(hex) not supported for this alg/prov: "+this.jS},this.JS=function(t){if("string"==typeof t){var e=t;return t.length%2!=1&&t.match(/^[0-9A-Fa-f]+$/)||(e=rstrtohex(t)),void(this.US=bt.Ym.Xm.parse(e))}if("object"!=typeof t)throw"KJUR.crypto.Mac unsupported password type: "+t;var e=null;if(void 0!==t.pT){if(t.pT.length%2!=0||!t.pT.match(/^[0-9A-Fa-f]+$/))throw"Mac: wrong hex password: "+t.pT;e=t.pT}if(void 0!==t.utf8&&(e=utf8tohex(t.utf8)),void 0!==t.rstr&&(e=rstrtohex(t.rstr)),void 0!==t.b64&&(e=J(t.b64)),void 0!==t.b64u&&(e=b64utohex(t.b64u)),null==e)throw"KJUR.crypto.Mac unsupported password type: "+t;this.US=bt.Ym.Xm.parse(e)},void 0!==t&&(void 0!==t.US&&this.JS(t.US),void 0!==t.RS&&(this.HS=t.RS,void 0===t.OS&&(this.LS=KJUR.crypto.Wy.qT[this.HS]),this.BS(this.HS,this.LS)))},KJUR.crypto.Signature=function(t){var e=null;if(this.KS=function(){this.HS.match(/^(.+)with(.+)$/)&&(this.GS=RegExp.$1.toLowerCase(),this.zS=RegExp.$2.toLowerCase())},this.WS=function(t,e){for(var i="",r=e/4-t.length,n=0;n<r;n++)i+="0";return i+t},this.BS=function(t,e){if(this.KS(),"cryptojs/jsrsa"!=e)throw"provider not supported: "+e;if(":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.GS)!=-1){try{this.FS=new KJUR.crypto.IS({RS:this.GS})}catch(i){throw"setAlgAndProvider hash alg set fail alg="+this.GS+"/"+i}this.init=function(t,e){var i=null;try{i=void 0===e?KEYUTIL.getKey(t):KEYUTIL.getKey(t,e)}catch(r){throw"init failed:"+r}if(i.isPrivate===!0)this.$S=i,this.state="SIGN";else{if(i.qy!==!0)throw"init failed.:"+i;this.YS=i,this.state="VERIFY"}},this.XS=function(t){"string"==typeof t.ZS&&"string"==typeof t.tb?(this.ZS=t.ZS,this.tb=t.tb):this.$S=t,this.state="SIGN"},this.eb=function(t){"string"==typeof t.ib&&"string"==typeof t.tb?(this.ib=t.ib,this.tb=t.tb):t instanceof KJUR.crypto.ECDSA?this.YS=t:t instanceof Y&&(this.YS=t),this.state="VERIFY"},this.rb=function(t){var e=new X509;e.readCertPEM(t),this.YS=e.nb,this.state="VERIFY"},this._S=function(t){this.FS._S(t)},this.DS=function(t){this.FS.DS(t)},this.sign=function(){if(this.ob=this.FS.digest(),"undefined"!=typeof this.ZS&&"undefined"!=typeof this.tb){var t=new KJUR.crypto.ECDSA({curve:this.tb});this.sb=t.ab(this.ob,this.ZS)}else if(this.$S instanceof Y&&"rsaandmgf1"==this.zS)this.sb=this.$S.Zy(this.ob,this.GS,this.cb);else if(this.$S instanceof Y&&"rsa"==this.zS)this.sb=this.$S.$y(this.ob,this.GS);else if(this.$S instanceof KJUR.crypto.ECDSA)this.sb=this.$S.$y(this.ob);else{if(!(this.$S instanceof KJUR.crypto.DSA))throw"Signature: unsupported public key alg: "+this.zS;this.sb=this.$S.$y(this.ob)}return this.sb},this.hb=function(t){return this._S(t),this.sign()},this.ab=function(t){return this.DS(t),this.sign()},this.verify=function(t){if(this.ob=this.FS.digest(),"undefined"!=typeof this.ib&&"undefined"!=typeof this.tb){var e=new KJUR.crypto.ECDSA({curve:this.tb});return e.verifyHex(this.ob,t,this.ib)}if(this.YS instanceof Y&&"rsaandmgf1"==this.zS)return this.YS.em(this.ob,t,this.GS,this.cb);if(this.YS instanceof Y&&"rsa"==this.zS)return this.YS.pb(this.ob,t);if(this.YS instanceof KJUR.crypto.ECDSA)return this.YS.pb(this.ob,t);if(this.YS instanceof KJUR.crypto.DSA)return this.YS.pb(this.ob,t);throw"Signature: unsupported public key alg: "+this.zS}}},this.init=function(t,e){throw"init(key, pass) not supported for this alg:prov="+this.ub},this.eb=function(t){throw"initVerifyByPublicKey(rsaPubKeyy) not supported for this alg:prov="+this.ub},this.rb=function(t){throw"initVerifyByCertificatePEM(certPEM) not supported for this alg:prov="+this.ub},this.XS=function(t){throw"initSign(prvKey) not supported for this alg:prov="+this.ub},this._S=function(t){throw"updateString(str) not supported for this alg:prov="+this.ub},this.DS=function(t){throw"updateHex(hex) not supported for this alg:prov="+this.ub},this.sign=function(){throw"sign() not supported for this alg:prov="+this.ub},this.hb=function(t){throw"digestString(str) not supported for this alg:prov="+this.ub},this.ab=function(t){throw"digestHex(hex) not supported for this alg:prov="+this.ub},this.verify=function(t){throw"verify(hSigVal) not supported for this alg:prov="+this.ub},this.lb=t,void 0!==t&&(void 0!==t.RS&&(this.HS=t.RS,void 0===t.OS?this.LS=KJUR.crypto.Wy.qT[this.HS]:this.LS=t.OS,this.ub=this.HS+":"+this.LS,this.BS(this.HS,this.LS),this.KS()),void 0!==t.fb&&(this.cb=t.fb),void 0!==t.prvkeypem)){if(void 0!==t.prvkeypas)throw"both prvkeypem and prvkeypas parameters not supported";try{var e=new Y;e.readPrivateKeyFromPEMString(t.prvkeypem),this.XS(e)}catch(i){throw"fatal error to load pem private key: "+i}}},KJUR.crypto.NT=new function(){this.gb={vb:"rsaEncryption",yb:"ecPublicKey",mb:"dsa",wb:"secp256r1",Tb:"secp192k1",Sb:"secp224r1",bb:"secp256k1",Eb:"secp521r1",Ib:"secp384r1",Rb:"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}};var Bt=20;Y.prototype.Gy=Z,Y.prototype.qh=X,Y.prototype.encrypt=tt,Y.prototype.kb=et,Y.prototype.type="RSA";/*! rsasign-1.2.7.js (c) 2012 Kenji Urushima | kjur.github.com/jsrsasign/license
   */
  var Ft=new RegExp("");Ft.compile("[^0-9a-f]","gi"),Y.prototype.$y=nt,Y.prototype.hb=rt,Y.prototype.Cb=ot,Y.prototype.Ob=st,Y.prototype.sign=rt,Y.prototype.Pb=ot,Y.prototype.Ab=st,Y.prototype.Zy=ht,Y.prototype.Nb=ct,Y.prototype.xb=ct,Y.Bb=-1,Y.Fb=-2,Y.prototype.pb=vt,Y.prototype.Jh=gt,Y.prototype._b=ft,Y.prototype.verify=gt,Y.prototype.Db=ft,Y.prototype.em=mt,Y.prototype.Hb=yt,Y.prototype.Lb=yt,Y.Mb=-2,e.jb=i,e.Mh=Y,e.Signature=KJUR.crypto.Signature,e.IS=KJUR.crypto.IS,e.Ub=bt,e.jh=J,e.Vb=K},function(t,e){"use strict";var i={};i.Qb=function(){return Math.random().toString(36).substr(2,10)},i.qb=i.Qb(),i.Jb=function(t){return t.trim().split("\n").map(function(t){return t.trim()})},i.Kb=function(t){var e=t.split("\nm=");return e.map(function(t,e){return(e>0?"m="+t:t).trim()+"\r\n"})},i.Gb=function(t,e){return i.Jb(t).filter(function(t){return 0===t.indexOf(e)})},i.zb=function(t){var e;e=0===t.indexOf("a=candidate:")?t.substring(12).split(" "):t.substring(10).split(" ");for(var i={Wb:e[0],$b:e[1],protocol:e[2].toLowerCase(),Yb:parseInt(e[3],10),Xb:e[4],port:parseInt(e[5],10),type:e[7]},r=8;r<e.length;r+=2)switch(e[r]){case"raddr":i.Zb=e[r+1];break;case"rport":i.tE=parseInt(e[r+1],10);break;case"tcptype":i.eE=e[r+1];break;default:i[e[r]]=e[r+1]}return i},i.iE=function(t){var e=[];e.push(t.Wb),e.push(t.$b),e.push(t.protocol.toUpperCase()),e.push(t.Yb),e.push(t.Xb),e.push(t.port);var i=t.type;return e.push("typ"),e.push(i),"host"!==i&&t.Zb&&t.tE&&(e.push("raddr"),e.push(t.Zb),e.push("rport"),e.push(t.tE)),t.eE&&"tcp"===t.protocol.toLowerCase()&&(e.push("tcptype"),e.push(t.eE)),"candidate:"+e.join(" ")},i.rE=function(t){return t.substr(14).split(" ")},i.nE=function(t){var e=t.substr(9).split(" "),i={oE:parseInt(e.shift(),10)};return e=e[0].split("/"),i.name=e[0],i.sE=parseInt(e[1],10),i.aE=3===e.length?parseInt(e[2],10):1,i},i.cE=function(t){var e=t.oE;return void 0!==t.hE&&(e=t.hE),"a=rtpmap:"+e+" "+t.name+"/"+t.sE+(1!==t.aE?"/"+t.aE:"")+"\r\n"},i.pE=function(t){var e=t.substr(9).split(" ");return{id:parseInt(e[0],10),direction:e[0].indexOf("/")>0?e[0].split("/")[1]:"sendrecv",uri:e[1]}},i.uE=function(t){return"a=extmap:"+(t.id||t.preferredId)+(t.direction&&"sendrecv"!==t.direction?"/"+t.direction:"")+" "+t.uri+"\r\n"},i.lE=function(t){for(var e,i={},r=t.substr(t.indexOf(" ")+1).split(";"),n=0;n<r.length;n++)e=r[n].trim().split("="),i[e[0].trim()]=e[1];return i},i.dE=function(t){var e="",i=t.oE;if(void 0!==t.hE&&(i=t.hE),t.parameters&&Object.keys(t.parameters).length){var r=[];Object.keys(t.parameters).forEach(function(e){r.push(e+"="+t.parameters[e])}),e+="a=fmtp:"+i+" "+r.join(";")+"\r\n"}return e},i.fE=function(t){var e=t.substr(t.indexOf(" ")+1).split(" ");return{type:e.shift(),gE:e.join(" ")}},i.vE=function(t){var e="",i=t.oE;return void 0!==t.hE&&(i=t.hE),t.yE&&t.yE.length&&t.yE.forEach(function(t){e+="a=rtcp-fb:"+i+" "+t.type+(t.gE&&t.gE.length?" "+t.gE:"")+"\r\n"}),e},i.mE=function(t){var e=t.indexOf(" "),i={wE:parseInt(t.substr(7,e-7),10)},r=t.indexOf(":",e);return r>-1?(i.TE=t.substr(e+1,r-e-1),i.value=t.substr(r+1)):i.TE=t.substr(e+1),i},i.SE=function(t){var e=i.Gb(t,"a=mid:")[0];if(e)return e.substr(6)},i.bE=function(t){var e=t.substr(14).split(" ");return{algorithm:e[0].toLowerCase(),value:e[1]}},i.EE=function(t,e){var r=i.Gb(t+e,"a=fingerprint:");return{IE:"auto",RE:r.map(i.bE)}},i.kE=function(t,e){var i="a=setup:"+e+"\r\n";return t.RE.forEach(function(t){i+="a=fingerprint:"+t.algorithm+" "+t.value+"\r\n"}),i},i.CE=function(t,e){var r=i.Jb(t);r=r.concat(i.Jb(e));var n={OE:r.filter(function(t){return 0===t.indexOf("a=ice-ufrag:")})[0].substr(12),password:r.filter(function(t){return 0===t.indexOf("a=ice-pwd:")})[0].substr(10)};return n},i.PE=function(t){return"a=ice-ufrag:"+t.OE+"\r\na=ice-pwd:"+t.password+"\r\n"},i.AE=function(t){for(var e={NE:[],xE:[],BE:[],FE:[]},r=i.Jb(t),n=r[0].split(" "),o=3;o<n.length;o++){var s=n[o],a=i.Gb(t,"a=rtpmap:"+s+" ")[0];if(a){var c=i.nE(a),h=i.Gb(t,"a=fmtp:"+s+" ");switch(c.parameters=h.length?i.lE(h[0]):{},c.yE=i.Gb(t,"a=rtcp-fb:"+s+" ").map(i.fE),e.NE.push(c),c.name.toUpperCase()){case"RED":case"ULPFEC":e.BE.push(c.name.toUpperCase())}}}return i.Gb(t,"a=extmap:").forEach(function(t){e.xE.push(i.pE(t))}),e},i._E=function(t,e){var r="";r+="m="+t+" ",r+=e.NE.length>0?"9":"0",r+=" UDP/TLS/RTP/SAVPF ",r+=e.NE.map(function(t){return void 0!==t.hE?t.hE:t.oE}).join(" ")+"\r\n",r+="c=IN IP4 0.0.0.0\r\n",r+="a=rtcp:9 IN IP4 0.0.0.0\r\n",e.NE.forEach(function(t){r+=i.cE(t),r+=i.dE(t),r+=i.vE(t)});var n=0;return e.NE.forEach(function(t){t.DE>n&&(n=t.DE)}),n>0&&(r+="a=maxptime:"+n+"\r\n"),r+="a=rtcp-mux\r\n",e.xE.forEach(function(t){r+=i.uE(t)}),r},i.HE=function(t){var e,r=[],n=i.AE(t),o=n.BE.indexOf("RED")!==-1,s=n.BE.indexOf("ULPFEC")!==-1,a=i.Gb(t,"a=ssrc:").map(function(t){return i.mE(t)}).filter(function(t){return"cname"===t.TE}),c=a.length>0&&a[0].wE,h=i.Gb(t,"a=ssrc-group:FID").map(function(t){var e=t.split(" ");return e.shift(),e.map(function(t){return parseInt(t,10)})});h.length>0&&h[0].length>1&&h[0][0]===c&&(e=h[0][1]),n.NE.forEach(function(t){if("RTX"===t.name.toUpperCase()&&t.parameters.apt){var i={wE:c,LE:parseInt(t.parameters.apt,10),ME:{wE:e}};r.push(i),o&&(i=JSON.parse(JSON.stringify(i)),i.jE={wE:e,UE:s?"red+ulpfec":"red"},r.push(i))}}),0===r.length&&c&&r.push({wE:c});var p=i.Gb(t,"b=");return p.length&&(0===p[0].indexOf("b=TIAS:")?p=parseInt(p[0].substr(7),10):0===p[0].indexOf("b=AS:")&&(p=parseInt(p[0].substr(5),10)),r.forEach(function(t){t.VE=p})),r},i.QE=function(t){var e={},r=i.Gb(t,"a=ssrc:").map(function(t){return i.mE(t)}).filter(function(t){return"cname"===t.TE})[0];r&&(e.qE=r.value,e.wE=r.wE);var n=i.Gb(t,"a=rtcp-rsize");e.JE=n.length>0,e.KE=0===n.length;var o=i.Gb(t,"a=rtcp-mux");return e.GE=o.length>0,e},i.zE=function(t){var e,r=i.Gb(t,"a=msid:");if(1===r.length)return e=r[0].substr(7).split(" "),{stream:e[0],track:e[1]};var n=i.Gb(t,"a=ssrc:").map(function(t){return i.mE(t)}).filter(function(t){return"msid"===t.TE});return n.length>0?(e=n[0].value.split(" "),{stream:e[0],track:e[1]}):void 0},i.WE=function(){return"v=0\r\no=thisisadapterortc 8169639915646943137 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},i.$E=function(t,e,r,n){var o=i._E(t.kind,e);if(o+=i.PE(t.YE.getLocalParameters()),o+=i.kE(t.XE.getLocalParameters(),"offer"===r?"actpass":"active"),o+="a=mid:"+t.ZE+"\r\n",o+=t.direction?"a="+t.direction+"\r\n":t.tI&&t.eI?"a=sendrecv\r\n":t.tI?"a=sendonly\r\n":t.eI?"a=recvonly\r\n":"a=inactive\r\n",t.tI){var s="msid:"+n.id+" "+t.tI.track.id+"\r\n";o+="a="+s,o+="a=ssrc:"+t.iI[0].wE+" "+s,t.iI[0].ME&&(o+="a=ssrc:"+t.iI[0].ME.wE+" "+s,o+="a=ssrc-group:FID "+t.iI[0].wE+" "+t.iI[0].ME.wE+"\r\n")}return o+="a=ssrc:"+t.iI[0].wE+" cname:"+i.qb+"\r\n",t.tI&&t.iI[0].ME&&(o+="a=ssrc:"+t.iI[0].ME.wE+" cname:"+i.qb+"\r\n"),o},i.rI=function(t,e){for(var r=i.Jb(t),n=0;n<r.length;n++)switch(r[n]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return r[n].substr(2)}return e?i.rI(e):"sendrecv"},i.nI=function(t){var e=i.Jb(t),r=e[0].split(" ");return r[0].substr(2)},i.Ut=function(t){return"0"===t.split(" ",2)[1]},t.t=i},function(t,e,i){"use strict";var r=i(1),n=i(10),o=function(){function t(t,e){this.msg=t,this.oI=Date.now()+e,this.sI=r.defer()}return t.prototype.aI=function(){return Date.now()>=this.oI},t}(),s=function(){function t(t,e,i,r,n,o,s){void 0===e&&(e=3e4),void 0===i&&(i=100),void 0===r&&(r=3e4),void 0===n&&(n=15e3),void 0===o&&(o=Date),void 0===s&&(s=!1),this.cI=1,this.hI=-1,this.pI=-1,this.uI={},this.lI=[],this.dI=[],this.fI=!1,this.gI=!0,this.vI=t,this.yI=Array(),this.Ao=e,this.No=i,this.xo=r,this.mI=n,this.wI=o,this.fI=s||/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge./i.test(navigator.userAgent)}return t.prototype.Et=function(t){var e=t.service+"_"+t.msgId,i=this.uI[e];null!=i?i(t):n.m().error(n.u+"Could not find a dispatcher for ",t,e,this.uI)},t.prototype.on=function(t,e,i){this.uI[t+"_"+e]=i},t.prototype.onerror=function(t){this.lI.push(t)},t.prototype.TI=function(t){this.dI.push(t)},t.prototype.SI=function(){var t=this;if(!window.WebSocket)return void this.lI.forEach(function(t){return t("WebSocket not defined")});var e=new WebSocket(this.vI);return e.binaryType="arraybuffer",e.onopen=function(e){t.bI(),n.m().debug(n.u+"HiveServicesConnection established to "+t.vI),t.pI=(new t.wI).getTime(),t.EI(),t.dI.forEach(function(e){return e(t)}),t.II(),t.RI()},e.onclose=function(e){t.close(t.gI),t.connect()},e.onmessage=function(e){t.Et(n.Zn.wo(e.data))},e.onerror=function(e){t.close(!0),t.lI.forEach(function(t){return t(e.toString())})},e},t.prototype.isOpen=function(){return null!=this.Op&&this.Op.readyState==this.Op.OPEN},t.prototype.connect=function(t){var e=this;t&&(this.gI=!0),this.gI&&1!=this.isOpen()&&(this.hI>0||(this.pI>-1&&(new this.wI).getTime()-this.pI>this.Ao?(this.cI=n.ke.yo,this.pI=-1):this.cI=Math.min(2*this.cI,this.Ao),this.hI=window.setTimeout(function(){e.hI=-1,n.m().debug(n.u+"Connection attempt to "+e.vI+" [t:"+e.cI+" hb:"+e.fI+"]"),e.Op=e.SI(),e.cI=Math.max(e.cI,n.ke.yo)},this.cI)))},t.prototype.bI=function(){this.hI>-1&&(clearTimeout(this.hI),this.hI=-1)},t.prototype.close=function(t){this.gI=void 0!=t&&t,n.m().debug(n.u+"Closing connection [reconnect:"+this.gI+"]"),this.bI(),null!=this.Op&&(this.Op.close(),this.Op=null)},t.prototype.EI=function(){for(;this.yI.length>0;){var t=this.yI.pop();try{t.aI()?t.sI.reject(new Error("Message expired")):(this.II(),this.Op.send(t.msg.mo()))}catch(e){if(e.code===DOMException.INVALID_STATE_ERR){this.yI.push(t);break}n.m().error(n.u+"Failed to send the message, dropped: ",e.code,e.name),t.sI.reject(e)}}this.RI()},t.prototype.II=function(){this.kI&&(clearTimeout(this.kI),this.kI=null)},t.prototype.RI=function(){var t=this;this.fI&&!this.kI&&(this.kI=window.setInterval(function(){t.send(new n.Zn(Services.Cf,0,""))},this.mI))},t.prototype.send=function(t,e){if(void 0===e&&(e=this.xo),this.yI.length>=this.No)throw new Error("HiveServices connection cannot queue more messages");var i=new o(t,e);return this.yI.push(i),this.Op&&this.EI(),i.sI.vt},t.prototype.CI=function(t){this.fI=t,this.fI&&this.RI()},t.prototype.OI=function(){return null!=this.Op},t}();e.AI=s},function(t,e,i){"use strict";var r=i(15),n=i(38),o=i(24),s=i(2),a=function(){function t(){}return t.prototype.apply=function(t){t.bind(new r.ns(s.Framework.Fe.me,n.NI,r.ss.ls)),t.bind(new r.ns(s.Framework.Fe.we,o.El.bl))},t}();e.Td=a},function(t,e){"use strict";var i=function(){function t(){"undefined"!=typeof global?this.xI=global:this.xI=window}return t.prototype.Ct=function(){return!1},t.prototype.BI=function(t,e,i){},t.prototype.be=function(){},t.prototype.time=function(){return+new Date},t.prototype.setTimeout=function(t,e){var i=this.xI.setTimeout(function(){t()},e);return i},t.prototype.clearTimeout=function(t){return this.xI.clearTimeout(t),!0},t.prototype.setInterval=function(t,e){var i=this.xI.setInterval(function(){t()},e);return i},t.prototype.clearInterval=function(t){return this.xI.clearInterval(t),!0},t}();e.NI=i},function(t,e){"use strict";var i=function(){function t(t,e){this.Uo=t,this.Vo=e}return t.prototype.Wo=function(){return this.Uo},t.prototype.$o=function(){return this.Vo?this.Vo:this.Uo},t}();e.FI=i},function(t,e,i){"use strict";var r,n=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},o=i(8),s=o.pt.Ir.Ir,a=o.pt.Ir.kr;!function(t){var e;!function(t){var e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.authTokenEnabled=!0,e.dashRemoveBitrateSize=!1,e.dashFilterBitrates=null,e.logJsonSnapshots=void 0,e}return n(e,t),e}(s);t.Fl=e;var i=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hiveAuthTokenEnabled="authTokenEnabled",e.hiveDashRemoveBitrateSize="dashRemoveBitrateSize",e.hiveDashFilterBitrates="dashFilterBitrates",e.hiveLogJsonSnapshots="logJsonSnapshots",e}return n(e,t),e}(a);t.Dl=i}(e=t.Ir||(t.Ir={}))}(r=e.pt||(e.pt={}));var c=function(){function t(){}return t.Hl=function(t){"dashRemoveBitrateSize"in t&&t.dashRemoveBitrateSize&&window.HiveConfig&&window.HiveConfig.Dash&&(window.HiveConfig.Dash.DashRemoveBitrateSize=t.dashRemoveBitrateSize),"dashFilterBitrates"in t&&t.dashFilterBitrates&&window.HiveConfig&&window.HiveConfig.Dash&&(window.HiveConfig.Dash.DashFilterBitrates=t.dashFilterBitrates),"logJsonSnapshots"in t&&t.logJsonSnapshots&&window.HiveConfig&&window.HiveConfig.DebugLogs&&(window.HiveConfig.DebugLogs.MetricSnapshotLogs=1,window.HiveConfig.DebugLogs.TrackSnapshotLogs=1,window.HiveConfig.DebugLogs.gl=1)},t}();e.Ll=c},function(t,e){"use strict";var i=function(){function t(){var e=this;if(this._I=new Array,this.callbacks=new Array,t.Gi)throw new Error("Error: Instantiation failed: Use KeyHandlerHiveComm.getInstance() instead of new.");var i={};document.addEventListener("keydown",function(t){i[t.keyCode]=!0,e.DI(i)},!0),document.addEventListener("keyup",function(t){i={}},!0)}return t.Wi=function(){return void 0===this.Gi&&(this.Gi=new t),this.Gi},t.prototype.Dh=function(t,e){this._I.push(t),this.callbacks.push(e)},t.prototype.DI=function(t){for(var e=function(e){var r=!0;i._I[e].forEach(function(e){void 0!=t[e]&&t[e]||(r=!1)}),r&&i.callbacks[e]()},i=this,r=0;r<this._I.length;r++)e(r)},t}();e.Hh=i},function(t,e,i){"use strict";var r=i(12),n=i(18),o=i(7),s=function(){function t(t){this.HI=n.ke.yr?9989:9988,this.LI=-1,this.MI=t,this.jI()}return t.prototype.jI=function(){var t=this;this.MI.options().silent&&void 0===this.UI&&(this.url="//"+r.wr.To+":"+this.HI+"/feedback",this.MI.m().info("starting periodic alive ping to hive tester ["+this.url+"]"),this.UI=setInterval(function(){t.VI()},n.ke.Nh))},t.prototype.VI=function(){var t=this,e=this.MI.getCurrentTime();e>this.LI?(this.MI.m().info("sending hive tester ping ["+e+" > "+this.LI+"]"),o.Zi(this.url).then(function(t){},function(e){t.MI.m().error("error sending hive tester ping",e),clearInterval(t.UI)})):this.MI.m().warn("not sending hive tester ping ["+e+" <= "+this.LI+"]"),this.LI=e},t}();e.Ul=s},function(t,e,i){"use strict";var r=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},n=i(1),o=i(7),s=i(8),a=i(44),c=i(17),h=i(12),p=i(14),u=i(9),l=i(20),d=i(19),f=a.pt.Ir,g=s.pt.Ir.kr,v=c.pt.HiveTechError,y=c.pt.bh,m=i(28);e.QI=navigator;var w=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(o.Bi),T=function(){function t(t,e){this.qI=0,this.MI=t,this.options_=new f.JI,this.KI(e),o.or(window.location.href,new g,this.options_)}return t.prototype.Ai=function(){return t.Jl},t.prototype.getVersion=function(){return this.version},t.prototype.Wl=function(){return!1},t.prototype.GI=function(){var t=this;if(null==this.zI||Date.now()-this.qI>1e4){var e=new m;e.In(navigator.userAgent);var i=e.$d();if("IE"===i.name&&i.version&&parseInt(i.version)<10)return n.reject(new v(y.yh,"Internet Explorer < v.10 not supported"));this.WI=Date.now(),this.$I=0;var r="//"+h.wr.To+":"+this.MI.options().monitorPort+"/version.json";this.m().debug(this.id()+"verifying Hive Client version"),this.zI=o.Zi(r).then(function(e){var i=JSON.parse(e);return t.state=i.state,t.version=i.version,"ready"===t.state?"developer"===t.version||t.version>=t.options_.minVersion?(t.$I=Date.now(),t.m().debug(t.id()+"Hive Client ready - version "+t.version+" ["+(t.$I-t.WI)+"]"),"ready"):(d.ErrorMonitor.Wi()._h(t.id()+"Client version requirement not satisfied: "+t.version+" < "+t.options_.minVersion),t.MI.ed(new u.F.uo(null,u.F.Gr.Qr)),n.reject(new v(y.Th,"version "+t.version))):(d.ErrorMonitor.Wi()._h(t.id()+"Client state: "+t.state),t.MI.ed(new u.F.uo(null,u.F.Gr.Vr)),n.reject(new v(y.yh,"state "+t.state)))},function(e){var i="Client not reachable";return void 0!=e&&void 0!=e.status&&e.status!=-1&&(i="Client check returned "+e.status),d.ErrorMonitor.Wi()._h(t.id()+i),t.MI.ed(new u.F.uo(null,u.F.Gr.Ur)),n.reject(new v(y.yh,i))})["catch"](function(e){if(e instanceof v)return n.reject(e);var i="Error fetching Hive Client version: "+e;return d.ErrorMonitor.Wi()._h(t.id()+i),n.reject(new v(y.yh,i))}),this.qI=Date.now()}return this.zI},t.prototype.initSession=function(t,e){var i=this;return this.options_.minVersion!=h.wr.Io?this.GI().then(function(){return i.YI(t)["catch"](function(t){return n.reject(t)})}):this.YI(t)["catch"](function(t){return n.reject(t)})},t.prototype.Yl=function(){return this.options_.initTimeout},t.prototype.st=function(t,e){return t.indexOf(e.XI)>-1},t.prototype.Pi=function(t,i){var r=this;this.m().debug(this.id()+"Stopping session "+t.id+" [complete close:"+i+"]");var n="//"+h.wr.To+":"+this.MI.options().playerPort+"/session?action=stop";n+="&currentSession="+t.id,i&&(n+="&completeStop=true"),i&&e.QI.sendBeacon?(e.QI.sendBeacon(n),this.m().debug(this.id()+"session stopped ["+t.id+"][beacon]")):o.Zi(n,null,!i).then(function(){r.m().debug(r.id()+"session stopped ["+t.id+"]"+(i?"[sync]":""))},function(e){r.m().warn(r.id()+"session close error ["+t.id+"]"+(i?"[sync]":""),e)})},t.prototype.Ci=function(t,e){this.ZI=e?p.Fo.IDLE:p.Fo.Bo,this.m().notice("[HiveComm] client state: "+p.Fo[this.ZI])},t.prototype.fd=function(t,e){if(this.ZI==p.Fo.IDLE)return n.resolve(!0);var i="playing-point="+e.lr;i+="&buffer-length="+e.dr,i+="&total-buffering="+e.gr,i+="&width="+e.width,i+="&height="+e.height,i+="&fullscreen="+e.dd;var r=t.XI+"stats?"+i;return this.m().trace(r),o.Zi(r)},t.prototype.yd=function(t,e,i){var r=this;if(!(e!==u.F.B.jr&&e!==u.F.B.HIDDEN||this.version&&("developer"===this.version||this.version>="2017")))return n.resolve(!0);var s=t.XI+"player-event?type="+u.F.B[e];if(void 0!=i)for(var a in i)s+="&"+a+"="+i[a];return this.m().debug(this.id()+"event "+u.F.B[e],void 0!=i?i:""),o.Zi(s).fail(function(t){return r.m().warn(r.id()+"error sending feedback event to Hive Client",t),n.reject(t)})},t.prototype.wn=function(t,e){return n.resolve(!0)},t.prototype.hn=function(t){var e=this;if(this.tR())return this.m().warn("Player info not supported in this Java client version"),n.resolve(!0);var i="comm-version="+this.MI.ct();i+="&plugin-name="+this.MI.T(),i+="&plugin-version="+this.MI.I(),i+="&player-tech="+this.MI.ht(),i+="&player-version="+this.MI.q();var r=this.MI.td();r&&(i+="&telemetry-id="+this.MI.td());var s=t.XI+"player-info?"+i;return o.Zi(s).fail(function(t){return e.m().debug(e.id()+"error sending player Info to Hive Client",t),n.reject(t)})},t.prototype.onError=function(t){var e=!0;if(void 0!=this.options_.onError)try{e=this.options_.onError(t)}catch(i){d.ErrorMonitor.Wi()._h(this.id()+"exception in user-defined onError callback: "+i)}return e},t.prototype.Zl=function(t,e,i){var r={isReadyIn:this.WI,isReadyOut:this.$I,leaseIn:this.eR,leaseOut:this.iR,resolveIn:this.rR,resolveOut:this.nR};"undefined"!=typeof e&&null!=e&&(r.sessionId=e.id),"undefined"!=typeof i&&(r.total=i);var n=JSON.parse(JSON.stringify(r));d.ErrorMonitor.Wi()._h(t.message,n),this.MI.ed(new u.F.uo(null,u.F.Gr.Kr,r)),this.oR()},t.prototype.onActiveSession=function(t){if(this.hn(t),o.ar.setItem("hiveActiveSessionId",t.id),void 0!=this.options_.onActiveSession)try{this.options_.onActiveSession(t.g())}catch(e){d.ErrorMonitor.Wi()._h(this.id()+"exception in user-defined onActiveSession callback: "+e)}},t.prototype.ql=function(t){this.MI=t},t.prototype.id=function(){return"["+t.Jl+"] "},t.prototype.KI=function(e){void 0!=e[t.Jl]&&o.nr(e[t.Jl],this.options_)},t.prototype.YI=function(t){var e=this,i=(new Date).getTime();return this.sR(t).then(function(r){return r?e.aR(t,r,i):e.p(t).then(function(r){return e.aR(t,r,i)})})},t.prototype.sR=function(e){var i=this;if(this.eR=Date.now(),this.MI.options().useSessionCheck){var r="//"+h.wr.To+":"+this.MI.options().playerPort+"/session?&action=check";r+="&hivePluginId="+this.MI.S(),r+="&callback="+e;var s=o.ar.getItem("hiveActiveSessionId");return o.ar.removeItem("hiveActiveSessionId"),s&&(r+="&currentSession="+s),this.cR(),o.Zi(r).then(function(t){return i.iR=Date.now(),t?i.hR(t,r,e,i.eR):(i.m().debug(i.id()+"session allowed ["+(i.iR-i.eR)+"]"),!1)},function(e){if(400==e.status)return i.pR("bad request","error resolving ticket",e);if(401==e.status)return i.pR("unauthorized","error verifying the ticket",e);if(403==e.status){var r=t.uR(e,void 0,"session"),o=r?{lR:r}:void 0;return d.ErrorMonitor.Wi()._h(i.id()+"reports another active session",o),i.MI.ed(new u.F.uo(null,u.F.Gr.qr,o)),n.reject(new v(y.wh,"another active session"+(o?" ["+o.lR+"]":"")))}return 404==e.status?(i.m().debug(i.id()+"installed version does not support active session check"),i.iR=Date.now(),!1):e.status==-1?(clearTimeout(i.dR),i.fR()):(d.ErrorMonitor.Wi()._h(i.id()+" unhandled error from Java",{error:e.status}),i.MI.ed(new u.F.uo(null,u.F.Gr.Jr)),n.reject(new v(y.mh,e)))})["catch"](function(t){return t instanceof v?n.reject(t):(d.ErrorMonitor.Wi()._h(i.id()+" unhandled error on requestLeaseDirect",{error:t}),i.MI.ed(new u.F.uo(null,u.F.Gr.Jr)),n.reject(new v(y.mh,t)))})["finally"](function(){clearTimeout(i.dR)})}return this.m().debug(this.id()+"Hive session check disabled - will directly resolve ticket (other active sessions may fail)"),n.resolve(!1)},t.prototype.pR=function(e,i,r){var o=t.uR(r,e);return d.ErrorMonitor.Wi()._h(""+this.id()+i),this.nR=Date.now(),n.reject(new v(y.ph,o))},t.uR=function(t,e,i){void 0===i&&(i="status");var r=e;if(t.body)try{var n=JSON.parse(t.body);r=n[i]}catch(o){}return r},t.prototype.p=function(t){var e=this;this.rR=Date.now(),this.m().debug(this.id()+"resolving ticket: "+t);var i=this.gR(t);return o.Zi(i,"application/json").then(function(r){return e.hR(r,i,t,e.rR)},function(i){return i&&i.status==-1?e.fR():(d.ErrorMonitor.Wi()._h(e.id()+"error resolving ticket",{ticket:t}),n.reject(new v(y.ph,i)))})["catch"](function(t){return d.ErrorMonitor.Wi()._h(e.id()+"error parsing ticket response: "+t),n.reject(new v(y.mh,t))})},t.prototype.hR=function(t,e,i,r){var n=JSON.parse(t),s=o.ir(e,n.location);return n.version&&!this.version&&(this.version=n.version),this.nR=Date.now(),this.m().debug(this.id()+"resolved ticket "+i+" -> "+s+" ["+(this.nR-r)+"]"),s},t.prototype.aR=function(t,e,i){var r=this.vR(t,e);if(null!=r){var n=(new Date).getTime(),s=n-i;return s>=this.options_.warnSlowRespTimeout&&this.Zl(new v(y.Sh,this.id()+" The tech initialization took more than "+this.options_.warnSlowRespTimeout+" milliseconds"),r,s),o.HiveRequestFactory.bi(r.id,this.Ai()),r}throw new v(y.ph,"error generating session")},t.prototype.vR=function(t,e){var i=new l.ap;i.Kh(t);var r=new w(t,i,e,null);r.yR=!0;var n=h.wr.Eo,o=n.exec(r.manifest);return null!=o?(r.XI=o[1],r.id=o[5],r):null},t.prototype.gR=function(t){var e=t.indexOf("?")==-1?"?":"&";return this.tR()?o.rr(h.wr.bo,h.wr.To,this.MI.options().playerPort,t):o.rr(h.wr.So,h.wr.To,this.MI.options().playerPort,t,e,this.MI.S())},t.prototype.cR=function(){var t=this;this.dR&&clearTimeout(this.dR),this.dR=setTimeout(function(){d.ErrorMonitor.Wi()._h(t.id()+" The Lease Request is taking more than "+t.options_.warnSlowRespTimeout+" secs")},this.options_.warnSlowRespTimeout)},t.prototype.oR=function(){this.eR=0,this.iR=0,this.rR=0,this.nR=0},t.prototype.m=function(){return this.MI.m()},t.prototype.zl=function(){this.oR()},t.prototype.fR=function(){var t=this,e="//"+h.wr.To+":"+this.MI.options().monitorPort+"/version.json";return this.m().debug(this.id()+"checking if the monitor port is reachable"),o.Zi(e).then(function(e){var i=JSON.parse(e);throw t.state=i.state,d.ErrorMonitor.Wi()._h(t.id()+"Client state: "+t.state),t.MI.ed(new u.F.uo(null,u.F.Gr.Vr)),new v(y.yh,"state "+t.state)}).fail(function(e){if(e instanceof v)return n.reject(e);if(e&&e.status==-1){var i="client not reachable";return t.MI.ed(new u.F.uo(null,u.F.Gr.Ur)),t.m().warn(t.id()+i),n.reject(new v(y.yh,i))}var i="VerifyClientState error";return d.ErrorMonitor.Wi()._h(t.id()+i,{error:e}),t.MI.ed(new u.F.uo(null,u.F.Gr.Vr)),n.reject(new v(y.mh,i))})},t.prototype.tR=function(){return this.options_.supportLegacyClient&&(!this.version||this.version.substr(0,4)<"2016")},t}();T.Jl="HiveJava",e.HiveJava=T},function(t,e,i){"use strict";var r,n=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},o=i(8),s=i(12);!function(t){var e;!function(t){var e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.minVersion=s.wr.Io,e.initTimeout=6e4,e.warnSlowRespTimeout=5e3,e.supportLegacyClient=!1,e}return n(e,t),e}(o.pt.Ir.Rr);t.JI=e}(e=t.Ir||(t.Ir={}))}(r=e.pt||(e.pt={}))},function(t,e){"use strict";var i=function(){function t(){}return t}();i.To="127.0.0.1",i.Od=11983,i.So="//{0}:{1}/proxy/?callback={2}{3}hivePluginId={4}",i.mR="//{0}:{1}/proxy/{2}/session?manifest={3}",i.kd="//{0}:{1}/proxy/{2}/player?req={3}",i.wR="//{0}:{1}/proxy/{2}/info?{3}",e.Cd=i},function(t,e,i){"use strict";var r=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},n=i(26),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.bi=function(t,i){e.TR[i]=t},e.SR=function(t,i){e.bR[i]=t},e.prototype.send=function(){if(!this.sessionId){var t=Object.keys(e.bR);t.length>0&&(this.sessionId=e.bR[t[0]])}var i=e.TR[this.sessionId],r=e.bR[this.sessionId];r.m().debug("Intercepted Manifest Request "+this.url),i.setManifestRequest(this),r.R(this.url)},e.prototype.ER=function(){var t=this,e=new XMLHttpRequest;e.open("GET",this.url),e.onreadystatechange=function(){4===e.readyState&&(t.response=e.responseText,t.responseText=e.responseText,t.readyState=4,t.status=e.status,t.onreadystatechange(),t.onload(),console.debug("Returned Manifest Request "+t.url))},e.send()},e.prototype.IR=function(){t.prototype.send.call(this)},e}(n.Ti);o.bR={},o.TR={},e.Si=o},function(t,e,i){"use strict";var r,n=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},o=i(8);!function(t){var e;!function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(o.pt.Ir.Rr);t.RR=e}(e=t.Ir||(t.Ir={}))}(r=e.pt||(e.pt={}))},function(t,e,i){"use strict";var r=i(1),n=i(7),o=i(47),s=o.pt.Ir.RR,a=i(14),c=i(59),h=i(19),p=function(){function t(e,i){this.MI=e,this.options_=new s,void 0!==i[t.Jl]&&n.nr(i[t.Jl],this.options_)}return t.prototype.Ai=function(){return t.Jl},t.prototype.getVersion=function(){return null},t.prototype.Wl=function(){return!0},t.prototype.GI=function(){return r.resolve(!0)},t.prototype.initSession=function(t,e){var i=this.vR(t,e.ticket,e.ticket.tp(),e);return n.HiveRequestFactory.bi(i.id,this.Ai()),r.resolve(i)},t.prototype.Yl=function(){return this.options().initTimeout},t.prototype.st=function(t,e){var i=e.manifest.toLowerCase().indexOf("/manifest");if(i>-1){var r=e.manifest.substring(0,i);if(t.indexOf(r)>-1)return!0}else if(t==e.manifest)return!0;return!1},t.prototype.Pi=function(t){t.Ri&&(this.MI.m().debug("[StatsJS] stopping session ["+t.id+"]"),t.Ri.Ho.reset())},t.prototype.Ci=function(t,e){var i=e?a.Fo.IDLE:a.Fo.Bo;this.MI.m().notice("[HiveComm] client state: "+a.Fo[i]),t.Ri&&t.Ri.Ci(i)},t.prototype.fd=function(t,e){var i=this,n=0;return this.kR<e.gr&&(n=e.gr-this.kR,this.kR=e.gr),t.Ni().then(function(){t.Ri.Do.CR(n,e.dr),t.Ri.Qn.vn(e.lr,e.dr,e.gr),i.OR()}).done(),r.resolve(!0)},t.prototype.yd=function(t,e,i){return t.Ni().then(function(){t.Ri.Qn.mn(t.ticket.sessionId,e,i)}).done(),r.resolve(!0)},t.prototype.wn=function(t,e){return t.Ni().then(function(){t.Ri.Qn.Tn([e])}).done(),r.resolve(!0)},t.prototype.onError=function(t){var e=!0;if(void 0!=this.options().onError)try{e=this.options().onError(t)}catch(i){h.ErrorMonitor.Wi()._h("[StatsJS] exception in user-defined onError callback: "+i)}return e},t.prototype.onActiveSession=function(t){var e=this;this.PR(),t.Ni().then(function(i){e.AR=i;var r=new c.NR(e.MI.isLive(),e.MI.$(),t.ticket.tp());e.AR.xR=r,e.AR.Do.xR=r,e.MI.hn(e.AR),e.AR.Ho.init(e.AR.Do,null),e.AR.Qn.wi(t.ticket.sessionId,e.MI.it(),200);var n=e.MI.rd();if(n&&n.length>0&&e.AR.Qn.Tn(n),void 0!=e.options_.onActiveSession)try{e.options_.onActiveSession(t.g())}catch(o){h.ErrorMonitor.Wi()._h("[StatsJS] exception in user-defined onActiveSession callback: "+o)}}).done()},t.prototype.Zl=function(){},t.prototype.zl=function(){},t.prototype.ql=function(t){this.MI=t},t.prototype.options=function(){return this.options_},t.prototype.PR=function(){this.kR=0},t.prototype.vR=function(t,e,i,r){var o=new n.Bi(t,e,i,r);return o.yR=!1,o.id=e.sessionId,o},t.prototype.OR=function(){try{var t=this.MI.at();void 0!=t&&(this.AR.Do.BR.metrics.bitrateUpN+=t.Ji(),this.AR.Do.BR.metrics.bitrateDwnN+=t.Ki(),null!=t.Vi()&&(this.AR.Do.BR.metrics.srcThroughput=t.Vi()),null!=t.Qi()&&this.FR(!0,t.Qi()),null!=t.qi()&&this.FR(!1,t.qi()))}catch(e){h.ErrorMonitor.Wi()._h(e)}},t.prototype.FR=function(t,e){var i=this,r=0,n=0,o=0,s=0;e.forEach(function(e,a){var c=e.success+e._i;if(r+=c,s+=e.Di,n+=e.success,o+=e._i,t){var h=i.AR.Do._R(Number(a));i.DR(h,c,e.success,e._i,e.Di)}});var a=this.AR.Do.HR();this.DR(a,r,n,o,s)},t.prototype.DR=function(t,e,i,r,n){t.srcReqN+=e,t.srcRespN+=i,t.srcRespErrN+=r,t.srcRespQt+=n,t.respFallbackN+=i,t.respFallbackErrN+=r},t}();p.Jl="StatsJS",e.StatsJS=p},function(t,e){"use strict";var i;!function(t){var e;!function(t){t[t.HiveJS=0]="HiveJS",t[t.HiveJava=1]="HiveJava",t[t.StatsJS=2]="StatsJS",t[t.HiveJsProxy=3]="HiveJsProxy"}(e=t.Il||(t.Il={}))}(i=e.pt||(e.pt={}))},function(t,e,i){"use strict";var r=i(15),n=i(2),o=i(24),s=i(14),a=i(5),c=i(9),h=i(56),p=i(55),u=i(60),l=i(52),d=i(51);if("undefined"==typeof f)var f=!1;if(f)var g=i(53).LR;else var v=i(57).MR;var y=function(){function t(){}return t.prototype.apply=function(t){t.bind(new r.ns(a.gi.ui,s.rs,r.ss.ls)),t.bind(new r.ns(a.gi.Be,p.jR,r.ss.ls)),t.bind(new r.ns(a.gi.ai,u.UR,r.ss.ls)),t.bind(new r.ns(a.gi.Ce,l.VR,r.ss.ls)),t.bind(new r.ns(n.Framework.Fe.we,o.El.bl,r.ss.ls)),f?t.bind(new r.ns(a.gi.ci,g,r.ss.ls)):t.bind(new r.ns(a.gi.ci,v,r.ss.ls)),t.bind(new r.ns(a.gi.hi,d.QR,r.ss.ls)),t.bind(new r.ns(a.gi.li,h.Stats.zf,r.ss.Ts)),t.bind(new r.ns(a.gi.si,h.Stats.eo,r.ss.Ts)),t.bind(new r.ns(a.gi.di,c.F.Un,r.ss.Ts)),t.bind(new r.ns(a.gi.fi,c.F.eo,r.ss.Ts))},t}();e.Sd=y},function(t,e){"use strict";var i=function(){function t(){}return t.prototype.qR=function(t){this.hostname=t},t.prototype.Fn=function(){return this.hostname},t.prototype.JR=function(t){this.KR=t},t.prototype.Nn=function(){return this.KR},t}();e.QR=i},function(t,e,i){"use strict";var r=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},n=i(1),o=i(22),s=i(2),a=i(13),c=i(39),h=function(){function t(){this.GR="IdentityStore",this.zR="IdentityDB",this.sn=null,this.indexedDB=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,s.Framework&&s.Framework.resolve(s.Framework.Fe.we)?this.m=s.Framework.resolve(s.Framework.Fe.we).log():this.m=console}return t.prototype.WR=function(){var t=this,e=n.defer(),i=indexedDB.open(this.zR);return i.onupgradeneeded=function(){var e=i.result;e.createObjectStore(t.GR,{keyPath:"id"})},i.onsuccess=function(){var t=i.result;e.resolve(t)},i.onerror=function(t){e.reject(t)},e.vt},t.prototype.Ko=function(){var t=this;if(this.$R)return this.$R;var e=n.defer();if(this.sn)e.resolve(new c.FI(this.sn));else if(a.Kn.Ro&&this.indexedDB){var i=setTimeout(function(){t.m.warn("[HiveComm] timeout retrieving persistent ID - generating random one"),
  t.sn=t.YR(),t.m.debug("[HiveComm] Generated UUID: "+t.sn),e.resolve(new c.FI(t.sn))},4e3);try{var r=this.WR();r.then(function(r){var n=r.transaction(t.GR,"readwrite"),o=n.objectStore(t.GR),s=o.get("MYID");s.onsuccess=function(){if(clearTimeout(i),t.sn)e.resolve(new c.FI(t.sn));else if(null!=s.result&&a.Kn.Ro){var n=s.result.value;t.m.debug("[HiveComm] Retrieved persistent UUID: "+n),t.sn=n,r.close(),e.resolve(new c.FI(t.sn))}else{var o=t.YR();t.XR(r,o),e.resolve(new c.FI(t.sn))}},s.onerror=function(r){clearTimeout(i),t.sn||(t.m.warn("[HiveComm] error retrieving persistent UUID: "+r),t.sn=t.YR(),t.m.debug("[HiveComm] Generated UUID: "+t.sn)),e.resolve(new c.FI(t.sn))}}).fail(function(r){clearTimeout(i),t.sn||(t.m.warn("[HiveComm] error opening indexedDB - generating random id. Error: "+r),t.sn=t.YR(),t.m.debug("[HiveComm] Generated UUID: "+t.sn)),e.resolve(new c.FI(t.sn))})}catch(o){this.sn=this.YR(),this.m.debug("[HiveComm] Persistence error - Generate UUID: "+this.sn,o),e.resolve(new c.FI(this.sn))}}else this.sn=this.YR(),this.m.debug("[HiveComm] Persistence disabled - Generate UUID: "+this.sn),e.resolve(new c.FI(this.sn));return this.$R=e.vt,this.$R},t.prototype.XR=function(t,e){var i=this,r=t.transaction(this.GR,"readwrite"),n=r.objectStore(this.GR);n.put({id:"MYID",value:e}),r.oncomplete=function(){i.m.debug("[HiveComm] completed UUID persistence"),t.close()},this.m.debug("[HiveComm] Generated UUID: "+e),this.sn=e},t.prototype.YR=function(){return o.Zh()},t}();e.ZR=h;var p=function(t){function e(){return t.call(this)||this}return r(e,t),e.prototype.Ko=function(){var e=this;if(this.tk)return this.tk;var i=n.defer();return t.prototype.Ko.call(this).then(function(t){var r=e.YR(),n=t.$o(),o=new c.FI(r,n);i.resolve(o)}).fail(function(t){var r=e.YR(),n=new c.FI(r);i.resolve(n)}),this.tk=i.vt,this.tk},e}(h);e.VR=p},function(t,e,i){"use strict";var r=i(1),n=i(2),o=function(){function t(){this.u="[PreloadConnectivityInfoProvider] ",this.connInfo=window.ek,this.m=n.Framework.resolve(n.Framework.Fe.we).log(),this.connInfo||this.m.error(this.u+" helper undefined")}return t.prototype.Pn=function(){var t=this;if(!this.connInfo)return r.reject("ConnInfo helper undefined");var e=setTimeout(function(){return t.m.warn(t.u+"Get connectivity info expired"),t.ik?r.resolve(t.ik):r.reject("expired")},2e3);try{return this.connInfo.Pn().then(function(i){return clearTimeout(e),t.ik=i,i}).fail(function(e){return t.m.debug(t.u+" get connectivity info failed with error 1: ",e),t.ik?t.ik:r.reject(e)})}catch(i){return this.m.debug(this.u+" get connectivity info failed with error 2:",i),r.reject(i)}},t.prototype.rk=function(t,e,i){},t}();e.LR=o},function(t,e,i){"use strict";var r=i(63),n=i(1),o=i(2),s=function(){function t(){this.indexedDB=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,this.m=o.Framework.resolve(o.Framework.Fe.we).log()}return t.prototype.WR=function(){var t=n.defer(),e=this.indexedDB.open("PrivateIPDB");return e.onupgradeneeded=function(){var t=e.result;t.createObjectStore("PrivateIPStore",{keyPath:"id"})},e.onsuccess=function(){var i=e.result;t.resolve(i)},e.onerror=function(e){t.reject(e)},t.vt},t.prototype.nk=function(){var t=this;if(this.sk)return this.sk;var e=setTimeout(function(){t.m.warn("Private list retrieval timeout"),i.reject("Private list timeout")},4e3),i=n.defer(),o=this.WR();return o.then(function(n){var o=n.transaction("PrivateIPStore","readwrite"),s=o.objectStore("PrivateIPStore"),a=s.get("iplist");a.onsuccess=function(){clearTimeout(e);var t=[];r.ak(a.result)||r.ak(a.result.value)||(t=a.result.value.split("|")),i.resolve(t),n.close()},a.onerror=function(r){clearTimeout(e),t.m.warn("I got an error on indexed db "+r.message),i.reject("Error on indexedDB "+r.message)}}).fail(function(r){clearTimeout(e),t.m.warn("DB is not open with error"+r.message),i.reject("DB is not open with error "+r.message)}),this.sk=i.vt,this.sk},t.prototype.ck=function(t){var e=this,i=t.join("|"),r=this.WR();r.then(function(r){var n=r.transaction("PrivateIPStore","readwrite"),o=n.objectStore("PrivateIPStore");o.put({id:"iplist",value:i}),n.oncomplete=function(){e.m.debug("Storing site matched ips ["+t.join(",")+"]"),r.close()}}).fail(function(t){e.m.warn("DB is not open with error "+t.message)})},t}();e.hk=s},function(t,e,i){"use strict";var r=i(1),n=i(21),o=i(36),s=i(2),a=i(13),c=i(10),h=function(){function t(){this.m=s.Framework.resolve(s.Framework.Fe.we).log(),this.m.debug("INIT SERVICE CLIENT")}return t.prototype.init=function(t,e){var i=this;if(this.pk)this.pk.then(function(){var t={partnerId:e.bn(),customerId:e.En(),contentId:e.es(),secret:e.Wh()},r=new c.Zn(Services.kf,1,JSON.stringify(t));i.connection.send(r)});else{var s=r.defer(),h=a.Kn.Jn.ko;e.zh&&(this.m.warn("[HiveComm] Error trying to resolve test ticket against production services - use production ticket or test plugin"),s.reject(new Error("test ticket in production")));var p=new n(h),u=p.Eu({"connection-id":t,partner_id:e.bn(),customer_id:e.En(),content_id:e.es(),ticket:e.Wh()}).toString();this.connection=new o.AI(u,a.Kn.Jn.Ao,a.Kn.Jn.No,a.Kn.Jn.xo),this.connection.TI(function(){i.m.debug("HIVE SERVICES CONNECTED"),s.resolve(i.connection)}),this.connection.onerror(function(){i.m.warn("Hive Services Connection failed"),s.reject(i.connection)}),this.pk=s.vt}return{Yo:this.connection,vt:this.pk}},t.prototype.connect=function(){this.connection&&this.connection.connect(!0)},t.prototype.sd=function(t){},t.prototype.Xn=function(){return this.connection},t.prototype.close=function(){this.connection&&this.connection.close()},t}();e.jR=h},function(t,e,i){"use strict";var r=i(4),n=r.ve,o=i(16);i(31),i(30);var s,a=i(2),c=i(5),h=i(13),p=i(10),u=i(14),l=i(23);!function(t){var e="[SNAP]",i=function(){function t(){this.metrics=new hive.snapshots.Metrics,this.uk=new hive.snapshots.Traffic,this.lk=new n,this.dk=new n,this.fk=new n,this.player=new hive.snapshots.Player}return t}();t.gk=i;var r=function(){function i(){this.ticket=null,this.vk=0,this.yk=0,this.mk()}return i.prototype.init=function(t,i,r,n){this.m=a.Framework.resolve(a.Framework.Fe.we).log(n),this.tn=a.Framework.resolve(c.gi.ci),this.m.debug(e+" INIT STATS STORE - ID: "+t),this.sn=t,this.ticket=i,this.an(r)},i.prototype.wk=function(t){this.Tk=t},i.prototype.an=function(t){this.app=t},i.prototype.mk=function(){this.Sk=new t.gk,this.sn=null,this.ticket=null,this.reset()},i.prototype.reset=function(){this.BR=new t.gk,this.bk(this.BR.uk),this.Ek(this.BR)},i.prototype.bk=function(t){t.respFallbackN=0,t.respFallbackErrN=0,t.srcReqN=0,t.srcRespErrN=0,t.srcRespQt=0,t.srcOtherRespN=0,t.srcRespN=0,t.srcOverQt=0,t.p2pDirectQt=0,t.p2pNatQt=0,t.p2pUdpbQt=0,t.p2pRelayQt=0,t.p2pOutSiteLowPrio=0,t.respP2pN=0,t.p2pSubReqN=0,t.p2pSubRespErrN=0,t.p2pSubRespQt=0,t.p2pSubRespPartN=0},i.prototype.Ek=function(t){t.metrics.videoBufN=0,t.metrics.videoBufQt=0,t.metrics.clientBufferMs=0,t.player.bufferingN=0,t.player.bufferingMs=0},i.prototype.Ik=function(){var t=this,i=new hive.snapshots.MetricSnapshot;i.timestamp=a.Framework.time(),i.guid=this.sn,i.sessionId=this.ticket.sessionId,i.eventId=new EventId,i.eventId.partnerId=this.ticket.bn(),i.eventId.customerId=this.ticket.En(),i.eventId.contentId=this.ticket.es();try{var r=new hive.snapshots.ClientInfo;r.clientType=this.Rk();var n=this.app.version.split(".");r.majorVersion=parseInt(n[0]),r.minorVersion=parseInt(n[1]),r.patchVersion=parseInt(n[2]),i.client=r}catch(o){this.m.warn(e+" error setting Snapshot ClientInfo",o)}i.streamInfo=this.xR.kk(),i.traffic=[];var s=new hive.snapshots.TrafficKey;if(i.traffic.push({key:s,value:this.BR.uk}),this.BR.lk.forEach(function(t,e){var r=new hive.snapshots.TrafficKey;r.bitrate=e,i.traffic.push({key:r,value:t})}),i.metrics=this.BR.metrics,this.Tk&&(i.metrics.clientBufferMs=this.Tk.min()),i.player=this.BR.player,this.Ck){var c=this.Ck.getPartnerSnapshots();c.forEach(function(e,r){t.Ok(r,e,i)}),this.BR.fk.filter(function(t,e){return!c.has(e)}).forEach(function(e,r){t.Ok(r,e,i)})}return i.connInfo=new hive.snapshots.ConnectivityInfo,this.tn.Pn().then(function(e){return i.connInfo.privateIp=e.Nn().Bn(),t.Pk(i)}).fail(function(e){return t.Pk(i)})},i.prototype.Pk=function(t){return t.connInfo.internalAs=this.vk,t.connInfo.externalAs=this.yk,t.connInfo.publicIp=this.Ak,t},i.prototype.Rk=function(){var t;switch(this.app.app){case"JS":t=ClientType.Ff;break;case"PROXY":t=ClientType._f;break;default:t=ClientType.Bf}return t},i.prototype.Ok=function(t,e,i){var r=this.BR.dk.get(t);e.traffic=r,i.partners||(i.partners=[]);var n=new hive.snapshots.PartnerKey;n.partnerGuid=t,i.partners.push({key:n,value:e})},i.prototype.CR=function(t,e){t>0&&(this.BR.metrics.videoBufN++,this.BR.metrics.videoBufQt+=t,this.BR.player.bufferingN++,this.BR.player.bufferingMs+=t),this.BR.player.playerBufferMs=e},i.prototype.HR=function(){return this.BR.uk},i.prototype.Nk=function(){return this.Sk.uk},i.prototype.xk=function(t){return this.Sk.lk.has(t)||this.Sk.lk.set(t,new hive.snapshots.Traffic),this.Sk.lk.get(t)},i.prototype._R=function(t){if(!this.BR.lk.has(t)){var e=new hive.snapshots.Traffic;this.bk(e),this.BR.lk.set(t,e)}return this.BR.lk.get(t)},i.prototype.Bk=function(t,e){return e.dk.has(t)||e.dk.set(t,new hive.snapshots.PartnerTraffic),e.dk.get(t)},i.prototype.Fk=function(t){return this.Bk(t,this.BR)},i.prototype._k=function(t){return this.Bk(t,this.Sk)},i.prototype.Dk=function(t){this.tn=t},i.prototype.Hk=function(t){this.Ck=t},i.prototype.jn=function(t){},i}();t.zf=r;var s=function(){function t(){this.Lk=isNaN(l.HiveConfig.DebugLogs.MetricSnapshotLogs)?0:l.HiveConfig.DebugLogs.MetricSnapshotLogs,this.state=u.Fo.Bo,this.client=a.Framework.resolve(c.gi.Be),this.Xa=new o.Ea,this.protocol=new o.$a(this.Xa)}return t.prototype.init=function(t,i){this.m=a.Framework.resolve(a.Framework.Fe.we).log(i),this.m.debug(e+" INIT CLIENT STATS"),this.Vf=t,this.Mk()},t.prototype.Mk=function(){var t=this;this.jk>-1&&a.Framework.clearInterval(this.jk),this.jk=a.Framework.setInterval(function(){t.Uk()},h.Kn.Jn.Po)},t.prototype.Ci=function(t){this.state=t},t.prototype.reset=function(){a.Framework.clearInterval(this.jk),this.Vf&&this.Vf.mk()},t.prototype.Uk=function(){var t=this;this.m.debug("[SNAP] TAKING SNAPSHOT");var e=this.Vf.Ik();e.then(function(e){return t.forward(e)}).fail(function(e){t.m.warn("[SNAP] ERROR FORWARDING SNAPSHOT",e)})["finally"](function(){t.Vf.reset()})},t.prototype.forward=function(t){var i=this;if(this.state===u.Fo.IDLE)return void this.m.debug(e+" not send - state idle");if(this.client&&this.client.Xn()){switch(this.Lk){case 0:default:this.m.debug(e+" SENDING SNAPSHOT");break;case 1:this.m.debug(e+" SENDING SNAPSHOT "+JSON.stringify(t));break;case 2:this.m.debug(e+" SENDING SNAPSHOT",t);break;case 3:this.m.debug(e+" SENDING SNAPSHOT "+JSON.stringify(t),t)}this.protocol.pc("SNAPSHOT",o.Ls.Vs,0),t.write(this.protocol),this.protocol.dc();var r=this.Xa.Ha(),n=this.Vk(r,",",4),s=r.slice(n+1,r.length-1),a=new p.Zn(Services.to,1,s);this.client.Xn().send(a).fail(function(t){i.m.warn(e+" PROBLEM: ",t)})}},t.prototype.Vk=function(t,e,i){return t.split(e,i).join(e).length},t}();t.eo=s}(s=e.Stats||(e.Stats={}))},function(t,e,i){"use strict";var r=i(1),n=i(4),o=i(2),s=i(5),a=i(58),c=i(54),h=i(65),p=function(){function t(){this.Qk=null,this.qk=null,this.Jk=null,this.Kk=null,this.Gk=new n.ve,this.publicIp=null,this.zk=[],this._i=!1,this.Wk=null,this.m=o.Framework.resolve(o.Framework.Fe.we).log(),this.ik=o.Framework.resolve(s.gi.hi),this.$k=new c.hk,this.Yk=[],this.Xk()}return t.prototype.Xk=function(){var t=this;o.Framework.setInterval(function(){t.zk=[],t.Yk=[],t.Gk=new n.ve,t.publicIp=null,t.Zk=null},12e4)},t.prototype.Pn=function(){return this.Zk||(this.Zk=this.tC()),this.Zk},t.prototype.tC=function(){var t=this,e=r.defer();if(this.Wk=o.Framework.setTimeout(function(){e.reject({eC:!0,message:"expired"})},4e3),this.iC())try{this.Qk=new RTCPeerConnection(null),this.Jk=this.Qk.createDataChannel("sendChannel",{reliable:!1}),this.qk=new RTCPeerConnection(null),this.qk.ondatachannel=function(i){t.Kk=i.channel,t.Kk.onopen=function(i){"open"===t.Kk.readyState&&(t.m.debug("Collected ips ["+t.Gk.keys().join(", ")+"]"),t.qk.close(),t.$k.nk().then(function(e){t.Yk=e,t.m.debug("Already known matching ips ["+t.Yk.join(",")+"]");var i=t.Gk.keys();t.Yk.forEach(function(e){i.indexOf(e)>0&&(t.zk.push(e),t.Gk["delete"](e))}),t.Gk.keys().forEach(function(e){t.zk.push(e)})}).fail(function(e){t.m.warn("Get Previous working ips failed with error "+e.message),t.Gk.keys().forEach(function(e){t.zk.push(e)})})["finally"](function(){t.m.debug("Final private ip list ["+t.zk.join(",")+"]"),e.resolve(t.rC())}))}},this.Qk.onicecandidate=function(i){i.candidate&&t.zb(i.candidate.candidate),!i.candidate||t.qk.addIceCandidate(i.candidate)["catch"](function(i){e.reject({eC:!0,message:i.message}),o.Framework.clearTimeout(t.Wk),console.log("Error: Failure during addIceCandidate()")})},this.qk.onicecandidate=function(i){i.candidate&&t.zb(i.candidate.candidate),!i.candidate||t.Qk.addIceCandidate(i.candidate)["catch"](function(i){e.reject({eC:!0,message:i.message}),o.Framework.clearTimeout(t.Wk),console.log("Error: Failure during addIceCandidate()")})},this.Qk.createOffer().then(function(e){return t.Qk.setLocalDescription(e)}).then(function(){return t.qk.setRemoteDescription(t.Qk.localDescription)}).then(function(){return t.qk.createAnswer()}).then(function(e){return t.qk.setLocalDescription(e)}).then(function(){return t.Qk.setRemoteDescription(t.qk.localDescription)})["catch"](function(i){e.reject({eC:!0,message:i.message}),o.Framework.clearTimeout(t.Wk),console.log("Error: Failure creating offer")})}catch(i){e.reject({eC:!0,message:i.message})}else o.Framework.clearTimeout(this.Wk),e.reject({eC:!1,message:"webrtc datachannel not supported"});return e.vt},t.prototype.iC=function(){try{return null!=h.Xe&&null!=h.nC&&"function"==typeof new RTCPeerConnection(null,null).createDataChannel}catch(t){return!1}},t.prototype.zb=function(t){var e=/([0-9]{1,3}(\.[0-9]{1,3}){3})/,i=e.exec(t);if(i){var r=i[0];this.Gk.set(r,!0)}},t.prototype.rC=function(){var t=new a.oC;return this.zk.length>0&&t.sC(this.zk[0]),this.publicIp&&t.aC(this.publicIp),this.ik.JR(t),this.ik},t.prototype.rk=function(t,e,i){if(this.publicIp=t,this.cC(),0===i&&this.zk.length>1)this.zk.shift();else if(0!==i&&this.Yk.indexOf(this.zk[0])==-1)this.Yk.unshift(this.zk[0]),this.$k.ck(this.Yk.slice(0,2));else if(0!==i&&this.Yk.indexOf(this.zk[0])>0){var r=this.Yk.indexOf(this.zk[0]);this.Yk=this.Yk.splice(r,1),this.Yk.unshift(this.zk[0]),this.$k.ck(this.Yk.slice(0,2))}this.rC()},t.prototype.cC=function(){var t=this.zk.indexOf(this.publicIp);t>-1&&this.zk.splice(t,1)},t}();e.MR=p},function(t,e){"use strict";var i=function(){function t(){}return t.prototype.aC=function(t){this.publicIp=t},t.prototype.xn=function(){return this.publicIp},t.prototype.hC=function(t){this.pC=t},t.prototype.Ln=function(){return this.pC},t.prototype.uC=function(t){this.nic=t},t.prototype.Dn=function(){return this.nic},t.prototype.lC=function(t){this.nicName=t},t.prototype.Hn=function(){return this.nicName},t.prototype.sC=function(t){this.privateIp=t},t.prototype.Bn=function(){return this.privateIp},t.prototype.dC=function(t){this.netmask=t},t.prototype.fC=function(){return this.netmask},t.prototype.gC=function(t){this.vC=t},t.prototype._n=function(){return null},t}();e.oC=i},function(t,e){"use strict";var i=function(){function t(t,e,i){this.isLive=t,this.protocol=e,this.yC=i}return t.prototype.kk=function(){var t=new hive.snapshots.StreamInfo;return t.streamType=this.isLive?StreamType.LIVE:StreamType.Pf,t.streamProtocol=this.protocol,t.url=this.yC,t},t}();e.NR=i},function(t,e,i){"use strict";i(29);var r=i(1),n=i(4),o=n.ve,s=i(2),a=i(20),c=function(){function t(t){this.io=(new Date).getTime(),this.mC=t}return t}(),h=function(){function t(){this.wC=new o,this.m=(s.Framework.resolve(s.Framework.Fe.we)||console).log(),this.m.debug("INIT TICKET RESOLVER")}return t.prototype.resolve=function(t,e,i){var n=this,o=r.defer();return t&&(t.on(Services.kf,0,function(t){n.TC(t)}),t.on(Services.kf,2,function(t){n.TC(t)}),this.wC.set(e,new c(o))),o.vt},t.prototype.TC=function(t){var e=this,i=(new Date).getTime(),r=JSON.parse(t.msg),n=!1;this.wC.forEach(function(t,o){if(e.SC(o,r)){n=!0;var s=e.$l(o,r);s?(s.io=t.io,s.ro=i,t.mC.resolve(s)):t.mC.reject("Ticket verification failed"),e.wC["delete"](s)}}),n||this.m.warn("no pending ticket matching: "+t.msg)},t.prototype.Go=function(t){var e=new RegExp("^https?://api(?:-test)?.hivestreaming.com/v1/events/(?:wildcard/)?");if(e.test(t)){var i=this.bC();return i.Kh(t),i}return null},t.prototype.bC=function(){return new a.ap},t.prototype.SC=function(t,e){return t.bn()===e[a.ap.op]&&t.En()===e[a.ap.np]&&t.es()===e[a.ap.sp]},t.prototype.$l=function(t,e){return t.Uh(e),t.Qh()?t:null},t}();e.UR=h},function(t,e){"function"==typeof Object.create?t.t=function(t,e){t.EC=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,Ag:!1,Pg:!0,Ng:!0}})}:t.t=function(t,e){t.EC=e;var i=function(){};i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t}},function(t,e){t.t=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e,i){function r(t,i){var r={IC:[],RC:o};return arguments.length>=3&&(r.kC=arguments[2]),arguments.length>=4&&(r.CC=arguments[3]),f(i)?r.OC=i:i&&e.PC(r,i),T(r.OC)&&(r.OC=!1),T(r.kC)&&(r.kC=2),T(r.CC)&&(r.CC=!1),T(r.AC)&&(r.AC=!0),r.CC&&(r.RC=n),a(r,t,r.kC)}function n(t,e){var i=r.NC[e];return i?"["+r.CC[i][0]+"m"+t+"["+r.CC[i][1]+"m":t}function o(t,e){return t}function s(t){var e={};return t.forEach(function(t,i){e[t]=!0}),e}function a(t,i,r){if(t.AC&&i&&R(i.gt)&&i.gt!==e.gt&&(!i.constructor||i.constructor.prototype!==i)){var n=i.gt(r,t);return m(n)||(n=a(t,n,r)),n}var o=c(t,i);if(o)return o;var f=Object.keys(i),g=s(f);if(t.OC&&(f=Object.getOwnPropertyNames(i)),I(i)&&(f.indexOf("message")>=0||f.indexOf("description")>=0))return h(i);if(0===f.length){if(R(i)){var v=i.name?": "+i.name:"";return t.RC("[Function"+v+"]","special")}if(S(i))return t.RC(RegExp.prototype.toString.call(i),"regexp");if(E(i))return t.RC(Date.prototype.toString.call(i),"date");if(I(i))return h(i)}var y="",w=!1,T=["{","}"];if(d(i)&&(w=!0,T=["[","]"]),R(i)){var b=i.name?": "+i.name:"";y=" [Function"+b+"]"}if(S(i)&&(y=" "+RegExp.prototype.toString.call(i)),E(i)&&(y=" "+Date.prototype.toUTCString.call(i)),I(i)&&(y=" "+h(i)),0===f.length&&(!w||0==i.length))return T[0]+y+T[1];if(r<0)return S(i)?t.RC(RegExp.prototype.toString.call(i),"regexp"):t.RC("[Object]","special");t.IC.push(i);var k;return k=w?p(t,i,r,g,f):f.map(function(e){return u(t,i,r,g,e,w)}),t.IC.pop(),l(k,y,T)}function c(t,e){if(T(e))return t.RC("undefined","undefined");if(m(e)){var i="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.RC(i,"string")}return y(e)?t.RC(""+e,"number"):f(e)?t.RC(""+e,"boolean"):g(e)?t.RC("null","null"):void 0}function h(t){return"["+Error.prototype.toString.call(t)+"]"}function p(t,e,i,r,n){for(var o=[],s=0,a=e.length;s<a;++s)A(e,String(s))?o.push(u(t,e,i,r,String(s),!0)):o.push("");return n.forEach(function(n){n.match(/^\d+$/)||o.push(u(t,e,i,r,n,!0))}),o}function u(t,e,i,r,n,o){var s,c,h;if(h=Object.getOwnPropertyDescriptor(e,n)||{value:e[n]},h.get?c=h.set?t.RC("[Getter/Setter]","special"):t.RC("[Getter]","special"):h.set&&(c=t.RC("[Setter]","special")),A(r,n)||(s="["+n+"]"),c||(t.IC.indexOf(h.value)<0?(c=g(i)?a(t,h.value,null):a(t,h.value,i-1),c.indexOf("\n")>-1&&(c=o?c.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+c.split("\n").map(function(t){return"   "+t}).join("\n"))):c=t.RC("[Circular]","special")),T(s)){if(o&&n.match(/^\d+$/))return c;s=JSON.stringify(""+n),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.RC(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.RC(s,"string"))}return s+": "+c}function l(t,e,i){var r=0,n=t.reduce(function(t,e){return r++,e.indexOf("\n")>=0&&r++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0);return n>60?i[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+i[1]:i[0]+e+" "+t.join(", ")+" "+i[1]}function d(t){return Array.isArray(t)}function f(t){return"boolean"==typeof t}function g(t){return null===t}function v(t){return null==t}function y(t){return"number"==typeof t}function m(t){return"string"==typeof t}function w(t){return"symbol"==typeof t}function T(t){return void 0===t}function S(t){return b(t)&&"[object RegExp]"===C(t)}function b(t){return"object"==typeof t&&null!==t}function E(t){return b(t)&&"[object Date]"===C(t)}function I(t){return b(t)&&("[object Error]"===C(t)||t instanceof Error)}function R(t){return"function"==typeof t}function k(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||"undefined"==typeof t}function C(t){return Object.prototype.toString.call(t)}function O(t){return t<10?"0"+t.toString(10):t.toString(10)}function P(){var t=new Date,e=[O(t.getHours()),O(t.getMinutes()),O(t.getSeconds())].join(":");return[t.getDate(),F[t.getMonth()],e].join(" ")}function A(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var N=/%[sdj%]/g;e.format=function(t){if(!m(t)){for(var e=[],i=0;i<arguments.length;i++)e.push(r(arguments[i]));return e.join(" ")}for(var i=1,n=arguments,o=n.length,s=String(t).replace(N,function(t){if("%%"===t)return"%";if(i>=o)return t;switch(t){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch(e){return"[Circular]"}default:return t}}),a=n[i];i<o;a=n[++i])s+=g(a)||!b(a)?" "+a:" "+r(a);return s},e.xC=function(t,i){function r(){if(!n){if(process.throwDeprecation)throw new Error(i);process.traceDeprecation?console.trace(i):console.error(i),n=!0}return t.apply(this,arguments)}if(T(global.process))return function(){return e.xC(t,i).apply(this,arguments)};if(process.noDeprecation===!0)return t;var n=!1;return r};var x,B={};e.BC=function(t){if(T(x)&&(x=process.Ot.NODE_DEBUG||""),t=t.toUpperCase(),!B[t])if(new RegExp("\\b"+t+"\\b","i").test(x)){var i=process.pid;B[t]=function(){var r=e.format.apply(e,arguments);console.error("%s %d: %s",t,i,r)}}else B[t]=function(){};return B[t]},e.gt=r,r.CC={bold:[1,22],FC:[3,23],_C:[4,24],inverse:[7,27],DC:[37,39],HC:[90,39],LC:[30,39],blue:[34,39],MC:[36,39],green:[32,39],jC:[35,39],red:[31,39],UC:[33,39]},r.NC={VC:"cyan",number:"yellow",QC:"yellow",undefined:"grey",qC:"bold",JC:"green",xT:"magenta",KC:"red"},e.isArray=d,e.Om=f,e.Am=g,e.ak=v,e.Nm=y,e.xm=m,e.GC=w,e.Bm=T,e.zC=S,e.ov=b,e.WC=E,e.$C=I,e.Pm=R,e.YC=k,e.isBuffer=i(62);var F=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];e.log=function(){console.log("%s - %s",P(),e.format.apply(e,arguments))},e.qs=i(61),e.PC=function(t,e){if(!e||!b(e))return t;for(var i=Object.keys(e),r=i.length;r--;)t[i[r]]=e[i[r]];return t}},function(t,e){(function(e){t.t=e}).call(e,{})},function(t,e,i){"use strict";!function(){var e=i(3),r=e.log,n=e.ri;t.t.ri=n,t.t.Xe=e.Xe,t.t.Ye=e.Ye;var o=i(66)||null,s=i(68)||null,a=i(70)||null,c=i(72)||null;switch(n.ti){case"chrome":if(!o||!o.XC)return void r("Chrome shim is not included in this adapter release.");r("adapter.js shimming chrome."),t.t.nC=o,o.ZC(),o.tO(),e.ei(),o.eO(),o.XC(),o.iO(),o.rO();break;case"firefox":if(!a||!a.XC)return void r("Firefox shim is not included in this adapter release.");r("adapter.js shimming firefox."),t.t.nC=a,a.ZC(),e.ei(),a.eO(),a.XC(),a.iO();break;case"edge":if(!s||!s.XC)return void r("MS edge shim is not included in this adapter release.");r("adapter.js shimming edge."),t.t.nC=s,s.ZC(),e.ei(),s.XC();break;case"safari":if(!c)return void r("Safari shim is not included in this adapter release.");r("adapter.js shimming safari."),t.t.nC=c,c.ZC();break;default:r("Unsupported browser!")}}()},function(t,e,i){"use strict";var r=i(3).log,n=i(3).ri,o={tO:function(){window.MediaStream=window.MediaStream||window.webkitMediaStream},iO:function(){"object"!=typeof window||!window.RTCPeerConnection||"ontrack"in window.RTCPeerConnection.prototype||Object.defineProperty(window.RTCPeerConnection.prototype,"ontrack",{get:function(){return this.nO},set:function(t){var e=this;this.nO&&(this.removeEventListener("track",this.nO),this.removeEventListener("addstream",this.oO)),this.addEventListener("track",this.nO=t),this.addEventListener("addstream",this.oO=function(t){t.stream.addEventListener("addtrack",function(i){var r=new Event("track");r.track=i.track,r.receiver={track:i.track},r.sO=[t.stream],e.dispatchEvent(r)}),t.stream.getTracks().forEach(function(e){var i=new Event("track");i.track=e,i.receiver={track:e},i.sO=[t.stream],this.dispatchEvent(i)}.bind(this))}.bind(this))}})},rO:function(){if("object"==typeof window&&window.RTCPeerConnection&&!("getSenders"in RTCPeerConnection.prototype)&&"createDTMFSender"in RTCPeerConnection.prototype){RTCPeerConnection.prototype.getSenders=function(){return this.aO};var t=RTCPeerConnection.prototype.addStream,e=RTCPeerConnection.prototype.removeStream;RTCPeerConnection.prototype.addStream=function(e){var i=this;i.aO=i.aO||[],t.apply(i,[e]),e.getTracks().forEach(function(t){i.aO.push({track:t,get cO(){return void 0===this.hO&&("audio"===t.kind?this.hO=i.createDTMFSender(t):this.hO=null),this.hO}})})},RTCPeerConnection.prototype.removeStream=function(t){var i=this;i.aO=i.aO||[],e.apply(i,[t]),t.getTracks().forEach(function(t){var e=i.aO.find(function(e){return e.track===t});e&&i.aO.splice(i.aO.indexOf(e),1)})}}},eO:function(){"object"==typeof window&&(!window.HTMLMediaElement||"srcObject"in window.HTMLMediaElement.prototype||Object.defineProperty(window.HTMLMediaElement.prototype,"srcObject",{get:function(){return this.pO},set:function(t){var e=this;return this.pO=t,this.src&&URL.revokeObjectURL(this.src),t?(this.src=URL.createObjectURL(t),t.addEventListener("addtrack",function(){e.src&&URL.revokeObjectURL(e.src),e.src=URL.createObjectURL(t)}),void t.addEventListener("removetrack",function(){e.src&&URL.revokeObjectURL(e.src),e.src=URL.createObjectURL(t)})):void(this.src="")}}))},XC:function(){window.RTCPeerConnection||(window.RTCPeerConnection=function(t,e){return r("PeerConnection"),t&&t.uO&&(t.lO=t.uO),new webkitRTCPeerConnection(t,e)},window.RTCPeerConnection.prototype=webkitRTCPeerConnection.prototype,webkitRTCPeerConnection.generateCertificate&&Object.defineProperty(window.RTCPeerConnection,"generateCertificate",{get:function(){return webkitRTCPeerConnection.generateCertificate}}));var t=RTCPeerConnection.prototype.getStats;RTCPeerConnection.prototype.getStats=function(e,i,r){var n=this,o=arguments;if(arguments.length>0&&"function"==typeof e)return t.apply(this,arguments);if(0===t.length&&(0===arguments.length||"function"!=typeof arguments[0]))return t.apply(this,[]);var s=function(t){var e={},i=t.result();return i.forEach(function(t){var i={id:t.id,timestamp:t.timestamp,type:{dO:"local-candidate",fO:"remote-candidate"}[t.type]||t.type};t.names().forEach(function(e){i[e]=t.stat(e)}),e[i.id]=i}),e},a=function(t){return new Map(Object.keys(t).map(function(e){return[e,t[e]]}))};if(arguments.length>=2){var c=function(t){o[1](a(s(t)))};return t.apply(this,[c,arguments[0]])}return new Promise(function(e,i){t.apply(n,[function(t){e(a(s(t)))},i])}).then(i,r)},n.version<51&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){var e=RTCPeerConnection.prototype[t];RTCPeerConnection.prototype[t]=function(){var t=arguments,i=this,r=new Promise(function(r,n){e.apply(i,[t[0],r,n])});return t.length<2?r:r.then(function(){t[1].apply(null,[])},function(e){t.length>=3&&t[2].apply(null,[e])})}}),n.version<52&&["createOffer","createAnswer"].forEach(function(t){var e=RTCPeerConnection.prototype[t];RTCPeerConnection.prototype[t]=function(){var t=this;if(arguments.length<1||1===arguments.length&&"object"==typeof arguments[0]){var i=1===arguments.length?arguments[0]:void 0;return new Promise(function(r,n){e.apply(t,[r,n,i])})}return e.apply(this,arguments)}}),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){var e=RTCPeerConnection.prototype[t];RTCPeerConnection.prototype[t]=function(){return arguments[0]=new("addIceCandidate"===t?RTCIceCandidate:RTCSessionDescription)(arguments[0]),e.apply(this,arguments)}});var e=RTCPeerConnection.prototype.addIceCandidate;RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?e.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())}}};t.t={tO:o.tO,iO:o.iO,rO:o.rO,eO:o.eO,XC:o.XC,ZC:i(67)}},function(t,e,i){"use strict";var r=i(3).log,n=i(3).ri;t.t=function(){var t=function(t){if("object"!=typeof t||t.gO||t.optional)return t;var e={};return Object.keys(t).forEach(function(i){if("require"!==i&&"advanced"!==i&&"mediaSource"!==i){var r="object"==typeof t[i]?t[i]:{vO:t[i]};void 0!==r.yO&&"number"==typeof r.yO&&(r.min=r.max=r.yO);var n=function(t,e){return t?t+e.charAt(0).toUpperCase()+e.slice(1):"deviceId"===e?"sourceId":e};if(void 0!==r.vO){e.optional=e.optional||[];var o={};"number"==typeof r.vO?(o[n("min",i)]=r.vO,e.optional.push(o),o={},o[n("max",i)]=r.vO,e.optional.push(o)):(o[n("",i)]=r.vO,e.optional.push(o))}void 0!==r.yO&&"number"!=typeof r.yO?(e.gO=e.gO||{},e.gO[n("",i)]=r.yO):["min","max"].forEach(function(t){void 0!==r[t]&&(e.gO=e.gO||{},e.gO[n(t,i)]=r[t])})}}),t.mO&&(e.optional=(e.optional||[]).concat(t.mO)),e},e=function(e,i){if(e=JSON.parse(JSON.stringify(e)),e&&e.Mp&&(e.Mp=t(e.Mp)),e&&"object"==typeof e.video){var o=e.video.wO;o=o&&("object"==typeof o?o:{vO:o});var s=n.version<59;if(o&&("user"===o.yO||"environment"===o.yO||"user"===o.vO||"environment"===o.vO)&&(!navigator.mediaDevices.TO||!navigator.mediaDevices.TO().wO||s)&&(delete e.video.wO,"environment"===o.yO||"environment"===o.vO))return navigator.mediaDevices.SO().then(function(n){n=n.filter(function(t){return"videoinput"===t.kind});var s=n.find(function(t){return t.label.toLowerCase().indexOf("back")!==-1})||n.length&&n[n.length-1];return s&&(e.video.bO=o.yO?{yO:s.bO}:{vO:s.bO}),e.video=t(e.video),r("chrome: "+JSON.stringify(e)),i(e)});e.video=t(e.video)}return r("chrome: "+JSON.stringify(e)),i(e)},i=function(t){return{name:{EO:"NotAllowedError",IO:"OverconstrainedError"}[t.name]||t.name,message:t.message,RO:t.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}},o=function(t,r,n){e(t,function(t){navigator.webkitGetUserMedia(t,r,function(t){n(i(t))})})};navigator.getUserMedia=o;var s=function(t){return new Promise(function(e,i){navigator.getUserMedia(t,e,i)})};if(navigator.mediaDevices||(navigator.mediaDevices={getUserMedia:s,SO:function(){return new Promise(function(t){var e={Mp:"audioinput",video:"videoinput"};return MediaStreamTrack.getSources(function(i){t(i.map(function(t){return{label:t.label,kind:e[t.kind],bO:t.id,kO:""}}))})})},TO:function(){return{bO:!0,CO:!0,wO:!0,OO:!0,height:!0,width:!0}}}),navigator.mediaDevices.getUserMedia){var a=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);navigator.mediaDevices.getUserMedia=function(t){return e(t,function(t){return a(t).then(function(e){if(t.Mp&&!e.getAudioTracks().length||t.video&&!e.getVideoTracks().length)throw e.getTracks().forEach(function(t){t.stop()}),new DOMException("","NotFoundError");return e},function(t){return Promise.reject(i(t))})})}}else navigator.mediaDevices.getUserMedia=function(t){return s(t)};"undefined"==typeof navigator.mediaDevices.addEventListener&&(navigator.mediaDevices.addEventListener=function(){r("Dummy mediaDevices.addEventListener called.")}),"undefined"==typeof navigator.mediaDevices.removeEventListener&&(navigator.mediaDevices.removeEventListener=function(){r("Dummy mediaDevices.removeEventListener called.")})}},function(t,e,i){"use strict";function r(t){var e=t.filter(function(t){return"audio"===t.kind}),i=t.filter(function(t){return"video"===t.kind});for(t=[];e.length||i.length;)e.length&&t.push(e.shift()),
i.length&&t.push(i.shift());return t}function n(t){var e=!1;return t=JSON.parse(JSON.stringify(t)),t.filter(function(t){if(t&&(t.PO||t.url)){var i=t.PO||t.url,r="string"==typeof i;return r&&(i=[i]),i=i.filter(function(t){var i=0===t.indexOf("turn:")&&t.indexOf("transport=udp")!==-1&&t.indexOf("turn:[")===-1&&!e;return i?(e=!0,!0):0===t.indexOf("stun:")&&s.version>=14393}),delete t.url,t.PO=r?i[0]:i,!!i.length}return!1})}var o=i(35),s=i(3).ri,a={XC:function(){if(window.RTCIceGatherer&&(window.RTCIceCandidate||(window.RTCIceCandidate=function(t){return t}),window.RTCSessionDescription||(window.RTCSessionDescription=function(t){return t}),s.version<15025)){var t=Object.getOwnPropertyDescriptor(MediaStreamTrack.prototype,"enabled");Object.defineProperty(MediaStreamTrack.prototype,"enabled",{set:function(e){t.set.call(this,e);var i=new Event("enabled");i.enabled=e,this.dispatchEvent(i)}})}window.RTCPeerConnection=function(t){var e=this,i=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach(function(t){e[t]=i[t].bind(i)}),this.onicecandidate=null,this.onaddstream=null,this.AO=null,this.onremovestream=null,this.onsignalingstatechange=null,this.oniceconnectionstatechange=null,this.NO=null,this.onnegotiationneeded=null,this.ondatachannel=null,this.xO=[],this.BO=[],this.getLocalStreams=function(){return e.xO},this.getRemoteStreams=function(){return e.BO},this.localDescription=new RTCSessionDescription({type:"",sdp:""}),this.remoteDescription=new RTCSessionDescription({type:"",sdp:""}),this.signalingState="stable",this.iceConnectionState="new",this.iceGatheringState="new",this.FO={_O:"all",iceServers:[]},t&&t.uO)switch(t.uO){case"all":case"relay":this.FO._O=t.uO}this.DO=t&&"max-bundle"===t.bundlePolicy,t&&t.iceServers&&(this.FO.iceServers=n(t.iceServers)),this.HO=t,this.LO=[],this.MO=[]},window.RTCPeerConnection.prototype.jO=function(){var t=new Event("icegatheringstatechange");this.dispatchEvent(t),null!==this.NO&&this.NO(t)},window.RTCPeerConnection.prototype.UO=function(){var t=this,e=o.Kb(t.localDescription.sdp);this.MO.forEach(function(i){var r=!i.candidate||0===Object.keys(i.candidate).length;if(r)for(var n=1;n<e.length;n++)e[n].indexOf("\r\na=end-of-candidates\r\n")===-1&&(e[n]+="a=end-of-candidates\r\n");else e[i.candidate.sdpMLineIndex+1]+="a="+i.candidate.candidate+"\r\n";if(t.localDescription.sdp=e.join(""),t.dispatchEvent(i),null!==t.onicecandidate&&t.onicecandidate(i),!i.candidate&&"complete"!==t.iceGatheringState){var o=t.LO.every(function(t){return t.YE&&"completed"===t.YE.state});o&&"complete"!==t.iceGatheringStateChange&&(t.iceGatheringState="complete",t.jO())}}),this.MO=[]},window.RTCPeerConnection.prototype.getConfiguration=function(){return this.HO},window.RTCPeerConnection.prototype.addStream=function(t){if(s.version>=15025)this.xO.push(t);else{var e=t.clone();t.getTracks().forEach(function(t,i){var r=e.getTracks()[i];t.addEventListener("enabled",function(t){r.enabled=t.enabled})}),this.xO.push(e)}this.VO()},window.RTCPeerConnection.prototype.removeStream=function(t){var e=this.xO.indexOf(t);e>-1&&(this.xO.splice(e,1),this.VO())},window.RTCPeerConnection.prototype.getSenders=function(){return this.LO.filter(function(t){return!!t.tI}).map(function(t){return t.tI})},window.RTCPeerConnection.prototype.getReceivers=function(){return this.LO.filter(function(t){return!!t.eI}).map(function(t){return t.eI})},window.RTCPeerConnection.prototype.QO=function(t,e){var i={NE:[],xE:[],BE:[]},r=function(t,e){t=parseInt(t,10);for(var i=0;i<e.length;i++)if(e[i].oE===t||e[i].hE===t)return e[i]},n=function(t,e,i,n){var o=r(t.parameters.apt,i),s=r(e.parameters.apt,n);return o&&s&&o.name.toLowerCase()===s.name.toLowerCase()};return t.NE.forEach(function(r){for(var o=0;o<e.NE.length;o++){var s=e.NE[o];if(r.name.toLowerCase()===s.name.toLowerCase()&&r.sE===s.sE){if("rtx"===r.name.toLowerCase()&&r.parameters&&s.parameters.apt&&!n(r,s,t.NE,e.NE))continue;s=JSON.parse(JSON.stringify(s)),s.aE=Math.min(r.aE,s.aE),i.NE.push(s),s.yE=s.yE.filter(function(t){for(var e=0;e<r.yE.length;e++)if(r.yE[e].type===t.type&&r.yE[e].gE===t.gE)return!0;return!1});break}}}),t.xE.forEach(function(t){for(var r=0;r<e.xE.length;r++){var n=e.xE[r];if(t.uri===n.uri){i.xE.push(n);break}}}),i},window.RTCPeerConnection.prototype.qO=function(t,e){var i=this,r=new RTCIceGatherer(i.FO),n=new RTCIceTransport(r);r.JO=function(s){var a=new Event("icecandidate");a.candidate={sdpMid:t,sdpMLineIndex:e};var c=s.candidate,h=!c||0===Object.keys(c).length;h?void 0===r.state&&(r.state="completed"):(c.$b="RTCP"===n.$b?2:1,a.candidate.candidate=o.iE(c));var p=o.Kb(i.localDescription.sdp);h?p[a.candidate.sdpMLineIndex+1]+="a=end-of-candidates\r\n":p[a.candidate.sdpMLineIndex+1]+="a="+a.candidate.candidate+"\r\n",i.localDescription.sdp=p.join("");var u=i.KO?i.KO:i.LO,l=u.every(function(t){return t.YE&&"completed"===t.YE.state});switch(i.iceGatheringState){case"new":h||i.MO.push(a),h&&l&&i.MO.push(new Event("icecandidate"));break;case"gathering":i.UO(),h||(i.dispatchEvent(a),null!==i.onicecandidate&&i.onicecandidate(a)),l&&(i.dispatchEvent(new Event("icecandidate")),null!==i.onicecandidate&&i.onicecandidate(new Event("icecandidate")),i.iceGatheringState="complete",i.jO());break;case"complete":}},n.GO=function(){i.zO()};var s=new RTCDtlsTransport(n);return s.WO=function(){i.zO()},s.onerror=function(){s.state="failed",i.zO()},{YE:r,$O:n,XE:s}},window.RTCPeerConnection.prototype.YO=function(t,e,i){var r=this.QO(t.XO,t.ZO);e&&t.tI&&(r.tP=t.iI,r.FE={qE:o.qb},t.eP.length&&(r.FE.wE=t.eP[0].wE),t.tI.send(r)),i&&t.eI&&("video"===t.kind&&t.eP&&s.version<15019&&t.eP.forEach(function(t){delete t.ME}),r.tP=t.eP,r.FE={qE:t.qE},t.iI.length&&(r.FE.wE=t.iI[0].wE),t.eI.receive(r))},window.RTCPeerConnection.prototype.setLocalDescription=function(t){var e,i,r=this;if("offer"===t.type)this.KO&&(e=o.Kb(t.sdp),i=e.shift(),e.forEach(function(t,e){var i=o.AE(t);r.KO[e].XO=i}),this.LO=this.KO,delete this.KO);else if("answer"===t.type){e=o.Kb(r.remoteDescription.sdp),i=e.shift();var n=o.Gb(i,"a=ice-lite").length>0;e.forEach(function(t,e){var s=r.LO[e],a=s.YE,c=s.$O,h=s.XE,p=s.XO,u=s.ZO,l="0"===t.split("\n",1)[0].split(" ",2)[1];if(!l&&!s.iP){var d=o.CE(t,i),f=o.EE(t,i);n&&(f.IE="server"),r.DO&&0!==e||(c.start(a,d,n?"controlling":"controlled"),h.start(f));var g=r.QO(p,u);r.YO(s,g.NE.length>0,!1)}})}switch(this.localDescription={type:t.type,sdp:t.sdp},t.type){case"offer":this.rP("have-local-offer");break;case"answer":this.rP("stable");break;default:throw new TypeError('unsupported type "'+t.type+'"')}var s=arguments.length>1&&"function"==typeof arguments[1];if(s){var a=arguments[1];window.setTimeout(function(){a(),"new"===r.iceGatheringState&&(r.iceGatheringState="gathering",r.jO()),r.UO()},0)}var c=Promise.resolve();return c.then(function(){s||("new"===r.iceGatheringState&&(r.iceGatheringState="gathering",r.jO()),window.setTimeout(r.UO.bind(r),500))}),c},window.RTCPeerConnection.prototype.setRemoteDescription=function(t){var e=this,i=new MediaStream,r=[],n=o.Kb(t.sdp),a=n.shift(),c=o.Gb(a,"a=ice-lite").length>0;switch(this.DO=o.Gb(a,"a=group:BUNDLE ").length>0,n.forEach(function(n,h){var p=o.Jb(n),u=p[0].substr(2).split(" "),l=u[0],d="0"===u[1],f=o.rI(n,a),g=o.Gb(n,"a=mid:");if(g=g.length?g[0].substr(6):o.Qb(),"application"===l&&"DTLS/SCTP"===u[2])return void(e.LO[h]={ZE:g,iP:!0});var v,y,m,w,T,S,b,E,I,R,k,C,O=o.AE(n);d||(k=o.CE(n,a),C=o.EE(n,a),C.IE="client"),E=o.HE(n);var P,A=o.Gb(n,"a=ssrc:").map(function(t){return o.mE(t)}).filter(function(t){return"cname"===t.TE})[0];A&&(P=A.value);var N=o.Gb(n,"a=end-of-candidates",a).length>0,x=o.Gb(n,"a=candidate:").map(function(t){return o.zb(t)}).filter(function(t){return"1"===t.$b});if("offer"!==t.type||d)"answer"!==t.type||d||(v=e.LO[h],y=v.YE,m=v.$O,w=v.XE,T=v.tI,S=v.eI,b=v.iI,I=v.XO,e.LO[h].eP=E,e.LO[h].ZO=O,e.LO[h].qE=P,(c||N)&&x.length&&m.setRemoteCandidates(x),e.DO&&0!==h||(m.start(y,k,"controlling"),w.start(C)),e.YO(v,"sendrecv"===f||"recvonly"===f,"sendrecv"===f||"sendonly"===f),!S||"sendrecv"!==f&&"sendonly"!==f?delete v.eI:(R=S.track,r.push([R,S]),i.addTrack(R)));else{var B=e.DO&&h>0?{YE:e.LO[0].YE,$O:e.LO[0].$O,XE:e.LO[0].XE}:e.qO(g,h);if(!N||e.DO&&0!==h||B.$O.setRemoteCandidates(x),I=RTCRtpReceiver.getCapabilities(l),s.version<15019&&(I.NE=I.NE.filter(function(t){return"rtx"!==t.name})),b=[{wE:1001*(2*h+2)}],"sendrecv"!==f&&"sendonly"!==f||(S=new RTCRtpReceiver(B.XE,l),R=S.track,r.push([R,S]),i.addTrack(R)),e.xO.length>0&&e.xO[0].getTracks().length>=h){var F;"audio"===l?F=e.xO[0].getAudioTracks()[0]:"video"===l&&(F=e.xO[0].getVideoTracks()[0]),F&&(s.version>=15019&&"video"===l&&(b[0].ME={wE:1001*(2*h+2)+1}),T=new RTCRtpSender(F,B.XE))}e.LO[h]={YE:B.YE,$O:B.$O,XE:B.XE,XO:I,ZO:O,tI:T,eI:S,kind:l,ZE:g,qE:P,iI:b,eP:E},e.YO(e.LO[h],!1,"sendrecv"===f||"sendonly"===f)}}),this.remoteDescription={type:t.type,sdp:t.sdp},t.type){case"offer":this.rP("have-remote-offer");break;case"answer":this.rP("stable");break;default:throw new TypeError('unsupported type "'+t.type+'"')}return i.getTracks().length&&(e.BO.push(i),window.setTimeout(function(){var t=new Event("addstream");t.stream=i,e.dispatchEvent(t),null!==e.onaddstream&&window.setTimeout(function(){e.onaddstream(t)},0),r.forEach(function(t){var r=t[0],n=t[1],o=new Event("track");o.track=r,o.receiver=n,o.sO=[i],e.dispatchEvent(o),null!==e.AO&&window.setTimeout(function(){e.AO(o)},0)})},0)),arguments.length>1&&"function"==typeof arguments[1]&&window.setTimeout(arguments[1],0),Promise.resolve()},window.RTCPeerConnection.prototype.close=function(){this.LO.forEach(function(t){t.$O&&t.$O.stop(),t.XE&&t.XE.stop(),t.tI&&t.tI.stop(),t.eI&&t.eI.stop()}),this.rP("closed")},window.RTCPeerConnection.prototype.rP=function(t){this.signalingState=t;var e=new Event("signalingstatechange");this.dispatchEvent(e),null!==this.onsignalingstatechange&&this.onsignalingstatechange(e)},window.RTCPeerConnection.prototype.VO=function(){var t=new Event("negotiationneeded");this.dispatchEvent(t),null!==this.onnegotiationneeded&&this.onnegotiationneeded(t)},window.RTCPeerConnection.prototype.zO=function(){var t,e=this,i={nP:0,closed:0,oP:0,sP:0,connected:0,aP:0,_i:0};if(this.LO.forEach(function(t){i[t.$O.state]++,i[t.XE.state]++}),i.connected+=i.aP,t="new",i._i>0?t="failed":i.oP>0||i.sP>0?t="connecting":i.disconnected>0?t="disconnected":i["nP"]>0?t="new":(i.connected>0||i.aP>0)&&(t="connected"),t!==e.iceConnectionState){e.iceConnectionState=t;var r=new Event("iceconnectionstatechange");this.dispatchEvent(r),null!==this.oniceconnectionstatechange&&this.oniceconnectionstatechange(r)}},window.RTCPeerConnection.prototype.createOffer=function(){var t=this;if(this.KO)throw new Error("createOffer called while there is a pending offer.");var e;1===arguments.length&&"function"!=typeof arguments[0]?e=arguments[0]:3===arguments.length&&(e=arguments[2]);var i=[],n=0,a=0;if(this.xO.length&&(n=this.xO[0].getAudioTracks().length,a=this.xO[0].getVideoTracks().length),e){if(e.gO||e.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");void 0!==e.cP&&(n=e.cP),void 0!==e.hP&&(a=e.hP)}for(this.xO.length&&this.xO[0].getTracks().forEach(function(t){i.push({kind:t.kind,track:t,pP:"audio"===t.kind?n>0:a>0}),"audio"===t.kind?n--:"video"===t.kind&&a--});n>0||a>0;)n>0&&(i.push({kind:"audio",pP:!0}),n--),a>0&&(i.push({kind:"video",pP:!0}),a--);i=r(i);var c=o.WE(),h=[];i.forEach(function(e,i){var r=e.track,n=e.kind,a=o.Qb(),c=t.DO&&i>0?{YE:h[0].YE,$O:h[0].$O,XE:h[0].XE}:t.qO(a,i),p=RTCRtpSender.getCapabilities(n);s.version<15019&&(p.NE=p.NE.filter(function(t){return"rtx"!==t.name})),p.NE.forEach(function(t){"H264"===t.name&&void 0===t.parameters["uP"]&&(t.parameters["uP"]="1")});var u,l,d=[{wE:1001*(2*i+1)}];r&&(s.version>=15019&&"video"===n&&(d[0].ME={wE:1001*(2*i+1)+1}),u=new RTCRtpSender(r,c.XE)),e.pP&&(l=new RTCRtpReceiver(c.XE,n)),h[i]={YE:c.YE,$O:c.$O,XE:c.XE,XO:p,ZO:null,tI:u,eI:l,kind:n,ZE:a,iI:d,eP:null}}),this.DO&&(c+="a=group:BUNDLE "+h.map(function(t){return t.ZE}).join(" ")+"\r\n"),i.forEach(function(e,i){var r=h[i];c+=o.$E(r,r.XO,"offer",t.xO[0])}),this.KO=h;var p=new RTCSessionDescription({type:"offer",sdp:c});return arguments.length&&"function"==typeof arguments[0]&&window.setTimeout(arguments[0],0,p),Promise.resolve(p)},window.RTCPeerConnection.prototype.createAnswer=function(){var t=this,e=o.WE();this.DO&&(e+="a=group:BUNDLE "+this.LO.map(function(t){return t.ZE}).join(" ")+"\r\n"),this.LO.forEach(function(i){if(i.iP)return void(e+="m=application 0 DTLS/SCTP 5000\r\nc=IN IP4 0.0.0.0\r\na=mid:"+i.ZE+"\r\n");var r=t.QO(i.XO,i.ZO);e+=o.$E(i,r,"answer",t.xO[0])});var i=new RTCSessionDescription({type:"answer",sdp:e});return arguments.length&&"function"==typeof arguments[0]&&window.setTimeout(arguments[0],0,i),Promise.resolve(i)},window.RTCPeerConnection.prototype.addIceCandidate=function(t){if(t){var e=t.sdpMLineIndex;if(t.sdpMid)for(var i=0;i<this.LO.length;i++)if(this.LO[i].ZE===t.sdpMid){e=i;break}var r=this.LO[e];if(r){var n=Object.keys(t.candidate).length>0?o.zb(t.candidate):{};if("tcp"===n.protocol&&(0===n.port||9===n.port))return Promise.resolve();if("1"!==n.$b)return Promise.resolve();r.$O.addRemoteCandidate(n);var s=o.Kb(this.remoteDescription.sdp);s[e+1]+=(n.type?t.candidate.trim():"a=end-of-candidates")+"\r\n",this.remoteDescription.sdp=s.join("")}}else for(var a=0;a<this.LO.length;a++)if(this.LO[a].$O.addRemoteCandidate({}),this.DO)return Promise.resolve();return arguments.length>1&&"function"==typeof arguments[1]&&window.setTimeout(arguments[1],0),Promise.resolve()},window.RTCPeerConnection.prototype.getStats=function(){var t=[];this.LO.forEach(function(e){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach(function(i){e[i]&&t.push(e[i].getStats())})});var e=arguments.length>1&&"function"==typeof arguments[1]&&arguments[1],i=function(t){return{lP:"inbound-rtp",dP:"outbound-rtp",fP:"candidate-pair",dO:"local-candidate",fO:"remote-candidate"}[t.type]||t.type};return new Promise(function(r){var n=new Map;Promise.all(t).then(function(t){t.forEach(function(t){Object.keys(t).forEach(function(e){t[e].type=i(t[e]),n.set(e,t[e])})}),e&&window.setTimeout(e,0,n),r(n)})})}}};t.t={XC:a.XC,ZC:i(69)}},function(t,e){"use strict";t.t=function(){var t=function(t){return{name:{EO:"NotAllowedError"}[t.name]||t.name,message:t.message,RO:t.RO,toString:function(){return this.name}}},e=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);navigator.mediaDevices.getUserMedia=function(i){return e(i)["catch"](function(e){return Promise.reject(t(e))})}}},function(t,e,i){"use strict";var r=i(3).ri,n={iO:function(){"object"!=typeof window||!window.RTCPeerConnection||"ontrack"in window.RTCPeerConnection.prototype||Object.defineProperty(window.RTCPeerConnection.prototype,"ontrack",{get:function(){return this.nO},set:function(t){this.nO&&(this.removeEventListener("track",this.nO),this.removeEventListener("addstream",this.oO)),this.addEventListener("track",this.nO=t),this.addEventListener("addstream",this.oO=function(t){t.stream.getTracks().forEach(function(e){var i=new Event("track");i.track=e,i.receiver={track:e},i.sO=[t.stream],this.dispatchEvent(i)}.bind(this))}.bind(this))}})},eO:function(){"object"==typeof window&&(!window.HTMLMediaElement||"srcObject"in window.HTMLMediaElement.prototype||Object.defineProperty(window.HTMLMediaElement.prototype,"srcObject",{get:function(){return this.mozSrcObject},set:function(t){this.mozSrcObject=t}}))},XC:function(){if("object"==typeof window&&(window.RTCPeerConnection||window.mozRTCPeerConnection)){window.RTCPeerConnection||(window.RTCPeerConnection=function(t,e){if(r.version<38&&t&&t.iceServers){for(var i=[],n=0;n<t.iceServers.length;n++){var o=t.iceServers[n];if(o.hasOwnProperty("urls"))for(var s=0;s<o.PO.length;s++){var a={url:o.PO[s]};0===o.PO[s].indexOf("turn")&&(a.username=o.username,a.gP=o.gP),i.push(a)}else i.push(t.iceServers[n])}t.iceServers=i}return new mozRTCPeerConnection(t,e)},window.RTCPeerConnection.prototype=mozRTCPeerConnection.prototype,mozRTCPeerConnection.generateCertificate&&Object.defineProperty(window.RTCPeerConnection,"generateCertificate",{get:function(){return mozRTCPeerConnection.generateCertificate}}),window.RTCSessionDescription=mozRTCSessionDescription,window.RTCIceCandidate=mozRTCIceCandidate),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){var e=RTCPeerConnection.prototype[t];RTCPeerConnection.prototype[t]=function(){return arguments[0]=new("addIceCandidate"===t?RTCIceCandidate:RTCSessionDescription)(arguments[0]),e.apply(this,arguments)}});var t=RTCPeerConnection.prototype.addIceCandidate;RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?t.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())};var e=function(t){var e=new Map;return Object.keys(t).forEach(function(i){e.set(i,t[i]),e[i]=t[i]}),e},i={lP:"inbound-rtp",dP:"outbound-rtp",fP:"candidate-pair",dO:"local-candidate",fO:"remote-candidate"},n=RTCPeerConnection.prototype.getStats;RTCPeerConnection.prototype.getStats=function(t,o,s){return n.apply(this,[t||null]).then(function(t){if(r.version<48&&(t=e(t)),r.version<53&&!o)try{t.forEach(function(t){t.type=i[t.type]||t.type})}catch(n){if("TypeError"!==n.name)throw n;t.forEach(function(e,r){t.set(r,Object.assign({},e,{type:i[e.type]||e.type}))})}return t}).then(o,s)}}}};t.t={iO:n.iO,eO:n.eO,XC:n.XC,ZC:i(71)}},function(t,e,i){"use strict";var r=i(3).log,n=i(3).ri;t.t=function(){var t=function(t){return{name:{vP:"NotAllowedError",EO:"NotAllowedError"}[t.name]||t.name,message:{"The operation is insecure.":"The request is not allowed by the user agent or the platform in the current context."}[t.message]||t.message,RO:t.RO,toString:function(){return this.name+(this.message&&": ")+this.message}}},e=function(e,i,o){var s=function(t){if("object"!=typeof t||t.yP)return t;var e=[];return Object.keys(t).forEach(function(i){if("require"!==i&&"advanced"!==i&&"mediaSource"!==i){var r=t[i]="object"==typeof t[i]?t[i]:{vO:t[i]};if(void 0===r.min&&void 0===r.max&&void 0===r.yO||e.push(i),void 0!==r.yO&&("number"==typeof r.yO?r.min=r.max=r.yO:t[i]=r.yO,delete r.yO),void 0!==r.vO){t.mO=t.mO||[];var n={};"number"==typeof r.vO?n[i]={min:r.vO,max:r.vO}:n[i]=r.vO,t.mO.push(n),delete r.vO,Object.keys(r).length||delete t[i]}}}),e.length&&(t.yP=e),t};return e=JSON.parse(JSON.stringify(e)),n.version<38&&(r("spec: "+JSON.stringify(e)),e.Mp&&(e.Mp=s(e.Mp)),e.video&&(e.video=s(e.video)),r("ff37: "+JSON.stringify(e))),navigator.mozGetUserMedia(e,i,function(e){o(t(e))})},i=function(t){return new Promise(function(i,r){e(t,i,r)})};if(navigator.mediaDevices||(navigator.mediaDevices={getUserMedia:i,addEventListener:function(){},removeEventListener:function(){}}),navigator.mediaDevices.SO=navigator.mediaDevices.SO||function(){return new Promise(function(t){var e=[{kind:"audioinput",bO:"default",label:"",kO:""},{kind:"videoinput",bO:"default",label:"",kO:""}];t(e)})},n.version<41){var o=navigator.mediaDevices.SO.bind(navigator.mediaDevices);navigator.mediaDevices.SO=function(){return o().then(void 0,function(t){if("NotFoundError"===t.name)return[];throw t})}}if(n.version<49){var s=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);navigator.mediaDevices.getUserMedia=function(e){return s(e).then(function(t){if(e.Mp&&!t.getAudioTracks().length||e.video&&!t.getVideoTracks().length)throw t.getTracks().forEach(function(t){t.stop()}),new DOMException("The object can not be found here.","NotFoundError");return t},function(e){return Promise.reject(t(e))})}}navigator.getUserMedia=function(t,i,r){return n.version<44?e(t,i,r):(console.warn("navigator.getUserMedia has been replaced by navigator.mediaDevices.getUserMedia"),void navigator.mediaDevices.getUserMedia(t).then(i,r))}}},function(t,e){"use strict";var i={ZC:function(){navigator.getUserMedia||(navigator.webkitGetUserMedia?navigator.getUserMedia=navigator.webkitGetUserMedia.bind(navigator):navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&(navigator.getUserMedia=function(t,e,i){navigator.mediaDevices.getUserMedia(t).then(e,i)}.bind(navigator)))}};t.t={ZC:i.ZC}}]);

//# sourceMappingURL=bitmovin.hive.min.js.map


/***/ })
/******/ ]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgZDQ0MGE3MGM4NjI4NjQ0MTQ4M2QiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9jb250YWluZXIudHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9jb21wb25lbnQudHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvZG9tLnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL3V0aWxzLnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2V2ZW50ZGlzcGF0Y2hlci50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL2J1dHRvbi50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL2xhYmVsLnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL3RpbWVvdXQudHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy90b2dnbGVidXR0b24udHMiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiYW5ndWxhclwiIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvcGxheWJhY2t0b2dnbGVidXR0b24udHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9zZWVrYmFyLnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvdWljb250YWluZXIudHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9wbGF5YmFja3RpbWVsYWJlbC50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL2NvbnRyb2xiYXIudHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9zcGFjZXIudHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9zZWVrYmFybGFiZWwudHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy92b2x1bWVjb250cm9sYnV0dG9uLnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvdm9sdW1lc2xpZGVyLnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvdm9sdW1ldG9nZ2xlYnV0dG9uLnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvZXJyb3JtZXNzYWdlb3ZlcmxheS50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3BsYXliYWNrdG9nZ2xlb3ZlcmxheS50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL2h1Z2VwbGF5YmFja3RvZ2dsZWJ1dHRvbi50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3NlbGVjdGJveC50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL2NsaWNrb3ZlcmxheS50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL21ldGFkYXRhbGFiZWwudHMiLCJ3ZWJwYWNrOi8vLy4vaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vYml0ZGFzaC1jb250cm9sbGVyLnRzIiwid2VicGFjazovLy8uL2JpdGRhc2gtZGlyZWN0aXZlLnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL21haW4udHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvdWltYW5hZ2VyLnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2d1aWQudHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9mdWxsc2NyZWVudG9nZ2xlYnV0dG9uLnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvdHZub2lzZWNhbnZhcy50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL2F1ZGlvb25seW92ZXJsYXkudHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9saXN0c2VsZWN0b3IudHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy92aWRlb3F1YWxpdHlzZWxlY3Rib3gudHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy93YXRlcm1hcmsudHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy90aXRsZWJhci50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL2h1Z2VyZXBsYXlidXR0b24udHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9idWZmZXJpbmdvdmVybGF5LnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvY2xvc2VidXR0b24udHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi9oaXZlL2JpdG1vdmluLmhpdmUubWluLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsbUNBQTJCLDBCQUEwQixFQUFFO0FBQ3ZELHlDQUFpQyxlQUFlO0FBQ2hEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDhEQUFzRCwrREFBK0Q7O0FBRXJIO0FBQ0E7O0FBRUE7QUFDQTs7Ozs7Ozs7QUM3REE7QUFD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QUFtQyxjQUFjO0FBQ2pELHlDQUF5QyxxQkFBcUI7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxrQ0FBa0M7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRCx1QkFBdUI7QUFDNUU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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QXdHLGtCQUFrQixjQUFjLDBDQUEwQyx3QkFBd0IsSUFBSSxJQUFJLGtHQUFrRyx3Q0FBd0MscURBQXFELGdEQUFnRCwrQ0FBK0Msc0JBQXNCLHlCQUF5QixFQUFFLFNBQVMsZ0NBQWdDLHdCQUF3Qix3QkFBd0IsSUFBSSx1QkFBdUIsR0FBRyxFQUFFLFNBQVMsZ0JBQWdCLEtBQUssa0NBQWtDLGlCQUFpQixhQUFhLHlCQUF5QixlQUFlLGtCQUFrQixPQUFPLE1BQU0sMENBQTBDLDBCQUEwQixvSEFBb0gsbURBQW1ELHFEQUFxRCxtQkFBbUIsa0JBQWtCLHFDQUFxQyxTQUFTLDBDQUEwQyxxREFBcUQsdUNBQXVDLFNBQVMseUpBQXlKLGNBQWMsU0FBUyw0QkFBNEIsa0JBQWtCLHlFQUF5RSx3QkFBd0IsZ05BQWdOLFFBQVEsRUFBRSxlQUFlLGlDQUFpQyxTQUFTLEdBQUcsb0RBQW9ELDRDQUE0QyxrQ0FBa0Msa0VBQWtFLCtCQUErQixRQUFRLDhDQUE4QyxFQUFFLDhDQUE4QyxFQUFFLEtBQUssRUFBRSxlQUFlLDZEQUE2RCxxQ0FBcUMsbUNBQW1DLHFDQUFxQyxRQUFRLEdBQUcsaUJBQWlCLHVFQUF1RSxnREFBZ0QsNkJBQTZCLGlIQUFpSCxTQUFTLHdFQUF3RSxTQUFTLGFBQWEsNEJBQTRCLEdBQUcsdUNBQXVDLHVMQUF1TCxlQUFlLGFBQWEsT0FBTyxjQUFjLCtOQUErTixpREFBaUQscUJBQXFCLEtBQUssU0FBUzs7QUFFMXVuQiIsImZpbGUiOiJtaS1hbmd1bGFyLWJpdGRhc2gtcGxheWVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7XG4gXHRcdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcbiBcdFx0XHRcdGdldDogZ2V0dGVyXG4gXHRcdFx0fSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMjYpO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2svYm9vdHN0cmFwIGQ0NDBhNzBjODYyODY0NDE0ODNkIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBjb21wb25lbnRfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudFwiKTtcclxudmFyIGRvbV8xID0gcmVxdWlyZShcIi4uL2RvbVwiKTtcclxudmFyIHV0aWxzXzEgPSByZXF1aXJlKFwiLi4vdXRpbHNcIik7XHJcbi8qKlxyXG4gKiBBIGNvbnRhaW5lciBjb21wb25lbnQgdGhhdCBjYW4gY29udGFpbiBhIGNvbGxlY3Rpb24gb2YgY2hpbGQgY29tcG9uZW50cy5cclxuICogQ29tcG9uZW50cyBjYW4gYmUgYWRkZWQgYXQgY29uc3RydWN0aW9uIHRpbWUgdGhyb3VnaCB0aGUge0BsaW5rIENvbnRhaW5lckNvbmZpZyNjb21wb25lbnRzfSBzZXR0aW5nLCBvciBsYXRlclxyXG4gKiB0aHJvdWdoIHRoZSB7QGxpbmsgQ29udGFpbmVyI2FkZENvbXBvbmVudH0gbWV0aG9kLiBUaGUgVUlNYW5hZ2VyIGF1dG9tYXRpY2FsbHkgdGFrZXMgY2FyZSBvZiBhbGwgY29tcG9uZW50cywgaS5lLiBpdFxyXG4gKiBpbml0aWFsaXplcyBhbmQgY29uZmlndXJlcyB0aGVtIGF1dG9tYXRpY2FsbHkuXHJcbiAqXHJcbiAqIEluIHRoZSBET00sIHRoZSBjb250YWluZXIgY29uc2lzdHMgb2YgYW4gb3V0ZXIgPGRpdj4gKHRoYXQgY2FuIGJlIGNvbmZpZ3VyZWQgYnkgdGhlIGNvbmZpZykgYW5kIGFuIGlubmVyIHdyYXBwZXJcclxuICogPGRpdj4gdGhhdCBjb250YWlucyB0aGUgY29tcG9uZW50cy4gVGhpcyBkb3VibGUtPGRpdj4tc3RydWN0dXJlIGlzIG9mdGVuIHJlcXVpcmVkIHRvIGFjaGlldmUgbWFueSBhZHZhbmNlZCBlZmZlY3RzXHJcbiAqIGluIENTUyBhbmQvb3IgSlMsIGUuZy4gYW5pbWF0aW9ucyBhbmQgY2VydGFpbiBmb3JtYXR0aW5nIHdpdGggYWJzb2x1dGUgcG9zaXRpb25pbmcuXHJcbiAqXHJcbiAqIERPTSBleGFtcGxlOlxyXG4gKiA8Y29kZT5cclxuICogICAgIDxkaXYgY2xhc3M9J3VpLWNvbnRhaW5lcic+XHJcbiAqICAgICAgICAgPGRpdiBjbGFzcz0nY29udGFpbmVyLXdyYXBwZXInPlxyXG4gKiAgICAgICAgICAgICAuLi4gY2hpbGQgY29tcG9uZW50cyAuLi5cclxuICogICAgICAgICA8L2Rpdj5cclxuICogICAgIDwvZGl2PlxyXG4gKiA8L2NvZGU+XHJcbiAqL1xyXG52YXIgQ29udGFpbmVyID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhDb250YWluZXIsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBDb250YWluZXIoY29uZmlnKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgY29uZmlnKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLmNvbmZpZyA9IF90aGlzLm1lcmdlQ29uZmlnKGNvbmZpZywge1xyXG4gICAgICAgICAgICBjc3NDbGFzczogJ3VpLWNvbnRhaW5lcicsXHJcbiAgICAgICAgICAgIGNvbXBvbmVudHM6IFtdXHJcbiAgICAgICAgfSwgX3RoaXMuY29uZmlnKTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEFkZHMgYSBjaGlsZCBjb21wb25lbnQgdG8gdGhlIGNvbnRhaW5lci5cclxuICAgICAqIEBwYXJhbSBjb21wb25lbnQgdGhlIGNvbXBvbmVudCB0byBhZGRcclxuICAgICAqL1xyXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5hZGRDb21wb25lbnQgPSBmdW5jdGlvbiAoY29tcG9uZW50KSB7XHJcbiAgICAgICAgdGhpcy5jb25maWcuY29tcG9uZW50cy5wdXNoKGNvbXBvbmVudCk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZW1vdmVzIGEgY2hpbGQgY29tcG9uZW50IGZyb20gdGhlIGNvbnRhaW5lci5cclxuICAgICAqIEBwYXJhbSBjb21wb25lbnQgdGhlIGNvbXBvbmVudCB0byByZW1vdmVcclxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlmIHRoZSBjb21wb25lbnQgaGFzIGJlZW4gcmVtb3ZlZCwgZmFsc2UgaWYgaXQgaXMgbm90IGNvbnRhaW5lZCBpbiB0aGlzIGNvbnRhaW5lclxyXG4gICAgICovXHJcbiAgICBDb250YWluZXIucHJvdG90eXBlLnJlbW92ZUNvbXBvbmVudCA9IGZ1bmN0aW9uIChjb21wb25lbnQpIHtcclxuICAgICAgICByZXR1cm4gdXRpbHNfMS5BcnJheVV0aWxzLnJlbW92ZSh0aGlzLmNvbmZpZy5jb21wb25lbnRzLCBjb21wb25lbnQpICE9IG51bGw7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIGFuIGFycmF5IG9mIGFsbCBjaGlsZCBjb21wb25lbnRzIGluIHRoaXMgY29udGFpbmVyLlxyXG4gICAgICogQHJldHVybnMge0NvbXBvbmVudDxDb21wb25lbnRDb25maWc+W119XHJcbiAgICAgKi9cclxuICAgIENvbnRhaW5lci5wcm90b3R5cGUuZ2V0Q29tcG9uZW50cyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb25maWcuY29tcG9uZW50cztcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZXMgYWxsIGNoaWxkIGNvbXBvbmVudHMgZnJvbSB0aGUgY29udGFpbmVyLlxyXG4gICAgICovXHJcbiAgICBDb250YWluZXIucHJvdG90eXBlLnJlbW92ZUNvbXBvbmVudHMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IHRoaXMuZ2V0Q29tcG9uZW50cygpOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICB2YXIgY29tcG9uZW50ID0gX2FbX2ldO1xyXG4gICAgICAgICAgICB0aGlzLnJlbW92ZUNvbXBvbmVudChjb21wb25lbnQpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFVwZGF0ZXMgdGhlIERPTSBvZiB0aGUgY29udGFpbmVyIHdpdGggdGhlIGN1cnJlbnQgY29tcG9uZW50cy5cclxuICAgICAqL1xyXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS51cGRhdGVDb21wb25lbnRzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuaW5uZXJDb250YWluZXJFbGVtZW50LmVtcHR5KCk7XHJcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IHRoaXMuY29uZmlnLmNvbXBvbmVudHM7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBjb21wb25lbnQgPSBfYVtfaV07XHJcbiAgICAgICAgICAgIHRoaXMuaW5uZXJDb250YWluZXJFbGVtZW50LmFwcGVuZChjb21wb25lbnQuZ2V0RG9tRWxlbWVudCgpKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS50b0RvbUVsZW1lbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8gQ3JlYXRlIHRoZSBjb250YWluZXIgZWxlbWVudCAodGhlIG91dGVyIDxkaXY+KVxyXG4gICAgICAgIHZhciBjb250YWluZXJFbGVtZW50ID0gbmV3IGRvbV8xLkRPTSh0aGlzLmNvbmZpZy50YWcsIHtcclxuICAgICAgICAgICAgJ2lkJzogdGhpcy5jb25maWcuaWQsXHJcbiAgICAgICAgICAgICdjbGFzcyc6IHRoaXMuZ2V0Q3NzQ2xhc3NlcygpXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gQ3JlYXRlIHRoZSBpbm5lciBjb250YWluZXIgZWxlbWVudCAodGhlIGlubmVyIDxkaXY+KSB0aGF0IHdpbGwgY29udGFpbiB0aGUgY29tcG9uZW50c1xyXG4gICAgICAgIHZhciBpbm5lckNvbnRhaW5lciA9IG5ldyBkb21fMS5ET00odGhpcy5jb25maWcudGFnLCB7XHJcbiAgICAgICAgICAgICdjbGFzcyc6IHRoaXMucHJlZml4Q3NzKCdjb250YWluZXItd3JhcHBlcicpXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5pbm5lckNvbnRhaW5lckVsZW1lbnQgPSBpbm5lckNvbnRhaW5lcjtcclxuICAgICAgICB0aGlzLnVwZGF0ZUNvbXBvbmVudHMoKTtcclxuICAgICAgICBjb250YWluZXJFbGVtZW50LmFwcGVuZChpbm5lckNvbnRhaW5lcik7XHJcbiAgICAgICAgcmV0dXJuIGNvbnRhaW5lckVsZW1lbnQ7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIENvbnRhaW5lcjtcclxufShjb21wb25lbnRfMS5Db21wb25lbnQpKTtcclxuZXhwb3J0cy5Db250YWluZXIgPSBDb250YWluZXI7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9jb250YWluZXIudHNcbi8vIG1vZHVsZSBpZCA9IDBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGd1aWRfMSA9IHJlcXVpcmUoXCIuLi9ndWlkXCIpO1xyXG52YXIgZG9tXzEgPSByZXF1aXJlKFwiLi4vZG9tXCIpO1xyXG52YXIgZXZlbnRkaXNwYXRjaGVyXzEgPSByZXF1aXJlKFwiLi4vZXZlbnRkaXNwYXRjaGVyXCIpO1xyXG4vKipcclxuICogVGhlIGJhc2UgY2xhc3Mgb2YgdGhlIFVJIGZyYW1ld29yay5cclxuICogRWFjaCBjb21wb25lbnQgbXVzdCBleHRlbmQgdGhpcyBjbGFzcyBhbmQgb3B0aW9uYWxseSB0aGUgY29uZmlnIGludGVyZmFjZS5cclxuICovXHJcbnZhciBDb21wb25lbnQgPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgLyoqXHJcbiAgICAgKiBDb25zdHJ1Y3RzIGEgY29tcG9uZW50IHdpdGggYW4gb3B0aW9uYWxseSBzdXBwbGllZCBjb25maWcuIEFsbCBzdWJjbGFzc2VzIG11c3QgY2FsbCB0aGUgY29uc3RydWN0b3Igb2YgdGhlaXJcclxuICAgICAqIHN1cGVyY2xhc3MgYW5kIHRoZW4gbWVyZ2UgdGhlaXIgY29uZmlndXJhdGlvbiBpbnRvIHRoZSBjb21wb25lbnQncyBjb25maWd1cmF0aW9uLlxyXG4gICAgICogQHBhcmFtIGNvbmZpZyB0aGUgY29uZmlndXJhdGlvbiBmb3IgdGhlIGNvbXBvbmVudFxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBDb21wb25lbnQoY29uZmlnKSB7XHJcbiAgICAgICAgaWYgKGNvbmZpZyA9PT0gdm9pZCAwKSB7IGNvbmZpZyA9IHt9OyB9XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogVGhlIGxpc3Qgb2YgZXZlbnRzIHRoYXQgdGhpcyBjb21wb25lbnQgb2ZmZXJzLiBUaGVzZSBldmVudHMgc2hvdWxkIGFsd2F5cyBiZSBwcml2YXRlIGFuZCBvbmx5IGRpcmVjdGx5XHJcbiAgICAgICAgICogYWNjZXNzZWQgZnJvbSB3aXRoaW4gdGhlIGltcGxlbWVudGluZyBjb21wb25lbnQuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBCZWNhdXNlIFR5cGVTY3JpcHQgZG9lcyBub3Qgc3VwcG9ydCBwcml2YXRlIHByb3BlcnRpZXMgd2l0aCB0aGUgc2FtZSBuYW1lIG9uIGRpZmZlcmVudCBjbGFzcyBoaWVyYXJjaHkgbGV2ZWxzXHJcbiAgICAgICAgICogKGkuZS4gc3VwZXJjbGFzcyBhbmQgc3ViY2xhc3MgY2Fubm90IGNvbnRhaW4gYSBwcml2YXRlIHByb3BlcnR5IHdpdGggdGhlIHNhbWUgbmFtZSksIHRoZSBkZWZhdWx0IG5hbWluZ1xyXG4gICAgICAgICAqIGNvbnZlbnRpb24gZm9yIHRoZSBldmVudCBsaXN0IG9mIGEgY29tcG9uZW50IHRoYXQgc2hvdWxkIGJlIGZvbGxvd2VkIGJ5IHN1YmNsYXNzZXMgaXMgdGhlIGNvbmNhdGVuYXRpb24gb2YgdGhlXHJcbiAgICAgICAgICogY2FtZWwtY2FzZWQgY2xhc3MgbmFtZSArICdFdmVudHMnIChlLmcuIFN1YkNsYXNzIGV4dGVuZHMgQ29tcG9uZW50ID0+IHN1YkNsYXNzRXZlbnRzKS5cclxuICAgICAgICAgKiBTZWUge0BsaW5rICNjb21wb25lbnRFdmVudHN9IGZvciBhbiBleGFtcGxlLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogRXZlbnQgcHJvcGVydGllcyBzaG91bGQgYmUgbmFtZWQgaW4gY2FtZWwgY2FzZSB3aXRoIGFuICdvbicgcHJlZml4IGFuZCBpbiB0aGUgcHJlc2VudCB0ZW5zZS4gQXN5bmMgZXZlbnRzIG1heVxyXG4gICAgICAgICAqIGhhdmUgYSBzdGFydCBldmVudCAod2hlbiB0aGUgb3BlcmF0aW9uIHN0YXJ0cykgaW4gdGhlIHByZXNlbnQgdGVuc2UsIGFuZCBtdXN0IGhhdmUgYW4gZW5kIGV2ZW50ICh3aGVuIHRoZVxyXG4gICAgICAgICAqIG9wZXJhdGlvbiBlbmRzKSBpbiB0aGUgcGFzdCB0ZW5zZSAob3IgcHJlc2VudCB0ZW5zZSBpbiBzcGVjaWFsIGNhc2VzIChlLmcuIG9uU3RhcnQvb25TdGFydGVkIG9yIG9uUGxheS9vblBsYXlpbmcpLlxyXG4gICAgICAgICAqIFNlZSB7QGxpbmsgI2NvbXBvbmVudEV2ZW50cyNvblNob3d9IGZvciBhbiBleGFtcGxlLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogRWFjaCBldmVudCBzaG91bGQgYmUgYWNjb21wYW5pZWQgd2l0aCBhIHByb3RlY3RlZCBtZXRob2QgbmFtZWQgYnkgdGhlIGNvbnZlbnRpb24gZXZlbnROYW1lICsgJ0V2ZW50J1xyXG4gICAgICAgICAqIChlLmcuIG9uU3RhcnRFdmVudCksIHRoYXQgYWN0dWFsbHkgdHJpZ2dlcnMgdGhlIGV2ZW50IGJ5IGNhbGxpbmcge0BsaW5rIEV2ZW50RGlzcGF0Y2hlciNkaXNwYXRjaCBkaXNwYXRjaH0gYW5kXHJcbiAgICAgICAgICogcGFzc2luZyBhIHJlZmVyZW5jZSB0byB0aGUgY29tcG9uZW50IGFzIGZpcnN0IHBhcmFtZXRlci4gQ29tcG9uZW50cyBzaG91bGQgYWx3YXlzIHRyaWdnZXIgdGhlaXIgZXZlbnRzIHdpdGggdGhlc2VcclxuICAgICAgICAgKiBtZXRob2RzLiBJbXBsZW1lbnRpbmcgdGhpcyBwYXR0ZXJuIGdpdmVzIHN1YmNsYXNzZXMgbWVhbnMgdG8gZGlyZWN0bHkgbGlzdGVuIHRvIHRoZSBldmVudHMgYnkgb3ZlcnJpZGluZyB0aGVcclxuICAgICAgICAgKiBtZXRob2QgKGFuZCBzYXZpbmcgdGhlIG92ZXJoZWFkIG9mIHBhc3NpbmcgYSBoYW5kbGVyIHRvIHRoZSBldmVudCBkaXNwYXRjaGVyKSBhbmQgbW9yZSBpbXBvcnRhbnRseSB0byB0cmlnZ2VyXHJcbiAgICAgICAgICogdGhlc2UgZXZlbnRzIHdpdGhvdXQgaGF2aW5nIGFjY2VzcyB0byB0aGUgcHJpdmF0ZSBldmVudCBsaXN0LlxyXG4gICAgICAgICAqIFNlZSB7QGxpbmsgI29uU2hvd30gZm9yIGFuIGV4YW1wbGUuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBUbyBwcm92aWRlIGV4dGVybmFsIGNvZGUgdGhlIHBvc3NpYmlsaXR5IHRvIGxpc3RlbiB0byB0aGlzIGNvbXBvbmVudCdzIGV2ZW50cyAoc3Vic2NyaWJlLCB1bnN1YnNjcmliZSwgZXRjLiksXHJcbiAgICAgICAgICogZWFjaCBldmVudCBzaG91bGQgYWxzbyBiZSBhY2NvbXBhbmllZCBieSBhIHB1YmxpYyBnZXR0ZXIgZnVuY3Rpb24gd2l0aCB0aGUgc2FtZSBuYW1lIGFzIHRoZSBldmVudCdzIHByb3BlcnR5LFxyXG4gICAgICAgICAqIHRoYXQgcmV0dXJucyB0aGUge0BsaW5rIEV2ZW50fSBvYnRhaW5lZCBmcm9tIHRoZSBldmVudCBkaXNwYXRjaGVyIGJ5IGNhbGxpbmcge0BsaW5rIEV2ZW50RGlzcGF0Y2hlciNnZXRFdmVudH0uXHJcbiAgICAgICAgICogU2VlIHtAbGluayAjb25TaG93fSBmb3IgYW4gZXhhbXBsZS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEZ1bGwgZXhhbXBsZSBmb3IgYW4gZXZlbnQgcmVwcmVzZW50aW5nIGFuIGV4YW1wbGUgYWN0aW9uIGluIGEgZXhhbXBsZSBjb21wb25lbnQ6XHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiA8Y29kZT5cclxuICAgICAgICAgKiAvLyBEZWZpbmUgYW4gZXhhbXBsZSBjb21wb25lbnQgY2xhc3Mgd2l0aCBhbiBleGFtcGxlIGV2ZW50XHJcbiAgICAgICAgICogY2xhc3MgRXhhbXBsZUNvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudDxDb21wb25lbnRDb25maWc+IHtcclxuICAgICAgICAgICAqXHJcbiAgICAgICAgICAgKiAgICAgcHJpdmF0ZSBleGFtcGxlQ29tcG9uZW50RXZlbnRzID0ge1xyXG4gICAgICAgICAgICogICAgICAgICBvbkV4YW1wbGVBY3Rpb246IG5ldyBFdmVudERpc3BhdGNoZXI8RXhhbXBsZUNvbXBvbmVudCwgTm9BcmdzPigpXHJcbiAgICAgICAgICAgKiAgICAgfVxyXG4gICAgICAgICAgICpcclxuICAgICAgICAgICAqICAgICAvLyBjb25zdHJ1Y3RvciBhbmQgb3RoZXIgc3R1ZmYuLi5cclxuICAgICAgICAgICAqXHJcbiAgICAgICAgICAgKiAgICAgcHJvdGVjdGVkIG9uRXhhbXBsZUFjdGlvbkV2ZW50KCkge1xyXG4gICAgICAgICAgICogICAgICAgIHRoaXMuZXhhbXBsZUNvbXBvbmVudEV2ZW50cy5vbkV4YW1wbGVBY3Rpb24uZGlzcGF0Y2godGhpcyk7XHJcbiAgICAgICAgICAgKiAgICB9XHJcbiAgICAgICAgICAgKlxyXG4gICAgICAgICAgICogICAgZ2V0IG9uRXhhbXBsZUFjdGlvbigpOiBFdmVudDxFeGFtcGxlQ29tcG9uZW50LCBOb0FyZ3M+IHtcclxuICAgICAgICAgICAqICAgICAgICByZXR1cm4gdGhpcy5leGFtcGxlQ29tcG9uZW50RXZlbnRzLm9uRXhhbXBsZUFjdGlvbi5nZXRFdmVudCgpO1xyXG4gICAgICAgICAgICogICAgfVxyXG4gICAgICAgICAgICogfVxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogLy8gQ3JlYXRlIGFuIGluc3RhbmNlIG9mIHRoZSBjb21wb25lbnQgc29tZXdoZXJlXHJcbiAgICAgICAgICogdmFyIGV4YW1wbGVDb21wb25lbnRJbnN0YW5jZSA9IG5ldyBFeGFtcGxlQ29tcG9uZW50KCk7XHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiAvLyBTdWJzY3JpYmUgdG8gdGhlIGV4YW1wbGUgZXZlbnQgb24gdGhlIGNvbXBvbmVudFxyXG4gICAgICAgICAqIGV4YW1wbGVDb21wb25lbnRJbnN0YW5jZS5vbkV4YW1wbGVBY3Rpb24uc3Vic2NyaWJlKGZ1bmN0aW9uIChzZW5kZXI6IEV4YW1wbGVDb21wb25lbnQpIHtcclxuICAgICAgICAgICAqICAgICBjb25zb2xlLmxvZygnb25FeGFtcGxlQWN0aW9uIG9mICcgKyBzZW5kZXIgKyAnIGhhcyBmaXJlZCEnKTtcclxuICAgICAgICAgICAqIH0pO1xyXG4gICAgICAgICAqIDwvY29kZT5cclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLmNvbXBvbmVudEV2ZW50cyA9IHtcclxuICAgICAgICAgICAgb25TaG93OiBuZXcgZXZlbnRkaXNwYXRjaGVyXzEuRXZlbnREaXNwYXRjaGVyKCksXHJcbiAgICAgICAgICAgIG9uSGlkZTogbmV3IGV2ZW50ZGlzcGF0Y2hlcl8xLkV2ZW50RGlzcGF0Y2hlcigpLFxyXG4gICAgICAgICAgICBvbkhvdmVyQ2hhbmdlZDogbmV3IGV2ZW50ZGlzcGF0Y2hlcl8xLkV2ZW50RGlzcGF0Y2hlcigpLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgLy8gQ3JlYXRlIHRoZSBjb25maWd1cmF0aW9uIGZvciB0aGlzIGNvbXBvbmVudFxyXG4gICAgICAgIHRoaXMuY29uZmlnID0gdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIHtcclxuICAgICAgICAgICAgdGFnOiAnZGl2JyxcclxuICAgICAgICAgICAgaWQ6ICdtaS13YmMtaWQtJyArIGd1aWRfMS5HdWlkLm5leHQoKSxcclxuICAgICAgICAgICAgY3NzUHJlZml4OiAnbWktd2JjJyxcclxuICAgICAgICAgICAgY3NzQ2xhc3M6ICd1aS1jb21wb25lbnQnLFxyXG4gICAgICAgICAgICBjc3NDbGFzc2VzOiBbXSxcclxuICAgICAgICAgICAgaGlkZGVuOiBmYWxzZVxyXG4gICAgICAgIH0sIHt9KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogSW5pdGlhbGl6ZXMgdGhlIGNvbXBvbmVudCwgZS5nLiBieSBhcHBseWluZyBjb25maWcgc2V0dGluZ3MuXHJcbiAgICAgKiBUaGlzIG1ldGhvZCBtdXN0IG5vdCBiZSBjYWxsZWQgZnJvbSBvdXRzaWRlIHRoZSBVSSBmcmFtZXdvcmsuXHJcbiAgICAgKlxyXG4gICAgICogVGhpcyBtZXRob2QgaXMgYXV0b21hdGljYWxseSBjYWxsZWQgYnkgdGhlIHtAbGluayBVSUluc3RhbmNlTWFuYWdlcn0uIElmIHRoZSBjb21wb25lbnQgaXMgYW4gaW5uZXIgY29tcG9uZW50IG9mXHJcbiAgICAgKiBzb21lIGNvbXBvbmVudCwgYW5kIHRodXMgZW5jYXBzdWxhdGVkIGFiZCBtYW5hZ2VkIGludGVybmFsbHkgYW5kIG5ldmVyIGRpcmVjdGx5IGV4cG9zZWQgdG8gdGhlIFVJTWFuYWdlcixcclxuICAgICAqIHRoaXMgbWV0aG9kIG11c3QgYmUgY2FsbGVkIGZyb20gdGhlIG1hbmFnaW5nIGNvbXBvbmVudCdzIHtAbGluayAjaW5pdGlhbGl6ZX0gbWV0aG9kLlxyXG4gICAgICovXHJcbiAgICBDb21wb25lbnQucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5oaWRkZW4gPSB0aGlzLmNvbmZpZy5oaWRkZW47XHJcbiAgICAgICAgLy8gSGlkZSB0aGUgY29tcG9uZW50IGF0IGluaXRpYWxpemF0aW9uIGlmIGl0IGlzIGNvbmZpZ3VyZWQgdG8gYmUgaGlkZGVuXHJcbiAgICAgICAgaWYgKHRoaXMuaXNIaWRkZW4oKSkge1xyXG4gICAgICAgICAgICB0aGlzLmhpZGRlbiA9IGZhbHNlOyAvLyBTZXQgZmxhZyB0byBmYWxzZSBmb3IgdGhlIGZvbGxvd2luZyBoaWRlKCkgY2FsbCB0byB3b3JrIChoaWRlKCkgY2hlY2tzIHRoZSBmbGFnKVxyXG4gICAgICAgICAgICB0aGlzLmhpZGUoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBDb25maWd1cmVzIHRoZSBjb21wb25lbnQgZm9yIHRoZSBzdXBwbGllZCBQbGF5ZXIgYW5kIFVJSW5zdGFuY2VNYW5hZ2VyLiBUaGlzIGlzIHRoZSBwbGFjZSB3aGVyZSBhbGwgdGhlIG1hZ2ljXHJcbiAgICAgKiBoYXBwZW5zLCB3aGVyZSBjb21wb25lbnRzIHR5cGljYWxseSBzdWJzY3JpYmUgYW5kIHJlYWN0IHRvIGV2ZW50cyAob24gdGhlaXIgRE9NIGVsZW1lbnQsIHRoZSBQbGF5ZXIsIG9yIHRoZVxyXG4gICAgICogVUlJbnN0YW5jZU1hbmFnZXIpLCBhbmQgYmFzaWNhbGx5IGV2ZXJ5dGhpbmcgdGhhdCBtYWtlcyB0aGVtIGludGVyYWN0aXZlLlxyXG4gICAgICogVGhpcyBtZXRob2QgaXMgY2FsbGVkIG9ubHkgb25jZSwgd2hlbiB0aGUgVUlNYW5hZ2VyIGluaXRpYWxpemVzIHRoZSBVSS5cclxuICAgICAqXHJcbiAgICAgKiBTdWJjbGFzc2VzIHVzdWFsbHkgb3ZlcndyaXRlIHRoaXMgbWV0aG9kIHRvIGFkZCB0aGVpciBvd24gZnVuY3Rpb25hbGl0eS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gcGxheWVyIHRoZSBwbGF5ZXIgd2hpY2ggdGhpcyBjb21wb25lbnQgY29udHJvbHNcclxuICAgICAqIEBwYXJhbSB1aW1hbmFnZXIgdGhlIFVJSW5zdGFuY2VNYW5hZ2VyIHRoYXQgbWFuYWdlcyB0aGlzIGNvbXBvbmVudFxyXG4gICAgICovXHJcbiAgICBDb21wb25lbnQucHJvdG90eXBlLmNvbmZpZ3VyZSA9IGZ1bmN0aW9uIChwbGF5ZXIsIHVpbWFuYWdlcikge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5vblNob3cuc3Vic2NyaWJlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdWltYW5hZ2VyLm9uQ29tcG9uZW50U2hvdy5kaXNwYXRjaChfdGhpcyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5vbkhpZGUuc3Vic2NyaWJlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdWltYW5hZ2VyLm9uQ29tcG9uZW50SGlkZS5kaXNwYXRjaChfdGhpcyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gVHJhY2sgdGhlIGhvdmVyZWQgc3RhdGUgb2YgdGhlIGVsZW1lbnRcclxuICAgICAgICB0aGlzLmdldERvbUVsZW1lbnQoKS5vbignbW91c2VlbnRlcicsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgX3RoaXMub25Ib3ZlckNoYW5nZWRFdmVudCh0cnVlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmdldERvbUVsZW1lbnQoKS5vbignbW91c2VsZWF2ZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgX3RoaXMub25Ib3ZlckNoYW5nZWRFdmVudChmYWxzZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZWxlYXNlcyBhbGwgcmVzb3VyY2VzIGFuZCBkZXBlbmRlbmNpZXMgdGhhdCB0aGUgY29tcG9uZW50IGhvbGRzLiBQbGF5ZXIsIERPTSwgYW5kIFVJTWFuYWdlciBldmVudHMgYXJlXHJcbiAgICAgKiBhdXRvbWF0aWNhbGx5IHJlbW92ZWQgZHVyaW5nIHJlbGVhc2UgYW5kIGRvIG5vdCBleHBsaWNpdGx5IG5lZWQgdG8gYmUgcmVtb3ZlZCBoZXJlLlxyXG4gICAgICogVGhpcyBtZXRob2QgaXMgY2FsbGVkIGJ5IHRoZSBVSU1hbmFnZXIgd2hlbiBpdCByZWxlYXNlcyB0aGUgVUkuXHJcbiAgICAgKlxyXG4gICAgICogU3ViY2xhc3NlcyB0aGF0IG5lZWQgdG8gcmVsZWFzZSByZXNvdXJjZXMgc2hvdWxkIG92ZXJyaWRlIHRoaXMgbWV0aG9kIGFuZCBjYWxsIHN1cGVyLnJlbGVhc2UoKS5cclxuICAgICAqL1xyXG4gICAgQ29tcG9uZW50LnByb3RvdHlwZS5yZWxlYXNlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vIE5vdGhpbmcgdG8gZG8gaGVyZSwgb3ZlcnJpZGUgd2hlcmUgbmVjZXNzYXJ5XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBHZW5lcmF0ZSB0aGUgRE9NIGVsZW1lbnQgZm9yIHRoaXMgY29tcG9uZW50LlxyXG4gICAgICpcclxuICAgICAqIFN1YmNsYXNzZXMgdXN1YWxseSBvdmVyd3JpdGUgdGhpcyBtZXRob2QgdG8gZXh0ZW5kIG9yIHJlcGxhY2UgdGhlIERPTSBlbGVtZW50IHdpdGggdGhlaXIgb3duIGRlc2lnbi5cclxuICAgICAqL1xyXG4gICAgQ29tcG9uZW50LnByb3RvdHlwZS50b0RvbUVsZW1lbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGVsZW1lbnQgPSBuZXcgZG9tXzEuRE9NKHRoaXMuY29uZmlnLnRhZywge1xyXG4gICAgICAgICAgICAnaWQnOiB0aGlzLmNvbmZpZy5pZCxcclxuICAgICAgICAgICAgJ2NsYXNzJzogdGhpcy5nZXRDc3NDbGFzc2VzKClcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gZWxlbWVudDtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdGhlIERPTSBlbGVtZW50IG9mIHRoaXMgY29tcG9uZW50LiBDcmVhdGVzIHRoZSBET00gZWxlbWVudCBpZiBpdCBkb2VzIG5vdCB5ZXQgZXhpc3QuXHJcbiAgICAgKlxyXG4gICAgICogU2hvdWxkIG5vdCBiZSBvdmVyd3JpdHRlbiBieSBzdWJjbGFzc2VzLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIHtET019XHJcbiAgICAgKi9cclxuICAgIENvbXBvbmVudC5wcm90b3R5cGUuZ2V0RG9tRWxlbWVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuZWxlbWVudCkge1xyXG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQgPSB0aGlzLnRvRG9tRWxlbWVudCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50O1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogTWVyZ2VzIGEgY29uZmlndXJhdGlvbiB3aXRoIGEgZGVmYXVsdCBjb25maWd1cmF0aW9uIGFuZCBhIGJhc2UgY29uZmlndXJhdGlvbiBmcm9tIHRoZSBzdXBlcmNsYXNzLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBjb25maWcgdGhlIGNvbmZpZ3VyYXRpb24gc2V0dGluZ3MgZm9yIHRoZSBjb21wb25lbnRzLCBhcyB1c3VhbGx5IHBhc3NlZCB0byB0aGUgY29uc3RydWN0b3JcclxuICAgICAqIEBwYXJhbSBkZWZhdWx0cyBhIGRlZmF1bHQgY29uZmlndXJhdGlvbiBmb3Igc2V0dGluZ3MgdGhhdCBhcmUgbm90IHBhc3NlZCB3aXRoIHRoZSBjb25maWd1cmF0aW9uXHJcbiAgICAgKiBAcGFyYW0gYmFzZSBjb25maWd1cmF0aW9uIGluaGVyaXRlZCBmcm9tIGEgc3VwZXJjbGFzc1xyXG4gICAgICogQHJldHVybnMge0NvbmZpZ31cclxuICAgICAqL1xyXG4gICAgQ29tcG9uZW50LnByb3RvdHlwZS5tZXJnZUNvbmZpZyA9IGZ1bmN0aW9uIChjb25maWcsIGRlZmF1bHRzLCBiYXNlKSB7XHJcbiAgICAgICAgLy8gRXh0ZW5kIGRlZmF1bHQgY29uZmlnIHdpdGggc3VwcGxpZWQgY29uZmlnXHJcbiAgICAgICAgdmFyIG1lcmdlZCA9IE9iamVjdC5hc3NpZ24oe30sIGJhc2UsIGRlZmF1bHRzLCBjb25maWcpO1xyXG4gICAgICAgIC8vIFJldHVybiB0aGUgZXh0ZW5kZWQgY29uZmlnXHJcbiAgICAgICAgcmV0dXJuIG1lcmdlZDtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEhlbHBlciBtZXRob2QgdGhhdCByZXR1cm5zIGEgc3RyaW5nIG9mIGFsbCBDU1MgY2xhc3NlcyBvZiB0aGUgY29tcG9uZW50LlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XHJcbiAgICAgKi9cclxuICAgIENvbXBvbmVudC5wcm90b3R5cGUuZ2V0Q3NzQ2xhc3NlcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIC8vIE1lcmdlIGFsbCBDU1MgY2xhc3NlcyBpbnRvIHNpbmdsZSBhcnJheVxyXG4gICAgICAgIHZhciBmbGF0dGVuZWRBcnJheSA9IFt0aGlzLmNvbmZpZy5jc3NDbGFzc10uY29uY2F0KHRoaXMuY29uZmlnLmNzc0NsYXNzZXMpO1xyXG4gICAgICAgIC8vIFByZWZpeCBjbGFzc2VzXHJcbiAgICAgICAgZmxhdHRlbmVkQXJyYXkgPSBmbGF0dGVuZWRBcnJheS5tYXAoZnVuY3Rpb24gKGNzcykge1xyXG4gICAgICAgICAgICByZXR1cm4gX3RoaXMucHJlZml4Q3NzKGNzcyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gSm9pbiBhcnJheSB2YWx1ZXMgaW50byBhIHN0cmluZ1xyXG4gICAgICAgIHZhciBmbGF0dGVuZWRTdHJpbmcgPSBmbGF0dGVuZWRBcnJheS5qb2luKCcgJyk7XHJcbiAgICAgICAgLy8gUmV0dXJuIHRyaW1tZWQgc3RyaW5nIHRvIHByZXZlbnQgd2hpdGVzcGFjZSBhdCB0aGUgZW5kIGZyb20gdGhlIGpvaW4gb3BlcmF0aW9uXHJcbiAgICAgICAgcmV0dXJuIGZsYXR0ZW5lZFN0cmluZy50cmltKCk7XHJcbiAgICB9O1xyXG4gICAgQ29tcG9uZW50LnByb3RvdHlwZS5wcmVmaXhDc3MgPSBmdW5jdGlvbiAoY3NzQ2xhc3NPcklkKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlnLmNzc1ByZWZpeCArICctJyArIGNzc0NsYXNzT3JJZDtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdGhlIGNvbmZpZ3VyYXRpb24gb2JqZWN0IG9mIHRoZSBjb21wb25lbnQuXHJcbiAgICAgKiBAcmV0dXJucyB7Q29uZmlnfVxyXG4gICAgICovXHJcbiAgICBDb21wb25lbnQucHJvdG90eXBlLmdldENvbmZpZyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb25maWc7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBIaWRlcyB0aGUgY29tcG9uZW50IGlmIHNob3duLlxyXG4gICAgICogVGhpcyBtZXRob2QgYmFzaWNhbGx5IHRyYW5zZmVycyB0aGUgY29tcG9uZW50IGludG8gdGhlIGhpZGRlbiBzdGF0ZS4gQWN0dWFsIGhpZGluZyBpcyBkb25lIHZpYSBDU1MuXHJcbiAgICAgKi9cclxuICAgIENvbXBvbmVudC5wcm90b3R5cGUuaGlkZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuaGlkZGVuKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaGlkZGVuID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5nZXREb21FbGVtZW50KCkuYWRkQ2xhc3ModGhpcy5wcmVmaXhDc3MoQ29tcG9uZW50LkNMQVNTX0hJRERFTikpO1xyXG4gICAgICAgICAgICB0aGlzLm9uSGlkZUV2ZW50KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogU2hvd3MgdGhlIGNvbXBvbmVudCBpZiBoaWRkZW4uXHJcbiAgICAgKi9cclxuICAgIENvbXBvbmVudC5wcm90b3R5cGUuc2hvdyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodGhpcy5oaWRkZW4pIHtcclxuICAgICAgICAgICAgdGhpcy5nZXREb21FbGVtZW50KCkucmVtb3ZlQ2xhc3ModGhpcy5wcmVmaXhDc3MoQ29tcG9uZW50LkNMQVNTX0hJRERFTikpO1xyXG4gICAgICAgICAgICB0aGlzLmhpZGRlbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLm9uU2hvd0V2ZW50KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogRGV0ZXJtaW5lcyBpZiB0aGUgY29tcG9uZW50IGlzIGhpZGRlbi5cclxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlmIHRoZSBjb21wb25lbnQgaXMgaGlkZGVuLCBlbHNlIGZhbHNlXHJcbiAgICAgKi9cclxuICAgIENvbXBvbmVudC5wcm90b3R5cGUuaXNIaWRkZW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaGlkZGVuO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogRGV0ZXJtaW5lcyBpZiB0aGUgY29tcG9uZW50IGlzIHNob3duLlxyXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IHRydWUgaWYgdGhlIGNvbXBvbmVudCBpcyB2aXNpYmxlLCBlbHNlIGZhbHNlXHJcbiAgICAgKi9cclxuICAgIENvbXBvbmVudC5wcm90b3R5cGUuaXNTaG93biA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gIXRoaXMuaXNIaWRkZW4oKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFRvZ2dsZXMgdGhlIGhpZGRlbiBzdGF0ZSBieSBoaWRpbmcgdGhlIGNvbXBvbmVudCBpZiBpdCBpcyBzaG93biwgb3Igc2hvd2luZyBpdCBpZiBoaWRkZW4uXHJcbiAgICAgKi9cclxuICAgIENvbXBvbmVudC5wcm90b3R5cGUudG9nZ2xlSGlkZGVuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzSGlkZGVuKCkpIHtcclxuICAgICAgICAgICAgdGhpcy5zaG93KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmhpZGUoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBEZXRlcm1pbmVzIGlmIHRoZSBjb21wb25lbnQgaXMgY3VycmVudGx5IGhvdmVyZWQuXHJcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpZiB0aGUgY29tcG9uZW50IGlzIGhvdmVyZWQsIGVsc2UgZmFsc2VcclxuICAgICAqL1xyXG4gICAgQ29tcG9uZW50LnByb3RvdHlwZS5pc0hvdmVyZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaG92ZXJlZDtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEZpcmVzIHRoZSBvblNob3cgZXZlbnQuXHJcbiAgICAgKiBTZWUgdGhlIGRldGFpbGVkIGV4cGxhbmF0aW9uIG9uIGV2ZW50IGFyY2hpdGVjdHVyZSBvbiB0aGUge0BsaW5rICNjb21wb25lbnRFdmVudHMgZXZlbnRzIGxpc3R9LlxyXG4gICAgICovXHJcbiAgICBDb21wb25lbnQucHJvdG90eXBlLm9uU2hvd0V2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuY29tcG9uZW50RXZlbnRzLm9uU2hvdy5kaXNwYXRjaCh0aGlzKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEZpcmVzIHRoZSBvbkhpZGUgZXZlbnQuXHJcbiAgICAgKiBTZWUgdGhlIGRldGFpbGVkIGV4cGxhbmF0aW9uIG9uIGV2ZW50IGFyY2hpdGVjdHVyZSBvbiB0aGUge0BsaW5rICNjb21wb25lbnRFdmVudHMgZXZlbnRzIGxpc3R9LlxyXG4gICAgICovXHJcbiAgICBDb21wb25lbnQucHJvdG90eXBlLm9uSGlkZUV2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuY29tcG9uZW50RXZlbnRzLm9uSGlkZS5kaXNwYXRjaCh0aGlzKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEZpcmVzIHRoZSBvbkhvdmVyQ2hhbmdlZCBldmVudC5cclxuICAgICAqIFNlZSB0aGUgZGV0YWlsZWQgZXhwbGFuYXRpb24gb24gZXZlbnQgYXJjaGl0ZWN0dXJlIG9uIHRoZSB7QGxpbmsgI2NvbXBvbmVudEV2ZW50cyBldmVudHMgbGlzdH0uXHJcbiAgICAgKi9cclxuICAgIENvbXBvbmVudC5wcm90b3R5cGUub25Ib3ZlckNoYW5nZWRFdmVudCA9IGZ1bmN0aW9uIChob3ZlcmVkKSB7XHJcbiAgICAgICAgdGhpcy5ob3ZlcmVkID0gaG92ZXJlZDtcclxuICAgICAgICB0aGlzLmNvbXBvbmVudEV2ZW50cy5vbkhvdmVyQ2hhbmdlZC5kaXNwYXRjaCh0aGlzLCB7IGhvdmVyZWQ6IGhvdmVyZWQgfSk7XHJcbiAgICB9O1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbXBvbmVudC5wcm90b3R5cGUsIFwib25TaG93XCIsIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBHZXRzIHRoZSBldmVudCB0aGF0IGlzIGZpcmVkIHdoZW4gdGhlIGNvbXBvbmVudCBpcyBzaG93aW5nLlxyXG4gICAgICAgICAqIFNlZSB0aGUgZGV0YWlsZWQgZXhwbGFuYXRpb24gb24gZXZlbnQgYXJjaGl0ZWN0dXJlIG9uIHRoZSB7QGxpbmsgI2NvbXBvbmVudEV2ZW50cyBldmVudHMgbGlzdH0uXHJcbiAgICAgICAgICogQHJldHVybnMge0V2ZW50PENvbXBvbmVudDxDb25maWc+LCBOb0FyZ3M+fVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb21wb25lbnRFdmVudHMub25TaG93LmdldEV2ZW50KCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29tcG9uZW50LnByb3RvdHlwZSwgXCJvbkhpZGVcIiwge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEdldHMgdGhlIGV2ZW50IHRoYXQgaXMgZmlyZWQgd2hlbiB0aGUgY29tcG9uZW50IGlzIGhpZGluZy5cclxuICAgICAgICAgKiBTZWUgdGhlIGRldGFpbGVkIGV4cGxhbmF0aW9uIG9uIGV2ZW50IGFyY2hpdGVjdHVyZSBvbiB0aGUge0BsaW5rICNjb21wb25lbnRFdmVudHMgZXZlbnRzIGxpc3R9LlxyXG4gICAgICAgICAqIEByZXR1cm5zIHtFdmVudDxDb21wb25lbnQ8Q29uZmlnPiwgTm9BcmdzPn1cclxuICAgICAgICAgKi9cclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29tcG9uZW50RXZlbnRzLm9uSGlkZS5nZXRFdmVudCgpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbXBvbmVudC5wcm90b3R5cGUsIFwib25Ib3ZlckNoYW5nZWRcIiwge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEdldHMgdGhlIGV2ZW50IHRoYXQgaXMgZmlyZWQgd2hlbiB0aGUgY29tcG9uZW50J3MgaG92ZXItc3RhdGUgaXMgY2hhbmdpbmcuXHJcbiAgICAgICAgICogQHJldHVybnMge0V2ZW50PENvbXBvbmVudDxDb25maWc+LCBDb21wb25lbnRIb3ZlckNoYW5nZWRFdmVudEFyZ3M+fVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb21wb25lbnRFdmVudHMub25Ib3ZlckNoYW5nZWQuZ2V0RXZlbnQoKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIHJldHVybiBDb21wb25lbnQ7XHJcbn0oKSk7XHJcbi8qKlxyXG4gKiBUaGUgY2xhc3NuYW1lIHRoYXQgaXMgYXR0YWNoZWQgdG8gdGhlIGVsZW1lbnQgd2hlbiBpdCBpcyBpbiB0aGUgaGlkZGVuIHN0YXRlLlxyXG4gKiBAdHlwZSB7c3RyaW5nfVxyXG4gKi9cclxuQ29tcG9uZW50LkNMQVNTX0hJRERFTiA9ICdoaWRkZW4nO1xyXG5leHBvcnRzLkNvbXBvbmVudCA9IENvbXBvbmVudDtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL2NvbXBvbmVudC50c1xuLy8gbW9kdWxlIGlkID0gMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG4vKipcclxuICogU2ltcGxlIERPTSBtYW5pcHVsYXRpb24gYW5kIERPTSBlbGVtZW50IGV2ZW50IGhhbmRsaW5nIG1vZGVsZWQgYWZ0ZXIgalF1ZXJ5IChhcyByZXBsYWNlbWVudCBmb3IgalF1ZXJ5KS5cclxuICpcclxuICogTGlrZSBqUXVlcnksIERPTSBvcGVyYXRlcyBvbiBzaW5nbGUgZWxlbWVudHMgYW5kIGxpc3RzIG9mIGVsZW1lbnRzLiBGb3IgZXhhbXBsZTogY3JlYXRpbmcgYW4gZWxlbWVudCByZXR1cm5zIGEgRE9NXHJcbiAqIGluc3RhbmNlIHdpdGggYSBzaW5nbGUgZWxlbWVudCwgc2VsZWN0aW5nIGVsZW1lbnRzIHJldHVybnMgYSBET00gaW5zdGFuY2Ugd2l0aCB6ZXJvLCBvbmUsIG9yIG1hbnkgZWxlbWVudHMuIFNpbWlsYXJcclxuICogdG8galF1ZXJ5LCBzZXR0ZXJzIHVzdWFsbHkgYWZmZWN0IGFsbCBlbGVtZW50cywgd2hpbGUgZ2V0dGVycyBvcGVyYXRlIG9uIG9ubHkgdGhlIGZpcnN0IGVsZW1lbnQuXHJcbiAqIEFsc28gc2ltaWxhciB0byBqUXVlcnksIG1vc3QgbWV0aG9kcyAoZXhjZXB0IGdldHRlcnMpIHJldHVybiB0aGUgRE9NIGluc3RhbmNlIGZhY2lsaXRhdGluZyBlYXN5IGNoYWluaW5nIG9mIG1ldGhvZFxyXG4gKiBjYWxscy5cclxuICpcclxuICogQnVpbHQgd2l0aCB0aGUgaGVscCBvZjogaHR0cDovL3lvdW1pZ2h0bm90bmVlZGpxdWVyeS5jb20vXHJcbiAqL1xyXG52YXIgRE9NID0gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIERPTShzb21ldGhpbmcsIGF0dHJpYnV0ZXMpIHtcclxuICAgICAgICB0aGlzLmRvY3VtZW50ID0gZG9jdW1lbnQ7IC8vIFNldCB0aGUgZ2xvYmFsIGRvY3VtZW50IHRvIHRoZSBsb2NhbCBkb2N1bWVudCBmaWVsZFxyXG4gICAgICAgIGlmIChzb21ldGhpbmcgaW5zdGFuY2VvZiBBcnJheSkge1xyXG4gICAgICAgICAgICBpZiAoc29tZXRoaW5nLmxlbmd0aCA+IDAgJiYgc29tZXRoaW5nWzBdIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBlbGVtZW50cyA9IHNvbWV0aGluZztcclxuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudHMgPSBlbGVtZW50cztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChzb21ldGhpbmcgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xyXG4gICAgICAgICAgICB2YXIgZWxlbWVudCA9IHNvbWV0aGluZztcclxuICAgICAgICAgICAgdGhpcy5lbGVtZW50cyA9IFtlbGVtZW50XTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoc29tZXRoaW5nIGluc3RhbmNlb2YgRG9jdW1lbnQpIHtcclxuICAgICAgICAgICAgLy8gV2hlbiBhIGRvY3VtZW50IGlzIHBhc3NlZCBpbiwgd2UgZG8gbm90IGRvIGFueXRoaW5nIHdpdGggaXQsIGJ1dCBieSBzZXR0aW5nIHRoaXMuZWxlbWVudHMgdG8gbnVsbFxyXG4gICAgICAgICAgICAvLyB3ZSBnaXZlIHRoZSBldmVudCBoYW5kbGluZyBtZXRob2QgYSBtZWFucyB0byBkZXRlY3QgaWYgdGhlIGV2ZW50cyBzaG91bGQgYmUgcmVnaXN0ZXJlZCBvbiB0aGUgZG9jdW1lbnRcclxuICAgICAgICAgICAgLy8gaW5zdGVhZCBvZiBlbGVtZW50cy5cclxuICAgICAgICAgICAgdGhpcy5lbGVtZW50cyA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGF0dHJpYnV0ZXMpIHtcclxuICAgICAgICAgICAgdmFyIHRhZ05hbWUgPSBzb21ldGhpbmc7XHJcbiAgICAgICAgICAgIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWdOYW1lKTtcclxuICAgICAgICAgICAgZm9yICh2YXIgYXR0cmlidXRlTmFtZSBpbiBhdHRyaWJ1dGVzKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYXR0cmlidXRlVmFsdWUgPSBhdHRyaWJ1dGVzW2F0dHJpYnV0ZU5hbWVdO1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSwgYXR0cmlidXRlVmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudHMgPSBbZWxlbWVudF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB2YXIgc2VsZWN0b3IgPSBzb21ldGhpbmc7XHJcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudHMgPSB0aGlzLmZpbmRDaGlsZEVsZW1lbnRzKHNlbGVjdG9yKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRE9NLnByb3RvdHlwZSwgXCJsZW5ndGhcIiwge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEdldHMgdGhlIG51bWJlciBvZiBlbGVtZW50cyB0aGF0IHRoaXMgRE9NIGluc3RhbmNlIGN1cnJlbnRseSBob2xkcy5cclxuICAgICAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSB0aGUgbnVtYmVyIG9mIGVsZW1lbnRzXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnRzID8gdGhpcy5lbGVtZW50cy5sZW5ndGggOiAwO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIHRoZSBIVE1MIGVsZW1lbnRzIHRoYXQgdGhpcyBET00gaW5zdGFuY2UgY3VycmVudGx5IGhvbGRzLlxyXG4gICAgICogQHJldHVybnMge0hUTUxFbGVtZW50W119IHRoZSByYXcgSFRNTCBlbGVtZW50c1xyXG4gICAgICovXHJcbiAgICBET00ucHJvdG90eXBlLmdldEVsZW1lbnRzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnRzO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQSBzaG9ydGN1dCBtZXRob2QgZm9yIGl0ZXJhdGluZyBhbGwgZWxlbWVudHMuIFNob3J0cyB0aGlzLmVsZW1lbnRzLmZvckVhY2goLi4uKSB0byB0aGlzLmZvckVhY2goLi4uKS5cclxuICAgICAqIEBwYXJhbSBoYW5kbGVyIHRoZSBoYW5kbGVyIHRvIGV4ZWN1dGUgYW4gb3BlcmF0aW9uIG9uIGFuIGVsZW1lbnRcclxuICAgICAqL1xyXG4gICAgRE9NLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gKGhhbmRsZXIpIHtcclxuICAgICAgICB0aGlzLmVsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHtcclxuICAgICAgICAgICAgaGFuZGxlcihlbGVtZW50KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBET00ucHJvdG90eXBlLmZpbmRDaGlsZEVsZW1lbnRzT2ZFbGVtZW50ID0gZnVuY3Rpb24gKGVsZW1lbnQsIHNlbGVjdG9yKSB7XHJcbiAgICAgICAgdmFyIGNoaWxkRWxlbWVudHMgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpO1xyXG4gICAgICAgIC8vIENvbnZlcnQgTm9kZUxpc3QgdG8gQXJyYXlcclxuICAgICAgICAvLyBodHRwczovL3RvZGRtb3R0by5jb20vYS1jb21wcmVoZW5zaXZlLWRpdmUtaW50by1ub2RlbGlzdHMtYXJyYXlzLWNvbnZlcnRpbmctbm9kZWxpc3RzLWFuZC11bmRlcnN0YW5kaW5nLXRoZS1kb20vXHJcbiAgICAgICAgcmV0dXJuIFtdLnNsaWNlLmNhbGwoY2hpbGRFbGVtZW50cyk7XHJcbiAgICB9O1xyXG4gICAgRE9NLnByb3RvdHlwZS5maW5kQ2hpbGRFbGVtZW50cyA9IGZ1bmN0aW9uIChzZWxlY3Rvcikge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdmFyIGFsbENoaWxkRWxlbWVudHMgPSBbXTtcclxuICAgICAgICBpZiAodGhpcy5lbGVtZW50cykge1xyXG4gICAgICAgICAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHtcclxuICAgICAgICAgICAgICAgIGFsbENoaWxkRWxlbWVudHMgPSBhbGxDaGlsZEVsZW1lbnRzLmNvbmNhdChfdGhpcy5maW5kQ2hpbGRFbGVtZW50c09mRWxlbWVudChlbGVtZW50LCBzZWxlY3RvcikpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZpbmRDaGlsZEVsZW1lbnRzT2ZFbGVtZW50KGRvY3VtZW50LCBzZWxlY3Rvcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBhbGxDaGlsZEVsZW1lbnRzO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogRmluZHMgYWxsIGNoaWxkIGVsZW1lbnRzIG9mIGFsbCBlbGVtZW50cyBtYXRjaGluZyB0aGUgc3VwcGxpZWQgc2VsZWN0b3IuXHJcbiAgICAgKiBAcGFyYW0gc2VsZWN0b3IgdGhlIHNlbGVjdG9yIHRvIG1hdGNoIHdpdGggY2hpbGQgZWxlbWVudHNcclxuICAgICAqIEByZXR1cm5zIHtET019IGEgbmV3IERPTSBpbnN0YW5jZSByZXByZXNlbnRpbmcgYWxsIG1hdGNoZWQgY2hpbGRyZW5cclxuICAgICAqL1xyXG4gICAgRE9NLnByb3RvdHlwZS5maW5kID0gZnVuY3Rpb24gKHNlbGVjdG9yKSB7XHJcbiAgICAgICAgdmFyIGFsbENoaWxkRWxlbWVudHMgPSB0aGlzLmZpbmRDaGlsZEVsZW1lbnRzKHNlbGVjdG9yKTtcclxuICAgICAgICByZXR1cm4gbmV3IERPTShhbGxDaGlsZEVsZW1lbnRzKTtcclxuICAgIH07XHJcbiAgICBET00ucHJvdG90eXBlLmh0bWwgPSBmdW5jdGlvbiAoY29udGVudCkge1xyXG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zZXRIdG1sKGNvbnRlbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0SHRtbCgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBET00ucHJvdG90eXBlLmdldEh0bWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudHNbMF0uaW5uZXJIVE1MO1xyXG4gICAgfTtcclxuICAgIERPTS5wcm90b3R5cGUuc2V0SHRtbCA9IGZ1bmN0aW9uIChjb250ZW50KSB7XHJcbiAgICAgICAgaWYgKGNvbnRlbnQgPT09IHVuZGVmaW5lZCB8fCBjb250ZW50ID09IG51bGwpIHtcclxuICAgICAgICAgICAgLy8gU2V0IHRvIGVtcHR5IHN0cmluZyB0byBhdm9pZCBpbm5lckhUTUwgZ2V0dGluZyBzZXQgdG8gJ3VuZGVmaW5lZCcgKGFsbCBicm93c2Vycykgb3IgJ251bGwnIChJRTkpXHJcbiAgICAgICAgICAgIGNvbnRlbnQgPSAnJztcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7XHJcbiAgICAgICAgICAgIGVsZW1lbnQuaW5uZXJIVE1MID0gY29udGVudDtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIENsZWFycyB0aGUgaW5uZXIgSFRNTCBvZiBhbGwgZWxlbWVudHMgKGRlbGV0ZXMgYWxsIGNoaWxkcmVuKS5cclxuICAgICAqIEByZXR1cm5zIHtET019XHJcbiAgICAgKi9cclxuICAgIERPTS5wcm90b3R5cGUuZW1wdHkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7XHJcbiAgICAgICAgICAgIGVsZW1lbnQuaW5uZXJIVE1MID0gJyc7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRoZSBjdXJyZW50IHZhbHVlIG9mIHRoZSBmaXJzdCBmb3JtIGVsZW1lbnQsIGUuZy4gdGhlIHNlbGVjdGVkIHZhbHVlIG9mIGEgc2VsZWN0IGJveCBvciB0aGUgdGV4dCBpZiBhblxyXG4gICAgICogaW5wdXQgZmllbGQuXHJcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSB0aGUgdmFsdWUgb2YgYSBmb3JtIGVsZW1lbnRcclxuICAgICAqL1xyXG4gICAgRE9NLnByb3RvdHlwZS52YWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGVsZW1lbnQgPSB0aGlzLmVsZW1lbnRzWzBdO1xyXG4gICAgICAgIGlmIChlbGVtZW50IGluc3RhbmNlb2YgSFRNTFNlbGVjdEVsZW1lbnQgfHwgZWxlbWVudCBpbnN0YW5jZW9mIEhUTUxJbnB1dEVsZW1lbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQudmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBUT0RPIGFkZCBzdXBwb3J0IGZvciBtaXNzaW5nIGZvcm0gZWxlbWVudHNcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwidmFsKCkgbm90IHN1cHBvcnRlZCBmb3IgXCIgKyB0eXBlb2YgZWxlbWVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIERPTS5wcm90b3R5cGUuYXR0ciA9IGZ1bmN0aW9uIChhdHRyaWJ1dGUsIHZhbHVlKSB7XHJcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNldEF0dHIoYXR0cmlidXRlLCB2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRBdHRyKGF0dHJpYnV0ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIERPTS5wcm90b3R5cGUuZ2V0QXR0ciA9IGZ1bmN0aW9uIChhdHRyaWJ1dGUpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50c1swXS5nZXRBdHRyaWJ1dGUoYXR0cmlidXRlKTtcclxuICAgIH07XHJcbiAgICBET00ucHJvdG90eXBlLnNldEF0dHIgPSBmdW5jdGlvbiAoYXR0cmlidXRlLCB2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkge1xyXG4gICAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShhdHRyaWJ1dGUsIHZhbHVlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICBET00ucHJvdG90eXBlLmRhdGEgPSBmdW5jdGlvbiAoZGF0YUF0dHJpYnV0ZSwgdmFsdWUpIHtcclxuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2V0RGF0YShkYXRhQXR0cmlidXRlLCB2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXREYXRhKGRhdGFBdHRyaWJ1dGUpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBET00ucHJvdG90eXBlLmdldERhdGEgPSBmdW5jdGlvbiAoZGF0YUF0dHJpYnV0ZSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnRzWzBdLmdldEF0dHJpYnV0ZSgnZGF0YS0nICsgZGF0YUF0dHJpYnV0ZSk7XHJcbiAgICB9O1xyXG4gICAgRE9NLnByb3RvdHlwZS5zZXREYXRhID0gZnVuY3Rpb24gKGRhdGFBdHRyaWJ1dGUsIHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7XHJcbiAgICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdkYXRhLScgKyBkYXRhQXR0cmlidXRlLCB2YWx1ZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBBcHBlbmRzIG9uZSBvciBtb3JlIERPTSBlbGVtZW50cyBhcyBjaGlsZHJlbiB0byBhbGwgZWxlbWVudHMuXHJcbiAgICAgKiBAcGFyYW0gY2hpbGRFbGVtZW50cyB0aGUgY2hyaWxkIGVsZW1lbnRzIHRvIGFwcGVuZFxyXG4gICAgICogQHJldHVybnMge0RPTX1cclxuICAgICAqL1xyXG4gICAgRE9NLnByb3RvdHlwZS5hcHBlbmQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGNoaWxkRWxlbWVudHMgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICBjaGlsZEVsZW1lbnRzW19pXSA9IGFyZ3VtZW50c1tfaV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkge1xyXG4gICAgICAgICAgICBjaGlsZEVsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKGNoaWxkRWxlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgY2hpbGRFbGVtZW50LmVsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKF8sIGluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5hcHBlbmRDaGlsZChjaGlsZEVsZW1lbnQuZWxlbWVudHNbaW5kZXhdKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZXMgYWxsIGVsZW1lbnRzIGZyb20gdGhlIERPTS5cclxuICAgICAqL1xyXG4gICAgRE9NLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7XHJcbiAgICAgICAgICAgIHZhciBwYXJlbnQgPSBlbGVtZW50LnBhcmVudE5vZGU7XHJcbiAgICAgICAgICAgIGlmIChwYXJlbnQpIHtcclxuICAgICAgICAgICAgICAgIHBhcmVudC5yZW1vdmVDaGlsZChlbGVtZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0aGUgb2Zmc2V0IG9mIHRoZSBmaXJzdCBlbGVtZW50IGZyb20gdGhlIGRvY3VtZW50J3MgdG9wIGxlZnQgY29ybmVyLlxyXG4gICAgICogQHJldHVybnMge09mZnNldH1cclxuICAgICAqL1xyXG4gICAgRE9NLnByb3RvdHlwZS5vZmZzZXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGVsZW1lbnQgPSB0aGlzLmVsZW1lbnRzWzBdO1xyXG4gICAgICAgIHZhciBlbGVtZW50UmVjdCA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgdmFyIGh0bWxSZWN0ID0gZG9jdW1lbnQuYm9keS5wYXJlbnRFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgIC8vIFZpcnR1YWwgdmlld3BvcnQgc2Nyb2xsIGhhbmRsaW5nIChlLmcuIHBpbmNoIHpvb21lZCB2aWV3cG9ydHMgaW4gbW9iaWxlIGJyb3dzZXJzIG9yIGRlc2t0b3AgQ2hyb21lL0VkZ2UpXHJcbiAgICAgICAgLy8gJ25vcm1hbCcgem9vbXMgYW5kIHZpcnR1YWwgdmlld3BvcnQgem9vbXMgKGFrYSBsYXlvdXQgdmlld3BvcnQpIHJlc3VsdCBpbiBkaWZmZXJlbnRcclxuICAgICAgICAvLyBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpIHJlc3VsdHM6XHJcbiAgICAgICAgLy8gIC0gd2l0aCBub3JtYWwgc2Nyb2xscywgdGhlIGNsaWVudFJlY3QgZGVjcmVhc2VzIHdpdGggYW4gaW5jcmVhc2UgaW4gc2Nyb2xsKFRvcHxMZWZ0KS9wYWdlKFh8WSlPZmZzZXRcclxuICAgICAgICAvLyAgLSB3aXRoIHBpbmNoIHpvb20gc2Nyb2xscywgdGhlIGNsaWVudFJlY3Qgc3RheXMgdGhlIHNhbWUgd2hpbGUgc2Nyb2xsL3BhZ2VPZmZzZXQgY2hhbmdlc1xyXG4gICAgICAgIC8vIFRoaXMgbWVhbnMsIHRoYXQgdGhlIGNvbWJpbmF0aW9uIG9mIGNsaWVudFJlY3QgKyBzY3JvbGwvcGFnZU9mZnNldCBkb2VzIG5vdCB3b3JrIHRvIGNhbGN1bGF0ZSB0aGUgb2Zmc2V0XHJcbiAgICAgICAgLy8gZnJvbSB0aGUgZG9jdW1lbnQncyB1cHBlciBsZWZ0IG9yaWdpbiB3aGVuIHBpbmNoIHpvb20gaXMgdXNlZC5cclxuICAgICAgICAvLyBUbyB3b3JrIGFyb3VuZCB0aGlzIGlzc3VlLCB3ZSBkbyBub3QgdXNlIHNjcm9sbC9wYWdlT2Zmc2V0IGJ1dCBnZXQgdGhlIGNsaWVudFJlY3Qgb2YgdGhlIGh0bWwgZWxlbWVudCBhbmRcclxuICAgICAgICAvLyBzdWJ0cmFjdCBpdCBmcm9tIHRoZSBlbGVtZW50J3MgcmVjdCwgd2hpY2ggYWx3YXlzIHJlc3VsdHMgaW4gdGhlIG9mZnNldCBmcm9tIHRoZSBkb2N1bWVudCBvcmlnaW4uXHJcbiAgICAgICAgLy8gTk9URTogdGhlIGN1cnJlbnQgd2F5IG9mIG9mZnNldCBjYWxjdWxhdGlvbiB3YXMgaW1wbGVtZW50ZWQgc3BlY2lmaWNhbGx5IHRvIHRyYWNrIGV2ZW50IHBvc2l0aW9ucyBvbiB0aGVcclxuICAgICAgICAvLyBzZWVrIGJhciwgYW5kIGl0IG1pZ2h0IGJyZWFrIGNvbXBhdGliaWxpdHkgd2l0aCBqUXVlcnkncyBvZmZzZXQoKSBtZXRob2QuIElmIHRoaXMgZXZlciB0dXJucyBvdXQgdG8gYmUgYVxyXG4gICAgICAgIC8vIHByb2JsZW0sIHRoaXMgbWV0aG9kIHNob3VsZCBiZSByZXZlcnRlZCB0byB0aGUgb2xkIHZlcnNpb24gYW5kIHRoZSBvZmZzZXQgY2FsY3VsYXRpb24gbW92ZWQgdG8gdGhlIHNlZWsgYmFyLlxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHRvcDogZWxlbWVudFJlY3QudG9wIC0gaHRtbFJlY3QudG9wLFxyXG4gICAgICAgICAgICBsZWZ0OiBlbGVtZW50UmVjdC5sZWZ0IC0gaHRtbFJlY3QubGVmdFxyXG4gICAgICAgIH07XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRoZSB3aWR0aCBvZiB0aGUgZmlyc3QgZWxlbWVudC5cclxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IHRoZSB3aWR0aCBvZiB0aGUgZmlyc3QgZWxlbWVudFxyXG4gICAgICovXHJcbiAgICBET00ucHJvdG90eXBlLndpZHRoID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vIFRPRE8gY2hlY2sgaWYgdGhpcyBpcyB0aGUgc2FtZSBhcyBqUXVlcnkncyB3aWR0aCgpIChwcm9iYWJseSBub3QpXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudHNbMF0ub2Zmc2V0V2lkdGg7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRoZSBoZWlnaHQgb2YgdGhlIGZpcnN0IGVsZW1lbnQuXHJcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSB0aGUgaGVpZ2h0IG9mIHRoZSBmaXJzdCBlbGVtZW50XHJcbiAgICAgKi9cclxuICAgIERPTS5wcm90b3R5cGUuaGVpZ2h0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vIFRPRE8gY2hlY2sgaWYgdGhpcyBpcyB0aGUgc2FtZSBhcyBqUXVlcnkncyBoZWlnaHQoKSAocHJvYmFibHkgbm90KVxyXG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnRzWzBdLm9mZnNldEhlaWdodDtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEF0dGFjaGVzIGFuIGV2ZW50IGhhbmRsZXIgdG8gb25lIG9yIG1vcmUgZXZlbnRzIG9uIGFsbCBlbGVtZW50cy5cclxuICAgICAqIEBwYXJhbSBldmVudE5hbWUgdGhlIGV2ZW50IG5hbWUgKG9yIG11bHRpcGxlIG5hbWVzIHNlcGFyYXRlZCBieSBzcGFjZSkgdG8gbGlzdGVuIHRvXHJcbiAgICAgKiBAcGFyYW0gZXZlbnRIYW5kbGVyIHRoZSBldmVudCBoYW5kbGVyIHRvIGNhbGwgd2hlbiB0aGUgZXZlbnQgZmlyZXNcclxuICAgICAqIEByZXR1cm5zIHtET019XHJcbiAgICAgKi9cclxuICAgIERPTS5wcm90b3R5cGUub24gPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBldmVudEhhbmRsZXIpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHZhciBldmVudHMgPSBldmVudE5hbWUuc3BsaXQoJyAnKTtcclxuICAgICAgICBldmVudHMuZm9yRWFjaChmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgaWYgKF90aGlzLmVsZW1lbnRzID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIGV2ZW50SGFuZGxlcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBldmVudEhhbmRsZXIpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZXMgYW4gZXZlbnQgaGFuZGxlciBmcm9tIG9uZSBvciBtb3JlIGV2ZW50cyBvbiBhbGwgZWxlbWVudHMuXHJcbiAgICAgKiBAcGFyYW0gZXZlbnROYW1lIHRoZSBldmVudCBuYW1lIChvciBtdWx0aXBsZSBuYW1lcyBzZXBhcmF0ZWQgYnkgc3BhY2UpIHRvIHJlbW92ZSB0aGUgaGFuZGxlciBmcm9tXHJcbiAgICAgKiBAcGFyYW0gZXZlbnRIYW5kbGVyIHRoZSBldmVudCBoYW5kbGVyIHRvIHJlbW92ZVxyXG4gICAgICogQHJldHVybnMge0RPTX1cclxuICAgICAqL1xyXG4gICAgRE9NLnByb3RvdHlwZS5vZmYgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBldmVudEhhbmRsZXIpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHZhciBldmVudHMgPSBldmVudE5hbWUuc3BsaXQoJyAnKTtcclxuICAgICAgICBldmVudHMuZm9yRWFjaChmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgaWYgKF90aGlzLmVsZW1lbnRzID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIGV2ZW50SGFuZGxlcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCBldmVudEhhbmRsZXIpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEFkZHMgdGhlIHNwZWNpZmllZCBjbGFzcyhlcykgdG8gYWxsIGVsZW1lbnRzLlxyXG4gICAgICogQHBhcmFtIGNsYXNzTmFtZSB0aGUgY2xhc3MoZXMpIHRvIGFkZCwgbXVsdGlwbGUgY2xhc3NlcyBzZXBhcmF0ZWQgYnkgc3BhY2VcclxuICAgICAqIEByZXR1cm5zIHtET019XHJcbiAgICAgKi9cclxuICAgIERPTS5wcm90b3R5cGUuYWRkQ2xhc3MgPSBmdW5jdGlvbiAoY2xhc3NOYW1lKSB7XHJcbiAgICAgICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7XHJcbiAgICAgICAgICAgIGlmIChlbGVtZW50LmNsYXNzTGlzdCkge1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKGNsYXNzTmFtZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LmNsYXNzTmFtZSArPSAnICcgKyBjbGFzc05hbWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZWQgdGhlIHNwZWNpZmllZCBjbGFzcyhlcykgZnJvbSBhbGwgZWxlbWVudHMuXHJcbiAgICAgKiBAcGFyYW0gY2xhc3NOYW1lIHRoZSBjbGFzcyhlcykgdG8gcmVtb3ZlLCBtdWx0aXBsZSBjbGFzc2VzIHNlcGFyYXRlZCBieSBzcGFjZVxyXG4gICAgICogQHJldHVybnMge0RPTX1cclxuICAgICAqL1xyXG4gICAgRE9NLnByb3RvdHlwZS5yZW1vdmVDbGFzcyA9IGZ1bmN0aW9uIChjbGFzc05hbWUpIHtcclxuICAgICAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHtcclxuICAgICAgICAgICAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0KSB7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoY2xhc3NOYW1lKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NOYW1lID0gZWxlbWVudC5jbGFzc05hbWUucmVwbGFjZShuZXcgUmVnRXhwKCcoXnxcXFxcYiknICsgY2xhc3NOYW1lLnNwbGl0KCcgJykuam9pbignfCcpICsgJyhcXFxcYnwkKScsICdnaScpLCAnICcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVja3MgaWYgYW55IG9mIHRoZSBlbGVtZW50cyBoYXMgdGhlIHNwZWNpZmllZCBjbGFzcy5cclxuICAgICAqIEBwYXJhbSBjbGFzc05hbWUgdGhlIGNsYXNzIG5hbWUgdG8gY2hlY2tcclxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlmIG9uZSBvZiB0aGUgZWxlbWVudHMgaGFzIHRoZSBjbGFzcyBhdHRhY2hlZCwgZWxzZSBpZiBubyBlbGVtZW50IGhhcyBpdCBhdHRhY2hlZFxyXG4gICAgICovXHJcbiAgICBET00ucHJvdG90eXBlLmhhc0NsYXNzID0gZnVuY3Rpb24gKGNsYXNzTmFtZSkge1xyXG4gICAgICAgIHZhciBoYXNDbGFzcyA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkge1xyXG4gICAgICAgICAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QpIHtcclxuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhjbGFzc05hbWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gU2luY2Ugd2UgYXJlIGluc2lkZSBhIGhhbmRsZXIsIHdlIGNhbid0IGp1c3QgJ3JldHVybiB0cnVlJy4gSW5zdGVhZCwgd2Ugc2F2ZSBpdCB0byBhIHZhcmlhYmxlXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYW5kIHJldHVybiBpdCBhdCB0aGUgZW5kIG9mIHRoZSBmdW5jdGlvbiBib2R5LlxyXG4gICAgICAgICAgICAgICAgICAgIGhhc0NsYXNzID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmIChuZXcgUmVnRXhwKCcoXnwgKScgKyBjbGFzc05hbWUgKyAnKCB8JCknLCAnZ2knKS50ZXN0KGVsZW1lbnQuY2xhc3NOYW1lKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFNlZSBjb21tZW50IGFib3ZlXHJcbiAgICAgICAgICAgICAgICAgICAgaGFzQ2xhc3MgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIGhhc0NsYXNzO1xyXG4gICAgfTtcclxuICAgIERPTS5wcm90b3R5cGUuY3NzID0gZnVuY3Rpb24gKHByb3BlcnR5TmFtZU9yQ29sbGVjdGlvbiwgdmFsdWUpIHtcclxuICAgICAgICBpZiAodHlwZW9mIHByb3BlcnR5TmFtZU9yQ29sbGVjdGlvbiA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgdmFyIHByb3BlcnR5TmFtZSA9IHByb3BlcnR5TmFtZU9yQ29sbGVjdGlvbjtcclxuICAgICAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNldENzcyhwcm9wZXJ0eU5hbWUsIHZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldENzcyhwcm9wZXJ0eU5hbWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB2YXIgcHJvcGVydHlWYWx1ZUNvbGxlY3Rpb24gPSBwcm9wZXJ0eU5hbWVPckNvbGxlY3Rpb247XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNldENzc0NvbGxlY3Rpb24ocHJvcGVydHlWYWx1ZUNvbGxlY3Rpb24pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBET00ucHJvdG90eXBlLmdldENzcyA9IGZ1bmN0aW9uIChwcm9wZXJ0eU5hbWUpIHtcclxuICAgICAgICByZXR1cm4gZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLmVsZW1lbnRzWzBdKVtwcm9wZXJ0eU5hbWVdO1xyXG4gICAgfTtcclxuICAgIERPTS5wcm90b3R5cGUuc2V0Q3NzID0gZnVuY3Rpb24gKHByb3BlcnR5TmFtZSwgdmFsdWUpIHtcclxuICAgICAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHtcclxuICAgICAgICAgICAgLy8gPGFueT4gY2FzdCB0byByZXNvbHZlIFRTNzAxNTogaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMzY2MjcxMTQvMzcwMjUyXHJcbiAgICAgICAgICAgIGVsZW1lbnQuc3R5bGVbcHJvcGVydHlOYW1lXSA9IHZhbHVlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgIERPTS5wcm90b3R5cGUuc2V0Q3NzQ29sbGVjdGlvbiA9IGZ1bmN0aW9uIChydWxlVmFsdWVDb2xsZWN0aW9uKSB7XHJcbiAgICAgICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7XHJcbiAgICAgICAgICAgIC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzM0NDkwNTczLzM3MDI1MlxyXG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKGVsZW1lbnQuc3R5bGUsIHJ1bGVWYWx1ZUNvbGxlY3Rpb24pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBET007XHJcbn0oKSk7XHJcbmV4cG9ydHMuRE9NID0gRE9NO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL2RvbS50c1xuLy8gbW9kdWxlIGlkID0gMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgZXZlbnRkaXNwYXRjaGVyXzEgPSByZXF1aXJlKFwiLi9ldmVudGRpc3BhdGNoZXJcIik7XHJcbnZhciBjb250YWluZXJfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvY29udGFpbmVyXCIpO1xyXG52YXIgQXJyYXlVdGlscztcclxuKGZ1bmN0aW9uIChBcnJheVV0aWxzKSB7XHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZXMgYW4gaXRlbSBmcm9tIGFuIGFycmF5LlxyXG4gICAgICogQHBhcmFtIGFycmF5IHRoZSBhcnJheSB0aGF0IG1heSBjb250YWluIHRoZSBpdGVtIHRvIHJlbW92ZVxyXG4gICAgICogQHBhcmFtIGl0ZW0gdGhlIGl0ZW0gdG8gcmVtb3ZlIGZyb20gdGhlIGFycmF5XHJcbiAgICAgKiBAcmV0dXJucyB7YW55fSB0aGUgcmVtb3ZlZCBpdGVtIG9yIG51bGwgaWYgaXQgd2Fzbid0IHBhcnQgb2YgdGhlIGFycmF5XHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIHJlbW92ZShhcnJheSwgaXRlbSkge1xyXG4gICAgICAgIHZhciBpbmRleCA9IGFycmF5LmluZGV4T2YoaXRlbSk7XHJcbiAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGFycmF5LnNwbGljZShpbmRleCwgMSlbMF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBBcnJheVV0aWxzLnJlbW92ZSA9IHJlbW92ZTtcclxufSkoQXJyYXlVdGlscyA9IGV4cG9ydHMuQXJyYXlVdGlscyB8fCAoZXhwb3J0cy5BcnJheVV0aWxzID0ge30pKTtcclxudmFyIFN0cmluZ1V0aWxzO1xyXG4oZnVuY3Rpb24gKFN0cmluZ1V0aWxzKSB7XHJcbiAgICBTdHJpbmdVdGlscy5GT1JNQVRfSEhNTVNTID0gJ2hoOm1tOnNzJztcclxuICAgIFN0cmluZ1V0aWxzLkZPUk1BVF9NTVNTID0gJ21tOnNzJztcclxuICAgIC8qKlxyXG4gICAgICogRm9ybWF0cyBhIG51bWJlciBvZiBzZWNvbmRzIGludG8gYSB0aW1lIHN0cmluZyB3aXRoIHRoZSBwYXR0ZXJuIGhoOm1tOnNzLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB0b3RhbFNlY29uZHMgdGhlIHRvdGFsIG51bWJlciBvZiBzZWNvbmRzIHRvIGZvcm1hdCB0byBzdHJpbmdcclxuICAgICAqIEBwYXJhbSBmb3JtYXQgdGhlIHRpbWUgZm9ybWF0IHRvIG91dHB1dCAoZGVmYXVsdDogaGg6bW06c3MpXHJcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSB0aGUgZm9ybWF0dGVkIHRpbWUgc3RyaW5nXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIHNlY29uZHNUb1RpbWUodG90YWxTZWNvbmRzLCBmb3JtYXQpIHtcclxuICAgICAgICBpZiAoZm9ybWF0ID09PSB2b2lkIDApIHsgZm9ybWF0ID0gU3RyaW5nVXRpbHMuRk9STUFUX0hITU1TUzsgfVxyXG4gICAgICAgIHZhciBpc05lZ2F0aXZlID0gdG90YWxTZWNvbmRzIDwgMDtcclxuICAgICAgICBpZiAoaXNOZWdhdGl2ZSkge1xyXG4gICAgICAgICAgICAvLyBJZiB0aGUgdGltZSBpcyBuZWdhdGl2ZSwgd2UgbWFrZSBpdCBwb3NpdGl2ZSBmb3IgdGhlIGNhbGN1bGF0aW9uIGJlbG93XHJcbiAgICAgICAgICAgIC8vIChlbHNlIHdlJ2QgZ2V0IGFsbCBuZWdhdGl2ZSBudW1iZXJzKSBhbmQgcmVhdHRhY2ggdGhlIG5lZ2F0aXZlIHNpZ24gbGF0ZXIuXHJcbiAgICAgICAgICAgIHRvdGFsU2Vjb25kcyA9IC10b3RhbFNlY29uZHM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFNwbGl0IGludG8gc2VwYXJhdGUgdGltZSBwYXJ0c1xyXG4gICAgICAgIHZhciBob3VycyA9IE1hdGguZmxvb3IodG90YWxTZWNvbmRzIC8gMzYwMCk7XHJcbiAgICAgICAgdmFyIG1pbnV0ZXMgPSBNYXRoLmZsb29yKHRvdGFsU2Vjb25kcyAvIDYwKSAtIGhvdXJzICogNjA7XHJcbiAgICAgICAgdmFyIHNlY29uZHMgPSBNYXRoLmZsb29yKHRvdGFsU2Vjb25kcykgJSA2MDtcclxuICAgICAgICByZXR1cm4gKGlzTmVnYXRpdmUgPyAnLScgOiAnJykgKyBmb3JtYXRcclxuICAgICAgICAgICAgLnJlcGxhY2UoJ2hoJywgbGVmdFBhZFdpdGhaZXJvcyhob3VycywgMikpXHJcbiAgICAgICAgICAgIC5yZXBsYWNlKCdtbScsIGxlZnRQYWRXaXRoWmVyb3MobWludXRlcywgMikpXHJcbiAgICAgICAgICAgIC5yZXBsYWNlKCdzcycsIGxlZnRQYWRXaXRoWmVyb3Moc2Vjb25kcywgMikpO1xyXG4gICAgfVxyXG4gICAgU3RyaW5nVXRpbHMuc2Vjb25kc1RvVGltZSA9IHNlY29uZHNUb1RpbWU7XHJcbiAgICAvKipcclxuICAgICAqIENvbnZlcnRzIGEgbnVtYmVyIHRvIGEgc3RyaW5nIGFuZCBsZWZ0LXBhZHMgaXQgd2l0aCB6ZXJvcyB0byB0aGUgc3BlY2lmaWVkIGxlbmd0aC5cclxuICAgICAqIEV4YW1wbGU6IGxlZnRQYWRXaXRoWmVyb3MoMTIzLCA1KSA9PiAnMDAxMjMnXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG51bSB0aGUgbnVtYmVyIHRvIGNvbnZlcnQgdG8gc3RyaW5nIGFuZCBwYWQgd2l0aCB6ZXJvc1xyXG4gICAgICogQHBhcmFtIGxlbmd0aCB0aGUgZGVzaXJlZCBsZW5ndGggb2YgdGhlIHBhZGRlZCBzdHJpbmdcclxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IHRoZSBwYWRkZWQgbnVtYmVyIGFzIHN0cmluZ1xyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBsZWZ0UGFkV2l0aFplcm9zKG51bSwgbGVuZ3RoKSB7XHJcbiAgICAgICAgdmFyIHRleHQgPSBudW0gKyAnJztcclxuICAgICAgICB2YXIgcGFkZGluZyA9ICcwMDAwMDAwMDAwJy5zdWJzdHIoMCwgbGVuZ3RoIC0gdGV4dC5sZW5ndGgpO1xyXG4gICAgICAgIHJldHVybiBwYWRkaW5nICsgdGV4dDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogRmlsbHMgb3V0IHBsYWNlaG9sZGVycyBpbiBhbiBhZCBtZXNzYWdlLlxyXG4gICAgICpcclxuICAgICAqIEhhcyB0aGUgcGxhY2Vob2xkZXJzICd7cmVtYWluaW5nVGltZVtmb3JtYXRTdHJpbmddfScsICd7cGxheWVkVGltZVtmb3JtYXRTdHJpbmddfScgYW5kXHJcbiAgICAgKiAne2FkRHVyYXRpb25bZm9ybWF0U3RyaW5nXX0nLCB3aGljaCBhcmUgcmVwbGFjZWQgYnkgdGhlIHJlbWFpbmluZyB0aW1lIHVudGlsIHRoZSBhZCBjYW4gYmUgc2tpcHBlZCwgdGhlIGN1cnJlbnRcclxuICAgICAqIHRpbWUgb3IgdGhlIGFkIGR1cmF0aW9uLiBUaGUgZm9ybWF0IHN0cmluZyBpcyBvcHRpb25hbC4gSWYgbm90IHNwZWNpZmllZCwgdGhlIHBsYWNlaG9sZGVyIGlzIHJlcGxhY2VkIGJ5IHRoZSB0aW1lXHJcbiAgICAgKiBpbiBzZWNvbmRzLiBJZiBzcGVjaWZpZWQsIGl0IG11c3QgYmUgb2YgdGhlIGZvbGxvd2luZyBmb3JtYXQ6XHJcbiAgICAgKiAtICVkIC0gSW5zZXJ0cyB0aGUgdGltZSBhcyBhbiBpbnRlZ2VyLlxyXG4gICAgICogLSAlME5kIC0gSW5zZXJ0cyB0aGUgdGltZSBhcyBhbiBpbnRlZ2VyIHdpdGggbGVhZGluZyB6ZXJvZXMsIGlmIHRoZSBsZW5ndGggb2YgdGhlIHRpbWUgc3RyaW5nIGlzIHNtYWxsZXIgdGhhbiBOLlxyXG4gICAgICogLSAlZiAtIEluc2VydHMgdGhlIHRpbWUgYXMgYSBmbG9hdC5cclxuICAgICAqIC0gJTBOZiAtIEluc2VydHMgdGhlIHRpbWUgYXMgYSBmbG9hdCB3aXRoIGxlYWRpbmcgemVyb2VzLlxyXG4gICAgICogLSAlLk1mIC0gSW5zZXJ0cyB0aGUgdGltZSBhcyBhIGZsb2F0IHdpdGggTSBkZWNpbWFsIHBsYWNlcy4gQ2FuIGJlIGNvbWJpbmVkIHdpdGggJTBOZiwgZS5nLiAlMDQuMmYgKHRoZSB0aW1lXHJcbiAgICAgKiAxMC4xMjNcclxuICAgICAqIHdvdWxkIGJlIHByaW50ZWQgYXMgMDAxMC4xMikuXHJcbiAgICAgKiAtICVoaDptbTpzc1xyXG4gICAgICogLSAlbW06c3NcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gYWRNZXNzYWdlIGFuIGFkIG1lc3NhZ2Ugd2l0aCBvcHRpb25hbCBwbGFjZWhvbGRlcnMgdG8gZmlsbFxyXG4gICAgICogQHBhcmFtIHNraXBPZmZzZXQgaWYgc3BlY2lmaWVkLCB7cmVtYWluaW5nVGltZX0gd2lsbCBiZSBmaWxsZWQgd2l0aCB0aGUgcmVtYWluaW5nIHRpbWUgdW50aWwgdGhlIGFkIGNhbiBiZSBza2lwcGVkXHJcbiAgICAgKiBAcGFyYW0gcGxheWVyIHRoZSBwbGF5ZXIgdG8gZ2V0IHRoZSB0aW1lIGRhdGEgZnJvbVxyXG4gICAgICogQHJldHVybnMge3N0cmluZ30gdGhlIGFkIG1lc3NhZ2Ugd2l0aCBmaWxsZWQgcGxhY2Vob2xkZXJzXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIHJlcGxhY2VBZE1lc3NhZ2VQbGFjZWhvbGRlcnMoYWRNZXNzYWdlLCBza2lwT2Zmc2V0LCBwbGF5ZXIpIHtcclxuICAgICAgICB2YXIgYWRNZXNzYWdlUGxhY2Vob2xkZXJSZWdleCA9IG5ldyBSZWdFeHAoJ1xcXFx7KHJlbWFpbmluZ1RpbWV8cGxheWVkVGltZXxhZER1cmF0aW9uKSh9fCUoKDBbMS05XVxcXFxkKihcXFxcLlxcXFxkKyhkfGYpfGR8Zil8XFxcXC5cXFxcZCtmfGR8Zil8aGg6bW06c3N8bW06c3MpfSknLCAnZycpO1xyXG4gICAgICAgIHJldHVybiBhZE1lc3NhZ2UucmVwbGFjZShhZE1lc3NhZ2VQbGFjZWhvbGRlclJlZ2V4LCBmdW5jdGlvbiAoZm9ybWF0U3RyaW5nKSB7XHJcbiAgICAgICAgICAgIHZhciB0aW1lID0gMDtcclxuICAgICAgICAgICAgaWYgKGZvcm1hdFN0cmluZy5pbmRleE9mKCdyZW1haW5pbmdUaW1lJykgPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHNraXBPZmZzZXQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aW1lID0gTWF0aC5jZWlsKHNraXBPZmZzZXQgLSBwbGF5ZXIuZ2V0Q3VycmVudFRpbWUoKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aW1lID0gcGxheWVyLmdldER1cmF0aW9uKCkgLSBwbGF5ZXIuZ2V0Q3VycmVudFRpbWUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChmb3JtYXRTdHJpbmcuaW5kZXhPZigncGxheWVkVGltZScpID4gLTEpIHtcclxuICAgICAgICAgICAgICAgIHRpbWUgPSBwbGF5ZXIuZ2V0Q3VycmVudFRpbWUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChmb3JtYXRTdHJpbmcuaW5kZXhPZignYWREdXJhdGlvbicpID4gLTEpIHtcclxuICAgICAgICAgICAgICAgIHRpbWUgPSBwbGF5ZXIuZ2V0RHVyYXRpb24oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gZm9ybWF0TnVtYmVyKHRpbWUsIGZvcm1hdFN0cmluZyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBTdHJpbmdVdGlscy5yZXBsYWNlQWRNZXNzYWdlUGxhY2Vob2xkZXJzID0gcmVwbGFjZUFkTWVzc2FnZVBsYWNlaG9sZGVycztcclxuICAgIGZ1bmN0aW9uIGZvcm1hdE51bWJlcih0aW1lLCBmb3JtYXQpIHtcclxuICAgICAgICB2YXIgZm9ybWF0U3RyaW5nVmFsaWRhdGlvblJlZ2V4ID0gLyUoKDBbMS05XVxcZCooXFwuXFxkKyhkfGYpfGR8Zil8XFwuXFxkK2Z8ZHxmKXxoaDptbTpzc3xtbTpzcykvO1xyXG4gICAgICAgIHZhciBsZWFkaW5nWmVyb2VzUmVnZXggPSAvKCUwWzEtOV1cXGQqKSg/PShcXC5cXGQrZnxmfGQpKS87XHJcbiAgICAgICAgdmFyIGRlY2ltYWxQbGFjZXNSZWdleCA9IC9cXC5cXGQqKD89ZikvO1xyXG4gICAgICAgIGlmICghZm9ybWF0U3RyaW5nVmFsaWRhdGlvblJlZ2V4LnRlc3QoZm9ybWF0KSkge1xyXG4gICAgICAgICAgICAvLyBJZiB0aGUgZm9ybWF0IGlzIGludmFsaWQsIHdlIHNldCBhIGRlZmF1bHQgZmFsbGJhY2sgZm9ybWF0XHJcbiAgICAgICAgICAgIGZvcm1hdCA9ICclZCc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIERldGVybWluZSB0aGUgbnVtYmVyIG9mIGxlYWRpbmcgemVyb3NcclxuICAgICAgICB2YXIgbGVhZGluZ1plcm9lcyA9IDA7XHJcbiAgICAgICAgdmFyIGxlYWRpbmdaZXJvZXNNYXRjaGVzID0gZm9ybWF0Lm1hdGNoKGxlYWRpbmdaZXJvZXNSZWdleCk7XHJcbiAgICAgICAgaWYgKGxlYWRpbmdaZXJvZXNNYXRjaGVzKSB7XHJcbiAgICAgICAgICAgIGxlYWRpbmdaZXJvZXMgPSBwYXJzZUludChsZWFkaW5nWmVyb2VzTWF0Y2hlc1swXS5zdWJzdHJpbmcoMikpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBEZXRlcm1pbmUgdGhlIG51bWJlciBvZiBkZWNpbWFsIHBsYWNlc1xyXG4gICAgICAgIHZhciBudW1EZWNpbWFsUGxhY2VzID0gbnVsbDtcclxuICAgICAgICB2YXIgZGVjaW1hbFBsYWNlc01hdGNoZXMgPSBmb3JtYXQubWF0Y2goZGVjaW1hbFBsYWNlc1JlZ2V4KTtcclxuICAgICAgICBpZiAoZGVjaW1hbFBsYWNlc01hdGNoZXMgJiYgIWlzTmFOKHBhcnNlSW50KGRlY2ltYWxQbGFjZXNNYXRjaGVzWzBdLnN1YnN0cmluZygxKSkpKSB7XHJcbiAgICAgICAgICAgIG51bURlY2ltYWxQbGFjZXMgPSBwYXJzZUludChkZWNpbWFsUGxhY2VzTWF0Y2hlc1swXS5zdWJzdHJpbmcoMSkpO1xyXG4gICAgICAgICAgICBpZiAobnVtRGVjaW1hbFBsYWNlcyA+IDIwKSB7XHJcbiAgICAgICAgICAgICAgICBudW1EZWNpbWFsUGxhY2VzID0gMjA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gRmxvYXQgZm9ybWF0XHJcbiAgICAgICAgaWYgKGZvcm1hdC5pbmRleE9mKCdmJykgPiAtMSkge1xyXG4gICAgICAgICAgICB2YXIgdGltZVN0cmluZyA9ICcnO1xyXG4gICAgICAgICAgICBpZiAobnVtRGVjaW1hbFBsYWNlcyAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgLy8gQXBwbHkgZml4ZWQgbnVtYmVyIG9mIGRlY2ltYWwgcGxhY2VzXHJcbiAgICAgICAgICAgICAgICB0aW1lU3RyaW5nID0gdGltZS50b0ZpeGVkKG51bURlY2ltYWxQbGFjZXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGltZVN0cmluZyA9ICcnICsgdGltZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBBcHBseSBsZWFkaW5nIHplcm9zXHJcbiAgICAgICAgICAgIGlmICh0aW1lU3RyaW5nLmluZGV4T2YoJy4nKSA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbGVmdFBhZFdpdGhaZXJvcyh0aW1lU3RyaW5nLCB0aW1lU3RyaW5nLmxlbmd0aCArIChsZWFkaW5nWmVyb2VzIC0gdGltZVN0cmluZy5pbmRleE9mKCcuJykpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBsZWZ0UGFkV2l0aFplcm9zKHRpbWVTdHJpbmcsIGxlYWRpbmdaZXJvZXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGZvcm1hdC5pbmRleE9mKCc6JykgPiAtMSkge1xyXG4gICAgICAgICAgICB2YXIgdG90YWxTZWNvbmRzID0gTWF0aC5jZWlsKHRpbWUpO1xyXG4gICAgICAgICAgICAvLyBoaDptbTpzcyBmb3JtYXRcclxuICAgICAgICAgICAgaWYgKGZvcm1hdC5pbmRleE9mKCdoaCcpID4gLTEpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzZWNvbmRzVG9UaW1lKHRvdGFsU2Vjb25kcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbWludXRlcyA9IE1hdGguZmxvb3IodG90YWxTZWNvbmRzIC8gNjApO1xyXG4gICAgICAgICAgICAgICAgdmFyIHNlY29uZHMgPSB0b3RhbFNlY29uZHMgJSA2MDtcclxuICAgICAgICAgICAgICAgIHJldHVybiBsZWZ0UGFkV2l0aFplcm9zKG1pbnV0ZXMsIDIpICsgJzonICsgbGVmdFBhZFdpdGhaZXJvcyhzZWNvbmRzLCAyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIGxlZnRQYWRXaXRoWmVyb3MoTWF0aC5jZWlsKHRpbWUpLCBsZWFkaW5nWmVyb2VzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0pKFN0cmluZ1V0aWxzID0gZXhwb3J0cy5TdHJpbmdVdGlscyB8fCAoZXhwb3J0cy5TdHJpbmdVdGlscyA9IHt9KSk7XHJcbnZhciBQbGF5ZXJVdGlscztcclxuKGZ1bmN0aW9uIChQbGF5ZXJVdGlscykge1xyXG4gICAgdmFyIFBsYXllclN0YXRlO1xyXG4gICAgKGZ1bmN0aW9uIChQbGF5ZXJTdGF0ZSkge1xyXG4gICAgICAgIFBsYXllclN0YXRlW1BsYXllclN0YXRlW1wiSURMRVwiXSA9IDBdID0gXCJJRExFXCI7XHJcbiAgICAgICAgUGxheWVyU3RhdGVbUGxheWVyU3RhdGVbXCJQUkVQQVJFRFwiXSA9IDFdID0gXCJQUkVQQVJFRFwiO1xyXG4gICAgICAgIFBsYXllclN0YXRlW1BsYXllclN0YXRlW1wiUExBWUlOR1wiXSA9IDJdID0gXCJQTEFZSU5HXCI7XHJcbiAgICAgICAgUGxheWVyU3RhdGVbUGxheWVyU3RhdGVbXCJQQVVTRURcIl0gPSAzXSA9IFwiUEFVU0VEXCI7XHJcbiAgICAgICAgUGxheWVyU3RhdGVbUGxheWVyU3RhdGVbXCJGSU5JU0hFRFwiXSA9IDRdID0gXCJGSU5JU0hFRFwiO1xyXG4gICAgfSkoUGxheWVyU3RhdGUgPSBQbGF5ZXJVdGlscy5QbGF5ZXJTdGF0ZSB8fCAoUGxheWVyVXRpbHMuUGxheWVyU3RhdGUgPSB7fSkpO1xyXG4gICAgZnVuY3Rpb24gaXNTb3VyY2VMb2FkZWQocGxheWVyKSB7XHJcbiAgICAgICAgcmV0dXJuIHBsYXllci5nZXRDb25maWcoKS5zb3VyY2UgIT09IHVuZGVmaW5lZDtcclxuICAgIH1cclxuICAgIFBsYXllclV0aWxzLmlzU291cmNlTG9hZGVkID0gaXNTb3VyY2VMb2FkZWQ7XHJcbiAgICBmdW5jdGlvbiBpc1RpbWVTaGlmdEF2YWlsYWJsZShwbGF5ZXIpIHtcclxuICAgICAgICByZXR1cm4gcGxheWVyLmlzTGl2ZSgpICYmIHBsYXllci5nZXRNYXhUaW1lU2hpZnQoKSAhPT0gMDtcclxuICAgIH1cclxuICAgIFBsYXllclV0aWxzLmlzVGltZVNoaWZ0QXZhaWxhYmxlID0gaXNUaW1lU2hpZnRBdmFpbGFibGU7XHJcbiAgICBmdW5jdGlvbiBnZXRTdGF0ZShwbGF5ZXIpIHtcclxuICAgICAgICBpZiAocGxheWVyLmhhc0VuZGVkKCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFBsYXllclN0YXRlLkZJTklTSEVEO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChwbGF5ZXIuaXNQbGF5aW5nKCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFBsYXllclN0YXRlLlBMQVlJTkc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHBsYXllci5pc1BhdXNlZCgpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBQbGF5ZXJTdGF0ZS5QQVVTRUQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGlzU291cmNlTG9hZGVkKHBsYXllcikpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFBsYXllclN0YXRlLlBSRVBBUkVEO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIFBsYXllclN0YXRlLklETEU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgUGxheWVyVXRpbHMuZ2V0U3RhdGUgPSBnZXRTdGF0ZTtcclxuICAgIHZhciBUaW1lU2hpZnRBdmFpbGFiaWxpdHlEZXRlY3RvciA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gVGltZVNoaWZ0QXZhaWxhYmlsaXR5RGV0ZWN0b3IocGxheWVyKSB7XHJcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgICAgIHRoaXMudGltZVNoaWZ0QXZhaWxhYmlsaXR5Q2hhbmdlZEV2ZW50ID0gbmV3IGV2ZW50ZGlzcGF0Y2hlcl8xLkV2ZW50RGlzcGF0Y2hlcigpO1xyXG4gICAgICAgICAgICB0aGlzLnBsYXllciA9IHBsYXllcjtcclxuICAgICAgICAgICAgdGhpcy50aW1lU2hpZnRBdmFpbGFibGUgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIHZhciB0aW1lU2hpZnREZXRlY3RvciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLmRldGVjdCgpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvLyBUcnkgdG8gZGV0ZWN0IHRpbWVzaGlmdCBhdmFpbGFiaWxpdHkgaW4gT05fUkVBRFksIHdoaWNoIHdvcmtzIGZvciBEQVNIIHN0cmVhbXNcclxuICAgICAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fUkVBRFksIHRpbWVTaGlmdERldGVjdG9yKTtcclxuICAgICAgICAgICAgLy8gV2l0aCBITFMvTmF0aXZlUGxheWVyIHN0cmVhbXMsIGdldE1heFRpbWVTaGlmdCBjYW4gYmUgMCBiZWZvcmUgdGhlIGJ1ZmZlciBmaWxscywgc28gd2UgbmVlZCB0byBhZGRpdGlvbmFsbHlcclxuICAgICAgICAgICAgLy8gY2hlY2sgdGltZXNoaWZ0IGF2YWlsYWJpbGl0eSBpbiBPTl9USU1FX0NIQU5HRURcclxuICAgICAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fVElNRV9DSEFOR0VELCB0aW1lU2hpZnREZXRlY3Rvcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFRpbWVTaGlmdEF2YWlsYWJpbGl0eURldGVjdG9yLnByb3RvdHlwZS5kZXRlY3QgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnBsYXllci5pc0xpdmUoKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRpbWVTaGlmdEF2YWlsYWJsZU5vdyA9IFBsYXllclV0aWxzLmlzVGltZVNoaWZ0QXZhaWxhYmxlKHRoaXMucGxheWVyKTtcclxuICAgICAgICAgICAgICAgIC8vIFdoZW4gdGhlIGF2YWlsYWJpbGl0eSBjaGFuZ2VzLCB3ZSBmaXJlIHRoZSBldmVudFxyXG4gICAgICAgICAgICAgICAgaWYgKHRpbWVTaGlmdEF2YWlsYWJsZU5vdyAhPT0gdGhpcy50aW1lU2hpZnRBdmFpbGFibGUpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRpbWVTaGlmdEF2YWlsYWJpbGl0eUNoYW5nZWRFdmVudC5kaXNwYXRjaCh0aGlzLnBsYXllciwgeyB0aW1lU2hpZnRBdmFpbGFibGU6IHRpbWVTaGlmdEF2YWlsYWJsZU5vdyB9KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRpbWVTaGlmdEF2YWlsYWJsZSA9IHRpbWVTaGlmdEF2YWlsYWJsZU5vdztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRpbWVTaGlmdEF2YWlsYWJpbGl0eURldGVjdG9yLnByb3RvdHlwZSwgXCJvblRpbWVTaGlmdEF2YWlsYWJpbGl0eUNoYW5nZWRcIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnRpbWVTaGlmdEF2YWlsYWJpbGl0eUNoYW5nZWRFdmVudC5nZXRFdmVudCgpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gVGltZVNoaWZ0QXZhaWxhYmlsaXR5RGV0ZWN0b3I7XHJcbiAgICB9KCkpO1xyXG4gICAgUGxheWVyVXRpbHMuVGltZVNoaWZ0QXZhaWxhYmlsaXR5RGV0ZWN0b3IgPSBUaW1lU2hpZnRBdmFpbGFiaWxpdHlEZXRlY3RvcjtcclxuICAgIC8qKlxyXG4gICAgICogRGV0ZWN0cyBjaGFuZ2VzIG9mIHRoZSBzdHJlYW0gdHlwZSwgaS5lLiBjaGFuZ2VzIG9mIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIHBsYXllciNpc0xpdmUgbWV0aG9kLlxyXG4gICAgICogTm9ybWFsbHksIGEgc3RyZWFtIGNhbm5vdCBjaGFuZ2UgaXRzIHR5cGUgZHVyaW5nIHBsYXliYWNrLCBpdCdzIGVpdGhlciBWT0Qgb3IgbGl2ZS4gRHVlIHRvIGJ1Z3Mgb24gc29tZVxyXG4gICAgICogcGxhdGZvcm1zIG9yIGJyb3dzZXJzLCBpdCBjYW4gc3RpbGwgY2hhbmdlLiBJdCBpcyB0aGVyZWZvcmUgdW5yZWxpYWJsZSB0byBqdXN0IGNoZWNrICNpc0xpdmUgYW5kIHRoaXMgZGV0ZWN0b3JcclxuICAgICAqIHNob3VsZCBiZSB1c2VkIGFzIGEgd29ya2Fyb3VuZCBpbnN0ZWFkLlxyXG4gICAgICpcclxuICAgICAqIEtub3duIGNhc2VzOlxyXG4gICAgICpcclxuICAgICAqIC0gSExTIFZPRCBvbiBBbmRyb2lkIDQuM1xyXG4gICAgICogVmlkZW8gZHVyYXRpb24gaXMgaW5pdGlhbGx5ICdJbmZpbml0eScgYW5kIG9ubHkgZ2V0cyBhdmFpbGFibGUgYWZ0ZXIgcGxheWJhY2sgc3RhcnRzLCBzbyBzdHJlYW1zIGFyZSB3cm9uZ2x5XHJcbiAgICAgKiByZXBvcnRlZCBhcyAnbGl2ZScgYmVmb3JlIHBsYXliYWNrICh0aGUgbGl2ZS1jaGVjayBpbiB0aGUgcGxheWVyIGNoZWNrcyBmb3IgaW5maW5pdGUgZHVyYXRpb24pLlxyXG4gICAgICovXHJcbiAgICB2YXIgTGl2ZVN0cmVhbURldGVjdG9yID0gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBmdW5jdGlvbiBMaXZlU3RyZWFtRGV0ZWN0b3IocGxheWVyKSB7XHJcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgICAgIHRoaXMubGl2ZUNoYW5nZWRFdmVudCA9IG5ldyBldmVudGRpc3BhdGNoZXJfMS5FdmVudERpc3BhdGNoZXIoKTtcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXIgPSBwbGF5ZXI7XHJcbiAgICAgICAgICAgIHRoaXMubGl2ZSA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgdmFyIGxpdmVEZXRlY3RvciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLmRldGVjdCgpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvLyBJbml0aWFsaXplIHdoZW4gcGxheWVyIGlzIHJlYWR5XHJcbiAgICAgICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1JFQURZLCBsaXZlRGV0ZWN0b3IpO1xyXG4gICAgICAgICAgICAvLyBSZS1ldmFsdWF0ZSB3aGVuIHBsYXliYWNrIHN0YXJ0c1xyXG4gICAgICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9QTEFZLCBsaXZlRGV0ZWN0b3IpO1xyXG4gICAgICAgICAgICAvLyBITFMgbGl2ZSBkZXRlY3Rpb24gd29ya2Fyb3VuZCBmb3IgQW5kcm9pZDpcclxuICAgICAgICAgICAgLy8gQWxzbyByZS1ldmFsdWF0ZSBkdXJpbmcgcGxheWJhY2ssIGJlY2F1c2UgdGhhdCBpcyB3aGVuIHRoZSBsaXZlIGZsYWcgbWlnaHQgY2hhbmdlLlxyXG4gICAgICAgICAgICAvLyAoRG9pbmcgaXQgb25seSBpbiBBbmRyb2lkIENocm9tZSBzYXZlcyB1bm5lY2Vzc2FyeSBvdmVyaGVhZCBvbiBvdGhlciBwbGF0dGZvcm1zKVxyXG4gICAgICAgICAgICBpZiAoQnJvd3NlclV0aWxzLmlzQW5kcm9pZCAmJiBCcm93c2VyVXRpbHMuaXNDaHJvbWUpIHtcclxuICAgICAgICAgICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1RJTUVfQ0hBTkdFRCwgbGl2ZURldGVjdG9yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBMaXZlU3RyZWFtRGV0ZWN0b3IucHJvdG90eXBlLmRldGVjdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGxpdmVOb3cgPSB0aGlzLnBsYXllci5pc0xpdmUoKTtcclxuICAgICAgICAgICAgLy8gQ29tcGFyZSBjdXJyZW50IHRvIHByZXZpb3VzIGxpdmUgc3RhdGUgZmxhZyBhbmQgZmlyZSBldmVudCB3aGVuIGl0IGNoYW5nZXMuIFNpbmNlIHdlIGluaXRpYWxpemUgdGhlIGZsYWdcclxuICAgICAgICAgICAgLy8gd2l0aCB1bmRlZmluZWQsIHRoZXJlIGlzIGFsd2F5cyBhdCBsZWFzdCBhbiBpbml0aWFsIGV2ZW50IGZpcmVkIHRoYXQgdGVsbHMgbGlzdGVuZXJzIHRoZSBsaXZlIHN0YXRlLlxyXG4gICAgICAgICAgICBpZiAobGl2ZU5vdyAhPT0gdGhpcy5saXZlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxpdmVDaGFuZ2VkRXZlbnQuZGlzcGF0Y2godGhpcy5wbGF5ZXIsIHsgbGl2ZTogbGl2ZU5vdyB9KTtcclxuICAgICAgICAgICAgICAgIHRoaXMubGl2ZSA9IGxpdmVOb3c7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShMaXZlU3RyZWFtRGV0ZWN0b3IucHJvdG90eXBlLCBcIm9uTGl2ZUNoYW5nZWRcIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmxpdmVDaGFuZ2VkRXZlbnQuZ2V0RXZlbnQoKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIExpdmVTdHJlYW1EZXRlY3RvcjtcclxuICAgIH0oKSk7XHJcbiAgICBQbGF5ZXJVdGlscy5MaXZlU3RyZWFtRGV0ZWN0b3IgPSBMaXZlU3RyZWFtRGV0ZWN0b3I7XHJcbn0pKFBsYXllclV0aWxzID0gZXhwb3J0cy5QbGF5ZXJVdGlscyB8fCAoZXhwb3J0cy5QbGF5ZXJVdGlscyA9IHt9KSk7XHJcbnZhciBVSVV0aWxzO1xyXG4oZnVuY3Rpb24gKFVJVXRpbHMpIHtcclxuICAgIGZ1bmN0aW9uIHRyYXZlcnNlVHJlZShjb21wb25lbnQsIHZpc2l0KSB7XHJcbiAgICAgICAgdmFyIHJlY3Vyc2l2ZVRyZWVXYWxrZXIgPSBmdW5jdGlvbiAoY29tcG9uZW50LCBwYXJlbnQpIHtcclxuICAgICAgICAgICAgdmlzaXQoY29tcG9uZW50LCBwYXJlbnQpO1xyXG4gICAgICAgICAgICAvLyBJZiB0aGUgY3VycmVudCBjb21wb25lbnQgaXMgYSBjb250YWluZXIsIHZpc2l0IGl0J3MgY2hpbGRyZW5cclxuICAgICAgICAgICAgaWYgKGNvbXBvbmVudCBpbnN0YW5jZW9mIGNvbnRhaW5lcl8xLkNvbnRhaW5lcikge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IGNvbXBvbmVudC5nZXRDb21wb25lbnRzKCk7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNoaWxkQ29tcG9uZW50ID0gX2FbX2ldO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlY3Vyc2l2ZVRyZWVXYWxrZXIoY2hpbGRDb21wb25lbnQsIGNvbXBvbmVudCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIC8vIFdhbGsgYW5kIGNvbmZpZ3VyZSB0aGUgY29tcG9uZW50IHRyZWVcclxuICAgICAgICByZWN1cnNpdmVUcmVlV2Fsa2VyKGNvbXBvbmVudCk7XHJcbiAgICB9XHJcbiAgICBVSVV0aWxzLnRyYXZlcnNlVHJlZSA9IHRyYXZlcnNlVHJlZTtcclxufSkoVUlVdGlscyA9IGV4cG9ydHMuVUlVdGlscyB8fCAoZXhwb3J0cy5VSVV0aWxzID0ge30pKTtcclxudmFyIEJyb3dzZXJVdGlscztcclxuKGZ1bmN0aW9uIChCcm93c2VyVXRpbHMpIHtcclxuICAgIC8vIGlzTW9iaWxlIG9ubHkgbmVlZHMgdG8gYmUgZXZhbHVhdGVkIG9uY2UgKGl0IGNhbm5vdCBjaGFuZ2UgZHVyaW5nIGEgYnJvd3NlciBzZXNzaW9uKVxyXG4gICAgLy8gTW9iaWxlIGRldGVjdGlvbiBhY2NvcmRpbmcgdG8gTW96aWxsYSByZWNvbW1lbmRhdGlvbjogXCJJbiBzdW1tYXJ5LCB3ZSByZWNvbW1lbmQgbG9va2luZyBmb3IgdGhlIHN0cmluZyDigJxNb2Jp4oCdXHJcbiAgICAvLyBhbnl3aGVyZSBpbiB0aGUgVXNlciBBZ2VudCB0byBkZXRlY3QgYSBtb2JpbGUgZGV2aWNlLlwiXHJcbiAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9IVFRQL0Jyb3dzZXJfZGV0ZWN0aW9uX3VzaW5nX3RoZV91c2VyX2FnZW50XHJcbiAgICBCcm93c2VyVXRpbHMuaXNNb2JpbGUgPSBuYXZpZ2F0b3IgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudCAmJiAvTW9iaS8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcclxuICAgIEJyb3dzZXJVdGlscy5pc0Nocm9tZSA9IG5hdmlnYXRvciAmJiBuYXZpZ2F0b3IudXNlckFnZW50ICYmIC9DaHJvbWUvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XHJcbiAgICBCcm93c2VyVXRpbHMuaXNBbmRyb2lkID0gbmF2aWdhdG9yICYmIG5hdmlnYXRvci51c2VyQWdlbnQgJiYgL0FuZHJvaWQvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XHJcbn0pKEJyb3dzZXJVdGlscyA9IGV4cG9ydHMuQnJvd3NlclV0aWxzIHx8IChleHBvcnRzLkJyb3dzZXJVdGlscyA9IHt9KSk7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvdXRpbHMudHNcbi8vIG1vZHVsZSBpZCA9IDNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciB1dGlsc18xID0gcmVxdWlyZShcIi4vdXRpbHNcIik7XHJcbi8qKlxyXG4gKiBFdmVudCBkaXNwYXRjaGVyIHRvIHN1YnNjcmliZSBhbmQgdHJpZ2dlciBldmVudHMuIEVhY2ggZXZlbnQgc2hvdWxkIGhhdmUgaXRzIG93biBkaXNwYXRjaGVyLlxyXG4gKi9cclxudmFyIEV2ZW50RGlzcGF0Y2hlciA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBFdmVudERpc3BhdGNoZXIoKSB7XHJcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMgPSBbXTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICoge0Bpbmhlcml0RG9jfVxyXG4gICAgICovXHJcbiAgICBFdmVudERpc3BhdGNoZXIucHJvdG90eXBlLnN1YnNjcmliZSA9IGZ1bmN0aW9uIChsaXN0ZW5lcikge1xyXG4gICAgICAgIHRoaXMubGlzdGVuZXJzLnB1c2gobmV3IEV2ZW50TGlzdGVuZXJXcmFwcGVyKGxpc3RlbmVyKSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiB7QGluaGVyaXREb2N9XHJcbiAgICAgKi9cclxuICAgIEV2ZW50RGlzcGF0Y2hlci5wcm90b3R5cGUuc3Vic2NyaWJlT25jZSA9IGZ1bmN0aW9uIChsaXN0ZW5lcikge1xyXG4gICAgICAgIHRoaXMubGlzdGVuZXJzLnB1c2gobmV3IEV2ZW50TGlzdGVuZXJXcmFwcGVyKGxpc3RlbmVyLCB0cnVlKSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiB7QGluaGVyaXREb2N9XHJcbiAgICAgKi9cclxuICAgIEV2ZW50RGlzcGF0Y2hlci5wcm90b3R5cGUuc3Vic2NyaWJlUmF0ZUxpbWl0ZWQgPSBmdW5jdGlvbiAobGlzdGVuZXIsIHJhdGVNcykge1xyXG4gICAgICAgIHRoaXMubGlzdGVuZXJzLnB1c2gobmV3IFJhdGVMaW1pdGVkRXZlbnRMaXN0ZW5lcldyYXBwZXIobGlzdGVuZXIsIHJhdGVNcykpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICoge0Bpbmhlcml0RG9jfVxyXG4gICAgICovXHJcbiAgICBFdmVudERpc3BhdGNoZXIucHJvdG90eXBlLnVuc3Vic2NyaWJlID0gZnVuY3Rpb24gKGxpc3RlbmVyKSB7XHJcbiAgICAgICAgLy8gSXRlcmF0ZSB0aHJvdWdoIGxpc3RlbmVycywgY29tcGFyZSB3aXRoIHBhcmFtZXRlciwgYW5kIHJlbW92ZSBpZiBmb3VuZFxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5saXN0ZW5lcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIHN1YnNjcmliZWRMaXN0ZW5lciA9IHRoaXMubGlzdGVuZXJzW2ldO1xyXG4gICAgICAgICAgICBpZiAoc3Vic2NyaWJlZExpc3RlbmVyLmxpc3RlbmVyID09PSBsaXN0ZW5lcikge1xyXG4gICAgICAgICAgICAgICAgdXRpbHNfMS5BcnJheVV0aWxzLnJlbW92ZSh0aGlzLmxpc3RlbmVycywgc3Vic2NyaWJlZExpc3RlbmVyKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZXMgYWxsIGxpc3RlbmVycyBmcm9tIHRoaXMgZGlzcGF0Y2hlci5cclxuICAgICAqL1xyXG4gICAgRXZlbnREaXNwYXRjaGVyLnByb3RvdHlwZS51bnN1YnNjcmliZUFsbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLmxpc3RlbmVycyA9IFtdO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogRGlzcGF0Y2hlcyBhbiBldmVudCB0byBhbGwgc3Vic2NyaWJlZCBsaXN0ZW5lcnMuXHJcbiAgICAgKiBAcGFyYW0gc2VuZGVyIHRoZSBzb3VyY2Ugb2YgdGhlIGV2ZW50XHJcbiAgICAgKiBAcGFyYW0gYXJncyB0aGUgYXJndW1lbnRzIGZvciB0aGUgZXZlbnRcclxuICAgICAqL1xyXG4gICAgRXZlbnREaXNwYXRjaGVyLnByb3RvdHlwZS5kaXNwYXRjaCA9IGZ1bmN0aW9uIChzZW5kZXIsIGFyZ3MpIHtcclxuICAgICAgICBpZiAoYXJncyA9PT0gdm9pZCAwKSB7IGFyZ3MgPSBudWxsOyB9XHJcbiAgICAgICAgdmFyIGxpc3RlbmVyc1RvUmVtb3ZlID0gW107XHJcbiAgICAgICAgLy8gQ2FsbCBldmVyeSBsaXN0ZW5lclxyXG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSB0aGlzLmxpc3RlbmVyczsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgdmFyIGxpc3RlbmVyID0gX2FbX2ldO1xyXG4gICAgICAgICAgICBsaXN0ZW5lci5maXJlKHNlbmRlciwgYXJncyk7XHJcbiAgICAgICAgICAgIGlmIChsaXN0ZW5lci5pc09uY2UoKSkge1xyXG4gICAgICAgICAgICAgICAgbGlzdGVuZXJzVG9SZW1vdmUucHVzaChsaXN0ZW5lcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gUmVtb3ZlIG9uZS10aW1lIGxpc3RlbmVyXHJcbiAgICAgICAgZm9yICh2YXIgX2IgPSAwLCBsaXN0ZW5lcnNUb1JlbW92ZV8xID0gbGlzdGVuZXJzVG9SZW1vdmU7IF9iIDwgbGlzdGVuZXJzVG9SZW1vdmVfMS5sZW5ndGg7IF9iKyspIHtcclxuICAgICAgICAgICAgdmFyIGxpc3RlbmVyVG9SZW1vdmUgPSBsaXN0ZW5lcnNUb1JlbW92ZV8xW19iXTtcclxuICAgICAgICAgICAgdXRpbHNfMS5BcnJheVV0aWxzLnJlbW92ZSh0aGlzLmxpc3RlbmVycywgbGlzdGVuZXJUb1JlbW92ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0aGUgZXZlbnQgdGhhdCB0aGlzIGRpc3BhdGNoZXIgbWFuYWdlcyBhbmQgb24gd2hpY2ggbGlzdGVuZXJzIGNhbiBzdWJzY3JpYmUgYW5kIHVuc3Vic2NyaWJlIGV2ZW50IGhhbmRsZXJzLlxyXG4gICAgICogQHJldHVybnMge0V2ZW50fVxyXG4gICAgICovXHJcbiAgICBFdmVudERpc3BhdGNoZXIucHJvdG90eXBlLmdldEV2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vIEZvciBub3csIGp1c3QgY2FzdCB0aGUgZXZlbnQgZGlzcGF0Y2hlciB0byB0aGUgZXZlbnQgaW50ZXJmYWNlLiBBdCBzb21lIHBvaW50IGluIHRoZSBmdXR1cmUgd2hlbiB0aGVcclxuICAgICAgICAvLyBjb2RlYmFzZSBncm93cywgaXQgbWlnaHQgbWFrZSBzZW5zZSB0byBzcGxpdCB0aGUgZGlzcGF0Y2hlciBpbnRvIHNlcGFyYXRlIGRpc3BhdGNoZXIgYW5kIGV2ZW50IGNsYXNzZXMuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEV2ZW50RGlzcGF0Y2hlcjtcclxufSgpKTtcclxuZXhwb3J0cy5FdmVudERpc3BhdGNoZXIgPSBFdmVudERpc3BhdGNoZXI7XHJcbi8qKlxyXG4gKiBBIGJhc2ljIGV2ZW50IGxpc3RlbmVyIHdyYXBwZXIgdG8gbWFuYWdlIGxpc3RlbmVycyB3aXRoaW4gdGhlIHtAbGluayBFdmVudERpc3BhdGNoZXJ9LiBUaGlzIGlzIGEgJ3ByaXZhdGUnIGNsYXNzXHJcbiAqIGZvciBpbnRlcm5hbCBkaXNwYXRjaGVyIHVzZSBhbmQgaXQgaXMgdGhlcmVmb3JlIG5vdCBleHBvcnRlZC5cclxuICovXHJcbnZhciBFdmVudExpc3RlbmVyV3JhcHBlciA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBFdmVudExpc3RlbmVyV3JhcHBlcihsaXN0ZW5lciwgb25jZSkge1xyXG4gICAgICAgIGlmIChvbmNlID09PSB2b2lkIDApIHsgb25jZSA9IGZhbHNlOyB9XHJcbiAgICAgICAgdGhpcy5ldmVudExpc3RlbmVyID0gbGlzdGVuZXI7XHJcbiAgICAgICAgdGhpcy5vbmNlID0gb25jZTtcclxuICAgIH1cclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShFdmVudExpc3RlbmVyV3JhcHBlci5wcm90b3R5cGUsIFwibGlzdGVuZXJcIiwge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFJldHVybnMgdGhlIHdyYXBwZWQgZXZlbnQgbGlzdGVuZXIuXHJcbiAgICAgICAgICogQHJldHVybnMge0V2ZW50TGlzdGVuZXI8U2VuZGVyLCBBcmdzPn1cclxuICAgICAgICAgKi9cclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZXZlbnRMaXN0ZW5lcjtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIC8qKlxyXG4gICAgICogRmlyZXMgdGhlIHdyYXBwZWQgZXZlbnQgbGlzdGVuZXIgd2l0aCB0aGUgZ2l2ZW4gYXJndW1lbnRzLlxyXG4gICAgICogQHBhcmFtIHNlbmRlclxyXG4gICAgICogQHBhcmFtIGFyZ3NcclxuICAgICAqL1xyXG4gICAgRXZlbnRMaXN0ZW5lcldyYXBwZXIucHJvdG90eXBlLmZpcmUgPSBmdW5jdGlvbiAoc2VuZGVyLCBhcmdzKSB7XHJcbiAgICAgICAgdGhpcy5ldmVudExpc3RlbmVyKHNlbmRlciwgYXJncyk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVja3MgaWYgdGhpcyBsaXN0ZW5lciBpcyBzY2hlZHVsZWQgdG8gYmUgY2FsbGVkIG9ubHkgb25jZS5cclxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBvbmNlIGlmIHRydWVcclxuICAgICAqL1xyXG4gICAgRXZlbnRMaXN0ZW5lcldyYXBwZXIucHJvdG90eXBlLmlzT25jZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5vbmNlO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBFdmVudExpc3RlbmVyV3JhcHBlcjtcclxufSgpKTtcclxuLyoqXHJcbiAqIEV4dGVuZHMgdGhlIGJhc2ljIHtAbGluayBFdmVudExpc3RlbmVyV3JhcHBlcn0gd2l0aCByYXRlLWxpbWl0aW5nIGZ1bmN0aW9uYWxpdHkuXHJcbiAqL1xyXG52YXIgUmF0ZUxpbWl0ZWRFdmVudExpc3RlbmVyV3JhcHBlciA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoUmF0ZUxpbWl0ZWRFdmVudExpc3RlbmVyV3JhcHBlciwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIFJhdGVMaW1pdGVkRXZlbnRMaXN0ZW5lcldyYXBwZXIobGlzdGVuZXIsIHJhdGVNcykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGxpc3RlbmVyKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLnJhdGVNcyA9IHJhdGVNcztcclxuICAgICAgICBfdGhpcy5sYXN0RmlyZVRpbWUgPSAwO1xyXG4gICAgICAgIC8vIFdyYXAgdGhlIGV2ZW50IGxpc3RlbmVyIHdpdGggYW4gZXZlbnQgbGlzdGVuZXIgdGhhdCBkb2VzIHRoZSByYXRlLWxpbWl0aW5nXHJcbiAgICAgICAgX3RoaXMucmF0ZUxpbWl0aW5nRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uIChzZW5kZXIsIGFyZ3MpIHtcclxuICAgICAgICAgICAgaWYgKERhdGUubm93KCkgLSBfdGhpcy5sYXN0RmlyZVRpbWUgPiBfdGhpcy5yYXRlTXMpIHtcclxuICAgICAgICAgICAgICAgIC8vIE9ubHkgaWYgZW5vdWdoIHRpbWUgc2luY2UgdGhlIHByZXZpb3VzIGNhbGwgaGFzIHBhc3NlZCwgY2FsbCB0aGVcclxuICAgICAgICAgICAgICAgIC8vIGFjdHVhbCBldmVudCBsaXN0ZW5lciBhbmQgcmVjb3JkIHRoZSBjdXJyZW50IHRpbWVcclxuICAgICAgICAgICAgICAgIF90aGlzLmZpcmVTdXBlcihzZW5kZXIsIGFyZ3MpO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMubGFzdEZpcmVUaW1lID0gRGF0ZS5ub3coKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgUmF0ZUxpbWl0ZWRFdmVudExpc3RlbmVyV3JhcHBlci5wcm90b3R5cGUuZmlyZVN1cGVyID0gZnVuY3Rpb24gKHNlbmRlciwgYXJncykge1xyXG4gICAgICAgIC8vIEZpcmUgdGhlIGFjdHVhbCBleHRlcm5hbCBldmVudCBsaXN0ZW5lclxyXG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZmlyZS5jYWxsKHRoaXMsIHNlbmRlciwgYXJncyk7XHJcbiAgICB9O1xyXG4gICAgUmF0ZUxpbWl0ZWRFdmVudExpc3RlbmVyV3JhcHBlci5wcm90b3R5cGUuZmlyZSA9IGZ1bmN0aW9uIChzZW5kZXIsIGFyZ3MpIHtcclxuICAgICAgICAvLyBGaXJlIHRoZSBpbnRlcm5hbCByYXRlLWxpbWl0aW5nIGxpc3RlbmVyIGluc3RlYWQgb2YgdGhlIGV4dGVybmFsIGV2ZW50IGxpc3RlbmVyXHJcbiAgICAgICAgdGhpcy5yYXRlTGltaXRpbmdFdmVudExpc3RlbmVyKHNlbmRlciwgYXJncyk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFJhdGVMaW1pdGVkRXZlbnRMaXN0ZW5lcldyYXBwZXI7XHJcbn0oRXZlbnRMaXN0ZW5lcldyYXBwZXIpKTtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9ldmVudGRpc3BhdGNoZXIudHNcbi8vIG1vZHVsZSBpZCA9IDRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBjb21wb25lbnRfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudFwiKTtcclxudmFyIGRvbV8xID0gcmVxdWlyZShcIi4uL2RvbVwiKTtcclxudmFyIGV2ZW50ZGlzcGF0Y2hlcl8xID0gcmVxdWlyZShcIi4uL2V2ZW50ZGlzcGF0Y2hlclwiKTtcclxuLyoqXHJcbiAqIEEgc2ltcGxlIGNsaWNrYWJsZSBidXR0b24uXHJcbiAqL1xyXG52YXIgQnV0dG9uID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhCdXR0b24sIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBCdXR0b24oY29uZmlnKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgY29uZmlnKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLmJ1dHRvbkV2ZW50cyA9IHtcclxuICAgICAgICAgICAgb25DbGljazogbmV3IGV2ZW50ZGlzcGF0Y2hlcl8xLkV2ZW50RGlzcGF0Y2hlcigpXHJcbiAgICAgICAgfTtcclxuICAgICAgICBfdGhpcy5jb25maWcgPSBfdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIHtcclxuICAgICAgICAgICAgY3NzQ2xhc3M6ICd1aS1idXR0b24nXHJcbiAgICAgICAgfSwgX3RoaXMuY29uZmlnKTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBCdXR0b24ucHJvdG90eXBlLnRvRG9tRWxlbWVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIC8vIENyZWF0ZSB0aGUgYnV0dG9uIGVsZW1lbnQgd2l0aCB0aGUgdGV4dCBsYWJlbFxyXG4gICAgICAgIHZhciBidXR0b25FbGVtZW50ID0gbmV3IGRvbV8xLkRPTSgnYnV0dG9uJywge1xyXG4gICAgICAgICAgICAndHlwZSc6ICdidXR0b24nLFxyXG4gICAgICAgICAgICAnaWQnOiB0aGlzLmNvbmZpZy5pZCxcclxuICAgICAgICAgICAgJ2NsYXNzJzogdGhpcy5nZXRDc3NDbGFzc2VzKClcclxuICAgICAgICB9KS5hcHBlbmQobmV3IGRvbV8xLkRPTSgnc3BhbicsIHtcclxuICAgICAgICAgICAgJ2NsYXNzJzogdGhpcy5wcmVmaXhDc3MoJ2xhYmVsJylcclxuICAgICAgICB9KS5odG1sKHRoaXMuY29uZmlnLnRleHQpKTtcclxuICAgICAgICAvLyBMaXN0ZW4gZm9yIHRoZSBjbGljayBldmVudCBvbiB0aGUgYnV0dG9uIGVsZW1lbnQgYW5kIHRyaWdnZXIgdGhlIGNvcnJlc3BvbmRpbmcgZXZlbnQgb24gdGhlIGJ1dHRvbiBjb21wb25lbnRcclxuICAgICAgICBidXR0b25FbGVtZW50Lm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgX3RoaXMub25DbGlja0V2ZW50KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIGJ1dHRvbkVsZW1lbnQ7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBTZXRzIHRleHQgb24gdGhlIGxhYmVsIG9mIHRoZSBidXR0b24uXHJcbiAgICAgKiBAcGFyYW0gdGV4dCB0aGUgdGV4dCB0byBwdXQgaW50byB0aGUgbGFiZWwgb2YgdGhlIGJ1dHRvblxyXG4gICAgICovXHJcbiAgICBCdXR0b24ucHJvdG90eXBlLnNldFRleHQgPSBmdW5jdGlvbiAodGV4dCkge1xyXG4gICAgICAgIHRoaXMuZ2V0RG9tRWxlbWVudCgpLmZpbmQoJy4nICsgdGhpcy5wcmVmaXhDc3MoJ2xhYmVsJykpLmh0bWwodGV4dCk7XHJcbiAgICB9O1xyXG4gICAgQnV0dG9uLnByb3RvdHlwZS5vbkNsaWNrRXZlbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5idXR0b25FdmVudHMub25DbGljay5kaXNwYXRjaCh0aGlzKTtcclxuICAgIH07XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQnV0dG9uLnByb3RvdHlwZSwgXCJvbkNsaWNrXCIsIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBHZXRzIHRoZSBldmVudCB0aGF0IGlzIGZpcmVkIHdoZW4gdGhlIGJ1dHRvbiBpcyBjbGlja2VkLlxyXG4gICAgICAgICAqIEByZXR1cm5zIHtFdmVudDxCdXR0b248Q29uZmlnPiwgTm9BcmdzPn1cclxuICAgICAgICAgKi9cclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYnV0dG9uRXZlbnRzLm9uQ2xpY2suZ2V0RXZlbnQoKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIHJldHVybiBCdXR0b247XHJcbn0oY29tcG9uZW50XzEuQ29tcG9uZW50KSk7XHJcbmV4cG9ydHMuQnV0dG9uID0gQnV0dG9uO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvYnV0dG9uLnRzXG4vLyBtb2R1bGUgaWQgPSA1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgY29tcG9uZW50XzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRcIik7XHJcbnZhciBkb21fMSA9IHJlcXVpcmUoXCIuLi9kb21cIik7XHJcbnZhciBldmVudGRpc3BhdGNoZXJfMSA9IHJlcXVpcmUoXCIuLi9ldmVudGRpc3BhdGNoZXJcIik7XHJcbi8qKlxyXG4gKiBBIHNpbXBsZSB0ZXh0IGxhYmVsLlxyXG4gKlxyXG4gKiBET00gZXhhbXBsZTpcclxuICogPGNvZGU+XHJcbiAqICAgICA8c3BhbiBjbGFzcz0ndWktbGFiZWwnPi4uLnNvbWUgdGV4dC4uLjwvc3Bhbj5cclxuICogPC9jb2RlPlxyXG4gKi9cclxudmFyIExhYmVsID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhMYWJlbCwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIExhYmVsKGNvbmZpZykge1xyXG4gICAgICAgIGlmIChjb25maWcgPT09IHZvaWQgMCkgeyBjb25maWcgPSB7fTsgfVxyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGNvbmZpZykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5sYWJlbEV2ZW50cyA9IHtcclxuICAgICAgICAgICAgb25DbGljazogbmV3IGV2ZW50ZGlzcGF0Y2hlcl8xLkV2ZW50RGlzcGF0Y2hlcigpLFxyXG4gICAgICAgICAgICBvblRleHRDaGFuZ2VkOiBuZXcgZXZlbnRkaXNwYXRjaGVyXzEuRXZlbnREaXNwYXRjaGVyKCksXHJcbiAgICAgICAgfTtcclxuICAgICAgICBfdGhpcy5jb25maWcgPSBfdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIHtcclxuICAgICAgICAgICAgY3NzQ2xhc3M6ICd1aS1sYWJlbCdcclxuICAgICAgICB9LCBfdGhpcy5jb25maWcpO1xyXG4gICAgICAgIF90aGlzLnRleHQgPSBfdGhpcy5jb25maWcudGV4dDtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBMYWJlbC5wcm90b3R5cGUudG9Eb21FbGVtZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdmFyIGxhYmVsRWxlbWVudCA9IG5ldyBkb21fMS5ET00oJ3NwYW4nLCB7XHJcbiAgICAgICAgICAgICdpZCc6IHRoaXMuY29uZmlnLmlkLFxyXG4gICAgICAgICAgICAnY2xhc3MnOiB0aGlzLmdldENzc0NsYXNzZXMoKVxyXG4gICAgICAgIH0pLmh0bWwodGhpcy50ZXh0KTtcclxuICAgICAgICBsYWJlbEVsZW1lbnQub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBfdGhpcy5vbkNsaWNrRXZlbnQoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gbGFiZWxFbGVtZW50O1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogU2V0IHRoZSB0ZXh0IG9uIHRoaXMgbGFiZWwuXHJcbiAgICAgKiBAcGFyYW0gdGV4dFxyXG4gICAgICovXHJcbiAgICBMYWJlbC5wcm90b3R5cGUuc2V0VGV4dCA9IGZ1bmN0aW9uICh0ZXh0KSB7XHJcbiAgICAgICAgdGhpcy50ZXh0ID0gdGV4dDtcclxuICAgICAgICB0aGlzLmdldERvbUVsZW1lbnQoKS5odG1sKHRleHQpO1xyXG4gICAgICAgIHRoaXMub25UZXh0Q2hhbmdlZEV2ZW50KHRleHQpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogR2V0cyB0aGUgdGV4dCBvbiB0aGlzIGxhYmVsLlxyXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBUaGUgdGV4dCBvbiB0aGUgbGFiZWxcclxuICAgICAqL1xyXG4gICAgTGFiZWwucHJvdG90eXBlLmdldFRleHQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudGV4dDtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIENsZWFycyB0aGUgdGV4dCBvbiB0aGlzIGxhYmVsLlxyXG4gICAgICovXHJcbiAgICBMYWJlbC5wcm90b3R5cGUuY2xlYXJUZXh0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuZ2V0RG9tRWxlbWVudCgpLmh0bWwoJycpO1xyXG4gICAgICAgIHRoaXMub25UZXh0Q2hhbmdlZEV2ZW50KG51bGwpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogVGVzdHMgaWYgdGhlIGxhYmVsIGlzIGVtcHR5IGFuZCBkb2VzIG5vdCBjb250YWluIGFueSB0ZXh0LlxyXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgbGFiZWwgaXMgZW1wdHksIGVsc2UgZmFsc2VcclxuICAgICAqL1xyXG4gICAgTGFiZWwucHJvdG90eXBlLmlzRW1wdHkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuICF0aGlzLnRleHQ7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBGaXJlcyB0aGUge0BsaW5rICNvbkNsaWNrfSBldmVudC5cclxuICAgICAqIENhbiBiZSB1c2VkIGJ5IHN1YmNsYXNzZXMgdG8gbGlzdGVuIHRvIHRoaXMgZXZlbnQgd2l0aG91dCBzdWJzY3JpYmluZyBhbiBldmVudCBsaXN0ZW5lciBieSBvdmVyd3JpdGluZyB0aGUgbWV0aG9kXHJcbiAgICAgKiBhbmQgY2FsbGluZyB0aGUgc3VwZXIgbWV0aG9kLlxyXG4gICAgICovXHJcbiAgICBMYWJlbC5wcm90b3R5cGUub25DbGlja0V2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMubGFiZWxFdmVudHMub25DbGljay5kaXNwYXRjaCh0aGlzKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEZpcmVzIHRoZSB7QGxpbmsgI29uQ2xpY2t9IGV2ZW50LlxyXG4gICAgICogQ2FuIGJlIHVzZWQgYnkgc3ViY2xhc3NlcyB0byBsaXN0ZW4gdG8gdGhpcyBldmVudCB3aXRob3V0IHN1YnNjcmliaW5nIGFuIGV2ZW50IGxpc3RlbmVyIGJ5IG92ZXJ3cml0aW5nIHRoZSBtZXRob2RcclxuICAgICAqIGFuZCBjYWxsaW5nIHRoZSBzdXBlciBtZXRob2QuXHJcbiAgICAgKi9cclxuICAgIExhYmVsLnByb3RvdHlwZS5vblRleHRDaGFuZ2VkRXZlbnQgPSBmdW5jdGlvbiAodGV4dCkge1xyXG4gICAgICAgIHRoaXMubGFiZWxFdmVudHMub25UZXh0Q2hhbmdlZC5kaXNwYXRjaCh0aGlzLCB0ZXh0KTtcclxuICAgIH07XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTGFiZWwucHJvdG90eXBlLCBcIm9uQ2xpY2tcIiwge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEdldHMgdGhlIGV2ZW50IHRoYXQgaXMgZmlyZWQgd2hlbiB0aGUgbGFiZWwgaXMgY2xpY2tlZC5cclxuICAgICAgICAgKiBAcmV0dXJucyB7RXZlbnQ8TGFiZWw8TGFiZWxDb25maWc+LCBOb0FyZ3M+fVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sYWJlbEV2ZW50cy5vbkNsaWNrLmdldEV2ZW50KCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTGFiZWwucHJvdG90eXBlLCBcIm9uVGV4dENoYW5nZWRcIiwge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEdldHMgdGhlIGV2ZW50IHRoYXQgaXMgZmlyZWQgd2hlbiB0aGUgdGV4dCBvbiB0aGUgbGFiZWwgaXMgY2hhbmdlZC5cclxuICAgICAgICAgKiBAcmV0dXJucyB7RXZlbnQ8TGFiZWw8TGFiZWxDb25maWc+LCBzdHJpbmc+fVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sYWJlbEV2ZW50cy5vblRleHRDaGFuZ2VkLmdldEV2ZW50KCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gTGFiZWw7XHJcbn0oY29tcG9uZW50XzEuQ29tcG9uZW50KSk7XHJcbmV4cG9ydHMuTGFiZWwgPSBMYWJlbDtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL2xhYmVsLnRzXG4vLyBtb2R1bGUgaWQgPSA2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbi8vIFRPRE8gY2hhbmdlIHRvIGludGVybmFsIChub3QgZXhwb3J0ZWQpIGNsYXNzLCBob3cgdG8gdXNlIGluIG90aGVyIGZpbGVzP1xyXG4vKipcclxuICogRXhlY3V0ZXMgYSBjYWxsYmFjayBhZnRlciBhIHNwZWNpZmllZCBhbW91bnQgb2YgdGltZSwgb3B0aW9uYWxseSByZXBlYXRlZGx5IHVudGlsIHN0b3BwZWQuXHJcbiAqL1xyXG52YXIgVGltZW91dCA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgYSBuZXcgdGltZW91dCBjYWxsYmFjayBoYW5kbGVyLlxyXG4gICAgICogQHBhcmFtIGRlbGF5IHRoZSBkZWxheSBpbiBtaWxsaXNlY29uZHMgYWZ0ZXIgd2hpY2ggdGhlIGNhbGxiYWNrIHNob3VsZCBiZSBleGVjdXRlZFxyXG4gICAgICogQHBhcmFtIGNhbGxiYWNrIHRoZSBjYWxsYmFjayB0byBleGVjdXRlIGFmdGVyIHRoZSBkZWxheSB0aW1lXHJcbiAgICAgKiBAcGFyYW0gcmVwZWF0IGlmIHRydWUsIGNhbGwgdGhlIGNhbGxiYWNrIHJlcGVhdGVkbHkgaW4gZGVsYXkgaW50ZXJ2YWxzXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIFRpbWVvdXQoZGVsYXksIGNhbGxiYWNrLCByZXBlYXQpIHtcclxuICAgICAgICBpZiAocmVwZWF0ID09PSB2b2lkIDApIHsgcmVwZWF0ID0gZmFsc2U7IH1cclxuICAgICAgICB0aGlzLmRlbGF5ID0gZGVsYXk7XHJcbiAgICAgICAgdGhpcy5jYWxsYmFjayA9IGNhbGxiYWNrO1xyXG4gICAgICAgIHRoaXMucmVwZWF0ID0gcmVwZWF0O1xyXG4gICAgICAgIHRoaXMudGltZW91dEhhbmRsZSA9IDA7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFN0YXJ0cyB0aGUgdGltZW91dCBhbmQgY2FsbHMgdGhlIGNhbGxiYWNrIHdoZW4gdGhlIHRpbWVvdXQgZGVsYXkgaGFzIHBhc3NlZC5cclxuICAgICAqIEByZXR1cm5zIHtUaW1lb3V0fSB0aGUgY3VycmVudCB0aW1lb3V0IChzbyB0aGUgc3RhcnQgY2FsbCBjYW4gYmUgY2hhaW5lZCB0byB0aGUgY29uc3RydWN0b3IpXHJcbiAgICAgKi9cclxuICAgIFRpbWVvdXQucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMucmVzZXQoKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIENsZWFycyB0aGUgdGltZW91dC4gVGhlIGNhbGxiYWNrIHdpbGwgbm90IGJlIGNhbGxlZCBpZiBjbGVhciBpcyBjYWxsZWQgZHVyaW5nIHRoZSB0aW1lb3V0LlxyXG4gICAgICovXHJcbiAgICBUaW1lb3V0LnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0SGFuZGxlKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJlc2V0cyB0aGUgcGFzc2VkIHRpbWVvdXQgZGVsYXkgdG8gemVyby4gQ2FuIGJlIHVzZWQgdG8gZGVmZXIgdGhlIGNhbGxpbmcgb2YgdGhlIGNhbGxiYWNrLlxyXG4gICAgICovXHJcbiAgICBUaW1lb3V0LnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHZhciBsYXN0U2NoZWR1bGVUaW1lID0gMDtcclxuICAgICAgICB2YXIgZGVsYXlBZGp1c3QgPSAwO1xyXG4gICAgICAgIHRoaXMuY2xlYXIoKTtcclxuICAgICAgICB2YXIgaW50ZXJuYWxDYWxsYmFjayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgX3RoaXMuY2FsbGJhY2soKTtcclxuICAgICAgICAgICAgaWYgKF90aGlzLnJlcGVhdCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG5vdyA9IERhdGUubm93KCk7XHJcbiAgICAgICAgICAgICAgICAvLyBUaGUgdGltZSBvZiBvbmUgaXRlcmF0aW9uIGZyb20gc2NoZWR1bGluZyB0byBleGVjdXRpbmcgdGhlIGNhbGxiYWNrICh1c3VhbGx5IGEgYml0IGxvbmdlciB0aGFuIHRoZSBkZWxheVxyXG4gICAgICAgICAgICAgICAgLy8gdGltZSlcclxuICAgICAgICAgICAgICAgIHZhciBkZWx0YSA9IG5vdyAtIGxhc3RTY2hlZHVsZVRpbWU7XHJcbiAgICAgICAgICAgICAgICAvLyBDYWxjdWxhdGUgdGhlIGRlbGF5IGFkanVzdG1lbnQgZm9yIHRoZSBuZXh0IHNjaGVkdWxlIHRvIGtlZXAgYSBzdGVhZHkgZGVsYXkgaW50ZXJ2YWwgb3ZlciB0aW1lXHJcbiAgICAgICAgICAgICAgICBkZWxheUFkanVzdCA9IF90aGlzLmRlbGF5IC0gZGVsdGEgKyBkZWxheUFkanVzdDtcclxuICAgICAgICAgICAgICAgIGxhc3RTY2hlZHVsZVRpbWUgPSBub3c7XHJcbiAgICAgICAgICAgICAgICAvLyBTY2hlZHVsZSBuZXh0IGV4ZWN1dGlvbiBieSB0aGUgYWRqdXN0ZWQgZGVsYXlcclxuICAgICAgICAgICAgICAgIF90aGlzLnRpbWVvdXRIYW5kbGUgPSBzZXRUaW1lb3V0KGludGVybmFsQ2FsbGJhY2ssIF90aGlzLmRlbGF5ICsgZGVsYXlBZGp1c3QpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBsYXN0U2NoZWR1bGVUaW1lID0gRGF0ZS5ub3coKTtcclxuICAgICAgICB0aGlzLnRpbWVvdXRIYW5kbGUgPSBzZXRUaW1lb3V0KGludGVybmFsQ2FsbGJhY2ssIHRoaXMuZGVsYXkpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBUaW1lb3V0O1xyXG59KCkpO1xyXG5leHBvcnRzLlRpbWVvdXQgPSBUaW1lb3V0O1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL3RpbWVvdXQudHNcbi8vIG1vZHVsZSBpZCA9IDdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBidXR0b25fMSA9IHJlcXVpcmUoXCIuL2J1dHRvblwiKTtcclxudmFyIGV2ZW50ZGlzcGF0Y2hlcl8xID0gcmVxdWlyZShcIi4uL2V2ZW50ZGlzcGF0Y2hlclwiKTtcclxuLyoqXHJcbiAqIEEgYnV0dG9uIHRoYXQgY2FuIGJlIHRvZ2dsZWQgYmV0d2VlbiAnb24nIGFuZCAnb2ZmJyBzdGF0ZXMuXHJcbiAqL1xyXG52YXIgVG9nZ2xlQnV0dG9uID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhUb2dnbGVCdXR0b24sIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBUb2dnbGVCdXR0b24oY29uZmlnKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgY29uZmlnKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLnRvZ2dsZUJ1dHRvbkV2ZW50cyA9IHtcclxuICAgICAgICAgICAgb25Ub2dnbGU6IG5ldyBldmVudGRpc3BhdGNoZXJfMS5FdmVudERpc3BhdGNoZXIoKSxcclxuICAgICAgICAgICAgb25Ub2dnbGVPbjogbmV3IGV2ZW50ZGlzcGF0Y2hlcl8xLkV2ZW50RGlzcGF0Y2hlcigpLFxyXG4gICAgICAgICAgICBvblRvZ2dsZU9mZjogbmV3IGV2ZW50ZGlzcGF0Y2hlcl8xLkV2ZW50RGlzcGF0Y2hlcigpXHJcbiAgICAgICAgfTtcclxuICAgICAgICBfdGhpcy5jb25maWcgPSBfdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIHtcclxuICAgICAgICAgICAgY3NzQ2xhc3M6ICd1aS10b2dnbGVidXR0b24nXHJcbiAgICAgICAgfSwgX3RoaXMuY29uZmlnKTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFRvZ2dsZXMgdGhlIGJ1dHRvbiB0byB0aGUgJ29uJyBzdGF0ZS5cclxuICAgICAqL1xyXG4gICAgVG9nZ2xlQnV0dG9uLnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodGhpcy5pc09mZigpKSB7XHJcbiAgICAgICAgICAgIHRoaXMub25TdGF0ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuZ2V0RG9tRWxlbWVudCgpLnJlbW92ZUNsYXNzKHRoaXMucHJlZml4Q3NzKFRvZ2dsZUJ1dHRvbi5DTEFTU19PRkYpKTtcclxuICAgICAgICAgICAgdGhpcy5nZXREb21FbGVtZW50KCkuYWRkQ2xhc3ModGhpcy5wcmVmaXhDc3MoVG9nZ2xlQnV0dG9uLkNMQVNTX09OKSk7XHJcbiAgICAgICAgICAgIHRoaXMub25Ub2dnbGVFdmVudCgpO1xyXG4gICAgICAgICAgICB0aGlzLm9uVG9nZ2xlT25FdmVudCgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFRvZ2dsZXMgdGhlIGJ1dHRvbiB0byB0aGUgJ29mZicgc3RhdGUuXHJcbiAgICAgKi9cclxuICAgIFRvZ2dsZUJ1dHRvbi5wcm90b3R5cGUub2ZmID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzT24oKSkge1xyXG4gICAgICAgICAgICB0aGlzLm9uU3RhdGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5nZXREb21FbGVtZW50KCkucmVtb3ZlQ2xhc3ModGhpcy5wcmVmaXhDc3MoVG9nZ2xlQnV0dG9uLkNMQVNTX09OKSk7XHJcbiAgICAgICAgICAgIHRoaXMuZ2V0RG9tRWxlbWVudCgpLmFkZENsYXNzKHRoaXMucHJlZml4Q3NzKFRvZ2dsZUJ1dHRvbi5DTEFTU19PRkYpKTtcclxuICAgICAgICAgICAgdGhpcy5vblRvZ2dsZUV2ZW50KCk7XHJcbiAgICAgICAgICAgIHRoaXMub25Ub2dnbGVPZmZFdmVudCgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFRvZ2dsZSB0aGUgYnV0dG9uICdvbicgaWYgaXQgaXMgJ29mZicsIG9yICdvZmYnIGlmIGl0IGlzICdvbicuXHJcbiAgICAgKi9cclxuICAgIFRvZ2dsZUJ1dHRvbi5wcm90b3R5cGUudG9nZ2xlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzT24oKSkge1xyXG4gICAgICAgICAgICB0aGlzLm9mZigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5vbigpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIENoZWNrcyBpZiB0aGUgdG9nZ2xlIGJ1dHRvbiBpcyBpbiB0aGUgJ29uJyBzdGF0ZS5cclxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlmIGJ1dHRvbiBpcyAnb24nLCBmYWxzZSBpZiAnb2ZmJ1xyXG4gICAgICovXHJcbiAgICBUb2dnbGVCdXR0b24ucHJvdG90eXBlLmlzT24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMub25TdGF0ZTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIENoZWNrcyBpZiB0aGUgdG9nZ2xlIGJ1dHRvbiBpcyBpbiB0aGUgJ29mZicgc3RhdGUuXHJcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpZiBidXR0b24gaXMgJ29mZicsIGZhbHNlIGlmICdvbidcclxuICAgICAqL1xyXG4gICAgVG9nZ2xlQnV0dG9uLnByb3RvdHlwZS5pc09mZiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gIXRoaXMuaXNPbigpO1xyXG4gICAgfTtcclxuICAgIFRvZ2dsZUJ1dHRvbi5wcm90b3R5cGUub25DbGlja0V2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUub25DbGlja0V2ZW50LmNhbGwodGhpcyk7XHJcbiAgICAgICAgLy8gRmlyZSB0aGUgdG9nZ2xlIGV2ZW50IHRvZ2V0aGVyIHdpdGggdGhlIGNsaWNrIGV2ZW50XHJcbiAgICAgICAgLy8gKHRoZXkgYXJlIHRlY2huaWNhbGx5IHRoZSBzYW1lLCBvbmx5IHRoZSBzZW1hbnRpY3MgYXJlIGRpZmZlcmVudClcclxuICAgICAgICB0aGlzLm9uVG9nZ2xlRXZlbnQoKTtcclxuICAgIH07XHJcbiAgICBUb2dnbGVCdXR0b24ucHJvdG90eXBlLm9uVG9nZ2xlRXZlbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy50b2dnbGVCdXR0b25FdmVudHMub25Ub2dnbGUuZGlzcGF0Y2godGhpcyk7XHJcbiAgICB9O1xyXG4gICAgVG9nZ2xlQnV0dG9uLnByb3RvdHlwZS5vblRvZ2dsZU9uRXZlbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy50b2dnbGVCdXR0b25FdmVudHMub25Ub2dnbGVPbi5kaXNwYXRjaCh0aGlzKTtcclxuICAgIH07XHJcbiAgICBUb2dnbGVCdXR0b24ucHJvdG90eXBlLm9uVG9nZ2xlT2ZmRXZlbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy50b2dnbGVCdXR0b25FdmVudHMub25Ub2dnbGVPZmYuZGlzcGF0Y2godGhpcyk7XHJcbiAgICB9O1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRvZ2dsZUJ1dHRvbi5wcm90b3R5cGUsIFwib25Ub2dnbGVcIiwge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEdldHMgdGhlIGV2ZW50IHRoYXQgaXMgZmlyZWQgd2hlbiB0aGUgYnV0dG9uIGlzIHRvZ2dsZWQuXHJcbiAgICAgICAgICogQHJldHVybnMge0V2ZW50PFRvZ2dsZUJ1dHRvbjxDb25maWc+LCBOb0FyZ3M+fVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy50b2dnbGVCdXR0b25FdmVudHMub25Ub2dnbGUuZ2V0RXZlbnQoKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUb2dnbGVCdXR0b24ucHJvdG90eXBlLCBcIm9uVG9nZ2xlT25cIiwge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEdldHMgdGhlIGV2ZW50IHRoYXQgaXMgZmlyZWQgd2hlbiB0aGUgYnV0dG9uIGlzIHRvZ2dsZWQgJ29uJy5cclxuICAgICAgICAgKiBAcmV0dXJucyB7RXZlbnQ8VG9nZ2xlQnV0dG9uPENvbmZpZz4sIE5vQXJncz59XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRvZ2dsZUJ1dHRvbkV2ZW50cy5vblRvZ2dsZU9uLmdldEV2ZW50KCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVG9nZ2xlQnV0dG9uLnByb3RvdHlwZSwgXCJvblRvZ2dsZU9mZlwiLCB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogR2V0cyB0aGUgZXZlbnQgdGhhdCBpcyBmaXJlZCB3aGVuIHRoZSBidXR0b24gaXMgdG9nZ2xlZCAnb2ZmJy5cclxuICAgICAgICAgKiBAcmV0dXJucyB7RXZlbnQ8VG9nZ2xlQnV0dG9uPENvbmZpZz4sIE5vQXJncz59XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRvZ2dsZUJ1dHRvbkV2ZW50cy5vblRvZ2dsZU9mZi5nZXRFdmVudCgpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIFRvZ2dsZUJ1dHRvbjtcclxufShidXR0b25fMS5CdXR0b24pKTtcclxuVG9nZ2xlQnV0dG9uLkNMQVNTX09OID0gJ29uJztcclxuVG9nZ2xlQnV0dG9uLkNMQVNTX09GRiA9ICdvZmYnO1xyXG5leHBvcnRzLlRvZ2dsZUJ1dHRvbiA9IFRvZ2dsZUJ1dHRvbjtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3RvZ2dsZWJ1dHRvbi50c1xuLy8gbW9kdWxlIGlkID0gOFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IGFuZ3VsYXI7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwgXCJhbmd1bGFyXCJcbi8vIG1vZHVsZSBpZCA9IDlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciB0b2dnbGVidXR0b25fMSA9IHJlcXVpcmUoXCIuL3RvZ2dsZWJ1dHRvblwiKTtcclxudmFyIHV0aWxzXzEgPSByZXF1aXJlKFwiLi4vdXRpbHNcIik7XHJcbi8qKlxyXG4gKiBBIGJ1dHRvbiB0aGF0IHRvZ2dsZXMgYmV0d2VlbiBwbGF5YmFjayBhbmQgcGF1c2UuXHJcbiAqL1xyXG52YXIgUGxheWJhY2tUb2dnbGVCdXR0b24gPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKFBsYXliYWNrVG9nZ2xlQnV0dG9uLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gUGxheWJhY2tUb2dnbGVCdXR0b24oY29uZmlnKSB7XHJcbiAgICAgICAgaWYgKGNvbmZpZyA9PT0gdm9pZCAwKSB7IGNvbmZpZyA9IHt9OyB9XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgY29uZmlnKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLmNvbmZpZyA9IF90aGlzLm1lcmdlQ29uZmlnKGNvbmZpZywge1xyXG4gICAgICAgICAgICBjc3NDbGFzczogJ3VpLXBsYXliYWNrdG9nZ2xlYnV0dG9uJyxcclxuICAgICAgICAgICAgdGV4dDogJ1BsYXkvUGF1c2UnXHJcbiAgICAgICAgfSwgX3RoaXMuY29uZmlnKTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBQbGF5YmFja1RvZ2dsZUJ1dHRvbi5wcm90b3R5cGUuY29uZmlndXJlID0gZnVuY3Rpb24gKHBsYXllciwgdWltYW5hZ2VyLCBoYW5kbGVDbGlja0V2ZW50KSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBpZiAoaGFuZGxlQ2xpY2tFdmVudCA9PT0gdm9pZCAwKSB7IGhhbmRsZUNsaWNrRXZlbnQgPSB0cnVlOyB9XHJcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5jb25maWd1cmUuY2FsbCh0aGlzLCBwbGF5ZXIsIHVpbWFuYWdlcik7XHJcbiAgICAgICAgdmFyIGlzU2Vla2luZyA9IGZhbHNlO1xyXG4gICAgICAgIC8vIEhhbmRsZXIgdG8gdXBkYXRlIGJ1dHRvbiBzdGF0ZSBiYXNlZCBvbiBwbGF5ZXIgc3RhdGVcclxuICAgICAgICB2YXIgcGxheWJhY2tTdGF0ZUhhbmRsZXIgPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgLy8gSWYgdGhlIFVJIGlzIGN1cnJlbnRseSBzZWVraW5nLCBwbGF5YmFjayBpcyB0ZW1wb3JhcmlseSBzdG9wcGVkIGJ1dCB0aGUgYnV0dG9ucyBzaG91bGRcclxuICAgICAgICAgICAgLy8gbm90IHJlZmxlY3QgdGhhdCBhbmQgc3RheSBhcy1pcyAoZS5nIGluZGljYXRlIHBsYXliYWNrIHdoaWxlIHNlZWtpbmcpLlxyXG4gICAgICAgICAgICBpZiAoaXNTZWVraW5nKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHBsYXllci5pc1BsYXlpbmcoKSkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMub24oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLm9mZigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICAvLyBDYWxsIGhhbmRsZXIgdXBvbiB0aGVzZSBldmVudHNcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9QTEFZLCBwbGF5YmFja1N0YXRlSGFuZGxlcik7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fUEFVU0VELCBwbGF5YmFja1N0YXRlSGFuZGxlcik7XHJcbiAgICAgICAgLy8gd2hlbiBwbGF5YmFjayBmaW5pc2hlcywgcGxheWVyIHR1cm5zIHRvIHBhdXNlZCBtb2RlXHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fUExBWUJBQ0tfRklOSVNIRUQsIHBsYXliYWNrU3RhdGVIYW5kbGVyKTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9DQVNUX1NUQVJURUQsIHBsYXliYWNrU3RhdGVIYW5kbGVyKTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9DQVNUX1BMQVlJTkcsIHBsYXliYWNrU3RhdGVIYW5kbGVyKTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9DQVNUX1BBVVNFRCwgcGxheWJhY2tTdGF0ZUhhbmRsZXIpO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX0NBU1RfUExBWUJBQ0tfRklOSVNIRUQsIHBsYXliYWNrU3RhdGVIYW5kbGVyKTtcclxuICAgICAgICAvLyBEZXRlY3QgYWJzZW5jZSBvZiB0aW1lc2hpZnRpbmcgb24gbGl2ZSBzdHJlYW1zIGFuZCBhZGQgdGFnZ2luZyBjbGFzcyB0byBjb252ZXJ0IGJ1dHRvbiBpY29ucyB0byBwbGF5L3N0b3BcclxuICAgICAgICB2YXIgdGltZVNoaWZ0RGV0ZWN0b3IgPSBuZXcgdXRpbHNfMS5QbGF5ZXJVdGlscy5UaW1lU2hpZnRBdmFpbGFiaWxpdHlEZXRlY3RvcihwbGF5ZXIpO1xyXG4gICAgICAgIHRpbWVTaGlmdERldGVjdG9yLm9uVGltZVNoaWZ0QXZhaWxhYmlsaXR5Q2hhbmdlZC5zdWJzY3JpYmUoZnVuY3Rpb24gKHNlbmRlciwgYXJncykge1xyXG4gICAgICAgICAgICBpZiAoIWFyZ3MudGltZVNoaWZ0QXZhaWxhYmxlKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5nZXREb21FbGVtZW50KCkuYWRkQ2xhc3MoX3RoaXMucHJlZml4Q3NzKFBsYXliYWNrVG9nZ2xlQnV0dG9uLkNMQVNTX1NUT1BUT0dHTEUpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLmdldERvbUVsZW1lbnQoKS5yZW1vdmVDbGFzcyhfdGhpcy5wcmVmaXhDc3MoUGxheWJhY2tUb2dnbGVCdXR0b24uQ0xBU1NfU1RPUFRPR0dMRSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGltZVNoaWZ0RGV0ZWN0b3IuZGV0ZWN0KCk7IC8vIEluaXRpYWwgZGV0ZWN0aW9uXHJcbiAgICAgICAgaWYgKGhhbmRsZUNsaWNrRXZlbnQpIHtcclxuICAgICAgICAgICAgLy8gQ29udHJvbCBwbGF5ZXIgYnkgYnV0dG9uIGV2ZW50c1xyXG4gICAgICAgICAgICAvLyBXaGVuIGEgYnV0dG9uIGV2ZW50IHRyaWdnZXJzIGEgcGxheWVyIEFQSSBjYWxsLCBldmVudHMgYXJlIGZpcmVkIHdoaWNoIGluIHR1cm4gY2FsbCB0aGUgZXZlbnQgaGFuZGxlclxyXG4gICAgICAgICAgICAvLyBhYm92ZSB0aGF0IHVwZGF0ZWQgdGhlIGJ1dHRvbiBzdGF0ZS5cclxuICAgICAgICAgICAgdGhpcy5vbkNsaWNrLnN1YnNjcmliZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocGxheWVyLmlzUGxheWluZygpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyLnBhdXNlKCd1aS1idXR0b24nKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHBsYXllci5wbGF5KCd1aS1idXR0b24nKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFRyYWNrIFVJIHNlZWtpbmcgc3RhdHVzXHJcbiAgICAgICAgdWltYW5hZ2VyLm9uU2Vlay5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpc1NlZWtpbmcgPSB0cnVlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHVpbWFuYWdlci5vblNlZWtlZC5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpc1NlZWtpbmcgPSBmYWxzZTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBTdGFydHVwIGluaXRcclxuICAgICAgICBwbGF5YmFja1N0YXRlSGFuZGxlcihudWxsKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gUGxheWJhY2tUb2dnbGVCdXR0b247XHJcbn0odG9nZ2xlYnV0dG9uXzEuVG9nZ2xlQnV0dG9uKSk7XHJcblBsYXliYWNrVG9nZ2xlQnV0dG9uLkNMQVNTX1NUT1BUT0dHTEUgPSAnc3RvcHRvZ2dsZSc7XHJcbmV4cG9ydHMuUGxheWJhY2tUb2dnbGVCdXR0b24gPSBQbGF5YmFja1RvZ2dsZUJ1dHRvbjtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3BsYXliYWNrdG9nZ2xlYnV0dG9uLnRzXG4vLyBtb2R1bGUgaWQgPSAxMFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGNvbXBvbmVudF8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50XCIpO1xyXG52YXIgZG9tXzEgPSByZXF1aXJlKFwiLi4vZG9tXCIpO1xyXG52YXIgZXZlbnRkaXNwYXRjaGVyXzEgPSByZXF1aXJlKFwiLi4vZXZlbnRkaXNwYXRjaGVyXCIpO1xyXG52YXIgdGltZW91dF8xID0gcmVxdWlyZShcIi4uL3RpbWVvdXRcIik7XHJcbnZhciB1dGlsc18xID0gcmVxdWlyZShcIi4uL3V0aWxzXCIpO1xyXG4vKipcclxuICogQSBzZWVrIGJhciB0byBzZWVrIHdpdGhpbiB0aGUgcGxheWVyJ3MgbWVkaWEuIEl0IGRpc3BsYXlzIHRoZSBjdXJyZW50IHBsYXliYWNrIHBvc2l0aW9uLCBhbW91bnQgb2YgYnVmZmVkIGRhdGEsIHNlZWtcclxuICogdGFyZ2V0LCBhbmQga2VlcHMgc3RhdHVzIGFib3V0IGFuIG9uZ29pbmcgc2Vlay5cclxuICpcclxuICogVGhlIHNlZWsgYmFyIGRpc3BsYXlzIGRpZmZlcmVudCAnYmFycyc6XHJcbiAqICAtIHRoZSBwbGF5YmFjayBwb3NpdGlvbiwgaS5lLiB0aGUgcG9zaXRpb24gaW4gdGhlIG1lZGlhIGF0IHdoaWNoIHRoZSBwbGF5ZXIgY3VycmVudCBwbGF5YmFjayBwb2ludGVyIGlzIHBvc2l0aW9uZWRcclxuICogIC0gdGhlIGJ1ZmZlciBwb3NpdGlvbiwgd2hpY2ggdXN1YWxseSBpcyB0aGUgcGxheWJhY2sgcG9zaXRpb24gcGx1cyB0aGUgdGltZSBzcGFuIHRoYXQgaXMgYWxyZWFkeSBidWZmZXJlZCBhaGVhZFxyXG4gKiAgLSB0aGUgc2VlayBwb3NpdGlvbiwgdXNlZCB0byBwcmV2aWV3IHRvIHdoZXJlIGluIHRoZSB0aW1lbGluZSBhIHNlZWsgd2lsbCBqdW1wIHRvXHJcbiAqL1xyXG52YXIgU2Vla0JhciA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoU2Vla0JhciwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIFNlZWtCYXIoY29uZmlnKSB7XHJcbiAgICAgICAgaWYgKGNvbmZpZyA9PT0gdm9pZCAwKSB7IGNvbmZpZyA9IHt9OyB9XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgY29uZmlnKSB8fCB0aGlzO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEJ1ZmZlciBvZiB0aGUgdGhlIGN1cnJlbnQgcGxheWJhY2sgcG9zaXRpb24uIFRoZSBwb3NpdGlvbiBtdXN0IGJlIGJ1ZmZlcmVkIGluIGNhc2UgdGhlIGVsZW1lbnRcclxuICAgICAgICAgKiBuZWVkcyB0byBiZSByZWZyZXNoZWQgd2l0aCB7QGxpbmsgI3JlZnJlc2hQbGF5YmFja1Bvc2l0aW9ufS5cclxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIF90aGlzLnBsYXliYWNrUG9zaXRpb25QZXJjZW50YWdlID0gMDtcclxuICAgICAgICAvLyBodHRwczovL2hhY2tzLm1vemlsbGEub3JnLzIwMTMvMDQvZGV0ZWN0aW5nLXRvdWNoLWl0cy10aGUtd2h5LW5vdC10aGUtaG93L1xyXG4gICAgICAgIF90aGlzLnRvdWNoU3VwcG9ydGVkID0gKCdvbnRvdWNoc3RhcnQnIGluIHdpbmRvdyk7XHJcbiAgICAgICAgX3RoaXMuc2Vla0JhckV2ZW50cyA9IHtcclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIEZpcmVkIHdoZW4gYSBzY3J1YmJpbmcgc2VlayBvcGVyYXRpb24gaXMgc3RhcnRlZC5cclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIG9uU2VlazogbmV3IGV2ZW50ZGlzcGF0Y2hlcl8xLkV2ZW50RGlzcGF0Y2hlcigpLFxyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICogRmlyZWQgZHVyaW5nIGEgc2NydWJiaW5nIHNlZWsgdG8gaW5kaWNhdGUgdGhhdCB0aGUgc2VlayBwcmV2aWV3IChpLmUuIHRoZSB2aWRlbyBmcmFtZSkgc2hvdWxkIGJlIHVwZGF0ZWQuXHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICBvblNlZWtQcmV2aWV3OiBuZXcgZXZlbnRkaXNwYXRjaGVyXzEuRXZlbnREaXNwYXRjaGVyKCksXHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBGaXJlZCB3aGVuIGEgc2NydWJiaW5nIHNlZWsgaGFzIGZpbmlzaGVkIG9yIHdoZW4gYSBkaXJlY3Qgc2VlayBpcyBpc3N1ZWQuXHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICBvblNlZWtlZDogbmV3IGV2ZW50ZGlzcGF0Y2hlcl8xLkV2ZW50RGlzcGF0Y2hlcigpXHJcbiAgICAgICAgfTtcclxuICAgICAgICBfdGhpcy5jb25maWcgPSBfdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIHtcclxuICAgICAgICAgICAgY3NzQ2xhc3M6ICd1aS1zZWVrYmFyJyxcclxuICAgICAgICAgICAgdmVydGljYWw6IGZhbHNlLFxyXG4gICAgICAgICAgICBzbW9vdGhQbGF5YmFja1Bvc2l0aW9uVXBkYXRlSW50ZXJ2YWxNczogNTAsXHJcbiAgICAgICAgICAgIGhpZGVJbkxpdmVQbGF5YmFjazogdHJ1ZSxcclxuICAgICAgICB9LCBfdGhpcy5jb25maWcpO1xyXG4gICAgICAgIF90aGlzLmxhYmVsID0gX3RoaXMuY29uZmlnLmxhYmVsO1xyXG4gICAgICAgIF90aGlzLnRpbWVsaW5lTWFya2VycyA9IFtdO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIFNlZWtCYXIucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5pbml0aWFsaXplLmNhbGwodGhpcyk7XHJcbiAgICAgICAgaWYgKHRoaXMuaGFzTGFiZWwoKSkge1xyXG4gICAgICAgICAgICB0aGlzLmdldExhYmVsKCkuaW5pdGlhbGl6ZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBTZWVrQmFyLnByb3RvdHlwZS5jb25maWd1cmUgPSBmdW5jdGlvbiAocGxheWVyLCB1aW1hbmFnZXIsIGNvbmZpZ3VyZVNlZWspIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIGlmIChjb25maWd1cmVTZWVrID09PSB2b2lkIDApIHsgY29uZmlndXJlU2VlayA9IHRydWU7IH1cclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmNvbmZpZ3VyZS5jYWxsKHRoaXMsIHBsYXllciwgdWltYW5hZ2VyKTtcclxuICAgICAgICB2YXIgY29uZmlnID0gdGhpcy5nZXRDb25maWcoKTtcclxuICAgICAgICBpZiAoIWNvbmZpZ3VyZVNlZWspIHtcclxuICAgICAgICAgICAgLy8gVGhlIGNvbmZpZ3VyZVNlZWsgZmxhZyBjYW4gYmUgdXNlZCBieSBzdWJjbGFzc2VzIHRvIGRpc2FibGUgY29uZmlndXJhdGlvbiBhcyBzZWVrIGJhci4gRS5nLiB0aGUgdm9sdW1lXHJcbiAgICAgICAgICAgIC8vIHNsaWRlciBpcyByZXVzaW5nIHRoaXMgY29tcG9uZW50IGJ1dCBhZGRzIGl0cyBvd24gZnVuY3Rpb25hbGl0eSwgYW5kIGRvZXMgbm90IG5lZWQgdGhlIHNlZWsgZnVuY3Rpb25hbGl0eS5cclxuICAgICAgICAgICAgLy8gVGhpcyBpcyBhY3R1YWxseSBhIGhhY2ssIHRoZSBwcm9wZXIgc29sdXRpb24gd291bGQgYmUgZm9yIGJvdGggc2VlayBiYXIgYW5kIHZvbHVtZSBzbGlkZXJzIHRvIGV4dGVuZFxyXG4gICAgICAgICAgICAvLyBhIGNvbW1vbiBiYXNlIHNsaWRlciBjb21wb25lbnQgYW5kIGltcGxlbWVudCB0aGVpciBmdW5jdGlvbmFsaXR5IHRoZXJlLlxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBwbGF5YmFja05vdEluaXRpYWxpemVkID0gdHJ1ZTtcclxuICAgICAgICB2YXIgaXNQbGF5aW5nID0gZmFsc2U7XHJcbiAgICAgICAgdmFyIGlzU2Vla2luZyA9IGZhbHNlO1xyXG4gICAgICAgIC8vIFVwZGF0ZSBwbGF5YmFjayBhbmQgYnVmZmVyIHBvc2l0aW9uc1xyXG4gICAgICAgIHZhciBwbGF5YmFja1Bvc2l0aW9uSGFuZGxlciA9IGZ1bmN0aW9uIChldmVudCwgZm9yY2VVcGRhdGUpIHtcclxuICAgICAgICAgICAgaWYgKGV2ZW50ID09PSB2b2lkIDApIHsgZXZlbnQgPSBudWxsOyB9XHJcbiAgICAgICAgICAgIGlmIChmb3JjZVVwZGF0ZSA9PT0gdm9pZCAwKSB7IGZvcmNlVXBkYXRlID0gZmFsc2U7IH1cclxuICAgICAgICAgICAgLy8gT25jZSB0aGlzIGhhbmRsZXIgb3MgY2FsbGVkLCBwbGF5YmFjayBoYXMgYmVlbiBzdGFydGVkIGFuZCB3ZSBzZXQgdGhlIGZsYWcgdG8gZmFsc2VcclxuICAgICAgICAgICAgcGxheWJhY2tOb3RJbml0aWFsaXplZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBpZiAoaXNTZWVraW5nKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBXZSBjYXVnaHQgYSBzZWVrIHByZXZpZXcgc2VlaywgZG8gbm90IHVwZGF0ZSB0aGUgc2Vla2JhclxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChwbGF5ZXIuaXNMaXZlKCkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChwbGF5ZXIuZ2V0TWF4VGltZVNoaWZ0KCkgPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIGNhc2UgbXVzdCBiZSBleHBsaWNpdGx5IGhhbmRsZWQgdG8gYXZvaWQgZGl2aXNpb24gYnkgemVyb1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnNldFBsYXliYWNrUG9zaXRpb24oMTAwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBwbGF5YmFja1Bvc2l0aW9uUGVyY2VudGFnZSA9IDEwMCAtICgxMDAgLyBwbGF5ZXIuZ2V0TWF4VGltZVNoaWZ0KCkgKiBwbGF5ZXIuZ2V0VGltZVNoaWZ0KCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnNldFBsYXliYWNrUG9zaXRpb24ocGxheWJhY2tQb3NpdGlvblBlcmNlbnRhZ2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gQWx3YXlzIHNob3cgZnVsbCBidWZmZXIgZm9yIGxpdmUgc3RyZWFtc1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuc2V0QnVmZmVyUG9zaXRpb24oMTAwKTtcclxuICAgICAgICAgICAgICAgIC8vIEhpZGUgU2Vla0JhciBpZiByZXF1aXJlZC5cclxuICAgICAgICAgICAgICAgIC8vIGlmIChjb25maWcuaGlkZUluTGl2ZVBsYXliYWNrKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcGxheWJhY2tQb3NpdGlvblBlcmNlbnRhZ2UgPSAxMDAgLyBwbGF5ZXIuZ2V0RHVyYXRpb24oKSAqIHBsYXllci5nZXRDdXJyZW50VGltZSgpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHZpZGVvQnVmZmVyTGVuZ3RoID0gcGxheWVyLmdldFZpZGVvQnVmZmVyTGVuZ3RoKCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgYXVkaW9CdWZmZXJMZW5ndGggPSBwbGF5ZXIuZ2V0QXVkaW9CdWZmZXJMZW5ndGgoKTtcclxuICAgICAgICAgICAgICAgIC8vIENhbGN1bGF0ZSB0aGUgYnVmZmVyIGxlbmd0aCB3aGljaCBpcyB0aGUgc21hbGxlciBsZW5ndGggb2YgdGhlIGF1ZGlvIGFuZCB2aWRlbyBidWZmZXJzLiBJZiBvbmUgb2YgdGhlc2VcclxuICAgICAgICAgICAgICAgIC8vIGJ1ZmZlcnMgaXMgbm90IGF2YWlsYWJsZSwgd2Ugc2V0IGl0J3MgdmFsdWUgdG8gTUFYX1ZBTFVFIHRvIG1ha2Ugc3VyZSB0aGF0IHRoZSBvdGhlciByZWFsIHZhbHVlIGlzIHRha2VuXHJcbiAgICAgICAgICAgICAgICAvLyBhcyB0aGUgYnVmZmVyIGxlbmd0aC5cclxuICAgICAgICAgICAgICAgIHZhciBidWZmZXJMZW5ndGggPSBNYXRoLm1pbih2aWRlb0J1ZmZlckxlbmd0aCAhPSBudWxsID8gdmlkZW9CdWZmZXJMZW5ndGggOiBOdW1iZXIuTUFYX1ZBTFVFLCBhdWRpb0J1ZmZlckxlbmd0aCAhPSBudWxsID8gYXVkaW9CdWZmZXJMZW5ndGggOiBOdW1iZXIuTUFYX1ZBTFVFKTtcclxuICAgICAgICAgICAgICAgIC8vIElmIGJvdGggYnVmZmVyIGxlbmd0aHMgYXJlIG1pc3NpbmcsIHdlIHNldCB0aGUgYnVmZmVyIGxlbmd0aCB0byB6ZXJvXHJcbiAgICAgICAgICAgICAgICBpZiAoYnVmZmVyTGVuZ3RoID09PSBOdW1iZXIuTUFYX1ZBTFVFKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnVmZmVyTGVuZ3RoID0gMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhciBidWZmZXJQZXJjZW50YWdlID0gMTAwIC8gcGxheWVyLmdldER1cmF0aW9uKCkgKiBidWZmZXJMZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAvLyBVcGRhdGUgcGxheWJhY2sgcG9zaXRpb24gb25seSBpbiBwYXVzZWQgc3RhdGUgb3IgaW4gdGhlIGluaXRpYWwgc3RhcnR1cCBzdGF0ZSB3aGVyZSBwbGF5ZXIgaXMgbmVpdGhlclxyXG4gICAgICAgICAgICAgICAgLy8gcGF1c2VkIG5vciBwbGF5aW5nLiBQbGF5YmFjayB1cGRhdGVzIGFyZSBoYW5kbGVkIGluIHRoZSBUaW1lb3V0IGJlbG93LlxyXG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLmNvbmZpZy5zbW9vdGhQbGF5YmFja1Bvc2l0aW9uVXBkYXRlSW50ZXJ2YWxNcyA9PT0gU2Vla0Jhci5TTU9PVEhfUExBWUJBQ0tfUE9TSVRJT05fVVBEQVRFX0RJU0FCTEVEXHJcbiAgICAgICAgICAgICAgICAgICAgfHwgZm9yY2VVcGRhdGUgfHwgcGxheWVyLmlzUGF1c2VkKCkgfHwgKHBsYXllci5pc1BhdXNlZCgpID09PSBwbGF5ZXIuaXNQbGF5aW5nKCkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2V0UGxheWJhY2tQb3NpdGlvbihwbGF5YmFja1Bvc2l0aW9uUGVyY2VudGFnZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5zZXRCdWZmZXJQb3NpdGlvbihwbGF5YmFja1Bvc2l0aW9uUGVyY2VudGFnZSArIGJ1ZmZlclBlcmNlbnRhZ2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICAvLyBVcGRhdGUgc2Vla2JhciB1cG9uIHRoZXNlIGV2ZW50c1xyXG4gICAgICAgIC8vIGluaXQgcGxheWJhY2sgcG9zaXRpb24gd2hlbiB0aGUgcGxheWVyIGlzIHJlYWR5XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fUkVBRFksIHBsYXliYWNrUG9zaXRpb25IYW5kbGVyKTtcclxuICAgICAgICAvLyB1cGRhdGUgcGxheWJhY2sgcG9zaXRpb24gd2hlbiBpdCBjaGFuZ2VzXHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fVElNRV9DSEFOR0VELCBwbGF5YmFja1Bvc2l0aW9uSGFuZGxlcik7XHJcbiAgICAgICAgLy8gdXBkYXRlIGJ1ZmZlcmxldmVsIHdoZW4gYnVmZmVyaW5nIGlzIGNvbXBsZXRlXHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fU1RBTExfRU5ERUQsIHBsYXliYWNrUG9zaXRpb25IYW5kbGVyKTtcclxuICAgICAgICAvLyB1cGRhdGUgcGxheWJhY2sgcG9zaXRpb24gd2hlbiBhIHNlZWsgaGFzIGZpbmlzaGVkXHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fU0VFS0VELCBwbGF5YmFja1Bvc2l0aW9uSGFuZGxlcik7XHJcbiAgICAgICAgLy8gdXBkYXRlIHBsYXliYWNrIHBvc2l0aW9uIHdoZW4gYSB0aW1lc2hpZnQgaGFzIGZpbmlzaGVkXHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fVElNRV9TSElGVEVELCBwbGF5YmFja1Bvc2l0aW9uSGFuZGxlcik7XHJcbiAgICAgICAgLy8gdXBkYXRlIGJ1ZmZlcmxldmVsIHdoZW4gYSBzZWdtZW50IGhhcyBiZWVuIGRvd25sb2FkZWRcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9TRUdNRU5UX1JFUVVFU1RfRklOSVNIRUQsIHBsYXliYWNrUG9zaXRpb25IYW5kbGVyKTtcclxuICAgICAgICAvLyB1cGRhdGUgcGxheWJhY2sgcG9zaXRpb24gb2YgQ2FzdCBwbGF5YmFja1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX0NBU1RfVElNRV9VUERBVEVELCBwbGF5YmFja1Bvc2l0aW9uSGFuZGxlcik7XHJcbiAgICAgICAgLy8gU2VlayBoYW5kbGluZ1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1NFRUssIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgX3RoaXMuc2V0U2Vla2luZyh0cnVlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9TRUVLRUQsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgX3RoaXMuc2V0U2Vla2luZyhmYWxzZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fVElNRV9TSElGVCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBfdGhpcy5zZXRTZWVraW5nKHRydWUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1RJTUVfU0hJRlRFRCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBfdGhpcy5zZXRTZWVraW5nKGZhbHNlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB2YXIgc2VlayA9IGZ1bmN0aW9uIChwZXJjZW50YWdlKSB7XHJcbiAgICAgICAgICAgIGlmIChwbGF5ZXIuaXNMaXZlKCkpIHtcclxuICAgICAgICAgICAgICAgIHBsYXllci50aW1lU2hpZnQocGxheWVyLmdldE1heFRpbWVTaGlmdCgpIC0gKHBsYXllci5nZXRNYXhUaW1lU2hpZnQoKSAqIChwZXJjZW50YWdlIC8gMTAwKSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcGxheWVyLnNlZWsocGxheWVyLmdldER1cmF0aW9uKCkgKiAocGVyY2VudGFnZSAvIDEwMCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLm9uU2Vlay5zdWJzY3JpYmUoZnVuY3Rpb24gKHNlbmRlcikge1xyXG4gICAgICAgICAgICBpc1NlZWtpbmcgPSB0cnVlOyAvLyB0cmFjayBzZWVraW5nIHN0YXR1cyBzbyB3ZSBjYW4gY2F0Y2ggZXZlbnRzIGZyb20gc2VlayBwcmV2aWV3IHNlZWtzXHJcbiAgICAgICAgICAgIC8vIE5vdGlmeSBVSSBtYW5hZ2VyIG9mIHN0YXJ0ZWQgc2Vla1xyXG4gICAgICAgICAgICB1aW1hbmFnZXIub25TZWVrLmRpc3BhdGNoKHNlbmRlcik7XHJcbiAgICAgICAgICAgIC8vIFNhdmUgY3VycmVudCBwbGF5YmFjayBzdGF0ZVxyXG4gICAgICAgICAgICBpc1BsYXlpbmcgPSBwbGF5ZXIuaXNQbGF5aW5nKCk7XHJcbiAgICAgICAgICAgIC8vIFBhdXNlIHBsYXliYWNrIHdoaWxlIHNlZWtpbmdcclxuICAgICAgICAgICAgaWYgKGlzUGxheWluZykge1xyXG4gICAgICAgICAgICAgICAgcGxheWVyLnBhdXNlKCd1aS1zZWVrJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLm9uU2Vla1ByZXZpZXcuc3Vic2NyaWJlKGZ1bmN0aW9uIChzZW5kZXIsIGFyZ3MpIHtcclxuICAgICAgICAgICAgLy8gTm90aWZ5IFVJIG1hbmFnZXIgb2Ygc2VlayBwcmV2aWV3XHJcbiAgICAgICAgICAgIHVpbWFuYWdlci5vblNlZWtQcmV2aWV3LmRpc3BhdGNoKHNlbmRlciwgYXJncyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5vblNlZWtQcmV2aWV3LnN1YnNjcmliZVJhdGVMaW1pdGVkKGZ1bmN0aW9uIChzZW5kZXIsIGFyZ3MpIHtcclxuICAgICAgICAgICAgLy8gUmF0ZS1saW1pdGVkIHNjcnViYmluZyBzZWVrXHJcbiAgICAgICAgICAgIGlmIChhcmdzLnNjcnViYmluZykge1xyXG4gICAgICAgICAgICAgICAgc2VlayhhcmdzLnBvc2l0aW9uKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIDIwMCk7XHJcbiAgICAgICAgdGhpcy5vblNlZWtlZC5zdWJzY3JpYmUoZnVuY3Rpb24gKHNlbmRlciwgcGVyY2VudGFnZSkge1xyXG4gICAgICAgICAgICBpc1NlZWtpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgLy8gRG8gdGhlIHNlZWtcclxuICAgICAgICAgICAgc2VlayhwZXJjZW50YWdlKTtcclxuICAgICAgICAgICAgLy8gQ29udGludWUgcGxheWJhY2sgYWZ0ZXIgc2VlayBpZiBwbGF5ZXIgd2FzIHBsYXlpbmcgd2hlbiBzZWVrIHN0YXJ0ZWRcclxuICAgICAgICAgICAgaWYgKGlzUGxheWluZykge1xyXG4gICAgICAgICAgICAgICAgcGxheWVyLnBsYXkoJ3VpLXNlZWsnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBOb3RpZnkgVUkgbWFuYWdlciBvZiBmaW5pc2hlZCBzZWVrXHJcbiAgICAgICAgICAgIHVpbWFuYWdlci5vblNlZWtlZC5kaXNwYXRjaChzZW5kZXIpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmICh0aGlzLmhhc0xhYmVsKCkpIHtcclxuICAgICAgICAgICAgLy8gQ29uZmlndXJlIGEgc2Vla2JhciBsYWJlbCB0aGF0IGlzIGludGVybmFsIHRvIHRoZSBzZWVrYmFyKVxyXG4gICAgICAgICAgICB0aGlzLmdldExhYmVsKCkuY29uZmlndXJlKHBsYXllciwgdWltYW5hZ2VyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gSGlkZSBzZWVrYmFyIGZvciBsaXZlIHNvdXJjZXMgd2l0aG91dCB0aW1lc2hpZnRcclxuICAgICAgICB2YXIgaXNMaXZlID0gZmFsc2U7XHJcbiAgICAgICAgdmFyIGhhc1RpbWVTaGlmdCA9IGZhbHNlO1xyXG4gICAgICAgIHZhciBzd2l0Y2hWaXNpYmlsaXR5ID0gZnVuY3Rpb24gKGlzTGl2ZSwgaGFzVGltZVNoaWZ0KSB7XHJcbiAgICAgICAgICAgIGlmIChpc0xpdmUgJiYgIWhhc1RpbWVTaGlmdCkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuaGlkZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuc2hvdygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHBsYXliYWNrUG9zaXRpb25IYW5kbGVyKG51bGwsIHRydWUpO1xyXG4gICAgICAgICAgICBfdGhpcy5yZWZyZXNoUGxheWJhY2tQb3NpdGlvbigpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdmFyIGxpdmVTdHJlYW1EZXRlY3RvciA9IG5ldyB1dGlsc18xLlBsYXllclV0aWxzLkxpdmVTdHJlYW1EZXRlY3RvcihwbGF5ZXIpO1xyXG4gICAgICAgIGxpdmVTdHJlYW1EZXRlY3Rvci5vbkxpdmVDaGFuZ2VkLnN1YnNjcmliZShmdW5jdGlvbiAoc2VuZGVyLCBhcmdzKSB7XHJcbiAgICAgICAgICAgIGlzTGl2ZSA9IGFyZ3MubGl2ZTtcclxuICAgICAgICAgICAgc3dpdGNoVmlzaWJpbGl0eShpc0xpdmUsIGhhc1RpbWVTaGlmdCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdmFyIHRpbWVTaGlmdERldGVjdG9yID0gbmV3IHV0aWxzXzEuUGxheWVyVXRpbHMuVGltZVNoaWZ0QXZhaWxhYmlsaXR5RGV0ZWN0b3IocGxheWVyKTtcclxuICAgICAgICB0aW1lU2hpZnREZXRlY3Rvci5vblRpbWVTaGlmdEF2YWlsYWJpbGl0eUNoYW5nZWQuc3Vic2NyaWJlKGZ1bmN0aW9uIChzZW5kZXIsIGFyZ3MpIHtcclxuICAgICAgICAgICAgaGFzVGltZVNoaWZ0ID0gYXJncy50aW1lU2hpZnRBdmFpbGFibGU7XHJcbiAgICAgICAgICAgIHN3aXRjaFZpc2liaWxpdHkoaXNMaXZlLCBoYXNUaW1lU2hpZnQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIEluaXRpYWwgZGV0ZWN0aW9uXHJcbiAgICAgICAgbGl2ZVN0cmVhbURldGVjdG9yLmRldGVjdCgpO1xyXG4gICAgICAgIHRpbWVTaGlmdERldGVjdG9yLmRldGVjdCgpO1xyXG4gICAgICAgIC8vIFJlZnJlc2ggdGhlIHBsYXliYWNrIHBvc2l0aW9uIHdoZW4gdGhlIHBsYXllciByZXNpemVkIG9yIHRoZSBVSSBpcyBjb25maWd1cmVkLiBUaGUgcGxheWJhY2sgcG9zaXRpb24gbWFya2VyXHJcbiAgICAgICAgLy8gaXMgcG9zaXRpb25lZCBhYnNvbHV0ZWx5IGFuZCBtdXN0IHRoZXJlZm9yZSBiZSB1cGRhdGVkIHdoZW4gdGhlIHNpemUgb2YgdGhlIHNlZWtiYXIgY2hhbmdlcy5cclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9QTEFZRVJfUkVTSVpFLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIF90aGlzLnJlZnJlc2hQbGF5YmFja1Bvc2l0aW9uKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gQWRkaXRpb25hbGx5LCB3aGVuIHRoaXMgY29kZSBpcyBjYWxsZWQsIHRoZSBzZWVrYmFyIGlzIG5vdCBwYXJ0IG9mIHRoZSBVSSB5ZXQgYW5kIHRoZXJlZm9yZSBkb2VzIG5vdCBoYXZlIGEgc2l6ZSxcclxuICAgICAgICAvLyByZXN1bHRpbmcgaW4gYSB3cm9uZyBpbml0aWFsIHBvc2l0aW9uIG9mIHRoZSBtYXJrZXIuIFJlZnJlc2hpbmcgaXQgb25jZSB0aGUgVUkgaXMgY29uZmlndXJlZCBzb2x2ZWQgdGhpcyBpc3N1ZS5cclxuICAgICAgICB1aW1hbmFnZXIub25Db25maWd1cmVkLnN1YnNjcmliZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIF90aGlzLnJlZnJlc2hQbGF5YmFja1Bvc2l0aW9uKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gSXQgY2FuIGFsc28gaGFwcGVuIHRoYXQgdGhlIHZhbHVlIGNoYW5nZXMgb25jZSB0aGUgcGxheWVyIGlzIHJlYWR5LCBvciB3aGVuIGEgbmV3IHNvdXJjZSBpcyBsb2FkZWQsIHNvIHdlIG5lZWRcclxuICAgICAgICAvLyB0byB1cGRhdGUgb24gT05fUkVBRFkgdG9vXHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fUkVBRFksIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgX3RoaXMucmVmcmVzaFBsYXliYWNrUG9zaXRpb24oKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBJbml0aWFsaXplIHNlZWtiYXJcclxuICAgICAgICBwbGF5YmFja1Bvc2l0aW9uSGFuZGxlcigpOyAvLyBTZXQgdGhlIHBsYXliYWNrIHBvc2l0aW9uXHJcbiAgICAgICAgdGhpcy5zZXRCdWZmZXJQb3NpdGlvbigwKTtcclxuICAgICAgICB0aGlzLnNldFNlZWtQb3NpdGlvbigwKTtcclxuICAgICAgICBpZiAodGhpcy5jb25maWcuc21vb3RoUGxheWJhY2tQb3NpdGlvblVwZGF0ZUludGVydmFsTXMgIT09IFNlZWtCYXIuU01PT1RIX1BMQVlCQUNLX1BPU0lUSU9OX1VQREFURV9ESVNBQkxFRCkge1xyXG4gICAgICAgICAgICB0aGlzLmNvbmZpZ3VyZVNtb290aFBsYXliYWNrUG9zaXRpb25VcGRhdGVyKHBsYXllciwgdWltYW5hZ2VyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jb25maWd1cmVNYXJrZXJzKHBsYXllciwgdWltYW5hZ2VyKTtcclxuICAgIH07XHJcbiAgICBTZWVrQmFyLnByb3RvdHlwZS5jb25maWd1cmVTbW9vdGhQbGF5YmFja1Bvc2l0aW9uVXBkYXRlciA9IGZ1bmN0aW9uIChwbGF5ZXIsIHVpbWFuYWdlcikge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgLypcclxuICAgICAgICAgKiBQbGF5YmFjayBwb3NpdGlvbiB1cGRhdGVcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIFdlIGRvIG5vdCB1cGRhdGUgdGhlIHBvc2l0aW9uIGRpcmVjdGx5IGZyb20gdGhlIE9OX1RJTUVfQ0hBTkdFRCBldmVudCwgYmVjYXVzZSBpdCBhcnJpdmVzIHZlcnkgaml0dGVyeSBhbmRcclxuICAgICAgICAgKiByZXN1bHRzIGluIGEgaml0dGVyeSBwb3NpdGlvbiBpbmRpY2F0b3Igc2luY2UgdGhlIENTUyB0cmFuc2l0aW9uIHRpbWUgaXMgc3RhdGljYWxseSBzZXQuXHJcbiAgICAgICAgICogVG8gd29yayBhcm91bmQgdGhpcyBpc3N1ZSwgd2UgbWFpbnRhaW4gYSBsb2NhbCBwbGF5YmFjayBwb3NpdGlvbiB0aGF0IGlzIHVwZGF0ZWQgaW4gYSBzdGFibGUgcmVndWxhciBpbnRlcnZhbFxyXG4gICAgICAgICAqIGFuZCBrZXB0IGluIHN5bmMgd2l0aCB0aGUgcGxheWVyLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHZhciBjdXJyZW50VGltZVNlZWtCYXIgPSAwO1xyXG4gICAgICAgIHZhciBjdXJyZW50VGltZVBsYXllciA9IDA7XHJcbiAgICAgICAgdmFyIHVwZGF0ZUludGVydmFsTXMgPSA1MDtcclxuICAgICAgICB2YXIgY3VycmVudFRpbWVVcGRhdGVEZWx0YVNlY3MgPSB1cGRhdGVJbnRlcnZhbE1zIC8gMTAwMDtcclxuICAgICAgICB0aGlzLnNtb290aFBsYXliYWNrUG9zaXRpb25VcGRhdGVyID0gbmV3IHRpbWVvdXRfMS5UaW1lb3V0KHVwZGF0ZUludGVydmFsTXMsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgY3VycmVudFRpbWVTZWVrQmFyICs9IGN1cnJlbnRUaW1lVXBkYXRlRGVsdGFTZWNzO1xyXG4gICAgICAgICAgICBjdXJyZW50VGltZVBsYXllciA9IHBsYXllci5nZXRDdXJyZW50VGltZSgpO1xyXG4gICAgICAgICAgICAvLyBTeW5jIGN1cnJlbnRUaW1lIG9mIHNlZWtiYXIgdG8gcGxheWVyXHJcbiAgICAgICAgICAgIHZhciBjdXJyZW50VGltZURlbHRhID0gY3VycmVudFRpbWVTZWVrQmFyIC0gY3VycmVudFRpbWVQbGF5ZXI7XHJcbiAgICAgICAgICAgIC8vIElmIHRoZSBkZWx0YSBpcyBsYXJnZXIgdGhhdCAyIHNlY3MsIGRpcmVjdGx5IGp1bXAgdGhlIHNlZWtiYXIgdG8gdGhlXHJcbiAgICAgICAgICAgIC8vIHBsYXllciB0aW1lIGluc3RlYWQgb2Ygc21vb3RobHkgZmFzdCBmb3J3YXJkaW5nL3Jld2luZGluZy5cclxuICAgICAgICAgICAgaWYgKE1hdGguYWJzKGN1cnJlbnRUaW1lRGVsdGEpID4gMikge1xyXG4gICAgICAgICAgICAgICAgY3VycmVudFRpbWVTZWVrQmFyID0gY3VycmVudFRpbWVQbGF5ZXI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoY3VycmVudFRpbWVEZWx0YSA8PSAtY3VycmVudFRpbWVVcGRhdGVEZWx0YVNlY3MpIHtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRUaW1lU2Vla0JhciArPSBjdXJyZW50VGltZVVwZGF0ZURlbHRhU2VjcztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChjdXJyZW50VGltZURlbHRhID49IGN1cnJlbnRUaW1lVXBkYXRlRGVsdGFTZWNzKSB7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50VGltZVNlZWtCYXIgLT0gY3VycmVudFRpbWVVcGRhdGVEZWx0YVNlY3M7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIHBsYXliYWNrUG9zaXRpb25QZXJjZW50YWdlID0gMTAwIC8gcGxheWVyLmdldER1cmF0aW9uKCkgKiBjdXJyZW50VGltZVNlZWtCYXI7XHJcbiAgICAgICAgICAgIF90aGlzLnNldFBsYXliYWNrUG9zaXRpb24ocGxheWJhY2tQb3NpdGlvblBlcmNlbnRhZ2UpO1xyXG4gICAgICAgIH0sIHRydWUpO1xyXG4gICAgICAgIHZhciBzdGFydFNtb290aFBsYXliYWNrUG9zaXRpb25VcGRhdGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoIXBsYXllci5pc0xpdmUoKSkge1xyXG4gICAgICAgICAgICAgICAgY3VycmVudFRpbWVTZWVrQmFyID0gcGxheWVyLmdldEN1cnJlbnRUaW1lKCk7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5zbW9vdGhQbGF5YmFja1Bvc2l0aW9uVXBkYXRlci5zdGFydCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICB2YXIgc3RvcFNtb290aFBsYXliYWNrUG9zaXRpb25VcGRhdGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBfdGhpcy5zbW9vdGhQbGF5YmFja1Bvc2l0aW9uVXBkYXRlci5jbGVhcigpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fUExBWSwgc3RhcnRTbW9vdGhQbGF5YmFja1Bvc2l0aW9uVXBkYXRlcik7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fQ0FTVF9QTEFZSU5HLCBzdGFydFNtb290aFBsYXliYWNrUG9zaXRpb25VcGRhdGVyKTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9QQVVTRUQsIHN0b3BTbW9vdGhQbGF5YmFja1Bvc2l0aW9uVXBkYXRlcik7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fQ0FTVF9QQVVTRUQsIHN0b3BTbW9vdGhQbGF5YmFja1Bvc2l0aW9uVXBkYXRlcik7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fU0VFS0VELCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGN1cnJlbnRUaW1lU2Vla0JhciA9IHBsYXllci5nZXRDdXJyZW50VGltZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmIChwbGF5ZXIuaXNQbGF5aW5nKCkpIHtcclxuICAgICAgICAgICAgc3RhcnRTbW9vdGhQbGF5YmFja1Bvc2l0aW9uVXBkYXRlcigpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBTZWVrQmFyLnByb3RvdHlwZS5jb25maWd1cmVNYXJrZXJzID0gZnVuY3Rpb24gKHBsYXllciwgdWltYW5hZ2VyKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB2YXIgY2xlYXJNYXJrZXJzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBfdGhpcy50aW1lbGluZU1hcmtlcnMgPSBbXTtcclxuICAgICAgICAgICAgX3RoaXMudXBkYXRlTWFya2VycygpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdmFyIHNldHVwTWFya2VycyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgY2xlYXJNYXJrZXJzKCk7XHJcbiAgICAgICAgICAgIHZhciBoYXNNYXJrZXJzSW5VaUNvbmZpZyA9IHVpbWFuYWdlci5nZXRDb25maWcoKS5tZXRhZGF0YSAmJiB1aW1hbmFnZXIuZ2V0Q29uZmlnKCkubWV0YWRhdGEubWFya2Vyc1xyXG4gICAgICAgICAgICAgICAgJiYgdWltYW5hZ2VyLmdldENvbmZpZygpLm1ldGFkYXRhLm1hcmtlcnMubGVuZ3RoID4gMDtcclxuICAgICAgICAgICAgdmFyIGhhc01hcmtlcnNJblBsYXllckNvbmZpZyA9IHBsYXllci5nZXRDb25maWcoKS5zb3VyY2UgJiYgcGxheWVyLmdldENvbmZpZygpLnNvdXJjZS5tYXJrZXJzXHJcbiAgICAgICAgICAgICAgICAmJiBwbGF5ZXIuZ2V0Q29uZmlnKCkuc291cmNlLm1hcmtlcnMubGVuZ3RoID4gMDtcclxuICAgICAgICAgICAgLy8gVGFrZSBtYXJrZXJzIGZyb20gdGhlIFVJIGNvbmZpZy4gSWYgbm8gbWFya2VycyBkZWZpbmVkLCB0cnkgdG8gdGFrZSB0aGVtIGZyb20gdGhlIHBsYXllcidzIHNvdXJjZSBjb25maWcuXHJcbiAgICAgICAgICAgIHZhciBtYXJrZXJzID0gaGFzTWFya2Vyc0luVWlDb25maWcgPyB1aW1hbmFnZXIuZ2V0Q29uZmlnKCkubWV0YWRhdGEubWFya2VycyA6XHJcbiAgICAgICAgICAgICAgICBoYXNNYXJrZXJzSW5QbGF5ZXJDb25maWcgPyBwbGF5ZXIuZ2V0Q29uZmlnKCkuc291cmNlLm1hcmtlcnMgOiBudWxsO1xyXG4gICAgICAgICAgICAvLyBHZW5lcmF0ZSB0aW1lbGluZSBtYXJrZXJzIGZyb20gdGhlIGNvbmZpZyBpZiB3ZSBoYXZlIG1hcmtlcnMgYW5kIGlmIHdlIGhhdmUgYSBkdXJhdGlvblxyXG4gICAgICAgICAgICAvLyBUaGUgZHVyYXRpb24gY2hlY2sgaXMgZm9yIGJ1Z2d5IHBsYXRmb3JtcyB3aGVyZSB0aGUgZHVyYXRpb24gaXMgbm90IGF2YWlsYWJsZSBpbnN0YW50bHkgKENocm9tZSBvbiBBbmRyb2lkIDQuMylcclxuICAgICAgICAgICAgaWYgKG1hcmtlcnMgJiYgcGxheWVyLmdldER1cmF0aW9uKCkgIT09IEluZmluaXR5KSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIG1hcmtlcnNfMSA9IG1hcmtlcnM7IF9pIDwgbWFya2Vyc18xLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtYXJrZXIgPSBtYXJrZXJzXzFbX2ldO1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnRpbWVsaW5lTWFya2Vycy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGltZTogMTAwIC8gcGxheWVyLmdldER1cmF0aW9uKCkgKiBtYXJrZXIudGltZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IG1hcmtlci50aXRsZSxcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBQb3B1bGF0ZSB0aGUgdGltZWxpbmUgd2l0aCB0aGUgbWFya2Vyc1xyXG4gICAgICAgICAgICBfdGhpcy51cGRhdGVNYXJrZXJzKCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICAvLyBBZGQgbWFya2VycyB3aGVuIGEgc291cmNlIGlzIGxvYWRlZFxyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1JFQURZLCBzZXR1cE1hcmtlcnMpO1xyXG4gICAgICAgIC8vIFJlbW92ZSBtYXJrZXJzIHdoZW4gdW5sb2FkZWRcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9TT1VSQ0VfVU5MT0FERUQsIGNsZWFyTWFya2Vycyk7XHJcbiAgICAgICAgLy8gSW5pdCBtYXJrZXJzIGF0IHN0YXJ0dXBcclxuICAgICAgICBzZXR1cE1hcmtlcnMoKTtcclxuICAgIH07XHJcbiAgICBTZWVrQmFyLnByb3RvdHlwZS5yZWxlYXNlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUucmVsZWFzZS5jYWxsKHRoaXMpO1xyXG4gICAgICAgIGlmICh0aGlzLnNtb290aFBsYXliYWNrUG9zaXRpb25VcGRhdGVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc21vb3RoUGxheWJhY2tQb3NpdGlvblVwZGF0ZXIuY2xlYXIoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgU2Vla0Jhci5wcm90b3R5cGUudG9Eb21FbGVtZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgaWYgKHRoaXMuY29uZmlnLnZlcnRpY2FsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29uZmlnLmNzc0NsYXNzZXMucHVzaCgndmVydGljYWwnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHNlZWtCYXJDb250YWluZXIgPSBuZXcgZG9tXzEuRE9NKCdkaXYnLCB7XHJcbiAgICAgICAgICAgICdpZCc6IHRoaXMuY29uZmlnLmlkLFxyXG4gICAgICAgICAgICAnY2xhc3MnOiB0aGlzLmdldENzc0NsYXNzZXMoKVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHZhciBzZWVrQmFyID0gbmV3IGRvbV8xLkRPTSgnZGl2Jywge1xyXG4gICAgICAgICAgICAnY2xhc3MnOiB0aGlzLnByZWZpeENzcygnc2Vla2JhcicpXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5zZWVrQmFyID0gc2Vla0JhcjtcclxuICAgICAgICAvLyBJbmRpY2F0b3IgdGhhdCBzaG93cyB0aGUgYnVmZmVyIGZpbGwgbGV2ZWxcclxuICAgICAgICB2YXIgc2Vla0JhckJ1ZmZlckxldmVsID0gbmV3IGRvbV8xLkRPTSgnZGl2Jywge1xyXG4gICAgICAgICAgICAnY2xhc3MnOiB0aGlzLnByZWZpeENzcygnc2Vla2Jhci1idWZmZXJsZXZlbCcpXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5zZWVrQmFyQnVmZmVyUG9zaXRpb24gPSBzZWVrQmFyQnVmZmVyTGV2ZWw7XHJcbiAgICAgICAgLy8gSW5kaWNhdG9yIHRoYXQgc2hvd3MgdGhlIGN1cnJlbnQgcGxheWJhY2sgcG9zaXRpb25cclxuICAgICAgICB2YXIgc2Vla0JhclBsYXliYWNrUG9zaXRpb24gPSBuZXcgZG9tXzEuRE9NKCdkaXYnLCB7XHJcbiAgICAgICAgICAgICdjbGFzcyc6IHRoaXMucHJlZml4Q3NzKCdzZWVrYmFyLXBsYXliYWNrcG9zaXRpb24nKVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuc2Vla0JhclBsYXliYWNrUG9zaXRpb24gPSBzZWVrQmFyUGxheWJhY2tQb3NpdGlvbjtcclxuICAgICAgICAvLyBBIG1hcmtlciBvZiB0aGUgY3VycmVudCBwbGF5YmFjayBwb3NpdGlvbiwgZS5nLiBhIGRvdCBvciBsaW5lXHJcbiAgICAgICAgdmFyIHNlZWtCYXJQbGF5YmFja1Bvc2l0aW9uTWFya2VyID0gbmV3IGRvbV8xLkRPTSgnZGl2Jywge1xyXG4gICAgICAgICAgICAnY2xhc3MnOiB0aGlzLnByZWZpeENzcygnc2Vla2Jhci1wbGF5YmFja3Bvc2l0aW9uLW1hcmtlcicpXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5zZWVrQmFyUGxheWJhY2tQb3NpdGlvbk1hcmtlciA9IHNlZWtCYXJQbGF5YmFja1Bvc2l0aW9uTWFya2VyO1xyXG4gICAgICAgIC8vIEluZGljYXRvciB0aGF0IHNob3cgd2hlcmUgYSBzZWVrIHdpbGwgZ28gdG9cclxuICAgICAgICB2YXIgc2Vla0JhclNlZWtQb3NpdGlvbiA9IG5ldyBkb21fMS5ET00oJ2RpdicsIHtcclxuICAgICAgICAgICAgJ2NsYXNzJzogdGhpcy5wcmVmaXhDc3MoJ3NlZWtiYXItc2Vla3Bvc2l0aW9uJylcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnNlZWtCYXJTZWVrUG9zaXRpb24gPSBzZWVrQmFyU2Vla1Bvc2l0aW9uO1xyXG4gICAgICAgIC8vIEluZGljYXRvciB0aGF0IHNob3dzIHRoZSBmdWxsIHNlZWtiYXJcclxuICAgICAgICB2YXIgc2Vla0JhckJhY2tkcm9wID0gbmV3IGRvbV8xLkRPTSgnZGl2Jywge1xyXG4gICAgICAgICAgICAnY2xhc3MnOiB0aGlzLnByZWZpeENzcygnc2Vla2Jhci1iYWNrZHJvcCcpXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5zZWVrQmFyQmFja2Ryb3AgPSBzZWVrQmFyQmFja2Ryb3A7XHJcbiAgICAgICAgdmFyIHNlZWtCYXJDaGFwdGVyTWFya2Vyc0NvbnRhaW5lciA9IG5ldyBkb21fMS5ET00oJ2RpdicsIHtcclxuICAgICAgICAgICAgJ2NsYXNzJzogdGhpcy5wcmVmaXhDc3MoJ3NlZWtiYXItbWFya2VycycpXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5zZWVrQmFyTWFya2Vyc0NvbnRhaW5lciA9IHNlZWtCYXJDaGFwdGVyTWFya2Vyc0NvbnRhaW5lcjtcclxuICAgICAgICBzZWVrQmFyLmFwcGVuZChzZWVrQmFyQmFja2Ryb3AsIHNlZWtCYXJCdWZmZXJMZXZlbCwgc2Vla0JhclNlZWtQb3NpdGlvbiwgc2Vla0JhclBsYXliYWNrUG9zaXRpb24sIHNlZWtCYXJDaGFwdGVyTWFya2Vyc0NvbnRhaW5lciwgc2Vla0JhclBsYXliYWNrUG9zaXRpb25NYXJrZXIpO1xyXG4gICAgICAgIHZhciBzZWVraW5nID0gZmFsc2U7XHJcbiAgICAgICAgLy8gRGVmaW5lIGhhbmRsZXIgZnVuY3Rpb25zIHNvIHdlIGNhbiBhdHRhY2gvcmVtb3ZlIHRoZW0gbGF0ZXJcclxuICAgICAgICB2YXIgbW91c2VUb3VjaE1vdmVIYW5kbGVyID0gZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAvLyBBdm9pZCBwcm9wYWdhdGlvbiB0byBWUiBoYW5kbGVyXHJcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgIHZhciB0YXJnZXRQZXJjZW50YWdlID0gMTAwICogX3RoaXMuZ2V0T2Zmc2V0KGUpO1xyXG4gICAgICAgICAgICBfdGhpcy5zZXRTZWVrUG9zaXRpb24odGFyZ2V0UGVyY2VudGFnZSk7XHJcbiAgICAgICAgICAgIF90aGlzLnNldFBsYXliYWNrUG9zaXRpb24odGFyZ2V0UGVyY2VudGFnZSk7XHJcbiAgICAgICAgICAgIF90aGlzLm9uU2Vla1ByZXZpZXdFdmVudCh0YXJnZXRQZXJjZW50YWdlLCB0cnVlKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciBtb3VzZVRvdWNoVXBIYW5kbGVyID0gZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAvLyBSZW1vdmUgaGFuZGxlcnMsIHNlZWsgb3BlcmF0aW9uIGlzIGZpbmlzaGVkXHJcbiAgICAgICAgICAgIG5ldyBkb21fMS5ET00oZG9jdW1lbnQpLm9mZigndG91Y2htb3ZlIG1vdXNlbW92ZScsIG1vdXNlVG91Y2hNb3ZlSGFuZGxlcik7XHJcbiAgICAgICAgICAgIG5ldyBkb21fMS5ET00oZG9jdW1lbnQpLm9mZigndG91Y2hlbmQgbW91c2V1cCcsIG1vdXNlVG91Y2hVcEhhbmRsZXIpO1xyXG4gICAgICAgICAgICB2YXIgdGFyZ2V0UGVyY2VudGFnZSA9IDEwMCAqIF90aGlzLmdldE9mZnNldChlKTtcclxuICAgICAgICAgICAgdmFyIHNuYXBwZWRDaGFwdGVyID0gX3RoaXMuZ2V0TWFya2VyQXRQb3NpdGlvbih0YXJnZXRQZXJjZW50YWdlKTtcclxuICAgICAgICAgICAgX3RoaXMuc2V0U2Vla2luZyhmYWxzZSk7XHJcbiAgICAgICAgICAgIHNlZWtpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgLy8gRmlyZSBzZWVrZWQgZXZlbnRcclxuICAgICAgICAgICAgX3RoaXMub25TZWVrZWRFdmVudChzbmFwcGVkQ2hhcHRlciA/IHNuYXBwZWRDaGFwdGVyLnRpbWUgOiB0YXJnZXRQZXJjZW50YWdlKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIC8vIEEgc2VlayBhbHdheXMgc3RhcnQgd2l0aCBhIHRvdWNoc3RhcnQgb3IgbW91c2Vkb3duIGRpcmVjdGx5IG9uIHRoZSBzZWVrYmFyLlxyXG4gICAgICAgIC8vIFRvIHRyYWNrIGEgbW91c2Ugc2VlayBhbHNvIG91dHNpZGUgdGhlIHNlZWtiYXIgKGZvciB0b3VjaCBldmVudHMgdGhpcyB3b3JrcyBhdXRvbWF0aWNhbGx5KSxcclxuICAgICAgICAvLyBzbyB0aGUgdXNlciBkb2VzIG5vdCBuZWVkIHRvIHRha2UgY2FyZSB0aGF0IHRoZSBtb3VzZSBhbHdheXMgc3RheXMgb24gdGhlIHNlZWtiYXIsIHdlIGF0dGFjaCB0aGUgbW91c2Vtb3ZlXHJcbiAgICAgICAgLy8gYW5kIG1vdXNldXAgaGFuZGxlcnMgdG8gdGhlIHdob2xlIGRvY3VtZW50LiBBIHNlZWsgaXMgdHJpZ2dlcmVkIHdoZW4gdGhlIHVzZXIgbGlmdHMgdGhlIG1vdXNlIGtleS5cclxuICAgICAgICAvLyBBIHNlZWsgbW91c2UgZ2VzdHVyZSBpcyB0aHVzIGJhc2ljYWxseSBhIGNsaWNrIHdpdGggYSBsb25nIHRpbWUgZnJhbWUgYmV0d2VlbiBkb3duIGFuZCB1cCBldmVudHMuXHJcbiAgICAgICAgc2Vla0Jhci5vbigndG91Y2hzdGFydCBtb3VzZWRvd24nLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICB2YXIgaXNUb3VjaEV2ZW50ID0gX3RoaXMudG91Y2hTdXBwb3J0ZWQgJiYgZSBpbnN0YW5jZW9mIFRvdWNoRXZlbnQ7XHJcbiAgICAgICAgICAgIC8vIFByZXZlbnQgc2VsZWN0aW9uIG9mIERPTSBlbGVtZW50cyAoYWxzbyBwcmV2ZW50cyBtb3VzZWRvd24gaWYgY3VycmVudCBldmVudCBpcyB0b3VjaHN0YXJ0KVxyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIC8vIEF2b2lkIHByb3BhZ2F0aW9uIHRvIFZSIGhhbmRsZXJcclxuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgX3RoaXMuc2V0U2Vla2luZyh0cnVlKTsgLy8gU2V0IHNlZWtpbmcgY2xhc3Mgb24gRE9NIGVsZW1lbnRcclxuICAgICAgICAgICAgc2Vla2luZyA9IHRydWU7IC8vIFNldCBzZWVrIHRyYWNraW5nIGZsYWdcclxuICAgICAgICAgICAgLy8gRmlyZSBzZWVrZWQgZXZlbnRcclxuICAgICAgICAgICAgX3RoaXMub25TZWVrRXZlbnQoKTtcclxuICAgICAgICAgICAgLy8gQWRkIGhhbmRsZXIgdG8gdHJhY2sgdGhlIHNlZWsgb3BlcmF0aW9uIG92ZXIgdGhlIHdob2xlIGRvY3VtZW50XHJcbiAgICAgICAgICAgIG5ldyBkb21fMS5ET00oZG9jdW1lbnQpLm9uKGlzVG91Y2hFdmVudCA/ICd0b3VjaG1vdmUnIDogJ21vdXNlbW92ZScsIG1vdXNlVG91Y2hNb3ZlSGFuZGxlcik7XHJcbiAgICAgICAgICAgIG5ldyBkb21fMS5ET00oZG9jdW1lbnQpLm9uKGlzVG91Y2hFdmVudCA/ICd0b3VjaGVuZCcgOiAnbW91c2V1cCcsIG1vdXNlVG91Y2hVcEhhbmRsZXIpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIERpc3BsYXkgc2VlayB0YXJnZXQgaW5kaWNhdG9yIHdoZW4gbW91c2UgaG92ZXJzIG9yIGZpbmdlciBzbGlkZXMgb3ZlciBzZWVrYmFyXHJcbiAgICAgICAgc2Vla0Jhci5vbigndG91Y2htb3ZlIG1vdXNlbW92ZScsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgaWYgKHNlZWtpbmcpIHtcclxuICAgICAgICAgICAgICAgIC8vIER1cmluZyBhIHNlZWsgKHdoZW4gbW91c2UgaXMgZG93biBvciB0b3VjaCBtb3ZlIGFjdGl2ZSksIHdlIG5lZWQgdG8gc3RvcCBwcm9wYWdhdGlvbiB0byBhdm9pZFxyXG4gICAgICAgICAgICAgICAgLy8gdGhlIFZSIHZpZXdwb3J0IHJlYWN0aW5nIHRvIHRoZSBtb3Zlcy5cclxuICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICAvLyBCZWNhdXNlIHRoZSBzdG9wcGVkIHByb3BhZ2F0aW9uIGluaGliaXRzIHRoZSBldmVudCBvbiB0aGUgZG9jdW1lbnQsIHdlIG5lZWQgdG8gY2FsbCBpdCBmcm9tIGhlcmVcclxuICAgICAgICAgICAgICAgIG1vdXNlVG91Y2hNb3ZlSGFuZGxlcihlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgcG9zaXRpb24gPSAxMDAgKiBfdGhpcy5nZXRPZmZzZXQoZSk7XHJcbiAgICAgICAgICAgIF90aGlzLnNldFNlZWtQb3NpdGlvbihwb3NpdGlvbik7XHJcbiAgICAgICAgICAgIF90aGlzLm9uU2Vla1ByZXZpZXdFdmVudChwb3NpdGlvbiwgZmFsc2UpO1xyXG4gICAgICAgICAgICBpZiAoX3RoaXMuaGFzTGFiZWwoKSAmJiBfdGhpcy5nZXRMYWJlbCgpLmlzSGlkZGVuKCkpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLmdldExhYmVsKCkuc2hvdygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gSGlkZSBzZWVrIHRhcmdldCBpbmRpY2F0b3Igd2hlbiBtb3VzZSBvciBmaW5nZXIgbGVhdmVzIHNlZWtiYXJcclxuICAgICAgICBzZWVrQmFyLm9uKCd0b3VjaGVuZCBtb3VzZWxlYXZlJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICBfdGhpcy5zZXRTZWVrUG9zaXRpb24oMCk7XHJcbiAgICAgICAgICAgIGlmIChfdGhpcy5oYXNMYWJlbCgpKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5nZXRMYWJlbCgpLmhpZGUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHNlZWtCYXJDb250YWluZXIuYXBwZW5kKHNlZWtCYXIpO1xyXG4gICAgICAgIGlmICh0aGlzLmxhYmVsKSB7XHJcbiAgICAgICAgICAgIHNlZWtCYXJDb250YWluZXIuYXBwZW5kKHRoaXMubGFiZWwuZ2V0RG9tRWxlbWVudCgpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHNlZWtCYXJDb250YWluZXI7XHJcbiAgICB9O1xyXG4gICAgU2Vla0Jhci5wcm90b3R5cGUudXBkYXRlTWFya2VycyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLnNlZWtCYXJNYXJrZXJzQ29udGFpbmVyLmVtcHR5KCk7XHJcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IHRoaXMudGltZWxpbmVNYXJrZXJzOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICB2YXIgbWFya2VyID0gX2FbX2ldO1xyXG4gICAgICAgICAgICB0aGlzLnNlZWtCYXJNYXJrZXJzQ29udGFpbmVyLmFwcGVuZChuZXcgZG9tXzEuRE9NKCdkaXYnLCB7XHJcbiAgICAgICAgICAgICAgICAnY2xhc3MnOiB0aGlzLnByZWZpeENzcygnc2Vla2Jhci1tYXJrZXInKSxcclxuICAgICAgICAgICAgICAgICdkYXRhLW1hcmtlci10aW1lJzogU3RyaW5nKG1hcmtlci50aW1lKSxcclxuICAgICAgICAgICAgICAgICdkYXRhLW1hcmtlci10aXRsZSc6IFN0cmluZyhtYXJrZXIudGl0bGUpLFxyXG4gICAgICAgICAgICB9KS5jc3Moe1xyXG4gICAgICAgICAgICAgICAgJ3dpZHRoJzogbWFya2VyLnRpbWUgKyAnJScsXHJcbiAgICAgICAgICAgIH0pKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgU2Vla0Jhci5wcm90b3R5cGUuZ2V0TWFya2VyQXRQb3NpdGlvbiA9IGZ1bmN0aW9uIChwZXJjZW50YWdlKSB7XHJcbiAgICAgICAgdmFyIHNuYXBwZWRNYXJrZXIgPSBudWxsO1xyXG4gICAgICAgIHZhciBzbmFwcGluZ1JhbmdlID0gMTtcclxuICAgICAgICBpZiAodGhpcy50aW1lbGluZU1hcmtlcnMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gdGhpcy50aW1lbGluZU1hcmtlcnM7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbWFya2VyID0gX2FbX2ldO1xyXG4gICAgICAgICAgICAgICAgaWYgKHBlcmNlbnRhZ2UgPj0gbWFya2VyLnRpbWUgLSBzbmFwcGluZ1JhbmdlICYmIHBlcmNlbnRhZ2UgPD0gbWFya2VyLnRpbWUgKyBzbmFwcGluZ1JhbmdlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc25hcHBlZE1hcmtlciA9IG1hcmtlcjtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gc25hcHBlZE1hcmtlcjtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEdldHMgdGhlIGhvcml6b250YWwgb2Zmc2V0IG9mIGEgbW91c2UvdG91Y2ggZXZlbnQgcG9pbnQgZnJvbSB0aGUgbGVmdCBlZGdlIG9mIHRoZSBzZWVrIGJhci5cclxuICAgICAqIEBwYXJhbSBldmVudFBhZ2VYIHRoZSBwYWdlWCBjb29yZGluYXRlIG9mIGFuIGV2ZW50IHRvIGNhbGN1bGF0ZSB0aGUgb2Zmc2V0IGZyb21cclxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IGEgbnVtYmVyIGluIHRoZSByYW5nZSBvZiBbMCwgMV0sIHdoZXJlIDAgaXMgdGhlIGxlZnQgZWRnZSBhbmQgMSBpcyB0aGUgcmlnaHQgZWRnZVxyXG4gICAgICovXHJcbiAgICBTZWVrQmFyLnByb3RvdHlwZS5nZXRIb3Jpem9udGFsT2Zmc2V0ID0gZnVuY3Rpb24gKGV2ZW50UGFnZVgpIHtcclxuICAgICAgICB2YXIgZWxlbWVudE9mZnNldFB4ID0gdGhpcy5zZWVrQmFyLm9mZnNldCgpLmxlZnQ7XHJcbiAgICAgICAgdmFyIHdpZHRoUHggPSB0aGlzLnNlZWtCYXIud2lkdGgoKTtcclxuICAgICAgICB2YXIgb2Zmc2V0UHggPSBldmVudFBhZ2VYIC0gZWxlbWVudE9mZnNldFB4O1xyXG4gICAgICAgIHZhciBvZmZzZXQgPSAxIC8gd2lkdGhQeCAqIG9mZnNldFB4O1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNhbml0aXplT2Zmc2V0KG9mZnNldCk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIHRoZSB2ZXJ0aWNhbCBvZmZzZXQgb2YgYSBtb3VzZS90b3VjaCBldmVudCBwb2ludCBmcm9tIHRoZSBib3R0b20gZWRnZSBvZiB0aGUgc2VlayBiYXIuXHJcbiAgICAgKiBAcGFyYW0gZXZlbnRQYWdlWSB0aGUgcGFnZVggY29vcmRpbmF0ZSBvZiBhbiBldmVudCB0byBjYWxjdWxhdGUgdGhlIG9mZnNldCBmcm9tXHJcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBhIG51bWJlciBpbiB0aGUgcmFuZ2Ugb2YgWzAsIDFdLCB3aGVyZSAwIGlzIHRoZSBib3R0b20gZWRnZSBhbmQgMSBpcyB0aGUgdG9wIGVkZ2VcclxuICAgICAqL1xyXG4gICAgU2Vla0Jhci5wcm90b3R5cGUuZ2V0VmVydGljYWxPZmZzZXQgPSBmdW5jdGlvbiAoZXZlbnRQYWdlWSkge1xyXG4gICAgICAgIHZhciBlbGVtZW50T2Zmc2V0UHggPSB0aGlzLnNlZWtCYXIub2Zmc2V0KCkudG9wO1xyXG4gICAgICAgIHZhciB3aWR0aFB4ID0gdGhpcy5zZWVrQmFyLmhlaWdodCgpO1xyXG4gICAgICAgIHZhciBvZmZzZXRQeCA9IGV2ZW50UGFnZVkgLSBlbGVtZW50T2Zmc2V0UHg7XHJcbiAgICAgICAgdmFyIG9mZnNldCA9IDEgLyB3aWR0aFB4ICogb2Zmc2V0UHg7XHJcbiAgICAgICAgcmV0dXJuIDEgLSB0aGlzLnNhbml0aXplT2Zmc2V0KG9mZnNldCk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIHRoZSBtb3VzZSBvciB0b3VjaCBldmVudCBvZmZzZXQgZm9yIHRoZSBjdXJyZW50IGNvbmZpZ3VyYXRpb24gKGhvcml6b250YWwgb3IgdmVydGljYWwpLlxyXG4gICAgICogQHBhcmFtIGUgdGhlIGV2ZW50IHRvIGNhbGN1bGF0ZSB0aGUgb2Zmc2V0IGZyb21cclxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IGEgbnVtYmVyIGluIHRoZSByYW5nZSBvZiBbMCwgMV1cclxuICAgICAqIEBzZWUgI2dldEhvcml6b250YWxPZmZzZXRcclxuICAgICAqIEBzZWUgI2dldFZlcnRpY2FsT2Zmc2V0XHJcbiAgICAgKi9cclxuICAgIFNlZWtCYXIucHJvdG90eXBlLmdldE9mZnNldCA9IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgaWYgKHRoaXMudG91Y2hTdXBwb3J0ZWQgJiYgZSBpbnN0YW5jZW9mIFRvdWNoRXZlbnQpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuY29uZmlnLnZlcnRpY2FsKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRWZXJ0aWNhbE9mZnNldChlLnR5cGUgPT09ICd0b3VjaGVuZCcgPyBlLmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VZIDogZS50b3VjaGVzWzBdLnBhZ2VZKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldEhvcml6b250YWxPZmZzZXQoZS50eXBlID09PSAndG91Y2hlbmQnID8gZS5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWCA6IGUudG91Y2hlc1swXS5wYWdlWCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoZSBpbnN0YW5jZW9mIE1vdXNlRXZlbnQpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuY29uZmlnLnZlcnRpY2FsKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRWZXJ0aWNhbE9mZnNldChlLnBhZ2VZKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldEhvcml6b250YWxPZmZzZXQoZS5wYWdlWCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChjb25zb2xlKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ2ludmFsaWQgZXZlbnQnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBTYW5pdGl6ZXMgdGhlIG1vdXNlIG9mZnNldCB0byB0aGUgcmFuZ2Ugb2YgWzAsIDFdLlxyXG4gICAgICpcclxuICAgICAqIFdoZW4gdHJhY2tpbmcgdGhlIG1vdXNlIG91dHNpZGUgdGhlIHNlZWsgYmFyLCB0aGUgb2Zmc2V0IGNhbiBiZSBvdXRzaWRlIHRoZSBkZXNpcmVkIHJhbmdlIGFuZCB0aGlzIG1ldGhvZFxyXG4gICAgICogbGltaXRzIGl0IHRvIHRoZSBkZXNpcmVkIHJhbmdlLiBFLmcuIGEgbW91c2UgZXZlbnQgbGVmdCBvZiB0aGUgbGVmdCBlZGdlIG9mIGEgc2VlayBiYXIgeWllbGRzIGFuIG9mZnNldCBiZWxvd1xyXG4gICAgICogemVybywgYnV0IHRvIGRpc3BsYXkgdGhlIHNlZWsgdGFyZ2V0IG9uIHRoZSBzZWVrIGJhciwgd2UgbmVlZCB0byBsaW1pdCBpdCB0byB6ZXJvLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBvZmZzZXQgdGhlIG9mZnNldCB0byBzYW5pdGl6ZVxyXG4gICAgICogQHJldHVybnMge251bWJlcn0gdGhlIHNhbml0aXplZCBvZmZzZXQuXHJcbiAgICAgKi9cclxuICAgIFNlZWtCYXIucHJvdG90eXBlLnNhbml0aXplT2Zmc2V0ID0gZnVuY3Rpb24gKG9mZnNldCkge1xyXG4gICAgICAgIC8vIFNpbmNlIHdlIHRyYWNrIG1vdXNlIG1vdmVzIG92ZXIgdGhlIHdob2xlIGRvY3VtZW50LCB0aGUgdGFyZ2V0IGNhbiBiZSBvdXRzaWRlIHRoZSBzZWVrIHJhbmdlLFxyXG4gICAgICAgIC8vIGFuZCB3ZSBuZWVkIHRvIGxpbWl0IGl0IHRvIHRoZSBbMCwgMV0gcmFuZ2UuXHJcbiAgICAgICAgaWYgKG9mZnNldCA8IDApIHtcclxuICAgICAgICAgICAgb2Zmc2V0ID0gMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAob2Zmc2V0ID4gMSkge1xyXG4gICAgICAgICAgICBvZmZzZXQgPSAxO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gb2Zmc2V0O1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogU2V0cyB0aGUgcG9zaXRpb24gb2YgdGhlIHBsYXliYWNrIHBvc2l0aW9uIGluZGljYXRvci5cclxuICAgICAqIEBwYXJhbSBwZXJjZW50IGEgbnVtYmVyIGJldHdlZW4gMCBhbmQgMTAwIGFzIHJldHVybmVkIGJ5IHRoZSBwbGF5ZXJcclxuICAgICAqL1xyXG4gICAgU2Vla0Jhci5wcm90b3R5cGUuc2V0UGxheWJhY2tQb3NpdGlvbiA9IGZ1bmN0aW9uIChwZXJjZW50KSB7XHJcbiAgICAgICAgdGhpcy5wbGF5YmFja1Bvc2l0aW9uUGVyY2VudGFnZSA9IHBlcmNlbnQ7XHJcbiAgICAgICAgLy8gU2V0IHBvc2l0aW9uIG9mIHRoZSBiYXJcclxuICAgICAgICB0aGlzLnNldFBvc2l0aW9uKHRoaXMuc2Vla0JhclBsYXliYWNrUG9zaXRpb24sIHBlcmNlbnQpO1xyXG4gICAgICAgIC8vIFNldCBwb3NpdGlvbiBvZiB0aGUgbWFya2VyXHJcbiAgICAgICAgdmFyIHB4ID0gKHRoaXMuY29uZmlnLnZlcnRpY2FsID8gdGhpcy5zZWVrQmFyLmhlaWdodCgpIDogdGhpcy5zZWVrQmFyLndpZHRoKCkpIC8gMTAwICogcGVyY2VudDtcclxuICAgICAgICBpZiAodGhpcy5jb25maWcudmVydGljYWwpIHtcclxuICAgICAgICAgICAgcHggPSB0aGlzLnNlZWtCYXIuaGVpZ2h0KCkgLSBweDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHN0eWxlID0gdGhpcy5jb25maWcudmVydGljYWwgP1xyXG4gICAgICAgICAgICAvLyAtbXMtdHJhbnNmb3JtIHJlcXVpcmVkIGZvciBJRTlcclxuICAgICAgICAgICAgeyAndHJhbnNmb3JtJzogJ3RyYW5zbGF0ZVkoJyArIHB4ICsgJ3B4KScsICctbXMtdHJhbnNmb3JtJzogJ3RyYW5zbGF0ZVkoJyArIHB4ICsgJ3B4KScgfSA6XHJcbiAgICAgICAgICAgIHsgJ3RyYW5zZm9ybSc6ICd0cmFuc2xhdGVYKCcgKyBweCArICdweCknLCAnLW1zLXRyYW5zZm9ybSc6ICd0cmFuc2xhdGVYKCcgKyBweCArICdweCknIH07XHJcbiAgICAgICAgdGhpcy5zZWVrQmFyUGxheWJhY2tQb3NpdGlvbk1hcmtlci5jc3Moc3R5bGUpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUmVmcmVzaGVzIHRoZSBwbGF5YmFjayBwb3NpdGlvbi4gQ2FuIGJlIHVzZWQgYnkgc3ViY2xhc3NlcyB0byByZWZyZXNoIHRoZSBwb3NpdGlvbiB3aGVuXHJcbiAgICAgKiB0aGUgc2l6ZSBvZiB0aGUgY29tcG9uZW50IGNoYW5nZXMuXHJcbiAgICAgKi9cclxuICAgIFNlZWtCYXIucHJvdG90eXBlLnJlZnJlc2hQbGF5YmFja1Bvc2l0aW9uID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuc2V0UGxheWJhY2tQb3NpdGlvbih0aGlzLnBsYXliYWNrUG9zaXRpb25QZXJjZW50YWdlKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFNldHMgdGhlIHBvc2l0aW9uIHVudGlsIHdoaWNoIG1lZGlhIGlzIGJ1ZmZlcmVkLlxyXG4gICAgICogQHBhcmFtIHBlcmNlbnQgYSBudW1iZXIgYmV0d2VlbiAwIGFuZCAxMDBcclxuICAgICAqL1xyXG4gICAgU2Vla0Jhci5wcm90b3R5cGUuc2V0QnVmZmVyUG9zaXRpb24gPSBmdW5jdGlvbiAocGVyY2VudCkge1xyXG4gICAgICAgIHRoaXMuc2V0UG9zaXRpb24odGhpcy5zZWVrQmFyQnVmZmVyUG9zaXRpb24sIHBlcmNlbnQpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogU2V0cyB0aGUgcG9zaXRpb24gd2hlcmUgYSBzZWVrLCBpZiBleGVjdXRlZCwgd291bGQganVtcCB0by5cclxuICAgICAqIEBwYXJhbSBwZXJjZW50IGEgbnVtYmVyIGJldHdlZW4gMCBhbmQgMTAwXHJcbiAgICAgKi9cclxuICAgIFNlZWtCYXIucHJvdG90eXBlLnNldFNlZWtQb3NpdGlvbiA9IGZ1bmN0aW9uIChwZXJjZW50KSB7XHJcbiAgICAgICAgdGhpcy5zZXRQb3NpdGlvbih0aGlzLnNlZWtCYXJTZWVrUG9zaXRpb24sIHBlcmNlbnQpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogU2V0IHRoZSBhY3R1YWwgcG9zaXRpb24gKHdpZHRoIG9yIGhlaWdodCkgb2YgYSBET00gZWxlbWVudCB0aGF0IHJlcHJlc2VudCBhIGJhciBpbiB0aGUgc2VlayBiYXIuXHJcbiAgICAgKiBAcGFyYW0gZWxlbWVudCB0aGUgZWxlbWVudCB0byBzZXQgdGhlIHBvc2l0aW9uIGZvclxyXG4gICAgICogQHBhcmFtIHBlcmNlbnQgYSBudW1iZXIgYmV0d2VlbiAwIGFuZCAxMDBcclxuICAgICAqL1xyXG4gICAgU2Vla0Jhci5wcm90b3R5cGUuc2V0UG9zaXRpb24gPSBmdW5jdGlvbiAoZWxlbWVudCwgcGVyY2VudCkge1xyXG4gICAgICAgIHZhciBzY2FsZSA9IHBlcmNlbnQgLyAxMDA7XHJcbiAgICAgICAgdmFyIHN0eWxlID0gdGhpcy5jb25maWcudmVydGljYWwgP1xyXG4gICAgICAgICAgICAvLyAtbXMtdHJhbnNmb3JtIHJlcXVpcmVkIGZvciBJRTlcclxuICAgICAgICAgICAgeyAndHJhbnNmb3JtJzogJ3NjYWxlWSgnICsgc2NhbGUgKyAnKScsICctbXMtdHJhbnNmb3JtJzogJ3NjYWxlWSgnICsgc2NhbGUgKyAnKScgfSA6XHJcbiAgICAgICAgICAgIHsgJ3RyYW5zZm9ybSc6ICdzY2FsZVgoJyArIHNjYWxlICsgJyknLCAnLW1zLXRyYW5zZm9ybSc6ICdzY2FsZVgoJyArIHNjYWxlICsgJyknIH07XHJcbiAgICAgICAgZWxlbWVudC5jc3Moc3R5bGUpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUHV0cyB0aGUgc2VlayBiYXIgaW50byBvciBvdXQgb2Ygc2Vla2luZyBzdGF0ZSBieSBhZGRpbmcvcmVtb3ZpbmcgYSBjbGFzcyB0byB0aGUgRE9NIGVsZW1lbnQuIFRoaXMgY2FuIGJlIHVzZWRcclxuICAgICAqIHRvIGFkanVzdCB0aGUgc3R5bGluZyB3aGlsZSBzZWVraW5nLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBzZWVraW5nIHNob3VsZCBiZSB0cnVlIHdoZW4gZW50ZXJpbmcgc2VlayBzdGF0ZSwgZmFsc2Ugd2hlbiBleGl0aW5nIHRoZSBzZWVrIHN0YXRlXHJcbiAgICAgKi9cclxuICAgIFNlZWtCYXIucHJvdG90eXBlLnNldFNlZWtpbmcgPSBmdW5jdGlvbiAoc2Vla2luZykge1xyXG4gICAgICAgIGlmIChzZWVraW5nKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2V0RG9tRWxlbWVudCgpLmFkZENsYXNzKHRoaXMucHJlZml4Q3NzKFNlZWtCYXIuQ0xBU1NfU0VFS0lORykpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5nZXREb21FbGVtZW50KCkucmVtb3ZlQ2xhc3ModGhpcy5wcmVmaXhDc3MoU2Vla0Jhci5DTEFTU19TRUVLSU5HKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2tzIGlmIHRoZSBzZWVrIGJhciBpcyBjdXJyZW50bHkgaW4gdGhlIHNlZWsgc3RhdGUuXHJcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpZiBpbiBzZWVrIHN0YXRlLCBlbHNlIGZhbHNlXHJcbiAgICAgKi9cclxuICAgIFNlZWtCYXIucHJvdG90eXBlLmlzU2Vla2luZyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXREb21FbGVtZW50KCkuaGFzQ2xhc3ModGhpcy5wcmVmaXhDc3MoU2Vla0Jhci5DTEFTU19TRUVLSU5HKSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVja3MgaWYgdGhlIHNlZWsgYmFyIGhhcyBhIHtAbGluayBTZWVrQmFyTGFiZWx9LlxyXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IHRydWUgaWYgdGhlIHNlZWsgYmFyIGhhcyBhIGxhYmVsLCBlbHNlIGZhbHNlXHJcbiAgICAgKi9cclxuICAgIFNlZWtCYXIucHJvdG90eXBlLmhhc0xhYmVsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmxhYmVsICE9IG51bGw7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIHRoZSBsYWJlbCBvZiB0aGlzIHNlZWsgYmFyLlxyXG4gICAgICogQHJldHVybnMge1NlZWtCYXJMYWJlbH0gdGhlIGxhYmVsIGlmIHRoaXMgc2VlayBiYXIgaGFzIGEgbGFiZWwsIGVsc2UgbnVsbFxyXG4gICAgICovXHJcbiAgICBTZWVrQmFyLnByb3RvdHlwZS5nZXRMYWJlbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5sYWJlbDtcclxuICAgIH07XHJcbiAgICBTZWVrQmFyLnByb3RvdHlwZS5vblNlZWtFdmVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLnNlZWtCYXJFdmVudHMub25TZWVrLmRpc3BhdGNoKHRoaXMpO1xyXG4gICAgfTtcclxuICAgIFNlZWtCYXIucHJvdG90eXBlLm9uU2Vla1ByZXZpZXdFdmVudCA9IGZ1bmN0aW9uIChwZXJjZW50YWdlLCBzY3J1YmJpbmcpIHtcclxuICAgICAgICB2YXIgc25hcHBlZE1hcmtlciA9IHRoaXMuZ2V0TWFya2VyQXRQb3NpdGlvbihwZXJjZW50YWdlKTtcclxuICAgICAgICBpZiAodGhpcy5sYWJlbCkge1xyXG4gICAgICAgICAgICB0aGlzLmxhYmVsLmdldERvbUVsZW1lbnQoKS5jc3Moe1xyXG4gICAgICAgICAgICAgICAgJ2xlZnQnOiAoc25hcHBlZE1hcmtlciA/IHNuYXBwZWRNYXJrZXIudGltZSA6IHBlcmNlbnRhZ2UpICsgJyUnXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnNlZWtCYXJFdmVudHMub25TZWVrUHJldmlldy5kaXNwYXRjaCh0aGlzLCB7XHJcbiAgICAgICAgICAgIHNjcnViYmluZzogc2NydWJiaW5nLFxyXG4gICAgICAgICAgICBwb3NpdGlvbjogcGVyY2VudGFnZSxcclxuICAgICAgICAgICAgbWFya2VyOiBzbmFwcGVkTWFya2VyLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIFNlZWtCYXIucHJvdG90eXBlLm9uU2Vla2VkRXZlbnQgPSBmdW5jdGlvbiAocGVyY2VudGFnZSkge1xyXG4gICAgICAgIHRoaXMuc2Vla0JhckV2ZW50cy5vblNlZWtlZC5kaXNwYXRjaCh0aGlzLCBwZXJjZW50YWdlKTtcclxuICAgIH07XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU2Vla0Jhci5wcm90b3R5cGUsIFwib25TZWVrXCIsIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBHZXRzIHRoZSBldmVudCB0aGF0IGlzIGZpcmVkIHdoZW4gYSBzY3J1YmJpbmcgc2VlayBvcGVyYXRpb24gaXMgc3RhcnRlZC5cclxuICAgICAgICAgKiBAcmV0dXJucyB7RXZlbnQ8U2Vla0JhciwgTm9BcmdzPn1cclxuICAgICAgICAgKi9cclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2Vla0JhckV2ZW50cy5vblNlZWsuZ2V0RXZlbnQoKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTZWVrQmFyLnByb3RvdHlwZSwgXCJvblNlZWtQcmV2aWV3XCIsIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBHZXRzIHRoZSBldmVudCB0aGF0IGlzIGZpcmVkIGR1cmluZyBhIHNjcnViYmluZyBzZWVrICh0byBpbmRpY2F0ZSB0aGF0IHRoZSBzZWVrIHByZXZpZXcsIGkuZS4gdGhlIHZpZGVvIGZyYW1lLFxyXG4gICAgICAgICAqIHNob3VsZCBiZSB1cGRhdGVkKSwgb3IgZHVyaW5nIGEgbm9ybWFsIHNlZWsgcHJldmlldyB3aGVuIHRoZSBzZWVrIGJhciBpcyBob3ZlcmVkIChhbmQgdGhlIHNlZWsgdGFyZ2V0LFxyXG4gICAgICAgICAqIGkuZS4gdGhlIHNlZWsgYmFyIGxhYmVsLCBzaG91bGQgYmUgdXBkYXRlZCkuXHJcbiAgICAgICAgICogQHJldHVybnMge0V2ZW50PFNlZWtCYXIsIFNlZWtQcmV2aWV3RXZlbnRBcmdzPn1cclxuICAgICAgICAgKi9cclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2Vla0JhckV2ZW50cy5vblNlZWtQcmV2aWV3LmdldEV2ZW50KCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU2Vla0Jhci5wcm90b3R5cGUsIFwib25TZWVrZWRcIiwge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEdldHMgdGhlIGV2ZW50IHRoYXQgaXMgZmlyZWQgd2hlbiBhIHNjcnViYmluZyBzZWVrIGhhcyBmaW5pc2hlZCBvciB3aGVuIGEgZGlyZWN0IHNlZWsgaXMgaXNzdWVkLlxyXG4gICAgICAgICAqIEByZXR1cm5zIHtFdmVudDxTZWVrQmFyLCBudW1iZXI+fVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zZWVrQmFyRXZlbnRzLm9uU2Vla2VkLmdldEV2ZW50KCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBTZWVrQmFyLnByb3RvdHlwZS5vblNob3dFdmVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLm9uU2hvd0V2ZW50LmNhbGwodGhpcyk7XHJcbiAgICAgICAgLy8gUmVmcmVzaCB0aGUgcG9zaXRpb24gb2YgdGhlIHBsYXliYWNrIHBvc2l0aW9uIHdoZW4gdGhlIHNlZWsgYmFyIGJlY29tZXMgdmlzaWJsZS4gVG8gY29ycmVjdGx5IHNldCB0aGUgcG9zaXRpb24sXHJcbiAgICAgICAgLy8gdGhlIERPTSBlbGVtZW50IG11c3QgYmUgZnVsbHkgaW5pdGlhbGl6ZWQgYW4gaGF2ZSBpdHMgc2l6ZSBjYWxjdWxhdGVkLCBiZWNhdXNlIHRoZSBwb3NpdGlvbiBpcyBzZXQgYXMgYW4gYWJzb2x1dGVcclxuICAgICAgICAvLyB2YWx1ZSBjYWxjdWxhdGVkIGZyb20gdGhlIHNpemUuIFRoaXMgcmVxdWlyZWQgc2l6ZSBpcyBub3Qga25vd24gd2hlbiBpdCBpcyBoaWRkZW4uXHJcbiAgICAgICAgLy8gRm9yIHN1Y2ggY2FzZXMsIHdlIHJlZnJlc2ggdGhlIHBvc2l0aW9uIGhlcmUgaW4gb25TaG93IGJlY2F1c2UgaGVyZSBpdCBpcyBndWFyYW50ZWVkIHRoYXQgdGhlIGNvbXBvbmVudCBrbm93c1xyXG4gICAgICAgIC8vIGl0cyBzaXplIGFuZCBjYW4gc2V0IHRoZSBwb3NpdGlvbiBjb3JyZWN0bHkuXHJcbiAgICAgICAgdGhpcy5yZWZyZXNoUGxheWJhY2tQb3NpdGlvbigpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBTZWVrQmFyO1xyXG59KGNvbXBvbmVudF8xLkNvbXBvbmVudCkpO1xyXG5TZWVrQmFyLlNNT09USF9QTEFZQkFDS19QT1NJVElPTl9VUERBVEVfRElTQUJMRUQgPSAtMTtcclxuLyoqXHJcbiAqIFRoZSBDU1MgY2xhc3MgdGhhdCBpcyBhZGRlZCB0byB0aGUgRE9NIGVsZW1lbnQgd2hpbGUgdGhlIHNlZWsgYmFyIGlzIGluICdzZWVraW5nJyBzdGF0ZS5cclxuICovXHJcblNlZWtCYXIuQ0xBU1NfU0VFS0lORyA9ICdzZWVraW5nJztcclxuZXhwb3J0cy5TZWVrQmFyID0gU2Vla0JhcjtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3NlZWtiYXIudHNcbi8vIG1vZHVsZSBpZCA9IDExXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgY29udGFpbmVyXzEgPSByZXF1aXJlKFwiLi9jb250YWluZXJcIik7XHJcbnZhciBkb21fMSA9IHJlcXVpcmUoXCIuLi9kb21cIik7XHJcbnZhciB0aW1lb3V0XzEgPSByZXF1aXJlKFwiLi4vdGltZW91dFwiKTtcclxudmFyIHV0aWxzXzEgPSByZXF1aXJlKFwiLi4vdXRpbHNcIik7XHJcbi8qKlxyXG4gKiBUaGUgYmFzZSBjb250YWluZXIgdGhhdCBjb250YWlucyBhbGwgb2YgdGhlIFVJLiBUaGUgVUlDb250YWluZXIgaXMgcGFzc2VkIHRvIHRoZSB7QGxpbmsgVUlNYW5hZ2VyfSB0byBidWlsZCBhbmRcclxuICogc2V0dXAgdGhlIFVJLlxyXG4gKi9cclxudmFyIFVJQ29udGFpbmVyID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhVSUNvbnRhaW5lciwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIFVJQ29udGFpbmVyKGNvbmZpZykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGNvbmZpZykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5jb25maWcgPSBfdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIHtcclxuICAgICAgICAgICAgY3NzQ2xhc3M6ICd1aS11aWNvbnRhaW5lcicsXHJcbiAgICAgICAgICAgIGhpZGVEZWxheTogMjUwMCxcclxuICAgICAgICB9LCBfdGhpcy5jb25maWcpO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIFVJQ29udGFpbmVyLnByb3RvdHlwZS5jb25maWd1cmUgPSBmdW5jdGlvbiAocGxheWVyLCB1aW1hbmFnZXIpIHtcclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmNvbmZpZ3VyZS5jYWxsKHRoaXMsIHBsYXllciwgdWltYW5hZ2VyKTtcclxuICAgICAgICB0aGlzLmNvbmZpZ3VyZVVJU2hvd0hpZGUocGxheWVyLCB1aW1hbmFnZXIpO1xyXG4gICAgICAgIHRoaXMuY29uZmlndXJlUGxheWVyU3RhdGVzKHBsYXllciwgdWltYW5hZ2VyKTtcclxuICAgIH07XHJcbiAgICBVSUNvbnRhaW5lci5wcm90b3R5cGUuY29uZmlndXJlVUlTaG93SGlkZSA9IGZ1bmN0aW9uIChwbGF5ZXIsIHVpbWFuYWdlcikge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdmFyIGNvbnRhaW5lciA9IHRoaXMuZ2V0RG9tRWxlbWVudCgpO1xyXG4gICAgICAgIHZhciBjb25maWcgPSB0aGlzLmdldENvbmZpZygpO1xyXG4gICAgICAgIHZhciBpc1VpU2hvd24gPSBmYWxzZTtcclxuICAgICAgICB2YXIgaXNTZWVraW5nID0gZmFsc2U7XHJcbiAgICAgICAgdmFyIGlzRmlyc3RUb3VjaCA9IHRydWU7XHJcbiAgICAgICAgdmFyIHNob3dVaSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKCFpc1VpU2hvd24pIHtcclxuICAgICAgICAgICAgICAgIC8vIExldCBzdWJzY3JpYmVycyBrbm93IHRoYXQgdGhleSBzaG91bGQgcmV2ZWFsIHRoZW1zZWx2ZXNcclxuICAgICAgICAgICAgICAgIHVpbWFuYWdlci5vbkNvbnRyb2xzU2hvdy5kaXNwYXRjaChfdGhpcyk7XHJcbiAgICAgICAgICAgICAgICBpc1VpU2hvd24gPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIERvbid0IHRyaWdnZXIgdGltZW91dCB3aGlsZSBzZWVraW5nIChpdCB3aWxsIGJlIHRyaWdnZXJlZCBvbmNlIHRoZSBzZWVrIGlzIGZpbmlzaGVkKSBvciBjYXN0aW5nXHJcbiAgICAgICAgICAgIGlmICghaXNTZWVraW5nICYmICFwbGF5ZXIuaXNDYXN0aW5nKCkpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLnVpSGlkZVRpbWVvdXQuc3RhcnQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdmFyIGhpZGVVaSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgLy8gSGlkZSB0aGUgVUkgb25seSBpZiBpdCBpcyBzaG93biwgYW5kIGlmIG5vdCBjYXN0aW5nXHJcbiAgICAgICAgICAgIGlmIChpc1VpU2hvd24gJiYgIXBsYXllci5pc0Nhc3RpbmcoKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gSXNzdWUgYSBwcmV2aWV3IGV2ZW50IHRvIGNoZWNrIGlmIHdlIGFyZSBnb29kIHRvIGhpZGUgdGhlIGNvbnRyb2xzXHJcbiAgICAgICAgICAgICAgICB2YXIgcHJldmlld0hpZGVFdmVudEFyZ3MgPSB7fTtcclxuICAgICAgICAgICAgICAgIHVpbWFuYWdlci5vblByZXZpZXdDb250cm9sc0hpZGUuZGlzcGF0Y2goX3RoaXMsIHByZXZpZXdIaWRlRXZlbnRBcmdzKTtcclxuICAgICAgICAgICAgICAgIGlmICghcHJldmlld0hpZGVFdmVudEFyZ3MuY2FuY2VsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIHByZXZpZXcgd2Fzbid0IGNhbmNlbGVkLCBsZXQgc3Vic2NyaWJlcnMga25vdyB0aGF0IHRoZXkgc2hvdWxkIG5vdyBoaWRlIHRoZW1zZWx2ZXNcclxuICAgICAgICAgICAgICAgICAgICB1aW1hbmFnZXIub25Db250cm9sc0hpZGUuZGlzcGF0Y2goX3RoaXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlzVWlTaG93biA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIGhpZGUgcHJldmlldyB3YXMgY2FuY2VsZWQsIGNvbnRpbnVlIHRvIHNob3cgVUlcclxuICAgICAgICAgICAgICAgICAgICBzaG93VWkoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgLy8gVGltZW91dCB0byBkZWZlciBVSSBoaWRpbmcgYnkgdGhlIGNvbmZpZ3VyZWQgZGVsYXkgdGltZVxyXG4gICAgICAgIHRoaXMudWlIaWRlVGltZW91dCA9IG5ldyB0aW1lb3V0XzEuVGltZW91dChjb25maWcuaGlkZURlbGF5LCBoaWRlVWkpO1xyXG4gICAgICAgIC8vIE9uIHRvdWNoIGRpc3BsYXlzLCB0aGUgZmlyc3QgdG91Y2ggcmV2ZWFscyB0aGUgVUlcclxuICAgICAgICBjb250YWluZXIub24oJ3RvdWNoZW5kJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgaWYgKCFpc1VpU2hvd24pIHtcclxuICAgICAgICAgICAgICAgIC8vIE9ubHkgaWYgdGhlIFVJIGlzIGhpZGRlbiwgd2UgcHJldmVudCBvdGhlciBhY3Rpb25zIChleGNlcHQgZm9yIHRoZSBmaXJzdCB0b3VjaCkgYW5kIHJldmVhbCB0aGUgVUkgaW5zdGVhZC5cclxuICAgICAgICAgICAgICAgIC8vIFRoZSBmaXJzdCB0b3VjaCBpcyBub3QgcHJldmVudGVkIHRvIGxldCBvdGhlciBsaXN0ZW5lcnMgcmVjZWl2ZSB0aGUgZXZlbnQgYW5kIHRyaWdnZXIgYW4gaW5pdGlhbCBhY3Rpb24sIGUuZy5cclxuICAgICAgICAgICAgICAgIC8vIHRoZSBodWdlIHBsYXliYWNrIGJ1dHRvbiBjYW4gZGlyZWN0bHkgc3RhcnQgcGxheWJhY2sgaW5zdGVhZCBvZiByZXF1aXJpbmcgYSBkb3VibGUgdGFwIHdoaWNoIDEuIHJldmVhbHNcclxuICAgICAgICAgICAgICAgIC8vIHRoZSBVSSBhbmQgMi4gc3RhcnRzIHBsYXliYWNrLlxyXG4gICAgICAgICAgICAgICAgaWYgKGlzRmlyc3RUb3VjaCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlzRmlyc3RUb3VjaCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgc2hvd1VpKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBXaGVuIHRoZSBtb3VzZSBlbnRlcnMsIHdlIHNob3cgdGhlIFVJXHJcbiAgICAgICAgY29udGFpbmVyLm9uKCdtb3VzZWVudGVyJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBzaG93VWkoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBXaGVuIHRoZSBtb3VzZSBtb3ZlcyB3aXRoaW4sIHdlIHNob3cgdGhlIFVJXHJcbiAgICAgICAgY29udGFpbmVyLm9uKCdtb3VzZW1vdmUnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHNob3dVaSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIFdoZW4gdGhlIG1vdXNlIGxlYXZlcywgd2UgY2FuIHByZXBhcmUgdG8gaGlkZSB0aGUgVUksIGV4Y2VwdCBhIHNlZWsgaXMgZ29pbmcgb25cclxuICAgICAgICBjb250YWluZXIub24oJ21vdXNlbGVhdmUnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIC8vIFdoZW4gYSBzZWVrIGlzIGdvaW5nIG9uLCB0aGUgc2VlayBzY3J1YiBwb2ludGVyIG1heSBleGl0IHRoZSBVSSBhcmVhIHdoaWxlIHN0aWxsIHNlZWtpbmcsIGFuZCB3ZSBkbyBub3QgaGlkZVxyXG4gICAgICAgICAgICAvLyB0aGUgVUkgaW4gc3VjaCBjYXNlc1xyXG4gICAgICAgICAgICBpZiAoIWlzU2Vla2luZykge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMudWlIaWRlVGltZW91dC5zdGFydCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdWltYW5hZ2VyLm9uU2Vlay5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBfdGhpcy51aUhpZGVUaW1lb3V0LmNsZWFyKCk7IC8vIERvbid0IGhpZGUgVUkgd2hpbGUgYSBzZWVrIGlzIGluIHByb2dyZXNzXHJcbiAgICAgICAgICAgIGlzU2Vla2luZyA9IHRydWU7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdWltYW5hZ2VyLm9uU2Vla2VkLnN1YnNjcmliZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlzU2Vla2luZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICBfdGhpcy51aUhpZGVUaW1lb3V0LnN0YXJ0KCk7IC8vIFJlLWVuYWJsZSBVSSBoaWRlIHRpbWVvdXQgYWZ0ZXIgYSBzZWVrXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fQ0FTVF9TVEFSVEVELCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHNob3dVaSgpOyAvLyBTaG93IFVJIHdoZW4gYSBDYXN0IHNlc3Npb24gaGFzIHN0YXJ0ZWQgKFVJIHdpbGwgdGhlbiBzdGF5IHBlcm1hbmVudGx5IG9uIGR1cmluZyB0aGUgc2Vzc2lvbilcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBVSUNvbnRhaW5lci5wcm90b3R5cGUuY29uZmlndXJlUGxheWVyU3RhdGVzID0gZnVuY3Rpb24gKHBsYXllciwgdWltYW5hZ2VyKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB2YXIgY29udGFpbmVyID0gdGhpcy5nZXREb21FbGVtZW50KCk7XHJcbiAgICAgICAgLy8gQ29udmVydCBwbGF5ZXIgc3RhdGVzIGludG8gQ1NTIGNsYXNzIG5hbWVzXHJcbiAgICAgICAgdmFyIHN0YXRlQ2xhc3NOYW1lcyA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIHN0YXRlIGluIHV0aWxzXzEuUGxheWVyVXRpbHMuUGxheWVyU3RhdGUpIHtcclxuICAgICAgICAgICAgaWYgKGlzTmFOKE51bWJlcihzdGF0ZSkpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZW51bU5hbWUgPSB1dGlsc18xLlBsYXllclV0aWxzLlBsYXllclN0YXRlW3V0aWxzXzEuUGxheWVyVXRpbHMuUGxheWVyU3RhdGVbc3RhdGVdXTtcclxuICAgICAgICAgICAgICAgIHN0YXRlQ2xhc3NOYW1lc1t1dGlsc18xLlBsYXllclV0aWxzLlBsYXllclN0YXRlW3N0YXRlXV0gPVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJlZml4Q3NzKFVJQ29udGFpbmVyLlNUQVRFX1BSRUZJWCArIGVudW1OYW1lLnRvTG93ZXJDYXNlKCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciByZW1vdmVTdGF0ZXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5yZW1vdmVDbGFzcyhzdGF0ZUNsYXNzTmFtZXNbdXRpbHNfMS5QbGF5ZXJVdGlscy5QbGF5ZXJTdGF0ZS5JRExFXSk7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5yZW1vdmVDbGFzcyhzdGF0ZUNsYXNzTmFtZXNbdXRpbHNfMS5QbGF5ZXJVdGlscy5QbGF5ZXJTdGF0ZS5QUkVQQVJFRF0pO1xyXG4gICAgICAgICAgICBjb250YWluZXIucmVtb3ZlQ2xhc3Moc3RhdGVDbGFzc05hbWVzW3V0aWxzXzEuUGxheWVyVXRpbHMuUGxheWVyU3RhdGUuUExBWUlOR10pO1xyXG4gICAgICAgICAgICBjb250YWluZXIucmVtb3ZlQ2xhc3Moc3RhdGVDbGFzc05hbWVzW3V0aWxzXzEuUGxheWVyVXRpbHMuUGxheWVyU3RhdGUuUEFVU0VEXSk7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5yZW1vdmVDbGFzcyhzdGF0ZUNsYXNzTmFtZXNbdXRpbHNfMS5QbGF5ZXJVdGlscy5QbGF5ZXJTdGF0ZS5GSU5JU0hFRF0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fUkVBRFksIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmVtb3ZlU3RhdGVzKCk7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5hZGRDbGFzcyhzdGF0ZUNsYXNzTmFtZXNbdXRpbHNfMS5QbGF5ZXJVdGlscy5QbGF5ZXJTdGF0ZS5QUkVQQVJFRF0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1BMQVksIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmVtb3ZlU3RhdGVzKCk7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5hZGRDbGFzcyhzdGF0ZUNsYXNzTmFtZXNbdXRpbHNfMS5QbGF5ZXJVdGlscy5QbGF5ZXJTdGF0ZS5QTEFZSU5HXSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fUEFVU0VELCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJlbW92ZVN0YXRlcygpO1xyXG4gICAgICAgICAgICBjb250YWluZXIuYWRkQ2xhc3Moc3RhdGVDbGFzc05hbWVzW3V0aWxzXzEuUGxheWVyVXRpbHMuUGxheWVyU3RhdGUuUEFVU0VEXSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fUExBWUJBQ0tfRklOSVNIRUQsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmVtb3ZlU3RhdGVzKCk7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5hZGRDbGFzcyhzdGF0ZUNsYXNzTmFtZXNbdXRpbHNfMS5QbGF5ZXJVdGlscy5QbGF5ZXJTdGF0ZS5GSU5JU0hFRF0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1NPVVJDRV9VTkxPQURFRCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZW1vdmVTdGF0ZXMoKTtcclxuICAgICAgICAgICAgY29udGFpbmVyLmFkZENsYXNzKHN0YXRlQ2xhc3NOYW1lc1t1dGlsc18xLlBsYXllclV0aWxzLlBsYXllclN0YXRlLklETEVdKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBJbml0IGluIGN1cnJlbnQgcGxheWVyIHN0YXRlXHJcbiAgICAgICAgY29udGFpbmVyLmFkZENsYXNzKHN0YXRlQ2xhc3NOYW1lc1t1dGlsc18xLlBsYXllclV0aWxzLmdldFN0YXRlKHBsYXllcildKTtcclxuICAgICAgICAvLyBGdWxsc2NyZWVuIG1hcmtlciBjbGFzc1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX0ZVTExTQ1JFRU5fRU5URVIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgY29udGFpbmVyLmFkZENsYXNzKF90aGlzLnByZWZpeENzcyhVSUNvbnRhaW5lci5GVUxMU0NSRUVOKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fRlVMTFNDUkVFTl9FWElULCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5yZW1vdmVDbGFzcyhfdGhpcy5wcmVmaXhDc3MoVUlDb250YWluZXIuRlVMTFNDUkVFTikpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIEluaXQgZnVsbHNjcmVlbiBzdGF0ZVxyXG4gICAgICAgIGlmIChwbGF5ZXIuaXNGdWxsc2NyZWVuKCkpIHtcclxuICAgICAgICAgICAgY29udGFpbmVyLmFkZENsYXNzKHRoaXMucHJlZml4Q3NzKFVJQ29udGFpbmVyLkZVTExTQ1JFRU4pKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gQnVmZmVyaW5nIG1hcmtlciBjbGFzc1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1NUQUxMX1NUQVJURUQsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgY29udGFpbmVyLmFkZENsYXNzKF90aGlzLnByZWZpeENzcyhVSUNvbnRhaW5lci5CVUZGRVJJTkcpKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9TVEFMTF9FTkRFRCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBjb250YWluZXIucmVtb3ZlQ2xhc3MoX3RoaXMucHJlZml4Q3NzKFVJQ29udGFpbmVyLkJVRkZFUklORykpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIEluaXQgYnVmZmVyaW5nIHN0YXRlXHJcbiAgICAgICAgaWYgKHBsYXllci5pc1N0YWxsZWQoKSkge1xyXG4gICAgICAgICAgICBjb250YWluZXIuYWRkQ2xhc3ModGhpcy5wcmVmaXhDc3MoVUlDb250YWluZXIuQlVGRkVSSU5HKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFJlbW90ZUNvbnRyb2wgbWFya2VyIGNsYXNzXHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fQ0FTVF9TVEFSVEVELCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5hZGRDbGFzcyhfdGhpcy5wcmVmaXhDc3MoVUlDb250YWluZXIuUkVNT1RFX0NPTlRST0wpKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9DQVNUX1NUT1BQRUQsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgY29udGFpbmVyLnJlbW92ZUNsYXNzKF90aGlzLnByZWZpeENzcyhVSUNvbnRhaW5lci5SRU1PVEVfQ09OVFJPTCkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIEluaXQgUmVtb3RlQ29udHJvbCBzdGF0ZVxyXG4gICAgICAgIGlmIChwbGF5ZXIuaXNDYXN0aW5nKCkpIHtcclxuICAgICAgICAgICAgY29udGFpbmVyLmFkZENsYXNzKHRoaXMucHJlZml4Q3NzKFVJQ29udGFpbmVyLlJFTU9URV9DT05UUk9MKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIENvbnRyb2xzIHZpc2liaWxpdHkgbWFya2VyIGNsYXNzXHJcbiAgICAgICAgdWltYW5hZ2VyLm9uQ29udHJvbHNTaG93LnN1YnNjcmliZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5yZW1vdmVDbGFzcyhfdGhpcy5wcmVmaXhDc3MoVUlDb250YWluZXIuQ09OVFJPTFNfSElEREVOKSk7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5hZGRDbGFzcyhfdGhpcy5wcmVmaXhDc3MoVUlDb250YWluZXIuQ09OVFJPTFNfU0hPV04pKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB1aW1hbmFnZXIub25Db250cm9sc0hpZGUuc3Vic2NyaWJlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgY29udGFpbmVyLnJlbW92ZUNsYXNzKF90aGlzLnByZWZpeENzcyhVSUNvbnRhaW5lci5DT05UUk9MU19TSE9XTikpO1xyXG4gICAgICAgICAgICBjb250YWluZXIuYWRkQ2xhc3MoX3RoaXMucHJlZml4Q3NzKFVJQ29udGFpbmVyLkNPTlRST0xTX0hJRERFTikpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIExheW91dCBzaXplIGNsYXNzZXNcclxuICAgICAgICB2YXIgdXBkYXRlTGF5b3V0U2l6ZUNsYXNzZXMgPSBmdW5jdGlvbiAod2lkdGgsIGhlaWdodCkge1xyXG4gICAgICAgICAgICBjb250YWluZXIucmVtb3ZlQ2xhc3MoX3RoaXMucHJlZml4Q3NzKCdsYXlvdXQtbWF4LXdpZHRoLTQwMCcpKTtcclxuICAgICAgICAgICAgY29udGFpbmVyLnJlbW92ZUNsYXNzKF90aGlzLnByZWZpeENzcygnbGF5b3V0LW1heC13aWR0aC02MDAnKSk7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5yZW1vdmVDbGFzcyhfdGhpcy5wcmVmaXhDc3MoJ2xheW91dC1tYXgtd2lkdGgtODAwJykpO1xyXG4gICAgICAgICAgICBjb250YWluZXIucmVtb3ZlQ2xhc3MoX3RoaXMucHJlZml4Q3NzKCdsYXlvdXQtbWF4LXdpZHRoLTEyMDAnKSk7XHJcbiAgICAgICAgICAgIGlmICh3aWR0aCA8PSA0MDApIHtcclxuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5hZGRDbGFzcyhfdGhpcy5wcmVmaXhDc3MoJ2xheW91dC1tYXgtd2lkdGgtNDAwJykpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHdpZHRoIDw9IDYwMCkge1xyXG4gICAgICAgICAgICAgICAgY29udGFpbmVyLmFkZENsYXNzKF90aGlzLnByZWZpeENzcygnbGF5b3V0LW1heC13aWR0aC02MDAnKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAod2lkdGggPD0gODAwKSB7XHJcbiAgICAgICAgICAgICAgICBjb250YWluZXIuYWRkQ2xhc3MoX3RoaXMucHJlZml4Q3NzKCdsYXlvdXQtbWF4LXdpZHRoLTgwMCcpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICh3aWR0aCA8PSAxMjAwKSB7XHJcbiAgICAgICAgICAgICAgICBjb250YWluZXIuYWRkQ2xhc3MoX3RoaXMucHJlZml4Q3NzKCdsYXlvdXQtbWF4LXdpZHRoLTEyMDAnKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1BMQVlFUl9SRVNJWkUsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIC8vIENvbnZlcnQgc3RyaW5ncyAod2l0aCBcInB4XCIgc3VmZml4KSB0byBpbnRzXHJcbiAgICAgICAgICAgIHZhciB3aWR0aCA9IE1hdGgucm91bmQoTnVtYmVyKGUud2lkdGguc3Vic3RyaW5nKDAsIGUud2lkdGgubGVuZ3RoIC0gMikpKTtcclxuICAgICAgICAgICAgdmFyIGhlaWdodCA9IE1hdGgucm91bmQoTnVtYmVyKGUuaGVpZ2h0LnN1YnN0cmluZygwLCBlLmhlaWdodC5sZW5ndGggLSAyKSkpO1xyXG4gICAgICAgICAgICB1cGRhdGVMYXlvdXRTaXplQ2xhc3Nlcyh3aWR0aCwgaGVpZ2h0KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBJbml0IGxheW91dCBzdGF0ZVxyXG4gICAgICAgIHVwZGF0ZUxheW91dFNpemVDbGFzc2VzKG5ldyBkb21fMS5ET00ocGxheWVyLmdldEZpZ3VyZSgpKS53aWR0aCgpLCBuZXcgZG9tXzEuRE9NKHBsYXllci5nZXRGaWd1cmUoKSkuaGVpZ2h0KCkpO1xyXG4gICAgfTtcclxuICAgIFVJQ29udGFpbmVyLnByb3RvdHlwZS5yZWxlYXNlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUucmVsZWFzZS5jYWxsKHRoaXMpO1xyXG4gICAgICAgIHRoaXMudWlIaWRlVGltZW91dC5jbGVhcigpO1xyXG4gICAgfTtcclxuICAgIFVJQ29udGFpbmVyLnByb3RvdHlwZS50b0RvbUVsZW1lbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGNvbnRhaW5lciA9IF9zdXBlci5wcm90b3R5cGUudG9Eb21FbGVtZW50LmNhbGwodGhpcyk7XHJcbiAgICAgICAgLy8gRGV0ZWN0IGZsZXhib3ggc3VwcG9ydCAobm90IHN1cHBvcnRlZCBpbiBJRTkpXHJcbiAgICAgICAgaWYgKGRvY3VtZW50ICYmIHR5cGVvZiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJykuc3R5bGUuZmxleCAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgY29udGFpbmVyLmFkZENsYXNzKHRoaXMucHJlZml4Q3NzKCdmbGV4Ym94JykpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY29udGFpbmVyLmFkZENsYXNzKHRoaXMucHJlZml4Q3NzKCduby1mbGV4Ym94JykpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY29udGFpbmVyO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBVSUNvbnRhaW5lcjtcclxufShjb250YWluZXJfMS5Db250YWluZXIpKTtcclxuVUlDb250YWluZXIuU1RBVEVfUFJFRklYID0gJ3BsYXllci1zdGF0ZS0nO1xyXG5VSUNvbnRhaW5lci5GVUxMU0NSRUVOID0gJ2Z1bGxzY3JlZW4nO1xyXG5VSUNvbnRhaW5lci5CVUZGRVJJTkcgPSAnYnVmZmVyaW5nJztcclxuVUlDb250YWluZXIuUkVNT1RFX0NPTlRST0wgPSAncmVtb3RlLWNvbnRyb2wnO1xyXG5VSUNvbnRhaW5lci5DT05UUk9MU19TSE9XTiA9ICdjb250cm9scy1zaG93bic7XHJcblVJQ29udGFpbmVyLkNPTlRST0xTX0hJRERFTiA9ICdjb250cm9scy1oaWRkZW4nO1xyXG5leHBvcnRzLlVJQ29udGFpbmVyID0gVUlDb250YWluZXI7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy91aWNvbnRhaW5lci50c1xuLy8gbW9kdWxlIGlkID0gMTJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBsYWJlbF8xID0gcmVxdWlyZShcIi4vbGFiZWxcIik7XHJcbnZhciB1dGlsc18xID0gcmVxdWlyZShcIi4uL3V0aWxzXCIpO1xyXG52YXIgUGxheWJhY2tUaW1lTGFiZWxNb2RlO1xyXG4oZnVuY3Rpb24gKFBsYXliYWNrVGltZUxhYmVsTW9kZSkge1xyXG4gICAgUGxheWJhY2tUaW1lTGFiZWxNb2RlW1BsYXliYWNrVGltZUxhYmVsTW9kZVtcIkN1cnJlbnRUaW1lXCJdID0gMF0gPSBcIkN1cnJlbnRUaW1lXCI7XHJcbiAgICBQbGF5YmFja1RpbWVMYWJlbE1vZGVbUGxheWJhY2tUaW1lTGFiZWxNb2RlW1wiVG90YWxUaW1lXCJdID0gMV0gPSBcIlRvdGFsVGltZVwiO1xyXG4gICAgUGxheWJhY2tUaW1lTGFiZWxNb2RlW1BsYXliYWNrVGltZUxhYmVsTW9kZVtcIkN1cnJlbnRBbmRUb3RhbFRpbWVcIl0gPSAyXSA9IFwiQ3VycmVudEFuZFRvdGFsVGltZVwiO1xyXG59KShQbGF5YmFja1RpbWVMYWJlbE1vZGUgPSBleHBvcnRzLlBsYXliYWNrVGltZUxhYmVsTW9kZSB8fCAoZXhwb3J0cy5QbGF5YmFja1RpbWVMYWJlbE1vZGUgPSB7fSkpO1xyXG4vKipcclxuICogQSBsYWJlbCB0aGF0IGRpc3BsYXkgdGhlIGN1cnJlbnQgcGxheWJhY2sgdGltZSBhbmQgdGhlIHRvdGFsIHRpbWUgdGhyb3VnaCB7QGxpbmsgUGxheWJhY2tUaW1lTGFiZWwjc2V0VGltZSBzZXRUaW1lfVxyXG4gKiBvciBhbnkgc3RyaW5nIHRocm91Z2gge0BsaW5rIFBsYXliYWNrVGltZUxhYmVsI3NldFRleHQgc2V0VGV4dH0uXHJcbiAqL1xyXG52YXIgUGxheWJhY2tUaW1lTGFiZWwgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKFBsYXliYWNrVGltZUxhYmVsLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gUGxheWJhY2tUaW1lTGFiZWwoY29uZmlnKSB7XHJcbiAgICAgICAgaWYgKGNvbmZpZyA9PT0gdm9pZCAwKSB7IGNvbmZpZyA9IHt9OyB9XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgY29uZmlnKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLmNvbmZpZyA9IF90aGlzLm1lcmdlQ29uZmlnKGNvbmZpZywge1xyXG4gICAgICAgICAgICBjc3NDbGFzczogJ3VpLXBsYXliYWNrdGltZWxhYmVsJyxcclxuICAgICAgICAgICAgdGltZUxhYmVsTW9kZTogUGxheWJhY2tUaW1lTGFiZWxNb2RlLkN1cnJlbnRBbmRUb3RhbFRpbWUsXHJcbiAgICAgICAgICAgIGhpZGVJbkxpdmVQbGF5YmFjazogZmFsc2UsXHJcbiAgICAgICAgfSwgX3RoaXMuY29uZmlnKTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBQbGF5YmFja1RpbWVMYWJlbC5wcm90b3R5cGUuY29uZmlndXJlID0gZnVuY3Rpb24gKHBsYXllciwgdWltYW5hZ2VyKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmNvbmZpZ3VyZS5jYWxsKHRoaXMsIHBsYXllciwgdWltYW5hZ2VyKTtcclxuICAgICAgICB2YXIgY29uZmlnID0gdGhpcy5nZXRDb25maWcoKTtcclxuICAgICAgICB2YXIgbGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIHZhciBsaXZlQ3NzQ2xhc3MgPSB0aGlzLnByZWZpeENzcygndWktcGxheWJhY2t0aW1lbGFiZWwtbGl2ZScpO1xyXG4gICAgICAgIHZhciBsaXZlRWRnZUNzc0NsYXNzID0gdGhpcy5wcmVmaXhDc3MoJ3VpLXBsYXliYWNrdGltZWxhYmVsLWxpdmUtZWRnZScpO1xyXG4gICAgICAgIHZhciBtaW5XaWR0aCA9IDA7XHJcbiAgICAgICAgdmFyIGxpdmVDbGlja0hhbmRsZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHBsYXllci50aW1lU2hpZnQoMCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB2YXIgdXBkYXRlTGl2ZVN0YXRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAvLyBQbGF5ZXIgaXMgcGxheWluZyBhIGxpdmUgc3RyZWFtIHdoZW4gdGhlIGR1cmF0aW9uIGlzIGluZmluaXRlXHJcbiAgICAgICAgICAgIGxpdmUgPSBwbGF5ZXIuaXNMaXZlKCk7XHJcbiAgICAgICAgICAgIC8vIEF0dGFjaC9kZXRhY2ggbGl2ZSBtYXJrZXIgY2xhc3NcclxuICAgICAgICAgICAgaWYgKGxpdmUpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLmdldERvbUVsZW1lbnQoKS5hZGRDbGFzcyhsaXZlQ3NzQ2xhc3MpO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuc2V0VGV4dCgnTGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvbmZpZy5oaWRlSW5MaXZlUGxheWJhY2spIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5vbkNsaWNrLnN1YnNjcmliZShsaXZlQ2xpY2tIYW5kbGVyKTtcclxuICAgICAgICAgICAgICAgIHVwZGF0ZUxpdmVUaW1lc2hpZnRTdGF0ZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuZ2V0RG9tRWxlbWVudCgpLnJlbW92ZUNsYXNzKGxpdmVDc3NDbGFzcyk7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5nZXREb21FbGVtZW50KCkucmVtb3ZlQ2xhc3MobGl2ZUVkZ2VDc3NDbGFzcyk7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5zaG93KCk7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5vbkNsaWNrLnVuc3Vic2NyaWJlKGxpdmVDbGlja0hhbmRsZXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICB2YXIgdXBkYXRlTGl2ZVRpbWVzaGlmdFN0YXRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAocGxheWVyLmdldFRpbWVTaGlmdCgpID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5nZXREb21FbGVtZW50KCkuYWRkQ2xhc3MobGl2ZUVkZ2VDc3NDbGFzcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5nZXREb21FbGVtZW50KCkucmVtb3ZlQ2xhc3MobGl2ZUVkZ2VDc3NDbGFzcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciBsaXZlU3RyZWFtRGV0ZWN0b3IgPSBuZXcgdXRpbHNfMS5QbGF5ZXJVdGlscy5MaXZlU3RyZWFtRGV0ZWN0b3IocGxheWVyKTtcclxuICAgICAgICBsaXZlU3RyZWFtRGV0ZWN0b3Iub25MaXZlQ2hhbmdlZC5zdWJzY3JpYmUoZnVuY3Rpb24gKHNlbmRlciwgYXJncykge1xyXG4gICAgICAgICAgICBsaXZlID0gYXJncy5saXZlO1xyXG4gICAgICAgICAgICB1cGRhdGVMaXZlU3RhdGUoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBsaXZlU3RyZWFtRGV0ZWN0b3IuZGV0ZWN0KCk7IC8vIEluaXRpYWwgZGV0ZWN0aW9uXHJcbiAgICAgICAgdmFyIHBsYXliYWNrVGltZUhhbmRsZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmICghbGl2ZSAmJiBwbGF5ZXIuZ2V0RHVyYXRpb24oKSAhPT0gSW5maW5pdHkpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLnNldFRpbWUocGxheWVyLmdldEN1cnJlbnRUaW1lKCksIHBsYXllci5nZXREdXJhdGlvbigpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBUbyBhdm9pZCAnanVtcGluZycgaW4gdGhlIFVJIGJ5IHZhcnlpbmcgbGFiZWwgc2l6ZXMgZHVlIHRvIG5vbi1tb25vc3BhY2VkIGZvbnRzLFxyXG4gICAgICAgICAgICAvLyB3ZSBncmFkdWFsbHkgaW5jcmVhc2UgdGhlIG1pbi13aWR0aCB3aXRoIHRoZSBjb250ZW50IHRvIHJlYWNoIGEgc3RhYmxlIHNpemUuXHJcbiAgICAgICAgICAgIHZhciB3aWR0aCA9IF90aGlzLmdldERvbUVsZW1lbnQoKS53aWR0aCgpO1xyXG4gICAgICAgICAgICBpZiAod2lkdGggPiBtaW5XaWR0aCkge1xyXG4gICAgICAgICAgICAgICAgbWluV2lkdGggPSB3aWR0aDtcclxuICAgICAgICAgICAgICAgIF90aGlzLmdldERvbUVsZW1lbnQoKS5jc3Moe1xyXG4gICAgICAgICAgICAgICAgICAgICdtaW4td2lkdGgnOiBtaW5XaWR0aCArICdweCdcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9USU1FX0NIQU5HRUQsIHBsYXliYWNrVGltZUhhbmRsZXIpO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1NFRUtFRCwgcGxheWJhY2tUaW1lSGFuZGxlcik7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fQ0FTVF9USU1FX1VQREFURUQsIHBsYXliYWNrVGltZUhhbmRsZXIpO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1RJTUVfU0hJRlQsIHVwZGF0ZUxpdmVUaW1lc2hpZnRTdGF0ZSk7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fVElNRV9TSElGVEVELCB1cGRhdGVMaXZlVGltZXNoaWZ0U3RhdGUpO1xyXG4gICAgICAgIHZhciBpbml0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAvLyBSZXNldCBtaW4td2lkdGggd2hlbiBhIG5ldyBzb3VyY2UgaXMgcmVhZHkgKGVzcGVjaWFsbHkgZm9yIHN3aXRjaGluZyBWT0QvTGl2ZSBtb2RlcyB3aGVyZSB0aGUgbGFiZWwgY29udGVudFxyXG4gICAgICAgICAgICAvLyBjaGFuZ2VzKVxyXG4gICAgICAgICAgICBtaW5XaWR0aCA9IDA7XHJcbiAgICAgICAgICAgIF90aGlzLmdldERvbUVsZW1lbnQoKS5jc3Moe1xyXG4gICAgICAgICAgICAgICAgJ21pbi13aWR0aCc6IG51bGxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIC8vIFNldCB0aW1lIGZvcm1hdCBkZXBlbmRpbmcgb24gc291cmNlIGR1cmF0aW9uXHJcbiAgICAgICAgICAgIF90aGlzLnRpbWVGb3JtYXQgPSBNYXRoLmFicyhwbGF5ZXIuaXNMaXZlKCkgPyBwbGF5ZXIuZ2V0TWF4VGltZVNoaWZ0KCkgOiBwbGF5ZXIuZ2V0RHVyYXRpb24oKSkgPj0gMzYwMCA/XHJcbiAgICAgICAgICAgICAgICB1dGlsc18xLlN0cmluZ1V0aWxzLkZPUk1BVF9ISE1NU1MgOiB1dGlsc18xLlN0cmluZ1V0aWxzLkZPUk1BVF9NTVNTO1xyXG4gICAgICAgICAgICAvLyBVcGRhdGUgdGltZSBhZnRlciB0aGUgZm9ybWF0IGhhcyBiZWVuIHNldFxyXG4gICAgICAgICAgICBwbGF5YmFja1RpbWVIYW5kbGVyKCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9SRUFEWSwgaW5pdCk7XHJcbiAgICAgICAgaW5pdCgpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogU2V0cyB0aGUgY3VycmVudCBwbGF5YmFjayB0aW1lIGFuZCB0b3RhbCBkdXJhdGlvbi5cclxuICAgICAqIEBwYXJhbSBwbGF5YmFja1NlY29uZHMgdGhlIGN1cnJlbnQgcGxheWJhY2sgdGltZSBpbiBzZWNvbmRzXHJcbiAgICAgKiBAcGFyYW0gZHVyYXRpb25TZWNvbmRzIHRoZSB0b3RhbCBkdXJhdGlvbiBpbiBzZWNvbmRzXHJcbiAgICAgKi9cclxuICAgIFBsYXliYWNrVGltZUxhYmVsLnByb3RvdHlwZS5zZXRUaW1lID0gZnVuY3Rpb24gKHBsYXliYWNrU2Vjb25kcywgZHVyYXRpb25TZWNvbmRzKSB7XHJcbiAgICAgICAgdmFyIGN1cnJlbnRUaW1lID0gdXRpbHNfMS5TdHJpbmdVdGlscy5zZWNvbmRzVG9UaW1lKHBsYXliYWNrU2Vjb25kcywgdGhpcy50aW1lRm9ybWF0KTtcclxuICAgICAgICB2YXIgdG90YWxUaW1lID0gdXRpbHNfMS5TdHJpbmdVdGlscy5zZWNvbmRzVG9UaW1lKGR1cmF0aW9uU2Vjb25kcywgdGhpcy50aW1lRm9ybWF0KTtcclxuICAgICAgICBzd2l0Y2ggKHRoaXMuY29uZmlnLnRpbWVMYWJlbE1vZGUpIHtcclxuICAgICAgICAgICAgY2FzZSBQbGF5YmFja1RpbWVMYWJlbE1vZGUuQ3VycmVudFRpbWU6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFRleHQoXCJcIiArIGN1cnJlbnRUaW1lKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFBsYXliYWNrVGltZUxhYmVsTW9kZS5Ub3RhbFRpbWU6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFRleHQoXCJcIiArIHRvdGFsVGltZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBQbGF5YmFja1RpbWVMYWJlbE1vZGUuQ3VycmVudEFuZFRvdGFsVGltZTpcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0VGV4dChjdXJyZW50VGltZSArIFwiIC8gXCIgKyB0b3RhbFRpbWUpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHJldHVybiBQbGF5YmFja1RpbWVMYWJlbDtcclxufShsYWJlbF8xLkxhYmVsKSk7XHJcbmV4cG9ydHMuUGxheWJhY2tUaW1lTGFiZWwgPSBQbGF5YmFja1RpbWVMYWJlbDtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3BsYXliYWNrdGltZWxhYmVsLnRzXG4vLyBtb2R1bGUgaWQgPSAxM1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGNvbnRhaW5lcl8xID0gcmVxdWlyZShcIi4vY29udGFpbmVyXCIpO1xyXG52YXIgdXRpbHNfMSA9IHJlcXVpcmUoXCIuLi91dGlsc1wiKTtcclxudmFyIHNwYWNlcl8xID0gcmVxdWlyZShcIi4vc3BhY2VyXCIpO1xyXG4vKipcclxuICogQSBjb250YWluZXIgZm9yIG1haW4gcGxheWVyIGNvbnRyb2wgY29tcG9uZW50cywgZS5nLiBwbGF5IHRvZ2dsZSBidXR0b24sIHNlZWsgYmFyLCB2b2x1bWUgY29udHJvbCwgZnVsbHNjcmVlbiB0b2dnbGVcclxuICogYnV0dG9uLlxyXG4gKi9cclxudmFyIENvbnRyb2xCYXIgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKENvbnRyb2xCYXIsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBDb250cm9sQmFyKGNvbmZpZywgYXV0b0hpZGUpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBjb25maWcpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMuY29uZmlnID0gX3RoaXMubWVyZ2VDb25maWcoY29uZmlnLCB7XHJcbiAgICAgICAgICAgIGNzc0NsYXNzOiAndWktY29udHJvbGJhcicsXHJcbiAgICAgICAgICAgIGhpZGRlbjogYXV0b0hpZGVcclxuICAgICAgICB9LCBfdGhpcy5jb25maWcpO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIENvbnRyb2xCYXIucHJvdG90eXBlLmNvbmZpZ3VyZSA9IGZ1bmN0aW9uIChwbGF5ZXIsIHVpbWFuYWdlcikge1xyXG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuY29uZmlndXJlLmNhbGwodGhpcywgcGxheWVyLCB1aW1hbmFnZXIpO1xyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICAvLyBDb3VudHMgaG93IG1hbnkgY29tcG9uZW50cyBhcmUgaG92ZXJlZCBhbmQgYmxvY2sgaGlkaW5nIG9mIHRoZSBjb250cm9sIGJhclxyXG4gICAgICAgIHZhciBob3ZlclN0YWNrQ291bnQgPSAwO1xyXG4gICAgICAgIC8vIFRyYWNrIGhvdmVyIHN0YXR1cyBvZiBjaGlsZCBjb21wb25lbnRzXHJcbiAgICAgICAgdXRpbHNfMS5VSVV0aWxzLnRyYXZlcnNlVHJlZSh0aGlzLCBmdW5jdGlvbiAoY29tcG9uZW50KSB7XHJcbiAgICAgICAgICAgIC8vIERvIG5vdCB0cmFjayBob3ZlciBzdGF0dXMgb2YgY2hpbGQgY29udGFpbmVycyBvciBzcGFjZXJzLCBvbmx5IG9mICdyZWFsJyBjb250cm9sc1xyXG4gICAgICAgICAgICBpZiAoY29tcG9uZW50IGluc3RhbmNlb2YgY29udGFpbmVyXzEuQ29udGFpbmVyIHx8IGNvbXBvbmVudCBpbnN0YW5jZW9mIHNwYWNlcl8xLlNwYWNlcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIFN1YnNjcmliZSBob3ZlciBldmVudCBhbmQga2VlcCBhIGNvdW50IG9mIHRoZSBudW1iZXIgb2YgaG92ZXJlZCBjaGlsZHJlblxyXG4gICAgICAgICAgICBjb21wb25lbnQub25Ib3ZlckNoYW5nZWQuc3Vic2NyaWJlKGZ1bmN0aW9uIChzZW5kZXIsIGFyZ3MpIHtcclxuICAgICAgICAgICAgICAgIGlmIChhcmdzLmhvdmVyZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBob3ZlclN0YWNrQ291bnQrKztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGhvdmVyU3RhY2tDb3VudC0tO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB1aW1hbmFnZXIub25Db250cm9sc1Nob3cuc3Vic2NyaWJlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKHNlbGYuY29uZmlnLmhpZGRlbikge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5zaG93KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB1aW1hbmFnZXIub25QcmV2aWV3Q29udHJvbHNIaWRlLnN1YnNjcmliZShmdW5jdGlvbiAoc2VuZGVyLCBhcmdzKSB7XHJcbiAgICAgICAgICAgIC8vIENhbmNlbCB0aGUgaGlkZSBldmVudCBpZiBob3ZlcmVkIGNoaWxkIGNvbXBvbmVudHMgYmxvY2sgaGlkaW5nXHJcbiAgICAgICAgICAgIGFyZ3MuY2FuY2VsID0gKGhvdmVyU3RhY2tDb3VudCA+IDApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHVpbWFuYWdlci5vbkNvbnRyb2xzSGlkZS5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoc2VsZi5jb25maWcuaGlkZGVuKSB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLmhpZGUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBDb250cm9sQmFyO1xyXG59KGNvbnRhaW5lcl8xLkNvbnRhaW5lcikpO1xyXG5leHBvcnRzLkNvbnRyb2xCYXIgPSBDb250cm9sQmFyO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvY29udHJvbGJhci50c1xuLy8gbW9kdWxlIGlkID0gMTRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBjb21wb25lbnRfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudFwiKTtcclxuLyoqXHJcbiAqIEEgZHVtbXkgY29tcG9uZW50IHRoYXQganVzdCByZXNlcnZlcyBzb21lIHNwYWNlIGFuZCBkb2VzIG5vdGhpbmcgZWxzZS5cclxuICovXHJcbnZhciBTcGFjZXIgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKFNwYWNlciwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIFNwYWNlcihjb25maWcpIHtcclxuICAgICAgICBpZiAoY29uZmlnID09PSB2b2lkIDApIHsgY29uZmlnID0ge307IH1cclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBjb25maWcpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMuY29uZmlnID0gX3RoaXMubWVyZ2VDb25maWcoY29uZmlnLCB7XHJcbiAgICAgICAgICAgIGNzc0NsYXNzOiAndWktc3BhY2VyJyxcclxuICAgICAgICB9LCBfdGhpcy5jb25maWcpO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIFNwYWNlci5wcm90b3R5cGUub25TaG93RXZlbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8gZGlzYWJsZSBldmVudCBmaXJpbmcgYnkgb3ZlcndyaXRpbmcgYW5kIG5vdCBjYWxsaW5nIHN1cGVyXHJcbiAgICB9O1xyXG4gICAgU3BhY2VyLnByb3RvdHlwZS5vbkhpZGVFdmVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyBkaXNhYmxlIGV2ZW50IGZpcmluZyBieSBvdmVyd3JpdGluZyBhbmQgbm90IGNhbGxpbmcgc3VwZXJcclxuICAgIH07XHJcbiAgICBTcGFjZXIucHJvdG90eXBlLm9uSG92ZXJDaGFuZ2VkRXZlbnQgPSBmdW5jdGlvbiAoaG92ZXJlZCkge1xyXG4gICAgICAgIC8vIGRpc2FibGUgZXZlbnQgZmlyaW5nIGJ5IG92ZXJ3cml0aW5nIGFuZCBub3QgY2FsbGluZyBzdXBlclxyXG4gICAgfTtcclxuICAgIHJldHVybiBTcGFjZXI7XHJcbn0oY29tcG9uZW50XzEuQ29tcG9uZW50KSk7XHJcbmV4cG9ydHMuU3BhY2VyID0gU3BhY2VyO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvc3BhY2VyLnRzXG4vLyBtb2R1bGUgaWQgPSAxNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGNvbnRhaW5lcl8xID0gcmVxdWlyZShcIi4vY29udGFpbmVyXCIpO1xyXG52YXIgbGFiZWxfMSA9IHJlcXVpcmUoXCIuL2xhYmVsXCIpO1xyXG52YXIgY29tcG9uZW50XzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRcIik7XHJcbnZhciB1dGlsc18xID0gcmVxdWlyZShcIi4uL3V0aWxzXCIpO1xyXG4vKipcclxuICogQSBsYWJlbCBmb3IgYSB7QGxpbmsgU2Vla0Jhcn0gdGhhdCBjYW4gZGlzcGxheSB0aGUgc2VlayB0YXJnZXQgdGltZSwgYSB0aHVtYm5haWwsIGFuZCB0aXRsZSAoZS5nLiBjaGFwdGVyIHRpdGxlKS5cclxuICovXHJcbnZhciBTZWVrQmFyTGFiZWwgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKFNlZWtCYXJMYWJlbCwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIFNlZWtCYXJMYWJlbChjb25maWcpIHtcclxuICAgICAgICBpZiAoY29uZmlnID09PSB2b2lkIDApIHsgY29uZmlnID0ge307IH1cclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBjb25maWcpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMudGltZUxhYmVsID0gbmV3IGxhYmVsXzEuTGFiZWwoeyBjc3NDbGFzc2VzOiBbJ3NlZWtiYXItbGFiZWwtdGltZSddIH0pO1xyXG4gICAgICAgIF90aGlzLnRpdGxlTGFiZWwgPSBuZXcgbGFiZWxfMS5MYWJlbCh7IGNzc0NsYXNzZXM6IFsnc2Vla2Jhci1sYWJlbC10aXRsZSddIH0pO1xyXG4gICAgICAgIF90aGlzLnRodW1ibmFpbCA9IG5ldyBjb21wb25lbnRfMS5Db21wb25lbnQoeyBjc3NDbGFzc2VzOiBbJ3NlZWtiYXItdGh1bWJuYWlsJ10gfSk7XHJcbiAgICAgICAgX3RoaXMuY29uZmlnID0gX3RoaXMubWVyZ2VDb25maWcoY29uZmlnLCB7XHJcbiAgICAgICAgICAgIGNzc0NsYXNzOiAndWktc2Vla2Jhci1sYWJlbCcsXHJcbiAgICAgICAgICAgIGNvbXBvbmVudHM6IFtuZXcgY29udGFpbmVyXzEuQ29udGFpbmVyKHtcclxuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRzOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMudGh1bWJuYWlsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgY29udGFpbmVyXzEuQ29udGFpbmVyKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudHM6IFtfdGhpcy50aXRsZUxhYmVsLCBfdGhpcy50aW1lTGFiZWxdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3NzQ2xhc3M6ICdzZWVrYmFyLWxhYmVsLW1ldGFkYXRhJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICAgICAgICAgIGNzc0NsYXNzOiAnc2Vla2Jhci1sYWJlbC1pbm5lcicsXHJcbiAgICAgICAgICAgICAgICB9KV0sXHJcbiAgICAgICAgICAgIGhpZGRlbjogdHJ1ZVxyXG4gICAgICAgIH0sIF90aGlzLmNvbmZpZyk7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgU2Vla0JhckxhYmVsLnByb3RvdHlwZS5jb25maWd1cmUgPSBmdW5jdGlvbiAocGxheWVyLCB1aW1hbmFnZXIpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuY29uZmlndXJlLmNhbGwodGhpcywgcGxheWVyLCB1aW1hbmFnZXIpO1xyXG4gICAgICAgIHVpbWFuYWdlci5vblNlZWtQcmV2aWV3LnN1YnNjcmliZShmdW5jdGlvbiAoc2VuZGVyLCBhcmdzKSB7XHJcbiAgICAgICAgICAgIGlmIChwbGF5ZXIuaXNMaXZlKCkpIHtcclxuICAgICAgICAgICAgICAgIHZhciB0aW1lID0gcGxheWVyLmdldE1heFRpbWVTaGlmdCgpIC0gcGxheWVyLmdldE1heFRpbWVTaGlmdCgpICogKGFyZ3MucG9zaXRpb24gLyAxMDApO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuc2V0VGltZSh0aW1lKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZhciBwZXJjZW50YWdlID0gMDtcclxuICAgICAgICAgICAgICAgIGlmIChhcmdzLm1hcmtlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHBlcmNlbnRhZ2UgPSBhcmdzLm1hcmtlci50aW1lO1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnNldFRpdGxlVGV4dChhcmdzLm1hcmtlci50aXRsZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBwZXJjZW50YWdlID0gYXJncy5wb3NpdGlvbjtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5zZXRUaXRsZVRleHQobnVsbCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB2YXIgdGltZSA9IHBsYXllci5nZXREdXJhdGlvbigpICogKHBlcmNlbnRhZ2UgLyAxMDApO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuc2V0VGltZSh0aW1lKTtcclxuICAgICAgICAgICAgICAgIF90aGlzLnNldFRodW1ibmFpbChwbGF5ZXIuZ2V0VGh1bWIodGltZSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdmFyIGluaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIC8vIFNldCB0aW1lIGZvcm1hdCBkZXBlbmRpbmcgb24gc291cmNlIGR1cmF0aW9uXHJcbiAgICAgICAgICAgIF90aGlzLnRpbWVGb3JtYXQgPSBNYXRoLmFicyhwbGF5ZXIuaXNMaXZlKCkgPyBwbGF5ZXIuZ2V0TWF4VGltZVNoaWZ0KCkgOiBwbGF5ZXIuZ2V0RHVyYXRpb24oKSkgPj0gMzYwMCA/XHJcbiAgICAgICAgICAgICAgICB1dGlsc18xLlN0cmluZ1V0aWxzLkZPUk1BVF9ISE1NU1MgOiB1dGlsc18xLlN0cmluZ1V0aWxzLkZPUk1BVF9NTVNTO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fUkVBRFksIGluaXQpO1xyXG4gICAgICAgIGluaXQoKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFNldHMgYXJiaXRyYXJ5IHRleHQgb24gdGhlIGxhYmVsLlxyXG4gICAgICogQHBhcmFtIHRleHQgdGhlIHRleHQgdG8gc2hvdyBvbiB0aGUgbGFiZWxcclxuICAgICAqL1xyXG4gICAgU2Vla0JhckxhYmVsLnByb3RvdHlwZS5zZXRUZXh0ID0gZnVuY3Rpb24gKHRleHQpIHtcclxuICAgICAgICB0aGlzLnRpbWVMYWJlbC5zZXRUZXh0KHRleHQpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogU2V0cyBhIHRpbWUgdG8gYmUgZGlzcGxheWVkIG9uIHRoZSBsYWJlbC5cclxuICAgICAqIEBwYXJhbSBzZWNvbmRzIHRoZSB0aW1lIGluIHNlY29uZHMgdG8gZGlzcGxheSBvbiB0aGUgbGFiZWxcclxuICAgICAqL1xyXG4gICAgU2Vla0JhckxhYmVsLnByb3RvdHlwZS5zZXRUaW1lID0gZnVuY3Rpb24gKHNlY29uZHMpIHtcclxuICAgICAgICB0aGlzLnNldFRleHQodXRpbHNfMS5TdHJpbmdVdGlscy5zZWNvbmRzVG9UaW1lKHNlY29uZHMsIHRoaXMudGltZUZvcm1hdCkpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogU2V0cyB0aGUgdGV4dCBvbiB0aGUgdGl0bGUgbGFiZWwuXHJcbiAgICAgKiBAcGFyYW0gdGV4dCB0aGUgdGV4dCB0byBzaG93IG9uIHRoZSBsYWJlbFxyXG4gICAgICovXHJcbiAgICBTZWVrQmFyTGFiZWwucHJvdG90eXBlLnNldFRpdGxlVGV4dCA9IGZ1bmN0aW9uICh0ZXh0KSB7XHJcbiAgICAgICAgdGhpcy50aXRsZUxhYmVsLnNldFRleHQodGV4dCk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBTZXRzIG9yIHJlbW92ZXMgYSB0aHVtYm5haWwgb24gdGhlIGxhYmVsLlxyXG4gICAgICogQHBhcmFtIHRodW1ibmFpbCB0aGUgdGh1bWJuYWlsIHRvIGRpc3BsYXkgb24gdGhlIGxhYmVsIG9yIG51bGwgdG8gcmVtb3ZlIGEgZGlzcGxheWVkIHRodW1ibmFpbFxyXG4gICAgICovXHJcbiAgICBTZWVrQmFyTGFiZWwucHJvdG90eXBlLnNldFRodW1ibmFpbCA9IGZ1bmN0aW9uICh0aHVtYm5haWwpIHtcclxuICAgICAgICBpZiAodGh1bWJuYWlsID09PSB2b2lkIDApIHsgdGh1bWJuYWlsID0gbnVsbDsgfVxyXG4gICAgICAgIHZhciB0aHVtYm5haWxFbGVtZW50ID0gdGhpcy50aHVtYm5haWwuZ2V0RG9tRWxlbWVudCgpO1xyXG4gICAgICAgIGlmICh0aHVtYm5haWwgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aHVtYm5haWxFbGVtZW50LmNzcyh7XHJcbiAgICAgICAgICAgICAgICAnYmFja2dyb3VuZC1pbWFnZSc6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAnZGlzcGxheSc6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAnd2lkdGgnOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgJ2hlaWdodCc6IG51bGxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aHVtYm5haWxFbGVtZW50LmNzcyh7XHJcbiAgICAgICAgICAgICAgICAnZGlzcGxheSc6ICdpbmhlcml0JyxcclxuICAgICAgICAgICAgICAgICdiYWNrZ3JvdW5kLWltYWdlJzogXCJ1cmwoXCIgKyB0aHVtYm5haWwudXJsICsgXCIpXCIsXHJcbiAgICAgICAgICAgICAgICAnd2lkdGgnOiB0aHVtYm5haWwudyArICdweCcsXHJcbiAgICAgICAgICAgICAgICAnaGVpZ2h0JzogdGh1bWJuYWlsLmggKyAncHgnLFxyXG4gICAgICAgICAgICAgICAgJ2JhY2tncm91bmQtcG9zaXRpb24nOiBcIi1cIiArIHRodW1ibmFpbC54ICsgXCJweCAtXCIgKyB0aHVtYm5haWwueSArIFwicHhcIlxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFNlZWtCYXJMYWJlbDtcclxufShjb250YWluZXJfMS5Db250YWluZXIpKTtcclxuZXhwb3J0cy5TZWVrQmFyTGFiZWwgPSBTZWVrQmFyTGFiZWw7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9zZWVrYmFybGFiZWwudHNcbi8vIG1vZHVsZSBpZCA9IDE2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgY29udGFpbmVyXzEgPSByZXF1aXJlKFwiLi9jb250YWluZXJcIik7XHJcbnZhciB2b2x1bWVzbGlkZXJfMSA9IHJlcXVpcmUoXCIuL3ZvbHVtZXNsaWRlclwiKTtcclxudmFyIHZvbHVtZXRvZ2dsZWJ1dHRvbl8xID0gcmVxdWlyZShcIi4vdm9sdW1ldG9nZ2xlYnV0dG9uXCIpO1xyXG52YXIgdGltZW91dF8xID0gcmVxdWlyZShcIi4uL3RpbWVvdXRcIik7XHJcbi8qKlxyXG4gKiBBIGNvbXBvc2l0ZSB2b2x1bWUgY29udHJvbCB0aGF0IGNvbnNpc3RzIG9mIGFuZCBpbnRlcm5hbGx5IG1hbmFnZXMgYSB2b2x1bWUgY29udHJvbCBidXR0b24gdGhhdCBjYW4gYmUgdXNlZFxyXG4gKiBmb3IgbXV0aW5nLCBhbmQgYSAoZGVwZW5kaW5nIG9uIHRoZSBDU1Mgc3R5bGUsIGUuZy4gc2xpZGUtb3V0KSB2b2x1bWUgY29udHJvbCBiYXIuXHJcbiAqL1xyXG52YXIgVm9sdW1lQ29udHJvbEJ1dHRvbiA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoVm9sdW1lQ29udHJvbEJ1dHRvbiwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIFZvbHVtZUNvbnRyb2xCdXR0b24oY29uZmlnKSB7XHJcbiAgICAgICAgaWYgKGNvbmZpZyA9PT0gdm9pZCAwKSB7IGNvbmZpZyA9IHt9OyB9XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgY29uZmlnKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLnZvbHVtZVRvZ2dsZUJ1dHRvbiA9IG5ldyB2b2x1bWV0b2dnbGVidXR0b25fMS5Wb2x1bWVUb2dnbGVCdXR0b24oKTtcclxuICAgICAgICBfdGhpcy52b2x1bWVTbGlkZXIgPSBuZXcgdm9sdW1lc2xpZGVyXzEuVm9sdW1lU2xpZGVyKHtcclxuICAgICAgICAgICAgdmVydGljYWw6IGNvbmZpZy52ZXJ0aWNhbCAhPSBudWxsID8gY29uZmlnLnZlcnRpY2FsIDogdHJ1ZSxcclxuICAgICAgICAgICAgaGlkZGVuOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgX3RoaXMuY29uZmlnID0gX3RoaXMubWVyZ2VDb25maWcoY29uZmlnLCB7XHJcbiAgICAgICAgICAgIGNzc0NsYXNzOiAndWktdm9sdW1lY29udHJvbGJ1dHRvbicsXHJcbiAgICAgICAgICAgIGNvbXBvbmVudHM6IFtfdGhpcy52b2x1bWVUb2dnbGVCdXR0b24sIF90aGlzLnZvbHVtZVNsaWRlcl0sXHJcbiAgICAgICAgICAgIGhpZGVEZWxheTogNTAwXHJcbiAgICAgICAgfSwgX3RoaXMuY29uZmlnKTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBWb2x1bWVDb250cm9sQnV0dG9uLnByb3RvdHlwZS5jb25maWd1cmUgPSBmdW5jdGlvbiAocGxheWVyLCB1aW1hbmFnZXIpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuY29uZmlndXJlLmNhbGwodGhpcywgcGxheWVyLCB1aW1hbmFnZXIpO1xyXG4gICAgICAgIHZhciB2b2x1bWVUb2dnbGVCdXR0b24gPSB0aGlzLmdldFZvbHVtZVRvZ2dsZUJ1dHRvbigpO1xyXG4gICAgICAgIHZhciB2b2x1bWVTbGlkZXIgPSB0aGlzLmdldFZvbHVtZVNsaWRlcigpO1xyXG4gICAgICAgIHRoaXMudm9sdW1lU2xpZGVySGlkZVRpbWVvdXQgPSBuZXcgdGltZW91dF8xLlRpbWVvdXQodGhpcy5nZXRDb25maWcoKS5oaWRlRGVsYXksIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdm9sdW1lU2xpZGVyLmhpZGUoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvKlxyXG4gICAgICAgICAqIFZvbHVtZSBTbGlkZXIgdmlzaWJpbGl0eSBoYW5kbGluZ1xyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogVGhlIHZvbHVtZSBzbGlkZXIgc2hhbGwgYmUgdmlzaWJsZSB3aGlsZSB0aGUgdXNlciBob3ZlcnMgdGhlIG11dGUgdG9nZ2xlIGJ1dHRvbiwgd2hpbGUgdGhlIHVzZXIgaG92ZXJzIHRoZVxyXG4gICAgICAgICAqIHZvbHVtZSBzbGlkZXIsIGFuZCB3aGlsZSB0aGUgdXNlciBzbGlkZXMgdGhlIHZvbHVtZSBzbGlkZXIuIElmIG5vbmUgb2YgdGhlc2Ugc2l0dWF0aW9ucyBhcmUgdHJ1ZSwgdGhlIHNsaWRlclxyXG4gICAgICAgICAqIHNoYWxsIGRpc2FwcGVhci5cclxuICAgICAgICAgKi9cclxuICAgICAgICB2YXIgdm9sdW1lU2xpZGVySG92ZXJlZCA9IGZhbHNlO1xyXG4gICAgICAgIHZvbHVtZVRvZ2dsZUJ1dHRvbi5nZXREb21FbGVtZW50KCkub24oJ21vdXNlZW50ZXInLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIC8vIFNob3cgdm9sdW1lIHNsaWRlciB3aGVuIG1vdXNlIGVudGVycyB0aGUgYnV0dG9uIGFyZWFcclxuICAgICAgICAgICAgaWYgKHZvbHVtZVNsaWRlci5pc0hpZGRlbigpKSB7XHJcbiAgICAgICAgICAgICAgICB2b2x1bWVTbGlkZXIuc2hvdygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIEF2b2lkIGhpZGluZyBvZiB0aGUgc2xpZGVyIHdoZW4gYnV0dG9uIGlzIGhvdmVyZWRcclxuICAgICAgICAgICAgX3RoaXMudm9sdW1lU2xpZGVySGlkZVRpbWVvdXQuY2xlYXIoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB2b2x1bWVUb2dnbGVCdXR0b24uZ2V0RG9tRWxlbWVudCgpLm9uKCdtb3VzZWxlYXZlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAvLyBIaWRlIHNsaWRlciBkZWxheWVkIHdoZW4gYnV0dG9uIGlzIGxlZnRcclxuICAgICAgICAgICAgX3RoaXMudm9sdW1lU2xpZGVySGlkZVRpbWVvdXQucmVzZXQoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB2b2x1bWVTbGlkZXIuZ2V0RG9tRWxlbWVudCgpLm9uKCdtb3VzZWVudGVyJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAvLyBXaGVuIHRoZSBzbGlkZXIgaXMgZW50ZXJlZCwgY2FuY2VsIHRoZSBoaWRlIHRpbWVvdXQgYWN0aXZhdGVkIGJ5IGxlYXZpbmcgdGhlIGJ1dHRvblxyXG4gICAgICAgICAgICBfdGhpcy52b2x1bWVTbGlkZXJIaWRlVGltZW91dC5jbGVhcigpO1xyXG4gICAgICAgICAgICB2b2x1bWVTbGlkZXJIb3ZlcmVkID0gdHJ1ZTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB2b2x1bWVTbGlkZXIuZ2V0RG9tRWxlbWVudCgpLm9uKCdtb3VzZWxlYXZlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAvLyBXaGVuIG1vdXNlIGxlYXZlcyB0aGUgc2xpZGVyLCBvbmx5IGhpZGUgaXQgaWYgdGhlcmUgaXMgbm8gc2xpZGUgb3BlcmF0aW9uIGluIHByb2dyZXNzXHJcbiAgICAgICAgICAgIGlmICh2b2x1bWVTbGlkZXIuaXNTZWVraW5nKCkpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLnZvbHVtZVNsaWRlckhpZGVUaW1lb3V0LmNsZWFyKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy52b2x1bWVTbGlkZXJIaWRlVGltZW91dC5yZXNldCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZvbHVtZVNsaWRlckhvdmVyZWQgPSBmYWxzZTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB2b2x1bWVTbGlkZXIub25TZWVrZWQuc3Vic2NyaWJlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgLy8gV2hlbiBhIHNsaWRlIG9wZXJhdGlvbiBpcyBkb25lIGFuZCB0aGUgc2xpZGVyIG5vdCBob3ZlcmVkIChtb3VzZSBvdXRzaWRlIHNsaWRlciksIGhpZGUgc2xpZGVyIGRlbGF5ZWRcclxuICAgICAgICAgICAgaWYgKCF2b2x1bWVTbGlkZXJIb3ZlcmVkKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy52b2x1bWVTbGlkZXJIaWRlVGltZW91dC5yZXNldCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgVm9sdW1lQ29udHJvbEJ1dHRvbi5wcm90b3R5cGUucmVsZWFzZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLnJlbGVhc2UuY2FsbCh0aGlzKTtcclxuICAgICAgICB0aGlzLnZvbHVtZVNsaWRlckhpZGVUaW1lb3V0LmNsZWFyKCk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBQcm92aWRlcyBhY2Nlc3MgdG8gdGhlIGludGVybmFsbHkgbWFuYWdlZCB2b2x1bWUgdG9nZ2xlIGJ1dHRvbi5cclxuICAgICAqIEByZXR1cm5zIHtWb2x1bWVUb2dnbGVCdXR0b259XHJcbiAgICAgKi9cclxuICAgIFZvbHVtZUNvbnRyb2xCdXR0b24ucHJvdG90eXBlLmdldFZvbHVtZVRvZ2dsZUJ1dHRvbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy52b2x1bWVUb2dnbGVCdXR0b247XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBQcm92aWRlcyBhY2Nlc3MgdG8gdGhlIGludGVybmFsbHkgbWFuYWdlZCB2b2x1bWUgc2lsZGVyLlxyXG4gICAgICogQHJldHVybnMge1ZvbHVtZVNsaWRlcn1cclxuICAgICAqL1xyXG4gICAgVm9sdW1lQ29udHJvbEJ1dHRvbi5wcm90b3R5cGUuZ2V0Vm9sdW1lU2xpZGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnZvbHVtZVNsaWRlcjtcclxuICAgIH07XHJcbiAgICByZXR1cm4gVm9sdW1lQ29udHJvbEJ1dHRvbjtcclxufShjb250YWluZXJfMS5Db250YWluZXIpKTtcclxuZXhwb3J0cy5Wb2x1bWVDb250cm9sQnV0dG9uID0gVm9sdW1lQ29udHJvbEJ1dHRvbjtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3ZvbHVtZWNvbnRyb2xidXR0b24udHNcbi8vIG1vZHVsZSBpZCA9IDE3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgc2Vla2Jhcl8xID0gcmVxdWlyZShcIi4vc2Vla2JhclwiKTtcclxuLyoqXHJcbiAqIEEgc2ltcGxlIHZvbHVtZSBzbGlkZXIgY29tcG9uZW50IHRvIGFkanVzdCB0aGUgcGxheWVyJ3Mgdm9sdW1lIHNldHRpbmcuXHJcbiAqL1xyXG52YXIgVm9sdW1lU2xpZGVyID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhWb2x1bWVTbGlkZXIsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBWb2x1bWVTbGlkZXIoY29uZmlnKSB7XHJcbiAgICAgICAgaWYgKGNvbmZpZyA9PT0gdm9pZCAwKSB7IGNvbmZpZyA9IHt9OyB9XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgY29uZmlnKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLmNvbmZpZyA9IF90aGlzLm1lcmdlQ29uZmlnKGNvbmZpZywge1xyXG4gICAgICAgICAgICBjc3NDbGFzczogJ3VpLXZvbHVtZXNsaWRlcicsXHJcbiAgICAgICAgICAgIGhpZGVJZlZvbHVtZUNvbnRyb2xQcm9oaWJpdGVkOiB0cnVlLFxyXG4gICAgICAgIH0sIF90aGlzLmNvbmZpZyk7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgVm9sdW1lU2xpZGVyLnByb3RvdHlwZS5jb25maWd1cmUgPSBmdW5jdGlvbiAocGxheWVyLCB1aW1hbmFnZXIpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuY29uZmlndXJlLmNhbGwodGhpcywgcGxheWVyLCB1aW1hbmFnZXIsIGZhbHNlKTtcclxuICAgICAgICB2YXIgY29uZmlnID0gdGhpcy5nZXRDb25maWcoKTtcclxuICAgICAgICBpZiAoY29uZmlnLmhpZGVJZlZvbHVtZUNvbnRyb2xQcm9oaWJpdGVkICYmICF0aGlzLmRldGVjdFZvbHVtZUNvbnRyb2xBdmFpbGFiaWxpdHkocGxheWVyKSkge1xyXG4gICAgICAgICAgICB0aGlzLmhpZGUoKTtcclxuICAgICAgICAgICAgLy8gV2UgY2FuIGp1c3QgcmV0dXJuIGZyb20gaGVyZSwgYmVjYXVzZSB0aGUgdXNlciB3aWxsIG5ldmVyIGludGVyYWN0IHdpdGggdGhlIGNvbnRyb2wgYW5kIGFueSBjb25maWd1cmVkXHJcbiAgICAgICAgICAgIC8vIGZ1bmN0aW9uYWxpdHkgd291bGQgb25seSBlYXQgcmVzb3VyY2VzIGZvciBubyByZWFzb24uXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHZvbHVtZUNoYW5nZUhhbmRsZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChwbGF5ZXIuaXNNdXRlZCgpKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5zZXRQbGF5YmFja1Bvc2l0aW9uKDApO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuc2V0QnVmZmVyUG9zaXRpb24oMCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5zZXRQbGF5YmFja1Bvc2l0aW9uKHBsYXllci5nZXRWb2x1bWUoKSk7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5zZXRCdWZmZXJQb3NpdGlvbihwbGF5ZXIuZ2V0Vm9sdW1lKCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9SRUFEWSwgdm9sdW1lQ2hhbmdlSGFuZGxlcik7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fVk9MVU1FX0NIQU5HRUQsIHZvbHVtZUNoYW5nZUhhbmRsZXIpO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX01VVEVELCB2b2x1bWVDaGFuZ2VIYW5kbGVyKTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9VTk1VVEVELCB2b2x1bWVDaGFuZ2VIYW5kbGVyKTtcclxuICAgICAgICB0aGlzLm9uU2Vla1ByZXZpZXcuc3Vic2NyaWJlKGZ1bmN0aW9uIChzZW5kZXIsIGFyZ3MpIHtcclxuICAgICAgICAgICAgaWYgKGFyZ3Muc2NydWJiaW5nKSB7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXIuc2V0Vm9sdW1lKGFyZ3MucG9zaXRpb24pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5vblNlZWtlZC5zdWJzY3JpYmUoZnVuY3Rpb24gKHNlbmRlciwgcGVyY2VudGFnZSkge1xyXG4gICAgICAgICAgICBwbGF5ZXIuc2V0Vm9sdW1lKHBlcmNlbnRhZ2UpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIFVwZGF0ZSB0aGUgdm9sdW1lIHNsaWRlciBtYXJrZXIgd2hlbiB0aGUgcGxheWVyIHJlc2l6ZWQsIGEgc291cmNlIGlzIGxvYWRlZCBhbmQgcGxheWVyIGlzIHJlYWR5LFxyXG4gICAgICAgIC8vIG9yIHRoZSBVSSBpcyBjb25maWd1cmVkLiBDaGVjayB0aGUgc2Vla2JhciBmb3IgYSBkZXRhaWxlZCBkZXNjcmlwdGlvbi5cclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9QTEFZRVJfUkVTSVpFLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIF90aGlzLnJlZnJlc2hQbGF5YmFja1Bvc2l0aW9uKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fUkVBRFksIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgX3RoaXMucmVmcmVzaFBsYXliYWNrUG9zaXRpb24oKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB1aW1hbmFnZXIub25Db25maWd1cmVkLnN1YnNjcmliZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIF90aGlzLnJlZnJlc2hQbGF5YmFja1Bvc2l0aW9uKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gSW5pdCB2b2x1bWUgYmFyXHJcbiAgICAgICAgdm9sdW1lQ2hhbmdlSGFuZGxlcigpO1xyXG4gICAgfTtcclxuICAgIFZvbHVtZVNsaWRlci5wcm90b3R5cGUuZGV0ZWN0Vm9sdW1lQ29udHJvbEF2YWlsYWJpbGl0eSA9IGZ1bmN0aW9uIChwbGF5ZXIpIHtcclxuICAgICAgICAvLyBTdG9yZSBjdXJyZW50IHBsYXllciBzdGF0ZSBzbyB3ZSBjYW4gcmVzdG9yZSBpdCBsYXRlclxyXG4gICAgICAgIHZhciB2b2x1bWUgPSBwbGF5ZXIuZ2V0Vm9sdW1lKCk7XHJcbiAgICAgICAgdmFyIG11dGVkID0gcGxheWVyLmlzTXV0ZWQoKTtcclxuICAgICAgICB2YXIgcGxheWluZyA9IHBsYXllci5pc1BsYXlpbmcoKTtcclxuICAgICAgICAvKlxyXG4gICAgICAgICAqIFwiT24gaU9TIGRldmljZXMsIHRoZSBhdWRpbyBsZXZlbCBpcyBhbHdheXMgdW5kZXIgdGhlIHVzZXLigJlzIHBoeXNpY2FsIGNvbnRyb2wuIFRoZSB2b2x1bWUgcHJvcGVydHkgaXMgbm90XHJcbiAgICAgICAgICogc2V0dGFibGUgaW4gSmF2YVNjcmlwdC4gUmVhZGluZyB0aGUgdm9sdW1lIHByb3BlcnR5IGFsd2F5cyByZXR1cm5zIDEuXCJcclxuICAgICAgICAgKiBodHRwczovL2RldmVsb3Blci5hcHBsZS5jb20vbGlicmFyeS9jb250ZW50L2RvY3VtZW50YXRpb24vQXVkaW9WaWRlby9Db25jZXB0dWFsL1VzaW5nX0hUTUw1X0F1ZGlvX1ZpZGVvL0RldmljZS1TcGVjaWZpY0NvbnNpZGVyYXRpb25zL0RldmljZS1TcGVjaWZpY0NvbnNpZGVyYXRpb25zLmh0bWxcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIE91ciBwbGF5ZXIgQVBJIHJldHVybnMgYSB2b2x1bWUgcmFuZ2Ugb2YgWzAsIDEwMF0gc28gd2UgbmVlZCB0byBjaGVjayBmb3IgMTAwIGluc3RlYWQgb2YgMS5cclxuICAgICAgICAgKi9cclxuICAgICAgICAvLyBPbmx5IGlmIHRoZSB2b2x1bWUgaXMgMTAwLCB0aGVyZSdzIHRoZSBwb3NzaWJpbGl0eSB3ZSBhcmUgb24gYSB2b2x1bWUtY29udHJvbC1yZXN0cmljdGVkIGlPUyBkZXZpY2VcclxuICAgICAgICBpZiAodm9sdW1lID09PSAxMDApIHtcclxuICAgICAgICAgICAgLy8gV2Ugc2V0IHRoZSB2b2x1bWUgdG8gemVybyAodGhhdCdzIHRoZSBvbmx5IHZhbHVlIHRoYXQgZG9lcyBub3QgdW5tdXRlIGEgbXV0ZWQgcGxheWVyISlcclxuICAgICAgICAgICAgcGxheWVyLnNldFZvbHVtZSgwKTtcclxuICAgICAgICAgICAgLy8gVGhlbiB3ZSBjaGVjayBpZiB0aGUgdmFsdWUgaXMgc3RpbGwgMTAwXHJcbiAgICAgICAgICAgIGlmIChwbGF5ZXIuZ2V0Vm9sdW1lKCkgPT09IDEwMCkge1xyXG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIHZvbHVtZSBzdGF5ZWQgYXQgMTAwLCB3ZSdyZSBvbiBhIHZvbHVtZS1jb250cm9sLXJlc3RyaWN0ZWQgZGV2aWNlXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBXZSBjYW4gY29udHJvbCB2b2x1bWUsIHNvIHdlIG11c3QgcmVzdG9yZSB0aGUgcHJldmlvdXMgcGxheWVyIHN0YXRlXHJcbiAgICAgICAgICAgICAgICBwbGF5ZXIuc2V0Vm9sdW1lKHZvbHVtZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAobXV0ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBwbGF5ZXIubXV0ZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHBsYXlpbmcpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBUaGUgdm9sdW1lIHJlc3RvcmUgYWJvdmUgcGF1c2VzIGF1dG9wbGF5IG9uIG1vYmlsZSBkZXZpY2VzIChlLmcuIEFuZHJvaWQpIHNvIHdlIG5lZWQgdG8gcmVzdW1lIHBsYXliYWNrXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gKFdlIGNhbm5vdCBjaGVjayBpc1BhdXNlZCgpIGhlcmUgYmVjYXVzZSBpdCBpcyBub3Qgc2V0IHdoZW4gcGxheWJhY2sgaXMgcHJvaGliaXRlZCBieSB0aGUgbW9iaWxlIHBsYXRmb3JtKVxyXG4gICAgICAgICAgICAgICAgICAgIHBsYXllci5wbGF5KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gVm9sdW1lIGlzIG5vdCAxMDAsIHNvIHdlJ3JlIGRlZmluaXRlbHkgbm90IG9uIGEgdm9sdW1lLWNvbnRyb2wtcmVzdHJpY3RlZCBpT1MgZGV2aWNlXHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICByZXR1cm4gVm9sdW1lU2xpZGVyO1xyXG59KHNlZWtiYXJfMS5TZWVrQmFyKSk7XHJcbmV4cG9ydHMuVm9sdW1lU2xpZGVyID0gVm9sdW1lU2xpZGVyO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvdm9sdW1lc2xpZGVyLnRzXG4vLyBtb2R1bGUgaWQgPSAxOFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIHRvZ2dsZWJ1dHRvbl8xID0gcmVxdWlyZShcIi4vdG9nZ2xlYnV0dG9uXCIpO1xyXG4vKipcclxuICogQSBidXR0b24gdGhhdCB0b2dnbGVzIGF1ZGlvIG11dGluZy5cclxuICovXHJcbnZhciBWb2x1bWVUb2dnbGVCdXR0b24gPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKFZvbHVtZVRvZ2dsZUJ1dHRvbiwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIFZvbHVtZVRvZ2dsZUJ1dHRvbihjb25maWcpIHtcclxuICAgICAgICBpZiAoY29uZmlnID09PSB2b2lkIDApIHsgY29uZmlnID0ge307IH1cclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBjb25maWcpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMuY29uZmlnID0gX3RoaXMubWVyZ2VDb25maWcoY29uZmlnLCB7XHJcbiAgICAgICAgICAgIGNzc0NsYXNzOiAndWktdm9sdW1ldG9nZ2xlYnV0dG9uJyxcclxuICAgICAgICAgICAgdGV4dDogJ1ZvbHVtZS9NdXRlJ1xyXG4gICAgICAgIH0sIF90aGlzLmNvbmZpZyk7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgVm9sdW1lVG9nZ2xlQnV0dG9uLnByb3RvdHlwZS5jb25maWd1cmUgPSBmdW5jdGlvbiAocGxheWVyLCB1aW1hbmFnZXIpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuY29uZmlndXJlLmNhbGwodGhpcywgcGxheWVyLCB1aW1hbmFnZXIpO1xyXG4gICAgICAgIHZhciBtdXRlU3RhdGVIYW5kbGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAocGxheWVyLmlzTXV0ZWQoKSkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMub24oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLm9mZigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICB2YXIgdm9sdW1lTGV2ZWxIYW5kbGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAvLyBUb2dnbGUgbG93IGNsYXNzIHRvIGRpc3BsYXkgbG93IHZvbHVtZSBpY29uIGJlbG93IDUwJSB2b2x1bWVcclxuICAgICAgICAgICAgaWYgKHBsYXllci5nZXRWb2x1bWUoKSA8IDUwKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5nZXREb21FbGVtZW50KCkuYWRkQ2xhc3MoX3RoaXMucHJlZml4Q3NzKCdsb3cnKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5nZXREb21FbGVtZW50KCkucmVtb3ZlQ2xhc3MoX3RoaXMucHJlZml4Q3NzKCdsb3cnKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX01VVEVELCBtdXRlU3RhdGVIYW5kbGVyKTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9VTk1VVEVELCBtdXRlU3RhdGVIYW5kbGVyKTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9WT0xVTUVfQ0hBTkdFRCwgdm9sdW1lTGV2ZWxIYW5kbGVyKTtcclxuICAgICAgICB0aGlzLm9uQ2xpY2suc3Vic2NyaWJlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKHBsYXllci5pc011dGVkKCkpIHtcclxuICAgICAgICAgICAgICAgIHBsYXllci51bm11dGUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHBsYXllci5tdXRlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBTdGFydHVwIGluaXRcclxuICAgICAgICBtdXRlU3RhdGVIYW5kbGVyKCk7XHJcbiAgICAgICAgdm9sdW1lTGV2ZWxIYW5kbGVyKCk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFZvbHVtZVRvZ2dsZUJ1dHRvbjtcclxufSh0b2dnbGVidXR0b25fMS5Ub2dnbGVCdXR0b24pKTtcclxuZXhwb3J0cy5Wb2x1bWVUb2dnbGVCdXR0b24gPSBWb2x1bWVUb2dnbGVCdXR0b247XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy92b2x1bWV0b2dnbGVidXR0b24udHNcbi8vIG1vZHVsZSBpZCA9IDE5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgY29udGFpbmVyXzEgPSByZXF1aXJlKFwiLi9jb250YWluZXJcIik7XHJcbnZhciBsYWJlbF8xID0gcmVxdWlyZShcIi4vbGFiZWxcIik7XHJcbnZhciB0dm5vaXNlY2FudmFzXzEgPSByZXF1aXJlKFwiLi90dm5vaXNlY2FudmFzXCIpO1xyXG4vKipcclxuICogT3ZlcmxheXMgdGhlIHBsYXllciBhbmQgZGlzcGxheXMgZXJyb3IgbWVzc2FnZXMuXHJcbiAqL1xyXG52YXIgRXJyb3JNZXNzYWdlT3ZlcmxheSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoRXJyb3JNZXNzYWdlT3ZlcmxheSwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIEVycm9yTWVzc2FnZU92ZXJsYXkoY29uZmlnKSB7XHJcbiAgICAgICAgaWYgKGNvbmZpZyA9PT0gdm9pZCAwKSB7IGNvbmZpZyA9IHt9OyB9XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgY29uZmlnKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLmVycm9yTGFiZWwgPSBuZXcgbGFiZWxfMS5MYWJlbCh7IGNzc0NsYXNzOiAndWktZXJyb3JtZXNzYWdlLWxhYmVsJyB9KTtcclxuICAgICAgICBfdGhpcy50dk5vaXNlQmFja2dyb3VuZCA9IG5ldyB0dm5vaXNlY2FudmFzXzEuVHZOb2lzZUNhbnZhcygpO1xyXG4gICAgICAgIF90aGlzLmNvbmZpZyA9IF90aGlzLm1lcmdlQ29uZmlnKGNvbmZpZywge1xyXG4gICAgICAgICAgICBjc3NDbGFzczogJ3VpLWVycm9ybWVzc2FnZS1vdmVybGF5JyxcclxuICAgICAgICAgICAgY29tcG9uZW50czogW190aGlzLnR2Tm9pc2VCYWNrZ3JvdW5kLCBfdGhpcy5lcnJvckxhYmVsXSxcclxuICAgICAgICAgICAgaGlkZGVuOiB0cnVlXHJcbiAgICAgICAgfSwgX3RoaXMuY29uZmlnKTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBFcnJvck1lc3NhZ2VPdmVybGF5LnByb3RvdHlwZS5jb25maWd1cmUgPSBmdW5jdGlvbiAocGxheWVyLCB1aW1hbmFnZXIpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuY29uZmlndXJlLmNhbGwodGhpcywgcGxheWVyLCB1aW1hbmFnZXIpO1xyXG4gICAgICAgIHZhciBjb25maWcgPSB0aGlzLmdldENvbmZpZygpO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX0VSUk9SLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgdmFyIG1lc3NhZ2UgPSBldmVudC5tZXNzYWdlO1xyXG4gICAgICAgICAgICAvLyBQcm9jZXNzIG1lc3NhZ2UgdHJhbnNsYXRpb25zXHJcbiAgICAgICAgICAgIGlmIChjb25maWcubWVzc2FnZXMpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY29uZmlnLm1lc3NhZ2VzID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gVHJhbnNsYXRpb24gZnVuY3Rpb24gZm9yIGFsbCBlcnJvcnNcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gY29uZmlnLm1lc3NhZ2VzKGV2ZW50KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNvbmZpZy5tZXNzYWdlc1tldmVudC5jb2RlXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIEl0J3Mgbm90IGEgdHJhbnNsYXRpb24gZnVuY3Rpb24sIHNvIGl0IG11c3QgYmUgYSBtYXAgb2Ygc3RyaW5ncyBvciB0cmFuc2xhdGlvbiBmdW5jdGlvbnNcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY3VzdG9tTWVzc2FnZSA9IGNvbmZpZy5tZXNzYWdlc1tldmVudC5jb2RlXTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGN1c3RvbU1lc3NhZ2UgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBjdXN0b21NZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIG1lc3NhZ2UgaXMgYSB0cmFuc2xhdGlvbiBmdW5jdGlvbiwgc28gd2UgY2FsbCBpdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gY3VzdG9tTWVzc2FnZShldmVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIF90aGlzLmVycm9yTGFiZWwuc2V0VGV4dChtZXNzYWdlKTtcclxuICAgICAgICAgICAgX3RoaXMudHZOb2lzZUJhY2tncm91bmQuc3RhcnQoKTtcclxuICAgICAgICAgICAgX3RoaXMuc2hvdygpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1NPVVJDRV9MT0FERUQsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICBpZiAoX3RoaXMuaXNTaG93bigpKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy50dk5vaXNlQmFja2dyb3VuZC5zdG9wKCk7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5oaWRlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gRXJyb3JNZXNzYWdlT3ZlcmxheTtcclxufShjb250YWluZXJfMS5Db250YWluZXIpKTtcclxuZXhwb3J0cy5FcnJvck1lc3NhZ2VPdmVybGF5ID0gRXJyb3JNZXNzYWdlT3ZlcmxheTtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL2Vycm9ybWVzc2FnZW92ZXJsYXkudHNcbi8vIG1vZHVsZSBpZCA9IDIwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgY29udGFpbmVyXzEgPSByZXF1aXJlKFwiLi9jb250YWluZXJcIik7XHJcbnZhciBodWdlcGxheWJhY2t0b2dnbGVidXR0b25fMSA9IHJlcXVpcmUoXCIuL2h1Z2VwbGF5YmFja3RvZ2dsZWJ1dHRvblwiKTtcclxuLyoqXHJcbiAqIE92ZXJsYXlzIHRoZSBwbGF5ZXIgYW5kIGRpc3BsYXlzIGVycm9yIG1lc3NhZ2VzLlxyXG4gKi9cclxudmFyIFBsYXliYWNrVG9nZ2xlT3ZlcmxheSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoUGxheWJhY2tUb2dnbGVPdmVybGF5LCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gUGxheWJhY2tUb2dnbGVPdmVybGF5KGNvbmZpZykge1xyXG4gICAgICAgIGlmIChjb25maWcgPT09IHZvaWQgMCkgeyBjb25maWcgPSB7fTsgfVxyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGNvbmZpZykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5wbGF5YmFja1RvZ2dsZUJ1dHRvbiA9IG5ldyBodWdlcGxheWJhY2t0b2dnbGVidXR0b25fMS5IdWdlUGxheWJhY2tUb2dnbGVCdXR0b24oKTtcclxuICAgICAgICBfdGhpcy5jb25maWcgPSBfdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIHtcclxuICAgICAgICAgICAgY3NzQ2xhc3M6ICd1aS1wbGF5YmFja3RvZ2dsZS1vdmVybGF5JyxcclxuICAgICAgICAgICAgY29tcG9uZW50czogW190aGlzLnBsYXliYWNrVG9nZ2xlQnV0dG9uXVxyXG4gICAgICAgIH0sIF90aGlzLmNvbmZpZyk7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIFBsYXliYWNrVG9nZ2xlT3ZlcmxheTtcclxufShjb250YWluZXJfMS5Db250YWluZXIpKTtcclxuZXhwb3J0cy5QbGF5YmFja1RvZ2dsZU92ZXJsYXkgPSBQbGF5YmFja1RvZ2dsZU92ZXJsYXk7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9wbGF5YmFja3RvZ2dsZW92ZXJsYXkudHNcbi8vIG1vZHVsZSBpZCA9IDIxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgcGxheWJhY2t0b2dnbGVidXR0b25fMSA9IHJlcXVpcmUoXCIuL3BsYXliYWNrdG9nZ2xlYnV0dG9uXCIpO1xyXG52YXIgZG9tXzEgPSByZXF1aXJlKFwiLi4vZG9tXCIpO1xyXG4vKipcclxuICogQSBidXR0b24gdGhhdCBvdmVybGF5cyB0aGUgdmlkZW8gYW5kIHRvZ2dsZXMgYmV0d2VlbiBwbGF5YmFjayBhbmQgcGF1c2UuXHJcbiAqL1xyXG52YXIgSHVnZVBsYXliYWNrVG9nZ2xlQnV0dG9uID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhIdWdlUGxheWJhY2tUb2dnbGVCdXR0b24sIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBIdWdlUGxheWJhY2tUb2dnbGVCdXR0b24oY29uZmlnKSB7XHJcbiAgICAgICAgaWYgKGNvbmZpZyA9PT0gdm9pZCAwKSB7IGNvbmZpZyA9IHt9OyB9XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgY29uZmlnKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLmNvbmZpZyA9IF90aGlzLm1lcmdlQ29uZmlnKGNvbmZpZywge1xyXG4gICAgICAgICAgICBjc3NDbGFzczogJ3VpLWh1Z2VwbGF5YmFja3RvZ2dsZWJ1dHRvbicsXHJcbiAgICAgICAgICAgIHRleHQ6ICdQbGF5L1BhdXNlJ1xyXG4gICAgICAgIH0sIF90aGlzLmNvbmZpZyk7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgSHVnZVBsYXliYWNrVG9nZ2xlQnV0dG9uLnByb3RvdHlwZS5jb25maWd1cmUgPSBmdW5jdGlvbiAocGxheWVyLCB1aW1hbmFnZXIpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIC8vIFVwZGF0ZSBidXR0b24gc3RhdGUgdGhyb3VnaCBBUEkgZXZlbnRzXHJcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5jb25maWd1cmUuY2FsbCh0aGlzLCBwbGF5ZXIsIHVpbWFuYWdlciwgZmFsc2UpO1xyXG4gICAgICAgIHZhciB0b2dnbGVQbGF5YmFjayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKHBsYXllci5pc1BsYXlpbmcoKSkge1xyXG4gICAgICAgICAgICAgICAgcGxheWVyLnBhdXNlKCd1aS1vdmVybGF5Jyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXIucGxheSgndWktb3ZlcmxheScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICB2YXIgdG9nZ2xlRnVsbHNjcmVlbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKHBsYXllci5pc0Z1bGxzY3JlZW4oKSkge1xyXG4gICAgICAgICAgICAgICAgcGxheWVyLmV4aXRGdWxsc2NyZWVuKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBwbGF5ZXIuZW50ZXJGdWxsc2NyZWVuKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciBmaXJzdFBsYXkgPSB0cnVlO1xyXG4gICAgICAgIHZhciBjbGlja1RpbWUgPSAwO1xyXG4gICAgICAgIHZhciBkb3VibGVDbGlja1RpbWUgPSAwO1xyXG4gICAgICAgIC8qXHJcbiAgICAgICAgICogWW91VHViZS1zdHlsZSB0b2dnbGUgYnV0dG9uIGhhbmRsaW5nXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBUaGUgZ29hbCBpcyB0byBwcmV2ZW50IGEgc2hvcnQgcGF1c2Ugb3IgcGxheWJhY2sgaW50ZXJ2YWwgYmV0d2VlbiBhIGNsaWNrLCB0aGF0IHRvZ2dsZXMgcGxheWJhY2ssIGFuZCBhXHJcbiAgICAgICAgICogZG91YmxlIGNsaWNrLCB0aGF0IHRvZ2dsZXMgZnVsbHNjcmVlbi4gSW4gdGhpcyBuYWl2ZSBhcHByb2FjaCwgdGhlIGZpcnN0IGNsaWNrIHdvdWxkIGUuZy4gc3RhcnQgcGxheWJhY2ssXHJcbiAgICAgICAgICogdGhlIHNlY29uZCBjbGljayB3b3VsZCBiZSBkZXRlY3RlZCBhcyBkb3VibGUgY2xpY2sgYW5kIHRvZ2dsZSB0byBmdWxsc2NyZWVuLCBhbmQgYXMgc2Vjb25kIG5vcm1hbCBjbGljayBzdG9wXHJcbiAgICAgICAgICogcGxheWJhY2ssIHdoaWNoIHJlc3VsdHMgaXMgYSBzaG9ydCBwbGF5YmFjayBpbnRlcnZhbCB3aXRoIG1heCBsZW5ndGggb2YgdGhlIGRvdWJsZSBjbGljayBkZXRlY3Rpb25cclxuICAgICAgICAgKiBwZXJpb2QgKHVzdWFsbHkgNTAwbXMpLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogVG8gc29sdmUgdGhpcyBpc3N1ZSwgd2UgZGVmZXIgaGFuZGxpbmcgb2YgdGhlIGZpcnN0IGNsaWNrIGZvciAyMDBtcywgd2hpY2ggaXMgYWxtb3N0IHVubm90aWNlYWJsZSB0byB0aGUgdXNlcixcclxuICAgICAgICAgKiBhbmQganVzdCB0b2dnbGUgcGxheWJhY2sgaWYgbm8gc2Vjb25kIGNsaWNrIChkb3VibGUgY2xpY2spIGhhcyBiZWVuIHJlZ2lzdGVyZWQgZHVyaW5nIHRoaXMgcGVyaW9kLiBJZiBhIGRvdWJsZVxyXG4gICAgICAgICAqIGNsaWNrIGlzIHJlZ2lzdGVyZWQsIHdlIGp1c3QgdG9nZ2xlIHRoZSBmdWxsc2NyZWVuLiBJbiB0aGUgZmlyc3QgMjAwbXMsIHVuZGVzaXJlZCBwbGF5YmFjayBjaGFuZ2VzIHRodXMgY2Fubm90XHJcbiAgICAgICAgICogaGFwcGVuLiBJZiBhIGRvdWJsZSBjbGljayBpcyByZWdpc3RlcmVkIHdpdGhpbiA1MDBtcywgd2UgdW5kbyB0aGUgcGxheWJhY2sgY2hhbmdlIGFuZCBzd2l0Y2ggZnVsbHNjcmVlbiBtb2RlLlxyXG4gICAgICAgICAqIEluIHRoZSBlbmQsIHRoaXMgbWV0aG9kIGJhc2ljYWxseSBpbnRyb2R1Y2VzIGEgMjAwbXMgb2JzZXJ2aW5nIGludGVydmFsIGluIHdoaWNoIHBsYXliYWNrIGNoYW5nZXMgYXJlIHByZXZlbnRlZFxyXG4gICAgICAgICAqIGlmIGEgZG91YmxlIGNsaWNrIGhhcHBlbnMuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5vbkNsaWNrLnN1YnNjcmliZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIC8vIERpcmVjdGx5IHN0YXJ0IHBsYXliYWNrIG9uIGZpcnN0IGNsaWNrIG9mIHRoZSBidXR0b24uXHJcbiAgICAgICAgICAgIC8vIFRoaXMgaXMgYSByZXF1aXJlZCB3b3JrYXJvdW5kIGZvciBtb2JpbGUgYnJvd3NlcnMgd2hlcmUgdmlkZW8gcGxheWJhY2sgbmVlZHMgdG8gYmUgdHJpZ2dlcmVkIGRpcmVjdGx5XHJcbiAgICAgICAgICAgIC8vIGJ5IHRoZSB1c2VyLiBBIGRlZmVycmVkIHBsYXliYWNrIHN0YXJ0IHRocm91Z2ggdGhlIHRpbWVvdXQgYmVsb3cgaXMgbm90IGNvbnNpZGVyZWQgYXMgdXNlciBhY3Rpb24gYW5kXHJcbiAgICAgICAgICAgIC8vIHRoZXJlZm9yZSBpZ25vcmVkIGJ5IG1vYmlsZSBicm93c2Vycy5cclxuICAgICAgICAgICAgaWYgKGZpcnN0UGxheSkge1xyXG4gICAgICAgICAgICAgICAgLy8gVHJ5IHRvIHN0YXJ0IHBsYXliYWNrLiBUaGVuIHdlIHdhaXQgZm9yIE9OX1BMQVkgYW5kIG9ubHkgd2hlbiBpdCBhcnJpdmVzLCB3ZSBkaXNhYmxlIHRoZSBmaXJzdFBsYXkgZmxhZy5cclxuICAgICAgICAgICAgICAgIC8vIElmIHdlIGRpc2FibGUgdGhlIGZsYWcgaGVyZSwgb25DbGljayB3YXMgdHJpZ2dlcmVkIHByb2dyYW1tYXRpY2FsbHkgaW5zdGVhZCBvZiBieSBhIHVzZXIgaW50ZXJhY3Rpb24sIGFuZFxyXG4gICAgICAgICAgICAgICAgLy8gcGxheWJhY2sgaXMgYmxvY2tlZCAoZS5nLiBvbiBtb2JpbGUgZGV2aWNlcyBkdWUgdG8gdGhlIHByb2dyYW1tYXRpYyBwbGF5KCkgY2FsbCksIHdlIGxvb3NlIHRoZSBjaGFuY2UgdG9cclxuICAgICAgICAgICAgICAgIC8vIGV2ZXIgc3RhcnQgcGxheWJhY2sgdGhyb3VnaCBhIHVzZXIgaW50ZXJhY3Rpb24gYWdhaW4gd2l0aCB0aGlzIGJ1dHRvbi5cclxuICAgICAgICAgICAgICAgIHRvZ2dsZVBsYXliYWNrKCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIG5vdyA9IERhdGUubm93KCk7XHJcbiAgICAgICAgICAgIGlmIChub3cgLSBjbGlja1RpbWUgPCAyMDApIHtcclxuICAgICAgICAgICAgICAgIC8vIFdlIGhhdmUgYSBkb3VibGUgY2xpY2sgaW5zaWRlIHRoZSAyMDBtcyBpbnRlcnZhbCwganVzdCB0b2dnbGUgZnVsbHNjcmVlbiBtb2RlXHJcbiAgICAgICAgICAgICAgICB0b2dnbGVGdWxsc2NyZWVuKCk7XHJcbiAgICAgICAgICAgICAgICBkb3VibGVDbGlja1RpbWUgPSBub3c7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAobm93IC0gY2xpY2tUaW1lIDwgNTAwKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBXZSBoYXZlIGEgZG91YmxlIGNsaWNrIGluc2lkZSB0aGUgNTAwbXMgaW50ZXJ2YWwsIHVuZG8gcGxheWJhY2sgdG9nZ2xlIGFuZCB0b2dnbGUgZnVsbHNjcmVlbiBtb2RlXHJcbiAgICAgICAgICAgICAgICB0b2dnbGVGdWxsc2NyZWVuKCk7XHJcbiAgICAgICAgICAgICAgICB0b2dnbGVQbGF5YmFjaygpO1xyXG4gICAgICAgICAgICAgICAgZG91YmxlQ2xpY2tUaW1lID0gbm93O1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNsaWNrVGltZSA9IG5vdztcclxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoRGF0ZS5ub3coKSAtIGRvdWJsZUNsaWNrVGltZSA+IDIwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIE5vIGRvdWJsZSBjbGljayBkZXRlY3RlZCwgc28gd2UgdG9nZ2xlIHBsYXliYWNrIGFuZCB3YWl0IHdoYXQgaGFwcGVucyBuZXh0XHJcbiAgICAgICAgICAgICAgICAgICAgdG9nZ2xlUGxheWJhY2soKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgMjAwKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9QTEFZLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIC8vIFBsYXliYWNrIGhhcyByZWFsbHkgc3RhcnRlZCwgd2UgY2FuIGRpc2FibGUgdGhlIGZsYWcgdG8gc3dpdGNoIHRvIG5vcm1hbCB0b2dnbGUgYnV0dG9uIGhhbmRsaW5nXHJcbiAgICAgICAgICAgIGZpcnN0UGxheSA9IGZhbHNlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIEhpZGUgYnV0dG9uIHdoaWxlIGluaXRpYWxpemluZyBhIENhc3Qgc2Vzc2lvblxyXG4gICAgICAgIHZhciBjYXN0SW5pdGlhbGl6YXRpb25IYW5kbGVyID0gZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIGlmIChldmVudC50eXBlID09PSBwbGF5ZXIuRVZFTlQuT05fQ0FTVF9TVEFSVCkge1xyXG4gICAgICAgICAgICAgICAgLy8gSGlkZSBidXR0b24gd2hlbiBzZXNzaW9uIGlzIGJlaW5nIGluaXRpYWxpemVkXHJcbiAgICAgICAgICAgICAgICBfdGhpcy5oaWRlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBTaG93IGJ1dHRvbiB3aGVuIHNlc3Npb24gaXMgZXN0YWJsaXNoZWQgb3IgaW5pdGlhbGl6YXRpb24gd2FzIGFib3J0ZWRcclxuICAgICAgICAgICAgICAgIF90aGlzLnNob3coKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fQ0FTVF9TVEFSVCwgY2FzdEluaXRpYWxpemF0aW9uSGFuZGxlcik7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fQ0FTVF9TVEFSVEVELCBjYXN0SW5pdGlhbGl6YXRpb25IYW5kbGVyKTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9DQVNUX1NUT1BQRUQsIGNhc3RJbml0aWFsaXphdGlvbkhhbmRsZXIpO1xyXG4gICAgfTtcclxuICAgIEh1Z2VQbGF5YmFja1RvZ2dsZUJ1dHRvbi5wcm90b3R5cGUudG9Eb21FbGVtZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBidXR0b25FbGVtZW50ID0gX3N1cGVyLnByb3RvdHlwZS50b0RvbUVsZW1lbnQuY2FsbCh0aGlzKTtcclxuICAgICAgICAvLyBBZGQgY2hpbGQgdGhhdCBjb250YWlucyB0aGUgcGxheSBidXR0b24gaW1hZ2VcclxuICAgICAgICAvLyBTZXR0aW5nIHRoZSBpbWFnZSBkaXJlY3RseSBvbiB0aGUgYnV0dG9uIGRvZXMgbm90IHdvcmsgdG9nZXRoZXIgd2l0aCBzY2FsaW5nIGFuaW1hdGlvbnMsIGJlY2F1c2UgdGhlIGJ1dHRvblxyXG4gICAgICAgIC8vIGNhbiBjb3ZlciB0aGUgd2hvbGUgdmlkZW8gcGxheWVyIGFyZSBhbmQgc2NhbGluZyB3b3VsZCBleHRlbmQgaXQgYmV5b25kLiBCeSBhZGRpbmcgYW4gaW5uZXIgZWxlbWVudCwgY29uZmluZWRcclxuICAgICAgICAvLyB0byB0aGUgc2l6ZSBpZiB0aGUgaW1hZ2UsIGl0IGNhbiBzY2FsZSBpbnNpZGUgdGhlIHBsYXllciB3aXRob3V0IG92ZXJzaG9vdGluZy5cclxuICAgICAgICBidXR0b25FbGVtZW50LmFwcGVuZChuZXcgZG9tXzEuRE9NKCdkaXYnLCB7XHJcbiAgICAgICAgICAgICdjbGFzcyc6IHRoaXMucHJlZml4Q3NzKCdpbWFnZScpXHJcbiAgICAgICAgfSkpO1xyXG4gICAgICAgIHJldHVybiBidXR0b25FbGVtZW50O1xyXG4gICAgfTtcclxuICAgIHJldHVybiBIdWdlUGxheWJhY2tUb2dnbGVCdXR0b247XHJcbn0ocGxheWJhY2t0b2dnbGVidXR0b25fMS5QbGF5YmFja1RvZ2dsZUJ1dHRvbikpO1xyXG5leHBvcnRzLkh1Z2VQbGF5YmFja1RvZ2dsZUJ1dHRvbiA9IEh1Z2VQbGF5YmFja1RvZ2dsZUJ1dHRvbjtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL2h1Z2VwbGF5YmFja3RvZ2dsZWJ1dHRvbi50c1xuLy8gbW9kdWxlIGlkID0gMjJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBsaXN0c2VsZWN0b3JfMSA9IHJlcXVpcmUoXCIuL2xpc3RzZWxlY3RvclwiKTtcclxudmFyIGRvbV8xID0gcmVxdWlyZShcIi4uL2RvbVwiKTtcclxuLyoqXHJcbiAqIEEgc2ltcGxlIHNlbGVjdCBib3ggcHJvdmlkaW5nIHRoZSBwb3NzaWJpbGl0eSB0byBzZWxlY3QgYSBzaW5nbGUgaXRlbSBvdXQgb2YgYSBsaXN0IG9mIGF2YWlsYWJsZSBpdGVtcy5cclxuICpcclxuICogRE9NIGV4YW1wbGU6XHJcbiAqIDxjb2RlPlxyXG4gKiAgICAgPHNlbGVjdCBjbGFzcz0ndWktc2VsZWN0Ym94Jz5cclxuICogICAgICAgICA8b3B0aW9uIHZhbHVlPSdrZXknPmxhYmVsPC9vcHRpb24+XHJcbiAqICAgICAgICAgLi4uXHJcbiAqICAgICA8L3NlbGVjdD5cclxuICogPC9jb2RlPlxyXG4gKi9cclxudmFyIFNlbGVjdEJveCA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoU2VsZWN0Qm94LCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gU2VsZWN0Qm94KGNvbmZpZykge1xyXG4gICAgICAgIGlmIChjb25maWcgPT09IHZvaWQgMCkgeyBjb25maWcgPSB7fTsgfVxyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGNvbmZpZykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5jb25maWcgPSBfdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIHtcclxuICAgICAgICAgICAgY3NzQ2xhc3M6ICd1aS1zZWxlY3Rib3gnXHJcbiAgICAgICAgfSwgX3RoaXMuY29uZmlnKTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBTZWxlY3RCb3gucHJvdG90eXBlLnRvRG9tRWxlbWVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHZhciBzZWxlY3RFbGVtZW50ID0gbmV3IGRvbV8xLkRPTSgnc2VsZWN0Jywge1xyXG4gICAgICAgICAgICAnaWQnOiB0aGlzLmNvbmZpZy5pZCxcclxuICAgICAgICAgICAgJ2NsYXNzJzogdGhpcy5nZXRDc3NDbGFzc2VzKClcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnNlbGVjdEVsZW1lbnQgPSBzZWxlY3RFbGVtZW50O1xyXG4gICAgICAgIHRoaXMudXBkYXRlRG9tSXRlbXMoKTtcclxuICAgICAgICBzZWxlY3RFbGVtZW50Lm9uKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHNlbGVjdEVsZW1lbnQudmFsKCk7XHJcbiAgICAgICAgICAgIF90aGlzLm9uSXRlbVNlbGVjdGVkRXZlbnQodmFsdWUsIGZhbHNlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gc2VsZWN0RWxlbWVudDtcclxuICAgIH07XHJcbiAgICBTZWxlY3RCb3gucHJvdG90eXBlLnVwZGF0ZURvbUl0ZW1zID0gZnVuY3Rpb24gKHNlbGVjdGVkVmFsdWUpIHtcclxuICAgICAgICBpZiAoc2VsZWN0ZWRWYWx1ZSA9PT0gdm9pZCAwKSB7IHNlbGVjdGVkVmFsdWUgPSBudWxsOyB9XHJcbiAgICAgICAgLy8gRGVsZXRlIGFsbCBjaGlsZHJlblxyXG4gICAgICAgIHRoaXMuc2VsZWN0RWxlbWVudC5lbXB0eSgpO1xyXG4gICAgICAgIC8vIEFkZCB1cGRhdGVkIGNoaWxkcmVuXHJcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IHRoaXMuaXRlbXM7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBpdGVtID0gX2FbX2ldO1xyXG4gICAgICAgICAgICB2YXIgb3B0aW9uRWxlbWVudCA9IG5ldyBkb21fMS5ET00oJ29wdGlvbicsIHtcclxuICAgICAgICAgICAgICAgICd2YWx1ZSc6IGl0ZW0ua2V5XHJcbiAgICAgICAgICAgIH0pLmh0bWwoaXRlbS5sYWJlbCk7XHJcbiAgICAgICAgICAgIGlmIChpdGVtLmtleSA9PT0gc2VsZWN0ZWRWYWx1ZSArICcnKSB7XHJcbiAgICAgICAgICAgICAgICBvcHRpb25FbGVtZW50LmF0dHIoJ3NlbGVjdGVkJywgJ3NlbGVjdGVkJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RFbGVtZW50LmFwcGVuZChvcHRpb25FbGVtZW50KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgU2VsZWN0Qm94LnByb3RvdHlwZS5vbkl0ZW1BZGRlZEV2ZW50ID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5vbkl0ZW1BZGRlZEV2ZW50LmNhbGwodGhpcywgdmFsdWUpO1xyXG4gICAgICAgIHRoaXMudXBkYXRlRG9tSXRlbXModGhpcy5zZWxlY3RlZEl0ZW0pO1xyXG4gICAgfTtcclxuICAgIFNlbGVjdEJveC5wcm90b3R5cGUub25JdGVtUmVtb3ZlZEV2ZW50ID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5vbkl0ZW1SZW1vdmVkRXZlbnQuY2FsbCh0aGlzLCB2YWx1ZSk7XHJcbiAgICAgICAgdGhpcy51cGRhdGVEb21JdGVtcyh0aGlzLnNlbGVjdGVkSXRlbSk7XHJcbiAgICB9O1xyXG4gICAgU2VsZWN0Qm94LnByb3RvdHlwZS5vbkl0ZW1TZWxlY3RlZEV2ZW50ID0gZnVuY3Rpb24gKHZhbHVlLCB1cGRhdGVEb21JdGVtcykge1xyXG4gICAgICAgIGlmICh1cGRhdGVEb21JdGVtcyA9PT0gdm9pZCAwKSB7IHVwZGF0ZURvbUl0ZW1zID0gdHJ1ZTsgfVxyXG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUub25JdGVtU2VsZWN0ZWRFdmVudC5jYWxsKHRoaXMsIHZhbHVlKTtcclxuICAgICAgICBpZiAodXBkYXRlRG9tSXRlbXMpIHtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVEb21JdGVtcyh2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHJldHVybiBTZWxlY3RCb3g7XHJcbn0obGlzdHNlbGVjdG9yXzEuTGlzdFNlbGVjdG9yKSk7XHJcbmV4cG9ydHMuU2VsZWN0Qm94ID0gU2VsZWN0Qm94O1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvc2VsZWN0Ym94LnRzXG4vLyBtb2R1bGUgaWQgPSAyM1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGJ1dHRvbl8xID0gcmVxdWlyZShcIi4vYnV0dG9uXCIpO1xyXG4vKipcclxuICogQSBjbGljayBvdmVybGF5IHRoYXQgb3BlbnMgYW4gdXJsIGluIGEgbmV3IHRhYiBpZiBjbGlja2VkLlxyXG4gKi9cclxudmFyIENsaWNrT3ZlcmxheSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoQ2xpY2tPdmVybGF5LCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gQ2xpY2tPdmVybGF5KGNvbmZpZykge1xyXG4gICAgICAgIGlmIChjb25maWcgPT09IHZvaWQgMCkgeyBjb25maWcgPSB7fTsgfVxyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGNvbmZpZykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5jb25maWcgPSBfdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIHtcclxuICAgICAgICAgICAgY3NzQ2xhc3M6ICd1aS1jbGlja292ZXJsYXknXHJcbiAgICAgICAgfSwgX3RoaXMuY29uZmlnKTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBDbGlja092ZXJsYXkucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5pbml0aWFsaXplLmNhbGwodGhpcyk7XHJcbiAgICAgICAgdGhpcy5zZXRVcmwodGhpcy5jb25maWcudXJsKTtcclxuICAgICAgICB2YXIgZWxlbWVudCA9IHRoaXMuZ2V0RG9tRWxlbWVudCgpO1xyXG4gICAgICAgIGVsZW1lbnQub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoZWxlbWVudC5kYXRhKCd1cmwnKSkge1xyXG4gICAgICAgICAgICAgICAgd2luZG93Lm9wZW4oZWxlbWVudC5kYXRhKCd1cmwnKSwgJ19ibGFuaycpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIHRoZSBVUkwgdGhhdCBzaG91bGQgYmUgZm9sbG93ZWQgd2hlbiB0aGUgd2F0ZXJtYXJrIGlzIGNsaWNrZWQuXHJcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSB0aGUgd2F0ZXJtYXJrIFVSTFxyXG4gICAgICovXHJcbiAgICBDbGlja092ZXJsYXkucHJvdG90eXBlLmdldFVybCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXREb21FbGVtZW50KCkuZGF0YSgndXJsJyk7XHJcbiAgICB9O1xyXG4gICAgQ2xpY2tPdmVybGF5LnByb3RvdHlwZS5zZXRVcmwgPSBmdW5jdGlvbiAodXJsKSB7XHJcbiAgICAgICAgaWYgKHVybCA9PT0gdW5kZWZpbmVkIHx8IHVybCA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHVybCA9ICcnO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmdldERvbUVsZW1lbnQoKS5kYXRhKCd1cmwnLCB1cmwpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBDbGlja092ZXJsYXk7XHJcbn0oYnV0dG9uXzEuQnV0dG9uKSk7XHJcbmV4cG9ydHMuQ2xpY2tPdmVybGF5ID0gQ2xpY2tPdmVybGF5O1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvY2xpY2tvdmVybGF5LnRzXG4vLyBtb2R1bGUgaWQgPSAyNFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGxhYmVsXzEgPSByZXF1aXJlKFwiLi9sYWJlbFwiKTtcclxuLyoqXHJcbiAqIEVudW1lcmF0ZXMgdGhlIHR5cGVzIG9mIGNvbnRlbnQgdGhhdCB0aGUge0BsaW5rIE1ldGFkYXRhTGFiZWx9IGNhbiBkaXNwbGF5LlxyXG4gKi9cclxudmFyIE1ldGFkYXRhTGFiZWxDb250ZW50O1xyXG4oZnVuY3Rpb24gKE1ldGFkYXRhTGFiZWxDb250ZW50KSB7XHJcbiAgICAvKipcclxuICAgICAqIFRpdGxlIG9mIHRoZSBkYXRhIHNvdXJjZS5cclxuICAgICAqL1xyXG4gICAgTWV0YWRhdGFMYWJlbENvbnRlbnRbTWV0YWRhdGFMYWJlbENvbnRlbnRbXCJUaXRsZVwiXSA9IDBdID0gXCJUaXRsZVwiO1xyXG4gICAgLyoqXHJcbiAgICAgKiBEZXNjcmlwdGlvbiBmbyB0aGUgZGF0YSBzb3VyY2UuXHJcbiAgICAgKi9cclxuICAgIE1ldGFkYXRhTGFiZWxDb250ZW50W01ldGFkYXRhTGFiZWxDb250ZW50W1wiRGVzY3JpcHRpb25cIl0gPSAxXSA9IFwiRGVzY3JpcHRpb25cIjtcclxufSkoTWV0YWRhdGFMYWJlbENvbnRlbnQgPSBleHBvcnRzLk1ldGFkYXRhTGFiZWxDb250ZW50IHx8IChleHBvcnRzLk1ldGFkYXRhTGFiZWxDb250ZW50ID0ge30pKTtcclxuLyoqXHJcbiAqIEEgbGFiZWwgdGhhdCBjYW4gYmUgY29uZmlndXJlZCB0byBkaXNwbGF5IGNlcnRhaW4gbWV0YWRhdGEuXHJcbiAqL1xyXG52YXIgTWV0YWRhdGFMYWJlbCA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoTWV0YWRhdGFMYWJlbCwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIE1ldGFkYXRhTGFiZWwoY29uZmlnKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgY29uZmlnKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLmNvbmZpZyA9IF90aGlzLm1lcmdlQ29uZmlnKGNvbmZpZywge1xyXG4gICAgICAgICAgICBjc3NDbGFzc2VzOiBbJ2xhYmVsLW1ldGFkYXRhJywgJ2xhYmVsLW1ldGFkYXRhLScgKyBNZXRhZGF0YUxhYmVsQ29udGVudFtjb25maWcuY29udGVudF0udG9Mb3dlckNhc2UoKV1cclxuICAgICAgICB9LCBfdGhpcy5jb25maWcpO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIE1ldGFkYXRhTGFiZWwucHJvdG90eXBlLmNvbmZpZ3VyZSA9IGZ1bmN0aW9uIChwbGF5ZXIsIHVpbWFuYWdlcikge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5jb25maWd1cmUuY2FsbCh0aGlzLCBwbGF5ZXIsIHVpbWFuYWdlcik7XHJcbiAgICAgICAgdmFyIGNvbmZpZyA9IHRoaXMuZ2V0Q29uZmlnKCk7XHJcbiAgICAgICAgdmFyIHVpY29uZmlnID0gdWltYW5hZ2VyLmdldENvbmZpZygpO1xyXG4gICAgICAgIHZhciBpbml0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKGNvbmZpZy5jb250ZW50KSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIE1ldGFkYXRhTGFiZWxDb250ZW50LlRpdGxlOlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh1aWNvbmZpZyAmJiB1aWNvbmZpZy5tZXRhZGF0YSAmJiB1aWNvbmZpZy5tZXRhZGF0YS50aXRsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5zZXRUZXh0KHVpY29uZmlnLm1ldGFkYXRhLnRpdGxlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAocGxheWVyLmdldENvbmZpZygpLnNvdXJjZSAmJiBwbGF5ZXIuZ2V0Q29uZmlnKCkuc291cmNlLnRpdGxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnNldFRleHQocGxheWVyLmdldENvbmZpZygpLnNvdXJjZS50aXRsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBNZXRhZGF0YUxhYmVsQ29udGVudC5EZXNjcmlwdGlvbjpcclxuICAgICAgICAgICAgICAgICAgICBpZiAodWljb25maWcgJiYgdWljb25maWcubWV0YWRhdGEgJiYgdWljb25maWcubWV0YWRhdGEuZGVzY3JpcHRpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2V0VGV4dCh1aWNvbmZpZy5tZXRhZGF0YS5kZXNjcmlwdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHBsYXllci5nZXRDb25maWcoKS5zb3VyY2UgJiYgcGxheWVyLmdldENvbmZpZygpLnNvdXJjZS5kZXNjcmlwdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5zZXRUZXh0KHBsYXllci5nZXRDb25maWcoKS5zb3VyY2UuZGVzY3JpcHRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdmFyIHVubG9hZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgX3RoaXMuc2V0VGV4dChudWxsKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIC8vIEluaXQgbGFiZWxcclxuICAgICAgICBpbml0KCk7XHJcbiAgICAgICAgLy8gUmVpbml0IGxhYmVsIHdoZW4gYSBuZXcgc291cmNlIGlzIGxvYWRlZFxyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1NPVVJDRV9MT0FERUQsIGluaXQpO1xyXG4gICAgICAgIC8vIENsZWFyIGxhYmVscyB3aGVuIHNvdXJjZSBpcyB1bmxvYWRlZFxyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1NPVVJDRV9VTkxPQURFRCwgdW5sb2FkKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gTWV0YWRhdGFMYWJlbDtcclxufShsYWJlbF8xLkxhYmVsKSk7XHJcbmV4cG9ydHMuTWV0YWRhdGFMYWJlbCA9IE1ldGFkYXRhTGFiZWw7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9tZXRhZGF0YWxhYmVsLnRzXG4vLyBtb2R1bGUgaWQgPSAyNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgYW5ndWxhciA9IHJlcXVpcmUoXCJhbmd1bGFyXCIpO1xyXG52YXIgYml0ZGFzaF9jb250cm9sbGVyXzEgPSByZXF1aXJlKFwiLi9iaXRkYXNoLWNvbnRyb2xsZXJcIik7XHJcbnZhciBiaXRkYXNoX2RpcmVjdGl2ZV8xID0gcmVxdWlyZShcIi4vYml0ZGFzaC1kaXJlY3RpdmVcIik7XHJcbmV4cG9ydHMuZGVmYXVsdCA9IGFuZ3VsYXIubW9kdWxlKCdtaS5CaXRkYXNoUGxheWVyJywgW10pXHJcbiAgICAuY29udHJvbGxlcignTWlCaXRkYXNoQ29udHJvbGxlcicsIGJpdGRhc2hfY29udHJvbGxlcl8xLmRlZmF1bHQpXHJcbiAgICAuZGlyZWN0aXZlKCdtaUJpdGRhc2hQbGF5ZXInLCBiaXRkYXNoX2RpcmVjdGl2ZV8xLmRlZmF1bHQpO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2luZGV4LnRzXG4vLyBtb2R1bGUgaWQgPSAyN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgYW5ndWxhciA9IHJlcXVpcmUoXCJhbmd1bGFyXCIpO1xyXG52YXIgQml0bW92aW5Db250cm9sbGVyID0gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIEJpdG1vdmluQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcclxuICAgICAgICB0aGlzLiRzY29wZSA9ICRzY29wZTtcclxuICAgICAgICB0aGlzLiRsb2cgPSAkbG9nO1xyXG4gICAgICAgIHRoaXMuY29uZmlnID0ge307XHJcbiAgICAgICAgdGhpcy5vcHRpb25zID0ge307XHJcbiAgICAgICAgdGhpcy4kc2NvcGUgPSAkc2NvcGU7XHJcbiAgICAgICAgdGhpcy4kbG9nID0gJGxvZztcclxuICAgIH1cclxuICAgIEJpdG1vdmluQ29udHJvbGxlci5wcm90b3R5cGUuJG9uSW5pdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQodGhpcy4kc2NvcGUuY29uZmlnKSAmJiBhbmd1bGFyLmlzRGVmaW5lZCh0aGlzLiRzY29wZS5jb25maWcua2V5KSkge1xyXG4gICAgICAgICAgICB0aGlzLmNvbmZpZyA9IHRoaXMuJHNjb3BlLmNvbmZpZztcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuJGxvZy5lcnJvcihcImJhc2ljIGNvbmZpZyBmb3IgYml0ZGFzaCBwbGF5ZXIgaXMgbWlzc2luZyFcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZCh0aGlzLiRzY29wZS5vcHRpb25zKSkge1xyXG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMgPSB0aGlzLiRzY29wZS5vcHRpb25zO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQodGhpcy4kc2NvcGUud2ViY2FzdCkpIHtcclxuICAgICAgICAgICAgdGhpcy5wcm9jZXNzV2ViY2FzdCh0aGlzLiRzY29wZS53ZWJjYXN0KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgQml0bW92aW5Db250cm9sbGVyLnByb3RvdHlwZS5wcm9jZXNzV2ViY2FzdCA9IGZ1bmN0aW9uICh3ZWJjYXN0KSB7XHJcbiAgICAgICAgdmFyIHN0YXRlUHJvcGVydHkgPSB3ZWJjYXN0LnN0YXRlICsgXCJTdGF0ZURhdGFcIjtcclxuICAgICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQodGhpcy5vcHRpb25zLmZvcmNlZFN0YXRlKSkge1xyXG4gICAgICAgICAgICBzdGF0ZVByb3BlcnR5ID0gdGhpcy5vcHRpb25zLmZvcmNlZFN0YXRlICsgXCJTdGF0ZURhdGFcIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jb25maWcuc291cmNlID0gdGhpcy5nZXRQbGF5ZXJDb25maWdTb3VyY2Uod2ViY2FzdCwgc3RhdGVQcm9wZXJ0eSk7XHJcbiAgICAgICAgdGhpcy5jb25maWcuc3R5bGUgPSB7IHV4OiBmYWxzZSB9O1xyXG4gICAgfTtcclxuICAgIEJpdG1vdmluQ29udHJvbGxlci5wcm90b3R5cGUuZ2V0UGxheWVyQ29uZmlnU291cmNlID0gZnVuY3Rpb24gKHdlYmNhc3QsIHN0YXRlKSB7XHJcbiAgICAgICAgaWYgKCh3ZWJjYXN0LnVzZURWUlBsYXliYWNrSW5Qb3N0bGl2ZSA9PT0gdHJ1ZSkgJiYgKHN0YXRlID09PSAncG9zdGxpdmVTdGF0ZURhdGEnKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXREVlJQbGF5YmFja1RvUG9zdGxpdmUod2ViY2FzdCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLmdldFBsYXllckNvbmZpZ1NvdXJjZUJ5U3RhdGUod2ViY2FzdCwgc3RhdGUpO1xyXG4gICAgfTtcclxuICAgIEJpdG1vdmluQ29udHJvbGxlci5wcm90b3R5cGUuZ2V0RFZSUGxheWJhY2tUb1Bvc3RsaXZlID0gZnVuY3Rpb24gKHdlYmNhc3QpIHtcclxuICAgICAgICB2YXIgaGxzID0gd2ViY2FzdFsnbGl2ZVN0YXRlRGF0YSddLnBsYXlvdXQuaGxzRHZyVXJsO1xyXG4gICAgICAgIHZhciB0aXRsZSA9IHdlYmNhc3QubmFtZTtcclxuICAgICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQod2ViY2FzdFsncG9zdGxpdmVTdGF0ZURhdGEnXS5wbGF5b3V0Lm9mZnNldCkpIHtcclxuICAgICAgICAgICAgdmFyIG9mZnNldCA9IHBhcnNlSW50KHdlYmNhc3RbJ3Bvc3RsaXZlU3RhdGVEYXRhJ10ucGxheW91dC5vZmZzZXQsIDEwKTtcclxuICAgICAgICAgICAgaWYgKG9mZnNldCA+IDApIHtcclxuICAgICAgICAgICAgICAgIHZhciBvZmZzZXRQcmVmaXggPSB2b2lkIDA7XHJcbiAgICAgICAgICAgICAgICB2YXIgcGFyc2VyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xyXG4gICAgICAgICAgICAgICAgcGFyc2VyLmhyZWYgPSB3ZWJjYXN0WydsaXZlU3RhdGVEYXRhJ10ucGxheW91dC5obHNEdnJVcmw7XHJcbiAgICAgICAgICAgICAgICBvZmZzZXRQcmVmaXggPSAocGFyc2VyLnNlYXJjaCkgPyAnJicgOiAnPyc7XHJcbiAgICAgICAgICAgICAgICBobHMgKz0gb2Zmc2V0UHJlZml4ICsgXCJ3b3d6YWR2cnBsYXlsaXN0c3RhcnQ9XCIgKyBvZmZzZXQgKyBcIjAwMFwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB7IGhsczogaGxzLCB0aXRsZTogdGl0bGUgfTtcclxuICAgIH07XHJcbiAgICBCaXRtb3ZpbkNvbnRyb2xsZXIucHJvdG90eXBlLmdldFBsYXllckNvbmZpZ1NvdXJjZUJ5U3RhdGUgPSBmdW5jdGlvbiAod2ViY2FzdCwgc3RhdGUpIHtcclxuICAgICAgICB2YXIgaGxzID0gd2ViY2FzdFtzdGF0ZV0ucGxheW91dC5obHNVcmw7XHJcbiAgICAgICAgdmFyIHRpdGxlID0gd2ViY2FzdC5uYW1lO1xyXG4gICAgICAgIHZhciBoaXZlU2VydmljZVVybCA9IHRoaXMuZ2V0SGl2ZVNlcnZpY2VVcmxCeUxhbmcod2ViY2FzdCk7XHJcbiAgICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKHdlYmNhc3Rbc3RhdGVdLnBsYXlvdXQudmlkZW9NYW5hZ2VySGxzVXJsKSAmJiB3ZWJjYXN0W3N0YXRlXS5wbGF5b3V0LnZpZGVvTWFuYWdlckhsc1VybCkge1xyXG4gICAgICAgICAgICBobHMgPSB3ZWJjYXN0W3N0YXRlXS5wbGF5b3V0LnZpZGVvTWFuYWdlckhsc1VybDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKHdlYmNhc3Rbc3RhdGVdLnBsYXlvdXQub2Zmc2V0KSkge1xyXG4gICAgICAgICAgICB2YXIgb2Zmc2V0ID0gcGFyc2VJbnQod2ViY2FzdFtzdGF0ZV0ucGxheW91dC5vZmZzZXQsIDEwKTtcclxuICAgICAgICAgICAgaWYgKG9mZnNldCA+IDApIHtcclxuICAgICAgICAgICAgICAgIHZhciBvZmZzZXRQcmVmaXggPSB2b2lkIDA7XHJcbiAgICAgICAgICAgICAgICB2YXIgcGFyc2VyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xyXG4gICAgICAgICAgICAgICAgcGFyc2VyLmhyZWYgPSBobHM7XHJcbiAgICAgICAgICAgICAgICBvZmZzZXRQcmVmaXggPSAocGFyc2VyLnNlYXJjaCkgPyAnJicgOiAnPyc7XHJcbiAgICAgICAgICAgICAgICBobHMgKz0gb2Zmc2V0UHJlZml4ICsgXCJzdGFydD1cIiArIG9mZnNldDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4geyBobHM6IGhscywgdGl0bGU6IHRpdGxlLCBoaXZlU2VydmljZVVybDogaGl2ZVNlcnZpY2VVcmwgfTtcclxuICAgIH07XHJcbiAgICBCaXRtb3ZpbkNvbnRyb2xsZXIucHJvdG90eXBlLmdldEhpdmVTZXJ2aWNlVXJsQnlMYW5nID0gZnVuY3Rpb24gKHdlYmNhc3QpIHtcclxuICAgICAgICB2YXIgaGl2ZVNlcnZpY2VVcmwgPSBudWxsO1xyXG4gICAgICAgIGlmICh3ZWJjYXN0Lmxhbmd1YWdlcyAmJiB3ZWJjYXN0Lmxhbmd1YWdlKSB7XHJcbiAgICAgICAgICAgIHdlYmNhc3QubGFuZ3VhZ2VzLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICAgICAgICAgIGlmIChpdGVtLmxhbmd1YWdlID09PSB3ZWJjYXN0Lmxhbmd1YWdlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaGl2ZVNlcnZpY2VVcmwgPSBhbmd1bGFyLmNvcHkoaXRlbS5oaXZlU2VydmljZVVybCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gaGl2ZVNlcnZpY2VVcmw7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEJpdG1vdmluQ29udHJvbGxlcjtcclxufSgpKTtcclxuQml0bW92aW5Db250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XHJcbmV4cG9ydHMuZGVmYXVsdCA9IEJpdG1vdmluQ29udHJvbGxlcjtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9iaXRkYXNoLWNvbnRyb2xsZXIudHNcbi8vIG1vZHVsZSBpZCA9IDI4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBhbmd1bGFyID0gcmVxdWlyZShcImFuZ3VsYXJcIik7XHJcbnZhciBCaXRkYXNoRGlyZWN0aXZlID0gZnVuY3Rpb24gKCR3aW5kb3csICRsb2cpIHsgcmV0dXJuICh7XHJcbiAgICBjb250cm9sbGVyOiAnTWlCaXRkYXNoQ29udHJvbGxlcicsXHJcbiAgICBjb250cm9sbGVyQXM6ICdiaXRkYXNoVm0nLFxyXG4gICAgcmVwbGFjZTogdHJ1ZSxcclxuICAgIHJlc3RyaWN0OiAnRUEnLFxyXG4gICAgc2NvcGU6IHtcclxuICAgICAgICBjb25maWc6ICc9JyxcclxuICAgICAgICBvcHRpb25zOiAnPT8nLFxyXG4gICAgICAgIHdlYmNhc3Q6ICc9JyxcclxuICAgIH0sXHJcbiAgICB0ZW1wbGF0ZTogXCI8ZGl2IGlkPVxcXCJtaS1iaXRkYXNoLXBsYXllclxcXCIgd2lkdGg9XFxcIjEwMCVcXFwiIGhlaWdodD1cXFwiYXV0b1xcXCI+PC9kaXY+XCIsXHJcbiAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUpIHtcclxuICAgICAgICB2YXIgYml0bW92aW5QbGF5ZXI7XHJcbiAgICAgICAgdmFyIGJpdG1vdmluVUlNYW5hZ2VyO1xyXG4gICAgICAgIHZhciBiaXRtb3ZpbkNvbnRyb2xiYXI7XHJcbiAgICAgICAgdmFyIGNvbmZpZyA9IHNjb3BlLmNvbmZpZztcclxuICAgICAgICB2YXIgd2ViY2FzdCA9IHNjb3BlLndlYmNhc3Q7XHJcbiAgICAgICAgdmFyIHN0YXRlID0gc2NvcGUud2ViY2FzdC5zdGF0ZSArIFwiU3RhdGVEYXRhXCI7XHJcbiAgICAgICAgYnVpbGRQbGF5ZXIoKTtcclxuICAgICAgICBmdW5jdGlvbiBidWlsZFBsYXllcigpIHtcclxuICAgICAgICAgICAgYml0bW92aW5QbGF5ZXIgPSAkd2luZG93LndpbmRvdy5iaXRtb3Zpbi5wbGF5ZXIoJ21pLWJpdGRhc2gtcGxheWVyJyk7XHJcbiAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChiaXRtb3ZpblBsYXllcikgJiYgYml0bW92aW5QbGF5ZXIuaXNSZWFkeSgpID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICBiaXRtb3ZpblBsYXllci5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICBiaXRtb3ZpblBsYXllciA9ICR3aW5kb3cud2luZG93LmJpdG1vdmluLnBsYXllcignbWktYml0ZGFzaC1wbGF5ZXInKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoKHN0YXRlID09PSAnbGl2ZVN0YXRlRGF0YScpICYmIGNvbmZpZy5zb3VyY2UuaGl2ZVNlcnZpY2VVcmwpIHtcclxuICAgICAgICAgICAgICAgIC8vIEdldCBhIGhpdmUtZW5hYmxlZCBwbGF5ZXIgdGhyb3VnaCBiaXRkYXNoLmluaXRIaXZlU0ROXHJcbiAgICAgICAgICAgICAgICAkd2luZG93LndpbmRvdy5iaXRtb3Zpbi5pbml0SGl2ZVNETihiaXRtb3ZpblBsYXllciwgeyBkZWJ1Z0xldmVsOiAnb2ZmJyB9KTtcclxuICAgICAgICAgICAgICAgIC8vIENvbmZpZ3VyZSBhbmQgU2V0dXAgYml0bW92aW4gaW4gaW5pdFNlc3Npb24gY2FsbGJhY2tcclxuICAgICAgICAgICAgICAgIGJpdG1vdmluUGxheWVyLmluaXRTZXNzaW9uKGNvbmZpZy5zb3VyY2UuaGl2ZVNlcnZpY2VVcmwpLnRoZW4oZnVuY3Rpb24gKHNlc3Npb24pIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaGl2ZUNvbmZpZyA9IGFuZ3VsYXIuY29weShjb25maWcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGhpdmVDb25maWcuc291cmNlLmhscyA9IHNlc3Npb24ubWFuaWZlc3Q7XHJcbiAgICAgICAgICAgICAgICAgICAgbG9hZFBsYXllcihoaXZlQ29uZmlnKTtcclxuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBIYW5kbGUgdGhlIGNhc2UgaWYgSGl2ZSBpbml0IGZhaWxzXHJcbiAgICAgICAgICAgICAgICAgICAgJGxvZy53YXJuKFwiSGl2ZSBpbml0IGZhaWxzOiBcIiArIHJlYXNvbi5jb2RlICsgXCIgLSBcIiArIHJlYXNvbi5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICBsb2FkUGxheWVyKGNvbmZpZyk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGxvYWRQbGF5ZXIoY29uZmlnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBsb2FkUGxheWVyKGNvbmYpIHtcclxuICAgICAgICAgICAgYml0bW92aW5QbGF5ZXJcclxuICAgICAgICAgICAgICAgIC5zZXR1cChjb25mKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgYml0bW92aW5VSU1hbmFnZXIgPSAkd2luZG93LndpbmRvdy5iaXRtb3Zpbi5wbGF5ZXJ1aS5VSU1hbmFnZXIuRmFjdG9yeTtcclxuICAgICAgICAgICAgICAgIGlmIChpc0F1ZGlvT25seSgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYml0bW92aW5VSU1hbmFnZXIuYnVpbGRBdWRpb09ubHlVSShiaXRtb3ZpblBsYXllcik7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0QXVkaW9Pbmx5U3RpbGxJbWFnZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYml0bW92aW5VSU1hbmFnZXIuYnVpbGRBdWRpb1ZpZGVvVUkoYml0bW92aW5QbGF5ZXIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYml0bW92aW5Db250cm9sYmFyID0gZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnYml0bW92aW5wbGF5ZXItY29udGFpbmVyJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQoYml0bW92aW5Db250cm9sYmFyKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJpdG1vdmluQ29udHJvbGJhci5zdHlsZS5taW5XaWR0aCA9ICcxNzVweCc7XHJcbiAgICAgICAgICAgICAgICAgICAgYml0bW92aW5Db250cm9sYmFyLnN0eWxlLm1pbkhlaWdodCA9ICcxMDFweCc7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JpdG1vdmlucGxheWVyLXZpZGVvLW1pLWJpdGRhc2gtcGxheWVyJykuc2V0QXR0cmlidXRlKCd0aXRsZScsIHdlYmNhc3QubmFtZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcclxuICAgICAgICAgICAgICAgICRsb2cubG9nKFwiRXJyb3I6IFwiICsgcmVhc29uLmNvZGUgKyBcIiAtIFwiICsgcmVhc29uLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gaXNBdWRpb09ubHkoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBhbmd1bGFyLmlzRGVmaW5lZChzY29wZS53ZWJjYXN0W3N0YXRlXS5wbGF5b3V0LmF1ZGlvT25seSkgJiZcclxuICAgICAgICAgICAgICAgIHNjb3BlLndlYmNhc3Rbc3RhdGVdLnBsYXlvdXQuYXVkaW9Pbmx5O1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBzZXRBdWRpb09ubHlTdGlsbEltYWdlKCkge1xyXG4gICAgICAgICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQoc2NvcGUud2ViY2FzdFtzdGF0ZV0ucGxheW91dC5hdWRpb09ubHlTdGlsbFVybCkgJiZcclxuICAgICAgICAgICAgICAgIHNjb3BlLndlYmNhc3Rbc3RhdGVdLnBsYXlvdXQuYXVkaW9Pbmx5U3RpbGxVcmwgIT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZWxlbWVudCA9IGdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ21pLXdiYy11aS1hdWRpb29ubHktb3ZlcmxheScpO1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBcInVybChcIiArIHNjb3BlLndlYmNhc3Rbc3RhdGVdLnBsYXlvdXQuYXVkaW9Pbmx5U3RpbGxVcmwgKyBcIilcIjtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZFNpemUgPSAnY29udGFpbic7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlLmJhY2tncm91bmRQb3NpdGlvbiA9ICdjZW50ZXInO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIGdldEVsZW1lbnRzQnlDbGFzc05hbWUoY2xhc3NOYW1lKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGNsYXNzTmFtZSlbMF07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59KTsgfTtcclxuZXhwb3J0cy5kZWZhdWx0ID0gQml0ZGFzaERpcmVjdGl2ZTtcclxuQml0ZGFzaERpcmVjdGl2ZS4kaW5qZWN0ID0gWyckd2luZG93JywgJyRsb2cnXTtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9iaXRkYXNoLWRpcmVjdGl2ZS50c1xuLy8gbW9kdWxlIGlkID0gMjlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuLy8vIDxyZWZlcmVuY2UgcGF0aD0ncGxheWVyLmQudHMnIC8+XHJcbnZhciB1aW1hbmFnZXJfMSA9IHJlcXVpcmUoXCIuL3VpbWFuYWdlclwiKTtcclxudmFyIGJ1dHRvbl8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9idXR0b25cIik7XHJcbnZhciBjb250cm9sYmFyXzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL2NvbnRyb2xiYXJcIik7XHJcbnZhciBodWdlcGxheWJhY2t0b2dnbGVidXR0b25fMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvaHVnZXBsYXliYWNrdG9nZ2xlYnV0dG9uXCIpO1xyXG52YXIgcGxheWJhY2t0aW1lbGFiZWxfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvcGxheWJhY2t0aW1lbGFiZWxcIik7XHJcbnZhciBwbGF5YmFja3RvZ2dsZWJ1dHRvbl8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9wbGF5YmFja3RvZ2dsZWJ1dHRvblwiKTtcclxudmFyIHNlZWtiYXJfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvc2Vla2JhclwiKTtcclxudmFyIHNlbGVjdGJveF8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9zZWxlY3Rib3hcIik7XHJcbnZhciB0b2dnbGVidXR0b25fMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvdG9nZ2xlYnV0dG9uXCIpO1xyXG52YXIgdmlkZW9xdWFsaXR5c2VsZWN0Ym94XzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL3ZpZGVvcXVhbGl0eXNlbGVjdGJveFwiKTtcclxudmFyIHZvbHVtZXRvZ2dsZWJ1dHRvbl8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy92b2x1bWV0b2dnbGVidXR0b25cIik7XHJcbnZhciB3YXRlcm1hcmtfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvd2F0ZXJtYXJrXCIpO1xyXG52YXIgdWljb250YWluZXJfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvdWljb250YWluZXJcIik7XHJcbnZhciBjb250YWluZXJfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvY29udGFpbmVyXCIpO1xyXG52YXIgbGFiZWxfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvbGFiZWxcIik7XHJcbnZhciBjb21wb25lbnRfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvY29tcG9uZW50XCIpO1xyXG52YXIgZXJyb3JtZXNzYWdlb3ZlcmxheV8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9lcnJvcm1lc3NhZ2VvdmVybGF5XCIpO1xyXG52YXIgc2Vla2JhcmxhYmVsXzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL3NlZWtiYXJsYWJlbFwiKTtcclxudmFyIHRpdGxlYmFyXzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL3RpdGxlYmFyXCIpO1xyXG52YXIgdm9sdW1lY29udHJvbGJ1dHRvbl8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy92b2x1bWVjb250cm9sYnV0dG9uXCIpO1xyXG52YXIgY2xpY2tvdmVybGF5XzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL2NsaWNrb3ZlcmxheVwiKTtcclxudmFyIGh1Z2VyZXBsYXlidXR0b25fMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvaHVnZXJlcGxheWJ1dHRvblwiKTtcclxudmFyIGJ1ZmZlcmluZ292ZXJsYXlfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvYnVmZmVyaW5nb3ZlcmxheVwiKTtcclxudmFyIHBsYXliYWNrdG9nZ2xlb3ZlcmxheV8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9wbGF5YmFja3RvZ2dsZW92ZXJsYXlcIik7XHJcbnZhciBjbG9zZWJ1dHRvbl8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9jbG9zZWJ1dHRvblwiKTtcclxudmFyIG1ldGFkYXRhbGFiZWxfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvbWV0YWRhdGFsYWJlbFwiKTtcclxudmFyIHZvbHVtZXNsaWRlcl8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy92b2x1bWVzbGlkZXJcIik7XHJcbnZhciBzcGFjZXJfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvc3BhY2VyXCIpO1xyXG52YXIgdXRpbHNfMSA9IHJlcXVpcmUoXCIuL3V0aWxzXCIpO1xyXG4vLyBPYmplY3QuYXNzaWduIHBvbHlmaWxsIGZvciBFUzUvSUU5XHJcbi8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RlL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9hc3NpZ25cclxuaWYgKHR5cGVvZiBPYmplY3QuYXNzaWduICE9PSAnZnVuY3Rpb24nKSB7XHJcbiAgICBPYmplY3QuYXNzaWduID0gZnVuY3Rpb24gKHRhcmdldCkge1xyXG4gICAgICAgICd1c2Ugc3RyaWN0JztcclxuICAgICAgICBpZiAodGFyZ2V0ID09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNvbnZlcnQgdW5kZWZpbmVkIG9yIG51bGwgdG8gb2JqZWN0Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRhcmdldCA9IE9iamVjdCh0YXJnZXQpO1xyXG4gICAgICAgIGZvciAodmFyIGluZGV4ID0gMTsgaW5kZXggPCBhcmd1bWVudHMubGVuZ3RoOyBpbmRleCsrKSB7XHJcbiAgICAgICAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaW5kZXhdO1xyXG4gICAgICAgICAgICBpZiAoc291cmNlICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGFyZ2V0O1xyXG4gICAgfTtcclxufVxyXG4vLyBFeHBvc2UgY2xhc3NlcyB0byB3aW5kb3dcclxud2luZG93LmJpdG1vdmluLnBsYXllcnVpID0ge1xyXG4gICAgLy8gTWFuYWdlbWVudFxyXG4gICAgVUlNYW5hZ2VyOiB1aW1hbmFnZXJfMS5VSU1hbmFnZXIsXHJcbiAgICBVSUluc3RhbmNlTWFuYWdlcjogdWltYW5hZ2VyXzEuVUlJbnN0YW5jZU1hbmFnZXIsXHJcbiAgICAvLyBVdGlsc1xyXG4gICAgQXJyYXlVdGlsczogdXRpbHNfMS5BcnJheVV0aWxzLFxyXG4gICAgU3RyaW5nVXRpbHM6IHV0aWxzXzEuU3RyaW5nVXRpbHMsXHJcbiAgICBQbGF5ZXJVdGlsczogdXRpbHNfMS5QbGF5ZXJVdGlscyxcclxuICAgIFVJVXRpbHM6IHV0aWxzXzEuVUlVdGlscyxcclxuICAgIEJyb3dzZXJVdGlsczogdXRpbHNfMS5Ccm93c2VyVXRpbHMsXHJcbiAgICAvLyBDb21wb25lbnRzXHJcbiAgICBCdWZmZXJpbmdPdmVybGF5OiBidWZmZXJpbmdvdmVybGF5XzEuQnVmZmVyaW5nT3ZlcmxheSxcclxuICAgIEJ1dHRvbjogYnV0dG9uXzEuQnV0dG9uLFxyXG4gICAgQ2xpY2tPdmVybGF5OiBjbGlja292ZXJsYXlfMS5DbGlja092ZXJsYXksXHJcbiAgICBDbG9zZUJ1dHRvbjogY2xvc2VidXR0b25fMS5DbG9zZUJ1dHRvbixcclxuICAgIENvbXBvbmVudDogY29tcG9uZW50XzEuQ29tcG9uZW50LFxyXG4gICAgQ29udGFpbmVyOiBjb250YWluZXJfMS5Db250YWluZXIsXHJcbiAgICBDb250cm9sQmFyOiBjb250cm9sYmFyXzEuQ29udHJvbEJhcixcclxuICAgIEVycm9yTWVzc2FnZU92ZXJsYXk6IGVycm9ybWVzc2FnZW92ZXJsYXlfMS5FcnJvck1lc3NhZ2VPdmVybGF5LFxyXG4gICAgSHVnZVBsYXliYWNrVG9nZ2xlQnV0dG9uOiBodWdlcGxheWJhY2t0b2dnbGVidXR0b25fMS5IdWdlUGxheWJhY2tUb2dnbGVCdXR0b24sXHJcbiAgICBIdWdlUmVwbGF5QnV0dG9uOiBodWdlcmVwbGF5YnV0dG9uXzEuSHVnZVJlcGxheUJ1dHRvbixcclxuICAgIExhYmVsOiBsYWJlbF8xLkxhYmVsLFxyXG4gICAgTWV0YWRhdGFMYWJlbDogbWV0YWRhdGFsYWJlbF8xLk1ldGFkYXRhTGFiZWwsXHJcbiAgICBNZXRhZGF0YUxhYmVsQ29udGVudDogbWV0YWRhdGFsYWJlbF8xLk1ldGFkYXRhTGFiZWxDb250ZW50LFxyXG4gICAgUGxheWJhY2tUaW1lTGFiZWw6IHBsYXliYWNrdGltZWxhYmVsXzEuUGxheWJhY2tUaW1lTGFiZWwsXHJcbiAgICBQbGF5YmFja1RpbWVMYWJlbE1vZGU6IHBsYXliYWNrdGltZWxhYmVsXzEuUGxheWJhY2tUaW1lTGFiZWxNb2RlLFxyXG4gICAgUGxheWJhY2tUb2dnbGVCdXR0b246IHBsYXliYWNrdG9nZ2xlYnV0dG9uXzEuUGxheWJhY2tUb2dnbGVCdXR0b24sXHJcbiAgICBQbGF5YmFja1RvZ2dsZU92ZXJsYXk6IHBsYXliYWNrdG9nZ2xlb3ZlcmxheV8xLlBsYXliYWNrVG9nZ2xlT3ZlcmxheSxcclxuICAgIFNlZWtCYXI6IHNlZWtiYXJfMS5TZWVrQmFyLFxyXG4gICAgU2Vla0JhckxhYmVsOiBzZWVrYmFybGFiZWxfMS5TZWVrQmFyTGFiZWwsXHJcbiAgICBTZWxlY3RCb3g6IHNlbGVjdGJveF8xLlNlbGVjdEJveCxcclxuICAgIFNwYWNlcjogc3BhY2VyXzEuU3BhY2VyLFxyXG4gICAgVGl0bGVCYXI6IHRpdGxlYmFyXzEuVGl0bGVCYXIsXHJcbiAgICBUb2dnbGVCdXR0b246IHRvZ2dsZWJ1dHRvbl8xLlRvZ2dsZUJ1dHRvbixcclxuICAgIFVJQ29udGFpbmVyOiB1aWNvbnRhaW5lcl8xLlVJQ29udGFpbmVyLFxyXG4gICAgVmlkZW9RdWFsaXR5U2VsZWN0Qm94OiB2aWRlb3F1YWxpdHlzZWxlY3Rib3hfMS5WaWRlb1F1YWxpdHlTZWxlY3RCb3gsXHJcbiAgICBWb2x1bWVDb250cm9sQnV0dG9uOiB2b2x1bWVjb250cm9sYnV0dG9uXzEuVm9sdW1lQ29udHJvbEJ1dHRvbixcclxuICAgIFZvbHVtZVNsaWRlcjogdm9sdW1lc2xpZGVyXzEuVm9sdW1lU2xpZGVyLFxyXG4gICAgVm9sdW1lVG9nZ2xlQnV0dG9uOiB2b2x1bWV0b2dnbGVidXR0b25fMS5Wb2x1bWVUb2dnbGVCdXR0b24sXHJcbiAgICBXYXRlcm1hcms6IHdhdGVybWFya18xLldhdGVybWFyayxcclxufTtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9tYWluLnRzXG4vLyBtb2R1bGUgaWQgPSAzMFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIHVpY29udGFpbmVyXzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL3VpY29udGFpbmVyXCIpO1xyXG52YXIgZG9tXzEgPSByZXF1aXJlKFwiLi9kb21cIik7XHJcbnZhciBjb21wb25lbnRfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvY29tcG9uZW50XCIpO1xyXG52YXIgY29udGFpbmVyXzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL2NvbnRhaW5lclwiKTtcclxudmFyIHBsYXliYWNrdG9nZ2xlYnV0dG9uXzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL3BsYXliYWNrdG9nZ2xlYnV0dG9uXCIpO1xyXG52YXIgc2Vla2Jhcl8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9zZWVrYmFyXCIpO1xyXG52YXIgcGxheWJhY2t0aW1lbGFiZWxfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvcGxheWJhY2t0aW1lbGFiZWxcIik7XHJcbnZhciBjb250cm9sYmFyXzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL2NvbnRyb2xiYXJcIik7XHJcbnZhciBldmVudGRpc3BhdGNoZXJfMSA9IHJlcXVpcmUoXCIuL2V2ZW50ZGlzcGF0Y2hlclwiKTtcclxudmFyIHNlZWtiYXJsYWJlbF8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9zZWVrYmFybGFiZWxcIik7XHJcbnZhciB2b2x1bWVjb250cm9sYnV0dG9uXzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL3ZvbHVtZWNvbnRyb2xidXR0b25cIik7XHJcbnZhciBmdWxsc2NyZWVudG9nZ2xlYnV0dG9uXzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL2Z1bGxzY3JlZW50b2dnbGVidXR0b25cIik7XHJcbnZhciBlcnJvcm1lc3NhZ2VvdmVybGF5XzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL2Vycm9ybWVzc2FnZW92ZXJsYXlcIik7XHJcbnZhciB1dGlsc18xID0gcmVxdWlyZShcIi4vdXRpbHNcIik7XHJcbnZhciBhdWRpb29ubHlvdmVybGF5XzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL2F1ZGlvb25seW92ZXJsYXlcIik7XHJcbnZhciBwbGF5YmFja3RvZ2dsZW92ZXJsYXlfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvcGxheWJhY2t0b2dnbGVvdmVybGF5XCIpO1xyXG52YXIgVUlNYW5hZ2VyID0gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIFVJTWFuYWdlcihwbGF5ZXIsIHBsYXllclVpT3JVaVZhcmlhbnRzLCBjb25maWcpIHtcclxuICAgICAgICBpZiAoY29uZmlnID09PSB2b2lkIDApIHsgY29uZmlnID0ge307IH1cclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIGlmIChwbGF5ZXJVaU9yVWlWYXJpYW50cyBpbnN0YW5jZW9mIHVpY29udGFpbmVyXzEuVUlDb250YWluZXIpIHtcclxuICAgICAgICAgICAgLy8gU2luZ2xlLVVJIGNvbnN0cnVjdG9yIGhhcyBiZWVuIGNhbGxlZCwgdHJhbnNmb3JtIGFyZ3VtZW50cyB0byBVSVZhcmlhbnRbXSBzaWduYXR1cmVcclxuICAgICAgICAgICAgdmFyIHBsYXllclVpID0gcGxheWVyVWlPclVpVmFyaWFudHM7XHJcbiAgICAgICAgICAgIHZhciBhZHNVaSA9IG51bGw7XHJcbiAgICAgICAgICAgIHZhciB1aVZhcmlhbnRzID0gW107XHJcbiAgICAgICAgICAgIC8vIEFkZCB0aGUgYWRzIFVJIGlmIGRlZmluZWRcclxuICAgICAgICAgICAgaWYgKGFkc1VpKSB7XHJcbiAgICAgICAgICAgICAgICB1aVZhcmlhbnRzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgIHVpOiBhZHNVaSxcclxuICAgICAgICAgICAgICAgICAgICBjb25kaXRpb246IGZ1bmN0aW9uIChjb250ZXh0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjb250ZXh0LmlzQWRXaXRoVUk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIEFkZCB0aGUgZGVmYXVsdCBwbGF5ZXIgVUlcclxuICAgICAgICAgICAgdWlWYXJpYW50cy5wdXNoKHsgdWk6IHBsYXllclVpIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnVpVmFyaWFudHMgPSB1aVZhcmlhbnRzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gRGVmYXVsdCBjb25zdHJ1Y3RvciAoVUlWYXJpYW50W10pIGhhcyBiZWVuIGNhbGxlZFxyXG4gICAgICAgICAgICB0aGlzLnVpVmFyaWFudHMgPSBwbGF5ZXJVaU9yVWlWYXJpYW50cztcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5wbGF5ZXIgPSBwbGF5ZXI7XHJcbiAgICAgICAgdGhpcy5jb25maWcgPSBjb25maWc7XHJcbiAgICAgICAgdGhpcy5tYW5hZ2VyUGxheWVyV3JhcHBlciA9IG5ldyBQbGF5ZXJXcmFwcGVyKHBsYXllcik7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJFbGVtZW50ID0gbmV3IGRvbV8xLkRPTShwbGF5ZXIuZ2V0RmlndXJlKCkpO1xyXG4gICAgICAgIC8vIENyZWF0ZSBVSSBpbnN0YW5jZSBtYW5hZ2VycyBmb3IgdGhlIFVJIHZhcmlhbnRzXHJcbiAgICAgICAgLy8gVGhlIGluc3RhbmNlIG1hbmFnZXJzIG1hcCB0byB0aGUgY29ycmVzcG9uZGluZyBVSSB2YXJpYW50cyBieSB0aGVpciBhcnJheSBpbmRleFxyXG4gICAgICAgIHRoaXMudWlJbnN0YW5jZU1hbmFnZXJzID0gW107XHJcbiAgICAgICAgdmFyIHVpVmFyaWFudHNXaXRob3V0Q29uZGl0aW9uID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IHRoaXMudWlWYXJpYW50czsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgdmFyIHVpVmFyaWFudCA9IF9hW19pXTtcclxuICAgICAgICAgICAgaWYgKHVpVmFyaWFudC5jb25kaXRpb24gPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgLy8gQ29sbGVjdCB2YXJpYW50cyB3aXRob3V0IGNvbmRpdGlvbnMgZm9yIGVycm9yIGNoZWNraW5nXHJcbiAgICAgICAgICAgICAgICB1aVZhcmlhbnRzV2l0aG91dENvbmRpdGlvbi5wdXNoKHVpVmFyaWFudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gQ3JlYXRlIHRoZSBpbnN0YW5jZSBtYW5hZ2VyIGZvciBhIFVJIHZhcmlhbnRcclxuICAgICAgICAgICAgdGhpcy51aUluc3RhbmNlTWFuYWdlcnMucHVzaChuZXcgSW50ZXJuYWxVSUluc3RhbmNlTWFuYWdlcihwbGF5ZXIsIHVpVmFyaWFudC51aSwgdGhpcy5jb25maWcpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gTWFrZSBzdXJlIHRoYXQgdGhlcmUgaXMgb25seSBvbmUgVUkgdmFyaWFudCB3aXRob3V0IGEgY29uZGl0aW9uXHJcbiAgICAgICAgLy8gSXQgZG9lcyBub3QgbWFrZSBzZW5zZSB0byBoYXZlIG11bHRpcGxlIHZhcmlhbnRzIHdpdGhvdXQgY29uZGl0aW9uLCBiZWNhdXNlIG9ubHkgdGhlIGZpcnN0IG9uZSBpbiB0aGUgbGlzdFxyXG4gICAgICAgIC8vICh0aGUgb25lIHdpdGggdGhlIGxvd2VzdCBpbmRleCkgd2lsbCBldmVyIGJlIHNlbGVjdGVkLlxyXG4gICAgICAgIGlmICh1aVZhcmlhbnRzV2l0aG91dENvbmRpdGlvbi5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAgIHRocm93IEVycm9yKCdUb28gbWFueSBVSXMgd2l0aG91dCBhIGNvbmRpdGlvbjogWW91IGNhbm5vdCBoYXZlIG1vcmUgdGhhbiBvbmUgZGVmYXVsdCBVSScpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBNYWtlIHN1cmUgdGhhdCB0aGUgZGVmYXVsdCBVSSB2YXJpYW50LCBpZiBkZWZpbmVkLCBpcyBhdCB0aGUgZW5kIG9mIHRoZSBsaXN0IChsYXN0IGluZGV4KVxyXG4gICAgICAgIC8vIElmIGl0IGNvbWVzIGVhcmxpZXIsIHRoZSB2YXJpYW50cyB3aXRoIGNvbmRpdGlvbnMgdGhhdCBjb21lIGFmdGVyd2FyZHMgd2lsbCBuZXZlciBiZSBzZWxlY3RlZCBiZWNhdXNlIHRoZVxyXG4gICAgICAgIC8vIGRlZmF1bHQgdmFyaWFudCB3aXRob3V0IGEgY29uZGl0aW9uIGFsd2F5cyBldmFsdWF0ZXMgdG8gJ3RydWUnXHJcbiAgICAgICAgaWYgKHVpVmFyaWFudHNXaXRob3V0Q29uZGl0aW9uLmxlbmd0aCA+IDBcclxuICAgICAgICAgICAgJiYgdWlWYXJpYW50c1dpdGhvdXRDb25kaXRpb25bMF0gIT09IHRoaXMudWlWYXJpYW50c1t0aGlzLnVpVmFyaWFudHMubGVuZ3RoIC0gMV0pIHtcclxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ0ludmFsaWQgVUkgdmFyaWFudCBvcmRlcjogdGhlIGRlZmF1bHQgVUkgKHdpdGhvdXQgY29uZGl0aW9uKSBtdXN0IGJlIGF0IHRoZSBlbmQgb2YgdGhlIGxpc3QnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGFkU3RhcnRlZEV2ZW50ID0gbnVsbDsgLy8ga2VlcCB0aGUgZXZlbnQgc3RvcmVkIGhlcmUgZHVyaW5nIGFkIHBsYXliYWNrXHJcbiAgICAgICAgdmFyIGlzTW9iaWxlID0gdXRpbHNfMS5Ccm93c2VyVXRpbHMuaXNNb2JpbGU7XHJcbiAgICAgICAgLy8gRHluYW1pY2FsbHkgc2VsZWN0IGEgVUkgdmFyaWFudCB0aGF0IG1hdGNoZXMgdGhlIGN1cnJlbnQgVUkgY29uZGl0aW9uLlxyXG4gICAgICAgIHZhciByZXNvbHZlVWlWYXJpYW50ID0gZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSB0aGF0IHRoZSBPTl9BRF9TVEFSVEVEIGV2ZW50IGRhdGEgaXMgcGVyc2lzdGVkIHRocm91Z2ggYWQgcGxheWJhY2sgaW4gY2FzZSBvdGhlciBldmVudHMgaGFwcGVuXHJcbiAgICAgICAgICAgIC8vIGluIHRoZSBtZWFudGltZSwgZS5nLiBwbGF5ZXIgcmVzaXplLiBXZSBuZWVkIHRvIHN0b3JlIHRoaXMgZGF0YSBiZWNhdXNlIHRoZXJlIGlzIG5vIG90aGVyIHdheSB0byBmaW5kIG91dFxyXG4gICAgICAgICAgICAvLyBhZCBkZXRhaWxzIChlLmcuIHRoZSBhZCBjbGllbnQpIHdoaWxlIGFuIGFkIGlzIHBsYXlpbmcuXHJcbiAgICAgICAgICAgIC8vIEV4aXN0aW5nIGV2ZW50IGRhdGEgc2lnbmFscyB0aGF0IGFuIGFkIGlzIGN1cnJlbnRseSBhY3RpdmUuIFdlIGNhbm5vdCB1c2UgcGxheWVyLmlzQWQoKSBiZWNhdXNlIGl0IHJldHVybnNcclxuICAgICAgICAgICAgLy8gdHJ1ZSBvbiBhZCBzdGFydCBhbmQgYWxzbyBvbiBhZCBlbmQgZXZlbnRzLCB3aGljaCBpcyBwcm9ibGVtYXRpYy5cclxuICAgICAgICAgICAgaWYgKGV2ZW50ICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoZXZlbnQudHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFdoZW4gdGhlIGFkIHN0YXJ0cywgd2Ugc3RvcmUgdGhlIGV2ZW50IGRhdGFcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIHBsYXllci5FVkVOVC5PTl9BRF9TVEFSVEVEOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhZFN0YXJ0ZWRFdmVudCA9IGV2ZW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAvLyBXaGVuIHRoZSBhZCBlbmRzLCB3ZSBkZWxldGUgdGhlIGV2ZW50IGRhdGFcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIHBsYXllci5FVkVOVC5PTl9BRF9GSU5JU0hFRDpcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIHBsYXllci5FVkVOVC5PTl9BRF9TS0lQUEVEOlxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgcGxheWVyLkVWRU5ULk9OX0FEX0VSUk9SOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhZFN0YXJ0ZWRFdmVudCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gRGV0ZWN0IGlmIGFuIGFkIGhhcyBzdGFydGVkXHJcbiAgICAgICAgICAgIHZhciBhZCA9IGFkU3RhcnRlZEV2ZW50ICE9IG51bGw7XHJcbiAgICAgICAgICAgIHZhciBhZFdpdGhVSSA9IGFkICYmIGFkU3RhcnRlZEV2ZW50LmNsaWVudFR5cGUgPT09ICd2YXN0JztcclxuICAgICAgICAgICAgLy8gRGV0ZXJtaW5lIHRoZSBjdXJyZW50IGNvbnRleHQgZm9yIHdoaWNoIHRoZSBVSSB2YXJpYW50IHdpbGwgYmUgcmVzb2x2ZWRcclxuICAgICAgICAgICAgdmFyIGNvbnRleHQgPSB7XHJcbiAgICAgICAgICAgICAgICBpc0FkOiBhZCxcclxuICAgICAgICAgICAgICAgIGlzQWRXaXRoVUk6IGFkV2l0aFVJLFxyXG4gICAgICAgICAgICAgICAgaXNGdWxsc2NyZWVuOiBfdGhpcy5wbGF5ZXIuaXNGdWxsc2NyZWVuKCksXHJcbiAgICAgICAgICAgICAgICBpc01vYmlsZTogaXNNb2JpbGUsXHJcbiAgICAgICAgICAgICAgICB3aWR0aDogX3RoaXMucGxheWVyRWxlbWVudC53aWR0aCgpLFxyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnRXaWR0aDogZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aCxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdmFyIG5leHRVaSA9IG51bGw7XHJcbiAgICAgICAgICAgIHZhciB1aVZhcmlhbnRDaGFuZ2VkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIC8vIFNlbGVjdCBuZXcgVUkgdmFyaWFudFxyXG4gICAgICAgICAgICAvLyBJZiBubyB2YXJpYW50IGNvbmRpdGlvbiBpcyBmdWxmaWxsZWQsIHdlIHN3aXRjaCB0byAqbm8qIFVJXHJcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSBfdGhpcy51aVZhcmlhbnRzOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHVpVmFyaWFudCA9IF9hW19pXTtcclxuICAgICAgICAgICAgICAgIGlmICh1aVZhcmlhbnQuY29uZGl0aW9uID09IG51bGwgfHwgdWlWYXJpYW50LmNvbmRpdGlvbihjb250ZXh0KSA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG5leHRVaSA9IF90aGlzLnVpSW5zdGFuY2VNYW5hZ2Vyc1tfdGhpcy51aVZhcmlhbnRzLmluZGV4T2YodWlWYXJpYW50KV07XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gRGV0ZXJtaW5lIGlmIHRoZSBVSSB2YXJpYW50IGlzIGNoYW5naW5nXHJcbiAgICAgICAgICAgIGlmIChuZXh0VWkgIT09IF90aGlzLmN1cnJlbnRVaSkge1xyXG4gICAgICAgICAgICAgICAgdWlWYXJpYW50Q2hhbmdlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnc3dpdGNoZWQgZnJvbSAnLCB0aGlzLmN1cnJlbnRVaSA/IHRoaXMuY3VycmVudFVpLmdldFVJKCkgOiAnbm9uZScsXHJcbiAgICAgICAgICAgICAgICAvLyAgICcgdG8gJywgbmV4dFVpID8gbmV4dFVpLmdldFVJKCkgOiAnbm9uZScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIE9ubHkgaWYgdGhlIFVJIHZhcmlhbnQgaXMgY2hhbmdpbmcsIHdlIG5lZWQgdG8gZG8gc29tZSBzdHVmZi4gRWxzZSB3ZSBqdXN0IGxlYXZlIGV2ZXJ5dGhpbmcgYXMtaXMuXHJcbiAgICAgICAgICAgIGlmICh1aVZhcmlhbnRDaGFuZ2VkKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBIaWRlIHRoZSBjdXJyZW50bHkgYWN0aXZlIFVJIHZhcmlhbnRcclxuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5jdXJyZW50VWkpIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5jdXJyZW50VWkuZ2V0VUkoKS5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBBc3NpZ24gdGhlIG5ldyBVSSB2YXJpYW50IGFzIGN1cnJlbnQgVUlcclxuICAgICAgICAgICAgICAgIF90aGlzLmN1cnJlbnRVaSA9IG5leHRVaTtcclxuICAgICAgICAgICAgICAgIC8vIFdoZW4gd2Ugc3dpdGNoIHRvIGEgZGlmZmVyZW50IFVJIGluc3RhbmNlLCB0aGVyZSdzIHNvbWUgYWRkaXRpb25hbCBzdHVmZiB0byBtYW5hZ2UuIElmIHdlIGRvIG5vdCBzd2l0Y2hcclxuICAgICAgICAgICAgICAgIC8vIHRvIGFuIGluc3RhbmNlLCB3ZSdyZSBkb25lIGhlcmUuXHJcbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMuY3VycmVudFVpICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBBZGQgdGhlIFVJIHRvIHRoZSBET00gKGFuZCBjb25maWd1cmUgaXQpIHRoZSBmaXJzdCB0aW1lIGl0IGlzIHNlbGVjdGVkXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFfdGhpcy5jdXJyZW50VWkuaXNDb25maWd1cmVkKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuYWRkVWkoX3RoaXMuY3VycmVudFVpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhpcyBpcyBhbiBhZCBVSSwgd2UgbmVlZCB0byByZWxheSB0aGUgc2F2ZWQgT05fQURfU1RBUlRFRCBldmVudCBkYXRhIHNvIGFkIGNvbXBvbmVudHMgY2FuIGNvbmZpZ3VyZVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoZW1zZWx2ZXMgZm9yIHRoZSBjdXJyZW50IGFkLlxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb250ZXh0LmlzQWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLyogUmVsYXkgdGhlIE9OX0FEX1NUQVJURUQgZXZlbnQgdG8gdGhlIGFkcyBVSVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgKlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBCZWNhdXNlIHRoZSBhZHMgVUkgaXMgaW5pdGlhbGl6ZWQgaW4gdGhlIE9OX0FEX1NUQVJURUQgaGFuZGxlciwgaS5lLiB3aGVuIHRoZSBPTl9BRF9TVEFSVEVEIGV2ZW50IGhhc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBhbHJlYWR5IGJlZW4gZmlyZWQsIGNvbXBvbmVudHMgaW4gdGhlIGFkcyBVSSB0aGF0IGxpc3RlbiBmb3IgdGhlIE9OX0FEX1NUQVJURUQgZXZlbnQgbmV2ZXIgcmVjZWl2ZSBpdC5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICogU2luY2UgdGhpcyBjYW4gYnJlYWsgZnVuY3Rpb25hbGl0eSBvZiBjb21wb25lbnRzIHRoYXQgcmVseSBvbiB0aGlzIGV2ZW50LCB3ZSByZWxheSB0aGUgZXZlbnQgdG8gdGhlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIGFkcyBVSSBjb21wb25lbnRzIHdpdGggdGhlIGZvbGxvd2luZyBjYWxsLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuY3VycmVudFVpLmdldFdyYXBwZWRQbGF5ZXIoKS5maXJlRXZlbnRJblVJKF90aGlzLnBsYXllci5FVkVOVC5PTl9BRF9TVEFSVEVELCBhZFN0YXJ0ZWRFdmVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmN1cnJlbnRVaS5nZXRVSSgpLnNob3coKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgLy8gTGlzdGVuIHRvIHRoZSBmb2xsb3dpbmcgZXZlbnRzIHRvIHRyaWdnZXIgVUkgdmFyaWFudCByZXNvbHV0aW9uXHJcbiAgICAgICAgdGhpcy5tYW5hZ2VyUGxheWVyV3JhcHBlci5nZXRQbGF5ZXIoKS5hZGRFdmVudEhhbmRsZXIodGhpcy5wbGF5ZXIuRVZFTlQuT05fQURfU1RBUlRFRCwgcmVzb2x2ZVVpVmFyaWFudCk7XHJcbiAgICAgICAgdGhpcy5tYW5hZ2VyUGxheWVyV3JhcHBlci5nZXRQbGF5ZXIoKS5hZGRFdmVudEhhbmRsZXIodGhpcy5wbGF5ZXIuRVZFTlQuT05fQURfRklOSVNIRUQsIHJlc29sdmVVaVZhcmlhbnQpO1xyXG4gICAgICAgIHRoaXMubWFuYWdlclBsYXllcldyYXBwZXIuZ2V0UGxheWVyKCkuYWRkRXZlbnRIYW5kbGVyKHRoaXMucGxheWVyLkVWRU5ULk9OX0FEX1NLSVBQRUQsIHJlc29sdmVVaVZhcmlhbnQpO1xyXG4gICAgICAgIHRoaXMubWFuYWdlclBsYXllcldyYXBwZXIuZ2V0UGxheWVyKCkuYWRkRXZlbnRIYW5kbGVyKHRoaXMucGxheWVyLkVWRU5ULk9OX0FEX0VSUk9SLCByZXNvbHZlVWlWYXJpYW50KTtcclxuICAgICAgICB0aGlzLm1hbmFnZXJQbGF5ZXJXcmFwcGVyLmdldFBsYXllcigpLmFkZEV2ZW50SGFuZGxlcih0aGlzLnBsYXllci5FVkVOVC5PTl9QTEFZRVJfUkVTSVpFLCByZXNvbHZlVWlWYXJpYW50KTtcclxuICAgICAgICB0aGlzLm1hbmFnZXJQbGF5ZXJXcmFwcGVyLmdldFBsYXllcigpLmFkZEV2ZW50SGFuZGxlcih0aGlzLnBsYXllci5FVkVOVC5PTl9GVUxMU0NSRUVOX0VOVEVSLCByZXNvbHZlVWlWYXJpYW50KTtcclxuICAgICAgICB0aGlzLm1hbmFnZXJQbGF5ZXJXcmFwcGVyLmdldFBsYXllcigpLmFkZEV2ZW50SGFuZGxlcih0aGlzLnBsYXllci5FVkVOVC5PTl9GVUxMU0NSRUVOX0VYSVQsIHJlc29sdmVVaVZhcmlhbnQpO1xyXG4gICAgICAgIC8vIEluaXRpYWxpemUgdGhlIFVJXHJcbiAgICAgICAgcmVzb2x2ZVVpVmFyaWFudChudWxsKTtcclxuICAgIH1cclxuICAgIFVJTWFuYWdlci5wcm90b3R5cGUuZ2V0Q29uZmlnID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbmZpZztcclxuICAgIH07XHJcbiAgICBVSU1hbmFnZXIucHJvdG90eXBlLmFkZFVpID0gZnVuY3Rpb24gKHVpKSB7XHJcbiAgICAgICAgdmFyIGRvbSA9IHVpLmdldFVJKCkuZ2V0RG9tRWxlbWVudCgpO1xyXG4gICAgICAgIHVpLmNvbmZpZ3VyZUNvbnRyb2xzKCk7XHJcbiAgICAgICAgLyogQXBwZW5kIHRoZSBVSSBET00gYWZ0ZXIgY29uZmlndXJhdGlvbiB0byBhdm9pZCBDU1MgdHJhbnNpdGlvbnMgYXQgaW5pdGlhbGl6YXRpb25cclxuICAgICAgICAgKiBFeGFtcGxlOiBDb21wb25lbnRzIGFyZSBoaWRkZW4gZHVyaW5nIGNvbmZpZ3VyYXRpb24gYW5kIHRoZXNlIGhpZGVzIG1heSB0cmlnZ2VyIENTUyB0cmFuc2l0aW9ucyB0aGF0IGFyZVxyXG4gICAgICAgICAqIHVuZGVzaXJhYmxlIGF0IHRoaXMgdGltZS4gKi9cclxuICAgICAgICB0aGlzLnBsYXllckVsZW1lbnQuYXBwZW5kKGRvbSk7XHJcbiAgICAgICAgLy8gRmlyZSBvbkNvbmZpZ3VyZWQgYWZ0ZXIgVUkgRE9NIGVsZW1lbnRzIGFyZSBzdWNjZXNzZnVsbHkgYWRkZWQuIFdoZW4gZmlyZWQgaW1tZWRpYXRlbHksIHRoZSBET00gZWxlbWVudHNcclxuICAgICAgICAvLyBtaWdodCBub3QgYmUgZnVsbHkgY29uZmlndXJlZCBhbmQgZS5nLiBkbyBub3QgaGF2ZSBhIHNpemUuXHJcbiAgICAgICAgLy8gaHR0cHM6Ly9zd2l6ZWMuY29tL2Jsb2cvaG93LXRvLXByb3Blcmx5LXdhaXQtZm9yLWRvbS1lbGVtZW50cy10by1zaG93LXVwLWluLW1vZGVybi1icm93c2Vycy9zd2l6ZWMvNjY2M1xyXG4gICAgICAgIGlmICh3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKSB7XHJcbiAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbiAoKSB7IHVpLm9uQ29uZmlndXJlZC5kaXNwYXRjaCh1aS5nZXRVSSgpKTsgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBJRTkgZmFsbGJhY2tcclxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHVpLm9uQ29uZmlndXJlZC5kaXNwYXRjaCh1aS5nZXRVSSgpKTsgfSwgMCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFVJTWFuYWdlci5wcm90b3R5cGUucmVsZWFzZVVpID0gZnVuY3Rpb24gKHVpKSB7XHJcbiAgICAgICAgdWkucmVsZWFzZUNvbnRyb2xzKCk7XHJcbiAgICAgICAgdWkuZ2V0VUkoKS5nZXREb21FbGVtZW50KCkucmVtb3ZlKCk7XHJcbiAgICAgICAgdWkuY2xlYXJFdmVudEhhbmRsZXJzKCk7XHJcbiAgICB9O1xyXG4gICAgVUlNYW5hZ2VyLnByb3RvdHlwZS5yZWxlYXNlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSB0aGlzLnVpSW5zdGFuY2VNYW5hZ2VyczsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgdmFyIHVpSW5zdGFuY2VNYW5hZ2VyID0gX2FbX2ldO1xyXG4gICAgICAgICAgICB0aGlzLnJlbGVhc2VVaSh1aUluc3RhbmNlTWFuYWdlcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMubWFuYWdlclBsYXllcldyYXBwZXIuY2xlYXJFdmVudEhhbmRsZXJzKCk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFVJTWFuYWdlcjtcclxufSgpKTtcclxuZXhwb3J0cy5VSU1hbmFnZXIgPSBVSU1hbmFnZXI7XHJcbihmdW5jdGlvbiAoVUlNYW5hZ2VyKSB7XHJcbiAgICB2YXIgRmFjdG9yeTtcclxuICAgIChmdW5jdGlvbiAoRmFjdG9yeSkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGJ1aWxkQXVkaW9WaWRlb1VJKHBsYXllciwgY29uZmlnKSB7XHJcbiAgICAgICAgICAgIGlmIChjb25maWcgPT09IHZvaWQgMCkgeyBjb25maWcgPSB7fTsgfVxyXG4gICAgICAgICAgICB2YXIgY29udHJvbEJhciA9IG5ldyBjb250cm9sYmFyXzEuQ29udHJvbEJhcih7XHJcbiAgICAgICAgICAgICAgICBjb21wb25lbnRzOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IHBsYXliYWNrdG9nZ2xlYnV0dG9uXzEuUGxheWJhY2tUb2dnbGVCdXR0b24oKSxcclxuICAgICAgICAgICAgICAgICAgICBuZXcgc2Vla2Jhcl8xLlNlZWtCYXIoeyBsYWJlbDogbmV3IHNlZWtiYXJsYWJlbF8xLlNlZWtCYXJMYWJlbCgpIH0pLFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBwbGF5YmFja3RpbWVsYWJlbF8xLlBsYXliYWNrVGltZUxhYmVsKCksXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IHZvbHVtZWNvbnRyb2xidXR0b25fMS5Wb2x1bWVDb250cm9sQnV0dG9uKHsgJ3ZlcnRpY2FsJzogdHJ1ZSB9KSxcclxuICAgICAgICAgICAgICAgICAgICBuZXcgZnVsbHNjcmVlbnRvZ2dsZWJ1dHRvbl8xLkZ1bGxzY3JlZW5Ub2dnbGVCdXR0b24oKSxcclxuICAgICAgICAgICAgICAgICAgICBuZXcgY29tcG9uZW50XzEuQ29tcG9uZW50KHsgY3NzQ2xhc3M6ICdzcGFjZXInIH0pXHJcbiAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgIH0sIHRydWUpO1xyXG4gICAgICAgICAgICB2YXIgdWkgPSBuZXcgdWljb250YWluZXJfMS5VSUNvbnRhaW5lcih7XHJcbiAgICAgICAgICAgICAgICBjb21wb25lbnRzOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IHBsYXliYWNrdG9nZ2xlb3ZlcmxheV8xLlBsYXliYWNrVG9nZ2xlT3ZlcmxheSgpLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xCYXIsXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IGVycm9ybWVzc2FnZW92ZXJsYXlfMS5FcnJvck1lc3NhZ2VPdmVybGF5KClcclxuICAgICAgICAgICAgICAgIF0sIGNzc0NsYXNzZXM6IFsndWktc2tpbiddXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFVJTWFuYWdlcihwbGF5ZXIsIHVpLCBjb25maWcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBGYWN0b3J5LmJ1aWxkQXVkaW9WaWRlb1VJID0gYnVpbGRBdWRpb1ZpZGVvVUk7XHJcbiAgICAgICAgZnVuY3Rpb24gYnVpbGRBdWRpb09ubHlVSShwbGF5ZXIsIGNvbmZpZykge1xyXG4gICAgICAgICAgICBpZiAoY29uZmlnID09PSB2b2lkIDApIHsgY29uZmlnID0ge307IH1cclxuICAgICAgICAgICAgdmFyIGNvbnRyb2xCYXIgPSBuZXcgY29udHJvbGJhcl8xLkNvbnRyb2xCYXIoe1xyXG4gICAgICAgICAgICAgICAgY29tcG9uZW50czogW1xyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBwbGF5YmFja3RvZ2dsZWJ1dHRvbl8xLlBsYXliYWNrVG9nZ2xlQnV0dG9uKCksXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IHNlZWtiYXJfMS5TZWVrQmFyKHsgbGFiZWw6IG5ldyBzZWVrYmFybGFiZWxfMS5TZWVrQmFyTGFiZWwoKSwgaGlkZUluTGl2ZVBsYXliYWNrOiB0cnVlIH0pLFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBwbGF5YmFja3RpbWVsYWJlbF8xLlBsYXliYWNrVGltZUxhYmVsKCksXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IHZvbHVtZWNvbnRyb2xidXR0b25fMS5Wb2x1bWVDb250cm9sQnV0dG9uKHsgJ3ZlcnRpY2FsJzogdHJ1ZSB9KSxcclxuICAgICAgICAgICAgICAgICAgICBuZXcgY29tcG9uZW50XzEuQ29tcG9uZW50KHsgY3NzQ2xhc3M6ICdzcGFjZXInIH0pXHJcbiAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgIH0sIGZhbHNlKTtcclxuICAgICAgICAgICAgdmFyIHVpID0gbmV3IHVpY29udGFpbmVyXzEuVUlDb250YWluZXIoe1xyXG4gICAgICAgICAgICAgICAgY29tcG9uZW50czogW1xyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBhdWRpb29ubHlvdmVybGF5XzEuQXVkaW9Pbmx5T3ZlcmxheSgpLFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBwbGF5YmFja3RvZ2dsZW92ZXJsYXlfMS5QbGF5YmFja1RvZ2dsZU92ZXJsYXkoKSxcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sQmFyLFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBlcnJvcm1lc3NhZ2VvdmVybGF5XzEuRXJyb3JNZXNzYWdlT3ZlcmxheSgpXHJcbiAgICAgICAgICAgICAgICBdLCBjc3NDbGFzc2VzOiBbJ3VpLXNraW4nXVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBVSU1hbmFnZXIocGxheWVyLCB1aSwgY29uZmlnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgRmFjdG9yeS5idWlsZEF1ZGlvT25seVVJID0gYnVpbGRBdWRpb09ubHlVSTtcclxuICAgIH0pKEZhY3RvcnkgPSBVSU1hbmFnZXIuRmFjdG9yeSB8fCAoVUlNYW5hZ2VyLkZhY3RvcnkgPSB7fSkpO1xyXG59KShVSU1hbmFnZXIgPSBleHBvcnRzLlVJTWFuYWdlciB8fCAoZXhwb3J0cy5VSU1hbmFnZXIgPSB7fSkpO1xyXG5leHBvcnRzLlVJTWFuYWdlciA9IFVJTWFuYWdlcjtcclxuLyoqXHJcbiAqIEVuY2Fwc3VsYXRlcyBmdW5jdGlvbmFsaXR5IHRvIG1hbmFnZSBhIFVJIGluc3RhbmNlLiBVc2VkIGJ5IHRoZSB7QGxpbmsgVUlNYW5hZ2VyfSB0byBtYW5hZ2UgbXVsdGlwbGUgVUkgaW5zdGFuY2VzLlxyXG4gKi9cclxudmFyIFVJSW5zdGFuY2VNYW5hZ2VyID0gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIFVJSW5zdGFuY2VNYW5hZ2VyKHBsYXllciwgdWksIGNvbmZpZykge1xyXG4gICAgICAgIGlmIChjb25maWcgPT09IHZvaWQgMCkgeyBjb25maWcgPSB7fTsgfVxyXG4gICAgICAgIHRoaXMuZXZlbnRzID0ge1xyXG4gICAgICAgICAgICBvbkNvbmZpZ3VyZWQ6IG5ldyBldmVudGRpc3BhdGNoZXJfMS5FdmVudERpc3BhdGNoZXIoKSxcclxuICAgICAgICAgICAgb25TZWVrOiBuZXcgZXZlbnRkaXNwYXRjaGVyXzEuRXZlbnREaXNwYXRjaGVyKCksXHJcbiAgICAgICAgICAgIG9uU2Vla1ByZXZpZXc6IG5ldyBldmVudGRpc3BhdGNoZXJfMS5FdmVudERpc3BhdGNoZXIoKSxcclxuICAgICAgICAgICAgb25TZWVrZWQ6IG5ldyBldmVudGRpc3BhdGNoZXJfMS5FdmVudERpc3BhdGNoZXIoKSxcclxuICAgICAgICAgICAgb25Db21wb25lbnRTaG93OiBuZXcgZXZlbnRkaXNwYXRjaGVyXzEuRXZlbnREaXNwYXRjaGVyKCksXHJcbiAgICAgICAgICAgIG9uQ29tcG9uZW50SGlkZTogbmV3IGV2ZW50ZGlzcGF0Y2hlcl8xLkV2ZW50RGlzcGF0Y2hlcigpLFxyXG4gICAgICAgICAgICBvbkNvbnRyb2xzU2hvdzogbmV3IGV2ZW50ZGlzcGF0Y2hlcl8xLkV2ZW50RGlzcGF0Y2hlcigpLFxyXG4gICAgICAgICAgICBvblByZXZpZXdDb250cm9sc0hpZGU6IG5ldyBldmVudGRpc3BhdGNoZXJfMS5FdmVudERpc3BhdGNoZXIoKSxcclxuICAgICAgICAgICAgb25Db250cm9sc0hpZGU6IG5ldyBldmVudGRpc3BhdGNoZXJfMS5FdmVudERpc3BhdGNoZXIoKSxcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMucGxheWVyV3JhcHBlciA9IG5ldyBQbGF5ZXJXcmFwcGVyKHBsYXllcik7XHJcbiAgICAgICAgdGhpcy51aSA9IHVpO1xyXG4gICAgICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xyXG4gICAgfVxyXG4gICAgVUlJbnN0YW5jZU1hbmFnZXIucHJvdG90eXBlLmdldENvbmZpZyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb25maWc7XHJcbiAgICB9O1xyXG4gICAgVUlJbnN0YW5jZU1hbmFnZXIucHJvdG90eXBlLmdldFVJID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnVpO1xyXG4gICAgfTtcclxuICAgIFVJSW5zdGFuY2VNYW5hZ2VyLnByb3RvdHlwZS5nZXRQbGF5ZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucGxheWVyV3JhcHBlci5nZXRQbGF5ZXIoKTtcclxuICAgIH07XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVUlJbnN0YW5jZU1hbmFnZXIucHJvdG90eXBlLCBcIm9uQ29uZmlndXJlZFwiLCB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogRmlyZXMgd2hlbiB0aGUgVUkgaXMgZnVsbHkgY29uZmlndXJlZCBhbmQgYWRkZWQgdG8gdGhlIERPTS5cclxuICAgICAgICAgKiBAcmV0dXJucyB7RXZlbnREaXNwYXRjaGVyfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ldmVudHMub25Db25maWd1cmVkO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFVJSW5zdGFuY2VNYW5hZ2VyLnByb3RvdHlwZSwgXCJvblNlZWtcIiwge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEZpcmVzIHdoZW4gYSBzZWVrIHN0YXJ0cy5cclxuICAgICAgICAgKiBAcmV0dXJucyB7RXZlbnREaXNwYXRjaGVyfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ldmVudHMub25TZWVrO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFVJSW5zdGFuY2VNYW5hZ2VyLnByb3RvdHlwZSwgXCJvblNlZWtQcmV2aWV3XCIsIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBGaXJlcyB3aGVuIHRoZSBzZWVrIHRpbWVsaW5lIGlzIHNjcnViYmVkLlxyXG4gICAgICAgICAqIEByZXR1cm5zIHtFdmVudERpc3BhdGNoZXJ9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmV2ZW50cy5vblNlZWtQcmV2aWV3O1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFVJSW5zdGFuY2VNYW5hZ2VyLnByb3RvdHlwZSwgXCJvblNlZWtlZFwiLCB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogRmlyZXMgd2hlbiBhIHNlZWsgaXMgZmluaXNoZWQuXHJcbiAgICAgICAgICogQHJldHVybnMge0V2ZW50RGlzcGF0Y2hlcn1cclxuICAgICAgICAgKi9cclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZXZlbnRzLm9uU2Vla2VkO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFVJSW5zdGFuY2VNYW5hZ2VyLnByb3RvdHlwZSwgXCJvbkNvbXBvbmVudFNob3dcIiwge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEZpcmVzIHdoZW4gYSBjb21wb25lbnQgaXMgc2hvd2luZy5cclxuICAgICAgICAgKiBAcmV0dXJucyB7RXZlbnREaXNwYXRjaGVyfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ldmVudHMub25Db21wb25lbnRTaG93O1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFVJSW5zdGFuY2VNYW5hZ2VyLnByb3RvdHlwZSwgXCJvbkNvbXBvbmVudEhpZGVcIiwge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEZpcmVzIHdoZW4gYSBjb21wb25lbnQgaXMgaGlkaW5nLlxyXG4gICAgICAgICAqIEByZXR1cm5zIHtFdmVudERpc3BhdGNoZXJ9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmV2ZW50cy5vbkNvbXBvbmVudEhpZGU7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVUlJbnN0YW5jZU1hbmFnZXIucHJvdG90eXBlLCBcIm9uQ29udHJvbHNTaG93XCIsIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBGaXJlcyB3aGVuIHRoZSBVSSBjb250cm9scyBhcmUgc2hvd2luZy5cclxuICAgICAgICAgKiBAcmV0dXJucyB7RXZlbnREaXNwYXRjaGVyfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ldmVudHMub25Db250cm9sc1Nob3c7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVUlJbnN0YW5jZU1hbmFnZXIucHJvdG90eXBlLCBcIm9uUHJldmlld0NvbnRyb2xzSGlkZVwiLCB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogRmlyZXMgYmVmb3JlIHRoZSBVSSBjb250cm9scyBhcmUgaGlkaW5nIHRvIGNoZWNrIGlmIHRoZXkgYXJlIGFsbG93ZWQgdG8gaGlkZS5cclxuICAgICAgICAgKiBAcmV0dXJucyB7RXZlbnREaXNwYXRjaGVyfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ldmVudHMub25QcmV2aWV3Q29udHJvbHNIaWRlO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFVJSW5zdGFuY2VNYW5hZ2VyLnByb3RvdHlwZSwgXCJvbkNvbnRyb2xzSGlkZVwiLCB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogRmlyZXMgd2hlbiB0aGUgVUkgY29udHJvbHMgYXJlIGhpZGluZy5cclxuICAgICAgICAgKiBAcmV0dXJucyB7RXZlbnREaXNwYXRjaGVyfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ldmVudHMub25Db250cm9sc0hpZGU7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBVSUluc3RhbmNlTWFuYWdlci5wcm90b3R5cGUuY2xlYXJFdmVudEhhbmRsZXJzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMucGxheWVyV3JhcHBlci5jbGVhckV2ZW50SGFuZGxlcnMoKTtcclxuICAgICAgICB2YXIgZXZlbnRzID0gdGhpcy5ldmVudHM7IC8vIGF2b2lkIFRTNzAxN1xyXG4gICAgICAgIGZvciAodmFyIGV2ZW50XzEgaW4gZXZlbnRzKSB7XHJcbiAgICAgICAgICAgIHZhciBkaXNwYXRjaGVyID0gZXZlbnRzW2V2ZW50XzFdO1xyXG4gICAgICAgICAgICBkaXNwYXRjaGVyLnVuc3Vic2NyaWJlQWxsKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHJldHVybiBVSUluc3RhbmNlTWFuYWdlcjtcclxufSgpKTtcclxuZXhwb3J0cy5VSUluc3RhbmNlTWFuYWdlciA9IFVJSW5zdGFuY2VNYW5hZ2VyO1xyXG4vKipcclxuICogRXh0ZW5kcyB0aGUge0BsaW5rIFVJSW5zdGFuY2VNYW5hZ2VyfSBmb3IgaW50ZXJuYWwgdXNlIGluIHRoZSB7QGxpbmsgVUlNYW5hZ2VyfSBhbmQgcHJvdmlkZXMgYWNjZXNzIHRvIGZ1bmN0aW9uYWxpdHlcclxuICogdGhhdCBjb21wb25lbnRzIHJlY2VpdmluZyBhIHJlZmVyZW5jZSB0byB0aGUge0BsaW5rIFVJSW5zdGFuY2VNYW5hZ2VyfSBzaG91bGQgbm90IGhhdmUgYWNjZXNzIHRvLlxyXG4gKi9cclxudmFyIEludGVybmFsVUlJbnN0YW5jZU1hbmFnZXIgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKEludGVybmFsVUlJbnN0YW5jZU1hbmFnZXIsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBJbnRlcm5hbFVJSW5zdGFuY2VNYW5hZ2VyKCkge1xyXG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcclxuICAgIH1cclxuICAgIEludGVybmFsVUlJbnN0YW5jZU1hbmFnZXIucHJvdG90eXBlLmdldFdyYXBwZWRQbGF5ZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8gVE9ETyBmaW5kIGEgbm9uLWhhY2t5IHdheSB0byBwcm92aWRlIHRoZSBXcmFwcGVkUGxheWVyIHRvIHRoZSBVSU1hbmFnZXIgd2l0aG91dCBleHBvcnRpbmcgaXRcclxuICAgICAgICAvLyBnZXRQbGF5ZXIoKSBhY3R1YWxseSByZXR1cm5zIHRoZSBXcmFwcGVkUGxheWVyIGJ1dCBpdHMgcmV0dXJuIHR5cGUgaXMgc2V0IHRvIFBsYXllciBzbyB0aGUgV3JhcHBlZFBsYXllciBkb2VzXHJcbiAgICAgICAgLy8gbm90IG5lZWQgdG8gYmUgZXhwb3J0ZWRcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRQbGF5ZXIoKTtcclxuICAgIH07XHJcbiAgICBJbnRlcm5hbFVJSW5zdGFuY2VNYW5hZ2VyLnByb3RvdHlwZS5jb25maWd1cmVDb250cm9scyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLmNvbmZpZ3VyZUNvbnRyb2xzVHJlZSh0aGlzLmdldFVJKCkpO1xyXG4gICAgICAgIHRoaXMuY29uZmlndXJlZCA9IHRydWU7XHJcbiAgICB9O1xyXG4gICAgSW50ZXJuYWxVSUluc3RhbmNlTWFuYWdlci5wcm90b3R5cGUuaXNDb25maWd1cmVkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbmZpZ3VyZWQ7XHJcbiAgICB9O1xyXG4gICAgSW50ZXJuYWxVSUluc3RhbmNlTWFuYWdlci5wcm90b3R5cGUuY29uZmlndXJlQ29udHJvbHNUcmVlID0gZnVuY3Rpb24gKGNvbXBvbmVudCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdmFyIGNvbmZpZ3VyZWRDb21wb25lbnRzID0gW107XHJcbiAgICAgICAgdXRpbHNfMS5VSVV0aWxzLnRyYXZlcnNlVHJlZShjb21wb25lbnQsIGZ1bmN0aW9uIChjb21wb25lbnQpIHtcclxuICAgICAgICAgICAgLy8gRmlyc3QsIGNoZWNrIGlmIHdlIGhhdmUgYWxyZWFkeSBjb25maWd1cmVkIGEgY29tcG9uZW50LCBhbmQgdGhyb3cgYW4gZXJyb3IgaWYgd2UgZGlkLiBNdWx0aXBsZSBjb25maWd1cmF0aW9uXHJcbiAgICAgICAgICAgIC8vIG9mIHRoZSBzYW1lIGNvbXBvbmVudCBsZWFkcyB0byB1bmV4cGVjdGVkIFVJIGJlaGF2aW9yLiBBbHNvLCBhIGNvbXBvbmVudCB0aGF0IGlzIGluIHRoZSBVSSB0cmVlIG11bHRpcGxlXHJcbiAgICAgICAgICAgIC8vIHRpbWVzIGhpbnRzIGF0IGEgd3JvbmcgVUkgc3RydWN0dXJlLlxyXG4gICAgICAgICAgICAvLyBXZSBjb3VsZCBqdXN0IHNraXAgY29uZmlndXJhdGlvbiBpbiBzdWNoIGEgY2FzZSBhbmQgbm90IHRocm93IGFuIGV4Y2VwdGlvbiwgYnV0IGVuZm9yY2luZyBhIGNsZWFuIFVJIHRyZWVcclxuICAgICAgICAgICAgLy8gc2VlbXMgbGlrZSB0aGUgYmV0dGVyIGNob2ljZS5cclxuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBjb25maWd1cmVkQ29tcG9uZW50c18xID0gY29uZmlndXJlZENvbXBvbmVudHM7IF9pIDwgY29uZmlndXJlZENvbXBvbmVudHNfMS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBjb25maWd1cmVkQ29tcG9uZW50ID0gY29uZmlndXJlZENvbXBvbmVudHNfMVtfaV07XHJcbiAgICAgICAgICAgICAgICBpZiAoY29uZmlndXJlZENvbXBvbmVudCA9PT0gY29tcG9uZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gV3JpdGUgdGhlIGNvbXBvbmVudCB0byB0aGUgY29uc29sZSB0byBzaW1wbGlmeSBpZGVudGlmaWNhdGlvbiBvZiB0aGUgY3VscHJpdFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIChlLmcuIGJ5IGluc3BlY3RpbmcgdGhlIGNvbmZpZylcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY29uc29sZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdDaXJjdWxhciByZWZlcmVuY2UgaW4gVUkgdHJlZScsIGNvbXBvbmVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIEFkZGl0aW9uYWxseSB0aHJvdyBhbiBlcnJvciwgYmVjYXVzZSB0aGlzIGNhc2UgbXVzdCBub3QgaGFwcGVuIGFuZCBsZWFkcyB0byB1bmV4cGVjdGVkIFVJIGJlaGF2aW9yLlxyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKCdDaXJjdWxhciByZWZlcmVuY2UgaW4gVUkgdHJlZTogJyArIGNvbXBvbmVudC5jb25zdHJ1Y3Rvci5uYW1lKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb21wb25lbnQuaW5pdGlhbGl6ZSgpO1xyXG4gICAgICAgICAgICBjb21wb25lbnQuY29uZmlndXJlKF90aGlzLmdldFBsYXllcigpLCBfdGhpcyk7XHJcbiAgICAgICAgICAgIGNvbmZpZ3VyZWRDb21wb25lbnRzLnB1c2goY29tcG9uZW50KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBJbnRlcm5hbFVJSW5zdGFuY2VNYW5hZ2VyLnByb3RvdHlwZS5yZWxlYXNlQ29udHJvbHMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8gRG8gbm90IGNhbGwgcmVsZWFzZSBtZXRob2RzIGlmIHRoZSBjb21wb25lbnRzIGhhdmUgbmV2ZXIgYmVlbiBjb25maWd1cmVkOyB0aGlzIGNhbiByZXN1bHQgaW4gZXhjZXB0aW9uc1xyXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5yZWxlYXNlQ29udHJvbHNUcmVlKHRoaXMuZ2V0VUkoKSk7XHJcbiAgICAgICAgICAgIHRoaXMuY29uZmlndXJlZCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnJlbGVhc2VkID0gdHJ1ZTtcclxuICAgIH07XHJcbiAgICBJbnRlcm5hbFVJSW5zdGFuY2VNYW5hZ2VyLnByb3RvdHlwZS5pc1JlbGVhc2VkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnJlbGVhc2VkO1xyXG4gICAgfTtcclxuICAgIEludGVybmFsVUlJbnN0YW5jZU1hbmFnZXIucHJvdG90eXBlLnJlbGVhc2VDb250cm9sc1RyZWUgPSBmdW5jdGlvbiAoY29tcG9uZW50KSB7XHJcbiAgICAgICAgY29tcG9uZW50LnJlbGVhc2UoKTtcclxuICAgICAgICBpZiAoY29tcG9uZW50IGluc3RhbmNlb2YgY29udGFpbmVyXzEuQ29udGFpbmVyKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSBjb21wb25lbnQuZ2V0Q29tcG9uZW50cygpOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNoaWxkQ29tcG9uZW50ID0gX2FbX2ldO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWxlYXNlQ29udHJvbHNUcmVlKGNoaWxkQ29tcG9uZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBJbnRlcm5hbFVJSW5zdGFuY2VNYW5hZ2VyLnByb3RvdHlwZS5jbGVhckV2ZW50SGFuZGxlcnMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5jbGVhckV2ZW50SGFuZGxlcnMuY2FsbCh0aGlzKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gSW50ZXJuYWxVSUluc3RhbmNlTWFuYWdlcjtcclxufShVSUluc3RhbmNlTWFuYWdlcikpO1xyXG4vKipcclxuICogV3JhcHMgdGhlIHBsYXllciB0byB0cmFjayBldmVudCBoYW5kbGVycyBhbmQgcHJvdmlkZSBhIHNpbXBsZSBtZXRob2QgdG8gcmVtb3ZlIGFsbCByZWdpc3RlcmVkIGV2ZW50XHJcbiAqIGhhbmRsZXJzIGZyb20gdGhlIHBsYXllci5cclxuICovXHJcbnZhciBQbGF5ZXJXcmFwcGVyID0gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIFBsYXllcldyYXBwZXIocGxheWVyKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB0aGlzLmV2ZW50SGFuZGxlcnMgPSB7fTtcclxuICAgICAgICB0aGlzLnBsYXllciA9IHBsYXllcjtcclxuICAgICAgICAvLyBDb2xsZWN0IGFsbCBwdWJsaWMgQVBJIG1ldGhvZHMgb2YgdGhlIHBsYXllclxyXG4gICAgICAgIHZhciBtZXRob2RzID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgbWVtYmVyIGluIHBsYXllcikge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHBsYXllclttZW1iZXJdID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICBtZXRob2RzLnB1c2gobWVtYmVyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBDcmVhdGUgd3JhcHBlciBvYmplY3QgYW5kIGFkZCBmdW5jdGlvbiB3cmFwcGVycyBmb3IgYWxsIEFQSSBtZXRob2RzIHRoYXQgZG8gbm90aGluZyBidXQgY2FsbGluZyB0aGUgYmFzZSBtZXRob2RcclxuICAgICAgICAvLyBvbiB0aGUgcGxheWVyXHJcbiAgICAgICAgdmFyIHdyYXBwZXIgPSB7fTtcclxuICAgICAgICB2YXIgX2xvb3BfMSA9IGZ1bmN0aW9uIChtZW1iZXIpIHtcclxuICAgICAgICAgICAgd3JhcHBlclttZW1iZXJdID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ2NhbGxlZCAnICsgbWVtYmVyKTsgLy8gdHJhY2sgbWV0aG9kIGNhbGxzIG9uIHRoZSBwbGF5ZXJcclxuICAgICAgICAgICAgICAgIHJldHVybiBwbGF5ZXJbbWVtYmVyXS5hcHBseShwbGF5ZXIsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfTtcclxuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIG1ldGhvZHNfMSA9IG1ldGhvZHM7IF9pIDwgbWV0aG9kc18xLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICB2YXIgbWVtYmVyID0gbWV0aG9kc18xW19pXTtcclxuICAgICAgICAgICAgX2xvb3BfMShtZW1iZXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBDb2xsZWN0IGFsbCBwdWJsaWMgcHJvcGVydGllcyBvZiB0aGUgcGxheWVyIGFuZCBhZGQgaXQgdG8gdGhlIHdyYXBwZXJcclxuICAgICAgICBmb3IgKHZhciBtZW1iZXIgaW4gcGxheWVyKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgcGxheWVyW21lbWJlcl0gIT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgIHdyYXBwZXJbbWVtYmVyXSA9IHBsYXllclttZW1iZXJdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIEV4cGxpY2l0bHkgYWRkIGEgd3JhcHBlciBtZXRob2QgZm9yICdhZGRFdmVudEhhbmRsZXInIHRoYXQgYWRkcyBhZGRlZCBldmVudCBoYW5kbGVycyB0byB0aGUgZXZlbnQgbGlzdFxyXG4gICAgICAgIHdyYXBwZXIuYWRkRXZlbnRIYW5kbGVyID0gZnVuY3Rpb24gKGV2ZW50VHlwZSwgY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihldmVudFR5cGUsIGNhbGxiYWNrKTtcclxuICAgICAgICAgICAgaWYgKCFfdGhpcy5ldmVudEhhbmRsZXJzW2V2ZW50VHlwZV0pIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLmV2ZW50SGFuZGxlcnNbZXZlbnRUeXBlXSA9IFtdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIF90aGlzLmV2ZW50SGFuZGxlcnNbZXZlbnRUeXBlXS5wdXNoKGNhbGxiYWNrKTtcclxuICAgICAgICAgICAgcmV0dXJuIHdyYXBwZXI7XHJcbiAgICAgICAgfTtcclxuICAgICAgICAvLyBFeHBsaWNpdGx5IGFkZCBhIHdyYXBwZXIgbWV0aG9kIGZvciAncmVtb3ZlRXZlbnRIYW5kbGVyJyB0aGF0IHJlbW92ZXMgcmVtb3ZlZCBldmVudCBoYW5kbGVycyBmcm9tIHRoZSBldmVudCBsaXN0XHJcbiAgICAgICAgd3JhcHBlci5yZW1vdmVFdmVudEhhbmRsZXIgPSBmdW5jdGlvbiAoZXZlbnRUeXBlLCBjYWxsYmFjaykge1xyXG4gICAgICAgICAgICBwbGF5ZXIucmVtb3ZlRXZlbnRIYW5kbGVyKGV2ZW50VHlwZSwgY2FsbGJhY2spO1xyXG4gICAgICAgICAgICBpZiAoX3RoaXMuZXZlbnRIYW5kbGVyc1tldmVudFR5cGVdKSB7XHJcbiAgICAgICAgICAgICAgICB1dGlsc18xLkFycmF5VXRpbHMucmVtb3ZlKF90aGlzLmV2ZW50SGFuZGxlcnNbZXZlbnRUeXBlXSwgY2FsbGJhY2spO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB3cmFwcGVyO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgd3JhcHBlci5maXJlRXZlbnRJblVJID0gZnVuY3Rpb24gKGV2ZW50LCBkYXRhKSB7XHJcbiAgICAgICAgICAgIGlmIChfdGhpcy5ldmVudEhhbmRsZXJzW2V2ZW50XSkge1xyXG4gICAgICAgICAgICAgICAgLy8gRXh0ZW5kIHRoZSBkYXRhIG9iamVjdCB3aXRoIGRlZmF1bHQgdmFsdWVzIHRvIGNvbnZlcnQgaXQgdG8gYSB7QGxpbmsgUGxheWVyRXZlbnR9IG9iamVjdC5cclxuICAgICAgICAgICAgICAgIHZhciBwbGF5ZXJFdmVudERhdGEgPSBPYmplY3QuYXNzaWduKHt9LCB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IGV2ZW50LFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIEFkZCBhIG1hcmtlciBwcm9wZXJ0eSBzbyB0aGUgVUkgY2FuIGRldGVjdCBVSS1pbnRlcm5hbCBwbGF5ZXIgZXZlbnRzXHJcbiAgICAgICAgICAgICAgICAgICAgdWlTb3VyY2VkOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgfSwgZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAvLyBFeGVjdXRlIHRoZSByZWdpc3RlcmVkIGNhbGxiYWNrc1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IF90aGlzLmV2ZW50SGFuZGxlcnNbZXZlbnRdOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjYWxsYmFjayA9IF9hW19pXTtcclxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhwbGF5ZXJFdmVudERhdGEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLndyYXBwZXIgPSB3cmFwcGVyO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGEgd3JhcHBlZCBwbGF5ZXIgb2JqZWN0IHRoYXQgY2FuIGJlIHVzZWQgb24gcGxhY2Ugb2YgdGhlIG5vcm1hbCBwbGF5ZXIgb2JqZWN0LlxyXG4gICAgICogQHJldHVybnMge1dyYXBwZWRQbGF5ZXJ9IGEgd3JhcHBlZCBwbGF5ZXJcclxuICAgICAqL1xyXG4gICAgUGxheWVyV3JhcHBlci5wcm90b3R5cGUuZ2V0UGxheWVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLndyYXBwZXI7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBDbGVhcnMgYWxsIHJlZ2lzdGVyZWQgZXZlbnQgaGFuZGxlcnMgZnJvbSB0aGUgcGxheWVyIHRoYXQgd2VyZSBhZGRlZCB0aHJvdWdoIHRoZSB3cmFwcGVkIHBsYXllci5cclxuICAgICAqL1xyXG4gICAgUGxheWVyV3JhcHBlci5wcm90b3R5cGUuY2xlYXJFdmVudEhhbmRsZXJzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGZvciAodmFyIGV2ZW50VHlwZSBpbiB0aGlzLmV2ZW50SGFuZGxlcnMpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IHRoaXMuZXZlbnRIYW5kbGVyc1tldmVudFR5cGVdOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNhbGxiYWNrID0gX2FbX2ldO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIucmVtb3ZlRXZlbnRIYW5kbGVyKGV2ZW50VHlwZSwgY2FsbGJhY2spO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHJldHVybiBQbGF5ZXJXcmFwcGVyO1xyXG59KCkpO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL3VpbWFuYWdlci50c1xuLy8gbW9kdWxlIGlkID0gMzFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIEd1aWQ7XHJcbihmdW5jdGlvbiAoR3VpZCkge1xyXG4gICAgdmFyIGd1aWQgPSAxO1xyXG4gICAgZnVuY3Rpb24gbmV4dCgpIHtcclxuICAgICAgICByZXR1cm4gZ3VpZCsrO1xyXG4gICAgfVxyXG4gICAgR3VpZC5uZXh0ID0gbmV4dDtcclxufSkoR3VpZCA9IGV4cG9ydHMuR3VpZCB8fCAoZXhwb3J0cy5HdWlkID0ge30pKTtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9ndWlkLnRzXG4vLyBtb2R1bGUgaWQgPSAzMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIHRvZ2dsZWJ1dHRvbl8xID0gcmVxdWlyZShcIi4vdG9nZ2xlYnV0dG9uXCIpO1xyXG4vKipcclxuICogQSBidXR0b24gdGhhdCB0b2dnbGVzIHRoZSBwbGF5ZXIgYmV0d2VlbiB3aW5kb3dlZCBhbmQgZnVsbHNjcmVlbiB2aWV3LlxyXG4gKi9cclxudmFyIEZ1bGxzY3JlZW5Ub2dnbGVCdXR0b24gPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKEZ1bGxzY3JlZW5Ub2dnbGVCdXR0b24sIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBGdWxsc2NyZWVuVG9nZ2xlQnV0dG9uKGNvbmZpZykge1xyXG4gICAgICAgIGlmIChjb25maWcgPT09IHZvaWQgMCkgeyBjb25maWcgPSB7fTsgfVxyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGNvbmZpZykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5jb25maWcgPSBfdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIHtcclxuICAgICAgICAgICAgY3NzQ2xhc3M6ICd1aS1mdWxsc2NyZWVudG9nZ2xlYnV0dG9uJyxcclxuICAgICAgICAgICAgdGV4dDogJ0Z1bGxzY3JlZW4nXHJcbiAgICAgICAgfSwgX3RoaXMuY29uZmlnKTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBGdWxsc2NyZWVuVG9nZ2xlQnV0dG9uLnByb3RvdHlwZS5jb25maWd1cmUgPSBmdW5jdGlvbiAocGxheWVyLCB1aW1hbmFnZXIpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuY29uZmlndXJlLmNhbGwodGhpcywgcGxheWVyLCB1aW1hbmFnZXIpO1xyXG4gICAgICAgIHZhciBmdWxsc2NyZWVuU3RhdGVIYW5kbGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAocGxheWVyLmlzRnVsbHNjcmVlbigpKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5vbigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMub2ZmKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX0ZVTExTQ1JFRU5fRU5URVIsIGZ1bGxzY3JlZW5TdGF0ZUhhbmRsZXIpO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX0ZVTExTQ1JFRU5fRVhJVCwgZnVsbHNjcmVlblN0YXRlSGFuZGxlcik7XHJcbiAgICAgICAgdGhpcy5vbkNsaWNrLnN1YnNjcmliZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChwbGF5ZXIuaXNGdWxsc2NyZWVuKCkpIHtcclxuICAgICAgICAgICAgICAgIHBsYXllci5leGl0RnVsbHNjcmVlbigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcGxheWVyLmVudGVyRnVsbHNjcmVlbigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gU3RhcnR1cCBpbml0XHJcbiAgICAgICAgZnVsbHNjcmVlblN0YXRlSGFuZGxlcigpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBGdWxsc2NyZWVuVG9nZ2xlQnV0dG9uO1xyXG59KHRvZ2dsZWJ1dHRvbl8xLlRvZ2dsZUJ1dHRvbikpO1xyXG5leHBvcnRzLkZ1bGxzY3JlZW5Ub2dnbGVCdXR0b24gPSBGdWxsc2NyZWVuVG9nZ2xlQnV0dG9uO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvZnVsbHNjcmVlbnRvZ2dsZWJ1dHRvbi50c1xuLy8gbW9kdWxlIGlkID0gMzNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBjb21wb25lbnRfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudFwiKTtcclxudmFyIGRvbV8xID0gcmVxdWlyZShcIi4uL2RvbVwiKTtcclxuLyoqXHJcbiAqIEFuaW1hdGVkIGFuYWxvZyBUViBzdGF0aWMgbm9pc2UuXHJcbiAqL1xyXG52YXIgVHZOb2lzZUNhbnZhcyA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoVHZOb2lzZUNhbnZhcywgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIFR2Tm9pc2VDYW52YXMoY29uZmlnKSB7XHJcbiAgICAgICAgaWYgKGNvbmZpZyA9PT0gdm9pZCAwKSB7IGNvbmZpZyA9IHt9OyB9XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgY29uZmlnKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLmNhbnZhc1dpZHRoID0gMTYwO1xyXG4gICAgICAgIF90aGlzLmNhbnZhc0hlaWdodCA9IDkwO1xyXG4gICAgICAgIF90aGlzLmludGVyZmVyZW5jZUhlaWdodCA9IDUwO1xyXG4gICAgICAgIF90aGlzLmxhc3RGcmFtZVVwZGF0ZSA9IDA7XHJcbiAgICAgICAgX3RoaXMuZnJhbWVJbnRlcnZhbCA9IDYwO1xyXG4gICAgICAgIF90aGlzLnVzZUFuaW1hdGlvbkZyYW1lID0gISF3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lO1xyXG4gICAgICAgIF90aGlzLmNvbmZpZyA9IF90aGlzLm1lcmdlQ29uZmlnKGNvbmZpZywge1xyXG4gICAgICAgICAgICBjc3NDbGFzczogJ3VpLXR2bm9pc2VjYW52YXMnXHJcbiAgICAgICAgfSwgX3RoaXMuY29uZmlnKTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBUdk5vaXNlQ2FudmFzLnByb3RvdHlwZS50b0RvbUVsZW1lbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FudmFzID0gbmV3IGRvbV8xLkRPTSgnY2FudmFzJywgeyAnY2xhc3MnOiB0aGlzLmdldENzc0NsYXNzZXMoKSB9KTtcclxuICAgIH07XHJcbiAgICBUdk5vaXNlQ2FudmFzLnByb3RvdHlwZS5zdGFydCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLmNhbnZhc0VsZW1lbnQgPSB0aGlzLmNhbnZhcy5nZXRFbGVtZW50cygpWzBdO1xyXG4gICAgICAgIHRoaXMuY2FudmFzQ29udGV4dCA9IHRoaXMuY2FudmFzRWxlbWVudC5nZXRDb250ZXh0KCcyZCcpO1xyXG4gICAgICAgIHRoaXMubm9pc2VBbmltYXRpb25XaW5kb3dQb3MgPSAtdGhpcy5jYW52YXNIZWlnaHQ7XHJcbiAgICAgICAgdGhpcy5sYXN0RnJhbWVVcGRhdGUgPSAwO1xyXG4gICAgICAgIHRoaXMuY2FudmFzRWxlbWVudC53aWR0aCA9IHRoaXMuY2FudmFzV2lkdGg7XHJcbiAgICAgICAgdGhpcy5jYW52YXNFbGVtZW50LmhlaWdodCA9IHRoaXMuY2FudmFzSGVpZ2h0O1xyXG4gICAgICAgIHRoaXMucmVuZGVyRnJhbWUoKTtcclxuICAgIH07XHJcbiAgICBUdk5vaXNlQ2FudmFzLnByb3RvdHlwZS5zdG9wID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnVzZUFuaW1hdGlvbkZyYW1lKSB7XHJcbiAgICAgICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMuZnJhbWVVcGRhdGVIYW5kbGVySWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuZnJhbWVVcGRhdGVIYW5kbGVySWQpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBUdk5vaXNlQ2FudmFzLnByb3RvdHlwZS5yZW5kZXJGcmFtZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyBUaGlzIGNvZGUgaGFzIGJlZW4gY29waWVkIGZyb20gdGhlIHBsYXllciBjb250cm9scy5qcyBhbmQgc2ltcGxpZmllZFxyXG4gICAgICAgIGlmICh0aGlzLmxhc3RGcmFtZVVwZGF0ZSArIHRoaXMuZnJhbWVJbnRlcnZhbCA+IG5ldyBEYXRlKCkuZ2V0VGltZSgpKSB7XHJcbiAgICAgICAgICAgIC8vIEl0J3MgdG9vIGVhcmx5IHRvIHJlbmRlciB0aGUgbmV4dCBmcmFtZVxyXG4gICAgICAgICAgICB0aGlzLnNjaGVkdWxlTmV4dFJlbmRlcigpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBjdXJyZW50UGl4ZWxPZmZzZXQ7XHJcbiAgICAgICAgdmFyIGNhbnZhc1dpZHRoID0gdGhpcy5jYW52YXNXaWR0aDtcclxuICAgICAgICB2YXIgY2FudmFzSGVpZ2h0ID0gdGhpcy5jYW52YXNIZWlnaHQ7XHJcbiAgICAgICAgLy8gQ3JlYXRlIHRleHR1cmVcclxuICAgICAgICB2YXIgbm9pc2VJbWFnZSA9IHRoaXMuY2FudmFzQ29udGV4dC5jcmVhdGVJbWFnZURhdGEoY2FudmFzV2lkdGgsIGNhbnZhc0hlaWdodCk7XHJcbiAgICAgICAgLy8gRmlsbCB0ZXh0dXJlIHdpdGggbm9pc2VcclxuICAgICAgICBmb3IgKHZhciB5ID0gMDsgeSA8IGNhbnZhc0hlaWdodDsgeSsrKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgY2FudmFzV2lkdGg7IHgrKykge1xyXG4gICAgICAgICAgICAgICAgY3VycmVudFBpeGVsT2Zmc2V0ID0gKGNhbnZhc1dpZHRoICogeSAqIDQpICsgeCAqIDQ7XHJcbiAgICAgICAgICAgICAgICBub2lzZUltYWdlLmRhdGFbY3VycmVudFBpeGVsT2Zmc2V0XSA9IE1hdGgucmFuZG9tKCkgKiAyNTU7XHJcbiAgICAgICAgICAgICAgICBpZiAoeSA8IHRoaXMubm9pc2VBbmltYXRpb25XaW5kb3dQb3MgfHwgeSA+IHRoaXMubm9pc2VBbmltYXRpb25XaW5kb3dQb3MgKyB0aGlzLmludGVyZmVyZW5jZUhlaWdodCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG5vaXNlSW1hZ2UuZGF0YVtjdXJyZW50UGl4ZWxPZmZzZXRdICo9IDAuODU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBub2lzZUltYWdlLmRhdGFbY3VycmVudFBpeGVsT2Zmc2V0ICsgMV0gPSBub2lzZUltYWdlLmRhdGFbY3VycmVudFBpeGVsT2Zmc2V0XTtcclxuICAgICAgICAgICAgICAgIG5vaXNlSW1hZ2UuZGF0YVtjdXJyZW50UGl4ZWxPZmZzZXQgKyAyXSA9IG5vaXNlSW1hZ2UuZGF0YVtjdXJyZW50UGl4ZWxPZmZzZXRdO1xyXG4gICAgICAgICAgICAgICAgbm9pc2VJbWFnZS5kYXRhW2N1cnJlbnRQaXhlbE9mZnNldCArIDNdID0gNTA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gUHV0IHRleHR1cmUgb250byBjYW52YXNcclxuICAgICAgICB0aGlzLmNhbnZhc0NvbnRleHQucHV0SW1hZ2VEYXRhKG5vaXNlSW1hZ2UsIDAsIDApO1xyXG4gICAgICAgIHRoaXMubGFzdEZyYW1lVXBkYXRlID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XHJcbiAgICAgICAgdGhpcy5ub2lzZUFuaW1hdGlvbldpbmRvd1BvcyArPSA3O1xyXG4gICAgICAgIGlmICh0aGlzLm5vaXNlQW5pbWF0aW9uV2luZG93UG9zID4gY2FudmFzSGVpZ2h0KSB7XHJcbiAgICAgICAgICAgIHRoaXMubm9pc2VBbmltYXRpb25XaW5kb3dQb3MgPSAtY2FudmFzSGVpZ2h0O1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnNjaGVkdWxlTmV4dFJlbmRlcigpO1xyXG4gICAgfTtcclxuICAgIFR2Tm9pc2VDYW52YXMucHJvdG90eXBlLnNjaGVkdWxlTmV4dFJlbmRlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodGhpcy51c2VBbmltYXRpb25GcmFtZSkge1xyXG4gICAgICAgICAgICB0aGlzLmZyYW1lVXBkYXRlSGFuZGxlcklkID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLnJlbmRlckZyYW1lLmJpbmQodGhpcykpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5mcmFtZVVwZGF0ZUhhbmRsZXJJZCA9IHNldFRpbWVvdXQodGhpcy5yZW5kZXJGcmFtZS5iaW5kKHRoaXMpLCB0aGlzLmZyYW1lSW50ZXJ2YWwpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICByZXR1cm4gVHZOb2lzZUNhbnZhcztcclxufShjb21wb25lbnRfMS5Db21wb25lbnQpKTtcclxuZXhwb3J0cy5Udk5vaXNlQ2FudmFzID0gVHZOb2lzZUNhbnZhcztcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3R2bm9pc2VjYW52YXMudHNcbi8vIG1vZHVsZSBpZCA9IDM0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgY29udGFpbmVyXzEgPSByZXF1aXJlKFwiLi9jb250YWluZXJcIik7XHJcbnZhciBjb21wb25lbnRfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudFwiKTtcclxuLyoqXHJcbiAqIE92ZXJsYXlzIHRoZSBwbGF5ZXIgYW5kIGRpc3BsYXlzIGFuIGF1ZGlvLW9ubHkgaW5kaWNhdG9yLlxyXG4gKi9cclxudmFyIEF1ZGlvT25seU92ZXJsYXkgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKEF1ZGlvT25seU92ZXJsYXksIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBBdWRpb09ubHlPdmVybGF5KGNvbmZpZykge1xyXG4gICAgICAgIGlmIChjb25maWcgPT09IHZvaWQgMCkgeyBjb25maWcgPSB7fTsgfVxyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGNvbmZpZykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5hdWRpb29ubHkgPSBbXHJcbiAgICAgICAgICAgIG5ldyBjb21wb25lbnRfMS5Db21wb25lbnQoeyB0YWc6ICdkaXYnLCBjc3NDbGFzczogJ3VpLWF1ZGlvb25seS1vdmVybGF5LWluZGljYXRvcicgfSlcclxuICAgICAgICBdO1xyXG4gICAgICAgIF90aGlzLmNvbmZpZyA9IF90aGlzLm1lcmdlQ29uZmlnKGNvbmZpZywge1xyXG4gICAgICAgICAgICBjc3NDbGFzczogJ3VpLWF1ZGlvb25seS1vdmVybGF5JyxcclxuICAgICAgICAgICAgY29tcG9uZW50czogX3RoaXMuYXVkaW9vbmx5LFxyXG4gICAgICAgICAgICBoaWRkZW46IGZhbHNlXHJcbiAgICAgICAgfSwgX3RoaXMuY29uZmlnKTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBBdWRpb09ubHlPdmVybGF5LnByb3RvdHlwZS5jb25maWd1cmUgPSBmdW5jdGlvbiAocGxheWVyLCB1aW1hbmFnZXIpIHtcclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmNvbmZpZ3VyZS5jYWxsKHRoaXMsIHBsYXllciwgdWltYW5hZ2VyKTtcclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgdmFyIGltYWdlID0gc2VsZi5nZXREb21FbGVtZW50KCkuY3NzKCdiYWNrZ3JvdW5kLWltYWdlJyk7XHJcbiAgICAgICAgLy8gSGlkZSBvdmVybGF5IHdoZW4gUGxheWVyIGlzIHBhdXNlZCwgc28gd2UgY2FuIHNlZSB0aGUgQmlnIFBsYXkgQnV0dG9uXHJcbiAgICAgICAgLy8gcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fUEFVU0VELCAoZXZlbnQpID0+IHtcclxuICAgICAgICAvLyAgIHNlbGYuZ2V0RG9tRWxlbWVudCgpLmNzcygnYmFja2dyb3VuZC1pbWFnZScsICdub25lJyk7XHJcbiAgICAgICAgLy8gfSk7XHJcbiAgICAgICAgLy8gcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fUExBWSwgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgLy8gICBzZWxmLmdldERvbUVsZW1lbnQoKS5jc3MoJ2JhY2tncm91bmQtaW1hZ2UnLCBpbWFnZSk7XHJcbiAgICAgICAgLy8gfSk7XHJcbiAgICAgICAgLy8gSGlkZSBvdmVybGF5IGlmIHBsYXllciBpcyAgcGF1c2VkIGF0IGluaXQgKGUuZy4gb24gbW9iaWxlIGRldmljZXMpXHJcbiAgICAgICAgLy8gaWYgKCFwbGF5ZXIuaXNQbGF5aW5nKCkpIHtcclxuICAgICAgICAvLyAgIHNlbGYuZ2V0RG9tRWxlbWVudCgpLmNzcygnYmFja2dyb3VuZC1pbWFnZScsICdub25lJyk7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgfTtcclxuICAgIHJldHVybiBBdWRpb09ubHlPdmVybGF5O1xyXG59KGNvbnRhaW5lcl8xLkNvbnRhaW5lcikpO1xyXG5leHBvcnRzLkF1ZGlvT25seU92ZXJsYXkgPSBBdWRpb09ubHlPdmVybGF5O1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvYXVkaW9vbmx5b3ZlcmxheS50c1xuLy8gbW9kdWxlIGlkID0gMzVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBjb21wb25lbnRfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudFwiKTtcclxudmFyIGV2ZW50ZGlzcGF0Y2hlcl8xID0gcmVxdWlyZShcIi4uL2V2ZW50ZGlzcGF0Y2hlclwiKTtcclxudmFyIHV0aWxzXzEgPSByZXF1aXJlKFwiLi4vdXRpbHNcIik7XHJcbnZhciBMaXN0U2VsZWN0b3IgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKExpc3RTZWxlY3RvciwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIExpc3RTZWxlY3Rvcihjb25maWcpIHtcclxuICAgICAgICBpZiAoY29uZmlnID09PSB2b2lkIDApIHsgY29uZmlnID0ge307IH1cclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBjb25maWcpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMubGlzdFNlbGVjdG9yRXZlbnRzID0ge1xyXG4gICAgICAgICAgICBvbkl0ZW1BZGRlZDogbmV3IGV2ZW50ZGlzcGF0Y2hlcl8xLkV2ZW50RGlzcGF0Y2hlcigpLFxyXG4gICAgICAgICAgICBvbkl0ZW1SZW1vdmVkOiBuZXcgZXZlbnRkaXNwYXRjaGVyXzEuRXZlbnREaXNwYXRjaGVyKCksXHJcbiAgICAgICAgICAgIG9uSXRlbVNlbGVjdGVkOiBuZXcgZXZlbnRkaXNwYXRjaGVyXzEuRXZlbnREaXNwYXRjaGVyKClcclxuICAgICAgICB9O1xyXG4gICAgICAgIF90aGlzLmNvbmZpZyA9IF90aGlzLm1lcmdlQ29uZmlnKGNvbmZpZywge1xyXG4gICAgICAgICAgICBpdGVtczogW10sXHJcbiAgICAgICAgICAgIGNzc0NsYXNzOiAndWktbGlzdHNlbGVjdG9yJ1xyXG4gICAgICAgIH0sIF90aGlzLmNvbmZpZyk7XHJcbiAgICAgICAgX3RoaXMuaXRlbXMgPSBfdGhpcy5jb25maWcuaXRlbXM7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgTGlzdFNlbGVjdG9yLnByb3RvdHlwZS5nZXRJdGVtSW5kZXggPSBmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgZm9yICh2YXIgaW5kZXggaW4gdGhpcy5pdGVtcykge1xyXG4gICAgICAgICAgICBpZiAoa2V5ID09PSB0aGlzLml0ZW1zW2luZGV4XS5rZXkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZUludChpbmRleCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIC0xO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2tzIGlmIHRoZSBzcGVjaWZpZWQgaXRlbSBpcyBwYXJ0IG9mIHRoaXMgc2VsZWN0b3IuXHJcbiAgICAgKiBAcGFyYW0ga2V5IHRoZSBrZXkgb2YgdGhlIGl0ZW0gdG8gY2hlY2tcclxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlmIHRoZSBpdGVtIGlzIHBhcnQgb2YgdGhpcyBzZWxlY3RvciwgZWxzZSBmYWxzZVxyXG4gICAgICovXHJcbiAgICBMaXN0U2VsZWN0b3IucHJvdG90eXBlLmhhc0l0ZW0gPSBmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0SXRlbUluZGV4KGtleSkgPiAtMTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEFkZHMgYW4gaXRlbSB0byB0aGlzIHNlbGVjdG9yIGJ5IGFwcGVuZGluZyBpdCB0byB0aGUgZW5kIG9mIHRoZSBsaXN0IG9mIGl0ZW1zLiBJZiBhbiBpdGVtIHdpdGggdGhlIHNwZWNpZmllZFxyXG4gICAgICoga2V5IGFscmVhZHkgZXhpc3RzLCBpdCBpcyByZXBsYWNlZC5cclxuICAgICAqIEBwYXJhbSBrZXkgdGhlIGtleSBvZiB0aGUgaXRlbSB0byBhZGRcclxuICAgICAqIEBwYXJhbSBsYWJlbCB0aGUgKGh1bWFuLXJlYWRhYmxlKSBsYWJlbCBvZiB0aGUgaXRlbSB0byBhZGRcclxuICAgICAqL1xyXG4gICAgTGlzdFNlbGVjdG9yLnByb3RvdHlwZS5hZGRJdGVtID0gZnVuY3Rpb24gKGtleSwgbGFiZWwpIHtcclxuICAgICAgICB0aGlzLnJlbW92ZUl0ZW0oa2V5KTsgLy8gVHJ5IHRvIHJlbW92ZSBrZXkgZmlyc3QgdG8gZ2V0IG92ZXJ3cml0ZSBiZWhhdmlvciBhbmQgYXZvaWQgZHVwbGljYXRlIGtleXNcclxuICAgICAgICB0aGlzLml0ZW1zLnB1c2goeyBrZXk6IGtleSwgbGFiZWw6IGxhYmVsIH0pO1xyXG4gICAgICAgIHRoaXMub25JdGVtQWRkZWRFdmVudChrZXkpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUmVtb3ZlcyBhbiBpdGVtIGZyb20gdGhpcyBzZWxlY3Rvci5cclxuICAgICAqIEBwYXJhbSBrZXkgdGhlIGtleSBvZiB0aGUgaXRlbSB0byByZW1vdmVcclxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlmIHJlbW92YWwgd2FzIHN1Y2Nlc3NmdWwsIGZhbHNlIGlmIHRoZSBpdGVtIGlzIG5vdCBwYXJ0IG9mIHRoaXMgc2VsZWN0b3JcclxuICAgICAqL1xyXG4gICAgTGlzdFNlbGVjdG9yLnByb3RvdHlwZS5yZW1vdmVJdGVtID0gZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgIHZhciBpbmRleCA9IHRoaXMuZ2V0SXRlbUluZGV4KGtleSk7XHJcbiAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcclxuICAgICAgICAgICAgdXRpbHNfMS5BcnJheVV0aWxzLnJlbW92ZSh0aGlzLml0ZW1zLCB0aGlzLml0ZW1zW2luZGV4XSk7XHJcbiAgICAgICAgICAgIHRoaXMub25JdGVtUmVtb3ZlZEV2ZW50KGtleSk7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBTZWxlY3RzIGFuIGl0ZW0gZnJvbSB0aGUgaXRlbXMgaW4gdGhpcyBzZWxlY3Rvci5cclxuICAgICAqIEBwYXJhbSBrZXkgdGhlIGtleSBvZiB0aGUgaXRlbSB0byBzZWxlY3RcclxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlzIHRoZSBzZWxlY3Rpb24gd2FzIHN1Y2Nlc3NmdWwsIGZhbHNlIGlmIHRoZSBzZWxlY3RlZCBpdGVtIGlzIG5vdCBwYXJ0IG9mIHRoZSBzZWxlY3RvclxyXG4gICAgICovXHJcbiAgICBMaXN0U2VsZWN0b3IucHJvdG90eXBlLnNlbGVjdEl0ZW0gPSBmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgaWYgKGtleSA9PT0gdGhpcy5zZWxlY3RlZEl0ZW0pIHtcclxuICAgICAgICAgICAgLy8gaXRlbUNvbmZpZyBpcyBhbHJlYWR5IHNlbGVjdGVkLCBzdXBwcmVzcyBhbnkgZnVydGhlciBhY3Rpb25cclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBpbmRleCA9IHRoaXMuZ2V0SXRlbUluZGV4KGtleSk7XHJcbiAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEl0ZW0gPSBrZXk7XHJcbiAgICAgICAgICAgIHRoaXMub25JdGVtU2VsZWN0ZWRFdmVudChrZXkpO1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0aGUga2V5IG9mIHRoZSBzZWxlY3RlZCBpdGVtLlxyXG4gICAgICogQHJldHVybnMge3N0cmluZ30gdGhlIGtleSBvZiB0aGUgc2VsZWN0ZWQgaXRlbSBvciBudWxsIGlmIG5vIGl0ZW0gaXMgc2VsZWN0ZWRcclxuICAgICAqL1xyXG4gICAgTGlzdFNlbGVjdG9yLnByb3RvdHlwZS5nZXRTZWxlY3RlZEl0ZW0gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0ZWRJdGVtO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUmVtb3ZlcyBhbGwgaXRlbXMgZnJvbSB0aGlzIHNlbGVjdG9yLlxyXG4gICAgICovXHJcbiAgICBMaXN0U2VsZWN0b3IucHJvdG90eXBlLmNsZWFySXRlbXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGl0ZW1zID0gdGhpcy5pdGVtczsgLy8gbG9jYWwgY29weSBmb3IgaXRlcmF0aW9uIGFmdGVyIGNsZWFyXHJcbiAgICAgICAgdGhpcy5pdGVtcyA9IFtdOyAvLyBjbGVhciBpdGVtc1xyXG4gICAgICAgIC8vIGZpcmUgZXZlbnRzXHJcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBpdGVtc18xID0gaXRlbXM7IF9pIDwgaXRlbXNfMS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgdmFyIGl0ZW0gPSBpdGVtc18xW19pXTtcclxuICAgICAgICAgICAgdGhpcy5vbkl0ZW1SZW1vdmVkRXZlbnQoaXRlbS5rZXkpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdGhlIG51bWJlciBvZiBpdGVtcyBpbiB0aGlzIHNlbGVjdG9yLlxyXG4gICAgICogQHJldHVybnMge251bWJlcn1cclxuICAgICAqL1xyXG4gICAgTGlzdFNlbGVjdG9yLnByb3RvdHlwZS5pdGVtQ291bnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuaXRlbXMpLmxlbmd0aDtcclxuICAgIH07XHJcbiAgICBMaXN0U2VsZWN0b3IucHJvdG90eXBlLm9uSXRlbUFkZGVkRXZlbnQgPSBmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgdGhpcy5saXN0U2VsZWN0b3JFdmVudHMub25JdGVtQWRkZWQuZGlzcGF0Y2godGhpcywga2V5KTtcclxuICAgIH07XHJcbiAgICBMaXN0U2VsZWN0b3IucHJvdG90eXBlLm9uSXRlbVJlbW92ZWRFdmVudCA9IGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICB0aGlzLmxpc3RTZWxlY3RvckV2ZW50cy5vbkl0ZW1SZW1vdmVkLmRpc3BhdGNoKHRoaXMsIGtleSk7XHJcbiAgICB9O1xyXG4gICAgTGlzdFNlbGVjdG9yLnByb3RvdHlwZS5vbkl0ZW1TZWxlY3RlZEV2ZW50ID0gZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgIHRoaXMubGlzdFNlbGVjdG9yRXZlbnRzLm9uSXRlbVNlbGVjdGVkLmRpc3BhdGNoKHRoaXMsIGtleSk7XHJcbiAgICB9O1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KExpc3RTZWxlY3Rvci5wcm90b3R5cGUsIFwib25JdGVtQWRkZWRcIiwge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEdldHMgdGhlIGV2ZW50IHRoYXQgaXMgZmlyZWQgd2hlbiBhbiBpdGVtIGlzIGFkZGVkIHRvIHRoZSBsaXN0IG9mIGl0ZW1zLlxyXG4gICAgICAgICAqIEByZXR1cm5zIHtFdmVudDxMaXN0U2VsZWN0b3I8Q29uZmlnPiwgc3RyaW5nPn1cclxuICAgICAgICAgKi9cclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGlzdFNlbGVjdG9yRXZlbnRzLm9uSXRlbUFkZGVkLmdldEV2ZW50KCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTGlzdFNlbGVjdG9yLnByb3RvdHlwZSwgXCJvbkl0ZW1SZW1vdmVkXCIsIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBHZXRzIHRoZSBldmVudCB0aGF0IGlzIGZpcmVkIHdoZW4gYW4gaXRlbSBpcyByZW1vdmVkIGZyb20gdGhlIGxpc3Qgb2YgaXRlbXMuXHJcbiAgICAgICAgICogQHJldHVybnMge0V2ZW50PExpc3RTZWxlY3RvcjxDb25maWc+LCBzdHJpbmc+fVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5saXN0U2VsZWN0b3JFdmVudHMub25JdGVtUmVtb3ZlZC5nZXRFdmVudCgpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KExpc3RTZWxlY3Rvci5wcm90b3R5cGUsIFwib25JdGVtU2VsZWN0ZWRcIiwge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEdldHMgdGhlIGV2ZW50IHRoYXQgaXMgZmlyZWQgd2hlbiBhbiBpdGVtIGlzIHNlbGVjdGVkIGZyb20gdGhlIGxpc3Qgb2YgaXRlbXMuXHJcbiAgICAgICAgICogQHJldHVybnMge0V2ZW50PExpc3RTZWxlY3RvcjxDb25maWc+LCBzdHJpbmc+fVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5saXN0U2VsZWN0b3JFdmVudHMub25JdGVtU2VsZWN0ZWQuZ2V0RXZlbnQoKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIHJldHVybiBMaXN0U2VsZWN0b3I7XHJcbn0oY29tcG9uZW50XzEuQ29tcG9uZW50KSk7XHJcbmV4cG9ydHMuTGlzdFNlbGVjdG9yID0gTGlzdFNlbGVjdG9yO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvbGlzdHNlbGVjdG9yLnRzXG4vLyBtb2R1bGUgaWQgPSAzNlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIHNlbGVjdGJveF8xID0gcmVxdWlyZShcIi4vc2VsZWN0Ym94XCIpO1xyXG4vKipcclxuICogQSBzZWxlY3QgYm94IHByb3ZpZGluZyBhIHNlbGVjdGlvbiBiZXR3ZWVuICdhdXRvJyBhbmQgdGhlIGF2YWlsYWJsZSB2aWRlbyBxdWFsaXRpZXMuXHJcbiAqL1xyXG52YXIgVmlkZW9RdWFsaXR5U2VsZWN0Qm94ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhWaWRlb1F1YWxpdHlTZWxlY3RCb3gsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBWaWRlb1F1YWxpdHlTZWxlY3RCb3goY29uZmlnKSB7XHJcbiAgICAgICAgaWYgKGNvbmZpZyA9PT0gdm9pZCAwKSB7IGNvbmZpZyA9IHt9OyB9XHJcbiAgICAgICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMsIGNvbmZpZykgfHwgdGhpcztcclxuICAgIH1cclxuICAgIFZpZGVvUXVhbGl0eVNlbGVjdEJveC5wcm90b3R5cGUuY29uZmlndXJlID0gZnVuY3Rpb24gKHBsYXllciwgdWltYW5hZ2VyKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmNvbmZpZ3VyZS5jYWxsKHRoaXMsIHBsYXllciwgdWltYW5hZ2VyKTtcclxuICAgICAgICB2YXIgdXBkYXRlVmlkZW9RdWFsaXRpZXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciB2aWRlb1F1YWxpdGllcyA9IHBsYXllci5nZXRBdmFpbGFibGVWaWRlb1F1YWxpdGllcygpO1xyXG4gICAgICAgICAgICBfdGhpcy5jbGVhckl0ZW1zKCk7XHJcbiAgICAgICAgICAgIC8vIEFkZCBlbnRyeSBmb3IgYXV0b21hdGljIHF1YWxpdHkgc3dpdGNoaW5nIChkZWZhdWx0IHNldHRpbmcpXHJcbiAgICAgICAgICAgIF90aGlzLmFkZEl0ZW0oJ2F1dG8nLCAnYXV0bycpO1xyXG4gICAgICAgICAgICAvLyBBZGQgdmlkZW8gcXVhbGl0aWVzXHJcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgdmlkZW9RdWFsaXRpZXNfMSA9IHZpZGVvUXVhbGl0aWVzOyBfaSA8IHZpZGVvUXVhbGl0aWVzXzEubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdmlkZW9RdWFsaXR5ID0gdmlkZW9RdWFsaXRpZXNfMVtfaV07XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5hZGRJdGVtKHZpZGVvUXVhbGl0eS5pZCwgdmlkZW9RdWFsaXR5LmxhYmVsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5vbkl0ZW1TZWxlY3RlZC5zdWJzY3JpYmUoZnVuY3Rpb24gKHNlbmRlciwgdmFsdWUpIHtcclxuICAgICAgICAgICAgcGxheWVyLnNldFZpZGVvUXVhbGl0eSh2YWx1ZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gVXBkYXRlIHF1YWxpdGllcyB3aGVuIHNvdXJjZSBnb2VzIGF3YXlcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9TT1VSQ0VfVU5MT0FERUQsIHVwZGF0ZVZpZGVvUXVhbGl0aWVzKTtcclxuICAgICAgICAvLyBVcGRhdGUgcXVhbGl0aWVzIHdoZW4gYSBuZXcgc291cmNlIGlzIGxvYWRlZFxyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1JFQURZLCB1cGRhdGVWaWRlb1F1YWxpdGllcyk7XHJcbiAgICAgICAgLy8gVXBkYXRlIHF1YWxpdHkgc2VsZWN0aW9uIHdoZW4gcXVhbGl0eSBpcyBjaGFuZ2VkIChmcm9tIG91dHNpZGUpXHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fVklERU9fRE9XTkxPQURfUVVBTElUWV9DSEFOR0UsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGRhdGEgPSBwbGF5ZXIuZ2V0RG93bmxvYWRlZFZpZGVvRGF0YSgpO1xyXG4gICAgICAgICAgICBfdGhpcy5zZWxlY3RJdGVtKGRhdGEuaXNBdXRvID8gJ2F1dG8nIDogZGF0YS5pZCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gUG9wdWxhdGUgcXVhbGl0aWVzIGF0IHN0YXJ0dXBcclxuICAgICAgICB1cGRhdGVWaWRlb1F1YWxpdGllcygpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBWaWRlb1F1YWxpdHlTZWxlY3RCb3g7XHJcbn0oc2VsZWN0Ym94XzEuU2VsZWN0Qm94KSk7XHJcbmV4cG9ydHMuVmlkZW9RdWFsaXR5U2VsZWN0Qm94ID0gVmlkZW9RdWFsaXR5U2VsZWN0Qm94O1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvdmlkZW9xdWFsaXR5c2VsZWN0Ym94LnRzXG4vLyBtb2R1bGUgaWQgPSAzN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGNsaWNrb3ZlcmxheV8xID0gcmVxdWlyZShcIi4vY2xpY2tvdmVybGF5XCIpO1xyXG4vKipcclxuICogQSB3YXRlcm1hcmsgb3ZlcmxheSB3aXRoIGEgY2xpY2thYmxlIGxvZ28uXHJcbiAqL1xyXG52YXIgV2F0ZXJtYXJrID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhXYXRlcm1hcmssIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBXYXRlcm1hcmsoY29uZmlnKSB7XHJcbiAgICAgICAgaWYgKGNvbmZpZyA9PT0gdm9pZCAwKSB7IGNvbmZpZyA9IHt9OyB9XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgY29uZmlnKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLmNvbmZpZyA9IF90aGlzLm1lcmdlQ29uZmlnKGNvbmZpZywge1xyXG4gICAgICAgICAgICBjc3NDbGFzczogJ3VpLXdhdGVybWFyaycsXHJcbiAgICAgICAgICAgIHVybDogJ2h0dHBzOi8vd3d3Lm1vdmluZ2ltYWdlLmNvbSdcclxuICAgICAgICB9LCBfdGhpcy5jb25maWcpO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIHJldHVybiBXYXRlcm1hcms7XHJcbn0oY2xpY2tvdmVybGF5XzEuQ2xpY2tPdmVybGF5KSk7XHJcbmV4cG9ydHMuV2F0ZXJtYXJrID0gV2F0ZXJtYXJrO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvd2F0ZXJtYXJrLnRzXG4vLyBtb2R1bGUgaWQgPSAzOFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGNvbnRhaW5lcl8xID0gcmVxdWlyZShcIi4vY29udGFpbmVyXCIpO1xyXG52YXIgbWV0YWRhdGFsYWJlbF8xID0gcmVxdWlyZShcIi4vbWV0YWRhdGFsYWJlbFwiKTtcclxuLyoqXHJcbiAqIERpc3BsYXlzIGEgdGl0bGUgYmFyIGNvbnRhaW5pbmcgYSBsYWJlbCB3aXRoIHRoZSB0aXRsZSBvZiB0aGUgdmlkZW8uXHJcbiAqL1xyXG52YXIgVGl0bGVCYXIgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKFRpdGxlQmFyLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gVGl0bGVCYXIoY29uZmlnKSB7XHJcbiAgICAgICAgaWYgKGNvbmZpZyA9PT0gdm9pZCAwKSB7IGNvbmZpZyA9IHt9OyB9XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgY29uZmlnKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLmNvbmZpZyA9IF90aGlzLm1lcmdlQ29uZmlnKGNvbmZpZywge1xyXG4gICAgICAgICAgICBjc3NDbGFzczogJ3VpLXRpdGxlYmFyJyxcclxuICAgICAgICAgICAgaGlkZGVuOiB0cnVlLFxyXG4gICAgICAgICAgICBjb21wb25lbnRzOiBbXHJcbiAgICAgICAgICAgICAgICBuZXcgbWV0YWRhdGFsYWJlbF8xLk1ldGFkYXRhTGFiZWwoeyBjb250ZW50OiBtZXRhZGF0YWxhYmVsXzEuTWV0YWRhdGFMYWJlbENvbnRlbnQuVGl0bGUgfSksXHJcbiAgICAgICAgICAgICAgICBuZXcgbWV0YWRhdGFsYWJlbF8xLk1ldGFkYXRhTGFiZWwoeyBjb250ZW50OiBtZXRhZGF0YWxhYmVsXzEuTWV0YWRhdGFMYWJlbENvbnRlbnQuRGVzY3JpcHRpb24gfSlcclxuICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAga2VlcEhpZGRlbldpdGhvdXRNZXRhZGF0YTogZmFsc2UsXHJcbiAgICAgICAgfSwgX3RoaXMuY29uZmlnKTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBUaXRsZUJhci5wcm90b3R5cGUuY29uZmlndXJlID0gZnVuY3Rpb24gKHBsYXllciwgdWltYW5hZ2VyKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmNvbmZpZ3VyZS5jYWxsKHRoaXMsIHBsYXllciwgdWltYW5hZ2VyKTtcclxuICAgICAgICB2YXIgY29uZmlnID0gdGhpcy5nZXRDb25maWcoKTtcclxuICAgICAgICB2YXIgc2hvdWxkQmVTaG93biA9ICF0aGlzLmlzSGlkZGVuKCk7XHJcbiAgICAgICAgdmFyIGhhc01ldGFkYXRhVGV4dCA9IHRydWU7IC8vIEZsYWcgdG8gdHJhY2sgaWYgYW55IG1ldGFkYXRhIGxhYmVsIGNvbnRhaW5zIHRleHRcclxuICAgICAgICB2YXIgY2hlY2tNZXRhZGF0YVRleHRBbmRVcGRhdGVWaXNpYmlsaXR5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBoYXNNZXRhZGF0YVRleHQgPSBmYWxzZTtcclxuICAgICAgICAgICAgLy8gSXRlcmF0ZSB0aHJvdWdoIG1ldGFkYXRhIGxhYmVscyBhbmQgY2hlY2sgaWYgYXQgbGVhc3Qgb25lIG9mIHRoZW0gY29udGFpbnMgdGV4dFxyXG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gX3RoaXMuZ2V0Q29tcG9uZW50cygpOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNvbXBvbmVudCA9IF9hW19pXTtcclxuICAgICAgICAgICAgICAgIGlmIChjb21wb25lbnQgaW5zdGFuY2VvZiBtZXRhZGF0YWxhYmVsXzEuTWV0YWRhdGFMYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghY29tcG9uZW50LmlzRW1wdHkoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBoYXNNZXRhZGF0YVRleHQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKF90aGlzLmlzU2hvd24oKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gSGlkZSBhIHZpc2libGUgdGl0bGViYXIgaWYgaXQgZG9lcyBub3QgY29udGFpbiBhbnkgdGV4dCBhbmQgdGhlIGhpZGRlbiBmbGFnIGlzIHNldFxyXG4gICAgICAgICAgICAgICAgaWYgKGNvbmZpZy5rZWVwSGlkZGVuV2l0aG91dE1ldGFkYXRhICYmICFoYXNNZXRhZGF0YVRleHQpIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoc2hvdWxkQmVTaG93bikge1xyXG4gICAgICAgICAgICAgICAgLy8gU2hvdyBhIGhpZGRlbiB0aXRsZWJhciBpZiBpdCBzaG91bGQgYWN0dWFsbHkgYmUgc2hvd25cclxuICAgICAgICAgICAgICAgIF90aGlzLnNob3coKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgLy8gTGlzdGVuIHRvIHRleHQgY2hhbmdlIGV2ZW50cyB0byB1cGRhdGUgdGhlIGhhc01ldGFkYXRhVGV4dCBmbGFnIHdoZW4gdGhlIG1ldGFkYXRhIGR5bmFtaWNhbGx5IGNoYW5nZXNcclxuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gdGhpcy5nZXRDb21wb25lbnRzKCk7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBjb21wb25lbnQgPSBfYVtfaV07XHJcbiAgICAgICAgICAgIGlmIChjb21wb25lbnQgaW5zdGFuY2VvZiBtZXRhZGF0YWxhYmVsXzEuTWV0YWRhdGFMYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgY29tcG9uZW50Lm9uVGV4dENoYW5nZWQuc3Vic2NyaWJlKGNoZWNrTWV0YWRhdGFUZXh0QW5kVXBkYXRlVmlzaWJpbGl0eSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdWltYW5hZ2VyLm9uQ29udHJvbHNTaG93LnN1YnNjcmliZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHNob3VsZEJlU2hvd24gPSB0cnVlO1xyXG4gICAgICAgICAgICBpZiAoIShjb25maWcua2VlcEhpZGRlbldpdGhvdXRNZXRhZGF0YSAmJiAhaGFzTWV0YWRhdGFUZXh0KSkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuc2hvdygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdWltYW5hZ2VyLm9uQ29udHJvbHNIaWRlLnN1YnNjcmliZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHNob3VsZEJlU2hvd24gPSBmYWxzZTtcclxuICAgICAgICAgICAgX3RoaXMuaGlkZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIGluaXRcclxuICAgICAgICBjaGVja01ldGFkYXRhVGV4dEFuZFVwZGF0ZVZpc2liaWxpdHkoKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gVGl0bGVCYXI7XHJcbn0oY29udGFpbmVyXzEuQ29udGFpbmVyKSk7XHJcbmV4cG9ydHMuVGl0bGVCYXIgPSBUaXRsZUJhcjtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3RpdGxlYmFyLnRzXG4vLyBtb2R1bGUgaWQgPSAzOVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGJ1dHRvbl8xID0gcmVxdWlyZShcIi4vYnV0dG9uXCIpO1xyXG52YXIgZG9tXzEgPSByZXF1aXJlKFwiLi4vZG9tXCIpO1xyXG4vKipcclxuICogQSBidXR0b24gdG8gcGxheS9yZXBsYXkgYSB2aWRlby5cclxuICovXHJcbnZhciBIdWdlUmVwbGF5QnV0dG9uID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhIdWdlUmVwbGF5QnV0dG9uLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gSHVnZVJlcGxheUJ1dHRvbihjb25maWcpIHtcclxuICAgICAgICBpZiAoY29uZmlnID09PSB2b2lkIDApIHsgY29uZmlnID0ge307IH1cclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBjb25maWcpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMuY29uZmlnID0gX3RoaXMubWVyZ2VDb25maWcoY29uZmlnLCB7XHJcbiAgICAgICAgICAgIGNzc0NsYXNzOiAndWktaHVnZXJlcGxheWJ1dHRvbicsXHJcbiAgICAgICAgICAgIHRleHQ6ICdSZXBsYXknXHJcbiAgICAgICAgfSwgX3RoaXMuY29uZmlnKTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBIdWdlUmVwbGF5QnV0dG9uLnByb3RvdHlwZS5jb25maWd1cmUgPSBmdW5jdGlvbiAocGxheWVyLCB1aW1hbmFnZXIpIHtcclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmNvbmZpZ3VyZS5jYWxsKHRoaXMsIHBsYXllciwgdWltYW5hZ2VyKTtcclxuICAgICAgICB0aGlzLm9uQ2xpY2suc3Vic2NyaWJlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcGxheWVyLnBsYXkoJ3VpLW92ZXJsYXknKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBIdWdlUmVwbGF5QnV0dG9uLnByb3RvdHlwZS50b0RvbUVsZW1lbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGJ1dHRvbkVsZW1lbnQgPSBfc3VwZXIucHJvdG90eXBlLnRvRG9tRWxlbWVudC5jYWxsKHRoaXMpO1xyXG4gICAgICAgIC8vIEFkZCBjaGlsZCB0aGF0IGNvbnRhaW5zIHRoZSBwbGF5IGJ1dHRvbiBpbWFnZVxyXG4gICAgICAgIC8vIFNldHRpbmcgdGhlIGltYWdlIGRpcmVjdGx5IG9uIHRoZSBidXR0b24gZG9lcyBub3Qgd29yayB0b2dldGhlciB3aXRoIHNjYWxpbmcgYW5pbWF0aW9ucywgYmVjYXVzZSB0aGUgYnV0dG9uXHJcbiAgICAgICAgLy8gY2FuIGNvdmVyIHRoZSB3aG9sZSB2aWRlbyBwbGF5ZXIgYXJlIGFuZCBzY2FsaW5nIHdvdWxkIGV4dGVuZCBpdCBiZXlvbmQuIEJ5IGFkZGluZyBhbiBpbm5lciBlbGVtZW50LCBjb25maW5lZFxyXG4gICAgICAgIC8vIHRvIHRoZSBzaXplIGlmIHRoZSBpbWFnZSwgaXQgY2FuIHNjYWxlIGluc2lkZSB0aGUgcGxheWVyIHdpdGhvdXQgb3ZlcnNob290aW5nLlxyXG4gICAgICAgIGJ1dHRvbkVsZW1lbnQuYXBwZW5kKG5ldyBkb21fMS5ET00oJ2RpdicsIHtcclxuICAgICAgICAgICAgJ2NsYXNzJzogdGhpcy5wcmVmaXhDc3MoJ2ltYWdlJylcclxuICAgICAgICB9KSk7XHJcbiAgICAgICAgcmV0dXJuIGJ1dHRvbkVsZW1lbnQ7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEh1Z2VSZXBsYXlCdXR0b247XHJcbn0oYnV0dG9uXzEuQnV0dG9uKSk7XHJcbmV4cG9ydHMuSHVnZVJlcGxheUJ1dHRvbiA9IEh1Z2VSZXBsYXlCdXR0b247XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9odWdlcmVwbGF5YnV0dG9uLnRzXG4vLyBtb2R1bGUgaWQgPSA0MFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGNvbnRhaW5lcl8xID0gcmVxdWlyZShcIi4vY29udGFpbmVyXCIpO1xyXG52YXIgY29tcG9uZW50XzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRcIik7XHJcbnZhciB0aW1lb3V0XzEgPSByZXF1aXJlKFwiLi4vdGltZW91dFwiKTtcclxuLyoqXHJcbiAqIE92ZXJsYXlzIHRoZSBwbGF5ZXIgYW5kIGRpc3BsYXlzIGEgYnVmZmVyaW5nIGluZGljYXRvci5cclxuICovXHJcbnZhciBCdWZmZXJpbmdPdmVybGF5ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhCdWZmZXJpbmdPdmVybGF5LCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gQnVmZmVyaW5nT3ZlcmxheShjb25maWcpIHtcclxuICAgICAgICBpZiAoY29uZmlnID09PSB2b2lkIDApIHsgY29uZmlnID0ge307IH1cclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBjb25maWcpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMuaW5kaWNhdG9ycyA9IFtcclxuICAgICAgICAgICAgbmV3IGNvbXBvbmVudF8xLkNvbXBvbmVudCh7IHRhZzogJ2RpdicsIGNzc0NsYXNzOiAndWktYnVmZmVyaW5nLW92ZXJsYXktaW5kaWNhdG9yJyB9KSxcclxuICAgICAgICAgICAgbmV3IGNvbXBvbmVudF8xLkNvbXBvbmVudCh7IHRhZzogJ2RpdicsIGNzc0NsYXNzOiAndWktYnVmZmVyaW5nLW92ZXJsYXktaW5kaWNhdG9yJyB9KSxcclxuICAgICAgICAgICAgbmV3IGNvbXBvbmVudF8xLkNvbXBvbmVudCh7IHRhZzogJ2RpdicsIGNzc0NsYXNzOiAndWktYnVmZmVyaW5nLW92ZXJsYXktaW5kaWNhdG9yJyB9KSxcclxuICAgICAgICBdO1xyXG4gICAgICAgIF90aGlzLmNvbmZpZyA9IF90aGlzLm1lcmdlQ29uZmlnKGNvbmZpZywge1xyXG4gICAgICAgICAgICBjc3NDbGFzczogJ3VpLWJ1ZmZlcmluZy1vdmVybGF5JyxcclxuICAgICAgICAgICAgaGlkZGVuOiB0cnVlLFxyXG4gICAgICAgICAgICBjb21wb25lbnRzOiBfdGhpcy5pbmRpY2F0b3JzLFxyXG4gICAgICAgICAgICBzaG93RGVsYXlNczogMTAwMCxcclxuICAgICAgICB9LCBfdGhpcy5jb25maWcpO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIEJ1ZmZlcmluZ092ZXJsYXkucHJvdG90eXBlLmNvbmZpZ3VyZSA9IGZ1bmN0aW9uIChwbGF5ZXIsIHVpbWFuYWdlcikge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5jb25maWd1cmUuY2FsbCh0aGlzLCBwbGF5ZXIsIHVpbWFuYWdlcik7XHJcbiAgICAgICAgdmFyIGNvbmZpZyA9IHRoaXMuZ2V0Q29uZmlnKCk7XHJcbiAgICAgICAgdmFyIG92ZXJsYXlTaG93VGltZW91dCA9IG5ldyB0aW1lb3V0XzEuVGltZW91dChjb25maWcuc2hvd0RlbGF5TXMsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgX3RoaXMuc2hvdygpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHZhciBzaG93T3ZlcmxheSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgb3ZlcmxheVNob3dUaW1lb3V0LnN0YXJ0KCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB2YXIgaGlkZU92ZXJsYXkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIG92ZXJsYXlTaG93VGltZW91dC5jbGVhcigpO1xyXG4gICAgICAgICAgICBfdGhpcy5oaWRlKCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9TVEFMTF9TVEFSVEVELCBzaG93T3ZlcmxheSk7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fU1RBTExfRU5ERUQsIGhpZGVPdmVybGF5KTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9TT1VSQ0VfVU5MT0FERUQsIGhpZGVPdmVybGF5KTtcclxuICAgICAgICAvLyBTaG93IG92ZXJsYXkgaWYgcGxheWVyIGlzIGFscmVhZHkgc3RhbGxlZCBhdCBpbml0XHJcbiAgICAgICAgaWYgKHBsYXllci5pc1N0YWxsZWQoKSkge1xyXG4gICAgICAgICAgICB0aGlzLnNob3coKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEJ1ZmZlcmluZ092ZXJsYXk7XHJcbn0oY29udGFpbmVyXzEuQ29udGFpbmVyKSk7XHJcbmV4cG9ydHMuQnVmZmVyaW5nT3ZlcmxheSA9IEJ1ZmZlcmluZ092ZXJsYXk7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9idWZmZXJpbmdvdmVybGF5LnRzXG4vLyBtb2R1bGUgaWQgPSA0MVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGJ1dHRvbl8xID0gcmVxdWlyZShcIi4vYnV0dG9uXCIpO1xyXG4vKipcclxuICogQSBidXR0b24gdGhhdCBjbG9zZXMgKGhpZGVzKSBhIGNvbmZpZ3VyZWQgY29tcG9uZW50LlxyXG4gKi9cclxudmFyIENsb3NlQnV0dG9uID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhDbG9zZUJ1dHRvbiwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIENsb3NlQnV0dG9uKGNvbmZpZykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGNvbmZpZykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5jb25maWcgPSBfdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIHtcclxuICAgICAgICAgICAgY3NzQ2xhc3M6ICd1aS1jbG9zZWJ1dHRvbicsXHJcbiAgICAgICAgICAgIHRleHQ6ICdDbG9zZSdcclxuICAgICAgICB9LCBfdGhpcy5jb25maWcpO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIENsb3NlQnV0dG9uLnByb3RvdHlwZS5jb25maWd1cmUgPSBmdW5jdGlvbiAocGxheWVyLCB1aW1hbmFnZXIpIHtcclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmNvbmZpZ3VyZS5jYWxsKHRoaXMsIHBsYXllciwgdWltYW5hZ2VyKTtcclxuICAgICAgICB2YXIgY29uZmlnID0gdGhpcy5nZXRDb25maWcoKTtcclxuICAgICAgICB0aGlzLm9uQ2xpY2suc3Vic2NyaWJlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgY29uZmlnLnRhcmdldC5oaWRlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIENsb3NlQnV0dG9uO1xyXG59KGJ1dHRvbl8xLkJ1dHRvbikpO1xyXG5leHBvcnRzLkNsb3NlQnV0dG9uID0gQ2xvc2VCdXR0b247XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9jbG9zZWJ1dHRvbi50c1xuLy8gbW9kdWxlIGlkID0gNDJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLyohIEhpdmUgU3RhdHMgUGFjayBidWlsZCAzLjIuMCBDb3B5cmlnaHQoYykgMjAxNSBIaXZlU3RyZWFtaW5nIEFCLCBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogQXV0aG9yczogbWlrYWVsLmhvZ3F2aXN0QGhpdmVzdHJlYW1pbmcuY29tIC0gcmljY2FyZG8ucmVhbGVAaGl2ZXN0cmVhbWluZy5jb20gLSByb2JlcnRvLnJvdmVyc29AaGl2ZXN0cmVhbWluZy5jb20gKi9cbi8qISBBdGF0dXNKcyAtIHYyLjMuMTIgLSAyMDE2LTA3LTAzXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTYgQXRhdHVzICovXG4hZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhLGIpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYSxiKX1mdW5jdGlvbiBjKGEpe3JldHVyblwidW5kZWZpbmVkXCI9PXR5cGVvZiBhfWlmKGEpe3ZhciBkPXt9LGU9YS5UcmFjZUtpdCxmPVtdLnNsaWNlLGc9XCI/XCI7ZC5ub0NvbmZsaWN0PWZ1bmN0aW9uKCl7cmV0dXJuIGEuVHJhY2VLaXQ9ZSxkfSxkLndyYXA9ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYigpe3RyeXtyZXR1cm4gYS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9Y2F0Y2goYil7dGhyb3cgZC5yZXBvcnQoYiksYn19cmV0dXJuIGJ9LGQucmVwb3J0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYyhhKXtpKCksbS5wdXNoKGEpfWZ1bmN0aW9uIGUoYSl7Zm9yKHZhciBiPW0ubGVuZ3RoLTE7Yj49MDstLWIpbVtiXT09PWEmJm0uc3BsaWNlKGIsMSl9ZnVuY3Rpb24gZyhhLGMpe3ZhciBlPW51bGw7aWYoIWN8fGQuY29sbGVjdFdpbmRvd0Vycm9ycyl7Zm9yKHZhciBnIGluIG0paWYoYihtLGcpKXRyeXttW2ddLmFwcGx5KG51bGwsW2FdLmNvbmNhdChmLmNhbGwoYXJndW1lbnRzLDIpKSl9Y2F0Y2goaCl7ZT1ofWlmKGUpdGhyb3cgZX19ZnVuY3Rpb24gaChhLGIsYyxlLGYpe3ZhciBoPW51bGw7aWYoZiloPWQuY29tcHV0ZVN0YWNrVHJhY2UoZik7ZWxzZSBpZihvKWQuY29tcHV0ZVN0YWNrVHJhY2UuYXVnbWVudFN0YWNrVHJhY2VXaXRoSW5pdGlhbEVsZW1lbnQobyxiLGMsYSksaD1vLG89bnVsbCxuPW51bGw7ZWxzZXt2YXIgaT17dXJsOmIsbGluZTpjLGNvbHVtbjplfTtpLmZ1bmM9ZC5jb21wdXRlU3RhY2tUcmFjZS5ndWVzc0Z1bmN0aW9uTmFtZShpLnVybCxpLmxpbmUpLGkuY29udGV4dD1kLmNvbXB1dGVTdGFja1RyYWNlLmdhdGhlckNvbnRleHQoaS51cmwsaS5saW5lKSxoPXttb2RlOlwib25lcnJvclwiLG1lc3NhZ2U6YSx1cmw6ZG9jdW1lbnQubG9jYXRpb24uaHJlZixzdGFjazpbaV0sdXNlcmFnZW50Om5hdmlnYXRvci51c2VyQWdlbnR9fXJldHVybiBnKGgsXCJmcm9tIHdpbmRvdy5vbmVycm9yXCIpLGs/ay5hcHBseSh0aGlzLGFyZ3VtZW50cyk6ITF9ZnVuY3Rpb24gaSgpe2whPT0hMCYmKGs9YS5vbmVycm9yLGEub25lcnJvcj1oLGw9ITApfWZ1bmN0aW9uIGooYil7dmFyIGM9Zi5jYWxsKGFyZ3VtZW50cywxKTtpZihvKXtpZihuPT09YilyZXR1cm47dmFyIGU9bztvPW51bGwsbj1udWxsLGcuYXBwbHkobnVsbCxbZSxudWxsXS5jb25jYXQoYykpfXZhciBoPWQuY29tcHV0ZVN0YWNrVHJhY2UoYik7dGhyb3cgbz1oLG49YixhLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtuPT09YiYmKG89bnVsbCxuPW51bGwsZy5hcHBseShudWxsLFtoLG51bGxdLmNvbmNhdChjKSkpfSxoLmluY29tcGxldGU/MmUzOjApLGJ9dmFyIGssbCxtPVtdLG49bnVsbCxvPW51bGw7cmV0dXJuIGouc3Vic2NyaWJlPWMsai51bnN1YnNjcmliZT1lLGp9KCksZC5jb21wdXRlU3RhY2tUcmFjZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoYil7aWYoIWQucmVtb3RlRmV0Y2hpbmcpcmV0dXJuXCJcIjt0cnl7dmFyIGM9ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIG5ldyBhLlhNTEh0dHBSZXF1ZXN0fWNhdGNoKGIpe3JldHVybiBuZXcgYS5BY3RpdmVYT2JqZWN0KFwiTWljcm9zb2Z0LlhNTEhUVFBcIil9fSxlPWMoKTtyZXR1cm4gZS5vcGVuKFwiR0VUXCIsYiwhMSksZS5zZW5kKFwiXCIpLGUucmVzcG9uc2VUZXh0fWNhdGNoKGYpe3JldHVyblwiXCJ9fWZ1bmN0aW9uIGYoYSl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGEpcmV0dXJuW107aWYoIWIodyxhKSl7dmFyIGM9XCJcIixkPVwiXCI7dHJ5e2Q9ZG9jdW1lbnQuZG9tYWlufWNhdGNoKGYpe30tMSE9PWEuaW5kZXhPZihkKSYmKGM9ZShhKSksd1thXT1jP2Muc3BsaXQoXCJcXG5cIik6W119cmV0dXJuIHdbYV19ZnVuY3Rpb24gaChhLGIpe3ZhciBkLGU9L2Z1bmN0aW9uIChbXihdKilcXCgoW14pXSopXFwpLyxoPS9bJ1wiXT8oWzAtOUEtWmEteiRfXSspWydcIl0/XFxzKls6PV1cXHMqKGZ1bmN0aW9ufGV2YWx8bmV3IEZ1bmN0aW9uKS8saT1cIlwiLGo9MTAsaz1mKGEpO2lmKCFrLmxlbmd0aClyZXR1cm4gZztmb3IodmFyIGw9MDtqPmw7KytsKWlmKGk9a1tiLWxdK2ksIWMoaSkpe2lmKGQ9aC5leGVjKGkpKXJldHVybiBkWzFdO2lmKGQ9ZS5leGVjKGkpKXJldHVybiBkWzFdfXJldHVybiBnfWZ1bmN0aW9uIGkoYSxiKXt2YXIgZT1mKGEpO2lmKCFlLmxlbmd0aClyZXR1cm4gbnVsbDt2YXIgZz1bXSxoPU1hdGguZmxvb3IoZC5saW5lc09mQ29udGV4dC8yKSxpPWgrZC5saW5lc09mQ29udGV4dCUyLGo9TWF0aC5tYXgoMCxiLWgtMSksaz1NYXRoLm1pbihlLmxlbmd0aCxiK2ktMSk7Yi09MTtmb3IodmFyIGw9ajtrPmw7KytsKWMoZVtsXSl8fGcucHVzaChlW2xdKTtyZXR1cm4gZy5sZW5ndGg+MD9nOm51bGx9ZnVuY3Rpb24gaihhKXtyZXR1cm4gYS5yZXBsYWNlKC9bXFwtXFxbXFxde30oKSorPy4sXFxcXFxcXiR8I10vZyxcIlxcXFwkJlwiKX1mdW5jdGlvbiBrKGEpe3JldHVybiBqKGEpLnJlcGxhY2UoXCI8XCIsXCIoPzo8fCZsdDspXCIpLnJlcGxhY2UoXCI+XCIsXCIoPzo+fCZndDspXCIpLnJlcGxhY2UoXCImXCIsXCIoPzomfCZhbXA7KVwiKS5yZXBsYWNlKCdcIicsJyg/OlwifCZxdW90OyknKS5yZXBsYWNlKC9cXHMrL2csXCJcXFxccytcIil9ZnVuY3Rpb24gbChhLGIpe2Zvcih2YXIgYyxkLGU9MCxnPWIubGVuZ3RoO2c+ZTsrK2UpaWYoKGM9ZihiW2VdKSkubGVuZ3RoJiYoYz1jLmpvaW4oXCJcXG5cIiksZD1hLmV4ZWMoYykpKXJldHVybnt1cmw6YltlXSxsaW5lOmMuc3Vic3RyaW5nKDAsZC5pbmRleCkuc3BsaXQoXCJcXG5cIikubGVuZ3RoLGNvbHVtbjpkLmluZGV4LWMubGFzdEluZGV4T2YoXCJcXG5cIixkLmluZGV4KS0xfTtyZXR1cm4gbnVsbH1mdW5jdGlvbiBtKGEsYixjKXt2YXIgZCxlPWYoYiksZz1uZXcgUmVnRXhwKFwiXFxcXGJcIitqKGEpK1wiXFxcXGJcIik7cmV0dXJuIGMtPTEsZSYmZS5sZW5ndGg+YyYmKGQ9Zy5leGVjKGVbY10pKT9kLmluZGV4Om51bGx9ZnVuY3Rpb24gbihiKXtmb3IodmFyIGMsZCxlLGYsZz1bYS5sb2NhdGlvbi5ocmVmXSxoPWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic2NyaXB0XCIpLGk9XCJcIitiLG09L15mdW5jdGlvbig/OlxccysoW1xcdyRdKykpP1xccypcXCgoW1xcd1xccyxdKilcXClcXHMqXFx7XFxzKihcXFNbXFxzXFxTXSpcXFMpXFxzKlxcfVxccyokLyxuPS9eZnVuY3Rpb24gb24oW1xcdyRdKylcXHMqXFwoZXZlbnRcXClcXHMqXFx7XFxzKihcXFNbXFxzXFxTXSpcXFMpXFxzKlxcfVxccyokLyxvPTA7bzxoLmxlbmd0aDsrK28pe3ZhciBwPWhbb107cC5zcmMmJmcucHVzaChwLnNyYyl9aWYoZT1tLmV4ZWMoaSkpe3ZhciBxPWVbMV0/XCJcXFxccytcIitlWzFdOlwiXCIscj1lWzJdLnNwbGl0KFwiLFwiKS5qb2luKFwiXFxcXHMqLFxcXFxzKlwiKTtjPWooZVszXSkucmVwbGFjZSgvOyQvLFwiOz9cIiksZD1uZXcgUmVnRXhwKFwiZnVuY3Rpb25cIitxK1wiXFxcXHMqXFxcXChcXFxccypcIityK1wiXFxcXHMqXFxcXClcXFxccyp7XFxcXHMqXCIrYytcIlxcXFxzKn1cIil9ZWxzZSBkPW5ldyBSZWdFeHAoaihpKS5yZXBsYWNlKC9cXHMrL2csXCJcXFxccytcIikpO2lmKGY9bChkLGcpKXJldHVybiBmO2lmKGU9bi5leGVjKGkpKXt2YXIgcz1lWzFdO2lmKGM9ayhlWzJdKSxkPW5ldyBSZWdFeHAoXCJvblwiK3MrXCI9W1xcXFwnXFxcIl1cXFxccypcIitjK1wiXFxcXHMqW1xcXFwnXFxcIl1cIixcImlcIiksZj1sKGQsZ1swXSkpcmV0dXJuIGY7aWYoZD1uZXcgUmVnRXhwKGMpLGY9bChkLGcpKXJldHVybiBmfXJldHVybiBudWxsfWZ1bmN0aW9uIG8oYSl7aWYoIWEuc3RhY2spcmV0dXJuIG51bGw7Zm9yKHZhciBiLGQsZT0vXlxccyphdCAoLio/KSA/XFwoPygoPzpmaWxlfGh0dHBzP3xjaHJvbWUtZXh0ZW5zaW9uKTouKj8pOihcXGQrKSg/OjooXFxkKykpP1xcKT9cXHMqJC9pLGY9L15cXHMqKC4qPykoPzpcXCgoLio/KVxcKSk/QD8oKD86ZmlsZXxodHRwcz98Y2hyb21lKTouKj8pOihcXGQrKSg/OjooXFxkKykpP1xccyokL2ksaj0vXlxccyphdCAoPzooKD86XFxbb2JqZWN0IG9iamVjdFxcXSk/LispICk/XFwoPygoPzptcy1hcHB4fGh0dHB8aHR0cHMpOi4qPyk6KFxcZCspKD86OihcXGQrKSk/XFwpP1xccyokL2ksaz1hLnN0YWNrLnNwbGl0KFwiXFxuXCIpLGw9W10sbj0vXiguKikgaXMgdW5kZWZpbmVkJC8uZXhlYyhhLm1lc3NhZ2UpLG89MCxwPWsubGVuZ3RoO3A+bzsrK28pe2lmKGI9Zi5leGVjKGtbb10pKWQ9e3VybDpiWzNdLGZ1bmM6YlsxXXx8ZyxhcmdzOmJbMl0/YlsyXS5zcGxpdChcIixcIik6XCJcIixsaW5lOitiWzRdLGNvbHVtbjpiWzVdPytiWzVdOm51bGx9O2Vsc2UgaWYoYj1lLmV4ZWMoa1tvXSkpZD17dXJsOmJbMl0sZnVuYzpiWzFdfHxnLGxpbmU6K2JbM10sY29sdW1uOmJbNF0/K2JbNF06bnVsbH07ZWxzZXtpZighKGI9ai5leGVjKGtbb10pKSljb250aW51ZTtkPXt1cmw6YlsyXSxmdW5jOmJbMV18fGcsbGluZTorYlszXSxjb2x1bW46Yls0XT8rYls0XTpudWxsfX0hZC5mdW5jJiZkLmxpbmUmJihkLmZ1bmM9aChkLnVybCxkLmxpbmUpKSxkLmxpbmUmJihkLmNvbnRleHQ9aShkLnVybCxkLmxpbmUpKSxsLnB1c2goZCl9cmV0dXJuIGwubGVuZ3RoPyhsWzBdJiZsWzBdLmxpbmUmJiFsWzBdLmNvbHVtbiYmbj9sWzBdLmNvbHVtbj1tKG5bMV0sbFswXS51cmwsbFswXS5saW5lKTpsWzBdLmNvbHVtbnx8YyhhLmNvbHVtbk51bWJlcil8fChsWzBdLmNvbHVtbj1hLmNvbHVtbk51bWJlcisxKSx7bW9kZTpcInN0YWNrXCIsbmFtZTphLm5hbWUsbWVzc2FnZTphLm1lc3NhZ2UsdXJsOmRvY3VtZW50LmxvY2F0aW9uLmhyZWYsc3RhY2s6bCx1c2VyYWdlbnQ6bmF2aWdhdG9yLnVzZXJBZ2VudH0pOm51bGx9ZnVuY3Rpb24gcChhKXtmb3IodmFyIGIsYz1hLnN0YWNrdHJhY2UsZD0vIGxpbmUgKFxcZCspLCBjb2x1bW4gKFxcZCspIGluICg/Ojxhbm9ueW1vdXMgZnVuY3Rpb246IChbXj5dKyk+fChbXlxcKV0rKSlcXCgoLiopXFwpIGluICguKik6XFxzKiQvaSxlPWMuc3BsaXQoXCJcXG5cIiksZj1bXSxnPTAsaj1lLmxlbmd0aDtqPmc7Zys9MilpZihiPWQuZXhlYyhlW2ddKSl7dmFyIGs9e2xpbmU6K2JbMV0sY29sdW1uOitiWzJdLGZ1bmM6YlszXXx8Yls0XSxhcmdzOmJbNV0/Yls1XS5zcGxpdChcIixcIik6W10sdXJsOmJbNl19O2lmKCFrLmZ1bmMmJmsubGluZSYmKGsuZnVuYz1oKGsudXJsLGsubGluZSkpLGsubGluZSl0cnl7ay5jb250ZXh0PWkoay51cmwsay5saW5lKX1jYXRjaChsKXt9ay5jb250ZXh0fHwoay5jb250ZXh0PVtlW2crMV1dKSxmLnB1c2goayl9cmV0dXJuIGYubGVuZ3RoP3ttb2RlOlwic3RhY2t0cmFjZVwiLG5hbWU6YS5uYW1lLG1lc3NhZ2U6YS5tZXNzYWdlLHVybDpkb2N1bWVudC5sb2NhdGlvbi5ocmVmLHN0YWNrOmYsdXNlcmFnZW50Om5hdmlnYXRvci51c2VyQWdlbnR9Om51bGx9ZnVuY3Rpb24gcShjKXt2YXIgZD1jLm1lc3NhZ2Uuc3BsaXQoXCJcXG5cIik7aWYoZC5sZW5ndGg8NClyZXR1cm4gbnVsbDt2YXIgZSxnLGosbSxuPS9eXFxzKkxpbmUgKFxcZCspIG9mIGxpbmtlZCBzY3JpcHQgKCg/OmZpbGV8aHR0cHM/KVxcUyspKD86OiBpbiBmdW5jdGlvbiAoXFxTKykpP1xccyokL2ksbz0vXlxccypMaW5lIChcXGQrKSBvZiBpbmxpbmUjKFxcZCspIHNjcmlwdCBpbiAoKD86ZmlsZXxodHRwcz8pXFxTKykoPzo6IGluIGZ1bmN0aW9uIChcXFMrKSk/XFxzKiQvaSxwPS9eXFxzKkxpbmUgKFxcZCspIG9mIGZ1bmN0aW9uIHNjcmlwdFxccyokL2kscT1bXSxyPWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic2NyaXB0XCIpLHM9W107Zm9yKGcgaW4gciliKHIsZykmJiFyW2ddLnNyYyYmcy5wdXNoKHJbZ10pO2ZvcihnPTIsaj1kLmxlbmd0aDtqPmc7Zys9Mil7dmFyIHQ9bnVsbDtpZihlPW4uZXhlYyhkW2ddKSl0PXt1cmw6ZVsyXSxmdW5jOmVbM10sbGluZTorZVsxXX07ZWxzZSBpZihlPW8uZXhlYyhkW2ddKSl7dD17dXJsOmVbM10sZnVuYzplWzRdfTt2YXIgdT0rZVsxXSx2PXNbZVsyXS0xXTtpZih2JiYobT1mKHQudXJsKSkpe209bS5qb2luKFwiXFxuXCIpO3ZhciB3PW0uaW5kZXhPZih2LmlubmVyVGV4dCk7dz49MCYmKHQubGluZT11K20uc3Vic3RyaW5nKDAsdykuc3BsaXQoXCJcXG5cIikubGVuZ3RoKX19ZWxzZSBpZihlPXAuZXhlYyhkW2ddKSl7dmFyIHg9YS5sb2NhdGlvbi5ocmVmLnJlcGxhY2UoLyMuKiQvLFwiXCIpLHk9ZVsxXSx6PW5ldyBSZWdFeHAoayhkW2crMV0pKTttPWwoeixbeF0pLHQ9e3VybDp4LGxpbmU6bT9tLmxpbmU6eSxmdW5jOlwiXCJ9fWlmKHQpe3QuZnVuY3x8KHQuZnVuYz1oKHQudXJsLHQubGluZSkpO3ZhciBBPWkodC51cmwsdC5saW5lKSxCPUE/QVtNYXRoLmZsb29yKEEubGVuZ3RoLzIpXTpudWxsO3QuY29udGV4dD1BJiZCLnJlcGxhY2UoL15cXHMqLyxcIlwiKT09PWRbZysxXS5yZXBsYWNlKC9eXFxzKi8sXCJcIik/QTpbZFtnKzFdXSxxLnB1c2godCl9fXJldHVybiBxLmxlbmd0aD97bW9kZTpcIm11bHRpbGluZVwiLG5hbWU6Yy5uYW1lLG1lc3NhZ2U6ZFswXSx1cmw6ZG9jdW1lbnQubG9jYXRpb24uaHJlZixzdGFjazpxLHVzZXJhZ2VudDpuYXZpZ2F0b3IudXNlckFnZW50fTpudWxsfWZ1bmN0aW9uIHIoYSxiLGMsZCl7dmFyIGU9e3VybDpiLGxpbmU6Y307aWYoZS51cmwmJmUubGluZSl7YS5pbmNvbXBsZXRlPSExLGUuZnVuY3x8KGUuZnVuYz1oKGUudXJsLGUubGluZSkpLGUuY29udGV4dHx8KGUuY29udGV4dD1pKGUudXJsLGUubGluZSkpO3ZhciBmPS8gJyhbXiddKyknIC8uZXhlYyhkKTtpZihmJiYoZS5jb2x1bW49bShmWzFdLGUudXJsLGUubGluZSkpLGEuc3RhY2subGVuZ3RoPjAmJmEuc3RhY2tbMF0udXJsPT09ZS51cmwpe2lmKGEuc3RhY2tbMF0ubGluZT09PWUubGluZSlyZXR1cm4hMTtpZighYS5zdGFja1swXS5saW5lJiZhLnN0YWNrWzBdLmZ1bmM9PT1lLmZ1bmMpcmV0dXJuIGEuc3RhY2tbMF0ubGluZT1lLmxpbmUsYS5zdGFja1swXS5jb250ZXh0PWUuY29udGV4dCwhMX1yZXR1cm4gYS5zdGFjay51bnNoaWZ0KGUpLGEucGFydGlhbD0hMCwhMH1yZXR1cm4gYS5pbmNvbXBsZXRlPSEwLCExfWZ1bmN0aW9uIHMoYSxiKXtmb3IodmFyIGMsZSxmLGk9L2Z1bmN0aW9uXFxzKyhbXyRhLXpBLVpcXHhBMC1cXHVGRkZGXVtfJGEtekEtWjAtOVxceEEwLVxcdUZGRkZdKik/XFxzKlxcKC9pLGo9W10saz17fSxsPSExLG89cy5jYWxsZXI7byYmIWw7bz1vLmNhbGxlcilpZihvIT09dCYmbyE9PWQucmVwb3J0KXtpZihlPXt1cmw6bnVsbCxmdW5jOmcsbGluZTpudWxsLGNvbHVtbjpudWxsfSxvLm5hbWU/ZS5mdW5jPW8ubmFtZTooYz1pLmV4ZWMoby50b1N0cmluZygpKSkmJihlLmZ1bmM9Y1sxXSksXCJ1bmRlZmluZWRcIj09dHlwZW9mIGUuZnVuYyl0cnl7ZS5mdW5jPWMuaW5wdXQuc3Vic3RyaW5nKDAsYy5pbnB1dC5pbmRleE9mKFwie1wiKSl9Y2F0Y2gocCl7fWlmKGY9bihvKSl7ZS51cmw9Zi51cmwsZS5saW5lPWYubGluZSxlLmZ1bmM9PT1nJiYoZS5mdW5jPWgoZS51cmwsZS5saW5lKSk7dmFyIHE9LyAnKFteJ10rKScgLy5leGVjKGEubWVzc2FnZXx8YS5kZXNjcmlwdGlvbik7cSYmKGUuY29sdW1uPW0ocVsxXSxmLnVybCxmLmxpbmUpKX1rW1wiXCIrb10/bD0hMDprW1wiXCIrb109ITAsai5wdXNoKGUpfWImJmouc3BsaWNlKDAsYik7dmFyIHU9e21vZGU6XCJjYWxsZXJzXCIsbmFtZTphLm5hbWUsbWVzc2FnZTphLm1lc3NhZ2UsdXJsOmRvY3VtZW50LmxvY2F0aW9uLmhyZWYsc3RhY2s6aix1c2VyYWdlbnQ6bmF2aWdhdG9yLnVzZXJBZ2VudH07cmV0dXJuIHIodSxhLnNvdXJjZVVSTHx8YS5maWxlTmFtZSxhLmxpbmV8fGEubGluZU51bWJlcixhLm1lc3NhZ2V8fGEuZGVzY3JpcHRpb24pLHV9ZnVuY3Rpb24gdChhLGIpe3ZhciBjPW51bGw7Yj1udWxsPT1iPzA6K2I7dHJ5e2lmKGM9cChhKSlyZXR1cm4gY31jYXRjaChkKXtpZih2KXRocm93IGR9dHJ5e2lmKGM9byhhKSlyZXR1cm4gY31jYXRjaChkKXtpZih2KXRocm93IGR9dHJ5e2lmKGM9cShhKSlyZXR1cm4gY31jYXRjaChkKXtpZih2KXRocm93IGR9dHJ5e2lmKGM9cyhhLGIrMSkpcmV0dXJuIGN9Y2F0Y2goZCl7aWYodil0aHJvdyBkfXJldHVybnttb2RlOlwiZmFpbGVkXCJ9fWZ1bmN0aW9uIHUoYSl7YT0obnVsbD09YT8wOithKSsxO3RyeXt0aHJvdyBuZXcgRXJyb3J9Y2F0Y2goYil7cmV0dXJuIHQoYixhKzEpfX12YXIgdj0hMSx3PXt9O3JldHVybiB0LmF1Z21lbnRTdGFja1RyYWNlV2l0aEluaXRpYWxFbGVtZW50PXIsdC5ndWVzc0Z1bmN0aW9uTmFtZT1oLHQuZ2F0aGVyQ29udGV4dD1pLHQub2ZDYWxsZXI9dSx0LmdldFNvdXJjZT1mLHR9KCksZC5leHRlbmRUb0FzeW5jaHJvbm91c0NhbGxiYWNrcz1mdW5jdGlvbigpe3ZhciBiPWZ1bmN0aW9uKGIpe3ZhciBjPWFbYl07YVtiXT1mdW5jdGlvbigpe3ZhciBhPWYuY2FsbChhcmd1bWVudHMpLGI9YVswXTtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBiJiYoYVswXT1kLndyYXAoYikpLGMuYXBwbHk/Yy5hcHBseSh0aGlzLGEpOmMoYVswXSxhWzFdKX19O2IoXCJzZXRUaW1lb3V0XCIpLGIoXCJzZXRJbnRlcnZhbFwiKX0sZC5yZW1vdGVGZXRjaGluZ3x8KGQucmVtb3RlRmV0Y2hpbmc9ITApLGQuY29sbGVjdFdpbmRvd0Vycm9yc3x8KGQuY29sbGVjdFdpbmRvd0Vycm9ycz0hMCksKCFkLmxpbmVzT2ZDb250ZXh0fHxkLmxpbmVzT2ZDb250ZXh0PDEpJiYoZC5saW5lc09mQ29udGV4dD0xMSksYS5UcmFjZUtpdD1kfX0oXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6Z2xvYmFsKSxmdW5jdGlvbihhLGIpe1widXNlIHN0cmljdFwiO2lmKGEpe3ZhciBjPWEuZXZlbnQuYWRkO2EuZXZlbnQuYWRkPWZ1bmN0aW9uKGQsZSxmLGcsaCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZiYmXCJmdW5jdGlvblwiIT10eXBlb2YgZi5oYW5kbGVyKXJldHVybiBjLmNhbGwodGhpcyxkLGUsZixnLGgpO3ZhciBpO3JldHVybiBmLmhhbmRsZXI/KGk9Zi5oYW5kbGVyLGYuaGFuZGxlcj1iLndyYXAoZi5oYW5kbGVyKSk6KGk9ZixmPWIud3JhcChmKSksZi5ndWlkPWkuZ3VpZD9pLmd1aWQ6aS5ndWlkPWEuZ3VpZCsrLGMuY2FsbCh0aGlzLGQsZSxmLGcsaCl9O3ZhciBkPWEuZm4ucmVhZHk7YS5mbi5yZWFkeT1mdW5jdGlvbihhKXtyZXR1cm4gZC5jYWxsKHRoaXMsYi53cmFwKGEpKX07dmFyIGU9YS5hamF4O2EuYWpheD1mdW5jdGlvbihjLGQpe1wib2JqZWN0XCI9PXR5cGVvZiBjJiYoZD1jLGM9dm9pZCAwKSxkPWR8fHt9O2Zvcih2YXIgZixnPVtcImNvbXBsZXRlXCIsXCJlcnJvclwiLFwic3VjY2Vzc1wiXTtmPWcucG9wKCk7KWEuaXNGdW5jdGlvbihkW2ZdKSYmKGRbZl09Yi53cmFwKGRbZl0pKTt0cnl7cmV0dXJuIGM/ZS5jYWxsKHRoaXMsYyxkKTplLmNhbGwodGhpcyxkKX1jYXRjaChoKXt0aHJvdyBiLnJlcG9ydChoKSxofX19fSh3aW5kb3cualF1ZXJ5LHdpbmRvdy5UcmFjZUtpdCksZnVuY3Rpb24oYSxiLGMsZCl7ZnVuY3Rpb24gZShhKXt2YXIgYj1hLGM9YS5zcGxpdChcIi8vXCIpWzFdO2lmKGMpe3ZhciBkPWMuaW5kZXhPZihcIj9cIiksZT1jLnRvU3RyaW5nKCkuc3Vic3RyaW5nKDAsZCksZj1lLnNwbGl0KFwiL1wiKS5zbGljZSgwLDQpLmpvaW4oXCIvXCIpLGc9ZS5zdWJzdHJpbmcoMCw0OCk7Yj1mLmxlbmd0aDxnLmxlbmd0aD9mOmcsYiE9PWUmJihiKz1cIi4uXCIpfXJldHVybiBifWZ1bmN0aW9uIGYoYSxiLGMsZil7aWYoSyYmKEx8fGIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkpKXt2YXIgZz1cIkFKQVggRXJyb3I6IFwiKyhiLnN0YXR1c1RleHR8fFwidW5rbm93blwiKStcIiBcIisoYy50eXBlfHxcInVua25vd25cIikrXCIgXCIrKGUoYy51cmwpfHxcInVua25vd25cIik7Vi5zZW5kKGZ8fGEudHlwZSx7c3RhdHVzOmIuc3RhdHVzLHN0YXR1c1RleHQ6Yi5zdGF0dXNUZXh0LHR5cGU6Yy50eXBlLHVybDpjLnVybCxhamF4RXJyb3JNZXNzYWdlOmcsY29udGVudFR5cGU6Yy5jb250ZW50VHlwZSxyZXF1ZXN0RGF0YTpjLmRhdGEmJmMuZGF0YS5zbGljZT9jLmRhdGEuc2xpY2UoMCwxMDI0MCk6ZCxyZXNwb25zZURhdGE6Yi5yZXNwb25zZVRleHQmJmIucmVzcG9uc2VUZXh0LnNsaWNlP2IucmVzcG9uc2VUZXh0LnNsaWNlKDAsMTAyNDApOmQsYWN0aXZlVGFyZ2V0OmEudGFyZ2V0JiZhLnRhcmdldC5hY3RpdmVFbGVtZW50P2EudGFyZ2V0LmFjdGl2ZUVsZW1lbnQub3V0ZXJIVE1MOmR9KX19ZnVuY3Rpb24gZygpe3JldHVybiBvJiZcIlwiIT09bz8hMDooUi5sb2coXCJBdGF0dXMgQVBJIGtleSBoYXMgbm90IGJlZW4gY29uZmlndXJlZCwgbWFrZSBzdXJlIHlvdSBjYWxsIGF0YXR1cy5jb25maWcoeW91ckFwaUtleSlcIiksITEpfWZ1bmN0aW9uIGgoKXt2YXIgYz1iLmRvY3VtZW50RWxlbWVudCxkPWIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJib2R5XCIpWzBdLGU9YS5pbm5lcldpZHRofHxjLmNsaWVudFdpZHRofHxkLmNsaWVudFdpZHRoLGY9YS5pbm5lckhlaWdodHx8Yy5jbGllbnRIZWlnaHR8fGQuY2xpZW50SGVpZ2h0O3JldHVybnt3aWR0aDplLGhlaWdodDpmfX1mdW5jdGlvbiBpKGEpe3ZhciBiPShuZXcgRGF0ZSkudG9KU09OKCk7dHJ5e3ZhciBjPVwiYXRhdHVzanM9XCIrYitcIj1cIitSLmdldFJhbmRvbUludCgpO1widW5kZWZpbmVkXCI9PXR5cGVvZiBsb2NhbFN0b3JhZ2VbY10mJihsb2NhbFN0b3JhZ2VbY109YSl9Y2F0Y2goZCl7Ui5sb2coXCJBdGF0dXM6IExvY2FsU3RvcmFnZSBmdWxsLCBjYW5ub3Qgc2F2ZSBleGNlcHRpb25cIil9fWZ1bmN0aW9uIGooKXt0cnl7cmV0dXJuXCJsb2NhbFN0b3JhZ2VcImluIGEmJm51bGwhPT1hLmxvY2FsU3RvcmFnZX1jYXRjaChiKXtyZXR1cm4hMX19ZnVuY3Rpb24gaygpe2lmKGooKSYmbG9jYWxTdG9yYWdlLmxlbmd0aD4wKWZvcih2YXIgYSBpbiBsb2NhbFN0b3JhZ2UpaWYoXCJhdGF0dXNqcz1cIj09PWEuc3Vic3RyaW5nKDAsOSkpe3RyeXt2YXIgYj1KU09OLnBhcnNlKGxvY2FsU3RvcmFnZVthXSk7XCJhcGlrZXlcImluIGImJm0oTixiKX1jYXRjaChjKXtSLmxvZyhcIkF0YXR1czogSW52YWxpZCBKU09OIG9iamVjdCBpbiBMb2NhbFN0b3JhZ2VcIil9bG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oYSl9fWZ1bmN0aW9uIGwoYSxjKXtpZihjPWN8fHt9LCFhLnN0YWNrfHwhYS5zdGFjay5sZW5ndGgpcmV0dXJuIHZvaWQgUi5sb2coXCJBdGF0dXM6IENhbmNlbGluZyBzZW5kIGR1ZSB0byBubyBzdGFja3RyYWNlLlwiKTtSLmlzRW1wdHkoYy5jdXN0b21EYXRhKSYmKGMuY3VzdG9tRGF0YT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBwP3AoKTpwKSxSLmlzRW1wdHkoYy50YWdzKSYmKGMudGFncz1FKTt2YXIgZD1jLmN1c3RvbURhdGEmJmMuY3VzdG9tRGF0YS5hamF4RXJyb3JNZXNzYWdlfHxhLm1lc3NhZ2U7aWYoZCYmMD09PWQuaW5kZXhPZihcIlVuY2F1Z2h0IFwiKSYmKGQ9YS5tZXNzYWdlLnN1YnN0cmluZyg5KSksZD1kfHxjLnN0YXR1c3x8XCJTY3JpcHQgZXJyb3IuXCIsdyYmdy50ZXN0KGQpKXJldHVybiB2b2lkIFIubG9nKFwiQXRhdHVzOiBjYW5jZWxpbmcgc2VuZCBkdWUgdG8gaWdub3JlIGVycm9yc1wiKTt2YXIgZT1bXTthLnN0YWNrJiZhLnN0YWNrLmxlbmd0aCYmUi5mb3JFYWNoKGEuc3RhY2ssZnVuY3Rpb24oYSxiKXtSLmVuZHNXaXRoKGIudXJsLFwiL2F0YXR1cy5qc1wiKXx8ZS5wdXNoKHtsbjpiLmxpbmV8fDAsY246Yi5jb2x1bW58fDAsZjpiLnVybHx8XCJhbm9ueW1vdXNcIixtOmIuZnVuY3x8XCJbYW5vbnltb3VzXVwifSl9KTt2YXIgZj1bYS5uYW1lLGQsSlNPTi5zdHJpbmdpZnkoZSldLmpvaW4oXCJ8XCIpO2lmKGY9PT14KXJldHVybiB2b2lkIFIubG9nKFwiQXRhdHVzOiBjYW5jZWxpbmcgc2VuZCBkdWUgdG8gZHVwbGljYXRlIGVycm9yc1wiKTt4PWY7dmFyIGc9Yy5jdXN0b21EYXRhO3RyeXtKU09OLnN0cmluZ2lmeShnKX1jYXRjaChoKXt2YXIgaT1cIkNhbm5vdCBhZGQgY3VzdG9tIGRhdGE7IG1heSBjb250YWluIGNpcmN1bGFyIHJlZmVyZW5jZVwiO2c9e2Vycm9yOml9LFIubG9nKFwiQXRhdHVzOiBcIitpKX12YXIgaj1VLmdldEFsbEV2ZW50cygpO1MuY2xlYXIoKTt2YXIgaz17XCJjbGFzc1wiOmEubmFtZSxuYW1lOmQsYmFja1RyYWNlczplLHVzZXJBY3Rpb25zOmosbmV0Om51bGwsY3VzdG9tRGF0YTpnfHxudWxsLHRhZ3M6Yy50YWdzLHNvdXJjZW1hcDpKLHJlcXVlc3Q6e3VybDpiLmxvY2F0aW9uLmhyZWYsdWE6bmF2aWdhdG9yLnVzZXJBZ2VudH19O2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHkmJihrLmdyb3VwaW5nS2V5PXkoaykpLFwiZnVuY3Rpb25cIj09dHlwZW9mIHope3ZhciBsPXooayk7bCYmbShOLGspfWVsc2UgbShOLGspfWZ1bmN0aW9uIG0oYyxkKXtpZihHJiZHLmxlbmd0aCYmLTE9PT1HLmluZGV4T2YobG9jYXRpb24uaG9zdCkpcmV0dXJuIHZvaWQgUi5sb2coXCJBdGF0dXM6IGNhbmNlbGluZyBzZW5kIGR1ZSB0byBub3QgYSBhbGxvd2VkIGRvbWFpblwiKTtpZihnKCkpe2lmKCFkLnRzKXt2YXIgZT1hLnNjcmVlbnx8aCgpO2QudHM9KG5ldyBEYXRlKS5nZXRUaW1lKCksZC5hcGlrZXk9byxkLnJlcXVlc3Q9ZC5yZXF1ZXN0fHx7fSxkLnJlcXVlc3QudXJsPWQucmVxdWVzdC51cmx8fGIubG9jYXRpb24uaHJlZixkLnJlcXVlc3QudWE9ZC5yZXF1ZXN0LnVhfHxuYXZpZ2F0b3IudXNlckFnZW50LGQucmVxdWVzdC53PWUud2lkdGgsZC5yZXF1ZXN0Lmg9ZS5oZWlnaHQsZC52PXJ8fFwiXCIsZC5fdj1CfHxcIlwifXEmJihkLmNpZD1xLnVzZXJJZHx8bnVsbCksUi5sb2coXCJTZW5kaW5nIGRhdGEgdG8gQXRhdHVzIFJlY2VpdmVyOlwiLGQpLG4oYyxKU09OLnN0cmluZ2lmeShkKSl9fWZ1bmN0aW9uIG4oYSxiKXt2YXIgYz1uZXcgSW1hZ2UsZD1NK2ErXCI/ZGF0YT1cIitlbmNvZGVVUklDb21wb25lbnQoYik7Yy5jcm9zc09yaWdpbj1cImFub255bW91c1wiLGMub25sb2FkPWZ1bmN0aW9uKCl7aygpfSxjLm9uZXJyb3I9Yy5vbmFib3J0PWZ1bmN0aW9uKCl7SSYmYT09PU4mJmkoYil9LGMuc3JjPWR9dmFyIG8scCxxLHIscyx0LHUsdix3LHgseSx6LEEsQj1cIjIuMy4xMlwiLEM9VHJhY2VLaXQubm9Db25mbGljdCgpLEQ9YS5hdGF0dXMsRT1bXSxGPSExLEc9W10sSD0hMSxJPSExLEo9ITEsSz0hMSxMPSExLE09XCJodHRwczovL2JyLXJ4LmF0YXR1cy5jb21cIixOPVwiL3RyYWNrL2Jyb3dzZXIvZXJyb3JzXCIsTz1cIi90cmFjay9icm93c2VyL3BlcmZcIixQPVwiL3RyYWNrL2Jyb3dzZXIvcGVyZi9hamF4XCIsUT1cIi90cmFjay9icm93c2VyL3BlcmYvdHhuXCI7YyYmKEE9YyhiKSk7dmFyIFI9e2lzQm9vbGVhbjpmdW5jdGlvbihhKXtyZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2YgYSYmXCJib29sZWFuXCI9PXR5cGVvZiBhfSxpc1N0cmluZzpmdW5jdGlvbihhKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgYX0saXNBcnJheTpmdW5jdGlvbihhKXtyZXR1cm5cIltvYmplY3QgQXJyYXldXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYSl9LGVuZHNXaXRoOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGEmJmI/LTEhPT1hLmluZGV4T2YoYixhLmxlbmd0aC1iLmxlbmd0aCk6ITF9LGpvaW5SZWdFeHA6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiLGM9W10sZD0wLGU9YS5sZW5ndGg7ZT5kO2QrKyliPWFbZF0sUi5pc1N0cmluZyhiKT9jLnB1c2goYi5yZXBsYWNlKC8oWy4qKz9cXF49IToke30oKXxcXFtcXF1cXC9cXFxcXSkvZyxcIlxcXFwkMVwiKSk6YiYmYi5zb3VyY2UmJmMucHVzaChiLnNvdXJjZSk7cmV0dXJuIG5ldyBSZWdFeHAoYy5qb2luKFwifFwiKSxcImlcIil9LGdldFRhcmdldFVybDpmdW5jdGlvbihiKXtyZXR1cm4gYS5YRG9tYWluUmVxdWVzdCYmSCYmKGI9Yi5zbGljZSg2KSksYn0sbm93OmZ1bmN0aW9uKCl7cmV0dXJuKG5ldyBEYXRlKS5nZXRUaW1lKCl9LHBhZDpmdW5jdGlvbihhKXtyZXR1cm4gYT1TdHJpbmcoYSksMT09PWEubGVuZ3RoJiYoYT1cIjBcIithKSxhfSxtZXJnZTpmdW5jdGlvbihhLGIpe3ZhciBjLGQ9e307Zm9yKGMgaW4gYSlkW2NdPWFbY107Zm9yKGMgaW4gYilkW2NdPWJbY107cmV0dXJuIGR9LG1lcmdlQXJyYXk6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbnVsbCE9Yj9hLmNvbmNhdChiKTphfSxmb3JFYWNoOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTA7YzxhLmxlbmd0aDtjKyspYi5jYWxsKG51bGwsYyxhW2NdKX0saXNFbXB0eTpmdW5jdGlvbihhKXtmb3IodmFyIGIgaW4gYSlpZihhLmhhc093blByb3BlcnR5KGIpKXJldHVybiExO3JldHVybiEwfSxnZXRSYW5kb21JbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5mbG9vcig5MDA3MTk5MjU0NzQwOTkyKk1hdGgucmFuZG9tKCkpfSxsb2c6ZnVuY3Rpb24oYixjKXtGJiZhLmNvbnNvbGUmJmEuY29uc29sZS5sb2cmJihhLmNvbnNvbGUubG9nKGIpLGMmJmEuY29uc29sZS5sb2coYykpfSxiaW5kOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGEuYXBwbHkoYixBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpKX19LGNhbkFsbG93SW5zZWN1cmVTdWJtaXNzaW9uczpmdW5jdGlvbigpe3ZhciBiPWEubmF2aWdhdG9yLnVzZXJBZ2VudCxjPWIubWF0Y2goL1RyaWRlbnRcXC8oW1xcZC5dKykvKSxkPWMmJlwiNy4wXCI9PT1jWzFdPzExOihiPWIubWF0Y2goL01TSUUgKFtcXGQuXSspLykpP3BhcnNlSW50KGJbMV0sMTApOiExO3JldHVybiBkJiY5Pj1kfSx1dWlkNDpmdW5jdGlvbigpe3JldHVyblwieHh4eHh4eHh4eHh4NHh4eHl4eHh4eHh4eHh4eHh4eHhcIi5yZXBsYWNlKC9beHldL2csZnVuY3Rpb24oYSl7dmFyIGI9MTYqTWF0aC5yYW5kb20oKXwwLGM9XCJ4XCI9PT1hP2I6MyZifDg7cmV0dXJuIGMudG9TdHJpbmcoMTYpfSl9LGFkZEV2ZW50TGlzdGVuZXI6ZnVuY3Rpb24oYixjLGQpe3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBhLmF0dGFjaEV2ZW50P2EuYXR0YWNoRXZlbnQoXCJvblwiK2IsYyk6YS5hZGRFdmVudExpc3RlbmVyP2EuYWRkRXZlbnRMaXN0ZW5lcihiLGMsZCk6dm9pZCAwfSxhcnJheUZyb21PYmplY3Q6ZnVuY3Rpb24oYSl7dmFyIGI9W107Zm9yKHZhciBjIGluIGEpYS5oYXNPd25Qcm9wZXJ0eShjKSYmYi5wdXNoKGFbY10pO3JldHVybiBifX0sUz17ZXZlbnRPYmplY3Q6e30sYWxsOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj10aGlzLmdldEV2ZW50T2JqZWN0KGEpLGM9W10sZD0wO2Q8Yi5sZW5ndGg7ZCsrKWMucHVzaChiW2RdLnZhbHVlKTtyZXR1cm4gY30sY2xlYXI6ZnVuY3Rpb24oKXtmb3IodmFyIGEgaW4gdGhpcy5ldmVudE9iamVjdCl0aGlzLmV2ZW50T2JqZWN0Lmhhc093blByb3BlcnR5KGEpJiYodGhpcy5ldmVudE9iamVjdFthXS5sZW5ndGg9MCl9LGFkZDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ2V0RXZlbnRPYmplY3QoYSksZD1SLnV1aWQ0KCk7cmV0dXJuIGMucHVzaCh7a2V5OmQsdmFsdWU6Yn0pLHRoaXMudHJ1bmNhdGVFdmVudE9iamVjdChhLDEwKSxkfSxnZXQ6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9dGhpcy5nZXRFdmVudE9iamVjdChhKSxkPTA7ZDxjLmxlbmd0aDtkKyspaWYoY1tkXS5rZXk9PT1iKXJldHVybiBjW2RdLnZhbHVlO3JldHVybiExfSxnZXRFdmVudE9iamVjdDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5ldmVudE9iamVjdFthXXx8KHRoaXMuZXZlbnRPYmplY3RbYV09W10pLHRoaXMuZXZlbnRPYmplY3RbYV19LHRydW5jYXRlRXZlbnRPYmplY3Q6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdldEV2ZW50T2JqZWN0KGEpO2MubGVuZ3RoPmImJih0aGlzLmV2ZW50T2JqZWN0W2FdPWMuc2xpY2UoYy5sZW5ndGgtYikpfX0sVD17YXR0YWNoOmZ1bmN0aW9uKGIsYyxkLGUsZil7Yj1ifHxhLmNvbnNvbGV8fHt9O2Zvcih2YXIgZz1mfHxbXCJsb2dcIixcImRlYnVnXCIsXCJpbmZvXCIsXCJ3YXJuXCIsXCJlcnJvclwiXSxoPWcucG9wKCksaT1mdW5jdGlvbihhLGIsZCl7YyYmUy5hZGQoXCJ1c2VyXCIse3RzOlIubm93KCksYzpcImNvbnNvbGVcIixsOmEsbTpifSksXCJlcnJvclwiPT09YSYmZSYmVi5ub3RpZnkobmV3IEVycm9yKGIpLGQpfTtoOyl0aGlzLndyYXBDb25zb2xlTWV0aG9kKGIsaCxkLGkpLGg9Zy5wb3AoKX0sd3JhcENvbnNvbGVNZXRob2Q6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9YVtiXSxmPWE7YiBpbiBhJiYoYVtiXT1mdW5jdGlvbigpe3ZhciBhPVtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKSxnPVwiXCIrYS5qb2luKFwiIFwiKSxoPXtsZXZlbDpiLGxvZ2dlcjpcImNvbnNvbGVcIn07ZCYmZChiLGcsaCksZSYmYyYmRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LmNhbGwoZSxmLGEpfSl9fSxVPXthdHRhY2g6ZnVuY3Rpb24oKXt2YXIgYT1SLmJpbmQodGhpcy5vbkRvY3VtZW50Q2xpY2tlZCx0aGlzKSxjPVIuYmluZCh0aGlzLm9uSW5wdXRDaGFuZ2VkLHRoaXMpO2IuYWRkRXZlbnRMaXN0ZW5lcj8oYi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixhLCEwKSxiLmFkZEV2ZW50TGlzdGVuZXIoXCJibHVyXCIsYywhMCkpOmIuYXR0YWNoRXZlbnQmJihiLmF0dGFjaEV2ZW50KFwib25jbGlja1wiLGEpLGIuYXR0YWNoRXZlbnQoXCJvbmZvY3Vzb3V0XCIsYykpfSx3cml0ZVVzZXJFdmVudDpmdW5jdGlvbihhLGIsYyxkKXtcInBhc3N3b3JkXCI9PT10aGlzLmdldEVsZW1lbnRUeXBlKGEpJiYoYz12b2lkIDApLFMuYWRkKFwidXNlclwiLHt0czpSLm5vdygpLGE6YixlOnRoaXMuZ2V0T3V0ZXJIVE1MKGEpLHY6dGhpcy5nZXRWYWx1ZUtpbmQoYyxkKX0pfSxvbkRvY3VtZW50Q2xpY2tlZDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldEVsZW1lbnRGcm9tRXZlbnQoYSk7YiYmYi50YWdOYW1lJiYodGhpcy5pc1RhcmdldChiLFwiYVwiKXx8dGhpcy5pc1RhcmdldChiLFwiYnV0dG9uXCIpfHx0aGlzLmlzVGFyZ2V0KGIsXCJpbnB1dFwiLFtcImJ1dHRvblwiLFwic3VibWl0XCJdKT90aGlzLndyaXRlVXNlckV2ZW50KGIsXCJjbGlja1wiKTp0aGlzLmlzVGFyZ2V0KGIsXCJpbnB1dFwiLFtcImNoZWNrYm94XCIsXCJyYWRpb1wiXSkmJnRoaXMud3JpdGVVc2VyRXZlbnQoYixcImNoZWNrXCIsYi52YWx1ZSxiLmNoZWNrZWQpKX0sb25JbnB1dENoYW5nZWQ6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5nZXRFbGVtZW50RnJvbUV2ZW50KGEpO2ImJmIudGFnTmFtZSYmKHRoaXMuaXNUYXJnZXQoYixcInRleHRhcmVhXCIpP3RoaXMud3JpdGVVc2VyRXZlbnQoYixcImlucHV0XCIsYi52YWx1ZSk6dGhpcy5pc1RhcmdldChiLFwic2VsZWN0XCIpJiZiLm9wdGlvbnMmJmIub3B0aW9ucy5sZW5ndGg/dGhpcy5vblNlbGVjdElucHV0Q2hhbmdlZChiKTp0aGlzLmlzVGFyZ2V0KGIsXCJpbnB1dFwiKSYmIXRoaXMuaXNUYXJnZXQoYixcImlucHV0XCIsW1wiYnV0dG9uXCIsXCJzdWJtaXRcIixcImhpZGRlblwiLFwiY2hlY2tib3hcIixcInJhZGlvXCJdKSYmdGhpcy53cml0ZVVzZXJFdmVudChiLFwiaW5wdXRcIixiLnZhbHVlKSl9LG9uU2VsZWN0SW5wdXRDaGFuZ2VkOmZ1bmN0aW9uKGEpe2lmKGEubXVsdGlwbGUpe2Zvcih2YXIgYj0wO2I8YS5vcHRpb25zLmxlbmd0aDtiKyspaWYoYS5vcHRpb25zW2JdLnNlbGVjdGVkKXt0aGlzLndyaXRlVXNlckV2ZW50KGEsXCJzZWxlY3RcIixhLm9wdGlvbnNbYl0udmFsdWUpO2JyZWFrfX1lbHNlIDA8PWEuc2VsZWN0ZWRJbmRleCYmYS5vcHRpb25zW2Euc2VsZWN0ZWRJbmRleF0mJnRoaXMud3JpdGVVc2VyRXZlbnQoYSxcInNlbGVjdFwiLGEub3B0aW9uc1thLnNlbGVjdGVkSW5kZXhdLnZhbHVlKX0sZ2V0RWxlbWVudEZyb21FdmVudDpmdW5jdGlvbihhKXtyZXR1cm4gYS50YXJnZXR8fGIuZWxlbWVudEZyb21Qb2ludChhLmNsaWVudFgsYS5jbGllbnRZKX0saXNUYXJnZXQ6ZnVuY3Rpb24oYSxiLGMpe2lmKGEudGFnTmFtZS50b0xvd2VyQ2FzZSgpIT09Yi50b0xvd2VyQ2FzZSgpKXJldHVybiExO2lmKCFjKXJldHVybiEwO2Zvcih2YXIgZD10aGlzLmdldEVsZW1lbnRUeXBlKGEpLGU9MDtlPGMubGVuZ3RoO2UrKylpZihjW2VdPT09ZClyZXR1cm4hMDtyZXR1cm4hMX0sZ2V0RWxlbWVudFR5cGU6ZnVuY3Rpb24oYSl7cmV0dXJuKGEuZ2V0QXR0cmlidXRlKFwidHlwZVwiKXx8XCJcIikudG9Mb3dlckNhc2UoKX0sZ2V0T3V0ZXJIVE1MOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1cIjxcIithLnRhZ05hbWUudG9Mb3dlckNhc2UoKSxjPWEuYXR0cmlidXRlcyxkPTAsZT1jLmxlbmd0aDtlPmQ7ZCsrKXt2YXIgZj1jW2RdLm5hbWU7XCJ2YWx1ZVwiIT09Zi50b0xvd2VyQ2FzZSgpJiYoYis9XCIgXCIrZisnPVwiJytjW2RdLnZhbHVlKydcIicpfXJldHVybiBiKz1cIiA+XCJ9LGdldFZhbHVlS2luZDpmdW5jdGlvbihhLGIpe3JldHVybiBudWxsPT1hP251bGw6e2xlbmd0aDphLmxlbmd0aCxjaGVja2VkOmIscGF0dGVybjp0aGlzLm1hdGNoSW5wdXRQYXR0ZXJuKGEpfX0sbWF0Y2hJbnB1dFBhdHRlcm46ZnVuY3Rpb24oYSl7cmV0dXJuXCJcIj09PWE/XCJlbXB0eVwiOi9eW2EtejAtOSEjJCUmJyorPT9cXF5fYHt8fX5cXC1dKyg/OlxcLlthLXowLTkhIyQlJicqKz0/XFxeX2B7fH1+XFwtXSspKkAoPzpbYS16MC05XSg/OlthLXowLTlcXC1dKlthLXowLTldKT9cXC4pK1thLXowLTldKD86W2EtejAtOVxcLV0qW2EtejAtOV0pPyQvLnRlc3QoYSk/XCJlbWFpbFwiOi9eKDA/WzEtOV18WzEyXVswLTldfDNbMDFdKVtcXC9cXC1dKDA/WzEtOV18MVswMTJdKVtcXC9cXC1dXFxkezR9JC8udGVzdChhKXx8L14oXFxkezR9W1xcL1xcLV0oMD9bMS05XXwxWzAxMl0pW1xcL1xcLV0wP1sxLTldfFsxMl1bMC05XXwzWzAxXSkkLy50ZXN0KGEpP1wiZGF0ZVwiOi9eKD86KD86XFwrPzFcXHMqKD86Wy5cXC1dXFxzKik/KT8oPzpcXChcXHMqKFsyLTldMVswMi05XXxbMi05XVswMi04XTF8WzItOV1bMDItOF1bMDItOV0pXFxzKlxcKXwoWzItOV0xWzAyLTldfFsyLTldWzAyLThdMXxbMi05XVswMi04XVswMi05XSkpXFxzKig/OlsuXFwtXVxccyopPyk/KFsyLTldMVswMi05XXxbMi05XVswMi05XTF8WzItOV1bMDItOV17Mn0pXFxzKig/OlsuXFwtXVxccyopPyhbMC05XXs0fSkoPzpcXHMqKD86I3x4XFwuP3xleHRcXC4/fGV4dGVuc2lvbilcXHMqKFxcZCspKT8kLy50ZXN0KGEpP1wicGhvbmVcIjovXlxccyokLy50ZXN0KGEpP1wid2hpdGVzcGFjZVwiOi9eXFxkKiQvLnRlc3QoYSk/XCJudW1lcmljXCI6XCJjaGFyYWN0ZXJcIn0sZ2V0QWxsRXZlbnRzOmZ1bmN0aW9uKCl7cmV0dXJuIFMuYWxsKFwidXNlclwiKX19LFY9e25vQ29uZmxpY3Q6ZnVuY3Rpb24oKXtyZXR1cm4gYS5hdGF0dXM9RCxWfSxpc0NvbmZpZ3VyZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hIW99LGNvbmZpZzpmdW5jdGlvbihiLGMpe3JldHVybiBjPWN8fHt9LG89YixDLnJlbW90ZUZldGNoaW5nPSExLHc9W10sYyYmKHA9Yy5jdXN0b21EYXRhLEU9Yy50YWdzfHxbXSxKPSEoIWMuZW5hYmxlU291cmNlbWFwJiYhYy5zb3VyY2VtYXApLHM9ISFjLmRpc2FibGVVc2VyQWN0aW9ucyx0PSEhYy5kaXNhYmxlQWpheE1vbml0b3JpbmcsdT0hIWMuZGlzYWJsZVJVTSxGPSEhYy5kZWJ1Z01vZGUsYy5pZ25vcmVFcnJvcnMmJlIuaXNBcnJheShjLmlnbm9yZUVycm9ycykmJih3PWMuaWdub3JlRXJyb3JzKSxWLnNldEFsbG93ZWREb21haW5zKGMuYWxsb3dlZERvbWFpbnMpLFYuc2V0VmVyc2lvbihjLnZlcnNpb24pLFYuZW5hYmxlT2ZmbGluZShjLmVuYWJsZU9mZmxpbmV8fGMub2ZmbGluZSksVi5vbkJlZm9yZUVycm9yU2VuZChjLmJlZm9yZUVycm9yU2VuZCksVi5zZXRHcm91cGluZ0tleUNhbGxiYWNrKGMuZ3JvdXBpbmdLZXlDYWxsYmFjaykpLEg9Ui5jYW5BbGxvd0luc2VjdXJlU3VibWlzc2lvbnMoKSx3LnB1c2goL15TY3JpcHQgZXJyb3JcXC4/JC8pLHcucHVzaCgvXkphdmFzY3JpcHQgZXJyb3I6IFNjcmlwdCBlcnJvclxcLj8gb24gbGluZSAwJC8pLHc9Ui5qb2luUmVnRXhwKHcpLGsoKSx2PXtlbmFibGVkOiEwLHRpbWVsaW5lOiEwLGRpc3BsYXk6ITAsZXJyb3I6ITAsbGV2ZWxzOm51bGx9LFIuaXNCb29sZWFuKGMuY29uc29sZSkmJih2LmVuYWJsZWQ9Yy5jb25zb2xlKSxSLmlzQm9vbGVhbihjLmNvbnNvbGVUaW1lbGluZSkmJih2LnRpbWVsaW5lPWMuY29uc29sZVRpbWVsaW5lKSxSLmlzQm9vbGVhbihjLmNvbnNvbGVEaXNwbGF5KSYmKHYuZGlzcGxheT1jLmNvbnNvbGVEaXNwbGF5KSxSLmlzQm9vbGVhbihjLmNvbnNvbGVFcnJvck5vdGlmeSkmJih2LmVycm9yPWMuY29uc29sZUVycm9yTm90aWZ5KSxSLmlzQXJyYXkoYy5jb25zb2xlVGltZWxpbmVMZXZlbHMpJiYodi5sZXZlbHM9Yy5jb25zb2xlVGltZWxpbmVMZXZlbHMpLHYuZW5hYmxlZCYmXCJjb25zb2xlXCJpbiBhJiZhLmNvbnNvbGUubG9nJiZULmF0dGFjaChhLmNvbnNvbGUsdi50aW1lbGluZSx2LmRpc3BsYXksdi5lcnJvcix2LmxldmVscyksc3x8VS5hdHRhY2goKSx0fHx1fHxWLl9fYXR0YWNoQWpheEhvb2tzKCksVn0saW5zdGFsbDpmdW5jdGlvbigpe3JldHVybiBnKCk/KEMucmVwb3J0LnN1YnNjcmliZShsKSxDLmV4dGVuZFRvQXN5bmNocm9ub3VzQ2FsbGJhY2tzKCksQSYmSyYmQS5hamF4RXJyb3IoZiksVik6dm9pZCAwfSx1bmluc3RhbGw6ZnVuY3Rpb24oKXtyZXR1cm4gbz1udWxsLEMucmVwb3J0LnVuc3Vic2NyaWJlKGwpLEEmJksmJkEudW5iaW5kKFwiYWpheEVycm9yXCIsZiksVn0sc2V0Q3VzdG9tRGF0YTpmdW5jdGlvbihhKXtyZXR1cm4gcD1hLFZ9LHNldFRhZ3M6ZnVuY3Rpb24oYSl7cmV0dXJuIEU9YSxWfSxzZXRBbGxvd2VkRG9tYWluczpmdW5jdGlvbihhKXtyZXR1cm4gYSYmUi5pc0FycmF5KGEpJiYoRz1hKSxWfSxnZXRBbGxvd2VkRG9tYWluczpmdW5jdGlvbigpe3JldHVybiBHfSxzZXRVc2VyOmZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiBxPXt9LGEmJihxLnVzZXJJZD1cIlwiK2EpLGImJihxLmVtYWlsPVwiXCIrYiksYyYmKHEuZmlyc3ROYW1lPVwiXCIrYyksZCYmKHEubGFzdE5hbWU9XCJcIitkKSxWfSxzZXRWZXJzaW9uOmZ1bmN0aW9uKGEpe3JldHVybiBhJiYocj1cIlwiK2EpLFZ9LGVuYWJsZU9mZmxpbmU6ZnVuY3Rpb24oYSl7cmV0dXJuIFIuaXNCb29sZWFuKGEpJiYoST1hKSxWfSxvbkJlZm9yZUVycm9yU2VuZDpmdW5jdGlvbihhKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBhJiYoej1hKSxWfSxzZXRHcm91cGluZ0tleUNhbGxiYWNrOmZ1bmN0aW9uKGEpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIGEmJih5PWEpLFZ9LHNldEFQSUVuZHBvaW50OmZ1bmN0aW9uKGEpe3JldHVybiBNPWEsVn0saW5pdDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGMmJihiPWJ8fHt9LGIuY3VzdG9tRGF0YT1jKSxWLmNvbmZpZyhhLGIpfSx3aXRoQ3VzdG9tRGF0YTpmdW5jdGlvbihhKXtyZXR1cm4gVi5zZXRDdXN0b21EYXRhKGEpfSx3aXRoVGFnczpmdW5jdGlvbihhKXtyZXR1cm4gVi5zZXRUYWdzKGEpfSxhdHRhY2g6ZnVuY3Rpb24oKXtyZXR1cm4gVi5pbnN0YWxsKCl9LGRldGFjaDpmdW5jdGlvbigpe3JldHVybiBWLnVuaW5zdGFsbCgpfSxub3RpZnk6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBWLnNlbmQoYSxiLGMpfSxzZW5kUGVyZjpmdW5jdGlvbihhKXtyZXR1cm4gdT92b2lkIFIubG9nKFwiUlVNIGlzIGRpc2FibGVkLiBQbGVhc2UgZW5hYmxlIGl0IGluIHRoZSBjb25maWcgb3B0aW9ucy5cIik6bShPLGEpfSxzZW5kQWpheFBlcmY6ZnVuY3Rpb24oYSl7cmV0dXJuIHU/dm9pZCBSLmxvZyhcIlJVTSBpcyBkaXNhYmxlZC4gUGxlYXNlIGVuYWJsZSBpdCBpbiB0aGUgY29uZmlnIG9wdGlvbnMuXCIpOm0oUCxhKX0sc2VuZFR4blBlcmY6ZnVuY3Rpb24oYSl7cmV0dXJuIG0oUSxhKX0sc2VuZDpmdW5jdGlvbihhLGIsYyl7dHJ5e2woQy5jb21wdXRlU3RhY2tUcmFjZShhKSx7Y3VzdG9tRGF0YTpSLm1lcmdlKHAsYiksdGFnczpSLm1lcmdlQXJyYXkoRSxjKX0pfWNhdGNoKGQpe2lmKGEhPT1kKXRocm93IGR9cmV0dXJuIFZ9LF9oZWxwZXI6Un07YS5hdGF0dXM9Vn0od2luZG93LGRvY3VtZW50LHdpbmRvdy5qUXVlcnkpLGZ1bmN0aW9uKGEsYixjKXtmdW5jdGlvbiBkKGEpe2EucGw8PTB8fGF0YXR1cy5zZW5kUGVyZihhKX1mdW5jdGlvbiBlKCl7dmFyIGI9YS5wZXJmb3JtYW5jZXx8YS5tb3pQZXJmb3JtYW5jZXx8YS5tc1BlcmZvcm1hbmNlfHxhLndlYmtpdFBlcmZvcm1hbmNlLGM9Yi50aW1pbmcsZT1iLm5hdmlnYXRpb247aWYoMD09PWMubG9hZEV2ZW50RW5kKXJldHVybiExO2NsZWFySW50ZXJ2YWwoaSksaT1udWxsO3ZhciBmPWMubmF2aWdhdGlvblN0YXJ0OzA+PWYmJihmPWMuZmV0Y2hTdGFydCk7dmFyIGc9e307Zm9yKHZhciBoIGluIGopZ1tqW2hdXT0tMSxoIGluIGMmJihjW2hdPD0wfHwoZ1tqW2hdXT1jW2hdLWYpKTt2YXIgaz17bnR5OmUudHlwZSxyYzplLnJlZGlyZWN0Q291bnQsbnQ6Zy5ycHMtZy5ucyxkcDpnLmRjZS1nLnJwcyxwcjpnLmxlLWcuZGNlLGZlOmcubGUtZy5ycHMscGw6Zy5sZS1nLm5zfTtkKGspfWZ1bmN0aW9uIGYoKXtpZighaHx8IWguYkRvbmUpcmV0dXJuITE7Y2xlYXJJbnRlcnZhbChpKSxpPSExO3ZhciBhPWguZ2V0TWVhc3VyZXMoKTtpZihudWxsIT1hJiZudWxsIT1hLmJhY2tlbmQmJm51bGwhPWEuZnJvbnRlbmQmJm51bGwhPWFbXCJwYWdlIGxvYWQgdGltZVwiXSYmbnVsbCE9YVtcInRvdGFsIGxvYWQgdGltZVwiXSl7dmFyIGI9YS5iYWNrZW5kLGM9YS5iYWNrZW5kK2EuZnJvbnRlbmQsZT17bnR5OjAscmM6MCxudDpiLGRwOmMtYixwcjphW1widG90YWwgbG9hZCB0aW1lXCJdLWMsZmU6YVtcInRvdGFsIGxvYWQgdGltZVwiXS1iLHBsOmFbXCJ0b3RhbCBsb2FkIHRpbWVcIl19O2QoZSl9fXZhciBnPShuZXcgRGF0ZSkuZ2V0VGltZSgpLGg9aHx8e307aC5xPWgucXx8W10saC52ZXJzaW9uPVwiMC4zXCIsaC50YXJnZXRPcmlnaW49Yi5sb2NhdGlvbi5wcm90b2NvbCtcIi8vXCIrYi5sb2NhdGlvbi5ob3N0bmFtZSxoLmJQb3N0TWVzc2FnZT0hMSxoLmJlYWNvblVybD1oLmJlYWNvblVybHx8XCIvaW1hZ2VzL2JlYWNvbi5naWZcIixoLmF1dG9ydW49ITEsaC5pbml0PWZ1bmN0aW9uKCl7aWYoaC5iRG9uZT0hMSxoLmJVbmxvYWRlZD0hMSxoLm1hcmtzPXt9LGgubWVhc3VyZXM9e30saC5zdGFydHM9e30saC5maW5kU3RhcnRUaW1lKCksaC5hZGRFdmVudExpc3RlbmVyKFwiYmVmb3JldW5sb2FkXCIsaC5iZWZvcmVVbmxvYWQsITEpLGguYWRkRXZlbnRMaXN0ZW5lcihcInBhZ2VoaWRlXCIsaC5iZWZvcmVVbmxvYWQsITEpLGguYWRkRXZlbnRMaXN0ZW5lcihcInVubG9hZFwiLGguYmVmb3JlVW5sb2FkLCExKSxoLnByb2Nlc3NRKCksXCJjb21wbGV0ZVwiPT09Yi5yZWFkeVN0YXRlKXt2YXIgYz1hLnBlcmZvcm1hbmNlfHxhLm1velBlcmZvcm1hbmNlfHxhLm1zUGVyZm9ybWFuY2V8fGEud2Via2l0UGVyZm9ybWFuY2U7YyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGMudGltaW5nJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgYy50aW1pbmcubG9hZEV2ZW50RW5kJiYoaC5tYXJrKFwiZmlyc3RieXRlXCIsYy50aW1pbmcucmVzcG9uc2VTdGFydCksaC5tYXJrKFwib25sb2FkXCIsYy50aW1pbmcubG9hZEV2ZW50RW5kKSksaC5kb25lKCl9ZWxzZSBoLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsaC5vbmxvYWQsITEpfSxoLnByb2Nlc3NRPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPWgucS5sZW5ndGgsYj0wO2E+YjtiKyspe3ZhciBjPWgucVtiXSxkPWNbMF07XCJtYXJrXCI9PT1kP2gubWFyayhjWzFdLGNbMl0pOlwibWVhc3VyZVwiPT09ZD9oLm1lYXN1cmUoY1sxXSxjWzJdLGNbM10pOlwiZG9uZVwiPT09ZCYmaC5kb25lKGNbMV0pfX0saC5tYXJrPWZ1bmN0aW9uKGIsYyl7cmV0dXJuIGguZHByaW50KFwiUlVNX0VQSVNPREVTLm1hcms6IFwiK2IrXCIsIFwiK2MpLGI/KGgubWFya3NbYl09cGFyc2VJbnQoY3x8KG5ldyBEYXRlKS5nZXRUaW1lKCkpLGguYlBvc3RNZXNzYWdlJiZhLnBvc3RNZXNzYWdlKFwiUlVNX0VQSVNPREVTOm1hcms6XCIrYitcIjpcIitjLGgudGFyZ2V0T3JpZ2luKSx2b2lkKFwiZmlyc3RieXRlXCI9PT1iP2gubWVhc3VyZShcImJhY2tlbmRcIixcInN0YXJ0dGltZVwiLFwiZmlyc3RieXRlXCIpOlwib25sb2FkXCI9PT1iPyhoLm1lYXN1cmUoXCJmcm9udGVuZFwiLFwiZmlyc3RieXRlXCIsXCJvbmxvYWRcIiksaC5tZWFzdXJlKFwicGFnZSBsb2FkIHRpbWVcIixcInN0YXJ0dGltZVwiLFwib25sb2FkXCIpKTpcImRvbmVcIj09PWImJmgubWVhc3VyZShcInRvdGFsIGxvYWQgdGltZVwiLFwic3RhcnR0aW1lXCIsXCJkb25lXCIpKSk6dm9pZCBoLmRwcmludChcIkVycm9yOiBtYXJrTmFtZSBpcyB1bmRlZmluZWQgaW4gUlVNX0VQSVNPREVTLm1hcmsuXCIpfSxoLm1lYXN1cmU9ZnVuY3Rpb24oYixjLGQpe2lmKGguZHByaW50KFwiUlVNX0VQSVNPREVTLm1lYXN1cmU6IFwiK2IrXCIsIFwiK2MrXCIsIFwiK2QpLCFiKXJldHVybiB2b2lkIGguZHByaW50KFwiRXJyb3I6IGVwaXNvZGVOYW1lIGlzIHVuZGVmaW5lZCBpbiBSVU1fRVBJU09ERVMubWVhc3VyZS5cIik7dmFyIGU7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIGMpZT1cIm51bWJlclwiPT10eXBlb2YgaC5tYXJrc1tiXT9oLm1hcmtzW2JdOihuZXcgRGF0ZSkuZ2V0VGltZSgpO2Vsc2UgaWYoXCJudW1iZXJcIj09dHlwZW9mIGgubWFya3NbY10pZT1oLm1hcmtzW2NdO2Vsc2V7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGMpcmV0dXJuIHZvaWQgaC5kcHJpbnQoXCJFcnJvcjogdW5leHBlY3RlZCBzdGFydE5hbWVPclRpbWUgaW4gUlVNX0VQSVNPREVTLm1lYXN1cmU6IFwiK2MpO2U9Y312YXIgZjtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgZClmPShuZXcgRGF0ZSkuZ2V0VGltZSgpO2Vsc2UgaWYoXCJudW1iZXJcIj09dHlwZW9mIGgubWFya3NbZF0pZj1oLm1hcmtzW2RdO2Vsc2V7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGQpcmV0dXJuIHZvaWQgaC5kcHJpbnQoXCJFcnJvcjogdW5leHBlY3RlZCBlbmROYW1lT3JUaW1lIGluIFJVTV9FUElTT0RFUy5tZWFzdXJlOiBcIitkKTtmPWR9aC5zdGFydHNbYl09cGFyc2VJbnQoZSksaC5tZWFzdXJlc1tiXT1wYXJzZUludChmLWUpLGguYlBvc3RNZXNzYWdlJiZhLnBvc3RNZXNzYWdlKFwiUlVNX0VQSVNPREVTOm1lYXN1cmU6XCIrYitcIjpcIitlK1wiOlwiK2YsaC50YXJnZXRPcmlnaW4pfSxoLmRvbmU9ZnVuY3Rpb24oYil7aC5iRG9uZT0hMCxoLm1hcmsoXCJkb25lXCIpLGguYlBvc3RNZXNzYWdlJiZhLnBvc3RNZXNzYWdlKFwiUlVNX0VQSVNPREVTOmRvbmVcIixoLnRhcmdldE9yaWdpbiksXCJmdW5jdGlvblwiPT10eXBlb2YgYiYmYigpfSxoLmdldE1hcmtzPWZ1bmN0aW9uKCl7cmV0dXJuIGgubWFya3N9LGguZ2V0TWVhc3VyZXM9ZnVuY3Rpb24oKXtyZXR1cm4gaC5tZWFzdXJlc30saC5nZXRTdGFydHM9ZnVuY3Rpb24oKXtyZXR1cm4gaC5zdGFydHN9LGguZmluZFN0YXJ0VGltZT1mdW5jdGlvbigpe3ZhciBhPWguZmluZFN0YXJ0V2ViVGltaW5nKCl8fGguZmluZFN0YXJ0Q29va2llKCk7YSYmaC5tYXJrKFwic3RhcnR0aW1lXCIsYSl9LGguZmluZFN0YXJ0V2ViVGltaW5nPWZ1bmN0aW9uKCl7dmFyIGIsYz1hLnBlcmZvcm1hbmNlfHxhLm1velBlcmZvcm1hbmNlfHxhLm1zUGVyZm9ybWFuY2V8fGEud2Via2l0UGVyZm9ybWFuY2U7cmV0dXJuIGMmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBjLnRpbWluZyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGMudGltaW5nLm5hdmlnYXRpb25TdGFydCYmKGI9Yy50aW1pbmcubmF2aWdhdGlvblN0YXJ0LGguZHByaW50KFwiUlVNX0VQSVNPREVTLmZpbmRTdGFydFdlYlRpbWluZzogc3RhcnRUaW1lID0gXCIrYikpLGJ9LGguZmluZFN0YXJ0Q29va2llPWZ1bmN0aW9uKCl7Zm9yKHZhciBkPWIuY29va2llLnNwbGl0KFwiIFwiKSxlPTA7ZTxkLmxlbmd0aDtlKyspaWYoMD09PWRbZV0uaW5kZXhPZihcIlJVTV9FUElTT0RFUz1cIikpe2Zvcih2YXIgZixnLGk9ZFtlXS5zdWJzdHJpbmcoXCJSVU1fRVBJU09ERVM9XCIubGVuZ3RoKS5zcGxpdChcIiZcIiksaj0wO2o8aS5sZW5ndGg7aisrKWlmKDA9PT1pW2pdLmluZGV4T2YoXCJzPVwiKSlmPWlbal0uc3Vic3RyaW5nKDIpO2Vsc2UgaWYoMD09PWlbal0uaW5kZXhPZihcInI9XCIpKXt2YXIgaz1pW2pdLnN1YnN0cmluZygyKTtrPWsucmVwbGFjZSgvOyQvLFwiXCIpLGc9YS5lc2NhcGUoYi5yZWZlcnJlcik9PT1rfWlmKGcmJmYpcmV0dXJuIGguZHByaW50KFwiUlVNX0VQSVNPREVTLmZpbmRTdGFydENvb2tpZTogc3RhcnRUaW1lID0gXCIrZiksZn1yZXR1cm4gY30saC5iZWZvcmVVbmxvYWQ9ZnVuY3Rpb24oKXtoLmJVbmxvYWRlZHx8KGIuY29va2llPVwiUlVNX0VQSVNPREVTPXM9XCIrTnVtYmVyKG5ldyBEYXRlKStcIiZyPVwiK2EuZXNjYXBlKGIubG9jYXRpb24pK1wiOyBwYXRoPS9cIixoLmJVbmxvYWRlZD0hMCl9LGgub25sb2FkPWZ1bmN0aW9uKCl7aC5tYXJrKFwib25sb2FkXCIpLGguZG9uZSgpfSxoLmFkZEV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oYixjLGQpe3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBhLmF0dGFjaEV2ZW50P2EuYXR0YWNoRXZlbnQoXCJvblwiK2IsYyk6YS5hZGRFdmVudExpc3RlbmVyP2EuYWRkRXZlbnRMaXN0ZW5lcihiLGMsZCk6dm9pZCAwfSxoLmRwcmludD1mdW5jdGlvbigpe30saC5pbml0KCk7dmFyIGk9bnVsbCxqPXtuYXZpZ2F0aW9uU3RhcnQ6XCJuc1wiLHJlZGlyZWN0U3RhcnQ6XCJyZHNcIixyZWRpcmVjdEVuZDpcInJkZVwiLHVubG9hZEV2ZW50U3RhcnQ6XCJ1c1wiLHVubG9hZEV2ZW50RW5kOlwidWVcIixmZXRjaFN0YXJ0OlwiZnNcIixkb21haW5Mb29rdXBTdGFydDpcImRsc1wiLGRvbWFpbkxvb2t1cEVuZDpcImRsZVwiLGNvbm5lY3RTdGFydDpcImNzXCIsc2VjdXJlQ29ubmVjdGlvblN0YXJ0Olwic2NzXCIsY29ubmVjdEVuZDpcImNlXCIsaGFuZHNoYWtlU3RhcnQ6XCJoc1wiLHJlcXVlc3RTdGFydDpcInJxc1wiLHJlc3BvbnNlU3RhcnQ6XCJycHNcIixyZXNwb25zZUVuZDpcInJwZVwiLGRvbUxvYWRpbmc6XCJkbFwiLGRvbUludGVyYWN0aXZlOlwiZGlcIixkb21Db250ZW50TG9hZGVkRXZlbnRTdGFydDpcImRjc1wiLGRvbUNvbnRlbnRMb2FkZWRFdmVudEVuZDpcImRjZVwiLGRvbUNvbXBsZXRlOlwiZGNcIixsb2FkRXZlbnRTdGFydDpcImxzXCIsbG9hZEV2ZW50RW5kOlwibGVcIn0saz1hLnBlcmZvcm1hbmNlfHxhLm1velBlcmZvcm1hbmNlfHxhLm1zUGVyZm9ybWFuY2V8fGEud2Via2l0UGVyZm9ybWFuY2U7ayYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGsudGltaW5nJiZcInVuZGVmaW5lZFwiIT10eXBlb2Ygay5uYXZpZ2F0aW9uP2k9c2V0SW50ZXJ2YWwoZSwxMDApOihoLm1hcmsoXCJmaXJzdGJ5dGVcIixnKSxpPXNldEludGVydmFsKGYsMTAwKSl9KHdpbmRvdyxkb2N1bWVudCksYXRhdHVzLl9fYXR0YWNoQWpheEhvb2tzPWZ1bmN0aW9uKCl7IWZ1bmN0aW9uKGEsYil7dmFyIGM9YXRhdHVzLl9oZWxwZXIsZD17cXVldWU6W10sYmF0Y2hTaXplOjI1LHByb2Nlc3Npbmc6ITEsYlVubG9hZGVkOiExLHB1c2g6ZnVuY3Rpb24oYSl7XCJzdHJpbmdcIj09dHlwZW9mIGEudXJsJiZhLnVybC5pbmRleE9mKFwiLmh0bWxcIik+MHx8KHRoaXMucXVldWUucHVzaChhKSx0aGlzLnF1ZXVlLmxlbmd0aD49dGhpcy5iYXRjaFNpemUmJnRoaXMuX3Byb2Nlc3NRdWV1ZSgpKX0sX3Byb2Nlc3NRdWV1ZTpmdW5jdGlvbigpe2lmKCF0aGlzLnByb2Nlc3NpbmcmJnRoaXMucXVldWUubGVuZ3RoKXt0aGlzLnByb2Nlc3Npbmc9ITA7dHJ5e2Zvcih2YXIgYT17fSxiPXt9LGQ9MDtkPHRoaXMucXVldWUubGVuZ3RoO2QrKyl7dmFyIGUsZj10aGlzLnF1ZXVlW2RdO2lmKGYuc3RhdHVzPDQwMCl7ZT1mLm1ldGhvZCtmLnVybDt2YXIgZz1mLnJlc3BBdmFpbFRpbWUtZi5zZW5kVGltZSxoPWYucmVzcFByb2NUaW1lLWYucmVzcEF2YWlsVGltZSxpPWYucmVjZWl2ZWRTaXplLGo9Zi5zZW5kU2l6ZSxrPWFbZV07aWYoayl7ay5jKys7dmFyIGw9ay5yZTtsLnQ9bC50K2csbC5sbz1sLmxvPGc/bC5sbzpnLGwuaGk9bC5oaT5nP2wuaGk6ZyxsLnNzcT1sLnNzcStnKmc7dmFyIG09ay5jYjttLnQ9bS50K2gsbS5sbz1tLmxvPGg/bS5sbzpoLG0uaGk9bS5oaT5oP20uaGk6aCxtLnNzcT1tLnNzcStoKmg7dmFyIG49ay5ycztuLnQ9bi50K2ksbi5sbz1uLmxvPGk/bi5sbzppLG4uaGk9bi5oaT5pP24uaGk6aSxuLnNzcT1uLnNzcStpKmk7dmFyIG89ay5zcztvLnQ9by50K2osby5sbz1vLmxvPGo/by5sbzpqLG8uaGk9by5oaT5qP28uaGk6aixvLnNzcT1vLnNzcStqKmp9ZWxzZSBhW2VdPXttOmYubWV0aG9kLHVybDpmLnVybCxjOjEscmU6e3Q6ZyxsbzpnLGhpOmcsc3NxOmcqZ30sY2I6e3Q6aCxsbzpoLGhpOmgsc3NxOmgqaH0scnM6e3Q6Zi5yZWNlaXZlZFNpemUsbG86Zi5yZWNlaXZlZFNpemUsaGk6Zi5yZWNlaXZlZFNpemUsc3NxOmYucmVjZWl2ZWRTaXplKmYucmVjZWl2ZWRTaXplfSxzczp7dDpmLnNlbmRTaXplLGxvOmYuc2VuZFNpemUsaGk6Zi5zZW5kU2l6ZSxzc3E6Zi5zZW5kU2l6ZSpmLnNlbmRTaXplfX19ZWxzZSBlPWYubWV0aG9kK2Yuc3RhdHVzK2YudXJsLGJbZV0/YltlXS5jKys6YltlXT17bTpmLm1ldGhvZCx1cmw6Zi51cmwsc3Q6Zi5zdGF0dXMsYzoxfX12YXIgcD17eGhyOmMuYXJyYXlGcm9tT2JqZWN0KGEpLHhockVycm9yOmMuYXJyYXlGcm9tT2JqZWN0KGIpfTthdGF0dXMuc2VuZEFqYXhQZXJmKHApfWNhdGNoKHEpe2MubG9nKFwiRXJyb3Igd2hpbGUgcHJvY2Vzc2luZyBxdWV1ZTogXCIscSl9ZmluYWxseXt0aGlzLnF1ZXVlPVtdLHRoaXMucHJvY2Vzc2luZz0hMX19fSxiZWZvcmVVbmxvYWQ6ZnVuY3Rpb24oKXtkLmJVbmxvYWRlZHx8KGQuX3Byb2Nlc3NRdWV1ZSgpLGQuYlVubG9hZGVkPSEwKX19O2MuYWRkRXZlbnRMaXN0ZW5lcihcImJlZm9yZXVubG9hZFwiLGQuYmVmb3JlVW5sb2FkLCExKTt2YXIgZT17c3VwcG9ydDpmdW5jdGlvbihhKXtyZXR1cm4hYXx8XCJhcHBseVwiaW4gYX0sYXJvdW5kOmZ1bmN0aW9uKGEsYixkLGUpe3JldHVybiBhPWF8fGZ1bmN0aW9uKCl7fSxmdW5jdGlvbigpe3ZhciBmLGc9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTt0cnl7YiYmKGY9Yi5hcHBseSh0aGlzLGcpKX1jYXRjaChoKXtjLmxvZyhlLGgpfXZhciBpO3RyeXtpPWEuYXBwbHkodGhpcyxmfHxnKX1maW5hbGx5e3RyeXtkJiZkLmFwcGx5KHRoaXMsZyl9Y2F0Y2goaCl7Yy5sb2coZSxoKX19cmV0dXJuIGl9fSxiZWZvcmU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZS5hcm91bmQoYSxiKX0sYWZ0ZXI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZS5hcm91bmQoYSxudWxsLGIpfSx0aW1lb3V0OmZ1bmN0aW9uKGEpe3NldFRpbWVvdXQoYSwwKX0sd3JhcEFkZEV2ZW50TGlzdGVuZXI6ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oYSxiKXtpZigoXCJsb2FkXCI9PT1hfHxcImVycm9yXCI9PT1hKSYmYiYmdGhpcy5fYXRydW1YaHJEYXRhKXt2YXIgYztiLl9fYXRydW1JbnRlcmNlcHRvcj9jPWIuX19hdHJ1bUludGVyY2VwdG9yOmUuc3VwcG9ydChiKT8oYz1nLndyYXBYSFIoYix0aGlzLFwiWEhSLmludm9rZUV2ZW50TGlzdGVuZXJcIiksYi5fX2F0cnVtSW50ZXJjZXB0b3I9Yyk6Yz1udWxsO3ZhciBkO3JldHVybiBjJiYoZD1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpLGRbMV09YyksZH19fSx3cmFwUmVtb3ZlRXZlbnRMaXN0ZW5lcjpmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihhLGIpe2lmKHRoaXMuX2F0cnVtWGhyRGF0YSl7dmFyIGM9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtyZXR1cm4gYi5fX2F0cnVtSW50ZXJjZXB0b3ImJihjWzFdPWIuX19hdHJ1bUludGVyY2VwdG9yKSxjfX19LGFyb3VuZFdpdGhIYW5kbGVFdmVudDpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZj1hO3JldHVybiBhJiZcIm9iamVjdFwiPT10eXBlb2YgYSYmXCJ0b1N0cmluZ1wiaW4gYSYmXCJbeHBjb25uZWN0IHdyYXBwZWQgbnNJRE9NRXZlbnRMaXN0ZW5lcl1cIj09PWEudG9TdHJpbmcoKSYmXCJoYW5kbGVFdmVudFwiaW4gYSYmKGY9ZnVuY3Rpb24oKXthLmhhbmRsZUV2ZW50LmFwcGx5KHRoaXMsQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSl9KSxlLmFyb3VuZChmLGIsYyxkKX0sZ2V0RnVsbHlRdWFsaWZpZWRVcmw6ZnVuY3Rpb24oYSl7dmFyIGM9Yi5jcmVhdGVFbGVtZW50KFwiYVwiKTtyZXR1cm4gYy5ocmVmPWEsYy5ocmVmfX07aWYoYS5YTUxIdHRwUmVxdWVzdCYmYS5YTUxIdHRwUmVxdWVzdC5wcm90b3R5cGUpe3ZhciBmPWEuWE1MSHR0cFJlcXVlc3QucHJvdG90eXBlO2lmKCEoXCJvcGVuXCJpbiBmJiZcInNlbmRcImluIGYpKXJldHVybjtpZighZS5zdXBwb3J0KGYub3Blbil8fCFlLnN1cHBvcnQoZi5zZW5kKSlyZXR1cm47dmFyIGc9e307Zy5jYXB0dXJlQWpheFRpbWluZ3M9ZnVuY3Rpb24oYSl7dmFyIGI9YS5fYXRydW1YaHJEYXRhO2lmKGIpe3ZhciBjPShuZXcgRGF0ZSkuZ2V0VGltZSgpOzI9PT1hLnJlYWR5U3RhdGU/Yi5maXJzdEJ5dGVUaW1lPWIuZmlyc3RCeXRlVGltZXx8Yzo0PT09YS5yZWFkeVN0YXRlJiYoYi5yZXNwQXZhaWxUaW1lPWIucmVzcEF2YWlsVGltZXx8YyxiLmZpcnN0Qnl0ZVRpbWU9Yi5maXJzdEJ5dGVUaW1lfHxjKX19LGcuc2VuZFBheWxvYWQ9ZnVuY3Rpb24oYSxiKXtiLnJlY2VpdmVkU2l6ZT0wLGEucmVzcG9uc2VUeXBlJiZcInRleHRcIiE9PWEucmVzcG9uc2VUeXBlfHxcInN0cmluZ1wiPT10eXBlb2YgYS5yZXNwb25zZVRleHQmJihiLnJlY2VpdmVkU2l6ZT1hLnJlc3BvbnNlVGV4dC5sZW5ndGgpLGIuc3RhdHVzPWEuc3RhdHVzLGQucHVzaChiKX0sZy53cmFwWEhSPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gZS5hcm91bmRXaXRoSGFuZGxlRXZlbnQoYSxmdW5jdGlvbigpe2cuY2FwdHVyZUFqYXhUaW1pbmdzKHRoaXMpfSxmdW5jdGlvbigpe3ZhciBhPWIuX2F0cnVtWGhyRGF0YTtpZihhJiY0PT09Yi5yZWFkeVN0YXRlKXt2YXIgYz0obmV3IERhdGUpLmdldFRpbWUoKTthLnJlc3BQcm9jVGltZT1hLnJlc3BQcm9jVGltZXx8YyxnLnNlbmRQYXlsb2FkKGIsYSksZGVsZXRlIGIuX2F0cnVtWGhyRGF0YX19LGMpfSxnLmFqYXhEb25lPWZ1bmN0aW9uKGEpe2lmKGEuX2F0cnVtWGhyRGF0YSl7dmFyIGI9KG5ldyBEYXRlKS5nZXRUaW1lKCkrM2U0LGM9ZnVuY3Rpb24oKXtnLmNhcHR1cmVBamF4VGltaW5ncyhhKTt2YXIgZD1hLl9hdHJ1bVhockRhdGE7aWYoZCl7dmFyIGU9KG5ldyBEYXRlKS5nZXRUaW1lKCk7ND09PWEucmVhZHlTdGF0ZT8oZC5yZXNwUHJvY1RpbWU9ZC5yZXNwUHJvY1RpbWV8fGUsZy5zZW5kUGF5bG9hZChhLGQpLGRlbGV0ZSBhLl9hdHJ1bVhockRhdGEpOmI+ZT9zZXRUaW1lb3V0KGMsNTApOmRlbGV0ZSBhLl9hdHJ1bVhockRhdGF9fTtjKCl9fSxmLm9wZW49ZS5hcm91bmQoZi5vcGVuLGZ1bmN0aW9uKCl7dmFyIGE9MTw9YXJndW1lbnRzLmxlbmd0aD9TdHJpbmcoYXJndW1lbnRzWzBdKTpcIlwiLGI9Mjw9YXJndW1lbnRzLmxlbmd0aD9TdHJpbmcoYXJndW1lbnRzWzFdKTpcIlwiLGM9YXRhdHVzLmdldEFsbG93ZWREb21haW5zKCksZD0hMDtpZihiPWUuZ2V0RnVsbHlRdWFsaWZpZWRVcmwoYiksYiYmYyYmYy5sZW5ndGgpe2Q9ITE7Zm9yKHZhciBmPTA7ZjxjLmxlbmd0aDtmKyspe3ZhciBnPWNbZl07aWYoZyYmYi5pbmRleE9mKGcpPi0xKXtkPSEwO2JyZWFrfX19ZCYmKGI9YiYmYi5zcGxpdChcIj9cIilbMF0sdGhpcy5fYXRydW1YaHJEYXRhPXttZXRob2Q6YSx1cmw6YixzZW5kVGltZTpudWxsLHNlbmRTaXplOm51bGwsZmlyc3RCeXRlVGltZTpudWxsLHJlc3BBdmFpbFRpbWU6bnVsbCxyZXNwUHJvY1RpbWU6bnVsbCxyZWNlaXZlZFNpemU6bnVsbCxwYXJlbnRQaGFzZTpudWxsfSl9LG51bGwsXCJYSFIub3BlblwiKSxmLnNlbmQ9ZS5hcm91bmQoZi5zZW5kLGZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPWEuX2F0cnVtWGhyRGF0YTtpZihiKXt2YXIgYz0obmV3IERhdGUpLmdldFRpbWUoKTtiLnNlbmRUaW1lPWIuc2VuZFRpbWV8fGMsYi5zZW5kU2l6ZT0xPD1hcmd1bWVudHMubGVuZ3RoJiZhcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdLmxlbmd0aHx8MDowO3ZhciBkPTAsZj1mdW5jdGlvbigpe2lmKDQ9PT1hLnJlYWR5U3RhdGUpZy5hamF4RG9uZShhKTtlbHNle3ZhciBiPW51bGw7dHJ5e2I9YS5vbnJlYWR5c3RhdGVjaGFuZ2V9Y2F0Y2goYyl7cmV0dXJuIHZvaWQgZy5hamF4RG9uZShhKX1kKyssYj9lLnN1cHBvcnQoYik/YS5vbnJlYWR5c3RhdGVjaGFuZ2U9Zy53cmFwWEhSKGIsYSxcIlhIUi5vblJlYWR5U3RhdGVDaGFuZ2VcIik6Zy5hamF4RG9uZShhKTo1PmQ/ZS50aW1lb3V0KGYpOmcuYWpheERvbmUoYSl9fTtmKCl9fSxudWxsLFwiWEhSLnNlbmRcIiksXCJhZGRFdmVudExpc3RlbmVyXCJpbiBmJiZcInJlbW92ZUV2ZW50TGlzdGVuZXJcImluIGYmJmUuc3VwcG9ydChmLmFkZEV2ZW50TGlzdGVuZXIpJiZlLnN1cHBvcnQoZi5yZW1vdmVFdmVudExpc3RlbmVyKSYmKGYuYWRkRXZlbnRMaXN0ZW5lcj1lLmFyb3VuZChmLmFkZEV2ZW50TGlzdGVuZXIsZS53cmFwQWRkRXZlbnRMaXN0ZW5lcigpLG51bGwsXCJYSFIuYWRkRXZlbnRMaXN0ZW5lclwiKSxmLnJlbW92ZUV2ZW50TGlzdGVuZXI9ZS5hcm91bmQoZi5yZW1vdmVFdmVudExpc3RlbmVyLGUud3JhcFJlbW92ZUV2ZW50TGlzdGVuZXIoKSxudWxsLFwiWEhSLnJlbW92ZUV2ZW50TGlzdGVuZXJcIikpfX0od2luZG93LGRvY3VtZW50KX0sZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhLGIsYyl7aWYoISgwPj1iKSl7dmFyIGQ9e25hbWU6YSxkdXI6YixzdDpjfTthdGF0dXMuc2VuZFR4blBlcmYoZCl9fWZ1bmN0aW9uIGMoYSl7cmV0dXJuIGgrXCIgXCIrYX1mdW5jdGlvbiBkKCl7dHJ5e3JldHVyblwibG9jYWxTdG9yYWdlXCJpbiBhJiZudWxsIT09YS5sb2NhbFN0b3JhZ2U7fWNhdGNoKGIpe3JldHVybiExfX1mdW5jdGlvbiBlKGEpe3ZhciBiPWkubm93KCk7dHJ5e2xvY2FsU3RvcmFnZS5zZXRJdGVtKGMoYSksYil9Y2F0Y2goZCl7fX1mdW5jdGlvbiBmKGEpe3ZhciBiPW51bGwsZD1jKGEpO3RyeXtiPWxvY2FsU3RvcmFnZS5nZXRJdGVtKGQpLGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGQpfWNhdGNoKGUpe312YXIgZj0wO3JldHVybiBiJiYoZj1pLm5vdygpLWIpLGZ9ZnVuY3Rpb24gZyhhKXt0cnl7dmFyIGI9YyhhKTtsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShiKX1jYXRjaChkKXt9fXZhciBoPVwiYXRhdHVzLmNvbS9cIixpPWF0YXR1cy5faGVscGVyLGo9MSxrPTA7YXRhdHVzLmJlZ2luVHJhbnNhY3Rpb249ZnVuY3Rpb24oYSl7ZCgpJiZlKGEpfSxhdGF0dXMuZW5kVHJhbnNhY3Rpb249ZnVuY3Rpb24oYSl7aWYoZCgpKXt2YXIgYz1mKGEpO2IoYSxjLGopfX0sYXRhdHVzLmZhaWxUcmFuc2FjdGlvbj1mdW5jdGlvbihhKXtpZihkKCkpe3ZhciBjPWYoYSk7YihhLGMsayl9fSxhdGF0dXMuY2FuY2VsVHJhbnNhY3Rpb249ZnVuY3Rpb24oYSl7ZCgpJiZnKGEpfX0od2luZG93LGRvY3VtZW50KTtcbi8qISBodHRwczovL2dpdGh1Yi5jb20vdHRhdWJlcnQvbm9kZS1hcnJheWJ1ZmZlci1zbGljZVxuICogKGMpIDIwMTQgVGltIFRhdWJlcnQgPHRpbUB0aW10YXViZXJ0LmRlPlxuICogYXJyYXlidWZmZXItc2xpY2UgbWF5IGJlIGZyZWVseSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuKi9cbiFmdW5jdGlvbihyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiB0KHIsdCl7cmV0dXJuIHI9MHxyfHwwLHI8MD9NYXRoLm1heChyK3QsMCk6TWF0aC5taW4ocix0KX1BcnJheUJ1ZmZlci5wcm90b3R5cGUuc2xpY2V8fChBcnJheUJ1ZmZlci5wcm90b3R5cGUuc2xpY2U9ZnVuY3Rpb24oZSxuKXt2YXIgZj10aGlzLmJ5dGVMZW5ndGgsaT10KGUsZiksYT1mO2lmKG4hPT1yJiYoYT10KG4sZikpLGk+YSlyZXR1cm4gbmV3IEFycmF5QnVmZmVyKDApO3ZhciB1PWEtaSx5PW5ldyBBcnJheUJ1ZmZlcih1KSxvPW5ldyBVaW50OEFycmF5KHkpLHM9bmV3IFVpbnQ4QXJyYXkodGhpcyxpLHUpO3JldHVybiBvLnNldChzKSx5fSl9KCk7XG4hZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShyKXtpZihpW3JdKXJldHVybiBpW3JdLnQ7dmFyIG49aVtyXT17dDp7fSxpZDpyLGxvYWRlZDohMX07cmV0dXJuIHRbcl0uY2FsbChuLnQsbixuLnQsZSksbi5sb2FkZWQ9ITAsbi50fXZhciBpPXt9O3JldHVybiBlLmk9dCxlLmM9aSxlLm89XCJcIixlKDApfShbZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO3ZhciByPXRoaXMmJnRoaXMuX19leHRlbmRzfHxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIGkoKXt0aGlzLmNvbnN0cnVjdG9yPXR9Zm9yKHZhciByIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShyKSYmKHRbcl09ZVtyXSk7dC5wcm90b3R5cGU9bnVsbD09PWU/T2JqZWN0LmNyZWF0ZShlKTooaS5wcm90b3R5cGU9ZS5wcm90b3R5cGUsbmV3IGkpfSxuPWkoMjUpLG89aSg3KSxzPWkoOSksYT1pKDEpO2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBjKXZhciBjPTNlNDt2YXIgaD1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUsaSl7dmFyIHI9dC5jYWxsKHRoaXMsaSl8fHRoaXM7cmV0dXJuIHIucGx1Z2luTmFtZT1cImJpdG1vdmluXCIsci5zPSExLHIucGxheWVyPWUsci5wbGF5ZXIuaW5pdFNlc3Npb249ZnVuY3Rpb24odCl7cmV0dXJuIHIuaCgpLHIucCh0KS50aW1lb3V0KGMsci51K1wiIEhpdmUgUGx1Z2luIGluaXRpYWxpemF0aW9uIHRpbWVvdXRcIikudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gci5sKCksdC5nKCl9KVtcImNhdGNoXCJdKGZ1bmN0aW9uKHQpe3JldHVybiByLnYoKSxyLmgoKSxyLm0oKS5kZWJ1ZyhyLnUrXCIgZXJyb3Igb2NjdXJyZWQgcmVzb2x2aW5nIHRoZSB0aWNrZXQgLSBcIit0LnN0YWNrKSxhLnJlamVjdCh0KX0pfSxyLm0oKS5ub3RpY2Uoci51K1wicmVnaXN0ZXJlZCBwbHVnaW4gW25hbWU6XCIrci5UKCkrXCJdW2lkOiBcIityLlMoKStcIl1bdmVyc2lvbjogXCIrci5JKCkrXCJdXCIpLHJ9cmV0dXJuIHIoZSx0KSxlLnByb3RvdHlwZS5sPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLnN8fCh0aGlzLnBsYXllci5hZGRFdmVudEhhbmRsZXIoXCJvblJlYWR5XCIsZnVuY3Rpb24oKXtpZih0Lm0oKS5kZWJ1ZyhcImJpdG1vdmluLnBsYXllci5FVkVOVC5PTl9SRUFEWVwiKSx0LlIoKSl7dmFyIGU9ISF0LnBsYXllci5nZXRDb25maWcoKS5wbGF5YmFjayYmdC5wbGF5ZXIuZ2V0Q29uZmlnKCkucGxheWJhY2suYXV0bztlJiZ0LmsoITEpLHQuQygpJiYodC5PPW5ldyBvLlApfX0pLHRoaXMucGxheWVyLmFkZEV2ZW50SGFuZGxlcihcIm9uUGxheVwiLGZ1bmN0aW9uKCl7dC5tKCkuZGVidWcoXCJiaXRtb3Zpbi5wbGF5ZXIuRVZFTlQuT05fUExBWVwiKSx0LkEocy5GLkIuTil9KSx0aGlzLnBsYXllci5hZGRFdmVudEhhbmRsZXIoXCJvbkVycm9yXCIsZnVuY3Rpb24oZSl7dC5tKCkuZGVidWcoXCJiaXRtb3Zpbi5wbGF5ZXIuRVZFTlQuT05fRVJST1JcIik7dmFyIGk9LTEscj1udWxsO2lmKG51bGwhPWUpdHJ5e2k9ZS5jb2RlLHI9SlNPTi5zdHJpbmdpZnkoZSxudWxsKX1jYXRjaChuKXtyPWV9dC5vbkVycm9yKGkscil9KSx0aGlzLnBsYXllci5hZGRFdmVudEhhbmRsZXIoXCJvblBsYXliYWNrRmluaXNoZWRcIixmdW5jdGlvbigpe3QubSgpLmRlYnVnKFwiYml0bW92aW4ucGxheWVyLkVWRU5ULk9OX1BMQVlCQUNLX0ZJTklTSEVEXCIpLHQuXyhzLkYuQi5ELHtjb2RlOjF9KX0pLHRoaXMucGxheWVyLmFkZEV2ZW50SGFuZGxlcihcIm9uU2Vla1wiLGZ1bmN0aW9uKCl7dC5tKCkuZGVidWcoXCJiaXRtb3Zpbi5wbGF5ZXIuRVZFTlQuT05fU0VFS1wiKSx0Ll8ocy5GLkIuSCl9KSx0aGlzLnBsYXllci5hZGRFdmVudEhhbmRsZXIoXCJvbkZ1bGxzY3JlZW5FbnRlclwiLGZ1bmN0aW9uKCl7dC5tKCkuZGVidWcoXCJiaXRtb3Zpbi5wbGF5ZXIuRVZFTlQuT05fRlVMTFNDUkVFTl9FTlRFUlwiKSx0Ll8ocy5GLkIuTCx7dmFsdWU6ITB9KX0pLHRoaXMucGxheWVyLmFkZEV2ZW50SGFuZGxlcihcIm9uRnVsbHNjcmVlbkV4aXRcIixmdW5jdGlvbigpe3QubSgpLmRlYnVnKFwiYml0bW92aW4ucGxheWVyLkVWRU5ULk9OX0ZVTExTQ1JFRU5fRVhJVFwiKSx0Ll8ocy5GLkIuTCx7dmFsdWU6ITF9KX0pLHRoaXMucGxheWVyLmFkZEV2ZW50SGFuZGxlcihcIm9uU2VnbWVudFJlcXVlc3RGaW5pc2hlZFwiLGZ1bmN0aW9uKGUpe3ZhciBpPWUubWltZVR5cGUuaW5kZXhPZihcInZpZGVvXCIpPj0wO2lmKGUuc3VjY2Vzcyl7dmFyIHI9OCplLnNpemUvZS5kb3dubG9hZFRpbWU7dC5PLk0oaSx0LmosZS5zaXplKSx0Lk8uVShyKX1lbHNlIHQuTy5WKGksdC5qKX0pLDA9PT10aGlzLnEoKS5pbmRleE9mKFwiN1wiKT90aGlzLkooKTowPT09dGhpcy5xKCkuaW5kZXhPZihcIjZcIikmJnRoaXMuSygpLHRoaXMucz0hMCl9LGUucHJvdG90eXBlLks9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMucGxheWVyLmFkZEV2ZW50SGFuZGxlcihcIm9uU3RhcnRCdWZmZXJpbmdcIixmdW5jdGlvbigpe3QubSgpLmRlYnVnKFwiYml0bW92aW4ucGxheWVyLkVWRU5ULk9OX1NUQVJUX0JVRkZFUklOR1wiKSx0LmsoKX0pLHRoaXMucGxheWVyLmFkZEV2ZW50SGFuZGxlcihcIm9uU3RvcEJ1ZmZlcmluZ1wiLGZ1bmN0aW9uKCl7dC5tKCkuZGVidWcoXCJiaXRtb3Zpbi5wbGF5ZXIuRVZFTlQuT05fU1RPUF9CVUZGRVJJTkdcIiksdC5HKCl9KSx0aGlzLnBsYXllci5hZGRFdmVudEhhbmRsZXIoXCJvblBhdXNlXCIsZnVuY3Rpb24oKXt0Lm0oKS5kZWJ1ZyhcImJpdG1vdmluLnBsYXllci5FVkVOVC5PTl9QQVVTRVwiKSx0LkEocy5GLkIuVyl9KSx0aGlzLnBsYXllci5hZGRFdmVudEhhbmRsZXIoXCJvblZpZGVvRG93bmxvYWRRdWFsaXR5Q2hhbmdlXCIsZnVuY3Rpb24oZSl7dmFyIGk9dC4kKCk7aT09PVN0cmVhbVByb3RvY29sLlk/dC5YKGUudGFyZ2V0UXVhbGl0eSk6dC5YKGUudGFyZ2V0UXVhbGl0eS5zcGxpdChcImJyXCIpWzFdKX0pfSxlLnByb3RvdHlwZS5KPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLnBsYXllci5hZGRFdmVudEhhbmRsZXIoXCJvblN0YWxsU3RhcnRlZFwiLGZ1bmN0aW9uKCl7dC5tKCkuZGVidWcoXCJiaXRtb3Zpbi5wbGF5ZXIuRVZFTlQuT05fU1RBTExfU1RBUlRFRFwiKSx0LmsoKX0pLHRoaXMucGxheWVyLmFkZEV2ZW50SGFuZGxlcihcIm9uU3RhbGxFbmRlZFwiLGZ1bmN0aW9uKCl7dC5tKCkuZGVidWcoXCJiaXRtb3Zpbi5wbGF5ZXIuRVZFTlQuT05fU1RBTExfRU5ERURcIiksdC5HKCl9KSx0aGlzLnBsYXllci5hZGRFdmVudEhhbmRsZXIoXCJvblBhdXNlZFwiLGZ1bmN0aW9uKCl7dC5tKCkuZGVidWcoXCJiaXRtb3Zpbi5wbGF5ZXIuRVZFTlQuT05fUEFVU0VEXCIpLHQuQShzLkYuQi5XKX0pLHRoaXMucGxheWVyLmFkZEV2ZW50SGFuZGxlcihcIm9uVmlkZW9Eb3dubG9hZFF1YWxpdHlDaGFuZ2VkXCIsZnVuY3Rpb24oZSl7dC5YKGUudGFyZ2V0UXVhbGl0eUlkLmJpdHJhdGUpfSl9LGUucHJvdG90eXBlLlg9ZnVuY3Rpb24odCl7dGhpcy5tKCkuZGVidWcoXCJuZXdCaXRyYXRlXCIsdCksdGhpcy5qJiZ0PnRoaXMuaj90aGlzLk8uWigpOnRoaXMuaiYmdGhpcy5qPnQmJnRoaXMuTy50dCgpLHRoaXMuaj10fSxlLnByb3RvdHlwZS5BPWZ1bmN0aW9uKHQpe1widW5kZWZpbmVkXCIhPXR5cGVvZiB0aGlzLmV0JiZ0aGlzLmV0IT09dCYmKHRoaXMuXyh0KSx0aGlzLmV0PXQpfSxlLnByb3RvdHlwZS5pdD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuJCgpO3JldHVybiB0PT09U3RyZWFtUHJvdG9jb2wuWT90aGlzLnBsYXllci5nZXRDb25maWcoKS5zb3VyY2UuaGxzOnQ9PT1TdHJlYW1Qcm90b2NvbC5ydD90aGlzLnBsYXllci5nZXRDb25maWcoKS5zb3VyY2UuZGFzaDp2b2lkIDB9LGUucHJvdG90eXBlLmdldEN1cnJlbnRUaW1lPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPXRoaXMucGxheWVyP01hdGgucm91bmQoMWUzKnRoaXMucGxheWVyLmdldEN1cnJlbnRUaW1lKCkpOjB9LGUucHJvdG90eXBlLm50PWZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPXRoaXMucGxheWVyJiZudWxsIT10aGlzLnBsYXllci5nZXRWaWRlb0J1ZmZlckxlbmd0aCYmdGhpcy5wbGF5ZXIuZ2V0VmlkZW9CdWZmZXJMZW5ndGgoKT4wP01hdGgubWF4KDAsTWF0aC5yb3VuZCgxZTMqdGhpcy5wbGF5ZXIuZ2V0VmlkZW9CdWZmZXJMZW5ndGgoKSkpOjB9LGUucHJvdG90eXBlLm90PWZ1bmN0aW9uKCl7aWYodGhpcy5wbGF5ZXIpe3ZhciB0PXRoaXMucGxheWVyLmdldEZpZ3VyZSgpO3JldHVybnt3aWR0aDp0Lm9mZnNldFdpZHRoLGhlaWdodDp0Lm9mZnNldEhlaWdodH19fSxlLnByb3RvdHlwZS5pc0Z1bGxzY3JlZW49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wbGF5ZXIuaXNGdWxsc2NyZWVuKCl9LGUucHJvdG90eXBlLmlzTGl2ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBsYXllci5pc0xpdmUoKX0sZS5wcm90b3R5cGUuc3Q9ZnVuY3Rpb24oKXtyZXR1cm4hMH0sZS5wcm90b3R5cGUuJD1mdW5jdGlvbigpe2lmKHRoaXMucGxheWVyKXt2YXIgdD10aGlzLnBsYXllci5nZXRTdHJlYW1UeXBlKCk7aWYoXCJobHNcIj09PXQpcmV0dXJuIFN0cmVhbVByb3RvY29sLlk7aWYoXCJkYXNoXCI9PT10KXJldHVybiBTdHJlYW1Qcm90b2NvbC5ydH1yZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUuYXQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLk87cmV0dXJuIHRoaXMuTz1uZXcgby5QLHR9LGUucHJvdG90eXBlLlQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wbHVnaW5OYW1lfSxlLnByb3RvdHlwZS5JPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY3QoKX0sZS5wcm90b3R5cGUuaHQ9ZnVuY3Rpb24oKXtpZih0aGlzLnBsYXllcilyZXR1cm4gdGhpcy5wbGF5ZXIuZ2V0UGxheWVyVHlwZSgpfSxlLnByb3RvdHlwZS5xPWZ1bmN0aW9uKCl7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGJpdG1vdmluLnBsYXllci52ZXJzaW9uP2JpdG1vdmluLnBsYXllci52ZXJzaW9uOnRoaXMucGxheWVyLmdldFZlcnNpb24oKX0sZX0obi5wdC5QbHVnaW4pO2UudXQ9aDt2YXIgcD1mdW5jdGlvbih0LGUpe25ldyBoKHQsZSl9O2JpdG1vdmluLmluaXRIaXZlU0ROPXB9LGZ1bmN0aW9uKHQsZSxpKXsvKiFcbiAqXG4gKiBDb3B5cmlnaHQgMjAwOS0yMDE2IEtyaXMgS293YWwgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBNSVRcbiAqIGxpY2Vuc2UgZm91bmQgYXQgaHR0cHM6Ly9naXRodWIuY29tL2tyaXNrb3dhbC9xL2Jsb2IvdjEvTElDRU5TRVxuICpcbiAqIFdpdGggcGFydHMgYnkgVHlsZXIgQ2xvc2VcbiAqIENvcHlyaWdodCAyMDA3LTIwMDkgVHlsZXIgQ2xvc2UgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBNSVQgWCBsaWNlbnNlIGZvdW5kXG4gKiBhdCBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLmh0bWxcbiAqIEZvcmtlZCBhdCByZWZfc2VuZC5qcyB2ZXJzaW9uOiAyMDA5LTA1LTExXG4gKlxuICogV2l0aCBwYXJ0cyBieSBNYXJrIE1pbGxlclxuICogQ29weXJpZ2h0IChDKSAyMDExIEdvb2dsZSBJbmMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG4gICFmdW5jdGlvbihlKXtcInVzZSBzdHJpY3RcIjtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBib290c3RyYXApYm9vdHN0cmFwKFwicHJvbWlzZVwiLGUpO2Vsc2V7dC50PWUoKX19KGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gdCh0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gei5hcHBseSh0LGFyZ3VtZW50cyl9fWZ1bmN0aW9uIGUodCl7cmV0dXJuIHQ9PT1PYmplY3QodCl9ZnVuY3Rpb24gaSh0KXtyZXR1cm5cIltvYmplY3QgU3RvcEl0ZXJhdGlvbl1cIj09PWl0KHQpfHx0IGluc3RhbmNlb2YgcX1mdW5jdGlvbiByKHQsZSl7aWYoVSYmZS5zdGFjayYmXCJvYmplY3RcIj09dHlwZW9mIHQmJm51bGwhPT10JiZ0LnN0YWNrJiZ0LnN0YWNrLmluZGV4T2YocnQpPT09LTEpe2Zvcih2YXIgaT1bXSxyPWU7cjtyPXIuc291cmNlKXIuc3RhY2smJmkudW5zaGlmdChyLnN0YWNrKTtpLnVuc2hpZnQodC5zdGFjayk7dmFyIG89aS5qb2luKFwiXFxuXCIrcnQrXCJcXG5cIik7dC5zdGFjaz1uKG8pfX1mdW5jdGlvbiBuKHQpe2Zvcih2YXIgZT10LnNwbGl0KFwiXFxuXCIpLGk9W10scj0wO3I8ZS5sZW5ndGg7KytyKXt2YXIgbj1lW3JdO2Eobil8fG8obil8fCFufHxpLnB1c2gobil9cmV0dXJuIGkuam9pbihcIlxcblwiKX1mdW5jdGlvbiBvKHQpe3JldHVybiB0LmluZGV4T2YoXCIobW9kdWxlLmpzOlwiKSE9PS0xfHx0LmluZGV4T2YoXCIobm9kZS5qczpcIikhPT0tMX1mdW5jdGlvbiBzKHQpe3ZhciBlPS9hdCAuKyBcXCgoLispOihcXGQrKTooPzpcXGQrKVxcKSQvLmV4ZWModCk7aWYoZSlyZXR1cm5bZVsxXSxOdW1iZXIoZVsyXSldO3ZhciBpPS9hdCAoW14gXSspOihcXGQrKTooPzpcXGQrKSQvLmV4ZWModCk7aWYoaSlyZXR1cm5baVsxXSxOdW1iZXIoaVsyXSldO3ZhciByPS8uKkAoLispOihcXGQrKSQvLmV4ZWModCk7cmV0dXJuIHI/W3JbMV0sTnVtYmVyKHJbMl0pXTp2b2lkIDB9ZnVuY3Rpb24gYSh0KXt2YXIgZT1zKHQpO2lmKCFlKXJldHVybiExO3ZhciBpPWVbMF0scj1lWzFdO3JldHVybiBpPT09USYmcj49SiYmcjw9Y3R9ZnVuY3Rpb24gYygpe2lmKFUpdHJ5e3Rocm93IG5ldyBFcnJvcn1jYXRjaCh0KXt2YXIgZT10LnN0YWNrLnNwbGl0KFwiXFxuXCIpLGk9ZVswXS5pbmRleE9mKFwiQFwiKT4wP2VbMV06ZVsyXSxyPXMoaSk7aWYoIXIpcmV0dXJuO3JldHVybiBRPXJbMF0sclsxXX19ZnVuY3Rpb24gaCh0LGUsaSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGNvbnNvbGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGNvbnNvbGUud2FybiYmY29uc29sZS53YXJuKGUrXCIgaXMgZGVwcmVjYXRlZCwgdXNlIFwiK2krXCIgaW5zdGVhZC5cIixuZXcgRXJyb3IoXCJcIikuc3RhY2spLHQuYXBwbHkodCxhcmd1bWVudHMpfX1mdW5jdGlvbiBwKHQpe3JldHVybiB0IGluc3RhbmNlb2YgZj90Om0odCk/Qyh0KTprKHQpfWZ1bmN0aW9uIHUoKXtmdW5jdGlvbiB0KHQpe2U9dCxwLmx0JiZVJiYoby5zb3VyY2U9dCksJChpLGZ1bmN0aW9uKGUsaSl7cC5kdChmdW5jdGlvbigpe3QuZnQuYXBwbHkodCxpKX0pfSx2b2lkIDApLGk9dm9pZCAwLHI9dm9pZCAwfXZhciBlLGk9W10scj1bXSxuPVoodS5wcm90b3R5cGUpLG89WihmLnByb3RvdHlwZSk7aWYoby5mdD1mdW5jdGlvbih0LG4sbyl7dmFyIHM9Vyhhcmd1bWVudHMpO2k/KGkucHVzaChzKSxcIndoZW5cIj09PW4mJm9bMV0mJnIucHVzaChvWzFdKSk6cC5kdChmdW5jdGlvbigpe2UuZnQuYXBwbHkoZSxzKX0pfSxvLnZhbHVlT2Y9ZnVuY3Rpb24oKXtpZihpKXJldHVybiBvO3ZhciB0PXYoZSk7cmV0dXJuIHkodCkmJihlPXQpLHR9LG8uZ3Q9ZnVuY3Rpb24oKXtyZXR1cm4gZT9lLmd0KCk6e3N0YXRlOlwicGVuZGluZ1wifX0scC5sdCYmVSl0cnl7dGhyb3cgbmV3IEVycm9yfWNhdGNoKHMpe28uc3RhY2s9cy5zdGFjay5zdWJzdHJpbmcocy5zdGFjay5pbmRleE9mKFwiXFxuXCIpKzEpfXJldHVybiBuLnZ0PW8sbi5yZXNvbHZlPWZ1bmN0aW9uKGkpe2V8fHQocChpKSl9LG4ueXQ9ZnVuY3Rpb24oaSl7ZXx8dChrKGkpKX0sbi5yZWplY3Q9ZnVuY3Rpb24oaSl7ZXx8dChSKGkpKX0sbi5ub3RpZnk9ZnVuY3Rpb24odCl7ZXx8JChyLGZ1bmN0aW9uKGUsaSl7cC5kdChmdW5jdGlvbigpe2kodCl9KX0sdm9pZCAwKX0sbn1mdW5jdGlvbiBsKHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcihcInJlc29sdmVyIG11c3QgYmUgYSBmdW5jdGlvbi5cIik7dmFyIGU9dSgpO3RyeXt0KGUucmVzb2x2ZSxlLnJlamVjdCxlLm5vdGlmeSl9Y2F0Y2goaSl7ZS5yZWplY3QoaSl9cmV0dXJuIGUudnR9ZnVuY3Rpb24gZCh0KXtyZXR1cm4gbChmdW5jdGlvbihlLGkpe2Zvcih2YXIgcj0wLG49dC5sZW5ndGg7cjxuO3IrKylwKHRbcl0pLnRoZW4oZSxpKX0pfWZ1bmN0aW9uIGYodCxlLGkpe3ZvaWQgMD09PWUmJihlPWZ1bmN0aW9uKHQpe3JldHVybiBSKG5ldyBFcnJvcihcIlByb21pc2UgZG9lcyBub3Qgc3VwcG9ydCBvcGVyYXRpb246IFwiK3QpKX0pLHZvaWQgMD09PWkmJihpPWZ1bmN0aW9uKCl7cmV0dXJue3N0YXRlOlwidW5rbm93blwifX0pO3ZhciByPVooZi5wcm90b3R5cGUpO2lmKHIuZnQ9ZnVuY3Rpb24oaSxuLG8pe3ZhciBzO3RyeXtzPXRbbl0/dFtuXS5hcHBseShyLG8pOmUuY2FsbChyLG4sbyl9Y2F0Y2goYSl7cz1SKGEpfWkmJmkocyl9LHIuZ3Q9aSxpKXt2YXIgbj1pKCk7XCJyZWplY3RlZFwiPT09bi5zdGF0ZSYmKHIuZXhjZXB0aW9uPW4ucmVhc29uKSxyLnZhbHVlT2Y9ZnVuY3Rpb24oKXt2YXIgdD1pKCk7cmV0dXJuXCJwZW5kaW5nXCI9PT10LnN0YXRlfHxcInJlamVjdGVkXCI9PT10LnN0YXRlP3I6dC52YWx1ZX19cmV0dXJuIHJ9ZnVuY3Rpb24gZyh0LGUsaSxyKXtyZXR1cm4gcCh0KS50aGVuKGUsaSxyKX1mdW5jdGlvbiB2KHQpe2lmKHkodCkpe3ZhciBlPXQuZ3QoKTtpZihcImZ1bGZpbGxlZFwiPT09ZS5zdGF0ZSlyZXR1cm4gZS52YWx1ZX1yZXR1cm4gdH1mdW5jdGlvbiB5KHQpe3JldHVybiB0IGluc3RhbmNlb2YgZn1mdW5jdGlvbiBtKHQpe3JldHVybiBlKHQpJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LnRoZW59ZnVuY3Rpb24gdyh0KXtyZXR1cm4geSh0KSYmXCJwZW5kaW5nXCI9PT10Lmd0KCkuc3RhdGV9ZnVuY3Rpb24gVCh0KXtyZXR1cm4heSh0KXx8XCJmdWxmaWxsZWRcIj09PXQuZ3QoKS5zdGF0ZX1mdW5jdGlvbiBTKHQpe3JldHVybiB5KHQpJiZcInJlamVjdGVkXCI9PT10Lmd0KCkuc3RhdGV9ZnVuY3Rpb24gYigpe250Lmxlbmd0aD0wLG90Lmxlbmd0aD0wLGF0fHwoYXQ9ITApfWZ1bmN0aW9uIEUodCxlKXthdCYmKFwib2JqZWN0XCI9PXR5cGVvZiBwcm9jZXNzJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBwcm9jZXNzLmVtaXQmJnAuZHQud3QoZnVuY3Rpb24oKXtZKG90LHQpIT09LTEmJihwcm9jZXNzLmVtaXQoXCJ1bmhhbmRsZWRSZWplY3Rpb25cIixlLHQpLHN0LnB1c2godCkpfSksb3QucHVzaCh0KSxlJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgZS5zdGFjaz9udC5wdXNoKGUuc3RhY2spOm50LnB1c2goXCIobm8gc3RhY2spIFwiK2UpKX1mdW5jdGlvbiBJKHQpe2lmKGF0KXt2YXIgZT1ZKG90LHQpO2UhPT0tMSYmKFwib2JqZWN0XCI9PXR5cGVvZiBwcm9jZXNzJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBwcm9jZXNzLmVtaXQmJnAuZHQud3QoZnVuY3Rpb24oKXt2YXIgaT1ZKHN0LHQpO2khPT0tMSYmKHByb2Nlc3MuZW1pdChcInJlamVjdGlvbkhhbmRsZWRcIixudFtlXSx0KSxzdC5zcGxpY2UoaSwxKSl9KSxvdC5zcGxpY2UoZSwxKSxudC5zcGxpY2UoZSwxKSl9fWZ1bmN0aW9uIFIodCl7dmFyIGU9Zih7d2hlbjpmdW5jdGlvbihlKXtyZXR1cm4gZSYmSSh0aGlzKSxlP2UodCk6dGhpc319LGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LGZ1bmN0aW9uKCl7cmV0dXJue3N0YXRlOlwicmVqZWN0ZWRcIixyZWFzb246dH19KTtyZXR1cm4gRShlLHQpLGV9ZnVuY3Rpb24gayh0KXtyZXR1cm4gZih7d2hlbjpmdW5jdGlvbigpe3JldHVybiB0fSxnZXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHRbZV19LHNldDpmdW5jdGlvbihlLGkpe3RbZV09aX0sXCJkZWxldGVcIjpmdW5jdGlvbihlKXtkZWxldGUgdFtlXX0sVHQ6ZnVuY3Rpb24oZSxpKXtyZXR1cm4gbnVsbD09PWV8fHZvaWQgMD09PWU/dC5hcHBseSh2b2lkIDAsaSk6dFtlXS5hcHBseSh0LGkpfSxhcHBseTpmdW5jdGlvbihlLGkpe3JldHVybiB0LmFwcGx5KGUsaSl9LGtleXM6ZnVuY3Rpb24oKXtyZXR1cm4gZXQodCl9fSx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm57c3RhdGU6XCJmdWxmaWxsZWRcIix2YWx1ZTp0fX0pfWZ1bmN0aW9uIEModCl7dmFyIGU9dSgpO3JldHVybiBwLmR0KGZ1bmN0aW9uKCl7dHJ5e3QudGhlbihlLnJlc29sdmUsZS5yZWplY3QsZS5ub3RpZnkpfWNhdGNoKGkpe2UucmVqZWN0KGkpfX0pLGUudnR9ZnVuY3Rpb24gTyh0KXtyZXR1cm4gZih7U3Q6ZnVuY3Rpb24oKXt9fSxmdW5jdGlvbihlLGkpe3JldHVybiBGKHQsZSxpKX0sZnVuY3Rpb24oKXtyZXR1cm4gcCh0KS5ndCgpfSl9ZnVuY3Rpb24gUCh0LGUsaSl7cmV0dXJuIHAodCkuYnQoZSxpKX1mdW5jdGlvbiBBKHQpe3JldHVybiBmdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxlKXt2YXIgcztpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgU3RvcEl0ZXJhdGlvbil7dHJ5e3M9clt0XShlKX1jYXRjaChhKXtyZXR1cm4gUihhKX1yZXR1cm4gcy5kb25lP3Aocy52YWx1ZSk6ZyhzLnZhbHVlLG4sbyl9dHJ5e3M9clt0XShlKX1jYXRjaChhKXtyZXR1cm4gaShhKT9wKGEudmFsdWUpOlIoYSl9cmV0dXJuIGcocyxuLG8pfXZhciByPXQuYXBwbHkodGhpcyxhcmd1bWVudHMpLG49ZS5iaW5kKGUsXCJuZXh0XCIpLG89ZS5iaW5kKGUsXCJ0aHJvd1wiKTtyZXR1cm4gbigpfX1mdW5jdGlvbiBOKHQpe3AuZG9uZShwLmFzeW5jKHQpKCkpfWZ1bmN0aW9uIHgodCl7dGhyb3cgbmV3IHEodCl9ZnVuY3Rpb24gQih0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gUChbdGhpcyxfKGFyZ3VtZW50cyldLGZ1bmN0aW9uKGUsaSl7cmV0dXJuIHQuYXBwbHkoZSxpKX0pfX1mdW5jdGlvbiBGKHQsZSxpKXtyZXR1cm4gcCh0KS5FdChlLGkpfWZ1bmN0aW9uIF8odCl7cmV0dXJuIGcodCxmdW5jdGlvbih0KXt2YXIgZT0wLGk9dSgpO3JldHVybiAkKHQsZnVuY3Rpb24ocixuLG8pe3ZhciBzO3kobikmJlwiZnVsZmlsbGVkXCI9PT0ocz1uLmd0KCkpLnN0YXRlP3Rbb109cy52YWx1ZTooKytlLGcobixmdW5jdGlvbihyKXt0W29dPXIsMD09PS0tZSYmaS5yZXNvbHZlKHQpfSxpLnJlamVjdCxmdW5jdGlvbih0KXtpLm5vdGlmeSh7aW5kZXg6byx2YWx1ZTp0fSl9KSl9LHZvaWQgMCksMD09PWUmJmkucmVzb2x2ZSh0KSxpLnZ0fSl9ZnVuY3Rpb24gRCh0KXtpZigwPT09dC5sZW5ndGgpcmV0dXJuIHAucmVzb2x2ZSgpO3ZhciBlPXAuZGVmZXIoKSxpPTA7cmV0dXJuICQodCxmdW5jdGlvbihyLG4sbyl7ZnVuY3Rpb24gcyh0KXtlLnJlc29sdmUodCl9ZnVuY3Rpb24gYSh0KXtpLS0sMD09PWkmJih0Lm1lc3NhZ2U9XCJRIGNhbid0IGdldCBmdWxmaWxsbWVudCB2YWx1ZSBmcm9tIGFueSBwcm9taXNlLCBhbGwgcHJvbWlzZXMgd2VyZSByZWplY3RlZC4gTGFzdCBlcnJvciBtZXNzYWdlOiBcIit0Lm1lc3NhZ2UsZS5yZWplY3QodCkpfWZ1bmN0aW9uIGModCl7ZS5ub3RpZnkoe2luZGV4Om8sdmFsdWU6dH0pfXZhciBoPXRbb107aSsrLGcoaCxzLGEsYyl9LHZvaWQgMCksZS52dH1mdW5jdGlvbiBIKHQpe3JldHVybiBnKHQsZnVuY3Rpb24odCl7cmV0dXJuIHQ9WCh0LHApLGcoXyhYKHQsZnVuY3Rpb24odCl7cmV0dXJuIGcodCxLLEspfSkpLGZ1bmN0aW9uKCl7cmV0dXJuIHR9KX0pfWZ1bmN0aW9uIEwodCl7cmV0dXJuIHAodCkuSXQoKX1mdW5jdGlvbiBNKHQsZSl7cmV0dXJuIHAodCkudGhlbih2b2lkIDAsdm9pZCAwLGUpfWZ1bmN0aW9uIGoodCxlKXtyZXR1cm4gcCh0KS5SdChlKX12YXIgVT0hMTt0cnl7dGhyb3cgbmV3IEVycm9yfWNhdGNoKFYpe1U9ISFWLnN0YWNrfXZhciBRLHEsSj1jKCksSz1mdW5jdGlvbigpe30sRz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXtmb3IodmFyIHQscjtpLm5leHQ7KWk9aS5uZXh0LHQ9aS5rdCxpLmt0PXZvaWQgMCxyPWkuZG9tYWluLHImJihpLmRvbWFpbj12b2lkIDAsci5lbnRlcigpKSxlKHQscik7Zm9yKDtoLmxlbmd0aDspdD1oLnBvcCgpLGUodCk7bj0hMX1mdW5jdGlvbiBlKGUsaSl7dHJ5e2UoKX1jYXRjaChyKXtpZihzKXRocm93IGkmJmkuZXhpdCgpLHNldFRpbWVvdXQodCwwKSxpJiZpLmVudGVyKCkscjtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhyb3cgcn0sMCl9aSYmaS5leGl0KCl9dmFyIGk9e2t0OnZvaWQgMCxuZXh0Om51bGx9LHI9aSxuPSExLG89dm9pZCAwLHM9ITEsYT0hMTt0cnl7YT1uYXZpZ2F0b3ImJihcIk1pY3Jvc29mdCBJbnRlcm5ldCBFeHBsb3JlclwiPT09bmF2aWdhdG9yLmFwcE5hbWV8fG51bGwhPW5hdmlnYXRvci5hcHBWZXJzaW9uLm1hdGNoKC8odHJpZGVudCkuK3J2WzpcXHNdKFtcXHdcXC5dKykuK2xpa2VcXHNnZWNrby9pKSl9Y2F0Y2goYyl7fXZhciBoPVtdO2lmKEc9ZnVuY3Rpb24odCl7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIEZyYW1ld29yayYmRnJhbWV3b3JrLkN0KCk/RnJhbWV3b3JrLnNldFRpbWVvdXQodCwwKToocj1yLm5leHQ9e2t0OnQsZG9tYWluOnMmJnByb2Nlc3MuZG9tYWluLG5leHQ6bnVsbH0sbnx8KG49ITAsbygpKSl9LFwib2JqZWN0XCI9PXR5cGVvZiBwcm9jZXNzJiZcIltvYmplY3QgcHJvY2Vzc11cIj09PXByb2Nlc3MudG9TdHJpbmcoKSYmcHJvY2Vzcy5kdClzPSEwLG89ZnVuY3Rpb24oKXtwcm9jZXNzLmR0KHQpfTtlbHNlIGlmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHNldEltbWVkaWF0ZXx8YSlpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgTWVzc2FnZUNoYW5uZWx8fGEpbz1mdW5jdGlvbigpe3NldFRpbWVvdXQodCwwKX07ZWxzZXt2YXIgcD1uZXcgTWVzc2FnZUNoYW5uZWw7cC5wb3J0MS5vbm1lc3NhZ2U9ZnVuY3Rpb24oKXtvPXUscC5wb3J0MS5vbm1lc3NhZ2U9dCx0KCl9O3ZhciB1PWZ1bmN0aW9uKCl7cC5wb3J0Mi5wb3N0TWVzc2FnZSgwKX07bz1mdW5jdGlvbigpe3NldFRpbWVvdXQodCwwKSx1KCl9fWVsc2Ugbz1cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3NldEltbWVkaWF0ZS5iaW5kKHdpbmRvdyx0KTpmdW5jdGlvbigpe3NldEltbWVkaWF0ZSh0KX07cmV0dXJuIEcud3Q9ZnVuY3Rpb24odCl7aC5wdXNoKHQpLG58fChuPSEwLG8oKSl9LEd9KCksej1GdW5jdGlvbi5jYWxsLFc9dChBcnJheS5wcm90b3R5cGUuc2xpY2UpLCQ9dChBcnJheS5wcm90b3R5cGUucmVkdWNlfHxmdW5jdGlvbih0LGUpe3ZhciBpPTAscj10aGlzLmxlbmd0aDtpZigxPT09YXJndW1lbnRzLmxlbmd0aClmb3IoOzspe2lmKGkgaW4gdGhpcyl7ZT10aGlzW2krK107YnJlYWt9aWYoKytpPj1yKXRocm93IG5ldyBUeXBlRXJyb3J9Zm9yKDtpPHI7aSsrKWkgaW4gdGhpcyYmKGU9dChlLHRoaXNbaV0saSkpO3JldHVybiBlfSksWT10KEFycmF5LnByb3RvdHlwZS5pbmRleE9mfHxmdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPHRoaXMubGVuZ3RoO2UrKylpZih0aGlzW2VdPT09dClyZXR1cm4gZTtyZXR1cm4tMX0pLFg9dChBcnJheS5wcm90b3R5cGUubWFwfHxmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMscj1bXTtyZXR1cm4gJChpLGZ1bmN0aW9uKG4sbyxzKXtyLnB1c2godC5jYWxsKGUsbyxzLGkpKX0sdm9pZCAwKSxyfSksWj1PYmplY3QuY3JlYXRlfHxmdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7fXJldHVybiBlLnByb3RvdHlwZT10LG5ldyBlfSx0dD10KE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkpLGV0PU9iamVjdC5rZXlzfHxmdW5jdGlvbih0KXt2YXIgZT1bXTtmb3IodmFyIGkgaW4gdCl0dCh0LGkpJiZlLnB1c2goaSk7cmV0dXJuIGV9LGl0PXQoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyk7cT1cInVuZGVmaW5lZFwiIT10eXBlb2YgUmV0dXJuVmFsdWU/UmV0dXJuVmFsdWU6ZnVuY3Rpb24odCl7dGhpcy52YWx1ZT10fTt2YXIgcnQ9XCJGcm9tIHByZXZpb3VzIGV2ZW50OlwiO3AucmVzb2x2ZT1wLHAuZHQ9RyxwLmx0PSExLFwib2JqZWN0XCI9PXR5cGVvZiBwcm9jZXNzJiZwcm9jZXNzJiZwcm9jZXNzLk90JiZwcm9jZXNzLk90LlFfREVCVUcmJihwLmx0PSEwKSxwLmRlZmVyPXUsdS5wcm90b3R5cGUuUHQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3JldHVybiBmdW5jdGlvbihlLGkpe2U/dC5yZWplY3QoZSk6YXJndW1lbnRzLmxlbmd0aD4yP3QucmVzb2x2ZShXKGFyZ3VtZW50cywxKSk6dC5yZXNvbHZlKGkpfX0scC5Qcm9taXNlPWwscC52dD1sLGwucmFjZT1kLGwuYWxsPV8sbC5yZWplY3Q9UixsLnJlc29sdmU9cCxwLkF0PWZ1bmN0aW9uKHQpe3JldHVybiB0fSxmLnByb3RvdHlwZS5BdD1mdW5jdGlvbigpe3JldHVybiB0aGlzfSxwLmpvaW49ZnVuY3Rpb24odCxlKXtyZXR1cm4gcCh0KS5qb2luKGUpfSxmLnByb3RvdHlwZS5qb2luPWZ1bmN0aW9uKHQpe3JldHVybiBwKFt0aGlzLHRdKS5idChmdW5jdGlvbih0LGUpe2lmKHQ9PT1lKXJldHVybiB0O3Rocm93IG5ldyBFcnJvcihcIlEgY2FuJ3Qgam9pbjogbm90IHRoZSBzYW1lOiBcIit0K1wiIFwiK2UpfSl9LHAucmFjZT1kLGYucHJvdG90eXBlLnJhY2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50aGVuKHAucmFjZSl9LHAuTnQ9ZixmLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiW29iamVjdCBQcm9taXNlXVwifSxmLnByb3RvdHlwZS50aGVuPWZ1bmN0aW9uKHQsZSxpKXtmdW5jdGlvbiBuKGUpe3RyeXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiB0P3QoZSk6ZX1jYXRjaChpKXtyZXR1cm4gUihpKX19ZnVuY3Rpb24gbyh0KXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKXtyKHQsYSk7dHJ5e3JldHVybiBlKHQpfWNhdGNoKGkpe3JldHVybiBSKGkpfX1yZXR1cm4gUih0KX1mdW5jdGlvbiBzKHQpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIGk/aSh0KTp0fXZhciBhPXRoaXMsYz11KCksaD0hMTtyZXR1cm4gcC5kdChmdW5jdGlvbigpe2EuZnQoZnVuY3Rpb24odCl7aHx8KGg9ITAsYy5yZXNvbHZlKG4odCkpKX0sXCJ3aGVuXCIsW2Z1bmN0aW9uKHQpe2h8fChoPSEwLGMucmVzb2x2ZShvKHQpKSl9XSl9KSxhLmZ0KHZvaWQgMCxcIndoZW5cIixbdm9pZCAwLGZ1bmN0aW9uKHQpe3ZhciBlLGk9ITE7dHJ5e2U9cyh0KX1jYXRjaChyKXtpZihpPSEwLCFwLm9uZXJyb3IpdGhyb3cgcjtwLm9uZXJyb3Iocil9aXx8Yy5ub3RpZnkoZSl9XSksYy52dH0scC54dD1mdW5jdGlvbih0LGUpe3JldHVybiBwKHQpLnh0KGUpfSxmLnByb3RvdHlwZS54dD1mdW5jdGlvbih0KXtyZXR1cm4gdD1wKHQpLHRoaXMudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gdC5GdChlKS5CdChlKX0pfSxwLndoZW49ZyxmLnByb3RvdHlwZS5CdD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIHR9KX0scC5CdD1mdW5jdGlvbih0LGUpe3JldHVybiBwKHQpLkJ0KGUpfSxmLnByb3RvdHlwZS5fdD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy50aGVuKGZ1bmN0aW9uKCl7dGhyb3cgdH0pfSxwLl90PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHAodCkuX3QoZSl9LHAuRHQ9dixwLkh0PXkscC5MdD1tLHAuTXQ9dyxmLnByb3RvdHlwZS5NdD1mdW5jdGlvbigpe3JldHVyblwicGVuZGluZ1wiPT09dGhpcy5ndCgpLnN0YXRlfSxwLmp0PVQsZi5wcm90b3R5cGUuanQ9ZnVuY3Rpb24oKXtyZXR1cm5cImZ1bGZpbGxlZFwiPT09dGhpcy5ndCgpLnN0YXRlfSxwLlV0PVMsZi5wcm90b3R5cGUuVXQ9ZnVuY3Rpb24oKXtyZXR1cm5cInJlamVjdGVkXCI9PT10aGlzLmd0KCkuc3RhdGV9O3ZhciBudD1bXSxvdD1bXSxzdD1bXSxhdD0hMDtwLlZ0PWIscC5RdD1mdW5jdGlvbigpe3JldHVybiBudC5zbGljZSgpfSxwLnF0PWZ1bmN0aW9uKCl7YigpLGF0PSExfSxiKCkscC5yZWplY3Q9UixwLnl0PWsscC5KdD1PLHAuYnQ9UCxmLnByb3RvdHlwZS5idD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmFsbCgpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIHQuYXBwbHkodm9pZCAwLGUpfSxlKX0scC5hc3luYz1BLHAuS3Q9TixwW1wiR3RcIl09eCxwLnp0PUIscC5FdD1GLGYucHJvdG90eXBlLkV0PWZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcyxyPXUoKTtyZXR1cm4gcC5kdChmdW5jdGlvbigpe2kuZnQoci5yZXNvbHZlLHQsZSl9KSxyLnZ0fSxwLmdldD1mdW5jdGlvbih0LGUpe3JldHVybiBwKHQpLkV0KFwiZ2V0XCIsW2VdKX0sZi5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLkV0KFwiZ2V0XCIsW3RdKX0scC5zZXQ9ZnVuY3Rpb24odCxlLGkpe3JldHVybiBwKHQpLkV0KFwic2V0XCIsW2UsaV0pfSxmLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5FdChcInNldFwiLFt0LGVdKX0scC5XdD1wW1wiZGVsZXRlXCJdPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHAodCkuRXQoXCJkZWxldGVcIixbZV0pfSxmLnByb3RvdHlwZS5XdD1mLnByb3RvdHlwZVtcImRlbGV0ZVwiXT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5FdChcImRlbGV0ZVwiLFt0XSl9LHAuJHQ9cC5UdD1mdW5jdGlvbih0LGUsaSl7cmV0dXJuIHAodCkuRXQoXCJwb3N0XCIsW2UsaV0pfSxmLnByb3RvdHlwZS4kdD1mLnByb3RvdHlwZS5UdD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLkV0KFwicG9zdFwiLFt0LGVdKX0scC5zZW5kPXAuWXQ9cC5YdD1mdW5jdGlvbih0LGUpe3JldHVybiBwKHQpLkV0KFwicG9zdFwiLFtlLFcoYXJndW1lbnRzLDIpXSl9LGYucHJvdG90eXBlLnNlbmQ9Zi5wcm90b3R5cGUuWXQ9Zi5wcm90b3R5cGUuWHQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuRXQoXCJwb3N0XCIsW3QsVyhhcmd1bWVudHMsMSldKX0scC5adD1mdW5jdGlvbih0LGUpe3JldHVybiBwKHQpLkV0KFwiYXBwbHlcIixbdm9pZCAwLGVdKX0sZi5wcm90b3R5cGUuWnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuRXQoXCJhcHBseVwiLFt2b2lkIDAsdF0pfSxwW1widGVcIl09cC5GdD1mdW5jdGlvbih0KXtyZXR1cm4gcCh0KS5FdChcImFwcGx5XCIsW3ZvaWQgMCxXKGFyZ3VtZW50cywxKV0pfSxmLnByb3RvdHlwZS5GdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLkV0KFwiYXBwbHlcIixbdm9pZCAwLFcoYXJndW1lbnRzKV0pfSxwLmVlPWZ1bmN0aW9uKHQpe3ZhciBlPXAodCksaT1XKGFyZ3VtZW50cywxKTtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZS5FdChcImFwcGx5XCIsW3RoaXMsaS5jb25jYXQoVyhhcmd1bWVudHMpKV0pfX0sZi5wcm90b3R5cGUuZWU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9Vyhhcmd1bWVudHMpO3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0LkV0KFwiYXBwbHlcIixbdGhpcyxlLmNvbmNhdChXKGFyZ3VtZW50cykpXSl9fSxwLmtleXM9ZnVuY3Rpb24odCl7cmV0dXJuIHAodCkuRXQoXCJrZXlzXCIsW10pfSxmLnByb3RvdHlwZS5rZXlzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuRXQoXCJrZXlzXCIsW10pfSxwLmFsbD1fLGYucHJvdG90eXBlLmFsbD1mdW5jdGlvbigpe3JldHVybiBfKHRoaXMpfSxwLmllPUQsZi5wcm90b3R5cGUuaWU9ZnVuY3Rpb24oKXtyZXR1cm4gRCh0aGlzKX0scC5yZT1oKEgsXCJhbGxSZXNvbHZlZFwiLFwiYWxsU2V0dGxlZFwiKSxmLnByb3RvdHlwZS5yZT1mdW5jdGlvbigpe3JldHVybiBIKHRoaXMpfSxwLkl0PUwsZi5wcm90b3R5cGUuSXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBfKFgodCxmdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIHQuZ3QoKX1yZXR1cm4gdD1wKHQpLHQudGhlbihlLGUpfSkpfSl9LHAuZmFpbD1wW1wiY2F0Y2hcIl09ZnVuY3Rpb24odCxlKXtyZXR1cm4gcCh0KS50aGVuKHZvaWQgMCxlKX0sZi5wcm90b3R5cGUuZmFpbD1mLnByb3RvdHlwZVtcImNhdGNoXCJdPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnRoZW4odm9pZCAwLHQpfSxwLnByb2dyZXNzPU0sZi5wcm90b3R5cGUucHJvZ3Jlc3M9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudGhlbih2b2lkIDAsdm9pZCAwLHQpfSxwLm5lPXBbXCJmaW5hbGx5XCJdPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHAodClbXCJmaW5hbGx5XCJdKGUpfSxmLnByb3RvdHlwZS5uZT1mLnByb3RvdHlwZVtcImZpbmFsbHlcIl09ZnVuY3Rpb24odCl7aWYoIXR8fFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQuYXBwbHkpdGhyb3cgbmV3IEVycm9yKFwiUSBjYW4ndCBhcHBseSBmaW5hbGx5IGNhbGxiYWNrXCIpO3JldHVybiB0PXAodCksdGhpcy50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiB0LkZ0KCkudGhlbihmdW5jdGlvbigpe3JldHVybiBlfSl9LGZ1bmN0aW9uKGUpe3JldHVybiB0LkZ0KCkudGhlbihmdW5jdGlvbigpe3Rocm93IGV9KX0pfSxwLmRvbmU9ZnVuY3Rpb24odCxlLGkscil7cmV0dXJuIHAodCkuZG9uZShlLGkscil9LGYucHJvdG90eXBlLmRvbmU9ZnVuY3Rpb24odCxlLGkpe3ZhciBuPWZ1bmN0aW9uKHQpe3AuZHQoZnVuY3Rpb24oKXtpZihyKHQsbyksIXAub25lcnJvcil0aHJvdyB0O3Aub25lcnJvcih0KX0pfSxvPXR8fGV8fGk/dGhpcy50aGVuKHQsZSxpKTp0aGlzO1wib2JqZWN0XCI9PXR5cGVvZiBwcm9jZXNzJiZwcm9jZXNzJiZwcm9jZXNzLmRvbWFpbiYmKG49cHJvY2Vzcy5kb21haW4uYmluZChuKSksby50aGVuKHZvaWQgMCxuKX0scC50aW1lb3V0PWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gcCh0KS50aW1lb3V0KGUsaSl9LGYucHJvdG90eXBlLnRpbWVvdXQ9ZnVuY3Rpb24odCxlKXt2YXIgaT11KCkscj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZSYmXCJzdHJpbmdcIiE9dHlwZW9mIGV8fChlPW5ldyBFcnJvcihlfHxcIlRpbWVkIG91dCBhZnRlciBcIit0K1wiIG1zXCIpLGUuY29kZT1cIkVUSU1FRE9VVFwiKSxpLnJlamVjdChlKX0sdCk7cmV0dXJuIHRoaXMudGhlbihmdW5jdGlvbih0KXtjbGVhclRpbWVvdXQociksaS5yZXNvbHZlKHQpfSxmdW5jdGlvbih0KXtjbGVhclRpbWVvdXQociksaS5yZWplY3QodCl9LGkubm90aWZ5KSxpLnZ0fSxwLmRlbGF5PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPXQsdD12b2lkIDApLHAodCkuZGVsYXkoZSl9LGYucHJvdG90eXBlLmRlbGF5PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnRoZW4oZnVuY3Rpb24oZSl7dmFyIGk9dSgpO3JldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aS5yZXNvbHZlKGUpfSx0KSxpLnZ0fSl9LHAub2U9ZnVuY3Rpb24odCxlKXtyZXR1cm4gcCh0KS5vZShlKX0sZi5wcm90b3R5cGUub2U9ZnVuY3Rpb24odCl7dmFyIGU9dSgpLGk9Vyh0KTtyZXR1cm4gaS5wdXNoKGUuUHQoKSksdGhpcy5adChpKS5mYWlsKGUucmVqZWN0KSxlLnZ0fSxwLnNlPWZ1bmN0aW9uKHQpe3ZhciBlPVcoYXJndW1lbnRzLDEpO3JldHVybiBwKHQpLm9lKGUpfSxmLnByb3RvdHlwZS5zZT1mdW5jdGlvbigpe3ZhciB0PVcoYXJndW1lbnRzKSxlPXUoKTtyZXR1cm4gdC5wdXNoKGUuUHQoKSksdGhpcy5adCh0KS5mYWlsKGUucmVqZWN0KSxlLnZ0fSxwLmFlPXAuY2U9ZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgRXJyb3IoXCJRIGNhbid0IHdyYXAgYW4gdW5kZWZpbmVkIGZ1bmN0aW9uXCIpO3ZhciBlPVcoYXJndW1lbnRzLDEpO3JldHVybiBmdW5jdGlvbigpe3ZhciBpPWUuY29uY2F0KFcoYXJndW1lbnRzKSkscj11KCk7cmV0dXJuIGkucHVzaChyLlB0KCkpLHAodCkuWnQoaSkuZmFpbChyLnJlamVjdCksci52dH19LGYucHJvdG90eXBlLmFlPWYucHJvdG90eXBlLmNlPWZ1bmN0aW9uKCl7dmFyIHQ9Vyhhcmd1bWVudHMpO3JldHVybiB0LnVuc2hpZnQodGhpcykscC5jZS5hcHBseSh2b2lkIDAsdCl9LHAuaGU9ZnVuY3Rpb24odCxlKXt2YXIgaT1XKGFyZ3VtZW50cywyKTtyZXR1cm4gZnVuY3Rpb24oKXtmdW5jdGlvbiByKCl7cmV0dXJuIHQuYXBwbHkoZSxhcmd1bWVudHMpfXZhciBuPWkuY29uY2F0KFcoYXJndW1lbnRzKSksbz11KCk7cmV0dXJuIG4ucHVzaChvLlB0KCkpLHAocikuWnQobikuZmFpbChvLnJlamVjdCksby52dH19LGYucHJvdG90eXBlLmhlPWZ1bmN0aW9uKCl7dmFyIHQ9Vyhhcmd1bWVudHMsMCk7cmV0dXJuIHQudW5zaGlmdCh0aGlzKSxwLmhlLmFwcGx5KHZvaWQgMCx0KX0scC5wZT1wLnVlPWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gcCh0KS51ZShlLGkpfSxmLnByb3RvdHlwZS5wZT1mLnByb3RvdHlwZS51ZT1mdW5jdGlvbih0LGUpe3ZhciBpPVcoZXx8W10pLHI9dSgpO3JldHVybiBpLnB1c2goci5QdCgpKSx0aGlzLkV0KFwicG9zdFwiLFt0LGldKS5mYWlsKHIucmVqZWN0KSxyLnZ0fSxwLmxlPXAuZGU9cC5mZT1mdW5jdGlvbih0LGUpe3ZhciBpPVcoYXJndW1lbnRzLDIpLHI9dSgpO3JldHVybiBpLnB1c2goci5QdCgpKSxwKHQpLkV0KFwicG9zdFwiLFtlLGldKS5mYWlsKHIucmVqZWN0KSxyLnZ0fSxmLnByb3RvdHlwZS5sZT1mLnByb3RvdHlwZS5kZT1mLnByb3RvdHlwZS5mZT1mdW5jdGlvbih0KXt2YXIgZT1XKGFyZ3VtZW50cywxKSxpPXUoKTtyZXR1cm4gZS5wdXNoKGkuUHQoKSksdGhpcy5FdChcInBvc3RcIixbdCxlXSkuZmFpbChpLnJlamVjdCksaS52dH0scC5SdD1qLGYucHJvdG90eXBlLlJ0PWZ1bmN0aW9uKHQpe3JldHVybiB0P3ZvaWQgdGhpcy50aGVuKGZ1bmN0aW9uKGUpe3AuZHQoZnVuY3Rpb24oKXt0KG51bGwsZSl9KX0sZnVuY3Rpb24oZSl7cC5kdChmdW5jdGlvbigpe3QoZSl9KX0pOnRoaXN9LHAuZ2U9ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoXCJRLm5vQ29uZmxpY3Qgb25seSB3b3JrcyB3aGVuIFEgaXMgdXNlZCBhcyBhIGdsb2JhbFwiKX07dmFyIGN0PWMoKTtyZXR1cm4gcH0pfSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHIsbj1pKDE1KSxvPWkoNCkscz1vLnZlOyFmdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe0ImJmNvbnNvbGUubG9nKFwiRnJhbWV3b3JrIGFscmVhZHkgaW5pdGlhbGl6ZWRcIiksdC55ZSgpLE49bmV3IERhdGUsZS5hcHBseShEKSxCPUQucmVzb2x2ZShrLm1lKSxfPUQucmVzb2x2ZShrLndlKSxMPUIuQ3QoKX1mdW5jdGlvbiBpKCl7Rj1ELnJlc29sdmUoay5UZSksRi5pbml0KCl9ZnVuY3Rpb24gcigpe3JldHVybiBGfWZ1bmN0aW9uIG8oKXtyZXR1cm4gRH1mdW5jdGlvbiBhKCl7cmV0dXJuIF99ZnVuY3Rpb24gYygpe3JldHVybiBCfWZ1bmN0aW9uIGgodCl7cmV0dXJuIEguZ2V0KHQpfWZ1bmN0aW9uIHAodCxlKXt2YXIgaT1uZXcgQyh0KTtyZXR1cm4gaS5hcHBseShlKSxILnNldCh0LGkpLGl9ZnVuY3Rpb24gdShlKXtBPXQuU2UoZSl9ZnVuY3Rpb24gbCh0KXtyZXR1cm4gbnVsbCE9QT9BLmNvbnRleHQucmVzb2x2ZSh0KTooY29uc29sZS53YXJuKFwidW5kZWZpbmVkIGNvbnRleHRcIiksbnVsbCl9ZnVuY3Rpb24gZCgpe3JldHVybiBBfWZ1bmN0aW9uIGYoKXtyZXR1cm4gQi50aW1lKCl9ZnVuY3Rpb24gZyh0LGUpe3JldHVybiBCLnNldFRpbWVvdXQodCxlKX1mdW5jdGlvbiB2KHQpe3JldHVybiBCLmNsZWFyVGltZW91dCh0KX1mdW5jdGlvbiB5KHQsZSl7cmV0dXJuIEIuc2V0SW50ZXJ2YWwodCxlKX1mdW5jdGlvbiBtKHQpe3JldHVybiBCLmNsZWFySW50ZXJ2YWwodCl9ZnVuY3Rpb24gdygpe0IuYmUoKX1mdW5jdGlvbiBUKCl7RC5FZSgpLEQ9bmV3IG4uSWUsSD1uZXcgcyxBPW51bGwsTj1udWxsLEw9ITEseD1udWxsLEI9bnVsbCxGPW51bGwsXz1udWxsfWZ1bmN0aW9uIFModCl7eD10fWZ1bmN0aW9uIGIoKXtyZXR1cm4geHx8KHg9KG5ldyBEYXRlKS5nZXRUaW1lKCkpLHg9KDkzMDEqeCs0OTI5NyklMjMzMjgwLHgvMjMzMjgwfWZ1bmN0aW9uIEUoKXtyZXR1cm4gTn1mdW5jdGlvbiBJKCl7cmV0dXJuIEx9dmFyIFI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0fSgpO1IuUmU9XCJ3czovLzEyNy4wLjAuMTo4MDAwL2hpdmVcIix0LmtlPVI7dmFyIGs9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0fSgpO2subWU9XCJUaW1lclNjaGVkdWxlclwiLGsuQ2U9XCJpZGVudGl0eVByb3ZpZGVyXCIsay5UZT1cIk5ldHdvcmtDb21wb25lbnRcIixrLk9lPVwicnRjTWFuYWdlclwiLGsuUGU9XCJ0cmFuc3BvcnRcIixrLkFlPVwiaHR0cE1hbmFnZXJcIixrLk5lPVwiaHR0cFJlcXVlc3RcIixrLndlPVwibG9nZ2VyXCIsay54ZT1cInNlcnZlck1hbmFnZXJcIixrLkJlPVwic2VydmljZXNDbGllbnRcIix0LkZlPWs7dmFyIEM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuaWQ9dCx0aGlzLmNvbnRleHQ9bmV3IG4uSWV9cmV0dXJuIHQucHJvdG90eXBlLmFwcGx5PWZ1bmN0aW9uKHQpe3QuYXBwbHkodGhpcy5jb250ZXh0KX0sdH0oKTt0Ll9lPUM7dmFyIE87IWZ1bmN0aW9uKHQpe3RbdC5EZT0wXT1cIkhUVFBcIix0W3QuSGU9MV09XCJSVENcIix0W3QuTGU9Ml09XCJVRFBcIn0oTz10Lk1lfHwodC5NZT17fSkpO3ZhciBQOyFmdW5jdGlvbihlKXtmdW5jdGlvbiBpKCl7cmV0dXJuXCJbXCIrZigpK1wiXSBbXCIrdC5qZSgpLmlkK1wiXVwifWUuVWU9aX0oUD10LlZlfHwodC5WZT17fSkpO3ZhciBBLE4seCxCLEYsXyxEPW5ldyBuLkllLEg9bmV3IHMsTD0hMTt0LlFlPWUsdC5xZT1pLHQuSmU9cix0LnN5c3RlbT1vLHQubT1hLHQuS2U9Yyx0LlNlPWgsdC5HZT1wLHQuemU9dSx0LnJlc29sdmU9bCx0LmplPWQsdC50aW1lPWYsdC5zZXRUaW1lb3V0PWcsdC5jbGVhclRpbWVvdXQ9dix0LnNldEludGVydmFsPXksdC5jbGVhckludGVydmFsPW0sdC5iZT13LHQueWU9VCx0LldlPVMsdC5yYW5kb209Yix0LiRlPUUsdC5DdD1JfShyPWUuRnJhbWV3b3JrfHwoZS5GcmFtZXdvcms9e30pKSxcInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsJiYoZ2xvYmFsLkZyYW1ld29yaz1yKX0sZnVuY3Rpb24odCxlKXtcInVzZSBzdHJpY3RcIjt2YXIgaT0hMCxyPXtZZTpmdW5jdGlvbih0KXtyZXR1cm5cImJvb2xlYW5cIiE9dHlwZW9mIHQ/bmV3IEVycm9yKFwiQXJndW1lbnQgdHlwZTogXCIrdHlwZW9mIHQrXCIuIFBsZWFzZSB1c2UgYSBib29sZWFuLlwiKTooaT10LHQ/XCJhZGFwdGVyLmpzIGxvZ2dpbmcgZGlzYWJsZWRcIjpcImFkYXB0ZXIuanMgbG9nZ2luZyBlbmFibGVkXCIpfSxsb2c6ZnVuY3Rpb24oKXtpZihcIm9iamVjdFwiPT10eXBlb2Ygd2luZG93KXtpZihpKXJldHVybjtcInVuZGVmaW5lZFwiIT10eXBlb2YgY29uc29sZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgY29uc29sZS5sb2cmJmNvbnNvbGUubG9nLmFwcGx5KGNvbnNvbGUsYXJndW1lbnRzKX19LFhlOmZ1bmN0aW9uKHQsZSxpKXt2YXIgcj10Lm1hdGNoKGUpO3JldHVybiByJiZyLmxlbmd0aD49aSYmcGFyc2VJbnQocltpXSwxMCl9LFplOmZ1bmN0aW9uKCl7dmFyIHQ9e307aWYodC50aT1udWxsLHQudmVyc2lvbj1udWxsLFwidW5kZWZpbmVkXCI9PXR5cGVvZiB3aW5kb3d8fCF3aW5kb3cubmF2aWdhdG9yKXJldHVybiB0LnRpPVwiTm90IGEgYnJvd3Nlci5cIix0O2lmKG5hdmlnYXRvci5tb3pHZXRVc2VyTWVkaWEpdC50aT1cImZpcmVmb3hcIix0LnZlcnNpb249dGhpcy5YZShuYXZpZ2F0b3IudXNlckFnZW50LC9GaXJlZm94XFwvKFxcZCspXFwuLywxKTtlbHNlIGlmKG5hdmlnYXRvci53ZWJraXRHZXRVc2VyTWVkaWEpaWYod2luZG93LndlYmtpdFJUQ1BlZXJDb25uZWN0aW9uKXQudGk9XCJjaHJvbWVcIix0LnZlcnNpb249dGhpcy5YZShuYXZpZ2F0b3IudXNlckFnZW50LC9DaHJvbShlfGl1bSlcXC8oXFxkKylcXC4vLDIpO2Vsc2V7aWYoIW5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL1ZlcnNpb25cXC8oXFxkKykuKFxcZCspLykpcmV0dXJuIHQudGk9XCJVbnN1cHBvcnRlZCB3ZWJraXQtYmFzZWQgYnJvd3NlciB3aXRoIEdVTSBzdXBwb3J0IGJ1dCBubyBXZWJSVEMgc3VwcG9ydC5cIix0O3QudGk9XCJzYWZhcmlcIix0LnZlcnNpb249dGhpcy5YZShuYXZpZ2F0b3IudXNlckFnZW50LC9BcHBsZVdlYktpdFxcLyhcXGQrKVxcLi8sMSl9ZWxzZSBpZihuYXZpZ2F0b3IubWVkaWFEZXZpY2VzJiZuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9FZGdlXFwvKFxcZCspLihcXGQrKSQvKSl0LnRpPVwiZWRnZVwiLHQudmVyc2lvbj10aGlzLlhlKG5hdmlnYXRvci51c2VyQWdlbnQsL0VkZ2VcXC8oXFxkKykuKFxcZCspJC8sMik7ZWxzZXtpZighbmF2aWdhdG9yLm1lZGlhRGV2aWNlc3x8IW5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0FwcGxlV2ViS2l0XFwvKFxcZCspXFwuLykpcmV0dXJuIHQudGk9XCJOb3QgYSBzdXBwb3J0ZWQgYnJvd3Nlci5cIix0O3QudGk9XCJzYWZhcmlcIix0LnZlcnNpb249dGhpcy5YZShuYXZpZ2F0b3IudXNlckFnZW50LC9BcHBsZVdlYktpdFxcLyhcXGQrKVxcLi8sMSl9cmV0dXJuIHR9LGVpOmZ1bmN0aW9uKCl7aWYoXCJvYmplY3RcIj09dHlwZW9mIHdpbmRvdyYmd2luZG93LkhUTUxNZWRpYUVsZW1lbnQmJlwic3JjT2JqZWN0XCJpbiB3aW5kb3cuSFRNTE1lZGlhRWxlbWVudC5wcm90b3R5cGUpe3ZhciB0PVVSTC5jcmVhdGVPYmplY3RVUkwuYmluZChVUkwpLGU9VVJMLnJldm9rZU9iamVjdFVSTC5iaW5kKFVSTCksaT1uZXcgTWFwLHI9MDtVUkwuY3JlYXRlT2JqZWN0VVJMPWZ1bmN0aW9uKGUpe2lmKFwiZ2V0VHJhY2tzXCJpbiBlKXt2YXIgbj1cInBvbHlibG9iOlwiKyArK3I7cmV0dXJuIGkuc2V0KG4sZSksY29uc29sZS5sb2coXCJVUkwuY3JlYXRlT2JqZWN0VVJMKHN0cmVhbSkgaXMgZGVwcmVjYXRlZCEgVXNlIGVsZW0uc3JjT2JqZWN0ID0gc3RyZWFtIGluc3RlYWQhXCIpLG59cmV0dXJuIHQoZSl9LFVSTC5yZXZva2VPYmplY3RVUkw9ZnVuY3Rpb24odCl7ZSh0KSxpW1wiZGVsZXRlXCJdKHQpfTt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHdpbmRvdy5IVE1MTWVkaWFFbGVtZW50LnByb3RvdHlwZSxcInNyY1wiKTtPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LkhUTUxNZWRpYUVsZW1lbnQucHJvdG90eXBlLFwic3JjXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBuLmdldC5hcHBseSh0aGlzKX0sc2V0OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmlpPWkuZ2V0KHQpfHxudWxsLG4uc2V0LmFwcGx5KHRoaXMsW3RdKX19KTt2YXIgbz1IVE1MTWVkaWFFbGVtZW50LnByb3RvdHlwZS5zZXRBdHRyaWJ1dGU7SFRNTE1lZGlhRWxlbWVudC5wcm90b3R5cGUuc2V0QXR0cmlidXRlPWZ1bmN0aW9uKCl7cmV0dXJuIDI9PT1hcmd1bWVudHMubGVuZ3RoJiZcInNyY1wiPT09KFwiXCIrYXJndW1lbnRzWzBdKS50b0xvd2VyQ2FzZSgpJiYodGhpcy5paT1pLmdldChhcmd1bWVudHNbMV0pfHxudWxsKSxvLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19fX07dC50PXtsb2c6ci5sb2csWWU6ci5ZZSxyaTpyLlplKCksWGU6ci5YZSxlaTpyLmVpLFplOnIuWmUuYmluZChyKX19LGZ1bmN0aW9uKHQsZSxpKXt2YXIgcj1pKDMyKTt0LnQ9e3ZlOnIuTWFwLG5pOnIubmksb2k6ci5vaX19LGZ1bmN0aW9uKHQsZSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk7IWZ1bmN0aW9uKHQpe3Quc2k9XCJzdGF0c0NsaWVudFwiLHQuQmU9XCJzZXJ2aWNlc0NsaWVudFwiLHQuYWk9XCJ0aWNrZXRSZXNvbHZlclwiLHQuQ2U9XCJpZGVudGl0eVByb3ZpZGVyXCIsdC5jaT1cImNvbm5JbmZvUHJvdmlkZXJcIix0LmhpPVwicGVlckluZm9cIix0LnBpPVwic3RyZWFtSW5mb1Byb3ZpZGVyXCIsdC51aT1cInJlcG9ydGluZ1wiLHQubGk9XCJzdGF0c1N0b3JlXCIsdC5kaT1cInRyYWNrTWFuYWdlclwiLHQuZmk9XCJ0cmFja0NsaWVudFwifShpPWUuZ2l8fChlLmdpPXt9KSl9LGZ1bmN0aW9uKHQsZSl7dC50PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBGdW5jdGlvbn19LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQsZSl7ZnVuY3Rpb24gaSgpe3JldHVybiB0KCk/dm9pZCB2LndoZW4oZSgpLGksci5yZWplY3QpOnIucmVzb2x2ZSghMCl9dmFyIHI9di5kZWZlcigpO3JldHVybiB2LmR0KGkpLHIudnR9ZnVuY3Rpb24gbih0LGUsaSl7cmV0dXJuIHZvaWQgMD09PWkmJihpPSEwKSxvKFwiR0VUXCIsdCxlLGkpfWZ1bmN0aW9uIG8odCxlLGkscil7dm9pZCAwPT09ciYmKHI9ITApO3ZhciBuPXYuZGVmZXIoKTt0cnl7dmFyIG89bmV3IFhNTEh0dHBSZXF1ZXN0O28ub3Blbih0LGUsciksdm9pZCAwIT1pJiZudWxsIT1pJiZvLnNldFJlcXVlc3RIZWFkZXIoXCJDb250ZW50LVR5cGVcIixpKSxvLm9ubG9hZD1mdW5jdGlvbigpezIwMD09by5zdGF0dXM/bi5yZXNvbHZlKG8ucmVzcG9uc2UpOm4ucmVqZWN0KHtzdGF0dXM6by5zdGF0dXMscmVhc29uOm8uc3RhdHVzVGV4dCxib2R5Om8ucmVzcG9uc2VUZXh0fSl9LG8ub25lcnJvcj1mdW5jdGlvbih0KXtuLnJlamVjdCh7c3RhdHVzOi0xLHJlYXNvbjpcIk5ldHdvcmsgRXJyb3JcIn0pfSxvLnNlbmQoKX1jYXRjaChzKXtuLnJlamVjdCh7c3RhdHVzOi0xLHJlYXNvbjpzfSl9cmV0dXJuIG4udnR9ZnVuY3Rpb24gcyh0LGUsaSxyKXt2b2lkIDA9PT1yJiYocj0hMCk7dmFyIG49di5kZWZlcigpO3RyeXt2YXIgbz1uZXcgWE1MSHR0cFJlcXVlc3Q7by5vcGVuKFwiUE9TVFwiLHQsciksdm9pZCAwIT1pJiZudWxsIT1pJiZvLnNldFJlcXVlc3RIZWFkZXIoXCJDb250ZW50LVR5cGVcIixpKSxvLm9ubG9hZD1mdW5jdGlvbigpezIwMD09by5zdGF0dXM/bi5yZXNvbHZlKG8ucmVzcG9uc2UpOm4ucmVqZWN0KHtzdGF0dXM6by5zdGF0dXMscmVhc29uOm8uc3RhdHVzVGV4dH0pfSxvLm9uZXJyb3I9ZnVuY3Rpb24odCl7bi5yZWplY3Qoe3N0YXR1czotMSxyZWFzb246XCJOZXR3b3JrIEVycm9yXCJ9KX0sby5zZW5kKGUpfWNhdGNoKHMpe24ucmVqZWN0KHtzdGF0dXM6LTEscmVhc29uOnN9KX1yZXR1cm4gbi52dH1mdW5jdGlvbiBhKHQsZSl7dmFyIGkscixuPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJiYXNlXCIpLG89ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImhlYWRcIikscz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKSxhPW47cmV0dXJuIG4/aT1uLmhyZWY6YT1vLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJiYXNlXCIpKSxhLmhyZWY9dCxzLmhyZWY9ZSxyPXMuaHJlZixuP24uaHJlZj1pOm8ucmVtb3ZlQ2hpbGQoYSkscn1mdW5jdGlvbiBjKCl7Zm9yKHZhciB0PVtdLGU9MDtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXRbZV09YXJndW1lbnRzW2VdO2Zvcih2YXIgaT10WzBdLHI9MTtyPHQubGVuZ3RoO3IrKyl7dmFyIG49bmV3IFJlZ0V4cChcIlxcXFx7XCIrKHItMSkrXCJcXFxcfVwiLFwiZ21cIik7aT1pLnJlcGxhY2Uobix0W3JdKX1yZXR1cm4gaX1mdW5jdGlvbiBoKHQsZSl7Zm9yKHZhciBpIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShpKSYmZS5oYXNPd25Qcm9wZXJ0eShpKSYmKGVbaV09dFtpXSl9ZnVuY3Rpb24gcCh0LGUsaSl7dmFyIHI9Zyh0KS52aSghMCk7Zm9yKHZhciBuIGluIHIpdHJ5e2lmKHIuaGFzT3duUHJvcGVydHkobikmJmUuaGFzT3duUHJvcGVydHkobikmJmkuaGFzT3duUHJvcGVydHkoZVtuXSkpe3ZhciBvPWVbbl0scz1yW25dO2lbb109dShzLGlbb10pfX1jYXRjaChhKXt9fWZ1bmN0aW9uIHUodCxlKXt2YXIgaTtzd2l0Y2godHlwZW9mIGUpe2Nhc2VcIm51bWJlclwiOmk9cGFyc2VJbnQodCk7YnJlYWs7Y2FzZVwiYm9vbGVhblwiOmk9XCJ0cnVlXCI9PT10O2JyZWFrO2RlZmF1bHQ6aT10fXJldHVybiBpfWZ1bmN0aW9uIGwodCxlLGkpe3ZhciByPW5ldyBtO3JldHVybiByLnRpY2tldFVybD10LHIuY29kZT1lLHIubWVzc2FnZT13KGUpLHIuZGV0YWlsZWRNZXNzYWdlPWkscn12YXIgZD1pKDQpLGY9ZC52ZSxnPWkoMjEpLHY9aSgxKSx5PWkoMTcpLG09eS5wdC5IaXZlU2Vzc2lvbkVycm9yLHc9eS5wdC5nZXRIaXZlU2Vzc2lvbkVycm9yTWVzc2FnZSxUPXkucHQuSGl2ZVNlc3Npb24sUz1pKDI2KSxiPWkoNDYpLEU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe2lmKCFlKXtpZigwPT1PYmplY3Qua2V5cyh0Lm1hcHBpbmcpLmxlbmd0aCYmIXQueWkpcmV0dXJuIGNvbnNvbGUuZXJyb3IoXCJubyByZWdpc3RlcmVkIGRlZmF1bHQgSGl2ZVJlcXVlc3RGYWN0b3J5IHRlY2hcIiksdC55aT0hMCx0Lm1pKCk7ZT1PYmplY3Qua2V5cyh0Lm1hcHBpbmcpWzBdfWlmKCEoZSBpbiB0Lm1hcHBpbmcpKXJldHVybiB0LnlpfHwoY29uc29sZS5lcnJvcihcIm5vIHJlZ2lzdGVyZWQgSGl2ZVJlcXVlc3RGYWN0b3J5IHRlY2ggZm9yICBcIitlKSx0LnlpPSEwKSx0Lm1pKCk7dmFyIGk9dC5tYXBwaW5nW2VdO3N3aXRjaChpLnRlY2gpe2Nhc2VcIkhpdmVKU1wiOnJldHVybiB0Lm1pKCk7Y2FzZVwiSGl2ZUpzUHJveHlcIjpyZXR1cm4gaS53aT9uZXcgUy5UaShlKTooaS53aT0hMCxuZXcgYi5TaShlKSk7Y2FzZVwiSGl2ZUphdmFcIjpjYXNlXCJTdGF0c0pTXCI6cmV0dXJuIHQubWkoKX19cmV0dXJuIHQubWk9ZnVuY3Rpb24oKXtyZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2YgT3JpZ2luYWxYTUxIdHRwUmVxdWVzdD9uZXcgT3JpZ2luYWxYTUxIdHRwUmVxdWVzdDpuZXcgWE1MSHR0cFJlcXVlc3R9LHQuY2xlYXI9ZnVuY3Rpb24oKXt0Lm1hcHBpbmc9e319LHQuYmk9ZnVuY3Rpb24oZSxpKXtlIGluIHQubWFwcGluZ3x8KHQubWFwcGluZ1tlXT17fSksdC5tYXBwaW5nW2VdLnRlY2g9aX0sdH0oKTtFLm1hcHBpbmc9e30sRS55aT0hMSxlLkhpdmVSZXF1ZXN0RmFjdG9yeT1FO3ZhciBJPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsaSxyKXt0aGlzLkVpPSExLHRoaXMudGlja2V0VXJsPXQsdGhpcy50aWNrZXQ9ZSx0aGlzLm1hbmlmZXN0PWksdGhpcy5JaT12LmRlZmVyKCksdGhpcy5SaT1yLHRoaXMuUmkmJnRoaXMuSWkucmVzb2x2ZSh0aGlzLlJpKX1yZXR1cm4gdC5wcm90b3R5cGUuc3Q9ZnVuY3Rpb24odCl7cmV0dXJuIG51bGwhPT10aGlzLnRlY2gmJnRoaXMudGVjaC5zdCh0LHRoaXMpfSx0LnByb3RvdHlwZS5raT1mdW5jdGlvbih0KXt0aGlzLkVpIT10JiYodGhpcy5FaT10LHRoaXMudGVjaCYmdGhpcy50ZWNoLkNpKHRoaXMsdCkpfSx0LnByb3RvdHlwZS5PaT1mdW5jdGlvbigpe3JldHVybiB0aGlzLkVpfSx0LnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbih0KXtpZihudWxsIT10aGlzLnRlY2gpcmV0dXJuIHRoaXMudGVjaC5QaSh0aGlzLHQpfSx0LnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRpY2tldC50b1N0cmluZygpfSx0LnByb3RvdHlwZS5nPWZ1bmN0aW9uKCl7dmFyIHQ9bmV3IFQ7cmV0dXJuIHQuaWQ9dGhpcy5pZCx0LnRpY2tldFVybD10aGlzLnRpY2tldFVybCx0Lm1hbmlmZXN0PXRoaXMubWFuaWZlc3QsdC50ZWNoPXRoaXMudGVjaC5BaSgpLHR9LHQucHJvdG90eXBlLk5pPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuSWkudnR9LHQucHJvdG90eXBlLnhpPWZ1bmN0aW9uKHQpe3RoaXMuUmk9dCx0aGlzLklpLnJlc29sdmUodGhpcy5SaSl9LHR9KCk7ZS5CaT1JO3ZhciBSPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdH0oKTtlLkZpPVI7dmFyIGs9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dGhpcy5zdWNjZXNzPTAsdGhpcy5faT0wLHRoaXMuRGk9MH1yZXR1cm4gdH0oKTtlLkhpPWs7dmFyIEM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dGhpcy5MaT0wLHRoaXMuTWk9MCx0aGlzLmppPW5ldyBmLHRoaXMuVWk9bmV3IGZ9cmV0dXJuIHQucHJvdG90eXBlLk09ZnVuY3Rpb24odCxlLGkscil7dm9pZCAwPT09ciYmKHI9ITApO3ZhciBuPXQ/dGhpcy5qaTp0aGlzLlVpO24uaGFzKGUpfHxuLnNldChlLG5ldyBrKTt2YXIgbz1uLmdldChlKTtvLkRpKz1pLHImJm8uc3VjY2VzcysrfSx0LnByb3RvdHlwZS5WPWZ1bmN0aW9uKHQsZSl7dmFyIGk9dD90aGlzLmppOnRoaXMuVWk7aS5oYXMoZSl8fGkuc2V0KGUsbmV3IGspLGkuZ2V0KGUpLl9pKyt9LHQucHJvdG90eXBlLlU9ZnVuY3Rpb24odCl7dGhpcy5iYW5kd2lkdGg9dH0sdC5wcm90b3R5cGUuWj1mdW5jdGlvbigpe3RoaXMuTGkrK30sdC5wcm90b3R5cGUudHQ9ZnVuY3Rpb24oKXt0aGlzLk1pKyt9LHQucHJvdG90eXBlLlZpPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYmFuZHdpZHRofSx0LnByb3RvdHlwZS5RaT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmppfSx0LnByb3RvdHlwZS5xaT1mdW5jdGlvbigpe3JldHVybiB0aGlzLlVpfSx0LnByb3RvdHlwZS5KaT1mdW5jdGlvbigpe3JldHVybiB0aGlzLkxpfSx0LnByb3RvdHlwZS5LaT1mdW5jdGlvbigpe3JldHVybiB0aGlzLk1pfSx0fSgpO2UuUD1DO3ZhciBPPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3ZhciBlPXRoaXM7aWYodC5HaSl0aHJvdyBuZXcgRXJyb3IoXCJFcnJvcjogSW5zdGFudGlhdGlvbiBmYWlsZWQ6IFVzZSBWaXNpYmlsaXR5Q2hhbmdlTGlzdGVuZXIuZ2V0SW5zdGFuY2UoKSBpbnN0ZWFkIG9mIG5ldy5cIik7dmFyIGkscjtcInVuZGVmaW5lZFwiIT10eXBlb2YgZG9jdW1lbnQuaGlkZGVuPyhpPVwiaGlkZGVuXCIscj1cInZpc2liaWxpdHljaGFuZ2VcIik6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGRvY3VtZW50Lm1zSGlkZGVuPyhpPVwibXNIaWRkZW5cIixyPVwibXN2aXNpYmlsaXR5Y2hhbmdlXCIpOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBkb2N1bWVudC53ZWJraXRIaWRkZW4mJihpPVwid2Via2l0SGlkZGVuXCIscj1cIndlYmtpdHZpc2liaWxpdHljaGFuZ2VcIiksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXImJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBkb2N1bWVudFtpXT9kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKHIsZnVuY3Rpb24oKXt2YXIgdD0hZG9jdW1lbnRbaV07ZS56aS5mb3JFYWNoKGZ1bmN0aW9uKGkpe2kuY2FsbChlLHQpfSl9LCExKTp0Lm0mJnQubS5kZWJ1ZyhcIndhcm4gLSB2aXNpYmlsaXR5Q2hhbmdlIGxpc3RlbmVyIG5vdCBzdXBwb3J0ZWRcIiksdGhpcy56aT1uZXcgQXJyYXl9cmV0dXJuIHQuV2k9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJih0aGlzLm09ZSksdm9pZCAwPT09dGhpcy5HaSYmKHRoaXMuR2k9bmV3IHQpLHRoaXMuR2l9LHQucHJvdG90eXBlLiRpPWZ1bmN0aW9uKHQpe3RoaXMuemkucHVzaCh0KX0sdH0oKTtlLllpPU8sZS5YaT1yLGUuWmk9bixlLnRyPW8sZS5lcj1zLGUuaXI9YSxlLnJyPWMsZS5ucj1oLGUub3I9cCxlLnNyPWw7dmFyIFA9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LmdldEl0ZW09ZnVuY3Rpb24odCl7dHJ5e3JldHVybiB3aW5kb3cuc2Vzc2lvblN0b3JhZ2U/d2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0odCk6bnVsbH1jYXRjaChlKXtyZXR1cm4gbnVsbH19LHQuc2V0SXRlbT1mdW5jdGlvbih0LGUpe3RyeXtyZXR1cm4hIXdpbmRvdy5zZXNzaW9uU3RvcmFnZSYmKHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5zZXRJdGVtKHQsZSksITApfWNhdGNoKGkpe3JldHVybiExfX0sdC5yZW1vdmVJdGVtPWZ1bmN0aW9uKHQpe3RyeXt3aW5kb3cuc2Vzc2lvblN0b3JhZ2UmJndpbmRvdy5zZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKHQpfWNhdGNoKGUpe3JldHVybiBudWxsfX0sdH0oKTtlLmFyPVA7dmFyIEE9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuY3I9dH1yZXR1cm4gdC5wcm90b3R5cGUuaHI9ZnVuY3Rpb24odCl7dmFyIGU9RGF0ZS5ub3coKTtyZXR1cm4gdGhpcy5pc0VxdWFsKHRoaXMucHIsdCl8fCh0aGlzLnVyPWUpLHRoaXMucHI9dCxlLXRoaXMudXI+PXRoaXMuY3J9LHQucHJvdG90eXBlLmlzRXF1YWw9ZnVuY3Rpb24odCxlKXtpZih0JiZlKXt2YXIgaT1bZS5sci10LmxyLGUuZHItdC5kcixlLmdyLXQuZ3JdO3JldHVybiBpLnJlZHVjZShmdW5jdGlvbih0LGUpe3JldHVybiB0JiZNYXRoLmFicyhlKTwxMH0sITApfXJldHVybiExfSx0fSgpO2UudnI9QX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO3ZhciByLG49aSgxMSksbz1pKDE4KSxzPWkoMTIpOyFmdW5jdGlvbih0KXt2YXIgZTshZnVuY3Rpb24odCl7dmFyIGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dGhpcy5tb25pdG9yUG9ydD1vLmtlLnlyP3Mud3IubXI6cy53ci5Ucix0aGlzLnBsYXllclBvcnQ9by5rZS55cj9zLndyLlNyOnMud3IuYnIsdGhpcy5mZWVkYmFja1BlcmlvZD0yZTMsdGhpcy5pZGxlVGltZVBlcmlvZD02ZTQsdGhpcy51c2VTZXNzaW9uQ2hlY2s9by5rZS5Fcix0aGlzLmRlYnVnTGV2ZWw9XCJub3RpY2VcIix0aGlzLmhpdmVUZWNoT3JkZXI9W10sdGhpcy50ZWxlbWV0cnlJZD1udWxsLHRoaXMuc2lsZW50PSExLHRoaXMubG9nZ2VyVGltZXN0YW1wPW4uSGl2ZUNvbmZpZy5GcmFtZXdvcmsuTG9nZ2VyVGltZXN0YW1wLHRoaXMub25Tb3VyY2VTZXRDb21wbGV0ZWQ9ZnVuY3Rpb24odCl7fSx0aGlzLm9uTG9hZGluZ0NvbXBsZXRlZD1mdW5jdGlvbih0KXt9fXJldHVybiB0fSgpO3QuSXI9ZTt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLmluaXRUaW1lb3V0PTNlNCx0aGlzLm9uRXJyb3I9ZnVuY3Rpb24odCl7cmV0dXJuITB9LHRoaXMub25BY3RpdmVTZXNzaW9uPWZ1bmN0aW9uKHQpe319cmV0dXJuIHR9KCk7dC5Scj1pO3ZhciByPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3RoaXMuaGl2ZVBsYXllclBvcnQ9XCJwbGF5ZXJQb3J0XCIsdGhpcy5oaXZlTW9uaXRvclBvcnQ9XCJtb25pdG9yUG9ydFwiLHRoaXMuaGl2ZVNpbGVudD1cInNpbGVudFwiLHRoaXMuaGl2ZURlYnVnTGV2ZWw9XCJkZWJ1Z0xldmVsXCIsdGhpcy5oaXZlRGVidWdUaW1lc3RhbXA9XCJsb2dnZXJUaW1lc3RhbXBcIix0aGlzLmhpdmVTZXR1cFRpbWVvdXQ9XCJzZXR1cFRpbWVvdXRcIix0aGlzLmhpdmVKYXZhVGltZW91dD1cImluaXRUaW1lb3V0XCIsdGhpcy5oaXZlV2FybkphdmFUaW1lb3V0PVwid2FyblNsb3dSZXNwVGltZW91dFwifXJldHVybiB0fSgpO3Qua3I9cn0oZT10LklyfHwodC5Jcj17fSkpfShyPWUucHR8fChlLnB0PXt9KSk7dmFyIGE7IWZ1bmN0aW9uKHQpe3ZhciBlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdH0oKTtlLmVuYWJsZWRSVU09ITEsZS5lbmFibGVLZXlDb21iaW5hdGlvbj0hMCxlLmVuYWJsZWRFcnJvckZpbHRlcj0hMCx0LkVycm9yTW9uaXRvcj1lfShhPWUuSGl2ZUNvbmZpZ3x8KGUuSGl2ZUNvbmZpZz17fSkpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJihcInVuZGVmaW5lZFwiPT10eXBlb2Ygd2luZG93LkhpdmVDb25maWcmJih3aW5kb3cuSGl2ZUNvbmZpZz17fSksd2luZG93LkhpdmVDb25maWcuRXJyb3JNb25pdG9yPWEuRXJyb3JNb25pdG9yKX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO3ZhciByLG49dGhpcyYmdGhpcy5fX2V4dGVuZHN8fGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gaSgpe3RoaXMuY29uc3RydWN0b3I9dH1mb3IodmFyIHIgaW4gZSllLmhhc093blByb3BlcnR5KHIpJiYodFtyXT1lW3JdKTt0LnByb3RvdHlwZT1udWxsPT09ZT9PYmplY3QuY3JlYXRlKGUpOihpLnByb3RvdHlwZT1lLnByb3RvdHlwZSxuZXcgaSl9LG89aSgyOCkuQ3Iscz1pKDEpLGE9aSgyKSxjPWkoNSksaD1pKDEzKSxwPWkoMTApLHU9aSgyMyk7IWZ1bmN0aW9uKHQpe3ZhciBlPVwiW1RSQUNLXSBcIjt0Lk9yPVwiaGl2ZS1jbGllbnQtdHJhY2tcIix0LlByPVwidHJhY2tldmVudFwiLHQuQXI9XCJOVUxMSURcIix0Lk5yPVwiXCI7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0fSgpO2kueHI9MCxpLkJyPTEsaS5Gcj0yLGkuX3I9MTAwLGkuRHI9MjAwLHQuSHI9aTt2YXIgcjshZnVuY3Rpb24odCl7dFt0Lk49MF09XCJQTEFZSU5HXCIsdFt0LkxyPTFdPVwiQlVGRkVSSU5HXCIsdFt0Llc9Ml09XCJQQVVTRURcIix0W3QuSD0zXT1cIlNLSVBcIix0W3QuRD00XT1cIlNUT1BQRURcIix0W3QuRVJST1I9NV09XCJFUlJPUlwiLHRbdC5Ncj02XT1cIldJTkRPV19TSVpFXCIsdFt0Lkw9N109XCJGVUxMU0NSRUVOXCIsdFt0LmpyPThdPVwiVklTSUJMRVwiLHRbdC5ISURERU49OV09XCJISURERU5cIn0ocj10LkJ8fCh0LkI9e30pKTt2YXIgbDshZnVuY3Rpb24odCl7dFt0LlVyPTBdPVwiSkFWQV9OT1RfUkVBQ0hBQkxFXCIsdFt0LlZyPTFdPVwiSkFWQV9OT1RfUkVBRFlcIix0W3QuUXI9Ml09XCJKQVZBX1dST05HX1ZFUlNJT05cIix0W3QucXI9M109XCJKQVZBX1NFU1NJT05fQlVTWVwiLHRbdC5Kcj00XT1cIkpBVkFfU0VTU0lPTl9FUlJPUlwiLHRbdC5Lcj01XT1cIkpBVkFfVElDS0VUX1RJTUVPVVRcIn0obD10LkdyfHwodC5Hcj17fSkpO3ZhciBkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdH0oKTt0LnpyPWQ7dmFyIGY9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0fSgpO3QuV3I9Zjt2YXIgZz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHR9KCk7dC4kcj1nO3ZhciB2PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3RoaXMudHlwZT1pLkZyfXJldHVybiB0fSgpLHk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dGhpcy5zZXNzaW9ucz1uZXcgQXJyYXl9cmV0dXJuIHQucHJvdG90eXBlLllyPWZ1bmN0aW9uKHQsZSl7dmFyIGk7dGhpcy5zZXNzaW9ucy5mb3JFYWNoKGZ1bmN0aW9uKGUpe2Uuc2Vzc2lvbklkPT10JiYoaT1lKX0pLGl8fChpPW5ldyBtLGkuc2Vzc2lvbklkPXQsdGhpcy5zZXNzaW9ucy5wdXNoKGkpKSxpLmV2ZW50cy5wdXNoKGUpfSx0fSgpO3QuWHI9eTt2YXIgbT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLmV2ZW50cz1uZXcgQXJyYXl9cmV0dXJuIHR9KCk7dC5acj1tO3ZhciB3PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe3RoaXMubT1hLkZyYW1ld29yay5yZXNvbHZlKGEuRnJhbWV3b3JrLkZlLndlKS5sb2coKSx0aGlzLnRuPWEuRnJhbWV3b3JrLnJlc29sdmUoYy5naS5jaSksdGhpcy5lbj1uZXcgQXJyYXksdGhpcy5pbj1uZXcgQXJyYXksdGhpcy5ybj1uZXcgQXJyYXl9cmV0dXJuIGkucHJvdG90eXBlLm5uPWZ1bmN0aW9uKHQpe3RoaXMuY2xpZW50PXR9LGkucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24odCxpKXt0aGlzLnNuPXQsdGhpcy5hbihpKSx0aGlzLm0uZGVidWcoZStcIklOSVQgSUQ6IFwiK3QpfSxpLnByb3RvdHlwZS5hbj1mdW5jdGlvbih0LGUpe3RoaXMuYXBwPXQsZSYmKHRoaXMuY249ZSl9LGkucHJvdG90eXBlLmhuPWZ1bmN0aW9uKHQpe3RoaXMucG49dH0saS5wcm90b3R5cGUudW49ZnVuY3Rpb24odCl7dmFyIGU9bmV3IFModCx0aGlzKTt0aGlzLmVuLnB1c2goZSksdGhpcy5sbj1udWxsLHRoaXMuY2xpZW50LmRuKCEwKX0saS5wcm90b3R5cGUud2k9ZnVuY3Rpb24odCxpLHIpe2lmKCF0aGlzLmxuKWZvcih2YXIgbj0wO248dGhpcy5lbi5sZW5ndGg7bisrKXt2YXIgbz10aGlzLmVuW25dO2lmKG8udGlja2V0LnNlc3Npb25JZD09PXQpe3RoaXMubS5kZWJ1ZyhlK1wiQWN0aXZhdGluZyBUcmFjayBmb3Igc2Vzc2lvbiBcIit0KSx0aGlzLmxuPW87YnJlYWt9fWlmKHRoaXMubG4pe2lmKHRoaXMubG4udGlja2V0LnNlc3Npb25JZCE9dClyZXR1cm4gdm9pZCB0aGlzLm0ud2FybihlK1wiaWdub3JpbmcgbWFuaWZlc3Qgbm90IG1hdGNoaW5nIGV2ZW50IFwiK3RoaXMubG4udGlja2V0LnNlc3Npb25JZCtcIiAhPSBcIit0KTtpZighdGhpcy5sbi5mbil7dmFyIHM9bmV3IGIodCxpLHIpO3RoaXMubG4uZ24ocyksdGhpcy5jbGllbnQuZG4oKX19fSxpLnByb3RvdHlwZS52bj1mdW5jdGlvbih0LGUsaSl7bnVsbCE9dGhpcy5sbiYmKHRoaXMubG4uZm58fHRoaXMubG4ueW4ucHVzaChuZXcgayh0LGUsaSkpKX0saS5wcm90b3R5cGUubW49ZnVuY3Rpb24odCxlLGkpe3RoaXMuaW4ucHVzaChuZXcgSSh0LGUsaSkpLHRoaXMuY2xpZW50LmRuKCl9LGkucHJvdG90eXBlLnduPWZ1bmN0aW9uKHQsZSxpKXt0aGlzLnJuLnB1c2gobmV3IFIodCxlLGkpKSx0aGlzLmNsaWVudC5kbigpfSxpLnByb3RvdHlwZS5Ubj1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3QmJnQuZm9yRWFjaChmdW5jdGlvbih0KXtlLnJuLnB1c2godCl9KX0saS5wcm90b3R5cGUuU249ZnVuY3Rpb24oKXt2YXIgdD1uZXcgZjt0aGlzLmNuPyh0LnBhcnRuZXJJZD10aGlzLmNuLnBhcnRuZXJJZCx0LmN1c3RvbWVySWQ9dGhpcy5jbi5jdXN0b21lcklkKTp0aGlzLmxuJiYodC5wYXJ0bmVySWQ9dGhpcy5sbi50aWNrZXQuYm4oKSx0LmN1c3RvbWVySWQ9dGhpcy5sbi50aWNrZXQuRW4oKSksdC52ZXJzaW9uPXRoaXMuYXBwLmFwcCtcIl9cIisodGhpcy5jbj90aGlzLmNuLnZlcnNpb246dGhpcy5hcHAudmVyc2lvbiksdGhpcy5jbiYmKHQuaW5zdGFsbFZlcnNpb249dGhpcy5jbi5pbnN0YWxsVmVyc2lvbix0Lmluc3RhbGxUcz10aGlzLmNuLmluc3RhbGxUcyk7dmFyIGU9bmV3IG87cmV0dXJuIGUuSW4obmF2aWdhdG9yLnVzZXJBZ2VudCksdC5vcz1lLlJuKCkubmFtZStcIiBcIitlLlJuKCkudmVyc2lvbix0aGlzLnBuJiYodC5jb21tVmVyc2lvbj10aGlzLnBuLmNvbW1WZXJzaW9uLHQucGx1Z2luTmFtZT10aGlzLnBuLnBsdWdpbk5hbWUsdC5wbHVnaW5WZXJzaW9uPXRoaXMucG4ucGx1Z2luVmVyc2lvbix0LnBsYXllclRlY2g9dGhpcy5wbi5wbGF5ZXJUZWNoLHQucGxheWVyVmVyc2lvbj10aGlzLnBuLnBsYXllclZlcnNpb24sdGhpcy5wbi50ZWxlbWV0cnlJZCYmKHQudGVsZW1ldHJ5SWQ9dGhpcy5wbi50ZWxlbWV0cnlJZCkpLHR9LGkucHJvdG90eXBlLmtuPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubG4/dGhpcy5sbjp0aGlzLmVuJiZ0aGlzLmVuLmxlbmd0aD4wP3RoaXMuZW5bdGhpcy5lbi5sZW5ndGgtMV06dm9pZCAwfSxpLnByb3RvdHlwZS5Dbj1mdW5jdGlvbigpe3ZhciBlPXRoaXMsaT1zLmRlZmVyKCk7MD09dGhpcy5lbi5sZW5ndGgmJjA9PXRoaXMuaW4ubGVuZ3RoJiZpLnJlamVjdChcIm5vdGhpbmcgdG8gc2VuZFwiKTt2YXIgcj1uZXcgZDtyLmFwcD10Lk9yLHIuY3JlYXRlZEF0PWEuRnJhbWV3b3JrLnRpbWUoKSxyLmd1aWQ9dGhpcy5zbixyLm5hbWU9dC5Qcjt2YXIgbj10aGlzLmtuKCk7aWYobil7dmFyIG89bi50aWNrZXQuT24oKS5yZXBsYWNlKC9bXFxbXFxdXS9nLFwiXCIpO3IudGFncz1bb10sci50YWdzLnB1c2gobi50aWNrZXQuYm4oKSksci50YWdzLnB1c2gobi50aWNrZXQuRW4oKSl9ZWxzZSByLnRhZ3M9bmV3IEFycmF5O3ZhciBjPW5ldyB5O3JldHVybiBjLnBlZXI9dGhpcy5TbigpLHRoaXMuZW4uZm9yRWFjaChmdW5jdGlvbih0KXt0LmZufHxjLllyKHQudGlja2V0LnNlc3Npb25JZCx0KX0pLHRoaXMuaW4uZm9yRWFjaChmdW5jdGlvbih0KXtjLllyKHQuc2Vzc2lvbklkLHQpfSksdGhpcy5ybi5mb3JFYWNoKGZ1bmN0aW9uKHQpe2MuWXIodC5zZXNzaW9uSWQsdCl9KSxyLmRhdGE9Yyx0aGlzLnRuLlBuKCkudGhlbihmdW5jdGlvbih0KXt2YXIgaT1lLkFuKHQpO2MuWXIoXCJudWxsXCIsaSl9KS5mYWlsKGZ1bmN0aW9uKHQpe30pW1wiZmluYWxseVwiXShmdW5jdGlvbigpe3JldHVybiBpLnJlc29sdmUocil9KS5kb25lKCksaS52dH0saS5wcm90b3R5cGUuQW49ZnVuY3Rpb24odCl7dmFyIGU9bmV3IHY7ZS50cz1hLkZyYW1ld29yay50aW1lKCk7dmFyIGk9dC5ObigpO3JldHVybiBpLnhuKCkmJihlLnB1YklwPWkueG4oKSksaS5CbigpJiYoZS5wcml2SXA9aS5CbigpKSx0LkZuKCkmJihlLmhvc3RuYW1lPXQuRm4oKSksaS5fbigpJiYoZS5uZXRtYXNrPWkuX24oKSksaS5EbigpJiYoZS5uaWM9aS5EbigpKSxpLkhuKCkmJihlLm5pY05hbWU9aS5IbigpKSxpLkxuKCkmJihlLm1hYz1pLkxuKCkpLGV9LGkucHJvdG90eXBlLk1uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY24/dGhpcy5jbi51c2VyQWdlbnQ6bmF2aWdhdG9yLnVzZXJBZ2VudH0saS5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLmVuPW5ldyBBcnJheSx0aGlzLmluPW5ldyBBcnJheSx0aGlzLnJuPW5ldyBBcnJheX0saS5wcm90b3R5cGUuam49ZnVuY3Rpb24odCl7fSxpfSgpO3QuVW49dzt2YXIgVD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5Wbj1pc05hTih1LkhpdmVDb25maWcuRGVidWdMb2dzLlRyYWNrU25hcHNob3RMb2dzKT8wOnUuSGl2ZUNvbmZpZy5EZWJ1Z0xvZ3MuVHJhY2tTbmFwc2hvdExvZ3MsdGhpcy5Rbj10LHRoaXMubT1hLkZyYW1ld29yay5yZXNvbHZlKGEuRnJhbWV3b3JrLkZlLndlKS5sb2coKSx0aGlzLmNsaWVudD1hLkZyYW1ld29yay5yZXNvbHZlKGMuZ2kuQmUpLHRoaXMuUW4ubm4odGhpcyl9cmV0dXJuIHQucHJvdG90eXBlLmRuPWZ1bmN0aW9uKHQpe3ZvaWQgMD09PXQmJih0PSExKTt2YXIgZT10P2guS24uSm4ucW46aC5Lbi5Kbi5HbjtpZih0aGlzLnpuKXt2YXIgaT10aGlzLlduLShuZXcgRGF0ZSkuZ2V0VGltZSgpO2k+ZSYmKGEuRnJhbWV3b3JrLmNsZWFyVGltZW91dCh0aGlzLnpuKSx0aGlzLlduPW51bGwsdGhpcy4kbihlKSl9ZWxzZSB0aGlzLiRuKGUpfSx0LnByb3RvdHlwZS4kbj1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3RoaXMuem49YS5GcmFtZXdvcmsuc2V0VGltZW91dChmdW5jdGlvbigpe2UuWW4oKX0sdCksdGhpcy5Xbj0obmV3IERhdGUpLmdldFRpbWUoKSt0fSx0LnByb3RvdHlwZS5Zbj1mdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy56bj1udWxsLHRoaXMuV249bnVsbCx0aGlzLm0uZGVidWcoZStcIlRBS0lORyBBIFRSQUNLIFNOQVBTSE9UXCIpLFxuICB0aGlzLlFuLkNuKCkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gdC5mb3J3YXJkKGUpfSlbXCJmaW5hbGx5XCJdKGZ1bmN0aW9uKCl7cmV0dXJuIHQuUW4ucmVzZXQoKX0pfSx0LnByb3RvdHlwZS5mb3J3YXJkPWZ1bmN0aW9uKHQpe2lmKHRoaXMuY2xpZW50JiZ0aGlzLmNsaWVudC5YbigpKXt2YXIgaT1KU09OLnN0cmluZ2lmeSh0KTtzd2l0Y2godGhpcy5Wbil7Y2FzZSAwOmRlZmF1bHQ6dGhpcy5tLmRlYnVnKGUrXCJUUkFDSyBFVkVOVFwiKTticmVhaztjYXNlIDE6dGhpcy5tLmRlYnVnKGUrXCJUUkFDSyBFVkVOVDpcIitpKX12YXIgcj1uZXcgcC5abihTZXJ2aWNlcy50bywyLGkpO3RoaXMuY2xpZW50LlhuKCkuc2VuZChyKX19LHR9KCk7dC5lbz1UO3ZhciBTPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3RoaXMuY3JlYXRlZEF0PShuZXcgRGF0ZSkuZ2V0VGltZSgpLHRoaXMuZm49ITEsdGhpcy50aWNrZXQ9dCx0aGlzLm1hbmlmZXN0cz1uZXcgQXJyYXksdGhpcy55bj1uZXcgQXJyYXksdGhpcy5Rbj1lfXJldHVybiB0LnByb3RvdHlwZS5nbj1mdW5jdGlvbih0KXt0aGlzLm1hbmlmZXN0cy5wdXNoKHQpfSx0LnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXt2YXIgdD17fTt0LnR5cGU9aS54cix0LnRpY2tldD17fSx0LnRpY2tldC51cmw9dGhpcy50aWNrZXQudGlja2V0VXJsLHQudGlja2V0LnJlcVRzPXRoaXMudGlja2V0LmlvLHQudGlja2V0LnJlc3BUcz10aGlzLnRpY2tldC5ybyx0LnRpY2tldC51c2VyQWdlbnQ9dGhpcy5Rbi5NbigpLHQubWFuaWZlc3RzPVtdLHRoaXMubWFuaWZlc3RzLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIGk9e307aS51cmw9ZS51cmwsaS5yZXNwVHM9ZS5ybyxpLnJlc3BDb2RlPWUucmVzcENvZGUsdC5tYW5pZmVzdHMucHVzaChpKX0pO3ZhciBlPS0xLHI9LTEsbj0tMTtyZXR1cm4gdGhpcy55bi5mb3JFYWNoKGZ1bmN0aW9uKHQpe3Qubm8+MCYmKGU9PS0xJiYoZT10LnRzLHI9dC5ubyksbj10Lm5vKX0pLGUhPS0xJiYodC5wbGF5VHM9ZSksbiE9LTEmJih0LmJ1ZmZUaW1lPW4pLHIhPS0xJiYodC5pbml0QnVmZlRpbWU9ciksdH0sdH0oKTt0Lm9vPVM7dmFyIGI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxpKXt0aGlzLmV2ZW50SWQ9dCx0aGlzLnVybD1lLHRoaXMucm89KG5ldyBEYXRlKS5nZXRUaW1lKCksdGhpcy5yZXNwQ29kZT1pfXJldHVybiB0fSgpO3Quc289Yjt2YXIgRT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLGkscil7dGhpcy50cz0obmV3IERhdGUpLmdldFRpbWUoKSx0aGlzLnNlc3Npb25JZD10LHRoaXMuc2Vzc2lvbklkfHwodGhpcy5zZXNzaW9uSWQ9XCJudWxsXCIpLHRoaXMuZXZlbnQ9ZSx0aGlzLmFvPWksciYmKHRoaXMudHM9cil9cmV0dXJuIHQucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3ZhciB0PXt9O3JldHVybiB0LnR5cGU9dGhpcy5jbyt0aGlzLmV2ZW50LHQudHM9dGhpcy50cyx0aGlzLmFvJiYodC5wYXJhbWV0ZXJzPXRoaXMuYW8pLHR9LHR9KCk7dC5obz1FO3ZhciBJPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxyLG4sbyl7dmFyIHM9dC5jYWxsKHRoaXMsZSxyLG4sbyl8fHRoaXM7cmV0dXJuIHMuY289aS5fcixzfXJldHVybiBuKGUsdCksZX0oRSk7dC5wbz1JO3ZhciBSPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxyLG4sbyl7dmFyIHM9dC5jYWxsKHRoaXMsZSxyLG4sbyl8fHRoaXM7cmV0dXJuIHMuY289aS5EcixzfXJldHVybiBuKGUsdCksZX0oRSk7dC51bz1SO3ZhciBrPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsaSl7dGhpcy50cz0obmV3IERhdGUpLmdldFRpbWUoKSx0aGlzLmxyPXQsdGhpcy5sbz1lLHRoaXMubm89aX1yZXR1cm4gdH0oKTt0LmRvPWt9KHI9ZS5GfHwoZS5GPXt9KSl9LGZ1bmN0aW9uKHQsZSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaSgpe2lmKHRoaXMuZm8pcmV0dXJuIHRoaXMuZm87dmFyIHQ9d2luZG93JiZ3aW5kb3cud2luZG93P3dpbmRvdy53aW5kb3cudm86dm9pZCAwO2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiB0JiZ0LmxvZyYmdC5kZWJ1ZyYmdC5pbmZvJiZ0Lndhcm4mJnQuZXJyb3ImJih0aGlzLmZvPXQpLCF0aGlzLmZvKXt2YXIgZT0hKFwidW5kZWZpbmVkXCI9PXR5cGVvZiB3aW5kb3cuY29uc29sZSksaT1lP2NvbnNvbGUubG9nLmJpbmQoY29uc29sZSk6ZnVuY3Rpb24oKXt9O3RoaXMuZm89e2xvZzppLGRlYnVnOmUmJndpbmRvdy5jb25zb2xlLmRlYnVnP3dpbmRvdy5jb25zb2xlLmRlYnVnLmJpbmQoY29uc29sZSk6aSxpbmZvOmUmJndpbmRvdy5jb25zb2xlLmluZm8/d2luZG93LmNvbnNvbGUuaW5mby5iaW5kKGNvbnNvbGUpOmksd2FybjplJiZ3aW5kb3cuY29uc29sZS53YXJuP3dpbmRvdy5jb25zb2xlLndhcm4uYmluZChjb25zb2xlKTppLGVycm9yOmUmJndpbmRvdy5jb25zb2xlLmVycm9yP3dpbmRvdy5jb25zb2xlLmVycm9yLmJpbmQoY29uc29sZSk6aX19cmV0dXJuIHRoaXMuZm99ZS51PVwiW0hpdmVTZXJ2aWNlc10gXCI7dmFyIHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0fSgpO3IueW89MjUwLGUua2U9cjt2YXIgbj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLGkpe3RoaXMubXNnSWQ9ZSx0aGlzLnNlcnZpY2U9dCx0aGlzLm1zZz1pfXJldHVybiB0LnByb3RvdHlwZS5tbz1mdW5jdGlvbigpe3ZhciB0PW5ldyBVaW50OEFycmF5KFt0aGlzLnNlcnZpY2U+PjgsMjU1JnRoaXMuc2VydmljZV0pLGU9bmV3IFVpbnQ4QXJyYXkoW3RoaXMubXNnSWRdKSxpPVt0LGUsdGhpcy5tc2ddO3JldHVybiBuZXcgQmxvYihpLHt0eXBlOlwiYXBwbGljYXRpb24vb2N0ZXQtYmluYXJ5XCJ9KX0sdC53bz1mdW5jdGlvbihlKXt2YXIgaT0oU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLG5ldyBVaW50OEFycmF5KGUpKSxTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsbmV3IFVpbnQ4QXJyYXkoZS5zbGljZSgzKSkpKSxyPW5ldyBVaW50OEFycmF5KGUuc2xpY2UoMCwyKSksbj1uZXcgVWludDhBcnJheShlLnNsaWNlKDIsMykpLG89KHJbMF08PDgpK3JbMV07cmV0dXJuIG5ldyB0KG8sblswXSxpKX0sdH0oKTtlLlpuPW4sZS5tPWl9LGZ1bmN0aW9uKHQsZSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk7IWZ1bmN0aW9uKHQpe3ZhciBlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdH0oKTtlLkxvZ2dlclRpbWVzdGFtcD0hMCx0LkZyYW1ld29yaz1lO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdH0oKTtpLk1ldHJpY1NuYXBzaG90TG9ncz0wLGkuVHJhY2tTbmFwc2hvdExvZ3M9MCx0LkRlYnVnTG9ncz1pfShpPWUuSGl2ZUNvbmZpZ3x8KGUuSGl2ZUNvbmZpZz17fSkpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJihcInVuZGVmaW5lZFwiPT10eXBlb2Ygd2luZG93LkhpdmVDb25maWcmJih3aW5kb3cuSGl2ZUNvbmZpZz17fSksd2luZG93LkhpdmVDb25maWcuRnJhbWV3b3JrPWkuRnJhbWV3b3JrLHdpbmRvdy5IaXZlQ29uZmlnLkRlYnVnTG9ncz1pLkRlYnVnTG9ncyl9LGZ1bmN0aW9uKHQsZSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0fSgpO2kuVG89XCIxMjcuMC4wLjFcIixpLmJyPTg5OTksaS5Tcj04OTk4LGkuVHI9ODg5OSxpLm1yPTg4OTgsaS5Tbz1cIi8vezB9OnsxfS8/Y2FsbGJhY2s9ezJ9ezN9aGl2ZVBsdWdpbklkPXs0fVwiLGkuYm89XCIvL3swfTp7MX0vP2NhbGxiYWNrPXsyfVwiLGkuRXI9ITAsaS5Fbz0vKChodHRwfGh0dHBzKTpcXC9cXC8oLiopOihbMC05XSopXFwvKFswLTlhLXotXSopLmlzbVxcLykoLiopLyxpLklvPVwiMjAxMy4xLjFcIixlLndyPWl9LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjt2YXIgcjshZnVuY3Rpb24odCl7dC5Sbz0hMDt2YXIgZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHR9KCk7ZS5rbz1cIndzczovL2JlZS5oaXZlc3RyZWFtaW5nLmNvbTo0NDMvdjEvaGl2ZWpzXCIsZS5Dbz1cIndzczovL2JlZS10ZXN0LmhpdmVzdHJlYW1pbmcuY29tOjQ0My92MS9oaXZlanNcIixlLk9vPXtpY2VTZXJ2ZXJzOlt7dXJsOlwic3R1bjpzdHVuLmhpdmVzdHJlYW1pbmcuY29tOjM2NzhcIn1dfSxlLlBvPTNlNCxlLkduPTNlNSxlLnFuPThlNCxlLkFvPTNlNCxlLk5vPTEwMCxlLnhvPTFlNCx0LkpuPWV9KHI9ZS5Lbnx8KGUuS249e30pKX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO3ZhciByLG49aSg0KSxvPW4udmUscz1pKDEpLGE9aSgyKSxjPWkoOSksaD1pKDUpLHA9aSgyNyk7IWZ1bmN0aW9uKHQpe3RbdC5JRExFPTBdPVwiSURMRVwiLHRbdC5Cbz0xXT1cIlBMQVlcIn0ocj1lLkZvfHwoZS5Gbz17fSkpO3ZhciB1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsaSxyKXt0aGlzLnRpY2tldD10LHRoaXMuX289ZSx0aGlzLmFwcD1pLHRoaXMuaWRlbnRpdHk9cix0aGlzLkRvPWEuRnJhbWV3b3JrLnJlc29sdmUoaC5naS5saSksdGhpcy5Ibz1hLkZyYW1ld29yay5yZXNvbHZlKGguZ2kuc2kpLHRoaXMuUW49YS5GcmFtZXdvcmsucmVzb2x2ZShoLmdpLmRpKSx0aGlzLkxvPW5ldyBjLkYuZW8odGhpcy5Rbil9cmV0dXJuIHQucHJvdG90eXBlLmFuPWZ1bmN0aW9uKHQsZSxpKXt0aGlzLmFwcD1uZXcgbCh0LGUpLHRoaXMuRG8uYW4odGhpcy5hcHApLHRoaXMuUW4uYW4odGhpcy5hcHAsaSl9LHQucHJvdG90eXBlLkNpPWZ1bmN0aW9uKHQpe3RoaXMuSG8uQ2kodCl9LHR9KCk7ZS5Nbz11O3ZhciBsPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3RoaXMuYXBwPXQsdGhpcy52ZXJzaW9uPWV9cmV0dXJuIHR9KCk7ZS5qbz1sO3ZhciBkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3RoaXMuVW89bnVsbCx0aGlzLlZvPW51bGwsdGhpcy5Rbz1uZXcgbyx0aGlzLm09YS5GcmFtZXdvcmsucmVzb2x2ZShhLkZyYW1ld29yay5GZS53ZSkubG9nKCksdGhpcy5tLmRlYnVnKFwiSU5JVCBSRVBPUlRJTkdcIiksdGhpcy5fbz1hLkZyYW1ld29yay5yZXNvbHZlKGguZ2kuQmUpLHRoaXMucW89YS5GcmFtZXdvcmsucmVzb2x2ZShoLmdpLkNlKSx0aGlzLkpvPWEuRnJhbWV3b3JrLnJlc29sdmUoaC5naS5haSl9cmV0dXJuIHQucHJvdG90eXBlLmluaXRTZXNzaW9uPWZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcyxyPXMuZGVmZXIoKSxuPXRoaXMucW8uS28oKSxvPXRoaXMuSm8uR28odCk7cmV0dXJuIG51bGwhPW8/bi50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBpLnpvKHQsbyxyLGUpfSkuZmFpbChyLnJlamVjdCk6ci5yZWplY3QoXCJUaWNrZXQgVVJMIG5vdCB2YWxpZFwiKSxyLnZ0fSx0LnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbigpe3RoaXMuX28uY2xvc2UoKX0sdC5wcm90b3R5cGUuem89ZnVuY3Rpb24odCxlLGkscil7dmFyIG49dGhpczt0aGlzLlVvPXQuV28oKSx0aGlzLlZvPXQuJG8oKTt2YXIgbz10aGlzLl9vLmluaXQodGhpcy5VbyxlKSxzPXRoaXMuSm8ucmVzb2x2ZShvLllvLGUscik7by52dC50aGVuKGZ1bmN0aW9uKGUpe3MudGhlbihmdW5jdGlvbihlKXt2YXIgcj1lLnNlc3Npb25JZDtpZihuLlFvLmhhcyhyKSl7dmFyIG89bi5Rby5nZXQocik7bi5tLndhcm4oXCJTRVNTSU9OIEFMUkVBRFkgRVhJU1RJTkcgXCIrby5Eby50aWNrZXQpfWVsc2V7dmFyIHM9bmV3IGwocC5IaXZlLlhvKCkscC5IaXZlLmdldFZlcnNpb24oKSksYT1uZXcgdShlLG4uX28scyx0KTthLkRvLmluaXQobi5WbyxlLHMsciksYS5Rbi5pbml0KG4uVm8scyksYS5Rbi51bihlKSxuLlFvLnNldChyLGEpLG4ubS5kZWJ1ZyhcIlNFU1NJT04gU0VUIFwiLHIpLGkucmVzb2x2ZShhKX19KS5mYWlsKGZ1bmN0aW9uKHQpe3JldHVybiBpLnJlamVjdCh0P3Q6XCJFcnJvciByZXNvbHZpbmcgdGhlIHRpY2tldFwiKX0pLGUub25lcnJvcihmdW5jdGlvbih0KXtpLnJlamVjdChcIkVycm9yIGVzdGFibGlzaGluZyBjb25uZWN0aW9uIHRvIEhpdmUgU2VydmljZXNcIil9KX0pLmZhaWwoZnVuY3Rpb24odCl7cmV0dXJuIGkucmVqZWN0KHQpfSksdGhpcy5fby5jb25uZWN0KCl9LHQucHJvdG90eXBlLlpvPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuZXMoKT09PWUuZXMoKSYmdC5FbigpPT09ZS5FbigpJiZ0LmJuKCk9PT1lLmJuKCl9LHR9KCk7ZS5ycz1kfSxmdW5jdGlvbih0LGUsaSl7dmFyIHIscjshZnVuY3Rpb24oZSl7dC50PWUoKX0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24gdChlLGksbil7ZnVuY3Rpb24gbyhhLGMpe2lmKCFpW2FdKXtpZighZVthXSl7dmFyIGg9XCJmdW5jdGlvblwiPT10eXBlb2YgciYmcjtpZighYyYmaClyZXR1cm4gcihhLCEwKTtpZihzKXJldHVybiBzKGEsITApO3ZhciBwPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrYStcIidcIik7dGhyb3cgcC5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLHB9dmFyIHU9aVthXT17dDp7fX07ZVthXVswXS5jYWxsKHUudCxmdW5jdGlvbih0KXt2YXIgaT1lW2FdWzFdW3RdO3JldHVybiBvKGk/aTp0KX0sdSx1LnQsdCxlLGksbil9cmV0dXJuIGlbYV0udH1mb3IodmFyIHM9XCJmdW5jdGlvblwiPT10eXBlb2YgciYmcixhPTA7YTxuLmxlbmd0aDthKyspbyhuW2FdKTtyZXR1cm4gb30oezE6W2Z1bmN0aW9uKHQsZSxpKXt2YXIgcj10KFwiLi9rZXJuZWxcIik7aS5JZT1yLkllO3ZhciBuPXQoXCIuL3R5cGVfYmluZGluZ1wiKTtpLm5zPW4ubnM7dmFyIG89dChcIi4vdHlwZV9iaW5kaW5nX3Njb3BlXCIpO2kuc3M9by5zc30se1wiLi9rZXJuZWxcIjoyLFwiLi90eXBlX2JpbmRpbmdcIjo0LFwiLi90eXBlX2JpbmRpbmdfc2NvcGVcIjo1fV0sMjpbZnVuY3Rpb24odCxlLGkpe3ZhciByPXQoXCIuL3R5cGVfYmluZGluZ19zY29wZVwiKSxuPXQoXCIuL2xvb2t1cFwiKSxvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3RoaXMuYXM9bmV3IG4uY3N9cmV0dXJuIHQucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24odCl7dGhpcy5hcy5hZGQodC5ocyx0KX0sdC5wcm90b3R5cGUucHM9ZnVuY3Rpb24odCl7dHJ5e3RoaXMuYXMucmVtb3ZlKHQpfWNhdGNoKGUpe3Rocm93IG5ldyBFcnJvcihcIkNvdWxkIG5vdCByZXNvbHZlIHNlcnZpY2UgXCIrdCl9fSx0LnByb3RvdHlwZS5FZT1mdW5jdGlvbigpe3RoaXMuYXM9bmV3IG4uY3N9LHQucHJvdG90eXBlLnJlc29sdmU9ZnVuY3Rpb24odCl7dmFyIGU7aWYoIXRoaXMuYXMudXModCkpcmV0dXJuIG51bGw7ZT10aGlzLmFzLmdldCh0KTt2YXIgaT1lWzBdO2lmKGkuc2NvcGU9PT1yLnNzLmxzJiZudWxsIT09aS5kcylyZXR1cm4gaS5kczt2YXIgbj10aGlzLmZzKGkuZ3MpO3JldHVybiBpLmRzPW4sbn0sdC5wcm90b3R5cGUudnM9ZnVuY3Rpb24odCl7dmFyIGUsaSxyLG4sbyxzO3JldHVybiBvPS8oKFxcL1xcLy4qJCl8KFxcL1xcKltcXHNcXFNdKj9cXCpcXC8pKS9nbSxzPS8oW15cXHMsXSspL2csZT10LnRvU3RyaW5nKCkucmVwbGFjZShvLFwiXCIpLGk9ZS5pbmRleE9mKFwiKFwiKSsxLHI9ZS5pbmRleE9mKFwiKVwiKSxuPVwiZnVuY3Rpb25cIj09dHlwZW9mIE1hcCYmLTEhPT1lLmluZGV4T2YoXCJjbGFzc1wiKSYmLTE9PT1lLmluZGV4T2YoXCJjb25zdHJ1Y3RvclwiKT9udWxsOmUuc2xpY2UoaSxyKS5tYXRjaChzKSxudWxsPT09biYmKG49W10pLG59LHQucHJvdG90eXBlLmZzPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMudnModCk7aWYoMD09PWUubGVuZ3RoKXJldHVybiBuZXcgdDtmb3IodmFyIGk9W10scj1udWxsLG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIG89ZVtuXTtyPXRoaXMucmVzb2x2ZShvKSxpLnB1c2gocil9cmV0dXJuIHRoaXMueXModCxpKX0sdC5wcm90b3R5cGUueXM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3KEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmFwcGx5KHQsW251bGxdLmNvbmNhdChlKSkpfSx0fSgpO2kuSWU9b30se1wiLi9sb29rdXBcIjozLFwiLi90eXBlX2JpbmRpbmdfc2NvcGVcIjo1fV0sMzpbZnVuY3Rpb24odCxlLGkpe3ZhciByPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3RoaXMua2V5PXQsdGhpcy52YWx1ZT1uZXcgQXJyYXksdGhpcy52YWx1ZS5wdXNoKGUpfXJldHVybiB0fSgpLG49ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dGhpcy5tcz1uZXcgQXJyYXl9cmV0dXJuIHQucHJvdG90eXBlLndzPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0tMSxpPTA7aTx0aGlzLm1zLmxlbmd0aDtpKyspe3ZhciByPXRoaXMubXNbaV07ci5rZXk9PT10JiYoZT1pKX1yZXR1cm4gZX0sdC5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKHQsZSl7aWYobnVsbD09PXR8fHZvaWQgMD09PXQpdGhyb3cgbmV3IEVycm9yKFwiQXJndW1lbnQgTnVsbFwiKTtpZihudWxsPT09ZXx8dm9pZCAwPT09ZSl0aHJvdyBuZXcgRXJyb3IoXCJBcmd1bWVudCBOdWxsXCIpO3ZhciBpPXRoaXMud3ModCk7aWYoLTEhPT1pKXt2YXIgbj10aGlzLm1zW2ldO24ua2V5PT09dCYmbi52YWx1ZS5wdXNoKGUpfWVsc2UgdGhpcy5tcy5wdXNoKG5ldyByKHQsZSkpfSx0LnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCl7aWYobnVsbD09PXR8fHZvaWQgMD09PXQpdGhyb3cgbmV3IEVycm9yKFwiQXJndW1lbnQgTnVsbFwiKTt2YXIgZT10aGlzLndzKHQpO2lmKC0xPT09ZSl0aHJvdyBuZXcgRXJyb3IoXCJLZXkgTm90IEZvdW5kXCIpO3ZhciBpPXRoaXMubXNbZV07cmV0dXJuIGkua2V5PT09dD9pLnZhbHVlOnZvaWQgMH0sdC5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKHQpe2lmKG51bGw9PT10fHx2b2lkIDA9PT10KXRocm93IG5ldyBFcnJvcihcIkFyZ3VtZW50IE51bGxcIik7dmFyIGU9dGhpcy53cyh0KTtpZigtMT09PWUpdGhyb3cgbmV3IEVycm9yKFwiS2V5IE5vdCBGb3VuZFwiKTt0aGlzLm1zLnNwbGljZShlLDEpfSx0LnByb3RvdHlwZS51cz1mdW5jdGlvbih0KXtpZihudWxsPT09dHx8dm9pZCAwPT09dCl0aHJvdyBuZXcgRXJyb3IoXCJBcmd1bWVudCBOdWxsXCIpO3ZhciBlPXRoaXMud3ModCk7cmV0dXJuLTEhPT1lfSx0fSgpO2kuY3M9bn0se31dLDQ6W2Z1bmN0aW9uKHQsZSxpKXt2YXIgcj10KFwiLi90eXBlX2JpbmRpbmdfc2NvcGVcIiksbj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLGkpe2lmKHRoaXMuaHM9dCx0aGlzLmdzPWUsdGhpcy5kcz1udWxsLFwidW5kZWZpbmVkXCI9PXR5cGVvZiBpKXRoaXMuc2NvcGU9ci5zcy5UcztlbHNle2lmKCFyLnNzW2ldKXt2YXIgbj1cIkludmFsaWQgc2NvcGUgdHlwZSBcIitpO3Rocm93IG5ldyBFcnJvcihuKX10aGlzLnNjb3BlPWl9fXJldHVybiB0fSgpO2kubnM9bn0se1wiLi90eXBlX2JpbmRpbmdfc2NvcGVcIjo1fV0sNTpbZnVuY3Rpb24odCxlLGkpe3ZhciByOyFmdW5jdGlvbih0KXt0W3QuVHM9MF09XCJUcmFuc2llbnRcIix0W3QubHM9MV09XCJTaW5nbGV0b25cIn0ocnx8KHI9e30pKSxpLnNzPXJ9LHt9XX0se30sWzFdKSgxKX0pfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgVGhyaWZ0PXtTczpcIjAuOS4yXCIsYnM6e0VzOjAsSXM6MSxCT09MOjIsQllURTozLFJzOjMsa3M6NCxDczo2LE9zOjgsUHM6MTAsQXM6MTEsTnM6MTEseHM6MTIsQnM6MTMsRnM6MTQsX3M6MTUsRHM6MTYsSHM6MTd9LExzOntNczoxLGpzOjIsVXM6MyxWczo0fSxRczpmdW5jdGlvbih0KXt2YXIgZT0wO2Zvcih2YXIgaSBpbiB0KXQuaGFzT3duUHJvcGVydHkoaSkmJmUrKztyZXR1cm4gZX0scXM6ZnVuY3Rpb24odCxlLGkpe2Z1bmN0aW9uIHIoKXt9ci5wcm90b3R5cGU9ZS5wcm90b3R5cGUsdC5wcm90b3R5cGU9bmV3IHIsdC5wcm90b3R5cGUubmFtZT1pfHxcIlwifX07VGhyaWZ0LkpzPWZ1bmN0aW9uKHQpe3RoaXMubWVzc2FnZT10fSxUaHJpZnQucXMoVGhyaWZ0LkpzLEVycm9yLFwiVEV4Y2VwdGlvblwiKSxUaHJpZnQuSnMucHJvdG90eXBlLktzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWVzc2FnZX0sVGhyaWZ0LkdzPXt6czowLFdzOjEsJHM6MixZczozLFhzOjQsWnM6NSx0YTo2LGVhOjcsaWE6OCxyYTo5LG5hOjEwfSxUaHJpZnQub2E9ZnVuY3Rpb24odCxlKXt0aGlzLm1lc3NhZ2U9dCx0aGlzLmNvZGU9XCJudW1iZXJcIj09dHlwZW9mIGU/ZTowfSxUaHJpZnQucXMoVGhyaWZ0Lm9hLFRocmlmdC5KcyxcIlRBcHBsaWNhdGlvbkV4Y2VwdGlvblwiKSxUaHJpZnQub2EucHJvdG90eXBlLnJlYWQ9ZnVuY3Rpb24odCl7Zm9yKDs7KXt2YXIgZT10LnNhKCk7aWYoZS5hYT09VGhyaWZ0LmJzLkVzKWJyZWFrO3ZhciBpPWUuY2E7c3dpdGNoKGkpe2Nhc2UgMTplLmFhPT1UaHJpZnQuYnMuQXM/KGU9dC5oYSgpLHRoaXMubWVzc2FnZT1lLnZhbHVlKTplPXQucGEoZS5hYSk7YnJlYWs7Y2FzZSAyOmUuYWE9PVRocmlmdC5icy5Pcz8oZT10LnVhKCksdGhpcy5jb2RlPWUudmFsdWUpOmU9dC5wYShlLmFhKTticmVhaztkZWZhdWx0OmU9dC5wYShlLmFhKX10LmxhKCl9dC5kYSgpfSxUaHJpZnQub2EucHJvdG90eXBlLndyaXRlPWZ1bmN0aW9uKHQpe3QuZmEoXCJUQXBwbGljYXRpb25FeGNlcHRpb25cIiksdGhpcy5tZXNzYWdlJiYodC5nYShcIm1lc3NhZ2VcIixUaHJpZnQuYnMuQXMsMSksdC52YSh0aGlzLktzKCkpLHQueWEoKSksdGhpcy5jb2RlJiYodC5nYShcInR5cGVcIixUaHJpZnQuYnMuT3MsMiksdC5tYSh0aGlzLmNvZGUpLHQueWEoKSksdC53YSgpLHQuVGEoKX0sVGhyaWZ0Lm9hLnByb3RvdHlwZS5TYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvZGV9LFRocmlmdC5iYT1UaHJpZnQuRWE9ZnVuY3Rpb24odCxlKXt0aGlzLnVybD10LHRoaXMuSWE9MCx0aGlzLlJhPTAsdGhpcy5rYT1lJiZlLmthLHRoaXMuQ2E9XCJcIix0aGlzLk9hPVwiXCJ9LFRocmlmdC5FYS5wcm90b3R5cGU9e1BhOmZ1bmN0aW9uKCl7dHJ5e3JldHVybiBuZXcgWE1MSHR0cFJlcXVlc3R9Y2F0Y2godCl7fXRyeXtyZXR1cm4gbmV3IEFjdGl2ZVhPYmplY3QoXCJNc3htbDIuWE1MSFRUUFwiKX1jYXRjaChlKXt9dHJ5e3JldHVybiBuZXcgQWN0aXZlWE9iamVjdChcIk1pY3Jvc29mdC5YTUxIVFRQXCIpfWNhdGNoKGkpe310aHJvd1wiWW91ciBicm93c2VyIGRvZXNuJ3Qgc3VwcG9ydCBYSFIuXCJ9LGZsdXNoOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcztpZih0JiYhZXx8dm9pZCAwPT09dGhpcy51cmx8fFwiXCI9PT10aGlzLnVybClyZXR1cm4gdGhpcy5DYTt2YXIgcj10aGlzLlBhKCk7aWYoci5vdmVycmlkZU1pbWVUeXBlJiZyLm92ZXJyaWRlTWltZVR5cGUoXCJhcHBsaWNhdGlvbi9qc29uXCIpLGUmJihyLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe3ZhciB0PWU7cmV0dXJuIGZ1bmN0aW9uKCl7ND09dGhpcy5yZWFkeVN0YXRlJiYyMDA9PXRoaXMuc3RhdHVzJiYoaS5BYSh0aGlzLnJlc3BvbnNlVGV4dCksdCgpKX19KCkpLHIub3BlbihcIlBPU1RcIix0aGlzLnVybCwhIXQpLHIuc2VuZCh0aGlzLkNhKSwhdHx8IWUpe2lmKDQhPXIucmVhZHlTdGF0ZSl0aHJvd1wiZW5jb3VudGVyZWQgYW4gdW5rbm93biBhamF4IHJlYWR5IHN0YXRlOiBcIityLnJlYWR5U3RhdGU7aWYoMjAwIT1yLnN0YXR1cyl0aHJvd1wiZW5jb3VudGVyZWQgYSB1bmtub3duIHJlcXVlc3Qgc3RhdHVzOiBcIityLnN0YXR1czt0aGlzLk9hPXIucmVzcG9uc2VUZXh0LHRoaXMuTmE9dGhpcy5PYS5sZW5ndGgsdGhpcy5JYT10aGlzLk9hLmxlbmd0aCx0aGlzLlJhPTB9fSx4YTpmdW5jdGlvbih0LGUsaSxyKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgalF1ZXJ5fHxcInVuZGVmaW5lZFwiPT10eXBlb2YgalF1ZXJ5LkRlZmVycmVkKXRocm93XCJUaHJpZnQuanMgcmVxdWlyZXMgalF1ZXJ5IDEuNSsgdG8gdXNlIGFzeW5jaHJvbm91cyByZXF1ZXN0c1wiO3ZhciBuPXRoaXMsbz1qUXVlcnkuYWpheCh7dXJsOnRoaXMudXJsLGRhdGE6ZSx0eXBlOlwiUE9TVFwiLGRzOiExLGNvbnRlbnRUeXBlOlwiYXBwbGljYXRpb24vanNvblwiLEJhOlwidGV4dCB0aHJpZnRcIixGYTp7X2E6ZnVuY3Rpb24oZSl7bi5BYShlKTt2YXIgaT1yLmNhbGwodCk7cmV0dXJuIGl9fSxjb250ZXh0OnQsc3VjY2VzczpqUXVlcnkubWFrZUFycmF5KGkpLnBvcCgpfSk7cmV0dXJuIG99LEFhOmZ1bmN0aW9uKHQpe3RoaXMuT2E9dCx0aGlzLk5hPXRoaXMuT2EubGVuZ3RoLHRoaXMuSWE9dGhpcy5PYS5sZW5ndGgsdGhpcy5SYT0wfSxpc09wZW46ZnVuY3Rpb24oKXtyZXR1cm4hMH0sb3BlbjpmdW5jdGlvbigpe30sY2xvc2U6ZnVuY3Rpb24oKXt9LHJlYWQ6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5JYS10aGlzLlJhO2lmKDA9PT1lKXJldHVyblwiXCI7dmFyIGk9dDtlPHQmJihpPWUpO3ZhciByPXRoaXMucmVhZF9idWYuc3Vic3RyKHRoaXMuUmEsaSk7cmV0dXJuIHRoaXMuUmErPWkscn0sRGE6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5PYX0sd3JpdGU6ZnVuY3Rpb24odCl7dGhpcy5DYT10fSxIYTpmdW5jdGlvbigpe3JldHVybiB0aGlzLkNhfX0sVGhyaWZ0LkxhPWZ1bmN0aW9uKHQpe3RoaXMuTWEodCl9LFRocmlmdC5MYS5wcm90b3R5cGU9e01hOmZ1bmN0aW9uKHQpe3RoaXMudXJsPXQsdGhpcy5qYT1udWxsLHRoaXMuY2FsbGJhY2tzPVtdLHRoaXMuVWE9W10sdGhpcy5DYT1cIlwiLHRoaXMuT2E9XCJcIix0aGlzLlZhPTAsdGhpcy5RYT0wfSxmbHVzaDpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXM7dGhpcy5pc09wZW4oKT8odGhpcy5qYS5zZW5kKHRoaXMuQ2EpLHRoaXMuY2FsbGJhY2tzLnB1c2goZnVuY3Rpb24oKXt2YXIgdD1lO3JldHVybiBmdW5jdGlvbihlKXtpLkFhKGUpLHQoKX19KCkpKTp0aGlzLlVhLnB1c2goe3FhOnRoaXMuQ2EsSmE6ZX0pfSxLYTpmdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy5VYS5sZW5ndGg+MCYmKHRoaXMuVWEuZm9yRWFjaChmdW5jdGlvbihlKXt0aGlzLmphLnNlbmQoZS5xYSksdGhpcy5jYWxsYmFja3MucHVzaChmdW5jdGlvbigpe3ZhciBpPWUuSmE7cmV0dXJuIGZ1bmN0aW9uKGUpe3QuQWEoZSksaSgpfX0oKSl9KSx0aGlzLlVhPVtdKX0sR2E6ZnVuY3Rpb24odCl7dGhpcy5NYSh0aGlzLnVybCl9LHphOmZ1bmN0aW9uKHQpe3RoaXMuY2FsbGJhY2tzLmxlbmd0aCYmdGhpcy5jYWxsYmFja3Muc2hpZnQoKSh0LmRhdGEpfSxXYTpmdW5jdGlvbih0KXtjb25zb2xlLmxvZyhcIlRocmlmdCBXZWJTb2NrZXQgRXJyb3I6IFwiK3QudG9TdHJpbmcoKSksdGhpcy5qYS5jbG9zZSgpfSxBYTpmdW5jdGlvbih0KXt0aGlzLk9hPXQsdGhpcy5OYT10aGlzLk9hLmxlbmd0aCx0aGlzLklhPXRoaXMuT2EubGVuZ3RoLHRoaXMuUmE9MH0saXNPcGVuOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuamEmJnRoaXMuamEucmVhZHlTdGF0ZT09dGhpcy5qYS5PUEVOfSxvcGVuOmZ1bmN0aW9uKCl7dGhpcy5qYSYmdGhpcy5qYS5yZWFkeVN0YXRlIT10aGlzLmphLkNMT1NFRHx8KHRoaXMuamE9bmV3IFdlYlNvY2tldCh0aGlzLnVybCksdGhpcy5qYS5vbm9wZW49dGhpcy5LYS5iaW5kKHRoaXMpLHRoaXMuamEub25tZXNzYWdlPXRoaXMuemEuYmluZCh0aGlzKSx0aGlzLmphLm9uZXJyb3I9dGhpcy5XYS5iaW5kKHRoaXMpLHRoaXMuamEub25jbG9zZT10aGlzLkdhLmJpbmQodGhpcykpfSxjbG9zZTpmdW5jdGlvbigpe3RoaXMuamEuY2xvc2UoKX0scmVhZDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLklhLXRoaXMuUmE7aWYoMD09PWUpcmV0dXJuXCJcIjt2YXIgaT10O2U8dCYmKGk9ZSk7dmFyIHI9dGhpcy5yZWFkX2J1Zi5zdWJzdHIodGhpcy5SYSxpKTtyZXR1cm4gdGhpcy5SYSs9aSxyfSxEYTpmdW5jdGlvbigpe3JldHVybiB0aGlzLk9hfSx3cml0ZTpmdW5jdGlvbih0KXt0aGlzLkNhPXR9LEhhOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuQ2F9fSxUaHJpZnQuJGE9VGhyaWZ0LllhPWZ1bmN0aW9uKHQpe3RoaXMuWGE9dH0sVGhyaWZ0LllhLmJzPXt9LFRocmlmdC5ZYS5ic1tUaHJpZnQuYnMuQk9PTF09J1widGZcIicsVGhyaWZ0LllhLmJzW1RocmlmdC5icy5CWVRFXT0nXCJpOFwiJyxUaHJpZnQuWWEuYnNbVGhyaWZ0LmJzLkNzXT0nXCJpMTZcIicsVGhyaWZ0LllhLmJzW1RocmlmdC5icy5Pc109J1wiaTMyXCInLFRocmlmdC5ZYS5ic1tUaHJpZnQuYnMuUHNdPSdcImk2NFwiJyxUaHJpZnQuWWEuYnNbVGhyaWZ0LmJzLmtzXT0nXCJkYmxcIicsVGhyaWZ0LllhLmJzW1RocmlmdC5icy54c109J1wicmVjXCInLFRocmlmdC5ZYS5ic1tUaHJpZnQuYnMuQXNdPSdcInN0clwiJyxUaHJpZnQuWWEuYnNbVGhyaWZ0LmJzLkJzXT0nXCJtYXBcIicsVGhyaWZ0LllhLmJzW1RocmlmdC5icy5fc109J1wibHN0XCInLFRocmlmdC5ZYS5ic1tUaHJpZnQuYnMuRnNdPSdcInNldFwiJyxUaHJpZnQuWWEuWmE9e30sVGhyaWZ0LllhLlphLnRjPVRocmlmdC5icy5CT09MLFRocmlmdC5ZYS5aYS5lYz1UaHJpZnQuYnMuQllURSxUaHJpZnQuWWEuWmEuaWM9VGhyaWZ0LmJzLkNzLFRocmlmdC5ZYS5aYS5yYz1UaHJpZnQuYnMuT3MsVGhyaWZ0LllhLlphLm5jPVRocmlmdC5icy5QcyxUaHJpZnQuWWEuWmEub2M9VGhyaWZ0LmJzLmtzLFRocmlmdC5ZYS5aYS5zYz1UaHJpZnQuYnMueHMsVGhyaWZ0LllhLlphLmFjPVRocmlmdC5icy5BcyxUaHJpZnQuWWEuWmEubWFwPVRocmlmdC5icy5CcyxUaHJpZnQuWWEuWmEuY2M9VGhyaWZ0LmJzLl9zLFRocmlmdC5ZYS5aYS5zZXQ9VGhyaWZ0LmJzLkZzLFRocmlmdC5ZYS5Tcz0xLFRocmlmdC5ZYS5wcm90b3R5cGU9e2hjOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuWGF9LHBjOmZ1bmN0aW9uKHQsZSxpKXt0aGlzLnVjPVtdLHRoaXMubGM9W10sdGhpcy51Yy5wdXNoKFtUaHJpZnQuWWEuU3MsJ1wiJyt0KydcIicsZSxpXSl9LGRjOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy51Yy5wb3AoKTt0aGlzLmZjPXRoaXMudWMucG9wKCksdGhpcy5mYy5wdXNoKHQpLHRoaXMuZ2M9XCJbXCIrdGhpcy5mYy5qb2luKFwiLFwiKStcIl1cIix0aGlzLlhhLndyaXRlKHRoaXMuZ2MpfSxmYTpmdW5jdGlvbih0KXt0aGlzLmxjLnB1c2godGhpcy51Yy5sZW5ndGgpLHRoaXMudWMucHVzaCh7fSl9LFRhOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5sYy5wb3AoKSxlPXRoaXMudWNbdF0saT1cIntcIixyPSEwO2Zvcih2YXIgbiBpbiBlKXI/cj0hMTppKz1cIixcIixpKz1uK1wiOlwiK2Vbbl07aSs9XCJ9XCIsdGhpcy51Y1t0XT1pfSxnYTpmdW5jdGlvbih0LGUsaSl7dGhpcy5sYy5wdXNoKHRoaXMudWMubGVuZ3RoKSx0aGlzLnVjLnB1c2goe3ZjOidcIicraSsnXCInLHljOlRocmlmdC5ZYS5ic1tlXX0pfSx5YTpmdW5jdGlvbigpe3ZhciB0PXRoaXMudWMucG9wKCksZT10aGlzLnVjLnBvcCgpO3RoaXMudWNbdGhpcy51Yy5sZW5ndGgtMV1bZS52Y109XCJ7XCIrZS55YytcIjpcIit0K1wifVwiLHRoaXMubGMucG9wKCl9LHdhOmZ1bmN0aW9uKCl7fSxtYzpmdW5jdGlvbih0LGUsaSl7dGhpcy5sYy5wdXNoKHRoaXMudWMubGVuZ3RoKSx0aGlzLnVjLnB1c2goW1RocmlmdC5ZYS5ic1t0XSxUaHJpZnQuWWEuYnNbZV0sMF0pfSx3YzpmdW5jdGlvbigpe3ZhciB0PXRoaXMubGMucG9wKCk7aWYodCE9dGhpcy51Yy5sZW5ndGgpeyh0aGlzLnVjLmxlbmd0aC10LTEpJTIhPT0wJiZ0aGlzLnVjLnB1c2goXCJcIik7dmFyIGU9KHRoaXMudWMubGVuZ3RoLXQtMSkvMjt0aGlzLnVjW3RdW3RoaXMudWNbdF0ubGVuZ3RoLTFdPWU7Zm9yKHZhciBpPVwifVwiLHI9ITA7dGhpcy51Yy5sZW5ndGg+dCsxOyl7dmFyIG49dGhpcy51Yy5wb3AoKSxvPXRoaXMudWMucG9wKCk7cj9yPSExOmk9XCIsXCIraSxpc05hTihvKXx8KG89J1wiJytvKydcIicpLGk9bytcIjpcIituK2l9aT1cIntcIitpLHRoaXMudWNbdF0ucHVzaChpKSx0aGlzLnVjW3RdPVwiW1wiK3RoaXMudWNbdF0uam9pbihcIixcIikrXCJdXCJ9fSxUYzpmdW5jdGlvbih0LGUpe3RoaXMubGMucHVzaCh0aGlzLnVjLmxlbmd0aCksdGhpcy51Yy5wdXNoKFtUaHJpZnQuWWEuYnNbdF0sZV0pfSxTYzpmdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLmxjLnBvcCgpO3RoaXMudWMubGVuZ3RoPnQrMTspe3ZhciBlPXRoaXMudWNbdCsxXTt0aGlzLnVjLnNwbGljZSh0KzEsMSksdGhpcy51Y1t0XS5wdXNoKGUpfXRoaXMudWNbdF09XCJbXCIrdGhpcy51Y1t0XS5qb2luKFwiLFwiKStcIl1cIn0sYmM6ZnVuY3Rpb24odCxlKXt0aGlzLmxjLnB1c2godGhpcy51Yy5sZW5ndGgpLHRoaXMudWMucHVzaChbVGhyaWZ0LllhLmJzW3RdLGVdKX0sRWM6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5sYy5wb3AoKTt0aGlzLnVjLmxlbmd0aD50KzE7KXt2YXIgZT10aGlzLnVjW3QrMV07dGhpcy51Yy5zcGxpY2UodCsxLDEpLHRoaXMudWNbdF0ucHVzaChlKX10aGlzLnVjW3RdPVwiW1wiK3RoaXMudWNbdF0uam9pbihcIixcIikrXCJdXCJ9LEljOmZ1bmN0aW9uKHQpe3RoaXMudWMucHVzaCh0PzE6MCl9LFJjOmZ1bmN0aW9uKHQpe3RoaXMudWMucHVzaCh0KX0sa2M6ZnVuY3Rpb24odCl7dGhpcy51Yy5wdXNoKHQpfSxtYTpmdW5jdGlvbih0KXt0aGlzLnVjLnB1c2godCl9LENjOmZ1bmN0aW9uKHQpe3RoaXMudWMucHVzaCh0KX0sT2M6ZnVuY3Rpb24odCl7dGhpcy51Yy5wdXNoKHQpfSx2YTpmdW5jdGlvbih0KXtpZihudWxsPT09dCl0aGlzLnVjLnB1c2gobnVsbCk7ZWxzZXtmb3IodmFyIGU9XCJcIixpPTA7aTx0Lmxlbmd0aDtpKyspe3ZhciByPXQuY2hhckF0KGkpO2UrPSdcIic9PT1yPydcXFxcXCInOlwiXFxcXFwiPT09cj9cIlxcXFxcXFxcXCI6XCJcXGJcIj09PXI/XCJcXFxcYlwiOlwiXFxmXCI9PT1yP1wiXFxcXGZcIjpcIlxcblwiPT09cj9cIlxcXFxuXCI6XCJcXHJcIj09PXI/XCJcXFxcclwiOlwiXFx0XCI9PT1yP1wiXFxcXHRcIjpyfXRoaXMudWMucHVzaCgnXCInK2UrJ1wiJyl9fSxQYzpmdW5jdGlvbih0KXt0aGlzLnZhKHQpfSxBYzpmdW5jdGlvbigpe3RoaXMuTmM9W10sdGhpcy5SYT1bXSxcInVuZGVmaW5lZFwiIT10eXBlb2YgSlNPTiYmXCJmdW5jdGlvblwiPT10eXBlb2YgSlNPTi5wYXJzZT90aGlzLnhjPUpTT04ucGFyc2UodGhpcy5YYS5EYSgpKTpcInVuZGVmaW5lZFwiIT10eXBlb2YgalF1ZXJ5P3RoaXMueGM9alF1ZXJ5LnBhcnNlSlNPTih0aGlzLlhhLkRhKCkpOnRoaXMueGM9ZXZhbCh0aGlzLlhhLkRhKCkpO3ZhciByPXt9LHZlcnNpb249dGhpcy54Yy5zaGlmdCgpO2lmKHZlcnNpb24hPVRocmlmdC5ZYS5Tcyl0aHJvd1wiV3JvbmcgdGhyaWZ0IHByb3RvY29sIHZlcnNpb246IFwiK3ZlcnNpb247cmV0dXJuIHIuQmM9dGhpcy54Yy5zaGlmdCgpLHIuRmM9dGhpcy54Yy5zaGlmdCgpLHIuX2M9dGhpcy54Yy5zaGlmdCgpLHRoaXMuTmMucHVzaCh0aGlzLnhjLnNoaWZ0KCkpLHJ9LERjOmZ1bmN0aW9uKCl7fSxIYzpmdW5jdGlvbih0KXt2YXIgZT17fTtyZXR1cm4gZS5CYz1cIlwiLHRoaXMuTmNbdGhpcy5OYy5sZW5ndGgtMV1pbnN0YW5jZW9mIEFycmF5JiZ0aGlzLk5jLnB1c2godGhpcy5OY1t0aGlzLk5jLmxlbmd0aC0xXS5zaGlmdCgpKSxlfSxkYTpmdW5jdGlvbigpe3RoaXMuTmNbdGhpcy5OYy5sZW5ndGgtMl1pbnN0YW5jZW9mIEFycmF5JiZ0aGlzLk5jLnBvcCgpfSxzYTpmdW5jdGlvbigpe3ZhciB0PXt9LGU9LTEsaT1UaHJpZnQuYnMuRXM7Zm9yKHZhciByIGluIHRoaXMuTmNbdGhpcy5OYy5sZW5ndGgtMV0paWYobnVsbCE9PXIpe2U9cGFyc2VJbnQociwxMCksdGhpcy5SYS5wdXNoKHRoaXMuTmMubGVuZ3RoKTt2YXIgbj10aGlzLk5jW3RoaXMuTmMubGVuZ3RoLTFdW2VdO2RlbGV0ZSB0aGlzLk5jW3RoaXMuTmMubGVuZ3RoLTFdW2VdLHRoaXMuTmMucHVzaChuKTticmVha31pZihlIT0tMSlmb3IodmFyIG8gaW4gdGhpcy5OY1t0aGlzLk5jLmxlbmd0aC0xXSludWxsIT09VGhyaWZ0LllhLlphW29dJiYoaT1UaHJpZnQuWWEuWmFbb10sdGhpcy5OY1t0aGlzLk5jLmxlbmd0aC0xXT10aGlzLk5jW3RoaXMuTmMubGVuZ3RoLTFdW29dKTtyZXR1cm4gdC5CYz1cIlwiLHQuYWE9aSx0LmNhPWUsdH0sbGE6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5SYS5wb3AoKTt0aGlzLk5jLmxlbmd0aD50Oyl0aGlzLk5jLnBvcCgpfSxMYzpmdW5jdGlvbigpe3ZhciB0PXRoaXMuTmMucG9wKCksZT10LnNoaWZ0KCk7ZSBpbnN0YW5jZW9mIEFycmF5JiYodGhpcy5OYy5wdXNoKHQpLHQ9ZSxlPXQuc2hpZnQoKSk7dmFyIGk9e307cmV0dXJuIGkuTWM9VGhyaWZ0LllhLlphW2VdLGkuamM9VGhyaWZ0LllhLlphW3Quc2hpZnQoKV0saS5zaXplPXQuc2hpZnQoKSx0aGlzLlJhLnB1c2godGhpcy5OYy5sZW5ndGgpLHRoaXMuTmMucHVzaCh0LnNoaWZ0KCkpLGl9LFVjOmZ1bmN0aW9uKCl7dGhpcy5sYSgpfSxWYzpmdW5jdGlvbigpe3ZhciB0PXRoaXMuTmNbdGhpcy5OYy5sZW5ndGgtMV0sZT17fTtyZXR1cm4gZS5RYz1UaHJpZnQuWWEuWmFbdC5zaGlmdCgpXSxlLnNpemU9dC5zaGlmdCgpLHRoaXMuUmEucHVzaCh0aGlzLk5jLmxlbmd0aCksdGhpcy5OYy5wdXNoKHQpLGV9LHFjOmZ1bmN0aW9uKCl7dGhpcy5sYSgpfSxKYzpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLlZjKHQsZSl9LEtjOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucWMoKX0sR2M6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnVhKCk7cmV0dXJuIG51bGwhPT10JiZcIjFcIj09dC52YWx1ZT90LnZhbHVlPSEwOnQudmFsdWU9ITEsdH0semM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51YSgpfSxXYzpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVhKCl9LHVhOmZ1bmN0aW9uKHQpe3ZvaWQgMD09PXQmJih0PXRoaXMuTmNbdGhpcy5OYy5sZW5ndGgtMV0pO3ZhciBlPXt9O2lmKHQgaW5zdGFuY2VvZiBBcnJheSkwPT09dC5sZW5ndGg/ZS52YWx1ZT12b2lkIDA6ZS52YWx1ZT10LnNoaWZ0KCk7ZWxzZSBpZih0IGluc3RhbmNlb2YgT2JqZWN0KXtmb3IodmFyIGkgaW4gdClpZihudWxsIT09aSl7dGhpcy5OYy5wdXNoKHRbaV0pLGRlbGV0ZSB0W2ldLGUudmFsdWU9aTticmVha319ZWxzZSBlLnZhbHVlPXQsdGhpcy5OYy5wb3AoKTtyZXR1cm4gZX0sJGM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51YSgpfSxZYzpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVhKCl9LGhhOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy51YSgpO3JldHVybiB0fSxYYzpmdW5jdGlvbigpe3JldHVybiB0aGlzLmhhKCl9LHBhOmZ1bmN0aW9uKHQpe3ZhciBlLGk7c3dpdGNoKHQpe2Nhc2UgVGhyaWZ0LmJzLkVzOnJldHVybiBudWxsO2Nhc2UgVGhyaWZ0LmJzLkJPT0w6cmV0dXJuIHRoaXMuR2MoKTtjYXNlIFRocmlmdC5icy5CWVRFOnJldHVybiB0aGlzLnpjKCk7Y2FzZSBUaHJpZnQuYnMuQ3M6cmV0dXJuIHRoaXMuV2MoKTtjYXNlIFRocmlmdC5icy5PczpyZXR1cm4gdGhpcy51YSgpO2Nhc2UgVGhyaWZ0LmJzLlBzOnJldHVybiB0aGlzLiRjKCk7Y2FzZSBUaHJpZnQuYnMua3M6cmV0dXJuIHRoaXMuWWMoKTtjYXNlIFRocmlmdC5icy5BczpyZXR1cm4gdGhpcy5oYSgpO2Nhc2UgVGhyaWZ0LmJzLnhzOmZvcih0aGlzLkhjKCk7Oyl7aWYoZT10aGlzLnNhKCksZS5hYT09VGhyaWZ0LmJzLkVzKWJyZWFrO3RoaXMucGEoZS5hYSksdGhpcy5sYSgpfXJldHVybiB0aGlzLmRhKCksbnVsbDtjYXNlIFRocmlmdC5icy5Cczpmb3IoZT10aGlzLkxjKCksaT0wO2k8ZS5zaXplO2krKylpPjAmJnRoaXMuTmMubGVuZ3RoPnRoaXMuUmFbdGhpcy5SYS5sZW5ndGgtMV0rMSYmdGhpcy5OYy5wb3AoKSx0aGlzLnBhKGUuTWMpLHRoaXMucGEoZS5qYyk7cmV0dXJuIHRoaXMuVWMoKSxudWxsO2Nhc2UgVGhyaWZ0LmJzLkZzOmZvcihlPXRoaXMuSmMoKSxpPTA7aTxlLnNpemU7aSsrKXRoaXMucGEoZS5RYyk7cmV0dXJuIHRoaXMuS2MoKSxudWxsO2Nhc2UgVGhyaWZ0LmJzLl9zOmZvcihlPXRoaXMuVmMoKSxpPTA7aTxlLnNpemU7aSsrKXRoaXMucGEoZS5RYyk7cmV0dXJuIHRoaXMucWMoKSxudWxsfX19LFRocmlmdC5aYz1mdW5jdGlvbih0LGUsaSxyKXtUaHJpZnQuWWEuY2FsbCh0aGlzLGUsaSxyKSx0aGlzLnRoPXR9LFRocmlmdC5xcyhUaHJpZnQuWmMsVGhyaWZ0LllhLFwibXVsdGlwbGV4UHJvdG9jb2xcIiksVGhyaWZ0LlpjLnByb3RvdHlwZS5wYz1mdW5jdGlvbih0LGUsaSl7ZT09PVRocmlmdC5Mcy5Nc3x8ZT09PVRocmlmdC5Mcy5Wcz9UaHJpZnQuWWEucHJvdG90eXBlLnBjLmNhbGwodGhpcyx0aGlzLnRoK1wiOlwiK3QsZSxpKTpUaHJpZnQuWWEucHJvdG90eXBlLnBjLmNhbGwodGhpcyx0LGUsaSl9LFRocmlmdC5laD1mdW5jdGlvbigpe3RoaXMuaWg9MH0sVGhyaWZ0LmVoLnByb3RvdHlwZS5yaD1mdW5jdGlvbih0LGUsaSl7ZS5lbyYmKGU9ZS5lbyk7dmFyIHI9dGhpcztlLnByb3RvdHlwZS5uaD1mdW5jdGlvbigpe3JldHVybiByLmloKz0xLHIuaWh9O3ZhciBuPW5ldyBlKG5ldyBUaHJpZnQuWmModCxpKSk7cmV0dXJuIG59LG1vZHVsZS50PVRocmlmdH0sZnVuY3Rpb24odCxlKXtcInVzZSBzdHJpY3RcIjt2YXIgaTshZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0KXtyZXR1cm4gblt0XX12YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHR9KCk7dC5IaXZlU2Vzc2lvbj1pO3ZhciByOyFmdW5jdGlvbih0KXt0W3Qub2g9MF09XCJHRU5FUklDX0VSUk9SXCIsdFt0LnNoPTFdPVwiTk9fVEVDSF9BVkFJTEFCTEVcIix0W3QuYWg9Ml09XCJOT19URUNIX1JFU09MVkVEXCIsdFt0LmhoPTNdPVwiVEVDSF9FUlJPUlwiLHRbdC5waD00XT1cIlRJQ0tFVF9FUlJPUlwifShyPXQudWh8fCh0LnVoPXt9KSk7dmFyIG47IWZ1bmN0aW9uKHQpe3RbdFtcImxoXCJdPTBdPVwiR2VuZXJpYyBVbmRlZmluZWQgRXJyb3JcIix0W3RbXCJkaFwiXT0xXT1cIk5vIFRlY2ggYXZhaWxhYmxlIHRvIHJlc29sdmUgdGhlIHRpY2tldFwiLHRbdFtcImZoXCJdPTJdPVwiTm8gYXZhaWxhYmxlIFRlY2ggY291bGQgcmVzb2x2ZWQgdGhlIHRpY2tldFwiLHRbdFtcImdoXCJdPTNdPVwiU3RvcHBlZCByZXNvbHZpbmcgc2Vzc2lvbiBvbiBsYXN0IHRlY2ggb25FcnJvclwiLHRbdFtcInZoXCJdPTRdPVwiVGhlIHRpY2tldCBjb3VsZCBub3QgYmUgcmVzb2x2ZWRcIn0obnx8KG49e30pKTt2YXIgbz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHR9KCk7dC5IaXZlU2Vzc2lvbkVycm9yPW87dmFyIHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy5jb2RlPXQsdGhpcy5tZXNzYWdlPWV9cmV0dXJuIHR9KCk7dC5IaXZlVGVjaEVycm9yPXM7dmFyIGE7IWZ1bmN0aW9uKHQpe3RbdC55aD0wXT1cIk5PVF9SRUFEWVwiLHRbdC5taD0xXT1cIlBMVUdJTl9FUlJPUlwiLHRbdC53aD0yXT1cIlNFU1NJT05fRVJST1JcIix0W3QucGg9M109XCJUSUNLRVRfRVJST1JcIix0W3QuVGg9NF09XCJWRVJTSU9OX0VSUk9SXCIsdFt0LlNoPTVdPVwiVElNRU9VVF9FUlJPUlwifShhPXQuYmh8fCh0LmJoPXt9KSk7dmFyIGM7IWZ1bmN0aW9uKHQpe3RbdC5FaD0wXT1cIk9LXCIsdFt0LkloPTFdPVwiSElWRV9OT1RfQUxMT1dFRFwiLHRbdC5SaD0yXT1cIlRJQ0tFVF9OT1RfUkVTT0xWRURcIix0W3Qua2g9M109XCJUSU1FT1VUX1JFU09MVklOR19USUNLRVRcIn0oYz10LkNofHwodC5DaD17fSkpLHQuZ2V0SGl2ZVNlc3Npb25FcnJvck1lc3NhZ2U9ZTt2YXIgaD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5PaD10fXJldHVybiB0LnByb3RvdHlwZS5nZXRQbHVnaW5TdGF0dXNDb2RlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuT2guUGgoKX0sdH0oKTt0LkFoPWh9KGk9ZS5wdHx8KGUucHQ9e30pKSxcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIHdpbmRvdy5wdCYmKHdpbmRvdy5wdD17fSksd2luZG93LnB0LmdldEhpdmVTZXNzaW9uRXJyb3JNZXNzYWdlPWkuZ2V0SGl2ZVNlc3Npb25FcnJvck1lc3NhZ2UpfSxmdW5jdGlvbih0LGUpe1widXNlIHN0cmljdFwiO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdH0oKTtpLnlyPVwiaHR0cHM6XCI9PT1sb2NhdGlvbi5wcm90b2NvbCxpLkVyPSEwLGkuTmg9MWU0LGkueGg9NmU0LGUua2U9aX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO3ZhciByPWkoNDEpLG49aSg4KSxvPWkoMjUpO2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBzKXZhciBzPVwiNTkyODM1YTZiNDIwNGRkMTk3YzAwNDg4NjEwMDAzZTBcIjtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgYSl2YXIgYT1cIjAuOFwiO2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBjKXZhciBjPSEwO3ZhciBoPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe2lmKHRoaXMuc3Q9ITEsdC5HaSl0aHJvdyBuZXcgRXJyb3IoXCJFcnJvcjogSW5zdGFudGlhdGlvbiBmYWlsZWQ6IFVzZSBBdGF0dXNMb2dnZXIuZ2V0SW5zdGFuY2UoKSBpbnN0ZWFkIG9mIG5ldy5cIik7dmFyIGUsaT12b2lkIDAhPW4uSGl2ZUNvbmZpZy5FcnJvck1vbml0b3Iua2V5P24uSGl2ZUNvbmZpZy5FcnJvck1vbml0b3Iua2V5OnMscj0xPT1uLkhpdmVDb25maWcuRXJyb3JNb25pdG9yLmVuYWJsZWRSVU0sYT0xPT1uLkhpdmVDb25maWcuRXJyb3JNb25pdG9yLmVuYWJsZUtleUNvbWJpbmF0aW9uLGg9MT09bi5IaXZlQ29uZmlnLkVycm9yTW9uaXRvci5lbmFibGVkRXJyb3JGaWx0ZXI7aCYmKGU9dGhpcy5CaCgpKSxhdGF0dXMmJih2b2lkIDA9PW4uSGl2ZUNvbmZpZy5FcnJvck1vbml0b3IuZW5hYmxlZCYmY3x8dm9pZCAwIT1uLkhpdmVDb25maWcuRXJyb3JNb25pdG9yLmVuYWJsZWQmJjE9PW4uSGl2ZUNvbmZpZy5FcnJvck1vbml0b3IuZW5hYmxlZCkmJihhdGF0dXMuY29uZmlnKGkse2VuYWJsZVNvdXJjZW1hcDohMCxkaXNhYmxlUlVNOiFyLHZlcnNpb246by52ZXJzaW9uLGJlZm9yZUVycm9yU2VuZDpmdW5jdGlvbih0KXt2YXIgaT0hMTtpZih0JiZ0LmN1c3RvbURhdGEmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiB0LmN1c3RvbURhdGEuZm9yY2VTZW5kJiYoaT10LmN1c3RvbURhdGEuZm9yY2VTZW5kLGRlbGV0ZSB0LmN1c3RvbURhdGEuZm9yY2VTZW5kLDA9PT1PYmplY3Qua2V5cyh0LmN1c3RvbURhdGEpLmxlbmd0aCYmKHQuY3VzdG9tRGF0YT1udWxsKSksIWh8fGkpcmV0dXJuITA7aWYoIWUpcmV0dXJuITE7dHJ5e3ZhciByPSExO2lmKHQuYmFja1RyYWNlcyl7Zm9yKHZhciBuPTAsbz10LmJhY2tUcmFjZXM7bjxvLmxlbmd0aDtuKyspe3ZhciBzPW9bbl0sYT1zLmYuaW5kZXhPZihlKT4tMTtpZihhJiZzLmxuPjUpe3I9ITA7YnJlYWt9fXImJih0Lm5hbWU9dC5uYW1lLnJlcGxhY2UoLyVzIFxcW1swLTldezJ9OlswLTldezJ9OlswLTldezJ9OlswLTldK10gLyxcIlwiKSx0Lm5hbWUuaW5kZXhPZihcIlN0YXR1cyBDb2RlIEVycm9yOlwiKT49MCYmKHQudGFncz1bXCJQbHVnaW4gRXJyb3IgQ29kZVwiLHQubmFtZS5zcGxpdChcIjpcIilbMV0udHJpbSgpXSkpfXJldHVybiByfWNhdGNoKGMpe3JldHVybiExfX19KS5pbnN0YWxsKCksYSYmdGhpcy5GaCgpLHRoaXMuc3Q9ITAsd2luZG93LmNvbnNvbGUmJmNvbnNvbGUubG9nKFwiW0hpdmVDb21tXSBFcnJvciBNb25pdG9yIGluc3RhbGxlZCBbUlVNOlwiK3IrXCIsIEtleUhhbmRsZXI6XCIrYStcIl1cIiksaCYmIWUmJnRoaXMuX2goXCJDb3VsZCBub3QgZXh0cmFjdCBlcnJvciBmaWx0ZXJcIikpfXJldHVybiB0LldpPWZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMD09PXRoaXMuR2kmJih0aGlzLkdpPW5ldyB0KSx0aGlzLkdpfSx0LnByb3RvdHlwZS5GaD1mdW5jdGlvbigpe3IuSGguV2koKS5EaChbMTYsMTcsODhdLGZ1bmN0aW9uKCl7dHJ5e3Rocm93IG5ldyBFcnJvcihcIlVwbG9hZCBjb25zb2xlIGxvZ3NcIil9Y2F0Y2godCl7YXRhdHVzLm5vdGlmeSh0KSx3aW5kb3cuY29uc29sZSYmY29uc29sZS5sb2coXCJbSGl2ZUNvbW1dIGNvbnNvbGUgbG9nIHVwbG9hZGVkIGZvciBkZWJ1Z2dpbmdcIil9fSl9LHQucHJvdG90eXBlLkJoPWZ1bmN0aW9uKCl7dHJ5e3Rocm93IG5ldyBFcnJvcihcInRlc3RcIil9Y2F0Y2godCl7dmFyIGU9dC5zdGFjay5tYXRjaCgvKFxcL1xcLy4qXFwuanMpL2kpO2lmKGUmJmUubGVuZ3RoPjApcmV0dXJuIGVbMF19fSx0LnByb3RvdHlwZS5zZXRVc2VyPWZ1bmN0aW9uKHQpe2F0YXR1cyYmdGhpcy5zdCYmYXRhdHVzLnNldFVzZXIodCl9LHQucHJvdG90eXBlLkxoPWZ1bmN0aW9uKHQpe3RoaXMubT10fSx0LnByb3RvdHlwZS5zZXRDdXN0b21EYXRhPWZ1bmN0aW9uKHQpe2F0YXR1cyYmdGhpcy5zdCYmYXRhdHVzLnNldEN1c3RvbURhdGEodCl9LHQucHJvdG90eXBlLl9oPWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5tJiZ0aGlzLm0ud2Fybih0KSxhdGF0dXMmJnRoaXMuc3QpdHJ5e3Rocm93IG5ldyBFcnJvcih0KX1jYXRjaChpKXtlfHwoZT17fSksZS5mb3JjZVNlbmQ9ITAsYXRhdHVzLm5vdGlmeShpLGUpfX0sdC5wcm90b3R5cGUuc2V0VGFncz1mdW5jdGlvbih0KXthdGF0dXMmJnRoaXMuc3QmJmF0YXR1cy5zZXRUYWdzKHQpfSx0LnByb3RvdHlwZS5ub3RpZnk9ZnVuY3Rpb24odCxlKXthdGF0dXMmJnRoaXMuc3QmJihlfHwoZT17fSksZS5mb3JjZVNlbmQ9ITAsYXRhdHVzLm5vdGlmeSh0LGUpKX0sdH0oKTtlLkVycm9yTW9uaXRvcj1ofSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9aSgyMSksbj1pKDM0KSxvPW4uTWgscz1uLmpoLGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dGhpcy5Tb3VyY2VVUkxQYXJhbXM9e319cmV0dXJuIHQucHJvdG90eXBlLlVoPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZSBpbiB0KWlmKFwiU291cmNlVVJMUGFyYW1zXCI9PT1lKWZvcih2YXIgaSBpbiB0W2VdKXRoaXNbZV1baV09dFtlXVtpXTtlbHNlIHRoaXNbZV09dFtlXTt0aGlzLlZoKCl9LHQucHJvdG90eXBlLlFoPWZ1bmN0aW9uKCl7dmFyIHQ9XCJiNjYxNGMzZTRjZDFkMTRlZWQ2YjM5ZWYyYmY2YjlhM2UzZDZkZmNkMjY2OTlkNzI3MGQ4ODc5MjNiY2JmODNlZmIzZGFkYjcxN2MwYmFmYjFkNDhkY2UzNjFlYjM2OWI3Y2M0NmU1NzQwNWViZmJkZDg2YzMxNzU1MzJmZTU2Y2M3N2Y0NzNkMzQ1YjJjYjZmZWFmYjVhYjBlMjRmMzY0YTNkMjU5ZjI3ZTRhMmZkOTc0NjgyNjViZGRmZDNkZGQzYWM2NDI1MWRiNjUwY2EwMjgwYWYyYjJjNDVlOGIxYzhmMDQwZjJjNDMzYWMwYTE1N2QyYjNmZDkxNTE3MjUzXCIsZT1cIjAxMDAwMVwiLGk9dGhpcy5Db250ZW50SWQrdGhpcy5TaXRlSWQrdGhpcy5DUk9JZCt0aGlzLlNvdXJjZVVSTCxyPW5ldyBvO3IucWgodCxlKTt2YXIgbj1zKHRoaXMuU2lnbmF0dXJlKTtyZXR1cm4gci5KaChpLG4pfSx0LnByb3RvdHlwZS5LaD1mdW5jdGlvbih0KXt0aGlzLnRpY2tldFVybD10O3ZhciBlPXIucGFyc2UodCksaT1lLnBhdGguc3BsaXQoXCIvXCIpLnNsaWNlKDMpO2lmKHRoaXMuU2l0ZUlkPWlbMF0sdGhpcy5DUk9JZD1pWzFdLHRoaXMuQ29udGVudElkPWlbMl0sdGhpcy5HaD1pWzNdLGUudmkpdHJ5e3ZhciBuPWUudmkuc3BsaXQoXCImXCIpO2Zvcih2YXIgbyBpbiBuKXt2YXIgcz1uW29dLnNwbGl0KC89KC4rKS8pO3RoaXMuU291cmNlVVJMUGFyYW1zW3NbMF1dPXNbMV19fWNhdGNoKGEpe310aGlzLnpoPXQuaW5kZXhPZihcImFwaS10ZXN0XCIpPi0xfSx0LnByb3RvdHlwZS5ibj1mdW5jdGlvbigpe3JldHVybiB0aGlzLlNpdGVJZH0sdC5wcm90b3R5cGUuRW49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5DUk9JZH0sdC5wcm90b3R5cGUuZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5Db250ZW50SWR9LHQucHJvdG90eXBlLldoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuR2h9LHQucHJvdG90eXBlLiRoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuU291cmNlVVJMfSx0LnByb3RvdHlwZS5ZaD1mdW5jdGlvbigpe2lmKHRoaXMuWGg9dGhpcy5Tb3VyY2VVUkwsdm9pZCAwIT10aGlzLlNvdXJjZVVSTFBhcmFtcyl7dmFyIHQ9bmV3IEFycmF5O2Zvcih2YXIgZSBpbiB0aGlzLlNvdXJjZVVSTFBhcmFtcyl0LnB1c2goZStcIj1cIit0aGlzLlNvdXJjZVVSTFBhcmFtc1tlXSk7dC5sZW5ndGg+MCYmdGhpcy5YaCYmKHRoaXMuWGgrPSh0aGlzLlhoLmluZGV4T2YoXCI/XCIpPjA/XCImXCI6XCI/XCIpK3Quam9pbihcIiZcIikpfX0sdC5wcm90b3R5cGUuVmg9ZnVuY3Rpb24oKXt2YXIgdD1pKDIyKTt0aGlzLnNlc3Npb25JZD10LlpoKCl9LHQucHJvdG90eXBlLnRwPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuWGh8fHRoaXMuWWgoKSx0aGlzLlhofSx0LnByb3RvdHlwZS5Pbj1mdW5jdGlvbigpe3JldHVyblwiW1wiK3RoaXMuU2l0ZUlkK1wiL1wiK3RoaXMuQ1JPSWQrXCIvXCIrdGhpcy5Db250ZW50SWQrXCJdXCJ9LHQucHJvdG90eXBlLmVwPWZ1bmN0aW9uKCl7cmV0dXJuW3RoaXMuU2l0ZUlkLHRoaXMuQ1JPSWQsdGhpcy5Db250ZW50SWRdfSx0LnByb3RvdHlwZS5pcD1mdW5jdGlvbigpe3JldHVybiB0aGlzLlNvdXJjZVVSTCtcIi1bXCIrdGhpcy5TaXRlSWQrXCIvXCIrdGhpcy5DUk9JZCtcIi9cIit0aGlzLkNvbnRlbnRJZCtcIl1cIn0sdC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5PbigpfSx0fSgpO2EucnA9XCJeaHR0cHM/Oi8vYXBpKD86LXRlc3QpPy5oaXZlc3RyZWFtaW5nLmNvbS92MS9ldmVudHMvKD86d2lsZGNhcmQvKT9cIixhLm5wPVwiQ1JPSWRcIixhLm9wPVwiU2l0ZUlkXCIsYS5zcD1cIkNvbnRlbnRJZFwiLGUuYXA9YX0sZnVuY3Rpb24odCxlLGkpe3ZhciByLG4sbzsvKiFcbiAqIFVSSS5qcyAtIE11dGF0aW5nIFVSTHNcbiAqXG4gKiBWZXJzaW9uOiAxLjE4LjEwXG4gKlxuICogQXV0aG9yOiBSb2RuZXkgUmVobVxuICogV2ViOiBodHRwOi8vbWVkaWFsaXplLmdpdGh1Yi5pby9VUkkuanMvXG4gKlxuICogTGljZW5zZWQgdW5kZXJcbiAqICAgTUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICpcbiAqL1xuICAhZnVuY3Rpb24ocyxhKXtcInVzZSBzdHJpY3RcIjtcIm9iamVjdFwiPT10eXBlb2YgdCYmdC50P3QudD1hKGkoNiksaSg2KSxpKDYpKToobj1baSg2KSxpKDYpLGkoNildLHI9YSxvPVwiZnVuY3Rpb25cIj09dHlwZW9mIHI/ci5hcHBseShlLG4pOnIsISh2b2lkIDAhPT1vJiYodC50PW8pKSl9KHRoaXMsZnVuY3Rpb24odCxlLGkscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbih0LGUpe3ZhciBpPWFyZ3VtZW50cy5sZW5ndGg+PTEscj1hcmd1bWVudHMubGVuZ3RoPj0yO2lmKCEodGhpcyBpbnN0YW5jZW9mIG4pKXJldHVybiBpP3I/bmV3IG4odCxlKTpuZXcgbih0KTpuZXcgbjtpZih2b2lkIDA9PT10KXtpZihpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJ1bmRlZmluZWQgaXMgbm90IGEgdmFsaWQgYXJndW1lbnQgZm9yIFVSSVwiKTt0PVwidW5kZWZpbmVkXCIhPXR5cGVvZiBsb2NhdGlvbj9sb2NhdGlvbi5ocmVmK1wiXCI6XCJcIn1pZihudWxsPT09dCYmaSl0aHJvdyBuZXcgVHlwZUVycm9yKFwibnVsbCBpcyBub3QgYSB2YWxpZCBhcmd1bWVudCBmb3IgVVJJXCIpO3JldHVybiB0aGlzLmhyZWYodCksdm9pZCAwIT09ZT90aGlzLmNwKGUpOnRoaXN9ZnVuY3Rpb24gbyh0KXtyZXR1cm4gdC5yZXBsYWNlKC8oWy4qKz9ePSE6JHt9KCl8W1xcXVxcL1xcXFxdKS9nLFwiXFxcXCQxXCIpfWZ1bmN0aW9uIHModCl7cmV0dXJuIHZvaWQgMD09PXQ/XCJVbmRlZmluZWRcIjpTdHJpbmcoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpKS5zbGljZSg4LC0xKX1mdW5jdGlvbiBhKHQpe3JldHVyblwiQXJyYXlcIj09PXModCl9ZnVuY3Rpb24gYyh0LGUpe3ZhciBpLHIsbj17fTtpZihcIlJlZ0V4cFwiPT09cyhlKSluPW51bGw7ZWxzZSBpZihhKGUpKWZvcihpPTAscj1lLmxlbmd0aDtpPHI7aSsrKW5bZVtpXV09ITA7ZWxzZSBuW2VdPSEwO2ZvcihpPTAscj10Lmxlbmd0aDtpPHI7aSsrKXt2YXIgbz1uJiZ2b2lkIDAhPT1uW3RbaV1dfHwhbiYmZS50ZXN0KHRbaV0pO28mJih0LnNwbGljZShpLDEpLHItLSxpLS0pfXJldHVybiB0fWZ1bmN0aW9uIGgodCxlKXt2YXIgaSxyO2lmKGEoZSkpe2ZvcihpPTAscj1lLmxlbmd0aDtpPHI7aSsrKWlmKCFoKHQsZVtpXSkpcmV0dXJuITE7cmV0dXJuITB9dmFyIG49cyhlKTtmb3IoaT0wLHI9dC5sZW5ndGg7aTxyO2krKylpZihcIlJlZ0V4cFwiPT09bil7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHRbaV0mJnRbaV0ubWF0Y2goZSkpcmV0dXJuITB9ZWxzZSBpZih0W2ldPT09ZSlyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiBwKHQsZSl7aWYoIWEodCl8fCFhKGUpKXJldHVybiExO2lmKHQubGVuZ3RoIT09ZS5sZW5ndGgpcmV0dXJuITE7dC5zb3J0KCksZS5zb3J0KCk7Zm9yKHZhciBpPTAscj10Lmxlbmd0aDtpPHI7aSsrKWlmKHRbaV0hPT1lW2ldKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIHUodCl7dmFyIGU9L15cXC8rfFxcLyskL2c7cmV0dXJuIHQucmVwbGFjZShlLFwiXCIpfWZ1bmN0aW9uIGwodCl7cmV0dXJuIGVzY2FwZSh0KX1mdW5jdGlvbiBkKHQpe3JldHVybiBlbmNvZGVVUklDb21wb25lbnQodCkucmVwbGFjZSgvWyEnKCkqXS9nLGwpLnJlcGxhY2UoL1xcKi9nLFwiJTJBXCIpfWZ1bmN0aW9uIGYodCl7cmV0dXJuIGZ1bmN0aW9uKGUsaSl7cmV0dXJuIHZvaWQgMD09PWU/dGhpcy5ocFt0XXx8XCJcIjoodGhpcy5ocFt0XT1lfHxudWxsLHRoaXMucHAoIWkpLHRoaXMpfX1mdW5jdGlvbiBnKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKGkscil7cmV0dXJuIHZvaWQgMD09PWk/dGhpcy5ocFt0XXx8XCJcIjoobnVsbCE9PWkmJihpKz1cIlwiLGkuY2hhckF0KDApPT09ZSYmKGk9aS5zdWJzdHJpbmcoMSkpKSx0aGlzLmhwW3RdPWksdGhpcy5wcCghciksdGhpcyl9fXZhciB2PXImJnIudXA7bi52ZXJzaW9uPVwiMS4xOC4xMFwiO3ZhciB5PW4ucHJvdG90eXBlLG09T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtuLmhwPWZ1bmN0aW9uKCl7cmV0dXJue3Byb3RvY29sOm51bGwsdXNlcm5hbWU6bnVsbCxwYXNzd29yZDpudWxsLGhvc3RuYW1lOm51bGwsdXJuOm51bGwscG9ydDpudWxsLHBhdGg6bnVsbCx2aTpudWxsLGxwOm51bGwsZHA6bi5kcCxmcDpuLmZwfX0sbi5kcD0hMSxuLmZwPSEwLG4uZ3A9L15bYS16XVthLXowLTkuKy1dKiQvaSxuLnZwPS9bXmEtejAtOVxcLi1dL2ksbi55cD0vKHhuLS0pL2ksbi5tcD0vXlxcZHsxLDN9XFwuXFxkezEsM31cXC5cXGR7MSwzfVxcLlxcZHsxLDN9JC8sbi53cD0vXlxccyooKChbMC05QS1GYS1mXXsxLDR9Oil7N30oWzAtOUEtRmEtZl17MSw0fXw6KSl8KChbMC05QS1GYS1mXXsxLDR9Oil7Nn0oOlswLTlBLUZhLWZdezEsNH18KCgyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoXFwuKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSl7M30pfDopKXwoKFswLTlBLUZhLWZdezEsNH06KXs1fSgoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDJ9KXw6KCgyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoXFwuKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSl7M30pfDopKXwoKFswLTlBLUZhLWZdezEsNH06KXs0fSgoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDN9KXwoKDpbMC05QS1GYS1mXXsxLDR9KT86KCgyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoXFwuKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSl7M30pKXw6KSl8KChbMC05QS1GYS1mXXsxLDR9Oil7M30oKCg6WzAtOUEtRmEtZl17MSw0fSl7MSw0fSl8KCg6WzAtOUEtRmEtZl17MSw0fSl7MCwyfTooKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKShcXC4oMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSkpfDopKXwoKFswLTlBLUZhLWZdezEsNH06KXsyfSgoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDV9KXwoKDpbMC05QS1GYS1mXXsxLDR9KXswLDN9OigoMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKFxcLigyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkpezN9KSl8OikpfCgoWzAtOUEtRmEtZl17MSw0fTopezF9KCgoOlswLTlBLUZhLWZdezEsNH0pezEsNn0pfCgoOlswLTlBLUZhLWZdezEsNH0pezAsNH06KCgyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoXFwuKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSl7M30pKXw6KSl8KDooKCg6WzAtOUEtRmEtZl17MSw0fSl7MSw3fSl8KCg6WzAtOUEtRmEtZl17MSw0fSl7MCw1fTooKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKShcXC4oMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSkpfDopKSkoJS4rKT9cXHMqJC8sbi5UcD0vXFxiKCg/OlthLXpdW1xcdy1dKzooPzpcXC97MSwzfXxbYS16MC05JV0pfHd3d1xcZHswLDN9Wy5dfFthLXowLTkuXFwtXStbLl1bYS16XXsyLDR9XFwvKSg/OlteXFxzKCk8Pl0rfFxcKChbXlxccygpPD5dK3woXFwoW15cXHMoKTw+XStcXCkpKSpcXCkpKyg/OlxcKChbXlxccygpPD5dK3woXFwoW15cXHMoKTw+XStcXCkpKSpcXCl8W15cXHNgISgpXFxbXFxde307OidcIi4sPD4/wqvCu+KAnOKAneKAmOKAmV0pKS9naSxuLlNwPXtzdGFydDovXFxiKD86KFthLXpdW2EtejAtOS4rLV0qOlxcL1xcLyl8d3d3XFwuKS9naSxlbmQ6L1tcXHNcXHJcXG5dfCQvLHRyaW06L1tgISgpXFxbXFxde307OidcIi4sPD4/wqvCu+KAnOKAneKAnuKAmOKAmV0rJC8sYnA6LyhcXChbXlxcKV0qXFwpfFxcW1teXFxdXSpcXF18XFx7W159XSpcXH18PFtePl0qPikvZ30sbi5FcD17SXA6XCI4MFwiLFJwOlwiNDQzXCIsa3A6XCIyMVwiLENwOlwiNzBcIixPcDpcIjgwXCIsUHA6XCI0NDNcIn0sbi5BcD0vW15hLXpBLVowLTlcXC4tXS8sbi5OcD17YTpcImhyZWZcIix4cDpcImNpdGVcIixsaW5rOlwiaHJlZlwiLEJwOlwiaHJlZlwiLEZwOlwic3JjXCIsZm9ybTpcImFjdGlvblwiLF9wOlwic3JjXCIsRHA6XCJocmVmXCIsSHA6XCJzcmNcIixMcDpcInNyY1wiLHNvdXJjZTpcInNyY1wiLHRyYWNrOlwic3JjXCIsaW5wdXQ6XCJzcmNcIixNcDpcInNyY1wiLHZpZGVvOlwic3JjXCJ9LG4uanA9ZnVuY3Rpb24odCl7aWYodCYmdC5ub2RlTmFtZSl7dmFyIGU9dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO2lmKFwiaW5wdXRcIiE9PWV8fFwiaW1hZ2VcIj09PXQudHlwZSlyZXR1cm4gbi5OcFtlXX19LG4uZW5jb2RlPWQsbi5kZWNvZGU9ZGVjb2RlVVJJQ29tcG9uZW50LG4uVXA9ZnVuY3Rpb24oKXtuLmVuY29kZT1lc2NhcGUsbi5kZWNvZGU9dW5lc2NhcGV9LG4uVnA9ZnVuY3Rpb24oKXtuLmVuY29kZT1kLG4uZGVjb2RlPWRlY29kZVVSSUNvbXBvbmVudH0sbi5RcD17cGF0aG5hbWU6e2VuY29kZTp7cXA6LyUoMjR8MjZ8MkJ8MkN8M0J8M0R8M0F8NDApL2dpLG1hcDp7XCIlMjRcIjpcIiRcIixcIiUyNlwiOlwiJlwiLFwiJTJCXCI6XCIrXCIsXCIlMkNcIjpcIixcIixcIiUzQlwiOlwiO1wiLFwiJTNEXCI6XCI9XCIsXCIlM0FcIjpcIjpcIixcIiU0MFwiOlwiQFwifX0sZGVjb2RlOntxcDovW1xcL1xcPyNdL2csbWFwOntKcDpcIiUyRlwiLEtwOlwiJTNGXCIsR3A6XCIlMjNcIn19fSx6cDp7ZW5jb2RlOntxcDovJSgyMXwyM3wyNHwyNnwyN3wyOHwyOXwyQXwyQnwyQ3wyRnwzQXwzQnwzRHwzRnw0MHw1Qnw1RCkvZ2ksbWFwOntcIiUzQVwiOlwiOlwiLFdwOlwiL1wiLCRwOlwiP1wiLFlwOlwiI1wiLFhwOlwiW1wiLFpwOlwiXVwiLFwiJTQwXCI6XCJAXCIsdHU6XCIhXCIsXCIlMjRcIjpcIiRcIixcIiUyNlwiOlwiJlwiLGV1OlwiJ1wiLGl1OlwiKFwiLHJ1OlwiKVwiLG51OlwiKlwiLFwiJTJCXCI6XCIrXCIsXCIlMkNcIjpcIixcIixcIiUzQlwiOlwiO1wiLFwiJTNEXCI6XCI9XCJ9fX0sb3U6e2VuY29kZTp7cXA6LyUoMjF8MjR8Mjd8Mjh8Mjl8MkF8MkJ8MkN8M0J8M0R8NDApL2dpLG1hcDp7dHU6XCIhXCIsXCIlMjRcIjpcIiRcIixldTpcIidcIixpdTpcIihcIixydTpcIilcIixudTpcIipcIixcIiUyQlwiOlwiK1wiLFwiJTJDXCI6XCIsXCIsXCIlM0JcIjpcIjtcIixcIiUzRFwiOlwiPVwiLFwiJTQwXCI6XCJAXCJ9fSxkZWNvZGU6e3FwOi9bXFwvXFw/IzpdL2csbWFwOntKcDpcIiUyRlwiLEtwOlwiJTNGXCIsR3A6XCIlMjNcIixzdTpcIiUzQVwifX19fSxuLmF1PWZ1bmN0aW9uKHQsZSl7dmFyIGk9bi5lbmNvZGUodCtcIlwiKTtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9bi5mcCksZT9pLnJlcGxhY2UoLyUyMC9nLFwiK1wiKTppfSxuLmN1PWZ1bmN0aW9uKHQsZSl7dCs9XCJcIix2b2lkIDA9PT1lJiYoZT1uLmZwKTt0cnl7cmV0dXJuIG4uZGVjb2RlKGU/dC5yZXBsYWNlKC9cXCsvZyxcIiUyMFwiKTp0KX1jYXRjaChpKXtyZXR1cm4gdH19O3ZhciB3LFQ9e2VuY29kZTpcImVuY29kZVwiLGRlY29kZTpcImRlY29kZVwifSxTPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKGkpe3RyeXtyZXR1cm4gbltlXShpK1wiXCIpLnJlcGxhY2Uobi5RcFt0XVtlXS5xcCxmdW5jdGlvbihpKXtyZXR1cm4gbi5RcFt0XVtlXS5tYXBbaV19KX1jYXRjaChyKXtyZXR1cm4gaX19fTtmb3IodyBpbiBUKW5bdytcIlBhdGhTZWdtZW50XCJdPVMoXCJwYXRobmFtZVwiLFRbd10pLG5bdytcIlVyblBhdGhTZWdtZW50XCJdPVMoXCJ1cm5wYXRoXCIsVFt3XSk7dmFyIGI9ZnVuY3Rpb24odCxlLGkpe3JldHVybiBmdW5jdGlvbihyKXt2YXIgbztvPWk/ZnVuY3Rpb24odCl7cmV0dXJuIG5bZV0obltpXSh0KSl9Om5bZV07Zm9yKHZhciBzPShyK1wiXCIpLnNwbGl0KHQpLGE9MCxjPXMubGVuZ3RoO2E8YzthKyspc1thXT1vKHNbYV0pO3JldHVybiBzLmpvaW4odCl9fTtuLmh1PWIoXCIvXCIsXCJkZWNvZGVQYXRoU2VnbWVudFwiKSxuLnB1PWIoXCI6XCIsXCJkZWNvZGVVcm5QYXRoU2VnbWVudFwiKSxuLnV1PWIoXCIvXCIsXCJlbmNvZGVQYXRoU2VnbWVudFwiLFwiZGVjb2RlXCIpLG4ubHU9YihcIjpcIixcImVuY29kZVVyblBhdGhTZWdtZW50XCIsXCJkZWNvZGVcIiksbi5kdT1TKFwicmVzZXJ2ZWRcIixcImVuY29kZVwiKSxuLnBhcnNlPWZ1bmN0aW9uKHQsZSl7dmFyIGk7cmV0dXJuIGV8fChlPXt9KSxpPXQuaW5kZXhPZihcIiNcIiksaT4tMSYmKGUubHA9dC5zdWJzdHJpbmcoaSsxKXx8bnVsbCx0PXQuc3Vic3RyaW5nKDAsaSkpLGk9dC5pbmRleE9mKFwiP1wiKSxpPi0xJiYoZS52aT10LnN1YnN0cmluZyhpKzEpfHxudWxsLHQ9dC5zdWJzdHJpbmcoMCxpKSksXCIvL1wiPT09dC5zdWJzdHJpbmcoMCwyKT8oZS5wcm90b2NvbD1udWxsLHQ9dC5zdWJzdHJpbmcoMiksdD1uLmZ1KHQsZSkpOihpPXQuaW5kZXhPZihcIjpcIiksaT4tMSYmKGUucHJvdG9jb2w9dC5zdWJzdHJpbmcoMCxpKXx8bnVsbCxlLnByb3RvY29sJiYhZS5wcm90b2NvbC5tYXRjaChuLmdwKT9lLnByb3RvY29sPXZvaWQgMDpcIi8vXCI9PT10LnN1YnN0cmluZyhpKzEsaSszKT8odD10LnN1YnN0cmluZyhpKzMpLHQ9bi5mdSh0LGUpKToodD10LnN1YnN0cmluZyhpKzEpLGUudXJuPSEwKSkpLGUucGF0aD10LGV9LG4uZ3U9ZnVuY3Rpb24odCxlKXt0PXQucmVwbGFjZSgvXFxcXC9nLFwiL1wiKTt2YXIgaSxyLG49dC5pbmRleE9mKFwiL1wiKTtpZihuPT09LTEmJihuPXQubGVuZ3RoKSxcIltcIj09PXQuY2hhckF0KDApKWk9dC5pbmRleE9mKFwiXVwiKSxlLmhvc3RuYW1lPXQuc3Vic3RyaW5nKDEsaSl8fG51bGwsZS5wb3J0PXQuc3Vic3RyaW5nKGkrMixuKXx8bnVsbCxcIi9cIj09PWUucG9ydCYmKGUucG9ydD1udWxsKTtlbHNle3ZhciBvPXQuaW5kZXhPZihcIjpcIikscz10LmluZGV4T2YoXCIvXCIpLGE9dC5pbmRleE9mKFwiOlwiLG8rMSk7YSE9PS0xJiYocz09PS0xfHxhPHMpPyhlLmhvc3RuYW1lPXQuc3Vic3RyaW5nKDAsbil8fG51bGwsZS5wb3J0PW51bGwpOihyPXQuc3Vic3RyaW5nKDAsbikuc3BsaXQoXCI6XCIpLGUuaG9zdG5hbWU9clswXXx8bnVsbCxlLnBvcnQ9clsxXXx8bnVsbCl9cmV0dXJuIGUuaG9zdG5hbWUmJlwiL1wiIT09dC5zdWJzdHJpbmcobikuY2hhckF0KDApJiYobisrLHQ9XCIvXCIrdCksdC5zdWJzdHJpbmcobil8fFwiL1wifSxuLmZ1PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ9bi52dSh0LGUpLG4uZ3UodCxlKX0sbi52dT1mdW5jdGlvbih0LGUpe3ZhciBpLHI9dC5pbmRleE9mKFwiL1wiKSxvPXQubGFzdEluZGV4T2YoXCJAXCIscj4tMT9yOnQubGVuZ3RoLTEpO3JldHVybiBvPi0xJiYocj09PS0xfHxvPHIpPyhpPXQuc3Vic3RyaW5nKDAsbykuc3BsaXQoXCI6XCIpLGUudXNlcm5hbWU9aVswXT9uLmRlY29kZShpWzBdKTpudWxsLGkuc2hpZnQoKSxlLnBhc3N3b3JkPWlbMF0/bi5kZWNvZGUoaS5qb2luKFwiOlwiKSk6bnVsbCx0PXQuc3Vic3RyaW5nKG8rMSkpOihlLnVzZXJuYW1lPW51bGwsZS5wYXNzd29yZD1udWxsKSx0fSxuLnl1PWZ1bmN0aW9uKHQsZSl7aWYoIXQpcmV0dXJue307aWYodD10LnJlcGxhY2UoLyYrL2csXCImXCIpLnJlcGxhY2UoL15cXD8qJip8JiskL2csXCJcIiksIXQpcmV0dXJue307Zm9yKHZhciBpLHIsbyxzPXt9LGE9dC5zcGxpdChcIiZcIiksYz1hLmxlbmd0aCxoPTA7aDxjO2grKylpPWFbaF0uc3BsaXQoXCI9XCIpLHI9bi5jdShpLnNoaWZ0KCksZSksbz1pLmxlbmd0aD9uLmN1KGkuam9pbihcIj1cIiksZSk6bnVsbCxtLmNhbGwocyxyKT8oXCJzdHJpbmdcIiE9dHlwZW9mIHNbcl0mJm51bGwhPT1zW3JdfHwoc1tyXT1bc1tyXV0pLHNbcl0ucHVzaChvKSk6c1tyXT1vO3JldHVybiBzfSxuLnBwPWZ1bmN0aW9uKHQpe3ZhciBlPVwiXCI7cmV0dXJuIHQucHJvdG9jb2wmJihlKz10LnByb3RvY29sK1wiOlwiKSx0LnVybnx8IWUmJiF0Lmhvc3RuYW1lfHwoZSs9XCIvL1wiKSxlKz1uLm11KHQpfHxcIlwiLFwic3RyaW5nXCI9PXR5cGVvZiB0LnBhdGgmJihcIi9cIiE9PXQucGF0aC5jaGFyQXQoMCkmJlwic3RyaW5nXCI9PXR5cGVvZiB0Lmhvc3RuYW1lJiYoZSs9XCIvXCIpLGUrPXQucGF0aCksXCJzdHJpbmdcIj09dHlwZW9mIHQudmkmJnQudmkmJihlKz1cIj9cIit0LnZpKSxcInN0cmluZ1wiPT10eXBlb2YgdC5scCYmdC5scCYmKGUrPVwiI1wiK3QubHApLGV9LG4ud3U9ZnVuY3Rpb24odCl7dmFyIGU9XCJcIjtyZXR1cm4gdC5ob3N0bmFtZT8oZSs9bi53cC50ZXN0KHQuaG9zdG5hbWUpP1wiW1wiK3QuaG9zdG5hbWUrXCJdXCI6dC5ob3N0bmFtZSx0LnBvcnQmJihlKz1cIjpcIit0LnBvcnQpLGUpOlwiXCJ9LG4ubXU9ZnVuY3Rpb24odCl7cmV0dXJuIG4uVHUodCkrbi53dSh0KX0sbi5UdT1mdW5jdGlvbih0KXt2YXIgZT1cIlwiO3JldHVybiB0LnVzZXJuYW1lJiYoZSs9bi5lbmNvZGUodC51c2VybmFtZSkpLHQucGFzc3dvcmQmJihlKz1cIjpcIituLmVuY29kZSh0LnBhc3N3b3JkKSksZSYmKGUrPVwiQFwiKSxlfSxuLlN1PWZ1bmN0aW9uKHQsZSxpKXt2YXIgcixvLHMsYyxoPVwiXCI7Zm9yKG8gaW4gdClpZihtLmNhbGwodCxvKSYmbylpZihhKHRbb10pKWZvcihyPXt9LHM9MCxjPXRbb10ubGVuZ3RoO3M8YztzKyspdm9pZCAwIT09dFtvXVtzXSYmdm9pZCAwPT09clt0W29dW3NdK1wiXCJdJiYoaCs9XCImXCIrbi5idShvLHRbb11bc10saSksZSE9PSEwJiYoclt0W29dW3NdK1wiXCJdPSEwKSk7ZWxzZSB2b2lkIDAhPT10W29dJiYoaCs9XCImXCIrbi5idShvLHRbb10saSkpO3JldHVybiBoLnN1YnN0cmluZygxKX0sbi5idT1mdW5jdGlvbih0LGUsaSl7cmV0dXJuIG4uYXUodCxpKSsobnVsbCE9PWU/XCI9XCIrbi5hdShlLGkpOlwiXCIpfSxuLkV1PWZ1bmN0aW9uKHQsZSxpKXtpZihcIm9iamVjdFwiPT10eXBlb2YgZSlmb3IodmFyIHIgaW4gZSltLmNhbGwoZSxyKSYmbi5FdSh0LHIsZVtyXSk7ZWxzZXtpZihcInN0cmluZ1wiIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiVVJJLmFkZFF1ZXJ5KCkgYWNjZXB0cyBhbiBvYmplY3QsIHN0cmluZyBhcyB0aGUgbmFtZSBwYXJhbWV0ZXJcIik7aWYodm9pZCAwPT09dFtlXSlyZXR1cm4gdm9pZCh0W2VdPWkpO1wic3RyaW5nXCI9PXR5cGVvZiB0W2VdJiYodFtlXT1bdFtlXV0pLGEoaSl8fChpPVtpXSksdFtlXT0odFtlXXx8W10pLmNvbmNhdChpKX19LG4uSXU9ZnVuY3Rpb24odCxlLGkpe3ZhciByLG8saDtpZihhKGUpKWZvcihyPTAsbz1lLmxlbmd0aDtyPG87cisrKXRbZVtyXV09dm9pZCAwO2Vsc2UgaWYoXCJSZWdFeHBcIj09PXMoZSkpZm9yKGggaW4gdCllLnRlc3QoaCkmJih0W2hdPXZvaWQgMCk7ZWxzZSBpZihcIm9iamVjdFwiPT10eXBlb2YgZSlmb3IoaCBpbiBlKW0uY2FsbChlLGgpJiZuLkl1KHQsaCxlW2hdKTtlbHNle2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoXCJVUkkucmVtb3ZlUXVlcnkoKSBhY2NlcHRzIGFuIG9iamVjdCwgc3RyaW5nLCBSZWdFeHAgYXMgdGhlIGZpcnN0IHBhcmFtZXRlclwiKTt2b2lkIDAhPT1pP1wiUmVnRXhwXCI9PT1zKGkpPyFhKHRbZV0pJiZpLnRlc3QodFtlXSk/dFtlXT12b2lkIDA6dFtlXT1jKHRbZV0saSk6dFtlXSE9PVN0cmluZyhpKXx8YShpKSYmMSE9PWkubGVuZ3RoP2EodFtlXSkmJih0W2VdPWModFtlXSxpKSk6dFtlXT12b2lkIDA6dFtlXT12b2lkIDB9fSxuLlJ1PWZ1bmN0aW9uKHQsZSxpLHIpe3N3aXRjaChzKGUpKXtjYXNlXCJTdHJpbmdcIjpicmVhaztjYXNlXCJSZWdFeHBcIjpmb3IodmFyIG8gaW4gdClpZihtLmNhbGwodCxvKSYmZS50ZXN0KG8pJiYodm9pZCAwPT09aXx8bi5SdSh0LG8saSkpKXJldHVybiEwO3JldHVybiExO2Nhc2VcIk9iamVjdFwiOmZvcih2YXIgYyBpbiBlKWlmKG0uY2FsbChlLGMpJiYhbi5SdSh0LGMsZVtjXSkpcmV0dXJuITE7cmV0dXJuITA7ZGVmYXVsdDp0aHJvdyBuZXcgVHlwZUVycm9yKFwiVVJJLmhhc1F1ZXJ5KCkgYWNjZXB0cyBhIHN0cmluZywgcmVndWxhciBleHByZXNzaW9uIG9yIG9iamVjdCBhcyB0aGUgbmFtZSBwYXJhbWV0ZXJcIil9c3dpdGNoKHMoaSkpe2Nhc2VcIlVuZGVmaW5lZFwiOnJldHVybiBlIGluIHQ7Y2FzZVwiQm9vbGVhblwiOnZhciB1PUJvb2xlYW4oYSh0W2VdKT90W2VdLmxlbmd0aDp0W2VdKTtyZXR1cm4gaT09PXU7Y2FzZVwiRnVuY3Rpb25cIjpyZXR1cm4hIWkodFtlXSxlLHQpO2Nhc2VcIkFycmF5XCI6aWYoIWEodFtlXSkpcmV0dXJuITE7dmFyIGw9cj9oOnA7cmV0dXJuIGwodFtlXSxpKTtjYXNlXCJSZWdFeHBcIjpyZXR1cm4gYSh0W2VdKT8hIXImJmgodFtlXSxpKTpCb29sZWFuKHRbZV0mJnRbZV0ubWF0Y2goaSkpO2Nhc2VcIk51bWJlclwiOmk9U3RyaW5nKGkpO2Nhc2VcIlN0cmluZ1wiOnJldHVybiBhKHRbZV0pPyEhciYmaCh0W2VdLGkpOnRbZV09PT1pO2RlZmF1bHQ6dGhyb3cgbmV3IFR5cGVFcnJvcihcIlVSSS5oYXNRdWVyeSgpIGFjY2VwdHMgdW5kZWZpbmVkLCBib29sZWFuLCBzdHJpbmcsIG51bWJlciwgUmVnRXhwLCBGdW5jdGlvbiBhcyB0aGUgdmFsdWUgcGFyYW1ldGVyXCIpfX0sbi5rdT1mdW5jdGlvbigpe2Zvcih2YXIgdD1bXSxlPVtdLGk9MCxyPTA7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyl7dmFyIG89bmV3IG4oYXJndW1lbnRzW3JdKTt0LnB1c2gobyk7Zm9yKHZhciBzPW8uQ3UoKSxhPTA7YTxzLmxlbmd0aDthKyspXCJzdHJpbmdcIj09dHlwZW9mIHNbYV0mJmUucHVzaChzW2FdKSxzW2FdJiZpKyt9aWYoIWUubGVuZ3RofHwhaSlyZXR1cm4gbmV3IG4oXCJcIik7dmFyIGM9bmV3IG4oXCJcIikuQ3UoZSk7cmV0dXJuXCJcIiE9PXRbMF0ucGF0aCgpJiZcIi9cIiE9PXRbMF0ucGF0aCgpLnNsaWNlKDAsMSl8fGMucGF0aChcIi9cIitjLnBhdGgoKSksYy5ub3JtYWxpemUoKX0sbi5PdT1mdW5jdGlvbih0LGUpe3ZhciBpLHI9TWF0aC5taW4odC5sZW5ndGgsZS5sZW5ndGgpO2ZvcihpPTA7aTxyO2krKylpZih0LmNoYXJBdChpKSE9PWUuY2hhckF0KGkpKXtpLS07YnJlYWt9cmV0dXJuIGk8MT90LmNoYXJBdCgwKT09PWUuY2hhckF0KDApJiZcIi9cIj09PXQuY2hhckF0KDApP1wiL1wiOlwiXCI6KFwiL1wiPT09dC5jaGFyQXQoaSkmJlwiL1wiPT09ZS5jaGFyQXQoaSl8fChpPXQuc3Vic3RyaW5nKDAsaSkubGFzdEluZGV4T2YoXCIvXCIpKSx0LnN1YnN0cmluZygwLGkrMSkpfSxuLlB1PWZ1bmN0aW9uKHQsZSxpKXtpfHwoaT17fSk7dmFyIHI9aS5zdGFydHx8bi5TcC5zdGFydCxvPWkuZW5kfHxuLlNwLmVuZCxzPWkudHJpbXx8bi5TcC50cmltLGE9aS5icHx8bi5TcC5icCxjPS9bYS16MC05LV09W1wiJ10/JC9pO2ZvcihyLmxhc3RJbmRleD0wOzspe3ZhciBoPXIuZXhlYyh0KTtpZighaClicmVhazt2YXIgcD1oLmluZGV4O2lmKGkuaWdub3JlSHRtbCl7dmFyIHU9dC5zbGljZShNYXRoLm1heChwLTMsMCkscCk7aWYodSYmYy50ZXN0KHUpKWNvbnRpbnVlfWZvcih2YXIgbD1wK3Quc2xpY2UocCkuc2VhcmNoKG8pLGQ9dC5zbGljZShwLGwpLGY9LTE7Oyl7dmFyIGc9YS5leGVjKGQpO2lmKCFnKWJyZWFrO3ZhciB2PWcuaW5kZXgrZ1swXS5sZW5ndGg7Zj1NYXRoLm1heChmLHYpfWlmKGQ9Zj4tMT9kLnNsaWNlKDAsZikrZC5zbGljZShmKS5yZXBsYWNlKHMsXCJcIik6ZC5yZXBsYWNlKHMsXCJcIiksIShkLmxlbmd0aDw9aFswXS5sZW5ndGh8fGkuaWdub3JlJiZpLmlnbm9yZS50ZXN0KGQpKSl7bD1wK2QubGVuZ3RoO3ZhciB5PWUoZCxwLGwsdCk7dm9pZCAwIT09eT8oeT1TdHJpbmcoeSksdD10LnNsaWNlKDAscCkreSt0LnNsaWNlKGwpLHIubGFzdEluZGV4PXAreS5sZW5ndGgpOnIubGFzdEluZGV4PWx9fXJldHVybiByLmxhc3RJbmRleD0wLHR9LG4uQXU9ZnVuY3Rpb24oZSl7aWYoZS5tYXRjaChuLkFwKSl7aWYoIXQpdGhyb3cgbmV3IFR5cGVFcnJvcignSG9zdG5hbWUgXCInK2UrJ1wiIGNvbnRhaW5zIGNoYXJhY3RlcnMgb3RoZXIgdGhhbiBbQS1aMC05Li1dIGFuZCBQdW55Y29kZS5qcyBpcyBub3QgYXZhaWxhYmxlJyk7aWYodC50b0FTQ0lJKGUpLm1hdGNoKG4uQXApKXRocm93IG5ldyBUeXBlRXJyb3IoJ0hvc3RuYW1lIFwiJytlKydcIiBjb250YWlucyBjaGFyYWN0ZXJzIG90aGVyIHRoYW4gW0EtWjAtOS4tXScpfX0sbi5nZT1mdW5jdGlvbih0KXtpZih0KXt2YXIgZT17dXA6dGhpcy5nZSgpfTtyZXR1cm4gci5OdSYmXCJmdW5jdGlvblwiPT10eXBlb2Ygci5OdS5nZSYmKGUuTnU9ci5OdS5nZSgpKSxyLnh1JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiByLnh1LmdlJiYoZS54dT1yLnh1LmdlKCkpLHIuQnUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHIuQnUuZ2UmJihlLkJ1PXIuQnUuZ2UoKSksZX1yZXR1cm4gci51cD09PXRoaXMmJihyLnVwPXYpLHRoaXN9LHkucHA9ZnVuY3Rpb24odCl7cmV0dXJuIHQ9PT0hMD90aGlzLkZ1PSEwOih2b2lkIDA9PT10fHx0aGlzLkZ1KSYmKHRoaXMuX3U9bi5wcCh0aGlzLmhwKSx0aGlzLkZ1PSExKSx0aGlzfSx5LmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBuKHRoaXMpfSx5LnZhbHVlT2Y9eS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBwKCExKS5fdX0seS5wcm90b2NvbD1mKFwicHJvdG9jb2xcIikseS51c2VybmFtZT1mKFwidXNlcm5hbWVcIikseS5wYXNzd29yZD1mKFwicGFzc3dvcmRcIikseS5ob3N0bmFtZT1mKFwiaG9zdG5hbWVcIikseS5wb3J0PWYoXCJwb3J0XCIpLHkudmk9ZyhcInF1ZXJ5XCIsXCI/XCIpLHkubHA9ZyhcImZyYWdtZW50XCIsXCIjXCIpLHkuc2VhcmNoPWZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy52aSh0LGUpO3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBpJiZpLmxlbmd0aD9cIj9cIitpOml9LHkuaGFzaD1mdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMubHAodCxlKTtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgaSYmaS5sZW5ndGg/XCIjXCIraTppfSx5LnBhdGhuYW1lPWZ1bmN0aW9uKHQsZSl7aWYodm9pZCAwPT09dHx8dD09PSEwKXt2YXIgaT10aGlzLmhwLnBhdGh8fCh0aGlzLmhwLmhvc3RuYW1lP1wiL1wiOlwiXCIpO3JldHVybiB0Pyh0aGlzLmhwLnVybj9uLnB1Om4uaHUpKGkpOml9cmV0dXJuIHRoaXMuaHAudXJuP3RoaXMuaHAucGF0aD10P24ubHUodCk6XCJcIjp0aGlzLmhwLnBhdGg9dD9uLnV1KHQpOlwiL1wiLHRoaXMucHAoIWUpLHRoaXN9LHkucGF0aD15LnBhdGhuYW1lLHkuaHJlZj1mdW5jdGlvbih0LGUpe3ZhciBpO2lmKHZvaWQgMD09PXQpcmV0dXJuIHRoaXMudG9TdHJpbmcoKTt0aGlzLl91PVwiXCIsdGhpcy5ocD1uLmhwKCk7dmFyIHI9dCBpbnN0YW5jZW9mIG4sbz1cIm9iamVjdFwiPT10eXBlb2YgdCYmKHQuaG9zdG5hbWV8fHQucGF0aHx8dC5wYXRobmFtZSk7aWYodC5ub2RlTmFtZSl7dmFyIHM9bi5qcCh0KTt0PXRbc118fFwiXCIsbz0hMX1pZighciYmbyYmdm9pZCAwIT09dC5wYXRobmFtZSYmKHQ9dC50b1N0cmluZygpKSxcInN0cmluZ1wiPT10eXBlb2YgdHx8dCBpbnN0YW5jZW9mIFN0cmluZyl0aGlzLmhwPW4ucGFyc2UoU3RyaW5nKHQpLHRoaXMuaHApO2Vsc2V7aWYoIXImJiFvKXRocm93IG5ldyBUeXBlRXJyb3IoXCJpbnZhbGlkIGlucHV0XCIpO3ZhciBhPXI/dC5ocDp0O2ZvcihpIGluIGEpbS5jYWxsKHRoaXMuaHAsaSkmJih0aGlzLmhwW2ldPWFbaV0pfXJldHVybiB0aGlzLnBwKCFlKSx0aGlzfSx5LmlzPWZ1bmN0aW9uKHQpe3ZhciBlPSExLHI9ITEsbz0hMSxzPSExLGE9ITEsYz0hMSxoPSExLHA9IXRoaXMuaHAudXJuO3N3aXRjaCh0aGlzLmhwLmhvc3RuYW1lJiYocD0hMSxyPW4ubXAudGVzdCh0aGlzLmhwLmhvc3RuYW1lKSxvPW4ud3AudGVzdCh0aGlzLmhwLmhvc3RuYW1lKSxlPXJ8fG8scz0hZSxhPXMmJmkmJmkuaGFzKHRoaXMuaHAuaG9zdG5hbWUpLGM9cyYmbi52cC50ZXN0KHRoaXMuaHAuaG9zdG5hbWUpLGg9cyYmbi55cC50ZXN0KHRoaXMuaHAuaG9zdG5hbWUpKSx0LnRvTG93ZXJDYXNlKCkpe2Nhc2VcInJlbGF0aXZlXCI6cmV0dXJuIHA7Y2FzZVwiYWJzb2x1dGVcIjpyZXR1cm4hcDtjYXNlXCJkb21haW5cIjpjYXNlXCJuYW1lXCI6cmV0dXJuIHM7Y2FzZVwic2xkXCI6cmV0dXJuIGE7Y2FzZVwiaXBcIjpyZXR1cm4gZTtjYXNlXCJpcDRcIjpjYXNlXCJpcHY0XCI6Y2FzZVwiaW5ldDRcIjpyZXR1cm4gcjtjYXNlXCJpcDZcIjpjYXNlXCJpcHY2XCI6Y2FzZVwiaW5ldDZcIjpyZXR1cm4gbztjYXNlXCJpZG5cIjpyZXR1cm4gYztjYXNlXCJ1cmxcIjpyZXR1cm4hdGhpcy5ocC51cm47Y2FzZVwidXJuXCI6cmV0dXJuISF0aGlzLmhwLnVybjtjYXNlXCJwdW55Y29kZVwiOnJldHVybiBofXJldHVybiBudWxsfTt2YXIgRT15LnByb3RvY29sLEk9eS5wb3J0LFI9eS5ob3N0bmFtZTt5LnByb3RvY29sPWZ1bmN0aW9uKHQsZSl7aWYodm9pZCAwIT09dCYmdCYmKHQ9dC5yZXBsYWNlKC86KFxcL1xcLyk/JC8sXCJcIiksIXQubWF0Y2gobi5ncCkpKXRocm93IG5ldyBUeXBlRXJyb3IoJ1Byb3RvY29sIFwiJyt0K1wiXFxcIiBjb250YWlucyBjaGFyYWN0ZXJzIG90aGVyIHRoYW4gW0EtWjAtOS4rLV0gb3IgZG9lc24ndCBzdGFydCB3aXRoIFtBLVpdXCIpO3JldHVybiBFLmNhbGwodGhpcyx0LGUpfSx5LnNjaGVtZT15LnByb3RvY29sLHkucG9ydD1mdW5jdGlvbih0LGUpe2lmKHRoaXMuaHAudXJuKXJldHVybiB2b2lkIDA9PT10P1wiXCI6dGhpcztpZih2b2lkIDAhPT10JiYoMD09PXQmJih0PW51bGwpLHQmJih0Kz1cIlwiLFwiOlwiPT09dC5jaGFyQXQoMCkmJih0PXQuc3Vic3RyaW5nKDEpKSx0Lm1hdGNoKC9bXjAtOV0vKSkpKXRocm93IG5ldyBUeXBlRXJyb3IoJ1BvcnQgXCInK3QrJ1wiIGNvbnRhaW5zIGNoYXJhY3RlcnMgb3RoZXIgdGhhbiBbMC05XScpO3JldHVybiBJLmNhbGwodGhpcyx0LGUpfSx5Lmhvc3RuYW1lPWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5ocC51cm4pcmV0dXJuIHZvaWQgMD09PXQ/XCJcIjp0aGlzO2lmKHZvaWQgMCE9PXQpe3ZhciBpPXt9LHI9bi5ndSh0LGkpO2lmKFwiL1wiIT09cil0aHJvdyBuZXcgVHlwZUVycm9yKCdIb3N0bmFtZSBcIicrdCsnXCIgY29udGFpbnMgY2hhcmFjdGVycyBvdGhlciB0aGFuIFtBLVowLTkuLV0nKTt0PWkuaG9zdG5hbWV9cmV0dXJuIFIuY2FsbCh0aGlzLHQsZSl9LHkub3JpZ2luPWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5ocC51cm4pcmV0dXJuIHZvaWQgMD09PXQ/XCJcIjp0aGlzO2lmKHZvaWQgMD09PXQpe3ZhciBpPXRoaXMucHJvdG9jb2woKSxyPXRoaXMuRHUoKTtyZXR1cm4gcj8oaT9pK1wiOi8vXCI6XCJcIikrdGhpcy5EdSgpOlwiXCJ9dmFyIG89bih0KTtyZXR1cm4gdGhpcy5wcm90b2NvbChvLnByb3RvY29sKCkpLkR1KG8uRHUoKSkucHAoIWUpLHRoaXN9LHkuaG9zdD1mdW5jdGlvbih0LGUpe2lmKHRoaXMuaHAudXJuKXJldHVybiB2b2lkIDA9PT10P1wiXCI6dGhpcztpZih2b2lkIDA9PT10KXJldHVybiB0aGlzLmhwLmhvc3RuYW1lP24ud3UodGhpcy5ocCk6XCJcIjt2YXIgaT1uLmd1KHQsdGhpcy5ocCk7aWYoXCIvXCIhPT1pKXRocm93IG5ldyBUeXBlRXJyb3IoJ0hvc3RuYW1lIFwiJyt0KydcIiBjb250YWlucyBjaGFyYWN0ZXJzIG90aGVyIHRoYW4gW0EtWjAtOS4tXScpO3JldHVybiB0aGlzLnBwKCFlKSx0aGlzfSx5LkR1PWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5ocC51cm4pcmV0dXJuIHZvaWQgMD09PXQ/XCJcIjp0aGlzO2lmKHZvaWQgMD09PXQpcmV0dXJuIHRoaXMuaHAuaG9zdG5hbWU/bi5tdSh0aGlzLmhwKTpcIlwiO3ZhciBpPW4uZnUodCx0aGlzLmhwKTtpZihcIi9cIiE9PWkpdGhyb3cgbmV3IFR5cGVFcnJvcignSG9zdG5hbWUgXCInK3QrJ1wiIGNvbnRhaW5zIGNoYXJhY3RlcnMgb3RoZXIgdGhhbiBbQS1aMC05Li1dJyk7cmV0dXJuIHRoaXMucHAoIWUpLHRoaXN9LHkuSHU9ZnVuY3Rpb24odCxlKXtpZih0aGlzLmhwLnVybilyZXR1cm4gdm9pZCAwPT09dD9cIlwiOnRoaXM7aWYodm9pZCAwPT09dCl7dmFyIGk9bi5UdSh0aGlzLmhwKTtyZXR1cm4gaT9pLnN1YnN0cmluZygwLGkubGVuZ3RoLTEpOml9cmV0dXJuXCJAXCIhPT10W3QubGVuZ3RoLTFdJiYodCs9XCJAXCIpLG4udnUodCx0aGlzLmhwKSx0aGlzLnBwKCFlKSx0aGlzfSx5Lkx1PWZ1bmN0aW9uKHQsZSl7dmFyIGk7cmV0dXJuIHZvaWQgMD09PXQ/dGhpcy5wYXRoKCkrdGhpcy5zZWFyY2goKSt0aGlzLmhhc2goKTooaT1uLnBhcnNlKHQpLHRoaXMuaHAucGF0aD1pLnBhdGgsdGhpcy5ocC52aT1pLnZpLHRoaXMuaHAubHA9aS5scCx0aGlzLnBwKCFlKSx0aGlzKX0seS5NdT1mdW5jdGlvbih0LGUpe2lmKHRoaXMuaHAudXJuKXJldHVybiB2b2lkIDA9PT10P1wiXCI6dGhpcztpZih2b2lkIDA9PT10KXtpZighdGhpcy5ocC5ob3N0bmFtZXx8dGhpcy5pcyhcIklQXCIpKXJldHVyblwiXCI7dmFyIGk9dGhpcy5ocC5ob3N0bmFtZS5sZW5ndGgtdGhpcy5kb21haW4oKS5sZW5ndGgtMTtyZXR1cm4gdGhpcy5ocC5ob3N0bmFtZS5zdWJzdHJpbmcoMCxpKXx8XCJcIn12YXIgcj10aGlzLmhwLmhvc3RuYW1lLmxlbmd0aC10aGlzLmRvbWFpbigpLmxlbmd0aCxzPXRoaXMuaHAuaG9zdG5hbWUuc3Vic3RyaW5nKDAsciksYT1uZXcgUmVnRXhwKFwiXlwiK28ocykpO3JldHVybiB0JiZcIi5cIiE9PXQuY2hhckF0KHQubGVuZ3RoLTEpJiYodCs9XCIuXCIpLHQmJm4uQXUodCksdGhpcy5ocC5ob3N0bmFtZT10aGlzLmhwLmhvc3RuYW1lLnJlcGxhY2UoYSx0KSx0aGlzLnBwKCFlKSx0aGlzfSx5LmRvbWFpbj1mdW5jdGlvbih0LGUpe2lmKHRoaXMuaHAudXJuKXJldHVybiB2b2lkIDA9PT10P1wiXCI6dGhpcztpZihcImJvb2xlYW5cIj09dHlwZW9mIHQmJihlPXQsdD12b2lkIDApLHZvaWQgMD09PXQpe2lmKCF0aGlzLmhwLmhvc3RuYW1lfHx0aGlzLmlzKFwiSVBcIikpcmV0dXJuXCJcIjt2YXIgaT10aGlzLmhwLmhvc3RuYW1lLm1hdGNoKC9cXC4vZyk7aWYoaSYmaS5sZW5ndGg8MilyZXR1cm4gdGhpcy5ocC5ob3N0bmFtZTt2YXIgcj10aGlzLmhwLmhvc3RuYW1lLmxlbmd0aC10aGlzLmp1KGUpLmxlbmd0aC0xO3JldHVybiByPXRoaXMuaHAuaG9zdG5hbWUubGFzdEluZGV4T2YoXCIuXCIsci0xKSsxLHRoaXMuaHAuaG9zdG5hbWUuc3Vic3RyaW5nKHIpfHxcIlwifWlmKCF0KXRocm93IG5ldyBUeXBlRXJyb3IoXCJjYW5ub3Qgc2V0IGRvbWFpbiBlbXB0eVwiKTtpZihuLkF1KHQpLCF0aGlzLmhwLmhvc3RuYW1lfHx0aGlzLmlzKFwiSVBcIikpdGhpcy5ocC5ob3N0bmFtZT10O2Vsc2V7dmFyIHM9bmV3IFJlZ0V4cChvKHRoaXMuZG9tYWluKCkpK1wiJFwiKTt0aGlzLmhwLmhvc3RuYW1lPXRoaXMuaHAuaG9zdG5hbWUucmVwbGFjZShzLHQpfXJldHVybiB0aGlzLnBwKCFlKSx0aGlzfSx5Lmp1PWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5ocC51cm4pcmV0dXJuIHZvaWQgMD09PXQ/XCJcIjp0aGlzO2lmKFwiYm9vbGVhblwiPT10eXBlb2YgdCYmKGU9dCx0PXZvaWQgMCksdm9pZCAwPT09dCl7aWYoIXRoaXMuaHAuaG9zdG5hbWV8fHRoaXMuaXMoXCJJUFwiKSlyZXR1cm5cIlwiO3ZhciByPXRoaXMuaHAuaG9zdG5hbWUubGFzdEluZGV4T2YoXCIuXCIpLG49dGhpcy5ocC5ob3N0bmFtZS5zdWJzdHJpbmcocisxKTtyZXR1cm4gZSE9PSEwJiZpJiZpLmxpc3Rbbi50b0xvd2VyQ2FzZSgpXT9pLmdldCh0aGlzLmhwLmhvc3RuYW1lKXx8bjpufXZhciBzO2lmKCF0KXRocm93IG5ldyBUeXBlRXJyb3IoXCJjYW5ub3Qgc2V0IFRMRCBlbXB0eVwiKTtpZih0Lm1hdGNoKC9bXmEtekEtWjAtOS1dLykpe2lmKCFpfHwhaS5pcyh0KSl0aHJvdyBuZXcgVHlwZUVycm9yKCdUTEQgXCInK3QrJ1wiIGNvbnRhaW5zIGNoYXJhY3RlcnMgb3RoZXIgdGhhbiBbQS1aMC05XScpO3M9bmV3IFJlZ0V4cChvKHRoaXMuanUoKSkrXCIkXCIpLHRoaXMuaHAuaG9zdG5hbWU9dGhpcy5ocC5ob3N0bmFtZS5yZXBsYWNlKHMsdCl9ZWxzZXtpZighdGhpcy5ocC5ob3N0bmFtZXx8dGhpcy5pcyhcIklQXCIpKXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcImNhbm5vdCBzZXQgVExEIG9uIG5vbi1kb21haW4gaG9zdFwiKTtzPW5ldyBSZWdFeHAobyh0aGlzLmp1KCkpK1wiJFwiKSx0aGlzLmhwLmhvc3RuYW1lPXRoaXMuaHAuaG9zdG5hbWUucmVwbGFjZShzLHQpfXJldHVybiB0aGlzLnBwKCFlKSx0aGlzfSx5LlV1PWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5ocC51cm4pcmV0dXJuIHZvaWQgMD09PXQ/XCJcIjp0aGlzO2lmKHZvaWQgMD09PXR8fHQ9PT0hMCl7aWYoIXRoaXMuaHAucGF0aCYmIXRoaXMuaHAuaG9zdG5hbWUpcmV0dXJuXCJcIjtpZihcIi9cIj09PXRoaXMuaHAucGF0aClyZXR1cm5cIi9cIjt2YXIgaT10aGlzLmhwLnBhdGgubGVuZ3RoLXRoaXMuZmlsZW5hbWUoKS5sZW5ndGgtMSxyPXRoaXMuaHAucGF0aC5zdWJzdHJpbmcoMCxpKXx8KHRoaXMuaHAuaG9zdG5hbWU/XCIvXCI6XCJcIik7cmV0dXJuIHQ/bi5odShyKTpyfXZhciBzPXRoaXMuaHAucGF0aC5sZW5ndGgtdGhpcy5maWxlbmFtZSgpLmxlbmd0aCxhPXRoaXMuaHAucGF0aC5zdWJzdHJpbmcoMCxzKSxjPW5ldyBSZWdFeHAoXCJeXCIrbyhhKSk7cmV0dXJuIHRoaXMuaXMoXCJyZWxhdGl2ZVwiKXx8KHR8fCh0PVwiL1wiKSxcIi9cIiE9PXQuY2hhckF0KDApJiYodD1cIi9cIit0KSksdCYmXCIvXCIhPT10LmNoYXJBdCh0Lmxlbmd0aC0xKSYmKHQrPVwiL1wiKSx0PW4udXUodCksdGhpcy5ocC5wYXRoPXRoaXMuaHAucGF0aC5yZXBsYWNlKGMsdCksdGhpcy5wcCghZSksdGhpc30seS5maWxlbmFtZT1mdW5jdGlvbih0LGUpe2lmKHRoaXMuaHAudXJuKXJldHVybiB2b2lkIDA9PT10P1wiXCI6dGhpcztpZihcInN0cmluZ1wiIT10eXBlb2YgdCl7aWYoIXRoaXMuaHAucGF0aHx8XCIvXCI9PT10aGlzLmhwLnBhdGgpcmV0dXJuXCJcIjt2YXIgaT10aGlzLmhwLnBhdGgubGFzdEluZGV4T2YoXCIvXCIpLHI9dGhpcy5ocC5wYXRoLnN1YnN0cmluZyhpKzEpO3JldHVybiB0P24uZGVjb2RlUGF0aFNlZ21lbnQocik6cn12YXIgcz0hMTtcIi9cIj09PXQuY2hhckF0KDApJiYodD10LnN1YnN0cmluZygxKSksdC5tYXRjaCgvXFwuP1xcLy8pJiYocz0hMCk7dmFyIGE9bmV3IFJlZ0V4cChvKHRoaXMuZmlsZW5hbWUoKSkrXCIkXCIpO3JldHVybiB0PW4udXUodCksdGhpcy5ocC5wYXRoPXRoaXMuaHAucGF0aC5yZXBsYWNlKGEsdCkscz90aGlzLlZ1KGUpOnRoaXMucHAoIWUpLHRoaXN9LHkuc3VmZml4PWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5ocC51cm4pcmV0dXJuIHZvaWQgMD09PXQ/XCJcIjp0aGlzO2lmKHZvaWQgMD09PXR8fHQ9PT0hMCl7aWYoIXRoaXMuaHAucGF0aHx8XCIvXCI9PT10aGlzLmhwLnBhdGgpcmV0dXJuXCJcIjt2YXIgaSxyLHM9dGhpcy5maWxlbmFtZSgpLGE9cy5sYXN0SW5kZXhPZihcIi5cIik7cmV0dXJuIGE9PT0tMT9cIlwiOihpPXMuc3Vic3RyaW5nKGErMSkscj0vXlthLXowLTklXSskL2kudGVzdChpKT9pOlwiXCIsdD9uLmRlY29kZVBhdGhTZWdtZW50KHIpOnIpfVwiLlwiPT09dC5jaGFyQXQoMCkmJih0PXQuc3Vic3RyaW5nKDEpKTt2YXIgYyxoPXRoaXMuc3VmZml4KCk7aWYoaCljPXQ/bmV3IFJlZ0V4cChvKGgpK1wiJFwiKTpuZXcgUmVnRXhwKG8oXCIuXCIraCkrXCIkXCIpO2Vsc2V7aWYoIXQpcmV0dXJuIHRoaXM7dGhpcy5ocC5wYXRoKz1cIi5cIituLnV1KHQpfXJldHVybiBjJiYodD1uLnV1KHQpLHRoaXMuaHAucGF0aD10aGlzLmhwLnBhdGgucmVwbGFjZShjLHQpKSx0aGlzLnBwKCFlKSx0aGlzfSx5LkN1PWZ1bmN0aW9uKHQsZSxpKXt2YXIgcj10aGlzLmhwLnVybj9cIjpcIjpcIi9cIixuPXRoaXMucGF0aCgpLG89XCIvXCI9PT1uLnN1YnN0cmluZygwLDEpLHM9bi5zcGxpdChyKTtpZih2b2lkIDAhPT10JiZcIm51bWJlclwiIT10eXBlb2YgdCYmKGk9ZSxlPXQsdD12b2lkIDApLHZvaWQgMCE9PXQmJlwibnVtYmVyXCIhPXR5cGVvZiB0KXRocm93IG5ldyBFcnJvcignQmFkIHNlZ21lbnQgXCInK3QrJ1wiLCBtdXN0IGJlIDAtYmFzZWQgaW50ZWdlcicpO2lmKG8mJnMuc2hpZnQoKSx0PDAmJih0PU1hdGgubWF4KHMubGVuZ3RoK3QsMCkpLHZvaWQgMD09PWUpcmV0dXJuIHZvaWQgMD09PXQ/czpzW3RdO2lmKG51bGw9PT10fHx2b2lkIDA9PT1zW3RdKWlmKGEoZSkpe3M9W107Zm9yKHZhciBjPTAsaD1lLmxlbmd0aDtjPGg7YysrKShlW2NdLmxlbmd0aHx8cy5sZW5ndGgmJnNbcy5sZW5ndGgtMV0ubGVuZ3RoKSYmKHMubGVuZ3RoJiYhc1tzLmxlbmd0aC0xXS5sZW5ndGgmJnMucG9wKCkscy5wdXNoKHUoZVtjXSkpKX1lbHNlKGV8fFwic3RyaW5nXCI9PXR5cGVvZiBlKSYmKGU9dShlKSxcIlwiPT09c1tzLmxlbmd0aC0xXT9zW3MubGVuZ3RoLTFdPWU6cy5wdXNoKGUpKTtlbHNlIGU/c1t0XT11KGUpOnMuc3BsaWNlKHQsMSk7cmV0dXJuIG8mJnMudW5zaGlmdChcIlwiKSx0aGlzLnBhdGgocy5qb2luKHIpLGkpfSx5LlF1PWZ1bmN0aW9uKHQsZSxpKXt2YXIgcixvLHM7aWYoXCJudW1iZXJcIiE9dHlwZW9mIHQmJihpPWUsZT10LHQ9dm9pZCAwKSx2b2lkIDA9PT1lKXtpZihyPXRoaXMuQ3UodCxlLGkpLGEocikpZm9yKG89MCxzPXIubGVuZ3RoO288cztvKyspcltvXT1uLmRlY29kZShyW29dKTtlbHNlIHI9dm9pZCAwIT09cj9uLmRlY29kZShyKTp2b2lkIDA7cmV0dXJuIHJ9aWYoYShlKSlmb3Iobz0wLHM9ZS5sZW5ndGg7bzxzO28rKyllW29dPW4uZW5jb2RlKGVbb10pO2Vsc2UgZT1cInN0cmluZ1wiPT10eXBlb2YgZXx8ZSBpbnN0YW5jZW9mIFN0cmluZz9uLmVuY29kZShlKTplO3JldHVybiB0aGlzLkN1KHQsZSxpKX07dmFyIGs9eS52aTtyZXR1cm4geS52aT1mdW5jdGlvbih0LGUpe2lmKHQ9PT0hMClyZXR1cm4gbi55dSh0aGlzLmhwLnZpLHRoaXMuaHAuZnApO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHQpe3ZhciBpPW4ueXUodGhpcy5ocC52aSx0aGlzLmhwLmZwKSxyPXQuY2FsbCh0aGlzLGkpO3JldHVybiB0aGlzLmhwLnZpPW4uU3Uocnx8aSx0aGlzLmhwLmRwLHRoaXMuaHAuZnApLHRoaXMucHAoIWUpLHRoaXN9cmV0dXJuIHZvaWQgMCE9PXQmJlwic3RyaW5nXCIhPXR5cGVvZiB0Pyh0aGlzLmhwLnZpPW4uU3UodCx0aGlzLmhwLmRwLHRoaXMuaHAuZnApLHRoaXMucHAoIWUpLHRoaXMpOmsuY2FsbCh0aGlzLHQsZSl9LHkucXU9ZnVuY3Rpb24odCxlLGkpe3ZhciByPW4ueXUodGhpcy5ocC52aSx0aGlzLmhwLmZwKTtpZihcInN0cmluZ1wiPT10eXBlb2YgdHx8dCBpbnN0YW5jZW9mIFN0cmluZylyW3RdPXZvaWQgMCE9PWU/ZTpudWxsO2Vsc2V7aWYoXCJvYmplY3RcIiE9dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlVSSS5hZGRRdWVyeSgpIGFjY2VwdHMgYW4gb2JqZWN0LCBzdHJpbmcgYXMgdGhlIG5hbWUgcGFyYW1ldGVyXCIpO2Zvcih2YXIgbyBpbiB0KW0uY2FsbCh0LG8pJiYocltvXT10W29dKX1yZXR1cm4gdGhpcy5ocC52aT1uLlN1KHIsdGhpcy5ocC5kcCx0aGlzLmhwLmZwKSxcInN0cmluZ1wiIT10eXBlb2YgdCYmKGk9ZSksdGhpcy5wcCghaSksdGhpc30seS5FdT1mdW5jdGlvbih0LGUsaSl7dmFyIHI9bi55dSh0aGlzLmhwLnZpLHRoaXMuaHAuZnApO3JldHVybiBuLkV1KHIsdCx2b2lkIDA9PT1lP251bGw6ZSksdGhpcy5ocC52aT1uLlN1KHIsdGhpcy5ocC5kcCx0aGlzLmhwLmZwKSxcInN0cmluZ1wiIT10eXBlb2YgdCYmKGk9ZSksdGhpcy5wcCghaSksdGhpc30seS5JdT1mdW5jdGlvbih0LGUsaSl7dmFyIHI9bi55dSh0aGlzLmhwLnZpLHRoaXMuaHAuZnApO3JldHVybiBuLkl1KHIsdCxlKSx0aGlzLmhwLnZpPW4uU3Uocix0aGlzLmhwLmRwLHRoaXMuaHAuZnApLFwic3RyaW5nXCIhPXR5cGVvZiB0JiYoaT1lKSx0aGlzLnBwKCFpKSx0aGlzfSx5LlJ1PWZ1bmN0aW9uKHQsZSxpKXt2YXIgcj1uLnl1KHRoaXMuaHAudmksdGhpcy5ocC5mcCk7cmV0dXJuIG4uUnUocix0LGUsaSl9LHkuSnU9eS5xdSx5Lkt1PXkuRXUseS5HdT15Lkl1LHkuenU9eS5SdSx5Lm5vcm1hbGl6ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmhwLnVybj90aGlzLll1KCExKS5WdSghMSkuJHUoITEpLld1KCExKS5wcCgpOnRoaXMuWXUoITEpLlp1KCExKS5YdSghMSkuVnUoITEpLiR1KCExKS5XdSghMSkucHAoKX0seS5ZdT1mdW5jdGlvbih0KXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgdGhpcy5ocC5wcm90b2NvbCYmKHRoaXMuaHAucHJvdG9jb2w9dGhpcy5ocC5wcm90b2NvbC50b0xvd2VyQ2FzZSgpLHRoaXMucHAoIXQpKSx0aGlzfSx5Llp1PWZ1bmN0aW9uKGkpe3JldHVybiB0aGlzLmhwLmhvc3RuYW1lJiYodGhpcy5pcyhcIklETlwiKSYmdD90aGlzLmhwLmhvc3RuYW1lPXQudG9BU0NJSSh0aGlzLmhwLmhvc3RuYW1lKTp0aGlzLmlzKFwiSVB2NlwiKSYmZSYmKHRoaXMuaHAuaG9zdG5hbWU9ZS5iZXN0KHRoaXMuaHAuaG9zdG5hbWUpKSx0aGlzLmhwLmhvc3RuYW1lPXRoaXMuaHAuaG9zdG5hbWUudG9Mb3dlckNhc2UoKSx0aGlzLnBwKCFpKSksdGhpc30seS5YdT1mdW5jdGlvbih0KXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgdGhpcy5ocC5wcm90b2NvbCYmdGhpcy5ocC5wb3J0PT09bi5FcFt0aGlzLmhwLnByb3RvY29sXSYmKHRoaXMuaHAucG9ydD1udWxsLHRoaXMucHAoIXQpKSx0aGlzfSx5LlZ1PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuaHAucGF0aDtpZighZSlyZXR1cm4gdGhpcztpZih0aGlzLmhwLnVybilyZXR1cm4gdGhpcy5ocC5wYXRoPW4ubHUodGhpcy5ocC5wYXRoKSx0aGlzLnBwKCF0KSx0aGlzO2lmKFwiL1wiPT09dGhpcy5ocC5wYXRoKXJldHVybiB0aGlzO2U9bi51dShlKTt2YXIgaSxyLG8scz1cIlwiO2ZvcihcIi9cIiE9PWUuY2hhckF0KDApJiYoaT0hMCxlPVwiL1wiK2UpLFwiLy4uXCIhPT1lLnNsaWNlKC0zKSYmXCIvLlwiIT09ZS5zbGljZSgtMil8fChlKz1cIi9cIiksZT1lLnJlcGxhY2UoLyhcXC8oXFwuXFwvKSspfChcXC9cXC4kKS9nLFwiL1wiKS5yZXBsYWNlKC9cXC97Mix9L2csXCIvXCIpLGkmJihzPWUuc3Vic3RyaW5nKDEpLm1hdGNoKC9eKFxcLlxcLlxcLykrLyl8fFwiXCIscyYmKHM9c1swXSkpOzspe2lmKHI9ZS5zZWFyY2goL1xcL1xcLlxcLihcXC98JCkvKSxyPT09LTEpYnJlYWs7MCE9PXI/KG89ZS5zdWJzdHJpbmcoMCxyKS5sYXN0SW5kZXhPZihcIi9cIiksbz09PS0xJiYobz1yKSxlPWUuc3Vic3RyaW5nKDAsbykrZS5zdWJzdHJpbmcociszKSk6ZT1lLnN1YnN0cmluZygzKX1yZXR1cm4gaSYmdGhpcy5pcyhcInJlbGF0aXZlXCIpJiYoZT1zK2Uuc3Vic3RyaW5nKDEpKSx0aGlzLmhwLnBhdGg9ZSx0aGlzLnBwKCF0KSx0aGlzfSx5LnRsPXkuVnUseS4kdT1mdW5jdGlvbih0KXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgdGhpcy5ocC52aSYmKHRoaXMuaHAudmkubGVuZ3RoP3RoaXMudmkobi55dSh0aGlzLmhwLnZpLHRoaXMuaHAuZnApKTp0aGlzLmhwLnZpPW51bGwsdGhpcy5wcCghdCkpLHRoaXN9LHkuV3U9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuaHAubHB8fCh0aGlzLmhwLmxwPW51bGwsdGhpcy5wcCghdCkpLHRoaXN9LHkuZWw9eS4kdSx5LmlsPXkuV3UseS5VcD1mdW5jdGlvbigpe3ZhciB0PW4uZW5jb2RlLGU9bi5kZWNvZGU7bi5lbmNvZGU9ZXNjYXBlLG4uZGVjb2RlPWRlY29kZVVSSUNvbXBvbmVudDt0cnl7dGhpcy5ub3JtYWxpemUoKX1maW5hbGx5e24uZW5jb2RlPXQsbi5kZWNvZGU9ZX1yZXR1cm4gdGhpc30seS5WcD1mdW5jdGlvbigpe3ZhciB0PW4uZW5jb2RlLGU9bi5kZWNvZGU7bi5lbmNvZGU9ZCxuLmRlY29kZT11bmVzY2FwZTt0cnl7dGhpcy5ub3JtYWxpemUoKX1maW5hbGx5e24uZW5jb2RlPXQsbi5kZWNvZGU9ZX1yZXR1cm4gdGhpc30seS5ybD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuY2xvbmUoKTtlLnVzZXJuYW1lKFwiXCIpLnBhc3N3b3JkKFwiXCIpLm5vcm1hbGl6ZSgpO3ZhciBpPVwiXCI7aWYoZS5ocC5wcm90b2NvbCYmKGkrPWUuaHAucHJvdG9jb2wrXCI6Ly9cIiksZS5ocC5ob3N0bmFtZSYmKGUuaXMoXCJwdW55Y29kZVwiKSYmdD8oaSs9dC50b1VuaWNvZGUoZS5ocC5ob3N0bmFtZSksZS5ocC5wb3J0JiYoaSs9XCI6XCIrZS5ocC5wb3J0KSk6aSs9ZS5ob3N0KCkpLGUuaHAuaG9zdG5hbWUmJmUuaHAucGF0aCYmXCIvXCIhPT1lLmhwLnBhdGguY2hhckF0KDApJiYoaSs9XCIvXCIpLGkrPWUucGF0aCghMCksZS5ocC52aSl7Zm9yKHZhciByPVwiXCIsbz0wLHM9ZS5ocC52aS5zcGxpdChcIiZcIiksYT1zLmxlbmd0aDtvPGE7bysrKXt2YXIgYz0oc1tvXXx8XCJcIikuc3BsaXQoXCI9XCIpO3IrPVwiJlwiK24uY3UoY1swXSx0aGlzLmhwLmZwKS5yZXBsYWNlKC8mL2csXCIlMjZcIiksdm9pZCAwIT09Y1sxXSYmKHIrPVwiPVwiK24uY3UoY1sxXSx0aGlzLmhwLmZwKS5yZXBsYWNlKC8mL2csXCIlMjZcIikpfWkrPVwiP1wiK3Iuc3Vic3RyaW5nKDEpfXJldHVybiBpKz1uLmN1KGUuaGFzaCgpLCEwKX0seS5jcD1mdW5jdGlvbih0KXt2YXIgZSxpLHIsbz10aGlzLmNsb25lKCkscz1bXCJwcm90b2NvbFwiLFwidXNlcm5hbWVcIixcInBhc3N3b3JkXCIsXCJob3N0bmFtZVwiLFwicG9ydFwiXTtpZih0aGlzLmhwLnVybil0aHJvdyBuZXcgRXJyb3IoXCJVUk5zIGRvIG5vdCBoYXZlIGFueSBnZW5lcmFsbHkgZGVmaW5lZCBoaWVyYXJjaGljYWwgY29tcG9uZW50c1wiKTtpZih0IGluc3RhbmNlb2Ygbnx8KHQ9bmV3IG4odCkpLG8uaHAucHJvdG9jb2wpcmV0dXJuIG87aWYoby5ocC5wcm90b2NvbD10LmhwLnByb3RvY29sLHRoaXMuaHAuaG9zdG5hbWUpcmV0dXJuIG87Zm9yKGk9MDtyPXNbaV07aSsrKW8uaHBbcl09dC5ocFtyXTtyZXR1cm4gby5ocC5wYXRoPyhcIi4uXCI9PT1vLmhwLnBhdGguc3Vic3RyaW5nKC0yKSYmKG8uaHAucGF0aCs9XCIvXCIpLFwiL1wiIT09by5wYXRoKCkuY2hhckF0KDApJiYoZT10LlV1KCksZT1lP2U6MD09PXQucGF0aCgpLmluZGV4T2YoXCIvXCIpP1wiL1wiOlwiXCIsby5ocC5wYXRoPShlP2UrXCIvXCI6XCJcIikrby5ocC5wYXRoLG8uVnUoKSkpOihvLmhwLnBhdGg9dC5ocC5wYXRoLG8uaHAudml8fChvLmhwLnZpPXQuaHAudmkpKSxvLnBwKCksb30seS5ubD1mdW5jdGlvbih0KXt2YXIgZSxpLHIsbyxzLGE9dGhpcy5jbG9uZSgpLm5vcm1hbGl6ZSgpO2lmKGEuaHAudXJuKXRocm93IG5ldyBFcnJvcihcIlVSTnMgZG8gbm90IGhhdmUgYW55IGdlbmVyYWxseSBkZWZpbmVkIGhpZXJhcmNoaWNhbCBjb21wb25lbnRzXCIpO2lmKHQ9bmV3IG4odCkubm9ybWFsaXplKCksZT1hLmhwLGk9dC5ocCxvPWEucGF0aCgpLHM9dC5wYXRoKCksXCIvXCIhPT1vLmNoYXJBdCgwKSl0aHJvdyBuZXcgRXJyb3IoXCJVUkkgaXMgYWxyZWFkeSByZWxhdGl2ZVwiKTtpZihcIi9cIiE9PXMuY2hhckF0KDApKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjYWxjdWxhdGUgYSBVUkkgcmVsYXRpdmUgdG8gYW5vdGhlciByZWxhdGl2ZSBVUklcIik7aWYoZS5wcm90b2NvbD09PWkucHJvdG9jb2wmJihlLnByb3RvY29sPW51bGwpLGUudXNlcm5hbWUhPT1pLnVzZXJuYW1lfHxlLnBhc3N3b3JkIT09aS5wYXNzd29yZClyZXR1cm4gYS5wcCgpO2lmKG51bGwhPT1lLnByb3RvY29sfHxudWxsIT09ZS51c2VybmFtZXx8bnVsbCE9PWUucGFzc3dvcmQpcmV0dXJuIGEucHAoKTtpZihlLmhvc3RuYW1lIT09aS5ob3N0bmFtZXx8ZS5wb3J0IT09aS5wb3J0KXJldHVybiBhLnBwKCk7aWYoZS5ob3N0bmFtZT1udWxsLGUucG9ydD1udWxsLG89PT1zKXJldHVybiBlLnBhdGg9XCJcIixhLnBwKCk7aWYocj1uLk91KG8scyksIXIpcmV0dXJuIGEucHAoKTt2YXIgYz1pLnBhdGguc3Vic3RyaW5nKHIubGVuZ3RoKS5yZXBsYWNlKC9bXlxcL10qJC8sXCJcIikucmVwbGFjZSgvLio/XFwvL2csXCIuLi9cIik7cmV0dXJuIGUucGF0aD1jK2UucGF0aC5zdWJzdHJpbmcoci5sZW5ndGgpfHxcIi4vXCIsYS5wcCgpfSx5Lm9sPWZ1bmN0aW9uKHQpe3ZhciBlLGkscixvPXRoaXMuY2xvbmUoKSxzPW5ldyBuKHQpLGM9e30saD17fSx1PXt9O2lmKG8ubm9ybWFsaXplKCkscy5ub3JtYWxpemUoKSxvLnRvU3RyaW5nKCk9PT1zLnRvU3RyaW5nKCkpcmV0dXJuITA7aWYoZT1vLnZpKCksaT1zLnZpKCksby52aShcIlwiKSxzLnZpKFwiXCIpLG8udG9TdHJpbmcoKSE9PXMudG9TdHJpbmcoKSlyZXR1cm4hMTtpZihlLmxlbmd0aCE9PWkubGVuZ3RoKXJldHVybiExO2M9bi55dShlLHRoaXMuaHAuZnApLGg9bi55dShpLHRoaXMuaHAuZnApO2ZvcihyIGluIGMpaWYobS5jYWxsKGMscikpe2lmKGEoY1tyXSkpe2lmKCFwKGNbcl0saFtyXSkpcmV0dXJuITF9ZWxzZSBpZihjW3JdIT09aFtyXSlyZXR1cm4hMTt1W3JdPSEwfWZvcihyIGluIGgpaWYobS5jYWxsKGgscikmJiF1W3JdKXJldHVybiExO3JldHVybiEwfSx5LmRwPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmhwLmRwPSEhdCx0aGlzfSx5LmZwPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmhwLmZwPSEhdCx0aGlzfSxufSl9LGZ1bmN0aW9uKHQsZSxpKXsvKiEgdXVpZC5qc1xuICogQ29weXJpZ2h0IChjKSAyMDEwLTIwMTIgUm9iZXJ0IEtpZWZmZXJcbiAqIE1JVCBMaWNlbnNlIC0gaHR0cDovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuICovXG4gICFmdW5jdGlvbihlKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKCl7dmFyIHQ9ZS5jcnlwdG98fGUubXNDcnlwdG87aWYoIWgmJnQmJnQuZ2V0UmFuZG9tVmFsdWVzKXRyeXt2YXIgaT1uZXcgVWludDhBcnJheSgxNik7bD1oPWZ1bmN0aW9uKCl7cmV0dXJuIHQuZ2V0UmFuZG9tVmFsdWVzKGkpLGl9LGgoKX1jYXRjaChyKXt9aWYoIWgpe3ZhciBuPW5ldyBBcnJheSgxNik7cD1oPWZ1bmN0aW9uKCl7Zm9yKHZhciB0LGU9MDtlPDE2O2UrKykwPT09KDMmZSkmJih0PTQyOTQ5NjcyOTYqTWF0aC5yYW5kb20oKSksbltlXT10Pj4+KCgzJmUpPDwzKSYyNTU7cmV0dXJuIG59LFwidW5kZWZpbmVkXCIhPXR5cGVvZiBjb25zb2xlJiZjb25zb2xlLndhcm4mJmNvbnNvbGUud2FybihcIltTRUNVUklUWV0gbm9kZS11dWlkOiBjcnlwdG8gbm90IHVzYWJsZSwgZmFsbGluZyBiYWNrIHRvIGluc2VjdXJlIE1hdGgucmFuZG9tKClcIil9fWZ1bmN0aW9uIG4oKXt0cnl7dmFyIHQ9aSgzMykucmFuZG9tQnl0ZXM7dT1oPXQmJmZ1bmN0aW9uKCl7cmV0dXJuIHQoMTYpfSxoKCl9Y2F0Y2goZSl7fX1mdW5jdGlvbiBvKHQsZSxpKXt2YXIgcj1lJiZpfHwwLG49MDtmb3IoZT1lfHxbXSx0LnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvWzAtOWEtZl17Mn0vZyxmdW5jdGlvbih0KXtuPDE2JiYoZVtyK24rK109dlt0XSl9KTtuPDE2OyllW3IrbisrXT0wO3JldHVybiBlfWZ1bmN0aW9uIHModCxlKXt2YXIgaT1lfHwwLHI9ZztyZXR1cm4gclt0W2krK11dK3JbdFtpKytdXStyW3RbaSsrXV0rclt0W2krK11dK1wiLVwiK3JbdFtpKytdXStyW3RbaSsrXV0rXCItXCIrclt0W2krK11dK3JbdFtpKytdXStcIi1cIityW3RbaSsrXV0rclt0W2krK11dK1wiLVwiK3JbdFtpKytdXStyW3RbaSsrXV0rclt0W2krK11dK3JbdFtpKytdXStyW3RbaSsrXV0rclt0W2krK11dfWZ1bmN0aW9uIGEodCxlLGkpe3ZhciByPWUmJml8fDAsbj1lfHxbXTt0PXR8fHt9O3ZhciBvPW51bGwhPXQuY2xvY2tzZXE/dC5jbG9ja3NlcTpULGE9bnVsbCE9dC5tc2Vjcz90Lm1zZWNzOihuZXcgRGF0ZSkuZ2V0VGltZSgpLGM9bnVsbCE9dC5uc2Vjcz90Lm5zZWNzOmIrMSxoPWEtUysoYy1iKS8xZTQ7aWYoaDwwJiZudWxsPT10LmNsb2Nrc2VxJiYobz1vKzEmMTYzODMpLChoPDB8fGE+UykmJm51bGw9PXQubnNlY3MmJihjPTApLGM+PTFlNCl0aHJvdyBuZXcgRXJyb3IoXCJ1dWlkLnYxKCk6IENhbid0IGNyZWF0ZSBtb3JlIHRoYW4gMTBNIHV1aWRzL3NlY1wiKTtTPWEsYj1jLFQ9byxhKz0xMjIxOTI5MjhlNTt2YXIgcD0oMWU0KigyNjg0MzU0NTUmYSkrYyklNDI5NDk2NzI5NjtuW3IrK109cD4+PjI0JjI1NSxuW3IrK109cD4+PjE2JjI1NSxuW3IrK109cD4+PjgmMjU1LG5bcisrXT0yNTUmcDt2YXIgdT1hLzQyOTQ5NjcyOTYqMWU0JjI2ODQzNTQ1NTtuW3IrK109dT4+PjgmMjU1LG5bcisrXT0yNTUmdSxuW3IrK109dT4+PjI0JjE1fDE2LG5bcisrXT11Pj4+MTYmMjU1LG5bcisrXT1vPj4+OHwxMjgsbltyKytdPTI1NSZvO2Zvcih2YXIgbD10Lm5vZGV8fHcsZD0wO2Q8NjtkKyspbltyK2RdPWxbZF07cmV0dXJuIGU/ZTpzKG4pfWZ1bmN0aW9uIGModCxlLGkpe3ZhciByPWUmJml8fDA7XCJzdHJpbmdcIj09dHlwZW9mIHQmJihlPVwiYmluYXJ5XCI9PT10P25ldyBmKDE2KTpudWxsLHQ9bnVsbCksdD10fHx7fTt2YXIgbj10LnJhbmRvbXx8KHQucm5nfHxoKSgpO2lmKG5bNl09MTUmbls2XXw2NCxuWzhdPTYzJm5bOF18MTI4LGUpZm9yKHZhciBvPTA7bzwxNjtvKyspZVtyK29dPW5bb107cmV0dXJuIGV8fHMobil9dmFyIGgscCx1LGwsZDtlP3IoKTpuKCk7Zm9yKHZhciBmPVwiZnVuY3Rpb25cIj09dHlwZW9mIEJ1ZmZlcj9CdWZmZXI6QXJyYXksZz1bXSx2PXt9LHk9MDt5PDI1Njt5KyspZ1t5XT0oeSsyNTYpLnRvU3RyaW5nKDE2KS5zdWJzdHIoMSksdltnW3ldXT15O3ZhciBtPWgoKSx3PVsxfG1bMF0sbVsxXSxtWzJdLG1bM10sbVs0XSxtWzVdXSxUPTE2MzgzJihtWzZdPDw4fG1bN10pLFM9MCxiPTAsRT1jO0Uuc2w9YSxFLlpoPWMsRS5wYXJzZT1vLEUuYWw9cyxFLmNsPWYsRS5obD1oLEUucGw9cCxFLnVsPXUsRS5sbD1sLFwidW5kZWZpbmVkXCIhPXR5cGVvZiB0JiZ0LnQ/dC50PUU6KGQ9ZS5kbCxFLmdlPWZ1bmN0aW9uKCl7cmV0dXJuIGUuZGw9ZCxFfSxlLmRsPUUpfShcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzpudWxsKX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO3ZhciByLG49dGhpcyYmdGhpcy5fX2V4dGVuZHN8fGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gaSgpe3RoaXMuY29uc3RydWN0b3I9dH1mb3IodmFyIHIgaW4gZSllLmhhc093blByb3BlcnR5KHIpJiYodFtyXT1lW3JdKTt0LnByb3RvdHlwZT1udWxsPT09ZT9PYmplY3QuY3JlYXRlKGUpOihpLnByb3RvdHlwZT1lLnByb3RvdHlwZSxuZXcgaSl9LG89aSgxMSk7IWZ1bmN0aW9uKHQpe3ZhciBlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdH0oKTtlLkRhc2hGaWx0ZXJCaXRyYXRlcz1udWxsLGUuRGFzaFJlbW92ZUJpdHJhdGVTaXplPSExLHQuRGFzaD1lO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdH0oKTtpLmZsPSEwLHQuU3RhdHM9aTt2YXIgcj1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIG51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gbihlLHQpLGV9KG8uSGl2ZUNvbmZpZy5EZWJ1Z0xvZ3MpO3IuZ2w9MCx0LkRlYnVnTG9ncz1yO3ZhciBzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdH0oKTtzLnVzaXo9bnVsbCx0LlVEUEJyb2FkY2FzdD1zfShyPWUuSGl2ZUNvbmZpZ3x8KGUuSGl2ZUNvbmZpZz17fSkpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJihcInVuZGVmaW5lZFwiPT10eXBlb2Ygd2luZG93LkhpdmVDb25maWcmJih3aW5kb3cuSGl2ZUNvbmZpZz17fSksd2luZG93LkhpdmVDb25maWcuRGFzaD1yLkRhc2gsd2luZG93LkhpdmVDb25maWcuU3RhdHM9ci5TdGF0cyx3aW5kb3cuSGl2ZUNvbmZpZy5VRFBCcm9hZGNhc3Q9ci5VRFBCcm9hZGNhc3Qsd2luZG93LkhpdmVDb25maWcuRGVidWdMb2dzPXIuRGVidWdMb2dzKX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO3ZhciByLG49aSgxMSksbz1pKDQpLHM9by52ZTshZnVuY3Rpb24odCl7dmFyIGU7IWZ1bmN0aW9uKHQpe3RbdC5vZmY9MF09XCJvZmZcIix0W3QuZXJyb3I9MV09XCJlcnJvclwiLHRbdC53YXJuPTJdPVwid2FyblwiLHRbdC5ub3RpY2U9M109XCJub3RpY2VcIix0W3QuaW5mbz00XT1cImluZm9cIix0W3QuZGVidWc9NV09XCJkZWJ1Z1wiLHRbdC50cmFjZT02XT1cInRyYWNlXCJ9KGU9dC52bHx8KHQudmw9e30pKTt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLnRpbWVzdGFtcD1mdW5jdGlvbigpe30sdGhpcy55bD1uZXcgcyx0aGlzLmxldmVsPWUuZGVidWcsdGhpcy50aW1lc3RhbXAudG9TdHJpbmc9ZnVuY3Rpb24oKXt2YXIgdD1uZXcgRGF0ZSxlPShcIjBcIit0LmdldFVUQ0hvdXJzKCkpLnNsaWNlKC0yKStcIjpcIisoXCIwXCIrdC5nZXRVVENNaW51dGVzKCkpLnNsaWNlKC0yKStcIjpcIisoXCIwXCIrdC5nZXRVVENTZWNvbmRzKCkpLnNsaWNlKC0yKStcIjpcIit0LmdldFVUQ01pbGxpc2Vjb25kcygpO3JldHVyblwiW1wiK2UrXCJdXCJ9LHRoaXMubT1cInVuZGVmaW5lZFwiPT10eXBlb2YgY29uc29sZT97bG9nOmZ1bmN0aW9uKCl7fX06Y29uc29sZSx0aGlzLm0udHJhY2V8fCh0aGlzLm0udHJhY2U9dGhpcy5tLmxvZyksdGhpcy5tLmRlYnVnfHwodGhpcy5tLmRlYnVnPXRoaXMubS5sb2cpLHRoaXMubS5pbmZvfHwodGhpcy5tLmluZm89dGhpcy5tLmxvZyksdGhpcy5tLndhcm58fCh0aGlzLm0ud2Fybj10aGlzLm0ubG9nKSx0aGlzLm0uZXJyb3J8fCh0aGlzLm0uZXJyb3I9dGhpcy5tLmxvZyksdGhpcy5tbChlW3RoaXMubGV2ZWxdKX1yZXR1cm4gdC5wcm90b3R5cGUubWw9ZnVuY3Rpb24odCxpKXtuLkhpdmVDb25maWcuRnJhbWV3b3JrLkhpdmVEZWJ1Z0xldmVsJiZ2b2lkIDAhPWVbbi5IaXZlQ29uZmlnLkZyYW1ld29yay5IaXZlRGVidWdMZXZlbF0/dGhpcy5sZXZlbD1lW24uSGl2ZUNvbmZpZy5GcmFtZXdvcmsuSGl2ZURlYnVnTGV2ZWxdOnZvaWQgMCE9ZVt0XT90aGlzLmxldmVsPWVbdF06Y29uc29sZS5sb2coXCJXcm9uZyBsb2dnaW5nIGxldmVsOiBcIit0LGUpLHRoaXMud2woaSl9LHQucHJvdG90eXBlLndsPWZ1bmN0aW9uKHQpe3ZhciBpPXtsb2c6dGhpcy5UbCh0aGlzLm0ubG9nLGUuZXJyb3IsdCksZXJyb3I6dGhpcy5UbCh0aGlzLm0uZXJyb3IsZS5lcnJvcix0KSx3YXJuOnRoaXMuVGwodGhpcy5tLndhcm4sZS53YXJuLHQpLG5vdGljZTp0aGlzLlRsKHRoaXMubS5pbmZvLGUubm90aWNlLHQpLGluZm86dGhpcy5UbCh0aGlzLm0uaW5mbyxlLmluZm8sdCksZGVidWc6dGhpcy5UbCh0aGlzLm0uZGVidWcsZS5kZWJ1Zyx0KSx0cmFjZTp0aGlzLlRsKHRoaXMubS50cmFjZSxlLnRyYWNlLHQpfTt0P3RoaXMueWwuc2V0KHQsaSk6dGhpcy5TbD1pfSx0LnByb3RvdHlwZS5UbD1mdW5jdGlvbih0LGUsaSl7aWYoISh0aGlzLmxldmVsPj1lKSlyZXR1cm4gZnVuY3Rpb24oKXt9O3RyeXtyZXR1cm4gbi5IaXZlQ29uZmlnLkZyYW1ld29yay5Mb2dnZXJUaW1lc3RhbXA/aT9GdW5jdGlvbi5wcm90b3R5cGUuYmluZC5jYWxsKHQsY29uc29sZSxcIiVzICVzXCIsdGhpcy50aW1lc3RhbXAsaSk6RnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuY2FsbCh0LGNvbnNvbGUsXCIlc1wiLHRoaXMudGltZXN0YW1wKTpGdW5jdGlvbi5wcm90b3R5cGUuYmluZC5jYWxsKHQsY29uc29sZSl9Y2F0Y2gocil7fX0sdC5wcm90b3R5cGUubG9nPWZ1bmN0aW9uKHQpe3JldHVybiB0Pyh0aGlzLnlsLmhhcyh0KXx8dGhpcy5tbChlW3RoaXMubGV2ZWxdLHQpLHRoaXMueWwuZ2V0KHQpKTp0aGlzLlNsfSx0fSgpO3QuYmw9aX0ocj1lLkVsfHwoZS5FbD17fSkpfSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9aSg0KSxuPXIudmUsbz1pKDEpLHM9aSgyKSxhPWkoNDApLGM9aSg0OSksaD1pKDE3KSxwPWkoMTEpLHU9aSg3KSxsPWkoNDIpLGQ9aSg5KSxmPWkoMzcpLGc9aSg1KSx2PWkoNTApLHk9aSg0OCksbT1pKDI3KSx3PWkoMTkpLFQ9aSgyMCksUz1pKDE4KSxiPWEucHQuSXIsRT1jLnB0LklsLEk9aC5wdC51aCxSPWgucHQuQ2gsaz1oLnB0LkhpdmVUZWNoRXJyb3IsQz1oLnB0LmJoLE89aC5wdC5BaDtlLnZlcnNpb249XCIzLjIuMFwiO3ZhciBQOyFmdW5jdGlvbih0KXt2YXIgcj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5SbD1bRVtFLkhpdmVKYXZhXSxFW0UuSGl2ZUpzUHJveHldLEVbRS5IaXZlSlNdLEVbRS5TdGF0c0pTXV0sdGhpcy5rbD1uZXcgbix0aGlzLkNsPW5ldyBBcnJheSx0aGlzLk9sPW5ldyBBcnJheSx0aGlzLlBsPW51bGwsdGhpcy5BbD0wLHRoaXMuTmw9MCx0aGlzLnU9XCJbSGl2ZUNvbW1dIFwiLHRoaXMueGw9MCx0aGlzLkJsPXUuYXIuZ2V0SXRlbShcImhpdmVQbHVnaW5JZFwiKSx0aGlzLkJsfHwodGhpcy5CbD1NYXRoLmFicyhNYXRoLmZsb29yKDY4NzE5NDc2NzM2Kk1hdGgucmFuZG9tKCkpKS50b1N0cmluZygxNiksdS5hci5zZXRJdGVtKFwiaGl2ZVBsdWdpbklkXCIsdGhpcy5CbCkpLHcuRXJyb3JNb25pdG9yLldpKCksdGhpcy5vcHRpb25zXz1uZXcgYi5GbCx0aGlzLl9sKHQpLHUubnIodCx0aGlzLm9wdGlvbnNfKSx1Lm9yKHdpbmRvdy5sb2NhdGlvbi5ocmVmLG5ldyBiLkRsLHRoaXMub3B0aW9uc18pLGEuTGwuSGwodGhpcy5vcHRpb25zXyksdGhpcy5mbz1zLkZyYW1ld29yay5yZXNvbHZlKHMuRnJhbWV3b3JrLkZlLndlKSxwLkhpdmVDb25maWcuRnJhbWV3b3JrLkxvZ2dlclRpbWVzdGFtcD10aGlzLm9wdGlvbnMoKS5sb2dnZXJUaW1lc3RhbXAsdGhpcy5mby5tbCh0aGlzLm9wdGlvbnMoKS5kZWJ1Z0xldmVsKSx3LkVycm9yTW9uaXRvci5XaSgpLkxoKHRoaXMuZm8ubG9nKCkpO3ZhciBlPXMuRnJhbWV3b3JrLnJlc29sdmUoZy5naS5DZSksaT1zLkZyYW1ld29yay5yZXNvbHZlKGcuZ2kuY2kpO2UuS28oKS50aGVuKGZ1bmN0aW9uKHQpe3cuRXJyb3JNb25pdG9yLldpKCkuc2V0VXNlcih0LldvKCkpfSk7dmFyIHI9e307aS5QbigpLnRoZW4oZnVuY3Rpb24odCl7cj17cElQQWRkcjp0Lk5uKCkuQm4oKX0sdy5FcnJvck1vbml0b3IuV2koKS5zZXRDdXN0b21EYXRhKHIpfSksd2luZG93LnZvPXRoaXMuZm8ubG9nKCksdGhpcy5NbCgpLHRoaXMuamw9bmV3IE8odGhpcyksbmV3IGwuVWwodGhpcyk7dmFyIG89dGhpcy5vcHRpb25zKCkuaWRsZVRpbWVQZXJpb2Q+dGhpcy5vcHRpb25zKCkuZmVlZGJhY2tQZXJpb2Q/dGhpcy5vcHRpb25zKCkuaWRsZVRpbWVQZXJpb2Q6Uy5rZS54aDt0aGlzLlZsPW5ldyB1LnZyKG8pfXJldHVybiB0LnByb3RvdHlwZS5vcHRpb25zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3B0aW9uc199LHQucHJvdG90eXBlLm09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mby5sb2coKX0sdC5wcm90b3R5cGUuUz1mdW5jdGlvbigpe3JldHVybiB0aGlzLkJsfSx0LnByb3RvdHlwZS5jdD1mdW5jdGlvbigpe3JldHVybiBlLnZlcnNpb259LHQucHJvdG90eXBlLlFsPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PTAsZT10aGlzLk9sO3Q8ZS5sZW5ndGg7dCsrKXt2YXIgaT1lW3RdO2kudGVjaC5xbCh0aGlzKX19LHQucHJvdG90eXBlLl9sPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyB5LlN0YXRzSlModGhpcyx0KTt0aGlzLmtsLnNldCh5LlN0YXRzSlMuSmwsZSk7dmFyIHI9aSg0MykuSGl2ZUphdmE7dGhpcy5rbC5zZXQoci5KbCxuZXcgcih0aGlzLHQpKTt2YXIgbj10LmhpdmVUZWNoT3JkZXI7aWYoIW58fG4gaW5zdGFuY2VvZiBBcnJheSlpZihuJiZuLmxlbmd0aD4wKWZvcih2YXIgbz1uLmxlbmd0aDtvLS07KXt2YXIgcz1uW29dO1wic3RyaW5nXCIhPXR5cGVvZiBzfHx0aGlzLlJsLmluZGV4T2Yocyk9PS0xPyhjb25zb2xlLndhcm4odGhpcy51KydUaGUgXCInK3MrJ1wiIEhpdmUgdGVjaCBpcyB1bmRlZmluZWQnKSxuLnNwbGljZShvLDEpKTpcInN0cmluZ1wiPT10eXBlb2YgcyYmdGhpcy5rbC5oYXMocyl8fGNvbnNvbGUud2Fybih0aGlzLnUrJ1RoZSBcIicrcysnXCIgSGl2ZSB0ZWNoIGlzIG5vdCBlbmFibGVkIG9uIHRoaXMgcGx1Z2luJyl9ZWxzZSBuPXRoaXMuUmw7ZWxzZSBjb25zb2xlLndhcm4odGhpcy51K1wiaGl2ZVRlY2hPcmRlciB2YWx1ZSBub3QgYWNjZXB0ZWQuIEl0IG11c3QgYmUgYW4gYXJyYXkgb2Ygc3RyaW5nc1wiKSxuPXRoaXMuUmw7dC5oaXZlVGVjaE9yZGVyPW59LHQucHJvdG90eXBlLnA9ZnVuY3Rpb24odCl7dmFyIGU9dGhpczt0aGlzLm0oKS5ub3RpY2UodGhpcy51K1wicmVzb2x2aW5nIFwiK3QpLHRoaXMuS2wodCk7dmFyIGk9by5kZWZlcigpLHI9dGhpcy5HbCgpLnZhbHVlcygpOzA9PXIubGVuZ3RoJiZpLnJlamVjdCh1LnNyKHQsSS5zaCkpO3ZhciBuLHMsYT0hMSxjPSExLGg9MCxwPW51bGw7cmV0dXJuIHUuWGkoZnVuY3Rpb24oKXtyZXR1cm4hYSYmIWMmJmg8ci5sZW5ndGgmJiFufSxmdW5jdGlvbigpe3ZhciBpPXJbaCsrXTtpLnpsKCk7dmFyIHU7cmV0dXJuIHU9aS5XbCgpJiYhcz9lLiRsKHQpOm8ucmVzb2x2ZShudWxsKSx1LnRoZW4oZnVuY3Rpb24ocil7bnVsbCE9ciYmKHM9cik7dmFyIG49aS5ZbCgpO3JldHVybiBpLmluaXRTZXNzaW9uKHQscykudGltZW91dChuLFwiW1wiK2kuQWkoKStcIl0gRXJyb3I6IGluaXRpYWxpemF0aW9uIHRpbWVkIG91dCBhZnRlciBcIituK1wibXNcIikudGhlbihmdW5jdGlvbih0KXtwPXQsZS5YbChwLGkpLGE9ITAsIWkuV2woKSYmcyYmcy5Rbi5yZXNldCgpLGUubSgpLm5vdGljZShlLnUrXCJpbml0aWFsaXppbmcgU2Vzc2lvbjpbXCIrcC5pZCtcIl0gVGlja2V0OlwiK3AudGlja2V0LnRvU3RyaW5nKCkrXCIgSGl2ZVRlY2g6W1wiK3AudGVjaC5BaSgpK1wiXVwiKSxvLnJlc29sdmUoITApfSxmdW5jdGlvbihyKXtyIGluc3RhbmNlb2YgRXJyb3ImJihyPW5ldyBrKEMuU2gsci5tZXNzYWdlKSxpLlpsKHIpKSxyLnRpY2tldFVybD10LGM9IWkub25FcnJvcihyKSxlLm0oKS5kZWJ1ZyhlLnUrXCJ0ZWNoIFwiK2kuQWkoKStcIjogXCIrci5tZXNzYWdlKSxvLnJlc29sdmUoITApfSl9LGZ1bmN0aW9uKHQpe249dCxvLnJlc29sdmUoITApfSl9KS50aGVuKGZ1bmN0aW9uKCl7bj9pLnJlamVjdCh1LnNyKHQsSS5waCxuKSk6Yz9pLnJlamVjdCh1LnNyKHQsSS5oaCkpOmE/aS5yZXNvbHZlKHApOmkucmVqZWN0KHUuc3IodCxJLnNoKSl9KVtcImNhdGNoXCJdKGZ1bmN0aW9uKGUpe3cuRXJyb3JNb25pdG9yLldpKCkuX2goZSksaS5yZWplY3QodS5zcih0LEkub2gsZS50b1N0cmluZygpKSl9KS5kb25lKCksaS52dH0sdC5wcm90b3R5cGUuJGw9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztyZXR1cm4gbS5IaXZlLlJlcG9ydGluZygpLmluaXRTZXNzaW9uKHQsITEpLnRoZW4oZnVuY3Rpb24oaSl7cmV0dXJuIGUubSgpLmRlYnVnKGUudStcInZlcmlmaWVkIHRpY2tldCBcIit0KSxlLmhuKGkpLGl9KVtcImNhdGNoXCJdKGZ1bmN0aW9uKHQpe3JldHVybiBvLnJlamVjdChcIlRpY2tldCBub3QgdmVyaWZpZWQsIGVycm9yOiBcIit0Lm1lc3NhZ2UpfSl9LHQucHJvdG90eXBlLkdsPWZ1bmN0aW9uKCl7dmFyIHQ9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLm9wdGlvbnMoKS5oaXZlVGVjaE9yZGVyKSksZT1uZXcgbjtmb3IodmFyIGkgaW4gdCl0aGlzLmtsLmhhcyh0W2ldKSYmZS5zZXQodFtpXSx0aGlzLmtsLmdldCh0W2ldKSk7cmV0dXJuIGV9LHQucHJvdG90eXBlLktsPWZ1bmN0aW9uKHQpe3ZhciBlPXcuRXJyb3JNb25pdG9yLldpKCk7dHJ5e3ZhciBpPW5ldyBULmFwO2kuS2godCksaS5ibigpJiZpLkVuKCkmJmkuZXMoKT9lLnNldFRhZ3MoW2kuYm4oKSxpLkVuKCksaS5lcygpXSk6ZS5faCh0aGlzLnUrXCIgVGlja2V0IG5vdCB2YWxpZCwgd2UgY291bGQgbm90IHJlc29sdmUgdGhlIHRyaXBsZSBwYXJ0bmVySWQvQ3VzdG9tZXJJZC9Db250ZW50SWQ6IFwiK2kuYm4oKStcIi9cIitpLkVuKCkrXCIvXCIraS5lcygpKX1jYXRjaChyKXt0aGlzLm0oKS53YXJuKHRoaXMudStcIiBcIityLm1lc3NhZ2UsciksZS5ub3RpZnkocil9fSx0LnByb3RvdHlwZS5obj1mdW5jdGlvbih0KXt2YXIgaT17Y29tbVZlcnNpb246ZS52ZXJzaW9uLHBsdWdpbk5hbWU6dGhpcy5UKCkscGx1Z2luVmVyc2lvbjp0aGlzLkkoKSxwbGF5ZXJUZWNoOnRoaXMuaHQoKSxwbGF5ZXJWZXJzaW9uOnRoaXMucSgpLHRlbGVtZXRyeUlkOnRoaXMudGQoKX07dC5Rbi5obihpKX0sdC5wcm90b3R5cGUudj1mdW5jdGlvbigpe3dpbmRvdy5IaXZlUmVxdWVzdD1YTUxIdHRwUmVxdWVzdCx1LkhpdmVSZXF1ZXN0RmFjdG9yeS5jbGVhcigpLG0uSGl2ZS5SZXBvcnRpbmcoKS5jbG9zZSgpfSx0LnByb3RvdHlwZS5lZD1mdW5jdGlvbih0KXt0aGlzLlBsJiZ0aGlzLlBsLnRlY2g/KHQuc2Vzc2lvbklkPXRoaXMuUGwuaWQsdGhpcy5QbC50ZWNoLnduKHRoaXMuUGwsdCkpOnRoaXMuQ2wucHVzaCh0KX0sdC5wcm90b3R5cGUucmQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLkNsO3JldHVybiB0aGlzLkNsPW5ldyBBcnJheSx0fSx0LnByb3RvdHlwZS5NbD1mdW5jdGlvbigpe3ZhciB0PXRoaXMsZT13aW5kb3c7ZS5hZGRFdmVudExpc3RlbmVyP2UuYWRkRXZlbnRMaXN0ZW5lcihcImJlZm9yZXVubG9hZFwiLGZ1bmN0aW9uKCl7dC5uZCghMCl9LCExKTplLmF0dGFjaEV2ZW50KFwib25iZWZvcmV1bmxvYWRcIixmdW5jdGlvbigpe3QubmQoITApfSl9LHQucHJvdG90eXBlLmg9ZnVuY3Rpb24odCl7dGhpcy5uZCh0KSx0aGlzLlBsPW51bGwsdGhpcy5PbD1uZXcgQXJyYXksdGhpcy5BbD0wLHRoaXMuTmw9MCx0aGlzLm9kKCl9LHQucHJvdG90eXBlLlhsPWZ1bmN0aW9uKHQsZSl7dC50ZWNoPWUsdGhpcy5PbC5wdXNoKHQpfSx0LnByb3RvdHlwZS5SPWZ1bmN0aW9uKHQpe2lmKG51bGw9PXRoaXMuUGwpe2Zvcih2YXIgZT10P3Q6dGhpcy5pdCgpLGk9MDtpPHRoaXMuT2wubGVuZ3RoO2krKyl7dmFyIHI9dGhpcy5PbFtpXTtpZihyLnN0KGUpKXJldHVybiB0aGlzLlBsPXIsdGhpcy5QbC5SaT90aGlzLlBsLlJpLl9vLnNkKHRoaXMuUGwudGlja2V0KTp0aGlzLmFkKCksdGhpcy5PbD1uZXcgQXJyYXksdGhpcy5QbC50ZWNoLm9uQWN0aXZlU2Vzc2lvbih0aGlzLlBsKSx0aGlzLm0oKS5ub3RpY2UodGhpcy51K1wiYWN0aXZhdGluZyBTZXNzaW9uOltcIit0aGlzLlBsLmlkK1wiXSBUaWNrZXQ6XCIrdGhpcy5QbC50aWNrZXQudG9TdHJpbmcoKStcIiBIaXZlVGVjaDpbXCIrdGhpcy5QbC50ZWNoLkFpKCkrXCJdXCIpLHRoaXMuaGQoKSwhMH10aGlzLm0oKS53YXJuKHRoaXMudStcIkNsb3Npbmcgc2Vzc2lvbnMgLSB0aGUgYWN0aXZlIHN0cmVhbSBkb2Vzbid0IG1hdGNoIGFueSBpbml0aWFsaXplZCBzZXNzaW9uc1wiKSx0aGlzLm0oKS53YXJuKHRoaXMudStcIkFjdGl2ZTpcIitlK1wiIC0gaW5pdGlhbGl6ZWQ6IFwiK3RoaXMuT2wubGVuZ3RoKSx0aGlzLmgoKX1yZXR1cm4hMX0sdC5wcm90b3R5cGUuQz1mdW5jdGlvbigpe2lmKHRoaXMuUGwpcmV0dXJuIHRoaXMuUGwuZygpfSx0LnByb3RvdHlwZS5hZD1mdW5jdGlvbigpe3ZhciB0PSExO3RoaXMuT2wuZm9yRWFjaChmdW5jdGlvbihlKXtlLlJpJiYodD0hMCl9KSx0JiZtLkhpdmUuUmVwb3J0aW5nKCkuY2xvc2UoKX0sdC5wcm90b3R5cGUucGQ9ZnVuY3Rpb24oKXtpZihudWxsIT10aGlzLlBsKXtpZih0aGlzLlBsLnN0KHRoaXMuaXQoKSkpcmV0dXJuITA7dGhpcy5tKCkud2Fybih0aGlzLnUrXCJTZXNzaW9uIHNyYyBtaXNtYXRjaDogXCIrdGhpcy5pdCgpK1wiICE9IFwiK3RoaXMuUGwubWFuaWZlc3QpLHRoaXMuaCgpfXJldHVybiExfSx0LnByb3RvdHlwZS5uZD1mdW5jdGlvbih0KXtpZihudWxsIT10aGlzLlBsKXRoaXMubSgpLm5vdGljZSh0aGlzLnUrXCJTdG9wcGluZyBzZXNzaW9uIFtcIit0aGlzLlBsLmlkK1wiXVwiKSx0aGlzLlBsLmNsb3NlKHQpO2Vsc2UgaWYodGhpcy5PbC5sZW5ndGg+MCl7dmFyIGU9dGhpcy5PbFswXTt0aGlzLm0oKS5ub3RpY2UodGhpcy51K1wiQXR0ZW1wdCB0byBzdG9wcGluZyBzZXNzaW9uIFtcIitlLmlkK1wiXVwiKSxlLmNsb3NlKHQpfX0sdC5wcm90b3R5cGUuaGQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO251bGw9PXRoaXMudWQmJih0aGlzLnVkPXNldEludGVydmFsKGZ1bmN0aW9uKCl7dC5sZCgpfSx0aGlzLm9wdGlvbnMoKS5mZWVkYmFja1BlcmlvZCksdGhpcy5sZCgpKX0sdC5wcm90b3R5cGUub2Q9ZnVuY3Rpb24oKXtjbGVhckludGVydmFsKHRoaXMudWQpLHRoaXMudWQ9bnVsbH0sdC5wcm90b3R5cGUubGQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO2lmKHRoaXMucGQoKSl7aWYoIXRoaXMuc3QoKSlyZXR1cm4gdm9pZCB0aGlzLmgoKTt2YXIgZT1uZXcgdS5GaTtlLmxyPXRoaXMuZ2V0Q3VycmVudFRpbWUoKSxlLmRyPXRoaXMubnQoKSxlLmdyPXRoaXMuQWwsZS53aWR0aD10aGlzLm90KCkud2lkdGgsZS5oZWlnaHQ9dGhpcy5vdCgpLmhlaWdodCxlLmRkPXRoaXMuaXNGdWxsc2NyZWVuKCksdGhpcy5QbC5raSh0aGlzLlZsLmhyKGUpKSx0aGlzLlBsLnRlY2guZmQodGhpcy5QbCxlKS5mYWlsKGZ1bmN0aW9uKGUpe3QubSgpLndhcm4odC51K1wic3RhdHMgaGFuZGxpbmcgZmFpbGVkXCIsZSksdC5vZCgpfSl9fSx0LnByb3RvdHlwZS5nZD1mdW5jdGlvbigpe3ZhciB0PXRoaXM7dHJ5e3UuWWkuV2kodGhpcy5tKCkpLiRpKGZ1bmN0aW9uKGUpe3ZhciBpPXQudmQoKTtpJiYhaS5PaSgpJiYodC5fKGU/ZC5GLkIuanI6ZC5GLkIuSElEREVOKSx0Lm0oKS5kZWJ1ZyhlP1widmlzaWJsZVwiOlwiaGlkZGVuXCIpKX0pfWNhdGNoKGUpe3cuRXJyb3JNb25pdG9yLldpKCkuX2goXCJlcnJvciBzZXR0aW5nIHVwIHRoZSB2aXNpYmlsaXR5Q2hhbmdlIGxpc3RlbmVyXCIse2Vycm9yOmV9KX19LHQucHJvdG90eXBlLms9ZnVuY3Rpb24odCl7dGhpcy5wZCgpJiZ0aGlzLk5sPD0wJiYodGhpcy5ObD1EYXRlLm5vdygpLCh2b2lkIDA9PXR8fHQpJiZ0aGlzLl8oZC5GLkIuTHIpKX0sdC5wcm90b3R5cGUuRz1mdW5jdGlvbigpe3ZhciB0PTA9PXRoaXMuQWw7aWYodGhpcy5ObD4wKXt2YXIgZT1EYXRlLm5vdygpLXRoaXMuTmw7cmV0dXJuIHRoaXMuQWwrPWUsdGhpcy5tKCkuZGVidWcodGhpcy51K1wicmVwb3J0aW5nIG5ldyBidWZmZXJpbmcgZXZlbnQgb2YgXCIrZSksdGhpcy5ObD0wLHQmJnRoaXMubGQoKSwhMH1yZXR1cm4hMX0sdC5wcm90b3R5cGUub25FcnJvcj1mdW5jdGlvbih0LGUsaSl7dm9pZCAwPT09aSYmKGk9ITApLHRoaXMuXyhkLkYuQi5FUlJPUix7Y29kZTotMSxcInBsYXllci1jb2RlXCI6dH0pLGkmJnRoaXMuaCgpfSx0LnByb3RvdHlwZS5fPWZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcyxyPXRoaXMudmQoKTtudWxsPT1yfHxyIT10aGlzLlBsJiZyLnRlY2guQWkoKT09PUVbRS5IaXZlSmF2YV18fHIudGVjaC55ZChyLHQsZSkuZmFpbChmdW5jdGlvbih0KXtpLm0oKS53YXJuKGkudStcImVycm9yIGluIGZvcndhcmRpbmcgcGxheWVyIGV2ZW50IHRvIHRlY2hcIix0KX0pfSx0LnByb3RvdHlwZS52ZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLlBsP3RoaXMuUGw6dGhpcy5PbCYmdGhpcy5PbC5sZW5ndGg+MD90aGlzLk9sWzBdOnZvaWQgMH0sdC5wcm90b3R5cGUubWQ9ZnVuY3Rpb24oKXt0aGlzLnhsPTB9LHQucHJvdG90eXBlLndkPWZ1bmN0aW9uKHQsZSl7dGhpcy5tZCgpO3ZhciBpPTcscj02O3RoaXMueGwrPXQ8PDQqaSxlJiYwPT09dCYmKHRoaXMueGwrPTE8PDQqKHItRVtlLkFpKCldKSksdD4wJiZ3LkVycm9yTW9uaXRvci5XaSgpLl9oKHRoaXMudStcIlN0YXR1cyBDb2RlIEVycm9yOiBcIitSW3RdKX0sdC5wcm90b3R5cGUuUGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy54bH0sdC5wcm90b3R5cGUudGQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcHRpb25zKCkudGVsZW1ldHJ5SWR9LHR9KCk7dC5QbHVnaW49cn0oUD1lLnB0fHwoZS5wdD17fSkpLHMuRnJhbWV3b3JrLlFlKG5ldyBmLlRkKSxzLkZyYW1ld29yay5HZShcInBlZXIwXCIsbmV3IHYuU2QpLHMuRnJhbWV3b3JrLnplKFwicGVlcjBcIiksd2luZG93LkhpdmVSZXF1ZXN0RmFjdG9yeT11LkhpdmVSZXF1ZXN0RmFjdG9yeX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO3ZhciByPWkoNDUpLG49aSg3KSxvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLnJlYWR5U3RhdGU9Myx0aGlzLnN0YXR1cz0wLHQmJih0aGlzLnNlc3Npb25JZD10KX1yZXR1cm4gdC5MaD1mdW5jdGlvbihlKXt0Lm09ZX0sdC5yZWdpc3Rlcj1mdW5jdGlvbihlLGkpe3QuYmRbZV09aX0sdC5wcm90b3R5cGUuRWQ9ZnVuY3Rpb24oZSl7dGhpcy5zZXNzaW9uSWR8fCh0aGlzLnNlc3Npb25JZD10LmJkW2VdKX0sdC5wcm90b3R5cGUub3Blbj1mdW5jdGlvbih0LGUsaSl7dm9pZCAwPT09aSYmKGk9ITEpLHRoaXMubWV0aG9kPXQsdGhpcy51cmw9ZSx0aGlzLklkPWl9LHQucHJvdG90eXBlLmdldEFsbFJlc3BvbnNlSGVhZGVycz1mdW5jdGlvbigpe3JldHVybiB0aGlzLlJkfSx0LnByb3RvdHlwZS5nZXRSZXNwb25zZUhlYWRlcj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldEFsbFJlc3BvbnNlSGVhZGVycygpO2lmKGUpe3ZhciBpPVtdLHI9ZS5zcGxpdChcIlxcblwiKTtyZXR1cm4gci5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBlPXQuc3BsaXQoXCI6XCIpO2lbZVswXV09ZVsxXX0pLGlbdF19fSx0LnByb3RvdHlwZS5zZW5kPWZ1bmN0aW9uKCl7aWYodC5tJiZ0Lm0uZGVidWcodGhpcy5tZXRob2QrXCIgXCIrdGhpcy51cmwpLCF0aGlzLnNlc3Npb25JZCl7dmFyIGU9T2JqZWN0LmtleXModC5iZCk7ZS5sZW5ndGg+MCYmKHRoaXMuc2Vzc2lvbklkPXQuYmRbZVswXV0pfXZhciBpPXRoaXMsbz1uZXcgWE1MSHR0cFJlcXVlc3Q7MD09PXRoaXMudXJsLmluZGV4T2YoXCIvL1wiKSYmKHRoaXMudXJsPWxvY2F0aW9uLnByb3RvY29sK3RoaXMudXJsKTt2YXIgcz1uLnJyKHIuQ2Qua2Qsci5DZC5UbyxyLkNkLk9kLHRoaXMuc2Vzc2lvbklkLGVuY29kZVVSSUNvbXBvbmVudCh0aGlzLnVybCkpO28ub3BlbihcIkdFVFwiLHMpLHRoaXMucmVzcG9uc2VUeXBlJiYoby5yZXNwb25zZVR5cGU9dGhpcy5yZXNwb25zZVR5cGUpLG8ub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7fSxvLm9ubG9hZD1mdW5jdGlvbigpe2lmKDQ9PT1vLnJlYWR5U3RhdGUpdHJ5e2kuUmQ9by5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSxpLnJlc3BvbnNlPW8ucmVzcG9uc2U7dmFyIGU9by5yZXNwb25zZS5ieXRlTGVuZ3RoO1wiYXJyYXlidWZmZXJcIiE9PW8ucmVzcG9uc2VUeXBlJiYoaS5yZXNwb25zZVRleHQ9by5yZXNwb25zZSksaS5yZWFkeVN0YXRlPTQsaS5zdGF0dXM9by5zdGF0dXMsaS5vbnByb2dyZXNzKHtsZW5ndGhDb21wdXRhYmxlOiEwLGxvYWRlZDplLHRvdGFsOmV9KSxpLm9ucmVhZHlzdGF0ZWNoYW5nZSh7dHlwZTpcImxvYWRlbmRcIix0YXJnZXQ6aSxjdXJyZW50VGFyZ2V0OmksYnViYmxlczohMSxjYW5jZWxhYmxlOiExLGxlbmd0aENvbXB1dGFibGU6ITEsbG9hZGVkOmUsdG90YWw6ZX0pLGkub25sb2FkKCksaS5vbmxvYWRlbmQoe3R5cGU6XCJsb2FkZW5kXCIsdGFyZ2V0OmksY3VycmVudFRhcmdldDppLGJ1YmJsZXM6ITEsY2FuY2VsYWJsZTohMSxsZW5ndGhDb21wdXRhYmxlOiExLGxvYWRlZDplLHRvdGFsOjB9KX1jYXRjaChyKXt0Lm0mJnQubS53YXJuKHIpfX0sby5vbmVycm9yPWZ1bmN0aW9uKGUpe3QubSYmdC5tLndhcm4oXCJvbkVycm9yOiBcIitKU09OLnN0cmluZ2lmeShlKSksaS5vbmVycm9yKGUpfSxvLm9uYWJvcnQ9ZnVuY3Rpb24oZSl7dC5tJiZ0Lm0ud2FybihcIm9uQWJvcnQ6IFwiK0pTT04uc3RyaW5naWZ5KGUpKX0sby5zZW5kKCl9LHQucHJvdG90eXBlLmFib3J0PWZ1bmN0aW9uKCl7fSx0LnByb3RvdHlwZS5vbmxvYWQ9ZnVuY3Rpb24oKXt9LHQucHJvdG90eXBlLm9ubG9hZGVuZD1mdW5jdGlvbih0KXt9LHQucHJvdG90eXBlLm9uZXJyb3I9ZnVuY3Rpb24odCl7fSx0LnByb3RvdHlwZS5vbnByb2dyZXNzPWZ1bmN0aW9uKHQpe30sdC5wcm90b3R5cGUub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKHQpe30sdH0oKTtvLmJkPXt9LGUuVGk9b30sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO3ZhciByPWkoMiksbj1pKDUpLG89ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LlJlcG9ydGluZz1mdW5jdGlvbigpe3JldHVybiB0LmFwcD1cIlNUQVRTXCIsci5GcmFtZXdvcmsucmVzb2x2ZShuLmdpLnVpKX0sdC5Ybz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmFwcH0sdC5nZXRWZXJzaW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmVyc2lvbn0sdH0oKTtvLnZlcnNpb249XCIzLjIuMFwiLGUuSGl2ZT1vfSxmdW5jdGlvbih0LGUsaSl7dmFyIHI7IWZ1bmN0aW9uKG4sbyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHM9XCIwLjcuMTJcIixhPVwiXCIsYz1cIj9cIixoPVwiZnVuY3Rpb25cIixwPVwidW5kZWZpbmVkXCIsdT1cIm9iamVjdFwiLGw9XCJzdHJpbmdcIixkPVwibWFqb3JcIixmPVwibW9kZWxcIixnPVwibmFtZVwiLHY9XCJ0eXBlXCIseT1cInZlbmRvclwiLG09XCJ2ZXJzaW9uXCIsdz1cImFyY2hpdGVjdHVyZVwiLFQ9XCJjb25zb2xlXCIsUz1cIm1vYmlsZVwiLGI9XCJ0YWJsZXRcIixFPVwic21hcnR0dlwiLEk9XCJ3ZWFyYWJsZVwiLFI9XCJlbWJlZGRlZFwiLGs9e2V4dGVuZDpmdW5jdGlvbih0LGUpe3ZhciBpPXt9O2Zvcih2YXIgciBpbiB0KWVbcl0mJmVbcl0ubGVuZ3RoJTI9PT0wP2lbcl09ZVtyXS5jb25jYXQodFtyXSk6aVtyXT10W3JdO3JldHVybiBpfSxoYXM6ZnVuY3Rpb24odCxlKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgdCYmZS50b0xvd2VyQ2FzZSgpLmluZGV4T2YodC50b0xvd2VyQ2FzZSgpKSE9PS0xfSxQZDpmdW5jdGlvbih0KXtyZXR1cm4gdC50b0xvd2VyQ2FzZSgpfSxBZDpmdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHQ9PT1sP3QucmVwbGFjZSgvW15cXGRcXC5dL2csXCJcIikuc3BsaXQoXCIuXCIpWzBdOm99LHRyaW06ZnVuY3Rpb24odCl7cmV0dXJuIHQucmVwbGFjZSgvXltcXHNcXHVGRUZGXFx4QTBdK3xbXFxzXFx1RkVGRlxceEEwXSskL2csXCJcIil9fSxDPXtOZDpmdW5jdGlvbigpe2Zvcih2YXIgdCxlLGkscixuLHMsYSxjPTAsbD1hcmd1bWVudHM7YzxsLmxlbmd0aCYmIXM7KXt2YXIgZD1sW2NdLGY9bFtjKzFdO2lmKHR5cGVvZiB0PT09cCl7dD17fTtmb3IociBpbiBmKWYuaGFzT3duUHJvcGVydHkocikmJihuPWZbcl0sdHlwZW9mIG49PT11P3RbblswXV09bzp0W25dPW8pfWZvcihlPWk9MDtlPGQubGVuZ3RoJiYhczspaWYocz1kW2UrK10uZXhlYyh0aGlzLnhkKCkpKWZvcihyPTA7cjxmLmxlbmd0aDtyKyspYT1zWysraV0sbj1mW3JdLHR5cGVvZiBuPT09dSYmbi5sZW5ndGg+MD8yPT1uLmxlbmd0aD90eXBlb2YgblsxXT09aD90W25bMF1dPW5bMV0uY2FsbCh0aGlzLGEpOnRbblswXV09blsxXTozPT1uLmxlbmd0aD90eXBlb2YgblsxXSE9PWh8fG5bMV0uZXhlYyYmblsxXS50ZXN0P3RbblswXV09YT9hLnJlcGxhY2UoblsxXSxuWzJdKTpvOnRbblswXV09YT9uWzFdLmNhbGwodGhpcyxhLG5bMl0pOm86ND09bi5sZW5ndGgmJih0W25bMF1dPWE/blszXS5jYWxsKHRoaXMsYS5yZXBsYWNlKG5bMV0sblsyXSkpOm8pOnRbbl09YT9hOm87Yys9Mn1yZXR1cm4gdH0sYWM6ZnVuY3Rpb24odCxlKXtmb3IodmFyIGkgaW4gZSlpZih0eXBlb2YgZVtpXT09PXUmJmVbaV0ubGVuZ3RoPjApe2Zvcih2YXIgcj0wO3I8ZVtpXS5sZW5ndGg7cisrKWlmKGsuaGFzKGVbaV1bcl0sdCkpcmV0dXJuIGk9PT1jP286aX1lbHNlIGlmKGsuaGFzKGVbaV0sdCkpcmV0dXJuIGk9PT1jP286aTtyZXR1cm4gdH19LE89e3RpOntCZDp7dmVyc2lvbjp7XCIxLjBcIjpcIi84XCIsMS4yOlwiLzFcIiwxLjM6XCIvM1wiLFwiMi4wXCI6XCIvNDEyXCIsXCIyLjAuMlwiOlwiLzQxNlwiLFwiMi4wLjNcIjpcIi80MTdcIixcIjIuMC40XCI6XCIvNDE5XCIsS3A6XCIvXCJ9fX0sRmQ6e19kOntEZDp7SGQ6W1wiU0RcIixcIktGXCJdfX0sTGQ6e0RkOntNZDpcIjczNzNLVFwifSx2ZW5kb3I6e2pkOlwiQVBBXCIsVWQ6XCJTcHJpbnRcIn19fSxvczp7VmQ6e3ZlcnNpb246e1FkOlwiNC45MFwiLFwiTlQgMy4xMVwiOlwiTlQzLjUxXCIsXCJOVCA0LjBcIjpcIk5UNC4wXCIsMjAwMDpcIk5UIDUuMFwiLHFkOltcIk5UIDUuMVwiLFwiTlQgNS4yXCJdLEpkOlwiTlQgNi4wXCIsNzpcIk5UIDYuMVwiLDg6XCJOVCA2LjJcIiw4LjE6XCJOVCA2LjNcIiwxMDpbXCJOVCA2LjRcIixcIk5UIDEwLjBcIl0sS2Q6XCJBUk1cIn19fX0sUD17dGk6W1svKG9wZXJhXFxzbWluaSlcXC8oW1xcd1xcLi1dKykvaSwvKG9wZXJhXFxzW21vYmlsZXRhYl0rKS4rdmVyc2lvblxcLyhbXFx3XFwuLV0rKS9pLC8ob3BlcmEpLit2ZXJzaW9uXFwvKFtcXHdcXC5dKykvaSwvKG9wZXJhKVtcXC9cXHNdKyhbXFx3XFwuXSspL2ldLFtnLG1dLFsvKG9waW9zKVtcXC9cXHNdKyhbXFx3XFwuXSspL2ldLFtbZyxcIk9wZXJhIE1pbmlcIl0sbV0sWy9cXHMob3ByKVxcLyhbXFx3XFwuXSspL2ldLFtbZyxcIk9wZXJhXCJdLG1dLFsvKGtpbmRsZSlcXC8oW1xcd1xcLl0rKS9pLC8obHVuYXNjYXBlfG1heHRob258bmV0ZnJvbnR8amFzbWluZXxibGF6ZXIpW1xcL1xcc10/KFtcXHdcXC5dKykqL2ksLyhhdmFudFxcc3xpZW1vYmlsZXxzbGltfGJhaWR1KSg/OmJyb3dzZXIpP1tcXC9cXHNdPyhbXFx3XFwuXSopL2ksLyg/Om1zfFxcKCkoaWUpXFxzKFtcXHdcXC5dKykvaSwvKHJla29ucSlcXC8oW1xcd1xcLl0rKSovaSwvKGNocm9taXVtfGZsb2NrfHJvY2ttZWx0fG1pZG9yaXxlcGlwaGFueXxzaWxrfHNreWZpcmV8b3ZpYnJvd3Nlcnxib2x0fGlyb258dml2YWxkaXxpcmlkaXVtfHBoYW50b21qcylcXC8oW1xcd1xcLi1dKykvaV0sW2csbV0sWy8odHJpZGVudCkuK3J2WzpcXHNdKFtcXHdcXC5dKykuK2xpa2VcXHNnZWNrby9pXSxbW2csXCJJRVwiXSxtXSxbLyhlZGdlKVxcLygoXFxkKyk/W1xcd1xcLl0rKS9pXSxbZyxtXSxbLyh5YWJyb3dzZXIpXFwvKFtcXHdcXC5dKykvaV0sW1tnLFwiWWFuZGV4XCJdLG1dLFsvKGNvbW9kb19kcmFnb24pXFwvKFtcXHdcXC5dKykvaV0sW1tnLC9fL2csXCIgXCJdLG1dLFsvKG1pY3JvbWVzc2VuZ2VyKVxcLyhbXFx3XFwuXSspL2ldLFtbZyxcIldlQ2hhdFwiXSxtXSxbL3hpYW9taVxcL21pdWlicm93c2VyXFwvKFtcXHdcXC5dKykvaV0sW20sW2csXCJNSVVJIEJyb3dzZXJcIl1dLFsvXFxzd3ZcXCkuKyhjaHJvbWUpXFwvKFtcXHdcXC5dKykvaV0sW1tnLC8oLispLyxcIiQxIFdlYlZpZXdcIl0sbV0sWy9hbmRyb2lkLitzYW1zdW5nYnJvd3NlclxcLyhbXFx3XFwuXSspL2ksL2FuZHJvaWQuK3ZlcnNpb25cXC8oW1xcd1xcLl0rKVxccysoPzptb2JpbGVcXHM/c2FmYXJpfHNhZmFyaSkqL2ldLFttLFtnLFwiQW5kcm9pZCBCcm93c2VyXCJdXSxbLyhjaHJvbWV8b21uaXdlYnxhcm9yYXxbdGl6ZW5va2FdezV9XFxzP2Jyb3dzZXIpXFwvdj8oW1xcd1xcLl0rKS9pLC8ocXFicm93c2VyKVtcXC9cXHNdPyhbXFx3XFwuXSspL2ldLFtnLG1dLFsvKHVjXFxzP2Jyb3dzZXIpW1xcL1xcc10/KFtcXHdcXC5dKykvaSwvdWN3ZWIuKyh1Y2Jyb3dzZXIpW1xcL1xcc10/KFtcXHdcXC5dKykvaSwvanVjLisodWN3ZWIpW1xcL1xcc10/KFtcXHdcXC5dKykvaV0sW1tnLFwiVUNCcm93c2VyXCJdLG1dLFsvKGRvbGZpbilcXC8oW1xcd1xcLl0rKS9pXSxbW2csXCJEb2xwaGluXCJdLG1dLFsvKCg/OmFuZHJvaWQuKyljcm1vfGNyaW9zKVxcLyhbXFx3XFwuXSspL2ldLFtbZyxcIkNocm9tZVwiXSxtXSxbLztmYmF2XFwvKFtcXHdcXC5dKyk7L2ldLFttLFtnLFwiRmFjZWJvb2tcIl1dLFsvZnhpb3NcXC8oW1xcd1xcLi1dKykvaV0sW20sW2csXCJGaXJlZm94XCJdXSxbL3ZlcnNpb25cXC8oW1xcd1xcLl0rKS4rP21vYmlsZVxcL1xcdytcXHMoc2FmYXJpKS9pXSxbbSxbZyxcIk1vYmlsZSBTYWZhcmlcIl1dLFsvdmVyc2lvblxcLyhbXFx3XFwuXSspLis/KG1vYmlsZVxccz9zYWZhcml8c2FmYXJpKS9pXSxbbSxnXSxbL3dlYmtpdC4rPyhtb2JpbGVcXHM/c2FmYXJpfHNhZmFyaSkoXFwvW1xcd1xcLl0rKS9pXSxbZyxbbSxDLmFjLE8udGkuQmQudmVyc2lvbl1dLFsvKGtvbnF1ZXJvcilcXC8oW1xcd1xcLl0rKS9pLC8od2Via2l0fGtodG1sKVxcLyhbXFx3XFwuXSspL2ldLFtnLG1dLFsvKG5hdmlnYXRvcnxuZXRzY2FwZSlcXC8oW1xcd1xcLi1dKykvaV0sW1tnLFwiTmV0c2NhcGVcIl0sbV0sWy8oc3dpZnRmb3gpL2ksLyhpY2VkcmFnb258aWNld2Vhc2VsfGNhbWlub3xjaGltZXJhfGZlbm5lY3xtYWVtb1xcc2Jyb3dzZXJ8bWluaW1vfGNvbmtlcm9yKVtcXC9cXHNdPyhbXFx3XFwuXFwrXSspL2ksLyhmaXJlZm94fHNlYW1vbmtleXxrLW1lbGVvbnxpY2VjYXR8aWNlYXBlfGZpcmViaXJkfHBob2VuaXgpXFwvKFtcXHdcXC4tXSspL2ksLyhtb3ppbGxhKVxcLyhbXFx3XFwuXSspLitydlxcOi4rZ2Vja29cXC9cXGQrL2ksLyhwb2xhcmlzfGx5bnh8ZGlsbG98aWNhYnxkb3Jpc3xhbWF5YXx3M218bmV0c3VyZnxzbGVpcG5pcilbXFwvXFxzXT8oW1xcd1xcLl0rKS9pLC8obGlua3MpXFxzXFwoKFtcXHdcXC5dKykvaSwvKGdvYnJvd3NlcilcXC8/KFtcXHdcXC5dKykqL2ksLyhpY2VcXHM/YnJvd3NlcilcXC92PyhbXFx3XFwuX10rKS9pLC8obW9zYWljKVtcXC9cXHNdKFtcXHdcXC5dKykvaV0sW2csbV1dLEdkOltbLyg/OihhbWR8eCg/Oig/Ojg2fDY0KVtfLV0pP3x3b3d8d2luKTY0KVs7XFwpXS9pXSxbW3csXCJhbWQ2NFwiXV0sWy8oaWEzMig/PTspKS9pXSxbW3csay5QZF1dLFsvKCg/OmlbMzQ2XXx4KTg2KVs7XFwpXS9pXSxbW3csXCJpYTMyXCJdXSxbL3dpbmRvd3NcXHMoY2V8bW9iaWxlKTtcXHNwcGM7L2ldLFtbdyxcImFybVwiXV0sWy8oKD86cHBjfHBvd2VycGMpKD86NjQpPykoPzpcXHNtYWN8O3xcXCkpL2ldLFtbdywvb3dlci8sXCJcIixrLlBkXV0sWy8oc3VuNFxcdylbO1xcKV0vaV0sW1t3LFwic3BhcmNcIl1dLFsvKCg/OmF2cjMyfGlhNjQoPz07KSl8NjhrKD89XFwpKXxhcm0oPzo2NHwoPz12XFxkKzspKXwoPz1hdG1lbFxccylhdnJ8KD86aXJpeHxtaXBzfHNwYXJjKSg/OjY0KT8oPz07KXxwYS1yaXNjKS9pXSxbW3csay5QZF1dXSxGZDpbWy9cXCgoaXBhZHxwbGF5Ym9vayk7W1xcd1xcc1xcKTstXSsocmltfGFwcGxlKS9pXSxbZix5LFt2LGJdXSxbL2FwcGxlY29yZW1lZGlhXFwvW1xcd1xcLl0rIFxcKChpcGFkKS9dLFtmLFt5LFwiQXBwbGVcIl0sW3YsYl1dLFsvKGFwcGxlXFxzezAsMX10dikvaV0sW1tmLFwiQXBwbGUgVFZcIl0sW3ksXCJBcHBsZVwiXV0sWy8oYXJjaG9zKVxccyhnYW1lcGFkMj8pL2ksLyhocCkuKyh0b3VjaHBhZCkvaSwvKGhwKS4rKHRhYmxldCkvaSwvKGtpbmRsZSlcXC8oW1xcd1xcLl0rKS9pLC9cXHMobm9vaylbXFx3XFxzXStidWlsZFxcLyhcXHcrKS9pLC8oZGVsbClcXHMoc3RyZWFba3ByXFxzXFxkXSpbXFxka29dKS9pXSxbeSxmLFt2LGJdXSxbLyhrZltBLXpdKylcXHNidWlsZFxcL1tcXHdcXC5dKy4qc2lsa1xcLy9pXSxbZixbeSxcIkFtYXpvblwiXSxbdixiXV0sWy8oc2R8a2YpWzAzNDloaWpvcnN0dXddK1xcc2J1aWxkXFwvW1xcd1xcLl0rLipzaWxrXFwvL2ldLFtbZixDLmFjLE8uRmQuX2QuRGRdLFt5LFwiQW1hem9uXCJdLFt2LFNdXSxbL1xcKChpcFtob25lZHxcXHNcXHcqXSspOy4rKGFwcGxlKS9pXSxbZix5LFt2LFNdXSxbL1xcKChpcFtob25lZHxcXHNcXHcqXSspOy9pXSxbZixbeSxcIkFwcGxlXCJdLFt2LFNdXSxbLyhibGFja2JlcnJ5KVtcXHMtXT8oXFx3KykvaSwvKGJsYWNrYmVycnl8YmVucXxwYWxtKD89XFwtKXxzb255ZXJpY3Nzb258YWNlcnxhc3VzfGRlbGx8aHVhd2VpfG1laXp1fG1vdG9yb2xhfHBvbHl0cm9uKVtcXHNfLV0/KFtcXHctXSspKi9pLC8oaHApXFxzKFtcXHdcXHNdK1xcdykvaSwvKGFzdXMpLT8oXFx3KykvaV0sW3ksZixbdixTXV0sWy9cXChiYjEwO1xccyhcXHcrKS9pXSxbZixbeSxcIkJsYWNrQmVycnlcIl0sW3YsU11dLFsvYW5kcm9pZC4rKHRyYW5zZm9bcHJpbWVcXHNdezQsMTB9XFxzXFx3K3xlZWVwY3xzbGlkZXJcXHNcXHcrfG5leHVzIDd8cGFkZm9uZSkvaV0sW2YsW3ksXCJBc3VzXCJdLFt2LGJdXSxbLyhzb255KVxccyh0YWJsZXRcXHNbcHNdKVxcc2J1aWxkXFwvL2ksLyhzb255KT8oPzpzZ3AuKylcXHNidWlsZFxcLy9pXSxbW3ksXCJTb255XCJdLFtmLFwiWHBlcmlhIFRhYmxldFwiXSxbdixiXV0sWy8oPzpzb255KT8oPzooPzooPzpjfGQpXFxkezR9KXwoPzpzb1stbF0uKykpXFxzYnVpbGRcXC8vaV0sW1t5LFwiU29ueVwiXSxbZixcIlhwZXJpYSBQaG9uZVwiXSxbdixTXV0sWy9cXHMob3V5YSlcXHMvaSwvKG5pbnRlbmRvKVxccyhbd2lkczN1XSspL2ldLFt5LGYsW3YsVF1dLFsvYW5kcm9pZC4rO1xccyhzaGllbGQpXFxzYnVpbGQvaV0sW2YsW3ksXCJOdmlkaWFcIl0sW3YsVF1dLFsvKHBsYXlzdGF0aW9uXFxzWzM0cG9ydGFibGV2aV0rKS9pXSxbZixbeSxcIlNvbnlcIl0sW3YsVF1dLFsvKHNwcmludFxccyhcXHcrKSkvaV0sW1t5LEMuYWMsTy5GZC5MZC52ZW5kb3JdLFtmLEMuYWMsTy5GZC5MZC5EZF0sW3YsU11dLFsvKGxlbm92bylcXHM/KFMoPzo1MDAwfDYwMDApKyg/OlstXVtcXHcrXSkpL2ldLFt5LGYsW3YsYl1dLFsvKGh0YylbO19cXHMtXSsoW1xcd1xcc10rKD89XFwpKXxcXHcrKSovaSwvKHp0ZSktKFxcdyspKi9pLC8oYWxjYXRlbHxnZWVrc3Bob25lfGh1YXdlaXxsZW5vdm98bmV4aWFufHBhbmFzb25pY3woPz07XFxzKXNvbnkpW19cXHMtXT8oW1xcdy1dKykqL2ldLFt5LFtmLC9fL2csXCIgXCJdLFt2LFNdXSxbLyhuZXh1c1xcczkpL2ldLFtmLFt5LFwiSFRDXCJdLFt2LGJdXSxbLyhuZXh1c1xcczZwKS9pXSxbZixbeSxcIkh1YXdlaVwiXSxbdixTXV0sWy8obWljcm9zb2Z0KTtcXHMobHVtaWFbXFxzXFx3XSspL2ldLFt5LGYsW3YsU11dLFsvW1xcc1xcKDtdKHhib3goPzpcXHNvbmUpPylbXFxzXFwpO10vaV0sW2YsW3ksXCJNaWNyb3NvZnRcIl0sW3YsVF1dLFsvKGtpblxcLltvbmV0d117M30pL2ldLFtbZiwvXFwuL2csXCIgXCJdLFt5LFwiTWljcm9zb2Z0XCJdLFt2LFNdXSxbL1xccyhtaWxlc3RvbmV8ZHJvaWQoPzpbMi00eF18XFxzKD86YmlvbmljfHgyfHByb3xyYXpyKSk/KDo/XFxzNGcpPylbXFx3XFxzXStidWlsZFxcLy9pLC9tb3RbXFxzLV0/KFxcdyspKi9pLC8oWFRcXGR7Myw0fSkgYnVpbGRcXC8vaSwvKG5leHVzXFxzNikvaV0sW2YsW3ksXCJNb3Rvcm9sYVwiXSxbdixTXV0sWy9hbmRyb2lkLitcXHMobXo2MFxcZHx4b29tW1xcczJdezAsMn0pXFxzYnVpbGRcXC8vaV0sW2YsW3ksXCJNb3Rvcm9sYVwiXSxbdixiXV0sWy9oYmJ0dlxcL1xcZCtcXC5cXGQrXFwuXFxkK1xccytcXChbXFx3XFxzXSo7XFxzKihcXHdbXjtdKik7KFteO10qKS9pXSxbW3ksay50cmltXSxbZixrLnRyaW1dLFt2LEVdXSxbL2hiYnR2LittYXBsZTsoXFxkKykvaV0sW1tmLC9eLyxcIlNtYXJ0VFZcIl0sW3ksXCJTYW1zdW5nXCJdLFt2LEVdXSxbL1xcKGR0dltcXCk7XS4rKGFxdW9zKS9pXSxbZixbeSxcIlNoYXJwXCJdLFt2LEVdXSxbL2FuZHJvaWQuKygoc2NoLWlbODldMFxcZHxzaHctbTM4MHN8Z3QtcFxcZHs0fXxndC1uXFxkK3xzZ2gtdDhbNTZdOXxuZXh1cyAxMCkpL2ksLygoU00tVFxcdyspKS9pXSxbW3ksXCJTYW1zdW5nXCJdLGYsW3YsYl1dLFsvc21hcnQtdHYuKyhzYW1zdW5nKS9pXSxbeSxbdixFXSxmXSxbLygoc1tjZ3BdaC1cXHcrfGd0LVxcdyt8Z2FsYXh5XFxzbmV4dXN8c20tXFx3W1xcd1xcZF0rKSkvaSwvKHNhbVtzdW5nXSopW1xccy1dKihcXHcrLT9bXFx3LV0qKSovaSwvc2VjLSgoc2doXFx3KykpL2ldLFtbeSxcIlNhbXN1bmdcIl0sZixbdixTXV0sWy9zaWUtKFxcdyspKi9pXSxbZixbeSxcIlNpZW1lbnNcIl0sW3YsU11dLFsvKG1hZW1vfG5va2lhKS4qKG45MDB8bHVtaWFcXHNcXGQrKS9pLC8obm9raWEpW1xcc18tXT8oW1xcdy1dKykqL2ldLFtbeSxcIk5va2lhXCJdLGYsW3YsU11dLFsvYW5kcm9pZFxcczNcXC5bXFxzXFx3Oy1dezEwfShhXFxkezN9KS9pXSxbZixbeSxcIkFjZXJcIl0sW3YsYl1dLFsvYW5kcm9pZFxcczNcXC5bXFxzXFx3Oy1dezEwfShsZz8pLShbMDZjdjldezMsNH0pL2ldLFtbeSxcIkxHXCJdLGYsW3YsYl1dLFsvKGxnKSBuZXRjYXN0XFwudHYvaV0sW3ksZixbdixFXV0sWy8obmV4dXNcXHNbNDVdKS9pLC9sZ1tlO1xcc1xcLy1dKyhcXHcrKSovaV0sW2YsW3ksXCJMR1wiXSxbdixTXV0sWy9hbmRyb2lkLisoaWRlYXRhYlthLXowLTlcXC1cXHNdKykvaV0sW2YsW3ksXCJMZW5vdm9cIl0sW3YsYl1dLFsvbGludXg7LisoKGpvbGxhKSk7L2ldLFt5LGYsW3YsU11dLFsvKChwZWJibGUpKWFwcFxcL1tcXGRcXC5dK1xccy9pXSxbeSxmLFt2LEldXSxbL2FuZHJvaWQuKztcXHMoZ2xhc3MpXFxzXFxkL2ldLFtmLFt5LFwiR29vZ2xlXCJdLFt2LEldXSxbL2FuZHJvaWQuKyhcXHcrKVxccytidWlsZFxcL2htXFwxL2ksL2FuZHJvaWQuKyhobVtcXHNcXC1fXSpub3RlP1tcXHNfXSooPzpcXGRcXHcpPylcXHMrYnVpbGQvaSwvYW5kcm9pZC4rKG1pW1xcc1xcLV9dKig/Om9uZXxvbmVbXFxzX11wbHVzfG5vdGUgbHRlKT9bXFxzX10qKD86XFxkXFx3KT8pXFxzK2J1aWxkL2ldLFtbZiwvXy9nLFwiIFwiXSxbeSxcIlhpYW9taVwiXSxbdixTXV0sWy9hbmRyb2lkLithMDAwKDEpXFxzK2J1aWxkL2ldLFtmLFt5LFwiT25lUGx1c1wiXSxbdixTXV0sWy9cXHModGFibGV0KVs7XFwvXS9pLC9cXHMobW9iaWxlKSg/Ols7XFwvXXxcXHNzYWZhcmkpL2ldLFtbdixrLlBkXSx5LGZdXSx6ZDpbWy93aW5kb3dzLitcXHNlZGdlXFwvKFtcXHdcXC5dKykvaV0sW20sW2csXCJFZGdlSFRNTFwiXV0sWy8ocHJlc3RvKVxcLyhbXFx3XFwuXSspL2ksLyh3ZWJraXR8dHJpZGVudHxuZXRmcm9udHxuZXRzdXJmfGFtYXlhfGx5bnh8dzNtKVxcLyhbXFx3XFwuXSspL2ksLyhraHRtbHx0YXNtYW58bGlua3MpW1xcL1xcc11cXCg/KFtcXHdcXC5dKykvaSwvKGljYWIpW1xcL1xcc10oWzIzXVxcLltcXGRcXC5dKykvaV0sW2csbV0sWy9ydlxcOihbXFx3XFwuXSspLiooZ2Vja28pL2ldLFttLGddXSxvczpbWy9taWNyb3NvZnRcXHMod2luZG93cylcXHModmlzdGF8eHApL2ldLFtnLG1dLFsvKHdpbmRvd3MpXFxzbnRcXHM2XFwuMjtcXHMoYXJtKS9pLC8od2luZG93c1xcc3Bob25lKD86XFxzb3MpKilbXFxzXFwvXT8oW1xcZFxcLlxcc10rXFx3KSovaSwvKHdpbmRvd3NcXHNtb2JpbGV8d2luZG93cylbXFxzXFwvXT8oW250Y2VcXGRcXC5cXHNdK1xcdykvaV0sW2csW20sQy5hYyxPLm9zLlZkLnZlcnNpb25dXSxbLyh3aW4oPz0zfDl8bil8d2luXFxzOXhcXHMpKFtudFxcZFxcLl0rKS9pXSxbW2csXCJXaW5kb3dzXCJdLFttLEMuYWMsTy5vcy5WZC52ZXJzaW9uXV0sWy9cXCgoYmIpKDEwKTsvaV0sW1tnLFwiQmxhY2tCZXJyeVwiXSxtXSxbLyhibGFja2JlcnJ5KVxcdypcXC8/KFtcXHdcXC5dKykqL2ksLyh0aXplbilbXFwvXFxzXShbXFx3XFwuXSspL2ksLyhhbmRyb2lkfHdlYm9zfHBhbG1cXHNvc3xxbnh8YmFkYXxyaW1cXHN0YWJsZXRcXHNvc3xtZWVnb3xjb250aWtpKVtcXC9cXHMtXT8oW1xcd1xcLl0rKSovaSwvbGludXg7Lisoc2FpbGZpc2gpOy9pXSxbZyxtXSxbLyhzeW1iaWFuXFxzP29zfHN5bWJvc3xzNjAoPz07KSlbXFwvXFxzLV0/KFtcXHdcXC5dKykqL2ldLFtbZyxcIlN5bWJpYW5cIl0sbV0sWy9cXCgoc2VyaWVzNDApOy9pXSxbZ10sWy9tb3ppbGxhLitcXChtb2JpbGU7LitnZWNrby4rZmlyZWZveC9pXSxbW2csXCJGaXJlZm94IE9TXCJdLG1dLFsvKG5pbnRlbmRvfHBsYXlzdGF0aW9uKVxccyhbd2lkczM0cG9ydGFibGV2dV0rKS9pLC8obWludClbXFwvXFxzXFwoXT8oXFx3KykqL2ksLyhtYWdlaWF8dmVjdG9ybGludXgpWztcXHNdL2ksLyhqb2xpfFtreGxuXT91YnVudHV8ZGViaWFufFtvcGVuXSpzdXNlfGdlbnRvb3woPz1cXHMpYXJjaHxzbGFja3dhcmV8ZmVkb3JhfG1hbmRyaXZhfGNlbnRvc3xwY2xpbnV4b3N8cmVkaGF0fHplbndhbGt8bGlucHVzKVtcXC9cXHMtXT8oPyFjaHJvbSkoW1xcd1xcLi1dKykqL2ksLyhodXJkfGxpbnV4KVxccz8oW1xcd1xcLl0rKSovaSwvKGdudSlcXHM/KFtcXHdcXC5dKykqL2ldLFtnLG1dLFsvKGNyb3MpXFxzW1xcd10rXFxzKFtcXHdcXC5dK1xcdykvaV0sW1tnLFwiQ2hyb21pdW0gT1NcIl0sbV0sWy8oc3Vub3MpXFxzPyhbXFx3XFwuXStcXGQpKi9pXSxbW2csXCJTb2xhcmlzXCJdLG1dLFsvXFxzKFtmcmVudG9wYy1dezAsNH1ic2R8ZHJhZ29uZmx5KVxccz8oW1xcd1xcLl0rKSovaV0sW2csbV0sWy8oaGFpa3UpXFxzKFxcdyspL2ldLFtnLG1dLFsvKGlwW2hvbmVhZF0rKSg/Oi4qb3NcXHMoW1xcd10rKSpcXHNsaWtlXFxzbWFjfDtcXHNvcGVyYSkvaV0sW1tnLFwiaU9TXCJdLFttLC9fL2csXCIuXCJdXSxbLyhtYWNcXHNvc1xcc3gpXFxzPyhbXFx3XFxzXFwuXStcXHcpKi9pLC8obWFjaW50b3NofG1hYyg/PV9wb3dlcnBjKVxccykvaV0sW1tnLFwiTWFjIE9TXCJdLFttLC9fL2csXCIuXCJdXSxbLygoPzpvcGVuKT9zb2xhcmlzKVtcXC9cXHMtXT8oW1xcd1xcLl0rKSovaSwvKGFpeClcXHMoKFxcZCkoPz1cXC58XFwpfFxccylbXFx3XFwuXSopKi9pLC8ocGxhblxcczl8bWluaXh8YmVvc3xvc1xcLzJ8YW1pZ2Fvc3xtb3JwaG9zfHJpc2NcXHNvc3xvcGVudm1zKS9pLC8odW5peClcXHM/KFtcXHdcXC5dKykqL2ldLFtnLG1dXX0sQT1mdW5jdGlvbih0LGUpe2lmKCEodGhpcyBpbnN0YW5jZW9mIEEpKXJldHVybiBuZXcgQSh0LGUpLldkKCk7dmFyIGk9dHx8KG4mJm4ubmF2aWdhdG9yJiZuLm5hdmlnYXRvci51c2VyQWdlbnQ/bi5uYXZpZ2F0b3IudXNlckFnZW50OmEpLHI9ZT9rLmV4dGVuZChQLGUpOlA7cmV0dXJuIHRoaXMuJGQ9ZnVuY3Rpb24oKXt2YXIgdD1DLk5kLmFwcGx5KHRoaXMsci50aSk7cmV0dXJuIHQuQWQ9ay5BZCh0LnZlcnNpb24pLHR9LHRoaXMuWWQ9ZnVuY3Rpb24oKXtyZXR1cm4gQy5OZC5hcHBseSh0aGlzLHIuR2QpfSx0aGlzLlhkPWZ1bmN0aW9uKCl7cmV0dXJuIEMuTmQuYXBwbHkodGhpcyxyLkZkKX0sdGhpcy5aZD1mdW5jdGlvbigpe3JldHVybiBDLk5kLmFwcGx5KHRoaXMsci56ZCl9LHRoaXMuUm49ZnVuY3Rpb24oKXtyZXR1cm4gQy5OZC5hcHBseSh0aGlzLHIub3MpfSx0aGlzLldkPWZ1bmN0aW9uKCl7cmV0dXJue3RmOnRoaXMueGQoKSx0aTp0aGlzLiRkKCksemQ6dGhpcy5aZCgpLG9zOnRoaXMuUm4oKSxGZDp0aGlzLlhkKCksR2Q6dGhpcy5ZZCgpfX0sdGhpcy54ZD1mdW5jdGlvbigpe3JldHVybiBpfSx0aGlzLkluPWZ1bmN0aW9uKHQpe3JldHVybiBpPXQsdGhpc30sdGhpc307QS5WRVJTSU9OPXMsQS5lZj17XCJpZlwiOmcscmY6ZCxWRVJTSU9OOm19LEEubmY9e3NmOnd9LEEuYWY9e2NmOmYsVkVORE9SOnksaGY6dixwZjpULHVmOlMsbGY6RSxkZjpiLGZmOkksZ2Y6Un0sQS52Zj17XCJpZlwiOmcsVkVSU0lPTjptfSxBLnlmPXtcImlmXCI6ZyxWRVJTSU9OOm19LHR5cGVvZiBlIT09cD8odHlwZW9mIHQhPT1wJiZ0LnQmJihlPXQudD1BKSxlLkNyPUEpOlwiZnVuY3Rpb25cIj09PWgmJmkoNjQpPyhyPWZ1bmN0aW9uKCl7cmV0dXJuIEF9LmNhbGwoZSxpLGUsdCksIShyIT09byYmKHQudD1yKSkpOm4uQ3I9QTt2YXIgTj1uLmpRdWVyeXx8bi5aZXB0bztpZih0eXBlb2YgTiE9PXApe3ZhciB4PW5ldyBBO04udGY9eC5XZCgpLE4udGYuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHgueGQoKX0sTi50Zi5zZXQ9ZnVuY3Rpb24odCl7eC5Jbih0KTt2YXIgZT14LldkKCk7Zm9yKHZhciBpIGluIGUpTi50ZltpXT1lW2ldfX19KFwib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3c/d2luZG93OnRoaXMpfSxmdW5jdGlvbih0LGUpe1NlcnZpY2VzPXsxOlwiUkVNT1RFX0VYRUNVVE9SXCIsbWY6MSwyOlwiUEVFUl9GT1JXQVJERVJcIix3ZjoyLDM6XCJQRUVSX0lOREVYXCIsVGY6Myw0OlwiUEVFUl9CUk9BRENBU1RcIixTZjo0LDU6XCJQRUVSX0ZJTFRFUlwiLGJmOjUsNjpcIlBFRVJfTE9HR0lOR1wiLEVmOjYsNzpcIkhJVkVKU19UUkFDS0VSXCIsSWY6Nyw4OlwiUEVFUl9TWVNURU1cIixSZjo4LDk6XCJISVZFSlNfU05BUFNIT1RTXCIsdG86OSwxMDpcIkhJVkVKU19USUNLRVRTXCIsa2Y6MTAsMTE6XCJISVZFSlNfS0VFUEFMSVZFXCIsQ2Y6MTEsMTI6XCJISVZFSlNfRk9SV0FSRElOR1wiLE9mOjEyfX0sZnVuY3Rpb24odCxlLGkpe3ZhciByPWkoMTYpO1N0cmVhbVR5cGU9ezE6XCJMSVZFXCIsTElWRToxLDI6XCJWT0RcIixQZjoyfSxTdHJlYW1Qcm90b2NvbD17MTpcIkRBU0hcIixydDoxLDI6XCJIRFNcIixBZjoyLDM6XCJITFNcIixZOjMsNDpcIlNTXCIsTmY6NH0sQ2xpZW50VHlwZT17MTpcIkpBVkFcIix4ZjoxLDI6XCJTVEFUU19PTkxZXCIsQmY6MiwzOlwiSlNfRElSRUNUXCIsRmY6Myw0OlwiSlNfUFJPWFlcIixfZjo0fSxFdmVudElkPWZ1bmN0aW9uKHQpe3RoaXMucGFydG5lcklkPW51bGwsdGhpcy5jdXN0b21lcklkPW51bGwsdGhpcy5jb250ZW50SWQ9bnVsbCx0aGlzLnRhZ3M9bnVsbCx0JiYodm9pZCAwIT09dC5wYXJ0bmVySWQmJih0aGlzLnBhcnRuZXJJZD10LnBhcnRuZXJJZCksdm9pZCAwIT09dC5jdXN0b21lcklkJiYodGhpcy5jdXN0b21lcklkPXQuY3VzdG9tZXJJZCksdm9pZCAwIT09dC5jb250ZW50SWQmJih0aGlzLmNvbnRlbnRJZD10LmNvbnRlbnRJZCksdm9pZCAwIT09dC50YWdzJiYodGhpcy50YWdzPXQudGFncykpfSxFdmVudElkLnByb3RvdHlwZT17fSxFdmVudElkLnByb3RvdHlwZS5yZWFkPWZ1bmN0aW9uKHQpe2Zvcih0LkhjKCk7Oyl7dmFyIGU9dC5zYSgpLGk9KGUuQmMsZS5hYSksbj1lLmNhO2lmKGk9PXIuYnMuRXMpYnJlYWs7c3dpdGNoKG4pe2Nhc2UgMTppPT1yLmJzLkFzP3RoaXMucGFydG5lcklkPXQuaGEoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2Nhc2UgMjppPT1yLmJzLkFzP3RoaXMuY3VzdG9tZXJJZD10LmhhKCkudmFsdWU6dC5wYShpKTticmVhaztjYXNlIDM6aT09ci5icy5Bcz90aGlzLmNvbnRlbnRJZD10LmhhKCkudmFsdWU6dC5wYShpKTticmVhaztjYXNlIDQ6aWYoaT09ci5icy5fcyl7dmFyIG8scz0wO3RoaXMudGFncz1bXTt2YXIgYT0wO289dC5WYygpLGE9by5RYyxzPW8uc2l6ZTtmb3IodmFyIGM9MDtjPHM7KytjKXt2YXIgaD1udWxsO2g9dC5oYSgpLnZhbHVlLHRoaXMudGFncy5wdXNoKGgpfXQucWMoKX1lbHNlIHQucGEoaSk7YnJlYWs7ZGVmYXVsdDp0LnBhKGkpfXQubGEoKX10LmRhKCl9LEV2ZW50SWQucHJvdG90eXBlLndyaXRlPWZ1bmN0aW9uKHQpe2lmKHQuZmEoXCJFdmVudElkXCIpLG51bGwhPT10aGlzLnBhcnRuZXJJZCYmdm9pZCAwIT09dGhpcy5wYXJ0bmVySWQmJih0LmdhKFwicGFydG5lcklkXCIsci5icy5BcywxKSx0LnZhKHRoaXMucGFydG5lcklkKSx0LnlhKCkpLG51bGwhPT10aGlzLmN1c3RvbWVySWQmJnZvaWQgMCE9PXRoaXMuY3VzdG9tZXJJZCYmKHQuZ2EoXCJjdXN0b21lcklkXCIsci5icy5BcywyKSx0LnZhKHRoaXMuY3VzdG9tZXJJZCksdC55YSgpKSxudWxsIT09dGhpcy5jb250ZW50SWQmJnZvaWQgMCE9PXRoaXMuY29udGVudElkJiYodC5nYShcImNvbnRlbnRJZFwiLHIuYnMuQXMsMyksdC52YSh0aGlzLmNvbnRlbnRJZCksdC55YSgpKSxudWxsIT09dGhpcy50YWdzJiZ2b2lkIDAhPT10aGlzLnRhZ3Mpe3QuZ2EoXCJ0YWdzXCIsci5icy5fcyw0KSx0LlRjKHIuYnMuQXMsdGhpcy50YWdzLmxlbmd0aCk7Zm9yKHZhciBlIGluIHRoaXMudGFncyl0aGlzLnRhZ3MuaGFzT3duUHJvcGVydHkoZSkmJihlPXRoaXMudGFnc1tlXSx0LnZhKGUpKTt0LlNjKCksdC55YSgpfXQud2EoKSx0LlRhKCl9LFNuYXBzaG90SW5mbz1mdW5jdGlvbih0KXt0aGlzLnRpbWVzdGFtcD1udWxsLHRoaXMuYXBpU2VydmVyPW51bGwsdGhpcy5jbGllbnRJcD1udWxsLHQmJih2b2lkIDAhPT10LnRpbWVzdGFtcCYmKHRoaXMudGltZXN0YW1wPXQudGltZXN0YW1wKSx2b2lkIDAhPT10LmFwaVNlcnZlciYmKHRoaXMuYXBpU2VydmVyPXQuYXBpU2VydmVyKSx2b2lkIDAhPT10LmNsaWVudElwJiYodGhpcy5jbGllbnRJcD10LmNsaWVudElwKSl9LFNuYXBzaG90SW5mby5wcm90b3R5cGU9e30sU25hcHNob3RJbmZvLnByb3RvdHlwZS5yZWFkPWZ1bmN0aW9uKHQpe2Zvcih0LkhjKCk7Oyl7dmFyIGU9dC5zYSgpLGk9KGUuQmMsZS5hYSksbj1lLmNhO2lmKGk9PXIuYnMuRXMpYnJlYWs7c3dpdGNoKG4pe2Nhc2UgMTppPT1yLmJzLlBzP3RoaXMudGltZXN0YW1wPXQuJGMoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2Nhc2UgMjppPT1yLmJzLkFzP3RoaXMuYXBpU2VydmVyPXQuaGEoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2Nhc2UgMzppPT1yLmJzLkFzP3RoaXMuY2xpZW50SXA9dC5oYSgpLnZhbHVlOnQucGEoaSk7YnJlYWs7ZGVmYXVsdDp0LnBhKGkpfXQubGEoKX10LmRhKCl9LFNuYXBzaG90SW5mby5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24odCl7dC5mYShcIlNuYXBzaG90SW5mb1wiKSxudWxsIT09dGhpcy50aW1lc3RhbXAmJnZvaWQgMCE9PXRoaXMudGltZXN0YW1wJiYodC5nYShcInRpbWVzdGFtcFwiLHIuYnMuUHMsMSksdC5DYyh0aGlzLnRpbWVzdGFtcCksdC55YSgpKSxudWxsIT09dGhpcy5hcGlTZXJ2ZXImJnZvaWQgMCE9PXRoaXMuYXBpU2VydmVyJiYodC5nYShcImFwaVNlcnZlclwiLHIuYnMuQXMsMiksdC52YSh0aGlzLmFwaVNlcnZlciksdC55YSgpKSxudWxsIT09dGhpcy5jbGllbnRJcCYmdm9pZCAwIT09dGhpcy5jbGllbnRJcCYmKHQuZ2EoXCJjbGllbnRJcFwiLHIuYnMuQXMsMyksdC52YSh0aGlzLmNsaWVudElwKSx0LnlhKCkpLHQud2EoKSx0LlRhKCl9LEluZXRBZGRyZXNzPWZ1bmN0aW9uKHQpe3RoaXMuYWRkcmVzcz1udWxsLHRoaXMucG9ydD1udWxsLHQmJih2b2lkIDAhPT10LmFkZHJlc3MmJih0aGlzLmFkZHJlc3M9dC5hZGRyZXNzKSx2b2lkIDAhPT10LnBvcnQmJih0aGlzLnBvcnQ9dC5wb3J0KSl9LEluZXRBZGRyZXNzLnByb3RvdHlwZT17fSxJbmV0QWRkcmVzcy5wcm90b3R5cGUucmVhZD1mdW5jdGlvbih0KXtmb3IodC5IYygpOzspe3ZhciBlPXQuc2EoKSxpPShlLkJjLGUuYWEpLG49ZS5jYTtpZihpPT1yLmJzLkVzKWJyZWFrO3N3aXRjaChuKXtjYXNlIDE6aT09ci5icy5Bcz90aGlzLmFkZHJlc3M9dC5YYygpLnZhbHVlOnQucGEoaSk7YnJlYWs7Y2FzZSAyOmk9PXIuYnMuT3M/dGhpcy5wb3J0PXQudWEoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2RlZmF1bHQ6dC5wYShpKX10LmxhKCl9dC5kYSgpfSxJbmV0QWRkcmVzcy5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24odCl7dC5mYShcIkluZXRBZGRyZXNzXCIpLG51bGwhPT10aGlzLmFkZHJlc3MmJnZvaWQgMCE9PXRoaXMuYWRkcmVzcyYmKHQuZ2EoXCJhZGRyZXNzXCIsci5icy5BcywxKSx0LlBjKHRoaXMuYWRkcmVzcyksdC55YSgpKSxudWxsIT09dGhpcy5wb3J0JiZ2b2lkIDAhPT10aGlzLnBvcnQmJih0LmdhKFwicG9ydFwiLHIuYnMuT3MsMiksdC5tYSh0aGlzLnBvcnQpLHQueWEoKSksdC53YSgpLHQuVGEoKX19LGZ1bmN0aW9uKHQsZSxpKXt2YXIgcj1pKDE2KTtcInVuZGVmaW5lZFwiPT10eXBlb2YgaGl2ZSYmKGhpdmU9e30pLFwidW5kZWZpbmVkXCI9PXR5cGVvZiBoaXZlLnNuYXBzaG90cyYmKGhpdmUuc25hcHNob3RzPXt9KSxoaXZlLnNuYXBzaG90cy5UcmFmZmljPWZ1bmN0aW9uKHQpe3RoaXMucmVxTj1udWxsLHRoaXMucmVzcEZhbGxiYWNrTj1udWxsLHRoaXMucmVzcEZhbGxiYWNrRXJyTj1udWxsLHRoaXMucmVzcFAycE49bnVsbCx0aGlzLnJlcU90aGVyTj1udWxsLHRoaXMucmVzcEZhbGxiYWNrT3RoZXJOPW51bGwsdGhpcy5yZXNwRmFsbGJhY2tPdGhlcnRFcnJOPW51bGwsdGhpcy5zcmNSZXFOPW51bGwsdGhpcy5zcmNSZXNwTj1udWxsLHRoaXMuc3JjUmVzcEVyck49bnVsbCx0aGlzLnNyY1JlcVF0PW51bGwsdGhpcy5zcmNSZXNwUXQ9bnVsbCx0aGlzLnNyY092ZXJRdD1udWxsLHRoaXMuc3JjT3RoZXJSZXFOPW51bGwsdGhpcy5zcmNPdGhlclJlc3BOPW51bGwsdGhpcy5zcmNPdGhlclJlc3BFcnJOPW51bGwsdGhpcy5zcmNPdGhlclJlcVF0PW51bGwsdGhpcy5zcmNPdGhlclJlc3BRdD1udWxsLHRoaXMuc3JjT3RoZXJPdmVyUXQ9bnVsbCx0aGlzLnAycFN1YlJlcU49bnVsbCx0aGlzLnAycFN1YlJlc3BOPW51bGwsdGhpcy5wMnBTdWJSZXNwUGFydE49bnVsbCx0aGlzLnAycFN1YlJlc3BFcnJOPW51bGwsdGhpcy5wMnBTdWJSZXNwRXhwTj1udWxsLHRoaXMucDJwU3ViUmVxUXQ9bnVsbCx0aGlzLnAycFN1YlJlc3BRdD1udWxsLHRoaXMucDJwRGlyZWN0UXQ9bnVsbCx0aGlzLnAycFJlbGF5UXQ9bnVsbCx0aGlzLnAycE5hdFF0PW51bGwsdGhpcy5wMnBVZHBiUXQ9bnVsbCx0aGlzLmZhbGxBZ2VudFJlc3BOPW51bGwsdGhpcy5mYWxsQWdlbnRQcmVkSGl0Tj1udWxsLHRoaXMuZmFsbEFnZW50RmFpbGVkUmVzcE49bnVsbCx0aGlzLmZhbGxBZ2VudFByZWRNaXNzTj1udWxsLHRoaXMuZmFsbEFnZW50UHJlZFBhcnRpYWxIaXROPW51bGwsdGhpcy5mYWxsQWdlblRyYWZmaWNTdWNjZXNzUXQ9bnVsbCx0aGlzLmZhbGxBZ2VuVHJhZmZpY0ZhaWx1cmVRdD1udWxsLHRoaXMucDJwQWdlbnRQcmVkSGl0Tj1udWxsLHRoaXMucDJwQWdlbnRQcmVkTWlzc049bnVsbCx0aGlzLnAycEFnZW50UHJlZFBhcnRpYWxIaXROPW51bGwsdGhpcy5wMnBBZ2VuVHJhZmZpY1N1Y2Nlc3NRdD1udWxsLHRoaXMucDJwQWdlblRyYWZmaWNGYWlsdXJlUXQ9bnVsbCx0aGlzLnJlc3BQMnBPdGhlck49bnVsbCx0aGlzLmxDYWNoZVJlc3BOPW51bGwsdGhpcy5sQ2FjaGVSZXNwUXQ9bnVsbCx0aGlzLnAycE91dFNpdGVMb3dQcmlvPW51bGwsdCYmKHZvaWQgMCE9PXQucmVxTiYmKHRoaXMucmVxTj10LnJlcU4pLHZvaWQgMCE9PXQucmVzcEZhbGxiYWNrTiYmKHRoaXMucmVzcEZhbGxiYWNrTj10LnJlc3BGYWxsYmFja04pLHZvaWQgMCE9PXQucmVzcEZhbGxiYWNrRXJyTiYmKHRoaXMucmVzcEZhbGxiYWNrRXJyTj10LnJlc3BGYWxsYmFja0Vyck4pLHZvaWQgMCE9PXQucmVzcFAycE4mJih0aGlzLnJlc3BQMnBOPXQucmVzcFAycE4pLHZvaWQgMCE9PXQucmVxT3RoZXJOJiYodGhpcy5yZXFPdGhlck49dC5yZXFPdGhlck4pLHZvaWQgMCE9PXQucmVzcEZhbGxiYWNrT3RoZXJOJiYodGhpcy5yZXNwRmFsbGJhY2tPdGhlck49dC5yZXNwRmFsbGJhY2tPdGhlck4pLHZvaWQgMCE9PXQucmVzcEZhbGxiYWNrT3RoZXJ0RXJyTiYmKHRoaXMucmVzcEZhbGxiYWNrT3RoZXJ0RXJyTj10LnJlc3BGYWxsYmFja090aGVydEVyck4pLHZvaWQgMCE9PXQuc3JjUmVxTiYmKHRoaXMuc3JjUmVxTj10LnNyY1JlcU4pLHZvaWQgMCE9PXQuc3JjUmVzcE4mJih0aGlzLnNyY1Jlc3BOPXQuc3JjUmVzcE4pLHZvaWQgMCE9PXQuc3JjUmVzcEVyck4mJih0aGlzLnNyY1Jlc3BFcnJOPXQuc3JjUmVzcEVyck4pLHZvaWQgMCE9PXQuc3JjUmVxUXQmJih0aGlzLnNyY1JlcVF0PXQuc3JjUmVxUXQpLHZvaWQgMCE9PXQuc3JjUmVzcFF0JiYodGhpcy5zcmNSZXNwUXQ9dC5zcmNSZXNwUXQpLHZvaWQgMCE9PXQuc3JjT3ZlclF0JiYodGhpcy5zcmNPdmVyUXQ9dC5zcmNPdmVyUXQpLHZvaWQgMCE9PXQuc3JjT3RoZXJSZXFOJiYodGhpcy5zcmNPdGhlclJlcU49dC5zcmNPdGhlclJlcU4pLHZvaWQgMCE9PXQuc3JjT3RoZXJSZXNwTiYmKHRoaXMuc3JjT3RoZXJSZXNwTj10LnNyY090aGVyUmVzcE4pLHZvaWQgMCE9PXQuc3JjT3RoZXJSZXNwRXJyTiYmKHRoaXMuc3JjT3RoZXJSZXNwRXJyTj10LnNyY090aGVyUmVzcEVyck4pLHZvaWQgMCE9PXQuc3JjT3RoZXJSZXFRdCYmKHRoaXMuc3JjT3RoZXJSZXFRdD10LnNyY090aGVyUmVxUXQpLHZvaWQgMCE9PXQuc3JjT3RoZXJSZXNwUXQmJih0aGlzLnNyY090aGVyUmVzcFF0PXQuc3JjT3RoZXJSZXNwUXQpLHZvaWQgMCE9PXQuc3JjT3RoZXJPdmVyUXQmJih0aGlzLnNyY090aGVyT3ZlclF0PXQuc3JjT3RoZXJPdmVyUXQpLFxudm9pZCAwIT09dC5wMnBTdWJSZXFOJiYodGhpcy5wMnBTdWJSZXFOPXQucDJwU3ViUmVxTiksdm9pZCAwIT09dC5wMnBTdWJSZXNwTiYmKHRoaXMucDJwU3ViUmVzcE49dC5wMnBTdWJSZXNwTiksdm9pZCAwIT09dC5wMnBTdWJSZXNwUGFydE4mJih0aGlzLnAycFN1YlJlc3BQYXJ0Tj10LnAycFN1YlJlc3BQYXJ0Tiksdm9pZCAwIT09dC5wMnBTdWJSZXNwRXJyTiYmKHRoaXMucDJwU3ViUmVzcEVyck49dC5wMnBTdWJSZXNwRXJyTiksdm9pZCAwIT09dC5wMnBTdWJSZXNwRXhwTiYmKHRoaXMucDJwU3ViUmVzcEV4cE49dC5wMnBTdWJSZXNwRXhwTiksdm9pZCAwIT09dC5wMnBTdWJSZXFRdCYmKHRoaXMucDJwU3ViUmVxUXQ9dC5wMnBTdWJSZXFRdCksdm9pZCAwIT09dC5wMnBTdWJSZXNwUXQmJih0aGlzLnAycFN1YlJlc3BRdD10LnAycFN1YlJlc3BRdCksdm9pZCAwIT09dC5wMnBEaXJlY3RRdCYmKHRoaXMucDJwRGlyZWN0UXQ9dC5wMnBEaXJlY3RRdCksdm9pZCAwIT09dC5wMnBSZWxheVF0JiYodGhpcy5wMnBSZWxheVF0PXQucDJwUmVsYXlRdCksdm9pZCAwIT09dC5wMnBOYXRRdCYmKHRoaXMucDJwTmF0UXQ9dC5wMnBOYXRRdCksdm9pZCAwIT09dC5wMnBVZHBiUXQmJih0aGlzLnAycFVkcGJRdD10LnAycFVkcGJRdCksdm9pZCAwIT09dC5mYWxsQWdlbnRSZXNwTiYmKHRoaXMuZmFsbEFnZW50UmVzcE49dC5mYWxsQWdlbnRSZXNwTiksdm9pZCAwIT09dC5mYWxsQWdlbnRQcmVkSGl0TiYmKHRoaXMuZmFsbEFnZW50UHJlZEhpdE49dC5mYWxsQWdlbnRQcmVkSGl0Tiksdm9pZCAwIT09dC5mYWxsQWdlbnRGYWlsZWRSZXNwTiYmKHRoaXMuZmFsbEFnZW50RmFpbGVkUmVzcE49dC5mYWxsQWdlbnRGYWlsZWRSZXNwTiksdm9pZCAwIT09dC5mYWxsQWdlbnRQcmVkTWlzc04mJih0aGlzLmZhbGxBZ2VudFByZWRNaXNzTj10LmZhbGxBZ2VudFByZWRNaXNzTiksdm9pZCAwIT09dC5mYWxsQWdlbnRQcmVkUGFydGlhbEhpdE4mJih0aGlzLmZhbGxBZ2VudFByZWRQYXJ0aWFsSGl0Tj10LmZhbGxBZ2VudFByZWRQYXJ0aWFsSGl0Tiksdm9pZCAwIT09dC5mYWxsQWdlblRyYWZmaWNTdWNjZXNzUXQmJih0aGlzLmZhbGxBZ2VuVHJhZmZpY1N1Y2Nlc3NRdD10LmZhbGxBZ2VuVHJhZmZpY1N1Y2Nlc3NRdCksdm9pZCAwIT09dC5mYWxsQWdlblRyYWZmaWNGYWlsdXJlUXQmJih0aGlzLmZhbGxBZ2VuVHJhZmZpY0ZhaWx1cmVRdD10LmZhbGxBZ2VuVHJhZmZpY0ZhaWx1cmVRdCksdm9pZCAwIT09dC5wMnBBZ2VudFByZWRIaXROJiYodGhpcy5wMnBBZ2VudFByZWRIaXROPXQucDJwQWdlbnRQcmVkSGl0Tiksdm9pZCAwIT09dC5wMnBBZ2VudFByZWRNaXNzTiYmKHRoaXMucDJwQWdlbnRQcmVkTWlzc049dC5wMnBBZ2VudFByZWRNaXNzTiksdm9pZCAwIT09dC5wMnBBZ2VudFByZWRQYXJ0aWFsSGl0TiYmKHRoaXMucDJwQWdlbnRQcmVkUGFydGlhbEhpdE49dC5wMnBBZ2VudFByZWRQYXJ0aWFsSGl0Tiksdm9pZCAwIT09dC5wMnBBZ2VuVHJhZmZpY1N1Y2Nlc3NRdCYmKHRoaXMucDJwQWdlblRyYWZmaWNTdWNjZXNzUXQ9dC5wMnBBZ2VuVHJhZmZpY1N1Y2Nlc3NRdCksdm9pZCAwIT09dC5wMnBBZ2VuVHJhZmZpY0ZhaWx1cmVRdCYmKHRoaXMucDJwQWdlblRyYWZmaWNGYWlsdXJlUXQ9dC5wMnBBZ2VuVHJhZmZpY0ZhaWx1cmVRdCksdm9pZCAwIT09dC5yZXNwUDJwT3RoZXJOJiYodGhpcy5yZXNwUDJwT3RoZXJOPXQucmVzcFAycE90aGVyTiksdm9pZCAwIT09dC5sQ2FjaGVSZXNwTiYmKHRoaXMubENhY2hlUmVzcE49dC5sQ2FjaGVSZXNwTiksdm9pZCAwIT09dC5sQ2FjaGVSZXNwUXQmJih0aGlzLmxDYWNoZVJlc3BRdD10LmxDYWNoZVJlc3BRdCksdm9pZCAwIT09dC5wMnBPdXRTaXRlTG93UHJpbyYmKHRoaXMucDJwT3V0U2l0ZUxvd1ByaW89dC5wMnBPdXRTaXRlTG93UHJpbykpfSxoaXZlLnNuYXBzaG90cy5UcmFmZmljLnByb3RvdHlwZT17fSxoaXZlLnNuYXBzaG90cy5UcmFmZmljLnByb3RvdHlwZS5yZWFkPWZ1bmN0aW9uKHQpe2Zvcih0LkhjKCk7Oyl7dmFyIGU9dC5zYSgpLGk9KGUuQmMsZS5hYSksbj1lLmNhO2lmKGk9PXIuYnMuRXMpYnJlYWs7c3dpdGNoKG4pe2Nhc2UgMTppPT1yLmJzLk9zP3RoaXMucmVxTj10LnVhKCkudmFsdWU6dC5wYShpKTticmVhaztjYXNlIDI6aT09ci5icy5rcz90aGlzLnJlc3BGYWxsYmFja049dC5ZYygpLnZhbHVlOnQucGEoaSk7YnJlYWs7Y2FzZSAzOmk9PXIuYnMuT3M/dGhpcy5yZXNwRmFsbGJhY2tFcnJOPXQudWEoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2Nhc2UgNDppPT1yLmJzLmtzP3RoaXMucmVzcFAycE49dC5ZYygpLnZhbHVlOnQucGEoaSk7YnJlYWs7Y2FzZSA1Omk9PXIuYnMuT3M/dGhpcy5yZXFPdGhlck49dC51YSgpLnZhbHVlOnQucGEoaSk7YnJlYWs7Y2FzZSA2Omk9PXIuYnMuT3M/dGhpcy5yZXNwRmFsbGJhY2tPdGhlck49dC51YSgpLnZhbHVlOnQucGEoaSk7YnJlYWs7Y2FzZSA3Omk9PXIuYnMuT3M/dGhpcy5yZXNwRmFsbGJhY2tPdGhlcnRFcnJOPXQudWEoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2Nhc2UgODppPT1yLmJzLk9zP3RoaXMuc3JjUmVxTj10LnVhKCkudmFsdWU6dC5wYShpKTticmVhaztjYXNlIDk6aT09ci5icy5Pcz90aGlzLnNyY1Jlc3BOPXQudWEoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2Nhc2UgMTA6aT09ci5icy5Pcz90aGlzLnNyY1Jlc3BFcnJOPXQudWEoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2Nhc2UgMTE6aT09ci5icy5Qcz90aGlzLnNyY1JlcVF0PXQuJGMoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2Nhc2UgMTI6aT09ci5icy5Qcz90aGlzLnNyY1Jlc3BRdD10LiRjKCkudmFsdWU6dC5wYShpKTticmVhaztjYXNlIDEzOmk9PXIuYnMuUHM/dGhpcy5zcmNPdmVyUXQ9dC4kYygpLnZhbHVlOnQucGEoaSk7YnJlYWs7Y2FzZSAxNDppPT1yLmJzLk9zP3RoaXMuc3JjT3RoZXJSZXFOPXQudWEoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2Nhc2UgMTU6aT09ci5icy5Pcz90aGlzLnNyY090aGVyUmVzcE49dC51YSgpLnZhbHVlOnQucGEoaSk7YnJlYWs7Y2FzZSAxNjppPT1yLmJzLk9zP3RoaXMuc3JjT3RoZXJSZXNwRXJyTj10LnVhKCkudmFsdWU6dC5wYShpKTticmVhaztjYXNlIDE3Omk9PXIuYnMuUHM/dGhpcy5zcmNPdGhlclJlcVF0PXQuJGMoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2Nhc2UgMTg6aT09ci5icy5Qcz90aGlzLnNyY090aGVyUmVzcFF0PXQuJGMoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2Nhc2UgMTk6aT09ci5icy5Qcz90aGlzLnNyY090aGVyT3ZlclF0PXQuJGMoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2Nhc2UgMjA6aT09ci5icy5Pcz90aGlzLnAycFN1YlJlcU49dC51YSgpLnZhbHVlOnQucGEoaSk7YnJlYWs7Y2FzZSAyMTppPT1yLmJzLk9zP3RoaXMucDJwU3ViUmVzcE49dC51YSgpLnZhbHVlOnQucGEoaSk7YnJlYWs7Y2FzZSAyMjppPT1yLmJzLmtzP3RoaXMucDJwU3ViUmVzcFBhcnROPXQuWWMoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2Nhc2UgMjM6aT09ci5icy5rcz90aGlzLnAycFN1YlJlc3BFcnJOPXQuWWMoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2Nhc2UgMjQ6aT09ci5icy5Pcz90aGlzLnAycFN1YlJlc3BFeHBOPXQudWEoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2Nhc2UgMjU6aT09ci5icy5Qcz90aGlzLnAycFN1YlJlcVF0PXQuJGMoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2Nhc2UgMjY6aT09ci5icy5Qcz90aGlzLnAycFN1YlJlc3BRdD10LiRjKCkudmFsdWU6dC5wYShpKTticmVhaztjYXNlIDI3Omk9PXIuYnMuUHM/dGhpcy5wMnBEaXJlY3RRdD10LiRjKCkudmFsdWU6dC5wYShpKTticmVhaztjYXNlIDI4Omk9PXIuYnMuUHM/dGhpcy5wMnBSZWxheVF0PXQuJGMoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2Nhc2UgMjk6aT09ci5icy5Qcz90aGlzLnAycE5hdFF0PXQuJGMoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2Nhc2UgMzA6aT09ci5icy5Qcz90aGlzLnAycFVkcGJRdD10LiRjKCkudmFsdWU6dC5wYShpKTticmVhaztjYXNlIDMxOmk9PXIuYnMuT3M/dGhpcy5mYWxsQWdlbnRSZXNwTj10LnVhKCkudmFsdWU6dC5wYShpKTticmVhaztjYXNlIDMyOmk9PXIuYnMuT3M/dGhpcy5mYWxsQWdlbnRQcmVkSGl0Tj10LnVhKCkudmFsdWU6dC5wYShpKTticmVhaztjYXNlIDMzOmk9PXIuYnMuT3M/dGhpcy5mYWxsQWdlbnRGYWlsZWRSZXNwTj10LnVhKCkudmFsdWU6dC5wYShpKTticmVhaztjYXNlIDM0Omk9PXIuYnMuT3M/dGhpcy5mYWxsQWdlbnRQcmVkTWlzc049dC51YSgpLnZhbHVlOnQucGEoaSk7YnJlYWs7Y2FzZSAzNTppPT1yLmJzLk9zP3RoaXMuZmFsbEFnZW50UHJlZFBhcnRpYWxIaXROPXQudWEoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2Nhc2UgMzY6aT09ci5icy5Qcz90aGlzLmZhbGxBZ2VuVHJhZmZpY1N1Y2Nlc3NRdD10LiRjKCkudmFsdWU6dC5wYShpKTticmVhaztjYXNlIDM3Omk9PXIuYnMuUHM/dGhpcy5mYWxsQWdlblRyYWZmaWNGYWlsdXJlUXQ9dC4kYygpLnZhbHVlOnQucGEoaSk7YnJlYWs7Y2FzZSAzODppPT1yLmJzLk9zP3RoaXMucDJwQWdlbnRQcmVkSGl0Tj10LnVhKCkudmFsdWU6dC5wYShpKTticmVhaztjYXNlIDM5Omk9PXIuYnMuT3M/dGhpcy5wMnBBZ2VudFByZWRNaXNzTj10LnVhKCkudmFsdWU6dC5wYShpKTticmVhaztjYXNlIDQwOmk9PXIuYnMuT3M/dGhpcy5wMnBBZ2VudFByZWRQYXJ0aWFsSGl0Tj10LnVhKCkudmFsdWU6dC5wYShpKTticmVhaztjYXNlIDQxOmk9PXIuYnMuUHM/dGhpcy5wMnBBZ2VuVHJhZmZpY1N1Y2Nlc3NRdD10LiRjKCkudmFsdWU6dC5wYShpKTticmVhaztjYXNlIDQyOmk9PXIuYnMuUHM/dGhpcy5wMnBBZ2VuVHJhZmZpY0ZhaWx1cmVRdD10LiRjKCkudmFsdWU6dC5wYShpKTticmVhaztjYXNlIDQzOmk9PXIuYnMuT3M/dGhpcy5yZXNwUDJwT3RoZXJOPXQudWEoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2Nhc2UgNDQ6aT09ci5icy5Pcz90aGlzLmxDYWNoZVJlc3BOPXQudWEoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2Nhc2UgNDU6aT09ci5icy5Qcz90aGlzLmxDYWNoZVJlc3BRdD10LiRjKCkudmFsdWU6dC5wYShpKTticmVhaztjYXNlIDQ2Omk9PXIuYnMuUHM/dGhpcy5wMnBPdXRTaXRlTG93UHJpbz10LiRjKCkudmFsdWU6dC5wYShpKTticmVhaztkZWZhdWx0OnQucGEoaSl9dC5sYSgpfXQuZGEoKX0saGl2ZS5zbmFwc2hvdHMuVHJhZmZpYy5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24odCl7dC5mYShcIlRyYWZmaWNcIiksbnVsbCE9PXRoaXMucmVxTiYmdm9pZCAwIT09dGhpcy5yZXFOJiYodC5nYShcInJlcU5cIixyLmJzLk9zLDEpLHQubWEodGhpcy5yZXFOKSx0LnlhKCkpLG51bGwhPT10aGlzLnJlc3BGYWxsYmFja04mJnZvaWQgMCE9PXRoaXMucmVzcEZhbGxiYWNrTiYmKHQuZ2EoXCJyZXNwRmFsbGJhY2tOXCIsci5icy5rcywyKSx0Lk9jKHRoaXMucmVzcEZhbGxiYWNrTiksdC55YSgpKSxudWxsIT09dGhpcy5yZXNwRmFsbGJhY2tFcnJOJiZ2b2lkIDAhPT10aGlzLnJlc3BGYWxsYmFja0Vyck4mJih0LmdhKFwicmVzcEZhbGxiYWNrRXJyTlwiLHIuYnMuT3MsMyksdC5tYSh0aGlzLnJlc3BGYWxsYmFja0Vyck4pLHQueWEoKSksbnVsbCE9PXRoaXMucmVzcFAycE4mJnZvaWQgMCE9PXRoaXMucmVzcFAycE4mJih0LmdhKFwicmVzcFAycE5cIixyLmJzLmtzLDQpLHQuT2ModGhpcy5yZXNwUDJwTiksdC55YSgpKSxudWxsIT09dGhpcy5yZXFPdGhlck4mJnZvaWQgMCE9PXRoaXMucmVxT3RoZXJOJiYodC5nYShcInJlcU90aGVyTlwiLHIuYnMuT3MsNSksdC5tYSh0aGlzLnJlcU90aGVyTiksdC55YSgpKSxudWxsIT09dGhpcy5yZXNwRmFsbGJhY2tPdGhlck4mJnZvaWQgMCE9PXRoaXMucmVzcEZhbGxiYWNrT3RoZXJOJiYodC5nYShcInJlc3BGYWxsYmFja090aGVyTlwiLHIuYnMuT3MsNiksdC5tYSh0aGlzLnJlc3BGYWxsYmFja090aGVyTiksdC55YSgpKSxudWxsIT09dGhpcy5yZXNwRmFsbGJhY2tPdGhlcnRFcnJOJiZ2b2lkIDAhPT10aGlzLnJlc3BGYWxsYmFja090aGVydEVyck4mJih0LmdhKFwicmVzcEZhbGxiYWNrT3RoZXJ0RXJyTlwiLHIuYnMuT3MsNyksdC5tYSh0aGlzLnJlc3BGYWxsYmFja090aGVydEVyck4pLHQueWEoKSksbnVsbCE9PXRoaXMuc3JjUmVxTiYmdm9pZCAwIT09dGhpcy5zcmNSZXFOJiYodC5nYShcInNyY1JlcU5cIixyLmJzLk9zLDgpLHQubWEodGhpcy5zcmNSZXFOKSx0LnlhKCkpLG51bGwhPT10aGlzLnNyY1Jlc3BOJiZ2b2lkIDAhPT10aGlzLnNyY1Jlc3BOJiYodC5nYShcInNyY1Jlc3BOXCIsci5icy5Pcyw5KSx0Lm1hKHRoaXMuc3JjUmVzcE4pLHQueWEoKSksbnVsbCE9PXRoaXMuc3JjUmVzcEVyck4mJnZvaWQgMCE9PXRoaXMuc3JjUmVzcEVyck4mJih0LmdhKFwic3JjUmVzcEVyck5cIixyLmJzLk9zLDEwKSx0Lm1hKHRoaXMuc3JjUmVzcEVyck4pLHQueWEoKSksbnVsbCE9PXRoaXMuc3JjUmVxUXQmJnZvaWQgMCE9PXRoaXMuc3JjUmVxUXQmJih0LmdhKFwic3JjUmVxUXRcIixyLmJzLlBzLDExKSx0LkNjKHRoaXMuc3JjUmVxUXQpLHQueWEoKSksbnVsbCE9PXRoaXMuc3JjUmVzcFF0JiZ2b2lkIDAhPT10aGlzLnNyY1Jlc3BRdCYmKHQuZ2EoXCJzcmNSZXNwUXRcIixyLmJzLlBzLDEyKSx0LkNjKHRoaXMuc3JjUmVzcFF0KSx0LnlhKCkpLG51bGwhPT10aGlzLnNyY092ZXJRdCYmdm9pZCAwIT09dGhpcy5zcmNPdmVyUXQmJih0LmdhKFwic3JjT3ZlclF0XCIsci5icy5QcywxMyksdC5DYyh0aGlzLnNyY092ZXJRdCksdC55YSgpKSxudWxsIT09dGhpcy5zcmNPdGhlclJlcU4mJnZvaWQgMCE9PXRoaXMuc3JjT3RoZXJSZXFOJiYodC5nYShcInNyY090aGVyUmVxTlwiLHIuYnMuT3MsMTQpLHQubWEodGhpcy5zcmNPdGhlclJlcU4pLHQueWEoKSksbnVsbCE9PXRoaXMuc3JjT3RoZXJSZXNwTiYmdm9pZCAwIT09dGhpcy5zcmNPdGhlclJlc3BOJiYodC5nYShcInNyY090aGVyUmVzcE5cIixyLmJzLk9zLDE1KSx0Lm1hKHRoaXMuc3JjT3RoZXJSZXNwTiksdC55YSgpKSxudWxsIT09dGhpcy5zcmNPdGhlclJlc3BFcnJOJiZ2b2lkIDAhPT10aGlzLnNyY090aGVyUmVzcEVyck4mJih0LmdhKFwic3JjT3RoZXJSZXNwRXJyTlwiLHIuYnMuT3MsMTYpLHQubWEodGhpcy5zcmNPdGhlclJlc3BFcnJOKSx0LnlhKCkpLG51bGwhPT10aGlzLnNyY090aGVyUmVxUXQmJnZvaWQgMCE9PXRoaXMuc3JjT3RoZXJSZXFRdCYmKHQuZ2EoXCJzcmNPdGhlclJlcVF0XCIsci5icy5QcywxNyksdC5DYyh0aGlzLnNyY090aGVyUmVxUXQpLHQueWEoKSksbnVsbCE9PXRoaXMuc3JjT3RoZXJSZXNwUXQmJnZvaWQgMCE9PXRoaXMuc3JjT3RoZXJSZXNwUXQmJih0LmdhKFwic3JjT3RoZXJSZXNwUXRcIixyLmJzLlBzLDE4KSx0LkNjKHRoaXMuc3JjT3RoZXJSZXNwUXQpLHQueWEoKSksbnVsbCE9PXRoaXMuc3JjT3RoZXJPdmVyUXQmJnZvaWQgMCE9PXRoaXMuc3JjT3RoZXJPdmVyUXQmJih0LmdhKFwic3JjT3RoZXJPdmVyUXRcIixyLmJzLlBzLDE5KSx0LkNjKHRoaXMuc3JjT3RoZXJPdmVyUXQpLHQueWEoKSksbnVsbCE9PXRoaXMucDJwU3ViUmVxTiYmdm9pZCAwIT09dGhpcy5wMnBTdWJSZXFOJiYodC5nYShcInAycFN1YlJlcU5cIixyLmJzLk9zLDIwKSx0Lm1hKHRoaXMucDJwU3ViUmVxTiksdC55YSgpKSxudWxsIT09dGhpcy5wMnBTdWJSZXNwTiYmdm9pZCAwIT09dGhpcy5wMnBTdWJSZXNwTiYmKHQuZ2EoXCJwMnBTdWJSZXNwTlwiLHIuYnMuT3MsMjEpLHQubWEodGhpcy5wMnBTdWJSZXNwTiksdC55YSgpKSxudWxsIT09dGhpcy5wMnBTdWJSZXNwUGFydE4mJnZvaWQgMCE9PXRoaXMucDJwU3ViUmVzcFBhcnROJiYodC5nYShcInAycFN1YlJlc3BQYXJ0TlwiLHIuYnMua3MsMjIpLHQuT2ModGhpcy5wMnBTdWJSZXNwUGFydE4pLHQueWEoKSksbnVsbCE9PXRoaXMucDJwU3ViUmVzcEVyck4mJnZvaWQgMCE9PXRoaXMucDJwU3ViUmVzcEVyck4mJih0LmdhKFwicDJwU3ViUmVzcEVyck5cIixyLmJzLmtzLDIzKSx0Lk9jKHRoaXMucDJwU3ViUmVzcEVyck4pLHQueWEoKSksbnVsbCE9PXRoaXMucDJwU3ViUmVzcEV4cE4mJnZvaWQgMCE9PXRoaXMucDJwU3ViUmVzcEV4cE4mJih0LmdhKFwicDJwU3ViUmVzcEV4cE5cIixyLmJzLk9zLDI0KSx0Lm1hKHRoaXMucDJwU3ViUmVzcEV4cE4pLHQueWEoKSksbnVsbCE9PXRoaXMucDJwU3ViUmVxUXQmJnZvaWQgMCE9PXRoaXMucDJwU3ViUmVxUXQmJih0LmdhKFwicDJwU3ViUmVxUXRcIixyLmJzLlBzLDI1KSx0LkNjKHRoaXMucDJwU3ViUmVxUXQpLHQueWEoKSksbnVsbCE9PXRoaXMucDJwU3ViUmVzcFF0JiZ2b2lkIDAhPT10aGlzLnAycFN1YlJlc3BRdCYmKHQuZ2EoXCJwMnBTdWJSZXNwUXRcIixyLmJzLlBzLDI2KSx0LkNjKHRoaXMucDJwU3ViUmVzcFF0KSx0LnlhKCkpLG51bGwhPT10aGlzLnAycERpcmVjdFF0JiZ2b2lkIDAhPT10aGlzLnAycERpcmVjdFF0JiYodC5nYShcInAycERpcmVjdFF0XCIsci5icy5QcywyNyksdC5DYyh0aGlzLnAycERpcmVjdFF0KSx0LnlhKCkpLG51bGwhPT10aGlzLnAycFJlbGF5UXQmJnZvaWQgMCE9PXRoaXMucDJwUmVsYXlRdCYmKHQuZ2EoXCJwMnBSZWxheVF0XCIsci5icy5QcywyOCksdC5DYyh0aGlzLnAycFJlbGF5UXQpLHQueWEoKSksbnVsbCE9PXRoaXMucDJwTmF0UXQmJnZvaWQgMCE9PXRoaXMucDJwTmF0UXQmJih0LmdhKFwicDJwTmF0UXRcIixyLmJzLlBzLDI5KSx0LkNjKHRoaXMucDJwTmF0UXQpLHQueWEoKSksbnVsbCE9PXRoaXMucDJwVWRwYlF0JiZ2b2lkIDAhPT10aGlzLnAycFVkcGJRdCYmKHQuZ2EoXCJwMnBVZHBiUXRcIixyLmJzLlBzLDMwKSx0LkNjKHRoaXMucDJwVWRwYlF0KSx0LnlhKCkpLG51bGwhPT10aGlzLmZhbGxBZ2VudFJlc3BOJiZ2b2lkIDAhPT10aGlzLmZhbGxBZ2VudFJlc3BOJiYodC5nYShcImZhbGxBZ2VudFJlc3BOXCIsci5icy5PcywzMSksdC5tYSh0aGlzLmZhbGxBZ2VudFJlc3BOKSx0LnlhKCkpLG51bGwhPT10aGlzLmZhbGxBZ2VudFByZWRIaXROJiZ2b2lkIDAhPT10aGlzLmZhbGxBZ2VudFByZWRIaXROJiYodC5nYShcImZhbGxBZ2VudFByZWRIaXROXCIsci5icy5PcywzMiksdC5tYSh0aGlzLmZhbGxBZ2VudFByZWRIaXROKSx0LnlhKCkpLG51bGwhPT10aGlzLmZhbGxBZ2VudEZhaWxlZFJlc3BOJiZ2b2lkIDAhPT10aGlzLmZhbGxBZ2VudEZhaWxlZFJlc3BOJiYodC5nYShcImZhbGxBZ2VudEZhaWxlZFJlc3BOXCIsci5icy5PcywzMyksdC5tYSh0aGlzLmZhbGxBZ2VudEZhaWxlZFJlc3BOKSx0LnlhKCkpLG51bGwhPT10aGlzLmZhbGxBZ2VudFByZWRNaXNzTiYmdm9pZCAwIT09dGhpcy5mYWxsQWdlbnRQcmVkTWlzc04mJih0LmdhKFwiZmFsbEFnZW50UHJlZE1pc3NOXCIsci5icy5PcywzNCksdC5tYSh0aGlzLmZhbGxBZ2VudFByZWRNaXNzTiksdC55YSgpKSxudWxsIT09dGhpcy5mYWxsQWdlbnRQcmVkUGFydGlhbEhpdE4mJnZvaWQgMCE9PXRoaXMuZmFsbEFnZW50UHJlZFBhcnRpYWxIaXROJiYodC5nYShcImZhbGxBZ2VudFByZWRQYXJ0aWFsSGl0TlwiLHIuYnMuT3MsMzUpLHQubWEodGhpcy5mYWxsQWdlbnRQcmVkUGFydGlhbEhpdE4pLHQueWEoKSksbnVsbCE9PXRoaXMuZmFsbEFnZW5UcmFmZmljU3VjY2Vzc1F0JiZ2b2lkIDAhPT10aGlzLmZhbGxBZ2VuVHJhZmZpY1N1Y2Nlc3NRdCYmKHQuZ2EoXCJmYWxsQWdlblRyYWZmaWNTdWNjZXNzUXRcIixyLmJzLlBzLDM2KSx0LkNjKHRoaXMuZmFsbEFnZW5UcmFmZmljU3VjY2Vzc1F0KSx0LnlhKCkpLG51bGwhPT10aGlzLmZhbGxBZ2VuVHJhZmZpY0ZhaWx1cmVRdCYmdm9pZCAwIT09dGhpcy5mYWxsQWdlblRyYWZmaWNGYWlsdXJlUXQmJih0LmdhKFwiZmFsbEFnZW5UcmFmZmljRmFpbHVyZVF0XCIsci5icy5QcywzNyksdC5DYyh0aGlzLmZhbGxBZ2VuVHJhZmZpY0ZhaWx1cmVRdCksdC55YSgpKSxudWxsIT09dGhpcy5wMnBBZ2VudFByZWRIaXROJiZ2b2lkIDAhPT10aGlzLnAycEFnZW50UHJlZEhpdE4mJih0LmdhKFwicDJwQWdlbnRQcmVkSGl0TlwiLHIuYnMuT3MsMzgpLHQubWEodGhpcy5wMnBBZ2VudFByZWRIaXROKSx0LnlhKCkpLG51bGwhPT10aGlzLnAycEFnZW50UHJlZE1pc3NOJiZ2b2lkIDAhPT10aGlzLnAycEFnZW50UHJlZE1pc3NOJiYodC5nYShcInAycEFnZW50UHJlZE1pc3NOXCIsci5icy5PcywzOSksdC5tYSh0aGlzLnAycEFnZW50UHJlZE1pc3NOKSx0LnlhKCkpLG51bGwhPT10aGlzLnAycEFnZW50UHJlZFBhcnRpYWxIaXROJiZ2b2lkIDAhPT10aGlzLnAycEFnZW50UHJlZFBhcnRpYWxIaXROJiYodC5nYShcInAycEFnZW50UHJlZFBhcnRpYWxIaXROXCIsci5icy5Pcyw0MCksdC5tYSh0aGlzLnAycEFnZW50UHJlZFBhcnRpYWxIaXROKSx0LnlhKCkpLG51bGwhPT10aGlzLnAycEFnZW5UcmFmZmljU3VjY2Vzc1F0JiZ2b2lkIDAhPT10aGlzLnAycEFnZW5UcmFmZmljU3VjY2Vzc1F0JiYodC5nYShcInAycEFnZW5UcmFmZmljU3VjY2Vzc1F0XCIsci5icy5Qcyw0MSksdC5DYyh0aGlzLnAycEFnZW5UcmFmZmljU3VjY2Vzc1F0KSx0LnlhKCkpLG51bGwhPT10aGlzLnAycEFnZW5UcmFmZmljRmFpbHVyZVF0JiZ2b2lkIDAhPT10aGlzLnAycEFnZW5UcmFmZmljRmFpbHVyZVF0JiYodC5nYShcInAycEFnZW5UcmFmZmljRmFpbHVyZVF0XCIsci5icy5Qcyw0MiksdC5DYyh0aGlzLnAycEFnZW5UcmFmZmljRmFpbHVyZVF0KSx0LnlhKCkpLG51bGwhPT10aGlzLnJlc3BQMnBPdGhlck4mJnZvaWQgMCE9PXRoaXMucmVzcFAycE90aGVyTiYmKHQuZ2EoXCJyZXNwUDJwT3RoZXJOXCIsci5icy5Pcyw0MyksdC5tYSh0aGlzLnJlc3BQMnBPdGhlck4pLHQueWEoKSksbnVsbCE9PXRoaXMubENhY2hlUmVzcE4mJnZvaWQgMCE9PXRoaXMubENhY2hlUmVzcE4mJih0LmdhKFwibENhY2hlUmVzcE5cIixyLmJzLk9zLDQ0KSx0Lm1hKHRoaXMubENhY2hlUmVzcE4pLHQueWEoKSksbnVsbCE9PXRoaXMubENhY2hlUmVzcFF0JiZ2b2lkIDAhPT10aGlzLmxDYWNoZVJlc3BRdCYmKHQuZ2EoXCJsQ2FjaGVSZXNwUXRcIixyLmJzLlBzLDQ1KSx0LkNjKHRoaXMubENhY2hlUmVzcFF0KSx0LnlhKCkpLG51bGwhPT10aGlzLnAycE91dFNpdGVMb3dQcmlvJiZ2b2lkIDAhPT10aGlzLnAycE91dFNpdGVMb3dQcmlvJiYodC5nYShcInAycE91dFNpdGVMb3dQcmlvXCIsci5icy5Qcyw0NiksdC5DYyh0aGlzLnAycE91dFNpdGVMb3dQcmlvKSx0LnlhKCkpLHQud2EoKSx0LlRhKCl9LGhpdmUuc25hcHNob3RzLk1ldHJpY3M9ZnVuY3Rpb24odCl7dGhpcy51cEJXPW51bGwsdGhpcy5kb3duQlc9bnVsbCx0aGlzLm1lbU49bnVsbCx0aGlzLnBydEluTj1udWxsLHRoaXMucHJ0T3V0Tj1udWxsLHRoaXMuaW5pdFZpZGVvQnVmUXQ9bnVsbCx0aGlzLnZpZGVvQXZnQnVmUXQ9bnVsbCx0aGlzLnZpZGVvQnVmUXQ9bnVsbCx0aGlzLnZpZGVvQnVmTj1udWxsLHRoaXMuaW5pdEF1ZGlvQnVmUXQ9bnVsbCx0aGlzLmF1ZGlvQXZnQnVmUXQ9bnVsbCx0aGlzLmF1ZGlvQnVmUXQ9bnVsbCx0aGlzLmF1ZGlvQnVmTj1udWxsLHRoaXMuYml0cmF0ZVVwTj1udWxsLHRoaXMuYml0cmF0ZUR3bk49bnVsbCx0aGlzLmRlbGF5PW51bGwsdGhpcy5kZWxheUVuZm9yY2VtZW50PW51bGwsdGhpcy5sb29rdXBSZXFFc3RhYmxpc2hlZD1udWxsLHRoaXMubG9va3VwUmVxQWNjZXB0PW51bGwsdGhpcy5mYWxsYmFja0F2Z1RwPW51bGwsdGhpcy5zcmNUaHJvdWdocHV0PW51bGwsdGhpcy5kaXNrUmVhZFRpbWVvdXQ9bnVsbCx0aGlzLmRpc2tSZWFkUmF0ZT1udWxsLHRoaXMuZGlza1N0b3JlUmF0ZT1udWxsLHRoaXMuZGlza1JlbW92ZVJhdGU9bnVsbCx0aGlzLmRpc2tDYWNoZVNpemU9bnVsbCx0aGlzLmNsaWVudEJ1ZmZlck1zPW51bGwsdGhpcy5sb29rdXBUb3RhbD1udWxsLHRoaXMubG9va3VwTm90Rm91bmQ9bnVsbCx0aGlzLmxvb2t1cEZhaWxlZD1udWxsLHRoaXMubG9va3VwTGF0ZW5jeT1udWxsLHRoaXMudHJhY2tlckZhaWxlZD1udWxsLHRoaXMudHJhY2tlckxhdGVuY3k9bnVsbCx0aGlzLnNuYXBzaG90RmFpbGVkPW51bGwsdGhpcy5zbmFwc2hvdExhdGVuY3k9bnVsbCx0JiYodm9pZCAwIT09dC51cEJXJiYodGhpcy51cEJXPXQudXBCVyksdm9pZCAwIT09dC5kb3duQlcmJih0aGlzLmRvd25CVz10LmRvd25CVyksdm9pZCAwIT09dC5tZW1OJiYodGhpcy5tZW1OPXQubWVtTiksdm9pZCAwIT09dC5wcnRJbk4mJih0aGlzLnBydEluTj10LnBydEluTiksdm9pZCAwIT09dC5wcnRPdXROJiYodGhpcy5wcnRPdXROPXQucHJ0T3V0Tiksdm9pZCAwIT09dC5pbml0VmlkZW9CdWZRdCYmKHRoaXMuaW5pdFZpZGVvQnVmUXQ9dC5pbml0VmlkZW9CdWZRdCksdm9pZCAwIT09dC52aWRlb0F2Z0J1ZlF0JiYodGhpcy52aWRlb0F2Z0J1ZlF0PXQudmlkZW9BdmdCdWZRdCksdm9pZCAwIT09dC52aWRlb0J1ZlF0JiYodGhpcy52aWRlb0J1ZlF0PXQudmlkZW9CdWZRdCksdm9pZCAwIT09dC52aWRlb0J1Zk4mJih0aGlzLnZpZGVvQnVmTj10LnZpZGVvQnVmTiksdm9pZCAwIT09dC5pbml0QXVkaW9CdWZRdCYmKHRoaXMuaW5pdEF1ZGlvQnVmUXQ9dC5pbml0QXVkaW9CdWZRdCksdm9pZCAwIT09dC5hdWRpb0F2Z0J1ZlF0JiYodGhpcy5hdWRpb0F2Z0J1ZlF0PXQuYXVkaW9BdmdCdWZRdCksdm9pZCAwIT09dC5hdWRpb0J1ZlF0JiYodGhpcy5hdWRpb0J1ZlF0PXQuYXVkaW9CdWZRdCksdm9pZCAwIT09dC5hdWRpb0J1Zk4mJih0aGlzLmF1ZGlvQnVmTj10LmF1ZGlvQnVmTiksdm9pZCAwIT09dC5iaXRyYXRlVXBOJiYodGhpcy5iaXRyYXRlVXBOPXQuYml0cmF0ZVVwTiksdm9pZCAwIT09dC5iaXRyYXRlRHduTiYmKHRoaXMuYml0cmF0ZUR3bk49dC5iaXRyYXRlRHduTiksdm9pZCAwIT09dC5kZWxheSYmKHRoaXMuZGVsYXk9dC5kZWxheSksdm9pZCAwIT09dC5kZWxheUVuZm9yY2VtZW50JiYodGhpcy5kZWxheUVuZm9yY2VtZW50PXQuZGVsYXlFbmZvcmNlbWVudCksdm9pZCAwIT09dC5sb29rdXBSZXFFc3RhYmxpc2hlZCYmKHRoaXMubG9va3VwUmVxRXN0YWJsaXNoZWQ9dC5sb29rdXBSZXFFc3RhYmxpc2hlZCksdm9pZCAwIT09dC5sb29rdXBSZXFBY2NlcHQmJih0aGlzLmxvb2t1cFJlcUFjY2VwdD10Lmxvb2t1cFJlcUFjY2VwdCksdm9pZCAwIT09dC5mYWxsYmFja0F2Z1RwJiYodGhpcy5mYWxsYmFja0F2Z1RwPXQuZmFsbGJhY2tBdmdUcCksdm9pZCAwIT09dC5zcmNUaHJvdWdocHV0JiYodGhpcy5zcmNUaHJvdWdocHV0PXQuc3JjVGhyb3VnaHB1dCksdm9pZCAwIT09dC5kaXNrUmVhZFRpbWVvdXQmJih0aGlzLmRpc2tSZWFkVGltZW91dD10LmRpc2tSZWFkVGltZW91dCksdm9pZCAwIT09dC5kaXNrUmVhZFJhdGUmJih0aGlzLmRpc2tSZWFkUmF0ZT10LmRpc2tSZWFkUmF0ZSksdm9pZCAwIT09dC5kaXNrU3RvcmVSYXRlJiYodGhpcy5kaXNrU3RvcmVSYXRlPXQuZGlza1N0b3JlUmF0ZSksdm9pZCAwIT09dC5kaXNrUmVtb3ZlUmF0ZSYmKHRoaXMuZGlza1JlbW92ZVJhdGU9dC5kaXNrUmVtb3ZlUmF0ZSksdm9pZCAwIT09dC5kaXNrQ2FjaGVTaXplJiYodGhpcy5kaXNrQ2FjaGVTaXplPXQuZGlza0NhY2hlU2l6ZSksdm9pZCAwIT09dC5jbGllbnRCdWZmZXJNcyYmKHRoaXMuY2xpZW50QnVmZmVyTXM9dC5jbGllbnRCdWZmZXJNcyksdm9pZCAwIT09dC5sb29rdXBUb3RhbCYmKHRoaXMubG9va3VwVG90YWw9dC5sb29rdXBUb3RhbCksdm9pZCAwIT09dC5sb29rdXBOb3RGb3VuZCYmKHRoaXMubG9va3VwTm90Rm91bmQ9dC5sb29rdXBOb3RGb3VuZCksdm9pZCAwIT09dC5sb29rdXBGYWlsZWQmJih0aGlzLmxvb2t1cEZhaWxlZD10Lmxvb2t1cEZhaWxlZCksdm9pZCAwIT09dC5sb29rdXBMYXRlbmN5JiYodGhpcy5sb29rdXBMYXRlbmN5PXQubG9va3VwTGF0ZW5jeSksdm9pZCAwIT09dC50cmFja2VyRmFpbGVkJiYodGhpcy50cmFja2VyRmFpbGVkPXQudHJhY2tlckZhaWxlZCksdm9pZCAwIT09dC50cmFja2VyTGF0ZW5jeSYmKHRoaXMudHJhY2tlckxhdGVuY3k9dC50cmFja2VyTGF0ZW5jeSksdm9pZCAwIT09dC5zbmFwc2hvdEZhaWxlZCYmKHRoaXMuc25hcHNob3RGYWlsZWQ9dC5zbmFwc2hvdEZhaWxlZCksdm9pZCAwIT09dC5zbmFwc2hvdExhdGVuY3kmJih0aGlzLnNuYXBzaG90TGF0ZW5jeT10LnNuYXBzaG90TGF0ZW5jeSkpfSxoaXZlLnNuYXBzaG90cy5NZXRyaWNzLnByb3RvdHlwZT17fSxoaXZlLnNuYXBzaG90cy5NZXRyaWNzLnByb3RvdHlwZS5yZWFkPWZ1bmN0aW9uKHQpe2Zvcih0LkhjKCk7Oyl7dmFyIGU9dC5zYSgpLGk9KGUuQmMsZS5hYSksbj1lLmNhO2lmKGk9PXIuYnMuRXMpYnJlYWs7c3dpdGNoKG4pe2Nhc2UgMTppPT1yLmJzLk9zP3RoaXMudXBCVz10LnVhKCkudmFsdWU6dC5wYShpKTticmVhaztjYXNlIDI6aT09ci5icy5Pcz90aGlzLmRvd25CVz10LnVhKCkudmFsdWU6dC5wYShpKTticmVhaztjYXNlIDM6aT09ci5icy5Pcz90aGlzLm1lbU49dC51YSgpLnZhbHVlOnQucGEoaSk7YnJlYWs7Y2FzZSA0Omk9PXIuYnMuT3M/dGhpcy5wcnRJbk49dC51YSgpLnZhbHVlOnQucGEoaSk7YnJlYWs7Y2FzZSA1Omk9PXIuYnMuT3M/dGhpcy5wcnRPdXROPXQudWEoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2Nhc2UgNjppPT1yLmJzLlBzP3RoaXMuaW5pdFZpZGVvQnVmUXQ9dC4kYygpLnZhbHVlOnQucGEoaSk7YnJlYWs7Y2FzZSA3Omk9PXIuYnMua3M/dGhpcy52aWRlb0F2Z0J1ZlF0PXQuWWMoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2Nhc2UgODppPT1yLmJzLlBzP3RoaXMudmlkZW9CdWZRdD10LiRjKCkudmFsdWU6dC5wYShpKTticmVhaztjYXNlIDk6aT09ci5icy5Pcz90aGlzLnZpZGVvQnVmTj10LnVhKCkudmFsdWU6dC5wYShpKTticmVhaztjYXNlIDEwOmk9PXIuYnMuT3M/dGhpcy5pbml0QXVkaW9CdWZRdD10LnVhKCkudmFsdWU6dC5wYShpKTticmVhaztjYXNlIDExOmk9PXIuYnMua3M/dGhpcy5hdWRpb0F2Z0J1ZlF0PXQuWWMoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2Nhc2UgMTI6aT09ci5icy5Qcz90aGlzLmF1ZGlvQnVmUXQ9dC4kYygpLnZhbHVlOnQucGEoaSk7YnJlYWs7Y2FzZSAxMzppPT1yLmJzLk9zP3RoaXMuYXVkaW9CdWZOPXQudWEoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2Nhc2UgMTQ6aT09ci5icy5Pcz90aGlzLmJpdHJhdGVVcE49dC51YSgpLnZhbHVlOnQucGEoaSk7YnJlYWs7Y2FzZSAxNTppPT1yLmJzLk9zP3RoaXMuYml0cmF0ZUR3bk49dC51YSgpLnZhbHVlOnQucGEoaSk7YnJlYWs7Y2FzZSAxNjppPT1yLmJzLk9zP3RoaXMuZGVsYXk9dC51YSgpLnZhbHVlOnQucGEoaSk7YnJlYWs7Y2FzZSAxNzppPT1yLmJzLk9zP3RoaXMuZGVsYXlFbmZvcmNlbWVudD10LnVhKCkudmFsdWU6dC5wYShpKTticmVhaztjYXNlIDE4Omk9PXIuYnMuT3M/dGhpcy5sb29rdXBSZXFFc3RhYmxpc2hlZD10LnVhKCkudmFsdWU6dC5wYShpKTticmVhaztjYXNlIDE5Omk9PXIuYnMuT3M/dGhpcy5sb29rdXBSZXFBY2NlcHQ9dC51YSgpLnZhbHVlOnQucGEoaSk7YnJlYWs7Y2FzZSAyMDppPT1yLmJzLmtzP3RoaXMuZmFsbGJhY2tBdmdUcD10LlljKCkudmFsdWU6dC5wYShpKTticmVhaztjYXNlIDIxOmk9PXIuYnMua3M/dGhpcy5zcmNUaHJvdWdocHV0PXQuWWMoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2Nhc2UgMjI6aT09ci5icy5Pcz90aGlzLmRpc2tSZWFkVGltZW91dD10LnVhKCkudmFsdWU6dC5wYShpKTticmVhaztjYXNlIDIzOmk9PXIuYnMua3M/dGhpcy5kaXNrUmVhZFJhdGU9dC5ZYygpLnZhbHVlOnQucGEoaSk7YnJlYWs7Y2FzZSAyNDppPT1yLmJzLmtzP3RoaXMuZGlza1N0b3JlUmF0ZT10LlljKCkudmFsdWU6dC5wYShpKTticmVhaztjYXNlIDI1Omk9PXIuYnMua3M/dGhpcy5kaXNrUmVtb3ZlUmF0ZT10LlljKCkudmFsdWU6dC5wYShpKTticmVhaztjYXNlIDI2Omk9PXIuYnMuUHM/dGhpcy5kaXNrQ2FjaGVTaXplPXQuJGMoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2Nhc2UgMjc6aT09ci5icy5Pcz90aGlzLmNsaWVudEJ1ZmZlck1zPXQudWEoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2Nhc2UgMjg6aT09ci5icy5Pcz90aGlzLmxvb2t1cFRvdGFsPXQudWEoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2Nhc2UgMjk6aT09ci5icy5Pcz90aGlzLmxvb2t1cE5vdEZvdW5kPXQudWEoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2Nhc2UgMzA6aT09ci5icy5Pcz90aGlzLmxvb2t1cEZhaWxlZD10LnVhKCkudmFsdWU6dC5wYShpKTticmVhaztjYXNlIDMxOmk9PXIuYnMuT3M/dGhpcy5sb29rdXBMYXRlbmN5PXQudWEoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2Nhc2UgMzI6aT09ci5icy5Pcz90aGlzLnRyYWNrZXJGYWlsZWQ9dC51YSgpLnZhbHVlOnQucGEoaSk7YnJlYWs7Y2FzZSAzMzppPT1yLmJzLk9zP3RoaXMudHJhY2tlckxhdGVuY3k9dC51YSgpLnZhbHVlOnQucGEoaSk7YnJlYWs7Y2FzZSAzNDppPT1yLmJzLk9zP3RoaXMuc25hcHNob3RGYWlsZWQ9dC51YSgpLnZhbHVlOnQucGEoaSk7YnJlYWs7Y2FzZSAzNTppPT1yLmJzLk9zP3RoaXMuc25hcHNob3RMYXRlbmN5PXQudWEoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2RlZmF1bHQ6dC5wYShpKX10LmxhKCl9dC5kYSgpfSxoaXZlLnNuYXBzaG90cy5NZXRyaWNzLnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbih0KXt0LmZhKFwiTWV0cmljc1wiKSxudWxsIT09dGhpcy51cEJXJiZ2b2lkIDAhPT10aGlzLnVwQlcmJih0LmdhKFwidXBCV1wiLHIuYnMuT3MsMSksdC5tYSh0aGlzLnVwQlcpLHQueWEoKSksbnVsbCE9PXRoaXMuZG93bkJXJiZ2b2lkIDAhPT10aGlzLmRvd25CVyYmKHQuZ2EoXCJkb3duQldcIixyLmJzLk9zLDIpLHQubWEodGhpcy5kb3duQlcpLHQueWEoKSksbnVsbCE9PXRoaXMubWVtTiYmdm9pZCAwIT09dGhpcy5tZW1OJiYodC5nYShcIm1lbU5cIixyLmJzLk9zLDMpLHQubWEodGhpcy5tZW1OKSx0LnlhKCkpLG51bGwhPT10aGlzLnBydEluTiYmdm9pZCAwIT09dGhpcy5wcnRJbk4mJih0LmdhKFwicHJ0SW5OXCIsci5icy5Pcyw0KSx0Lm1hKHRoaXMucHJ0SW5OKSx0LnlhKCkpLG51bGwhPT10aGlzLnBydE91dE4mJnZvaWQgMCE9PXRoaXMucHJ0T3V0TiYmKHQuZ2EoXCJwcnRPdXROXCIsci5icy5Pcyw1KSx0Lm1hKHRoaXMucHJ0T3V0TiksdC55YSgpKSxudWxsIT09dGhpcy5pbml0VmlkZW9CdWZRdCYmdm9pZCAwIT09dGhpcy5pbml0VmlkZW9CdWZRdCYmKHQuZ2EoXCJpbml0VmlkZW9CdWZRdFwiLHIuYnMuUHMsNiksdC5DYyh0aGlzLmluaXRWaWRlb0J1ZlF0KSx0LnlhKCkpLG51bGwhPT10aGlzLnZpZGVvQXZnQnVmUXQmJnZvaWQgMCE9PXRoaXMudmlkZW9BdmdCdWZRdCYmKHQuZ2EoXCJ2aWRlb0F2Z0J1ZlF0XCIsci5icy5rcyw3KSx0Lk9jKHRoaXMudmlkZW9BdmdCdWZRdCksdC55YSgpKSxudWxsIT09dGhpcy52aWRlb0J1ZlF0JiZ2b2lkIDAhPT10aGlzLnZpZGVvQnVmUXQmJih0LmdhKFwidmlkZW9CdWZRdFwiLHIuYnMuUHMsOCksdC5DYyh0aGlzLnZpZGVvQnVmUXQpLHQueWEoKSksbnVsbCE9PXRoaXMudmlkZW9CdWZOJiZ2b2lkIDAhPT10aGlzLnZpZGVvQnVmTiYmKHQuZ2EoXCJ2aWRlb0J1Zk5cIixyLmJzLk9zLDkpLHQubWEodGhpcy52aWRlb0J1Zk4pLHQueWEoKSksbnVsbCE9PXRoaXMuaW5pdEF1ZGlvQnVmUXQmJnZvaWQgMCE9PXRoaXMuaW5pdEF1ZGlvQnVmUXQmJih0LmdhKFwiaW5pdEF1ZGlvQnVmUXRcIixyLmJzLk9zLDEwKSx0Lm1hKHRoaXMuaW5pdEF1ZGlvQnVmUXQpLHQueWEoKSksbnVsbCE9PXRoaXMuYXVkaW9BdmdCdWZRdCYmdm9pZCAwIT09dGhpcy5hdWRpb0F2Z0J1ZlF0JiYodC5nYShcImF1ZGlvQXZnQnVmUXRcIixyLmJzLmtzLDExKSx0Lk9jKHRoaXMuYXVkaW9BdmdCdWZRdCksdC55YSgpKSxudWxsIT09dGhpcy5hdWRpb0J1ZlF0JiZ2b2lkIDAhPT10aGlzLmF1ZGlvQnVmUXQmJih0LmdhKFwiYXVkaW9CdWZRdFwiLHIuYnMuUHMsMTIpLHQuQ2ModGhpcy5hdWRpb0J1ZlF0KSx0LnlhKCkpLG51bGwhPT10aGlzLmF1ZGlvQnVmTiYmdm9pZCAwIT09dGhpcy5hdWRpb0J1Zk4mJih0LmdhKFwiYXVkaW9CdWZOXCIsci5icy5PcywxMyksdC5tYSh0aGlzLmF1ZGlvQnVmTiksdC55YSgpKSxudWxsIT09dGhpcy5iaXRyYXRlVXBOJiZ2b2lkIDAhPT10aGlzLmJpdHJhdGVVcE4mJih0LmdhKFwiYml0cmF0ZVVwTlwiLHIuYnMuT3MsMTQpLHQubWEodGhpcy5iaXRyYXRlVXBOKSx0LnlhKCkpLG51bGwhPT10aGlzLmJpdHJhdGVEd25OJiZ2b2lkIDAhPT10aGlzLmJpdHJhdGVEd25OJiYodC5nYShcImJpdHJhdGVEd25OXCIsci5icy5PcywxNSksdC5tYSh0aGlzLmJpdHJhdGVEd25OKSx0LnlhKCkpLG51bGwhPT10aGlzLmRlbGF5JiZ2b2lkIDAhPT10aGlzLmRlbGF5JiYodC5nYShcImRlbGF5XCIsci5icy5PcywxNiksdC5tYSh0aGlzLmRlbGF5KSx0LnlhKCkpLG51bGwhPT10aGlzLmRlbGF5RW5mb3JjZW1lbnQmJnZvaWQgMCE9PXRoaXMuZGVsYXlFbmZvcmNlbWVudCYmKHQuZ2EoXCJkZWxheUVuZm9yY2VtZW50XCIsci5icy5PcywxNyksdC5tYSh0aGlzLmRlbGF5RW5mb3JjZW1lbnQpLHQueWEoKSksbnVsbCE9PXRoaXMubG9va3VwUmVxRXN0YWJsaXNoZWQmJnZvaWQgMCE9PXRoaXMubG9va3VwUmVxRXN0YWJsaXNoZWQmJih0LmdhKFwibG9va3VwUmVxRXN0YWJsaXNoZWRcIixyLmJzLk9zLDE4KSx0Lm1hKHRoaXMubG9va3VwUmVxRXN0YWJsaXNoZWQpLHQueWEoKSksbnVsbCE9PXRoaXMubG9va3VwUmVxQWNjZXB0JiZ2b2lkIDAhPT10aGlzLmxvb2t1cFJlcUFjY2VwdCYmKHQuZ2EoXCJsb29rdXBSZXFBY2NlcHRcIixyLmJzLk9zLDE5KSx0Lm1hKHRoaXMubG9va3VwUmVxQWNjZXB0KSx0LnlhKCkpLG51bGwhPT10aGlzLmZhbGxiYWNrQXZnVHAmJnZvaWQgMCE9PXRoaXMuZmFsbGJhY2tBdmdUcCYmKHQuZ2EoXCJmYWxsYmFja0F2Z1RwXCIsci5icy5rcywyMCksdC5PYyh0aGlzLmZhbGxiYWNrQXZnVHApLHQueWEoKSksbnVsbCE9PXRoaXMuc3JjVGhyb3VnaHB1dCYmdm9pZCAwIT09dGhpcy5zcmNUaHJvdWdocHV0JiYodC5nYShcInNyY1Rocm91Z2hwdXRcIixyLmJzLmtzLDIxKSx0Lk9jKHRoaXMuc3JjVGhyb3VnaHB1dCksdC55YSgpKSxudWxsIT09dGhpcy5kaXNrUmVhZFRpbWVvdXQmJnZvaWQgMCE9PXRoaXMuZGlza1JlYWRUaW1lb3V0JiYodC5nYShcImRpc2tSZWFkVGltZW91dFwiLHIuYnMuT3MsMjIpLHQubWEodGhpcy5kaXNrUmVhZFRpbWVvdXQpLHQueWEoKSksbnVsbCE9PXRoaXMuZGlza1JlYWRSYXRlJiZ2b2lkIDAhPT10aGlzLmRpc2tSZWFkUmF0ZSYmKHQuZ2EoXCJkaXNrUmVhZFJhdGVcIixyLmJzLmtzLDIzKSx0Lk9jKHRoaXMuZGlza1JlYWRSYXRlKSx0LnlhKCkpLG51bGwhPT10aGlzLmRpc2tTdG9yZVJhdGUmJnZvaWQgMCE9PXRoaXMuZGlza1N0b3JlUmF0ZSYmKHQuZ2EoXCJkaXNrU3RvcmVSYXRlXCIsci5icy5rcywyNCksdC5PYyh0aGlzLmRpc2tTdG9yZVJhdGUpLHQueWEoKSksbnVsbCE9PXRoaXMuZGlza1JlbW92ZVJhdGUmJnZvaWQgMCE9PXRoaXMuZGlza1JlbW92ZVJhdGUmJih0LmdhKFwiZGlza1JlbW92ZVJhdGVcIixyLmJzLmtzLDI1KSx0Lk9jKHRoaXMuZGlza1JlbW92ZVJhdGUpLHQueWEoKSksbnVsbCE9PXRoaXMuZGlza0NhY2hlU2l6ZSYmdm9pZCAwIT09dGhpcy5kaXNrQ2FjaGVTaXplJiYodC5nYShcImRpc2tDYWNoZVNpemVcIixyLmJzLlBzLDI2KSx0LkNjKHRoaXMuZGlza0NhY2hlU2l6ZSksdC55YSgpKSxudWxsIT09dGhpcy5jbGllbnRCdWZmZXJNcyYmdm9pZCAwIT09dGhpcy5jbGllbnRCdWZmZXJNcyYmKHQuZ2EoXCJjbGllbnRCdWZmZXJNc1wiLHIuYnMuT3MsMjcpLHQubWEodGhpcy5jbGllbnRCdWZmZXJNcyksdC55YSgpKSxudWxsIT09dGhpcy5sb29rdXBUb3RhbCYmdm9pZCAwIT09dGhpcy5sb29rdXBUb3RhbCYmKHQuZ2EoXCJsb29rdXBUb3RhbFwiLHIuYnMuT3MsMjgpLHQubWEodGhpcy5sb29rdXBUb3RhbCksdC55YSgpKSxudWxsIT09dGhpcy5sb29rdXBOb3RGb3VuZCYmdm9pZCAwIT09dGhpcy5sb29rdXBOb3RGb3VuZCYmKHQuZ2EoXCJsb29rdXBOb3RGb3VuZFwiLHIuYnMuT3MsMjkpLHQubWEodGhpcy5sb29rdXBOb3RGb3VuZCksdC55YSgpKSxudWxsIT09dGhpcy5sb29rdXBGYWlsZWQmJnZvaWQgMCE9PXRoaXMubG9va3VwRmFpbGVkJiYodC5nYShcImxvb2t1cEZhaWxlZFwiLHIuYnMuT3MsMzApLHQubWEodGhpcy5sb29rdXBGYWlsZWQpLHQueWEoKSksbnVsbCE9PXRoaXMubG9va3VwTGF0ZW5jeSYmdm9pZCAwIT09dGhpcy5sb29rdXBMYXRlbmN5JiYodC5nYShcImxvb2t1cExhdGVuY3lcIixyLmJzLk9zLDMxKSx0Lm1hKHRoaXMubG9va3VwTGF0ZW5jeSksdC55YSgpKSxudWxsIT09dGhpcy50cmFja2VyRmFpbGVkJiZ2b2lkIDAhPT10aGlzLnRyYWNrZXJGYWlsZWQmJih0LmdhKFwidHJhY2tlckZhaWxlZFwiLHIuYnMuT3MsMzIpLHQubWEodGhpcy50cmFja2VyRmFpbGVkKSx0LnlhKCkpLG51bGwhPT10aGlzLnRyYWNrZXJMYXRlbmN5JiZ2b2lkIDAhPT10aGlzLnRyYWNrZXJMYXRlbmN5JiYodC5nYShcInRyYWNrZXJMYXRlbmN5XCIsci5icy5PcywzMyksdC5tYSh0aGlzLnRyYWNrZXJMYXRlbmN5KSx0LnlhKCkpLG51bGwhPT10aGlzLnNuYXBzaG90RmFpbGVkJiZ2b2lkIDAhPT10aGlzLnNuYXBzaG90RmFpbGVkJiYodC5nYShcInNuYXBzaG90RmFpbGVkXCIsci5icy5PcywzNCksdC5tYSh0aGlzLnNuYXBzaG90RmFpbGVkKSx0LnlhKCkpLG51bGwhPT10aGlzLnNuYXBzaG90TGF0ZW5jeSYmdm9pZCAwIT09dGhpcy5zbmFwc2hvdExhdGVuY3kmJih0LmdhKFwic25hcHNob3RMYXRlbmN5XCIsci5icy5PcywzNSksdC5tYSh0aGlzLnNuYXBzaG90TGF0ZW5jeSksdC55YSgpKSx0LndhKCksdC5UYSgpfSxoaXZlLnNuYXBzaG90cy5QYXJ0bmVyVHJhZmZpYz1mdW5jdGlvbih0KXt0aGlzLnAycFN1Y2NSZXE9bnVsbCx0aGlzLnAycEZhaWxSZXE9bnVsbCx0aGlzLnAycFBhcnRSZXE9bnVsbCx0aGlzLnAycFN1Y2NSZWNlaXZlZD1udWxsLHRoaXMucDJwU3VjY1JlY2VpdmVkTG93PW51bGwsdGhpcy5wMnBGYWlsUmVjZWl2ZWQ9bnVsbCx0aGlzLnAycFN1Y2NSZXNwPW51bGwsdGhpcy5wMnBGYWlsUmVzcD1udWxsLHRoaXMucDJwUGFydFJlc3A9bnVsbCx0aGlzLnAycFN1Y2NTZW50PW51bGwsdGhpcy5wMnBTdWNjU2VudExvdz1udWxsLHRoaXMucDJwRmFpbFNlbnQ9bnVsbCx0JiYodm9pZCAwIT09dC5wMnBTdWNjUmVxJiYodGhpcy5wMnBTdWNjUmVxPXQucDJwU3VjY1JlcSksdm9pZCAwIT09dC5wMnBGYWlsUmVxJiYodGhpcy5wMnBGYWlsUmVxPXQucDJwRmFpbFJlcSksdm9pZCAwIT09dC5wMnBQYXJ0UmVxJiYodGhpcy5wMnBQYXJ0UmVxPXQucDJwUGFydFJlcSksdm9pZCAwIT09dC5wMnBTdWNjUmVjZWl2ZWQmJih0aGlzLnAycFN1Y2NSZWNlaXZlZD10LnAycFN1Y2NSZWNlaXZlZCksdm9pZCAwIT09dC5wMnBTdWNjUmVjZWl2ZWRMb3cmJih0aGlzLnAycFN1Y2NSZWNlaXZlZExvdz10LnAycFN1Y2NSZWNlaXZlZExvdyksdm9pZCAwIT09dC5wMnBGYWlsUmVjZWl2ZWQmJih0aGlzLnAycEZhaWxSZWNlaXZlZD10LnAycEZhaWxSZWNlaXZlZCksdm9pZCAwIT09dC5wMnBTdWNjUmVzcCYmKHRoaXMucDJwU3VjY1Jlc3A9dC5wMnBTdWNjUmVzcCksdm9pZCAwIT09dC5wMnBGYWlsUmVzcCYmKHRoaXMucDJwRmFpbFJlc3A9dC5wMnBGYWlsUmVzcCksdm9pZCAwIT09dC5wMnBQYXJ0UmVzcCYmKHRoaXMucDJwUGFydFJlc3A9dC5wMnBQYXJ0UmVzcCksdm9pZCAwIT09dC5wMnBTdWNjU2VudCYmKHRoaXMucDJwU3VjY1NlbnQ9dC5wMnBTdWNjU2VudCksdm9pZCAwIT09dC5wMnBTdWNjU2VudExvdyYmKHRoaXMucDJwU3VjY1NlbnRMb3c9dC5wMnBTdWNjU2VudExvdyksdm9pZCAwIT09dC5wMnBGYWlsU2VudCYmKHRoaXMucDJwRmFpbFNlbnQ9dC5wMnBGYWlsU2VudCkpfSxoaXZlLnNuYXBzaG90cy5QYXJ0bmVyVHJhZmZpYy5wcm90b3R5cGU9e30saGl2ZS5zbmFwc2hvdHMuUGFydG5lclRyYWZmaWMucHJvdG90eXBlLnJlYWQ9ZnVuY3Rpb24odCl7Zm9yKHQuSGMoKTs7KXt2YXIgZT10LnNhKCksaT0oZS5CYyxlLmFhKSxuPWUuY2E7aWYoaT09ci5icy5FcylicmVhaztzd2l0Y2gobil7Y2FzZSAxOmk9PXIuYnMuUHM/dGhpcy5wMnBTdWNjUmVxPXQuJGMoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2Nhc2UgMjppPT1yLmJzLlBzP3RoaXMucDJwRmFpbFJlcT10LiRjKCkudmFsdWU6dC5wYShpKTticmVhaztjYXNlIDM6aT09ci5icy5Qcz90aGlzLnAycFBhcnRSZXE9dC4kYygpLnZhbHVlOnQucGEoaSk7YnJlYWs7Y2FzZSA0Omk9PXIuYnMuUHM/dGhpcy5wMnBTdWNjUmVjZWl2ZWQ9dC4kYygpLnZhbHVlOnQucGEoaSk7YnJlYWs7Y2FzZSA1Omk9PXIuYnMuUHM/dGhpcy5wMnBTdWNjUmVjZWl2ZWRMb3c9dC4kYygpLnZhbHVlOnQucGEoaSk7YnJlYWs7Y2FzZSAxMDppPT1yLmJzLlBzP3RoaXMucDJwRmFpbFJlY2VpdmVkPXQuJGMoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2Nhc2UgNjppPT1yLmJzLlBzP3RoaXMucDJwU3VjY1Jlc3A9dC4kYygpLnZhbHVlOnQucGEoaSk7YnJlYWs7Y2FzZSAxMTppPT1yLmJzLlBzP3RoaXMucDJwRmFpbFJlc3A9dC4kYygpLnZhbHVlOnQucGEoaSk7YnJlYWs7Y2FzZSA3Omk9PXIuYnMuUHM/dGhpcy5wMnBQYXJ0UmVzcD10LiRjKCkudmFsdWU6dC5wYShpKTticmVhaztjYXNlIDg6aT09ci5icy5Qcz90aGlzLnAycFN1Y2NTZW50PXQuJGMoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2Nhc2UgOTppPT1yLmJzLlBzP3RoaXMucDJwU3VjY1NlbnRMb3c9dC4kYygpLnZhbHVlOnQucGEoaSk7YnJlYWs7Y2FzZSAxMjppPT1yLmJzLlBzP3RoaXMucDJwRmFpbFNlbnQ9dC4kYygpLnZhbHVlOnQucGEoaSk7YnJlYWs7ZGVmYXVsdDp0LnBhKGkpfXQubGEoKX10LmRhKCl9LGhpdmUuc25hcHNob3RzLlBhcnRuZXJUcmFmZmljLnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbih0KXt0LmZhKFwiUGFydG5lclRyYWZmaWNcIiksbnVsbCE9PXRoaXMucDJwU3VjY1JlcSYmdm9pZCAwIT09dGhpcy5wMnBTdWNjUmVxJiYodC5nYShcInAycFN1Y2NSZXFcIixyLmJzLlBzLDEpLHQuQ2ModGhpcy5wMnBTdWNjUmVxKSx0LnlhKCkpLG51bGwhPT10aGlzLnAycEZhaWxSZXEmJnZvaWQgMCE9PXRoaXMucDJwRmFpbFJlcSYmKHQuZ2EoXCJwMnBGYWlsUmVxXCIsci5icy5QcywyKSx0LkNjKHRoaXMucDJwRmFpbFJlcSksdC55YSgpKSxudWxsIT09dGhpcy5wMnBQYXJ0UmVxJiZ2b2lkIDAhPT10aGlzLnAycFBhcnRSZXEmJih0LmdhKFwicDJwUGFydFJlcVwiLHIuYnMuUHMsMyksdC5DYyh0aGlzLnAycFBhcnRSZXEpLHQueWEoKSksbnVsbCE9PXRoaXMucDJwU3VjY1JlY2VpdmVkJiZ2b2lkIDAhPT10aGlzLnAycFN1Y2NSZWNlaXZlZCYmKHQuZ2EoXCJwMnBTdWNjUmVjZWl2ZWRcIixyLmJzLlBzLDQpLHQuQ2ModGhpcy5wMnBTdWNjUmVjZWl2ZWQpLHQueWEoKSksbnVsbCE9PXRoaXMucDJwU3VjY1JlY2VpdmVkTG93JiZ2b2lkIDAhPT10aGlzLnAycFN1Y2NSZWNlaXZlZExvdyYmKHQuZ2EoXCJwMnBTdWNjUmVjZWl2ZWRMb3dcIixyLmJzLlBzLDUpLHQuQ2ModGhpcy5wMnBTdWNjUmVjZWl2ZWRMb3cpLHQueWEoKSksbnVsbCE9PXRoaXMucDJwRmFpbFJlY2VpdmVkJiZ2b2lkIDAhPT10aGlzLnAycEZhaWxSZWNlaXZlZCYmKHQuZ2EoXCJwMnBGYWlsUmVjZWl2ZWRcIixyLmJzLlBzLDEwKSx0LkNjKHRoaXMucDJwRmFpbFJlY2VpdmVkKSx0LnlhKCkpLG51bGwhPT10aGlzLnAycFN1Y2NSZXNwJiZ2b2lkIDAhPT10aGlzLnAycFN1Y2NSZXNwJiYodC5nYShcInAycFN1Y2NSZXNwXCIsci5icy5Qcyw2KSx0LkNjKHRoaXMucDJwU3VjY1Jlc3ApLHQueWEoKSksbnVsbCE9PXRoaXMucDJwRmFpbFJlc3AmJnZvaWQgMCE9PXRoaXMucDJwRmFpbFJlc3AmJih0LmdhKFwicDJwRmFpbFJlc3BcIixyLmJzLlBzLDExKSx0LkNjKHRoaXMucDJwRmFpbFJlc3ApLHQueWEoKSksbnVsbCE9PXRoaXMucDJwUGFydFJlc3AmJnZvaWQgMCE9PXRoaXMucDJwUGFydFJlc3AmJih0LmdhKFwicDJwUGFydFJlc3BcIixyLmJzLlBzLDcpLHQuQ2ModGhpcy5wMnBQYXJ0UmVzcCksdC55YSgpKSxudWxsIT09dGhpcy5wMnBTdWNjU2VudCYmdm9pZCAwIT09dGhpcy5wMnBTdWNjU2VudCYmKHQuZ2EoXCJwMnBTdWNjU2VudFwiLHIuYnMuUHMsOCksdC5DYyh0aGlzLnAycFN1Y2NTZW50KSx0LnlhKCkpLG51bGwhPT10aGlzLnAycFN1Y2NTZW50TG93JiZ2b2lkIDAhPT10aGlzLnAycFN1Y2NTZW50TG93JiYodC5nYShcInAycFN1Y2NTZW50TG93XCIsci5icy5Qcyw5KSx0LkNjKHRoaXMucDJwU3VjY1NlbnRMb3cpLHQueWEoKSksbnVsbCE9PXRoaXMucDJwRmFpbFNlbnQmJnZvaWQgMCE9PXRoaXMucDJwRmFpbFNlbnQmJih0LmdhKFwicDJwRmFpbFNlbnRcIixyLmJzLlBzLDEyKSx0LkNjKHRoaXMucDJwRmFpbFNlbnQpLHQueWEoKSksdC53YSgpLHQuVGEoKX0saGl2ZS5zbmFwc2hvdHMuUGFydG5lck1ldHJpY3M9ZnVuY3Rpb24odCl7dGhpcy5yYXRlUmVjZWl2ZWQ9bnVsbCx0aGlzLnJhdGVTZW50PW51bGwsdGhpcy5oYW5kc2hha2VEZWxheT1udWxsLHQmJih2b2lkIDAhPT10LnJhdGVSZWNlaXZlZCYmKHRoaXMucmF0ZVJlY2VpdmVkPXQucmF0ZVJlY2VpdmVkKSx2b2lkIDAhPT10LnJhdGVTZW50JiYodGhpcy5yYXRlU2VudD10LnJhdGVTZW50KSx2b2lkIDAhPT10LmhhbmRzaGFrZURlbGF5JiYodGhpcy5oYW5kc2hha2VEZWxheT10LmhhbmRzaGFrZURlbGF5KSl9LGhpdmUuc25hcHNob3RzLlBhcnRuZXJNZXRyaWNzLnByb3RvdHlwZT17fSxoaXZlLnNuYXBzaG90cy5QYXJ0bmVyTWV0cmljcy5wcm90b3R5cGUucmVhZD1mdW5jdGlvbih0KXtmb3IodC5IYygpOzspe3ZhciBlPXQuc2EoKSxpPShlLkJjLGUuYWEpLG49ZS5jYTtpZihpPT1yLmJzLkVzKWJyZWFrO3N3aXRjaChuKXtjYXNlIDE6aT09ci5icy5rcz90aGlzLnJhdGVSZWNlaXZlZD10LlljKCkudmFsdWU6dC5wYShpKTticmVhaztjYXNlIDI6aT09ci5icy5rcz90aGlzLnJhdGVTZW50PXQuWWMoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2Nhc2UgMzppPT1yLmJzLlBzP3RoaXMuaGFuZHNoYWtlRGVsYXk9dC4kYygpLnZhbHVlOnQucGEoaSk7YnJlYWs7ZGVmYXVsdDp0LnBhKGkpfXQubGEoKX10LmRhKCl9LGhpdmUuc25hcHNob3RzLlBhcnRuZXJNZXRyaWNzLnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbih0KXt0LmZhKFwiUGFydG5lck1ldHJpY3NcIiksbnVsbCE9PXRoaXMucmF0ZVJlY2VpdmVkJiZ2b2lkIDAhPT10aGlzLnJhdGVSZWNlaXZlZCYmKHQuZ2EoXCJyYXRlUmVjZWl2ZWRcIixyLmJzLmtzLDEpLHQuT2ModGhpcy5yYXRlUmVjZWl2ZWQpLHQueWEoKSksbnVsbCE9PXRoaXMucmF0ZVNlbnQmJnZvaWQgMCE9PXRoaXMucmF0ZVNlbnQmJih0LmdhKFwicmF0ZVNlbnRcIixyLmJzLmtzLDIpLHQuT2ModGhpcy5yYXRlU2VudCksdC55YSgpKSxudWxsIT09dGhpcy5oYW5kc2hha2VEZWxheSYmdm9pZCAwIT09dGhpcy5oYW5kc2hha2VEZWxheSYmKHQuZ2EoXCJoYW5kc2hha2VEZWxheVwiLHIuYnMuUHMsMyksdC5DYyh0aGlzLmhhbmRzaGFrZURlbGF5KSx0LnlhKCkpLHQud2EoKSx0LlRhKCl9LGhpdmUuc25hcHNob3RzLkNvbm5lY3Rpdml0eUluZm89ZnVuY3Rpb24odCl7dGhpcy51cEJXPW51bGwsdGhpcy5kb3duQlc9bnVsbCx0aGlzLmV4dGVybmFsQXM9bnVsbCx0aGlzLmludGVybmFsQXM9bnVsbCx0aGlzLnB1YmxpY0lwPW51bGwsdGhpcy5wcml2YXRlSXA9bnVsbCx0JiYodm9pZCAwIT09dC51cEJXJiYodGhpcy51cEJXPXQudXBCVyksdm9pZCAwIT09dC5kb3duQlcmJih0aGlzLmRvd25CVz10LmRvd25CVyksdm9pZCAwIT09dC5leHRlcm5hbEFzJiYodGhpcy5leHRlcm5hbEFzPXQuZXh0ZXJuYWxBcyksdm9pZCAwIT09dC5pbnRlcm5hbEFzJiYodGhpcy5pbnRlcm5hbEFzPXQuaW50ZXJuYWxBcyksdm9pZCAwIT09dC5wdWJsaWNJcCYmKHRoaXMucHVibGljSXA9dC5wdWJsaWNJcCksdm9pZCAwIT09dC5wcml2YXRlSXAmJih0aGlzLnByaXZhdGVJcD10LnByaXZhdGVJcCkpfSxoaXZlLnNuYXBzaG90cy5Db25uZWN0aXZpdHlJbmZvLnByb3RvdHlwZT17fSxoaXZlLnNuYXBzaG90cy5Db25uZWN0aXZpdHlJbmZvLnByb3RvdHlwZS5yZWFkPWZ1bmN0aW9uKHQpe2Zvcih0LkhjKCk7Oyl7dmFyIGU9dC5zYSgpLGk9KGUuQmMsZS5hYSksbj1lLmNhO2lmKGk9PXIuYnMuRXMpYnJlYWs7c3dpdGNoKG4pe2Nhc2UgMTppPT1yLmJzLk9zP3RoaXMudXBCVz10LnVhKCkudmFsdWU6dC5wYShpKTticmVhaztjYXNlIDI6aT09ci5icy5Pcz90aGlzLmRvd25CVz10LnVhKCkudmFsdWU6dC5wYShpKTticmVhaztjYXNlIDM6aT09ci5icy5Pcz90aGlzLmV4dGVybmFsQXM9dC51YSgpLnZhbHVlOnQucGEoaSk7YnJlYWs7Y2FzZSA0Omk9PXIuYnMuT3M/dGhpcy5pbnRlcm5hbEFzPXQudWEoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2Nhc2UgNTppPT1yLmJzLkFzP3RoaXMucHVibGljSXA9dC5oYSgpLnZhbHVlOnQucGEoaSk7YnJlYWs7Y2FzZSA2Omk9PXIuYnMuQXM/dGhpcy5wcml2YXRlSXA9dC5oYSgpLnZhbHVlOnQucGEoaSk7YnJlYWs7ZGVmYXVsdDp0LnBhKGkpfXQubGEoKX10LmRhKCl9LGhpdmUuc25hcHNob3RzLkNvbm5lY3Rpdml0eUluZm8ucHJvdG90eXBlLndyaXRlPWZ1bmN0aW9uKHQpe3QuZmEoXCJDb25uZWN0aXZpdHlJbmZvXCIpLG51bGwhPT10aGlzLnVwQlcmJnZvaWQgMCE9PXRoaXMudXBCVyYmKHQuZ2EoXCJ1cEJXXCIsci5icy5PcywxKSx0Lm1hKHRoaXMudXBCVyksdC55YSgpKSxudWxsIT09dGhpcy5kb3duQlcmJnZvaWQgMCE9PXRoaXMuZG93bkJXJiYodC5nYShcImRvd25CV1wiLHIuYnMuT3MsMiksdC5tYSh0aGlzLmRvd25CVyksdC55YSgpKSxudWxsIT09dGhpcy5leHRlcm5hbEFzJiZ2b2lkIDAhPT10aGlzLmV4dGVybmFsQXMmJih0LmdhKFwiZXh0ZXJuYWxBc1wiLHIuYnMuT3MsMyksdC5tYSh0aGlzLmV4dGVybmFsQXMpLHQueWEoKSksbnVsbCE9PXRoaXMuaW50ZXJuYWxBcyYmdm9pZCAwIT09dGhpcy5pbnRlcm5hbEFzJiYodC5nYShcImludGVybmFsQXNcIixyLmJzLk9zLDQpLHQubWEodGhpcy5pbnRlcm5hbEFzKSx0LnlhKCkpLG51bGwhPT10aGlzLnB1YmxpY0lwJiZ2b2lkIDAhPT10aGlzLnB1YmxpY0lwJiYodC5nYShcInB1YmxpY0lwXCIsci5icy5Bcyw1KSx0LnZhKHRoaXMucHVibGljSXApLHQueWEoKSksbnVsbCE9PXRoaXMucHJpdmF0ZUlwJiZ2b2lkIDAhPT10aGlzLnByaXZhdGVJcCYmKHQuZ2EoXCJwcml2YXRlSXBcIixyLmJzLkFzLDYpLHQudmEodGhpcy5wcml2YXRlSXApLHQueWEoKSksdC53YSgpLHQuVGEoKX0saGl2ZS5zbmFwc2hvdHMuUGFydG5lcj1mdW5jdGlvbih0KXt0aGlzLmNvbm5JbmZvPW51bGwsdGhpcy50cmFmZmljPW51bGwsdGhpcy5tZXRyaWNzPW51bGwsdGhpcy5pblBhcnQ9bnVsbCx0aGlzLm91dFBhcnQ9bnVsbCx0aGlzLnVkcD1udWxsLHQmJih2b2lkIDAhPT10LmNvbm5JbmZvJiYodGhpcy5jb25uSW5mbz10LmNvbm5JbmZvKSx2b2lkIDAhPT10LnRyYWZmaWMmJih0aGlzLnRyYWZmaWM9dC50cmFmZmljKSx2b2lkIDAhPT10Lm1ldHJpY3MmJih0aGlzLm1ldHJpY3M9dC5tZXRyaWNzKSx2b2lkIDAhPT10LmluUGFydCYmKHRoaXMuaW5QYXJ0PXQuaW5QYXJ0KSx2b2lkIDAhPT10Lm91dFBhcnQmJih0aGlzLm91dFBhcnQ9dC5vdXRQYXJ0KSx2b2lkIDAhPT10LnVkcCYmKHRoaXMudWRwPXQudWRwKSl9LGhpdmUuc25hcHNob3RzLlBhcnRuZXIucHJvdG90eXBlPXt9LGhpdmUuc25hcHNob3RzLlBhcnRuZXIucHJvdG90eXBlLnJlYWQ9ZnVuY3Rpb24odCl7Zm9yKHQuSGMoKTs7KXt2YXIgZT10LnNhKCksaT0oZS5CYyxlLmFhKSxuPWUuY2E7aWYoaT09ci5icy5FcylicmVhaztzd2l0Y2gobil7Y2FzZSAxOmk9PXIuYnMueHM/KHRoaXMuY29ubkluZm89bmV3IGhpdmUuc25hcHNob3RzLkNvbm5lY3Rpdml0eUluZm8sdGhpcy5jb25uSW5mby5yZWFkKHQpKTp0LnBhKGkpO2JyZWFrO2Nhc2UgMjppPT1yLmJzLnhzPyh0aGlzLnRyYWZmaWM9bmV3IGhpdmUuc25hcHNob3RzLlBhcnRuZXJUcmFmZmljLHRoaXMudHJhZmZpYy5yZWFkKHQpKTp0LnBhKGkpO2JyZWFrO2Nhc2UgMzppPT1yLmJzLnhzPyh0aGlzLm1ldHJpY3M9bmV3IGhpdmUuc25hcHNob3RzLlBhcnRuZXJNZXRyaWNzLHRoaXMubWV0cmljcy5yZWFkKHQpKTp0LnBhKGkpO2JyZWFrO2Nhc2UgNDppPT1yLmJzLkJPT0w/dGhpcy5pblBhcnQ9dC5HYygpLnZhbHVlOnQucGEoaSk7YnJlYWs7Y2FzZSA1Omk9PXIuYnMuQk9PTD90aGlzLm91dFBhcnQ9dC5HYygpLnZhbHVlOnQucGEoaSk7YnJlYWs7Y2FzZSA2Omk9PXIuYnMuQk9PTD90aGlzLnVkcD10LkdjKCkudmFsdWU6dC5wYShpKTticmVhaztkZWZhdWx0OnQucGEoaSl9dC5sYSgpfXQuZGEoKX0saGl2ZS5zbmFwc2hvdHMuUGFydG5lci5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24odCl7dC5mYShcIlBhcnRuZXJcIiksbnVsbCE9PXRoaXMuY29ubkluZm8mJnZvaWQgMCE9PXRoaXMuY29ubkluZm8mJih0LmdhKFwiY29ubkluZm9cIixyLmJzLnhzLDEpLHRoaXMuY29ubkluZm8ud3JpdGUodCksdC55YSgpKSxudWxsIT09dGhpcy50cmFmZmljJiZ2b2lkIDAhPT10aGlzLnRyYWZmaWMmJih0LmdhKFwidHJhZmZpY1wiLHIuYnMueHMsMiksdGhpcy50cmFmZmljLndyaXRlKHQpLHQueWEoKSksbnVsbCE9PXRoaXMubWV0cmljcyYmdm9pZCAwIT09dGhpcy5tZXRyaWNzJiYodC5nYShcIm1ldHJpY3NcIixyLmJzLnhzLDMpLHRoaXMubWV0cmljcy53cml0ZSh0KSx0LnlhKCkpLG51bGwhPT10aGlzLmluUGFydCYmdm9pZCAwIT09dGhpcy5pblBhcnQmJih0LmdhKFwiaW5QYXJ0XCIsci5icy5CT09MLDQpLHQuSWModGhpcy5pblBhcnQpLHQueWEoKSksbnVsbCE9PXRoaXMub3V0UGFydCYmdm9pZCAwIT09dGhpcy5vdXRQYXJ0JiYodC5nYShcIm91dFBhcnRcIixyLmJzLkJPT0wsNSksdC5JYyh0aGlzLm91dFBhcnQpLHQueWEoKSksbnVsbCE9PXRoaXMudWRwJiZ2b2lkIDAhPT10aGlzLnVkcCYmKHQuZ2EoXCJ1ZHBcIixyLmJzLkJPT0wsNiksdC5JYyh0aGlzLnVkcCksdC55YSgpKSx0LndhKCksdC5UYSgpfSxoaXZlLnNuYXBzaG90cy5TdHJlYW1JbmZvPWZ1bmN0aW9uKHQpe3RoaXMudXJsPW51bGwsdGhpcy5zdHJlYW1UeXBlPW51bGwsdGhpcy5zdHJlYW1Qcm90b2NvbD1udWxsLHQmJih2b2lkIDAhPT10LnVybCYmKHRoaXMudXJsPXQudXJsKSx2b2lkIDAhPT10LnN0cmVhbVR5cGUmJih0aGlzLnN0cmVhbVR5cGU9dC5zdHJlYW1UeXBlKSx2b2lkIDAhPT10LnN0cmVhbVByb3RvY29sJiYodGhpcy5zdHJlYW1Qcm90b2NvbD10LnN0cmVhbVByb3RvY29sKSl9LGhpdmUuc25hcHNob3RzLlN0cmVhbUluZm8ucHJvdG90eXBlPXt9LGhpdmUuc25hcHNob3RzLlN0cmVhbUluZm8ucHJvdG90eXBlLnJlYWQ9ZnVuY3Rpb24odCl7Zm9yKHQuSGMoKTs7KXt2YXIgZT10LnNhKCksaT0oZS5CYyxlLmFhKSxuPWUuY2E7aWYoaT09ci5icy5FcylicmVhaztzd2l0Y2gobil7Y2FzZSAxOmk9PXIuYnMuQXM/dGhpcy51cmw9dC5oYSgpLnZhbHVlOnQucGEoaSk7YnJlYWs7Y2FzZSAyOmk9PXIuYnMuT3M/dGhpcy5zdHJlYW1UeXBlPXQudWEoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2Nhc2UgMzppPT1yLmJzLk9zP3RoaXMuc3RyZWFtUHJvdG9jb2w9dC51YSgpLnZhbHVlOnQucGEoaSk7YnJlYWs7ZGVmYXVsdDp0LnBhKGkpfXQubGEoKX10LmRhKCl9LGhpdmUuc25hcHNob3RzLlN0cmVhbUluZm8ucHJvdG90eXBlLndyaXRlPWZ1bmN0aW9uKHQpe3QuZmEoXCJTdHJlYW1JbmZvXCIpLG51bGwhPT10aGlzLnVybCYmdm9pZCAwIT09dGhpcy51cmwmJih0LmdhKFwidXJsXCIsci5icy5BcywxKSx0LnZhKHRoaXMudXJsKSx0LnlhKCkpLG51bGwhPT10aGlzLnN0cmVhbVR5cGUmJnZvaWQgMCE9PXRoaXMuc3RyZWFtVHlwZSYmKHQuZ2EoXCJzdHJlYW1UeXBlXCIsci5icy5PcywyKSx0Lm1hKHRoaXMuc3RyZWFtVHlwZSksdC55YSgpKSxudWxsIT09dGhpcy5zdHJlYW1Qcm90b2NvbCYmdm9pZCAwIT09dGhpcy5zdHJlYW1Qcm90b2NvbCYmKHQuZ2EoXCJzdHJlYW1Qcm90b2NvbFwiLHIuYnMuT3MsMyksdC5tYSh0aGlzLnN0cmVhbVByb3RvY29sKSx0LnlhKCkpLHQud2EoKSx0LlRhKCl9LGhpdmUuc25hcHNob3RzLkNsaWVudEluZm89ZnVuY3Rpb24odCl7dGhpcy5jbGllbnRUeXBlPW51bGwsdGhpcy5tYWpvclZlcnNpb249bnVsbCx0aGlzLm1pbm9yVmVyc2lvbj1udWxsLHRoaXMucGF0Y2hWZXJzaW9uPW51bGwsdCYmKHZvaWQgMCE9PXQuY2xpZW50VHlwZSYmKHRoaXMuY2xpZW50VHlwZT10LmNsaWVudFR5cGUpLHZvaWQgMCE9PXQubWFqb3JWZXJzaW9uJiYodGhpcy5tYWpvclZlcnNpb249dC5tYWpvclZlcnNpb24pLHZvaWQgMCE9PXQubWlub3JWZXJzaW9uJiYodGhpcy5taW5vclZlcnNpb249dC5taW5vclZlcnNpb24pLHZvaWQgMCE9PXQucGF0Y2hWZXJzaW9uJiYodGhpcy5wYXRjaFZlcnNpb249dC5wYXRjaFZlcnNpb24pKX0saGl2ZS5zbmFwc2hvdHMuQ2xpZW50SW5mby5wcm90b3R5cGU9e30saGl2ZS5zbmFwc2hvdHMuQ2xpZW50SW5mby5wcm90b3R5cGUucmVhZD1mdW5jdGlvbih0KXtmb3IodC5IYygpOzspe3ZhciBlPXQuc2EoKSxpPShlLkJjLGUuYWEpLG49ZS5jYTtpZihpPT1yLmJzLkVzKWJyZWFrO3N3aXRjaChuKXtjYXNlIDE6aT09ci5icy5Pcz90aGlzLmNsaWVudFR5cGU9dC51YSgpLnZhbHVlOnQucGEoaSk7YnJlYWs7Y2FzZSAyOmk9PXIuYnMuQllURT90aGlzLm1ham9yVmVyc2lvbj10LnpjKCkudmFsdWU6dC5wYShpKTticmVhaztjYXNlIDM6aT09ci5icy5CWVRFP3RoaXMubWlub3JWZXJzaW9uPXQuemMoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2Nhc2UgNDppPT1yLmJzLkNzP3RoaXMucGF0Y2hWZXJzaW9uPXQuV2MoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2RlZmF1bHQ6dC5wYShpKX10LmxhKCl9dC5kYSgpfSxoaXZlLnNuYXBzaG90cy5DbGllbnRJbmZvLnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbih0KXt0LmZhKFwiQ2xpZW50SW5mb1wiKSxudWxsIT09dGhpcy5jbGllbnRUeXBlJiZ2b2lkIDAhPT10aGlzLmNsaWVudFR5cGUmJih0LmdhKFwiY2xpZW50VHlwZVwiLHIuYnMuT3MsMSksdC5tYSh0aGlzLmNsaWVudFR5cGUpLHQueWEoKSksbnVsbCE9PXRoaXMubWFqb3JWZXJzaW9uJiZ2b2lkIDAhPT10aGlzLm1ham9yVmVyc2lvbiYmKHQuZ2EoXCJtYWpvclZlcnNpb25cIixyLmJzLkJZVEUsMiksdC5SYyh0aGlzLm1ham9yVmVyc2lvbiksdC55YSgpKSxudWxsIT09dGhpcy5taW5vclZlcnNpb24mJnZvaWQgMCE9PXRoaXMubWlub3JWZXJzaW9uJiYodC5nYShcIm1pbm9yVmVyc2lvblwiLHIuYnMuQllURSwzKSx0LlJjKHRoaXMubWlub3JWZXJzaW9uKSx0LnlhKCkpLG51bGwhPT10aGlzLnBhdGNoVmVyc2lvbiYmdm9pZCAwIT09dGhpcy5wYXRjaFZlcnNpb24mJih0LmdhKFwicGF0Y2hWZXJzaW9uXCIsci5icy5Dcyw0KSx0LmtjKHRoaXMucGF0Y2hWZXJzaW9uKSx0LnlhKCkpLHQud2EoKSx0LlRhKCl9LGhpdmUuc25hcHNob3RzLkFnZW50SW5mbz1mdW5jdGlvbih0KXt0aGlzLmZpcnN0VGllckJpdHJhdGVzPW51bGwsdGhpcy5zZWNvbmRUaWVyQml0cmF0ZXM9bnVsbCx0JiYodm9pZCAwIT09dC5maXJzdFRpZXJCaXRyYXRlcyYmKHRoaXMuZmlyc3RUaWVyQml0cmF0ZXM9dC5maXJzdFRpZXJCaXRyYXRlcyksdm9pZCAwIT09dC5zZWNvbmRUaWVyQml0cmF0ZXMmJih0aGlzLnNlY29uZFRpZXJCaXRyYXRlcz10LnNlY29uZFRpZXJCaXRyYXRlcykpfSxoaXZlLnNuYXBzaG90cy5BZ2VudEluZm8ucHJvdG90eXBlPXt9LGhpdmUuc25hcHNob3RzLkFnZW50SW5mby5wcm90b3R5cGUucmVhZD1mdW5jdGlvbih0KXtmb3IodC5IYygpOzspe3ZhciBlPXQuc2EoKSxpPShlLkJjLGUuYWEpLG49ZS5jYTtpZihpPT1yLmJzLkVzKWJyZWFrO3N3aXRjaChuKXtjYXNlIDE6aWYoaT09ci5icy5Gcyl7dmFyIG8scz0wO3RoaXMuZmlyc3RUaWVyQml0cmF0ZXM9W107dmFyIGE9MDtvPXQuSmMoKSxhPW8uUWMscz1vLnNpemU7Zm9yKHZhciBjPTA7YzxzOysrYyl7dmFyIGg9bnVsbDtoPXQudWEoKS52YWx1ZSx0aGlzLmZpcnN0VGllckJpdHJhdGVzLnB1c2goaCl9dC5LYygpfWVsc2UgdC5wYShpKTticmVhaztjYXNlIDI6aWYoaT09ci5icy5Gcyl7dmFyIHAsdT0wO3RoaXMuc2Vjb25kVGllckJpdHJhdGVzPVtdO3ZhciBsPTA7cD10LkpjKCksbD1wLlFjLHU9cC5zaXplO2Zvcih2YXIgZD0wO2Q8dTsrK2Qpe3ZhciBmPW51bGw7Zj10LnVhKCkudmFsdWUsdGhpcy5zZWNvbmRUaWVyQml0cmF0ZXMucHVzaChmKX10LktjKCl9ZWxzZSB0LnBhKGkpO2JyZWFrO2RlZmF1bHQ6dC5wYShpKX10LmxhKCl9dC5kYSgpfSxoaXZlLnNuYXBzaG90cy5BZ2VudEluZm8ucHJvdG90eXBlLndyaXRlPWZ1bmN0aW9uKHQpe1xuICBpZih0LmZhKFwiQWdlbnRJbmZvXCIpLG51bGwhPT10aGlzLmZpcnN0VGllckJpdHJhdGVzJiZ2b2lkIDAhPT10aGlzLmZpcnN0VGllckJpdHJhdGVzKXt0LmdhKFwiZmlyc3RUaWVyQml0cmF0ZXNcIixyLmJzLkZzLDEpLHQuYmMoci5icy5Pcyx0aGlzLmZpcnN0VGllckJpdHJhdGVzLmxlbmd0aCk7Zm9yKHZhciBlIGluIHRoaXMuZmlyc3RUaWVyQml0cmF0ZXMpdGhpcy5maXJzdFRpZXJCaXRyYXRlcy5oYXNPd25Qcm9wZXJ0eShlKSYmKGU9dGhpcy5maXJzdFRpZXJCaXRyYXRlc1tlXSx0Lm1hKGUpKTt0LkVjKCksdC55YSgpfWlmKG51bGwhPT10aGlzLnNlY29uZFRpZXJCaXRyYXRlcyYmdm9pZCAwIT09dGhpcy5zZWNvbmRUaWVyQml0cmF0ZXMpe3QuZ2EoXCJzZWNvbmRUaWVyQml0cmF0ZXNcIixyLmJzLkZzLDIpLHQuYmMoci5icy5Pcyx0aGlzLnNlY29uZFRpZXJCaXRyYXRlcy5sZW5ndGgpO2Zvcih2YXIgaSBpbiB0aGlzLnNlY29uZFRpZXJCaXRyYXRlcyl0aGlzLnNlY29uZFRpZXJCaXRyYXRlcy5oYXNPd25Qcm9wZXJ0eShpKSYmKGk9dGhpcy5zZWNvbmRUaWVyQml0cmF0ZXNbaV0sdC5tYShpKSk7dC5FYygpLHQueWEoKX10LndhKCksdC5UYSgpfSxoaXZlLnNuYXBzaG90cy5UcmFmZmljS2V5PWZ1bmN0aW9uKHQpe3RoaXMuYml0cmF0ZT1udWxsLHRoaXMuQVM9bnVsbCx0aGlzLnBhcnRuZXJHdWlkPW51bGwsdCYmKHZvaWQgMCE9PXQuYml0cmF0ZSYmKHRoaXMuYml0cmF0ZT10LmJpdHJhdGUpLHZvaWQgMCE9PXQuQVMmJih0aGlzLkFTPXQuQVMpLHZvaWQgMCE9PXQucGFydG5lckd1aWQmJih0aGlzLnBhcnRuZXJHdWlkPXQucGFydG5lckd1aWQpKX0saGl2ZS5zbmFwc2hvdHMuVHJhZmZpY0tleS5wcm90b3R5cGU9e30saGl2ZS5zbmFwc2hvdHMuVHJhZmZpY0tleS5wcm90b3R5cGUucmVhZD1mdW5jdGlvbih0KXtmb3IodC5IYygpOzspe3ZhciBlPXQuc2EoKSxpPShlLkJjLGUuYWEpLG49ZS5jYTtpZihpPT1yLmJzLkVzKWJyZWFrO3N3aXRjaChuKXtjYXNlIDE6aT09ci5icy5Pcz90aGlzLmJpdHJhdGU9dC51YSgpLnZhbHVlOnQucGEoaSk7YnJlYWs7Y2FzZSAyOmk9PXIuYnMuT3M/dGhpcy5BUz10LnVhKCkudmFsdWU6dC5wYShpKTticmVhaztjYXNlIDM6aT09ci5icy5Bcz90aGlzLnBhcnRuZXJHdWlkPXQuaGEoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2RlZmF1bHQ6dC5wYShpKX10LmxhKCl9dC5kYSgpfSxoaXZlLnNuYXBzaG90cy5UcmFmZmljS2V5LnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbih0KXt0LmZhKFwiVHJhZmZpY0tleVwiKSxudWxsIT09dGhpcy5iaXRyYXRlJiZ2b2lkIDAhPT10aGlzLmJpdHJhdGUmJih0LmdhKFwiYml0cmF0ZVwiLHIuYnMuT3MsMSksdC5tYSh0aGlzLmJpdHJhdGUpLHQueWEoKSksbnVsbCE9PXRoaXMuQVMmJnZvaWQgMCE9PXRoaXMuQVMmJih0LmdhKFwiQVNcIixyLmJzLk9zLDIpLHQubWEodGhpcy5BUyksdC55YSgpKSxudWxsIT09dGhpcy5wYXJ0bmVyR3VpZCYmdm9pZCAwIT09dGhpcy5wYXJ0bmVyR3VpZCYmKHQuZ2EoXCJwYXJ0bmVyR3VpZFwiLHIuYnMuQXMsMyksdC52YSh0aGlzLnBhcnRuZXJHdWlkKSx0LnlhKCkpLHQud2EoKSx0LlRhKCl9LGhpdmUuc25hcHNob3RzLlBhcnRuZXJLZXk9ZnVuY3Rpb24odCl7dGhpcy5iaXRyYXRlPW51bGwsdGhpcy5BUz1udWxsLHRoaXMucGFydG5lckd1aWQ9bnVsbCx0JiYodm9pZCAwIT09dC5iaXRyYXRlJiYodGhpcy5iaXRyYXRlPXQuYml0cmF0ZSksdm9pZCAwIT09dC5BUyYmKHRoaXMuQVM9dC5BUyksdm9pZCAwIT09dC5wYXJ0bmVyR3VpZCYmKHRoaXMucGFydG5lckd1aWQ9dC5wYXJ0bmVyR3VpZCkpfSxoaXZlLnNuYXBzaG90cy5QYXJ0bmVyS2V5LnByb3RvdHlwZT17fSxoaXZlLnNuYXBzaG90cy5QYXJ0bmVyS2V5LnByb3RvdHlwZS5yZWFkPWZ1bmN0aW9uKHQpe2Zvcih0LkhjKCk7Oyl7dmFyIGU9dC5zYSgpLGk9KGUuQmMsZS5hYSksbj1lLmNhO2lmKGk9PXIuYnMuRXMpYnJlYWs7c3dpdGNoKG4pe2Nhc2UgMTppPT1yLmJzLk9zP3RoaXMuYml0cmF0ZT10LnVhKCkudmFsdWU6dC5wYShpKTticmVhaztjYXNlIDI6aT09ci5icy5Pcz90aGlzLkFTPXQudWEoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2Nhc2UgMzppPT1yLmJzLkFzP3RoaXMucGFydG5lckd1aWQ9dC5oYSgpLnZhbHVlOnQucGEoaSk7YnJlYWs7ZGVmYXVsdDp0LnBhKGkpfXQubGEoKX10LmRhKCl9LGhpdmUuc25hcHNob3RzLlBhcnRuZXJLZXkucHJvdG90eXBlLndyaXRlPWZ1bmN0aW9uKHQpe3QuZmEoXCJQYXJ0bmVyS2V5XCIpLG51bGwhPT10aGlzLmJpdHJhdGUmJnZvaWQgMCE9PXRoaXMuYml0cmF0ZSYmKHQuZ2EoXCJiaXRyYXRlXCIsci5icy5PcywxKSx0Lm1hKHRoaXMuYml0cmF0ZSksdC55YSgpKSxudWxsIT09dGhpcy5BUyYmdm9pZCAwIT09dGhpcy5BUyYmKHQuZ2EoXCJBU1wiLHIuYnMuT3MsMiksdC5tYSh0aGlzLkFTKSx0LnlhKCkpLG51bGwhPT10aGlzLnBhcnRuZXJHdWlkJiZ2b2lkIDAhPT10aGlzLnBhcnRuZXJHdWlkJiYodC5nYShcInBhcnRuZXJHdWlkXCIsci5icy5BcywzKSx0LnZhKHRoaXMucGFydG5lckd1aWQpLHQueWEoKSksdC53YSgpLHQuVGEoKX0saGl2ZS5zbmFwc2hvdHMuUGxheWVyPWZ1bmN0aW9uKHQpe3RoaXMuYnVmZmVyaW5nTj1udWxsLHRoaXMuYnVmZmVyaW5nTXM9bnVsbCx0aGlzLmluaXRCdWZmZXJpbmdOPW51bGwsdGhpcy5pbml0QnVmZmVyaW5nTXM9bnVsbCx0aGlzLnNlZWtCdWZmZXJpbmdOPW51bGwsdGhpcy5zZWVrQnVmZmVyaW5nTXM9bnVsbCx0aGlzLnBsYXllckJ1ZmZlck1zPW51bGwsdCYmKHZvaWQgMCE9PXQuYnVmZmVyaW5nTiYmKHRoaXMuYnVmZmVyaW5nTj10LmJ1ZmZlcmluZ04pLHZvaWQgMCE9PXQuYnVmZmVyaW5nTXMmJih0aGlzLmJ1ZmZlcmluZ01zPXQuYnVmZmVyaW5nTXMpLHZvaWQgMCE9PXQuaW5pdEJ1ZmZlcmluZ04mJih0aGlzLmluaXRCdWZmZXJpbmdOPXQuaW5pdEJ1ZmZlcmluZ04pLHZvaWQgMCE9PXQuaW5pdEJ1ZmZlcmluZ01zJiYodGhpcy5pbml0QnVmZmVyaW5nTXM9dC5pbml0QnVmZmVyaW5nTXMpLHZvaWQgMCE9PXQuc2Vla0J1ZmZlcmluZ04mJih0aGlzLnNlZWtCdWZmZXJpbmdOPXQuc2Vla0J1ZmZlcmluZ04pLHZvaWQgMCE9PXQuc2Vla0J1ZmZlcmluZ01zJiYodGhpcy5zZWVrQnVmZmVyaW5nTXM9dC5zZWVrQnVmZmVyaW5nTXMpLHZvaWQgMCE9PXQucGxheWVyQnVmZmVyTXMmJih0aGlzLnBsYXllckJ1ZmZlck1zPXQucGxheWVyQnVmZmVyTXMpKX0saGl2ZS5zbmFwc2hvdHMuUGxheWVyLnByb3RvdHlwZT17fSxoaXZlLnNuYXBzaG90cy5QbGF5ZXIucHJvdG90eXBlLnJlYWQ9ZnVuY3Rpb24odCl7Zm9yKHQuSGMoKTs7KXt2YXIgZT10LnNhKCksaT0oZS5CYyxlLmFhKSxuPWUuY2E7aWYoaT09ci5icy5FcylicmVhaztzd2l0Y2gobil7Y2FzZSAxOmk9PXIuYnMuQ3M/dGhpcy5idWZmZXJpbmdOPXQuV2MoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2Nhc2UgMjppPT1yLmJzLk9zP3RoaXMuYnVmZmVyaW5nTXM9dC51YSgpLnZhbHVlOnQucGEoaSk7YnJlYWs7Y2FzZSAzOmk9PXIuYnMuQ3M/dGhpcy5pbml0QnVmZmVyaW5nTj10LldjKCkudmFsdWU6dC5wYShpKTticmVhaztjYXNlIDQ6aT09ci5icy5Pcz90aGlzLmluaXRCdWZmZXJpbmdNcz10LnVhKCkudmFsdWU6dC5wYShpKTticmVhaztjYXNlIDU6aT09ci5icy5Dcz90aGlzLnNlZWtCdWZmZXJpbmdOPXQuV2MoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2Nhc2UgNjppPT1yLmJzLk9zP3RoaXMuc2Vla0J1ZmZlcmluZ01zPXQudWEoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2Nhc2UgMzY6aT09ci5icy5Pcz90aGlzLnBsYXllckJ1ZmZlck1zPXQudWEoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2RlZmF1bHQ6dC5wYShpKX10LmxhKCl9dC5kYSgpfSxoaXZlLnNuYXBzaG90cy5QbGF5ZXIucHJvdG90eXBlLndyaXRlPWZ1bmN0aW9uKHQpe3QuZmEoXCJQbGF5ZXJcIiksbnVsbCE9PXRoaXMuYnVmZmVyaW5nTiYmdm9pZCAwIT09dGhpcy5idWZmZXJpbmdOJiYodC5nYShcImJ1ZmZlcmluZ05cIixyLmJzLkNzLDEpLHQua2ModGhpcy5idWZmZXJpbmdOKSx0LnlhKCkpLG51bGwhPT10aGlzLmJ1ZmZlcmluZ01zJiZ2b2lkIDAhPT10aGlzLmJ1ZmZlcmluZ01zJiYodC5nYShcImJ1ZmZlcmluZ01zXCIsci5icy5PcywyKSx0Lm1hKHRoaXMuYnVmZmVyaW5nTXMpLHQueWEoKSksbnVsbCE9PXRoaXMuaW5pdEJ1ZmZlcmluZ04mJnZvaWQgMCE9PXRoaXMuaW5pdEJ1ZmZlcmluZ04mJih0LmdhKFwiaW5pdEJ1ZmZlcmluZ05cIixyLmJzLkNzLDMpLHQua2ModGhpcy5pbml0QnVmZmVyaW5nTiksdC55YSgpKSxudWxsIT09dGhpcy5pbml0QnVmZmVyaW5nTXMmJnZvaWQgMCE9PXRoaXMuaW5pdEJ1ZmZlcmluZ01zJiYodC5nYShcImluaXRCdWZmZXJpbmdNc1wiLHIuYnMuT3MsNCksdC5tYSh0aGlzLmluaXRCdWZmZXJpbmdNcyksdC55YSgpKSxudWxsIT09dGhpcy5zZWVrQnVmZmVyaW5nTiYmdm9pZCAwIT09dGhpcy5zZWVrQnVmZmVyaW5nTiYmKHQuZ2EoXCJzZWVrQnVmZmVyaW5nTlwiLHIuYnMuQ3MsNSksdC5rYyh0aGlzLnNlZWtCdWZmZXJpbmdOKSx0LnlhKCkpLG51bGwhPT10aGlzLnNlZWtCdWZmZXJpbmdNcyYmdm9pZCAwIT09dGhpcy5zZWVrQnVmZmVyaW5nTXMmJih0LmdhKFwic2Vla0J1ZmZlcmluZ01zXCIsci5icy5Pcyw2KSx0Lm1hKHRoaXMuc2Vla0J1ZmZlcmluZ01zKSx0LnlhKCkpLG51bGwhPT10aGlzLnBsYXllckJ1ZmZlck1zJiZ2b2lkIDAhPT10aGlzLnBsYXllckJ1ZmZlck1zJiYodC5nYShcInBsYXllckJ1ZmZlck1zXCIsci5icy5PcywzNiksdC5tYSh0aGlzLnBsYXllckJ1ZmZlck1zKSx0LnlhKCkpLHQud2EoKSx0LlRhKCl9LGhpdmUuc25hcHNob3RzLk1ldHJpY1NuYXBzaG90PWZ1bmN0aW9uKHQpe3RoaXMudGltZXN0YW1wPW51bGwsdGhpcy5ndWlkPW51bGwsdGhpcy5ldmVudElkPW51bGwsdGhpcy5zdHJlYW1JbmZvPW51bGwsdGhpcy5tZXRyaWNzPW51bGwsdGhpcy50cmFmZmljPW51bGwsdGhpcy5zbmFwc2hvdEluZm89bnVsbCx0aGlzLmFnZW50SW5mbz1udWxsLHRoaXMuY29ubkluZm89bnVsbCx0aGlzLnBhcnRuZXJzPW51bGwsdGhpcy5wbGF5ZXI9bnVsbCx0aGlzLmNsaWVudD1udWxsLHRoaXMuc2Vzc2lvbklkPW51bGwsdCYmKHZvaWQgMCE9PXQudGltZXN0YW1wJiYodGhpcy50aW1lc3RhbXA9dC50aW1lc3RhbXApLHZvaWQgMCE9PXQuZ3VpZCYmKHRoaXMuZ3VpZD10Lmd1aWQpLHZvaWQgMCE9PXQuZXZlbnRJZCYmKHRoaXMuZXZlbnRJZD10LmV2ZW50SWQpLHZvaWQgMCE9PXQuc3RyZWFtSW5mbyYmKHRoaXMuc3RyZWFtSW5mbz10LnN0cmVhbUluZm8pLHZvaWQgMCE9PXQubWV0cmljcyYmKHRoaXMubWV0cmljcz10Lm1ldHJpY3MpLHZvaWQgMCE9PXQudHJhZmZpYyYmKHRoaXMudHJhZmZpYz10LnRyYWZmaWMpLHZvaWQgMCE9PXQuc25hcHNob3RJbmZvJiYodGhpcy5zbmFwc2hvdEluZm89dC5zbmFwc2hvdEluZm8pLHZvaWQgMCE9PXQuYWdlbnRJbmZvJiYodGhpcy5hZ2VudEluZm89dC5hZ2VudEluZm8pLHZvaWQgMCE9PXQuY29ubkluZm8mJih0aGlzLmNvbm5JbmZvPXQuY29ubkluZm8pLHZvaWQgMCE9PXQucGFydG5lcnMmJih0aGlzLnBhcnRuZXJzPXQucGFydG5lcnMpLHZvaWQgMCE9PXQucGxheWVyJiYodGhpcy5wbGF5ZXI9dC5wbGF5ZXIpLHZvaWQgMCE9PXQuY2xpZW50JiYodGhpcy5jbGllbnQ9dC5jbGllbnQpLHZvaWQgMCE9PXQuc2Vzc2lvbklkJiYodGhpcy5zZXNzaW9uSWQ9dC5zZXNzaW9uSWQpKX0saGl2ZS5zbmFwc2hvdHMuTWV0cmljU25hcHNob3QucHJvdG90eXBlPXt9LGhpdmUuc25hcHNob3RzLk1ldHJpY1NuYXBzaG90LnByb3RvdHlwZS5yZWFkPWZ1bmN0aW9uKHQpe2Zvcih0LkhjKCk7Oyl7dmFyIGU9dC5zYSgpLGk9KGUuQmMsZS5hYSksbj1lLmNhO2lmKGk9PXIuYnMuRXMpYnJlYWs7c3dpdGNoKG4pe2Nhc2UgMTppPT1yLmJzLlBzP3RoaXMudGltZXN0YW1wPXQuJGMoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2Nhc2UgMjppPT1yLmJzLkFzP3RoaXMuZ3VpZD10LmhhKCkudmFsdWU6dC5wYShpKTticmVhaztjYXNlIDM6aT09ci5icy54cz8odGhpcy5ldmVudElkPW5ldyBFdmVudElkLHRoaXMuZXZlbnRJZC5yZWFkKHQpKTp0LnBhKGkpO2JyZWFrO2Nhc2UgNDppPT1yLmJzLnhzPyh0aGlzLnN0cmVhbUluZm89bmV3IGhpdmUuc25hcHNob3RzLlN0cmVhbUluZm8sdGhpcy5zdHJlYW1JbmZvLnJlYWQodCkpOnQucGEoaSk7YnJlYWs7Y2FzZSA1Omk9PXIuYnMueHM/KHRoaXMubWV0cmljcz1uZXcgaGl2ZS5zbmFwc2hvdHMuTWV0cmljcyx0aGlzLm1ldHJpY3MucmVhZCh0KSk6dC5wYShpKTticmVhaztjYXNlIDY6aWYoaT09ci5icy5Ccyl7dmFyIG8scz0wO3RoaXMudHJhZmZpYz17fTt2YXIgYT0wLGM9MDtvPXQuTGMoKSxhPW8uTWMsYz1vLmpjLHM9by5zaXplO2Zvcih2YXIgaD0wO2g8czsrK2gpe2g+MCYmdC5OYy5sZW5ndGg+dC5SYVt0LlJhLmxlbmd0aC0xXSsxJiZ0Lk5jLnBvcCgpO3ZhciBwPW51bGwsdT1udWxsO3A9bmV3IGhpdmUuc25hcHNob3RzLlRyYWZmaWNLZXkscC5yZWFkKHQpLHU9bmV3IGhpdmUuc25hcHNob3RzLlRyYWZmaWMsdS5yZWFkKHQpLHRoaXMudHJhZmZpY1twXT11fXQuVWMoKX1lbHNlIHQucGEoaSk7YnJlYWs7Y2FzZSA3Omk9PXIuYnMueHM/KHRoaXMuc25hcHNob3RJbmZvPW5ldyBTbmFwc2hvdEluZm8sdGhpcy5zbmFwc2hvdEluZm8ucmVhZCh0KSk6dC5wYShpKTticmVhaztjYXNlIDg6aT09ci5icy54cz8odGhpcy5hZ2VudEluZm89bmV3IGhpdmUuc25hcHNob3RzLkFnZW50SW5mbyx0aGlzLmFnZW50SW5mby5yZWFkKHQpKTp0LnBhKGkpO2JyZWFrO2Nhc2UgOTppPT1yLmJzLnhzPyh0aGlzLmNvbm5JbmZvPW5ldyBoaXZlLnNuYXBzaG90cy5Db25uZWN0aXZpdHlJbmZvLHRoaXMuY29ubkluZm8ucmVhZCh0KSk6dC5wYShpKTticmVhaztjYXNlIDEwOmlmKGk9PXIuYnMuQnMpe3ZhciBsLGQ9MDt0aGlzLnBhcnRuZXJzPXt9O3ZhciBmPTAsZz0wO2w9dC5MYygpLGY9bC5NYyxnPWwuamMsZD1sLnNpemU7Zm9yKHZhciB2PTA7djxkOysrdil7dj4wJiZ0Lk5jLmxlbmd0aD50LlJhW3QuUmEubGVuZ3RoLTFdKzEmJnQuTmMucG9wKCk7dmFyIHk9bnVsbCxtPW51bGw7eT1uZXcgaGl2ZS5zbmFwc2hvdHMuUGFydG5lcktleSx5LnJlYWQodCksbT1uZXcgaGl2ZS5zbmFwc2hvdHMuUGFydG5lcixtLnJlYWQodCksdGhpcy5wYXJ0bmVyc1t5XT1tfXQuVWMoKX1lbHNlIHQucGEoaSk7YnJlYWs7Y2FzZSAxMTppPT1yLmJzLnhzPyh0aGlzLnBsYXllcj1uZXcgaGl2ZS5zbmFwc2hvdHMuUGxheWVyLHRoaXMucGxheWVyLnJlYWQodCkpOnQucGEoaSk7YnJlYWs7Y2FzZSAxMjppPT1yLmJzLnhzPyh0aGlzLmNsaWVudD1uZXcgaGl2ZS5zbmFwc2hvdHMuQ2xpZW50SW5mbyx0aGlzLmNsaWVudC5yZWFkKHQpKTp0LnBhKGkpO2JyZWFrO2Nhc2UgMTM6aT09ci5icy5Bcz90aGlzLnNlc3Npb25JZD10LmhhKCkudmFsdWU6dC5wYShpKTticmVhaztkZWZhdWx0OnQucGEoaSl9dC5sYSgpfXQuZGEoKX0saGl2ZS5zbmFwc2hvdHMuTWV0cmljU25hcHNob3QucHJvdG90eXBlLndyaXRlPWZ1bmN0aW9uKHQpe2lmKHQuZmEoXCJNZXRyaWNTbmFwc2hvdFwiKSxudWxsIT09dGhpcy50aW1lc3RhbXAmJnZvaWQgMCE9PXRoaXMudGltZXN0YW1wJiYodC5nYShcInRpbWVzdGFtcFwiLHIuYnMuUHMsMSksdC5DYyh0aGlzLnRpbWVzdGFtcCksdC55YSgpKSxudWxsIT09dGhpcy5ndWlkJiZ2b2lkIDAhPT10aGlzLmd1aWQmJih0LmdhKFwiZ3VpZFwiLHIuYnMuQXMsMiksdC52YSh0aGlzLmd1aWQpLHQueWEoKSksbnVsbCE9PXRoaXMuZXZlbnRJZCYmdm9pZCAwIT09dGhpcy5ldmVudElkJiYodC5nYShcImV2ZW50SWRcIixyLmJzLnhzLDMpLHRoaXMuZXZlbnRJZC53cml0ZSh0KSx0LnlhKCkpLG51bGwhPT10aGlzLnN0cmVhbUluZm8mJnZvaWQgMCE9PXRoaXMuc3RyZWFtSW5mbyYmKHQuZ2EoXCJzdHJlYW1JbmZvXCIsci5icy54cyw0KSx0aGlzLnN0cmVhbUluZm8ud3JpdGUodCksdC55YSgpKSxudWxsIT09dGhpcy5tZXRyaWNzJiZ2b2lkIDAhPT10aGlzLm1ldHJpY3MmJih0LmdhKFwibWV0cmljc1wiLHIuYnMueHMsNSksdGhpcy5tZXRyaWNzLndyaXRlKHQpLHQueWEoKSksbnVsbCE9PXRoaXMudHJhZmZpYyYmdm9pZCAwIT09dGhpcy50cmFmZmljKXt0LmdhKFwidHJhZmZpY1wiLHIuYnMuQnMsNiksdC5tYyhyLmJzLnhzLHIuYnMueHMsci5Rcyh0aGlzLnRyYWZmaWMpKTtmb3IodmFyIGU9MDtlPHRoaXMudHJhZmZpYy5sZW5ndGg7ZSsrKXt2YXIgaT10aGlzLnRyYWZmaWNbZV0sbj1pLmtleSxvPWkudmFsdWU7bi53cml0ZSh0KSxvLndyaXRlKHQpfXQud2MoKSx0LnlhKCl9aWYobnVsbCE9PXRoaXMuc25hcHNob3RJbmZvJiZ2b2lkIDAhPT10aGlzLnNuYXBzaG90SW5mbyYmKHQuZ2EoXCJzbmFwc2hvdEluZm9cIixyLmJzLnhzLDcpLHRoaXMuc25hcHNob3RJbmZvLndyaXRlKHQpLHQueWEoKSksbnVsbCE9PXRoaXMuYWdlbnRJbmZvJiZ2b2lkIDAhPT10aGlzLmFnZW50SW5mbyYmKHQuZ2EoXCJhZ2VudEluZm9cIixyLmJzLnhzLDgpLHRoaXMuYWdlbnRJbmZvLndyaXRlKHQpLHQueWEoKSksbnVsbCE9PXRoaXMuY29ubkluZm8mJnZvaWQgMCE9PXRoaXMuY29ubkluZm8mJih0LmdhKFwiY29ubkluZm9cIixyLmJzLnhzLDkpLHRoaXMuY29ubkluZm8ud3JpdGUodCksdC55YSgpKSxudWxsIT09dGhpcy5wYXJ0bmVycyYmdm9pZCAwIT09dGhpcy5wYXJ0bmVycyl7dC5nYShcInBhcnRuZXJzXCIsci5icy5CcywxMCksdC5tYyhyLmJzLnhzLHIuYnMueHMsci5Rcyh0aGlzLnBhcnRuZXJzKSk7Zm9yKHZhciBlPTA7ZTx0aGlzLnBhcnRuZXJzLmxlbmd0aDtlKyspe3ZhciBpPXRoaXMucGFydG5lcnNbZV0scz1pLmtleSxhPWkudmFsdWU7cy53cml0ZSh0KSxhLndyaXRlKHQpfXQud2MoKSx0LnlhKCl9bnVsbCE9PXRoaXMucGxheWVyJiZ2b2lkIDAhPT10aGlzLnBsYXllciYmKHQuZ2EoXCJwbGF5ZXJcIixyLmJzLnhzLDExKSx0aGlzLnBsYXllci53cml0ZSh0KSx0LnlhKCkpLG51bGwhPT10aGlzLmNsaWVudCYmdm9pZCAwIT09dGhpcy5jbGllbnQmJih0LmdhKFwiY2xpZW50XCIsci5icy54cywxMiksdGhpcy5jbGllbnQud3JpdGUodCksdC55YSgpKSxudWxsIT09dGhpcy5zZXNzaW9uSWQmJnZvaWQgMCE9PXRoaXMuc2Vzc2lvbklkJiYodC5nYShcInNlc3Npb25JZFwiLHIuYnMuQXMsMTMpLHQudmEodGhpcy5zZXNzaW9uSWQpLHQueWEoKSksdC53YSgpLHQuVGEoKX0saGl2ZS5zbmFwc2hvdHMuSnNvbk1ldHJpY1NuYXBzaG90PWZ1bmN0aW9uKHQpe3RoaXMudGltZXN0YW1wPW51bGwsdGhpcy5ndWlkPW51bGwsdGhpcy5ldmVudElkPW51bGwsdGhpcy5zdHJlYW1JbmZvPW51bGwsdGhpcy5tZXRyaWNzPW51bGwsdGhpcy50cmFmZmljPW51bGwsdGhpcy5zbmFwc2hvdEluZm89bnVsbCx0aGlzLmFnZW50SW5mbz1udWxsLHRoaXMuY29ubkluZm89bnVsbCx0aGlzLnBhcnRuZXJzPW51bGwsdGhpcy5wbGF5ZXI9bnVsbCx0aGlzLmNsaWVudD1udWxsLHRoaXMuc2Vzc2lvbklkPW51bGwsdCYmKHZvaWQgMCE9PXQudGltZXN0YW1wJiYodGhpcy50aW1lc3RhbXA9dC50aW1lc3RhbXApLHZvaWQgMCE9PXQuZ3VpZCYmKHRoaXMuZ3VpZD10Lmd1aWQpLHZvaWQgMCE9PXQuZXZlbnRJZCYmKHRoaXMuZXZlbnRJZD10LmV2ZW50SWQpLHZvaWQgMCE9PXQuc3RyZWFtSW5mbyYmKHRoaXMuc3RyZWFtSW5mbz10LnN0cmVhbUluZm8pLHZvaWQgMCE9PXQubWV0cmljcyYmKHRoaXMubWV0cmljcz10Lm1ldHJpY3MpLHZvaWQgMCE9PXQudHJhZmZpYyYmKHRoaXMudHJhZmZpYz10LnRyYWZmaWMpLHZvaWQgMCE9PXQuc25hcHNob3RJbmZvJiYodGhpcy5zbmFwc2hvdEluZm89dC5zbmFwc2hvdEluZm8pLHZvaWQgMCE9PXQuYWdlbnRJbmZvJiYodGhpcy5hZ2VudEluZm89dC5hZ2VudEluZm8pLHZvaWQgMCE9PXQuY29ubkluZm8mJih0aGlzLmNvbm5JbmZvPXQuY29ubkluZm8pLHZvaWQgMCE9PXQucGFydG5lcnMmJih0aGlzLnBhcnRuZXJzPXQucGFydG5lcnMpLHZvaWQgMCE9PXQucGxheWVyJiYodGhpcy5wbGF5ZXI9dC5wbGF5ZXIpLHZvaWQgMCE9PXQuY2xpZW50JiYodGhpcy5jbGllbnQ9dC5jbGllbnQpLHZvaWQgMCE9PXQuc2Vzc2lvbklkJiYodGhpcy5zZXNzaW9uSWQ9dC5zZXNzaW9uSWQpKX0saGl2ZS5zbmFwc2hvdHMuSnNvbk1ldHJpY1NuYXBzaG90LnByb3RvdHlwZT17fSxoaXZlLnNuYXBzaG90cy5Kc29uTWV0cmljU25hcHNob3QucHJvdG90eXBlLnJlYWQ9ZnVuY3Rpb24odCl7Zm9yKHQuSGMoKTs7KXt2YXIgZT10LnNhKCksaT0oZS5CYyxlLmFhKSxuPWUuY2E7aWYoaT09ci5icy5FcylicmVhaztzd2l0Y2gobil7Y2FzZSAxOmk9PXIuYnMuUHM/dGhpcy50aW1lc3RhbXA9dC4kYygpLnZhbHVlOnQucGEoaSk7YnJlYWs7Y2FzZSAyOmk9PXIuYnMuQXM/dGhpcy5ndWlkPXQuaGEoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2Nhc2UgMzppPT1yLmJzLnhzPyh0aGlzLmV2ZW50SWQ9bmV3IEV2ZW50SWQsdGhpcy5ldmVudElkLnJlYWQodCkpOnQucGEoaSk7YnJlYWs7Y2FzZSA0Omk9PXIuYnMueHM/KHRoaXMuc3RyZWFtSW5mbz1uZXcgaGl2ZS5zbmFwc2hvdHMuU3RyZWFtSW5mbyx0aGlzLnN0cmVhbUluZm8ucmVhZCh0KSk6dC5wYShpKTticmVhaztjYXNlIDU6aT09ci5icy54cz8odGhpcy5tZXRyaWNzPW5ldyBoaXZlLnNuYXBzaG90cy5NZXRyaWNzLHRoaXMubWV0cmljcy5yZWFkKHQpKTp0LnBhKGkpO2JyZWFrO2Nhc2UgNjppZihpPT1yLmJzLkJzKXt2YXIgbyxzPTA7dGhpcy50cmFmZmljPXt9O3ZhciBhPTAsYz0wO289dC5MYygpLGE9by5NYyxjPW8uamMscz1vLnNpemU7Zm9yKHZhciBoPTA7aDxzOysraCl7aD4wJiZ0Lk5jLmxlbmd0aD50LlJhW3QuUmEubGVuZ3RoLTFdKzEmJnQuTmMucG9wKCk7dmFyIHA9bnVsbCx1PW51bGw7cD10LmhhKCkudmFsdWUsdT1uZXcgaGl2ZS5zbmFwc2hvdHMuVHJhZmZpYyx1LnJlYWQodCksdGhpcy50cmFmZmljW3BdPXV9dC5VYygpfWVsc2UgdC5wYShpKTticmVhaztjYXNlIDc6aT09ci5icy54cz8odGhpcy5zbmFwc2hvdEluZm89bmV3IFNuYXBzaG90SW5mbyx0aGlzLnNuYXBzaG90SW5mby5yZWFkKHQpKTp0LnBhKGkpO2JyZWFrO2Nhc2UgODppPT1yLmJzLnhzPyh0aGlzLmFnZW50SW5mbz1uZXcgaGl2ZS5zbmFwc2hvdHMuQWdlbnRJbmZvLHRoaXMuYWdlbnRJbmZvLnJlYWQodCkpOnQucGEoaSk7YnJlYWs7Y2FzZSA5Omk9PXIuYnMueHM/KHRoaXMuY29ubkluZm89bmV3IGhpdmUuc25hcHNob3RzLkNvbm5lY3Rpdml0eUluZm8sdGhpcy5jb25uSW5mby5yZWFkKHQpKTp0LnBhKGkpO2JyZWFrO2Nhc2UgMTA6aWYoaT09ci5icy5Ccyl7dmFyIGwsZD0wO3RoaXMucGFydG5lcnM9e307dmFyIGY9MCxnPTA7bD10LkxjKCksZj1sLk1jLGc9bC5qYyxkPWwuc2l6ZTtmb3IodmFyIHY9MDt2PGQ7Kyt2KXt2PjAmJnQuTmMubGVuZ3RoPnQuUmFbdC5SYS5sZW5ndGgtMV0rMSYmdC5OYy5wb3AoKTt2YXIgeT1udWxsLG09bnVsbDt5PXQuaGEoKS52YWx1ZSxtPW5ldyBoaXZlLnNuYXBzaG90cy5QYXJ0bmVyLG0ucmVhZCh0KSx0aGlzLnBhcnRuZXJzW3ldPW19dC5VYygpfWVsc2UgdC5wYShpKTticmVhaztjYXNlIDExOmk9PXIuYnMueHM/KHRoaXMucGxheWVyPW5ldyBoaXZlLnNuYXBzaG90cy5QbGF5ZXIsdGhpcy5wbGF5ZXIucmVhZCh0KSk6dC5wYShpKTticmVhaztjYXNlIDEyOmk9PXIuYnMueHM/KHRoaXMuY2xpZW50PW5ldyBoaXZlLnNuYXBzaG90cy5DbGllbnRJbmZvLHRoaXMuY2xpZW50LnJlYWQodCkpOnQucGEoaSk7YnJlYWs7Y2FzZSAxMzppPT1yLmJzLkFzP3RoaXMuc2Vzc2lvbklkPXQuaGEoKS52YWx1ZTp0LnBhKGkpO2JyZWFrO2RlZmF1bHQ6dC5wYShpKX10LmxhKCl9dC5kYSgpfSxoaXZlLnNuYXBzaG90cy5Kc29uTWV0cmljU25hcHNob3QucHJvdG90eXBlLndyaXRlPWZ1bmN0aW9uKHQpe2lmKHQuZmEoXCJKc29uTWV0cmljU25hcHNob3RcIiksbnVsbCE9PXRoaXMudGltZXN0YW1wJiZ2b2lkIDAhPT10aGlzLnRpbWVzdGFtcCYmKHQuZ2EoXCJ0aW1lc3RhbXBcIixyLmJzLlBzLDEpLHQuQ2ModGhpcy50aW1lc3RhbXApLHQueWEoKSksbnVsbCE9PXRoaXMuZ3VpZCYmdm9pZCAwIT09dGhpcy5ndWlkJiYodC5nYShcImd1aWRcIixyLmJzLkFzLDIpLHQudmEodGhpcy5ndWlkKSx0LnlhKCkpLG51bGwhPT10aGlzLmV2ZW50SWQmJnZvaWQgMCE9PXRoaXMuZXZlbnRJZCYmKHQuZ2EoXCJldmVudElkXCIsci5icy54cywzKSx0aGlzLmV2ZW50SWQud3JpdGUodCksdC55YSgpKSxudWxsIT09dGhpcy5zdHJlYW1JbmZvJiZ2b2lkIDAhPT10aGlzLnN0cmVhbUluZm8mJih0LmdhKFwic3RyZWFtSW5mb1wiLHIuYnMueHMsNCksdGhpcy5zdHJlYW1JbmZvLndyaXRlKHQpLHQueWEoKSksbnVsbCE9PXRoaXMubWV0cmljcyYmdm9pZCAwIT09dGhpcy5tZXRyaWNzJiYodC5nYShcIm1ldHJpY3NcIixyLmJzLnhzLDUpLHRoaXMubWV0cmljcy53cml0ZSh0KSx0LnlhKCkpLG51bGwhPT10aGlzLnRyYWZmaWMmJnZvaWQgMCE9PXRoaXMudHJhZmZpYyl7dC5nYShcInRyYWZmaWNcIixyLmJzLkJzLDYpLHQubWMoci5icy5BcyxyLmJzLnhzLHIuUXModGhpcy50cmFmZmljKSk7Zm9yKHZhciBlIGluIHRoaXMudHJhZmZpYylpZih0aGlzLnRyYWZmaWMuaGFzT3duUHJvcGVydHkoZSkpe3ZhciBpPXRoaXMudHJhZmZpY1tlXTt0LnZhKGUpLGkud3JpdGUodCl9dC53YygpLHQueWEoKX1pZihudWxsIT09dGhpcy5zbmFwc2hvdEluZm8mJnZvaWQgMCE9PXRoaXMuc25hcHNob3RJbmZvJiYodC5nYShcInNuYXBzaG90SW5mb1wiLHIuYnMueHMsNyksdGhpcy5zbmFwc2hvdEluZm8ud3JpdGUodCksdC55YSgpKSxudWxsIT09dGhpcy5hZ2VudEluZm8mJnZvaWQgMCE9PXRoaXMuYWdlbnRJbmZvJiYodC5nYShcImFnZW50SW5mb1wiLHIuYnMueHMsOCksdGhpcy5hZ2VudEluZm8ud3JpdGUodCksdC55YSgpKSxudWxsIT09dGhpcy5jb25uSW5mbyYmdm9pZCAwIT09dGhpcy5jb25uSW5mbyYmKHQuZ2EoXCJjb25uSW5mb1wiLHIuYnMueHMsOSksdGhpcy5jb25uSW5mby53cml0ZSh0KSx0LnlhKCkpLG51bGwhPT10aGlzLnBhcnRuZXJzJiZ2b2lkIDAhPT10aGlzLnBhcnRuZXJzKXt0LmdhKFwicGFydG5lcnNcIixyLmJzLkJzLDEwKSx0Lm1jKHIuYnMuQXMsci5icy54cyxyLlFzKHRoaXMucGFydG5lcnMpKTtmb3IodmFyIG4gaW4gdGhpcy5wYXJ0bmVycylpZih0aGlzLnBhcnRuZXJzLmhhc093blByb3BlcnR5KG4pKXt2YXIgbz10aGlzLnBhcnRuZXJzW25dO3QudmEobiksby53cml0ZSh0KX10LndjKCksdC55YSgpfW51bGwhPT10aGlzLnBsYXllciYmdm9pZCAwIT09dGhpcy5wbGF5ZXImJih0LmdhKFwicGxheWVyXCIsci5icy54cywxMSksdGhpcy5wbGF5ZXIud3JpdGUodCksdC55YSgpKSxudWxsIT09dGhpcy5jbGllbnQmJnZvaWQgMCE9PXRoaXMuY2xpZW50JiYodC5nYShcImNsaWVudFwiLHIuYnMueHMsMTIpLHRoaXMuY2xpZW50LndyaXRlKHQpLHQueWEoKSksbnVsbCE9PXRoaXMuc2Vzc2lvbklkJiZ2b2lkIDAhPT10aGlzLnNlc3Npb25JZCYmKHQuZ2EoXCJzZXNzaW9uSWRcIixyLmJzLkFzLDEzKSx0LnZhKHRoaXMuc2Vzc2lvbklkKSx0LnlhKCkpLHQud2EoKSx0LlRhKCl9fSxmdW5jdGlvbih0LGUpey8qISBjb2xsZWN0aW9ucy5taW4uanMgdiAzLjAuMCBnaXRodWIuY29tL21vbnRhZ2Vqcy9jb2xsZWN0aW9ucyAqL1xuICAhZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3Rocm93IEVycm9yKFwiQ2FuJ3QgY29uc3RydWN0LiBHZW5lcmljQ29sbGVjdGlvbiBpcyBhIG1peGluLlwiKX1mdW5jdGlvbiBpKCl7dGhyb3cgRXJyb3IoXCJDYW4ndCBjb25zdHJ1Y3QuIEdlbmVyaWNTZXQgaXMgYSBtaXhpbi5cIil9ZnVuY3Rpb24gcigpe31mdW5jdGlvbiBuKCl7dGhyb3cgRXJyb3IoXCJUaGlzIGlzIGFuIGFic3RyYWN0IGludGVyZmFjZS4gTWl4IGl0LiBEb24ndCBjb25zdHJ1Y3QgaXRcIil9ZnVuY3Rpb24gbygpe3Rocm93IEVycm9yKFwiQ2FuJ3QgY29uc3RydWN0LiBSYW5nZUNoYW5nZXMgaXMgYSBtaXhpbi5cIil9ZnVuY3Rpb24gcygpe3Rocm93IEVycm9yKFwiQ2FuJ3QgY29uc3RydWN0LiBHZW5lcmljT3JkZXIgaXMgYSBtaXhpbi5cIil9ZnVuY3Rpb24gYSh0KXtpZighKHRoaXMgaW5zdGFuY2VvZiBhKSlyZXR1cm4gbmV3IGEodCk7aWYoQXJyYXkuaXNBcnJheSh0KXx8XCJzdHJpbmdcIj09dHlwZW9mIHQpcmV0dXJuIGEuRGYodCk7aWYodD1sdCh0KSx0IGluc3RhbmNlb2YgYSlyZXR1cm4gdDtpZih0Lm5leHQpdGhpcy5uZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIHQubmV4dCgpfTtlbHNlIGlmKHQuRGYpe3ZhciBlPXQuRGYoKTt0aGlzLm5leHQ9ZnVuY3Rpb24oKXtyZXR1cm4gZS5uZXh0KCl9fWVsc2V7aWYoXCJbb2JqZWN0IEZ1bmN0aW9uXVwiIT09bHQucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBpdGVyYXRlXCIpO3RoaXMubmV4dD10fX1mdW5jdGlvbiBjKHQsZSxpKXt0aGlzLkhmPXQsdGhpcy5zdGFydD1udWxsPT1lPzA6ZSx0aGlzLmVuZD1pfWZ1bmN0aW9uIGgodCxlLGkpe2lmKCEodGhpcyBpbnN0YW5jZW9mIGgpKXJldHVybiBuZXcgaCh0LGUsaSk7dmFyIHI9dGhpcy5oZWFkPW5ldyB0aGlzLk5vZGU7ci5uZXh0PXIsci5MZj1yLHRoaXMuTWY9ZXx8T2JqZWN0Lm9sLHRoaXMuY29udGVudD1pfHxGdW5jdGlvbi5qZix0aGlzLmxlbmd0aD0wLHRoaXMuYWRkRWFjaCh0KX1mdW5jdGlvbiBwKHQpe3RoaXMuaGVhZD10LHRoaXMuVWY9dC5uZXh0fWZ1bmN0aW9uIHUodCl7dGhpcy52YWx1ZT10LHRoaXMubmV4dD10aGlzLkxmPW51bGx9ZnVuY3Rpb24gbCgpe3Rocm93IEVycm9yKFwiQ2FuJ3QgY29uc3RydWN0LiBNYXBDaGFuZ2VzIGlzIGEgbWl4aW4uXCIpfWZ1bmN0aW9uIGQoKXt0aHJvdyBFcnJvcihcIkNhbid0IGNvbnN0cnVjdC4gR2VuZXJpY01hcCBpcyBhIG1peGluLlwiKX1mdW5jdGlvbiBmKHQsZSl7cmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBmPyh0aGlzLmNvbnRlbnQ9ZXx8RnVuY3Rpb24uamYsdGhpcy5WZj17fSx0aGlzLmxlbmd0aD0wLHZvaWQgdGhpcy5hZGRFYWNoKHQpKTpuZXcgZih0LGUpfWZ1bmN0aW9uIGcodCxlLGkscil7cmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBnPyhlPWV8fE9iamVjdC5vbCxpPWl8fE9iamVjdC5oYXNoLHI9cnx8RnVuY3Rpb24uamYsdGhpcy5NZj1lLHRoaXMuUWY9aSx0aGlzLmNvbnRlbnQ9cix0aGlzLnFmPW5ldyB0aGlzLkpmKG51bGwsdGhpcy5LZiksdGhpcy5sZW5ndGg9MCx2b2lkIHRoaXMuYWRkRWFjaCh0KSk6bmV3IGcodCxlLGkpfWZ1bmN0aW9uIHYodCxlLGkscil7cmV0dXJuIHRoaXMgaW5zdGFuY2VvZiB2PyhlPWV8fE9iamVjdC5vbCxpPWl8fE9iamVjdC5oYXNoLHI9cnx8RnVuY3Rpb24uamYsdGhpcy5NZj1lLHRoaXMuUWY9aSx0aGlzLmNvbnRlbnQ9cix0aGlzLlZmPW5ldyBNdCgodm9pZCAwKSxmdW5jdGlvbih0LGkpe3JldHVybiBlKHQua2V5LGkua2V5KX0sZnVuY3Rpb24odCl7cmV0dXJuIGkodC5rZXkpfSksdGhpcy5sZW5ndGg9MCx2b2lkIHRoaXMuYWRkRWFjaCh0KSk6bmV3IHYodCxlLGkpfWZ1bmN0aW9uIHkodCxlLGkscil7cmV0dXJuIHRoaXMgaW5zdGFuY2VvZiB5PyhlPWV8fE9iamVjdC5vbCxpPWl8fE9iamVjdC5oYXNoLHI9cnx8RnVuY3Rpb24uamYsdGhpcy5NZj1lLHRoaXMuUWY9aSx0aGlzLmNvbnRlbnQ9cix0aGlzLm9yZGVyPW5ldyB0aGlzLkdmKCh2b2lkIDApLGUpLHRoaXMuVmY9bmV3IHRoaXMuemYoKHZvaWQgMCksZnVuY3Rpb24odCxpKXtyZXR1cm4gZSh0LnZhbHVlLGkudmFsdWUpfSxmdW5jdGlvbih0KXtyZXR1cm4gaSh0LnZhbHVlKX0pLHRoaXMubGVuZ3RoPTAsdm9pZCB0aGlzLmFkZEVhY2godCkpOm5ldyB5KHQsZSxpKX1mdW5jdGlvbiBtKHQsZSxpLHIsbil7cmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBtPyhlPWV8fDEvMCxpPWl8fE9iamVjdC5vbCxyPXJ8fE9iamVjdC5oYXNoLG49bnx8RnVuY3Rpb24uamYsdGhpcy5WZj1uZXcgWXQoKHZvaWQgMCksaSxyKSx0aGlzLk1mPWksdGhpcy5RZj1yLHRoaXMuY29udGVudD1uLHRoaXMubWF4TGVuZ3RoPWUsdGhpcy5sZW5ndGg9MCx2b2lkIHRoaXMuYWRkRWFjaCh0KSk6bmV3IG0odCxlLGkscil9ZnVuY3Rpb24gdyh0LGUsaSxyLG4pe3JldHVybiB0aGlzIGluc3RhbmNlb2Ygdz8oaT1pfHxPYmplY3Qub2wscj1yfHxPYmplY3QuaGFzaCxuPW58fEZ1bmN0aW9uLmpmLHRoaXMuTWY9aSx0aGlzLlFmPXIsdGhpcy5jb250ZW50PW4sdGhpcy5WZj1uZXcgaWUoKHZvaWQgMCksZSxmdW5jdGlvbih0LGUpe3JldHVybiBpKHQua2V5LGUua2V5KX0sZnVuY3Rpb24odCl7cmV0dXJuIHIodC5rZXkpfSksdGhpcy5sZW5ndGg9MCx2b2lkIHRoaXMuYWRkRWFjaCh0KSk6bmV3IHcodCxlLGkscil9ZnVuY3Rpb24gVCh0LGUsaSxyKXtyZXR1cm4gdGhpcyBpbnN0YW5jZW9mIFQ/KGU9ZXx8T2JqZWN0Lm9sLGk9aXx8T2JqZWN0Lmhhc2gscj1yfHxGdW5jdGlvbi5qZix0aGlzLk1mPWUsdGhpcy5RZj1pLHRoaXMuY29udGVudD1yLHRoaXMuVmY9bmV3IGFlKCh2b2lkIDApLGZ1bmN0aW9uKHQsaSl7cmV0dXJuIGUodC5rZXksaS5rZXkpfSxmdW5jdGlvbih0KXtyZXR1cm4gaSh0LmtleSl9KSx0aGlzLmxlbmd0aD0wLHZvaWQgdGhpcy5hZGRFYWNoKHQpKTpuZXcgVCh0LGUsaSl9ZnVuY3Rpb24gUyh0LGUsaSxyKXtyZXR1cm4gdGhpcyBpbnN0YW5jZW9mIFM/KHRoaXMuV2Y9ZXx8dGhpcy5XZix2b2lkIGxlLmNhbGwodGhpcyx0LGkscixmdW5jdGlvbih0KXt2YXIgZT10aGlzLldmKCk7cmV0dXJuIGxlLnByb3RvdHlwZS5zZXQuY2FsbCh0aGlzLHQsZSksZX0pKTpuZXcgUyh0LGUsaSxyKX1mdW5jdGlvbiBiKHQsZSxpLHIpe3JldHVybiB0aGlzIGluc3RhbmNlb2YgYj8oQXJyYXkuaXNBcnJheSh0KT8odGhpcy5IZj10LHQ9dC5zcGxpY2UoMCx0Lmxlbmd0aCkpOnRoaXMuSGY9W10sdGhpcy5NZj1lfHxPYmplY3Qub2wsdGhpcy4kZj1pfHxPYmplY3QuWWYsdGhpcy5jb250ZW50PXJ8fEZ1bmN0aW9uLmpmLHRoaXMubGVuZ3RoPTAsdm9pZCB0aGlzLmFkZEVhY2godCkpOm5ldyBiKHQsZSxpLHIpfWZ1bmN0aW9uIEUodCxlLGkpe2Zvcih2YXIgcj0wLG49dC5sZW5ndGgtMTtyPD1uOyl7dmFyIG89cituPj4xLHM9aShlLHRbb10pO2lmKDA8cylyPW8rMTtlbHNle2lmKCEoMD5zKSlyZXR1cm4gbztuPW8tMX19cmV0dXJuLShyKzEpfWZ1bmN0aW9uIEkodCxlLGkscil7aWYoaT1FKHQsZSxpKSwwPmkpcmV0dXJuLTE7Zm9yKDswPGkmJnIoZSx0W2ktMV0pOylpLS07cmV0dXJuIHIoZSx0W2ldKT9pOi0xfWZ1bmN0aW9uIFIodCxlLGkscil7aWYoaT1FKHQsZSxpKSwwPmkpcmV0dXJuLTE7Zm9yKDtpPHQubGVuZ3RoLTEmJnIoZSx0W2krMV0pOylpKys7cmV0dXJuIHIoZSx0W2ldKT9pOi0xfWZ1bmN0aW9uIGsodCxlLGkscil7cmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBrP3ZvaWQgeWUuY2FsbCh0aGlzLHQsZSxpLHIpOm5ldyBrKHQsZSxpLHIpfWZ1bmN0aW9uIEModCxlLGkscil7cmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBDPyhlPWV8fE9iamVjdC5vbCxpPWl8fE9iamVjdC5ZZixyPXJ8fEZ1bmN0aW9uLmpmLHRoaXMuTWY9ZSx0aGlzLiRmPWksdGhpcy5jb250ZW50PXIsdGhpcy5WZj1uZXcgU2UobnVsbCxmdW5jdGlvbih0LGkpe3JldHVybiBlKHQua2V5LGkua2V5KX0sZnVuY3Rpb24odCxlKXtyZXR1cm4gaSh0LmtleSxlLmtleSl9KSx0aGlzLmxlbmd0aD0wLHZvaWQgdGhpcy5hZGRFYWNoKHQpKTpuZXcgQyh0LGUsaSxyKX1mdW5jdGlvbiBPKHQsZSxpLHIpe3JldHVybiB0aGlzIGluc3RhbmNlb2YgTz8odGhpcy5NZj1lfHxPYmplY3Qub2wsdGhpcy4kZj1pfHxPYmplY3QuWWYsdGhpcy5jb250ZW50PXJ8fEZ1bmN0aW9uLmpmLHRoaXMucm9vdD1udWxsLHRoaXMubGVuZ3RoPTAsdm9pZCB0aGlzLmFkZEVhY2godCkpOm5ldyBPKHQsZSxpLHIpfWZ1bmN0aW9uIFAodCl7dGhpcy52YWx1ZT10LHRoaXMucmlnaHQ9dGhpcy5sZWZ0PW51bGwsdGhpcy5sZW5ndGg9MX1mdW5jdGlvbiBBKHQsZSxpKXt0aGlzLnNldD10LHRoaXMuTGY9bnVsbCx0aGlzLmVuZD1pLGUmJih0PXRoaXMuc2V0LlhmKGUpKSYmKHRoaXMuc2V0LlpmKHQudmFsdWUpLHRoaXMuTGY9dC50ZygpKX1mdW5jdGlvbiBOKHQsZSxpLHIpe3JldHVybiB0aGlzIGluc3RhbmNlb2YgTj8oZT1lfHxPYmplY3Qub2wsaT1pfHxPYmplY3QuWWYscj1yfHxGdW5jdGlvbi5qZix0aGlzLk1mPWUsdGhpcy4kZj1pLHRoaXMuY29udGVudD1yLHRoaXMuVmY9bmV3IE5lKG51bGwsZnVuY3Rpb24odCxpKXtyZXR1cm4gZSh0LmtleSxpLmtleSl9LGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGkodC5rZXksZS5rZXkpfSksdGhpcy5sZW5ndGg9MCx2b2lkIHRoaXMuYWRkRWFjaCh0KSk6bmV3IE4odCxlLGkscil9dmFyIHg9e307eC5lZz1lLGUucHJvdG90eXBlLmFkZEVhY2g9ZnVuY3Rpb24odCl7aWYodCYmT2JqZWN0KHQpPT09dClpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LmZvckVhY2gpdC5mb3JFYWNoKHRoaXMuYWRkLHRoaXMpO2Vsc2UgaWYoXCJudW1iZXJcIj09dHlwZW9mIHQubGVuZ3RoKWZvcih2YXIgZT0wO2U8dC5sZW5ndGg7ZSsrKXRoaXMuYWRkKHRbZV0sZSk7ZWxzZSBPYmplY3Qua2V5cyh0KS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3RoaXMuYWRkKHRbZV0sZSl9LHRoaXMpfSxlLnByb3RvdHlwZS5pZz1mdW5jdGlvbih0KXt0LmZvckVhY2goZnVuY3Rpb24odCl7dGhpc1tcImRlbGV0ZVwiXSh0KX0sdGhpcyl9LGUucHJvdG90eXBlLmZvckVhY2g9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5yZWR1Y2UoZnVuY3Rpb24oaSxyLG4sbyxzKXt0LmNhbGwoZSxyLG4sbyxzKX0sdm9pZCAwKX0sZS5wcm90b3R5cGUubWFwPWZ1bmN0aW9uKHQsZSl7dmFyIGk9W107cmV0dXJuIHRoaXMucmVkdWNlKGZ1bmN0aW9uKHIsbixvLHMsYSl7aS5wdXNoKHQuY2FsbChlLG4sbyxzLGEpKX0sdm9pZCAwKSxpfSxlLnByb3RvdHlwZS50b0FycmF5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFwKEZ1bmN0aW9uLmlkZW50aXR5KX0sZS5wcm90b3R5cGUucmc9ZnVuY3Rpb24oKXt2YXIgdD17fTtyZXR1cm4gdGhpcy5yZWR1Y2UoZnVuY3Rpb24oZSxpLHIpe3Rbcl09aX0sdm9pZCAwKSx0fSxlLnByb3RvdHlwZS5maWx0ZXI9ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLm5nKCk7cmV0dXJuIHRoaXMucmVkdWNlKGZ1bmN0aW9uKHIsbixvLHMsYSl7dC5jYWxsKGUsbixvLHMsYSkmJmkuYWRkKG4pfSx2b2lkIDApLGl9LGUucHJvdG90eXBlLmV2ZXJ5PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMucmVkdWNlKGZ1bmN0aW9uKGkscixuLG8scyl7cmV0dXJuIGkmJnQuY2FsbChlLHIsbixvLHMpfSwhMCl9LGUucHJvdG90eXBlLnNvbWU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5yZWR1Y2UoZnVuY3Rpb24oaSxyLG4sbyxzKXtyZXR1cm4gaXx8dC5jYWxsKGUscixuLG8scyl9LCExKX0sZS5wcm90b3R5cGUuYWxsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXZlcnkoQm9vbGVhbil9LGUucHJvdG90eXBlLmllPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc29tZShCb29sZWFuKX0sZS5wcm90b3R5cGUubWluPWZ1bmN0aW9uKHQpe3JldHVybiB0PXRoaXMuJGZ8fE9iamVjdC5ZZix0aGlzLnJlZHVjZShmdW5jdGlvbihlLGkpe3JldHVybiAwPnQoaSxlKT9pOmV9LDEvMCl9LGUucHJvdG90eXBlLm1heD1mdW5jdGlvbih0KXtyZXR1cm4gdD10aGlzLiRmfHxPYmplY3QuWWYsdGhpcy5yZWR1Y2UoZnVuY3Rpb24oZSxpKXtyZXR1cm4gMDx0KGksZSk/aTplfSwtKDEvMCkpfSxlLnByb3RvdHlwZS5vZz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5yZWR1Y2UoZnVuY3Rpb24odCxlKXtyZXR1cm4gdCtlfSx2b2lkIDA9PT10PzA6dCl9LGUucHJvdG90eXBlLnNnPWZ1bmN0aW9uKHQpe3ZhciBlPXZvaWQgMD09PXQ/MDp0LGk9dm9pZCAwPT09dD8wOnQ7cmV0dXJuIHRoaXMucmVkdWNlKGZ1bmN0aW9uKHQscil7ZSs9cixpKz0xfSx2b2lkIDApLGUvaX0sZS5wcm90b3R5cGUuY29uY2F0PWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMubmcodGhpcyksZT0wO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspdC5hZGRFYWNoKGFyZ3VtZW50c1tlXSk7cmV0dXJuIHR9LGUucHJvdG90eXBlLmFnPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztyZXR1cm4gdGhpcy5yZWR1Y2UoZnVuY3Rpb24oZSxpKXtyZXR1cm4gaS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3RoaXMucHVzaCh0KX0sZSx0KSxlfSxbXSl9LGUucHJvdG90eXBlLmNnPWZ1bmN0aW9uKCl7dmFyIHQ9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTt0LnVuc2hpZnQodGhpcyk7Zm9yKHZhciBlPVtdLGk9MS8wLHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG49dFtyXTt0W3JdPW4udG9BcnJheSgpLG4ubGVuZ3RoPGkmJihpPW4ubGVuZ3RoKX1mb3Iocj0wO3I8dC5sZW5ndGg7cisrKWZvcih2YXIgbj10W3JdLG89MDtvPG4ubGVuZ3RoO28rKylvPGkmJm8gaW4gbiYmKGVbb109ZVtvXXx8W10sZVtvXVtyXT1uW29dKTtyZXR1cm4gZX0sZS5wcm90b3R5cGUuaGc9ZnVuY3Rpb24odCxlLGkpe3JldHVybiB0PXR8fHRoaXMuJGZ8fE9iamVjdC5ZZix0LnBnPyhlPXQucGcsdD10LllmfHx0aGlzLiRmfHxPYmplY3QuWWYpOmU9ZXx8RnVuY3Rpb24uaWRlbnRpdHksdm9pZCAwPT09aSYmKGk9MSksdGhpcy5tYXAoZnVuY3Rpb24odCl7cmV0dXJue3BnOmUodCksdmFsdWU6dH19KS5zb3J0KGZ1bmN0aW9uKGUscil7cmV0dXJuIHQoZS5wZyxyLnBnKSppfSkubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0LnZhbHVlfSl9LGUucHJvdG90eXBlLnJldmVyc2VkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubmcodGhpcykucmV2ZXJzZSgpfSxlLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbih0LGUpe2lmKHZvaWQgMD09PXQpdD0xLzA7ZWxzZSBpZigwPT09dClyZXR1cm4gdGhpczt2YXIgaT10aGlzLm5nKCk7cmV0dXJuIHRoaXMuZm9yRWFjaChmdW5jdGlvbihyLG4pe2kuYWRkKE9iamVjdC5jbG9uZShyLHQtMSxlKSxuKX0sdGhpcyksaX0sZS5wcm90b3R5cGUub25seT1mdW5jdGlvbigpe2lmKDA9PT10aGlzLmxlbmd0aCl0aHJvdyBFcnJvcihcIkNhbid0IGdldCBvbmx5IHZhbHVlIGluIGVtcHR5IGNvbGxlY3Rpb24uXCIpO2lmKDE8dGhpcy5sZW5ndGgpdGhyb3cgRXJyb3IoXCJDYW4ndCBnZXQgb25seSB2YWx1ZSBpbiBjb2xsZWN0aW9uIHdpdGggbXVsdGlwbGUgdmFsdWVzLlwiKTtyZXR1cm4gdGhpcy51ZygpfSx4LmVnJiYoeD14LmVnKTt2YXIgQj17fTtCLmVnPWksaS5wcm90b3R5cGUubGc9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5uZyh0aGlzKTtyZXR1cm4gZS5hZGRFYWNoKHQpLGV9LGkucHJvdG90eXBlLmRnPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm5nKHRoaXMuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiB0LmhhcyhlKX0pKX0saS5wcm90b3R5cGUuZmc9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5uZyh0aGlzKTtyZXR1cm4gZS5pZyh0KSxlfSxpLnByb3RvdHlwZS5nZz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmxnKHQpLHQ9dGhpcy5kZyh0KTtyZXR1cm4gZS5mZyh0KX0saS5wcm90b3R5cGUub2w9ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzO3JldHVybiBPYmplY3QudmcodCxcInJlZHVjZVwiKSYmdGhpcy5sZW5ndGg9PT10Lmxlbmd0aCYmdC5yZWR1Y2UoZnVuY3Rpb24odCxyKXtyZXR1cm4gdCYmaS5oYXMocixlKX0sITApfSxCLmVnJiYoQj1CLmVnKTt2YXIgRj14LF89T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztBcnJheS5pc0FycmF5fHwoQXJyYXkuaXNBcnJheT1mdW5jdGlvbih0KXtyZXR1cm5cIltvYmplY3QgQXJyYXldXCI9PV8uY2FsbCh0KX0pLEFycmF5LnByb3RvdHlwZS5mb3JFYWNofHwoQXJyYXkucHJvdG90eXBlLmZvckVhY2g9Ri5mb3JFYWNoKSxBcnJheS5wcm90b3R5cGUubWFwfHwoQXJyYXkucHJvdG90eXBlLm1hcD1GLm1hcCksQXJyYXkucHJvdG90eXBlLmZpbHRlcnx8KEFycmF5LnByb3RvdHlwZS5maWx0ZXI9Ri5maWx0ZXIpLEFycmF5LnByb3RvdHlwZS5ldmVyeXx8KEFycmF5LnByb3RvdHlwZS5ldmVyeT1GLmV2ZXJ5KSxBcnJheS5wcm90b3R5cGUuc29tZXx8KEFycmF5LnByb3RvdHlwZS5zb21lPUYuc29tZSksQXJyYXkucHJvdG90eXBlLnJlZHVjZXx8KEFycmF5LnByb3RvdHlwZS5yZWR1Y2U9ZnVuY3Rpb24odCl7dmFyIGU9dG9PYmplY3QodGhpcyksaT1lLmxlbmd0aD4+PjA7aWYoXCJbb2JqZWN0IEZ1bmN0aW9uXVwiIT1fLmNhbGwodCkpdGhyb3cgbmV3IFR5cGVFcnJvcih0K1wiIGlzIG5vdCBhIGZ1bmN0aW9uXCIpO2lmKCFpJiYxPT1hcmd1bWVudHMubGVuZ3RoKXRocm93IG5ldyBUeXBlRXJyb3IoXCJyZWR1Y2Ugb2YgZW1wdHkgYXJyYXkgd2l0aCBubyBpbml0aWFsIHZhbHVlXCIpO3ZhciByLG49MDtpZigyPD1hcmd1bWVudHMubGVuZ3RoKXI9YXJndW1lbnRzWzFdO2Vsc2UgZm9yKDs7KXtpZihuIGluIGUpe3I9ZVtuKytdO2JyZWFrfWlmKCsrbj49aSl0aHJvdyBuZXcgVHlwZUVycm9yKFwicmVkdWNlIG9mIGVtcHR5IGFycmF5IHdpdGggbm8gaW5pdGlhbCB2YWx1ZVwiKX1mb3IoO248aTtuKyspbiBpbiBlJiYocj10LmNhbGwodm9pZCAwLHIsZVtuXSxuLGUpKTtyZXR1cm4gcn0pLEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodHx8KEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodD1mdW5jdGlvbih0KXt2YXIgZT10b09iamVjdCh0aGlzKSxpPWUubGVuZ3RoPj4+MDtpZihcIltvYmplY3QgRnVuY3Rpb25dXCIhPV8uY2FsbCh0KSl0aHJvdyBuZXcgVHlwZUVycm9yKHQrXCIgaXMgbm90IGEgZnVuY3Rpb25cIik7aWYoIWkmJjE9PWFyZ3VtZW50cy5sZW5ndGgpdGhyb3cgbmV3IFR5cGVFcnJvcihcInJlZHVjZVJpZ2h0IG9mIGVtcHR5IGFycmF5IHdpdGggbm8gaW5pdGlhbCB2YWx1ZVwiKTt2YXIgcixpPWktMTtpZigyPD1hcmd1bWVudHMubGVuZ3RoKXI9YXJndW1lbnRzWzFdO2Vsc2UgZm9yKDs7KXtpZihpIGluIGUpe3I9ZVtpLS1dO2JyZWFrfWlmKDA+LS1pKXRocm93IG5ldyBUeXBlRXJyb3IoXCJyZWR1Y2VSaWdodCBvZiBlbXB0eSBhcnJheSB3aXRoIG5vIGluaXRpYWwgdmFsdWVcIil9ZG8gaSBpbiB0aGlzJiYocj10LmNhbGwodm9pZCAwLHIsZVtpXSxpLGUpKTt3aGlsZShpLS0pO3JldHVybiByfSksQXJyYXkucHJvdG90eXBlLmluZGV4T2Z8fChBcnJheS5wcm90b3R5cGUuaW5kZXhPZj1mdW5jdGlvbih0KXt2YXIgZT10b09iamVjdCh0aGlzKSxpPWUubGVuZ3RoPj4+MDtpZighaSlyZXR1cm4tMTt2YXIgcj0wO2ZvcigxPGFyZ3VtZW50cy5sZW5ndGgmJihyPXRvSW50ZWdlcihhcmd1bWVudHNbMV0pKSxyPTA8PXI/cjpNYXRoLm1heCgwLGkrcik7cjxpO3IrKylpZihyIGluIGUmJmVbcl09PT10KXJldHVybiByO3JldHVybi0xfSksQXJyYXkucHJvdG90eXBlLmxhc3RJbmRleE9mfHwoQXJyYXkucHJvdG90eXBlLmxhc3RJbmRleE9mPWZ1bmN0aW9uKHQpe3ZhciBlPXRvT2JqZWN0KHRoaXMpLGk9ZS5sZW5ndGg+Pj4wO2lmKCFpKXJldHVybi0xO3ZhciByPWktMTtmb3IoMTxhcmd1bWVudHMubGVuZ3RoJiYocj1NYXRoLm1pbihyLHRvSW50ZWdlcihhcmd1bWVudHNbMV0pKSkscj0wPD1yP3I6aS1NYXRoLmFicyhyKTswPD1yO3ItLSlpZihyIGluIGUmJnQ9PT1lW3JdKXJldHVybiByO3JldHVybi0xfSk7dmFyIEQ9e307RC5lZz1GdW5jdGlvbixGdW5jdGlvbi5qZj1mdW5jdGlvbigpe30sRnVuY3Rpb24uaWRlbnRpdHk9ZnVuY3Rpb24odCl7cmV0dXJuIHR9LEZ1bmN0aW9uLnBnPWZ1bmN0aW9uKHQsZSl7dmFyIGU9ZXx8T2JqZWN0LllmLHQ9dHx8RnVuY3Rpb24uaWRlbnRpdHksaT1mdW5jdGlvbihpLHIpe3JldHVybiBlKHQoaSksdChyKSl9O3JldHVybiBpLllmPWUsaS5wZz10LGl9LEQuZWcmJihEPUQuZWcpO3ZhciBIPXt9O0guZWc9cixyLnlnPXtkZzpcIitcIixtZzpcIi1cIix3ZzpcIitcIixUZzpcIitcIixTZzpcIi5cIixiZzpcIidcIixFZzpcIitcIixJZzpcInxcIn0sci5SZz17ZGc6XCLilYtcIixtZzpcIuKUgVwiLHdnOlwi4pS7XCIsVGc6XCLilLNcIixTZzpcIuKVrVwiLGJnOlwi4pWwXCIsRWc6XCLilKNcIixJZzpcIuKUg1wifSxyLmtnPXtkZzpcIuKVi1wiLG1nOlwi4pSBXCIsd2c6XCLilLtcIixUZzpcIuKUs1wiLFNnOlwi4pSPXCIsYmc6XCLilJdcIixFZzpcIuKUo1wiLElnOlwi4pSDXCJ9LEguZWcmJihIPUguZWcpO3ZhciBMLE09e30saj1NO2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBXZWFrTWFwKUw9V2Vha01hcDtlbHNle3ZhciBVPWZ1bmN0aW9uKHQpe3JldHVybiB0LnByb3RvdHlwZT1udWxsLE9iamVjdC5mcmVlemUodCl9LFY9T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMsUT1PYmplY3QuZGVmaW5lUHJvcGVydHkscT17fTtWKE9iamVjdCkuZm9yRWFjaChmdW5jdGlvbih0KXtxW3RdPU9iamVjdFt0XX0pO3ZhciBKPVwiaWRlbnQ6XCIrTWF0aC5yYW5kb20oKStcIl9fX1wiO2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBjcnlwdG8mJlwiZnVuY3Rpb25cIj09dHlwZW9mIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMmJlwiZnVuY3Rpb25cIj09dHlwZW9mIEFycmF5QnVmZmVyJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBVaW50OEFycmF5KXt2YXIgSz1uZXcgQXJyYXlCdWZmZXIoMjUpLEs9bmV3IFVpbnQ4QXJyYXkoSyk7Y3J5cHRvLmdldFJhbmRvbVZhbHVlcyhLKSxKPVwicmFuZDpcIitBcnJheS5wcm90b3R5cGUubWFwLmNhbGwoSyxmdW5jdGlvbih0KXtyZXR1cm4odCUzNikudG9TdHJpbmcoMzYpfSkuam9pbihcIlwiKStcIl9fX1wifVEoT2JqZWN0LFwiZ2V0T3duUHJvcGVydHlOYW1lc1wiLHt2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gVih0KS5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIHQhPT1KfSl9fSksXCJnZXRQcm9wZXJ0eU5hbWVzXCJpbiBPYmplY3QmJlEoT2JqZWN0LFwiZ2V0UHJvcGVydHlOYW1lc1wiLHt2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gcS5nZXRQcm9wZXJ0eU5hbWVzKHQpLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4gdCE9PUp9KX19KTt2YXIgRz1mdW5jdGlvbih0KXtpZih0IT09T2JqZWN0KHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJOb3QgYW4gb2JqZWN0OiBcIit0KTt2YXIgZT10W0pdO3JldHVybiBlJiZlLmtleT09PXQ/ZTpxLmlzRXh0ZW5zaWJsZSh0KT8oZT17a2V5OnQsQ2c6W10sT2c6W119LFEodCxKLHt2YWx1ZTplLFBnOiExLEFnOiExLE5nOiExfSksZSk6dm9pZCAwfSx6PU9iamVjdC5mcmVlemU7UShPYmplY3QsXCJmcmVlemVcIix7dmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIEcodCkseih0KX19KTt2YXIgVz1PYmplY3Quc2VhbDtRKE9iamVjdCxcInNlYWxcIix7dmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIEcodCksVyh0KX19KTt2YXIgJD1PYmplY3QucHJldmVudEV4dGVuc2lvbnM7UShPYmplY3QsXCJwcmV2ZW50RXh0ZW5zaW9uc1wiLHt2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gRyh0KSwkKHQpfX0pO3ZhciBZPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChyLG4pe3ZhciBvLHM9RyhyKTtyZXR1cm4gcz8obz1zLkNnLmluZGV4T2YodCkscz1zLk9nKToobz1lLmluZGV4T2Yocikscz1pKSwwPD1vP3Nbb106bn12YXIgZT1bXSxpPVtdO3JldHVybiBPYmplY3QuY3JlYXRlKFkucHJvdG90eXBlLHt4Zzp7dmFsdWU6VSh0KX0sQmc6e3ZhbHVlOlUoZnVuY3Rpb24oaSl7dmFyIHI9RyhpKTtyZXR1cm4gMDw9KHI/ci5DZy5pbmRleE9mKHQpOmUuaW5kZXhPZihpKSl9KX0sRmc6e3ZhbHVlOlUoZnVuY3Rpb24ocixuKXt2YXIgbyxzPUcocik7cz8obz1zLkNnLmluZGV4T2YodCksMDw9bz9zLk9nW29dPW46KHMuQ2cucHVzaCh0KSxzLk9nLnB1c2gobikpKToobz1lLmluZGV4T2YociksMDw9bz9pW29dPW46KGUucHVzaChyKSxpLnB1c2gobikpKX0pfSxfZzp7dmFsdWU6VShmdW5jdGlvbihyKXt2YXIgbj1HKHIpO3JldHVybiBuPyhyPW4uQ2cuaW5kZXhPZih0KSwwPD1yJiYobi5DZy5zcGxpY2UociwxKSxuLk9nLnNwbGljZShyLDEpKSk6KHI9ZS5pbmRleE9mKHIpLDA8PXImJihlLnNwbGljZShyLDEpLGkuc3BsaWNlKHIsMSkpKSwhMH0pfX0pfTtZLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKE9iamVjdC5wcm90b3R5cGUse2dldDp7dmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy54Zyh0LGUpfSxQZzohMCxOZzohMH0saGFzOnt2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5CZyh0KX0sUGc6ITAsTmc6ITB9LHNldDp7dmFsdWU6ZnVuY3Rpb24odCxlKXt0aGlzLkZnKHQsZSl9LFBnOiEwLE5nOiEwfSxcImRlbGV0ZVwiOnt2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZyh0KX0sUGc6ITAsTmc6ITB9fSksTD1ZfWouZWc9TCxNLmVnJiYoTT1NLmVnKTt2YXIgWD17fSxaPU0sdHQ9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxldD1uZXcgWixpdD1uZXcgWjtYLmVnPW4sbi5wcm90b3R5cGUuRGc9ZnVuY3Rpb24odCl7ZXQuaGFzKHRoaXMpfHxldC5zZXQodGhpcyx7fSk7dmFyIGU9ZXQuZ2V0KHRoaXMpO3JldHVybiB0dC5jYWxsKGUsdCl8fChlW3RdPXtIZzpbXSxMZzpbXX0pLGVbdF19LG4ucHJvdG90eXBlLk1nPWZ1bmN0aW9uKHQpe2lmKCFldC5oYXModGhpcykpcmV0dXJuITE7aWYoIXQpcmV0dXJuITA7dmFyIGU9ZXQuZ2V0KHRoaXMpO3JldHVybiEhdHQuY2FsbChlLHQpfSxuLnByb3RvdHlwZS5qZz1mdW5jdGlvbih0LGUsaSl7dGhpcy5tYWtlT2JzZXJ2YWJsZSYmIXRoaXMuaXNPYnNlcnZhYmxlJiZ0aGlzLm1ha2VPYnNlcnZhYmxlKCk7dmFyIHI9bi5EZyh0aGlzLHQpLGk9aT9yLkhnOnIuTGc7bi5VZyh0aGlzLHQpLGkucHVzaChlKX0sbi5wcm90b3R5cGUuVmc9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbi5qZyh0aGlzLHQsZSwhMCl9LG4ucHJvdG90eXBlLlFnPWZ1bmN0aW9uKHQsZSxpKXt2YXIgcj1uLkRnKHRoaXMsdCksaT1pP3IuSGc6ci5MZyxlPWkubGFzdEluZGV4T2YoZSk7aWYoLTE9PT1lKXRocm93IEVycm9yKFwiQ2FuJ3QgcmVtb3ZlIGxpc3RlbmVyOiBkb2VzIG5vdCBleGlzdC5cIik7aS5zcGxpY2UoZSwxKSwwPT09ci5MZy5sZW5ndGgrci5IZy5sZW5ndGgmJm4ucWcodGhpcyx0KX0sbi5wcm90b3R5cGUuSmc9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbi5RZyh0aGlzLHQsZSwhMCl9LG4ucHJvdG90eXBlLktnPWZ1bmN0aW9uKHQsZSxpKXt2YXIgcj1uLkRnKHRoaXMsdCkscj1pP3IuSGc6ci5MZyxpPShpP1wiV2lsbFwiOlwiXCIpK1wiQ2hhbmdlXCIsbz1cImhhbmRsZVByb3BlcnR5XCIraSxzPVN0cmluZyh0KSxzPXMmJnNbMF0udG9VcHBlckNhc2UoKStzLnNsaWNlKDEpLGE9XCJoYW5kbGVcIitzK2k7ci5mb3JFYWNoKGZ1bmN0aW9uKGkpe3ZhciByPWksaT1pW2FdfHxpW29dfHxpO2kuY2FsbCYmaS5jYWxsKHIsZSx0LHRoaXMpfSx0aGlzKX0sbi5wcm90b3R5cGUuR2c9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbi5LZyh0aGlzLHQsZSwhMCl9LG4ucHJvdG90eXBlLlVnPWZ1bmN0aW9uKHQpe2lmKCFBcnJheS5pc0FycmF5KHRoaXMpKXtpdC5oYXModGhpcyl8fChlPXt9LGl0LnNldCh0aGlzLGUpKTt2YXIgZT1pdC5nZXQodGhpcyk7aWYoIXR0LmNhbGwoZSx0KSl7dmFyIGkscj10aGlzO09iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iocix0KTtkb3tpZihpPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iocix0KSlicmVhaztyPU9iamVjdC5nZXRQcm90b3R5cGVPZihyKX13aGlsZShyKTtpZihpPWl8fHt2YWx1ZTp2b2lkIDAsQWc6ITAsUGc6ITAsTmc6ITB9LCFpLk5nKXRocm93IEVycm9yKFwiQ2FuJ3Qgb2JzZXJ2ZSBub24tY29uZmlndXJhYmxlIHByb3BlcnRpZXNcIik7ZVt0XT1pLChpLlBnfHxpLnNldCkmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLHQsXCJ2YWx1ZVwiaW4gaT97Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGkudmFsdWV9LHNldDpmdW5jdGlvbihlKXtyZXR1cm4gZT09PWkudmFsdWU/ZToobi5HZyh0aGlzLHQsaS52YWx1ZSksaS52YWx1ZT1lLG4uS2codGhpcyx0LGUpLGUpfSxBZzppLkFnLE5nOiEwfTp7Z2V0OmZ1bmN0aW9uKCl7aWYoaS5nZXQpcmV0dXJuIGkuZ2V0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sc2V0OmZ1bmN0aW9uKGUpe3ZhciByO3JldHVybiBpLmdldCYmKHI9aS5nZXQuYXBwbHkodGhpcyxhcmd1bWVudHMpKSxlPT09cj9lOihuLkdnKHRoaXMsdCxyKSxpLnNldCYmaS5zZXQuYXBwbHkodGhpcyxhcmd1bWVudHMpLGkuZ2V0JiYoZT1pLmdldC5hcHBseSh0aGlzLGFyZ3VtZW50cykpLG4uS2codGhpcyx0LGUpLGUpfSxBZzppLkFnLE5nOiEwfSl9fX0sbi5wcm90b3R5cGUucWc9ZnVuY3Rpb24odCl7aWYoIUFycmF5LmlzQXJyYXkodGhpcykpe2lmKCFpdC5oYXModGhpcykpdGhyb3cgRXJyb3IoXCJDYW4ndCB1bmluc3RhbGwgb2JzZXJ2ZXIgb24gcHJvcGVydHlcIik7dmFyIGU9aXQuZ2V0KHRoaXMpO2lmKCFlW3RdKXRocm93IEVycm9yKFwiQ2FuJ3QgdW5pbnN0YWxsIG9ic2VydmVyIG9uIHByb3BlcnR5XCIpO3ZhciBpPWVbdF07ZGVsZXRlIGVbdF0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsdCxpKX19LG4uRGc9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5EZz90LkRnKGUpOm4ucHJvdG90eXBlLkRnLmNhbGwodCxlKX0sbi5NZz1mdW5jdGlvbih0LGUpe3JldHVybiB0Lk1nP3QuTWcoZSk6bi5wcm90b3R5cGUuTWcuY2FsbCh0LGUpfSxuLmpnPWZ1bmN0aW9uKHQsZSxpLHIpe3JldHVybiB0LmpnP3QuamcoZSxpLHIpOm4ucHJvdG90eXBlLmpnLmNhbGwodCxlLGkscil9LG4uUWc9ZnVuY3Rpb24odCxlLGkscil7cmV0dXJuIHQuUWc/dC5RZyhlLGkscik6bi5wcm90b3R5cGUuUWcuY2FsbCh0LGUsaSxyKX0sbi5LZz1mdW5jdGlvbih0LGUsaSxyKXtyZXR1cm4gdC5LZz90LktnKGUsaSxyKTpuLnByb3RvdHlwZS5LZy5jYWxsKHQsZSxpLHIpfSxuLlZnPWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gbi5qZyh0LGUsaSwhMCl9LG4uSmc9ZnVuY3Rpb24odCxlLGkpe3JldHVybiBuLlFnKHQsZSxpLCEwKX0sbi5HZz1mdW5jdGlvbih0LGUsaSl7cmV0dXJuIG4uS2codCxlLGksITApfSxuLlVnPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuVWc/dC5VZyhlKTpuLnByb3RvdHlwZS5VZy5jYWxsKHQsZSl9LG4ucWc9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5xZz90LnFnKGUpOm4ucHJvdG90eXBlLnFnLmNhbGwodCxlKX0sWC5lZyYmKFg9WC5lZyk7dmFyIHJ0PXt9LG50PW5ldyBNO3J0LmVnPW8sby5wcm90b3R5cGUuemc9ZnVuY3Rpb24oKXtyZXR1cm4gbnQuaGFzKHRoaXMpfHxudC5zZXQodGhpcyx7c3Q6ITEsTGc6W10sSGc6W119KSxudC5nZXQodGhpcyl9LG8ucHJvdG90eXBlLldnPWZ1bmN0aW9uKHQsZSl7IXRoaXMuaXNPYnNlcnZhYmxlJiZ0aGlzLm1ha2VPYnNlcnZhYmxlJiZ0aGlzLm1ha2VPYnNlcnZhYmxlKCk7dmFyIGk9dGhpcy56ZygpOyhlP2kuSGc6aS5MZykucHVzaCh0KSx0aGlzLiRnPSEhKGkuSGcubGVuZ3RoK2kuTGcubGVuZ3RoKX0sby5wcm90b3R5cGUuWWc9ZnVuY3Rpb24odCxlKXt2YXIgaSxyPXRoaXMuemcoKTtpPWU/ci5IZzpyLkxnO3ZhciBuPWkubGFzdEluZGV4T2YodCk7aWYoLTE9PT1uKXRocm93IEVycm9yKFwiQ2FuJ3QgcmVtb3ZlIGxpc3RlbmVyOiBkb2VzIG5vdCBleGlzdC5cIik7aS5zcGxpY2UobiwxKSx0aGlzLiRnPSEhKHIuSGcubGVuZ3RoK3IuTGcubGVuZ3RoKX0sby5wcm90b3R5cGUuWGc9ZnVuY3Rpb24odCxlLGkscil7dmFyIG49dGhpcy56ZygpO2lmKCFuLnN0KXtuLnN0PSEwO3ZhciBvO289cj9uLkhnOm4uTGc7dHJ5e28uZm9yRWFjaChmdW5jdGlvbihuKXtuLnlkP24ueWQoe1pnOnI/XCJiZWZvcmVcIjpcImFmdGVyXCIsY3VycmVudFRhcmdldDp0aGlzLHRhcmdldDp0aGlzLHR2OnQsZXY6ZSxpbmRleDppfSk6KG49cj9uLmhhbmRsZVJhbmdlV2lsbENoYW5nZXx8bjpuLmhhbmRsZVJhbmdlQ2hhbmdlfHxuLG4uY2FsbCYmbi5jYWxsKHRoaXMsdCxlLGkscikpfSx0aGlzKX1maW5hbGx5e24uc3Q9ITF9fX0sby5wcm90b3R5cGUuaXY9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuV2codCwhMCl9LG8ucHJvdG90eXBlLnJ2PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLllnKHQsITApfSxvLnByb3RvdHlwZS5udj1mdW5jdGlvbih0LGUsaSl7cmV0dXJuIHRoaXMuWGcodCxlLGksITApfSxydC5lZyYmKHJ0PXJ0LmVnKTt2YXIgb3Q9e30sc3Q9TTtvdC5lZz1PYmplY3QsT2JqZWN0LmVtcHR5PU9iamVjdC5mcmVlemUoT2JqZWN0LmNyZWF0ZShudWxsKSksT2JqZWN0Lm92PWZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QodCk9PT10fSxPYmplY3Quc3Y9ZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC52Zyh0LFwidmFsdWVPZlwiKSYmKHQ9dC52YWx1ZU9mKCkpLHR9O3ZhciBhdD1uZXcgc3Q7T2JqZWN0Lmhhc2g9ZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC52Zyh0LFwiaGFzaFwiKT9cIlwiK3QuaGFzaCgpOk9iamVjdCh0KT09PXQ/KGF0Lmhhcyh0KXx8YXQuc2V0KHQsTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc2xpY2UoMikpLGF0LmdldCh0KSk6XCJcIit0fTt2YXIgY3Q9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtPYmplY3QuYXY9ZnVuY3Rpb24odCxlKXtyZXR1cm4gY3QuY2FsbCh0LGUpfSxPYmplY3Qudmc9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbnVsbCE9dCYmXCJmdW5jdGlvblwiPT10eXBlb2YgdFtlXSYmIWN0LmNhbGwodCxlKX0sT2JqZWN0Lmhhcz1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiB0KXRocm93IEVycm9yKFwiT2JqZWN0LmhhcyBjYW4ndCBhY2NlcHQgbm9uLW9iamVjdDogXCIrdHlwZW9mIHQpO2lmKE9iamVjdC52Zyh0LFwiaGFzXCIpKXJldHVybiB0LmhhcyhlKTtpZihcInN0cmluZ1wiPT10eXBlb2YgZSlyZXR1cm4gZSBpbiB0JiZ0W2VdIT09T2JqZWN0LnByb3RvdHlwZVtlXTt0aHJvdyBFcnJvcihcIktleSBtdXN0IGJlIGEgc3RyaW5nIGZvciBPYmplY3QuaGFzIG9uIHBsYWluIG9iamVjdHNcIil9LE9iamVjdC5nZXQ9ZnVuY3Rpb24odCxlLGkpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiB0KXRocm93IEVycm9yKFwiT2JqZWN0LmdldCBjYW4ndCBhY2NlcHQgbm9uLW9iamVjdDogXCIrdHlwZW9mIHQpO3JldHVybiBPYmplY3QudmcodCxcImdldFwiKT90LmdldChlLGkpOk9iamVjdC5oYXModCxlKT90W2VdOml9LE9iamVjdC5zZXQ9ZnVuY3Rpb24odCxlLGkpe09iamVjdC52Zyh0LFwic2V0XCIpP3Quc2V0KGUsaSk6dFtlXT1pfSxPYmplY3QuYWRkRWFjaD1mdW5jdGlvbih0LGUpe09iamVjdC52ZyhlLFwiZm9yRWFjaFwiKT9cImZ1bmN0aW9uXCI9PXR5cGVvZiBlLmtleXM/ZS5mb3JFYWNoKGZ1bmN0aW9uKGUsaSl7dFtpXT1lfSk6ZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3RbZVswXV09ZVsxXX0pOk9iamVjdC5rZXlzKGUpLmZvckVhY2goZnVuY3Rpb24oaSl7dFtpXT1lW2ldfSl9LE9iamVjdC5mb3JFYWNoPWZ1bmN0aW9uKHQsZSxpKXtPYmplY3Qua2V5cyh0KS5mb3JFYWNoKGZ1bmN0aW9uKHIpe2UuY2FsbChpLHRbcl0scix0KX0pfSxPYmplY3QubWFwPWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gT2JqZWN0LmtleXModCkubWFwKGZ1bmN0aW9uKHIpe3JldHVybiBlLmNhbGwoaSx0W3JdLHIsdCl9KX0sT2JqZWN0LnZhbHVlcz1mdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0Lm1hcCh0LEZ1bmN0aW9uLmlkZW50aXR5KX0sT2JqZWN0LmlzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ9PT1lPzAhPT10fHwxL3Q9PT0xL2U6dCE9PXQmJmUhPT1lfSxPYmplY3Qub2w9ZnVuY3Rpb24odCxlLGkpe2lmKGk9aXx8T2JqZWN0Lm9sLHQ9T2JqZWN0LnN2KHQpLGU9T2JqZWN0LnN2KGUpLHQ9PT1lKXJldHVybiAwIT09dHx8MS90PT09MS9lO2lmKE9iamVjdC52Zyh0LFwiZXF1YWxzXCIpKXJldHVybiB0Lm9sKGUsaSk7aWYoT2JqZWN0LnZnKGUsXCJlcXVhbHNcIikpcmV0dXJuIGUub2wodCxpKTtpZihcIm9iamVjdFwiPT10eXBlb2YgdCYmXCJvYmplY3RcIj09dHlwZW9mIGUpe3ZhciByPU9iamVjdC5nZXRQcm90b3R5cGVPZih0KSxuPU9iamVjdC5nZXRQcm90b3R5cGVPZihlKTtpZihyPT09biYmKHI9PT1PYmplY3QucHJvdG90eXBlfHxudWxsPT09cikpe2Zvcih2YXIgbyBpbiB0KWlmKCFpKHRbb10sZVtvXSkpcmV0dXJuITE7Zm9yKG8gaW4gZSlpZighaSh0W29dLGVbb10pKXJldHVybiExO3JldHVybiEwfX1yZXR1cm4gdCE9PXQmJmUhPT1lfSxPYmplY3QuWWY9ZnVuY3Rpb24odCxlKXt2YXIgdD1PYmplY3Quc3YodCksZT1PYmplY3Quc3YoZSksaT10eXBlb2YgdDtyZXR1cm4gdD09PWV8fGkhPT10eXBlb2YgZT8wOlwibnVtYmVyXCI9PT1pP3QtZTpcInN0cmluZ1wiPT09aT90PGU/LTE6MTpPYmplY3QudmcodCxcImNvbXBhcmVcIik/dC5ZZihlKTpPYmplY3QudmcoZSxcImNvbXBhcmVcIik/LWUuWWYodCk6MH0sT2JqZWN0LmNsb25lPWZ1bmN0aW9uKHQsZSxpKXtpZih0PU9iamVjdC5zdih0KSxpPWl8fG5ldyBzdCx2b2lkIDA9PT1lKWU9MS8wO2Vsc2UgaWYoMD09PWUpcmV0dXJuIHQ7aWYoT2JqZWN0Lm92KHQpKXtpZighaS5oYXModCkpaWYoT2JqZWN0LnZnKHQsXCJjbG9uZVwiKSlpLnNldCh0LHQuY2xvbmUoZSxpKSk7ZWxzZXt2YXIgcj1PYmplY3QuZ2V0UHJvdG90eXBlT2YodCk7aWYobnVsbCE9PXImJnIhPT1PYmplY3QucHJvdG90eXBlKXRocm93IEVycm9yKFwiQ2FuJ3QgY2xvbmUgXCIrdCk7cj1PYmplY3QuY3JlYXRlKHIpLGkuc2V0KHQscik7Zm9yKHZhciBuIGluIHQpcltuXT1PYmplY3QuY2xvbmUodFtuXSxlLTEsaSl9cmV0dXJuIGkuZ2V0KHQpfXJldHVybiB0fSxPYmplY3QuY2xlYXI9ZnVuY3Rpb24odCl7aWYoT2JqZWN0LnZnKHQsXCJjbGVhclwiKSl0LmNsZWFyKCk7ZWxzZSBmb3IodmFyIGU9T2JqZWN0LmtleXModCksaT1lLmxlbmd0aDtpOylpLS0sZGVsZXRlIHRbZVtpXV07cmV0dXJuIHR9LG90LmVnJiYob3Q9b3QuZWcpO3ZhciBodD17fSxwdD1vdDtodC5lZz1zLHMucHJvdG90eXBlLm9sPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGU9ZXx8dGhpcy5NZnx8cHQub2wsdGhpcz09PXR8fCEhdCYmKHRoaXMubGVuZ3RoPT09dC5sZW5ndGgmJnRoaXMuY2codCkuZXZlcnkoZnVuY3Rpb24odCl7cmV0dXJuIGUodFswXSx0WzFdKX0pKX0scy5wcm90b3R5cGUuWWY9ZnVuY3Rpb24odCxlKXtpZihlPWV8fHRoaXMuJGZ8fHB0LllmLHRoaXM9PT10KXJldHVybiAwO2lmKCF0KXJldHVybiAxO3ZhciBpPU1hdGgubWluKHRoaXMubGVuZ3RoLHQubGVuZ3RoKSxyPXRoaXMuY2codCkucmVkdWNlKGZ1bmN0aW9uKHQscixuKXtyZXR1cm4gMD09PXQ/bj49aT90OmUoclswXSxyWzFdKTp0fSwwKTtyZXR1cm4gMD09PXI/dGhpcy5sZW5ndGgtdC5sZW5ndGg6cn0saHQuZWcmJihodD1odC5lZyk7dmFyIHV0PXt9O3V0LmVnPWE7dmFyIGx0PW90O2lmKGx0LmFkZEVhY2goYS5wcm90b3R5cGUseC5wcm90b3R5cGUpLGEucHJvdG90eXBlLm5nPWZ1bmN0aW9uKHQpe3ZhciBlPVtdO3JldHVybiBSZWR1Y2libGUuYWRkRWFjaC5jYWxsKGUsdCksZX0sYS5wcm90b3R5cGUuY3Y9ZnVuY3Rpb24odCxlKXt2YXIgaT1hKHRoaXMpLHI9MDtpZihcIltvYmplY3QgRnVuY3Rpb25dXCIhPWx0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpKXRocm93IG5ldyBUeXBlRXJyb3I7cmV0dXJuIG5ldyBpLmNvbnN0cnVjdG9yKGZ1bmN0aW9uKCl7cmV0dXJuIHQuY2FsbChlLGkubmV4dCgpLHIrKyxpKX0pfSxhLnByb3RvdHlwZS5odj1mdW5jdGlvbih0LGUpe3ZhciBpPWEodGhpcykscj0wO2lmKFwiW29iamVjdCBGdW5jdGlvbl1cIiE9bHQucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCkpdGhyb3cgbmV3IFR5cGVFcnJvcjtyZXR1cm4gbmV3IGkuY29uc3RydWN0b3IoZnVuY3Rpb24oKXtmb3IodmFyIG47OylpZihuPWkubmV4dCgpLHQuY2FsbChlLG4scisrLGkpKXJldHVybiBufSl9LGEucHJvdG90eXBlLnJlZHVjZT1mdW5jdGlvbih0KXt2YXIgZSxpPWEodGhpcykscj1hcmd1bWVudHNbMV0sbj1hcmd1bWVudHNbMl0sbz0wO2lmKFwiW29iamVjdCBGdW5jdGlvbl1cIiE9bHQucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCkpdGhyb3cgbmV3IFR5cGVFcnJvcjt0cnl7ZT1pLm5leHQoKSxyPTE8YXJndW1lbnRzLmxlbmd0aD90LmNhbGwobixyLGUsbyxpKTplLG8rK31jYXRjaChzKXtpZihpc1N0b3BJdGVyYXRpb24ocykpe2lmKDE8YXJndW1lbnRzLmxlbmd0aClyZXR1cm4gYXJndW1lbnRzWzFdO3Rocm93IFR5cGVFcnJvcihcImNhbm5vdCByZWR1Y2UgYSB2YWx1ZSBmcm9tIGFuIGVtcHR5IGl0ZXJhdG9yIHdpdGggbm8gaW5pdGlhbCB2YWx1ZVwiKX10aHJvdyBzfXRyeXtmb3IoOzspZT1pLm5leHQoKSxyPXQuY2FsbChuLHIsZSxvLGkpLG8rK31jYXRjaChjKXtpZihpc1N0b3BJdGVyYXRpb24oYykpcmV0dXJuIHI7dGhyb3cgY319LGEucHJvdG90eXBlLmV2ZXJ5PWZ1bmN0aW9uKHQpe3ZhciBlPWEodGhpcyksaT0hMDtpZihcIltvYmplY3QgRnVuY3Rpb25dXCIhPWx0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpKXRocm93IG5ldyBUeXBlRXJyb3I7cmV0dXJuIGUuY3YuYXBwbHkoZSxhcmd1bWVudHMpLmZvckVhY2goZnVuY3Rpb24odCl7aWYoIXQpdGhyb3cgaT0hMSxTdG9wSXRlcmF0aW9ufSksaX0sYS5wcm90b3R5cGUuc29tZT1mdW5jdGlvbih0KXt2YXIgZT1hKHRoaXMpLGk9ITE7aWYoXCJbb2JqZWN0IEZ1bmN0aW9uXVwiIT1sdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KSl0aHJvdyBuZXcgVHlwZUVycm9yO3JldHVybiBlLmN2LmFwcGx5KGUsYXJndW1lbnRzKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2lmKHQpdGhyb3cgaT0hMCxTdG9wSXRlcmF0aW9ufSksaX0sYS5wcm90b3R5cGUuY29uY2F0PWZ1bmN0aW9uKCl7cmV0dXJuIGEuY29uY2F0KEFycmF5LnByb3RvdHlwZS5jb25jYXQuYXBwbHkodGhpcyxhcmd1bWVudHMpKX0sYS5wcm90b3R5cGUucHY9ZnVuY3Rpb24odCxlKXt2YXIgaSxyPWEodGhpcyksbj0hMTtpZihcIltvYmplY3QgRnVuY3Rpb25dXCIhPWx0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpKXRocm93IG5ldyBUeXBlRXJyb3I7cmV0dXJuIHIuZm9yRWFjaChmdW5jdGlvbihvLHMpe2lmKCF0LmNhbGwoZSxvLHMscikpdGhyb3cgbj0hMCxpPW8sU3RvcEl0ZXJhdGlvbn0pLG4/ci5jb25zdHJ1Y3RvcihbaV0pLmNvbmNhdChyKTpyLmNvbnN0cnVjdG9yKFtdKX0sYS5wcm90b3R5cGUudXY9ZnVuY3Rpb24odCxlKXt2YXIgaT1hKHRoaXMpO2lmKFwiW29iamVjdCBGdW5jdGlvbl1cIiE9bHQucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCkpdGhyb3cgbmV3IFR5cGVFcnJvcjtyZXR1cm4gaS5jdihmdW5jdGlvbihyLG4pe2lmKCF0LmNhbGwoZSxyLG4saSkpdGhyb3cgU3RvcEl0ZXJhdGlvbjtyZXR1cm4gcn0pfSxhLnByb3RvdHlwZS5odj1mdW5jdGlvbih0LGUpe3ZhciBpPWEodGhpcykscj0wO2lmKFwiW29iamVjdCBGdW5jdGlvbl1cIiE9bHQucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCkpdGhyb3cgbmV3IFR5cGVFcnJvcjtyZXR1cm4gbmV3IGkuY29uc3RydWN0b3IoZnVuY3Rpb24oKXtmb3IodmFyIG47OylpZihuPWkubmV4dCgpLHQuY2FsbChlLG4scisrLGkpKXJldHVybiBufSl9LGEucHJvdG90eXBlLmNnPWZ1bmN0aW9uKCl7cmV0dXJuIGEubHYoQXJyYXkucHJvdG90eXBlLmNvbmNhdC5hcHBseSh0aGlzLGFyZ3VtZW50cykpfSxhLnByb3RvdHlwZS5lbnVtZXJhdGU9ZnVuY3Rpb24odCl7cmV0dXJuIGEuY291bnQodCkuY2codGhpcyl9LGEuRGY9ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuIGU9MCxuZXcgYShmdW5jdGlvbigpe2lmKFwib2JqZWN0XCI9PXR5cGVvZiB0KWZvcig7IShlIGluIHQpOyl7aWYoZT49dC5sZW5ndGgpdGhyb3cgU3RvcEl0ZXJhdGlvbjtlKz0xfWVsc2UgaWYoZT49dC5sZW5ndGgpdGhyb3cgU3RvcEl0ZXJhdGlvbjt2YXIgaT10W2VdO3JldHVybiBlKz0xLGl9KX0sYS5kdj1mdW5jdGlvbih0LGUpezI+YXJndW1lbnRzLmxlbmd0aCYmKGU9MS8wKTt2YXIgaT1mdW5jdGlvbigpe3Rocm93IFN0b3BJdGVyYXRpb259O3JldHVybiBuZXcgYShmdW5jdGlvbigpe3ZhciByO3RyeXtyZXR1cm4gaSgpfWNhdGNoKG4pe2lmKGlzU3RvcEl0ZXJhdGlvbihuKSl7aWYoMD49ZSl0aHJvdyBuO3JldHVybiBlLS0scj1hLkRmKHQpLChpPXIubmV4dC5iaW5kKHIpKSgpfXRocm93IG59fSl9LGEuY29uY2F0PWZ1bmN0aW9uKHQpe3ZhciB0PWEodCksZT1mdW5jdGlvbigpe3Rocm93IFN0b3BJdGVyYXRpb259O3JldHVybiBuZXcgYShmdW5jdGlvbigpe3ZhciBpO3RyeXtyZXR1cm4gZSgpfWNhdGNoKHIpe2lmKGlzU3RvcEl0ZXJhdGlvbihyKSlyZXR1cm4gaT1hKHQubmV4dCgpKSwoZT1pLm5leHQuYmluZChpKSkoKTt0aHJvdyByfX0pfSxhLmx2PWZ1bmN0aW9uKHQpe3JldHVybiB0PWEodCkubWFwKGEpLG5ldyBhKDE+dC5sZW5ndGg/W106ZnVuY3Rpb24oKXt2YXIgZSxpPXQubWFwKGZ1bmN0aW9uKHQpe3RyeXtyZXR1cm4gdC5uZXh0KCl9Y2F0Y2goaSl7aWYoIWlzU3RvcEl0ZXJhdGlvbihpKSl0aHJvdyBpO2U9ITB9fSk7aWYoZSl0aHJvdyBTdG9wSXRlcmF0aW9uO3JldHVybiBpfSl9LGEuY2c9ZnVuY3Rpb24oKXtyZXR1cm4gYS5sdihBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpKX0sYS5jaGFpbj1mdW5jdGlvbigpe3JldHVybiBhLmNvbmNhdChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpKX0sYS5yYW5nZT1mdW5jdGlvbih0LGUsaSl7cmV0dXJuIDM+YXJndW1lbnRzLmxlbmd0aCYmKGk9MSksMj5hcmd1bWVudHMubGVuZ3RoJiYoZT10LHQ9MCksdD10fHwwLG5ldyBhKGZ1bmN0aW9uKCl7aWYodD49ZSl0aHJvdyBTdG9wSXRlcmF0aW9uO2lmKGlzTmFOKHQpKXRocm93XCJcIjt2YXIgcj10O3JldHVybiB0Kz1pLHJ9KX0sYS5jb3VudD1mdW5jdGlvbih0LGUpe3JldHVybiBhLnJhbmdlKHQsMS8wLGV8fDEpfSxhLnJlcGVhdD1mdW5jdGlvbih0LGUpe3JldHVybiAyPmFyZ3VtZW50cy5sZW5ndGgmJihlPTEvMCksbmV3IGEucmFuZ2UoKCtlKSkuY3YoZnVuY3Rpb24oKXtyZXR1cm4gdH0pfSxcInVuZGVmaW5lZFwiPT10eXBlb2YgaXNTdG9wSXRlcmF0aW9uJiYodC5mdj1mdW5jdGlvbih0KXtyZXR1cm5cIltvYmplY3QgU3RvcEl0ZXJhdGlvbl1cIj09PWx0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpfSksXCJ1bmRlZmluZWRcIj09dHlwZW9mIFN0b3BJdGVyYXRpb24pe3QuU3RvcEl0ZXJhdGlvbj17fTt2YXIgZHQ9bHQucHJvdG90eXBlLnRvU3RyaW5nO2x0LnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzPT09dC5TdG9wSXRlcmF0aW9ufHx0aGlzIGluc3RhbmNlb2YgdC5ndj9cIltvYmplY3QgU3RvcEl0ZXJhdGlvbl1cIjpkdC5jYWxsKHRoaXMsYXJndW1lbnRzKX19XCJ1bmRlZmluZWRcIj09dHlwZW9mIFJldHVyblZhbHVlJiYodC5ndj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcyBpbnN0YW5jZW9mIHQuZ3Y/dm9pZCh0aGlzLnZhbHVlPWUpOm5ldyB0Lmd2KGUpfSksdXQuZWcmJih1dD11dC5lZyk7dmFyIGZ0PXt9LGd0PXgsdnQ9aHQseXQ9TTtmdC5lZz1BcnJheSxBcnJheS5lbXB0eT1bXSxPYmplY3QuZnJlZXplJiZPYmplY3QuZnJlZXplKEFycmF5LmVtcHR5KSxBcnJheS5mcm9tPWZ1bmN0aW9uKHQpe3ZhciBlPVtdO3JldHVybiBlLmFkZEVhY2godCksZX0sQXJyYXkucHJvdG90eXBlLmFkZEVhY2g9Z3QucHJvdG90eXBlLmFkZEVhY2gsQXJyYXkucHJvdG90eXBlLmlnPWd0LnByb3RvdHlwZS5pZyxBcnJheS5wcm90b3R5cGUudG9BcnJheT1ndC5wcm90b3R5cGUudG9BcnJheSxBcnJheS5wcm90b3R5cGUucmc9Z3QucHJvdG90eXBlLnJnLEFycmF5LnByb3RvdHlwZS5hbGw9Z3QucHJvdG90eXBlLmFsbCxBcnJheS5wcm90b3R5cGUuaWU9Z3QucHJvdG90eXBlLmllLEFycmF5LnByb3RvdHlwZS5taW49Z3QucHJvdG90eXBlLm1pbixBcnJheS5wcm90b3R5cGUubWF4PWd0LnByb3RvdHlwZS5tYXgsQXJyYXkucHJvdG90eXBlLm9nPWd0LnByb3RvdHlwZS5vZyxBcnJheS5wcm90b3R5cGUuc2c9Z3QucHJvdG90eXBlLnNnLEFycmF5LnByb3RvdHlwZS5vbmx5PWd0LnByb3RvdHlwZS5vbmx5LEFycmF5LnByb3RvdHlwZS5hZz1ndC5wcm90b3R5cGUuYWcsQXJyYXkucHJvdG90eXBlLmNnPWd0LnByb3RvdHlwZS5jZyxBcnJheS5wcm90b3R5cGUuaGc9Z3QucHJvdG90eXBlLmhnLEFycmF5LnByb3RvdHlwZS5yZXZlcnNlZD1ndC5wcm90b3R5cGUucmV2ZXJzZWQsQXJyYXkucHJvdG90eXBlLm5nPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyB0aGlzLmNvbnN0cnVjdG9yO3JldHVybiBlLmFkZEVhY2godCksZX0sQXJyYXkucHJvdG90eXBlLmhhcz1mdW5jdGlvbih0LGUpe3JldHVybi0xIT09dGhpcy5maW5kKHQsZSl9LEFycmF5LnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXNbdF19LEFycmF5LnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5zcGxpY2UodCwxLGUpLCEwfSxBcnJheS5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnB1c2godCksITB9LEFycmF5LnByb3RvdHlwZVtcImRlbGV0ZVwiXT1mdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuZmluZCh0LGUpO3JldHVybi0xIT09aSYmKHRoaXMuc3BsaWNlKGksMSksITApfSxBcnJheS5wcm90b3R5cGUuZmluZD1mdW5jdGlvbih0LGUpe2Zvcih2YXIgZT1lfHx0aGlzLk1mfHxPYmplY3Qub2wsaT0wO2k8dGhpcy5sZW5ndGg7aSsrKWlmKGkgaW4gdGhpcyYmZSh0aGlzW2ldLHQpKXJldHVybiBpO3JldHVybi0xfSxBcnJheS5wcm90b3R5cGUudnY9ZnVuY3Rpb24odCxlKXt2YXIgZT1lfHx0aGlzLk1mfHxPYmplY3Qub2wsaT10aGlzLmxlbmd0aDtkbyBpZihpLS0saSBpbiB0aGlzJiZlKHRoaXNbaV0sdCkpcmV0dXJuIGk7d2hpbGUoMDxpKTtyZXR1cm4tMX0sQXJyYXkucHJvdG90eXBlLnl2PWZ1bmN0aW9uKHQsZSxpKXt2YXIgcj1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMCwyKTtyZXR1cm4gaSYmci5wdXNoLmFwcGx5KHIsaSksdGhpcy5zcGxpY2UuYXBwbHkodGhpcyxyKX0sQXJyYXkucHJvdG90eXBlLnVnPWZ1bmN0aW9uKCl7aWYoMD09PXRoaXMubGVuZ3RoKXRocm93IEVycm9yKFwiQ2FuJ3QgZ2V0IG9uZSBlbGVtZW50IGZyb20gZW1wdHkgYXJyYXkuXCIpO2Zvcih2YXIgdCBpbiB0aGlzKWlmKE9iamVjdC5hdih0aGlzLHQpKXJldHVybiB0aGlzW3RdfSxBcnJheS5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sZW5ndGg9MCx0aGlzfSxBcnJheS5wcm90b3R5cGUuWWY9ZnVuY3Rpb24odCxlKXt2YXIgaSxyLG4sbyxlPWV8fE9iamVjdC5ZZjtpZih0aGlzPT09dClyZXR1cm4gMDtpZighdHx8IUFycmF5LmlzQXJyYXkodCkpcmV0dXJuIHZ0LnByb3RvdHlwZS5ZZi5jYWxsKHRoaXMsdCxlKTtmb3Iocj1NYXRoLm1pbih0aGlzLmxlbmd0aCx0Lmxlbmd0aCksaT0wO2k8cjtpKyspaWYoaSBpbiB0aGlzKXtpZighKGkgaW4gdCkpcmV0dXJuLTE7aWYobj10aGlzW2ldLG89dFtpXSxuPWUobixvKSlyZXR1cm4gbn1lbHNlIGlmKGkgaW4gdClyZXR1cm4gMTtyZXR1cm4gdGhpcy5sZW5ndGgtdC5sZW5ndGh9LEFycmF5LnByb3RvdHlwZS5vbD1mdW5jdGlvbih0KXt2YXIgZSxpLHI9cnx8T2JqZWN0Lm9sLG49MCxvPXRoaXMubGVuZ3RoO2lmKHRoaXM9PT10KXJldHVybiEwO2lmKCF0fHwhQXJyYXkuaXNBcnJheSh0KSlyZXR1cm4gdnQucHJvdG90eXBlLm9sLmNhbGwodGhpcyx0KTtpZihvIT09dC5sZW5ndGgpcmV0dXJuITE7Zm9yKDtuPG87KytuKWlmKG4gaW4gdGhpcyl7aWYoZT10aGlzW25dLGk9dFtuXSxlIT09aSYmZSYmaSYmIXIoZSxpKSlyZXR1cm4hMX1lbHNlIGlmKG4gaW4gdClyZXR1cm4hMTtyZXR1cm4hMH0sQXJyYXkucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKHQsZSl7aWYodm9pZCAwPT09dCl0PTEvMDtlbHNlIGlmKDA9PT10KXJldHVybiB0aGlzO3ZhciBpLGU9ZXx8bmV3IHl0LHI9W107Zm9yKGkgaW4gdGhpcylPYmplY3QuYXYodGhpcyxpKSYmKHJbaV09T2JqZWN0LmNsb25lKHRoaXNbaV0sdC0xLGUpKTtyZXR1cm4gcn0sQXJyYXkucHJvdG90eXBlLkRmPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyBjKHRoaXMsdCxlKX0sQXJyYXkucHJvdG90eXBlLkl0ZXJhdG9yPWMsYy5wcm90b3R5cGUubmV4dD1mdW5jdGlvbigpe2lmKHRoaXMuc3RhcnQ9PT0obnVsbD09dGhpcy5lbmQ/dGhpcy5IZi5sZW5ndGg6dGhpcy5lbmQpKXRocm93IFN0b3BJdGVyYXRpb247cmV0dXJuIHRoaXMuSGZbdGhpcy5zdGFydCsrXX0sZnQuZWcmJihmdD1mdC5lZyk7dmFyIG10PXt9O210LmVnPWg7dmFyIHd0PWh0LFR0PVg7T2JqZWN0LmFkZEVhY2goaC5wcm90b3R5cGUseC5wcm90b3R5cGUpLE9iamVjdC5hZGRFYWNoKGgucHJvdG90eXBlLHd0LnByb3RvdHlwZSksT2JqZWN0LmFkZEVhY2goaC5wcm90b3R5cGUsVHQucHJvdG90eXBlKSxoLnByb3RvdHlwZS5uZz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodCx0aGlzLk1mLHRoaXMuY29udGVudCl9LGgucHJvdG90eXBlLmZpbmQ9ZnVuY3Rpb24odCxlKXtmb3IodmFyIGU9ZXx8dGhpcy5NZixpPXRoaXMuaGVhZCxyPWkubmV4dDtyIT09aTspe2lmKGUoci52YWx1ZSx0KSlyZXR1cm4gcjtyPXIubmV4dH19LGgucHJvdG90eXBlLnZ2PWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBlPWV8fHRoaXMuTWYsaT10aGlzLmhlYWQscj1pLkxmO3IhPT1pOyl7aWYoZShyLnZhbHVlLHQpKXJldHVybiByO3I9ci5MZn19LGgucHJvdG90eXBlLmhhcz1mdW5jdGlvbih0LGUpe3JldHVybiEhdGhpcy5maW5kKHQsZSl9LGgucHJvdG90eXBlLmdldD1mdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuZmluZCh0LGUpO3JldHVybiBpP2kudmFsdWU6dGhpcy5jb250ZW50KCl9LGgucHJvdG90eXBlW1wiZGVsZXRlXCJdPWZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy52dih0LGUpO3JldHVybiEhaSYmKGlbXCJkZWxldGVcIl0oKSx0aGlzLmxlbmd0aC0tLCEwKX0saC5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLmhlYWQubmV4dD10aGlzLmhlYWQuTGY9dGhpcy5oZWFkLHRoaXMubGVuZ3RoPTB9LGgucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5oZWFkLm12KG5ldyB0aGlzLk5vZGUodCkpLHRoaXMubGVuZ3RoKyssITB9LGgucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5oZWFkLGU9MDtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgaT1uZXcgdGhpcy5Ob2RlKGFyZ3VtZW50c1tlXSk7dC5tdihpKSx0aGlzLmxlbmd0aCsrfX0saC5wcm90b3R5cGUudW5zaGlmdD1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLmhlYWQsZT0wO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspe3ZhciBpPW5ldyB0aGlzLk5vZGUoYXJndW1lbnRzW2VdKTt0Lnd2KGkpLHRoaXMubGVuZ3RoKyssdD1pfX0saC5wcm90b3R5cGUucG9wPWZ1bmN0aW9uKCl7dmFyIHQsZT10aGlzLmhlYWQ7cmV0dXJuIGUuTGYhPT1lJiYodD1lLkxmLnZhbHVlLGUuTGZbXCJkZWxldGVcIl0oKSx0aGlzLmxlbmd0aC0tKSx0fSxoLnByb3RvdHlwZS5zaGlmdD1mdW5jdGlvbigpe3ZhciB0LGU9dGhpcy5oZWFkO3JldHVybiBlLkxmIT09ZSYmKHQ9ZS5uZXh0LnZhbHVlLGUubmV4dFtcImRlbGV0ZVwiXSgpLHRoaXMubGVuZ3RoLS0pLHR9LGgucHJvdG90eXBlLlR2PWZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5oZWFkO2lmKFwibnVtYmVyXCI9PXR5cGVvZiB0KXt2YXIgcj10O2lmKDA8PXIpZm9yKHQ9aS5uZXh0O3ImJihyLS0sdD10Lm5leHQsISh0PT1pKSk7KTtlbHNlIGZvcih0PWk7MD5yJiYocisrLHQ9dC5MZiwhKHQ9PWkpKTspO3JldHVybiB0fXJldHVybiB0fHxlfSxoLnByb3RvdHlwZS5zbGljZT1mdW5jdGlvbih0LGUpe2Zvcih2YXIgaT1bXSxyPXRoaXMuaGVhZCx0PXRoaXMuVHYodCxyLm5leHQpLGU9dGhpcy5UdihlLHIpO3QhPT1lJiZ0IT09cjspaS5wdXNoKHQudmFsdWUpLHQ9dC5uZXh0O3JldHVybiBpfSxoLnByb3RvdHlwZS5zcGxpY2U9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy55dih0LGUsQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDIpKX0saC5wcm90b3R5cGUueXY9ZnVuY3Rpb24odCxlLGkpe3ZhciByPVtdLG49dCx0PXRoaXMuVHYodCx0aGlzLmhlYWQpO2Zvcih2b2lkIDA9PT1lJiYoZT0xLzApO2UtLSYmMDw9ZSYmdCE9PXRoaXMuaGVhZDspci5wdXNoKHQudmFsdWUpLHRbXCJkZWxldGVcIl0oKSx0PXQubmV4dCx0aGlzLmxlbmd0aC0tO2lmKGkpe2ZvcihudWxsPT09biYmdD09PXRoaXMuaGVhZCYmKHQ9dGhpcy5oZWFkLm5leHQpLGU9MDtlPGkubGVuZ3RoO2UrKyluPW5ldyB0aGlzLk5vZGUoaVtlXSksdC5tdihuKTt0aGlzLmxlbmd0aCs9aS5sZW5ndGh9cmV0dXJuIHJ9LGgucHJvdG90eXBlLnJldmVyc2U9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmhlYWQ7ZG97dmFyIGU9dC5uZXh0O3QubmV4dD10LkxmLHQuTGY9ZSx0PXQubmV4dH13aGlsZSh0IT09dGhpcy5oZWFkKTtyZXR1cm4gdGhpc30saC5wcm90b3R5cGUucmVkdWNlPWZ1bmN0aW9uKHQsZSxpKXtmb3IodmFyIHI9dGhpcy5oZWFkLG49ci5uZXh0O24hPT1yOyllPXQuY2FsbChpLGUsbi52YWx1ZSxuLHRoaXMpLG49bi5uZXh0O3JldHVybiBlfSxoLnByb3RvdHlwZS5yZWR1Y2VSaWdodD1mdW5jdGlvbih0LGUsaSl7Zm9yKHZhciByPXRoaXMuaGVhZCxuPXIuTGY7biE9PXI7KWU9dC5jYWxsKGksZSxuLnZhbHVlLG4sdGhpcyksbj1uLkxmO3JldHVybiBlfSxoLnByb3RvdHlwZS51Zz1mdW5jdGlvbigpe2lmKHRoaXMuaGVhZD09PXRoaXMuaGVhZC5uZXh0KXRocm93IEVycm9yKFwiQ2FuJ3QgZ2V0IG9uZSB2YWx1ZSBmcm9tIGVtcHR5IGxpc3RcIik7cmV0dXJuIHRoaXMuaGVhZC5uZXh0LnZhbHVlfSxoLnByb3RvdHlwZS5EZj1mdW5jdGlvbigpe3JldHVybiBuZXcgcCh0aGlzLmhlYWQpfSxwLnByb3RvdHlwZS5uZXh0PWZ1bmN0aW9uKCl7aWYodGhpcy5VZj09PXRoaXMuaGVhZCl0aHJvdyBTdG9wSXRlcmF0aW9uO3ZhciB0PXRoaXMuVWYudmFsdWU7cmV0dXJuIHRoaXMuVWY9dGhpcy5VZi5uZXh0LHR9LGgucHJvdG90eXBlLk5vZGU9dSx1LnByb3RvdHlwZVtcImRlbGV0ZVwiXT1mdW5jdGlvbigpe3RoaXMuTGYubmV4dD10aGlzLm5leHQsdGhpcy5uZXh0LkxmPXRoaXMuTGZ9LHUucHJvdG90eXBlLm12PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuTGY7dGhpcy5MZj10LHQuTGY9ZSxlLm5leHQ9dCx0Lm5leHQ9dGhpc30sdS5wcm90b3R5cGUud3Y9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5uZXh0O3RoaXMubmV4dD10LHQubmV4dD1lLGUuTGY9dCx0LkxmPXRoaXN9LG10LmVnJiYobXQ9bXQuZWcpO3ZhciBTdD17fSxidD1tdDtTdC5lZz1sLGwucHJvdG90eXBlLlN2PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYnZ8fCh0aGlzLmJ2PXtIZzpuZXcgYnQsTGc6bmV3IGJ0fSksdGhpcy5idn0sbC5wcm90b3R5cGUuRXY9ZnVuY3Rpb24odCxlKXt0aGlzLm1ha2VPYnNlcnZhYmxlJiYhdGhpcy5kaXNwYXRjaE1hcENoYW5nZXMmJnRoaXMubWFrZU9ic2VydmFibGUoKTt2YXIgaT10aGlzLlN2KCk7KGU/aS5IZzppLkxnKS5wdXNoKHQpLHRoaXMuSXY9ITB9LGwucHJvdG90eXBlLlJ2PWZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5TdigpLGk9KGU/aS5IZzppLkxnKS52dih0KTtpZighaSl0aHJvdyBFcnJvcihcIkNhbid0IHJlbW92ZSBsaXN0ZW5lcjogZG9lcyBub3QgZXhpc3QuXCIpO2lbXCJkZWxldGVcIl0oKX0sbC5wcm90b3R5cGUua3Y9ZnVuY3Rpb24odCxlLGkpe3ZhciByPXRoaXMuU3YoKSxuPVwiaGFuZGxlTWFwXCIrKChpP1wiV2lsbFwiOlwiXCIpK1wiQ2hhbmdlXCIpOyhpP3IuSGc6ci5MZykuZm9yRWFjaChmdW5jdGlvbihpKXt2YXIgcj1pLGk9aVtuXXx8aTtpLmNhbGwmJmkuY2FsbChyLGUsdCx0aGlzKX0sdGhpcyl9LGwucHJvdG90eXBlLkN2PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLkV2KHQsITApfSxsLnByb3RvdHlwZS5Pdj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5Sdih0LCEwKX0sbC5wcm90b3R5cGUuUHY9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5rdih0LGUsITApfSxTdC5lZyYmKFN0PVN0LmVnKTt2YXIgRXQ9e30sSXQ9b3QsUnQ9U3Qsa3Q9WDtFdC5lZz1kLEl0LmFkZEVhY2goZC5wcm90b3R5cGUsUnQucHJvdG90eXBlKSxJdC5hZGRFYWNoKGQucHJvdG90eXBlLGt0LnByb3RvdHlwZSksZC5wcm90b3R5cGUuYWRkRWFjaD1mdW5jdGlvbih0KXt0JiZJdCh0KT09PXQmJihcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LmZvckVhY2g/XCJmdW5jdGlvblwiPT10eXBlb2YgdC5rZXlzP3QuZm9yRWFjaChmdW5jdGlvbih0LGUpe3RoaXMuc2V0KGUsdCl9LHRoaXMpOnQuZm9yRWFjaChmdW5jdGlvbih0KXt0aGlzLnNldCh0WzBdLHRbMV0pfSx0aGlzKTpJdC5rZXlzKHQpLmZvckVhY2goZnVuY3Rpb24oZSl7dGhpcy5zZXQoZSx0W2VdKX0sdGhpcykpfSxkLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLlZmLmdldChuZXcgdGhpcy5Bdih0KSk7cmV0dXJuIGk/aS52YWx1ZToxPGFyZ3VtZW50cy5sZW5ndGg/ZTp0aGlzLmNvbnRlbnQodCl9LGQucHJvdG90eXBlLnNldD1mdW5jdGlvbih0LGUpe3ZhciBpPW5ldyB0aGlzLkF2KHQsZSkscj10aGlzLlZmLmdldChpKSxuPSExO3JldHVybiByPyh0aGlzLkl2JiZ0aGlzLlB2KHQsci52YWx1ZSksci52YWx1ZT1lKToodGhpcy5JdiYmdGhpcy5Qdih0LHZvaWQgMCksdGhpcy5WZi5hZGQoaSkmJih0aGlzLmxlbmd0aCsrLG49ITApKSx0aGlzLkl2JiZ0aGlzLmt2KHQsZSksbn0sZC5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuc2V0KGUsdCl9LGQucHJvdG90eXBlLmhhcz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5WZi5oYXMobmV3IHRoaXMuQXYodCkpfSxkLnByb3RvdHlwZVtcImRlbGV0ZVwiXT1mdW5jdGlvbih0KXt2YXIgZT1uZXcgdGhpcy5Bdih0KTtpZih0aGlzLlZmLmhhcyhlKSl7dmFyIGk9dGhpcy5WZi5nZXQoZSkudmFsdWU7cmV0dXJuIHRoaXMuSXYmJnRoaXMuUHYodCxpKSx0aGlzLlZmW1wiZGVsZXRlXCJdKGUpLHRoaXMubGVuZ3RoLS0sdGhpcy5JdiYmdGhpcy5rdih0LHZvaWQgMCksITB9cmV0dXJuITF9LGQucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5WZi5jbGVhcigpLHRoaXMubGVuZ3RoPTB9LGQucHJvdG90eXBlLnJlZHVjZT1mdW5jdGlvbih0LGUsaSl7cmV0dXJuIHRoaXMuVmYucmVkdWNlKGZ1bmN0aW9uKGUscil7cmV0dXJuIHQuY2FsbChpLGUsci52YWx1ZSxyLmtleSx0aGlzKX0sZSx0aGlzKX0sZC5wcm90b3R5cGUucmVkdWNlUmlnaHQ9ZnVuY3Rpb24odCxlLGkpe3JldHVybiB0aGlzLlZmLnJlZHVjZVJpZ2h0KGZ1bmN0aW9uKGUscil7cmV0dXJuIHQuY2FsbChpLGUsci52YWx1ZSxyLmtleSx0aGlzKX0sZSx0aGlzKX0sZC5wcm90b3R5cGUua2V5cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcChmdW5jdGlvbih0LGUpe3JldHVybiBlfSl9LGQucHJvdG90eXBlLnZhbHVlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcChGdW5jdGlvbi5pZGVudGl0eSl9LGQucHJvdG90eXBlLk52PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKHQsZSl7cmV0dXJuW2UsdF19KX0sZC5wcm90b3R5cGUub2w9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZT1lfHxJdC5vbCx0aGlzPT09dHx8KEl0LnZnKHQsXCJldmVyeVwiKT90Lmxlbmd0aD09PXRoaXMubGVuZ3RoJiZ0LmV2ZXJ5KGZ1bmN0aW9uKHQsaSl7cmV0dXJuIGUodGhpcy5nZXQoaSksdCl9LHRoaXMpOkl0LmtleXModCkubGVuZ3RoPT09dGhpcy5sZW5ndGgmJkl0LmtleXModCkuZXZlcnkoZnVuY3Rpb24oaSl7cmV0dXJuIGUodGhpcy5nZXQoaSksdFtpXSl9LHRoaXMpKX0sZC5wcm90b3R5cGUuQXY9ZnVuY3Rpb24odCxlKXt0aGlzLmtleT10LHRoaXMudmFsdWU9ZX0sRXQuZWcmJihFdD1FdC5lZyk7dmFyIEN0PXt9LE90PXgsUHQ9RXQsQXQ9WDtDdC5lZz1mLE9iamVjdC5hZGRFYWNoKGYucHJvdG90eXBlLE90LnByb3RvdHlwZSksXG4gICAgT2JqZWN0LmFkZEVhY2goZi5wcm90b3R5cGUsUHQucHJvdG90eXBlKSxPYmplY3QuYWRkRWFjaChmLnByb3RvdHlwZSxBdC5wcm90b3R5cGUpLGYucHJvdG90eXBlLm5nPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0LHRoaXMubWFuZ2xlLHRoaXMuY29udGVudCl9LGYucHJvdG90eXBlLnh2PWZ1bmN0aW9uKHQpe2lmKFwic3RyaW5nXCIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoXCJrZXkgbXVzdCBiZSBhIHN0cmluZy5cIil9LGYucHJvdG90eXBlLmdldD1mdW5jdGlvbih0LGUpe3RoaXMueHYodCk7dmFyIGk9XCJ+XCIrdDtyZXR1cm4gaSBpbiB0aGlzLlZmP3RoaXMuVmZbaV06MTxhcmd1bWVudHMubGVuZ3RoP2U6dGhpcy5jb250ZW50KCl9LGYucHJvdG90eXBlLnNldD1mdW5jdGlvbih0LGUpe3RoaXMueHYodCk7dmFyIGk9XCJ+XCIrdDtyZXR1cm4gaSBpbiB0aGlzLlZmPyh0aGlzLlZmW2ldPWUsITEpOih0aGlzLmxlbmd0aCsrLHRoaXMuVmZbaV09ZSwhMCl9LGYucHJvdG90eXBlLmhhcz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy54dih0KSxcIn5cIit0IGluIHRoaXMuVmZ9LGYucHJvdG90eXBlW1wiZGVsZXRlXCJdPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnh2KHQpLFwiflwiK3QgaW4gdGhpcy5WZiYmKGRlbGV0ZSB0aGlzLlZmW1wiflwiK3RdLHRoaXMubGVuZ3RoLS0sITApfSxmLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe2Zvcih2YXIgdCBpbiB0aGlzLlZmKWRlbGV0ZSB0aGlzLlZmW3RdO3RoaXMubGVuZ3RoPTB9LGYucHJvdG90eXBlLnJlZHVjZT1mdW5jdGlvbih0LGUsaSl7Zm9yKHZhciByIGluIHRoaXMuVmYpZT10LmNhbGwoaSxlLHRoaXMuVmZbcl0sci5zbGljZSgxKSx0aGlzKTtyZXR1cm4gZX0sZi5wcm90b3R5cGUudWc9ZnVuY3Rpb24oKXtmb3IodmFyIHQgaW4gdGhpcy5WZilyZXR1cm4gdGhpcy5WZlt0XTt0aHJvdyBFcnJvcihcIkNhbid0IGdldCBvbmUgdmFsdWUgZnJvbSBlbXB0eSBkaWN0aW9uYXJ5LlwiKX0sQ3QuZWcmJihDdD1DdC5lZyk7dmFyIE50PXt9LHh0PUN0LEJ0PW10LEZ0PXgsX3Q9QixEdD1ILEh0PVg7TnQuZWc9ZyxPYmplY3QuYWRkRWFjaChnLnByb3RvdHlwZSxGdC5wcm90b3R5cGUpLE9iamVjdC5hZGRFYWNoKGcucHJvdG90eXBlLF90LnByb3RvdHlwZSksT2JqZWN0LmFkZEVhY2goZy5wcm90b3R5cGUsSHQucHJvdG90eXBlKSxnLnByb3RvdHlwZS5KZj14dCxnLnByb3RvdHlwZS5LZj1CdCxnLnByb3RvdHlwZS5uZz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodCx0aGlzLk1mLHRoaXMuUWYsdGhpcy5jb250ZW50KX0sZy5wcm90b3R5cGUuaGFzPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuUWYodCk7cmV0dXJuIHRoaXMucWYuZ2V0KGUpLmhhcyh0KX0sZy5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuUWYodCksaT10aGlzLnFmO3JldHVybiBpLmhhcyhlKT9pLmdldChlKS5nZXQodCk6dGhpcy5jb250ZW50KHQpfSxnLnByb3RvdHlwZVtcImRlbGV0ZVwiXT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLlFmKHQpLGk9dGhpcy5xZjtpZihpLmhhcyhlKSl7dmFyIHI9aS5nZXQoZSk7aWYocltcImRlbGV0ZVwiXSh0KSlyZXR1cm4gdGhpcy5sZW5ndGgtLSwwPT09ci5sZW5ndGgmJmlbXCJkZWxldGVcIl0oZSksITB9cmV0dXJuITF9LGcucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5xZi5jbGVhcigpLHRoaXMubGVuZ3RoPTB9LGcucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLlFmKHQpLGk9dGhpcy5xZjtyZXR1cm4gaS5oYXMoZSl8fGkuc2V0KGUsbmV3IHRoaXMuS2YobnVsbCx0aGlzLk1mKSksIWkuZ2V0KGUpLmhhcyh0KSYmKGkuZ2V0KGUpLmFkZCh0KSx0aGlzLmxlbmd0aCsrLCEwKX0sZy5wcm90b3R5cGUucmVkdWNlPWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gdGhpcy5xZi5yZWR1Y2UoZnVuY3Rpb24oZSxyKXtyZXR1cm4gci5yZWR1Y2UoZnVuY3Rpb24oZSxyKXtyZXR1cm4gdC5jYWxsKGksZSxyLHIsdGhpcyl9LGUsdGhpcyl9LGUsdGhpcyl9LGcucHJvdG90eXBlLnVnPWZ1bmN0aW9uKCl7aWYoMD09PXRoaXMubGVuZ3RoKXRocm93IEVycm9yKFwiQ2FuJ3QgZ2V0IG9uZSB2YWx1ZSBmcm9tIGVtcHR5IHNldC5cIik7cmV0dXJuIHRoaXMucWYudWcoKS51ZygpfSxnLnByb3RvdHlwZS5EZj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnFmLnZhbHVlcygpLmFnKCkuRGYoKX0sZy5wcm90b3R5cGUubG9nPWZ1bmN0aW9uKHQsZSxpLHIpe3Q9dHx8RHQua2csZT1lfHx0aGlzLkJ2LGl8fChpPWNvbnNvbGUubG9nLHI9Y29uc29sZSk7dmFyIGk9aS5iaW5kKHIpLG49dGhpcy5xZixvPW4ua2V5cygpO28uZm9yRWFjaChmdW5jdGlvbihzLGEpe3ZhciBjLGg7YT09PW8ubGVuZ3RoLTE/KGM9dC5iZyxoPVwiIFwiKTooYz0wPT09YT90LlRnOnQuRWcsaD10LklnKTt2YXIgcD1uLmdldChzKTtpLmNhbGwocixjK3QubWcrdC5UZytcIiBcIitzKSxwLmZvckVhY2goZnVuY3Rpb24obixvKXt2YXIgcyxhO289PT1wLmhlYWQuTGY/KHM9dC5iZyxhPVwiIFwiKToocz10LkVnLGE9dC5JZyk7dmFyIGM7ZShvLGZ1bmN0aW9uKGUpe2M/aS5jYWxsKHIsaCtcIiBcIithK1wiICBcIitlKTooaS5jYWxsKHIsaCtcIiBcIitzK3QubWcrdC5tZytlKSxjPSEwKX0sZnVuY3Rpb24oZSl7aS5jYWxsKHIsaCtcIiBcIit0LklnK1wiICBcIitlKX0pfSl9KX0sZy5wcm90b3R5cGUuQnY9ZnVuY3Rpb24odCxlKXt2YXIgaT10LnZhbHVlO09iamVjdChpKT09PWk/SlNPTi5zdHJpbmdpZnkoaSxudWxsLDQpLnNwbGl0KFwiXFxuXCIpLmZvckVhY2goZnVuY3Rpb24odCl7ZShcIiBcIit0KX0pOmUoXCIgXCIraSl9LE50LmVnJiYoTnQ9TnQuZWcpO3ZhciBMdD17fSxNdD1OdCxqdD14LFV0PUV0LFZ0PVg7THQuZWc9dixPYmplY3QuYWRkRWFjaCh2LnByb3RvdHlwZSxqdC5wcm90b3R5cGUpLE9iamVjdC5hZGRFYWNoKHYucHJvdG90eXBlLFV0LnByb3RvdHlwZSksT2JqZWN0LmFkZEVhY2godi5wcm90b3R5cGUsVnQucHJvdG90eXBlKSx2LnByb3RvdHlwZS5uZz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodCx0aGlzLk1mLHRoaXMuUWYsdGhpcy5jb250ZW50KX0sdi5wcm90b3R5cGUubG9nPWZ1bmN0aW9uKHQsZSl7ZT1lfHx0aGlzLnN0cmluZ2lmeSx0aGlzLlZmLmxvZyh0LGUpfSx2LnByb3RvdHlwZS5zdHJpbmdpZnk9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZStKU09OLnN0cmluZ2lmeSh0LmtleSkrXCI6IFwiK0pTT04uc3RyaW5naWZ5KHQudmFsdWUpfSxMdC5lZyYmKEx0PUx0LmVnKTt2YXIgUXQ9e30scXQ9bXQsSnQ9TnQsS3Q9eCxHdD1CLHp0PVgsV3Q9cnQ7UXQuZWc9eSxPYmplY3QuYWRkRWFjaCh5LnByb3RvdHlwZSxLdC5wcm90b3R5cGUpLE9iamVjdC5hZGRFYWNoKHkucHJvdG90eXBlLEd0LnByb3RvdHlwZSksT2JqZWN0LmFkZEVhY2goeS5wcm90b3R5cGUsenQucHJvdG90eXBlKSxPYmplY3QuYWRkRWFjaCh5LnByb3RvdHlwZSxXdC5wcm90b3R5cGUpLHkucHJvdG90eXBlLkdmPXF0LHkucHJvdG90eXBlLnpmPUp0LHkucHJvdG90eXBlLm5nPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0LHRoaXMuTWYsdGhpcy5RZix0aGlzLmNvbnRlbnQpfSx5LnByb3RvdHlwZS5oYXM9ZnVuY3Rpb24odCl7cmV0dXJuIHQ9bmV3IHRoaXMub3JkZXIuTm9kZSh0KSx0aGlzLlZmLmhhcyh0KX0seS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyB0aGlzLm9yZGVyLk5vZGUodCk7cmV0dXJuKGU9dGhpcy5WZi5nZXQoZSkpP2UudmFsdWU6dGhpcy5jb250ZW50KHQpfSx5LnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IHRoaXMub3JkZXIuTm9kZSh0KTtyZXR1cm4hdGhpcy5WZi5oYXMoZSkmJih0aGlzLiRnJiZ0aGlzLm52KFt0XSxbXSwwKSx0aGlzLm9yZGVyLmFkZCh0KSxlPXRoaXMub3JkZXIuaGVhZC5MZix0aGlzLlZmLmFkZChlKSx0aGlzLmxlbmd0aCsrLHRoaXMuJGcmJnRoaXMuWGcoW3RdLFtdLDApLCEwKX0seS5wcm90b3R5cGVbXCJkZWxldGVcIl09ZnVuY3Rpb24odCl7dmFyIGU9bmV3IHRoaXMub3JkZXIuTm9kZSh0KTtyZXR1cm4hIXRoaXMuVmYuaGFzKGUpJiYodGhpcy4kZyYmdGhpcy5udihbXSxbdF0sMCksZT10aGlzLlZmLmdldChlKSx0aGlzLlZmW1wiZGVsZXRlXCJdKGUpLGVbXCJkZWxldGVcIl0oKSx0aGlzLmxlbmd0aC0tLHRoaXMuJGcmJnRoaXMuWGcoW10sW3RdLDApLCEwKX0seS5wcm90b3R5cGUudWc9ZnVuY3Rpb24oKXtpZigwPT09dGhpcy5sZW5ndGgpdGhyb3cgRXJyb3IoXCJDYW4ndCBnZXQgb25lIHZhbHVlIGZyb20gZW1wdHkgc2V0LlwiKTtyZXR1cm4gdGhpcy5WZi51ZygpLnZhbHVlfSx5LnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3RoaXMuVmYuY2xlYXIoKSx0aGlzLm9yZGVyLmNsZWFyKCksdGhpcy5sZW5ndGg9MH0seS5wcm90b3R5cGUucmVkdWNlPWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gdGhpcy5vcmRlci5yZWR1Y2UoZnVuY3Rpb24oZSxyKXtyZXR1cm4gdC5jYWxsKGksZSxyLHIsdGhpcyl9LGUsdGhpcyl9LHkucHJvdG90eXBlLnJlZHVjZVJpZ2h0PWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gdGhpcy5vcmRlci5yZWR1Y2VSaWdodChmdW5jdGlvbihlLHIpe3JldHVybiB0LmNhbGwoaSxlLHIscix0aGlzKX0sZSx0aGlzKX0seS5wcm90b3R5cGUuRGY9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcmRlci5EZigpfSx5LnByb3RvdHlwZS5sb2c9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLlZmO3JldHVybiB0LmxvZy5hcHBseSh0LGFyZ3VtZW50cyl9LFF0LmVnJiYoUXQ9UXQuZWcpO3ZhciAkdD17fSxZdD1RdCxYdD14LFp0PUIsdGU9WDskdC5lZz1tLE9iamVjdC5hZGRFYWNoKG0ucHJvdG90eXBlLFh0LnByb3RvdHlwZSksT2JqZWN0LmFkZEVhY2gobS5wcm90b3R5cGUsWnQucHJvdG90eXBlKSxPYmplY3QuYWRkRWFjaChtLnByb3RvdHlwZSx0ZS5wcm90b3R5cGUpLG0ucHJvdG90eXBlLm5nPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0LHRoaXMubWF4TGVuZ3RoLHRoaXMuTWYsdGhpcy5RZix0aGlzLmNvbnRlbnQpfSxtLnByb3RvdHlwZS5oYXM9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuVmYuaGFzKHQpfSxtLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQ9dGhpcy5WZi5nZXQodCksdm9pZCAwIT09dD8odGhpcy5WZltcImRlbGV0ZVwiXSh0KSx0aGlzLlZmLmFkZCh0KSk6dD10aGlzLmNvbnRlbnQoKSx0fSxtLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuVmYuaGFzKHQpJiYodGhpcy5WZltcImRlbGV0ZVwiXSh0KSx0aGlzLmxlbmd0aC0tKSx0aGlzLlZmLmFkZCh0KSx0aGlzLmxlbmd0aCsrLCEodGhpcy5WZi5sZW5ndGg+dGhpcy5tYXhMZW5ndGgpfHwodGhpcy5WZltcImRlbGV0ZVwiXSh0aGlzLlZmLm9yZGVyLmhlYWQubmV4dC52YWx1ZSksdGhpcy5sZW5ndGgtLSwhMSl9LG0ucHJvdG90eXBlW1wiZGVsZXRlXCJdPWZ1bmN0aW9uKHQpe3JldHVybiEhdGhpcy5WZltcImRlbGV0ZVwiXSh0KSYmKHRoaXMubGVuZ3RoLS0sITApfSxtLnByb3RvdHlwZS51Zz1mdW5jdGlvbigpe2lmKDA9PT10aGlzLmxlbmd0aCl0aHJvdyBFcnJvcihcIkNhbid0IGdldCBvbmUgdmFsdWUgZnJvbSBlbXB0eSBjb2xsZWN0aW9uLlwiKTtyZXR1cm4gdGhpcy5WZi51ZygpfSxtLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3RoaXMuVmYuY2xlYXIoKSx0aGlzLmxlbmd0aD0wfSxtLnByb3RvdHlwZS5yZWR1Y2U9ZnVuY3Rpb24odCxlLGkpe3JldHVybiB0aGlzLlZmLnJlZHVjZShmdW5jdGlvbihlLHIpe3JldHVybiB0LmNhbGwoaSxlLHIscix0aGlzKX0sZSx0aGlzKX0sbS5wcm90b3R5cGUucmVkdWNlUmlnaHQ9ZnVuY3Rpb24odCxlLGkpe3JldHVybiB0aGlzLlZmLnJlZHVjZVJpZ2h0KGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGNhbGxiYWNrLmNhbGwoaSx0LGUsZSx0aGlzKX0sYmFzaXMsdGhpcyl9LG0ucHJvdG90eXBlLkRmPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuVmYuRGYoKX0sJHQuZWcmJigkdD0kdC5lZyk7dmFyIGVlPXt9LGllPSR0LHJlPXgsbmU9RXQsb2U9WDtlZS5lZz13LE9iamVjdC5hZGRFYWNoKHcucHJvdG90eXBlLHJlLnByb3RvdHlwZSksT2JqZWN0LmFkZEVhY2gody5wcm90b3R5cGUsbmUucHJvdG90eXBlKSxPYmplY3QuYWRkRWFjaCh3LnByb3RvdHlwZSxvZS5wcm90b3R5cGUpLHcucHJvdG90eXBlLm5nPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0LHRoaXMubWF4TGVuZ3RoLHRoaXMuTWYsdGhpcy5RZix0aGlzLmNvbnRlbnQpfSx3LnByb3RvdHlwZS5sb2c9ZnVuY3Rpb24odCxlKXtlPWV8fHRoaXMuc3RyaW5naWZ5LHRoaXMuVmYubG9nKHQsZSl9LHcucHJvdG90eXBlLnN0cmluZ2lmeT1mdW5jdGlvbih0LGUpe3JldHVybiBlK0pTT04uc3RyaW5naWZ5KHQua2V5KStcIjogXCIrSlNPTi5zdHJpbmdpZnkodC52YWx1ZSl9LGVlLmVnJiYoZWU9ZWUuZWcpO3ZhciBzZT17fSxhZT1RdCxjZT14LGhlPUV0LHBlPVg7c2UuZWc9VCxPYmplY3QuYWRkRWFjaChULnByb3RvdHlwZSxjZS5wcm90b3R5cGUpLE9iamVjdC5hZGRFYWNoKFQucHJvdG90eXBlLGhlLnByb3RvdHlwZSksT2JqZWN0LmFkZEVhY2goVC5wcm90b3R5cGUscGUucHJvdG90eXBlKSxULnByb3RvdHlwZS5uZz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodCx0aGlzLk1mLHRoaXMuUWYsdGhpcy5jb250ZW50KX0sVC5wcm90b3R5cGUubG9nPWZ1bmN0aW9uKHQsZSl7ZT1lfHx0aGlzLnN0cmluZ2lmeSx0aGlzLlZmLmxvZyh0LGUpfSxULnByb3RvdHlwZS5zdHJpbmdpZnk9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZStKU09OLnN0cmluZ2lmeSh0LmtleSkrXCI6IFwiK0pTT04uc3RyaW5naWZ5KHQudmFsdWUpfSxzZS5lZyYmKHNlPXNlLmVnKTt2YXIgdWU9e30sbGU9c2U7dWUuZWc9UyxTLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGxlLnByb3RvdHlwZSksUy5wcm90b3R5cGUuY29uc3RydWN0b3I9UyxTLnByb3RvdHlwZS5uZz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodCx0aGlzLldmLHRoaXMuTWYsdGhpcy5RZil9LFMucHJvdG90eXBlLnNldD1mdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuZ2V0KHQpO2kueXYoMCxpLmxlbmd0aCxlKX0sUy5wcm90b3R5cGUuV2Y9ZnVuY3Rpb24oKXtyZXR1cm5bXX0sdWUuZWcmJih1ZT11ZS5lZyk7dmFyIGRlPXt9O2RlLmVnPWI7dmFyIGZlPVgsZ2U9cnQ7T2JqZWN0LmFkZEVhY2goYi5wcm90b3R5cGUseC5wcm90b3R5cGUpLE9iamVjdC5hZGRFYWNoKGIucHJvdG90eXBlLGZlLnByb3RvdHlwZSksT2JqZWN0LmFkZEVhY2goYi5wcm90b3R5cGUsZ2UucHJvdG90eXBlKSxiLnByb3RvdHlwZS5uZz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodCx0aGlzLk1mLHRoaXMuJGYsdGhpcy5jb250ZW50KX0sYi5wcm90b3R5cGUuaGFzPWZ1bmN0aW9uKHQpe3ZhciBlPUUodGhpcy5IZix0LHRoaXMuJGYpO3JldHVybiAwPD1lJiZ0aGlzLk1mKHRoaXMuSGZbZV0sdCl9LGIucHJvdG90eXBlLmdldD1mdW5jdGlvbih0KXt2YXIgZT1JKHRoaXMuSGYsdCx0aGlzLiRmLHRoaXMuTWYpO3JldHVybi0xIT09ZT90aGlzLkhmW2VdOnRoaXMuY29udGVudCh0KX0sYi5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKHQpe3ZhciBlO2U9dGhpcy5IZjt2YXIgaT10aGlzLiRmLHI9RShlLHQsaSk7aWYoMD5yKWU9LXItMTtlbHNle2Zvcih2YXIgbj1lLmxlbmd0aC0xO3I8biYmMD09PWkodCxlW3IrMV0pOylyKys7ZT1yfXJldHVybiB0aGlzLiRnJiZ0aGlzLm52KFt0XSxbXSxlKSx0aGlzLkhmLnNwbGljZShlLDAsdCksdGhpcy5sZW5ndGgrKyx0aGlzLiRnJiZ0aGlzLlhnKFt0XSxbXSxlKSwhMH0sYi5wcm90b3R5cGVbXCJkZWxldGVcIl09ZnVuY3Rpb24odCl7dmFyIGU9SSh0aGlzLkhmLHQsdGhpcy4kZix0aGlzLk1mKTtyZXR1cm4tMSE9PWUmJih0aGlzLiRnJiZ0aGlzLm52KFtdLFt0XSxlKSx0aGlzLkhmLnNwbGljZShlLDEpLHRoaXMubGVuZ3RoLS0sdGhpcy4kZyYmdGhpcy5YZyhbXSxbdF0sZSksITApfSxiLnByb3RvdHlwZS5pbmRleE9mPWZ1bmN0aW9uKHQpe3JldHVybiBJKHRoaXMuSGYsdCx0aGlzLiRmLHRoaXMuTWYpfSxiLnByb3RvdHlwZS5sYXN0SW5kZXhPZj1mdW5jdGlvbih0KXtyZXR1cm4gUih0aGlzLkhmLHQsdGhpcy4kZix0aGlzLk1mKX0sYi5wcm90b3R5cGUuZmluZD1mdW5jdGlvbih0KXtyZXR1cm4gSSh0aGlzLkhmLHQsdGhpcy4kZix0aGlzLk1mKX0sYi5wcm90b3R5cGUudnY9ZnVuY3Rpb24odCl7cmV0dXJuIFIodGhpcy5IZix0LHRoaXMuJGYsdGhpcy5NZil9LGIucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24oKXt0aGlzLmFkZEVhY2goYXJndW1lbnRzKX0sYi5wcm90b3R5cGUudW5zaGlmdD1mdW5jdGlvbigpe3RoaXMuYWRkRWFjaChhcmd1bWVudHMpfSxiLnByb3RvdHlwZS5wb3A9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5IZi5wb3AoKX0sYi5wcm90b3R5cGUuc2hpZnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5IZi5zaGlmdCgpfSxiLnByb3RvdHlwZS5zbGljZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLkhmLnNsaWNlLmFwcGx5KHRoaXMuSGYsYXJndW1lbnRzKX0sYi5wcm90b3R5cGUuc3BsaWNlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMueXYodCxlLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywyKSl9LGIucHJvdG90eXBlLnl2PWZ1bmN0aW9uKHQsZSxpKXtpZih2b2lkIDA9PT10JiZ2b2lkIDA9PT1lKXJldHVybltdO3Q9dHx8MCwwPnQmJih0Kz10aGlzLmxlbmd0aCksdm9pZCAwPT09ZSYmKGU9MS8wKTt2YXIgcj10aGlzLnNsaWNlKHQsdCtlKTtyZXR1cm4gdGhpcy4kZyYmdGhpcy5udihpLHIsdCksdGhpcy5IZi5zcGxpY2UodCxlKSx0aGlzLmFkZEVhY2goaSksdGhpcy4kZyYmdGhpcy5YZyhpLHIsdCkscn0sYi5wcm90b3R5cGUucmVkdWNlPWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gdGhpcy5IZi5yZWR1Y2UoZnVuY3Rpb24oZSxyLG4pe3JldHVybiB0LmNhbGwoaSxlLHIsbix0aGlzKX0sZSx0aGlzKX0sYi5wcm90b3R5cGUucmVkdWNlUmlnaHQ9ZnVuY3Rpb24odCxlLGkpe3JldHVybiB0aGlzLkhmLnJlZHVjZVJpZ2h0KGZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gY2FsbGJhY2suY2FsbChpLHQsZSxyLHRoaXMpfSxiYXNpcyx0aGlzKX0sYi5wcm90b3R5cGUubWluPWZ1bmN0aW9uKCl7aWYodGhpcy5sZW5ndGgpcmV0dXJuIHRoaXMuSGZbMF19LGIucHJvdG90eXBlLm1heD1mdW5jdGlvbigpe2lmKHRoaXMubGVuZ3RoKXJldHVybiB0aGlzLkhmW3RoaXMubGVuZ3RoLTFdfSxiLnByb3RvdHlwZS51Zz1mdW5jdGlvbigpe3JldHVybiB0aGlzLkhmLnVnKCl9LGIucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dmFyIHQ7dGhpcy4kZyYmKHQ9dGhpcy5IZi5zbGljZSgpLHRoaXMubnYoW10sdCwwKSksdGhpcy5sZW5ndGg9MCx0aGlzLkhmLmNsZWFyKCksdGhpcy4kZyYmdGhpcy5YZyhbXSx0LDApfSxiLnByb3RvdHlwZS5vbD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLkhmLm9sKHQsZSl9LGIucHJvdG90eXBlLllmPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuSGYuWWYodCxlKX0sYi5wcm90b3R5cGUuRGY9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IHRoaXMuSXRlcmF0b3IodGhpcy5IZix0LGUpfSxiLnByb3RvdHlwZS5JdGVyYXRvcj1BcnJheS5wcm90b3R5cGUuSXRlcmF0b3IsZGUuZWcmJihkZT1kZS5lZyk7dmFyIHZlPXt9O3ZlLmVnPWs7dmFyIHllPWRlLG1lPUIsd2U9WDtrLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHllLnByb3RvdHlwZSksay5wcm90b3R5cGUuY29uc3RydWN0b3I9ayxPYmplY3QuYWRkRWFjaChrLnByb3RvdHlwZSxtZS5wcm90b3R5cGUpLE9iamVjdC5hZGRFYWNoKGsucHJvdG90eXBlLHdlLnByb3RvdHlwZSksay5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKHQpe3JldHVybiF0aGlzLmhhcyh0KSYmKHllLnByb3RvdHlwZS5hZGQuY2FsbCh0aGlzLHQpLCEwKX0say5wcm90b3R5cGUucmVkdWNlPWZ1bmN0aW9uKHQsZSxpKXt2YXIgcj10aGlzO3JldHVybiB0aGlzLkhmLnJlZHVjZShmdW5jdGlvbihlLG4sbyl7cmV0dXJuIHQuY2FsbChpLGUsbixuLHIsbyl9LGUpfSxrLnByb3RvdHlwZS5yZWR1Y2VSaWdodD1mdW5jdGlvbih0LGUsaSl7dmFyIHI9dGhpcztyZXR1cm4gdGhpcy5IZi5yZWR1Y2VSaWdodChmdW5jdGlvbihlLG4sbyl7cmV0dXJuIHQuY2FsbChpLGUsbixuLHIsbyl9LGUpfSx2ZS5lZyYmKHZlPXZlLmVnKTt2YXIgVGU9e30sU2U9dmUsYmU9eCxFZT1FdCxJZT1YO1RlLmVnPUMsT2JqZWN0LmFkZEVhY2goQy5wcm90b3R5cGUsYmUucHJvdG90eXBlKSxPYmplY3QuYWRkRWFjaChDLnByb3RvdHlwZSxFZS5wcm90b3R5cGUpLE9iamVjdC5hZGRFYWNoKEMucHJvdG90eXBlLEllLnByb3RvdHlwZSksQy5wcm90b3R5cGUubmc9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHQsdGhpcy5NZix0aGlzLiRmLHRoaXMuY29udGVudCl9LFRlLmVnJiYoVGU9VGUuZWcpO3ZhciBSZT17fTtSZS5lZz1PO3ZhciBrZT1CLENlPVgsT2U9cnQsUGU9SDtPYmplY3QuYWRkRWFjaChPLnByb3RvdHlwZSx4LnByb3RvdHlwZSksT2JqZWN0LmFkZEVhY2goTy5wcm90b3R5cGUsa2UucHJvdG90eXBlKSxPYmplY3QuYWRkRWFjaChPLnByb3RvdHlwZSxDZS5wcm90b3R5cGUpLE9iamVjdC5hZGRFYWNoKE8ucHJvdG90eXBlLE9lLnByb3RvdHlwZSksTy5wcm90b3R5cGUubmc9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHQsdGhpcy5NZix0aGlzLiRmLHRoaXMuY29udGVudCl9LE8ucHJvdG90eXBlLmhhcz1mdW5jdGlvbih0KXtyZXR1cm4hIXRoaXMucm9vdCYmKHRoaXMuWmYodCksdGhpcy5NZih0LHRoaXMucm9vdC52YWx1ZSkpfSxPLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMucm9vdCYmKHRoaXMuWmYodCksdGhpcy5NZih0LHRoaXMucm9vdC52YWx1ZSkpP3RoaXMucm9vdC52YWx1ZTp0aGlzLmNvbnRlbnQodCl9LE8ucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0KXt2YXIgZT1uZXcgdGhpcy5Ob2RlKHQpO3JldHVybiB0aGlzLnJvb3Q/KHRoaXMuWmYodCksIXRoaXMuTWYodCx0aGlzLnJvb3QudmFsdWUpJiYodGhpcy4kZyYmdGhpcy5udihbdF0sW10sdGhpcy5yb290LmluZGV4KSwwPnRoaXMuJGYodCx0aGlzLnJvb3QudmFsdWUpPyhlLnJpZ2h0PXRoaXMucm9vdCxlLmxlZnQ9dGhpcy5yb290LmxlZnQsdGhpcy5yb290LmxlZnQ9bnVsbCk6KGUubGVmdD10aGlzLnJvb3QsZS5yaWdodD10aGlzLnJvb3QucmlnaHQsdGhpcy5yb290LnJpZ2h0PW51bGwpLHRoaXMucm9vdC5GdigpLGUuRnYoKSx0aGlzLnJvb3Q9ZSx0aGlzLmxlbmd0aCsrLHRoaXMuJGcmJnRoaXMuWGcoW3RdLFtdLHRoaXMucm9vdC5pbmRleCksITApKToodGhpcy4kZyYmdGhpcy5udihbdF0sW10sMCksdGhpcy5yb290PWUsdGhpcy5sZW5ndGgrKyx0aGlzLiRnJiZ0aGlzLlhnKFt0XSxbXSwwKSwhMCl9LE8ucHJvdG90eXBlW1wiZGVsZXRlXCJdPWZ1bmN0aW9uKHQpe2lmKHRoaXMucm9vdCYmKHRoaXMuWmYodCksdGhpcy5NZih0LHRoaXMucm9vdC52YWx1ZSkpKXt2YXIgZT10aGlzLnJvb3QuaW5kZXg7aWYodGhpcy4kZyYmdGhpcy5udihbXSxbdF0sZSksdGhpcy5yb290LmxlZnQpe3ZhciBpPXRoaXMucm9vdC5yaWdodDt0aGlzLnJvb3Q9dGhpcy5yb290LmxlZnQsdGhpcy5aZih0KSx0aGlzLnJvb3QucmlnaHQ9aX1lbHNlIHRoaXMucm9vdD10aGlzLnJvb3QucmlnaHQ7cmV0dXJuIHRoaXMubGVuZ3RoLS0sdGhpcy5yb290JiZ0aGlzLnJvb3QuRnYoKSx0aGlzLiRnJiZ0aGlzLlhnKFtdLFt0XSxlKSwhMH1yZXR1cm4hMX0sTy5wcm90b3R5cGUuaW5kZXhPZj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5yb290JiYodGhpcy5aZih0KSx0aGlzLk1mKHQsdGhpcy5yb290LnZhbHVlKSk/dGhpcy5yb290LmluZGV4Oi0xfSxPLnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKHQpe2lmKHRoaXMucm9vdCYmKHRoaXMuWmYodCksdGhpcy5NZih0LHRoaXMucm9vdC52YWx1ZSkpKXJldHVybiB0aGlzLnJvb3R9LE8ucHJvdG90eXBlLl92PWZ1bmN0aW9uKHQpe2lmKHRoaXMucm9vdCl7Zm9yKHQ9dHx8dGhpcy5yb290O3QucmlnaHQ7KXQ9dC5yaWdodDtyZXR1cm4gdH19LE8ucHJvdG90eXBlLkR2PWZ1bmN0aW9uKHQpe2lmKHRoaXMucm9vdCl7Zm9yKHQ9dHx8dGhpcy5yb290O3QubGVmdDspdD10LmxlZnQ7cmV0dXJuIHR9fSxPLnByb3RvdHlwZS5Idj1mdW5jdGlvbih0KXtpZih0aGlzLnJvb3QpcmV0dXJuIHRoaXMuWmYodCksdGhpcy5yb290fSxPLnByb3RvdHlwZS5Mdj1mdW5jdGlvbih0KXtpZih0aGlzLnJvb3QpcmV0dXJuIHRoaXMuWmYodCksdGhpcy5yb290LnRnKCl9LE8ucHJvdG90eXBlLlhmPWZ1bmN0aW9uKHQpe2lmKHRoaXMucm9vdClyZXR1cm4gdGhpcy5aZih0KSwwPT09dGhpcy4kZih0LHRoaXMucm9vdC52YWx1ZSk/dGhpcy5yb290OnRoaXMucm9vdC5NdigpfSxPLnByb3RvdHlwZS5qdj1mdW5jdGlvbih0KXtpZih0aGlzLnJvb3QpcmV0dXJuIHRoaXMuWmYodCksdGhpcy4kZih0LHRoaXMucm9vdC52YWx1ZSksdGhpcy5yb290Lk12KCl9LE8ucHJvdG90eXBlLnBvcD1mdW5jdGlvbigpe2lmKHRoaXMucm9vdCl7dmFyIHQ9dGhpcy5fdigpO3JldHVybiB0aGlzW1wiZGVsZXRlXCJdKHQudmFsdWUpLHQudmFsdWV9fSxPLnByb3RvdHlwZS5zaGlmdD1mdW5jdGlvbigpe2lmKHRoaXMucm9vdCl7dmFyIHQ9dGhpcy5EdigpO3JldHVybiB0aGlzW1wiZGVsZXRlXCJdKHQudmFsdWUpLHQudmFsdWV9fSxPLnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKCl7dGhpcy5hZGRFYWNoKGFyZ3VtZW50cyl9LE8ucHJvdG90eXBlLnVuc2hpZnQ9ZnVuY3Rpb24oKXt0aGlzLmFkZEVhY2goYXJndW1lbnRzKX0sTy5wcm90b3R5cGUuc2xpY2U9ZnVuY3Rpb24odCxlKXt0PXR8fDAsZT1lfHx0aGlzLmxlbmd0aCwwPnQmJih0Kz10aGlzLmxlbmd0aCksMD5lJiYoZSs9dGhpcy5sZW5ndGgpO3ZhciBpPVtdO2lmKHRoaXMucm9vdClmb3IodGhpcy5Vdih0KTt0aGlzLnJvb3QuaW5kZXg8ZSYmKGkucHVzaCh0aGlzLnJvb3QudmFsdWUpLHRoaXMucm9vdC5yaWdodCk7KXRoaXMuWmYodGhpcy5yb290Lk12KCkudmFsdWUpO3JldHVybiBpfSxPLnByb3RvdHlwZS5zcGxpY2U9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy55dih0LGUsQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDIpKX0sTy5wcm90b3R5cGUueXY9ZnVuY3Rpb24odCxlLGkpe2lmKHZvaWQgMD09PXQmJnZvaWQgMD09PWUpcmV0dXJuW107dD10fHwwLDA+dCYmKHQrPXRoaXMubGVuZ3RoKSx2b2lkIDA9PT1lJiYoZT0xLzApO3ZhciByPVtdO2lmKHRoaXMucm9vdClmb3IodGhpcy5Vdih0KSx0PTA7dDxlO3QrKyl7ci5wdXNoKHRoaXMucm9vdC52YWx1ZSk7dmFyIG49dGhpcy5yb290Lk12KCk7aWYodGhpc1tcImRlbGV0ZVwiXSh0aGlzLnJvb3QudmFsdWUpLCFuKWJyZWFrO3RoaXMuWmYobi52YWx1ZSl9cmV0dXJuIHRoaXMuYWRkRWFjaChpKSxyfSxPLnByb3RvdHlwZS5aZj1mdW5jdGlvbih0KXt2YXIgZSxpLHIsbixvLHM7aWYodGhpcy5yb290KXtmb3IoZT1pPXI9bmV3IHRoaXMuTm9kZSxzPW5ldyB0aGlzLk5vZGUsbz10aGlzLnJvb3Q7OylpZihuPXRoaXMuJGYodCxvLnZhbHVlKSwwPm4pe2lmKCFvLmxlZnQpYnJlYWs7aWYoMD50aGlzLiRmKHQsby5sZWZ0LnZhbHVlKSYmKG49by5sZWZ0LG8ubGVmdD1uLnJpZ2h0LG8uRnYoKSxuLnJpZ2h0PW8sbi5GdigpLG89biwhby5sZWZ0KSlicmVhaztuPW5ldyBQLG4ucmlnaHQ9byxuLmxlZnQ9cy5sZWZ0LHMubGVmdD1uLHIubGVmdD1vLHIuRnYoKSxyPW8sbz1vLmxlZnR9ZWxzZXtpZighKDA8bikpYnJlYWs7aWYoIW8ucmlnaHQpYnJlYWs7aWYoMDx0aGlzLiRmKHQsby5yaWdodC52YWx1ZSkmJihuPW8ucmlnaHQsby5yaWdodD1uLmxlZnQsby5GdigpLG4ubGVmdD1vLG4uRnYoKSxvPW4sIW8ucmlnaHQpKWJyZWFrO249bmV3IFAsbi5sZWZ0PW8sbi5yaWdodD1zLnJpZ2h0LHMucmlnaHQ9bixpLnJpZ2h0PW8saS5GdigpLGk9byxvPW8ucmlnaHR9Zm9yKGkucmlnaHQ9by5sZWZ0LGkuRnYoKSxyLmxlZnQ9by5yaWdodCxyLkZ2KCksby5sZWZ0PWUucmlnaHQsby5yaWdodD1lLmxlZnQ7cy5sZWZ0OylzLmxlZnQucmlnaHQuRnYoKSxzLmxlZnQ9cy5sZWZ0LmxlZnQ7Zm9yKDtzLnJpZ2h0OylzLnJpZ2h0LmxlZnQuRnYoKSxzLnJpZ2h0PXMucmlnaHQucmlnaHQ7by5GdigpLHRoaXMucm9vdD1vfX0sTy5wcm90b3R5cGUuVXY9ZnVuY3Rpb24odCl7aWYodGhpcy5yb290KXtmb3IodmFyIGU9dGhpcy5yb290LGk9dGhpcy5yb290LmluZGV4O2khPT10OylpZihpPnQmJmUubGVmdCllPWUubGVmdCxpLT0xKyhlLnJpZ2h0P2UucmlnaHQubGVuZ3RoOjApO2Vsc2V7aWYoIShpPHQmJmUucmlnaHQpKWJyZWFrO2U9ZS5yaWdodCxpKz0xKyhlLmxlZnQ/ZS5sZWZ0Lmxlbmd0aDowKX1yZXR1cm4gdGhpcy5aZihlLnZhbHVlKSx0aGlzLnJvb3QuaW5kZXg9PT10fXJldHVybiExfSxPLnByb3RvdHlwZS5yZWR1Y2U9ZnVuY3Rpb24odCxlLGkpe3JldHVybiB0aGlzLnJvb3QmJihlPXRoaXMucm9vdC5yZWR1Y2UodCxlLGksdGhpcykpLGV9LE8ucHJvdG90eXBlLnJlZHVjZVJpZ2h0PWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gdGhpcy5yb290JiYoZT10aGlzLnJvb3QucmVkdWNlUmlnaHQodCxlLGksdGhpcykpLGV9LE8ucHJvdG90eXBlLm1pbj1mdW5jdGlvbih0KXtpZih0PXRoaXMuRHYodCkpcmV0dXJuIHQudmFsdWV9LE8ucHJvdG90eXBlLm1heD1mdW5jdGlvbih0KXtpZih0PXRoaXMuX3YodCkpcmV0dXJuIHQudmFsdWV9LE8ucHJvdG90eXBlLnVnPWZ1bmN0aW9uKCl7aWYoIXRoaXMucm9vdCl0aHJvdyBFcnJvcihcIkNhbid0IGdldCBvbmUgdmFsdWUgZnJvbSBlbXB0eSBzZXRcIik7cmV0dXJuIHRoaXMucm9vdC52YWx1ZX0sTy5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt2YXIgdDt0aGlzLiRnJiYodD10aGlzLnRvQXJyYXkoKSx0aGlzLm52KFtdLHQsMCkpLHRoaXMucm9vdD1udWxsLHRoaXMubGVuZ3RoPTAsdGhpcy4kZyYmdGhpcy5YZyhbXSx0LDApfSxPLnByb3RvdHlwZS5EZj1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgdGhpcy5JdGVyYXRvcih0aGlzLHQsZSl9LE8ucHJvdG90eXBlLkl0ZXJhdG9yPUEsTy5wcm90b3R5cGUuc3VtbWFyeT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJvb3Q/dGhpcy5yb290LnN1bW1hcnkoKTpcIigpXCJ9LE8ucHJvdG90eXBlLmxvZz1mdW5jdGlvbih0LGUsaSxyKXt0PXR8fFBlLlJnLGU9ZXx8dGhpcy5CdixpfHwoaT1jb25zb2xlLmxvZyxyPWNvbnNvbGUpLGk9aS5iaW5kKHIpLHRoaXMucm9vdCYmdGhpcy5yb290LmxvZyh0LGUsaSxpKX0sTy5wcm90b3R5cGUuQnY9ZnVuY3Rpb24odCxlKXtlKFwiIFwiK3QudmFsdWUpfSxPLlZ2PVBlLE8ucHJvdG90eXBlLk5vZGU9UCxQLnByb3RvdHlwZS5yZWR1Y2U9ZnVuY3Rpb24odCxlLGkscixuKXtyZXR1cm4gbj1ufHwwLHRoaXMubGVmdCYmKGU9dGhpcy5sZWZ0LnJlZHVjZSh0LGUsaSxyLG4rMSkpLGU9dC5jYWxsKGksZSx0aGlzLnZhbHVlLHRoaXMudmFsdWUscix0aGlzLG4pLHRoaXMucmlnaHQmJihlPXRoaXMucmlnaHQucmVkdWNlKHQsZSxpLHIsbisxKSksZX0sUC5wcm90b3R5cGUucmVkdWNlUmlnaHQ9ZnVuY3Rpb24odCxlLGkscixuKXtyZXR1cm4gbj1ufHwwLHRoaXMucmlnaHQmJihlPXRoaXMucmlnaHQucmVkdWNlKHQsZSxpLHIsbisxKSksZT10LmNhbGwoaSxlLHRoaXMudmFsdWUsdGhpcy52YWx1ZSxyLHRoaXMsbiksdGhpcy5sZWZ0JiYoZT10aGlzLmxlZnQucmVkdWNlKHQsZSxpLHIsbisxKSksZX0sUC5wcm90b3R5cGUuRnY9ZnVuY3Rpb24oKXt0aGlzLmxlbmd0aD0xKyh0aGlzLmxlZnQ/dGhpcy5sZWZ0Lmxlbmd0aDowKSsodGhpcy5yaWdodD90aGlzLnJpZ2h0Lmxlbmd0aDowKSx0aGlzLmluZGV4PXRoaXMubGVmdD90aGlzLmxlZnQubGVuZ3RoOjB9LFAucHJvdG90eXBlLlF2PWZ1bmN0aW9uKCl7dmFyIHQ7aWYodD0xKyh0aGlzLmxlZnQ/dGhpcy5sZWZ0LlF2KCk6MCksdCs9dGhpcy5yaWdodD90aGlzLnJpZ2h0LlF2KCk6MCx0aGlzLmxlbmd0aCE9PXQpdGhyb3cgRXJyb3IoXCJJbnRlZ3JpdHkgY2hlY2sgZmFpbGVkOiBcIit0aGlzLnN1bW1hcnkoKSk7cmV0dXJuIHR9LFAucHJvdG90eXBlLk12PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztpZih0LnJpZ2h0KXtmb3IodD10LnJpZ2h0O3QubGVmdDspdD10LmxlZnQ7cmV0dXJuIHR9fSxQLnByb3RvdHlwZS50Zz1mdW5jdGlvbigpe3ZhciB0PXRoaXM7aWYodC5sZWZ0KXtmb3IodD10LmxlZnQ7dC5yaWdodDspdD10LnJpZ2h0O3JldHVybiB0fX0sUC5wcm90b3R5cGUuc3VtbWFyeT1mdW5jdGlvbigpe3ZhciB0PXRoaXMudmFsdWV8fFwiLVwiLHQ9dCsoXCIgPFwiK3RoaXMubGVuZ3RoKTtyZXR1cm4gdGhpcy5sZWZ0fHx0aGlzLnJpZ2h0P1wiKFwiK3QrXCIgXCIrKHRoaXMubGVmdD90aGlzLmxlZnQuc3VtbWFyeSgpOlwiKClcIikrXCIsIFwiKyh0aGlzLnJpZ2h0P3RoaXMucmlnaHQuc3VtbWFyeSgpOlwiKClcIikrXCIpXCI6XCIoXCIrdCtcIilcIn0sUC5wcm90b3R5cGUubG9nPWZ1bmN0aW9uKHQsZSxpLHIpe3ZhciBuLG89dGhpcztuPXRoaXMubGVmdCYmdGhpcy5yaWdodD90LmRnOnRoaXMubGVmdD90LndnOnRoaXMucmlnaHQ/dC5UZzp0Lm1nO3ZhciBzO3RoaXMubGVmdCYmdGhpcy5sZWZ0LmxvZyh0LGUsZnVuY3Rpb24oZSl7cz9yKHQuSWcrXCIgXCIrZSk6KHM9ITAscih0LlNnK3QubWcrZSkpfSxmdW5jdGlvbih0KXtyKFwiICBcIit0KX0pO3ZhciBhO2UodGhpcyxmdW5jdGlvbihlKXthP2koKG8ucmlnaHQ/dC5JZzpcIiBcIikrZSk6KGE9ITAsaShuK2UpKX0sZnVuY3Rpb24oZSl7cigoby5sZWZ0P3QuSWc6XCIgXCIpK2UpfSk7dmFyIGM7dGhpcy5yaWdodCYmdGhpcy5yaWdodC5sb2codCxlLGZ1bmN0aW9uKGUpe2M/aShcIiAgXCIrZSk6KGM9ITAsaSh0LmJnK3QubWcrZSkpfSxmdW5jdGlvbihlKXtpKHQuSWcrXCIgXCIrZSl9KX0sQS5wcm90b3R5cGUubmV4dD1mdW5jdGlvbigpe3ZhciB0O2lmKHQ9dGhpcy5MZj90aGlzLnNldC5qdih0aGlzLkxmLnZhbHVlKTp0aGlzLnNldC5EdigpLCF0KXRocm93IFN0b3BJdGVyYXRpb247aWYodm9pZCAwIT09dGhpcy5lbmQmJjA8PXRoaXMuc2V0LiRmKHQudmFsdWUsdGhpcy5lbmQpKXRocm93IFN0b3BJdGVyYXRpb247cmV0dXJuIHRoaXMuTGY9dCx0LnZhbHVlfSxSZS5lZyYmKFJlPVJlLmVnKTt2YXIgQWU9e30sTmU9UmUseGU9eCxCZT1FdCxGZT1YO0FlLmVnPU4sT2JqZWN0LmFkZEVhY2goTi5wcm90b3R5cGUseGUucHJvdG90eXBlKSxPYmplY3QuYWRkRWFjaChOLnByb3RvdHlwZSxCZS5wcm90b3R5cGUpLE9iamVjdC5hZGRFYWNoKE4ucHJvdG90eXBlLEZlLnByb3RvdHlwZSksTi5wcm90b3R5cGUubmc9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHQsdGhpcy5NZix0aGlzLiRmLHRoaXMuY29udGVudCl9LE4ucHJvdG90eXBlLmxvZz1mdW5jdGlvbih0LGUpe2U9ZXx8dGhpcy5zdHJpbmdpZnksdGhpcy5WZi5sb2codCxlKX0sTi5wcm90b3R5cGUucXY9ZnVuY3Rpb24odCxlLGkscil7cj1yfHx0aGlzLnN0cmluZ2lmeSx0aGlzLlZmLnF2KHQsZSxpLHIpfSxOLnByb3RvdHlwZS5zdHJpbmdpZnk9ZnVuY3Rpb24odCxlLGkscil7dC5jYWxsKGUscitcIiBcIitpLnZhbHVlLmtleStcIjogXCIraS52YWx1ZS52YWx1ZSl9LEFlLmVnJiYoQWU9QWUuZWcpLHQuSnY9bXQsdC5TZXQ9UXQsdC5NYXA9c2UsdC5Ldj11ZSx0LldlYWtNYXA9TSx0Lkd2PVJlLHQubmk9QWUsdC56dj0kdCx0Lld2PWVlLHQuJHY9ZGUsdC5vaT12ZSx0Lll2PVRlLHQuWHY9TnQsdC5adj1MdCx0LnR5PUN0LHQuSXRlcmF0b3I9dXR9KHRoaXMpfSxmdW5jdGlvbih0LGUpe3QudD1mdW5jdGlvbigpe3JldHVybiBuZXcgRnVuY3Rpb259fSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIGkodCxlLGkpe251bGwhPXQmJihcIm51bWJlclwiPT10eXBlb2YgdD90aGlzLmZyb21OdW1iZXIodCxlLGkpOm51bGw9PWUmJlwic3RyaW5nXCIhPXR5cGVvZiB0P3RoaXMuZXkodCwyNTYpOnRoaXMuZXkodCxlKSl9ZnVuY3Rpb24gcigpe3JldHVybiBuZXcgaShudWxsKX1mdW5jdGlvbiBuKHQsZSxpLHIsbixvKXtmb3IoOy0tbz49MDspe3ZhciBzPWUqdGhpc1t0KytdK2lbcl0rbjtuPU1hdGguZmxvb3Iocy82NzEwODg2NCksaVtyKytdPTY3MTA4ODYzJnN9cmV0dXJuIG59ZnVuY3Rpb24gbyh0LGUsaSxyLG4sbyl7Zm9yKHZhciBzPTMyNzY3JmUsYT1lPj4xNTstLW8+PTA7KXt2YXIgYz0zMjc2NyZ0aGlzW3RdLGg9dGhpc1t0KytdPj4xNSxwPWEqYytoKnM7Yz1zKmMrKCgzMjc2NyZwKTw8MTUpK2lbcl0rKDEwNzM3NDE4MjMmbiksbj0oYz4+PjMwKSsocD4+PjE1KSthKmgrKG4+Pj4zMCksaVtyKytdPTEwNzM3NDE4MjMmY31yZXR1cm4gbn1mdW5jdGlvbiBzKHQsZSxpLHIsbixvKXtmb3IodmFyIHM9MTYzODMmZSxhPWU+PjE0Oy0tbz49MDspe3ZhciBjPTE2MzgzJnRoaXNbdF0saD10aGlzW3QrK10+PjE0LHA9YSpjK2gqcztjPXMqYysoKDE2MzgzJnApPDwxNCkraVtyXStuLG49KGM+PjI4KSsocD4+MTQpK2EqaCxpW3IrK109MjY4NDM1NDU1JmN9cmV0dXJuIG59ZnVuY3Rpb24gYSh0KXtyZXR1cm4gUHQuY2hhckF0KHQpfWZ1bmN0aW9uIGModCxlKXt2YXIgaT1BdFt0LmNoYXJDb2RlQXQoZSldO3JldHVybiBudWxsPT1pPy0xOml9ZnVuY3Rpb24gaCh0KXtmb3IodmFyIGU9dGhpcy5peS0xO2U+PTA7LS1lKXRbZV09dGhpc1tlXTt0Lml5PXRoaXMuaXksdC5ueT10aGlzLm55fWZ1bmN0aW9uIHAodCl7dGhpcy5peT0xLHRoaXMubnk9dDwwPy0xOjAsdD4wP3RoaXNbMF09dDp0PC0xP3RoaXNbMF09dCt0aGlzLm95OnRoaXMuaXk9MH1mdW5jdGlvbiB1KHQpe3ZhciBlPXIoKTtyZXR1cm4gZS5zeSh0KSxlfWZ1bmN0aW9uIGwodCxlKXt2YXIgcjtpZigxNj09ZSlyPTQ7ZWxzZSBpZig4PT1lKXI9MztlbHNlIGlmKDI1Nj09ZSlyPTg7ZWxzZSBpZigyPT1lKXI9MTtlbHNlIGlmKDMyPT1lKXI9NTtlbHNle2lmKDQhPWUpcmV0dXJuIHZvaWQgdGhpcy5mcm9tUmFkaXgodCxlKTtyPTJ9dGhpcy5peT0wLHRoaXMubnk9MDtmb3IodmFyIG49dC5sZW5ndGgsbz0hMSxzPTA7LS1uPj0wOyl7dmFyIGE9OD09cj8yNTUmdFtuXTpjKHQsbik7YTwwP1wiLVwiPT10LmNoYXJBdChuKSYmKG89ITApOihvPSExLDA9PXM/dGhpc1t0aGlzLml5KytdPWE6cytyPnRoaXMuYXk/KHRoaXNbdGhpcy5peS0xXXw9KGEmKDE8PHRoaXMuYXktcyktMSk8PHMsdGhpc1t0aGlzLml5KytdPWE+PnRoaXMuYXktcyk6dGhpc1t0aGlzLml5LTFdfD1hPDxzLHMrPXIscz49dGhpcy5heSYmKHMtPXRoaXMuYXkpKX04PT1yJiYwIT0oMTI4JnRbMF0pJiYodGhpcy5ueT0tMSxzPjAmJih0aGlzW3RoaXMuaXktMV18PSgxPDx0aGlzLmF5LXMpLTE8PHMpKSx0aGlzLmh5KCksbyYmaS5aRVJPLnB5KHRoaXMsdGhpcyl9ZnVuY3Rpb24gZCgpe2Zvcih2YXIgdD10aGlzLm55JnRoaXMudXk7dGhpcy5peT4wJiZ0aGlzW3RoaXMuaXktMV09PXQ7KS0tdGhpcy5peX1mdW5jdGlvbiBmKHQpe2lmKHRoaXMubnk8MClyZXR1cm5cIi1cIit0aGlzLmx5KCkudG9TdHJpbmcodCk7dmFyIGU7aWYoMTY9PXQpZT00O2Vsc2UgaWYoOD09dCllPTM7ZWxzZSBpZigyPT10KWU9MTtlbHNlIGlmKDMyPT10KWU9NTtlbHNle2lmKDQhPXQpcmV0dXJuIHRoaXMudG9SYWRpeCh0KTtlPTJ9dmFyIGkscj0oMTw8ZSktMSxuPSExLG89XCJcIixzPXRoaXMuaXksYz10aGlzLmF5LXMqdGhpcy5heSVlO2lmKHMtLSA+MClmb3IoYzx0aGlzLmF5JiYoaT10aGlzW3NdPj5jKT4wJiYobj0hMCxvPWEoaSkpO3M+PTA7KWM8ZT8oaT0odGhpc1tzXSYoMTw8YyktMSk8PGUtYyxpfD10aGlzWy0tc10+PihjKz10aGlzLmF5LWUpKTooaT10aGlzW3NdPj4oYy09ZSkmcixjPD0wJiYoYys9dGhpcy5heSwtLXMpKSxpPjAmJihuPSEwKSxuJiYobys9YShpKSk7cmV0dXJuIG4/bzpcIjBcIn1mdW5jdGlvbiBnKCl7dmFyIHQ9cigpO3JldHVybiBpLlpFUk8ucHkodGhpcyx0KSx0fWZ1bmN0aW9uIHYoKXtyZXR1cm4gdGhpcy5ueTwwP3RoaXMubHkoKTp0aGlzfWZ1bmN0aW9uIHkodCl7dmFyIGU9dGhpcy5ueS10Lm55O2lmKDAhPWUpcmV0dXJuIGU7dmFyIGk9dGhpcy5peTtpZihlPWktdC5peSwwIT1lKXJldHVybiB0aGlzLm55PDA/LWU6ZTtmb3IoOy0taT49MDspaWYoMCE9KGU9dGhpc1tpXS10W2ldKSlyZXR1cm4gZTtyZXR1cm4gMH1mdW5jdGlvbiBtKHQpe3ZhciBlLGk9MTtyZXR1cm4gMCE9KGU9dD4+PjE2KSYmKHQ9ZSxpKz0xNiksMCE9KGU9dD4+OCkmJih0PWUsaSs9OCksMCE9KGU9dD4+NCkmJih0PWUsaSs9NCksMCE9KGU9dD4+MikmJih0PWUsaSs9MiksMCE9KGU9dD4+MSkmJih0PWUsaSs9MSksaX1mdW5jdGlvbiB3KCl7cmV0dXJuIHRoaXMuaXk8PTA/MDp0aGlzLmF5Kih0aGlzLml5LTEpK20odGhpc1t0aGlzLml5LTFdXnRoaXMubnkmdGhpcy51eSl9ZnVuY3Rpb24gVCh0LGUpe3ZhciBpO2ZvcihpPXRoaXMuaXktMTtpPj0wOy0taSllW2krdF09dGhpc1tpXTtmb3IoaT10LTE7aT49MDstLWkpZVtpXT0wO2UuaXk9dGhpcy5peSt0LGUubnk9dGhpcy5ueX1mdW5jdGlvbiBTKHQsZSl7Zm9yKHZhciBpPXQ7aTx0aGlzLml5OysraSllW2ktdF09dGhpc1tpXTtlLml5PU1hdGgubWF4KHRoaXMuaXktdCwwKSxlLm55PXRoaXMubnl9ZnVuY3Rpb24gYih0LGUpe3ZhciBpLHI9dCV0aGlzLmF5LG49dGhpcy5heS1yLG89KDE8PG4pLTEscz1NYXRoLmZsb29yKHQvdGhpcy5heSksYT10aGlzLm55PDxyJnRoaXMudXk7Zm9yKGk9dGhpcy5peS0xO2k+PTA7LS1pKWVbaStzKzFdPXRoaXNbaV0+Pm58YSxhPSh0aGlzW2ldJm8pPDxyO2ZvcihpPXMtMTtpPj0wOy0taSllW2ldPTA7ZVtzXT1hLGUuaXk9dGhpcy5peStzKzEsZS5ueT10aGlzLm55LGUuaHkoKX1mdW5jdGlvbiBFKHQsZSl7ZS5ueT10aGlzLm55O3ZhciBpPU1hdGguZmxvb3IodC90aGlzLmF5KTtpZihpPj10aGlzLml5KXJldHVybiB2b2lkKGUuaXk9MCk7dmFyIHI9dCV0aGlzLmF5LG49dGhpcy5heS1yLG89KDE8PHIpLTE7ZVswXT10aGlzW2ldPj5yO2Zvcih2YXIgcz1pKzE7czx0aGlzLml5OysrcyllW3MtaS0xXXw9KHRoaXNbc10mbyk8PG4sZVtzLWldPXRoaXNbc10+PnI7cj4wJiYoZVt0aGlzLml5LWktMV18PSh0aGlzLm55Jm8pPDxuKSxlLml5PXRoaXMuaXktaSxlLmh5KCl9ZnVuY3Rpb24gSSh0LGUpe2Zvcih2YXIgaT0wLHI9MCxuPU1hdGgubWluKHQuaXksdGhpcy5peSk7aTxuOylyKz10aGlzW2ldLXRbaV0sZVtpKytdPXImdGhpcy51eSxyPj49dGhpcy5heTtpZih0Lml5PHRoaXMuaXkpe2ZvcihyLT10Lm55O2k8dGhpcy5peTspcis9dGhpc1tpXSxlW2krK109ciZ0aGlzLnV5LHI+Pj10aGlzLmF5O3IrPXRoaXMubnl9ZWxzZXtmb3Iocis9dGhpcy5ueTtpPHQuaXk7KXItPXRbaV0sZVtpKytdPXImdGhpcy51eSxyPj49dGhpcy5heTtyLT10Lm55fWUubnk9cjwwPy0xOjAscjwtMT9lW2krK109dGhpcy5veStyOnI+MCYmKGVbaSsrXT1yKSxlLml5PWksZS5oeSgpfWZ1bmN0aW9uIFIodCxlKXt2YXIgcj10aGlzLmFicygpLG49dC5hYnMoKSxvPXIuaXk7Zm9yKGUuaXk9bytuLml5Oy0tbz49MDspZVtvXT0wO2ZvcihvPTA7bzxuLml5OysrbyllW28rci5peV09ci5neSgwLG5bb10sZSxvLDAsci5peSk7ZS5ueT0wLGUuaHkoKSx0aGlzLm55IT10Lm55JiZpLlpFUk8ucHkoZSxlKX1mdW5jdGlvbiBrKHQpe2Zvcih2YXIgZT10aGlzLmFicygpLGk9dC5peT0yKmUuaXk7LS1pPj0wOyl0W2ldPTA7Zm9yKGk9MDtpPGUuaXktMTsrK2kpe3ZhciByPWUuZ3koaSxlW2ldLHQsMippLDAsMSk7KHRbaStlLml5XSs9ZS5neShpKzEsMiplW2ldLHQsMippKzEscixlLml5LWktMSkpPj1lLm95JiYodFtpK2UuaXldLT1lLm95LHRbaStlLml5KzFdPTEpfXQuaXk+MCYmKHRbdC5peS0xXSs9ZS5neShpLGVbaV0sdCwyKmksMCwxKSksdC5ueT0wLHQuaHkoKX1mdW5jdGlvbiBDKHQsZSxuKXt2YXIgbz10LmFicygpO2lmKCEoby5peTw9MCkpe3ZhciBzPXRoaXMuYWJzKCk7aWYocy5peTxvLml5KXJldHVybiBudWxsIT1lJiZlLnN5KDApLHZvaWQobnVsbCE9biYmdGhpcy52eShuKSk7bnVsbD09biYmKG49cigpKTt2YXIgYT1yKCksYz10aGlzLm55LGg9dC5ueSxwPXRoaXMuYXktbShvW28uaXktMV0pO3A+MD8oby55eShwLGEpLHMueXkocCxuKSk6KG8udnkoYSkscy52eShuKSk7dmFyIHU9YS5peSxsPWFbdS0xXTtpZigwIT1sKXt2YXIgZD1sKigxPDx0aGlzLm15KSsodT4xP2FbdS0yXT4+dGhpcy53eTowKSxmPXRoaXMuVHkvZCxnPSgxPDx0aGlzLm15KS9kLHY9MTw8dGhpcy53eSx5PW4uaXksdz15LXUsVD1udWxsPT1lP3IoKTplO2ZvcihhLlN5KHcsVCksbi5ieShUKT49MCYmKG5bbi5peSsrXT0xLG4ucHkoVCxuKSksaS5PTkUuU3kodSxUKSxULnB5KGEsYSk7YS5peTx1OylhW2EuaXkrK109MDtmb3IoOy0tdz49MDspe3ZhciBTPW5bLS15XT09bD90aGlzLnV5Ok1hdGguZmxvb3Ioblt5XSpmKyhuW3ktMV0rdikqZyk7aWYoKG5beV0rPWEuZ3koMCxTLG4sdywwLHUpKTxTKWZvcihhLlN5KHcsVCksbi5weShULG4pO25beV08LS1TOyluLnB5KFQsbil9bnVsbCE9ZSYmKG4uRXkodSxlKSxjIT1oJiZpLlpFUk8ucHkoZSxlKSksbi5peT11LG4uaHkoKSxwPjAmJm4uSXkocCxuKSxjPDAmJmkuWkVSTy5weShuLG4pfX19ZnVuY3Rpb24gTyh0KXt2YXIgZT1yKCk7cmV0dXJuIHRoaXMuYWJzKCkuUnkodCxudWxsLGUpLHRoaXMubnk8MCYmZS5ieShpLlpFUk8pPjAmJnQucHkoZSxlKSxlfWZ1bmN0aW9uIFAodCl7dGhpcy5pPXR9ZnVuY3Rpb24gQSh0KXtyZXR1cm4gdC5ueTwwfHx0LmJ5KHRoaXMuaSk+PTA/dC5reSh0aGlzLmkpOnR9ZnVuY3Rpb24gTih0KXtyZXR1cm4gdH1mdW5jdGlvbiB4KHQpe3QuUnkodGhpcy5pLG51bGwsdCl9ZnVuY3Rpb24gQih0LGUsaSl7dC5DeShlLGkpLHRoaXMucmVkdWNlKGkpfWZ1bmN0aW9uIEYodCxlKXt0Lk95KGUpLHRoaXMucmVkdWNlKGUpfWZ1bmN0aW9uIF8oKXtpZih0aGlzLml5PDEpcmV0dXJuIDA7dmFyIHQ9dGhpc1swXTtpZigwPT0oMSZ0KSlyZXR1cm4gMDt2YXIgZT0zJnQ7cmV0dXJuIGU9ZSooMi0oMTUmdCkqZSkmMTUsZT1lKigyLSgyNTUmdCkqZSkmMjU1LGU9ZSooMi0oKDY1NTM1JnQpKmUmNjU1MzUpKSY2NTUzNSxlPWUqKDItdCplJXRoaXMub3kpJXRoaXMub3ksZT4wP3RoaXMub3ktZTotZX1mdW5jdGlvbiBEKHQpe3RoaXMuaT10LHRoaXMuUHk9dC5BeSgpLHRoaXMuTnk9MzI3NjcmdGhpcy5QeSx0aGlzLnh5PXRoaXMuUHk+PjE1LHRoaXMuQnk9KDE8PHQuYXktMTUpLTEsdGhpcy5GeT0yKnQuaXl9ZnVuY3Rpb24gSCh0KXt2YXIgZT1yKCk7cmV0dXJuIHQuYWJzKCkuU3kodGhpcy5pLml5LGUpLGUuUnkodGhpcy5pLG51bGwsZSksdC5ueTwwJiZlLmJ5KGkuWkVSTyk+MCYmdGhpcy5pLnB5KGUsZSksZX1mdW5jdGlvbiBMKHQpe3ZhciBlPXIoKTtyZXR1cm4gdC52eShlKSx0aGlzLnJlZHVjZShlKSxlfWZ1bmN0aW9uIE0odCl7Zm9yKDt0Lml5PD10aGlzLkZ5Oyl0W3QuaXkrK109MDtmb3IodmFyIGU9MDtlPHRoaXMuaS5peTsrK2Upe3ZhciBpPTMyNzY3JnRbZV0scj1pKnRoaXMuTnkrKChpKnRoaXMueHkrKHRbZV0+PjE1KSp0aGlzLk55JnRoaXMuQnkpPDwxNSkmdC51eTtmb3IoaT1lK3RoaXMuaS5peSx0W2ldKz10aGlzLmkuZ3koMCxyLHQsZSwwLHRoaXMuaS5peSk7dFtpXT49dC5veTspdFtpXS09dC5veSx0WysraV0rK310Lmh5KCksdC5FeSh0aGlzLmkuaXksdCksdC5ieSh0aGlzLmkpPj0wJiZ0LnB5KHRoaXMuaSx0KX1mdW5jdGlvbiBqKHQsZSl7dC5PeShlKSx0aGlzLnJlZHVjZShlKX1mdW5jdGlvbiBVKHQsZSxpKXt0LkN5KGUsaSksdGhpcy5yZWR1Y2UoaSl9ZnVuY3Rpb24gVigpe3JldHVybiAwPT0odGhpcy5peT4wPzEmdGhpc1swXTp0aGlzLm55KX1mdW5jdGlvbiBRKHQsZSl7aWYodD40Mjk0OTY3Mjk1fHx0PDEpcmV0dXJuIGkuT05FO3ZhciBuPXIoKSxvPXIoKSxzPWUuX3kodGhpcyksYT1tKHQpLTE7Zm9yKHMudnkobik7LS1hPj0wOylpZihlLkR5KG4sbyksKHQmMTw8YSk+MCllLkh5KG8scyxuKTtlbHNle3ZhciBjPW47bj1vLG89Y31yZXR1cm4gZS5MeShuKX1mdW5jdGlvbiBxKHQsZSl7dmFyIGk7cmV0dXJuIGk9dDwyNTZ8fGUuTXkoKT9uZXcgUChlKTpuZXcgRChlKSx0aGlzLmV4cCh0LGkpfWZ1bmN0aW9uIEoodCl7dmFyIGUsaSxyLG49XCJcIixvPTA7Zm9yKGU9MDtlPHQubGVuZ3RoJiZ0LmNoYXJBdChlKSE9eHQ7KytlKXI9TnQuaW5kZXhPZih0LmNoYXJBdChlKSkscjwwfHwoMD09bz8obis9YShyPj4yKSxpPTMmcixvPTEpOjE9PW8/KG4rPWEoaTw8MnxyPj40KSxpPTE1JnIsbz0yKToyPT1vPyhuKz1hKGkpLG4rPWEocj4+MiksaT0zJnIsbz0zKToobis9YShpPDwyfHI+PjQpLG4rPWEoMTUmciksbz0wKSk7cmV0dXJuIDE9PW8mJihuKz1hKGk8PDIpKSxufWZ1bmN0aW9uIEsodCl7dmFyIGUsaT1KKHQpLHI9bmV3IEFycmF5O2ZvcihlPTA7MiplPGkubGVuZ3RoOysrZSlyW2VdPXBhcnNlSW50KGkuc3Vic3RyaW5nKDIqZSwyKmUrMiksMTYpO3JldHVybiByfS8qISAoYykgVG9tIFd1IHwgaHR0cDovL3d3dy1jcy1zdHVkZW50cy5zdGFuZm9yZC5lZHUvfnRqdy9qc2JuL1xuICovXG4gIGZ1bmN0aW9uIEcodCxlKXtyZXR1cm4gbmV3IGkodCxlKX1mdW5jdGlvbiB6KHQsZSl7aWYoZTx0Lmxlbmd0aCsxMSlyZXR1cm4gYWxlcnQoXCJNZXNzYWdlIHRvbyBsb25nIGZvciBSU0FcIiksbnVsbDtmb3IodmFyIHI9bmV3IEFycmF5LG49dC5sZW5ndGgtMTtuPj0wJiZlPjA7KXt2YXIgbz10LmNoYXJDb2RlQXQobi0tKTtvPDEyOD9yWy0tZV09bzpvPjEyNyYmbzwyMDQ4PyhyWy0tZV09NjMmb3wxMjgsclstLWVdPW8+PjZ8MTkyKTooclstLWVdPTYzJm98MTI4LHJbLS1lXT1vPj42JjYzfDEyOCxyWy0tZV09bz4+MTJ8MjI0KX1yWy0tZV09MDtmb3IodmFyIHM9bmV3IFNlY3VyZVJhbmRvbSxhPW5ldyBBcnJheTtlPjI7KXtmb3IoYVswXT0wOzA9PWFbMF07KXMubmV4dEJ5dGVzKGEpO3JbLS1lXT1hWzBdfXJldHVybiByWy0tZV09MixyWy0tZV09MCxuZXcgaShyKX1mdW5jdGlvbiBXKHQsZSxpKXtmb3IodmFyIHI9XCJcIixuPTA7ci5sZW5ndGg8ZTspcis9aShTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZyx0LmNvbmNhdChbKDQyNzgxOTAwODAmbik+PjI0LCgxNjcxMTY4MCZuKT4+MTYsKDY1MjgwJm4pPj44LDI1NSZuXSkpKSxuKz0xO3JldHVybiByfWZ1bmN0aW9uICQodCxlLHIpe2lmKHQubGVuZ3RoKzIqQnQrMj5lKXRocm93XCJNZXNzYWdlIHRvbyBsb25nIGZvciBSU0FcIjt2YXIgbixvPVwiXCI7Zm9yKG49MDtuPGUtdC5sZW5ndGgtMipCdC0yO24rPTEpbys9XCJcXDBcIjt2YXIgcz1yc3RyX3NoYTEoXCJcIikrbytcIlx1MDAwMVwiK3QsYT1uZXcgQXJyYXkoQnQpOyhuZXcgU2VjdXJlUmFuZG9tKS5uZXh0Qnl0ZXMoYSk7dmFyIGM9VyhhLHMubGVuZ3RoLHJ8fHJzdHJfc2hhMSksaD1bXTtmb3Iobj0wO248cy5sZW5ndGg7bis9MSloW25dPXMuY2hhckNvZGVBdChuKV5jLmNoYXJDb2RlQXQobik7dmFyIHA9VyhoLGEubGVuZ3RoLHJzdHJfc2hhMSksdT1bMF07Zm9yKG49MDtuPGEubGVuZ3RoO24rPTEpdVtuKzFdPWFbbl1ecC5jaGFyQ29kZUF0KG4pO3JldHVybiBuZXcgaSh1LmNvbmNhdChoKSl9ZnVuY3Rpb24gWSgpe3RoaXMubj1udWxsLHRoaXMuZT0wLHRoaXMuZD1udWxsLHRoaXMubz1udWxsLHRoaXMuank9bnVsbCx0aGlzLlV5PW51bGwsdGhpcy5WeT1udWxsLHRoaXMuUXk9bnVsbH1mdW5jdGlvbiBYKHQsZSl7dGhpcy5xeT0hMCxcInN0cmluZ1wiIT10eXBlb2YgdD8odGhpcy5uPXQsdGhpcy5lPWUpOm51bGwhPXQmJm51bGwhPWUmJnQubGVuZ3RoPjAmJmUubGVuZ3RoPjA/KHRoaXMubj1HKHQsMTYpLHRoaXMuZT1wYXJzZUludChlLDE2KSk6YWxlcnQoXCJJbnZhbGlkIFJTQSBwdWJsaWMga2V5XCIpfWZ1bmN0aW9uIFoodCl7cmV0dXJuIHQuSnkodGhpcy5lLHRoaXMubil9ZnVuY3Rpb24gdHQodCl7dmFyIGU9eih0LHRoaXMubi5LeSgpKzc+PjMpO2lmKG51bGw9PWUpcmV0dXJuIG51bGw7dmFyIGk9dGhpcy5HeShlKTtpZihudWxsPT1pKXJldHVybiBudWxsO3ZhciByPWkudG9TdHJpbmcoMTYpO3JldHVybiAwPT0oMSZyLmxlbmd0aCk/cjpcIjBcIityfWZ1bmN0aW9uIGV0KHQsZSl7dmFyIGk9JCh0LHRoaXMubi5LeSgpKzc+PjMsZSk7aWYobnVsbD09aSlyZXR1cm4gbnVsbDt2YXIgcj10aGlzLkd5KGkpO2lmKG51bGw9PXIpcmV0dXJuIG51bGw7dmFyIG49ci50b1N0cmluZygxNik7cmV0dXJuIDA9PSgxJm4ubGVuZ3RoKT9uOlwiMFwiK259ZnVuY3Rpb24gaXQodCxlKXtmb3IodmFyIGk9XCJcIixyPWUvNC10Lmxlbmd0aCxuPTA7bjxyO24rKylpKz1cIjBcIjtyZXR1cm4gaSt0fWZ1bmN0aW9uIHJ0KHQsZSl7dmFyIGk9ZnVuY3Rpb24odCl7cmV0dXJuIEtKVVIuY3J5cHRvLld5Lnp5KHQsZSl9LHI9aSh0KTtyZXR1cm4gdGhpcy4keShyLGUpfWZ1bmN0aW9uIG50KHQsZSl7dmFyIGk9S0pVUi5jcnlwdG8uV3kuWXkodCxlLHRoaXMubi5LeSgpKSxyPUcoaSwxNiksbj10aGlzLmRvUHJpdmF0ZShyKSxvPW4udG9TdHJpbmcoMTYpO3JldHVybiBpdChvLHRoaXMubi5LeSgpKX1mdW5jdGlvbiBvdCh0KXtyZXR1cm4gcnQuY2FsbCh0aGlzLHQsXCJzaGExXCIpfWZ1bmN0aW9uIHN0KHQpe3JldHVybiBydC5jYWxsKHRoaXMsdCxcInNoYTI1NlwiKX1mdW5jdGlvbiBhdCh0LGUsaSl7Zm9yKHZhciByPVwiXCIsbj0wO3IubGVuZ3RoPGU7KXIrPWhleHRvcnN0cihpKHJzdHJ0b2hleCh0K1N0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLFsoNDI3ODE5MDA4MCZuKT4+MjQsKDE2NzExNjgwJm4pPj4xNiwoNjUyODAmbik+PjgsMjU1Jm5dKSkpKSxuKz0xO3JldHVybiByfWZ1bmN0aW9uIGN0KHQsZSxpKXt2YXIgcj1mdW5jdGlvbih0KXtyZXR1cm4gS0pVUi5jcnlwdG8uV3kuWHkodCxlKX0sbj1yKHJzdHJ0b2hleCh0KSk7cmV0dXJuIHZvaWQgMD09PWkmJihpPS0xKSx0aGlzLlp5KG4sZSxpKX1mdW5jdGlvbiBodCh0LGUscil7dmFyIG4sbz1oZXh0b3JzdHIodCkscz1vLmxlbmd0aCxhPXRoaXMubi5LeSgpLTEsYz1NYXRoLmNlaWwoYS84KSxoPWZ1bmN0aW9uKHQpe3JldHVybiBLSlVSLmNyeXB0by5XeS5YeSh0LGUpfTtpZihyPT09LTF8fHZvaWQgMD09PXIpcj1zO2Vsc2UgaWYocj09PS0yKXI9Yy1zLTI7ZWxzZSBpZihyPC0yKXRocm93XCJpbnZhbGlkIHNhbHQgbGVuZ3RoXCI7aWYoYzxzK3IrMil0aHJvd1wiZGF0YSB0b28gbG9uZ1wiO3ZhciBwPVwiXCI7cj4wJiYocD1uZXcgQXJyYXkociksKG5ldyBTZWN1cmVSYW5kb20pLm5leHRCeXRlcyhwKSxwPVN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLHApKTt2YXIgdT1oZXh0b3JzdHIoaChyc3RydG9oZXgoXCJcXDBcXDBcXDBcXDBcXDBcXDBcXDBcXDBcIitvK3ApKSksbD1bXTtmb3Iobj0wO248Yy1yLXMtMjtuKz0xKWxbbl09MDt2YXIgZD1TdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZyxsKStcIlx1MDAwMVwiK3AsZj1hdCh1LGQubGVuZ3RoLGgpLGc9W107Zm9yKG49MDtuPGQubGVuZ3RoO24rPTEpZ1tuXT1kLmNoYXJDb2RlQXQobileZi5jaGFyQ29kZUF0KG4pO3ZhciB2PTY1MjgwPj44KmMtYSYyNTU7Zm9yKGdbMF0mPX52LG49MDtuPHM7bisrKWcucHVzaCh1LmNoYXJDb2RlQXQobikpO3JldHVybiBnLnB1c2goMTg4KSxpdCh0aGlzLmRvUHJpdmF0ZShuZXcgaShnKSkudG9TdHJpbmcoMTYpLHRoaXMubi5LeSgpKX1mdW5jdGlvbiBwdCh0LGUsaSl7dmFyIHI9bmV3IFk7ci5xaChlLGkpO3ZhciBuPXIuR3kodCk7cmV0dXJuIG59ZnVuY3Rpb24gdXQodCxlLGkpe3ZhciByPXB0KHQsZSxpKSxuPXIudG9TdHJpbmcoMTYpLnJlcGxhY2UoL14xZiswMC8sXCJcIik7cmV0dXJuIG59ZnVuY3Rpb24gbHQodCl7Zm9yKHZhciBlIGluIEtKVVIuY3J5cHRvLld5LnRtKXt2YXIgaT1LSlVSLmNyeXB0by5XeS50bVtlXSxyPWkubGVuZ3RoO2lmKHQuc3Vic3RyaW5nKDAscik9PWkpe3ZhciBuPVtlLHQuc3Vic3RyaW5nKHIpXTtyZXR1cm4gbn19cmV0dXJuW119ZnVuY3Rpb24gZHQodCxlLGkscil7dmFyIG49dXQoZSxpLHIpLG89bHQobik7aWYoMD09by5sZW5ndGgpcmV0dXJuITE7dmFyIHM9b1swXSxhPW9bMV0sYz1mdW5jdGlvbih0KXtyZXR1cm4gS0pVUi5jcnlwdG8uV3kuenkodCxzKX0saD1jKHQpO3JldHVybiBhPT1ofWZ1bmN0aW9uIGZ0KHQsZSl7dmFyIGk9Ryh0LDE2KSxyPWR0KGUsaSx0aGlzLm4udG9TdHJpbmcoMTYpLHRoaXMuZS50b1N0cmluZygxNikpO3JldHVybiByfWZ1bmN0aW9uIGd0KHQsZSl7ZT1lLnJlcGxhY2UoRnQsXCJcIiksZT1lLnJlcGxhY2UoL1sgXFxuXSsvZyxcIlwiKTt2YXIgaT1HKGUsMTYpO2lmKGkuS3koKT50aGlzLm4uS3koKSlyZXR1cm4gMDt2YXIgcj10aGlzLkd5KGkpLG49ci50b1N0cmluZygxNikucmVwbGFjZSgvXjFmKzAwLyxcIlwiKSxvPWx0KG4pO2lmKDA9PW8ubGVuZ3RoKXJldHVybiExO3ZhciBzPW9bMF0sYT1vWzFdLGM9ZnVuY3Rpb24odCl7cmV0dXJuIEtKVVIuY3J5cHRvLld5Lnp5KHQscyl9LGg9Yyh0KTtyZXR1cm4gYT09aH1mdW5jdGlvbiB2dCh0LGUpe2U9ZS5yZXBsYWNlKEZ0LFwiXCIpLGU9ZS5yZXBsYWNlKC9bIFxcbl0rL2csXCJcIik7dmFyIGk9RyhlLDE2KTtpZihpLkt5KCk+dGhpcy5uLkt5KCkpcmV0dXJuIDA7dmFyIHI9dGhpcy5HeShpKSxuPXIudG9TdHJpbmcoMTYpLnJlcGxhY2UoL14xZiswMC8sXCJcIiksbz1sdChuKTtpZigwPT1vLmxlbmd0aClyZXR1cm4hMTt2YXIgcz0ob1swXSxvWzFdKTtyZXR1cm4gcz09dH1mdW5jdGlvbiB5dCh0LGUsaSxyKXt2YXIgbj1mdW5jdGlvbih0KXtyZXR1cm4gS0pVUi5jcnlwdG8uV3kuWHkodCxpKX0sbz1uKHJzdHJ0b2hleCh0KSk7cmV0dXJuIHZvaWQgMD09PXImJihyPS0xKSx0aGlzLmVtKG8sZSxpLHIpfWZ1bmN0aW9uIG10KHQsZSxyLG4pe3ZhciBvPW5ldyBpKGUsMTYpO2lmKG8uS3koKT50aGlzLm4uS3koKSlyZXR1cm4hMTt2YXIgcyxhPWZ1bmN0aW9uKHQpe3JldHVybiBLSlVSLmNyeXB0by5XeS5YeSh0LHIpfSxjPWhleHRvcnN0cih0KSxoPWMubGVuZ3RoLHA9dGhpcy5uLkt5KCktMSx1PU1hdGguY2VpbChwLzgpO2lmKG49PT0tMXx8dm9pZCAwPT09biluPWg7ZWxzZSBpZihuPT09LTIpbj11LWgtMjtlbHNlIGlmKG48LTIpdGhyb3dcImludmFsaWQgc2FsdCBsZW5ndGhcIjtpZih1PGgrbisyKXRocm93XCJkYXRhIHRvbyBsb25nXCI7dmFyIGw9dGhpcy5HeShvKS50b0J5dGVBcnJheSgpO2ZvcihzPTA7czxsLmxlbmd0aDtzKz0xKWxbc10mPTI1NTtmb3IoO2wubGVuZ3RoPHU7KWwudW5zaGlmdCgwKTtpZigxODghPT1sW3UtMV0pdGhyb3dcImVuY29kZWQgbWVzc2FnZSBkb2VzIG5vdCBlbmQgaW4gMHhiY1wiO2w9U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsbCk7dmFyIGQ9bC5zdWJzdHIoMCx1LWgtMSksZj1sLnN1YnN0cihkLmxlbmd0aCxoKSxnPTY1MjgwPj44KnUtcCYyNTU7aWYoMCE9PShkLmNoYXJDb2RlQXQoMCkmZykpdGhyb3dcImJpdHMgYmV5b25kIGtleXNpemUgbm90IHplcm9cIjt2YXIgdj1hdChmLGQubGVuZ3RoLGEpLHk9W107Zm9yKHM9MDtzPGQubGVuZ3RoO3MrPTEpeVtzXT1kLmNoYXJDb2RlQXQocyledi5jaGFyQ29kZUF0KHMpO3lbMF0mPX5nO3ZhciBtPXUtaC1uLTI7Zm9yKHM9MDtzPG07cys9MSlpZigwIT09eVtzXSl0aHJvd1wibGVmdG1vc3Qgb2N0ZXRzIG5vdCB6ZXJvXCI7aWYoMSE9PXlbbV0pdGhyb3dcIjB4MDEgbWFya2VyIG5vdCBmb3VuZFwiO3JldHVybiBmPT09aGV4dG9yc3RyKGEocnN0cnRvaGV4KFwiXFwwXFwwXFwwXFwwXFwwXFwwXFwwXFwwXCIrYytTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZyx5LnNsaWNlKC1uKSkpKSl9dmFyIHd0PXt9O3d0LnVzZXJBZ2VudD0hMTt2YXIgVHQ9e307aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFN0fHwhU3QpdmFyIFN0PXt9O1N0LmltPWZ1bmN0aW9uKCl7dmFyIHQsZSxpLHI9YXJndW1lbnRzLG49bnVsbDtmb3IodD0wO3Q8ci5sZW5ndGg7dCs9MSlmb3IoaT0oXCJcIityW3RdKS5zcGxpdChcIi5cIiksbj1TdCxlPVwiWUFIT09cIj09aVswXT8xOjA7ZTxpLmxlbmd0aDtlKz0xKW5baVtlXV09bltpW2VdXXx8e30sbj1uW2lbZV1dO3JldHVybiBufSxTdC5sb2c9ZnVuY3Rpb24odCxlLGkpe3ZhciByPVN0LndpZGdldC5Mb2dnZXI7cmV0dXJuISghcnx8IXIubG9nKSYmci5sb2codCxlLGkpfSxTdC5yZWdpc3Rlcj1mdW5jdGlvbih0LGUsaSl7dmFyIHIsbixvLHMsYSxjPVN0Lk90LnJtO2ZvcihjW3RdfHwoY1t0XT17bm06W10sb206W119KSxyPWNbdF0sbj1pLnZlcnNpb24sbz1pLnBwLHM9U3QuT3Quemksci5uYW1lPXQsci52ZXJzaW9uPW4sci5wcD1vLHIubm0ucHVzaChuKSxyLm9tLnB1c2gobyksci5zbT1lLGE9MDthPHMubGVuZ3RoO2ErPTEpc1thXShyKTtlPyhlLlZFUlNJT049bixlLmFtPW8pOlN0LmxvZyhcIm1haW5DbGFzcyBpcyB1bmRlZmluZWQgZm9yIG1vZHVsZSBcIit0LFwid2FyblwiKX0sU3QuT3Q9U3QuT3R8fHtybTpbXSx6aTpbXX0sU3QuT3QuZ2V0VmVyc2lvbj1mdW5jdGlvbih0KXtyZXR1cm4gU3QuT3Qucm1bdF18fG51bGx9LFN0Lk90LmNtPWZ1bmN0aW9uKHQpe3ZhciBlLGk9ZnVuY3Rpb24odCl7dmFyIGU9MDtyZXR1cm4gcGFyc2VGbG9hdCh0LnJlcGxhY2UoL1xcLi9nLGZ1bmN0aW9uKCl7cmV0dXJuIDE9PWUrKz9cIlwiOlwiLlwifSkpfSxyPXd0LG49e2htOjAsb3BlcmE6MCxwbTowLHVtOjAsY2hyb21lOjAsbG06bnVsbCxkbTowLGZtOjAsZ206MCx2bTowLHltOm51bGwsbW06MCx3bTowLFRtOnImJnIuY2FqYVZlcnNpb24sU206ITEsb3M6bnVsbH0sbz10fHx3dCYmd3QudXNlckFnZW50LHM9VHQmJlR0LmxvY2F0aW9uLGE9cyYmcy5ocmVmO3JldHVybiBuLlNtPWEmJjA9PT1hLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihcImh0dHBzXCIpLG8mJigvd2luZG93c3x3aW4zMi9pLnRlc3Qobyk/bi5vcz1cIndpbmRvd3NcIjovbWFjaW50b3NoL2kudGVzdChvKT9uLm9zPVwibWFjaW50b3NoXCI6L3JoaW5vL2kudGVzdChvKSYmKG4ub3M9XCJyaGlub1wiKSwvS0hUTUwvLnRlc3QobykmJihuLnVtPTEpLGU9by5tYXRjaCgvQXBwbGVXZWJLaXRcXC8oW15cXHNdKikvKSxlJiZlWzFdJiYobi51bT1pKGVbMV0pLC8gTW9iaWxlXFwvLy50ZXN0KG8pPyhuLmxtPVwiQXBwbGVcIixlPW8ubWF0Y2goL09TIChbXlxcc10qKS8pLGUmJmVbMV0mJihlPWkoZVsxXS5yZXBsYWNlKFwiX1wiLFwiLlwiKSkpLG4ueW09ZSxuLmZtPW4udm09bi5nbT0wLGU9by5tYXRjaCgvaVBhZHxpUG9kfGlQaG9uZS8pLGUmJmVbMF0mJihuW2VbMF0udG9Mb3dlckNhc2UoKV09bi55bSkpOihlPW8ubWF0Y2goL05va2lhTlteXFwvXSp8QW5kcm9pZCBcXGRcXC5cXGR8d2ViT1NcXC9cXGRcXC5cXGQvKSxlJiYobi5sbT1lWzBdKSwvd2ViT1MvLnRlc3QobykmJihuLmxtPVwiV2ViT1NcIixlPW8ubWF0Y2goL3dlYk9TXFwvKFteXFxzXSopOy8pLGUmJmVbMV0mJihuLndtPWkoZVsxXSkpKSwvIEFuZHJvaWQvLnRlc3QobykmJihuLmxtPVwiQW5kcm9pZFwiLGU9by5tYXRjaCgvQW5kcm9pZCAoW15cXHNdKik7LyksZSYmZVsxXSYmKG4ubW09aShlWzFdKSkpKSxlPW8ubWF0Y2goL0Nocm9tZVxcLyhbXlxcc10qKS8pLGUmJmVbMV0/bi5jaHJvbWU9aShlWzFdKTooZT1vLm1hdGNoKC9BZG9iZUFJUlxcLyhbXlxcc10qKS8pLGUmJihuLmRtPWVbMF0pKSksbi51bXx8KGU9by5tYXRjaCgvT3BlcmFbXFxzXFwvXShbXlxcc10qKS8pLGUmJmVbMV0/KG4ub3BlcmE9aShlWzFdKSxlPW8ubWF0Y2goL1ZlcnNpb25cXC8oW15cXHNdKikvKSxlJiZlWzFdJiYobi5vcGVyYT1pKGVbMV0pKSxlPW8ubWF0Y2goL09wZXJhIE1pbmlbXjtdKi8pLGUmJihuLmxtPWVbMF0pKTooZT1vLm1hdGNoKC9NU0lFXFxzKFteO10qKS8pLGUmJmVbMV0/bi5obT1pKGVbMV0pOihlPW8ubWF0Y2goL0dlY2tvXFwvKFteXFxzXSopLyksZSYmKG4ucG09MSxlPW8ubWF0Y2goL3J2OihbXlxcc1xcKV0qKS8pLGUmJmVbMV0mJihuLnBtPWkoZVsxXSkpKSkpKSksbn0sU3QuT3QudGY9U3QuT3QuY20oKSxmdW5jdGlvbigpe2lmKFN0LmltKFwidXRpbFwiLFwid2lkZ2V0XCIsXCJleGFtcGxlXCIpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBZQUhPT19jb25maWcpe3ZhciB0LGU9WUFIT09fY29uZmlnLmxpc3RlbmVyLGk9U3QuT3Quemkscj0hMDtpZihlKXtmb3IodD0wO3Q8aS5sZW5ndGg7dCsrKWlmKGlbdF09PWUpe3I9ITE7YnJlYWt9ciYmaS5wdXNoKGUpfX19KCksU3QubGFuZz1TdC5sYW5nfHx7fSxmdW5jdGlvbigpe3ZhciB0PVN0LmxhbmcsZT1PYmplY3QucHJvdG90eXBlLGk9XCJbb2JqZWN0IEFycmF5XVwiLHI9XCJbb2JqZWN0IEZ1bmN0aW9uXVwiLG49XCJbb2JqZWN0IE9iamVjdF1cIixvPVtdLHM9e2JtOlwiJmFtcDtcIixFbTpcIiZsdDtcIixJbTpcIiZndDtcIixSbTpcIiZxdW90O1wiLGttOlwiJiN4Mjc7XCIsSnA6XCImI3gyRjtcIixDbTpcIiYjeDYwO1wifSxhPVtcInRvU3RyaW5nXCIsXCJ2YWx1ZU9mXCJdLGM9e2lzQXJyYXk6ZnVuY3Rpb24odCl7cmV0dXJuIGUudG9TdHJpbmcuYXBwbHkodCk9PT1pfSxPbTpmdW5jdGlvbih0KXtyZXR1cm5cImJvb2xlYW5cIj09dHlwZW9mIHR9LFBtOmZ1bmN0aW9uKHQpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIHR8fGUudG9TdHJpbmcuYXBwbHkodCk9PT1yfSxBbTpmdW5jdGlvbih0KXtyZXR1cm4gbnVsbD09PXR9LE5tOmZ1bmN0aW9uKHQpe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiB0JiZpc0Zpbml0ZSh0KX0sb3Y6ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJihcIm9iamVjdFwiPT10eXBlb2YgZXx8dC5QbShlKSl8fCExfSx4bTpmdW5jdGlvbih0KXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgdH0sQm06ZnVuY3Rpb24odCl7cmV0dXJuXCJ1bmRlZmluZWRcIj09dHlwZW9mIHR9LEZtOlN0Lk90LnRmLmhtP2Z1bmN0aW9uKGkscil7dmFyIG4sbyxzO2ZvcihuPTA7bjxhLmxlbmd0aDtuKz0xKW89YVtuXSxzPXJbb10sdC5QbShzKSYmcyE9ZVtvXSYmKGlbb109cyl9OmZ1bmN0aW9uKCl7fSxfbTpmdW5jdGlvbih0KXtyZXR1cm4gdC5yZXBsYWNlKC9bJjw+XCInXFwvYF0vZyxmdW5jdGlvbih0KXtyZXR1cm4gc1t0XX0pfSxleHRlbmQ6ZnVuY3Rpb24oaSxyLG4pe2lmKCFyfHwhaSl0aHJvdyBuZXcgRXJyb3IoXCJleHRlbmQgZmFpbGVkLCBwbGVhc2UgY2hlY2sgdGhhdCBhbGwgZGVwZW5kZW5jaWVzIGFyZSBpbmNsdWRlZC5cIik7dmFyIG8scz1mdW5jdGlvbigpe307aWYocy5wcm90b3R5cGU9ci5wcm90b3R5cGUsaS5wcm90b3R5cGU9bmV3IHMsaS5wcm90b3R5cGUuY29uc3RydWN0b3I9aSxpLkRtPXIucHJvdG90eXBlLHIucHJvdG90eXBlLmNvbnN0cnVjdG9yPT1lLmNvbnN0cnVjdG9yJiYoci5wcm90b3R5cGUuY29uc3RydWN0b3I9ciksbil7Zm9yKG8gaW4gbil0Lmhhc093blByb3BlcnR5KG4sbykmJihpLnByb3RvdHlwZVtvXT1uW29dKTt0LkZtKGkucHJvdG90eXBlLG4pfX0sSG06ZnVuY3Rpb24oZSxpKXtpZighaXx8IWUpdGhyb3cgbmV3IEVycm9yKFwiQWJzb3JiIGZhaWxlZCwgdmVyaWZ5IGRlcGVuZGVuY2llcy5cIik7dmFyIHIsbixvPWFyZ3VtZW50cyxzPW9bMl07aWYocyYmcyE9PSEwKWZvcihyPTI7cjxvLmxlbmd0aDtyKz0xKWVbb1tyXV09aVtvW3JdXTtlbHNle2ZvcihuIGluIGkpIXMmJm4gaW4gZXx8KGVbbl09aVtuXSk7dC5GbShlLGkpfXJldHVybiBlfSxMbTpmdW5jdGlvbihlLGkpe2lmKCFpfHwhZSl0aHJvdyBuZXcgRXJyb3IoXCJBdWdtZW50IGZhaWxlZCwgdmVyaWZ5IGRlcGVuZGVuY2llcy5cIik7dmFyIHIsbj1bZS5wcm90b3R5cGUsaS5wcm90b3R5cGVdO2ZvcihyPTI7cjxhcmd1bWVudHMubGVuZ3RoO3IrPTEpbi5wdXNoKGFyZ3VtZW50c1tyXSk7cmV0dXJuIHQuSG0uYXBwbHkodGhpcyxuKSxlfSxkdW1wOmZ1bmN0aW9uKGUsaSl7dmFyIHIsbixvPVtdLHM9XCJ7Li4ufVwiLGE9XCJmKCl7Li4ufVwiLGM9XCIsIFwiLGg9XCIgPT4gXCI7aWYoIXQub3YoZSkpcmV0dXJuIGUrXCJcIjtpZihlIGluc3RhbmNlb2YgRGF0ZXx8XCJub2RlVHlwZVwiaW4gZSYmXCJ0YWdOYW1lXCJpbiBlKXJldHVybiBlO2lmKHQuUG0oZSkpcmV0dXJuIGE7aWYoaT10Lk5tKGkpP2k6Myx0LmlzQXJyYXkoZSkpe2ZvcihvLnB1c2goXCJbXCIpLHI9MCxuPWUubGVuZ3RoO3I8bjtyKz0xKXQub3YoZVtyXSk/by5wdXNoKGk+MD90LmR1bXAoZVtyXSxpLTEpOnMpOm8ucHVzaChlW3JdKSxvLnB1c2goYyk7by5sZW5ndGg+MSYmby5wb3AoKSxvLnB1c2goXCJdXCIpfWVsc2V7by5wdXNoKFwie1wiKTtmb3IociBpbiBlKXQuaGFzT3duUHJvcGVydHkoZSxyKSYmKG8ucHVzaChyK2gpLHQub3YoZVtyXSk/by5wdXNoKGk+MD90LmR1bXAoZVtyXSxpLTEpOnMpOm8ucHVzaChlW3JdKSxvLnB1c2goYykpO28ubGVuZ3RoPjEmJm8ucG9wKCksby5wdXNoKFwifVwiKX1yZXR1cm4gby5qb2luKFwiXCIpfSxNbTpmdW5jdGlvbihlLGkscixvKXtmb3IodmFyIHMsYSxjLGgscCx1LGwsZCxmLGc9W10sdj1lLmxlbmd0aCx5PVwiZHVtcFwiLG09XCIgXCIsdz1cIntcIixUPVwifVwiOyhzPWUubGFzdEluZGV4T2Yodyx2KSwhKHM8MCkpJiYoYT1lLmluZGV4T2YoVCxzKSwhKHMrMT5hKSk7KWw9ZS5zdWJzdHJpbmcocysxLGEpLGg9bCx1PW51bGwsYz1oLmluZGV4T2YobSksYz4tMSYmKHU9aC5zdWJzdHJpbmcoYysxKSxoPWguc3Vic3RyaW5nKDAsYykpLHA9aVtoXSxyJiYocD1yKGgscCx1KSksdC5vdihwKT90LmlzQXJyYXkocCk/cD10LmR1bXAocCxwYXJzZUludCh1LDEwKSk6KHU9dXx8XCJcIixkPXUuaW5kZXhPZih5KSxkPi0xJiYodT11LnN1YnN0cmluZyg0KSksZj1wLnRvU3RyaW5nKCkscD1mPT09bnx8ZD4tMT90LmR1bXAocCxwYXJzZUludCh1LDEwKSk6Zik6dC54bShwKXx8dC5ObShwKXx8KHA9XCJ+LVwiK2cubGVuZ3RoK1wiLX5cIixnW2cubGVuZ3RoXT1sKSxlPWUuc3Vic3RyaW5nKDAscykrcCtlLnN1YnN0cmluZyhhKzEpLG89PT0hMSYmKHY9cy0xKTtmb3Iocz1nLmxlbmd0aC0xO3M+PTA7cy09MSllPWUucmVwbGFjZShuZXcgUmVnRXhwKFwifi1cIitzK1wiLX5cIiksXCJ7XCIrZ1tzXStcIn1cIixcImdcIik7cmV0dXJuIGV9LHRyaW06ZnVuY3Rpb24odCl7dHJ5e3JldHVybiB0LnJlcGxhY2UoL15cXHMrfFxccyskL2csXCJcIil9Y2F0Y2goZSl7cmV0dXJuIHR9fSxqbTpmdW5jdGlvbigpe3ZhciBlLGk9e30scj1hcmd1bWVudHMsbj1yLmxlbmd0aDtmb3IoZT0wO2U8bjtlKz0xKXQuSG0oaSxyW2VdLCEwKTtyZXR1cm4gaX0sVW06ZnVuY3Rpb24oZSxpLHIsbixzKXtlPWV8fDAsaT1pfHx7fTt2YXIgYSxjLGg9cixwPW47aWYodC54bShyKSYmKGg9aVtyXSksIWgpdGhyb3cgbmV3IFR5cGVFcnJvcihcIm1ldGhvZCB1bmRlZmluZWRcIik7cmV0dXJuIHQuQm0obil8fHQuaXNBcnJheShwKXx8KHA9W25dKSxhPWZ1bmN0aW9uKCl7aC5hcHBseShpLHB8fG8pfSxjPXM/c2V0SW50ZXJ2YWwoYSxlKTpzZXRUaW1lb3V0KGEsZSkse2ludGVydmFsOnMsY2FuY2VsOmZ1bmN0aW9uKCl7dGhpcy5pbnRlcnZhbD9jbGVhckludGVydmFsKGMpOmNsZWFyVGltZW91dChjKX19fSxWbTpmdW5jdGlvbihlKXtyZXR1cm4gdC5vdihlKXx8dC54bShlKXx8dC5ObShlKXx8dC5PbShlKX19O3QuaGFzT3duUHJvcGVydHk9ZS5oYXNPd25Qcm9wZXJ0eT9mdW5jdGlvbih0LGUpe3JldHVybiB0JiZ0Lmhhc093blByb3BlcnR5JiZ0Lmhhc093blByb3BlcnR5KGUpfTpmdW5jdGlvbihlLGkpe3JldHVybiF0LkJtKGVbaV0pJiZlLmNvbnN0cnVjdG9yLnByb3RvdHlwZVtpXSE9PWVbaV19LGMuSG0odCxjLCEwKSxTdC51dGlsLkxhbmc9dCx0LlFtPXQuTG0sU3QuUW09dC5MbSxTdC5leHRlbmQ9dC5leHRlbmR9KCksU3QucmVnaXN0ZXIoXCJ5YWhvb1wiLFN0LHt2ZXJzaW9uOlwiMi45LjBcIixwcDpcIjI4MDBcIn0pOy8qISBDcnlwdG9KUyB2My4xLjIgY29yZS1maXguanNcbiAgICogY29kZS5nb29nbGUuY29tL3AvY3J5cHRvLWpzXG4gICAqIChjKSAyMDA5LTIwMTMgYnkgSmVmZiBNb3R0LiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICAgKiBjb2RlLmdvb2dsZS5jb20vcC9jcnlwdG8tanMvd2lraS9MaWNlbnNlXG4gICAqIFRISVMgSVMgRklYIG9mICdjb3JlLmpzJyB0byBmaXggSG1hYyBpc3N1ZS5cbiAgICogaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9jcnlwdG8tanMvaXNzdWVzL2RldGFpbD9pZD04NFxuICAgKiBodHRwczovL2NyeXB0by1qcy5nb29nbGVjb2RlLmNvbS9zdm4taGlzdG9yeS9yNjY3L2JyYW5jaGVzLzMueC9zcmMvY29yZS5qc1xuICAgKi9cbiAgdmFyIGJ0PWJ0fHxmdW5jdGlvbih0LGUpe3ZhciBpPXt9LHI9aS5xbT17fSxuPXIuSm09ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybntleHRlbmQ6ZnVuY3Rpb24oZSl7dC5wcm90b3R5cGU9dGhpczt2YXIgaT1uZXcgdDtyZXR1cm4gZSYmaS5LbShlKSxpLmhhc093blByb3BlcnR5KFwiaW5pdFwiKXx8KGkuaW5pdD1mdW5jdGlvbigpe2kuR20uaW5pdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KSxpLmluaXQucHJvdG90eXBlPWksaS5HbT10aGlzLGl9LGNyZWF0ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZXh0ZW5kKCk7cmV0dXJuIHQuaW5pdC5hcHBseSh0LGFyZ3VtZW50cyksdH0saW5pdDpmdW5jdGlvbigpe30sS206ZnVuY3Rpb24odCl7Zm9yKHZhciBlIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShlKSYmKHRoaXNbZV09dFtlXSk7dC5oYXNPd25Qcm9wZXJ0eShcInRvU3RyaW5nXCIpJiYodGhpcy50b1N0cmluZz10LnRvU3RyaW5nKX0sY2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbml0LnByb3RvdHlwZS5leHRlbmQodGhpcyl9fX0oKSxvPXIuem09bi5leHRlbmQoe2luaXQ6ZnVuY3Rpb24odCxpKXt0PXRoaXMuV209dHx8W10saSE9ZT90aGlzLiRtPWk6dGhpcy4kbT00KnQubGVuZ3RofSx0b1N0cmluZzpmdW5jdGlvbih0KXtyZXR1cm4odHx8YSkuc3RyaW5naWZ5KHRoaXMpfSxjb25jYXQ6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5XbSxpPXQuV20scj10aGlzLiRtLG49dC4kbTtpZih0aGlzLmh5KCksciU0KWZvcih2YXIgbz0wO288bjtvKyspe3ZhciBzPWlbbz4+PjJdPj4+MjQtbyU0KjgmMjU1O2VbcitvPj4+Ml18PXM8PDI0LShyK28pJTQqOH1lbHNlIGZvcih2YXIgbz0wO288bjtvKz00KWVbcitvPj4+Ml09aVtvPj4+Ml07cmV0dXJuIHRoaXMuJG0rPW4sdGhpc30saHk6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLldtLGk9dGhpcy4kbTtlW2k+Pj4yXSY9NDI5NDk2NzI5NTw8MzItaSU0KjgsZS5sZW5ndGg9dC5jZWlsKGkvNCl9LGNsb25lOmZ1bmN0aW9uKCl7dmFyIHQ9bi5jbG9uZS5jYWxsKHRoaXMpO3JldHVybiB0LldtPXRoaXMuV20uc2xpY2UoMCksdH0scmFuZG9tOmZ1bmN0aW9uKGUpe2Zvcih2YXIgaT1bXSxyPTA7cjxlO3IrPTQpaS5wdXNoKDQyOTQ5NjcyOTYqdC5yYW5kb20oKXwwKTtyZXR1cm4gbmV3IG8uaW5pdChpLGUpfX0pLHM9aS5ZbT17fSxhPXMuWG09e3N0cmluZ2lmeTpmdW5jdGlvbih0KXtmb3IodmFyIGU9dC5XbSxpPXQuJG0scj1bXSxuPTA7bjxpO24rKyl7dmFyIG89ZVtuPj4+Ml0+Pj4yNC1uJTQqOCYyNTU7ci5wdXNoKChvPj4+NCkudG9TdHJpbmcoMTYpKSxyLnB1c2goKDE1Jm8pLnRvU3RyaW5nKDE2KSl9cmV0dXJuIHIuam9pbihcIlwiKX0scGFyc2U6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXQubGVuZ3RoLGk9W10scj0wO3I8ZTtyKz0yKWlbcj4+PjNdfD1wYXJzZUludCh0LnN1YnN0cihyLDIpLDE2KTw8MjQtciU4KjQ7cmV0dXJuIG5ldyBvLmluaXQoaSxlLzIpfX0sYz1zLlptPXtzdHJpbmdpZnk6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXQuV20saT10LiRtLHI9W10sbj0wO248aTtuKyspe3ZhciBvPWVbbj4+PjJdPj4+MjQtbiU0KjgmMjU1O3IucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKG8pKX1yZXR1cm4gci5qb2luKFwiXCIpfSxwYXJzZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9dC5sZW5ndGgsaT1bXSxyPTA7cjxlO3IrKylpW3I+Pj4yXXw9KDI1NSZ0LmNoYXJDb2RlQXQocikpPDwyNC1yJTQqODtyZXR1cm4gbmV3IG8uaW5pdChpLGUpfX0saD1zLnR3PXtzdHJpbmdpZnk6ZnVuY3Rpb24odCl7dHJ5e3JldHVybiBkZWNvZGVVUklDb21wb25lbnQoZXNjYXBlKGMuc3RyaW5naWZ5KHQpKSl9Y2F0Y2goZSl7dGhyb3cgbmV3IEVycm9yKFwiTWFsZm9ybWVkIFVURi04IGRhdGFcIil9fSxwYXJzZTpmdW5jdGlvbih0KXtyZXR1cm4gYy5wYXJzZSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQodCkpKX19LHA9ci5ldz1uLmV4dGVuZCh7cmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLml3PW5ldyBvLmluaXQsdGhpcy5ydz0wfSxudzpmdW5jdGlvbih0KXtcInN0cmluZ1wiPT10eXBlb2YgdCYmKHQ9aC5wYXJzZSh0KSksdGhpcy5pdy5jb25jYXQodCksdGhpcy5ydys9dC4kbX0sb3c6ZnVuY3Rpb24oZSl7dmFyIGk9dGhpcy5pdyxyPWkuV20sbj1pLiRtLHM9dGhpcy5zdyxhPTQqcyxjPW4vYTtjPWU/dC5jZWlsKGMpOnQubWF4KCgwfGMpLXRoaXMuYXcsMCk7dmFyIGg9YypzLHA9dC5taW4oNCpoLG4pO2lmKGgpe2Zvcih2YXIgdT0wO3U8aDt1Kz1zKXRoaXMuY3cocix1KTt2YXIgbD1yLnNwbGljZSgwLGgpO2kuJG0tPXB9cmV0dXJuIG5ldyBvLmluaXQobCxwKX0sY2xvbmU6ZnVuY3Rpb24oKXt2YXIgdD1uLmNsb25lLmNhbGwodGhpcyk7cmV0dXJuIHQuaXc9dGhpcy5pdy5jbG9uZSgpLHR9LGF3OjB9KSx1PShyLmh3PXAuZXh0ZW5kKHtwdzpuLmV4dGVuZCgpLGluaXQ6ZnVuY3Rpb24odCl7dGhpcy5wdz10aGlzLnB3LmV4dGVuZCh0KSx0aGlzLnJlc2V0KCl9LHJlc2V0OmZ1bmN0aW9uKCl7cC5yZXNldC5jYWxsKHRoaXMpLHRoaXMudXcoKX0sdXBkYXRlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm53KHQpLHRoaXMub3coKSx0aGlzfSxsdzpmdW5jdGlvbih0KXt0JiZ0aGlzLm53KHQpO3ZhciBlPXRoaXMuZHcoKTtyZXR1cm4gZX0sc3c6MTYsZnc6ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUsaSl7cmV0dXJuIG5ldyB0LmluaXQoaSkubHcoZSl9fSxndzpmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSxpKXtyZXR1cm4gbmV3IHUuSE1BQy5pbml0KHQsaSkubHcoZSl9fX0pLGkudnc9e30pO3JldHVybiBpfShNYXRoKTshZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0LGUsaSxyLG4sbyxzKXtyZXR1cm4gdD10KyhlJml8fmUmcikrbitzLCh0PDxvfHQ+Pj4zMi1vKStlfWZ1bmN0aW9uIGkodCxlLGkscixuLG8scyl7cmV0dXJuIHQ9dCsoZSZyfGkmfnIpK24rcywodDw8b3x0Pj4+MzItbykrZX1mdW5jdGlvbiByKHQsZSxpLHIsbixvLHMpe3JldHVybiB0PXQrKGVeaV5yKStuK3MsKHQ8PG98dD4+PjMyLW8pK2V9ZnVuY3Rpb24gbih0LGUsaSxyLG4sbyxzKXtyZXR1cm4gdD10KyhpXihlfH5yKSkrbitzLCh0PDxvfHQ+Pj4zMi1vKStlfWZvcih2YXIgbz1idCxzPW8ucW0sYT1zLnptLGM9cy5odyxzPW8udncsaD1bXSxwPTA7NjQ+cDtwKyspaFtwXT00Mjk0OTY3Mjk2KnQuYWJzKHQuc2luKHArMSkpfDA7cz1zLnl3PWMuZXh0ZW5kKHt1dzpmdW5jdGlvbigpe3RoaXMubXc9bmV3IGEuaW5pdChbMTczMjU4NDE5Myw0MDIzMjMzNDE3LDI1NjIzODMxMDIsMjcxNzMzODc4XSl9LGN3OmZ1bmN0aW9uKHQsbyl7Zm9yKHZhciBzPTA7MTY+cztzKyspe3ZhciBhPW8rcyxjPXRbYV07dFthXT0xNjcxMTkzNSYoYzw8OHxjPj4+MjQpfDQyNzgyNTUzNjAmKGM8PDI0fGM+Pj44KX12YXIgcz10aGlzLm13LldtLGE9dFtvKzBdLGM9dFtvKzFdLHA9dFtvKzJdLHU9dFtvKzNdLGw9dFtvKzRdLGQ9dFtvKzVdLGY9dFtvKzZdLGc9dFtvKzddLHY9dFtvKzhdLHk9dFtvKzldLG09dFtvKzEwXSx3PXRbbysxMV0sVD10W28rMTJdLFM9dFtvKzEzXSxiPXRbbysxNF0sRT10W28rMTVdLEk9c1swXSxSPXNbMV0saz1zWzJdLEM9c1szXSxJPWUoSSxSLGssQyxhLDcsaFswXSksQz1lKEMsSSxSLGssYywxMixoWzFdKSxrPWUoayxDLEksUixwLDE3LGhbMl0pLFI9ZShSLGssQyxJLHUsMjIsaFszXSksST1lKEksUixrLEMsbCw3LGhbNF0pLEM9ZShDLEksUixrLGQsMTIsaFs1XSksaz1lKGssQyxJLFIsZiwxNyxoWzZdKSxSPWUoUixrLEMsSSxnLDIyLGhbN10pLEk9ZShJLFIsayxDLHYsNyxoWzhdKSxDPWUoQyxJLFIsayx5LDEyLGhbOV0pLGs9ZShrLEMsSSxSLG0sMTcsaFsxMF0pLFI9ZShSLGssQyxJLHcsMjIsaFsxMV0pLEk9ZShJLFIsayxDLFQsNyxoWzEyXSksQz1lKEMsSSxSLGssUywxMixoWzEzXSksaz1lKGssQyxJLFIsYiwxNyxoWzE0XSksUj1lKFIsayxDLEksRSwyMixoWzE1XSksST1pKEksUixrLEMsYyw1LGhbMTZdKSxDPWkoQyxJLFIsayxmLDksaFsxN10pLGs9aShrLEMsSSxSLHcsMTQsaFsxOF0pLFI9aShSLGssQyxJLGEsMjAsaFsxOV0pLEk9aShJLFIsayxDLGQsNSxoWzIwXSksQz1pKEMsSSxSLGssbSw5LGhbMjFdKSxrPWkoayxDLEksUixFLDE0LGhbMjJdKSxSPWkoUixrLEMsSSxsLDIwLGhbMjNdKSxJPWkoSSxSLGssQyx5LDUsaFsyNF0pLEM9aShDLEksUixrLGIsOSxoWzI1XSksaz1pKGssQyxJLFIsdSwxNCxoWzI2XSksUj1pKFIsayxDLEksdiwyMCxoWzI3XSksST1pKEksUixrLEMsUyw1LGhbMjhdKSxDPWkoQyxJLFIsayxwLDksaFsyOV0pLGs9aShrLEMsSSxSLGcsMTQsaFszMF0pLFI9aShSLGssQyxJLFQsMjAsaFszMV0pLEk9cihJLFIsayxDLGQsNCxoWzMyXSksQz1yKEMsSSxSLGssdiwxMSxoWzMzXSksaz1yKGssQyxJLFIsdywxNixoWzM0XSksUj1yKFIsayxDLEksYiwyMyxoWzM1XSksST1yKEksUixrLEMsYyw0LGhbMzZdKSxDPXIoQyxJLFIsayxsLDExLGhbMzddKSxrPXIoayxDLEksUixnLDE2LGhbMzhdKSxSPXIoUixrLEMsSSxtLDIzLGhbMzldKSxJPXIoSSxSLGssQyxTLDQsaFs0MF0pLEM9cihDLEksUixrLGEsMTEsaFs0MV0pLGs9cihrLEMsSSxSLHUsMTYsaFs0Ml0pLFI9cihSLGssQyxJLGYsMjMsaFs0M10pLEk9cihJLFIsayxDLHksNCxoWzQ0XSksQz1yKEMsSSxSLGssVCwxMSxoWzQ1XSksaz1yKGssQyxJLFIsRSwxNixoWzQ2XSksUj1yKFIsayxDLEkscCwyMyxoWzQ3XSksST1uKEksUixrLEMsYSw2LGhbNDhdKSxDPW4oQyxJLFIsayxnLDEwLGhbNDldKSxrPW4oayxDLEksUixiLDE1LGhbNTBdKSxSPW4oUixrLEMsSSxkLDIxLGhbNTFdKSxJPW4oSSxSLGssQyxULDYsaFs1Ml0pLEM9bihDLEksUixrLHUsMTAsaFs1M10pLGs9bihrLEMsSSxSLG0sMTUsaFs1NF0pLFI9bihSLGssQyxJLGMsMjEsaFs1NV0pLEk9bihJLFIsayxDLHYsNixoWzU2XSksQz1uKEMsSSxSLGssRSwxMCxoWzU3XSksaz1uKGssQyxJLFIsZiwxNSxoWzU4XSksUj1uKFIsayxDLEksUywyMSxoWzU5XSksST1uKEksUixrLEMsbCw2LGhbNjBdKSxDPW4oQyxJLFIsayx3LDEwLGhbNjFdKSxrPW4oayxDLEksUixwLDE1LGhbNjJdKSxSPW4oUixrLEMsSSx5LDIxLGhbNjNdKTtzWzBdPXNbMF0rSXwwLHNbMV09c1sxXStSfDAsc1syXT1zWzJdK2t8MCxzWzNdPXNbM10rQ3wwfSxkdzpmdW5jdGlvbigpe3ZhciBlPXRoaXMuaXcsaT1lLldtLHI9OCp0aGlzLnJ3LG49OCplLiRtO2lbbj4+PjVdfD0xMjg8PDI0LW4lMzI7dmFyIG89dC5mbG9vcihyLzQyOTQ5NjcyOTYpO2ZvcihpWyhuKzY0Pj4+OTw8NCkrMTVdPTE2NzExOTM1JihvPDw4fG8+Pj4yNCl8NDI3ODI1NTM2MCYobzw8MjR8bz4+PjgpLGlbKG4rNjQ+Pj45PDw0KSsxNF09MTY3MTE5MzUmKHI8PDh8cj4+PjI0KXw0Mjc4MjU1MzYwJihyPDwyNHxyPj4+OCksZS4kbT00KihpLmxlbmd0aCsxKSx0aGlzLm93KCksZT10aGlzLm13LGk9ZS5XbSxyPTA7ND5yO3IrKyluPWlbcl0saVtyXT0xNjcxMTkzNSYobjw8OHxuPj4+MjQpfDQyNzgyNTUzNjAmKG48PDI0fG4+Pj44KTtyZXR1cm4gZX0sY2xvbmU6ZnVuY3Rpb24oKXt2YXIgdD1jLmNsb25lLmNhbGwodGhpcyk7cmV0dXJuIHQubXc9dGhpcy5tdy5jbG9uZSgpLHR9fSksby55dz1jLmZ3KHMpLG8ud3c9Yy5ndyhzKX0oTWF0aCksZnVuY3Rpb24oKXt2YXIgdD1idCxlPXQucW0saT1lLnptLHI9ZS5odyxuPVtdLGU9dC52dy5Udz1yLmV4dGVuZCh7dXc6ZnVuY3Rpb24oKXt0aGlzLm13PW5ldyBpLmluaXQoWzE3MzI1ODQxOTMsNDAyMzIzMzQxNywyNTYyMzgzMTAyLDI3MTczMzg3OCwzMjg1Mzc3NTIwXSl9LGN3OmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpPXRoaXMubXcuV20scj1pWzBdLG89aVsxXSxzPWlbMl0sYT1pWzNdLGM9aVs0XSxoPTA7ODA+aDtoKyspe2lmKDE2PmgpbltoXT0wfHRbZStoXTtlbHNle3ZhciBwPW5baC0zXV5uW2gtOF1ebltoLTE0XV5uW2gtMTZdO25baF09cDw8MXxwPj4+MzF9cD0ocjw8NXxyPj4+MjcpK2MrbltoXSxwPTIwPmg/cCsoKG8mc3x+byZhKSsxNTE4NTAwMjQ5KTo0MD5oP3ArKChvXnNeYSkrMTg1OTc3NTM5Myk6NjA+aD9wKygobyZzfG8mYXxzJmEpLTE4OTQwMDc1ODgpOnArKChvXnNeYSktODk5NDk3NTE0KSxjPWEsYT1zLHM9bzw8MzB8bz4+PjIsbz1yLHI9cH1pWzBdPWlbMF0rcnwwLGlbMV09aVsxXStvfDAsaVsyXT1pWzJdK3N8MCxpWzNdPWlbM10rYXwwLGlbNF09aVs0XStjfDB9LGR3OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5pdyxlPXQuV20saT04KnRoaXMucncscj04KnQuJG07cmV0dXJuIGVbcj4+PjVdfD0xMjg8PDI0LXIlMzIsZVsocis2ND4+Pjk8PDQpKzE0XT1NYXRoLmZsb29yKGkvNDI5NDk2NzI5NiksZVsocis2ND4+Pjk8PDQpKzE1XT1pLHQuJG09NCplLmxlbmd0aCx0aGlzLm93KCksdGhpcy5td30sY2xvbmU6ZnVuY3Rpb24oKXt2YXIgdD1yLmNsb25lLmNhbGwodGhpcyk7cmV0dXJuIHQubXc9dGhpcy5tdy5jbG9uZSgpLHR9fSk7dC5Udz1yLmZ3KGUpLHQuU3c9ci5ndyhlKX0oKTsvKiEgKGMpIFRvbSBXdSB8IGh0dHA6Ly93d3ctY3Mtc3R1ZGVudHMuc3RhbmZvcmQuZWR1L350ancvanNibi8gKi9cbiAgdmFyIEV0LEl0PTB4ZGVhZGJlZWZjYWZlLFJ0PTE1NzE1MDcwPT0oMTY3NzcyMTUmSXQpO1J0JiZcIk1pY3Jvc29mdCBJbnRlcm5ldCBFeHBsb3JlclwiPT13dC5hcHBOYW1lPyhpLnByb3RvdHlwZS5neT1vLEV0PTMwKTpSdCYmXCJOZXRzY2FwZVwiIT13dC5hcHBOYW1lPyhpLnByb3RvdHlwZS5neT1uLEV0PTI2KTooaS5wcm90b3R5cGUuZ3k9cyxFdD0yOCksaS5wcm90b3R5cGUuYXk9RXQsaS5wcm90b3R5cGUudXk9KDE8PEV0KS0xLGkucHJvdG90eXBlLm95PTE8PEV0O3ZhciBrdD01MjtpLnByb3RvdHlwZS5UeT1NYXRoLnBvdygyLGt0KSxpLnByb3RvdHlwZS5teT1rdC1FdCxpLnByb3RvdHlwZS53eT0yKkV0LWt0O3ZhciBDdCxPdCxQdD1cIjAxMjM0NTY3ODlhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5elwiLEF0PW5ldyBBcnJheTtmb3IoQ3Q9XCIwXCIuY2hhckNvZGVBdCgwKSxPdD0wO090PD05OysrT3QpQXRbQ3QrK109T3Q7Zm9yKEN0PVwiYVwiLmNoYXJDb2RlQXQoMCksT3Q9MTA7T3Q8MzY7KytPdClBdFtDdCsrXT1PdDtmb3IoQ3Q9XCJBXCIuY2hhckNvZGVBdCgwKSxPdD0xMDtPdDwzNjsrK090KUF0W0N0KytdPU90O1AucHJvdG90eXBlLl95PUEsUC5wcm90b3R5cGUuTHk9TixQLnByb3RvdHlwZS5yZWR1Y2U9eCxQLnByb3RvdHlwZS5IeT1CLFAucHJvdG90eXBlLkR5PUYsRC5wcm90b3R5cGUuX3k9SCxELnByb3RvdHlwZS5MeT1MLEQucHJvdG90eXBlLnJlZHVjZT1NLEQucHJvdG90eXBlLkh5PVUsRC5wcm90b3R5cGUuRHk9aixpLnByb3RvdHlwZS52eT1oLGkucHJvdG90eXBlLnN5PXAsaS5wcm90b3R5cGUuZXk9bCxpLnByb3RvdHlwZS5oeT1kLGkucHJvdG90eXBlLlN5PVQsaS5wcm90b3R5cGUuRXk9UyxpLnByb3RvdHlwZS55eT1iLGkucHJvdG90eXBlLkl5PUUsaS5wcm90b3R5cGUucHk9SSxpLnByb3RvdHlwZS5DeT1SLGkucHJvdG90eXBlLk95PWssaS5wcm90b3R5cGUuUnk9QyxpLnByb3RvdHlwZS5BeT1fLGkucHJvdG90eXBlLk15PVYsaS5wcm90b3R5cGUuZXhwPVEsaS5wcm90b3R5cGUudG9TdHJpbmc9ZixpLnByb3RvdHlwZS5seT1nLGkucHJvdG90eXBlLmFicz12LGkucHJvdG90eXBlLmJ5PXksaS5wcm90b3R5cGUuS3k9dyxpLnByb3RvdHlwZS5reT1PLGkucHJvdG90eXBlLkp5PXEsaS5aRVJPPXUoMCksaS5PTkU9dSgxKSwvKiEgYXNuMS0xLjAuOS5qcyAoYykgMjAxMy0yMDE1IEtlbmppIFVydXNoaW1hIHwga2p1ci5naXRodWIuY29tL2pzcnNhc2lnbi9saWNlbnNlXG4gICAqL1xuICBcInVuZGVmaW5lZFwiIT10eXBlb2YgS0pVUiYmS0pVUnx8KEtKVVI9e30pLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBLSlVSLmJ3JiZLSlVSLmJ3fHwoS0pVUi5idz17fSksS0pVUi5idy5Fdz1uZXcgZnVuY3Rpb24oKXt0aGlzLkl3PWZ1bmN0aW9uKHQpe3ZhciBlPXQudG9TdHJpbmcoMTYpO3JldHVybiBlLmxlbmd0aCUyPT0xJiYoZT1cIjBcIitlKSxlfSx0aGlzLlJ3PWZ1bmN0aW9uKHQpe3ZhciBlPXQudG9TdHJpbmcoMTYpO2lmKFwiLVwiIT1lLnN1YnN0cigwLDEpKWUubGVuZ3RoJTI9PTE/ZT1cIjBcIitlOmUubWF0Y2goL15bMC03XS8pfHwoZT1cIjAwXCIrZSk7ZWxzZXt2YXIgcj1lLnN1YnN0cigxKSxuPXIubGVuZ3RoO24lMj09MT9uKz0xOmUubWF0Y2goL15bMC03XS8pfHwobis9Mik7Zm9yKHZhciBvPVwiXCIscz0wO3M8bjtzKyspbys9XCJmXCI7dmFyIGE9bmV3IGkobywxNiksYz1hLnhvcih0KS5hZGQoaS5PTkUpO2U9Yy50b1N0cmluZygxNikucmVwbGFjZSgvXi0vLFwiXCIpfXJldHVybiBlfSx0aGlzLmt3PWZ1bmN0aW9uKHQsZSl7dmFyIGk9KEtKVVIuYncsYnQuWW0uWG0ucGFyc2UodCkpLHI9YnQuWW0uQmFzZTY0LnN0cmluZ2lmeShpKSxuPXIucmVwbGFjZSgvKC57NjR9KS9nLFwiJDFcXHJcXG5cIik7cmV0dXJuIG49bi5yZXBsYWNlKC9cXHJcXG4kLyxcIlwiKSxcIi0tLS0tQkVHSU4gXCIrZStcIi0tLS0tXFxyXFxuXCIrbitcIlxcclxcbi0tLS0tRU5EIFwiK2UrXCItLS0tLVxcclxcblwifSx0aGlzLkN3PWZ1bmN0aW9uKHQpe3ZhciBlPUtKVVIuYncsaT1PYmplY3Qua2V5cyh0KTtpZigxIT1pLmxlbmd0aCl0aHJvd1wia2V5IG9mIHBhcmFtIHNoYWxsIGJlIG9ubHkgb25lLlwiO3ZhciByPWlbMF07aWYoXCI6Ym9vbDppbnQ6Yml0c3RyOm9jdHN0cjpudWxsOm9pZDplbnVtOnV0ZjhzdHI6bnVtc3RyOnBybnN0cjp0ZWxzdHI6aWE1c3RyOnV0Y3RpbWU6Z2VudGltZTpzZXE6c2V0OnRhZzpcIi5pbmRleE9mKFwiOlwiK3IrXCI6XCIpPT0tMSl0aHJvd1widW5kZWZpbmVkIGtleTogXCIrcjtpZihcImJvb2xcIj09cilyZXR1cm4gbmV3IGUuT3codFtyXSk7aWYoXCJpbnRcIj09cilyZXR1cm4gbmV3IGUuUHcodFtyXSk7aWYoXCJiaXRzdHJcIj09cilyZXR1cm4gbmV3IGUuQXcodFtyXSk7aWYoXCJvY3RzdHJcIj09cilyZXR1cm4gbmV3IGUuTncodFtyXSk7aWYoXCJudWxsXCI9PXIpcmV0dXJuIG5ldyBlLnh3KHRbcl0pO2lmKFwib2lkXCI9PXIpcmV0dXJuIG5ldyBlLkJ3KHRbcl0pO2lmKFwiZW51bVwiPT1yKXJldHVybiBuZXcgZS5Gdyh0W3JdKTtpZihcInV0ZjhzdHJcIj09cilyZXR1cm4gbmV3IGUuX3codFtyXSk7aWYoXCJudW1zdHJcIj09cilyZXR1cm4gbmV3IGUuRHcodFtyXSk7aWYoXCJwcm5zdHJcIj09cilyZXR1cm4gbmV3IGUuSHcodFtyXSk7aWYoXCJ0ZWxzdHJcIj09cilyZXR1cm4gbmV3IGUuTHcodFtyXSk7aWYoXCJpYTVzdHJcIj09cilyZXR1cm4gbmV3IGUuTXcodFtyXSk7aWYoXCJ1dGN0aW1lXCI9PXIpcmV0dXJuIG5ldyBlLmp3KHRbcl0pO2lmKFwiZ2VudGltZVwiPT1yKXJldHVybiBuZXcgZS5Vdyh0W3JdKTtpZihcInNlcVwiPT1yKXtmb3IodmFyIG49dFtyXSxvPVtdLHM9MDtzPG4ubGVuZ3RoO3MrKyl7dmFyIGE9ZS5Fdy5DdyhuW3NdKTtvLnB1c2goYSl9cmV0dXJuIG5ldyBlLlZ3KHtIZjpvfSl9aWYoXCJzZXRcIj09cil7Zm9yKHZhciBuPXRbcl0sbz1bXSxzPTA7czxuLmxlbmd0aDtzKyspe3ZhciBhPWUuRXcuQ3cobltzXSk7by5wdXNoKGEpfXJldHVybiBuZXcgZS5Rdyh7SGY6b30pfWlmKFwidGFnXCI9PXIpe3ZhciBjPXRbcl07aWYoXCJbb2JqZWN0IEFycmF5XVwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGMpJiYzPT1jLmxlbmd0aCl7dmFyIGg9ZS5Fdy5DdyhjWzJdKTtyZXR1cm4gbmV3IGUucXcoe3RhZzpjWzBdLEp3OmNbMV0sS3c6aH0pfXZhciBwPXt9O2lmKHZvaWQgMCE9PWMuSncmJihwLkp3PWMuSncpLHZvaWQgMCE9PWMudGFnJiYocC50YWc9Yy50YWcpLHZvaWQgMD09PWMuS3cpdGhyb3dcIm9iaiBzaGFsbCBiZSBzcGVjaWZpZWQgZm9yICd0YWcnLlwiO3JldHVybiBwLkt3PWUuRXcuQ3coYy5LdyksbmV3IGUucXcocCl9fSx0aGlzLkd3PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuQ3codCk7cmV0dXJuIGUuencoKX19LEtKVVIuYncuRXcuV3c9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVwiXCIscj1wYXJzZUludCh0LnN1YnN0cigwLDIpLDE2KSxuPU1hdGguZmxvb3Ioci80MCksbz1yJTQwLGU9bitcIi5cIitvLHM9XCJcIixhPTI7YTx0Lmxlbmd0aDthKz0yKXt2YXIgYz1wYXJzZUludCh0LnN1YnN0cihhLDIpLDE2KSxoPShcIjAwMDAwMDAwXCIrYy50b1N0cmluZygyKSkuc2xpY2UoLTgpO2lmKHMrPWguc3Vic3RyKDEsNyksXCIwXCI9PWguc3Vic3RyKDAsMSkpe3ZhciBwPW5ldyBpKHMsMik7ZT1lK1wiLlwiK3AudG9TdHJpbmcoMTApLHM9XCJcIn19cmV0dXJuIGV9LEtKVVIuYncuRXcuJHc9ZnVuY3Rpb24odCl7dmFyIGU9ZnVuY3Rpb24odCl7dmFyIGU9dC50b1N0cmluZygxNik7cmV0dXJuIDE9PWUubGVuZ3RoJiYoZT1cIjBcIitlKSxlfSxyPWZ1bmN0aW9uKHQpe3ZhciByPVwiXCIsbj1uZXcgaSh0LDEwKSxvPW4udG9TdHJpbmcoMikscz03LW8ubGVuZ3RoJTc7Nz09cyYmKHM9MCk7Zm9yKHZhciBhPVwiXCIsYz0wO2M8cztjKyspYSs9XCIwXCI7bz1hK287Zm9yKHZhciBjPTA7YzxvLmxlbmd0aC0xO2MrPTcpe3ZhciBoPW8uc3Vic3RyKGMsNyk7YyE9by5sZW5ndGgtNyYmKGg9XCIxXCIraCkscis9ZShwYXJzZUludChoLDIpKX1yZXR1cm4gcn07aWYoIXQubWF0Y2goL15bMC05Ll0rJC8pKXRocm93XCJtYWxmb3JtZWQgb2lkIHN0cmluZzogXCIrdDt2YXIgbj1cIlwiLG89dC5zcGxpdChcIi5cIikscz00MCpwYXJzZUludChvWzBdKStwYXJzZUludChvWzFdKTtuKz1lKHMpLG8uc3BsaWNlKDAsMik7Zm9yKHZhciBhPTA7YTxvLmxlbmd0aDthKyspbis9cihvW2FdKTtyZXR1cm4gbn0sS0pVUi5idy5Zdz1mdW5jdGlvbigpe3ZhciB0PVwiXCI7dGhpcy5Ydz1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiB0aGlzLlp3fHxudWxsPT10aGlzLlp3KXRocm93XCJ0aGlzLmhWIGlzIG51bGwgb3IgdW5kZWZpbmVkLlwiO2lmKHRoaXMuWncubGVuZ3RoJTI9PTEpdGhyb3dcInZhbHVlIGhleCBtdXN0IGJlIGV2ZW4gbGVuZ3RoOiBuPVwiK3QubGVuZ3RoK1wiLHY9XCIrdGhpcy5adzt2YXIgZT10aGlzLlp3Lmxlbmd0aC8yLGk9ZS50b1N0cmluZygxNik7aWYoaS5sZW5ndGglMj09MSYmKGk9XCIwXCIraSksZTwxMjgpcmV0dXJuIGk7dmFyIHI9aS5sZW5ndGgvMjtpZihyPjE1KXRocm93XCJBU04uMSBsZW5ndGggdG9vIGxvbmcgdG8gcmVwcmVzZW50IGJ5IDh4OiBuID0gXCIrZS50b1N0cmluZygxNik7dmFyIG49MTI4K3I7cmV0dXJuIG4udG9TdHJpbmcoMTYpK2l9LHRoaXMuenc9ZnVuY3Rpb24oKXtyZXR1cm4obnVsbD09dGhpcy50VHx8dGhpcy5lVCkmJih0aGlzLlp3PXRoaXMuaVQoKSx0aGlzLnJUPXRoaXMuWHcoKSx0aGlzLnRUPXRoaXMublQrdGhpcy5yVCt0aGlzLlp3LHRoaXMuZVQ9ITEpLHRoaXMudFR9LHRoaXMub1Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy56dygpLHRoaXMuWnd9LHRoaXMuaVQ9ZnVuY3Rpb24oKXtyZXR1cm5cIlwifX0sS0pVUi5idy5zVD1mdW5jdGlvbih0KXtLSlVSLmJ3LnNULkRtLmNvbnN0cnVjdG9yLmNhbGwodGhpcyk7dGhpcy5hVD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm55fSx0aGlzLmNUPWZ1bmN0aW9uKHQpe3RoaXMudFQ9bnVsbCx0aGlzLmVUPSEwLHRoaXMubnk9dCx0aGlzLlp3PXN0b2hleCh0aGlzLm55KX0sdGhpcy5oVD1mdW5jdGlvbih0KXt0aGlzLnRUPW51bGwsdGhpcy5lVD0hMCx0aGlzLm55PW51bGwsdGhpcy5adz10fSx0aGlzLmlUPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuWnd9LFwidW5kZWZpbmVkXCIhPXR5cGVvZiB0JiYoXCJzdHJpbmdcIj09dHlwZW9mIHQ/dGhpcy5jVCh0KTpcInVuZGVmaW5lZFwiIT10eXBlb2YgdC5hYz90aGlzLmNUKHQuYWMpOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB0LnBUJiZ0aGlzLmhUKHQucFQpKX0sU3QubGFuZy5leHRlbmQoS0pVUi5idy5zVCxLSlVSLmJ3Lll3KSxLSlVSLmJ3LnVUPWZ1bmN0aW9uKHQpe0tKVVIuYncudVQuRG0uY29uc3RydWN0b3IuY2FsbCh0aGlzKTt0aGlzLmxUPWZ1bmN0aW9uKHQpe3V0Yz10LmdldFRpbWUoKSs2ZTQqdC5nZXRUaW1lem9uZU9mZnNldCgpO3ZhciBlPW5ldyBEYXRlKHV0Yyk7cmV0dXJuIGV9LHRoaXMuZFQ9ZnVuY3Rpb24odCxlLGkpe3ZhciByPXRoaXMuZlQsbj10aGlzLmxUKHQpLG89U3RyaW5nKG4uZ2V0RnVsbFllYXIoKSk7XCJ1dGNcIj09ZSYmKG89by5zdWJzdHIoMiwyKSk7dmFyIHM9cihTdHJpbmcobi5nZXRNb250aCgpKzEpLDIpLGE9cihTdHJpbmcobi5nZXREYXRlKCkpLDIpLGM9cihTdHJpbmcobi5nZXRIb3VycygpKSwyKSxoPXIoU3RyaW5nKG4uZ2V0TWludXRlcygpKSwyKSxwPXIoU3RyaW5nKG4uZ2V0U2Vjb25kcygpKSwyKSx1PW8rcythK2MraCtwO2lmKGk9PT0hMCl7dmFyIGw9bi5nZXRNaWxsaXNlY29uZHMoKTtpZigwIT1sKXt2YXIgZD1yKFN0cmluZyhsKSwzKTtkPWQucmVwbGFjZSgvWzBdKyQvLFwiXCIpLHU9dStcIi5cIitkfX1yZXR1cm4gdStcIlpcIn0sdGhpcy5mVD1mdW5jdGlvbih0LGUpe3JldHVybiB0Lmxlbmd0aD49ZT90Om5ldyBBcnJheShlLXQubGVuZ3RoKzEpLmpvaW4oXCIwXCIpK3R9LHRoaXMuYVQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ueX0sdGhpcy5jVD1mdW5jdGlvbih0KXt0aGlzLnRUPW51bGwsdGhpcy5lVD0hMCx0aGlzLm55PXQsdGhpcy5adz1zdG9oZXgodCl9LHRoaXMuZ1Q9ZnVuY3Rpb24odCxlLGkscixuLG8pe3ZhciBzPW5ldyBEYXRlKERhdGUuVVRDKHQsZS0xLGkscixuLG8sMCkpO3RoaXMudlQocyl9LHRoaXMuaVQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ad319LFN0LmxhbmcuZXh0ZW5kKEtKVVIuYncudVQsS0pVUi5idy5ZdyksS0pVUi5idy55VD1mdW5jdGlvbih0KXtLSlVSLmJ3LnNULkRtLmNvbnN0cnVjdG9yLmNhbGwodGhpcyk7dGhpcy5tVD1mdW5jdGlvbih0KXt0aGlzLnRUPW51bGwsdGhpcy5lVD0hMCx0aGlzLndUPXR9LHRoaXMuVFQ9ZnVuY3Rpb24odCl7dGhpcy50VD1udWxsLHRoaXMuZVQ9ITAsdGhpcy53VC5wdXNoKHQpfSx0aGlzLndUPW5ldyBBcnJheSxcInVuZGVmaW5lZFwiIT10eXBlb2YgdCYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHQuSGYmJih0aGlzLndUPXQuSGYpfSxTdC5sYW5nLmV4dGVuZChLSlVSLmJ3LnlULEtKVVIuYncuWXcpLEtKVVIuYncuT3c9ZnVuY3Rpb24oKXtLSlVSLmJ3Lk93LkRtLmNvbnN0cnVjdG9yLmNhbGwodGhpcyksdGhpcy5uVD1cIjAxXCIsdGhpcy50VD1cIjAxMDFmZlwifSxTdC5sYW5nLmV4dGVuZChLSlVSLmJ3Lk93LEtKVVIuYncuWXcpLEtKVVIuYncuUHc9ZnVuY3Rpb24odCl7S0pVUi5idy5Qdy5EbS5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpLHRoaXMublQ9XCIwMlwiLHRoaXMuU1Q9ZnVuY3Rpb24odCl7dGhpcy50VD1udWxsLHRoaXMuZVQ9ITAsdGhpcy5adz1LSlVSLmJ3LkV3LlJ3KHQpfSx0aGlzLmJUPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBpKFN0cmluZyh0KSwxMCk7dGhpcy5TVChlKX0sdGhpcy5FVD1mdW5jdGlvbih0KXt0aGlzLlp3PXR9LHRoaXMuaVQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ad30sXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHQmJihcInVuZGVmaW5lZFwiIT10eXBlb2YgdC5iaWdpbnQ/dGhpcy5TVCh0LmJpZ2ludCk6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHRbXCJpbnRcIl0/dGhpcy5iVCh0W1wiaW50XCJdKTpcIm51bWJlclwiPT10eXBlb2YgdD90aGlzLmJUKHQpOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB0LnBUJiZ0aGlzLkVUKHQucFQpKX0sU3QubGFuZy5leHRlbmQoS0pVUi5idy5QdyxLSlVSLmJ3Lll3KSxLSlVSLmJ3LkF3PWZ1bmN0aW9uKHQpe0tKVVIuYncuQXcuRG0uY29uc3RydWN0b3IuY2FsbCh0aGlzKSx0aGlzLm5UPVwiMDNcIix0aGlzLklUPWZ1bmN0aW9uKHQpe3RoaXMudFQ9bnVsbCx0aGlzLmVUPSEwLHRoaXMuWnc9dH0sdGhpcy5SVD1mdW5jdGlvbih0LGUpe2lmKHQ8MHx8Nzx0KXRocm93XCJ1bnVzZWQgYml0cyBzaGFsbCBiZSBmcm9tIDAgdG8gNzogdSA9IFwiK3Q7dmFyIGk9XCIwXCIrdDt0aGlzLnRUPW51bGwsdGhpcy5lVD0hMCx0aGlzLlp3PWkrZX0sdGhpcy5rVD1mdW5jdGlvbih0KXt0PXQucmVwbGFjZSgvMCskLyxcIlwiKTt2YXIgZT04LXQubGVuZ3RoJTg7OD09ZSYmKGU9MCk7Zm9yKHZhciBpPTA7aTw9ZTtpKyspdCs9XCIwXCI7Zm9yKHZhciByPVwiXCIsaT0wO2k8dC5sZW5ndGgtMTtpKz04KXt2YXIgbj10LnN1YnN0cihpLDgpLG89cGFyc2VJbnQobiwyKS50b1N0cmluZygxNik7MT09by5sZW5ndGgmJihvPVwiMFwiK28pLHIrPW99dGhpcy50VD1udWxsLHRoaXMuZVQ9ITAsdGhpcy5adz1cIjBcIitlK3J9LHRoaXMuQ1Q9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVwiXCIsaT0wO2k8dC5sZW5ndGg7aSsrKWUrPTE9PXRbaV0/XCIxXCI6XCIwXCI7dGhpcy5rVChlKX0sdGhpcy5PVD1mdW5jdGlvbih0KXtmb3IodmFyIGU9bmV3IEFycmF5KHQpLGk9MDtpPHQ7aSsrKWVbaV09ITE7cmV0dXJuIGV9LHRoaXMuaVQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ad30sXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHQmJihcInN0cmluZ1wiPT10eXBlb2YgdCYmdC50b0xvd2VyQ2FzZSgpLm1hdGNoKC9eWzAtOWEtZl0rJC8pP3RoaXMuSVQodCk6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHQucFQ/dGhpcy5JVCh0LnBUKTpcInVuZGVmaW5lZFwiIT10eXBlb2YgdC5iaW4/dGhpcy5rVCh0LmJpbik6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHQuSGYmJnRoaXMuQ1QodC5IZikpfSxTdC5sYW5nLmV4dGVuZChLSlVSLmJ3LkF3LEtKVVIuYncuWXcpLEtKVVIuYncuTnc9ZnVuY3Rpb24odCl7S0pVUi5idy5Ody5EbS5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsdCksdGhpcy5uVD1cIjA0XCJ9LFN0LmxhbmcuZXh0ZW5kKEtKVVIuYncuTncsS0pVUi5idy5zVCksS0pVUi5idy54dz1mdW5jdGlvbigpe0tKVVIuYncueHcuRG0uY29uc3RydWN0b3IuY2FsbCh0aGlzKSx0aGlzLm5UPVwiMDVcIix0aGlzLnRUPVwiMDUwMFwifSxTdC5sYW5nLmV4dGVuZChLSlVSLmJ3Lnh3LEtKVVIuYncuWXcpLEtKVVIuYncuQnc9ZnVuY3Rpb24odCl7dmFyIGU9ZnVuY3Rpb24odCl7dmFyIGU9dC50b1N0cmluZygxNik7cmV0dXJuIDE9PWUubGVuZ3RoJiYoZT1cIjBcIitlKSxlfSxyPWZ1bmN0aW9uKHQpe3ZhciByPVwiXCIsbj1uZXcgaSh0LDEwKSxvPW4udG9TdHJpbmcoMikscz03LW8ubGVuZ3RoJTc7Nz09cyYmKHM9MCk7Zm9yKHZhciBhPVwiXCIsYz0wO2M8cztjKyspYSs9XCIwXCI7bz1hK287Zm9yKHZhciBjPTA7YzxvLmxlbmd0aC0xO2MrPTcpe3ZhciBoPW8uc3Vic3RyKGMsNyk7YyE9by5sZW5ndGgtNyYmKGg9XCIxXCIraCkscis9ZShwYXJzZUludChoLDIpKX1yZXR1cm4gcn07S0pVUi5idy5Cdy5EbS5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpLHRoaXMublQ9XCIwNlwiLHRoaXMuRVQ9ZnVuY3Rpb24odCl7dGhpcy50VD1udWxsLHRoaXMuZVQ9ITAsdGhpcy5ueT1udWxsLHRoaXMuWnc9dH0sdGhpcy5QVD1mdW5jdGlvbih0KXtpZighdC5tYXRjaCgvXlswLTkuXSskLykpdGhyb3dcIm1hbGZvcm1lZCBvaWQgc3RyaW5nOiBcIit0O3ZhciBpPVwiXCIsbj10LnNwbGl0KFwiLlwiKSxvPTQwKnBhcnNlSW50KG5bMF0pK3BhcnNlSW50KG5bMV0pO2krPWUobyksbi5zcGxpY2UoMCwyKTtmb3IodmFyIHM9MDtzPG4ubGVuZ3RoO3MrKylpKz1yKG5bc10pO3RoaXMudFQ9bnVsbCx0aGlzLmVUPSEwLHRoaXMubnk9bnVsbCx0aGlzLlp3PWl9LHRoaXMuQVQ9ZnVuY3Rpb24odCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIEtKVVIuYncueDUwOS5OVC5uYW1lMm9pZExpc3RbdF0pdGhyb3dcIkRFUk9iamVjdElkZW50aWZpZXIgb2lkTmFtZSB1bmRlZmluZWQ6IFwiK3Q7dmFyIGU9S0pVUi5idy54NTA5Lk5ULm5hbWUyb2lkTGlzdFt0XTt0aGlzLlBUKGUpfSx0aGlzLmlUPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuWnd9LFwidW5kZWZpbmVkXCIhPXR5cGVvZiB0JiYoXCJzdHJpbmdcIj09dHlwZW9mIHQmJnQubWF0Y2goL15bMC0yXS5bMC05Ll0rJC8pP3RoaXMuUFQodCk6dm9pZCAwIT09S0pVUi5idy54NTA5Lk5ULm5hbWUyb2lkTGlzdFt0XT90aGlzLlBUKEtKVVIuYncueDUwOS5OVC5uYW1lMm9pZExpc3RbdF0pOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB0Lm9pZD90aGlzLlBUKHQub2lkKTpcInVuZGVmaW5lZFwiIT10eXBlb2YgdC5wVD90aGlzLkVUKHQucFQpOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB0Lm5hbWUmJnRoaXMuQVQodC5uYW1lKSl9LFN0LmxhbmcuZXh0ZW5kKEtKVVIuYncuQncsS0pVUi5idy5ZdyksS0pVUi5idy5Gdz1mdW5jdGlvbih0KXtLSlVSLmJ3LkZ3LkRtLmNvbnN0cnVjdG9yLmNhbGwodGhpcyksdGhpcy5uVD1cIjBhXCIsdGhpcy5TVD1mdW5jdGlvbih0KXt0aGlzLnRUPW51bGwsdGhpcy5lVD0hMCx0aGlzLlp3PUtKVVIuYncuRXcuUncodCl9LHRoaXMuYlQ9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IGkoU3RyaW5nKHQpLDEwKTt0aGlzLlNUKGUpfSx0aGlzLkVUPWZ1bmN0aW9uKHQpe3RoaXMuWnc9dH0sdGhpcy5pVD1mdW5jdGlvbigpe3JldHVybiB0aGlzLlp3fSxcInVuZGVmaW5lZFwiIT10eXBlb2YgdCYmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiB0W1wiaW50XCJdP3RoaXMuYlQodFtcImludFwiXSk6XCJudW1iZXJcIj09dHlwZW9mIHQ/dGhpcy5iVCh0KTpcInVuZGVmaW5lZFwiIT10eXBlb2YgdC5wVCYmdGhpcy5FVCh0LnBUKSl9LFN0LmxhbmcuZXh0ZW5kKEtKVVIuYncuRncsS0pVUi5idy5ZdyksS0pVUi5idy5fdz1mdW5jdGlvbih0KXtLSlVSLmJ3Ll93LkRtLmNvbnN0cnVjdG9yLmNhbGwodGhpcyx0KSx0aGlzLm5UPVwiMGNcIn0sU3QubGFuZy5leHRlbmQoS0pVUi5idy5fdyxLSlVSLmJ3LnNUKSxLSlVSLmJ3LkR3PWZ1bmN0aW9uKHQpe0tKVVIuYncuRHcuRG0uY29uc3RydWN0b3IuY2FsbCh0aGlzLHQpLHRoaXMublQ9XCIxMlwifSxTdC5sYW5nLmV4dGVuZChLSlVSLmJ3LkR3LEtKVVIuYncuc1QpLEtKVVIuYncuSHc9ZnVuY3Rpb24odCl7S0pVUi5idy5Idy5EbS5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsdCksdGhpcy5uVD1cIjEzXCJ9LFN0LmxhbmcuZXh0ZW5kKEtKVVIuYncuSHcsS0pVUi5idy5zVCksS0pVUi5idy5Mdz1mdW5jdGlvbih0KXtLSlVSLmJ3Lkx3LkRtLmNvbnN0cnVjdG9yLmNhbGwodGhpcyx0KSx0aGlzLm5UPVwiMTRcIn0sU3QubGFuZy5leHRlbmQoS0pVUi5idy5MdyxLSlVSLmJ3LnNUKSxLSlVSLmJ3Lk13PWZ1bmN0aW9uKHQpe0tKVVIuYncuTXcuRG0uY29uc3RydWN0b3IuY2FsbCh0aGlzLHQpLHRoaXMublQ9XCIxNlwifSxTdC5sYW5nLmV4dGVuZChLSlVSLmJ3Lk13LEtKVVIuYncuc1QpLEtKVVIuYncuanc9ZnVuY3Rpb24odCl7S0pVUi5idy5qdy5EbS5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsdCksdGhpcy5uVD1cIjE3XCIsdGhpcy52VD1mdW5jdGlvbih0KXt0aGlzLnRUPW51bGwsdGhpcy5lVD0hMCx0aGlzLnhUPXQsdGhpcy5ueT10aGlzLmRUKHRoaXMueFQsXCJ1dGNcIiksdGhpcy5adz1zdG9oZXgodGhpcy5ueSl9LHRoaXMuaVQ9ZnVuY3Rpb24oKXtyZXR1cm5cInVuZGVmaW5lZFwiPT10eXBlb2YgdGhpcy54VCYmXCJ1bmRlZmluZWRcIj09dHlwZW9mIHRoaXMubnkmJih0aGlzLnhUPW5ldyBEYXRlLHRoaXMubnk9dGhpcy5kVCh0aGlzLnhULFwidXRjXCIpLHRoaXMuWnc9c3RvaGV4KHRoaXMubnkpKSx0aGlzLlp3fSx2b2lkIDAhPT10JiYodm9pZCAwIT09dC5hYz90aGlzLmNUKHQuYWMpOlwic3RyaW5nXCI9PXR5cGVvZiB0JiZ0Lm1hdGNoKC9eWzAtOV17MTJ9WiQvKT90aGlzLmNUKHQpOnZvaWQgMCE9PXQucFQ/dGhpcy5oVCh0LnBUKTp2b2lkIDAhPT10LnhUJiZ0aGlzLnZUKHQueFQpKX0sU3QubGFuZy5leHRlbmQoS0pVUi5idy5qdyxLSlVSLmJ3LnVUKSxLSlVSLmJ3LlV3PWZ1bmN0aW9uKHQpe0tKVVIuYncuVXcuRG0uY29uc3RydWN0b3IuY2FsbCh0aGlzLHQpLHRoaXMublQ9XCIxOFwiLHRoaXMuQlQ9ITEsdGhpcy52VD1mdW5jdGlvbih0KXt0aGlzLnRUPW51bGwsdGhpcy5lVD0hMCx0aGlzLnhUPXQsdGhpcy5ueT10aGlzLmRUKHRoaXMueFQsXCJnZW5cIix0aGlzLkJUKSx0aGlzLlp3PXN0b2hleCh0aGlzLm55KX0sdGhpcy5pVD1mdW5jdGlvbigpe3JldHVybiB2b2lkIDA9PT10aGlzLnhUJiZ2b2lkIDA9PT10aGlzLm55JiYodGhpcy54VD1uZXcgRGF0ZSx0aGlzLm55PXRoaXMuZFQodGhpcy54VCxcImdlblwiLHRoaXMuQlQpLHRoaXMuWnc9c3RvaGV4KHRoaXMubnkpKSx0aGlzLlp3fSx2b2lkIDAhPT10JiYodm9pZCAwIT09dC5hYz90aGlzLmNUKHQuYWMpOlwic3RyaW5nXCI9PXR5cGVvZiB0JiZ0Lm1hdGNoKC9eWzAtOV17MTR9WiQvKT90aGlzLmNUKHQpOnZvaWQgMCE9PXQucFQ/dGhpcy5oVCh0LnBUKTp2b2lkIDAhPT10LnhUJiZ0aGlzLnZUKHQueFQpLHQubWlsbGlzPT09ITAmJih0aGlzLkJUPSEwKSl9LFN0LmxhbmcuZXh0ZW5kKEtKVVIuYncuVXcsS0pVUi5idy51VCksS0pVUi5idy5Wdz1mdW5jdGlvbih0KXtLSlVSLmJ3LlZ3LkRtLmNvbnN0cnVjdG9yLmNhbGwodGhpcyx0KSx0aGlzLm5UPVwiMzBcIix0aGlzLmlUPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PVwiXCIsZT0wO2U8dGhpcy53VC5sZW5ndGg7ZSsrKXt2YXIgaT10aGlzLndUW2VdO3QrPWkuencoKX1yZXR1cm4gdGhpcy5adz10LHRoaXMuWnd9fSxTdC5sYW5nLmV4dGVuZChLSlVSLmJ3LlZ3LEtKVVIuYncueVQpLEtKVVIuYncuUXc9ZnVuY3Rpb24odCl7S0pVUi5idy5Rdy5EbS5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsdCksdGhpcy5uVD1cIjMxXCIsdGhpcy5GVD0hMCx0aGlzLmlUPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PW5ldyBBcnJheSxlPTA7ZTx0aGlzLndULmxlbmd0aDtlKyspe3ZhciBpPXRoaXMud1RbZV07dC5wdXNoKGkuencoKSl9cmV0dXJuIDE9PXRoaXMuRlQmJnQuc29ydCgpLHRoaXMuWnc9dC5qb2luKFwiXCIpLHRoaXMuWnd9LFwidW5kZWZpbmVkXCIhPXR5cGVvZiB0JiZcInVuZGVmaW5lZFwiIT10eXBlb2YgdC5zb3J0ZmxhZyYmMD09dC5zb3J0ZmxhZyYmKHRoaXMuRlQ9ITEpfSxTdC5sYW5nLmV4dGVuZChLSlVSLmJ3LlF3LEtKVVIuYncueVQpLEtKVVIuYncucXc9ZnVuY3Rpb24odCl7S0pVUi5idy5xdy5EbS5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpLHRoaXMublQ9XCJhMFwiLHRoaXMuWnc9XCJcIix0aGlzLl9UPSEwLHRoaXMuRFQ9bnVsbCx0aGlzLkhUPWZ1bmN0aW9uKHQsZSxpKXt0aGlzLm5UPWUsdGhpcy5fVD10LHRoaXMuRFQ9aSx0aGlzLl9UPyh0aGlzLlp3PXRoaXMuRFQuencoKSx0aGlzLnRUPW51bGwsdGhpcy5lVD0hMCk6KHRoaXMuWnc9bnVsbCx0aGlzLnRUPWkuencoKSx0aGlzLnRUPXRoaXMudFQucmVwbGFjZSgvXi4uLyxlKSx0aGlzLmVUPSExKX0sdGhpcy5pVD1mdW5jdGlvbigpe3JldHVybiB0aGlzLlp3fSxcInVuZGVmaW5lZFwiIT10eXBlb2YgdCYmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiB0LnRhZyYmKHRoaXMublQ9dC50YWcpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiB0Lkp3JiYodGhpcy5fVD10Lkp3KSxcInVuZGVmaW5lZFwiIT10eXBlb2YgdC5LdyYmKHRoaXMuRFQ9dC5Ldyx0aGlzLkhUKHRoaXMuX1QsdGhpcy5uVCx0aGlzLkRUKSkpfSxTdC5sYW5nLmV4dGVuZChLSlVSLmJ3LnF3LEtKVVIuYncuWXcpOy8qISAoYykgVG9tIFd1IHwgaHR0cDovL3d3dy1jcy1zdHVkZW50cy5zdGFuZm9yZC5lZHUvfnRqdy9qc2JuLyAqL1xuICB2YXIgTnQ9XCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvXCIseHQ9XCI9XCI7LyohIGNyeXB0by0xLjEuOC5qcyAoYykgMjAxMy0yMDE2IEtlbmppIFVydXNoaW1hIHwga2p1ci5naXRodWIuY29tL2pzcnNhc2lnbi9saWNlbnNlXG4gICAqL1xuICBcInVuZGVmaW5lZFwiIT10eXBlb2YgS0pVUiYmS0pVUnx8KEtKVVI9e30pLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBLSlVSLmNyeXB0byYmS0pVUi5jcnlwdG98fChLSlVSLmNyeXB0bz17fSksS0pVUi5jcnlwdG8uV3k9bmV3IGZ1bmN0aW9uKCl7dGhpcy50bT17c2hhMTpcIjMwMjEzMDA5MDYwNTJiMGUwMzAyMWEwNTAwMDQxNFwiLExUOlwiMzAyZDMwMGQwNjA5NjA4NjQ4MDE2NTAzMDQwMjA0MDUwMDA0MWNcIixzaGEyNTY6XCIzMDMxMzAwZDA2MDk2MDg2NDgwMTY1MDMwNDAyMDEwNTAwMDQyMFwiLE1UOlwiMzA0MTMwMGQwNjA5NjA4NjQ4MDE2NTAzMDQwMjAyMDUwMDA0MzBcIixqVDpcIjMwNTEzMDBkMDYwOTYwODY0ODAxNjUwMzA0MDIwMzA1MDAwNDQwXCIsVVQ6XCIzMDIwMzAwYzA2MDgyYTg2NDg4NmY3MGQwMjAyMDUwMDA0MTBcIixWVDpcIjMwMjAzMDBjMDYwODJhODY0ODg2ZjcwZDAyMDUwNTAwMDQxMFwiLFFUOlwiMzAyMTMwMDkwNjA1MmIyNDAzMDIwMTA1MDAwNDE0XCJ9LHRoaXMucVQ9e1ZUOlwiY3J5cHRvanNcIixzaGExOlwiY3J5cHRvanNcIixMVDpcImNyeXB0b2pzXCIsc2hhMjU2OlwiY3J5cHRvanNcIixNVDpcImNyeXB0b2pzXCIsalQ6XCJjcnlwdG9qc1wiLFFUOlwiY3J5cHRvanNcIixKVDpcImNyeXB0b2pzXCIsS1Q6XCJjcnlwdG9qc1wiLEdUOlwiY3J5cHRvanNcIix6VDpcImNyeXB0b2pzXCIsV1Q6XCJjcnlwdG9qc1wiLCRUOlwiY3J5cHRvanNcIixZVDpcImNyeXB0b2pzXCIsWFQ6XCJjcnlwdG9qcy9qc3JzYVwiLFpUOlwiY3J5cHRvanMvanNyc2FcIix0UzpcImNyeXB0b2pzL2pzcnNhXCIsZVM6XCJjcnlwdG9qcy9qc3JzYVwiLGlTOlwiY3J5cHRvanMvanNyc2FcIixyUzpcImNyeXB0b2pzL2pzcnNhXCIsblM6XCJjcnlwdG9qcy9qc3JzYVwiLG9TOlwiY3J5cHRvanMvanNyc2FcIixzUzpcImNyeXB0b2pzL2pzcnNhXCIsYVM6XCJjcnlwdG9qcy9qc3JzYVwiLGNTOlwiY3J5cHRvanMvanNyc2FcIixoUzpcImNyeXB0b2pzL2pzcnNhXCIscFM6XCJjcnlwdG9qcy9qc3JzYVwiLHVTOlwiY3J5cHRvanMvanNyc2FcIixsUzpcImNyeXB0b2pzL2pzcnNhXCIsZFM6XCJjcnlwdG9qcy9qc3JzYVwiLGZTOlwiY3J5cHRvanMvanNyc2FcIixnUzpcImNyeXB0b2pzL2pzcnNhXCIsdlM6XCJjcnlwdG9qcy9qc3JzYVwiLHlTOlwiY3J5cHRvanMvanNyc2FcIixtUzpcImNyeXB0b2pzL2pzcnNhXCIsd1M6XCJjcnlwdG9qcy9qc3JzYVwiLFRTOlwiY3J5cHRvanMvanNyc2FcIixTUzpcImNyeXB0b2pzL2pzcnNhXCJ9LHRoaXMuYlM9e1ZUOmJ0LnZ3Lnl3LHNoYTE6YnQudncuVHcsTFQ6YnQudncuU0hBMjI0LHNoYTI1NjpidC52dy5TSEEyNTYsTVQ6YnQudncuU0hBMzg0LGpUOmJ0LnZ3LlNIQTUxMixRVDpidC52dy5SSVBFTUQxNjB9LHRoaXMuRVM9ZnVuY3Rpb24odCxlKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgdGhpcy50bVtlXSl0aHJvd1wiYWxnIG5vdCBzdXBwb3J0ZWQgaW4gVXRpbC5ESUdFU1RJTkZPSEVBRDogXCIrZTtyZXR1cm4gdGhpcy50bVtlXSt0fSx0aGlzLll5PWZ1bmN0aW9uKHQsZSxpKXt2YXIgcj10aGlzLkVTKHQsZSksbj1pLzQ7aWYoci5sZW5ndGgrMjI+bil0aHJvd1wia2V5IGlzIHRvbyBzaG9ydCBmb3IgU2lnQWxnOiBrZXlsZW49XCIraStcIixcIitlO2Zvcih2YXIgbz1cIjAwMDFcIixzPVwiMDBcIityLGE9XCJcIixjPW4tby5sZW5ndGgtcy5sZW5ndGgsaD0wO2g8YztoKz0yKWErPVwiZmZcIjt2YXIgcD1vK2ErcztyZXR1cm4gcH0sdGhpcy56eT1mdW5jdGlvbih0LGUpe3ZhciBpPW5ldyBLSlVSLmNyeXB0by5JUyh7UlM6ZX0pO3JldHVybiBpLmtTKHQpfSx0aGlzLlh5PWZ1bmN0aW9uKHQsZSl7dmFyIGk9bmV3IEtKVVIuY3J5cHRvLklTKHtSUzplfSk7cmV0dXJuIGkuQ1ModCl9LHRoaXMuc2hhMT1mdW5jdGlvbih0KXt2YXIgZT1uZXcgS0pVUi5jcnlwdG8uSVMoe1JTOlwic2hhMVwiLE9TOlwiY3J5cHRvanNcIn0pO3JldHVybiBlLmtTKHQpfSx0aGlzLnNoYTI1Nj1mdW5jdGlvbih0KXt2YXIgZT1uZXcgS0pVUi5jcnlwdG8uSVMoe1JTOlwic2hhMjU2XCIsT1M6XCJjcnlwdG9qc1wifSk7cmV0dXJuIGUua1ModCl9LHRoaXMuUFM9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IEtKVVIuY3J5cHRvLklTKHtSUzpcInNoYTI1NlwiLE9TOlwiY3J5cHRvanNcIn0pO3JldHVybiBlLkNTKHQpfSx0aGlzLmpUPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBLSlVSLmNyeXB0by5JUyh7UlM6XCJzaGE1MTJcIixPUzpcImNyeXB0b2pzXCJ9KTtyZXR1cm4gZS5rUyh0KX0sdGhpcy5OUz1mdW5jdGlvbih0KXt2YXIgZT1uZXcgS0pVUi5jcnlwdG8uSVMoe1JTOlwic2hhNTEyXCIsT1M6XCJjcnlwdG9qc1wifSk7cmV0dXJuIGUuQ1ModCl9LHRoaXMuVlQ9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IEtKVVIuY3J5cHRvLklTKHtSUzpcIm1kNVwiLE9TOlwiY3J5cHRvanNcIn0pO3JldHVybiBlLmtTKHQpfSx0aGlzLlFUPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBLSlVSLmNyeXB0by5JUyh7UlM6XCJyaXBlbWQxNjBcIixPUzpcImNyeXB0b2pzXCJ9KTtyZXR1cm4gZS5rUyh0KX0sdGhpcy54Uz1mdW5jdGlvbih0KXt9fSxLSlVSLmNyeXB0by5JUz1mdW5jdGlvbih0KXt0aGlzLkJTPWZ1bmN0aW9uKHQsZSl7aWYobnVsbCE9dCYmdm9pZCAwPT09ZSYmKGU9S0pVUi5jcnlwdG8uV3kucVRbdF0pLFwiOm1kNTpzaGExOnNoYTIyNDpzaGEyNTY6c2hhMzg0OnNoYTUxMjpyaXBlbWQxNjA6XCIuaW5kZXhPZih0KSE9LTEmJlwiY3J5cHRvanNcIj09ZSl7dHJ5e3RoaXMuRlM9S0pVUi5jcnlwdG8uV3kuYlNbdF0uY3JlYXRlKCl9Y2F0Y2goaSl7dGhyb3dcInNldEFsZ0FuZFByb3ZpZGVyIGhhc2ggYWxnIHNldCBmYWlsIGFsZz1cIit0K1wiL1wiK2l9dGhpcy5fUz1mdW5jdGlvbih0KXt0aGlzLkZTLnVwZGF0ZSh0KX0sdGhpcy5EUz1mdW5jdGlvbih0KXt2YXIgZT1idC5ZbS5YbS5wYXJzZSh0KTt0aGlzLkZTLnVwZGF0ZShlKX0sdGhpcy5kaWdlc3Q9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLkZTLmx3KCk7cmV0dXJuIHQudG9TdHJpbmcoYnQuWW0uWG0pfSx0aGlzLmtTPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9TKHQpLHRoaXMuZGlnZXN0KCl9LHRoaXMuQ1M9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuRFModCksdGhpcy5kaWdlc3QoKX19aWYoXCI6c2hhMjU2OlwiLmluZGV4T2YodCkhPS0xJiZcInNqY2xcIj09ZSl7dHJ5e3RoaXMuRlM9bmV3IHNqY2wuaGFzaC5zaGEyNTZ9Y2F0Y2goaSl7dGhyb3dcInNldEFsZ0FuZFByb3ZpZGVyIGhhc2ggYWxnIHNldCBmYWlsIGFsZz1cIit0K1wiL1wiK2l9dGhpcy5fUz1mdW5jdGlvbih0KXt0aGlzLkZTLnVwZGF0ZSh0KX0sdGhpcy5EUz1mdW5jdGlvbih0KXt2YXIgZT1zamNsLmNvZGVjLnBULnRvQml0cyh0KTt0aGlzLkZTLnVwZGF0ZShlKX0sdGhpcy5kaWdlc3Q9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLkZTLmx3KCk7cmV0dXJuIHNqY2wuY29kZWMucFQuZnJvbUJpdHModCl9LHRoaXMua1M9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX1ModCksdGhpcy5kaWdlc3QoKX0sdGhpcy5DUz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5EUyh0KSx0aGlzLmRpZ2VzdCgpfX19LHRoaXMuX1M9ZnVuY3Rpb24odCl7dGhyb3dcInVwZGF0ZVN0cmluZyhzdHIpIG5vdCBzdXBwb3J0ZWQgZm9yIHRoaXMgYWxnL3Byb3Y6IFwiK3RoaXMuSFMrXCIvXCIrdGhpcy5MU30sdGhpcy5EUz1mdW5jdGlvbih0KXt0aHJvd1widXBkYXRlSGV4KGhleCkgbm90IHN1cHBvcnRlZCBmb3IgdGhpcyBhbGcvcHJvdjogXCIrdGhpcy5IUytcIi9cIit0aGlzLkxTfSx0aGlzLmRpZ2VzdD1mdW5jdGlvbigpe3Rocm93XCJkaWdlc3QoKSBub3Qgc3VwcG9ydGVkIGZvciB0aGlzIGFsZy9wcm92OiBcIit0aGlzLkhTK1wiL1wiK3RoaXMuTFN9LHRoaXMua1M9ZnVuY3Rpb24odCl7dGhyb3dcImRpZ2VzdFN0cmluZyhzdHIpIG5vdCBzdXBwb3J0ZWQgZm9yIHRoaXMgYWxnL3Byb3Y6IFwiK3RoaXMuSFMrXCIvXCIrdGhpcy5MU30sdGhpcy5DUz1mdW5jdGlvbih0KXt0aHJvd1wiZGlnZXN0SGV4KGhleCkgbm90IHN1cHBvcnRlZCBmb3IgdGhpcyBhbGcvcHJvdjogXCIrdGhpcy5IUytcIi9cIit0aGlzLkxTfSx2b2lkIDAhPT10JiZ2b2lkIDAhPT10LlJTJiYodGhpcy5IUz10LlJTLHZvaWQgMD09PXQuT1MmJih0aGlzLkxTPUtKVVIuY3J5cHRvLld5LnFUW3RoaXMuSFNdKSx0aGlzLkJTKHRoaXMuSFMsdGhpcy5MUykpfSxLSlVSLmNyeXB0by5NUz1mdW5jdGlvbih0KXt0aGlzLkJTPWZ1bmN0aW9uKHQsZSl7aWYodD10LnRvTG93ZXJDYXNlKCksbnVsbD09dCYmKHQ9XCJobWFjc2hhMVwiKSx0PXQudG9Mb3dlckNhc2UoKSxcImhtYWNcIiE9dC5zdWJzdHIoMCw0KSl0aHJvd1wic2V0QWxnQW5kUHJvdmlkZXIgdW5zdXBwb3J0ZWQgSE1BQyBhbGc6IFwiK3Q7dm9pZCAwPT09ZSYmKGU9S0pVUi5jcnlwdG8uV3kucVRbdF0pLHRoaXMualM9dCtcIi9cIitlO3ZhciBpPXQuc3Vic3RyKDQpO2lmKFwiOm1kNTpzaGExOnNoYTIyNDpzaGEyNTY6c2hhMzg0OnNoYTUxMjpyaXBlbWQxNjA6XCIuaW5kZXhPZihpKSE9LTEmJlwiY3J5cHRvanNcIj09ZSl7dHJ5e3ZhciByPUtKVVIuY3J5cHRvLld5LmJTW2ldO3RoaXMubWFjPWJ0LnZ3LkhNQUMuY3JlYXRlKHIsdGhpcy5VUyl9Y2F0Y2gobil7dGhyb3dcInNldEFsZ0FuZFByb3ZpZGVyIGhhc2ggYWxnIHNldCBmYWlsIGhhc2hBbGc9XCIraStcIi9cIitufXRoaXMuX1M9ZnVuY3Rpb24odCl7dGhpcy5tYWMudXBkYXRlKHQpfSx0aGlzLkRTPWZ1bmN0aW9uKHQpe3ZhciBlPWJ0LlltLlhtLnBhcnNlKHQpO3RoaXMubWFjLnVwZGF0ZShlKX0sdGhpcy5WUz1mdW5jdGlvbigpe3ZhciB0PXRoaXMubWFjLmx3KCk7cmV0dXJuIHQudG9TdHJpbmcoYnQuWW0uWG0pfSx0aGlzLlFTPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9TKHQpLHRoaXMuVlMoKX0sdGhpcy5xUz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5EUyh0KSx0aGlzLlZTKCl9fX0sdGhpcy5fUz1mdW5jdGlvbih0KXt0aHJvd1widXBkYXRlU3RyaW5nKHN0cikgbm90IHN1cHBvcnRlZCBmb3IgdGhpcyBhbGcvcHJvdjogXCIrdGhpcy5qU30sdGhpcy5EUz1mdW5jdGlvbih0KXt0aHJvd1widXBkYXRlSGV4KGhleCkgbm90IHN1cHBvcnRlZCBmb3IgdGhpcyBhbGcvcHJvdjogXCIrdGhpcy5qU30sdGhpcy5WUz1mdW5jdGlvbigpe3Rocm93XCJkaWdlc3QoKSBub3Qgc3VwcG9ydGVkIGZvciB0aGlzIGFsZy9wcm92OiBcIit0aGlzLmpTfSx0aGlzLlFTPWZ1bmN0aW9uKHQpe3Rocm93XCJkaWdlc3RTdHJpbmcoc3RyKSBub3Qgc3VwcG9ydGVkIGZvciB0aGlzIGFsZy9wcm92OiBcIit0aGlzLmpTfSx0aGlzLnFTPWZ1bmN0aW9uKHQpe3Rocm93XCJkaWdlc3RIZXgoaGV4KSBub3Qgc3VwcG9ydGVkIGZvciB0aGlzIGFsZy9wcm92OiBcIit0aGlzLmpTfSx0aGlzLkpTPWZ1bmN0aW9uKHQpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXt2YXIgZT10O3JldHVybiB0Lmxlbmd0aCUyIT0xJiZ0Lm1hdGNoKC9eWzAtOUEtRmEtZl0rJC8pfHwoZT1yc3RydG9oZXgodCkpLHZvaWQodGhpcy5VUz1idC5ZbS5YbS5wYXJzZShlKSl9aWYoXCJvYmplY3RcIiE9dHlwZW9mIHQpdGhyb3dcIktKVVIuY3J5cHRvLk1hYyB1bnN1cHBvcnRlZCBwYXNzd29yZCB0eXBlOiBcIit0O3ZhciBlPW51bGw7aWYodm9pZCAwIT09dC5wVCl7aWYodC5wVC5sZW5ndGglMiE9MHx8IXQucFQubWF0Y2goL15bMC05QS1GYS1mXSskLykpdGhyb3dcIk1hYzogd3JvbmcgaGV4IHBhc3N3b3JkOiBcIit0LnBUO2U9dC5wVH1pZih2b2lkIDAhPT10LnV0ZjgmJihlPXV0Zjh0b2hleCh0LnV0ZjgpKSx2b2lkIDAhPT10LnJzdHImJihlPXJzdHJ0b2hleCh0LnJzdHIpKSx2b2lkIDAhPT10LmI2NCYmKGU9Sih0LmI2NCkpLHZvaWQgMCE9PXQuYjY0dSYmKGU9YjY0dXRvaGV4KHQuYjY0dSkpLG51bGw9PWUpdGhyb3dcIktKVVIuY3J5cHRvLk1hYyB1bnN1cHBvcnRlZCBwYXNzd29yZCB0eXBlOiBcIit0O3RoaXMuVVM9YnQuWW0uWG0ucGFyc2UoZSl9LHZvaWQgMCE9PXQmJih2b2lkIDAhPT10LlVTJiZ0aGlzLkpTKHQuVVMpLHZvaWQgMCE9PXQuUlMmJih0aGlzLkhTPXQuUlMsdm9pZCAwPT09dC5PUyYmKHRoaXMuTFM9S0pVUi5jcnlwdG8uV3kucVRbdGhpcy5IU10pLHRoaXMuQlModGhpcy5IUyx0aGlzLkxTKSkpfSxLSlVSLmNyeXB0by5TaWduYXR1cmU9ZnVuY3Rpb24odCl7dmFyIGU9bnVsbDtpZih0aGlzLktTPWZ1bmN0aW9uKCl7dGhpcy5IUy5tYXRjaCgvXiguKyl3aXRoKC4rKSQvKSYmKHRoaXMuR1M9UmVnRXhwLiQxLnRvTG93ZXJDYXNlKCksdGhpcy56Uz1SZWdFeHAuJDIudG9Mb3dlckNhc2UoKSl9LHRoaXMuV1M9ZnVuY3Rpb24odCxlKXtmb3IodmFyIGk9XCJcIixyPWUvNC10Lmxlbmd0aCxuPTA7bjxyO24rKylpKz1cIjBcIjtyZXR1cm4gaSt0fSx0aGlzLkJTPWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5LUygpLFwiY3J5cHRvanMvanNyc2FcIiE9ZSl0aHJvd1wicHJvdmlkZXIgbm90IHN1cHBvcnRlZDogXCIrZTtpZihcIjptZDU6c2hhMTpzaGEyMjQ6c2hhMjU2OnNoYTM4NDpzaGE1MTI6cmlwZW1kMTYwOlwiLmluZGV4T2YodGhpcy5HUykhPS0xKXt0cnl7dGhpcy5GUz1uZXcgS0pVUi5jcnlwdG8uSVMoe1JTOnRoaXMuR1N9KX1jYXRjaChpKXt0aHJvd1wic2V0QWxnQW5kUHJvdmlkZXIgaGFzaCBhbGcgc2V0IGZhaWwgYWxnPVwiK3RoaXMuR1MrXCIvXCIraX10aGlzLmluaXQ9ZnVuY3Rpb24odCxlKXt2YXIgaT1udWxsO3RyeXtpPXZvaWQgMD09PWU/S0VZVVRJTC5nZXRLZXkodCk6S0VZVVRJTC5nZXRLZXkodCxlKX1jYXRjaChyKXt0aHJvd1wiaW5pdCBmYWlsZWQ6XCIrcn1pZihpLmlzUHJpdmF0ZT09PSEwKXRoaXMuJFM9aSx0aGlzLnN0YXRlPVwiU0lHTlwiO2Vsc2V7aWYoaS5xeSE9PSEwKXRocm93XCJpbml0IGZhaWxlZC46XCIraTt0aGlzLllTPWksdGhpcy5zdGF0ZT1cIlZFUklGWVwifX0sdGhpcy5YUz1mdW5jdGlvbih0KXtcInN0cmluZ1wiPT10eXBlb2YgdC5aUyYmXCJzdHJpbmdcIj09dHlwZW9mIHQudGI/KHRoaXMuWlM9dC5aUyx0aGlzLnRiPXQudGIpOnRoaXMuJFM9dCx0aGlzLnN0YXRlPVwiU0lHTlwifSx0aGlzLmViPWZ1bmN0aW9uKHQpe1wic3RyaW5nXCI9PXR5cGVvZiB0LmliJiZcInN0cmluZ1wiPT10eXBlb2YgdC50Yj8odGhpcy5pYj10LmliLHRoaXMudGI9dC50Yik6dCBpbnN0YW5jZW9mIEtKVVIuY3J5cHRvLkVDRFNBP3RoaXMuWVM9dDp0IGluc3RhbmNlb2YgWSYmKHRoaXMuWVM9dCksdGhpcy5zdGF0ZT1cIlZFUklGWVwifSx0aGlzLnJiPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBYNTA5O2UucmVhZENlcnRQRU0odCksdGhpcy5ZUz1lLm5iLHRoaXMuc3RhdGU9XCJWRVJJRllcIn0sdGhpcy5fUz1mdW5jdGlvbih0KXt0aGlzLkZTLl9TKHQpfSx0aGlzLkRTPWZ1bmN0aW9uKHQpe3RoaXMuRlMuRFModCl9LHRoaXMuc2lnbj1mdW5jdGlvbigpe2lmKHRoaXMub2I9dGhpcy5GUy5kaWdlc3QoKSxcInVuZGVmaW5lZFwiIT10eXBlb2YgdGhpcy5aUyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHRoaXMudGIpe3ZhciB0PW5ldyBLSlVSLmNyeXB0by5FQ0RTQSh7Y3VydmU6dGhpcy50Yn0pO3RoaXMuc2I9dC5hYih0aGlzLm9iLHRoaXMuWlMpfWVsc2UgaWYodGhpcy4kUyBpbnN0YW5jZW9mIFkmJlwicnNhYW5kbWdmMVwiPT10aGlzLnpTKXRoaXMuc2I9dGhpcy4kUy5aeSh0aGlzLm9iLHRoaXMuR1MsdGhpcy5jYik7ZWxzZSBpZih0aGlzLiRTIGluc3RhbmNlb2YgWSYmXCJyc2FcIj09dGhpcy56Uyl0aGlzLnNiPXRoaXMuJFMuJHkodGhpcy5vYix0aGlzLkdTKTtlbHNlIGlmKHRoaXMuJFMgaW5zdGFuY2VvZiBLSlVSLmNyeXB0by5FQ0RTQSl0aGlzLnNiPXRoaXMuJFMuJHkodGhpcy5vYik7ZWxzZXtpZighKHRoaXMuJFMgaW5zdGFuY2VvZiBLSlVSLmNyeXB0by5EU0EpKXRocm93XCJTaWduYXR1cmU6IHVuc3VwcG9ydGVkIHB1YmxpYyBrZXkgYWxnOiBcIit0aGlzLnpTO3RoaXMuc2I9dGhpcy4kUy4keSh0aGlzLm9iKX1yZXR1cm4gdGhpcy5zYn0sdGhpcy5oYj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fUyh0KSx0aGlzLnNpZ24oKX0sdGhpcy5hYj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5EUyh0KSx0aGlzLnNpZ24oKX0sdGhpcy52ZXJpZnk9ZnVuY3Rpb24odCl7aWYodGhpcy5vYj10aGlzLkZTLmRpZ2VzdCgpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiB0aGlzLmliJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgdGhpcy50Yil7dmFyIGU9bmV3IEtKVVIuY3J5cHRvLkVDRFNBKHtjdXJ2ZTp0aGlzLnRifSk7cmV0dXJuIGUudmVyaWZ5SGV4KHRoaXMub2IsdCx0aGlzLmliKX1pZih0aGlzLllTIGluc3RhbmNlb2YgWSYmXCJyc2FhbmRtZ2YxXCI9PXRoaXMuelMpcmV0dXJuIHRoaXMuWVMuZW0odGhpcy5vYix0LHRoaXMuR1MsdGhpcy5jYik7aWYodGhpcy5ZUyBpbnN0YW5jZW9mIFkmJlwicnNhXCI9PXRoaXMuelMpcmV0dXJuIHRoaXMuWVMucGIodGhpcy5vYix0KTtpZih0aGlzLllTIGluc3RhbmNlb2YgS0pVUi5jcnlwdG8uRUNEU0EpcmV0dXJuIHRoaXMuWVMucGIodGhpcy5vYix0KTtpZih0aGlzLllTIGluc3RhbmNlb2YgS0pVUi5jcnlwdG8uRFNBKXJldHVybiB0aGlzLllTLnBiKHRoaXMub2IsdCk7dGhyb3dcIlNpZ25hdHVyZTogdW5zdXBwb3J0ZWQgcHVibGljIGtleSBhbGc6IFwiK3RoaXMuelN9fX0sdGhpcy5pbml0PWZ1bmN0aW9uKHQsZSl7dGhyb3dcImluaXQoa2V5LCBwYXNzKSBub3Qgc3VwcG9ydGVkIGZvciB0aGlzIGFsZzpwcm92PVwiK3RoaXMudWJ9LHRoaXMuZWI9ZnVuY3Rpb24odCl7dGhyb3dcImluaXRWZXJpZnlCeVB1YmxpY0tleShyc2FQdWJLZXl5KSBub3Qgc3VwcG9ydGVkIGZvciB0aGlzIGFsZzpwcm92PVwiK3RoaXMudWJ9LHRoaXMucmI9ZnVuY3Rpb24odCl7dGhyb3dcImluaXRWZXJpZnlCeUNlcnRpZmljYXRlUEVNKGNlcnRQRU0pIG5vdCBzdXBwb3J0ZWQgZm9yIHRoaXMgYWxnOnByb3Y9XCIrdGhpcy51Yn0sdGhpcy5YUz1mdW5jdGlvbih0KXt0aHJvd1wiaW5pdFNpZ24ocHJ2S2V5KSBub3Qgc3VwcG9ydGVkIGZvciB0aGlzIGFsZzpwcm92PVwiK3RoaXMudWJ9LHRoaXMuX1M9ZnVuY3Rpb24odCl7dGhyb3dcInVwZGF0ZVN0cmluZyhzdHIpIG5vdCBzdXBwb3J0ZWQgZm9yIHRoaXMgYWxnOnByb3Y9XCIrdGhpcy51Yn0sdGhpcy5EUz1mdW5jdGlvbih0KXt0aHJvd1widXBkYXRlSGV4KGhleCkgbm90IHN1cHBvcnRlZCBmb3IgdGhpcyBhbGc6cHJvdj1cIit0aGlzLnVifSx0aGlzLnNpZ249ZnVuY3Rpb24oKXt0aHJvd1wic2lnbigpIG5vdCBzdXBwb3J0ZWQgZm9yIHRoaXMgYWxnOnByb3Y9XCIrdGhpcy51Yn0sdGhpcy5oYj1mdW5jdGlvbih0KXt0aHJvd1wiZGlnZXN0U3RyaW5nKHN0cikgbm90IHN1cHBvcnRlZCBmb3IgdGhpcyBhbGc6cHJvdj1cIit0aGlzLnVifSx0aGlzLmFiPWZ1bmN0aW9uKHQpe3Rocm93XCJkaWdlc3RIZXgoaGV4KSBub3Qgc3VwcG9ydGVkIGZvciB0aGlzIGFsZzpwcm92PVwiK3RoaXMudWJ9LHRoaXMudmVyaWZ5PWZ1bmN0aW9uKHQpe3Rocm93XCJ2ZXJpZnkoaFNpZ1ZhbCkgbm90IHN1cHBvcnRlZCBmb3IgdGhpcyBhbGc6cHJvdj1cIit0aGlzLnVifSx0aGlzLmxiPXQsdm9pZCAwIT09dCYmKHZvaWQgMCE9PXQuUlMmJih0aGlzLkhTPXQuUlMsdm9pZCAwPT09dC5PUz90aGlzLkxTPUtKVVIuY3J5cHRvLld5LnFUW3RoaXMuSFNdOnRoaXMuTFM9dC5PUyx0aGlzLnViPXRoaXMuSFMrXCI6XCIrdGhpcy5MUyx0aGlzLkJTKHRoaXMuSFMsdGhpcy5MUyksdGhpcy5LUygpKSx2b2lkIDAhPT10LmZiJiYodGhpcy5jYj10LmZiKSx2b2lkIDAhPT10LnBydmtleXBlbSkpe2lmKHZvaWQgMCE9PXQucHJ2a2V5cGFzKXRocm93XCJib3RoIHBydmtleXBlbSBhbmQgcHJ2a2V5cGFzIHBhcmFtZXRlcnMgbm90IHN1cHBvcnRlZFwiO3RyeXt2YXIgZT1uZXcgWTtlLnJlYWRQcml2YXRlS2V5RnJvbVBFTVN0cmluZyh0LnBydmtleXBlbSksdGhpcy5YUyhlKX1jYXRjaChpKXt0aHJvd1wiZmF0YWwgZXJyb3IgdG8gbG9hZCBwZW0gcHJpdmF0ZSBrZXk6IFwiK2l9fX0sS0pVUi5jcnlwdG8uTlQ9bmV3IGZ1bmN0aW9uKCl7dGhpcy5nYj17dmI6XCJyc2FFbmNyeXB0aW9uXCIseWI6XCJlY1B1YmxpY0tleVwiLG1iOlwiZHNhXCIsd2I6XCJzZWNwMjU2cjFcIixUYjpcInNlY3AxOTJrMVwiLFNiOlwic2VjcDIyNHIxXCIsYmI6XCJzZWNwMjU2azFcIixFYjpcInNlY3A1MjFyMVwiLEliOlwic2VjcDM4NHIxXCIsUmI6XCJTSEExd2l0aERTQVwiLFwiNjA4NjQ4MDE2NTAzMDQwMzAxXCI6XCJTSEEyMjR3aXRoRFNBXCIsXCI2MDg2NDgwMTY1MDMwNDAzMDJcIjpcIlNIQTI1NndpdGhEU0FcIn19O3ZhciBCdD0yMDtZLnByb3RvdHlwZS5HeT1aLFkucHJvdG90eXBlLnFoPVgsWS5wcm90b3R5cGUuZW5jcnlwdD10dCxZLnByb3RvdHlwZS5rYj1ldCxZLnByb3RvdHlwZS50eXBlPVwiUlNBXCI7LyohIHJzYXNpZ24tMS4yLjcuanMgKGMpIDIwMTIgS2VuamkgVXJ1c2hpbWEgfCBranVyLmdpdGh1Yi5jb20vanNyc2FzaWduL2xpY2Vuc2VcbiAgICovXG4gIHZhciBGdD1uZXcgUmVnRXhwKFwiXCIpO0Z0LmNvbXBpbGUoXCJbXjAtOWEtZl1cIixcImdpXCIpLFkucHJvdG90eXBlLiR5PW50LFkucHJvdG90eXBlLmhiPXJ0LFkucHJvdG90eXBlLkNiPW90LFkucHJvdG90eXBlLk9iPXN0LFkucHJvdG90eXBlLnNpZ249cnQsWS5wcm90b3R5cGUuUGI9b3QsWS5wcm90b3R5cGUuQWI9c3QsWS5wcm90b3R5cGUuWnk9aHQsWS5wcm90b3R5cGUuTmI9Y3QsWS5wcm90b3R5cGUueGI9Y3QsWS5CYj0tMSxZLkZiPS0yLFkucHJvdG90eXBlLnBiPXZ0LFkucHJvdG90eXBlLkpoPWd0LFkucHJvdG90eXBlLl9iPWZ0LFkucHJvdG90eXBlLnZlcmlmeT1ndCxZLnByb3RvdHlwZS5EYj1mdCxZLnByb3RvdHlwZS5lbT1tdCxZLnByb3RvdHlwZS5IYj15dCxZLnByb3RvdHlwZS5MYj15dCxZLk1iPS0yLGUuamI9aSxlLk1oPVksZS5TaWduYXR1cmU9S0pVUi5jcnlwdG8uU2lnbmF0dXJlLGUuSVM9S0pVUi5jcnlwdG8uSVMsZS5VYj1idCxlLmpoPUosZS5WYj1LfSxmdW5jdGlvbih0LGUpe1widXNlIHN0cmljdFwiO3ZhciBpPXt9O2kuUWI9ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsMTApfSxpLnFiPWkuUWIoKSxpLkpiPWZ1bmN0aW9uKHQpe3JldHVybiB0LnRyaW0oKS5zcGxpdChcIlxcblwiKS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQudHJpbSgpfSl9LGkuS2I9ZnVuY3Rpb24odCl7dmFyIGU9dC5zcGxpdChcIlxcbm09XCIpO3JldHVybiBlLm1hcChmdW5jdGlvbih0LGUpe3JldHVybihlPjA/XCJtPVwiK3Q6dCkudHJpbSgpK1wiXFxyXFxuXCJ9KX0saS5HYj1mdW5jdGlvbih0LGUpe3JldHVybiBpLkpiKHQpLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4gMD09PXQuaW5kZXhPZihlKX0pfSxpLnpiPWZ1bmN0aW9uKHQpe3ZhciBlO2U9MD09PXQuaW5kZXhPZihcImE9Y2FuZGlkYXRlOlwiKT90LnN1YnN0cmluZygxMikuc3BsaXQoXCIgXCIpOnQuc3Vic3RyaW5nKDEwKS5zcGxpdChcIiBcIik7Zm9yKHZhciBpPXtXYjplWzBdLCRiOmVbMV0scHJvdG9jb2w6ZVsyXS50b0xvd2VyQ2FzZSgpLFliOnBhcnNlSW50KGVbM10sMTApLFhiOmVbNF0scG9ydDpwYXJzZUludChlWzVdLDEwKSx0eXBlOmVbN119LHI9ODtyPGUubGVuZ3RoO3IrPTIpc3dpdGNoKGVbcl0pe2Nhc2VcInJhZGRyXCI6aS5aYj1lW3IrMV07YnJlYWs7Y2FzZVwicnBvcnRcIjppLnRFPXBhcnNlSW50KGVbcisxXSwxMCk7YnJlYWs7Y2FzZVwidGNwdHlwZVwiOmkuZUU9ZVtyKzFdO2JyZWFrO2RlZmF1bHQ6aVtlW3JdXT1lW3IrMV19cmV0dXJuIGl9LGkuaUU9ZnVuY3Rpb24odCl7dmFyIGU9W107ZS5wdXNoKHQuV2IpLGUucHVzaCh0LiRiKSxlLnB1c2godC5wcm90b2NvbC50b1VwcGVyQ2FzZSgpKSxlLnB1c2godC5ZYiksZS5wdXNoKHQuWGIpLGUucHVzaCh0LnBvcnQpO3ZhciBpPXQudHlwZTtyZXR1cm4gZS5wdXNoKFwidHlwXCIpLGUucHVzaChpKSxcImhvc3RcIiE9PWkmJnQuWmImJnQudEUmJihlLnB1c2goXCJyYWRkclwiKSxlLnB1c2godC5aYiksZS5wdXNoKFwicnBvcnRcIiksZS5wdXNoKHQudEUpKSx0LmVFJiZcInRjcFwiPT09dC5wcm90b2NvbC50b0xvd2VyQ2FzZSgpJiYoZS5wdXNoKFwidGNwdHlwZVwiKSxlLnB1c2godC5lRSkpLFwiY2FuZGlkYXRlOlwiK2Uuam9pbihcIiBcIil9LGkuckU9ZnVuY3Rpb24odCl7cmV0dXJuIHQuc3Vic3RyKDE0KS5zcGxpdChcIiBcIil9LGkubkU9ZnVuY3Rpb24odCl7dmFyIGU9dC5zdWJzdHIoOSkuc3BsaXQoXCIgXCIpLGk9e29FOnBhcnNlSW50KGUuc2hpZnQoKSwxMCl9O3JldHVybiBlPWVbMF0uc3BsaXQoXCIvXCIpLGkubmFtZT1lWzBdLGkuc0U9cGFyc2VJbnQoZVsxXSwxMCksaS5hRT0zPT09ZS5sZW5ndGg/cGFyc2VJbnQoZVsyXSwxMCk6MSxpfSxpLmNFPWZ1bmN0aW9uKHQpe3ZhciBlPXQub0U7cmV0dXJuIHZvaWQgMCE9PXQuaEUmJihlPXQuaEUpLFwiYT1ydHBtYXA6XCIrZStcIiBcIit0Lm5hbWUrXCIvXCIrdC5zRSsoMSE9PXQuYUU/XCIvXCIrdC5hRTpcIlwiKStcIlxcclxcblwifSxpLnBFPWZ1bmN0aW9uKHQpe3ZhciBlPXQuc3Vic3RyKDkpLnNwbGl0KFwiIFwiKTtyZXR1cm57aWQ6cGFyc2VJbnQoZVswXSwxMCksZGlyZWN0aW9uOmVbMF0uaW5kZXhPZihcIi9cIik+MD9lWzBdLnNwbGl0KFwiL1wiKVsxXTpcInNlbmRyZWN2XCIsdXJpOmVbMV19fSxpLnVFPWZ1bmN0aW9uKHQpe3JldHVyblwiYT1leHRtYXA6XCIrKHQuaWR8fHQucHJlZmVycmVkSWQpKyh0LmRpcmVjdGlvbiYmXCJzZW5kcmVjdlwiIT09dC5kaXJlY3Rpb24/XCIvXCIrdC5kaXJlY3Rpb246XCJcIikrXCIgXCIrdC51cmkrXCJcXHJcXG5cIn0saS5sRT1mdW5jdGlvbih0KXtmb3IodmFyIGUsaT17fSxyPXQuc3Vic3RyKHQuaW5kZXhPZihcIiBcIikrMSkuc3BsaXQoXCI7XCIpLG49MDtuPHIubGVuZ3RoO24rKyllPXJbbl0udHJpbSgpLnNwbGl0KFwiPVwiKSxpW2VbMF0udHJpbSgpXT1lWzFdO3JldHVybiBpfSxpLmRFPWZ1bmN0aW9uKHQpe3ZhciBlPVwiXCIsaT10Lm9FO2lmKHZvaWQgMCE9PXQuaEUmJihpPXQuaEUpLHQucGFyYW1ldGVycyYmT2JqZWN0LmtleXModC5wYXJhbWV0ZXJzKS5sZW5ndGgpe3ZhciByPVtdO09iamVjdC5rZXlzKHQucGFyYW1ldGVycykuZm9yRWFjaChmdW5jdGlvbihlKXtyLnB1c2goZStcIj1cIit0LnBhcmFtZXRlcnNbZV0pfSksZSs9XCJhPWZtdHA6XCIraStcIiBcIityLmpvaW4oXCI7XCIpK1wiXFxyXFxuXCJ9cmV0dXJuIGV9LGkuZkU9ZnVuY3Rpb24odCl7dmFyIGU9dC5zdWJzdHIodC5pbmRleE9mKFwiIFwiKSsxKS5zcGxpdChcIiBcIik7cmV0dXJue3R5cGU6ZS5zaGlmdCgpLGdFOmUuam9pbihcIiBcIil9fSxpLnZFPWZ1bmN0aW9uKHQpe3ZhciBlPVwiXCIsaT10Lm9FO3JldHVybiB2b2lkIDAhPT10LmhFJiYoaT10LmhFKSx0LnlFJiZ0LnlFLmxlbmd0aCYmdC55RS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2UrPVwiYT1ydGNwLWZiOlwiK2krXCIgXCIrdC50eXBlKyh0LmdFJiZ0LmdFLmxlbmd0aD9cIiBcIit0LmdFOlwiXCIpK1wiXFxyXFxuXCJ9KSxlfSxpLm1FPWZ1bmN0aW9uKHQpe3ZhciBlPXQuaW5kZXhPZihcIiBcIiksaT17d0U6cGFyc2VJbnQodC5zdWJzdHIoNyxlLTcpLDEwKX0scj10LmluZGV4T2YoXCI6XCIsZSk7cmV0dXJuIHI+LTE/KGkuVEU9dC5zdWJzdHIoZSsxLHItZS0xKSxpLnZhbHVlPXQuc3Vic3RyKHIrMSkpOmkuVEU9dC5zdWJzdHIoZSsxKSxpfSxpLlNFPWZ1bmN0aW9uKHQpe3ZhciBlPWkuR2IodCxcImE9bWlkOlwiKVswXTtpZihlKXJldHVybiBlLnN1YnN0cig2KX0saS5iRT1mdW5jdGlvbih0KXt2YXIgZT10LnN1YnN0cigxNCkuc3BsaXQoXCIgXCIpO3JldHVybnthbGdvcml0aG06ZVswXS50b0xvd2VyQ2FzZSgpLHZhbHVlOmVbMV19fSxpLkVFPWZ1bmN0aW9uKHQsZSl7dmFyIHI9aS5HYih0K2UsXCJhPWZpbmdlcnByaW50OlwiKTtyZXR1cm57SUU6XCJhdXRvXCIsUkU6ci5tYXAoaS5iRSl9fSxpLmtFPWZ1bmN0aW9uKHQsZSl7dmFyIGk9XCJhPXNldHVwOlwiK2UrXCJcXHJcXG5cIjtyZXR1cm4gdC5SRS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2krPVwiYT1maW5nZXJwcmludDpcIit0LmFsZ29yaXRobStcIiBcIit0LnZhbHVlK1wiXFxyXFxuXCJ9KSxpfSxpLkNFPWZ1bmN0aW9uKHQsZSl7dmFyIHI9aS5KYih0KTtyPXIuY29uY2F0KGkuSmIoZSkpO3ZhciBuPXtPRTpyLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4gMD09PXQuaW5kZXhPZihcImE9aWNlLXVmcmFnOlwiKX0pWzBdLnN1YnN0cigxMikscGFzc3dvcmQ6ci5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIDA9PT10LmluZGV4T2YoXCJhPWljZS1wd2Q6XCIpfSlbMF0uc3Vic3RyKDEwKX07cmV0dXJuIG59LGkuUEU9ZnVuY3Rpb24odCl7cmV0dXJuXCJhPWljZS11ZnJhZzpcIit0Lk9FK1wiXFxyXFxuYT1pY2UtcHdkOlwiK3QucGFzc3dvcmQrXCJcXHJcXG5cIn0saS5BRT1mdW5jdGlvbih0KXtmb3IodmFyIGU9e05FOltdLHhFOltdLEJFOltdLEZFOltdfSxyPWkuSmIodCksbj1yWzBdLnNwbGl0KFwiIFwiKSxvPTM7bzxuLmxlbmd0aDtvKyspe3ZhciBzPW5bb10sYT1pLkdiKHQsXCJhPXJ0cG1hcDpcIitzK1wiIFwiKVswXTtpZihhKXt2YXIgYz1pLm5FKGEpLGg9aS5HYih0LFwiYT1mbXRwOlwiK3MrXCIgXCIpO3N3aXRjaChjLnBhcmFtZXRlcnM9aC5sZW5ndGg/aS5sRShoWzBdKTp7fSxjLnlFPWkuR2IodCxcImE9cnRjcC1mYjpcIitzK1wiIFwiKS5tYXAoaS5mRSksZS5ORS5wdXNoKGMpLGMubmFtZS50b1VwcGVyQ2FzZSgpKXtjYXNlXCJSRURcIjpjYXNlXCJVTFBGRUNcIjplLkJFLnB1c2goYy5uYW1lLnRvVXBwZXJDYXNlKCkpfX19cmV0dXJuIGkuR2IodCxcImE9ZXh0bWFwOlwiKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2UueEUucHVzaChpLnBFKHQpKX0pLGV9LGkuX0U9ZnVuY3Rpb24odCxlKXt2YXIgcj1cIlwiO3IrPVwibT1cIit0K1wiIFwiLHIrPWUuTkUubGVuZ3RoPjA/XCI5XCI6XCIwXCIscis9XCIgVURQL1RMUy9SVFAvU0FWUEYgXCIscis9ZS5ORS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMCE9PXQuaEU/dC5oRTp0Lm9FfSkuam9pbihcIiBcIikrXCJcXHJcXG5cIixyKz1cImM9SU4gSVA0IDAuMC4wLjBcXHJcXG5cIixyKz1cImE9cnRjcDo5IElOIElQNCAwLjAuMC4wXFxyXFxuXCIsZS5ORS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3IrPWkuY0UodCkscis9aS5kRSh0KSxyKz1pLnZFKHQpfSk7dmFyIG49MDtyZXR1cm4gZS5ORS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3QuREU+biYmKG49dC5ERSl9KSxuPjAmJihyKz1cImE9bWF4cHRpbWU6XCIrbitcIlxcclxcblwiKSxyKz1cImE9cnRjcC1tdXhcXHJcXG5cIixlLnhFLmZvckVhY2goZnVuY3Rpb24odCl7cis9aS51RSh0KX0pLHJ9LGkuSEU9ZnVuY3Rpb24odCl7dmFyIGUscj1bXSxuPWkuQUUodCksbz1uLkJFLmluZGV4T2YoXCJSRURcIikhPT0tMSxzPW4uQkUuaW5kZXhPZihcIlVMUEZFQ1wiKSE9PS0xLGE9aS5HYih0LFwiYT1zc3JjOlwiKS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIGkubUUodCl9KS5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuXCJjbmFtZVwiPT09dC5URX0pLGM9YS5sZW5ndGg+MCYmYVswXS53RSxoPWkuR2IodCxcImE9c3NyYy1ncm91cDpGSURcIikubWFwKGZ1bmN0aW9uKHQpe3ZhciBlPXQuc3BsaXQoXCIgXCIpO3JldHVybiBlLnNoaWZ0KCksZS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHBhcnNlSW50KHQsMTApfSl9KTtoLmxlbmd0aD4wJiZoWzBdLmxlbmd0aD4xJiZoWzBdWzBdPT09YyYmKGU9aFswXVsxXSksbi5ORS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2lmKFwiUlRYXCI9PT10Lm5hbWUudG9VcHBlckNhc2UoKSYmdC5wYXJhbWV0ZXJzLmFwdCl7dmFyIGk9e3dFOmMsTEU6cGFyc2VJbnQodC5wYXJhbWV0ZXJzLmFwdCwxMCksTUU6e3dFOmV9fTtyLnB1c2goaSksbyYmKGk9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShpKSksaS5qRT17d0U6ZSxVRTpzP1wicmVkK3VscGZlY1wiOlwicmVkXCJ9LHIucHVzaChpKSl9fSksMD09PXIubGVuZ3RoJiZjJiZyLnB1c2goe3dFOmN9KTt2YXIgcD1pLkdiKHQsXCJiPVwiKTtyZXR1cm4gcC5sZW5ndGgmJigwPT09cFswXS5pbmRleE9mKFwiYj1USUFTOlwiKT9wPXBhcnNlSW50KHBbMF0uc3Vic3RyKDcpLDEwKTowPT09cFswXS5pbmRleE9mKFwiYj1BUzpcIikmJihwPXBhcnNlSW50KHBbMF0uc3Vic3RyKDUpLDEwKSksci5mb3JFYWNoKGZ1bmN0aW9uKHQpe3QuVkU9cH0pKSxyfSxpLlFFPWZ1bmN0aW9uKHQpe3ZhciBlPXt9LHI9aS5HYih0LFwiYT1zc3JjOlwiKS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIGkubUUodCl9KS5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuXCJjbmFtZVwiPT09dC5URX0pWzBdO3ImJihlLnFFPXIudmFsdWUsZS53RT1yLndFKTt2YXIgbj1pLkdiKHQsXCJhPXJ0Y3AtcnNpemVcIik7ZS5KRT1uLmxlbmd0aD4wLGUuS0U9MD09PW4ubGVuZ3RoO3ZhciBvPWkuR2IodCxcImE9cnRjcC1tdXhcIik7cmV0dXJuIGUuR0U9by5sZW5ndGg+MCxlfSxpLnpFPWZ1bmN0aW9uKHQpe3ZhciBlLHI9aS5HYih0LFwiYT1tc2lkOlwiKTtpZigxPT09ci5sZW5ndGgpcmV0dXJuIGU9clswXS5zdWJzdHIoNykuc3BsaXQoXCIgXCIpLHtzdHJlYW06ZVswXSx0cmFjazplWzFdfTt2YXIgbj1pLkdiKHQsXCJhPXNzcmM6XCIpLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gaS5tRSh0KX0pLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm5cIm1zaWRcIj09PXQuVEV9KTtyZXR1cm4gbi5sZW5ndGg+MD8oZT1uWzBdLnZhbHVlLnNwbGl0KFwiIFwiKSx7c3RyZWFtOmVbMF0sdHJhY2s6ZVsxXX0pOnZvaWQgMH0saS5XRT1mdW5jdGlvbigpe3JldHVyblwidj0wXFxyXFxubz10aGlzaXNhZGFwdGVyb3J0YyA4MTY5NjM5OTE1NjQ2OTQzMTM3IDIgSU4gSVA0IDEyNy4wLjAuMVxcclxcbnM9LVxcclxcbnQ9MCAwXFxyXFxuXCJ9LGkuJEU9ZnVuY3Rpb24odCxlLHIsbil7dmFyIG89aS5fRSh0LmtpbmQsZSk7aWYobys9aS5QRSh0LllFLmdldExvY2FsUGFyYW1ldGVycygpKSxvKz1pLmtFKHQuWEUuZ2V0TG9jYWxQYXJhbWV0ZXJzKCksXCJvZmZlclwiPT09cj9cImFjdHBhc3NcIjpcImFjdGl2ZVwiKSxvKz1cImE9bWlkOlwiK3QuWkUrXCJcXHJcXG5cIixvKz10LmRpcmVjdGlvbj9cImE9XCIrdC5kaXJlY3Rpb24rXCJcXHJcXG5cIjp0LnRJJiZ0LmVJP1wiYT1zZW5kcmVjdlxcclxcblwiOnQudEk/XCJhPXNlbmRvbmx5XFxyXFxuXCI6dC5lST9cImE9cmVjdm9ubHlcXHJcXG5cIjpcImE9aW5hY3RpdmVcXHJcXG5cIix0LnRJKXt2YXIgcz1cIm1zaWQ6XCIrbi5pZCtcIiBcIit0LnRJLnRyYWNrLmlkK1wiXFxyXFxuXCI7bys9XCJhPVwiK3Msbys9XCJhPXNzcmM6XCIrdC5pSVswXS53RStcIiBcIitzLHQuaUlbMF0uTUUmJihvKz1cImE9c3NyYzpcIit0LmlJWzBdLk1FLndFK1wiIFwiK3Msbys9XCJhPXNzcmMtZ3JvdXA6RklEIFwiK3QuaUlbMF0ud0UrXCIgXCIrdC5pSVswXS5NRS53RStcIlxcclxcblwiKX1yZXR1cm4gbys9XCJhPXNzcmM6XCIrdC5pSVswXS53RStcIiBjbmFtZTpcIitpLnFiK1wiXFxyXFxuXCIsdC50SSYmdC5pSVswXS5NRSYmKG8rPVwiYT1zc3JjOlwiK3QuaUlbMF0uTUUud0UrXCIgY25hbWU6XCIraS5xYitcIlxcclxcblwiKSxvfSxpLnJJPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciByPWkuSmIodCksbj0wO248ci5sZW5ndGg7bisrKXN3aXRjaChyW25dKXtjYXNlXCJhPXNlbmRyZWN2XCI6Y2FzZVwiYT1zZW5kb25seVwiOmNhc2VcImE9cmVjdm9ubHlcIjpjYXNlXCJhPWluYWN0aXZlXCI6cmV0dXJuIHJbbl0uc3Vic3RyKDIpfXJldHVybiBlP2kuckkoZSk6XCJzZW5kcmVjdlwifSxpLm5JPWZ1bmN0aW9uKHQpe3ZhciBlPWkuSmIodCkscj1lWzBdLnNwbGl0KFwiIFwiKTtyZXR1cm4gclswXS5zdWJzdHIoMil9LGkuVXQ9ZnVuY3Rpb24odCl7cmV0dXJuXCIwXCI9PT10LnNwbGl0KFwiIFwiLDIpWzFdfSx0LnQ9aX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO3ZhciByPWkoMSksbj1pKDEwKSxvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3RoaXMubXNnPXQsdGhpcy5vST1EYXRlLm5vdygpK2UsdGhpcy5zST1yLmRlZmVyKCl9cmV0dXJuIHQucHJvdG90eXBlLmFJPWZ1bmN0aW9uKCl7cmV0dXJuIERhdGUubm93KCk+PXRoaXMub0l9LHR9KCkscz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLGkscixuLG8scyl7dm9pZCAwPT09ZSYmKGU9M2U0KSx2b2lkIDA9PT1pJiYoaT0xMDApLHZvaWQgMD09PXImJihyPTNlNCksdm9pZCAwPT09biYmKG49MTVlMyksdm9pZCAwPT09byYmKG89RGF0ZSksdm9pZCAwPT09cyYmKHM9ITEpLHRoaXMuY0k9MSx0aGlzLmhJPS0xLHRoaXMucEk9LTEsdGhpcy51ST17fSx0aGlzLmxJPVtdLHRoaXMuZEk9W10sdGhpcy5mST0hMSx0aGlzLmdJPSEwLHRoaXMudkk9dCx0aGlzLnlJPUFycmF5KCksdGhpcy5Bbz1lLHRoaXMuTm89aSx0aGlzLnhvPXIsdGhpcy5tST1uLHRoaXMud0k9byx0aGlzLmZJPXN8fC9NU0lFIDEwL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KXx8L01TSUUgOS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCl8fC9ydjoxMS4wL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KXx8L0VkZ2UuL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KX1yZXR1cm4gdC5wcm90b3R5cGUuRXQ9ZnVuY3Rpb24odCl7dmFyIGU9dC5zZXJ2aWNlK1wiX1wiK3QubXNnSWQsaT10aGlzLnVJW2VdO251bGwhPWk/aSh0KTpuLm0oKS5lcnJvcihuLnUrXCJDb3VsZCBub3QgZmluZCBhIGRpc3BhdGNoZXIgZm9yIFwiLHQsZSx0aGlzLnVJKX0sdC5wcm90b3R5cGUub249ZnVuY3Rpb24odCxlLGkpe3RoaXMudUlbdCtcIl9cIitlXT1pfSx0LnByb3RvdHlwZS5vbmVycm9yPWZ1bmN0aW9uKHQpe3RoaXMubEkucHVzaCh0KX0sdC5wcm90b3R5cGUuVEk9ZnVuY3Rpb24odCl7dGhpcy5kSS5wdXNoKHQpfSx0LnByb3RvdHlwZS5TST1mdW5jdGlvbigpe3ZhciB0PXRoaXM7aWYoIXdpbmRvdy5XZWJTb2NrZXQpcmV0dXJuIHZvaWQgdGhpcy5sSS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiB0KFwiV2ViU29ja2V0IG5vdCBkZWZpbmVkXCIpfSk7dmFyIGU9bmV3IFdlYlNvY2tldCh0aGlzLnZJKTtyZXR1cm4gZS5iaW5hcnlUeXBlPVwiYXJyYXlidWZmZXJcIixlLm9ub3Blbj1mdW5jdGlvbihlKXt0LmJJKCksbi5tKCkuZGVidWcobi51K1wiSGl2ZVNlcnZpY2VzQ29ubmVjdGlvbiBlc3RhYmxpc2hlZCB0byBcIit0LnZJKSx0LnBJPShuZXcgdC53SSkuZ2V0VGltZSgpLHQuRUkoKSx0LmRJLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIGUodCl9KSx0LklJKCksdC5SSSgpfSxlLm9uY2xvc2U9ZnVuY3Rpb24oZSl7dC5jbG9zZSh0LmdJKSx0LmNvbm5lY3QoKX0sZS5vbm1lc3NhZ2U9ZnVuY3Rpb24oZSl7dC5FdChuLlpuLndvKGUuZGF0YSkpfSxlLm9uZXJyb3I9ZnVuY3Rpb24oZSl7dC5jbG9zZSghMCksdC5sSS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiB0KGUudG9TdHJpbmcoKSl9KX0sZX0sdC5wcm90b3R5cGUuaXNPcGVuPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPXRoaXMuT3AmJnRoaXMuT3AucmVhZHlTdGF0ZT09dGhpcy5PcC5PUEVOfSx0LnByb3RvdHlwZS5jb25uZWN0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7dCYmKHRoaXMuZ0k9ITApLHRoaXMuZ0kmJjEhPXRoaXMuaXNPcGVuKCkmJih0aGlzLmhJPjB8fCh0aGlzLnBJPi0xJiYobmV3IHRoaXMud0kpLmdldFRpbWUoKS10aGlzLnBJPnRoaXMuQW8/KHRoaXMuY0k9bi5rZS55byx0aGlzLnBJPS0xKTp0aGlzLmNJPU1hdGgubWluKDIqdGhpcy5jSSx0aGlzLkFvKSx0aGlzLmhJPXdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS5oST0tMSxuLm0oKS5kZWJ1ZyhuLnUrXCJDb25uZWN0aW9uIGF0dGVtcHQgdG8gXCIrZS52SStcIiBbdDpcIitlLmNJK1wiIGhiOlwiK2UuZkkrXCJdXCIpLGUuT3A9ZS5TSSgpLGUuY0k9TWF0aC5tYXgoZS5jSSxuLmtlLnlvKX0sdGhpcy5jSSkpKX0sdC5wcm90b3R5cGUuYkk9ZnVuY3Rpb24oKXt0aGlzLmhJPi0xJiYoY2xlYXJUaW1lb3V0KHRoaXMuaEkpLHRoaXMuaEk9LTEpfSx0LnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbih0KXt0aGlzLmdJPXZvaWQgMCE9dCYmdCxuLm0oKS5kZWJ1ZyhuLnUrXCJDbG9zaW5nIGNvbm5lY3Rpb24gW3JlY29ubmVjdDpcIit0aGlzLmdJK1wiXVwiKSx0aGlzLmJJKCksbnVsbCE9dGhpcy5PcCYmKHRoaXMuT3AuY2xvc2UoKSx0aGlzLk9wPW51bGwpfSx0LnByb3RvdHlwZS5FST1mdW5jdGlvbigpe2Zvcig7dGhpcy55SS5sZW5ndGg+MDspe3ZhciB0PXRoaXMueUkucG9wKCk7dHJ5e3QuYUkoKT90LnNJLnJlamVjdChuZXcgRXJyb3IoXCJNZXNzYWdlIGV4cGlyZWRcIikpOih0aGlzLklJKCksdGhpcy5PcC5zZW5kKHQubXNnLm1vKCkpKX1jYXRjaChlKXtpZihlLmNvZGU9PT1ET01FeGNlcHRpb24uSU5WQUxJRF9TVEFURV9FUlIpe3RoaXMueUkucHVzaCh0KTticmVha31uLm0oKS5lcnJvcihuLnUrXCJGYWlsZWQgdG8gc2VuZCB0aGUgbWVzc2FnZSwgZHJvcHBlZDogXCIsZS5jb2RlLGUubmFtZSksdC5zSS5yZWplY3QoZSl9fXRoaXMuUkkoKX0sdC5wcm90b3R5cGUuSUk9ZnVuY3Rpb24oKXt0aGlzLmtJJiYoY2xlYXJUaW1lb3V0KHRoaXMua0kpLHRoaXMua0k9bnVsbCl9LHQucHJvdG90eXBlLlJJPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLmZJJiYhdGhpcy5rSSYmKHRoaXMua0k9d2luZG93LnNldEludGVydmFsKGZ1bmN0aW9uKCl7dC5zZW5kKG5ldyBuLlpuKFNlcnZpY2VzLkNmLDAsXCJcIikpfSx0aGlzLm1JKSl9LHQucHJvdG90eXBlLnNlbmQ9ZnVuY3Rpb24odCxlKXtpZih2b2lkIDA9PT1lJiYoZT10aGlzLnhvKSx0aGlzLnlJLmxlbmd0aD49dGhpcy5Obyl0aHJvdyBuZXcgRXJyb3IoXCJIaXZlU2VydmljZXMgY29ubmVjdGlvbiBjYW5ub3QgcXVldWUgbW9yZSBtZXNzYWdlc1wiKTt2YXIgaT1uZXcgbyh0LGUpO3JldHVybiB0aGlzLnlJLnB1c2goaSksdGhpcy5PcCYmdGhpcy5FSSgpLGkuc0kudnR9LHQucHJvdG90eXBlLkNJPWZ1bmN0aW9uKHQpe3RoaXMuZkk9dCx0aGlzLmZJJiZ0aGlzLlJJKCl9LHQucHJvdG90eXBlLk9JPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPXRoaXMuT3B9LHR9KCk7ZS5BST1zfSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9aSgxNSksbj1pKDM4KSxvPWkoMjQpLHM9aSgyKSxhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5wcm90b3R5cGUuYXBwbHk9ZnVuY3Rpb24odCl7dC5iaW5kKG5ldyByLm5zKHMuRnJhbWV3b3JrLkZlLm1lLG4uTkksci5zcy5scykpLHQuYmluZChuZXcgci5ucyhzLkZyYW1ld29yay5GZS53ZSxvLkVsLmJsKSl9LHR9KCk7ZS5UZD1hfSxmdW5jdGlvbih0LGUpe1widXNlIHN0cmljdFwiO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe1widW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWw/dGhpcy54ST1nbG9iYWw6dGhpcy54ST13aW5kb3d9cmV0dXJuIHQucHJvdG90eXBlLkN0PWZ1bmN0aW9uKCl7cmV0dXJuITF9LHQucHJvdG90eXBlLkJJPWZ1bmN0aW9uKHQsZSxpKXt9LHQucHJvdG90eXBlLmJlPWZ1bmN0aW9uKCl7fSx0LnByb3RvdHlwZS50aW1lPWZ1bmN0aW9uKCl7cmV0dXJuK25ldyBEYXRlfSx0LnByb3RvdHlwZS5zZXRUaW1lb3V0PWZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy54SS5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dCgpfSxlKTtyZXR1cm4gaX0sdC5wcm90b3R5cGUuY2xlYXJUaW1lb3V0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnhJLmNsZWFyVGltZW91dCh0KSwhMH0sdC5wcm90b3R5cGUuc2V0SW50ZXJ2YWw9ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLnhJLnNldEludGVydmFsKGZ1bmN0aW9uKCl7dCgpfSxlKTtyZXR1cm4gaX0sdC5wcm90b3R5cGUuY2xlYXJJbnRlcnZhbD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy54SS5jbGVhckludGVydmFsKHQpLCEwfSx0fSgpO2UuTkk9aX0sZnVuY3Rpb24odCxlKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt0aGlzLlVvPXQsdGhpcy5Wbz1lfXJldHVybiB0LnByb3RvdHlwZS5Xbz1mdW5jdGlvbigpe3JldHVybiB0aGlzLlVvfSx0LnByb3RvdHlwZS4kbz1mdW5jdGlvbigpe3JldHVybiB0aGlzLlZvP3RoaXMuVm86dGhpcy5Vb30sdH0oKTtlLkZJPWl9LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjt2YXIgcixuPXRoaXMmJnRoaXMuX19leHRlbmRzfHxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIGkoKXt0aGlzLmNvbnN0cnVjdG9yPXR9Zm9yKHZhciByIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShyKSYmKHRbcl09ZVtyXSk7dC5wcm90b3R5cGU9bnVsbD09PWU/T2JqZWN0LmNyZWF0ZShlKTooaS5wcm90b3R5cGU9ZS5wcm90b3R5cGUsbmV3IGkpfSxvPWkoOCkscz1vLnB0LklyLklyLGE9by5wdC5Jci5rcjshZnVuY3Rpb24odCl7dmFyIGU7IWZ1bmN0aW9uKHQpe3ZhciBlPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgZT1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIGUuYXV0aFRva2VuRW5hYmxlZD0hMCxlLmRhc2hSZW1vdmVCaXRyYXRlU2l6ZT0hMSxlLmRhc2hGaWx0ZXJCaXRyYXRlcz1udWxsLGUubG9nSnNvblNuYXBzaG90cz12b2lkIDAsZX1yZXR1cm4gbihlLHQpLGV9KHMpO3QuRmw9ZTt2YXIgaT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIGU9bnVsbCE9PXQmJnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBlLmhpdmVBdXRoVG9rZW5FbmFibGVkPVwiYXV0aFRva2VuRW5hYmxlZFwiLGUuaGl2ZURhc2hSZW1vdmVCaXRyYXRlU2l6ZT1cImRhc2hSZW1vdmVCaXRyYXRlU2l6ZVwiLGUuaGl2ZURhc2hGaWx0ZXJCaXRyYXRlcz1cImRhc2hGaWx0ZXJCaXRyYXRlc1wiLGUuaGl2ZUxvZ0pzb25TbmFwc2hvdHM9XCJsb2dKc29uU25hcHNob3RzXCIsZX1yZXR1cm4gbihlLHQpLGV9KGEpO3QuRGw9aX0oZT10LklyfHwodC5Jcj17fSkpfShyPWUucHR8fChlLnB0PXt9KSk7dmFyIGM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LkhsPWZ1bmN0aW9uKHQpe1wiZGFzaFJlbW92ZUJpdHJhdGVTaXplXCJpbiB0JiZ0LmRhc2hSZW1vdmVCaXRyYXRlU2l6ZSYmd2luZG93LkhpdmVDb25maWcmJndpbmRvdy5IaXZlQ29uZmlnLkRhc2gmJih3aW5kb3cuSGl2ZUNvbmZpZy5EYXNoLkRhc2hSZW1vdmVCaXRyYXRlU2l6ZT10LmRhc2hSZW1vdmVCaXRyYXRlU2l6ZSksXCJkYXNoRmlsdGVyQml0cmF0ZXNcImluIHQmJnQuZGFzaEZpbHRlckJpdHJhdGVzJiZ3aW5kb3cuSGl2ZUNvbmZpZyYmd2luZG93LkhpdmVDb25maWcuRGFzaCYmKHdpbmRvdy5IaXZlQ29uZmlnLkRhc2guRGFzaEZpbHRlckJpdHJhdGVzPXQuZGFzaEZpbHRlckJpdHJhdGVzKSxcImxvZ0pzb25TbmFwc2hvdHNcImluIHQmJnQubG9nSnNvblNuYXBzaG90cyYmd2luZG93LkhpdmVDb25maWcmJndpbmRvdy5IaXZlQ29uZmlnLkRlYnVnTG9ncyYmKHdpbmRvdy5IaXZlQ29uZmlnLkRlYnVnTG9ncy5NZXRyaWNTbmFwc2hvdExvZ3M9MSx3aW5kb3cuSGl2ZUNvbmZpZy5EZWJ1Z0xvZ3MuVHJhY2tTbmFwc2hvdExvZ3M9MSx3aW5kb3cuSGl2ZUNvbmZpZy5EZWJ1Z0xvZ3MuZ2w9MSl9LHR9KCk7ZS5MbD1jfSxmdW5jdGlvbih0LGUpe1widXNlIHN0cmljdFwiO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3ZhciBlPXRoaXM7aWYodGhpcy5fST1uZXcgQXJyYXksdGhpcy5jYWxsYmFja3M9bmV3IEFycmF5LHQuR2kpdGhyb3cgbmV3IEVycm9yKFwiRXJyb3I6IEluc3RhbnRpYXRpb24gZmFpbGVkOiBVc2UgS2V5SGFuZGxlckhpdmVDb21tLmdldEluc3RhbmNlKCkgaW5zdGVhZCBvZiBuZXcuXCIpO3ZhciBpPXt9O2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsZnVuY3Rpb24odCl7aVt0LmtleUNvZGVdPSEwLGUuREkoaSl9LCEwKSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIixmdW5jdGlvbih0KXtpPXt9fSwhMCl9cmV0dXJuIHQuV2k9ZnVuY3Rpb24oKXtyZXR1cm4gdm9pZCAwPT09dGhpcy5HaSYmKHRoaXMuR2k9bmV3IHQpLHRoaXMuR2l9LHQucHJvdG90eXBlLkRoPWZ1bmN0aW9uKHQsZSl7dGhpcy5fSS5wdXNoKHQpLHRoaXMuY2FsbGJhY2tzLnB1c2goZSl9LHQucHJvdG90eXBlLkRJPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1mdW5jdGlvbihlKXt2YXIgcj0hMDtpLl9JW2VdLmZvckVhY2goZnVuY3Rpb24oZSl7dm9pZCAwIT10W2VdJiZ0W2VdfHwocj0hMSl9KSxyJiZpLmNhbGxiYWNrc1tlXSgpfSxpPXRoaXMscj0wO3I8dGhpcy5fSS5sZW5ndGg7cisrKWUocil9LHR9KCk7ZS5IaD1pfSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9aSgxMiksbj1pKDE4KSxvPWkoNykscz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5IST1uLmtlLnlyPzk5ODk6OTk4OCx0aGlzLkxJPS0xLHRoaXMuTUk9dCx0aGlzLmpJKCl9cmV0dXJuIHQucHJvdG90eXBlLmpJPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLk1JLm9wdGlvbnMoKS5zaWxlbnQmJnZvaWQgMD09PXRoaXMuVUkmJih0aGlzLnVybD1cIi8vXCIrci53ci5UbytcIjpcIit0aGlzLkhJK1wiL2ZlZWRiYWNrXCIsdGhpcy5NSS5tKCkuaW5mbyhcInN0YXJ0aW5nIHBlcmlvZGljIGFsaXZlIHBpbmcgdG8gaGl2ZSB0ZXN0ZXIgW1wiK3RoaXMudXJsK1wiXVwiKSx0aGlzLlVJPXNldEludGVydmFsKGZ1bmN0aW9uKCl7dC5WSSgpfSxuLmtlLk5oKSl9LHQucHJvdG90eXBlLlZJPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPXRoaXMuTUkuZ2V0Q3VycmVudFRpbWUoKTtlPnRoaXMuTEk/KHRoaXMuTUkubSgpLmluZm8oXCJzZW5kaW5nIGhpdmUgdGVzdGVyIHBpbmcgW1wiK2UrXCIgPiBcIit0aGlzLkxJK1wiXVwiKSxvLlppKHRoaXMudXJsKS50aGVuKGZ1bmN0aW9uKHQpe30sZnVuY3Rpb24oZSl7dC5NSS5tKCkuZXJyb3IoXCJlcnJvciBzZW5kaW5nIGhpdmUgdGVzdGVyIHBpbmdcIixlKSxjbGVhckludGVydmFsKHQuVUkpfSkpOnRoaXMuTUkubSgpLndhcm4oXCJub3Qgc2VuZGluZyBoaXZlIHRlc3RlciBwaW5nIFtcIitlK1wiIDw9IFwiK3RoaXMuTEkrXCJdXCIpLHRoaXMuTEk9ZX0sdH0oKTtlLlVsPXN9LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjt2YXIgcj10aGlzJiZ0aGlzLl9fZXh0ZW5kc3x8ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBpKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWZvcih2YXIgciBpbiBlKWUuaGFzT3duUHJvcGVydHkocikmJih0W3JdPWVbcl0pO3QucHJvdG90eXBlPW51bGw9PT1lP09iamVjdC5jcmVhdGUoZSk6KGkucHJvdG90eXBlPWUucHJvdG90eXBlLG5ldyBpKX0sbj1pKDEpLG89aSg3KSxzPWkoOCksYT1pKDQ0KSxjPWkoMTcpLGg9aSgxMikscD1pKDE0KSx1PWkoOSksbD1pKDIwKSxkPWkoMTkpLGY9YS5wdC5JcixnPXMucHQuSXIua3Isdj1jLnB0LkhpdmVUZWNoRXJyb3IseT1jLnB0LmJoLG09aSgyOCk7ZS5RST1uYXZpZ2F0b3I7dmFyIHc9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiBudWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIHIoZSx0KSxlfShvLkJpKSxUPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3RoaXMucUk9MCx0aGlzLk1JPXQsdGhpcy5vcHRpb25zXz1uZXcgZi5KSSx0aGlzLktJKGUpLG8ub3Iod2luZG93LmxvY2F0aW9uLmhyZWYsbmV3IGcsdGhpcy5vcHRpb25zXyl9cmV0dXJuIHQucHJvdG90eXBlLkFpPWZ1bmN0aW9uKCl7cmV0dXJuIHQuSmx9LHQucHJvdG90eXBlLmdldFZlcnNpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52ZXJzaW9ufSx0LnByb3RvdHlwZS5XbD1mdW5jdGlvbigpe3JldHVybiExfSx0LnByb3RvdHlwZS5HST1mdW5jdGlvbigpe3ZhciB0PXRoaXM7aWYobnVsbD09dGhpcy56SXx8RGF0ZS5ub3coKS10aGlzLnFJPjFlNCl7dmFyIGU9bmV3IG07ZS5JbihuYXZpZ2F0b3IudXNlckFnZW50KTt2YXIgaT1lLiRkKCk7aWYoXCJJRVwiPT09aS5uYW1lJiZpLnZlcnNpb24mJnBhcnNlSW50KGkudmVyc2lvbik8MTApcmV0dXJuIG4ucmVqZWN0KG5ldyB2KHkueWgsXCJJbnRlcm5ldCBFeHBsb3JlciA8IHYuMTAgbm90IHN1cHBvcnRlZFwiKSk7dGhpcy5XST1EYXRlLm5vdygpLHRoaXMuJEk9MDt2YXIgcj1cIi8vXCIraC53ci5UbytcIjpcIit0aGlzLk1JLm9wdGlvbnMoKS5tb25pdG9yUG9ydCtcIi92ZXJzaW9uLmpzb25cIjt0aGlzLm0oKS5kZWJ1Zyh0aGlzLmlkKCkrXCJ2ZXJpZnlpbmcgSGl2ZSBDbGllbnQgdmVyc2lvblwiKSx0aGlzLnpJPW8uWmkocikudGhlbihmdW5jdGlvbihlKXt2YXIgaT1KU09OLnBhcnNlKGUpO3JldHVybiB0LnN0YXRlPWkuc3RhdGUsdC52ZXJzaW9uPWkudmVyc2lvbixcInJlYWR5XCI9PT10LnN0YXRlP1wiZGV2ZWxvcGVyXCI9PT10LnZlcnNpb258fHQudmVyc2lvbj49dC5vcHRpb25zXy5taW5WZXJzaW9uPyh0LiRJPURhdGUubm93KCksdC5tKCkuZGVidWcodC5pZCgpK1wiSGl2ZSBDbGllbnQgcmVhZHkgLSB2ZXJzaW9uIFwiK3QudmVyc2lvbitcIiBbXCIrKHQuJEktdC5XSSkrXCJdXCIpLFwicmVhZHlcIik6KGQuRXJyb3JNb25pdG9yLldpKCkuX2godC5pZCgpK1wiQ2xpZW50IHZlcnNpb24gcmVxdWlyZW1lbnQgbm90IHNhdGlzZmllZDogXCIrdC52ZXJzaW9uK1wiIDwgXCIrdC5vcHRpb25zXy5taW5WZXJzaW9uKSx0Lk1JLmVkKG5ldyB1LkYudW8obnVsbCx1LkYuR3IuUXIpKSxuLnJlamVjdChuZXcgdih5LlRoLFwidmVyc2lvbiBcIit0LnZlcnNpb24pKSk6KGQuRXJyb3JNb25pdG9yLldpKCkuX2godC5pZCgpK1wiQ2xpZW50IHN0YXRlOiBcIit0LnN0YXRlKSx0Lk1JLmVkKG5ldyB1LkYudW8obnVsbCx1LkYuR3IuVnIpKSxuLnJlamVjdChuZXcgdih5LnloLFwic3RhdGUgXCIrdC5zdGF0ZSkpKX0sZnVuY3Rpb24oZSl7dmFyIGk9XCJDbGllbnQgbm90IHJlYWNoYWJsZVwiO3JldHVybiB2b2lkIDAhPWUmJnZvaWQgMCE9ZS5zdGF0dXMmJmUuc3RhdHVzIT0tMSYmKGk9XCJDbGllbnQgY2hlY2sgcmV0dXJuZWQgXCIrZS5zdGF0dXMpLGQuRXJyb3JNb25pdG9yLldpKCkuX2godC5pZCgpK2kpLHQuTUkuZWQobmV3IHUuRi51byhudWxsLHUuRi5Hci5VcikpLG4ucmVqZWN0KG5ldyB2KHkueWgsaSkpfSlbXCJjYXRjaFwiXShmdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgdilyZXR1cm4gbi5yZWplY3QoZSk7dmFyIGk9XCJFcnJvciBmZXRjaGluZyBIaXZlIENsaWVudCB2ZXJzaW9uOiBcIitlO3JldHVybiBkLkVycm9yTW9uaXRvci5XaSgpLl9oKHQuaWQoKStpKSxuLnJlamVjdChuZXcgdih5LnloLGkpKX0pLHRoaXMucUk9RGF0ZS5ub3coKX1yZXR1cm4gdGhpcy56SX0sdC5wcm90b3R5cGUuaW5pdFNlc3Npb249ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzO3JldHVybiB0aGlzLm9wdGlvbnNfLm1pblZlcnNpb24hPWgud3IuSW8/dGhpcy5HSSgpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gaS5ZSSh0KVtcImNhdGNoXCJdKGZ1bmN0aW9uKHQpe3JldHVybiBuLnJlamVjdCh0KX0pfSk6dGhpcy5ZSSh0KVtcImNhdGNoXCJdKGZ1bmN0aW9uKHQpe3JldHVybiBuLnJlamVjdCh0KX0pfSx0LnByb3RvdHlwZS5ZbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm9wdGlvbnNfLmluaXRUaW1lb3V0fSx0LnByb3RvdHlwZS5zdD1mdW5jdGlvbih0LGUpe3JldHVybiB0LmluZGV4T2YoZS5YSSk+LTF9LHQucHJvdG90eXBlLlBpPWZ1bmN0aW9uKHQsaSl7dmFyIHI9dGhpczt0aGlzLm0oKS5kZWJ1Zyh0aGlzLmlkKCkrXCJTdG9wcGluZyBzZXNzaW9uIFwiK3QuaWQrXCIgW2NvbXBsZXRlIGNsb3NlOlwiK2krXCJdXCIpO3ZhciBuPVwiLy9cIitoLndyLlRvK1wiOlwiK3RoaXMuTUkub3B0aW9ucygpLnBsYXllclBvcnQrXCIvc2Vzc2lvbj9hY3Rpb249c3RvcFwiO24rPVwiJmN1cnJlbnRTZXNzaW9uPVwiK3QuaWQsaSYmKG4rPVwiJmNvbXBsZXRlU3RvcD10cnVlXCIpLGkmJmUuUUkuc2VuZEJlYWNvbj8oZS5RSS5zZW5kQmVhY29uKG4pLHRoaXMubSgpLmRlYnVnKHRoaXMuaWQoKStcInNlc3Npb24gc3RvcHBlZCBbXCIrdC5pZCtcIl1bYmVhY29uXVwiKSk6by5aaShuLG51bGwsIWkpLnRoZW4oZnVuY3Rpb24oKXtyLm0oKS5kZWJ1ZyhyLmlkKCkrXCJzZXNzaW9uIHN0b3BwZWQgW1wiK3QuaWQrXCJdXCIrKGk/XCJbc3luY11cIjpcIlwiKSl9LGZ1bmN0aW9uKGUpe3IubSgpLndhcm4oci5pZCgpK1wic2Vzc2lvbiBjbG9zZSBlcnJvciBbXCIrdC5pZCtcIl1cIisoaT9cIltzeW5jXVwiOlwiXCIpLGUpfSl9LHQucHJvdG90eXBlLkNpPWZ1bmN0aW9uKHQsZSl7dGhpcy5aST1lP3AuRm8uSURMRTpwLkZvLkJvLHRoaXMubSgpLm5vdGljZShcIltIaXZlQ29tbV0gY2xpZW50IHN0YXRlOiBcIitwLkZvW3RoaXMuWkldKX0sdC5wcm90b3R5cGUuZmQ9ZnVuY3Rpb24odCxlKXtpZih0aGlzLlpJPT1wLkZvLklETEUpcmV0dXJuIG4ucmVzb2x2ZSghMCk7dmFyIGk9XCJwbGF5aW5nLXBvaW50PVwiK2UubHI7aSs9XCImYnVmZmVyLWxlbmd0aD1cIitlLmRyLGkrPVwiJnRvdGFsLWJ1ZmZlcmluZz1cIitlLmdyLGkrPVwiJndpZHRoPVwiK2Uud2lkdGgsaSs9XCImaGVpZ2h0PVwiK2UuaGVpZ2h0LGkrPVwiJmZ1bGxzY3JlZW49XCIrZS5kZDt2YXIgcj10LlhJK1wic3RhdHM/XCIraTtyZXR1cm4gdGhpcy5tKCkudHJhY2Uociksby5aaShyKX0sdC5wcm90b3R5cGUueWQ9ZnVuY3Rpb24odCxlLGkpe3ZhciByPXRoaXM7aWYoIShlIT09dS5GLkIuanImJmUhPT11LkYuQi5ISURERU58fHRoaXMudmVyc2lvbiYmKFwiZGV2ZWxvcGVyXCI9PT10aGlzLnZlcnNpb258fHRoaXMudmVyc2lvbj49XCIyMDE3XCIpKSlyZXR1cm4gbi5yZXNvbHZlKCEwKTt2YXIgcz10LlhJK1wicGxheWVyLWV2ZW50P3R5cGU9XCIrdS5GLkJbZV07aWYodm9pZCAwIT1pKWZvcih2YXIgYSBpbiBpKXMrPVwiJlwiK2ErXCI9XCIraVthXTtyZXR1cm4gdGhpcy5tKCkuZGVidWcodGhpcy5pZCgpK1wiZXZlbnQgXCIrdS5GLkJbZV0sdm9pZCAwIT1pP2k6XCJcIiksby5aaShzKS5mYWlsKGZ1bmN0aW9uKHQpe3JldHVybiByLm0oKS53YXJuKHIuaWQoKStcImVycm9yIHNlbmRpbmcgZmVlZGJhY2sgZXZlbnQgdG8gSGl2ZSBDbGllbnRcIix0KSxuLnJlamVjdCh0KX0pfSx0LnByb3RvdHlwZS53bj1mdW5jdGlvbih0LGUpe3JldHVybiBuLnJlc29sdmUoITApfSx0LnByb3RvdHlwZS5obj1mdW5jdGlvbih0KXt2YXIgZT10aGlzO2lmKHRoaXMudFIoKSlyZXR1cm4gdGhpcy5tKCkud2FybihcIlBsYXllciBpbmZvIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBKYXZhIGNsaWVudCB2ZXJzaW9uXCIpLG4ucmVzb2x2ZSghMCk7dmFyIGk9XCJjb21tLXZlcnNpb249XCIrdGhpcy5NSS5jdCgpO2krPVwiJnBsdWdpbi1uYW1lPVwiK3RoaXMuTUkuVCgpLGkrPVwiJnBsdWdpbi12ZXJzaW9uPVwiK3RoaXMuTUkuSSgpLGkrPVwiJnBsYXllci10ZWNoPVwiK3RoaXMuTUkuaHQoKSxpKz1cIiZwbGF5ZXItdmVyc2lvbj1cIit0aGlzLk1JLnEoKTt2YXIgcj10aGlzLk1JLnRkKCk7ciYmKGkrPVwiJnRlbGVtZXRyeS1pZD1cIit0aGlzLk1JLnRkKCkpO3ZhciBzPXQuWEkrXCJwbGF5ZXItaW5mbz9cIitpO3JldHVybiBvLlppKHMpLmZhaWwoZnVuY3Rpb24odCl7cmV0dXJuIGUubSgpLmRlYnVnKGUuaWQoKStcImVycm9yIHNlbmRpbmcgcGxheWVyIEluZm8gdG8gSGl2ZSBDbGllbnRcIix0KSxuLnJlamVjdCh0KX0pfSx0LnByb3RvdHlwZS5vbkVycm9yPWZ1bmN0aW9uKHQpe3ZhciBlPSEwO2lmKHZvaWQgMCE9dGhpcy5vcHRpb25zXy5vbkVycm9yKXRyeXtlPXRoaXMub3B0aW9uc18ub25FcnJvcih0KX1jYXRjaChpKXtkLkVycm9yTW9uaXRvci5XaSgpLl9oKHRoaXMuaWQoKStcImV4Y2VwdGlvbiBpbiB1c2VyLWRlZmluZWQgb25FcnJvciBjYWxsYmFjazogXCIraSl9cmV0dXJuIGV9LHQucHJvdG90eXBlLlpsPWZ1bmN0aW9uKHQsZSxpKXt2YXIgcj17aXNSZWFkeUluOnRoaXMuV0ksaXNSZWFkeU91dDp0aGlzLiRJLGxlYXNlSW46dGhpcy5lUixsZWFzZU91dDp0aGlzLmlSLHJlc29sdmVJbjp0aGlzLnJSLHJlc29sdmVPdXQ6dGhpcy5uUn07XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGUmJm51bGwhPWUmJihyLnNlc3Npb25JZD1lLmlkKSxcInVuZGVmaW5lZFwiIT10eXBlb2YgaSYmKHIudG90YWw9aSk7dmFyIG49SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShyKSk7ZC5FcnJvck1vbml0b3IuV2koKS5faCh0Lm1lc3NhZ2UsbiksdGhpcy5NSS5lZChuZXcgdS5GLnVvKG51bGwsdS5GLkdyLktyLHIpKSx0aGlzLm9SKCl9LHQucHJvdG90eXBlLm9uQWN0aXZlU2Vzc2lvbj1mdW5jdGlvbih0KXtpZih0aGlzLmhuKHQpLG8uYXIuc2V0SXRlbShcImhpdmVBY3RpdmVTZXNzaW9uSWRcIix0LmlkKSx2b2lkIDAhPXRoaXMub3B0aW9uc18ub25BY3RpdmVTZXNzaW9uKXRyeXt0aGlzLm9wdGlvbnNfLm9uQWN0aXZlU2Vzc2lvbih0LmcoKSl9Y2F0Y2goZSl7ZC5FcnJvck1vbml0b3IuV2koKS5faCh0aGlzLmlkKCkrXCJleGNlcHRpb24gaW4gdXNlci1kZWZpbmVkIG9uQWN0aXZlU2Vzc2lvbiBjYWxsYmFjazogXCIrZSl9fSx0LnByb3RvdHlwZS5xbD1mdW5jdGlvbih0KXt0aGlzLk1JPXR9LHQucHJvdG90eXBlLmlkPWZ1bmN0aW9uKCl7cmV0dXJuXCJbXCIrdC5KbCtcIl0gXCJ9LHQucHJvdG90eXBlLktJPWZ1bmN0aW9uKGUpe3ZvaWQgMCE9ZVt0LkpsXSYmby5ucihlW3QuSmxdLHRoaXMub3B0aW9uc18pfSx0LnByb3RvdHlwZS5ZST1mdW5jdGlvbih0KXt2YXIgZT10aGlzLGk9KG5ldyBEYXRlKS5nZXRUaW1lKCk7cmV0dXJuIHRoaXMuc1IodCkudGhlbihmdW5jdGlvbihyKXtyZXR1cm4gcj9lLmFSKHQscixpKTplLnAodCkudGhlbihmdW5jdGlvbihyKXtyZXR1cm4gZS5hUih0LHIsaSl9KX0pfSx0LnByb3RvdHlwZS5zUj1mdW5jdGlvbihlKXt2YXIgaT10aGlzO2lmKHRoaXMuZVI9RGF0ZS5ub3coKSx0aGlzLk1JLm9wdGlvbnMoKS51c2VTZXNzaW9uQ2hlY2spe3ZhciByPVwiLy9cIitoLndyLlRvK1wiOlwiK3RoaXMuTUkub3B0aW9ucygpLnBsYXllclBvcnQrXCIvc2Vzc2lvbj8mYWN0aW9uPWNoZWNrXCI7cis9XCImaGl2ZVBsdWdpbklkPVwiK3RoaXMuTUkuUygpLHIrPVwiJmNhbGxiYWNrPVwiK2U7dmFyIHM9by5hci5nZXRJdGVtKFwiaGl2ZUFjdGl2ZVNlc3Npb25JZFwiKTtyZXR1cm4gby5hci5yZW1vdmVJdGVtKFwiaGl2ZUFjdGl2ZVNlc3Npb25JZFwiKSxzJiYocis9XCImY3VycmVudFNlc3Npb249XCIrcyksdGhpcy5jUigpLG8uWmkocikudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gaS5pUj1EYXRlLm5vdygpLHQ/aS5oUih0LHIsZSxpLmVSKTooaS5tKCkuZGVidWcoaS5pZCgpK1wic2Vzc2lvbiBhbGxvd2VkIFtcIisoaS5pUi1pLmVSKStcIl1cIiksITEpfSxmdW5jdGlvbihlKXtpZig0MDA9PWUuc3RhdHVzKXJldHVybiBpLnBSKFwiYmFkIHJlcXVlc3RcIixcImVycm9yIHJlc29sdmluZyB0aWNrZXRcIixlKTtpZig0MDE9PWUuc3RhdHVzKXJldHVybiBpLnBSKFwidW5hdXRob3JpemVkXCIsXCJlcnJvciB2ZXJpZnlpbmcgdGhlIHRpY2tldFwiLGUpO2lmKDQwMz09ZS5zdGF0dXMpe3ZhciByPXQudVIoZSx2b2lkIDAsXCJzZXNzaW9uXCIpLG89cj97bFI6cn06dm9pZCAwO3JldHVybiBkLkVycm9yTW9uaXRvci5XaSgpLl9oKGkuaWQoKStcInJlcG9ydHMgYW5vdGhlciBhY3RpdmUgc2Vzc2lvblwiLG8pLGkuTUkuZWQobmV3IHUuRi51byhudWxsLHUuRi5Hci5xcixvKSksbi5yZWplY3QobmV3IHYoeS53aCxcImFub3RoZXIgYWN0aXZlIHNlc3Npb25cIisobz9cIiBbXCIrby5sUitcIl1cIjpcIlwiKSkpfXJldHVybiA0MDQ9PWUuc3RhdHVzPyhpLm0oKS5kZWJ1ZyhpLmlkKCkrXCJpbnN0YWxsZWQgdmVyc2lvbiBkb2VzIG5vdCBzdXBwb3J0IGFjdGl2ZSBzZXNzaW9uIGNoZWNrXCIpLGkuaVI9RGF0ZS5ub3coKSwhMSk6ZS5zdGF0dXM9PS0xPyhjbGVhclRpbWVvdXQoaS5kUiksaS5mUigpKTooZC5FcnJvck1vbml0b3IuV2koKS5faChpLmlkKCkrXCIgdW5oYW5kbGVkIGVycm9yIGZyb20gSmF2YVwiLHtlcnJvcjplLnN0YXR1c30pLGkuTUkuZWQobmV3IHUuRi51byhudWxsLHUuRi5Hci5KcikpLG4ucmVqZWN0KG5ldyB2KHkubWgsZSkpKX0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiB2P24ucmVqZWN0KHQpOihkLkVycm9yTW9uaXRvci5XaSgpLl9oKGkuaWQoKStcIiB1bmhhbmRsZWQgZXJyb3Igb24gcmVxdWVzdExlYXNlRGlyZWN0XCIse2Vycm9yOnR9KSxpLk1JLmVkKG5ldyB1LkYudW8obnVsbCx1LkYuR3IuSnIpKSxuLnJlamVjdChuZXcgdih5Lm1oLHQpKSl9KVtcImZpbmFsbHlcIl0oZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQoaS5kUil9KX1yZXR1cm4gdGhpcy5tKCkuZGVidWcodGhpcy5pZCgpK1wiSGl2ZSBzZXNzaW9uIGNoZWNrIGRpc2FibGVkIC0gd2lsbCBkaXJlY3RseSByZXNvbHZlIHRpY2tldCAob3RoZXIgYWN0aXZlIHNlc3Npb25zIG1heSBmYWlsKVwiKSxuLnJlc29sdmUoITEpfSx0LnByb3RvdHlwZS5wUj1mdW5jdGlvbihlLGkscil7dmFyIG89dC51UihyLGUpO3JldHVybiBkLkVycm9yTW9uaXRvci5XaSgpLl9oKFwiXCIrdGhpcy5pZCgpK2kpLHRoaXMublI9RGF0ZS5ub3coKSxuLnJlamVjdChuZXcgdih5LnBoLG8pKX0sdC51Uj1mdW5jdGlvbih0LGUsaSl7dm9pZCAwPT09aSYmKGk9XCJzdGF0dXNcIik7dmFyIHI9ZTtpZih0LmJvZHkpdHJ5e3ZhciBuPUpTT04ucGFyc2UodC5ib2R5KTtyPW5baV19Y2F0Y2gobyl7fXJldHVybiByfSx0LnByb3RvdHlwZS5wPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7dGhpcy5yUj1EYXRlLm5vdygpLHRoaXMubSgpLmRlYnVnKHRoaXMuaWQoKStcInJlc29sdmluZyB0aWNrZXQ6IFwiK3QpO3ZhciBpPXRoaXMuZ1IodCk7cmV0dXJuIG8uWmkoaSxcImFwcGxpY2F0aW9uL2pzb25cIikudGhlbihmdW5jdGlvbihyKXtyZXR1cm4gZS5oUihyLGksdCxlLnJSKX0sZnVuY3Rpb24oaSl7cmV0dXJuIGkmJmkuc3RhdHVzPT0tMT9lLmZSKCk6KGQuRXJyb3JNb25pdG9yLldpKCkuX2goZS5pZCgpK1wiZXJyb3IgcmVzb2x2aW5nIHRpY2tldFwiLHt0aWNrZXQ6dH0pLG4ucmVqZWN0KG5ldyB2KHkucGgsaSkpKX0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24odCl7cmV0dXJuIGQuRXJyb3JNb25pdG9yLldpKCkuX2goZS5pZCgpK1wiZXJyb3IgcGFyc2luZyB0aWNrZXQgcmVzcG9uc2U6IFwiK3QpLG4ucmVqZWN0KG5ldyB2KHkubWgsdCkpfSl9LHQucHJvdG90eXBlLmhSPWZ1bmN0aW9uKHQsZSxpLHIpe3ZhciBuPUpTT04ucGFyc2UodCkscz1vLmlyKGUsbi5sb2NhdGlvbik7cmV0dXJuIG4udmVyc2lvbiYmIXRoaXMudmVyc2lvbiYmKHRoaXMudmVyc2lvbj1uLnZlcnNpb24pLHRoaXMublI9RGF0ZS5ub3coKSx0aGlzLm0oKS5kZWJ1Zyh0aGlzLmlkKCkrXCJyZXNvbHZlZCB0aWNrZXQgXCIraStcIiAtPiBcIitzK1wiIFtcIisodGhpcy5uUi1yKStcIl1cIiksc30sdC5wcm90b3R5cGUuYVI9ZnVuY3Rpb24odCxlLGkpe3ZhciByPXRoaXMudlIodCxlKTtpZihudWxsIT1yKXt2YXIgbj0obmV3IERhdGUpLmdldFRpbWUoKSxzPW4taTtyZXR1cm4gcz49dGhpcy5vcHRpb25zXy53YXJuU2xvd1Jlc3BUaW1lb3V0JiZ0aGlzLlpsKG5ldyB2KHkuU2gsdGhpcy5pZCgpK1wiIFRoZSB0ZWNoIGluaXRpYWxpemF0aW9uIHRvb2sgbW9yZSB0aGFuIFwiK3RoaXMub3B0aW9uc18ud2FyblNsb3dSZXNwVGltZW91dCtcIiBtaWxsaXNlY29uZHNcIikscixzKSxvLkhpdmVSZXF1ZXN0RmFjdG9yeS5iaShyLmlkLHRoaXMuQWkoKSkscn10aHJvdyBuZXcgdih5LnBoLFwiZXJyb3IgZ2VuZXJhdGluZyBzZXNzaW9uXCIpfSx0LnByb3RvdHlwZS52Uj1mdW5jdGlvbih0LGUpe3ZhciBpPW5ldyBsLmFwO2kuS2godCk7dmFyIHI9bmV3IHcodCxpLGUsbnVsbCk7ci55Uj0hMDt2YXIgbj1oLndyLkVvLG89bi5leGVjKHIubWFuaWZlc3QpO3JldHVybiBudWxsIT1vPyhyLlhJPW9bMV0sci5pZD1vWzVdLHIpOm51bGx9LHQucHJvdG90eXBlLmdSPWZ1bmN0aW9uKHQpe3ZhciBlPXQuaW5kZXhPZihcIj9cIik9PS0xP1wiP1wiOlwiJlwiO3JldHVybiB0aGlzLnRSKCk/by5ycihoLndyLmJvLGgud3IuVG8sdGhpcy5NSS5vcHRpb25zKCkucGxheWVyUG9ydCx0KTpvLnJyKGgud3IuU28saC53ci5Ubyx0aGlzLk1JLm9wdGlvbnMoKS5wbGF5ZXJQb3J0LHQsZSx0aGlzLk1JLlMoKSl9LHQucHJvdG90eXBlLmNSPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLmRSJiZjbGVhclRpbWVvdXQodGhpcy5kUiksdGhpcy5kUj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZC5FcnJvck1vbml0b3IuV2koKS5faCh0LmlkKCkrXCIgVGhlIExlYXNlIFJlcXVlc3QgaXMgdGFraW5nIG1vcmUgdGhhbiBcIit0Lm9wdGlvbnNfLndhcm5TbG93UmVzcFRpbWVvdXQrXCIgc2Vjc1wiKX0sdGhpcy5vcHRpb25zXy53YXJuU2xvd1Jlc3BUaW1lb3V0KX0sdC5wcm90b3R5cGUub1I9ZnVuY3Rpb24oKXt0aGlzLmVSPTAsdGhpcy5pUj0wLHRoaXMuclI9MCx0aGlzLm5SPTB9LHQucHJvdG90eXBlLm09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5NSS5tKCl9LHQucHJvdG90eXBlLnpsPWZ1bmN0aW9uKCl7dGhpcy5vUigpfSx0LnByb3RvdHlwZS5mUj1mdW5jdGlvbigpe3ZhciB0PXRoaXMsZT1cIi8vXCIraC53ci5UbytcIjpcIit0aGlzLk1JLm9wdGlvbnMoKS5tb25pdG9yUG9ydCtcIi92ZXJzaW9uLmpzb25cIjtyZXR1cm4gdGhpcy5tKCkuZGVidWcodGhpcy5pZCgpK1wiY2hlY2tpbmcgaWYgdGhlIG1vbml0b3IgcG9ydCBpcyByZWFjaGFibGVcIiksby5aaShlKS50aGVuKGZ1bmN0aW9uKGUpe3ZhciBpPUpTT04ucGFyc2UoZSk7dGhyb3cgdC5zdGF0ZT1pLnN0YXRlLGQuRXJyb3JNb25pdG9yLldpKCkuX2godC5pZCgpK1wiQ2xpZW50IHN0YXRlOiBcIit0LnN0YXRlKSx0Lk1JLmVkKG5ldyB1LkYudW8obnVsbCx1LkYuR3IuVnIpKSxuZXcgdih5LnloLFwic3RhdGUgXCIrdC5zdGF0ZSl9KS5mYWlsKGZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiB2KXJldHVybiBuLnJlamVjdChlKTtpZihlJiZlLnN0YXR1cz09LTEpe3ZhciBpPVwiY2xpZW50IG5vdCByZWFjaGFibGVcIjtyZXR1cm4gdC5NSS5lZChuZXcgdS5GLnVvKG51bGwsdS5GLkdyLlVyKSksdC5tKCkud2Fybih0LmlkKCkraSksbi5yZWplY3QobmV3IHYoeS55aCxpKSl9dmFyIGk9XCJWZXJpZnlDbGllbnRTdGF0ZSBlcnJvclwiO3JldHVybiBkLkVycm9yTW9uaXRvci5XaSgpLl9oKHQuaWQoKStpLHtlcnJvcjplfSksdC5NSS5lZChuZXcgdS5GLnVvKG51bGwsdS5GLkdyLlZyKSksbi5yZWplY3QobmV3IHYoeS5taCxpKSl9KX0sdC5wcm90b3R5cGUudFI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcHRpb25zXy5zdXBwb3J0TGVnYWN5Q2xpZW50JiYoIXRoaXMudmVyc2lvbnx8dGhpcy52ZXJzaW9uLnN1YnN0cigwLDQpPFwiMjAxNlwiKX0sdH0oKTtULkpsPVwiSGl2ZUphdmFcIixlLkhpdmVKYXZhPVR9LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjt2YXIgcixuPXRoaXMmJnRoaXMuX19leHRlbmRzfHxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIGkoKXt0aGlzLmNvbnN0cnVjdG9yPXR9Zm9yKHZhciByIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShyKSYmKHRbcl09ZVtyXSk7dC5wcm90b3R5cGU9bnVsbD09PWU/T2JqZWN0LmNyZWF0ZShlKTooaS5wcm90b3R5cGU9ZS5wcm90b3R5cGUsbmV3IGkpfSxvPWkoOCkscz1pKDEyKTshZnVuY3Rpb24odCl7dmFyIGU7IWZ1bmN0aW9uKHQpe3ZhciBlPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgZT1udWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIGUubWluVmVyc2lvbj1zLndyLklvLGUuaW5pdFRpbWVvdXQ9NmU0LGUud2FyblNsb3dSZXNwVGltZW91dD01ZTMsZS5zdXBwb3J0TGVnYWN5Q2xpZW50PSExLGV9cmV0dXJuIG4oZSx0KSxlfShvLnB0LklyLlJyKTt0LkpJPWV9KGU9dC5Jcnx8KHQuSXI9e30pKX0ocj1lLnB0fHwoZS5wdD17fSkpfSxmdW5jdGlvbih0LGUpe1widXNlIHN0cmljdFwiO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdH0oKTtpLlRvPVwiMTI3LjAuMC4xXCIsaS5PZD0xMTk4MyxpLlNvPVwiLy97MH06ezF9L3Byb3h5Lz9jYWxsYmFjaz17Mn17M31oaXZlUGx1Z2luSWQ9ezR9XCIsaS5tUj1cIi8vezB9OnsxfS9wcm94eS97Mn0vc2Vzc2lvbj9tYW5pZmVzdD17M31cIixpLmtkPVwiLy97MH06ezF9L3Byb3h5L3syfS9wbGF5ZXI/cmVxPXszfVwiLGkud1I9XCIvL3swfTp7MX0vcHJveHkvezJ9L2luZm8/ezN9XCIsZS5DZD1pfSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gaSgpe3RoaXMuY29uc3RydWN0b3I9dH1mb3IodmFyIHIgaW4gZSllLmhhc093blByb3BlcnR5KHIpJiYodFtyXT1lW3JdKTt0LnByb3RvdHlwZT1udWxsPT09ZT9PYmplY3QuY3JlYXRlKGUpOihpLnByb3RvdHlwZT1lLnByb3RvdHlwZSxuZXcgaSl9LG49aSgyNiksbz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIG51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gcihlLHQpLGUuYmk9ZnVuY3Rpb24odCxpKXtlLlRSW2ldPXR9LGUuU1I9ZnVuY3Rpb24odCxpKXtlLmJSW2ldPXR9LGUucHJvdG90eXBlLnNlbmQ9ZnVuY3Rpb24oKXtpZighdGhpcy5zZXNzaW9uSWQpe3ZhciB0PU9iamVjdC5rZXlzKGUuYlIpO3QubGVuZ3RoPjAmJih0aGlzLnNlc3Npb25JZD1lLmJSW3RbMF1dKX12YXIgaT1lLlRSW3RoaXMuc2Vzc2lvbklkXSxyPWUuYlJbdGhpcy5zZXNzaW9uSWRdO3IubSgpLmRlYnVnKFwiSW50ZXJjZXB0ZWQgTWFuaWZlc3QgUmVxdWVzdCBcIit0aGlzLnVybCksaS5zZXRNYW5pZmVzdFJlcXVlc3QodGhpcyksci5SKHRoaXMudXJsKX0sZS5wcm90b3R5cGUuRVI9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9bmV3IFhNTEh0dHBSZXF1ZXN0O2Uub3BlbihcIkdFVFwiLHRoaXMudXJsKSxlLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpezQ9PT1lLnJlYWR5U3RhdGUmJih0LnJlc3BvbnNlPWUucmVzcG9uc2VUZXh0LHQucmVzcG9uc2VUZXh0PWUucmVzcG9uc2VUZXh0LHQucmVhZHlTdGF0ZT00LHQuc3RhdHVzPWUuc3RhdHVzLHQub25yZWFkeXN0YXRlY2hhbmdlKCksdC5vbmxvYWQoKSxjb25zb2xlLmRlYnVnKFwiUmV0dXJuZWQgTWFuaWZlc3QgUmVxdWVzdCBcIit0LnVybCkpfSxlLnNlbmQoKX0sZS5wcm90b3R5cGUuSVI9ZnVuY3Rpb24oKXt0LnByb3RvdHlwZS5zZW5kLmNhbGwodGhpcyl9LGV9KG4uVGkpO28uYlI9e30sby5UUj17fSxlLlNpPW99LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjt2YXIgcixuPXRoaXMmJnRoaXMuX19leHRlbmRzfHxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIGkoKXt0aGlzLmNvbnN0cnVjdG9yPXR9Zm9yKHZhciByIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShyKSYmKHRbcl09ZVtyXSk7dC5wcm90b3R5cGU9bnVsbD09PWU/T2JqZWN0LmNyZWF0ZShlKTooaS5wcm90b3R5cGU9ZS5wcm90b3R5cGUsbmV3IGkpfSxvPWkoOCk7IWZ1bmN0aW9uKHQpe3ZhciBlOyFmdW5jdGlvbih0KXt2YXIgZT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIG51bGwhPT10JiZ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gbihlLHQpLGV9KG8ucHQuSXIuUnIpO3QuUlI9ZX0oZT10LklyfHwodC5Jcj17fSkpfShyPWUucHR8fChlLnB0PXt9KSl9LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1pKDEpLG49aSg3KSxvPWkoNDcpLHM9by5wdC5Jci5SUixhPWkoMTQpLGM9aSg1OSksaD1pKDE5KSxwPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlLGkpe3RoaXMuTUk9ZSx0aGlzLm9wdGlvbnNfPW5ldyBzLHZvaWQgMCE9PWlbdC5KbF0mJm4ubnIoaVt0LkpsXSx0aGlzLm9wdGlvbnNfKX1yZXR1cm4gdC5wcm90b3R5cGUuQWk9ZnVuY3Rpb24oKXtyZXR1cm4gdC5KbH0sdC5wcm90b3R5cGUuZ2V0VmVyc2lvbj1mdW5jdGlvbigpe3JldHVybiBudWxsfSx0LnByb3RvdHlwZS5XbD1mdW5jdGlvbigpe3JldHVybiEwfSx0LnByb3RvdHlwZS5HST1mdW5jdGlvbigpe3JldHVybiByLnJlc29sdmUoITApfSx0LnByb3RvdHlwZS5pbml0U2Vzc2lvbj1mdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMudlIodCxlLnRpY2tldCxlLnRpY2tldC50cCgpLGUpO3JldHVybiBuLkhpdmVSZXF1ZXN0RmFjdG9yeS5iaShpLmlkLHRoaXMuQWkoKSksci5yZXNvbHZlKGkpfSx0LnByb3RvdHlwZS5ZbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm9wdGlvbnMoKS5pbml0VGltZW91dH0sdC5wcm90b3R5cGUuc3Q9ZnVuY3Rpb24odCxlKXt2YXIgaT1lLm1hbmlmZXN0LnRvTG93ZXJDYXNlKCkuaW5kZXhPZihcIi9tYW5pZmVzdFwiKTtpZihpPi0xKXt2YXIgcj1lLm1hbmlmZXN0LnN1YnN0cmluZygwLGkpO2lmKHQuaW5kZXhPZihyKT4tMSlyZXR1cm4hMH1lbHNlIGlmKHQ9PWUubWFuaWZlc3QpcmV0dXJuITA7cmV0dXJuITF9LHQucHJvdG90eXBlLlBpPWZ1bmN0aW9uKHQpe3QuUmkmJih0aGlzLk1JLm0oKS5kZWJ1ZyhcIltTdGF0c0pTXSBzdG9wcGluZyBzZXNzaW9uIFtcIit0LmlkK1wiXVwiKSx0LlJpLkhvLnJlc2V0KCkpfSx0LnByb3RvdHlwZS5DaT1mdW5jdGlvbih0LGUpe3ZhciBpPWU/YS5Gby5JRExFOmEuRm8uQm87dGhpcy5NSS5tKCkubm90aWNlKFwiW0hpdmVDb21tXSBjbGllbnQgc3RhdGU6IFwiK2EuRm9baV0pLHQuUmkmJnQuUmkuQ2koaSl9LHQucHJvdG90eXBlLmZkPWZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcyxuPTA7cmV0dXJuIHRoaXMua1I8ZS5nciYmKG49ZS5nci10aGlzLmtSLHRoaXMua1I9ZS5nciksdC5OaSgpLnRoZW4oZnVuY3Rpb24oKXt0LlJpLkRvLkNSKG4sZS5kciksdC5SaS5Rbi52bihlLmxyLGUuZHIsZS5nciksaS5PUigpfSkuZG9uZSgpLHIucmVzb2x2ZSghMCl9LHQucHJvdG90eXBlLnlkPWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gdC5OaSgpLnRoZW4oZnVuY3Rpb24oKXt0LlJpLlFuLm1uKHQudGlja2V0LnNlc3Npb25JZCxlLGkpfSkuZG9uZSgpLHIucmVzb2x2ZSghMCl9LHQucHJvdG90eXBlLnduPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuTmkoKS50aGVuKGZ1bmN0aW9uKCl7dC5SaS5Rbi5UbihbZV0pfSkuZG9uZSgpLHIucmVzb2x2ZSghMCl9LHQucHJvdG90eXBlLm9uRXJyb3I9ZnVuY3Rpb24odCl7dmFyIGU9ITA7aWYodm9pZCAwIT10aGlzLm9wdGlvbnMoKS5vbkVycm9yKXRyeXtlPXRoaXMub3B0aW9ucygpLm9uRXJyb3IodCl9Y2F0Y2goaSl7aC5FcnJvck1vbml0b3IuV2koKS5faChcIltTdGF0c0pTXSBleGNlcHRpb24gaW4gdXNlci1kZWZpbmVkIG9uRXJyb3IgY2FsbGJhY2s6IFwiK2kpfXJldHVybiBlfSx0LnByb3RvdHlwZS5vbkFjdGl2ZVNlc3Npb249ZnVuY3Rpb24odCl7dmFyIGU9dGhpczt0aGlzLlBSKCksdC5OaSgpLnRoZW4oZnVuY3Rpb24oaSl7ZS5BUj1pO3ZhciByPW5ldyBjLk5SKGUuTUkuaXNMaXZlKCksZS5NSS4kKCksdC50aWNrZXQudHAoKSk7ZS5BUi54Uj1yLGUuQVIuRG8ueFI9cixlLk1JLmhuKGUuQVIpLGUuQVIuSG8uaW5pdChlLkFSLkRvLG51bGwpLGUuQVIuUW4ud2kodC50aWNrZXQuc2Vzc2lvbklkLGUuTUkuaXQoKSwyMDApO3ZhciBuPWUuTUkucmQoKTtpZihuJiZuLmxlbmd0aD4wJiZlLkFSLlFuLlRuKG4pLHZvaWQgMCE9ZS5vcHRpb25zXy5vbkFjdGl2ZVNlc3Npb24pdHJ5e2Uub3B0aW9uc18ub25BY3RpdmVTZXNzaW9uKHQuZygpKX1jYXRjaChvKXtoLkVycm9yTW9uaXRvci5XaSgpLl9oKFwiW1N0YXRzSlNdIGV4Y2VwdGlvbiBpbiB1c2VyLWRlZmluZWQgb25BY3RpdmVTZXNzaW9uIGNhbGxiYWNrOiBcIitvKX19KS5kb25lKCl9LHQucHJvdG90eXBlLlpsPWZ1bmN0aW9uKCl7fSx0LnByb3RvdHlwZS56bD1mdW5jdGlvbigpe30sdC5wcm90b3R5cGUucWw9ZnVuY3Rpb24odCl7dGhpcy5NST10fSx0LnByb3RvdHlwZS5vcHRpb25zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3B0aW9uc199LHQucHJvdG90eXBlLlBSPWZ1bmN0aW9uKCl7dGhpcy5rUj0wfSx0LnByb3RvdHlwZS52Uj1mdW5jdGlvbih0LGUsaSxyKXt2YXIgbz1uZXcgbi5CaSh0LGUsaSxyKTtyZXR1cm4gby55Uj0hMSxvLmlkPWUuc2Vzc2lvbklkLG99LHQucHJvdG90eXBlLk9SPWZ1bmN0aW9uKCl7dHJ5e3ZhciB0PXRoaXMuTUkuYXQoKTt2b2lkIDAhPXQmJih0aGlzLkFSLkRvLkJSLm1ldHJpY3MuYml0cmF0ZVVwTis9dC5KaSgpLHRoaXMuQVIuRG8uQlIubWV0cmljcy5iaXRyYXRlRHduTis9dC5LaSgpLG51bGwhPXQuVmkoKSYmKHRoaXMuQVIuRG8uQlIubWV0cmljcy5zcmNUaHJvdWdocHV0PXQuVmkoKSksbnVsbCE9dC5RaSgpJiZ0aGlzLkZSKCEwLHQuUWkoKSksbnVsbCE9dC5xaSgpJiZ0aGlzLkZSKCExLHQucWkoKSkpfWNhdGNoKGUpe2guRXJyb3JNb25pdG9yLldpKCkuX2goZSl9fSx0LnByb3RvdHlwZS5GUj1mdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMscj0wLG49MCxvPTAscz0wO2UuZm9yRWFjaChmdW5jdGlvbihlLGEpe3ZhciBjPWUuc3VjY2VzcytlLl9pO2lmKHIrPWMscys9ZS5EaSxuKz1lLnN1Y2Nlc3Msbys9ZS5faSx0KXt2YXIgaD1pLkFSLkRvLl9SKE51bWJlcihhKSk7aS5EUihoLGMsZS5zdWNjZXNzLGUuX2ksZS5EaSl9fSk7dmFyIGE9dGhpcy5BUi5Eby5IUigpO3RoaXMuRFIoYSxyLG4sbyxzKX0sdC5wcm90b3R5cGUuRFI9ZnVuY3Rpb24odCxlLGkscixuKXt0LnNyY1JlcU4rPWUsdC5zcmNSZXNwTis9aSx0LnNyY1Jlc3BFcnJOKz1yLHQuc3JjUmVzcFF0Kz1uLHQucmVzcEZhbGxiYWNrTis9aSx0LnJlc3BGYWxsYmFja0Vyck4rPXJ9LHR9KCk7cC5KbD1cIlN0YXRzSlNcIixlLlN0YXRzSlM9cH0sZnVuY3Rpb24odCxlKXtcInVzZSBzdHJpY3RcIjt2YXIgaTshZnVuY3Rpb24odCl7dmFyIGU7IWZ1bmN0aW9uKHQpe3RbdC5IaXZlSlM9MF09XCJIaXZlSlNcIix0W3QuSGl2ZUphdmE9MV09XCJIaXZlSmF2YVwiLHRbdC5TdGF0c0pTPTJdPVwiU3RhdHNKU1wiLHRbdC5IaXZlSnNQcm94eT0zXT1cIkhpdmVKc1Byb3h5XCJ9KGU9dC5JbHx8KHQuSWw9e30pKX0oaT1lLnB0fHwoZS5wdD17fSkpfSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9aSgxNSksbj1pKDIpLG89aSgyNCkscz1pKDE0KSxhPWkoNSksYz1pKDkpLGg9aSg1NikscD1pKDU1KSx1PWkoNjApLGw9aSg1MiksZD1pKDUxKTtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgZil2YXIgZj0hMTtpZihmKXZhciBnPWkoNTMpLkxSO2Vsc2UgdmFyIHY9aSg1NykuTVI7dmFyIHk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnByb3RvdHlwZS5hcHBseT1mdW5jdGlvbih0KXt0LmJpbmQobmV3IHIubnMoYS5naS51aSxzLnJzLHIuc3MubHMpKSx0LmJpbmQobmV3IHIubnMoYS5naS5CZSxwLmpSLHIuc3MubHMpKSx0LmJpbmQobmV3IHIubnMoYS5naS5haSx1LlVSLHIuc3MubHMpKSx0LmJpbmQobmV3IHIubnMoYS5naS5DZSxsLlZSLHIuc3MubHMpKSx0LmJpbmQobmV3IHIubnMobi5GcmFtZXdvcmsuRmUud2Usby5FbC5ibCxyLnNzLmxzKSksZj90LmJpbmQobmV3IHIubnMoYS5naS5jaSxnLHIuc3MubHMpKTp0LmJpbmQobmV3IHIubnMoYS5naS5jaSx2LHIuc3MubHMpKSx0LmJpbmQobmV3IHIubnMoYS5naS5oaSxkLlFSLHIuc3MubHMpKSx0LmJpbmQobmV3IHIubnMoYS5naS5saSxoLlN0YXRzLnpmLHIuc3MuVHMpKSx0LmJpbmQobmV3IHIubnMoYS5naS5zaSxoLlN0YXRzLmVvLHIuc3MuVHMpKSx0LmJpbmQobmV3IHIubnMoYS5naS5kaSxjLkYuVW4sci5zcy5UcykpLHQuYmluZChuZXcgci5ucyhhLmdpLmZpLGMuRi5lbyxyLnNzLlRzKSl9LHR9KCk7ZS5TZD15fSxmdW5jdGlvbih0LGUpe1widXNlIHN0cmljdFwiO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5wcm90b3R5cGUucVI9ZnVuY3Rpb24odCl7dGhpcy5ob3N0bmFtZT10fSx0LnByb3RvdHlwZS5Gbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmhvc3RuYW1lfSx0LnByb3RvdHlwZS5KUj1mdW5jdGlvbih0KXt0aGlzLktSPXR9LHQucHJvdG90eXBlLk5uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuS1J9LHR9KCk7ZS5RUj1pfSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gaSgpe3RoaXMuY29uc3RydWN0b3I9dH1mb3IodmFyIHIgaW4gZSllLmhhc093blByb3BlcnR5KHIpJiYodFtyXT1lW3JdKTt0LnByb3RvdHlwZT1udWxsPT09ZT9PYmplY3QuY3JlYXRlKGUpOihpLnByb3RvdHlwZT1lLnByb3RvdHlwZSxuZXcgaSl9LG49aSgxKSxvPWkoMjIpLHM9aSgyKSxhPWkoMTMpLGM9aSgzOSksaD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLkdSPVwiSWRlbnRpdHlTdG9yZVwiLHRoaXMuelI9XCJJZGVudGl0eURCXCIsdGhpcy5zbj1udWxsLHRoaXMuaW5kZXhlZERCPXdpbmRvdy5pbmRleGVkREJ8fHdpbmRvdy5tb3pJbmRleGVkREJ8fHdpbmRvdy53ZWJraXRJbmRleGVkREJ8fHdpbmRvdy5tc0luZGV4ZWREQixzLkZyYW1ld29yayYmcy5GcmFtZXdvcmsucmVzb2x2ZShzLkZyYW1ld29yay5GZS53ZSk/dGhpcy5tPXMuRnJhbWV3b3JrLnJlc29sdmUocy5GcmFtZXdvcmsuRmUud2UpLmxvZygpOnRoaXMubT1jb25zb2xlfXJldHVybiB0LnByb3RvdHlwZS5XUj1mdW5jdGlvbigpe3ZhciB0PXRoaXMsZT1uLmRlZmVyKCksaT1pbmRleGVkREIub3Blbih0aGlzLnpSKTtyZXR1cm4gaS5vbnVwZ3JhZGVuZWVkZWQ9ZnVuY3Rpb24oKXt2YXIgZT1pLnJlc3VsdDtlLmNyZWF0ZU9iamVjdFN0b3JlKHQuR1Ise2tleVBhdGg6XCJpZFwifSl9LGkub25zdWNjZXNzPWZ1bmN0aW9uKCl7dmFyIHQ9aS5yZXN1bHQ7ZS5yZXNvbHZlKHQpfSxpLm9uZXJyb3I9ZnVuY3Rpb24odCl7ZS5yZWplY3QodCl9LGUudnR9LHQucHJvdG90eXBlLktvPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztpZih0aGlzLiRSKXJldHVybiB0aGlzLiRSO3ZhciBlPW4uZGVmZXIoKTtpZih0aGlzLnNuKWUucmVzb2x2ZShuZXcgYy5GSSh0aGlzLnNuKSk7ZWxzZSBpZihhLktuLlJvJiZ0aGlzLmluZGV4ZWREQil7dmFyIGk9c2V0VGltZW91dChmdW5jdGlvbigpe3QubS53YXJuKFwiW0hpdmVDb21tXSB0aW1lb3V0IHJldHJpZXZpbmcgcGVyc2lzdGVudCBJRCAtIGdlbmVyYXRpbmcgcmFuZG9tIG9uZVwiKSxcbiAgdC5zbj10LllSKCksdC5tLmRlYnVnKFwiW0hpdmVDb21tXSBHZW5lcmF0ZWQgVVVJRDogXCIrdC5zbiksZS5yZXNvbHZlKG5ldyBjLkZJKHQuc24pKX0sNGUzKTt0cnl7dmFyIHI9dGhpcy5XUigpO3IudGhlbihmdW5jdGlvbihyKXt2YXIgbj1yLnRyYW5zYWN0aW9uKHQuR1IsXCJyZWFkd3JpdGVcIiksbz1uLm9iamVjdFN0b3JlKHQuR1IpLHM9by5nZXQoXCJNWUlEXCIpO3Mub25zdWNjZXNzPWZ1bmN0aW9uKCl7aWYoY2xlYXJUaW1lb3V0KGkpLHQuc24pZS5yZXNvbHZlKG5ldyBjLkZJKHQuc24pKTtlbHNlIGlmKG51bGwhPXMucmVzdWx0JiZhLktuLlJvKXt2YXIgbj1zLnJlc3VsdC52YWx1ZTt0Lm0uZGVidWcoXCJbSGl2ZUNvbW1dIFJldHJpZXZlZCBwZXJzaXN0ZW50IFVVSUQ6IFwiK24pLHQuc249bixyLmNsb3NlKCksZS5yZXNvbHZlKG5ldyBjLkZJKHQuc24pKX1lbHNle3ZhciBvPXQuWVIoKTt0LlhSKHIsbyksZS5yZXNvbHZlKG5ldyBjLkZJKHQuc24pKX19LHMub25lcnJvcj1mdW5jdGlvbihyKXtjbGVhclRpbWVvdXQoaSksdC5zbnx8KHQubS53YXJuKFwiW0hpdmVDb21tXSBlcnJvciByZXRyaWV2aW5nIHBlcnNpc3RlbnQgVVVJRDogXCIrciksdC5zbj10LllSKCksdC5tLmRlYnVnKFwiW0hpdmVDb21tXSBHZW5lcmF0ZWQgVVVJRDogXCIrdC5zbikpLGUucmVzb2x2ZShuZXcgYy5GSSh0LnNuKSl9fSkuZmFpbChmdW5jdGlvbihyKXtjbGVhclRpbWVvdXQoaSksdC5zbnx8KHQubS53YXJuKFwiW0hpdmVDb21tXSBlcnJvciBvcGVuaW5nIGluZGV4ZWREQiAtIGdlbmVyYXRpbmcgcmFuZG9tIGlkLiBFcnJvcjogXCIrciksdC5zbj10LllSKCksdC5tLmRlYnVnKFwiW0hpdmVDb21tXSBHZW5lcmF0ZWQgVVVJRDogXCIrdC5zbikpLGUucmVzb2x2ZShuZXcgYy5GSSh0LnNuKSl9KX1jYXRjaChvKXt0aGlzLnNuPXRoaXMuWVIoKSx0aGlzLm0uZGVidWcoXCJbSGl2ZUNvbW1dIFBlcnNpc3RlbmNlIGVycm9yIC0gR2VuZXJhdGUgVVVJRDogXCIrdGhpcy5zbixvKSxlLnJlc29sdmUobmV3IGMuRkkodGhpcy5zbikpfX1lbHNlIHRoaXMuc249dGhpcy5ZUigpLHRoaXMubS5kZWJ1ZyhcIltIaXZlQ29tbV0gUGVyc2lzdGVuY2UgZGlzYWJsZWQgLSBHZW5lcmF0ZSBVVUlEOiBcIit0aGlzLnNuKSxlLnJlc29sdmUobmV3IGMuRkkodGhpcy5zbikpO3JldHVybiB0aGlzLiRSPWUudnQsdGhpcy4kUn0sdC5wcm90b3R5cGUuWFI9ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLHI9dC50cmFuc2FjdGlvbih0aGlzLkdSLFwicmVhZHdyaXRlXCIpLG49ci5vYmplY3RTdG9yZSh0aGlzLkdSKTtuLnB1dCh7aWQ6XCJNWUlEXCIsdmFsdWU6ZX0pLHIub25jb21wbGV0ZT1mdW5jdGlvbigpe2kubS5kZWJ1ZyhcIltIaXZlQ29tbV0gY29tcGxldGVkIFVVSUQgcGVyc2lzdGVuY2VcIiksdC5jbG9zZSgpfSx0aGlzLm0uZGVidWcoXCJbSGl2ZUNvbW1dIEdlbmVyYXRlZCBVVUlEOiBcIitlKSx0aGlzLnNuPWV9LHQucHJvdG90eXBlLllSPWZ1bmN0aW9uKCl7cmV0dXJuIG8uWmgoKX0sdH0oKTtlLlpSPWg7dmFyIHA9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3JldHVybiB0LmNhbGwodGhpcyl8fHRoaXN9cmV0dXJuIHIoZSx0KSxlLnByb3RvdHlwZS5Lbz1mdW5jdGlvbigpe3ZhciBlPXRoaXM7aWYodGhpcy50aylyZXR1cm4gdGhpcy50azt2YXIgaT1uLmRlZmVyKCk7cmV0dXJuIHQucHJvdG90eXBlLktvLmNhbGwodGhpcykudGhlbihmdW5jdGlvbih0KXt2YXIgcj1lLllSKCksbj10LiRvKCksbz1uZXcgYy5GSShyLG4pO2kucmVzb2x2ZShvKX0pLmZhaWwoZnVuY3Rpb24odCl7dmFyIHI9ZS5ZUigpLG49bmV3IGMuRkkocik7aS5yZXNvbHZlKG4pfSksdGhpcy50az1pLnZ0LHRoaXMudGt9LGV9KGgpO2UuVlI9cH0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO3ZhciByPWkoMSksbj1pKDIpLG89ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dGhpcy51PVwiW1ByZWxvYWRDb25uZWN0aXZpdHlJbmZvUHJvdmlkZXJdIFwiLHRoaXMuY29ubkluZm89d2luZG93LmVrLHRoaXMubT1uLkZyYW1ld29yay5yZXNvbHZlKG4uRnJhbWV3b3JrLkZlLndlKS5sb2coKSx0aGlzLmNvbm5JbmZvfHx0aGlzLm0uZXJyb3IodGhpcy51K1wiIGhlbHBlciB1bmRlZmluZWRcIil9cmV0dXJuIHQucHJvdG90eXBlLlBuPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztpZighdGhpcy5jb25uSW5mbylyZXR1cm4gci5yZWplY3QoXCJDb25uSW5mbyBoZWxwZXIgdW5kZWZpbmVkXCIpO3ZhciBlPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtyZXR1cm4gdC5tLndhcm4odC51K1wiR2V0IGNvbm5lY3Rpdml0eSBpbmZvIGV4cGlyZWRcIiksdC5paz9yLnJlc29sdmUodC5payk6ci5yZWplY3QoXCJleHBpcmVkXCIpfSwyZTMpO3RyeXtyZXR1cm4gdGhpcy5jb25uSW5mby5QbigpLnRoZW4oZnVuY3Rpb24oaSl7cmV0dXJuIGNsZWFyVGltZW91dChlKSx0LmlrPWksaX0pLmZhaWwoZnVuY3Rpb24oZSl7cmV0dXJuIHQubS5kZWJ1Zyh0LnUrXCIgZ2V0IGNvbm5lY3Rpdml0eSBpbmZvIGZhaWxlZCB3aXRoIGVycm9yIDE6IFwiLGUpLHQuaWs/dC5pazpyLnJlamVjdChlKX0pfWNhdGNoKGkpe3JldHVybiB0aGlzLm0uZGVidWcodGhpcy51K1wiIGdldCBjb25uZWN0aXZpdHkgaW5mbyBmYWlsZWQgd2l0aCBlcnJvciAyOlwiLGkpLHIucmVqZWN0KGkpfX0sdC5wcm90b3R5cGUucms9ZnVuY3Rpb24odCxlLGkpe30sdH0oKTtlLkxSPW99LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1pKDYzKSxuPWkoMSksbz1pKDIpLHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dGhpcy5pbmRleGVkREI9d2luZG93LmluZGV4ZWREQnx8d2luZG93Lm1vekluZGV4ZWREQnx8d2luZG93LndlYmtpdEluZGV4ZWREQnx8d2luZG93Lm1zSW5kZXhlZERCLHRoaXMubT1vLkZyYW1ld29yay5yZXNvbHZlKG8uRnJhbWV3b3JrLkZlLndlKS5sb2coKX1yZXR1cm4gdC5wcm90b3R5cGUuV1I9ZnVuY3Rpb24oKXt2YXIgdD1uLmRlZmVyKCksZT10aGlzLmluZGV4ZWREQi5vcGVuKFwiUHJpdmF0ZUlQREJcIik7cmV0dXJuIGUub251cGdyYWRlbmVlZGVkPWZ1bmN0aW9uKCl7dmFyIHQ9ZS5yZXN1bHQ7dC5jcmVhdGVPYmplY3RTdG9yZShcIlByaXZhdGVJUFN0b3JlXCIse2tleVBhdGg6XCJpZFwifSl9LGUub25zdWNjZXNzPWZ1bmN0aW9uKCl7dmFyIGk9ZS5yZXN1bHQ7dC5yZXNvbHZlKGkpfSxlLm9uZXJyb3I9ZnVuY3Rpb24oZSl7dC5yZWplY3QoZSl9LHQudnR9LHQucHJvdG90eXBlLm5rPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztpZih0aGlzLnNrKXJldHVybiB0aGlzLnNrO3ZhciBlPXNldFRpbWVvdXQoZnVuY3Rpb24oKXt0Lm0ud2FybihcIlByaXZhdGUgbGlzdCByZXRyaWV2YWwgdGltZW91dFwiKSxpLnJlamVjdChcIlByaXZhdGUgbGlzdCB0aW1lb3V0XCIpfSw0ZTMpLGk9bi5kZWZlcigpLG89dGhpcy5XUigpO3JldHVybiBvLnRoZW4oZnVuY3Rpb24obil7dmFyIG89bi50cmFuc2FjdGlvbihcIlByaXZhdGVJUFN0b3JlXCIsXCJyZWFkd3JpdGVcIikscz1vLm9iamVjdFN0b3JlKFwiUHJpdmF0ZUlQU3RvcmVcIiksYT1zLmdldChcImlwbGlzdFwiKTthLm9uc3VjY2Vzcz1mdW5jdGlvbigpe2NsZWFyVGltZW91dChlKTt2YXIgdD1bXTtyLmFrKGEucmVzdWx0KXx8ci5hayhhLnJlc3VsdC52YWx1ZSl8fCh0PWEucmVzdWx0LnZhbHVlLnNwbGl0KFwifFwiKSksaS5yZXNvbHZlKHQpLG4uY2xvc2UoKX0sYS5vbmVycm9yPWZ1bmN0aW9uKHIpe2NsZWFyVGltZW91dChlKSx0Lm0ud2FybihcIkkgZ290IGFuIGVycm9yIG9uIGluZGV4ZWQgZGIgXCIrci5tZXNzYWdlKSxpLnJlamVjdChcIkVycm9yIG9uIGluZGV4ZWREQiBcIityLm1lc3NhZ2UpfX0pLmZhaWwoZnVuY3Rpb24ocil7Y2xlYXJUaW1lb3V0KGUpLHQubS53YXJuKFwiREIgaXMgbm90IG9wZW4gd2l0aCBlcnJvclwiK3IubWVzc2FnZSksaS5yZWplY3QoXCJEQiBpcyBub3Qgb3BlbiB3aXRoIGVycm9yIFwiK3IubWVzc2FnZSl9KSx0aGlzLnNrPWkudnQsdGhpcy5za30sdC5wcm90b3R5cGUuY2s9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxpPXQuam9pbihcInxcIikscj10aGlzLldSKCk7ci50aGVuKGZ1bmN0aW9uKHIpe3ZhciBuPXIudHJhbnNhY3Rpb24oXCJQcml2YXRlSVBTdG9yZVwiLFwicmVhZHdyaXRlXCIpLG89bi5vYmplY3RTdG9yZShcIlByaXZhdGVJUFN0b3JlXCIpO28ucHV0KHtpZDpcImlwbGlzdFwiLHZhbHVlOml9KSxuLm9uY29tcGxldGU9ZnVuY3Rpb24oKXtlLm0uZGVidWcoXCJTdG9yaW5nIHNpdGUgbWF0Y2hlZCBpcHMgW1wiK3Quam9pbihcIixcIikrXCJdXCIpLHIuY2xvc2UoKX19KS5mYWlsKGZ1bmN0aW9uKHQpe2UubS53YXJuKFwiREIgaXMgbm90IG9wZW4gd2l0aCBlcnJvciBcIit0Lm1lc3NhZ2UpfSl9LHR9KCk7ZS5oaz1zfSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9aSgxKSxuPWkoMjEpLG89aSgzNikscz1pKDIpLGE9aSgxMyksYz1pKDEwKSxoPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3RoaXMubT1zLkZyYW1ld29yay5yZXNvbHZlKHMuRnJhbWV3b3JrLkZlLndlKS5sb2coKSx0aGlzLm0uZGVidWcoXCJJTklUIFNFUlZJQ0UgQ0xJRU5UXCIpfXJldHVybiB0LnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcztpZih0aGlzLnBrKXRoaXMucGsudGhlbihmdW5jdGlvbigpe3ZhciB0PXtwYXJ0bmVySWQ6ZS5ibigpLGN1c3RvbWVySWQ6ZS5FbigpLGNvbnRlbnRJZDplLmVzKCksc2VjcmV0OmUuV2goKX0scj1uZXcgYy5abihTZXJ2aWNlcy5rZiwxLEpTT04uc3RyaW5naWZ5KHQpKTtpLmNvbm5lY3Rpb24uc2VuZChyKX0pO2Vsc2V7dmFyIHM9ci5kZWZlcigpLGg9YS5Lbi5Kbi5rbztlLnpoJiYodGhpcy5tLndhcm4oXCJbSGl2ZUNvbW1dIEVycm9yIHRyeWluZyB0byByZXNvbHZlIHRlc3QgdGlja2V0IGFnYWluc3QgcHJvZHVjdGlvbiBzZXJ2aWNlcyAtIHVzZSBwcm9kdWN0aW9uIHRpY2tldCBvciB0ZXN0IHBsdWdpblwiKSxzLnJlamVjdChuZXcgRXJyb3IoXCJ0ZXN0IHRpY2tldCBpbiBwcm9kdWN0aW9uXCIpKSk7dmFyIHA9bmV3IG4oaCksdT1wLkV1KHtcImNvbm5lY3Rpb24taWRcIjp0LHBhcnRuZXJfaWQ6ZS5ibigpLGN1c3RvbWVyX2lkOmUuRW4oKSxjb250ZW50X2lkOmUuZXMoKSx0aWNrZXQ6ZS5XaCgpfSkudG9TdHJpbmcoKTt0aGlzLmNvbm5lY3Rpb249bmV3IG8uQUkodSxhLktuLkpuLkFvLGEuS24uSm4uTm8sYS5Lbi5Kbi54byksdGhpcy5jb25uZWN0aW9uLlRJKGZ1bmN0aW9uKCl7aS5tLmRlYnVnKFwiSElWRSBTRVJWSUNFUyBDT05ORUNURURcIikscy5yZXNvbHZlKGkuY29ubmVjdGlvbil9KSx0aGlzLmNvbm5lY3Rpb24ub25lcnJvcihmdW5jdGlvbigpe2kubS53YXJuKFwiSGl2ZSBTZXJ2aWNlcyBDb25uZWN0aW9uIGZhaWxlZFwiKSxzLnJlamVjdChpLmNvbm5lY3Rpb24pfSksdGhpcy5waz1zLnZ0fXJldHVybntZbzp0aGlzLmNvbm5lY3Rpb24sdnQ6dGhpcy5wa319LHQucHJvdG90eXBlLmNvbm5lY3Q9ZnVuY3Rpb24oKXt0aGlzLmNvbm5lY3Rpb24mJnRoaXMuY29ubmVjdGlvbi5jb25uZWN0KCEwKX0sdC5wcm90b3R5cGUuc2Q9ZnVuY3Rpb24odCl7fSx0LnByb3RvdHlwZS5Ybj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbm5lY3Rpb259LHQucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKCl7dGhpcy5jb25uZWN0aW9uJiZ0aGlzLmNvbm5lY3Rpb24uY2xvc2UoKX0sdH0oKTtlLmpSPWh9LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1pKDQpLG49ci52ZSxvPWkoMTYpO2koMzEpLGkoMzApO3ZhciBzLGE9aSgyKSxjPWkoNSksaD1pKDEzKSxwPWkoMTApLHU9aSgxNCksbD1pKDIzKTshZnVuY3Rpb24odCl7dmFyIGU9XCJbU05BUF1cIixpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3RoaXMubWV0cmljcz1uZXcgaGl2ZS5zbmFwc2hvdHMuTWV0cmljcyx0aGlzLnVrPW5ldyBoaXZlLnNuYXBzaG90cy5UcmFmZmljLHRoaXMubGs9bmV3IG4sdGhpcy5kaz1uZXcgbix0aGlzLmZrPW5ldyBuLHRoaXMucGxheWVyPW5ldyBoaXZlLnNuYXBzaG90cy5QbGF5ZXJ9cmV0dXJuIHR9KCk7dC5naz1pO3ZhciByPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe3RoaXMudGlja2V0PW51bGwsdGhpcy52az0wLHRoaXMueWs9MCx0aGlzLm1rKCl9cmV0dXJuIGkucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24odCxpLHIsbil7dGhpcy5tPWEuRnJhbWV3b3JrLnJlc29sdmUoYS5GcmFtZXdvcmsuRmUud2UpLmxvZyhuKSx0aGlzLnRuPWEuRnJhbWV3b3JrLnJlc29sdmUoYy5naS5jaSksdGhpcy5tLmRlYnVnKGUrXCIgSU5JVCBTVEFUUyBTVE9SRSAtIElEOiBcIit0KSx0aGlzLnNuPXQsdGhpcy50aWNrZXQ9aSx0aGlzLmFuKHIpfSxpLnByb3RvdHlwZS53az1mdW5jdGlvbih0KXt0aGlzLlRrPXR9LGkucHJvdG90eXBlLmFuPWZ1bmN0aW9uKHQpe3RoaXMuYXBwPXR9LGkucHJvdG90eXBlLm1rPWZ1bmN0aW9uKCl7dGhpcy5Taz1uZXcgdC5nayx0aGlzLnNuPW51bGwsdGhpcy50aWNrZXQ9bnVsbCx0aGlzLnJlc2V0KCl9LGkucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5CUj1uZXcgdC5nayx0aGlzLmJrKHRoaXMuQlIudWspLHRoaXMuRWsodGhpcy5CUil9LGkucHJvdG90eXBlLmJrPWZ1bmN0aW9uKHQpe3QucmVzcEZhbGxiYWNrTj0wLHQucmVzcEZhbGxiYWNrRXJyTj0wLHQuc3JjUmVxTj0wLHQuc3JjUmVzcEVyck49MCx0LnNyY1Jlc3BRdD0wLHQuc3JjT3RoZXJSZXNwTj0wLHQuc3JjUmVzcE49MCx0LnNyY092ZXJRdD0wLHQucDJwRGlyZWN0UXQ9MCx0LnAycE5hdFF0PTAsdC5wMnBVZHBiUXQ9MCx0LnAycFJlbGF5UXQ9MCx0LnAycE91dFNpdGVMb3dQcmlvPTAsdC5yZXNwUDJwTj0wLHQucDJwU3ViUmVxTj0wLHQucDJwU3ViUmVzcEVyck49MCx0LnAycFN1YlJlc3BRdD0wLHQucDJwU3ViUmVzcFBhcnROPTB9LGkucHJvdG90eXBlLkVrPWZ1bmN0aW9uKHQpe3QubWV0cmljcy52aWRlb0J1Zk49MCx0Lm1ldHJpY3MudmlkZW9CdWZRdD0wLHQubWV0cmljcy5jbGllbnRCdWZmZXJNcz0wLHQucGxheWVyLmJ1ZmZlcmluZ049MCx0LnBsYXllci5idWZmZXJpbmdNcz0wfSxpLnByb3RvdHlwZS5Jaz1mdW5jdGlvbigpe3ZhciB0PXRoaXMsaT1uZXcgaGl2ZS5zbmFwc2hvdHMuTWV0cmljU25hcHNob3Q7aS50aW1lc3RhbXA9YS5GcmFtZXdvcmsudGltZSgpLGkuZ3VpZD10aGlzLnNuLGkuc2Vzc2lvbklkPXRoaXMudGlja2V0LnNlc3Npb25JZCxpLmV2ZW50SWQ9bmV3IEV2ZW50SWQsaS5ldmVudElkLnBhcnRuZXJJZD10aGlzLnRpY2tldC5ibigpLGkuZXZlbnRJZC5jdXN0b21lcklkPXRoaXMudGlja2V0LkVuKCksaS5ldmVudElkLmNvbnRlbnRJZD10aGlzLnRpY2tldC5lcygpO3RyeXt2YXIgcj1uZXcgaGl2ZS5zbmFwc2hvdHMuQ2xpZW50SW5mbztyLmNsaWVudFR5cGU9dGhpcy5SaygpO3ZhciBuPXRoaXMuYXBwLnZlcnNpb24uc3BsaXQoXCIuXCIpO3IubWFqb3JWZXJzaW9uPXBhcnNlSW50KG5bMF0pLHIubWlub3JWZXJzaW9uPXBhcnNlSW50KG5bMV0pLHIucGF0Y2hWZXJzaW9uPXBhcnNlSW50KG5bMl0pLGkuY2xpZW50PXJ9Y2F0Y2gobyl7dGhpcy5tLndhcm4oZStcIiBlcnJvciBzZXR0aW5nIFNuYXBzaG90IENsaWVudEluZm9cIixvKX1pLnN0cmVhbUluZm89dGhpcy54Ui5raygpLGkudHJhZmZpYz1bXTt2YXIgcz1uZXcgaGl2ZS5zbmFwc2hvdHMuVHJhZmZpY0tleTtpZihpLnRyYWZmaWMucHVzaCh7a2V5OnMsdmFsdWU6dGhpcy5CUi51a30pLHRoaXMuQlIubGsuZm9yRWFjaChmdW5jdGlvbih0LGUpe3ZhciByPW5ldyBoaXZlLnNuYXBzaG90cy5UcmFmZmljS2V5O3IuYml0cmF0ZT1lLGkudHJhZmZpYy5wdXNoKHtrZXk6cix2YWx1ZTp0fSl9KSxpLm1ldHJpY3M9dGhpcy5CUi5tZXRyaWNzLHRoaXMuVGsmJihpLm1ldHJpY3MuY2xpZW50QnVmZmVyTXM9dGhpcy5Uay5taW4oKSksaS5wbGF5ZXI9dGhpcy5CUi5wbGF5ZXIsdGhpcy5Dayl7dmFyIGM9dGhpcy5Day5nZXRQYXJ0bmVyU25hcHNob3RzKCk7Yy5mb3JFYWNoKGZ1bmN0aW9uKGUscil7dC5PayhyLGUsaSl9KSx0aGlzLkJSLmZrLmZpbHRlcihmdW5jdGlvbih0LGUpe3JldHVybiFjLmhhcyhlKX0pLmZvckVhY2goZnVuY3Rpb24oZSxyKXt0Lk9rKHIsZSxpKX0pfXJldHVybiBpLmNvbm5JbmZvPW5ldyBoaXZlLnNuYXBzaG90cy5Db25uZWN0aXZpdHlJbmZvLHRoaXMudG4uUG4oKS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiBpLmNvbm5JbmZvLnByaXZhdGVJcD1lLk5uKCkuQm4oKSx0LlBrKGkpfSkuZmFpbChmdW5jdGlvbihlKXtyZXR1cm4gdC5QayhpKX0pfSxpLnByb3RvdHlwZS5Qaz1mdW5jdGlvbih0KXtyZXR1cm4gdC5jb25uSW5mby5pbnRlcm5hbEFzPXRoaXMudmssdC5jb25uSW5mby5leHRlcm5hbEFzPXRoaXMueWssdC5jb25uSW5mby5wdWJsaWNJcD10aGlzLkFrLHR9LGkucHJvdG90eXBlLlJrPWZ1bmN0aW9uKCl7dmFyIHQ7c3dpdGNoKHRoaXMuYXBwLmFwcCl7Y2FzZVwiSlNcIjp0PUNsaWVudFR5cGUuRmY7YnJlYWs7Y2FzZVwiUFJPWFlcIjp0PUNsaWVudFR5cGUuX2Y7YnJlYWs7ZGVmYXVsdDp0PUNsaWVudFR5cGUuQmZ9cmV0dXJuIHR9LGkucHJvdG90eXBlLk9rPWZ1bmN0aW9uKHQsZSxpKXt2YXIgcj10aGlzLkJSLmRrLmdldCh0KTtlLnRyYWZmaWM9cixpLnBhcnRuZXJzfHwoaS5wYXJ0bmVycz1bXSk7dmFyIG49bmV3IGhpdmUuc25hcHNob3RzLlBhcnRuZXJLZXk7bi5wYXJ0bmVyR3VpZD10LGkucGFydG5lcnMucHVzaCh7a2V5Om4sdmFsdWU6ZX0pfSxpLnByb3RvdHlwZS5DUj1mdW5jdGlvbih0LGUpe3Q+MCYmKHRoaXMuQlIubWV0cmljcy52aWRlb0J1Zk4rKyx0aGlzLkJSLm1ldHJpY3MudmlkZW9CdWZRdCs9dCx0aGlzLkJSLnBsYXllci5idWZmZXJpbmdOKyssdGhpcy5CUi5wbGF5ZXIuYnVmZmVyaW5nTXMrPXQpLHRoaXMuQlIucGxheWVyLnBsYXllckJ1ZmZlck1zPWV9LGkucHJvdG90eXBlLkhSPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuQlIudWt9LGkucHJvdG90eXBlLk5rPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuU2sudWt9LGkucHJvdG90eXBlLnhrPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLlNrLmxrLmhhcyh0KXx8dGhpcy5Tay5say5zZXQodCxuZXcgaGl2ZS5zbmFwc2hvdHMuVHJhZmZpYyksdGhpcy5Tay5say5nZXQodCl9LGkucHJvdG90eXBlLl9SPWZ1bmN0aW9uKHQpe2lmKCF0aGlzLkJSLmxrLmhhcyh0KSl7dmFyIGU9bmV3IGhpdmUuc25hcHNob3RzLlRyYWZmaWM7dGhpcy5iayhlKSx0aGlzLkJSLmxrLnNldCh0LGUpfXJldHVybiB0aGlzLkJSLmxrLmdldCh0KX0saS5wcm90b3R5cGUuQms9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZS5kay5oYXModCl8fGUuZGsuc2V0KHQsbmV3IGhpdmUuc25hcHNob3RzLlBhcnRuZXJUcmFmZmljKSxlLmRrLmdldCh0KX0saS5wcm90b3R5cGUuRms9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuQmsodCx0aGlzLkJSKX0saS5wcm90b3R5cGUuX2s9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuQmsodCx0aGlzLlNrKX0saS5wcm90b3R5cGUuRGs9ZnVuY3Rpb24odCl7dGhpcy50bj10fSxpLnByb3RvdHlwZS5Iaz1mdW5jdGlvbih0KXt0aGlzLkNrPXR9LGkucHJvdG90eXBlLmpuPWZ1bmN0aW9uKHQpe30saX0oKTt0LnpmPXI7dmFyIHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dGhpcy5Maz1pc05hTihsLkhpdmVDb25maWcuRGVidWdMb2dzLk1ldHJpY1NuYXBzaG90TG9ncyk/MDpsLkhpdmVDb25maWcuRGVidWdMb2dzLk1ldHJpY1NuYXBzaG90TG9ncyx0aGlzLnN0YXRlPXUuRm8uQm8sdGhpcy5jbGllbnQ9YS5GcmFtZXdvcmsucmVzb2x2ZShjLmdpLkJlKSx0aGlzLlhhPW5ldyBvLkVhLHRoaXMucHJvdG9jb2w9bmV3IG8uJGEodGhpcy5YYSl9cmV0dXJuIHQucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24odCxpKXt0aGlzLm09YS5GcmFtZXdvcmsucmVzb2x2ZShhLkZyYW1ld29yay5GZS53ZSkubG9nKGkpLHRoaXMubS5kZWJ1ZyhlK1wiIElOSVQgQ0xJRU5UIFNUQVRTXCIpLHRoaXMuVmY9dCx0aGlzLk1rKCl9LHQucHJvdG90eXBlLk1rPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLmprPi0xJiZhLkZyYW1ld29yay5jbGVhckludGVydmFsKHRoaXMuamspLHRoaXMuams9YS5GcmFtZXdvcmsuc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXt0LlVrKCl9LGguS24uSm4uUG8pfSx0LnByb3RvdHlwZS5DaT1mdW5jdGlvbih0KXt0aGlzLnN0YXRlPXR9LHQucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7YS5GcmFtZXdvcmsuY2xlYXJJbnRlcnZhbCh0aGlzLmprKSx0aGlzLlZmJiZ0aGlzLlZmLm1rKCl9LHQucHJvdG90eXBlLlVrPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLm0uZGVidWcoXCJbU05BUF0gVEFLSU5HIFNOQVBTSE9UXCIpO3ZhciBlPXRoaXMuVmYuSWsoKTtlLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIHQuZm9yd2FyZChlKX0pLmZhaWwoZnVuY3Rpb24oZSl7dC5tLndhcm4oXCJbU05BUF0gRVJST1IgRk9SV0FSRElORyBTTkFQU0hPVFwiLGUpfSlbXCJmaW5hbGx5XCJdKGZ1bmN0aW9uKCl7dC5WZi5yZXNldCgpfSl9LHQucHJvdG90eXBlLmZvcndhcmQ9ZnVuY3Rpb24odCl7dmFyIGk9dGhpcztpZih0aGlzLnN0YXRlPT09dS5Gby5JRExFKXJldHVybiB2b2lkIHRoaXMubS5kZWJ1ZyhlK1wiIG5vdCBzZW5kIC0gc3RhdGUgaWRsZVwiKTtpZih0aGlzLmNsaWVudCYmdGhpcy5jbGllbnQuWG4oKSl7c3dpdGNoKHRoaXMuTGspe2Nhc2UgMDpkZWZhdWx0OnRoaXMubS5kZWJ1ZyhlK1wiIFNFTkRJTkcgU05BUFNIT1RcIik7YnJlYWs7Y2FzZSAxOnRoaXMubS5kZWJ1ZyhlK1wiIFNFTkRJTkcgU05BUFNIT1QgXCIrSlNPTi5zdHJpbmdpZnkodCkpO2JyZWFrO2Nhc2UgMjp0aGlzLm0uZGVidWcoZStcIiBTRU5ESU5HIFNOQVBTSE9UXCIsdCk7YnJlYWs7Y2FzZSAzOnRoaXMubS5kZWJ1ZyhlK1wiIFNFTkRJTkcgU05BUFNIT1QgXCIrSlNPTi5zdHJpbmdpZnkodCksdCl9dGhpcy5wcm90b2NvbC5wYyhcIlNOQVBTSE9UXCIsby5Mcy5WcywwKSx0LndyaXRlKHRoaXMucHJvdG9jb2wpLHRoaXMucHJvdG9jb2wuZGMoKTt2YXIgcj10aGlzLlhhLkhhKCksbj10aGlzLlZrKHIsXCIsXCIsNCkscz1yLnNsaWNlKG4rMSxyLmxlbmd0aC0xKSxhPW5ldyBwLlpuKFNlcnZpY2VzLnRvLDEscyk7dGhpcy5jbGllbnQuWG4oKS5zZW5kKGEpLmZhaWwoZnVuY3Rpb24odCl7aS5tLndhcm4oZStcIiBQUk9CTEVNOiBcIix0KX0pfX0sdC5wcm90b3R5cGUuVms9ZnVuY3Rpb24odCxlLGkpe3JldHVybiB0LnNwbGl0KGUsaSkuam9pbihlKS5sZW5ndGh9LHR9KCk7dC5lbz1zfShzPWUuU3RhdHN8fChlLlN0YXRzPXt9KSl9LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1pKDEpLG49aSg0KSxvPWkoMikscz1pKDUpLGE9aSg1OCksYz1pKDU0KSxoPWkoNjUpLHA9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dGhpcy5Raz1udWxsLHRoaXMucWs9bnVsbCx0aGlzLkprPW51bGwsdGhpcy5Laz1udWxsLHRoaXMuR2s9bmV3IG4udmUsdGhpcy5wdWJsaWNJcD1udWxsLHRoaXMuems9W10sdGhpcy5faT0hMSx0aGlzLldrPW51bGwsdGhpcy5tPW8uRnJhbWV3b3JrLnJlc29sdmUoby5GcmFtZXdvcmsuRmUud2UpLmxvZygpLHRoaXMuaWs9by5GcmFtZXdvcmsucmVzb2x2ZShzLmdpLmhpKSx0aGlzLiRrPW5ldyBjLmhrLHRoaXMuWWs9W10sdGhpcy5YaygpfXJldHVybiB0LnByb3RvdHlwZS5Yaz1mdW5jdGlvbigpe3ZhciB0PXRoaXM7by5GcmFtZXdvcmsuc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXt0LnprPVtdLHQuWWs9W10sdC5Haz1uZXcgbi52ZSx0LnB1YmxpY0lwPW51bGwsdC5aaz1udWxsfSwxMmU0KX0sdC5wcm90b3R5cGUuUG49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5aa3x8KHRoaXMuWms9dGhpcy50QygpKSx0aGlzLlprfSx0LnByb3RvdHlwZS50Qz1mdW5jdGlvbigpe3ZhciB0PXRoaXMsZT1yLmRlZmVyKCk7aWYodGhpcy5Xaz1vLkZyYW1ld29yay5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS5yZWplY3Qoe2VDOiEwLG1lc3NhZ2U6XCJleHBpcmVkXCJ9KX0sNGUzKSx0aGlzLmlDKCkpdHJ5e3RoaXMuUWs9bmV3IFJUQ1BlZXJDb25uZWN0aW9uKG51bGwpLHRoaXMuSms9dGhpcy5Ray5jcmVhdGVEYXRhQ2hhbm5lbChcInNlbmRDaGFubmVsXCIse3JlbGlhYmxlOiExfSksdGhpcy5xaz1uZXcgUlRDUGVlckNvbm5lY3Rpb24obnVsbCksdGhpcy5xay5vbmRhdGFjaGFubmVsPWZ1bmN0aW9uKGkpe3QuS2s9aS5jaGFubmVsLHQuS2sub25vcGVuPWZ1bmN0aW9uKGkpe1wib3BlblwiPT09dC5Lay5yZWFkeVN0YXRlJiYodC5tLmRlYnVnKFwiQ29sbGVjdGVkIGlwcyBbXCIrdC5Hay5rZXlzKCkuam9pbihcIiwgXCIpK1wiXVwiKSx0LnFrLmNsb3NlKCksdC4kay5uaygpLnRoZW4oZnVuY3Rpb24oZSl7dC5Zaz1lLHQubS5kZWJ1ZyhcIkFscmVhZHkga25vd24gbWF0Y2hpbmcgaXBzIFtcIit0LllrLmpvaW4oXCIsXCIpK1wiXVwiKTt2YXIgaT10LkdrLmtleXMoKTt0LllrLmZvckVhY2goZnVuY3Rpb24oZSl7aS5pbmRleE9mKGUpPjAmJih0LnprLnB1c2goZSksdC5Ha1tcImRlbGV0ZVwiXShlKSl9KSx0LkdrLmtleXMoKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3QuemsucHVzaChlKX0pfSkuZmFpbChmdW5jdGlvbihlKXt0Lm0ud2FybihcIkdldCBQcmV2aW91cyB3b3JraW5nIGlwcyBmYWlsZWQgd2l0aCBlcnJvciBcIitlLm1lc3NhZ2UpLHQuR2sua2V5cygpLmZvckVhY2goZnVuY3Rpb24oZSl7dC56ay5wdXNoKGUpfSl9KVtcImZpbmFsbHlcIl0oZnVuY3Rpb24oKXt0Lm0uZGVidWcoXCJGaW5hbCBwcml2YXRlIGlwIGxpc3QgW1wiK3Quemsuam9pbihcIixcIikrXCJdXCIpLGUucmVzb2x2ZSh0LnJDKCkpfSkpfX0sdGhpcy5Ray5vbmljZWNhbmRpZGF0ZT1mdW5jdGlvbihpKXtpLmNhbmRpZGF0ZSYmdC56YihpLmNhbmRpZGF0ZS5jYW5kaWRhdGUpLCFpLmNhbmRpZGF0ZXx8dC5xay5hZGRJY2VDYW5kaWRhdGUoaS5jYW5kaWRhdGUpW1wiY2F0Y2hcIl0oZnVuY3Rpb24oaSl7ZS5yZWplY3Qoe2VDOiEwLG1lc3NhZ2U6aS5tZXNzYWdlfSksby5GcmFtZXdvcmsuY2xlYXJUaW1lb3V0KHQuV2spLGNvbnNvbGUubG9nKFwiRXJyb3I6IEZhaWx1cmUgZHVyaW5nIGFkZEljZUNhbmRpZGF0ZSgpXCIpfSl9LHRoaXMucWsub25pY2VjYW5kaWRhdGU9ZnVuY3Rpb24oaSl7aS5jYW5kaWRhdGUmJnQuemIoaS5jYW5kaWRhdGUuY2FuZGlkYXRlKSwhaS5jYW5kaWRhdGV8fHQuUWsuYWRkSWNlQ2FuZGlkYXRlKGkuY2FuZGlkYXRlKVtcImNhdGNoXCJdKGZ1bmN0aW9uKGkpe2UucmVqZWN0KHtlQzohMCxtZXNzYWdlOmkubWVzc2FnZX0pLG8uRnJhbWV3b3JrLmNsZWFyVGltZW91dCh0LldrKSxjb25zb2xlLmxvZyhcIkVycm9yOiBGYWlsdXJlIGR1cmluZyBhZGRJY2VDYW5kaWRhdGUoKVwiKX0pfSx0aGlzLlFrLmNyZWF0ZU9mZmVyKCkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gdC5Ray5zZXRMb2NhbERlc2NyaXB0aW9uKGUpfSkudGhlbihmdW5jdGlvbigpe3JldHVybiB0LnFrLnNldFJlbW90ZURlc2NyaXB0aW9uKHQuUWsubG9jYWxEZXNjcmlwdGlvbil9KS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIHQucWsuY3JlYXRlQW5zd2VyKCl9KS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiB0LnFrLnNldExvY2FsRGVzY3JpcHRpb24oZSl9KS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIHQuUWsuc2V0UmVtb3RlRGVzY3JpcHRpb24odC5xay5sb2NhbERlc2NyaXB0aW9uKX0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24oaSl7ZS5yZWplY3Qoe2VDOiEwLG1lc3NhZ2U6aS5tZXNzYWdlfSksby5GcmFtZXdvcmsuY2xlYXJUaW1lb3V0KHQuV2spLGNvbnNvbGUubG9nKFwiRXJyb3I6IEZhaWx1cmUgY3JlYXRpbmcgb2ZmZXJcIil9KX1jYXRjaChpKXtlLnJlamVjdCh7ZUM6ITAsbWVzc2FnZTppLm1lc3NhZ2V9KX1lbHNlIG8uRnJhbWV3b3JrLmNsZWFyVGltZW91dCh0aGlzLldrKSxlLnJlamVjdCh7ZUM6ITEsbWVzc2FnZTpcIndlYnJ0YyBkYXRhY2hhbm5lbCBub3Qgc3VwcG9ydGVkXCJ9KTtyZXR1cm4gZS52dH0sdC5wcm90b3R5cGUuaUM9ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIG51bGwhPWguWGUmJm51bGwhPWgubkMmJlwiZnVuY3Rpb25cIj09dHlwZW9mIG5ldyBSVENQZWVyQ29ubmVjdGlvbihudWxsLG51bGwpLmNyZWF0ZURhdGFDaGFubmVsfWNhdGNoKHQpe3JldHVybiExfX0sdC5wcm90b3R5cGUuemI9ZnVuY3Rpb24odCl7dmFyIGU9LyhbMC05XXsxLDN9KFxcLlswLTldezEsM30pezN9KS8saT1lLmV4ZWModCk7aWYoaSl7dmFyIHI9aVswXTt0aGlzLkdrLnNldChyLCEwKX19LHQucHJvdG90eXBlLnJDPWZ1bmN0aW9uKCl7dmFyIHQ9bmV3IGEub0M7cmV0dXJuIHRoaXMuemsubGVuZ3RoPjAmJnQuc0ModGhpcy56a1swXSksdGhpcy5wdWJsaWNJcCYmdC5hQyh0aGlzLnB1YmxpY0lwKSx0aGlzLmlrLkpSKHQpLHRoaXMuaWt9LHQucHJvdG90eXBlLnJrPWZ1bmN0aW9uKHQsZSxpKXtpZih0aGlzLnB1YmxpY0lwPXQsdGhpcy5jQygpLDA9PT1pJiZ0aGlzLnprLmxlbmd0aD4xKXRoaXMuemsuc2hpZnQoKTtlbHNlIGlmKDAhPT1pJiZ0aGlzLllrLmluZGV4T2YodGhpcy56a1swXSk9PS0xKXRoaXMuWWsudW5zaGlmdCh0aGlzLnprWzBdKSx0aGlzLiRrLmNrKHRoaXMuWWsuc2xpY2UoMCwyKSk7ZWxzZSBpZigwIT09aSYmdGhpcy5Zay5pbmRleE9mKHRoaXMuemtbMF0pPjApe3ZhciByPXRoaXMuWWsuaW5kZXhPZih0aGlzLnprWzBdKTt0aGlzLllrPXRoaXMuWWsuc3BsaWNlKHIsMSksdGhpcy5Zay51bnNoaWZ0KHRoaXMuemtbMF0pLHRoaXMuJGsuY2sodGhpcy5Zay5zbGljZSgwLDIpKX10aGlzLnJDKCl9LHQucHJvdG90eXBlLmNDPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy56ay5pbmRleE9mKHRoaXMucHVibGljSXApO3Q+LTEmJnRoaXMuemsuc3BsaWNlKHQsMSl9LHR9KCk7ZS5NUj1wfSxmdW5jdGlvbih0LGUpe1widXNlIHN0cmljdFwiO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5wcm90b3R5cGUuYUM9ZnVuY3Rpb24odCl7dGhpcy5wdWJsaWNJcD10fSx0LnByb3RvdHlwZS54bj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnB1YmxpY0lwfSx0LnByb3RvdHlwZS5oQz1mdW5jdGlvbih0KXt0aGlzLnBDPXR9LHQucHJvdG90eXBlLkxuPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucEN9LHQucHJvdG90eXBlLnVDPWZ1bmN0aW9uKHQpe3RoaXMubmljPXR9LHQucHJvdG90eXBlLkRuPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubmljfSx0LnByb3RvdHlwZS5sQz1mdW5jdGlvbih0KXt0aGlzLm5pY05hbWU9dH0sdC5wcm90b3R5cGUuSG49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uaWNOYW1lfSx0LnByb3RvdHlwZS5zQz1mdW5jdGlvbih0KXt0aGlzLnByaXZhdGVJcD10fSx0LnByb3RvdHlwZS5Cbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnByaXZhdGVJcH0sdC5wcm90b3R5cGUuZEM9ZnVuY3Rpb24odCl7dGhpcy5uZXRtYXNrPXR9LHQucHJvdG90eXBlLmZDPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubmV0bWFza30sdC5wcm90b3R5cGUuZ0M9ZnVuY3Rpb24odCl7dGhpcy52Qz10fSx0LnByb3RvdHlwZS5fbj1mdW5jdGlvbigpe3JldHVybiBudWxsfSx0fSgpO2Uub0M9aX0sZnVuY3Rpb24odCxlKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLGkpe3RoaXMuaXNMaXZlPXQsdGhpcy5wcm90b2NvbD1lLHRoaXMueUM9aX1yZXR1cm4gdC5wcm90b3R5cGUua2s9ZnVuY3Rpb24oKXt2YXIgdD1uZXcgaGl2ZS5zbmFwc2hvdHMuU3RyZWFtSW5mbztyZXR1cm4gdC5zdHJlYW1UeXBlPXRoaXMuaXNMaXZlP1N0cmVhbVR5cGUuTElWRTpTdHJlYW1UeXBlLlBmLHQuc3RyZWFtUHJvdG9jb2w9dGhpcy5wcm90b2NvbCx0LnVybD10aGlzLnlDLHR9LHR9KCk7ZS5OUj1pfSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7aSgyOSk7dmFyIHI9aSgxKSxuPWkoNCksbz1uLnZlLHM9aSgyKSxhPWkoMjApLGM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuaW89KG5ldyBEYXRlKS5nZXRUaW1lKCksdGhpcy5tQz10fXJldHVybiB0fSgpLGg9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dGhpcy53Qz1uZXcgbyx0aGlzLm09KHMuRnJhbWV3b3JrLnJlc29sdmUocy5GcmFtZXdvcmsuRmUud2UpfHxjb25zb2xlKS5sb2coKSx0aGlzLm0uZGVidWcoXCJJTklUIFRJQ0tFVCBSRVNPTFZFUlwiKX1yZXR1cm4gdC5wcm90b3R5cGUucmVzb2x2ZT1mdW5jdGlvbih0LGUsaSl7dmFyIG49dGhpcyxvPXIuZGVmZXIoKTtyZXR1cm4gdCYmKHQub24oU2VydmljZXMua2YsMCxmdW5jdGlvbih0KXtuLlRDKHQpfSksdC5vbihTZXJ2aWNlcy5rZiwyLGZ1bmN0aW9uKHQpe24uVEModCl9KSx0aGlzLndDLnNldChlLG5ldyBjKG8pKSksby52dH0sdC5wcm90b3R5cGUuVEM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxpPShuZXcgRGF0ZSkuZ2V0VGltZSgpLHI9SlNPTi5wYXJzZSh0Lm1zZyksbj0hMTt0aGlzLndDLmZvckVhY2goZnVuY3Rpb24odCxvKXtpZihlLlNDKG8scikpe249ITA7dmFyIHM9ZS4kbChvLHIpO3M/KHMuaW89dC5pbyxzLnJvPWksdC5tQy5yZXNvbHZlKHMpKTp0Lm1DLnJlamVjdChcIlRpY2tldCB2ZXJpZmljYXRpb24gZmFpbGVkXCIpLGUud0NbXCJkZWxldGVcIl0ocyl9fSksbnx8dGhpcy5tLndhcm4oXCJubyBwZW5kaW5nIHRpY2tldCBtYXRjaGluZzogXCIrdC5tc2cpfSx0LnByb3RvdHlwZS5Hbz1mdW5jdGlvbih0KXt2YXIgZT1uZXcgUmVnRXhwKFwiXmh0dHBzPzovL2FwaSg/Oi10ZXN0KT8uaGl2ZXN0cmVhbWluZy5jb20vdjEvZXZlbnRzLyg/OndpbGRjYXJkLyk/XCIpO2lmKGUudGVzdCh0KSl7dmFyIGk9dGhpcy5iQygpO3JldHVybiBpLktoKHQpLGl9cmV0dXJuIG51bGx9LHQucHJvdG90eXBlLmJDPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBhLmFwfSx0LnByb3RvdHlwZS5TQz1mdW5jdGlvbih0LGUpe3JldHVybiB0LmJuKCk9PT1lW2EuYXAub3BdJiZ0LkVuKCk9PT1lW2EuYXAubnBdJiZ0LmVzKCk9PT1lW2EuYXAuc3BdfSx0LnByb3RvdHlwZS4kbD1mdW5jdGlvbih0LGUpe3JldHVybiB0LlVoKGUpLHQuUWgoKT90Om51bGx9LHR9KCk7ZS5VUj1ofSxmdW5jdGlvbih0LGUpe1wiZnVuY3Rpb25cIj09dHlwZW9mIE9iamVjdC5jcmVhdGU/dC50PWZ1bmN0aW9uKHQsZSl7dC5FQz1lLHQucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LEFnOiExLFBnOiEwLE5nOiEwfX0pfTp0LnQ9ZnVuY3Rpb24odCxlKXt0LkVDPWU7dmFyIGk9ZnVuY3Rpb24oKXt9O2kucHJvdG90eXBlPWUucHJvdG90eXBlLHQucHJvdG90eXBlPW5ldyBpLHQucHJvdG90eXBlLmNvbnN0cnVjdG9yPXR9fSxmdW5jdGlvbih0LGUpe3QudD1mdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJvYmplY3RcIj09dHlwZW9mIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQuY29weSYmXCJmdW5jdGlvblwiPT10eXBlb2YgdC5maWxsJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LnJlYWRVSW50OH19LGZ1bmN0aW9uKHQsZSxpKXtmdW5jdGlvbiByKHQsaSl7dmFyIHI9e0lDOltdLFJDOm99O3JldHVybiBhcmd1bWVudHMubGVuZ3RoPj0zJiYoci5rQz1hcmd1bWVudHNbMl0pLGFyZ3VtZW50cy5sZW5ndGg+PTQmJihyLkNDPWFyZ3VtZW50c1szXSksZihpKT9yLk9DPWk6aSYmZS5QQyhyLGkpLFQoci5PQykmJihyLk9DPSExKSxUKHIua0MpJiYoci5rQz0yKSxUKHIuQ0MpJiYoci5DQz0hMSksVChyLkFDKSYmKHIuQUM9ITApLHIuQ0MmJihyLlJDPW4pLGEocix0LHIua0MpfWZ1bmN0aW9uIG4odCxlKXt2YXIgaT1yLk5DW2VdO3JldHVybiBpP1wiXHUwMDFiW1wiK3IuQ0NbaV1bMF0rXCJtXCIrdCtcIlx1MDAxYltcIityLkNDW2ldWzFdK1wibVwiOnR9ZnVuY3Rpb24gbyh0LGUpe3JldHVybiB0fWZ1bmN0aW9uIHModCl7dmFyIGU9e307cmV0dXJuIHQuZm9yRWFjaChmdW5jdGlvbih0LGkpe2VbdF09ITB9KSxlfWZ1bmN0aW9uIGEodCxpLHIpe2lmKHQuQUMmJmkmJlIoaS5ndCkmJmkuZ3QhPT1lLmd0JiYoIWkuY29uc3RydWN0b3J8fGkuY29uc3RydWN0b3IucHJvdG90eXBlIT09aSkpe3ZhciBuPWkuZ3Qocix0KTtyZXR1cm4gbShuKXx8KG49YSh0LG4scikpLG59dmFyIG89Yyh0LGkpO2lmKG8pcmV0dXJuIG87dmFyIGY9T2JqZWN0LmtleXMoaSksZz1zKGYpO2lmKHQuT0MmJihmPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGkpKSxJKGkpJiYoZi5pbmRleE9mKFwibWVzc2FnZVwiKT49MHx8Zi5pbmRleE9mKFwiZGVzY3JpcHRpb25cIik+PTApKXJldHVybiBoKGkpO2lmKDA9PT1mLmxlbmd0aCl7aWYoUihpKSl7dmFyIHY9aS5uYW1lP1wiOiBcIitpLm5hbWU6XCJcIjtyZXR1cm4gdC5SQyhcIltGdW5jdGlvblwiK3YrXCJdXCIsXCJzcGVjaWFsXCIpfWlmKFMoaSkpcmV0dXJuIHQuUkMoUmVnRXhwLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGkpLFwicmVnZXhwXCIpO2lmKEUoaSkpcmV0dXJuIHQuUkMoRGF0ZS5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpKSxcImRhdGVcIik7aWYoSShpKSlyZXR1cm4gaChpKX12YXIgeT1cIlwiLHc9ITEsVD1bXCJ7XCIsXCJ9XCJdO2lmKGQoaSkmJih3PSEwLFQ9W1wiW1wiLFwiXVwiXSksUihpKSl7dmFyIGI9aS5uYW1lP1wiOiBcIitpLm5hbWU6XCJcIjt5PVwiIFtGdW5jdGlvblwiK2IrXCJdXCJ9aWYoUyhpKSYmKHk9XCIgXCIrUmVnRXhwLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGkpKSxFKGkpJiYoeT1cIiBcIitEYXRlLnByb3RvdHlwZS50b1VUQ1N0cmluZy5jYWxsKGkpKSxJKGkpJiYoeT1cIiBcIitoKGkpKSwwPT09Zi5sZW5ndGgmJighd3x8MD09aS5sZW5ndGgpKXJldHVybiBUWzBdK3krVFsxXTtpZihyPDApcmV0dXJuIFMoaSk/dC5SQyhSZWdFeHAucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaSksXCJyZWdleHBcIik6dC5SQyhcIltPYmplY3RdXCIsXCJzcGVjaWFsXCIpO3QuSUMucHVzaChpKTt2YXIgaztyZXR1cm4gaz13P3AodCxpLHIsZyxmKTpmLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gdSh0LGkscixnLGUsdyl9KSx0LklDLnBvcCgpLGwoayx5LFQpfWZ1bmN0aW9uIGModCxlKXtpZihUKGUpKXJldHVybiB0LlJDKFwidW5kZWZpbmVkXCIsXCJ1bmRlZmluZWRcIik7aWYobShlKSl7dmFyIGk9XCInXCIrSlNPTi5zdHJpbmdpZnkoZSkucmVwbGFjZSgvXlwifFwiJC9nLFwiXCIpLnJlcGxhY2UoLycvZyxcIlxcXFwnXCIpLnJlcGxhY2UoL1xcXFxcIi9nLCdcIicpK1wiJ1wiO3JldHVybiB0LlJDKGksXCJzdHJpbmdcIil9cmV0dXJuIHkoZSk/dC5SQyhcIlwiK2UsXCJudW1iZXJcIik6ZihlKT90LlJDKFwiXCIrZSxcImJvb2xlYW5cIik6ZyhlKT90LlJDKFwibnVsbFwiLFwibnVsbFwiKTp2b2lkIDB9ZnVuY3Rpb24gaCh0KXtyZXR1cm5cIltcIitFcnJvci5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KStcIl1cIn1mdW5jdGlvbiBwKHQsZSxpLHIsbil7Zm9yKHZhciBvPVtdLHM9MCxhPWUubGVuZ3RoO3M8YTsrK3MpQShlLFN0cmluZyhzKSk/by5wdXNoKHUodCxlLGkscixTdHJpbmcocyksITApKTpvLnB1c2goXCJcIik7cmV0dXJuIG4uZm9yRWFjaChmdW5jdGlvbihuKXtuLm1hdGNoKC9eXFxkKyQvKXx8by5wdXNoKHUodCxlLGkscixuLCEwKSl9KSxvfWZ1bmN0aW9uIHUodCxlLGkscixuLG8pe3ZhciBzLGMsaDtpZihoPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSxuKXx8e3ZhbHVlOmVbbl19LGguZ2V0P2M9aC5zZXQ/dC5SQyhcIltHZXR0ZXIvU2V0dGVyXVwiLFwic3BlY2lhbFwiKTp0LlJDKFwiW0dldHRlcl1cIixcInNwZWNpYWxcIik6aC5zZXQmJihjPXQuUkMoXCJbU2V0dGVyXVwiLFwic3BlY2lhbFwiKSksQShyLG4pfHwocz1cIltcIituK1wiXVwiKSxjfHwodC5JQy5pbmRleE9mKGgudmFsdWUpPDA/KGM9ZyhpKT9hKHQsaC52YWx1ZSxudWxsKTphKHQsaC52YWx1ZSxpLTEpLGMuaW5kZXhPZihcIlxcblwiKT4tMSYmKGM9bz9jLnNwbGl0KFwiXFxuXCIpLm1hcChmdW5jdGlvbih0KXtyZXR1cm5cIiAgXCIrdH0pLmpvaW4oXCJcXG5cIikuc3Vic3RyKDIpOlwiXFxuXCIrYy5zcGxpdChcIlxcblwiKS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuXCIgICBcIit0fSkuam9pbihcIlxcblwiKSkpOmM9dC5SQyhcIltDaXJjdWxhcl1cIixcInNwZWNpYWxcIikpLFQocykpe2lmKG8mJm4ubWF0Y2goL15cXGQrJC8pKXJldHVybiBjO3M9SlNPTi5zdHJpbmdpZnkoXCJcIituKSxzLm1hdGNoKC9eXCIoW2EtekEtWl9dW2EtekEtWl8wLTldKilcIiQvKT8ocz1zLnN1YnN0cigxLHMubGVuZ3RoLTIpLHM9dC5SQyhzLFwibmFtZVwiKSk6KHM9cy5yZXBsYWNlKC8nL2csXCJcXFxcJ1wiKS5yZXBsYWNlKC9cXFxcXCIvZywnXCInKS5yZXBsYWNlKC8oXlwifFwiJCkvZyxcIidcIikscz10LlJDKHMsXCJzdHJpbmdcIikpfXJldHVybiBzK1wiOiBcIitjfWZ1bmN0aW9uIGwodCxlLGkpe3ZhciByPTAsbj10LnJlZHVjZShmdW5jdGlvbih0LGUpe3JldHVybiByKyssZS5pbmRleE9mKFwiXFxuXCIpPj0wJiZyKyssdCtlLnJlcGxhY2UoL1xcdTAwMWJcXFtcXGRcXGQ/bS9nLFwiXCIpLmxlbmd0aCsxfSwwKTtyZXR1cm4gbj42MD9pWzBdKyhcIlwiPT09ZT9cIlwiOmUrXCJcXG4gXCIpK1wiIFwiK3Quam9pbihcIixcXG4gIFwiKStcIiBcIitpWzFdOmlbMF0rZStcIiBcIit0LmpvaW4oXCIsIFwiKStcIiBcIitpWzFdfWZ1bmN0aW9uIGQodCl7cmV0dXJuIEFycmF5LmlzQXJyYXkodCl9ZnVuY3Rpb24gZih0KXtyZXR1cm5cImJvb2xlYW5cIj09dHlwZW9mIHR9ZnVuY3Rpb24gZyh0KXtyZXR1cm4gbnVsbD09PXR9ZnVuY3Rpb24gdih0KXtyZXR1cm4gbnVsbD09dH1mdW5jdGlvbiB5KHQpe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiB0fWZ1bmN0aW9uIG0odCl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHR9ZnVuY3Rpb24gdyh0KXtyZXR1cm5cInN5bWJvbFwiPT10eXBlb2YgdH1mdW5jdGlvbiBUKHQpe3JldHVybiB2b2lkIDA9PT10fWZ1bmN0aW9uIFModCl7cmV0dXJuIGIodCkmJlwiW29iamVjdCBSZWdFeHBdXCI9PT1DKHQpfWZ1bmN0aW9uIGIodCl7cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIHQmJm51bGwhPT10fWZ1bmN0aW9uIEUodCl7cmV0dXJuIGIodCkmJlwiW29iamVjdCBEYXRlXVwiPT09Qyh0KX1mdW5jdGlvbiBJKHQpe3JldHVybiBiKHQpJiYoXCJbb2JqZWN0IEVycm9yXVwiPT09Qyh0KXx8dCBpbnN0YW5jZW9mIEVycm9yKX1mdW5jdGlvbiBSKHQpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIHR9ZnVuY3Rpb24gayh0KXtyZXR1cm4gbnVsbD09PXR8fFwiYm9vbGVhblwiPT10eXBlb2YgdHx8XCJudW1iZXJcIj09dHlwZW9mIHR8fFwic3RyaW5nXCI9PXR5cGVvZiB0fHxcInN5bWJvbFwiPT10eXBlb2YgdHx8XCJ1bmRlZmluZWRcIj09dHlwZW9mIHR9ZnVuY3Rpb24gQyh0KXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpfWZ1bmN0aW9uIE8odCl7cmV0dXJuIHQ8MTA/XCIwXCIrdC50b1N0cmluZygxMCk6dC50b1N0cmluZygxMCl9ZnVuY3Rpb24gUCgpe3ZhciB0PW5ldyBEYXRlLGU9W08odC5nZXRIb3VycygpKSxPKHQuZ2V0TWludXRlcygpKSxPKHQuZ2V0U2Vjb25kcygpKV0uam9pbihcIjpcIik7cmV0dXJuW3QuZ2V0RGF0ZSgpLEZbdC5nZXRNb250aCgpXSxlXS5qb2luKFwiIFwiKX1mdW5jdGlvbiBBKHQsZSl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGUpfXZhciBOPS8lW3NkaiVdL2c7ZS5mb3JtYXQ9ZnVuY3Rpb24odCl7aWYoIW0odCkpe2Zvcih2YXIgZT1bXSxpPTA7aTxhcmd1bWVudHMubGVuZ3RoO2krKyllLnB1c2gocihhcmd1bWVudHNbaV0pKTtyZXR1cm4gZS5qb2luKFwiIFwiKX1mb3IodmFyIGk9MSxuPWFyZ3VtZW50cyxvPW4ubGVuZ3RoLHM9U3RyaW5nKHQpLnJlcGxhY2UoTixmdW5jdGlvbih0KXtpZihcIiUlXCI9PT10KXJldHVyblwiJVwiO2lmKGk+PW8pcmV0dXJuIHQ7c3dpdGNoKHQpe2Nhc2VcIiVzXCI6cmV0dXJuIFN0cmluZyhuW2krK10pO2Nhc2VcIiVkXCI6cmV0dXJuIE51bWJlcihuW2krK10pO2Nhc2VcIiVqXCI6dHJ5e3JldHVybiBKU09OLnN0cmluZ2lmeShuW2krK10pfWNhdGNoKGUpe3JldHVyblwiW0NpcmN1bGFyXVwifWRlZmF1bHQ6cmV0dXJuIHR9fSksYT1uW2ldO2k8bzthPW5bKytpXSlzKz1nKGEpfHwhYihhKT9cIiBcIithOlwiIFwiK3IoYSk7cmV0dXJuIHN9LGUueEM9ZnVuY3Rpb24odCxpKXtmdW5jdGlvbiByKCl7aWYoIW4pe2lmKHByb2Nlc3MudGhyb3dEZXByZWNhdGlvbil0aHJvdyBuZXcgRXJyb3IoaSk7cHJvY2Vzcy50cmFjZURlcHJlY2F0aW9uP2NvbnNvbGUudHJhY2UoaSk6Y29uc29sZS5lcnJvcihpKSxuPSEwfXJldHVybiB0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX1pZihUKGdsb2JhbC5wcm9jZXNzKSlyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZS54Qyh0LGkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07aWYocHJvY2Vzcy5ub0RlcHJlY2F0aW9uPT09ITApcmV0dXJuIHQ7dmFyIG49ITE7cmV0dXJuIHJ9O3ZhciB4LEI9e307ZS5CQz1mdW5jdGlvbih0KXtpZihUKHgpJiYoeD1wcm9jZXNzLk90Lk5PREVfREVCVUd8fFwiXCIpLHQ9dC50b1VwcGVyQ2FzZSgpLCFCW3RdKWlmKG5ldyBSZWdFeHAoXCJcXFxcYlwiK3QrXCJcXFxcYlwiLFwiaVwiKS50ZXN0KHgpKXt2YXIgaT1wcm9jZXNzLnBpZDtCW3RdPWZ1bmN0aW9uKCl7dmFyIHI9ZS5mb3JtYXQuYXBwbHkoZSxhcmd1bWVudHMpO2NvbnNvbGUuZXJyb3IoXCIlcyAlZDogJXNcIix0LGkscil9fWVsc2UgQlt0XT1mdW5jdGlvbigpe307cmV0dXJuIEJbdF19LGUuZ3Q9cixyLkNDPXtib2xkOlsxLDIyXSxGQzpbMywyM10sX0M6WzQsMjRdLGludmVyc2U6WzcsMjddLERDOlszNywzOV0sSEM6WzkwLDM5XSxMQzpbMzAsMzldLGJsdWU6WzM0LDM5XSxNQzpbMzYsMzldLGdyZWVuOlszMiwzOV0sakM6WzM1LDM5XSxyZWQ6WzMxLDM5XSxVQzpbMzMsMzldfSxyLk5DPXtWQzpcImN5YW5cIixudW1iZXI6XCJ5ZWxsb3dcIixRQzpcInllbGxvd1wiLHVuZGVmaW5lZDpcImdyZXlcIixxQzpcImJvbGRcIixKQzpcImdyZWVuXCIseFQ6XCJtYWdlbnRhXCIsS0M6XCJyZWRcIn0sZS5pc0FycmF5PWQsZS5PbT1mLGUuQW09ZyxlLmFrPXYsZS5ObT15LGUueG09bSxlLkdDPXcsZS5CbT1ULGUuekM9UyxlLm92PWIsZS5XQz1FLGUuJEM9SSxlLlBtPVIsZS5ZQz1rLGUuaXNCdWZmZXI9aSg2Mik7dmFyIEY9W1wiSmFuXCIsXCJGZWJcIixcIk1hclwiLFwiQXByXCIsXCJNYXlcIixcIkp1blwiLFwiSnVsXCIsXCJBdWdcIixcIlNlcFwiLFwiT2N0XCIsXCJOb3ZcIixcIkRlY1wiXTtlLmxvZz1mdW5jdGlvbigpe2NvbnNvbGUubG9nKFwiJXMgLSAlc1wiLFAoKSxlLmZvcm1hdC5hcHBseShlLGFyZ3VtZW50cykpfSxlLnFzPWkoNjEpLGUuUEM9ZnVuY3Rpb24odCxlKXtpZighZXx8IWIoZSkpcmV0dXJuIHQ7Zm9yKHZhciBpPU9iamVjdC5rZXlzKGUpLHI9aS5sZW5ndGg7ci0tOyl0W2lbcl1dPWVbaVtyXV07cmV0dXJuIHR9fSxmdW5jdGlvbih0LGUpeyhmdW5jdGlvbihlKXt0LnQ9ZX0pLmNhbGwoZSx7fSl9LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjshZnVuY3Rpb24oKXt2YXIgZT1pKDMpLHI9ZS5sb2csbj1lLnJpO3QudC5yaT1uLHQudC5YZT1lLlhlLHQudC5ZZT1lLlllO3ZhciBvPWkoNjYpfHxudWxsLHM9aSg2OCl8fG51bGwsYT1pKDcwKXx8bnVsbCxjPWkoNzIpfHxudWxsO3N3aXRjaChuLnRpKXtjYXNlXCJjaHJvbWVcIjppZighb3x8IW8uWEMpcmV0dXJuIHZvaWQgcihcIkNocm9tZSBzaGltIGlzIG5vdCBpbmNsdWRlZCBpbiB0aGlzIGFkYXB0ZXIgcmVsZWFzZS5cIik7cihcImFkYXB0ZXIuanMgc2hpbW1pbmcgY2hyb21lLlwiKSx0LnQubkM9byxvLlpDKCksby50TygpLGUuZWkoKSxvLmVPKCksby5YQygpLG8uaU8oKSxvLnJPKCk7YnJlYWs7Y2FzZVwiZmlyZWZveFwiOmlmKCFhfHwhYS5YQylyZXR1cm4gdm9pZCByKFwiRmlyZWZveCBzaGltIGlzIG5vdCBpbmNsdWRlZCBpbiB0aGlzIGFkYXB0ZXIgcmVsZWFzZS5cIik7cihcImFkYXB0ZXIuanMgc2hpbW1pbmcgZmlyZWZveC5cIiksdC50Lm5DPWEsYS5aQygpLGUuZWkoKSxhLmVPKCksYS5YQygpLGEuaU8oKTticmVhaztjYXNlXCJlZGdlXCI6aWYoIXN8fCFzLlhDKXJldHVybiB2b2lkIHIoXCJNUyBlZGdlIHNoaW0gaXMgbm90IGluY2x1ZGVkIGluIHRoaXMgYWRhcHRlciByZWxlYXNlLlwiKTtyKFwiYWRhcHRlci5qcyBzaGltbWluZyBlZGdlLlwiKSx0LnQubkM9cyxzLlpDKCksZS5laSgpLHMuWEMoKTticmVhaztjYXNlXCJzYWZhcmlcIjppZighYylyZXR1cm4gdm9pZCByKFwiU2FmYXJpIHNoaW0gaXMgbm90IGluY2x1ZGVkIGluIHRoaXMgYWRhcHRlciByZWxlYXNlLlwiKTtyKFwiYWRhcHRlci5qcyBzaGltbWluZyBzYWZhcmkuXCIpLHQudC5uQz1jLGMuWkMoKTticmVhaztkZWZhdWx0OnIoXCJVbnN1cHBvcnRlZCBicm93c2VyIVwiKX19KCl9LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1pKDMpLmxvZyxuPWkoMykucmksbz17dE86ZnVuY3Rpb24oKXt3aW5kb3cuTWVkaWFTdHJlYW09d2luZG93Lk1lZGlhU3RyZWFtfHx3aW5kb3cud2Via2l0TWVkaWFTdHJlYW19LGlPOmZ1bmN0aW9uKCl7XCJvYmplY3RcIiE9dHlwZW9mIHdpbmRvd3x8IXdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbnx8XCJvbnRyYWNrXCJpbiB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlfHxPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZSxcIm9udHJhY2tcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubk99LHNldDpmdW5jdGlvbih0KXt2YXIgZT10aGlzO3RoaXMubk8mJih0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0cmFja1wiLHRoaXMubk8pLHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImFkZHN0cmVhbVwiLHRoaXMub08pKSx0aGlzLmFkZEV2ZW50TGlzdGVuZXIoXCJ0cmFja1wiLHRoaXMubk89dCksdGhpcy5hZGRFdmVudExpc3RlbmVyKFwiYWRkc3RyZWFtXCIsdGhpcy5vTz1mdW5jdGlvbih0KXt0LnN0cmVhbS5hZGRFdmVudExpc3RlbmVyKFwiYWRkdHJhY2tcIixmdW5jdGlvbihpKXt2YXIgcj1uZXcgRXZlbnQoXCJ0cmFja1wiKTtyLnRyYWNrPWkudHJhY2ssci5yZWNlaXZlcj17dHJhY2s6aS50cmFja30sci5zTz1bdC5zdHJlYW1dLGUuZGlzcGF0Y2hFdmVudChyKX0pLHQuc3RyZWFtLmdldFRyYWNrcygpLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIGk9bmV3IEV2ZW50KFwidHJhY2tcIik7aS50cmFjaz1lLGkucmVjZWl2ZXI9e3RyYWNrOmV9LGkuc089W3Quc3RyZWFtXSx0aGlzLmRpc3BhdGNoRXZlbnQoaSl9LmJpbmQodGhpcykpfS5iaW5kKHRoaXMpKX19KX0sck86ZnVuY3Rpb24oKXtpZihcIm9iamVjdFwiPT10eXBlb2Ygd2luZG93JiZ3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24mJiEoXCJnZXRTZW5kZXJzXCJpbiBSVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUpJiZcImNyZWF0ZURUTUZTZW5kZXJcImluIFJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZSl7UlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFNlbmRlcnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hT307dmFyIHQ9UlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZFN0cmVhbSxlPVJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5yZW1vdmVTdHJlYW07UlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZFN0cmVhbT1mdW5jdGlvbihlKXt2YXIgaT10aGlzO2kuYU89aS5hT3x8W10sdC5hcHBseShpLFtlXSksZS5nZXRUcmFja3MoKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2kuYU8ucHVzaCh7dHJhY2s6dCxnZXQgY08oKXtyZXR1cm4gdm9pZCAwPT09dGhpcy5oTyYmKFwiYXVkaW9cIj09PXQua2luZD90aGlzLmhPPWkuY3JlYXRlRFRNRlNlbmRlcih0KTp0aGlzLmhPPW51bGwpLHRoaXMuaE99fSl9KX0sUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnJlbW92ZVN0cmVhbT1mdW5jdGlvbih0KXt2YXIgaT10aGlzO2kuYU89aS5hT3x8W10sZS5hcHBseShpLFt0XSksdC5nZXRUcmFja3MoKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBlPWkuYU8uZmluZChmdW5jdGlvbihlKXtyZXR1cm4gZS50cmFjaz09PXR9KTtlJiZpLmFPLnNwbGljZShpLmFPLmluZGV4T2YoZSksMSl9KX19fSxlTzpmdW5jdGlvbigpe1wib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3cmJighd2luZG93LkhUTUxNZWRpYUVsZW1lbnR8fFwic3JjT2JqZWN0XCJpbiB3aW5kb3cuSFRNTE1lZGlhRWxlbWVudC5wcm90b3R5cGV8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3cuSFRNTE1lZGlhRWxlbWVudC5wcm90b3R5cGUsXCJzcmNPYmplY3RcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucE99LHNldDpmdW5jdGlvbih0KXt2YXIgZT10aGlzO3JldHVybiB0aGlzLnBPPXQsdGhpcy5zcmMmJlVSTC5yZXZva2VPYmplY3RVUkwodGhpcy5zcmMpLHQ/KHRoaXMuc3JjPVVSTC5jcmVhdGVPYmplY3RVUkwodCksdC5hZGRFdmVudExpc3RlbmVyKFwiYWRkdHJhY2tcIixmdW5jdGlvbigpe2Uuc3JjJiZVUkwucmV2b2tlT2JqZWN0VVJMKGUuc3JjKSxlLnNyYz1VUkwuY3JlYXRlT2JqZWN0VVJMKHQpfSksdm9pZCB0LmFkZEV2ZW50TGlzdGVuZXIoXCJyZW1vdmV0cmFja1wiLGZ1bmN0aW9uKCl7ZS5zcmMmJlVSTC5yZXZva2VPYmplY3RVUkwoZS5zcmMpLGUuc3JjPVVSTC5jcmVhdGVPYmplY3RVUkwodCl9KSk6dm9pZCh0aGlzLnNyYz1cIlwiKX19KSl9LFhDOmZ1bmN0aW9uKCl7d2luZG93LlJUQ1BlZXJDb25uZWN0aW9ufHwod2luZG93LlJUQ1BlZXJDb25uZWN0aW9uPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHIoXCJQZWVyQ29ubmVjdGlvblwiKSx0JiZ0LnVPJiYodC5sTz10LnVPKSxuZXcgd2Via2l0UlRDUGVlckNvbm5lY3Rpb24odCxlKX0sd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZT13ZWJraXRSVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUsd2Via2l0UlRDUGVlckNvbm5lY3Rpb24uZ2VuZXJhdGVDZXJ0aWZpY2F0ZSYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbixcImdlbmVyYXRlQ2VydGlmaWNhdGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHdlYmtpdFJUQ1BlZXJDb25uZWN0aW9uLmdlbmVyYXRlQ2VydGlmaWNhdGV9fSkpO3ZhciB0PVJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRTdGF0cztSVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0U3RhdHM9ZnVuY3Rpb24oZSxpLHIpe3ZhciBuPXRoaXMsbz1hcmd1bWVudHM7aWYoYXJndW1lbnRzLmxlbmd0aD4wJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKXJldHVybiB0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTtpZigwPT09dC5sZW5ndGgmJigwPT09YXJndW1lbnRzLmxlbmd0aHx8XCJmdW5jdGlvblwiIT10eXBlb2YgYXJndW1lbnRzWzBdKSlyZXR1cm4gdC5hcHBseSh0aGlzLFtdKTt2YXIgcz1mdW5jdGlvbih0KXt2YXIgZT17fSxpPXQucmVzdWx0KCk7cmV0dXJuIGkuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgaT17aWQ6dC5pZCx0aW1lc3RhbXA6dC50aW1lc3RhbXAsdHlwZTp7ZE86XCJsb2NhbC1jYW5kaWRhdGVcIixmTzpcInJlbW90ZS1jYW5kaWRhdGVcIn1bdC50eXBlXXx8dC50eXBlfTt0Lm5hbWVzKCkuZm9yRWFjaChmdW5jdGlvbihlKXtpW2VdPXQuc3RhdChlKX0pLGVbaS5pZF09aX0pLGV9LGE9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBNYXAoT2JqZWN0LmtleXModCkubWFwKGZ1bmN0aW9uKGUpe3JldHVybltlLHRbZV1dfSkpfTtpZihhcmd1bWVudHMubGVuZ3RoPj0yKXt2YXIgYz1mdW5jdGlvbih0KXtvWzFdKGEocyh0KSkpfTtyZXR1cm4gdC5hcHBseSh0aGlzLFtjLGFyZ3VtZW50c1swXV0pfXJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihlLGkpe3QuYXBwbHkobixbZnVuY3Rpb24odCl7ZShhKHModCkpKX0saV0pfSkudGhlbihpLHIpfSxuLnZlcnNpb248NTEmJltcInNldExvY2FsRGVzY3JpcHRpb25cIixcInNldFJlbW90ZURlc2NyaXB0aW9uXCIsXCJhZGRJY2VDYW5kaWRhdGVcIl0uZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgZT1SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGVbdF07UlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlW3RdPWZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLGk9dGhpcyxyPW5ldyBQcm9taXNlKGZ1bmN0aW9uKHIsbil7ZS5hcHBseShpLFt0WzBdLHIsbl0pfSk7cmV0dXJuIHQubGVuZ3RoPDI/cjpyLnRoZW4oZnVuY3Rpb24oKXt0WzFdLmFwcGx5KG51bGwsW10pfSxmdW5jdGlvbihlKXt0Lmxlbmd0aD49MyYmdFsyXS5hcHBseShudWxsLFtlXSl9KX19KSxuLnZlcnNpb248NTImJltcImNyZWF0ZU9mZmVyXCIsXCJjcmVhdGVBbnN3ZXJcIl0uZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgZT1SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGVbdF07UlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlW3RdPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztpZihhcmd1bWVudHMubGVuZ3RoPDF8fDE9PT1hcmd1bWVudHMubGVuZ3RoJiZcIm9iamVjdFwiPT10eXBlb2YgYXJndW1lbnRzWzBdKXt2YXIgaT0xPT09YXJndW1lbnRzLmxlbmd0aD9hcmd1bWVudHNbMF06dm9pZCAwO3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyLG4pe2UuYXBwbHkodCxbcixuLGldKX0pfXJldHVybiBlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19KSxbXCJzZXRMb2NhbERlc2NyaXB0aW9uXCIsXCJzZXRSZW1vdGVEZXNjcmlwdGlvblwiLFwiYWRkSWNlQ2FuZGlkYXRlXCJdLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIGU9UlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlW3RdO1JUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZVt0XT1mdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHNbMF09bmV3KFwiYWRkSWNlQ2FuZGlkYXRlXCI9PT10P1JUQ0ljZUNhbmRpZGF0ZTpSVENTZXNzaW9uRGVzY3JpcHRpb24pKGFyZ3VtZW50c1swXSksZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSk7dmFyIGU9UlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZEljZUNhbmRpZGF0ZTtSVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkSWNlQ2FuZGlkYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c1swXT9lLmFwcGx5KHRoaXMsYXJndW1lbnRzKTooYXJndW1lbnRzWzFdJiZhcmd1bWVudHNbMV0uYXBwbHkobnVsbCksUHJvbWlzZS5yZXNvbHZlKCkpfX19O3QudD17dE86by50TyxpTzpvLmlPLHJPOm8uck8sZU86by5lTyxYQzpvLlhDLFpDOmkoNjcpfX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO3ZhciByPWkoMykubG9nLG49aSgzKS5yaTt0LnQ9ZnVuY3Rpb24oKXt2YXIgdD1mdW5jdGlvbih0KXtpZihcIm9iamVjdFwiIT10eXBlb2YgdHx8dC5nT3x8dC5vcHRpb25hbClyZXR1cm4gdDt2YXIgZT17fTtyZXR1cm4gT2JqZWN0LmtleXModCkuZm9yRWFjaChmdW5jdGlvbihpKXtpZihcInJlcXVpcmVcIiE9PWkmJlwiYWR2YW5jZWRcIiE9PWkmJlwibWVkaWFTb3VyY2VcIiE9PWkpe3ZhciByPVwib2JqZWN0XCI9PXR5cGVvZiB0W2ldP3RbaV06e3ZPOnRbaV19O3ZvaWQgMCE9PXIueU8mJlwibnVtYmVyXCI9PXR5cGVvZiByLnlPJiYoci5taW49ci5tYXg9ci55Tyk7dmFyIG49ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD90K2UuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrZS5zbGljZSgxKTpcImRldmljZUlkXCI9PT1lP1wic291cmNlSWRcIjplfTtpZih2b2lkIDAhPT1yLnZPKXtlLm9wdGlvbmFsPWUub3B0aW9uYWx8fFtdO3ZhciBvPXt9O1wibnVtYmVyXCI9PXR5cGVvZiByLnZPPyhvW24oXCJtaW5cIixpKV09ci52TyxlLm9wdGlvbmFsLnB1c2gobyksbz17fSxvW24oXCJtYXhcIixpKV09ci52TyxlLm9wdGlvbmFsLnB1c2gobykpOihvW24oXCJcIixpKV09ci52TyxlLm9wdGlvbmFsLnB1c2gobykpfXZvaWQgMCE9PXIueU8mJlwibnVtYmVyXCIhPXR5cGVvZiByLnlPPyhlLmdPPWUuZ098fHt9LGUuZ09bbihcIlwiLGkpXT1yLnlPKTpbXCJtaW5cIixcIm1heFwiXS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZvaWQgMCE9PXJbdF0mJihlLmdPPWUuZ098fHt9LGUuZ09bbih0LGkpXT1yW3RdKX0pfX0pLHQubU8mJihlLm9wdGlvbmFsPShlLm9wdGlvbmFsfHxbXSkuY29uY2F0KHQubU8pKSxlfSxlPWZ1bmN0aW9uKGUsaSl7aWYoZT1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGUpKSxlJiZlLk1wJiYoZS5NcD10KGUuTXApKSxlJiZcIm9iamVjdFwiPT10eXBlb2YgZS52aWRlbyl7dmFyIG89ZS52aWRlby53TztvPW8mJihcIm9iamVjdFwiPT10eXBlb2Ygbz9vOnt2TzpvfSk7dmFyIHM9bi52ZXJzaW9uPDU5O2lmKG8mJihcInVzZXJcIj09PW8ueU98fFwiZW52aXJvbm1lbnRcIj09PW8ueU98fFwidXNlclwiPT09by52T3x8XCJlbnZpcm9ubWVudFwiPT09by52TykmJighbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5UT3x8IW5hdmlnYXRvci5tZWRpYURldmljZXMuVE8oKS53T3x8cykmJihkZWxldGUgZS52aWRlby53TyxcImVudmlyb25tZW50XCI9PT1vLnlPfHxcImVudmlyb25tZW50XCI9PT1vLnZPKSlyZXR1cm4gbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5TTygpLnRoZW4oZnVuY3Rpb24obil7bj1uLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm5cInZpZGVvaW5wdXRcIj09PXQua2luZH0pO3ZhciBzPW4uZmluZChmdW5jdGlvbih0KXtyZXR1cm4gdC5sYWJlbC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoXCJiYWNrXCIpIT09LTF9KXx8bi5sZW5ndGgmJm5bbi5sZW5ndGgtMV07cmV0dXJuIHMmJihlLnZpZGVvLmJPPW8ueU8/e3lPOnMuYk99Ont2TzpzLmJPfSksZS52aWRlbz10KGUudmlkZW8pLHIoXCJjaHJvbWU6IFwiK0pTT04uc3RyaW5naWZ5KGUpKSxpKGUpfSk7ZS52aWRlbz10KGUudmlkZW8pfXJldHVybiByKFwiY2hyb21lOiBcIitKU09OLnN0cmluZ2lmeShlKSksaShlKX0saT1mdW5jdGlvbih0KXtyZXR1cm57bmFtZTp7RU86XCJOb3RBbGxvd2VkRXJyb3JcIixJTzpcIk92ZXJjb25zdHJhaW5lZEVycm9yXCJ9W3QubmFtZV18fHQubmFtZSxtZXNzYWdlOnQubWVzc2FnZSxSTzp0LmNvbnN0cmFpbnROYW1lLHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubmFtZSsodGhpcy5tZXNzYWdlJiZcIjogXCIpK3RoaXMubWVzc2FnZX19fSxvPWZ1bmN0aW9uKHQscixuKXtlKHQsZnVuY3Rpb24odCl7bmF2aWdhdG9yLndlYmtpdEdldFVzZXJNZWRpYSh0LHIsZnVuY3Rpb24odCl7bihpKHQpKX0pfSl9O25hdmlnYXRvci5nZXRVc2VyTWVkaWE9bzt2YXIgcz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24oZSxpKXtuYXZpZ2F0b3IuZ2V0VXNlck1lZGlhKHQsZSxpKX0pfTtpZihuYXZpZ2F0b3IubWVkaWFEZXZpY2VzfHwobmF2aWdhdG9yLm1lZGlhRGV2aWNlcz17Z2V0VXNlck1lZGlhOnMsU086ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24odCl7dmFyIGU9e01wOlwiYXVkaW9pbnB1dFwiLHZpZGVvOlwidmlkZW9pbnB1dFwifTtyZXR1cm4gTWVkaWFTdHJlYW1UcmFjay5nZXRTb3VyY2VzKGZ1bmN0aW9uKGkpe3QoaS5tYXAoZnVuY3Rpb24odCl7cmV0dXJue2xhYmVsOnQubGFiZWwsa2luZDplW3Qua2luZF0sYk86dC5pZCxrTzpcIlwifX0pKX0pfSl9LFRPOmZ1bmN0aW9uKCl7cmV0dXJue2JPOiEwLENPOiEwLHdPOiEwLE9POiEwLGhlaWdodDohMCx3aWR0aDohMH19fSksbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEpe3ZhciBhPW5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhLmJpbmQobmF2aWdhdG9yLm1lZGlhRGV2aWNlcyk7bmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWE9ZnVuY3Rpb24odCl7cmV0dXJuIGUodCxmdW5jdGlvbih0KXtyZXR1cm4gYSh0KS50aGVuKGZ1bmN0aW9uKGUpe2lmKHQuTXAmJiFlLmdldEF1ZGlvVHJhY2tzKCkubGVuZ3RofHx0LnZpZGVvJiYhZS5nZXRWaWRlb1RyYWNrcygpLmxlbmd0aCl0aHJvdyBlLmdldFRyYWNrcygpLmZvckVhY2goZnVuY3Rpb24odCl7dC5zdG9wKCl9KSxuZXcgRE9NRXhjZXB0aW9uKFwiXCIsXCJOb3RGb3VuZEVycm9yXCIpO3JldHVybiBlfSxmdW5jdGlvbih0KXtyZXR1cm4gUHJvbWlzZS5yZWplY3QoaSh0KSl9KX0pfX1lbHNlIG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhPWZ1bmN0aW9uKHQpe3JldHVybiBzKHQpfTtcInVuZGVmaW5lZFwiPT10eXBlb2YgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5hZGRFdmVudExpc3RlbmVyJiYobmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5hZGRFdmVudExpc3RlbmVyPWZ1bmN0aW9uKCl7cihcIkR1bW15IG1lZGlhRGV2aWNlcy5hZGRFdmVudExpc3RlbmVyIGNhbGxlZC5cIil9KSxcInVuZGVmaW5lZFwiPT10eXBlb2YgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5yZW1vdmVFdmVudExpc3RlbmVyJiYobmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5yZW1vdmVFdmVudExpc3RlbmVyPWZ1bmN0aW9uKCl7cihcIkR1bW15IG1lZGlhRGV2aWNlcy5yZW1vdmVFdmVudExpc3RlbmVyIGNhbGxlZC5cIil9KX19LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe3ZhciBlPXQuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVyblwiYXVkaW9cIj09PXQua2luZH0pLGk9dC5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuXCJ2aWRlb1wiPT09dC5raW5kfSk7Zm9yKHQ9W107ZS5sZW5ndGh8fGkubGVuZ3RoOyllLmxlbmd0aCYmdC5wdXNoKGUuc2hpZnQoKSksXG5pLmxlbmd0aCYmdC5wdXNoKGkuc2hpZnQoKSk7cmV0dXJuIHR9ZnVuY3Rpb24gbih0KXt2YXIgZT0hMTtyZXR1cm4gdD1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHQpKSx0LmZpbHRlcihmdW5jdGlvbih0KXtpZih0JiYodC5QT3x8dC51cmwpKXt2YXIgaT10LlBPfHx0LnVybCxyPVwic3RyaW5nXCI9PXR5cGVvZiBpO3JldHVybiByJiYoaT1baV0pLGk9aS5maWx0ZXIoZnVuY3Rpb24odCl7dmFyIGk9MD09PXQuaW5kZXhPZihcInR1cm46XCIpJiZ0LmluZGV4T2YoXCJ0cmFuc3BvcnQ9dWRwXCIpIT09LTEmJnQuaW5kZXhPZihcInR1cm46W1wiKT09PS0xJiYhZTtyZXR1cm4gaT8oZT0hMCwhMCk6MD09PXQuaW5kZXhPZihcInN0dW46XCIpJiZzLnZlcnNpb24+PTE0MzkzfSksZGVsZXRlIHQudXJsLHQuUE89cj9pWzBdOmksISFpLmxlbmd0aH1yZXR1cm4hMX0pfXZhciBvPWkoMzUpLHM9aSgzKS5yaSxhPXtYQzpmdW5jdGlvbigpe2lmKHdpbmRvdy5SVENJY2VHYXRoZXJlciYmKHdpbmRvdy5SVENJY2VDYW5kaWRhdGV8fCh3aW5kb3cuUlRDSWNlQ2FuZGlkYXRlPWZ1bmN0aW9uKHQpe3JldHVybiB0fSksd2luZG93LlJUQ1Nlc3Npb25EZXNjcmlwdGlvbnx8KHdpbmRvdy5SVENTZXNzaW9uRGVzY3JpcHRpb249ZnVuY3Rpb24odCl7cmV0dXJuIHR9KSxzLnZlcnNpb248MTUwMjUpKXt2YXIgdD1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKE1lZGlhU3RyZWFtVHJhY2sucHJvdG90eXBlLFwiZW5hYmxlZFwiKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVkaWFTdHJlYW1UcmFjay5wcm90b3R5cGUsXCJlbmFibGVkXCIse3NldDpmdW5jdGlvbihlKXt0LnNldC5jYWxsKHRoaXMsZSk7dmFyIGk9bmV3IEV2ZW50KFwiZW5hYmxlZFwiKTtpLmVuYWJsZWQ9ZSx0aGlzLmRpc3BhdGNoRXZlbnQoaSl9fSl9d2luZG93LlJUQ1BlZXJDb25uZWN0aW9uPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsaT1kb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7aWYoW1wiYWRkRXZlbnRMaXN0ZW5lclwiLFwicmVtb3ZlRXZlbnRMaXN0ZW5lclwiLFwiZGlzcGF0Y2hFdmVudFwiXS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2VbdF09aVt0XS5iaW5kKGkpfSksdGhpcy5vbmljZWNhbmRpZGF0ZT1udWxsLHRoaXMub25hZGRzdHJlYW09bnVsbCx0aGlzLkFPPW51bGwsdGhpcy5vbnJlbW92ZXN0cmVhbT1udWxsLHRoaXMub25zaWduYWxpbmdzdGF0ZWNoYW5nZT1udWxsLHRoaXMub25pY2Vjb25uZWN0aW9uc3RhdGVjaGFuZ2U9bnVsbCx0aGlzLk5PPW51bGwsdGhpcy5vbm5lZ290aWF0aW9ubmVlZGVkPW51bGwsdGhpcy5vbmRhdGFjaGFubmVsPW51bGwsdGhpcy54Tz1bXSx0aGlzLkJPPVtdLHRoaXMuZ2V0TG9jYWxTdHJlYW1zPWZ1bmN0aW9uKCl7cmV0dXJuIGUueE99LHRoaXMuZ2V0UmVtb3RlU3RyZWFtcz1mdW5jdGlvbigpe3JldHVybiBlLkJPfSx0aGlzLmxvY2FsRGVzY3JpcHRpb249bmV3IFJUQ1Nlc3Npb25EZXNjcmlwdGlvbih7dHlwZTpcIlwiLHNkcDpcIlwifSksdGhpcy5yZW1vdGVEZXNjcmlwdGlvbj1uZXcgUlRDU2Vzc2lvbkRlc2NyaXB0aW9uKHt0eXBlOlwiXCIsc2RwOlwiXCJ9KSx0aGlzLnNpZ25hbGluZ1N0YXRlPVwic3RhYmxlXCIsdGhpcy5pY2VDb25uZWN0aW9uU3RhdGU9XCJuZXdcIix0aGlzLmljZUdhdGhlcmluZ1N0YXRlPVwibmV3XCIsdGhpcy5GTz17X086XCJhbGxcIixpY2VTZXJ2ZXJzOltdfSx0JiZ0LnVPKXN3aXRjaCh0LnVPKXtjYXNlXCJhbGxcIjpjYXNlXCJyZWxheVwiOnRoaXMuRk8uX089dC51T310aGlzLkRPPXQmJlwibWF4LWJ1bmRsZVwiPT09dC5idW5kbGVQb2xpY3ksdCYmdC5pY2VTZXJ2ZXJzJiYodGhpcy5GTy5pY2VTZXJ2ZXJzPW4odC5pY2VTZXJ2ZXJzKSksdGhpcy5ITz10LHRoaXMuTE89W10sdGhpcy5NTz1bXX0sd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5qTz1mdW5jdGlvbigpe3ZhciB0PW5ldyBFdmVudChcImljZWdhdGhlcmluZ3N0YXRlY2hhbmdlXCIpO3RoaXMuZGlzcGF0Y2hFdmVudCh0KSxudWxsIT09dGhpcy5OTyYmdGhpcy5OTyh0KX0sd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5VTz1mdW5jdGlvbigpe3ZhciB0PXRoaXMsZT1vLktiKHQubG9jYWxEZXNjcmlwdGlvbi5zZHApO3RoaXMuTU8uZm9yRWFjaChmdW5jdGlvbihpKXt2YXIgcj0haS5jYW5kaWRhdGV8fDA9PT1PYmplY3Qua2V5cyhpLmNhbmRpZGF0ZSkubGVuZ3RoO2lmKHIpZm9yKHZhciBuPTE7bjxlLmxlbmd0aDtuKyspZVtuXS5pbmRleE9mKFwiXFxyXFxuYT1lbmQtb2YtY2FuZGlkYXRlc1xcclxcblwiKT09PS0xJiYoZVtuXSs9XCJhPWVuZC1vZi1jYW5kaWRhdGVzXFxyXFxuXCIpO2Vsc2UgZVtpLmNhbmRpZGF0ZS5zZHBNTGluZUluZGV4KzFdKz1cImE9XCIraS5jYW5kaWRhdGUuY2FuZGlkYXRlK1wiXFxyXFxuXCI7aWYodC5sb2NhbERlc2NyaXB0aW9uLnNkcD1lLmpvaW4oXCJcIiksdC5kaXNwYXRjaEV2ZW50KGkpLG51bGwhPT10Lm9uaWNlY2FuZGlkYXRlJiZ0Lm9uaWNlY2FuZGlkYXRlKGkpLCFpLmNhbmRpZGF0ZSYmXCJjb21wbGV0ZVwiIT09dC5pY2VHYXRoZXJpbmdTdGF0ZSl7dmFyIG89dC5MTy5ldmVyeShmdW5jdGlvbih0KXtyZXR1cm4gdC5ZRSYmXCJjb21wbGV0ZWRcIj09PXQuWUUuc3RhdGV9KTtvJiZcImNvbXBsZXRlXCIhPT10LmljZUdhdGhlcmluZ1N0YXRlQ2hhbmdlJiYodC5pY2VHYXRoZXJpbmdTdGF0ZT1cImNvbXBsZXRlXCIsdC5qTygpKX19KSx0aGlzLk1PPVtdfSx3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldENvbmZpZ3VyYXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5IT30sd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRTdHJlYW09ZnVuY3Rpb24odCl7aWYocy52ZXJzaW9uPj0xNTAyNSl0aGlzLnhPLnB1c2godCk7ZWxzZXt2YXIgZT10LmNsb25lKCk7dC5nZXRUcmFja3MoKS5mb3JFYWNoKGZ1bmN0aW9uKHQsaSl7dmFyIHI9ZS5nZXRUcmFja3MoKVtpXTt0LmFkZEV2ZW50TGlzdGVuZXIoXCJlbmFibGVkXCIsZnVuY3Rpb24odCl7ci5lbmFibGVkPXQuZW5hYmxlZH0pfSksdGhpcy54Ty5wdXNoKGUpfXRoaXMuVk8oKX0sd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5yZW1vdmVTdHJlYW09ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy54Ty5pbmRleE9mKHQpO2U+LTEmJih0aGlzLnhPLnNwbGljZShlLDEpLHRoaXMuVk8oKSl9LHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0U2VuZGVycz1mdW5jdGlvbigpe3JldHVybiB0aGlzLkxPLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4hIXQudEl9KS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQudEl9KX0sd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRSZWNlaXZlcnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5MTy5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuISF0LmVJfSkubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0LmVJfSl9LHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuUU89ZnVuY3Rpb24odCxlKXt2YXIgaT17TkU6W10seEU6W10sQkU6W119LHI9ZnVuY3Rpb24odCxlKXt0PXBhcnNlSW50KHQsMTApO2Zvcih2YXIgaT0wO2k8ZS5sZW5ndGg7aSsrKWlmKGVbaV0ub0U9PT10fHxlW2ldLmhFPT09dClyZXR1cm4gZVtpXX0sbj1mdW5jdGlvbih0LGUsaSxuKXt2YXIgbz1yKHQucGFyYW1ldGVycy5hcHQsaSkscz1yKGUucGFyYW1ldGVycy5hcHQsbik7cmV0dXJuIG8mJnMmJm8ubmFtZS50b0xvd2VyQ2FzZSgpPT09cy5uYW1lLnRvTG93ZXJDYXNlKCl9O3JldHVybiB0Lk5FLmZvckVhY2goZnVuY3Rpb24ocil7Zm9yKHZhciBvPTA7bzxlLk5FLmxlbmd0aDtvKyspe3ZhciBzPWUuTkVbb107aWYoci5uYW1lLnRvTG93ZXJDYXNlKCk9PT1zLm5hbWUudG9Mb3dlckNhc2UoKSYmci5zRT09PXMuc0Upe2lmKFwicnR4XCI9PT1yLm5hbWUudG9Mb3dlckNhc2UoKSYmci5wYXJhbWV0ZXJzJiZzLnBhcmFtZXRlcnMuYXB0JiYhbihyLHMsdC5ORSxlLk5FKSljb250aW51ZTtzPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocykpLHMuYUU9TWF0aC5taW4oci5hRSxzLmFFKSxpLk5FLnB1c2gocykscy55RT1zLnlFLmZpbHRlcihmdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPHIueUUubGVuZ3RoO2UrKylpZihyLnlFW2VdLnR5cGU9PT10LnR5cGUmJnIueUVbZV0uZ0U9PT10LmdFKXJldHVybiEwO3JldHVybiExfSk7YnJlYWt9fX0pLHQueEUuZm9yRWFjaChmdW5jdGlvbih0KXtmb3IodmFyIHI9MDtyPGUueEUubGVuZ3RoO3IrKyl7dmFyIG49ZS54RVtyXTtpZih0LnVyaT09PW4udXJpKXtpLnhFLnB1c2gobik7YnJlYWt9fX0pLGl9LHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUucU89ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLHI9bmV3IFJUQ0ljZUdhdGhlcmVyKGkuRk8pLG49bmV3IFJUQ0ljZVRyYW5zcG9ydChyKTtyLkpPPWZ1bmN0aW9uKHMpe3ZhciBhPW5ldyBFdmVudChcImljZWNhbmRpZGF0ZVwiKTthLmNhbmRpZGF0ZT17c2RwTWlkOnQsc2RwTUxpbmVJbmRleDplfTt2YXIgYz1zLmNhbmRpZGF0ZSxoPSFjfHwwPT09T2JqZWN0LmtleXMoYykubGVuZ3RoO2g/dm9pZCAwPT09ci5zdGF0ZSYmKHIuc3RhdGU9XCJjb21wbGV0ZWRcIik6KGMuJGI9XCJSVENQXCI9PT1uLiRiPzI6MSxhLmNhbmRpZGF0ZS5jYW5kaWRhdGU9by5pRShjKSk7dmFyIHA9by5LYihpLmxvY2FsRGVzY3JpcHRpb24uc2RwKTtoP3BbYS5jYW5kaWRhdGUuc2RwTUxpbmVJbmRleCsxXSs9XCJhPWVuZC1vZi1jYW5kaWRhdGVzXFxyXFxuXCI6cFthLmNhbmRpZGF0ZS5zZHBNTGluZUluZGV4KzFdKz1cImE9XCIrYS5jYW5kaWRhdGUuY2FuZGlkYXRlK1wiXFxyXFxuXCIsaS5sb2NhbERlc2NyaXB0aW9uLnNkcD1wLmpvaW4oXCJcIik7dmFyIHU9aS5LTz9pLktPOmkuTE8sbD11LmV2ZXJ5KGZ1bmN0aW9uKHQpe3JldHVybiB0LllFJiZcImNvbXBsZXRlZFwiPT09dC5ZRS5zdGF0ZX0pO3N3aXRjaChpLmljZUdhdGhlcmluZ1N0YXRlKXtjYXNlXCJuZXdcIjpofHxpLk1PLnB1c2goYSksaCYmbCYmaS5NTy5wdXNoKG5ldyBFdmVudChcImljZWNhbmRpZGF0ZVwiKSk7YnJlYWs7Y2FzZVwiZ2F0aGVyaW5nXCI6aS5VTygpLGh8fChpLmRpc3BhdGNoRXZlbnQoYSksbnVsbCE9PWkub25pY2VjYW5kaWRhdGUmJmkub25pY2VjYW5kaWRhdGUoYSkpLGwmJihpLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KFwiaWNlY2FuZGlkYXRlXCIpKSxudWxsIT09aS5vbmljZWNhbmRpZGF0ZSYmaS5vbmljZWNhbmRpZGF0ZShuZXcgRXZlbnQoXCJpY2VjYW5kaWRhdGVcIikpLGkuaWNlR2F0aGVyaW5nU3RhdGU9XCJjb21wbGV0ZVwiLGkuak8oKSk7YnJlYWs7Y2FzZVwiY29tcGxldGVcIjp9fSxuLkdPPWZ1bmN0aW9uKCl7aS56TygpfTt2YXIgcz1uZXcgUlRDRHRsc1RyYW5zcG9ydChuKTtyZXR1cm4gcy5XTz1mdW5jdGlvbigpe2kuek8oKX0scy5vbmVycm9yPWZ1bmN0aW9uKCl7cy5zdGF0ZT1cImZhaWxlZFwiLGkuek8oKX0se1lFOnIsJE86bixYRTpzfX0sd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5ZTz1mdW5jdGlvbih0LGUsaSl7dmFyIHI9dGhpcy5RTyh0LlhPLHQuWk8pO2UmJnQudEkmJihyLnRQPXQuaUksci5GRT17cUU6by5xYn0sdC5lUC5sZW5ndGgmJihyLkZFLndFPXQuZVBbMF0ud0UpLHQudEkuc2VuZChyKSksaSYmdC5lSSYmKFwidmlkZW9cIj09PXQua2luZCYmdC5lUCYmcy52ZXJzaW9uPDE1MDE5JiZ0LmVQLmZvckVhY2goZnVuY3Rpb24odCl7ZGVsZXRlIHQuTUV9KSxyLnRQPXQuZVAsci5GRT17cUU6dC5xRX0sdC5pSS5sZW5ndGgmJihyLkZFLndFPXQuaUlbMF0ud0UpLHQuZUkucmVjZWl2ZShyKSl9LHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuc2V0TG9jYWxEZXNjcmlwdGlvbj1mdW5jdGlvbih0KXt2YXIgZSxpLHI9dGhpcztpZihcIm9mZmVyXCI9PT10LnR5cGUpdGhpcy5LTyYmKGU9by5LYih0LnNkcCksaT1lLnNoaWZ0KCksZS5mb3JFYWNoKGZ1bmN0aW9uKHQsZSl7dmFyIGk9by5BRSh0KTtyLktPW2VdLlhPPWl9KSx0aGlzLkxPPXRoaXMuS08sZGVsZXRlIHRoaXMuS08pO2Vsc2UgaWYoXCJhbnN3ZXJcIj09PXQudHlwZSl7ZT1vLktiKHIucmVtb3RlRGVzY3JpcHRpb24uc2RwKSxpPWUuc2hpZnQoKTt2YXIgbj1vLkdiKGksXCJhPWljZS1saXRlXCIpLmxlbmd0aD4wO2UuZm9yRWFjaChmdW5jdGlvbih0LGUpe3ZhciBzPXIuTE9bZV0sYT1zLllFLGM9cy4kTyxoPXMuWEUscD1zLlhPLHU9cy5aTyxsPVwiMFwiPT09dC5zcGxpdChcIlxcblwiLDEpWzBdLnNwbGl0KFwiIFwiLDIpWzFdO2lmKCFsJiYhcy5pUCl7dmFyIGQ9by5DRSh0LGkpLGY9by5FRSh0LGkpO24mJihmLklFPVwic2VydmVyXCIpLHIuRE8mJjAhPT1lfHwoYy5zdGFydChhLGQsbj9cImNvbnRyb2xsaW5nXCI6XCJjb250cm9sbGVkXCIpLGguc3RhcnQoZikpO3ZhciBnPXIuUU8ocCx1KTtyLllPKHMsZy5ORS5sZW5ndGg+MCwhMSl9fSl9c3dpdGNoKHRoaXMubG9jYWxEZXNjcmlwdGlvbj17dHlwZTp0LnR5cGUsc2RwOnQuc2RwfSx0LnR5cGUpe2Nhc2VcIm9mZmVyXCI6dGhpcy5yUChcImhhdmUtbG9jYWwtb2ZmZXJcIik7YnJlYWs7Y2FzZVwiYW5zd2VyXCI6dGhpcy5yUChcInN0YWJsZVwiKTticmVhaztkZWZhdWx0OnRocm93IG5ldyBUeXBlRXJyb3IoJ3Vuc3VwcG9ydGVkIHR5cGUgXCInK3QudHlwZSsnXCInKX12YXIgcz1hcmd1bWVudHMubGVuZ3RoPjEmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGFyZ3VtZW50c1sxXTtpZihzKXt2YXIgYT1hcmd1bWVudHNbMV07d2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXthKCksXCJuZXdcIj09PXIuaWNlR2F0aGVyaW5nU3RhdGUmJihyLmljZUdhdGhlcmluZ1N0YXRlPVwiZ2F0aGVyaW5nXCIsci5qTygpKSxyLlVPKCl9LDApfXZhciBjPVByb21pc2UucmVzb2x2ZSgpO3JldHVybiBjLnRoZW4oZnVuY3Rpb24oKXtzfHwoXCJuZXdcIj09PXIuaWNlR2F0aGVyaW5nU3RhdGUmJihyLmljZUdhdGhlcmluZ1N0YXRlPVwiZ2F0aGVyaW5nXCIsci5qTygpKSx3aW5kb3cuc2V0VGltZW91dChyLlVPLmJpbmQociksNTAwKSl9KSxjfSx3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnNldFJlbW90ZURlc2NyaXB0aW9uPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsaT1uZXcgTWVkaWFTdHJlYW0scj1bXSxuPW8uS2IodC5zZHApLGE9bi5zaGlmdCgpLGM9by5HYihhLFwiYT1pY2UtbGl0ZVwiKS5sZW5ndGg+MDtzd2l0Y2godGhpcy5ETz1vLkdiKGEsXCJhPWdyb3VwOkJVTkRMRSBcIikubGVuZ3RoPjAsbi5mb3JFYWNoKGZ1bmN0aW9uKG4saCl7dmFyIHA9by5KYihuKSx1PXBbMF0uc3Vic3RyKDIpLnNwbGl0KFwiIFwiKSxsPXVbMF0sZD1cIjBcIj09PXVbMV0sZj1vLnJJKG4sYSksZz1vLkdiKG4sXCJhPW1pZDpcIik7aWYoZz1nLmxlbmd0aD9nWzBdLnN1YnN0cig2KTpvLlFiKCksXCJhcHBsaWNhdGlvblwiPT09bCYmXCJEVExTL1NDVFBcIj09PXVbMl0pcmV0dXJuIHZvaWQoZS5MT1toXT17WkU6ZyxpUDohMH0pO3ZhciB2LHksbSx3LFQsUyxiLEUsSSxSLGssQyxPPW8uQUUobik7ZHx8KGs9by5DRShuLGEpLEM9by5FRShuLGEpLEMuSUU9XCJjbGllbnRcIiksRT1vLkhFKG4pO3ZhciBQLEE9by5HYihuLFwiYT1zc3JjOlwiKS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIG8ubUUodCl9KS5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuXCJjbmFtZVwiPT09dC5URX0pWzBdO0EmJihQPUEudmFsdWUpO3ZhciBOPW8uR2IobixcImE9ZW5kLW9mLWNhbmRpZGF0ZXNcIixhKS5sZW5ndGg+MCx4PW8uR2IobixcImE9Y2FuZGlkYXRlOlwiKS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIG8uemIodCl9KS5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuXCIxXCI9PT10LiRifSk7aWYoXCJvZmZlclwiIT09dC50eXBlfHxkKVwiYW5zd2VyXCIhPT10LnR5cGV8fGR8fCh2PWUuTE9baF0seT12LllFLG09di4kTyx3PXYuWEUsVD12LnRJLFM9di5lSSxiPXYuaUksST12LlhPLGUuTE9baF0uZVA9RSxlLkxPW2hdLlpPPU8sZS5MT1toXS5xRT1QLChjfHxOKSYmeC5sZW5ndGgmJm0uc2V0UmVtb3RlQ2FuZGlkYXRlcyh4KSxlLkRPJiYwIT09aHx8KG0uc3RhcnQoeSxrLFwiY29udHJvbGxpbmdcIiksdy5zdGFydChDKSksZS5ZTyh2LFwic2VuZHJlY3ZcIj09PWZ8fFwicmVjdm9ubHlcIj09PWYsXCJzZW5kcmVjdlwiPT09Znx8XCJzZW5kb25seVwiPT09ZiksIVN8fFwic2VuZHJlY3ZcIiE9PWYmJlwic2VuZG9ubHlcIiE9PWY/ZGVsZXRlIHYuZUk6KFI9Uy50cmFjayxyLnB1c2goW1IsU10pLGkuYWRkVHJhY2soUikpKTtlbHNle3ZhciBCPWUuRE8mJmg+MD97WUU6ZS5MT1swXS5ZRSwkTzplLkxPWzBdLiRPLFhFOmUuTE9bMF0uWEV9OmUucU8oZyxoKTtpZighTnx8ZS5ETyYmMCE9PWh8fEIuJE8uc2V0UmVtb3RlQ2FuZGlkYXRlcyh4KSxJPVJUQ1J0cFJlY2VpdmVyLmdldENhcGFiaWxpdGllcyhsKSxzLnZlcnNpb248MTUwMTkmJihJLk5FPUkuTkUuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVyblwicnR4XCIhPT10Lm5hbWV9KSksYj1be3dFOjEwMDEqKDIqaCsyKX1dLFwic2VuZHJlY3ZcIiE9PWYmJlwic2VuZG9ubHlcIiE9PWZ8fChTPW5ldyBSVENSdHBSZWNlaXZlcihCLlhFLGwpLFI9Uy50cmFjayxyLnB1c2goW1IsU10pLGkuYWRkVHJhY2soUikpLGUueE8ubGVuZ3RoPjAmJmUueE9bMF0uZ2V0VHJhY2tzKCkubGVuZ3RoPj1oKXt2YXIgRjtcImF1ZGlvXCI9PT1sP0Y9ZS54T1swXS5nZXRBdWRpb1RyYWNrcygpWzBdOlwidmlkZW9cIj09PWwmJihGPWUueE9bMF0uZ2V0VmlkZW9UcmFja3MoKVswXSksRiYmKHMudmVyc2lvbj49MTUwMTkmJlwidmlkZW9cIj09PWwmJihiWzBdLk1FPXt3RToxMDAxKigyKmgrMikrMX0pLFQ9bmV3IFJUQ1J0cFNlbmRlcihGLEIuWEUpKX1lLkxPW2hdPXtZRTpCLllFLCRPOkIuJE8sWEU6Qi5YRSxYTzpJLFpPOk8sdEk6VCxlSTpTLGtpbmQ6bCxaRTpnLHFFOlAsaUk6YixlUDpFfSxlLllPKGUuTE9baF0sITEsXCJzZW5kcmVjdlwiPT09Znx8XCJzZW5kb25seVwiPT09Zil9fSksdGhpcy5yZW1vdGVEZXNjcmlwdGlvbj17dHlwZTp0LnR5cGUsc2RwOnQuc2RwfSx0LnR5cGUpe2Nhc2VcIm9mZmVyXCI6dGhpcy5yUChcImhhdmUtcmVtb3RlLW9mZmVyXCIpO2JyZWFrO2Nhc2VcImFuc3dlclwiOnRoaXMuclAoXCJzdGFibGVcIik7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgVHlwZUVycm9yKCd1bnN1cHBvcnRlZCB0eXBlIFwiJyt0LnR5cGUrJ1wiJyl9cmV0dXJuIGkuZ2V0VHJhY2tzKCkubGVuZ3RoJiYoZS5CTy5wdXNoKGkpLHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dmFyIHQ9bmV3IEV2ZW50KFwiYWRkc3RyZWFtXCIpO3Quc3RyZWFtPWksZS5kaXNwYXRjaEV2ZW50KHQpLG51bGwhPT1lLm9uYWRkc3RyZWFtJiZ3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpe2Uub25hZGRzdHJlYW0odCl9LDApLHIuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgcj10WzBdLG49dFsxXSxvPW5ldyBFdmVudChcInRyYWNrXCIpO28udHJhY2s9cixvLnJlY2VpdmVyPW4sby5zTz1baV0sZS5kaXNwYXRjaEV2ZW50KG8pLG51bGwhPT1lLkFPJiZ3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpe2UuQU8obyl9LDApfSl9LDApKSxhcmd1bWVudHMubGVuZ3RoPjEmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGFyZ3VtZW50c1sxXSYmd2luZG93LnNldFRpbWVvdXQoYXJndW1lbnRzWzFdLDApLFByb21pc2UucmVzb2x2ZSgpfSx3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKCl7dGhpcy5MTy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3QuJE8mJnQuJE8uc3RvcCgpLHQuWEUmJnQuWEUuc3RvcCgpLHQudEkmJnQudEkuc3RvcCgpLHQuZUkmJnQuZUkuc3RvcCgpfSksdGhpcy5yUChcImNsb3NlZFwiKX0sd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5yUD1mdW5jdGlvbih0KXt0aGlzLnNpZ25hbGluZ1N0YXRlPXQ7dmFyIGU9bmV3IEV2ZW50KFwic2lnbmFsaW5nc3RhdGVjaGFuZ2VcIik7dGhpcy5kaXNwYXRjaEV2ZW50KGUpLG51bGwhPT10aGlzLm9uc2lnbmFsaW5nc3RhdGVjaGFuZ2UmJnRoaXMub25zaWduYWxpbmdzdGF0ZWNoYW5nZShlKX0sd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5WTz1mdW5jdGlvbigpe3ZhciB0PW5ldyBFdmVudChcIm5lZ290aWF0aW9ubmVlZGVkXCIpO3RoaXMuZGlzcGF0Y2hFdmVudCh0KSxudWxsIT09dGhpcy5vbm5lZ290aWF0aW9ubmVlZGVkJiZ0aGlzLm9ubmVnb3RpYXRpb25uZWVkZWQodCl9LHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuek89ZnVuY3Rpb24oKXt2YXIgdCxlPXRoaXMsaT17blA6MCxjbG9zZWQ6MCxvUDowLHNQOjAsY29ubmVjdGVkOjAsYVA6MCxfaTowfTtpZih0aGlzLkxPLmZvckVhY2goZnVuY3Rpb24odCl7aVt0LiRPLnN0YXRlXSsrLGlbdC5YRS5zdGF0ZV0rK30pLGkuY29ubmVjdGVkKz1pLmFQLHQ9XCJuZXdcIixpLl9pPjA/dD1cImZhaWxlZFwiOmkub1A+MHx8aS5zUD4wP3Q9XCJjb25uZWN0aW5nXCI6aS5kaXNjb25uZWN0ZWQ+MD90PVwiZGlzY29ubmVjdGVkXCI6aVtcIm5QXCJdPjA/dD1cIm5ld1wiOihpLmNvbm5lY3RlZD4wfHxpLmFQPjApJiYodD1cImNvbm5lY3RlZFwiKSx0IT09ZS5pY2VDb25uZWN0aW9uU3RhdGUpe2UuaWNlQ29ubmVjdGlvblN0YXRlPXQ7dmFyIHI9bmV3IEV2ZW50KFwiaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlXCIpO3RoaXMuZGlzcGF0Y2hFdmVudChyKSxudWxsIT09dGhpcy5vbmljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZSYmdGhpcy5vbmljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZShyKX19LHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuY3JlYXRlT2ZmZXI9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO2lmKHRoaXMuS08pdGhyb3cgbmV3IEVycm9yKFwiY3JlYXRlT2ZmZXIgY2FsbGVkIHdoaWxlIHRoZXJlIGlzIGEgcGVuZGluZyBvZmZlci5cIik7dmFyIGU7MT09PWFyZ3VtZW50cy5sZW5ndGgmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGFyZ3VtZW50c1swXT9lPWFyZ3VtZW50c1swXTozPT09YXJndW1lbnRzLmxlbmd0aCYmKGU9YXJndW1lbnRzWzJdKTt2YXIgaT1bXSxuPTAsYT0wO2lmKHRoaXMueE8ubGVuZ3RoJiYobj10aGlzLnhPWzBdLmdldEF1ZGlvVHJhY2tzKCkubGVuZ3RoLGE9dGhpcy54T1swXS5nZXRWaWRlb1RyYWNrcygpLmxlbmd0aCksZSl7aWYoZS5nT3x8ZS5vcHRpb25hbCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiTGVnYWN5IG1hbmRhdG9yeS9vcHRpb25hbCBjb25zdHJhaW50cyBub3Qgc3VwcG9ydGVkLlwiKTt2b2lkIDAhPT1lLmNQJiYobj1lLmNQKSx2b2lkIDAhPT1lLmhQJiYoYT1lLmhQKX1mb3IodGhpcy54Ty5sZW5ndGgmJnRoaXMueE9bMF0uZ2V0VHJhY2tzKCkuZm9yRWFjaChmdW5jdGlvbih0KXtpLnB1c2goe2tpbmQ6dC5raW5kLHRyYWNrOnQscFA6XCJhdWRpb1wiPT09dC5raW5kP24+MDphPjB9KSxcImF1ZGlvXCI9PT10LmtpbmQ/bi0tOlwidmlkZW9cIj09PXQua2luZCYmYS0tfSk7bj4wfHxhPjA7KW4+MCYmKGkucHVzaCh7a2luZDpcImF1ZGlvXCIscFA6ITB9KSxuLS0pLGE+MCYmKGkucHVzaCh7a2luZDpcInZpZGVvXCIscFA6ITB9KSxhLS0pO2k9cihpKTt2YXIgYz1vLldFKCksaD1bXTtpLmZvckVhY2goZnVuY3Rpb24oZSxpKXt2YXIgcj1lLnRyYWNrLG49ZS5raW5kLGE9by5RYigpLGM9dC5ETyYmaT4wP3tZRTpoWzBdLllFLCRPOmhbMF0uJE8sWEU6aFswXS5YRX06dC5xTyhhLGkpLHA9UlRDUnRwU2VuZGVyLmdldENhcGFiaWxpdGllcyhuKTtzLnZlcnNpb248MTUwMTkmJihwLk5FPXAuTkUuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVyblwicnR4XCIhPT10Lm5hbWV9KSkscC5ORS5mb3JFYWNoKGZ1bmN0aW9uKHQpe1wiSDI2NFwiPT09dC5uYW1lJiZ2b2lkIDA9PT10LnBhcmFtZXRlcnNbXCJ1UFwiXSYmKHQucGFyYW1ldGVyc1tcInVQXCJdPVwiMVwiKX0pO3ZhciB1LGwsZD1be3dFOjEwMDEqKDIqaSsxKX1dO3ImJihzLnZlcnNpb24+PTE1MDE5JiZcInZpZGVvXCI9PT1uJiYoZFswXS5NRT17d0U6MTAwMSooMippKzEpKzF9KSx1PW5ldyBSVENSdHBTZW5kZXIocixjLlhFKSksZS5wUCYmKGw9bmV3IFJUQ1J0cFJlY2VpdmVyKGMuWEUsbikpLGhbaV09e1lFOmMuWUUsJE86Yy4kTyxYRTpjLlhFLFhPOnAsWk86bnVsbCx0STp1LGVJOmwsa2luZDpuLFpFOmEsaUk6ZCxlUDpudWxsfX0pLHRoaXMuRE8mJihjKz1cImE9Z3JvdXA6QlVORExFIFwiK2gubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0LlpFfSkuam9pbihcIiBcIikrXCJcXHJcXG5cIiksaS5mb3JFYWNoKGZ1bmN0aW9uKGUsaSl7dmFyIHI9aFtpXTtjKz1vLiRFKHIsci5YTyxcIm9mZmVyXCIsdC54T1swXSl9KSx0aGlzLktPPWg7dmFyIHA9bmV3IFJUQ1Nlc3Npb25EZXNjcmlwdGlvbih7dHlwZTpcIm9mZmVyXCIsc2RwOmN9KTtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aCYmXCJmdW5jdGlvblwiPT10eXBlb2YgYXJndW1lbnRzWzBdJiZ3aW5kb3cuc2V0VGltZW91dChhcmd1bWVudHNbMF0sMCxwKSxQcm9taXNlLnJlc29sdmUocCl9LHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuY3JlYXRlQW5zd2VyPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPW8uV0UoKTt0aGlzLkRPJiYoZSs9XCJhPWdyb3VwOkJVTkRMRSBcIit0aGlzLkxPLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdC5aRX0pLmpvaW4oXCIgXCIpK1wiXFxyXFxuXCIpLHRoaXMuTE8uZm9yRWFjaChmdW5jdGlvbihpKXtpZihpLmlQKXJldHVybiB2b2lkKGUrPVwibT1hcHBsaWNhdGlvbiAwIERUTFMvU0NUUCA1MDAwXFxyXFxuYz1JTiBJUDQgMC4wLjAuMFxcclxcbmE9bWlkOlwiK2kuWkUrXCJcXHJcXG5cIik7dmFyIHI9dC5RTyhpLlhPLGkuWk8pO2UrPW8uJEUoaSxyLFwiYW5zd2VyXCIsdC54T1swXSl9KTt2YXIgaT1uZXcgUlRDU2Vzc2lvbkRlc2NyaXB0aW9uKHt0eXBlOlwiYW5zd2VyXCIsc2RwOmV9KTtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aCYmXCJmdW5jdGlvblwiPT10eXBlb2YgYXJndW1lbnRzWzBdJiZ3aW5kb3cuc2V0VGltZW91dChhcmd1bWVudHNbMF0sMCxpKSxQcm9taXNlLnJlc29sdmUoaSl9LHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkSWNlQ2FuZGlkYXRlPWZ1bmN0aW9uKHQpe2lmKHQpe3ZhciBlPXQuc2RwTUxpbmVJbmRleDtpZih0LnNkcE1pZClmb3IodmFyIGk9MDtpPHRoaXMuTE8ubGVuZ3RoO2krKylpZih0aGlzLkxPW2ldLlpFPT09dC5zZHBNaWQpe2U9aTticmVha312YXIgcj10aGlzLkxPW2VdO2lmKHIpe3ZhciBuPU9iamVjdC5rZXlzKHQuY2FuZGlkYXRlKS5sZW5ndGg+MD9vLnpiKHQuY2FuZGlkYXRlKTp7fTtpZihcInRjcFwiPT09bi5wcm90b2NvbCYmKDA9PT1uLnBvcnR8fDk9PT1uLnBvcnQpKXJldHVybiBQcm9taXNlLnJlc29sdmUoKTtpZihcIjFcIiE9PW4uJGIpcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO3IuJE8uYWRkUmVtb3RlQ2FuZGlkYXRlKG4pO3ZhciBzPW8uS2IodGhpcy5yZW1vdGVEZXNjcmlwdGlvbi5zZHApO3NbZSsxXSs9KG4udHlwZT90LmNhbmRpZGF0ZS50cmltKCk6XCJhPWVuZC1vZi1jYW5kaWRhdGVzXCIpK1wiXFxyXFxuXCIsdGhpcy5yZW1vdGVEZXNjcmlwdGlvbi5zZHA9cy5qb2luKFwiXCIpfX1lbHNlIGZvcih2YXIgYT0wO2E8dGhpcy5MTy5sZW5ndGg7YSsrKWlmKHRoaXMuTE9bYV0uJE8uYWRkUmVtb3RlQ2FuZGlkYXRlKHt9KSx0aGlzLkRPKXJldHVybiBQcm9taXNlLnJlc29sdmUoKTtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD4xJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBhcmd1bWVudHNbMV0mJndpbmRvdy5zZXRUaW1lb3V0KGFyZ3VtZW50c1sxXSwwKSxQcm9taXNlLnJlc29sdmUoKX0sd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRTdGF0cz1mdW5jdGlvbigpe3ZhciB0PVtdO3RoaXMuTE8uZm9yRWFjaChmdW5jdGlvbihlKXtbXCJydHBTZW5kZXJcIixcInJ0cFJlY2VpdmVyXCIsXCJpY2VHYXRoZXJlclwiLFwiaWNlVHJhbnNwb3J0XCIsXCJkdGxzVHJhbnNwb3J0XCJdLmZvckVhY2goZnVuY3Rpb24oaSl7ZVtpXSYmdC5wdXNoKGVbaV0uZ2V0U3RhdHMoKSl9KX0pO3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmXCJmdW5jdGlvblwiPT10eXBlb2YgYXJndW1lbnRzWzFdJiZhcmd1bWVudHNbMV0saT1mdW5jdGlvbih0KXtyZXR1cm57bFA6XCJpbmJvdW5kLXJ0cFwiLGRQOlwib3V0Ym91bmQtcnRwXCIsZlA6XCJjYW5kaWRhdGUtcGFpclwiLGRPOlwibG9jYWwtY2FuZGlkYXRlXCIsZk86XCJyZW1vdGUtY2FuZGlkYXRlXCJ9W3QudHlwZV18fHQudHlwZX07cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHIpe3ZhciBuPW5ldyBNYXA7UHJvbWlzZS5hbGwodCkudGhlbihmdW5jdGlvbih0KXt0LmZvckVhY2goZnVuY3Rpb24odCl7T2JqZWN0LmtleXModCkuZm9yRWFjaChmdW5jdGlvbihlKXt0W2VdLnR5cGU9aSh0W2VdKSxuLnNldChlLHRbZV0pfSl9KSxlJiZ3aW5kb3cuc2V0VGltZW91dChlLDAsbikscihuKX0pfSl9fX07dC50PXtYQzphLlhDLFpDOmkoNjkpfX0sZnVuY3Rpb24odCxlKXtcInVzZSBzdHJpY3RcIjt0LnQ9ZnVuY3Rpb24oKXt2YXIgdD1mdW5jdGlvbih0KXtyZXR1cm57bmFtZTp7RU86XCJOb3RBbGxvd2VkRXJyb3JcIn1bdC5uYW1lXXx8dC5uYW1lLG1lc3NhZ2U6dC5tZXNzYWdlLFJPOnQuUk8sdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uYW1lfX19LGU9bmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEuYmluZChuYXZpZ2F0b3IubWVkaWFEZXZpY2VzKTtuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYT1mdW5jdGlvbihpKXtyZXR1cm4gZShpKVtcImNhdGNoXCJdKGZ1bmN0aW9uKGUpe3JldHVybiBQcm9taXNlLnJlamVjdCh0KGUpKX0pfX19LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1pKDMpLnJpLG49e2lPOmZ1bmN0aW9uKCl7XCJvYmplY3RcIiE9dHlwZW9mIHdpbmRvd3x8IXdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbnx8XCJvbnRyYWNrXCJpbiB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlfHxPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZSxcIm9udHJhY2tcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubk99LHNldDpmdW5jdGlvbih0KXt0aGlzLm5PJiYodGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKFwidHJhY2tcIix0aGlzLm5PKSx0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJhZGRzdHJlYW1cIix0aGlzLm9PKSksdGhpcy5hZGRFdmVudExpc3RlbmVyKFwidHJhY2tcIix0aGlzLm5PPXQpLHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihcImFkZHN0cmVhbVwiLHRoaXMub089ZnVuY3Rpb24odCl7dC5zdHJlYW0uZ2V0VHJhY2tzKCkuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgaT1uZXcgRXZlbnQoXCJ0cmFja1wiKTtpLnRyYWNrPWUsaS5yZWNlaXZlcj17dHJhY2s6ZX0saS5zTz1bdC5zdHJlYW1dLHRoaXMuZGlzcGF0Y2hFdmVudChpKX0uYmluZCh0aGlzKSl9LmJpbmQodGhpcykpfX0pfSxlTzpmdW5jdGlvbigpe1wib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3cmJighd2luZG93LkhUTUxNZWRpYUVsZW1lbnR8fFwic3JjT2JqZWN0XCJpbiB3aW5kb3cuSFRNTE1lZGlhRWxlbWVudC5wcm90b3R5cGV8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3cuSFRNTE1lZGlhRWxlbWVudC5wcm90b3R5cGUsXCJzcmNPYmplY3RcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubW96U3JjT2JqZWN0fSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5tb3pTcmNPYmplY3Q9dH19KSl9LFhDOmZ1bmN0aW9uKCl7aWYoXCJvYmplY3RcIj09dHlwZW9mIHdpbmRvdyYmKHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbnx8d2luZG93Lm1velJUQ1BlZXJDb25uZWN0aW9uKSl7d2luZG93LlJUQ1BlZXJDb25uZWN0aW9ufHwod2luZG93LlJUQ1BlZXJDb25uZWN0aW9uPWZ1bmN0aW9uKHQsZSl7aWYoci52ZXJzaW9uPDM4JiZ0JiZ0LmljZVNlcnZlcnMpe2Zvcih2YXIgaT1bXSxuPTA7bjx0LmljZVNlcnZlcnMubGVuZ3RoO24rKyl7dmFyIG89dC5pY2VTZXJ2ZXJzW25dO2lmKG8uaGFzT3duUHJvcGVydHkoXCJ1cmxzXCIpKWZvcih2YXIgcz0wO3M8by5QTy5sZW5ndGg7cysrKXt2YXIgYT17dXJsOm8uUE9bc119OzA9PT1vLlBPW3NdLmluZGV4T2YoXCJ0dXJuXCIpJiYoYS51c2VybmFtZT1vLnVzZXJuYW1lLGEuZ1A9by5nUCksaS5wdXNoKGEpfWVsc2UgaS5wdXNoKHQuaWNlU2VydmVyc1tuXSl9dC5pY2VTZXJ2ZXJzPWl9cmV0dXJuIG5ldyBtb3pSVENQZWVyQ29ubmVjdGlvbih0LGUpfSx3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlPW1velJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZSxtb3pSVENQZWVyQ29ubmVjdGlvbi5nZW5lcmF0ZUNlcnRpZmljYXRlJiZPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLFwiZ2VuZXJhdGVDZXJ0aWZpY2F0ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbW96UlRDUGVlckNvbm5lY3Rpb24uZ2VuZXJhdGVDZXJ0aWZpY2F0ZX19KSx3aW5kb3cuUlRDU2Vzc2lvbkRlc2NyaXB0aW9uPW1velJUQ1Nlc3Npb25EZXNjcmlwdGlvbix3aW5kb3cuUlRDSWNlQ2FuZGlkYXRlPW1velJUQ0ljZUNhbmRpZGF0ZSksW1wic2V0TG9jYWxEZXNjcmlwdGlvblwiLFwic2V0UmVtb3RlRGVzY3JpcHRpb25cIixcImFkZEljZUNhbmRpZGF0ZVwiXS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBlPVJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZVt0XTtSVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGVbdF09ZnVuY3Rpb24oKXtyZXR1cm4gYXJndW1lbnRzWzBdPW5ldyhcImFkZEljZUNhbmRpZGF0ZVwiPT09dD9SVENJY2VDYW5kaWRhdGU6UlRDU2Vzc2lvbkRlc2NyaXB0aW9uKShhcmd1bWVudHNbMF0pLGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0pO3ZhciB0PVJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRJY2VDYW5kaWRhdGU7UlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZEljZUNhbmRpZGF0ZT1mdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHNbMF0/dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk6KGFyZ3VtZW50c1sxXSYmYXJndW1lbnRzWzFdLmFwcGx5KG51bGwpLFByb21pc2UucmVzb2x2ZSgpKX07dmFyIGU9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IE1hcDtyZXR1cm4gT2JqZWN0LmtleXModCkuZm9yRWFjaChmdW5jdGlvbihpKXtlLnNldChpLHRbaV0pLGVbaV09dFtpXX0pLGV9LGk9e2xQOlwiaW5ib3VuZC1ydHBcIixkUDpcIm91dGJvdW5kLXJ0cFwiLGZQOlwiY2FuZGlkYXRlLXBhaXJcIixkTzpcImxvY2FsLWNhbmRpZGF0ZVwiLGZPOlwicmVtb3RlLWNhbmRpZGF0ZVwifSxuPVJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRTdGF0cztSVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0U3RhdHM9ZnVuY3Rpb24odCxvLHMpe3JldHVybiBuLmFwcGx5KHRoaXMsW3R8fG51bGxdKS50aGVuKGZ1bmN0aW9uKHQpe2lmKHIudmVyc2lvbjw0OCYmKHQ9ZSh0KSksci52ZXJzaW9uPDUzJiYhbyl0cnl7dC5mb3JFYWNoKGZ1bmN0aW9uKHQpe3QudHlwZT1pW3QudHlwZV18fHQudHlwZX0pfWNhdGNoKG4pe2lmKFwiVHlwZUVycm9yXCIhPT1uLm5hbWUpdGhyb3cgbjt0LmZvckVhY2goZnVuY3Rpb24oZSxyKXt0LnNldChyLE9iamVjdC5hc3NpZ24oe30sZSx7dHlwZTppW2UudHlwZV18fGUudHlwZX0pKX0pfXJldHVybiB0fSkudGhlbihvLHMpfX19fTt0LnQ9e2lPOm4uaU8sZU86bi5lTyxYQzpuLlhDLFpDOmkoNzEpfX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO3ZhciByPWkoMykubG9nLG49aSgzKS5yaTt0LnQ9ZnVuY3Rpb24oKXt2YXIgdD1mdW5jdGlvbih0KXtyZXR1cm57bmFtZTp7dlA6XCJOb3RBbGxvd2VkRXJyb3JcIixFTzpcIk5vdEFsbG93ZWRFcnJvclwifVt0Lm5hbWVdfHx0Lm5hbWUsbWVzc2FnZTp7XCJUaGUgb3BlcmF0aW9uIGlzIGluc2VjdXJlLlwiOlwiVGhlIHJlcXVlc3QgaXMgbm90IGFsbG93ZWQgYnkgdGhlIHVzZXIgYWdlbnQgb3IgdGhlIHBsYXRmb3JtIGluIHRoZSBjdXJyZW50IGNvbnRleHQuXCJ9W3QubWVzc2FnZV18fHQubWVzc2FnZSxSTzp0LlJPLHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubmFtZSsodGhpcy5tZXNzYWdlJiZcIjogXCIpK3RoaXMubWVzc2FnZX19fSxlPWZ1bmN0aW9uKGUsaSxvKXt2YXIgcz1mdW5jdGlvbih0KXtpZihcIm9iamVjdFwiIT10eXBlb2YgdHx8dC55UClyZXR1cm4gdDt2YXIgZT1bXTtyZXR1cm4gT2JqZWN0LmtleXModCkuZm9yRWFjaChmdW5jdGlvbihpKXtpZihcInJlcXVpcmVcIiE9PWkmJlwiYWR2YW5jZWRcIiE9PWkmJlwibWVkaWFTb3VyY2VcIiE9PWkpe3ZhciByPXRbaV09XCJvYmplY3RcIj09dHlwZW9mIHRbaV0/dFtpXTp7dk86dFtpXX07aWYodm9pZCAwPT09ci5taW4mJnZvaWQgMD09PXIubWF4JiZ2b2lkIDA9PT1yLnlPfHxlLnB1c2goaSksdm9pZCAwIT09ci55TyYmKFwibnVtYmVyXCI9PXR5cGVvZiByLnlPP3IubWluPXIubWF4PXIueU86dFtpXT1yLnlPLGRlbGV0ZSByLnlPKSx2b2lkIDAhPT1yLnZPKXt0Lm1PPXQubU98fFtdO3ZhciBuPXt9O1wibnVtYmVyXCI9PXR5cGVvZiByLnZPP25baV09e21pbjpyLnZPLG1heDpyLnZPfTpuW2ldPXIudk8sdC5tTy5wdXNoKG4pLGRlbGV0ZSByLnZPLE9iamVjdC5rZXlzKHIpLmxlbmd0aHx8ZGVsZXRlIHRbaV19fX0pLGUubGVuZ3RoJiYodC55UD1lKSx0fTtyZXR1cm4gZT1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGUpKSxuLnZlcnNpb248MzgmJihyKFwic3BlYzogXCIrSlNPTi5zdHJpbmdpZnkoZSkpLGUuTXAmJihlLk1wPXMoZS5NcCkpLGUudmlkZW8mJihlLnZpZGVvPXMoZS52aWRlbykpLHIoXCJmZjM3OiBcIitKU09OLnN0cmluZ2lmeShlKSkpLG5hdmlnYXRvci5tb3pHZXRVc2VyTWVkaWEoZSxpLGZ1bmN0aW9uKGUpe28odChlKSl9KX0saT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24oaSxyKXtlKHQsaSxyKX0pfTtpZihuYXZpZ2F0b3IubWVkaWFEZXZpY2VzfHwobmF2aWdhdG9yLm1lZGlhRGV2aWNlcz17Z2V0VXNlck1lZGlhOmksYWRkRXZlbnRMaXN0ZW5lcjpmdW5jdGlvbigpe30scmVtb3ZlRXZlbnRMaXN0ZW5lcjpmdW5jdGlvbigpe319KSxuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLlNPPW5hdmlnYXRvci5tZWRpYURldmljZXMuU098fGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHQpe3ZhciBlPVt7a2luZDpcImF1ZGlvaW5wdXRcIixiTzpcImRlZmF1bHRcIixsYWJlbDpcIlwiLGtPOlwiXCJ9LHtraW5kOlwidmlkZW9pbnB1dFwiLGJPOlwiZGVmYXVsdFwiLGxhYmVsOlwiXCIsa086XCJcIn1dO3QoZSl9KX0sbi52ZXJzaW9uPDQxKXt2YXIgbz1uYXZpZ2F0b3IubWVkaWFEZXZpY2VzLlNPLmJpbmQobmF2aWdhdG9yLm1lZGlhRGV2aWNlcyk7bmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5TTz1mdW5jdGlvbigpe3JldHVybiBvKCkudGhlbih2b2lkIDAsZnVuY3Rpb24odCl7aWYoXCJOb3RGb3VuZEVycm9yXCI9PT10Lm5hbWUpcmV0dXJuW107dGhyb3cgdH0pfX1pZihuLnZlcnNpb248NDkpe3ZhciBzPW5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhLmJpbmQobmF2aWdhdG9yLm1lZGlhRGV2aWNlcyk7bmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWE9ZnVuY3Rpb24oZSl7cmV0dXJuIHMoZSkudGhlbihmdW5jdGlvbih0KXtpZihlLk1wJiYhdC5nZXRBdWRpb1RyYWNrcygpLmxlbmd0aHx8ZS52aWRlbyYmIXQuZ2V0VmlkZW9UcmFja3MoKS5sZW5ndGgpdGhyb3cgdC5nZXRUcmFja3MoKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3Quc3RvcCgpfSksbmV3IERPTUV4Y2VwdGlvbihcIlRoZSBvYmplY3QgY2FuIG5vdCBiZSBmb3VuZCBoZXJlLlwiLFwiTm90Rm91bmRFcnJvclwiKTtyZXR1cm4gdH0sZnVuY3Rpb24oZSl7cmV0dXJuIFByb21pc2UucmVqZWN0KHQoZSkpfSl9fW5hdmlnYXRvci5nZXRVc2VyTWVkaWE9ZnVuY3Rpb24odCxpLHIpe3JldHVybiBuLnZlcnNpb248NDQ/ZSh0LGkscik6KGNvbnNvbGUud2FybihcIm5hdmlnYXRvci5nZXRVc2VyTWVkaWEgaGFzIGJlZW4gcmVwbGFjZWQgYnkgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWFcIiksdm9pZCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSh0KS50aGVuKGkscikpfX19LGZ1bmN0aW9uKHQsZSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9e1pDOmZ1bmN0aW9uKCl7bmF2aWdhdG9yLmdldFVzZXJNZWRpYXx8KG5hdmlnYXRvci53ZWJraXRHZXRVc2VyTWVkaWE/bmF2aWdhdG9yLmdldFVzZXJNZWRpYT1uYXZpZ2F0b3Iud2Via2l0R2V0VXNlck1lZGlhLmJpbmQobmF2aWdhdG9yKTpuYXZpZ2F0b3IubWVkaWFEZXZpY2VzJiZuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSYmKG5hdmlnYXRvci5nZXRVc2VyTWVkaWE9ZnVuY3Rpb24odCxlLGkpe25hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKHQpLnRoZW4oZSxpKX0uYmluZChuYXZpZ2F0b3IpKSl9fTt0LnQ9e1pDOmkuWkN9fV0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1iaXRtb3Zpbi5oaXZlLm1pbi5qcy5tYXBcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi9oaXZlL2JpdG1vdmluLmhpdmUubWluLmpzXG4vLyBtb2R1bGUgaWQgPSA0M1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9