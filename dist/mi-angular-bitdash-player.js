/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 66);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var component_1 = __webpack_require__(2);
var dom_1 = __webpack_require__(1);
var arrayutils_1 = __webpack_require__(11);
/**
 * A container component that can contain a collection of child components.
 * Components can be added at construction time through the {@link ContainerConfig#components} setting, or later
 * through the {@link Container#addComponent} method. The UIManager automatically takes care of all components, i.e. it
 * initializes and configures them automatically.
 *
 * In the DOM, the container consists of an outer <div> (that can be configured by the config) and an inner wrapper
 * <div> that contains the components. This double-<div>-structure is often required to achieve many advanced effects
 * in CSS and/or JS, e.g. animations and certain formatting with absolute positioning.
 *
 * DOM example:
 * <code>
 *     <div class='ui-container'>
 *         <div class='container-wrapper'>
 *             ... child components ...
 *         </div>
 *     </div>
 * </code>
 */
var Container = (function (_super) {
    __extends(Container, _super);
    function Container(config) {
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-container',
            components: [],
        }, _this.config);
        _this.componentsToAdd = [];
        _this.componentsToRemove = [];
        return _this;
    }
    /**
     * Adds a child component to the container.
     * @param component the component to add
     */
    Container.prototype.addComponent = function (component) {
        this.config.components.push(component);
        this.componentsToAdd.push(component);
    };
    /**
     * Removes a child component from the container.
     * @param component the component to remove
     * @returns {boolean} true if the component has been removed, false if it is not contained in this container
     */
    Container.prototype.removeComponent = function (component) {
        if (arrayutils_1.ArrayUtils.remove(this.config.components, component) != null) {
            this.componentsToRemove.push(component);
            return true;
        }
        else {
            return false;
        }
    };
    /**
     * Gets an array of all child components in this container.
     * @returns {Component<ComponentConfig>[]}
     */
    Container.prototype.getComponents = function () {
        return this.config.components;
    };
    /**
     * Removes all child components from the container.
     */
    Container.prototype.removeComponents = function () {
        for (var _i = 0, _a = this.getComponents().slice(); _i < _a.length; _i++) {
            var component = _a[_i];
            this.removeComponent(component);
        }
    };
    /**
     * Updates the DOM of the container with the current components.
     */
    Container.prototype.updateComponents = function () {
        /* We cannot just clear the container to remove all elements and then re-add those that should stay, because
         * IE looses the innerHTML of unattached elements, leading to empty elements within the container (e.g. missing
         * subtitle text in SubtitleLabel).
         * Instead, we keep a list of elements to add and remove, leaving remaining elements alone. By keeping them in
         * the DOM, their content gets preserved in all browsers.
         */
        var component;
        while (component = this.componentsToRemove.shift()) {
            component.getDomElement().remove();
        }
        while (component = this.componentsToAdd.shift()) {
            this.innerContainerElement.append(component.getDomElement());
        }
    };
    Container.prototype.toDomElement = function () {
        // Create the container element (the outer <div>)
        var containerElement = new dom_1.DOM(this.config.tag, {
            'id': this.config.id,
            'class': this.getCssClasses(),
        });
        // Create the inner container element (the inner <div>) that will contain the components
        var innerContainer = new dom_1.DOM(this.config.tag, {
            'class': this.prefixCss('container-wrapper'),
        });
        this.innerContainerElement = innerContainer;
        for (var _i = 0, _a = this.config.components; _i < _a.length; _i++) {
            var initialComponent = _a[_i];
            this.componentsToAdd.push(initialComponent);
        }
        this.updateComponents();
        containerElement.append(innerContainer);
        return containerElement;
    };
    return Container;
}(component_1.Component));
exports.Container = Container;


/***/ }),
/* 1 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Simple DOM manipulation and DOM element event handling modeled after jQuery (as replacement for jQuery).
 *
 * Like jQuery, DOM operates on single elements and lists of elements. For example: creating an element returns a DOM
 * instance with a single element, selecting elements returns a DOM instance with zero, one, or many elements. Similar
 * to jQuery, setters usually affect all elements, while getters operate on only the first element.
 * Also similar to jQuery, most methods (except getters) return the DOM instance facilitating easy chaining of method
 * calls.
 *
 * Built with the help of: http://youmightnotneedjquery.com/
 */
var DOM = (function () {
    function DOM(something, attributes) {
        this.document = document; // Set the global document to the local document field
        if (something instanceof Array) {
            if (something.length > 0 && something[0] instanceof HTMLElement) {
                var elements = something;
                this.elements = elements;
            }
        }
        else if (something instanceof HTMLElement) {
            var element = something;
            this.elements = [element];
        }
        else if (something instanceof Document) {
            // When a document is passed in, we do not do anything with it, but by setting this.elements to null
            // we give the event handling method a means to detect if the events should be registered on the document
            // instead of elements.
            this.elements = null;
        }
        else if (attributes) {
            var tagName = something;
            var element = document.createElement(tagName);
            for (var attributeName in attributes) {
                var attributeValue = attributes[attributeName];
                element.setAttribute(attributeName, attributeValue);
            }
            this.elements = [element];
        }
        else {
            var selector = something;
            this.elements = this.findChildElements(selector);
        }
    }
    Object.defineProperty(DOM.prototype, "length", {
        /**
         * Gets the number of elements that this DOM instance currently holds.
         * @returns {number} the number of elements
         */
        get: function () {
            return this.elements ? this.elements.length : 0;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * Gets the HTML elements that this DOM instance currently holds.
     * @returns {HTMLElement[]} the raw HTML elements
     * @deprecated use {@link #get()} instead
     */
    DOM.prototype.getElements = function () {
        return this.get();
    };
    DOM.prototype.get = function (index) {
        if (index === undefined) {
            return this.elements;
        }
        else if (!this.elements || index >= this.elements.length || index < -this.elements.length) {
            return undefined;
        }
        else if (index < 0) {
            return this.elements[this.elements.length - index];
        }
        else {
            return this.elements[index];
        }
    };
    /**
     * A shortcut method for iterating all elements. Shorts this.elements.forEach(...) to this.forEach(...).
     * @param handler the handler to execute an operation on an element
     */
    DOM.prototype.forEach = function (handler) {
        if (!this.elements) {
            return;
        }
        this.elements.forEach(function (element) {
            handler(element);
        });
    };
    DOM.prototype.findChildElementsOfElement = function (element, selector) {
        var childElements = element.querySelectorAll(selector);
        // Convert NodeList to Array
        // https://toddmotto.com/a-comprehensive-dive-into-nodelists-arrays-converting-nodelists-and-understanding-the-dom/
        return [].slice.call(childElements);
    };
    DOM.prototype.findChildElements = function (selector) {
        var _this = this;
        var allChildElements = [];
        if (this.elements) {
            this.forEach(function (element) {
                allChildElements = allChildElements.concat(_this.findChildElementsOfElement(element, selector));
            });
        }
        else {
            return this.findChildElementsOfElement(document, selector);
        }
        return allChildElements;
    };
    /**
     * Finds all child elements of all elements matching the supplied selector.
     * @param selector the selector to match with child elements
     * @returns {DOM} a new DOM instance representing all matched children
     */
    DOM.prototype.find = function (selector) {
        var allChildElements = this.findChildElements(selector);
        return new DOM(allChildElements);
    };
    DOM.prototype.html = function (content) {
        if (arguments.length > 0) {
            return this.setHtml(content);
        }
        else {
            return this.getHtml();
        }
    };
    DOM.prototype.getHtml = function () {
        return this.elements[0].innerHTML;
    };
    DOM.prototype.setHtml = function (content) {
        if (content === undefined || content == null) {
            // Set to empty string to avoid innerHTML getting set to 'undefined' (all browsers) or 'null' (IE9)
            content = '';
        }
        this.forEach(function (element) {
            element.innerHTML = content;
        });
        return this;
    };
    /**
     * Clears the inner HTML of all elements (deletes all children).
     * @returns {DOM}
     */
    DOM.prototype.empty = function () {
        this.forEach(function (element) {
            element.innerHTML = '';
        });
        return this;
    };
    /**
     * Returns the current value of the first form element, e.g. the selected value of a select box or the text if an
     * input field.
     * @returns {string} the value of a form element
     */
    DOM.prototype.val = function () {
        var element = this.elements[0];
        if (element instanceof HTMLSelectElement || element instanceof HTMLInputElement) {
            return element.value;
        }
        else {
            // TODO add support for missing form elements
            throw new Error("val() not supported for " + typeof element);
        }
    };
    DOM.prototype.attr = function (attribute, value) {
        if (arguments.length > 1) {
            return this.setAttr(attribute, value);
        }
        else {
            return this.getAttr(attribute);
        }
    };
    DOM.prototype.getAttr = function (attribute) {
        return this.elements[0].getAttribute(attribute);
    };
    DOM.prototype.setAttr = function (attribute, value) {
        this.forEach(function (element) {
            element.setAttribute(attribute, value);
        });
        return this;
    };
    DOM.prototype.data = function (dataAttribute, value) {
        if (arguments.length > 1) {
            return this.setData(dataAttribute, value);
        }
        else {
            return this.getData(dataAttribute);
        }
    };
    DOM.prototype.getData = function (dataAttribute) {
        return this.elements[0].getAttribute('data-' + dataAttribute);
    };
    DOM.prototype.setData = function (dataAttribute, value) {
        this.forEach(function (element) {
            element.setAttribute('data-' + dataAttribute, value);
        });
        return this;
    };
    /**
     * Appends one or more DOM elements as children to all elements.
     * @param childElements the chrild elements to append
     * @returns {DOM}
     */
    DOM.prototype.append = function () {
        var childElements = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            childElements[_i] = arguments[_i];
        }
        this.forEach(function (element) {
            childElements.forEach(function (childElement) {
                childElement.elements.forEach(function (_, index) {
                    element.appendChild(childElement.elements[index]);
                });
            });
        });
        return this;
    };
    /**
     * Removes all elements from the DOM.
     */
    DOM.prototype.remove = function () {
        this.forEach(function (element) {
            var parent = element.parentNode;
            if (parent) {
                parent.removeChild(element);
            }
        });
    };
    /**
     * Returns the offset of the first element from the document's top left corner.
     * @returns {Offset}
     */
    DOM.prototype.offset = function () {
        var element = this.elements[0];
        var elementRect = element.getBoundingClientRect();
        var htmlRect = document.body.parentElement.getBoundingClientRect();
        // Virtual viewport scroll handling (e.g. pinch zoomed viewports in mobile browsers or desktop Chrome/Edge)
        // 'normal' zooms and virtual viewport zooms (aka layout viewport) result in different
        // element.getBoundingClientRect() results:
        //  - with normal scrolls, the clientRect decreases with an increase in scroll(Top|Left)/page(X|Y)Offset
        //  - with pinch zoom scrolls, the clientRect stays the same while scroll/pageOffset changes
        // This means, that the combination of clientRect + scroll/pageOffset does not work to calculate the offset
        // from the document's upper left origin when pinch zoom is used.
        // To work around this issue, we do not use scroll/pageOffset but get the clientRect of the html element and
        // subtract it from the element's rect, which always results in the offset from the document origin.
        // NOTE: the current way of offset calculation was implemented specifically to track event positions on the
        // seek bar, and it might break compatibility with jQuery's offset() method. If this ever turns out to be a
        // problem, this method should be reverted to the old version and the offset calculation moved to the seek bar.
        return {
            top: elementRect.top - htmlRect.top,
            left: elementRect.left - htmlRect.left,
        };
    };
    /**
     * Returns the width of the first element.
     * @returns {number} the width of the first element
     */
    DOM.prototype.width = function () {
        // TODO check if this is the same as jQuery's width() (probably not)
        return this.elements[0].offsetWidth;
    };
    /**
     * Returns the height of the first element.
     * @returns {number} the height of the first element
     */
    DOM.prototype.height = function () {
        // TODO check if this is the same as jQuery's height() (probably not)
        return this.elements[0].offsetHeight;
    };
    /**
     * Attaches an event handler to one or more events on all elements.
     * @param eventName the event name (or multiple names separated by space) to listen to
     * @param eventHandler the event handler to call when the event fires
     * @returns {DOM}
     */
    DOM.prototype.on = function (eventName, eventHandler) {
        var _this = this;
        var events = eventName.split(' ');
        events.forEach(function (event) {
            if (_this.elements == null) {
                _this.document.addEventListener(event, eventHandler);
            }
            else {
                _this.forEach(function (element) {
                    element.addEventListener(event, eventHandler);
                });
            }
        });
        return this;
    };
    /**
     * Removes an event handler from one or more events on all elements.
     * @param eventName the event name (or multiple names separated by space) to remove the handler from
     * @param eventHandler the event handler to remove
     * @returns {DOM}
     */
    DOM.prototype.off = function (eventName, eventHandler) {
        var _this = this;
        var events = eventName.split(' ');
        events.forEach(function (event) {
            if (_this.elements == null) {
                _this.document.removeEventListener(event, eventHandler);
            }
            else {
                _this.forEach(function (element) {
                    element.removeEventListener(event, eventHandler);
                });
            }
        });
        return this;
    };
    /**
     * Adds the specified class(es) to all elements.
     * @param className the class(es) to add, multiple classes separated by space
     * @returns {DOM}
     */
    DOM.prototype.addClass = function (className) {
        this.forEach(function (element) {
            if (element.classList) {
                var classNames = className.split(' ')
                    .filter(function (className) { return className.length > 0; });
                if (classNames.length > 0) {
                    (_a = element.classList).add.apply(_a, classNames);
                }
            }
            else {
                element.className += ' ' + className;
            }
            var _a;
        });
        return this;
    };
    /**
     * Removed the specified class(es) from all elements.
     * @param className the class(es) to remove, multiple classes separated by space
     * @returns {DOM}
     */
    DOM.prototype.removeClass = function (className) {
        this.forEach(function (element) {
            if (element.classList) {
                var classNames = className.split(' ')
                    .filter(function (className) { return className.length > 0; });
                if (classNames.length > 0) {
                    (_a = element.classList).remove.apply(_a, classNames);
                }
            }
            else {
                element.className = element.className.replace(new RegExp('(^|\\b)' + className.split(' ').join('|') + '(\\b|$)', 'gi'), ' ');
            }
            var _a;
        });
        return this;
    };
    /**
     * Checks if any of the elements has the specified class.
     * @param className the class name to check
     * @returns {boolean} true if one of the elements has the class attached, else if no element has it attached
     */
    DOM.prototype.hasClass = function (className) {
        var hasClass = false;
        this.forEach(function (element) {
            if (element.classList) {
                if (element.classList.contains(className)) {
                    // Since we are inside a handler, we can't just 'return true'. Instead, we save it to a variable
                    // and return it at the end of the function body.
                    hasClass = true;
                }
            }
            else {
                if (new RegExp('(^| )' + className + '( |$)', 'gi').test(element.className)) {
                    // See comment above
                    hasClass = true;
                }
            }
        });
        return hasClass;
    };
    DOM.prototype.css = function (propertyNameOrCollection, value) {
        if (typeof propertyNameOrCollection === 'string') {
            var propertyName = propertyNameOrCollection;
            if (arguments.length === 2) {
                return this.setCss(propertyName, value);
            }
            else {
                return this.getCss(propertyName);
            }
        }
        else {
            var propertyValueCollection = propertyNameOrCollection;
            return this.setCssCollection(propertyValueCollection);
        }
    };
    DOM.prototype.getCss = function (propertyName) {
        return getComputedStyle(this.elements[0])[propertyName];
    };
    DOM.prototype.setCss = function (propertyName, value) {
        this.forEach(function (element) {
            // <any> cast to resolve TS7015: http://stackoverflow.com/a/36627114/370252
            element.style[propertyName] = value;
        });
        return this;
    };
    DOM.prototype.setCssCollection = function (ruleValueCollection) {
        this.forEach(function (element) {
            // http://stackoverflow.com/a/34490573/370252
            Object.assign(element.style, ruleValueCollection);
        });
        return this;
    };
    return DOM;
}());
exports.DOM = DOM;


/***/ }),
/* 2 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var guid_1 = __webpack_require__(72);
var dom_1 = __webpack_require__(1);
var eventdispatcher_1 = __webpack_require__(3);
/**
 * The base class of the UI framework.
 * Each component must extend this class and optionally the config interface.
 */
var Component = (function () {
    /**
     * Constructs a component with an optionally supplied config. All subclasses must call the constructor of their
     * superclass and then merge their configuration into the component's configuration.
     * @param config the configuration for the component
     */
    function Component(config) {
        if (config === void 0) { config = {}; }
        /**
         * The list of events that this component offers. These events should always be private and only directly
         * accessed from within the implementing component.
         *
         * Because TypeScript does not support private properties with the same name on different class hierarchy levels
         * (i.e. superclass and subclass cannot contain a private property with the same name), the default naming
         * convention for the event list of a component that should be followed by subclasses is the concatenation of the
         * camel-cased class name + 'Events' (e.g. SubClass extends Component => subClassEvents).
         * See {@link #componentEvents} for an example.
         *
         * Event properties should be named in camel case with an 'on' prefix and in the present tense. Async events may
         * have a start event (when the operation starts) in the present tense, and must have an end event (when the
         * operation ends) in the past tense (or present tense in special cases (e.g. onStart/onStarted or onPlay/onPlaying).
         * See {@link #componentEvents#onShow} for an example.
         *
         * Each event should be accompanied with a protected method named by the convention eventName + 'Event'
         * (e.g. onStartEvent), that actually triggers the event by calling {@link EventDispatcher#dispatch dispatch} and
         * passing a reference to the component as first parameter. Components should always trigger their events with these
         * methods. Implementing this pattern gives subclasses means to directly listen to the events by overriding the
         * method (and saving the overhead of passing a handler to the event dispatcher) and more importantly to trigger
         * these events without having access to the private event list.
         * See {@link #onShow} for an example.
         *
         * To provide external code the possibility to listen to this component's events (subscribe, unsubscribe, etc.),
         * each event should also be accompanied by a public getter function with the same name as the event's property,
         * that returns the {@link Event} obtained from the event dispatcher by calling {@link EventDispatcher#getEvent}.
         * See {@link #onShow} for an example.
         *
         * Full example for an event representing an example action in a example component:
         *
         * <code>
         * // Define an example component class with an example event
         * class ExampleComponent extends Component<ComponentConfig> {
           *
           *     private exampleComponentEvents = {
           *         onExampleAction: new EventDispatcher<ExampleComponent, NoArgs>()
           *     }
           *
           *     // constructor and other stuff...
           *
           *     protected onExampleActionEvent() {
           *        this.exampleComponentEvents.onExampleAction.dispatch(this);
           *    }
           *
           *    get onExampleAction(): Event<ExampleComponent, NoArgs> {
           *        return this.exampleComponentEvents.onExampleAction.getEvent();
           *    }
           * }
         *
         * // Create an instance of the component somewhere
         * var exampleComponentInstance = new ExampleComponent();
         *
         * // Subscribe to the example event on the component
         * exampleComponentInstance.onExampleAction.subscribe(function (sender: ExampleComponent) {
           *     console.log('onExampleAction of ' + sender + ' has fired!');
           * });
         * </code>
         */
        this.componentEvents = {
            onShow: new eventdispatcher_1.EventDispatcher(),
            onHide: new eventdispatcher_1.EventDispatcher(),
            onHoverChanged: new eventdispatcher_1.EventDispatcher(),
        };
        // Create the configuration for this component
        this.config = this.mergeConfig(config, {
            tag: 'div',
            id: 'mi-wbc-id-' + guid_1.Guid.next(),
            cssPrefix: 'mi-wbc',
            cssClass: 'ui-component',
            cssClasses: [],
            hidden: false,
        }, {});
    }
    /**
     * Initializes the component, e.g. by applying config settings.
     * This method must not be called from outside the UI framework.
     *
     * This method is automatically called by the {@link UIInstanceManager}. If the component is an inner component of
     * some component, and thus encapsulated abd managed internally and never directly exposed to the UIManager,
     * this method must be called from the managing component's {@link #initialize} method.
     */
    Component.prototype.initialize = function () {
        this.hidden = this.config.hidden;
        // Hide the component at initialization if it is configured to be hidden
        if (this.isHidden()) {
            this.hidden = false; // Set flag to false for the following hide() call to work (hide() checks the flag)
            this.hide();
        }
    };
    /**
     * Configures the component for the supplied Player and UIInstanceManager. This is the place where all the magic
     * happens, where components typically subscribe and react to events (on their DOM element, the Player, or the
     * UIInstanceManager), and basically everything that makes them interactive.
     * This method is called only once, when the UIManager initializes the UI.
     *
     * Subclasses usually overwrite this method to add their own functionality.
     *
     * @param player the player which this component controls
     * @param uimanager the UIInstanceManager that manages this component
     */
    Component.prototype.configure = function (player, uimanager) {
        var _this = this;
        this.onShow.subscribe(function () {
            uimanager.onComponentShow.dispatch(_this);
        });
        this.onHide.subscribe(function () {
            uimanager.onComponentHide.dispatch(_this);
        });
        // Track the hovered state of the element
        this.getDomElement().on('mouseenter', function () {
            _this.onHoverChangedEvent(true);
        });
        this.getDomElement().on('mouseleave', function () {
            _this.onHoverChangedEvent(false);
        });
    };
    /**
     * Releases all resources and dependencies that the component holds. Player, DOM, and UIManager events are
     * automatically removed during release and do not explicitly need to be removed here.
     * This method is called by the UIManager when it releases the UI.
     *
     * Subclasses that need to release resources should override this method and call super.release().
     */
    Component.prototype.release = function () {
        // Nothing to do here, override where necessary
    };
    /**
     * Generate the DOM element for this component.
     *
     * Subclasses usually overwrite this method to extend or replace the DOM element with their own design.
     */
    Component.prototype.toDomElement = function () {
        var element = new dom_1.DOM(this.config.tag, {
            'id': this.config.id,
            'class': this.getCssClasses(),
        });
        return element;
    };
    /**
     * Returns the DOM element of this component. Creates the DOM element if it does not yet exist.
     *
     * Should not be overwritten by subclasses.
     *
     * @returns {DOM}
     */
    Component.prototype.getDomElement = function () {
        if (!this.element) {
            this.element = this.toDomElement();
        }
        return this.element;
    };
    /**
     * Merges a configuration with a default configuration and a base configuration from the superclass.
     *
     * @param config the configuration settings for the components, as usually passed to the constructor
     * @param defaults a default configuration for settings that are not passed with the configuration
     * @param base configuration inherited from a superclass
     * @returns {Config}
     */
    Component.prototype.mergeConfig = function (config, defaults, base) {
        // Extend default config with supplied config
        var merged = Object.assign({}, base, defaults, config);
        // Return the extended config
        return merged;
    };
    /**
     * Helper method that returns a string of all CSS classes of the component.
     *
     * @returns {string}
     */
    Component.prototype.getCssClasses = function () {
        var _this = this;
        // Merge all CSS classes into single array
        var flattenedArray = [this.config.cssClass].concat(this.config.cssClasses);
        // Prefix classes
        flattenedArray = flattenedArray.map(function (css) {
            return _this.prefixCss(css);
        });
        // Join array values into a string
        var flattenedString = flattenedArray.join(' ');
        // Return trimmed string to prevent whitespace at the end from the join operation
        return flattenedString.trim();
    };
    Component.prototype.prefixCss = function (cssClassOrId) {
        return this.config.cssPrefix + '-' + cssClassOrId;
    };
    /**
     * Returns the configuration object of the component.
     * @returns {Config}
     */
    Component.prototype.getConfig = function () {
        return this.config;
    };
    /**
     * Hides the component if shown.
     * This method basically transfers the component into the hidden state. Actual hiding is done via CSS.
     */
    Component.prototype.hide = function () {
        if (!this.hidden) {
            this.hidden = true;
            this.getDomElement().addClass(this.prefixCss(Component.CLASS_HIDDEN));
            this.onHideEvent();
        }
    };
    /**
     * Shows the component if hidden.
     */
    Component.prototype.show = function () {
        if (this.hidden) {
            this.getDomElement().removeClass(this.prefixCss(Component.CLASS_HIDDEN));
            this.hidden = false;
            this.onShowEvent();
        }
    };
    /**
     * Determines if the component is hidden.
     * @returns {boolean} true if the component is hidden, else false
     */
    Component.prototype.isHidden = function () {
        return this.hidden;
    };
    /**
     * Determines if the component is shown.
     * @returns {boolean} true if the component is visible, else false
     */
    Component.prototype.isShown = function () {
        return !this.isHidden();
    };
    /**
     * Toggles the hidden state by hiding the component if it is shown, or showing it if hidden.
     */
    Component.prototype.toggleHidden = function () {
        if (this.isHidden()) {
            this.show();
        }
        else {
            this.hide();
        }
    };
    /**
     * Determines if the component is currently hovered.
     * @returns {boolean} true if the component is hovered, else false
     */
    Component.prototype.isHovered = function () {
        return this.hovered;
    };
    /**
     * Fires the onShow event.
     * See the detailed explanation on event architecture on the {@link #componentEvents events list}.
     */
    Component.prototype.onShowEvent = function () {
        this.componentEvents.onShow.dispatch(this);
    };
    /**
     * Fires the onHide event.
     * See the detailed explanation on event architecture on the {@link #componentEvents events list}.
     */
    Component.prototype.onHideEvent = function () {
        this.componentEvents.onHide.dispatch(this);
    };
    /**
     * Fires the onHoverChanged event.
     * See the detailed explanation on event architecture on the {@link #componentEvents events list}.
     */
    Component.prototype.onHoverChangedEvent = function (hovered) {
        this.hovered = hovered;
        this.componentEvents.onHoverChanged.dispatch(this, { hovered: hovered });
    };
    Object.defineProperty(Component.prototype, "onShow", {
        /**
         * Gets the event that is fired when the component is showing.
         * See the detailed explanation on event architecture on the {@link #componentEvents events list}.
         * @returns {Event<Component<Config>, NoArgs>}
         */
        get: function () {
            return this.componentEvents.onShow.getEvent();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Component.prototype, "onHide", {
        /**
         * Gets the event that is fired when the component is hiding.
         * See the detailed explanation on event architecture on the {@link #componentEvents events list}.
         * @returns {Event<Component<Config>, NoArgs>}
         */
        get: function () {
            return this.componentEvents.onHide.getEvent();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Component.prototype, "onHoverChanged", {
        /**
         * Gets the event that is fired when the component's hover-state is changing.
         * @returns {Event<Component<Config>, ComponentHoverChangedEventArgs>}
         */
        get: function () {
            return this.componentEvents.onHoverChanged.getEvent();
        },
        enumerable: true,
        configurable: true
    });
    return Component;
}());
/**
 * The classname that is attached to the element when it is in the hidden state.
 * @type {string}
 */
Component.CLASS_HIDDEN = 'hidden';
exports.Component = Component;


/***/ }),
/* 3 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var arrayutils_1 = __webpack_require__(11);
/**
 * Event dispatcher to subscribe and trigger events. Each event should have its own dispatcher.
 */
var EventDispatcher = (function () {
    function EventDispatcher() {
        this.listeners = [];
    }
    /**
     * {@inheritDoc}
     */
    EventDispatcher.prototype.subscribe = function (listener) {
        this.listeners.push(new EventListenerWrapper(listener));
    };
    /**
     * {@inheritDoc}
     */
    EventDispatcher.prototype.subscribeOnce = function (listener) {
        this.listeners.push(new EventListenerWrapper(listener, true));
    };
    /**
     * {@inheritDoc}
     */
    EventDispatcher.prototype.subscribeRateLimited = function (listener, rateMs) {
        this.listeners.push(new RateLimitedEventListenerWrapper(listener, rateMs));
    };
    /**
     * {@inheritDoc}
     */
    EventDispatcher.prototype.unsubscribe = function (listener) {
        // Iterate through listeners, compare with parameter, and remove if found
        // NOTE: In case we ever remove all matching listeners instead of just the first, we need to reverse-iterate here
        for (var i = 0; i < this.listeners.length; i++) {
            var subscribedListener = this.listeners[i];
            if (subscribedListener.listener === listener) {
                arrayutils_1.ArrayUtils.remove(this.listeners, subscribedListener);
                return true;
            }
        }
        return false;
    };
    /**
     * Removes all listeners from this dispatcher.
     */
    EventDispatcher.prototype.unsubscribeAll = function () {
        this.listeners = [];
    };
    /**
     * Dispatches an event to all subscribed listeners.
     * @param sender the source of the event
     * @param args the arguments for the event
     */
    EventDispatcher.prototype.dispatch = function (sender, args) {
        if (args === void 0) { args = null; }
        var listenersToRemove = [];
        // Call every listener
        // We iterate over a copy of the array of listeners to avoid the case where events are not fired on listeners when
        // listeners are unsubscribed from within the event handlers during a dispatch (because the indices change and
        // listeners are shifted within the array).
        // This means that listener x+1 will still be called if unsubscribed from within the handler of listener x, as well
        // as listener y+1 will not be called when subscribed from within the handler of listener y.
        // Array.slice(0) is the fastest array copy method according to: https://stackoverflow.com/a/21514254/370252
        var listeners = this.listeners.slice(0);
        for (var _i = 0, listeners_1 = listeners; _i < listeners_1.length; _i++) {
            var listener = listeners_1[_i];
            listener.fire(sender, args);
            if (listener.isOnce()) {
                listenersToRemove.push(listener);
            }
        }
        // Remove one-time listener
        for (var _a = 0, listenersToRemove_1 = listenersToRemove; _a < listenersToRemove_1.length; _a++) {
            var listenerToRemove = listenersToRemove_1[_a];
            arrayutils_1.ArrayUtils.remove(this.listeners, listenerToRemove);
        }
    };
    /**
     * Returns the event that this dispatcher manages and on which listeners can subscribe and unsubscribe event handlers.
     * @returns {Event}
     */
    EventDispatcher.prototype.getEvent = function () {
        // For now, just cast the event dispatcher to the event interface. At some point in the future when the
        // codebase grows, it might make sense to split the dispatcher into separate dispatcher and event classes.
        return this;
    };
    return EventDispatcher;
}());
exports.EventDispatcher = EventDispatcher;
/**
 * A basic event listener wrapper to manage listeners within the {@link EventDispatcher}. This is a 'private' class
 * for internal dispatcher use and it is therefore not exported.
 */
var EventListenerWrapper = (function () {
    function EventListenerWrapper(listener, once) {
        if (once === void 0) { once = false; }
        this.eventListener = listener;
        this.once = once;
    }
    Object.defineProperty(EventListenerWrapper.prototype, "listener", {
        /**
         * Returns the wrapped event listener.
         * @returns {EventListener<Sender, Args>}
         */
        get: function () {
            return this.eventListener;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * Fires the wrapped event listener with the given arguments.
     * @param sender
     * @param args
     */
    EventListenerWrapper.prototype.fire = function (sender, args) {
        this.eventListener(sender, args);
    };
    /**
     * Checks if this listener is scheduled to be called only once.
     * @returns {boolean} once if true
     */
    EventListenerWrapper.prototype.isOnce = function () {
        return this.once;
    };
    return EventListenerWrapper;
}());
/**
 * Extends the basic {@link EventListenerWrapper} with rate-limiting functionality.
 */
var RateLimitedEventListenerWrapper = (function (_super) {
    __extends(RateLimitedEventListenerWrapper, _super);
    function RateLimitedEventListenerWrapper(listener, rateMs) {
        var _this = _super.call(this, listener) || this;
        _this.rateMs = rateMs;
        _this.lastFireTime = 0;
        // Wrap the event listener with an event listener that does the rate-limiting
        _this.rateLimitingEventListener = function (sender, args) {
            if (Date.now() - _this.lastFireTime > _this.rateMs) {
                // Only if enough time since the previous call has passed, call the
                // actual event listener and record the current time
                _this.fireSuper(sender, args);
                _this.lastFireTime = Date.now();
            }
        };
        return _this;
    }
    RateLimitedEventListenerWrapper.prototype.fireSuper = function (sender, args) {
        // Fire the actual external event listener
        _super.prototype.fire.call(this, sender, args);
    };
    RateLimitedEventListenerWrapper.prototype.fire = function (sender, args) {
        // Fire the internal rate-limiting listener instead of the external event listener
        this.rateLimitingEventListener(sender, args);
    };
    return RateLimitedEventListenerWrapper;
}(EventListenerWrapper));


/***/ }),
/* 4 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var selectbox_1 = __webpack_require__(8);
/**
 * Base class for all subtitles settings select box
 **/
var SubtitleSettingSelectBox = (function (_super) {
    __extends(SubtitleSettingSelectBox, _super);
    function SubtitleSettingSelectBox(config) {
        var _this = _super.call(this, config) || this;
        _this.settingsManager = config.settingsManager;
        _this.overlay = config.overlay;
        return _this;
    }
    /**
     * Removes a previously set class and adds the passed in class.
     * @param cssClass The new class to replace the previous class with or null to just remove the previous class
     */
    SubtitleSettingSelectBox.prototype.toggleOverlayClass = function (cssClass) {
        // Remove previous class if existing
        if (this.currentCssClass) {
            this.overlay.getDomElement().removeClass(this.currentCssClass);
            this.currentCssClass = null;
        }
        // Add new class if specified. If the new class is null, we don't add anything.
        if (cssClass) {
            this.currentCssClass = this.prefixCss(cssClass);
            this.overlay.getDomElement().addClass(this.currentCssClass);
        }
    };
    return SubtitleSettingSelectBox;
}(selectbox_1.SelectBox));
exports.SubtitleSettingSelectBox = SubtitleSettingSelectBox;


/***/ }),
/* 5 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var button_1 = __webpack_require__(7);
var eventdispatcher_1 = __webpack_require__(3);
/**
 * A button that can be toggled between 'on' and 'off' states.
 */
var ToggleButton = (function (_super) {
    __extends(ToggleButton, _super);
    function ToggleButton(config) {
        var _this = _super.call(this, config) || this;
        _this.toggleButtonEvents = {
            onToggle: new eventdispatcher_1.EventDispatcher(),
            onToggleOn: new eventdispatcher_1.EventDispatcher(),
            onToggleOff: new eventdispatcher_1.EventDispatcher(),
        };
        var defaultConfig = {
            cssClass: 'ui-togglebutton',
            onClass: 'on',
            offClass: 'off',
        };
        _this.config = _this.mergeConfig(config, defaultConfig, _this.config);
        return _this;
    }
    ToggleButton.prototype.configure = function (player, uimanager) {
        var config = this.getConfig();
        this.getDomElement().addClass(this.prefixCss(config.offClass));
    };
    /**
     * Toggles the button to the 'on' state.
     */
    ToggleButton.prototype.on = function () {
        if (this.isOff()) {
            var config = this.getConfig();
            this.onState = true;
            this.getDomElement().removeClass(this.prefixCss(config.offClass));
            this.getDomElement().addClass(this.prefixCss(config.onClass));
            this.onToggleEvent();
            this.onToggleOnEvent();
        }
    };
    /**
     * Toggles the button to the 'off' state.
     */
    ToggleButton.prototype.off = function () {
        if (this.isOn()) {
            var config = this.getConfig();
            this.onState = false;
            this.getDomElement().removeClass(this.prefixCss(config.onClass));
            this.getDomElement().addClass(this.prefixCss(config.offClass));
            this.onToggleEvent();
            this.onToggleOffEvent();
        }
    };
    /**
     * Toggle the button 'on' if it is 'off', or 'off' if it is 'on'.
     */
    ToggleButton.prototype.toggle = function () {
        if (this.isOn()) {
            this.off();
        }
        else {
            this.on();
        }
    };
    /**
     * Checks if the toggle button is in the 'on' state.
     * @returns {boolean} true if button is 'on', false if 'off'
     */
    ToggleButton.prototype.isOn = function () {
        return this.onState;
    };
    /**
     * Checks if the toggle button is in the 'off' state.
     * @returns {boolean} true if button is 'off', false if 'on'
     */
    ToggleButton.prototype.isOff = function () {
        return !this.isOn();
    };
    ToggleButton.prototype.onClickEvent = function () {
        _super.prototype.onClickEvent.call(this);
        // Fire the toggle event together with the click event
        // (they are technically the same, only the semantics are different)
        this.onToggleEvent();
    };
    ToggleButton.prototype.onToggleEvent = function () {
        this.toggleButtonEvents.onToggle.dispatch(this);
    };
    ToggleButton.prototype.onToggleOnEvent = function () {
        this.toggleButtonEvents.onToggleOn.dispatch(this);
    };
    ToggleButton.prototype.onToggleOffEvent = function () {
        this.toggleButtonEvents.onToggleOff.dispatch(this);
    };
    Object.defineProperty(ToggleButton.prototype, "onToggle", {
        /**
         * Gets the event that is fired when the button is toggled.
         * @returns {Event<ToggleButton<Config>, NoArgs>}
         */
        get: function () {
            return this.toggleButtonEvents.onToggle.getEvent();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ToggleButton.prototype, "onToggleOn", {
        /**
         * Gets the event that is fired when the button is toggled 'on'.
         * @returns {Event<ToggleButton<Config>, NoArgs>}
         */
        get: function () {
            return this.toggleButtonEvents.onToggleOn.getEvent();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ToggleButton.prototype, "onToggleOff", {
        /**
         * Gets the event that is fired when the button is toggled 'off'.
         * @returns {Event<ToggleButton<Config>, NoArgs>}
         */
        get: function () {
            return this.toggleButtonEvents.onToggleOff.getEvent();
        },
        enumerable: true,
        configurable: true
    });
    return ToggleButton;
}(button_1.Button));
exports.ToggleButton = ToggleButton;


/***/ }),
/* 6 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var component_1 = __webpack_require__(2);
var dom_1 = __webpack_require__(1);
var eventdispatcher_1 = __webpack_require__(3);
/**
 * A simple text label.
 *
 * DOM example:
 * <code>
 *     <span class='ui-label'>...some text...</span>
 * </code>
 */
var Label = (function (_super) {
    __extends(Label, _super);
    function Label(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.labelEvents = {
            onClick: new eventdispatcher_1.EventDispatcher(),
            onTextChanged: new eventdispatcher_1.EventDispatcher(),
        };
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-label',
        }, _this.config);
        _this.text = _this.config.text;
        return _this;
    }
    Label.prototype.toDomElement = function () {
        var _this = this;
        var labelElement = new dom_1.DOM('span', {
            'id': this.config.id,
            'class': this.getCssClasses(),
        }).html(this.text);
        labelElement.on('click', function () {
            _this.onClickEvent();
        });
        return labelElement;
    };
    /**
     * Set the text on this label.
     * @param text
     */
    Label.prototype.setText = function (text) {
        this.text = text;
        this.getDomElement().html(text);
        this.onTextChangedEvent(text);
    };
    /**
     * Gets the text on this label.
     * @return {string} The text on the label
     */
    Label.prototype.getText = function () {
        return this.text;
    };
    /**
     * Clears the text on this label.
     */
    Label.prototype.clearText = function () {
        this.getDomElement().html('');
        this.onTextChangedEvent(null);
    };
    /**
     * Tests if the label is empty and does not contain any text.
     * @return {boolean} True if the label is empty, else false
     */
    Label.prototype.isEmpty = function () {
        return !this.text;
    };
    /**
     * Fires the {@link #onClick} event.
     * Can be used by subclasses to listen to this event without subscribing an event listener by overwriting the method
     * and calling the super method.
     */
    Label.prototype.onClickEvent = function () {
        this.labelEvents.onClick.dispatch(this);
    };
    /**
     * Fires the {@link #onClick} event.
     * Can be used by subclasses to listen to this event without subscribing an event listener by overwriting the method
     * and calling the super method.
     */
    Label.prototype.onTextChangedEvent = function (text) {
        this.labelEvents.onTextChanged.dispatch(this, text);
    };
    Object.defineProperty(Label.prototype, "onClick", {
        /**
         * Gets the event that is fired when the label is clicked.
         * @returns {Event<Label<LabelConfig>, NoArgs>}
         */
        get: function () {
            return this.labelEvents.onClick.getEvent();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(Label.prototype, "onTextChanged", {
        /**
         * Gets the event that is fired when the text on the label is changed.
         * @returns {Event<Label<LabelConfig>, string>}
         */
        get: function () {
            return this.labelEvents.onTextChanged.getEvent();
        },
        enumerable: true,
        configurable: true
    });
    return Label;
}(component_1.Component));
exports.Label = Label;


/***/ }),
/* 7 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var component_1 = __webpack_require__(2);
var dom_1 = __webpack_require__(1);
var eventdispatcher_1 = __webpack_require__(3);
/**
 * A simple clickable button.
 */
var Button = (function (_super) {
    __extends(Button, _super);
    function Button(config) {
        var _this = _super.call(this, config) || this;
        _this.buttonEvents = {
            onClick: new eventdispatcher_1.EventDispatcher(),
        };
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-button',
        }, _this.config);
        return _this;
    }
    Button.prototype.toDomElement = function () {
        var _this = this;
        // Create the button element with the text label
        var buttonElement = new dom_1.DOM('button', {
            'type': 'button',
            'id': this.config.id,
            'class': this.getCssClasses(),
        }).append(new dom_1.DOM('span', {
            'class': this.prefixCss('label'),
        }).html(this.config.text));
        // Listen for the click event on the button element and trigger the corresponding event on the button component
        buttonElement.on('click', function () {
            _this.onClickEvent();
        });
        return buttonElement;
    };
    /**
     * Sets text on the label of the button.
     * @param text the text to put into the label of the button
     */
    Button.prototype.setText = function (text) {
        this.getDomElement().find('.' + this.prefixCss('label')).html(text);
    };
    Button.prototype.onClickEvent = function () {
        this.buttonEvents.onClick.dispatch(this);
    };
    Object.defineProperty(Button.prototype, "onClick", {
        /**
         * Gets the event that is fired when the button is clicked.
         * @returns {Event<Button<Config>, NoArgs>}
         */
        get: function () {
            return this.buttonEvents.onClick.getEvent();
        },
        enumerable: true,
        configurable: true
    });
    return Button;
}(component_1.Component));
exports.Button = Button;


/***/ }),
/* 8 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var listselector_1 = __webpack_require__(33);
var dom_1 = __webpack_require__(1);
/**
 * A simple select box providing the possibility to select a single item out of a list of available items.
 *
 * DOM example:
 * <code>
 *     <select class='ui-selectbox'>
 *         <option value='key'>label</option>
 *         ...
 *     </select>
 * </code>
 */
var SelectBox = (function (_super) {
    __extends(SelectBox, _super);
    function SelectBox(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-selectbox',
        }, _this.config);
        return _this;
    }
    SelectBox.prototype.toDomElement = function () {
        var _this = this;
        var selectElement = new dom_1.DOM('select', {
            'id': this.config.id,
            'class': this.getCssClasses(),
        });
        this.selectElement = selectElement;
        this.updateDomItems();
        selectElement.on('change', function () {
            var value = selectElement.val();
            _this.onItemSelectedEvent(value, false);
        });
        return selectElement;
    };
    SelectBox.prototype.updateDomItems = function (selectedValue) {
        if (selectedValue === void 0) { selectedValue = null; }
        // Delete all children
        this.selectElement.empty();
        // Add updated children
        for (var _i = 0, _a = this.items; _i < _a.length; _i++) {
            var item = _a[_i];
            var optionElement = new dom_1.DOM('option', {
                'value': item.key,
            }).html(item.label);
            if (item.key === String(selectedValue)) {
                optionElement.attr('selected', 'selected');
            }
            this.selectElement.append(optionElement);
        }
    };
    SelectBox.prototype.onItemAddedEvent = function (value) {
        _super.prototype.onItemAddedEvent.call(this, value);
        this.updateDomItems(this.selectedItem);
    };
    SelectBox.prototype.onItemRemovedEvent = function (value) {
        _super.prototype.onItemRemovedEvent.call(this, value);
        this.updateDomItems(this.selectedItem);
    };
    SelectBox.prototype.onItemSelectedEvent = function (value, updateDomItems) {
        if (updateDomItems === void 0) { updateDomItems = true; }
        _super.prototype.onItemSelectedEvent.call(this, value);
        if (updateDomItems) {
            this.updateDomItems(value);
        }
    };
    return SelectBox;
}(listselector_1.ListSelector));
exports.SelectBox = SelectBox;


/***/ }),
/* 9 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
// TODO change to internal (not exported) class, how to use in other files?
/**
 * Executes a callback after a specified amount of time, optionally repeatedly until stopped.
 */
var Timeout = (function () {
    /**
     * Creates a new timeout callback handler.
     * @param delay the delay in milliseconds after which the callback should be executed
     * @param callback the callback to execute after the delay time
     * @param repeat if true, call the callback repeatedly in delay intervals
     */
    function Timeout(delay, callback, repeat) {
        if (repeat === void 0) { repeat = false; }
        this.delay = delay;
        this.callback = callback;
        this.repeat = repeat;
        this.timeoutHandle = 0;
    }
    /**
     * Starts the timeout and calls the callback when the timeout delay has passed.
     * @returns {Timeout} the current timeout (so the start call can be chained to the constructor)
     */
    Timeout.prototype.start = function () {
        this.reset();
        return this;
    };
    /**
     * Clears the timeout. The callback will not be called if clear is called during the timeout.
     */
    Timeout.prototype.clear = function () {
        this.clearInternal();
    };
    /**
     * Resets the passed timeout delay to zero. Can be used to defer the calling of the callback.
     */
    Timeout.prototype.reset = function () {
        var _this = this;
        var lastScheduleTime = 0;
        var delayAdjust = 0;
        this.clearInternal();
        var internalCallback = function () {
            _this.callback();
            if (_this.repeat) {
                var now = Date.now();
                // The time of one iteration from scheduling to executing the callback (usually a bit longer than the delay
                // time)
                var delta = now - lastScheduleTime;
                // Calculate the delay adjustment for the next schedule to keep a steady delay interval over time
                delayAdjust = _this.delay - delta + delayAdjust;
                lastScheduleTime = now;
                // Schedule next execution by the adjusted delay
                _this.timeoutHandle = setTimeout(internalCallback, _this.delay + delayAdjust);
            }
        };
        lastScheduleTime = Date.now();
        this.timeoutHandle = setTimeout(internalCallback, this.delay);
    };
    Timeout.prototype.clearInternal = function () {
        clearTimeout(this.timeoutHandle);
    };
    return Timeout;
}());
exports.Timeout = Timeout;


/***/ }),
/* 10 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var StringUtils;
(function (StringUtils) {
    StringUtils.FORMAT_HHMMSS = 'hh:mm:ss';
    StringUtils.FORMAT_MMSS = 'mm:ss';
    /**
     * Formats a number of seconds into a time string with the pattern hh:mm:ss.
     *
     * @param totalSeconds the total number of seconds to format to string
     * @param format the time format to output (default: hh:mm:ss)
     * @returns {string} the formatted time string
     */
    function secondsToTime(totalSeconds, format) {
        if (format === void 0) { format = StringUtils.FORMAT_HHMMSS; }
        var isNegative = totalSeconds < 0;
        if (isNegative) {
            // If the time is negative, we make it positive for the calculation below
            // (else we'd get all negative numbers) and reattach the negative sign later.
            totalSeconds = -totalSeconds;
        }
        // Split into separate time parts
        var hours = Math.floor(totalSeconds / 3600);
        var minutes = Math.floor(totalSeconds / 60) - hours * 60;
        var seconds = Math.floor(totalSeconds) % 60;
        return (isNegative ? '-' : '') + format
            .replace('hh', leftPadWithZeros(hours, 2))
            .replace('mm', leftPadWithZeros(minutes, 2))
            .replace('ss', leftPadWithZeros(seconds, 2));
    }
    StringUtils.secondsToTime = secondsToTime;
    /**
     * Converts a number to a string and left-pads it with zeros to the specified length.
     * Example: leftPadWithZeros(123, 5) => '00123'
     *
     * @param num the number to convert to string and pad with zeros
     * @param length the desired length of the padded string
     * @returns {string} the padded number as string
     */
    function leftPadWithZeros(num, length) {
        var text = num + '';
        var padding = '0000000000'.substr(0, length - text.length);
        return padding + text;
    }
    /**
     * Fills out placeholders in an ad message.
     *
     * Has the placeholders '{remainingTime[formatString]}', '{playedTime[formatString]}' and
     * '{adDuration[formatString]}', which are replaced by the remaining time until the ad can be skipped, the current
     * time or the ad duration. The format string is optional. If not specified, the placeholder is replaced by the time
     * in seconds. If specified, it must be of the following format:
     * - %d - Inserts the time as an integer.
     * - %0Nd - Inserts the time as an integer with leading zeroes, if the length of the time string is smaller than N.
     * - %f - Inserts the time as a float.
     * - %0Nf - Inserts the time as a float with leading zeroes.
     * - %.Mf - Inserts the time as a float with M decimal places. Can be combined with %0Nf, e.g. %04.2f (the time
     * 10.123
     * would be printed as 0010.12).
     * - %hh:mm:ss
     * - %mm:ss
     *
     * @param adMessage an ad message with optional placeholders to fill
     * @param skipOffset if specified, {remainingTime} will be filled with the remaining time until the ad can be skipped
     * @param player the player to get the time data from
     * @returns {string} the ad message with filled placeholders
     */
    function replaceAdMessagePlaceholders(adMessage, skipOffset, player) {
        var adMessagePlaceholderRegex = new RegExp('\\{(remainingTime|playedTime|adDuration)(}|%((0[1-9]\\d*(\\.\\d+(d|f)|d|f)|\\.\\d+f|d|f)|hh:mm:ss|mm:ss)})', 'g');
        return adMessage.replace(adMessagePlaceholderRegex, function (formatString) {
            var time = 0;
            if (formatString.indexOf('remainingTime') > -1) {
                if (skipOffset) {
                    time = Math.ceil(skipOffset - player.getCurrentTime());
                }
                else {
                    time = player.getDuration() - player.getCurrentTime();
                }
            }
            else if (formatString.indexOf('playedTime') > -1) {
                time = player.getCurrentTime();
            }
            else if (formatString.indexOf('adDuration') > -1) {
                time = player.getDuration();
            }
            return formatNumber(time, formatString);
        });
    }
    StringUtils.replaceAdMessagePlaceholders = replaceAdMessagePlaceholders;
    function formatNumber(time, format) {
        var formatStringValidationRegex = /%((0[1-9]\d*(\.\d+(d|f)|d|f)|\.\d+f|d|f)|hh:mm:ss|mm:ss)/;
        var leadingZeroesRegex = /(%0[1-9]\d*)(?=(\.\d+f|f|d))/;
        var decimalPlacesRegex = /\.\d*(?=f)/;
        if (!formatStringValidationRegex.test(format)) {
            // If the format is invalid, we set a default fallback format
            format = '%d';
        }
        // Determine the number of leading zeros
        var leadingZeroes = 0;
        var leadingZeroesMatches = format.match(leadingZeroesRegex);
        if (leadingZeroesMatches) {
            leadingZeroes = parseInt(leadingZeroesMatches[0].substring(2));
        }
        // Determine the number of decimal places
        var numDecimalPlaces = null;
        var decimalPlacesMatches = format.match(decimalPlacesRegex);
        if (decimalPlacesMatches && !isNaN(parseInt(decimalPlacesMatches[0].substring(1)))) {
            numDecimalPlaces = parseInt(decimalPlacesMatches[0].substring(1));
            if (numDecimalPlaces > 20) {
                numDecimalPlaces = 20;
            }
        }
        // Float format
        if (format.indexOf('f') > -1) {
            var timeString = '';
            if (numDecimalPlaces !== null) {
                // Apply fixed number of decimal places
                timeString = time.toFixed(numDecimalPlaces);
            }
            else {
                timeString = '' + time;
            }
            // Apply leading zeros
            if (timeString.indexOf('.') > -1) {
                return leftPadWithZeros(timeString, timeString.length + (leadingZeroes - timeString.indexOf('.')));
            }
            else {
                return leftPadWithZeros(timeString, leadingZeroes);
            }
        }
        else if (format.indexOf(':') > -1) {
            var totalSeconds = Math.ceil(time);
            // hh:mm:ss format
            if (format.indexOf('hh') > -1) {
                return secondsToTime(totalSeconds);
            }
            else {
                var minutes = Math.floor(totalSeconds / 60);
                var seconds = totalSeconds % 60;
                return leftPadWithZeros(minutes, 2) + ':' + leftPadWithZeros(seconds, 2);
            }
        }
        else {
            return leftPadWithZeros(Math.ceil(time), leadingZeroes);
        }
    }
})(StringUtils = exports.StringUtils || (exports.StringUtils = {}));


/***/ }),
/* 11 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var ArrayUtils;
(function (ArrayUtils) {
    /**
     * Removes an item from an array.
     * @param array the array that may contain the item to remove
     * @param item the item to remove from the array
     * @returns {any} the removed item or null if it wasn't part of the array
     */
    function remove(array, item) {
        var index = array.indexOf(item);
        if (index > -1) {
            return array.splice(index, 1)[0];
        }
        else {
            return null;
        }
    }
    ArrayUtils.remove = remove;
})(ArrayUtils = exports.ArrayUtils || (exports.ArrayUtils = {}));


/***/ }),
/* 12 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var eventdispatcher_1 = __webpack_require__(3);
var browserutils_1 = __webpack_require__(15);
var PlayerUtils;
(function (PlayerUtils) {
    var PlayerState;
    (function (PlayerState) {
        PlayerState[PlayerState["IDLE"] = 0] = "IDLE";
        PlayerState[PlayerState["PREPARED"] = 1] = "PREPARED";
        PlayerState[PlayerState["PLAYING"] = 2] = "PLAYING";
        PlayerState[PlayerState["PAUSED"] = 3] = "PAUSED";
        PlayerState[PlayerState["FINISHED"] = 4] = "FINISHED";
    })(PlayerState = PlayerUtils.PlayerState || (PlayerUtils.PlayerState = {}));
    function isTimeShiftAvailable(player) {
        return player.isLive() && player.getMaxTimeShift() !== 0;
    }
    PlayerUtils.isTimeShiftAvailable = isTimeShiftAvailable;
    function getState(player) {
        if (player.hasEnded()) {
            return PlayerState.FINISHED;
        }
        else if (player.isPlaying()) {
            return PlayerState.PLAYING;
        }
        else if (player.isPaused()) {
            return PlayerState.PAUSED;
        }
        else if (player.isReady()) {
            return PlayerState.PREPARED;
        }
        else {
            return PlayerState.IDLE;
        }
    }
    PlayerUtils.getState = getState;
    var TimeShiftAvailabilityDetector = (function () {
        function TimeShiftAvailabilityDetector(player) {
            var _this = this;
            this.timeShiftAvailabilityChangedEvent = new eventdispatcher_1.EventDispatcher();
            this.player = player;
            this.timeShiftAvailable = undefined;
            var timeShiftDetector = function () {
                _this.detect();
            };
            // Try to detect timeshift availability in ON_READY, which works for DASH streams
            player.addEventHandler(player.EVENT.ON_READY, timeShiftDetector);
            // With HLS/NativePlayer streams, getMaxTimeShift can be 0 before the buffer fills, so we need to additionally
            // check timeshift availability in ON_TIME_CHANGED
            player.addEventHandler(player.EVENT.ON_TIME_CHANGED, timeShiftDetector);
        }
        TimeShiftAvailabilityDetector.prototype.detect = function () {
            if (this.player.isLive()) {
                var timeShiftAvailableNow = PlayerUtils.isTimeShiftAvailable(this.player);
                // When the availability changes, we fire the event
                if (timeShiftAvailableNow !== this.timeShiftAvailable) {
                    this.timeShiftAvailabilityChangedEvent.dispatch(this.player, { timeShiftAvailable: timeShiftAvailableNow });
                    this.timeShiftAvailable = timeShiftAvailableNow;
                }
            }
        };
        Object.defineProperty(TimeShiftAvailabilityDetector.prototype, "onTimeShiftAvailabilityChanged", {
            get: function () {
                return this.timeShiftAvailabilityChangedEvent.getEvent();
            },
            enumerable: true,
            configurable: true
        });
        return TimeShiftAvailabilityDetector;
    }());
    PlayerUtils.TimeShiftAvailabilityDetector = TimeShiftAvailabilityDetector;
    /**
     * Detects changes of the stream type, i.e. changes of the return value of the player#isLive method.
     * Normally, a stream cannot change its type during playback, it's either VOD or live. Due to bugs on some
     * platforms or browsers, it can still change. It is therefore unreliable to just check #isLive and this detector
     * should be used as a workaround instead.
     *
     * Known cases:
     *
     * - HLS VOD on Android 4.3
     * Video duration is initially 'Infinity' and only gets available after playback starts, so streams are wrongly
     * reported as 'live' before playback (the live-check in the player checks for infinite duration).
     */
    var LiveStreamDetector = (function () {
        function LiveStreamDetector(player) {
            var _this = this;
            this.liveChangedEvent = new eventdispatcher_1.EventDispatcher();
            this.player = player;
            this.live = undefined;
            var liveDetector = function () {
                _this.detect();
            };
            // Initialize when player is ready
            player.addEventHandler(player.EVENT.ON_READY, liveDetector);
            // Re-evaluate when playback starts
            player.addEventHandler(player.EVENT.ON_PLAY, liveDetector);
            // HLS live detection workaround for Android:
            // Also re-evaluate during playback, because that is when the live flag might change.
            // (Doing it only in Android Chrome saves unnecessary overhead on other plattforms)
            if (browserutils_1.BrowserUtils.isAndroid && browserutils_1.BrowserUtils.isChrome) {
                player.addEventHandler(player.EVENT.ON_TIME_CHANGED, liveDetector);
            }
        }
        LiveStreamDetector.prototype.detect = function () {
            var liveNow = this.player.isLive();
            // Compare current to previous live state flag and fire event when it changes. Since we initialize the flag
            // with undefined, there is always at least an initial event fired that tells listeners the live state.
            if (liveNow !== this.live) {
                this.liveChangedEvent.dispatch(this.player, { live: liveNow });
                this.live = liveNow;
            }
        };
        Object.defineProperty(LiveStreamDetector.prototype, "onLiveChanged", {
            get: function () {
                return this.liveChangedEvent.getEvent();
            },
            enumerable: true,
            configurable: true
        });
        return LiveStreamDetector;
    }());
    PlayerUtils.LiveStreamDetector = LiveStreamDetector;
})(PlayerUtils = exports.PlayerUtils || (exports.PlayerUtils = {}));


/***/ }),
/* 13 */
/***/ (function(module, exports) {

module.exports = angular;

/***/ }),
/* 14 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var container_1 = __webpack_require__(0);
var dom_1 = __webpack_require__(1);
var timeout_1 = __webpack_require__(9);
var playerutils_1 = __webpack_require__(12);
/**
 * The base container that contains all of the UI. The UIContainer is passed to the {@link UIManager} to build and
 * setup the UI.
 */
var UIContainer = (function (_super) {
    __extends(UIContainer, _super);
    function UIContainer(config) {
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-uicontainer',
            hideDelay: 5000,
        }, _this.config);
        return _this;
    }
    UIContainer.prototype.configure = function (player, uimanager) {
        _super.prototype.configure.call(this, player, uimanager);
        this.configureUIShowHide(player, uimanager);
        this.configurePlayerStates(player, uimanager);
    };
    UIContainer.prototype.configureUIShowHide = function (player, uimanager) {
        var _this = this;
        var container = this.getDomElement();
        var config = this.getConfig();
        if (config.hideDelay === -1) {
            uimanager.onConfigured.subscribe(function () { return uimanager.onControlsShow.dispatch(_this); });
            return;
        }
        var isUiShown = false;
        var isSeeking = false;
        var isFirstTouch = true;
        var showUi = function () {
            if (!isUiShown) {
                // Let subscribers know that they should reveal themselves
                uimanager.onControlsShow.dispatch(_this);
                isUiShown = true;
            }
            // Don't trigger timeout while seeking (it will be triggered once the seek is finished) or casting
            if (!isSeeking && !player.isCasting()) {
                _this.uiHideTimeout.start();
            }
        };
        var hideUi = function () {
            // Hide the UI only if it is shown, and if not casting
            if (isUiShown && !player.isCasting()) {
                // Issue a preview event to check if we are good to hide the controls
                var previewHideEventArgs = {};
                uimanager.onPreviewControlsHide.dispatch(_this, previewHideEventArgs);
                if (!previewHideEventArgs.cancel) {
                    // If the preview wasn't canceled, let subscribers know that they should now hide themselves
                    uimanager.onControlsHide.dispatch(_this);
                    isUiShown = false;
                }
                else {
                    // If the hide preview was canceled, continue to show UI
                    showUi();
                }
            }
        };
        // Timeout to defer UI hiding by the configured delay time
        this.uiHideTimeout = new timeout_1.Timeout(config.hideDelay, hideUi);
        // On touch displays, the first touch reveals the UI
        container.on('touchend', function (e) {
            if (!isUiShown) {
                // Only if the UI is hidden, we prevent other actions (except for the first touch) and reveal the UI instead.
                // The first touch is not prevented to let other listeners receive the event and trigger an initial action, e.g.
                // the huge playback button can directly start playback instead of requiring a double tap which 1. reveals
                // the UI and 2. starts playback.
                if (isFirstTouch) {
                    isFirstTouch = false;
                }
                else {
                    e.preventDefault();
                }
                showUi();
            }
        });
        // When the mouse enters, we show the UI
        container.on('mouseenter', function () {
            showUi();
        });
        // When the mouse moves within, we show the UI
        container.on('mousemove', function () {
            showUi();
        });
        // When the mouse leaves, we can prepare to hide the UI, except a seek is going on
        container.on('mouseleave', function () {
            // When a seek is going on, the seek scrub pointer may exit the UI area while still seeking, and we do not hide
            // the UI in such cases
            if (!isSeeking) {
                _this.uiHideTimeout.start();
            }
        });
        uimanager.onSeek.subscribe(function () {
            _this.uiHideTimeout.clear(); // Don't hide UI while a seek is in progress
            isSeeking = true;
        });
        uimanager.onSeeked.subscribe(function () {
            isSeeking = false;
            _this.uiHideTimeout.start(); // Re-enable UI hide timeout after a seek
        });
        player.addEventHandler(player.EVENT.ON_CAST_STARTED, function () {
            showUi(); // Show UI when a Cast session has started (UI will then stay permanently on during the session)
        });
    };
    UIContainer.prototype.configurePlayerStates = function (player, uimanager) {
        var _this = this;
        var container = this.getDomElement();
        // Convert player states into CSS class names
        var stateClassNames = [];
        for (var state in playerutils_1.PlayerUtils.PlayerState) {
            if (isNaN(Number(state))) {
                var enumName = playerutils_1.PlayerUtils.PlayerState[playerutils_1.PlayerUtils.PlayerState[state]];
                stateClassNames[playerutils_1.PlayerUtils.PlayerState[state]] =
                    this.prefixCss(UIContainer.STATE_PREFIX + enumName.toLowerCase());
            }
        }
        var removeStates = function () {
            container.removeClass(stateClassNames[playerutils_1.PlayerUtils.PlayerState.IDLE]);
            container.removeClass(stateClassNames[playerutils_1.PlayerUtils.PlayerState.PREPARED]);
            container.removeClass(stateClassNames[playerutils_1.PlayerUtils.PlayerState.PLAYING]);
            container.removeClass(stateClassNames[playerutils_1.PlayerUtils.PlayerState.PAUSED]);
            container.removeClass(stateClassNames[playerutils_1.PlayerUtils.PlayerState.FINISHED]);
        };
        player.addEventHandler(player.EVENT.ON_READY, function () {
            removeStates();
            container.addClass(stateClassNames[playerutils_1.PlayerUtils.PlayerState.PREPARED]);
        });
        player.addEventHandler(player.EVENT.ON_PLAY, function () {
            removeStates();
            container.addClass(stateClassNames[playerutils_1.PlayerUtils.PlayerState.PLAYING]);
        });
        player.addEventHandler(player.EVENT.ON_PAUSED, function () {
            removeStates();
            container.addClass(stateClassNames[playerutils_1.PlayerUtils.PlayerState.PAUSED]);
        });
        player.addEventHandler(player.EVENT.ON_PLAYBACK_FINISHED, function () {
            removeStates();
            container.addClass(stateClassNames[playerutils_1.PlayerUtils.PlayerState.FINISHED]);
        });
        player.addEventHandler(player.EVENT.ON_SOURCE_UNLOADED, function () {
            removeStates();
            container.addClass(stateClassNames[playerutils_1.PlayerUtils.PlayerState.IDLE]);
        });
        // Init in current player state
        container.addClass(stateClassNames[playerutils_1.PlayerUtils.getState(player)]);
        // Fullscreen marker class
        player.addEventHandler(player.EVENT.ON_FULLSCREEN_ENTER, function () {
            container.addClass(_this.prefixCss(UIContainer.FULLSCREEN));
        });
        player.addEventHandler(player.EVENT.ON_FULLSCREEN_EXIT, function () {
            container.removeClass(_this.prefixCss(UIContainer.FULLSCREEN));
        });
        // Init fullscreen state
        if (player.isFullscreen()) {
            container.addClass(this.prefixCss(UIContainer.FULLSCREEN));
        }
        // Buffering marker class
        player.addEventHandler(player.EVENT.ON_STALL_STARTED, function () {
            container.addClass(_this.prefixCss(UIContainer.BUFFERING));
        });
        player.addEventHandler(player.EVENT.ON_STALL_ENDED, function () {
            container.removeClass(_this.prefixCss(UIContainer.BUFFERING));
        });
        // Init buffering state
        if (player.isStalled()) {
            container.addClass(this.prefixCss(UIContainer.BUFFERING));
        }
        // RemoteControl marker class
        player.addEventHandler(player.EVENT.ON_CAST_STARTED, function () {
            container.addClass(_this.prefixCss(UIContainer.REMOTE_CONTROL));
        });
        player.addEventHandler(player.EVENT.ON_CAST_STOPPED, function () {
            container.removeClass(_this.prefixCss(UIContainer.REMOTE_CONTROL));
        });
        // Init RemoteControl state
        if (player.isCasting()) {
            container.addClass(this.prefixCss(UIContainer.REMOTE_CONTROL));
        }
        // Controls visibility marker class
        uimanager.onControlsShow.subscribe(function () {
            container.removeClass(_this.prefixCss(UIContainer.CONTROLS_HIDDEN));
            container.addClass(_this.prefixCss(UIContainer.CONTROLS_SHOWN));
        });
        uimanager.onControlsHide.subscribe(function () {
            container.removeClass(_this.prefixCss(UIContainer.CONTROLS_SHOWN));
            container.addClass(_this.prefixCss(UIContainer.CONTROLS_HIDDEN));
        });
        // Layout size classes
        var updateLayoutSizeClasses = function (width, height) {
            container.removeClass(_this.prefixCss('layout-max-width-400'));
            container.removeClass(_this.prefixCss('layout-max-width-600'));
            container.removeClass(_this.prefixCss('layout-max-width-800'));
            container.removeClass(_this.prefixCss('layout-max-width-1200'));
            if (width <= 400) {
                container.addClass(_this.prefixCss('layout-max-width-400'));
            }
            else if (width <= 600) {
                container.addClass(_this.prefixCss('layout-max-width-600'));
            }
            else if (width <= 800) {
                container.addClass(_this.prefixCss('layout-max-width-800'));
            }
            else if (width <= 1200) {
                container.addClass(_this.prefixCss('layout-max-width-1200'));
            }
        };
        player.addEventHandler(player.EVENT.ON_PLAYER_RESIZE, function (e) {
            // Convert strings (with "px" suffix) to ints
            var width = Math.round(Number(e.width.substring(0, e.width.length - 2)));
            var height = Math.round(Number(e.height.substring(0, e.height.length - 2)));
            updateLayoutSizeClasses(width, height);
        });
        // Init layout state
        updateLayoutSizeClasses(new dom_1.DOM(player.getFigure()).width(), new dom_1.DOM(player.getFigure()).height());
    };
    UIContainer.prototype.release = function () {
        _super.prototype.release.call(this);
        this.uiHideTimeout.clear();
    };
    UIContainer.prototype.toDomElement = function () {
        var container = _super.prototype.toDomElement.call(this);
        // Detect flexbox support (not supported in IE9)
        if (document && typeof document.createElement('p').style.flex !== 'undefined') {
            container.addClass(this.prefixCss('flexbox'));
        }
        else {
            container.addClass(this.prefixCss('no-flexbox'));
        }
        return container;
    };
    return UIContainer;
}(container_1.Container));
UIContainer.STATE_PREFIX = 'player-state-';
UIContainer.FULLSCREEN = 'fullscreen';
UIContainer.BUFFERING = 'buffering';
UIContainer.REMOTE_CONTROL = 'remote-control';
UIContainer.CONTROLS_SHOWN = 'controls-shown';
UIContainer.CONTROLS_HIDDEN = 'controls-hidden';
exports.UIContainer = UIContainer;


/***/ }),
/* 15 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var BrowserUtils;
(function (BrowserUtils) {
    // isMobile only needs to be evaluated once (it cannot change during a browser session)
    // Mobile detection according to Mozilla recommendation: "In summary, we recommend looking for the string “Mobi”
    // anywhere in the User Agent to detect a mobile device."
    // https://developer.mozilla.org/en-US/docs/Web/HTTP/Browser_detection_using_the_user_agent
    BrowserUtils.isMobile = navigator && navigator.userAgent && /Mobi/.test(navigator.userAgent);
    BrowserUtils.isChrome = navigator && navigator.userAgent && /Chrome/.test(navigator.userAgent);
    BrowserUtils.isAndroid = navigator && navigator.userAgent && /Android/.test(navigator.userAgent);
})(BrowserUtils = exports.BrowserUtils || (exports.BrowserUtils = {}));


/***/ }),
/* 16 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var togglebutton_1 = __webpack_require__(5);
var playerutils_1 = __webpack_require__(12);
/**
 * A button that toggles between playback and pause.
 */
var PlaybackToggleButton = (function (_super) {
    __extends(PlaybackToggleButton, _super);
    function PlaybackToggleButton(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-playbacktogglebutton',
            text: 'Play/Pause',
        }, _this.config);
        return _this;
    }
    PlaybackToggleButton.prototype.configure = function (player, uimanager, handleClickEvent) {
        var _this = this;
        if (handleClickEvent === void 0) { handleClickEvent = true; }
        _super.prototype.configure.call(this, player, uimanager);
        var isSeeking = false;
        // Handler to update button state based on player state
        var playbackStateHandler = function (event) {
            // If the UI is currently seeking, playback is temporarily stopped but the buttons should
            // not reflect that and stay as-is (e.g indicate playback while seeking).
            if (isSeeking) {
                return;
            }
            if (player.isPlaying()) {
                _this.on();
            }
            else {
                _this.off();
            }
        };
        // Call handler upon these events
        player.addEventHandler(player.EVENT.ON_PLAY, playbackStateHandler);
        player.addEventHandler(player.EVENT.ON_PAUSED, playbackStateHandler);
        if (player.EVENT.ON_PLAYING) {
            // Since player 7.3. Not really necessary but just in case we ever miss the ON_PLAY event.
            player.addEventHandler(player.EVENT.ON_PLAYING, playbackStateHandler);
        }
        // after unloading + loading a new source, the player might be in a different playing state (from playing into stopped)
        player.addEventHandler(player.EVENT.ON_SOURCE_LOADED, playbackStateHandler);
        player.addEventHandler(player.EVENT.ON_SOURCE_UNLOADED, playbackStateHandler);
        // when playback finishes, player turns to paused mode
        player.addEventHandler(player.EVENT.ON_PLAYBACK_FINISHED, playbackStateHandler);
        player.addEventHandler(player.EVENT.ON_CAST_STARTED, playbackStateHandler);
        player.addEventHandler(player.EVENT.ON_CAST_PLAYING, playbackStateHandler);
        player.addEventHandler(player.EVENT.ON_CAST_PAUSED, playbackStateHandler);
        player.addEventHandler(player.EVENT.ON_CAST_PLAYBACK_FINISHED, playbackStateHandler);
        // When a playback attempt is rejected with warning 5008, we switch the button state back to off
        // This is required for blocked autoplay, because there is no ON_PAUSED event in such case
        player.addEventHandler(player.EVENT.ON_WARNING, function (event) {
            if (event.code === 5008) {
                _this.off();
            }
        });
        // Detect absence of timeshifting on live streams and add tagging class to convert button icons to play/stop
        var timeShiftDetector = new playerutils_1.PlayerUtils.TimeShiftAvailabilityDetector(player);
        timeShiftDetector.onTimeShiftAvailabilityChanged.subscribe(function (sender, args) {
            if (!args.timeShiftAvailable) {
                _this.getDomElement().addClass(_this.prefixCss(PlaybackToggleButton.CLASS_STOPTOGGLE));
            }
            else {
                _this.getDomElement().removeClass(_this.prefixCss(PlaybackToggleButton.CLASS_STOPTOGGLE));
            }
        });
        timeShiftDetector.detect(); // Initial detection
        if (handleClickEvent) {
            // Control player by button events
            // When a button event triggers a player API call, events are fired which in turn call the event handler
            // above that updated the button state.
            this.onClick.subscribe(function () {
                if (player.isPlaying()) {
                    player.pause('ui');
                }
                else {
                    player.play('ui');
                }
            });
        }
        // Track UI seeking status
        uimanager.onSeek.subscribe(function () {
            isSeeking = true;
        });
        uimanager.onSeeked.subscribe(function () {
            isSeeking = false;
        });
        // Startup init
        playbackStateHandler(null);
    };
    return PlaybackToggleButton;
}(togglebutton_1.ToggleButton));
PlaybackToggleButton.CLASS_STOPTOGGLE = 'stoptoggle';
exports.PlaybackToggleButton = PlaybackToggleButton;


/***/ }),
/* 17 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var togglebutton_1 = __webpack_require__(5);
/**
 * A button that toggles audio muting.
 */
var VolumeToggleButton = (function (_super) {
    __extends(VolumeToggleButton, _super);
    function VolumeToggleButton(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        var defaultConfig = {
            cssClass: 'ui-volumetogglebutton',
            text: 'Volume/Mute',
            onClass: 'muted',
            offClass: 'unmuted',
        };
        _this.config = _this.mergeConfig(config, defaultConfig, _this.config);
        return _this;
    }
    VolumeToggleButton.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        var muteStateHandler = function () {
            if (player.isMuted()) {
                _this.on();
                // When the volume is unmuted and the volume level is veeeery low, we increase it to 10%. This especially helps
                // in the case when the volume is first turned down to 0 and then the player is muted; when the player gets
                // unmuted it would switch to volume level 0 which would seem like unmuting did not work, and increasing the
                // level a bit helps to overcome this issue.
                if (player.getVolume() < 10) {
                    player.setVolume(10);
                }
            }
            else {
                _this.off();
            }
        };
        var volumeLevelHandler = function () {
            var volumeLevelTens = Math.ceil(player.getVolume() / 10);
            _this.getDomElement().data(_this.prefixCss('volume-level-tens'), String(volumeLevelTens));
            // When the volume is turned down to zero, switch into the mute state of the button. This avoids the usability
            // issue where the volume is turned down to zero, the button shows the muted icon but is not really unmuted, and
            // the next button press would switch it into the mute state, visually staying the same which would seem like
            // an expected unmute did not work.
            if (volumeLevelTens === 0) {
                _this.off();
            }
        };
        player.addEventHandler(player.EVENT.ON_MUTED, muteStateHandler);
        player.addEventHandler(player.EVENT.ON_UNMUTED, muteStateHandler);
        player.addEventHandler(player.EVENT.ON_VOLUME_CHANGED, volumeLevelHandler);
        this.onClick.subscribe(function () {
            if (player.isMuted()) {
                player.unmute('ui-volumetogglebutton');
            }
            else {
                player.mute('ui-volumetogglebutton');
            }
        });
        // Startup init
        muteStateHandler();
        volumeLevelHandler();
    };
    return VolumeToggleButton;
}(togglebutton_1.ToggleButton));
exports.VolumeToggleButton = VolumeToggleButton;


/***/ }),
/* 18 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var component_1 = __webpack_require__(2);
var dom_1 = __webpack_require__(1);
var eventdispatcher_1 = __webpack_require__(3);
var timeout_1 = __webpack_require__(9);
var playerutils_1 = __webpack_require__(12);
/**
 * A seek bar to seek within the player's media. It displays the current playback position, amount of buffed data, seek
 * target, and keeps status about an ongoing seek.
 *
 * The seek bar displays different 'bars':
 *  - the playback position, i.e. the position in the media at which the player current playback pointer is positioned
 *  - the buffer position, which usually is the playback position plus the time span that is already buffered ahead
 *  - the seek position, used to preview to where in the timeline a seek will jump to
 */
var SeekBar = (function (_super) {
    __extends(SeekBar, _super);
    function SeekBar(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        /**
         * Buffer of the the current playback position. The position must be buffered in case the element
         * needs to be refreshed with {@link #refreshPlaybackPosition}.
         * @type {number}
         */
        _this.playbackPositionPercentage = 0;
        // https://hacks.mozilla.org/2013/04/detecting-touch-its-the-why-not-the-how/
        _this.touchSupported = ('ontouchstart' in window);
        _this.seekBarEvents = {
            /**
             * Fired when a scrubbing seek operation is started.
             */
            onSeek: new eventdispatcher_1.EventDispatcher(),
            /**
             * Fired during a scrubbing seek to indicate that the seek preview (i.e. the video frame) should be updated.
             */
            onSeekPreview: new eventdispatcher_1.EventDispatcher(),
            /**
             * Fired when a scrubbing seek has finished or when a direct seek is issued.
             */
            onSeeked: new eventdispatcher_1.EventDispatcher(),
        };
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-seekbar',
            vertical: false,
            smoothPlaybackPositionUpdateIntervalMs: 50,
        }, _this.config);
        _this.label = _this.config.label;
        _this.timelineMarkers = [];
        return _this;
    }
    SeekBar.prototype.initialize = function () {
        _super.prototype.initialize.call(this);
        if (this.hasLabel()) {
            this.getLabel().initialize();
        }
    };
    SeekBar.prototype.configure = function (player, uimanager, configureSeek) {
        var _this = this;
        if (configureSeek === void 0) { configureSeek = true; }
        _super.prototype.configure.call(this, player, uimanager);
        // Apply scaling transform to the backdrop bar to have all bars rendered similarly
        // (the call must be up here to be executed for the volume slider as well)
        this.setPosition(this.seekBarBackdrop, 100);
        if (!configureSeek) {
            // The configureSeek flag can be used by subclasses to disable configuration as seek bar. E.g. the volume
            // slider is reusing this component but adds its own functionality, and does not need the seek functionality.
            // This is actually a hack, the proper solution would be for both seek bar and volume sliders to extend
            // a common base slider component and implement their functionality there.
            return;
        }
        var isPlaying = false;
        var isSeeking = false;
        // Update playback and buffer positions
        var playbackPositionHandler = function (event, forceUpdate) {
            if (event === void 0) { event = null; }
            if (forceUpdate === void 0) { forceUpdate = false; }
            if (isSeeking) {
                // We caught a seek preview seek, do not update the seekbar
                return;
            }
            if (player.isLive()) {
                if (player.getMaxTimeShift() === 0) {
                    // This case must be explicitly handled to avoid division by zero
                    _this.setPlaybackPosition(100);
                }
                else {
                    var playbackPositionPercentage = 100 - (100 / player.getMaxTimeShift() * player.getTimeShift());
                    _this.setPlaybackPosition(playbackPositionPercentage);
                }
                // Always show full buffer for live streams
                _this.setBufferPosition(100);
            }
            else {
                var playbackPositionPercentage = 100 / player.getDuration() * player.getCurrentTime();
                var videoBufferLength = player.getVideoBufferLength();
                var audioBufferLength = player.getAudioBufferLength();
                // Calculate the buffer length which is the smaller length of the audio and video buffers. If one of these
                // buffers is not available, we set it's value to MAX_VALUE to make sure that the other real value is taken
                // as the buffer length.
                var bufferLength = Math.min(videoBufferLength != null ? videoBufferLength : Number.MAX_VALUE, audioBufferLength != null ? audioBufferLength : Number.MAX_VALUE);
                // If both buffer lengths are missing, we set the buffer length to zero
                if (bufferLength === Number.MAX_VALUE) {
                    bufferLength = 0;
                }
                var bufferPercentage = 100 / player.getDuration() * bufferLength;
                // Update playback position only in paused state or in the initial startup state where player is neither
                // paused nor playing. Playback updates are handled in the Timeout below.
                if (_this.config.smoothPlaybackPositionUpdateIntervalMs === SeekBar.SMOOTH_PLAYBACK_POSITION_UPDATE_DISABLED
                    || forceUpdate || player.isPaused() || (player.isPaused() === player.isPlaying())) {
                    _this.setPlaybackPosition(playbackPositionPercentage);
                }
                _this.setBufferPosition(playbackPositionPercentage + bufferPercentage);
            }
        };
        // Update seekbar upon these events
        // init playback position when the player is ready
        player.addEventHandler(player.EVENT.ON_READY, playbackPositionHandler);
        // update playback position when it changes
        player.addEventHandler(player.EVENT.ON_TIME_CHANGED, playbackPositionHandler);
        // update bufferlevel when buffering is complete
        player.addEventHandler(player.EVENT.ON_STALL_ENDED, playbackPositionHandler);
        // update playback position when a seek has finished
        player.addEventHandler(player.EVENT.ON_SEEKED, playbackPositionHandler);
        // update playback position when a timeshift has finished
        player.addEventHandler(player.EVENT.ON_TIME_SHIFTED, playbackPositionHandler);
        // update bufferlevel when a segment has been downloaded
        player.addEventHandler(player.EVENT.ON_SEGMENT_REQUEST_FINISHED, playbackPositionHandler);
        // update playback position of Cast playback
        player.addEventHandler(player.EVENT.ON_CAST_TIME_UPDATED, playbackPositionHandler);
        this.configureLivePausedTimeshiftUpdater(player, uimanager, playbackPositionHandler);
        // Seek handling
        player.addEventHandler(player.EVENT.ON_SEEK, function () {
            _this.setSeeking(true);
        });
        player.addEventHandler(player.EVENT.ON_SEEKED, function () {
            _this.setSeeking(false);
        });
        player.addEventHandler(player.EVENT.ON_TIME_SHIFT, function () {
            _this.setSeeking(true);
        });
        player.addEventHandler(player.EVENT.ON_TIME_SHIFTED, function () {
            _this.setSeeking(false);
        });
        var seek = function (percentage) {
            if (player.isLive()) {
                player.timeShift(player.getMaxTimeShift() - (player.getMaxTimeShift() * (percentage / 100)), 'ui');
            }
            else {
                player.seek(player.getDuration() * (percentage / 100), 'ui');
            }
        };
        this.onSeek.subscribe(function (sender) {
            isSeeking = true; // track seeking status so we can catch events from seek preview seeks
            // Notify UI manager of started seek
            uimanager.onSeek.dispatch(sender);
            // Save current playback state
            isPlaying = player.isPlaying();
            // Pause playback while seeking
            if (isPlaying) {
                player.pause('ui');
            }
        });
        this.onSeekPreview.subscribe(function (sender, args) {
            // Notify UI manager of seek preview
            uimanager.onSeekPreview.dispatch(sender, args);
        });
        this.onSeekPreview.subscribeRateLimited(function (sender, args) {
            // Rate-limited scrubbing seek
            if (args.scrubbing) {
                seek(args.position);
            }
        }, 200);
        this.onSeeked.subscribe(function (sender, percentage) {
            isSeeking = false;
            // Do the seek
            seek(percentage);
            // Continue playback after seek if player was playing when seek started
            if (isPlaying) {
                player.play('ui');
            }
            // Notify UI manager of finished seek
            uimanager.onSeeked.dispatch(sender);
        });
        if (this.hasLabel()) {
            // Configure a seekbar label that is internal to the seekbar)
            this.getLabel().configure(player, uimanager);
        }
        // Hide seekbar for live sources without timeshift
        var isLive = false;
        var hasTimeShift = false;
        var switchVisibility = function (isLive, hasTimeShift) {
            if (isLive && !hasTimeShift) {
                _this.hide();
            }
            else {
                _this.show();
            }
            playbackPositionHandler(null, true);
            _this.refreshPlaybackPosition();
        };
        var liveStreamDetector = new playerutils_1.PlayerUtils.LiveStreamDetector(player);
        liveStreamDetector.onLiveChanged.subscribe(function (sender, args) {
            isLive = args.live;
            switchVisibility(isLive, hasTimeShift);
        });
        var timeShiftDetector = new playerutils_1.PlayerUtils.TimeShiftAvailabilityDetector(player);
        timeShiftDetector.onTimeShiftAvailabilityChanged.subscribe(function (sender, args) {
            hasTimeShift = args.timeShiftAvailable;
            switchVisibility(isLive, hasTimeShift);
        });
        // Initial detection
        liveStreamDetector.detect();
        timeShiftDetector.detect();
        // Refresh the playback position when the player resized or the UI is configured. The playback position marker
        // is positioned absolutely and must therefore be updated when the size of the seekbar changes.
        player.addEventHandler(player.EVENT.ON_PLAYER_RESIZE, function () {
            _this.refreshPlaybackPosition();
        });
        // Additionally, when this code is called, the seekbar is not part of the UI yet and therefore does not have a size,
        // resulting in a wrong initial position of the marker. Refreshing it once the UI is configured solved this issue.
        uimanager.onConfigured.subscribe(function () {
            _this.refreshPlaybackPosition();
        });
        // It can also happen that the value changes once the player is ready, or when a new source is loaded, so we need
        // to update on ON_READY too
        player.addEventHandler(player.EVENT.ON_READY, function () {
            _this.refreshPlaybackPosition();
        });
        // Initialize seekbar
        playbackPositionHandler(); // Set the playback position
        this.setBufferPosition(0);
        this.setSeekPosition(0);
        if (this.config.smoothPlaybackPositionUpdateIntervalMs !== SeekBar.SMOOTH_PLAYBACK_POSITION_UPDATE_DISABLED) {
            this.configureSmoothPlaybackPositionUpdater(player, uimanager);
        }
        this.configureMarkers(player, uimanager);
    };
    /**
     * Update seekbar while a live stream with DVR window is paused.
     * The playback position stays still and the position indicator visually moves towards the back.
     */
    SeekBar.prototype.configureLivePausedTimeshiftUpdater = function (player, uimanager, playbackPositionHandler) {
        // Regularly update the playback position while the timeout is active
        var pausedTimeshiftUpdater = new timeout_1.Timeout(1000, playbackPositionHandler, true);
        // Start updater when a live stream with timeshift window is paused
        player.addEventHandler(player.EVENT.ON_PAUSED, function () {
            if (player.isLive() && player.getMaxTimeShift() < 0) {
                pausedTimeshiftUpdater.start();
            }
        });
        // Stop updater when playback continues (no matter if the updater was started before)
        player.addEventHandler(player.EVENT.ON_PLAY, function () { return pausedTimeshiftUpdater.clear(); });
    };
    SeekBar.prototype.configureSmoothPlaybackPositionUpdater = function (player, uimanager) {
        var _this = this;
        /*
         * Playback position update
         *
         * We do not update the position directly from the ON_TIME_CHANGED event, because it arrives very jittery and
         * results in a jittery position indicator since the CSS transition time is statically set.
         * To work around this issue, we maintain a local playback position that is updated in a stable regular interval
         * and kept in sync with the player.
         */
        var currentTimeSeekBar = 0;
        var currentTimePlayer = 0;
        var updateIntervalMs = 50;
        var currentTimeUpdateDeltaSecs = updateIntervalMs / 1000;
        this.smoothPlaybackPositionUpdater = new timeout_1.Timeout(updateIntervalMs, function () {
            currentTimeSeekBar += currentTimeUpdateDeltaSecs;
            currentTimePlayer = player.getCurrentTime();
            // Sync currentTime of seekbar to player
            var currentTimeDelta = currentTimeSeekBar - currentTimePlayer;
            // If the delta is larger that 2 secs, directly jump the seekbar to the
            // player time instead of smoothly fast forwarding/rewinding.
            if (Math.abs(currentTimeDelta) > 2) {
                currentTimeSeekBar = currentTimePlayer;
            }
            else if (currentTimeDelta <= -currentTimeUpdateDeltaSecs) {
                currentTimeSeekBar += currentTimeUpdateDeltaSecs;
            }
            else if (currentTimeDelta >= currentTimeUpdateDeltaSecs) {
                currentTimeSeekBar -= currentTimeUpdateDeltaSecs;
            }
            var playbackPositionPercentage = 100 / player.getDuration() * currentTimeSeekBar;
            _this.setPlaybackPosition(playbackPositionPercentage);
        }, true);
        var startSmoothPlaybackPositionUpdater = function () {
            if (!player.isLive()) {
                currentTimeSeekBar = player.getCurrentTime();
                _this.smoothPlaybackPositionUpdater.start();
            }
        };
        var stopSmoothPlaybackPositionUpdater = function () {
            _this.smoothPlaybackPositionUpdater.clear();
        };
        player.addEventHandler(player.EVENT.ON_PLAY, startSmoothPlaybackPositionUpdater);
        player.addEventHandler(player.EVENT.ON_CAST_PLAYING, startSmoothPlaybackPositionUpdater);
        player.addEventHandler(player.EVENT.ON_PAUSED, stopSmoothPlaybackPositionUpdater);
        player.addEventHandler(player.EVENT.ON_CAST_PAUSED, stopSmoothPlaybackPositionUpdater);
        player.addEventHandler(player.EVENT.ON_PLAYBACK_FINISHED, stopSmoothPlaybackPositionUpdater);
        player.addEventHandler(player.EVENT.ON_SEEKED, function () {
            currentTimeSeekBar = player.getCurrentTime();
        });
        if (player.isPlaying()) {
            startSmoothPlaybackPositionUpdater();
        }
    };
    SeekBar.prototype.configureMarkers = function (player, uimanager) {
        var _this = this;
        var clearMarkers = function () {
            _this.timelineMarkers = [];
            _this.updateMarkers();
        };
        var setupMarkers = function () {
            clearMarkers();
            var duration = player.getDuration();
            if (duration === Infinity) {
                // Don't generate timeline markers if we don't yet have a duration
                // The duration check is for buggy platforms where the duration is not available instantly (Chrome on Android 4.3)
                return;
            }
            for (var _i = 0, _a = uimanager.getConfig().metadata.markers; _i < _a.length; _i++) {
                var marker = _a[_i];
                var markerPosition = 100 / duration * marker.time; // convert absolute time to percentage
                var markerDuration = 100 / duration * marker.duration;
                _this.timelineMarkers.push({ marker: marker, position: markerPosition, duration: markerDuration });
            }
            // Populate the timeline with the markers
            _this.updateMarkers();
        };
        // Add markers when a source is loaded
        player.addEventHandler(player.EVENT.ON_READY, setupMarkers);
        // Remove markers when unloaded
        player.addEventHandler(player.EVENT.ON_SOURCE_UNLOADED, clearMarkers);
        // Update markers when the size of the seekbar changes
        player.addEventHandler(player.EVENT.ON_PLAYER_RESIZE, function () { return _this.updateMarkers(); });
        // Update markers when a marker is added or removed
        uimanager.getConfig().events.onUpdated.subscribe(setupMarkers);
        uimanager.onRelease.subscribe(function () { return uimanager.getConfig().events.onUpdated.unsubscribe(setupMarkers); });
        // Init markers at startup
        setupMarkers();
    };
    SeekBar.prototype.release = function () {
        _super.prototype.release.call(this);
        if (this.smoothPlaybackPositionUpdater) {
            this.smoothPlaybackPositionUpdater.clear();
        }
    };
    SeekBar.prototype.toDomElement = function () {
        var _this = this;
        if (this.config.vertical) {
            this.config.cssClasses.push('vertical');
        }
        var seekBarContainer = new dom_1.DOM('div', {
            'id': this.config.id,
            'class': this.getCssClasses(),
        });
        var seekBar = new dom_1.DOM('div', {
            'class': this.prefixCss('seekbar'),
        });
        this.seekBar = seekBar;
        // Indicator that shows the buffer fill level
        var seekBarBufferLevel = new dom_1.DOM('div', {
            'class': this.prefixCss('seekbar-bufferlevel'),
        });
        this.seekBarBufferPosition = seekBarBufferLevel;
        // Indicator that shows the current playback position
        var seekBarPlaybackPosition = new dom_1.DOM('div', {
            'class': this.prefixCss('seekbar-playbackposition'),
        });
        this.seekBarPlaybackPosition = seekBarPlaybackPosition;
        // A marker of the current playback position, e.g. a dot or line
        var seekBarPlaybackPositionMarker = new dom_1.DOM('div', {
            'class': this.prefixCss('seekbar-playbackposition-marker'),
        });
        this.seekBarPlaybackPositionMarker = seekBarPlaybackPositionMarker;
        // Indicator that show where a seek will go to
        var seekBarSeekPosition = new dom_1.DOM('div', {
            'class': this.prefixCss('seekbar-seekposition'),
        });
        this.seekBarSeekPosition = seekBarSeekPosition;
        // Indicator that shows the full seekbar
        var seekBarBackdrop = new dom_1.DOM('div', {
            'class': this.prefixCss('seekbar-backdrop'),
        });
        this.seekBarBackdrop = seekBarBackdrop;
        var seekBarChapterMarkersContainer = new dom_1.DOM('div', {
            'class': this.prefixCss('seekbar-markers'),
        });
        this.seekBarMarkersContainer = seekBarChapterMarkersContainer;
        seekBar.append(this.seekBarBackdrop, this.seekBarBufferPosition, this.seekBarSeekPosition, this.seekBarPlaybackPosition, this.seekBarMarkersContainer, this.seekBarPlaybackPositionMarker);
        var seeking = false;
        // Define handler functions so we can attach/remove them later
        var mouseTouchMoveHandler = function (e) {
            e.preventDefault();
            // Avoid propagation to VR handler
            e.stopPropagation();
            var targetPercentage = 100 * _this.getOffset(e);
            _this.setSeekPosition(targetPercentage);
            _this.setPlaybackPosition(targetPercentage);
            _this.onSeekPreviewEvent(targetPercentage, true);
        };
        var mouseTouchUpHandler = function (e) {
            e.preventDefault();
            // Remove handlers, seek operation is finished
            new dom_1.DOM(document).off('touchmove mousemove', mouseTouchMoveHandler);
            new dom_1.DOM(document).off('touchend mouseup', mouseTouchUpHandler);
            var targetPercentage = 100 * _this.getOffset(e);
            var snappedChapter = _this.getMarkerAtPosition(targetPercentage);
            _this.setSeeking(false);
            seeking = false;
            // Fire seeked event
            _this.onSeekedEvent(snappedChapter ? snappedChapter.position : targetPercentage);
        };
        // A seek always start with a touchstart or mousedown directly on the seekbar.
        // To track a mouse seek also outside the seekbar (for touch events this works automatically),
        // so the user does not need to take care that the mouse always stays on the seekbar, we attach the mousemove
        // and mouseup handlers to the whole document. A seek is triggered when the user lifts the mouse key.
        // A seek mouse gesture is thus basically a click with a long time frame between down and up events.
        seekBar.on('touchstart mousedown', function (e) {
            var isTouchEvent = _this.touchSupported && e instanceof TouchEvent;
            // Prevent selection of DOM elements (also prevents mousedown if current event is touchstart)
            e.preventDefault();
            // Avoid propagation to VR handler
            e.stopPropagation();
            _this.setSeeking(true); // Set seeking class on DOM element
            seeking = true; // Set seek tracking flag
            // Fire seeked event
            _this.onSeekEvent();
            // Add handler to track the seek operation over the whole document
            new dom_1.DOM(document).on(isTouchEvent ? 'touchmove' : 'mousemove', mouseTouchMoveHandler);
            new dom_1.DOM(document).on(isTouchEvent ? 'touchend' : 'mouseup', mouseTouchUpHandler);
        });
        // Display seek target indicator when mouse hovers or finger slides over seekbar
        seekBar.on('touchmove mousemove', function (e) {
            e.preventDefault();
            if (seeking) {
                // During a seek (when mouse is down or touch move active), we need to stop propagation to avoid
                // the VR viewport reacting to the moves.
                e.stopPropagation();
                // Because the stopped propagation inhibits the event on the document, we need to call it from here
                mouseTouchMoveHandler(e);
            }
            var position = 100 * _this.getOffset(e);
            _this.setSeekPosition(position);
            _this.onSeekPreviewEvent(position, false);
            if (_this.hasLabel() && _this.getLabel().isHidden()) {
                _this.getLabel().show();
            }
        });
        // Hide seek target indicator when mouse or finger leaves seekbar
        seekBar.on('touchend mouseleave', function (e) {
            e.preventDefault();
            _this.setSeekPosition(0);
            if (_this.hasLabel()) {
                _this.getLabel().hide();
            }
        });
        seekBarContainer.append(seekBar);
        if (this.label) {
            seekBarContainer.append(this.label.getDomElement());
        }
        return seekBarContainer;
    };
    SeekBar.prototype.updateMarkers = function () {
        var _this = this;
        this.seekBarMarkersContainer.empty();
        var seekBarWidthPx = this.seekBar.width();
        for (var _i = 0, _a = this.timelineMarkers; _i < _a.length; _i++) {
            var marker = _a[_i];
            var markerClasses = ['seekbar-marker'].concat(marker.marker.cssClasses || [])
                .map(function (cssClass) { return _this.prefixCss(cssClass); });
            var cssProperties = {
                'width': marker.position + '%',
            };
            if (marker.duration > 0) {
                var markerWidthPx = Math.round(seekBarWidthPx / 100 * marker.duration);
                cssProperties['border-right-width'] = markerWidthPx + 'px';
                cssProperties['margin-left'] = '0';
            }
            this.seekBarMarkersContainer.append(new dom_1.DOM('div', {
                'class': markerClasses.join(' '),
                'data-marker-time': String(marker.marker.time),
                'data-marker-title': String(marker.marker.title),
            }).css(cssProperties));
        }
    };
    SeekBar.prototype.getMarkerAtPosition = function (percentage) {
        var snappingRange = 1;
        if (this.timelineMarkers.length > 0) {
            for (var _i = 0, _a = this.timelineMarkers; _i < _a.length; _i++) {
                var marker = _a[_i];
                // Handle interval markers
                if (marker.duration > 0
                    && percentage >= marker.position - snappingRange
                    && percentage <= marker.position + marker.duration + snappingRange) {
                    return marker;
                }
                else if (percentage >= marker.position - snappingRange
                    && percentage <= marker.position + snappingRange) {
                    return marker;
                }
            }
        }
        return null;
    };
    /**
     * Gets the horizontal offset of a mouse/touch event point from the left edge of the seek bar.
     * @param eventPageX the pageX coordinate of an event to calculate the offset from
     * @returns {number} a number in the range of [0, 1], where 0 is the left edge and 1 is the right edge
     */
    SeekBar.prototype.getHorizontalOffset = function (eventPageX) {
        var elementOffsetPx = this.seekBar.offset().left;
        var widthPx = this.seekBar.width();
        var offsetPx = eventPageX - elementOffsetPx;
        var offset = 1 / widthPx * offsetPx;
        return this.sanitizeOffset(offset);
    };
    /**
     * Gets the vertical offset of a mouse/touch event point from the bottom edge of the seek bar.
     * @param eventPageY the pageX coordinate of an event to calculate the offset from
     * @returns {number} a number in the range of [0, 1], where 0 is the bottom edge and 1 is the top edge
     */
    SeekBar.prototype.getVerticalOffset = function (eventPageY) {
        var elementOffsetPx = this.seekBar.offset().top;
        var widthPx = this.seekBar.height();
        var offsetPx = eventPageY - elementOffsetPx;
        var offset = 1 / widthPx * offsetPx;
        return 1 - this.sanitizeOffset(offset);
    };
    /**
     * Gets the mouse or touch event offset for the current configuration (horizontal or vertical).
     * @param e the event to calculate the offset from
     * @returns {number} a number in the range of [0, 1]
     * @see #getHorizontalOffset
     * @see #getVerticalOffset
     */
    SeekBar.prototype.getOffset = function (e) {
        if (this.touchSupported && e instanceof TouchEvent) {
            if (this.config.vertical) {
                return this.getVerticalOffset(e.type === 'touchend' ? e.changedTouches[0].pageY : e.touches[0].pageY);
            }
            else {
                return this.getHorizontalOffset(e.type === 'touchend' ? e.changedTouches[0].pageX : e.touches[0].pageX);
            }
        }
        else if (e instanceof MouseEvent) {
            if (this.config.vertical) {
                return this.getVerticalOffset(e.pageY);
            }
            else {
                return this.getHorizontalOffset(e.pageX);
            }
        }
        else {
            if (console) {
                console.warn('invalid event');
            }
            return 0;
        }
    };
    /**
     * Sanitizes the mouse offset to the range of [0, 1].
     *
     * When tracking the mouse outside the seek bar, the offset can be outside the desired range and this method
     * limits it to the desired range. E.g. a mouse event left of the left edge of a seek bar yields an offset below
     * zero, but to display the seek target on the seek bar, we need to limit it to zero.
     *
     * @param offset the offset to sanitize
     * @returns {number} the sanitized offset.
     */
    SeekBar.prototype.sanitizeOffset = function (offset) {
        // Since we track mouse moves over the whole document, the target can be outside the seek range,
        // and we need to limit it to the [0, 1] range.
        if (offset < 0) {
            offset = 0;
        }
        else if (offset > 1) {
            offset = 1;
        }
        return offset;
    };
    /**
     * Sets the position of the playback position indicator.
     * @param percent a number between 0 and 100 as returned by the player
     */
    SeekBar.prototype.setPlaybackPosition = function (percent) {
        this.playbackPositionPercentage = percent;
        // Set position of the bar
        this.setPosition(this.seekBarPlaybackPosition, percent);
        // Set position of the marker
        var totalSize = (this.config.vertical ? (this.seekBar.height() - this.seekBarPlaybackPositionMarker.height()) : this.seekBar.width());
        var px = (totalSize) / 100 * percent;
        if (this.config.vertical) {
            px = this.seekBar.height() - px - this.seekBarPlaybackPositionMarker.height();
        }
        var style = this.config.vertical ?
            // -ms-transform required for IE9
            // -webkit-transform required for Android 4.4 WebView
            {
                'transform': 'translateY(' + px + 'px)',
                '-ms-transform': 'translateY(' + px + 'px)',
                '-webkit-transform': 'translateY(' + px + 'px)',
            } :
            {
                'transform': 'translateX(' + px + 'px)',
                '-ms-transform': 'translateX(' + px + 'px)',
                '-webkit-transform': 'translateX(' + px + 'px)',
            };
        this.seekBarPlaybackPositionMarker.css(style);
    };
    /**
     * Refreshes the playback position. Can be used by subclasses to refresh the position when
     * the size of the component changes.
     */
    SeekBar.prototype.refreshPlaybackPosition = function () {
        this.setPlaybackPosition(this.playbackPositionPercentage);
    };
    /**
     * Sets the position until which media is buffered.
     * @param percent a number between 0 and 100
     */
    SeekBar.prototype.setBufferPosition = function (percent) {
        this.setPosition(this.seekBarBufferPosition, percent);
    };
    /**
     * Sets the position where a seek, if executed, would jump to.
     * @param percent a number between 0 and 100
     */
    SeekBar.prototype.setSeekPosition = function (percent) {
        this.setPosition(this.seekBarSeekPosition, percent);
    };
    /**
     * Set the actual position (width or height) of a DOM element that represent a bar in the seek bar.
     * @param element the element to set the position for
     * @param percent a number between 0 and 100
     */
    SeekBar.prototype.setPosition = function (element, percent) {
        var scale = percent / 100;
        // When the scale is exactly 1 or very near 1 (and the browser internally rounds it to 1), browsers seem to render
        // the elements differently and the height gets slightly off, leading to mismatching heights when e.g. the buffer
        // level bar has a width of 1 and the playback position bar has a width < 1. A jittering buffer level around 1
        // leads to an even worse flickering effect.
        // Various changes in CSS styling and DOM hierarchy did not solve the issue so the workaround is to avoid a scale
        // of exactly 1.
        if (scale >= 0.99999 && scale <= 1.00001) {
            scale = 0.99999;
        }
        var style = this.config.vertical ?
            // -ms-transform required for IE9
            // -webkit-transform required for Android 4.4 WebView
            {
                'transform': 'scaleY(' + scale + ')',
                '-ms-transform': 'scaleY(' + scale + ')',
                '-webkit-transform': 'scaleY(' + scale + ')',
            } :
            {
                'transform': 'scaleX(' + scale + ')',
                '-ms-transform': 'scaleX(' + scale + ')',
                '-webkit-transform': 'scaleX(' + scale + ')',
            };
        element.css(style);
    };
    /**
     * Puts the seek bar into or out of seeking state by adding/removing a class to the DOM element. This can be used
     * to adjust the styling while seeking.
     *
     * @param seeking should be true when entering seek state, false when exiting the seek state
     */
    SeekBar.prototype.setSeeking = function (seeking) {
        if (seeking) {
            this.getDomElement().addClass(this.prefixCss(SeekBar.CLASS_SEEKING));
        }
        else {
            this.getDomElement().removeClass(this.prefixCss(SeekBar.CLASS_SEEKING));
        }
    };
    /**
     * Checks if the seek bar is currently in the seek state.
     * @returns {boolean} true if in seek state, else false
     */
    SeekBar.prototype.isSeeking = function () {
        return this.getDomElement().hasClass(this.prefixCss(SeekBar.CLASS_SEEKING));
    };
    /**
     * Checks if the seek bar has a {@link SeekBarLabel}.
     * @returns {boolean} true if the seek bar has a label, else false
     */
    SeekBar.prototype.hasLabel = function () {
        return this.label != null;
    };
    /**
     * Gets the label of this seek bar.
     * @returns {SeekBarLabel} the label if this seek bar has a label, else null
     */
    SeekBar.prototype.getLabel = function () {
        return this.label;
    };
    SeekBar.prototype.onSeekEvent = function () {
        this.seekBarEvents.onSeek.dispatch(this);
    };
    SeekBar.prototype.onSeekPreviewEvent = function (percentage, scrubbing) {
        var snappedMarker = this.getMarkerAtPosition(percentage);
        var seekPositionPercentage = percentage;
        if (snappedMarker) {
            if (snappedMarker.duration > 0) {
                if (percentage < snappedMarker.position) {
                    // Snap the position to the start of the interval if the seek is within the left snap margin
                    // We know that we are within a snap margin when we are outside the marker interval but still
                    // have a snappedMarker
                    seekPositionPercentage = snappedMarker.position;
                }
                else if (percentage > snappedMarker.position + snappedMarker.duration) {
                    // Snap the position to the end of the interval if the seek is within the right snap margin
                    seekPositionPercentage = snappedMarker.position + snappedMarker.duration;
                }
            }
            else {
                // Position markers always snap to their marker position
                seekPositionPercentage = snappedMarker.position;
            }
        }
        if (this.label) {
            this.label.getDomElement().css({
                'left': seekPositionPercentage + '%',
            });
        }
        this.seekBarEvents.onSeekPreview.dispatch(this, {
            scrubbing: scrubbing,
            position: seekPositionPercentage,
            marker: snappedMarker,
        });
    };
    SeekBar.prototype.onSeekedEvent = function (percentage) {
        this.seekBarEvents.onSeeked.dispatch(this, percentage);
    };
    Object.defineProperty(SeekBar.prototype, "onSeek", {
        /**
         * Gets the event that is fired when a scrubbing seek operation is started.
         * @returns {Event<SeekBar, NoArgs>}
         */
        get: function () {
            return this.seekBarEvents.onSeek.getEvent();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SeekBar.prototype, "onSeekPreview", {
        /**
         * Gets the event that is fired during a scrubbing seek (to indicate that the seek preview, i.e. the video frame,
         * should be updated), or during a normal seek preview when the seek bar is hovered (and the seek target,
         * i.e. the seek bar label, should be updated).
         * @returns {Event<SeekBar, SeekPreviewEventArgs>}
         */
        get: function () {
            return this.seekBarEvents.onSeekPreview.getEvent();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SeekBar.prototype, "onSeeked", {
        /**
         * Gets the event that is fired when a scrubbing seek has finished or when a direct seek is issued.
         * @returns {Event<SeekBar, number>}
         */
        get: function () {
            return this.seekBarEvents.onSeeked.getEvent();
        },
        enumerable: true,
        configurable: true
    });
    SeekBar.prototype.onShowEvent = function () {
        _super.prototype.onShowEvent.call(this);
        // Refresh the position of the playback position when the seek bar becomes visible. To correctly set the position,
        // the DOM element must be fully initialized an have its size calculated, because the position is set as an absolute
        // value calculated from the size. This required size is not known when it is hidden.
        // For such cases, we refresh the position here in onShow because here it is guaranteed that the component knows
        // its size and can set the position correctly.
        this.refreshPlaybackPosition();
    };
    return SeekBar;
}(component_1.Component));
SeekBar.SMOOTH_PLAYBACK_POSITION_UPDATE_DISABLED = -1;
/**
 * The CSS class that is added to the DOM element while the seek bar is in 'seeking' state.
 */
SeekBar.CLASS_SEEKING = 'seeking';
exports.SeekBar = SeekBar;


/***/ }),
/* 19 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var container_1 = __webpack_require__(0);
var uiutils_1 = __webpack_require__(20);
var spacer_1 = __webpack_require__(21);
/**
 * A container for main player control components, e.g. play toggle button, seek bar, volume control, fullscreen toggle
 * button.
 */
var ControlBar = (function (_super) {
    __extends(ControlBar, _super);
    function ControlBar(config) {
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-controlbar',
            hidden: true,
        }, _this.config);
        return _this;
    }
    ControlBar.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        // Counts how many components are hovered and block hiding of the control bar
        var hoverStackCount = 0;
        // Track hover status of child components
        uiutils_1.UIUtils.traverseTree(this, function (component) {
            // Do not track hover status of child containers or spacers, only of 'real' controls
            if (component instanceof container_1.Container || component instanceof spacer_1.Spacer) {
                return;
            }
            // Subscribe hover event and keep a count of the number of hovered children
            component.onHoverChanged.subscribe(function (sender, args) {
                if (args.hovered) {
                    hoverStackCount++;
                }
                else {
                    hoverStackCount--;
                }
            });
        });
        uimanager.onControlsShow.subscribe(function () {
            _this.show();
        });
        uimanager.onPreviewControlsHide.subscribe(function (sender, args) {
            // Cancel the hide event if hovered child components block hiding
            args.cancel = (hoverStackCount > 0);
        });
        uimanager.onControlsHide.subscribe(function () {
            _this.hide();
        });
    };
    return ControlBar;
}(container_1.Container));
exports.ControlBar = ControlBar;


/***/ }),
/* 20 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var container_1 = __webpack_require__(0);
var UIUtils;
(function (UIUtils) {
    function traverseTree(component, visit) {
        var recursiveTreeWalker = function (component, parent) {
            visit(component, parent);
            // If the current component is a container, visit it's children
            if (component instanceof container_1.Container) {
                for (var _i = 0, _a = component.getComponents(); _i < _a.length; _i++) {
                    var childComponent = _a[_i];
                    recursiveTreeWalker(childComponent, component);
                }
            }
        };
        // Walk and configure the component tree
        recursiveTreeWalker(component);
    }
    UIUtils.traverseTree = traverseTree;
})(UIUtils = exports.UIUtils || (exports.UIUtils = {}));


/***/ }),
/* 21 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var component_1 = __webpack_require__(2);
/**
 * A dummy component that just reserves some space and does nothing else.
 */
var Spacer = (function (_super) {
    __extends(Spacer, _super);
    function Spacer(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-spacer',
        }, _this.config);
        return _this;
    }
    Spacer.prototype.onShowEvent = function () {
        // disable event firing by overwriting and not calling super
    };
    Spacer.prototype.onHideEvent = function () {
        // disable event firing by overwriting and not calling super
    };
    Spacer.prototype.onHoverChangedEvent = function (hovered) {
        // disable event firing by overwriting and not calling super
    };
    return Spacer;
}(component_1.Component));
exports.Spacer = Spacer;


/***/ }),
/* 22 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var container_1 = __webpack_require__(0);
var component_1 = __webpack_require__(2);
var selectbox_1 = __webpack_require__(8);
var label_1 = __webpack_require__(6);
var videoqualityselectbox_1 = __webpack_require__(23);
var audioqualityselectbox_1 = __webpack_require__(24);
var timeout_1 = __webpack_require__(9);
var eventdispatcher_1 = __webpack_require__(3);
/**
 * A panel containing a list of {@link SettingsPanelItem items} that represent labelled settings.
 */
var SettingsPanel = (function (_super) {
    __extends(SettingsPanel, _super);
    function SettingsPanel(config) {
        var _this = _super.call(this, config) || this;
        _this.settingsPanelEvents = {
            onSettingsStateChanged: new eventdispatcher_1.EventDispatcher(),
        };
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-settings-panel',
            hideDelay: 3000,
        }, _this.config);
        return _this;
    }
    SettingsPanel.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        var config = this.getConfig(); // TODO fix generics type inference
        if (config.hideDelay > -1) {
            this.hideTimeout = new timeout_1.Timeout(config.hideDelay, function () {
                _this.hide();
                _this.hideHoveredSelectBoxes();
            });
            this.onShow.subscribe(function () {
                // Activate timeout when shown
                _this.hideTimeout.start();
            });
            this.getDomElement().on('mouseenter', function () {
                // On mouse enter clear the timeout
                _this.hideTimeout.clear();
            });
            this.getDomElement().on('mouseleave', function () {
                // On mouse leave activate the timeout
                _this.hideTimeout.reset();
            });
            this.onHide.subscribe(function () {
                // Clear timeout when hidden from outside
                _this.hideTimeout.clear();
            });
        }
        // Fire event when the state of a settings-item has changed
        var settingsStateChangedHandler = function () {
            _this.onSettingsStateChangedEvent();
            // Attach marker class to last visible item
            var lastShownItem = null;
            for (var _i = 0, _a = _this.getItems(); _i < _a.length; _i++) {
                var component = _a[_i];
                component.getDomElement().removeClass(_this.prefixCss(SettingsPanel.CLASS_LAST));
                if (component.isShown()) {
                    lastShownItem = component;
                }
            }
            if (lastShownItem) {
                lastShownItem.getDomElement().addClass(_this.prefixCss(SettingsPanel.CLASS_LAST));
            }
        };
        for (var _i = 0, _a = this.getItems(); _i < _a.length; _i++) {
            var component = _a[_i];
            component.onActiveChanged.subscribe(settingsStateChangedHandler);
        }
    };
    /**
     * Hack for IE + Firefox
     * when the settings panel fades out while an item of a select box is still hovered, the select box will not fade out
     * while the settings panel does. This would leave a floating select box, which is just weird
     */
    SettingsPanel.prototype.hideHoveredSelectBoxes = function () {
        this.getItems().forEach(function (item) {
            if (item.isActive() && item.setting instanceof selectbox_1.SelectBox) {
                var selectBox_1 = item.setting;
                var oldDisplay_1 = selectBox_1.getDomElement().css('display');
                // updating the display to none marks the select-box as inactive, so it will be hidden with the rest
                // we just have to make sure to reset this as soon as possible
                selectBox_1.getDomElement().css('display', 'none');
                if (window.requestAnimationFrame) {
                    requestAnimationFrame(function () { selectBox_1.getDomElement().css('display', oldDisplay_1); });
                }
                else {
                    // IE9 has no requestAnimationFrame, set the value directly. It has no optimization about ignoring DOM-changes
                    // between animationFrames
                    selectBox_1.getDomElement().css('display', oldDisplay_1);
                }
            }
        });
    };
    SettingsPanel.prototype.release = function () {
        _super.prototype.release.call(this);
        if (this.hideTimeout) {
            this.hideTimeout.clear();
        }
    };
    /**
     * Checks if there are active settings within this settings panel. An active setting is a setting that is visible
     * and enabled, which the user can interact with.
     * @returns {boolean} true if there are active settings, false if the panel is functionally empty to a user
     */
    SettingsPanel.prototype.hasActiveSettings = function () {
        for (var _i = 0, _a = this.getItems(); _i < _a.length; _i++) {
            var component = _a[_i];
            if (component.isActive()) {
                return true;
            }
        }
        return false;
    };
    SettingsPanel.prototype.getItems = function () {
        return this.config.components.filter(function (component) { return component instanceof SettingsPanelItem; });
    };
    SettingsPanel.prototype.onSettingsStateChangedEvent = function () {
        this.settingsPanelEvents.onSettingsStateChanged.dispatch(this);
    };
    Object.defineProperty(SettingsPanel.prototype, "onSettingsStateChanged", {
        /**
         * Gets the event that is fired when one or more {@link SettingsPanelItem items} have changed state.
         * @returns {Event<SettingsPanel, NoArgs>}
         */
        get: function () {
            return this.settingsPanelEvents.onSettingsStateChanged.getEvent();
        },
        enumerable: true,
        configurable: true
    });
    return SettingsPanel;
}(container_1.Container));
SettingsPanel.CLASS_LAST = 'last';
exports.SettingsPanel = SettingsPanel;
/**
 * An item for a {@link SettingsPanel},
 * Containing an optionnal {@link Label} and a component that configures a setting.
 * If the components is a {@link SelectBox} it will handle the logic of displaying it or not
 */
var SettingsPanelItem = (function (_super) {
    __extends(SettingsPanelItem, _super);
    function SettingsPanelItem(label, setting, config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.settingsPanelItemEvents = {
            onActiveChanged: new eventdispatcher_1.EventDispatcher(),
        };
        _this.setting = setting;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-settings-panel-item',
        }, _this.config);
        if (label !== null) {
            if (label instanceof component_1.Component) {
                _this.label = label;
            }
            else {
                _this.label = new label_1.Label({ text: label });
            }
            _this.addComponent(_this.label);
        }
        _this.addComponent(_this.setting);
        return _this;
    }
    SettingsPanelItem.prototype.configure = function (player, uimanager) {
        var _this = this;
        if (this.setting instanceof selectbox_1.SelectBox) {
            var handleConfigItemChanged = function () {
                if (!(_this.setting instanceof selectbox_1.SelectBox)) {
                    return;
                }
                // The minimum number of items that must be available for the setting to be displayed
                // By default, at least two items must be available, else a selection is not possible
                var minItemsToDisplay = 2;
                // Audio/video quality select boxes contain an additional 'auto' mode, which in combination with a single
                // available quality also does not make sense
                if ((_this.setting instanceof videoqualityselectbox_1.VideoQualitySelectBox && _this.setting.hasAutoItem())
                    || _this.setting instanceof audioqualityselectbox_1.AudioQualitySelectBox) {
                    minItemsToDisplay = 3;
                }
                // Hide the setting if no meaningful choice is available
                if (_this.setting.itemCount() < minItemsToDisplay) {
                    _this.hide();
                }
                else {
                    _this.show();
                }
                // Visibility might have changed and therefore the active state might have changed so we fire the event
                // TODO fire only when state has really changed (e.g. check if visibility has really changed)
                _this.onActiveChangedEvent();
            };
            this.setting.onItemAdded.subscribe(handleConfigItemChanged);
            this.setting.onItemRemoved.subscribe(handleConfigItemChanged);
            // Initialize hidden state
            handleConfigItemChanged();
        }
    };
    /**
     * Checks if this settings panel item is active, i.e. visible and enabled and a user can interact with it.
     * @returns {boolean} true if the panel is active, else false
     */
    SettingsPanelItem.prototype.isActive = function () {
        return this.isShown();
    };
    SettingsPanelItem.prototype.onActiveChangedEvent = function () {
        this.settingsPanelItemEvents.onActiveChanged.dispatch(this);
    };
    Object.defineProperty(SettingsPanelItem.prototype, "onActiveChanged", {
        /**
         * Gets the event that is fired when the 'active' state of this item changes.
         * @see #isActive
         * @returns {Event<SettingsPanelItem, NoArgs>}
         */
        get: function () {
            return this.settingsPanelItemEvents.onActiveChanged.getEvent();
        },
        enumerable: true,
        configurable: true
    });
    return SettingsPanelItem;
}(container_1.Container));
exports.SettingsPanelItem = SettingsPanelItem;


/***/ }),
/* 23 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var selectbox_1 = __webpack_require__(8);
/**
 * A select box providing a selection between 'auto' and the available video qualities.
 */
var VideoQualitySelectBox = (function (_super) {
    __extends(VideoQualitySelectBox, _super);
    function VideoQualitySelectBox(config) {
        if (config === void 0) { config = {}; }
        return _super.call(this, config) || this;
    }
    VideoQualitySelectBox.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        var selectCurrentVideoQuality = function () {
            if (player.getVideoQuality) {
                // Since player 7.3.1
                _this.selectItem(player.getVideoQuality().id);
            }
            else {
                // Backwards compatibility for players <= 7.3.0
                // TODO remove in next major release
                var data = player.getDownloadedVideoData();
                _this.selectItem(data.isAuto ? 'auto' : data.id);
            }
        };
        var updateVideoQualities = function () {
            var videoQualities = player.getAvailableVideoQualities();
            _this.clearItems();
            // Progressive streams do not support automatic quality selection
            _this.hasAuto = player.getStreamType() !== 'progressive';
            if (_this.hasAuto) {
                // Add entry for automatic quality switching (default setting)
                _this.addItem('auto', 'auto');
            }
            // Add video qualities
            for (var _i = 0, videoQualities_1 = videoQualities; _i < videoQualities_1.length; _i++) {
                var videoQuality = videoQualities_1[_i];
                _this.addItem(videoQuality.id, videoQuality.label);
            }
            // Select initial quality
            selectCurrentVideoQuality();
        };
        this.onItemSelected.subscribe(function (sender, value) {
            player.setVideoQuality(value);
        });
        // Update qualities when source goes away
        player.addEventHandler(player.EVENT.ON_SOURCE_UNLOADED, updateVideoQualities);
        // Update qualities when a new source is loaded
        player.addEventHandler(player.EVENT.ON_READY, updateVideoQualities);
        // Update qualities when the period within a source changes
        player.addEventHandler(player.EVENT.ON_PERIOD_SWITCHED, updateVideoQualities);
        // Update quality selection when quality is changed (from outside)
        if (player.EVENT.ON_VIDEO_QUALITY_CHANGED) {
            // Since player 7.3.1
            player.addEventHandler(player.EVENT.ON_VIDEO_QUALITY_CHANGED, selectCurrentVideoQuality);
        }
        else {
            // Backwards compatibility for players <= 7.3.0
            // TODO remove in next major release
            player.addEventHandler(player.EVENT.ON_VIDEO_DOWNLOAD_QUALITY_CHANGE, selectCurrentVideoQuality);
        }
    };
    /**
     * Returns true if the select box contains an 'auto' item for automatic quality selection mode.
     * @return {boolean}
     */
    VideoQualitySelectBox.prototype.hasAutoItem = function () {
        return this.hasAuto;
    };
    return VideoQualitySelectBox;
}(selectbox_1.SelectBox));
exports.VideoQualitySelectBox = VideoQualitySelectBox;


/***/ }),
/* 24 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var selectbox_1 = __webpack_require__(8);
/**
 * A select box providing a selection between 'auto' and the available audio qualities.
 */
var AudioQualitySelectBox = (function (_super) {
    __extends(AudioQualitySelectBox, _super);
    function AudioQualitySelectBox(config) {
        if (config === void 0) { config = {}; }
        return _super.call(this, config) || this;
    }
    AudioQualitySelectBox.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        var selectCurrentAudioQuality = function () {
            if (player.getAudioQuality) {
                // Since player 7.3.1
                _this.selectItem(player.getAudioQuality().id);
            }
            else {
                // Backwards compatibility for players <= 7.3.0
                // TODO remove in next major release
                var data = player.getDownloadedAudioData();
                _this.selectItem(data.isAuto ? 'auto' : data.id);
            }
        };
        var updateAudioQualities = function () {
            var audioQualities = player.getAvailableAudioQualities();
            _this.clearItems();
            // Add entry for automatic quality switching (default setting)
            _this.addItem('auto', 'auto');
            // Add audio qualities
            for (var _i = 0, audioQualities_1 = audioQualities; _i < audioQualities_1.length; _i++) {
                var audioQuality = audioQualities_1[_i];
                _this.addItem(audioQuality.id, audioQuality.label);
            }
            // Select initial quality
            selectCurrentAudioQuality();
        };
        this.onItemSelected.subscribe(function (sender, value) {
            player.setAudioQuality(value);
        });
        // Update qualities when audio track has changed
        player.addEventHandler(player.EVENT.ON_AUDIO_CHANGED, updateAudioQualities);
        // Update qualities when source goes away
        player.addEventHandler(player.EVENT.ON_SOURCE_UNLOADED, updateAudioQualities);
        // Update qualities when a new source is loaded
        player.addEventHandler(player.EVENT.ON_READY, updateAudioQualities);
        // Update qualities when the period within a source changes
        player.addEventHandler(player.EVENT.ON_PERIOD_SWITCHED, updateAudioQualities);
        // Update quality selection when quality is changed (from outside)
        if (player.EVENT.ON_AUDIO_QUALITY_CHANGED) {
            // Since player 7.3.1
            player.addEventHandler(player.EVENT.ON_AUDIO_QUALITY_CHANGED, selectCurrentAudioQuality);
        }
        else {
            // Backwards compatibility for players <= 7.3.0
            // TODO remove in next major release
            player.addEventHandler(player.EVENT.ON_AUDIO_DOWNLOAD_QUALITY_CHANGE, selectCurrentAudioQuality);
        }
    };
    return AudioQualitySelectBox;
}(selectbox_1.SelectBox));
exports.AudioQualitySelectBox = AudioQualitySelectBox;


/***/ }),
/* 25 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var button_1 = __webpack_require__(7);
var SubtitleSettingsButton = (function (_super) {
    __extends(SubtitleSettingsButton, _super);
    function SubtitleSettingsButton(config) {
        var _this = _super.call(this, config) || this;
        _this.subtitleSettingsPanel = config.subtitleSettingsPanel;
        _this.settingsPanel = config.settingsPanel;
        return _this;
    }
    return SubtitleSettingsButton;
}(button_1.Button));
exports.SubtitleSettingsButton = SubtitleSettingsButton;


/***/ }),
/* 26 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var seekbar_1 = __webpack_require__(18);
/**
 * A simple volume slider component to adjust the player's volume setting.
 */
var VolumeSlider = (function (_super) {
    __extends(VolumeSlider, _super);
    function VolumeSlider(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-volumeslider',
            hideIfVolumeControlProhibited: true,
        }, _this.config);
        return _this;
    }
    VolumeSlider.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager, false);
        var config = this.getConfig();
        if (config.hideIfVolumeControlProhibited && !this.detectVolumeControlAvailability()) {
            this.hide();
            // We can just return from here, because the user will never interact with the control and any configured
            // functionality would only eat resources for no reason.
            return;
        }
        var volumeChangeHandler = function () {
            if (player.isMuted()) {
                _this.setPlaybackPosition(0);
            }
            else {
                _this.setPlaybackPosition(player.getVolume());
            }
        };
        player.addEventHandler(player.EVENT.ON_READY, volumeChangeHandler);
        player.addEventHandler(player.EVENT.ON_VOLUME_CHANGED, volumeChangeHandler);
        player.addEventHandler(player.EVENT.ON_MUTED, volumeChangeHandler);
        player.addEventHandler(player.EVENT.ON_UNMUTED, volumeChangeHandler);
        this.onSeekPreview.subscribeRateLimited(function (sender, args) {
            if (args.scrubbing) {
                player.setVolume(args.position, VolumeSlider.issuerName);
            }
        }, 50);
        this.onSeeked.subscribe(function (sender, percentage) {
            player.setVolume(percentage, VolumeSlider.issuerName);
        });
        // Update the volume slider marker when the player resized, a source is loaded and player is ready,
        // or the UI is configured. Check the seekbar for a detailed description.
        player.addEventHandler(player.EVENT.ON_PLAYER_RESIZE, function () {
            _this.refreshPlaybackPosition();
        });
        player.addEventHandler(player.EVENT.ON_READY, function () {
            _this.refreshPlaybackPosition();
        });
        uimanager.onConfigured.subscribe(function () {
            _this.refreshPlaybackPosition();
        });
        // Init volume bar
        volumeChangeHandler();
    };
    VolumeSlider.prototype.detectVolumeControlAvailability = function () {
        /*
         * "On iOS devices, the audio level is always under the user’s physical control. The volume property is not
         * settable in JavaScript. Reading the volume property always returns 1."
         * https://developer.apple.com/library/content/documentation/AudioVideo/Conceptual/Using_HTML5_Audio_Video/Device-SpecificConsiderations/Device-SpecificConsiderations.html
         */
        // as muted autoplay gets paused as soon as we unmute it, we may not touch the volume of the actual player so we
        // probe a dummy audio element
        var dummyVideoElement = document.createElement('video');
        // try setting the volume to 0.7 and if it's still 1 we are on a volume control restricted device
        dummyVideoElement.volume = 0.7;
        return dummyVideoElement.volume !== 1;
    };
    return VolumeSlider;
}(seekbar_1.SeekBar));
VolumeSlider.issuerName = 'ui';
exports.VolumeSlider = VolumeSlider;


/***/ }),
/* 27 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var label_1 = __webpack_require__(6);
/**
 * Enumerates the types of content that the {@link MetadataLabel} can display.
 */
var MetadataLabelContent;
(function (MetadataLabelContent) {
    /**
     * Title of the data source.
     */
    MetadataLabelContent[MetadataLabelContent["Title"] = 0] = "Title";
    /**
     * Description fo the data source.
     */
    MetadataLabelContent[MetadataLabelContent["Description"] = 1] = "Description";
})(MetadataLabelContent = exports.MetadataLabelContent || (exports.MetadataLabelContent = {}));
/**
 * A label that can be configured to display certain metadata.
 */
var MetadataLabel = (function (_super) {
    __extends(MetadataLabel, _super);
    function MetadataLabel(config) {
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClasses: ['label-metadata', 'label-metadata-' + MetadataLabelContent[config.content].toLowerCase()],
        }, _this.config);
        return _this;
    }
    MetadataLabel.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        var config = this.getConfig();
        var uiconfig = uimanager.getConfig();
        var init = function () {
            switch (config.content) {
                case MetadataLabelContent.Title:
                    _this.setText(uiconfig.metadata.title);
                    break;
                case MetadataLabelContent.Description:
                    _this.setText(uiconfig.metadata.description);
                    break;
            }
        };
        var unload = function () {
            _this.setText(null);
        };
        // Init label
        init();
        // Reinit label when a new source is loaded
        player.addEventHandler(player.EVENT.ON_SOURCE_LOADED, init);
        // Clear labels when source is unloaded
        player.addEventHandler(player.EVENT.ON_SOURCE_UNLOADED, unload);
    };
    return MetadataLabel;
}(label_1.Label));
exports.MetadataLabel = MetadataLabel;


/***/ }),
/* 28 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var button_1 = __webpack_require__(7);
/**
 * A click overlay that opens an url in a new tab if clicked.
 */
var ClickOverlay = (function (_super) {
    __extends(ClickOverlay, _super);
    function ClickOverlay(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-clickoverlay',
        }, _this.config);
        return _this;
    }
    ClickOverlay.prototype.initialize = function () {
        _super.prototype.initialize.call(this);
        this.setUrl(this.config.url);
        var element = this.getDomElement();
        element.on('click', function () {
            if (element.data('url')) {
                window.open(element.data('url'), '_blank');
            }
        });
    };
    /**
     * Gets the URL that should be followed when the watermark is clicked.
     * @returns {string} the watermark URL
     */
    ClickOverlay.prototype.getUrl = function () {
        return this.getDomElement().data('url');
    };
    ClickOverlay.prototype.setUrl = function (url) {
        if (url === undefined || url == null) {
            url = '';
        }
        this.getDomElement().data('url', url);
    };
    return ClickOverlay;
}(button_1.Button));
exports.ClickOverlay = ClickOverlay;


/***/ }),
/* 29 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var togglebutton_1 = __webpack_require__(5);
/**
 * A button that toggles the player between windowed and fullscreen view.
 */
var FullscreenToggleButton = (function (_super) {
    __extends(FullscreenToggleButton, _super);
    function FullscreenToggleButton(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-fullscreentogglebutton',
            text: 'Fullscreen',
        }, _this.config);
        return _this;
    }
    FullscreenToggleButton.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        var fullscreenStateHandler = function () {
            if (player.isFullscreen()) {
                _this.on();
            }
            else {
                _this.off();
            }
        };
        player.addEventHandler(player.EVENT.ON_FULLSCREEN_ENTER, fullscreenStateHandler);
        player.addEventHandler(player.EVENT.ON_FULLSCREEN_EXIT, fullscreenStateHandler);
        this.onClick.subscribe(function () {
            if (player.isFullscreen()) {
                player.exitFullscreen();
            }
            else {
                player.enterFullscreen();
            }
        });
        // Startup init
        fullscreenStateHandler();
    };
    return FullscreenToggleButton;
}(togglebutton_1.ToggleButton));
exports.FullscreenToggleButton = FullscreenToggleButton;


/***/ }),
/* 30 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var togglebutton_1 = __webpack_require__(5);
/**
 * A button that toggles the video view between normal/mono and VR/stereo.
 */
var VRToggleButton = (function (_super) {
    __extends(VRToggleButton, _super);
    function VRToggleButton(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-vrtogglebutton',
            text: 'VR',
        }, _this.config);
        return _this;
    }
    VRToggleButton.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        var isVRConfigured = function () {
            // VR availability cannot be checked through getVRStatus() because it is asynchronously populated and not
            // available at UI initialization. As an alternative, we check the VR settings in the config.
            // TODO use getVRStatus() through isVRStereoAvailable() once the player has been rewritten and the status is
            // available in ON_READY
            var config = player.getConfig();
            return config.source && config.source.vr && config.source.vr.contentType !== 'none';
        };
        var isVRStereoAvailable = function () {
            return player.getVRStatus().contentType !== 'none';
        };
        var vrStateHandler = function () {
            if (isVRConfigured() && isVRStereoAvailable()) {
                _this.show(); // show button in case it is hidden
                if (player.getVRStatus().isStereo) {
                    _this.on();
                }
                else {
                    _this.off();
                }
            }
            else {
                _this.hide(); // hide button if no stereo mode available
            }
        };
        var vrButtonVisibilityHandler = function () {
            if (isVRConfigured()) {
                _this.show();
            }
            else {
                _this.hide();
            }
        };
        player.addEventHandler(player.EVENT.ON_VR_MODE_CHANGED, vrStateHandler);
        player.addEventHandler(player.EVENT.ON_VR_STEREO_CHANGED, vrStateHandler);
        player.addEventHandler(player.EVENT.ON_VR_ERROR, vrStateHandler);
        // Hide button when VR source goes away
        player.addEventHandler(player.EVENT.ON_SOURCE_UNLOADED, vrButtonVisibilityHandler);
        // Show button when a new source is loaded and it's VR
        player.addEventHandler(player.EVENT.ON_READY, vrButtonVisibilityHandler);
        this.onClick.subscribe(function () {
            if (!isVRStereoAvailable()) {
                if (console) {
                    console.log('No VR content');
                }
            }
            else {
                if (player.getVRStatus().isStereo) {
                    player.setVRStereo(false);
                }
                else {
                    player.setVRStereo(true);
                }
            }
        });
        // Set startup visibility
        vrButtonVisibilityHandler();
    };
    return VRToggleButton;
}(togglebutton_1.ToggleButton));
exports.VRToggleButton = VRToggleButton;


/***/ }),
/* 31 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var label_1 = __webpack_require__(6);
var playerutils_1 = __webpack_require__(12);
var stringutils_1 = __webpack_require__(10);
var PlaybackTimeLabelMode;
(function (PlaybackTimeLabelMode) {
    PlaybackTimeLabelMode[PlaybackTimeLabelMode["CurrentTime"] = 0] = "CurrentTime";
    PlaybackTimeLabelMode[PlaybackTimeLabelMode["TotalTime"] = 1] = "TotalTime";
    PlaybackTimeLabelMode[PlaybackTimeLabelMode["CurrentAndTotalTime"] = 2] = "CurrentAndTotalTime";
})(PlaybackTimeLabelMode = exports.PlaybackTimeLabelMode || (exports.PlaybackTimeLabelMode = {}));
/**
 * A label that display the current playback time and the total time through {@link PlaybackTimeLabel#setTime setTime}
 * or any string through {@link PlaybackTimeLabel#setText setText}.
 */
var PlaybackTimeLabel = (function (_super) {
    __extends(PlaybackTimeLabel, _super);
    function PlaybackTimeLabel(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-playbacktimelabel',
            timeLabelMode: PlaybackTimeLabelMode.CurrentAndTotalTime,
            hideInLivePlayback: false,
        }, _this.config);
        return _this;
    }
    PlaybackTimeLabel.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        var config = this.getConfig();
        var live = false;
        var liveCssClass = this.prefixCss('ui-playbacktimelabel-live');
        var liveEdgeCssClass = this.prefixCss('ui-playbacktimelabel-live-edge');
        var minWidth = 0;
        var liveClickHandler = function () {
            player.timeShift(0);
        };
        var updateLiveState = function () {
            // Player is playing a live stream when the duration is infinite
            live = player.isLive();
            // Attach/detach live marker class
            if (live) {
                _this.getDomElement().addClass(liveCssClass);
                _this.setText('Live');
                if (config.hideInLivePlayback) {
                    _this.hide();
                }
                _this.onClick.subscribe(liveClickHandler);
                updateLiveTimeshiftState();
            }
            else {
                _this.getDomElement().removeClass(liveCssClass);
                _this.getDomElement().removeClass(liveEdgeCssClass);
                _this.show();
                _this.onClick.unsubscribe(liveClickHandler);
            }
        };
        var updateLiveTimeshiftState = function () {
            if (!live) {
                return;
            }
            // The player is only at the live edge iff the stream is not shifted and it is actually playing or playback has
            // never been started (meaning it isn't paused). A player that is paused is always behind the live edge.
            // An exception is made for live streams without a timeshift window, because here we "stop" playback instead
            // of pausing it (from a UI perspective), so we keep the live edge indicator on because a play would always
            // resume at the live edge.
            var isTimeshifted = player.getTimeShift() < 0;
            var isTimeshiftAvailable = player.getMaxTimeShift() < 0;
            if (!isTimeshifted && (!player.isPaused() || !isTimeshiftAvailable)) {
                _this.getDomElement().addClass(liveEdgeCssClass);
            }
            else {
                _this.getDomElement().removeClass(liveEdgeCssClass);
            }
        };
        var liveStreamDetector = new playerutils_1.PlayerUtils.LiveStreamDetector(player);
        liveStreamDetector.onLiveChanged.subscribe(function (sender, args) {
            live = args.live;
            updateLiveState();
        });
        liveStreamDetector.detect(); // Initial detection
        var playbackTimeHandler = function () {
            if (!live && player.getDuration() !== Infinity) {
                _this.setTime(player.getCurrentTime(), player.getDuration());
            }
            // To avoid 'jumping' in the UI by varying label sizes due to non-monospaced fonts,
            // we gradually increase the min-width with the content to reach a stable size.
            var width = _this.getDomElement().width();
            if (width > minWidth) {
                minWidth = width;
                _this.getDomElement().css({
                    'min-width': minWidth + 'px',
                });
            }
        };
        player.addEventHandler(player.EVENT.ON_TIME_CHANGED, playbackTimeHandler);
        player.addEventHandler(player.EVENT.ON_SEEKED, playbackTimeHandler);
        player.addEventHandler(player.EVENT.ON_CAST_TIME_UPDATED, playbackTimeHandler);
        player.addEventHandler(player.EVENT.ON_TIME_SHIFT, updateLiveTimeshiftState);
        player.addEventHandler(player.EVENT.ON_TIME_SHIFTED, updateLiveTimeshiftState);
        player.addEventHandler(player.EVENT.ON_PLAY, updateLiveTimeshiftState);
        player.addEventHandler(player.EVENT.ON_PAUSED, updateLiveTimeshiftState);
        var init = function () {
            // Reset min-width when a new source is ready (especially for switching VOD/Live modes where the label content
            // changes)
            minWidth = 0;
            _this.getDomElement().css({
                'min-width': null,
            });
            // Set time format depending on source duration
            _this.timeFormat = Math.abs(player.isLive() ? player.getMaxTimeShift() : player.getDuration()) >= 3600 ?
                stringutils_1.StringUtils.FORMAT_HHMMSS : stringutils_1.StringUtils.FORMAT_MMSS;
            // Update time after the format has been set
            playbackTimeHandler();
        };
        player.addEventHandler(player.EVENT.ON_READY, init);
        init();
    };
    /**
     * Sets the current playback time and total duration.
     * @param playbackSeconds the current playback time in seconds
     * @param durationSeconds the total duration in seconds
     */
    PlaybackTimeLabel.prototype.setTime = function (playbackSeconds, durationSeconds) {
        var currentTime = stringutils_1.StringUtils.secondsToTime(playbackSeconds, this.timeFormat);
        var totalTime = stringutils_1.StringUtils.secondsToTime(durationSeconds, this.timeFormat);
        switch (this.config.timeLabelMode) {
            case PlaybackTimeLabelMode.CurrentTime:
                this.setText("" + currentTime);
                break;
            case PlaybackTimeLabelMode.TotalTime:
                this.setText("" + totalTime);
                break;
            case PlaybackTimeLabelMode.CurrentAndTotalTime:
                this.setText(currentTime + " / " + totalTime);
                break;
        }
    };
    /**
     * Sets the current time format
     * @param timeFormat the time format
     */
    PlaybackTimeLabel.prototype.setTimeFormat = function (timeFormat) {
        this.timeFormat = timeFormat;
    };
    return PlaybackTimeLabel;
}(label_1.Label));
exports.PlaybackTimeLabel = PlaybackTimeLabel;


/***/ }),
/* 32 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var togglebutton_1 = __webpack_require__(5);
/**
 * A button that toggles visibility of a settings panel.
 */
var SettingsToggleButton = (function (_super) {
    __extends(SettingsToggleButton, _super);
    function SettingsToggleButton(config) {
        var _this = _super.call(this, config) || this;
        if (!config.settingsPanel) {
            throw new Error('Required SettingsPanel is missing');
        }
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-settingstogglebutton',
            text: 'Settings',
            settingsPanel: null,
            autoHideWhenNoActiveSettings: true,
        }, _this.config);
        return _this;
    }
    SettingsToggleButton.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        var config = this.getConfig(); // TODO fix generics type inference
        var settingsPanel = config.settingsPanel;
        this.onClick.subscribe(function () {
            settingsPanel.toggleHidden();
        });
        settingsPanel.onShow.subscribe(function () {
            // Set toggle status to on when the settings panel shows
            _this.on();
        });
        settingsPanel.onHide.subscribe(function () {
            // Set toggle status to off when the settings panel hides
            _this.off();
        });
        // Handle automatic hiding of the button if there are no settings for the user to interact with
        if (config.autoHideWhenNoActiveSettings) {
            // Setup handler to show/hide button when the settings change
            var settingsPanelItemsChangedHandler = function () {
                if (settingsPanel.hasActiveSettings()) {
                    if (_this.isHidden()) {
                        _this.show();
                    }
                }
                else {
                    if (_this.isShown()) {
                        _this.hide();
                    }
                }
            };
            // Wire the handler to the event
            settingsPanel.onSettingsStateChanged.subscribe(settingsPanelItemsChangedHandler);
            // Call handler for first init at startup
            settingsPanelItemsChangedHandler();
        }
    };
    return SettingsToggleButton;
}(togglebutton_1.ToggleButton));
exports.SettingsToggleButton = SettingsToggleButton;


/***/ }),
/* 33 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var component_1 = __webpack_require__(2);
var eventdispatcher_1 = __webpack_require__(3);
var arrayutils_1 = __webpack_require__(11);
var ListSelector = (function (_super) {
    __extends(ListSelector, _super);
    function ListSelector(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.listSelectorEvents = {
            onItemAdded: new eventdispatcher_1.EventDispatcher(),
            onItemRemoved: new eventdispatcher_1.EventDispatcher(),
            onItemSelected: new eventdispatcher_1.EventDispatcher(),
        };
        _this.config = _this.mergeConfig(config, {
            items: [],
            cssClass: 'ui-listselector',
        }, _this.config);
        _this.items = _this.config.items;
        return _this;
    }
    ListSelector.prototype.getItemIndex = function (key) {
        for (var index in this.items) {
            if (key === this.items[index].key) {
                return parseInt(index);
            }
        }
        return -1;
    };
    /**
     * Checks if the specified item is part of this selector.
     * @param key the key of the item to check
     * @returns {boolean} true if the item is part of this selector, else false
     */
    ListSelector.prototype.hasItem = function (key) {
        return this.getItemIndex(key) > -1;
    };
    /**
     * Adds an item to this selector by appending it to the end of the list of items. If an item with the specified
     * key already exists, it is replaced.
     * @param key the key of the item to add
     * @param label the (human-readable) label of the item to add
     */
    ListSelector.prototype.addItem = function (key, label) {
        var listItem = { key: key, label: label };
        // Apply filter function
        if (this.config.filter && !this.config.filter(listItem)) {
            return;
        }
        // Apply translator function
        if (this.config.translator) {
            listItem.label = this.config.translator(listItem);
        }
        this.removeItem(key); // Try to remove key first to get overwrite behavior and avoid duplicate keys
        this.items.push(listItem);
        this.onItemAddedEvent(key);
    };
    /**
     * Removes an item from this selector.
     * @param key the key of the item to remove
     * @returns {boolean} true if removal was successful, false if the item is not part of this selector
     */
    ListSelector.prototype.removeItem = function (key) {
        var index = this.getItemIndex(key);
        if (index > -1) {
            arrayutils_1.ArrayUtils.remove(this.items, this.items[index]);
            this.onItemRemovedEvent(key);
            return true;
        }
        return false;
    };
    /**
     * Selects an item from the items in this selector.
     * @param key the key of the item to select
     * @returns {boolean} true is the selection was successful, false if the selected item is not part of the selector
     */
    ListSelector.prototype.selectItem = function (key) {
        if (key === this.selectedItem) {
            // itemConfig is already selected, suppress any further action
            return true;
        }
        var index = this.getItemIndex(key);
        if (index > -1) {
            this.selectedItem = key;
            this.onItemSelectedEvent(key);
            return true;
        }
        return false;
    };
    /**
     * Returns the key of the selected item.
     * @returns {string} the key of the selected item or null if no item is selected
     */
    ListSelector.prototype.getSelectedItem = function () {
        return this.selectedItem;
    };
    /**
     * Removes all items from this selector.
     */
    ListSelector.prototype.clearItems = function () {
        // local copy for iteration after clear
        var items = this.items;
        // clear items
        this.items = [];
        // clear the selection as the selected item is also removed
        this.selectedItem = null;
        // fire events
        for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {
            var item = items_1[_i];
            this.onItemRemovedEvent(item.key);
        }
    };
    /**
     * Returns the number of items in this selector.
     * @returns {number}
     */
    ListSelector.prototype.itemCount = function () {
        return Object.keys(this.items).length;
    };
    ListSelector.prototype.onItemAddedEvent = function (key) {
        this.listSelectorEvents.onItemAdded.dispatch(this, key);
    };
    ListSelector.prototype.onItemRemovedEvent = function (key) {
        this.listSelectorEvents.onItemRemoved.dispatch(this, key);
    };
    ListSelector.prototype.onItemSelectedEvent = function (key) {
        this.listSelectorEvents.onItemSelected.dispatch(this, key);
    };
    Object.defineProperty(ListSelector.prototype, "onItemAdded", {
        /**
         * Gets the event that is fired when an item is added to the list of items.
         * @returns {Event<ListSelector<Config>, string>}
         */
        get: function () {
            return this.listSelectorEvents.onItemAdded.getEvent();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ListSelector.prototype, "onItemRemoved", {
        /**
         * Gets the event that is fired when an item is removed from the list of items.
         * @returns {Event<ListSelector<Config>, string>}
         */
        get: function () {
            return this.listSelectorEvents.onItemRemoved.getEvent();
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ListSelector.prototype, "onItemSelected", {
        /**
         * Gets the event that is fired when an item is selected from the list of items.
         * @returns {Event<ListSelector<Config>, string>}
         */
        get: function () {
            return this.listSelectorEvents.onItemSelected.getEvent();
        },
        enumerable: true,
        configurable: true
    });
    return ListSelector;
}(component_1.Component));
exports.ListSelector = ListSelector;


/***/ }),
/* 34 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var settingspanel_1 = __webpack_require__(22);
var fontcolorselectbox_1 = __webpack_require__(35);
var fontopacityselectbox_1 = __webpack_require__(36);
var fontfamilyselectbox_1 = __webpack_require__(37);
var fontsizeselectbox_1 = __webpack_require__(38);
var backgroundcolorselectbox_1 = __webpack_require__(39);
var backgroundopacityselectbox_1 = __webpack_require__(40);
var windowcolorselectbox_1 = __webpack_require__(41);
var windowopacityselectbox_1 = __webpack_require__(42);
var characteredgeselectbox_1 = __webpack_require__(43);
var subtitlesettingsmanager_1 = __webpack_require__(73);
var subtitlesettingsclosebutton_1 = __webpack_require__(45);
var subtitlesettingsresetbutton_1 = __webpack_require__(46);
/**
 * SubtitleSettingsPanel is a settings panel specific to subtitles settings
 **/
var SubtitleSettingsPanel = (function (_super) {
    __extends(SubtitleSettingsPanel, _super);
    function SubtitleSettingsPanel(config) {
        var _this = _super.call(this, config) || this;
        _this.overlay = config.overlay;
        var manager = new subtitlesettingsmanager_1.SubtitleSettingsManager();
        _this.config = _this.mergeConfig(config, {
            components: [
                new settingspanel_1.SettingsPanelItem('Font size', new fontsizeselectbox_1.FontSizeSelectBox({
                    overlay: _this.overlay, settingsManager: manager,
                })),
                new settingspanel_1.SettingsPanelItem('Font family', new fontfamilyselectbox_1.FontFamilySelectBox({
                    overlay: _this.overlay, settingsManager: manager,
                })),
                new settingspanel_1.SettingsPanelItem('Font color', new fontcolorselectbox_1.FontColorSelectBox({
                    overlay: _this.overlay, settingsManager: manager,
                })),
                new settingspanel_1.SettingsPanelItem('Font opacity', new fontopacityselectbox_1.FontOpacitySelectBox({
                    overlay: _this.overlay, settingsManager: manager,
                })),
                new settingspanel_1.SettingsPanelItem('Character edge', new characteredgeselectbox_1.CharacterEdgeSelectBox({
                    overlay: _this.overlay, settingsManager: manager,
                })),
                new settingspanel_1.SettingsPanelItem('Background color', new backgroundcolorselectbox_1.BackgroundColorSelectBox({
                    overlay: _this.overlay, settingsManager: manager,
                })),
                new settingspanel_1.SettingsPanelItem('Background opacity', new backgroundopacityselectbox_1.BackgroundOpacitySelectBox({
                    overlay: _this.overlay, settingsManager: manager,
                })),
                new settingspanel_1.SettingsPanelItem('Window color', new windowcolorselectbox_1.WindowColorSelectBox({
                    overlay: _this.overlay, settingsManager: manager,
                })),
                new settingspanel_1.SettingsPanelItem('Window opacity', new windowopacityselectbox_1.WindowOpacitySelectBox({
                    overlay: _this.overlay, settingsManager: manager,
                })),
                new settingspanel_1.SettingsPanelItem(new subtitlesettingsclosebutton_1.SubtitleSettingsCloseButton({
                    subtitleSettingsPanel: _this, settingsPanel: config.settingsPanel,
                }), new subtitlesettingsresetbutton_1.SubtitleSettingsResetButton({
                    settingsManager: manager,
                })),
            ],
        }, _this.config);
        return _this;
    }
    SubtitleSettingsPanel.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        this.onShow.subscribe(function () {
            _this.overlay.enablePreviewSubtitleLabel();
        });
        this.onHide.subscribe(function () {
            _this.overlay.removePreviewSubtitleLabel();
        });
    };
    return SubtitleSettingsPanel;
}(settingspanel_1.SettingsPanel));
exports.SubtitleSettingsPanel = SubtitleSettingsPanel;


/***/ }),
/* 35 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var subtitlesettingselectbox_1 = __webpack_require__(4);
/**
 * A select box providing a selection of different font colors.
 */
var FontColorSelectBox = (function (_super) {
    __extends(FontColorSelectBox, _super);
    function FontColorSelectBox() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    FontColorSelectBox.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        this.addItem(null, 'default');
        this.addItem('white', 'white');
        this.addItem('black', 'black');
        this.addItem('red', 'red');
        this.addItem('green', 'green');
        this.addItem('blue', 'blue');
        this.addItem('cyan', 'cyan');
        this.addItem('yellow', 'yellow');
        this.addItem('magenta', 'magenta');
        var setColorAndOpacity = function () {
            if (_this.settingsManager.fontColor.isSet() && _this.settingsManager.fontOpacity.isSet()) {
                _this.toggleOverlayClass('fontcolor-' + _this.settingsManager.fontColor.value + _this.settingsManager.fontOpacity.value);
            }
            else {
                _this.toggleOverlayClass(null);
            }
        };
        this.onItemSelected.subscribe(function (sender, key) {
            _this.settingsManager.fontColor.value = key;
        });
        this.settingsManager.fontColor.onChanged.subscribe(function (sender, property) {
            // Color and opacity go together, so we need to...
            if (!_this.settingsManager.fontColor.isSet()) {
                // ... clear the opacity when the color is not set
                _this.settingsManager.fontOpacity.clear();
            }
            else if (!_this.settingsManager.fontOpacity.isSet()) {
                // ... set an opacity when the color is set
                _this.settingsManager.fontOpacity.value = '100';
            }
            _this.selectItem(property.value);
            setColorAndOpacity();
        });
        this.settingsManager.fontOpacity.onChanged.subscribe(function () {
            setColorAndOpacity();
        });
        // Load initial value
        if (this.settingsManager.fontColor.isSet()) {
            this.selectItem(this.settingsManager.fontColor.value);
        }
    };
    return FontColorSelectBox;
}(subtitlesettingselectbox_1.SubtitleSettingSelectBox));
exports.FontColorSelectBox = FontColorSelectBox;


/***/ }),
/* 36 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var subtitlesettingselectbox_1 = __webpack_require__(4);
/**
 * A select box providing a selection of different font colors.
 */
var FontOpacitySelectBox = (function (_super) {
    __extends(FontOpacitySelectBox, _super);
    function FontOpacitySelectBox() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    FontOpacitySelectBox.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        this.addItem(null, 'default');
        this.addItem('100', '100%');
        this.addItem('75', '75%');
        this.addItem('50', '50%');
        this.addItem('25', '25%');
        this.onItemSelected.subscribe(function (sender, key) {
            _this.settingsManager.fontOpacity.value = key;
            // Color and opacity go together, so we need to...
            if (!_this.settingsManager.fontOpacity.isSet()) {
                // ... clear the color when the opacity is not set
                _this.settingsManager.fontColor.clear();
            }
            else if (!_this.settingsManager.fontColor.isSet()) {
                // ... set a color when the opacity is set
                _this.settingsManager.fontColor.value = 'white';
            }
        });
        // Update selected item when value is set from somewhere else
        this.settingsManager.fontOpacity.onChanged.subscribe(function (sender, property) {
            _this.selectItem(property.value);
        });
        // Load initial value
        if (this.settingsManager.fontOpacity.isSet()) {
            this.selectItem(this.settingsManager.fontOpacity.value);
        }
    };
    return FontOpacitySelectBox;
}(subtitlesettingselectbox_1.SubtitleSettingSelectBox));
exports.FontOpacitySelectBox = FontOpacitySelectBox;


/***/ }),
/* 37 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var subtitlesettingselectbox_1 = __webpack_require__(4);
/**
 * A select box providing a selection of different font family.
 */
var FontFamilySelectBox = (function (_super) {
    __extends(FontFamilySelectBox, _super);
    function FontFamilySelectBox() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    FontFamilySelectBox.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        this.addItem(null, 'default');
        this.addItem('monospacedserif', 'monospaced serif');
        this.addItem('proportionalserif', 'proportional serif');
        this.addItem('monospacedsansserif', 'monospaced sans serif');
        this.addItem('proportionalsansserif', 'proportional sans serif');
        this.addItem('casual', 'casual');
        this.addItem('cursive', 'cursive');
        this.addItem('smallcapital', 'small capital');
        this.settingsManager.fontFamily.onChanged.subscribe(function (sender, property) {
            if (property.isSet()) {
                _this.toggleOverlayClass('fontfamily-' + property.value);
            }
            else {
                _this.toggleOverlayClass(null);
            }
            // Select the item in case the property was set from outside
            _this.selectItem(property.value);
        });
        this.onItemSelected.subscribe(function (sender, key) {
            _this.settingsManager.fontFamily.value = key;
        });
        // Load initial value
        if (this.settingsManager.fontFamily.isSet()) {
            this.selectItem(this.settingsManager.fontFamily.value);
        }
    };
    return FontFamilySelectBox;
}(subtitlesettingselectbox_1.SubtitleSettingSelectBox));
exports.FontFamilySelectBox = FontFamilySelectBox;


/***/ }),
/* 38 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var subtitlesettingselectbox_1 = __webpack_require__(4);
/**
 * A select box providing a selection of different font colors.
 */
var FontSizeSelectBox = (function (_super) {
    __extends(FontSizeSelectBox, _super);
    function FontSizeSelectBox() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    FontSizeSelectBox.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        this.addItem(null, 'default');
        this.addItem('50', '50%');
        this.addItem('75', '75%');
        this.addItem('100', '100%');
        this.addItem('150', '150%');
        this.addItem('200', '200%');
        this.addItem('300', '300%');
        this.addItem('400', '400%');
        this.settingsManager.fontSize.onChanged.subscribe(function (sender, property) {
            if (property.isSet()) {
                _this.toggleOverlayClass('fontsize-' + property.value);
            }
            else {
                _this.toggleOverlayClass(null);
            }
            // Select the item in case the property was set from outside
            _this.selectItem(property.value);
        });
        this.onItemSelected.subscribe(function (sender, key) {
            _this.settingsManager.fontSize.value = key;
        });
        // Load initial value
        if (this.settingsManager.fontSize.isSet()) {
            this.selectItem(this.settingsManager.fontSize.value);
        }
    };
    return FontSizeSelectBox;
}(subtitlesettingselectbox_1.SubtitleSettingSelectBox));
exports.FontSizeSelectBox = FontSizeSelectBox;


/***/ }),
/* 39 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var subtitlesettingselectbox_1 = __webpack_require__(4);
/**
 * A select box providing a selection of different background colors.
 */
var BackgroundColorSelectBox = (function (_super) {
    __extends(BackgroundColorSelectBox, _super);
    function BackgroundColorSelectBox() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    BackgroundColorSelectBox.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        this.addItem(null, 'default');
        this.addItem('white', 'white');
        this.addItem('black', 'black');
        this.addItem('red', 'red');
        this.addItem('green', 'green');
        this.addItem('blue', 'blue');
        this.addItem('cyan', 'cyan');
        this.addItem('yellow', 'yellow');
        this.addItem('magenta', 'magenta');
        var setColorAndOpacity = function () {
            if (_this.settingsManager.backgroundColor.isSet() && _this.settingsManager.backgroundOpacity.isSet()) {
                _this.toggleOverlayClass('bgcolor-' + _this.settingsManager.backgroundColor.value + _this.settingsManager.backgroundOpacity.value);
            }
            else {
                _this.toggleOverlayClass(null);
            }
        };
        this.onItemSelected.subscribe(function (sender, key) {
            _this.settingsManager.backgroundColor.value = key;
        });
        this.settingsManager.backgroundColor.onChanged.subscribe(function (sender, property) {
            // Color and opacity go together, so we need to...
            if (!_this.settingsManager.backgroundColor.isSet()) {
                // ... clear the opacity when the color is not set
                _this.settingsManager.backgroundOpacity.clear();
            }
            else if (!_this.settingsManager.backgroundOpacity.isSet()) {
                // ... set an opacity when the color is set
                _this.settingsManager.backgroundOpacity.value = '100';
            }
            _this.selectItem(property.value);
            setColorAndOpacity();
        });
        this.settingsManager.backgroundOpacity.onChanged.subscribe(function () {
            setColorAndOpacity();
        });
        // Load initial value
        if (this.settingsManager.backgroundColor.isSet()) {
            this.selectItem(this.settingsManager.backgroundColor.value);
        }
    };
    return BackgroundColorSelectBox;
}(subtitlesettingselectbox_1.SubtitleSettingSelectBox));
exports.BackgroundColorSelectBox = BackgroundColorSelectBox;


/***/ }),
/* 40 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var subtitlesettingselectbox_1 = __webpack_require__(4);
/**
 * A select box providing a selection of different background opacity.
 */
var BackgroundOpacitySelectBox = (function (_super) {
    __extends(BackgroundOpacitySelectBox, _super);
    function BackgroundOpacitySelectBox() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    BackgroundOpacitySelectBox.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        this.addItem(null, 'default');
        this.addItem('100', '100%');
        this.addItem('75', '75%');
        this.addItem('50', '50%');
        this.addItem('25', '25%');
        this.addItem('0', '0%');
        this.onItemSelected.subscribe(function (sender, key) {
            _this.settingsManager.backgroundOpacity.value = key;
            // Color and opacity go together, so we need to...
            if (!_this.settingsManager.backgroundOpacity.isSet()) {
                // ... clear the color when the opacity is not set
                _this.settingsManager.backgroundColor.clear();
            }
            else if (!_this.settingsManager.backgroundColor.isSet()) {
                // ... set a color when the opacity is set
                _this.settingsManager.backgroundColor.value = 'black';
            }
        });
        // Update selected item when value is set from somewhere else
        this.settingsManager.backgroundOpacity.onChanged.subscribe(function (sender, property) {
            _this.selectItem(property.value);
        });
        // Load initial value
        if (this.settingsManager.backgroundOpacity.isSet()) {
            this.selectItem(this.settingsManager.backgroundOpacity.value);
        }
    };
    return BackgroundOpacitySelectBox;
}(subtitlesettingselectbox_1.SubtitleSettingSelectBox));
exports.BackgroundOpacitySelectBox = BackgroundOpacitySelectBox;


/***/ }),
/* 41 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var subtitlesettingselectbox_1 = __webpack_require__(4);
/**
 * A select box providing a selection of different background colors.
 */
var WindowColorSelectBox = (function (_super) {
    __extends(WindowColorSelectBox, _super);
    function WindowColorSelectBox() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    WindowColorSelectBox.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        this.addItem(null, 'default');
        this.addItem('white', 'white');
        this.addItem('black', 'black');
        this.addItem('red', 'red');
        this.addItem('green', 'green');
        this.addItem('blue', 'blue');
        this.addItem('cyan', 'cyan');
        this.addItem('yellow', 'yellow');
        this.addItem('magenta', 'magenta');
        var setColorAndOpacity = function () {
            if (_this.settingsManager.windowColor.isSet() && _this.settingsManager.windowOpacity.isSet()) {
                _this.toggleOverlayClass('windowcolor-' + _this.settingsManager.windowColor.value + _this.settingsManager.windowOpacity.value);
            }
            else {
                _this.toggleOverlayClass(null);
            }
        };
        this.onItemSelected.subscribe(function (sender, key) {
            _this.settingsManager.windowColor.value = key;
        });
        this.settingsManager.windowColor.onChanged.subscribe(function (sender, property) {
            // Color and opacity go together, so we need to...
            if (!_this.settingsManager.windowColor.isSet()) {
                // ... clear the opacity when the color is not set
                _this.settingsManager.windowOpacity.clear();
            }
            else if (!_this.settingsManager.windowOpacity.isSet()) {
                // ... set an opacity when the color is set
                _this.settingsManager.windowOpacity.value = '100';
            }
            _this.selectItem(property.value);
            setColorAndOpacity();
        });
        this.settingsManager.windowOpacity.onChanged.subscribe(function () {
            setColorAndOpacity();
        });
        // Load initial value
        if (this.settingsManager.windowColor.isSet()) {
            this.selectItem(this.settingsManager.windowColor.value);
        }
    };
    return WindowColorSelectBox;
}(subtitlesettingselectbox_1.SubtitleSettingSelectBox));
exports.WindowColorSelectBox = WindowColorSelectBox;


/***/ }),
/* 42 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var subtitlesettingselectbox_1 = __webpack_require__(4);
/**
 * A select box providing a selection of different background opacity.
 */
var WindowOpacitySelectBox = (function (_super) {
    __extends(WindowOpacitySelectBox, _super);
    function WindowOpacitySelectBox() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    WindowOpacitySelectBox.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        this.addItem(null, 'default');
        this.addItem('100', '100%');
        this.addItem('75', '75%');
        this.addItem('50', '50%');
        this.addItem('25', '25%');
        this.addItem('0', '0%');
        this.onItemSelected.subscribe(function (sender, key) {
            _this.settingsManager.windowOpacity.value = key;
            // Color and opacity go together, so we need to...
            if (!_this.settingsManager.windowOpacity.isSet()) {
                // ... clear the color when the opacity is not set
                _this.settingsManager.windowColor.clear();
            }
            else if (!_this.settingsManager.windowColor.isSet()) {
                // ... set a color when the opacity is set
                _this.settingsManager.windowColor.value = 'black';
            }
        });
        // Update selected item when value is set from somewhere else
        this.settingsManager.windowOpacity.onChanged.subscribe(function (sender, property) {
            _this.selectItem(property.value);
        });
        // Load initial value
        if (this.settingsManager.windowOpacity.isSet()) {
            this.selectItem(this.settingsManager.windowOpacity.value);
        }
    };
    return WindowOpacitySelectBox;
}(subtitlesettingselectbox_1.SubtitleSettingSelectBox));
exports.WindowOpacitySelectBox = WindowOpacitySelectBox;


/***/ }),
/* 43 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var subtitlesettingselectbox_1 = __webpack_require__(4);
/**
 * A select box providing a selection of different character edge.
 */
var CharacterEdgeSelectBox = (function (_super) {
    __extends(CharacterEdgeSelectBox, _super);
    function CharacterEdgeSelectBox() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    CharacterEdgeSelectBox.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        this.addItem(null, 'default');
        this.addItem('raised', 'raised');
        this.addItem('depressed', 'depressed');
        this.addItem('uniform', 'uniform');
        this.addItem('dropshadowed', 'drop shadowed');
        this.settingsManager.characterEdge.onChanged.subscribe(function (sender, property) {
            if (property.isSet()) {
                _this.toggleOverlayClass('characteredge-' + property.value);
            }
            else {
                _this.toggleOverlayClass(null);
            }
            // Select the item in case the property was set from outside
            _this.selectItem(property.value);
        });
        this.onItemSelected.subscribe(function (sender, key) {
            _this.settingsManager.characterEdge.value = key;
        });
        // Load initial value
        if (this.settingsManager.characterEdge.isSet()) {
            this.selectItem(this.settingsManager.characterEdge.value);
        }
    };
    return CharacterEdgeSelectBox;
}(subtitlesettingselectbox_1.SubtitleSettingSelectBox));
exports.CharacterEdgeSelectBox = CharacterEdgeSelectBox;


/***/ }),
/* 44 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var StorageUtils;
(function (StorageUtils) {
    var hasLocalStorageCache;
    function hasLocalStorage() {
        if (hasLocalStorageCache) {
            return hasLocalStorageCache;
        }
        // hasLocalStorage is used to safely ensure we can use localStorage
        // taken from https://developer.mozilla.org/en-US/docs/Web/API/Web_Storage_API/Using_the_Web_Storage_API#Feature-detecting_localStorage
        var storage = window['localStorage'];
        try {
            var x = '__storage_test__';
            storage.setItem(x, x);
            storage.removeItem(x);
            hasLocalStorageCache = true;
        }
        catch (e) {
            hasLocalStorageCache = e instanceof DOMException && (
            // everything except Firefox
            e.code === 22 ||
                // Firefox
                e.code === 1014 ||
                // test name field too, because code might not be present
                // everything except Firefox
                e.name === 'QuotaExceededError' ||
                // Firefox
                e.name === 'NS_ERROR_DOM_QUOTA_REACHED') &&
                // acknowledge QuotaExceededError only if there's something already stored
                storage.length !== 0;
        }
        return hasLocalStorageCache;
    }
    StorageUtils.hasLocalStorage = hasLocalStorage;
    /**
     * Stores a string item into localStorage.
     * @param key the item's key
     * @param data the item's data
     */
    function setItem(key, data) {
        if (StorageUtils.hasLocalStorage()) {
            window.localStorage.setItem(key, data);
        }
    }
    StorageUtils.setItem = setItem;
    /**
     * Gets an item's string value from the localStorage.
     * @param key the key to look up its associated value
     * @return {string | null} Returns the string if found, null if there is no data stored for the key
     */
    function getItem(key) {
        if (StorageUtils.hasLocalStorage()) {
            return window.localStorage.getItem(key);
        }
        else {
            return null;
        }
    }
    StorageUtils.getItem = getItem;
    /**
     * Stores an object into localStorage. The object will be serialized to JSON. The following types are supported
     * in addition to the default types:
     *  - ColorUtils.Color
     *
     * @param key the key to store the data to
     * @param data the object to store
     */
    function setObject(key, data) {
        if (StorageUtils.hasLocalStorage()) {
            var json = JSON.stringify(data);
            setItem(key, json);
        }
    }
    StorageUtils.setObject = setObject;
    /**
     * Gets an object for the given key from localStorage. The object will be deserialized from JSON. Beside the
     * default types, the following types are supported:
     *  - ColorUtils.Color
     *
     * @param key the key to look up its associated object
     * @return {any} Returns the object if found, null otherwise
     */
    function getObject(key) {
        if (StorageUtils.hasLocalStorage()) {
            var json = getItem(key);
            if (key) {
                var object = JSON.parse(json);
                return object;
            }
        }
        return null;
    }
    StorageUtils.getObject = getObject;
})(StorageUtils = exports.StorageUtils || (exports.StorageUtils = {}));


/***/ }),
/* 45 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var subtitlesettingsbutton_1 = __webpack_require__(25);
/**
 * A button that toggles the option menu for subtitles
 */
var SubtitleSettingsCloseButton = (function (_super) {
    __extends(SubtitleSettingsCloseButton, _super);
    function SubtitleSettingsCloseButton(config) {
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-subtitlesettingsclosebutton',
            text: 'Back',
        }, _this.config);
        return _this;
    }
    SubtitleSettingsCloseButton.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        this.onClick.subscribe(function () {
            _this.subtitleSettingsPanel.hide();
            _this.settingsPanel.show();
        });
    };
    return SubtitleSettingsCloseButton;
}(subtitlesettingsbutton_1.SubtitleSettingsButton));
exports.SubtitleSettingsCloseButton = SubtitleSettingsCloseButton;


/***/ }),
/* 46 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var button_1 = __webpack_require__(7);
/**
 * A button that resets all subtitle settings to their defaults.
 */
var SubtitleSettingsResetButton = (function (_super) {
    __extends(SubtitleSettingsResetButton, _super);
    function SubtitleSettingsResetButton(config) {
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-subtitlesettingsresetbutton',
            text: 'Reset',
        }, _this.config);
        return _this;
    }
    SubtitleSettingsResetButton.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        this.onClick.subscribe(function () {
            _this.config.settingsManager.reset();
        });
    };
    return SubtitleSettingsResetButton;
}(button_1.Button));
exports.SubtitleSettingsResetButton = SubtitleSettingsResetButton;


/***/ }),
/* 47 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var container_1 = __webpack_require__(0);
var dom_1 = __webpack_require__(1);
var SubtitleSettingsLabel = (function (_super) {
    __extends(SubtitleSettingsLabel, _super);
    function SubtitleSettingsLabel(config) {
        var _this = _super.call(this, config) || this;
        _this.opener = config.opener;
        _this.text = config.text;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-label',
            components: [
                _this.opener,
            ],
        }, _this.config);
        return _this;
    }
    SubtitleSettingsLabel.prototype.toDomElement = function () {
        var labelElement = new dom_1.DOM('span', {
            'id': this.config.id,
            'class': this.getCssClasses(),
        }).append(new dom_1.DOM('span', {}).html(this.text), this.opener.getDomElement());
        return labelElement;
    };
    return SubtitleSettingsLabel;
}(container_1.Container));
exports.SubtitleSettingsLabel = SubtitleSettingsLabel;


/***/ }),
/* 48 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var subtitlesettingsbutton_1 = __webpack_require__(25);
/**
 * A button that toggles the option menu for subtitles
 */
var SubtitleSettingsOpenButton = (function (_super) {
    __extends(SubtitleSettingsOpenButton, _super);
    function SubtitleSettingsOpenButton(config) {
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-subtitlesettingsopenbutton',
            text: 'Subtitles settings',
        }, _this.config);
        return _this;
    }
    SubtitleSettingsOpenButton.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        this.onClick.subscribe(function () {
            _this.subtitleSettingsPanel.show();
            _this.settingsPanel.hide();
        });
    };
    return SubtitleSettingsOpenButton;
}(subtitlesettingsbutton_1.SubtitleSettingsButton));
exports.SubtitleSettingsOpenButton = SubtitleSettingsOpenButton;


/***/ }),
/* 49 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var selectbox_1 = __webpack_require__(8);
/**
 * A select box providing a selection between available audio tracks (e.g. different languages).
 */
var AudioTrackSelectBox = (function (_super) {
    __extends(AudioTrackSelectBox, _super);
    function AudioTrackSelectBox(config) {
        if (config === void 0) { config = {}; }
        return _super.call(this, config) || this;
    }
    AudioTrackSelectBox.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        var selectCurrentAudioTrack = function () {
            var currentAudioTrack = player.getAudio();
            // HLS streams don't always provide this, so we have to check
            if (currentAudioTrack) {
                _this.selectItem(currentAudioTrack.id);
            }
        };
        var updateAudioTracks = function () {
            var audioTracks = player.getAvailableAudio();
            _this.clearItems();
            // Add audio tracks
            for (var _i = 0, audioTracks_1 = audioTracks; _i < audioTracks_1.length; _i++) {
                var audioTrack = audioTracks_1[_i];
                _this.addItem(audioTrack.id, audioTrack.label);
            }
            // Select the correct audio track after the tracks have been added
            // This is also important in case we missed the `ON_AUDIO_CHANGED` event, e.g. when `playback.audioLanguage`
            // is configured but the event is fired before the UI is created.
            selectCurrentAudioTrack();
        };
        this.onItemSelected.subscribe(function (sender, value) {
            player.setAudio(value);
        });
        // Update selection when selected track has changed
        player.addEventHandler(player.EVENT.ON_AUDIO_CHANGED, selectCurrentAudioTrack);
        // Update tracks when source goes away
        player.addEventHandler(player.EVENT.ON_SOURCE_UNLOADED, updateAudioTracks);
        // Update tracks when a new source is loaded
        player.addEventHandler(player.EVENT.ON_READY, updateAudioTracks);
        // Update tracks when the period within a source changes
        player.addEventHandler(player.EVENT.ON_PERIOD_SWITCHED, updateAudioTracks);
        // Update tracks when a track is added or removed (since player 7.1.4)
        if (player.EVENT.ON_AUDIO_ADDED && player.EVENT.ON_AUDIO_REMOVED) {
            player.addEventHandler(player.EVENT.ON_AUDIO_ADDED, updateAudioTracks);
            player.addEventHandler(player.EVENT.ON_AUDIO_REMOVED, updateAudioTracks);
        }
        // Populate tracks at startup
        updateAudioTracks();
    };
    return AudioTrackSelectBox;
}(selectbox_1.SelectBox));
exports.AudioTrackSelectBox = AudioTrackSelectBox;


/***/ }),
/* 50 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var container_1 = __webpack_require__(0);
var label_1 = __webpack_require__(6);
var component_1 = __webpack_require__(2);
var stringutils_1 = __webpack_require__(10);
var imageloader_1 = __webpack_require__(74);
/**
 * A label for a {@link SeekBar} that can display the seek target time, a thumbnail, and title (e.g. chapter title).
 */
var SeekBarLabel = (function (_super) {
    __extends(SeekBarLabel, _super);
    function SeekBarLabel(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.timeLabel = new label_1.Label({ cssClasses: ['seekbar-label-time'] });
        _this.titleLabel = new label_1.Label({ cssClasses: ['seekbar-label-title'] });
        _this.thumbnail = new component_1.Component({ cssClasses: ['seekbar-thumbnail'] });
        _this.thumbnailImageLoader = new imageloader_1.ImageLoader();
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-seekbar-label',
            components: [new container_1.Container({
                    components: [
                        _this.thumbnail,
                        new container_1.Container({
                            components: [_this.titleLabel, _this.timeLabel],
                            cssClass: 'seekbar-label-metadata',
                        })
                    ],
                    cssClass: 'seekbar-label-inner',
                })],
            hidden: true,
        }, _this.config);
        return _this;
    }
    SeekBarLabel.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        var appliedMarkerCssClasses = [];
        uimanager.onSeekPreview.subscribeRateLimited(function (sender, args) {
            if (player.isLive()) {
                var maxTimeShift = player.getMaxTimeShift();
                var time = maxTimeShift - maxTimeShift * (args.position / 100);
                _this.setTime(time);
            }
            else {
                if (args.marker) {
                    _this.setTitleText(args.marker.marker.title);
                }
                else {
                    _this.setTitleText(null);
                }
                var time = player.getDuration() * (args.position / 100);
                _this.setTime(time);
                _this.setThumbnail(player.getThumb(time));
            }
            // Remove CSS classes from previous marker
            if (appliedMarkerCssClasses.length > 0) {
                _this.getDomElement().removeClass(appliedMarkerCssClasses.join(' '));
                appliedMarkerCssClasses = [];
            }
            // Add CSS classes of current marker
            if (args.marker) {
                var cssClasses = (args.marker.marker.cssClasses || []).map(function (cssClass) { return _this.prefixCss(cssClass); });
                _this.getDomElement().addClass(cssClasses.join(' '));
                appliedMarkerCssClasses = cssClasses;
            }
        }, 100);
        var init = function () {
            // Set time format depending on source duration
            _this.timeFormat = Math.abs(player.isLive() ? player.getMaxTimeShift() : player.getDuration()) >= 3600 ?
                stringutils_1.StringUtils.FORMAT_HHMMSS : stringutils_1.StringUtils.FORMAT_MMSS;
        };
        player.addEventHandler(player.EVENT.ON_READY, init);
        init();
    };
    /**
     * Sets arbitrary text on the label.
     * @param text the text to show on the label
     */
    SeekBarLabel.prototype.setText = function (text) {
        this.timeLabel.setText(text);
    };
    /**
     * Sets a time to be displayed on the label.
     * @param seconds the time in seconds to display on the label
     */
    SeekBarLabel.prototype.setTime = function (seconds) {
        this.setText(stringutils_1.StringUtils.secondsToTime(seconds, this.timeFormat));
    };
    /**
     * Sets the text on the title label.
     * @param text the text to show on the label
     */
    SeekBarLabel.prototype.setTitleText = function (text) {
        this.titleLabel.setText(text);
    };
    /**
     * Sets or removes a thumbnail on the label.
     * @param thumbnail the thumbnail to display on the label or null to remove a displayed thumbnail
     */
    SeekBarLabel.prototype.setThumbnail = function (thumbnail) {
        if (thumbnail === void 0) { thumbnail = null; }
        var thumbnailElement = this.thumbnail.getDomElement();
        if (thumbnail == null) {
            thumbnailElement.css({
                'background-image': null,
                'display': null,
                'width': null,
                'height': null,
            });
        }
        else {
            // We use the thumbnail image loader to make sure the thumbnail is loaded and it's size is known before be can
            // calculate the CSS properties and set them on the element.
            this.thumbnailImageLoader.load(thumbnail.url, function (url, width, height) {
                var thumbnailCountX = width / thumbnail.w;
                var thumbnailCountY = height / thumbnail.h;
                var thumbnailIndexX = thumbnail.x / thumbnail.w;
                var thumbnailIndexY = thumbnail.y / thumbnail.h;
                var sizeX = 100 * thumbnailCountX;
                var sizeY = 100 * thumbnailCountY;
                var offsetX = 100 * thumbnailIndexX;
                var offsetY = 100 * thumbnailIndexY;
                var aspectRatio = 1 / thumbnail.w * thumbnail.h;
                // The thumbnail size is set by setting the CSS 'width' and 'padding-bottom' properties. 'padding-bottom' is
                // used because it is relative to the width and can be used to set the aspect ratio of the thumbnail.
                // A default value for width is set in the stylesheet and can be overwritten from there or anywhere else.
                thumbnailElement.css({
                    'display': 'inherit',
                    'background-image': "url(" + thumbnail.url + ")",
                    'padding-bottom': 100 * aspectRatio + "%",
                    'background-size': sizeX + "% " + sizeY + "%",
                    'background-position': "-" + offsetX + "% -" + offsetY + "%",
                });
            });
        }
    };
    return SeekBarLabel;
}(container_1.Container));
exports.SeekBarLabel = SeekBarLabel;


/***/ }),
/* 51 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var selectbox_1 = __webpack_require__(8);
/**
 * A select box providing a selection between available subtitle and caption tracks.
 */
var SubtitleSelectBox = (function (_super) {
    __extends(SubtitleSelectBox, _super);
    function SubtitleSelectBox(config) {
        if (config === void 0) { config = {}; }
        return _super.call(this, config) || this;
    }
    SubtitleSelectBox.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        var selectCurrentSubtitle = function () {
            var currentSubtitle = player.getSubtitle();
            if (currentSubtitle) {
                _this.selectItem(currentSubtitle.id);
            }
        };
        var updateSubtitles = function () {
            _this.clearItems();
            for (var _i = 0, _a = player.getAvailableSubtitles(); _i < _a.length; _i++) {
                var subtitle = _a[_i];
                _this.addItem(subtitle.id, subtitle.label);
            }
            // Select the correct subtitle after the subtitles have been added
            selectCurrentSubtitle();
        };
        this.onItemSelected.subscribe(function (sender, value) {
            player.setSubtitle(value === 'null' ? null : value);
        });
        // React to API events
        player.addEventHandler(player.EVENT.ON_SUBTITLE_ADDED, updateSubtitles);
        player.addEventHandler(player.EVENT.ON_SUBTITLE_CHANGED, selectCurrentSubtitle);
        player.addEventHandler(player.EVENT.ON_SUBTITLE_REMOVED, updateSubtitles);
        // Update subtitles when source goes away
        player.addEventHandler(player.EVENT.ON_SOURCE_UNLOADED, updateSubtitles);
        // Update subtitles when a new source is loaded
        player.addEventHandler(player.EVENT.ON_READY, updateSubtitles);
        // Update subtitles when the period within a source changes
        player.addEventHandler(player.EVENT.ON_PERIOD_SWITCHED, updateSubtitles);
        // Populate subtitles at startup
        updateSubtitles();
    };
    return SubtitleSelectBox;
}(selectbox_1.SelectBox));
exports.SubtitleSelectBox = SubtitleSelectBox;


/***/ }),
/* 52 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var container_1 = __webpack_require__(0);
var label_1 = __webpack_require__(6);
var controlbar_1 = __webpack_require__(19);
var eventdispatcher_1 = __webpack_require__(3);
/**
 * Overlays the player to display subtitles.
 */
var SubtitleOverlay = (function (_super) {
    __extends(SubtitleOverlay, _super);
    function SubtitleOverlay(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.preprocessLabelEventCallback = new eventdispatcher_1.EventDispatcher();
        _this.previewSubtitleActive = false;
        _this.previewSubtitle = new SubtitleLabel({ text: 'example subtitle' });
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-subtitle-overlay',
        }, _this.config);
        return _this;
    }
    SubtitleOverlay.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        var subtitleManager = new ActiveSubtitleManager();
        this.subtitleManager = subtitleManager;
        player.addEventHandler(player.EVENT.ON_CUE_ENTER, function (event) {
            // Sanitize cue data (must be done before the cue ID is generated in subtitleManager.cueEnter)
            if (event.position) {
                // Sometimes the positions are undefined, we assume them to be zero
                event.position.row = event.position.row || 0;
                event.position.column = event.position.column || 0;
            }
            var labelToAdd = subtitleManager.cueEnter(event);
            _this.preprocessLabelEventCallback.dispatch(event, labelToAdd);
            if (_this.previewSubtitleActive) {
                _this.removeComponent(_this.previewSubtitle);
            }
            _this.addComponent(labelToAdd);
            _this.updateComponents();
            _this.show();
        });
        player.addEventHandler(player.EVENT.ON_CUE_EXIT, function (event) {
            var labelToRemove = subtitleManager.cueExit(event);
            if (labelToRemove) {
                _this.removeComponent(labelToRemove);
                _this.updateComponents();
            }
            if (!subtitleManager.hasCues) {
                if (!_this.previewSubtitleActive) {
                    _this.hide();
                }
                else {
                    _this.addComponent(_this.previewSubtitle);
                    _this.updateComponents();
                }
            }
        });
        var subtitleClearHandler = function () {
            _this.hide();
            subtitleManager.clear();
            _this.removeComponents();
            _this.updateComponents();
        };
        player.addEventHandler(player.EVENT.ON_AUDIO_CHANGED, subtitleClearHandler);
        player.addEventHandler(player.EVENT.ON_SUBTITLE_CHANGED, subtitleClearHandler);
        player.addEventHandler(player.EVENT.ON_SEEK, subtitleClearHandler);
        player.addEventHandler(player.EVENT.ON_TIME_SHIFT, subtitleClearHandler);
        player.addEventHandler(player.EVENT.ON_PLAYBACK_FINISHED, subtitleClearHandler);
        player.addEventHandler(player.EVENT.ON_SOURCE_UNLOADED, subtitleClearHandler);
        uimanager.onComponentShow.subscribe(function (component) {
            if (component instanceof controlbar_1.ControlBar) {
                _this.getDomElement().addClass(_this.prefixCss(SubtitleOverlay.CLASS_CONTROLBAR_VISIBLE));
            }
        });
        uimanager.onComponentHide.subscribe(function (component) {
            if (component instanceof controlbar_1.ControlBar) {
                _this.getDomElement().removeClass(_this.prefixCss(SubtitleOverlay.CLASS_CONTROLBAR_VISIBLE));
            }
        });
        this.configureCea608Captions(player, uimanager);
        // Init
        subtitleClearHandler();
    };
    SubtitleOverlay.prototype.configureCea608Captions = function (player, uimanager) {
        var _this = this;
        // The calculated font size
        var fontSize = 0;
        // The required letter spacing spread the text characters evenly across the grid
        var fontLetterSpacing = 0;
        // Flag telling if a font size calculation is required of if the current values are valid
        var fontSizeCalculationRequired = true;
        // Flag telling if the CEA-608 mode is enabled
        var enabled = false;
        var updateCEA608FontSize = function () {
            var dummyLabel = new SubtitleLabel({ text: 'X' });
            dummyLabel.getDomElement().css({
                // By using a large font size we do not need to use multiple letters and can get still an
                // accurate measurement even though the returned size is an integer value
                'font-size': '200px',
                'line-height': '200px',
                'visibility': 'hidden',
            });
            _this.addComponent(dummyLabel);
            _this.updateComponents();
            _this.show();
            var dummyLabelCharWidth = dummyLabel.getDomElement().width();
            var dummyLabelCharHeight = dummyLabel.getDomElement().height();
            var fontSizeRatio = dummyLabelCharWidth / dummyLabelCharHeight;
            _this.removeComponent(dummyLabel);
            _this.updateComponents();
            if (!_this.subtitleManager.hasCues) {
                _this.hide();
            }
            // We subtract 1px here to avoid line breaks at the right border of the subtitle overlay that can happen
            // when texts contain whitespaces. It's probably some kind of pixel rounding issue in the browser's
            // layouting, but the actual reason could not be determined. Aiming for a target width - 1px would work in
            // most browsers, but Safari has a "quantized" font size rendering with huge steps in between so we need
            // to subtract some more pixels to avoid line breaks there as well.
            var subtitleOverlayWidth = _this.getDomElement().width() - 10;
            var subtitleOverlayHeight = _this.getDomElement().height();
            // The size ratio of the letter grid
            var fontGridSizeRatio = (dummyLabelCharWidth * SubtitleOverlay.CEA608_NUM_COLUMNS) /
                (dummyLabelCharHeight * SubtitleOverlay.CEA608_NUM_ROWS);
            // The size ratio of the available space for the grid
            var subtitleOverlaySizeRatio = subtitleOverlayWidth / subtitleOverlayHeight;
            if (subtitleOverlaySizeRatio > fontGridSizeRatio) {
                // When the available space is wider than the text grid, the font size is simply
                // determined by the height of the available space.
                fontSize = subtitleOverlayHeight / SubtitleOverlay.CEA608_NUM_ROWS;
                // Calculate the additional letter spacing required to evenly spread the text across the grid's width
                var gridSlotWidth = subtitleOverlayWidth / SubtitleOverlay.CEA608_NUM_COLUMNS;
                var fontCharWidth = fontSize * fontSizeRatio;
                fontLetterSpacing = gridSlotWidth - fontCharWidth;
            }
            else {
                // When the available space is not wide enough, texts would vertically overlap if we take
                // the height as a base for the font size, so we need to limit the height. We do that
                // by determining the font size by the width of the available space.
                fontSize = subtitleOverlayWidth / SubtitleOverlay.CEA608_NUM_COLUMNS / fontSizeRatio;
                fontLetterSpacing = 0;
            }
            // Update font-size of all active subtitle labels
            for (var _i = 0, _a = _this.getComponents(); _i < _a.length; _i++) {
                var label = _a[_i];
                if (label instanceof SubtitleLabel) {
                    label.getDomElement().css({
                        'font-size': fontSize + "px",
                        'letter-spacing': fontLetterSpacing + "px",
                    });
                }
            }
        };
        player.addEventHandler(player.EVENT.ON_PLAYER_RESIZE, function () {
            if (enabled) {
                updateCEA608FontSize();
            }
            else {
                fontSizeCalculationRequired = true;
            }
        });
        this.preprocessLabelEventCallback.subscribe(function (event, label) {
            var isCEA608 = event.position != null;
            if (!isCEA608) {
                // Skip all non-CEA608 cues
                return;
            }
            if (!enabled) {
                enabled = true;
                _this.getDomElement().addClass(_this.prefixCss(SubtitleOverlay.CLASS_CEA_608));
                // We conditionally update the font size by this flag here to avoid updating every time a subtitle
                // is added into an empty overlay. Because we reset the overlay when all subtitles are gone, this
                // would trigger an unnecessary update every time, but it's only required under certain conditions,
                // e.g. after the player size has changed.
                if (fontSizeCalculationRequired) {
                    updateCEA608FontSize();
                    fontSizeCalculationRequired = false;
                }
            }
            label.getDomElement().css({
                'left': event.position.column * SubtitleOverlay.CEA608_COLUMN_OFFSET + "%",
                'top': event.position.row * SubtitleOverlay.CEA608_ROW_OFFSET + "%",
                'font-size': fontSize + "px",
                'letter-spacing': fontLetterSpacing + "px",
            });
        });
        var reset = function () {
            _this.getDomElement().removeClass(_this.prefixCss(SubtitleOverlay.CLASS_CEA_608));
            enabled = false;
        };
        player.addEventHandler(player.EVENT.ON_CUE_EXIT, function () {
            if (!_this.subtitleManager.hasCues) {
                // Disable CEA-608 mode when all subtitles are gone (to allow correct formatting and
                // display of other types of subtitles, e.g. the formatting preview subtitle)
                reset();
            }
        });
        player.addEventHandler(player.EVENT.ON_SOURCE_UNLOADED, reset);
        player.addEventHandler(player.EVENT.ON_SUBTITLE_CHANGED, reset);
    };
    SubtitleOverlay.prototype.enablePreviewSubtitleLabel = function () {
        this.previewSubtitleActive = true;
        if (!this.subtitleManager.hasCues) {
            this.addComponent(this.previewSubtitle);
            this.updateComponents();
            this.show();
        }
    };
    SubtitleOverlay.prototype.removePreviewSubtitleLabel = function () {
        this.previewSubtitleActive = false;
        this.removeComponent(this.previewSubtitle);
        this.updateComponents();
    };
    return SubtitleOverlay;
}(container_1.Container));
SubtitleOverlay.CLASS_CONTROLBAR_VISIBLE = 'controlbar-visible';
SubtitleOverlay.CLASS_CEA_608 = 'cea608';
// The number of rows in a cea608 grid
SubtitleOverlay.CEA608_NUM_ROWS = 15;
// The number of columns in a cea608 grid
SubtitleOverlay.CEA608_NUM_COLUMNS = 32;
// The offset in percent for one row (which is also the height of a row)
SubtitleOverlay.CEA608_ROW_OFFSET = 100 / SubtitleOverlay.CEA608_NUM_ROWS;
// The offset in percent for one column (which is also the width of a column)
SubtitleOverlay.CEA608_COLUMN_OFFSET = 100 / SubtitleOverlay.CEA608_NUM_COLUMNS;
exports.SubtitleOverlay = SubtitleOverlay;
var SubtitleLabel = (function (_super) {
    __extends(SubtitleLabel, _super);
    function SubtitleLabel(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-subtitle-label',
        }, _this.config);
        return _this;
    }
    return SubtitleLabel;
}(label_1.Label));
var ActiveSubtitleManager = (function () {
    function ActiveSubtitleManager() {
        this.activeSubtitleCueMap = {};
        this.activeSubtitleCueCount = 0;
    }
    /**
     * Calculates a unique ID for a subtitle cue, which is needed to associate an ON_CUE_ENTER with its ON_CUE_EXIT
     * event so we can remove the correct subtitle in ON_CUE_EXIT when multiple subtitles are active at the same time.
     * The start time plus the text should make a unique identifier, and in the only case where a collision
     * can happen, two similar texts will be displayed at a similar time and a similar position (or without position).
     * The start time should always be known, because it is required to schedule the ON_CUE_ENTER event. The end time
     * must not necessarily be known and therefore cannot be used for the ID.
     * @param event
     * @return {string}
     */
    ActiveSubtitleManager.calculateId = function (event) {
        var id = event.start + '-' + event.text;
        if (event.position) {
            id += '-' + event.position.row + '-' + event.position.column;
        }
        return id;
    };
    /**
     * Adds a subtitle cue to the manager and returns the label that should be added to the subtitle overlay.
     * @param event
     * @return {SubtitleLabel}
     */
    ActiveSubtitleManager.prototype.cueEnter = function (event) {
        var id = ActiveSubtitleManager.calculateId(event);
        var label = new SubtitleLabel({
            // Prefer the HTML subtitle text if set, else use the plain text
            text: event.html || event.text,
        });
        // Create array for id if it does not exist
        this.activeSubtitleCueMap[id] = this.activeSubtitleCueMap[id] || [];
        // Add cue
        this.activeSubtitleCueMap[id].push({ event: event, label: label });
        this.activeSubtitleCueCount++;
        return label;
    };
    /**
     * Returns the label associated with an already added cue.
     * @param event
     * @return {SubtitleLabel}
     */
    ActiveSubtitleManager.prototype.getCues = function (event) {
        var id = ActiveSubtitleManager.calculateId(event);
        var activeSubtitleCues = this.activeSubtitleCueMap[id];
        if (activeSubtitleCues && activeSubtitleCues.length > 0) {
            return activeSubtitleCues.map(function (cue) { return cue.label; });
        }
        else {
            return null;
        }
    };
    /**
     * Removes the subtitle cue from the manager and returns the label that should be removed from the subtitle overlay,
     * or null if there is no associated label existing (e.g. because all labels have been {@link #clear cleared}.
     * @param event
     * @return {SubtitleLabel|null}
     */
    ActiveSubtitleManager.prototype.cueExit = function (event) {
        var id = ActiveSubtitleManager.calculateId(event);
        var activeSubtitleCues = this.activeSubtitleCueMap[id];
        if (activeSubtitleCues && activeSubtitleCues.length > 0) {
            // Remove cue
            /* We apply the FIFO approach here and remove the oldest cue from the associated id. When there are multiple cues
             * with the same id, there is no way to know which one of the cues is to be deleted, so we just hope that FIFO
             * works fine. Theoretically it can happen that two cues with colliding ids are removed at different times, in
             * the wrong order. This rare case has yet to be observed. If it ever gets an issue, we can take the unstable
             * cue end time (which can change between ON_CUE_ENTER and ON_CUE_EXIT IN ON_CUE_UPDATE) and use it as an
             * additional hint to try and remove the correct one of the colliding cues.
             */
            var activeSubtitleCue = activeSubtitleCues.shift();
            this.activeSubtitleCueCount--;
            return activeSubtitleCue.label;
        }
        else {
            return null;
        }
    };
    Object.defineProperty(ActiveSubtitleManager.prototype, "cueCount", {
        /**
         * Returns the number of active subtitle cues.
         * @return {number}
         */
        get: function () {
            // We explicitly count the cues to save an Array.reduce on every cueCount call (which can happen frequently)
            return this.activeSubtitleCueCount;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ActiveSubtitleManager.prototype, "hasCues", {
        /**
         * Returns true if there are active subtitle cues, else false.
         * @return {boolean}
         */
        get: function () {
            return this.cueCount > 0;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * Removes all subtitle cues from the manager.
     */
    ActiveSubtitleManager.prototype.clear = function () {
        this.activeSubtitleCueMap = {};
        this.activeSubtitleCueCount = 0;
    };
    return ActiveSubtitleManager;
}());


/***/ }),
/* 53 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var togglebutton_1 = __webpack_require__(5);
/**
 * A button that toggles casting to a Cast receiver.
 */
var CastToggleButton = (function (_super) {
    __extends(CastToggleButton, _super);
    function CastToggleButton(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-casttogglebutton',
            text: 'Google Cast',
        }, _this.config);
        return _this;
    }
    CastToggleButton.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        this.onClick.subscribe(function () {
            if (player.isCastAvailable()) {
                if (player.isCasting()) {
                    player.castStop();
                }
                else {
                    player.castVideo();
                }
            }
            else {
                if (console) {
                    console.log('Cast unavailable');
                }
            }
        });
        var castAvailableHander = function () {
            if (player.isCastAvailable()) {
                _this.show();
            }
            else {
                _this.hide();
            }
        };
        player.addEventHandler(player.EVENT.ON_CAST_AVAILABLE, castAvailableHander);
        // Toggle button 'on' state
        player.addEventHandler(player.EVENT.ON_CAST_WAITING_FOR_DEVICE, function () {
            _this.on();
        });
        player.addEventHandler(player.EVENT.ON_CAST_STARTED, function () {
            // When a session is resumed, there is no ON_CAST_START event, so we also need to toggle here for such cases
            _this.on();
        });
        player.addEventHandler(player.EVENT.ON_CAST_STOPPED, function () {
            _this.off();
        });
        // Startup init
        castAvailableHander(); // Hide button if Cast not available
        if (player.isCasting()) {
            this.on();
        }
    };
    return CastToggleButton;
}(togglebutton_1.ToggleButton));
exports.CastToggleButton = CastToggleButton;


/***/ }),
/* 54 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var container_1 = __webpack_require__(0);
var label_1 = __webpack_require__(6);
/**
 * Overlays the player and displays the status of a Cast session.
 */
var CastStatusOverlay = (function (_super) {
    __extends(CastStatusOverlay, _super);
    function CastStatusOverlay(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.statusLabel = new label_1.Label({ cssClass: 'ui-cast-status-label' });
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-cast-status-overlay',
            components: [_this.statusLabel],
            hidden: true,
        }, _this.config);
        return _this;
    }
    CastStatusOverlay.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        player.addEventHandler(player.EVENT.ON_CAST_WAITING_FOR_DEVICE, function (event) {
            _this.show();
            // Get device name and update status text while connecting
            var castDeviceName = event.castPayload.deviceName;
            _this.statusLabel.setText("Connecting to <strong>" + castDeviceName + "</strong>...");
        });
        player.addEventHandler(player.EVENT.ON_CAST_STARTED, function (event) {
            // Session is started or resumed
            // For cases when a session is resumed, we do not receive the previous events and therefore show the status panel
            // here too
            _this.show();
            var castDeviceName = event.deviceName;
            _this.statusLabel.setText("Playing on <strong>" + castDeviceName + "</strong>");
        });
        player.addEventHandler(player.EVENT.ON_CAST_STOPPED, function (event) {
            // Cast session gone, hide the status panel
            _this.hide();
        });
    };
    return CastStatusOverlay;
}(container_1.Container));
exports.CastStatusOverlay = CastStatusOverlay;


/***/ }),
/* 55 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var container_1 = __webpack_require__(0);
var label_1 = __webpack_require__(6);
var tvnoisecanvas_1 = __webpack_require__(75);
/**
 * Overlays the player and displays error messages.
 */
var ErrorMessageOverlay = (function (_super) {
    __extends(ErrorMessageOverlay, _super);
    function ErrorMessageOverlay(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.errorLabel = new label_1.Label({ cssClass: 'ui-errormessage-label' });
        _this.tvNoiseBackground = new tvnoisecanvas_1.TvNoiseCanvas();
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-errormessage-overlay',
            components: [_this.tvNoiseBackground, _this.errorLabel],
            hidden: true,
        }, _this.config);
        return _this;
    }
    ErrorMessageOverlay.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        var config = this.getConfig();
        player.addEventHandler(player.EVENT.ON_ERROR, function (event) {
            var message = event.message;
            // Process message translations
            if (config.messages) {
                if (typeof config.messages === 'function') {
                    // Translation function for all errors
                    message = config.messages(event);
                }
                else if (config.messages[event.code]) {
                    // It's not a translation function, so it must be a map of strings or translation functions
                    var customMessage = config.messages[event.code];
                    if (typeof customMessage === 'string') {
                        message = customMessage;
                    }
                    else {
                        // The message is a translation function, so we call it
                        message = customMessage(event);
                    }
                }
            }
            _this.errorLabel.setText(message);
            _this.tvNoiseBackground.start();
            _this.show();
        });
        player.addEventHandler(player.EVENT.ON_SOURCE_LOADED, function (event) {
            if (_this.isShown()) {
                _this.tvNoiseBackground.stop();
                _this.hide();
            }
        });
    };
    ErrorMessageOverlay.prototype.release = function () {
        _super.prototype.release.call(this);
        // Canvas rendering must be explicitly stopped, else it just continues forever and hogs resources
        this.tvNoiseBackground.stop();
    };
    return ErrorMessageOverlay;
}(container_1.Container));
exports.ErrorMessageOverlay = ErrorMessageOverlay;


/***/ }),
/* 56 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var container_1 = __webpack_require__(0);
var metadatalabel_1 = __webpack_require__(27);
/**
 * Displays a title bar containing a label with the title of the video.
 */
var TitleBar = (function (_super) {
    __extends(TitleBar, _super);
    function TitleBar(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-titlebar',
            hidden: true,
            components: [
                new metadatalabel_1.MetadataLabel({ content: metadatalabel_1.MetadataLabelContent.Title }),
                new metadatalabel_1.MetadataLabel({ content: metadatalabel_1.MetadataLabelContent.Description }),
            ],
            keepHiddenWithoutMetadata: false,
        }, _this.config);
        return _this;
    }
    TitleBar.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        var config = this.getConfig();
        var shouldBeShown = !this.isHidden();
        var hasMetadataText = true; // Flag to track if any metadata label contains text
        var checkMetadataTextAndUpdateVisibility = function () {
            hasMetadataText = false;
            // Iterate through metadata labels and check if at least one of them contains text
            for (var _i = 0, _a = _this.getComponents(); _i < _a.length; _i++) {
                var component = _a[_i];
                if (component instanceof metadatalabel_1.MetadataLabel) {
                    if (!component.isEmpty()) {
                        hasMetadataText = true;
                        break;
                    }
                }
            }
            if (_this.isShown()) {
                // Hide a visible titlebar if it does not contain any text and the hidden flag is set
                if (config.keepHiddenWithoutMetadata && !hasMetadataText) {
                    _this.hide();
                }
            }
            else if (shouldBeShown) {
                // Show a hidden titlebar if it should actually be shown
                _this.show();
            }
        };
        // Listen to text change events to update the hasMetadataText flag when the metadata dynamically changes
        for (var _i = 0, _a = this.getComponents(); _i < _a.length; _i++) {
            var component = _a[_i];
            if (component instanceof metadatalabel_1.MetadataLabel) {
                component.onTextChanged.subscribe(checkMetadataTextAndUpdateVisibility);
            }
        }
        uimanager.onControlsShow.subscribe(function () {
            shouldBeShown = true;
            if (!(config.keepHiddenWithoutMetadata && !hasMetadataText)) {
                _this.show();
            }
        });
        uimanager.onControlsHide.subscribe(function () {
            shouldBeShown = false;
            _this.hide();
        });
        // init
        checkMetadataTextAndUpdateVisibility();
    };
    return TitleBar;
}(container_1.Container));
exports.TitleBar = TitleBar;


/***/ }),
/* 57 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var container_1 = __webpack_require__(0);
var component_1 = __webpack_require__(2);
var dom_1 = __webpack_require__(1);
var stringutils_1 = __webpack_require__(10);
var hugereplaybutton_1 = __webpack_require__(58);
/**
 * Overlays the player and displays recommended videos.
 */
var RecommendationOverlay = (function (_super) {
    __extends(RecommendationOverlay, _super);
    function RecommendationOverlay(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.replayButton = new hugereplaybutton_1.HugeReplayButton();
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-recommendation-overlay',
            hidden: true,
            components: [_this.replayButton],
        }, _this.config);
        return _this;
    }
    RecommendationOverlay.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        var clearRecommendations = function () {
            for (var _i = 0, _a = _this.getComponents().slice(); _i < _a.length; _i++) {
                var component = _a[_i];
                if (component instanceof RecommendationItem) {
                    _this.removeComponent(component);
                }
            }
            _this.updateComponents();
            _this.getDomElement().removeClass(_this.prefixCss('recommendations'));
        };
        var setupRecommendations = function () {
            clearRecommendations();
            var recommendations = uimanager.getConfig().recommendations;
            if (recommendations.length > 0) {
                var index = 1;
                for (var _i = 0, recommendations_1 = recommendations; _i < recommendations_1.length; _i++) {
                    var item = recommendations_1[_i];
                    _this.addComponent(new RecommendationItem({
                        itemConfig: item,
                        cssClasses: ['recommendation-item-' + (index++)],
                    }));
                }
                _this.updateComponents(); // create container DOM elements
                _this.getDomElement().addClass(_this.prefixCss('recommendations'));
            }
        };
        // Add recommendation when a source is loaded
        player.addEventHandler(player.EVENT.ON_READY, setupRecommendations);
        // Remove recommendations and hide overlay when source is unloaded
        player.addEventHandler(player.EVENT.ON_SOURCE_UNLOADED, function () {
            clearRecommendations();
            _this.hide();
        });
        // Display recommendations when playback has finished
        player.addEventHandler(player.EVENT.ON_PLAYBACK_FINISHED, function () {
            // Dismiss ON_PLAYBACK_FINISHED events at the end of ads
            // TODO remove this workaround once issue #1278 is solved
            if (player.isAd()) {
                return;
            }
            _this.show();
        });
        // Hide recommendations when playback starts, e.g. a restart
        player.addEventHandler(player.EVENT.ON_PLAY, function () {
            _this.hide();
        });
        // Init on startup
        setupRecommendations();
    };
    return RecommendationOverlay;
}(container_1.Container));
exports.RecommendationOverlay = RecommendationOverlay;
/**
 * An item of the {@link RecommendationOverlay}. Used only internally in {@link RecommendationOverlay}.
 */
var RecommendationItem = (function (_super) {
    __extends(RecommendationItem, _super);
    function RecommendationItem(config) {
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-recommendation-item',
            itemConfig: null,
        }, _this.config);
        return _this;
    }
    RecommendationItem.prototype.toDomElement = function () {
        var config = this.config.itemConfig; // TODO fix generics and get rid of cast
        var itemElement = new dom_1.DOM('a', {
            'id': this.config.id,
            'class': this.getCssClasses(),
            'href': config.url,
        }).css({ 'background-image': "url(" + config.thumbnail + ")" });
        var bgElement = new dom_1.DOM('div', {
            'class': this.prefixCss('background'),
        });
        itemElement.append(bgElement);
        var titleElement = new dom_1.DOM('span', {
            'class': this.prefixCss('title'),
        }).append(new dom_1.DOM('span', {
            'class': this.prefixCss('innertitle'),
        }).html(config.title));
        itemElement.append(titleElement);
        var timeElement = new dom_1.DOM('span', {
            'class': this.prefixCss('duration'),
        }).append(new dom_1.DOM('span', {
            'class': this.prefixCss('innerduration'),
        }).html(config.duration ? stringutils_1.StringUtils.secondsToTime(config.duration) : ''));
        itemElement.append(timeElement);
        return itemElement;
    };
    return RecommendationItem;
}(component_1.Component));


/***/ }),
/* 58 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var button_1 = __webpack_require__(7);
var dom_1 = __webpack_require__(1);
/**
 * A button to play/replay a video.
 */
var HugeReplayButton = (function (_super) {
    __extends(HugeReplayButton, _super);
    function HugeReplayButton(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-hugereplaybutton',
            text: 'Replay',
        }, _this.config);
        return _this;
    }
    HugeReplayButton.prototype.configure = function (player, uimanager) {
        _super.prototype.configure.call(this, player, uimanager);
        this.onClick.subscribe(function () {
            player.play('ui');
        });
    };
    HugeReplayButton.prototype.toDomElement = function () {
        var buttonElement = _super.prototype.toDomElement.call(this);
        // Add child that contains the play button image
        // Setting the image directly on the button does not work together with scaling animations, because the button
        // can cover the whole video player are and scaling would extend it beyond. By adding an inner element, confined
        // to the size if the image, it can scale inside the player without overshooting.
        buttonElement.append(new dom_1.DOM('div', {
            'class': this.prefixCss('image'),
        }));
        return buttonElement;
    };
    return HugeReplayButton;
}(button_1.Button));
exports.HugeReplayButton = HugeReplayButton;


/***/ }),
/* 59 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var selectbox_1 = __webpack_require__(8);
/**
 * A select box providing a selection of different playback speeds.
 */
var PlaybackSpeedSelectBox = (function (_super) {
    __extends(PlaybackSpeedSelectBox, _super);
    function PlaybackSpeedSelectBox(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.defaultPlaybackSpeeds = [0.25, 0.5, 1, 1.5, 2];
        return _this;
    }
    PlaybackSpeedSelectBox.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        this.addDefaultItems();
        this.onItemSelected.subscribe(function (sender, value) {
            player.setPlaybackSpeed(parseFloat(value));
            _this.selectItem(value);
        });
        var setDefaultValue = function () {
            var playbackSpeed = player.getPlaybackSpeed();
            _this.setSpeed(playbackSpeed);
        };
        // when the player hits onReady again, adjust the playback speed selection
        player.addEventHandler(player.EVENT.ON_READY, setDefaultValue);
        if (player.EVENT.ON_PLAYBACK_SPEED_CHANGED) {
            // Since player 7.8.0
            player.addEventHandler(player.EVENT.ON_PLAYBACK_SPEED_CHANGED, setDefaultValue);
        }
    };
    PlaybackSpeedSelectBox.prototype.setSpeed = function (speed) {
        if (!this.selectItem(String(speed))) {
            // a playback speed was set which is not in the list, add it to the list to show it to the user
            this.clearItems();
            this.addDefaultItems([speed]);
            this.selectItem(String(speed));
        }
    };
    PlaybackSpeedSelectBox.prototype.addDefaultItems = function (customItems) {
        var _this = this;
        if (customItems === void 0) { customItems = []; }
        var sortedSpeeds = this.defaultPlaybackSpeeds.concat(customItems).sort();
        sortedSpeeds.forEach(function (element) {
            if (element !== 1) {
                _this.addItem(String(element), element + "x");
            }
            else {
                _this.addItem(String(element), 'Normal');
            }
        });
    };
    PlaybackSpeedSelectBox.prototype.clearItems = function () {
        this.items = [];
        this.selectedItem = null;
    };
    return PlaybackSpeedSelectBox;
}(selectbox_1.SelectBox));
exports.PlaybackSpeedSelectBox = PlaybackSpeedSelectBox;


/***/ }),
/* 60 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var container_1 = __webpack_require__(0);
var component_1 = __webpack_require__(2);
var timeout_1 = __webpack_require__(9);
/**
 * Overlays the player and displays a buffering indicator.
 */
var BufferingOverlay = (function (_super) {
    __extends(BufferingOverlay, _super);
    function BufferingOverlay(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.indicators = [
            new component_1.Component({ tag: 'div', cssClass: 'ui-buffering-overlay-indicator' }),
            new component_1.Component({ tag: 'div', cssClass: 'ui-buffering-overlay-indicator' }),
            new component_1.Component({ tag: 'div', cssClass: 'ui-buffering-overlay-indicator' }),
        ];
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-buffering-overlay',
            hidden: true,
            components: _this.indicators,
            showDelayMs: 1000,
        }, _this.config);
        return _this;
    }
    BufferingOverlay.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        var config = this.getConfig();
        var overlayShowTimeout = new timeout_1.Timeout(config.showDelayMs, function () {
            _this.show();
        });
        var showOverlay = function () {
            overlayShowTimeout.start();
        };
        var hideOverlay = function () {
            overlayShowTimeout.clear();
            _this.hide();
        };
        player.addEventHandler(player.EVENT.ON_STALL_STARTED, showOverlay);
        player.addEventHandler(player.EVENT.ON_STALL_ENDED, hideOverlay);
        player.addEventHandler(player.EVENT.ON_SOURCE_UNLOADED, hideOverlay);
        // Show overlay if player is already stalled at init
        if (player.isStalled()) {
            this.show();
        }
    };
    return BufferingOverlay;
}(container_1.Container));
exports.BufferingOverlay = BufferingOverlay;


/***/ }),
/* 61 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var container_1 = __webpack_require__(0);
var hugeplaybacktogglebutton_1 = __webpack_require__(62);
/**
 * Overlays the player and displays error messages.
 */
var PlaybackToggleOverlay = (function (_super) {
    __extends(PlaybackToggleOverlay, _super);
    function PlaybackToggleOverlay(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.playbackToggleButton = new hugeplaybacktogglebutton_1.HugePlaybackToggleButton();
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-playbacktoggle-overlay',
            components: [_this.playbackToggleButton],
        }, _this.config);
        return _this;
    }
    return PlaybackToggleOverlay;
}(container_1.Container));
exports.PlaybackToggleOverlay = PlaybackToggleOverlay;


/***/ }),
/* 62 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var playbacktogglebutton_1 = __webpack_require__(16);
var dom_1 = __webpack_require__(1);
/**
 * A button that overlays the video and toggles between playback and pause.
 */
var HugePlaybackToggleButton = (function (_super) {
    __extends(HugePlaybackToggleButton, _super);
    function HugePlaybackToggleButton(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-hugeplaybacktogglebutton',
            text: 'Play/Pause',
        }, _this.config);
        return _this;
    }
    HugePlaybackToggleButton.prototype.configure = function (player, uimanager) {
        var _this = this;
        // Update button state through API events
        _super.prototype.configure.call(this, player, uimanager, false);
        var togglePlayback = function () {
            if (player.isPlaying()) {
                player.pause('ui');
            }
            else {
                player.play('ui');
            }
        };
        var toggleFullscreen = function () {
            if (player.isFullscreen()) {
                player.exitFullscreen();
            }
            else {
                player.enterFullscreen();
            }
        };
        var firstPlay = true;
        var clickTime = 0;
        var doubleClickTime = 0;
        /*
         * YouTube-style toggle button handling
         *
         * The goal is to prevent a short pause or playback interval between a click, that toggles playback, and a
         * double click, that toggles fullscreen. In this naive approach, the first click would e.g. start playback,
         * the second click would be detected as double click and toggle to fullscreen, and as second normal click stop
         * playback, which results is a short playback interval with max length of the double click detection
         * period (usually 500ms).
         *
         * To solve this issue, we defer handling of the first click for 200ms, which is almost unnoticeable to the user,
         * and just toggle playback if no second click (double click) has been registered during this period. If a double
         * click is registered, we just toggle the fullscreen. In the first 200ms, undesired playback changes thus cannot
         * happen. If a double click is registered within 500ms, we undo the playback change and switch fullscreen mode.
         * In the end, this method basically introduces a 200ms observing interval in which playback changes are prevented
         * if a double click happens.
         */
        this.onClick.subscribe(function () {
            // Directly start playback on first click of the button.
            // This is a required workaround for mobile browsers where video playback needs to be triggered directly
            // by the user. A deferred playback start through the timeout below is not considered as user action and
            // therefore ignored by mobile browsers.
            if (firstPlay) {
                // Try to start playback. Then we wait for ON_PLAY and only when it arrives, we disable the firstPlay flag.
                // If we disable the flag here, onClick was triggered programmatically instead of by a user interaction, and
                // playback is blocked (e.g. on mobile devices due to the programmatic play() call), we loose the chance to
                // ever start playback through a user interaction again with this button.
                togglePlayback();
                return;
            }
            var now = Date.now();
            if (now - clickTime < 200) {
                // We have a double click inside the 200ms interval, just toggle fullscreen mode
                toggleFullscreen();
                doubleClickTime = now;
                return;
            }
            else if (now - clickTime < 500) {
                // We have a double click inside the 500ms interval, undo playback toggle and toggle fullscreen mode
                toggleFullscreen();
                togglePlayback();
                doubleClickTime = now;
                return;
            }
            clickTime = now;
            setTimeout(function () {
                if (Date.now() - doubleClickTime > 200) {
                    // No double click detected, so we toggle playback and wait what happens next
                    togglePlayback();
                }
            }, 200);
        });
        player.addEventHandler(player.EVENT.ON_PLAY, function () {
            // Playback has really started, we can disable the flag to switch to normal toggle button handling
            firstPlay = false;
        });
        player.addEventHandler(player.EVENT.ON_WARNING, function (event) {
            // 5008 == Playback could not be started
            if (event.code === 5008) {
                // if playback could not be started, reset the first play flag as we need the user interaction to start
                firstPlay = true;
            }
        });
        // Hide button while initializing a Cast session
        var castInitializationHandler = function (event) {
            if (event.type === player.EVENT.ON_CAST_START) {
                // Hide button when session is being initialized
                _this.hide();
            }
            else {
                // Show button when session is established or initialization was aborted
                _this.show();
            }
        };
        player.addEventHandler(player.EVENT.ON_CAST_START, castInitializationHandler);
        player.addEventHandler(player.EVENT.ON_CAST_STARTED, castInitializationHandler);
        player.addEventHandler(player.EVENT.ON_CAST_STOPPED, castInitializationHandler);
        var suppressPlayButtonTransitionAnimation = function () {
            // Disable the current animation
            _this.setTransitionAnimationsEnabled(false);
            // Enable the transition animations for the next state change
            _this.onToggle.subscribeOnce(function () {
                _this.setTransitionAnimationsEnabled(true);
            });
        };
        // Hide the play button animation when the UI is loaded (it should only be animated on state changes)
        suppressPlayButtonTransitionAnimation();
        var isAutoplayEnabled = player.getConfig().playback && Boolean(player.getConfig().playback.autoplay);
        // We only know if an autoplay attempt is upcoming if the player is not yet ready. It the player is already ready,
        // the attempt might be upcoming or might have already happened, but we don't have to handle that because we can
        // simply rely on isPlaying and the play state events.
        var isAutoplayUpcoming = !player.isReady() && isAutoplayEnabled;
        // Hide the play button when the player is already playing or autoplay is upcoming
        if (player.isPlaying() || isAutoplayUpcoming) {
            // Hide the play button (switch to playing state)
            this.on();
            // Disable the animation of the playing state switch
            suppressPlayButtonTransitionAnimation();
            // Show the play button without an animation if a play attempt is blocked
            player.addEventHandler(player.EVENT.ON_WARNING, function (event) {
                if (event.code === 5008) {
                    suppressPlayButtonTransitionAnimation();
                }
            });
        }
    };
    HugePlaybackToggleButton.prototype.toDomElement = function () {
        var buttonElement = _super.prototype.toDomElement.call(this);
        // Add child that contains the play button image
        // Setting the image directly on the button does not work together with scaling animations, because the button
        // can cover the whole video player are and scaling would extend it beyond. By adding an inner element, confined
        // to the size if the image, it can scale inside the player without overshooting.
        buttonElement.append(new dom_1.DOM('div', {
            'class': this.prefixCss('image'),
        }));
        return buttonElement;
    };
    /**
     * Enables or disables the play state transition animations of the play button image. Can be used to suppress
     * animations.
     * @param {boolean} enabled true to enable the animations (default), false to disable them
     */
    HugePlaybackToggleButton.prototype.setTransitionAnimationsEnabled = function (enabled) {
        var noTransitionAnimationsClass = this.prefixCss('no-transition-animations');
        if (enabled) {
            this.getDomElement().removeClass(noTransitionAnimationsClass);
        }
        else if (!this.getDomElement().hasClass(noTransitionAnimationsClass)) {
            this.getDomElement().addClass(noTransitionAnimationsClass);
        }
    };
    return HugePlaybackToggleButton;
}(playbacktogglebutton_1.PlaybackToggleButton));
exports.HugePlaybackToggleButton = HugePlaybackToggleButton;


/***/ }),
/* 63 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var button_1 = __webpack_require__(7);
/**
 * A button that closes (hides) a configured component.
 */
var CloseButton = (function (_super) {
    __extends(CloseButton, _super);
    function CloseButton(config) {
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-closebutton',
            text: 'Close',
        }, _this.config);
        return _this;
    }
    CloseButton.prototype.configure = function (player, uimanager) {
        _super.prototype.configure.call(this, player, uimanager);
        var config = this.getConfig();
        this.onClick.subscribe(function () {
            config.target.hide();
        });
    };
    return CloseButton;
}(button_1.Button));
exports.CloseButton = CloseButton;


/***/ }),
/* 64 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var togglebutton_1 = __webpack_require__(5);
/**
 * A button that toggles Apple AirPlay.
 */
var AirPlayToggleButton = (function (_super) {
    __extends(AirPlayToggleButton, _super);
    function AirPlayToggleButton(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-airplaytogglebutton',
            text: 'Apple AirPlay',
        }, _this.config);
        return _this;
    }
    AirPlayToggleButton.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        if (!player.isAirplayAvailable) {
            // If the player does not support Airplay (player 7.0), we just hide this component and skip configuration
            this.hide();
            return;
        }
        this.onClick.subscribe(function () {
            if (player.isAirplayAvailable()) {
                player.showAirplayTargetPicker();
            }
            else {
                if (console) {
                    console.log('AirPlay unavailable');
                }
            }
        });
        var airPlayAvailableHandler = function () {
            if (player.isAirplayAvailable()) {
                _this.show();
            }
            else {
                _this.hide();
            }
        };
        player.addEventHandler(player.EVENT.ON_AIRPLAY_AVAILABLE, airPlayAvailableHandler);
        // Startup init
        airPlayAvailableHandler(); // Hide button if AirPlay is not available
    };
    return AirPlayToggleButton;
}(togglebutton_1.ToggleButton));
exports.AirPlayToggleButton = AirPlayToggleButton;


/***/ }),
/* 65 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var togglebutton_1 = __webpack_require__(5);
/**
 * A button that toggles Apple macOS picture-in-picture mode.
 */
var PictureInPictureToggleButton = (function (_super) {
    __extends(PictureInPictureToggleButton, _super);
    function PictureInPictureToggleButton(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-piptogglebutton',
            text: 'Picture-in-Picture',
        }, _this.config);
        return _this;
    }
    PictureInPictureToggleButton.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        if (!player.isPictureInPictureAvailable) {
            // If the player does not support PIP (player 7.0), we just hide this component and skip configuration
            this.hide();
            return;
        }
        this.onClick.subscribe(function () {
            if (player.isPictureInPictureAvailable()) {
                if (player.isPictureInPicture()) {
                    player.exitPictureInPicture();
                }
                else {
                    player.enterPictureInPicture();
                }
            }
            else {
                if (console) {
                    console.log('PIP unavailable');
                }
            }
        });
        var pipAvailableHander = function () {
            if (player.isPictureInPictureAvailable()) {
                _this.show();
            }
            else {
                _this.hide();
            }
        };
        player.addEventHandler(player.EVENT.ON_READY, pipAvailableHander);
        // Toggle button 'on' state
        player.addEventHandler(player.EVENT.ON_PICTURE_IN_PICTURE_ENTER, function () {
            _this.on();
        });
        player.addEventHandler(player.EVENT.ON_PICTURE_IN_PICTURE_EXIT, function () {
            _this.off();
        });
        // Startup init
        pipAvailableHander(); // Hide button if PIP not available
        if (player.isPictureInPicture()) {
            this.on();
        }
    };
    return PictureInPictureToggleButton;
}(togglebutton_1.ToggleButton));
exports.PictureInPictureToggleButton = PictureInPictureToggleButton;


/***/ }),
/* 66 */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(67);
__webpack_require__(70);
module.exports = __webpack_require__(84);


/***/ }),
/* 67 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var angular = __webpack_require__(13);
var bitdash_controller_1 = __webpack_require__(68);
var bitdash_directive_1 = __webpack_require__(69);
exports.default = angular.module('mi.BitdashPlayer', [])
    .controller('MiBitdashController', bitdash_controller_1.default)
    .directive('miBitdashPlayer', bitdash_directive_1.default);


/***/ }),
/* 68 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var angular = __webpack_require__(13);
var BitmovinController = (function () {
    function BitmovinController($scope, $log) {
        this.$scope = $scope;
        this.$log = $log;
        this.state = {};
        this.config = {};
        this.options = {};
    }
    BitmovinController.prototype.$onInit = function () {
        this.state = this.$scope.state = {};
        if (angular.isDefined(this.$scope.config) && angular.isDefined(this.$scope.config.key)) {
            this.config = this.$scope.config;
        }
        else {
            this.$log.error("basic config for bitdash player is missing!");
        }
        if (angular.isDefined(this.$scope.options)) {
            this.options = this.$scope.options;
        }
        if (angular.isDefined(this.$scope.webcast)) {
            this.processWebcast(this.$scope.webcast);
        }
    };
    BitmovinController.prototype.processWebcast = function (webcast) {
        var stateProperty = this.options.forcedState || webcast.state;
        if (stateProperty === 'ondemand') {
            var languageIndex_1 = 0;
            webcast.languages.some(function (lang, index) {
                if (webcast.language === lang.language) {
                    languageIndex_1 = index;
                    return true;
                }
            });
            this.state.data = webcast.languages[languageIndex_1].ondemandStateData;
        }
        else {
            this.state.data = webcast[stateProperty + 'StateData'];
        }
        this.config.source = this.getPlayerConfigSource(webcast);
        this.config.style = { ux: false };
    };
    BitmovinController.prototype.getPlayerConfigSource = function (webcast) {
        return webcast.useDVRPlaybackInPostlive && webcast.state === 'postlive' ?
            this.getDVRPlaybackToPostlive(webcast)
            : this.getPlayerConfigSourceByState(webcast);
    };
    BitmovinController.prototype.getDVRPlaybackToPostlive = function (webcast) {
        var hls = webcast['liveStateData'].playout.hlsDvrUrl;
        var title = webcast.name;
        if (angular.isDefined(webcast['postliveStateData'].playout.offset)) {
            var offset = parseInt(webcast['postliveStateData'].playout.offset, 10);
            if (offset) {
                var offsetPrefix = void 0;
                var parser = document.createElement('a');
                parser.href = webcast['liveStateData'].playout.hlsDvrUrl;
                offsetPrefix = (parser.search) ? '&' : '?';
                hls += offsetPrefix + "wowzadvrplayliststart=" + offset + "000";
            }
        }
        return { hls: hls, title: title };
    };
    BitmovinController.prototype.getPlayerConfigSourceByState = function (webcast) {
        var hls = this.state.data.playout.hlsUrl;
        var title = webcast.name;
        var hiveServiceUrl = this.getHiveServiceUrlByLang(webcast);
        if (angular.isDefined(this.state.data.playout.videoManagerHlsUrl) && this.state.data.playout.videoManagerHlsUrl) {
            hls = this.state.data.playout.videoManagerHlsUrl;
        }
        if (angular.isDefined(this.state.data.playout.offset)) {
            var offset = parseInt(this.state.data.playout.offset, 10);
            if (offset > 0) {
                var offsetPrefix = void 0;
                var parser = document.createElement('a');
                parser.href = hls;
                offsetPrefix = (parser.search) ? '&' : '?';
                hls += offsetPrefix + "start=" + offset;
            }
        }
        return { hls: hls, title: title, hiveServiceUrl: hiveServiceUrl };
    };
    BitmovinController.prototype.getHiveServiceUrlByLang = function (webcast) {
        var hiveServiceUrl = null;
        if (webcast.languages && webcast.language) {
            webcast.languages.forEach(function (item) {
                if (item.language === webcast.language) {
                    hiveServiceUrl = angular.copy(item.hiveServiceUrl);
                }
            });
        }
        return hiveServiceUrl;
    };
    return BitmovinController;
}());
BitmovinController.$inject = ['$scope', '$log'];
exports.default = BitmovinController;


/***/ }),
/* 69 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var angular = __webpack_require__(13);
var BitdashDirective = function ($window, $log) { return ({
    controller: 'MiBitdashController',
    controllerAs: 'bitdashVm',
    replace: true,
    restrict: 'EA',
    scope: {
        config: '=',
        options: '=?',
        webcast: '=',
    },
    template: "<div id=\"mi-bitdash-player\" width=\"100%\" height=\"auto\"></div>",
    link: function (scope) {
        var bitmovinPlayer;
        var bitmovinUIManager;
        var bitmovinControlbar;
        var config = scope.config;
        var webcast = scope.webcast;
        var stateData = scope.state.data;
        buildPlayer();
        function buildPlayer() {
            bitmovinPlayer = $window.window.bitmovin.player('mi-bitdash-player');
            if (angular.isDefined(bitmovinPlayer) && bitmovinPlayer.isReady() === true) {
                bitmovinPlayer.destroy();
                bitmovinPlayer = $window.window.bitmovin.player('mi-bitdash-player');
            }
            if ((webcast.state === 'live') && config.source.hiveServiceUrl) {
                // Get a hive-enabled player through bitdash.initHiveSDN
                $window.window.bitmovin.initHiveSDN(bitmovinPlayer, { debugLevel: 'off' });
                // Configure and Setup bitmovin in initSession callback
                bitmovinPlayer.initSession(config.source.hiveServiceUrl).then(function (session) {
                    var hiveConfig = angular.copy(config);
                    hiveConfig.source.hls = session.manifest;
                    loadPlayer(hiveConfig);
                }, function (reason) {
                    // Handle the case if Hive init fails
                    $log.warn("Hive init fails: " + reason.code + " - " + reason.message);
                    loadPlayer(config);
                });
            }
            else {
                loadPlayer(config);
            }
        }
        function getAudioOnlyPlayerConfig() {
            return webcast.theme.audioOnlyFileUrl ? { audioOnlyOverlayConfig: { backgroundImageUrl: webcast.theme.audioOnlyFileUrl, hiddeIndicator: true } } : {};
        }
        function loadPlayer(conf) {
            bitmovinPlayer
                .setup(conf)
                .then(function () {
                bitmovinUIManager = $window.window.bitmovin.playerui.UIManager.Factory;
                if (isAudioOnly()) {
                    bitmovinUIManager.buildAudioOnlyUI(bitmovinPlayer, getAudioOnlyPlayerConfig());
                }
                else {
                    bitmovinUIManager.buildAudioVideoUI(bitmovinPlayer);
                }
                bitmovinControlbar = getElementsByClassName('bitmovinplayer-container');
                if (bitmovinControlbar) {
                    bitmovinControlbar.style.minWidth = '175px';
                    bitmovinControlbar.style.minHeight = '101px';
                    document.getElementById('bitmovinplayer-video-mi-bitdash-player').setAttribute('title', webcast.name);
                }
            }, function (reason) {
                $log.log("Error: " + reason.code + " - " + reason.message);
            });
        }
        function isAudioOnly() {
            return webcast.layout.layout === 'audio-only';
        }
        function getElementsByClassName(className) {
            return document.getElementsByClassName(className)[0];
        }
    }
}); };
exports.default = BitdashDirective;
BitdashDirective.$inject = ['$window', '$log'];


/***/ }),
/* 70 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
/// <reference path='player.d.ts' />
var uimanager_1 = __webpack_require__(71);
var button_1 = __webpack_require__(7);
var controlbar_1 = __webpack_require__(19);
var fullscreentogglebutton_1 = __webpack_require__(29);
var hugeplaybacktogglebutton_1 = __webpack_require__(62);
var playbacktimelabel_1 = __webpack_require__(31);
var playbacktogglebutton_1 = __webpack_require__(16);
var seekbar_1 = __webpack_require__(18);
var selectbox_1 = __webpack_require__(8);
var itemselectionlist_1 = __webpack_require__(77);
var settingspanel_1 = __webpack_require__(22);
var settingstogglebutton_1 = __webpack_require__(32);
var togglebutton_1 = __webpack_require__(5);
var videoqualityselectbox_1 = __webpack_require__(23);
var volumetogglebutton_1 = __webpack_require__(17);
var vrtogglebutton_1 = __webpack_require__(30);
var watermark_1 = __webpack_require__(78);
var uicontainer_1 = __webpack_require__(14);
var container_1 = __webpack_require__(0);
var label_1 = __webpack_require__(6);
var audioqualityselectbox_1 = __webpack_require__(24);
var audiotrackselectbox_1 = __webpack_require__(49);
var caststatusoverlay_1 = __webpack_require__(54);
var casttogglebutton_1 = __webpack_require__(53);
var component_1 = __webpack_require__(2);
var errormessageoverlay_1 = __webpack_require__(55);
var recommendationoverlay_1 = __webpack_require__(57);
var seekbarlabel_1 = __webpack_require__(50);
var subtitleoverlay_1 = __webpack_require__(52);
var subtitleselectbox_1 = __webpack_require__(51);
var titlebar_1 = __webpack_require__(56);
var volumecontrolbutton_1 = __webpack_require__(79);
var clickoverlay_1 = __webpack_require__(28);
var adskipbutton_1 = __webpack_require__(80);
var admessagelabel_1 = __webpack_require__(81);
var adclickoverlay_1 = __webpack_require__(82);
var playbackspeedselectbox_1 = __webpack_require__(59);
var hugereplaybutton_1 = __webpack_require__(58);
var bufferingoverlay_1 = __webpack_require__(60);
var castuicontainer_1 = __webpack_require__(83);
var playbacktoggleoverlay_1 = __webpack_require__(61);
var closebutton_1 = __webpack_require__(63);
var metadatalabel_1 = __webpack_require__(27);
var airplaytogglebutton_1 = __webpack_require__(64);
var volumeslider_1 = __webpack_require__(26);
var pictureinpicturetogglebutton_1 = __webpack_require__(65);
var spacer_1 = __webpack_require__(21);
var backgroundcolorselectbox_1 = __webpack_require__(39);
var backgroundopacityselectbox_1 = __webpack_require__(40);
var characteredgeselectbox_1 = __webpack_require__(43);
var fontcolorselectbox_1 = __webpack_require__(35);
var fontfamilyselectbox_1 = __webpack_require__(37);
var fontopacityselectbox_1 = __webpack_require__(36);
var fontsizeselectbox_1 = __webpack_require__(38);
var subtitlesettingsbutton_1 = __webpack_require__(25);
var subtitlesettingsclosebutton_1 = __webpack_require__(45);
var subtitlesettingselectbox_1 = __webpack_require__(4);
var subtitlesettingslabel_1 = __webpack_require__(47);
var subtitlesettingsopenbutton_1 = __webpack_require__(48);
var subtitlesettingspanel_1 = __webpack_require__(34);
var windowcolorselectbox_1 = __webpack_require__(41);
var windowopacityselectbox_1 = __webpack_require__(42);
var arrayutils_1 = __webpack_require__(11);
var stringutils_1 = __webpack_require__(10);
var playerutils_1 = __webpack_require__(12);
var uiutils_1 = __webpack_require__(20);
var browserutils_1 = __webpack_require__(15);
var storageutils_1 = __webpack_require__(44);
var subtitlesettingsresetbutton_1 = __webpack_require__(46);
// Object.assign polyfill for ES5/IE9
// https://developer.mozilla.org/de/docs/Web/JavaScript/Reference/Global_Objects/Object/assign
if (typeof Object.assign !== 'function') {
    Object.assign = function (target) {
        'use strict';
        if (target == null) {
            throw new TypeError('Cannot convert undefined or null to object');
        }
        target = Object(target);
        for (var index = 1; index < arguments.length; index++) {
            var source = arguments[index];
            if (source != null) {
                for (var key in source) {
                    if (Object.prototype.hasOwnProperty.call(source, key)) {
                        target[key] = source[key];
                    }
                }
            }
        }
        return target;
    };
}
var playerui = {
    version: '{{VERSION}}',
    // Management
    UIManager: uimanager_1.UIManager,
    UIInstanceManager: uimanager_1.UIInstanceManager,
    // Utils
    ArrayUtils: arrayutils_1.ArrayUtils,
    StringUtils: stringutils_1.StringUtils,
    PlayerUtils: playerutils_1.PlayerUtils,
    UIUtils: uiutils_1.UIUtils,
    BrowserUtils: browserutils_1.BrowserUtils,
    StorageUtils: storageutils_1.StorageUtils,
    // Components
    AdClickOverlay: adclickoverlay_1.AdClickOverlay,
    AdMessageLabel: admessagelabel_1.AdMessageLabel,
    AdSkipButton: adskipbutton_1.AdSkipButton,
    AirPlayToggleButton: airplaytogglebutton_1.AirPlayToggleButton,
    AudioQualitySelectBox: audioqualityselectbox_1.AudioQualitySelectBox,
    AudioTrackSelectBox: audiotrackselectbox_1.AudioTrackSelectBox,
    BufferingOverlay: bufferingoverlay_1.BufferingOverlay,
    Button: button_1.Button,
    CastStatusOverlay: caststatusoverlay_1.CastStatusOverlay,
    CastToggleButton: casttogglebutton_1.CastToggleButton,
    CastUIContainer: castuicontainer_1.CastUIContainer,
    ClickOverlay: clickoverlay_1.ClickOverlay,
    CloseButton: closebutton_1.CloseButton,
    Component: component_1.Component,
    Container: container_1.Container,
    ControlBar: controlbar_1.ControlBar,
    ErrorMessageOverlay: errormessageoverlay_1.ErrorMessageOverlay,
    FullscreenToggleButton: fullscreentogglebutton_1.FullscreenToggleButton,
    HugePlaybackToggleButton: hugeplaybacktogglebutton_1.HugePlaybackToggleButton,
    HugeReplayButton: hugereplaybutton_1.HugeReplayButton,
    Label: label_1.Label,
    MetadataLabel: metadatalabel_1.MetadataLabel,
    MetadataLabelContent: metadatalabel_1.MetadataLabelContent,
    PictureInPictureToggleButton: pictureinpicturetogglebutton_1.PictureInPictureToggleButton,
    PlaybackSpeedSelectBox: playbackspeedselectbox_1.PlaybackSpeedSelectBox,
    PlaybackTimeLabel: playbacktimelabel_1.PlaybackTimeLabel,
    PlaybackTimeLabelMode: playbacktimelabel_1.PlaybackTimeLabelMode,
    PlaybackToggleButton: playbacktogglebutton_1.PlaybackToggleButton,
    PlaybackToggleOverlay: playbacktoggleoverlay_1.PlaybackToggleOverlay,
    RecommendationOverlay: recommendationoverlay_1.RecommendationOverlay,
    SeekBar: seekbar_1.SeekBar,
    SeekBarLabel: seekbarlabel_1.SeekBarLabel,
    SelectBox: selectbox_1.SelectBox,
    ItemSelectionList: itemselectionlist_1.ItemSelectionList,
    SettingsPanel: settingspanel_1.SettingsPanel,
    SettingsPanelItem: settingspanel_1.SettingsPanelItem,
    SettingsToggleButton: settingstogglebutton_1.SettingsToggleButton,
    Spacer: spacer_1.Spacer,
    SubtitleOverlay: subtitleoverlay_1.SubtitleOverlay,
    SubtitleSelectBox: subtitleselectbox_1.SubtitleSelectBox,
    TitleBar: titlebar_1.TitleBar,
    ToggleButton: togglebutton_1.ToggleButton,
    UIContainer: uicontainer_1.UIContainer,
    VideoQualitySelectBox: videoqualityselectbox_1.VideoQualitySelectBox,
    VolumeControlButton: volumecontrolbutton_1.VolumeControlButton,
    VolumeSlider: volumeslider_1.VolumeSlider,
    VolumeToggleButton: volumetogglebutton_1.VolumeToggleButton,
    VRToggleButton: vrtogglebutton_1.VRToggleButton,
    Watermark: watermark_1.Watermark,
    // Subtitle related components
    subtitlesettings: {
        BackgroundColorSelectBox: backgroundcolorselectbox_1.BackgroundColorSelectBox,
        BackgroundOpacitySelectBox: backgroundopacityselectbox_1.BackgroundOpacitySelectBox,
        CharacterEdgeSelectBox: characteredgeselectbox_1.CharacterEdgeSelectBox,
        FontColorSelectBox: fontcolorselectbox_1.FontColorSelectBox,
        FontFamilySelectBox: fontfamilyselectbox_1.FontFamilySelectBox,
        FontOpacitySelectBox: fontopacityselectbox_1.FontOpacitySelectBox,
        FontSizeSelectBox: fontsizeselectbox_1.FontSizeSelectBox,
        SubtitleSettingsButton: subtitlesettingsbutton_1.SubtitleSettingsButton,
        SubtitleSettingsCloseButton: subtitlesettingsclosebutton_1.SubtitleSettingsCloseButton,
        SubtitleSettingSelectBox: subtitlesettingselectbox_1.SubtitleSettingSelectBox,
        SubtitleSettingsLabel: subtitlesettingslabel_1.SubtitleSettingsLabel,
        SubtitleSettingsOpenButton: subtitlesettingsopenbutton_1.SubtitleSettingsOpenButton,
        SubtitleSettingsPanel: subtitlesettingspanel_1.SubtitleSettingsPanel,
        WindowColorSelectBox: windowcolorselectbox_1.WindowColorSelectBox,
        WindowOpacitySelectBox: windowopacityselectbox_1.WindowOpacitySelectBox,
        SubtitleSettingsResetButton: subtitlesettingsresetbutton_1.SubtitleSettingsResetButton,
    },
};
window.bitmovin.playerui = playerui;
module.exports = playerui;


/***/ }),
/* 71 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (this && this.__assign) || Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
        s = arguments[i];
        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
            t[p] = s[p];
    }
    return t;
};
Object.defineProperty(exports, "__esModule", { value: true });
var uicontainer_1 = __webpack_require__(14);
var dom_1 = __webpack_require__(1);
var container_1 = __webpack_require__(0);
var playbacktogglebutton_1 = __webpack_require__(16);
var fullscreentogglebutton_1 = __webpack_require__(29);
var vrtogglebutton_1 = __webpack_require__(30);
var volumetogglebutton_1 = __webpack_require__(17);
var seekbar_1 = __webpack_require__(18);
var playbacktimelabel_1 = __webpack_require__(31);
var controlbar_1 = __webpack_require__(19);
var eventdispatcher_1 = __webpack_require__(3);
var settingstogglebutton_1 = __webpack_require__(32);
var settingspanel_1 = __webpack_require__(22);
var subtitlesettingspanel_1 = __webpack_require__(34);
var subtitlesettingslabel_1 = __webpack_require__(47);
var subtitlesettingsopenbutton_1 = __webpack_require__(48);
var videoqualityselectbox_1 = __webpack_require__(23);
// import {Watermark} from './components/watermark';
var audioqualityselectbox_1 = __webpack_require__(24);
var audiotrackselectbox_1 = __webpack_require__(49);
var seekbarlabel_1 = __webpack_require__(50);
var volumeslider_1 = __webpack_require__(26);
var subtitleselectbox_1 = __webpack_require__(51);
var subtitleoverlay_1 = __webpack_require__(52);
// import {VolumeControlButton} from './components/volumecontrolbutton';
var casttogglebutton_1 = __webpack_require__(53);
var caststatusoverlay_1 = __webpack_require__(54);
var errormessageoverlay_1 = __webpack_require__(55);
var titlebar_1 = __webpack_require__(56);
var recommendationoverlay_1 = __webpack_require__(57);
var playbackspeedselectbox_1 = __webpack_require__(59);
var bufferingoverlay_1 = __webpack_require__(60);
// import {CastUIContainer} from './components/castuicontainer';
var playbacktoggleoverlay_1 = __webpack_require__(61);
var closebutton_1 = __webpack_require__(63);
var metadatalabel_1 = __webpack_require__(27);
var airplaytogglebutton_1 = __webpack_require__(64);
var pictureinpicturetogglebutton_1 = __webpack_require__(65);
var audioonlyoverlay_1 = __webpack_require__(76);
var spacer_1 = __webpack_require__(21);
var uiutils_1 = __webpack_require__(20);
var arrayutils_1 = __webpack_require__(11);
var browserutils_1 = __webpack_require__(15);
var UIManager = (function () {
    function UIManager(player, playerUiOrUiVariants, config) {
        if (config === void 0) { config = {}; }
        var _this = this;
        this.events = {
            onUiVariantResolve: new eventdispatcher_1.EventDispatcher(),
        };
        if (playerUiOrUiVariants instanceof uicontainer_1.UIContainer) {
            // Single-UI constructor has been called, transform arguments to UIVariant[] signature
            var playerUi = playerUiOrUiVariants;
            var uiVariants = [];
            // Add the default player UI
            uiVariants.push({ ui: playerUi });
            this.uiVariants = uiVariants;
        }
        else {
            // Default constructor (UIVariant[]) has been called
            this.uiVariants = playerUiOrUiVariants;
        }
        this.player = player;
        this.config = __assign({}, config, { events: {
                onUpdated: new eventdispatcher_1.EventDispatcher(),
            } });
        this.managerPlayerWrapper = new PlayerWrapper(player);
        /**
         * Gathers configuration data from the UI config and player source config and creates a merged UI config
         * that is used throughout the UI instance.
         */
        var updateConfig = function () {
            var playerSourceConfig = player.getConfig().source || {};
            var uiConfig = __assign({}, config);
            uiConfig.metadata = uiConfig.metadata || {};
            // Extract the UI-related config properties from the source config
            var playerSourceUiConfig = {
                metadata: {
                    // TODO move metadata into source.metadata namespace in player v8
                    title: playerSourceConfig.title,
                    description: playerSourceConfig.description,
                    markers: playerSourceConfig.markers,
                },
                recommendations: playerSourceConfig.recommendations,
            };
            // Player source config takes precedence over the UI config, because the config in the source is attached
            // to a source which changes with every player.load, whereas the UI config stays the same for the whole
            // lifetime of the player instance.
            _this.config.metadata = _this.config.metadata || {};
            _this.config.metadata.title = playerSourceUiConfig.metadata.title || uiConfig.metadata.title;
            _this.config.metadata.description = playerSourceUiConfig.metadata.description || uiConfig.metadata.description;
            _this.config.metadata.markers = playerSourceUiConfig.metadata.markers || uiConfig.metadata.markers || [];
            _this.config.recommendations = playerSourceUiConfig.recommendations || uiConfig.recommendations || [];
        };
        updateConfig();
        // Update the configuration when a new source is loaded
        this.managerPlayerWrapper.getPlayer().addEventHandler(this.player.EVENT.ON_SOURCE_LOADED, function () {
            updateConfig();
            _this.config.events.onUpdated.dispatch(_this);
        });
        if (config.container) {
            // Unfortunately 'uiContainerElement = new DOM(config.container)' will not accept the container with
            // string|HTMLElement type directly, although it accepts both types, so we need to spit these two cases up here.
            // TODO check in upcoming TS versions if the container can be passed in directly, or fix the constructor
            this.uiContainerElement = config.container instanceof HTMLElement ?
                new dom_1.DOM(config.container) : new dom_1.DOM(config.container);
        }
        else {
            this.uiContainerElement = new dom_1.DOM(player.getFigure());
        }
        // Create UI instance managers for the UI variants
        // The instance managers map to the corresponding UI variants by their array index
        this.uiInstanceManagers = [];
        var uiVariantsWithoutCondition = [];
        for (var _i = 0, _a = this.uiVariants; _i < _a.length; _i++) {
            var uiVariant = _a[_i];
            if (uiVariant.condition == null) {
                // Collect variants without conditions for error checking
                uiVariantsWithoutCondition.push(uiVariant);
            }
            // Create the instance manager for a UI variant
            this.uiInstanceManagers.push(new InternalUIInstanceManager(player, uiVariant.ui, this.config));
        }
        // Make sure that there is only one UI variant without a condition
        // It does not make sense to have multiple variants without condition, because only the first one in the list
        // (the one with the lowest index) will ever be selected.
        if (uiVariantsWithoutCondition.length > 1) {
            throw Error('Too many UIs without a condition: You cannot have more than one default UI');
        }
        // Make sure that the default UI variant, if defined, is at the end of the list (last index)
        // If it comes earlier, the variants with conditions that come afterwards will never be selected because the
        // default variant without a condition always evaluates to 'true'
        if (uiVariantsWithoutCondition.length > 0
            && uiVariantsWithoutCondition[0] !== this.uiVariants[this.uiVariants.length - 1]) {
            throw Error('Invalid UI variant order: the default UI (without condition) must be at the end of the list');
        }
        // Switch on auto UI resolving by default
        if (config.autoUiVariantResolve === undefined) {
            config.autoUiVariantResolve = true;
        }
        var adStartedEvent = null; // keep the event stored here during ad playback
        // Dynamically select a UI variant that matches the current UI condition.
        var resolveUiVariant = function (event) {
            // Make sure that the ON_AD_STARTED event data is persisted through ad playback in case other events happen
            // in the meantime, e.g. player resize. We need to store this data because there is no other way to find out
            // ad details (e.g. the ad client) while an ad is playing.
            // Existing event data signals that an ad is currently active. We cannot use player.isAd() because it returns
            // true on ad start and also on ad end events, which is problematic.
            if (event != null) {
                switch (event.type) {
                    // When the ad starts, we store the event data
                    case player.EVENT.ON_AD_STARTED:
                        adStartedEvent = event;
                        break;
                    // When the ad ends, we delete the event data
                    case player.EVENT.ON_AD_FINISHED:
                    case player.EVENT.ON_AD_SKIPPED:
                    case player.EVENT.ON_AD_ERROR:
                        adStartedEvent = null;
                        break;
                    // When a new source is loaded during ad playback, there will be no ad end event so we detect the end
                    // of the ad playback by checking isAd() in ON_READY, because ON_READY always arrives when the source
                    // changes.
                    case player.EVENT.ON_READY:
                        if (adStartedEvent && !player.isAd()) {
                            adStartedEvent = null;
                        }
                }
            }
            // Detect if an ad has started
            var ad = adStartedEvent != null;
            var adWithUI = ad && adStartedEvent.clientType === 'vast';
            _this.resolveUiVariant({
                isAd: ad,
                isAdWithUI: adWithUI,
                adClientType: ad ? adStartedEvent.clientType : null,
            }, function (context) {
                // If this is an ad UI, we need to relay the saved ON_AD_STARTED event data so ad components can configure
                // themselves for the current ad.
                if (context.isAd) {
                    /* Relay the ON_AD_STARTED event to the ads UI
                     *
                     * Because the ads UI is initialized in the ON_AD_STARTED handler, i.e. when the ON_AD_STARTED event has
                     * already been fired, components in the ads UI that listen for the ON_AD_STARTED event never receive it.
                     * Since this can break functionality of components that rely on this event, we relay the event to the
                     * ads UI components with the following call.
                     */
                    _this.currentUi.getWrappedPlayer().fireEventInUI(_this.player.EVENT.ON_AD_STARTED, adStartedEvent);
                }
            });
        };
        // Listen to the following events to trigger UI variant resolution
        if (config.autoUiVariantResolve) {
            this.managerPlayerWrapper.getPlayer().addEventHandler(this.player.EVENT.ON_READY, resolveUiVariant);
            this.managerPlayerWrapper.getPlayer().addEventHandler(this.player.EVENT.ON_PLAY, resolveUiVariant);
            this.managerPlayerWrapper.getPlayer().addEventHandler(this.player.EVENT.ON_PAUSED, resolveUiVariant);
            this.managerPlayerWrapper.getPlayer().addEventHandler(this.player.EVENT.ON_AD_STARTED, resolveUiVariant);
            this.managerPlayerWrapper.getPlayer().addEventHandler(this.player.EVENT.ON_AD_FINISHED, resolveUiVariant);
            this.managerPlayerWrapper.getPlayer().addEventHandler(this.player.EVENT.ON_AD_SKIPPED, resolveUiVariant);
            this.managerPlayerWrapper.getPlayer().addEventHandler(this.player.EVENT.ON_AD_ERROR, resolveUiVariant);
            this.managerPlayerWrapper.getPlayer().addEventHandler(this.player.EVENT.ON_PLAYER_RESIZE, resolveUiVariant);
            this.managerPlayerWrapper.getPlayer().addEventHandler(this.player.EVENT.ON_FULLSCREEN_ENTER, resolveUiVariant);
            this.managerPlayerWrapper.getPlayer().addEventHandler(this.player.EVENT.ON_FULLSCREEN_EXIT, resolveUiVariant);
        }
        // Initialize the UI
        resolveUiVariant(null);
    }
    UIManager.prototype.getConfig = function () {
        return this.config;
    };
    /**
     * Returns the list of UI variants as passed into the constructor of {@link UIManager}.
     * @returns {UIVariant[]} the list of available UI variants
     */
    UIManager.prototype.getUiVariants = function () {
        return this.uiVariants;
    };
    /**
     * Switches to a UI variant from the list returned by {@link getUiVariants}.
     * @param {UIVariant} uiVariant the UI variant to switch to
     * @param {() => void} onShow a callback that is executed just before the new UI variant is shown
     */
    UIManager.prototype.switchToUiVariant = function (uiVariant, onShow) {
        var uiVariantIndex = this.uiVariants.indexOf(uiVariant);
        var nextUi = this.uiInstanceManagers[uiVariantIndex];
        var uiVariantChanged = false;
        // Determine if the UI variant is changing
        if (nextUi !== this.currentUi) {
            uiVariantChanged = true;
            // console.log('switched from ', this.currentUi ? this.currentUi.getUI() : 'none',
            //   ' to ', nextUi ? nextUi.getUI() : 'none');
        }
        // Only if the UI variant is changing, we need to do some stuff. Else we just leave everything as-is.
        if (uiVariantChanged) {
            // Hide the currently active UI variant
            if (this.currentUi) {
                this.currentUi.getUI().hide();
            }
            // Assign the new UI variant as current UI
            this.currentUi = nextUi;
            // When we switch to a different UI instance, there's some additional stuff to manage. If we do not switch
            // to an instance, we're done here.
            if (this.currentUi != null) {
                // Add the UI to the DOM (and configure it) the first time it is selected
                if (!this.currentUi.isConfigured()) {
                    this.addUi(this.currentUi);
                }
                if (onShow) {
                    onShow();
                }
                this.currentUi.getUI().show();
            }
        }
    };
    /**
     * Triggers a UI variant switch as triggered by events when automatic switching is enabled. It allows to overwrite
     * properties of the {@link UIConditionContext}.
     * @param {Partial<UIConditionContext>} context an optional set of properties that overwrite properties of the
     *   automatically determined context
     * @param {(context: UIConditionContext) => void} onShow a callback that is executed just before the new UI variant
     *   is shown (if a switch is happening)
     */
    UIManager.prototype.resolveUiVariant = function (context, onShow) {
        if (context === void 0) { context = {}; }
        // Determine the current context for which the UI variant will be resolved
        var defaultContext = {
            isAd: false,
            isAdWithUI: false,
            adClientType: null,
            isFullscreen: this.player.isFullscreen(),
            isMobile: browserutils_1.BrowserUtils.isMobile,
            isPlaying: this.player.isPlaying(),
            width: this.uiContainerElement.width(),
            documentWidth: document.body.clientWidth,
        };
        // Overwrite properties of the default context with passed in context properties
        var switchingContext = __assign({}, defaultContext, context);
        // Fire the event and allow modification of the context before it is used to resolve the UI variant
        this.events.onUiVariantResolve.dispatch(this, switchingContext);
        var nextUiVariant = null;
        // Select new UI variant
        // If no variant condition is fulfilled, we switch to *no* UI
        for (var _i = 0, _a = this.uiVariants; _i < _a.length; _i++) {
            var uiVariant = _a[_i];
            if (uiVariant.condition == null || uiVariant.condition(switchingContext) === true) {
                nextUiVariant = uiVariant;
                break;
            }
        }
        this.switchToUiVariant(nextUiVariant, function () {
            if (onShow) {
                onShow(switchingContext);
            }
        });
    };
    UIManager.prototype.addUi = function (ui) {
        var dom = ui.getUI().getDomElement();
        var player = ui.getWrappedPlayer();
        ui.configureControls();
        /* Append the UI DOM after configuration to avoid CSS transitions at initialization
         * Example: Components are hidden during configuration and these hides may trigger CSS transitions that are
         * undesirable at this time. */
        this.uiContainerElement.append(dom);
        // Some components initialize their state on ON_READY. When the UI is loaded after the player is already ready,
        // they will never receive the event so we fire it from here in such cases.
        if (player.isReady()) {
            player.fireEventInUI(player.EVENT.ON_READY, {});
        }
        // Fire onConfigured after UI DOM elements are successfully added. When fired immediately, the DOM elements
        // might not be fully configured and e.g. do not have a size.
        // https://swizec.com/blog/how-to-properly-wait-for-dom-elements-to-show-up-in-modern-browsers/swizec/6663
        if (window.requestAnimationFrame) {
            requestAnimationFrame(function () { ui.onConfigured.dispatch(ui.getUI()); });
        }
        else {
            // IE9 fallback
            setTimeout(function () { ui.onConfigured.dispatch(ui.getUI()); }, 0);
        }
    };
    UIManager.prototype.releaseUi = function (ui) {
        ui.releaseControls();
        ui.getUI().getDomElement().remove();
        ui.clearEventHandlers();
    };
    UIManager.prototype.release = function () {
        for (var _i = 0, _a = this.uiInstanceManagers; _i < _a.length; _i++) {
            var uiInstanceManager = _a[_i];
            this.releaseUi(uiInstanceManager);
        }
        this.managerPlayerWrapper.clearEventHandlers();
    };
    Object.defineProperty(UIManager.prototype, "onUiVariantResolve", {
        /**
         * Fires just before UI variants are about to be resolved and the UI variant is possibly switched. It is fired when
         * the switch is triggered from an automatic switch and when calling {@link resolveUiVariant}.
         * Can be used to modify the {@link UIConditionContext} before resolving is done.
         * @returns {EventDispatcher<UIManager, UIConditionContext>}
         */
        get: function () {
            return this.events.onUiVariantResolve;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * Returns the list of all added markers in undefined order.
     */
    UIManager.prototype.getTimelineMarkers = function () {
        return this.config.metadata.markers;
    };
    /**
     * Adds a marker to the timeline. Does not check for duplicates/overlaps at the `time`.
     */
    UIManager.prototype.addTimelineMarker = function (timelineMarker) {
        this.config.metadata.markers.push(timelineMarker);
        this.config.events.onUpdated.dispatch(this);
    };
    /**
     * Removes a marker from the timeline (by reference) and returns `true` if the marker has
     * been part of the timeline and successfully removed, or `false` if the marker could not
     * be found and thus not removed.
     */
    UIManager.prototype.removeTimelineMarker = function (timelineMarker) {
        if (arrayutils_1.ArrayUtils.remove(this.config.metadata.markers, timelineMarker) === timelineMarker) {
            this.config.events.onUpdated.dispatch(this);
            return true;
        }
        return false;
    };
    return UIManager;
}());
exports.UIManager = UIManager;
(function (UIManager) {
    var Factory;
    (function (Factory) {
        function buildAudioVideoUI(player, config) {
            if (config === void 0) { config = {}; }
            var smallScreenSwitchWidth = 600;
            return new UIManager(player, [{
                    ui: modernSmallScreenUI(),
                    condition: function (context) {
                        return context.isMobile && context.documentWidth < smallScreenSwitchWidth;
                    },
                }, {
                    ui: modernUI(),
                }], config);
        }
        Factory.buildAudioVideoUI = buildAudioVideoUI;
        function buildAudioOnlyUI(player, config) {
            if (config === void 0) { config = {}; }
            var smallScreenSwitchWidth = 600;
            return new UIManager(player, [{
                    ui: modernAudioOnlySmallScreenUI(),
                    condition: function (context) {
                        return context.isMobile && context.documentWidth < smallScreenSwitchWidth;
                    },
                }, {
                    ui: modernAudioOnlyUI(),
                }], config);
        }
        Factory.buildAudioOnlyUI = buildAudioOnlyUI;
        // export function buildDefaultUI(player: PlayerAPI, config: UIConfig = {}): UIManager {
        //   return UIManager.Factory.buildModernUI(player, config);
        // }
        // export function buildDefaultSmallScreenUI(player: PlayerAPI, config: UIConfig = {}): UIManager {
        //   return UIManager.Factory.buildModernSmallScreenUI(player, config);
        // }
        // export function buildDefaultCastReceiverUI(player: PlayerAPI, config: UIConfig = {}): UIManager {
        //   return UIManager.Factory.buildModernCastReceiverUI(player, config);
        // }
        function modernUI() {
            var subtitleOverlay = new subtitleoverlay_1.SubtitleOverlay();
            var settingsPanel = new settingspanel_1.SettingsPanel({
                components: [
                    new settingspanel_1.SettingsPanelItem('Video Quality', new videoqualityselectbox_1.VideoQualitySelectBox()),
                    new settingspanel_1.SettingsPanelItem('Speed', new playbackspeedselectbox_1.PlaybackSpeedSelectBox()),
                    new settingspanel_1.SettingsPanelItem('Audio Track', new audiotrackselectbox_1.AudioTrackSelectBox()),
                    new settingspanel_1.SettingsPanelItem('Audio Quality', new audioqualityselectbox_1.AudioQualitySelectBox()),
                ],
                hidden: true,
            });
            var subtitleSettingsPanel = new subtitlesettingspanel_1.SubtitleSettingsPanel({
                hidden: true,
                overlay: subtitleOverlay,
                settingsPanel: settingsPanel,
            });
            var subtitleSettingsOpenButton = new subtitlesettingsopenbutton_1.SubtitleSettingsOpenButton({
                subtitleSettingsPanel: subtitleSettingsPanel,
                settingsPanel: settingsPanel,
            });
            settingsPanel.addComponent(new settingspanel_1.SettingsPanelItem(new subtitlesettingslabel_1.SubtitleSettingsLabel({ text: 'Subtitles', opener: subtitleSettingsOpenButton }), new subtitleselectbox_1.SubtitleSelectBox()));
            var controlBar = new controlbar_1.ControlBar({
                components: [
                    settingsPanel,
                    subtitleSettingsPanel,
                    new container_1.Container({
                        components: [
                            new playbacktimelabel_1.PlaybackTimeLabel({ timeLabelMode: playbacktimelabel_1.PlaybackTimeLabelMode.CurrentTime, hideInLivePlayback: true }),
                            new seekbar_1.SeekBar({ label: new seekbarlabel_1.SeekBarLabel() }),
                            new playbacktimelabel_1.PlaybackTimeLabel({ timeLabelMode: playbacktimelabel_1.PlaybackTimeLabelMode.TotalTime, cssClasses: ['text-right'] }),
                        ],
                        cssClasses: ['controlbar-top'],
                    }),
                    new container_1.Container({
                        components: [
                            new playbacktogglebutton_1.PlaybackToggleButton(),
                            new volumetogglebutton_1.VolumeToggleButton(),
                            new volumeslider_1.VolumeSlider(),
                            new spacer_1.Spacer(),
                            new pictureinpicturetogglebutton_1.PictureInPictureToggleButton(),
                            new airplaytogglebutton_1.AirPlayToggleButton(),
                            new casttogglebutton_1.CastToggleButton(),
                            new vrtogglebutton_1.VRToggleButton(),
                            new settingstogglebutton_1.SettingsToggleButton({ settingsPanel: settingsPanel }),
                            new fullscreentogglebutton_1.FullscreenToggleButton(),
                        ],
                        cssClasses: ['controlbar-bottom'],
                    }),
                ],
            });
            return new uicontainer_1.UIContainer({
                components: [
                    subtitleOverlay,
                    new bufferingoverlay_1.BufferingOverlay(),
                    new playbacktoggleoverlay_1.PlaybackToggleOverlay(),
                    new caststatusoverlay_1.CastStatusOverlay(),
                    controlBar,
                    // new TitleBar(),
                    new recommendationoverlay_1.RecommendationOverlay(),
                    // new Watermark(),
                    new errormessageoverlay_1.ErrorMessageOverlay(),
                ],
                cssClasses: ['ui-skin-mi-wbc'],
            });
        }
        function modernAudioOnlyUI() {
            var subtitleOverlay = new subtitleoverlay_1.SubtitleOverlay();
            var settingsPanel = new settingspanel_1.SettingsPanel({
                components: [
                    new settingspanel_1.SettingsPanelItem('Speed', new playbackspeedselectbox_1.PlaybackSpeedSelectBox()),
                    new settingspanel_1.SettingsPanelItem('Audio Track', new audiotrackselectbox_1.AudioTrackSelectBox()),
                    new settingspanel_1.SettingsPanelItem('Audio Quality', new audioqualityselectbox_1.AudioQualitySelectBox()),
                ],
                hidden: true,
            });
            var subtitleSettingsPanel = new subtitlesettingspanel_1.SubtitleSettingsPanel({
                hidden: true,
                overlay: subtitleOverlay,
                settingsPanel: settingsPanel,
            });
            var subtitleSettingsOpenButton = new subtitlesettingsopenbutton_1.SubtitleSettingsOpenButton({
                subtitleSettingsPanel: subtitleSettingsPanel,
                settingsPanel: settingsPanel,
            });
            settingsPanel.addComponent(new settingspanel_1.SettingsPanelItem(new subtitlesettingslabel_1.SubtitleSettingsLabel({ text: 'Subtitles', opener: subtitleSettingsOpenButton }), new subtitleselectbox_1.SubtitleSelectBox()));
            var controlBar = new controlbar_1.ControlBar({
                components: [
                    settingsPanel,
                    subtitleSettingsPanel,
                    new container_1.Container({
                        components: [
                            new playbacktimelabel_1.PlaybackTimeLabel({ timeLabelMode: playbacktimelabel_1.PlaybackTimeLabelMode.CurrentTime, hideInLivePlayback: true }),
                            new seekbar_1.SeekBar({ label: new seekbarlabel_1.SeekBarLabel() }),
                            new playbacktimelabel_1.PlaybackTimeLabel({ timeLabelMode: playbacktimelabel_1.PlaybackTimeLabelMode.TotalTime, cssClasses: ['text-right'] }),
                        ],
                        cssClasses: ['controlbar-top'],
                    }),
                    new container_1.Container({
                        components: [
                            new playbacktogglebutton_1.PlaybackToggleButton(),
                            new volumetogglebutton_1.VolumeToggleButton(),
                            new volumeslider_1.VolumeSlider(),
                            new spacer_1.Spacer(),
                            new airplaytogglebutton_1.AirPlayToggleButton(),
                            new casttogglebutton_1.CastToggleButton(),
                            new settingstogglebutton_1.SettingsToggleButton({ settingsPanel: settingsPanel }),
                            new fullscreentogglebutton_1.FullscreenToggleButton(),
                        ],
                        cssClasses: ['controlbar-bottom'],
                    }),
                ],
            });
            return new uicontainer_1.UIContainer({
                components: [
                    new audioonlyoverlay_1.AudioOnlyOverlay(),
                    subtitleOverlay,
                    new bufferingoverlay_1.BufferingOverlay(),
                    new playbacktoggleoverlay_1.PlaybackToggleOverlay(),
                    new caststatusoverlay_1.CastStatusOverlay(),
                    controlBar,
                    // new TitleBar(),
                    new recommendationoverlay_1.RecommendationOverlay(),
                    // new Watermark(),
                    new errormessageoverlay_1.ErrorMessageOverlay(),
                ],
                cssClasses: ['ui-skin-mi-wbc'],
            });
        }
        // function modernAdsUI() {
        //   return new UIContainer({
        //     components: [
        //       new BufferingOverlay(),
        //       new AdClickOverlay(),
        //       new PlaybackToggleOverlay(),
        //       new Container({
        //         components: [
        //           new AdMessageLabel({ text: 'Ad: {remainingTime} secs' }),
        //           new AdSkipButton(),
        //         ],
        //         cssClass: 'ui-ads-status',
        //       }),
        //       new ControlBar({
        //         components: [
        //           new Container({
        //             components: [
        //               new PlaybackToggleButton(),
        //               new VolumeToggleButton(),
        //               new VolumeSlider(),
        //               new Spacer(),
        //               new FullscreenToggleButton(),
        //             ],
        //             cssClasses: ['controlbar-bottom'],
        //           }),
        //         ],
        //       }),
        //     ],
        //     cssClasses: ['ui-skin-mi-wbc', 'ui-skin-ads'],
        //   });
        // }
        function modernSmallScreenUI() {
            var subtitleOverlay = new subtitleoverlay_1.SubtitleOverlay();
            var settingsPanel = new settingspanel_1.SettingsPanel({
                components: [
                    new settingspanel_1.SettingsPanelItem('Video Quality', new videoqualityselectbox_1.VideoQualitySelectBox()),
                    new settingspanel_1.SettingsPanelItem('Speed', new playbackspeedselectbox_1.PlaybackSpeedSelectBox()),
                    new settingspanel_1.SettingsPanelItem('Audio Track', new audiotrackselectbox_1.AudioTrackSelectBox()),
                    new settingspanel_1.SettingsPanelItem('Audio Quality', new audioqualityselectbox_1.AudioQualitySelectBox()),
                ],
                hidden: true,
                hideDelay: -1,
            });
            var subtitleSettingsPanel = new subtitlesettingspanel_1.SubtitleSettingsPanel({
                hidden: true,
                hideDelay: -1,
                overlay: subtitleOverlay,
                settingsPanel: settingsPanel,
            });
            var subtitleSettingsOpenButton = new subtitlesettingsopenbutton_1.SubtitleSettingsOpenButton({
                subtitleSettingsPanel: subtitleSettingsPanel,
                settingsPanel: settingsPanel,
            });
            settingsPanel.addComponent(new settingspanel_1.SettingsPanelItem(new subtitlesettingslabel_1.SubtitleSettingsLabel({ text: 'Subtitles', opener: subtitleSettingsOpenButton }), new subtitleselectbox_1.SubtitleSelectBox()));
            settingsPanel.addComponent(new closebutton_1.CloseButton({ target: settingsPanel }));
            subtitleSettingsPanel.addComponent(new closebutton_1.CloseButton({ target: subtitleSettingsPanel }));
            var controlBar = new controlbar_1.ControlBar({
                components: [
                    new container_1.Container({
                        components: [
                            new playbacktimelabel_1.PlaybackTimeLabel({ timeLabelMode: playbacktimelabel_1.PlaybackTimeLabelMode.CurrentTime, hideInLivePlayback: true }),
                            new seekbar_1.SeekBar({ label: new seekbarlabel_1.SeekBarLabel() }),
                            new playbacktimelabel_1.PlaybackTimeLabel({ timeLabelMode: playbacktimelabel_1.PlaybackTimeLabelMode.TotalTime, cssClasses: ['text-right'] }),
                        ],
                        cssClasses: ['controlbar-top'],
                    }),
                ],
            });
            return new uicontainer_1.UIContainer({
                components: [
                    subtitleOverlay,
                    new bufferingoverlay_1.BufferingOverlay(),
                    new caststatusoverlay_1.CastStatusOverlay(),
                    new playbacktoggleoverlay_1.PlaybackToggleOverlay(),
                    controlBar,
                    new titlebar_1.TitleBar({
                        components: [
                            new metadatalabel_1.MetadataLabel({ content: metadatalabel_1.MetadataLabelContent.Title }),
                            new casttogglebutton_1.CastToggleButton(),
                            new vrtogglebutton_1.VRToggleButton(),
                            new volumetogglebutton_1.VolumeToggleButton(),
                            new settingstogglebutton_1.SettingsToggleButton({ settingsPanel: settingsPanel }),
                            new fullscreentogglebutton_1.FullscreenToggleButton(),
                        ],
                    }),
                    settingsPanel,
                    subtitleSettingsPanel,
                    new recommendationoverlay_1.RecommendationOverlay(),
                    // new Watermark(),
                    new errormessageoverlay_1.ErrorMessageOverlay(),
                ],
                cssClasses: ['ui-skin-mi-wbc', 'ui-skin-smallscreen'],
            });
        }
        function modernAudioOnlySmallScreenUI() {
            var subtitleOverlay = new subtitleoverlay_1.SubtitleOverlay();
            var settingsPanel = new settingspanel_1.SettingsPanel({
                components: [
                    new settingspanel_1.SettingsPanelItem('Speed', new playbackspeedselectbox_1.PlaybackSpeedSelectBox()),
                    new settingspanel_1.SettingsPanelItem('Audio Track', new audiotrackselectbox_1.AudioTrackSelectBox()),
                    new settingspanel_1.SettingsPanelItem('Audio Quality', new audioqualityselectbox_1.AudioQualitySelectBox()),
                ],
                hidden: true,
                hideDelay: -1,
            });
            var subtitleSettingsPanel = new subtitlesettingspanel_1.SubtitleSettingsPanel({
                hidden: true,
                hideDelay: -1,
                overlay: subtitleOverlay,
                settingsPanel: settingsPanel,
            });
            var subtitleSettingsOpenButton = new subtitlesettingsopenbutton_1.SubtitleSettingsOpenButton({
                subtitleSettingsPanel: subtitleSettingsPanel,
                settingsPanel: settingsPanel,
            });
            settingsPanel.addComponent(new settingspanel_1.SettingsPanelItem(new subtitlesettingslabel_1.SubtitleSettingsLabel({ text: 'Subtitles', opener: subtitleSettingsOpenButton }), new subtitleselectbox_1.SubtitleSelectBox()));
            settingsPanel.addComponent(new closebutton_1.CloseButton({ target: settingsPanel }));
            subtitleSettingsPanel.addComponent(new closebutton_1.CloseButton({ target: subtitleSettingsPanel }));
            var controlBar = new controlbar_1.ControlBar({
                components: [
                    new container_1.Container({
                        components: [
                            new playbacktimelabel_1.PlaybackTimeLabel({ timeLabelMode: playbacktimelabel_1.PlaybackTimeLabelMode.CurrentTime, hideInLivePlayback: true }),
                            new seekbar_1.SeekBar({ label: new seekbarlabel_1.SeekBarLabel() }),
                            new playbacktimelabel_1.PlaybackTimeLabel({ timeLabelMode: playbacktimelabel_1.PlaybackTimeLabelMode.TotalTime, cssClasses: ['text-right'] }),
                        ],
                        cssClasses: ['controlbar-top'],
                    }),
                ],
            });
            return new uicontainer_1.UIContainer({
                components: [
                    new audioonlyoverlay_1.AudioOnlyOverlay(),
                    subtitleOverlay,
                    new bufferingoverlay_1.BufferingOverlay(),
                    new caststatusoverlay_1.CastStatusOverlay(),
                    new playbacktoggleoverlay_1.PlaybackToggleOverlay(),
                    controlBar,
                    new titlebar_1.TitleBar({
                        components: [
                            new metadatalabel_1.MetadataLabel({ content: metadatalabel_1.MetadataLabelContent.Title }),
                            new casttogglebutton_1.CastToggleButton(),
                            new vrtogglebutton_1.VRToggleButton(),
                            new volumetogglebutton_1.VolumeToggleButton(),
                            new settingstogglebutton_1.SettingsToggleButton({ settingsPanel: settingsPanel }),
                            new fullscreentogglebutton_1.FullscreenToggleButton(),
                        ],
                    }),
                    settingsPanel,
                    subtitleSettingsPanel,
                    new recommendationoverlay_1.RecommendationOverlay(),
                    // new Watermark(),
                    new errormessageoverlay_1.ErrorMessageOverlay(),
                ],
                cssClasses: ['ui-skin-mi-wbc', 'ui-skin-smallscreen'],
            });
        }
        // function modernSmallScreenAdsUI() {
        //   return new UIContainer({
        //     components: [
        //       new BufferingOverlay(),
        //       new AdClickOverlay(),
        //       new PlaybackToggleOverlay(),
        //       new TitleBar({
        //         components: [
        //           // dummy label with no content to move buttons to the right
        //           new Label({ cssClass: 'label-metadata-title' }),
        //           new FullscreenToggleButton(),
        //         ],
        //       }),
        //       new Container({
        //         components: [
        //           new AdMessageLabel({ text: 'Ad: {remainingTime} secs' }),
        //           new AdSkipButton(),
        //         ],
        //         cssClass: 'ui-ads-status',
        //       }),
        //     ],
        //     cssClasses: ['ui-skin-mi-wbc', 'ui-skin-ads', 'ui-skin-smallscreen'],
        //   });
        // }
        // function modernCastReceiverUI() {
        //   let controlBar = new ControlBar({
        //     components: [
        //       new Container({
        //         components: [
        //           new PlaybackTimeLabel({ timeLabelMode: PlaybackTimeLabelMode.CurrentTime, hideInLivePlayback: true }),
        //           new SeekBar({ smoothPlaybackPositionUpdateIntervalMs: -1 }),
        //           new PlaybackTimeLabel({ timeLabelMode: PlaybackTimeLabelMode.TotalTime, cssClasses: ['text-right'] }),
        //         ],
        //         cssClasses: ['controlbar-top'],
        //       }),
        //     ],
        //   });
        //   return new CastUIContainer({
        //     components: [
        //       new SubtitleOverlay(),
        //       new BufferingOverlay(),
        //       new PlaybackToggleOverlay(),
        //       new Watermark(),
        //       controlBar,
        //       new TitleBar({ keepHiddenWithoutMetadata: true }),
        //       new ErrorMessageOverlay(),
        //     ],
        //     cssClasses: ['ui-skin-mi-wbc', 'ui-skin-cast-receiver'],
        //   });
        // }
        // export function buildModernUI(player: PlayerAPI, config: UIConfig = {}): UIManager {
        //   // show smallScreen UI only on mobile/handheld devices
        //   let smallScreenSwitchWidth = 600;
        //   return new UIManager(player, [{
        //     ui: modernSmallScreenAdsUI(),
        //     condition: (context: UIConditionContext) => {
        //       return context.isMobile && context.documentWidth < smallScreenSwitchWidth && context.isAdWithUI;
        //     },
        //   }, {
        //     ui: modernAdsUI(),
        //     condition: (context: UIConditionContext) => {
        //       return context.isAdWithUI;
        //     },
        //   }, {
        //     ui: modernSmallScreenUI(),
        //     condition: (context: UIConditionContext) => {
        //       return context.isMobile && context.documentWidth < smallScreenSwitchWidth;
        //     },
        //   }, {
        //     ui: modernUI(),
        //   }], config);
        // }
        // export function buildModernSmallScreenUI(player: PlayerAPI, config: UIConfig = {}): UIManager {
        //   return new UIManager(player, [{
        //     ui: modernSmallScreenAdsUI(),
        //     condition: (context: UIConditionContext) => {
        //       return context.isAdWithUI;
        //     },
        //   }, {
        //     ui: modernSmallScreenUI(),
        //   }], config);
        // }
        // export function buildModernCastReceiverUI(player: PlayerAPI, config: UIConfig = {}): UIManager {
        //   return new UIManager(player, modernCastReceiverUI(), config);
        // }
        // function legacyUI() {
        //   let settingsPanel = new SettingsPanel({
        //     components: [
        //       new SettingsPanelItem('Video Quality', new VideoQualitySelectBox()),
        //       new SettingsPanelItem('Audio Track', new AudioTrackSelectBox()),
        //       new SettingsPanelItem('Audio Quality', new AudioQualitySelectBox()),
        //       new SettingsPanelItem('Subtitles', new SubtitleSelectBox()),
        //     ],
        //     hidden: true,
        //   });
        //   let controlBar = new ControlBar({
        //     components: [
        //       settingsPanel,
        //       new PlaybackToggleButton(),
        //       new SeekBar({ label: new SeekBarLabel() }),
        //       new PlaybackTimeLabel(),
        //       new VRToggleButton(),
        //       new VolumeControlButton(),
        //       new SettingsToggleButton({ settingsPanel: settingsPanel }),
        //       new CastToggleButton(),
        //       new FullscreenToggleButton(),
        //     ],
        //   });
        //   return new UIContainer({
        //     components: [
        //       new SubtitleOverlay(),
        //       new CastStatusOverlay(),
        //       new PlaybackToggleOverlay(),
        //       new Watermark(),
        //       new RecommendationOverlay(),
        //       controlBar,
        //       new TitleBar(),
        //       new ErrorMessageOverlay(),
        //     ],
        //     cssClasses: ['ui-skin-legacy'],
        //   });
        // }
        // function legacyAdsUI() {
        //   return new UIContainer({
        //     components: [
        //       new AdClickOverlay(),
        //       new ControlBar({
        //         components: [
        //           new PlaybackToggleButton(),
        //           new AdMessageLabel(),
        //           new VolumeControlButton(),
        //           new FullscreenToggleButton(),
        //         ],
        //       }),
        //       new AdSkipButton(),
        //     ],
        //     cssClasses: ['ui-skin-legacy', 'ui-skin-ads'],
        //   });
        // }
        // function legacyCastReceiverUI() {
        //   let controlBar = new ControlBar({
        //     components: [
        //       new SeekBar(),
        //       new PlaybackTimeLabel(),
        //     ],
        //   });
        //   return new UIContainer({
        //     components: [
        //       new SubtitleOverlay(),
        //       new PlaybackToggleOverlay(),
        //       new Watermark(),
        //       controlBar,
        //       new TitleBar(),
        //       new ErrorMessageOverlay(),
        //     ],
        //     cssClasses: ['ui-skin-legacy', 'ui-skin-cast-receiver'],
        //   });
        // }
        // function legacyTestUI() {
        //   let settingsPanel = new SettingsPanel({
        //     components: [
        //       new SettingsPanelItem('Video Quality', new VideoQualitySelectBox()),
        //       new SettingsPanelItem('Audio Track', new AudioTrackSelectBox()),
        //       new SettingsPanelItem('Audio Quality', new AudioQualitySelectBox()),
        //       new SettingsPanelItem('Subtitles', new SubtitleSelectBox()),
        //     ],
        //     hidden: true,
        //   });
        //   let controlBar = new ControlBar({
        //     components: [settingsPanel,
        //       new PlaybackToggleButton(),
        //       new SeekBar({ label: new SeekBarLabel() }),
        //       new PlaybackTimeLabel(),
        //       new VRToggleButton(),
        //       new VolumeToggleButton(),
        //       new VolumeSlider(),
        //       new VolumeControlButton(),
        //       new VolumeControlButton({ vertical: false }),
        //       new SettingsToggleButton({ settingsPanel: settingsPanel }),
        //       new CastToggleButton(),
        //       new FullscreenToggleButton(),
        //     ],
        //   });
        //   return new UIContainer({
        //     components: [
        //       new SubtitleOverlay(),
        //       new CastStatusOverlay(),
        //       new PlaybackToggleOverlay(),
        //       new Watermark(),
        //       new RecommendationOverlay(),
        //       controlBar,
        //       new TitleBar(),
        //       new ErrorMessageOverlay(),
        //     ],
        //     cssClasses: ['ui-skin-legacy'],
        //   });
        // }
        // export function buildLegacyUI(player: PlayerAPI, config: UIConfig = {}): UIManager {
        //   return new UIManager(player, [{
        //     ui: legacyAdsUI(),
        //     condition: (context: UIConditionContext) => {
        //       return context.isAdWithUI;
        //     },
        //   }, {
        //     ui: legacyUI(),
        //   }], config);
        // }
        // export function buildLegacyCastReceiverUI(player: PlayerAPI, config: UIConfig = {}): UIManager {
        //   return new UIManager(player, legacyCastReceiverUI(), config);
        // }
        // export function buildLegacyTestUI(player: PlayerAPI, config: UIConfig = {}): UIManager {
        //   return new UIManager(player, legacyTestUI(), config);
        // }
    })(Factory = UIManager.Factory || (UIManager.Factory = {}));
})(UIManager = exports.UIManager || (exports.UIManager = {}));
exports.UIManager = UIManager;
/**
 * Encapsulates functionality to manage a UI instance. Used by the {@link UIManager} to manage multiple UI instances.
 */
var UIInstanceManager = (function () {
    function UIInstanceManager(player, ui, config) {
        this.events = {
            onConfigured: new eventdispatcher_1.EventDispatcher(),
            onSeek: new eventdispatcher_1.EventDispatcher(),
            onSeekPreview: new eventdispatcher_1.EventDispatcher(),
            onSeeked: new eventdispatcher_1.EventDispatcher(),
            onComponentShow: new eventdispatcher_1.EventDispatcher(),
            onComponentHide: new eventdispatcher_1.EventDispatcher(),
            onControlsShow: new eventdispatcher_1.EventDispatcher(),
            onPreviewControlsHide: new eventdispatcher_1.EventDispatcher(),
            onControlsHide: new eventdispatcher_1.EventDispatcher(),
            onRelease: new eventdispatcher_1.EventDispatcher(),
        };
        this.playerWrapper = new PlayerWrapper(player);
        this.ui = ui;
        this.config = config;
    }
    UIInstanceManager.prototype.getConfig = function () {
        return this.config;
    };
    UIInstanceManager.prototype.getUI = function () {
        return this.ui;
    };
    UIInstanceManager.prototype.getPlayer = function () {
        return this.playerWrapper.getPlayer();
    };
    Object.defineProperty(UIInstanceManager.prototype, "onConfigured", {
        /**
         * Fires when the UI is fully configured and added to the DOM.
         * @returns {EventDispatcher}
         */
        get: function () {
            return this.events.onConfigured;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(UIInstanceManager.prototype, "onSeek", {
        /**
         * Fires when a seek starts.
         * @returns {EventDispatcher}
         */
        get: function () {
            return this.events.onSeek;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(UIInstanceManager.prototype, "onSeekPreview", {
        /**
         * Fires when the seek timeline is scrubbed.
         * @returns {EventDispatcher}
         */
        get: function () {
            return this.events.onSeekPreview;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(UIInstanceManager.prototype, "onSeeked", {
        /**
         * Fires when a seek is finished.
         * @returns {EventDispatcher}
         */
        get: function () {
            return this.events.onSeeked;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(UIInstanceManager.prototype, "onComponentShow", {
        /**
         * Fires when a component is showing.
         * @returns {EventDispatcher}
         */
        get: function () {
            return this.events.onComponentShow;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(UIInstanceManager.prototype, "onComponentHide", {
        /**
         * Fires when a component is hiding.
         * @returns {EventDispatcher}
         */
        get: function () {
            return this.events.onComponentHide;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(UIInstanceManager.prototype, "onControlsShow", {
        /**
         * Fires when the UI controls are showing.
         * @returns {EventDispatcher}
         */
        get: function () {
            return this.events.onControlsShow;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(UIInstanceManager.prototype, "onPreviewControlsHide", {
        /**
         * Fires before the UI controls are hiding to check if they are allowed to hide.
         * @returns {EventDispatcher}
         */
        get: function () {
            return this.events.onPreviewControlsHide;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(UIInstanceManager.prototype, "onControlsHide", {
        /**
         * Fires when the UI controls are hiding.
         * @returns {EventDispatcher}
         */
        get: function () {
            return this.events.onControlsHide;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(UIInstanceManager.prototype, "onRelease", {
        /**
         * Fires when the UI controls are released.
         * @returns {EventDispatcher}
         */
        get: function () {
            return this.events.onRelease;
        },
        enumerable: true,
        configurable: true
    });
    UIInstanceManager.prototype.clearEventHandlers = function () {
        this.playerWrapper.clearEventHandlers();
        var events = this.events; // avoid TS7017
        for (var event_1 in events) {
            var dispatcher = events[event_1];
            dispatcher.unsubscribeAll();
        }
    };
    return UIInstanceManager;
}());
exports.UIInstanceManager = UIInstanceManager;
/**
 * Extends the {@link UIInstanceManager} for internal use in the {@link UIManager} and provides access to functionality
 * that components receiving a reference to the {@link UIInstanceManager} should not have access to.
 */
var InternalUIInstanceManager = (function (_super) {
    __extends(InternalUIInstanceManager, _super);
    function InternalUIInstanceManager() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    InternalUIInstanceManager.prototype.getWrappedPlayer = function () {
        // TODO find a non-hacky way to provide the WrappedPlayer to the UIManager without exporting it
        // getPlayer() actually returns the WrappedPlayer but its return type is set to Player so the WrappedPlayer does
        // not need to be exported
        return this.getPlayer();
    };
    InternalUIInstanceManager.prototype.configureControls = function () {
        this.configureControlsTree(this.getUI());
        this.configured = true;
    };
    InternalUIInstanceManager.prototype.isConfigured = function () {
        return this.configured;
    };
    InternalUIInstanceManager.prototype.configureControlsTree = function (component) {
        var _this = this;
        var configuredComponents = [];
        uiutils_1.UIUtils.traverseTree(component, function (component) {
            // First, check if we have already configured a component, and throw an error if we did. Multiple configuration
            // of the same component leads to unexpected UI behavior. Also, a component that is in the UI tree multiple
            // times hints at a wrong UI structure.
            // We could just skip configuration in such a case and not throw an exception, but enforcing a clean UI tree
            // seems like the better choice.
            for (var _i = 0, configuredComponents_1 = configuredComponents; _i < configuredComponents_1.length; _i++) {
                var configuredComponent = configuredComponents_1[_i];
                if (configuredComponent === component) {
                    // Write the component to the console to simplify identification of the culprit
                    // (e.g. by inspecting the config)
                    if (console) {
                        console.error('Circular reference in UI tree', component);
                    }
                    // Additionally throw an error, because this case must not happen and leads to unexpected UI behavior.
                    throw Error('Circular reference in UI tree: ' + component.constructor.name);
                }
            }
            component.initialize();
            component.configure(_this.getPlayer(), _this);
            configuredComponents.push(component);
        });
    };
    InternalUIInstanceManager.prototype.releaseControls = function () {
        // Do not call release methods if the components have never been configured; this can result in exceptions
        if (this.configured) {
            this.onRelease.dispatch(this.getUI());
            this.releaseControlsTree(this.getUI());
            this.configured = false;
        }
        this.released = true;
    };
    InternalUIInstanceManager.prototype.isReleased = function () {
        return this.released;
    };
    InternalUIInstanceManager.prototype.releaseControlsTree = function (component) {
        component.release();
        if (component instanceof container_1.Container) {
            for (var _i = 0, _a = component.getComponents(); _i < _a.length; _i++) {
                var childComponent = _a[_i];
                this.releaseControlsTree(childComponent);
            }
        }
    };
    InternalUIInstanceManager.prototype.clearEventHandlers = function () {
        _super.prototype.clearEventHandlers.call(this);
    };
    return InternalUIInstanceManager;
}(UIInstanceManager));
/**
 * Wraps the player to track event handlers and provide a simple method to remove all registered event
 * handlers from the player.
 */
var PlayerWrapper = (function () {
    function PlayerWrapper(player) {
        var _this = this;
        this.eventHandlers = {};
        this.player = player;
        // Collect all members of the player (public API methods and properties of the player)
        // (Object.getOwnPropertyNames(player) does not work with the player TypeScript class starting in 7.2)
        var members = [];
        for (var member in player) {
            members.push(member);
        }
        // Split the members into methods and properties
        var methods = [];
        var properties = [];
        for (var _i = 0, members_1 = members; _i < members_1.length; _i++) {
            var member = members_1[_i];
            if (typeof player[member] === 'function') {
                methods.push(member);
            }
            else {
                properties.push(member);
            }
        }
        // Create wrapper object
        var wrapper = {};
        var _loop_1 = function (method) {
            wrapper[method] = function () {
                // console.log('called ' + member); // track method calls on the player
                return player[method].apply(player, arguments);
            };
        };
        // Add function wrappers for all API methods that do nothing but calling the base method on the player
        for (var _a = 0, methods_1 = methods; _a < methods_1.length; _a++) {
            var method = methods_1[_a];
            _loop_1(method);
        }
        var _loop_2 = function (property) {
            // Get an eventually existing property descriptor to differentiate between plain properties and properties with
            // getters/setters.
            var propertyDescriptor = Object.getOwnPropertyDescriptor(player, property) ||
                Object.getOwnPropertyDescriptor(Object.getPrototypeOf(player), property);
            // If the property has getters/setters, wrap them accordingly...
            if (propertyDescriptor && (propertyDescriptor.get || propertyDescriptor.set)) {
                Object.defineProperty(wrapper, property, {
                    get: function () { return propertyDescriptor.get.call(player); },
                    set: function (value) { return propertyDescriptor.set.call(player, value); },
                });
            }
            else {
                wrapper[property] = player[property];
            }
        };
        // Add all public properties of the player to the wrapper
        for (var _b = 0, properties_1 = properties; _b < properties_1.length; _b++) {
            var property = properties_1[_b];
            _loop_2(property);
        }
        // Explicitly add a wrapper method for 'addEventHandler' that adds added event handlers to the event list
        wrapper.addEventHandler = function (eventType, callback) {
            // in player V8 addEventHandler was replaced by on
            if (player.on) {
                player.on(eventType, callback);
            }
            else {
                // keep backward compatibility for versions <7.7
                player.addEventHandler(eventType, callback);
            }
            if (!_this.eventHandlers[eventType]) {
                _this.eventHandlers[eventType] = [];
            }
            _this.eventHandlers[eventType].push(callback);
            return wrapper;
        };
        // Explicitly add a wrapper method for 'removeEventHandler' that removes removed event handlers from the event list
        wrapper.removeEventHandler = function (eventType, callback) {
            if (player.off) {
                player.off(eventType, callback);
            }
            else {
                // keep backward compatibility for versions <7.7
                player.removeEventHandler(eventType, callback);
            }
            if (_this.eventHandlers[eventType]) {
                arrayutils_1.ArrayUtils.remove(_this.eventHandlers[eventType], callback);
            }
            return wrapper;
        };
        wrapper.fireEventInUI = function (event, data) {
            if (_this.eventHandlers[event]) {
                // Extend the data object with default values to convert it to a {@link PlayerEvent} object.
                var playerEventData = Object.assign({}, {
                    timestamp: Date.now(),
                    type: event,
                    // Add a marker property so the UI can detect UI-internal player events
                    uiSourced: true,
                }, data);
                // Execute the registered callbacks
                for (var _i = 0, _a = _this.eventHandlers[event]; _i < _a.length; _i++) {
                    var callback = _a[_i];
                    callback(playerEventData);
                }
            }
        };
        this.wrapper = wrapper;
    }
    /**
     * Returns a wrapped player object that can be used on place of the normal player object.
     * @returns {WrappedPlayer} a wrapped player
     */
    PlayerWrapper.prototype.getPlayer = function () {
        return this.wrapper;
    };
    /**
     * Clears all registered event handlers from the player that were added through the wrapped player.
     */
    PlayerWrapper.prototype.clearEventHandlers = function () {
        for (var eventType in this.eventHandlers) {
            for (var _i = 0, _a = this.eventHandlers[eventType]; _i < _a.length; _i++) {
                var callback = _a[_i];
                this.player.removeEventHandler(eventType, callback);
            }
        }
    };
    return PlayerWrapper;
}());


/***/ }),
/* 72 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var Guid;
(function (Guid) {
    var guid = 1;
    function next() {
        return guid++;
    }
    Guid.next = next;
})(Guid = exports.Guid || (exports.Guid = {}));


/***/ }),
/* 73 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var storageutils_1 = __webpack_require__(44);
var component_1 = __webpack_require__(2);
var eventdispatcher_1 = __webpack_require__(3);
var SubtitleSettingsManager = (function () {
    function SubtitleSettingsManager() {
        var _this = this;
        this._properties = {
            fontColor: new SubtitleSettingsProperty(this),
            fontOpacity: new SubtitleSettingsProperty(this),
            fontFamily: new SubtitleSettingsProperty(this),
            fontSize: new SubtitleSettingsProperty(this),
            characterEdge: new SubtitleSettingsProperty(this),
            backgroundColor: new SubtitleSettingsProperty(this),
            backgroundOpacity: new SubtitleSettingsProperty(this),
            windowColor: new SubtitleSettingsProperty(this),
            windowOpacity: new SubtitleSettingsProperty(this),
        };
        this.userSettings = {};
        this.localStorageKey = DummyComponent.instance().prefixCss('subtitlesettings');
        var _loop_1 = function (propertyName) {
            this_1._properties[propertyName].onChanged.subscribe(function (sender, property) {
                if (property.isSet()) {
                    _this.userSettings[propertyName] = property.value;
                }
                else {
                    // Delete the property from the settings object if unset to avoid serialization of null values
                    delete _this.userSettings[propertyName];
                }
                // Save the settings object when a property has changed
                _this.save();
            });
        };
        var this_1 = this;
        for (var propertyName in this._properties) {
            _loop_1(propertyName);
        }
        this.load();
    }
    SubtitleSettingsManager.prototype.reset = function () {
        for (var propertyName in this._properties) {
            this._properties[propertyName].clear();
        }
    };
    Object.defineProperty(SubtitleSettingsManager.prototype, "fontColor", {
        get: function () {
            return this._properties.fontColor;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SubtitleSettingsManager.prototype, "fontOpacity", {
        get: function () {
            return this._properties.fontOpacity;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SubtitleSettingsManager.prototype, "fontFamily", {
        get: function () {
            return this._properties.fontFamily;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SubtitleSettingsManager.prototype, "fontSize", {
        get: function () {
            return this._properties.fontSize;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SubtitleSettingsManager.prototype, "characterEdge", {
        get: function () {
            return this._properties.characterEdge;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SubtitleSettingsManager.prototype, "backgroundColor", {
        get: function () {
            return this._properties.backgroundColor;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SubtitleSettingsManager.prototype, "backgroundOpacity", {
        get: function () {
            return this._properties.backgroundOpacity;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SubtitleSettingsManager.prototype, "windowColor", {
        get: function () {
            return this._properties.windowColor;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SubtitleSettingsManager.prototype, "windowOpacity", {
        get: function () {
            return this._properties.windowOpacity;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * Saves the settings to local storage.
     */
    SubtitleSettingsManager.prototype.save = function () {
        storageutils_1.StorageUtils.setObject(this.localStorageKey, this.userSettings);
    };
    /**
     * Loads the settings from local storage
     */
    SubtitleSettingsManager.prototype.load = function () {
        this.userSettings = storageutils_1.StorageUtils.getObject(this.localStorageKey) || {};
        // Apply the loaded settings
        for (var property in this.userSettings) {
            this._properties[property].value = this.userSettings[property];
        }
    };
    return SubtitleSettingsManager;
}());
exports.SubtitleSettingsManager = SubtitleSettingsManager;
/**
 * A dummy component whose sole purpose is to expose the {@link #prefixCss} method to the
 * {@link SubtitleSettingsManager}.
 */
var DummyComponent = (function (_super) {
    __extends(DummyComponent, _super);
    function DummyComponent() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    DummyComponent.instance = function () {
        if (!DummyComponent._instance) {
            DummyComponent._instance = new DummyComponent();
        }
        return DummyComponent._instance;
    };
    DummyComponent.prototype.prefixCss = function (cssClassOrId) {
        return _super.prototype.prefixCss.call(this, cssClassOrId);
    };
    return DummyComponent;
}(component_1.Component));
var SubtitleSettingsProperty = (function () {
    function SubtitleSettingsProperty(manager) {
        this._manager = manager;
        this._onChanged = new eventdispatcher_1.EventDispatcher();
    }
    SubtitleSettingsProperty.prototype.isSet = function () {
        return this._value != null;
    };
    SubtitleSettingsProperty.prototype.clear = function () {
        this._value = null;
        this.onChangedEvent(null);
    };
    Object.defineProperty(SubtitleSettingsProperty.prototype, "value", {
        get: function () {
            return this._value;
        },
        set: function (value) {
            if (typeof value === 'string' && value === 'null') {
                value = null;
            }
            this._value = value;
            this.onChangedEvent(value);
        },
        enumerable: true,
        configurable: true
    });
    SubtitleSettingsProperty.prototype.onChangedEvent = function (value) {
        this._onChanged.dispatch(this._manager, this);
    };
    Object.defineProperty(SubtitleSettingsProperty.prototype, "onChanged", {
        get: function () {
            return this._onChanged.getEvent();
        },
        enumerable: true,
        configurable: true
    });
    return SubtitleSettingsProperty;
}());
exports.SubtitleSettingsProperty = SubtitleSettingsProperty;


/***/ }),
/* 74 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var dom_1 = __webpack_require__(1);
/**
 * Tracks the loading state of images.
 */
var ImageLoader = (function () {
    function ImageLoader() {
        this.state = {};
    }
    /**
     * Loads an image and call the callback once the image is loaded. If the image is already loaded, the callback
     * is called immediately, else it is called once loading has finished. Calling this method multiple times for the
     * same image while it is loading calls only let callback passed into the last call.
     * @param url The url to the image to load
     * @param loadedCallback The callback that is called when the image is loaded
     */
    ImageLoader.prototype.load = function (url, loadedCallback) {
        var _this = this;
        if (!this.state[url]) {
            // When the image was never attempted to be loaded before, we create a state and store it in the state map
            // for later use when the same image is requested to be loaded again.
            var state_1 = {
                url: url,
                image: new dom_1.DOM('img', {}),
                loadedCallback: loadedCallback,
                loaded: false,
                width: 0,
                height: 0,
            };
            this.state[url] = state_1;
            // Listen to the load event, update the state and call the callback once the image is loaded
            state_1.image.on('load', function (e) {
                state_1.loaded = true;
                state_1.width = state_1.image.get(0).width;
                state_1.height = state_1.image.get(0).height;
                _this.callLoadedCallback(state_1);
            });
            // Set the image URL to start the loading
            state_1.image.attr('src', state_1.url);
        }
        else {
            // We have a state for the requested image, so it is either already loaded or currently loading
            var state = this.state[url];
            // We overwrite the callback to make sure that only the callback of the latest call gets executed.
            // Earlier callbacks become invalid once a new load call arrives, and they are not called as long as the image
            // is not loaded.
            state.loadedCallback = loadedCallback;
            // When the image is already loaded, we directly execute the callback instead of waiting for the load event
            if (state.loaded) {
                this.callLoadedCallback(state);
            }
        }
    };
    ImageLoader.prototype.callLoadedCallback = function (state) {
        state.loadedCallback(state.url, state.width, state.height);
    };
    return ImageLoader;
}());
exports.ImageLoader = ImageLoader;


/***/ }),
/* 75 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var component_1 = __webpack_require__(2);
var dom_1 = __webpack_require__(1);
/**
 * Animated analog TV static noise.
 */
var TvNoiseCanvas = (function (_super) {
    __extends(TvNoiseCanvas, _super);
    function TvNoiseCanvas(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.canvasWidth = 160;
        _this.canvasHeight = 90;
        _this.interferenceHeight = 50;
        _this.lastFrameUpdate = 0;
        _this.frameInterval = 60;
        _this.useAnimationFrame = !!window.requestAnimationFrame;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-tvnoisecanvas',
        }, _this.config);
        return _this;
    }
    TvNoiseCanvas.prototype.toDomElement = function () {
        return this.canvas = new dom_1.DOM('canvas', { 'class': this.getCssClasses() });
    };
    TvNoiseCanvas.prototype.start = function () {
        this.canvasElement = this.canvas.get(0);
        this.canvasContext = this.canvasElement.getContext('2d');
        this.noiseAnimationWindowPos = -this.canvasHeight;
        this.lastFrameUpdate = 0;
        this.canvasElement.width = this.canvasWidth;
        this.canvasElement.height = this.canvasHeight;
        this.renderFrame();
    };
    TvNoiseCanvas.prototype.stop = function () {
        if (this.useAnimationFrame) {
            cancelAnimationFrame(this.frameUpdateHandlerId);
        }
        else {
            clearTimeout(this.frameUpdateHandlerId);
        }
    };
    TvNoiseCanvas.prototype.renderFrame = function () {
        // This code has been copied from the player controls.js and simplified
        if (this.lastFrameUpdate + this.frameInterval > new Date().getTime()) {
            // It's too early to render the next frame
            this.scheduleNextRender();
            return;
        }
        var currentPixelOffset;
        var canvasWidth = this.canvasWidth;
        var canvasHeight = this.canvasHeight;
        // Create texture
        var noiseImage = this.canvasContext.createImageData(canvasWidth, canvasHeight);
        // Fill texture with noise
        for (var y = 0; y < canvasHeight; y++) {
            for (var x = 0; x < canvasWidth; x++) {
                currentPixelOffset = (canvasWidth * y * 4) + x * 4;
                noiseImage.data[currentPixelOffset] = Math.random() * 255;
                if (y < this.noiseAnimationWindowPos || y > this.noiseAnimationWindowPos + this.interferenceHeight) {
                    noiseImage.data[currentPixelOffset] *= 0.85;
                }
                noiseImage.data[currentPixelOffset + 1] = noiseImage.data[currentPixelOffset];
                noiseImage.data[currentPixelOffset + 2] = noiseImage.data[currentPixelOffset];
                noiseImage.data[currentPixelOffset + 3] = 50;
            }
        }
        // Put texture onto canvas
        this.canvasContext.putImageData(noiseImage, 0, 0);
        this.lastFrameUpdate = new Date().getTime();
        this.noiseAnimationWindowPos += 7;
        if (this.noiseAnimationWindowPos > canvasHeight) {
            this.noiseAnimationWindowPos = -canvasHeight;
        }
        this.scheduleNextRender();
    };
    TvNoiseCanvas.prototype.scheduleNextRender = function () {
        if (this.useAnimationFrame) {
            this.frameUpdateHandlerId = window.requestAnimationFrame(this.renderFrame.bind(this));
        }
        else {
            this.frameUpdateHandlerId = setTimeout(this.renderFrame.bind(this), this.frameInterval);
        }
    };
    return TvNoiseCanvas;
}(component_1.Component));
exports.TvNoiseCanvas = TvNoiseCanvas;


/***/ }),
/* 76 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var container_1 = __webpack_require__(0);
var component_1 = __webpack_require__(2);
var timeout_1 = __webpack_require__(9);
/**
 * Overlays the player and displays an audio-only indicator.
 */
var AudioOnlyOverlay = (function (_super) {
    __extends(AudioOnlyOverlay, _super);
    function AudioOnlyOverlay(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.indicatorConfig = [
            new component_1.Component({ tag: 'div', cssClass: 'ui-audioonly-overlay-indicator', hidden: true }),
        ];
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-audioonly-overlay',
            hidden: false,
            components: _this.indicatorConfig,
        }, _this.config);
        return _this;
    }
    AudioOnlyOverlay.prototype.configure = function (player, uimanager) {
        _super.prototype.configure.call(this, player, uimanager);
        this.componentConfig = uimanager.getConfig().audioOnlyOverlayConfig || {};
        var config = this.getConfig();
        var indicator = config.components[0];
        var backgroundImageUrl = this.componentConfig.backgroundImageUrl;
        var element = this.getDomElement();
        var showBackgroundImage = function () {
            element.css('backgroundImage', "url(" + backgroundImageUrl + ")");
            element.css('backgroundSize', 'contain');
            element.css('backgroundColor', '#000000');
            element.css('animation', 'none');
            element.css('backgroundPosition', 'center');
        };
        var overlayShowTimeout = new timeout_1.Timeout(400, function () {
            indicator.show();
        });
        var showOverlay = function () {
            overlayShowTimeout.start();
        };
        var hideOverlay = function () {
            overlayShowTimeout.clear();
            indicator.hide();
        };
        if (backgroundImageUrl) {
            showBackgroundImage();
        }
        if (!this.componentConfig.hiddeIndicator) {
            player.addEventHandler(player.EVENT.ON_PLAY, showOverlay);
            player.addEventHandler(player.EVENT.ON_PAUSED, hideOverlay);
        }
    };
    return AudioOnlyOverlay;
}(container_1.Container));
exports.AudioOnlyOverlay = AudioOnlyOverlay;


/***/ }),
/* 77 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var listselector_1 = __webpack_require__(33);
var dom_1 = __webpack_require__(1);
var ItemSelectionList = (function (_super) {
    __extends(ItemSelectionList, _super);
    function ItemSelectionList(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            tag: 'ul',
            cssClass: 'ui-itemselectionlist',
        }, _this.config);
        return _this;
    }
    ItemSelectionList.prototype.isActive = function () {
        return this.items.length > 1;
    };
    ItemSelectionList.prototype.toDomElement = function () {
        var listElement = new dom_1.DOM('ul', {
            'id': this.config.id,
            'class': this.getCssClasses(),
        });
        this.listElement = listElement;
        this.updateDomItems();
        return listElement;
    };
    ItemSelectionList.prototype.updateDomItems = function (selectedValue) {
        var _this = this;
        if (selectedValue === void 0) { selectedValue = null; }
        // Delete all children
        this.listElement.empty();
        var selectedListItem = null;
        var selectItem = function (listItem) {
            listItem.addClass(_this.prefixCss(ItemSelectionList.CLASS_SELECTED));
        };
        var deselectItem = function (listItem) {
            listItem.removeClass(_this.prefixCss(ItemSelectionList.CLASS_SELECTED));
        };
        var _loop_1 = function (item) {
            var listItem = new dom_1.DOM('li', {
                'type': 'li',
                'class': this_1.prefixCss('ui-selectionlistitem'),
            }).append(new dom_1.DOM('a', {}).html(item.label));
            if (!selectedListItem) {
                if (selectedValue == null) {
                    selectedListItem = listItem;
                }
                else if (String(selectedValue) === item.key) {
                    selectedListItem = listItem;
                }
            }
            // Handle list item selections
            listItem.on('click', function () {
                // Deselect the previous item (if there was a selected item)
                if (selectedListItem) {
                    deselectItem(selectedListItem);
                }
                // Select the clicked item
                selectedListItem = listItem;
                selectItem(listItem);
                // Fire the event
                _this.onItemSelectedEvent(item.key, false);
            });
            // Select default item
            if (selectedListItem) {
                selectItem(selectedListItem);
            }
            this_1.listElement.append(listItem);
        };
        var this_1 = this;
        for (var _i = 0, _a = this.items; _i < _a.length; _i++) {
            var item = _a[_i];
            _loop_1(item);
        }
    };
    ItemSelectionList.prototype.onItemAddedEvent = function (value) {
        _super.prototype.onItemAddedEvent.call(this, value);
        this.updateDomItems(this.selectedItem);
    };
    ItemSelectionList.prototype.onItemRemovedEvent = function (value) {
        _super.prototype.onItemRemovedEvent.call(this, value);
        this.updateDomItems(this.selectedItem);
    };
    ItemSelectionList.prototype.onItemSelectedEvent = function (value, updateDomItems) {
        if (updateDomItems === void 0) { updateDomItems = true; }
        _super.prototype.onItemSelectedEvent.call(this, value);
        if (updateDomItems) {
            this.updateDomItems(value);
        }
    };
    return ItemSelectionList;
}(listselector_1.ListSelector));
ItemSelectionList.CLASS_SELECTED = 'selected';
exports.ItemSelectionList = ItemSelectionList;


/***/ }),
/* 78 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var clickoverlay_1 = __webpack_require__(28);
/**
 * A watermark overlay with a clickable logo.
 */
var Watermark = (function (_super) {
    __extends(Watermark, _super);
    function Watermark(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-watermark',
            url: 'http://bitmovin.com',
        }, _this.config);
        return _this;
    }
    return Watermark;
}(clickoverlay_1.ClickOverlay));
exports.Watermark = Watermark;


/***/ }),
/* 79 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var container_1 = __webpack_require__(0);
var volumeslider_1 = __webpack_require__(26);
var volumetogglebutton_1 = __webpack_require__(17);
var timeout_1 = __webpack_require__(9);
/**
 * A composite volume control that consists of and internally manages a volume control button that can be used
 * for muting, and a (depending on the CSS style, e.g. slide-out) volume control bar.
 */
var VolumeControlButton = (function (_super) {
    __extends(VolumeControlButton, _super);
    function VolumeControlButton(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.volumeToggleButton = new volumetogglebutton_1.VolumeToggleButton();
        _this.volumeSlider = new volumeslider_1.VolumeSlider({
            vertical: config.vertical != null ? config.vertical : true,
            hidden: true,
        });
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-volumecontrolbutton',
            components: [_this.volumeToggleButton, _this.volumeSlider],
            hideDelay: 500,
        }, _this.config);
        return _this;
    }
    VolumeControlButton.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        var volumeToggleButton = this.getVolumeToggleButton();
        var volumeSlider = this.getVolumeSlider();
        this.volumeSliderHideTimeout = new timeout_1.Timeout(this.getConfig().hideDelay, function () {
            volumeSlider.hide();
        });
        /*
         * Volume Slider visibility handling
         *
         * The volume slider shall be visible while the user hovers the mute toggle button, while the user hovers the
         * volume slider, and while the user slides the volume slider. If none of these situations are true, the slider
         * shall disappear.
         */
        var volumeSliderHovered = false;
        volumeToggleButton.getDomElement().on('mouseenter', function () {
            // Show volume slider when mouse enters the button area
            if (volumeSlider.isHidden()) {
                volumeSlider.show();
            }
            // Avoid hiding of the slider when button is hovered
            _this.volumeSliderHideTimeout.clear();
        });
        volumeToggleButton.getDomElement().on('mouseleave', function () {
            // Hide slider delayed when button is left
            _this.volumeSliderHideTimeout.reset();
        });
        volumeSlider.getDomElement().on('mouseenter', function () {
            // When the slider is entered, cancel the hide timeout activated by leaving the button
            _this.volumeSliderHideTimeout.clear();
            volumeSliderHovered = true;
        });
        volumeSlider.getDomElement().on('mouseleave', function () {
            // When mouse leaves the slider, only hide it if there is no slide operation in progress
            if (volumeSlider.isSeeking()) {
                _this.volumeSliderHideTimeout.clear();
            }
            else {
                _this.volumeSliderHideTimeout.reset();
            }
            volumeSliderHovered = false;
        });
        volumeSlider.onSeeked.subscribe(function () {
            // When a slide operation is done and the slider not hovered (mouse outside slider), hide slider delayed
            if (!volumeSliderHovered) {
                _this.volumeSliderHideTimeout.reset();
            }
        });
    };
    VolumeControlButton.prototype.release = function () {
        _super.prototype.release.call(this);
        this.volumeSliderHideTimeout.clear();
    };
    /**
     * Provides access to the internally managed volume toggle button.
     * @returns {VolumeToggleButton}
     */
    VolumeControlButton.prototype.getVolumeToggleButton = function () {
        return this.volumeToggleButton;
    };
    /**
     * Provides access to the internally managed volume silder.
     * @returns {VolumeSlider}
     */
    VolumeControlButton.prototype.getVolumeSlider = function () {
        return this.volumeSlider;
    };
    return VolumeControlButton;
}(container_1.Container));
exports.VolumeControlButton = VolumeControlButton;


/***/ }),
/* 80 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var button_1 = __webpack_require__(7);
var stringutils_1 = __webpack_require__(10);
/**
 * A button that is displayed during ads and can be used to skip the ad.
 */
var AdSkipButton = (function (_super) {
    __extends(AdSkipButton, _super);
    function AdSkipButton(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-button-ad-skip',
            skipMessage: {
                countdown: 'Skip ad in {remainingTime}',
                skip: 'Skip ad',
            },
        }, _this.config);
        return _this;
    }
    AdSkipButton.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        var config = this.getConfig(); // TODO get rid of generic cast
        var skipMessage = config.skipMessage;
        var adEvent = null;
        var updateSkipMessageHandler = function () {
            // Display this button only if ad is skippable
            if (adEvent.skipOffset) {
                _this.show();
            }
            else {
                _this.hide();
            }
            // Update the skip message on the button
            if (player.getCurrentTime() < adEvent.skipOffset) {
                _this.setText(stringutils_1.StringUtils.replaceAdMessagePlaceholders(config.skipMessage.countdown, adEvent.skipOffset, player));
            }
            else {
                _this.setText(config.skipMessage.skip);
            }
        };
        var adStartHandler = function (event) {
            adEvent = event;
            skipMessage = adEvent.skipMessage || skipMessage;
            updateSkipMessageHandler();
            player.addEventHandler(player.EVENT.ON_TIME_CHANGED, updateSkipMessageHandler);
            player.addEventHandler(player.EVENT.ON_CAST_TIME_UPDATED, updateSkipMessageHandler);
        };
        var adEndHandler = function () {
            player.removeEventHandler(player.EVENT.ON_TIME_CHANGED, updateSkipMessageHandler);
            player.removeEventHandler(player.EVENT.ON_CAST_TIME_UPDATED, updateSkipMessageHandler);
        };
        player.addEventHandler(player.EVENT.ON_AD_STARTED, adStartHandler);
        player.addEventHandler(player.EVENT.ON_AD_SKIPPED, adEndHandler);
        player.addEventHandler(player.EVENT.ON_AD_ERROR, adEndHandler);
        player.addEventHandler(player.EVENT.ON_AD_FINISHED, adEndHandler);
        this.onClick.subscribe(function () {
            // Try to skip the ad (this only works if it is skippable so we don't need to take extra care of that here)
            player.skipAd();
        });
    };
    return AdSkipButton;
}(button_1.Button));
exports.AdSkipButton = AdSkipButton;


/***/ }),
/* 81 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var label_1 = __webpack_require__(6);
var stringutils_1 = __webpack_require__(10);
/**
 * A label that displays a message about a running ad, optionally with a countdown.
 */
var AdMessageLabel = (function (_super) {
    __extends(AdMessageLabel, _super);
    function AdMessageLabel(config) {
        if (config === void 0) { config = {}; }
        var _this = _super.call(this, config) || this;
        _this.config = _this.mergeConfig(config, {
            cssClass: 'ui-label-ad-message',
            text: 'This ad will end in {remainingTime} seconds.',
        }, _this.config);
        return _this;
    }
    AdMessageLabel.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        var text = this.getConfig().text;
        var updateMessageHandler = function () {
            _this.setText(stringutils_1.StringUtils.replaceAdMessagePlaceholders(text, null, player));
        };
        var adStartHandler = function (event) {
            text = event.adMessage || text;
            updateMessageHandler();
            player.addEventHandler(player.EVENT.ON_TIME_CHANGED, updateMessageHandler);
            player.addEventHandler(player.EVENT.ON_CAST_TIME_UPDATED, updateMessageHandler);
        };
        var adEndHandler = function () {
            player.removeEventHandler(player.EVENT.ON_TIME_CHANGED, updateMessageHandler);
            player.removeEventHandler(player.EVENT.ON_CAST_TIME_UPDATED, updateMessageHandler);
        };
        player.addEventHandler(player.EVENT.ON_AD_STARTED, adStartHandler);
        player.addEventHandler(player.EVENT.ON_AD_SKIPPED, adEndHandler);
        player.addEventHandler(player.EVENT.ON_AD_ERROR, adEndHandler);
        player.addEventHandler(player.EVENT.ON_AD_FINISHED, adEndHandler);
    };
    return AdMessageLabel;
}(label_1.Label));
exports.AdMessageLabel = AdMessageLabel;


/***/ }),
/* 82 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var clickoverlay_1 = __webpack_require__(28);
/**
 * A simple click capture overlay for clickThroughUrls of ads.
 */
var AdClickOverlay = (function (_super) {
    __extends(AdClickOverlay, _super);
    function AdClickOverlay() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    AdClickOverlay.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        var clickThroughUrl = null;
        var clickThroughEnabled = !player.getConfig().advertising
            || !player.getConfig().advertising.hasOwnProperty('clickThroughEnabled')
            || player.getConfig().advertising.clickThroughEnabled;
        player.addEventHandler(player.EVENT.ON_AD_STARTED, function (event) {
            clickThroughUrl = event.clickThroughUrl;
            if (clickThroughEnabled) {
                _this.setUrl(clickThroughUrl);
            }
            else {
                // If click-through is disabled, we set the url to null to avoid it open
                _this.setUrl(null);
            }
        });
        // Clear click-through URL when ad has finished
        var adFinishedHandler = function () {
            _this.setUrl(null);
        };
        player.addEventHandler(player.EVENT.ON_AD_FINISHED, adFinishedHandler);
        player.addEventHandler(player.EVENT.ON_AD_SKIPPED, adFinishedHandler);
        player.addEventHandler(player.EVENT.ON_AD_ERROR, adFinishedHandler);
        this.onClick.subscribe(function () {
            // Pause the ad when overlay is clicked
            player.pause('ui-content-click');
            // Notify the player of the clicked ad
            player.fireEvent(player.EVENT.ON_AD_CLICKED, {
                clickThroughUrl: clickThroughUrl,
            });
        });
    };
    return AdClickOverlay;
}(clickoverlay_1.ClickOverlay));
exports.AdClickOverlay = AdClickOverlay;


/***/ }),
/* 83 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var uicontainer_1 = __webpack_require__(14);
var timeout_1 = __webpack_require__(9);
/**
 * The base container for Cast receivers that contains all of the UI and takes care that the UI is shown on
 * certain playback events.
 */
var CastUIContainer = (function (_super) {
    __extends(CastUIContainer, _super);
    function CastUIContainer(config) {
        return _super.call(this, config) || this;
    }
    CastUIContainer.prototype.configure = function (player, uimanager) {
        var _this = this;
        _super.prototype.configure.call(this, player, uimanager);
        var config = this.getConfig();
        /*
         * Show UI on Cast devices at certain playback events
         *
         * Since a Cast receiver does not have a direct HCI, we show the UI on certain playback events to give the user
         * a chance to see on the screen what's going on, e.g. on play/pause or a seek the UI is shown and the user can
         * see the current time and position on the seek bar.
         * The UI is shown permanently while playback is paused, otherwise hides automatically after the configured
         * hide delay time.
         */
        var isUiShown = false;
        var hideUi = function () {
            uimanager.onControlsHide.dispatch(_this);
            isUiShown = false;
        };
        this.castUiHideTimeout = new timeout_1.Timeout(config.hideDelay, hideUi);
        var showUi = function () {
            if (!isUiShown) {
                uimanager.onControlsShow.dispatch(_this);
                isUiShown = true;
            }
        };
        var showUiPermanently = function () {
            showUi();
            _this.castUiHideTimeout.clear();
        };
        var showUiWithTimeout = function () {
            showUi();
            _this.castUiHideTimeout.start();
        };
        var showUiAfterSeek = function () {
            if (player.isPlaying()) {
                showUiWithTimeout();
            }
            else {
                showUiPermanently();
            }
        };
        player.addEventHandler(player.EVENT.ON_READY, showUiWithTimeout);
        player.addEventHandler(player.EVENT.ON_SOURCE_LOADED, showUiWithTimeout);
        player.addEventHandler(player.EVENT.ON_PLAY, showUiWithTimeout);
        player.addEventHandler(player.EVENT.ON_PAUSED, showUiPermanently);
        player.addEventHandler(player.EVENT.ON_SEEK, showUiPermanently);
        player.addEventHandler(player.EVENT.ON_SEEKED, showUiAfterSeek);
    };
    CastUIContainer.prototype.release = function () {
        _super.prototype.release.call(this);
        this.castUiHideTimeout.clear();
    };
    return CastUIContainer;
}(uicontainer_1.UIContainer));
exports.CastUIContainer = CastUIContainer;


/***/ }),
/* 84 */
/***/ (function(module, exports) {

/*! Hive Stats Pack build 3.5.1 Copyright(c) 2015 HiveStreaming AB, All rights reserved.
 * Authors: mikael.hogqvist@hivestreaming.com - riccardo.reale@hivestreaming.com - roberto.roverso@hivestreaming.com */
/*! AtatusJs - v2.3.12 - 2016-07-03
 * Copyright (c) 2016 Atatus */
!function(a){function b(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function c(a){return"undefined"==typeof a}if(a){var d={},e=a.TraceKit,f=[].slice,g="?";d.noConflict=function(){return a.TraceKit=e,d},d.wrap=function(a){function b(){try{return a.apply(this,arguments)}catch(b){throw d.report(b),b}}return b},d.report=function(){function c(a){i(),m.push(a)}function e(a){for(var b=m.length-1;b>=0;--b)m[b]===a&&m.splice(b,1)}function g(a,c){var e=null;if(!c||d.collectWindowErrors){for(var g in m)if(b(m,g))try{m[g].apply(null,[a].concat(f.call(arguments,2)))}catch(h){e=h}if(e)throw e}}function h(a,b,c,e,f){var h=null;if(f)h=d.computeStackTrace(f);else if(o)d.computeStackTrace.augmentStackTraceWithInitialElement(o,b,c,a),h=o,o=null,n=null;else{var i={url:b,line:c,column:e};i.func=d.computeStackTrace.guessFunctionName(i.url,i.line),i.context=d.computeStackTrace.gatherContext(i.url,i.line),h={mode:"onerror",message:a,url:document.location.href,stack:[i],useragent:navigator.userAgent}}return g(h,"from window.onerror"),k?k.apply(this,arguments):!1}function i(){l!==!0&&(k=a.onerror,a.onerror=h,l=!0)}function j(b){var c=f.call(arguments,1);if(o){if(n===b)return;var e=o;o=null,n=null,g.apply(null,[e,null].concat(c))}var h=d.computeStackTrace(b);throw o=h,n=b,a.setTimeout(function(){n===b&&(o=null,n=null,g.apply(null,[h,null].concat(c)))},h.incomplete?2e3:0),b}var k,l,m=[],n=null,o=null;return j.subscribe=c,j.unsubscribe=e,j}(),d.computeStackTrace=function(){function e(b){if(!d.remoteFetching)return"";try{var c=function(){try{return new a.XMLHttpRequest}catch(b){return new a.ActiveXObject("Microsoft.XMLHTTP")}},e=c();return e.open("GET",b,!1),e.send(""),e.responseText}catch(f){return""}}function f(a){if("string"!=typeof a)return[];if(!b(w,a)){var c="",d="";try{d=document.domain}catch(f){}-1!==a.indexOf(d)&&(c=e(a)),w[a]=c?c.split("\n"):[]}return w[a]}function h(a,b){var d,e=/function ([^(]*)\(([^)]*)\)/,h=/['"]?([0-9A-Za-z$_]+)['"]?\s*[:=]\s*(function|eval|new Function)/,i="",j=10,k=f(a);if(!k.length)return g;for(var l=0;j>l;++l)if(i=k[b-l]+i,!c(i)){if(d=h.exec(i))return d[1];if(d=e.exec(i))return d[1]}return g}function i(a,b){var e=f(a);if(!e.length)return null;var g=[],h=Math.floor(d.linesOfContext/2),i=h+d.linesOfContext%2,j=Math.max(0,b-h-1),k=Math.min(e.length,b+i-1);b-=1;for(var l=j;k>l;++l)c(e[l])||g.push(e[l]);return g.length>0?g:null}function j(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#]/g,"\\$&")}function k(a){return j(a).replace("<","(?:<|&lt;)").replace(">","(?:>|&gt;)").replace("&","(?:&|&amp;)").replace('"','(?:"|&quot;)').replace(/\s+/g,"\\s+")}function l(a,b){for(var c,d,e=0,g=b.length;g>e;++e)if((c=f(b[e])).length&&(c=c.join("\n"),d=a.exec(c)))return{url:b[e],line:c.substring(0,d.index).split("\n").length,column:d.index-c.lastIndexOf("\n",d.index)-1};return null}function m(a,b,c){var d,e=f(b),g=new RegExp("\\b"+j(a)+"\\b");return c-=1,e&&e.length>c&&(d=g.exec(e[c]))?d.index:null}function n(b){for(var c,d,e,f,g=[a.location.href],h=document.getElementsByTagName("script"),i=""+b,m=/^function(?:\s+([\w$]+))?\s*\(([\w\s,]*)\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/,n=/^function on([\w$]+)\s*\(event\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/,o=0;o<h.length;++o){var p=h[o];p.src&&g.push(p.src)}if(e=m.exec(i)){var q=e[1]?"\\s+"+e[1]:"",r=e[2].split(",").join("\\s*,\\s*");c=j(e[3]).replace(/;$/,";?"),d=new RegExp("function"+q+"\\s*\\(\\s*"+r+"\\s*\\)\\s*{\\s*"+c+"\\s*}")}else d=new RegExp(j(i).replace(/\s+/g,"\\s+"));if(f=l(d,g))return f;if(e=n.exec(i)){var s=e[1];if(c=k(e[2]),d=new RegExp("on"+s+"=[\\'\"]\\s*"+c+"\\s*[\\'\"]","i"),f=l(d,g[0]))return f;if(d=new RegExp(c),f=l(d,g))return f}return null}function o(a){if(!a.stack)return null;for(var b,d,e=/^\s*at (.*?) ?\(?((?:file|https?|chrome-extension):.*?):(\d+)(?::(\d+))?\)?\s*$/i,f=/^\s*(.*?)(?:\((.*?)\))?@?((?:file|https?|chrome):.*?):(\d+)(?::(\d+))?\s*$/i,j=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:ms-appx|http|https):.*?):(\d+)(?::(\d+))?\)?\s*$/i,k=a.stack.split("\n"),l=[],n=/^(.*) is undefined$/.exec(a.message),o=0,p=k.length;p>o;++o){if(b=f.exec(k[o]))d={url:b[3],func:b[1]||g,args:b[2]?b[2].split(","):"",line:+b[4],column:b[5]?+b[5]:null};else if(b=e.exec(k[o]))d={url:b[2],func:b[1]||g,line:+b[3],column:b[4]?+b[4]:null};else{if(!(b=j.exec(k[o])))continue;d={url:b[2],func:b[1]||g,line:+b[3],column:b[4]?+b[4]:null}}!d.func&&d.line&&(d.func=h(d.url,d.line)),d.line&&(d.context=i(d.url,d.line)),l.push(d)}return l.length?(l[0]&&l[0].line&&!l[0].column&&n?l[0].column=m(n[1],l[0].url,l[0].line):l[0].column||c(a.columnNumber)||(l[0].column=a.columnNumber+1),{mode:"stack",name:a.name,message:a.message,url:document.location.href,stack:l,useragent:navigator.userAgent}):null}function p(a){for(var b,c=a.stacktrace,d=/ line (\d+), column (\d+) in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\) in (.*):\s*$/i,e=c.split("\n"),f=[],g=0,j=e.length;j>g;g+=2)if(b=d.exec(e[g])){var k={line:+b[1],column:+b[2],func:b[3]||b[4],args:b[5]?b[5].split(","):[],url:b[6]};if(!k.func&&k.line&&(k.func=h(k.url,k.line)),k.line)try{k.context=i(k.url,k.line)}catch(l){}k.context||(k.context=[e[g+1]]),f.push(k)}return f.length?{mode:"stacktrace",name:a.name,message:a.message,url:document.location.href,stack:f,useragent:navigator.userAgent}:null}function q(c){var d=c.message.split("\n");if(d.length<4)return null;var e,g,j,m,n=/^\s*Line (\d+) of linked script ((?:file|https?)\S+)(?:: in function (\S+))?\s*$/i,o=/^\s*Line (\d+) of inline#(\d+) script in ((?:file|https?)\S+)(?:: in function (\S+))?\s*$/i,p=/^\s*Line (\d+) of function script\s*$/i,q=[],r=document.getElementsByTagName("script"),s=[];for(g in r)b(r,g)&&!r[g].src&&s.push(r[g]);for(g=2,j=d.length;j>g;g+=2){var t=null;if(e=n.exec(d[g]))t={url:e[2],func:e[3],line:+e[1]};else if(e=o.exec(d[g])){t={url:e[3],func:e[4]};var u=+e[1],v=s[e[2]-1];if(v&&(m=f(t.url))){m=m.join("\n");var w=m.indexOf(v.innerText);w>=0&&(t.line=u+m.substring(0,w).split("\n").length)}}else if(e=p.exec(d[g])){var x=a.location.href.replace(/#.*$/,""),y=e[1],z=new RegExp(k(d[g+1]));m=l(z,[x]),t={url:x,line:m?m.line:y,func:""}}if(t){t.func||(t.func=h(t.url,t.line));var A=i(t.url,t.line),B=A?A[Math.floor(A.length/2)]:null;t.context=A&&B.replace(/^\s*/,"")===d[g+1].replace(/^\s*/,"")?A:[d[g+1]],q.push(t)}}return q.length?{mode:"multiline",name:c.name,message:d[0],url:document.location.href,stack:q,useragent:navigator.userAgent}:null}function r(a,b,c,d){var e={url:b,line:c};if(e.url&&e.line){a.incomplete=!1,e.func||(e.func=h(e.url,e.line)),e.context||(e.context=i(e.url,e.line));var f=/ '([^']+)' /.exec(d);if(f&&(e.column=m(f[1],e.url,e.line)),a.stack.length>0&&a.stack[0].url===e.url){if(a.stack[0].line===e.line)return!1;if(!a.stack[0].line&&a.stack[0].func===e.func)return a.stack[0].line=e.line,a.stack[0].context=e.context,!1}return a.stack.unshift(e),a.partial=!0,!0}return a.incomplete=!0,!1}function s(a,b){for(var c,e,f,i=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,j=[],k={},l=!1,o=s.caller;o&&!l;o=o.caller)if(o!==t&&o!==d.report){if(e={url:null,func:g,line:null,column:null},o.name?e.func=o.name:(c=i.exec(o.toString()))&&(e.func=c[1]),"undefined"==typeof e.func)try{e.func=c.input.substring(0,c.input.indexOf("{"))}catch(p){}if(f=n(o)){e.url=f.url,e.line=f.line,e.func===g&&(e.func=h(e.url,e.line));var q=/ '([^']+)' /.exec(a.message||a.description);q&&(e.column=m(q[1],f.url,f.line))}k[""+o]?l=!0:k[""+o]=!0,j.push(e)}b&&j.splice(0,b);var u={mode:"callers",name:a.name,message:a.message,url:document.location.href,stack:j,useragent:navigator.userAgent};return r(u,a.sourceURL||a.fileName,a.line||a.lineNumber,a.message||a.description),u}function t(a,b){var c=null;b=null==b?0:+b;try{if(c=p(a))return c}catch(d){if(v)throw d}try{if(c=o(a))return c}catch(d){if(v)throw d}try{if(c=q(a))return c}catch(d){if(v)throw d}try{if(c=s(a,b+1))return c}catch(d){if(v)throw d}return{mode:"failed"}}function u(a){a=(null==a?0:+a)+1;try{throw new Error}catch(b){return t(b,a+1)}}var v=!1,w={};return t.augmentStackTraceWithInitialElement=r,t.guessFunctionName=h,t.gatherContext=i,t.ofCaller=u,t.getSource=f,t}(),d.extendToAsynchronousCallbacks=function(){var b=function(b){var c=a[b];a[b]=function(){var a=f.call(arguments),b=a[0];return"function"==typeof b&&(a[0]=d.wrap(b)),c.apply?c.apply(this,a):c(a[0],a[1])}};b("setTimeout"),b("setInterval")},d.remoteFetching||(d.remoteFetching=!0),d.collectWindowErrors||(d.collectWindowErrors=!0),(!d.linesOfContext||d.linesOfContext<1)&&(d.linesOfContext=11),a.TraceKit=d}}("undefined"!=typeof window?window:global),function(a,b){"use strict";if(a){var c=a.event.add;a.event.add=function(d,e,f,g,h){if("function"!=typeof f&&"function"!=typeof f.handler)return c.call(this,d,e,f,g,h);var i;return f.handler?(i=f.handler,f.handler=b.wrap(f.handler)):(i=f,f=b.wrap(f)),f.guid=i.guid?i.guid:i.guid=a.guid++,c.call(this,d,e,f,g,h)};var d=a.fn.ready;a.fn.ready=function(a){return d.call(this,b.wrap(a))};var e=a.ajax;a.ajax=function(c,d){"object"==typeof c&&(d=c,c=void 0),d=d||{};for(var f,g=["complete","error","success"];f=g.pop();)a.isFunction(d[f])&&(d[f]=b.wrap(d[f]));try{return c?e.call(this,c,d):e.call(this,d)}catch(h){throw b.report(h),h}}}}(window.jQuery,window.TraceKit),function(a,b,c,d){function e(a){var b=a,c=a.split("//")[1];if(c){var d=c.indexOf("?"),e=c.toString().substring(0,d),f=e.split("/").slice(0,4).join("/"),g=e.substring(0,48);b=f.length<g.length?f:g,b!==e&&(b+="..")}return b}function f(a,b,c,f){if(K&&(L||b.getAllResponseHeaders())){var g="AJAX Error: "+(b.statusText||"unknown")+" "+(c.type||"unknown")+" "+(e(c.url)||"unknown");V.send(f||a.type,{status:b.status,statusText:b.statusText,type:c.type,url:c.url,ajaxErrorMessage:g,contentType:c.contentType,requestData:c.data&&c.data.slice?c.data.slice(0,10240):d,responseData:b.responseText&&b.responseText.slice?b.responseText.slice(0,10240):d,activeTarget:a.target&&a.target.activeElement?a.target.activeElement.outerHTML:d})}}function g(){return o&&""!==o?!0:(R.log("Atatus API key has not been configured, make sure you call atatus.config(yourApiKey)"),!1)}function h(){var c=b.documentElement,d=b.getElementsByTagName("body")[0],e=a.innerWidth||c.clientWidth||d.clientWidth,f=a.innerHeight||c.clientHeight||d.clientHeight;return{width:e,height:f}}function i(a){var b=(new Date).toJSON();try{var c="atatusjs="+b+"="+R.getRandomInt();"undefined"==typeof localStorage[c]&&(localStorage[c]=a)}catch(d){R.log("Atatus: LocalStorage full, cannot save exception")}}function j(){try{return"localStorage"in a&&null!==a.localStorage}catch(b){return!1}}function k(){if(j()&&localStorage.length>0)for(var a in localStorage)if("atatusjs="===a.substring(0,9)){try{var b=JSON.parse(localStorage[a]);"apikey"in b&&m(N,b)}catch(c){R.log("Atatus: Invalid JSON object in LocalStorage")}localStorage.removeItem(a)}}function l(a,c){if(c=c||{},!a.stack||!a.stack.length)return void R.log("Atatus: Canceling send due to no stacktrace.");R.isEmpty(c.customData)&&(c.customData="function"==typeof p?p():p),R.isEmpty(c.tags)&&(c.tags=E);var d=c.customData&&c.customData.ajaxErrorMessage||a.message;if(d&&0===d.indexOf("Uncaught ")&&(d=a.message.substring(9)),d=d||c.status||"Script error.",w&&w.test(d))return void R.log("Atatus: canceling send due to ignore errors");var e=[];a.stack&&a.stack.length&&R.forEach(a.stack,function(a,b){R.endsWith(b.url,"/atatus.js")||e.push({ln:b.line||0,cn:b.column||0,f:b.url||"anonymous",m:b.func||"[anonymous]"})});var f=[a.name,d,JSON.stringify(e)].join("|");if(f===x)return void R.log("Atatus: canceling send due to duplicate errors");x=f;var g=c.customData;try{JSON.stringify(g)}catch(h){var i="Cannot add custom data; may contain circular reference";g={error:i},R.log("Atatus: "+i)}var j=U.getAllEvents();S.clear();var k={"class":a.name,name:d,backTraces:e,userActions:j,net:null,customData:g||null,tags:c.tags,sourcemap:J,request:{url:b.location.href,ua:navigator.userAgent}};if("function"==typeof y&&(k.groupingKey=y(k)),"function"==typeof z){var l=z(k);l&&m(N,k)}else m(N,k)}function m(c,d){if(G&&G.length&&-1===G.indexOf(location.host))return void R.log("Atatus: canceling send due to not a allowed domain");if(g()){if(!d.ts){var e=a.screen||h();d.ts=(new Date).getTime(),d.apikey=o,d.request=d.request||{},d.request.url=d.request.url||b.location.href,d.request.ua=d.request.ua||navigator.userAgent,d.request.w=e.width,d.request.h=e.height,d.v=r||"",d._v=B||""}q&&(d.cid=q.userId||null),R.log("Sending data to Atatus Receiver:",d),n(c,JSON.stringify(d))}}function n(a,b){var c=new Image,d=M+a+"?data="+encodeURIComponent(b);c.crossOrigin="anonymous",c.onload=function(){k()},c.onerror=c.onabort=function(){I&&a===N&&i(b)},c.src=d}var o,p,q,r,s,t,u,v,w,x,y,z,A,B="2.3.12",C=TraceKit.noConflict(),D=a.atatus,E=[],F=!1,G=[],H=!1,I=!1,J=!1,K=!1,L=!1,M="https://br-rx.atatus.com",N="/track/browser/errors",O="/track/browser/perf",P="/track/browser/perf/ajax",Q="/track/browser/perf/txn";c&&(A=c(b));var R={isBoolean:function(a){return"undefined"!=typeof a&&"boolean"==typeof a},isString:function(a){return"string"==typeof a},isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)},endsWith:function(a,b){return a&&b?-1!==a.indexOf(b,a.length-b.length):!1},joinRegExp:function(a){for(var b,c=[],d=0,e=a.length;e>d;d++)b=a[d],R.isString(b)?c.push(b.replace(/([.*+?\^=!:${}()|\[\]\/\\])/g,"\\$1")):b&&b.source&&c.push(b.source);return new RegExp(c.join("|"),"i")},getTargetUrl:function(b){return a.XDomainRequest&&H&&(b=b.slice(6)),b},now:function(){return(new Date).getTime()},pad:function(a){return a=String(a),1===a.length&&(a="0"+a),a},merge:function(a,b){var c,d={};for(c in a)d[c]=a[c];for(c in b)d[c]=b[c];return d},mergeArray:function(a,b){return null!=b?a.concat(b):a},forEach:function(a,b){for(var c=0;c<a.length;c++)b.call(null,c,a[c])},isEmpty:function(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0},getRandomInt:function(){return Math.floor(9007199254740992*Math.random())},log:function(b,c){F&&a.console&&a.console.log&&(a.console.log(b),c&&a.console.log(c))},bind:function(a,b){return function(){return a.apply(b,Array.prototype.slice.call(arguments))}},canAllowInsecureSubmissions:function(){var b=a.navigator.userAgent,c=b.match(/Trident\/([\d.]+)/),d=c&&"7.0"===c[1]?11:(b=b.match(/MSIE ([\d.]+)/))?parseInt(b[1],10):!1;return d&&9>=d},uuid4:function(){return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0,c="x"===a?b:3&b|8;return c.toString(16)})},addEventListener:function(b,c,d){return"undefined"!=typeof a.attachEvent?a.attachEvent("on"+b,c):a.addEventListener?a.addEventListener(b,c,d):void 0},arrayFromObject:function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(a[c]);return b}},S={eventObject:{},all:function(a){for(var b=this.getEventObject(a),c=[],d=0;d<b.length;d++)c.push(b[d].value);return c},clear:function(){for(var a in this.eventObject)this.eventObject.hasOwnProperty(a)&&(this.eventObject[a].length=0)},add:function(a,b){var c=this.getEventObject(a),d=R.uuid4();return c.push({key:d,value:b}),this.truncateEventObject(a,10),d},get:function(a,b){for(var c=this.getEventObject(a),d=0;d<c.length;d++)if(c[d].key===b)return c[d].value;return!1},getEventObject:function(a){return this.eventObject[a]||(this.eventObject[a]=[]),this.eventObject[a]},truncateEventObject:function(a,b){var c=this.getEventObject(a);c.length>b&&(this.eventObject[a]=c.slice(c.length-b))}},T={attach:function(b,c,d,e,f){b=b||a.console||{};for(var g=f||["log","debug","info","warn","error"],h=g.pop(),i=function(a,b,d){c&&S.add("user",{ts:R.now(),c:"console",l:a,m:b}),"error"===a&&e&&V.notify(new Error(b),d)};h;)this.wrapConsoleMethod(b,h,d,i),h=g.pop()},wrapConsoleMethod:function(a,b,c,d){var e=a[b],f=a;b in a&&(a[b]=function(){var a=[].slice.call(arguments),g=""+a.join(" "),h={level:b,logger:"console"};d&&d(b,g,h),e&&c&&Function.prototype.apply.call(e,f,a)})}},U={attach:function(){var a=R.bind(this.onDocumentClicked,this),c=R.bind(this.onInputChanged,this);b.addEventListener?(b.addEventListener("click",a,!0),b.addEventListener("blur",c,!0)):b.attachEvent&&(b.attachEvent("onclick",a),b.attachEvent("onfocusout",c))},writeUserEvent:function(a,b,c,d){"password"===this.getElementType(a)&&(c=void 0),S.add("user",{ts:R.now(),a:b,e:this.getOuterHTML(a),v:this.getValueKind(c,d)})},onDocumentClicked:function(a){var b=this.getElementFromEvent(a);b&&b.tagName&&(this.isTarget(b,"a")||this.isTarget(b,"button")||this.isTarget(b,"input",["button","submit"])?this.writeUserEvent(b,"click"):this.isTarget(b,"input",["checkbox","radio"])&&this.writeUserEvent(b,"check",b.value,b.checked))},onInputChanged:function(a){var b=this.getElementFromEvent(a);b&&b.tagName&&(this.isTarget(b,"textarea")?this.writeUserEvent(b,"input",b.value):this.isTarget(b,"select")&&b.options&&b.options.length?this.onSelectInputChanged(b):this.isTarget(b,"input")&&!this.isTarget(b,"input",["button","submit","hidden","checkbox","radio"])&&this.writeUserEvent(b,"input",b.value))},onSelectInputChanged:function(a){if(a.multiple){for(var b=0;b<a.options.length;b++)if(a.options[b].selected){this.writeUserEvent(a,"select",a.options[b].value);break}}else 0<=a.selectedIndex&&a.options[a.selectedIndex]&&this.writeUserEvent(a,"select",a.options[a.selectedIndex].value)},getElementFromEvent:function(a){return a.target||b.elementFromPoint(a.clientX,a.clientY)},isTarget:function(a,b,c){if(a.tagName.toLowerCase()!==b.toLowerCase())return!1;if(!c)return!0;for(var d=this.getElementType(a),e=0;e<c.length;e++)if(c[e]===d)return!0;return!1},getElementType:function(a){return(a.getAttribute("type")||"").toLowerCase()},getOuterHTML:function(a){for(var b="<"+a.tagName.toLowerCase(),c=a.attributes,d=0,e=c.length;e>d;d++){var f=c[d].name;"value"!==f.toLowerCase()&&(b+=" "+f+'="'+c[d].value+'"')}return b+=" >"},getValueKind:function(a,b){return null==a?null:{length:a.length,checked:b,pattern:this.matchInputPattern(a)}},matchInputPattern:function(a){return""===a?"empty":/^[a-z0-9!#$%&'*+=?\^_`{|}~\-]+(?:\.[a-z0-9!#$%&'*+=?\^_`{|}~\-]+)*@(?:[a-z0-9](?:[a-z0-9\-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9\-]*[a-z0-9])?$/.test(a)?"email":/^(0?[1-9]|[12][0-9]|3[01])[\/\-](0?[1-9]|1[012])[\/\-]\d{4}$/.test(a)||/^(\d{4}[\/\-](0?[1-9]|1[012])[\/\-]0?[1-9]|[12][0-9]|3[01])$/.test(a)?"date":/^(?:(?:\+?1\s*(?:[.\-]\s*)?)?(?:\(\s*([2-9]1[02-9]|[2-9][02-8]1|[2-9][02-8][02-9])\s*\)|([2-9]1[02-9]|[2-9][02-8]1|[2-9][02-8][02-9]))\s*(?:[.\-]\s*)?)?([2-9]1[02-9]|[2-9][02-9]1|[2-9][02-9]{2})\s*(?:[.\-]\s*)?([0-9]{4})(?:\s*(?:#|x\.?|ext\.?|extension)\s*(\d+))?$/.test(a)?"phone":/^\s*$/.test(a)?"whitespace":/^\d*$/.test(a)?"numeric":"character"},getAllEvents:function(){return S.all("user")}},V={noConflict:function(){return a.atatus=D,V},isConfigured:function(){return!!o},config:function(b,c){return c=c||{},o=b,C.remoteFetching=!1,w=[],c&&(p=c.customData,E=c.tags||[],J=!(!c.enableSourcemap&&!c.sourcemap),s=!!c.disableUserActions,t=!!c.disableAjaxMonitoring,u=!!c.disableRUM,F=!!c.debugMode,c.ignoreErrors&&R.isArray(c.ignoreErrors)&&(w=c.ignoreErrors),V.setAllowedDomains(c.allowedDomains),V.setVersion(c.version),V.enableOffline(c.enableOffline||c.offline),V.onBeforeErrorSend(c.beforeErrorSend),V.setGroupingKeyCallback(c.groupingKeyCallback)),H=R.canAllowInsecureSubmissions(),w.push(/^Script error\.?$/),w.push(/^Javascript error: Script error\.? on line 0$/),w=R.joinRegExp(w),k(),v={enabled:!0,timeline:!0,display:!0,error:!0,levels:null},R.isBoolean(c.console)&&(v.enabled=c.console),R.isBoolean(c.consoleTimeline)&&(v.timeline=c.consoleTimeline),R.isBoolean(c.consoleDisplay)&&(v.display=c.consoleDisplay),R.isBoolean(c.consoleErrorNotify)&&(v.error=c.consoleErrorNotify),R.isArray(c.consoleTimelineLevels)&&(v.levels=c.consoleTimelineLevels),v.enabled&&"console"in a&&a.console.log&&T.attach(a.console,v.timeline,v.display,v.error,v.levels),s||U.attach(),t||u||V.__attachAjaxHooks(),V},install:function(){return g()?(C.report.subscribe(l),C.extendToAsynchronousCallbacks(),A&&K&&A.ajaxError(f),V):void 0},uninstall:function(){return o=null,C.report.unsubscribe(l),A&&K&&A.unbind("ajaxError",f),V},setCustomData:function(a){return p=a,V},setTags:function(a){return E=a,V},setAllowedDomains:function(a){return a&&R.isArray(a)&&(G=a),V},getAllowedDomains:function(){return G},setUser:function(a,b,c,d){return q={},a&&(q.userId=""+a),b&&(q.email=""+b),c&&(q.firstName=""+c),d&&(q.lastName=""+d),V},setVersion:function(a){return a&&(r=""+a),V},enableOffline:function(a){return R.isBoolean(a)&&(I=a),V},onBeforeErrorSend:function(a){return"function"==typeof a&&(z=a),V},setGroupingKeyCallback:function(a){return"function"==typeof a&&(y=a),V},setAPIEndpoint:function(a){return M=a,V},init:function(a,b,c){return c&&(b=b||{},b.customData=c),V.config(a,b)},withCustomData:function(a){return V.setCustomData(a)},withTags:function(a){return V.setTags(a)},attach:function(){return V.install()},detach:function(){return V.uninstall()},notify:function(a,b,c){return V.send(a,b,c)},sendPerf:function(a){return u?void R.log("RUM is disabled. Please enable it in the config options."):m(O,a)},sendAjaxPerf:function(a){return u?void R.log("RUM is disabled. Please enable it in the config options."):m(P,a)},sendTxnPerf:function(a){return m(Q,a)},send:function(a,b,c){try{l(C.computeStackTrace(a),{customData:R.merge(p,b),tags:R.mergeArray(E,c)})}catch(d){if(a!==d)throw d}return V},_helper:R};a.atatus=V}(window,document,window.jQuery),function(a,b,c){function d(a){a.pl<=0||atatus.sendPerf(a)}function e(){var b=a.performance||a.mozPerformance||a.msPerformance||a.webkitPerformance,c=b.timing,e=b.navigation;if(0===c.loadEventEnd)return!1;clearInterval(i),i=null;var f=c.navigationStart;0>=f&&(f=c.fetchStart);var g={};for(var h in j)g[j[h]]=-1,h in c&&(c[h]<=0||(g[j[h]]=c[h]-f));var k={nty:e.type,rc:e.redirectCount,nt:g.rps-g.ns,dp:g.dce-g.rps,pr:g.le-g.dce,fe:g.le-g.rps,pl:g.le-g.ns};d(k)}function f(){if(!h||!h.bDone)return!1;clearInterval(i),i=!1;var a=h.getMeasures();if(null!=a&&null!=a.backend&&null!=a.frontend&&null!=a["page load time"]&&null!=a["total load time"]){var b=a.backend,c=a.backend+a.frontend,e={nty:0,rc:0,nt:b,dp:c-b,pr:a["total load time"]-c,fe:a["total load time"]-b,pl:a["total load time"]};d(e)}}var g=(new Date).getTime(),h=h||{};h.q=h.q||[],h.version="0.3",h.targetOrigin=b.location.protocol+"//"+b.location.hostname,h.bPostMessage=!1,h.beaconUrl=h.beaconUrl||"/images/beacon.gif",h.autorun=!1,h.init=function(){if(h.bDone=!1,h.bUnloaded=!1,h.marks={},h.measures={},h.starts={},h.findStartTime(),h.addEventListener("beforeunload",h.beforeUnload,!1),h.addEventListener("pagehide",h.beforeUnload,!1),h.addEventListener("unload",h.beforeUnload,!1),h.processQ(),"complete"===b.readyState){var c=a.performance||a.mozPerformance||a.msPerformance||a.webkitPerformance;c&&"undefined"!=typeof c.timing&&"undefined"!=typeof c.timing.loadEventEnd&&(h.mark("firstbyte",c.timing.responseStart),h.mark("onload",c.timing.loadEventEnd)),h.done()}else h.addEventListener("load",h.onload,!1)},h.processQ=function(){for(var a=h.q.length,b=0;a>b;b++){var c=h.q[b],d=c[0];"mark"===d?h.mark(c[1],c[2]):"measure"===d?h.measure(c[1],c[2],c[3]):"done"===d&&h.done(c[1])}},h.mark=function(b,c){return h.dprint("RUM_EPISODES.mark: "+b+", "+c),b?(h.marks[b]=parseInt(c||(new Date).getTime()),h.bPostMessage&&a.postMessage("RUM_EPISODES:mark:"+b+":"+c,h.targetOrigin),void("firstbyte"===b?h.measure("backend","starttime","firstbyte"):"onload"===b?(h.measure("frontend","firstbyte","onload"),h.measure("page load time","starttime","onload")):"done"===b&&h.measure("total load time","starttime","done"))):void h.dprint("Error: markName is undefined in RUM_EPISODES.mark.")},h.measure=function(b,c,d){if(h.dprint("RUM_EPISODES.measure: "+b+", "+c+", "+d),!b)return void h.dprint("Error: episodeName is undefined in RUM_EPISODES.measure.");var e;if("undefined"==typeof c)e="number"==typeof h.marks[b]?h.marks[b]:(new Date).getTime();else if("number"==typeof h.marks[c])e=h.marks[c];else{if("number"!=typeof c)return void h.dprint("Error: unexpected startNameOrTime in RUM_EPISODES.measure: "+c);e=c}var f;if("undefined"==typeof d)f=(new Date).getTime();else if("number"==typeof h.marks[d])f=h.marks[d];else{if("number"!=typeof d)return void h.dprint("Error: unexpected endNameOrTime in RUM_EPISODES.measure: "+d);f=d}h.starts[b]=parseInt(e),h.measures[b]=parseInt(f-e),h.bPostMessage&&a.postMessage("RUM_EPISODES:measure:"+b+":"+e+":"+f,h.targetOrigin)},h.done=function(b){h.bDone=!0,h.mark("done"),h.bPostMessage&&a.postMessage("RUM_EPISODES:done",h.targetOrigin),"function"==typeof b&&b()},h.getMarks=function(){return h.marks},h.getMeasures=function(){return h.measures},h.getStarts=function(){return h.starts},h.findStartTime=function(){var a=h.findStartWebTiming()||h.findStartCookie();a&&h.mark("starttime",a)},h.findStartWebTiming=function(){var b,c=a.performance||a.mozPerformance||a.msPerformance||a.webkitPerformance;return c&&"undefined"!=typeof c.timing&&"undefined"!=typeof c.timing.navigationStart&&(b=c.timing.navigationStart,h.dprint("RUM_EPISODES.findStartWebTiming: startTime = "+b)),b},h.findStartCookie=function(){for(var d=b.cookie.split(" "),e=0;e<d.length;e++)if(0===d[e].indexOf("RUM_EPISODES=")){for(var f,g,i=d[e].substring("RUM_EPISODES=".length).split("&"),j=0;j<i.length;j++)if(0===i[j].indexOf("s="))f=i[j].substring(2);else if(0===i[j].indexOf("r=")){var k=i[j].substring(2);k=k.replace(/;$/,""),g=a.escape(b.referrer)===k}if(g&&f)return h.dprint("RUM_EPISODES.findStartCookie: startTime = "+f),f}return c},h.beforeUnload=function(){h.bUnloaded||(b.cookie="RUM_EPISODES=s="+Number(new Date)+"&r="+a.escape(b.location)+"; path=/",h.bUnloaded=!0)},h.onload=function(){h.mark("onload"),h.done()},h.addEventListener=function(b,c,d){return"undefined"!=typeof a.attachEvent?a.attachEvent("on"+b,c):a.addEventListener?a.addEventListener(b,c,d):void 0},h.dprint=function(){},h.init();var i=null,j={navigationStart:"ns",redirectStart:"rds",redirectEnd:"rde",unloadEventStart:"us",unloadEventEnd:"ue",fetchStart:"fs",domainLookupStart:"dls",domainLookupEnd:"dle",connectStart:"cs",secureConnectionStart:"scs",connectEnd:"ce",handshakeStart:"hs",requestStart:"rqs",responseStart:"rps",responseEnd:"rpe",domLoading:"dl",domInteractive:"di",domContentLoadedEventStart:"dcs",domContentLoadedEventEnd:"dce",domComplete:"dc",loadEventStart:"ls",loadEventEnd:"le"},k=a.performance||a.mozPerformance||a.msPerformance||a.webkitPerformance;k&&"undefined"!=typeof k.timing&&"undefined"!=typeof k.navigation?i=setInterval(e,100):(h.mark("firstbyte",g),i=setInterval(f,100))}(window,document),atatus.__attachAjaxHooks=function(){!function(a,b){var c=atatus._helper,d={queue:[],batchSize:25,processing:!1,bUnloaded:!1,push:function(a){"string"==typeof a.url&&a.url.indexOf(".html")>0||(this.queue.push(a),this.queue.length>=this.batchSize&&this._processQueue())},_processQueue:function(){if(!this.processing&&this.queue.length){this.processing=!0;try{for(var a={},b={},d=0;d<this.queue.length;d++){var e,f=this.queue[d];if(f.status<400){e=f.method+f.url;var g=f.respAvailTime-f.sendTime,h=f.respProcTime-f.respAvailTime,i=f.receivedSize,j=f.sendSize,k=a[e];if(k){k.c++;var l=k.re;l.t=l.t+g,l.lo=l.lo<g?l.lo:g,l.hi=l.hi>g?l.hi:g,l.ssq=l.ssq+g*g;var m=k.cb;m.t=m.t+h,m.lo=m.lo<h?m.lo:h,m.hi=m.hi>h?m.hi:h,m.ssq=m.ssq+h*h;var n=k.rs;n.t=n.t+i,n.lo=n.lo<i?n.lo:i,n.hi=n.hi>i?n.hi:i,n.ssq=n.ssq+i*i;var o=k.ss;o.t=o.t+j,o.lo=o.lo<j?o.lo:j,o.hi=o.hi>j?o.hi:j,o.ssq=o.ssq+j*j}else a[e]={m:f.method,url:f.url,c:1,re:{t:g,lo:g,hi:g,ssq:g*g},cb:{t:h,lo:h,hi:h,ssq:h*h},rs:{t:f.receivedSize,lo:f.receivedSize,hi:f.receivedSize,ssq:f.receivedSize*f.receivedSize},ss:{t:f.sendSize,lo:f.sendSize,hi:f.sendSize,ssq:f.sendSize*f.sendSize}}}else e=f.method+f.status+f.url,b[e]?b[e].c++:b[e]={m:f.method,url:f.url,st:f.status,c:1}}var p={xhr:c.arrayFromObject(a),xhrError:c.arrayFromObject(b)};atatus.sendAjaxPerf(p)}catch(q){c.log("Error while processing queue: ",q)}finally{this.queue=[],this.processing=!1}}},beforeUnload:function(){d.bUnloaded||(d._processQueue(),d.bUnloaded=!0)}};c.addEventListener("beforeunload",d.beforeUnload,!1);var e={support:function(a){return!a||"apply"in a},around:function(a,b,d,e){return a=a||function(){},function(){var f,g=Array.prototype.slice.call(arguments);try{b&&(f=b.apply(this,g))}catch(h){c.log(e,h)}var i;try{i=a.apply(this,f||g)}finally{try{d&&d.apply(this,g)}catch(h){c.log(e,h)}}return i}},before:function(a,b){return e.around(a,b)},after:function(a,b){return e.around(a,null,b)},timeout:function(a){setTimeout(a,0)},wrapAddEventListener:function(){return function(a,b){if(("load"===a||"error"===a)&&b&&this._atrumXhrData){var c;b.__atrumInterceptor?c=b.__atrumInterceptor:e.support(b)?(c=g.wrapXHR(b,this,"XHR.invokeEventListener"),b.__atrumInterceptor=c):c=null;var d;return c&&(d=Array.prototype.slice.call(arguments),d[1]=c),d}}},wrapRemoveEventListener:function(){return function(a,b){if(this._atrumXhrData){var c=Array.prototype.slice.call(arguments);return b.__atrumInterceptor&&(c[1]=b.__atrumInterceptor),c}}},aroundWithHandleEvent:function(a,b,c,d){var f=a;return a&&"object"==typeof a&&"toString"in a&&"[xpconnect wrapped nsIDOMEventListener]"===a.toString()&&"handleEvent"in a&&(f=function(){a.handleEvent.apply(this,Array.prototype.slice.call(arguments))}),e.around(f,b,c,d)},getFullyQualifiedUrl:function(a){var c=b.createElement("a");return c.href=a,c.href}};if(a.XMLHttpRequest&&a.XMLHttpRequest.prototype){var f=a.XMLHttpRequest.prototype;if(!("open"in f&&"send"in f))return;if(!e.support(f.open)||!e.support(f.send))return;var g={};g.captureAjaxTimings=function(a){var b=a._atrumXhrData;if(b){var c=(new Date).getTime();2===a.readyState?b.firstByteTime=b.firstByteTime||c:4===a.readyState&&(b.respAvailTime=b.respAvailTime||c,b.firstByteTime=b.firstByteTime||c)}},g.sendPayload=function(a,b){b.receivedSize=0,a.responseType&&"text"!==a.responseType||"string"==typeof a.responseText&&(b.receivedSize=a.responseText.length),b.status=a.status,d.push(b)},g.wrapXHR=function(a,b,c){return e.aroundWithHandleEvent(a,function(){g.captureAjaxTimings(this)},function(){var a=b._atrumXhrData;if(a&&4===b.readyState){var c=(new Date).getTime();a.respProcTime=a.respProcTime||c,g.sendPayload(b,a),delete b._atrumXhrData}},c)},g.ajaxDone=function(a){if(a._atrumXhrData){var b=(new Date).getTime()+3e4,c=function(){g.captureAjaxTimings(a);var d=a._atrumXhrData;if(d){var e=(new Date).getTime();4===a.readyState?(d.respProcTime=d.respProcTime||e,g.sendPayload(a,d),delete a._atrumXhrData):b>e?setTimeout(c,50):delete a._atrumXhrData}};c()}},f.open=e.around(f.open,function(){var a=1<=arguments.length?String(arguments[0]):"",b=2<=arguments.length?String(arguments[1]):"",c=atatus.getAllowedDomains(),d=!0;if(b=e.getFullyQualifiedUrl(b),b&&c&&c.length){d=!1;for(var f=0;f<c.length;f++){var g=c[f];if(g&&b.indexOf(g)>-1){d=!0;break}}}d&&(b=b&&b.split("?")[0],this._atrumXhrData={method:a,url:b,sendTime:null,sendSize:null,firstByteTime:null,respAvailTime:null,respProcTime:null,receivedSize:null,parentPhase:null})},null,"XHR.open"),f.send=e.around(f.send,function(){var a=this,b=a._atrumXhrData;if(b){var c=(new Date).getTime();b.sendTime=b.sendTime||c,b.sendSize=1<=arguments.length&&arguments[0]?arguments[0].length||0:0;var d=0,f=function(){if(4===a.readyState)g.ajaxDone(a);else{var b=null;try{b=a.onreadystatechange}catch(c){return void g.ajaxDone(a)}d++,b?e.support(b)?a.onreadystatechange=g.wrapXHR(b,a,"XHR.onReadyStateChange"):g.ajaxDone(a):5>d?e.timeout(f):g.ajaxDone(a)}};f()}},null,"XHR.send"),"addEventListener"in f&&"removeEventListener"in f&&e.support(f.addEventListener)&&e.support(f.removeEventListener)&&(f.addEventListener=e.around(f.addEventListener,e.wrapAddEventListener(),null,"XHR.addEventListener"),f.removeEventListener=e.around(f.removeEventListener,e.wrapRemoveEventListener(),null,"XHR.removeEventListener"))}}(window,document)},function(a){function b(a,b,c){if(!(0>=b)){var d={name:a,dur:b,st:c};atatus.sendTxnPerf(d)}}function c(a){return h+" "+a}function d(){try{return"localStorage"in a&&null!==a.localStorage;}catch(b){return!1}}function e(a){var b=i.now();try{localStorage.setItem(c(a),b)}catch(d){}}function f(a){var b=null,d=c(a);try{b=localStorage.getItem(d),localStorage.removeItem(d)}catch(e){}var f=0;return b&&(f=i.now()-b),f}function g(a){try{var b=c(a);localStorage.removeItem(b)}catch(d){}}var h="atatus.com/",i=atatus._helper,j=1,k=0;atatus.beginTransaction=function(a){d()&&e(a)},atatus.endTransaction=function(a){if(d()){var c=f(a);b(a,c,j)}},atatus.failTransaction=function(a){if(d()){var c=f(a);b(a,c,k)}},atatus.cancelTransaction=function(a){d()&&g(a)}}(window,document);
/*! https://github.com/ttaubert/node-arraybuffer-slice
 * (c) 2014 Tim Taubert <tim@timtaubert.de>
 * arraybuffer-slice may be freely distributed under the MIT license.*/
!function(r){"use strict";function t(r,t){return r=0|r||0,r<0?Math.max(r+t,0):Math.min(r,t)}ArrayBuffer.prototype.slice||(ArrayBuffer.prototype.slice=function(e,n){var f=this.byteLength,i=t(e,f),a=f;if(n!==r&&(a=t(n,f)),i>a)return new ArrayBuffer(0);var u=a-i,y=new ArrayBuffer(u),o=new Uint8Array(y),s=new Uint8Array(this,i,u);return o.set(s),y})}();
!function(e){function t(i){if(r[i])return r[i].t;var n=r[i]={i:i,s:!1,t:{}};return e[i].call(n.t,n,n.t,t),n.s=!0,n.t}var r={};t.o=e,t.c=r,t.d=function(e,r,i){t.h(e,r)||Object.defineProperty(e,r,{u:!1,l:!0,get:i})},t.n=function(e){var r=e&&e.p?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.h=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.g="",t(t.v=96)}([function(e,t,r){"use strict";var i,n=r(37),s=r(1);!function(e){function t(t){_&&console.log("Framework already initialized"),e.m(),k=new Date,t.apply(F),_=F.resolve(P.T),D=F.resolve(P.I),M=_.S()}function r(){N=F.resolve(P.R),N.init()}function i(){return N}function o(){return F}function a(){return D}function h(){return _}function c(e){return L.get(e)}function u(e,t){var r=new A(e);return r.apply(t),L.set(e,r),r}function l(t){C=e.P(t)}function p(e){return null!=C?C.context.resolve(e):(console.warn("undefined context"),null)}function f(){return C}function d(){return _.time()}function g(e,t){return _.setTimeout(e,t)}function v(e){return _.clearTimeout(e)}function y(e,t){return _.setInterval(e,t)}function m(e){return _.clearInterval(e)}function E(){_.A()}function T(){_&&_.C(),F.k(),F=new n.O,L=new s,C=null,k=null,M=!1,O=null,_=null,N=null,D=null}function I(e){O=e}function w(){return O||(O=(new Date).getTime()),(O=(9301*O+49297)%233280)/233280}function S(){return k}function R(){return M}var b=function(){function e(){}return e}();b._="ws://127.0.0.1:8000/hive",e.N=b;var P=function(){function e(){}return e}();P.T="TimerScheduler",P.D="identityProvider",P.R="NetworkComponent",P.F="rtcManager",P.L="transport",P.M="httpManager",P.B="httpRequest",P.I="logger",P.U="serverManager",P.H="servicesClient",e.q=P;var A=function(){function e(e){this.id=e,this.context=new n.O}return e.prototype.apply=function(e){e.apply(this.context)},e}();e.V=A;!function(e){e[e.j=0]="HTTP",e[e.G=1]="RTC",e[e.K=2]="UDP"}(e.Y||(e.Y={}));!function(t){function r(){return"["+d()+"] ["+e.J().id+"]"}t.W=r}(e.X||(e.X={}));var C,k,O,_,N,D,F=new n.O,L=new s,M=!1;e.Z=t,e.$=r,e.ee=i,e.system=o,e.te=a,e.re=h,e.P=c,e.ie=u,e.ne=l,e.resolve=p,e.J=f,e.time=d,e.setTimeout=g,e.clearTimeout=v,e.setInterval=y,e.clearInterval=m,e.A=E,e.m=T,e.se=I,e.random=w,e.oe=S,e.S=R}(i=t.Framework||(t.Framework={})),"undefined"!=typeof global&&(global.Framework=i)},function(e,t,r){"use strict";function i(e,t,r,s){if(!(this instanceof i))return new i(e,t,r,s);t=t||Object.ae,r=r||Object.hash,s=s||Function.he,this.ce=t,this.ue=r,this.le=s,this.pe=new n(void 0,function(e,r){return t(e.key,r.key)},function(e){return r(e.key)}),this.length=0,this.addEach(e)}var n=(r(12),r(63)),s=r(13),o=r(48),a=r(14);e.t=i,i.Map=i,Object.addEach(i.prototype,s.prototype),Object.addEach(i.prototype,o.prototype),Object.addEach(i.prototype,a.prototype),Object.defineProperty(i.prototype,"size",s.fe),i.prototype.de=function(e){return new this.constructor(e,this.ce,this.ue,this.le)},i.prototype.log=function(e,t,r,i){t=t||this.ge,this.pe.log(e,function(e,r,i){t(e.value.value,r,i)},r,i)},i.prototype.ge=function(e,t){t(" key: "+e.key),t(" value: "+e.value)}},function(e,t,r){/*!
 *
 * Copyright 2009-2016 Kris Kowal under the terms of the MIT
 * license found at https://github.com/kriskowal/q/blob/v1/LICENSE
 *
 * With parts by Tyler Close
 * Copyright 2007-2009 Tyler Close under the terms of the MIT X license found
 * at http://www.opensource.org/licenses/mit-license.html
 * Forked at ref_send.js version: 2009-05-11
 *
 * With parts by Mark Miller
 * Copyright (C) 2011 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 */
!function(t){"use strict";if("function"==typeof bootstrap)bootstrap("promise",t);else{e.t=t()}}(function(){"use strict";function e(e){return function(){return K.apply(e,arguments)}}function t(e){return e===Object(e)}function r(e){return"[object StopIteration]"===ee(e)||e instanceof V}function i(e,t){if(H&&t.stack&&"object"==typeof e&&null!==e&&e.stack&&-1===e.stack.indexOf(te)){for(var r=[],i=t;i;i=i.source)i.stack&&r.unshift(i.stack);r.unshift(e.stack);var s=r.join("\n"+te+"\n");e.stack=n(s)}}function n(e){for(var t=e.split("\n"),r=[],i=0;i<t.length;++i){var n=t[i];a(n)||s(n)||!n||r.push(n)}return r.join("\n")}function s(e){return-1!==e.indexOf("(module.js:")||-1!==e.indexOf("(node.js:")}function o(e){var t=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(e);if(t)return[t[1],Number(t[2])];var r=/at ([^ ]+):(\d+):(?:\d+)$/.exec(e);if(r)return[r[1],Number(r[2])];var i=/.*@(.+):(\d+)$/.exec(e);return i?[i[1],Number(i[2])]:void 0}function a(e){var t=o(e);if(!t)return!1;var r=t[0],i=t[1];return r===q&&i>=j&&i<=oe}function h(){if(H)try{throw new Error}catch(i){var e=i.stack.split("\n"),t=e[0].indexOf("@")>0?e[1]:e[2],r=o(t);if(!r)return;return q=r[0],r[1]}}function c(e){return e instanceof f?e:y(e)?P(e):b(e)}function u(){function e(e){t=e,c.ve&&H&&(s.source=e),z(r,function(t,r){c.ye(function(){e.me.apply(e,r)})},void 0),r=void 0,i=void 0}var t,r=[],i=[],n=X(u.prototype),s=X(f.prototype);if(s.me=function(e,n,s){var o=Y(arguments);r?(r.push(o),"when"===n&&s[1]&&i.push(s[1])):c.ye(function(){t.me.apply(t,o)})},s.valueOf=function(){if(r)return s;var e=g(t);return v(e)&&(t=e),e},s.Ee=function(){return t?t.Ee():{state:"pending"}},c.ve&&H)try{throw new Error}catch(e){s.stack=e.stack.substring(e.stack.indexOf("\n")+1)}return n.Te=s,n.resolve=function(r){t||e(c(r))},n.Ie=function(r){t||e(b(r))},n.reject=function(r){t||e(R(r))},n.notify=function(e){t||z(i,function(t,r){c.ye(function(){r(e)})},void 0)},n}function l(e){if("function"!=typeof e)throw new TypeError("resolver must be a function.");var t=u();try{e(t.resolve,t.reject,t.notify)}catch(e){t.reject(e)}return t.Te}function p(e){return l(function(t,r){for(var i=0,n=e.length;i<n;i++)c(e[i]).then(t,r)})}function f(e,t,r){void 0===t&&(t=function(e){return R(new Error("Promise does not support operation: "+e))}),void 0===r&&(r=function(){return{state:"unknown"}});var i=X(f.prototype);if(i.me=function(r,n,s){var o;try{o=e[n]?e[n].apply(i,s):t.call(i,n,s)}catch(e){o=R(e)}r&&r(o)},i.Ee=r,r){var n=r();"rejected"===n.state&&(i.exception=n.reason),i.valueOf=function(){var e=r();return"pending"===e.state||"rejected"===e.state?i:e.value}}return i}function d(e,t,r,i){return c(e).then(t,r,i)}function g(e){if(v(e)){var t=e.Ee();if("fulfilled"===t.state)return t.value}return e}function v(e){return e instanceof f}function y(e){return t(e)&&"function"==typeof e.then}function m(e){return v(e)&&"pending"===e.Ee().state}function E(e){return!v(e)||"fulfilled"===e.Ee().state}function T(e){return v(e)&&"rejected"===e.Ee().state}function I(){re.length=0,ie.length=0,se||(se=!0)}function w(e,t){se&&("object"==typeof process&&"function"==typeof process.we&&c.ye.Se(function(){-1!==J(ie,e)&&(process.we("unhandledRejection",t,e),ne.push(e))}),ie.push(e),t&&void 0!==t.stack?re.push(t.stack):re.push("(no stack) "+t))}function S(e){if(se){var t=J(ie,e);-1!==t&&("object"==typeof process&&"function"==typeof process.we&&c.ye.Se(function(){var r=J(ne,e);-1!==r&&(process.we("rejectionHandled",re[t],e),ne.splice(r,1))}),ie.splice(t,1),re.splice(t,1))}}function R(e){var t=f({when:function(t){return t&&S(this),t?t(e):this}},function(){return this},function(){return{state:"rejected",reason:e}});return w(t,e),t}function b(e){return f({when:function(){return e},get:function(t){return e[t]},set:function(t,r){e[t]=r},delete:function(t){delete e[t]},Re:function(t,r){return null===t||void 0===t?e.apply(void 0,r):e[t].apply(e,r)},apply:function(t,r){return e.apply(t,r)},keys:function(){return $(e)}},void 0,function(){return{state:"fulfilled",value:e}})}function P(e){var t=u();return c.ye(function(){try{e.then(t.resolve,t.reject,t.notify)}catch(e){t.reject(e)}}),t.Te}function A(e){return f({be:function(){}},function(t,r){return D(e,t,r)},function(){return c(e).Ee()})}function C(e,t,r){return c(e).Pe(t,r)}function k(e){return function(){function t(e,t){var o;if("undefined"==typeof StopIteration){try{o=i[e](t)}catch(e){return R(e)}return o.done?c(o.value):d(o.value,n,s)}try{o=i[e](t)}catch(e){return r(e)?c(e.value):R(e)}return d(o,n,s)}var i=e.apply(this,arguments),n=t.bind(t,"next"),s=t.bind(t,"throw");return n()}}function O(e){c.done(c.async(e)())}function _(e){throw new V(e)}function N(e){return function(){return C([this,F(arguments)],function(t,r){return e.apply(t,r)})}}function D(e,t,r){return c(e).Ae(t,r)}function F(e){return d(e,function(e){var t=0,r=u();return z(e,function(i,n,s){var o;v(n)&&"fulfilled"===(o=n.Ee()).state?e[s]=o.value:(++t,d(n,function(i){e[s]=i,0==--t&&r.resolve(e)},r.reject,function(e){r.notify({index:s,value:e})}))},void 0),0===t&&r.resolve(e),r.Te})}function L(e){if(0===e.length)return c.resolve();var t=c.defer(),r=0;return z(e,function(i,n,s){function o(e){t.resolve(e)}function a(e){0===--r&&(e.message="Q can't get fulfillment value from any promise, all promises were rejected. Last error message: "+e.message,t.reject(e))}function h(e){t.notify({index:s,value:e})}var c=e[s];r++,d(c,o,a,h)},void 0),t.Te}function M(e){return d(e,function(e){return e=W(e,c),d(F(W(e,function(e){return d(e,G,G)})),function(){return e})})}function B(e){return c(e).Ce()}function U(e,t){return c(e).then(void 0,void 0,t)}function x(e,t){return c(e).ke(t)}var H=!1;try{throw new Error}catch(e){H=!!e.stack}var q,V,j=h(),G=function(){},Q=function(){function e(){for(var e,i;r.next;)r=r.next,e=r.Oe,r.Oe=void 0,i=r.domain,i&&(r.domain=void 0,i._e()),t(e,i);for(;h.length;)e=h.pop(),t(e);n=!1}function t(t,r){try{t()}catch(t){if(o)throw r&&r.Ne(),setTimeout(e,0),r&&r._e(),t;setTimeout(function(){throw t},0)}r&&r.Ne()}var r={Oe:void 0,next:null},i=r,n=!1,s=void 0,o=!1,a=!1;try{a=navigator&&("Microsoft Internet Explorer"===navigator.appName||null!=navigator.appVersion.match(/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i))}catch(e){}var h=[];if(Q=function(e){"undefined"!=typeof Framework&&Framework.S()?Framework.setTimeout(e,0):(i=i.next={Oe:e,domain:o&&process.domain,next:null},n||(n=!0,s()))},"object"==typeof process&&"[object process]"===process.toString()&&process.ye)o=!0,s=function(){process.ye(e)};else if("function"!=typeof setImmediate||a)if("undefined"==typeof MessageChannel||a)s=function(){setTimeout(e,0)};else{var c=new MessageChannel;c.port1.onmessage=function(){s=u,c.port1.onmessage=e,e()};var u=function(){c.port2.postMessage(0)};s=function(){setTimeout(e,0),u()}}else s="undefined"!=typeof window?setImmediate.bind(window,e):function(){setImmediate(e)};return Q.Se=function(e){h.push(e),n||(n=!0,s())},Q}(),K=Function.call,Y=e(Array.prototype.slice),z=e(Array.prototype.reduce||function(e,t){var r=0,i=this.length;if(1===arguments.length)for(;;){if(r in this){t=this[r++];break}if(++r>=i)throw new TypeError}for(;r<i;r++)r in this&&(t=e(t,this[r],r));return t}),J=e(Array.prototype.indexOf||function(e){for(var t=0;t<this.length;t++)if(this[t]===e)return t;return-1}),W=e(Array.prototype.map||function(e,t){var r=this,i=[];return z(r,function(n,s,o){i.push(e.call(t,s,o,r))},void 0),i}),X=Object.create||function(e){function t(){}return t.prototype=e,new t},Z=e(Object.prototype.hasOwnProperty),$=Object.keys||function(e){var t=[];for(var r in e)Z(e,r)&&t.push(r);return t},ee=e(Object.prototype.toString);V="undefined"!=typeof ReturnValue?ReturnValue:function(e){this.value=e};var te="From previous event:";c.resolve=c,c.ye=Q,c.ve=!1,"object"==typeof process&&process&&process.De&&process.De.Fe&&(c.ve=!0),c.defer=u,u.prototype.Le=function(){var e=this;return function(t,r){t?e.reject(t):arguments.length>2?e.resolve(Y(arguments,1)):e.resolve(r)}},c.Promise=l,c.Te=l,l.race=p,l.all=F,l.reject=R,l.resolve=c,c.Me=function(e){return e},f.prototype.Me=function(){return this},c.join=function(e,t){return c(e).join(t)},f.prototype.join=function(e){return c([this,e]).Pe(function(e,t){if(e===t)return e;throw new Error("Q can't join: not the same: "+e+" "+t)})},c.race=p,f.prototype.race=function(){return this.then(c.race)},c.Be=f,f.prototype.toString=function(){return"[object Promise]"},f.prototype.then=function(e,t,r){function n(t){try{return"function"==typeof e?e(t):t}catch(e){return R(e)}}function s(e){if("function"==typeof t){i(e,a);try{return t(e)}catch(e){return R(e)}}return R(e)}function o(e){return"function"==typeof r?r(e):e}var a=this,h=u(),l=!1;return c.ye(function(){a.me(function(e){l||(l=!0,h.resolve(n(e)))},"when",[function(e){l||(l=!0,h.resolve(s(e)))}])}),a.me(void 0,"when",[void 0,function(e){var t,r=!1;try{t=o(e)}catch(e){if(r=!0,!c.onerror)throw e;c.onerror(e)}r||h.notify(t)}]),h.Te},c.Ue=function(e,t){return c(e).Ue(t)},f.prototype.Ue=function(e){return e=c(e),this.then(function(t){return e.He(t).xe(t)})},c.when=d,f.prototype.xe=function(e){return this.then(function(){return e})},c.xe=function(e,t){return c(e).xe(t)},f.prototype.qe=function(e){return this.then(function(){throw e})},c.qe=function(e,t){return c(e).qe(t)},c.Ve=g,c.je=v,c.Ge=y,c.Qe=m,f.prototype.Qe=function(){return"pending"===this.Ee().state},c.Ke=E,f.prototype.Ke=function(){return"fulfilled"===this.Ee().state},c.Ye=T,f.prototype.Ye=function(){return"rejected"===this.Ee().state};var re=[],ie=[],ne=[],se=!0;c.ze=I,c.Je=function(){return re.slice()},c.We=function(){I(),se=!1},I(),c.reject=R,c.Ie=b,c.Xe=A,c.Pe=C,f.prototype.Pe=function(e,t){return this.all().then(function(t){return e.apply(void 0,t)},t)},c.async=k,c.Ze=O,c.$e=_,c.et=N,c.Ae=D,f.prototype.Ae=function(e,t){var r=this,i=u();return c.ye(function(){r.me(i.resolve,e,t)}),i.Te},c.get=function(e,t){return c(e).Ae("get",[t])},f.prototype.get=function(e){return this.Ae("get",[e])},c.set=function(e,t,r){return c(e).Ae("set",[t,r])},f.prototype.set=function(e,t){return this.Ae("set",[e,t])},c.tt=c.delete=function(e,t){return c(e).Ae("delete",[t])},f.prototype.tt=f.prototype.delete=function(e){return this.Ae("delete",[e])},c.rt=c.Re=function(e,t,r){return c(e).Ae("post",[t,r])},f.prototype.rt=f.prototype.Re=function(e,t){return this.Ae("post",[e,t])},c.send=c.it=c.nt=function(e,t){return c(e).Ae("post",[t,Y(arguments,2)])},f.prototype.send=f.prototype.it=f.prototype.nt=function(e){return this.Ae("post",[e,Y(arguments,1)])},c.st=function(e,t){return c(e).Ae("apply",[void 0,t])},f.prototype.st=function(e){return this.Ae("apply",[void 0,e])},c.ot=c.He=function(e){return c(e).Ae("apply",[void 0,Y(arguments,1)])},f.prototype.He=function(){return this.Ae("apply",[void 0,Y(arguments)])},c.at=function(e){var t=c(e),r=Y(arguments,1);return function(){return t.Ae("apply",[this,r.concat(Y(arguments))])}},f.prototype.at=function(){var e=this,t=Y(arguments);return function(){return e.Ae("apply",[this,t.concat(Y(arguments))])}},c.keys=function(e){return c(e).Ae("keys",[])},f.prototype.keys=function(){return this.Ae("keys",[])},c.all=F,f.prototype.all=function(){return F(this)},c.ht=L,f.prototype.ht=function(){return L(this)},c.ct=function(e,t,r){return function(){return"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t+" is deprecated, use "+r+" instead.",new Error("").stack),e.apply(e,arguments)}}(M,"allResolved","allSettled"),f.prototype.ct=function(){return M(this)},c.Ce=B,f.prototype.Ce=function(){return this.then(function(e){return F(W(e,function(e){function t(){return e.Ee()}return e=c(e),e.then(t,t)}))})},c.fail=c.catch=function(e,t){return c(e).then(void 0,t)},f.prototype.fail=f.prototype.catch=function(e){return this.then(void 0,e)},c.progress=U,f.prototype.progress=function(e){return this.then(void 0,void 0,e)},c.ut=c.finally=function(e,t){return c(e).finally(t)},f.prototype.ut=f.prototype.finally=function(e){if(!e||"function"!=typeof e.apply)throw new Error("Q can't apply finally callback");return e=c(e),this.then(function(t){return e.He().then(function(){return t})},function(t){return e.He().then(function(){throw t})})},c.done=function(e,t,r,i){return c(e).done(t,r,i)},f.prototype.done=function(e,t,r){var n=function(e){c.ye(function(){if(i(e,s),!c.onerror)throw e;c.onerror(e)})},s=e||t||r?this.then(e,t,r):this;"object"==typeof process&&process&&process.domain&&(n=process.domain.bind(n)),s.then(void 0,n)},c.timeout=function(e,t,r){return c(e).timeout(t,r)},f.prototype.timeout=function(e,t){var r=u(),i=setTimeout(function(){t&&"string"!=typeof t||(t=new Error(t||"Timed out after "+e+" ms"),t.code="ETIMEDOUT"),r.reject(t)},e);return this.then(function(e){clearTimeout(i),r.resolve(e)},function(e){clearTimeout(i),r.reject(e)},r.notify),r.Te},c.delay=function(e,t){return void 0===t&&(t=e,e=void 0),c(e).delay(t)},f.prototype.delay=function(e){return this.then(function(t){var r=u();return setTimeout(function(){r.resolve(t)},e),r.Te})},c.lt=function(e,t){return c(e).lt(t)},f.prototype.lt=function(e){var t=u(),r=Y(e);return r.push(t.Le()),this.st(r).fail(t.reject),t.Te},c.pt=function(e){var t=Y(arguments,1);return c(e).lt(t)},f.prototype.pt=function(){var e=Y(arguments),t=u();return e.push(t.Le()),this.st(e).fail(t.reject),t.Te},c.ft=c.dt=function(e){if(void 0===e)throw new Error("Q can't wrap an undefined function");var t=Y(arguments,1);return function(){var r=t.concat(Y(arguments)),i=u();return r.push(i.Le()),c(e).st(r).fail(i.reject),i.Te}},f.prototype.ft=f.prototype.dt=function(){var e=Y(arguments);return e.unshift(this),c.dt.apply(void 0,e)},c.gt=function(e,t){var r=Y(arguments,2);return function(){function i(){return e.apply(t,arguments)}var n=r.concat(Y(arguments)),s=u();return n.push(s.Le()),c(i).st(n).fail(s.reject),s.Te}},f.prototype.gt=function(){var e=Y(arguments,0);return e.unshift(this),c.gt.apply(void 0,e)},c.vt=c.yt=function(e,t,r){return c(e).yt(t,r)},f.prototype.vt=f.prototype.yt=function(e,t){var r=Y(t||[]),i=u();return r.push(i.Le()),this.Ae("post",[e,r]).fail(i.reject),i.Te},c.Et=c.Tt=c.It=function(e,t){var r=Y(arguments,2),i=u();return r.push(i.Le()),c(e).Ae("post",[t,r]).fail(i.reject),i.Te},f.prototype.Et=f.prototype.Tt=f.prototype.It=function(e){var t=Y(arguments,1),r=u();return t.push(r.Le()),this.Ae("post",[e,t]).fail(r.reject),r.Te},c.ke=x,f.prototype.ke=function(e){if(!e)return this;this.then(function(t){c.ye(function(){e(null,t)})},function(t){c.ye(function(){e(t)})})},c.wt=function(){throw new Error("Q.noConflict only works when Q is used as a global")};var oe=h();return c})},function(e,t,r){"use strict";var i=r(5),n=i.Rt.St;!function(e){var t=function(){function e(){}return e}();t.bt=5e3,t.Pt=6,t.At=1e4,t.Ct=.2,t.kt=10,e.Ot=t;var r=function(){function e(){}return e}();r._t="0.0.1",r.Nt=3e4,r.Dt=4e7,r.Ft=1,r.Lt=.8,r.Mt=!1,r.Bt=2e4,e.Ut=r;var i=function(){function e(){}return e}();i.xt=!0,i.Ht=3,i.qt=1e4,e.Vt=i;var s=function(){function e(){}return e}();s.jt=1.1,e.Gt=s;var o=function(){function e(){}return e}();o.Qt=n,o.Kt=2e4,o.Yt=5e3,e.zt=o;var a=function(){function e(){}return e}();a.Jt=[412],e.Wt=a;var h=function(){function e(){}return e}();h.Xt=2e3,h.Zt=!0,h.$t=!1,h.er=1,h.tr=.02,h.rr=!0,h.ir=!1,h.nr=!1,h.sr=1e4,h.or=4e4,h.ar=3700,h.hr=2e4,h.cr=1,h.ur=5,h.lr=.4,h.pr=1,e.dr=h;var c=function(){function e(){}return e}();c.gr=30,c.vr=2e4,c.yr=3e4,e.mr=c;var u=function(){function e(){}return e}();u.Er=3e7,u.Tr=3e4,u.Ir=!1,u.wr=10,e.Sr=u;var l=function(){function e(){}return e}();l.Rr=3,l.br=!1,l.Pr=3e4,l.Ar=.2,l.Cr=.2,l.kr=1e4,e.Or=l;var p=function(){function e(){}return e}();p._r=!1,e.j=p;var f=function(){function e(){}return e}();f.Nr=64e3,f.Dr=5e3,f.Fr=1,f.Lr=1,e.Mr=f;var d=function(){function e(){}return e}();d.Br=4e3,d.Ur=3e4,d.xr=4096,d.Hr=!0,d.qr=5e3,d.Vr=1e4,e.UDPBroadcast=d;var g=function(){function e(){}return e}();g.jr=100,g.Gr=1e3,e.Qr=g;var v=function(){function e(){}return e}();v.Kr=20,v.Yr=20,v.zr=20,v.Jr=5,e.Wr=v;var y=function(){function e(){}return e}();y.Xr="site",y.Zr="externalAs",y.$r="availableSendRate",y.ei="remoteAddress",y.ti="localAddress",y.ri=2e4,e.ii=y}(t.ni||(t.ni={}))},function(e,t,r){"use strict";var i=r(104),n=r(20),s=r(5),o=s.Rt.si,a=(s.Rt.oi,s.Rt.ai),h=s.Rt.hi,c=function(){function e(t){if(this.ci=!1,this.ui="undefined"!=typeof atatus&&null!=atatus,e.li)throw new Error("Error: Instantiation failed: Use AtatusLogger.getInstance() instead of new.");var r,i=void 0!=n.HiveConfig.ErrorMonitor.key?n.HiveConfig.ErrorMonitor.key:o,s=1==n.HiveConfig.ErrorMonitor.enabledRUM,c=1==n.HiveConfig.ErrorMonitor.enableKeyCombination,u=1==n.HiveConfig.ErrorMonitor.enabledErrorFilter;u&&(r=this.pi()),this.version=t,this.ui&&(void 0==n.HiveConfig.ErrorMonitor.enabled&&a||void 0!=n.HiveConfig.ErrorMonitor.enabled&&1==n.HiveConfig.ErrorMonitor.enabled)&&(atatus.config(i,{enableSourcemap:!0,disableRUM:!s,console:!1,version:t,beforeErrorSend:function(e){var t=!1;if(e&&e.customData&&void 0!==e.customData.forceSend&&(t=e.customData.forceSend,delete e.customData.forceSend,0===Object.keys(e.customData).length&&(e.customData=null)),!u||t)return!0;if(!r)return!1;try{var i=!1;if(e.backTraces){for(var n=0,s=e.backTraces;n<s.length;n++){var o=s[n];if(o.f.indexOf(r)>-1&&o.ln>h){i=!0;break}}i&&(e.name=e.name.replace(/%s \[[0-9]{2}:[0-9]{2}:[0-9]{2}:[0-9]+] /,""),e.name.indexOf("Status Code Error:")>=0&&(e.tags=["Plugin Error Code",e.name.split(":")[1].trim()]))}return i}catch(e){return!1}}}).install(),c&&this.fi(),this.ci=!0,window.console&&console.log("[HiveComm] Error Monitor installed [RUM:"+s+", KeyHandler:"+c+"]"),u&&!r&&this.di("Could not extract error filter"))}return e.gi=function(t){return void 0===t&&(t="3.0.0"),void 0===this.li&&(this.li=new e(t)),this.li},e.prototype.fi=function(){i.yi.gi().vi([16,17,88],function(){try{throw new Error("Upload console logs")}catch(e){atatus.notify(e),window.console&&console.log("[HiveComm] console log uploaded for debugging")}})},e.prototype.pi=function(){try{throw new Error("test")}catch(t){var e=t.stack.match(/(\/\/.*\.js)/i);if(e&&e.length>0)return e[0]}},e.prototype.setUser=function(e){this.ui&&this.ci&&atatus.setUser(e)},e.prototype.mi=function(e){this.te=e},e.prototype.setCustomData=function(e){this.ui&&this.ci&&atatus.setCustomData(e)},e.prototype.di=function(e,t,r,i){var n="";if("string"==typeof t?n=t.trim():void 0!==t&&(r=t),(r instanceof Error||r&&"object"!=typeof r)&&(r={error:r.toString()}),r||(r={}),this.te&&(Object.keys(r).length>0?this.te.warn(n+" "+e,r):this.te.warn(n+" "+e)),n&&(i=i?i.concat([n]):[n]),r.forceSend=!0,this.ui&&this.ci)try{throw new Error(e)}catch(e){atatus.notify(e,r,i)}},e.prototype.setTags=function(e){this.ui&&this.ci&&atatus.setTags(e)},e.prototype.notify=function(e,t){this.ui&&this.ci&&(t||(t={}),t.forceSend=!0,atatus.notify(e,t))},e}();t.ErrorMonitor=c},function(e,t,r){"use strict";var i=function(){function e(){}return e}();i.Ei=!1,i.Ti=!0,i.Ii=!1,i.wi="3.5.1",i.Si="bitmovin",i.Ri=!1,i.bi=!0,i.Pi="undefined"!=typeof INCLUDE_VOD_CACHE&&INCLUDE_VOD_CACHE,i.Ai="undefined"!=typeof INCLUDE_UDP_BROADCAST&&INCLUDE_UDP_BROADCAST,i.Ci="undefined"!=typeof INCLUDE_UDP_LEADER_ELECTION&&INCLUDE_UDP_LEADER_ELECTION,i.ki="undefined"!=typeof LEADER_SCORE_EQUALITY&&LEADER_SCORE_EQUALITY,i.Oi="undefined"!=typeof INCLUDE_DEFAULT_NETWORK&&INCLUDE_DEFAULT_NETWORK,i._i="undefined"!=typeof HIVE_RESTRICTED_CONNINFO&&HIVE_RESTRICTED_CONNINFO,i.St="undefined"!=typeof HIVE_DISCOVERY?HIVE_DISCOVERY:"ws://127.0.0.1:8000/hive",i.Ni="undefined"!=typeof P2PDispatcherDetailedLog&&P2PDispatcherDetailedLog,i.Di="undefined"!=typeof NetworkManagerDetailedLog&&NetworkManagerDetailedLog,i.si="undefined"!=typeof ATATUS_KEY?ATATUS_KEY:"592835a6b4204dd197c00488610003e0",i.oi="undefined"!=typeof ATATUS_VERSION?ATATUS_VERSION:"0.8",i.ai="undefined"==typeof ATATUS_DEFAULT_ENABLED||ATATUS_DEFAULT_ENABLED,i.hi=5,i.Fi="undefined"!=typeof HIVE_PLUGIN_TIMEOUT?HIVE_PLUGIN_TIMEOUT:-1,i.Li="undefined"==typeof HIVE_DETECT_PRIVATEIP||HIVE_DETECT_PRIVATEIP,i.Mi=!0,t.Rt=i},function(e,t,r){"use strict";var i=r(0),n=r(40),s=r(27);!function(e){function t(e,t){return t?e+"-"+t:e}function r(e,t){var r=new Uint8Array(e.byteLength+t.byteLength);return r.set(new Uint8Array(e),0),r.set(new Uint8Array(t),e.byteLength),r.buffer}function o(e){var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e),0),t.buffer}function a(e,t,r){void 0===r&&(r=!0);for(var i=0;i<e.length;)if(e[i]===t){if(e.splice(i,1),r)break}else i++}function h(e){return String.fromCharCode.apply(null,new Uint16Array(e))}function c(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)"),r=t.exec(location.search);return null==r?"":decodeURIComponent(r[1].replace(/\+/g," "))}function u(e){for(var t=e.length-1;t>0;t--){var r=Math.floor(i.Framework.random()*(t+1)),n=e[t];e[t]=e[r],e[r]=n}return e}function l(e){var t=new Array;for(var r in e)e.hasOwnProperty(r)&&!/^\d+$/.test(r)&&t.push(r);return t}function p(e){return Object.keys(e).map(function(e){return parseInt(e,10)}).filter(function(e){return!isNaN(e)})}function f(e,t){return e[t]?e[t]:null}function d(e,t){return new s(t).Bi(e).toString()}function g(e){return 0==e.length?0:e.reduce(function(e,t){return e+t})/e.length}function v(e){for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),i=0,n=e.length;i<n;i++)r[i]=e.charCodeAt(i);return t}function y(e,t,r,i){var n=new e(t,r),s=i||r.currentTarget;return s&&Object.defineProperties(n,{currentTarget:{value:s,l:!0,Ui:!1},target:{value:s,l:!0,Ui:!1}}),n}e.xi=new n.Counter;var m=function(){function e(){this.ALPHA=.25,this.Hi=1e8,this.qi=1e4}return e.prototype.Vi=function(){return void 0!==this.ji},e.prototype.Gi=function(e,t){return this.ji=Math.min(this.Hi,t/e*8e3),this},e.prototype.Qi=function(e){return this.ji=Math.max(this.Hi,e),this},e.prototype.Ki=function(e){e.Vi()&&(this.Vi()?this.ji=this.ji*(1-this.ALPHA)+e.ji*this.ALPHA:this.ji=e.ji)},e.prototype.Yi=function(e){return this.Vi()?Math.round(8e3*e/this.ji):NaN},e.prototype.zi=function(){return this.Vi()?this.ji:NaN},e.prototype.Ji=function(){return this.Vi()?this.ji/1e3:NaN},e.prototype.Wi=function(){return this.Vi()?this.ji/1e6:NaN},e.prototype.Xi=function(){return this.Vi()?this.ji>1e6?(this.ji/1e6).toFixed(2)+"Mb/s":this.ji>1e3?(this.ji/1e3).toFixed(2)+"Kb/s":this.ji+"b/s":"NaN"},e}();e.Zi=m,e.$i=t,e.appendBuffer=r,e.en=o,e.tn=a,e.rn=h,e.in=c,e.nn=u,e.sn=l,e.an=p,e.hn=f,e.cn=d,e.un=g,e.pn=v,e.createEvent=y}(t.fn||(t.fn={}))},function(e,t,r){"use strict";function i(e,t,r){return void 0===t&&(t=""),void 0===r&&(r=[]),n(e,t,r,!0)}function n(e,t,r,i){void 0===t&&(t=""),void 0===r&&(r=[]),void 0===i&&(i=!1);for(var s in e)!function(s){if(e.hasOwnProperty(s)){var o=e[s];Array.isArray(o)?o.forEach(function(e,o){"object"==typeof e&&n(e,t+"."+s+"["+o+"]",r,i)}):"object"==typeof o?n(o,t+"."+s,r,i):"number"==typeof o&&isNaN(o)&&(r.push(t+"."+s),i||(e[s]=null))}}(s);return r}function s(e,t){function r(){if(!e())return i.resolve(!0);y.when(t(),r,i.reject)}var i=y.defer();return y.ye(r),i.Te}function o(e,t,r){return void 0===r&&(r=!0),a("GET",e,t,r)}function a(e,t,r,i){void 0===i&&(i=!0);var n=y.defer();try{var s=new XMLHttpRequest;s.open(e,t,i),void 0!=r&&null!=r&&s.setRequestHeader("Content-Type",r),s.onload=function(){200==s.status?n.resolve(s.response):n.reject({status:s.status,reason:s.statusText,body:s.responseText})},s.onerror=function(e){n.reject({status:-1,reason:"Network Error"})},s.send()}catch(e){n.reject({status:-1,reason:e})}return n.Te}function h(e,t,r,i){void 0===i&&(i=!0);var n=y.defer();try{var s=new XMLHttpRequest;s.open("POST",e,i),void 0!=r&&null!=r&&s.setRequestHeader("Content-Type",r),s.onload=function(){200==s.status?n.resolve(s.response):n.reject({status:s.status,reason:s.statusText})},s.onerror=function(e){n.reject({status:-1,reason:"Network Error"})},s.send(t)}catch(e){n.reject({status:-1,reason:e})}return n.Te}function c(e,t){var r,i,n=document.querySelector("base"),s=document.querySelector("head"),o=document.createElement("a"),a=n;return n?r=n.href:a=s.appendChild(document.createElement("base")),a.href=e,o.href=t,i=o.href,n?n.href=r:s.removeChild(a),i}function u(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=e[0],i=1;i<e.length;i++){var n=new RegExp("\\{"+(i-1)+"\\}","gm");r=r.replace(n,e[i])}return r}function l(e,t){for(var r in e)e.hasOwnProperty(r)&&t.hasOwnProperty(r)&&(t[r]=e[r])}function p(e,t,r){var i=v(e).dn(!0);for(var n in i)try{if(i.hasOwnProperty(n)&&t.hasOwnProperty(n)&&r.hasOwnProperty(t[n])){var s=t[n],o=i[n];r[s]=f(o,r[s])}}catch(e){}}function f(e,t){var r;switch(typeof t){case"number":r=parseInt(e);break;case"boolean":r="true"===e;break;default:r=e}return r}function d(e,t,r){var i=new E;return i.ticketUrl=e,i.code=t,i.message=T(t),i.detailedMessage=r,i}var g=r(1),v=r(27),y=r(2),m=r(26),E=m.gn.HiveSessionError,T=m.gn.getHiveSessionErrorMessage,I=m.gn.HiveSession,w=r(50),S=r(67),R=r(8),b=r(5),P=r(4),A=b.Rt.Ei;if(A)var C=r(28).HiveRequest,k=r(69).vn;var O=function(){function e(t){if(!t){if(0==Object.keys(e.mapping).length&&!e.yn)return P.ErrorMonitor.gi().di("No registered default HiveRequestFactory tech",e.mn),e.yn=!0,e.En();t=Object.keys(e.mapping)[0]}if(!(t in e.mapping))return e.yn||(P.ErrorMonitor.gi().di("no registered HiveRequestFactory tech for session",{sessionId:t}),e.yn=!0),e.En();var r=e.mapping[t];switch(r.tech){case"HiveJS":return A?r.Tn?new C(t):(r.Tn=!0,new k(t)):e.En();case"HiveJsProxy":return r.Tn?new w.In(t):(r.Tn=!0,new S.wn(t));case"HiveJava":case"StatsJS":return e.En()}}return e.En=function(){return"undefined"!=typeof OriginalXMLHttpRequest?new OriginalXMLHttpRequest:new XMLHttpRequest},e.clear=function(){e.mapping={}},e.Sn=function(t){if(t in e.mapping){var r=e.mapping[t];for(var i in r)"tech"!==i&&delete r[i]}},e.Rn=function(t){t in e.mapping&&delete e.mapping[t]},e.bn=function(t,r){t in e.mapping||(e.mapping[t]={}),e.mapping[t].tech=r},e}();O.mapping={},O.yn=!1,O.mn="[HiveRequestFactory]",t.HiveRequestFactory=O;var _=function(){function e(e,t,r,i){this.Pn=!1,this.ticketUrl=e,this.ticket=t,this.manifest=r,this.An=y.defer(),this.Cn=i,this.Cn&&this.An.resolve(this.Cn)}return e.prototype.ci=function(e){return null!==this.tech&&this.tech.ci(e,this)},e.prototype.kn=function(e){this.Pn!=e&&(this.Pn=e,this.tech&&this.tech.On(this,e))},e.prototype._n=function(){return this.Pn},e.prototype.close=function(e,t){if(void 0===t&&(t=!0),this.Pn=!0,null!=this.tech)return this.tech.Nn(this,e,t)},e.prototype.toString=function(){return this.ticket.toString()},e.prototype.Dn=function(){var e=new I;return e.id=this.id,e.ticketUrl=this.ticketUrl,e.manifest=this.manifest,e.tech=this.tech.Fn(),e},e.prototype.Ln=function(){return this.An.Te},e.prototype.Mn=function(e){this.Cn=e,this.An.resolve(this.Cn)},e}();t.Bn=_;var N=function(){function e(){}return e}();t.Un=N;var D=function(){function e(){this.success=0,this.xn=0,this.Hn=0}return e}();t.qn=D;var F=function(){function e(){this.Vn=0,this.jn=0,this.Gn=new g,this.Qn=new g}return e.prototype.Kn=function(e,t,r,i){void 0===i&&(i=!0);var n=e?this.Gn:this.Qn;n.has(t)||n.set(t,new D);var s=n.get(t);s.Hn+=r,i&&s.success++},e.prototype.Yn=function(e,t){var r=e?this.Gn:this.Qn;r.has(t)||r.set(t,new D),r.get(t).xn++},e.prototype.zn=function(e){this.bandwidth=e},e.prototype.Jn=function(){this.Vn++},e.prototype.Wn=function(){this.jn++},e.prototype.Xn=function(){return this.bandwidth},e.prototype.Zn=function(){return this.Gn},e.prototype.$n=function(){return this.Qn},e.prototype.es=function(){return this.Vn},e.prototype.rs=function(){return this.jn},e}();t.ns=F;var L=function(){function e(){var t=this;if(e.li)throw new Error("Error: Instantiation failed: Use VisibilityChangeListener.getInstance() instead of new.");var r,i;void 0!==document.hidden?(r="hidden",i="visibilitychange"):void 0!==document.msHidden?(r="msHidden",i="msvisibilitychange"):void 0!==document.webkitHidden&&(r="webkitHidden",i="webkitvisibilitychange"),void 0!==document.addEventListener&&void 0!==document[r]?document.addEventListener(i,function(){var e=!document[r];t.ss.forEach(function(r){r.call(t,e)})},!1):e.te&&e.te.debug("warn - visibilityChange listener not supported"),this.ss=new Array}return e.gi=function(t){return t&&(this.te=t),void 0===this.li&&(this.li=new e),this.li},e.prototype.as=function(e){this.ss.push(e)},e}();t.hs=L,t.cs=i,t.us=n,t.ls=s,t.ps=o,t.fs=a,t.ds=h,t.cn=c,t.gs=u,t.vs=l,t.ys=p,t.ms=d;var M=function(){function e(){}return e.getItem=function(e){try{return window.sessionStorage?window.sessionStorage.getItem(e):null}catch(e){return null}},e.setItem=function(e,t){try{return!!window.sessionStorage&&(window.sessionStorage.setItem(e,t),!0)}catch(e){return!1}},e.removeItem=function(e){try{window.sessionStorage&&window.sessionStorage.removeItem(e)}catch(e){return null}},e}();t.Es=M;var B=function(){function e(e){this.Ts=e}return e.prototype.Is=function(e){var t=Date.now();return this.isEqual(this.ws,e)||(this.Ss=t),this.ws=e,t-this.Ss>=this.Ts},e.prototype.isEqual=function(e,t){if(e&&t){return[t.Rs-e.Rs,t.bs-e.bs,t.Ps-e.Ps].reduce(function(e,t){return e&&Math.abs(t)<10},!0)}return!1},e}();t.As=B;var U=function(){function e(){}return e.Cs=function(e){var t=e.Cs();return R.HiveConfig.SensitiveInfo.restrictedConnectivityInfo&&t&&(t=t.replace(/[0-9]*$/,"0")),t},e.ks=function(e){return R.HiveConfig.SensitiveInfo.restrictedConnectivityInfo?R.HiveConfig.SensitiveInfo.hiddenHostnameValue:e.Os()},e}();t._s=U},function(e,t,r){"use strict";var i,n=this&&this.Ns||function(e,t){function r(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},s=r(38),o=r(5),a=o.Rt._i,h=o.Rt.Li;!function(e){var t=function(){function e(){}return e}();t.DashFilterBitrates=null,t.DashRemoveBitrateSize=!1,e.Dash=t;var r=function(){function e(){}return e}();r.Ds=!0,e.Stats=r;var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t}(s.HiveConfig.DebugLogs);i.TrackerLogs=0,e.DebugLogs=i;var o=function(){function e(){}return e}();o.usiz=null,e.UDPBroadcast=o;var c=function(){function e(){}return e}();c.restrictedConnectivityInfo=a,c.hiddenHostnameValue="[Hidden]",e.SensitiveInfo=c;var u=function(){function e(){}return e}();u.Fs=null,u.Ls=null,e.ClientInfo=u;var l=function(){function e(){}return e}();l.detectPrivateIP=h,e.ConnInfo=l}(i=t.HiveConfig||(t.HiveConfig={})),"undefined"!=typeof window&&(void 0===window.HiveConfig&&(window.HiveConfig={}),window.HiveConfig.Dash=i.Dash,window.HiveConfig.Stats=i.Stats,window.HiveConfig.UDPBroadcast=i.UDPBroadcast,window.HiveConfig.DebugLogs=i.DebugLogs,window.HiveConfig.SensitiveInfo=i.SensitiveInfo,window.HiveConfig.ClientInfo=i.ClientInfo,window.HiveConfig.ConnInfo=i.ConnInfo)},function(e,t,r){"use strict";!function(e){e.Ms="statsClient",e.H="servicesClient",e.Bs="ticketResolver",e.D="identityProvider",e.Us="connInfoProvider",e.xs="peerInfo",e.Hs="streamInfoProvider",e.qs="reporting",e.Vs="statsStore",e.js="trackManager",e.Gs="trackClient"}(t.Qs||(t.Qs={}))},function(e,t,r){"use strict";!function(e){e[e.Ks=0]="AUDIO",e[e.Ys=1]="VIDEO",e[e.zs=2]="METADATA",e[e.Js=3]="OTHER"}(t.Ws||(t.Ws={}))},function(e,t,r){"use strict";r(56);!function(e){e[e.Xs=0]="TRACKER",e[e.K=1]="UDP"}(t.Zs||(t.Zs={}));!function(e){e[e.$s=1]="PLAYER",e[e.eo=2]="P2P_AGENT",e[e.to=3]="PREFETCHER_FIRST_TIER",e[e.ro=4]="PREFETCHER_SECOND_TIER"}(t.io||(t.io={}));var i=function(){function e(){}return e}();t.no=i;var n=function(){function e(e,t,r){this.so=r,this.internalAs=0,this.externalAs=0,this.type=e,r||(this.so=!1),t&&(this.guid=t.guid,this.internalAs=t.internalAs,this.externalAs=t.externalAs,this.oo=t.oo,this.bandwidth=t.bandwidth,this.ao=t.ao,this.ho=t.ho,this.co=t.co,this.timestamp=t.timestamp,this.uo=t.uo,this.lo=t.lo)}return e}();t.po=n},function(e,t,r){r(60),r(33),r(61),r(98)},function(e,t,r){"use strict";function i(){throw new Error("Can't construct. GenericCollection is a mixin.")}e.t=i,i.fo=Object.freeze([]),i.prototype.addEach=function(e){if(e&&Object(e)===e)if("function"==typeof e.forEach)e.forEach(this.add,this);else if("number"==typeof e.length)for(var t=0;t<e.length;t++)this.add(e[t],t);else Object.keys(e).forEach(function(t){this.add(e[t],t)},this);else if(e&&"number"==typeof e.length)for(var t=0;t<e.length;t++)this.add(e[t],t);return this},i.prototype.do=function(e,t){return e.forEach(function(e){this.delete(e,t)},this),this},i.prototype.forEach=function(e){var t=arguments[1];return this.reduce(function(r,i,n,s,o){e.call(t,i,n,s,o)},void 0)},i.prototype.map=function(e){var t=arguments[1],r=[];return this.reduce(function(i,n,s,o,a){r.push(e.call(t,n,s,o,a))},void 0),r},i.prototype.enumerate=function(e){null==e&&(e=0);var t=[];return this.reduce(function(r,i){t.push([e++,i])},void 0),t},i.prototype.group=function(e,t,r){r=r||Object.ae;var i=[],n=[];return this.forEach(function(s,o,a){var h,o=e.call(t,s,o,a),c=n.indexOf(o,r);-1===c?(h=[],i.push([o,h]),n.push(o)):h=i[c][1],h.push(s)}),i},i.prototype.toArray=function(){return this.map(Function.identity)},i.prototype.vo=function(){var e={};return this.reduce(function(t,r,i){e[i]=r},void 0),e},i.prototype.filter=function(e){var t=arguments[1],r=this.de();return this.reduce(function(i,n,s,o,a){e.call(t,n,s,o,a)&&r.add(n,s)},void 0),r},i.prototype.every=function(e){var t=arguments[1];return this.reduce(function(r,i,n,s,o){return r&&e.call(t,i,n,s,o)},!0)},i.prototype.some=function(e){var t=arguments[1];return this.reduce(function(r,i,n,s,o){return r||e.call(t,i,n,s,o)},!1)},i.prototype.all=function(){return this.every(Boolean)},i.prototype.ht=function(){return this.some(Boolean)},i.prototype.min=function(e){e=e||this.yo||Object.mo;var t=!0;return this.reduce(function(r,i){return t?(t=!1,i):e(i,r)<0?i:r},void 0)},i.prototype.max=function(e){e=e||this.yo||Object.mo;var t=!0;return this.reduce(function(r,i){return t?(t=!1,i):e(i,r)>0?i:r},void 0)},i.prototype.Eo=function(e){return e=void 0===e?0:e,this.reduce(function(e,t){return e+t},e)},i.prototype.To=function(e){var t=void 0===e?0:e,r=void 0===e?0:e;return this.reduce(function(e,i){t+=i,r+=1},void 0),t/r},i.prototype.concat=function(){for(var e=this.de(this),t=0;t<arguments.length;t++)e.addEach(arguments[t]);return e},i.prototype.Io=function(){var e=this;return this.reduce(function(t,r){return r.forEach(function(e){this.push(e)},t,e),t},[])},i.prototype.wo=function(){var e=Array.prototype.slice.call(arguments);return e.unshift(this),Array.So(e)},i.prototype.join=function(e){return this.reduce(function(t,r){return void 0===t?r:t+e+r},void 0)},i.prototype.Ro=function(e,t,r){return e=e||this.yo||Object.mo,e.bo?(t=e.bo,e=e.mo||this.yo||Object.mo):t=t||Function.identity,void 0===r&&(r=1),this.map(function(e){return{bo:t(e),value:e}}).sort(function(t,i){return e(t.bo,i.bo)*r}).map(function(e){return e.value})},i.prototype.reversed=function(){return this.de(this).reverse()},i.prototype.clone=function(e,t){if(void 0===e)e=1/0;else if(0===e)return this;var r=this.de();return this.forEach(function(i,n){r.add(Object.clone(i,e-1,t),n)},this),r},i.prototype.only=function(){if(1===this.length)return this.Po()},i.prototype.iterator=function(){return this.Ao.apply(this,arguments)},i.fe={get:function(){return this.length},l:!1,u:!0},Object.defineProperty(i.prototype,"size",i.fe),r(60)},function(e,t,r){function i(){throw new Error("This is an abstract interface. Mix it. Don't construct it")}function n(e,t,r,i){var n,s,o,a=e.active,h=e.Co,c=h.length,u=c;for(a.length>c&&(a.length=c);c--;)a[c]=h[c];for(s=0;s<u;s++)if(o=a[s],!s||h.indexOf(o)>=0){if(n=o[e.ko]||o[e.Oo]||o,!n.call)throw new Error("No event listener for "+e._o+" or "+e.No+" or call on "+n);n.call(o,r,t,i)}}r(12);var s=Object.prototype.hasOwnProperty;e.t=i,i.debug=!0,i.prototype.Do=function(e){this.Fo||Object.defineProperty(this,"__propertyChangeListeners__",{value:{},l:!1,u:!0,Ui:!0});var t=this.Fo;if(!s.call(t,e)){var r=String(e);r=r&&r[0].toUpperCase()+r.slice(1),t[e]={Lo:{Co:[],active:[],ko:"handle"+r+"WillChange",Oo:"handlePropertyWillChange"},Mo:{Co:[],active:[],ko:"handle"+r+"Change",Oo:"handlePropertyChange"}}}return t[e]},i.prototype.Bo=function(e){if(!this.Fo)return!1;if(!e)return!0;var t=this.Fo;return!!s.call(t,e)},i.prototype.Uo=function(e,t,r){this.xo&&!this.Ho&&this.xo();var n,s=i.Do(this,e);n=r?s.Lo:s.Mo,i.qo(this,e),n.Co.push(t);var o=this;return function(){i.Vo(o,e,t,r),o=null}},i.prototype.jo=function(e,t){return i.Uo(this,e,t,!0)},i.prototype.Vo=function(e,t,r){var n,s=i.Do(this,e);n=r?s.Lo:s.Mo;var o=n.Co.lastIndexOf(t);if(-1===o)throw new Error("Can't remove property change listener: does not exist: property name"+JSON.stringify(e));n.Co.splice(o,1)},i.prototype.Go=function(e,t){return i.Vo(this,e,t,!0)},i.prototype.Qo=function(e,t,r){var s,o=i.Do(this,e);if(!o.ci){o.ci=!0,s=r?o.Lo:o.Mo;try{n(s,e,t,this)}finally{o.ci=!1}}},i.prototype.Ko=function(e,t){return i.Qo(this,e,t,!0)},i.prototype.qo=function(e){var t=this.Yo;if(t){if(s.call(t,e))return}else{if(Array.isArray(this))return;if(!Object.isExtensible(this))throw new Error("Can't make property "+JSON.stringify(e)+" observable on "+this+" because object is not extensible");t={},Object.defineProperty(this,"__overriddenPropertyDescriptors__",{value:t,l:!1,Ui:!0,u:!0})}var r;"object"==typeof this.zo?r=this.zo:(r={},Object.defineProperty(this,"__state__",{value:r,Ui:!0,l:!1})),r[e]=this[e];var i,o=this;do{if(i=Object.getOwnPropertyDescriptor(o,e))break;o=Object.getPrototypeOf(o)}while(o);if(i){if(!i.u)return;if(!i.Ui&&!i.set)return}else i={value:void 0,l:!0,Ui:!0,u:!0};t[e]=i;var a;a="value"in i?{get:function(){return i.value},set:function(t){var s,o;if(t!==i.value){if(s=this.Fo[e],!(o=s.ci)){s.ci=!0;try{n(s.Lo,e,i.value,this)}finally{}}if(i.value=t,r[e]=t,!o)try{n(s.Mo,e,t,this)}finally{s.ci=!1}}},l:i.l,u:!0}:{get:i.get,set:function(t){var s,o,a=this[e];if(i.set.call(this,t),(t=this[e])!==a){if(s=this.Fo[e],!(o=s.ci)){s.ci=!0;try{n(s.Lo,e,a,this)}finally{}}if(r[e]=t,!o)try{n(s.Mo,e,t,this)}finally{s.ci=!1}}},l:i.l,u:!0},Object.defineProperty(this,e,a)},i.Do=function(e,t){return e.Do?e.Do(t):i.prototype.Do.call(e,t)},i.Bo=function(e,t){return e.Bo?e.Bo(t):i.prototype.Bo.call(e,t)},i.Uo=function(e,t,r,n){if(Object.Jo(e))return e.Uo?e.Uo(t,r,n):i.prototype.Uo.call(e,t,r,n)},i.Vo=function(e,t,r,n){if(Object.Jo(e))return e.Vo?e.Vo(t,r,n):i.prototype.Vo.call(e,t,r,n)},i.Qo=function(e,t,r,n){if(Object.Jo(e))return e.Qo?e.Qo(t,r,n):i.prototype.Qo.call(e,t,r,n)},i.jo=function(e,t,r){return i.Uo(e,t,r,!0)},i.Go=function(e,t,r){return i.Vo(e,t,r,!0)},i.Ko=function(e,t,r){return i.Qo(e,t,r,!0)},i.qo=function(e,t){return e.qo?e.qo(t):i.prototype.qo.call(e,t)}},function(e,t,r){"use strict";!function(e){e.Wo="snapAccountingManager",e.Xo="membership",e.Zo="partnership",e.$o="inPartnership",e.ea="outPartnership",e.ta="inPrefetcherPartnership",e.ra="outPrefetcherPartnership",e.ia="cache",e.na="livecache",e.sa="vodcache",e.oa="objIndex",e.aa="centrFragment",e.ha="hcache",e.ca="responder",e.ua="requester",e.la="p2pRequester",e.pa="peer",e.fa="contextResolver",e.da="videoPrefetcher",e.ga="prefetchManager",e.va="picker",e.ya="trackerClient",e.ma="scoreUpdater",e.U="serverManager",e.Ea="requestTracker",e.Ta="trackerManager",e.Ia="renderStats",e.wa="udpBroadcaster",e.Sa="udpDiscovery",e.Ci="udpLeaderElection",e.Ra="nodeInfo",e.ba="ipspoofing"}(t.Pa||(t.Pa={}))},function(e,t){e.t=function(){return new Function}},function(e,t,r){"use strict";var i=!0,n={Aa:function(e){return"boolean"!=typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(i=e,e?"adapter.js logging disabled":"adapter.js logging enabled")},log:function(){if("object"==typeof window){if(i)return;"undefined"!=typeof console&&"function"==typeof console.log&&console.log.apply(console,arguments)}},Ca:function(e,t,r){var i=e.match(t);return i&&i.length>=r&&parseInt(i[r],10)},ka:function(){var e={};if(e.Oa=null,e.version=null,"undefined"==typeof window||!window.navigator)return e.Oa="Not a browser.",e;if(navigator.mozGetUserMedia)e.Oa="firefox",e.version=this.Ca(navigator.userAgent,/Firefox\/(\d+)\./,1);else if(navigator.webkitGetUserMedia)if(window.webkitRTCPeerConnection)e.Oa="chrome",e.version=this.Ca(navigator.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else{if(!navigator.userAgent.match(/Version\/(\d+).(\d+)/))return e.Oa="Unsupported webkit-based browser with GUM support but no WebRTC support.",e;e.Oa="safari",e.version=this.Ca(navigator.userAgent,/AppleWebKit\/(\d+)\./,1)}else if(navigator.mediaDevices&&navigator.userAgent.match(/Edge\/(\d+).(\d+)$/))e.Oa="edge",e.version=this.Ca(navigator.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!navigator.mediaDevices||!navigator.userAgent.match(/AppleWebKit\/(\d+)\./))return e.Oa="Not a supported browser.",e;e.Oa="safari",e.version=this.Ca(navigator.userAgent,/AppleWebKit\/(\d+)\./,1)}return e},_a:function(){if("object"==typeof window&&window.HTMLMediaElement&&"srcObject"in window.HTMLMediaElement.prototype){var e=URL.createObjectURL.bind(URL),t=URL.revokeObjectURL.bind(URL),r=new Map,i=0;URL.createObjectURL=function(t){if("getTracks"in t){var n="polyblob:"+ ++i;return r.set(n,t),console.log("URL.createObjectURL(stream) is deprecated! Use elem.srcObject = stream instead!"),n}return e(t)},URL.revokeObjectURL=function(e){t(e),r.delete(e)};var n=Object.getOwnPropertyDescriptor(window.HTMLMediaElement.prototype,"src");Object.defineProperty(window.HTMLMediaElement.prototype,"src",{get:function(){return n.get.apply(this)},set:function(e){return this.Na=r.get(e)||null,n.set.apply(this,[e])}});var s=HTMLMediaElement.prototype.setAttribute;HTMLMediaElement.prototype.setAttribute=function(){return 2===arguments.length&&"src"===(""+arguments[0]).toLowerCase()&&(this.Na=r.get(arguments[1])||null),s.apply(this,arguments)}}}};e.t={log:n.log,Aa:n.Aa,Da:n.ka(),Ca:n.Ca,_a:n._a,ka:n.ka.bind(n)}},function(e,t,r){"use strict";var i=this&&this.Ns||function(e,t){function r(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=r(7),s=r(51).Fa,o=r(2),a=r(0),h=r(9),c=r(24),u=r(21),l=r(8);!function(e){e.La="hive-client-track",e.Ma="trackevent",e.Ba="NULLID",e.Ua="";var t=function(){function e(){}return e}();t.xa=0,t.Ha=1,t.qa=2,t.Va=100,t.ja=200,e.Ga=t;!function(e){e[e.Qa=0]="PLAYING",e[e.Ka=1]="BUFFERING",e[e.Ya=2]="PAUSED",e[e.za=3]="SKIP",e[e.Ja=4]="STOPPED",e[e.ERROR=5]="ERROR",e[e.Wa=6]="WINDOW_SIZE",e[e.Xa=7]="FULLSCREEN",e[e.Za=8]="VISIBLE",e[e.HIDDEN=9]="HIDDEN"}(e.$a||(e.$a={}));!function(e){e[e.eh=0]="JAVA_NOT_REACHABLE",e[e.th=1]="JAVA_NOT_READY",e[e.rh=2]="JAVA_WRONG_VERSION",e[e.ih=3]="JAVA_SESSION_BUSY",e[e.nh=4]="JAVA_SESSION_ERROR",e[e.sh=5]="JAVA_TICKET_TIMEOUT"}(e.oh||(e.oh={}));var r=function(){function e(){}return e}();e.ah=r;var p=function(){function e(){}return e}();e.hh=p;var f=function(){function e(){}return e}();e.uh=f;var d=function(){function e(){this.type=t.qa}return e}(),g=function(){function e(){this.sessions=new Array}return e.prototype.lh=function(e,t){var r;this.sessions.forEach(function(t){t.sessionId==e&&(r=t)}),r||(r=new v,r.sessionId=e,this.sessions.push(r)),r.events.push(t)},e}();e.ph=g;var v=function(){function e(){this.events=new Array}return e}();e.fh=v;var y=function(){function t(){this.te=a.Framework.resolve(a.Framework.q.I).log(),this.dh=a.Framework.resolve(h.Qs.Us),this.gh=new Array,this.vh=new Array,this.yh=new Array}return t.prototype.mh=function(e){this.client=e},t.prototype.init=function(e,t){this.Eh=e,this.Th(t),this.te.debug("[TRACK] INIT ID: "+e)},t.prototype.Th=function(e,t){this.app=e,t&&(this.Ih=t)},t.prototype.wh=function(e){this.Sh=e},t.prototype.Rh=function(e){var t=new E(e,this);this.gh.push(t),this.bh=null,this.client.Ph(!0)},t.prototype.Tn=function(e,t,r){if(!this.bh)for(var i=0;i<this.gh.length;i++){var n=this.gh[i];if(n.ticket.sessionId===e){this.te.debug("[TRACK] Activating Track for session "+e),this.bh=n;break}}if(this.bh){if(this.bh.ticket.sessionId!=e)return void this.te.warn("[TRACK] ignoring manifest not matching event "+this.bh.ticket.sessionId+" != "+e);if(!this.bh.Ah){var s=new T(e,t,r);this.bh.Ch(s),this.client.Ph()}}},t.prototype.kh=function(e,t,r){null!=this.bh&&(this.bh.Ah||this.bh.Oh.push(new R(e,t,r)))},t.prototype._h=function(e,t,r){this.vh.push(new w(e,t,r)),this.client.Ph()},t.prototype.Nh=function(e,t,r){this.yh.push(new S(e,t,r)),this.client.Ph()},t.prototype.Dh=function(e){var t=this;e&&e.forEach(function(e){t.yh.push(e)})},t.prototype.Fh=function(){var e=new p;this.Ih?(e.partnerId=this.Ih.partnerId,e.customerId=this.Ih.customerId):l.HiveConfig.ClientInfo.Fs&&l.HiveConfig.ClientInfo.Ls?(e.partnerId=l.HiveConfig.ClientInfo.Fs,e.customerId=l.HiveConfig.ClientInfo.Ls):this.bh&&(e.partnerId=this.bh.ticket.Lh(),e.customerId=this.bh.ticket.Mh()),e.version=this.app.app+"_"+(this.Ih?this.Ih.version:this.app.version),this.Ih&&(e.installVersion=this.Ih.installVersion,e.installTs=this.Ih.installTs);var t=new s;return t.Bh(navigator.userAgent),e.os=t.Uh().name+" "+t.Uh().version,this.Sh&&(e.commVersion=this.Sh.commVersion,e.pluginName=this.Sh.pluginName,e.pluginVersion=this.Sh.pluginVersion,e.playerTech=this.Sh.playerTech,e.playerVersion=this.Sh.playerVersion,this.Sh.telemetryId&&(e.telemetryId=this.Sh.telemetryId)),e},t.prototype.xh=function(){return this.bh?this.bh:this.gh&&this.gh.length>0?this.gh[this.gh.length-1]:void 0},t.prototype.Hh=function(t){var i=this;if(void 0===t&&(t=!0),0==this.gh.length&&0==this.vh.length)return t?o.reject("nothing to send"):(this.te.debug("[TRACK]  NOTHING TO SEND"),null);var n=new r;n.app=e.La,n.createdAt=a.Framework.time(),n.guid=this.Eh,n.name=e.Ma;var s=this.xh();if(s){var h=s.ticket.qh().replace(/[\[\]]/g,"");n.tags=[h],n.tags.push(s.ticket.Lh()),n.tags.push(s.ticket.Mh())}else n.tags=new Array;var c=new g;if(c.peer=this.Fh(),this.gh.forEach(function(e){e.Ah||c.lh(e.ticket.sessionId,e)}),this.vh.forEach(function(e){c.lh(e.sessionId,e)}),this.yh.forEach(function(e){c.lh(e.sessionId,e)}),n.data=c,t)return this.dh.Vh().then(function(e){var t=i.jh(e);return c.lh("null",t),n}).fail(function(e){return n});var u=this.jh(this.dh.Gh());return c.lh("null",u),n},t.prototype.jh=function(e){var t=new d;t.ts=a.Framework.time();var r=e.Qh();return r.Kh()&&(t.pubIp=r.Kh()),r.Cs()&&(t.privIp=n._s.Cs(r)),e.Os()&&(t.hostname=n._s.ks(e)),r.Yh()&&(t.netmask=r.Yh()),r.zh()&&(t.nic=r.zh()),r.Jh()&&(t.nicName=r.Jh()),r.Wh()&&(t.mac=r.Wh()),t},t.prototype.Xh=function(){return this.Ih?this.Ih.userAgent:navigator.userAgent},t.prototype.reset=function(){this.gh=new Array,this.vh=new Array,this.yh=new Array},t.prototype.Zh=function(e){},t}();e.$h=y;var m=function(){function e(e){this.ec=isNaN(l.HiveConfig.DebugLogs.TrackSnapshotLogs)?0:l.HiveConfig.DebugLogs.TrackSnapshotLogs,this.tc=e,this.te=a.Framework.resolve(a.Framework.q.I).log(),this.client=a.Framework.resolve(h.Qs.H),this.tc.mh(this)}return e.prototype.Ph=function(e){void 0===e&&(e=!1);var t=e?c.nc.ic.rc:c.nc.ic.sc;if(this.oc){this.ac-(new Date).getTime()>t&&(a.Framework.clearTimeout(this.oc),this.ac=null,this.hc(t))}else this.hc(t)},e.prototype.cc=function(){this.oc&&(a.Framework.clearTimeout(this.oc),this.ac=this.oc=null)},e.prototype.hc=function(e){var t=this;this.oc=a.Framework.setTimeout(function(){t.uc()},e),this.ac=(new Date).getTime()+e},e.prototype.uc=function(e){var t=this;void 0===e&&(e=!0),this.oc=null,this.ac=null;var r=this.tc.Hh(e);e?(this.te.debug("[TRACK] TAKING A TRACK SNAPSHOT"),r.then(function(e){return t.forward(e)}).fail(function(e){t.te.debug("[TRACK]  ERROR GENERATING/SENDING THE TRACK SNAPSHOT: ",e)}).finally(function(){return t.tc.reset()}).done()):(this.te.debug("[TRACK] FLUSHING TRACK SNAPSHOT"),this.forward(r),this.tc.reset())},e.prototype.forward=function(e){if(this.client&&this.client.lc()&&e){var t=JSON.stringify(e);switch(this.ec){case 0:default:this.te.debug("[TRACK] TRACK EVENT");break;case 1:this.te.debug("[TRACK] TRACK EVENT:"+t)}var r=new u.pc(Services.fc,2,t);this.client.lc().send(r)}},e.prototype.dc=function(e){void 0===e&&(e=!0),e?(this.cc(),this.hc(c.nc.ic.gc)):this.uc(!1)},e}();e.vc=m;var E=function(){function e(e,t){this.createdAt=(new Date).getTime(),this.Ah=!1,this.ticket=e,this.manifests=new Array,this.Oh=new Array,this.tc=t}return e.prototype.Ch=function(e){this.manifests.push(e)},e.prototype.toJSON=function(){var e={};e.type=t.xa,e.ticket={},e.ticket.url=this.ticket.ticketUrl,e.ticket.reqTs=this.ticket.yc,e.ticket.respTs=this.ticket.mc,e.ticket.userAgent=this.tc.Xh(),e.manifests=[],this.manifests.forEach(function(t){var r={};r.url=t.url,r.respTs=t.mc,r.respCode=t.respCode,e.manifests.push(r)});var r=-1,i=-1,n=-1;return this.Oh.forEach(function(e){e.Ec>0&&(-1==r&&(r=e.ts,i=e.Ec),n=e.Ec)}),-1!=r&&(e.playTs=r),-1!=n&&(e.buffTime=n),-1!=i&&(e.initBuffTime=i),e},e}();e.Tc=E;var T=function(){function e(e,t,r){this.eventId=e,this.url=t,this.mc=(new Date).getTime(),this.respCode=r}return e}();e.Ic=T;var I=function(){function e(e,t,r,i){this.ts=(new Date).getTime(),this.sessionId=e,this.sessionId||(this.sessionId="null"),this.event=t,this.wc=r,i&&(this.ts=i)}return e.prototype.toJSON=function(){var e={};return e.type=this.Sc+this.event,e.ts=this.ts,this.wc&&(e.parameters=this.wc),e},e}();e.Rc=I;var w=function(e){function r(r,i,n,s){var o=e.call(this,r,i,n,s)||this;return o.Sc=t.Va,o}return i(r,e),r}(I);e.bc=w;var S=function(e){function r(r,i,n,s){var o=e.call(this,r,i,n,s)||this;return o.Sc=t.ja,o}return i(r,e),r}(I);e.Pc=S;var R=function(){function e(e,t,r){this.ts=(new Date).getTime(),this.Rs=e,this.Ac=t,this.Ec=r}return e}();e.Cc=R}(t.kc||(t.kc={}))},function(e,t,r){"use strict";var i=r(1),n=r(2),s=r(0),o=r(18),a=r(9),h=r(29);!function(e){e[e.IDLE=0]="IDLE",e[e.Oc=1]="PLAY"}(t._c||(t._c={}));var c=function(){function e(e,t,r,i){this.ticket=e,this.Nc=t,this.app=r,this.identity=i,this.Dc=s.Framework.resolve(a.Qs.Vs),this.Fc=s.Framework.resolve(a.Qs.Ms),this.tc=s.Framework.resolve(a.Qs.js),this.Lc=new o.kc.vc(this.tc)}return e.prototype.Th=function(e,t,r){this.app=new u(e,t),this.Dc.Th(this.app),this.tc.Th(this.app,r)},e.prototype.On=function(e){this.Fc.On(e)},e}();t.Mc=c;var u=function(){function e(e,t){this.app=e,this.version=t}return e}();t.Bc=u;var l=function(){function e(){this.Uc=null,this.xc=null,this.Hc=new i,this.te=s.Framework.resolve(s.Framework.q.I).log(),this.te.debug("INIT REPORTING"),this.Nc=s.Framework.resolve(a.Qs.H),this.qc=s.Framework.resolve(a.Qs.D),this.Vc=s.Framework.resolve(a.Qs.Bs)}return e.prototype.initSession=function(e,t){var r=this,i=n.defer(),s=this.qc.jc(),o=this.Vc.Gc(e);return null!=o?s.then(function(e){return r.Qc(e,o,i,t)}).fail(i.reject):i.reject("Ticket URL not valid"),i.Te},e.prototype.close=function(){this.Nc.close()},e.prototype.Qc=function(e,t,r,i){var n=this;this.Uc=e.Kc(),this.xc=e.Yc();var s=this.Nc.init(this.Uc,t),o=this.Vc.resolve(s.zc,t,i);s.Te.then(function(t){o.then(function(t){var i=t.sessionId;if(n.Hc.has(i)){var s=n.Hc.get(i);n.te.warn("SESSION ALREADY EXISTING "+s.Dc.ticket)}else{var o=new u(h.Hive.Jc(),h.Hive.getVersion()),a=new c(t,n.Nc,o,e);a.Dc.init(n.xc,t,o,i),a.tc.init(n.xc,o),a.tc.Rh(t),n.Hc.set(i,a),n.te.debug("SESSION SET ",i),r.resolve(a)}}).fail(function(e){return r.reject(e||"Error resolving the ticket")}),t.onerror(function(e){r.reject("Error establishing connection to Hive Services")})}).fail(function(e){return r.reject(e)}),this.Nc.connect()},e.prototype.Wc=function(e,t){return e.Xc()===t.Xc()&&e.Mh()===t.Mh()&&e.Lh()===t.Lh()},e}();t.Zc=l},function(e,t,r){"use strict";var i=r(38),n=r(49),s=r(39),o=r(5);o.Rt.Ti,o.Rt.Ei,o.Rt.Ii;if(void 0===a)var a=3e4;!function(e){!function(e){var t=function(){function e(){this.monitorPort=n.N.$c?s.tu.eu:s.tu.ru,this.playerPort=n.N.$c?s.tu.iu:s.tu.nu,this.feedbackPeriod=2e3,this.idleTimePeriod=6e4,this.useSessionCheck=n.N.su,this.debugLevel="notice",this.hiveTechOrder=[],this.telemetryId=null,this.silent=!1,this.loggerTimestamp=i.HiveConfig.Framework.LoggerTimestamp,this.pluginTimeout=a,this.onSourceSetCompleted=function(e){},this.onLoadingCompleted=function(e){},this.detectPrivateIP=o.Rt.Li}return e}();e.ou=t;var r=function(){function e(){this.initTimeout=3e4,this.onError=function(e){return!0},this.onActiveSession=function(e){}}return e}();e.au=r;var h=function(){function e(){this.hivePlayerPort="playerPort",this.hiveMonitorPort="monitorPort",this.hiveSilent="silent",this.hiveDebugLevel="debugLevel",this.hiveDebugTimestamp="loggerTimestamp",this.hiveSetupTimeout="setupTimeout",this.hiveJavaTimeout="initTimeout",this.hiveWarnJavaTimeout="warnSlowRespTimeout",this.hiveDetectPrivateIP="detectPrivateIP"}return e}();e.hu=h}(e.ou||(e.ou={}))}(t.gn||(t.gn={}));var h;!function(e){var t=function(){function e(){}return e}();t.enabledRUM=!1,t.enableKeyCombination=!0,t.enabledErrorFilter=!0,e.ErrorMonitor=t}(h=t.HiveConfig||(t.HiveConfig={})),"undefined"!=typeof window&&(void 0===window.HiveConfig&&(window.HiveConfig={}),window.HiveConfig.ErrorMonitor=h.ErrorMonitor)},function(e,t,r){"use strict";function i(){if(this.cu)return this.cu;var e=window&&window.window?window.window.uu:void 0;if(void 0!==e&&e.log&&e.debug&&e.info&&e.warn&&e.error&&(this.cu=e),!this.cu){var t=!(void 0===window.console),r=t?console.log.bind(console):function(){};this.cu={log:r,debug:t&&window.console.debug?window.console.debug.bind(console):r,info:t&&window.console.info?window.console.info.bind(console):r,warn:t&&window.console.warn?window.console.warn.bind(console):r,error:t&&window.console.error?window.console.error.bind(console):r}}return this.cu}t.mn="[HiveServices] ";var n=function(){function e(){}return e}();n.lu=250,t.N=n;var s=function(){function e(e,t,r){this.msgId=t,this.service=e,this.msg=r}return e.prototype.pu=function(){var e=new Uint8Array([this.service>>8,255&this.service]),t=new Uint8Array([this.msgId]),r=[e,t,this.msg];return new Blob(r,{type:"application/octet-binary"})},e.fu=function(t){var r=(String.fromCharCode.apply(null,new Uint8Array(t)),String.fromCharCode.apply(null,new Uint8Array(t.slice(3)))),i=new Uint8Array(t.slice(0,2)),n=new Uint8Array(t.slice(2,3));return new e((i[0]<<8)+i[1],n[0],r)},e}();t.pc=s,t.te=i},function(e,t,r){"use strict";var i=r(0),n=r(6);!function(e){e[e.du=0]="UPPER_LAYER",e[e.gu=1]="CDN",e[e.vu=2]="CDN_PREFETCH",e[e.yu=3]="CDN_COMPENSATION",e[e.mu=4]="P2P",e[e.Eu=5]="P2P_PREFETCH"}(t.Tu||(t.Tu={}));var s=function(){function e(){this.Iu=!1,this.wu=!1,this.Su=0,this.Ru=0,this.bu=0,this.Pu=0,this.Au=0,this.p2pAgenTrafficSuccessQt=0,this.Cu=0,this.srcOtherRespQt=0,this.ku=0,this.Ou=0,this._u=0,this.Nu=0,this.Du=0}return e}();t.Fu=s;var o=function(){function e(e,t,r,n,o){this.Lu=!1,this.type=void 0,this.Mu=new s,this.Bu=!1,this.Uu=!1,this.xu="",this.Hu=new ArrayBuffer(0),this.qu=0,this.type=r,this.Vu=e,this.ju=t,this.Gu=o,this.Qu=n,this.Mu.ku=i.Framework.time()}return e.prototype.Ku=function(){return this.type},e.prototype.Yu=function(){return this.Qu.Yu()},e.prototype.zu=function(){return this.Qu.zu()},e.prototype.Ju=function(){return this.zu()+"-"+this.ju},e.prototype.Wu=function(){return this.Qu.Xu()},e.prototype.Zu=function(){return this.Qu.$u()},e.prototype.loaded=function(){this.el=i.Framework.time()},e.prototype.tl=function(){return this.el?Math.max(1,this.el-this.Mu._u):Math.max(1,this.Mu.Nu-this.Mu._u)},e.prototype.rl=function(){return this.el?Math.max(1,this.el-this.Mu.Ou):Math.max(1,this.Mu.Nu-this.Mu.Ou)},e.prototype.il=function(){return 0!=this.Mu.Au?(new n.fn.Zi).Gi(this.tl(),this.Mu.Au):(new n.fn.Zi).Gi(this.rl(),this.Mu.Ru)},e}();t.nl=o},function(e,t,r){"use strict";var i=r(158),n=r(32),s=r(25),o=s.sl,a=r(2),h=r(0),c=r(160),u=r(166),l=r(3),p=r(6),f=r(1),d=r(15),g=r(4);!function(e){e.ol=!1;var t;!function(e){e[e.al=1]="Have",e[e.hl=2]="Chunk",e[e.Request=3]="Request",e[e.cl=4]="Cancel",e[e.ul=5]="Ack",e[e.ll=6]="Close",e[e.pl=7]="DoNotHave",e[e.fl=8]="OutPartRequest",e[e.dl=9]="OutPartResp",e[e.gl=10]="UDPHandshakeReq",e[e.vl=11]="UDPHandshakeResponse",e[e.yl=12]="UDPSwitchLeadershipRequest",e[e.ml=13]="UDPSwitchAck",e[e.El=14]="Bitrate",e[e.Tl=15]="Haves",e[e.hh=16]="PeerInfo",e[e.Il=17]="Ping",e[e.wl=18]="Pong",e[e.Sl=19]="NoPartnerResp"}(t=e.Rl||(e.Rl={}));var s=function(){function e(e){this.bl=new f,this.te=h.Framework.resolve(h.Framework.q.I).log(),this.Pl=e}return e.prototype.Al=function(e){try{var t=null,r=h.Framework.resolve(d.Pa.pa),i=r.Cl(e);return null==i?(this.te.warn("MSG RECEIVED FROM UNKNOWN SWARM"),null):(t=new c.kl(i,this.Pl.Ol,this.Pl._l,this.Pl),this.bl.has(e)||this.bl.set(e,t),this.bl.get(e))}catch(e){g.ErrorMonitor.gi().di("New dispatcher failed",{error:e})}},e.prototype.Nl=function(e){this.bl.delete(e)},e.prototype.Dl=function(e){return this.bl.get(e)},e}();e.Fl=s;var v=function(){function r(){this.Ll=null,this.Ml=h.Framework.resolve(h.Framework.q.I),this.Bl=new s(this),this.li=r.Ul++,this.xl=h.Framework.time()}return r.prototype.init=function(e,t){this.Ol=e,this._l=t,this.Hl=h.Framework.resolve(h.Framework.q.F)},r.prototype.ql=function(){var e=!1;return this.Bl.bl.forEach(function(t,r){(t.sender.ql()||t.receiver.ql())&&(e=!0)}),e},r.prototype.reset=function(){this.Bl.bl.forEach(function(e,t){e.sender.Vl()})},r.prototype.close=function(e){return this.Bl.Nl(e),0==this.Bl.bl.length&&this.Hl.disconnect(this._l),a("ok")},r.prototype.jl=function(r,i,s){try{this.xl=h.Framework.time();var a=s.pn(),c=a.byteLength,u=o.Ql.Gl.create(a),p=o.Kl(u),f=new n;f.Yl(r),f.zl(i),f.Yl(c),f.zl(p.toString()),f.append(a),f.Jl();var d=f.pn(),v=r===t.hl&&h.Framework.S()?d.byteLength+l.ni.Mr.Nr:d.byteLength;e.ol&&this.Ml.log(i).debug(this.li+" SEND MSG ID "+r+","+v+" HASH "+p.toString()+" TO "+this._l)}catch(e){g.ErrorMonitor.gi().di("ERROR CONSTRUCTING MESSAGE TO PEER","S["+i+"]",{msg:s,_l:this._l})}try{this.Hl.send(this._l,d,v)||this.Ml.log().warn("dropped msg: "+e.Rl[r]+" to "+this._l)}catch(e){this.Ml.log(i).warn("ERROR SENDING MESSAGE TO "+this._l+" "+e.stack)}},r.prototype.Wl=function(i){var s=this;e.ol&&this.Ml.log().debug(this.li+" GOT MSG "+i.byteLength);try{var a=h.Framework.time();this.xl=a,this.Xl(i).then(function(c){if(e.ol&&s.Ml.log().debug(s.li+" RECEIVING "+c.byteLength+" after "+(h.Framework.time()-a)),c.byteLength>r.Zl)throw new RangeError("P2P Message too big to be processed");var l=s.Ll;if(null===l){var f=n.wrap(c),d=f.$l();if(e.ol&&s.Ml.log().debug("MSG ID "+d),d>Object.keys(t).length)return s.Ml.log().warn("MSG OF WRONG ID RECEIVED: "+d),void(s.Ll=null);if(l=s.Ll=new u.ep,l.msgId=d,l.swarmId=f.tp(),l.length=f.$l(),l.hash=f.tp(),l.rp=f.pn(),l.length>r.Zl)throw new RangeError("P2P Message too big to be processed");e.ol&&s.Ml.log(l.swarmId).debug("MSG ID "+l.msgId+" L "+l.length+" SWID "+l.swarmId+" H "+l.hash+" TR "+l.rp.byteLength)}else{if(e.ol&&s.Ml.log().debug("APPENDING TO P2P MESSAGE "+l.msgId),null!=l.rp.byteLength&&l.rp.byteLength>r.Zl)throw new RangeError("P2P Message too big to be processed");l.rp=p.fn.appendBuffer(l.rp,i)}if(l.rp.byteLength===l.length){var g=o.Ql.Gl.create(l.rp);if(o.Kl(g).toString()!==l.hash){return void s.Ml.log(l.swarmId).warn(" INTEGRITY CHECK FAILED ")}var v=s.Bl.Dl(l.swarmId);v||(v=s.Bl.Al(l.swarmId),s.Ml.log(l.swarmId).debug("CREATED NEW DISPATCHER FOR "+s._l)),v.Ae(l),l.rp=null,s.Ll=null}})}catch(e){g.ErrorMonitor.gi().di("ERROR RECEIVING MESSAGE",{error:e}),this.Ll=null}},r.prototype.Xl=function(e){var t=!h.Framework.S()&&navigator.userAgent.toLowerCase().indexOf("firefox")>-1,r=a.defer();if(t){var i=new FileReader;i.onload=function(t){e=this.result,r.resolve(e)},i.onerror=r.reject,i.readAsArrayBuffer(e)}else r.resolve(e);return r.Te},r.prototype.ip=function(){return this.xl},r}();v.np=i.op(r(167)).sp("HiveMsgs"),v.Ul=0,v.Zl=136+Math.ceil(1.2*l.ni.Mr.Nr),e.Mr=v}(t.mu||(t.mu={}))},function(e,t,r){"use strict";var i=r(5);!function(e){e.bi=i.Rt.bi,e.Mi=i.Rt.Mi;var t=function(){function e(){}return e}();t.ap="wss://bee.hivestreaming.com:443/v1/hivejs",t.hp="wss://bee-test.hivestreaming.com:443/v1/hivejs",t.cp={iceServers:[{url:"stun:stun.hivestreaming.com:3478"}]},t.up=3e4,t.sc=3e5,t.rc=8e4,t.gc=1e3,t.lp=3e4,t.pp=100,t.fp=1e4,e.ic=t}(t.nc||(t.nc={}))},function(e,t){function r(e,t,r){null!=e&&("number"==typeof e?this.dp(e,t,r):null==t&&"string"!=typeof e?this.gp(e,256):this.gp(e,t))}function i(){return new r(null)}function n(e,t,r,i,n,s){for(;--s>=0;){var o=t*this[e++]+r[i]+n;n=Math.floor(o/67108864),r[i++]=67108863&o}return n}function s(e,t,r,i,n,s){for(var o=32767&t,a=t>>15;--s>=0;){var h=32767&this[e],c=this[e++]>>15,u=a*h+c*o;h=o*h+((32767&u)<<15)+r[i]+(1073741823&n),n=(h>>>30)+(u>>>15)+a*c+(n>>>30),r[i++]=1073741823&h}return n}function o(e,t,r,i,n,s){for(var o=16383&t,a=t>>14;--s>=0;){var h=16383&this[e],c=this[e++]>>14,u=a*h+c*o;h=o*h+((16383&u)<<14)+r[i]+n,n=(h>>28)+(u>>14)+a*c,r[i++]=268435455&h}return n}function a(e){return Pe.charAt(e)}function h(e,t){var r=Ae[e.charCodeAt(t)];return null==r?-1:r}function c(e){for(var t=this.vp-1;t>=0;--t)e[t]=this[t];e.vp=this.vp,e.v=this.v}function u(e){this.vp=1,this.v=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.yp:this.vp=0}function l(e){var t=i();return t.mp(e),t}function p(e,t){var i;if(16==t)i=4;else if(8==t)i=3;else if(256==t)i=8;else if(2==t)i=1;else if(32==t)i=5;else{if(4!=t)return void this.Ep(e,t);i=2}this.vp=0,this.v=0;for(var n=e.length,s=!1,o=0;--n>=0;){var a=8==i?255&e[n]:h(e,n);a<0?"-"==e.charAt(n)&&(s=!0):(s=!1,0==o?this[this.vp++]=a:o+i>this.Tp?(this[this.vp-1]|=(a&(1<<this.Tp-o)-1)<<o,this[this.vp++]=a>>this.Tp-o):this[this.vp-1]|=a<<o,(o+=i)>=this.Tp&&(o-=this.Tp))}8==i&&0!=(128&e[0])&&(this.v=-1,o>0&&(this[this.vp-1]|=(1<<this.Tp-o)-1<<o)),this.Ip(),s&&r.ZERO.wp(this,this)}function f(){for(var e=this.v&this.Sp;this.vp>0&&this[this.vp-1]==e;)--this.vp}function d(e){if(this.v<0)return"-"+this.Rp().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.bp(e);t=2}var r,i=(1<<t)-1,n=!1,s="",o=this.vp,h=this.Tp-o*this.Tp%t;if(o-- >0)for(h<this.Tp&&(r=this[o]>>h)>0&&(n=!0,s=a(r));o>=0;)h<t?(r=(this[o]&(1<<h)-1)<<t-h,r|=this[--o]>>(h+=this.Tp-t)):(r=this[o]>>(h-=t)&i,h<=0&&(h+=this.Tp,--o)),r>0&&(n=!0),n&&(s+=a(r));return n?s:"0"}function g(){var e=i();return r.ZERO.wp(this,e),e}function v(){return this.v<0?this.Rp():this}function y(e){var t=this.v-e.v;if(0!=t)return t;var r=this.vp;if(0!=(t=r-e.vp))return this.v<0?-t:t;for(;--r>=0;)if(0!=(t=this[r]-e[r]))return t;return 0}function m(e){var t,r=1;return 0!=(t=e>>>16)&&(e=t,r+=16),0!=(t=e>>8)&&(e=t,r+=8),0!=(t=e>>4)&&(e=t,r+=4),0!=(t=e>>2)&&(e=t,r+=2),0!=(t=e>>1)&&(e=t,r+=1),r}function E(){return this.vp<=0?0:this.Tp*(this.vp-1)+m(this[this.vp-1]^this.v&this.Sp)}function T(e,t){var r;for(r=this.vp-1;r>=0;--r)t[r+e]=this[r];for(r=e-1;r>=0;--r)t[r]=0;t.vp=this.vp+e,t.v=this.v}function I(e,t){for(var r=e;r<this.vp;++r)t[r-e]=this[r];t.vp=Math.max(this.vp-e,0),t.v=this.v}function w(e,t){var r,i=e%this.Tp,n=this.Tp-i,s=(1<<n)-1,o=Math.floor(e/this.Tp),a=this.v<<i&this.Sp;for(r=this.vp-1;r>=0;--r)t[r+o+1]=this[r]>>n|a,a=(this[r]&s)<<i;for(r=o-1;r>=0;--r)t[r]=0;t[o]=a,t.vp=this.vp+o+1,t.v=this.v,t.Ip()}function S(e,t){t.v=this.v;var r=Math.floor(e/this.Tp);if(r>=this.vp)return void(t.vp=0);var i=e%this.Tp,n=this.Tp-i,s=(1<<i)-1;t[0]=this[r]>>i;for(var o=r+1;o<this.vp;++o)t[o-r-1]|=(this[o]&s)<<n,t[o-r]=this[o]>>i;i>0&&(t[this.vp-r-1]|=(this.v&s)<<n),t.vp=this.vp-r,t.Ip()}function R(e,t){for(var r=0,i=0,n=Math.min(e.vp,this.vp);r<n;)i+=this[r]-e[r],t[r++]=i&this.Sp,i>>=this.Tp;if(e.vp<this.vp){for(i-=e.v;r<this.vp;)i+=this[r],t[r++]=i&this.Sp,i>>=this.Tp;i+=this.v}else{for(i+=this.v;r<e.vp;)i-=e[r],t[r++]=i&this.Sp,i>>=this.Tp;i-=e.v}t.v=i<0?-1:0,i<-1?t[r++]=this.yp+i:i>0&&(t[r++]=i),t.vp=r,t.Ip()}function b(e,t){var i=this.abs(),n=e.abs(),s=i.vp;for(t.vp=s+n.vp;--s>=0;)t[s]=0;for(s=0;s<n.vp;++s)t[s+i.vp]=i.Pp(0,n[s],t,s,0,i.vp);t.v=0,t.Ip(),this.v!=e.v&&r.ZERO.wp(t,t)}function P(e){for(var t=this.abs(),r=e.vp=2*t.vp;--r>=0;)e[r]=0;for(r=0;r<t.vp-1;++r){var i=t.Pp(r,t[r],e,2*r,0,1);(e[r+t.vp]+=t.Pp(r+1,2*t[r],e,2*r+1,i,t.vp-r-1))>=t.yp&&(e[r+t.vp]-=t.yp,e[r+t.vp+1]=1)}e.vp>0&&(e[e.vp-1]+=t.Pp(r,t[r],e,2*r,0,1)),e.v=0,e.Ip()}function A(e,t,n){var s=e.abs();if(!(s.vp<=0)){var o=this.abs();if(o.vp<s.vp)return null!=t&&t.mp(0),void(null!=n&&this.Ap(n));null==n&&(n=i());var a=i(),h=this.v,c=e.v,u=this.Tp-m(s[s.vp-1]);u>0?(s.Cp(u,a),o.Cp(u,n)):(s.Ap(a),o.Ap(n));var l=a.vp,p=a[l-1];if(0!=p){var f=p*(1<<this.kp)+(l>1?a[l-2]>>this.Op:0),d=this._p/f,g=(1<<this.kp)/f,v=1<<this.Op,y=n.vp,E=y-l,T=null==t?i():t;for(a.Np(E,T),n.Dp(T)>=0&&(n[n.vp++]=1,n.wp(T,n)),r.ONE.Np(l,T),T.wp(a,a);a.vp<l;)a[a.vp++]=0;for(;--E>=0;){var I=n[--y]==p?this.Sp:Math.floor(n[y]*d+(n[y-1]+v)*g);if((n[y]+=a.Pp(0,I,n,E,0,l))<I)for(a.Np(E,T),n.wp(T,n);n[y]<--I;)n.wp(T,n)}null!=t&&(n.Fp(l,t),h!=c&&r.ZERO.wp(t,t)),n.vp=l,n.Ip(),u>0&&n.Lp(u,n),h<0&&r.ZERO.wp(n,n)}}}function C(e){var t=i();return this.abs().Mp(e,null,t),this.v<0&&t.Dp(r.ZERO)>0&&e.wp(t,t),t}function k(e){this.o=e}function O(e){return e.v<0||e.Dp(this.o)>=0?e.Bp(this.o):e}function _(e){return e}function N(e){e.Mp(this.o,null,e)}function D(e,t,r){e.Up(t,r),this.reduce(r)}function F(e,t){e.xp(t),this.reduce(t)}function L(){if(this.vp<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return t=t*(2-(15&e)*t)&15,t=t*(2-(255&e)*t)&255,t=t*(2-((65535&e)*t&65535))&65535,t=t*(2-e*t%this.yp)%this.yp,t>0?this.yp-t:-t}function M(e){this.o=e,this.Hp=e.qp(),this.Vp=32767&this.Hp,this.jp=this.Hp>>15,this.Gp=(1<<e.Tp-15)-1,this.Qp=2*e.vp}function B(e){var t=i();return e.abs().Np(this.o.vp,t),t.Mp(this.o,null,t),e.v<0&&t.Dp(r.ZERO)>0&&this.o.wp(t,t),t}function U(e){var t=i();return e.Ap(t),this.reduce(t),t}function x(e){for(;e.vp<=this.Qp;)e[e.vp++]=0;for(var t=0;t<this.o.vp;++t){var r=32767&e[t],i=r*this.Vp+((r*this.jp+(e[t]>>15)*this.Vp&this.Gp)<<15)&e.Sp;for(r=t+this.o.vp,e[r]+=this.o.Pp(0,i,e,t,0,this.o.vp);e[r]>=e.yp;)e[r]-=e.yp,e[++r]++}e.Ip(),e.Fp(this.o.vp,e),e.Dp(this.o)>=0&&e.wp(this.o,e)}function H(e,t){e.xp(t),this.reduce(t)}function q(e,t,r){e.Up(t,r),this.reduce(r)}function V(){return 0==(this.vp>0?1&this[0]:this.v)}function j(e,t){if(e>4294967295||e<1)return r.ONE;var n=i(),s=i(),o=t.Kp(this),a=m(e)-1;for(o.Ap(n);--a>=0;)if(t.Yp(n,s),(e&1<<a)>0)t.zp(s,o,n);else{var h=n;n=s,s=h}return t.Jp(n)}function G(e,t){var r;return r=e<256||t.Wp()?new k(t):new M(t),this.exp(e,r)}function Q(e){var t,r,i,n="",s=0;for(t=0;t<e.length&&e.charAt(t)!=ke;++t)(i=Ce.indexOf(e.charAt(t)))<0||(0==s?(n+=a(i>>2),r=3&i,s=1):1==s?(n+=a(r<<2|i>>4),r=15&i,s=2):2==s?(n+=a(r),n+=a(i>>2),r=3&i,s=3):(n+=a(r<<2|i>>4),n+=a(15&i),s=0));return 1==s&&(n+=a(r<<2)),n}function K(e){var t,r=Q(e),i=new Array;for(t=0;2*t<r.length;++t)i[t]=parseInt(r.substring(2*t,2*t+2),16);return i}/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */
function Y(e,t){return new r(e,t)}function z(e,t){if(t<e.length+11)return alert("Message too long for RSA"),null;for(var i=new Array,n=e.length-1;n>=0&&t>0;){var s=e.charCodeAt(n--);s<128?i[--t]=s:s>127&&s<2048?(i[--t]=63&s|128,i[--t]=s>>6|192):(i[--t]=63&s|128,i[--t]=s>>6&63|128,i[--t]=s>>12|224)}i[--t]=0;for(var o=new SecureRandom,a=new Array;t>2;){for(a[0]=0;0==a[0];)o.Xp(a);i[--t]=a[0]}return i[--t]=2,i[--t]=0,new r(i)}function J(e,t,r){for(var i="",n=0;i.length<t;)i+=r(String.fromCharCode.apply(String,e.concat([(4278190080&n)>>24,(16711680&n)>>16,(65280&n)>>8,255&n]))),n+=1;return i}function W(e,t,i){if(e.length+2*Oe+2>t)throw"Message too long for RSA";var n,s="";for(n=0;n<t-e.length-2*Oe-2;n+=1)s+="\0";var o=rstr_sha1("")+s+""+e,a=new Array(Oe);(new SecureRandom).Xp(a);var h=J(a,o.length,i||rstr_sha1),c=[];for(n=0;n<o.length;n+=1)c[n]=o.charCodeAt(n)^h.charCodeAt(n);var u=J(c,a.length,rstr_sha1),l=[0];for(n=0;n<a.length;n+=1)l[n+1]=a[n]^u.charCodeAt(n);return new r(l.concat(c))}function X(){this.n=null,this.e=0,this.d=null,this.g=null,this.Zp=null,this.$p=null,this.ef=null,this.tf=null}function Z(e,t){this.rf=!0,"string"!=typeof e?(this.n=e,this.e=t):null!=e&&null!=t&&e.length>0&&t.length>0?(this.n=Y(e,16),this.e=parseInt(t,16)):alert("Invalid RSA public key")}function $(e){return e.if(this.e,this.n)}function ee(e){var t=z(e,this.n.nf()+7>>3);if(null==t)return null;var r=this.sf(t);if(null==r)return null;var i=r.toString(16);return 0==(1&i.length)?i:"0"+i}function te(e,t){var r=W(e,this.n.nf()+7>>3,t);if(null==r)return null;var i=this.sf(r);if(null==i)return null;var n=i.toString(16);return 0==(1&n.length)?n:"0"+n}function re(e,t){for(var r="",i=t/4-e.length,n=0;n<i;n++)r+="0";return r+e}function ie(e,t){var r=function(e){return KJUR.crypto.hf.af(e,t)}(e);return this.cf(r,t)}function ne(e,t){var r=KJUR.crypto.hf.uf(e,t,this.n.nf()),i=Y(r,16);return re(this.lf(i).toString(16),this.n.nf())}function se(e){return ie.call(this,e,"sha1")}function oe(e){return ie.call(this,e,"sha256")}function ae(e,t,r){for(var i="",n=0;i.length<t;)i+=hextorstr(r(rstrtohex(e+String.fromCharCode.apply(String,[(4278190080&n)>>24,(16711680&n)>>16,(65280&n)>>8,255&n])))),n+=1;return i}function he(e,t,r){var i=function(e){return KJUR.crypto.hf.pf(e,t)}(rstrtohex(e));return void 0===r&&(r=-1),this.ff(i,t,r)}function ce(e,t,i){var n,s=hextorstr(e),o=s.length,a=this.n.nf()-1,h=Math.ceil(a/8),c=function(e){return KJUR.crypto.hf.pf(e,t)};if(-1===i||void 0===i)i=o;else if(-2===i)i=h-o-2;else if(i<-2)throw"invalid salt length";if(h<o+i+2)throw"data too long";var u="";i>0&&(u=new Array(i),(new SecureRandom).Xp(u),u=String.fromCharCode.apply(String,u));var l=hextorstr(c(rstrtohex("\0\0\0\0\0\0\0\0"+s+u))),p=[];for(n=0;n<h-i-o-2;n+=1)p[n]=0;var f=String.fromCharCode.apply(String,p)+""+u,d=ae(l,f.length,c),g=[];for(n=0;n<f.length;n+=1)g[n]=f.charCodeAt(n)^d.charCodeAt(n);var v=65280>>8*h-a&255;for(g[0]&=~v,n=0;n<o;n++)g.push(l.charCodeAt(n));return g.push(188),re(this.lf(new r(g)).toString(16),this.n.nf())}function ue(e,t,r){var i=new X;return i.df(t,r),i.sf(e)}function le(e,t,r){return ue(e,t,r).toString(16).replace(/^1f+00/,"")}function pe(e){for(var t in KJUR.crypto.hf.gf){var r=KJUR.crypto.hf.gf[t],i=r.length;if(e.substring(0,i)==r){return[t,e.substring(i)]}}return[]}function fe(e,t,r,i){var n=le(t,r,i),s=pe(n);if(0==s.length)return!1;var o=s[0],a=s[1];return a==function(e){return KJUR.crypto.hf.af(e,o)}(e)}function de(e,t){return fe(t,Y(e,16),this.n.toString(16),this.e.toString(16))}function ge(e,t){t=t.replace(_e,""),t=t.replace(/[ \n]+/g,"");var r=Y(t,16);if(r.nf()>this.n.nf())return 0;var i=this.sf(r),n=i.toString(16).replace(/^1f+00/,""),s=pe(n);if(0==s.length)return!1;var o=s[0],a=s[1];return a==function(e){return KJUR.crypto.hf.af(e,o)}(e)}function ve(e,t){t=t.replace(_e,""),t=t.replace(/[ \n]+/g,"");var r=Y(t,16);if(r.nf()>this.n.nf())return 0;var i=this.sf(r),n=i.toString(16).replace(/^1f+00/,""),s=pe(n);if(0==s.length)return!1;s[0];return s[1]==e}function ye(e,t,r,i){var n=function(e){return KJUR.crypto.hf.pf(e,r)}(rstrtohex(e));return void 0===i&&(i=-1),this.vf(n,t,r,i)}function me(e,t,i,n){var s=new r(t,16);if(s.nf()>this.n.nf())return!1;var o,a=function(e){return KJUR.crypto.hf.pf(e,i)},h=hextorstr(e),c=h.length,u=this.n.nf()-1,l=Math.ceil(u/8);if(-1===n||void 0===n)n=c;else if(-2===n)n=l-c-2;else if(n<-2)throw"invalid salt length";if(l<c+n+2)throw"data too long";var p=this.sf(s).yf();for(o=0;o<p.length;o+=1)p[o]&=255;for(;p.length<l;)p.unshift(0);if(188!==p[l-1])throw"encoded message does not end in 0xbc";p=String.fromCharCode.apply(String,p);var f=p.substr(0,l-c-1),d=p.substr(f.length,c),g=65280>>8*l-u&255;if(0!=(f.charCodeAt(0)&g))throw"bits beyond keysize not zero";var v=ae(d,f.length,a),y=[];for(o=0;o<f.length;o+=1)y[o]=f.charCodeAt(o)^v.charCodeAt(o);y[0]&=~g;var m=l-c-n-2;for(o=0;o<m;o+=1)if(0!==y[o])throw"leftmost octets not zero";if(1!==y[m])throw"0x01 marker not found";return d===hextorstr(a(rstrtohex("\0\0\0\0\0\0\0\0"+h+String.fromCharCode.apply(String,y.slice(-n)))))}var Ee={};Ee.userAgent=!1;var Te={};if(void 0===Ie||!Ie)var Ie={};Ie.mf=function(){var e,t,r,i=arguments,n=null;for(e=0;e<i.length;e+=1)for(r=(""+i[e]).split("."),n=Ie,t="YAHOO"==r[0]?1:0;t<r.length;t+=1)n[r[t]]=n[r[t]]||{},n=n[r[t]];return n},Ie.log=function(e,t,r){var i=Ie.Tf.Ef;return!(!i||!i.log)&&i.log(e,t,r)},Ie.register=function(e,t,r){var i,n,s,o,a,h=Ie.De.If;for(h[e]||(h[e]={wf:[],Sf:[]}),i=h[e],n=r.version,s=r.sp,o=Ie.De.ss,i.name=e,i.version=n,i.sp=s,i.wf.push(n),i.Sf.push(s),i.Rf=t,a=0;a<o.length;a+=1)o[a](i);t?(t.VERSION=n,t.bf=s):Ie.log("mainClass is undefined for module "+e,"warn")},Ie.De=Ie.De||{If:[],ss:[]},Ie.De.getVersion=function(e){return Ie.De.If[e]||null},Ie.De.Pf=function(e){var t,r=function(e){var t=0;return parseFloat(e.replace(/\./g,function(){return 1==t++?"":"."}))},i=Ee,n={Af:0,opera:0,Cf:0,kf:0,chrome:0,Of:null,_f:0,Nf:0,Df:0,Ff:0,Lf:null,Mf:0,Bf:0,Uf:i&&i.xf,Hf:!1,os:null},s=e||Ee&&Ee.userAgent,o=Te&&Te.location,a=o&&o.href;return n.Hf=a&&0===a.toLowerCase().indexOf("https"),s&&(/windows|win32/i.test(s)?n.os="windows":/macintosh/i.test(s)?n.os="macintosh":/rhino/i.test(s)&&(n.os="rhino"),/KHTML/.test(s)&&(n.kf=1),t=s.match(/AppleWebKit\/([^\s]*)/),t&&t[1]&&(n.kf=r(t[1]),/ Mobile\//.test(s)?(n.Of="Apple",t=s.match(/OS ([^\s]*)/),t&&t[1]&&(t=r(t[1].replace("_","."))),n.Lf=t,n.Nf=n.Ff=n.Df=0,(t=s.match(/iPad|iPod|iPhone/))&&t[0]&&(n[t[0].toLowerCase()]=n.Lf)):(t=s.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/),t&&(n.Of=t[0]),/webOS/.test(s)&&(n.Of="WebOS",(t=s.match(/webOS\/([^\s]*);/))&&t[1]&&(n.Bf=r(t[1]))),/ Android/.test(s)&&(n.Of="Android",(t=s.match(/Android ([^\s]*);/))&&t[1]&&(n.Mf=r(t[1])))),t=s.match(/Chrome\/([^\s]*)/),t&&t[1]?n.chrome=r(t[1]):(t=s.match(/AdobeAIR\/([^\s]*)/))&&(n._f=t[0])),n.kf||(t=s.match(/Opera[\s\/]([^\s]*)/),t&&t[1]?(n.opera=r(t[1]),t=s.match(/Version\/([^\s]*)/),t&&t[1]&&(n.opera=r(t[1])),(t=s.match(/Opera Mini[^;]*/))&&(n.Of=t[0])):(t=s.match(/MSIE\s([^;]*)/),t&&t[1]?n.Af=r(t[1]):(t=s.match(/Gecko\/([^\s]*)/))&&(n.Cf=1,(t=s.match(/rv:([^\s\)]*)/))&&t[1]&&(n.Cf=r(t[1])))))),n},Ie.De.qf=Ie.De.Pf(),function(){if(Ie.mf("util","widget","example"),"undefined"!=typeof YAHOO_config){var e,t=YAHOO_config.listener,r=Ie.De.ss,i=!0;if(t){for(e=0;e<r.length;e++)if(r[e]==t){i=!1;break}i&&r.push(t)}}}(),Ie.lang=Ie.lang||{},function(){var e=Ie.lang,t=Object.prototype,r=[],i={Vf:"&amp;",jf:"&lt;",Gf:"&gt;",Qf:"&quot;",Kf:"&#x27;",Yf:"&#x2F;",zf:"&#x60;"},n=["toString","valueOf"],s={isArray:function(e){return"[object Array]"===t.toString.apply(e)},Jf:function(e){return"boolean"==typeof e},Wf:function(e){return"function"==typeof e||"[object Function]"===t.toString.apply(e)},Xf:function(e){return null===e},Zf:function(e){return"number"==typeof e&&isFinite(e)},Jo:function(t){return t&&("object"==typeof t||e.Wf(t))||!1},$f:function(e){return"string"==typeof e},td:function(e){return void 0===e},rd:Ie.De.qf.Af?function(r,i){var s,o,a;for(s=0;s<n.length;s+=1)o=n[s],a=i[o],e.Wf(a)&&a!=t[o]&&(r[o]=a)}:function(){},nd:function(e){return e.replace(/[&<>"'\/`]/g,function(e){return i[e]})},extend:function(r,i,n){if(!i||!r)throw new Error("extend failed, please check that all dependencies are included.");var s,o=function(){};if(o.prototype=i.prototype,r.prototype=new o,r.prototype.constructor=r,r.sd=i.prototype,i.prototype.constructor==t.constructor&&(i.prototype.constructor=i),n){for(s in n)e.hasOwnProperty(n,s)&&(r.prototype[s]=n[s]);e.rd(r.prototype,n)}},od:function(t,r){if(!r||!t)throw new Error("Absorb failed, verify dependencies.");var i,n,s=arguments,o=s[2];if(o&&!0!==o)for(i=2;i<s.length;i+=1)t[s[i]]=r[s[i]];else{for(n in r)!o&&n in t||(t[n]=r[n]);e.rd(t,r)}return t},ad:function(t,r){if(!r||!t)throw new Error("Augment failed, verify dependencies.");var i,n=[t.prototype,r.prototype];for(i=2;i<arguments.length;i+=1)n.push(arguments[i]);return e.od.apply(this,n),t},dump:function(t,r){var i,n,s=[],o="{...}";if(!e.Jo(t))return t+"";if(t instanceof Date||"nodeType"in t&&"tagName"in t)return t;if(e.Wf(t))return"f(){...}";if(r=e.Zf(r)?r:3,e.isArray(t)){for(s.push("["),i=0,n=t.length;i<n;i+=1)e.Jo(t[i])?s.push(r>0?e.dump(t[i],r-1):o):s.push(t[i]),s.push(", ");s.length>1&&s.pop(),s.push("]")}else{s.push("{");for(i in t)e.hasOwnProperty(t,i)&&(s.push(i+" => "),e.Jo(t[i])?s.push(r>0?e.dump(t[i],r-1):o):s.push(t[i]),s.push(", "));s.length>1&&s.pop(),s.push("}")}return s.join("")},hd:function(t,r,i,n){for(var s,o,a,h,c,u,l,p,f,d=[],g=t.length;!((s=t.lastIndexOf("{",g))<0)&&(o=t.indexOf("}",s),!(s+1>o));)l=t.substring(s+1,o),h=l,u=null,a=h.indexOf(" "),a>-1&&(u=h.substring(a+1),h=h.substring(0,a)),c=r[h],i&&(c=i(h,c,u)),e.Jo(c)?e.isArray(c)?c=e.dump(c,parseInt(u,10)):(u=u||"",p=u.indexOf("dump"),p>-1&&(u=u.substring(4)),f=c.toString(),c="[object Object]"===f||p>-1?e.dump(c,parseInt(u,10)):f):e.$f(c)||e.Zf(c)||(c="~-"+d.length+"-~",d[d.length]=l),t=t.substring(0,s)+c+t.substring(o+1),!1===n&&(g=s-1);for(s=d.length-1;s>=0;s-=1)t=t.replace(new RegExp("~-"+s+"-~"),"{"+d[s]+"}","g");return t},trim:function(e){try{return e.replace(/^\s+|\s+$/g,"")}catch(t){return e}},ud:function(){var t,r={},i=arguments,n=i.length;for(t=0;t<n;t+=1)e.od(r,i[t],!0);return r},ld:function(t,i,n,s,o){t=t||0,i=i||{};var a,h,c=n,u=s;if(e.$f(n)&&(c=i[n]),!c)throw new TypeError("method undefined");return e.td(s)||e.isArray(u)||(u=[s]),a=function(){c.apply(i,u||r)},h=o?setInterval(a,t):setTimeout(a,t),{interval:o,cancel:function(){this.interval?clearInterval(h):clearTimeout(h)}}},pd:function(t){return e.Jo(t)||e.$f(t)||e.Zf(t)||e.Jf(t)}};e.hasOwnProperty=t.hasOwnProperty?function(e,t){return e&&e.hasOwnProperty&&e.hasOwnProperty(t)}:function(t,r){return!e.td(t[r])&&t.constructor.prototype[r]!==t[r]},s.od(e,s,!0),Ie.util.Lang=e,e.fd=e.ad,Ie.fd=e.ad,Ie.extend=e.extend}(),Ie.register("yahoo",Ie,{version:"2.9.0",sp:"2800"});/*! CryptoJS v3.1.2 core-fix.js
 * code.google.com/p/crypto-js
 * (c) 2009-2013 by Jeff Mott. All rights reserved.
 * code.google.com/p/crypto-js/wiki/License
 * THIS IS FIX of 'core.js' to fix Hmac issue.
 * https://code.google.com/p/crypto-js/issues/detail?id=84
 * https://crypto-js.googlecode.com/svn-history/r667/branches/3.x/src/core.js
 */
var we=we||function(e,t){var r={},i=r.Ql={},n=i.dd=function(){function e(){}return{extend:function(t){e.prototype=this;var r=new e;return t&&r.gd(t),r.hasOwnProperty("init")||(r.init=function(){r.vd.init.apply(this,arguments)}),r.init.prototype=r,r.vd=this,r},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},gd:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),s=i.Gl=n.extend({init:function(e,t){e=this.yd=e||[],this.md=void 0!=t?t:4*e.length},toString:function(e){return(e||a).stringify(this)},concat:function(e){var t=this.yd,r=e.yd,i=this.md,n=e.md;if(this.Ip(),i%4)for(var s=0;s<n;s++){var o=r[s>>>2]>>>24-s%4*8&255;t[i+s>>>2]|=o<<24-(i+s)%4*8}else for(var s=0;s<n;s+=4)t[i+s>>>2]=r[s>>>2];return this.md+=n,this},Ip:function(){var t=this.yd,r=this.md;t[r>>>2]&=4294967295<<32-r%4*8,t.length=e.ceil(r/4)},clone:function(){var e=n.clone.call(this);return e.yd=this.yd.slice(0),e},random:function(t){for(var r=[],i=0;i<t;i+=4)r.push(4294967296*e.random()|0);return new s.init(r,t)}}),o=r.Ed={},a=o.Td={stringify:function(e){for(var t=e.yd,r=e.md,i=[],n=0;n<r;n++){var s=t[n>>>2]>>>24-n%4*8&255;i.push((s>>>4).toString(16)),i.push((15&s).toString(16))}return i.join("")},parse:function(e){for(var t=e.length,r=[],i=0;i<t;i+=2)r[i>>>3]|=parseInt(e.substr(i,2),16)<<24-i%8*4;return new s.init(r,t/2)}},h=o.Id={stringify:function(e){for(var t=e.yd,r=e.md,i=[],n=0;n<r;n++){var s=t[n>>>2]>>>24-n%4*8&255;i.push(String.fromCharCode(s))}return i.join("")},parse:function(e){for(var t=e.length,r=[],i=0;i<t;i++)r[i>>>2]|=(255&e.charCodeAt(i))<<24-i%4*8;return new s.init(r,t)}},c=o.wd={stringify:function(e){try{return decodeURIComponent(escape(h.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return h.parse(unescape(encodeURIComponent(e)))}},u=i.Sd=n.extend({reset:function(){this.Rd=new s.init,this.bd=0},Pd:function(e){"string"==typeof e&&(e=c.parse(e)),this.Rd.concat(e),this.bd+=e.md},Ad:function(t){var r=this.Rd,i=r.yd,n=r.md,o=this.Cd,a=4*o,h=n/a;h=t?e.ceil(h):e.max((0|h)-this.kd,0);var c=h*o,u=e.min(4*c,n);if(c){for(var l=0;l<c;l+=o)this.Od(i,l);var p=i.splice(0,c);r.md-=u}return new s.init(p,u)},clone:function(){var e=n.clone.call(this);return e.Rd=this.Rd.clone(),e},kd:0}),l=(i._d=u.extend({Nd:n.extend(),init:function(e){this.Nd=this.Nd.extend(e),this.reset()},reset:function(){u.reset.call(this),this.Dd()},update:function(e){return this.Pd(e),this.Ad(),this},Fd:function(e){return e&&this.Pd(e),this.Ld()},Cd:16,Md:function(e){return function(t,r){return new e.init(r).Fd(t)}},Bd:function(e){return function(t,r){return new l.Ud.init(e,r).Fd(t)}}}),r.xd={});return r}(Math);!function(e){function t(e,t,r,i,n,s,o){return((e=e+(t&r|~t&i)+n+o)<<s|e>>>32-s)+t}function r(e,t,r,i,n,s,o){return((e=e+(t&i|r&~i)+n+o)<<s|e>>>32-s)+t}function i(e,t,r,i,n,s,o){return((e=e+(t^r^i)+n+o)<<s|e>>>32-s)+t}function n(e,t,r,i,n,s,o){return((e=e+(r^(t|~i))+n+o)<<s|e>>>32-s)+t}for(var s=we,o=s.Ql,a=o.Gl,h=o._d,o=s.xd,c=[],u=0;64>u;u++)c[u]=4294967296*e.abs(e.sin(u+1))|0;o=o.Kl=h.extend({Dd:function(){this.Hd=new a.init([1732584193,4023233417,2562383102,271733878])},Od:function(e,s){for(var o=0;16>o;o++){var a=s+o,h=e[a];e[a]=16711935&(h<<8|h>>>24)|4278255360&(h<<24|h>>>8)}var o=this.Hd.yd,a=e[s+0],h=e[s+1],u=e[s+2],l=e[s+3],p=e[s+4],f=e[s+5],d=e[s+6],g=e[s+7],v=e[s+8],y=e[s+9],m=e[s+10],E=e[s+11],T=e[s+12],I=e[s+13],w=e[s+14],S=e[s+15],R=o[0],b=o[1],P=o[2],A=o[3],R=t(R,b,P,A,a,7,c[0]),A=t(A,R,b,P,h,12,c[1]),P=t(P,A,R,b,u,17,c[2]),b=t(b,P,A,R,l,22,c[3]),R=t(R,b,P,A,p,7,c[4]),A=t(A,R,b,P,f,12,c[5]),P=t(P,A,R,b,d,17,c[6]),b=t(b,P,A,R,g,22,c[7]),R=t(R,b,P,A,v,7,c[8]),A=t(A,R,b,P,y,12,c[9]),P=t(P,A,R,b,m,17,c[10]),b=t(b,P,A,R,E,22,c[11]),R=t(R,b,P,A,T,7,c[12]),A=t(A,R,b,P,I,12,c[13]),P=t(P,A,R,b,w,17,c[14]),b=t(b,P,A,R,S,22,c[15]),R=r(R,b,P,A,h,5,c[16]),A=r(A,R,b,P,d,9,c[17]),P=r(P,A,R,b,E,14,c[18]),b=r(b,P,A,R,a,20,c[19]),R=r(R,b,P,A,f,5,c[20]),A=r(A,R,b,P,m,9,c[21]),P=r(P,A,R,b,S,14,c[22]),b=r(b,P,A,R,p,20,c[23]),R=r(R,b,P,A,y,5,c[24]),A=r(A,R,b,P,w,9,c[25]),P=r(P,A,R,b,l,14,c[26]),b=r(b,P,A,R,v,20,c[27]),R=r(R,b,P,A,I,5,c[28]),A=r(A,R,b,P,u,9,c[29]),P=r(P,A,R,b,g,14,c[30]),b=r(b,P,A,R,T,20,c[31]),R=i(R,b,P,A,f,4,c[32]),A=i(A,R,b,P,v,11,c[33]),P=i(P,A,R,b,E,16,c[34]),b=i(b,P,A,R,w,23,c[35]),R=i(R,b,P,A,h,4,c[36]),A=i(A,R,b,P,p,11,c[37]),P=i(P,A,R,b,g,16,c[38]),b=i(b,P,A,R,m,23,c[39]),R=i(R,b,P,A,I,4,c[40]),A=i(A,R,b,P,a,11,c[41]),P=i(P,A,R,b,l,16,c[42]),b=i(b,P,A,R,d,23,c[43]),R=i(R,b,P,A,y,4,c[44]),A=i(A,R,b,P,T,11,c[45]),P=i(P,A,R,b,S,16,c[46]),b=i(b,P,A,R,u,23,c[47]),R=n(R,b,P,A,a,6,c[48]),A=n(A,R,b,P,g,10,c[49]),P=n(P,A,R,b,w,15,c[50]),b=n(b,P,A,R,f,21,c[51]),R=n(R,b,P,A,T,6,c[52]),A=n(A,R,b,P,l,10,c[53]),P=n(P,A,R,b,m,15,c[54]),b=n(b,P,A,R,h,21,c[55]),R=n(R,b,P,A,v,6,c[56]),A=n(A,R,b,P,S,10,c[57]),P=n(P,A,R,b,d,15,c[58]),b=n(b,P,A,R,I,21,c[59]),R=n(R,b,P,A,p,6,c[60]),A=n(A,R,b,P,E,10,c[61]),P=n(P,A,R,b,u,15,c[62]),b=n(b,P,A,R,y,21,c[63]);o[0]=o[0]+R|0,o[1]=o[1]+b|0,o[2]=o[2]+P|0,o[3]=o[3]+A|0},Ld:function(){var t=this.Rd,r=t.yd,i=8*this.bd,n=8*t.md;r[n>>>5]|=128<<24-n%32;var s=e.floor(i/4294967296);for(r[15+(n+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),r[14+(n+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),t.md=4*(r.length+1),this.Ad(),t=this.Hd,r=t.yd,i=0;4>i;i++)n=r[i],r[i]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8);return t},clone:function(){var e=h.clone.call(this);return e.Hd=this.Hd.clone(),e}}),s.Kl=h.Md(o),s.qd=h.Bd(o)}(Math),function(){var e=we,t=e.Ql,r=t.Gl,i=t._d,n=[],t=e.xd.Vd=i.extend({Dd:function(){this.Hd=new r.init([1732584193,4023233417,2562383102,271733878,3285377520])},Od:function(e,t){for(var r=this.Hd.yd,i=r[0],s=r[1],o=r[2],a=r[3],h=r[4],c=0;80>c;c++){if(16>c)n[c]=0|e[t+c];else{var u=n[c-3]^n[c-8]^n[c-14]^n[c-16];n[c]=u<<1|u>>>31}u=(i<<5|i>>>27)+h+n[c],u=20>c?u+(1518500249+(s&o|~s&a)):40>c?u+(1859775393+(s^o^a)):60>c?u+((s&o|s&a|o&a)-1894007588):u+((s^o^a)-899497514),h=a,a=o,o=s<<30|s>>>2,s=i,i=u}r[0]=r[0]+i|0,r[1]=r[1]+s|0,r[2]=r[2]+o|0,r[3]=r[3]+a|0,r[4]=r[4]+h|0},Ld:function(){var e=this.Rd,t=e.yd,r=8*this.bd,i=8*e.md;return t[i>>>5]|=128<<24-i%32,t[14+(i+64>>>9<<4)]=Math.floor(r/4294967296),t[15+(i+64>>>9<<4)]=r,e.md=4*t.length,this.Ad(),this.Hd},clone:function(){var e=i.clone.call(this);return e.Hd=this.Hd.clone(),e}});e.Vd=i.Md(t),e.jd=i.Bd(t)}();/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/ */
var Se;"Microsoft Internet Explorer"==Ee.appName?(r.prototype.Pp=s,Se=30):"Netscape"!=Ee.appName?(r.prototype.Pp=n,Se=26):(r.prototype.Pp=o,Se=28),r.prototype.Tp=Se,r.prototype.Sp=(1<<Se)-1,r.prototype.yp=1<<Se;r.prototype._p=Math.pow(2,52),r.prototype.kp=52-Se,r.prototype.Op=2*Se-52;var Re,be,Pe="0123456789abcdefghijklmnopqrstuvwxyz",Ae=new Array;for(Re="0".charCodeAt(0),be=0;be<=9;++be)Ae[Re++]=be;for(Re="a".charCodeAt(0),be=10;be<36;++be)Ae[Re++]=be;for(Re="A".charCodeAt(0),be=10;be<36;++be)Ae[Re++]=be;k.prototype.Kp=O,k.prototype.Jp=_,k.prototype.reduce=N,k.prototype.zp=D,k.prototype.Yp=F,M.prototype.Kp=B,M.prototype.Jp=U,M.prototype.reduce=x,M.prototype.zp=q,M.prototype.Yp=H,r.prototype.Ap=c,r.prototype.mp=u,r.prototype.gp=p,r.prototype.Ip=f,r.prototype.Np=T,r.prototype.Fp=I,r.prototype.Cp=w,r.prototype.Lp=S,r.prototype.wp=R,r.prototype.Up=b,r.prototype.xp=P,r.prototype.Mp=A,r.prototype.qp=L,r.prototype.Wp=V,r.prototype.exp=j,r.prototype.toString=d,r.prototype.Rp=g,r.prototype.abs=v,r.prototype.Dp=y,r.prototype.nf=E,r.prototype.Bp=C,r.prototype.if=G,r.ZERO=l(0),r.ONE=l(1),/*! asn1-1.0.9.js (c) 2013-2015 Kenji Urushima | kjur.github.com/jsrsasign/license
 */
"undefined"!=typeof KJUR&&KJUR||(KJUR={}),void 0!==KJUR.Gd&&KJUR.Gd||(KJUR.Gd={}),KJUR.Gd.Qd=new function(){this.Kd=function(e){var t=e.toString(16);return t.length%2==1&&(t="0"+t),t},this.Yd=function(e){var t=e.toString(16);if("-"!=t.substr(0,1))t.length%2==1?t="0"+t:t.match(/^[0-7]/)||(t="00"+t);else{var i=t.substr(1),n=i.length;n%2==1?n+=1:t.match(/^[0-7]/)||(n+=2);for(var s="",o=0;o<n;o++)s+="f";t=new r(s,16).zd(e).add(r.ONE).toString(16).replace(/^-/,"")}return t},this.Jd=function(e,t){var r=(KJUR.Gd,we.Ed.Td.parse(e)),i=we.Ed.Wd.stringify(r),n=i.replace(/(.{64})/g,"$1\r\n");return n=n.replace(/\r\n$/,""),"-----BEGIN "+t+"-----\r\n"+n+"\r\n-----END "+t+"-----\r\n"},this.Xd=function(e){var t=KJUR.Gd,r=Object.keys(e);if(1!=r.length)throw"key of param shall be only one.";var i=r[0];if(-1==":bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:seq:set:tag:".indexOf(":"+i+":"))throw"undefined key: "+i;if("bool"==i)return new t.Zd(e[i]);if("int"==i)return new t.$d(e[i]);if("bitstr"==i)return new t.eg(e[i]);if("octstr"==i)return new t.tg(e[i]);if("null"==i)return new t.rg(e[i]);if("oid"==i)return new t.ig(e[i]);if("enum"==i)return new t.ng(e[i]);if("utf8str"==i)return new t.sg(e[i]);if("numstr"==i)return new t.og(e[i]);if("prnstr"==i)return new t.ag(e[i]);if("telstr"==i)return new t.hg(e[i]);if("ia5str"==i)return new t.cg(e[i]);if("utctime"==i)return new t.ug(e[i]);if("gentime"==i)return new t.lg(e[i]);if("seq"==i){for(var n=e[i],s=[],o=0;o<n.length;o++){var a=t.Qd.Xd(n[o]);s.push(a)}return new t.pg({fg:s})}if("set"==i){for(var n=e[i],s=[],o=0;o<n.length;o++){var a=t.Qd.Xd(n[o]);s.push(a)}return new t.dg({fg:s})}if("tag"==i){var h=e[i];if("[object Array]"===Object.prototype.toString.call(h)&&3==h.length){var c=t.Qd.Xd(h[2]);return new t.gg({tag:h[0],vg:h[1],yg:c})}var u={};if(void 0!==h.vg&&(u.vg=h.vg),void 0!==h.tag&&(u.tag=h.tag),void 0===h.yg)throw"obj shall be specified for 'tag'.";return u.yg=t.Qd.Xd(h.yg),new t.gg(u)}},this.mg=function(e){return this.Xd(e).Eg()}},KJUR.Gd.Qd.Tg=function(e){for(var t="",i=parseInt(e.substr(0,2),16),n=Math.floor(i/40),s=i%40,t=n+"."+s,o="",a=2;a<e.length;a+=2){var h=parseInt(e.substr(a,2),16),c=("00000000"+h.toString(2)).slice(-8);if(o+=c.substr(1,7),"0"==c.substr(0,1)){t=t+"."+new r(o,2).toString(10),o=""}}return t},KJUR.Gd.Qd.Ig=function(e){var t=function(e){var t=e.toString(16);return 1==t.length&&(t="0"+t),t};if(!e.match(/^[0-9.]+$/))throw"malformed oid string: "+e;var i="",n=e.split("."),s=40*parseInt(n[0])+parseInt(n[1]);i+=t(s),n.splice(0,2);for(var o=0;o<n.length;o++)i+=function(e){var i="",n=new r(e,10),s=n.toString(2),o=7-s.length%7;7==o&&(o=0);for(var a="",h=0;h<o;h++)a+="0";s=a+s;for(var h=0;h<s.length-1;h+=7){var c=s.substr(h,7);h!=s.length-7&&(c="1"+c),i+=t(parseInt(c,2))}return i}(n[o]);return i},KJUR.Gd.wg=function(){this.Sg=function(){if(void 0===this.Rg||null==this.Rg)throw"this.hV is null or undefined.";if(this.Rg.length%2==1)throw"value hex must be even length: n="+"".length+",v="+this.Rg;var e=this.Rg.length/2,t=e.toString(16);if(t.length%2==1&&(t="0"+t),e<128)return t;var r=t.length/2;if(r>15)throw"ASN.1 length too long to represent by 8x: n = "+e.toString(16);return(128+r).toString(16)+t},this.Eg=function(){return(null==this.bg||this.Pg)&&(this.Rg=this.Ag(),this.Cg=this.Sg(),this.bg=this.kg+this.Cg+this.Rg,this.Pg=!1),this.bg},this.Og=function(){return this.Eg(),this.Rg},this.Ag=function(){return""}},KJUR.Gd._g=function(e){KJUR.Gd._g.sd.constructor.call(this);this.Ng=function(){return this.v},this.Dg=function(e){this.bg=null,this.Pg=!0,this.v=e,this.Rg=stohex(this.v)},this.Fg=function(e){this.bg=null,this.Pg=!0,this.v=null,this.Rg=e},this.Ag=function(){return this.Rg},void 0!==e&&("string"==typeof e?this.Dg(e):void 0!==e.Lg?this.Dg(e.Lg):void 0!==e.Mg&&this.Fg(e.Mg))},Ie.lang.extend(KJUR.Gd._g,KJUR.Gd.wg),KJUR.Gd.Bg=function(e){KJUR.Gd.Bg.sd.constructor.call(this);this.Ug=function(e){return utc=e.getTime()+6e4*e.getTimezoneOffset(),new Date(utc)},this.xg=function(e,t,r){var i=this.Hg,n=this.Ug(e),s=String(n.getFullYear());"utc"==t&&(s=s.substr(2,2));var o=i(String(n.getMonth()+1),2),a=i(String(n.getDate()),2),h=i(String(n.getHours()),2),c=i(String(n.getMinutes()),2),u=i(String(n.getSeconds()),2),l=s+o+a+h+c+u;if(!0===r){var p=n.getMilliseconds();if(0!=p){var f=i(String(p),3);f=f.replace(/[0]+$/,""),l=l+"."+f}}return l+"Z"},this.Hg=function(e,t){return e.length>=t?e:new Array(t-e.length+1).join("0")+e},this.Ng=function(){return this.v},this.Dg=function(e){this.bg=null,this.Pg=!0,this.v=e,this.Rg=stohex(e)},this.qg=function(e,t,r,i,n,s){var o=new Date(Date.UTC(e,t-1,r,i,n,s,0));this.Vg(o)},this.Ag=function(){return this.Rg}},Ie.lang.extend(KJUR.Gd.Bg,KJUR.Gd.wg),KJUR.Gd.jg=function(e){KJUR.Gd._g.sd.constructor.call(this);this.Gg=function(e){this.bg=null,this.Pg=!0,this.Qg=e},this.Kg=function(e){this.bg=null,this.Pg=!0,this.Qg.push(e)},this.Qg=new Array,void 0!==e&&void 0!==e.fg&&(this.Qg=e.fg)},Ie.lang.extend(KJUR.Gd.jg,KJUR.Gd.wg),KJUR.Gd.Zd=function(){KJUR.Gd.Zd.sd.constructor.call(this),this.kg="01",this.bg="0101ff"},Ie.lang.extend(KJUR.Gd.Zd,KJUR.Gd.wg),KJUR.Gd.$d=function(e){KJUR.Gd.$d.sd.constructor.call(this),this.kg="02",this.Yg=function(e){this.bg=null,this.Pg=!0,this.Rg=KJUR.Gd.Qd.Yd(e)},this.zg=function(e){var t=new r(String(e),10);this.Yg(t)},this.Jg=function(e){this.Rg=e},this.Ag=function(){return this.Rg},void 0!==e&&(void 0!==e.Wg?this.Yg(e.Wg):void 0!==e.Xg?this.zg(e.Xg):"number"==typeof e?this.zg(e):void 0!==e.Mg&&this.Jg(e.Mg))},Ie.lang.extend(KJUR.Gd.$d,KJUR.Gd.wg),KJUR.Gd.eg=function(e){KJUR.Gd.eg.sd.constructor.call(this),this.kg="03",this.Zg=function(e){this.bg=null,this.Pg=!0,this.Rg=e},this.$g=function(e,t){if(e<0||7<e)throw"unused bits shall be from 0 to 7: u = "+e;var r="0"+e;this.bg=null,this.Pg=!0,this.Rg=r+t},this.ev=function(e){e=e.replace(/0+$/,"");var t=8-e.length%8;8==t&&(t=0);for(var r=0;r<=t;r++)e+="0";for(var i="",r=0;r<e.length-1;r+=8){var n=e.substr(r,8),s=parseInt(n,2).toString(16);1==s.length&&(s="0"+s),i+=s}this.bg=null,this.Pg=!0,this.Rg="0"+t+i},this.tv=function(e){for(var t="",r=0;r<e.length;r++)1==e[r]?t+="1":t+="0";this.ev(t)},this.rv=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=!1;return t},this.Ag=function(){return this.Rg},void 0!==e&&("string"==typeof e&&e.toLowerCase().match(/^[0-9a-f]+$/)?this.Zg(e):void 0!==e.Mg?this.Zg(e.Mg):void 0!==e.iv?this.ev(e.iv):void 0!==e.fg&&this.tv(e.fg))},Ie.lang.extend(KJUR.Gd.eg,KJUR.Gd.wg),KJUR.Gd.tg=function(e){KJUR.Gd.tg.sd.constructor.call(this,e),this.kg="04"},Ie.lang.extend(KJUR.Gd.tg,KJUR.Gd._g),KJUR.Gd.rg=function(){KJUR.Gd.rg.sd.constructor.call(this),this.kg="05",this.bg="0500"},Ie.lang.extend(KJUR.Gd.rg,KJUR.Gd.wg),KJUR.Gd.ig=function(e){var t=function(e){var t=e.toString(16);return 1==t.length&&(t="0"+t),t},i=function(e){var i="",n=new r(e,10),s=n.toString(2),o=7-s.length%7;7==o&&(o=0);for(var a="",h=0;h<o;h++)a+="0";s=a+s;for(var h=0;h<s.length-1;h+=7){var c=s.substr(h,7);h!=s.length-7&&(c="1"+c),i+=t(parseInt(c,2))}return i};KJUR.Gd.ig.sd.constructor.call(this),this.kg="06",this.Jg=function(e){this.bg=null,this.Pg=!0,this.v=null,this.Rg=e},this.nv=function(e){if(!e.match(/^[0-9.]+$/))throw"malformed oid string: "+e;var r="",n=e.split("."),s=40*parseInt(n[0])+parseInt(n[1]);r+=t(s),n.splice(0,2);for(var o=0;o<n.length;o++)r+=i(n[o]);this.bg=null,this.Pg=!0,this.v=null,this.Rg=r},this.sv=function(e){if(void 0===KJUR.Gd.hv.av.ov[e])throw"DERObjectIdentifier oidName undefined: "+e;var t=KJUR.Gd.hv.av.ov[e];this.nv(t)},this.Ag=function(){return this.Rg},void 0!==e&&("string"==typeof e&&e.match(/^[0-2].[0-9.]+$/)?this.nv(e):void 0!==KJUR.Gd.hv.av.ov[e]?this.nv(KJUR.Gd.hv.av.ov[e]):void 0!==e.cv?this.nv(e.cv):void 0!==e.Mg?this.Jg(e.Mg):void 0!==e.name&&this.sv(e.name))},Ie.lang.extend(KJUR.Gd.ig,KJUR.Gd.wg),KJUR.Gd.ng=function(e){KJUR.Gd.ng.sd.constructor.call(this),this.kg="0a",this.Yg=function(e){this.bg=null,this.Pg=!0,this.Rg=KJUR.Gd.Qd.Yd(e)},this.zg=function(e){var t=new r(String(e),10);this.Yg(t)},this.Jg=function(e){this.Rg=e},this.Ag=function(){return this.Rg},void 0!==e&&(void 0!==e.Xg?this.zg(e.Xg):"number"==typeof e?this.zg(e):void 0!==e.Mg&&this.Jg(e.Mg))},Ie.lang.extend(KJUR.Gd.ng,KJUR.Gd.wg),KJUR.Gd.sg=function(e){KJUR.Gd.sg.sd.constructor.call(this,e),this.kg="0c"},Ie.lang.extend(KJUR.Gd.sg,KJUR.Gd._g),KJUR.Gd.og=function(e){KJUR.Gd.og.sd.constructor.call(this,e),this.kg="12"},Ie.lang.extend(KJUR.Gd.og,KJUR.Gd._g),KJUR.Gd.ag=function(e){KJUR.Gd.ag.sd.constructor.call(this,e),this.kg="13"},Ie.lang.extend(KJUR.Gd.ag,KJUR.Gd._g),KJUR.Gd.hg=function(e){KJUR.Gd.hg.sd.constructor.call(this,e),this.kg="14"},Ie.lang.extend(KJUR.Gd.hg,KJUR.Gd._g),KJUR.Gd.cg=function(e){KJUR.Gd.cg.sd.constructor.call(this,e),this.kg="16"},Ie.lang.extend(KJUR.Gd.cg,KJUR.Gd._g),KJUR.Gd.ug=function(e){KJUR.Gd.ug.sd.constructor.call(this,e),this.kg="17",this.Vg=function(e){this.bg=null,this.Pg=!0,this.uv=e,this.v=this.xg(this.uv,"utc"),this.Rg=stohex(this.v)},this.Ag=function(){return void 0===this.uv&&void 0===this.v&&(this.uv=new Date,this.v=this.xg(this.uv,"utc"),this.Rg=stohex(this.v)),this.Rg},void 0!==e&&(void 0!==e.Lg?this.Dg(e.Lg):"string"==typeof e&&e.match(/^[0-9]{12}Z$/)?this.Dg(e):void 0!==e.Mg?this.Fg(e.Mg):void 0!==e.uv&&this.Vg(e.uv))},Ie.lang.extend(KJUR.Gd.ug,KJUR.Gd.Bg),KJUR.Gd.lg=function(e){KJUR.Gd.lg.sd.constructor.call(this,e),this.kg="18",this.lv=!1,this.Vg=function(e){this.bg=null,this.Pg=!0,this.uv=e,this.v=this.xg(this.uv,"gen",this.lv),this.Rg=stohex(this.v)},this.Ag=function(){return void 0===this.uv&&void 0===this.v&&(this.uv=new Date,this.v=this.xg(this.uv,"gen",this.lv),this.Rg=stohex(this.v)),this.Rg},void 0!==e&&(void 0!==e.Lg?this.Dg(e.Lg):"string"==typeof e&&e.match(/^[0-9]{14}Z$/)?this.Dg(e):void 0!==e.Mg?this.Fg(e.Mg):void 0!==e.uv&&this.Vg(e.uv),!0===e.pv&&(this.lv=!0))},Ie.lang.extend(KJUR.Gd.lg,KJUR.Gd.Bg),KJUR.Gd.pg=function(e){KJUR.Gd.pg.sd.constructor.call(this,e),this.kg="30",this.Ag=function(){for(var e="",t=0;t<this.Qg.length;t++){e+=this.Qg[t].Eg()}return this.Rg=e,this.Rg}},Ie.lang.extend(KJUR.Gd.pg,KJUR.Gd.jg),KJUR.Gd.dg=function(e){KJUR.Gd.dg.sd.constructor.call(this,e),this.kg="31",this.fv=!0,this.Ag=function(){for(var e=new Array,t=0;t<this.Qg.length;t++){var r=this.Qg[t];e.push(r.Eg())}return 1==this.fv&&e.sort(),this.Rg=e.join(""),this.Rg},void 0!==e&&void 0!==e.dv&&0==e.dv&&(this.fv=!1)},Ie.lang.extend(KJUR.Gd.dg,KJUR.Gd.jg),KJUR.Gd.gg=function(e){KJUR.Gd.gg.sd.constructor.call(this),this.kg="a0",this.Rg="",this.gv=!0,this.vv=null,this.yv=function(e,t,r){this.kg=t,this.gv=e,this.vv=r,this.gv?(this.Rg=this.vv.Eg(),this.bg=null,this.Pg=!0):(this.Rg=null,this.bg=r.Eg(),this.bg=this.bg.replace(/^../,t),this.Pg=!1)},this.Ag=function(){return this.Rg},void 0!==e&&(void 0!==e.tag&&(this.kg=e.tag),void 0!==e.vg&&(this.gv=e.vg),void 0!==e.yg&&(this.vv=e.yg,this.yv(this.gv,this.kg,this.vv)))},Ie.lang.extend(KJUR.Gd.gg,KJUR.Gd.wg);/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/ */
var Ce="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ke="=";/*! crypto-1.1.8.js (c) 2013-2016 Kenji Urushima | kjur.github.com/jsrsasign/license
 */
"undefined"!=typeof KJUR&&KJUR||(KJUR={}),void 0!==KJUR.crypto&&KJUR.crypto||(KJUR.crypto={}),KJUR.crypto.hf=new function(){this.gf={sha1:"3021300906052b0e03021a05000414",mv:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",Ev:"3041300d060960864801650304020205000430",Tv:"3051300d060960864801650304020305000440",Iv:"3020300c06082a864886f70d020205000410",wv:"3020300c06082a864886f70d020505000410",Sv:"3021300906052b2403020105000414"},this.Rv={wv:"cryptojs",sha1:"cryptojs",mv:"cryptojs",sha256:"cryptojs",Ev:"cryptojs",Tv:"cryptojs",Sv:"cryptojs",bv:"cryptojs",Pv:"cryptojs",Av:"cryptojs",Cv:"cryptojs",kv:"cryptojs",Ov:"cryptojs",_v:"cryptojs",Nv:"cryptojs/jsrsa",Dv:"cryptojs/jsrsa",Fv:"cryptojs/jsrsa",Lv:"cryptojs/jsrsa",Mv:"cryptojs/jsrsa",Bv:"cryptojs/jsrsa",Uv:"cryptojs/jsrsa",xv:"cryptojs/jsrsa",Hv:"cryptojs/jsrsa",qv:"cryptojs/jsrsa",Vv:"cryptojs/jsrsa",jv:"cryptojs/jsrsa",Gv:"cryptojs/jsrsa",Qv:"cryptojs/jsrsa",Kv:"cryptojs/jsrsa",Yv:"cryptojs/jsrsa",zv:"cryptojs/jsrsa",Jv:"cryptojs/jsrsa",Wv:"cryptojs/jsrsa",Xv:"cryptojs/jsrsa",Zv:"cryptojs/jsrsa",$v:"cryptojs/jsrsa",ey:"cryptojs/jsrsa",ty:"cryptojs/jsrsa"},this.iy={wv:we.xd.Kl,sha1:we.xd.Vd,mv:we.xd.ny,sha256:we.xd.sy,Ev:we.xd.oy,Tv:we.xd.ay,Sv:we.xd.hy},this.uy=function(e,t){if(void 0===this.gf[t])throw"alg not supported in Util.DIGESTINFOHEAD: "+t;return this.gf[t]+e},this.uf=function(e,t,r){var i=this.uy(e,t),n=r/4;if(i.length+22>n)throw"key is too short for SigAlg: keylen="+r+","+t;for(var s="0001",o="00"+i,a="",h=n-s.length-o.length,c=0;c<h;c+=2)a+="ff";return s+a+o},this.af=function(e,t){return new KJUR.crypto.py({gy:t}).ly(e)},this.pf=function(e,t){return new KJUR.crypto.py({gy:t}).vy(e)},this.sha1=function(e){return new KJUR.crypto.py({gy:"sha1",yy:"cryptojs"}).ly(e)},this.sha256=function(e){return new KJUR.crypto.py({gy:"sha256",yy:"cryptojs"}).ly(e)},this.my=function(e){return new KJUR.crypto.py({gy:"sha256",yy:"cryptojs"}).vy(e)},this.Tv=function(e){return new KJUR.crypto.py({gy:"sha512",yy:"cryptojs"}).ly(e)},this.Ey=function(e){return new KJUR.crypto.py({gy:"sha512",yy:"cryptojs"}).vy(e)},this.wv=function(e){return new KJUR.crypto.py({gy:"md5",yy:"cryptojs"}).ly(e)},this.Sv=function(e){return new KJUR.crypto.py({gy:"ripemd160",yy:"cryptojs"}).ly(e)},this.Ty=function(e){}},KJUR.crypto.py=function(e){this.Iy=function(e,t){if(null!=e&&void 0===t&&(t=KJUR.crypto.hf.Rv[e]),-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(e)&&"cryptojs"==t){try{this.wy=KJUR.crypto.hf.iy[e].create()}catch(t){throw"setAlgAndProvider hash alg set fail alg="+e+"/"+t}this.Sy=function(e){this.wy.update(e)},this.Ry=function(e){var t=we.Ed.Td.parse(e);this.wy.update(t)},this.digest=function(){return this.wy.Fd().toString(we.Ed.Td)},this.ly=function(e){return this.Sy(e),this.digest()},this.vy=function(e){return this.Ry(e),this.digest()}}if(-1!=":sha256:".indexOf(e)&&"sjcl"==t){try{this.wy=new sjcl.hash.sha256}catch(t){throw"setAlgAndProvider hash alg set fail alg="+e+"/"+t}this.Sy=function(e){this.wy.update(e)},this.Ry=function(e){var t=sjcl.Py.Mg.by(e);this.wy.update(t)},this.digest=function(){var e=this.wy.Fd();return sjcl.Py.Mg.Ay(e)},this.ly=function(e){return this.Sy(e),this.digest()},this.vy=function(e){return this.Ry(e),this.digest()}}},this.Sy=function(e){throw"updateString(str) not supported for this alg/prov: "+this.Cy+"/"+this.ky},this.Ry=function(e){throw"updateHex(hex) not supported for this alg/prov: "+this.Cy+"/"+this.ky},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.Cy+"/"+this.ky},this.ly=function(e){throw"digestString(str) not supported for this alg/prov: "+this.Cy+"/"+this.ky},this.vy=function(e){throw"digestHex(hex) not supported for this alg/prov: "+this.Cy+"/"+this.ky},void 0!==e&&void 0!==e.gy&&(this.Cy=e.gy,void 0===e.yy&&(this.ky=KJUR.crypto.hf.Rv[this.Cy]),this.Iy(this.Cy,this.ky))},KJUR.crypto.Oy=function(e){this.Iy=function(e,t){if(e=e.toLowerCase(),null==e&&(e="hmacsha1"),e=e.toLowerCase(),"hmac"!=e.substr(0,4))throw"setAlgAndProvider unsupported HMAC alg: "+e;void 0===t&&(t=KJUR.crypto.hf.Rv[e]),this._y=e+"/"+t;var r=e.substr(4);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(r)&&"cryptojs"==t){try{var i=KJUR.crypto.hf.iy[r];this.mac=we.xd.Ud.create(i,this.Ny)}catch(e){throw"setAlgAndProvider hash alg set fail hashAlg="+r+"/"+e}this.Sy=function(e){this.mac.update(e)},this.Ry=function(e){var t=we.Ed.Td.parse(e);this.mac.update(t)},this.Dy=function(){return this.mac.Fd().toString(we.Ed.Td)},this.Fy=function(e){return this.Sy(e),this.Dy()},this.Ly=function(e){return this.Ry(e),this.Dy()}}},this.Sy=function(e){throw"updateString(str) not supported for this alg/prov: "+this._y},this.Ry=function(e){throw"updateHex(hex) not supported for this alg/prov: "+this._y},this.Dy=function(){throw"digest() not supported for this alg/prov: "+this._y},this.Fy=function(e){throw"digestString(str) not supported for this alg/prov: "+this._y},this.Ly=function(e){throw"digestHex(hex) not supported for this alg/prov: "+this._y},this.My=function(e){if("string"==typeof e){var t=e;return e.length%2!=1&&e.match(/^[0-9A-Fa-f]+$/)||(t=rstrtohex(e)),void(this.Ny=we.Ed.Td.parse(t))}if("object"!=typeof e)throw"KJUR.crypto.Mac unsupported password type: "+e;var t=null;if(void 0!==e.Mg){if(e.Mg.length%2!=0||!e.Mg.match(/^[0-9A-Fa-f]+$/))throw"Mac: wrong hex password: "+e.Mg;t=e.Mg}if(void 0!==e.By&&(t=utf8tohex(e.By)),void 0!==e.Uy&&(t=rstrtohex(e.Uy)),void 0!==e.xy&&(t=Q(e.xy)),void 0!==e.Hy&&(t=b64utohex(e.Hy)),null==t)throw"KJUR.crypto.Mac unsupported password type: "+e;this.Ny=we.Ed.Td.parse(t)},void 0!==e&&(void 0!==e.Ny&&this.My(e.Ny),void 0!==e.gy&&(this.Cy=e.gy,void 0===e.yy&&(this.ky=KJUR.crypto.hf.Rv[this.Cy]),this.Iy(this.Cy,this.ky)))},KJUR.crypto.Signature=function(e){var t=null;if(this.qy=function(){this.Cy.match(/^(.+)with(.+)$/)&&(this.Vy=RegExp.$1.toLowerCase(),this.jy=RegExp.$2.toLowerCase())},this.Gy=function(e,t){for(var r="",i=t/4-e.length,n=0;n<i;n++)r+="0";return r+e},this.Iy=function(e,t){if(this.qy(),"cryptojs/jsrsa"!=t)throw"provider not supported: "+t;if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.Vy)){try{this.wy=new KJUR.crypto.py({gy:this.Vy})}catch(e){throw"setAlgAndProvider hash alg set fail alg="+this.Vy+"/"+e}this.init=function(e,t){var r=null;try{r=void 0===t?KEYUTIL.getKey(e):KEYUTIL.getKey(e,t)}catch(e){throw"init failed:"+e}if(!0===r.Qy)this.Ky=r,this.state="SIGN";else{if(!0!==r.rf)throw"init failed.:"+r;this.Yy=r,this.state="VERIFY"}},this.zy=function(e){"string"==typeof e.Jy&&"string"==typeof e.Wy?(this.Jy=e.Jy,this.Wy=e.Wy):this.Ky=e,this.state="SIGN"},this.Xy=function(e){"string"==typeof e.Zy&&"string"==typeof e.Wy?(this.Zy=e.Zy,this.Wy=e.Wy):e instanceof KJUR.crypto.$y?this.Yy=e:e instanceof X&&(this.Yy=e),this.state="VERIFY"},this.em=function(e){var t=new X509;t.tm(e),this.Yy=t.rm,this.state="VERIFY"},this.Sy=function(e){this.wy.Sy(e)},this.Ry=function(e){this.wy.Ry(e)},this.sign=function(){if(this.im=this.wy.digest(),void 0!==this.Jy&&void 0!==this.Wy){var e=new KJUR.crypto.$y({curve:this.Wy});this.nm=e.sm(this.im,this.Jy)}else if(this.Ky instanceof X&&"rsaandmgf1"==this.jy)this.nm=this.Ky.ff(this.im,this.Vy,this.om);else if(this.Ky instanceof X&&"rsa"==this.jy)this.nm=this.Ky.cf(this.im,this.Vy);else if(this.Ky instanceof KJUR.crypto.$y)this.nm=this.Ky.cf(this.im);else{if(!(this.Ky instanceof KJUR.crypto.am))throw"Signature: unsupported public key alg: "+this.jy;this.nm=this.Ky.cf(this.im)}return this.nm},this.hm=function(e){return this.Sy(e),this.sign()},this.sm=function(e){return this.Ry(e),this.sign()},this.verify=function(e){if(this.im=this.wy.digest(),void 0!==this.Zy&&void 0!==this.Wy){return new KJUR.crypto.$y({curve:this.Wy}).cm(this.im,e,this.Zy)}if(this.Yy instanceof X&&"rsaandmgf1"==this.jy)return this.Yy.vf(this.im,e,this.Vy,this.om);if(this.Yy instanceof X&&"rsa"==this.jy)return this.Yy.um(this.im,e);if(this.Yy instanceof KJUR.crypto.$y)return this.Yy.um(this.im,e);if(this.Yy instanceof KJUR.crypto.am)return this.Yy.um(this.im,e);throw"Signature: unsupported public key alg: "+this.jy}}},this.init=function(e,t){throw"init(key, pass) not supported for this alg:prov="+this.lm},this.Xy=function(e){throw"initVerifyByPublicKey(rsaPubKeyy) not supported for this alg:prov="+this.lm},this.em=function(e){throw"initVerifyByCertificatePEM(certPEM) not supported for this alg:prov="+this.lm},this.zy=function(e){throw"initSign(prvKey) not supported for this alg:prov="+this.lm},this.Sy=function(e){throw"updateString(str) not supported for this alg:prov="+this.lm},this.Ry=function(e){throw"updateHex(hex) not supported for this alg:prov="+this.lm},this.sign=function(){throw"sign() not supported for this alg:prov="+this.lm},this.hm=function(e){throw"digestString(str) not supported for this alg:prov="+this.lm},this.sm=function(e){throw"digestHex(hex) not supported for this alg:prov="+this.lm},this.verify=function(e){throw"verify(hSigVal) not supported for this alg:prov="+this.lm},this.pm=e,void 0!==e&&(void 0!==e.gy&&(this.Cy=e.gy,void 0===e.yy?this.ky=KJUR.crypto.hf.Rv[this.Cy]:this.ky=e.yy,this.lm=this.Cy+":"+this.ky,this.Iy(this.Cy,this.ky),this.qy()),void 0!==e.fm&&(this.om=e.fm),void 0!==e.dm)){if(void 0!==e.gm)throw"both prvkeypem and prvkeypas parameters not supported";try{var t=new X;t.vm(e.dm),this.zy(t)}catch(e){throw"fatal error to load pem private key: "+e}}},KJUR.crypto.av=new function(){this.ym={mm:"rsaEncryption",Em:"ecPublicKey",Tm:"dsa",Im:"secp256r1",wm:"secp192k1",Sm:"secp224r1",Rm:"secp256k1",bm:"secp521r1",Pm:"secp384r1",Am:"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}};var Oe=20;X.prototype.sf=$,X.prototype.df=Z,X.prototype.encrypt=ee,X.prototype.Cm=te,X.prototype.type="RSA";/*! rsasign-1.2.7.js (c) 2012 Kenji Urushima | kjur.github.com/jsrsasign/license
 */
var _e=new RegExp("");_e.compile("[^0-9a-f]","gi"),X.prototype.cf=ne,X.prototype.hm=ie,X.prototype.km=se,X.prototype.Om=oe,X.prototype.sign=ie,X.prototype._m=se,X.prototype.Nm=oe,X.prototype.ff=ce,X.prototype.Dm=he,X.prototype.Fm=he,X.Lm=-1,X.Mm=-2,X.prototype.um=ve,X.prototype.Bm=ge,X.prototype.Um=de,X.prototype.verify=ge,X.prototype.xm=de,X.prototype.vf=me,X.prototype.Hm=ye,X.prototype.qm=ye,X.Vm=-2,t.jm=r,t.Gm=X,t.Signature=KJUR.crypto.Signature,t.py=KJUR.crypto.py,t.sl=we,t.Qm=Q,t.Km=K},function(e,t,r){"use strict";var i;!function(e){function t(e){return i[e]}var r=function(){function e(){}return e}();e.HiveSession=r;!function(e){e[e.Ym=0]="GENERIC_ERROR",e[e.zm=1]="NO_TECH_AVAILABLE",e[e.Jm=2]="NO_TECH_RESOLVED",e[e.Wm=3]="TECH_ERROR",e[e.Xm=4]="TICKET_ERROR"}(e.Zm||(e.Zm={}));var i;!function(e){e[e["$m"]=0]="Generic Undefined Error",e[e["eE"]=1]="No Tech available to resolve the ticket",e[e["tE"]=2]="No available Tech could resolved the ticket",e[e["rE"]=3]="Stopped resolving session on last tech onError",e[e["iE"]=4]="The ticket could not be resolved"}(i||(i={}));var n=function(){function e(){}return e}();e.HiveSessionError=n;var s=function(){function e(e,t){this.code=e,this.message=t}return e}();e.HiveTechError=s;!function(e){e[e.nE=0]="NOT_READY",e[e.sE=1]="PLUGIN_ERROR",e[e.oE=2]="SESSION_ERROR",e[e.Xm=3]="TICKET_ERROR",e[e.aE=4]="VERSION_ERROR",e[e.hE=5]="TIMEOUT_ERROR"}(e.cE||(e.cE={}));!function(e){e[e.uE=0]="OK",e[e.lE=1]="HIVE_NOT_ALLOWED",e[e.pE=2]="TICKET_NOT_RESOLVED",e[e.fE=3]="TIMEOUT_RESOLVING_TICKET"}(e.dE||(e.dE={})),e.getHiveSessionErrorMessage=t;var o=function(){function e(e){this.gE=e}return e.prototype.getPluginStatusCode=function(){return this.gE.vE()},e}();e.yE=o}(i=t.gn||(t.gn={})),"undefined"!=typeof window&&(void 0===window.gn&&(window.gn={}),window.gn.getHiveSessionErrorMessage=i.getHiveSessionErrorMessage)},function(e,t,r){var i,n,s;/*!
 * URI.js - Mutating URLs
 *
 * Version: 1.18.10
 *
 * Author: Rodney Rehm
 * Web: http://medialize.github.io/URI.js/
 *
 * Licensed under
 *   MIT License http://www.opensource.org/licenses/mit-license
 *
 */
!function(o,a){"use strict";"object"==typeof e&&e.t?e.t=a(r(16),r(16),r(16)):(n=[r(16),r(16),r(16)],i=a,void 0!==(s="function"==typeof i?i.apply(t,n):i)&&(e.t=s))}(0,function(e,t,r,i){"use strict";function n(e,t){var r=arguments.length>=1,i=arguments.length>=2;if(!(this instanceof n))return r?i?new n(e,t):new n(e):new n;if(void 0===e){if(r)throw new TypeError("undefined is not a valid argument for URI");e="undefined"!=typeof location?location.href+"":""}if(null===e&&r)throw new TypeError("null is not a valid argument for URI");return this.href(e),void 0!==t?this.Bi(t):this}function s(e){return e.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function o(e){return void 0===e?"Undefined":String(Object.prototype.toString.call(e)).slice(8,-1)}function a(e){return"Array"===o(e)}function h(e,t){var r,i,n={};if("RegExp"===o(t))n=null;else if(a(t))for(r=0,i=t.length;r<i;r++)n[t[r]]=!0;else n[t]=!0;for(r=0,i=e.length;r<i;r++){(n&&void 0!==n[e[r]]||!n&&t.test(e[r]))&&(e.splice(r,1),i--,r--)}return e}function c(e,t){var r,i;if(a(t)){for(r=0,i=t.length;r<i;r++)if(!c(e,t[r]))return!1;return!0}var n=o(t);for(r=0,i=e.length;r<i;r++)if("RegExp"===n){if("string"==typeof e[r]&&e[r].match(t))return!0}else if(e[r]===t)return!0;return!1}function u(e,t){if(!a(e)||!a(t))return!1;if(e.length!==t.length)return!1;e.sort(),t.sort();for(var r=0,i=e.length;r<i;r++)if(e[r]!==t[r])return!1;return!0}function l(e){var t=/^\/+|\/+$/g;return e.replace(t,"")}function p(e){return escape(e)}function f(e){return encodeURIComponent(e).replace(/[!'()*]/g,p).replace(/\*/g,"%2A")}function d(e){return function(t,r){return void 0===t?this.mE[e]||"":(this.mE[e]=t||null,this.sp(!r),this)}}function g(e,t){return function(r,i){return void 0===r?this.mE[e]||"":(null!==r&&(r+="",r.charAt(0)===t&&(r=r.substring(1))),this.mE[e]=r,this.sp(!i),this)}}var v=i&&i.EE;n.version="1.18.10";var y=n.prototype,m=Object.prototype.hasOwnProperty;n.mE=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,dn:null,TE:null,IE:n.IE,wE:n.wE}},n.IE=!1,n.wE=!0,n.SE=/^[a-z][a-z0-9.+-]*$/i,n.RE=/[^a-z0-9\.-]/i,n.bE=/(xn--)/i,n.PE=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,n.AE=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,n.CE=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?«»“”‘’]))/gi,n.kE={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?«»“”„‘’]+$/,OE:/(\([^\)]*\)|\[[^\]]*\]|\{[^}]*\}|<[^>]*>)/g},n._E={NE:"80",DE:"443",FE:"21",LE:"70",ME:"80",BE:"443"},n.UE=/[^a-zA-Z0-9\.-]/,n.xE={a:"href",HE:"cite",link:"href",qE:"href",VE:"src",form:"action",jE:"src",GE:"href",QE:"src",KE:"src",source:"src",track:"src",input:"src",YE:"src",video:"src"},n.zE=function(e){if(e&&e.nodeName){var t=e.nodeName.toLowerCase();if("input"!==t||"image"===e.type)return n.xE[t]}},n.encode=f,n.decode=decodeURIComponent,n.JE=function(){n.encode=escape,n.decode=unescape},n.WE=function(){n.encode=f,n.decode=decodeURIComponent},n.XE={pathname:{encode:{ZE:/%(24|26|2B|2C|3B|3D|3A|40)/gi,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{ZE:/[\/\?#]/g,map:{Yf:"%2F",$E:"%3F",eT:"%23"}}},tT:{encode:{ZE:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/gi,map:{"%3A":":",rT:"/",iT:"?",nT:"#",sT:"[",oT:"]","%40":"@",aT:"!","%24":"$","%26":"&",hT:"'",cT:"(",uT:")",lT:"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}},pT:{encode:{ZE:/%(21|24|27|28|29|2A|2B|2C|3B|3D|40)/gi,map:{aT:"!","%24":"$",hT:"'",cT:"(",uT:")",lT:"*","%2B":"+","%2C":",","%3B":";","%3D":"=","%40":"@"}},decode:{ZE:/[\/\?#:]/g,map:{Yf:"%2F",$E:"%3F",eT:"%23",fT:"%3A"}}}},n.dT=function(e,t){var r=n.encode(e+"");return void 0===t&&(t=n.wE),t?r.replace(/%20/g,"+"):r},n.gT=function(e,t){e+="",void 0===t&&(t=n.wE);try{return n.decode(t?e.replace(/\+/g,"%20"):e)}catch(t){return e}};var E,T={encode:"encode",decode:"decode"},I=function(e,t){return function(r){try{return n[t](r+"").replace(n.XE[e][t].ZE,function(r){return n.XE[e][t].map[r]})}catch(e){return r}}};for(E in T)n[E+"PathSegment"]=I("pathname",T[E]),n[E+"UrnPathSegment"]=I("urnpath",T[E]);var w=function(e,t,r){return function(i){var s;s=r?function(e){return n[t](n[r](e))}:n[t];for(var o=(i+"").split(e),a=0,h=o.length;a<h;a++)o[a]=s(o[a]);return o.join(e)}};n.vT=w("/","decodePathSegment"),n.yT=w(":","decodeUrnPathSegment"),n.mT=w("/","encodePathSegment","decode"),n.ET=w(":","encodeUrnPathSegment","decode"),n.TT=I("reserved","encode"),n.parse=function(e,t){var r;return t||(t={}),r=e.indexOf("#"),r>-1&&(t.TE=e.substring(r+1)||null,e=e.substring(0,r)),r=e.indexOf("?"),r>-1&&(t.dn=e.substring(r+1)||null,e=e.substring(0,r)),"//"===e.substring(0,2)?(t.protocol=null,e=e.substring(2),e=n.IT(e,t)):(r=e.indexOf(":"))>-1&&(t.protocol=e.substring(0,r)||null,t.protocol&&!t.protocol.match(n.SE)?t.protocol=void 0:"//"===e.substring(r+1,r+3)?(e=e.substring(r+3),e=n.IT(e,t)):(e=e.substring(r+1),t.urn=!0)),t.path=e,t},n.wT=function(e,t){e=e.replace(/\\/g,"/");var r,i,n=e.indexOf("/");if(-1===n&&(n=e.length),"["===e.charAt(0))r=e.indexOf("]"),t.hostname=e.substring(1,r)||null,t.port=e.substring(r+2,n)||null,"/"===t.port&&(t.port=null);else{var s=e.indexOf(":"),o=e.indexOf("/"),a=e.indexOf(":",s+1);-1!==a&&(-1===o||a<o)?(t.hostname=e.substring(0,n)||null,t.port=null):(i=e.substring(0,n).split(":"),t.hostname=i[0]||null,t.port=i[1]||null)}return t.hostname&&"/"!==e.substring(n).charAt(0)&&(n++,e="/"+e),e.substring(n)||"/"},n.IT=function(e,t){return e=n.ST(e,t),n.wT(e,t)},n.ST=function(e,t){var r,i=e.indexOf("/"),s=e.lastIndexOf("@",i>-1?i:e.length-1);return s>-1&&(-1===i||s<i)?(r=e.substring(0,s).split(":"),t.username=r[0]?n.decode(r[0]):null,r.shift(),t.password=r[0]?n.decode(r.join(":")):null,e=e.substring(s+1)):(t.username=null,t.password=null),e},n.RT=function(e,t){if(!e)return{};if(!(e=e.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,"")))return{};for(var r,i,s,o={},a=e.split("&"),h=a.length,c=0;c<h;c++)r=a[c].split("="),i=n.gT(r.shift(),t),s=r.length?n.gT(r.join("="),t):null,m.call(o,i)?("string"!=typeof o[i]&&null!==o[i]||(o[i]=[o[i]]),o[i].push(s)):o[i]=s;return o},n.sp=function(e){var t="";return e.protocol&&(t+=e.protocol+":"),e.urn||!t&&!e.hostname||(t+="//"),t+=n.bT(e)||"","string"==typeof e.path&&("/"!==e.path.charAt(0)&&"string"==typeof e.hostname&&(t+="/"),t+=e.path),"string"==typeof e.dn&&e.dn&&(t+="?"+e.dn),"string"==typeof e.TE&&e.TE&&(t+="#"+e.TE),t},n.PT=function(e){var t="";return e.hostname?(n.AE.test(e.hostname)?t+="["+e.hostname+"]":t+=e.hostname,e.port&&(t+=":"+e.port),t):""},n.bT=function(e){return n.AT(e)+n.PT(e)},n.AT=function(e){var t="";return e.username&&(t+=n.encode(e.username)),e.password&&(t+=":"+n.encode(e.password)),t&&(t+="@"),t},n.CT=function(e,t,r){var i,s,o,h,c="";for(s in e)if(m.call(e,s)&&s)if(a(e[s]))for(i={},o=0,h=e[s].length;o<h;o++)void 0!==e[s][o]&&void 0===i[e[s][o]+""]&&(c+="&"+n.kT(s,e[s][o],r),!0!==t&&(i[e[s][o]+""]=!0));else void 0!==e[s]&&(c+="&"+n.kT(s,e[s],r));return c.substring(1)},n.kT=function(e,t,r){return n.dT(e,r)+(null!==t?"="+n.dT(t,r):"")},n.OT=function(e,t,r){if("object"==typeof t)for(var i in t)m.call(t,i)&&n.OT(e,i,t[i]);else{if("string"!=typeof t)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");if(void 0===e[t])return void(e[t]=r);"string"==typeof e[t]&&(e[t]=[e[t]]),a(r)||(r=[r]),e[t]=(e[t]||[]).concat(r)}},n._T=function(e,t,r){var i,s,c;if(a(t))for(i=0,s=t.length;i<s;i++)e[t[i]]=void 0;else if("RegExp"===o(t))for(c in e)t.test(c)&&(e[c]=void 0);else if("object"==typeof t)for(c in t)m.call(t,c)&&n._T(e,c,t[c]);else{if("string"!=typeof t)throw new TypeError("URI.removeQuery() accepts an object, string, RegExp as the first parameter");void 0!==r?"RegExp"===o(r)?!a(e[t])&&r.test(e[t])?e[t]=void 0:e[t]=h(e[t],r):e[t]!==String(r)||a(r)&&1!==r.length?a(e[t])&&(e[t]=h(e[t],r)):e[t]=void 0:e[t]=void 0}},n.NT=function(e,t,r,i){switch(o(t)){case"String":break;case"RegExp":for(var s in e)if(m.call(e,s)&&t.test(s)&&(void 0===r||n.NT(e,s,r)))return!0;return!1;case"Object":for(var h in t)if(m.call(t,h)&&!n.NT(e,h,t[h]))return!1;return!0;default:throw new TypeError("URI.hasQuery() accepts a string, regular expression or object as the name parameter")}switch(o(r)){case"Undefined":return t in e;case"Boolean":return r===Boolean(a(e[t])?e[t].length:e[t]);case"Function":return!!r(e[t],t,e);case"Array":if(!a(e[t]))return!1;return(i?c:u)(e[t],r);case"RegExp":return a(e[t])?!!i&&c(e[t],r):Boolean(e[t]&&e[t].match(r));case"Number":r=String(r);case"String":return a(e[t])?!!i&&c(e[t],r):e[t]===r;default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter")}},n.DT=function(){for(var e=[],t=[],r=0,i=0;i<arguments.length;i++){var s=new n(arguments[i]);e.push(s);for(var o=s.FT(),a=0;a<o.length;a++)"string"==typeof o[a]&&t.push(o[a]),o[a]&&r++}if(!t.length||!r)return new n("");var h=new n("").FT(t);return""!==e[0].path()&&"/"!==e[0].path().slice(0,1)||h.path("/"+h.path()),h.normalize()},n.LT=function(e,t){var r,i=Math.min(e.length,t.length);for(r=0;r<i;r++)if(e.charAt(r)!==t.charAt(r)){r--;break}return r<1?e.charAt(0)===t.charAt(0)&&"/"===e.charAt(0)?"/":"":("/"===e.charAt(r)&&"/"===t.charAt(r)||(r=e.substring(0,r).lastIndexOf("/")),e.substring(0,r+1))},n.MT=function(e,t,r){r||(r={});var i=r.start||n.kE.start,s=r.end||n.kE.end,o=r.trim||n.kE.trim,a=r.OE||n.kE.OE,h=/[a-z0-9-]=["']?$/i;for(i.lastIndex=0;;){var c=i.exec(e);if(!c)break;var u=c.index;if(r.BT){var l=e.slice(Math.max(u-3,0),u);if(l&&h.test(l))continue}for(var p=u+e.slice(u).search(s),f=e.slice(u,p),d=-1;;){var g=a.exec(f);if(!g)break;var v=g.index+g[0].length;d=Math.max(d,v)}if(f=d>-1?f.slice(0,d)+f.slice(d).replace(o,""):f.replace(o,""),!(f.length<=c[0].length||r.UT&&r.UT.test(f))){p=u+f.length;var y=t(f,u,p,e);void 0!==y?(y=String(y),e=e.slice(0,u)+y+e.slice(p),i.lastIndex=u+y.length):i.lastIndex=p}}return i.lastIndex=0,e},n.xT=function(t){if(t.match(n.UE)){if(!e)throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-] and Punycode.js is not available');if(e.HT(t).match(n.UE))throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-]')}},n.wt=function(e){if(e){var t={EE:this.wt()};return i.qT&&"function"==typeof i.qT.wt&&(t.qT=i.qT.wt()),i.VT&&"function"==typeof i.VT.wt&&(t.VT=i.VT.wt()),i.jT&&"function"==typeof i.jT.wt&&(t.jT=i.jT.wt()),t}return i.EE===this&&(i.EE=v),this},y.sp=function(e){return!0===e?this.GT=!0:(void 0===e||this.GT)&&(this.QT=n.sp(this.mE),this.GT=!1),this},y.clone=function(){return new n(this)},y.valueOf=y.toString=function(){return this.sp(!1).QT},y.protocol=d("protocol"),y.username=d("username"),y.password=d("password"),y.hostname=d("hostname"),y.port=d("port"),y.dn=g("query","?"),y.TE=g("fragment","#"),y.search=function(e,t){var r=this.dn(e,t);return"string"==typeof r&&r.length?"?"+r:r},y.hash=function(e,t){var r=this.TE(e,t);return"string"==typeof r&&r.length?"#"+r:r},y.pathname=function(e,t){if(void 0===e||!0===e){var r=this.mE.path||(this.mE.hostname?"/":"");return e?(this.mE.urn?n.yT:n.vT)(r):r}return this.mE.urn?this.mE.path=e?n.ET(e):"":this.mE.path=e?n.mT(e):"/",this.sp(!t),this},y.path=y.pathname,y.href=function(e,t){var r;if(void 0===e)return this.toString();this.QT="",this.mE=n.mE();var i=e instanceof n,s="object"==typeof e&&(e.hostname||e.path||e.pathname);if(e.nodeName){e=e[n.zE(e)]||"",s=!1}if(!i&&s&&void 0!==e.pathname&&(e=e.toString()),"string"==typeof e||e instanceof String)this.mE=n.parse(String(e),this.mE);else{if(!i&&!s)throw new TypeError("invalid input");var o=i?e.mE:e;for(r in o)m.call(this.mE,r)&&(this.mE[r]=o[r])}return this.sp(!t),this},y.is=function(e){var t=!1,i=!1,s=!1,o=!1,a=!1,h=!1,c=!1,u=!this.mE.urn;switch(this.mE.hostname&&(u=!1,i=n.PE.test(this.mE.hostname),s=n.AE.test(this.mE.hostname),t=i||s,o=!t,a=o&&r&&r.has(this.mE.hostname),h=o&&n.RE.test(this.mE.hostname),c=o&&n.bE.test(this.mE.hostname)),e.toLowerCase()){case"relative":return u;case"absolute":return!u;case"domain":case"name":return o;case"sld":return a;case"ip":return t;case"ip4":case"ipv4":case"inet4":return i;case"ip6":case"ipv6":case"inet6":return s;case"idn":return h;case"url":return!this.mE.urn;case"urn":return!!this.mE.urn;case"punycode":return c}return null};var S=y.protocol,R=y.port,b=y.hostname;y.protocol=function(e,t){if(void 0!==e&&e&&(e=e.replace(/:(\/\/)?$/,""),!e.match(n.SE)))throw new TypeError('Protocol "'+e+"\" contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]");return S.call(this,e,t)},y.scheme=y.protocol,y.port=function(e,t){if(this.mE.urn)return void 0===e?"":this;if(void 0!==e&&(0===e&&(e=null),e&&(e+="",":"===e.charAt(0)&&(e=e.substring(1)),e.match(/[^0-9]/))))throw new TypeError('Port "'+e+'" contains characters other than [0-9]');return R.call(this,e,t)},y.hostname=function(e,t){if(this.mE.urn)return void 0===e?"":this;if(void 0!==e){var r={};if("/"!==n.wT(e,r))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');e=r.hostname}return b.call(this,e,t)},y.origin=function(e,t){if(this.mE.urn)return void 0===e?"":this;if(void 0===e){var r=this.protocol();return this.KT()?(r?r+"://":"")+this.KT():""}var i=n(e);return this.protocol(i.protocol()).KT(i.KT()).sp(!t),this},y.host=function(e,t){if(this.mE.urn)return void 0===e?"":this;if(void 0===e)return this.mE.hostname?n.PT(this.mE):"";if("/"!==n.wT(e,this.mE))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');return this.sp(!t),this},y.KT=function(e,t){if(this.mE.urn)return void 0===e?"":this;if(void 0===e)return this.mE.hostname?n.bT(this.mE):"";if("/"!==n.IT(e,this.mE))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');return this.sp(!t),this},y.YT=function(e,t){if(this.mE.urn)return void 0===e?"":this;if(void 0===e){var r=n.AT(this.mE);return r?r.substring(0,r.length-1):r}return"@"!==e[e.length-1]&&(e+="@"),n.ST(e,this.mE),this.sp(!t),this},y.zT=function(e,t){var r;return void 0===e?this.path()+this.search()+this.hash():(r=n.parse(e),this.mE.path=r.path,this.mE.dn=r.dn,this.mE.TE=r.TE,this.sp(!t),this)},y.JT=function(e,t){if(this.mE.urn)return void 0===e?"":this;if(void 0===e){if(!this.mE.hostname||this.is("IP"))return"";var r=this.mE.hostname.length-this.domain().length-1;return this.mE.hostname.substring(0,r)||""}var i=this.mE.hostname.length-this.domain().length,o=this.mE.hostname.substring(0,i),a=new RegExp("^"+s(o));return e&&"."!==e.charAt(e.length-1)&&(e+="."),e&&n.xT(e),this.mE.hostname=this.mE.hostname.replace(a,e),this.sp(!t),this},y.domain=function(e,t){if(this.mE.urn)return void 0===e?"":this;if("boolean"==typeof e&&(t=e,e=void 0),void 0===e){if(!this.mE.hostname||this.is("IP"))return"";var r=this.mE.hostname.match(/\./g);if(r&&r.length<2)return this.mE.hostname;var i=this.mE.hostname.length-this.WT(t).length-1;return i=this.mE.hostname.lastIndexOf(".",i-1)+1,this.mE.hostname.substring(i)||""}if(!e)throw new TypeError("cannot set domain empty");if(n.xT(e),!this.mE.hostname||this.is("IP"))this.mE.hostname=e;else{var o=new RegExp(s(this.domain())+"$");this.mE.hostname=this.mE.hostname.replace(o,e)}return this.sp(!t),this},y.WT=function(e,t){if(this.mE.urn)return void 0===e?"":this;if("boolean"==typeof e&&(t=e,e=void 0),void 0===e){if(!this.mE.hostname||this.is("IP"))return"";var i=this.mE.hostname.lastIndexOf("."),n=this.mE.hostname.substring(i+1);return!0!==t&&r&&r.list[n.toLowerCase()]?r.get(this.mE.hostname)||n:n}var o;if(!e)throw new TypeError("cannot set TLD empty");if(e.match(/[^a-zA-Z0-9-]/)){if(!r||!r.is(e))throw new TypeError('TLD "'+e+'" contains characters other than [A-Z0-9]');o=new RegExp(s(this.WT())+"$"),this.mE.hostname=this.mE.hostname.replace(o,e)}else{if(!this.mE.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");o=new RegExp(s(this.WT())+"$"),this.mE.hostname=this.mE.hostname.replace(o,e)}return this.sp(!t),this},y.XT=function(e,t){if(this.mE.urn)return void 0===e?"":this;if(void 0===e||!0===e){if(!this.mE.path&&!this.mE.hostname)return"";if("/"===this.mE.path)return"/";var r=this.mE.path.length-this.filename().length-1,i=this.mE.path.substring(0,r)||(this.mE.hostname?"/":"");return e?n.vT(i):i}var o=this.mE.path.length-this.filename().length,a=this.mE.path.substring(0,o),h=new RegExp("^"+s(a));return this.is("relative")||(e||(e="/"),"/"!==e.charAt(0)&&(e="/"+e)),e&&"/"!==e.charAt(e.length-1)&&(e+="/"),e=n.mT(e),this.mE.path=this.mE.path.replace(h,e),this.sp(!t),this},y.filename=function(e,t){if(this.mE.urn)return void 0===e?"":this;if("string"!=typeof e){if(!this.mE.path||"/"===this.mE.path)return"";var r=this.mE.path.lastIndexOf("/"),i=this.mE.path.substring(r+1);return e?n.ZT(i):i}var o=!1;"/"===e.charAt(0)&&(e=e.substring(1)),e.match(/\.?\//)&&(o=!0);var a=new RegExp(s(this.filename())+"$");return e=n.mT(e),this.mE.path=this.mE.path.replace(a,e),o?this.$T(t):this.sp(!t),this},y.suffix=function(e,t){if(this.mE.urn)return void 0===e?"":this;if(void 0===e||!0===e){if(!this.mE.path||"/"===this.mE.path)return"";var r,i,o=this.filename(),a=o.lastIndexOf(".");return-1===a?"":(r=o.substring(a+1),i=/^[a-z0-9%]+$/i.test(r)?r:"",e?n.ZT(i):i)}"."===e.charAt(0)&&(e=e.substring(1));var h,c=this.suffix();if(c)h=e?new RegExp(s(c)+"$"):new RegExp(s("."+c)+"$");else{if(!e)return this;this.mE.path+="."+n.mT(e)}return h&&(e=n.mT(e),this.mE.path=this.mE.path.replace(h,e)),this.sp(!t),this},y.FT=function(e,t,r){var i=this.mE.urn?":":"/",n=this.path(),s="/"===n.substring(0,1),o=n.split(i);if(void 0!==e&&"number"!=typeof e&&(r=t,t=e,e=void 0),void 0!==e&&"number"!=typeof e)throw new Error('Bad segment "'+e+'", must be 0-based integer');if(s&&o.shift(),e<0&&(e=Math.max(o.length+e,0)),void 0===t)return void 0===e?o:o[e];if(null===e||void 0===o[e])if(a(t)){o=[];for(var h=0,c=t.length;h<c;h++)(t[h].length||o.length&&o[o.length-1].length)&&(o.length&&!o[o.length-1].length&&o.pop(),o.push(l(t[h])))}else(t||"string"==typeof t)&&(t=l(t),""===o[o.length-1]?o[o.length-1]=t:o.push(t));else t?o[e]=l(t):o.splice(e,1);return s&&o.unshift(""),this.path(o.join(i),r)},y.eI=function(e,t,r){var i,s,o;if("number"!=typeof e&&(r=t,t=e,e=void 0),void 0===t){if(i=this.FT(e,t,r),a(i))for(s=0,o=i.length;s<o;s++)i[s]=n.decode(i[s]);else i=void 0!==i?n.decode(i):void 0;return i}if(a(t))for(s=0,o=t.length;s<o;s++)t[s]=n.encode(t[s]);else t="string"==typeof t||t instanceof String?n.encode(t):t;return this.FT(e,t,r)};var P=y.dn;return y.dn=function(e,t){if(!0===e)return n.RT(this.mE.dn,this.mE.wE);if("function"==typeof e){var r=n.RT(this.mE.dn,this.mE.wE),i=e.call(this,r);return this.mE.dn=n.CT(i||r,this.mE.IE,this.mE.wE),this.sp(!t),this}return void 0!==e&&"string"!=typeof e?(this.mE.dn=n.CT(e,this.mE.IE,this.mE.wE),this.sp(!t),this):P.call(this,e,t)},y.tI=function(e,t,r){var i=n.RT(this.mE.dn,this.mE.wE);if("string"==typeof e||e instanceof String)i[e]=void 0!==t?t:null;else{if("object"!=typeof e)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");for(var s in e)m.call(e,s)&&(i[s]=e[s])}return this.mE.dn=n.CT(i,this.mE.IE,this.mE.wE),"string"!=typeof e&&(r=t),this.sp(!r),this},y.OT=function(e,t,r){var i=n.RT(this.mE.dn,this.mE.wE);return n.OT(i,e,void 0===t?null:t),this.mE.dn=n.CT(i,this.mE.IE,this.mE.wE),"string"!=typeof e&&(r=t),this.sp(!r),this},y._T=function(e,t,r){var i=n.RT(this.mE.dn,this.mE.wE);return n._T(i,e,t),this.mE.dn=n.CT(i,this.mE.IE,this.mE.wE),"string"!=typeof e&&(r=t),this.sp(!r),this},y.NT=function(e,t,r){var i=n.RT(this.mE.dn,this.mE.wE);return n.NT(i,e,t,r)},y.rI=y.tI,y.iI=y.OT,y.nI=y._T,y.sI=y.NT,y.normalize=function(){return this.mE.urn?this.hI(!1).$T(!1).aI(!1).oI(!1).sp():this.hI(!1).uI(!1).cI(!1).$T(!1).aI(!1).oI(!1).sp()},y.hI=function(e){return"string"==typeof this.mE.protocol&&(this.mE.protocol=this.mE.protocol.toLowerCase(),this.sp(!e)),this},y.uI=function(r){return this.mE.hostname&&(this.is("IDN")&&e?this.mE.hostname=e.HT(this.mE.hostname):this.is("IPv6")&&t&&(this.mE.hostname=t.lI(this.mE.hostname)),this.mE.hostname=this.mE.hostname.toLowerCase(),this.sp(!r)),this},y.cI=function(e){return"string"==typeof this.mE.protocol&&this.mE.port===n._E[this.mE.protocol]&&(this.mE.port=null,this.sp(!e)),this},y.$T=function(e){var t=this.mE.path;if(!t)return this;if(this.mE.urn)return this.mE.path=n.ET(this.mE.path),this.sp(!e),this;if("/"===this.mE.path)return this;t=n.mT(t);var r,i,s,o="";for("/"!==t.charAt(0)&&(r=!0,t="/"+t),"/.."!==t.slice(-3)&&"/."!==t.slice(-2)||(t+="/"),t=t.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/"),r&&(o=t.substring(1).match(/^(\.\.\/)+/)||"")&&(o=o[0]);;){if(-1===(i=t.search(/\/\.\.(\/|$)/)))break;0!==i?(s=t.substring(0,i).lastIndexOf("/"),-1===s&&(s=i),t=t.substring(0,s)+t.substring(i+3)):t=t.substring(3)}return r&&this.is("relative")&&(t=o+t.substring(1)),this.mE.path=t,this.sp(!e),this},y.pI=y.$T,y.aI=function(e){return"string"==typeof this.mE.dn&&(this.mE.dn.length?this.dn(n.RT(this.mE.dn,this.mE.wE)):this.mE.dn=null,this.sp(!e)),this},y.oI=function(e){return this.mE.TE||(this.mE.TE=null,this.sp(!e)),this},y.fI=y.aI,y.dI=y.oI,y.JE=function(){var e=n.encode,t=n.decode;n.encode=escape,n.decode=decodeURIComponent;try{this.normalize()}finally{n.encode=e,n.decode=t}return this},y.WE=function(){var e=n.encode,t=n.decode;n.encode=f,n.decode=unescape;try{this.normalize()}finally{n.encode=e,n.decode=t}return this},y.gI=function(){var t=this.clone();t.username("").password("").normalize();var r="";if(t.mE.protocol&&(r+=t.mE.protocol+"://"),t.mE.hostname&&(t.is("punycode")&&e?(r+=e.vI(t.mE.hostname),t.mE.port&&(r+=":"+t.mE.port)):r+=t.host()),t.mE.hostname&&t.mE.path&&"/"!==t.mE.path.charAt(0)&&(r+="/"),r+=t.path(!0),t.mE.dn){for(var i="",s=0,o=t.mE.dn.split("&"),a=o.length;s<a;s++){var h=(o[s]||"").split("=");i+="&"+n.gT(h[0],this.mE.wE).replace(/&/g,"%26"),void 0!==h[1]&&(i+="="+n.gT(h[1],this.mE.wE).replace(/&/g,"%26"))}r+="?"+i.substring(1)}return r+=n.gT(t.hash(),!0)},y.Bi=function(e){var t,r,i,s=this.clone(),o=["protocol","username","password","hostname","port"];if(this.mE.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(e instanceof n||(e=new n(e)),s.mE.protocol)return s;if(s.mE.protocol=e.mE.protocol,this.mE.hostname)return s;for(r=0;i=o[r];r++)s.mE[i]=e.mE[i];return s.mE.path?(".."===s.mE.path.substring(-2)&&(s.mE.path+="/"),"/"!==s.path().charAt(0)&&(t=e.XT(),t=t||(0===e.path().indexOf("/")?"/":""),s.mE.path=(t?t+"/":"")+s.mE.path,s.$T())):(s.mE.path=e.mE.path,s.mE.dn||(s.mE.dn=e.mE.dn)),s.sp(),s},y.yI=function(e){var t,r,i,s,o,a=this.clone().normalize();if(a.mE.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(e=new n(e).normalize(),t=a.mE,r=e.mE,s=a.path(),o=e.path(),"/"!==s.charAt(0))throw new Error("URI is already relative");if("/"!==o.charAt(0))throw new Error("Cannot calculate a URI relative to another relative URI");if(t.protocol===r.protocol&&(t.protocol=null),t.username!==r.username||t.password!==r.password)return a.sp();if(null!==t.protocol||null!==t.username||null!==t.password)return a.sp();if(t.hostname!==r.hostname||t.port!==r.port)return a.sp();if(t.hostname=null,t.port=null,s===o)return t.path="",a.sp();if(!(i=n.LT(s,o)))return a.sp();var h=r.path.substring(i.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../");return t.path=h+t.path.substring(i.length)||"./",a.sp()},y.ae=function(e){var t,r,i,s=this.clone(),o=new n(e),h={},c={},l={};if(s.normalize(),o.normalize(),s.toString()===o.toString())return!0;if(t=s.dn(),r=o.dn(),s.dn(""),o.dn(""),s.toString()!==o.toString())return!1;if(t.length!==r.length)return!1;h=n.RT(t,this.mE.wE),c=n.RT(r,this.mE.wE);for(i in h)if(m.call(h,i)){if(a(h[i])){if(!u(h[i],c[i]))return!1}else if(h[i]!==c[i])return!1;l[i]=!0}for(i in c)if(m.call(c,i)&&!l[i])return!1;return!0},y.IE=function(e){return this.mE.IE=!!e,this},y.wE=function(e){return this.mE.wE=!!e,this},n})},function(e,t,r){"use strict";var i=this&&this.Ns||function(e,t){function r(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=r(68),s=r(66),o=function(e){function t(r){var i=e.call(this,r)||this;return i.DONE=4,i.LOADING=3,i.HEADERS_RECEIVED=2,i.OPENED=1,i.UNSENT=0,i.mI=!1,i.id=t.Ul++,i}return i(t,e),t.prototype.send=function(){if(this.readyState!==this.OPENED)throw new Error("The object's state must be OPENED.");if(!this.sessionId){var e=Object.keys(t.EI);e.length>0&&(this.sessionId=t.EI[e[0]])}n.wI.II().TI(this,this.sessionId)},t.prototype.abort=function(){n.wI.II().abort(this,this.sessionId)},t}(s.SI);o.EI={},o.Ul=0,t.HiveRequest=o},function(e,t,r){"use strict";var i=r(0),n=r(9),s=r(5),o=s.Rt.wi,a=function(){function e(){}return e.Reporting=function(){return e.app="STATS",i.Framework.resolve(n.Qs.qs)},e.Jc=function(){return this.app},e.getVersion=function(){return this.version},e}();a.version=o,t.Hive=a},function(module,exports,__webpack_require__){var Thrift={RI:"0.9.2",bI:{AI:0,CI:1,BOOL:2,BYTE:3,kI:3,OI:4,_I:6,NI:8,DI:10,FI:11,LI:11,MI:12,BI:13,UI:14,xI:15,HI:16,qI:17},VI:{jI:1,GI:2,QI:3,KI:4},YI:function(e){var t=0;for(var r in e)e.hasOwnProperty(r)&&t++;return t},zI:function(e,t,r){function i(){}i.prototype=t.prototype,e.prototype=new i,e.prototype.name=r||""}};Thrift.JI=function(e){this.message=e},Thrift.zI(Thrift.JI,Error,"TException"),Thrift.JI.prototype.WI=function(){return this.message},Thrift.XI={ZI:0,$I:1,ew:2,tw:3,rw:4,iw:5,nw:6,sw:7,ow:8,aw:9,hw:10},Thrift.cw=function(e,t){this.message=e,this.code="number"==typeof t?t:0},Thrift.zI(Thrift.cw,Thrift.JI,"TApplicationException"),Thrift.cw.prototype.read=function(e){for(;;){var t=e.uw();if(t.lw==Thrift.bI.AI)break;switch(t.pw){case 1:t.lw==Thrift.bI.FI?(t=e.fw(),this.message=t.value):t=e.dw(t.lw);break;case 2:t.lw==Thrift.bI.NI?(t=e.gw(),this.code=t.value):t=e.dw(t.lw);break;default:t=e.dw(t.lw)}e.vw()}e.yw()},Thrift.cw.prototype.write=function(e){e.mw("TApplicationException"),this.message&&(e.Ew("message",Thrift.bI.FI,1),e.Tw(this.WI()),e.Iw()),this.code&&(e.Ew("type",Thrift.bI.NI,2),e.ww(this.code),e.Iw()),e.Sw(),e.Rw()},Thrift.cw.prototype.bw=function(){return this.code},Thrift.Mr=Thrift.Pw=function(e,t){this.url=e,this.Aw=0,this.Cw=0,this.kw=t&&t.kw,this.Ow="",this._w=""},Thrift.Pw.prototype={Nw:function(){try{return new XMLHttpRequest}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}throw"Your browser doesn't support XHR."},flush:function(e,t){var r=this;if(e&&!t||void 0===this.url||""===this.url)return this.Ow;var i=this.Nw();if(i.overrideMimeType&&i.overrideMimeType("application/json"),t&&(i.onreadystatechange=function(){var e=t;return function(){4==this.readyState&&200==this.status&&(r.Dw(this.responseText),e())}}()),i.open("POST",this.url,!!e),i.send(this.Ow),!e||!t){if(4!=i.readyState)throw"encountered an unknown ajax ready state: "+i.readyState;if(200!=i.status)throw"encountered a unknown request status: "+i.status;this._w=i.responseText,this.Fw=this._w.length,this.Aw=this._w.length,this.Cw=0}},Lw:function(e,t,r,i){if("undefined"==typeof jQuery||void 0===jQuery.Mw)throw"Thrift.js requires jQuery 1.5+ to use asynchronous requests";var n=this;return jQuery.Bw({url:this.url,data:t,type:"POST",Uw:!1,contentType:"application/json",xw:"text thrift",Hw:{qw:function(t){return n.Dw(t),i.call(e)}},context:e,success:jQuery.Vw(r).pop()})},Dw:function(e){this._w=e,this.Fw=this._w.length,this.Aw=this._w.length,this.Cw=0},isOpen:function(){return!0},open:function(){},close:function(){},read:function(e){var t=this.Aw-this.Cw;if(0===t)return"";var r=e;t<e&&(r=t);var i=this.jw.substr(this.Cw,r);return this.Cw+=r,i},Gw:function(){return this._w},write:function(e){this.Ow=e},Qw:function(){return this.Ow}},Thrift.Kw=function(e){this.Yw(e)},Thrift.Kw.prototype={Yw:function(e){this.url=e,this.zw=null,this.callbacks=[],this.Jw=[],this.Ow="",this._w="",this.Ww=0,this.Xw=0},flush:function(e,t){var r=this;this.isOpen()?(this.zw.send(this.Ow),this.callbacks.push(function(){var e=t;return function(t){r.Dw(t),e()}}())):this.Jw.push({Zw:this.Ow,$w:t})},eS:function(){var e=this;this.Jw.length>0&&(this.Jw.forEach(function(t){this.zw.send(t.Zw),this.callbacks.push(function(){var r=t.$w;return function(t){e.Dw(t),r()}}())}),this.Jw=[])},tS:function(e){this.Yw(this.url)},rS:function(e){this.callbacks.length&&this.callbacks.shift()(e.data)},iS:function(e){console.log("Thrift WebSocket Error: "+e.toString()),this.zw.close()},Dw:function(e){this._w=e,this.Fw=this._w.length,this.Aw=this._w.length,this.Cw=0},isOpen:function(){return this.zw&&this.zw.readyState==this.zw.OPEN},open:function(){this.zw&&this.zw.readyState!=this.zw.CLOSED||(this.zw=new WebSocket(this.url),this.zw.onopen=this.eS.bind(this),this.zw.onmessage=this.rS.bind(this),this.zw.onerror=this.iS.bind(this),this.zw.onclose=this.tS.bind(this))},close:function(){this.zw.close()},read:function(e){var t=this.Aw-this.Cw;if(0===t)return"";var r=e;t<e&&(r=t);var i=this.jw.substr(this.Cw,r);return this.Cw+=r,i},Gw:function(){return this._w},write:function(e){this.Ow=e},Qw:function(){return this.Ow}},Thrift.nS=Thrift.sS=function(e){this.Pl=e},Thrift.sS.bI={},Thrift.sS.bI[Thrift.bI.BOOL]='"tf"',Thrift.sS.bI[Thrift.bI.BYTE]='"i8"',Thrift.sS.bI[Thrift.bI._I]='"i16"',Thrift.sS.bI[Thrift.bI.NI]='"i32"',Thrift.sS.bI[Thrift.bI.DI]='"i64"',Thrift.sS.bI[Thrift.bI.OI]='"dbl"',Thrift.sS.bI[Thrift.bI.MI]='"rec"',Thrift.sS.bI[Thrift.bI.FI]='"str"',Thrift.sS.bI[Thrift.bI.BI]='"map"',Thrift.sS.bI[Thrift.bI.xI]='"lst"',Thrift.sS.bI[Thrift.bI.UI]='"set"',Thrift.sS.oS={},Thrift.sS.oS.aS=Thrift.bI.BOOL,Thrift.sS.oS.hS=Thrift.bI.BYTE,Thrift.sS.oS.cS=Thrift.bI._I,Thrift.sS.oS.uS=Thrift.bI.NI,Thrift.sS.oS.lS=Thrift.bI.DI,Thrift.sS.oS.pS=Thrift.bI.OI,Thrift.sS.oS.fS=Thrift.bI.MI,Thrift.sS.oS.Lg=Thrift.bI.FI,Thrift.sS.oS.map=Thrift.bI.BI,Thrift.sS.oS.dS=Thrift.bI.xI,Thrift.sS.oS.set=Thrift.bI.UI,Thrift.sS.RI=1,Thrift.sS.prototype={gS:function(){return this.Pl},vS:function(e,t,r){this.yS=[],this.mS=[],this.yS.push([Thrift.sS.RI,'"'+e+'"',t,r])},ES:function(){var e=this.yS.pop();this.TS=this.yS.pop(),this.TS.push(e),this.IS="["+this.TS.join(",")+"]",this.Pl.write(this.IS)},mw:function(e){this.mS.push(this.yS.length),this.yS.push({})},Rw:function(){var e=this.mS.pop(),t=this.yS[e],r="{",i=!0;for(var n in t)i?i=!1:r+=",",r+=n+":"+t[n];r+="}",this.yS[e]=r},Ew:function(e,t,r){this.mS.push(this.yS.length),this.yS.push({wS:'"'+r+'"',SS:Thrift.sS.bI[t]})},Iw:function(){var e=this.yS.pop(),t=this.yS.pop();this.yS[this.yS.length-1][t.wS]="{"+t.SS+":"+e+"}",this.mS.pop()},Sw:function(){},RS:function(e,t,r){this.mS.push(this.yS.length),this.yS.push([Thrift.sS.bI[e],Thrift.sS.bI[t],0])},bS:function(){var e=this.mS.pop();if(e!=this.yS.length){(this.yS.length-e-1)%2!=0&&this.yS.push("");var t=(this.yS.length-e-1)/2;this.yS[e][this.yS[e].length-1]=t;for(var r="}",i=!0;this.yS.length>e+1;){var n=this.yS.pop(),s=this.yS.pop();i?i=!1:r=","+r,isNaN(s)||(s='"'+s+'"'),r=s+":"+n+r}r="{"+r,this.yS[e].push(r),this.yS[e]="["+this.yS[e].join(",")+"]"}},PS:function(e,t){this.mS.push(this.yS.length),this.yS.push([Thrift.sS.bI[e],t])},CS:function(){for(var e=this.mS.pop();this.yS.length>e+1;){var t=this.yS[e+1];this.yS.splice(e+1,1),this.yS[e].push(t)}this.yS[e]="["+this.yS[e].join(",")+"]"},kS:function(e,t){this.mS.push(this.yS.length),this.yS.push([Thrift.sS.bI[e],t])},OS:function(){for(var e=this.mS.pop();this.yS.length>e+1;){var t=this.yS[e+1];this.yS.splice(e+1,1),this.yS[e].push(t)}this.yS[e]="["+this.yS[e].join(",")+"]"},_S:function(e){this.yS.push(e?1:0)},NS:function(e){this.yS.push(e)},DS:function(e){this.yS.push(e)},ww:function(e){this.yS.push(e)},FS:function(e){this.yS.push(e)},LS:function(e){this.yS.push(e)},Tw:function(e){if(null===e)this.yS.push(null);else{for(var t="",r=0;r<e.length;r++){var i=e.charAt(r);t+='"'===i?'\\"':"\\"===i?"\\\\":"\b"===i?"\\b":"\f"===i?"\\f":"\n"===i?"\\n":"\r"===i?"\\r":"\t"===i?"\\t":i}this.yS.push('"'+t+'"')}},MS:function(e){this.Tw(e)},BS:function(){this.US=[],this.Cw=[],"undefined"!=typeof JSON&&"function"==typeof JSON.parse?this.xS=JSON.parse(this.Pl.Gw()):"undefined"!=typeof jQuery?this.xS=jQuery.HS(this.Pl.Gw()):this.xS=eval(this.Pl.Gw());var r={},version=this.xS.shift();if(version!=Thrift.sS.RI)throw"Wrong thrift protocol version: "+version;return r.qS=this.xS.shift(),r.VS=this.xS.shift(),r.jS=this.xS.shift(),this.US.push(this.xS.shift()),r},GS:function(){},QS:function(e){var t={};return t.qS="",this.US[this.US.length-1]instanceof Array&&this.US.push(this.US[this.US.length-1].shift()),t},yw:function(){this.US[this.US.length-2]instanceof Array&&this.US.pop()},uw:function(){var e={},t=-1,r=Thrift.bI.AI;for(var i in this.US[this.US.length-1])if(null!==i){t=parseInt(i,10),this.Cw.push(this.US.length);var n=this.US[this.US.length-1][t];delete this.US[this.US.length-1][t],this.US.push(n);break}if(-1!=t)for(var s in this.US[this.US.length-1])null!==Thrift.sS.oS[s]&&(r=Thrift.sS.oS[s],this.US[this.US.length-1]=this.US[this.US.length-1][s]);return e.qS="",e.lw=r,e.pw=t,e},vw:function(){for(var e=this.Cw.pop();this.US.length>e;)this.US.pop()},KS:function(){var e=this.US.pop(),t=e.shift();t instanceof Array&&(this.US.push(e),e=t,t=e.shift());var r={};return r.YS=Thrift.sS.oS[t],r.zS=Thrift.sS.oS[e.shift()],r.size=e.shift(),this.Cw.push(this.US.length),this.US.push(e.shift()),r},JS:function(){this.vw()},WS:function(){var e=this.US[this.US.length-1],t={};return t.XS=Thrift.sS.oS[e.shift()],t.size=e.shift(),this.Cw.push(this.US.length),this.US.push(e),t},ZS:function(){this.vw()},$S:function(e,t){return this.WS(e,t)},eR:function(){return this.ZS()},tR:function(){var e=this.gw();return null!==e&&"1"==e.value?e.value=!0:e.value=!1,e},rR:function(){return this.gw()},iR:function(){return this.gw()},gw:function(e){void 0===e&&(e=this.US[this.US.length-1]);var t={};if(e instanceof Array)0===e.length?t.value=void 0:t.value=e.shift();else if(e instanceof Object){for(var r in e)if(null!==r){this.US.push(e[r]),delete e[r],t.value=r;break}}else t.value=e,this.US.pop();return t},nR:function(){return this.gw()},sR:function(){return this.gw()},fw:function(){return this.gw()},oR:function(){return this.fw()},dw:function(e){var t,r;switch(e){case Thrift.bI.AI:return null;case Thrift.bI.BOOL:return this.tR();case Thrift.bI.BYTE:return this.rR();case Thrift.bI._I:return this.iR();case Thrift.bI.NI:return this.gw();case Thrift.bI.DI:return this.nR();case Thrift.bI.OI:return this.sR();case Thrift.bI.FI:return this.fw();case Thrift.bI.MI:for(this.QS();;){if(t=this.uw(),t.lw==Thrift.bI.AI)break;this.dw(t.lw),this.vw()}return this.yw(),null;case Thrift.bI.BI:for(t=this.KS(),r=0;r<t.size;r++)r>0&&this.US.length>this.Cw[this.Cw.length-1]+1&&this.US.pop(),this.dw(t.YS),this.dw(t.zS);return this.JS(),null;case Thrift.bI.UI:for(t=this.$S(),r=0;r<t.size;r++)this.dw(t.XS);return this.eR(),null;case Thrift.bI.xI:for(t=this.WS(),r=0;r<t.size;r++)this.dw(t.XS);return this.ZS(),null}}},Thrift.aR=function(e,t,r,i){Thrift.sS.call(this,t,r,i),this.hR=e},Thrift.zI(Thrift.aR,Thrift.sS,"multiplexProtocol"),Thrift.aR.prototype.vS=function(e,t,r){t===Thrift.VI.jI||t===Thrift.VI.KI?Thrift.sS.prototype.vS.call(this,this.hR+":"+e,t,r):Thrift.sS.prototype.vS.call(this,e,t,r)},Thrift.cR=function(){this.uR=0},Thrift.cR.prototype.lR=function(e,t,r){t.vc&&(t=t.vc);var i=this;return t.prototype.pR=function(){return i.uR+=1,i.uR},new t(new Thrift.aR(e,r))},module.t=Thrift},function(e,t,r){"use strict";var i=r(10),n=r(25),s=n.sl,o=function(){function e(e,t,r,i,n,o,a,h){this.fR=h,this.url=e,this.dR=r,this.gR=t,this.vR=i,this.duration=n,this.bitrate=o,this.yR=a;var c=(this.fR?this.fR:this.url).replace(/http(s)?:\/\//,""),u=s.Vd(c).toString(s.Ed.Td);this.mR=u+"-"+this.vR+"-"+this.bitrate}return e.prototype.Yu=function(){return this.gR},e.prototype.ER=function(){return this.vR},e.prototype.TR=function(){return this.duration},e.prototype.IR=function(){return this.bitrate},e.prototype.$u=function(){return this.yR},e.prototype.wR=function(){return this.dR},e.prototype.zu=function(){return this.mR},e.prototype.Xu=function(){return this.url},e.prototype.toString=function(){return i.Ws[this.Yu()]+"-"+this.zu()},e}();t.SR=o},function(e,t,r){(function(e){var n,s;/**
 * @license ByteBuffer.js (c) 2013-2014 Daniel Wirtz <dcode@dcode.io>
 * This version of ByteBuffer.js uses an ArrayBuffer as its backing buffer which is accessed through a DataView and is
 * compatible with modern browsers.
 * Released under the Apache License, Version 2.0
 * see: https://github.com/dcodeIO/ByteBuffer.js for details
 */
!function(o){"use strict";function a(e){function t(e){var t=0;return function(){return t<e.length?e.charCodeAt(t++):null}}function r(){var e=[],t=[];return function(){if(0===arguments.length)return t.join("")+a.apply(String,e);e.length+arguments.length>1024&&(t.push(a.apply(String,e)),e.length=0),Array.prototype.push.apply(e,arguments)}}var n=function(e,t,r){if(void 0===e&&(e=n.RR),void 0===t&&(t=n.bR),void 0===r&&(r=n.PR),!r){if((e|=0)<0)throw RangeError("Illegal capacity");t=!!t,r=!!r}this.buffer=0===e?o:new ArrayBuffer(e),this.view=0===e?null:new DataView(this.buffer),this.offset=0,this.AR=-1,this.CR=e,this.kR=void 0!==t&&!!t,this.OR=!!r};n.VERSION="3.5.5",n._R=!0,n.NR=!1,n.RR=16,n.bR=n.NR,n.PR=!1,n.DR=e||null;var s=n.prototype,o=new ArrayBuffer(0),a=String.fromCharCode;n.FR=function(e,t,r){return new n(e,t,r)},n.concat=function(e,t,r,i){"boolean"!=typeof t&&"string"==typeof t||(i=r,r=t,t=void 0);for(var s,o=0,a=0,h=e.length;a<h;++a)n.LR(e[a])||(e[a]=n.wrap(e[a],t)),(s=e[a].CR-e[a].offset)>0&&(o+=s);if(0===o)return new n(0,r,i);var c,u=new n(o,r,i),l=new Uint8Array(u.buffer);for(a=0;a<h;)c=e[a++],(s=c.CR-c.offset)<=0||(l.set(new Uint8Array(c.buffer).subarray(c.offset,c.CR),u.offset),u.offset+=s);return u.CR=u.offset,u.offset=0,u},n.LR=function(e){return!0===(e&&e instanceof n)},n.type=function(){return ArrayBuffer},n.wrap=function(e,t,r,o){if("string"!=typeof t&&(o=r,r=t,t=void 0),"string"==typeof e)switch(void 0===t&&(t="utf8"),t){case"base64":return n.MR(e,r);case"hex":return n.BR(e,r);case"binary":return n.UR(e,r);case"utf8":return n.xR(e,r);case"debug":return n.HR(e,r);default:throw Error("Unsupported encoding: "+t)}if(null===e||"object"!=typeof e)throw TypeError("Illegal buffer");var a;if(n.LR(e))return a=s.clone.call(e),a.AR=-1,a;if(e instanceof Uint8Array)a=new n(0,r,o),e.length>0&&(a.buffer=e.buffer,a.offset=e.byteOffset,a.CR=e.byteOffset+e.length,a.view=e.length>0?new DataView(e.buffer):null);else if(e instanceof ArrayBuffer)a=new n(0,r,o),e.byteLength>0&&(a.buffer=e,a.offset=0,a.CR=e.byteLength,a.view=e.byteLength>0?new DataView(e):null);else{if("[object Array]"!==Object.prototype.toString.call(e))throw TypeError("Illegal buffer");for(a=new n(e.length,r,o),a.CR=e.length,i=0;i<e.length;++i)a.view.setUint8(i,e[i])}return a},s.qR=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.OR){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=1;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=1,this.view.setInt8(t,e),r&&(this.offset+=1),this},s.NS=s.qR,s.VR=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.OR){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var r=this.view.getInt8(e);return t&&(this.offset+=1),r},s.rR=s.VR,s.jR=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.OR){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=1;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=1,this.view.setUint8(t,e),r&&(this.offset+=1),this},s.GR=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.OR){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var r=this.view.getUint8(e);return t&&(this.offset+=1),r},s.QR=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.OR){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=2;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=2,this.view.setInt16(t,e,this.kR),r&&(this.offset+=2),this},s.KR=s.QR,s.YR=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.OR){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+2) <= "+this.buffer.byteLength)}var r=this.view.getInt16(e,this.kR);return t&&(this.offset+=2),r},s.zR=s.YR,s.JR=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.OR){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=2;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=2,this.view.setUint16(t,e,this.kR),r&&(this.offset+=2),this},s.WR=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.OR){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+2) <= "+this.buffer.byteLength)}var r=this.view.getUint16(e,this.kR);return t&&(this.offset+=2),r},s.XR=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.OR){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=4;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=4,this.view.setInt32(t,e,this.kR),r&&(this.offset+=4),this},s.Yl=s.XR,s.ZR=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.OR){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}var r=this.view.getInt32(e,this.kR);return t&&(this.offset+=4),r},s.$l=s.ZR,s.$R=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.OR){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=4;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=4,this.view.setUint32(t,e,this.kR),r&&(this.offset+=4),this},s.eb=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.OR){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}var r=this.view.getUint32(e,this.kR);return t&&(this.offset+=4),r},e&&(s.tb=function(t,r){var i=void 0===r;if(i&&(r=this.offset),!this.OR){if("number"==typeof t)t=e.dp(t);else if("string"==typeof t)t=e.gp(t);else if(!(t&&t instanceof e))throw TypeError("Illegal value: "+t+" (not an integer or Long)");if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}"number"==typeof t?t=e.dp(t):"string"==typeof t&&(t=e.gp(t)),r+=8;var n=this.buffer.byteLength;return r>n&&this.resize((n*=2)>r?n:r),r-=8,this.kR?(this.view.setInt32(r,t.low,!0),this.view.setInt32(r+4,t.high,!0)):(this.view.setInt32(r,t.high,!1),this.view.setInt32(r+4,t.low,!1)),i&&(this.offset+=8),this},s.rb=s.tb,s.ib=function(t){var r=void 0===t;if(r&&(t=this.offset),!this.OR){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+8) <= "+this.buffer.byteLength)}var i=this.kR?new e(this.view.getInt32(t,!0),this.view.getInt32(t+4,!0),!1):new e(this.view.getInt32(t+4,!1),this.view.getInt32(t,!1),!1);return r&&(this.offset+=8),i},s.nb=s.ib,s.sb=function(t,r){var i=void 0===r;if(i&&(r=this.offset),!this.OR){if("number"==typeof t)t=e.dp(t);else if("string"==typeof t)t=e.gp(t);else if(!(t&&t instanceof e))throw TypeError("Illegal value: "+t+" (not an integer or Long)");if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}"number"==typeof t?t=e.dp(t):"string"==typeof t&&(t=e.gp(t)),r+=8;var n=this.buffer.byteLength;return r>n&&this.resize((n*=2)>r?n:r),r-=8,this.kR?(this.view.setInt32(r,t.low,!0),this.view.setInt32(r+4,t.high,!0)):(this.view.setInt32(r,t.high,!1),this.view.setInt32(r+4,t.low,!1)),i&&(this.offset+=8),this},s.ob=function(t){var r=void 0===t;if(r&&(t=this.offset),!this.OR){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+8) <= "+this.buffer.byteLength)}var i=this.kR?new e(this.view.getInt32(t,!0),this.view.getInt32(t+4,!0),!0):new e(this.view.getInt32(t+4,!1),this.view.getInt32(t,!1),!0);return r&&(this.offset+=8),i}),s.ab=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.OR){if("number"!=typeof e)throw TypeError("Illegal value: "+e+" (not a number)");if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=4;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=4,this.view.setFloat32(t,e,this.kR),r&&(this.offset+=4),this},s.hb=s.ab,s.cb=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.OR){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}var r=this.view.getFloat32(e,this.kR);return t&&(this.offset+=4),r},s.ub=s.cb,s.lb=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.OR){if("number"!=typeof e)throw TypeError("Illegal value: "+e+" (not a number)");if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=8;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=8,this.view.setFloat64(t,e,this.kR),r&&(this.offset+=8),this},s.LS=s.lb,s.pb=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.OR){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+8) <= "+this.buffer.byteLength)}var r=this.view.getFloat64(e,this.kR);return t&&(this.offset+=8),r},s.sR=s.pb,n.fb=5,n.gb=function(e){return e>>>=0,e<128?1:e<16384?2:e<1<<21?3:e<1<<28?4:5},n.vb=function(e){return((e|=0)<<1^e>>31)>>>0},n.yb=function(e){return e>>>1^-(1&e)|0},s.mb=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.OR){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}var i,s=n.gb(e);t+=s;var o=this.buffer.byteLength;return t>o&&this.resize((o*=2)>t?o:t),t-=s,this.view.setUint8(t,i=128|e),e>>>=0,e>=128?(i=e>>7|128,this.view.setUint8(t+1,i),e>=16384?(i=e>>14|128,this.view.setUint8(t+2,i),e>=1<<21?(i=e>>21|128,this.view.setUint8(t+3,i),e>=1<<28?(this.view.setUint8(t+4,e>>28&15),s=5):(this.view.setUint8(t+3,127&i),s=4)):(this.view.setUint8(t+2,127&i),s=3)):(this.view.setUint8(t+1,127&i),s=2)):(this.view.setUint8(t,127&i),s=1),r?(this.offset+=s,this):s},s.Eb=function(e,t){return this.mb(n.vb(e),t)},s.Tb=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.OR){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var r,i,n=0,s=0;do{if(i=e+n,!this.OR&&i>this.CR){var o=Error("Truncated");throw o.Ib=!0,o}r=this.view.getUint8(i),n<5&&(s|=(127&r)<<7*n>>>0),++n}while(128==(128&r));return s|=0,t?(this.offset+=n,s):{value:s,length:n}},s.wb=function(e){var t=this.Tb(e);return"object"==typeof t?t.value=n.yb(t.value):t=n.yb(t),t},e&&(n.Sb=10,n.Rb=function(t){"number"==typeof t?t=e.dp(t):"string"==typeof t&&(t=e.gp(t));var r=t.bb()>>>0,i=t.Pb(28).bb()>>>0,n=t.Pb(56).bb()>>>0;return 0==n?0==i?r<16384?r<128?1:2:r<1<<21?3:4:i<16384?i<128?5:6:i<1<<21?7:8:n<128?9:10},n.Ab=function(t){return"number"==typeof t?t=e.dp(t,!1):"string"==typeof t?t=e.gp(t,!1):!1!==t.Cb&&(t=t.kb()),t.shiftLeft(1).zd(t._b(63)).Ob()},n.Nb=function(t){return"number"==typeof t?t=e.dp(t,!1):"string"==typeof t?t=e.gp(t,!1):!1!==t.Cb&&(t=t.kb()),t.Pb(1).zd(t.Db(e.ONE).kb().Rp()).kb()},s.Fb=function(t,r){var i=void 0===r;if(i&&(r=this.offset),!this.OR){if("number"==typeof t)t=e.dp(t);else if("string"==typeof t)t=e.gp(t);else if(!(t&&t instanceof e))throw TypeError("Illegal value: "+t+" (not an integer or Long)");if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}"number"==typeof t?t=e.dp(t,!1):"string"==typeof t?t=e.gp(t,!1):!1!==t.Cb&&(t=t.kb());var s=n.Rb(t),o=t.bb()>>>0,a=t.Pb(28).bb()>>>0,h=t.Pb(56).bb()>>>0;r+=s;var c=this.buffer.byteLength;switch(r>c&&this.resize((c*=2)>r?c:r),r-=s,s){case 10:this.view.setUint8(r+9,h>>>7&1);case 9:this.view.setUint8(r+8,9!==s?128|h:127&h);case 8:this.view.setUint8(r+7,8!==s?a>>>21|128:a>>>21&127);case 7:this.view.setUint8(r+6,7!==s?a>>>14|128:a>>>14&127);case 6:this.view.setUint8(r+5,6!==s?a>>>7|128:a>>>7&127);case 5:this.view.setUint8(r+4,5!==s?128|a:127&a);case 4:this.view.setUint8(r+3,4!==s?o>>>21|128:o>>>21&127);case 3:this.view.setUint8(r+2,3!==s?o>>>14|128:o>>>14&127);case 2:this.view.setUint8(r+1,2!==s?o>>>7|128:o>>>7&127);case 1:this.view.setUint8(r,1!==s?128|o:127&o)}return i?(this.offset+=s,this):s},s.Lb=function(e,t){return this.Fb(n.Ab(e),t)},s.Mb=function(t){var r=void 0===t;if(r&&(t=this.offset),!this.OR){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var i=t,n=0,s=0,o=0,a=0;if(a=this.view.getUint8(t++),n=127&a,128&a&&(a=this.view.getUint8(t++),n|=(127&a)<<7,128&a&&(a=this.view.getUint8(t++),n|=(127&a)<<14,128&a&&(a=this.view.getUint8(t++),n|=(127&a)<<21,128&a&&(a=this.view.getUint8(t++),s=127&a,128&a&&(a=this.view.getUint8(t++),s|=(127&a)<<7,128&a&&(a=this.view.getUint8(t++),s|=(127&a)<<14,128&a&&(a=this.view.getUint8(t++),s|=(127&a)<<21,128&a&&(a=this.view.getUint8(t++),o=127&a,128&a&&(a=this.view.getUint8(t++),o|=(127&a)<<7,128&a))))))))))throw Error("Buffer overrun");var h=e.Ay(n|s<<28,s>>>4|o<<24,!1);return r?(this.offset=t,h):{value:h,length:t-i}},s.Bb=function(t){var r=this.Mb(t);return r&&r.value instanceof e?r.value=n.Nb(r.value):r=n.Nb(r),r}),s.zl=function(e,r){var i=void 0===r;i&&(r=this.offset);var n,s=e.length;if(!this.OR){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");for(n=0;n<s;++n)if(0===e.charCodeAt(n))throw RangeError("Illegal str: Contains NULL-characters");if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}s=c.Ub(t(e))[1],r+=s+1;var o=this.buffer.byteLength;return r>o&&this.resize((o*=2)>r?o:r),r-=s+1,c.xb(t(e),function(e){this.view.setUint8(r++,e)}.bind(this)),this.view.setUint8(r++,0),i?(this.offset=r,this):s},s.tp=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.OR){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var i,n=e,s=-1;return c.Hb(function(){if(0===s)return null;if(e>=this.CR)throw RangeError("Illegal range: Truncated data, "+e+" < "+this.CR);return 0===(s=this.view.getUint8(e++))?null:s}.bind(this),i=r(),!0),t?(this.offset=e,i()):{qb:i(),length:e-n}},s.Vb=function(e,r){var i=void 0===r;if(i&&(r=this.offset),!this.OR){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}var n,s=r;n=c.Ub(t(e),this.OR)[1],r+=4+n;var o=this.buffer.byteLength;if(r>o&&this.resize((o*=2)>r?o:r),r-=4+n,this.view.setUint32(r,n,this.kR),r+=4,c.xb(t(e),function(e){this.view.setUint8(r++,e)}.bind(this)),r!==s+4+n)throw RangeError("Illegal range: Truncated data, "+r+" == "+(r+4+n));return i?(this.offset=r,this):r-s},s.jb=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.OR){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}var i,n=0,s=e;n=this.view.getUint32(e,this.kR),e+=4;var o,a=e+n;return c.Hb(function(){return e<a?this.view.getUint8(e++):null}.bind(this),o=r(),this.OR),i=o(),t?(this.offset=e,i):{qb:i,length:e-s}},n.Gb="c",n.Qb="b",s.Kb=function(e,r){var i=void 0===r;if(i&&(r=this.offset),!this.OR){if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}var n,s=r;n=c.Ub(t(e))[1],r+=n;var o=this.buffer.byteLength;return r>o&&this.resize((o*=2)>r?o:r),r-=n,c.xb(t(e),function(e){this.view.setUint8(r++,e)}.bind(this)),i?(this.offset=r,this):r-s},s.Tw=s.Kb,n.Yb=function(e){return c.Ub(t(e))[0]},n.zb=function(e){return c.Ub(t(e))[1]},s.Jb=function(e,t,i){"number"==typeof t&&(i=t,t=void 0);var s=void 0===i;if(s&&(i=this.offset),void 0===t&&(t=n.Gb),!this.OR){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal length: "+e+" (not an integer)");if(e|=0,"number"!=typeof i||i%1!=0)throw TypeError("Illegal offset: "+i+" (not an integer)");if((i>>>=0)<0||i+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+0) <= "+this.buffer.byteLength)}var o,a=0,h=i;if(t===n.Gb){if(o=r(),c.Wb(function(){return a<e&&i<this.CR?this.view.getUint8(i++):null}.bind(this),function(e){++a,c.Xb(e,o)}.bind(this)),a!==e)throw RangeError("Illegal range: Truncated data, "+a+" == "+e);return s?(this.offset=i,o()):{qb:o(),length:i-h}}if(t===n.Qb){if(!this.OR){if("number"!=typeof i||i%1!=0)throw TypeError("Illegal offset: "+i+" (not an integer)");if((i>>>=0)<0||i+e>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+"+e+") <= "+this.buffer.byteLength)}var u=i+e;if(c.Hb(function(){return i<u?this.view.getUint8(i++):null}.bind(this),o=r(),this.OR),i!==u)throw RangeError("Illegal range: Truncated data, "+i+" == "+u);return s?(this.offset=i,o()):{qb:o(),length:i-h}}throw TypeError("Unsupported metrics: "+t)},s.fw=s.Jb,s.Zb=function(e,r){var i=void 0===r;if(i&&(r=this.offset),!this.OR){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}var s,o,a=r;s=c.Ub(t(e),this.OR)[1],o=n.gb(s),r+=o+s;var h=this.buffer.byteLength;if(r>h&&this.resize((h*=2)>r?h:r),r-=o+s,r+=this.mb(s,r),c.xb(t(e),function(e){this.view.setUint8(r++,e)}.bind(this)),r!==a+s+o)throw RangeError("Illegal range: Truncated data, "+r+" == "+(r+s+o));return i?(this.offset=r,this):r-a},s.$b=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.OR){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var i,n=this.Tb(e),s=e;e+=n.length,n=n.value;var o=e+n,a=r();return c.Hb(function(){return e<o?this.view.getUint8(e++):null}.bind(this),a,this.OR),i=a(),t?(this.offset=e,i):{qb:i,length:e-s}},s.append=function(e,t,r){"number"!=typeof t&&"string"==typeof t||(r=t,t=void 0);var i=void 0===r;if(i&&(r=this.offset),!this.OR){if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}e instanceof n||(e=n.wrap(e,t));var s=e.CR-e.offset;if(s<=0)return this;r+=s;var o=this.buffer.byteLength;return r>o&&this.resize((o*=2)>r?o:r),r-=s,new Uint8Array(this.buffer,r).set(new Uint8Array(e.buffer).subarray(e.offset,e.CR)),e.offset+=s,i&&(this.offset+=s),this},s.eP=function(e,t){return e.append(this,t),this},s.assert=function(e){return this.OR=!e,this},s.tP=function(){return this.buffer.byteLength},s.clear=function(){return this.offset=0,this.CR=this.buffer.byteLength,this.AR=-1,this},s.clone=function(e){var t=new n(0,this.kR,this.OR);if(e){var r=new ArrayBuffer(this.buffer.byteLength);new Uint8Array(r).set(this.buffer),t.buffer=r,t.view=new DataView(r)}else t.buffer=this.buffer,t.view=this.view;return t.offset=this.offset,t.AR=this.AR,t.CR=this.CR,t},s.compact=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.CR),!this.OR){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}if(0===e&&t===this.buffer.byteLength)return this;var r=t-e;if(0===r)return this.buffer=o,this.view=null,this.AR>=0&&(this.AR-=e),this.offset=0,this.CR=0,this;var i=new ArrayBuffer(r);return new Uint8Array(i).set(new Uint8Array(this.buffer).subarray(e,t)),this.buffer=i,this.view=new DataView(i),this.AR>=0&&(this.AR-=e),this.offset=0,this.CR=r,this},s.rP=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.CR),!this.OR){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}if(e===t)return new n(0,this.kR,this.OR);var r=t-e,i=new n(r,this.kR,this.OR);return i.offset=0,i.CR=r,i.AR>=0&&(i.AR-=e),this.Ap(i,0,e,t),i},s.Ap=function(e,t,r,i){var s,o;if(!this.OR&&!n.LR(e))throw TypeError("Illegal target: Not a ByteBuffer");if(t=(o=void 0===t)?e.offset:0|t,r=(s=void 0===r)?this.offset:0|r,i=void 0===i?this.CR:0|i,t<0||t>e.buffer.byteLength)throw RangeError("Illegal target range: 0 <= "+t+" <= "+e.buffer.byteLength);if(r<0||i>this.buffer.byteLength)throw RangeError("Illegal source range: 0 <= "+r+" <= "+this.buffer.byteLength);var a=i-r;return 0===a?e:(e.iP(t+a),new Uint8Array(e.buffer).set(new Uint8Array(this.buffer).subarray(r,i),t),s&&(this.offset+=a),o&&(e.offset+=a),this)},s.iP=function(e){var t=this.buffer.byteLength;return t<e?this.resize((t*=2)>e?t:e):this},s.fill=function(e,t,r){var i=void 0===t;if(i&&(t=this.offset),"string"==typeof e&&e.length>0&&(e=e.charCodeAt(0)),void 0===t&&(t=this.offset),void 0===r&&(r=this.CR),!this.OR){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof r||r%1!=0)throw TypeError("Illegal end: Not an integer");if(r>>>=0,t<0||t>r||r>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+r+" <= "+this.buffer.byteLength)}if(t>=r)return this;for(;t<r;)this.view.setUint8(t++,e);return i&&(this.offset=t),this},s.Jl=function(){return this.CR=this.offset,this.offset=0,this},s.mark=function(e){if(e=void 0===e?this.offset:e,!this.OR){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}return this.AR=e,this},s.order=function(e){if(!this.OR&&"boolean"!=typeof e)throw TypeError("Illegal littleEndian: Not a boolean");return this.kR=!!e,this},s.nP=function(e){return this.kR=void 0===e||!!e,this},s.sP=function(e){return this.kR=void 0!==e&&!e,this},s.oP=function(e,t,r){"number"!=typeof t&&"string"==typeof t||(r=t,t=void 0);var i=void 0===r;if(i&&(r=this.offset),!this.OR){if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}e instanceof n||(e=n.wrap(e,t));var s=e.CR-e.offset;if(s<=0)return this;var o,a=s-r;if(a>0){var h=new ArrayBuffer(this.buffer.byteLength+a);o=new Uint8Array(h),o.set(new Uint8Array(this.buffer).subarray(r,this.buffer.byteLength),s),this.buffer=h,this.view=new DataView(h),this.offset+=a,this.AR>=0&&(this.AR+=a),this.CR+=a,r+=a}else o=new Uint8Array(this.buffer);return o.set(new Uint8Array(e.buffer).subarray(e.offset,e.CR),r-s),e.offset=e.CR,i&&(this.offset-=s),this},s.aP=function(e,t){return e.oP(this,t),this},s.hP=function(e){"function"!=typeof e&&(e=console.log.bind(console)),e(this.toString()+"\n-------------------------------------------------------------------\n"+this.cP(!0))},s.uP=function(){return this.CR-this.offset},s.reset=function(){return this.AR>=0?(this.offset=this.AR,this.AR=-1):this.offset=0,this},s.resize=function(e){if(!this.OR){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal capacity: "+e+" (not an integer)");if((e|=0)<0)throw RangeError("Illegal capacity: 0 <= "+e)}if(this.buffer.byteLength<e){var t=new ArrayBuffer(e);new Uint8Array(t).set(new Uint8Array(this.buffer)),this.buffer=t,this.view=new DataView(t)}return this},s.reverse=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.CR),!this.OR){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}return e===t?this:(Array.prototype.reverse.call(new Uint8Array(this.buffer).subarray(e,t)),this.view=new DataView(this.buffer),this)},s.dw=function(e){if(!this.OR){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal length: "+e+" (not an integer)");e|=0}var t=this.offset+e;if(!this.OR&&(t<0||t>this.buffer.byteLength))throw RangeError("Illegal length: 0 <= "+this.offset+" + "+e+" <= "+this.buffer.byteLength);return this.offset=t,this},s.slice=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.CR),!this.OR){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}var r=this.clone();return r.offset=e,r.CR=t,r},s.lP=function(e){var t=this.offset,r=this.CR;if(t>r){var i=t;t=r,r=i}if(!this.OR){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: Not an integer");if(t>>>=0,"number"!=typeof r||r%1!=0)throw TypeError("Illegal limit: Not an integer");if(r>>>=0,t<0||t>r||r>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+r+" <= "+this.buffer.byteLength)}if(!e&&0===t&&r===this.buffer.byteLength)return this.buffer;if(t===r)return o;var n=new ArrayBuffer(r-t);return new Uint8Array(n).set(new Uint8Array(this.buffer).subarray(t,r),0),n},s.pn=s.lP,s.toString=function(e,t,r){if(void 0===e)return"ByteBufferAB(offset="+this.offset+",markedOffset="+this.AR+",limit="+this.CR+",capacity="+this.tP()+")";switch("number"==typeof e&&(e="utf8",t=e,r=t),e){case"utf8":return this.pP(t,r);case"base64":return this.fP(t,r);case"hex":return this.dP(t,r);case"binary":return this.gP(t,r);case"debug":return this.cP();case"columns":return this.vP();default:throw Error("Unsupported encoding: "+e)}};var h=function(){for(var e={},t=[65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,48,49,50,51,52,53,54,55,56,57,43,47],r=[],i=0,n=t.length;i<n;++i)r[t[i]]=i;return e.encode=function(e,r){for(var i,n;null!==(i=e());)r(t[i>>2&63]),n=(3&i)<<4,null!==(i=e())?(n|=i>>4&15,r(t[63&(n|i>>4&15)]),n=(15&i)<<2,null!==(i=e())?(r(t[63&(n|i>>6&3)]),r(t[63&i])):(r(t[63&n]),r(61))):(r(t[63&n]),r(61),r(61))},e.decode=function(e,t){function i(e){throw Error("Illegal character code: "+e)}for(var n,s,o;null!==(n=e());)if(s=r[n],void 0===s&&i(n),null!==(n=e())&&(o=r[n],void 0===o&&i(n),t(s<<2>>>0|(48&o)>>4),null!==(n=e()))){if(void 0===(s=r[n])){if(61===n)break;i(n)}if(t((15&o)<<4>>>0|(60&s)>>2),null!==(n=e())){if(void 0===(o=r[n])){if(61===n)break;i(n)}t((3&s)<<6>>>0|o)}}},e.test=function(e){return/^(?:[A-Za-z0-9+\/]{4})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(e)},e}();s.fP=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.CR),!this.OR){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}var i;return h.encode(function(){return e<t?this.view.getUint8(e++):null}.bind(this),i=r()),i()},n.MR=function(e,r,i){if(!i){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");if(e.length%4!=0)throw TypeError("Illegal str: Length not a multiple of 4")}var s=new n(e.length/4*3,r,i),o=0;return h.decode(t(e),function(e){s.view.setUint8(o++,e)}),s.CR=o,s},n.btoa=function(e){return n.UR(e).fP()},n.atob=function(e){return n.MR(e).gP()},s.gP=function(e,t){if(e=void 0===e?this.offset:e,t=void 0===t?this.CR:t,!this.OR){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}if(e===t)return"";for(var r=[],i=[];e<t;)r.push(this.view.getUint8(e++)),r.length>=1024&&(i.push(String.fromCharCode.apply(String,r)),r=[]);return i.join("")+String.fromCharCode.apply(String,r)},n.UR=function(e,t,r){if(!r&&"string"!=typeof e)throw TypeError("Illegal str: Not a string");for(var i,s=0,o=e.length,a=new n(o,t,r);s<o;){if(i=e.charCodeAt(s),!r&&i>255)throw RangeError("Illegal charCode at "+s+": 0 <= "+i+" <= 255");a.view.setUint8(s++,i)}return a.CR=o,a},s.cP=function(e){for(var t,r=-1,i=this.buffer.byteLength,n="",s="",o="";r<i;){if(-1!==r&&(t=this.view.getUint8(r),n+=t<16?"0"+t.toString(16).toUpperCase():t.toString(16).toUpperCase(),e&&(s+=t>32&&t<127?String.fromCharCode(t):".")),++r,e&&r>0&&r%16==0&&r!==i){for(;n.length<51;)n+=" ";o+=n+s+"\n",n=s=""}r===this.offset&&r===this.CR?n+=r===this.AR?"!":"|":r===this.offset?n+=r===this.AR?"[":"<":r===this.CR?n+=r===this.AR?"]":">":n+=r===this.AR?"'":e||0!==r&&r!==i?" ":""}if(e&&" "!==n){for(;n.length<51;)n+=" ";o+=n+s+"\n"}return e?o:n},n.HR=function(e,t,r){for(var i,s,o=e.length,a=new n((o+1)/3|0,t,r),h=0,c=0,u=!1,l=!1,p=!1,f=!1,d=!1;h<o;){switch(i=e.charAt(h++)){case"!":if(!r){if(l||p||f){d=!0;break}l=p=f=!0}a.offset=a.AR=a.CR=c,u=!1;break;case"|":if(!r){if(l||f){d=!0;break}l=f=!0}a.offset=a.CR=c,u=!1;break;case"[":if(!r){if(l||p){d=!0;break}l=p=!0}a.offset=a.AR=c,u=!1;break;case"<":if(!r){if(l){d=!0;break}l=!0}a.offset=c,u=!1;break;case"]":if(!r){if(f||p){d=!0;break}f=p=!0}a.CR=a.AR=c,u=!1;break;case">":if(!r){if(f){d=!0;break}f=!0}a.CR=c,u=!1;break;case"'":if(!r){if(p){d=!0;break}p=!0}a.AR=c,u=!1;break;case" ":u=!1;break;default:if(!r&&u){d=!0;break}if(s=parseInt(i+e.charAt(h++),16),!r&&(isNaN(s)||s<0||s>255))throw TypeError("Illegal str: Not a debug encoded string");a.view.setUint8(c++,s),u=!0}if(d)throw TypeError("Illegal str: Invalid symbol at "+h)}if(!r){if(!l||!f)throw TypeError("Illegal str: Missing offset or limit");if(c<a.buffer.byteLength)throw TypeError("Illegal str: Not a debug encoded string (is it hex?) "+c+" < "+o)}return a},s.dP=function(e,t){if(e=void 0===e?this.offset:e,t=void 0===t?this.CR:t,!this.OR){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}for(var r,i=new Array(t-e);e<t;)r=this.view.getUint8(e++),r<16?i.push("0",r.toString(16)):i.push(r.toString(16));return i.join("")},n.BR=function(e,t,r){if(!r){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");if(e.length%2!=0)throw TypeError("Illegal str: Length not a multiple of 2")}for(var i,s=e.length,o=new n(s/2|0,t),a=0,h=0;a<s;a+=2){if(i=parseInt(e.substring(a,a+2),16),!r&&(!isFinite(i)||i<0||i>255))throw TypeError("Illegal str: Contains non-hex characters");o.view.setUint8(h++,i)}return o.CR=h,o};var c=function(){var e={};return e.yP=1114111,e.mP=function(e,t){var r=null;for("number"==typeof e&&(r=e,e=function(){return null});null!==r||null!==(r=e());)r<128?t(127&r):r<2048?(t(r>>6&31|192),t(63&r|128)):r<65536?(t(r>>12&15|224),t(r>>6&63|128),t(63&r|128)):(t(r>>18&7|240),t(r>>12&63|128),t(r>>6&63|128),t(63&r|128)),r=null},e.Wb=function(e,t){for(var r,i,n,s,o=function(e){e=e.slice(0,e.indexOf(null));var t=Error(e.toString());throw t.name="TruncatedError",t.Hn=e,t};null!==(r=e());)if(0==(128&r))t(r);else if(192==(224&r))null===(i=e())&&o([r,i]),t((31&r)<<6|63&i);else if(224==(240&r))(null===(i=e())||null===(n=e()))&&o([r,i,n]),t((15&r)<<12|(63&i)<<6|63&n);else{if(240!=(248&r))throw RangeError("Illegal starting byte: "+r);(null===(i=e())||null===(n=e())||null===(s=e()))&&o([r,i,n,s]),t((7&r)<<18|(63&i)<<12|(63&n)<<6|63&s)}},e.EP=function(e,t){for(var r,i=null;;){if(null===(r=null!==i?i:e()))break;r>=55296&&r<=57343&&null!==(i=e())&&i>=56320&&i<=57343?(t(1024*(r-55296)+i-56320+65536),i=null):t(r)}null!==i&&t(i)},e.Xb=function(e,t){var r=null;for("number"==typeof e&&(r=e,e=function(){return null});null!==r||null!==(r=e());)r<=65535?t(r):(r-=65536,t(55296+(r>>10)),t(r%1024+56320)),r=null},e.xb=function(t,r){e.EP(t,function(t){e.mP(t,r)})},e.Hb=function(t,r){e.Wb(t,function(t){e.Xb(t,r)})},e.TP=function(e){return e<128?1:e<2048?2:e<65536?3:4},e.IP=function(t){for(var r,i=0;null!==(r=t());)i+=e.TP(r);return i},e.Ub=function(t){var r=0,i=0;return e.EP(t,function(t){++r,i+=e.TP(t)}),[r,i]},e}();return s.pP=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.CR),!this.OR){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}var i;try{c.Hb(function(){return e<t?this.view.getUint8(e++):null}.bind(this),i=r())}catch(r){if(e!==t)throw RangeError("Illegal range: Truncated data, "+e+" != "+t)}return i()},n.xR=function(e,r,i){if(!i&&"string"!=typeof e)throw TypeError("Illegal str: Not a string");var s=new n(c.Ub(t(e),!0)[1],r,i),o=0;return c.xb(t(e),function(e){s.view.setUint8(o++,e)}),s.CR=o,s},n}"object"==typeof e&&e&&"object"==typeof t&&t?e.t=function(){var e;try{e=r(90)}catch(e){}return a(e)}():(n=[r(91)],void 0!==(s=function(e){return a(e)}.apply(t,n))&&(e.t=s))}()}).call(t,r(58)(e))},function(e,t,r){"use strict";var i=r(34);e.t=Object,Object.empty=Object.freeze(Object.create(null)),Object.Jo=function(e){return Object(e)===e},Object.wP=function(e){return e&&"function"==typeof e.valueOf&&(e=e.valueOf()),e};var n=new i;Object.hash=function(e){return e&&"function"==typeof e.hash?""+e.hash():Object(e)===e?(n.has(e)||n.set(e,Math.random().toString(36).slice(2)),n.get(e)):""+e};var s=Object.prototype.hasOwnProperty;Object.SP=function(e,t){return s.call(e,t)},Object.has=function(e,t){if("object"!=typeof e)throw new Error("Object.has can't accept non-object: "+typeof e);if(e&&"function"==typeof e.has)return e.has(t);if("string"==typeof t)return t in e&&e[t]!==Object.prototype[t];throw new Error("Key must be a string for Object.has on plain objects")},Object.get=function(e,t,r){if("object"!=typeof e)throw new Error("Object.get can't accept non-object: "+typeof e);return e&&"function"==typeof e.get?e.get(t,r):Object.has(e,t)?e[t]:r},Object.set=function(e,t,r){e&&"function"==typeof e.set?e.set(t,r):e[t]=r},Object.addEach=function(e,t){if(t)if("function"!=typeof t.forEach||t.hasOwnProperty("forEach"))if("number"==typeof t.length)for(var r=0;r<t.length;r++)e[r]=t[r];else Object.keys(t).forEach(function(r){e[r]=t[r]});else!0===t.isMap?t.forEach(function(t,r){e[r]=t}):t.forEach(function(t){e[t[0]]=t[1]});else;return e},Object.forEach=function(e,t,r){for(var i,n=Object.keys(e),s=0;i=n[s];s++)t.call(r,e[i],i,e)},Object.map=function(e,t,r){for(var i,n=Object.keys(e),s=0,o=[];i=n[s];s++)o.push(t.call(r,e[i],i,e));return o},Object.values=function(e){return Object.map(e,Function.identity)},Object.concat=function(){for(var e={},t=0;t<arguments.length;t++)Object.addEach(e,arguments[t]);return e},Object.from=Object.concat,Object.is=function(e,t){return e===t?0!==e||1/e==1/t:e!==e&&t!==t},Object.ae=function(e,t,r,n){if(r=r||Object.ae,e=Object.wP(e),t=Object.wP(t),e===t)return!0;if(Object.Jo(e)){if(n=n||new i,n.has(e))return!0;n.set(e,!0)}if(Object.Jo(e)&&"function"==typeof e.ae)return e.ae(t,r,n);if(Object.Jo(t)&&"function"==typeof t.ae)return t.ae(e,r,n);if(Object.Jo(e)&&Object.Jo(t)&&Object.getPrototypeOf(e)===Object.prototype&&Object.getPrototypeOf(t)===Object.prototype){for(var s in e)if(!r(e[s],t[s],r,n))return!1;for(var s in t)if(!(s in e&&r(t[s],e[s],r,n)))return!1;return!0}return e!==e&&t!==t||(!e||!t)&&e===t},Object.mo=function(e,t){if(e=Object.wP(e),t=Object.wP(t),e===t)return 0;var r=typeof e,i=typeof t;return"number"===r&&"number"===i?e-t:"string"===r&&"string"===i?e<t?-1/0:1/0:e&&"function"==typeof e.mo?e.mo(t):t&&"function"==typeof t.mo?-t.mo(e):0},Object.clone=function(e,t,r){if(e=Object.wP(e),r=r||new i,void 0===t)t=1/0;else if(0===t)return e;if(Object.Jo(e)){if(!r.has(e))if(e&&"function"==typeof e.clone)r.set(e,e.clone(t,r));else{var n=Object.getPrototypeOf(e);if(null!==n&&n!==Object.prototype)throw new Error("Can't clone "+e);var s=Object.create(n);r.set(e,s);for(var o in e)s[o]=Object.clone(e[o],t-1,r)}return r.get(e)}return e},Object.clear=function(e){if(e&&"function"==typeof e.clear)e.clear();else for(var t=Object.keys(e),r=t.length;r;)r--,delete e[t[r]];return e}},function(e,t){!function(){"use strict";function t(e){e.RP&&e.RP(t)}function r(e){return!(e.substr(0,f.length)==f&&"___"===e.substr(e.length-3))}function i(e){if(e!==Object(e))throw new TypeError("Not an object: "+e);var t=e[d];if(t&&t.key===e)return t;if(p(e)){t={key:e};try{return l(e,d,{value:t,Ui:!1,l:!1,u:!1}),t}catch(e){return}}}function n(e){return e.prototype=null,Object.freeze(e)}function s(){m||"undefined"==typeof console||(m=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}if("undefined"==typeof ses||!ses.ok||ses.ok()){"undefined"!=typeof ses&&(ses.bP=t);var o=!1;if("function"==typeof WeakMap){var a=WeakMap;if("undefined"!=typeof navigator&&/Firefox/.test(navigator.userAgent));else{var h=new a,c=Object.freeze({});if(h.set(c,1),1===h.get(c))return void(e.t=WeakMap);o=!0}}var u=(Object.prototype.hasOwnProperty,Object.getOwnPropertyNames),l=Object.defineProperty,p=Object.isExtensible,f="weakmap:",d=f+"ident:"+Math.random()+"___";if("undefined"!=typeof crypto&&"function"==typeof crypto.getRandomValues&&"function"==typeof ArrayBuffer&&"function"==typeof Uint8Array){var g=new ArrayBuffer(25),v=new Uint8Array(g);crypto.getRandomValues(v),d=f+"rand:"+Array.prototype.map.call(v,function(e){return(e%36).toString(36)}).join("")+"___"}if(l(Object,"getOwnPropertyNames",{value:function(e){return u(e).filter(r)}}),"getPropertyNames"in Object){var y=Object.PP;l(Object,"getPropertyNames",{value:function(e){return y(e).filter(r)}})}!function(){var e=Object.freeze;l(Object,"freeze",{value:function(t){return i(t),e(t)}});var t=Object.seal;l(Object,"seal",{value:function(e){return i(e),t(e)}});var r=Object.preventExtensions;l(Object,"preventExtensions",{value:function(e){return i(e),r(e)}})}();var m=!1,E=0,T=function(){function e(e,t){var r,n=i(e);return n?c in n?n[c]:t:(r=a.indexOf(e),r>=0?h[r]:t)}function t(e){var t=i(e);return t?c in t:a.indexOf(e)>=0}function r(e,t){var r,n=i(e);return n?n[c]=t:(r=a.indexOf(e),r>=0?h[r]=t:(r=a.length,h[r]=t,a[r]=e)),this}function o(e){var t,r,n=i(e);return n?c in n&&delete n[c]:!((t=a.indexOf(e))<0)&&(r=a.length-1,a[t]=void 0,h[t]=h[r],a[t]=a[r],a.length=r,h.length=r,!0)}this instanceof T||s();var a=[],h=[],c=E++;return Object.create(T.prototype,{AP:{value:n(e)},CP:{value:n(t)},kP:{value:n(r)},OP:{value:n(o)}})};T.prototype=Object.create(Object.prototype,{get:{value:function(e,t){return this.AP(e,t)},Ui:!0,u:!0},has:{value:function(e){return this.CP(e)},Ui:!0,u:!0},set:{value:function(e,t){return this.kP(e,t)},Ui:!0,u:!0},delete:{value:function(e){return this.OP(e)},Ui:!0,u:!0}}),"function"==typeof a?function(){function r(){function e(e,t){return u?c.has(e)?c.get(e):u.AP(e,t):c.get(e,t)}function r(e){return c.has(e)||!!u&&u.CP(e)}function i(e){var t=!!c.delete(e);return u?u.OP(e)||t:t}this instanceof T||s();var h,c=new a,u=void 0,l=!1;return h=o?function(e,t){return c.set(e,t),c.has(e)||(u||(u=new T),u.set(e,t)),this}:function(e,t){if(l)try{c.set(e,t)}catch(r){u||(u=new T),u.kP(e,t)}else c.set(e,t);return this},Object.create(T.prototype,{AP:{value:n(e)},CP:{value:n(r)},kP:{value:n(h)},OP:{value:n(i)},RP:{value:n(function(e){if(e!==t)throw new Error("bogus call to permitHostObjects___");l=!0})}})}o&&"undefined"!=typeof Proxy&&(Proxy=void 0),r.prototype=T.prototype,e.t=r,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,l:!1,u:!0,Ui:!0})}():("undefined"!=typeof Proxy&&(Proxy=void 0),e.t=T)}}()},function(e,t,r){"use strict";function i(){throw new Error("Can't construct. RangeChanges is a mixin.")}var n=r(34),s=r(47),o=new n;e.t=i,i.prototype._P=function(){return o.has(this)||o.set(this,s()),o.get(this)},i.prototype.NP=function(e){var t=this._P();return e=e||"",t.has(e)||t.set(e,{ci:!1,Mo:[],Lo:[]}),t.get(e)},i.prototype.DP=function(e,t,r){!this.Ho&&this.xo&&this.xo();var i,n=this.NP(t);i=r?n.Lo:n.Mo,i.push(e),Object.defineProperty(this,"dispatchesRangeChanges",{value:!0,Ui:!0,u:!0,l:!1});var s=this;return function(){s&&(s.FP(e,t,r),s=null)}},i.prototype.FP=function(e,t,r){var i,n=this.NP(t);i=r?n.Lo:n.Mo;var s=i.lastIndexOf(e);if(-1===s)throw new Error("Can't remove range change listener: does not exist: token "+JSON.stringify(t));i.splice(s,1)},i.prototype.LP=function(e,t,r,i){var n="Range"+(i?"WillChange":"Change");this._P().forEach(function(s,o){if(!s.ci){s.ci=!0;var a;a=i?s.Lo:s.Mo;var h="handle"+(o.slice(0,1).toUpperCase()+o.slice(1))+n;try{a.slice().forEach(function(n){if(!(a.indexOf(n)<0))if(n[h])n[h](e,t,r,this,i);else{if(!n.call)throw new Error("Handler "+n+" has no method "+h+" and is not callable");n.call(this,e,t,r,this,i)}},this)}finally{s.ci=!1}}},this)},i.prototype.MP=function(e,t){return this.DP(e,t,!0)},i.prototype.BP=function(e,t){return this.FP(e,t,!0)},i.prototype.UP=function(e,t,r){return this.LP(e,t,r,!0)}},function(e,t){function r(){throw new Error("Can't construct. GenericSet is a mixin.")}e.t=r,r.prototype.xP=!0,r.prototype.HP=function(e){var t=this.de(this);return t.addEach(e),t},r.prototype.qP=function(e){return this.de(this.filter(function(t){return e.has(t)}))},r.prototype.VP=function(e){var t=this.de(this);return t.do(e),t},r.prototype.jP=function(e){var t=this.HP(e),r=this.qP(e);return t.VP(r)},r.prototype.GP=function(e){return+this.delete(e)},r.prototype.ae=function(e,t){var r=this;return e&&"function"==typeof e.reduce&&this.length===e.length&&e.reduce(function(e,i){return e&&r.has(i,t)},!0)},r.prototype.toJSON=function(){return this.toArray()},r.prototype.contains=function(e){return this.has(e)},r.prototype.remove=function(e){return this.delete(e)},r.prototype.toggle=function(e){this.has(e)?this.delete(e):this.add(e)}},function(e,t,r){var i,i;!function(t){e.t=t()}(function(){return function e(t,r,n){function s(a,h){if(!r[a]){if(!t[a]){var c="function"==typeof i&&i;if(!h&&c)return i(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var l=r[a]={t:{}};t[a][0].call(l.t,function(e){var r=t[a][1][e];return s(r||e)},l,l.t,e,t,r,n)}return r[a].t}for(var o="function"==typeof i&&i,a=0;a<n.length;a++)s(n[a]);return s}({1:[function(e,t,r){var i=e("./kernel");r.O=i.O;var n=e("./type_binding");r.QP=n.QP;var s=e("./type_binding_scope");r.KP=s.KP},{"./kernel":2,"./type_binding":4,"./type_binding_scope":5}],2:[function(e,t,r){var i=e("./type_binding_scope"),n=e("./lookup"),s=function(){function e(){this.YP=new n.zP}return e.prototype.bind=function(e){this.YP.add(e.JP,e)},e.prototype.WP=function(e){try{this.YP.remove(e)}catch(t){throw new Error("Could not resolve service "+e)}},e.prototype.k=function(){this.YP=new n.zP},e.prototype.resolve=function(e){var t;if(!this.YP.XP(e))return null;t=this.YP.get(e);var r=t[0];if(r.scope===i.KP.ZP&&null!==r.Uw)return r.Uw;var n=this.$P(r.eA);return r.Uw=n,n},e.prototype.tA=function(e){var t,r,i,n,s,o;return s=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,o=/([^\s,]+)/g,t=e.toString().replace(s,""),r=t.indexOf("(")+1,i=t.indexOf(")"),n="function"==typeof Map&&-1!==t.indexOf("class")&&-1===t.indexOf("constructor")?null:t.slice(r,i).match(o),null===n&&(n=[]),n},e.prototype.$P=function(e){var t=this.tA(e);if(0===t.length)return new e;for(var r=[],i=null,n=0;n<t.length;n++){var s=t[n];i=this.resolve(s),r.push(i)}return this.rA(e,r)},e.prototype.rA=function(e,t){return new(Function.prototype.bind.apply(e,[null].concat(t)))},e}();r.O=s},{"./lookup":3,"./type_binding_scope":5}],3:[function(e,t,r){var i=function(){function e(e,t){this.key=e,this.value=new Array,this.value.push(t)}return e}(),n=function(){function e(){this.iA=new Array}return e.prototype.nA=function(e){for(var t=-1,r=0;r<this.iA.length;r++){this.iA[r].key===e&&(t=r)}return t},e.prototype.add=function(e,t){if(null===e||void 0===e)throw new Error("Argument Null");if(null===t||void 0===t)throw new Error("Argument Null");var r=this.nA(e);if(-1!==r){var n=this.iA[r];n.key===e&&n.value.push(t)}else this.iA.push(new i(e,t))},e.prototype.get=function(e){if(null===e||void 0===e)throw new Error("Argument Null");var t=this.nA(e);if(-1===t)throw new Error("Key Not Found");var r=this.iA[t];return r.key===e?r.value:void 0},e.prototype.remove=function(e){if(null===e||void 0===e)throw new Error("Argument Null");var t=this.nA(e);if(-1===t)throw new Error("Key Not Found");this.iA.splice(t,1)},e.prototype.XP=function(e){if(null===e||void 0===e)throw new Error("Argument Null");return-1!==this.nA(e)},e}();r.zP=n},{}],4:[function(e,t,r){var i=e("./type_binding_scope"),n=function(){function e(e,t,r){if(this.JP=e,this.eA=t,this.Uw=null,void 0===r)this.scope=i.KP.sA;else{if(!i.KP[r]){var n="Invalid scope type "+r;throw new Error(n)}this.scope=r}}return e}();r.QP=n},{"./type_binding_scope":5}],5:[function(e,t,r){var i;!function(e){e[e.sA=0]="Transient",e[e.ZP=1]="Singleton"}(i||(i={})),r.KP=i},{}]},{},[1])(1)})},function(e,t,r){"use strict";var i;!function(e){var t=function(){function e(){}return e}();t.LoggerTimestamp=!0,e.Framework=t;var r=function(){function e(){}return e}();r.MetricSnapshotLogs=0,r.TrackSnapshotLogs=0,e.DebugLogs=r}(i=t.HiveConfig||(t.HiveConfig={})),"undefined"!=typeof window&&(void 0===window.HiveConfig&&(window.HiveConfig={}),window.HiveConfig.Framework=i.Framework,window.HiveConfig.DebugLogs=i.DebugLogs)},function(e,t,r){"use strict";var i=function(){function e(){}return e}();i.oA="127.0.0.1",i.nu=8999,i.iu=8998,i.ru=8899,i.eu=8898,i.aA="//{0}:{1}/?callback={2}{3}hivePluginId={4}",i.hA="//{0}:{1}/?callback={2}",i.su=!0,i.cA=/((http|https):\/\/(.*):([0-9]*)\/([0-9a-z-]*).ism\/)(.*)/,i.uA="2013.1.1",t.tu=i},function(e,t,r){"use strict";var i=function(){function e(){this.count=0}return e.prototype.next=function(){return++this.count},e}();t.Counter=i;var n=function(){function e(){this.reset()}return e.prototype.add=function(e){e<=0||(this.lA+=e,this.pA++,e>this.fA&&(this.fA=e),e<this.dA&&(this.dA=e))},e.prototype.min=function(e){void 0===e&&(e=!0);var t=this.dA==Number.POSITIVE_INFINITY?0:this.dA;return e&&this.reset(),t},e.prototype.max=function(e){void 0===e&&(e=!0);var t=this.fA==Number.NEGATIVE_INFINITY?0:this.fA;return e&&this.reset(),t},e.prototype.Eo=function(e){void 0===e&&(e=!0);var t=this.lA;return e&&this.reset(),t},e.prototype.un=function(e){void 0===e&&(e=!0);var t=this.pA>0?this.lA/this.pA:0;return e&&this.reset(),t},e.prototype.reset=function(){this.dA=Number.POSITIVE_INFINITY,this.fA=Number.NEGATIVE_INFINITY,this.lA=0,this.pA=0},e}();t.gA=n},function(e,t,r){"use strict";var i=r(38),n=r(1);!function(e){var t;!function(e){e[e.off=0]="off",e[e.error=1]="error",e[e.warn=2]="warn",e[e.notice=3]="notice",e[e.info=4]="info",e[e.debug=5]="debug",e[e.trace=6]="trace"}(t=e.vA||(e.vA={}));var r=function(){function e(){this.timestamp=function(){},this.yA=new n,this.level=t.debug,this.timestamp.toString=function(){var e=new Date;return"["+("0"+e.getUTCHours()).slice(-2)+":"+("0"+e.getUTCMinutes()).slice(-2)+":"+("0"+e.getUTCSeconds()).slice(-2)+":"+("00"+e.getUTCMilliseconds()).slice(-3)+"]"},this.te="undefined"==typeof console?{log:function(){}}:console,this.te.trace||(this.te.trace=this.te.log),this.te.debug||(this.te.debug=this.te.log),this.te.info||(this.te.info=this.te.log),this.te.warn||(this.te.warn=this.te.log),this.te.error||(this.te.error=this.te.log),this.mA(t[this.level])}return e.prototype.mA=function(e,r){i.HiveConfig.Framework.HiveDebugLevel&&void 0!=t[i.HiveConfig.Framework.HiveDebugLevel]?this.level=t[i.HiveConfig.Framework.HiveDebugLevel]:void 0!=t[e]?this.level=t[e]:console.log("Wrong logging level: "+e,t),this.EA(r)},e.prototype.EA=function(e){var r={log:this.TA(this.te.log,t.error,e),error:this.TA(this.te.error,t.error,e),warn:this.TA(this.te.warn,t.warn,e),notice:this.TA(this.te.info,t.notice,e),info:this.TA(this.te.info,t.info,e),debug:this.TA(this.te.debug,t.debug,e),trace:this.TA(this.te.trace,t.trace,e)};e?this.yA.set(e,r):this.IA=r},e.prototype.TA=function(e,t,r){if(!(this.level>=t))return function(){};try{return i.HiveConfig.Framework.LoggerTimestamp?r?Function.prototype.bind.call(e,console,"S["+r+"] %s",this.timestamp):Function.prototype.bind.call(e,console,"%s",this.timestamp):r?Function.prototype.bind.call(e,console,"S["+r+"]"):Function.prototype.bind.call(e,console)}catch(e){}},e.prototype.log=function(e){return e?(this.yA.has(e)||this.mA(t[this.level],e),this.yA.get(e)):this.IA},e}();e.wA=r}(t.SA||(t.SA={}))},function(e,t,r){"use strict";var i=r(27),n=r(25),s=n.Gm,o=n.Qm,a=function(){function e(){this.SourceURLParams={}}return e.prototype.RA=function(e){for(var t in e)if("SourceURLParams"===t)for(var r in e[t])this[t][r]=e[t][r];else this[t]=e[t];this.bA()},e.prototype.PA=function(){var e=this.ContentId+this.SiteId+this.CROId+this.SourceURL,t=new s;t.df("b6614c3e4cd1d14eed6b39ef2bf6b9a3e3d6dfcd26699d7270d887923bcbf83efb3dadb717c0bafb1d48dce361eb369b7cc46e57405ebfbdd86c3175532fe56cc77f473d345b2cb6feafb5ab0e24f364a3d259f27e4a2fd97468265bddfd3ddd3ac64251db650ca0280af2b2c45e8b1c8f040f2c433ac0a157d2b3fd91517253","010001");var r=o(this.Signature);return t.Bm(e,r)},e.prototype.AA=function(e){this.ticketUrl=e;var t=i.parse(e),r=t.path.split("/").slice(3);if(this.SiteId=r[0],this.CROId=r[1],this.ContentId=r[2],this.CA=r[3],t.dn)try{var n=t.dn.split("&");for(var s in n){var o=n[s].split(/=(.+)/);this.SourceURLParams[o[0]]=o[1]}}catch(e){}this.kA=e.indexOf("api-test")>-1},e.prototype.Lh=function(){return this.SiteId},e.prototype.Mh=function(){return this.CROId},e.prototype.Xc=function(){return this.ContentId},e.prototype.OA=function(){return this.CA},e.prototype._A=function(){return this.SourceURL},e.prototype.NA=function(){if(this.DA=this.SourceURL,void 0!=this.SourceURLParams){var e=new Array;for(var t in this.SourceURLParams)e.push(t+"="+this.SourceURLParams[t]);e.length>0&&this.DA&&(this.DA+=(this.DA.indexOf("?")>0?"&":"?")+e.join("&"))}},e.prototype.bA=function(){var e=r(74);this.sessionId=e.FA()},e.prototype.LA=function(){return this.DA||this.NA(),this.DA},e.prototype.qh=function(){return"["+this.SiteId+"/"+this.CROId+"/"+this.ContentId+"]"},e.prototype.MA=function(){return[this.SiteId,this.CROId,this.ContentId]},e.prototype.BA=function(){return this.SourceURL+"-["+this.SiteId+"/"+this.CROId+"/"+this.ContentId+"]"},e.prototype.toString=function(){return this.qh()},e}();a.UA="^https?://api(?:-test)?.hivestreaming.com/v1/events/(?:wildcard/)?",a.xA="CROId",a.HA="SiteId",a.qA="ContentId",t.VA=a},function(e,t,r){"use strict";var i=function(){function e(){}return e}();i.jA=55,i.GA=6e5,i.QA=5,i.KA=5,i.YA=5,i.zA=10,i.JA="dist",i.WA="./scenarios/BrokenUdp",i.XA=null,i.ZA=null,i.$A=null,i.eC=!0,i.tC=!0,i.rC=6e4,t.iC=i;var n=function(){function e(){}return e}();n.nC="BwEmulation",t.sC=n},function(e,t,r){"use strict";function i(e,t,r,s){if(!(this instanceof i))return new i(e,t,r,s);t=t||Object.ae,r=r||Object.mo,s=s||Function.he,this.ce=t,this.yo=r,this.le=s,this.pe=new n(null,function(e,r){return t(e.key,r.key)},function(e,t){return r(e.key,t.key)}),this.length=0,this.addEach(e)}var n=(r(12),r(137)),s=r(13),o=r(48),a=r(14);e.t=i,i.oC=i,Object.addEach(i.prototype,s.prototype),Object.addEach(i.prototype,o.prototype),Object.addEach(i.prototype,a.prototype),i.prototype.de=function(e){return new this.constructor(e,this.ce,this.yo,this.le)},i.prototype.log=function(e,t,r,i){t=t||this.ge,this.pe.log(e,function(e,r,i){t(e.value,r,i)},r,i)},i.prototype.ge=function(e,t){t(" key: "+e.key),t(" value: "+e.value)}},function(e,t,r){"use strict";var i,n=r(55),s=r(1),o=r(22),a=r(0),h=r(3),c=r(10),u=r(28),l=r(11);!function(e){e[e.$s=0]="PLAYER",e[e.aC=1]="LAN",e[e.hC=2]="SITE"}(i=t.cC||(t.cC={}));var p=function(){function e(){this.uC=!1,this.gR=null,this.lC=-1,this.pC=0}return e}();t.fC=p;var f=function(){function e(){this.mn="[Prefetcher] ",this.dC=!0,this.gC=0,this.vC=new s,this.yC=new s}return e.prototype.init=function(e){this.te=a.Framework.resolve(a.Framework.q.I).log(e.sessionId),this.mC=e.EC,this.TC=e.TC,this.IC=e.IC,this.Uw=e.Uw,this.wC=e.wC,this.SC=e.SC,this.RC=e.RC,this.bC=e.bC},e.prototype.PC=function(e,t){this.context=e,this.AC=t,this.RC.PC(t)},e.prototype.CC=function(e){return this.yC.has(e)},e.prototype.kC=function(){return this.AC},e.prototype.OC=function(e,t,r){var o=this,a=new n;this.yC.forEach(function(e,t){a.add(t)});var h=new n;if(h.addEach(e.keys()),this.AC._C()){var c=this.AC._C().bitrate;if(h.add(c),h.forEach(function(e){a.delete(e)}),r){var u=[];a.forEach(function(e){o.yC.has(e)&&o.yC.get(e).NC==i.hC&&(u.push(e),h.add(e))}),u.forEach(function(e){a.delete(e)})}var l=new s;h.forEach(function(t){o.yC.has(t)&&o.yC.get(t).NC==i.hC?l.set(t,i.hC):l.set(t,e.get(t))}),this.DC(a),this.FC(l,t)}},e.prototype.FC=function(e,t){var r=this;e.forEach(function(e,i){0!=i&&r.LC(i,e,t)})},e.prototype.DC=function(e){var t=this;e.forEach(function(e){t.wC.MC(e),t.te.debug(t.mn+"Remove unwanted bitrate "+e),t.yC.delete(e)})},e.prototype.LC=function(e,t,r){this.yC.has(e)?this.BC(e,r):this.yC.has(e)||this.UC(e,t,r)},e.prototype.BC=function(e,t){var r=this.yC.get(e);r.type=t,r.type!=i.hC&&(r.lC=-1),this.wC.xC(e,r)},e.prototype.UC=function(e,t,r){var n=this,s=new p;s.gR=null,s.type=r,s.bitrate=e,s.NC=t,this.yC.set(e,s),this.yC.forEach(function(e,t){n.te.debug(n.mn+"ABT "+t+" S "+i[e.type]+" PREF REASON "+i[e.NC])}),this.wC.xC(e,s)},e.prototype.HC=function(e){var t=this;if(this.yC.has(e.IR())){var r=this.yC.get(e.IR());r.lC>0&&r.qC&&(r.lC=e.duration-(a.Framework.time()-r.qC)-r.pC,r.pC=50),r.gR=e,this.VC(e.IR()),this.yC.forEach(function(r,n){r&&r.type!=i.$s&&n!=e.IR()&&t.jC(r,n)})}else this.te.warn(this.mn+"Fragment "+e.zu()+" triggered prefetch with unknown bitrate. Check logs. This should not happen.")},e.prototype.GC=function(e){var t=this.yC.keys(),r=t.indexOf(e);return-1!=r&&t.splice(r,1),t},e.prototype.QC=function(e){var t=this;e.forEach(function(e){var r=t.yC.get(e);r&&r.type!=i.$s&&t.jC(r,r.bitrate)})},e.prototype.jC=function(e,t){if(e.type!=i.$s){var r=this.AC._C();if(null!=r){var n=this.AC.KC(r.vR,t,c.Ws.Ys);null==n?(this.te.debug(this.mn+"PREFETCHING "+t+" MISSING METADATA "),this.uC(t)):(e.gR=n,this.VC(n.IR()))}else this.te.debug(this.mn+"PLAYER NOT PLAYING "),this.uC(t)}},e.prototype.YC=function(e){var t=this.yC.get(e);t&&t.uC&&(null!=t.gR?(this.te.debug(this.mn+"RESTART PREFETCHING ON AVAILABLE METADATA"),t.uC=!1,this.VC(t.bitrate)):(t.uC=!1,this.jC(t,e)))},e.prototype.zC=function(e){var t=this;e?this.YC(e):this.yC.forEach(function(e,r){t.YC(r)})},e.prototype.VC=function(e){var t=this.AC._C();if(t){var r=this.yC.get(e);if(r){if(r.gR&&t.IR()==e){var i=this.JC(r.gR.ER(),e);this.wC.WC(i)}this.XC(r)}}},e.prototype.XC=function(e){if(e.gR){var t=this.ZC(e.gR);if(null!=t)this.$C(t,e);else{var r=e.bitrate;this.te.debug(this.mn+"PREFETCHING "+r+" STOPPED BECAUSE OF MISSING METADATA "),this.yC.get(r).uC=!0,this.uC(r)}}else e.uC=!0,this.uC(e.bitrate)},e.prototype.$C=function(e,t){var r=this,n=this.ek(e.zu(),e.IR(),e.ER(),t.type);if(n.tk){this.vC.has(e.zu())&&a.Framework.clearTimeout(this.vC.get(e.zu()));var s=n.type==o.Tu.vu,c=1;if(s){var l=Math.max(0,t.lC);c=this.RC.rk(t.type,e.IR(),e.ER(),l)}this.te.debug(this.mn+"PREFETCHING "+e.url+" CDN PREFETCH "+s+" IN "+c+" MSECS");var p=this.yC.get(e.IR());p.gR=e;var f=a.Framework.setTimeout(function(){r.vC.delete(e.zu());var s=new u.HiveRequest(r.TC.sessionId);s.url=e.url,p.qC=a.Framework.time(),r.gC=0;var c=r.TC.ik(s,e,r.context,n.type);c&&(c.Bu=t.type==i.hC||t.type==i.aC,s.onerror=s.onload=function(){if(c.Ku()==o.Tu.vu&&(!s.status||s.status<200||s.status>299)){var t=r.yC.get(e.IR());s=null;var i=t.gR.duration,n=t.gR.duration+h.ni.dr.Xt,u=Math.floor(Math.random()*(n-i))+i;t.lC=u-(a.Framework.time()-t.qC),t.pC=0,r.VC(t.gR.bitrate)}})},c);this.vC.set(e.zu(),f)}},e.prototype.nk=function(){var e=this;this.vC.forEach(function(t,r){e.te.debug(e.mn+"Clearing delayed prefetch timer id "+t),a.Framework.clearTimeout(t),e.vC.delete(r)})},e.prototype.uC=function(e){this.yC.has(e)&&(this.yC.get(e).uC=!0,this.AC.sk(e))},e.prototype.ZC=function(e){var t=this.yC.get(e.IR()),r=e,i=this.ak(r);return i&&i.zu()!=e.zu()?i:i&&i.zu()==t.gR.zu()?e:null},e.prototype.ak=function(e){if(null==e)return null;var t=this.Uw.hk(!0),r=e;if(t)for(;null!=r&&-1!=t.indexOf(r.zu());)if(!(r=this.AC.ck(r)))return r;return r},e.prototype.ek=function(e,t,r,n){var s=this.uk(e),a=s?o.Tu.Eu:o.Tu.vu,h=!1;h=n!=i.$s?!this.vC.has(e)||a!=o.Tu.vu:a==o.Tu.Eu;var c=this.AC.lk(),u=this.pk(r,t,a),l=n==i.hC;return this.te.debug(this.mn+"PREFETCHING "+o.Tu[a]+" (LAN LEADER: "+this.wC.fk()+" SITE LEADER: "+l+") CHECKS FOR "+e+" [HAVES:"+s+" NOTBUFFERING:"+c+" DISTANCE:"+u.valid+"("+u.dk+")]"),{tk:h&&c&&u.valid,type:a}},e.prototype.pk=function(e,t,r){var i=this.AC.gk(e,t);return i<=this.AC.vk()?{dk:i,valid:!0}:{dk:i,valid:!1}},e.prototype.JC=function(e,t){var r=this.AC._C();if(null!=r){var i=r.ER();return this.AC.yk(i,t,e,t)}return-1},e.prototype.uk=function(e){if(this.mC.contains(e)){var t=this.mC.mk(e);if(t.length>=h.ni.dr.er){if(h.ni.dr.rr){var r=[],i=[],n=[],s=this.wC.Ek();return t.forEach(function(e){e.Ik.Tk.type==l.Zs.K&&r.push(e);var t=e.Ik.Tk.internalAs;0!=s&&t&&s==t&&i.push(e),e.Ik.Tk.type==l.Zs.Xs&&n.push(e)}),r.length>0?!this.dC||!this.wk(r,e):!(!this.wC.fk()&&this.wC.Sk()||!(i.length>0))||!(!(n.length>0)||!this.wC.Rk()&&this.wC.bk())}return!0}}return!1},e.prototype.wk=function(e,t){if(this.wC.Pk().length>h.ni.dr.ur)return this.wC.Ak(),e.length==h.ni.dr.cr&&e[0].guid==this.wC.kk().Ck&&a.Framework.random()>h.ni.dr.lr&&this.gC<h.ni.dr.pr&&(this.te.debug("SKIP PREFETCH CYCLE "+this.gC+" TO OFFLOAD LEADER"),this.gC++,!0);return!1},e.prototype.Ok=function(e,t){e._k=e.Vu.id,e.Vu=t,this.te.debug(this.mn+"UPGRADE "+o.Tu[e.Ku()]+" REQ "+e.ju+" FOR "+e.Qu.zu()),e.Ku()==o.Tu.Eu?(e.Mu.p2pAgenTrafficSuccessQt=e.qu,e.Uu?(e.type=o.Tu.mu,this.IC.Nk(e)||(this.te.debug(this.mn+"SET REQUEST TIMED-OUT WAS 0. CDN COMPENSATION"),this.IC.Dk(e.Fk,"TIMED-OUT"))):(e.type=o.Tu.du,this.te.debug(this.mn+"THE HIVE REQ "+e.zu()+" ARRIVED BEFORE THE P2P_PREFETCH INITIALIZED. CHANGE REQUEST TYPE TO "+o.Tu[e.Ku()]))):e.Ku()==o.Tu.vu&&(e.type=o.Tu.du)},e}();t.Lk=f},function(e,t,r){"use strict";function i(e,t,r){if(!(this instanceof i))return new i(e,t,r);var n=this.head=new this.Node;n.next=n,n.Mk=n,this.ce=t||Object.ae,this.le=r||Function.he,this.length=0,this.addEach(e)}function n(e){this.head=e,this.Bk=e.next}function s(e){this.value=e,this.Mk=null,this.next=null}e.t=i;var o=(r(12),r(13)),a=r(62),h=r(14),c=r(35);i.Uk=i,Object.addEach(i.prototype,o.prototype),Object.addEach(i.prototype,a.prototype),Object.addEach(i.prototype,h.prototype),Object.addEach(i.prototype,c.prototype),i.prototype.de=function(e){return new this.constructor(e,this.ce,this.le)},i.prototype.find=function(e,t,r){t=t||this.ce;for(var i=this.head,n=this.xk(r,i.next);n!==i;){if(t(n.value,e))return n;n=n.next}},i.prototype.Hk=function(e,t,r){t=t||this.ce;for(var i=this.head,n=this.xk(r,i.Mk);n!==i;){if(t(n.value,e))return n;n=n.Mk}},i.prototype.has=function(e,t){return!!this.find(e,t)},i.prototype.get=function(e,t){var r=this.find(e,t);return r?r.value:this.le(e)},i.prototype.delete=function(e,t){var r=this.Hk(e,t);if(r){if(this.qk){var i=[],n=[e];this.UP(i,n,r.index)}return r.delete(),this.length--,this.qk&&(this.Vk(r.next,r.index),this.LP(i,n,r.index)),!0}return!1},i.prototype.GP=function(e,t){t=t||this.ce;for(var r=this.head,i=r.next,n=0;i!==r;)t(e,i.value)&&(i.delete(),n++),i=i.next;return this.length-=n,n},i.prototype.clear=function(){var e,t;this.qk&&(t=this.toArray(),e=[],this.UP(e,t,0)),this.head.next=this.head.Mk=this.head,this.length=0,this.qk&&this.LP(e,t,0)},i.prototype.add=function(e){var t=new this.Node(e);return this.qk&&(t.index=this.length,this.UP([e],[],t.index)),this.head.jk(t),this.length++,this.qk&&this.LP([e],[],t.index),!0},i.prototype.push=function(){var e=this.head;if(this.qk){var t=Array.prototype.slice.call(arguments),r=[],i=this.length;this.UP(t,r,i);var n=this.head.Mk}for(var s=0;s<arguments.length;s++){var o=arguments[s],a=new this.Node(o);e.jk(a)}this.length+=arguments.length,this.qk&&(this.Vk(n.next,void 0===n.index?0:n.index+1),this.LP(t,r,i))},i.prototype.unshift=function(){if(this.qk){var e=Array.prototype.slice.call(arguments),t=[];this.UP(e,t,0)}for(var r=this.head,i=0;i<arguments.length;i++){var n=arguments[i],s=new this.Node(n);r.Gk(s),r=s}this.length+=arguments.length,this.qk&&(this.Vk(this.head.next,0),this.LP(e,t,0))},i.prototype.pop=function(){var e,t=this.head;if(t.Mk!==t){if(e=t.Mk.value,this.qk){var r=[],i=[e],n=this.length-1;this.UP(r,i,n)}t.Mk.delete(),this.length--,this.qk&&this.LP(r,i,n)}return e},i.prototype.shift=function(){var e,t=this.head;if(t.Mk!==t){if(e=t.next.value,this.qk){var r=[],i=[e];this.UP(r,i,0)}t.next.delete(),this.length--,this.qk&&(this.Vk(this.head.next,0),this.LP(r,i,0))}return e},i.prototype.Qk=function(){if(this.head!==this.head.next)return this.head.next.value},i.prototype.Kk=function(e){this.head!==this.head.next?this.head.next.value=e:this.push(e)},i.prototype.Po=function(){return this.Qk()},i.prototype.xk=function(e,t){var r=this.head;if("number"==typeof e){var i=e;if(i>=0)for(e=r.next;i&&(i--,(e=e.next)!=r););else for(e=r;i<0&&(i++,(e=e.Mk)!=r););return e}return e||t},i.prototype.slice=function(e,t){var r=[],i=this.head;for(e=this.xk(e,i.next),t=this.xk(t,i);e!==t&&e!==i;)r.push(e.value),e=e.next;return r},i.prototype.splice=function(e,t){return this.Yk(e,t,Array.prototype.slice.call(arguments,2))},i.prototype.Yk=function(e,t,r){var i=e;e=this.xk(e,this.head),null==t&&(t=1/0),r=Array.from(r);for(var n=[],s=e;t--&&t>=0&&s!==this.head;)n.push(s.value),s=s.next;var o,a;this.qk&&(o=e===this.head?this.length:e.Mk===this.head?0:e.index,a=e.Mk,this.UP(r,n,o));for(var s=e,h=0,s=e;h<n.length;h++,s=s.next)s.delete();null==i&&s===this.head&&(s=this.head.next);for(var h=0;h<r.length;h++){var c=new this.Node(r[h]);s.jk(c)}return this.length+=r.length-n.length,this.qk&&(e===this.head?this.Vk(this.head.next,0):this.Vk(a.next,a.index+1),this.LP(r,n,o)),n},i.prototype.reverse=function(){if(this.qk){var e=this.toArray(),t=e.reversed();this.UP(t,e,0)}var r=this.head;do{var i=r.next;r.next=r.Mk,r.Mk=i,r=r.next}while(r!==this.head);return this.qk&&this.LP(t,e,0),this},i.prototype.sort=function(){this.Yk(0,this.length,this.Ro())},i.prototype.reduce=function(e,t){for(var r=arguments[2],i=this.head,n=i.next;n!==i;)t=e.call(r,t,n.value,n,this),n=n.next;return t},i.prototype.reduceRight=function(e,t){for(var r=arguments[2],i=this.head,n=i.Mk;n!==i;)t=e.call(r,t,n.value,n,this),n=n.Mk;return t},i.prototype.Vk=function(e,t){for(;e!==this.head;)e.index=t++,e=e.next},i.prototype.xo=function(){this.head.index=-1,this.Vk(this.head.next,0),this.qk=!0},i.prototype.Ao=function(){return new n(this.head)},n.prototype.zk=null,Object.defineProperty(n.prototype,"_iterationObject",{get:function(){return this.zk||(this.zk={done:!1,value:null})}}),n.prototype.next=function(){if(this.Bk===this.head)this.Jk.done=!0,this.Jk.value=void 0;else{var e=this.Bk.value;this.Bk=this.Bk.next,this.Jk.value=e}return this.Jk},i.prototype.Node=s,s.prototype.delete=function(){this.Mk.next=this.next,this.next.Mk=this.Mk},s.prototype.jk=function(e){var t=this.Mk;this.Mk=e,e.Mk=t,t.next=e,e.next=this},s.prototype.Gk=function(e){var t=this.next;this.next=e,e.next=t,t.Mk=e,e.Mk=this}},function(e,t,r){"use strict";function i(e,t){if(!(this instanceof i))return new i(e,t);t=t||Function.he,this.le=t,this.pe=Object.create(null),this.length=0,this.addEach(e)}var n=(r(12),r(13)),s=r(48),o=r(14);e.t=i,i.Wk=i,Object.addEach(i.prototype,n.prototype),Object.addEach(i.prototype,s.prototype),Object.addEach(i.prototype,o.prototype),i.prototype.de=function(e){return new this.constructor(e,this.le)},i.prototype.Xk=function(e){if("string"!=typeof e)throw new TypeError("key must be a string but Got "+e)},Object.defineProperty(i.prototype,"$__proto__",{Ui:!0}),Object.defineProperty(i.prototype,"_hasProto",{get:function(){return this.hasOwnProperty("$__proto__")&&void 0!==this.Zk}}),Object.defineProperty(i.prototype,"_protoValue",{get:function(){return this.$k},set:function(e){this.$k=e}}),i.prototype.get=function(e,t){return this.Xk(e),"__proto__"===e?this.eO?this.Zk:arguments.length>1?t:this.le(e):e in this.pe?this.pe[e]:arguments.length>1?t:this.le(e)},i.prototype.set=function(e,t){this.Xk(e);var r="__proto__"===e;return(r?this.eO:e in this.pe)?(this.tO&&this.rO(e,r?this.Zk:this.pe[e]),r?this.Zk=t:this.pe[e]=t,this.tO&&this.iO(e,t),!1):(this.tO&&this.rO(e,void 0),this.length++,r?this.Zk=t:this.pe[e]=t,this.tO&&this.iO(e,t),!0)},i.prototype.has=function(e){return this.Xk(e),"__proto__"===e?this.eO:e in this.pe},i.prototype.delete=function(e){return this.Xk(e),"__proto__"===e?!!this.eO&&(this.tO&&this.rO(e,this.Zk),this.Zk=void 0,this.length--,this.tO&&this.iO(e,void 0),!0):e in this.pe&&(this.tO&&this.rO(e,this.pe[e]),delete this.pe[e],this.length--,this.tO&&this.iO(e,void 0),!0)},i.prototype.clear=function(){var e;this.eO&&(this.tO&&this.rO("__proto__",this.Zk),this.Zk=void 0,this.tO&&this.iO("__proto__",void 0));for(e in this.pe)this.tO&&this.rO(e,this.pe[e]),delete this.pe[e],this.tO&&this.iO(e,void 0);this.length=0},i.prototype.reduce=function(e,t,r){this.eO&&(t=e.call(r,t,"$__proto__","__proto__",this));var i=this.pe;for(var n in this.pe)t=e.call(r,t,i[n],n,this);return t},i.prototype.reduceRight=function(e,t,r){var i=this,n=this.pe;return t=Object.keys(this.pe).reduceRight(function(t,s){return e.call(r,t,n[s],s,i)},t),this.eO?e.call(r,t,this.Zk,"__proto__",i):t},i.prototype.Po=function(){var e;for(e in this.pe)return this.pe[e];return this.Zk},i.prototype.toJSON=function(){return this.vo()}},function(e,t,r){"use strict";function i(){throw new Error("Can't construct. GenericMap is a mixin.")}function n(e,t){this.key=e,this.value=t}var s=r(33),o=r(99),a=r(14);e.t=i,s.addEach(i.prototype,o.prototype),s.addEach(i.prototype,a.prototype),i.prototype.isMap=!0,i.prototype.addEach=function(e){if(e&&s(e)===e)if("function"==typeof e.forEach)!0===e.isMap?e.forEach(function(e,t){this.set(t,e)},this):e.forEach(function(e){this.set(e[0],e[1])},this);else if("number"==typeof e.length)for(var t=0;t<e.length;t++)this.add(e[t],t);else s.keys(e).forEach(function(t){this.set(t,e[t])},this);else if(e&&"number"==typeof e.length)for(var t=0;t<e.length;t++)this.add(e[t],t);return this},i.prototype.get=function(e,t){var r=this.pe.get(new this.nO(e));return r?r.value:arguments.length>1?t:this.le(e)},i.prototype.set=function(e,t){var r=new this.nO(e,t),i=this.pe.get(r),n=!1;return i?(this.tO&&this.rO(e,i.value),i.value=t,this.tO&&this.iO(e,t)):(this.tO&&this.rO(e,void 0),this.pe.add(r)&&(this.length++,n=!0),this.tO&&this.iO(e,t)),n},i.prototype.add=function(e,t){return this.set(t,e)},i.prototype.has=function(e){return this.pe.has(new this.nO(e))},i.prototype.delete=function(e){var t=new this.nO(e);if(this.pe.has(t)){var r=this.pe.get(t).value;return this.tO&&this.rO(e,r),this.pe.delete(t),this.length--,this.tO&&this.iO(e,void 0),!0}return!1},i.prototype.clear=function(){var e;this.tO&&(this.forEach(function(e,t){this.rO(t,e)},this),e=this.keys()),this.pe.clear(),this.length=0,this.tO&&e.forEach(function(e){this.iO(e)},this)},i.prototype.reduce=function(e,t,r){return this.pe.reduce(function(t,i){return e.call(r,t,i.value,i.key,this)},t,this)},i.prototype.reduceRight=function(e,t,r){return this.pe.reduceRight(function(t,i){return e.call(r,t,i.value,i.key,this)},t,this)},i.prototype.keys=function(){return this.map(function(e,t){return t})},i.prototype.values=function(){return this.map(Function.identity)},i.prototype.entries=function(){return this.map(function(e,t){return[t,e]})},i.prototype.sO=function(){return this.entries()},i.prototype.ae=function(e,t){return t=t||s.ae,this===e||(e&&"function"==typeof e.every?e.length===this.length&&e.every(function(e,r){return t(this.get(r),e)},this):s.keys(e).length===this.length&&s.keys(e).every(function(r){return t(this.get(r),e[r])},this))},i.prototype.toJSON=function(){return this.entries()},i.prototype.nO=n,n.prototype.ae=function(e){return s.ae(this.key,e.key)&&s.ae(this.value,e.value)},n.prototype.mo=function(e){return s.mo(this.key,e.key)}},function(e,t,r){"use strict";var i=function(){function e(){}return e}();i.$c="https:"===location.protocol,i.su=!0,i.oO=1e4,i.aO=6e4,t.N=i},function(e,t,r){"use strict";var i=this&&this.Ns||function(e,t){function r(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=r(65),s=r(7),o=r(66),a=r(6),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.mi=function(e){t.te=e},t.prototype.send=function(){if(t.te&&t.te.debug(this.method+" "+this.url),!this.sessionId){var e=Object.keys(t.EI);e.length>0&&(this.sessionId=t.EI[e[0]])}var r=this,i=new XMLHttpRequest;0===this.url.indexOf("//")&&(this.url=location.protocol+this.url);var o=s.gs(n.cO.hO,n.cO.oA,n.cO.uO,this.sessionId,encodeURIComponent(this.url));i.open("GET",o),this.responseType&&(i.responseType=this.responseType),i.onreadystatechange=function(){},i.onload=function(){if(4===i.readyState)try{r.xu=i.getAllResponseHeaders(),r.response=i.response;var e=i.response.byteLength;"arraybuffer"!==i.responseType&&(r.responseText=i.response),r.readyState=4,r.status=i.status,r.dispatchEvent(a.fn.createEvent(ProgressEvent,"progress",{lengthComputable:!0,loaded:e,total:e,currentTarget:r})),r.dispatchEvent(a.fn.createEvent(Event,"readystatechange",{currentTarget:r,bubbles:!1,cancelable:!1})),r.dispatchEvent(a.fn.createEvent(ProgressEvent,"load",{currentTarget:r,bubbles:!1,cancelable:!1,lengthComputable:!1,loaded:e,total:0})),r.dispatchEvent(a.fn.createEvent(ProgressEvent,"loadend",{currentTarget:r,bubbles:!1,cancelable:!1,lengthComputable:!1,loaded:e,total:0}))}catch(e){t.te&&t.te.warn(e)}},i.onerror=function(e){t.te&&t.te.warn("onError: "+JSON.stringify(e)),r.dispatchEvent(a.fn.createEvent(ErrorEvent,"error",e,r))},i.onabort=function(e){t.te&&t.te.warn("onAbort: "+JSON.stringify(e)),r.dispatchEvent(a.fn.createEvent(ProgressEvent,"abort",e,r))},i.send()},t.prototype.abort=function(){},t}(o.SI);t.In=h},function(e,t,r){var i;!function(n,s){"use strict";var o="model",a="name",h="type",c="vendor",u="version",l="mobile",p="tablet",f={extend:function(e,t){var r={};for(var i in e)t[i]&&t[i].length%2==0?r[i]=t[i].concat(e[i]):r[i]=e[i];return r},has:function(e,t){return"string"==typeof e&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},lO:function(e){return e.toLowerCase()},pO:function(e){return"string"==typeof e?e.replace(/[^\d\.]/g,"").split(".")[0]:void 0},trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},d={fO:function(){for(var e,t,r,i,n,s,o,a=0,h=arguments;a<h.length&&!s;){var c=h[a],u=h[a+1];if(void 0===e){e={};for(i in u)u.hasOwnProperty(i)&&(n=u[i],"object"==typeof n?e[n[0]]=void 0:e[n]=void 0)}for(t=r=0;t<c.length&&!s;)if(s=c[t++].exec(this.dO()))for(i=0;i<u.length;i++)o=s[++r],n=u[i],"object"==typeof n&&n.length>0?2==n.length?"function"==typeof n[1]?e[n[0]]=n[1].call(this,o):e[n[0]]=n[1]:3==n.length?"function"!=typeof n[1]||n[1].exec&&n[1].test?e[n[0]]=o?o.replace(n[1],n[2]):void 0:e[n[0]]=o?n[1].call(this,o,n[2]):void 0:4==n.length&&(e[n[0]]=o?n[3].call(this,o.replace(n[1],n[2])):void 0):e[n]=o||void 0;a+=2}return e},Lg:function(e,t){for(var r in t)if("object"==typeof t[r]&&t[r].length>0){for(var i=0;i<t[r].length;i++)if(f.has(t[r][i],e))return"?"===r?void 0:r}else if(f.has(t[r],e))return"?"===r?void 0:r;return e}},g={Oa:{gO:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419",$E:"/"}}},vO:{yO:{mO:{EO:["SD","KF"]}},TO:{mO:{IO:"7373KT"},vendor:{wO:"APA",SO:"Sprint"}}},os:{RO:{version:{bO:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2000:"NT 5.0",PO:["NT 5.1","NT 5.2"],AO:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],CO:"ARM"}}}},v={Oa:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[a,u],[/(opios)[\/\s]+([\w\.]+)/i],[[a,"Opera Mini"],u],[/\s(opr)\/([\w\.]+)/i],[[a,"Opera"],u],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs)\/([\w\.-]+)/i],[a,u],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[a,"IE"],u],[/(edge)\/((\d+)?[\w\.]+)/i],[a,u],[/(yabrowser)\/([\w\.]+)/i],[[a,"Yandex"],u],[/(comodo_dragon)\/([\w\.]+)/i],[[a,/_/g," "],u],[/(micromessenger)\/([\w\.]+)/i],[[a,"WeChat"],u],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[u,[a,"MIUI Browser"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[a,/(.+)/,"$1 WebView"],u],[/android.+samsungbrowser\/([\w\.]+)/i,/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[u,[a,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i,/(qqbrowser)[\/\s]?([\w\.]+)/i],[a,u],[/(uc\s?browser)[\/\s]?([\w\.]+)/i,/ucweb.+(ucbrowser)[\/\s]?([\w\.]+)/i,/juc.+(ucweb)[\/\s]?([\w\.]+)/i],[[a,"UCBrowser"],u],[/(dolfin)\/([\w\.]+)/i],[[a,"Dolphin"],u],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[a,"Chrome"],u],[/;fbav\/([\w\.]+);/i],[u,[a,"Facebook"]],[/fxios\/([\w\.-]+)/i],[u,[a,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[u,[a,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[u,a],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[a,[u,d.Lg,g.Oa.gO.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[a,u],[/(navigator|netscape)\/([\w\.-]+)/i],[[a,"Netscape"],u],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/([\w\.-]+)/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]+)*/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[a,u]],kO:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/(ia32(?=;))/i],[["architecture",f.lO]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/windows\s(ce|mobile);\sppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[["architecture",/ower/,"",f.lO]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[["architecture",f.lO]]],vO:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[o,c,[h,p]],[/applecoremedia\/[\w\.]+ \((ipad)/],[o,[c,"Apple"],[h,p]],[/(apple\s{0,1}tv)/i],[[o,"Apple TV"],[c,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[c,o,[h,p]],[/(kf[A-z]+)\sbuild\/[\w\.]+.*silk\//i],[o,[c,"Amazon"],[h,p]],[/(sd|kf)[0349hijorstuw]+\sbuild\/[\w\.]+.*silk\//i],[[o,d.Lg,g.vO.yO.mO],[c,"Amazon"],[h,l]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[o,c,[h,l]],[/\((ip[honed|\s\w*]+);/i],[o,[c,"Apple"],[h,l]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|huawei|meizu|motorola|polytron)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[c,o,[h,l]],[/\(bb10;\s(\w+)/i],[o,[c,"BlackBerry"],[h,l]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone)/i],[o,[c,"Asus"],[h,p]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[c,"Sony"],[o,"Xperia Tablet"],[h,p]],[/(?:sony)?(?:(?:(?:c|d)\d{4})|(?:so[-l].+))\sbuild\//i],[[c,"Sony"],[o,"Xperia Phone"],[h,l]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[c,o,[h,"console"]],[/android.+;\s(shield)\sbuild/i],[o,[c,"Nvidia"],[h,"console"]],[/(playstation\s[34portablevi]+)/i],[o,[c,"Sony"],[h,"console"]],[/(sprint\s(\w+))/i],[[c,d.Lg,g.vO.TO.vendor],[o,d.Lg,g.vO.TO.mO],[h,l]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[c,o,[h,p]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|huawei|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],[c,[o,/_/g," "],[h,l]],[/(nexus\s9)/i],[o,[c,"HTC"],[h,p]],[/(nexus\s6p)/i],[o,[c,"Huawei"],[h,l]],[/(microsoft);\s(lumia[\s\w]+)/i],[c,o,[h,l]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[o,[c,"Microsoft"],[h,"console"]],[/(kin\.[onetw]{3})/i],[[o,/\./g," "],[c,"Microsoft"],[h,l]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w+)*/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[o,[c,"Motorola"],[h,l]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[o,[c,"Motorola"],[h,p]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[c,f.trim],[o,f.trim],[h,"smarttv"]],[/hbbtv.+maple;(\d+)/i],[[o,/^/,"SmartTV"],[c,"Samsung"],[h,"smarttv"]],[/\(dtv[\);].+(aquos)/i],[o,[c,"Sharp"],[h,"smarttv"]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[c,"Samsung"],o,[h,p]],[/smart-tv.+(samsung)/i],[c,[h,"smarttv"],o],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[[c,"Samsung"],o,[h,l]],[/sie-(\w+)*/i],[o,[c,"Siemens"],[h,l]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[[c,"Nokia"],o,[h,l]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],[o,[c,"Acer"],[h,p]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[c,"LG"],o,[h,p]],[/(lg) netcast\.tv/i],[c,o,[h,"smarttv"]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w+)*/i],[o,[c,"LG"],[h,l]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[o,[c,"Lenovo"],[h,p]],[/linux;.+((jolla));/i],[c,o,[h,l]],[/((pebble))app\/[\d\.]+\s/i],[c,o,[h,"wearable"]],[/android.+;\s(glass)\s\d/i],[o,[c,"Google"],[h,"wearable"]],[/android.+(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus|note lte)?[\s_]*(?:\d\w)?)\s+build/i],[[o,/_/g," "],[c,"Xiaomi"],[h,l]],[/android.+a000(1)\s+build/i],[o,[c,"OnePlus"],[h,l]],[/\s(tablet)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[h,f.lO],c,o]],OO:[[/windows.+\sedge\/([\w\.]+)/i],[u,[a,"EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[a,u],[/rv\:([\w\.]+).*(gecko)/i],[u,a]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[a,u],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s]+\w)*/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[a,[u,d.Lg,g.os.RO.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[a,"Windows"],[u,d.Lg,g.os.RO.version]],[/\((bb)(10);/i],[[a,"BlackBerry"],u],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],[a,u],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[a,"Symbian"],u],[/\((series40);/i],[a],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[a,"Firefox OS"],u],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[a,u],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[a,"Chromium OS"],u],[/(sunos)\s?([\w\.]+\d)*/i],[[a,"Solaris"],u],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[a,u],[/(haiku)\s(\w+)/i],[a,u],[/(ip[honead]+)(?:.*os\s([\w]+)*\slike\smac|;\sopera)/i],[[a,"iOS"],[u,/_/g,"."]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i],[[a,"Mac OS"],[u,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]+)*/i],[a,u]]},y=function(e,t){if(!(this instanceof y))return new y(e,t)._O();var r=e||(n&&n.navigator&&n.navigator.userAgent?n.navigator.userAgent:""),i=t?f.extend(v,t):v;return this.NO=function(){var e=d.fO.apply(this,i.Oa);return e.pO=f.pO(e.version),e},this.DO=function(){return d.fO.apply(this,i.kO)},this.FO=function(){return d.fO.apply(this,i.vO)},this.LO=function(){return d.fO.apply(this,i.OO)},this.Uh=function(){return d.fO.apply(this,i.os)},this._O=function(){return{qf:this.dO(),Oa:this.NO(),OO:this.LO(),os:this.Uh(),vO:this.FO(),kO:this.DO()}},this.dO=function(){return r},this.Bh=function(e){return r=e,this},this};y.VERSION="0.7.12",y.MO={BO:a,UO:"major",VERSION:u},y.xO={HO:"architecture"},y.qO={VO:o,VENDOR:c,jO:h,GO:"console",QO:l,KO:"smarttv",YO:p,zO:"wearable",JO:"embedded"},y.WO={BO:a,VERSION:u},y.XO={BO:a,VERSION:u},void 0!==t?(void 0!==e&&e.t&&(t=e.t=y),t.Fa=y):r(108)?void 0!==(i=function(){return y}.call(t,r,t,e))&&(e.t=i):n.Fa=y;var m=n.ZO||n.$O;if(void 0!==m){var E=new y;m.qf=E._O(),m.qf.get=function(){return E.dO()},m.qf.set=function(e){E.Bh(e);var t=E._O();for(var r in t)m.qf[r]=t[r]}}}("object"==typeof window?window:this)},function(e,t,r){"use strict";!function(){var t=r(17),i=t.log,n=t.Da;e.t.Da=n,e.t.Ca=t.Ca,e.t.Aa=t.Aa;var s=r(120)||null,o=r(122)||null,a=r(125)||null,h=r(127)||null;switch(n.Oa){case"chrome":if(!s||!s.e_)return void i("Chrome shim is not included in this adapter release.");i("adapter.js shimming chrome."),e.t.t_=s,s.r_(),s.i_(),t._a(),s.n_(),s.e_(),s.s_(),s.o_();break;case"firefox":if(!a||!a.e_)return void i("Firefox shim is not included in this adapter release.");i("adapter.js shimming firefox."),e.t.t_=a,a.r_(),t._a(),a.n_(),a.e_(),a.s_();break;case"edge":if(!o||!o.e_)return void i("MS edge shim is not included in this adapter release.");i("adapter.js shimming edge."),e.t.t_=o,o.r_(),t._a(),o.e_();break;case"safari":if(!h)return void i("Safari shim is not included in this adapter release.");i("adapter.js shimming safari."),e.t.t_=h,h.r_();break;default:i("Unsupported browser!")}}()},function(e,t,r){"use strict";var i=r(29),n=r(2),s=r(7),o=r(128),a=o.gn.ou.a_,h=r(19),c=r(129),u=r(4),l=function(){function e(t,r){this.h_=t,this.options_=new a,void 0!==r[e.c_]&&s.vs(r[e.c_],this.options_)}return e.prototype.Fn=function(){return e.c_},e.prototype.id=function(){return"["+e.c_+"] "},e.prototype.getVersion=function(){return null},e.prototype.u_=function(){return!0},e.prototype.l_=function(){return n.resolve(!0)},e.prototype.initSession=function(e,t){var r=this.p_(e,t.ticket,t.ticket.LA(),t);return s.HiveRequestFactory.bn(r.id,this.Fn()),n.resolve(r)},e.prototype.f_=function(){return this.options().initTimeout},e.prototype.ci=function(e,t){var r=t.manifest.toLowerCase().indexOf("/manifest");if(r>-1){var i=t.manifest.substring(0,r);if(e.indexOf(i)>-1)return!0}else if(e==t.manifest)return!0;return!1},e.prototype.Nn=function(e,t,r){void 0===r&&(r=!0),e.Cn&&(this.h_.te().debug("[StatsJS] stopping session ["+e.id+"] complete close: "+t),e.Cn.Lc.dc(r),e.Cn.Fc.d_(),e.Cn.Fc.reset(t)),t?i.Hive.Reporting().close():this.On(e,!0)},e.prototype.On=function(e,t){var r=t?h._c.IDLE:h._c.Oc;this.h_.te().notice("[HiveComm] client state: "+h._c[r]),e.Cn&&e.Cn.On(r)},e.prototype.g_=function(e,t){var r=this,i=0;return this.v_<t.Ps&&(i=t.Ps-this.v_,this.v_=t.Ps),e.Ln().then(function(){e.Cn.Dc.y_(i,t.bs),e.Cn.tc.kh(t.Rs,t.bs,t.Ps),r.m_()}).done(),n.resolve(!0)},e.prototype.E_=function(e,t,r){return e.Ln().then(function(){e.Cn.tc._h(e.ticket.sessionId,t,r)}).done(),n.resolve(!0)},e.prototype.Nh=function(e,t){return e.Ln().then(function(){e.Cn.tc.Dh([t])}).done(),n.resolve(!0)},e.prototype.onError=function(e){var t=!0;if(void 0!=this.options().onError)try{t=this.options().onError(e)}catch(e){u.ErrorMonitor.gi().di("exception in user-defined onError callback",this.id(),e)}return t},e.prototype.onActiveSession=function(e){var t=this;this.T_(),e.Ln().then(function(r){t.I_=r;var i=new c.w_(t.h_.isLive(),t.h_.S_(),e.ticket.LA());t.I_.R_=i,t.I_.Dc.R_=i,t.h_.wh(t.I_),t.I_.Fc.init(t.I_.Dc,e.id),t.I_.tc.Tn(e.ticket.sessionId,t.h_.b_(),200);var n=t.h_.P_();if(n&&n.length>0&&t.I_.tc.Dh(n),void 0!=t.options_.onActiveSession)try{t.options_.onActiveSession(e.Dn())}catch(e){u.ErrorMonitor.gi().di("exception in user-defined onActiveSession callback",t.id(),e)}}).done()},e.prototype.A_=function(){},e.prototype.C_=function(){},e.prototype.k_=function(e){this.h_=e},e.prototype.options=function(){return this.options_},e.prototype.T_=function(){this.v_=0},e.prototype.p_=function(e,t,r,i){var n=new s.Bn(e,t,r,i);return n.O_=!1,n.id=t.sessionId,n},e.prototype.m_=function(){try{var e=this.h_.__();void 0!=e&&(this.I_.Dc.N_.metrics.bitrateUpN+=e.es(),this.I_.Dc.N_.metrics.bitrateDwnN+=e.rs(),null!=e.Xn()&&(this.I_.Dc.N_.metrics.srcThroughput=e.Xn()),null!=e.Zn()&&this.D_(!0,e.Zn()),null!=e.$n()&&this.D_(!1,e.$n()))}catch(e){u.ErrorMonitor.gi().di("Error accounting extended stats",this.id(),e)}},e.prototype.D_=function(e,t){var r=this,i=0,n=0,s=0,o=0;t.forEach(function(t,a){var h=t.success+t.xn;if(i+=h,o+=t.Hn,n+=t.success,s+=t.xn,e){var c=r.I_.Dc.F_(Number(a));r.L_(c,h,t.success,t.xn,t.Hn)}});var a=this.I_.Dc.M_();this.L_(a,i,n,s,o)},e.prototype.L_=function(e,t,r,i,n){e.srcReqN+=t,e.srcRespN+=r,e.srcRespErrN+=i,e.srcRespQt+=n,e.respFallbackN+=r,e.respFallbackErrN+=i},e}();l.c_="StatsJS",t.StatsJS=l},function(e,t,r){"use strict";var i=r(44),n=r(31),s=r(0),o=r(138),a=r(10),h=r(22),c=r(45),u=r(3),l=function(){function e(e){this.B_=new i,this.te=s.Framework.resolve(s.Framework.q.I).log(e.sessionId),this.wC=e.wC,this.U_=e.x_,this.H_=e.H_,this.q_=e.V_,this.q_.PC(this,this)}return e.prototype.Ak=function(){return null},e.prototype.j_=function(){return this.q_},e.prototype.G_=function(e,t){var r=0,i=0;if(this.B_.length<t)return!0;for(var n=this.B_.keys().reverse(),s=n[0],o=this.B_.get(s).bitrate,a=n.slice(1),h=0;h<a.length;h++){var c=a[h],u=this.B_.get(c),l=u.Q_,p=u.bitrate,f=Math.abs(u.Q_-s);if(p!=o)return!1;if(f<e){if(++i>=t)return!1}else{if(++r>t)return!0;i=Math.max(0,i-1),s=l,o=p}}return!1},e.prototype.K_=function(){return null},e.prototype.Y_=function(e,t){if(this.z_(t)){var r=this._C();if(r){var i=e.IR(),n=r.IR();i>n?this.U_.J_(!0):i<n&&this.U_.J_(!1)}else this.U_.J_(!0);if(this.B_.length>u.ni.mr.gr){var o=this.B_.keys()[0];this.B_.delete(o)}this.B_.set(s.Framework.time(),e)}return this.W_(e,t)},e.prototype.W_=function(e,t){var r=new o.X_;if(this.q_.CC(e.bitrate)){if(this.H_.Z_(e.zu())){r.eN=!0;var i=this.H_.tN(e.zu());this.rN(t,i,r)}if(this.H_.iN(e.zu()))for(var n=this.H_.nN(e.zu()),s=0,a=n;s<a.length;s++){var h=a[s];this.rN(t,h.Ku(),r),r.sN=!0}}else{var u=c.cC.$s;this.wC.fk()&&(u=c.cC.aC),this.q_.LC(e.bitrate,u,u)}return r},e.prototype.rN=function(e,t,r){e!=h.Tu.vu&&e!=h.Tu.Eu||t!=h.Tu.du&&t!=h.Tu.Eu&&t!=h.Tu.vu||(r.oN=!0)},e.prototype.z_=function(e){return e!=h.Tu.Eu&&e!=h.Tu.vu},e.prototype.aN=function(e,t,r){for(var i=[],n=this.H_.nN(t.zu()),s=0,o=n;s<o.length;s++){var a=o[s];a.Ku()!=h.Tu.du&&(this.q_.Ok(a,e),i.push(a._k))}return i},e.prototype.hN=function(e){this.H_.hN(e)},e.prototype.cN=function(e,t){this.H_.cN(e,t)},e.prototype.uN=function(e){this.H_.uN(e)},e.prototype.lN=function(e){this.H_.pN(e)},e.prototype.fN=function(e){this.H_.dN()||this.q_.VC(e)},e.prototype._C=function(){var e=this.B_.keys();return e.length>0?this.B_.get(e[e.length-1]):null},e.prototype.gN=function(){var e=this.B_.keys();if(e.length>0)return e[e.length-1]},e.prototype.vN=function(e){var t=this.yN(e);null!=t&&this.fN(t.bitrate)},e.prototype.yN=function(e){var t=e.mN,r=t.slice(0,t.lastIndexOf("-")),i=r.slice(0,r.lastIndexOf("-")),s=e.EN();return new n.SR(i,s,!0,e.id,e.duration,e.bitrate,!0,this.K_())},e.prototype.lk=function(){return!1},e.prototype.yk=function(e,t,r,i){return 0},e.prototype.vk=function(){return 3e4},e.prototype.TN=function(){return 1e4},e.prototype.ck=function(e){return null},e.prototype.KC=function(e,t,r){return null},e.prototype.S_=function(){return null},e.prototype.isLive=function(){return!1},e.prototype.sk=function(e){},e.prototype.IN=function(){},e.prototype.wN=function(){return null},e.prototype.SN=function(e){},e.prototype.RN=function(){},e.prototype.bN=function(e){},e.prototype.PN=function(e){},e.prototype.AN=function(e){e.Yu()===a.Ws.Ys&&this.cN(e.zu(),e.Ju())},e.prototype.CN=function(){return null},e.prototype.kN=function(e){},e.prototype.gk=function(e,t){return 0},e}();t.ON=l},function(e,t,r){"use strict";function i(e,t,r,s){if(!(this instanceof i))return new i(e,t,r,s);n.call(this,e,t,r,s)}e.t=i;var n=(r(12),r(139)),s=r(36),o=r(14);i._N=i,i.prototype=Object.create(n.prototype),i.prototype.constructor=i,Object.addEach(i.prototype,s.prototype),Object.addEach(i.prototype,o.prototype),i.prototype.NN=!0,i.prototype.add=function(e){return!this.has(e)&&(n.prototype.add.call(this,e),!0)},i.prototype.reduce=function(e,t){var r=this,i=arguments[2];return this.fg.reduce(function(t,n,s){return e.call(i,t,n,s,r)},t)},i.prototype.reduceRight=function(e,t){var r=this,i=arguments[2];return this.fg.reduceRight(function(t,n,s){return e.call(i,t,n,s,r)},t)}},function(e,t,r){var i=r(30);"undefined"==typeof hive&&(hive={}),void 0===hive.DN&&(hive.DN={}),void 0===hive.DN.protocol&&(hive.DN.protocol={}),void 0===hive.DN.protocol.FN&&(hive.DN.protocol.FN={}),hive.DN.protocol.FN.io={1:"PLAYER",$s:1,2:"P2P_AGENT",eo:2,3:"PREFETCHER_FIRST_TIER",to:3,4:"PREFETCHER_SECOND_TIER",ro:4},hive.DN.protocol.FN.LN={1:"Global",MN:1,2:"InternalAs",BN:2,3:"ExternalAs",UN:3},hive.DN.protocol.FN.xN={1:"Internal",HN:1,2:"External",External:2},hive.DN.protocol.FN.no=function(e){this.state=null,this.bitrate=null,this.delta=null,e&&(void 0!==e.state&&(this.state=e.state),void 0!==e.bitrate&&(this.bitrate=e.bitrate),void 0!==e.delta&&(this.delta=e.delta))},hive.DN.protocol.FN.no.prototype={},hive.DN.protocol.FN.no.prototype.read=function(e){for(e.QS();;){var t=e.uw(),r=(t.qS,t.lw),n=t.pw;if(r==i.bI.AI)break;switch(n){case 1:r==i.bI.NI?this.state=e.gw().value:e.dw(r);break;case 2:r==i.bI.NI?this.bitrate=e.gw().value:e.dw(r);break;case 3:r==i.bI.NI?this.delta=e.gw().value:e.dw(r);break;default:e.dw(r)}e.vw()}e.yw()},hive.DN.protocol.FN.no.prototype.write=function(e){e.mw("TrackerPeerStreamInfo"),null!==this.state&&void 0!==this.state&&(e.Ew("state",i.bI.NI,1),e.ww(this.state),e.Iw()),null!==this.bitrate&&void 0!==this.bitrate&&(e.Ew("bitrate",i.bI.NI,2),e.ww(this.bitrate),e.Iw()),null!==this.delta&&void 0!==this.delta&&(e.Ew("delta",i.bI.NI,3),e.ww(this.delta),e.Iw()),e.Sw(),e.Rw()},hive.DN.protocol.FN.qN=function(e){this.guid=null,this.internalAs=null,this.externalAs=null,this.oo=null,this.bandwidth=null,this.ao=null,this.privateIp=null,this.publicIp=null,this.ho=null,this.co=null,this.timestamp=null,this.lo=null,this.uo=null,e&&(void 0!==e.guid&&(this.guid=e.guid),void 0!==e.internalAs&&(this.internalAs=e.internalAs),void 0!==e.externalAs&&(this.externalAs=e.externalAs),void 0!==e.oo&&(this.oo=e.oo),void 0!==e.bandwidth&&(this.bandwidth=e.bandwidth),void 0!==e.ao&&(this.ao=e.ao),void 0!==e.privateIp&&(this.privateIp=e.privateIp),void 0!==e.publicIp&&(this.publicIp=e.publicIp),void 0!==e.ho&&(this.ho=e.ho),void 0!==e.co&&(this.co=e.co),void 0!==e.timestamp&&(this.timestamp=e.timestamp),void 0!==e.lo&&(this.lo=e.lo),void 0!==e.uo&&(this.uo=e.uo))},hive.DN.protocol.FN.qN.prototype={},hive.DN.protocol.FN.qN.prototype.read=function(e){for(e.QS();;){var t=e.uw(),r=(t.qS,t.lw),n=t.pw;if(r==i.bI.AI)break;switch(n){case 1:r==i.bI.FI?this.guid=e.oR().value:e.dw(r);break;case 2:r==i.bI.NI?this.internalAs=e.gw().value:e.dw(r);break;case 3:r==i.bI.NI?this.externalAs=e.gw().value:e.dw(r);break;case 4:r==i.bI.NI?this.oo=e.gw().value:e.dw(r);break;case 5:r==i.bI.NI?this.bandwidth=e.gw().value:e.dw(r);break;case 6:r==i.bI.NI?this.ao=e.gw().value:e.dw(r);break;case 7:r==i.bI.MI?(this.privateIp=new InetAddress,this.privateIp.read(e)):e.dw(r);break;case 8:r==i.bI.MI?(this.publicIp=new InetAddress,this.publicIp.read(e)):e.dw(r);break;case 9:if(r==i.bI.xI){var s,o=0;this.ho=[];s=e.WS(),s.XS,o=s.size;for(var a=0;a<o;++a){var h=null;h=new hive.DN.protocol.FN.no,h.read(e),this.ho.push(h)}e.ZS()}else e.dw(r);break;case 10:r==i.bI.OI?this.co=e.sR().value:e.dw(r);break;case 11:r==i.bI.DI?this.timestamp=e.nR().value:e.dw(r);break;case 12:r==i.bI.FI?this.lo=e.fw().value:e.dw(r);break;case 13:r==i.bI.FI?this.uo=e.fw().value:e.dw(r);break;default:e.dw(r)}e.vw()}e.yw()},hive.DN.protocol.FN.qN.prototype.write=function(e){if(e.mw("TrackerPeerInfo"),null!==this.guid&&void 0!==this.guid&&(e.Ew("guid",i.bI.FI,1),e.MS(this.guid),e.Iw()),null!==this.internalAs&&void 0!==this.internalAs&&(e.Ew("internalAs",i.bI.NI,2),e.ww(this.internalAs),e.Iw()),null!==this.externalAs&&void 0!==this.externalAs&&(e.Ew("externalAs",i.bI.NI,3),e.ww(this.externalAs),e.Iw()),null!==this.oo&&void 0!==this.oo&&(e.Ew("nat",i.bI.NI,4),e.ww(this.oo),e.Iw()),null!==this.bandwidth&&void 0!==this.bandwidth&&(e.Ew("bandwidth",i.bI.NI,5),e.ww(this.bandwidth),e.Iw()),null!==this.ao&&void 0!==this.ao&&(e.Ew("watchingBitrate",i.bI.NI,6),e.ww(this.ao),e.Iw()),null!==this.privateIp&&void 0!==this.privateIp&&(e.Ew("privateIp",i.bI.MI,7),this.privateIp.write(e),e.Iw()),null!==this.publicIp&&void 0!==this.publicIp&&(e.Ew("publicIp",i.bI.MI,8),this.publicIp.write(e),e.Iw()),null!==this.ho&&void 0!==this.ho){e.Ew("streams",i.bI.xI,9),e.PS(i.bI.MI,this.ho.length);for(var t in this.ho)this.ho.hasOwnProperty(t)&&(t=this.ho[t],t.write(e));e.CS(),e.Iw()}null!==this.co&&void 0!==this.co&&(e.Ew("rankValue",i.bI.OI,10),e.LS(this.co),e.Iw()),null!==this.timestamp&&void 0!==this.timestamp&&(e.Ew("timestamp",i.bI.DI,11),e.FS(this.timestamp),e.Iw()),null!==this.lo&&void 0!==this.lo&&(e.Ew("publicIpString",i.bI.FI,12),e.Tw(this.lo),e.Iw()),null!==this.uo&&void 0!==this.uo&&(e.Ew("privateIpString",i.bI.FI,13),e.Tw(this.uo),e.Iw()),e.Sw(),e.Rw()},hive.DN.protocol.FN.VN=function(e){this.partnerId=null,this.customerId=null,e&&(void 0!==e.partnerId&&(this.partnerId=e.partnerId),void 0!==e.customerId&&(this.customerId=e.customerId))},hive.DN.protocol.FN.VN.prototype={},hive.DN.protocol.FN.VN.prototype.read=function(e){for(e.QS();;){var t=e.uw(),r=(t.qS,t.lw),n=t.pw;if(r==i.bI.AI)break;switch(n){case 1:r==i.bI.FI?this.partnerId=e.fw().value:e.dw(r);break;case 2:r==i.bI.FI?this.customerId=e.fw().value:e.dw(r);break;default:e.dw(r)}e.vw()}e.yw()},hive.DN.protocol.FN.VN.prototype.write=function(e){e.mw("CustomerKey"),null!==this.partnerId&&void 0!==this.partnerId&&(e.Ew("partnerId",i.bI.FI,1),e.Tw(this.partnerId),e.Iw()),null!==this.customerId&&void 0!==this.customerId&&(e.Ew("customerId",i.bI.FI,2),e.Tw(this.customerId),e.Iw()),e.Sw(),e.Rw()},hive.DN.protocol.FN.jN=function(e){this.GN=null,this.QN=null,e&&(void 0!==e.GN&&(this.GN=e.GN),void 0!==e.QN&&(this.QN=e.QN))},hive.DN.protocol.FN.jN.prototype={},hive.DN.protocol.FN.jN.prototype.read=function(e){for(e.QS();;){var t=e.uw(),r=(t.qS,t.lw),n=t.pw;if(r==i.bI.AI)break;switch(n){case 1:r==i.bI.NI?this.GN=e.gw().value:e.dw(r);break;case 2:r==i.bI.NI?this.QN=e.gw().value:e.dw(r);break;default:e.dw(r)}e.vw()}e.yw()},hive.DN.protocol.FN.jN.prototype.write=function(e){e.mw("TrackerAsQuery"),null!==this.GN&&void 0!==this.GN&&(e.Ew("asType",i.bI.NI,1),e.ww(this.GN),e.Iw()),null!==this.QN&&void 0!==this.QN&&(e.Ew("asn",i.bI.NI,2),e.ww(this.QN),e.Iw()),e.Sw(),e.Rw()},hive.DN.protocol.FN.KN=function(e){this.bitrate=null,this.QN=null,this.YN=null,e&&(void 0!==e.bitrate&&(this.bitrate=e.bitrate),void 0!==e.QN&&(this.QN=e.QN),void 0!==e.YN&&(this.YN=e.YN))},hive.DN.protocol.FN.KN.prototype={},hive.DN.protocol.FN.KN.prototype.read=function(e){for(e.QS();;){var t=e.uw(),r=(t.qS,t.lw),n=t.pw;if(r==i.bI.AI)break;switch(n){case 1:r==i.bI.NI?this.bitrate=e.gw().value:e.dw(r);break;case 2:r==i.bI.MI?(this.QN=new hive.DN.protocol.FN.jN,this.QN.read(e)):e.dw(r);break;case 3:r==i.bI.NI?this.YN=e.gw().value:e.dw(r);break;default:e.dw(r)}e.vw()}e.yw()},hive.DN.protocol.FN.KN.prototype.write=function(e){e.mw("TrackerBitrateQuery"),null!==this.bitrate&&void 0!==this.bitrate&&(e.Ew("bitrate",i.bI.NI,1),e.ww(this.bitrate),e.Iw()),null!==this.QN&&void 0!==this.QN&&(e.Ew("asn",i.bI.MI,2),this.QN.write(e),e.Iw()),null!==this.YN&&void 0!==this.YN&&(e.Ew("streamState",i.bI.NI,3),e.ww(this.YN),e.Iw()),e.Sw(),e.Rw()},hive.DN.protocol.FN.zN=function(e){this.JN=null,this.WN=null,e&&(void 0!==e.JN&&(this.JN=e.JN),void 0!==e.WN&&(this.WN=e.WN))},hive.DN.protocol.FN.zN.prototype={},hive.DN.protocol.FN.zN.prototype.read=function(e){for(e.QS();;){var t=e.uw(),r=(t.qS,t.lw),n=t.pw;if(r==i.bI.AI)break;switch(n){case 1:r==i.bI.NI?this.JN=e.gw().value:e.dw(r);break;case 2:r==i.bI.MI?(this.WN=new hive.DN.protocol.FN.jN,this.WN.read(e)):e.dw(r);break;default:e.dw(r)}e.vw()}e.yw()},hive.DN.protocol.FN.zN.prototype.write=function(e){e.mw("TrackerRankQuery"),null!==this.JN&&void 0!==this.JN&&(e.Ew("rankType",i.bI.NI,1),e.ww(this.JN),e.Iw()),null!==this.WN&&void 0!==this.WN&&(e.Ew("asQuery",i.bI.MI,2),this.WN.write(e),e.Iw()),e.Sw(),e.Rw()},hive.DN.protocol.FN.XN=function(e){this.random=null,this.ZN=null,this.$N=null,this.eD=null,this.tD=null,e&&(void 0!==e.random&&(this.random=e.random),void 0!==e.ZN&&(this.ZN=e.ZN),void 0!==e.$N&&(this.$N=e.$N),void 0!==e.eD&&(this.eD=e.eD),void 0!==e.tD&&(this.tD=e.tD))},hive.DN.protocol.FN.XN.prototype={},hive.DN.protocol.FN.XN.prototype.read=function(e){for(e.QS();;){var t=e.uw(),r=(t.qS,t.lw),n=t.pw;if(r==i.bI.AI)break;switch(n){case 1:r==i.bI.NI?this.random=e.gw().value:e.dw(r);break;case 2:if(r==i.bI.BI){var s,o=0;this.ZN={};s=e.KS(),s.YS,s.zS,o=s.size;for(var a=0;a<o;++a){a>0&&e.US.length>e.Cw[e.Cw.length-1]+1&&e.US.pop();var h=null,c=null;h=new hive.DN.protocol.FN.jN,h.read(e),c=e.gw().value,this.ZN[h]=c}e.JS()}else e.dw(r);break;case 3:if(r==i.bI.BI){var u,l=0;this.$N={};u=e.KS(),u.YS,u.zS,l=u.size;for(var p=0;p<l;++p){p>0&&e.US.length>e.Cw[e.Cw.length-1]+1&&e.US.pop();var f=null,d=null;f=new hive.DN.protocol.FN.KN,f.read(e),d=e.gw().value,this.$N[f]=d}e.JS()}else e.dw(r);break;case 4:if(r==i.bI.BI){var g,v=0;this.eD={};g=e.KS(),g.YS,g.zS,v=g.size;for(var y=0;y<v;++y){y>0&&e.US.length>e.Cw[e.Cw.length-1]+1&&e.US.pop();var m=null,E=null;m=new hive.DN.protocol.FN.KN,m.read(e),E=e.gw().value,this.eD[m]=E}e.JS()}else e.dw(r);break;case 5:if(r==i.bI.xI){var T,I=0;this.tD=[];T=e.WS(),T.XS,I=T.size;for(var w=0;w<I;++w){var S=null;S=e.gw().value,this.tD.push(S)}e.ZS()}else e.dw(r);break;default:e.dw(r)}e.vw()}e.yw()},hive.DN.protocol.FN.XN.prototype.write=function(e){if(e.mw("TrackerQuery"),null!==this.random&&void 0!==this.random&&(e.Ew("random",i.bI.NI,1),e.ww(this.random),e.Iw()),null!==this.ZN&&void 0!==this.ZN){e.Ew("asns",i.bI.BI,2),e.RS(i.bI.MI,i.bI.NI,i.YI(this.ZN));for(var t=0;t<this.ZN.length;t++){var r=this.ZN[t],n=r.key,s=r.value;n.write(e),e.ww(s)}e.bS(),e.Iw()}if(null!==this.$N&&void 0!==this.$N){e.Ew("watchers",i.bI.BI,3),e.RS(i.bI.MI,i.bI.NI,i.YI(this.$N));for(var t=0;t<this.$N.length;t++){var r=this.$N[t],o=r.key,a=r.value;o.write(e),e.ww(a)}e.bS(),e.Iw()}if(null!==this.eD&&void 0!==this.eD){e.Ew("streamers",i.bI.BI,4),e.RS(i.bI.MI,i.bI.NI,i.YI(this.eD));for(var t=0;t<this.eD.length;t++){var r=this.eD[t],h=r.key,c=r.value;h.write(e),e.ww(c)}e.bS(),e.Iw()}if(null!==this.tD&&void 0!==this.tD){e.Ew("rankings",i.bI.xI,5),e.PS(i.bI.NI,this.tD.length);for(var u in this.tD)this.tD.hasOwnProperty(u)&&(u=this.tD[u],e.ww(u));e.CS(),e.Iw()}e.Sw(),e.Rw()},hive.DN.protocol.FN.rD=function(e){this.JN=null,this.internalAs=null,this.externalAs=null,e&&(void 0!==e.JN&&(this.JN=e.JN),void 0!==e.internalAs&&(this.internalAs=e.internalAs),void 0!==e.externalAs&&(this.externalAs=e.externalAs))},hive.DN.protocol.FN.rD.prototype={},hive.DN.protocol.FN.rD.prototype.read=function(e){for(e.QS();;){var t=e.uw(),r=(t.qS,t.lw),n=t.pw;if(r==i.bI.AI)break;switch(n){case 1:r==i.bI.NI?this.JN=e.gw().value:e.dw(r);break;case 2:r==i.bI.NI?this.internalAs=e.gw().value:e.dw(r);break;case 3:r==i.bI.NI?this.externalAs=e.gw().value:e.dw(r);break;default:e.dw(r)}e.vw()}e.yw()},hive.DN.protocol.FN.rD.prototype.write=function(e){e.mw("TrackerPeerRankingKey"),null!==this.JN&&void 0!==this.JN&&(e.Ew("rankType",i.bI.NI,1),e.ww(this.JN),e.Iw()),null!==this.internalAs&&void 0!==this.internalAs&&(e.Ew("internalAs",i.bI.NI,2),e.ww(this.internalAs),e.Iw()),null!==this.externalAs&&void 0!==this.externalAs&&(e.Ew("externalAs",i.bI.NI,3),e.ww(this.externalAs),e.Iw()),e.Sw(),e.Rw()},hive.DN.protocol.FN.iD=function(e){this.key=null,this.nD=null,this.sD=null,this.oD=null,this.aD=null,e&&(void 0!==e.key&&(this.key=e.key),void 0!==e.nD&&(this.nD=e.nD),void 0!==e.sD&&(this.sD=e.sD),void 0!==e.oD&&(this.oD=e.oD),void 0!==e.aD&&(this.aD=e.aD))},hive.DN.protocol.FN.iD.prototype={},hive.DN.protocol.FN.iD.prototype.read=function(e){for(e.QS();;){var t=e.uw(),r=(t.qS,t.lw),n=t.pw;if(r==i.bI.AI)break;switch(n){case 1:r==i.bI.MI?(this.key=new hive.DN.protocol.FN.rD,this.key.read(e)):e.dw(r);break;case 2:r==i.bI.NI?this.nD=e.gw().value:e.dw(r);break;case 3:r==i.bI.NI?this.sD=e.gw().value:e.dw(r);break;case 4:r==i.bI.OI?this.oD=e.sR().value:e.dw(r);break;case 5:r==i.bI.OI?this.aD=e.sR().value:e.dw(r);break;default:e.dw(r)}e.vw()}e.yw()},hive.DN.protocol.FN.iD.prototype.write=function(e){e.mw("TrackerPeerRanking"),null!==this.key&&void 0!==this.key&&(e.Ew("key",i.bI.MI,1),this.key.write(e),e.Iw()),null!==this.nD&&void 0!==this.nD&&(e.Ew("ranking",i.bI.NI,2),e.ww(this.nD),e.Iw()),null!==this.sD&&void 0!==this.sD&&(e.Ew("groupSize",i.bI.NI,3),e.ww(this.sD),e.Iw()),null!==this.oD&&void 0!==this.oD&&(e.Ew("cumulatedRankValue",i.bI.OI,4),e.LS(this.oD),e.Iw()),null!==this.aD&&void 0!==this.aD&&(e.Ew("totalOfRankValues",i.bI.OI,5),e.LS(this.aD),e.Iw()),e.Sw(),e.Rw()},hive.DN.protocol.FN.hD=function(e){this.info=null,this.contentId=null,this.dn=null,this.streamType=null,this.sessionId=null,this.cD=null,e&&(void 0!==e.info&&(this.info=e.info),void 0!==e.contentId&&(this.contentId=e.contentId),void 0!==e.dn&&(this.dn=e.dn),void 0!==e.streamType&&(this.streamType=e.streamType),void 0!==e.sessionId&&(this.sessionId=e.sessionId),void 0!==e.cD&&(this.cD=e.cD))},hive.DN.protocol.FN.hD.prototype={},hive.DN.protocol.FN.hD.prototype.read=function(e){for(e.QS();;){var t=e.uw(),r=(t.qS,t.lw),n=t.pw;if(r==i.bI.AI)break;switch(n){case 1:r==i.bI.MI?(this.info=new hive.DN.protocol.FN.qN,this.info.read(e)):e.dw(r);break;case 2:r==i.bI.FI?this.contentId=e.fw().value:e.dw(r);break;case 3:r==i.bI.MI?(this.dn=new hive.DN.protocol.FN.XN,this.dn.read(e)):e.dw(r);break;case 4:r==i.bI.NI?this.streamType=e.gw().value:e.dw(r);break;case 5:r==i.bI.FI?this.sessionId=e.fw().value:e.dw(r);break;case 6:r==i.bI.MI?(this.cD=new hive.DN.protocol.FN.VN,this.cD.read(e)):e.dw(r);break;default:e.dw(r)}e.vw()}e.yw()},hive.DN.protocol.FN.hD.prototype.write=function(e){e.mw("TrackerRequest"),null!==this.info&&void 0!==this.info&&(e.Ew("info",i.bI.MI,1),this.info.write(e),e.Iw()),null!==this.contentId&&void 0!==this.contentId&&(e.Ew("contentId",i.bI.FI,2),e.Tw(this.contentId),e.Iw()),null!==this.dn&&void 0!==this.dn&&(e.Ew("query",i.bI.MI,3),this.dn.write(e),e.Iw()),null!==this.streamType&&void 0!==this.streamType&&(e.Ew("streamType",i.bI.NI,4),e.ww(this.streamType),e.Iw()),null!==this.sessionId&&void 0!==this.sessionId&&(e.Ew("sessionId",i.bI.FI,5),e.Tw(this.sessionId),e.Iw()),null!==this.cD&&void 0!==this.cD&&(e.Ew("customerKey",i.bI.MI,6),this.cD.write(e),e.Iw()),e.Sw(),e.Rw()},hive.DN.protocol.FN.uD=function(e){this.lD=null,this.tD=null,this.Tk=null,this.sessionId=null,e&&(void 0!==e.lD&&(this.lD=e.lD),void 0!==e.tD&&(this.tD=e.tD),void 0!==e.Tk&&(this.Tk=e.Tk),void 0!==e.sessionId&&(this.sessionId=e.sessionId))},hive.DN.protocol.FN.uD.prototype={},hive.DN.protocol.FN.uD.prototype.read=function(e){for(e.QS();;){var t=e.uw(),r=(t.qS,t.lw),n=t.pw;if(r==i.bI.AI)break;switch(n){case 1:if(r==i.bI.xI){var s,o=0;this.lD=[];s=e.WS(),s.XS,o=s.size;for(var a=0;a<o;++a){var h=null;h=new hive.DN.protocol.FN.qN,h.read(e),this.lD.push(h)}e.ZS()}else e.dw(r);break;case 2:if(r==i.bI.xI){var c,u=0;this.tD=[];c=e.WS(),c.XS,u=c.size;for(var l=0;l<u;++l){var p=null;p=new hive.DN.protocol.FN.iD,p.read(e),this.tD.push(p)}e.ZS()}else e.dw(r);break;case 3:r==i.bI.MI?(this.Tk=new hive.DN.protocol.FN.qN,this.Tk.read(e)):e.dw(r);break;case 4:r==i.bI.FI?this.sessionId=e.fw().value:e.dw(r);break;default:e.dw(r)}e.vw()}e.yw()},hive.DN.protocol.FN.uD.prototype.write=function(e){if(e.mw("TrackerResponse"),null!==this.lD&&void 0!==this.lD){e.Ew("infos",i.bI.xI,1),e.PS(i.bI.MI,this.lD.length);for(var t in this.lD)this.lD.hasOwnProperty(t)&&(t=this.lD[t],t.write(e));e.CS(),e.Iw()}if(null!==this.tD&&void 0!==this.tD){e.Ew("rankings",i.bI.xI,2),e.PS(i.bI.MI,this.tD.length);for(var r in this.tD)this.tD.hasOwnProperty(r)&&(r=this.tD[r],r.write(e));e.CS(),e.Iw()}null!==this.Tk&&void 0!==this.Tk&&(e.Ew("peerInfo",i.bI.MI,3),this.Tk.write(e),e.Iw()),null!==this.sessionId&&void 0!==this.sessionId&&(e.Ew("sessionId",i.bI.FI,4),e.Tw(this.sessionId),e.Iw()),e.Sw(),e.Rw()},hive.DN.protocol.FN.pD=function(e){this.timestamp=null,this.contentId=null,this.GN=null,this.QN=null,this.bitrate=null,this.YN=null,this.JN=null,e&&(void 0!==e.timestamp&&(this.timestamp=e.timestamp),void 0!==e.contentId&&(this.contentId=e.contentId),void 0!==e.GN&&(this.GN=e.GN),void 0!==e.QN&&(this.QN=e.QN),void 0!==e.bitrate&&(this.bitrate=e.bitrate),void 0!==e.YN&&(this.YN=e.YN),void 0!==e.JN&&(this.JN=e.JN))},hive.DN.protocol.FN.pD.prototype={},hive.DN.protocol.FN.pD.prototype.read=function(e){for(e.QS();;){var t=e.uw(),r=(t.qS,t.lw),n=t.pw;if(r==i.bI.AI)break;switch(n){case 1:r==i.bI.NI?this.timestamp=e.gw().value:e.dw(r);break;case 2:r==i.bI.FI?this.contentId=e.fw().value:e.dw(r);break;case 3:r==i.bI.NI?this.GN=e.gw().value:e.dw(r);break;case 4:r==i.bI.NI?this.QN=e.gw().value:e.dw(r);break;case 5:r==i.bI.NI?this.bitrate=e.gw().value:e.dw(r);break;case 6:r==i.bI.NI?this.YN=e.gw().value:e.dw(r);break;case 7:r==i.bI.NI?this.JN=e.gw().value:e.dw(r);break;default:e.dw(r)}e.vw()}e.yw()},hive.DN.protocol.FN.pD.prototype.write=function(e){e.mw("TrackerStoreIndexKey"),null!==this.timestamp&&void 0!==this.timestamp&&(e.Ew("timestamp",i.bI.NI,1),e.ww(this.timestamp),e.Iw()),null!==this.contentId&&void 0!==this.contentId&&(e.Ew("contentId",i.bI.FI,2),e.Tw(this.contentId),e.Iw()),null!==this.GN&&void 0!==this.GN&&(e.Ew("asType",i.bI.NI,3),e.ww(this.GN),e.Iw()),null!==this.QN&&void 0!==this.QN&&(e.Ew("asn",i.bI.NI,4),e.ww(this.QN),e.Iw()),null!==this.bitrate&&void 0!==this.bitrate&&(e.Ew("bitrate",i.bI.NI,5),e.ww(this.bitrate),e.Iw()),null!==this.YN&&void 0!==this.YN&&(e.Ew("streamState",i.bI.NI,6),e.ww(this.YN),e.Iw()),null!==this.JN&&void 0!==this.JN&&(e.Ew("rankType",i.bI.NI,7),e.ww(this.JN),e.Iw()),e.Sw(),e.Rw()},hive.DN.protocol.FN.fD=function(e){this.guid=null,this.dD=null,this.key=null,e&&(void 0!==e.guid&&(this.guid=e.guid),void 0!==e.dD&&(this.dD=e.dD),void 0!==e.key&&(this.key=e.key))},hive.DN.protocol.FN.fD.prototype={},hive.DN.protocol.FN.fD.prototype.read=function(e){for(e.QS();;){var t=e.uw(),r=(t.qS,t.lw),n=t.pw;if(r==i.bI.AI)break;switch(n){case 1:r==i.bI.FI?this.guid=e.oR().value:e.dw(r);break;case 2:r==i.bI.OI?this.dD=e.sR().value:e.dw(r);break;case 3:r==i.bI.MI?(this.key=new hive.DN.protocol.FN.rD,this.key.read(e)):e.dw(r);break;default:e.dw(r)}e.vw()}e.yw()},hive.DN.protocol.FN.fD.prototype.write=function(e){e.mw("TrackerStoreRankPeer"),null!==this.guid&&void 0!==this.guid&&(e.Ew("guid",i.bI.FI,1),e.MS(this.guid),e.Iw()),null!==this.dD&&void 0!==this.dD&&(e.Ew("rank",i.bI.OI,2),e.LS(this.dD),e.Iw()),null!==this.key&&void 0!==this.key&&(e.Ew("key",i.bI.MI,3),this.key.write(e),e.Iw()),e.Sw(),e.Rw()},hive.DN.protocol.FN.gD=function(e){this.timestamp=null,this.TI=null,e&&(void 0!==e.timestamp&&(this.timestamp=e.timestamp),void 0!==e.TI&&(this.TI=e.TI))},hive.DN.protocol.FN.gD.prototype={},hive.DN.protocol.FN.gD.prototype.read=function(e){for(e.QS();;){var t=e.uw(),r=(t.qS,t.lw),n=t.pw;if(r==i.bI.AI)break;switch(n){case 1:r==i.bI.DI?this.timestamp=e.nR().value:e.dw(r);break;case 2:r==i.bI.MI?(this.TI=new hive.DN.protocol.FN.hD,this.TI.read(e)):e.dw(r);break;default:e.dw(r)}e.vw()}e.yw()},hive.DN.protocol.FN.gD.prototype.write=function(e){e.mw("TrackerRequestQueueMessage"),null!==this.timestamp&&void 0!==this.timestamp&&(e.Ew("timestamp",i.bI.DI,1),e.FS(this.timestamp),e.Iw()),null!==this.TI&&void 0!==this.TI&&(e.Ew("request",i.bI.MI,2),this.TI.write(e),e.Iw()),e.Sw(),e.Rw()}},function(e,t,r){"use strict";var i=r(4),n=function(){function e(e,t,r){this.start=e,this.end=t,this.total=r}return e.prototype.size=function(){var e=this.end-this.start+1;return Number.isInteger(e)||(i.ErrorMonitor.gi().di("Segment Size is a Float",{size:e}),e=Math.round(e)),0==this.end&&0==this.start?0:e},e.prototype.vD=function(){return 0==this.start&&(this.end==this.total-1||this.end==this.total&&0==this.total)},e.prototype.yD=function(){return this.end==this.total-1||this.end==this.total&&0==this.total},e.prototype.mD=function(e){return e.start<=this.start&&this.start<=e.end},e.prototype.toString=function(){return"R[S="+this.start+",E="+this.end+",T="+this.total+"]"},e}();t.ED=n;var s=function(){function e(){}return e.TD=function(e){return e.split("-")},e.ID=function(e){var t=e.split("=",4),r=t[1].substr(0,t[1].indexOf(",")),i=t[2].substr(0,t[2].indexOf(",")),s=t[3].substr(0,t[3].indexOf("]"));return new n(+r,+i,+s)},e}();t.wD=s},function(e,t){e.t=function(e){return e.SD||(e.RD=function(){},e.bD=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{l:!0,get:function(){return e.s}}),Object.defineProperty(e,"id",{l:!0,get:function(){return e.i}}),e.SD=1),e}},function(e,t){function r(e,t){for(var r=0,i=e.length-1;i>=0;i--){var n=e[i];"."===n?e.splice(i,1):".."===n?(e.splice(i,1),r++):r&&(e.splice(i,1),r--)}if(t)for(;r--;r)e.unshift("..");return e}function i(e,t){if(e.filter)return e.filter(t);for(var r=[],i=0;i<e.length;i++)t(e[i],i,e)&&r.push(e[i]);return r}var n=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,s=function(e){return n.exec(e).slice(1)};t.resolve=function(){for(var e="",t=!1,n=arguments.length-1;n>=-1&&!t;n--){var s=n>=0?arguments[n]:process.PD();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(e=s+"/"+e,t="/"===s.charAt(0))}return e=r(i(e.split("/"),function(e){return!!e}),!t).join("/"),(t?"/":"")+e||"."},t.normalize=function(e){var n=t.AD(e),s="/"===o(e,-1);return e=r(i(e.split("/"),function(e){return!!e}),!n).join("/"),e||n||(e="."),e&&s&&(e+="/"),(n?"/":"")+e},t.AD=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(i(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},t.CD=function(e,r){function i(e){for(var t=0;t<e.length&&""===e[t];t++);for(var r=e.length-1;r>=0&&""===e[r];r--);return t>r?[]:e.slice(t,r-t+1)}e=t.resolve(e).substr(1),r=t.resolve(r).substr(1);for(var n=i(e.split("/")),s=i(r.split("/")),o=Math.min(n.length,s.length),a=o,h=0;h<o;h++)if(n[h]!==s[h]){a=h;break}for(var c=[],h=a;h<n.length;h++)c.push("..");return c=c.concat(s.slice(a)),c.join("/")},t.kD="/",t.OD=":",t._D=function(e){var t=s(e),r=t[0],i=t[1];return r||i?(i&&(i=i.substr(0,i.length-1)),r+i):"."},t.ND=function(e,t){var r=s(e)[2];return t&&r.substr(-1*t.length)===t&&(r=r.substr(0,r.length-t.length)),r},t.DD=function(e){return s(e)[3]};var o="b"==="ab".substr(-1)?function(e,t,r){return e.substr(t,r)}:function(e,t,r){return t<0&&(t=e.length+t),e.substr(t,r)}},function(e,t,r){"use strict";function i(e,t){Array.prototype[e]||Object.defineProperty(Array.prototype,e,{value:t,Ui:!0,u:!0,l:!1})}function n(e,t,r){this.fg=e,this.start=null==t?0:t,this.end=r}var s=(r(61),r(13)),o=r(62),a=r(34);e.t=Array;var h=Array.prototype.splice,c=Array.prototype.slice;Array.empty=[],Object.freeze&&Object.freeze(Array.empty),Array.from=function(e){var t=[];return t.addEach(e),t},Array.So=function(e){for(var t=[],r=1/0,i=0;i<e.length;i++){var n=e[i];e[i]=n.toArray(),n.length<r&&(r=n.length)}for(var i=0;i<e.length;i++)for(var n=e[i],s=0;s<n.length;s++)s<r&&s in n&&(t[s]=t[s]||[],t[s][i]=n[s]);return t},i("addEach",s.prototype.addEach),i("deleteEach",s.prototype.do),i("toArray",s.prototype.toArray),i("toObject",s.prototype.vo),i("all",s.prototype.all),i("any",s.prototype.ht),i("min",s.prototype.min),i("max",s.prototype.max),i("sum",s.prototype.Eo),i("average",s.prototype.To),i("only",s.prototype.only),i("flatten",s.prototype.Io),i("zip",s.prototype.wo),i("enumerate",s.prototype.enumerate),i("group",s.prototype.group),i("sorted",s.prototype.Ro),i("reversed",s.prototype.reversed),i("constructClone",function(e){var t=new this.constructor;return t.addEach(e),t}),i("has",function(e,t){return-1!==this.find(e,t)}),i("set",function(e,t){return this[e]=t,!0}),i("add",function(e){return this.push(e),!0}),i("delete",function(e,t){var r=this.find(e,t);return-1!==r&&(this.splice(r,1),!0)}),i("deleteAll",function(e,t){t=t||this.ce||Object.ae;for(var r=0,i=0;i<this.length;)t(e,this[i])?(this.Yk(i,1),r++):i++;return r}),i("find",function(e,t){t=t||this.ce||Object.ae;for(var r=0;r<this.length;r++)if(r in this&&t(e,this[r]))return r;return-1}),i("findLast",function(e,t){t=t||this.ce||Object.ae;var r=this.length;do{if(--r in this&&t(this[r],e))return r}while(r>0);return-1}),i("swap",function(e,t,r){var i,n,s,o,a;if(e>this.length&&(this.length=e),void 0!==r){if(i=[e,t],Array.isArray(r)||(r=c.call(r)),s=0,(n=r.length)<1e3){for(s;s<n;s++)i[s+2]=r[s];return h.apply(this,i)}for(a=h.apply(this,i),s;s<n;){for(i=[e+s,0],o=2;o<1002&&s<n;o++,s++)i[o]=r[s];h.apply(this,i)}return a}return void 0!==t?h.call(this,e,t):void 0!==e?h.call(this,e):[]}),i("peek",function(){return this[0]}),i("poke",function(e){this.length>0&&(this[0]=e)}),i("peekBack",function(){if(this.length>0)return this[this.length-1]}),i("pokeBack",function(e){this.length>0&&(this[this.length-1]=e)}),i("one",function(){for(var e in this)if(Object.SP(this,e))return this[e]}),Array.prototype.clear||i("clear",function(){return this.length=0,this}),i("compare",function(e,t){t=t||Object.mo;var r,i,n,s,a;if(this===e)return 0;if(!e||!Array.isArray(e))return o.prototype.mo.call(this,e,t);for(i=Math.min(this.length,e.length),r=0;r<i;r++)if(r in this){if(!(r in e))return-1;if(n=this[r],s=e[r],a=t(n,s))return a}else if(r in e)return 1;return this.length-e.length}),i("equals",function(e,t){t=t||Object.ae;var r,i,n=0,s=this.length;if(this===e)return!0;if(!e||!Array.isArray(e))return o.prototype.ae.call(this,e);if(s!==e.length)return!1;for(;n<s;++n)if(n in this){if(!(n in e))return!1;if(r=this[n],i=e[n],!t(r,i))return!1}else if(n in e)return!1;return!0}),i("clone",function(e,t){if(null==e)e=1/0;else if(0===e)return this;if(t=t||new a,t.has(this))return t.get(this);var r=new Array(this.length);t.set(this,r);for(var i in this)r[i]=Object.clone(this[i],e-1,t);return r}),i("iterate",function(e,t){return new n(this,e,t)}),i("Iterator",n),n.prototype.zk=null,Object.defineProperty(n.prototype,"_iterationObject",{get:function(){return this.zk||(this.zk={done:!1,value:null})}}),n.prototype.next=function(){return this.start===(null==this.end?this.fg.length:this.end)?(this.Jk.done=!0,this.Jk.value=void 0):this.Jk.value=this.fg[this.start++],this.Jk}},function(e,t){e.t=Function,Function.he=function(){},Function.identity=function(e){return e},Function.bo=function(e,t){t=t||Object.mo,e=e||Function.identity;var r=function(r,i){return t(e(r),e(i))};return r.mo=t,r.bo=e,r},Function.get=function(e){return function(t){return Object.get(t,e)}}},function(e,t,r){function i(){throw new Error("Can't construct. GenericOrder is a mixin.")}var n=r(33);e.t=i,i.prototype.ae=function(e,t){if(t=t||this.ce||n.ae,this===e)return!0;if(!e)return!1;return this.length===e.length&&this.wo(e).every(function(e){return t(e[0],e[1])})},i.prototype.mo=function(e,t){if(t=t||this.yo||n.mo,this===e)return 0;if(!e)return 1;var r=Math.min(this.length,e.length),i=this.wo(e).reduce(function(e,i,n){return 0===e?n>=r?e:t(i[0],i[1]):e},0);return 0===i?this.length-e.length:i},i.prototype.toJSON=function(){return this.toArray()}},function(e,t,r){"use strict";function i(e,t,r,n){if(!(this instanceof i))return new i(e,t,r,n);t=t||Object.ae,r=r||Object.hash,n=n||Function.he,this.ce=t,this.ue=r,this.le=n,this.order=new this.FD(void 0,t),this.pe=new this.LD(void 0,function(e,r){return t(e.value,r.value)},function(e){return r(e.value)}),this.length=0,this.addEach(e)}var n=(r(12),r(46)),s=r(100),o=r(13),a=r(36),h=r(14),c=r(35),u=r(101);e.t=i,i.Set=i,Object.addEach(i.prototype,o.prototype),Object.addEach(i.prototype,a.prototype),Object.addEach(i.prototype,h.prototype),Object.addEach(i.prototype,c.prototype),Object.defineProperty(i.prototype,"size",o.fe),i.prototype.FD=n,i.prototype.LD=s,i.prototype.de=function(e){return new this.constructor(e,this.ce,this.ue,this.le)},i.prototype.has=function(e){var t=new this.order.Node(e);return this.pe.has(t)},i.prototype.get=function(e,t){if(t)throw new Error("Set#get does not support second argument: equals");var r=new this.order.Node(e);return r=this.pe.get(r),r?r.value:this.le(e)},i.prototype.add=function(e){var t=new this.order.Node(e);if(!this.pe.has(t)){var r=this.length;return this.qk&&this.UP([e],[],r),this.order.add(e),t=this.order.head.Mk,this.pe.add(t),this.length++,this.qk&&this.LP([e],[],r),!0}return!1},i.prototype.delete=function(e,t){if(t)throw new Error("Set#delete does not support second argument: equals");var r=new this.order.Node(e);return!!this.pe.has(r)&&(r=this.pe.get(r),this.qk&&this.UP([],[e],r.index),this.pe.delete(r),this.order.splice(r,1),this.length--,this.qk&&this.LP([],[e],r.index),!0)},i.prototype.pop=function(){if(this.length){var e=this.order.head.Mk.value;return this.delete(e),e}},i.prototype.shift=function(){if(this.length){var e=this.order.head.next.value;return this.delete(e),e}},i.prototype.Po=function(){if(this.length>0)return this.pe.Po().value},i.prototype.clear=function(){var e;this.qk&&(e=this.toArray(),this.UP([],e,0)),this.pe.clear(),this.order.clear(),this.length=0,this.qk&&this.LP([],e,0)},i.prototype.reduce=function(e,t){var r=arguments[2],i=0;return this.order.reduce(function(t,n){return e.call(r,t,n,i++,this)},t,this)},i.prototype.reduceRight=function(e,t){var r=arguments[2],i=this.order,n=this.length-1;return i.reduceRight(function(t,i){return e.call(r,t,i,n--,this)},t,this)},i.prototype.Ao=function(){return this.order.Ao()},i.prototype.values=function(){return new u(this)},i.prototype.log=function(){var e=this.pe;return e.log.apply(e,arguments)},i.prototype.xo=function(){this.order.xo()}},function(e,t,r){"use strict";function i(){}e.t=i,i.MD={qP:"+",BD:"-",UD:"+",xD:"+",HD:".",qD:"'",VD:"+",jD:"|"},i.GD={qP:"╋",BD:"━",UD:"┻",xD:"┳",HD:"╭",qD:"╰",VD:"┣",jD:"┃"},i.QD={qP:"╋",BD:"━",UD:"┻",xD:"┳",HD:"┏",qD:"┗",VD:"┣",jD:"┃"}},function(e,t,r){"use strict";var i=function(){function e(){}return e}();i.oA="127.0.0.1",i.uO=11983,i.aA="//{0}:{1}/proxy/?callback={2}{3}hivePluginId={4}",i.KD="//{0}:{1}/proxy/{2}/session?manifest={3}",i.hO="//{0}:{1}/proxy/{2}/player?req={3}",i.YD="//{0}:{1}/proxy/{2}/info?{3}",t.cO=i},function(e,t,r){"use strict";var i=r(6),n=r(4),s=function(){function e(e){this.mn="[HiveXHR] ",this.DONE=4,this.LOADING=3,this.HEADERS_RECEIVED=2,this.OPENED=1,this.UNSENT=0,this.username=null,this.password=null,this.zD=[],this.responseType="",this.readyState=this.UNSENT,this.status=0,this.async=!0,this.timeout=0,this.events={},e&&(this.sessionId=e)}return e.prototype.addEventListener=function(e,t,r){this.events[e]=this.events[e]||[],this.events[e].push(t)},e.prototype.removeEventListener=function(e,t,r){this.events[e]&&(this.events[e]=this.events[e].filter(function(e){return e!==t}))},e.prototype.dispatchEvent=function(e){var t=this;this.events[e.type]&&this.events[e.type].forEach(function(r){try{"function"==typeof r?r.call(t,e):"function"==typeof r.E_&&r.E_(e)}catch(r){n.ErrorMonitor.gi().di(t.mn+"Error in callback handler '"+e.type+"'",{error:r})}});var r=this["on"+e.type];if("function"==typeof r)try{r.call(this,e)}catch(t){n.ErrorMonitor.gi().di(this.mn+"Error in callback handler '"+e.type+"'",{error:t})}return!1},e.prototype.msCachingEnabled=function(){return void 0!==this.msCaching},e.prototype.overrideMimeType=function(e){this.mimeType=e},e.register=function(t,r){e.EI[t]=r},e.prototype.JD=function(t){this.sessionId||(this.sessionId=e.EI[t])},e.prototype.open=function(e,t,r,n,s){void 0===r&&(r=!0),void 0===n&&(n=null),void 0===s&&(s=null),this.url=t.trim(),this.method=e,this.username=n,this.password=s,this.async=r,this.readyState=this.OPENED;var o=i.fn.createEvent(Event,"readystatechange",{currentTarget:this});this.dispatchEvent(o)},e.prototype.setRequestHeader=function(e,t){if(this.readyState!==this.OPENED)throw new Error("The object's state must be OPENED.");this.zD.push({key:e,value:t})},e.prototype.getResponseHeader=function(e){var t=this.getAllResponseHeaders();if(t){var r=[];return t.split(/[\r\n]+/).forEach(function(e){var t=e.match(/^([^:]+): ?(.+)$/);t&&(r[t[1]]=t[2])}),r[e.toLowerCase()]}return null},e.prototype.getAllResponseHeaders=function(){return this.xu},e.prototype.onload=function(e){},e.prototype.onloadend=function(e){},e.prototype.onerror=function(e){},e.prototype.onprogress=function(e){},e.prototype.onreadystatechange=function(e){},e.prototype.onabort=function(e){},e.prototype.onloadstart=function(e){},e.prototype.ontimeout=function(e){},e}();s.EI={},s.Ul=0,t.SI=s},function(e,t,r){"use strict";var i=this&&this.Ns||function(e,t){function r(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=r(50),s=r(6),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.bn=function(e,r){t.WD[r]=e},t.XD=function(e,r){t.ZD[r]=e},t.prototype.send=function(){if(!this.sessionId){var e=Object.keys(t.ZD);e.length>0&&(this.sessionId=t.ZD[e[0]])}var r=t.WD[this.sessionId],i=t.ZD[this.sessionId];i.te().debug("Intercepted Manifest Request "+this.url),r.$D(this),i.eF(this.url)},t.prototype.tF=function(){var e=this,t=new XMLHttpRequest;t.open("GET",this.url),t.onreadystatechange=function(r){4===t.readyState&&(e.response=t.responseText,e.responseText=t.responseText,e.readyState=4,e.status=t.status,e.onreadystatechange(s.fn.createEvent(Event,"readystatechange",r,e)),e.onload(s.fn.createEvent(ProgressEvent,"load",r,e)),console.debug("Returned Manifest Request "+e.url))},t.send()},t.prototype.rF=function(){e.prototype.send.call(this)},t}(n.In);o.ZD={},o.WD={},t.wn=o},function(e,t,r){"use strict";var i=this&&this.Ns||function(e,t){function r(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=r(15),s=r(0),o=r(29),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.II=function(){return t.app="JS",s.Framework.resolve(n.Pa.pa)},t}(o.Hive);t.wI=a},function(e,t,r){"use strict";var i=this&&this.Ns||function(e,t){function r(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=r(28),s=r(70),o=r(4),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mn="[HiveRequestManifest]",t}return i(t,e),t.bn=function(e,r){t.WD[r]=e},t.XD=function(e,r){t.ZD[r]=e},t.prototype.send=function(){if(!this.sessionId){var e=Object.keys(t.ZD);e.length>0&&(this.sessionId=t.ZD[e[0]])}var r=t.WD[this.sessionId],i=t.ZD[this.sessionId];s.iF(r)||s.iF(i)?(o.ErrorMonitor.gi().di("HiveJS Tech or Comm are not defined",this.mn),this.resolve()):(i.te().debug("Intercepted Manifest Request "+this.url),r.$D(this),i.eF(this.url))},t.prototype.resolve=function(){var e=this,t=new XMLHttpRequest;t.open("GET",this.url),t.onreadystatechange=function(){4===t.readyState&&(e.response=t.responseText,e.responseText=t.responseText,e.readyState=4,e.status=t.status,e.dispatchEvent(new Event("readystatechange")),e.dispatchEvent(new ProgressEvent("onload")),console.debug("Returned Manifest Request "+e.url))},t.send()},t}(n.HiveRequest);a.ZD={},a.WD={},t.vn=a},function(e,t,r){function i(e,r){var i={nF:[],sF:s};return arguments.length>=3&&(i.oF=arguments[2]),arguments.length>=4&&(i.aF=arguments[3]),d(r)?i.hF=r:r&&t.cF(i,r),T(i.hF)&&(i.hF=!1),T(i.oF)&&(i.oF=2),T(i.aF)&&(i.aF=!1),T(i.uF)&&(i.uF=!0),i.aF&&(i.sF=n),a(i,e,i.oF)}function n(e,t){var r=i.lF[t];return r?"["+i.aF[r][0]+"m"+e+"["+i.aF[r][1]+"m":e}function s(e,t){return e}function o(e){var t={};return e.forEach(function(e,r){t[e]=!0}),t}function a(e,r,i){if(e.uF&&r&&b(r.Ee)&&r.Ee!==t.Ee&&(!r.constructor||r.constructor.prototype!==r)){var n=r.Ee(i,e);return m(n)||(n=a(e,n,i)),n}var s=h(e,r);if(s)return s;var d=Object.keys(r),g=o(d);if(e.hF&&(d=Object.getOwnPropertyNames(r)),R(r)&&(d.indexOf("message")>=0||d.indexOf("description")>=0))return c(r);if(0===d.length){if(b(r)){var v=r.name?": "+r.name:"";return e.sF("[Function"+v+"]","special")}if(I(r))return e.sF(RegExp.prototype.toString.call(r),"regexp");if(S(r))return e.sF(Date.prototype.toString.call(r),"date");if(R(r))return c(r)}var y="",E=!1,T=["{","}"];if(f(r)&&(E=!0,T=["[","]"]),b(r)){y=" [Function"+(r.name?": "+r.name:"")+"]"}if(I(r)&&(y=" "+RegExp.prototype.toString.call(r)),S(r)&&(y=" "+Date.prototype.toUTCString.call(r)),R(r)&&(y=" "+c(r)),0===d.length&&(!E||0==r.length))return T[0]+y+T[1];if(i<0)return I(r)?e.sF(RegExp.prototype.toString.call(r),"regexp"):e.sF("[Object]","special");e.nF.push(r);var w;return w=E?u(e,r,i,g,d):d.map(function(t){return l(e,r,i,g,t,E)}),e.nF.pop(),p(w,y,T)}function h(e,t){if(T(t))return e.sF("undefined","undefined");if(m(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.sF(r,"string")}return y(t)?e.sF(""+t,"number"):d(t)?e.sF(""+t,"boolean"):g(t)?e.sF("null","null"):void 0}function c(e){return"["+Error.prototype.toString.call(e)+"]"}function u(e,t,r,i,n){for(var s=[],o=0,a=t.length;o<a;++o)O(t,String(o))?s.push(l(e,t,r,i,String(o),!0)):s.push("");return n.forEach(function(n){n.match(/^\d+$/)||s.push(l(e,t,r,i,n,!0))}),s}function l(e,t,r,i,n,s){var o,h,c;if(c=Object.getOwnPropertyDescriptor(t,n)||{value:t[n]},c.get?h=c.set?e.sF("[Getter/Setter]","special"):e.sF("[Getter]","special"):c.set&&(h=e.sF("[Setter]","special")),O(i,n)||(o="["+n+"]"),h||(e.nF.indexOf(c.value)<0?(h=g(r)?a(e,c.value,null):a(e,c.value,r-1),h.indexOf("\n")>-1&&(h=s?h.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+h.split("\n").map(function(e){return"   "+e}).join("\n"))):h=e.sF("[Circular]","special")),T(o)){if(s&&n.match(/^\d+$/))return h;o=JSON.stringify(""+n),o.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=e.sF(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.sF(o,"string"))}return o+": "+h}function p(e,t,r){var i=0;return e.reduce(function(e,t){return i++,t.indexOf("\n")>=0&&i++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}function f(e){return Array.isArray(e)}function d(e){return"boolean"==typeof e}function g(e){return null===e}function v(e){return null==e}function y(e){return"number"==typeof e}function m(e){return"string"==typeof e}function E(e){return"symbol"==typeof e}function T(e){return void 0===e}function I(e){return w(e)&&"[object RegExp]"===A(e)}function w(e){return"object"==typeof e&&null!==e}function S(e){return w(e)&&"[object Date]"===A(e)}function R(e){return w(e)&&("[object Error]"===A(e)||e instanceof Error)}function b(e){return"function"==typeof e}function P(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function A(e){return Object.prototype.toString.call(e)}function C(e){return e<10?"0"+e.toString(10):e.toString(10)}function k(){var e=new Date,t=[C(e.getHours()),C(e.getMinutes()),C(e.getSeconds())].join(":");return[e.getDate(),F[e.getMonth()],t].join(" ")}function O(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var _=/%[sdj%]/g;t.format=function(e){if(!m(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(i(arguments[r]));return t.join(" ")}for(var r=1,n=arguments,s=n.length,o=String(e).replace(_,function(e){if("%%"===e)return"%";if(r>=s)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}}),a=n[r];r<s;a=n[++r])g(a)||!w(a)?o+=" "+a:o+=" "+i(a);return o},t.RD=function(e,r){function i(){if(!n){if(process.pF)throw new Error(r);process.fF?console.trace(r):console.error(r),n=!0}return e.apply(this,arguments)}if(T(global.process))return function(){return t.RD(e,r).apply(this,arguments)};if(!0===process.dF)return e;var n=!1;return i};var N,D={};t.gF=function(e){if(T(N)&&(N=process.De.vF||""),e=e.toUpperCase(),!D[e])if(new RegExp("\\b"+e+"\\b","i").test(N)){var r=process.yF;D[e]=function(){var i=t.format.apply(t,arguments);console.error("%s %d: %s",e,r,i)}}else D[e]=function(){};return D[e]},t.Ee=i,i.aF={bold:[1,22],mF:[3,23],EF:[4,24],inverse:[7,27],TF:[37,39],IF:[90,39],wF:[30,39],blue:[34,39],SF:[36,39],green:[32,39],RF:[35,39],red:[31,39],bF:[33,39]},i.lF={PF:"cyan",number:"yellow",AF:"yellow",undefined:"grey",CF:"bold",qb:"green",uv:"magenta",kF:"red"},t.isArray=f,t.Jf=d,t.Xf=g,t.iF=v,t.Zf=y,t.$f=m,t.OF=E,t.td=T,t._F=I,t.Jo=w,t.NF=S,t.DF=R,t.Wf=b,t.FF=P,t.isBuffer=r(105);var F=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];t.log=function(){console.log("%s - %s",k(),t.format.apply(t,arguments))},t.zI=r(106),t.cF=function(e,t){if(!t||!w(t))return e;for(var r=Object.keys(t),i=r.length;i--;)e[r[i]]=t[r[i]];return e}},function(e,t,r){"use strict";var i=r(7),n=r(1),s=r(30);r(112),r(113);var o=r(0),a=r(9),h=r(24),c=r(21),u=r(19),l=r(8),p=r(4),f=r(7);!function(e){var t=function(){function e(){this.metrics=new hive.snapshots.Metrics,this.LF=new hive.snapshots.Traffic,this.MF=new n,this.BF=new n,this.UF=new n,this.player=new hive.snapshots.Player}return e}();e.xF=t;var r=function(){function t(){this.ticket=null,this.HF=0,this.qF=0,this.VF()}return t.prototype.init=function(e,t,r,i){this.te=o.Framework.resolve(o.Framework.q.I).log(i),this.dh=o.Framework.resolve(a.Qs.Us),this.te.debug("[SNAP] INIT STATS STORE - ID: "+e),this.Eh=e,this.ticket=t,this.Th(r)},t.prototype.jF=function(e){this.GF=e},t.prototype.Th=function(e){this.app=e},t.prototype.QF=function(e){this.wC=e},t.prototype.VF=function(){this.KF=new e.xF,this.Eh=null,this.ticket=null,this.reset()},t.prototype.reset=function(){this.N_=new e.xF,this.YF(this.N_.LF),this.zF(this.N_)},t.prototype.YF=function(e){e.reqN=0,e.respFallbackN=0,e.respFallbackErrN=0,e.respP2pN=0,e.reqOtherN=0,e.respFallbackOtherN=0,e.respFallbackOthertErrN=0,e.srcReqN=0,e.srcRespN=0,e.srcRespErrN=0,e.srcReqQt=0,e.srcRespQt=0,e.srcOverQt=0,e.srcOtherReqN=0,e.srcOtherRespN=0,e.srcOtherRespErrN=0,e.srcOtherReqQt=0,e.srcOtherRespQt=0,e.srcOtherOverQt=0,e.p2pSubReqN=0,e.p2pSubRespN=0,e.p2pSubRespPartN=0,e.p2pSubRespErrN=0,e.p2pSubRespExpN=0,e.p2pSubReqQt=0,e.p2pSubRespQt=0,e.p2pDirectQt=0,e.p2pRelayQt=0,e.p2pNatQt=0,e.p2pUdpbQt=0,e.fallAgentRespN=0,e.fallAgentPredHitN=0,e.fallAgentFailedRespN=0,e.fallAgenTrafficSuccessQt=0,e.p2pAgentPredHitN=0,e.p2pAgentPredMissN=0,e.p2pAgentPredPartialHitN=0,e.p2pAgenTrafficSuccessQt=0,e.p2pAgenTrafficFailureQt=0},t.prototype.zF=function(e){e.metrics.videoBufN=0,e.metrics.videoBufQt=0,e.metrics.clientBufferMs=0,e.metrics.lookupNotFound=0,e.metrics.lookupTotal=0,e.metrics.lookupLatency=0,e.metrics.lookupReqAccept=0,e.metrics.lookupReqEstablished=0,e.metrics.lookupFailed=0,e.player.bufferingN=0,e.player.bufferingMs=0},t.prototype.Co=function(e){var t=this;void 0===e&&(e=!0);var r=new hive.snapshots.MetricSnapshot;r.timestamp=o.Framework.time(),r.guid=this.Eh,r.sessionId=this.ticket.sessionId,r.eventId=new EventId,r.eventId.partnerId=this.ticket.Lh(),r.eventId.customerId=this.ticket.Mh(),r.eventId.contentId=this.ticket.Xc();try{var n=new hive.snapshots.ClientInfo;n.clientType=this.JF();var s=this.app.version.split(".");n.majorVersion=parseInt(s[0]),n.minorVersion=parseInt(s[1]),n.patchVersion=parseInt(s[2]),r.client=n}catch(e){this.te.warn("[SNAP] error setting Snapshot ClientInfo",e)}if(this.wC){var a=new hive.snapshots.AgentInfo;a.firstTierBitrates=this.wC.WF(),a.secondTierBitrates=this.wC.XF(),r.agentInfo=a}r.streamInfo=this.R_.ZF(),r.traffic=[];var h=new hive.snapshots.TrafficKey;if(r.traffic.push({key:h,value:this.N_.LF}),this.N_.MF.forEach(function(e,t){var i=new hive.snapshots.TrafficKey;i.bitrate=t,r.traffic.push({key:i,value:e})}),r.metrics=this.N_.metrics,this.GF&&(r.metrics.clientBufferMs=this.GF.min()),r.player=this.N_.player,this.$F){var c=this.$F.eL();this.N_.metrics.prtOutN=c.tL+c.rL,this.N_.metrics.prtInN=c.iL+c.nL;var u=this.$F.sL();u.forEach(function(e,i){t.oL(i,e,r)}),this.N_.UF.filter(function(e,t){return!u.has(t)}).forEach(function(e,i){t.oL(i,e,r)})}return r.connInfo=new hive.snapshots.ConnectivityInfo,e?this.dh.Vh().then(function(e){return r.connInfo.privateIp=i._s.Cs(e.Qh()),t.aL(t.hL(r))}).fail(function(e){return t.aL(t.hL(r))}):(r.connInfo.privateIp=i._s.Cs(this.dh.Gh().Qh()),this.aL(r))},t.prototype.hL=function(e){return e.connInfo.internalAs=this.HF,e.connInfo.externalAs=this.qF,e.connInfo.publicIp=this.cL,e},t.prototype.aL=function(e,t){void 0===t&&(t=[]);var r=f.cs(e,"snapshot");return r.length&&p.ErrorMonitor.gi().di("NaN found in MetricSnapshot","[SNAP]",{keysWithNaN:r,snapshot:e}),t.length=0,t.push.apply(t,r),e},t.prototype.JF=function(){var e;switch(this.app.app){case"JS":e=ClientType.uL;break;case"PROXY":e=ClientType.lL;break;default:e=ClientType.pL}return e},t.prototype.oL=function(e,t,r){var i=this.N_.BF.get(e);t.traffic=i,r.partners||(r.partners=[]);var n=new hive.snapshots.PartnerKey;n.partnerGuid=e,r.partners.push({key:n,value:t})},t.prototype.y_=function(e,t){e>0&&(this.N_.metrics.videoBufN++,this.N_.metrics.videoBufQt+=e,this.N_.player.bufferingN++,this.N_.player.bufferingMs+=e),this.N_.player.playerBufferMs=t},t.prototype.M_=function(){return this.N_.LF},t.prototype.fL=function(){return this.KF.LF},t.prototype.dL=function(e){return this.KF.MF.has(e)||this.KF.MF.set(e,new hive.snapshots.Traffic),this.KF.MF.get(e)},t.prototype.F_=function(e){if(!this.N_.MF.has(e)){var t=new hive.snapshots.Traffic;this.YF(t),this.N_.MF.set(e,t)}return this.N_.MF.get(e)},t.prototype.gL=function(){var e=new hive.snapshots.PartnerTraffic;return e.p2pSuccReq=0,e.p2pFailReq=0,e.p2pPartReq=0,e.p2pSuccReceived=0,e.p2pSuccReceivedLow=0,e.p2pFailReceived=0,e.p2pSuccResp=0,e.p2pFailResp=0,e.p2pPartResp=0,e.p2pSuccSent=0,e.p2pSuccSentLow=0,e.p2pFailSent=0,e},t.prototype.vL=function(e,t){return t.BF.has(e)||t.BF.set(e,this.gL()),t.BF.get(e)},t.prototype.yL=function(e){return this.vL(e,this.N_)},t.prototype.mL=function(e){return this.vL(e,this.KF)},t.prototype.EL=function(e){this.dh=e},t.prototype.TL=function(e){this.$F=e},t.prototype.Zh=function(e){},t}();e.LD=r;var d=function(){function e(){this.IL=isNaN(l.HiveConfig.DebugLogs.MetricSnapshotLogs)?0:l.HiveConfig.DebugLogs.MetricSnapshotLogs,this.state=u._c.Oc,this.client=o.Framework.resolve(a.Qs.H),this.Pl=new s.Pw,this.protocol=new s.nS(this.Pl)}return e.prototype.init=function(e,t){this.te=o.Framework.resolve(o.Framework.q.I).log(t),this.te.debug("[SNAP] INIT CLIENT STATS"),this.pe=e,this.wL()},e.prototype.wL=function(){var e=this;this.SL>-1&&o.Framework.clearInterval(this.SL),this.SL=o.Framework.setInterval(function(){e.snapshot()},h.nc.ic.up)},e.prototype.On=function(e){this.state=e},e.prototype.d_=function(){if(this.pe)return this.snapshot(!1)},e.prototype.reset=function(e){o.Framework.clearInterval(this.SL),this.pe&&(!1===e?this.pe.reset():this.pe.VF())},e.prototype.snapshot=function(e){var t=this;void 0===e&&(e=!0);var r=this.pe.Co(e);e?(this.te.debug("[SNAP] TAKING SNAPSHOT"),r.then(function(e){return t.forward(e)}).fail(function(e){t.te.warn("[SNAP] ERROR FORWARDING SNAPSHOT",e)}).finally(function(){t.pe.reset()})):(this.te.debug("[SNAP] FLUSHING SNAPSHOT"),this.forward(r))},e.prototype.forward=function(e){var t=this;if(this.state===u._c.IDLE)return void this.te.debug("[SNAP] not send - state idle");if(this.client&&this.client.lc()){switch(this.IL){case 0:default:this.te.debug("[SNAP] SENDING SNAPSHOT");break;case 1:this.te.debug("[SNAP] SENDING SNAPSHOT "+JSON.stringify(e));break;case 2:this.te.debug("[SNAP] SENDING SNAPSHOT",e);break;case 3:this.te.debug("[SNAP] SENDING SNAPSHOT "+JSON.stringify(e),e)}this.protocol.vS("SNAPSHOT",s.VI.KI,0),e.write(this.protocol),this.protocol.ES();var r=this.Pl.Qw(),i=this.RL(r,",",4),n=r.slice(i+1,r.length-1),o=new c.pc(Services.fc,1,n);this.client.lc().send(o).fail(function(e){t.te.warn("[SNAP] PROBLEM: ",e)})}},e.prototype.RL=function(e,t,r){return e.split(t,r).join(t).length},e}();e.vc=d}(t.Stats||(t.Stats={}))},function(e,t,r){"use strict";var i=r(2),n=r(27),s=r(114),o=r(0),a=r(24),h=r(21),c=r(5),u=c.Rt.Ri,l=function(){function e(){this.te=o.Framework.resolve(o.Framework.q.I).log(),this.te.debug("INIT SERVICE CLIENT")}return e.prototype.init=function(e,t){var r=this;if(this.bL)this.bL.then(function(){var e={partnerId:t.Lh(),customerId:t.Mh(),contentId:t.Xc(),secret:t.OA()},i=new h.pc(Services.PL,1,JSON.stringify(e));r.connection.send(i)});else{var o=i.defer(),c=a.nc.ic.ap;t.kA&&(u?c=a.nc.ic.hp:(this.te.warn("[HiveComm] Error trying to resolve test ticket against production services - use production ticket or test plugin"),o.reject(new Error("test ticket in production"))));var l=new n(c),p=l.OT({"connection-id":e,partner_id:t.Lh(),customer_id:t.Mh(),content_id:t.Xc(),ticket:t.OA()}).toString();this.connection=new s.AL(p,a.nc.ic.lp,a.nc.ic.pp,a.nc.ic.fp),this.connection.CL(function(){r.te.debug("HIVE SERVICES CONNECTED"),o.resolve(r.connection)}),this.connection.onerror(function(){r.te.warn("Hive Services Connection failed"),o.reject(r.connection)}),this.bL=o.Te}return{zc:this.connection,Te:this.bL}},e.prototype.connect=function(){this.connection&&this.connection.connect(!0)},e.prototype.kL=function(e){},e.prototype.lc=function(){return this.connection},e.prototype.close=function(){this.connection&&(this.bL=null,this.connection.close(!1))},e}();t.OL=l},function(e,t,r){"use strict";r(115);var i=r(2),n=r(1),s=r(0),o=r(42),a=function(){function e(e){this.yc=(new Date).getTime(),this._L=e}return e}(),h=function(){function e(){this.NL=new n,this.te=(s.Framework.resolve(s.Framework.q.I)||console).log(),this.te.debug("INIT TICKET RESOLVER")}return e.prototype.resolve=function(e,t,r){var n=this,s=i.defer();return e&&(e.on(Services.PL,0,function(e){n.DL(e)}),e.on(Services.PL,2,function(e){n.DL(e)}),this.NL.set(t,new a(s))),s.Te},e.prototype.DL=function(e){var t=this,r=(new Date).getTime(),i=JSON.parse(e.msg),n=!1;this.NL.forEach(function(e,s){if(t.FL(s,i)){n=!0;var o=t.LL(s,i);o?(o.yc=e.yc,o.mc=r,e._L.resolve(o)):e._L.reject("Ticket verification failed"),t.NL.delete(o)}}),n||this.te.warn("no pending ticket matching: "+e.msg)},e.prototype.Gc=function(e){if(new RegExp("^https?://api(?:-test)?.hivestreaming.com/v1/events/(?:wildcard/)?").test(e)){var t=this.ML();return t.AA(e),t}return null},e.prototype.ML=function(){return new o.VA},e.prototype.FL=function(e,t){return e.Lh()===t[o.VA.HA]&&e.Mh()===t[o.VA.xA]&&e.Xc()===t[o.VA.qA]},e.prototype.LL=function(e,t){return e.RA(t),e.PA()?e:null},e}();t.BL=h},function(e,t,r){/*! uuid.js
 * Copyright (c) 2010-2012 Robert Kieffer
 * MIT License - http://opensource.org/licenses/mit-license.php
 */
!function(t){"use strict";function i(e,t,r){var i=t&&r||0,n=0;for(t=t||[],e.toLowerCase().replace(/[0-9a-f]{2}/g,function(e){n<16&&(t[i+n++]=d[e])});n<16;)t[i+n++]=0;return t}function n(e,t){var r=t||0,i=f;return i[e[r++]]+i[e[r++]]+i[e[r++]]+i[e[r++]]+"-"+i[e[r++]]+i[e[r++]]+"-"+i[e[r++]]+i[e[r++]]+"-"+i[e[r++]]+i[e[r++]]+"-"+i[e[r++]]+i[e[r++]]+i[e[r++]]+i[e[r++]]+i[e[r++]]+i[e[r++]]}function s(e,t,r){var i=t&&r||0,s=t||[];e=e||{};var o=null!=e.UL?e.UL:m,a=null!=e.xL?e.xL:(new Date).getTime(),h=null!=e.HL?e.HL:T+1,c=a-E+(h-T)/1e4;if(c<0&&null==e.UL&&(o=o+1&16383),(c<0||a>E)&&null==e.HL&&(h=0),h>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");E=a,T=h,m=o,a+=122192928e5;var u=(1e4*(268435455&a)+h)%4294967296;s[i++]=u>>>24&255,s[i++]=u>>>16&255,s[i++]=u>>>8&255,s[i++]=255&u;var l=a/4294967296*1e4&268435455;s[i++]=l>>>8&255,s[i++]=255&l,s[i++]=l>>>24&15|16,s[i++]=l>>>16&255,s[i++]=o>>>8|128,s[i++]=255&o;for(var p=e.qL||y,f=0;f<6;f++)s[i+f]=p[f];return t||n(s)}function o(e,t,r){var i=t&&r||0;"string"==typeof e&&(t="binary"===e?new p(16):null,e=null),e=e||{};var s=e.random||(e.VL||a)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t)for(var o=0;o<16;o++)t[i+o]=s[o];return t||n(s)}var a,h,c,u,l;t?function(){var e=t.crypto||t.msCrypto;if(!a&&e&&e.getRandomValues)try{var r=new Uint8Array(16);u=a=function(){return e.getRandomValues(r),r},a()}catch(e){}if(!a){var i=new Array(16);h=a=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i},"undefined"!=typeof console&&console.warn&&console.warn("[SECURITY] node-uuid: crypto not usable, falling back to insecure Math.random()")}}():function(){try{var e=r(116).jL;c=a=e&&function(){return e(16)},a()}catch(e){}}();for(var p="function"==typeof Buffer?Buffer:Array,f=[],d={},g=0;g<256;g++)f[g]=(g+256).toString(16).substr(1),d[f[g]]=g;var v=a(),y=[1|v[0],v[1],v[2],v[3],v[4],v[5]],m=16383&(v[6]<<8|v[7]),E=0,T=0,I=o;I.GL=s,I.FA=o,I.parse=i,I.QL=n,I.KL=p,I.YL=a,I.zL=h,I.JL=c,I.WL=u,void 0!==e&&e.t?e.t=I:(l=t.Ck,I.wt=function(){return t.Ck=l,I},t.Ck=I)}("undefined"!=typeof window?window:null)},function(e,t,r){"use strict";var i=this&&this.Ns||function(e,t){function r(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=r(2),s=r(74),o=r(0),a=r(24),h=r(117),c=function(){function e(){this.XL="IdentityStore",this.ZL="IdentityDB",this.Eh=null,this.indexedDB=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,o.Framework&&o.Framework.resolve(o.Framework.q.I)?this.te=o.Framework.resolve(o.Framework.q.I).log():this.te=console}return e.prototype.$L=function(){var e=this,t=n.defer(),r=indexedDB.open(this.ZL);return r.onupgradeneeded=function(){var t=r.result;t.createObjectStore(e.XL,{keyPath:"id"})},r.onsuccess=function(){var e=r.result;t.resolve(e)},r.onerror=function(e){t.reject(e)},t.Te},e.prototype.jc=function(){var e=this;if(this.eM)return this.eM;var t=n.defer();if(this.Eh)t.resolve(new h.tM(this.Eh));else if(a.nc.bi&&this.indexedDB){var r=setTimeout(function(){e.te.warn("[HiveComm] timeout retrieving persistent ID - generating random one"),e.Eh=e.rM(),e.te.debug("[HiveComm] Generated UUID: "+e.Eh),t.resolve(new h.tM(e.Eh))},4e3);try{var i=this.$L();i.then(function(i){var n=i.transaction(e.XL,"readwrite"),s=n.objectStore(e.XL),o=s.get("MYID");o.onsuccess=function(){if(clearTimeout(r),e.Eh)t.resolve(new h.tM(e.Eh));else if(null!=o.result&&a.nc.bi){var n=o.result.value;e.te.debug("[HiveComm] Retrieved persistent UUID: "+n),e.Eh=n,i.close(),t.resolve(new h.tM(e.Eh))}else{var s=e.rM();e.iM(i,s),t.resolve(new h.tM(e.Eh))}},o.onerror=function(i){clearTimeout(r),e.Eh||(e.te.warn("[HiveComm] error retrieving persistent UUID: "+i),e.Eh=e.rM(),e.te.debug("[HiveComm] Generated UUID: "+e.Eh)),t.resolve(new h.tM(e.Eh))}}).fail(function(i){clearTimeout(r),e.Eh||(e.te.warn("[HiveComm] error opening indexedDB - generating random id. Error: "+i),e.Eh=e.rM(),e.te.debug("[HiveComm] Generated UUID: "+e.Eh)),t.resolve(new h.tM(e.Eh))})}catch(e){this.Eh=this.rM(),this.te.debug("[HiveComm] Persistence error - Generate UUID: "+this.Eh,e),t.resolve(new h.tM(this.Eh))}}else this.Eh=this.rM(),this.te.debug("[HiveComm] Persistence disabled - Generate UUID: "+this.Eh),t.resolve(new h.tM(this.Eh));return this.eM=t.Te,this.eM},e.prototype.iM=function(e,t){var r=this,i=e.transaction(this.XL,"readwrite");i.objectStore(this.XL).put({id:"MYID",value:t}),i.oncomplete=function(){r.te.debug("[HiveComm] completed UUID persistence"),e.close()},this.te.debug("[HiveComm] Generated UUID: "+t),this.Eh=t},e.prototype.rM=function(){return s.FA()},e}();t.nM=c;var u=function(e){function t(){return e.call(this)||this}return i(t,e),t.prototype.jc=function(){var t=this;if(this.sM)return this.sM;var r=n.defer();return e.prototype.jc.call(this).then(function(e){var i=t.rM(),n=e.Yc(),s=new h.tM(i,n);r.resolve(s)}).fail(function(e){var i=t.rM(),n=new h.tM(i);r.resolve(n)}),this.sM=r.Te,this.sM},t}(c);t.oM=u},function(e,t,r){"use strict";var i=function(){function e(){}return e.prototype.aM=function(e){this.hostname=e},e.prototype.Os=function(){return this.hostname},e.prototype.hM=function(e){this.cM=e},e.prototype.Qh=function(){return this.cM},e}();t.uM=i},function(e,t,r){"use strict";var i=r(2),n=r(0),s=r(9),o=r(118),a=r(4),h=function(){function e(){this.mn="[PreloadConnectivityInfoProvider] ",this.connInfo=window.lM,this.te=n.Framework.resolve(n.Framework.q.I).log(),this.pM=n.Framework.resolve(s.Qs.xs),this.connInfo||a.ErrorMonitor.gi().di("helper undefined",this.mn),this.fM()}return e.prototype.fM=function(){var e=new o.dM;this.pM.hM(e)},e.prototype.Gh=function(){return this.pM},e.prototype.Vh=function(){var e=this;if(!this.connInfo)return i.reject("ConnInfo helper undefined");var t=setTimeout(function(){return e.te.warn(e.mn+"Get connectivity info expired"),e.pM?i.resolve(e.pM):i.reject("expired")},2e3);try{return this.connInfo.Vh().then(function(r){return clearTimeout(t),e.pM=r,r}).fail(function(t){return e.te.debug(e.mn+" get connectivity info failed with error 1: ",t),e.pM?e.pM:i.reject(t)})}catch(e){return this.te.debug(this.mn+" get connectivity info failed with error 2:",e),i.reject(e)}},e.prototype.gM=function(e,t,r){},e}();t.vM=h},function(e,t,r){"use strict";var i=function(){function e(){}return e.prototype.yM=function(e){this.publicIp=e},e.prototype.Kh=function(){return this.publicIp},e.prototype.mM=function(e){this.EM=e},e.prototype.Wh=function(){return this.EM},e.prototype.TM=function(e){this.nic=e},e.prototype.zh=function(){return this.nic},e.prototype.IM=function(e){this.nicName=e},e.prototype.Jh=function(){return this.nicName},e.prototype.wM=function(e){this.privateIp=e},e.prototype.Cs=function(){return this.privateIp},e.prototype.SM=function(e){this.netmask=e},e.prototype.RM=function(){return this.netmask},e.prototype.bM=function(e){this.PM=e},e.prototype.Yh=function(){return null},e}();t.AM=i},function(e,t,r){"use strict";var i=r(2),n=r(1),s=r(0),o=r(9),a=r(78),h=r(119),c=r(8),u=r(24),l=r(52),p=function(){function e(){this.CM=null,this.kM=null,this.OM=null,this._M=null,this.NM=new n,this.publicIp=null,this.DM=[],this.xn=!1,this.FM=null,this.te=s.Framework.resolve(s.Framework.q.I).log(),this.pM=s.Framework.resolve(o.Qs.xs),this.LM=new h.MM,this.BM=[],this.fM(),this.UM()}return e.prototype.fM=function(){var e=new a.AM;this.pM.hM(e)},e.prototype.UM=function(){var e=this;s.Framework.setInterval(function(){e.DM=[],e.BM=[],e.NM=new n,e.publicIp=null,e.xM=null},12e4)},e.prototype.Vh=function(){return this.xM||(this.xM=this.HM()),this.xM},e.prototype.Gh=function(){return this.pM},e.prototype.HM=function(){var e=this,t=i.defer();if(this.FM=s.Framework.setTimeout(function(){t.reject({qM:!0,message:"expired"})},4e3),c.HiveConfig.ConnInfo.detectPrivateIP&&this.VM())try{this.CM=new RTCPeerConnection(null),this.OM=this.CM.createDataChannel("sendChannel",{reliable:!1}),this.kM=new RTCPeerConnection(null),this.kM.ondatachannel=function(r){e._M=r.channel,e._M.onopen=function(r){"open"===e._M.readyState&&(e.te.debug("Collected ips ["+e.NM.keys().join(", ")+"]"),e.kM.close(),e.LM.jM().then(function(t){e.BM=t,e.te.debug("Already known matching ips ["+e.BM.join(",")+"]");var r=e.NM.keys();e.BM.forEach(function(t){r.indexOf(t)>0&&(e.DM.push(t),e.NM.delete(t))}),e.NM.keys().forEach(function(t){e.DM.push(t)})}).fail(function(t){e.te.warn("Get Previous working ips failed with error "+t.message),e.NM.keys().forEach(function(t){e.DM.push(t)})}).finally(function(){e.te.debug("Final private ip list ["+e.DM.join(",")+"]"),t.resolve(e.GM())}))}},this.CM.onicecandidate=function(r){r.candidate&&e.QM(r.candidate.candidate),!r.candidate||e.kM.addIceCandidate(r.candidate).catch(function(r){t.reject({qM:!0,message:r.message}),s.Framework.clearTimeout(e.FM),console.log("Error: Failure during addIceCandidate()")})},this.kM.onicecandidate=function(r){r.candidate&&e.QM(r.candidate.candidate),!r.candidate||e.CM.addIceCandidate(r.candidate).catch(function(r){t.reject({qM:!0,message:r.message}),s.Framework.clearTimeout(e.FM),console.log("Error: Failure during addIceCandidate()")})},this.CM.createOffer().then(function(t){return e.CM.setLocalDescription(t)}).then(function(){return e.kM.setRemoteDescription(e.CM.localDescription)}).then(function(){return e.kM.createAnswer()}).then(function(t){return e.kM.setLocalDescription(t)}).then(function(){return e.CM.setRemoteDescription(e.kM.localDescription)}).catch(function(r){t.reject({qM:!0,message:r.message}),s.Framework.clearTimeout(e.FM),console.log("Error: Failure creating offer")})}catch(e){t.reject({qM:!0,message:e.message})}else{s.Framework.clearTimeout(this.FM);var r=c.HiveConfig.ConnInfo.detectPrivateIP?"webrtc datachannel not supported":"private IP detection disabled";t.reject({qM:!1,message:r})}return t.Te},e.prototype.VM=function(){try{return null!=l.Ca&&null!=l.t_&&"function"==typeof new RTCPeerConnection(null,null).createDataChannel}catch(e){return!1}},e.prototype.QM=function(e){var t=/([0-9]{1,3}(\.[0-9]{1,3}){3})/,r=t.exec(e);if(r){var i=r[0];this.NM.set(i,!0)}},e.prototype.GM=function(){var e=new a.AM;return this.DM.length>0&&e.wM(this.DM[0]),this.publicIp&&e.yM(this.publicIp),this.pM.hM(e),this.pM},e.prototype.gM=function(e,t,r){if(this.publicIp=e,this.KM(),0===r&&this.DM.length>1)this.DM.shift();else if(u.nc.Mi&&0!==r&&-1==this.BM.indexOf(this.DM[0]))this.BM.unshift(this.DM[0]),this.LM.YM(this.BM.slice(0,2));else if(u.nc.Mi&&0!==r&&this.BM.indexOf(this.DM[0])>0){var i=this.BM.indexOf(this.DM[0]);this.BM=this.BM.splice(i,1),this.BM.unshift(this.DM[0]),this.LM.YM(this.BM.slice(0,2))}this.GM()},e.prototype.KM=function(){var e=this.DM.indexOf(this.publicIp);e>-1&&this.DM.splice(e,1)},e}();t.zM=p},function(e,t,r){"use strict";var i=this&&this.Ns||function(e,t){function r(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=r(54),s=r(140),o=r(147),a=r(10),h=r(31),c=r(28),u=r(0);!function(e){function t(t){return this.JM(t)||-1!=t.indexOf(e.WM)}function r(t){return-1!=t.toLowerCase().indexOf(e.XM.toLowerCase())}e.ZM=1,e.$M=2,e.eB=2e3,e.tB=3e4,e.rB=1e4,e.iB=!0,e.nB=!0,e.sB=500,e.oB=10,e.aB=3,e.XM="(format=mpd-time-csf)",e.WM=".m4s",e.hB=".ism/",e.cB=t,e.JM=r;var l=function(t){function n(r,i){var n=t.call(this,i)||this;return n.Ul=0,n.uB=!0,n.ticket=r,n.lB=r._A(),n.pB=n.lB.toLowerCase().substring(0,n.lB.indexOf(e.hB)),n.fB=new o.dB,n.gB=new s.vB(i.sessionId),n}return i(n,t),n.prototype.Ak=function(){return this.ticket},n.prototype.S_=function(){return StreamProtocol.yB},n.prototype.CN=function(){return this.lB},n.prototype.wN=function(){return this.gB.wN()},n.prototype.isLive=function(){return this.gB.mB()},n.prototype.RN=function(){return this.fB},n.prototype.$u=function(e){var t=this.Yu(e);if(t==a.Ws.Ys||t==a.Ws.Ks)return!0},n.prototype.Yu=function(e){if(r(e))return a.Ws.zs;if(this.EB(e))return a.Ws.Js;var t=this.gB.TB(e);return null!=t?t.type:-1!=e.indexOf("audio")?a.Ws.Ks:a.Ws.Js},n.prototype.bN=function(e){var t=this.Yu(e),r=0,i=0,n=0,s=!0,o=!1;if(this.EB(e))s=!0;else if(t!=a.Ws.zs){var c=this.gB.TB(e);null!=c?(r=c.duration,i=c.bitrate,n=c.id,o=this.$u(e)):(this.sk(),this.te.warn("could not extract segment info for "+e))}else s=!1;var u=Math.round(r/1e4);return new h.SR(e,t,s,n,u,i,o,this.K_())},n.prototype.ck=function(e){var t=e.url,r=this.gB.IB(t);return null!=r?this.bN(r.wB):null},n.prototype.lk=function(){return t.prototype.G_.call(this,e.ZM,e.$M)},n.prototype.SN=function(t){var i=t.url,n=i.toLowerCase();if(i===this.lB)return!0;if(null!=this.gB&&this.gB.EB(i))return!0;if(r(i)&&this.gB.SB!==i)return!1;var s=n.indexOf(e.hB);return!!(this.lB&&s>-1&&n.substring(0,s)===this.pB)},n.prototype.PN=function(e){var t=e.RB,r=e.Vu.url,i=this.gB.parse(r,t,e.Vu.mI);e.Vu.responseText=i,e.Vu.response=i,this.q_.zC(),this.bB()},n.prototype.AN=function(e){var r=this;t.prototype.AN.call(this,e),e.Yu()!==a.Ws.Ys&&e.Yu()!==a.Ws.Ks||(e.Yu()===a.Ws.Ys&&this.fB.PB(e),this.gB.AN(e).then(function(t){t&&r.bB(),e.Yu()==a.Ws.Ys&&r.q_.HC(e.Qu)}).done())},n.prototype.K_=function(){return this.ticket.BA()},n.prototype.Y_=function(e,r){var i=e;return i.Q_=u.Framework.time(),t.prototype.Y_.call(this,i,r)},n.prototype.yk=function(e,t,r,i){return this.gB.yk(e,t,r,i)},n.prototype.EB=function(e){return this.gB.EB(e)},n.prototype.bB=function(){var t=this;this.gB.AB?this.gB.AB.CB().then(function(r){if(r)t.uB=!0,t.te.debug("Protection evaluation: can decrypt");else{var i="Protection evaluation: cannot decrypt ["+(e.iB?"error":"disabled")+"]";e.nB?(t.uB=!0,t.te.debug(i+", metadata prefetch enabled")):t.te.warn(i+", metadata prefetch DISABLED")}}).done():this.te.debug("Protection evaluation: not encrypted")},n.prototype.sk=function(){this.uB&&(null==this.kB&&this.gB.mB()?this.OB():this.te.debug("DASH PRE-FETCHING METADATA ALREADY SCHEDULED OR NOT LIVE"))},n.prototype.IN=function(){this.uB&&null!=this.kB&&u.Framework.clearTimeout(this.kB)},n.prototype.OB=function(){var t=this,r=void 0!=this._B?this._B:0,i=e.eB,n=r+i,s=Math.max(1,n-u.Framework.time()+e.sB);this.te.debug("DASH PREFETCHING METADATA "+this.gB.SB+" IN "+s),this.kB=u.Framework.setTimeout(function(){t.NB(t.gB.SB,u.Framework.time())},s)},n.prototype.NB=function(e,t){var r=this._B;if(null==r&&(r=0),r>t)this.OB();else{var i=new c.HiveRequest(this.ticket.sessionId);i.open("GET",e),i.mI=!0,i.send(),this.kB=null,this._B=u.Framework.time()}},n.prototype.kN=function(e){this.gB.authenticationToken=e},n.prototype.gk=function(e,t){var r=this._C(),i=this.gN(),n=r.ER(),s=this.gB.DB(n,r.IR(),e,t),o=u.Framework.time()-i;return Math.max(0,s-o)},n.prototype.TN=function(){return e.rB},n.prototype.KC=function(e,t,r){var i=this.gB.FB(e,t);return null!=i?new h.SR(i.wB,r,!0,e,i.duration,t,!0,this.K_()):null},n.prototype.vk=function(){return e.tB},n}(n.ON);e.LB=l}(t.yB||(t.yB={}))},function(e,t,r){var i=function(e,t,r){function i(e){var t=e.localName;return null==t&&(t=e.MB),null!=t&&""!=t||(t=e.nodeName),t}function n(e){return e.prefix}function s(e){return"string"==typeof e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"):e}function o(e){return e.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#x27;/g,"'").replace(/&#x2F;/g,"/")}function a(s){if(s.nodeType==E.DOCUMENT_NODE){var h,c,u,l=s.firstChild;for(c=0,u=s.childNodes.length;c<u;c+=1)if(s.childNodes[c].nodeType!==E.COMMENT_NODE){l=s.childNodes[c];break}if(r)h=a(l);else{h={};var p=i(l);h[p]=a(l)}return h}if(s.nodeType==E.ELEMENT_NODE){var h=new Object;h.BB=0;for(var f=s.childNodes,d=0;d<f.length;d++){var l=f.item(d),p=i(l);if(h.BB++,null==h[p])h[p]=a(l),h[p+"_asArray"]=new Array(1),h[p+"_asArray"][0]=h[p];else{if(null!=h[p]&&!(h[p]instanceof Array)){var g=h[p];h[p]=new Array,h[p][0]=g,h[p+"_asArray"]=h[p]}for(var v=0;null!=h[p][v];)v++;h[p][v]=a(l)}}for(var y=0;y<s.attributes.length;y++){var T=s.attributes.item(y);h.BB++;for(var I=T.value,w=0,S=e.length;w<S;w++){var R=e[w];try{R.test.call(this,T)&&(I=R.UB.call(this,T.value))}catch(e){R.test.call(this,T),console.error(e)}}h[t+T.name]=I}var b=n(s);return null!=b&&""!=b&&(h.BB++,h.xB=b),1==h.BB&&null!=h["HB"]&&(h=h["HB"]),null!=h["HB"]&&(h.qB=h["HB"],m&&(h.qB=o(h.qB)),delete h["HB"],delete h["VB"]),null!=h["jB"]&&(h.GB=h["jB"],delete h["jB"],delete h["QB"]),null==h.qB&&null==h.GB||(h.toString=function(){return(null!=this.qB?this.qB:"")+(null!=this.GB?this.GB:"")}),h}return s.nodeType==E.TEXT_NODE||s.nodeType==E.CDATA_SECTION_NODE?s.nodeValue:s.nodeType==E.COMMENT_NODE?null:void 0}function h(e,t,r,i){var n="<"+(null!=e&&null!=e.xB?e.xB+":":"")+t;if(null!=r)for(var s=0;s<r.length;s++){var o=r[s],a=e[o];n+=" "+o.substr(1)+"='"+a+"'"}return n+=i?"/>":">"}function c(e,t){return"</"+(null!=e.xB?e.xB+":":"")+t+">"}function u(e,t){return-1!==e.indexOf(t,e.length-t.length)}function l(e,t){return!!(u(t.toString(),"_asArray")||0==t.toString().indexOf("_")||e[t]instanceof Function)}function p(e){var t=0;if(e instanceof Object)for(var r in e)l(e,r)||t++;return t}function f(e){var t=[];if(e instanceof Object)for(var r in e)-1==r.toString().indexOf("__")&&0==r.toString().indexOf("_")&&t.push(r);return t}function d(e){var t="";return null!=e.GB&&(t+="<![CDATA["+e.GB+"]]>"),null!=e.qB&&(t+=m?s(e.qB):e.qB),t}function g(e){var t="";return e instanceof Object?t+=d(e):null!=e&&(t+=m?s(e):e),t}function v(e,t,r){var i="";if(0==e.length)i+=h(e,t,r,!0);else for(var n=0;n<e.length;n++)i+=h(e[n],t,f(e[n]),!1),i+=y(e[n]),i+=c(e[n],t);return i}function y(e){var t="";if(p(e)>0)for(var r in e)if(!l(e,r)){var i=e[r],n=f(i);if(null==i||void 0==i)t+=h(i,r,n,!0);else if(i instanceof Object)if(i instanceof Array)t+=v(i,r,n);else{var s=p(i);s>0||null!=i.qB||null!=i.GB?(t+=h(i,r,n,!1),t+=y(i),t+=c(i,r)):t+=h(i,r,n,!0)}else t+=h(i,r,n,!1),t+=g(i),t+=c(i,r)}return t+=g(e)}null!==t&&void 0!==t||(t="_"),null!==r&&void 0!==r||(r=!1);var m=!1,E={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9};this.KB=function(e){var t;if(window.DOMParser){t=(new window.DOMParser).parseFromString(e,"text/xml")}else 0==e.indexOf("<?")&&(e=e.substr(e.indexOf("?>")+2)),t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.YB(e);return t},this.zB=function(e){return a(e)},this.JB=function(e){var t=this.KB(e);return this.zB(t)},this.WB=function(e){return y(e)},this.XB=function(e){var t=this.WB(e);return this.KB(t)},this.getVersion=function(){return"1.0.11"},this.ZB=function(e){m=e}};e.t=i},function(e,t,r){"use strict";var i=function(){function e(e,t,r,i,n){this.id=e,this.bitrate=t,this.duration=r,this.uri=i,this.wB=n}return e}();t.$B=i},function(e,t,r){"use strict";var i=r(6),n=r(22),s=r(10),o=r(0),a=r(3),h=function(){function e(){this.eU=new i.fn.Zi,this.tU=new i.fn.Zi,this.te=o.Framework.resolve(o.Framework.q.I).log()}return e.prototype.rU=function(e,t){var r=0,i=-1,s=e.Qu.duration;this.eU.Vi()?i=Math.max(10,this.eU.Yi(t)):this.tU.Vi()&&(i=Math.max(10,this.tU.Yi(t))),r=i>-1?Math.max(0,s-i*a.ni.Gt.jt):s/2,e.type==n.Tu.Eu&&(r*=2);var o=Math.max(this.iU(),r);return this.te.debug("TIMER DETAILS duration: "+s+" left: "+t+" downTime: "+i+" fallAvg: "+this.eU.Xi()+" timer: "+o),o},e.prototype.nU=function(e,t){return 5e3},e.prototype.sU=function(e){return this.eU.Vi()?Math.min(this.eU.Yi(e),this.oU()):this.aU()},e.prototype.PB=function(e){if(e.Yu()===s.Ws.Ys)switch(e.Ku()){case n.Tu.gu:case n.Tu.du:case n.Tu.vu:this.eU.Ki(e.il());break;case n.Tu.mu:case n.Tu.Eu:this.tU.Ki(e.il())}},e.prototype.iU=function(){return e.hU},e.prototype.aU=function(){return e.cU},e.prototype.oU=function(){return e.uU},e}();h.hU=500,h.uU=1500,h.cU=500,t.lU=h},function(e,t,r){"use strict";var i=this&&this.Ns||function(e,t){function r(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=r(1),s=r(54),o=r(148),a=r(151),h=r(0),c=r(28),u=r(10),l=r(31),p=r(27);!function(e){function t(t){return this.JM(t)||-1!=t.indexOf(e.WM)}function r(t){return-1!=t.toLowerCase().indexOf(e.XM.toLowerCase())||-1!=t.toLowerCase().indexOf(e.pU.toLowerCase())||-1!=t.toLowerCase().indexOf(e.fU.toLowerCase())}e.dU=1,e.gU=2,e.vU=3e4,e.yU=4e3,e.mU=500,e.EU=!0,e.TU=1e4,e.IU=16,e.wU=3,e.XM=".m3u8",e.pU="(format=m3u8-aapl-v3)",e.fU="(video,format=m3u8-aapl-v3,audiotrack=audio)",e.WM=".ts",e.cB=t,e.JM=r;var f=function(t){function s(e,r,i){var s=t.call(this,i)||this;return s.SU=!1,s.Ul=0,s._B=new n,s.kB=new n,s.ticket=e,s.RU=r,r&&(s.bU=s.PU(e._A())),s.lB=e.LA(),s.fB=new a.AU,s.CU=new o.kU,s}return i(s,t),s.prototype.S_=function(){return StreamProtocol.OU},s.prototype.PU=function(e){var t=e.lastIndexOf("/");return e.substr(0,t)},s.prototype.Ak=function(){return this.ticket},s.prototype.wN=function(){return this.CU.wN()},s.prototype.isLive=function(){return this.CU.isLive()},s.prototype.RN=function(){return this.fB},s.prototype.K_=function(){return this.ticket.BA()},s.prototype.CN=function(){return this.lB},s.prototype.SN=function(e){var t=e.url=this._U(e.url);return t===this.lB?(this.SU&&this.te.debug("SAME MANIFEST "+t+","+this.lB),!0):null!=this.CU&&this.CU.NU(t)?(this.SU&&this.te.debug("CORRECT PLAYLIST "+t+","+this.lB),!0):null!=this.CU&&null!=this.CU.TB(t)?(this.SU&&this.te.debug("CORRECT SEGMENT "+t+","+this.lB),!0):!(!r(t)||this.CU.DU()===t)&&(this.SU&&this.te.debug("FIRST REQUEST FOR MANIFEST "+t+","+this.lB),!1)},s.prototype._U=function(e){return p(e).pI().toString()},s.prototype.Yu=function(e){return r(e)?u.Ws.zs:null!=this.CU.TB(e)?u.Ws.Ys:u.Ws.Js},s.prototype.$u=function(e){var t=this.Yu(e);if(t==u.Ws.Ys||t==u.Ws.Ks)return!0},s.prototype.bN=function(e){var t=e,r=this.Yu(t),i=0,n=0,s=0,o=!0;if(r!=u.Ws.zs){var a=this.CU.TB(t);null!=a&&(i=a.duration,n=a.bitrate,s=a.id)}else if(o=!1,null!=this.CU&&this.CU.FU.has(t)){var n=this.CU.FU.get(t).bitrate;this._B.set(n,h.Framework.time())}return new l.SR(t,r,o,s,i,n,this.$u(t),this.K_())},s.prototype.KC=function(e,t,r){var i=this.CU.FB(e,t);return null!=i?new l.SR(i.wB,r,!0,e,i.duration,t,!0,this.K_()):null},s.prototype.PN=function(e){var t=e.RB,r=e.Wu(),i=this.CU.parse(r,t);if(this.CU.FU.has(r)){var n=this.CU.FU.get(r);this.q_.zC(n.bitrate)}e.Vu.response=i,e.Vu.responseText=i},s.prototype.AN=function(e){t.prototype.AN.call(this,e),e.Yu()!=u.Ws.zs&&e.Yu()!=u.Ws.Js&&(this.fB.PB(e),e.Yu()==u.Ws.Ys&&this.q_.HC(e.Qu))},s.prototype.Y_=function(e,r){var i=e;return i.Q_=h.Framework.time(),t.prototype.Y_.call(this,i,r)},s.prototype.sk=function(t){if(e.EU){null==this.kB.get(t)&&this.CU.isLive()?this.OB(t):this.te.debug("HLS PRE-FETCHING METADATA ALREADY SCHEDULED OR MISSING HLS INFO")}},s.prototype.OB=function(t){var r=this,i=this.CU.LU.get(t);if(null!=i){var n=this._B.has(t),s=this._B.get(t),o=n?s:0,a=null!=i.MU?i.MU[i.MU.length-1].duration:e.yU,c=o+a,u=Math.max(1,c-h.Framework.time()+e.mU);this.te.info("HLS PREFETCHING METADATA "+i.wB+" BITRATE "+t+" IN "+u);var l=h.Framework.setTimeout(function(){r.NB(t,i.wB,h.Framework.time())},u);this.kB.set(t,l)}else this.te.warn("NO STREAM WITH BT "+t)},s.prototype.NB=function(e,t,r){var i=this._B.get(e);if(null==i&&(i=0),i>r)this.OB(e);else{var n=new c.HiveRequest(this.ticket.sessionId);n.open("GET",t),n.mI=!0,n.send(),this.kB.delete(e),this._B.set(e,h.Framework.time())}},s.prototype.IN=function(){var e=this;this.kB.keys().forEach(function(t){var r=e.kB.get(t);h.Framework.clearTimeout(r),e.kB.delete(t)})},s.prototype.lk=function(){return t.prototype.G_.call(this,e.dU,e.gU)},s.prototype.ck=function(e){var t=e.url,r=this.CU.IB(t);return null!=r?this.bN(r.wB):null},s.prototype.yk=function(e,t,r,i){return r-e},s.prototype.vk=function(){return e.vU},s.prototype.TN=function(){return e.TU},s.prototype.gk=function(e,t){var r=this._C(),i=this.gN(),n=r.ER(),s=0;if(e>n)for(var o=this.CU.FB(n,t);o&&o.id<e;)s+=o.duration,this.te.debug("Segment duration "+o.duration+" total msec "+s+"segment id "+o.id),o=o.next;var a=h.Framework.time()-i;return Math.max(0,s-a)},s}(s.ON);e.BU=f}(t.OU||(t.OU={}))},function(e,t,r){"use strict";var i=r(1),n=r(2),s=r(0),o=r(86),a=r(57),h=r(87),c=r(4),u=function(){function e(){this.UU="[CACHE]",this.xU=new i,this.HU=-1,this.qU=[],this.te=s.Framework.resolve(s.Framework.q.I).log()}return e.prototype.init=function(e,t){this.VU=e,this.jU=t},e.prototype.put=function(e){var t=n.defer();try{var r=e.zu(),i=e.xu,s=e.Hu,c=e.Mu.Su-1,u=e.Mu.Su;-1==this.HU&&this.GU();var l=null,p=!1;if(this.xU.has(r)){l=this.xU.get(r);var f=new a.ED(0,c,u);p=!0,l.content.forEach(function(e,t){if(a.wD.ID(t).mD(f))return void(p=!1)})}else{var d=new a.ED(0,c,u).toString();l=new h.QU(e.Qu),e.KU&&(l.YU=e.KU.Ik.Tk),l.content.set(d,new o.zU(u,s,e.Mu,e.Ku())),this.xU.set(r,l),p=!0,this.qU.unshift(r)}null==l.headers&&null!=i&&(l.headers=i),t.resolve(p)}catch(e){t.reject("CACHE PUT ERROR "+e)}return t.Te},e.prototype.get=function(e){var t=n.defer();try{var r=this.xU.get(e);if(null!=r){var i=null;r.content.forEach(function(e,t){if(a.wD.ID(t).vD())return i=e,i.headers=r.headers,void(i.YU=r.YU)}),t.resolve(i)}else t.resolve(null)}catch(e){t.reject("CACHE GET ERROR "+e)}return t.Te},e.prototype.hk=function(e){try{return this.xU.keys()}catch(e){c.ErrorMonitor.gi().di("GET KEYS ERROR",this.UU,e)}},e.prototype.JU=function(e){var t=n.defer();try{t.resolve(this.xU.values())}catch(e){t.reject("CACHE GET ELEMENTS ERROR "+e)}return t.Te},e.prototype.contains=function(e){var t=n.defer();try{this.xU.has(e)?t.resolve(!0):t.resolve(!1)}catch(e){t.reject("CACHE CONTAINS ERROR "+e)}return t.Te},e.prototype.GU=function(){var e=this;this.WU(),this.te.debug(this.UU+" Starting cache periodic purge"),this.HU=s.Framework.setInterval(function(){e.m()},this.jU)},e.prototype.WU=function(){-1!=this.HU&&(this.te.debug(this.UU+" Stopping cache periodic purge"),s.Framework.clearInterval(this.HU),this.HU=-1)},e.prototype.m=function(){var e=this;try{var t=0,r=0,i=0;this.te.debug(this.UU+" RUNNING GC"),this.qU.every(function(i,n){var s=e.xU.get(i).size();return t+s>e.VU?(r=n,!1):(t+=s,!0)})||(i=this.qU.length-r,this.qU.splice(r,this.qU.length-1).forEach(function(t){e.xU.delete(t)})),this.te.debug(this.UU+" GC DONE - REMOVED: "+i+" - CURRENT ITEMS: "+this.xU.length+" SIZE: "+t+" "),0===this.xU.length&&(this.te.debug(this.UU+" Cache contains no items, stopping purge timer"),this.WU())}catch(e){c.ErrorMonitor.gi().di("PURGE FAILED",this.UU,e)}},e.prototype.XU=function(){this.xU=new i,this.qU=[]},e.prototype.ZU=function(){var e=this;this.xU.forEach(function(t,r){e.te.debug("EID="+r),t.content.forEach(function(t,r){e.te.debug("\tRANGE ",r)})})},e}();t.$U=u},function(e,t,r){"use strict";var i=function(){function e(e,t,r,i){this.length=e,this.data=t,this.Mu=r,this.ex=i}return e}();t.zU=i},function(e,t,r){"use strict";var i=r(57),n=r(1),s=function(){function e(e){this.headers=null,this.YU=null,this.tx=0,this.ix=!1,this.Qu=e,this.content=new n}return e.prototype.size=function(){var e=0;return this.content.forEach(function(t,r){e+=i.wD.ID(r).size()}),e},e}();t.QU=s},function(e,t,r){"use strict";!function(e){e[e.nx=0]="ALL",e[e.AS=1]="AS",e[e.hC=2]="SITE"}(t.sx||(t.sx={}))},function(e,t,r){"use strict";var i=r(0),n=r(23),s=r(3),o=r(11),a=r(2),h=r(1),c=r(55),u=r(168),l=r(4),p=function(){function e(){this.ox=!1,this.mn="[UDPLeaderElection] ",this.Hl=i.Framework.resolve(i.Framework.q.F),this.ax=new h,this.hx=new h,this.ux=new h,this.lx=new h,this.px=new h,this.gx=[]}return e.prototype.init=function(e){this.vx=e,this.te=i.Framework.resolve(i.Framework.q.I).log(e.sessionId),this.wC=e.wC,this.yx=e.yx,this.RC=e.RC},e.prototype.mx=function(e,t){var r=this,i=a.defer();try{if(this.ox){var n=null;e.uo&&(n=e.uo);var s=new u.Ex(e.guid,e.co,n,e.so);if(this.ax.has(s.Ck)){var o=this.ax.get(s.Ck);o.Tx==s.Tx&&o.Ix==s.Ix?i.resolve():(this.ax.set(s.Ck,s),this.wx(),this.Sx(s).then(function(){i.resolve()}).fail(function(e){r.ax.delete(s.Ck),r.wx(),i.reject(e)}))}else t?(s.Rx=t,this.te.info(this.mn+" NEW MEMBER GUID "+s.Ck+" RANKING "+s.Tx+" LEADER "+s.Ix),this.ax.set(s.Ck,s),this.wx(),this.Sx(s).then(function(){r.bx(r.ax.get(s.Ck)),i.resolve()}).fail(function(e){r.ax.delete(s.Ck),r.wx(),i.reject(e)})):this.Px(s).then(function(e){s.Rx=e,r.te.info(r.mn+" NEW MEMBER GUID "+s.Ck+" RANKING "+s.Tx+" LEADER "+s.Ix),r.ax.set(s.Ck,s),r.wx(),r.Sx(s).then(function(){i.resolve()}).fail(function(e){r.ax.delete(s.Ck),r.wx(),i.reject(e)})}).fail(function(e){i.reject(e)})}else i.reject("LEADER ELECTION NOT STARTED YET")}catch(e){i.reject("TRIGGER LEADER ELECTION ERROR "+e)}return i.Te},e.prototype.bx=function(e){var t=new o.po(o.Zs.K,null);t.guid=e.Ck,t.so=e.Ix,t.co=e.Tx;var r=[t];this.yx.Ax(r,!1)},e.prototype.Px=function(e){var t=this,r=a.defer();return this.lx.has(e.Ck)||this.ux.has(e.Ck)?r.reject(f.Cx):(this.lx.set(e.Ck,Date.now()),this.Hl.connect(e.Ck).then(function(i){var n=i.Bl.Dl(t.vx.swarmId);null==n?(n=i.Bl.Al(t.vx.swarmId),t.kx(n).then(function(){r.resolve(i)}).fail(function(e){r.reject(e)}).done()):t.px.get(e.Ck)?r.resolve(i):(t.lx.delete(e.Ck),t.kx(n).then(function(){r.resolve(i)}).fail(function(e){r.reject(e)}).done())}).fail(function(i){t.lx.delete(e.Ck),r.reject(i)}).done()),r.Te},e.prototype.kx=function(e){var t=this,r=a.defer(),o=new n.mu.Mr.np.Ox;o.Ck=this._x.Ck,o.Tx=this._x.Tx,o.so=this._x.Ix,o.Nx=this._x.Nx,this.te.debug(this.mn+"MSG uuid "+o.Ck+" rankValue "+o.Tx+" isLeader "+o.so+" stream id "+o.Nx);var h=i.Framework.setTimeout(function(){t.Dx(e._l)},s.ni.UDPBroadcast.Vr);return this.ux.set(e._l,{Fx:h,defer:r}),e.jl(n.mu.Rl.gl,o),r.Te},e.prototype.Dx=function(e){if(this.ux.has(e)){this.te.debug(this.mn+" HANDSHAKE REQ EXPIRED TO "+e);var t=this.ux.get(e);this.ux.delete(e),t.defer.reject("EXPIRED")}},e.prototype.Lx=function(e,t){try{this.te.debug(this.mn+"HANDSHAKE RESP RECEIVED FROM "+t._l);var r=t._l,n=this.ux.get(r);i.Framework.clearTimeout(n.Fx),this.ux.delete(r),n.defer.resolve(t)}catch(e){l.ErrorMonitor.gi().di("HANDSHAKE RESPONSE RECEIVED FAILED",this.mn,e)}},e.prototype.Mx=function(e,t){var r=this;try{var i=new o.po(o.Zs.K,null,e.so);if(i.guid=e.Ck,i.co=e.Tx,e.Nx===this.wC.K_()){var n=t.Bl.Dl(this.vx.swarmId);this.px.set(e.Ck,e.Ck),this.Bx(n,"OK"),this.mx(i,t).then(function(){}).fail(function(e){l.ErrorMonitor.gi().di("LEADER ELECTION FAILED",r.mn,e)})}}catch(e){l.ErrorMonitor.gi().di("HANDSHAKE REQUEST FAILED",this.mn,e)}},e.prototype.Bx=function(e,t){var r=new n.mu.Mr.np.vl;r.accept=t,e.jl(n.mu.Rl.vl,r),this.te.debug(this.mn+"SEND HANDSHAKE RESPONSE TO "+e._l)},e.prototype.Sx=function(e){var t=this,r=a.defer();if(this.Ux()){var i=!1;this.te.info(this.mn+"I HAVE THE HIGHEST SCORE"),e.Ix&&!this.hx.has(e.Ck)&&(i=!0,this.te.info(this.mn+"SEND SWITCH REQUEST TO "+e.Ck),this.xx(e).then(function(){r.resolve()}).fail(function(e){3==e.Hx?(t.te.debug(t.mn+" SWITCH REQUEST WAS CANCELED."),r.resolve()):(e.Hx=2)&&r.reject(e)})),this._x.Ix||null==this.qx||this.qx.Ck==e.Ck||this.hx.has(this.qx.Ck)||(this.te.info("SEND SWITCH REQUEST TO THE ALREADY KNOWN LEADER"),i=!0,this.xx(this.qx).then(function(){r.resolve()}).fail(function(e){3==e.Hx?(t.te.debug(t.mn+" SWITCH REQUEST WAS CANCELED."),r.resolve()):(e.Hx=2)&&r.reject(e)})),null!=this.qx||e.Ix||this._x.Ix||0!=this.hx.length||(this.te.info(this.mn+"BECOME LEADER"),this.Vx()),i||r.resolve()}else this.jx(e)?(this.te.info(this.mn+"PEER "+e.Ck+" HAS THE HIGHEST SCORE"),this.Gx(),this._x.Ix&&e.Ix&&this.stepDown(),this.Qx(e),r.resolve()):r.resolve();return r.Te},e.prototype.Qx=function(e){try{this.te.info(this.mn+"UPDATE THE LEADERSHIP"),null!=this.qx&&this.ax.has(this.qx.Ck)&&(this.ax.get(this.qx.Ck).Ix=!1),this.ax.has(e.Ck)?(this.ax.get(e.Ck).Tx=e.Tx,this.qx=e,this.ax.get(e.Ck).Ix=!0):(this.te.warn(this.mn+"SET A LEADER THAT IS NOT A LAN MEMBER LIST. SHOULD NEVER HAPPEN"),this.ax.set(e.Ck,e),this.qx=e),this.wC.Kx(e),this.te.info(this.mn+"NEW KNOWN LEADER "+this.wC.kk().Ck)}catch(e){l.ErrorMonitor.gi().di(e,this.mn)}},e.prototype.stepDown=function(){this.te.info(this.mn+"STEP DOWN"),this._x.Ix=!1,this.wC.Yx(!1),s.ni.dr.rr&&(this.RC.zx(),this.RC.Jx(!1))},e.prototype.Gx=function(){for(var e=this.hx.keys(),t=0,r=e;t<r.length;t++){var n=r[t],s=this.hx.get(n);this.hx.delete(n),i.Framework.clearTimeout(s.Fx),s.defer.reject({Hx:3,message:"CANCELED PENDING RESPONSES"})}},e.prototype.jx=function(e){return e.Ck==this.gx[0].Ck},e.prototype.Ux=function(){return u.Ex.Dp(this._x,this.gx[0])<0},e.prototype.wx=function(){var e=new c(this.ax.values()),t=e.Ro(u.Ex.Dp);e.push(this._x),this.wC.Wx(t);var r=new c(this.ax.values());this.gx=r.Ro(u.Ex.Dp)},e.prototype.Xx=function(e){this.Zx(e)},e.prototype.Zx=function(e){this.te.info(this.mn+"EVALUATE THE SWITCH REQUEST FROM "+e.Ck);var t=void 0;this.ax.has(e.Ck)?t=this.ax.get(e.Ck):this.te.warn("I RECEIVED A SWITCH REQUEST FROM AN UNKNOWN MEMBER. THIS SHOULD NEVER HAPPEN"),t&&(this._x.Ix?this.Ux()?this.$x(t,!1):(this.stepDown(),this.Gx(),this.Qx(t),this.$x(t,!0)):this.jx(t)?(this.Qx(t),this.$x(t,!0)):this.$x(t,!1))},e.prototype.$x=function(e,t){var r=this;this.eH(e.Rx,t).then(function(){}).fail(function(e){l.ErrorMonitor.gi().di("SEND SWITCH RESPONSE ERROR",r.mn,e)}).done()},e.prototype.eH=function(e,t){var r=a.defer(),i=new n.mu.Mr.np.tH;return i.ok=t,e.Bl.Dl(this.vx.swarmId).jl(n.mu.Rl.ml,i),r.Te},e.prototype.xx=function(e){var t=this,r=a.defer();return this.rH(e.Rx).then(function(i){t.iH(i,e),r.resolve()}).fail(function(e){r.reject(e)}).done(),r.Te},e.prototype.iH=function(e,t){try{e?(this.ax.get(t.Ck).Ix=!1,this.qx=this._x,this.Vx()):(this.Gx(),this.ax.get(t.Ck).Ix=!0,this.stepDown(),this.Qx(t))}catch(e){l.ErrorMonitor.gi().di("HANDLE LEADERSHIP SWITCH RESPONSE ERROR",this.mn,e)}},e.prototype.nH=function(e,t){if(this.hx.has(t)){var r=this.hx.get(t);i.Framework.clearTimeout(r.Fx),this.hx.delete(t),r.defer.resolve(e.ok)}else this.te.warn(this.mn+" SWITCH LEADERSHIP RESPONSE RECEIVED FROM UNKNOWN PEER "+t)},e.prototype.rH=function(e){var t=this,r=a.defer(),o=new n.mu.Mr.np.yl;o.Ck=this._x.Ck,o.Tx=this._x.Tx,this.te.debug(this.mn+"SWITCH LEADERSHIP REQUEST TO "+e._l);var h=i.Framework.setTimeout(function(){t.sH(e._l)},s.ni.UDPBroadcast.qr);this.hx.set(e._l,{Fx:h,defer:r});var c=e.Bl.Dl(this.vx.swarmId);return i.Framework.setTimeout(function(){c.jl(n.mu.Rl.yl,o)},1),r.Te},e.prototype.sH=function(e){if(this.hx.has(e)){this.te.info(this.mn+" SWITCH LEADERSHIP EXPIRED TO "+e);var t=this.hx.get(e);this.hx.delete(e),t.defer.reject({Hx:2,message:"EXPIRED"})}},e.prototype.Vx=function(){this.te.info(this.mn+"BECOMING LAN LEADER"),null!=this.qx&&this.ax.has(this.qx.Ck)&&(this.ax.get(this.qx.Ck).Ix=!1),this._x.Ix=!0,this.qx=this._x,this.wC.Yx(!0),this.wC.Kx(this._x),s.ni.dr.rr&&(this.RC.zx(),this.RC.Jx(!0))},e.prototype.Zh=function(e){this._x=new u.Ex(this.wC.W(),this.wC.oH(),"",!1,this.wC.K_()),this.ox=!0,this.te.info(this.mn+" UDP LEADER ELECTION STARTED")},e.prototype.aH=function(e){this.ax.delete(e),this.wx(),0==this.ax.length?(this._x.Ix=!1,this.qx=null,this.wC.Yx(!1),this.wC.hH(!1),this.RC.zx(),this.RC.Jx(!1)):this.Ux()?this.Vx():this.gx.length>0&&this.Qx(this.gx[0])},e}();t.cH=p;var f;!function(e){e[e.uH=0]="FAILURE",e[e.Cx=1]="ALREADY_PENDING"}(f=t.lH||(t.lH={}))},function(e,t,r){var i,n,s;/**
 * @license Long.js (c) 2013 Daniel Wirtz <dcode@dcode.io>
 * Released under the Apache License, Version 2.0
 * see: https://github.com/dcodeIO/Long.js for details
 */
!function(r,o){n=[],i=o,void 0!==(s="function"==typeof i?i.apply(t,n):i)&&(e.t=s)}(0,function(){"use strict";function e(e,t,r){this.low=0|e,this.high=0|t,this.Cb=!!r}e.pH,Object.defineProperty(e.prototype,"__isLong__",{value:!0,l:!1,u:!1}),e.fH=function(e){return!0===(e&&e.pH)};var t={},r={};e.mp=function(i,n){var s,o;return n?0<=(i>>>=0)&&i<256&&(o=r[i])?o:(s=new e(i,(0|i)<0?-1:0,!0),0<=i&&i<256&&(r[i]=s),s):-128<=(i|=0)&&i<128&&(o=t[i])?o:(s=new e(i,i<0?-1:0,!1),-128<=i&&i<128&&(t[i]=s),s)},e.dp=function(t,r){return r=!!r,isNaN(t)||!isFinite(t)?e.ZERO:!r&&t<=-s?e.MIN_VALUE:!r&&t+1>=s?e.MAX_VALUE:r&&t>=n?e.dH:t<0?e.dp(-t,r).Rp():new e(t%i|0,t/i|0,r)},e.Ay=function(t,r,i){return new e(t,r,i)},e.gp=function(t,r,i){if(0===t.length)throw Error("number format error: empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return e.ZERO;if("number"==typeof r&&(i=r,r=!1),(i=i||10)<2||36<i)throw Error("radix out of range: "+i);var n;if((n=t.indexOf("-"))>0)throw Error('number format error: interior "-" character: '+t);if(0===n)return e.gp(t.substring(1),r,i).Rp();for(var s=e.dp(Math.pow(i,8)),o=e.ZERO,a=0;a<t.length;a+=8){var h=Math.min(8,t.length-a),c=parseInt(t.substring(a,a+h),i);if(h<8){var u=e.dp(Math.pow(i,h));o=o.multiply(u).add(e.dp(c))}else o=o.multiply(s),o=o.add(e.dp(c))}return o.Cb=r,o},e.gH=function(t){return t instanceof e?t:"number"==typeof t?e.dp(t):"string"==typeof t?e.gp(t):new e(t.low,t.high,t.Cb)};var i=4294967296,n=i*i,s=n/2,o=e.mp(1<<24);return e.ZERO=e.mp(0),e.vH=e.mp(0,!0),e.ONE=e.mp(1),e.yH=e.mp(1,!0),e.mH=e.mp(-1),e.MAX_VALUE=e.Ay(-1,2147483647,!1),e.dH=e.Ay(-1,-1,!0),e.MIN_VALUE=e.Ay(0,-2147483648,!1),e.prototype.bb=function(){return this.Cb?this.low>>>0:this.low},e.prototype.EH=function(){return this.Cb?(this.high>>>0)*i+(this.low>>>0):this.high*i+(this.low>>>0)},e.prototype.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix out of range: "+t);if(this.TH())return"0";var r;if(this.IH()){if(this.ae(e.MIN_VALUE)){var i=e.dp(t),n=this.wH(i);return r=n.multiply(i).SH(this),n.toString(t)+r.bb().toString(t)}return"-"+this.Rp().toString(t)}var s=e.dp(Math.pow(t,6),this.Cb);r=this;for(var o="";;){var a=r.wH(s),h=r.SH(a.multiply(s)).bb()>>>0,c=h.toString(t);if(r=a,r.TH())return c+o;for(;c.length<6;)c="0"+c;o=""+c+o}},e.prototype.RH=function(){return this.high},e.prototype.bH=function(){return this.high>>>0},e.prototype.PH=function(){return this.low},e.prototype.AH=function(){return this.low>>>0},e.prototype.CH=function(){if(this.IH())return this.ae(e.MIN_VALUE)?64:this.Rp().CH();for(var t=0!=this.high?this.high:this.low,r=31;r>0&&0==(t&1<<r);r--);return 0!=this.high?r+33:r+1},e.prototype.TH=function(){return 0===this.high&&0===this.low},e.prototype.IH=function(){return!this.Cb&&this.high<0},e.prototype.kH=function(){return this.Cb||this.high>=0},e.prototype.OH=function(){return 1==(1&this.low)},e.prototype.Wp=function(){return 0==(1&this.low)},e.prototype.ae=function(t){return e.fH(t)||(t=e.gH(t)),(this.Cb===t.Cb||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},e._H=e.prototype.ae,e.prototype.NH=function(e){return!this.ae(e)},e.DH=e.prototype.NH,e.prototype.FH=function(e){return this.mo(e)<0},e.prototype.LH=e.prototype.FH,e.prototype.MH=function(e){return this.mo(e)<=0},e.prototype.BH=e.prototype.MH,e.prototype.UH=function(e){return this.mo(e)>0},e.prototype.xH=e.prototype.UH,e.prototype.HH=function(e){return this.mo(e)>=0},e.prototype.qH=e.prototype.HH,e.prototype.mo=function(t){if(e.fH(t)||(t=e.gH(t)),this.ae(t))return 0;var r=this.IH(),i=t.IH();return r&&!i?-1:!r&&i?1:this.Cb?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.SH(t).IH()?-1:1},e.prototype.Rp=function(){return!this.Cb&&this.ae(e.MIN_VALUE)?e.MIN_VALUE:this.VH().add(e.ONE)},e.prototype.jH=e.prototype.Rp,e.prototype.add=function(t){e.fH(t)||(t=e.gH(t));var r=this.high>>>16,i=65535&this.high,n=this.low>>>16,s=65535&this.low,o=t.high>>>16,a=65535&t.high,h=t.low>>>16,c=65535&t.low,u=0,l=0,p=0,f=0;return f+=s+c,p+=f>>>16,f&=65535,p+=n+h,l+=p>>>16,p&=65535,l+=i+a,u+=l>>>16,l&=65535,u+=r+o,u&=65535,e.Ay(p<<16|f,u<<16|l,this.Cb)},e.prototype.SH=function(t){return e.fH(t)||(t=e.gH(t)),this.add(t.Rp())},e.prototype.sub=e.prototype.SH,e.prototype.multiply=function(t){if(this.TH())return e.ZERO;if(e.fH(t)||(t=e.gH(t)),t.TH())return e.ZERO;if(this.ae(e.MIN_VALUE))return t.OH()?e.MIN_VALUE:e.ZERO;if(t.ae(e.MIN_VALUE))return this.OH()?e.MIN_VALUE:e.ZERO;if(this.IH())return t.IH()?this.Rp().multiply(t.Rp()):this.Rp().multiply(t).Rp();if(t.IH())return this.multiply(t.Rp()).Rp();if(this.FH(o)&&t.FH(o))return e.dp(this.EH()*t.EH(),this.Cb);var r=this.high>>>16,i=65535&this.high,n=this.low>>>16,s=65535&this.low,a=t.high>>>16,h=65535&t.high,c=t.low>>>16,u=65535&t.low,l=0,p=0,f=0,d=0;return d+=s*u,f+=d>>>16,d&=65535,f+=n*u,p+=f>>>16,f&=65535,f+=s*c,p+=f>>>16,f&=65535,p+=i*u,l+=p>>>16,p&=65535,p+=n*c,l+=p>>>16,p&=65535,p+=s*h,l+=p>>>16,p&=65535,l+=r*u+i*c+n*h+s*a,l&=65535,e.Ay(f<<16|d,l<<16|p,this.Cb)},e.prototype.GH=e.prototype.multiply,e.prototype.wH=function(t){if(e.fH(t)||(t=e.gH(t)),t.TH())throw new Error("division by zero");if(this.TH())return this.Cb?e.vH:e.ZERO;var r,i,n;if(this.ae(e.MIN_VALUE)){if(t.ae(e.ONE)||t.ae(e.mH))return e.MIN_VALUE;if(t.ae(e.MIN_VALUE))return e.ONE;return r=this._b(1).wH(t).shiftLeft(1),r.ae(e.ZERO)?t.IH()?e.ONE:e.mH:(i=this.SH(t.multiply(r)),n=r.add(i.wH(t)))}if(t.ae(e.MIN_VALUE))return this.Cb?e.vH:e.ZERO;if(this.IH())return t.IH()?this.Rp().wH(t.Rp()):this.Rp().wH(t).Rp();if(t.IH())return this.wH(t.Rp()).Rp();for(n=e.ZERO,i=this;i.HH(t);){r=Math.max(1,Math.floor(i.EH()/t.EH()));for(var s=Math.ceil(Math.log(r)/Math.LN2),o=s<=48?1:Math.pow(2,s-48),a=e.dp(r),h=a.multiply(t);h.IH()||h.UH(i);)r-=o,a=e.dp(r,this.Cb),h=a.multiply(t);a.TH()&&(a=e.ONE),n=n.add(a),i=i.SH(h)}return n},e.prototype.QH=e.prototype.wH,e.prototype.KH=function(t){return e.fH(t)||(t=e.gH(t)),this.SH(this.wH(t).multiply(t))},e.prototype.Bp=e.prototype.KH,e.prototype.VH=function(){return e.Ay(~this.low,~this.high,this.Cb)},e.prototype.Db=function(t){return e.fH(t)||(t=e.gH(t)),e.Ay(this.low&t.low,this.high&t.high,this.Cb)},e.prototype.YH=function(t){return e.fH(t)||(t=e.gH(t)),e.Ay(this.low|t.low,this.high|t.high,this.Cb)},e.prototype.zd=function(t){return e.fH(t)||(t=e.gH(t)),e.Ay(this.low^t.low,this.high^t.high,this.Cb)},e.prototype.shiftLeft=function(t){return e.fH(t)&&(t=t.bb()),0==(t&=63)?this:t<32?e.Ay(this.low<<t,this.high<<t|this.low>>>32-t,this.Cb):e.Ay(0,this.low<<t-32,this.Cb)},e.prototype.zH=e.prototype.shiftLeft,e.prototype._b=function(t){return e.fH(t)&&(t=t.bb()),0==(t&=63)?this:t<32?e.Ay(this.low>>>t|this.high<<32-t,this.high>>t,this.Cb):e.Ay(this.high>>t-32,this.high>=0?0:-1,this.Cb)},e.prototype.JH=e.prototype._b,e.prototype.Pb=function(t){if(e.fH(t)&&(t=t.bb()),0===(t&=63))return this;var r=this.high;if(t<32){var i=this.low;return e.Ay(i>>>t|r<<32-t,r>>>t,this.Cb)}return 32===t?e.Ay(r,0,this.Cb):e.Ay(r>>>t-32,0,this.Cb)},e.prototype.WH=e.prototype.Pb,e.prototype.kb=function(){return this.Cb?new e(this.low,this.high,!1):this},e.prototype.Ob=function(){return this.Cb?this:new e(this.low,this.high,!0)},e})},function(e,t,r){var i,n,s;/**
 * @license Long.js (c) 2013 Daniel Wirtz <dcode@dcode.io>
 * Released under the Apache License, Version 2.0
 * see: https://github.com/dcodeIO/Long.js for details
 */
!function(r,o){n=[],i=o,void 0!==(s="function"==typeof i?i.apply(t,n):i)&&(e.t=s)}(0,function(){"use strict";function e(e,t,r){this.low=0|e,this.high=0|t,this.Cb=!!r}e.pH,Object.defineProperty(e.prototype,"__isLong__",{value:!0,l:!1,u:!1}),e.fH=function(e){return!0===(e&&e.pH)};var t={},r={};e.mp=function(i,n){var s,o;return n?0<=(i>>>=0)&&i<256&&(o=r[i])?o:(s=new e(i,(0|i)<0?-1:0,!0),0<=i&&i<256&&(r[i]=s),s):-128<=(i|=0)&&i<128&&(o=t[i])?o:(s=new e(i,i<0?-1:0,!1),-128<=i&&i<128&&(t[i]=s),s)},e.dp=function(t,r){return r=!!r,isNaN(t)||!isFinite(t)?e.ZERO:!r&&t<=-s?e.MIN_VALUE:!r&&t+1>=s?e.MAX_VALUE:r&&t>=n?e.dH:t<0?e.dp(-t,r).Rp():new e(t%i|0,t/i|0,r)},e.Ay=function(t,r,i){return new e(t,r,i)},e.gp=function(t,r,i){if(0===t.length)throw Error("number format error: empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return e.ZERO;if("number"==typeof r&&(i=r,r=!1),(i=i||10)<2||36<i)throw Error("radix out of range: "+i);var n;if((n=t.indexOf("-"))>0)throw Error('number format error: interior "-" character: '+t);if(0===n)return e.gp(t.substring(1),r,i).Rp();for(var s=e.dp(Math.pow(i,8)),o=e.ZERO,a=0;a<t.length;a+=8){var h=Math.min(8,t.length-a),c=parseInt(t.substring(a,a+h),i);if(h<8){var u=e.dp(Math.pow(i,h));o=o.multiply(u).add(e.dp(c))}else o=o.multiply(s),o=o.add(e.dp(c))}return o.Cb=r,o},e.gH=function(t){return t instanceof e?t:"number"==typeof t?e.dp(t):"string"==typeof t?e.gp(t):new e(t.low,t.high,t.Cb)};var i=4294967296,n=i*i,s=n/2,o=e.mp(1<<24);return e.ZERO=e.mp(0),e.vH=e.mp(0,!0),e.ONE=e.mp(1),e.yH=e.mp(1,!0),e.mH=e.mp(-1),e.MAX_VALUE=e.Ay(-1,2147483647,!1),e.dH=e.Ay(-1,-1,!0),e.MIN_VALUE=e.Ay(0,-2147483648,!1),e.prototype.bb=function(){return this.Cb?this.low>>>0:this.low},e.prototype.EH=function(){return this.Cb?(this.high>>>0)*i+(this.low>>>0):this.high*i+(this.low>>>0)},e.prototype.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix out of range: "+t);if(this.TH())return"0";var r;if(this.IH()){if(this.ae(e.MIN_VALUE)){var i=e.dp(t),n=this.wH(i);return r=n.multiply(i).SH(this),n.toString(t)+r.bb().toString(t)}return"-"+this.Rp().toString(t)}var s=e.dp(Math.pow(t,6),this.Cb);r=this;for(var o="";;){var a=r.wH(s),h=r.SH(a.multiply(s)).bb()>>>0,c=h.toString(t);if(r=a,r.TH())return c+o;for(;c.length<6;)c="0"+c;o=""+c+o}},e.prototype.RH=function(){return this.high},e.prototype.bH=function(){return this.high>>>0},e.prototype.PH=function(){return this.low},e.prototype.AH=function(){return this.low>>>0},e.prototype.CH=function(){if(this.IH())return this.ae(e.MIN_VALUE)?64:this.Rp().CH();for(var t=0!=this.high?this.high:this.low,r=31;r>0&&0==(t&1<<r);r--);return 0!=this.high?r+33:r+1},e.prototype.TH=function(){return 0===this.high&&0===this.low},e.prototype.IH=function(){return!this.Cb&&this.high<0},e.prototype.kH=function(){return this.Cb||this.high>=0},e.prototype.OH=function(){return 1==(1&this.low)},e.prototype.Wp=function(){return 0==(1&this.low)},e.prototype.ae=function(t){return e.fH(t)||(t=e.gH(t)),(this.Cb===t.Cb||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},e._H=e.prototype.ae,e.prototype.NH=function(e){return!this.ae(e)},e.DH=e.prototype.NH,e.prototype.FH=function(e){return this.mo(e)<0},e.prototype.LH=e.prototype.FH,e.prototype.MH=function(e){return this.mo(e)<=0},e.prototype.BH=e.prototype.MH,e.prototype.UH=function(e){return this.mo(e)>0},e.prototype.xH=e.prototype.UH,e.prototype.HH=function(e){return this.mo(e)>=0},e.prototype.qH=e.prototype.HH,e.prototype.mo=function(t){if(e.fH(t)||(t=e.gH(t)),this.ae(t))return 0;var r=this.IH(),i=t.IH();return r&&!i?-1:!r&&i?1:this.Cb?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.SH(t).IH()?-1:1},e.prototype.Rp=function(){return!this.Cb&&this.ae(e.MIN_VALUE)?e.MIN_VALUE:this.VH().add(e.ONE)},e.prototype.jH=e.prototype.Rp,e.prototype.add=function(t){e.fH(t)||(t=e.gH(t));var r=this.high>>>16,i=65535&this.high,n=this.low>>>16,s=65535&this.low,o=t.high>>>16,a=65535&t.high,h=t.low>>>16,c=65535&t.low,u=0,l=0,p=0,f=0;return f+=s+c,p+=f>>>16,f&=65535,p+=n+h,l+=p>>>16,p&=65535,l+=i+a,u+=l>>>16,l&=65535,u+=r+o,u&=65535,e.Ay(p<<16|f,u<<16|l,this.Cb)},e.prototype.SH=function(t){return e.fH(t)||(t=e.gH(t)),this.add(t.Rp())},e.prototype.sub=e.prototype.SH,e.prototype.multiply=function(t){if(this.TH())return e.ZERO;if(e.fH(t)||(t=e.gH(t)),t.TH())return e.ZERO;if(this.ae(e.MIN_VALUE))return t.OH()?e.MIN_VALUE:e.ZERO;if(t.ae(e.MIN_VALUE))return this.OH()?e.MIN_VALUE:e.ZERO;if(this.IH())return t.IH()?this.Rp().multiply(t.Rp()):this.Rp().multiply(t).Rp();if(t.IH())return this.multiply(t.Rp()).Rp();if(this.FH(o)&&t.FH(o))return e.dp(this.EH()*t.EH(),this.Cb);var r=this.high>>>16,i=65535&this.high,n=this.low>>>16,s=65535&this.low,a=t.high>>>16,h=65535&t.high,c=t.low>>>16,u=65535&t.low,l=0,p=0,f=0,d=0;return d+=s*u,f+=d>>>16,d&=65535,f+=n*u,p+=f>>>16,f&=65535,f+=s*c,p+=f>>>16,f&=65535,p+=i*u,l+=p>>>16,p&=65535,p+=n*c,l+=p>>>16,p&=65535,p+=s*h,l+=p>>>16,p&=65535,l+=r*u+i*c+n*h+s*a,l&=65535,e.Ay(f<<16|d,l<<16|p,this.Cb)},e.prototype.GH=e.prototype.multiply,e.prototype.wH=function(t){if(e.fH(t)||(t=e.gH(t)),t.TH())throw new Error("division by zero");if(this.TH())return this.Cb?e.vH:e.ZERO;var r,i,n;if(this.ae(e.MIN_VALUE)){if(t.ae(e.ONE)||t.ae(e.mH))return e.MIN_VALUE;if(t.ae(e.MIN_VALUE))return e.ONE;return r=this._b(1).wH(t).shiftLeft(1),r.ae(e.ZERO)?t.IH()?e.ONE:e.mH:(i=this.SH(t.multiply(r)),n=r.add(i.wH(t)))}if(t.ae(e.MIN_VALUE))return this.Cb?e.vH:e.ZERO;if(this.IH())return t.IH()?this.Rp().wH(t.Rp()):this.Rp().wH(t).Rp();if(t.IH())return this.wH(t.Rp()).Rp();for(n=e.ZERO,i=this;i.HH(t);){r=Math.max(1,Math.floor(i.EH()/t.EH()));for(var s=Math.ceil(Math.log(r)/Math.LN2),o=s<=48?1:Math.pow(2,s-48),a=e.dp(r),h=a.multiply(t);h.IH()||h.UH(i);)r-=o,a=e.dp(r,this.Cb),h=a.multiply(t);a.TH()&&(a=e.ONE),n=n.add(a),i=i.SH(h)}return n},e.prototype.QH=e.prototype.wH,e.prototype.KH=function(t){return e.fH(t)||(t=e.gH(t)),this.SH(this.wH(t).multiply(t))},e.prototype.Bp=e.prototype.KH,e.prototype.VH=function(){return e.Ay(~this.low,~this.high,this.Cb)},e.prototype.Db=function(t){return e.fH(t)||(t=e.gH(t)),e.Ay(this.low&t.low,this.high&t.high,this.Cb)},e.prototype.YH=function(t){return e.fH(t)||(t=e.gH(t)),e.Ay(this.low|t.low,this.high|t.high,this.Cb)},e.prototype.zd=function(t){return e.fH(t)||(t=e.gH(t)),e.Ay(this.low^t.low,this.high^t.high,this.Cb)},e.prototype.shiftLeft=function(t){return e.fH(t)&&(t=t.bb()),0==(t&=63)?this:t<32?e.Ay(this.low<<t,this.high<<t|this.low>>>32-t,this.Cb):e.Ay(0,this.low<<t-32,this.Cb)},e.prototype.zH=e.prototype.shiftLeft,e.prototype._b=function(t){return e.fH(t)&&(t=t.bb()),0==(t&=63)?this:t<32?e.Ay(this.low>>>t|this.high<<32-t,this.high>>t,this.Cb):e.Ay(this.high>>t-32,this.high>=0?0:-1,this.Cb)},e.prototype.JH=e.prototype._b,e.prototype.Pb=function(t){if(e.fH(t)&&(t=t.bb()),0===(t&=63))return this;var r=this.high;if(t<32){var i=this.low;return e.Ay(i>>>t|r<<32-t,r>>>t,this.Cb)}return 32===t?e.Ay(r,0,this.Cb):e.Ay(r>>>t-32,0,this.Cb)},e.prototype.WH=e.prototype.Pb,e.prototype.kb=function(){return this.Cb?new e(this.low,this.high,!1):this},e.prototype.Ob=function(){return this.Cb?this:new e(this.low,this.high,!0)},e})},function(e,t,r){"use strict";var i,n=this&&this.Ns||function(e,t){function r(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},s=r(2),o=r(1),a=r(0),h=r(163),c=r(3),u=r(23),l=r(11),p=r(164),f=r(15),d=hive.DN.protocol.FN.qN,g=r(5),v=r(4),y=g.Rt.Ci;!function(e){e[e.XH=1]="ACCEPT",e[e.ZH=2]="REJECT"}(i=t.$H||(t.$H={}));var m;!function(e){e[e.nx=0]="ALL",e[e.eq=1]="IN",e[e.tq=2]="OUT"}(m=t.rq||(t.rq={}));var E=function(e){function t(){var t=e.call(this)||this;return t.iq=new o,t.lx=new o,t.nq=-1,t.sq=-1,t.oq=-1,t.connected=!1,t.Hl=a.Framework.resolve(a.Framework.q.F),t.aq=a.Framework.resolve(f.Pa.$o),t.hq=a.Framework.resolve(f.Pa.ea),t.cq=a.Framework.resolve(f.Pa.ta),t.uq=a.Framework.resolve(f.Pa.ra),t}return n(t,e),t.prototype.init=function(t){e.prototype.init.call(this,t),this.vx=t,this.ticket=t.Cn.ticket,this.yx=t.yx,this.RC=t.RC,this.lq=t.lq},t.prototype.start=function(e){try{this.te.info(this.mn+"PARTNERSHIP STARTED "+e.K_()),this.context=e,this.fR=e.K_(),this.pq(c.ni.Ot.At),this.fq(c.ni.dr.or),this.dq(c.ni.Ut.Nt),this.active=!0}catch(e){v.ErrorMonitor.gi().di("START PARTNERSHIP ERROR",this.mn,e)}},t.prototype.stop=function(){return a.Framework.clearInterval(this.nq),a.Framework.clearInterval(this.sq),a.Framework.clearInterval(this.oq),this.context=null,this.fR=null,this.active=!1,this.gq()},t.prototype.Zh=function(e){this.te.info("PARTNERSHIP SERVER CONNECTED"),this.Eh=e,this.connected=!0,null==this.wC.W()&&this.wC.vq(this.Eh)},t.prototype.yq=function(){this.connected=!1},t.prototype.mq=function(e){try{this.Eq(e)||this.iq.has(e.Tk.guid)||this.lx.has(e.Tk.guid)||e.Tk.guid==this.Eh?this.Tq(e):this.Iq(e),this.wq(e)&&this.Sq(e)}catch(e){v.ErrorMonitor.gi().di("DISCOVERED NEW LAN PEER ERROR",this.mn,e)}},t.prototype.Tq=function(e){if(this.Rq.has(e.Tk.guid)){var t=this.Rq.get(e.Tk.guid);this.Rq.delete(e.Tk.guid),this.iL.set(e.Tk.guid,t),this.wC.hH(!0)}},t.prototype.Sq=function(e){if(this.tL.has(e.Tk.guid)){var t=this.tL.get(e.Tk.guid);this.tL.delete(e.Tk.guid),this.rL.set(e.Tk.guid,t)}},t.prototype.pq=function(e){var t=this;-1!=this.nq&&a.Framework.clearInterval(this.nq),this.nq=a.Framework.setInterval(function(){t.bq(!1)},e)},t.prototype.bq=function(e){var t=this;e&&this.nq&&(a.Framework.clearInterval(this.nq),this.pq(c.ni.Ot.At));try{if(this.connected){this.te.debug(this.mn+"ADDING NEW PEERS IF POSSIBLE, NOW "+this.Rq.length+"/"+c.ni.Ot.Pt+","+this.iL.length+"/infinity OUT RND "+this.tL.length+" OUT LAN "+this.rL.length);var r=[].concat(this.iq.keys()).concat(this.lx.keys()),i=this.yx.Pq(!0),n=void 0;n=this.wC.fk()||this.wC.Rk()?this.cq.Aq(this.wC,c.ni.Ot.Pt,this.Rq.values(),r,i):this.aq.Aq(c.ni.Ot.Pt,this.Rq.values(),r,i),this.Cq=n.kq(),n.Oq().forEach(function(e){t.Iq(e)})}else this.te.warn(this.mn+"NOT RUNNING IN PARTNER CHOICE, SRV DISCONNECTED")}catch(e){v.ErrorMonitor.gi().di("PARTNER CHOICE ERROR",this.mn,e)}},t.prototype.Iq=function(e){var t=this;try{var r=e.Tk.guid,i=e.Tk.uo,n=e.Tk.lo;this.te.debug(this.mn+"IN PARTNER ADD PROCESS "+r),this.Eq(e)||this.iq.has(r)||this.lx.has(r)||this.lq._q(r,i,n)||(this.lx.set(r,Date.now()),this.Hl.connect(r).then(function(i){var n=i.Bl.Dl(t.vx.swarmId);null==n&&(n=i.Bl.Al(t.vx.swarmId));t.lx.get(r);t.lx.delete(r),t.active&&t.Nq(n).then(function(i){if(t.Dq(n,e,i.msg),t.Lq.Fq(!1,!1),t.lq.Mq(r,e.Tk.uo,e.Tk.lo),t.Bq(n),t.Cq.length>0&&!e.Uq()){var s=t.Cq[0];t.xq(s.guid),s.qq.Hq(m.tq),t.Cq.splice(0,1)}}).fail(function(e){t.te.debug(t.mn+"PARTNERSHIP REQ FAILED TO "+r+" BECAUSE "+e),t.Lq.Fq(!1,!0),t.Vq(r)})}).fail(function(e){t.te.debug(t.mn+"FAILED ADDING, REMOVING "+r+" BECAUSE "+e),t.Lq.Fq(!0,!0),t.lx.delete(r),t.yx.aH(r)}).done())}catch(e){v.ErrorMonitor.gi().di("IN PARTNER ADD PROCESS ERROR",this.mn,e)}},t.prototype.jq=function(e,t){var r=this;try{var n=e.guid,s=null,o=null;if(e.uo&&(o=e.uo),e.lo&&(s=e.lo),this.Gq(n))this.te.info(this.mn+"ALREADY OUT PARTNER "+n);else{var u=e.fR,l=t.Bl.Dl(this.vx.swarmId);if(this.fR!==u||c.ni.Ut._t!==e.Qq||this.lq._q(n,o,s))this.te.info(this.mn+"PARTNERSHIP CANNOT BE ESTABLISHED WITH "+n+" CONTEXT ID "+u+" protocol version "+e.Qq),this.Kq(l,i.ZH);else{var p=this.Yq(e);this.yx.Ax([p],!1);var f=this.yx.zq(n),d=f.Uq()||this.tL.length<c.ni.Ot.kt;if(!d){this.te.debug(this.mn+" got out part req from "+n+" - reached max "+this.tL.length+"/"+c.ni.Ot.kt);var g=void 0;g=this.wC.fk()||this.wC.Rk()?this.uq.Jq(this.wC,p,this.tL.values()):this.hq.Jq(this.tL.values()),g&&(this.te.debug(this.mn+" chocking "+g.guid),this.tL.delete(g.guid),g.qq.Hq(m.eq),d=!0)}if(d){var y=new h.Partner(n,this.Lq,l,this.te,!1,f);e.Wq&&y.Xq(e.Wq),this.yx.Zq.has(n)?this.rL.set(n,y):this.tL.set(n,y),this.te.info(this.mn+"ADDED OUT PART "+n),this.Kq(l,i.XH),this.lq.Mq(n,o,s),a.Framework.setTimeout(function(){r.$q(n)},500),this.Lq.eV()}else this.te.info(this.mn+" cannot establish partnership to "+n+" - reached max "+this.tL.length+"/"+c.ni.Ot.kt),this.Kq(l,i.ZH)}}}catch(e){v.ErrorMonitor.gi().di("OUT PART REQUEST RECEIVED ERROR",this.mn,e)}},t.prototype.Yq=function(e){var t=new d;t.guid=e.guid,e.internalAs&&(t.internalAs=e.internalAs),e.externalAs&&(t.externalAs=e.externalAs),e.lo&&(t.lo=e.lo),e.uo&&(t.uo=e.uo);var r=!1,i=this.yx.zq(e.guid);if(i&&(r=i.Tk.so),e.tV){var n=[];e.tV.forEach(function(e){var t=new l.no;t.state=e.YN,t.bitrate=e.bitrate,t.delta=e.delta,n.push(t)}),t.ho=n}return new l.po(l.Zs.Xs,t,r)},t.prototype.Kq=function(e,t){var r=this;this.te.debug(this.mn+"SEND PART RESPONSE TO "+e._l);var n=new u.mu.Mr.np.rV;if(n.accept=t,n.accept===i.XH){this.wC.Ek()&&(n.internalAs=this.wC.Ek()),this.wC.iV()&&(n.externalAs=this.wC.iV()),this.wC.Kh()&&(n.lo=this.wC.Kh()),this.wC.Cs()&&(n.uo=this.wC.Cs()),n.Wq=this.wC.nV();var s=this.wC.sV(),o=[];s.forEach(function(e,t){var i=new u.mu.Mr.np.oV;i.bitrate=t,i.YN=e.type,i.delta=null!=r.wC.aV()?r.wC.aV():-1,o.push(i)}),o.length>0&&n.hV(o)}e.jl(u.mu.Rl.dl,n)},t.prototype.cV=function(e){this.te.warn(this.mn+e)},t.prototype.Dq=function(e,t,r){var i=e._l;if(r.externalAs&&(t.Tk.externalAs=r.externalAs),r.internalAs&&(t.Tk.internalAs=r.internalAs),r.lo&&(t.Tk.lo=r.lo),r.uo&&(t.Tk.uo=r.uo),r.tV){var n=[];r.tV.forEach(function(e){var t=new l.no;t.state=e.YN,t.bitrate=e.bitrate,t.delta=e.delta,n.push(t)}),t.Tk.ho=n}var s=new h.Partner(i,this.Lq,e,this.te,!0,t);return r.Wq&&(s.Wq=r.Wq,e.receiver.uV(r.Wq),e.sender.uV(r.Wq)),t.Tk.type==l.Zs.K?(this.iL.set(i,s),this.wC.lV(!0),this.wC.hH(!0)):(0!=this.wC.Ek()&&this.wC.Ek()===t.Tk.internalAs&&this.wC.lV(!0),this.Rq.set(i,s)),this.te.debug(this.mn+i+" IS NOW IN PARTNER"),s},t.prototype.aH=function(e){this.te.info(this.mn+"GOT PEER DISC "+e),this.pV(e)&&(this.te.info(this.mn+"IN PRT DISC "+e),this.xq(e)),this.Gq(e)&&(this.te.info(this.mn+"OUT PRT DISC "+e),this.tL.delete(e),this.rL.delete(e))},t.prototype.xq=function(e){var t=this;this.te.debug(this.mn+"IN PARTNER REMOVE "+e);var r=this.fV(e);if(this.EC.dV(r),this.Rq.delete(e),this.iL.delete(e),this.iL.length>0)this.wC.lV(!0);else if(0!=this.wC.Ek()){var i=!1;this.Rq.forEach(function(e){t.wC.Ek()===e.Ik.Tk.internalAs&&(i=!0)}),this.wC.lV(i)}else this.wC.lV(!1)},t.prototype.gV=function(e,t){this.te.debug(this.mn+"CLOSE RECEIVED FROM "+e+" TYPE "+m[t.EN()]),t.EN()!=m.nx&&t.EN()!=m.tq||(this.tL.has(e)&&this.tL.delete(e),this.rL.has(e)&&this.rL.delete(e)),t.EN()!=m.nx&&t.EN()!=m.eq||this.xq(e)},t.prototype.Nq=function(e){var t=this,r=s.defer();try{var i=new u.mu.Mr.np.vV;i.guid=this.Eh,i.fR=this.fR,i.Qq=c.ni.Ut._t,i.Wq=this.wC.nV(),this.wC.Ek()&&(i.internalAs=this.wC.Ek()),this.wC.iV()&&(i.externalAs=this.wC.iV()),this.wC.Cs()&&(i.uo=this.wC.Cs()),this.wC.Kh()&&(i.lo=this.wC.Kh());var n=this.wC.sV(),o=[];n.forEach(function(e,r){var i=new u.mu.Mr.np.oV;i.bitrate=r,i.YN=e.type,i.delta=null!=t.wC.aV()?t.wC.aV():-1,o.push(i)}),o.length>0&&i.hV(o),this.te.debug(this.mn+"SEND PART REQ TO "+e._l+" WITH ID "+i.fR+" internalAS "+i.internalAs+" externalAs "+i.externalAs+" private ip "+i.uo+" public ip "+i.lo+" rGuid "+this.wC.nV());var h=a.Framework.setTimeout(function(){t.yV(r,e._l)},c.ni.Ot.bt);this.iq.set(e._l,{Fx:h,defer:r}),e.jl(u.mu.Rl.fl,i)}catch(e){r.reject(e)}return r.Te},t.prototype.mV=function(e,t){var r=t._l,n=this.iq.get(r);n?(a.Framework.clearTimeout(n.Fx),this.iq.delete(r),e.accept===i.XH?n.defer.resolve({Pl:t,msg:e}):n.defer.reject("NOT ACCEPTED")):this.te.warn(this.mn+"OUT PART FROM UNKNOWN PEER "+r)},t.prototype.yV=function(e,t){if(this.iq.has(t)){this.te.debug(this.mn+"PART REQ EXPIRED TO "+t);var r=this.iq.get(t);this.iq.delete(t),r.defer.reject("EXPIRED")}},t.prototype.gq=function(){var e=s.defer(),t=this.Rq.values();this.iL.forEach(function(e,r){t.push(e)});var r=t.slice().map(function(e){return e.qq.close()});return s.all(r).then(function(t){e.resolve("resolved")}).fail(function(t){e.reject("could not close")}),e.Te},t.prototype.Vq=function(e){this.Hl.disconnect(e)},t.prototype.fq=function(e){var t=this;-1!=this.sq&&a.Framework.clearInterval(this.sq),this.sq=a.Framework.setInterval(function(){t.EV()},e)},t.prototype.EV=function(){if(this.wC.Sk()&&!this.wC.fk()&&y){var e=this.wC.kk(),t=this.context._C().bitrate;if(t&&this.pV(e.Ck)){var r=this.fV(e.Ck);this.TV(r.qq,t)}}},t.prototype.TV=function(e,t){var r=new u.mu.Mr.np.El;r.guid=this.Eh,r.bitrate=t,this.te.debug(this.mn+"ANNOUNCE BITRATE "+r.bitrate+" TO PEER GUID "+e._l),e.jl(u.mu.Rl.El,r)},t.prototype.IV=function(e){try{this.te.debug(this.mn+"RECEIVED BITRATE "+e.bitrate+" FROM PEER GUID "+e.guid),this.yx.Zq.has(e.wV())&&(this.yx.Zq.get(e.guid).SV(e.bitrate),this.RC.RV())}catch(e){v.ErrorMonitor.gi().di("Error handling receiving bitrate info",this.mn,e)}},t.prototype.bV=function(e){var t=e.guid,r=this.fV(t);r&&this.PV(r,e),r=this.AV(t),r&&this.PV(r,e),this.lq.Mq(t,e.uo,e.lo)},t.prototype.PV=function(e,t){var r=e.Ik.Tk;if(t.uo&&(r.uo=t.uo),t.lo&&(r.lo=t.lo),t.externalAs&&(r.externalAs=t.externalAs),t.internalAs&&(r.internalAs=t.internalAs),t.tV){var i=[];t.tV.forEach(function(e){var t=new l.no;t.bitrate=e.bitrate,t.delta=e.delta,t.state=e.YN,i.push(t)}),r.ho=i}},t.prototype.dq=function(e){var t=this;this.oq&&a.Framework.clearInterval(this.oq),this.oq=a.Framework.setInterval(function(){t.CV()},e)},t.prototype.CV=function(){var e=this;if(this.wC.Cs()||this.wC.Kh()||this.wC.Ek()||this.wC.iV()){var t=this.kV(),r=new u.mu.Mr.np.OV;r.guid=this.wC.W(),this.wC.Cs()&&(r.uo=this.wC.Cs()),this.wC.Kh()&&(r.lo=this.wC.Kh()),this.wC.iV()&&(r.externalAs=this.wC.iV()),this.wC.Ek()&&(r.internalAs=this.wC.Ek());var i=this.wC.sV(),n=[];i.forEach(function(t,r){var i=new u.mu.Mr.np.oV;i.bitrate=r,i.YN=t.type,i.delta=null!=e.wC.aV()?e.wC.aV():-1,n.push(i)}),n.length>0&&r.hV(n),t.forEach(function(e,t){e.qq.jl(u.mu.Rl.hh,r)})}},t.prototype.kV=function(){var e=new o;return this.tL.forEach(function(t,r){e.has(r)||e.set(r,t)}),this.rL.forEach(function(t,r){e.has(r)||e.set(r,t)}),this.iL.forEach(function(t,r){e.has(r)||e.set(r,t)}),this.Rq.forEach(function(t,r){e.has(r)||e.set(r,t)}),e},t}(p._V);t.NV=E},function(e,t,r){"use strict";var i=function(){function e(){}return e}();i.DV=!0,i.FV=3e4,i.LV=6e4,i.MV=3e4,t.BV=i;var n=function(){function e(){}return e}();n.Xr="site",n.Zr="externalAs",n.$r="availableSendRate",n.ei="remoteAddress",n.ti="localAddress",t.UV=n},function(e,t,r){"use strict";var i=function(){function e(e,t){this.xV=e,this.HV=t}return e.prototype.kq=function(){return this.HV},e.prototype.Oq=function(){return this.xV},e}();t.qV=i},function(e,t,r){"use strict";var i=function(){function e(){}return e.VV=function(e,t){var r=e.GV.jV(!1),i=t.GV.jV(!1);return r>i?1:r<i?0:-1},e}();t.QV=i;var n=function(){function e(){}return e.VV=function(e,t){var r=e.KV.jV(!1),i=t.KV.jV(!1);return r>i?1:r<i?0:-1},e}();t.YV=n},function(e,t,r){"use strict";var i=this&&this.Ns||function(e,t){function r(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=r(97),s=r(7),o=r(18),a=r(2),h=r(5),c=h.Rt.Fi;-1==c&&(c=3e4);var u=function(e){function t(t,r){var i=e.call(this,r)||this;return i.pluginName="bitmovin",i.zV=!1,i.JV=void 0,i.player=t,i.player.initSession=function(e){return i.WV(),i.XV(e).timeout(c,i.mn+" Hive Plugin initialization timeout").then(function(e){return i.ZV(),e.Dn()}).catch(function(e){return i.$V(),i.WV(),i.te().debug(i.mn+" error occurred resolving the ticket - "+(e.stack||e.message||e)),a.reject(e)})},i.te().notice(i.mn+"registered plugin [name:"+i.ej()+"][id: "+i.tj()+"][version: "+i.rj()+"]"),i}return i(t,e),t.prototype.ZV=function(){var e=this;this.zV||(this.player.addEventHandler("onReady",function(){if(e.te().debug("bitmovin.player.EVENT.ON_READY"),e.eF()){!!e.player.getConfig().ij&&e.player.getConfig().ij.nj&&e.sj(!1),e.oj()&&(e.aj=new s.ns)}}),this.player.addEventHandler("onPlay",function(){e.te().debug("bitmovin.player.EVENT.ON_PLAY"),e.hj(o.kc.$a.Qa)}),this.player.addEventHandler("onError",function(t){e.te().debug("bitmovin.player.EVENT.ON_ERROR");var r=-1,i=null;if(null!=t)try{r=t.code,i=JSON.stringify(t,null)}catch(e){i=t}e.onError(r,i)}),this.player.addEventHandler("onPlaybackFinished",function(){e.te().debug("bitmovin.player.EVENT.ON_PLAYBACK_FINISHED"),e.cj(o.kc.$a.Ja,{code:1})}),this.player.addEventHandler("onSeek",function(){e.te().debug("bitmovin.player.EVENT.ON_SEEK"),e.cj(o.kc.$a.za)}),this.player.addEventHandler("onFullscreenEnter",function(){e.te().debug("bitmovin.player.EVENT.ON_FULLSCREEN_ENTER"),e.cj(o.kc.$a.Xa,{value:!0})}),this.player.addEventHandler("onFullscreenExit",function(){e.te().debug("bitmovin.player.EVENT.ON_FULLSCREEN_EXIT"),e.cj(o.kc.$a.Xa,{value:!1})}),this.player.addEventHandler("onSegmentRequestFinished",function(t){var r=t.mimeType.indexOf("video")>=0;if(void 0===e.uj){var i=e.player.getPlaybackVideoData();i&&i.bitrate&&e.lj(i.bitrate)}if(t.success){if(!t.isInit&&e.uj){var n=8*t.size/t.downloadTime;e.aj.Kn(r,e.uj,t.size),e.aj.zn(n)}}else e.aj.Yn(r,e.uj)}),0===this.getPlayerVersion().indexOf("7")?this.pj():0===this.getPlayerVersion().indexOf("6")&&this.fj(),this.zV=!0)},t.prototype.fj=function(){var e=this;this.player.addEventHandler("onStartBuffering",function(){e.te().debug("bitmovin.player.EVENT.ON_START_BUFFERING"),e.sj()}),this.player.addEventHandler("onStopBuffering",function(){e.te().debug("bitmovin.player.EVENT.ON_STOP_BUFFERING"),e.dj()}),this.player.addEventHandler("onPause",function(){e.te().debug("bitmovin.player.EVENT.ON_PAUSE"),e.hj(o.kc.$a.Ya)}),this.player.addEventHandler("onVideoDownloadQualityChange",function(t){e.S_()===StreamProtocol.OU?e.lj(t.targetQuality):e.lj(t.targetQuality.split("br")[1])})},t.prototype.pj=function(){var e=this;this.player.addEventHandler("onStallStarted",function(){e.te().debug("bitmovin.player.EVENT.ON_STALL_STARTED"),e.sj()}),this.player.addEventHandler("onStallEnded",function(){e.te().debug("bitmovin.player.EVENT.ON_STALL_ENDED"),e.dj()}),this.player.addEventHandler("onPaused",function(){e.te().debug("bitmovin.player.EVENT.ON_PAUSED"),e.hj(o.kc.$a.Ya)}),this.player.addEventHandler("onVideoDownloadQualityChanged",function(t){e.lj(t.targetQuality&&t.targetQuality.bitrate||t.gj&&t.gj.bitrate)})},t.prototype.lj=function(e){this.te().debug("newBitrate",e),this.uj&&e>this.uj?this.aj.Jn():this.uj&&this.uj>e&&this.aj.Wn(),this.uj=e},t.prototype.hj=function(e){void 0!=this.JV&&this.JV===e||(this.cj(e),this.JV=e)},t.prototype.b_=function(){var e=this.S_();return e===StreamProtocol.OU?this.player.getConfig().source.hls:e===StreamProtocol.yB?this.player.getConfig().source.dash:void 0},t.prototype.getCurrentTime=function(){return null!=this.player?Math.round(1e3*this.player.getCurrentTime()):0},t.prototype.vj=function(){return null!=this.player&&null!=this.player.getVideoBufferLength&&this.player.getVideoBufferLength()>0?Math.max(0,Math.round(1e3*this.player.getVideoBufferLength())):0},t.prototype.yj=function(){if(this.player){var e=this.player.getFigure();return{width:e.offsetWidth,height:e.offsetHeight}}},t.prototype.isFullscreen=function(){return this.player.isFullscreen()},t.prototype.isLive=function(){return this.player.isLive()},t.prototype.ci=function(){return!0},t.prototype.S_=function(){if(this.player){var e=this.player.getStreamType();if("hls"===e)return StreamProtocol.OU;if("dash"===e)return StreamProtocol.yB}return null},t.prototype.__=function(){var e=this.aj;return this.aj=new s.ns,e},t.prototype.ej=function(){return this.pluginName},t.prototype.rj=function(){return this.mj()},t.prototype.Ej=function(){if(this.player)return this.player.getPlayerType()},t.prototype.getPlayerVersion=function(){return void 0!==bitmovin.player.version?bitmovin.player.version:this.player.getVersion()},t}(n.gn.Plugin);t.Tj=u;var l=function(e,t){new u(e,t)};bitmovin.initHiveSDN=l},function(e,t,r){"use strict";var i=r(1),n=r(2),s=r(0),o=r(102),a=r(103),h=r(26),c=r(38),u=r(7),l=r(107),p=r(18),f=r(109),d=r(9),g=r(111),v=r(53),y=r(29),m=r(4),E=r(42),T=r(49),I=r(5),w=o.gn.ou,S=a.gn.Ij,R=h.gn.Zm,b=h.gn.dE,P=h.gn.HiveTechError,A=h.gn.cE,C=h.gn.yE,k=I.Rt.wi,O=I.Rt.Ti,_=I.Rt.Ei,N=I.Rt.Ii;(_||N)&&r(8).HiveConfig,t.version=k;!function(e){var a=function(){function e(e){this.wj=[S[S.HiveJava],S[S.HiveJsProxy],S[S.HiveJS],S[S.StatsJS]],this.Sj=new i,this.Rj=new Array,this.bj=new Array,this.Pj=null,this.Aj=0,this.Cj=0,this.mn="[HiveComm] ",this.kj=0,this.Oj=u.Es.getItem("hivePluginId"),this.Oj||(this.Oj=Math.abs(Math.floor(68719476736*Math.random())).toString(16),u.Es.setItem("hivePluginId",this.Oj)),m.ErrorMonitor.gi(t.version),this.options_=new w._j,this.Nj(e),u.vs(e,this.options_),u.ys(window.location.href,new w.Dj,this.options_),o.Lj.Fj(this.options_),this.cu=s.Framework.resolve(s.Framework.q.I),c.HiveConfig.Framework.LoggerTimestamp=this.options().loggerTimestamp,this.cu.mA(this.options().debugLevel),m.ErrorMonitor.gi().mi(this.cu.log());var r=s.Framework.resolve(d.Qs.D),n=s.Framework.resolve(d.Qs.Us);r.jc().then(function(e){m.ErrorMonitor.gi().setUser(e.Kc())});var a={};new l.Mj(this),n.Vh().then(function(e){a={pIPAddr:e.Qh().Cs()},m.ErrorMonitor.gi().setCustomData(a)}),window.uu=this.cu.log(),this.Bj(),this.Uj=new C(this);var h=this.options().idleTimePeriod>this.options().feedbackPeriod?this.options().idleTimePeriod:T.N.aO;this.xj=new u.As(h)}return e.prototype.options=function(){return this.options_},e.prototype.te=function(){return this.Pj?this.cu.log(this.Pj.id):this.cu.log()},e.prototype.Hj=function(){if(this.te)return this.cu.level},e.prototype.tj=function(){return this.Oj},e.prototype.mj=function(){return t.version},e.prototype.qj=function(){for(var e=0,t=this.bj;e<t.length;e++){var r=t[e];r.tech.k_(this),"HiveJS"===r.tech.Fn()&&r.tech.Vj&&r.tech.Vj.k_(this)}},e.prototype.Nj=function(e){var t=new v.StatsJS(this,e);if(this.Sj.set(v.StatsJS.c_,t),_){var i=r(130).HiveJS;this.Sj.set(i.c_,new i(this,e,t))}if(N){var n=r(196).HiveJsProxy;this.Sj.set(n.c_,new n(this,e,t))}if(O){var s=r(198).HiveJava;this.Sj.set(s.c_,new s(this,e))}var o=e.hiveTechOrder;if(!o||o instanceof Array)if(o&&o.length>0)for(var a=o.length;a--;){var h=o[a];"string"!=typeof h||-1==this.wj.indexOf(h)?(console.warn(this.mn+'The "'+h+'" Hive tech is undefined'),o.splice(a,1)):"string"==typeof h&&this.Sj.has(h)||console.warn(this.mn+'The "'+h+'" Hive tech is not enabled on this plugin')}else o=this.wj;else console.warn(this.mn+"hiveTechOrder value not accepted. It must be an array of strings"),o=this.wj;e.hiveTechOrder=o},e.prototype.XV=function(e){var t=this;this.te().notice(this.mn+"resolving "+e);var r=n.defer();if(!e)return r.reject(u.ms("",R.Xm,"No ticket provided.")),r.Te;this.jj(e);var i=this.Gj().values();0==i.length&&r.reject(u.ms(e,R.zm));var s,o,a=!1,h=!1,c=0,l=null;return u.ls(function(){return!a&&!h&&c<i.length&&!s},function(){var r=i[c++];r.C_();var u;return u=r.u_()&&!o?t.LL(e):n.resolve(null),u.then(function(i){null!=i&&(o=i);var s=r.f_();return r.initSession(e,o).timeout(s,"["+r.Fn()+"] Error: initialization timed out after "+s+"ms").then(function(e){l=e,t.Qj(l,r),a=!0,!r.u_()&&o&&o.tc.reset(),t.te().notice(t.mn+"initializing Session:["+l.id+"] Ticket:"+l.ticket.toString()+" HiveTech:["+l.tech.Fn()+"]"),n.resolve(!0)},function(i){i instanceof Error&&(i=new P(A.hE,i.message),r.A_(i)),i.ticketUrl=e,h=!r.onError(i),t.te().debug(t.mn+"tech "+r.Fn()+": "+i.message),n.resolve(!0)})},function(e){s=e,n.resolve(!0)})}).then(function(){s?r.reject(u.ms(e,R.Xm,s)):h?r.reject(u.ms(e,R.Wm)):a?r.resolve(l):r.reject(u.ms(e,R.zm))}).catch(function(i){m.ErrorMonitor.gi().di("Error resolving ticket promise",t.mn,i),r.reject(u.ms(e,R.Ym,i.toString()))}).done(),r.Te},e.prototype.LL=function(e){var t=this;return y.Hive.Reporting().initSession(e,!1).then(function(r){return t.te().debug(t.mn+"verified ticket "+e),t.wh(r),r}).catch(function(e){return n.reject("Ticket not verified, error: "+e.message)})},e.prototype.Gj=function(){var e=JSON.parse(JSON.stringify(this.options().hiveTechOrder)),t=new i;for(var r in e)this.Sj.has(e[r])&&t.set(e[r],this.Sj.get(e[r]));return t},e.prototype.jj=function(e){var t=m.ErrorMonitor.gi();try{var r=new E.VA;r.AA(e),r.Lh()&&r.Mh()&&r.Xc()?t.setTags([r.Lh(),r.Mh(),r.Xc()]):t.di("Ticket not valid, we could not resolve the triple partnerId/CustomerId/ContentId",this.mn,{partnerId:r.Lh(),customerId:r.Mh(),contentId:r.Xc()})}catch(e){this.te().warn(this.mn+" "+e.message,e),t.notify(e)}},e.prototype.wh=function(e){var r={commVersion:t.version,pluginName:this.ej(),pluginVersion:this.rj(),playerTech:this.Ej(),playerVersion:this.getPlayerVersion(),telemetryId:this.Kj()};e.tc.wh(r)},e.prototype.$V=function(){window.HiveRequest=XMLHttpRequest,u.HiveRequestFactory.clear(),y.Hive.Reporting().close()},e.prototype.Yj=function(e){this.Pj&&this.Pj.tech?(e.sessionId=this.Pj.id,this.Pj.tech.Nh(this.Pj,e)):this.Rj.push(e)},e.prototype.P_=function(){var e=this.Rj;return this.Rj=new Array,e},e.prototype.Bj=function(){var e=this,t=window;t.addEventListener?t.addEventListener("beforeunload",function(){e.zj(!0,!1)},!1):t.attachEvent("onbeforeunload",function(){e.zj(!0,!1)})},e.prototype.closeHiveSession=function(e){this.te().debug("Manually Closing Session"+(e?" because: "+e:""));var t=this.oj();t&&u.HiveRequestFactory.Sn(t.id),this.WV(!0)},e.prototype.WV=function(e){var t=this;this.zj(e),!1===e?this.Pj&&this.bj.every(function(e){return e.id!==t.Pj.id})&&this.bj.unshift(this.Pj):this.bj.length=0,this.Jj(),this.Pj=null,this.Aj=0,this.Cj=0},e.prototype.Qj=function(e,t){e.tech=t,this.bj.push(e)},e.prototype.eF=function(e){if(null==this.Pj){for(var t=e||this.b_(),r=0;r<this.bj.length;r++){var i=this.bj[r];if(i.ci(t))return this.Pj=i,this.Pj.Cn?this.Pj.Cn.Nc.kL(this.Pj.ticket):this.Wj(),this.bj.length=0,this.Pj.tech.onActiveSession(this.Pj),this.te().notice(this.mn+"activating Session:["+this.Pj.id+"] Ticket:"+this.Pj.ticket.toString()+" HiveTech:["+this.Pj.tech.Fn()+"]"),this.Xj(),!0}this.te().warn(this.mn+"Closing sessions - the active stream doesn't match any initialized sessions"),this.te().warn(this.mn+"Active:"+t+" - initialized: "+this.bj.length),this.WV()}return!1},e.prototype.oj=function(){if(this.Pj)return this.Pj.Dn()},e.prototype.Wj=function(){var e=!1;this.bj.forEach(function(t){t.Cn&&(e=!0)}),e&&y.Hive.Reporting().close()},e.prototype.Zj=function(){if(null!=this.Pj){if(this.Pj.ci(this.b_()))return!0;this.te().warn(this.mn+"Session src mismatch: "+this.b_()+" != "+this.Pj.manifest),this.WV()}return!1},e.prototype.zj=function(e,t){if(void 0===t&&(t=!0),null!=this.Pj)this.te().notice(this.mn+"Stopping session ["+this.Pj.id+"]"),this.Pj.close(e,t);else if(this.bj.length>0){var r=this.bj[0];this.te().notice(this.mn+"Attempt to stopping session ["+r.id+"]"),r.close(e,t)}},e.prototype.Xj=function(){var e=this;null==this.$j&&(this.$j=setInterval(function(){e.eG()},this.options().feedbackPeriod),this.eG())},e.prototype.Jj=function(){clearInterval(this.$j),this.$j=null},e.prototype.eG=function(){var e=this;if(this.Zj()){if(!this.ci())return void this.WV();var t=new u.Un;t.Rs=this.getCurrentTime(),t.bs=this.vj(),t.Ps=this.Aj,t.width=this.yj().width,t.height=this.yj().height,t.tG=this.isFullscreen(),this.Pj.kn(this.xj.Is(t)),this.Pj.tech.g_(this.Pj,t).fail(function(t){e.te().warn(e.mn+"stats handling failed",t),e.Jj()})}},e.prototype.rG=function(){var e=this;try{u.hs.gi(this.te()).as(function(t){var r=e.iG();r&&!r._n()&&(e.cj(t?p.kc.$a.Za:p.kc.$a.HIDDEN),e.te().debug(t?"visible":"hidden"))})}catch(e){m.ErrorMonitor.gi().di("error setting up the visibilityChange listener",this.mn,{error:e})}},e.prototype.sj=function(e){this.Zj()&&this.Cj<=0&&(this.Cj=Date.now(),(void 0==e||e)&&this.cj(p.kc.$a.Ka))},e.prototype.dj=function(){var e=0==this.Aj;if(this.Cj>0){var t=Date.now()-this.Cj;return this.Aj+=t,this.te().debug(this.mn+"reporting new buffering event of "+t),this.Cj=0,e&&this.eG(),!0}return!1},e.prototype.onError=function(e,t,r){void 0===r&&(r=!0),this.cj(p.kc.$a.ERROR,{code:-1,"player-code":e}),r&&this.WV()},e.prototype.cj=function(e,t){var r=this,i=this.iG();null==i||i!=this.Pj&&i.tech.Fn()===S[S.HiveJava]||i.tech.E_(i,e,t).fail(function(e){r.te().warn(r.mn+"error in forwarding player event to tech",e)})},e.prototype.iG=function(){return this.Pj?this.Pj:this.bj&&this.bj.length>0?this.bj[0]:void 0},e.prototype.nG=function(){this.kj=0},e.prototype.sG=function(e,t){this.nG();this.kj+=e<<28,t&&0===e&&(this.kj+=1<<4*(6-S[t.Fn()])),e>0&&m.ErrorMonitor.gi().di("Status Code Error",this.mn,{code:b[e]},["Plugin Error Code",b[e]])},e.prototype.vE=function(){return this.kj},e.prototype.Kj=function(){return this.options().telemetryId},e}();e.Plugin=a}(t.gn||(t.gn={})),s.Framework.Z(new f.oG),s.Framework.ie("peer0",new g.aG),s.Framework.ne("peer0"),window.HiveRequestFactory=u.HiveRequestFactory},function(e,t){if(!RegExp.escape){var r=/[-[\]{}()*+?.\\^$|,#\s]/g;RegExp.escape=function(e){return e.replace(r,"\\$&")}}},function(e,t,r){"use strict";function i(){throw new Error("Can't construct. MapChanges is a mixin.")}var n=r(34),s=r(46);e.t=i;var o=(Object.prototype.hasOwnProperty,new n),a=null;i.prototype.hG=function(){return o.has(this)||(a||(a=r(47)),o.set(this,a())),o.get(this)},i.prototype.cG=function(e){var t=this.hG();return e=e||"",t.has(e)||t.set(e,{Lo:new s,Mo:new s}),t.get(e)},i.prototype.uG=function(e,t,r){!this.Ho&&this.xo&&this.xo();var i,n=this.cG(t);i=r?n.Lo:n.Mo,i.push(e),Object.defineProperty(this,"dispatchesMapChanges",{value:!0,Ui:!0,u:!0,l:!1});var s=this;return function(){s&&(s.lG(e,t,r),s=null)}},i.prototype.lG=function(e,t,r){var i,n=this.cG(t);i=r?n.Lo:n.Mo;var s=i.Hk(e);if(!s)throw new Error("Can't remove map change listener: does not exist: token "+JSON.stringify(t));s.delete()},i.prototype.iO=function(e,t,r){var i="Map"+(r?"WillChange":"Change");this.hG().forEach(function(n,s){if(!n.ci){n.ci=!0;var o;o=r?n.Lo:n.Mo;var a="handle"+(s.slice(0,1).toUpperCase()+s.slice(1))+i;try{o.forEach(function(r){if(r[a])r[a](t,e,this);else{if(!r.call)throw new Error("Handler "+r+" has no method "+a+" and is not callable");r.call(r,t,e,this)}},this)}finally{n.ci=!1}}},this)},i.prototype.pG=function(e,t){return this.uG(e,t,!0)},i.prototype.fG=function(e,t){return this.lG(e,t,!0)},i.prototype.rO=function(e,t){return this.iO(e,t,!0)}},function(e,t,r){"use strict";function i(e,t,r,n){if(!(this instanceof i))return new i(e,t,r,n);t=t||Object.ae,r=r||Object.hash,n=n||Function.he,this.ce=t,this.ue=r,this.le=n;var s=this;this.dG=new this.gG(null,function(){return new s.vG}),this.length=0,this.addEach(e)}var n=(r(12),r(47)),s=r(46),o=r(13),a=r(36),h=r(64),c=r(14);Object.prototype.hasOwnProperty;e.t=i,i.yG=i,Object.addEach(i.prototype,o.prototype),Object.addEach(i.prototype,a.prototype),Object.addEach(i.prototype,c.prototype),i.prototype.gG=n,i.prototype.vG=s,i.prototype.de=function(e){return new this.constructor(e,this.ce,this.ue,this.le)},i.prototype.has=function(e){var t=this.ue(e);return this.dG.get(t).has(e)},i.prototype.get=function(e,t){if(t)throw new Error("FastSet#get does not support second argument: equals");var r=this.ue(e),i=this.dG;return i.has(r)?i.get(r).get(e):this.le(e)},i.prototype.delete=function(e,t){if(t)throw new Error("FastSet#delete does not support second argument: equals");var r=this.ue(e),i=this.dG;if(i.has(r)){var n=i.get(r);if(n.delete(e))return this.length--,0===n.length&&i.delete(r),!0}return!1},i.prototype.clear=function(){this.dG.clear(),this.length=0},i.prototype.add=function(e){var t=this.ue(e),r=this.dG;return r.has(t)||r.set(t,new this.vG(null,this.ce)),!r.get(t).has(e)&&(r.get(t).add(e),this.length++,!0)},i.prototype.reduce=function(e,t){var r=arguments[2],i=0;return this.dG.reduce(function(t,n){return n.reduce(function(t,n){return e.call(r,t,n,i++,this)},t,this)},t,this)},i.prototype.Po=function(){if(this.length>0)return this.dG.Po().Po()},i.prototype.Ao=function(){return this.dG.values().Io().Ao()},i.prototype.log=function(e,t,r,i){e=e||h.QD,t=t||this.ge,r||(r=console.log,i=console),r=r.bind(i);var n=this.dG,s=n.keys();s.forEach(function(o,a){var h,c;a===s.length-1?(h=e.qD,c=" "):0===a?(h=e.xD,c=e.jD):(h=e.VD,c=e.jD);var u=n.get(o);r.call(i,h+e.BD+e.xD+" "+o),u.forEach(function(n,s){var o,a;s===u.head.Mk?(o=e.qD,a=" "):(o=e.VD,a=e.jD);var h;t(s,function(t){h?r.call(i,c+" "+a+"  "+t):(r.call(i,c+" "+o+e.BD+e.BD+t),h=!0)},function(t){r.call(i,c+" "+e.jD+"  "+t)})})})},i.prototype.ge=function(e,t){var r=e.value;Object(r)===r?JSON.stringify(r,null,4).split("\n").forEach(function(e){t(" "+e)}):t(" "+r)}},function(e,t,r){"use strict";function i(e){if(!(this instanceof i))return new i(e);if(Array.isArray(e)||"string"==typeof e)return i.Ao(e);if((e=n(e))instanceof i)return e;if(e.next)this.next=function(){return e.next()};else if(e.Ao){var t=e.Ao();this.next=function(){return t.next()}}else{if("[object Function]"!==n.prototype.toString.call(e))throw new TypeError("Can't iterate "+e);this.next=e}}e.t=i;var n=r(33),s=r(13);i.prototype.forEach=s.prototype.forEach,i.prototype.map=s.prototype.map,i.prototype.filter=s.prototype.filter,i.prototype.every=s.prototype.every,i.prototype.some=s.prototype.some,i.prototype.ht=s.prototype.ht,i.prototype.all=s.prototype.all,i.prototype.min=s.prototype.min,i.prototype.max=s.prototype.max,i.prototype.Eo=s.prototype.Eo,i.prototype.To=s.prototype.To,i.prototype.Io=s.prototype.Io,i.prototype.wo=s.prototype.wo,i.prototype.enumerate=s.prototype.enumerate,i.prototype.Ro=s.prototype.Ro,i.prototype.group=s.prototype.group,i.prototype.reversed=s.prototype.reversed,i.prototype.toArray=s.prototype.toArray,i.prototype.vo=s.prototype.vo,i.prototype.iterator=s.prototype.iterator,i.prototype.zk=null,n.defineProperty(i.prototype,"_iterationObject",{get:function(){return this.zk||(this.zk={done:!1,value:void 0})}}),i.prototype.de=function(e){var t=[];return t.addEach(e),t},i.prototype.mG=function(e){var t=i(this),r=arguments[1],s=0;if("[object Function]"!=n.prototype.toString.call(e))throw new TypeError;return new t.constructor(function(){if(!0!==t.Jk.done){var i=e.call(r,t.next().value,s++,t);t.Jk.value=i}return t.Jk})},i.prototype.EG=function(e){var t=i(this),r=arguments[1],s=0;if("[object Function]"!=n.prototype.toString.call(e))throw new TypeError;return new t.constructor(function(){for(var i;;){if(i=t.next(),!0===i.done)return i;if(e.call(r,i.value,s++,t))return i}})},i.prototype.reduce=function(e){var t,r=i(this),s=arguments[1],o=arguments[2],a=0;if("[object Function]"!=n.prototype.toString.call(e))throw new TypeError;if(t=r.next(),!0===t.done){if(arguments.length>1)return arguments[1];throw TypeError("cannot reduce a value from an empty iterator with no initial value")}for(s=arguments.length>1?e.call(o,s,t.value,a,r):t.value,a++;;){if(t=r.next(),!0===t.done)return s;s=e.call(o,s,t.value,a,r),a++}},i.prototype.concat=function(){return i.concat(Array.prototype.concat.apply(this,arguments))},i.prototype.TG=function(e){var t,r,s=i(this),o=arguments[1],a=!1,h=0;if("[object Function]"!=n.prototype.toString.call(e))throw new TypeError;for(;;){if(r=s.next(),!0===r.done)break;if(!e.call(o,r.value,h,s)){a=!0,t=r.value;break}h++}return a?s.constructor([t]).concat(s):s.constructor([])},i.prototype.IG=function(e){var t=i(this),r=arguments[1],s=0;if("[object Function]"!=n.prototype.toString.call(e))throw new TypeError;return new t.constructor(function(){if(!0!==t.Jk.done){var i=t.next().value;e.call(r,i,s++,t)?t.Jk.value=i:(t.Jk.done=!0,t.Jk.value=void 0)}return t.Jk})},i.prototype.wG=function(){return i.So(Array.prototype.concat.apply(this,arguments))},i.prototype.SG=function(e){return i.count(e).wG(this)},i.Ao=function(e){var t;return t=0,new i(function(){if("object"==typeof e)for(;!(t in e);){if(t>=e.length){this.Jk.done=!0,this.Jk.value=void 0;break}t+=1}else t>=e.length&&(this.Jk.done=!0,this.Jk.value=void 0);return this.Jk.done||(this.Jk.value=e[t],t+=1),this.Jk})},i.RG=function(e,t){var r;return arguments.length<2&&(t=1/0),new i(function(){var n,s;return r&&(s=r()),r&&!0!==s.done||(t>0?(t--,n=i.Ao(e),s=(r=n.next.bind(n))()):(this.Jk.done=!0,s=this.Jk)),s})},i.concat=function(e){e=i(e);var t;return new i(function(){var r,n;return t&&(n=t()),n&&!0!==n.done?n:(n=e.next(),!1===n.done?(r=i(n.value),(t=r.next.bind(r))()):n)})},i.So=function(e){return e=i(e).map(i),new i(0===e.length?[]:function(){var t,r,i=e.map(function(e){return r=e.next(),!0===r.done&&(t=!0),r.value});return t?(this.Jk.done=!0,this.Jk.value=void 0):this.Jk.value=i,this.Jk})},i.wo=function(){return i.So(Array.prototype.slice.call(arguments))},i.chain=function(){return i.concat(Array.prototype.slice.call(arguments))},i.range=function(e,t,r){return arguments.length<3&&(r=1),arguments.length<2&&(t=e,e=0),e=e||0,r=r||1,new i(function(){e>=t&&(this.Jk.done=!0,this.Jk.value=void 0);var i=e;return e+=r,this.Jk.value=i,this.Jk})},i.count=function(e,t){return i.range(e,1/0,t)},i.repeat=function(e,t){return new i.range(t).mG(function(){return e})}},function(e,t,r){"use strict";var i=this&&this.Ns||function(e,t){function r(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=r(20),s=n.gn.ou.ou,o=n.gn.ou.hu;!function(e){!function(e){var t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.authTokenEnabled=!0,t.dashRemoveBitrateSize=!1,t.dashFilterBitrates=null,t.staticPartnerId=null,t.staticCustomerId=null,t.audioMetrics=!0,t.logJsonSnapshots=void 0,t}return i(t,e),t}(s);e._j=t;var r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hiveAuthTokenEnabled="authTokenEnabled",t.hiveDashRemoveBitrateSize="dashRemoveBitrateSize",t.hiveDashFilterBitrates="dashFilterBitrates",t.hiveLogJsonSnapshots="logJsonSnapshots",t.hiveStaticPartnerId="staticPartnerId",t.hiveStaticCustomerId="staticCustomerId",t.hiveAudioMetrics="audioMetrics",t}return i(t,e),t}(o);e.Dj=r}(e.ou||(e.ou={}))}(t.gn||(t.gn={}));var a=function(){function e(){}return e.Fj=function(e){"dashRemoveBitrateSize"in e&&e.dashRemoveBitrateSize&&window.HiveConfig&&window.HiveConfig.Dash&&(window.HiveConfig.Dash.DashRemoveBitrateSize=e.dashRemoveBitrateSize),"dashFilterBitrates"in e&&e.dashFilterBitrates&&window.HiveConfig&&window.HiveConfig.Dash&&(window.HiveConfig.Dash.DashFilterBitrates=e.dashFilterBitrates),"staticCustomerId"in e&&e.staticCustomerId&&window.HiveConfig&&window.HiveConfig.ClientInfo&&(window.HiveConfig.ClientInfo.Ls=e.staticCustomerId),"staticPartnerId"in e&&e.staticPartnerId&&window.HiveConfig&&window.HiveConfig.ClientInfo&&(window.HiveConfig.ClientInfo.Fs=e.staticPartnerId),"audioMetrics"in e&&!e.audioMetrics&&window.HiveConfig&&window.HiveConfig.Stats&&(window.HiveConfig.Stats.Ds=e.audioMetrics),"detectPrivateIP"in e&&"boolean"==typeof e.detectPrivateIP&&window.HiveConfig&&window.HiveConfig.ConnInfo&&(window.HiveConfig.ConnInfo.detectPrivateIP=e.detectPrivateIP),"logJsonSnapshots"in e&&e.logJsonSnapshots&&window.HiveConfig&&window.HiveConfig.DebugLogs&&(window.HiveConfig.DebugLogs.MetricSnapshotLogs=1,window.HiveConfig.DebugLogs.TrackSnapshotLogs=1,window.HiveConfig.DebugLogs.TrackerLogs=1)},e}();t.Lj=a},function(e,t,r){"use strict";!function(e){!function(e){e[e.HiveJS=0]="HiveJS",e[e.HiveJava=1]="HiveJava",e[e.StatsJS=2]="StatsJS",e[e.HiveJsProxy=3]="HiveJsProxy"}(e.Ij||(e.Ij={}))}(t.gn||(t.gn={}))},function(e,t,r){"use strict";var i=function(){function e(){var t=this;if(this.bG=new Array,this.callbacks=new Array,e.li)throw new Error("Error: Instantiation failed: Use KeyHandlerHiveComm.getInstance() instead of new.");var r={};document.addEventListener("keydown",function(e){r[e.keyCode]=!0,t.PG(r)},!0),document.addEventListener("keyup",function(e){r={}},!0)}return e.gi=function(){return void 0===this.li&&(this.li=new e),this.li},e.prototype.vi=function(e,t){this.bG.push(e),this.callbacks.push(t)},e.prototype.PG=function(e){for(var t=this,r=0;r<this.bG.length;r++)!function(r){var i=!0;t.bG[r].forEach(function(t){void 0!=e[t]&&e[t]||(i=!1)}),i&&t.callbacks[r]()}(r)},e}();t.yi=i},function(e,t){e.t=function(e){return e&&"object"==typeof e&&"function"==typeof e.rP&&"function"==typeof e.fill&&"function"==typeof e.AG}},function(e,t){"function"==typeof Object.create?e.t=function(e,t){e.CG=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,l:!1,Ui:!0,u:!0}})}:e.t=function(e,t){e.CG=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},function(e,t,r){"use strict";var i=r(39),n=r(49),s=r(7),o=r(4),a=function(){function e(e){this.kG=n.N.$c?9989:9988,this.OG=-1,this.h_=e,this._G()}return e.prototype._G=function(){var e=this;this.h_.options().silent&&(HiveConfig&&(HiveConfig.ConnInfo.detectPrivateIP=!0),void 0===this.NG&&(this.url="//"+i.tu.oA+":"+this.kG+"/feedback",this.h_.te().info("starting periodic alive ping to hive tester ["+this.url+"]"),this.NG=setInterval(function(){e.DG()},n.N.oO)))},e.prototype.DG=function(){var e=this,t=this.h_.oj(),r=void 0;t&&(r="S["+t.id+"]");var i=this.h_.getCurrentTime();i>this.OG?(this.h_.te().info("sending hive tester ping ["+i+" > "+this.OG+"]"),s.ps(this.url).then(function(e){},function(t){o.ErrorMonitor.gi().di("error sending hive tester ping",r,{error:t}),clearInterval(e.NG)})):this.h_.te().warn("not sending hive tester ping ["+i+" <= "+this.OG+"]"),this.OG=i},e}();t.Mj=a},function(e,t){(function(t){e.t=t}).call(t,{})},function(e,t,r){"use strict";var i=r(37),n=r(110),s=r(41),o=r(0),a=function(){function e(){}return e.prototype.apply=function(e){e.bind(new i.QP(o.Framework.q.T,n.FG,i.KP.ZP)),e.bind(new i.QP(o.Framework.q.I,s.SA.wA))},e}();t.oG=a},function(e,t,r){"use strict";var i=r(63),n=function(){function e(){this.LG=new i,this.MG=new i,"undefined"!=typeof global?this.BG=global:this.BG=window}return e.prototype.S=function(){return!1},e.prototype.UG=function(e,t,r){},e.prototype.A=function(){},e.prototype.time=function(){return+new Date},e.prototype.setTimeout=function(e,t){var r=this,i=this.BG.setTimeout(function(){r.LG.delete(i),e()},t);return this.LG.add(i),i},e.prototype.clearTimeout=function(e){return this.LG.delete(e),this.BG.clearTimeout(e),!0},e.prototype.setInterval=function(e,t){var r=this.BG.setInterval(function(){e()},t);return this.MG.add(r),r},e.prototype.clearInterval=function(e){return this.MG.delete(e),this.BG.clearInterval(e),!0},e.prototype.C=function(){var e=this;this.LG.forEach(function(t){return e.clearTimeout(t)}),this.MG.forEach(function(t){return e.clearInterval(t)})},e}();t.FG=n},function(e,t,r){"use strict";var i=r(37),n=r(0),s=r(41),o=r(19),a=r(9),h=r(18),c=r(71),u=r(72),l=r(73),p=r(75),f=r(76),d=r(5),g=d.Rt.Oi;if(g)var v=r(77).vM;else var y=r(79).zM;var m=function(){function e(){}return e.prototype.apply=function(e){e.bind(new i.QP(a.Qs.qs,o.Zc,i.KP.ZP)),e.bind(new i.QP(a.Qs.H,u.OL,i.KP.ZP)),e.bind(new i.QP(a.Qs.Bs,l.BL,i.KP.ZP)),e.bind(new i.QP(a.Qs.D,p.oM,i.KP.ZP)),e.bind(new i.QP(n.Framework.q.I,s.SA.wA,i.KP.ZP)),g?e.bind(new i.QP(a.Qs.Us,v,i.KP.ZP)):e.bind(new i.QP(a.Qs.Us,y,i.KP.ZP)),e.bind(new i.QP(a.Qs.xs,f.uM,i.KP.ZP)),e.bind(new i.QP(a.Qs.Vs,c.Stats.LD,i.KP.sA)),e.bind(new i.QP(a.Qs.Ms,c.Stats.vc,i.KP.sA)),e.bind(new i.QP(a.Qs.js,h.kc.$h,i.KP.sA)),e.bind(new i.QP(a.Qs.Gs,h.kc.vc,i.KP.sA))},e}();t.aG=m},function(e,t,r){var i=r(30);"undefined"==typeof hive&&(hive={}),void 0===hive.snapshots&&(hive.snapshots={}),hive.snapshots.Traffic=function(e){this.reqN=null,this.respFallbackN=null,this.respFallbackErrN=null,this.respP2pN=null,this.reqOtherN=null,this.respFallbackOtherN=null,this.respFallbackOthertErrN=null,this.srcReqN=null,this.srcRespN=null,this.srcRespErrN=null,this.srcReqQt=null,this.srcRespQt=null,this.srcOverQt=null,this.srcOtherReqN=null,this.srcOtherRespN=null,this.srcOtherRespErrN=null,this.srcOtherReqQt=null,this.srcOtherRespQt=null,this.srcOtherOverQt=null,this.p2pSubReqN=null,this.p2pSubRespN=null,this.p2pSubRespPartN=null,this.p2pSubRespErrN=null,this.p2pSubRespExpN=null,this.p2pSubReqQt=null,this.p2pSubRespQt=null,this.p2pDirectQt=null,this.p2pRelayQt=null,this.p2pNatQt=null,this.p2pUdpbQt=null,this.fallAgentRespN=null,this.fallAgentPredHitN=null,this.fallAgentFailedRespN=null,this.fallAgentPredMissN=null,this.fallAgentPredPartialHitN=null,this.fallAgenTrafficSuccessQt=null,this.fallAgenTrafficFailureQt=null,this.p2pAgentPredHitN=null,this.p2pAgentPredMissN=null,this.p2pAgentPredPartialHitN=null,this.p2pAgenTrafficSuccessQt=null,this.p2pAgenTrafficFailureQt=null,this.respP2pOtherN=null,this.lCacheRespN=null,this.lCacheRespQt=null,this.p2pOutSiteLowPrio=null,e&&(void 0!==e.reqN&&(this.reqN=e.reqN),void 0!==e.respFallbackN&&(this.respFallbackN=e.respFallbackN),void 0!==e.respFallbackErrN&&(this.respFallbackErrN=e.respFallbackErrN),void 0!==e.respP2pN&&(this.respP2pN=e.respP2pN),void 0!==e.reqOtherN&&(this.reqOtherN=e.reqOtherN),void 0!==e.respFallbackOtherN&&(this.respFallbackOtherN=e.respFallbackOtherN),void 0!==e.respFallbackOthertErrN&&(this.respFallbackOthertErrN=e.respFallbackOthertErrN),void 0!==e.srcReqN&&(this.srcReqN=e.srcReqN),void 0!==e.srcRespN&&(this.srcRespN=e.srcRespN),void 0!==e.srcRespErrN&&(this.srcRespErrN=e.srcRespErrN),void 0!==e.srcReqQt&&(this.srcReqQt=e.srcReqQt),void 0!==e.srcRespQt&&(this.srcRespQt=e.srcRespQt),void 0!==e.srcOverQt&&(this.srcOverQt=e.srcOverQt),void 0!==e.srcOtherReqN&&(this.srcOtherReqN=e.srcOtherReqN),void 0!==e.srcOtherRespN&&(this.srcOtherRespN=e.srcOtherRespN),void 0!==e.srcOtherRespErrN&&(this.srcOtherRespErrN=e.srcOtherRespErrN),void 0!==e.srcOtherReqQt&&(this.srcOtherReqQt=e.srcOtherReqQt),void 0!==e.srcOtherRespQt&&(this.srcOtherRespQt=e.srcOtherRespQt),void 0!==e.srcOtherOverQt&&(this.srcOtherOverQt=e.srcOtherOverQt),void 0!==e.p2pSubReqN&&(this.p2pSubReqN=e.p2pSubReqN),void 0!==e.p2pSubRespN&&(this.p2pSubRespN=e.p2pSubRespN),void 0!==e.p2pSubRespPartN&&(this.p2pSubRespPartN=e.p2pSubRespPartN),void 0!==e.p2pSubRespErrN&&(this.p2pSubRespErrN=e.p2pSubRespErrN),void 0!==e.p2pSubRespExpN&&(this.p2pSubRespExpN=e.p2pSubRespExpN),void 0!==e.p2pSubReqQt&&(this.p2pSubReqQt=e.p2pSubReqQt),void 0!==e.p2pSubRespQt&&(this.p2pSubRespQt=e.p2pSubRespQt),void 0!==e.p2pDirectQt&&(this.p2pDirectQt=e.p2pDirectQt),void 0!==e.p2pRelayQt&&(this.p2pRelayQt=e.p2pRelayQt),void 0!==e.p2pNatQt&&(this.p2pNatQt=e.p2pNatQt),void 0!==e.p2pUdpbQt&&(this.p2pUdpbQt=e.p2pUdpbQt),void 0!==e.fallAgentRespN&&(this.fallAgentRespN=e.fallAgentRespN),void 0!==e.fallAgentPredHitN&&(this.fallAgentPredHitN=e.fallAgentPredHitN),void 0!==e.fallAgentFailedRespN&&(this.fallAgentFailedRespN=e.fallAgentFailedRespN),void 0!==e.fallAgentPredMissN&&(this.fallAgentPredMissN=e.fallAgentPredMissN),void 0!==e.fallAgentPredPartialHitN&&(this.fallAgentPredPartialHitN=e.fallAgentPredPartialHitN),void 0!==e.fallAgenTrafficSuccessQt&&(this.fallAgenTrafficSuccessQt=e.fallAgenTrafficSuccessQt),void 0!==e.fallAgenTrafficFailureQt&&(this.fallAgenTrafficFailureQt=e.fallAgenTrafficFailureQt),void 0!==e.p2pAgentPredHitN&&(this.p2pAgentPredHitN=e.p2pAgentPredHitN),void 0!==e.p2pAgentPredMissN&&(this.p2pAgentPredMissN=e.p2pAgentPredMissN),void 0!==e.p2pAgentPredPartialHitN&&(this.p2pAgentPredPartialHitN=e.p2pAgentPredPartialHitN),void 0!==e.p2pAgenTrafficSuccessQt&&(this.p2pAgenTrafficSuccessQt=e.p2pAgenTrafficSuccessQt),void 0!==e.p2pAgenTrafficFailureQt&&(this.p2pAgenTrafficFailureQt=e.p2pAgenTrafficFailureQt),void 0!==e.respP2pOtherN&&(this.respP2pOtherN=e.respP2pOtherN),void 0!==e.lCacheRespN&&(this.lCacheRespN=e.lCacheRespN),void 0!==e.lCacheRespQt&&(this.lCacheRespQt=e.lCacheRespQt),void 0!==e.p2pOutSiteLowPrio&&(this.p2pOutSiteLowPrio=e.p2pOutSiteLowPrio))},hive.snapshots.Traffic.prototype={},hive.snapshots.Traffic.prototype.read=function(e){for(e.QS();;){var t=e.uw(),r=(t.qS,t.lw),n=t.pw;if(r==i.bI.AI)break;switch(n){case 1:r==i.bI.NI?this.reqN=e.gw().value:e.dw(r);break;case 2:r==i.bI.OI?this.respFallbackN=e.sR().value:e.dw(r);break;case 3:r==i.bI.NI?this.respFallbackErrN=e.gw().value:e.dw(r);break;case 4:r==i.bI.OI?this.respP2pN=e.sR().value:e.dw(r);break;case 5:r==i.bI.NI?this.reqOtherN=e.gw().value:e.dw(r);break;case 6:r==i.bI.NI?this.respFallbackOtherN=e.gw().value:e.dw(r);break;case 7:r==i.bI.NI?this.respFallbackOthertErrN=e.gw().value:e.dw(r);break;case 8:r==i.bI.NI?this.srcReqN=e.gw().value:e.dw(r);break;case 9:r==i.bI.NI?this.srcRespN=e.gw().value:e.dw(r);break;case 10:r==i.bI.NI?this.srcRespErrN=e.gw().value:e.dw(r);break;case 11:r==i.bI.DI?this.srcReqQt=e.nR().value:e.dw(r);break;case 12:r==i.bI.DI?this.srcRespQt=e.nR().value:e.dw(r);break;case 13:r==i.bI.DI?this.srcOverQt=e.nR().value:e.dw(r);break;case 14:r==i.bI.NI?this.srcOtherReqN=e.gw().value:e.dw(r);break;case 15:r==i.bI.NI?this.srcOtherRespN=e.gw().value:e.dw(r);break;case 16:r==i.bI.NI?this.srcOtherRespErrN=e.gw().value:e.dw(r);break;case 17:r==i.bI.DI?this.srcOtherReqQt=e.nR().value:e.dw(r);break;case 18:r==i.bI.DI?this.srcOtherRespQt=e.nR().value:e.dw(r);break;case 19:r==i.bI.DI?this.srcOtherOverQt=e.nR().value:e.dw(r);break;case 20:r==i.bI.NI?this.p2pSubReqN=e.gw().value:e.dw(r);break;case 21:r==i.bI.NI?this.p2pSubRespN=e.gw().value:e.dw(r);break;case 22:r==i.bI.OI?this.p2pSubRespPartN=e.sR().value:e.dw(r);break;case 23:r==i.bI.OI?this.p2pSubRespErrN=e.sR().value:e.dw(r);break;case 24:r==i.bI.NI?this.p2pSubRespExpN=e.gw().value:e.dw(r);break;case 25:r==i.bI.DI?this.p2pSubReqQt=e.nR().value:e.dw(r);break;case 26:r==i.bI.DI?this.p2pSubRespQt=e.nR().value:e.dw(r);break;case 27:r==i.bI.DI?this.p2pDirectQt=e.nR().value:e.dw(r);break;case 28:r==i.bI.DI?this.p2pRelayQt=e.nR().value:e.dw(r);break;case 29:r==i.bI.DI?this.p2pNatQt=e.nR().value:e.dw(r);break;case 30:r==i.bI.DI?this.p2pUdpbQt=e.nR().value:e.dw(r);break;case 31:r==i.bI.NI?this.fallAgentRespN=e.gw().value:e.dw(r);break;case 32:r==i.bI.NI?this.fallAgentPredHitN=e.gw().value:e.dw(r);break;case 33:r==i.bI.NI?this.fallAgentFailedRespN=e.gw().value:e.dw(r);break;case 34:r==i.bI.NI?this.fallAgentPredMissN=e.gw().value:e.dw(r);break;case 35:r==i.bI.NI?this.fallAgentPredPartialHitN=e.gw().value:e.dw(r);break;case 36:r==i.bI.DI?this.fallAgenTrafficSuccessQt=e.nR().value:e.dw(r);break;case 37:r==i.bI.DI?this.fallAgenTrafficFailureQt=e.nR().value:e.dw(r);break;case 38:r==i.bI.NI?this.p2pAgentPredHitN=e.gw().value:e.dw(r);break;case 39:r==i.bI.NI?this.p2pAgentPredMissN=e.gw().value:e.dw(r);break;case 40:r==i.bI.NI?this.p2pAgentPredPartialHitN=e.gw().value:e.dw(r);break;case 41:r==i.bI.DI?this.p2pAgenTrafficSuccessQt=e.nR().value:e.dw(r);break;case 42:r==i.bI.DI?this.p2pAgenTrafficFailureQt=e.nR().value:e.dw(r);break;case 43:r==i.bI.NI?this.respP2pOtherN=e.gw().value:e.dw(r);break;case 44:r==i.bI.NI?this.lCacheRespN=e.gw().value:e.dw(r);break;case 45:r==i.bI.DI?this.lCacheRespQt=e.nR().value:e.dw(r);break;case 46:r==i.bI.DI?this.p2pOutSiteLowPrio=e.nR().value:e.dw(r);break;default:e.dw(r)}e.vw()}e.yw()},hive.snapshots.Traffic.prototype.write=function(e){e.mw("Traffic"),null!==this.reqN&&void 0!==this.reqN&&(e.Ew("reqN",i.bI.NI,1),e.ww(this.reqN),e.Iw()),null!==this.respFallbackN&&void 0!==this.respFallbackN&&(e.Ew("respFallbackN",i.bI.OI,2),e.LS(this.respFallbackN),e.Iw()),null!==this.respFallbackErrN&&void 0!==this.respFallbackErrN&&(e.Ew("respFallbackErrN",i.bI.NI,3),e.ww(this.respFallbackErrN),e.Iw()),null!==this.respP2pN&&void 0!==this.respP2pN&&(e.Ew("respP2pN",i.bI.OI,4),e.LS(this.respP2pN),e.Iw()),null!==this.reqOtherN&&void 0!==this.reqOtherN&&(e.Ew("reqOtherN",i.bI.NI,5),e.ww(this.reqOtherN),e.Iw()),null!==this.respFallbackOtherN&&void 0!==this.respFallbackOtherN&&(e.Ew("respFallbackOtherN",i.bI.NI,6),e.ww(this.respFallbackOtherN),e.Iw()),null!==this.respFallbackOthertErrN&&void 0!==this.respFallbackOthertErrN&&(e.Ew("respFallbackOthertErrN",i.bI.NI,7),e.ww(this.respFallbackOthertErrN),e.Iw()),null!==this.srcReqN&&void 0!==this.srcReqN&&(e.Ew("srcReqN",i.bI.NI,8),e.ww(this.srcReqN),e.Iw()),null!==this.srcRespN&&void 0!==this.srcRespN&&(e.Ew("srcRespN",i.bI.NI,9),e.ww(this.srcRespN),e.Iw()),null!==this.srcRespErrN&&void 0!==this.srcRespErrN&&(e.Ew("srcRespErrN",i.bI.NI,10),e.ww(this.srcRespErrN),e.Iw()),null!==this.srcReqQt&&void 0!==this.srcReqQt&&(e.Ew("srcReqQt",i.bI.DI,11),e.FS(this.srcReqQt),e.Iw()),null!==this.srcRespQt&&void 0!==this.srcRespQt&&(e.Ew("srcRespQt",i.bI.DI,12),e.FS(this.srcRespQt),e.Iw()),null!==this.srcOverQt&&void 0!==this.srcOverQt&&(e.Ew("srcOverQt",i.bI.DI,13),e.FS(this.srcOverQt),e.Iw()),null!==this.srcOtherReqN&&void 0!==this.srcOtherReqN&&(e.Ew("srcOtherReqN",i.bI.NI,14),e.ww(this.srcOtherReqN),e.Iw()),null!==this.srcOtherRespN&&void 0!==this.srcOtherRespN&&(e.Ew("srcOtherRespN",i.bI.NI,15),e.ww(this.srcOtherRespN),e.Iw()),null!==this.srcOtherRespErrN&&void 0!==this.srcOtherRespErrN&&(e.Ew("srcOtherRespErrN",i.bI.NI,16),e.ww(this.srcOtherRespErrN),e.Iw()),null!==this.srcOtherReqQt&&void 0!==this.srcOtherReqQt&&(e.Ew("srcOtherReqQt",i.bI.DI,17),e.FS(this.srcOtherReqQt),e.Iw()),null!==this.srcOtherRespQt&&void 0!==this.srcOtherRespQt&&(e.Ew("srcOtherRespQt",i.bI.DI,18),e.FS(this.srcOtherRespQt),e.Iw()),null!==this.srcOtherOverQt&&void 0!==this.srcOtherOverQt&&(e.Ew("srcOtherOverQt",i.bI.DI,19),e.FS(this.srcOtherOverQt),e.Iw()),null!==this.p2pSubReqN&&void 0!==this.p2pSubReqN&&(e.Ew("p2pSubReqN",i.bI.NI,20),e.ww(this.p2pSubReqN),e.Iw()),null!==this.p2pSubRespN&&void 0!==this.p2pSubRespN&&(e.Ew("p2pSubRespN",i.bI.NI,21),e.ww(this.p2pSubRespN),e.Iw()),null!==this.p2pSubRespPartN&&void 0!==this.p2pSubRespPartN&&(e.Ew("p2pSubRespPartN",i.bI.OI,22),e.LS(this.p2pSubRespPartN),e.Iw()),null!==this.p2pSubRespErrN&&void 0!==this.p2pSubRespErrN&&(e.Ew("p2pSubRespErrN",i.bI.OI,23),e.LS(this.p2pSubRespErrN),e.Iw()),null!==this.p2pSubRespExpN&&void 0!==this.p2pSubRespExpN&&(e.Ew("p2pSubRespExpN",i.bI.NI,24),e.ww(this.p2pSubRespExpN),e.Iw()),null!==this.p2pSubReqQt&&void 0!==this.p2pSubReqQt&&(e.Ew("p2pSubReqQt",i.bI.DI,25),e.FS(this.p2pSubReqQt),e.Iw()),null!==this.p2pSubRespQt&&void 0!==this.p2pSubRespQt&&(e.Ew("p2pSubRespQt",i.bI.DI,26),e.FS(this.p2pSubRespQt),e.Iw()),null!==this.p2pDirectQt&&void 0!==this.p2pDirectQt&&(e.Ew("p2pDirectQt",i.bI.DI,27),e.FS(this.p2pDirectQt),e.Iw()),null!==this.p2pRelayQt&&void 0!==this.p2pRelayQt&&(e.Ew("p2pRelayQt",i.bI.DI,28),e.FS(this.p2pRelayQt),e.Iw()),null!==this.p2pNatQt&&void 0!==this.p2pNatQt&&(e.Ew("p2pNatQt",i.bI.DI,29),e.FS(this.p2pNatQt),e.Iw()),null!==this.p2pUdpbQt&&void 0!==this.p2pUdpbQt&&(e.Ew("p2pUdpbQt",i.bI.DI,30),e.FS(this.p2pUdpbQt),e.Iw()),null!==this.fallAgentRespN&&void 0!==this.fallAgentRespN&&(e.Ew("fallAgentRespN",i.bI.NI,31),e.ww(this.fallAgentRespN),e.Iw()),null!==this.fallAgentPredHitN&&void 0!==this.fallAgentPredHitN&&(e.Ew("fallAgentPredHitN",i.bI.NI,32),e.ww(this.fallAgentPredHitN),e.Iw()),null!==this.fallAgentFailedRespN&&void 0!==this.fallAgentFailedRespN&&(e.Ew("fallAgentFailedRespN",i.bI.NI,33),e.ww(this.fallAgentFailedRespN),e.Iw()),null!==this.fallAgentPredMissN&&void 0!==this.fallAgentPredMissN&&(e.Ew("fallAgentPredMissN",i.bI.NI,34),e.ww(this.fallAgentPredMissN),e.Iw()),null!==this.fallAgentPredPartialHitN&&void 0!==this.fallAgentPredPartialHitN&&(e.Ew("fallAgentPredPartialHitN",i.bI.NI,35),e.ww(this.fallAgentPredPartialHitN),e.Iw()),null!==this.fallAgenTrafficSuccessQt&&void 0!==this.fallAgenTrafficSuccessQt&&(e.Ew("fallAgenTrafficSuccessQt",i.bI.DI,36),e.FS(this.fallAgenTrafficSuccessQt),e.Iw()),null!==this.fallAgenTrafficFailureQt&&void 0!==this.fallAgenTrafficFailureQt&&(e.Ew("fallAgenTrafficFailureQt",i.bI.DI,37),e.FS(this.fallAgenTrafficFailureQt),e.Iw()),null!==this.p2pAgentPredHitN&&void 0!==this.p2pAgentPredHitN&&(e.Ew("p2pAgentPredHitN",i.bI.NI,38),e.ww(this.p2pAgentPredHitN),e.Iw()),null!==this.p2pAgentPredMissN&&void 0!==this.p2pAgentPredMissN&&(e.Ew("p2pAgentPredMissN",i.bI.NI,39),e.ww(this.p2pAgentPredMissN),e.Iw()),null!==this.p2pAgentPredPartialHitN&&void 0!==this.p2pAgentPredPartialHitN&&(e.Ew("p2pAgentPredPartialHitN",i.bI.NI,40),e.ww(this.p2pAgentPredPartialHitN),e.Iw()),null!==this.p2pAgenTrafficSuccessQt&&void 0!==this.p2pAgenTrafficSuccessQt&&(e.Ew("p2pAgenTrafficSuccessQt",i.bI.DI,41),e.FS(this.p2pAgenTrafficSuccessQt),e.Iw()),null!==this.p2pAgenTrafficFailureQt&&void 0!==this.p2pAgenTrafficFailureQt&&(e.Ew("p2pAgenTrafficFailureQt",i.bI.DI,42),e.FS(this.p2pAgenTrafficFailureQt),e.Iw()),null!==this.respP2pOtherN&&void 0!==this.respP2pOtherN&&(e.Ew("respP2pOtherN",i.bI.NI,43),e.ww(this.respP2pOtherN),e.Iw()),null!==this.lCacheRespN&&void 0!==this.lCacheRespN&&(e.Ew("lCacheRespN",i.bI.NI,44),e.ww(this.lCacheRespN),e.Iw()),null!==this.lCacheRespQt&&void 0!==this.lCacheRespQt&&(e.Ew("lCacheRespQt",i.bI.DI,45),e.FS(this.lCacheRespQt),e.Iw()),null!==this.p2pOutSiteLowPrio&&void 0!==this.p2pOutSiteLowPrio&&(e.Ew("p2pOutSiteLowPrio",i.bI.DI,46),e.FS(this.p2pOutSiteLowPrio),e.Iw()),e.Sw(),e.Rw()},hive.snapshots.Metrics=function(e){this.upBW=null,this.downBW=null,this.memN=null,this.prtInN=null,this.prtOutN=null,this.initVideoBufQt=null,this.videoAvgBufQt=null,this.videoBufQt=null,this.videoBufN=null,this.initAudioBufQt=null,this.audioAvgBufQt=null,this.audioBufQt=null,this.audioBufN=null,this.bitrateUpN=null,this.bitrateDwnN=null,this.delay=null,this.delayEnforcement=null,this.lookupReqEstablished=null,this.lookupReqAccept=null,this.fallbackAvgTp=null,this.srcThroughput=null,this.diskReadTimeout=null,this.diskReadRate=null,this.diskStoreRate=null,this.diskRemoveRate=null,this.diskCacheSize=null,this.clientBufferMs=null,this.lookupTotal=null,this.lookupNotFound=null,this.lookupFailed=null,this.lookupLatency=null,this.trackerFailed=null,this.trackerLatency=null,this.snapshotFailed=null,this.snapshotLatency=null,e&&(void 0!==e.upBW&&(this.upBW=e.upBW),void 0!==e.downBW&&(this.downBW=e.downBW),void 0!==e.memN&&(this.memN=e.memN),void 0!==e.prtInN&&(this.prtInN=e.prtInN),void 0!==e.prtOutN&&(this.prtOutN=e.prtOutN),void 0!==e.initVideoBufQt&&(this.initVideoBufQt=e.initVideoBufQt),void 0!==e.videoAvgBufQt&&(this.videoAvgBufQt=e.videoAvgBufQt),void 0!==e.videoBufQt&&(this.videoBufQt=e.videoBufQt),void 0!==e.videoBufN&&(this.videoBufN=e.videoBufN),void 0!==e.initAudioBufQt&&(this.initAudioBufQt=e.initAudioBufQt),void 0!==e.audioAvgBufQt&&(this.audioAvgBufQt=e.audioAvgBufQt),void 0!==e.audioBufQt&&(this.audioBufQt=e.audioBufQt),void 0!==e.audioBufN&&(this.audioBufN=e.audioBufN),void 0!==e.bitrateUpN&&(this.bitrateUpN=e.bitrateUpN),void 0!==e.bitrateDwnN&&(this.bitrateDwnN=e.bitrateDwnN),void 0!==e.delay&&(this.delay=e.delay),void 0!==e.delayEnforcement&&(this.delayEnforcement=e.delayEnforcement),void 0!==e.lookupReqEstablished&&(this.lookupReqEstablished=e.lookupReqEstablished),void 0!==e.lookupReqAccept&&(this.lookupReqAccept=e.lookupReqAccept),void 0!==e.fallbackAvgTp&&(this.fallbackAvgTp=e.fallbackAvgTp),void 0!==e.srcThroughput&&(this.srcThroughput=e.srcThroughput),void 0!==e.diskReadTimeout&&(this.diskReadTimeout=e.diskReadTimeout),void 0!==e.diskReadRate&&(this.diskReadRate=e.diskReadRate),void 0!==e.diskStoreRate&&(this.diskStoreRate=e.diskStoreRate),void 0!==e.diskRemoveRate&&(this.diskRemoveRate=e.diskRemoveRate),void 0!==e.diskCacheSize&&(this.diskCacheSize=e.diskCacheSize),void 0!==e.clientBufferMs&&(this.clientBufferMs=e.clientBufferMs),void 0!==e.lookupTotal&&(this.lookupTotal=e.lookupTotal),void 0!==e.lookupNotFound&&(this.lookupNotFound=e.lookupNotFound),void 0!==e.lookupFailed&&(this.lookupFailed=e.lookupFailed),void 0!==e.lookupLatency&&(this.lookupLatency=e.lookupLatency),void 0!==e.trackerFailed&&(this.trackerFailed=e.trackerFailed),void 0!==e.trackerLatency&&(this.trackerLatency=e.trackerLatency),void 0!==e.snapshotFailed&&(this.snapshotFailed=e.snapshotFailed),void 0!==e.snapshotLatency&&(this.snapshotLatency=e.snapshotLatency))},hive.snapshots.Metrics.prototype={},hive.snapshots.Metrics.prototype.read=function(e){for(e.QS();;){var t=e.uw(),r=(t.qS,t.lw),n=t.pw;if(r==i.bI.AI)break;switch(n){case 1:r==i.bI.NI?this.upBW=e.gw().value:e.dw(r);break;case 2:r==i.bI.NI?this.downBW=e.gw().value:e.dw(r);break;case 3:r==i.bI.NI?this.memN=e.gw().value:e.dw(r);break;case 4:r==i.bI.NI?this.prtInN=e.gw().value:e.dw(r);break;case 5:r==i.bI.NI?this.prtOutN=e.gw().value:e.dw(r);break;case 6:r==i.bI.DI?this.initVideoBufQt=e.nR().value:e.dw(r);break;case 7:r==i.bI.OI?this.videoAvgBufQt=e.sR().value:e.dw(r);break;case 8:r==i.bI.DI?this.videoBufQt=e.nR().value:e.dw(r);break;case 9:r==i.bI.NI?this.videoBufN=e.gw().value:e.dw(r);break;case 10:r==i.bI.NI?this.initAudioBufQt=e.gw().value:e.dw(r);break;case 11:r==i.bI.OI?this.audioAvgBufQt=e.sR().value:e.dw(r);break;case 12:r==i.bI.DI?this.audioBufQt=e.nR().value:e.dw(r);break;case 13:r==i.bI.NI?this.audioBufN=e.gw().value:e.dw(r);break;case 14:r==i.bI.NI?this.bitrateUpN=e.gw().value:e.dw(r);break;case 15:r==i.bI.NI?this.bitrateDwnN=e.gw().value:e.dw(r);break;case 16:r==i.bI.NI?this.delay=e.gw().value:e.dw(r);break;case 17:r==i.bI.NI?this.delayEnforcement=e.gw().value:e.dw(r);break;case 18:r==i.bI.NI?this.lookupReqEstablished=e.gw().value:e.dw(r);break;case 19:r==i.bI.NI?this.lookupReqAccept=e.gw().value:e.dw(r);break;case 20:r==i.bI.OI?this.fallbackAvgTp=e.sR().value:e.dw(r);break;case 21:r==i.bI.OI?this.srcThroughput=e.sR().value:e.dw(r);break;case 22:r==i.bI.NI?this.diskReadTimeout=e.gw().value:e.dw(r);break;case 23:r==i.bI.OI?this.diskReadRate=e.sR().value:e.dw(r);break;case 24:r==i.bI.OI?this.diskStoreRate=e.sR().value:e.dw(r);break;case 25:r==i.bI.OI?this.diskRemoveRate=e.sR().value:e.dw(r);break;case 26:r==i.bI.DI?this.diskCacheSize=e.nR().value:e.dw(r);break;case 27:r==i.bI.NI?this.clientBufferMs=e.gw().value:e.dw(r);break;case 28:r==i.bI.NI?this.lookupTotal=e.gw().value:e.dw(r);break;case 29:r==i.bI.NI?this.lookupNotFound=e.gw().value:e.dw(r);break;case 30:r==i.bI.NI?this.lookupFailed=e.gw().value:e.dw(r);break;case 31:r==i.bI.NI?this.lookupLatency=e.gw().value:e.dw(r);break;case 32:r==i.bI.NI?this.trackerFailed=e.gw().value:e.dw(r);break;case 33:r==i.bI.NI?this.trackerLatency=e.gw().value:e.dw(r);break;case 34:r==i.bI.NI?this.snapshotFailed=e.gw().value:e.dw(r);break;case 35:r==i.bI.NI?this.snapshotLatency=e.gw().value:e.dw(r);break;default:e.dw(r)}e.vw()}e.yw()},hive.snapshots.Metrics.prototype.write=function(e){e.mw("Metrics"),null!==this.upBW&&void 0!==this.upBW&&(e.Ew("upBW",i.bI.NI,1),e.ww(this.upBW),e.Iw()),null!==this.downBW&&void 0!==this.downBW&&(e.Ew("downBW",i.bI.NI,2),e.ww(this.downBW),e.Iw()),null!==this.memN&&void 0!==this.memN&&(e.Ew("memN",i.bI.NI,3),e.ww(this.memN),e.Iw()),null!==this.prtInN&&void 0!==this.prtInN&&(e.Ew("prtInN",i.bI.NI,4),e.ww(this.prtInN),e.Iw()),null!==this.prtOutN&&void 0!==this.prtOutN&&(e.Ew("prtOutN",i.bI.NI,5),e.ww(this.prtOutN),e.Iw()),null!==this.initVideoBufQt&&void 0!==this.initVideoBufQt&&(e.Ew("initVideoBufQt",i.bI.DI,6),e.FS(this.initVideoBufQt),e.Iw()),null!==this.videoAvgBufQt&&void 0!==this.videoAvgBufQt&&(e.Ew("videoAvgBufQt",i.bI.OI,7),e.LS(this.videoAvgBufQt),e.Iw()),null!==this.videoBufQt&&void 0!==this.videoBufQt&&(e.Ew("videoBufQt",i.bI.DI,8),e.FS(this.videoBufQt),e.Iw()),null!==this.videoBufN&&void 0!==this.videoBufN&&(e.Ew("videoBufN",i.bI.NI,9),e.ww(this.videoBufN),e.Iw()),null!==this.initAudioBufQt&&void 0!==this.initAudioBufQt&&(e.Ew("initAudioBufQt",i.bI.NI,10),e.ww(this.initAudioBufQt),e.Iw()),null!==this.audioAvgBufQt&&void 0!==this.audioAvgBufQt&&(e.Ew("audioAvgBufQt",i.bI.OI,11),e.LS(this.audioAvgBufQt),e.Iw()),null!==this.audioBufQt&&void 0!==this.audioBufQt&&(e.Ew("audioBufQt",i.bI.DI,12),e.FS(this.audioBufQt),e.Iw()),null!==this.audioBufN&&void 0!==this.audioBufN&&(e.Ew("audioBufN",i.bI.NI,13),e.ww(this.audioBufN),e.Iw()),null!==this.bitrateUpN&&void 0!==this.bitrateUpN&&(e.Ew("bitrateUpN",i.bI.NI,14),e.ww(this.bitrateUpN),e.Iw()),null!==this.bitrateDwnN&&void 0!==this.bitrateDwnN&&(e.Ew("bitrateDwnN",i.bI.NI,15),e.ww(this.bitrateDwnN),e.Iw()),null!==this.delay&&void 0!==this.delay&&(e.Ew("delay",i.bI.NI,16),e.ww(this.delay),e.Iw()),null!==this.delayEnforcement&&void 0!==this.delayEnforcement&&(e.Ew("delayEnforcement",i.bI.NI,17),e.ww(this.delayEnforcement),e.Iw()),null!==this.lookupReqEstablished&&void 0!==this.lookupReqEstablished&&(e.Ew("lookupReqEstablished",i.bI.NI,18),e.ww(this.lookupReqEstablished),e.Iw()),null!==this.lookupReqAccept&&void 0!==this.lookupReqAccept&&(e.Ew("lookupReqAccept",i.bI.NI,19),e.ww(this.lookupReqAccept),e.Iw()),null!==this.fallbackAvgTp&&void 0!==this.fallbackAvgTp&&(e.Ew("fallbackAvgTp",i.bI.OI,20),e.LS(this.fallbackAvgTp),e.Iw()),null!==this.srcThroughput&&void 0!==this.srcThroughput&&(e.Ew("srcThroughput",i.bI.OI,21),e.LS(this.srcThroughput),e.Iw()),null!==this.diskReadTimeout&&void 0!==this.diskReadTimeout&&(e.Ew("diskReadTimeout",i.bI.NI,22),e.ww(this.diskReadTimeout),e.Iw()),null!==this.diskReadRate&&void 0!==this.diskReadRate&&(e.Ew("diskReadRate",i.bI.OI,23),e.LS(this.diskReadRate),e.Iw()),null!==this.diskStoreRate&&void 0!==this.diskStoreRate&&(e.Ew("diskStoreRate",i.bI.OI,24),e.LS(this.diskStoreRate),e.Iw()),null!==this.diskRemoveRate&&void 0!==this.diskRemoveRate&&(e.Ew("diskRemoveRate",i.bI.OI,25),e.LS(this.diskRemoveRate),e.Iw()),null!==this.diskCacheSize&&void 0!==this.diskCacheSize&&(e.Ew("diskCacheSize",i.bI.DI,26),e.FS(this.diskCacheSize),e.Iw()),null!==this.clientBufferMs&&void 0!==this.clientBufferMs&&(e.Ew("clientBufferMs",i.bI.NI,27),e.ww(this.clientBufferMs),e.Iw()),null!==this.lookupTotal&&void 0!==this.lookupTotal&&(e.Ew("lookupTotal",i.bI.NI,28),e.ww(this.lookupTotal),e.Iw()),null!==this.lookupNotFound&&void 0!==this.lookupNotFound&&(e.Ew("lookupNotFound",i.bI.NI,29),e.ww(this.lookupNotFound),e.Iw()),null!==this.lookupFailed&&void 0!==this.lookupFailed&&(e.Ew("lookupFailed",i.bI.NI,30),e.ww(this.lookupFailed),e.Iw()),null!==this.lookupLatency&&void 0!==this.lookupLatency&&(e.Ew("lookupLatency",i.bI.NI,31),e.ww(this.lookupLatency),e.Iw()),null!==this.trackerFailed&&void 0!==this.trackerFailed&&(e.Ew("trackerFailed",i.bI.NI,32),e.ww(this.trackerFailed),e.Iw()),null!==this.trackerLatency&&void 0!==this.trackerLatency&&(e.Ew("trackerLatency",i.bI.NI,33),e.ww(this.trackerLatency),e.Iw()),null!==this.snapshotFailed&&void 0!==this.snapshotFailed&&(e.Ew("snapshotFailed",i.bI.NI,34),e.ww(this.snapshotFailed),e.Iw()),null!==this.snapshotLatency&&void 0!==this.snapshotLatency&&(e.Ew("snapshotLatency",i.bI.NI,35),e.ww(this.snapshotLatency),e.Iw()),e.Sw(),e.Rw()},hive.snapshots.PartnerTraffic=function(e){this.p2pSuccReq=null,this.p2pFailReq=null,this.p2pPartReq=null,this.p2pSuccReceived=null,this.p2pSuccReceivedLow=null,this.p2pFailReceived=null,this.p2pSuccResp=null,this.p2pFailResp=null,this.p2pPartResp=null,this.p2pSuccSent=null,this.p2pSuccSentLow=null,this.p2pFailSent=null,e&&(void 0!==e.p2pSuccReq&&(this.p2pSuccReq=e.p2pSuccReq),void 0!==e.p2pFailReq&&(this.p2pFailReq=e.p2pFailReq),void 0!==e.p2pPartReq&&(this.p2pPartReq=e.p2pPartReq),void 0!==e.p2pSuccReceived&&(this.p2pSuccReceived=e.p2pSuccReceived),void 0!==e.p2pSuccReceivedLow&&(this.p2pSuccReceivedLow=e.p2pSuccReceivedLow),void 0!==e.p2pFailReceived&&(this.p2pFailReceived=e.p2pFailReceived),void 0!==e.p2pSuccResp&&(this.p2pSuccResp=e.p2pSuccResp),void 0!==e.p2pFailResp&&(this.p2pFailResp=e.p2pFailResp),void 0!==e.p2pPartResp&&(this.p2pPartResp=e.p2pPartResp),void 0!==e.p2pSuccSent&&(this.p2pSuccSent=e.p2pSuccSent),void 0!==e.p2pSuccSentLow&&(this.p2pSuccSentLow=e.p2pSuccSentLow),void 0!==e.p2pFailSent&&(this.p2pFailSent=e.p2pFailSent))},hive.snapshots.PartnerTraffic.prototype={},hive.snapshots.PartnerTraffic.prototype.read=function(e){for(e.QS();;){var t=e.uw(),r=(t.qS,t.lw),n=t.pw;if(r==i.bI.AI)break;switch(n){case 1:r==i.bI.DI?this.p2pSuccReq=e.nR().value:e.dw(r);break;case 2:r==i.bI.DI?this.p2pFailReq=e.nR().value:e.dw(r);break;case 3:r==i.bI.DI?this.p2pPartReq=e.nR().value:e.dw(r);break;case 4:r==i.bI.DI?this.p2pSuccReceived=e.nR().value:e.dw(r);break;case 5:r==i.bI.DI?this.p2pSuccReceivedLow=e.nR().value:e.dw(r);break;case 10:r==i.bI.DI?this.p2pFailReceived=e.nR().value:e.dw(r);break;case 6:r==i.bI.DI?this.p2pSuccResp=e.nR().value:e.dw(r);break;case 11:r==i.bI.DI?this.p2pFailResp=e.nR().value:e.dw(r);break;case 7:r==i.bI.DI?this.p2pPartResp=e.nR().value:e.dw(r);break;case 8:r==i.bI.DI?this.p2pSuccSent=e.nR().value:e.dw(r);break;case 9:r==i.bI.DI?this.p2pSuccSentLow=e.nR().value:e.dw(r);break;case 12:r==i.bI.DI?this.p2pFailSent=e.nR().value:e.dw(r);break;default:e.dw(r)}e.vw()}e.yw()},hive.snapshots.PartnerTraffic.prototype.write=function(e){e.mw("PartnerTraffic"),null!==this.p2pSuccReq&&void 0!==this.p2pSuccReq&&(e.Ew("p2pSuccReq",i.bI.DI,1),e.FS(this.p2pSuccReq),e.Iw()),null!==this.p2pFailReq&&void 0!==this.p2pFailReq&&(e.Ew("p2pFailReq",i.bI.DI,2),e.FS(this.p2pFailReq),e.Iw()),null!==this.p2pPartReq&&void 0!==this.p2pPartReq&&(e.Ew("p2pPartReq",i.bI.DI,3),e.FS(this.p2pPartReq),e.Iw()),null!==this.p2pSuccReceived&&void 0!==this.p2pSuccReceived&&(e.Ew("p2pSuccReceived",i.bI.DI,4),e.FS(this.p2pSuccReceived),e.Iw()),null!==this.p2pSuccReceivedLow&&void 0!==this.p2pSuccReceivedLow&&(e.Ew("p2pSuccReceivedLow",i.bI.DI,5),e.FS(this.p2pSuccReceivedLow),e.Iw()),null!==this.p2pFailReceived&&void 0!==this.p2pFailReceived&&(e.Ew("p2pFailReceived",i.bI.DI,10),e.FS(this.p2pFailReceived),e.Iw()),null!==this.p2pSuccResp&&void 0!==this.p2pSuccResp&&(e.Ew("p2pSuccResp",i.bI.DI,6),e.FS(this.p2pSuccResp),e.Iw()),null!==this.p2pFailResp&&void 0!==this.p2pFailResp&&(e.Ew("p2pFailResp",i.bI.DI,11),e.FS(this.p2pFailResp),e.Iw()),null!==this.p2pPartResp&&void 0!==this.p2pPartResp&&(e.Ew("p2pPartResp",i.bI.DI,7),e.FS(this.p2pPartResp),e.Iw()),null!==this.p2pSuccSent&&void 0!==this.p2pSuccSent&&(e.Ew("p2pSuccSent",i.bI.DI,8),e.FS(this.p2pSuccSent),e.Iw()),null!==this.p2pSuccSentLow&&void 0!==this.p2pSuccSentLow&&(e.Ew("p2pSuccSentLow",i.bI.DI,9),e.FS(this.p2pSuccSentLow),e.Iw()),null!==this.p2pFailSent&&void 0!==this.p2pFailSent&&(e.Ew("p2pFailSent",i.bI.DI,12),e.FS(this.p2pFailSent),e.Iw()),e.Sw(),e.Rw()},hive.snapshots.PartnerMetrics=function(e){this.rateReceived=null,this.rateSent=null,this.handshakeDelay=null,e&&(void 0!==e.rateReceived&&(this.rateReceived=e.rateReceived),void 0!==e.rateSent&&(this.rateSent=e.rateSent),void 0!==e.handshakeDelay&&(this.handshakeDelay=e.handshakeDelay))},hive.snapshots.PartnerMetrics.prototype={},hive.snapshots.PartnerMetrics.prototype.read=function(e){for(e.QS();;){var t=e.uw(),r=(t.qS,t.lw),n=t.pw;if(r==i.bI.AI)break;switch(n){case 1:r==i.bI.OI?this.rateReceived=e.sR().value:e.dw(r);break;case 2:r==i.bI.OI?this.rateSent=e.sR().value:e.dw(r);break;case 3:r==i.bI.DI?this.handshakeDelay=e.nR().value:e.dw(r);break;default:e.dw(r)}e.vw()}e.yw()},hive.snapshots.PartnerMetrics.prototype.write=function(e){e.mw("PartnerMetrics"),null!==this.rateReceived&&void 0!==this.rateReceived&&(e.Ew("rateReceived",i.bI.OI,1),e.LS(this.rateReceived),e.Iw()),null!==this.rateSent&&void 0!==this.rateSent&&(e.Ew("rateSent",i.bI.OI,2),e.LS(this.rateSent),e.Iw()),null!==this.handshakeDelay&&void 0!==this.handshakeDelay&&(e.Ew("handshakeDelay",i.bI.DI,3),e.FS(this.handshakeDelay),e.Iw()),e.Sw(),e.Rw()},hive.snapshots.ConnectivityInfo=function(e){this.upBW=null,this.downBW=null,this.externalAs=null,this.internalAs=null,this.publicIp=null,this.privateIp=null,e&&(void 0!==e.upBW&&(this.upBW=e.upBW),void 0!==e.downBW&&(this.downBW=e.downBW),void 0!==e.externalAs&&(this.externalAs=e.externalAs),void 0!==e.internalAs&&(this.internalAs=e.internalAs),void 0!==e.publicIp&&(this.publicIp=e.publicIp),void 0!==e.privateIp&&(this.privateIp=e.privateIp))},hive.snapshots.ConnectivityInfo.prototype={},hive.snapshots.ConnectivityInfo.prototype.read=function(e){for(e.QS();;){var t=e.uw(),r=(t.qS,t.lw),n=t.pw;if(r==i.bI.AI)break;switch(n){case 1:r==i.bI.NI?this.upBW=e.gw().value:e.dw(r);break;case 2:r==i.bI.NI?this.downBW=e.gw().value:e.dw(r);break;case 3:r==i.bI.NI?this.externalAs=e.gw().value:e.dw(r);break;case 4:r==i.bI.NI?this.internalAs=e.gw().value:e.dw(r);break;case 5:r==i.bI.FI?this.publicIp=e.fw().value:e.dw(r);break;case 6:r==i.bI.FI?this.privateIp=e.fw().value:e.dw(r);break;default:e.dw(r)}e.vw()}e.yw()},hive.snapshots.ConnectivityInfo.prototype.write=function(e){e.mw("ConnectivityInfo"),null!==this.upBW&&void 0!==this.upBW&&(e.Ew("upBW",i.bI.NI,1),e.ww(this.upBW),e.Iw()),null!==this.downBW&&void 0!==this.downBW&&(e.Ew("downBW",i.bI.NI,2),e.ww(this.downBW),e.Iw()),null!==this.externalAs&&void 0!==this.externalAs&&(e.Ew("externalAs",i.bI.NI,3),e.ww(this.externalAs),e.Iw()),null!==this.internalAs&&void 0!==this.internalAs&&(e.Ew("internalAs",i.bI.NI,4),e.ww(this.internalAs),e.Iw()),null!==this.publicIp&&void 0!==this.publicIp&&(e.Ew("publicIp",i.bI.FI,5),e.Tw(this.publicIp),e.Iw()),null!==this.privateIp&&void 0!==this.privateIp&&(e.Ew("privateIp",i.bI.FI,6),e.Tw(this.privateIp),e.Iw()),e.Sw(),e.Rw()},hive.snapshots.Partner=function(e){this.connInfo=null,this.traffic=null,this.metrics=null,this.inPart=null,this.outPart=null,this.udp=null,e&&(void 0!==e.connInfo&&(this.connInfo=e.connInfo),void 0!==e.traffic&&(this.traffic=e.traffic),void 0!==e.metrics&&(this.metrics=e.metrics),void 0!==e.inPart&&(this.inPart=e.inPart),void 0!==e.outPart&&(this.outPart=e.outPart),void 0!==e.udp&&(this.udp=e.udp))},hive.snapshots.Partner.prototype={},hive.snapshots.Partner.prototype.read=function(e){for(e.QS();;){var t=e.uw(),r=(t.qS,t.lw),n=t.pw;if(r==i.bI.AI)break;switch(n){case 1:r==i.bI.MI?(this.connInfo=new hive.snapshots.ConnectivityInfo,this.connInfo.read(e)):e.dw(r);break;case 2:r==i.bI.MI?(this.traffic=new hive.snapshots.PartnerTraffic,this.traffic.read(e)):e.dw(r);break;case 3:r==i.bI.MI?(this.metrics=new hive.snapshots.PartnerMetrics,this.metrics.read(e)):e.dw(r);break;case 4:r==i.bI.BOOL?this.inPart=e.tR().value:e.dw(r);break;case 5:r==i.bI.BOOL?this.outPart=e.tR().value:e.dw(r);break;case 6:r==i.bI.BOOL?this.udp=e.tR().value:e.dw(r);break;default:e.dw(r)}e.vw()}e.yw()},hive.snapshots.Partner.prototype.write=function(e){e.mw("Partner"),null!==this.connInfo&&void 0!==this.connInfo&&(e.Ew("connInfo",i.bI.MI,1),this.connInfo.write(e),e.Iw()),null!==this.traffic&&void 0!==this.traffic&&(e.Ew("traffic",i.bI.MI,2),this.traffic.write(e),e.Iw()),null!==this.metrics&&void 0!==this.metrics&&(e.Ew("metrics",i.bI.MI,3),this.metrics.write(e),e.Iw()),null!==this.inPart&&void 0!==this.inPart&&(e.Ew("inPart",i.bI.BOOL,4),e._S(this.inPart),e.Iw()),null!==this.outPart&&void 0!==this.outPart&&(e.Ew("outPart",i.bI.BOOL,5),e._S(this.outPart),e.Iw()),null!==this.udp&&void 0!==this.udp&&(e.Ew("udp",i.bI.BOOL,6),e._S(this.udp),e.Iw()),e.Sw(),e.Rw()},hive.snapshots.StreamInfo=function(e){this.url=null,this.streamType=null,this.streamProtocol=null,e&&(void 0!==e.url&&(this.url=e.url),void 0!==e.streamType&&(this.streamType=e.streamType),void 0!==e.streamProtocol&&(this.streamProtocol=e.streamProtocol))},hive.snapshots.StreamInfo.prototype={},hive.snapshots.StreamInfo.prototype.read=function(e){for(e.QS();;){var t=e.uw(),r=(t.qS,t.lw),n=t.pw;if(r==i.bI.AI)break;switch(n){case 1:r==i.bI.FI?this.url=e.fw().value:e.dw(r);break;case 2:r==i.bI.NI?this.streamType=e.gw().value:e.dw(r);break;case 3:r==i.bI.NI?this.streamProtocol=e.gw().value:e.dw(r);break;default:e.dw(r)}e.vw()}e.yw()},hive.snapshots.StreamInfo.prototype.write=function(e){e.mw("StreamInfo"),null!==this.url&&void 0!==this.url&&(e.Ew("url",i.bI.FI,1),e.Tw(this.url),e.Iw()),null!==this.streamType&&void 0!==this.streamType&&(e.Ew("streamType",i.bI.NI,2),e.ww(this.streamType),e.Iw()),null!==this.streamProtocol&&void 0!==this.streamProtocol&&(e.Ew("streamProtocol",i.bI.NI,3),e.ww(this.streamProtocol),e.Iw()),e.Sw(),e.Rw()},hive.snapshots.ClientInfo=function(e){this.clientType=null,this.majorVersion=null,this.minorVersion=null,this.patchVersion=null,e&&(void 0!==e.clientType&&(this.clientType=e.clientType),void 0!==e.majorVersion&&(this.majorVersion=e.majorVersion),void 0!==e.minorVersion&&(this.minorVersion=e.minorVersion),void 0!==e.patchVersion&&(this.patchVersion=e.patchVersion))},hive.snapshots.ClientInfo.prototype={},hive.snapshots.ClientInfo.prototype.read=function(e){for(e.QS();;){var t=e.uw(),r=(t.qS,t.lw),n=t.pw;if(r==i.bI.AI)break;switch(n){case 1:r==i.bI.NI?this.clientType=e.gw().value:e.dw(r);break;case 2:r==i.bI.BYTE?this.majorVersion=e.rR().value:e.dw(r);break;case 3:r==i.bI.BYTE?this.minorVersion=e.rR().value:e.dw(r);break;case 4:r==i.bI._I?this.patchVersion=e.iR().value:e.dw(r);break;default:e.dw(r)}e.vw()}e.yw()},hive.snapshots.ClientInfo.prototype.write=function(e){e.mw("ClientInfo"),null!==this.clientType&&void 0!==this.clientType&&(e.Ew("clientType",i.bI.NI,1),e.ww(this.clientType),e.Iw()),null!==this.majorVersion&&void 0!==this.majorVersion&&(e.Ew("majorVersion",i.bI.BYTE,2),e.NS(this.majorVersion),e.Iw()),null!==this.minorVersion&&void 0!==this.minorVersion&&(e.Ew("minorVersion",i.bI.BYTE,3),e.NS(this.minorVersion),e.Iw()),null!==this.patchVersion&&void 0!==this.patchVersion&&(e.Ew("patchVersion",i.bI._I,4),e.DS(this.patchVersion),e.Iw()),e.Sw(),e.Rw()},hive.snapshots.AgentInfo=function(e){this.firstTierBitrates=null,this.secondTierBitrates=null,e&&(void 0!==e.firstTierBitrates&&(this.firstTierBitrates=e.firstTierBitrates),void 0!==e.secondTierBitrates&&(this.secondTierBitrates=e.secondTierBitrates))},hive.snapshots.AgentInfo.prototype={},hive.snapshots.AgentInfo.prototype.read=function(e){for(e.QS();;){var t=e.uw(),r=(t.qS,t.lw),n=t.pw;if(r==i.bI.AI)break;switch(n){case 1:if(r==i.bI.UI){var s,o=0;this.firstTierBitrates=[];s=e.$S(),s.XS,o=s.size;for(var a=0;a<o;++a){var h=null;h=e.gw().value,this.firstTierBitrates.push(h)}e.eR()}else e.dw(r);break;case 2:if(r==i.bI.UI){var c,u=0;this.secondTierBitrates=[];c=e.$S(),c.XS,u=c.size;for(var l=0;l<u;++l){var p=null;p=e.gw().value,this.secondTierBitrates.push(p)}e.eR()}else e.dw(r);break;default:e.dw(r)}e.vw()}e.yw()},hive.snapshots.AgentInfo.prototype.write=function(e){if(e.mw("AgentInfo"),null!==this.firstTierBitrates&&void 0!==this.firstTierBitrates){e.Ew("firstTierBitrates",i.bI.UI,1),e.kS(i.bI.NI,this.firstTierBitrates.length);for(var t in this.firstTierBitrates)this.firstTierBitrates.hasOwnProperty(t)&&(t=this.firstTierBitrates[t],e.ww(t));e.OS(),e.Iw()}if(null!==this.secondTierBitrates&&void 0!==this.secondTierBitrates){e.Ew("secondTierBitrates",i.bI.UI,2),e.kS(i.bI.NI,this.secondTierBitrates.length);for(var r in this.secondTierBitrates)this.secondTierBitrates.hasOwnProperty(r)&&(r=this.secondTierBitrates[r],e.ww(r));e.OS(),e.Iw()}e.Sw(),e.Rw()},hive.snapshots.TrafficKey=function(e){this.bitrate=null,this.AS=null,this.partnerGuid=null,e&&(void 0!==e.bitrate&&(this.bitrate=e.bitrate),void 0!==e.AS&&(this.AS=e.AS),void 0!==e.partnerGuid&&(this.partnerGuid=e.partnerGuid))},hive.snapshots.TrafficKey.prototype={},hive.snapshots.TrafficKey.prototype.read=function(e){for(e.QS();;){var t=e.uw(),r=(t.qS,t.lw),n=t.pw;if(r==i.bI.AI)break;switch(n){case 1:r==i.bI.NI?this.bitrate=e.gw().value:e.dw(r);break;case 2:r==i.bI.NI?this.AS=e.gw().value:e.dw(r);break;case 3:r==i.bI.FI?this.partnerGuid=e.fw().value:e.dw(r);break;default:e.dw(r)}e.vw()}e.yw()},hive.snapshots.TrafficKey.prototype.write=function(e){e.mw("TrafficKey"),null!==this.bitrate&&void 0!==this.bitrate&&(e.Ew("bitrate",i.bI.NI,1),e.ww(this.bitrate),e.Iw()),null!==this.AS&&void 0!==this.AS&&(e.Ew("AS",i.bI.NI,2),e.ww(this.AS),e.Iw()),null!==this.partnerGuid&&void 0!==this.partnerGuid&&(e.Ew("partnerGuid",i.bI.FI,3),e.Tw(this.partnerGuid),e.Iw()),e.Sw(),e.Rw()},hive.snapshots.PartnerKey=function(e){this.bitrate=null,this.AS=null,this.partnerGuid=null,e&&(void 0!==e.bitrate&&(this.bitrate=e.bitrate),void 0!==e.AS&&(this.AS=e.AS),void 0!==e.partnerGuid&&(this.partnerGuid=e.partnerGuid))},hive.snapshots.PartnerKey.prototype={},hive.snapshots.PartnerKey.prototype.read=function(e){for(e.QS();;){var t=e.uw(),r=(t.qS,t.lw),n=t.pw;if(r==i.bI.AI)break;switch(n){case 1:r==i.bI.NI?this.bitrate=e.gw().value:e.dw(r);break;case 2:r==i.bI.NI?this.AS=e.gw().value:e.dw(r);break;case 3:r==i.bI.FI?this.partnerGuid=e.fw().value:e.dw(r);break;default:e.dw(r)}e.vw()}e.yw()},hive.snapshots.PartnerKey.prototype.write=function(e){e.mw("PartnerKey"),null!==this.bitrate&&void 0!==this.bitrate&&(e.Ew("bitrate",i.bI.NI,1),e.ww(this.bitrate),e.Iw()),null!==this.AS&&void 0!==this.AS&&(e.Ew("AS",i.bI.NI,2),e.ww(this.AS),e.Iw()),null!==this.partnerGuid&&void 0!==this.partnerGuid&&(e.Ew("partnerGuid",i.bI.FI,3),e.Tw(this.partnerGuid),e.Iw()),e.Sw(),e.Rw()},hive.snapshots.Player=function(e){this.bufferingN=null,this.bufferingMs=null,this.initBufferingN=null,this.initBufferingMs=null,this.seekBufferingN=null,this.seekBufferingMs=null,this.playerBufferMs=null,e&&(void 0!==e.bufferingN&&(this.bufferingN=e.bufferingN),void 0!==e.bufferingMs&&(this.bufferingMs=e.bufferingMs),void 0!==e.initBufferingN&&(this.initBufferingN=e.initBufferingN),void 0!==e.initBufferingMs&&(this.initBufferingMs=e.initBufferingMs),void 0!==e.seekBufferingN&&(this.seekBufferingN=e.seekBufferingN),void 0!==e.seekBufferingMs&&(this.seekBufferingMs=e.seekBufferingMs),void 0!==e.playerBufferMs&&(this.playerBufferMs=e.playerBufferMs))},hive.snapshots.Player.prototype={},hive.snapshots.Player.prototype.read=function(e){for(e.QS();;){var t=e.uw(),r=(t.qS,t.lw),n=t.pw;if(r==i.bI.AI)break;switch(n){case 1:r==i.bI._I?this.bufferingN=e.iR().value:e.dw(r);break;case 2:r==i.bI.NI?this.bufferingMs=e.gw().value:e.dw(r);break;case 3:r==i.bI._I?this.initBufferingN=e.iR().value:e.dw(r);break;case 4:r==i.bI.NI?this.initBufferingMs=e.gw().value:e.dw(r);break;case 5:r==i.bI._I?this.seekBufferingN=e.iR().value:e.dw(r);break;case 6:r==i.bI.NI?this.seekBufferingMs=e.gw().value:e.dw(r);break;case 36:r==i.bI.NI?this.playerBufferMs=e.gw().value:e.dw(r);break;default:e.dw(r)}e.vw()}e.yw()},hive.snapshots.Player.prototype.write=function(e){e.mw("Player"),null!==this.bufferingN&&void 0!==this.bufferingN&&(e.Ew("bufferingN",i.bI._I,1),e.DS(this.bufferingN),e.Iw()),null!==this.bufferingMs&&void 0!==this.bufferingMs&&(e.Ew("bufferingMs",i.bI.NI,2),e.ww(this.bufferingMs),e.Iw()),null!==this.initBufferingN&&void 0!==this.initBufferingN&&(e.Ew("initBufferingN",i.bI._I,3),e.DS(this.initBufferingN),e.Iw()),null!==this.initBufferingMs&&void 0!==this.initBufferingMs&&(e.Ew("initBufferingMs",i.bI.NI,4),e.ww(this.initBufferingMs),e.Iw()),null!==this.seekBufferingN&&void 0!==this.seekBufferingN&&(e.Ew("seekBufferingN",i.bI._I,5),e.DS(this.seekBufferingN),e.Iw()),null!==this.seekBufferingMs&&void 0!==this.seekBufferingMs&&(e.Ew("seekBufferingMs",i.bI.NI,6),e.ww(this.seekBufferingMs),e.Iw()),null!==this.playerBufferMs&&void 0!==this.playerBufferMs&&(e.Ew("playerBufferMs",i.bI.NI,36),e.ww(this.playerBufferMs),e.Iw()),e.Sw(),e.Rw()},hive.snapshots.MetricSnapshot=function(e){this.timestamp=null,this.guid=null,this.eventId=null,this.streamInfo=null,this.metrics=null,this.traffic=null,this.snapshotInfo=null,this.agentInfo=null,this.connInfo=null,this.partners=null,this.player=null,this.client=null,this.sessionId=null,e&&(void 0!==e.timestamp&&(this.timestamp=e.timestamp),void 0!==e.guid&&(this.guid=e.guid),void 0!==e.eventId&&(this.eventId=e.eventId),void 0!==e.streamInfo&&(this.streamInfo=e.streamInfo),void 0!==e.metrics&&(this.metrics=e.metrics),void 0!==e.traffic&&(this.traffic=e.traffic),void 0!==e.snapshotInfo&&(this.snapshotInfo=e.snapshotInfo),void 0!==e.agentInfo&&(this.agentInfo=e.agentInfo),void 0!==e.connInfo&&(this.connInfo=e.connInfo),void 0!==e.partners&&(this.partners=e.partners),void 0!==e.player&&(this.player=e.player),void 0!==e.client&&(this.client=e.client),void 0!==e.sessionId&&(this.sessionId=e.sessionId))},hive.snapshots.MetricSnapshot.prototype={},hive.snapshots.MetricSnapshot.prototype.read=function(e){for(e.QS();;){var t=e.uw(),r=(t.qS,t.lw),n=t.pw;if(r==i.bI.AI)break;switch(n){case 1:r==i.bI.DI?this.timestamp=e.nR().value:e.dw(r);break;case 2:r==i.bI.FI?this.guid=e.fw().value:e.dw(r);break;case 3:r==i.bI.MI?(this.eventId=new EventId,this.eventId.read(e)):e.dw(r);break;case 4:r==i.bI.MI?(this.streamInfo=new hive.snapshots.StreamInfo,this.streamInfo.read(e)):e.dw(r);break;case 5:r==i.bI.MI?(this.metrics=new hive.snapshots.Metrics,this.metrics.read(e)):e.dw(r);break;case 6:if(r==i.bI.BI){var s,o=0;this.traffic={};s=e.KS(),s.YS,s.zS,o=s.size;for(var a=0;a<o;++a){a>0&&e.US.length>e.Cw[e.Cw.length-1]+1&&e.US.pop();var h=null,c=null;h=new hive.snapshots.TrafficKey,h.read(e),c=new hive.snapshots.Traffic,c.read(e),this.traffic[h]=c}e.JS()}else e.dw(r);break;case 7:r==i.bI.MI?(this.snapshotInfo=new SnapshotInfo,this.snapshotInfo.read(e)):e.dw(r);break;case 8:r==i.bI.MI?(this.agentInfo=new hive.snapshots.AgentInfo,this.agentInfo.read(e)):e.dw(r);break;case 9:r==i.bI.MI?(this.connInfo=new hive.snapshots.ConnectivityInfo,this.connInfo.read(e)):e.dw(r);break;case 10:if(r==i.bI.BI){var u,l=0;this.partners={};u=e.KS(),u.YS,u.zS,l=u.size;for(var p=0;p<l;++p){p>0&&e.US.length>e.Cw[e.Cw.length-1]+1&&e.US.pop();var f=null,d=null;f=new hive.snapshots.PartnerKey,f.read(e),d=new hive.snapshots.Partner,d.read(e),this.partners[f]=d}e.JS()}else e.dw(r);break;case 11:r==i.bI.MI?(this.player=new hive.snapshots.Player,this.player.read(e)):e.dw(r);break;case 12:r==i.bI.MI?(this.client=new hive.snapshots.ClientInfo,this.client.read(e)):e.dw(r);break;case 13:r==i.bI.FI?this.sessionId=e.fw().value:e.dw(r);break;default:e.dw(r)}e.vw()}e.yw()},hive.snapshots.MetricSnapshot.prototype.write=function(e){if(e.mw("MetricSnapshot"),null!==this.timestamp&&void 0!==this.timestamp&&(e.Ew("timestamp",i.bI.DI,1),e.FS(this.timestamp),e.Iw()),null!==this.guid&&void 0!==this.guid&&(e.Ew("guid",i.bI.FI,2),e.Tw(this.guid),e.Iw()),null!==this.eventId&&void 0!==this.eventId&&(e.Ew("eventId",i.bI.MI,3),this.eventId.write(e),e.Iw()),null!==this.streamInfo&&void 0!==this.streamInfo&&(e.Ew("streamInfo",i.bI.MI,4),this.streamInfo.write(e),e.Iw()),null!==this.metrics&&void 0!==this.metrics&&(e.Ew("metrics",i.bI.MI,5),this.metrics.write(e),e.Iw()),null!==this.traffic&&void 0!==this.traffic){e.Ew("traffic",i.bI.BI,6),e.RS(i.bI.MI,i.bI.MI,i.YI(this.traffic));for(var t=0;t<this.traffic.length;t++){var r=this.traffic[t],n=r.key,s=r.value;n.write(e),s.write(e)}e.bS(),e.Iw()}if(null!==this.snapshotInfo&&void 0!==this.snapshotInfo&&(e.Ew("snapshotInfo",i.bI.MI,7),this.snapshotInfo.write(e),e.Iw()),null!==this.agentInfo&&void 0!==this.agentInfo&&(e.Ew("agentInfo",i.bI.MI,8),this.agentInfo.write(e),e.Iw()),null!==this.connInfo&&void 0!==this.connInfo&&(e.Ew("connInfo",i.bI.MI,9),this.connInfo.write(e),e.Iw()),null!==this.partners&&void 0!==this.partners){e.Ew("partners",i.bI.BI,10),e.RS(i.bI.MI,i.bI.MI,i.YI(this.partners));for(var t=0;t<this.partners.length;t++){var r=this.partners[t],o=r.key,a=r.value;o.write(e),a.write(e)}e.bS(),e.Iw()}null!==this.player&&void 0!==this.player&&(e.Ew("player",i.bI.MI,11),this.player.write(e),e.Iw()),null!==this.client&&void 0!==this.client&&(e.Ew("client",i.bI.MI,12),this.client.write(e),e.Iw()),null!==this.sessionId&&void 0!==this.sessionId&&(e.Ew("sessionId",i.bI.FI,13),e.Tw(this.sessionId),e.Iw()),e.Sw(),e.Rw()},hive.snapshots.JsonMetricSnapshot=function(e){this.timestamp=null,this.guid=null,this.eventId=null,this.streamInfo=null,this.metrics=null,this.traffic=null,this.snapshotInfo=null,this.agentInfo=null,this.connInfo=null,this.partners=null,this.player=null,this.client=null,this.sessionId=null,e&&(void 0!==e.timestamp&&(this.timestamp=e.timestamp),void 0!==e.guid&&(this.guid=e.guid),void 0!==e.eventId&&(this.eventId=e.eventId),void 0!==e.streamInfo&&(this.streamInfo=e.streamInfo),void 0!==e.metrics&&(this.metrics=e.metrics),void 0!==e.traffic&&(this.traffic=e.traffic),void 0!==e.snapshotInfo&&(this.snapshotInfo=e.snapshotInfo),void 0!==e.agentInfo&&(this.agentInfo=e.agentInfo),void 0!==e.connInfo&&(this.connInfo=e.connInfo),void 0!==e.partners&&(this.partners=e.partners),void 0!==e.player&&(this.player=e.player),void 0!==e.client&&(this.client=e.client),void 0!==e.sessionId&&(this.sessionId=e.sessionId))},hive.snapshots.JsonMetricSnapshot.prototype={},hive.snapshots.JsonMetricSnapshot.prototype.read=function(e){for(e.QS();;){var t=e.uw(),r=(t.qS,t.lw),n=t.pw;if(r==i.bI.AI)break;switch(n){case 1:r==i.bI.DI?this.timestamp=e.nR().value:e.dw(r);break;case 2:r==i.bI.FI?this.guid=e.fw().value:e.dw(r);break;case 3:r==i.bI.MI?(this.eventId=new EventId,this.eventId.read(e)):e.dw(r);break;case 4:r==i.bI.MI?(this.streamInfo=new hive.snapshots.StreamInfo,this.streamInfo.read(e)):e.dw(r);break;case 5:r==i.bI.MI?(this.metrics=new hive.snapshots.Metrics,this.metrics.read(e)):e.dw(r);break;case 6:if(r==i.bI.BI){var s,o=0;this.traffic={};s=e.KS(),s.YS,s.zS,o=s.size;for(var a=0;a<o;++a){a>0&&e.US.length>e.Cw[e.Cw.length-1]+1&&e.US.pop();var h=null,c=null;h=e.fw().value,c=new hive.snapshots.Traffic,c.read(e),this.traffic[h]=c}e.JS()}else e.dw(r);break;case 7:r==i.bI.MI?(this.snapshotInfo=new SnapshotInfo,this.snapshotInfo.read(e)):e.dw(r);break;case 8:r==i.bI.MI?(this.agentInfo=new hive.snapshots.AgentInfo,this.agentInfo.read(e)):e.dw(r);break;case 9:r==i.bI.MI?(this.connInfo=new hive.snapshots.ConnectivityInfo,this.connInfo.read(e)):e.dw(r);break;case 10:if(r==i.bI.BI){var u,l=0;this.partners={};u=e.KS(),u.YS,u.zS,l=u.size;for(var p=0;p<l;++p){p>0&&e.US.length>e.Cw[e.Cw.length-1]+1&&e.US.pop();var f=null,d=null;f=e.fw().value,d=new hive.snapshots.Partner,d.read(e),this.partners[f]=d}e.JS()}else e.dw(r);break;case 11:r==i.bI.MI?(this.player=new hive.snapshots.Player,this.player.read(e)):e.dw(r);break;case 12:r==i.bI.MI?(this.client=new hive.snapshots.ClientInfo,this.client.read(e)):e.dw(r);break;case 13:r==i.bI.FI?this.sessionId=e.fw().value:e.dw(r);break;default:e.dw(r)}e.vw()}e.yw()},hive.snapshots.JsonMetricSnapshot.prototype.write=function(e){if(e.mw("JsonMetricSnapshot"),null!==this.timestamp&&void 0!==this.timestamp&&(e.Ew("timestamp",i.bI.DI,1),e.FS(this.timestamp),e.Iw()),null!==this.guid&&void 0!==this.guid&&(e.Ew("guid",i.bI.FI,2),e.Tw(this.guid),e.Iw()),null!==this.eventId&&void 0!==this.eventId&&(e.Ew("eventId",i.bI.MI,3),this.eventId.write(e),e.Iw()),null!==this.streamInfo&&void 0!==this.streamInfo&&(e.Ew("streamInfo",i.bI.MI,4),this.streamInfo.write(e),e.Iw()),null!==this.metrics&&void 0!==this.metrics&&(e.Ew("metrics",i.bI.MI,5),this.metrics.write(e),e.Iw()),null!==this.traffic&&void 0!==this.traffic){e.Ew("traffic",i.bI.BI,6),e.RS(i.bI.FI,i.bI.MI,i.YI(this.traffic));for(var t in this.traffic)if(this.traffic.hasOwnProperty(t)){var r=this.traffic[t];e.Tw(t),r.write(e)}e.bS(),e.Iw()}if(null!==this.snapshotInfo&&void 0!==this.snapshotInfo&&(e.Ew("snapshotInfo",i.bI.MI,7),this.snapshotInfo.write(e),e.Iw()),null!==this.agentInfo&&void 0!==this.agentInfo&&(e.Ew("agentInfo",i.bI.MI,8),this.agentInfo.write(e),e.Iw()),null!==this.connInfo&&void 0!==this.connInfo&&(e.Ew("connInfo",i.bI.MI,9),this.connInfo.write(e),e.Iw()),null!==this.partners&&void 0!==this.partners){e.Ew("partners",i.bI.BI,10),e.RS(i.bI.FI,i.bI.MI,i.YI(this.partners));for(var n in this.partners)if(this.partners.hasOwnProperty(n)){var s=this.partners[n];e.Tw(n),s.write(e)}e.bS(),e.Iw()}null!==this.player&&void 0!==this.player&&(e.Ew("player",i.bI.MI,11),this.player.write(e),e.Iw()),null!==this.client&&void 0!==this.client&&(e.Ew("client",i.bI.MI,12),this.client.write(e),e.Iw()),null!==this.sessionId&&void 0!==this.sessionId&&(e.Ew("sessionId",i.bI.FI,13),e.Tw(this.sessionId),e.Iw()),e.Sw(),e.Rw()}},function(e,t,r){var i=r(30);StreamType={1:"LIVE",LIVE:1,2:"VOD",xG:2},StreamProtocol={1:"DASH",yB:1,2:"HDS",HG:2,3:"HLS",OU:3,4:"SS",qG:4},ClientType={1:"JAVA",VG:1,2:"STATS_ONLY",pL:2,3:"JS_DIRECT",uL:3,4:"JS_PROXY",lL:4},EventId=function(e){this.partnerId=null,this.customerId=null,this.contentId=null,this.tags=null,e&&(void 0!==e.partnerId&&(this.partnerId=e.partnerId),void 0!==e.customerId&&(this.customerId=e.customerId),void 0!==e.contentId&&(this.contentId=e.contentId),void 0!==e.tags&&(this.tags=e.tags))},EventId.prototype={},EventId.prototype.read=function(e){for(e.QS();;){var t=e.uw(),r=(t.qS,t.lw),n=t.pw;if(r==i.bI.AI)break;switch(n){case 1:r==i.bI.FI?this.partnerId=e.fw().value:e.dw(r);break;case 2:r==i.bI.FI?this.customerId=e.fw().value:e.dw(r);break;case 3:r==i.bI.FI?this.contentId=e.fw().value:e.dw(r);break;case 4:if(r==i.bI.xI){var s,o=0;this.tags=[];s=e.WS(),s.XS,o=s.size;for(var a=0;a<o;++a){var h=null;h=e.fw().value,this.tags.push(h)}e.ZS()}else e.dw(r);break;default:e.dw(r)}e.vw()}e.yw()},EventId.prototype.write=function(e){if(e.mw("EventId"),null!==this.partnerId&&void 0!==this.partnerId&&(e.Ew("partnerId",i.bI.FI,1),e.Tw(this.partnerId),e.Iw()),null!==this.customerId&&void 0!==this.customerId&&(e.Ew("customerId",i.bI.FI,2),e.Tw(this.customerId),e.Iw()),null!==this.contentId&&void 0!==this.contentId&&(e.Ew("contentId",i.bI.FI,3),e.Tw(this.contentId),e.Iw()),null!==this.tags&&void 0!==this.tags){e.Ew("tags",i.bI.xI,4),e.PS(i.bI.FI,this.tags.length);for(var t in this.tags)this.tags.hasOwnProperty(t)&&(t=this.tags[t],e.Tw(t));e.CS(),e.Iw()}e.Sw(),e.Rw()},SnapshotInfo=function(e){this.timestamp=null,this.apiServer=null,this.clientIp=null,e&&(void 0!==e.timestamp&&(this.timestamp=e.timestamp),void 0!==e.apiServer&&(this.apiServer=e.apiServer),void 0!==e.clientIp&&(this.clientIp=e.clientIp))},SnapshotInfo.prototype={},SnapshotInfo.prototype.read=function(e){for(e.QS();;){var t=e.uw(),r=(t.qS,t.lw),n=t.pw;if(r==i.bI.AI)break;switch(n){case 1:r==i.bI.DI?this.timestamp=e.nR().value:e.dw(r);break;case 2:r==i.bI.FI?this.apiServer=e.fw().value:e.dw(r);break;case 3:r==i.bI.FI?this.clientIp=e.fw().value:e.dw(r);break;default:e.dw(r)}e.vw()}e.yw()},SnapshotInfo.prototype.write=function(e){e.mw("SnapshotInfo"),null!==this.timestamp&&void 0!==this.timestamp&&(e.Ew("timestamp",i.bI.DI,1),e.FS(this.timestamp),e.Iw()),null!==this.apiServer&&void 0!==this.apiServer&&(e.Ew("apiServer",i.bI.FI,2),e.Tw(this.apiServer),e.Iw()),null!==this.clientIp&&void 0!==this.clientIp&&(e.Ew("clientIp",i.bI.FI,3),e.Tw(this.clientIp),e.Iw()),e.Sw(),e.Rw()},InetAddress=function(e){this.address=null,this.port=null,e&&(void 0!==e.address&&(this.address=e.address),void 0!==e.port&&(this.port=e.port))},InetAddress.prototype={},InetAddress.prototype.read=function(e){for(e.QS();;){var t=e.uw(),r=(t.qS,t.lw),n=t.pw;if(r==i.bI.AI)break;switch(n){case 1:r==i.bI.FI?this.address=e.oR().value:e.dw(r);break;case 2:r==i.bI.NI?this.port=e.gw().value:e.dw(r);break;default:e.dw(r)}e.vw()}e.yw()},InetAddress.prototype.write=function(e){e.mw("InetAddress"),null!==this.address&&void 0!==this.address&&(e.Ew("address",i.bI.FI,1),e.MS(this.address),e.Iw()),null!==this.port&&void 0!==this.port&&(e.Ew("port",i.bI.NI,2),e.ww(this.port),e.Iw()),e.Sw(),e.Rw()}},function(e,t,r){"use strict";var i=r(2),n=r(21),s=function(){function e(e,t){this.msg=e,this.jG=Date.now()+t,this.GG=i.defer()}return e.prototype.QG=function(){return Date.now()>=this.jG},e}(),o=function(){function e(e,t,r,i,n,s,o){void 0===t&&(t=3e4),void 0===r&&(r=100),void 0===i&&(i=3e4),void 0===n&&(n=15e3),void 0===s&&(s=Date),void 0===o&&(o=!1),this.KG=1,this.YG=-1,this.zG=-1,this.qq={},this.JG=[],this.WG=[],this.XG=!1,this.ZG=!0,this.$G=e,this.eQ=Array(),this.lp=t,this.pp=r,this.fp=i,this.tQ=n,this.rQ=s,this.XG=o||/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge./i.test(navigator.userAgent)}return e.prototype.Ae=function(e){var t=e.service+"_"+e.msgId,r=this.qq[t];null!=r?r(e):n.te().error(n.mn+"Could not find a dispatcher for ",e,t,this.qq)},e.prototype.on=function(e,t,r){this.qq[e+"_"+t]=r},e.prototype.onerror=function(e){this.JG.push(e)},e.prototype.CL=function(e){this.WG.push(e)},e.prototype.iQ=function(){var e=this;if(!window.WebSocket)return void this.JG.forEach(function(e){return e("WebSocket not defined")});var t=new WebSocket(this.$G);return t.binaryType="arraybuffer",t.onopen=function(t){e.nQ(),n.te().debug(n.mn+"HiveServicesConnection established to "+e.$G),e.zG=(new e.rQ).getTime(),e.sQ(),e.WG.forEach(function(t){return t(e)}),e.oQ(),e.aQ()},t.onclose=function(t){e.close(e.ZG),e.connect()},t.onmessage=function(t){e.Ae(n.pc.fu(t.data))},t.onerror=function(t){e.close(!0),e.JG.forEach(function(e){return e(t.toString())})},t},e.prototype.isOpen=function(){return null!=this.ME&&this.ME.readyState==this.ME.OPEN},e.prototype.connect=function(e){var t=this;e&&(this.ZG=!0),this.ZG&&1!=this.isOpen()&&(this.YG>0||(this.zG>-1&&(new this.rQ).getTime()-this.zG>this.lp?(this.KG=n.N.lu,this.zG=-1):this.KG=Math.min(2*this.KG,this.lp),this.YG=window.setTimeout(function(){t.YG=-1,n.te().debug(n.mn+"Connection attempt to "+t.$G+" [t:"+t.KG+" hb:"+t.XG+"]"),t.ME=t.iQ(),t.KG=Math.max(t.KG,n.N.lu)},this.KG)))},e.prototype.nQ=function(){this.YG>-1&&(clearTimeout(this.YG),this.YG=-1)},e.prototype.close=function(e){this.ZG=void 0!=e&&e,n.te().debug(n.mn+"Closing connection [reconnect:"+this.ZG+"]"),this.nQ(),null!=this.ME&&(this.ME.close(),this.ME=null)},e.prototype.sQ=function(){for(;this.eQ.length>0;){var e=this.eQ.pop();try{e.QG()?e.GG.reject(new Error("Message expired")):(this.oQ(),this.ME.send(e.msg.pu()))}catch(t){if(t.code===DOMException.INVALID_STATE_ERR){this.eQ.push(e);break}n.te().error(n.mn+"Failed to send the message, dropped: ",t.code,t.name),e.GG.reject(t)}}this.aQ()},e.prototype.oQ=function(){this.hQ&&(clearTimeout(this.hQ),this.hQ=null)},e.prototype.aQ=function(){var e=this;this.XG&&!this.hQ&&(this.hQ=window.setInterval(function(){e.send(new n.pc(Services.cQ,0,""))},this.tQ))},e.prototype.send=function(e,t){if(void 0===t&&(t=this.fp),this.eQ.length>=this.pp)throw new Error("HiveServices connection cannot queue more messages");var r=new s(e,t);return this.eQ.push(r),this.ME&&this.sQ(),r.GG.Te},e.prototype.uQ=function(e){this.XG=e,this.XG&&this.aQ()},e.prototype.lQ=function(){return null!=this.ME},e}();t.AL=o},function(e,t){Services={1:"REMOTE_EXECUTOR",pQ:1,2:"PEER_FORWARDER",fQ:2,3:"PEER_INDEX",dQ:3,4:"PEER_BROADCAST",gQ:4,5:"PEER_FILTER",vQ:5,6:"PEER_LOGGING",yQ:6,7:"HIVEJS_TRACKER",mQ:7,8:"PEER_SYSTEM",EQ:8,9:"HIVEJS_SNAPSHOTS",fc:9,10:"HIVEJS_TICKETS",PL:10,11:"HIVEJS_KEEPALIVE",cQ:11,12:"HIVEJS_FORWARDING",TQ:12}},function(e,t){e.t=function(){return new Function}},function(e,t,r){"use strict";var i=function(){function e(e,t){this.Uc=e,this.xc=t}return e.prototype.Kc=function(){return this.Uc},e.prototype.Yc=function(){return this.xc?this.xc:this.Uc},e}();t.tM=i},function(e,t,r){"use strict";var i=this&&this.Ns||function(e,t){function r(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=r(78),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.Yh=function(){return this.PM?this.PM:null},t}(n.AM);t.dM=s},function(e,t,r){"use strict";var i=r(70),n=r(2),s=r(0),o=r(24),a=function(){function e(){this.indexedDB=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,this.te=s.Framework.resolve(s.Framework.q.I).log()}return e.prototype.$L=function(){var e=n.defer(),t=this.indexedDB.open("PrivateIPDB");return t.onupgradeneeded=function(){t.result.createObjectStore("PrivateIPStore",{keyPath:"id"})},t.onsuccess=function(){var r=t.result;e.resolve(r)},t.onerror=function(t){e.reject(t)},e.Te},e.prototype.jM=function(){var e=this;if(this.IQ)return this.IQ;var t=setTimeout(function(){e.te.warn("Private list retrieval timeout"),r.reject("Private list timeout")},4e3),r=n.defer();if(o.nc.Mi&&this.indexedDB){this.$L().then(function(n){var s=n.transaction("PrivateIPStore","readwrite"),o=s.objectStore("PrivateIPStore"),a=o.get("iplist");a.onsuccess=function(){clearTimeout(t);var e=[];i.iF(a.result)||i.iF(a.result.value)||(e=a.result.value.split("|")),r.resolve(e),n.close()},a.onerror=function(i){clearTimeout(t),e.te.warn("I got an error on indexed db "+i.message),r.reject("Error on indexedDB "+i.message)}}).fail(function(i){clearTimeout(t),e.te.warn("DB is not open with error"+i.message),r.reject("DB is not open with error "+i.message)})}else clearTimeout(t),r.reject({message:"DB is not ready or enabled"});return this.IQ=r.Te,this.IQ},e.prototype.YM=function(e){var t=this;if(o.nc.Mi&&this.indexedDB){var r=e.join("|");this.$L().then(function(i){var n=i.transaction("PrivateIPStore","readwrite");n.objectStore("PrivateIPStore").put({id:"iplist",value:r}),n.oncomplete=function(){t.te.debug("Storing site matched ips ["+e.join(",")+"]"),i.close()}}).fail(function(e){t.te.warn("DB is not open with error "+e.message)})}},e}();t.MM=a},function(e,t,r){"use strict";var i=r(17).log,n=r(17).Da,s={i_:function(){window.MediaStream=window.MediaStream||window.webkitMediaStream},s_:function(){"object"!=typeof window||!window.RTCPeerConnection||"ontrack"in window.RTCPeerConnection.prototype||Object.defineProperty(window.RTCPeerConnection.prototype,"ontrack",{get:function(){return this.wQ},set:function(e){var t=this;this.wQ&&(this.removeEventListener("track",this.wQ),this.removeEventListener("addstream",this.SQ)),this.addEventListener("track",this.wQ=e),this.addEventListener("addstream",this.SQ=function(e){e.stream.addEventListener("addtrack",function(r){var i=new Event("track");i.track=r.track,i.receiver={track:r.track},i.ho=[e.stream],t.dispatchEvent(i)}),e.stream.getTracks().forEach(function(t){var r=new Event("track");r.track=t,r.receiver={track:t},r.ho=[e.stream],this.dispatchEvent(r)}.bind(this))}.bind(this))}})},o_:function(){if("object"==typeof window&&window.RTCPeerConnection&&!("getSenders"in RTCPeerConnection.prototype)&&"createDTMFSender"in RTCPeerConnection.prototype){RTCPeerConnection.prototype.getSenders=function(){return this.RQ};var e=RTCPeerConnection.prototype.addStream,t=RTCPeerConnection.prototype.removeStream;RTCPeerConnection.prototype.addStream=function(t){var r=this;r.RQ=r.RQ||[],e.apply(r,[t]),t.getTracks().forEach(function(e){r.RQ.push({track:e,get bQ(){return void 0===this.PQ&&("audio"===e.kind?this.PQ=r.createDTMFSender(e):this.PQ=null),this.PQ}})})},RTCPeerConnection.prototype.removeStream=function(e){var r=this;r.RQ=r.RQ||[],t.apply(r,[e]),e.getTracks().forEach(function(e){var t=r.RQ.find(function(t){return t.track===e});t&&r.RQ.splice(r.RQ.indexOf(t),1)})}}},n_:function(){"object"==typeof window&&(!window.HTMLMediaElement||"srcObject"in window.HTMLMediaElement.prototype||Object.defineProperty(window.HTMLMediaElement.prototype,"srcObject",{get:function(){return this.AQ},set:function(e){var t=this;if(this.AQ=e,this.src&&URL.revokeObjectURL(this.src),!e)return void(this.src="");this.src=URL.createObjectURL(e),e.addEventListener("addtrack",function(){t.src&&URL.revokeObjectURL(t.src),t.src=URL.createObjectURL(e)}),e.addEventListener("removetrack",function(){t.src&&URL.revokeObjectURL(t.src),t.src=URL.createObjectURL(e)})}}))},e_:function(){window.RTCPeerConnection||(window.RTCPeerConnection=function(e,t){return i("PeerConnection"),e&&e.CQ&&(e.kQ=e.CQ),new webkitRTCPeerConnection(e,t)},window.RTCPeerConnection.prototype=webkitRTCPeerConnection.prototype,webkitRTCPeerConnection.OQ&&Object.defineProperty(window.RTCPeerConnection,"generateCertificate",{get:function(){return webkitRTCPeerConnection.OQ}}));var e=RTCPeerConnection.prototype.getStats;RTCPeerConnection.prototype.getStats=function(t,r,i){var n=this,s=arguments;if(arguments.length>0&&"function"==typeof t)return e.apply(this,arguments);if(0===e.length&&(0===arguments.length||"function"!=typeof arguments[0]))return e.apply(this,[]);var o=function(e){var t={};return e.result().forEach(function(e){var r={id:e.id,timestamp:e.timestamp,type:{_Q:"local-candidate",NQ:"remote-candidate"}[e.type]||e.type};e.names().forEach(function(t){r[t]=e.DQ(t)}),t[r.id]=r}),t},a=function(e){return new Map(Object.keys(e).map(function(t){return[t,e[t]]}))};if(arguments.length>=2){var h=function(e){s[1](a(o(e)))};return e.apply(this,[h,arguments[0]])}return new Promise(function(t,r){e.apply(n,[function(e){t(a(o(e)))},r])}).then(r,i)},n.version<51&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(e){var t=RTCPeerConnection.prototype[e];RTCPeerConnection.prototype[e]=function(){var e=arguments,r=this,i=new Promise(function(i,n){t.apply(r,[e[0],i,n])});return e.length<2?i:i.then(function(){e[1].apply(null,[])},function(t){e.length>=3&&e[2].apply(null,[t])})}}),n.version<52&&["createOffer","createAnswer"].forEach(function(e){var t=RTCPeerConnection.prototype[e];RTCPeerConnection.prototype[e]=function(){var e=this;if(arguments.length<1||1===arguments.length&&"object"==typeof arguments[0]){var r=1===arguments.length?arguments[0]:void 0;return new Promise(function(i,n){t.apply(e,[i,n,r])})}return t.apply(this,arguments)}}),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(e){var t=RTCPeerConnection.prototype[e];RTCPeerConnection.prototype[e]=function(){return arguments[0]=new("addIceCandidate"===e?RTCIceCandidate:RTCSessionDescription)(arguments[0]),t.apply(this,arguments)}});var t=RTCPeerConnection.prototype.addIceCandidate;RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?t.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())}}};e.t={i_:s.i_,s_:s.s_,o_:s.o_,n_:s.n_,e_:s.e_,r_:r(121)}},function(e,t,r){"use strict";var i=r(17).log,n=r(17).Da;e.t=function(){var e=function(e){if("object"!=typeof e||e.FQ||e.optional)return e;var t={};return Object.keys(e).forEach(function(r){if("require"!==r&&"advanced"!==r&&"mediaSource"!==r){var i="object"==typeof e[r]?e[r]:{LQ:e[r]};void 0!==i.MQ&&"number"==typeof i.MQ&&(i.min=i.max=i.MQ);var n=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==i.LQ){t.optional=t.optional||[];var s={};"number"==typeof i.LQ?(s[n("min",r)]=i.LQ,t.optional.push(s),s={},s[n("max",r)]=i.LQ,t.optional.push(s)):(s[n("",r)]=i.LQ,t.optional.push(s))}void 0!==i.MQ&&"number"!=typeof i.MQ?(t.FQ=t.FQ||{},t.FQ[n("",r)]=i.MQ):["min","max"].forEach(function(e){void 0!==i[e]&&(t.FQ=t.FQ||{},t.FQ[n(e,r)]=i[e])})}}),e.BQ&&(t.optional=(t.optional||[]).concat(e.BQ)),t},t=function(t,r){if(t=JSON.parse(JSON.stringify(t)),t&&t.YE&&(t.YE=e(t.YE)),t&&"object"==typeof t.video){var s=t.video.UQ;s=s&&("object"==typeof s?s:{LQ:s});var o=n.version<59;if(s&&("user"===s.MQ||"environment"===s.MQ||"user"===s.LQ||"environment"===s.LQ)&&(!navigator.mediaDevices.xQ||!navigator.mediaDevices.xQ().UQ||o)&&(delete t.video.UQ,"environment"===s.MQ||"environment"===s.LQ))return navigator.mediaDevices.HQ().then(function(n){n=n.filter(function(e){return"videoinput"===e.kind});var o=n.find(function(e){return-1!==e.label.toLowerCase().indexOf("back")})||n.length&&n[n.length-1];return o&&(t.video.qQ=s.MQ?{MQ:o.qQ}:{LQ:o.qQ}),t.video=e(t.video),i("chrome: "+JSON.stringify(t)),r(t)});t.video=e(t.video)}return i("chrome: "+JSON.stringify(t)),r(t)},r=function(e){return{name:{VQ:"NotAllowedError",jQ:"OverconstrainedError"}[e.name]||e.name,message:e.message,GQ:e.QQ,toString:function(){return this.name+(this.message&&": ")+this.message}}},s=function(e,i,n){t(e,function(e){navigator.webkitGetUserMedia(e,i,function(e){n(r(e))})})};navigator.getUserMedia=s;var o=function(e){return new Promise(function(t,r){navigator.getUserMedia(e,t,r)})};if(navigator.mediaDevices||(navigator.mediaDevices={getUserMedia:o,HQ:function(){return new Promise(function(e){var t={YE:"audioinput",video:"videoinput"};return MediaStreamTrack.getSources(function(r){e(r.map(function(e){return{label:e.label,kind:t[e.kind],qQ:e.id,KQ:""}}))})})},xQ:function(){return{qQ:!0,YQ:!0,UQ:!0,zQ:!0,height:!0,width:!0}}}),navigator.mediaDevices.getUserMedia){var a=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);navigator.mediaDevices.getUserMedia=function(e){return t(e,function(e){return a(e).then(function(t){if(e.YE&&!t.getAudioTracks().length||e.video&&!t.getVideoTracks().length)throw t.getTracks().forEach(function(e){e.stop()}),new DOMException("","NotFoundError");return t},function(e){return Promise.reject(r(e))})})}}else navigator.mediaDevices.getUserMedia=function(e){return o(e)};void 0===navigator.mediaDevices.addEventListener&&(navigator.mediaDevices.addEventListener=function(){i("Dummy mediaDevices.addEventListener called.")}),void 0===navigator.mediaDevices.removeEventListener&&(navigator.mediaDevices.removeEventListener=function(){i("Dummy mediaDevices.removeEventListener called.")})}},function(e,t,r){"use strict";function i(e){var t=e.filter(function(e){return"audio"===e.kind}),r=e.filter(function(e){return"video"===e.kind});for(e=[];t.length||r.length;)t.length&&e.push(t.shift()),r.length&&e.push(r.shift());return e}function n(e){var t=!1;return e=JSON.parse(JSON.stringify(e)),e.filter(function(e){if(e&&(e.JQ||e.url)){var r=e.JQ||e.url,i="string"==typeof r;return i&&(r=[r]),r=r.filter(function(e){return 0!==e.indexOf("turn:")||-1===e.indexOf("transport=udp")||-1!==e.indexOf("turn:[")||t?0===e.indexOf("stun:")&&o.version>=14393:(t=!0,!0)}),delete e.url,e.JQ=i?r[0]:r,!!r.length}return!1})}var s=r(123),o=r(17).Da,a={e_:function(){if(window.WQ&&(window.RTCIceCandidate||(window.RTCIceCandidate=function(e){return e}),window.RTCSessionDescription||(window.RTCSessionDescription=function(e){return e}),o.version<15025)){var e=Object.getOwnPropertyDescriptor(MediaStreamTrack.prototype,"enabled");Object.defineProperty(MediaStreamTrack.prototype,"enabled",{set:function(t){e.set.call(this,t);var r=new Event("enabled");r.enabled=t,this.dispatchEvent(r)}})}window.RTCPeerConnection=function(e){var t=this,r=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach(function(e){t[e]=r[e].bind(r)}),this.onicecandidate=null,this.onaddstream=null,this.XQ=null,this.onremovestream=null,this.onsignalingstatechange=null,this.oniceconnectionstatechange=null,this.ZQ=null,this.onnegotiationneeded=null,this.ondatachannel=null,this.$Q=[],this.eK=[],this.getLocalStreams=function(){return t.$Q},this.getRemoteStreams=function(){return t.eK},this.localDescription=new RTCSessionDescription({type:"",sdp:""}),this.remoteDescription=new RTCSessionDescription({type:"",sdp:""}),this.signalingState="stable",this.iceConnectionState="new",this.iceGatheringState="new",this.tK={rK:"all",iceServers:[]},e&&e.CQ)switch(e.CQ){case"all":case"relay":this.tK.rK=e.CQ}this.iK=e&&"max-bundle"===e.nK,e&&e.iceServers&&(this.tK.iceServers=n(e.iceServers)),this.sK=e,this.oK=[],this.aK=[]},window.RTCPeerConnection.prototype.hK=function(){var e=new Event("icegatheringstatechange");this.dispatchEvent(e),null!==this.ZQ&&this.ZQ(e)},window.RTCPeerConnection.prototype.cK=function(){var e=this,t=s.uK(e.localDescription.sdp);this.aK.forEach(function(r){if(r.candidate&&0!==Object.keys(r.candidate).length)t[r.candidate.sdpMLineIndex+1]+="a="+r.candidate.candidate+"\r\n";else for(var i=1;i<t.length;i++)-1===t[i].indexOf("\r\na=end-of-candidates\r\n")&&(t[i]+="a=end-of-candidates\r\n");if(e.localDescription.sdp=t.join(""),e.dispatchEvent(r),null!==e.onicecandidate&&e.onicecandidate(r),!r.candidate&&"complete"!==e.iceGatheringState){e.oK.every(function(e){return e.lK&&"completed"===e.lK.state})&&"complete"!==e.pK&&(e.iceGatheringState="complete",e.hK())}}),this.aK=[]},window.RTCPeerConnection.prototype.getConfiguration=function(){return this.sK},window.RTCPeerConnection.prototype.addStream=function(e){if(o.version>=15025)this.$Q.push(e);else{var t=e.clone();e.getTracks().forEach(function(e,r){var i=t.getTracks()[r];e.addEventListener("enabled",function(e){i.enabled=e.enabled})}),this.$Q.push(t)}this.fK()},window.RTCPeerConnection.prototype.removeStream=function(e){var t=this.$Q.indexOf(e);t>-1&&(this.$Q.splice(t,1),this.fK())},window.RTCPeerConnection.prototype.getSenders=function(){return this.oK.filter(function(e){return!!e.dK}).map(function(e){return e.dK})},window.RTCPeerConnection.prototype.getReceivers=function(){return this.oK.filter(function(e){return!!e.gK}).map(function(e){return e.gK})},window.RTCPeerConnection.prototype.vK=function(e,t){var r={yK:[],mK:[],EK:[]},i=function(e,t){e=parseInt(e,10);for(var r=0;r<t.length;r++)if(t[r].TK===e||t[r].IK===e)return t[r]},n=function(e,t,r,n){var s=i(e.parameters.wK,r),o=i(t.parameters.wK,n);return s&&o&&s.name.toLowerCase()===o.name.toLowerCase()};return e.yK.forEach(function(i){for(var s=0;s<t.yK.length;s++){var o=t.yK[s];if(i.name.toLowerCase()===o.name.toLowerCase()&&i.SK===o.SK){if("rtx"===i.name.toLowerCase()&&i.parameters&&o.parameters.wK&&!n(i,o,e.yK,t.yK))continue;o=JSON.parse(JSON.stringify(o)),o.RK=Math.min(i.RK,o.RK),r.yK.push(o),o.bK=o.bK.filter(function(e){for(var t=0;t<i.bK.length;t++)if(i.bK[t].type===e.type&&i.bK[t].PK===e.PK)return!0;return!1});break}}}),e.mK.forEach(function(e){for(var i=0;i<t.mK.length;i++){var n=t.mK[i];if(e.uri===n.uri){r.mK.push(n);break}}}),r},window.RTCPeerConnection.prototype.AK=function(e,t){var r=this,i=new RTCIceGatherer(r.tK),n=new RTCIceTransport(i);i.CK=function(o){var a=new Event("icecandidate");a.candidate={sdpMid:e,sdpMLineIndex:t};var h=o.candidate,c=!h||0===Object.keys(h).length;c?void 0===i.state&&(i.state="completed"):(h.kK="RTCP"===n.kK?2:1,a.candidate.candidate=s.OK(h));var u=s.uK(r.localDescription.sdp);u[a.candidate.sdpMLineIndex+1]+=c?"a=end-of-candidates\r\n":"a="+a.candidate.candidate+"\r\n",r.localDescription.sdp=u.join("");var l=r._K?r._K:r.oK,p=l.every(function(e){return e.lK&&"completed"===e.lK.state});switch(r.iceGatheringState){case"new":c||r.aK.push(a),c&&p&&r.aK.push(new Event("icecandidate"));break;case"gathering":r.cK(),c||(r.dispatchEvent(a),null!==r.onicecandidate&&r.onicecandidate(a)),p&&(r.dispatchEvent(new Event("icecandidate")),null!==r.onicecandidate&&r.onicecandidate(new Event("icecandidate")),r.iceGatheringState="complete",r.hK())}},n.NK=function(){r.DK()};var o=new RTCDtlsTransport(n);return o.FK=function(){r.DK()},o.onerror=function(){o.state="failed",r.DK()},{lK:i,LK:n,MK:o}},window.RTCPeerConnection.prototype.BK=function(e,t,r){var i=this.vK(e.UK,e.xK);t&&e.dK&&(i.HK=e.qK,i.VK={jK:s.GK},e.QK.length&&(i.VK.KK=e.QK[0].KK),e.dK.send(i)),r&&e.gK&&("video"===e.kind&&e.QK&&o.version<15019&&e.QK.forEach(function(e){delete e.YK}),i.HK=e.QK,i.VK={jK:e.jK},e.qK.length&&(i.VK.KK=e.qK[0].KK),e.gK.zK(i))},window.RTCPeerConnection.prototype.setLocalDescription=function(e){var t,r,i=this;if("offer"===e.type)this._K&&(t=s.uK(e.sdp),r=t.shift(),t.forEach(function(e,t){var r=s.JK(e);i._K[t].UK=r}),this.oK=this._K,delete this._K);else if("answer"===e.type){t=s.uK(i.remoteDescription.sdp),r=t.shift();var n=s.WK(r,"a=ice-lite").length>0;t.forEach(function(e,t){var o=i.oK[t],a=o.lK,h=o.LK,c=o.MK,u=o.UK,l=o.xK;if("0"!==e.split("\n",1)[0].split(" ",2)[1]&&!o.XK){var p=s.ZK(e,r),f=s.$K(e,r);n&&(f.eY="server"),i.iK&&0!==t||(h.start(a,p,n?"controlling":"controlled"),c.start(f));var d=i.vK(u,l);i.BK(o,d.yK.length>0,!1)}})}switch(this.localDescription={type:e.type,sdp:e.sdp},e.type){case"offer":this.tY("have-local-offer");break;case"answer":this.tY("stable");break;default:throw new TypeError('unsupported type "'+e.type+'"')}var o=arguments.length>1&&"function"==typeof arguments[1];if(o){var a=arguments[1];window.setTimeout(function(){a(),"new"===i.iceGatheringState&&(i.iceGatheringState="gathering",i.hK()),i.cK()},0)}var h=Promise.resolve();return h.then(function(){o||("new"===i.iceGatheringState&&(i.iceGatheringState="gathering",i.hK()),window.setTimeout(i.cK.bind(i),500))}),h},window.RTCPeerConnection.prototype.setRemoteDescription=function(e){var t=this,r=new MediaStream,i=[],n=s.uK(e.sdp),a=n.shift(),h=s.WK(a,"a=ice-lite").length>0;switch(this.iK=s.WK(a,"a=group:BUNDLE ").length>0,n.forEach(function(n,c){var u=s.rY(n),l=u[0].substr(2).split(" "),p=l[0],f="0"===l[1],d=s.iY(n,a),g=s.WK(n,"a=mid:");if(g=g.length?g[0].substr(6):s.nY(),"application"===p&&"DTLS/SCTP"===l[2])return void(t.oK[c]={sY:g,XK:!0});var v,y,m,E,T,I,w,S,R,b,P,A,C=s.JK(n);f||(P=s.ZK(n,a),A=s.$K(n,a),A.eY="client"),S=s.oY(n);var k,O=s.WK(n,"a=ssrc:").map(function(e){return s.aY(e)}).filter(function(e){return"cname"===e.hY})[0];O&&(k=O.value);var _=s.WK(n,"a=end-of-candidates",a).length>0,N=s.WK(n,"a=candidate:").map(function(e){return s.QM(e)}).filter(function(e){return"1"===e.kK});if("offer"!==e.type||f)"answer"!==e.type||f||(v=t.oK[c],y=v.lK,m=v.LK,E=v.MK,T=v.dK,I=v.gK,w=v.qK,R=v.UK,t.oK[c].QK=S,t.oK[c].xK=C,t.oK[c].jK=k,(h||_)&&N.length&&m.cY(N),t.iK&&0!==c||(m.start(y,P,"controlling"),E.start(A)),t.BK(v,"sendrecv"===d||"recvonly"===d,"sendrecv"===d||"sendonly"===d),!I||"sendrecv"!==d&&"sendonly"!==d?delete v.gK:(b=I.track,i.push([b,I]),r.addTrack(b)));else{var D=t.iK&&c>0?{lK:t.oK[0].lK,LK:t.oK[0].LK,MK:t.oK[0].MK}:t.AK(g,c);if(!_||t.iK&&0!==c||D.LK.cY(N),R=RTCRtpReceiver.uY(p),o.version<15019&&(R.yK=R.yK.filter(function(e){return"rtx"!==e.name})),w=[{KK:1001*(2*c+2)}],"sendrecv"!==d&&"sendonly"!==d||(I=new RTCRtpReceiver(D.MK,p),b=I.track,i.push([b,I]),r.addTrack(b)),t.$Q.length>0&&t.$Q[0].getTracks().length>=c){var F;"audio"===p?F=t.$Q[0].getAudioTracks()[0]:"video"===p&&(F=t.$Q[0].getVideoTracks()[0]),F&&(o.version>=15019&&"video"===p&&(w[0].YK={KK:1001*(2*c+2)+1}),T=new RTCRtpSender(F,D.MK))}t.oK[c]={lK:D.lK,LK:D.LK,MK:D.MK,UK:R,xK:C,dK:T,gK:I,kind:p,sY:g,jK:k,qK:w,QK:S},t.BK(t.oK[c],!1,"sendrecv"===d||"sendonly"===d)}}),this.remoteDescription={type:e.type,sdp:e.sdp},e.type){case"offer":this.tY("have-remote-offer");break;case"answer":this.tY("stable");break;default:throw new TypeError('unsupported type "'+e.type+'"')}return r.getTracks().length&&(t.eK.push(r),window.setTimeout(function(){var e=new Event("addstream");e.stream=r,t.dispatchEvent(e),null!==t.onaddstream&&window.setTimeout(function(){t.onaddstream(e)},0),i.forEach(function(e){var i=e[0],n=e[1],s=new Event("track");s.track=i,s.receiver=n,s.ho=[r],t.dispatchEvent(s),null!==t.XQ&&window.setTimeout(function(){t.XQ(s)},0)})},0)),arguments.length>1&&"function"==typeof arguments[1]&&window.setTimeout(arguments[1],0),Promise.resolve()},window.RTCPeerConnection.prototype.close=function(){this.oK.forEach(function(e){e.LK&&e.LK.stop(),e.MK&&e.MK.stop(),e.dK&&e.dK.stop(),e.gK&&e.gK.stop()}),this.tY("closed")},window.RTCPeerConnection.prototype.tY=function(e){this.signalingState=e;var t=new Event("signalingstatechange");this.dispatchEvent(t),null!==this.onsignalingstatechange&&this.onsignalingstatechange(t)},window.RTCPeerConnection.prototype.fK=function(){var e=new Event("negotiationneeded");this.dispatchEvent(e),null!==this.onnegotiationneeded&&this.onnegotiationneeded(e)},window.RTCPeerConnection.prototype.DK=function(){var e,t=this,r={lY:0,closed:0,pY:0,fY:0,connected:0,dY:0,xn:0};if(this.oK.forEach(function(e){r[e.LK.state]++,r[e.MK.state]++}),r.connected+=r.dY,e="new",r.xn>0?e="failed":r.pY>0||r.fY>0?e="connecting":r.gY>0?e="disconnected":r.lY>0?e="new":(r.connected>0||r.dY>0)&&(e="connected"),e!==t.iceConnectionState){t.iceConnectionState=e;var i=new Event("iceconnectionstatechange");this.dispatchEvent(i),null!==this.oniceconnectionstatechange&&this.oniceconnectionstatechange(i)}},window.RTCPeerConnection.prototype.createOffer=function(){var e=this;if(this._K)throw new Error("createOffer called while there is a pending offer.");var t;1===arguments.length&&"function"!=typeof arguments[0]?t=arguments[0]:3===arguments.length&&(t=arguments[2]);var r=[],n=0,a=0;if(this.$Q.length&&(n=this.$Q[0].getAudioTracks().length,a=this.$Q[0].getVideoTracks().length),t){if(t.FQ||t.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");void 0!==t.vY&&(n=t.vY),void 0!==t.yY&&(a=t.yY)}for(this.$Q.length&&this.$Q[0].getTracks().forEach(function(e){r.push({kind:e.kind,track:e,mY:"audio"===e.kind?n>0:a>0}),"audio"===e.kind?n--:"video"===e.kind&&a--});n>0||a>0;)n>0&&(r.push({kind:"audio",mY:!0}),n--),a>0&&(r.push({kind:"video",mY:!0}),a--);r=i(r);var h=s.EY(),c=[];r.forEach(function(t,r){var i=t.track,n=t.kind,a=s.nY(),h=e.iK&&r>0?{lK:c[0].lK,LK:c[0].LK,MK:c[0].MK}:e.AK(a,r),u=RTCRtpSender.uY(n);o.version<15019&&(u.yK=u.yK.filter(function(e){return"rtx"!==e.name})),u.yK.forEach(function(e){"H264"===e.name&&void 0===e.parameters["TY"]&&(e.parameters["TY"]="1")});var l,p,f=[{KK:1001*(2*r+1)}];i&&(o.version>=15019&&"video"===n&&(f[0].YK={KK:1001*(2*r+1)+1}),l=new RTCRtpSender(i,h.MK)),t.mY&&(p=new RTCRtpReceiver(h.MK,n)),c[r]={lK:h.lK,LK:h.LK,MK:h.MK,UK:u,xK:null,dK:l,gK:p,kind:n,sY:a,qK:f,QK:null}}),this.iK&&(h+="a=group:BUNDLE "+c.map(function(e){return e.sY}).join(" ")+"\r\n"),r.forEach(function(t,r){var i=c[r];h+=s.IY(i,i.UK,"offer",e.$Q[0])}),this._K=c;var u=new RTCSessionDescription({type:"offer",sdp:h});return arguments.length&&"function"==typeof arguments[0]&&window.setTimeout(arguments[0],0,u),Promise.resolve(u)},window.RTCPeerConnection.prototype.createAnswer=function(){var e=this,t=s.EY();this.iK&&(t+="a=group:BUNDLE "+this.oK.map(function(e){return e.sY}).join(" ")+"\r\n"),this.oK.forEach(function(r){if(r.XK)return void(t+="m=application 0 DTLS/SCTP 5000\r\nc=IN IP4 0.0.0.0\r\na=mid:"+r.sY+"\r\n");var i=e.vK(r.UK,r.xK);t+=s.IY(r,i,"answer",e.$Q[0])});var r=new RTCSessionDescription({type:"answer",sdp:t});return arguments.length&&"function"==typeof arguments[0]&&window.setTimeout(arguments[0],0,r),Promise.resolve(r)},window.RTCPeerConnection.prototype.addIceCandidate=function(e){if(e){var t=e.sdpMLineIndex;if(e.sdpMid)for(var r=0;r<this.oK.length;r++)if(this.oK[r].sY===e.sdpMid){t=r;break}var i=this.oK[t];if(i){var n=Object.keys(e.candidate).length>0?s.QM(e.candidate):{};if("tcp"===n.protocol&&(0===n.port||9===n.port))return Promise.resolve();if("1"!==n.kK)return Promise.resolve();i.LK.wY(n);var o=s.uK(this.remoteDescription.sdp);o[t+1]+=(n.type?e.candidate.trim():"a=end-of-candidates")+"\r\n",this.remoteDescription.sdp=o.join("")}}else for(var a=0;a<this.oK.length;a++)if(this.oK[a].LK.wY({}),this.iK)return Promise.resolve();return arguments.length>1&&"function"==typeof arguments[1]&&window.setTimeout(arguments[1],0),Promise.resolve()},window.RTCPeerConnection.prototype.getStats=function(){var e=[];this.oK.forEach(function(t){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach(function(r){t[r]&&e.push(t[r].getStats())})});var t=arguments.length>1&&"function"==typeof arguments[1]&&arguments[1],r=function(e){return{SY:"inbound-rtp",RY:"outbound-rtp",bY:"candidate-pair",_Q:"local-candidate",NQ:"remote-candidate"}[e.type]||e.type};return new Promise(function(i){var n=new Map;Promise.all(e).then(function(e){e.forEach(function(e){Object.keys(e).forEach(function(t){e[t].type=r(e[t]),n.set(t,e[t])})}),t&&window.setTimeout(t,0,n),i(n)})})}}};e.t={e_:a.e_,r_:r(124)}},function(e,t,r){"use strict";var i={};i.nY=function(){return Math.random().toString(36).substr(2,10)},i.GK=i.nY(),i.rY=function(e){return e.trim().split("\n").map(function(e){return e.trim()})},i.uK=function(e){return e.split("\nm=").map(function(e,t){return(t>0?"m="+e:e).trim()+"\r\n"})},i.WK=function(e,t){return i.rY(e).filter(function(e){return 0===e.indexOf(t)})},i.QM=function(e){var t;t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" ");for(var r={PY:t[0],kK:t[1],protocol:t[2].toLowerCase(),AY:parseInt(t[3],10),CY:t[4],port:parseInt(t[5],10),type:t[7]},i=8;i<t.length;i+=2)switch(t[i]){case"raddr":r.kY=t[i+1];break;case"rport":r.OY=parseInt(t[i+1],10);break;case"tcptype":r._Y=t[i+1];break;default:r[t[i]]=t[i+1]}return r},i.OK=function(e){var t=[];t.push(e.PY),t.push(e.kK),t.push(e.protocol.toUpperCase()),t.push(e.AY),t.push(e.CY),t.push(e.port);var r=e.type;return t.push("typ"),t.push(r),"host"!==r&&e.kY&&e.OY&&(t.push("raddr"),t.push(e.kY),t.push("rport"),t.push(e.OY)),e._Y&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e._Y)),"candidate:"+t.join(" ")},i.NY=function(e){return e.substr(14).split(" ")},i.DY=function(e){var t=e.substr(9).split(" "),r={TK:parseInt(t.shift(),10)};return t=t[0].split("/"),r.name=t[0],r.SK=parseInt(t[1],10),r.RK=3===t.length?parseInt(t[2],10):1,r},i.FY=function(e){var t=e.TK;return void 0!==e.IK&&(t=e.IK),"a=rtpmap:"+t+" "+e.name+"/"+e.SK+(1!==e.RK?"/"+e.RK:"")+"\r\n"},i.LY=function(e){var t=e.substr(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1]}},i.MY=function(e){return"a=extmap:"+(e.id||e.BY)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+"\r\n"},i.UY=function(e){for(var t,r={},i=e.substr(e.indexOf(" ")+1).split(";"),n=0;n<i.length;n++)t=i[n].trim().split("="),r[t[0].trim()]=t[1];return r},i.xY=function(e){var t="",r=e.TK;if(void 0!==e.IK&&(r=e.IK),e.parameters&&Object.keys(e.parameters).length){var i=[];Object.keys(e.parameters).forEach(function(t){i.push(t+"="+e.parameters[t])}),t+="a=fmtp:"+r+" "+i.join(";")+"\r\n"}return t},i.HY=function(e){var t=e.substr(e.indexOf(" ")+1).split(" ");return{type:t.shift(),PK:t.join(" ")}},i.qY=function(e){var t="",r=e.TK;return void 0!==e.IK&&(r=e.IK),e.bK&&e.bK.length&&e.bK.forEach(function(e){t+="a=rtcp-fb:"+r+" "+e.type+(e.PK&&e.PK.length?" "+e.PK:"")+"\r\n"}),t},i.aY=function(e){var t=e.indexOf(" "),r={KK:parseInt(e.substr(7,t-7),10)},i=e.indexOf(":",t);return i>-1?(r.hY=e.substr(t+1,i-t-1),r.value=e.substr(i+1)):r.hY=e.substr(t+1),r},i.VY=function(e){var t=i.WK(e,"a=mid:")[0];if(t)return t.substr(6)},i.jY=function(e){var t=e.substr(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1]}},i.$K=function(e,t){return{eY:"auto",GY:i.WK(e+t,"a=fingerprint:").map(i.jY)}},i.QY=function(e,t){var r="a=setup:"+t+"\r\n";return e.GY.forEach(function(e){r+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"}),r},i.ZK=function(e,t){var r=i.rY(e);return r=r.concat(i.rY(t)),{KY:r.filter(function(e){return 0===e.indexOf("a=ice-ufrag:")})[0].substr(12),password:r.filter(function(e){return 0===e.indexOf("a=ice-pwd:")})[0].substr(10)}},i.YY=function(e){return"a=ice-ufrag:"+e.KY+"\r\na=ice-pwd:"+e.password+"\r\n"},i.JK=function(e){for(var t={yK:[],mK:[],EK:[],VK:[]},r=i.rY(e),n=r[0].split(" "),s=3;s<n.length;s++){var o=n[s],a=i.WK(e,"a=rtpmap:"+o+" ")[0];if(a){var h=i.DY(a),c=i.WK(e,"a=fmtp:"+o+" ");switch(h.parameters=c.length?i.UY(c[0]):{},h.bK=i.WK(e,"a=rtcp-fb:"+o+" ").map(i.HY),t.yK.push(h),h.name.toUpperCase()){case"RED":case"ULPFEC":t.EK.push(h.name.toUpperCase())}}}return i.WK(e,"a=extmap:").forEach(function(e){t.mK.push(i.LY(e))}),t},i.zY=function(e,t){var r="";r+="m="+e+" ",r+=t.yK.length>0?"9":"0",r+=" UDP/TLS/RTP/SAVPF ",r+=t.yK.map(function(e){return void 0!==e.IK?e.IK:e.TK}).join(" ")+"\r\n",r+="c=IN IP4 0.0.0.0\r\n",r+="a=rtcp:9 IN IP4 0.0.0.0\r\n",t.yK.forEach(function(e){r+=i.FY(e),r+=i.xY(e),r+=i.qY(e)});var n=0;return t.yK.forEach(function(e){e.JY>n&&(n=e.JY)}),n>0&&(r+="a=maxptime:"+n+"\r\n"),r+="a=rtcp-mux\r\n",t.mK.forEach(function(e){r+=i.MY(e)}),r},i.oY=function(e){var t,r=[],n=i.JK(e),s=-1!==n.EK.indexOf("RED"),o=-1!==n.EK.indexOf("ULPFEC"),a=i.WK(e,"a=ssrc:").map(function(e){return i.aY(e)}).filter(function(e){return"cname"===e.hY}),h=a.length>0&&a[0].KK,c=i.WK(e,"a=ssrc-group:FID").map(function(e){var t=e.split(" ");return t.shift(),t.map(function(e){return parseInt(e,10)})});c.length>0&&c[0].length>1&&c[0][0]===h&&(t=c[0][1]),n.yK.forEach(function(e){if("RTX"===e.name.toUpperCase()&&e.parameters.wK){var i={KK:h,WY:parseInt(e.parameters.wK,10),YK:{KK:t}};r.push(i),s&&(i=JSON.parse(JSON.stringify(i)),i.XY={KK:t,ZY:o?"red+ulpfec":"red"},r.push(i))}}),0===r.length&&h&&r.push({KK:h});var u=i.WK(e,"b=");return u.length&&(0===u[0].indexOf("b=TIAS:")?u=parseInt(u[0].substr(7),10):0===u[0].indexOf("b=AS:")&&(u=parseInt(u[0].substr(5),10)),r.forEach(function(e){e.$Y=u})),r},i.ez=function(e){var t={},r=i.WK(e,"a=ssrc:").map(function(e){return i.aY(e)}).filter(function(e){return"cname"===e.hY})[0];r&&(t.jK=r.value,t.KK=r.KK);var n=i.WK(e,"a=rtcp-rsize");t.tz=n.length>0,t.rz=0===n.length;var s=i.WK(e,"a=rtcp-mux");return t.iz=s.length>0,t},i.nz=function(e){var t,r=i.WK(e,"a=msid:");if(1===r.length)return t=r[0].substr(7).split(" "),{stream:t[0],track:t[1]};var n=i.WK(e,"a=ssrc:").map(function(e){return i.aY(e)}).filter(function(e){return"msid"===e.hY});return n.length>0?(t=n[0].value.split(" "),{stream:t[0],track:t[1]}):void 0},i.EY=function(){return"v=0\r\no=thisisadapterortc 8169639915646943137 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},i.IY=function(e,t,r,n){var s=i.zY(e.kind,t);if(s+=i.YY(e.lK.sz()),s+=i.QY(e.MK.sz(),"offer"===r?"actpass":"active"),s+="a=mid:"+e.sY+"\r\n",e.direction?s+="a="+e.direction+"\r\n":e.dK&&e.gK?s+="a=sendrecv\r\n":e.dK?s+="a=sendonly\r\n":e.gK?s+="a=recvonly\r\n":s+="a=inactive\r\n",e.dK){var o="msid:"+n.id+" "+e.dK.track.id+"\r\n";s+="a="+o,s+="a=ssrc:"+e.qK[0].KK+" "+o,e.qK[0].YK&&(s+="a=ssrc:"+e.qK[0].YK.KK+" "+o,s+="a=ssrc-group:FID "+e.qK[0].KK+" "+e.qK[0].YK.KK+"\r\n")}return s+="a=ssrc:"+e.qK[0].KK+" cname:"+i.GK+"\r\n",e.dK&&e.qK[0].YK&&(s+="a=ssrc:"+e.qK[0].YK.KK+" cname:"+i.GK+"\r\n"),s},i.iY=function(e,t){for(var r=i.rY(e),n=0;n<r.length;n++)switch(r[n]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return r[n].substr(2)}return t?i.iY(t):"sendrecv"},i.oz=function(e){return i.rY(e)[0].split(" ")[0].substr(2)},i.Ye=function(e){return"0"===e.split(" ",2)[1]},e.t=i},function(e,t,r){"use strict";e.t=function(){var e=function(e){return{name:{VQ:"NotAllowedError"}[e.name]||e.name,message:e.message,GQ:e.GQ,toString:function(){return this.name}}},t=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);navigator.mediaDevices.getUserMedia=function(r){return t(r).catch(function(t){return Promise.reject(e(t))})}}},function(e,t,r){"use strict";var i=r(17).Da,n={s_:function(){"object"!=typeof window||!window.RTCPeerConnection||"ontrack"in window.RTCPeerConnection.prototype||Object.defineProperty(window.RTCPeerConnection.prototype,"ontrack",{get:function(){return this.wQ},set:function(e){this.wQ&&(this.removeEventListener("track",this.wQ),this.removeEventListener("addstream",this.SQ)),this.addEventListener("track",this.wQ=e),this.addEventListener("addstream",this.SQ=function(e){e.stream.getTracks().forEach(function(t){var r=new Event("track");r.track=t,r.receiver={track:t},r.ho=[e.stream],this.dispatchEvent(r)}.bind(this))}.bind(this))}})},n_:function(){"object"==typeof window&&(!window.HTMLMediaElement||"srcObject"in window.HTMLMediaElement.prototype||Object.defineProperty(window.HTMLMediaElement.prototype,"srcObject",{get:function(){return this.mozSrcObject},set:function(e){this.mozSrcObject=e}}))},e_:function(){if("object"==typeof window&&(window.RTCPeerConnection||window.mozRTCPeerConnection)){window.RTCPeerConnection||(window.RTCPeerConnection=function(e,t){if(i.version<38&&e&&e.iceServers){for(var r=[],n=0;n<e.iceServers.length;n++){var s=e.iceServers[n];if(s.hasOwnProperty("urls"))for(var o=0;o<s.JQ.length;o++){var a={url:s.JQ[o]};0===s.JQ[o].indexOf("turn")&&(a.username=s.username,a.az=s.az),r.push(a)}else r.push(e.iceServers[n])}e.iceServers=r}return new mozRTCPeerConnection(e,t)},window.RTCPeerConnection.prototype=mozRTCPeerConnection.prototype,mozRTCPeerConnection.OQ&&Object.defineProperty(window.RTCPeerConnection,"generateCertificate",{get:function(){return mozRTCPeerConnection.OQ}}),window.RTCSessionDescription=mozRTCSessionDescription,window.RTCIceCandidate=mozRTCIceCandidate),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(e){var t=RTCPeerConnection.prototype[e];RTCPeerConnection.prototype[e]=function(){return arguments[0]=new("addIceCandidate"===e?RTCIceCandidate:RTCSessionDescription)(arguments[0]),t.apply(this,arguments)}});var e=RTCPeerConnection.prototype.addIceCandidate;RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?e.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())};var t=function(e){var t=new Map;return Object.keys(e).forEach(function(r){t.set(r,e[r]),t[r]=e[r]}),t},r={SY:"inbound-rtp",RY:"outbound-rtp",bY:"candidate-pair",_Q:"local-candidate",NQ:"remote-candidate"},n=RTCPeerConnection.prototype.getStats;RTCPeerConnection.prototype.getStats=function(e,s,o){return n.apply(this,[e||null]).then(function(e){if(i.version<48&&(e=t(e)),i.version<53&&!s)try{e.forEach(function(e){e.type=r[e.type]||e.type})}catch(t){if("TypeError"!==t.name)throw t;e.forEach(function(t,i){e.set(i,Object.assign({},t,{type:r[t.type]||t.type}))})}return e}).then(s,o)}}}};e.t={s_:n.s_,n_:n.n_,e_:n.e_,r_:r(126)}},function(e,t,r){"use strict";var i=r(17).log,n=r(17).Da;e.t=function(){var e=function(e){return{name:{hz:"NotAllowedError",VQ:"NotAllowedError"}[e.name]||e.name,message:{"The operation is insecure.":"The request is not allowed by the user agent or the platform in the current context."}[e.message]||e.message,GQ:e.GQ,toString:function(){return this.name+(this.message&&": ")+this.message}}},t=function(t,r,s){var o=function(e){if("object"!=typeof e||e.cz)return e;var t=[];return Object.keys(e).forEach(function(r){if("require"!==r&&"advanced"!==r&&"mediaSource"!==r){var i=e[r]="object"==typeof e[r]?e[r]:{LQ:e[r]};if(void 0===i.min&&void 0===i.max&&void 0===i.MQ||t.push(r),void 0!==i.MQ&&("number"==typeof i.MQ?i.min=i.max=i.MQ:e[r]=i.MQ,delete i.MQ),void 0!==i.LQ){e.BQ=e.BQ||[];var n={};"number"==typeof i.LQ?n[r]={min:i.LQ,max:i.LQ}:n[r]=i.LQ,e.BQ.push(n),delete i.LQ,Object.keys(i).length||delete e[r]}}}),t.length&&(e.cz=t),e};return t=JSON.parse(JSON.stringify(t)),n.version<38&&(i("spec: "+JSON.stringify(t)),t.YE&&(t.YE=o(t.YE)),t.video&&(t.video=o(t.video)),i("ff37: "+JSON.stringify(t))),navigator.mozGetUserMedia(t,r,function(t){s(e(t))})},r=function(e){return new Promise(function(r,i){t(e,r,i)})};if(navigator.mediaDevices||(navigator.mediaDevices={getUserMedia:r,addEventListener:function(){},removeEventListener:function(){}}),navigator.mediaDevices.HQ=navigator.mediaDevices.HQ||function(){return new Promise(function(e){e([{kind:"audioinput",qQ:"default",label:"",KQ:""},{kind:"videoinput",qQ:"default",label:"",KQ:""}])})},n.version<41){var s=navigator.mediaDevices.HQ.bind(navigator.mediaDevices);navigator.mediaDevices.HQ=function(){return s().then(void 0,function(e){if("NotFoundError"===e.name)return[];throw e})}}if(n.version<49){var o=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);navigator.mediaDevices.getUserMedia=function(t){return o(t).then(function(e){if(t.YE&&!e.getAudioTracks().length||t.video&&!e.getVideoTracks().length)throw e.getTracks().forEach(function(e){e.stop()}),new DOMException("The object can not be found here.","NotFoundError");return e},function(t){return Promise.reject(e(t))})}}navigator.getUserMedia=function(e,r,i){if(n.version<44)return t(e,r,i);console.warn("navigator.getUserMedia has been replaced by navigator.mediaDevices.getUserMedia"),navigator.mediaDevices.getUserMedia(e).then(r,i)}}},function(e,t,r){"use strict";var i={r_:function(){navigator.getUserMedia||(navigator.webkitGetUserMedia?navigator.getUserMedia=navigator.webkitGetUserMedia.bind(navigator):navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&(navigator.getUserMedia=function(e,t,r){navigator.mediaDevices.getUserMedia(e).then(t,r)}.bind(navigator)))}};e.t={r_:i.r_}},function(e,t,r){"use strict";var i=this&&this.Ns||function(e,t){function r(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=r(20);!function(e){!function(e){var t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(n.gn.ou.au);e.a_=t}(e.ou||(e.ou={}))}(t.gn||(t.gn={}))},function(e,t,r){"use strict";var i=function(){function e(e,t,r){this.isLive=e,this.protocol=t,this.SB=r}return e.prototype.ZF=function(){var e=new hive.snapshots.StreamInfo;return e.streamType=this.isLive?StreamType.LIVE:StreamType.xG,e.streamProtocol=this.protocol,e.url=this.SB,e},e}();t.w_=i},function(e,t,r){"use strict";var i=this&&this.Ns||function(e,t){function r(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=r(2),s=r(52),o=r(0),a=r(131),h=r(68),c=r(19),u=r(53),l=r(195),p=r(26),f=r(7),d=r(69),g=r(4),v=r(41),y=l.gn.ou,m=p.gn.HiveTechError,E=p.gn.cE,T=function(e){function t(r,i,n){var s=e.call(this,r,i)||this;return s.options_=new y.uz,void 0!=i[t.c_]&&f.vs(i[t.c_],s.options_),s.Vj=n,s}return i(t,e),t.prototype.Fn=function(){return t.c_},t.prototype.getVersion=function(){return null},t.prototype.u_=function(){return!0},t.prototype.l_=function(){return h.wI.II?this.lz()&&this.VM()?n.resolve(!0):n.reject(new m(E.nE,"WebRTC DataChannels not supported by browser")):n.reject(new m(E.nE,"Not included in the page"))},t.prototype.initSession=function(e,t){var r=this;return this.l_().then(function(){var i=t.ticket;r.T_();var n=i.LA();0===n.indexOf("//")&&(n=location.protocol+n);var s=r.p_(e,i,n,t);return d.vn.bn(r,s.id),d.vn.XD(r.h_,s.id),f.HiveRequestFactory.bn(s.id,r.Fn()),window&&window.pz&&window.pz(r.h_.Hj()>v.SA.vA.info,s.id),s})},t.prototype.ci=function(e,t){var r=t.manifest.toLowerCase(),i=e.toLowerCase(),n=r.indexOf(".ism/manifest");if(n>-1){var s=r.substring(0,n);if(i.indexOf(s)>-1)return i.indexOf(".ism/manifest(format=mpd-time-csf)")>-1?this.fz?(t.ticket.SourceURL=e,!0):this.dz(t,"The player does not use HiveRequest, downgrading to StatsJS"):this.dz(t,"Protocol not supported by HiveJS tech, downgrading to StatsJS")}else if(i===r)return!!this.fz||this.dz(t,"The player does not use HiveRequest, downgrading to StatsJS");return!1},t.prototype.Nn=function(t,r){window&&window.gz&&window.gz(),e.prototype.Nn.call(this,t,r);var i=h.wI.II();if(i){i.vz(t.id).On(c._c.IDLE)}r&&(f.HiveRequestFactory.Rn(t.id),i.yz())},t.prototype.dz=function(e,t){return e.tech=this.Vj,f.HiveRequestFactory.bn(e.id,u.StatsJS.c_),this.fz&&this.fz.resolve(),this.fz=void 0,this.h_.te().warn("[HiveJS] "+t),this.onError(new m(E.oE,t)),window&&window.gz&&window.gz(),!0},t.prototype.$D=function(e){this.fz=e},t.prototype.onActiveSession=function(e){var t=this;o.Framework.J().apply(new a.mz(!0));var r=h.wI.II();if(r.start(e.Cn,!1).then(function(i){if(t.T_(),t.I_=e.Cn,t.I_.Th(h.wI.Jc(),h.wI.getVersion()),t.I_.Fc.init(t.I_.Dc,e.ticket.sessionId),e.authenticationToken){var n=r.vz(e.ticket.sessionId);n&&n.Tz.Ez.kN(e.authenticationToken)}t.fz&&r.TI(t.fz,e.Cn.ticket.sessionId),t.I_.tc.Tn(e.ticket.sessionId,t.h_.b_(),200);var s=t.h_.P_();s&&s.length>0&&t.I_.tc.Dh(s),t.h_.wh(t.I_)}),void 0!=this.options().onActiveSession)try{this.options().onActiveSession(e.Dn())}catch(e){g.ErrorMonitor.gi().di("exception in user-defined onActiveSession callback","[HiveJS]",e)}},t.prototype.On=function(e,t){},t.prototype.p_=function(e,t,r,i){var n=new f.Bn(e,t,r,i);return n.O_=!0,n.id=n.ticket.sessionId,n},t.prototype.m_=function(){},t.prototype.lz=function(){return"safari"!=s.Da.Oa},t.prototype.VM=function(){try{return null!=s.Ca&&null!=s.t_&&"function"==typeof new RTCPeerConnection(null,null).createDataChannel}catch(e){return!1}},t}(u.StatsJS);T.c_="HiveJS",t.HiveJS=T},function(e,t,r){"use strict";var i=r(37),n=r(0),s=r(41),o=r(9),a=r(19),h=r(72),c=r(73),u=r(75),l=r(71),p=r(18),f=r(15),d=r(132),g=r(135),v=r(136),y=r(85),m=r(152),E=r(153),T=r(154),I=r(155),w=r(156),S=r(92),R=r(169),b=r(170),P=r(171),A=r(45),C=r(23),k=r(172),O=r(176),_=r(177),N=r(178),D=r(179),F=r(181),L=r(182),M=r(183),B=r(184),U=r(76),x=r(185),H=r(186),q=r(188),V=r(5),j=r(189),G=V.Rt.Pi,Q=V.Rt.Ai,K=V.Rt.Ci,Y=V.Rt.Oi;if(Q)var z=r(190).Iz,J=r(192).wz;if(K)var W=r(89).cH;if(G)var X=r(193).Sz;if(Y)var Z=r(77).vM;else var $=r(79).zM;var ee=function(){function e(e){this.Rz=!1,e&&(this.Rz=e)}return e.prototype.apply=function(e){this.Rz?Y&&e.bind(new i.QP(o.Qs.Us,Z,i.KP.ZP)):(e.bind(new i.QP(o.Qs.qs,a.Zc,i.KP.ZP)),e.bind(new i.QP(o.Qs.H,h.OL,i.KP.ZP)),e.bind(new i.QP(o.Qs.Bs,c.BL,i.KP.ZP)),e.bind(new i.QP(o.Qs.D,u.oM,i.KP.ZP)),e.bind(new i.QP(n.Framework.q.I,s.SA.wA,i.KP.ZP)),e.bind(new i.QP(o.Qs.Ms,l.Stats.vc,i.KP.sA)),e.bind(new i.QP(o.Qs.js,p.kc.$h,i.KP.sA)),e.bind(new i.QP(o.Qs.Gs,p.kc.vc,i.KP.sA)),Y?e.bind(new i.QP(o.Qs.Us,Z,i.KP.ZP)):e.bind(new i.QP(o.Qs.Us,$,i.KP.ZP))),e.bind(new i.QP(f.Pa.Wo,j.bz,i.KP.sA)),e.bind(new i.QP(o.Qs.xs,U.uM,i.KP.ZP)),e.bind(new i.QP(f.Pa.Ia,M.Pz,i.KP.ZP)),e.bind(new i.QP(f.Pa.pa,d.Az,i.KP.ZP)),e.bind(new i.QP(f.Pa.ha,g.Cz,i.KP.sA)),e.bind(new i.QP(f.Pa.fa,v.kz,i.KP.sA)),e.bind(new i.QP(f.Pa.ia,m.Sr,i.KP.sA)),e.bind(new i.QP(f.Pa.na,y.$U,i.KP.sA)),G&&e.bind(new i.QP(f.Pa.sa,X,i.KP.sA)),e.bind(new i.QP(f.Pa.ua,E.Oz,i.KP.sA)),"undefined"!=typeof HiveOriginalXMLHttpRequest?e.bind(new i.QP(n.Framework.q.B,HiveOriginalXMLHttpRequest)):e.bind(new i.QP(n.Framework.q.B,XMLHttpRequest)),e.bind(new i.QP(f.Pa.Ta,L._z,i.KP.ZP)),e.bind(new i.QP(f.Pa.ya,T.Nz,i.KP.sA)),e.bind(new i.QP(n.Framework.q.F,k.Dz,i.KP.ZP)),e.bind(new i.QP(f.Pa.U,O.Fz,i.KP.ZP)),e.bind(new i.QP(f.Pa.aa,B.Lz,i.KP.sA)),e.bind(new i.QP(f.Pa.oa,I.Mz,i.KP.sA)),e.bind(new i.QP(f.Pa.Xo,w.Qr,i.KP.sA)),e.bind(new i.QP(f.Pa.Zo,S.NV,i.KP.sA)),e.bind(new i.QP(f.Pa.$o,H.Bz,i.KP.sA)),e.bind(new i.QP(f.Pa.ea,H.Uz,i.KP.sA)),e.bind(new i.QP(f.Pa.ta,q.xz,i.KP.sA)),e.bind(new i.QP(f.Pa.ra,q.Hz,i.KP.sA)),e.bind(new i.QP(f.Pa.ba,x.Vt,i.KP.sA)),e.bind(new i.QP(f.Pa.la,R.qz,i.KP.sA)),e.bind(new i.QP(f.Pa.ca,b.Vz,i.KP.sA)),e.bind(new i.QP(f.Pa.ma,P.jz,i.KP.sA)),e.bind(new i.QP(f.Pa.va,D.Gz,i.KP.sA)),e.bind(new i.QP(f.Pa.da,A.Lk,i.KP.sA)),e.bind(new i.QP(f.Pa.ga,F.Qz,i.KP.sA)),e.bind(new i.QP(n.Framework.q.L,C.mu.Mr,i.KP.sA)),e.bind(new i.QP(f.Pa.Ea,_.mr,i.KP.sA)),Q&&(e.bind(new i.QP(f.Pa.Sa,z,i.KP.sA)),e.bind(new i.QP(f.Pa.wa,J,i.KP.sA))),K&&e.bind(new i.QP(f.Pa.Ci,W,i.KP.sA)),e.bind(new i.QP(f.Pa.Ra,N.Kz,i.KP.sA))},e}();t.mz=ee},function(e,t,r){"use strict";var i=r(2),n=r(25),s=n.sl,o=r(0),a=r(40),h=r(15),c=r(3),u=r(19),l=r(1),p=r(133),f=r(43),d=r(9),g=r(134),v=r(5),y=r(4),m=v.Rt.Ai,E=v.Rt.Ci,T=v.Rt.ki,I=function(){function e(e){this.state=u._c.Oc,this.requestTimeout=-1,this.te=o.Framework.resolve(o.Framework.q.I).log(e.ticket.sessionId),this.mn="S["+e.ticket.sessionId+"]",this.Hl=o.Framework.resolve(o.Framework.q.F),this.sessionId=e.ticket.sessionId,this.Cn=e,this.TC=o.Framework.resolve(h.Pa.ha),this.Uw=o.Framework.resolve(h.Pa.ia),this.yx=o.Framework.resolve(h.Pa.Xo),this.Yz=o.Framework.resolve(h.Pa.ua),this.EC=o.Framework.resolve(h.Pa.oa),this.SC=o.Framework.resolve(h.Pa.Zo),this.zz=o.Framework.resolve(h.Pa.ma),this.Jz=o.Framework.resolve(h.Pa.ca),this.Wz=o.Framework.resolve(h.Pa.ya),this.IC=o.Framework.resolve(h.Pa.la),this.Tz=o.Framework.resolve(h.Pa.fa),this.H_=o.Framework.resolve(h.Pa.Ea),this.wC=o.Framework.resolve(h.Pa.Ra),this.V_=o.Framework.resolve(h.Pa.da),this.RC=o.Framework.resolve(h.Pa.ga),this.bC=o.Framework.resolve(h.Pa.aa),this.lq=o.Framework.resolve(h.Pa.ba),this.x_=o.Framework.resolve(h.Pa.Wo),(m||o.Framework.S()&&f.iC.eC)&&(this.Xz=o.Framework.resolve(h.Pa.wa),this.Zz=o.Framework.resolve(h.Pa.Sa)),(E||o.Framework.S()&&f.iC.tC)&&(this.$z=o.Framework.resolve(h.Pa.Ci)),this.swarmId=this.eJ(e.ticket.qh()),this.x_.init(this),this.Yz.init(this),this.bC.init(this),this.lq.init(this),this.SC.init(this),this.Jz.init(this),this.Wz.init(this),this.IC.init(this),this.Tz.init(this),this.TC.init(this),this.yx.init(this),this.V_.init(this),this.RC.init(this),this.H_.init(this),(E||o.Framework.S()&&f.iC.tC)&&this.$z.init(this),(m||o.Framework.S()&&f.iC.eC)&&this.Zz.init(this)}return e.prototype.init=function(e,t){T?this.tJ(!1):this.tJ(!0),this.wC.uV(this.Cn.identity.Yc()),this.Uw.init(c.ni.Sr.Er,c.ni.Sr.Tr);var r=this.Tz.PC(e,t);this.wC.rJ(this.Tz.Ez.K_());var i=new p.iJ(r);this.Cn.R_=i,this.Cn.Dc.R_=i,this.Wz.start(this.Tz,this.yx),(m||o.Framework.S()&&f.iC.eC)&&this.Zz.nJ(this.yx);var n=[this.yx,this.SC,this.Wz,this.Cn.Dc,this.Cn.tc,this.lq];(m||o.Framework.S()&&f.iC.eC)&&n.push(this.Zz),(E||o.Framework.S()&&f.iC.tC)&&n.push(this.$z),(s=this.Hl).start.apply(s,[e.sessionId].concat(n)),this.Cn.Dc.TL(this.SC),this.Cn.Dc.QF(this.wC),this.wC.sJ(e);var s},e.prototype.tJ=function(e){e&&"undefined"!=typeof navigator&&navigator.hardwareConcurrency?(this.wC.oJ(navigator.hardwareConcurrency),this.wC.aJ(navigator.hardwareConcurrency)):(this.wC.oJ(1),this.wC.aJ(1)),this.te.debug(this.mn+"My score "+this.wC.oH())},e.prototype.eJ=function(e){return s.Vd(e).toString(s.Ed.Td)},e.prototype.TI=function(e){this.hJ(),this.TC.TI(e)},e.prototype.On=function(e){if(this.state!=e)switch(this.te.info("Switching state "+u._c[this.state]+" -> "+u._c[e]),this.state=e,this.state){case u._c.IDLE:this.yx.stop(),this.SC.stop(),this.RC.cJ(),this.RC.uJ(),this.Wz.lJ(),this.Zz&&this.Zz.pJ(),this.Cn.On(u._c.IDLE),this.Uw.XU(),this.bC.fJ(),this.TC.dJ(),this.x_.gJ();break;case u._c.Oc:this.yx.start(),this.SC.start(this.Tz.Ez),this.RC.vJ(),this.Wz.yJ(),this.Zz&&this.Zz.mJ(),this.Cn.On(u._c.Oc),this.x_.EJ()}},e.prototype.hJ=function(){var e=this;try{o.Framework.clearTimeout(this.requestTimeout),this.On(u._c.Oc),this.requestTimeout=o.Framework.setTimeout(function(){e.On(u._c.IDLE)},3e4)}catch(e){y.ErrorMonitor.gi().di("Error on request timeout",this.mn,e)}},e}();t.TJ=I;var w=function(){function e(){this.Ul=new a.Counter,this.IJ=!1,this.Hc=new l,this.wJ=new l,this.SJ=!1,this.RJ=!1,this.bJ=o.Framework.resolve(h.Pa.Ta),this.PJ=o.Framework.resolve(h.Pa.Ia),this.dh=o.Framework.resolve(d.Qs.Us),this.PJ.init(this)}return e.prototype.start=function(e,t){this.te=o.Framework.resolve(o.Framework.q.I).log(e.ticket.sessionId);var r=e.ticket,n=r.sessionId;if(this.Hc.has(n))this.te.warn("SESSION ALREADY ACTIVE "+n);else{g.AJ.mh(e.Lc.client);var s=new I(e);s.init(r,t),this.dh.Vh().then(function(e){var t=e.Qh(),r=t.Cs();r&&s.wC.wM(r)}).done(),e.Dc.EL(this.dh),this.te.info("PEER CONTEXT STARTED"),this.Hc.set(n,s),this.wJ.set(s.swarmId,n)}return 1!=this.Hc.length&&!this.RJ||o.Framework.S()||(this.bJ.init(),this.RJ=!1),i.resolve(r.SourceURL)},e.prototype.yz=function(){this.RJ=!0},e.prototype.Cl=function(e){if(this.wJ.has(e)){var t=this.wJ.get(e);return this.Hc.get(t)}return null},e.prototype.vz=function(e){return this.Hc.get(e)},e.prototype.CJ=function(e){return this.Hc.has(e)?this.Hc.get(e).TC:null},e.prototype.TI=function(e,t){this.vz(t).TI(e)},e.prototype.On=function(e,t){o.Framework.S()&&this.vz(e).On(t)},e.prototype.abort=function(e,t){this.CJ(t).abort(e)},e}();t.Az=w},function(e,t,r){"use strict";var i=function(){function e(e){this.AC=e}return e.prototype.ZF=function(){var e=new hive.snapshots.StreamInfo;return e.streamType=this.AC.isLive()?StreamType.LIVE:StreamType.xG,e.streamProtocol=this.AC.S_(),e.url=this.AC.CN(),e},e}();t.iJ=i},function(e,t,r){"use strict";var i=r(18),n=i.kc.ah,s=r(0),o=r(21),a=function(){function e(){}return e.mh=function(e){this.client=e},e.kJ=function(e,t,r,i,a){var h=new n;h.app=e,h.guid=i,h.createdAt=s.Framework.time(),h.name=r,h.tags=t,h.data=JSON.parse(a);var c=new o.pc(Services.fc,2,JSON.stringify(h));this.client&&this.client.lc().send(c)},e}();t.AJ=a},function(e,t,r){"use strict";var i=r(1),n=r(2),s=r(22),o=r(6),a=r(3),h=r(0),c=r(10),u=r(15),l=r(40),p=r(4),f=function(){function e(){this.OJ=new i,this._J=!1,this.NJ=0,this.DJ=5,this.PJ=h.Framework.resolve(u.Pa.Ia),this.FJ=new l.gA}return e.prototype.init=function(e){this.te=h.Framework.resolve(h.Framework.q.I).log(e.sessionId),this.mn="S["+e.sessionId+"]",this.EC=e.EC,this.Uw=e.Uw,this.SC=e.SC,this.Dc=e.Cn.Dc,this.sessionId=e.Cn.ticket.sessionId,this.Yz=e.Yz,this.IC=e.IC,this.LJ=e.Tz,this.wC=e.wC,this.bC=e.bC,this.x_=e.x_,this.Dc.jF(this.FJ)},e.prototype.TI=function(e){try{var t=e.url;this.te.info("HIVE REQ "+t),e.Du=h.Framework.time();var r=this.LJ.MJ(e),i=r.bN(e.url);this.x_.BJ(i),this.ik(e,i,r,s.Tu.du)}catch(e){p.ErrorMonitor.gi().di("PLAYER REQUEST ERROR",this.mn,e)}},e.prototype.ik=function(e,t,r,i){var n=this;if(t.$u()){if(t.Yu()==c.Ws.Ys){var a=r.Y_(t,i);if(a.oN)return this.te.debug("DO NOT CONTINUE WITH THE REQUEST "+t.zu()+". ALREADY REQUESTED  "+a.eN+" PENDING REQUEST "+a.sN),null;if(a.sN&&i==s.Tu.du){var h=this.UJ(e,t,r,i);return h.length>0?(h.forEach(function(t){var r=n.OJ.get(t);n.OJ.set(e.id,r),n.OJ.delete(t)}),null):(this.te.info("PREFETCH UPGRADE FAILED. THIS SHOULD NOT HAPPEN. CHECK FOR MULTIPLE PLAYER REQUESTS FOR THE SAME FRAGMENT"),this.xJ(e,t,r,i))}return this.xJ(e,t,r,i)}return this.xJ(e,t,r,i)}var u=o.fn.xi.next(),l=new s.nl(e,u,i,t,r);return this.OJ.set(e.id,l),l.type=s.Tu.gu,this.HJ(l),l},e.prototype.xJ=function(e,t,r,i){var n=this,a=o.fn.xi.next(),h=new s.nl(e,a,i,t,r);if(this.OJ.set(e.id,h),t.Yu()==c.Ws.Ys&&(r.hN(h),i!==s.Tu.vu&&i!==s.Tu.Eu)){var u=t.bitrate,l=this.wC.qJ();0!=u&&(this.wC.VJ(u),u!=l&&(this._J=!0,this.NJ=0),this._J&&this.NJ++,this.NJ==this.DJ&&(this.SC.EV(),this._J=!1,this.NJ=0))}return this.jJ(t.zu()).then(function(e){null!=e?(n.x_.GJ(h,e),n.QJ(h,e),r.cN(h.zu(),h.Ju()),r.fN(t.bitrate)):(n.KJ(t,h),h.Yu()==c.Ws.Ys&&(r.lN(h),h.type==s.Tu.du&&n.FJ.add(0)))}),h},e.prototype.UJ=function(e,t,r,i){return r.aN(e,t,i)},e.prototype.jJ=function(e){return this.Uw.get(e)},e.prototype.KJ=function(e,t){this.EC.contains(e.zu())?(this.te.debug("OBJ IDX CONTAINS "+t.zu()),t.Ku()==s.Tu.vu&&(t.type=s.Tu.Eu),this.Iu(t)):t.Ku()!=s.Tu.Eu?this.HJ(t):(p.ErrorMonitor.gi().di("P2P PREFETCH FAILED BECAUSE OBJECT INDEX DOES NOT CONTAIN REQUEST ENTITY",this.mn,{mR:t.zu()}),t.Gu.cN(t.zu(),t.Ju()))},e.prototype.dJ=function(){var e=this;this.OJ.forEach(function(t){return e.abort(t.Vu)})},e.prototype.abort=function(e){if(this.OJ.has(e.id)){var t=this.OJ.get(e.id),r=t.Ju();this.te.debug("REQUEST "+r+" ABORTED "),this.IC.Qe(r)?this.IC.YJ(r):this.Yz.Qe(r)&&this.Yz.YJ(r),this.OJ.delete(e.id)}},e.prototype.Iu=function(e){e.type==s.Tu.du&&(e.type=s.Tu.mu),e.type==s.Tu.Eu&&(e.Uu=!0),this.IC.TI(e)},e.prototype.zJ=function(e){if(0!=e.qu&&(e.Mu.Ru=e.qu,this.te.info("ALREADY DOWNLOADED "+e.Mu.Ru+" BYTES"),e.Mu.bu=e.qu),!a.ni.j._r&&e.qu&&(e.Mu.Ru=0),this.x_.JJ(e),e.type!=s.Tu.Eu)e.type=s.Tu.yu,this.HJ(e);else if(e.Yu()==c.Ws.Ys){e.Gu.uN(e.zu()),e.Gu.cN(e.zu(),e.Ju());var t=e.Qu;t.bitrate&&e.Gu.fN(t.bitrate)}},e.prototype.WJ=function(e){var t=this;this.te.info("SUCCESS FROM P2P FOR "+e.Wu()+" [REQ "+e.ju+"] ["+s.Tu[e.type]+"] AFTER "+e.rl()+" [bw:"+e.il().Xi()+"]"),this.XJ(e),this.ZJ(e,this.z_(e.type)),this.bC.$J(e);var r=this.Yz.eW().zi();this.x_.tW(e,r),this.rW(e).then(function(){e.Gu.AN(e),t.iW()}).finally(function(){t.z_(e.type)&&t.nW(e),t.OJ.delete(e.Vu.id)})},e.prototype.HJ=function(e){this.x_.sW(e),this.Yz.TI(e)},e.prototype.oW=function(e){this.iW();var t=this.Yz.eW().zi();this.x_.aW(e,t),e.Yu()==c.Ws.Ys&&(e.Gu.uN(e.zu()),e.Gu.cN(e.zu(),e.Ju())),this.hW(e)},e.prototype.cW=function(e){var t=this;this.XJ(e),this.ZJ(e,this.z_(e.type)),e.type==s.Tu.yu&&this.te.debug("CDN COMPENSATION TIME "+(e.Mu.Nu-e.Vu.Du)+" / "+(e.Mu.Nu-e.Mu.ku)+" P2P TIME "+(e.Mu._u-e.Mu.Ou)),-1==[c.Ws.zs,c.Ws.Js].indexOf(e.Yu())&&this.bC.$J(e);var r=this.Yz.eW().zi();this.x_.uW(e,r),this.rW(e).then(function(){e.Yu()==c.Ws.zs&&e.Gu.PN(e),-1==[c.Ws.zs,c.Ws.Js].indexOf(e.Yu())&&e.Gu.AN(e),t.iW()}).catch(function(e){t.te.error(e)}).finally(function(){t.z_(e.type)&&t.nW(e),t.OJ.delete(e.Vu.id)})},e.prototype.XJ=function(e){e.type==s.Tu.Eu&&(e.Mu.p2pAgenTrafficSuccessQt=e.Mu.Ru),e.type==s.Tu.vu&&(e.Mu.Cu=e.Mu.Au,e.Bu&&(e.Mu.srcOtherRespQt=e.Mu.Au)),e.Mu.Su=e.Mu.Au+e.Mu.Ru,e.Vu.total=e.Mu.Su},e.prototype.ZJ=function(e,t){if(this.lW(e),t){var r=o.fn.createEvent(ProgressEvent,"progress",{lengthComputable:!0,total:e.Mu.Su,loaded:e.Mu.Su,currentTarget:e.Vu});e.Vu.dispatchEvent(r),e.Qu.wR()||(e.Vu.response=e.RB,e.Vu.responseText=e.RB)}},e.prototype.nW=function(e){var t=e.Vu;this.te.info("RESPOND TO THE PLAYER "+e.zu()+" SIZE "+(h.Framework.S()?t.total:e.Hu.byteLength)),t.status=200,t.readyState=4,"string"==typeof t.response&&"arraybuffer"===t.responseType&&(t.response=o.fn.pn(t.response)),"text"!=t.responseType&&""!=t.responseType&&delete t.responseText,e.Qu.wR()&&(t.response=h.Framework.S()?null:o.fn.en(e.Hu));var r=o.fn.createEvent(Event,"readystatechange",{currentTarget:t}),i=o.fn.createEvent(ProgressEvent,"load",{bubbles:!1,cancelable:!1,lengthComputable:!1,total:e.Qu.wR()?e.Hu.byteLength:e.RB.length,currentTarget:t}),n=o.fn.createEvent(ProgressEvent,"loadend",{bubbles:!1,cancelable:!1,lengthComputable:!1,loaded:t.total,total:0,currentTarget:t});t.dispatchEvent(r),t.dispatchEvent(i),t.dispatchEvent(n)},e.prototype.hW=function(e){this.OJ.delete(e.Vu.id);var t=e.Vu,r={bubbles:!1,cancelable:!1,lengthComputable:!1,loaded:t.total,total:0,currentTarget:t};e.xhr.status&&e.xhr.status>0?(t.status=e.xhr.status,t.xu=e.xu):t.status=404,t.readyState=4,t.dispatchEvent(o.fn.createEvent(Event,"readystatechange",r)),t.dispatchEvent(o.fn.createEvent(ProgressEvent,"load",r)),t.dispatchEvent(o.fn.createEvent(ProgressEvent,"loadend",r))},e.prototype.rW=function(e){var t=this;return e.Qu.$u()?this.Uw.put(e).then(function(r){r&&t.SC.pW(e.Qu,e.Mu.Su,e.KU)}):n.resolve(!0)},e.prototype.QJ=function(e,t){var r=this;e.Hu=t.data,e.xu=t.headers,e.YU=t.YU,e.Mu=t.Mu;var i=e.Gu.RN().sU(t.length);this.te.info("SCHEDULE DELIVERY OF "+e.zu()+" IN "+i+" SIZE "+(h.Framework.S()?t.length:e.Hu.byteLength)+" BYTES"),h.Framework.setTimeout(function(){r.fW(e)},i)},e.prototype.fW=function(e){this.te.debug("DELIVERY OF "+e.zu()),this.ZJ(e,!0),this.OJ.delete(e.Vu.id);var t=e.Vu.Du-e.Mu.Nu;this.te.info("FRAGMENT PREFETCHED "+t+" MSECS BEFORE PLAYER REQUEST"),t>0&&e.Yu()==c.Ws.Ys&&this.FJ.add(t);var r=0;r=e.Mu.Ou>0?e.Vu.Du-e.Mu.Ou:e.Vu.Du-e.Mu._u,this.te.info("FRAGMENT REQUESTED "+r+" MSECS BEFORE PLAYER REQUEST"),this.nW(e)},e.prototype.z_=function(e){return e!=s.Tu.Eu&&e!=s.Tu.vu},e.prototype.lW=function(e){if(e.type!==s.Tu.yu)e.xu=e.Vu.xu=e.xu;else{var t="\nContent-Range: bytes=0-"+(e.size-1)+"/"+e.size+"\n";t+="Content-Length: "+e.size+"\n",e.xu=e.Vu.xu=t}null!=e.xu&&-1!=e.xu.indexOf("Access-Control-Allow-Origin")||(e.xu+="\nAccess-Control-Allow-Origin:*")},e.prototype.iW=function(){h.Framework.S()||this.PJ.render()},e}();t.Cz=f},function(e,t,r){"use strict";var i=r(80),n=r(84),s=r(0),o=function(){function e(){this.SC=null,this.Hl=s.Framework.resolve(s.Framework.q.F)}return e.prototype.init=function(e){this.te=s.Framework.resolve(s.Framework.q.I).log(e.sessionId),this.vx=e,this.SC=e.SC},e.prototype.PC=function(e,t){var r=null,s=e._A();return n.OU.cB(s)?this.Ez=r=new n.OU.BU(e,t,this.vx):i.yB.cB(s)?this.Ez=r=new i.yB.LB(e,this.vx):this.te.warn("COULD NOT FIND A CONTEXT FOR "+s),null!=r&&this.dW(this.Ez),r},e.prototype.dW=function(e){var t=this;null!=this.SC?this.SC.stop().then(function(r){t.SC.start(e)}):this.SC.start(e)},e.prototype.MJ=function(e){if(null==this.Ez)this.te.warn("FIRST REQUEST, COULD NOT FIND RIGHT CONTEXT "+e.url);else if(!this.Ez.SN(e))return this.te.warn("REQUEST DOES NOT BELONG TO THE CURRENT CONTEXT "+e.url),null;return this.Ez},e}();t.kz=o},function(e,t,r){"use strict";function i(e,t,r,n){if(!(this instanceof i))return new i(e,t,r,n);this.ce=t||Object.ae,this.yo=r||Object.mo,this.le=n||Function.he,this.root=null,this.length=0,this.addEach(e)}function n(e){this.value=e,this.left=null,this.right=null,this.length=1}function s(e,t,r){if(this.set=e,this.Mk=null,this.end=r,t){var i=this.set.gW(t);i&&(this.set.vW(i.value),this.Mk=i.yW())}}e.t=i;var o=(r(12),r(13)),a=r(36),h=r(14),c=r(35),u=r(64);i.mW=i,Object.addEach(i.prototype,o.prototype),Object.addEach(i.prototype,a.prototype),Object.addEach(i.prototype,h.prototype),Object.addEach(i.prototype,c.prototype),i.prototype.NN=!0,i.prototype.de=function(e){return new this.constructor(e,this.ce,this.yo,this.le)},i.prototype.has=function(e,t){if(t)throw new Error("SortedSet#has does not support second argument: equals");return!!this.root&&(this.vW(e),this.ce(e,this.root.value))},i.prototype.get=function(e,t){if(t)throw new Error("SortedSet#get does not support second argument: equals");return this.root&&(this.vW(e),this.ce(e,this.root.value))?this.root.value:this.le(e)},i.prototype.add=function(e){var t=new this.Node(e);if(!this.root)return this.qk&&this.UP([e],[],0),this.root=t,this.length++,this.qk&&this.LP([e],[],0),!0;if(this.vW(e),!this.ce(e,this.root.value)){var r=this.yo(e,this.root.value);if(0===r)throw new Error("SortedSet cannot contain incomparable but inequal values: "+e+" and "+this.root.value);return this.qk&&this.UP([e],[],this.root.index),r<0?(t.right=this.root,t.left=this.root.left,this.root.left=null,this.root.EW()):(t.left=this.root,t.right=this.root.right,this.root.right=null,this.root.EW()),t.EW(),this.root=t,this.length++,this.qk&&this.LP([e],[],this.root.index),!0}return!1},i.prototype.delete=function(e,t){if(t)throw new Error("SortedSet#delete does not support second argument: equals");if(this.root&&(this.vW(e),this.ce(e,this.root.value))){var r=this.root.index;if(this.qk&&this.UP([],[e],r),this.root.left){var i=this.root.right;this.root=this.root.left,this.vW(e),this.root.right=i}else this.root=this.root.right;return this.length--,this.root&&this.root.EW(),this.qk&&this.LP([],[e],r),!0}return!1},i.prototype.indexOf=function(e,t){if(t)throw new Error("SortedSet#indexOf does not support second argument: startIndex");return this.root&&(this.vW(e),this.ce(e,this.root.value))?this.root.index:-1},i.prototype.find=function(e,t,r){if(t)throw new Error("SortedSet#find does not support second argument: equals");if(r)throw new Error("SortedSet#find does not support third argument: index");if(this.root&&(this.vW(e),this.ce(e,this.root.value)))return this.root},i.prototype.TW=function(e){if(this.root){for(e=e||this.root;e.right;)e=e.right;return e}},i.prototype.IW=function(e){if(this.root){for(e=e||this.root;e.left;)e=e.left;return e}},i.prototype.wW=function(e){if(this.root)return this.vW(e),this.yo(this.root.value,e)>0?this.root.yW():this.root},i.prototype.SW=function(e){if(this.root)return this.vW(e),this.yo(this.root.value,e)>=0?this.root.yW():this.root},i.prototype.gW=function(e){if(this.root)return this.vW(e),this.yo(this.root.value,e)>=0?this.root:this.root.RW()},i.prototype.bW=function(e){if(this.root)return this.vW(e),this.yo(this.root.value,e)<=0?this.root.RW():this.root},i.prototype.pop=function(){if(this.root){var e=this.TW();return this.delete(e.value),e.value}},i.prototype.shift=function(){if(this.root){var e=this.IW();return this.delete(e.value),e.value}},i.prototype.push=function(){this.addEach(arguments)},i.prototype.unshift=function(){this.addEach(arguments)},i.prototype.slice=function(e,t){e=e||0,t=t||this.length,e<0&&(e+=this.length),t<0&&(t+=this.length);var r=[];if(this.root)for(this.PW(e);this.root.index<t&&(r.push(this.root.value),this.root.right);)this.vW(this.root.RW().value);return r},i.prototype.splice=function(e,t){return this.Yk(e,t,Array.prototype.slice.call(arguments,2))},i.prototype.Yk=function(e,t,r){if(void 0===e&&void 0===t)return[];e=e||0,e<0&&(e+=this.length),void 0===t&&(t=1/0);var i=[];if(this.root){this.PW(e);for(var n=0;n<t;n++){i.push(this.root.value);var s=this.root.RW();if(this.delete(this.root.value),!s)break;this.vW(s.value)}}return this.addEach(r),i},i.prototype.vW=function(e){var t,r,i,s,o,a;if(this.root){for(t=r=i=new this.Node,a=new this.Node,o=this.root;;){var h=this.yo(e,o.value);if(h<0){if(!o.left)break;if(this.yo(e,o.left.value)<0&&(s=o.left,o.left=s.right,o.EW(),s.right=o,s.EW(),o=s,!o.left))break;s=new n,s.right=o,s.left=a.left,a.left=s,i.left=o,i.EW(),i=o,o=o.left}else{if(!(h>0))break;if(!o.right)break;if(this.yo(e,o.right.value)>0&&(s=o.right,o.right=s.left,o.EW(),s.left=o,s.EW(),o=s,!o.right))break;s=new n,s.left=o,s.right=a.right,a.right=s,r.right=o,r.EW(),r=o,o=o.right}}for(r.right=o.left,r.EW(),i.left=o.right,i.EW(),o.left=t.right,o.right=t.left;a.left;)a.left.right.EW(),a.left=a.left.left;for(;a.right;)a.right.left.EW(),a.right=a.right.right;o.EW(),this.root=o}},i.prototype.PW=function(e){if(this.root){for(var t=this.root,r=this.root.index;r!==e;)if(r>e&&t.left)t=t.left,r-=1+(t.right?t.right.length:0);else{if(!(r<e&&t.right))break;t=t.right,r+=1+(t.left?t.left.length:0)}return this.vW(t.value),this.root.index===e}return!1},i.prototype.reduce=function(e,t,r){return this.root&&(t=this.root.reduce(e,t,0,r,this)),t},i.prototype.reduceRight=function(e,t,r){return this.root&&(t=this.root.reduceRight(e,t,this.length-1,r,this)),t},i.prototype.min=function(e){var t=this.IW(e);if(t)return t.value},i.prototype.max=function(e){var t=this.TW(e);if(t)return t.value},i.prototype.Po=function(){return this.min()},i.prototype.clear=function(){var e;this.qk&&(e=this.toArray(),this.UP([],e,0)),this.root=null,this.length=0,this.qk&&this.LP([],e,0)},i.prototype.Ao=function(e,t){return new this.Iterator(this,e,t)},i.prototype.Iterator=s,i.prototype.summary=function(){return this.root?this.root.summary():"()"},i.prototype.log=function(e,t,r,i){e=e||u.GD,t=t||this.ge,r||(r=console.log,i=console),r=r.bind(i),this.root&&this.root.log(e,t,r,r)},i.prototype.ge=function(e,t,r){t(" "+e.value)},i.AW=u,i.prototype.Node=n,n.prototype.reduce=function(e,t,r,i,n,s){if(s=s||0,this.left){var o=this.left.length;t=this.left.reduce(e,t,r,i,n,s+1),r+=o}return t=e.call(i,t,this.value,r,n,this,s),r+=1,this.right&&(t=this.right.reduce(e,t,r,i,n,s+1)),t},n.prototype.reduceRight=function(e,t,r,i,n,s){return s=s||0,this.right&&(t=this.right.reduce(e,t,r,i,n,s+1),r-=this.right.length),t=e.call(i,t,this.value,this.value,n,this,s),r-=1,this.left&&(t=this.left.reduce(e,t,r,i,n,s+1)),t},n.prototype.EW=function(){this.length=1+(this.left?this.left.length:0)+(this.right?this.right.length:0),this.index=this.left?this.left.length:0},n.prototype.kW=function(){var e=1;if(e+=this.left?this.left.kW():0,e+=this.right?this.right.kW():0,this.length!==e)throw new Error("Integrity check failed: "+this.summary());return e},n.prototype.RW=function(){var e=this;if(e.right){for(e=e.right;e.left;)e=e.left;return e}},n.prototype.yW=function(){var e=this;if(e.left){for(e=e.left;e.right;)e=e.right;return e}},n.prototype.summary=function(){var e=this.value||"-";return e+=" <"+this.length,this.left||this.right?"("+e+" "+(this.left?this.left.summary():"()")+", "+(this.right?this.right.summary():"()")+")":"("+e+")"},n.prototype.log=function(e,t,r,i){var n,s=this;n=this.left&&this.right?e.qP:this.left?e.UD:this.right?e.xD:e.BD;var o;this.left&&this.left.log(e,t,function(t){o?i(e.jD+" "+t):(o=!0,i(e.HD+e.BD+t))},function(e){i("  "+e)});var a;t(this,function(t){a?r((s.right?e.jD:" ")+t):(a=!0,r(n+t))},function(t){i((s.left?e.jD:" ")+t)});var h;this.right&&this.right.log(e,t,function(t){h?r("  "+t):(h=!0,r(e.qD+e.BD+t))},function(t){r(e.jD+" "+t)})},s.prototype.zk=null,Object.defineProperty(s.prototype,"_iterationObject",{get:function(){return this.zk||(this.zk={done:!1,value:null})}}),s.prototype.next=function(){var e;return e=this.Mk?this.set.bW(this.Mk.value):this.set.IW(),e?void 0!==this.end&&this.set.yo(e.value,this.end)>=0?(this.Jk.done=!0,this.Jk.value=void 0):(this.Mk=e,this.Jk.value=e.value):(this.Jk.done=!0,this.Jk.value=void 0),this.Jk}},function(e,t,r){"use strict";var i=function(){function e(){this.eN=!1,this.sN=!1,this.oN=!1}return e}();t.X_=i},function(e,t,r){"use strict";function i(e,t,r,n){if(!(this instanceof i))return new i(e,t,r,n);Array.isArray(e)?(this.fg=e,e=e.splice(0,e.length)):this.fg=[],this.ce=t||Object.ae,this.yo=r||Object.mo,this.le=n||Function.he,this.length=0,this.addEach(e)}function n(e,t,r){for(var i=0,n=e.length-1;i<=n;){var s=i+n>>1,o=r(t,e[s]);if(o>0)i=s+1;else{if(!(o<0))return s;n=s-1}}return-(i+1)}function s(e,t,r,i){var s=n(e,t,r);if(s<0)return-1;for(;s>0&&i(t,e[s-1]);)s--;return i(t,e[s])?s:-1}function o(e,t,r,i){var s=n(e,t,r);if(s<0)return-1;for(;s<e.length-1&&i(t,e[s+1]);)s++;return i(t,e[s])?s:-1}function a(e,t,r){var i=n(e,t,r);if(i<0)return-i-1;for(var s=e.length-1;i<s&&0===r(t,e[i+1]);)i++;return i}e.t=i;var h=(r(12),r(13)),c=r(14),u=r(35);i.OW=i,Object.addEach(i.prototype,h.prototype),Object.addEach(i.prototype,c.prototype),Object.addEach(i.prototype,u.prototype),i.prototype.NN=!0,i.prototype.de=function(e){return new this.constructor(e,this.ce,this.yo,this.le)},i.prototype.has=function(e,t){if(t)throw new Error("SortedSet#has does not support second argument: equals");var r=n(this.fg,e,this.yo);return r>=0&&this.ce(this.fg[r],e)},i.prototype.get=function(e,t){if(t)throw new Error("SortedArray#get does not support second argument: equals");var r=s(this.fg,e,this.yo,this.ce);return-1!==r?this.fg[r]:this.le(e)},i.prototype.add=function(e){var t=a(this.fg,e,this.yo);return this.qk&&this.UP([e],[],t),this.fg.splice(t,0,e),this.length++,this.qk&&this.LP([e],[],t),!0},i.prototype.delete=function(e,t){if(t)throw new Error("SortedArray#delete does not support second argument: equals");var r=s(this.fg,e,this.yo,this.ce);return-1!==r&&(this.qk&&this.UP([],[e],r),this.fg.splice(r,1),this.length--,this.qk&&this.LP([],[e],r),!0)},i.prototype.GP=function(e,t){if(t){var r=this.fg.GP(e,t);return this.length-=r,r}var i=s(this.fg,e,this.yo,this.ce);if(-1!==i){for(var n=i;this.ce(e,this.fg[n]);)n++;var o=this.slice(i,n);return this.qk&&this.UP([],o,i),this.fg.splice(i,o.length),this.length-=o.length,this.qk&&this.LP([],o,i),o.length}return 0},i.prototype.indexOf=function(e){return s(this.fg,e,this.yo,this.ce)},i.prototype.lastIndexOf=function(e){return o(this.fg,e,this.yo,this.ce)},i.prototype.find=function(e,t,r){if(t)throw new Error("SortedArray#find does not support second argument: equals");if(r)throw new Error("SortedArray#find does not support third argument: index");return s(this.fg,e,this.yo,this.ce)},i.prototype.Hk=function(e,t,r){if(t)throw new Error("SortedArray#findLast does not support second argument: equals");if(r)throw new Error("SortedArray#findLast does not support third argument: index");return o(this.fg,e,this.yo,this.ce)},i.prototype.push=function(){this.addEach(arguments)},i.prototype.unshift=function(){this.addEach(arguments)},i.prototype.pop=function(){var e=this.fg.pop();return this.length=this.fg.length,e},i.prototype.shift=function(){var e=this.fg.shift();return this.length=this.fg.length,e},i.prototype.slice=function(){return this.fg.slice.apply(this.fg,arguments)},i.prototype.splice=function(e,t){return this.Yk(e,t,Array.prototype.slice.call(arguments,2))},i.prototype.Yk=function(e,t,r){if(void 0===e&&void 0===t)return[];e=e||0,e<0&&(e+=this.length),void 0===t&&(t=1/0);var i=this.slice(e,e+t);return this.qk&&this.UP(r,i,e),this.fg.splice(e,t),this.length-=i.length,this.qk&&this.LP([],i,e),this.addEach(r),i},i.prototype.reduce=function(e,t){var r=arguments[2];return this.fg.reduce(function(t,i,n){return e.call(r,t,i,n,this)},t,this)},i.prototype.reduceRight=function(){var e=arguments[2];return this.fg.reduceRight(function(t,r,i){return callback.call(e,t,r,i,this)},basis,this)},i.prototype.min=function(){if(this.length)return this.fg[0]},i.prototype.max=function(){if(this.length)return this.fg[this.length-1]},i.prototype.Po=function(){return this.fg.Po()},i.prototype.clear=function(){var e;this.qk&&(e=this.fg.slice(),this.UP([],e,0)),this.length=0,this.fg.clear(),this.qk&&this.LP([],e,0)},i.prototype.ae=function(e,t){return this.fg.ae(e,t)},i.prototype.mo=function(e,t){return this.fg.mo(e,t)},i.prototype.Ao=function(e,t){return new this.Iterator(this.fg,e,t)},i.prototype.toJSON=function(){return this.toArray()},i.prototype.Iterator=Array.prototype.Iterator},function(e,t,r){"use strict";var i=r(1),n=r(44),s=r(2);r(141),r(143);var o=r(81),a=r(0),h=r(144),c=r(10),u=r(82),l=r(145),p=r(146),f=r(80),d=r(8),g=function(){function e(e){this.isLive=!1,this.te=a.Framework&&a.Framework.resolve(a.Framework.q.I)?a.Framework.resolve(a.Framework.q.I).log(e):console,this._W=new DashParser,this.reset()}return e.prototype.NW=function(e){var t="";return-1!==e.indexOf("/")&&(-1!==e.indexOf("?")&&(e=e.substring(0,e.indexOf("?"))),t=e.substring(0,e.lastIndexOf("/")+1)),t},e.prototype.mB=function(){return this.isLive},e.prototype.wN=function(){return this.DW.values().map(function(e){return e.bandwidth})},e.prototype.reset=function(){this.DW=new i},e.prototype.FW=function(){return this.LW},e.prototype.parse=function(t,r,i){this.reset(),this.SB=t,this.manifest=this._W.parse(r,this.NW(t)),this.isLive="static"!==this.manifest.type;for(var n=this.manifest.MW,s=this.manifest.BW[0],o=s.UW,a=0;a<o.length;a++){var u=s.xW[a],l=-1!=u.mimeType.indexOf("audio")?c.Ws.Ks:c.Ws.Ys;l===c.Ws.Ys&&u.HW&&this.qW(u.HW);for(var p=u.jW.VW,f=u.jW.media,d=parseInt(u.jW.GW),g=0;g<u.QW.length;g++){var v=u.QW[g],y=new h.KW;y.type=l,y.bandwidth=parseInt(v.bandwidth),y.GW=d,y.VW=n+""+p,y.VW=y.VW.replace(e.YW,""+y.bandwidth),i||this.te.debug("QualityLevel "+c.Ws[l]+" "+y.bandwidth);var m=n+""+f;m=m.replace(e.YW,""+y.bandwidth),y.zW=m;var E=parseInt(y.bandwidth+""),T=this.JW(u.jW.XW[0].WW,m,E,l);y.ZW=T.$W,y.eX=T.tX;var I=m.substr(0,m.lastIndexOf("="));I=I.substr(0,I.lastIndexOf("=")),this.DW.set(I,y)}}return this.LW=!0,this.rX(r,i)},e.prototype.JW=function(t,r,i,s){var o,a=new n,h=new n,c=0,l=0;return t.forEach(function(t){if(t.d){t.vp?c=parseInt(t.vp):c+=l;var n=parseInt(t.d),p=r.replace(e.iX,c+""),f=new u.$B(c,i,n,p,p);f.type=s,o&&(o.next=f),a.set(p,f),h.set(c,f),o=f;var d=0;t.r&&(d=parseInt(t.r));for(var g=0;g<d;g++){c+=n;var p=r.replace(e.iX,c+""),f=new u.$B(c,i,n,p,p);f.type=s,o&&(o.next=f),a.set(p,f),h.set(c,f),o=f}l=n}}),{$W:a,tX:h}},e.prototype.qW=function(e){if(e){if(e.nX){var t=e.nX;this.AB&&!this.AB.sX()&&this.AB instanceof l.oX||(this.AB=new l.oX(t.aX,t.hX,this.authenticationToken))}else this.AB&&this.AB instanceof p.cX||(this.AB=new p.cX);this.AB&&f.yB.iB&&this.AB.init()}},e.prototype.uX=function(e){var t=e.substr(0,e.lastIndexOf("="));return t=t.substr(0,t.lastIndexOf("=")),this.DW.get(t)},e.prototype.TB=function(e){return this.uX(e).ZW.get(e)},e.prototype.EB=function(e){var t=!1;return this.DW.forEach(function(r,i){r.VW===e&&(t=!0)}),t},e.prototype.IB=function(e){var t=this.TB(e);return null!=t?t.next:null},e.prototype.yk=function(e,t,r,i){var n;if(this.DW.forEach(function(e,t){e.bandwidth===i&&(n=e)}),n&&n.eX.has(e)&&n.eX.has(r)){for(var s=n.eX.get(e),o=n.eX.get(r),a=0,h=s;h&&h!=o;)a+=h.duration,h=h.next;return Math.round(a/(n.GW/1e3))}return 0},e.prototype.AN=function(t){var r=this,i=s.defer(),n=this.TB(t.Wu());if(!n||n.next)return i.resolve(!1),i.Te;var o=s.defer();if(this.AB)f.yB.iB?this.AB.CB().then(function(e){e?r.AB.decrypt(t.Hu).then(function(e){o.resolve(r.lX(e))}).fail(function(e){return o.reject(!0)}):o.reject(!1)}):o.reject(!1);else try{var a=this.lX(t.Hu);o.resolve(a)}catch(e){this.te.warn("error extracting duration",e),o.reject(!0)}return o.Te.then(function(t){if(!isNaN(t)){var s=n.id+t;r.te.debug("found next fragment: "+n.id+" -> "+s+" duration: "+t),r.DW.forEach(function(r,i){if(r.type===n.type){var o=r.zW.replace(e.iX,n.id+""),a=r.zW.replace(e.iX,s+""),h=r.ZW.get(o);if(!r.ZW.has(a)&&h){h.duration=t;var c=new u.$B(s,r.bandwidth,t,a,a);c.type=h.type,h.next=c,r.ZW.set(a,c),r.eX.set(s,c)}}})}i.resolve(!1)}).fail(function(e){r.te.debug("could not extract duration from "+t.Wu()+" [reevaluate: "+e+"]"),i.resolve(e)}),i.Te},e.prototype.lX=function(e){e instanceof Uint8Array&&(e=e.buffer);var t=ISOBoxer.pX(e),r=t.fetch("tfhd"),i=t.fetch("trun"),n=r?r.fX:0;if(i){var s=0;return i.dX.forEach(function(e){s+=e.gX}),isNaN(s)&&n>0&&(s=n*i.dX.length),s}},e.prototype.rX=function(e,t){var r=this.vX();if(!t&&(this.isLive||r||d.HiveConfig.Dash.DashRemoveBitrateSize))try{var i=new o({}),n=i.JB(e);this.isLive&&this.yX(n),(r||d.HiveConfig.Dash.DashRemoveBitrateSize)&&this.mX(n,r,d.HiveConfig.Dash.DashRemoveBitrateSize);return i.WB(n)}catch(e){this.te.error(e)}return e},e.prototype.yX=function(e){var t=this,r=Math.max(1,f.yB.aB),i=Math.max(1,f.yB.oB),n=0,s=0;return e.EX&&e.EX.TX&&e.EX.TX.xW.forEach(function(e){if("video"===e.IX&&e.jW&&e.jW.wX){for(var o=e.jW.wX.WW,a=parseInt(e.jW.SX),h=i*a,c=0,u=0,l=0;l<o.length&&r>0;l++){var p=o[l];c=l;var f=p.RX?parseInt(p.RX):1;f>r?(u=r,r=0):(r-=f,u=f)}for(var d=o.length-1;d>=0&&(h>0&&d>=c);d--){var p=o[d],f=p.RX?parseInt(p.RX):1,g=0;if(!p.bX)throw new Error("missing segment duration");g=parseInt(p.bX);var v=f*g;if((d>c||d==c&&0==u)&&h>=v)h-=v,o.splice(d,1),n+=f,s+=v;else{var y=Math.ceil(h/g);d==c&&(y=Math.min(y,f-u));var m=g*y;p.RX=f-y+"",h-=m,n+=y,s+=m}}t.te.debug("DASH trimmed "+n+" segments for total duration: "+s)}}),e},e.prototype.vX=function(){if(d.HiveConfig.Dash.DashFilterBitrates)try{var e=null;e="string"==typeof d.HiveConfig.Dash.DashFilterBitrates?d.HiveConfig.Dash.DashFilterBitrates.split(","):d.HiveConfig.Dash.DashFilterBitrates;var t=[];return e.forEach(function(e){var r=parseInt(e);isNaN(r)||t.push(r)}),t}catch(e){this.te.warn("[HiveJs] error parsing DashFilterBitrates: "+d.HiveConfig.Dash.DashFilterBitrates)}},e.prototype.mX=function(e,t,r){var i=this;if(e.EX&&e.EX.TX){var n=[];e.EX.TX.xW.forEach(function(e){if("video"===e.IX&&e.QW){var s=e.QW;s.sort(function(e,t){return isNaN(e.PX)&&(e.PX=parseInt(e.PX)),isNaN(t.PX)&&(t.PX=parseInt(t.PX)),e.PX-t.PX});for(var o=s.length-1;o>=0;o--)r&&(delete s[o].AX,delete s[o].CX),t&&-1==t.indexOf(o)?s.splice(o,1):n.push(s[o].PX);i.te.debug("DASH filtered-in bitrates: "+n.reverse().join(" ")+" - removed size: "+r)}})}},e.prototype.DB=function(e,t,r,i){var n;if(this.DW.forEach(function(e,t){e.bandwidth===i&&(n=e)}),n&&n.eX.has(e)&&n.eX.has(r)){for(var s=n.eX.get(e),o=n.eX.get(r),a=0,h=s;h&&h!=o;)a+=h.duration,h=h.next;return Math.round(a/(n.GW/1e3))}return 0},e.prototype.FB=function(e,t){var r;return this.DW.forEach(function(e,i){e.bandwidth===t&&(r=e)}),r&&r.eX.has(e)?r.eX.get(e):null},e}();g.YW="$Bandwidth$",g.iX="$Time$",t.vB=g},function(e,t,r){/*!
 * The copyright in this software is being made available under the BSD License,
 * included below. This software may be subject to other third party and contributor
 * rights, including patent rights, and no such rights are granted under this license.
 *
 * Copyright (c) 2013, Dash Industry Forum.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without modification,
 * are permitted provided that the following conditions are met:
 *  * Redistributions of source code must retain the above copyright notice, this
 *  list of conditions and the following disclaimer.
 *  * Redistributions in binary form must reproduce the above copyright notice,
 *  this list of conditions and the following disclaimer in the documentation and/or
 *  other materials provided with the distribution.
 *  * Neither the name of Dash Industry Forum nor the names of its
 *  contributors may be used to endorse or promote products derived from this software
 *  without specific prior written permission.
 *
 *  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS AS IS AND ANY
 *  EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 *  WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
 *  IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 *  INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT
 *  NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
 *  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
 *  WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 *  ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 *  POSSIBILITY OF SUCH DAMAGE.
 */
var i=r(142),n=r(81);DashParser=function(){var e=/^([-])?P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/,t=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+-])([0-9]{2})([0-9]{2}))?/,r=/^[-+]?[0-9]+[.]?[0-9]*([eE][-+]?[0-9]+)?$/,s=[{type:"duration",test:function(t){for(var r=["minBufferTime","mediaPresentationDuration","minimumUpdatePeriod","timeShiftBufferDepth","maxSegmentDuration","maxSubsegmentDuration","suggestedPresentationDelay","start","starttime","duration"],i=r.length,n=0;n<i;n++)if(t.nodeName===r[n])return e.test(t.value);return!1},UB:function(t){var r=e.exec(t),i=31536e3*parseFloat(r[2]||0)+2592e3*parseFloat(r[4]||0)+86400*parseFloat(r[6]||0)+3600*parseFloat(r[8]||0)+60*parseFloat(r[10]||0)+parseFloat(r[12]||0);return void 0!==r[1]&&(i=-i),i}},{type:"datetime",test:function(e){return t.test(e.value)},UB:function(e){var r,i=t.exec(e);if(r=Date.UTC(parseInt(i[1],10),parseInt(i[2],10)-1,parseInt(i[3],10),parseInt(i[4],10),parseInt(i[5],10),i[6]&&parseInt(i[6],10)||0,i[7]&&1e3*parseFloat(i[7])||0),i[9]&&i[10]){var n=60*parseInt(i[9],10)+parseInt(i[10],10);r+=("+"===i[8]?-1:1)*n*60*1e3}return new Date(r)}},{type:"numeric",test:function(e){return r.test(e.value)},UB:function(e){return parseFloat(e)}}],o=function(){var e,t,r,i;return i=[{name:"profiles",ud:!1},{name:"width",ud:!1},{name:"height",ud:!1},{name:"sar",ud:!1},{name:"frameRate",ud:!1},{name:"audioSamplingRate",ud:!1},{name:"mimeType",ud:!1},{name:"segmentProfiles",ud:!1},{name:"codecs",ud:!1},{name:"maximumSAPPeriod",ud:!1},{name:"startsWithSap",ud:!1},{name:"maxPlayoutRate",ud:!1},{name:"codingDependency",ud:!1},{name:"scanType",ud:!1},{name:"FramePacking",ud:!0},{name:"AudioChannelConfiguration",ud:!0},{name:"ContentProtection",ud:!0}],e={},e.name="AdaptationSet",e.kX=!1,e.isArray=!0,e.parent=null,e.children=[],e.properties=i,t={},t.name="Representation",t.kX=!1,t.isArray=!0,t.parent=e,t.children=[],t.properties=i,e.children.push(t),r={},r.name="SubRepresentation",r.kX=!1,r.isArray=!0,r.parent=t,r.children=[],r.properties=i,t.children.push(r),e},a=function(){var e,t,r,i;return i=[{name:"SegmentBase",ud:!0},{name:"SegmentTemplate",ud:!0},{name:"SegmentList",ud:!0}],e={},e.name="Period",e.kX=!1,e.isArray=!0,e.parent=null,e.children=[],e.properties=i,t={},t.name="AdaptationSet",t.kX=!1,t.isArray=!0,t.parent=e,t.children=[],t.properties=i,e.children.push(t),r={},r.name="Representation",r.kX=!1,r.isArray=!0,r.parent=t,r.children=[],r.properties=i,t.children.push(r),e},h=function(){var e,t,r,i,n;return n=[{name:"BaseURL",ud:!0,OX:function(e,t){return 0===t.indexOf("http://")?t:e+t}}],e={},e.name="mpd",e.kX=!0,e.isArray=!0,e.parent=null,e.children=[],e.properties=n,t={},t.name="Period",t.kX=!1,t.isArray=!0,t.parent=null,t.children=[],t.properties=n,e.children.push(t),r={},r.name="AdaptationSet",r.kX=!1,r.isArray=!0,r.parent=t,r.children=[],r.properties=n,t.children.push(r),i={},i.name="Representation",i.kX=!1,i.isArray=!0,i.parent=r,i.children=[],i.properties=n,r.children.push(i),e},c=function(){var e=[];return e.push(o()),e.push(a()),e.push(h()),e};return{parse:function(e,t){var r,o=new n(s,"",!0),a=new i(c());new Date;try{r=o.JB(e),new Date,r.hasOwnProperty("BaseURL")?(r.MW=r._X[0],0!==r.MW.toString().indexOf("http")&&(r.MW=t+r.MW)):r.MW=t,r.hasOwnProperty("Location")&&(r.Location=r.NX[0]),a.DX(r),new Date}catch(t){return console.log("parsing the manifest failed","parse",e),null}return r}}}},function(e,t,r){var n=function(e){var t;for(t=[],i=0,len=e.length;i<len;i+=1)e[i].kX?t.push("root"):t.push(e[i].name);var r=function(e,t){var r;if(null!==e&&null!==t)for(r in e)e.hasOwnProperty(r)&&(t.hasOwnProperty(r)||(t[r]=e[r]))},n=function(e,t,i){var n,s,o,a,h;if(null!==e&&0!==e.length)for(n=0,s=e.length;n<s;n+=1)o=e[n],t.hasOwnProperty(o.name)&&(i.hasOwnProperty(o.name)?o.ud&&(a=t[o.name],h=i[o.name],"object"==typeof a&&"object"==typeof h?r(a,h):null!=o.OX?i[o.name]=o.OX(a,h):i[o.name]=a+h):i[o.name]=t[o.name])},s=function(e,t){var r,i,o,a,h,c,u,l=e;if(null!==l.children&&0!==l.children.length)for(r=0,i=l.children.length;r<i;r+=1)if(c=l.children[r],t.hasOwnProperty(c.name))if(c.isArray)for(h=t[c.name+"_asArray"],o=0,a=h.length;o<a;o+=1)u=h[o],n(l.properties,t,u),s(c,u);else u=t[c.name],n(l.properties,t,u),s(c,u)},o=function(r){var i,n,a,h,c,u,l;if(null===r)return r;if("object"!=typeof r)return r;for(i=0,n=t.length;i<n;i+=1)"root"===t[i]&&(c=e[i],u=r,s(c,u));for(h in r)if(r.hasOwnProperty(h)){if(-1!==(a=t.indexOf(h)))if(c=e[a],c.isArray)for(l=r[h+"_asArray"],i=0,n=l.length;i<n;i+=1)u=l[i],s(c,u);else u=r[h],s(c,u);o(r[h])}return r};return{DX:o}};e.t=n},function(e,t,r){/*! codem-isoboxer v0.2.2 https://github.com/madebyhiro/codem-isoboxer/blob/master/LICENSE.txt */
"undefined"==typeof ISOBoxer&&(ISOBoxer={}),ISOBoxer.pX=function(e){return new i(e).parse()},ISOBoxer.fn={},ISOBoxer.fn.FX=function(e,t){var r=t||"utf-8";if("undefined"!=typeof TextDecoder)return new TextDecoder(r).decode(e);var i=[],n=0;if("utf-8"===r)for(;n<e.byteLength;){var s=e.getUint8(n++);s<128||(s<224?(s=(31&s)<<6,s|=63&e.getUint8(n++)):s<240?(s=(15&s)<<12,s|=(63&e.getUint8(n++))<<6,s|=63&e.getUint8(n++)):(s=(7&s)<<18,s|=(63&e.getUint8(n++))<<12,s|=(63&e.getUint8(n++))<<6,s|=63&e.getUint8(n++))),i.push(String.fromCharCode(s))}else for(;n<e.byteLength;)i.push(String.fromCharCode(e.getUint8(n++)));return i.join("")},t.pX=ISOBoxer.pX,t.fn=ISOBoxer.fn,ISOBoxer.LX=function(e){this.offset=void 0===e?0:e};var i=function(e){this.MX=new DataView(e),this.BX=new ISOBoxer.LX,this.UX=[]};i.prototype.fetch=function(e){var t=this.xX(e,!0);return t.length?t[0]:null},i.prototype.xX=function(e,t){var r=[];return i.HX.call(this,e,r,t),r},i.prototype.parse=function(){for(this.BX.offset=0,this.UX=[];this.BX.offset<this.MX.byteLength;){var e=n.parse(this);if(void 0===e.type)break;this.UX.push(e)}return this},i.HX=function(e,t,r){this.type&&this.type==e&&t.push(this);for(var n in this.UX){if(t.length&&r)return;i.HX.call(this.UX[n],e,t,r)}};var n=function(){this.BX=new ISOBoxer.LX};n.parse=function(e){var t=new n;return t.qX=e.BX.offset,t.VX=e.VX?e.VX:e,t.MX=e.MX,t.jX=e,t.GX(),e.BX.offset=t.MX.byteOffset+t.MX.byteLength,t},n.prototype.QX=function(e){var t=null;switch(e){case 8:t=this.MX.getInt8(this.BX.offset-this.MX.byteOffset);break;case 16:t=this.MX.getInt16(this.BX.offset-this.MX.byteOffset);break;case 32:t=this.MX.getInt32(this.BX.offset-this.MX.byteOffset);break;case 64:var r=this.MX.getInt32(this.BX.offset-this.MX.byteOffset),i=this.MX.getInt32(this.BX.offset-this.MX.byteOffset+4);t=r*Math.pow(2,32)+i}return this.BX.offset+=e>>3,t},n.prototype.KX=function(e){var t=null;switch(e){case 8:t=this.MX.getUint8(this.BX.offset-this.MX.byteOffset);break;case 16:t=this.MX.getUint16(this.BX.offset-this.MX.byteOffset);break;case 24:var r=this.MX.getUint16(this.BX.offset-this.MX.byteOffset),i=this.MX.getUint8(this.BX.offset-this.MX.byteOffset+2);t=(r<<8)+i;break;case 32:t=this.MX.getUint32(this.BX.offset-this.MX.byteOffset);break;case 64:var r=this.MX.getUint32(this.BX.offset-this.MX.byteOffset),i=this.MX.getUint32(this.BX.offset-this.MX.byteOffset+4);t=r*Math.pow(2,32)+i}return this.BX.offset+=e>>3,t},n.prototype.YX=function(e){for(var t="",r=0;r<e;r++){var i=this.KX(8);t+=String.fromCharCode(i)}return t},n.prototype.zX=function(){for(var e="";;){var t=this.KX(8);if(0==t)break;e+=String.fromCharCode(t)}return e},n.prototype.JX=function(e){return this.KX(e/2)+this.KX(e/2)/Math.pow(2,e/2)},n.prototype.GX=function(){if(this.BX.offset=this.qX,this.qX+8>this.MX.buffer.byteLength)return void(this.VX.WX=!0);switch(this.size=this.KX(32),this.type=this.YX(4),1==this.size&&(this.XX=this.KX(64)),"uuid"==this.type&&(this.ZX=this.YX(16)),this.size){case 0:this.MX=new DataView(this.MX.buffer,this.qX,this.MX.byteLength-this.BX.offset);break;case 1:this.qX+this.size>this.MX.buffer.byteLength?(this.WX=!0,this.VX.WX=!0):this.MX=new DataView(this.MX.buffer,this.qX,this.XX);break;default:this.qX+this.size>this.MX.buffer.byteLength?(this.WX=!0,this.VX.WX=!0):this.MX=new DataView(this.MX.buffer,this.qX,this.size)}!this.WX&&this.$X[this.type]&&this.$X[this.type].call(this)},n.prototype.eZ=function(){this.version=this.KX(8),this.tZ=this.KX(24)},n.prototype.$X={},["moov","trak","tref","mdia","minf","stbl","edts","dinf","mvex","moof","traf","mfra","udta","meco","strk","vttc"].forEach(function(e){n.prototype.$X[e]=function(){for(this.UX=[];this.BX.offset-this.MX.byteOffset<this.MX.byteLength;)this.UX.push(n.parse(this))}}),n.prototype.$X.rZ=function(){this.eZ(),this.iZ=this.KX(32),this.entries=[];for(var e=1;e<=this.iZ;e++){var t={};1==this.version?(t.nZ=this.KX(64),t.sZ=this.QX(64)):(t.nZ=this.KX(32),t.sZ=this.QX(32)),t.oZ=this.QX(16),t.aZ=this.QX(16),this.entries.push(t)}},n.prototype.$X.hZ=function(){this.eZ(),this.cZ=this.zX(),this.value=this.zX(),this.GW=this.KX(32),this.uZ=this.KX(32),this.lZ=this.KX(32),this.id=this.KX(32),this.pZ=new DataView(this.MX.buffer,this.BX.offset,this.MX.byteLength-(this.BX.offset-this.qX))},n.prototype.$X.fZ=n.prototype.$X.dw=function(){this.data=new DataView(this.MX.buffer,this.BX.offset,this.MX.byteLength-(this.BX.offset-this.qX))},n.prototype.$X.dZ=n.prototype.$X.gZ=function(){for(this.vZ=this.YX(4),this.yZ=this.KX(32),this.mZ=[];this.BX.offset-this.MX.byteOffset<this.MX.byteLength;)this.mZ.push(this.YX(4))},n.prototype.$X.EZ=function(){this.eZ(),this.TZ=this.KX(32),this.IZ=this.YX(4),this.tT=[this.KX(32),this.KX(32),this.KX(32)],this.name=this.zX()},n.prototype.$X.wZ=function(){this.data=new DataView(this.MX.buffer,this.BX.offset,this.MX.byteLength-(this.BX.offset-this.qX))},n.prototype.$X.SZ=function(){this.eZ(),1==this.version?(this.RZ=this.KX(64),this.bZ=this.KX(64),this.GW=this.KX(32),this.duration=this.KX(64)):(this.RZ=this.KX(32),this.bZ=this.KX(32),this.GW=this.KX(32),this.duration=this.KX(32));var e=this.KX(16);this.pad=e>>15,this.language=String.fromCharCode(96+(e>>10&31),96+(e>>5&31),96+(31&e)),this.TZ=this.KX(16)},n.prototype.$X.PZ=function(){this.eZ(),this.AZ=this.KX(32)},n.prototype.$X.CZ=function(){this.eZ(),1==this.version?(this.RZ=this.KX(64),this.bZ=this.KX(64),this.GW=this.KX(32),this.duration=this.KX(64)):(this.RZ=this.KX(32),this.bZ=this.KX(32),this.GW=this.KX(32),this.duration=this.KX(32)),this.rate=this.JX(32),this.volume=this.JX(16),this.kZ=this.KX(16),this.OZ=[this.KX(32),this.KX(32)],this.matrix=[];for(var e=0;e<9;e++)this.matrix.push(this.JX(32));this.TZ=[];for(var e=0;e<6;e++)this.TZ.push(this.KX(32));this._Z=this.KX(32)},n.prototype.$X.NZ=function(){var e=new DataView(this.MX.buffer,this.BX.offset,this.MX.byteLength-(this.BX.offset-this.qX));this.DZ=ISOBoxer.fn.FX(e)},n.prototype.$X.FZ=function(){this.eZ(),this.LZ=this.KX(32),this.GW=this.KX(32),0==this.version?(this.MZ=this.KX(32),this.BZ=this.KX(32)):(this.MZ=this.KX(64),this.BZ=this.KX(64)),this.tT=this.KX(16),this.UZ=this.KX(16),this.xZ=[];for(var e=0;e<this.UZ;e++){var t={},r=this.KX(32);t.HZ=r>>31&1,t.qZ=2147483647&r,t.VZ=this.KX(32);var i=this.KX(32);t.jZ=i>>31&1,t.GZ=i>>28&7,t.QZ=268435455&i,this.xZ.push(t)}},n.prototype.$X.KZ=function(){this.eZ(),this.YZ=this.KX(32),this.zZ=[];for(var e=0;e<this.YZ;e++){var t={};t.JZ=this.KX(32),t.WZ=[];for(var r=0;r<t.JZ;r++){var i={};i.level=this.KX(8),i.XZ=this.KX(24),t.WZ.push(i)}this.zZ.push(t)}},n.prototype.$X.ZZ=function(){this.eZ(),1==this.version?this.$Z=this.KX(64):this.$Z=this.KX(32)},n.prototype.$X.e$=function(){this.eZ(),this.t$=this.KX(32),1&this.tZ&&(this.r$=this.KX(64)),2&this.tZ&&(this.i$=this.KX(32)),8&this.tZ&&(this.fX=this.KX(32)),16&this.tZ&&(this.n$=this.KX(32)),32&this.tZ&&(this.s$=this.KX(32))},n.prototype.$X.o$=function(){this.eZ(),1==this.version?(this.RZ=this.KX(64),this.bZ=this.KX(64),this.t$=this.KX(32),this.kZ=this.KX(32),this.duration=this.KX(64)):(this.RZ=this.KX(32),this.bZ=this.KX(32),this.t$=this.KX(32),this.kZ=this.KX(32),this.duration=this.KX(32)),this.OZ=[this.KX(32),this.KX(32)],this.a$=this.KX(16),this.h$=this.KX(16),this.volume=this.JX(16),this.c$=this.KX(16),this.matrix=[];for(var e=0;e<9;e++)this.matrix.push(this.JX(32));this.width=this.KX(32),this.height=this.KX(32)},n.prototype.$X.u$=function(){this.eZ(),this.l$=this.KX(32),1&this.tZ&&(this.p$=this.QX(32)),4&this.tZ&&(this.f$=this.KX(32)),this.dX=[];for(var e=0;e<this.l$;e++){var t={};256&this.tZ&&(t.gX=this.KX(32)),512&this.tZ&&(t.d$=this.KX(32)),1024&this.tZ&&(t.g$=this.KX(32)),2048&this.tZ&&(0==this.version?t.v$=this.KX(32):t.v$=this.QX(32)),this.dX.push(t)}},n.prototype.$X.y$=function(){var e=new DataView(this.MX.buffer,this.BX.offset,this.MX.byteLength-(this.BX.offset-this.qX));this.m$=ISOBoxer.fn.FX(e)},n.prototype.$X.E$=function(){var e=new DataView(this.MX.buffer,this.BX.offset,this.MX.byteLength-(this.BX.offset-this.qX));this.config=ISOBoxer.fn.FX(e)},n.prototype.$X.T$=function(){}},function(e,t,r){"use strict";var i=function(){function e(){}return e}();t.KW=i},function(e,t,r){"use strict";var i=r(2),n=r(0),s=function(){function e(e,t){this.name=e,this.I$=t}return e}(),o=function(){function e(e,t,r){this.mn="[AES Manager] ",this.w$="AES-CBC",this.xn=!1,this.te=n.Framework&&n.Framework.resolve(n.Framework.q.I)?n.Framework.resolve(n.Framework.q.I).log():console,this.S$=e,this.R$=t,this.te.debug(this.mn+"Starting Dash AES Manager"),r&&(this.b$=r)}return e.prototype.init=function(){var e=this;try{this.P$();var t=i.defer();this.A$().then(function(){return t.resolve(!0)}).fail(function(r){e.te.warn(e.mn+r),t.resolve(!1)}),this.C$=t.Te}catch(e){this.te.warn(this.mn+"Error initializing AES Manager",e)}},e.prototype.CB=function(){return this.C$?this.C$:i.resolve(!1)},e.prototype.A$=function(){var e=this;if(this.k$)return this.k$;var t=i.defer();return this.O$().then(function(r){window.crypto.subtle.importKey("raw",r,{name:e.w$},!1,["decrypt"]).then(function(e){t.resolve(e)},function(e){t.reject("error importing key: "+e.toString())})}).fail(function(e){return t.reject(e)}),this.k$=t.Te,this.k$},e.prototype.P$=function(){for(var e=2,t=this.R$.length,r=[];e<t;e+=2)r.push(parseInt(this.R$.substr(e,2),16));this.I$=new Uint8Array(r)},e.prototype.decrypt=function(e){var t=this,r=i.defer(),n=new s(this.w$,this.I$);return this.k$.then(function(t){return window.crypto.subtle.decrypt(n,t,e).then(function(e){r.resolve(e)})}).catch(function(e){t.te.warn(t.mn+"decrypt error",e),t.xn=!0,t.C$=i.resolve(!1),r.reject(e)}),r.Te},e.prototype.O$=function(){var e=i.defer(),t=new XMLHttpRequest;return t.responseType="arraybuffer",t.open("GET",this.S$),this.b$&&t.setRequestHeader("Authorization",this.b$),t.onload=function(){if(200===t.status){var r=new Uint8Array(t.response);e.resolve(r)}else e.reject("error downloading key - status: "+t.status)},t.onerror=function(){e.reject("error downloading key")},t.send(),e.Te},e.prototype.sX=function(){return this.xn},e}();t.oX=o},function(e,t,r){"use strict";var i=r(2),n=function(){function e(){}return e.prototype.init=function(){},e.prototype.CB=function(){return i.resolve(!1)},e.prototype.decrypt=function(e){return i.reject("unsupported")},e.prototype.sX=function(){return!1},e}();t.cX=n},function(e,t,r){"use strict";var i=this&&this.Ns||function(e,t){function r(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=r(83),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(n.lU);t.dB=s},function(e,t,r){"use strict";var i=r(4),n=r(149),s=r(1),o=r(150),a=r(82),h=r(0),c=r(6),u=r(84),l=function(){function e(){this.FU=new s,this._$=null,this.N$=null,this.te=(h.Framework.resolve(h.Framework.q.I)||console).log()}return e.prototype.parse=function(e,t){var r=new n.D$;if(r.push(t),r.manifest.playlists)this.F$(e,r.manifest);else{var i=this.L$(e,r.manifest);if(i&&(this.live=!i.M$),this.live)return this.B$(r.manifest,t)}return t},e.prototype.FB=function(e,t){if(this.LU.has(t)){return this.LU.get(t).eX.get(e)}return null},e.prototype.wN=function(){return this.FU.values().map(function(e){return e.bitrate})},e.prototype.isLive=function(){return this.live},e.prototype.TB=function(e){return null==this.ZW?null:this.ZW.get(e)},e.prototype.IB=function(e){var t=this.ZW.get(e);if(t){var r=t.bitrate;return this.LU.get(r).eX.get(t.id+1)}return null},e.prototype.NU=function(e){return this.FU.has(e)},e.prototype.DU=function(){return this.U$},e.prototype.F$=function(e,t){var r=this;this.U$=e,this.x$=t,this.FU=new s,this.ZW=new s,this.LU=new s,this.x$.playlists.forEach(function(t){var i=c.fn.cn(e,t.uri),n=t.attributes.BANDWIDTH,s=new o.H$(n,t.uri,i);r.FU.set(i,s),r.LU.set(n,s)})},e.prototype.L$=function(e,t){var r=this,n=this.FU.get(e);if(!n)return void this.te.warn("Playlist url doesn't match any playlist in the master file");var s=null!=t.q$?t.q$:0,o=new Array,h=s-1,u=n.eX.get(h);return t.MU.forEach(function(t){var h=c.fn.cn(e,t.uri),l=Math.round(1e3*t.duration),p=n.bitrate;Number.isInteger(p)||(i.ErrorMonitor.gi().di("Segment Bitrate is a Float",{bitrate:p}),p=Math.round(p));var f=new a.$B(s,p,l,t.uri,h);r.ZW.set(h,f),n.eX.set(s,f),o.push(f),u&&(u.next=f),u=f,s++}),this._$=n,n.update(t.q$,t.V$,t.M$,t.j$,o),n},e.prototype.B$=function(e,t){for(var r=t.split("\n"),i=Math.max(1,u.OU.wU),n=null,s=0,o=e.MU.length-1;o>=i-1;o--){var a=e.MU[o];if(n=a.uri,s>=u.OU.IU)break;s+=a.duration}var h="";for(o=0;o<r.length&&(h=h+r[o]+"\n",r[o].trim()!==n);o++);return h},e}();t.kU=l},function(e,t,r){var i=function(){var e={};e.yg={},e.yg.create=Object.create||function(e){function t(){}return t.prototype=e,new t},e.yg.G$=function(e,t,r){for(var i in e)hasOwnProp.call(e,i)&&t.call(r||this,i,e[i])},e.yg.ud=function(e,t){if(!t)return e;for(var r in t)hasOwnProp.call(t,r)&&(e[r]=t[r]);return e},e.yg.Q$=function(t,r){var i,n,s;t=e.yg.rP(t);for(i in r)hasOwnProp.call(r,i)&&(n=t[i],s=r[i],e.yg.K$(n)&&e.yg.K$(s)?t[i]=e.yg.Q$(n,s):t[i]=r[i]);return t},e.yg.rP=function(t){return e.yg.ud({},t)},e.yg.K$=function(e){return!!e&&"object"==typeof e&&"[object Object]"===e.toString()&&e.constructor===Object},e.yg.isArray=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},mergeOptions=function(t,r){var i,n,s;t=e.yg.rP(t);for(i in r)r.hasOwnProperty(i)&&(n=t[i],s=r[i],e.yg.K$(n)&&e.yg.K$(s)?t[i]=e.util.Y$(n,s):t[i]=r[i]);return t},e.Y$=mergeOptions;var t=function(){this.init=function(){var e={};this.on=function(t,r){e[t]||(e[t]=[]),e[t].push(r)},this.off=function(t,r){var i;return!!e[t]&&(i=e[t].indexOf(r),e[t].splice(i,1),i>-1)},this.z$=function(t){var r,i,n,s;if(r=e[t])for(s=Array.prototype.slice.call(arguments,1),n=r.length,i=0;i<n;++i)r[i].apply(this,s)},this.J$=function(){e={}}}};t.prototype.W$=function(e){this.on("data",function(t){e.push(t)})},e.X$=t;var r,i,n,s=function(){},o=function(){return new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))')}(),a=function(e){for(var t,r=e.split(o),i=r.length,n={};i--;)""!==r[i]&&(t=/([^=]*)=(.*)/.exec(r[i]).slice(1),t[0]=t[0].replace(/^\s+|\s+$/g,""),t[1]=t[1].replace(/^\s+|\s+$/g,""),t[1]=t[1].replace(/^['"](.*)['"]$/g,"$1"),n[t[0]]=t[1]);return n},t=e.X$;return r=function(){var e="";r.prototype.init.call(this),this.push=function(t){var r;for(e+=t,r=e.indexOf("\n");r>-1;r=e.indexOf("\n"))this.z$("data",e.substring(0,r)),e=e.substring(r+1)}},r.prototype=new t,i=function(){i.prototype.init.call(this)},i.prototype=new t,i.prototype.push=function(e){var t,r;if(e=e.replace(/^\s+|\s+$/g,""),0!==e.length){if("#"!==e[0])return void this.z$("data",{type:"uri",uri:e});if(0!==e.indexOf("#EXT"))return void this.z$("data",{type:"comment",text:e.slice(1)});if(e=e.replace("\r",""),t=/^#EXTM3U/.exec(e))return void this.z$("data",{type:"tag",Z$:"m3u"});if(t=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(e))return r={type:"tag",Z$:"inf"},t[1]&&(r.duration=parseFloat(t[1])),t[2]&&(r.title=t[2]),void this.z$("data",r);if(t=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(e))return r={type:"tag",Z$:"targetduration"},t[1]&&(r.duration=parseInt(t[1],10)),void this.z$("data",r);if(t=/^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(e))return r={type:"tag",Z$:"totalduration"},t[1]&&(r.duration=parseInt(t[1],10)),void this.z$("data",r);if(t=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(e))return r={type:"tag",Z$:"version"},t[1]&&(r.version=parseInt(t[1],10)),void this.z$("data",r);if(t=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))return r={type:"tag",Z$:"media-sequence"},t[1]&&(r.number=parseInt(t[1],10)),void this.z$("data",r);if(t=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))return r={type:"tag",Z$:"discontinuity-sequence"},t[1]&&(r.number=parseInt(t[1],10)),void this.z$("data",r);if(t=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(e))return r={type:"tag",Z$:"playlist-type"},t[1]&&(r.$$=t[1]),void this.z$("data",r);if(t=/^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(e))return r={type:"tag",Z$:"byterange"},t[1]&&(r.length=parseInt(t[1],10)),t[2]&&(r.offset=parseInt(t[2],10)),void this.z$("data",r);if(t=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(e))return r={type:"tag",Z$:"allow-cache"},t[1]&&(r.tk=!/NO/.test(t[1])),void this.z$("data",r);if(t=/^#EXT-X-STREAM-INF:?(.*)$/.exec(e))return r={type:"tag",Z$:"stream-inf"},t[1]&&(r.attributes=a(t[1]),r.attributes.e0&&function(){var e=r.attributes.e0.split("x"),t={};e[0]&&(t.width=parseInt(e[0],10)),e[1]&&(t.height=parseInt(e[1],10)),r.attributes.e0=t}(),r.attributes.BANDWIDTH&&(r.attributes.BANDWIDTH=parseInt(r.attributes.BANDWIDTH,10)),r.attributes["t0"]&&(r.attributes["t0"]=parseInt(r.attributes["t0"],10))),void this.z$("data",r);if(t=/^#EXT-X-ENDLIST/.exec(e))return void this.z$("data",{type:"tag",Z$:"endlist"});if(t=/^#EXT-X-DISCONTINUITY/.exec(e))return void this.z$("data",{type:"tag",Z$:"discontinuity"});if(t=/^#EXT-X-KEY:?(.*)$/.exec(e))return r={type:"tag",Z$:"key"},t[1]&&(r.attributes=a(t[1]),r.attributes.hX&&("0x"===r.attributes.hX.substring(0,2)&&(r.attributes.hX=r.attributes.hX.substring(2)),r.attributes.hX=r.attributes.hX.match(/.{8}/g),r.attributes.hX[0]=parseInt(r.attributes.hX[0],16),r.attributes.hX[1]=parseInt(r.attributes.hX[1],16),r.attributes.hX[2]=parseInt(r.attributes.hX[2],16),r.attributes.hX[3]=parseInt(r.attributes.hX[3],16),r.attributes.hX=new Uint32Array(r.attributes.hX))),void this.z$("data",r);this.z$("data",{type:"tag",data:e.slice(4,e.length)})}},n=function(){var t,o=this,a=[],h={};n.prototype.init.call(this),this.r0=new r,this.i0=new i,this.r0.W$(this.i0),this.manifest={n0:!0},this.i0.on("data",function(r){({tag:function(){(({s0:function(){this.manifest.n0=r.tk,"allowed"in r||(this.z$("info",{message:"defaulting allowCache to YES"}),this.manifest.n0=!0)},o0:function(){var e={};"length"in r&&(h.o0=e,e.length=r.length,"offset"in r||(this.z$("info",{message:"defaulting offset to zero"}),r.offset=0)),"offset"in r&&(h.o0=e,e.offset=r.offset)},a0:function(){this.manifest.M$=!0},h0:function(){"mediaSequence"in this.manifest||(this.manifest.q$=0,this.z$("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.V$=0,this.z$("info",{message:"defaulting discontinuity sequence to zero"})),r.duration>=0&&(h.duration=r.duration),this.manifest.MU=a},key:function(){return r.attributes?"NONE"===r.attributes.c0?void(t=null):r.attributes.EE?(r.attributes.c0||this.z$("warn",{message:"defaulting key method to AES-128"}),t={method:r.attributes.c0||"AES-128",uri:r.attributes.EE},void(void 0!==r.attributes.hX&&(t.I$=r.attributes.hX))):void this.z$("warn",{message:"ignoring key declaration without URI"}):void this.z$("warn",{message:"ignoring key declaration without attribute list"})},u0:function(){if(!isFinite(r.number))return void this.z$("warn",{message:"ignoring invalid media sequence: "+r.number});this.manifest.q$=r.number},l0:function(){if(!isFinite(r.number))return void this.z$("warn",{message:"ignoring invalid discontinuity sequence: "+r.number});this.manifest.V$=r.number},p0:function(){if(!/VOD|EVENT/.test(r.$$))return void this.z$("warn",{message:"ignoring unknown playlist type: "+r.f0});this.manifest.$$=r.$$},d0:function(){if(this.manifest.playlists=a,!r.attributes)return void this.z$("warn",{message:"ignoring empty stream-inf attributes"});h.attributes||(h.attributes={}),h.attributes=e.Y$(h.attributes,r.attributes)},g0:function(){h.g0=!0},v0:function(){if(!isFinite(r.duration)||r.duration<0)return void this.z$("warn",{message:"ignoring invalid target duration: "+r.duration});this.manifest.j$=r.duration},y0:function(){if(!isFinite(r.duration)||r.duration<0)return void this.z$("warn",{message:"ignoring invalid total duration: "+r.duration});this.manifest.m0=r.duration}})[r.Z$]||s).call(o)},uri:function(){h.uri=r.uri,a.push(h),!this.manifest.j$||"duration"in h||(this.z$("warn",{message:"defaulting segment duration to the target duration"}),h.duration=this.manifest.j$),t&&(h.key=t),h={}},E0:function(){}})[r.type].call(o)})},n.prototype=new t,n.prototype.push=function(e){this.r0.push(e)},n.prototype.end=function(){this.r0.push("\n")},e.T0=r,e.I0=i,e.D$=n,e}();e.t=i},function(e,t,r){"use strict";var i=r(1),n=function(){function e(e,t,r){this.eX=new i,this.bitrate=e,this.uri=t,this.wB=r}return e.prototype.update=function(e,t,r,i,n){this.q$=e,this.V$=t,this.M$=r,this.j$=i,this.MU=n,this.updated=!0},e}();t.H$=n},function(e,t,r){"use strict";var i=this&&this.Ns||function(e,t){function r(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=r(83),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(n.lU);t.AU=s},function(e,t,r){"use strict";var i=r(15),n=r(0),s=r(3),o=r(2),a=r(5),h=a.Rt.Pi,c=function(){function e(){this.te=n.Framework.resolve(n.Framework.q.I).log(),this.w0=n.Framework.resolve(i.Pa.na),h&&s.ni.Sr.Ir&&(this.S0=n.Framework.resolve(i.Pa.sa))}return e.prototype.init=function(e,t){this.w0.init(e,t),h&&s.ni.Sr.Ir&&this.S0.init(e,t)},e.prototype.put=function(e){var t=this,r=o.defer(),i=!1;return!e.Gu.isLive()&&h&&s.ni.Sr.Ir?this.S0.put(e).then(function(e){i=e}).fail(function(e){t.te.error(e)}).finally(function(){r.resolve(i)}):this.w0.put(e).then(function(e){i=e}).fail(function(e){t.te.error(e)}).finally(function(){r.resolve(i)}),r.Te},e.prototype.get=function(e){var t=this,r=o.defer(),i=null;return this.contains(e).then(function(n){n?t.w0.get(e).then(function(r){null==r&&h&&s.ni.Sr.Ir?t.S0.get(e).then(function(e){i=e}):i=r}).fail(function(e){t.te.error(e)}).finally(function(){r.resolve(i)}):r.resolve(i)}).fail(function(e){t.te.error(e)}).finally(function(){r.resolve(i)}),r.Te},e.prototype.contains=function(e){var t=this,r=o.defer(),i=!1;return this.w0.contains(e).then(function(r){!i&&h&&s.ni.Sr.Ir?t.S0.contains(e).then(function(e){i=e}):i=r}).fail(function(e){t.te.error(e)}).finally(function(){r.resolve(i)}),r.Te},e.prototype.hk=function(e){return!e&&h&&s.ni.Sr.Ir?this.S0.hk(e):this.w0.hk(e)},e.prototype.JU=function(e){var t=this,r=o.defer(),i=[];return!e&&h&&s.ni.Sr.Ir?this.S0.JU(e).then(function(e){i=e}).fail(function(e){t.te.error(e)}).finally(function(){r.resolve(i)}):this.w0.JU(e).then(function(e){i=e}).fail(function(e){t.te.error(e)}).finally(function(){r.resolve(i)}),r.Te},e.prototype.XU=function(){this.w0.XU()},e}();t.Sr=c},function(e,t,r){"use strict";var i=r(1),n=r(22),s=r(6),o=r(3),a=r(0),h=r(10),c=function(){function e(){this.R0=new i,this.ji=new s.fn.Zi}return e.prototype.init=function(e){this.te=a.Framework.resolve(a.Framework.q.I).log(e.sessionId),this.b0=e.TC},e.prototype.TI=function(e){var t=this,r=a.Framework.resolve(a.Framework.q.B),i=!1,n=e.Ju(),c=e.Vu,u=e.Wu();e.xhr=r,e.Mu._u=a.Framework.time(),this.te.debug("FRL ISSUE REQ FOR FRAGMENT "+e.Qu.toString()+"-"+e.Mu.Ru+" ["+h.Ws[e.Yu()]+"] TO FALLBACK "),e.Qu.wR()&&(r.responseType="arraybuffer"),this.P0(e.type)&&c.range&&e.Yu()!=h.Ws.zs&&r.setRequestHeader("Range","bytes="+c.range),o.ni.j._r&&this.A0(e.type)&&0!=e.Mu.Ru&&(this.te.info("SET RANGE bytes="+e.Mu.Ru+"-"),r.setRequestHeader("Range","bytes="+e.Mu.Ru+"-")),c.zD.forEach(function(e){"range"!==e.key.toLowerCase()&&r.setRequestHeader(e.key,e.value)}),c.async&&c.timeout>0&&(r.timeout=c.timeout),c.mimeType&&r.overrideMimeType(c.mimeType),c.withCredentials&&(r.withCredentials=c.withCredentials),r.onloadstart=function(e){var t=s.fn.createEvent(Event,"loadstart",e,c);c.dispatchEvent(t)},r.onabort=function(e){if(!i){var t=s.fn.createEvent(Event,"abort",e,c);c.dispatchEvent(t)}},r.ontimeout=function(r){if(!i){t.error(e,n);var o=s.fn.createEvent(ProgressEvent,"timeout",r,c);c.dispatchEvent(o)}},r.onreadystatechange=function(e){if(c&&(r.readyState===XMLHttpRequest.HEADERS_RECEIVED&&(c.xu=r.getAllResponseHeaders()),r.readyState<XMLHttpRequest.DONE||r.readyState===XMLHttpRequest.DONE&&0===r.status)){c.readyState=r.readyState;var t=s.fn.createEvent(Event,"readystatechange",e,c);c.dispatchEvent(t)}},r.onprogress=function(i){if(!t.A0(e.type)){var n=s.fn.createEvent(ProgressEvent,"progress",i,c);c.dispatchEvent(n),r.total=i.total}e.Mu.Au=i.total},r.onload=function(h){if(i=!0,c.status=r.status,h&&0!=h.total&&(e.Mu.Au=h.total),e.xu=r.getAllResponseHeaders(),r.status<200||r.status>299)return t.te.debug("FRL SERVER RETURNED ERROR CODE "+r.status),void t.error(e,n);e.Qu.wR()?t.P0(e.type)?e.Hu=r.response:t.A0(e.type)&&(o.ni.j._r?e.Hu=a.Framework.S()?null:s.fn.appendBuffer(e.Hu,r.response):e.Hu=r.response):e.RB=r.responseText,e.loaded(),t.R0.delete(n),e.Mu.Nu=a.Framework.time(),t.C0(e),t.k0(e),t.b0.cW(e),r=null},r.onerror=function(){i||t.error(e,n)},this.R0.set(n,e),r.open("GET",u,c.async,c.username,c.password),r.send()},e.prototype.error=function(e,t){var r="COULD NOT DOWNLOAD "+e.Wu()+" status: "+e.xhr.status;e.type==n.Tu.vu?this.te.debug(r):this.te.warn(r),this.O0(e),this.R0.delete(t),this.b0.oW(e)},e.prototype.Qe=function(e){return this.R0.has(e)},e.prototype.P0=function(e){return e==n.Tu.vu||e==n.Tu.gu||e==n.Tu.du},e.prototype.A0=function(e){return e==n.Tu.yu},e.prototype.YJ=function(e){var t=this.R0.get(e);this.R0.delete(e),t&&t.xhr&&t.xhr.abort()},e.prototype.k0=function(e){this.te.info("SUCCESS FROM FALLBACK FOR "+e.Wu()+" ["+n.Tu[e.type]+"]["+e.Mu.Au+"] AFTER "+e.tl()+" [curr:"+e.il().Xi()+" avg:"+this.ji.Xi()+"]")},e.prototype.O0=function(e){},e.prototype.eW=function(){return this.ji},e.prototype.C0=function(e){e.Yu()===h.Ws.Ys&&this.ji.Ki(e.il())},e}();t.Oz=c},function(e,t,r){"use strict";var i=r(2);r(56);var n=r(0),s=r(3),o=r(15),a=r(45),h=r(54),c=r(11),u=r(88),l=hive.DN.protocol.FN.VN,p=r(9),f=r(8),d=r(5),g=r(4),v=d.Rt.Ci,y=function(){function e(){this._0=isNaN(f.HiveConfig.DebugLogs.TrackerLogs)?0:f.HiveConfig.DebugLogs.TrackerLogs,this.mn="[TRACKER] ",this.qF=0,this.N0=0,this.D0=/([0-9]{1,3}(\.[0-9]{1,3}){3}|[a-f0-9]{1,4}(:[a-f0-9]{0,4}){5})/,this.F0=!0,this.Hl=n.Framework.resolve(n.Framework.q.F),this.dh=n.Framework.resolve(p.Qs.Us),this.bJ=n.Framework.resolve(o.Pa.Ta)}return e.prototype.init=function(e){this.te=n.Framework.resolve(n.Framework.q.I).log(e.sessionId),this.sessionId=e.sessionId,this.Yz=e.Yz,this.wC=e.wC,this.V_=e.V_,this.L0=e.RC,this.bJ.M0(e.sessionId,this),this.B0=u.sx.nx},e.prototype.start=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.context=e,this.Nx=e.Ez.K_(),this.ticket=e.Ez.Ak(),this.ss=t},e.prototype.U0=function(e){this.x0=e},e.prototype.yJ=function(){var e=this;this.lJ(),this.H0=n.Framework.setInterval(function(){e.q0()},s.ni.zt.Kt),this.q0()},e.prototype.lJ=function(){this.H0&&n.Framework.clearInterval(this.H0)},e.prototype.V0=function(){var e=this,t=i.defer(),r=new hive.DN.protocol.FN.hD,n=this.context.Ez,s=n.isLive()?StreamType.LIVE:StreamType.xG;r.sessionId=this.sessionId;var o=new l;return this.x0?(o.partnerId=this.x0.partnerId,o.customerId=this.x0.customerId):f.HiveConfig.ClientInfo.Fs&&f.HiveConfig.ClientInfo.Ls?(o.partnerId=f.HiveConfig.ClientInfo.Fs,o.customerId=f.HiveConfig.ClientInfo.Ls):(o.partnerId=this.ticket.Lh(),o.customerId=this.ticket.Mh()),r.cD=o,r.streamType=s,r.contentId=this.wC.K_(),this.dh.Vh().then(function(t){e.j0=t.Qh().Cs(),e.wC.wM(e.j0)}).fail(function(t){e.te.warn(e.mn+"Get connectivity info failed with error ",t)}).finally(function(){try{var i=new hive.snapshots.ConnectivityInfo;i.publicIp=e.cL,i.privateIp=e.j0,r.info=e.G0(i,n),r.dn=e.Q0(n,r.info),t.resolve(r)}catch(r){g.ErrorMonitor.gi().di("Prepare tracker info and query failed",e.mn,r),t.reject("ERROR")}}).done(),t.Te},e.prototype.K0=function(){var e=new Array;return this.B0==u.sx.nx?e.push(hive.DN.protocol.FN.LN.MN):this.B0==u.sx.AS?e.push(hive.DN.protocol.FN.LN.UN):this.B0==u.sx.hC?e.push(hive.DN.protocol.FN.LN.BN):this.te.warn("Wrong locality mode"),e},e.prototype.Q0=function(e,t){var r=this,i=new hive.DN.protocol.FN.XN;return i.random=s.ni.Wr.Kr,t.externalAs&&!this.qF&&(this.qF=t.externalAs),t.internalAs&&!this.N0&&(this.N0=t.internalAs),i.tD=this.K0(),i.ZN=[],this.qF>0&&this.Y0(i.ZN,hive.DN.protocol.FN.xN.External,this.qF,s.ni.Wr.Yr),this.N0>0&&(this.Y0(i.ZN,hive.DN.protocol.FN.xN.HN,this.N0,s.ni.Wr.zr),i.$N=[],e.wN().forEach(function(e){var t=r.z0(hive.DN.protocol.FN.xN.HN,r.N0,e,-1);i.$N.push({key:t,value:1})}),i.eD=[],this.wC.sV().forEach(function(e,t){var n=r.z0(hive.DN.protocol.FN.xN.HN,r.N0,t,e.type==a.cC.hC?hive.DN.protocol.FN.io.to:-1);i.eD.push({key:n,value:s.ni.Wr.Jr})})),i},e.prototype.z0=function(e,t,r,i){var n=new hive.DN.protocol.FN.jN;n.GN=e,n.QN=t;var s=new hive.DN.protocol.FN.KN;return s.bitrate=r,s.QN=n,-1!=i&&s.YN,s},e.prototype.Y0=function(e,t,r,i){var n=new hive.DN.protocol.FN.jN;n.GN=t,n.QN=r,e.push({key:n,value:i})},e.prototype.G0=function(e,t){var r=new hive.DN.protocol.FN.qN;if(n.Framework.S()?r.guid=this.Eh:r.guid=btoa(this.Eh),r.timestamp=n.Framework.time(),r.oo=void 0,this.wC.iV()&&(r.externalAs=this.wC.iV()),this.wC.Ek()&&(r.internalAs=this.wC.Ek()),null!=e){r.lo=e.publicIp;var i=new InetAddress;i.address=e.publicIp,r.publicIp=i,r.uo=e.privateIp;var s=new InetAddress;s.address=e.privateIp,r.privateIp=s}if(!this.wC.fk()&&this.wC.Sk()&&v?r.co=1:r.co=this.wC.J0(),this.context.Ez instanceof h.ON){r.ho=new Array;var o=t._C();null!=o&&(r.ao=o.bitrate);var c=t.j_();this.wC.sV().forEach(function(e,t){if(e.gR){var i=new hive.DN.protocol.FN.no;switch(i.bitrate=t,e.type){case a.cC.$s:i.state=hive.DN.protocol.FN.io.eo;break;case a.cC.aC:i.state=hive.DN.protocol.FN.io.ro;break;case a.cC.hC:i.state=hive.DN.protocol.FN.io.to}i.delta=c.JC(e.gR.ER(),t),r.ho.push(i)}})}return r},e.prototype.q0=function(){var e=this;this.te.debug(this.mn+" PREPARE REQUEST"),this.V0().then(function(t){var r=e.mn+"SENDING TRACKER REQUEST [ privateIp:"+t.info.uo+" rank:"+t.info.co+"]";switch(e._0){case 0:default:e.te.debug(r);break;case 1:e.te.debug(r+" "+JSON.stringify(t));break;case 2:e.te.debug(r,t);break;case 3:e.te.debug(r+" "+JSON.stringify(t),t)}e.bJ.W0(t)},function(t){g.ErrorMonitor.gi().di("tracker error1",e.mn,t)}).catch(function(t){g.ErrorMonitor.gi().di("tracker error2",e.mn,t)})},e.prototype.X0=function(e){this.B0=e},e.prototype.ZJ=function(e){var t=this;switch(this._0){case 1:this.te.debug(this.mn+this.context.Ez.Ak()+" Tracker Response: "+JSON.stringify(e));break;case 2:this.te.debug(this.mn+this.context.Ez.Ak()+" Tracker Response: ",e);break;case 3:this.te.debug(this.mn+this.context.Ez.Ak()+" Tracker Response: "+JSON.stringify(e),e)}this.qF=e.Tk.externalAs,this.N0=e.Tk.internalAs,this.cL=e.Tk.lo,this.j0=e.Tk.uo,this.wC.yM(this.cL),this.wC.Z0(this.N0),this.wC.$0(this.qF),this.dh.gM(this.cL,this.j0,this.N0),this.te.debug(this.mn+"Reporting from tracker public IP:"+this.cL+" private IP: "+this.j0+" ExtAs:"+this.qF+" inAs:"+this.N0),!this.wC.fk()&&this.wC.Sk()&&v?this.L0.Jx(!1):this.L0.e1(e.tD,e.lD);var r=this.t1(e);this.ss.forEach(function(e){return e.Ax(r,t.F0)}),this.F0=!1},e.prototype.t1=function(e){for(var t=[],r=0,i=e.lD;r<i.length;r++){var n=i[r],s=new c.po(c.Zs.Xs,n);t.push(s)}return t},e.prototype.aH=function(e){},e.prototype.Zh=function(e){this.Eh=e,this.te.info(this.mn+"CONNECTED "+this.Eh),this.L0.i1(),this.yJ()},e.prototype.yq=function(){},e}();t.Nz=y},function(e,t,r){"use strict";var i=r(1),n=r(0),s=r(6),o=function(){function e(e,t){this.id=e,this.size=t}return e}(),a=function(){function e(){this.n1=new i,this.s1=new i,this.te=n.Framework.resolve(n.Framework.q.I).log()}return e.prototype.put=function(e,t){var r=e.mN,i=e.size;e.bitrate;this.n1.has(r)||(this.n1.set(r,new o(r,i)),this.s1.set(r,new Array)),this.s1.get(r).push(t)},e.prototype.contains=function(e){return this.s1.has(e)},e.prototype.mk=function(e){return this.s1.get(e)},e.prototype.o1=function(e){return this.n1.get(e)},e.prototype.dV=function(e){var t=this;this.s1.forEach(function(r,i){s.fn.tn(r,e,!1),0===r.length&&(t.s1.delete(i),t.n1.delete(i))})},e.prototype.ZU=function(){var e=this;this.s1.forEach(function(t,r){e.te.debug("OBJIDX FR "+r+" PS "+t.map(function(e){return e.qq.Pl._l}).reduce(function(e,t){return e+","+t}))})},e}();t.Mz=a},function(e,t,r){"use strict";var i=r(1),n=r(3),s=r(0),o=r(6),a=r(11),h=r(157),c=r(43),u=r(89),l=r(5),p=r(4),f=l.Rt.Ci,d=function(){function e(){this.Eh=null,this.a1=new i,this.Zq=new i}return e.prototype.init=function(e){this.te=s.Framework.resolve(s.Framework.q.I).log(e.sessionId),this.mn="S["+e.sessionId+"]",this.SC=e.SC,this.wC=e.wC,this.h1=e.x_,(f||s.Framework.S()&&c.iC.tC)&&(this.$z=e.$z),this.start()},e.prototype.start=function(){this.c1=!0},e.prototype.stop=function(){this.c1=!1},e.prototype.Ax=function(e,t){var r=this;try{if(this.c1){var i=[];e.forEach(function(e){var t=null;r.u1(),e.guid!=r.Eh&&(e.type==a.Zs.Xs?t=r.l1(e):f||s.Framework.S()&&c.iC.tC?(t=r.f1(e),r.$z.mx(e).then(function(){r.SC.mq(r.Zq.get(e.guid))}).fail(function(t){t&&t!=u.lH.Cx&&(r.Zq.delete(e.guid),p.ErrorMonitor.gi().di("LEADER ELECTION FAILED WITH ERROR",r.mn,t))})):t=r.f1(e)),t&&i.push(t.Tk.guid)}),this.g_(),t&&this.SC.bq(t),i.length>0&&this.te.debug("DISCOVERED NEW "+i.length+"/"+e.length+": ["+i.join(", ")+"]")}}catch(e){p.ErrorMonitor.gi().di("DISCOVERED PEERS FAILED",this.mn,e)}},e.prototype.g_=function(){var e=this.a1.length+this.Zq.length;this.h1.d1(e)},e.prototype.u1=function(){this.a1.length>=n.ni.Qr.jr&&this.g1(this.a1),this.Zq.length>=n.ni.Qr.Gr&&this.g1(this.Zq)},e.prototype.g1=function(e){var t=e.keys()[s.Framework.random()*this.a1.length];e.delete(t)},e.prototype.f1=function(e){var t=null;return this.a1.has(e.guid)?(t=this.a1.get(e.guid),this.a1.delete(e.guid),this.Zq.set(e.guid,t)):this.Zq.has(e.guid)&&(t=this.Zq.get(e.guid)),t?(t.U0(e),null):(t=new h.v1(e),this.Zq.set(e.guid,t),t)},e.prototype.l1=function(e){var t=null;if(this.Zq.has(e.guid))this.f1(e);else{if(!this.a1.has(e.guid))return t=new h.v1(e),this.a1.set(e.guid,t),t;t=this.a1.get(e.guid),t.U0(e)}return null},e.prototype.Pq=function(e,t){var r=[];return this.c1&&(f||s.Framework.S()&&c.iC.tC?r=o.fn.nn(this.a1.values()):(r=this.a1.values(),this.Zq.forEach(function(e,t){r.push(e)}),r=o.fn.nn(r))),e?r:t?r.slice(0,t):r.slice(0,2*n.ni.Ot.Pt)},e.prototype.zq=function(e){return this.a1.has(e)?this.a1.get(e):this.Zq.has(e)?this.Zq.get(e):null},e.prototype.Zh=function(e){this.te.info("MEMBERSHIP SERVER CONNECTED"),this.Eh=e,this.wC.vq(this.Eh)},e.prototype.yq=function(){},e.prototype.aH=function(e){this.te.debug("Peer "+e+" disconnected"),this.a1.delete(e),this.Zq.delete(e),this.g_()},e}();t.Qr=d},function(e,t,r){"use strict";var i=r(11),n=function(){function e(e){this.Tk=e}return e.prototype.Uq=function(){return this.Tk.type===i.Zs.K},e.prototype.U0=function(e){this.Tk.type==i.Zs.Xs&&e.type==i.Zs.K?this.Tk.type=i.Zs.K:this.Tk.type==i.Zs.Xs&&e.type==i.Zs.Xs||this.Tk.type==i.Zs.K&&e.type==i.Zs.K?this.m1(this.Tk,e):this.Tk.type==i.Zs.K&&e.type==i.Zs.Xs&&(this.m1(this.Tk,e),this.Tk.type=i.Zs.K)},e.prototype.SV=function(e){this.Tk.ao=e},e.prototype.m1=function(e,t){e.internalAs=this.E1(e.internalAs,t.internalAs),e.externalAs=this.E1(e.externalAs,t.externalAs),e.oo=this.E1(e.oo,t.oo),e.bandwidth=this.E1(e.bandwidth,t.bandwidth),e.ao=this.E1(e.ao,t.ao),e.uo=this.E1(e.uo,t.uo),e.lo=this.E1(e.lo,t.lo),e.co=this.E1(e.co,t.co),e.timestamp=this.E1(e.timestamp,t.timestamp),t.so&&(e.so=this.E1(e.so,t.so)),t.ho&&(e.ho=t.ho)},e.prototype.E1=function(e,t){return e?t&&e!=t&&(e=t):t&&(e=t),e},e}();t.v1=n},function(e,t,r){(function(e){var i,n,s;/**
 * @license ProtoBuf.js (c) 2013 Daniel Wirtz <dcode@dcode.io>
 * Released under the Apache License, Version 2.0
 * see: https://github.com/dcodeIO/ProtoBuf.js for details
 */
!function(o){"use strict";function a(e){var t={};return t.T1=e,t.DR=e.DR||null,t.VERSION="4.0.0-b3",t.I1={},t.I1.w1=0,t.I1.S1=1,t.I1.R1=2,t.I1.b1=3,t.I1.P1=4,t.I1.A1=5,t.C1=[t.I1.w1,t.I1.S1,t.I1.A1],t.O1={_1:{name:"int32",N1:t.I1.w1,defaultValue:0},D1:{name:"uint32",N1:t.I1.w1,defaultValue:0},F1:{name:"sint32",N1:t.I1.w1,defaultValue:0},L1:{name:"int64",N1:t.I1.w1,defaultValue:t.DR?t.DR.ZERO:void 0},M1:{name:"uint64",N1:t.I1.w1,defaultValue:t.DR?t.DR.vH:void 0},B1:{name:"sint64",N1:t.I1.w1,defaultValue:t.DR?t.DR.ZERO:void 0},U1:{name:"bool",N1:t.I1.w1,defaultValue:!1},H1:{name:"double",N1:t.I1.S1,defaultValue:0},qb:{name:"string",N1:t.I1.R1,defaultValue:""},Hn:{name:"bytes",N1:t.I1.R1,defaultValue:null},q1:{name:"fixed32",N1:t.I1.A1,defaultValue:0},V1:{name:"sfixed32",N1:t.I1.A1,defaultValue:0},j1:{name:"fixed64",N1:t.I1.S1,defaultValue:t.DR?t.DR.vH:void 0},G1:{name:"sfixed64",N1:t.I1.S1,defaultValue:t.DR?t.DR.ZERO:void 0},float:{name:"float",N1:t.I1.A1,defaultValue:0},Q1:{name:"enum",N1:t.I1.w1,defaultValue:0},message:{name:"message",N1:t.I1.R1,defaultValue:null},group:{name:"group",N1:t.I1.b1,defaultValue:null}},t.K1=[t.O1._1,t.O1.F1,t.O1.V1,t.O1.D1,t.O1.q1,t.O1.L1,t.O1.B1,t.O1.G1,t.O1.M1,t.O1.j1,t.O1.U1,t.O1.qb,t.O1.Hn],t.Y1=1,t.z1=536870911,t.J1=!1,t.W1=!0,t.X1=!0,t.hf=function(){Object.create||(Object.create=function(e){function t(){}if(arguments.length>1)throw Error("Object.create polyfill only accepts the first parameter.");return t.prototype=e,new t});var e={};e.Z1=!1;try{e.Z1="function"==typeof r(16).e2&&"function"==typeof r(59).resolve}catch(e){}return e.t2=function(){for(var e=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],t=null,r=0;r<e.length;r++){try{t=e[r]()}catch(e){continue}break}if(!t)throw Error("XMLHttpRequest is not supported");return t},e.fetch=function(t,i){if(i&&"function"!=typeof i&&(i=null),e.Z1)if(i)r(16).i2(t,function(e,t){i(e?null:""+t)});else try{return r(16).e2(t)}catch(e){return null}else{var n=e.t2();if(n.open("GET",t,!!i),n.setRequestHeader("Accept","text/plain"),"function"==typeof n.overrideMimeType&&n.overrideMimeType("text/plain"),!i)return n.send(null),200==n.status||0==n.status&&"string"==typeof n.responseText?n.responseText:null;if(n.onreadystatechange=function(){4==n.readyState&&i(200==n.status||0==n.status&&"string"==typeof n.responseText?n.responseText:null)},4==n.readyState)return;n.send(null)}},e.isArray=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},e}(),t.Lang={OPEN:"{",n2:"}",s2:"[",o2:"]",a2:",",EQUAL:"=",h2:";",c2:",",u2:'"',l2:'"',f2:"'",d2:"'",g2:"(",v2:")",m2:"<",E2:">",T2:/[\s\{\}=;\[\],'"\(\)<>]/g,I2:/^(?:required|optional|repeated|map)$/,jO:/^(?:double|float|int32|uint32|sint32|int64|uint64|sint64|fixed32|sfixed32|fixed64|sfixed64|bool|string|bytes)$/,BO:/^[a-zA-Z_][a-zA-Z_0-9]*$/,w2:/^[a-zA-Z][a-zA-Z_0-9]*$/,S2:/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)+$/,R2:/^(?:\.[a-zA-Z][a-zA-Z_0-9]*)+$/,b2:/^-?(?:[1-9][0-9]*|0|0[xX][0-9a-fA-F]+|0[0-7]+|([0-9]*(\.[0-9]*)?([Ee][+-]?[0-9]+)?)|inf|nan)$/,P2:/^(?:[1-9][0-9]*|0)$/,A2:/^0[xX][0-9a-fA-F]+$/,C2:/^0[0-7]+$/,O2:/^([0-9]*(\.[0-9]*)?([Ee][+-]?[0-9]+)?|inf|nan)$/,_2:/^(?:[1-9][0-9]*|0|0[xX][0-9a-fA-F]+|0[0-7]+)$/,N2:/^\-?(?:[1-9][0-9]*|0|0[xX][0-9a-fA-F]+|0[0-7]+)$/,D2:/\s/,FI:/(?:"([^"\\]*(?:\\.[^"\\]*)*)")|(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,BOOL:/^(?:true|false)$/i},t.F2=function(e,t){var r={},i=function(e){this.source=""+e,this.index=0,this.line=1,this.stack=[],this.L2=!1,this.M2=t.l2},n=i.prototype;n.YX=function(){t.FI.lastIndex=this.index-1;var e;if(null!==(e=t.FI.exec(this.source))){var r=void 0!==e[1]?e[1]:e[2];return this.index=t.FI.lastIndex,this.stack.push(this.M2),r}throw Error("Unterminated string at line "+this.line+", index "+this.index)},n.next=function(){if(this.stack.length>0)return this.stack.shift();if(this.index>=this.source.length)return null;if(this.L2)return this.L2=!1,this.YX();var e,r;do{for(e=!1;t.D2.test(r=this.source.charAt(this.index));)if(this.index++,"\n"===r&&this.line++,this.index===this.source.length)return null;if("/"===this.source.charAt(this.index))if("/"===this.source.charAt(++this.index)){for(;"\n"!==this.source.charAt(this.index);)if(++this.index==this.source.length)return null;this.index++,this.line++,e=!0}else{if("*"!==this.source.charAt(this.index))throw Error("Unterminated comment at line "+this.line+": /"+this.source.charAt(this.index));for(r="";r+(r=this.source.charAt(this.index))!=="*/";)if(this.index++,"\n"===r&&this.line++,this.index===this.source.length)return null;this.index++,e=!0}}while(e);if(this.index===this.source.length)return null;var i=this.index;if(t.T2.lastIndex=0,t.T2.test(this.source.charAt(i)))++i;else for(++i;i<this.source.length&&!t.T2.test(this.source.charAt(i));)i++;var n=this.source.substring(this.index,this.index=i);return n===t.u2?(this.L2=!0,this.M2=t.l2):n===t.f2&&(this.L2=!0,this.M2=t.d2),n},n.Qk=function(){if(0===this.stack.length){var e=this.next();if(null===e)return null;this.stack.push(e)}return this.stack[0]},n.toString=function(){return"Tokenizer("+this.index+"/"+this.source.length+" at line "+this.line+")"},r.B2=i;var s=function(e){this.U2=new i(e)},o=s.prototype;return o.parse=function(){for(var e,t={name:"[ROOT]",H2:null,q2:[],V2:[],imports:[],options:{},DN:[]},r=!0;e=this.U2.next();)switch(e){case"package":if(!r||null!==t.H2)throw Error("Unexpected package at line "+this.U2.line);t.H2=this.j2(e);break;case"import":if(!r)throw Error("Unexpected import at line "+this.U2.line);t.imports.push(this.G2(e));break;case"message":this.Q2(t,null,e),r=!1;break;case"enum":this.K2(t,e),r=!1;break;case"option":this.Y2(t,e);break;case"service":this.z2(t,e);break;case"extend":this.J2(t,e);break;case"syntax":t.W2=this.X2(t);break;default:throw Error("Unexpected token at line "+this.U2.line+": "+e)}return delete t.name,t},o.Z2=function(e){var r=1;if("-"==e.charAt(0)&&(r=-1,e=e.substring(1)),t.P2.test(e))return r*parseInt(e,10);if(t.A2.test(e))return r*parseInt(e.substring(2),16);if(t.C2.test(e))return r*parseInt(e.substring(1),8);if(t.O2.test(e))return"inf"===e?r*(1/0):"nan"===e?NaN:r*parseFloat(e);throw Error("Illegal number at line "+this.U2.line+": "+(r<0?"-":"")+e)},o.e3=function(){var e,r,i="";do{if(r=this.U2.next(),i+=this.U2.next(),(e=this.U2.next())!==r)throw Error("Illegal end of string at line "+this.U2.line+": "+e);e=this.U2.Qk()}while(e===t.u2||e===t.f2);return i},o.t3=function(e,r){var i=-1,n=1;if("-"==e.charAt(0)&&(n=-1,e=e.substring(1)),t.P2.test(e))i=parseInt(e);else if(t.A2.test(e))i=parseInt(e.substring(2),16);else{if(!t.C2.test(e))throw Error("Illegal id at line "+this.U2.line+": "+(n<0?"-":"")+e);i=parseInt(e.substring(1),8)}if(i=n*i|0,!r&&i<0)throw Error("Illegal id at line "+this.U2.line+": "+(n<0?"-":"")+e);return i},o.j2=function(e){if(e=this.U2.next(),!t.S2.test(e))throw Error("Illegal package name at line "+this.U2.line+": "+e);var r=e;if((e=this.U2.next())!=t.h2)throw Error("Illegal end of package at line "+this.U2.line+": "+e);return r},o.G2=function(e){if(e=this.U2.Qk(),"public"===e&&(this.U2.next(),e=this.U2.Qk()),e!==t.u2&&e!==t.f2)throw Error("Illegal start of import at line "+this.U2.line+": "+e);var r=this.e3();if((e=this.U2.next())!==t.h2)throw Error("Illegal end of import at line "+this.U2.line+": "+e);return r},o.Y2=function(e,r){r=this.U2.next();var i=!1;if(r==t.g2&&(i=!0,r=this.U2.next()),!t.S2.test(r)&&!/google\.protobuf\./.test(r))throw Error("Illegal option name in message "+e.name+" at line "+this.U2.line+": "+r);var n=r;if(r=this.U2.next(),i){if(r!==t.v2)throw Error("Illegal end in message "+e.name+", option "+n+" at line "+this.U2.line+": "+r);n="("+n+")",r=this.U2.next(),t.R2.test(r)&&(n+=r,r=this.U2.next())}if(r!==t.EQUAL)throw Error("Illegal operator in message "+e.name+", option "+n+" at line "+this.U2.line+": "+r);var s;if((r=this.U2.Qk())===t.u2||r===t.f2)s=this.e3();else if(this.U2.next(),t.b2.test(r))s=this.Z2(r,!0);else if(t.BOOL.test(r))s="true"===r;else{if(!t.S2.test(r))throw Error("Illegal option value in message "+e.name+", option "+n+" at line "+this.U2.line+": "+r);s=r}if((r=this.U2.next())!==t.h2)throw Error("Illegal end of option in message "+e.name+", option "+n+" at line "+this.U2.line+": "+r);e.options[n]=s},o.r3=function(e,r){for(var i;;){if(null===(i=this.U2.next()))throw Error("Unexpected EOF in "+e.name+", "+r+" at line "+this.U2.line);if(i===t.h2)break}},o.z2=function(e,r){if(r=this.U2.next(),!t.BO.test(r))throw Error("Illegal service name at line "+this.U2.line+": "+r);var i=r,n={name:i,i3:{},options:{}};if((r=this.U2.next())!==t.OPEN)throw Error("Illegal start of service "+i+" at line "+this.U2.line+": "+r);do{if("option"===(r=this.U2.next()))this.Y2(n,r);else if("rpc"===r)this.n3(n,r);else if(r!==t.n2)throw Error("Illegal type of service "+i+" at line "+this.U2.line+": "+r)}while(r!==t.n2);e.DN.push(n)},o.n3=function(e,r){var i=r;if(r=this.U2.next(),!t.BO.test(r))throw Error("Illegal method name in service "+e.name+" at line "+this.U2.line+": "+r);var n=r,s={TI:null,response:null,s3:!1,o3:!1,options:{}};if((r=this.U2.next())!==t.g2)throw Error("Illegal start of request type in service "+e.name+"#"+n+" at line "+this.U2.line+": "+r);if(r=this.U2.next(),"stream"===r.toLowerCase()&&(s.s3=!0,r=this.U2.next()),!t.S2.test(r))throw Error("Illegal request type in service "+e.name+"#"+n+" at line "+this.U2.line+": "+r);if(s.TI=r,(r=this.U2.next())!=t.v2)throw Error("Illegal end of request type in service "+e.name+"#"+n+" at line "+this.U2.line+": "+r);if(r=this.U2.next(),"returns"!==r.toLowerCase())throw Error("Illegal delimiter in service "+e.name+"#"+n+" at line "+this.U2.line+": "+r);if((r=this.U2.next())!=t.g2)throw Error("Illegal start of response type in service "+e.name+"#"+n+" at line "+this.U2.line+": "+r);if(r=this.U2.next(),"stream"===r.toLowerCase()&&(s.o3=!0,r=this.U2.next()),s.response=r,(r=this.U2.next())!==t.v2)throw Error("Illegal end of response type in service "+e.name+"#"+n+" at line "+this.U2.line+": "+r);if((r=this.U2.next())===t.OPEN){do{if("option"===(r=this.U2.next()))this.Y2(s,r);else if(r!==t.n2)throw Error("Illegal start of option inservice "+e.name+"#"+n+" at line "+this.U2.line+": "+r)}while(r!==t.n2);this.U2.Qk()===t.h2&&this.U2.next()}else if(r!==t.h2)throw Error("Illegal delimiter in service "+e.name+"#"+n+" at line "+this.U2.line+": "+r);void 0===e[i]&&(e[i]={}),e[i][n]=s},o.Q2=function(e,r,i){var n={},s="group"===i;if(i=this.U2.next(),!t.BO.test(i))throw Error("Illegal "+(s?"group":"message")+" name"+(e?" in message "+e.name:"")+" at line "+this.U2.line+": "+i);if(n.name=i,s){if((i=this.U2.next())!==t.EQUAL)throw Error("Illegal id assignment after group "+n.name+" at line "+this.U2.line+": "+i);i=this.U2.next();try{r.id=this.t3(i)}catch(e){throw Error("Illegal field id value for group "+n.name+"#"+r.name+" at line "+this.U2.line+": "+i)}n.a3=!0}if(n.h3=[],n.V2=[],n.q2=[],n.options={},n.c3={},i=this.U2.next(),i===t.s2&&r&&(this.u3(n,r,i),i=this.U2.next()),i!==t.OPEN)throw Error("Illegal start of "+(s?"group":"message")+" "+n.name+" at line "+this.U2.line+": "+i);for(;;){if((i=this.U2.next())===t.n2){i=this.U2.Qk(),i===t.h2&&this.U2.next();break}if(t.I2.test(i))this.l3(n,i);else if("oneof"===i)this.f3(n,i);else if("enum"===i)this.K2(n,i);else if("message"===i)this.Q2(n,null,i);else if("option"===i)this.Y2(n,i);else if("extensions"===i)n.extensions=this.d3(n,i);else if("extend"===i)this.J2(n,i);else{if(!t.S2.test(i))throw Error("Illegal token in message "+n.name+" at line "+this.U2.line+": "+i);this.l3(n,"optional",i)}}return e.q2.push(n),n},o.l3=function(e,r,i){var n={},s=null;if(n.g3=r,n.options={},r=void 0!==i?i:this.U2.next(),"map"===n.g3){if(r!==t.m2)throw Error("Illegal token in message "+e.name+" at line "+this.U2.line+": "+r);if(r=this.U2.next(),!t.jO.test(r)&&!t.S2.test(r))throw Error("Illegal token in message "+e.name+" at line "+this.U2.line+": "+r);if(n.keytype=r,(r=this.U2.next())!==t.c2)throw Error("Illegal token in message "+e.name+" at line "+this.U2.line+": "+r);if(r=this.U2.next(),!t.jO.test(r)&&!t.S2.test(r))throw Error("Illegal token in message "+e.name+" at line "+this.U2.line+": "+r);if(n.type=r,(r=this.U2.next())!==t.E2)throw Error("Illegal token in message "+e.name+" at line "+this.U2.line+": "+r);if(r=this.U2.next(),!t.BO.test(r))throw Error("Illegal token in message "+e.name+" at line "+this.U2.line+": "+r);if(n.name=r,(r=this.U2.next())!==t.EQUAL)throw Error("Illegal token in field "+e.name+"#"+n.name+" at line "+this.line+": "+r);r=this.U2.next();try{n.id=this.t3(r)}catch(t){throw Error("Illegal field id in message "+e.name+"#"+n.name+" at line "+this.U2.line+": "+r)}if(r=this.U2.next(),r===t.s2&&(this.u3(e,n,r),r=this.U2.next()),r!==t.h2)throw Error("Illegal delimiter in message "+e.name+"#"+n.name+" at line "+this.U2.line+": "+r)}else if("group"===r){if(s=this.Q2(e,n,r),!/^[A-Z]/.test(s.name))throw Error("Group names must start with a capital letter");n.type=s.name,n.name=s.name.toLowerCase(),r=this.U2.Qk(),r===t.h2&&this.U2.next()}else{if(!t.jO.test(r)&&!t.S2.test(r))throw Error("Illegal field type in message "+e.name+" at line "+this.U2.line+": "+r);if(n.type=r,r=this.U2.next(),!t.BO.test(r))throw Error("Illegal field name in message "+e.name+" at line "+this.U2.line+": "+r);if(n.name=r,(r=this.U2.next())!==t.EQUAL)throw Error("Illegal token in field "+e.name+"#"+n.name+" at line "+this.U2.line+": "+r);r=this.U2.next();try{n.id=this.t3(r)}catch(t){throw Error("Illegal field id in message "+e.name+"#"+n.name+" at line "+this.U2.line+": "+r)}if(r=this.U2.next(),r===t.s2&&(this.u3(e,n,r),r=this.U2.next()),r!==t.h2)throw Error("Illegal delimiter in message "+e.name+"#"+n.name+" at line "+this.U2.line+": "+r)}return e.h3.push(n),n},o.f3=function(e,r){if(r=this.U2.next(),!t.BO.test(r))throw Error("Illegal oneof name in message "+e.name+" at line "+this.U2.line+": "+r);var i,n=r,s=[];if((r=this.U2.next())!==t.OPEN)throw Error("Illegal start of oneof "+n+" at line "+this.U2.line+": "+r);for(;this.U2.Qk()!==t.n2;)i=this.l3(e,"optional"),i.v3=n,s.push(i.id);this.U2.next(),e.c3[n]=s},o.u3=function(e,r,i){for(var n=!0;;){if((i=this.U2.next())===t.o2)break;if(i===t.a2){if(n)throw Error("Illegal start of options in message "+e.name+"#"+r.name+" at line "+this.U2.line+": "+i);i=this.U2.next()}this.y3(e,r,i),n=!1}},o.y3=function(e,r,i){var n=!1;if(i===t.g2&&(i=this.U2.next(),n=!0),!t.S2.test(i))throw Error("Illegal field option in "+e.name+"#"+r.name+" at line "+this.U2.line+": "+i);var s=i;if(i=this.U2.next(),n){if(i!==t.v2)throw Error("Illegal delimiter in "+e.name+"#"+r.name+" at line "+this.U2.line+": "+i);s="("+s+")",i=this.U2.next(),t.R2.test(i)&&(s+=i,i=this.U2.next())}if(i!==t.EQUAL)throw Error("Illegal token in "+e.name+"#"+r.name+" at line "+this.U2.line+": "+i);var o;if((i=this.U2.Qk())===t.u2||i===t.f2)o=this.e3();else if(t.b2.test(i,!0))o=this.Z2(this.U2.next(),!0);else if(t.BOOL.test(i))o="true"===this.U2.next().toLowerCase();else{if(!t.S2.test(i))throw Error("Illegal value in message "+e.name+"#"+r.name+", option "+s+" at line "+this.U2.line+": "+i);o=this.U2.next()}r.options[s]=o},o.K2=function(e,r){var i={};if(r=this.U2.next(),!t.BO.test(r))throw Error("Illegal enum name in message "+e.name+" at line "+this.U2.line+": "+r);if(i.name=r,(r=this.U2.next())!==t.OPEN)throw Error("Illegal start of enum "+i.name+" at line "+this.U2.line+": "+r);for(i.values=[],i.options={};;){if((r=this.U2.next())===t.n2){r=this.U2.Qk(),r===t.h2&&this.U2.next();break}if("option"==r)this.Y2(i,r);else{if(!t.BO.test(r))throw Error("Illegal name in enum "+i.name+" at line "+this.U2.line+": "+r);this.m3(i,r)}}e.V2.push(i)},o.m3=function(e,r){var i={};if(i.name=r,(r=this.U2.next())!==t.EQUAL)throw Error("Illegal token in enum "+e.name+" at line "+this.U2.line+": "+r);r=this.U2.next();try{i.id=this.t3(r,!0)}catch(t){throw Error("Illegal id in enum "+e.name+" at line "+this.U2.line+": "+r)}if(e.values.push(i),(r=this.U2.next())===t.s2){var n={options:{}};this.u3(e,n,r),r=this.U2.next()}if(r!==t.h2)throw Error("Illegal delimiter in enum "+e.name+" at line "+this.U2.line+": "+r)},o.d3=function(r,i){var n=[];if(i=this.U2.next(),"min"===i?n.push(e.Y1):"max"===i?n.push(e.z1):n.push(this.Z2(i)),"to"!==(i=this.U2.next()))throw Error("Illegal extensions delimiter in message "+r.name+" at line "+this.U2.line+": "+i);if(i=this.U2.next(),"min"===i?n.push(e.Y1):"max"===i?n.push(e.z1):n.push(this.Z2(i)),(i=this.U2.next())!==t.h2)throw Error("Illegal extensions delimiter in message "+r.name+" at line "+this.U2.line+": "+i);return n},o.J2=function(e,r){if(r=this.U2.next(),!t.S2.test(r))throw Error("Illegal message name at line "+this.U2.line+": "+r);var i={};if(i.E3=r,i.h3=[],(r=this.U2.next())!==t.OPEN)throw Error("Illegal start of extend "+i.name+" at line "+this.U2.line+": "+r);for(;;){if((r=this.U2.next())===t.n2){r=this.U2.Qk(),r==t.h2&&this.U2.next();break}if(t.I2.test(r))this.l3(i,r);else{if(!t.S2.test(r))throw Error("Illegal token in extend "+i.name+" at line "+this.U2.line+": "+r);this.l3(i,"optional",r)}}return e.q2.push(i),i},o.X2=function(e){var r=this.U2.next();if(r!==t.EQUAL)throw Error("Illegal token at line "+this.U2.line+": "+r);if((r=this.U2.Qk())!==t.u2&&r!==t.f2)throw Error("Illegal token at line "+this.U2.line+": "+r);var i=this.e3();if((r=this.U2.next())!==t.h2)throw Error("Illegal token at line "+this.U2.line+": "+r);return i},o.toString=function(){return"Parser"},r.D$=s,r}(t,t.Lang),t.T3=function(t){function r(r){if("string"==typeof r&&(r=t.O1[r]),void 0===r.defaultValue)throw Error("default value for type "+r.name+" is not supported");return r==t.O1.Hn?new e(0):r.defaultValue}function i(e,r){if(e&&"number"==typeof e.low&&"number"==typeof e.high&&"boolean"==typeof e.Cb&&e.low===e.low&&e.high===e.high)return new t.DR(e.low,e.high,void 0===r?e.Cb:r);if("string"==typeof e)return t.DR.gp(e,r||!1,10);if("number"==typeof e)return t.DR.dp(e,r||!1);throw Error("not convertible to Long")}function n(e,r){var i=r.Tb(),s=7&i,o=i>>>3;switch(s){case t.I1.w1:do{i=r.GR()}while(128==(128&i));break;case t.I1.S1:r.offset+=8;break;case t.I1.R1:i=r.Tb(),r.offset+=i;break;case t.I1.b1:n(o,r);break;case t.I1.P1:if(o===e)return!1;throw Error("Illegal GROUPEND after unknown group: "+o+" ("+e+" expected)");case t.I1.A1:r.offset+=4;break;default:throw Error("Illegal wire type in unknown group "+e+": "+s)}return!0}var s={},o=function(e,t,r){this.I3=e,this.parent=t,this.name=r,this.className},a=o.prototype;a.w3=function(){for(var e=this.name,t=this;;){if(null==(t=t.parent))break;e=t.name+"."+e}return e},a.toString=function(e){return(e?this.className+" ":"")+this.w3()},a.sp=function(){throw Error(this.toString(!0)+" cannot be built directly")},s.S3=o;var h=function(e,t,r,i,n){o.call(this,e,t,r),this.className="Namespace",this.children=[],this.options=i||{},this.W2=n||"proto2"},c=h.prototype=Object.create(o.prototype);c.R3=function(e){if(null==(e=e||null))return this.children.slice();for(var t=[],r=0,i=this.children.length;r<i;++r)this.children[r]instanceof e&&t.push(this.children[r]);return t},c.b3=function(e){var t;if(t=this.P3(e.name))if(t instanceof p.A3&&t.name!==t.C3&&null===this.P3(t.C3))t.name=t.C3;else{if(!(e instanceof p.A3&&e.name!==e.C3&&null===this.P3(e.C3)))throw Error("Duplicate name in namespace "+this.toString(!0)+": "+e.name);e.name=e.C3}this.children.push(e)},c.P3=function(e){for(var t="number"==typeof e?"id":"name",r=0,i=this.children.length;r<i;++r)if(this.children[r][t]===e)return this.children[r];return null},c.resolve=function(e,t){var r="string"==typeof e?e.split("."):e,i=this,n=0;if(""===r[n]){for(;null!==i.parent;)i=i.parent;n++}var o;do{do{if(!(o=i.P3(r[n]))||!(o instanceof s.S3)||t&&o instanceof s.pc.A3){i=null;break}i=o,n++}while(n<r.length);if(null!=i)break;if(null!==this.parent)return this.parent.resolve(e,t)}while(null!=i);return i},c.O3=function(e){var t=[],r=e;do{t.unshift(r.name),r=r.parent}while(null!==r);for(var i=1;i<=t.length;i++){var n=t.slice(t.length-i);if(e===this.resolve(n,!(e instanceof s.pc.A3)))return n.join(".")}return e.w3()},c.sp=function(){for(var e,t={},r=this.children,i=0,n=r.length;i<n;++i)(e=r[i])instanceof h&&(t[e.name]=e.sp());return Object.defineProperty&&Object.defineProperty(t,"$options",{value:this._3()}),t},c._3=function(){for(var e={},t=Object.keys(this.options),r=0,i=t.length;r<i;++r){var n=t[r],s=this.options[t[r]];e[n]=s}return e},c.N3=function(e){return void 0===e?this.options:void 0!==this.options[e]?this.options[e]:null},s.D3=h;var u=function(e,r,i,n){if(this.type=e,this.F3=r,this.L3=i,this.W2=n,i&&t.K1.indexOf(e)<0)throw Error("Invalid map key type: "+e.name)},l=u.prototype;l.M3=r,l.B3=function(r){var n=function(e,t){throw Error("Illegal value for "+this.toString(!0)+" of type "+this.type.name+": "+e+" ("+t+")")}.bind(this);switch(this.type){case t.O1._1:case t.O1.F1:case t.O1.V1:return("number"!=typeof r||r===r&&r%1!=0)&&n(typeof r,"not an integer"),r>4294967295?0|r:r;case t.O1.D1:case t.O1.q1:return("number"!=typeof r||r===r&&r%1!=0)&&n(typeof r,"not an integer"),r<0?r>>>0:r;case t.O1.L1:case t.O1.B1:case t.O1.G1:if(t.DR)try{return i(r,!1)}catch(e){n(typeof r,e.message)}else n(typeof r,"requires Long.js");case t.O1.M1:case t.O1.j1:if(t.DR)try{return i(r,!0)}catch(e){n(typeof r,e.message)}else n(typeof r,"requires Long.js");case t.O1.U1:return"boolean"!=typeof r&&n(typeof r,"not a boolean"),r;case t.O1.float:case t.O1.H1:return"number"!=typeof r&&n(typeof r,"not a number"),r;case t.O1.qb:return"string"==typeof r||r&&r instanceof String||n(typeof r,"not a string"),""+r;case t.O1.Hn:return e.LR(r)?r:e.wrap(r,"base64");case t.O1.Q1:var s=this.F3.R3(t.T3.x3.U3);for(a=0;a<s.length;a++){if(s[a].name==r)return s[a].id;if(s[a].id==r)return s[a].id}if("proto3"===this.W2)return("number"!=typeof r||r===r&&r%1!=0)&&n(typeof r,"not an integer"),(r>4294967295||r<0)&&n(typeof r,"not in range for uint32"),r;n(r,"not a valid enum value");case t.O1.group:case t.O1.message:if(r&&"object"==typeof r||n(typeof r,"object expected"),r instanceof this.F3.H3)return r;if(r instanceof t.q3.pc){var o={};for(var a in r)r.hasOwnProperty(a)&&(o[a]=r[a]);r=o}return new this.F3.H3(r)}throw Error("[INTERNAL] Illegal value for "+this.toString(!0)+": "+r+" (undefined type "+this.type+")")},l.V3=function(r,i){if(null===i)return 0;var n;switch(this.type){case t.O1._1:return i<0?e.Rb(i):e.gb(i);case t.O1.D1:return e.gb(i);case t.O1.F1:return e.gb(e.vb(i));case t.O1.q1:case t.O1.V1:case t.O1.float:return 4;case t.O1.L1:case t.O1.M1:return e.Rb(i);case t.O1.B1:return e.Rb(e.Ab(i));case t.O1.j1:case t.O1.G1:return 8;case t.O1.U1:return 1;case t.O1.Q1:return e.gb(i);case t.O1.H1:return 8;case t.O1.qb:return n=e.zb(i),e.gb(n)+n;case t.O1.Hn:if(i.uP()<0)throw Error("Illegal value for "+this.toString(!0)+": "+i.uP()+" bytes remaining");return e.gb(i.uP())+i.uP();case t.O1.message:return n=this.F3.j3(i),e.gb(n)+n;case t.O1.group:return(n=this.F3.j3(i))+e.gb(r<<3|t.I1.P1)}throw Error("[INTERNAL] Illegal value to encode in "+this.toString(!0)+": "+i+" (unknown type)")},l.G3=function(r,i,n){if(null===i)return n;switch(this.type){case t.O1._1:i<0?n.Fb(i):n.mb(i);break;case t.O1.D1:n.mb(i);break;case t.O1.F1:n.Eb(i);break;case t.O1.q1:n.$R(i);break;case t.O1.V1:n.XR(i);break;case t.O1.L1:case t.O1.M1:n.Fb(i);break;case t.O1.B1:n.Lb(i);break;case t.O1.j1:n.sb(i);break;case t.O1.G1:n.tb(i);break;case t.O1.U1:"string"==typeof i?n.mb("false"===i.toLowerCase()?0:!!i):n.mb(i?1:0);break;case t.O1.Q1:n.mb(i);break;case t.O1.float:n.ab(i);break;case t.O1.H1:n.lb(i);break;case t.O1.qb:n.Zb(i);break;case t.O1.Hn:if(i.uP()<0)throw Error("Illegal value for "+this.toString(!0)+": "+i.uP()+" bytes remaining");var s=i.offset;n.mb(i.uP()),n.append(i),i.offset=s;break;case t.O1.message:var o=(new e).nP();this.F3.encode(i,o),n.mb(o.offset),n.append(o.Jl());break;case t.O1.group:this.F3.encode(i,n),n.mb(r<<3|t.I1.P1);break;default:throw Error("[INTERNAL] Illegal value to encode in "+this.toString(!0)+": "+i+" (unknown type)")}return n},l.decode=function(e,r,i){if(r!=this.type.N1)throw Error("Unexpected wire type for element");var n,s;switch(this.type){case t.O1._1:return 0|e.Tb();case t.O1.D1:return e.Tb()>>>0;case t.O1.F1:return 0|e.wb();case t.O1.q1:return e.eb()>>>0;case t.O1.V1:return 0|e.ZR();case t.O1.L1:return e.Mb();case t.O1.M1:return e.Mb().Ob();case t.O1.B1:return e.Bb();case t.O1.j1:return e.ob();case t.O1.G1:return e.ib();case t.O1.U1:return!!e.Tb();case t.O1.Q1:return e.Tb();case t.O1.float:return e.ub();case t.O1.H1:return e.sR();case t.O1.qb:return e.$b();case t.O1.Hn:if(s=e.Tb(),e.uP()<s)throw Error("Illegal number of bytes for "+this.toString(!0)+": "+s+" required but got only "+e.uP());return n=e.clone(),n.CR=n.offset+s,e.offset+=s,n;case t.O1.message:return s=e.Tb(),this.F3.decode(e,s);case t.O1.group:return this.F3.decode(e,-1,i)}throw Error("[INTERNAL] Illegal decode type")},l.Q3=function(r){if(!this.L3)throw Error("valueFromString() called on non-map-key element");switch(this.type){case t.O1._1:case t.O1.F1:case t.O1.V1:case t.O1.D1:case t.O1.q1:return this.B3(parseInt(r));case t.O1.L1:case t.O1.B1:case t.O1.G1:case t.O1.M1:case t.O1.j1:return this.B3(r);case t.O1.U1:return"true"===r;case t.O1.qb:return this.B3(r);case t.O1.Hn:return e.UR(r)}},l.K3=function(e){if(!this.L3)throw Error("valueToString() called on non-map-key element");return this.type===t.O1.Hn?e.toString("binary"):e.toString()},s.Element=u;var p=function(e,r,i,n,s,o){h.call(this,e,r,i,n,o),this.className="Message",this.extensions=[t.Y1,t.z1],this.H3=null,this.a3=!!s,this.Y3=null,this.z3=null,this.J3=null},f=p.prototype=Object.create(h.prototype);f.sp=function(r){if(this.H3&&!r)return this.H3;var i=function(t,r){function i(r,n,s,o,a){var h=void 0;if(null===r||"object"!=typeof r){if(o==t.O1.Q1)for(var c=a.R3(t.T3.x3.U3),u=0;u<c.length;u++)if(c[u].id===r){r=c[u].name;break}h=r}else if(r instanceof e)h=n?r.fP():r.lP();else if(t.hf.isArray(r)){var l=r;h=[];for(var p=0;p<l.length;p++)h.push(i(l[p],n,s,o,a))}else if(r instanceof t.Map){var f=r.entries();h={};for(var d=f.next();!d.done;d=f.next())h[r.W3.K3(d.value[0])]=i(d.value[1],n,s,r.X3.type,r.X3.F3)}else if(r instanceof t.DR)h=s?r.toString():new t.DR(r);else{h={};var g=r.Z3,v=void 0;for(var u in r)if(r.hasOwnProperty(u)){var y=r[u];g&&(v=g.P3(u)),h[u]=i(y,n,s,v.type,v.F3)}}return h}var n=r.R3(t.T3.pc.A3),s=r.R3(t.T3.pc.e4),o=function(i,o){t.q3.pc.call(this);for(var a=0,h=s.length;a<h;++a)this[s[a].name]=null;for(a=0,h=n.length;a<h;++a){var c=n[a];this[c.name]=c.t4?[]:c.map?new t.Map(c):null,!c.required&&"proto3"!==r.W2||null===c.defaultValue||(this[c.name]=c.defaultValue)}if(arguments.length>0){var u;if(1!==arguments.length||"object"!=typeof i||"function"==typeof i.encode||t.hf.isArray(i)||i instanceof t.Map||i instanceof e||i instanceof ArrayBuffer||t.DR&&i instanceof t.DR)for(a=0,h=arguments.length;a<h;++a)void 0!==(u=arguments[a])&&this.r4(n[a].name,u);else this.r4(i)}},a=o.prototype=Object.create(t.q3.pc.prototype);a.add=function(e,i,n){var s=r.J3[e];if(!n){if(!s)throw Error(this+"#"+e+" is undefined");if(!(s instanceof t.T3.pc.A3))throw Error(this+"#"+e+" is not a field: "+s.toString(!0));if(!s.t4)throw Error(this+"#"+e+" is not a repeated field")}null===this[s.name]&&(this[s.name]=[]),this[s.name].push(n?i:s.B3(i,!0))},a.i4=a.add,a.set=function(e,i,n){if(e&&"object"==typeof e){n=i;for(var s in e)e.hasOwnProperty(s)&&void 0!==(i=e[s])&&this.r4(s,i,n);return this}var o=r.J3[e];if(n)this[o.name]=i;else{if(!o)throw Error(this+"#"+e+" is not a field: undefined");if(!(o instanceof t.T3.pc.A3))throw Error(this+"#"+e+" is not a field: "+o.toString(!0));this[o.name]=i=o.B3(i)}return o.v3&&(null!==i?(null!==this[o.v3.name]&&(this[this[o.v3.name]]=null),this[o.v3.name]=o.name):o.v3.name===e&&(this[o.v3.name]=null)),this},a.r4=a.set,a.get=function(e,i){if(i)return this[e];var n=r.J3[e];if(!(n&&n instanceof t.T3.pc.A3))throw Error(this+"#"+e+" is not a field: undefined");if(!(n instanceof t.T3.pc.A3))throw Error(this+"#"+e+" is not a field: "+n.toString(!0));return this[n.name]},a.n4=a.get;for(var h=0;h<n.length;h++){var c=n[h];c instanceof t.T3.pc.s4||r.I3.options.W1&&function(e){var t=e.C3.replace(/(_[a-zA-Z])/g,function(e){return e.toUpperCase().replace("_","")});t=t.substring(0,1).toUpperCase()+t.substring(1);var i=e.C3.replace(/([A-Z])/g,function(e){return"_"+e}),n=function(t,r){return this[e.name]=r?t:e.B3(t),this},s=function(){return this[e.name]};null===r.P3("set"+t)&&(a["set"+t]=n),null===r.P3("set_"+i)&&(a["set_"+i]=n),null===r.P3("get"+t)&&(a["get"+t]=s),null===r.P3("get_"+i)&&(a["get_"+i]=s)}(c)}a.encode=function(t,i){"boolean"==typeof t&&(i=t,t=void 0);var n=!1;t||(t=new e,n=!0);var s=t.kR;try{return r.encode(this,t.nP(),i),(n?t.Jl():t).nP(s)}catch(e){throw t.nP(s),e}},a.j3=function(){return r.j3(this)},a.o4=function(t){var i=!1;t||(t=new e,i=!0);var n=(new e).nP();return r.encode(this,n).Jl(),t.mb(n.uP()),t.append(n),i?t.Jl():t},a.a4=function(){try{return this.encode().pn()}catch(e){throw e.h4&&(e.h4=e.h4.pn()),e}},a.pn=a.a4,a.c4=function(){try{return this.encode().lP()}catch(e){throw e.h4&&(e.h4=e.h4.lP()),e}},a.lP=a.c4,a.u4=function(){try{return this.encode().fP()}catch(e){throw e.h4&&(e.h4=e.h4.fP()),e}},a.fP=a.u4,a.l4=function(){try{return this.encode().dP()}catch(e){throw e.h4&&(e.h4=e.h4.dP()),e}},a.dP=a.l4,a.f4=function(e,r){return i(this,!!e,!!r,t.O1.message,this.Z3)},a.d4=function(){return JSON.stringify(i(this,!0,!0,t.O1.message,this.Z3))},o.decode=function(t,i){"string"==typeof t&&(t=e.wrap(t,i||"base64")),t=t instanceof e?t:e.wrap(t);var n=t.kR;try{var s=r.decode(t.nP());return t.nP(n),s}catch(e){throw t.nP(n),e}},o.g4=function(t,i){if("string"==typeof t&&(t=e.wrap(t,i||"base64")),t=t instanceof e?t:e.wrap(t),t.uP()<1)return null;var n=t.offset,s=t.Tb();if(t.uP()<s)return t.offset=n,null;try{var o=r.decode(t.slice(t.offset,t.offset+s).nP());return t.offset+=s,o}catch(e){throw t.offset+=s,e}},o.v4=function(e){return o.decode(e,"base64")},o.y4=function(e){return o.decode(e,"hex")},o.m4=function(e){return new o(JSON.parse(e))},a.toString=function(){return r.toString()};return Object.defineProperty&&(Object.defineProperty(o,"$options",{value:r._3()}),Object.defineProperty(a,"$options",{value:o.E4}),Object.defineProperty(o,"$type",{value:r}),Object.defineProperty(a,"$type",{value:r})),o}(t,this);this.Y3=[],this.z3={},this.J3={};for(var n,s=0,o=this.children.length;s<o;s++)if((n=this.children[s])instanceof m)i[n.name]=n.sp();else if(n instanceof p)i[n.name]=n.sp();else if(n instanceof p.A3)n.sp(),this.Y3.push(n),this.z3[n.id]=n,this.J3[n.name]=n;else if(!(n instanceof p.e4||n instanceof T))throw Error("Illegal reflect child of "+this.toString(!0)+": "+children[s].toString(!0));return this.H3=i},f.encode=function(e,t,r){for(var i,n,s=null,o=0,a=this.Y3.length;o<a;++o)i=this.Y3[o],n=e[i.name],i.required&&null===n?null===s&&(s=i):i.encode(r?n:i.B3(n),t);if(null!==s){var h=Error("Missing at least one required field for "+this.toString(!0)+": "+s);throw h.h4=t,h}return t},f.j3=function(e){for(var t,r,i=0,n=0,s=this.Y3.length;n<s;++n){if(t=this.Y3[n],r=e[t.name],t.required&&null===r)throw Error("Missing at least one required field for "+this.toString(!0)+": "+t);i+=t.j3(r)}return i},f.decode=function(e,r,i){r="number"==typeof r?r:-1;for(var s,o,a,h,c=e.offset,u=new this.H3;e.offset<c+r||-1===r&&e.uP()>0;){if(s=e.Tb(),o=7&s,a=s>>>3,o===t.I1.P1){if(a!==i)throw Error("Illegal group end indicator for "+this.toString(!0)+": "+a+" ("+(i?i+" expected":"not a group")+")");break}if(h=this.z3[a])if(h.t4&&!h.options.T4)u[h.name].push(h.decode(o,e));else if(h.map){var l=h.decode(o,e);u[h.name].set(l[0],l[1])}else u[h.name]=h.decode(o,e),h.v3&&(null!==this[h.v3.name]&&(this[this[h.v3.name]]=null),u[h.v3.name]=h.name);else switch(o){case t.I1.w1:e.Tb();break;case t.I1.A1:e.offset+=4;break;case t.I1.S1:e.offset+=8;break;case t.I1.R1:var p=e.Tb();e.offset+=p;break;case t.I1.b1:for(;n(a,e););break;default:throw Error("Illegal wire type for unknown field "+a+" in "+this.toString(!0)+"#decode: "+o)}}for(var f=0,d=this.Y3.length;f<d;++f)if(h=this.Y3[f],null===u[h.name]){if(h.required){var g=Error("Missing at least one required field for "+this.toString(!0)+": "+h.name);throw g.I4=u,g}t.X1&&null!==h.defaultValue&&(u[h.name]=h.defaultValue)}return u},s.pc=p;var d=function(e,t,r,i,n,s,a,h,c,u){o.call(this,e,t,s),this.className="Message.Field",this.required="required"===r,this.t4="repeated"===r,this.map="map"===r,this.w4=i||null,this.type=n,this.F3=null,this.id=a,this.options=h||{},this.defaultValue=null,this.v3=c||null,this.W2=u||"proto2",this.C3=this.name,this.S4=null,this.R4=null,!this.I3.options.J1||this instanceof p.s4||(this.name=d.b4(this.name))};d.b4=function(e){return e.replace(/_([a-zA-Z])/g,function(e,t){return t.toUpperCase()})};var g=d.prototype=Object.create(o.prototype);g.sp=function(){this.S4=new u(this.type,this.F3,!1,this.W2),this.map&&(this.R4=new u(this.w4,void 0,!0,this.W2)),this.defaultValue=void 0!==this.options.default?this.B3(this.options.default):null,"proto3"!==this.W2||this.t4||this.map||(this.defaultValue=this.S4.M3(this.type))},g.B3=function(e,r){r=r||!1;var i=function(e,t){throw Error("Illegal value for "+this.toString(!0)+" of type "+this.type.name+": "+e+" ("+t+")")}.bind(this);if(null===e)return this.required&&i(typeof e,"required"),"proto3"===this.W2&&this.type!==t.O1.message&&i(typeof e,"proto3 field without field presence cannot be null"),null;var n;if(this.t4&&!r){t.hf.isArray(e)||(e=[e]);var s=[];for(n=0;n<e.length;n++)s.push(this.S4.B3(e[n]));return s}return this.map&&!r?e instanceof t.Map?e:(e instanceof Object||i(typeof e,"expected ProtoBuf.Map or raw object for map field"),new t.Map(this,e)):(!this.t4&&t.hf.isArray(e)&&i(typeof e,"no array expected"),this.S4.B3(e))},g.P4=function(e){if("proto3"!==this.W2)return null!==e;switch(this.type){case t.O1._1:case t.O1.F1:case t.O1.V1:case t.O1.D1:case t.O1.q1:return 0!==e;case t.O1.L1:case t.O1.B1:case t.O1.G1:case t.O1.M1:case t.O1.j1:return 0!==e.low||0!==e.high;case t.O1.U1:return e;case t.O1.float:case t.O1.H1:return 0!==e;case t.O1.qb:return e.length>0;case t.O1.Hn:return e.uP()>0;case t.O1.Q1:return 0!==e;case t.O1.message:return null!==e;default:return!0}},g.encode=function(r,i){if(null===this.type||"object"!=typeof this.type)throw Error("[INTERNAL] Unresolved type in "+this.toString(!0)+": "+this.type);if(null===r||this.t4&&0==r.length)return i;try{if(this.t4){var n;if(this.options.T4&&t.C1.indexOf(this.type.N1)>=0){i.mb(this.id<<3|t.I1.R1),i.iP(i.offset+=1);var s=i.offset;for(n=0;n<r.length;n++)this.S4.G3(this.id,r[n],i);var o=i.offset-s,a=e.gb(o);if(a>1){var h=i.slice(s,i.offset);s+=a-1,i.offset=s,i.append(h)}i.mb(o,s-a)}else for(n=0;n<r.length;n++)i.mb(this.id<<3|this.type.N1),this.S4.G3(this.id,r[n],i)}else this.map?r.forEach(function(r,n,s){var o=e.gb(8|this.w4.N1)+this.R4.V3(1,n)+e.gb(16|this.type.N1)+this.S4.V3(2,r);i.mb(this.id<<3|t.I1.R1),i.mb(o),i.mb(8|this.w4.N1),this.R4.G3(1,n,i),i.mb(16|this.type.N1),this.S4.G3(2,r,i)},this):this.P4(r)&&(i.mb(this.id<<3|this.type.N1),this.S4.G3(this.id,r,i))}catch(e){throw Error("Illegal value for "+this.toString(!0)+": "+r+" ("+e+")")}return i},g.j3=function(r){if(r=this.B3(r),null===this.type||"object"!=typeof this.type)throw Error("[INTERNAL] Unresolved type in "+this.toString(!0)+": "+this.type);if(null===r||this.t4&&0==r.length)return 0;var i=0;try{if(this.t4){var n,s;if(this.options.T4&&t.C1.indexOf(this.type.N1)>=0){for(i+=e.gb(this.id<<3|t.I1.R1),s=0,n=0;n<r.length;n++)s+=this.S4.V3(this.id,r[n]);i+=e.gb(s),i+=s}else for(n=0;n<r.length;n++)i+=e.gb(this.id<<3|this.type.N1),i+=this.S4.V3(this.id,r[n])}else this.map?r.forEach(function(r,n,s){var o=e.gb(8|this.w4.N1)+this.R4.V3(1,n)+e.gb(16|this.type.N1)+this.S4.V3(2,r);i+=e.gb(this.id<<3|t.I1.R1),i+=e.gb(o),i+=o},this):this.P4(r)&&(i+=e.gb(this.id<<3|this.type.N1),i+=this.S4.V3(this.id,r))}catch(e){throw Error("Illegal value for "+this.toString(!0)+": "+r+" ("+e+")")}return i},g.decode=function(e,r,i){var n,s;if(!(!this.map&&e==this.type.N1||!i&&this.t4&&this.options.T4&&e==t.I1.R1||this.map&&e==t.I1.R1))throw Error("Illegal wire type for field "+this.toString(!0)+": "+e+" ("+this.type.N1+" expected)");if(e==t.I1.R1&&this.t4&&this.options.T4&&t.C1.indexOf(this.type.N1)>=0&&!i){s=r.Tb(),s=r.offset+s;for(var o=[];r.offset<s;)o.push(this.decode(this.type.N1,r,!0));return o}if(this.map){var a=this.R4.M3(this.w4);if(n=this.S4.M3(this.type),s=r.Tb(),r.uP()<s)throw Error("Illegal number of bytes for "+this.toString(!0)+": "+s+" required but got only "+r.uP());var h=r.clone();for(h.CR=h.offset+s,r.offset+=s;h.uP()>0;){var c=h.Tb();e=7&c;var u=c>>>3;if(1===u)a=this.R4.decode(h,e,u);else{if(2!==u)throw Error("Unexpected tag in map field key/value submessage");n=this.S4.decode(h,e,u)}}return[a,n]}return this.S4.decode(r,e,this.id)},s.pc.A3=d;var v=function(e,t,r,i,n,s,o){d.call(this,e,t,r,null,i,n,s,o),this.A4};v.prototype=Object.create(d.prototype),s.pc.s4=v;var y=function(e,t,r){o.call(this,e,t,r),this.h3=[]};s.pc.e4=y;var m=function(e,t,r,i,n){h.call(this,e,t,r,i,n),this.className="Enum",this.object=null};(m.prototype=Object.create(h.prototype)).sp=function(){for(var e={},t=this.R3(m.U3),r=0,i=t.length;r<i;++r)e[t[r].name]=t[r].id;return Object.defineProperty&&Object.defineProperty(e,"$options",{value:this._3()}),this.object=e},s.x3=m;var E=function(e,t,r,i){o.call(this,e,t,r),this.className="Enum.Value",this.id=i};E.prototype=Object.create(o.prototype),s.x3.U3=E;var T=function(e,t,r,i){o.call(this,e,t,r),this.C4=i};T.prototype=Object.create(o.prototype),s.O4=T;var I=function(e,t,r,i){h.call(this,e,t,r,i),this.className="Service",this.H3=null};(I.prototype=Object.create(h.prototype)).sp=function(r){return this.H3&&!r?this.H3:this.H3=function(t,r){for(var i=function(e){t.q3._4.call(this),this.N4=e||function(e,t,r){setTimeout(r.bind(this,Error("Not implemented, see: https://github.com/dcodeIO/ProtoBuf.js/wiki/Services")),0)}},n=i.prototype=Object.create(t.q3._4.prototype),s=r.R3(t.T3._4.D4),o=0;o<s.length;o++)!function(t){n[t.name]=function(i,n){try{try{i=t.F4.H3.decode(e.wrap(i))}catch(e){if(!(e instanceof TypeError))throw e}if(!(i&&i instanceof t.F4.H3))return void setTimeout(n.bind(this,Error("Illegal request type provided to service method "+r.name+"#"+t.name)),0);this.N4(t.w3(),i,function(e,i){if(e)return void n(e);try{i=t.L4.H3.decode(i)}catch(e){}if(!(i&&i instanceof t.L4.H3))return void n(Error("Illegal response type received in service method "+r.name+"#"+t.name));n(null,i)})}catch(e){setTimeout(n.bind(this,e),0)}},i[t.name]=function(e,r,n){new i(e)[t.name](r,n)},Object.defineProperty&&(Object.defineProperty(i[t.name],"$options",{value:t._3()}),Object.defineProperty(n[t.name],"$options",{value:i[t.name].E4}))}(s[o]);return Object.defineProperty&&(Object.defineProperty(i,"$options",{value:r._3()}),Object.defineProperty(n,"$options",{value:i.E4}),Object.defineProperty(i,"$type",{value:r}),Object.defineProperty(n,"$type",{value:r})),i}(t,this)},s._4=I;var w=function(e,t,r,i){o.call(this,e,t,r),this.className="Service.Method",this.options=i||{}};(w.prototype=Object.create(o.prototype))._3=c._3,s._4.M4=w;var S=function(e,t,r,i,n,s,o,a){w.call(this,e,t,r,a),this.className="Service.RPCMethod",this.B4=i,this.U4=n,this.x4=s,this.H4=o,this.F4=null,this.L4=null};return S.prototype=Object.create(w.prototype),s._4.D4=S,s}(t),t.q3=function(e,t,i){function n(e,t){t.W2=e,t.q2&&t.q2.forEach(function(t){n(e,t)}),t.V2&&t.V2.forEach(function(t){n(e,t)})}var s=function(e){this.q4=new i.D3(this,null,""),this.V4=this.q4,this.j4=!1,this.result=null,this.files={},this.G4=null,this.options=e||{},this.W2="proto3"===this.options.W2?"proto3":"proto2"},o=s.prototype;return o.reset=function(){this.V4=this.q4},o.Q4=function(e){if("string"!=typeof e||!t.S2.test(e))throw Error("Illegal package: "+e);var r,n,s=e.split(".");for(r=0;r<s.length;r++)if(!t.BO.test(s[r]))throw Error("Illegal package: "+s[r]);for(r=0;r<s.length;r++)n=this.V4.P3(s[r]),null===n&&this.V4.b3(n=new i.D3(this,this.V4,s[r])),this.V4=n;return this},s.K4=function(r){if("string"!=typeof r.name||!t.BO.test(r.name))return!1;if(void 0!==r.values||void 0!==r.i3)return!1;var i;if(void 0!==r.h3){if(!e.hf.isArray(r.h3))return!1;var n,o=[];for(i=0;i<r.h3.length;i++){if(!s.Y4(r.h3[i]))return!1;if(n=parseInt(r.h3[i].id,10),o.indexOf(n)>=0)return!1;o.push(n)}o=null}if(void 0!==r.V2){if(!e.hf.isArray(r.V2))return!1;for(i=0;i<r.V2.length;i++)if(!s.z4(r.V2[i]))return!1}if(void 0!==r.q2){if(!e.hf.isArray(r.q2))return!1;for(i=0;i<r.q2.length;i++)if(!s.K4(r.q2[i])&&!s.J4(r.q2[i]))return!1}if(void 0!==r.extensions&&(!e.hf.isArray(r.extensions)||2!==r.extensions.length||"number"!=typeof r.extensions[0]||"number"!=typeof r.extensions[1]))return!1;if("proto3"===r.W2){for(i=0;i<r.h3.length;i++){var a=r.h3[i];if("required"===a.g3)return!1;if(a.default)return!1;if(a.options)for(var h=Object.keys(a.options),c=0;c<h.length;c++)if("default"===h[c])return!1}if(r.extensions)return!1}return!0},s.Y4=function(e){if("string"!=typeof e.g3||"string"!=typeof e.name||"string"!=typeof e.type||void 0===e.id)return!1;if(!(t.I2.test(e.g3)&&t.BO.test(e.name)&&t.S2.test(e.type)&&t._2.test(""+e.id)))return!1;if(void 0!==e.options){if("object"!=typeof e.options)return!1;for(var r,i=Object.keys(e.options),n=0;n<i.length;n++)if("string"!=typeof(r=i[n])||"string"!=typeof e.options[r]&&"number"!=typeof e.options[r]&&"boolean"!=typeof e.options[r])return!1}return!0},s.z4=function(r){if("string"!=typeof r.name||!t.BO.test(r.name))return!1;if(void 0===r.values||!e.hf.isArray(r.values)||0==r.values.length)return!1;for(var i=0;i<r.values.length;i++){if("object"!=typeof r.values[i])return!1;if("string"!=typeof r.values[i].name||void 0===r.values[i].id)return!1;if(!t.BO.test(r.values[i].name)||!t.N2.test(""+r.values[i].id))return!1}return"proto3"!==r.W2||0===r.values[0].id},o.create=function(t){if(!t)return this;if(e.hf.isArray(t)||(t=[t]),0===t.length)return this;var r=[];for(r.push(t);r.length>0;){if(t=r.pop(),!e.hf.isArray(t))throw Error("Not a valid namespace: "+JSON.stringify(t));for(;t.length>0;){var n=t.shift();if(s.K4(n)){var o=new i.pc(this,this.V4,n.name,n.options,n.a3,n.W2),a={};if(n.c3)for(var h=Object.keys(n.c3),c=0,u=h.length;c<u;++c)o.b3(a[h[c]]=new i.pc.e4(this,o,h[c]));if(n.h3&&n.h3.length>0)for(c=0,u=n.h3.length;c<u;++c){var l=n.h3[c];if(null!==o.P3(l.id))throw Error("Duplicate field id in message "+o.name+": "+l.id);if(l.options)for(var p=Object.keys(l.options),f=0,d=p.length;f<d;++f){if("string"!=typeof p[f])throw Error("Illegal field option name in message "+o.name+"#"+l.name+": "+p[f]);if("string"!=typeof l.options[p[f]]&&"number"!=typeof l.options[p[f]]&&"boolean"!=typeof l.options[p[f]])throw Error("Illegal field option value in message "+o.name+"#"+l.name+"#"+p[f]+": "+l.options[p[f]])}var g=null;if("string"==typeof l.v3&&void 0===(g=a[l.v3]))throw Error("Illegal oneof in message "+o.name+"#"+l.name+": "+l.v3);l=new i.pc.A3(this,o,l.g3,l.keytype,l.type,l.name,l.id,l.options,g,n.W2),g&&g.h3.push(l),o.b3(l)}var v=[];if(void 0!==n.V2&&n.V2.length>0)for(c=0;c<n.V2.length;c++)v.push(n.V2[c]);if(n.q2&&n.q2.length>0)for(c=0;c<n.q2.length;c++)v.push(n.q2[c]);if(n.extensions&&(o.extensions=n.extensions,o.extensions[0]<e.Y1&&(o.extensions[0]=e.Y1),o.extensions[1]>e.z1&&(o.extensions[1]=e.z1)),this.V4.b3(o),v.length>0){r.push(t),t=v,v=null,this.V4=o,o=null;continue}v=null,o=null}else if(s.z4(n)){for(o=new i.x3(this,this.V4,n.name,n.options,n.W2),c=0;c<n.values.length;c++)o.b3(new i.x3.U3(this,o,n.values[c].name,n.values[c].id));this.V4.b3(o),o=null}else if(s.W4(n)){o=new i._4(this,this.V4,n.name,n.options);for(c in n.i3)n.i3.hasOwnProperty(c)&&o.b3(new i._4.D4(this,o,c,n.i3[c].TI,n.i3[c].response,n.i3[c].s3,n.i3[c].o3,n.i3[c].options));this.V4.b3(o),o=null}else{if(!s.J4(n))throw Error("Not a valid definition: "+JSON.stringify(n));if(o=this.V4.resolve(n.E3))for(c=0;c<n.h3.length;c++){if(null!==o.P3(n.h3[c].id))throw Error("Duplicate extended field id in message "+o.name+": "+n.h3[c].id);if(n.h3[c].id<o.extensions[0]||n.h3[c].id>o.extensions[1])throw Error("Illegal extended field id in message "+o.name+": "+n.h3[c].id+" ("+o.extensions.join(" to ")+" expected)");var y=n.h3[c].name;this.options.J1&&(y=i.pc.A3.b4(n.h3[c].name)),l=new i.pc.s4(this,o,n.h3[c].g3,n.h3[c].type,this.V4.w3()+"."+y,n.h3[c].id,n.h3[c].options);var m=new i.O4(this,this.V4,n.h3[c].name,l);l.A4=m,this.V4.b3(m),o.b3(l)}else if(!/\.?google\.protobuf\./.test(n.E3))throw Error("Extended message "+n.E3+" is not defined")}n=null}t=null,this.V4=this.V4.parent}return this.j4=!1,this.result=null,this},o.X4=function(t,i){if("string"==typeof i){if(e.hf.Z1&&(i=r(59).resolve(i)),!0===this.files[i])return this.reset(),this;this.files[i]=!0}else if("object"==typeof i){var s=i.root;e.hf.Z1&&(s=r(59).resolve(s));var o=[s,i.Z4].join("/");if(!0===this.files[o])return this.reset(),this;this.files[o]=!0}if(t.imports&&t.imports.length>0){var a,h="/",c=!1;"object"==typeof i?(this.G4=i.root,c=!0,a=this.G4,i=i.Z4,(a.indexOf("\\")>=0||i.indexOf("\\")>=0)&&(h="\\")):"string"==typeof i?this.G4?a=this.G4:i.indexOf("/")>=0?""===(a=i.replace(/\/[^\/]*$/,""))&&(a="/"):i.indexOf("\\")>=0?(a=i.replace(/\\[^\\]*$/,""),h="\\"):a=".":a=null;for(var u=0;u<t.imports.length;u++)if("string"==typeof t.imports[u]){if(!a)throw Error("Cannot determine import root: File name is unknown");var l=t.imports[u];if(/^google\/protobuf\//.test(l))continue;if(l=a+h+l,!0===this.files[l])continue;/\.proto$/i.test(l)&&!e.F2&&(l=l.replace(/\.proto$/,".json"));var p=e.hf.fetch(l);if(null===p)throw Error("Failed to import '"+l+"' in '"+i+"': File not found");/\.json$/i.test(l)?this.X4(JSON.parse(p+""),l):this.X4(new e.F2.D$(p+"").parse(),l)}else i?/\.(\w+)$/.test(i)?this.X4(t.imports[u],i.replace(/^(.+)\.(\w+)$/,function(e,t,r){return t+"_import"+u+"."+r})):this.X4(t.imports[u],i+"_import"+u):this.X4(t.imports[u]);c&&(this.G4=null)}t.H2&&this.Q4(t.H2),t.W2&&n(t.W2,t);var f=this.V4;return t.options&&Object.keys(t.options).forEach(function(e){f.options[e]=t.options[e]}),t.q2&&(this.create(t.q2),this.V4=f),t.V2&&(this.create(t.V2),this.V4=f),t.DN&&(this.create(t.DN),this.V4=f),t.e6&&this.create(t.e6),this.reset(),this},s.W4=function(e){return!("string"!=typeof e.name||!t.BO.test(e.name)||"object"!=typeof e.i3)},s.J4=function(r){if("string"!=typeof r.E3||!t.S2.test(r.E3))return!1;var i;if(void 0!==r.h3){if(!e.hf.isArray(r.h3))return!1;var n,o=[];for(i=0;i<r.h3.length;i++){if(!s.Y4(r.h3[i]))return!1;if(n=parseInt(r.id,10),o.indexOf(n)>=0)return!1;o.push(n)}o=null}return!0},o.t6=function(){var r;if(null!=this.V4&&"object"!=typeof this.V4.type){if(this.V4 instanceof i.D3)for(var n=this.V4.children,s=0,o=n.length;s<o;++s)this.V4=n[s],this.t6();else if(this.V4 instanceof i.pc.A3){if(t.jO.test(this.V4.type))this.V4.type=e.O1[this.V4.type];else{if(!t.S2.test(this.V4.type))throw Error("Illegal type reference in "+this.V4.toString(!0)+": "+this.V4.type);if(!(r=(this.V4 instanceof i.pc.s4?this.V4.A4.parent:this.V4.parent).resolve(this.V4.type,!0)))throw Error("Unresolvable type reference in "+this.V4.toString(!0)+": "+this.V4.type);if(this.V4.F3=r,r instanceof i.x3){if(this.V4.type=e.O1.Q1,"proto3"===this.V4.W2&&"proto3"!==r.W2)throw Error("Proto3 message refers to proto2 enum; this is not allowed due to differing enum semantics in proto3")}else{if(!(r instanceof i.pc))throw Error("Illegal type reference in "+this.V4.toString(!0)+": "+this.V4.type);this.V4.type=r.a3?e.O1.group:e.O1.message}}if(this.V4.map){if(!t.jO.test(this.V4.w4))throw Error("Illegal key type for map field in "+this.V4.toString(!0)+": "+this.V4.type);this.V4.w4=e.O1[this.V4.w4]}}else if(this.V4 instanceof e.T3.x3.U3);else if(this.V4 instanceof e.T3._4.M4){if(!(this.V4 instanceof e.T3._4.D4))throw Error("Illegal service type in "+this.V4.toString(!0));if(!((r=this.V4.parent.resolve(this.V4.B4))&&r instanceof e.T3.pc))throw Error("Illegal type reference in "+this.V4.toString(!0)+": "+this.V4.B4);if(this.V4.F4=r,!((r=this.V4.parent.resolve(this.V4.U4))&&r instanceof e.T3.pc))throw Error("Illegal type reference in "+this.V4.toString(!0)+": "+this.V4.U4);this.V4.L4=r}else if(!(this.V4 instanceof e.T3.pc.e4||this.V4 instanceof e.T3.O4))throw Error("Illegal object in namespace: "+typeof this.V4+":"+this.V4);this.reset()}},o.sp=function(e){if(this.reset(),this.j4||(this.t6(),this.j4=!0,this.result=null),null===this.result&&(this.result=this.q4.sp()),e){for(var t="string"==typeof e?e.split("."):e,r=this.result,i=0;i<t.length;i++){if(!r[t[i]]){r=null;break}r=r[t[i]]}return r}return this.result},o.r6=function(e){return e?this.q4.resolve(e):this.q4},o.toString=function(){return"Builder"},s.pc=function(){},s._4=function(){},s}(t,t.Lang,t.T3),t.Map=function(e){function t(e){var t=0;return{next:function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}}var r=function(t,r){if(!t.map)throw Error("field is not a map");if(this.C4=t,this.W3=new e.T3.Element(t.w4,null,!0,t.W2),this.X3=new e.T3.Element(t.type,t.F3,!1,t.W2),this.map={},Object.defineProperty(this,"size",{get:function(){return Object.keys(this.map).length}}),r)for(var i=Object.keys(r),n=0;n<i.length;n++){var s=this.W3.Q3(i[n]),o=this.X3.B3(r[i[n]]);this.map[this.W3.K3(s)]={key:s,value:o}}},i=r.prototype;return i.clear=function(){this.map={}},i.delete=function(e){var t=this.W3.K3(this.W3.B3(e)),r=t in this.map;return delete this.map[t],r},i.entries=function(){for(var e,r=[],i=Object.keys(this.map),n=0;n<i.length;n++)r.push([(e=this.map[i[n]]).key,e.value]);return t(r)},i.keys=function(){for(var e=[],r=Object.keys(this.map),i=0;i<r.length;i++)e.push(this.map[r[i]].key);return t(e)},i.values=function(){for(var e=[],r=Object.keys(this.map),i=0;i<r.length;i++)e.push(this.map[r[i]].value);return t(e)},i.forEach=function(e,t){for(var r,i=Object.keys(this.map),n=0;n<i.length;n++)e.call(t,(r=this.map[i[n]]).value,r.key,this)},i.set=function(e,t){var r=this.W3.B3(e),i=this.X3.B3(t);return this.map[this.W3.K3(r)]={key:r,value:i},this},i.get=function(e){var t=this.W3.K3(this.W3.B3(e));if(t in this.map)return this.map[t].value},i.has=function(e){return this.W3.K3(this.W3.B3(e))in this.map},r}(t),t.i6=function(e,r,i){return("string"==typeof r||r&&"string"==typeof r.Z4&&"string"==typeof r.root)&&(i=r,r=void 0),t.op(new t.F2.D$(e).parse(),r,i)},t.n6=t.i6,t.s6=function(e,r,i){if(r&&"object"==typeof r?(i=r,r=null):r&&"function"==typeof r||(r=null),r)return t.hf.fetch("string"==typeof e?e:e.root+"/"+e.Z4,function(n){if(null===n)return void r(Error("Failed to fetch file"));try{r(null,t.i6(n,i,e))}catch(e){r(e)}});var n=t.hf.fetch("object"==typeof e?e.root+"/"+e.Z4:e);return null===n?null:t.i6(n,i,e)},t.o6=t.s6,t.a6=function(e){return e=e||{},void 0===e.J1&&(e.J1=t.J1),void 0===e.W1&&(e.W1=t.W1),new t.q3(e)},t.op=function(e,r,i){return("string"==typeof r||r&&"string"==typeof r.Z4&&"string"==typeof r.root)&&(i=r,r=null),r&&"object"==typeof r||(r=t.a6()),"string"==typeof e&&(e=JSON.parse(e)),r.X4(e,i),r.t6(),r},t.h6=function(e,r,i){if(r&&"object"==typeof r?(i=r,r=null):r&&"function"==typeof r||(r=null),r)return t.hf.fetch("string"==typeof e?e:e.root+"/"+e.Z4,function(n){if(null===n)return void r(Error("Failed to fetch file"));try{r(null,t.op(JSON.parse(n),i,e))}catch(e){r(e)}});var n=t.hf.fetch("object"==typeof e?e.root+"/"+e.Z4:e);return null===n?null:t.op(JSON.parse(n),i,e)},t}"object"==typeof e&&e&&"object"==typeof t&&t?e.t=a(r(32)):(n=[r(159)],i=a,void 0!==(s="function"==typeof i?i.apply(t,n):i)&&(e.t=s))}()}).call(t,r(58)(e))},function(e,t,r){(function(e){var n,s;/**
 * @license ByteBuffer.js (c) 2013-2014 Daniel Wirtz <dcode@dcode.io>
 * This version of ByteBuffer.js uses an ArrayBuffer as its backing buffer which is accessed through a DataView and is
 * compatible with modern browsers.
 * Released under the Apache License, Version 2.0
 * see: https://github.com/dcodeIO/ByteBuffer.js for details
 */
!function(o){"use strict";function a(e){function t(e){var t=0;return function(){return t<e.length?e.charCodeAt(t++):null}}function r(){var e=[],t=[];return function(){if(0===arguments.length)return t.join("")+a.apply(String,e);e.length+arguments.length>1024&&(t.push(a.apply(String,e)),e.length=0),Array.prototype.push.apply(e,arguments)}}var n=function(e,t,r){if(void 0===e&&(e=n.RR),void 0===t&&(t=n.bR),void 0===r&&(r=n.PR),!r){if((e|=0)<0)throw RangeError("Illegal capacity");t=!!t,r=!!r}this.buffer=0===e?o:new ArrayBuffer(e),this.view=0===e?null:new DataView(this.buffer),this.offset=0,this.AR=-1,this.CR=e,this.kR=void 0!==t&&!!t,this.OR=!!r};n.VERSION="3.5.5",n._R=!0,n.NR=!1,n.RR=16,n.bR=n.NR,n.PR=!1,n.DR=e||null;var s=n.prototype,o=new ArrayBuffer(0),a=String.fromCharCode;n.FR=function(e,t,r){return new n(e,t,r)},n.concat=function(e,t,r,i){"boolean"!=typeof t&&"string"==typeof t||(i=r,r=t,t=void 0);for(var s,o=0,a=0,h=e.length;a<h;++a)n.LR(e[a])||(e[a]=n.wrap(e[a],t)),(s=e[a].CR-e[a].offset)>0&&(o+=s);if(0===o)return new n(0,r,i);var c,u=new n(o,r,i),l=new Uint8Array(u.buffer);for(a=0;a<h;)c=e[a++],(s=c.CR-c.offset)<=0||(l.set(new Uint8Array(c.buffer).subarray(c.offset,c.CR),u.offset),u.offset+=s);return u.CR=u.offset,u.offset=0,u},n.LR=function(e){return!0===(e&&e instanceof n)},n.type=function(){return ArrayBuffer},n.wrap=function(e,t,r,o){if("string"!=typeof t&&(o=r,r=t,t=void 0),"string"==typeof e)switch(void 0===t&&(t="utf8"),t){case"base64":return n.MR(e,r);case"hex":return n.BR(e,r);case"binary":return n.UR(e,r);case"utf8":return n.xR(e,r);case"debug":return n.HR(e,r);default:throw Error("Unsupported encoding: "+t)}if(null===e||"object"!=typeof e)throw TypeError("Illegal buffer");var a;if(n.LR(e))return a=s.clone.call(e),a.AR=-1,a;if(e instanceof Uint8Array)a=new n(0,r,o),e.length>0&&(a.buffer=e.buffer,a.offset=e.byteOffset,a.CR=e.byteOffset+e.length,a.view=e.length>0?new DataView(e.buffer):null);else if(e instanceof ArrayBuffer)a=new n(0,r,o),e.byteLength>0&&(a.buffer=e,a.offset=0,a.CR=e.byteLength,a.view=e.byteLength>0?new DataView(e):null);else{if("[object Array]"!==Object.prototype.toString.call(e))throw TypeError("Illegal buffer");for(a=new n(e.length,r,o),a.CR=e.length,i=0;i<e.length;++i)a.view.setUint8(i,e[i])}return a},s.qR=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.OR){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=1;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=1,this.view.setInt8(t,e),r&&(this.offset+=1),this},s.NS=s.qR,s.VR=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.OR){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var r=this.view.getInt8(e);return t&&(this.offset+=1),r},s.rR=s.VR,s.jR=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.OR){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=1;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=1,this.view.setUint8(t,e),r&&(this.offset+=1),this},s.GR=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.OR){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var r=this.view.getUint8(e);return t&&(this.offset+=1),r},s.QR=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.OR){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=2;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=2,this.view.setInt16(t,e,this.kR),r&&(this.offset+=2),this},s.KR=s.QR,s.YR=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.OR){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+2) <= "+this.buffer.byteLength)}var r=this.view.getInt16(e,this.kR);return t&&(this.offset+=2),r},s.zR=s.YR,s.JR=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.OR){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=2;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=2,this.view.setUint16(t,e,this.kR),r&&(this.offset+=2),this},s.WR=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.OR){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+2) <= "+this.buffer.byteLength)}var r=this.view.getUint16(e,this.kR);return t&&(this.offset+=2),r},s.XR=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.OR){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=4;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=4,this.view.setInt32(t,e,this.kR),r&&(this.offset+=4),this},s.Yl=s.XR,s.ZR=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.OR){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}var r=this.view.getInt32(e,this.kR);return t&&(this.offset+=4),r},s.$l=s.ZR,s.$R=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.OR){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=4;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=4,this.view.setUint32(t,e,this.kR),r&&(this.offset+=4),this},s.eb=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.OR){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}var r=this.view.getUint32(e,this.kR);return t&&(this.offset+=4),r},e&&(s.tb=function(t,r){var i=void 0===r;if(i&&(r=this.offset),!this.OR){if("number"==typeof t)t=e.dp(t);else if("string"==typeof t)t=e.gp(t);else if(!(t&&t instanceof e))throw TypeError("Illegal value: "+t+" (not an integer or Long)");if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}"number"==typeof t?t=e.dp(t):"string"==typeof t&&(t=e.gp(t)),r+=8;var n=this.buffer.byteLength;return r>n&&this.resize((n*=2)>r?n:r),r-=8,this.kR?(this.view.setInt32(r,t.low,!0),this.view.setInt32(r+4,t.high,!0)):(this.view.setInt32(r,t.high,!1),this.view.setInt32(r+4,t.low,!1)),i&&(this.offset+=8),this},s.rb=s.tb,s.ib=function(t){var r=void 0===t;if(r&&(t=this.offset),!this.OR){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+8) <= "+this.buffer.byteLength)}var i=this.kR?new e(this.view.getInt32(t,!0),this.view.getInt32(t+4,!0),!1):new e(this.view.getInt32(t+4,!1),this.view.getInt32(t,!1),!1);return r&&(this.offset+=8),i},s.nb=s.ib,s.sb=function(t,r){var i=void 0===r;if(i&&(r=this.offset),!this.OR){if("number"==typeof t)t=e.dp(t);else if("string"==typeof t)t=e.gp(t);else if(!(t&&t instanceof e))throw TypeError("Illegal value: "+t+" (not an integer or Long)");if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}"number"==typeof t?t=e.dp(t):"string"==typeof t&&(t=e.gp(t)),r+=8;var n=this.buffer.byteLength;return r>n&&this.resize((n*=2)>r?n:r),r-=8,this.kR?(this.view.setInt32(r,t.low,!0),this.view.setInt32(r+4,t.high,!0)):(this.view.setInt32(r,t.high,!1),this.view.setInt32(r+4,t.low,!1)),i&&(this.offset+=8),this},s.ob=function(t){var r=void 0===t;if(r&&(t=this.offset),!this.OR){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+8) <= "+this.buffer.byteLength)}var i=this.kR?new e(this.view.getInt32(t,!0),this.view.getInt32(t+4,!0),!0):new e(this.view.getInt32(t+4,!1),this.view.getInt32(t,!1),!0);return r&&(this.offset+=8),i}),s.ab=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.OR){if("number"!=typeof e)throw TypeError("Illegal value: "+e+" (not a number)");if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=4;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=4,this.view.setFloat32(t,e,this.kR),r&&(this.offset+=4),this},s.hb=s.ab,s.cb=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.OR){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}var r=this.view.getFloat32(e,this.kR);return t&&(this.offset+=4),r},s.ub=s.cb,s.lb=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.OR){if("number"!=typeof e)throw TypeError("Illegal value: "+e+" (not a number)");if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=8;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=8,this.view.setFloat64(t,e,this.kR),r&&(this.offset+=8),this},s.LS=s.lb,s.pb=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.OR){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+8) <= "+this.buffer.byteLength)}var r=this.view.getFloat64(e,this.kR);return t&&(this.offset+=8),r},s.sR=s.pb,n.fb=5,n.gb=function(e){return e>>>=0,e<128?1:e<16384?2:e<1<<21?3:e<1<<28?4:5},n.vb=function(e){return((e|=0)<<1^e>>31)>>>0},n.yb=function(e){return e>>>1^-(1&e)|0},s.mb=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.OR){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}var i,s=n.gb(e);t+=s;var o=this.buffer.byteLength;return t>o&&this.resize((o*=2)>t?o:t),t-=s,this.view.setUint8(t,i=128|e),e>>>=0,e>=128?(i=e>>7|128,this.view.setUint8(t+1,i),e>=16384?(i=e>>14|128,this.view.setUint8(t+2,i),e>=1<<21?(i=e>>21|128,this.view.setUint8(t+3,i),e>=1<<28?(this.view.setUint8(t+4,e>>28&15),s=5):(this.view.setUint8(t+3,127&i),s=4)):(this.view.setUint8(t+2,127&i),s=3)):(this.view.setUint8(t+1,127&i),s=2)):(this.view.setUint8(t,127&i),s=1),r?(this.offset+=s,this):s},s.Eb=function(e,t){return this.mb(n.vb(e),t)},s.Tb=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.OR){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var r,i,n=0,s=0;do{if(i=e+n,!this.OR&&i>this.CR){var o=Error("Truncated");throw o.Ib=!0,o}r=this.view.getUint8(i),n<5&&(s|=(127&r)<<7*n>>>0),++n}while(128==(128&r));return s|=0,t?(this.offset+=n,s):{value:s,length:n}},s.wb=function(e){var t=this.Tb(e);return"object"==typeof t?t.value=n.yb(t.value):t=n.yb(t),t},e&&(n.Sb=10,n.Rb=function(t){"number"==typeof t?t=e.dp(t):"string"==typeof t&&(t=e.gp(t));var r=t.bb()>>>0,i=t.Pb(28).bb()>>>0,n=t.Pb(56).bb()>>>0;return 0==n?0==i?r<16384?r<128?1:2:r<1<<21?3:4:i<16384?i<128?5:6:i<1<<21?7:8:n<128?9:10},n.Ab=function(t){return"number"==typeof t?t=e.dp(t,!1):"string"==typeof t?t=e.gp(t,!1):!1!==t.Cb&&(t=t.kb()),t.shiftLeft(1).zd(t._b(63)).Ob()},n.Nb=function(t){return"number"==typeof t?t=e.dp(t,!1):"string"==typeof t?t=e.gp(t,!1):!1!==t.Cb&&(t=t.kb()),t.Pb(1).zd(t.Db(e.ONE).kb().Rp()).kb()},s.Fb=function(t,r){var i=void 0===r;if(i&&(r=this.offset),!this.OR){if("number"==typeof t)t=e.dp(t);else if("string"==typeof t)t=e.gp(t);else if(!(t&&t instanceof e))throw TypeError("Illegal value: "+t+" (not an integer or Long)");if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}"number"==typeof t?t=e.dp(t,!1):"string"==typeof t?t=e.gp(t,!1):!1!==t.Cb&&(t=t.kb());var s=n.Rb(t),o=t.bb()>>>0,a=t.Pb(28).bb()>>>0,h=t.Pb(56).bb()>>>0;r+=s;var c=this.buffer.byteLength;switch(r>c&&this.resize((c*=2)>r?c:r),r-=s,s){case 10:this.view.setUint8(r+9,h>>>7&1);case 9:this.view.setUint8(r+8,9!==s?128|h:127&h);case 8:this.view.setUint8(r+7,8!==s?a>>>21|128:a>>>21&127);case 7:this.view.setUint8(r+6,7!==s?a>>>14|128:a>>>14&127);case 6:this.view.setUint8(r+5,6!==s?a>>>7|128:a>>>7&127);case 5:this.view.setUint8(r+4,5!==s?128|a:127&a);case 4:this.view.setUint8(r+3,4!==s?o>>>21|128:o>>>21&127);case 3:this.view.setUint8(r+2,3!==s?o>>>14|128:o>>>14&127);case 2:this.view.setUint8(r+1,2!==s?o>>>7|128:o>>>7&127);case 1:this.view.setUint8(r,1!==s?128|o:127&o)}return i?(this.offset+=s,this):s},s.Lb=function(e,t){return this.Fb(n.Ab(e),t)},s.Mb=function(t){var r=void 0===t;if(r&&(t=this.offset),!this.OR){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var i=t,n=0,s=0,o=0,a=0;if(a=this.view.getUint8(t++),n=127&a,128&a&&(a=this.view.getUint8(t++),n|=(127&a)<<7,128&a&&(a=this.view.getUint8(t++),n|=(127&a)<<14,128&a&&(a=this.view.getUint8(t++),n|=(127&a)<<21,128&a&&(a=this.view.getUint8(t++),s=127&a,128&a&&(a=this.view.getUint8(t++),s|=(127&a)<<7,128&a&&(a=this.view.getUint8(t++),s|=(127&a)<<14,128&a&&(a=this.view.getUint8(t++),s|=(127&a)<<21,128&a&&(a=this.view.getUint8(t++),o=127&a,128&a&&(a=this.view.getUint8(t++),o|=(127&a)<<7,128&a))))))))))throw Error("Buffer overrun");var h=e.Ay(n|s<<28,s>>>4|o<<24,!1);return r?(this.offset=t,h):{value:h,length:t-i}},s.Bb=function(t){var r=this.Mb(t);return r&&r.value instanceof e?r.value=n.Nb(r.value):r=n.Nb(r),r}),s.zl=function(e,r){var i=void 0===r;i&&(r=this.offset);var n,s=e.length;if(!this.OR){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");for(n=0;n<s;++n)if(0===e.charCodeAt(n))throw RangeError("Illegal str: Contains NULL-characters");if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}s=c.Ub(t(e))[1],r+=s+1;var o=this.buffer.byteLength;return r>o&&this.resize((o*=2)>r?o:r),r-=s+1,c.xb(t(e),function(e){this.view.setUint8(r++,e)}.bind(this)),this.view.setUint8(r++,0),i?(this.offset=r,this):s},s.tp=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.OR){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var i,n=e,s=-1;return c.Hb(function(){if(0===s)return null;if(e>=this.CR)throw RangeError("Illegal range: Truncated data, "+e+" < "+this.CR);return 0===(s=this.view.getUint8(e++))?null:s}.bind(this),i=r(),!0),t?(this.offset=e,i()):{qb:i(),length:e-n}},s.Vb=function(e,r){var i=void 0===r;if(i&&(r=this.offset),!this.OR){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}var n,s=r;n=c.Ub(t(e),this.OR)[1],r+=4+n;var o=this.buffer.byteLength;if(r>o&&this.resize((o*=2)>r?o:r),r-=4+n,this.view.setUint32(r,n,this.kR),r+=4,c.xb(t(e),function(e){this.view.setUint8(r++,e)}.bind(this)),r!==s+4+n)throw RangeError("Illegal range: Truncated data, "+r+" == "+(r+4+n));return i?(this.offset=r,this):r-s},s.jb=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.OR){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}var i,n=0,s=e;n=this.view.getUint32(e,this.kR),e+=4;var o,a=e+n;return c.Hb(function(){return e<a?this.view.getUint8(e++):null}.bind(this),o=r(),this.OR),i=o(),t?(this.offset=e,i):{qb:i,length:e-s}},n.Gb="c",n.Qb="b",s.Kb=function(e,r){var i=void 0===r;if(i&&(r=this.offset),!this.OR){if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}var n,s=r;n=c.Ub(t(e))[1],r+=n;var o=this.buffer.byteLength;return r>o&&this.resize((o*=2)>r?o:r),r-=n,c.xb(t(e),function(e){this.view.setUint8(r++,e)}.bind(this)),i?(this.offset=r,this):r-s},s.Tw=s.Kb,n.Yb=function(e){return c.Ub(t(e))[0]},n.zb=function(e){return c.Ub(t(e))[1]},s.Jb=function(e,t,i){"number"==typeof t&&(i=t,t=void 0);var s=void 0===i;if(s&&(i=this.offset),void 0===t&&(t=n.Gb),!this.OR){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal length: "+e+" (not an integer)");if(e|=0,"number"!=typeof i||i%1!=0)throw TypeError("Illegal offset: "+i+" (not an integer)");if((i>>>=0)<0||i+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+0) <= "+this.buffer.byteLength)}var o,a=0,h=i;if(t===n.Gb){if(o=r(),c.Wb(function(){return a<e&&i<this.CR?this.view.getUint8(i++):null}.bind(this),function(e){++a,c.Xb(e,o)}.bind(this)),a!==e)throw RangeError("Illegal range: Truncated data, "+a+" == "+e);return s?(this.offset=i,o()):{qb:o(),length:i-h}}if(t===n.Qb){if(!this.OR){if("number"!=typeof i||i%1!=0)throw TypeError("Illegal offset: "+i+" (not an integer)");if((i>>>=0)<0||i+e>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+"+e+") <= "+this.buffer.byteLength)}var u=i+e;if(c.Hb(function(){return i<u?this.view.getUint8(i++):null}.bind(this),o=r(),this.OR),i!==u)throw RangeError("Illegal range: Truncated data, "+i+" == "+u);return s?(this.offset=i,o()):{qb:o(),length:i-h}}throw TypeError("Unsupported metrics: "+t)},s.fw=s.Jb,s.Zb=function(e,r){var i=void 0===r;if(i&&(r=this.offset),!this.OR){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}var s,o,a=r;s=c.Ub(t(e),this.OR)[1],o=n.gb(s),r+=o+s;var h=this.buffer.byteLength;if(r>h&&this.resize((h*=2)>r?h:r),r-=o+s,r+=this.mb(s,r),c.xb(t(e),function(e){this.view.setUint8(r++,e)}.bind(this)),r!==a+s+o)throw RangeError("Illegal range: Truncated data, "+r+" == "+(r+s+o));return i?(this.offset=r,this):r-a},s.$b=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.OR){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var i,n=this.Tb(e),s=e;e+=n.length,n=n.value;var o=e+n,a=r();return c.Hb(function(){return e<o?this.view.getUint8(e++):null}.bind(this),a,this.OR),i=a(),t?(this.offset=e,i):{qb:i,length:e-s}},s.append=function(e,t,r){"number"!=typeof t&&"string"==typeof t||(r=t,t=void 0);var i=void 0===r;if(i&&(r=this.offset),!this.OR){if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}e instanceof n||(e=n.wrap(e,t));var s=e.CR-e.offset;if(s<=0)return this;r+=s;var o=this.buffer.byteLength;return r>o&&this.resize((o*=2)>r?o:r),r-=s,new Uint8Array(this.buffer,r).set(new Uint8Array(e.buffer).subarray(e.offset,e.CR)),e.offset+=s,i&&(this.offset+=s),this},s.eP=function(e,t){return e.append(this,t),this},s.assert=function(e){return this.OR=!e,this},s.tP=function(){return this.buffer.byteLength},s.clear=function(){return this.offset=0,this.CR=this.buffer.byteLength,this.AR=-1,this},s.clone=function(e){var t=new n(0,this.kR,this.OR);if(e){var r=new ArrayBuffer(this.buffer.byteLength);new Uint8Array(r).set(this.buffer),t.buffer=r,t.view=new DataView(r)}else t.buffer=this.buffer,t.view=this.view;return t.offset=this.offset,t.AR=this.AR,t.CR=this.CR,t},s.compact=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.CR),!this.OR){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}if(0===e&&t===this.buffer.byteLength)return this;var r=t-e;if(0===r)return this.buffer=o,this.view=null,this.AR>=0&&(this.AR-=e),this.offset=0,this.CR=0,this;var i=new ArrayBuffer(r);return new Uint8Array(i).set(new Uint8Array(this.buffer).subarray(e,t)),this.buffer=i,this.view=new DataView(i),this.AR>=0&&(this.AR-=e),this.offset=0,this.CR=r,this},s.rP=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.CR),!this.OR){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}if(e===t)return new n(0,this.kR,this.OR);var r=t-e,i=new n(r,this.kR,this.OR);return i.offset=0,i.CR=r,i.AR>=0&&(i.AR-=e),this.Ap(i,0,e,t),i},s.Ap=function(e,t,r,i){var s,o;if(!this.OR&&!n.LR(e))throw TypeError("Illegal target: Not a ByteBuffer");if(t=(o=void 0===t)?e.offset:0|t,r=(s=void 0===r)?this.offset:0|r,i=void 0===i?this.CR:0|i,t<0||t>e.buffer.byteLength)throw RangeError("Illegal target range: 0 <= "+t+" <= "+e.buffer.byteLength);if(r<0||i>this.buffer.byteLength)throw RangeError("Illegal source range: 0 <= "+r+" <= "+this.buffer.byteLength);var a=i-r;return 0===a?e:(e.iP(t+a),new Uint8Array(e.buffer).set(new Uint8Array(this.buffer).subarray(r,i),t),s&&(this.offset+=a),o&&(e.offset+=a),this)},s.iP=function(e){var t=this.buffer.byteLength;return t<e?this.resize((t*=2)>e?t:e):this},s.fill=function(e,t,r){var i=void 0===t;if(i&&(t=this.offset),"string"==typeof e&&e.length>0&&(e=e.charCodeAt(0)),void 0===t&&(t=this.offset),void 0===r&&(r=this.CR),!this.OR){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof r||r%1!=0)throw TypeError("Illegal end: Not an integer");if(r>>>=0,t<0||t>r||r>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+r+" <= "+this.buffer.byteLength)}if(t>=r)return this;for(;t<r;)this.view.setUint8(t++,e);return i&&(this.offset=t),this},s.Jl=function(){return this.CR=this.offset,this.offset=0,this},s.mark=function(e){if(e=void 0===e?this.offset:e,!this.OR){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}return this.AR=e,this},s.order=function(e){if(!this.OR&&"boolean"!=typeof e)throw TypeError("Illegal littleEndian: Not a boolean");return this.kR=!!e,this},s.nP=function(e){return this.kR=void 0===e||!!e,this},s.sP=function(e){return this.kR=void 0!==e&&!e,this},s.oP=function(e,t,r){"number"!=typeof t&&"string"==typeof t||(r=t,t=void 0);var i=void 0===r;if(i&&(r=this.offset),!this.OR){if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}e instanceof n||(e=n.wrap(e,t));var s=e.CR-e.offset;if(s<=0)return this;var o,a=s-r;if(a>0){var h=new ArrayBuffer(this.buffer.byteLength+a);o=new Uint8Array(h),o.set(new Uint8Array(this.buffer).subarray(r,this.buffer.byteLength),s),this.buffer=h,this.view=new DataView(h),this.offset+=a,this.AR>=0&&(this.AR+=a),this.CR+=a,r+=a}else o=new Uint8Array(this.buffer);return o.set(new Uint8Array(e.buffer).subarray(e.offset,e.CR),r-s),e.offset=e.CR,i&&(this.offset-=s),this},s.aP=function(e,t){return e.oP(this,t),this},s.hP=function(e){"function"!=typeof e&&(e=console.log.bind(console)),e(this.toString()+"\n-------------------------------------------------------------------\n"+this.cP(!0))},s.uP=function(){return this.CR-this.offset},s.reset=function(){return this.AR>=0?(this.offset=this.AR,this.AR=-1):this.offset=0,this},s.resize=function(e){if(!this.OR){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal capacity: "+e+" (not an integer)");if((e|=0)<0)throw RangeError("Illegal capacity: 0 <= "+e)}if(this.buffer.byteLength<e){var t=new ArrayBuffer(e);new Uint8Array(t).set(new Uint8Array(this.buffer)),this.buffer=t,this.view=new DataView(t)}return this},s.reverse=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.CR),!this.OR){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}return e===t?this:(Array.prototype.reverse.call(new Uint8Array(this.buffer).subarray(e,t)),this.view=new DataView(this.buffer),this)},s.dw=function(e){if(!this.OR){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal length: "+e+" (not an integer)");e|=0}var t=this.offset+e;if(!this.OR&&(t<0||t>this.buffer.byteLength))throw RangeError("Illegal length: 0 <= "+this.offset+" + "+e+" <= "+this.buffer.byteLength);return this.offset=t,this},s.slice=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.CR),!this.OR){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}var r=this.clone();return r.offset=e,r.CR=t,r},s.lP=function(e){var t=this.offset,r=this.CR;if(t>r){var i=t;t=r,r=i}if(!this.OR){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: Not an integer");if(t>>>=0,"number"!=typeof r||r%1!=0)throw TypeError("Illegal limit: Not an integer");if(r>>>=0,t<0||t>r||r>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+r+" <= "+this.buffer.byteLength)}if(!e&&0===t&&r===this.buffer.byteLength)return this.buffer;if(t===r)return o;var n=new ArrayBuffer(r-t);return new Uint8Array(n).set(new Uint8Array(this.buffer).subarray(t,r),0),n},s.pn=s.lP,s.toString=function(e,t,r){if(void 0===e)return"ByteBufferAB(offset="+this.offset+",markedOffset="+this.AR+",limit="+this.CR+",capacity="+this.tP()+")";switch("number"==typeof e&&(e="utf8",t=e,r=t),e){case"utf8":return this.pP(t,r);case"base64":return this.fP(t,r);case"hex":return this.dP(t,r);case"binary":return this.gP(t,r);case"debug":return this.cP();case"columns":return this.vP();default:throw Error("Unsupported encoding: "+e)}};var h=function(){for(var e={},t=[65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,48,49,50,51,52,53,54,55,56,57,43,47],r=[],i=0,n=t.length;i<n;++i)r[t[i]]=i;return e.encode=function(e,r){for(var i,n;null!==(i=e());)r(t[i>>2&63]),n=(3&i)<<4,null!==(i=e())?(n|=i>>4&15,r(t[63&(n|i>>4&15)]),n=(15&i)<<2,null!==(i=e())?(r(t[63&(n|i>>6&3)]),r(t[63&i])):(r(t[63&n]),r(61))):(r(t[63&n]),r(61),r(61))},e.decode=function(e,t){function i(e){throw Error("Illegal character code: "+e)}for(var n,s,o;null!==(n=e());)if(s=r[n],void 0===s&&i(n),null!==(n=e())&&(o=r[n],void 0===o&&i(n),t(s<<2>>>0|(48&o)>>4),null!==(n=e()))){if(void 0===(s=r[n])){if(61===n)break;i(n)}if(t((15&o)<<4>>>0|(60&s)>>2),null!==(n=e())){if(void 0===(o=r[n])){if(61===n)break;i(n)}t((3&s)<<6>>>0|o)}}},e.test=function(e){return/^(?:[A-Za-z0-9+\/]{4})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(e)},e}();s.fP=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.CR),!this.OR){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}var i;return h.encode(function(){return e<t?this.view.getUint8(e++):null}.bind(this),i=r()),i()},n.MR=function(e,r,i){if(!i){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");if(e.length%4!=0)throw TypeError("Illegal str: Length not a multiple of 4")}var s=new n(e.length/4*3,r,i),o=0;return h.decode(t(e),function(e){s.view.setUint8(o++,e)}),s.CR=o,s},n.btoa=function(e){return n.UR(e).fP()},n.atob=function(e){return n.MR(e).gP()},s.gP=function(e,t){if(e=void 0===e?this.offset:e,t=void 0===t?this.CR:t,!this.OR){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}if(e===t)return"";for(var r=[],i=[];e<t;)r.push(this.view.getUint8(e++)),r.length>=1024&&(i.push(String.fromCharCode.apply(String,r)),r=[]);return i.join("")+String.fromCharCode.apply(String,r)},n.UR=function(e,t,r){if(!r&&"string"!=typeof e)throw TypeError("Illegal str: Not a string");for(var i,s=0,o=e.length,a=new n(o,t,r);s<o;){if(i=e.charCodeAt(s),!r&&i>255)throw RangeError("Illegal charCode at "+s+": 0 <= "+i+" <= 255");a.view.setUint8(s++,i)}return a.CR=o,a},s.cP=function(e){for(var t,r=-1,i=this.buffer.byteLength,n="",s="",o="";r<i;){if(-1!==r&&(t=this.view.getUint8(r),n+=t<16?"0"+t.toString(16).toUpperCase():t.toString(16).toUpperCase(),e&&(s+=t>32&&t<127?String.fromCharCode(t):".")),++r,e&&r>0&&r%16==0&&r!==i){for(;n.length<51;)n+=" ";o+=n+s+"\n",n=s=""}r===this.offset&&r===this.CR?n+=r===this.AR?"!":"|":r===this.offset?n+=r===this.AR?"[":"<":r===this.CR?n+=r===this.AR?"]":">":n+=r===this.AR?"'":e||0!==r&&r!==i?" ":""}if(e&&" "!==n){for(;n.length<51;)n+=" ";o+=n+s+"\n"}return e?o:n},n.HR=function(e,t,r){for(var i,s,o=e.length,a=new n((o+1)/3|0,t,r),h=0,c=0,u=!1,l=!1,p=!1,f=!1,d=!1;h<o;){switch(i=e.charAt(h++)){case"!":if(!r){if(l||p||f){d=!0;break}l=p=f=!0}a.offset=a.AR=a.CR=c,u=!1;break;case"|":if(!r){if(l||f){d=!0;break}l=f=!0}a.offset=a.CR=c,u=!1;break;case"[":if(!r){if(l||p){d=!0;break}l=p=!0}a.offset=a.AR=c,u=!1;break;case"<":if(!r){if(l){d=!0;break}l=!0}a.offset=c,u=!1;break;case"]":if(!r){if(f||p){d=!0;break}f=p=!0}a.CR=a.AR=c,u=!1;break;case">":if(!r){if(f){d=!0;break}f=!0}a.CR=c,u=!1;break;case"'":if(!r){if(p){d=!0;break}p=!0}a.AR=c,u=!1;break;case" ":u=!1;break;default:if(!r&&u){d=!0;break}if(s=parseInt(i+e.charAt(h++),16),!r&&(isNaN(s)||s<0||s>255))throw TypeError("Illegal str: Not a debug encoded string");a.view.setUint8(c++,s),u=!0}if(d)throw TypeError("Illegal str: Invalid symbol at "+h)}if(!r){if(!l||!f)throw TypeError("Illegal str: Missing offset or limit");if(c<a.buffer.byteLength)throw TypeError("Illegal str: Not a debug encoded string (is it hex?) "+c+" < "+o)}return a},s.dP=function(e,t){if(e=void 0===e?this.offset:e,t=void 0===t?this.CR:t,!this.OR){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}for(var r,i=new Array(t-e);e<t;)r=this.view.getUint8(e++),r<16?i.push("0",r.toString(16)):i.push(r.toString(16));return i.join("")},n.BR=function(e,t,r){if(!r){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");if(e.length%2!=0)throw TypeError("Illegal str: Length not a multiple of 2")}for(var i,s=e.length,o=new n(s/2|0,t),a=0,h=0;a<s;a+=2){if(i=parseInt(e.substring(a,a+2),16),!r&&(!isFinite(i)||i<0||i>255))throw TypeError("Illegal str: Contains non-hex characters");o.view.setUint8(h++,i)}return o.CR=h,o};var c=function(){var e={};return e.yP=1114111,e.mP=function(e,t){var r=null;for("number"==typeof e&&(r=e,e=function(){return null});null!==r||null!==(r=e());)r<128?t(127&r):r<2048?(t(r>>6&31|192),t(63&r|128)):r<65536?(t(r>>12&15|224),t(r>>6&63|128),t(63&r|128)):(t(r>>18&7|240),t(r>>12&63|128),t(r>>6&63|128),t(63&r|128)),r=null},e.Wb=function(e,t){for(var r,i,n,s,o=function(e){e=e.slice(0,e.indexOf(null));var t=Error(e.toString());throw t.name="TruncatedError",t.Hn=e,t};null!==(r=e());)if(0==(128&r))t(r);else if(192==(224&r))null===(i=e())&&o([r,i]),t((31&r)<<6|63&i);else if(224==(240&r))(null===(i=e())||null===(n=e()))&&o([r,i,n]),t((15&r)<<12|(63&i)<<6|63&n);else{if(240!=(248&r))throw RangeError("Illegal starting byte: "+r);(null===(i=e())||null===(n=e())||null===(s=e()))&&o([r,i,n,s]),t((7&r)<<18|(63&i)<<12|(63&n)<<6|63&s)}},e.EP=function(e,t){for(var r,i=null;;){if(null===(r=null!==i?i:e()))break;r>=55296&&r<=57343&&null!==(i=e())&&i>=56320&&i<=57343?(t(1024*(r-55296)+i-56320+65536),i=null):t(r)}null!==i&&t(i)},e.Xb=function(e,t){var r=null;for("number"==typeof e&&(r=e,e=function(){return null});null!==r||null!==(r=e());)r<=65535?t(r):(r-=65536,t(55296+(r>>10)),t(r%1024+56320)),r=null},e.xb=function(t,r){e.EP(t,function(t){e.mP(t,r)})},e.Hb=function(t,r){e.Wb(t,function(t){e.Xb(t,r)})},e.TP=function(e){return e<128?1:e<2048?2:e<65536?3:4},e.IP=function(t){for(var r,i=0;null!==(r=t());)i+=e.TP(r);return i},e.Ub=function(t){var r=0,i=0;return e.EP(t,function(t){++r,i+=e.TP(t)}),[r,i]},e}();return s.pP=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.CR),!this.OR){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}var i;try{c.Hb(function(){return e<t?this.view.getUint8(e++):null}.bind(this),i=r())}catch(r){if(e!==t)throw RangeError("Illegal range: Truncated data, "+e+" != "+t)}return i()},n.xR=function(e,r,i){if(!i&&"string"!=typeof e)throw TypeError("Illegal str: Not a string");var s=new n(c.Ub(t(e),!0)[1],r,i),o=0;return c.xb(t(e),function(e){s.view.setUint8(o++,e)}),s.CR=o,s},n}"object"==typeof e&&e&&"object"==typeof t&&t?e.t=function(){var e;try{e=r(90)}catch(e){}return a(e)}():(n=[r(91)],void 0!==(s=function(e){return a(e)}.apply(t,n))&&(e.t=s))}()}).call(t,r(58)(e))},function(e,t,r){"use strict";var i=r(2),n=r(0),s=r(23),o=r(43),a=r(161),h=r(5),c=r(4),u=h.Rt.Ni,l=h.Rt.Ci,p=function(){function e(e,t,r,i){this.te=n.Framework.resolve(n.Framework.q.I).log(e.sessionId),this.mn="S["+e.sessionId+"]",this.Ol=t,this._l=r,this.swarmId=e.swarmId,this.Pl=i,this.receiver=new a.c6(t,r,e),this.sender=new a.u6(t,r,e,this),this.IC=e.IC,this.SC=e.SC,this.Jz=e.Jz,(l||n.Framework.S()&&o.iC.tC)&&(this.$z=e.$z)}return e.prototype.ql=function(){return this.sender.ql()||this.receiver.ql()},e.prototype.close=function(){var e=this,t=i.defer();return this.sender.l6().then(function(r){e.receiver.close(r).then(function(r){e.Hq(r).then(function(r){e.Pl.close(r).then(function(e){t.resolve(e)})})})}),t.Te},e.prototype.Hq=function(e){this.te.debug("SEND CLOSE TO "+this._l);var t=new s.mu.Mr.np.ll;return t.p6(e),this.jl(s.mu.Rl.ll,t),i(this.swarmId)},e.prototype.Ae=function(e){try{switch(u&&this.te.debug("DISPATCH "+e.msgId),e.msgId){case s.mu.Rl.hl:var t=s.mu.Mr.np.hl.decode(e.rp);this.receiver.f6(t);break;case s.mu.Rl.ul:var r=s.mu.Mr.np.ul.decode(e.rp);this.sender.d6(r.g6);break;case s.mu.Rl.cl:var i=s.mu.Mr.np.cl.decode(e.rp);this.sender.v6(i.g6);break;case s.mu.Rl.fl:u&&this.te.debug("RECEIVED OUT PART,DECODING ");var n=s.mu.Mr.np.vV.decode(e.rp);u&&this.te.debug("RECEIVED OUT PART FROM "+n.guid),this.SC.jq(n,this.Pl);break;case s.mu.Rl.dl:u&&this.te.debug("RECEIVED OUT PART RESP ");var o=s.mu.Mr.np.rV.decode(e.rp);u&&this.te.debug("RECEIVED OUT PART RESP FROM "+o.accept),this.SC.mV(o,this.Pl);break;case s.mu.Rl.al:var a=s.mu.Mr.np.al.decode(e.rp);u&&this.te.debug("RECEIVED HAVE FOR "+a.mN+" FROM "+this._l),this.SC.y6(this._l,a);break;case s.mu.Rl.ll:var h=s.mu.Mr.np.ll.decode(e.rp);u&&this.te.debug("RECEIVED CLOSE FROM "+this._l),this.SC.gV(this._l,h);break;case s.mu.Rl.Request:var l=s.mu.Mr.np.Request.decode(e.rp);u&&this.te.debug("RECEIVED REQUEST FOR "+l.mN+" FROM "+this._l),this.Jz.Y_(this._l,l,this);break;case s.mu.Rl.pl:var p=s.mu.Mr.np.pl.decode(e.rp);u&&this.te.debug("DoNotHave "+p.g6),this.IC.m6(p);break;case s.mu.Rl.gl:var f=s.mu.Mr.np.Ox.decode(e.rp);u&&this.te.debug("UDP HANDSHAKE MESSAGE RECEIVED FROM "+f.Ck),this.$z.Mx(f,this.Pl);break;case s.mu.Rl.vl:var d=s.mu.Mr.np.vl.decode(e.rp);u&&this.te.debug("UDP HANDSHAKE MESSAGE RESPONSE RECEIVED FROM "+this._l),this.$z.Lx(d,this.Pl);break;case s.mu.Rl.yl:var g=s.mu.Mr.np.yl.decode(e.rp);u&&this.te.debug("SWITCH LEADERSHIP REQUEST RECEIVED FROM "+this._l),this.$z.Xx(g);break;case s.mu.Rl.ml:var v=s.mu.Mr.np.tH.decode(e.rp);u&&this.te.debug("UDP SWITCH ACKNOWLEDGMENT RESPONSE FROM "+this._l),this.$z.nH(v,this._l);break;case s.mu.Rl.El:var y=s.mu.Mr.np.El.decode(e.rp);u&&this.te.debug("BITRATE INFO "+y.bitrate+" FROM "+y.guid),this.SC.IV(y);break;case s.mu.Rl.Tl:var m=s.mu.Mr.np.Tl.decode(e.rp);u&&this.te.debug("RECEIVED BATCH HAVES FOR FROM "+this._l),this.SC.E6(this._l,m);break;case s.mu.Rl.hh:var E=s.mu.Mr.np.OV.decode(e.rp);u&&this.te.debug("RECEIVED PEER INFO FROM "+this._l),this.SC.bV(E);break;case s.mu.Rl.Il:var T=s.mu.Mr.np.Il.decode(e.rp);u&&this.te.debug("RECEIVED PING FROM "+this._l),this.SC.T6(T);break;case s.mu.Rl.wl:var I=s.mu.Mr.np.wl.decode(e.rp);u&&this.te.debug("RECEIVED PONG FROM "+this._l),this.SC.I6(I);break;case s.mu.Rl.Sl:var w=s.mu.Mr.np.w6.decode(e.rp);u&&this.te.debug("RECEIVED NON PARTNER MESSAGE FROM "+this._l),this.IC.S6(this._l,w);break;default:this.te.warn("UNKNOWN MESSAGE TYPE "+e.msgId)}}catch(e){c.ErrorMonitor.gi().di("P2P DISPATCHER ERROR",this.mn,e)}},e.prototype.jl=function(e,t){this.Pl.jl(e,this.swarmId,t)},e}();t.kl=p},function(e,t,r){"use strict";var i=r(44),n=r(32),s=r(2),o=r(23),a=r(0),h=r(6),c=r(162),u=r(3),l=r(92),p=r(4),f=function(){function e(e,t,r){this.R6=new i,this.b6=new i,this.P6=null,this.ol=o.mu.ol,this.Ol=e,this._l=t,this.IC=r.IC,this.wC=r.wC,this.Hl=a.Framework.resolve(a.Framework.q.F),this.te=a.Framework.resolve(a.Framework.q.I).log(r.sessionId),this.mn="S["+r.sessionId+"]"}return e.prototype.uV=function(e){this.A6=e},e.prototype.ql=function(){return!(0===this.R6.keys().length&&null===this.P6)},e.prototype.C6=function(e){var t=new o.mu.Mr.np.Request;t.mN=e.zu(),t.g6=e.Fk,this.ol&&this.te.debug("INITIATING TR-"+e.Fk+" TIMEOUT: "+e.k6+" FRAGMENT: "+e.zu()+" FROM: "+this._l),this.R6.set(e.Fk,e),this.b6.set(e.Fk,a.Framework.time()),e.KU.qq.jl(o.mu.Rl.Request,t)},e.prototype.f6=function(e){var t=e.g6,r=e.data.lP(),i=e.O6,n=e.tx,s=e.headers;if(this.ol&&this.te.debug("RCV Chunk "+r.byteLength),!this.R6.has(t))return void this.te.warn("Received chunk of expired transfer id "+t);null==this.P6?(this.ol&&this.te.debug("INITIATED TR-"+t+",SIZE="+n),this.P6=this.R6.get(t),this.P6.Fk=t,this._6(t,this.P6.KU),null!=s?this.P6.xu=s:this.te.warn("HEADERS NULL IN FIRST CHUNK"),this.IC.F0(this._l,this.P6,i,n),this.P6.qu=i,a.Framework.S()||(this.P6.Hu=r)):(this._6(t,this.P6.KU),this.P6.qu+=i,a.Framework.S()||(this.P6.Hu=h.fn.appendBuffer(this.P6.Hu,r)));var o=a.Framework.S()?this.P6.qu:this.P6.Hu.byteLength;if(this.ol&&this.te.debug("RECEIVED "+o+"/"+n+" TRID "+t),o==n){this.ol&&this.te.debug("RCV ALL DATA "+o+" TR-"+this.P6.ju),this.P6.Mu.Ru=o,a.Framework.clearTimeout(this.P6.Fx),this.R6.delete(t);var c=a.Framework.time()-this.b6.get(t);this.te.debug("RCV ALL DATA FROM "+this._l+" AFTER "+c+" mseconds"),this.b6.delete(t),this.IC.HC(t,this.P6),this.P6=null}},e.prototype._6=function(e,t){this.ol&&this.te.debug("SEND ACK "+e+" TO "+this._l);var r=new o.mu.Mr.np.ul;r.g6=e,t.qq.jl(o.mu.Rl.ul,r)},e.prototype.close=function(e){var t=this,r=s.defer();return null!=this.P6&&this.N6(this.P6.Fk),this.R6.keys().slice().forEach(function(e){t.N6(e)}),r.resolve(l.rq.nx),r.Te},e.prototype.N6=function(e){if(this.R6.has(e)){var t=this.R6.get(e);t.Mu.Ru=t.qu,this.te.debug("SEND CANCEL FOR "+e+" TO "+this._l),this.b6.delete(e);var r=new o.mu.Mr.np.cl;r.g6=e,t.KU.qq.jl(o.mu.Rl.cl,r),null!==this.P6&&this.P6.Ju()===t.Ju()&&(this.P6=null),this.R6.delete(e)}else this.te.warn("CLEAN UP NOT PENDING "+e)},e}();t.c6=f;var d=function(){function e(e,t,r,n){this.ol=o.mu.ol,this.D6=null,this.F6=new Array,this.L6=new i,this.M6=0,this.close=null,this.Ol=e,this._l=t,this.B6=r.Jz,this.qq=n,this.bC=r.bC,this.te=a.Framework.resolve(a.Framework.q.I).log(r.sessionId),this.mn="S["+r.sessionId+"]",this.Hl=a.Framework.resolve(a.Framework.q.F)}return e.prototype.uV=function(e){this.A6=e},e.prototype.U6=function(e,t,r,i,n){var s=this;this.ol&&this.te.info("SEND FRAGMENT "+e+" TO "+this._l);var o=new c.x6;o.g6=t,o.mN=e,o.H6=n,o.headers=i,o.q6=r,o.V6=Math.ceil(o.q6/u.ni.Mr.Nr),o.j6=0,this.F6.push(o),this.ol&&this.F6.forEach(function(e){s.te.debug(s._l+" PENDING OUT "+e)}),null===this.D6?this.G6():this.ol&&this.te.debug(this._l+" OUT MSG NOT NULL")},e.prototype.d6=function(e){this.ol&&this.te.debug("ONGOING "+e+" GOT ACK"),null!==this.D6&&this.D6.g6.toString()===e.toString()?this.Q6(!1):this.te.warn("RECEIVED ACK FOR UNKNOWN TR-"+e)},e.prototype.v6=function(e){null!=this.D6&&this.D6.g6===e?(this.te.debug("GOT CANCEL FOR ONGOING TR-"+e),this.te.debug("TRANSPORT CANCEL STATS "+this.Ol+","+this._l+","+e),this.L6.delete(e),0!=this.D6.j6?this.B6.K6(this._l,this.A6,this.D6.j6,this.D6.q6):this.B6.Y6(this._l,this.A6,this.D6.q6),this.D6=null,this.G6()):this.F6=this.F6.filter(function(t){return t.g6!==e})},e.prototype.G6=function(){try{if(null===this.D6&&0!==this.F6.length){var e=this.F6.shift();this.D6=e,this.ol&&this.te.debug("DATA TO SEND LENGTH "+this.D6.q6+" IN "+this.D6.V6+" CHUNKS WITH TR-"+this.D6.g6),this.Q6(!0)}}catch(e){p.ErrorMonitor.gi().di("ERROR SEND FRAGMENT",this.mn,e),this.Vl()}},e.prototype.Q6=function(e){e&&(this.L6.set(this.D6.g6,a.Framework.time()),this.M6=this.D6.V6);try{if(null!=this.D6)if(0===this.D6.V6)this.te.debug("FINISHED SENDING TRANSFER "+this.D6.g6+" WITH "+this.D6.j6+" BYTES"),this.L6.delete(this.D6.g6),this.B6.z6(this._l,this.A6,this.D6.q6),this.D6=null,this.J6(),this.G6();else{this.ol&&this.te.debug("A CHUNK");var t=Math.min(this.D6.j6+u.ni.Mr.Nr,this.D6.q6),r=t-this.D6.j6,i=new o.mu.Mr.np.hl;if(i.g6=this.D6.g6,i.tx=this.D6.q6,i.O6=r,e&&null!=this.D6.headers&&(i.headers=this.D6.headers),a.Framework.S()||null==this.D6.H6)i.data=n.wrap(new ArrayBuffer(0));else if(i.data=this.bC.W6(this.D6.mN,this.M6-this.D6.V6),null==i.data){var s=this.D6.H6.slice(this.D6.j6,t);i.data=n.wrap(s)}this.D6.j6=this.D6.j6+r,this.qq.jl(o.mu.Rl.hl,i),this.ol&&this.te.debug("SND ["+this.D6.j6+"-"+(this.D6.j6+r)+"/"+this.D6.q6+"] TO "+this._l+" OF TR-"+this.D6.g6),this.D6.V6--}else this.te.debug("NO MESSAGE TO SEND")}catch(e){p.ErrorMonitor.gi().di("ERROR SENDING CHUNK",this.mn,e),this.Vl()}},e.prototype.ql=function(){return!(0===this.F6.length&&null===this.D6)},e.prototype.l6=function(){var e=s.defer();return this.F6.length=0,this.ql()?this.close=e:e.resolve("CLOSE"),e.Te},e.prototype.J6=function(){this.close&&this.close.resolve("CLOSED")},e.prototype.Vl=function(){this.D6=null},e}();t.u6=d},function(e,t,r){"use strict";var i=function(){function e(){this.headers=null}return e}();t.x6=i},function(e,t,r){"use strict";var i=r(1),n=r(0),s=r(3),o=r(15),a=function(){function e(e,t,r,s,a,h){this.X6=0,this.Z6=0,this.e8=0,this.t8=new Array,this.r8=new Array,this.R6=new i,this.te=s,this.qq=r,this.guid=e,this.Ik=h,this.i8=a,this.U_=t,this.GV=n.Framework.resolve(o.Pa.ma),this.KV=n.Framework.resolve(o.Pa.ma),this.n8=n.Framework.time()}return e.prototype.Xq=function(e){this.Wq=e,this.qq&&(this.qq.receiver.uV(this.Wq),this.qq.sender.uV(this.Wq))},e.prototype.s8=function(e,t,r){var i=Math.max(1,t);for(r&&(this.Z6+=i,this.X6+=e);this.t8.length>s.ni.Or.Rr;)this.t8.pop();var n=e/i;this.t8.unshift(n)},e.prototype.o8=function(e){this.R6.has(e)?this.te.warn(this.guid+" DUPLICATE {} PENDING REQUESTS "+e):this.R6.set(e,n.Framework.time())},e.prototype.a8=function(e,t,r,i,s,o){if(this.R6.has(e)){var a=this.R6.get(e),h=n.Framework.time()-a;this.R6.delete(e),i&&this.s8(t,h,!0),this.GV.success(t),this.U_.h8(this.Wq,t,r,s,o)}else this.te.warn("REQUEST "+e+" DOES NOT EXIST")},e.prototype.c8=function(e,t,r,i,n,o){if(this.R6.has(e)){var a=this.R6.get(e);this.R6.delete(e),s.ni.Or.br?this.s8(t,a,!0):this.s8(0,a,!0),this.GV.u8(t,i),this.U_.l8(this.Wq,t,r,i,n,o)}else this.te.warn(this.guid+"{} REQUEST "+e+" DOES NOT EXIST")},e.prototype.Dk=function(e,t,r){if(this.R6.has(e)){var i=this.R6.get(e);this.R6.delete(e),this.s8(0,i,!0),this.GV.xn(),this.U_.p8(this.Wq,r,t)}else this.te.warn(this.guid+"{} REQUEST "+e+" DOES NOT EXIST")},e.prototype.f8=function(e,t){this.U_.d8(e,t,!0)},e.prototype.g8=function(e,t){this.U_.v8(e,t,!0)},e.prototype.y8=function(e,t,r){this.U_.m8(e,t,r,!0)},e.prototype.E8=function(){var e=this.t8.reduce(function(e,t){return e+t},0);return this.t8.length>0?e/this.t8.length:0},e.prototype.T8=function(e){this.e8=e},e.prototype.I8=function(){return this.e8},e.prototype.Uq=function(){return this.Ik.Uq()},e}();t.Partner=a},function(e,t,r){"use strict";var i=r(32),n=r(1),s=r(0),o=r(11),a=r(23),h=r(3),c=r(4),u=r(165),l=function(){function e(){this.mn="[PART] ",this.Rq=new n,this.iL=new n,this.tL=new n,this.rL=new n,this.w8=!1,this.S8=!1,this.R8=!0,this.active=!1,this.b8(),this.Cq=[]}return e.prototype.init=function(e){this.te=s.Framework.resolve(s.Framework.q.I).log(e.sessionId),this.wC=e.wC,this.Uw=e.Uw,this.zz=e.zz,this.EC=e.EC,this.Lq=e.x_},e.prototype.wq=function(e){return this.Gq(e.Tk.guid)},e.prototype.Gq=function(e){return this.rL.has(e)||this.tL.has(e)},e.prototype.AV=function(e){return this.tL.has(e)?this.tL.get(e):this.rL.get(e)},e.prototype.Eq=function(e){return this.pV(e.Tk.guid)},e.prototype.pV=function(e){return this.iL.has(e)||this.Rq.has(e)},e.prototype.fV=function(e){return this.iL.has(e)?this.iL.get(e):this.Rq.get(e)},e.prototype.$q=function(e){var t=this;try{if(this.R8)if(this.Gq(e)){var r=this.AV(e),i=this.zz.P8(!1),n=[];this.Uw.JU(this.context.isLive()).then(function(s){t.te.debug(t.mn+"SEND ALL HAVES TO "+e+","+s.length);for(var o=0;o<s.length;o++){var h=0;h=t.context.isLive()?s[o].size():s[o].tx;var c=s[o].Qu,u=new a.mu.Mr.np.al;u.A8(c.zu()),u.C8(h),u.k8(i);var l=c;u.vq(l.ER()),u.O8(l.bitrate),u._8(l.duration),u.p6(l.Yu()),n.push(u)}if(n.length>0){var p=new a.mu.Mr.np.Tl;p.N8(n),r.qq.jl(a.mu.Rl.Tl,p)}})}else this.te.debug(this.mn+"NO PEER TO SEND TO "+e)}catch(e){c.ErrorMonitor.gi().di("SEND ALL HAVES ERROR",this.mn,e)}},e.prototype.pW=function(e,t,r){var i=this;if(this.R8){var n=this.tL.values();this.rL.forEach(function(e,t){n.push(e)});var s=this.zz.P8(!1);n.forEach(function(n){(!r||r&&n.guid!=r.guid)&&i.D8(n.qq,e,t,s)})}},e.prototype.D8=function(e,t,r,i){this.w8&&this.te.debug(this.mn+"SEND HAVE TO "+e._l+" FOR "+t.zu());var n=new a.mu.Mr.np.al;n.A8(t.zu()),n.C8(r),n.k8(i);var s=t;n.vq(s.ER()),n.O8(s.bitrate),n._8(s.duration),n.p6(s.Yu()),e.jl(a.mu.Rl.al,n)},e.prototype.y6=function(e,t){if(this.pV(e)){this.S8&&this.te.debug(this.mn+"HAVE RECEIVED FROM "+e+": "+t.mN);var r=this.fV(e);r.T8(t.F8()),this.EC.put(t,r),this.context.vN(t)}else this.te.info(this.mn+"REC HAVE FROM UNKNOWN PEER "+e)},e.prototype.E6=function(e,t){var r=this;if(this.pV(e)){this.S8&&this.te.debug(this.mn+" BATCH HAVES RECEIVED FROM "+e);var i=this.fV(e);t.L8().forEach(function(e){i.T8(e.F8()),r.EC.put(e,i)}),this.context.vN(t.L8()[0])}else this.te.info(this.mn+"REC HAVE FROM UNKNOWN PEER "+e)},e.prototype.Bq=function(e){var t=new a.mu.Mr.np.Il;t.id=this.wC.W(),t.M8=s.Framework.time(),this.te.debug(this.mn+"REQUEST PING TO PEER GUID "+e._l),e.jl(a.mu.Rl.Il,t)},e.prototype.T6=function(e){var t=e.id;if(!this.Gq(t))return void this.te.warn(this.mn+"RECEIVED A PING REQUEST FROM AN UNKNOWN PEER "+t);var r=-1;e.M8&&(r=e.M8),this.B8(this.AV(t).qq,r)},e.prototype.b8=function(){for(var e="",t=0;t<h.ni.Mr.Nr;t++)e+=String.fromCharCode(33+93*Math.random());for(var r=new ArrayBuffer(e.length),n=new Uint8Array(r),s=e.length,t=0;t<s;t++)n[t]=e.charCodeAt(t);this.U8=i.wrap(n)},e.prototype.B8=function(e,t){var r=new a.mu.Mr.np.wl;r.id=this.wC.W(),r.M8=t,this.U8||this.b8(),r.data=this.U8,r.x8=h.ni.Mr.Nr,this.te.debug(this.mn+"SEND PONG TO PEER GUID "+e._l),e.jl(a.mu.Rl.wl,r)},e.prototype.I6=function(e){var t=e.id;if(!this.pV(t))return void this.te.warn(this.mn+"RECEIVED A PONG FROM AN UNKNOWN PEER "+t);var r=s.Framework.time();if(e.M8&&e.M8>0){var i=r-e.M8,n=this.fV(t);e.x8==e.data.pn().byteLength?n.s8(e.x8,i,!0):this.te.warn(this.mn+"I received a pong with wrong data size")}else this.te.warn(this.mn+"I received a wrong startTs "+e.M8+" from "+t)},e.prototype.sL=function(){try{var e=new n;return this.H8(this.iL,e),this.H8(this.Rq,e),e}catch(e){c.ErrorMonitor.gi().di("GET PARTNERS SNAPSHOTS ERROR",this.mn,e)}},e.prototype.H8=function(e,t){var r=this;e.forEach(function(e,i){var n=new hive.snapshots.Partner;n.inPart=!0,n.outPart=r.Gq(i),n.connInfo=new hive.snapshots.ConnectivityInfo;var s=void 0;e.Ik.Tk.lo&&(s=e.Ik.Tk.lo);var a=void 0;e.Ik.Tk.uo&&(a=e.Ik.Tk.uo),n.connInfo.publicIp=s,n.connInfo.privateIp=a,n.connInfo.externalAs=e.Ik.Tk.externalAs,n.connInfo.internalAs=e.Ik.Tk.internalAs;var h=r.q8();h.rateReceived=e.E8(),n.metrics=h,n.udp=e.Ik.Tk.type==o.Zs.K,t.set(e.Wq,n)})},e.prototype.eL=function(){return new u.V8(this.iL.length,this.Rq.length,this.rL.length,this.tL.length)},e.prototype.q8=function(){var e=new hive.snapshots.PartnerMetrics;return e.rateReceived=0,e.rateSent=0,e.handshakeDelay=0,e},e}();t._V=l},function(e,t,r){"use strict";var i=function(){function e(e,t,r,i){this.iL=e,this.nL=t,this.rL=r,this.tL=i}return e}();t.V8=i},function(e,t,r){"use strict";var i=function(){function e(){}return e}();t.ep=i},function(e,t){e.t={H2:"HiveMsgs",q2:[{name:"Chunk",h3:[{g3:"required",type:"int32",name:"transferId",id:1},{g3:"required",type:"int32",name:"totalSize",id:2},{g3:"required",type:"int32",name:"chunkSize",id:3},{g3:"required",type:"bytes",name:"data",id:4},{g3:"optional",type:"string",name:"headers",id:5}]},{name:"Haves",h3:[{g3:"repeated",type:"Have",name:"have",id:1}]},{name:"Have",h3:[{g3:"required",type:"string",name:"fragmentId",id:1},{g3:"required",type:"int32",name:"size",id:2},{g3:"required",type:"int32",name:"type",id:3},{g3:"required",type:"int32",name:"id",id:4},{g3:"required",type:"int32",name:"bitrate",id:5},{g3:"required",type:"int32",name:"duration",id:6},{g3:"required",type:"float",name:"uploadScore",id:7}]},{name:"Ping",h3:[{g3:"required",type:"string",name:"id",id:1},{g3:"required",type:"uint64",name:"startTs",id:2}]},{name:"Pong",h3:[{g3:"required",type:"string",name:"id",id:1},{g3:"required",type:"bytes",name:"data",id:2},{g3:"required",type:"int32",name:"dataSize",id:3},{g3:"required",type:"uint64",name:"startTs",id:4}]},{name:"Request",h3:[{g3:"required",type:"string",name:"fragmentId",id:1},{g3:"required",type:"int32",name:"transferId",id:2}]},{name:"DoNotHave",h3:[{g3:"required",type:"int32",name:"transferId",id:1}]},{name:"NoPartners",h3:[{g3:"required",type:"int32",name:"transferId",id:1}]},{name:"Cancel",h3:[{g3:"required",type:"int32",name:"transferId",id:1}]},{name:"Ack",h3:[{g3:"optional",type:"int32",name:"transferId",id:1}]},{name:"Close",h3:[{g3:"required",type:"int32",name:"type",id:1}]},{name:"StreamCharacteristics",h3:[{g3:"required",type:"int32",name:"streamState",id:1},{g3:"required",type:"int32",name:"bitrate",id:2},{g3:"required",type:"int32",name:"delta",id:3}]},{name:"OutPartnershipRequest",h3:[{g3:"required",type:"string",name:"guid",id:1},{g3:"required",type:"string",name:"contextId",id:2},{g3:"required",type:"string",name:"p2pProtocolVersion",id:3},{g3:"optional",type:"int32",name:"internalAs",id:4},{g3:"optional",type:"int32",name:"externalAs",id:5},{g3:"optional",type:"string",name:"publicIpString",id:6},{g3:"optional",type:"string",name:"privateIpString",id:7},{g3:"required",type:"string",name:"reportingGuid",id:8},{g3:"repeated",type:"StreamCharacteristics",name:"streamCharacteristics",id:9}]},{name:"OutPartnershipResponse",h3:[{g3:"required",type:"int32",name:"accept",id:1},{g3:"optional",type:"int32",name:"internalAs",id:2},{g3:"optional",type:"int32",name:"externalAs",id:3},{g3:"optional",type:"string",name:"publicIpString",id:4},{g3:"optional",type:"string",name:"privateIpString",id:5},{g3:"optional",type:"string",name:"reportingGuid",id:6},{g3:"repeated",type:"StreamCharacteristics",name:"streamCharacteristics",id:7}]},{name:"PeerInfoMessage",h3:[{g3:"required",type:"string",name:"guid",id:1},{g3:"optional",type:"string",name:"publicIpString",id:2},{g3:"optional",type:"string",name:"privateIpString",id:3},{g3:"optional",type:"int32",name:"internalAs",id:4},{g3:"optional",type:"int32",name:"externalAs",id:5},{g3:"repeated",type:"StreamCharacteristics",name:"streamCharacteristics",id:6}]},{name:"UDPHandshakeMessage",h3:[{g3:"required",type:"string",name:"uuid",id:1},{g3:"required",type:"string",name:"streamId",id:2},{g3:"required",type:"float",name:"udpScore",id:3},{g3:"required",type:"bool",name:"isLeader",id:4}]},{name:"UDPHandshakeResponse",h3:[{g3:"required",type:"string",name:"accept",id:1}]},{name:"UDPSwitchLeadershipRequest",h3:[{g3:"required",type:"string",name:"uuid",id:1},{g3:"required",type:"float",name:"udpScore",id:2}]},{name:"UDPSwitchLeadershipAck",h3:[{g3:"required",type:"bool",name:"ok",id:1}]},{name:"Bitrate",h3:[{g3:"required",type:"string",name:"guid",id:1},{g3:"required",type:"int32",name:"bitrate",id:2}]}]}},function(e,t,r){"use strict";var i=r(3),n=function(){function e(e,t,r,i,n){this.Tx=0,this.Ix=!1,this.Nx="",this.Ck=e,this.Tx=t,r&&(this.address=r),i&&(this.Ix=i),n&&(this.Nx=n)}return e.Dp=function(e,t){var r=0;return r=e.Tx>t.Tx?1:e.Tx<t.Tx?-1:0,0!=r?-r:i.ni.UDPBroadcast.Hr?t.Ck.localeCompare(e.Ck):e.Ck.localeCompare(t.Ck)},e}();t.Ex=n},function(e,t,r){"use strict";var i=r(1),n=r(40),s=r(0),o=r(15),a=r(10),h=r(11),c=function(){function e(){this.Ul=new n.Counter,this.j8=new i,this.G8=new i,this.Q8=s.Framework.resolve(o.Pa.va)}return e.prototype.init=function(e){this.te=s.Framework.resolve(s.Framework.q.I).log(e.sessionId),this.EC=e.EC,this.SC=e.SC,this.TC=e.TC,this.wC=e.wC,this.U_=e.x_,this.Q8.K8(e.wC)},e.prototype.TI=function(e){this.te.debug("FRL ISSUE REQ FOR FRAGMENT "+e.Qu.toString()+"-"+e.Mu.Ru+" ["+a.Ws[e.Yu()]+"] TO P2P"),this.j8.set(e.Ju(),e);var t=this.Ul.next();e.Fk=t,this.G8.set(t,e.Ju()),this.W0(e)},e.prototype.W0=function(e){var t=e.zu(),r=e.Ju(),i=this.Y8(t);e.size=this.EC.o1(t).size;var n=this.Q8.z8(i,e.type);null!=n?(this.te.info("SEND REQUEST "+e.Fk+" FOR "+r+" TO "+n.qq._l+" (LAN LEADER "+n.Ik.Tk.so+" iAS "+n.Ik.Tk.internalAs+" eAS "+n.Ik.Tk.externalAs+" privateIp "+n.Ik.Tk.uo+" ) out of "+i.length+" type "+h.Zs[n.Ik.Tk.type]+" size:"+e.size),e.KU=n,e.YU=n.Ik.Tk,e.KU.o8(e.Fk),e.Mu.Iu=!0,e.Mu.Ou=s.Framework.time(),this.U_.J8(e),this.Nk(e)?n.qq.receiver.C6(e):this.Dk(e.Fk,"TIMED-OUT")):this.Dk(e.Fk,"NO PARTNERS FOUND FOR REQUEST")},e.prototype.Y8=function(e){var t=this,r=[];return this.EC.mk(e).forEach(function(e){t.SC.pV(e.guid)?r.push(e):t.te.warn("I HAVE A HAVE FROM A NON IN-PARTNER "+e.guid)}),r},e.prototype.Nk=function(e){var t=this,r=!1,i=0;null==e.size?(i=this.EC.o1(e.zu()).size,this.te.warn("request size not set - this should not happen")):i=e.size;var n=e.Gu.RN().rU(e,i);return e.k6=n,n>0&&(r=!0,null==e.Fx&&(e.Fx=s.Framework.setTimeout(function(){t.U_.W8(e),t.Dk(e.Fk,"TIMED-OUT")},n))),r},e.prototype.Dk=function(e,t){this.te.info(t+" "+e);var r=this.X8(e,!0);this.te.info("REQUEST "+e+" FOR "+r.Ju()+" FAILED BECAUSE "+t),r&&this.TC.zJ(r)},e.prototype.X8=function(e,t){if(this.G8.has(e)){var r=this.G8.get(e);this.G8.delete(e);var i=this.j8.get(r);if(this.j8.delete(r),s.Framework.clearTimeout(i.Fx),t&&this.SC.pV(i.KU.qq._l)){i.KU.qq.receiver.N6(e);var n=i.Yu()==a.Ws.Ys;0!=i.qu?i.KU.c8(i.Fk,i.qu,i.Mu.p2pAgenTrafficSuccessQt,i.size,n,i.type):i.KU.Dk(i.Fk,n,i.size)}return i}return this.te.warn("CALLED CANCEL REQUEST ON NON EXISTING SESSION"),null},e.prototype.YJ=function(e){if(this.j8.has(e)){var t=this.j8.get(e).Fk;this.X8(t,!0)}},e.prototype.F0=function(e,t,r,i){this.te.debug("FRL DOWNLOADING "+t.Ju()+" FROM "+e+" P2P")},e.prototype.HC=function(e,t){if(this.te.debug("FRL PROMISED FRAGMENT "+t.Ju()+" RETURNED FROM P2P SIZE "+t.Mu.Ru),t=this.X8(e,!1)){t.Mu.Nu=s.Framework.time();var r=t.Yu()==a.Ws.Ys;t.KU.a8(t.Fk,t.size,t.Mu.p2pAgenTrafficSuccessQt,!0,r,t.type),this.TC.WJ(t)}else this.te.warn("TRIED TO REMOVE A NON EXISTING REQUEST "+e+" (THIS SHOULD NOT HAPPEN. AT LEAST NOT TOO OFTEN)")},e.prototype.m6=function(e){var t=e.Z8();if(this.G8.has(t)){this.te.debug("DO NOT HAVE RECEIVED FOR "+t);var r=this.X8(t,!1),i=r.Yu()==a.Ws.Ys;r.KU.Dk(r.Fk,i,r.size),this.TC.zJ(r)}else this.te.warn("UNKNOWN DO NOT HAVE "+t)},e.prototype.S6=function(e,t){var r=t.g6;if(this.G8.has(r)){this.te.debug("REJECTED BY NON PARTNER FOR "+r),this.SC.xq(e);var i=this.X8(r,!1);this.TC.zJ(i)}},e.prototype.Qe=function(e){return this.j8.has(e)},e}();t.qz=c},function(e,t,r){"use strict";var i=r(0),n=r(23),s=r(4),o=function(){function e(){}return e.prototype.init=function(e){this.te=i.Framework.resolve(i.Framework.q.I).log(e.sessionId),this.mn="S["+e.sessionId+"]",this.vx=e,this.EC=e.EC,this.Uw=e.Uw,this.SC=e.SC,this.zz=e.zz,this.wC=e.wC,this.U_=e.x_},e.prototype.Y_=function(e,t,r){try{if(this.SC.Gq(e)){var i=this.SC.AV(e);this.e5(e,t,i)}else this.t5(e,t,r)}catch(e){s.ErrorMonitor.gi().di("GOT ERROR ON SERVING REQUEST",this.mn,{error:e})}},e.prototype.z6=function(e,t,r){if(this.zz.success(r),this.SC.Gq(e)){var i=this.SC.AV(e);i.KV.success(r),i.f8(r,t)}},e.prototype.K6=function(e,t,r,i){if(this.zz.u8(r,i),this.SC.Gq(e)){var n=this.SC.AV(e);n.KV.u8(r,i),n.y8(r,i,t)}},e.prototype.Y6=function(e,t,r){if(this.zz.xn(),this.SC.Gq(e)){var i=this.SC.AV(e);i.KV.xn(),i.g8(r,t)}},e.prototype.e5=function(e,t,r){var i=this;this.Uw.get(t.mN).then(function(n){n?(i.te.debug("SENDING TO "+e+","+t.mN+","+t.g6+","+n.length+" DL "+n.length),r.qq.sender.U6(t.mN,t.g6,n.length,n.headers,n.data)):(i.te.debug("RECEIVED REQUEST FOR "+t.mN+" FROM "+e+" CAN'T BE SERVED"),i.r5(t.g6,r))})},e.prototype.r5=function(e,t){this.te.info("SEND DO NOT HAVE "+e+" TO "+t.qq.Ol);var r=new n.mu.Mr.np.pl;r.i5(e),t.qq.jl(n.mu.Rl.pl,r)},e.prototype.t5=function(e,t,r){this.te.warn("GOT REQUEST FROM NON-PARTNER "+e+" FOR "+t.mN);var i=new n.mu.Mr.np.w6;i.i5(t.g6),r.jl(n.mu.Rl.Sl,i)},e}();t.Vz=o},function(e,t,r){"use strict";var i,n=r(44),s=r(0),o=r(3);!function(e){e[e.n5=0]="S",e[e.s5=1]="F",e[e.o5=2]="PF"}(i||(i={}));var a=function(){function e(e){this.ts=e}return e}(),h=function(){function e(){this.a5=0,this.h5=0,this.c5=0,this.u5=0,this.l5=0,this.p5=0}return e}(),c=function(){function e(){this.f5=new n}return e.prototype.success=function(e){this.event(i.n5,e,e)},e.prototype.xn=function(){this.event(i.s5,0,0)},e.prototype.u8=function(e,t){this.event(i.o5,e,t)},e.prototype.event=function(e,t,r){var i=new a(s.Framework.time());i.vp=e,i.d5=t,i.g5=t/r,i.v5=(r-t)/r,this.f5.set(i.ts,i),this.y5()},e.prototype.y5=function(){var e=this,t=s.Framework.time(),r=t-2*o.ni.Or.Pr;if(r>0){var i=[];this.f5.forEach(function(e,t){t<r&&i.push(t)}),i.forEach(function(t){e.f5.delete(t)})}},e.prototype.jV=function(e){var t=0,r=this.m5(e,o.ni.Or.Pr);if(null!=r){var i=r.h5+r.c5+r.u5;t=0==i?0:(r.h5+r.u5*o.ni.Or.Ar)/i}return t},e.prototype.P8=function(e){var t=0,r=this.m5(e,o.ni.Or.Pr);if(null!=r){var i=r.h5+r.c5+r.u5;t=0==i?0:(r.c5+r.u5*o.ni.Or.Cr)/i}return t},e.prototype.E5=function(e){var t=this.m5(!1,e);return null!=t?t.a5:0},e.prototype.m5=function(e,t){if(0!=this.f5.keys().length){var r=new h,o=s.Framework.time(),a=o-t;a<0&&(a=0);var c=new n;return this.f5.forEach(function(e,t){t>=a&&c.set(t,e)}),c.forEach(function(e,t){switch(r.a5+=e.d5,e.vp){case i.n5:r.h5++;break;case i.s5:r.c5++;break;default:r.u5++,r.l5+=e.g5,r.p5+=e.v5}}),r}return null},e}();c.Cr=.2,c.Ar=.2,t.jz=c},function(e,t,r){"use strict";var i=this&&this.Ns||function(e,t){function r(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=r(1),s=r(2),o=r(0),a=r(173),h=r(175),c=r(93);t.T5||(t.T5={});var u=function(e){function t(){var t=e.call(this)||this;return t.I5=!1,t.w5=new n,t.Ul=1,t.qc=o.Framework.resolve(o.Framework.q.D),t.S5=o.Framework.resolve(o.Framework.q.U),t.channelManager=new a.R5(t.te,t.S5,t),t.S5.init(t,t.te,t.channelManager),t.b5(),t}return i(t,e),t.prototype.start=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var i=o.Framework.resolve(o.Framework.q.I).log(e),n=null;return 0==this.ss.keys().length?(i.debug("TRIGGERING CONNECT "),n=this.P5(),this.A5(e,t)):(i.debug("ALREADY CONNECTED "),n=this.qc.jc(),this.A5(e,t),this.S5.lQ()&&this.C5(this.Eh,e)),n},t.prototype.P5=function(){var e=this,t=o.Framework.N._;"localhost"===t&&(t="127.0.0.1:"+location.port),this.te.debug("CONNECTING..");var r=s.defer();return this.qc.jc().then(function(i){var n=i.Kc();return e.te.debug("MY IDENTITY ",n),e.Eh=n,e.S5.start(t,n,r),r.Te}),null},t.prototype.k5=function(){return s.resolve(new n)},t.prototype.connect=function(e){var t=this,r=s.defer();return this.w5.has(e)?(this.te.debug("Already connected to "+e+", ignoring"),r.resolve(this.w5.get(e))):this.channelManager.O5(this.Eh,e).then(function(r){return t.connected(e,r)}).then(function(e){return r.resolve(e)}).fail(function(t){r.reject("CONN TO "+e+" CANNOT BE ESTABLISHED ")}),r.Te},t.prototype.send=function(e,t,r){return!!this.channelManager.send(e,t)||(this._5(e),!1)},t.prototype.N5=function(e,t,r){if(this.I5&&this.te.debug("REC BUF "+r.byteLength+" "+r),this.w5.has(e)){this.I5&&this.te.debug("PROC MSG FROM "+e);this.w5.get(e).Wl(r)}else this.te.warn("RECEIVED MSG FROM PEER "+e+" BUT IT IS NOT CONNECTED")},t.prototype.connected=function(e,t){if(this.w5.has(e))this.te.debug("RECONNECTED TO "+e+", RESETTING STATE"),this.w5.get(e).reset();else{this.te.info("CONNECTED TO "+e);var r=t.Rx;r.init(this.Eh,e),this.w5.set(e,r)}return s.resolve(this.w5.get(e))},t.prototype.D5=function(e,t){this.te.debug("FAILED CONN TO "+t),e.reject("CONN TO "+t+" CANNOT BE ESTABLISHED ")},t.prototype.F5=function(e,t){this.te.info(e+" connected to me"),this.connected(e,t)},t.prototype._5=function(e){this.w5.has(e)?(this.te.info("Connection closed to "+e),this.w5.delete(e),this.L5(e)):this.te.warn("TRYING TO REMOVE A PEER THAT IS NOT THERE: "+e)},t.prototype.b5=function(){var e=this;c.BV.DV&&o.Framework.setInterval(function(){var t=o.Framework.time();e.w5.forEach(function(r,i){var n=t-r.ip();n>c.BV.LV&&(e.te.debug("closing stale connection to "+i+" [unused for: "+n+"ms]"),e.disconnect(i))})},c.BV.FV)},t.prototype.M5=function(){},t.prototype.disconnect=function(e){this.w5.has(e)&&this.channelManager.disconnect(e)},t}(h.B5);u.$r="availableSendRate",u.ei="remoteAddress",u.ti="localAddress",t.Dz=u},function(e,t,r){"use strict";var i=r(2),n=r(0),s=r(174),o=r(93),a=function(){function e(e,t,r){this.te=e,this.S5=t,this.U5=r,this.x5={iceServers:[{url:"stun:stun.hivestreaming.com:3478"}]},this.Ul=1,this.H5=null,this.q5={},this.V5={}}return e.prototype.O5=function(e,t){var r=null;if(t in this.V5){var n=i.defer();n.reject("OTHER ALREADY TRYING TO CONNECT"),r=n.Te}else{this.U5.I5&&this.te.info("Initiating connection to "+t);var s=this.j5(e,t);r=this.G5(s,t).connect(t)}return r},e.prototype.Q5=function(e){e.K5 in this.V5&&(delete this.q5[e.label],delete this.V5[e.K5]),e.open&&(this.U5._5(e.K5),e.open=!1)},e.prototype.send=function(e,t){this.U5.I5&&this.te.debug("DATA "+t.byteLength+" "+t);var r=this.V5[e];return!(!r||!r.channel)&&(r.channel.send(t),!0)},e.prototype.z$=function(e,t){var r=t.channel;if(r&&r.label&&this.q5[r.label]){var i=this.q5[r.label],n=i[e];n.call(i,t)}else{var s="handle_"+e,n=this[s];n?n.call(this,t):this.te.warn("Handler "+s+" not found or channel "+r.label+" not active")}},e.prototype.handle_offer=function(e){if(this.U5.I5&&this.te.info("received an offer from "+e.peer.guid+" on channel "+e.channel.label),this.V5[e.peer.guid]&&e.peer<this.U5.Eh)this.S5.Y5(this.U5.Eh,e.peer.guid,e.channel.label);else{var t=this.G5(e.channel.label,e.peer.guid),r=this.z5(t);t.offer(e,r)}},e.prototype.z5=function(e){var t=this;return n.Framework.setTimeout(function(){t.te.warn("INCOMING CONNECTION FROM "+e.K5+" TIMED OUT"),e.close()},o.BV.MV)},e.prototype.G5=function(e,t){var r=new s.J5(this,this.U5,e,this.H5,this.x5,t);return this.q5[e]=r,this.V5[t]=r,r},e.prototype.handle_offer_rejected=function(e){this.U5.I5&&this.te.debug("remote peer rejected ",e);var t=this.V5[e.W5];t&&t.close(),delete this.V5[e.W5],delete this.q5[e.channel]},e.prototype.j5=function(e,t){return e.substring(0,Math.max(8,e.length))+":"+t.substring(0,Math.max(8,t.length))+":"+this.Ul++},e.prototype.disconnect=function(e){var t=this.V5[e];t&&t.close()},e}();t.R5=a},function(e,t,r){"use strict";var i=(r(52),r(2)),n=r(0),s=function(){function e(e,t,r,i,s,o){var a=this;this.channelManager=e,this.U5=t,this.label=r,this.H5=i,this.x5=s,this.K5=o,this.I5=!1,this.pM=null,this.channel=null,this.X5=null,this.Z5=5,this.timeout=5e3,this.open=!1,this.e9=!1,this.t9=new Array,this.r9=function(){return!!this.channel&&"connecting"===this.channel.readyState},this.te=n.Framework.resolve(n.Framework.q.I).log(),this.mn="[ch:"+this.label+"] ",this.Rx=n.Framework.resolve(n.Framework.q.L),this.Rx.init(this.U5.Eh,o),this.pM=new RTCPeerConnection(this.x5,this.H5),this.pM.onicecandidate=function(e){e&&e.candidate&&(a.t9.push(e.candidate),a.e9&&a.i9())},this.pM.onnegotiationneeded=function(){a.createOffer().then(function(e){return a.n9(e)}).then(function(e){a.I5&&a.te.debug(a.mn+"Sending offer to "+a.K5+" [candidates: "+a.t9.length+"]");var t=a.t9;a.t9=new Array;var r=a.channelManager.S5.offer(a.U5.Eh,a.K5,a,t,e);return a.e9=!0,r}).catch(function(e){a.te.error(a.mn+" "+e),a.close()})},this.pM.oniceconnectionstatechange=function(e){"disconnected"===a.pM.iceConnectionState&&a.close(),"failed"===a.pM.iceConnectionState&&(a.te.debug(a.mn+"Closing channel since it couldnt be established to "+a.K5),a.close())},this.pM.onsignalingstatechange=function(e){"closed"===e.signalingState&&a.close()}}return e.prototype.s9=function(){var e=this;if(this.channel&&"open"!=this.channel.readyState){if(this.I5&&this.te.debug(this.mn+"Check connection "+this.K5),this.Z5<=0)return this.te.debug(this.mn+"Closing channel since it couldnt be established to "+this.K5),void this.close();this.Z5-=1,this.X5=n.Framework.setTimeout(function(){return e.s9()},this.timeout)}},e.prototype.close=function(){this.I5&&this.te.debug(this.mn+"Closing connection to "+this.K5),this.channelManager.Q5(this),this.pM&&"closed"!==this.pM.signalingState&&(this.pM.close(),this.channel&&this.channel.close())},e.prototype.connect=function(e){var t=this;this.I5&&this.te.debug(this.mn+"Connecting to "+e),this.K5=e,this.channel=this.pM.createDataChannel(this.label);var r=this.o9(!0,-1);return this.X5=n.Framework.setTimeout(function(){return t.s9()},this.timeout),r},e.prototype.a9=function(e){var t=i.defer();return this.pM.setRemoteDescription(e,function(){return t.resolve("OK")},t.reject),t.Te},e.prototype.n9=function(e){var t=this,r=i.defer();return"closed"!==this.pM.signalingState?this.pM.setLocalDescription(e,function(){return r.resolve(t.pM.localDescription)},r.reject):r.reject,r.Te},e.prototype.createOffer=function(){var e=this,t=i.defer();return this.pM.createOffer(t.resolve,function(t){e.te.error(e.mn+" "+t),e.close()}),t.Te},e.prototype.createAnswer=function(){var e=i.defer();return this.pM.createAnswer(e.resolve,e.reject),e.Te},e.prototype.offer=function(e,t){var r=this;this.I5&&(this.te.debug(this.mn+"Received an offer from "+this.K5),this.te.debug(this.mn+"Offer:",e)),this.pM.ondatachannel=function(e){r.channel=e.channel,r.o9(!1,t)};var i=new RTCSessionDescription(e.channel.offer);this.K5=e.peer.guid,this.a9(i).then(function(t){if("closed"!==r.pM.signalingState)return r.update_ice_candidates(e),r.createAnswer()}).then(function(e){return r.n9(e)}).then(function(e){r.te.debug(r.mn+"Sending back an answer [candidates: "+r.t9.length+"]");var t=r.t9;r.t9=new Array,r.channelManager.S5.answer(r,e,t,r.K5),r.e9=!0}).catch(function(e){r.te.error(r.mn+" "+e),r.close()})},e.prototype.answer=function(e){var t=this;this.I5&&this.te.debug(this.mn+"Answer: ",e);var r=new RTCSessionDescription(e.answer);this.a9(r).then(function(){"closed"!==t.pM.signalingState&&t.update_ice_candidates(e)}).catch(function(e){t.close(),t.te.error(t.mn+" "+e)})},e.prototype.update_ice_candidates=function(e){var t=this;e.channel.ice_candidates.forEach(function(e){t.I5&&t.te.debug(t.mn+"got ICE cand: ",e);var r=new RTCIceCandidate(e);t.pM.addIceCandidate(r,function(){},function(e){return t.te.warn(t.mn+"FAILED UPDATING ICE CANDIDATE",e)})})},e.prototype.o9=function(e,t){var r=this,n=i.defer();return this.channel.onopen=function(i){return r.h9(n,e,t)},this.channel.onclose=function(e){r.close(),n.reject(r)},this.channel.onmessage=function(e){return r.Rx.Wl(e.data)},this.channel.onerror=function(e){r.te.error(r.mn+" -- WebRTC channel error",e),r.close()},n.Te},e.prototype.h9=function(e,t,r){this.open=!0,e.resolve(this),t||(this.U5.F5(this.K5,this),r&&n.Framework.clearTimeout(r))},e.prototype.i9=function(){var e=this,t=this.t9;if(this.t9=new Array,t&&t.length>0){var r=t.length;this.channelManager.S5.c9(this.U5.Eh,this,t,this.K5).then(function(t){e.I5&&e.te.debug(e.mn+"sent "+r+" more candidates")}).catch(function(t){e.te.error(e.mn+" "+t)})}},e}();t.J5=s},function(e,t,r){"use strict";var i=r(1),n=r(0),s=function(){function e(){this.ss=new i,this.te=n.Framework.resolve(n.Framework.q.I).log()}return e.prototype.A5=function(e,t){this.te.info("SET LISTENERS FOR "+e+","+t.length),this.ss.set(e,t)},e.prototype.u9=function(e){this.ss.delete(e)},e.prototype.l9=function(){this.ss.length>0&&this.ss.forEach(function(e,t){e.forEach(function(e){e.yq&&e.yq()})})},e.prototype.C5=function(e,t){var r=this;this.ss.length>0&&(t?this.ss.get(t).forEach(function(t){try{t.Zh&&t.Zh(e)}catch(e){r.te.error("Cannot fire server connected on "+t)}}):this.ss.forEach(function(t,i){t.forEach(function(t){try{t.Zh&&t.Zh(e)}catch(e){r.te.error("Cannot fire server connected on "+t)}})}))},e.prototype.L5=function(e){this.ss.length>0&&this.ss.forEach(function(t,r){t.forEach(function(t){t.aH&&t.aH(e)})})},e}();t.B5=s},function(e,t,r){"use strict";var i=r(2),n=r(0),s=r(21),o=function(){function e(){this.Ul=1,this.client=n.Framework.resolve(n.Framework.q.H)}return e.prototype.init=function(e,t,r){this.U5=e,this.te=t,this.channelManager=r},e.prototype.lQ=function(){return this.client.lc().lQ()},e.prototype.start=function(e,t,r){var i=this;this.te.debug("MY ID "+t),this.Eh=t,this.client&&this.client.lc()?this.client.lc().on(Services.TQ,1,function(e){i.p9(e.msg)}):this.te.error("error getting active services connection"),this.U5.C5(this.Eh)},e.prototype.p9=function(e){var t=JSON.parse(e);this.U5.I5&&this.te.debug("RCV MSG FROM SRV ",t),this.channelManager.z$(t.msgName,t.msg)},e.prototype.f9=function(e,t,r){var n=this.wrap(t,e,r);if(this.client&&this.client.lc()){var o=JSON.stringify(n);this.U5.I5&&this.te.debug(" FORWARDING REQUEST : "+o);var a=new s.pc(Services.TQ,0,o);return this.client.lc().send(a)}return i.reject()},e.prototype.wrap=function(e,t,r){return{msgId:this.Ul++,destination:r,msg:e,msgName:t}},e.prototype.c9=function(e,t,r,i){var n={channel:{label:t.label,ice_candidates:r}};return this.f9("update_ice_candidates",n,i)},e.prototype.offer=function(e,t,r,i,s){var o={peer:{guid:e,first_seen:n.Framework.time()},channel:{label:r.label,ice_candidates:i,offer:s}};return this.f9("offer",o,r.K5)},e.prototype.Y5=function(e,t,r){this.U5.I5&&this.te.debug("Discovery service rejects offer from peer "+t+" on channel "+r);var i={W5:e,channel:r};return this.f9("answer",i,t)},e.prototype.answer=function(e,t,r,i){var n={answer:t,d9:this.U5.Eh,channel:{label:e.label,ice_candidates:r}};return this.f9("answer",n,i)},e}();t.Fz=o},function(e,t,r){"use strict";var i=r(1),n=r(3),s=r(0),o=function(){function e(){this.eN=new i,this.g9=[],this.R6=new i,this.v9=new i}return e.prototype.init=function(e){this.te=s.Framework.resolve(s.Framework.q.I).log(e.sessionId),this.TC=e.TC,this.y9()},e.prototype.y9=function(){var e=this;s.Framework.setInterval(function(){e.m9()},n.ni.mr.vr)},e.prototype.m9=function(){var e=this;this.R6.values().filter(function(e){return s.Framework.time()-e.Mu.ku>n.ni.mr.yr}).forEach(function(t){e.TC.abort(t.Vu),e.cN(t.zu(),t.Ju())})},e.prototype.hN=function(e){this.E9(e.zu(),e.Ju()),this.R6.set(e.Ju(),e)},e.prototype.cN=function(e,t){this.R6.delete(t),this.T9(e,t)},e.prototype.pN=function(e){this.I9(e)},e.prototype.uN=function(e){this.eN.delete(e)},e.prototype.I9=function(e){if(this.eN.set(e.zu(),e.Ku()),this.g9.push(e.zu()),this.eN.length>n.ni.mr.gr){var t=this.g9[0];this.eN.delete(t),this.g9.splice(0,1)}},e.prototype.Z_=function(e){return this.eN.has(e)},e.prototype.tN=function(e){return this.eN.get(e)},e.prototype.E9=function(e,t){if(this.v9.has(e))this.v9.get(e).push(t);else{var r=[];r.push(t),this.v9.set(e,r)}},e.prototype.T9=function(e,t){if(this.v9.has(e)){var r=this.v9.get(e),i=r.indexOf(t);-1==i?this.te.warn("I CANNOT FIND THE REQUEST ID "+t):r.splice(i,1),0==r.length&&this.v9.delete(e)}else this.te.warn("TRIED TO REMOVE AN OBJECT THAT DOES NOT EXIST")},e.prototype.nN=function(e){var t=[];if(this.w9(e))for(var r=this.v9.get(e),i=0;i<r.length;i++)this.R6.has(r[i])&&t.push(this.R6.get(r[i]));return t},e.prototype.w9=function(e){return this.v9.has(e)},e.prototype.dN=function(){return 0!=this.R6.length},e.prototype.iN=function(e){return this.v9.has(e)},e}();t.mr=o},function(e,t,r){"use strict";var i=r(1),n=r(3),s=r(25),o=s.sl,a=function(){function e(){this.Tx=0,this.S9=0,this.ao=-1,this.R9=!1,this.b9=!1,this.P9=!1,this.A9=!1,this.C9=new i}return e.prototype.vq=function(e){this.k9=e},e.prototype.W=function(){return this.k9},e.prototype.oJ=function(e){this.Tx=e},e.prototype.oH=function(){return this.Tx},e.prototype.aJ=function(e){this.S9=e},e.prototype.J0=function(){return this.S9},e.prototype.rJ=function(e){var t=o.Vd(e+"_"+n.ni.Ut._t).toString(o.Ed.Td);this.fR=t},e.prototype.K_=function(){return this.fR},e.prototype.Yx=function(e){this.R9=e},e.prototype.fk=function(){return this.R9},e.prototype.hH=function(e){this.P9=e},e.prototype.Sk=function(){return this.P9},e.prototype.lV=function(e){this.A9=e},e.prototype.bk=function(){return this.A9},e.prototype.Z0=function(e){this.O9=e},e.prototype.Ek=function(){return this.O9},e.prototype.$0=function(e){this._9=e},e.prototype.iV=function(){return this._9},e.prototype.Kx=function(e){this.N9=e},e.prototype.kk=function(){return this.N9},e.prototype.D9=function(e){this.b9=e},e.prototype.Rk=function(){return this.b9},e.prototype.VJ=function(e){this.ao=e},e.prototype.qJ=function(){return this.ao},e.prototype.Wx=function(e){this.gx=e},e.prototype.Pk=function(){return this.gx},e.prototype.wM=function(e){this.privateIp=e},e.prototype.Cs=function(){return this.privateIp},e.prototype.yM=function(e){this.publicIp=e},e.prototype.Kh=function(){return this.publicIp},e.prototype.uV=function(e){this.Wq=e},e.prototype.nV=function(){return this.Wq},e.prototype.WC=function(e){this.delta=e},e.prototype.aV=function(){return this.delta},e.prototype.xC=function(e,t){this.C9.set(e,t)},e.prototype.MC=function(e){this.C9.delete(e)},e.prototype.sV=function(){return this.C9},e.prototype.WF=function(){return this.Rk()?this.C9.keys():[]},e.prototype.XF=function(){return this.Rk()?[]:this.C9.keys()},e.prototype.sJ=function(e){this.ticket=e},e.prototype.Ak=function(){return this.ticket},e}();t.Kz=a},function(e,t,r){"use strict";var i=this&&this.Ns||function(e,t){function r(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=r(11),s=r(180),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.z8=function(t,r){var i=[],s=[],o=[],a=this.wC.Ek();return t.forEach(function(e){e.Ik.Tk.type==n.Zs.K&&i.push(e);var t=e.Ik.Tk.internalAs;0!=a&&t&&a==t&&s.push(e),e.Ik.Tk.type==n.Zs.Xs&&o.push(e)}),i.length>0?e.prototype.z8.call(this,i,r):s.length>0?e.prototype.z8.call(this,s,r):e.prototype.z8.call(this,o,r)},t}(s.F9);t.Gz=o},function(e,t,r){"use strict";var i=r(0),n=r(3),s=function(){function e(){this.te=i.Framework.resolve(i.Framework.q.I).log()}return e.prototype.K8=function(e){this.wC=e},e.prototype.z8=function(e,t){return this.L9(e)[0]},e.prototype.M9=function(e,t){return n.ni.Mr.Fr*(e.E8()/t)+n.ni.Mr.Lr*(1-e.I8())},e.prototype.L9=function(e){var t=this,r=.1;r+=e.map(function(e){return e.E8()}).reduce(function(e,t){return e+t});var i=e.sort(function(e,i){return t.M9(i,r)-t.M9(e,r)}),n=[];return i.forEach(function(e){n.push(e.guid+":"+t.M9(e,r))}),this.te.debug("SC ["+n.join(", ")+"]"),i},e}();t.F9=s},function(e,t,r){"use strict";var i=r(45),n=r(1),s=r(55),o=r(6),a=r(3),h=r(0),c=r(43),u=r(88),l=r(5),p=l.Rt.Ci,f=function(){function e(){this.B9=!1}return e.prototype.init=function(e){this.te=h.Framework.resolve(h.Framework.q.I).log(e.sessionId),this.wC=e.wC,this.Wz=e.Wz,this.yx=e.yx,this.V_=e.V_},e.prototype.PC=function(e){this.AC=e},e.prototype.i1=function(){this.B9=!0,this.vJ()},e.prototype.zx=function(){if(a.ni.dr.ir)return void this.U9();var e=!this.wC.Sk()||this.wC.fk()||!p;this.te.debug("REQUEST REMOTE ELECTION "+e),e?this.U9():this.x9()},e.prototype.U9=function(){var e=this.wC.Ek(),t=e&&0!=e?u.sx.hC:u.sx.AS;this.Wz.X0(t)},e.prototype.x9=function(){this.Wz.X0(u.sx.nx)},e.prototype.vJ=function(){var e=this;this.cJ(),this.H9=h.Framework.setInterval(function(){e.zx()},a.ni.dr.sr),this.zx()},e.prototype.cJ=function(){this.H9&&h.Framework.clearInterval(this.H9)},e.prototype.uJ=function(){this.V_.nk(),this.AC.IN()},e.prototype.Jx=function(e){var t=new n;if(e){this.q9().forEach(function(e){t.set(e,i.cC.aC)});var r=!1,s=i.cC.aC;this.wC.Rk()&&(s=i.cC.hC,r=!0),this.V_.OC(t,s,r)}else this.V_.OC(t,i.cC.$s,!1)},e.prototype.e1=function(e,t){var r=this,h=this.V9(t),c=this.V_.kC().isLive();if(e&&e.length>0){var u=new s;u.addEach(e);var l=a.ni.dr.$t||u.some(function(e){var t=o.fn.hn(hive.DN.protocol.FN.LN,e.key.JN);return r.te.info("GOT RANKING "+t+",CRV "+e.oD+",RV "+e.nD+",GS "+e.sD),r.j9(e)}),p=null!=h&&0!=h.length;if(this.te.debug("Tracker reports ["+h.keys().join(", ")+"]  bitrates"),this.te.debug("ISLive "+c+" DoElect "+l),a.ni.dr.Zt&&c){var f=this.q9();if(p&&l){this.wC.D9(!0),this.te.info("BECOMING SITE LEADER");var d=new n;f.forEach(function(e){d.set(e,i.cC.aC)}),h.forEach(function(e,t){r.yx.Zq.has(e)||d.set(t,i.cC.hC)}),this.V_.OC(d,i.cC.hC,!1)}else{this.wC.D9(!1);var g=i.cC.$s,v=new n;this.wC.Sk()&&this.wC.fk()&&(g=i.cC.aC,f.forEach(function(e){v.set(e,i.cC.aC)})),this.V_.OC(v,g,!1)}}}else if(c){a.ni.dr.$t?this.wC.D9(!0):this.wC.D9(!1);var y=new n,g=i.cC.$s;if(this.wC.Sk()&&this.wC.fk()){var m=this.q9();m.forEach(function(e){y.set(e,i.cC.aC)}),g=i.cC.aC}a.ni.dr.$t&&(g=i.cC.hC),this.V_.OC(y,g,!1)}},e.prototype.RV=function(){var e=this.q9(),t=new n;e.forEach(function(e){t.set(e,i.cC.aC)});var r=!1,s=i.cC.aC;this.wC.Rk()&&(s=i.cC.hC,r=!0),this.V_.OC(t,s,r)},e.prototype.q9=function(){var e=new s;return this.yx.Zq.forEach(function(t,r){t.Tk.ao&&!e.has(t.Tk.ao)&&e.add(t.Tk.ao)}),e.toArray()},e.prototype.V9=function(e){var t=new n,r=this.wC.Ek();return e.forEach(function(e){null!=e.ao&&(r>0?r===e.internalAs&&t.set(e.ao,e.guid):t.set(e.ao,e.guid))}),t},e.prototype.j9=function(e){if(e.sD<2)return!1;var t=Math.max(1,Math.round(e.sD*a.ni.dr.tr));return p||h.Framework.S()&&c.iC.tC?e.nD<t&&(this.wC.fk()||!this.wC.Sk()):e.nD<t},e.prototype.rk=function(e,t,r,n){var s=1,o=this.AC.gk(r,t),c=a.ni.dr.ar*h.Framework.random();if(e==i.cC.aC){var u=this.AC.TN(),l=u-c;s=Math.max(1,o-l)}else if(e==i.cC.hC){var p=a.ni.dr.hr-c;s=Math.max(1,o-p)+n}return s=Math.round(s)},e}();t.Qz=f},function(e,t,r){"use strict";var i=r(0),n=r(1),s=r(21),o=r(30),a=r(4);r(56);var h=function(){function e(){this.G9=!1,this.mn="[TRACKER] ",this.Q9=new n,this.Pl=new o.Pw,this.protocol=new o.nS(this.Pl),this.te=i.Framework.resolve(i.Framework.q.I).log(),i.Framework.S()||(this.client=i.Framework.resolve(i.Framework.q.H))}return e.prototype.M0=function(e,t){return this.te.debug("TRACKER CLIENT REGISTERED "+e),this.Q9.has(e)||this.Q9.set(e,t),this.Q9.get(e)},e.prototype.Nl=function(e){this.Q9.delete(e)},e.prototype.Dl=function(e){return this.Q9.get(e)},e.prototype.W0=function(e){var t=this;if(this.client&&this.client.lc()){var r=this.K9(e),i=new s.pc(Services.mQ,1,r),n=this.client.lc().send(i);n.then(function(){return t.te.info("TRACKER REQUEST SENT")}),n.fail(function(e){t.te.warn("TRACKER PROBLEM: ",e)})}else this.te.warn("SERVICES CONNECTION DOWN, CAN'T SEND TRACKER REQUEST ",e)},e.prototype.init=function(){var e=this;this.te.debug("TRACKER MANAGER INIT"),this.client&&this.client.lc()?this.client.lc().on(Services.mQ,10,function(t){try{var r=e.Y9(t.msg);if(e.Q9.has(r.sessionId)){e.Q9.get(r.sessionId).ZJ(r)}else e.te.warn("SESSION ID NOT VALID OR NULL "+r.sessionId)}catch(t){a.ErrorMonitor.gi().di("Tracker Manager initialization failure",e.mn,t)}}):i.Framework.S()||this.te.warn(this.mn+" CANNOT GET ACTIVE CONNECTION")},e.prototype.Y9=function(e){var t='[1, "TRACKER_RESP", 4, 0,'+e+"]";this.Pl.Dw(t);var r=(this.protocol.BS(),new hive.DN.protocol.FN.uD);return r.read(this.protocol),r.lD.map(function(e){e.guid=atob(e.guid),e.publicIp=new InetAddress,e.publicIp.address=e.lo,e.privateIp=new InetAddress,e.privateIp.address=e.uo}),r.Tk.guid=atob(r.Tk.guid),r.Tk.publicIp=new InetAddress,r.Tk.publicIp.address=r.Tk.lo,r.Tk.privateIp=new InetAddress,r.Tk.privateIp.address=r.Tk.uo,this.protocol.GS(),this.G9&&this.te.debug("RESP "+JSON.stringify(r)),r},e.prototype.K9=function(e){this.protocol.vS("TRACKER_REQ",o.VI.KI,0),e.write(this.protocol),this.protocol.ES();var t=this.Pl.Qw(),r=this.RL(t,",",4);return t.slice(r+1,t.length-1)},e.prototype.RL=function(e,t,r){return e.split(t,r).join(t).length},e}();t._z=h},function(e,t,r){"use strict";var i=r(8),n=function(){function e(){this.z9=0,this.J9=0,this.W9=0,this.X9=0,this.Z9=0,this.e7=0,this.t7=0,this.r7=0,this.i7=0,this.n7=0,this.s7=0,this.partners={}}return e}();t.o7=n;var s=function(){function e(){this.Ck="",this.a7=0,this.h7=0,this.c7=0,this.u7=0}return e}();t.l7=s;var o=function(){function e(){}return e.prototype.init=function(e){this.peer=e},e.prototype.p7=function(e){var t=this;this.peer.Hc.forEach(function(r,i){e[i]||(e[i]=new n);var s=e[i];s.Ck=r.Cn.Dc.Eh;var o=r.Cn.Dc.KF.LF,a=t.f7(o.p2pSubRespQt),h=t.f7(o.srcRespQt);s.z9+=a,s.J9+=h,s.X9+=t.f7(o.srcReqN),s.Z9+=t.f7(o.srcRespN),s.e7+=t.f7(o.srcRespErrN),s.t7+=t.f7(o.srcRespQt),s.r7+=t.f7(o.p2pSubReqN),s.i7+=t.f7(o.p2pSubRespN),s.n7+=t.f7(o.p2pSubRespErrN),s.s7+=t.f7(o.p2pSubRespQt),s.W9=a/(h+a)*100})},e.prototype.f7=function(e){return e||0},e.prototype.d7=function(e){var t=this;this.peer.Hc.forEach(function(r,i){e[i]||(e[i]=new n);var o=e[i];o.Ck=r.Cn.Dc.Eh,r.Cn.Dc.KF.BF.forEach(function(e,r){o.partners[r]||(o.partners[r]=new s);var i=o.partners[r];i.Ck=r,i.a7+=t.f7(e.p2pSuccSent),i.h7+=t.f7(e.p2pSuccReceived),i.c7+=t.f7(e.p2pSuccReq),i.u7+=t.f7(e.p2pFailReq)})})},e.prototype.render=function(){var e={};this.p7(e),this.d7(e);try{i.HiveConfig.Stats.render&&i.HiveConfig.Stats.render(e)}catch(e){console.warn("error in rendering local stats",e)}},e}();t.Pz=o},function(e,t,r){"use strict";var i=r(32),n=r(1),s=r(0),o=r(3),a=function(){function e(){this.g7=new n,this.v7=new n}return e.prototype.init=function(e){this.te=s.Framework.resolve(s.Framework.q.I).log(e.sessionId)},e.prototype.$J=function(e){var t=e.zu(),r=e.Hu,n=e.Mu.Su,a=Math.ceil(n/o.ni.Mr.Nr),h=e.Qu.bitrate,c=0,u=Math.min(o.ni.Mr.Nr,n);this.y7(t,h);for(var l=u-c;a>0;){var p=null;s.Framework.S()||(p=i.wrap(r.slice(c,u))),c+=l,this.g7.get(t).push(p),a--,u=Math.min(c+o.ni.Mr.Nr,n),l=u-c}},e.prototype.y7=function(e,t){if(this.v7.has(t)&&this.v7.get(t).length>o.ni.Sr.wr){var r=this.v7.get(t)[0];this.g7.delete(r),this.v7.get(t).shift()}if(this.v7.has(t))this.v7.get(t).push(e),this.g7.set(e,[]);else{var i=[e];this.v7.set(t,i),this.g7.set(e,[])}},e.prototype.W6=function(e,t){return this.g7.has(e)?this.g7.get(e)[t]:null},e.prototype.m7=function(e){return this.v7.get(e)},e.prototype.fJ=function(){this.g7=new n,this.v7=new n},e}();t.Lz=a},function(e,t,r){"use strict";var i=r(1),n=r(3),s=r(0),o=r(25),a=(o.sl,function(){function e(){this.mn="[IPSpoofing] ",this.E7=n.ni.Vt.xt}return e.prototype.init=function(e){this.te=s.Framework.resolve(s.Framework.q.I).log(e.sessionId),this.SC=e.SC,this.T7=new i,this.I7=new i,this.E7&&this.w7()},e.prototype._q=function(e,t,r){if(!this.E7)return!1;if(this.T7.has(e)||!t||!r)return!1;var i=this.S7(t,r);if(i&&this.I7.has(i)){if(this.I7.get(i).length>=n.ni.Vt.Ht)return this.te.debug(this.mn+"Spoofing rule violated for "+e+" with privateIp "+t+" publicIp "+r),!0}return!1},e.prototype.Mq=function(e,t,r){if(this.E7&&r&&t){var i=this.S7(t,r),n=this.T7.get(e);n&&n!=i&&this.R7(e,n),this.b7(e,i)}},e.prototype.P7=function(e){this.E7&&this.dV(e)},e.prototype.aH=function(e){this.E7&&this.dV(e)},e.prototype.b7=function(e,t){this.T7.set(e,t);var r=[];this.I7.has(t)&&(r=this.I7.get(t),-1!=r.indexOf(e))||(r.push(e),this.I7.set(t,r))},e.prototype.dV=function(e){var t=this.T7.get(e);t?(this.R7(e,t),this.T7.delete(e)):this.te.warn(this.mn+"no ip pair for guid "+e)},e.prototype.R7=function(e,t){var r=this.I7.get(t),i=r.indexOf(e);-1!=i?(r.splice(i,1),0==r.length?this.I7.delete(t):this.I7.set(e,r)):this.te.warn(this.mn+"pair list "+t+" does not contain guid "+e)},e.prototype.S7=function(e,t){return t+":"+e},e.prototype.w7=function(){var e=this;s.Framework.setInterval(function(){var t=[];e.I7.forEach(function(r,i){if(r.length>n.ni.Vt.Ht){for(var s=[],o=n.ni.Vt.Ht;o<r.length;o++)s.push(r[o]);e.te.warn("IpSpoofing violation for "+i+" - closing: "+s),t.concat(s)}}),t.forEach(function(t){e.SC.Vq(t)})},n.ni.Vt.qt)},e}());t.Vt=a},function(e,t,r){"use strict";var i=this&&this.Ns||function(e,t){function r(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=r(187),s=r(3),o=r(95),a=r(0),h=function(e){function t(){var t=e.call(this)||this;return t.type="Score",t}return i(t,e),t.prototype.A7=function(e,t){return t.sort(o.QV.VV),t.slice(0,e)},t.prototype.C7=function(e,t,r,i){return i.filter(function(e){return t.every(function(t){return t.guid!=e.Tk.guid})&&-1==r.indexOf(e.Tk.guid)}).slice(0,e)},t}(n.k7);t.Bz=h;var c=function(){function e(){}return e.prototype.Jq=function(e){var t=e.filter(function(e){return!e.qq.Pl.ql()}),r=a.Framework.time(),i=t.filter(function(e){return r-e.n8>s.ni.Ut.Bt});return i.length>0?(i.sort(o.YV.VV),i.slice(0,1)[0]):null},e}();t.Uz=c},function(e,t,r){"use strict";var i=r(94),n=r(3),s=r(0),o=function(){function e(){this.te=s.Framework.resolve(s.Framework.q.I).log()}return e.prototype.Aq=function(e,t,r,o){var a=[],h=[],c=Math.round(e*(1-n.ni.Ot.Ct)),u=Math.max(t.length-c,0),l=e-t.length+u;if(u>0){var p=t.filter(function(e){return!e.qq.Pl.ql()}),f=s.Framework.time(),d=p.filter(function(e){return f-e.n8>n.ni.Ut.Bt}),g=Math.min(d.length,u);h=this.A7(g,d);var v=[],y=[];h.forEach(function(e){v.push(e.guid),y.push(e.GV.jV(!1))})}return l>0&&(a=this.C7(l,t,r,o)),this.te.debug("[PART] A/R: "+l+"/"+u+" ["+a.map(function(e){return e.Tk.guid.substring(0,8)})+"/"+h.map(function(e){return e.guid.substring(0,8)})+"] P:["+t.map(function(e){return e.guid.substring(0,8)})+"] M:["+o.map(function(e){return e.Tk.guid.substring(0,8)})+"]"),new i.qV(a,h)},e}();t.k7=o},function(e,t,r){"use strict";var i=r(1),n=r(94),s=r(3),o=r(0),a=r(6),h=r(95),c=function(){function e(){}return e.prototype.Aq=function(e,t,r,i,a){this.wC=e;var h=[],c=[],u=Math.round(t*(1-s.ni.Ot.Ct)),l=Math.max(r.length-u,0),p=t-r.length+l;if(l>0){var f=r.filter(function(e){return!e.qq.Pl.ql()}),d=o.Framework.time(),g=f.filter(function(e){return d-e.n8>s.ni.Ut.Bt}),v=Math.min(g.length,l);c=this.A7(v,g),c.length>v&&(p+=c.length-v);var y=[],m=[];c.forEach(function(e){y.push(e.guid),m.push(e.GV.jV(!1))})}return p>0&&(h=this.C7(p,r,i,a)),new n.qV(h,c)},e.prototype.A7=function(e,t){var r=this;t.sort(h.QV.VV);var i=t.slice(0,e);return t.slice(e,t.length).forEach(function(e){r.O7(e.Ik)&&i.push(e)}),i},e.prototype.C7=function(e,t,r,i){var n=this,o=[],a=[],h=[],c=[],u=[],l=this.wC.Ek();l||(l=-1);var p=[];t.forEach(function(e){p.push(e.guid)});var f=Math.floor(e*s.ni.Ut.Ft),d=this.wC.sV();i.forEach(function(e){var t=e.Tk.ho;if(t){var r=n.so(e,t,l,d);r.Ix?r._7?o.push(e):a.push(e):n.N7(e,s.ni.Ut.Dt)?n.O7(e)?u.push(e):c.push(e):h.push(e)}else u.push(e)});var g=this.D7(o,a,h,c,u,e,e,f);return g.slice(0,Math.min(g.length,e))},e.prototype.D7=function(e,t,r,i,n,h,c,u){var l=[],p=[];e.length>0&&o.Framework.random()<s.ni.Ut.Lt&&(e=a.fn.nn(e),p=e.slice(0,Math.min(e.length,u)),l.push.apply(l,p),c=h-p.length);var f=[];t.length>0&&(t=a.fn.nn(t),f=t.slice(0,Math.min(t.length,u)),l.push.apply(l,f),c=h-f.length);var d=[];r.length>0&&(r=a.fn.nn(r),d=r.slice(0,Math.min(r.length,u)),l.push.apply(l,d),c=h-d.length);var g=null;if(i.length>0){i=a.fn.nn(i),g=i.slice(0,Math.min(i.length,c));c=h-((d.length>0?d.length:0)-g.length)}var v=[];return c>0&&n.length>0&&(n=a.fn.nn(n),v=n.slice(0,Math.min(n.length,c)),l.push.apply(l,v)),l},e.prototype.so=function(e,t,r,n){var s=!1,o=!1,a=new i;t.forEach(function(e){a.set(e.bitrate,e)});var h=new i;return a.forEach(function(e,t){n.has(t)&&h.set(t,e)}),h.keys().length>0&&h.forEach(function(t,i){var a=n.get(i);if(a&&t.state>=2&&a.type>=1){var h=e.Tk.internalAs;h>0&&h==r&&(o=!0),s=!0}}),{Ix:s,_7:o}},e.prototype.N7=function(e,t){var r=this.wC.aV(),i=this.wC.qJ(),n=this.F7(e,i);return(0!=r||0!=n)&&(r<n&&r>n+t)},e.prototype.O7=function(e){var t=this.wC.aV(),r=this.wC.qJ(),i=this.F7(e,r);return 0==t&&0==i||t>i},e.prototype.F7=function(e,t){var r=e.Tk.ho,i=0;return r&&r.forEach(function(e){e.bitrate==t&&(i=e.delta)}),i},e}();t.xz=c;var u=function(){function e(){this.te=o.Framework.resolve(o.Framework.q.I).log()}return e.prototype.Jq=function(e,t,r){var n=this;this.wC=e;var a=this.wC.sV(),h=t.ho;if(h){var c=r.filter(function(e){return!e.qq.Pl.ql()}),u=o.Framework.time(),l=c.filter(function(e){return u-e.n8>s.ni.Ut.Bt});if(0==h.filter(function(e){return a.has(e.bitrate)}).length)return null;var p=this.L7(l),f=this.M7(a,p);if(f)return f;var d=a.keys().length,g=l.length,v=Math.round(g/d),y=p.keys().filter(function(e){return a.has(e)}),m=new i;y.forEach(function(e){m.set(e,p.get(e))});var E=this.B7(m,v);return null!=E?E:(h.forEach(function(e){var t=m.get(e.bitrate);if(null!=t){var r=n.U7(t);if(r.length>0&&!s.ni.Ut.Mt)return r[0]}}),null)}return null},e.prototype.L7=function(e){var t=new i;return e.forEach(function(e){var r=e.Ik.Tk.ao;if(r||(r=-1),t.has(r)){var i=t.get(r);i.push(e),t.set(r,i)}else t.set(r,[e])}),t},e.prototype.U7=function(e){return e.filter(function(e){if(0==e.KV.E5(s.ni.Or.kr))return e})},e.prototype.B7=function(e,t){var r=[];e.forEach(function(e,t){r.push({bitrate:t,x7:e.length})}),r.sort(function(e,t){return e.x7>t.x7?1:e.x7<t.x7?0:-1});var i=null;return r.forEach(function(r){if(e.get(r.bitrate).length>t){var n=e.get(r.bitrate);n.length>0&&(n.sort(h.YV.VV),i=n[0])}}),i},e.prototype.M7=function(e,t){var r=this,i=null;if(t.has(-1))i=t.get(-1)[0];else{t.filter(function(t,r){return!e.has(r)}).forEach(function(e,t){var n=r.U7(e);if(n.length>0)return void(i=n[0])})}return i},e}();t.Hz=u},function(e,t,r){"use strict";var i=r(0),n=r(10),s=r(31),o=r(22),a=r(11),h=r(8),c=r(3),u=function(){function e(){this.H7=!0===h.HiveConfig.Stats.Ds,this.q7=null}return e.prototype.init=function(e){this.te=i.Framework.resolve(i.Framework.q.I).log(e.sessionId),this.mn="S["+e.sessionId+"]",this.Dc=e.Cn.Dc,this.wC=e.wC,this.EJ()},e.prototype.d1=function(e){this.Dc.N_.metrics.memN=e,this.Dc.KF.metrics.memN=e},e.prototype.Fq=function(e,t){this.Dc.N_.metrics.lookupTotal++,this.Dc.KF.metrics.lookupTotal++,e?(this.Dc.N_.metrics.lookupNotFound++,this.Dc.KF.metrics.lookupNotFound++,this.Dc.N_.metrics.lookupFailed++,this.Dc.KF.metrics.lookupFailed++):t?(this.Dc.N_.metrics.lookupFailed++,this.Dc.KF.metrics.lookupFailed++):(this.Dc.N_.metrics.lookupReqEstablished++,this.Dc.KF.metrics.lookupReqEstablished++)},e.prototype.eV=function(){this.Dc.N_.metrics.lookupReqAccept++,this.Dc.KF.metrics.lookupReqAccept++},e.prototype.h8=function(e,t,r,i,n){if(this.H7||i){var s=n==o.Tu.Eu,a=this.Dc.mL(e),h=this.Dc.yL(e);a.p2pSuccReq++,a.p2pSuccReceived+=t,h.p2pSuccReq++,h.p2pSuccReceived+=t,s&&(a.p2pSuccReceivedLow+=t,h.p2pSuccReceivedLow+=t),r>0&&!s&&(a.p2pSuccReceivedLow+=t,h.p2pSuccReceivedLow+=t)}},e.prototype.l8=function(e,t,r,i,n,s){if(this.H7||n){var a=s==o.Tu.Eu,h=this.Dc.mL(e),c=this.Dc.yL(e);h.p2pFailReq++,h.p2pSuccReceived+=t,h.p2pFailReceived+=i-t,c.p2pSuccReq++,c.p2pSuccReceived+=t,c.p2pFailReceived+=i-t,a&&(h.p2pSuccReceivedLow+=t,c.p2pSuccReceivedLow+=t),r>0&&!a&&(h.p2pSuccReceivedLow+=t,c.p2pSuccReceivedLow+=t)}},e.prototype.p8=function(e,t,r){if(this.H7||r){var i=this.Dc.mL(e),n=this.Dc.yL(e);i.p2pFailReq++,i.p2pFailReceived+=t,n.p2pFailReq++,n.p2pFailReceived+=t}},e.prototype.d8=function(e,t,r){if(this.H7||r){var i=this.Dc.mL(t),n=this.Dc.yL(t);i.p2pSuccResp++,i.p2pSuccSent+=e,n.p2pSuccResp++,n.p2pSuccSent+=e}},e.prototype.m8=function(e,t,r,i){if(this.H7||i){var n=this.Dc.mL(r),s=this.Dc.yL(r);n.p2pPartResp++,n.p2pSuccSent+=e,n.p2pFailSent+=t-e,s.p2pPartResp++,s.p2pSuccSent+=e,s.p2pFailSent+=t-e}},e.prototype.v8=function(e,t,r){if(this.H7||r){var i=this.Dc.mL(t),n=this.Dc.yL(t);i.p2pFailResp++,i.p2pFailSent+=e,n.p2pFailResp++,n.p2pFailSent+=e}},e.prototype.J_=function(e){e?this.Dc.N_.metrics.bitrateUpN++:this.Dc.N_.metrics.bitrateDwnN++},e.prototype.BJ=function(e){if(-1==[n.Ws.zs,n.Ws.Js].indexOf(e.Yu())){var t=e.Yu()!=n.Ws.Ks;if((this.H7||t)&&(this.Dc.fL().reqN++,this.Dc.M_().reqN++,e.Yu()==n.Ws.Ys)){var r=e;if(r.bitrate){var i=r.bitrate;this.Dc.dL(i).reqN++,this.Dc.F_(i).reqN++}}}else this.Dc.fL().reqOtherN++,this.Dc.M_().reqOtherN++},e.prototype.sW=function(e){var t=e.Yu()!=n.Ws.Ks;if(this.H7||t){var r=this.Dc.fL(),i=this.Dc.M_(),s=null,a=null;if(-1==[n.Ws.zs,n.Ws.Js].indexOf(e.Yu())){if(r.srcReqN++,i.srcReqN++,t){var h=this.V7(e);h&&(s=this.Dc.dL(h),a=this.Dc.F_(h),s.srcReqN++,a.srcReqN++)}if(e.Ku()==o.Tu.vu&&(r.srcOtherReqN++,i.srcOtherReqN++,t)){var h=this.V7(e);h&&(s.srcOtherReqN++,a.srcOtherReqN++)}}}},e.prototype.J8=function(e){if(this.Dc.fL().p2pSubReqN++,this.Dc.M_().p2pSubReqN++,e.Yu()==n.Ws.Ys){var t=this.V7(e);t&&(this.Dc.dL(t).p2pSubReqN++,this.Dc.F_(t).p2pSubReqN++)}},e.prototype.j7=function(e,t){this.G7(e,this.Dc.M_()),this.G7(e,this.Dc.fL());var r=this.V7(e);r&&e.Yu()===n.Ws.Ys&&(this.G7(e,this.Dc.dL(r)),this.G7(e,this.Dc.F_(r))),isNaN(t)||(this.Dc.N_.metrics.srcThroughput=t)},e.prototype.uW=function(e,t){var r=e.Yu()!=n.Ws.Ks;(this.H7||r)&&(-1!=[n.Ws.zs,n.Ws.Js].indexOf(e.Yu())?(this.Dc.fL().respFallbackOtherN++,this.Dc.M_().respFallbackOtherN++):this.j7(e,t))},e.prototype.aW=function(e,t){if(-1!=[n.Ws.zs,n.Ws.Js].indexOf(e.Yu()))this.Dc.fL().respFallbackOthertErrN++,this.Dc.M_().respFallbackOthertErrN++;else{var r=e.Yu()!=n.Ws.Ks;if(this.H7||r)if(this.z_(e.type)){if(this.Dc.M_().respFallbackErrN++,this.Dc.fL().respFallbackErrN++,r){var i=this.V7(e);i&&(this.Dc.dL(i).respFallbackErrN++,this.Dc.F_(i).respFallbackErrN++)}if(0==e.Mu.Au&&(this.Dc.M_().srcRespErrN++,this.Dc.fL().srcRespErrN++,r)){var i=this.V7(e);i&&e.Yu()===n.Ws.Ys&&(this.Dc.dL(i).srcRespErrN++,this.Dc.F_(i).srcRespErrN++)}this.j7(e,t)}else if(-1!=c.ni.Wt.Jt.indexOf(e.Vu.status))this.Dc.fL().fallAgentFailedRespN++,this.Dc.M_().fallAgentFailedRespN++,this.Dc.fL().reqN--,this.Dc.M_().reqN--;else{if(0==e.Mu.Au&&(this.Dc.fL().srcOtherRespErrN++,this.Dc.M_().srcOtherRespErrN++),!r){var i=this.V7(e);i&&e.Yu()===n.Ws.Ys&&(this.Dc.dL(i).srcOtherRespErrN++,this.Dc.F_(i).srcOtherRespErrN++)}this.j7(e,t)}}},e.prototype.GJ=function(e,t){if(t.ex==o.Tu.Eu)this.Dc.M_().respP2pN++,this.Dc.fL().respP2pN++;else if(t.ex==o.Tu.vu)this.Dc.M_().respFallbackN++,this.Dc.fL().respFallbackN++;else if(t.ex==o.Tu.du){this.Dc.M_().lCacheRespN++,this.Dc.fL().lCacheRespN++;var r=i.Framework.S()?t.length:e.Hu.byteLength;this.Dc.M_().lCacheRespQt+=r,this.Dc.fL().lCacheRespQt+=r}},e.prototype.tW=function(e,t){var r=e.Yu()!=n.Ws.Ks;(this.H7||r)&&this.j7(e,t)},e.prototype.JJ=function(e){if(0!=e.qu){this.Dc.fL().p2pSubRespErrN++,this.Dc.M_().p2pSubRespErrN++;if(e.Yu()==n.Ws.Ys){var t=this.V7(e);t&&(this.Dc.dL(t).p2pSubRespErrN++,this.Dc.F_(t).p2pSubRespErrN++)}}},e.prototype.W8=function(e){if(this.Dc.fL().p2pSubRespExpN++,this.Dc.M_().p2pSubRespExpN++,e.Yu()==n.Ws.Ys){var t=this.V7(e);t&&(this.Dc.dL(t).p2pSubRespExpN++,this.Dc.F_(t).p2pSubRespExpN++)}},e.prototype.G7=function(e,t){var r=e.Mu.Su,i=e.Mu.Au,s=e.Mu.Ru,o=e.Mu.bu,h=e.Mu.Pu;if(e.Yu()!=n.Ws.zs){if(e.Mu.Iu&&o&&o<r){var c=o/r;t.p2pSubRespPartN+=c,this.z_(e.type)||(t.p2pAgenTrafficFailureQt+=r-s)}if(0!=h&&(h==r&&t.lCacheRespN++,t.lCacheRespQt+=e.Mu.Pu),0!=s)if(s==r&&(this.z_(e.type)&&t.respP2pN++,t.p2pSubRespN++),t.p2pSubReqQt+=r,t.p2pSubRespQt+=s,t.p2pAgenTrafficSuccessQt+=e.Mu.p2pAgenTrafficSuccessQt,t.p2pDirectQt+=s,e.KU.Ik.Tk.type==a.Zs.K)t.p2pUdpbQt+=s,t.p2pNatQt+=s;else{var u=this.wC.Ek();if(u&&u>0)if(null!=e.YU){var l=e.YU.internalAs;u===l&&(t.p2pNatQt+=s)}else this.te.warn("Missing partner info")}}if(0!=i){if(this.Q7(e.type)&&(t.srcOtherReqQt+=e.Mu.Au),i==r)this.Q7(e.type)?(t.srcOtherRespN++,t.srcOtherRespQt+=e.Mu.Au,t.srcOtherOverQt+=e.Mu.Au,t.fallAgentRespN++):t.respFallbackN++,t.srcRespN++;else{t.srcRespErrN++;var p=i/(s+i);t.respFallbackN=p,t.respP2pN=1-p,this.Q7(e.type)&&(t.srcOtherRespErrN++,t.srcOtherRespQt+=e.Mu.Au,t.srcOtherOverQt+=e.Mu.Au,t.fallAgenTrafficFailureQt+=e.Mu.Au)}t.srcReqQt+=e.Mu.Au,t.srcRespQt+=e.Mu.Au,t.srcOverQt+=e.Mu.Au,this.Q7(e.type)&&(t.fallAgenTrafficSuccessQt+=e.Mu.Cu)}},e.prototype.V7=function(e){var t=null;if(e.Qu instanceof s.SR){var r=e.Qu;r.bitrate&&(t=r.bitrate)}return t},e.prototype.z_=function(e){return e!=o.Tu.Eu&&e!=o.Tu.vu},e.prototype.Q7=function(e){return!this.z_(e)},e.prototype.EJ=function(){this.K7()},e.prototype.gJ=function(){i.Framework.clearInterval(this.q7),this.q7=null},e.prototype.K7=function(){var e=this;null!=this.q7&&(this.q7=i.Framework.setInterval(function(){e.Dc.qF=e.wC.iV(),e.Dc.HF=e.wC.Ek(),e.Dc.cL=e.wC.Kh()},c.ni.ii.ri))},e}();t.bz=u},function(e,t,r){"use strict";var i=r(0),n=r(3),s=r(11),o=r(191),a=r(8),h=function(){function e(){this.Y7=!1,this.mn="[UDPBDiscovery] ",this.z7=-1}return e.prototype.init=function(e){this.te=i.Framework.resolve(i.Framework.q.I).log(e.sessionId),this.J7=e.Xz,this.wC=e.wC},e.prototype.nJ=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.ss=e,this.fR=this.wC.K_()},e.prototype.W7=function(){var e=this;this.te.debug(this.mn+"START UDP BROADCAST SERVER"),this.J7.W7(n.ni.UDPBroadcast.Br,function(t,r){if(e.z7>-1){var i=o.X7.fu(r);if(i.Ck!=e.guid&&i.Nx==e.fR&&i.Qq===n.ni.Ut._t){e.te.debug(e.mn+"I RECEIVED A MESSAGE FROM "+i.Ck);var a=new s.po(s.Zs.K,null,i.so);a.guid=i.Ck,a.uo=t,a.co=i.co,e.ss.forEach(function(e){return e.Ax([a],!1)})}}})},e.prototype.mJ=function(){var e=this;this.te.info(this.mn+"START BROADCAST EVERY "+n.ni.UDPBroadcast.Ur),-1!=this.z7&&i.Framework.clearInterval(this.z7),this.z7=i.Framework.setInterval(function(){e.Z7()},n.ni.UDPBroadcast.Ur),this.Z7()},e.prototype.pJ=function(){-1!=this.z7&&i.Framework.clearInterval(this.z7)},e.prototype.Z7=function(){var e=new o.X7(this.fR,this.wC.W(),this.wC.oH(),this.wC.fk(),n.ni.Ut._t);this.te.info(this.mn+"BROADCAST MESSAGE contextId "+e.Nx+" id "+e.Ck+" udpscore "+e.co+" lan leader "+e.so+" protobufVersion "+e.Qq),a.HiveConfig.UDPBroadcast.usiz&&(n.ni.UDPBroadcast.xr=a.HiveConfig.UDPBroadcast.usiz),this.J7.eee(n.ni.UDPBroadcast.Br,n.ni.UDPBroadcast.xr,e.pu())},e.prototype.Zh=function(e){this.te.info("UDPDISCOVERY SERVER CONNECTED"),this.Y7||(this.guid=e,this.W7(),this.mJ())},e}();t.Iz=h},function(e,t,r){"use strict";var i=function(){function e(e,t,r,i,n){this.Nx=e,this.Ck=t,this.co=r,this.so=i,this.Qq=n}return e.prototype.pu=function(){var e={Nx:this.Nx,Ck:this.Ck,co:this.co,so:this.so,Qq:this.Qq};return JSON.stringify(e,this.tee)},e.prototype.tee=function(e,t){if(null!==t)return t},e.fu=function(t){var r=t,i=JSON.parse(r);return new e(i.Nx,i.Ck,i.co,i.so,i.Qq)},e}();t.X7=i},function(e,t,r){"use strict";var i=r(0),n=function(){function e(){this.mn="[ProxyUDPB]",this.te=i.Framework.resolve(i.Framework.q.I).log(),this.J7=window.ree,this.J7||this.te.error(this.mn+" helper undefined")}return e.prototype.W7=function(e,t){try{this.J7&&this.J7.W7(e,t)}catch(e){this.te.warn(this.mn+e)}},e.prototype.iee=function(){try{this.J7&&this.J7.iee()}catch(e){this.te.warn(this.mn+e)}},e.prototype.eee=function(e,t,r){try{this.J7&&this.J7.eee(e,t,r)}catch(e){this.te.warn(this.mn+e)}},e.prototype.pJ=function(){try{this.J7&&this.J7.pJ()}catch(e){this.te.warn(this.mn+e)}},e.prototype.nee=function(e,t){try{this.J7&&this.J7.nee(e,t)}catch(e){this.te.warn(this.mn+e)}},e}();t.wz=n},function(e,t,r){"use strict";var i=this&&this.Ns||function(e,t){function r(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=r(85),s=r(194),o=r(86),a=r(87),h=r(57),c=r(22),u=r(31),l=r(2),p=r(4),f=function(e){function t(){var t=e.call(this)||this;return t.see.onerror=function(e){p.ErrorMonitor.gi().di("Shared Worker error",{error:e.message})},t.oee.onerror=function(e){p.ErrorMonitor.gi().di("Web Worker error",{error:e.type})},t.see.port.start(),t}return i(t,e),t.prototype.aee=function(){var e=this;setTimeout(function(){e.hee()},1e3)},t.prototype.hee=function(){var e=this;this.see.port.onmessage=function(t){e.te.debug("LRU length : "+t.data.response)},this.te.debug("Send message"),this.see.port.postMessage({type:s.uee.cee}),this.aee()},t.prototype.contains=function(e){var t=this,r=l.defer();if(this.xU.has(e))r.resolve(!0);else{var i=!1,n=setTimeout(function(){i=!0,t.te.debug("VOD CONTAINS TIMEDOUT : "+e),r.resolve(!1)},1e3);this.see.port.onmessage=function(e){clearTimeout(n),i||(e.data.response?r.resolve(!0):r.resolve(!1))},this.see.onerror=function(e){t.te.error(e)},this.see.port.postMessage({type:s.uee.lee,pee:e})}return r.Te},t.prototype.fee=function(e){var t=l.defer(),r=this.xU.get(e);if(null!=r){var i=null;r.content.forEach(function(e,t){if(h.wD.ID(t).vD())return i=e,i.headers=r.headers,void(i.YU=r.YU)}),t.resolve(i)}else t.resolve(null);return t.Te},t.prototype.get=function(e){var t=this,r=l.defer();if(this.xU.has(e))this.fee(e).then(function(e){r.resolve(e)});else{this.te.debug("SHAREDWORKER: Permission Request to READ");var i=Date.now();this.dee(s.uee.gee,i).then(function(n){t.te.debug("SHAREDWORKER: Permission Request To READ : "+n),n?t.vee(e).then(function(e){t.te.debug("SHAREDWORKER:  Read Completed "),t.see.port.postMessage({type:s.uee.yee,id:i}),r.resolve(e)}):r.resolve(null)})}return r.Te},t.prototype.vee=function(e){var t=this,r=l.defer(),i=null,n=!1,a=setTimeout(function(){n=!0,r.resolve(i)},1e3);return this.oee.onmessage=function(h){if(clearTimeout(a),!n){if(h.data.response){var u=new c.Fu;u.Iu=!1,u.wu=!0,u.Su=h.data.data.length,u.Ru=0,u.Pu=h.data.data.length,u.Au=0,i=new o.zU(h.data.data.length,h.data.data.content,u,c.Tu.du),i.headers=h.data.data.mee}else t.see.port.postMessage({type:s.uee.Eee,pee:e});r.resolve(i)}},this.oee.postMessage({type:s.uee.Tee,pee:e}),r.Te},t.prototype.m=function(){var e=this;this.te.debug("FLUSHING IN-MEMORY CACHE");for(var t=[],r=0;r<this.qU.length;r++)this.xU.get(this.qU[r]).ix||t.push(this.qU[r]);this.te.debug("Flush "+t.length+" in memory"),t.length>0?this.Iee(t).then(function(t){e.wee()}):this.wee()},t.prototype.wee=function(){var e=this,t=0,r=0;this.te.debug("PURGING PERSISTENTDB's IN-MEMORY CACHE"),this.qU.every(function(i,n){var s=e.xU.get(i).size();return t+s>e.VU?(r=n,e.te.debug("CACHE TOO BIG "+(t+s)),!1):(t+=s,!0)})||this.qU.splice(r,this.qU.length-1).forEach(function(t){e.xU.delete(t)}),this.GU()},t.prototype.Iee=function(e){var t=this,r=l.defer();this.te.debug("SHAREDWORKER:  Permission Request To Write ");var i=Date.now();return this.dee(s.uee.See,i).then(function(n){t.te.debug("SHAREDWORKER:  Permission Request To WRITE : "+n),n?(t.te.debug("Flush the contents"),t.Ree(e).then(function(e){t.te.debug("SHAREDWORKER:  WRITE COMPLETED"),t.see.port.postMessage({type:s.uee.bee,id:i}),r.resolve(e)})):r.resolve(n)}),r.Te},t.prototype.Ree=function(e){var t=this,r=l.defer();return this.Pee(e[0]).then(function(i){if(i)e.shift(),0==e.length?r.resolve(!0):t.Ree(e).then(function(e){r.resolve(e)});else{var n=!1,o=setTimeout(function(){n=!0,e.shift(),0==e.length?r.resolve(!1):t.Ree(e).then(function(e){r.resolve(e)})},1e3);t.oee.onmessage=function(i){i.data&&(t.xU.get(e[0]).ix=!0,t.see.port.postMessage({type:s.uee.Aee,pee:e[0],size:t.xU.get(e[0]).size()})),clearTimeout(o),n||(e.shift(),0==e.length?i.data?r.resolve(!0):r.resolve(!1):t.Ree(e).then(function(e){r.resolve(e)}))},t.oee.onerror=function(e){t.te.error(e)};var a=t.xU.get(e[0]),c=null,u=null;a.content.forEach(function(e,t){if(h.wD.ID(t).vD())return c=e,u=t,void(c.headers=a.headers)});var l={mR:a.Qu.zu(),headers:a.headers,length:a.size(),Cee:u,content:c.data,Qu:a.Qu};t.oee.postMessage({type:s.uee.kee,data:l})}}),r.Te},t.prototype.Pee=function(e){var t=this,r=l.defer(),i=!1,n=setTimeout(function(){i=!0,r.resolve(!1)},1e3);return this.see.port.onmessage=function(s){clearTimeout(n),i||(t.te.debug("SHAREDWORKER:  CONTAINS REQUEST : "+e+" : "+s.data.response),s.data.response?r.resolve(!0):r.resolve(!1))},this.see.onerror=function(e){t.te.error(e),r.resolve(!1)},this.see.port.postMessage({type:s.uee.lee,pee:e}),r.Te},t.prototype.dee=function(e,t){var r=this,i=l.defer(),n=!1,o=setTimeout(function(){n=!0,i.resolve(!1)},2e3);return this.see.port.onmessage=function(t){clearTimeout(o),n?e==s.uee.gee?r.see.port.postMessage({type:s.uee.yee}):e==s.uee.See&&r.see.port.postMessage({type:s.uee.bee}):i.resolve(t.data.response)},this.see.onerror=function(e){r.te.error(e)},this.see.port.postMessage({type:e,id:t}),i.Te},t.prototype.hk=function(e){return[]},t.prototype.JU=function(e){var t=this,r=l.defer(),i=[],n=Date.now();return this.dee(s.uee.gee,n).then(function(e){if(e){var o=!1,h=setTimeout(function(){o=!0,t.see.port.postMessage({type:s.uee.yee,id:n}),r.resolve(i)},4e3);t.oee.onmessage=function(e){if(clearTimeout(h),e.data.response&&null!=e.data)for(var c=0;c<e.data.elements.length;c++){var l=new u.SR(e.data.elements[c].url,e.data.elements[c].gR,e.data.elements[c].dR,e.data.elements[c].vR,e.data.elements[c].duration,e.data.elements[c].bitrate,e.data.elements[c].yR),p=new a.QU(l);p.headers=e.data.elements[c].mee,p.tx=e.data.elements[c].length,i.push(p)}t.see.port.postMessage({type:s.uee.yee,id:n}),o||r.resolve(i)},t.oee.onerror=function(e){p.ErrorMonitor.gi().di("GET ELEMENTS ERROR",{error:e}),t.see.port.postMessage({type:s.uee.yee,id:n})},t.oee.postMessage({type:s.uee.Oee})}}),r.resolve(null),r.Te},t}(n.$U);t.Sz=f},function(e,t,r){"use strict";var i=function(){function e(){}return e}();i.See="write_request",i.lee="contains_request",i.Aee="write_id_operation",i.gee="read_request",i.yee="read_completed",i.bee="write_completed",i.Eee="update_lru",i.cee="lru_stats",i.Tee="read_operation",i.Oee="read_elements_operation",i._ee="read_keys_operation",i.kee="write_operation",t.uee=i},function(e,t,r){"use strict";var i=this&&this.Ns||function(e,t){function r(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=r(20);!function(e){!function(e){var t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(n.gn.ou.au);e.uz=t}(e.ou||(e.ou={}))}(t.gn||(t.gn={}))},function(e,t,r){"use strict";var i=r(2),n=r(7),s=r(197),o=r(26),a=o.gn.HiveTechError,h=o.gn.cE,c=r(65),u=r(19),l=r(18),p=r(42),f=r(50),d=r(8),g=r(4),v=r(53),y=r(29),m=r(67),E=(r(51),navigator),T=function(){function e(e,t,r){this.mn="[HiveJsProxy]",this.Nee=0,this.h_=e,this.options_=new s.gn.ou.Dee,this.Fee(t),this.l_(),this.Vj=r}return e.prototype.Fn=function(){return e.c_},e.prototype.getVersion=function(){return this.version},e.prototype.u_=function(){return!1},e.prototype.l_=function(){var e=this;if(null==this.Lee||Date.now()-this.Nee>1e4){var t="//"+c.cO.oA+":"+c.cO.uO+"/version.json";this.Lee=n.ps(t).then(function(t){var r=JSON.parse(t);return e.state=r.state,e.version=r.version,"ready"===e.state?"ready":(e.te().warn(e.id()+"Client not ready: "+e.state),i.reject(new a(h.nE,"state "+e.state)))},function(t){var r="Client not reachable";return void 0!=t&&void 0!=t.status&&-1!=t.status&&(r="Client check returned "+t.status),e.te().warn(e.id()+r),i.reject(new a(h.nE,r))}).catch(function(e){return e instanceof a?i.reject(e):i.reject(new a(h.nE,"error parsing response"))}),this.Nee=Date.now()}return this.Lee},e.prototype.initSession=function(e,t){var r=this;return this.l_().then(function(){return r.XV(e).then(function(t){var i=r.p_(e,t);if(null!=i)return m.wn.XD(r.h_,i.id),m.wn.bn(r,i.id),n.HiveRequestFactory.bn(i.id,r.Fn()),i;throw new a(h.Xm,"error generating session")})}).catch(function(e){return e instanceof a?i.reject(e):i.reject(new a(h.Xm,"generic error resolving ticket"))})},e.prototype.$D=function(e){this.fz=e},e.prototype.f_=function(){return this.options_.initTimeout},e.prototype.ci=function(e,t){var r=t.manifest.toLowerCase(),i=e.toLowerCase(),n=r.indexOf(".ism/manifest");if(n>-1){var s=r.substring(0,n);if(i.indexOf(s)>-1)return i.indexOf(".ism/manifest(format=mpd-time-csf)")>-1?this.fz?(t.ticket.SourceURL=e,!0):this.dz(t,"The player does not use HiveRequest, downgrading to StatsJS"):this.dz(t,"Protocol not supported by HiveJsProxy tech, downgrading to StatsJS")}else if(i===r)return!!this.fz||this.dz(t,"The player does not use HiveRequest, downgrading to StatsJS");return!1},e.prototype.dz=function(e,t){var r=this;return e.tech=this.Vj,y.Hive.Reporting().initSession(e.ticket.ticketUrl,!1).then(function(t){e.Mn(t);t.ticket;r.te().debug("[HiveJSProxy] downgrade verified ticket "+e.ticket.ticketUrl),r.h_.wh(t)}).fail(function(e){g.ErrorMonitor.gi().di("Error initializing session when downgrading session tech",r.mn,{error:e})}),this.fz&&this.fz.tF(),this.fz=void 0,n.HiveRequestFactory.bn(e.id,v.StatsJS.c_),this.h_.te().warn("[HiveJsProxy] "+t),this.onError(new a(h.oE,t)),!0},e.prototype.Nn=function(e,t){var r=this;this.te().debug(this.id()+"Stopping session "+e.id+" [onUnload:"+t+"]");var i="//"+c.cO.oA+":"+c.cO.uO+"/proxy/"+e.id+"/stop";t&&E.sendBeacon?(E.sendBeacon(i),this.te().debug(this.id()+"session stopped ["+e.id+"][beacon]")):n.ps(i,null,!t).then(function(){r.te().debug(r.id()+"session stopped ["+e.id+"]"+(t?"[sync]":""))},function(i){r.te().warn(r.id()+"session close error ["+e.id+"]"+(t?"[sync]":""),i)})},e.prototype.On=function(e,t){var r=t?u._c.IDLE:u._c.Oc;this.te().debug(this.id()+"idle state: "+u._c[r])},e.prototype.g_=function(e,t){var r=this,s="playing-point="+t.Rs;s+="&buffer-length="+t.bs,s+="&total-buffering="+t.Ps,s+="&width="+t.width,s+="&height="+t.height,s+="&fullscreen="+t.tG;var o="//"+c.cO.oA+":"+c.cO.uO+"/proxy/"+e.id+"/stats/put?"+s;return n.ps(o).fail(function(e){return r.te().warn(r.id()+"error sending feedback to Hive Client",e),i.reject(e)})},e.prototype.E_=function(e,t,r){var s=this,o="//"+c.cO.oA+":"+c.cO.uO+"/proxy/"+e.id+"/event?type="+t;if(void 0!=r)for(var a in r)o+="&"+a+"="+r[a];return this.te().debug(this.id()+"event "+l.kc.$a[t],void 0!=r?r:""),n.ps(o).fail(function(e){return s.te().warn(s.id()+"error sending feedback event to Hive Client",e),i.reject(e)})},e.prototype.Nh=function(e,t){return i.resolve(!0)},e.prototype.onError=function(e){var t=!0;if(void 0!=this.options_.onError)try{t=this.options_.onError(e)}catch(e){g.ErrorMonitor.gi().di("exception in user-defined onError callback",this.id(),e)}return t},e.prototype.onActiveSession=function(e){var t=this.h_.b_();0===t.indexOf("//")&&(t=location.protocol+t);var r=n.gs(c.cO.KD,c.cO.oA,c.cO.uO,e.id,t);if(e.authenticationToken&&this.version>="3.0.1"?n.ds(r,JSON.stringify({authenticationToken:e.authenticationToken})):n.ps(r),this.wh(e),f.In.mi(this.te()),this.fz&&this.fz.rF(),this.Mee(e),void 0!=this.options_.onActiveSession)try{this.options_.onActiveSession(e.Dn())}catch(e){g.ErrorMonitor.gi().di("exception in user-defined onActiveSession callback",this.id(),e)}},e.prototype.A_=function(){},e.prototype.C_=function(){},e.prototype.k_=function(e){this.h_=e},e.prototype.id=function(){return"["+e.c_+"] "},e.prototype.Fee=function(t){void 0!=t[e.c_]&&n.vs(t[e.c_],this.options_)},e.prototype.XV=function(e){var t=this;this.te().debug(this.id()+"resolving ticket: "+e);var r=this.Bee(e),s=JSON.stringify(this.Uee());return n.ds(r,s,"application/json").then(function(r){var i=JSON.parse(r);return t.te().debug(t.id()+"resolved ticket "+e+" -> "+i.manifest),i},function(r){return t.te().warn(t.id()+"ticket "+e+" resolve error: "+r),i.reject(new a(h.Xm,r))}).catch(function(e){return e instanceof a?i.reject(e):i.reject(new a(h.sE,e))})},e.prototype.Bee=function(e){return e=encodeURIComponent(e),n.gs(c.cO.aA,c.cO.oA,c.cO.uO,e,"&",this.h_.tj())},e.prototype.p_=function(e,t){var r=new p.VA;r.AA(e);var i=new n.Bn(e,r,t.manifest,null);return i.O_=!0,i.id=t.sessionId,i.ticket.sessionId=i.id,i},e.prototype.Uee=function(){var e={};e.HiveConfig={};for(var t in window.HiveConfig){e.HiveConfig[t]={};for(var r in window.HiveConfig[t])e.HiveConfig[t][r]=window.HiveConfig[t][r]}return e},e.prototype.Mee=function(e){var t=this;if(void 0!==d.HiveConfig.Stats.render){var r="//"+c.cO.oA+":"+c.cO.uO+"/proxy/"+e.id+"/stats/get";if("undefined"!=typeof EventSource){var i=new EventSource(r);i.onmessage=function(e){t.xee(e.data)},i.onerror=function(e){i.close()}}else this.Hee=window.setInterval(function(){n.ps(r).then(function(e){t.xee(e)})},4e3)}},e.prototype.wh=function(e){var t=this,r="comm-version="+this.h_.mj();r+="&plugin-name="+this.h_.ej(),r+="&plugin-version="+this.h_.rj(),r+="&player-tech="+this.h_.Ej(),r+="&player-version="+this.h_.getPlayerVersion(),this.h_.Kj()&&(r+="&telemetry-id="+this.h_.Kj());var s=n.gs(c.cO.YD,c.cO.oA,c.cO.uO,e.id,r);return n.ps(s).fail(function(e){return t.te().debug(t.id()+"error sending player Info to Hive Client",e),i.reject(e)})},e.prototype.xee=function(e){try{var t=JSON.parse(e);for(var r in t)t.hasOwnProperty(r)&&(t[r].human=function(e){return e>1e6?(e/1e6).toFixed(2)+"MB":e>1e3?(e/1e3).toFixed(2)+"KB":e+"B"});d.HiveConfig.Stats.render(t)}catch(e){console.trace(e)}},e.prototype.te=function(){return this.h_.te()},e}();T.c_="HiveJsProxy",t.HiveJsProxy=T},function(e,t,r){"use strict";var i=this&&this.Ns||function(e,t){function r(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=r(20);!function(e){!function(e){var t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(n.gn.ou.au);e.Dee=t}(e.ou||(e.ou={}))}(t.gn||(t.gn={}))},function(e,t,r){"use strict";var i=this&&this.Ns||function(e,t){function r(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=r(2),s=r(7),o=r(20),a=r(199),h=r(26),c=r(39),u=r(19),l=r(18),p=r(42),f=r(4),d=a.gn.ou,g=o.gn.ou.hu,v=h.gn.HiveTechError,y=h.gn.cE,m=r(51);t.qee=navigator;var E=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(s.Bn),T=function(){function e(e,t){this.Nee=0,this.h_=e,this.options_=new d.Vee,this.Fee(t),s.ys(window.location.href,new g,this.options_)}return e.prototype.Fn=function(){return e.c_},e.prototype.getVersion=function(){return this.version},e.prototype.u_=function(){return!1},e.prototype.l_=function(){var e=this;if(null==this.Lee||Date.now()-this.Nee>1e4){var t=new m;t.Bh(navigator.userAgent);var r=t.NO();if("IE"===r.name&&r.version&&parseInt(r.version)<10)return n.reject(new v(y.nE,"Internet Explorer < v.10 not supported"));this.jee=Date.now(),this.Gee=0;var i="//"+c.tu.oA+":"+this.h_.options().monitorPort+"/version.json";this.te().debug(this.id()+"verifying Hive Client version"),this.Lee=s.ps(i).then(function(t){var r=JSON.parse(t);return e.state=r.state,e.version=r.version,"ready"===e.state?"developer"===e.version||e.version>=e.options_.minVersion?(e.Gee=Date.now(),e.te().debug(e.id()+"Hive Client ready - version "+e.version+" ["+(e.Gee-e.jee)+"]"),"ready"):(f.ErrorMonitor.gi().di("Client version requirement not satisfied",e.id(),{version:e.version,minVersion:e.options_.minVersion}),e.h_.Yj(new l.kc.Pc(null,l.kc.oh.rh)),n.reject(new v(y.aE,"version "+e.version))):(f.ErrorMonitor.gi().di("Cannot check version: client state not ready",e.id(),{state:e.state}),e.h_.Yj(new l.kc.Pc(null,l.kc.oh.th)),n.reject(new v(y.nE,"state "+e.state)))},function(t){var r="Client not reachable";return void 0!=t&&void 0!=t.status&&-1!=t.status&&(r="Client check returned error"),f.ErrorMonitor.gi().di(r,e.id(),void 0!=t&&void 0!=t.status&&-1!=t.status?{status:t.status}:void 0),e.h_.Yj(new l.kc.Pc(null,l.kc.oh.eh)),n.reject(new v(y.nE,r))}).catch(function(t){if(t instanceof v)return n.reject(t);var r="Error fetching Hive Client version";return f.ErrorMonitor.gi().di(r,e.id(),t),n.reject(new v(y.nE,r))}),this.Nee=Date.now()}return this.Lee},e.prototype.initSession=function(e,t){var r=this;return this.options_.minVersion!=c.tu.uA?this.l_().then(function(){return r.Qee(e).catch(function(e){return n.reject(e)})}):this.Qee(e).catch(function(e){return n.reject(e)})},e.prototype.f_=function(){return this.options_.initTimeout},e.prototype.ci=function(e,t){return e.indexOf(t.Kee)>-1},e.prototype.Nn=function(e,r){var i=this;this.te().debug(this.id()+"Stopping session "+e.id+" [complete close:"+r+"]");var n="//"+c.tu.oA+":"+this.h_.options().playerPort+"/session?action=stop";n+="&currentSession="+e.id,r&&(n+="&completeStop=true"),r&&t.qee.sendBeacon?(t.qee.sendBeacon(n),this.te().debug(this.id()+"session stopped ["+e.id+"][beacon]")):s.ps(n,null,!r).then(function(){i.te().debug(i.id()+"session stopped ["+e.id+"]"+(r?"[sync]":""))},function(t){i.te().warn(i.id()+"session close error ["+e.id+"]"+(r?"[sync]":""),t)})},e.prototype.On=function(e,t){this.Yee=t?u._c.IDLE:u._c.Oc,this.te().notice("[HiveComm] client state: "+u._c[this.Yee])},e.prototype.g_=function(e,t){if(this.Yee==u._c.IDLE)return n.resolve(!0);var r="playing-point="+t.Rs;r+="&buffer-length="+t.bs,r+="&total-buffering="+t.Ps,r+="&width="+t.width,r+="&height="+t.height,r+="&fullscreen="+t.tG;var i=e.Kee+"stats?"+r;return this.te().trace(i),s.ps(i)},e.prototype.E_=function(e,t,r){var i=this;if(!(t!==l.kc.$a.Za&&t!==l.kc.$a.HIDDEN||this.version&&("developer"===this.version||this.version>="2017")))return n.resolve(!0);var o=e.Kee+"player-event?type="+l.kc.$a[t];if(void 0!=r)for(var a in r)o+="&"+a+"="+r[a];return this.te().debug(this.id()+"event "+l.kc.$a[t],void 0!=r?r:""),s.ps(o).fail(function(e){return i.te().warn(i.id()+"error sending feedback event to Hive Client",e),n.reject(e)})},e.prototype.Nh=function(e,t){return n.resolve(!0)},e.prototype.wh=function(e){var t=this;if(this.zee())return this.te().warn("Player info not supported in this Java client version"),n.resolve(!0);var r="comm-version="+this.h_.mj();r+="&plugin-name="+this.h_.ej(),r+="&plugin-version="+this.h_.rj(),r+="&player-tech="+this.h_.Ej(),r+="&player-version="+this.h_.getPlayerVersion(),this.h_.Kj()&&(r+="&telemetry-id="+this.h_.Kj());var i=e.Kee+"player-info?"+r;return s.ps(i).fail(function(e){return t.te().debug(t.id()+"error sending player Info to Hive Client",e),n.reject(e)})},e.prototype.onError=function(e){var t=!0;if(void 0!=this.options_.onError)try{t=this.options_.onError(e)}catch(e){f.ErrorMonitor.gi().di("Exception in user-defined onError callback",this.id(),e)}return t},e.prototype.A_=function(e,t,r){var i={isReadyIn:this.jee,isReadyOut:this.Gee,leaseIn:this.Jee,leaseOut:this.Wee,resolveIn:this.Xee,resolveOut:this.Zee};void 0!==t&&null!=t&&(i.sessionId=t.id),void 0!==r&&(i.total=r);var n=JSON.parse(JSON.stringify(i));f.ErrorMonitor.gi().di(e.message,this.id(),n),this.h_.Yj(new l.kc.Pc(null,l.kc.oh.sh,i)),this.$ee()},e.prototype.onActiveSession=function(e){if(this.wh(e),s.Es.setItem("hiveActiveSessionId",e.id),void 0!=this.options_.onActiveSession)try{this.options_.onActiveSession(e.Dn())}catch(e){f.ErrorMonitor.gi().di("Exception in user-defined onActiveSession callback",this.id(),e)}},e.prototype.k_=function(e){this.h_=e},e.prototype.id=function(){return"["+e.c_+"] "},e.prototype.Fee=function(t){void 0!=t[e.c_]&&s.vs(t[e.c_],this.options_)},e.prototype.Qee=function(e){var t=this,r=(new Date).getTime();return this.ete(e).then(function(i){return i?t.tte(e,i,r):t.XV(e).then(function(i){return t.tte(e,i,r)})})},e.prototype.ete=function(t){var r=this;if(this.Jee=Date.now(),this.h_.options().useSessionCheck){var i="//"+c.tu.oA+":"+this.h_.options().playerPort+"/session?&action=check";i+="&hivePluginId="+this.h_.tj(),i+="&callback="+encodeURIComponent(t);var o=s.Es.getItem("hiveActiveSessionId");return s.Es.removeItem("hiveActiveSessionId"),o&&(i+="&currentSession="+o),this.rte(),s.ps(i).then(function(e){return r.Wee=Date.now(),e?r.ite(e,i,t,r.Jee):(r.te().debug(r.id()+"session allowed ["+(r.Wee-r.Jee)+"]"),!1)},function(t){if(400==t.status)return r.nte("bad request","error resolving ticket",t);if(401==t.status)return r.nte("unauthorized","error verifying the ticket",t);if(403==t.status){var i=e.ste(t,void 0,"session"),s=i?{ote:i}:void 0;return f.ErrorMonitor.gi().di("reports another active session",r.id(),s),r.h_.Yj(new l.kc.Pc(null,l.kc.oh.ih,s)),n.reject(new v(y.oE,"another active session"+(s?" ["+s.ote+"]":"")))}return 404==t.status?(r.te().debug(r.id()+"installed version does not support active session check"),r.Wee=Date.now(),!1):-1==t.status?(clearTimeout(r.ate),r.hte()):(f.ErrorMonitor.gi().di("unhandled error from Java",r.id(),{error:t.status}),r.h_.Yj(new l.kc.Pc(null,l.kc.oh.nh)),n.reject(new v(y.sE,t)))}).catch(function(e){return e instanceof v?n.reject(e):(f.ErrorMonitor.gi().di("unhandled error on requestLeaseDirect",r.id(),{error:e}),r.h_.Yj(new l.kc.Pc(null,l.kc.oh.nh)),n.reject(new v(y.sE,e)))}).finally(function(){clearTimeout(r.ate)})}return this.te().debug(this.id()+"Hive session check disabled - will directly resolve ticket (other active sessions may fail)"),n.resolve(!1)},e.prototype.nte=function(t,r,i){var s=e.ste(i,t);return f.ErrorMonitor.gi().di(r,this.id()),this.Zee=Date.now(),n.reject(new v(y.Xm,s))},e.ste=function(e,t,r){void 0===r&&(r="status");var i=t;if(e.body)try{i=JSON.parse(e.body)[r]}catch(e){}return i},e.prototype.XV=function(e){var t=this;this.Xee=Date.now(),this.te().debug(this.id()+"resolving ticket: "+e);var r=this.Bee(e);return s.ps(r,"application/json").then(function(i){return t.ite(i,r,e,t.Xee)},function(r){return r&&-1==r.status?t.hte():(f.ErrorMonitor.gi().di("error resolving ticket",t.id(),{ticket:e}),n.reject(new v(y.Xm,r)))}).catch(function(e){return f.ErrorMonitor.gi().di("error parsing ticket response",t.id(),e),n.reject(new v(y.sE,e))})},e.prototype.ite=function(e,t,r,i){var n=JSON.parse(e),o=s.cn(t,n.location);return n.version&&!this.version&&(this.version=n.version),this.Zee=Date.now(),this.te().debug(this.id()+"resolved ticket "+r+" -> "+o+" ["+(this.Zee-i)+"]"),o},e.prototype.tte=function(e,t,r){var i=this.p_(e,t);if(null!=i){var n=(new Date).getTime(),o=n-r;return o>=this.options_.warnSlowRespTimeout&&this.A_(new v(y.hE,this.id()+" The tech initialization took more than "+this.options_.warnSlowRespTimeout+" milliseconds"),i,o),s.HiveRequestFactory.bn(i.id,this.Fn()),i}throw new v(y.Xm,"error generating session")},e.prototype.p_=function(e,t){var r=new p.VA;r.AA(e);var i=new E(e,r,t,null);i.O_=!0;var n=c.tu.cA,s=n.exec(i.manifest);return null!=s?(i.Kee=s[1],i.id=s[5],i):null},e.prototype.Bee=function(e){var t=-1==e.indexOf("?")?"?":"&";return this.zee()?s.gs(c.tu.hA,c.tu.oA,this.h_.options().playerPort,e):s.gs(c.tu.aA,c.tu.oA,this.h_.options().playerPort,e,t,this.h_.tj())},e.prototype.rte=function(){var e=this;this.ate&&clearTimeout(this.ate),this.ate=setTimeout(function(){f.ErrorMonitor.gi().di("The Lease Request is taking more than "+e.options_.warnSlowRespTimeout+" secs",e.id())},this.options_.warnSlowRespTimeout)},e.prototype.$ee=function(){this.Jee=0,this.Wee=0,this.Xee=0,this.Zee=0},e.prototype.te=function(){return this.h_.te()},e.prototype.C_=function(){this.$ee()},e.prototype.hte=function(){var e=this,t="//"+c.tu.oA+":"+this.h_.options().monitorPort+"/version.json";return this.te().debug(this.id()+"checking if the monitor port is reachable"),s.ps(t).then(function(t){var r=JSON.parse(t);throw e.state=r.state,f.ErrorMonitor.gi().di("Verify client state",e.id(),{state:e.state}),e.h_.Yj(new l.kc.Pc(null,l.kc.oh.th)),new v(y.nE,"state "+e.state)}).fail(function(t){if(t instanceof v)return n.reject(t);if(t&&-1==t.status){var r="client not reachable";return e.h_.Yj(new l.kc.Pc(null,l.kc.oh.eh)),e.te().warn(e.id()+r),n.reject(new v(y.nE,r))}var r="VerifyClientState error";return f.ErrorMonitor.gi().di(r,e.id(),{error:t}),e.h_.Yj(new l.kc.Pc(null,l.kc.oh.th)),n.reject(new v(y.sE,r))})},e.prototype.zee=function(){return this.options_.supportLegacyClient&&(!this.version||this.version.substr(0,4)<"2016")},e}();T.c_="HiveJava",t.HiveJava=T},function(e,t,r){"use strict";var i=this&&this.Ns||function(e,t){function r(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=r(20),s=r(39);!function(e){!function(e){var t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.minVersion=s.tu.uA,t.initTimeout=6e4,t.warnSlowRespTimeout=5e3,t.supportLegacyClient=!1,t}return i(t,e),t}(n.gn.ou.au);e.Vee=t}(e.ou||(e.ou={}))}(t.gn||(t.gn={}))}]);
//# sourceMappingURL=bitmovin.hive.min.js.map


/***/ })
/******/ ]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgYzdmNjFhMDY0NDc1OTc4MjJmOTkiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9jb250YWluZXIudHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvZG9tLnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvY29tcG9uZW50LnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2V2ZW50ZGlzcGF0Y2hlci50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3N1YnRpdGxlc2V0dGluZ3Mvc3VidGl0bGVzZXR0aW5nc2VsZWN0Ym94LnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvdG9nZ2xlYnV0dG9uLnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvbGFiZWwudHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9idXR0b24udHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9zZWxlY3Rib3gudHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvdGltZW91dC50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9zdHJpbmd1dGlscy50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9hcnJheXV0aWxzLnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL3BsYXllcnV0aWxzLnRzIiwid2VicGFjazovLy9leHRlcm5hbCBcImFuZ3VsYXJcIiIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3VpY29udGFpbmVyLnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2Jyb3dzZXJ1dGlscy50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3BsYXliYWNrdG9nZ2xlYnV0dG9uLnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvdm9sdW1ldG9nZ2xlYnV0dG9uLnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvc2Vla2Jhci50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL2NvbnRyb2xiYXIudHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvdWl1dGlscy50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3NwYWNlci50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3NldHRpbmdzcGFuZWwudHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy92aWRlb3F1YWxpdHlzZWxlY3Rib3gudHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9hdWRpb3F1YWxpdHlzZWxlY3Rib3gudHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9zdWJ0aXRsZXNldHRpbmdzL3N1YnRpdGxlc2V0dGluZ3NidXR0b24udHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy92b2x1bWVzbGlkZXIudHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9tZXRhZGF0YWxhYmVsLnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvY2xpY2tvdmVybGF5LnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvZnVsbHNjcmVlbnRvZ2dsZWJ1dHRvbi50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3ZydG9nZ2xlYnV0dG9uLnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvcGxheWJhY2t0aW1lbGFiZWwudHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9zZXR0aW5nc3RvZ2dsZWJ1dHRvbi50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL2xpc3RzZWxlY3Rvci50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3N1YnRpdGxlc2V0dGluZ3Mvc3VidGl0bGVzZXR0aW5nc3BhbmVsLnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvc3VidGl0bGVzZXR0aW5ncy9mb250Y29sb3JzZWxlY3Rib3gudHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9zdWJ0aXRsZXNldHRpbmdzL2ZvbnRvcGFjaXR5c2VsZWN0Ym94LnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvc3VidGl0bGVzZXR0aW5ncy9mb250ZmFtaWx5c2VsZWN0Ym94LnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvc3VidGl0bGVzZXR0aW5ncy9mb250c2l6ZXNlbGVjdGJveC50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3N1YnRpdGxlc2V0dGluZ3MvYmFja2dyb3VuZGNvbG9yc2VsZWN0Ym94LnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvc3VidGl0bGVzZXR0aW5ncy9iYWNrZ3JvdW5kb3BhY2l0eXNlbGVjdGJveC50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3N1YnRpdGxlc2V0dGluZ3Mvd2luZG93Y29sb3JzZWxlY3Rib3gudHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9zdWJ0aXRsZXNldHRpbmdzL3dpbmRvd29wYWNpdHlzZWxlY3Rib3gudHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9zdWJ0aXRsZXNldHRpbmdzL2NoYXJhY3RlcmVkZ2VzZWxlY3Rib3gudHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvc3RvcmFnZXV0aWxzLnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvc3VidGl0bGVzZXR0aW5ncy9zdWJ0aXRsZXNldHRpbmdzY2xvc2VidXR0b24udHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9zdWJ0aXRsZXNldHRpbmdzL3N1YnRpdGxlc2V0dGluZ3NyZXNldGJ1dHRvbi50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3N1YnRpdGxlc2V0dGluZ3Mvc3VidGl0bGVzZXR0aW5nc2xhYmVsLnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvc3VidGl0bGVzZXR0aW5ncy9zdWJ0aXRsZXNldHRpbmdzb3BlbmJ1dHRvbi50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL2F1ZGlvdHJhY2tzZWxlY3Rib3gudHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9zZWVrYmFybGFiZWwudHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9zdWJ0aXRsZXNlbGVjdGJveC50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3N1YnRpdGxlb3ZlcmxheS50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL2Nhc3R0b2dnbGVidXR0b24udHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9jYXN0c3RhdHVzb3ZlcmxheS50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL2Vycm9ybWVzc2FnZW92ZXJsYXkudHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy90aXRsZWJhci50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3JlY29tbWVuZGF0aW9ub3ZlcmxheS50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL2h1Z2VyZXBsYXlidXR0b24udHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9wbGF5YmFja3NwZWVkc2VsZWN0Ym94LnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvYnVmZmVyaW5nb3ZlcmxheS50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3BsYXliYWNrdG9nZ2xlb3ZlcmxheS50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL2h1Z2VwbGF5YmFja3RvZ2dsZWJ1dHRvbi50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL2Nsb3NlYnV0dG9uLnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvYWlycGxheXRvZ2dsZWJ1dHRvbi50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3BpY3R1cmVpbnBpY3R1cmV0b2dnbGVidXR0b24udHMiLCJ3ZWJwYWNrOi8vLy4vaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vYml0ZGFzaC1jb250cm9sbGVyLnRzIiwid2VicGFjazovLy8uL2JpdGRhc2gtZGlyZWN0aXZlLnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL21haW4udHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvdWltYW5hZ2VyLnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2d1aWQudHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9zdWJ0aXRsZXNldHRpbmdzL3N1YnRpdGxlc2V0dGluZ3NtYW5hZ2VyLnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2ltYWdlbG9hZGVyLnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvdHZub2lzZWNhbnZhcy50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL2F1ZGlvb25seW92ZXJsYXkudHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9pdGVtc2VsZWN0aW9ubGlzdC50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3dhdGVybWFyay50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3ZvbHVtZWNvbnRyb2xidXR0b24udHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9hZHNraXBidXR0b24udHMiLCJ3ZWJwYWNrOi8vLy4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9hZG1lc3NhZ2VsYWJlbC50cyIsIndlYnBhY2s6Ly8vLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL2FkY2xpY2tvdmVybGF5LnRzIiwid2VicGFjazovLy8uLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvY2FzdHVpY29udGFpbmVyLnRzIiwid2VicGFjazovLy8uLi9saWIvaGl2ZS9iaXRtb3Zpbi5oaXZlLm1pbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLG1DQUEyQiwwQkFBMEIsRUFBRTtBQUN2RCx5Q0FBaUMsZUFBZTtBQUNoRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw4REFBc0QsK0RBQStEOztBQUVySDtBQUNBOztBQUVBO0FBQ0E7Ozs7Ozs7O0FDN0RBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsZ0JBQWdCLHNDQUFzQyxpQkFBaUIsRUFBRTtBQUNuRix5QkFBeUIsdURBQXVEO0FBQ2hGO0FBQ0E7QUFDQSx1QkFBdUIsc0JBQXNCO0FBQzdDO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsOENBQThDLGNBQWM7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZEQUE2RCxpQ0FBaUM7QUFDOUYsZ0JBQWdCLDZCQUE2QjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsUUFBUTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJEQUEyRCxnQkFBZ0I7QUFDM0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLHFEQUFxRCxnQkFBZ0I7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDs7Ozs7Ozs7QUMzSEE7QUFDQSw4Q0FBOEMsY0FBYztBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsT0FBTztBQUM1QjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsaUJBQWlCLGNBQWM7QUFDL0Isd0JBQXdCLGFBQWE7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLElBQUk7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLE9BQU87QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsdUJBQXVCO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixPQUFPO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLE9BQU87QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtELDZCQUE2QixFQUFFO0FBQ2pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtELDZCQUE2QixFQUFFO0FBQ2pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixRQUFRO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7Ozs7Ozs7O0FDNVpBO0FBQ0EsOENBQThDLGNBQWM7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxhQUFhO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsdUJBQXVCO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLDhCQUE4QjtBQUM5QztBQUNBO0FBQ0EsNkVBQTZFLHdDQUF3QztBQUNySDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixjQUFjO0FBQzlCO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixZQUFZLGdEQUFnRCwrQkFBK0I7QUFDeEgsZ0JBQWdCLGNBQWM7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxJQUFJO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1EQUFtRCx3QkFBd0I7QUFDM0U7QUFDQSxpRUFBaUUsa0JBQWtCO0FBQ25GO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0M7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUM7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFFBQVE7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFFBQVE7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixRQUFRO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtFQUFrRSxtQ0FBbUM7QUFDckc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0VBQWtFLG1DQUFtQztBQUNyRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrRUFBa0UsbUNBQW1DO0FBQ3JHO0FBQ0E7QUFDQTtBQUNBLDREQUE0RCxtQkFBbUI7QUFDL0U7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzRUFBc0UsbUNBQW1DO0FBQ3pHLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxzRUFBc0UsbUNBQW1DO0FBQ3pHLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7Ozs7Ozs7O0FDdlVBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsZ0JBQWdCLHNDQUFzQyxpQkFBaUIsRUFBRTtBQUNuRix5QkFBeUIsdURBQXVEO0FBQ2hGO0FBQ0E7QUFDQSx1QkFBdUIsc0JBQXNCO0FBQzdDO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsOENBQThDLGNBQWM7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLDJCQUEyQjtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLGFBQWE7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlELHlCQUF5QjtBQUMxRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlFQUFpRSxpQ0FBaUM7QUFDbEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQSxrRUFBa0Usc0JBQXNCO0FBQ3hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLGNBQWM7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFFBQVE7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBLHNCQUFzQiwyQkFBMkI7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7Ozs7Ozs7QUN2S0Q7QUFDQTtBQUNBO0FBQ0EsVUFBVSxnQkFBZ0Isc0NBQXNDLGlCQUFpQixFQUFFO0FBQ25GLHlCQUF5Qix1REFBdUQ7QUFDaEY7QUFDQTtBQUNBLHVCQUF1QixzQkFBc0I7QUFDN0M7QUFDQTtBQUNBLENBQUM7QUFDRCw4Q0FBOEMsY0FBYztBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEOzs7Ozs7OztBQzFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLGdCQUFnQixzQ0FBc0MsaUJBQWlCLEVBQUU7QUFDbkYseUJBQXlCLHVEQUF1RDtBQUNoRjtBQUNBO0FBQ0EsdUJBQXVCLHNCQUFzQjtBQUM3QztBQUNBO0FBQ0EsQ0FBQztBQUNELDhDQUE4QyxjQUFjO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsUUFBUTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsUUFBUTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsQ0FBQztBQUNEOzs7Ozs7OztBQzNJQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLGdCQUFnQixzQ0FBc0MsaUJBQWlCLEVBQUU7QUFDbkYseUJBQXlCLHVEQUF1RDtBQUNoRjtBQUNBO0FBQ0EsdUJBQXVCLHNCQUFzQjtBQUM3QztBQUNBO0FBQ0EsQ0FBQztBQUNELDhDQUE4QyxjQUFjO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsYUFBYTtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsT0FBTztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixRQUFRO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsZUFBZTtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixlQUFlO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxDQUFDO0FBQ0Q7Ozs7Ozs7O0FDdkhBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsZ0JBQWdCLHNDQUFzQyxpQkFBaUIsRUFBRTtBQUNuRix5QkFBeUIsdURBQXVEO0FBQ2hGO0FBQ0E7QUFDQSx1QkFBdUIsc0JBQXNCO0FBQzdDO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsOENBQThDLGNBQWM7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsQ0FBQztBQUNEOzs7Ozs7OztBQ3JFQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLGdCQUFnQixzQ0FBc0MsaUJBQWlCLEVBQUU7QUFDbkYseUJBQXlCLHVEQUF1RDtBQUNoRjtBQUNBO0FBQ0EsdUJBQXVCLHNCQUFzQjtBQUM3QztBQUNBO0FBQ0EsQ0FBQztBQUNELDhDQUE4QyxjQUFjO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLGFBQWE7QUFDN0M7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLHNCQUFzQjtBQUM3RDtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMsZ0JBQWdCO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MsdUJBQXVCO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDs7Ozs7Ozs7QUNsRkE7QUFDQSw4Q0FBOEMsY0FBYztBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsZ0JBQWdCO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFFBQVE7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7Ozs7Ozs7O0FDaEVBO0FBQ0EsOENBQThDLGNBQWM7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLE9BQU87QUFDeEI7QUFDQTtBQUNBLGdDQUFnQyxvQ0FBb0M7QUFDcEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsT0FBTztBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsNEJBQTRCLEtBQUsseUJBQXlCO0FBQ3hGLFNBQVMseUJBQXlCO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLGNBQWM7QUFDdEQ7QUFDQSxpQkFBaUIsT0FBTztBQUN4QjtBQUNBO0FBQ0EsdURBQXVELHVDQUF1QywrREFBK0Q7QUFDN0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxnRUFBZ0U7Ozs7Ozs7O0FDakpqRTtBQUNBLDhDQUE4QyxjQUFjO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixJQUFJO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLDZEQUE2RDs7Ozs7Ozs7QUNwQjlEO0FBQ0EsOENBQThDLGNBQWM7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssd0VBQXdFO0FBQzdFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtGQUFrRiw0Q0FBNEM7QUFDOUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkRBQTZELGdCQUFnQjtBQUM3RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTDtBQUNBLENBQUMsZ0VBQWdFOzs7Ozs7O0FDMUhqRSx5Qjs7Ozs7OztBQ0FBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsZ0JBQWdCLHNDQUFzQyxpQkFBaUIsRUFBRTtBQUNuRix5QkFBeUIsdURBQXVEO0FBQ2hGO0FBQ0E7QUFDQSx1QkFBdUIsc0JBQXNCO0FBQzdDO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsOENBQThDLGNBQWM7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFGQUFxRixnQkFBZ0I7QUFDckc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBEQUEwRCxpREFBaUQsRUFBRTtBQUM3RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSx3Q0FBd0M7QUFDeEM7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLHdDQUF3QztBQUN4QyxTQUFTO0FBQ1Q7QUFDQSxxQkFBcUI7QUFDckIsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7OztBQzlQQTtBQUNBLDhDQUE4QyxjQUFjO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsbUVBQW1FOzs7Ozs7OztBQ1hwRTtBQUNBO0FBQ0E7QUFDQSxVQUFVLGdCQUFnQixzQ0FBc0MsaUJBQWlCLEVBQUU7QUFDbkYseUJBQXlCLHVEQUF1RDtBQUNoRjtBQUNBO0FBQ0EsdUJBQXVCLHNCQUFzQjtBQUM3QztBQUNBO0FBQ0EsQ0FBQztBQUNELDhDQUE4QyxjQUFjO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsYUFBYTtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyx5QkFBeUI7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsbUNBQW1DO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBOzs7Ozs7OztBQzNHQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLGdCQUFnQixzQ0FBc0MsaUJBQWlCLEVBQUU7QUFDbkYseUJBQXlCLHVEQUF1RDtBQUNoRjtBQUNBO0FBQ0EsdUJBQXVCLHNCQUFzQjtBQUM3QztBQUNBO0FBQ0EsQ0FBQztBQUNELDhDQUE4QyxjQUFjO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLGFBQWE7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNHQUFzRztBQUN0RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEOzs7Ozs7OztBQzVFQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLGdCQUFnQixzQ0FBc0MsaUJBQWlCLEVBQUU7QUFDbkYseUJBQXlCLHVEQUF1RDtBQUNoRjtBQUNBO0FBQ0EsdUJBQXVCLHNCQUFzQjtBQUM3QztBQUNBO0FBQ0EsQ0FBQztBQUNELDhDQUE4QyxjQUFjO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsYUFBYTtBQUM3QztBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsK0JBQStCO0FBQ3RFLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsc0JBQXNCO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxjQUFjO0FBQ2pELHlDQUF5QyxxQkFBcUI7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLGtDQUFrQztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLGtFQUFrRSx1Q0FBdUMsRUFBRTtBQUMzRztB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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixPQUFPO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixRQUFRO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsbUJBQW1CO0FBQ3hELGlCQUFpQixRQUFRO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixhQUFhO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7OztBQy94QkE7QUFDQTtBQUNBO0FBQ0EsVUFBVSxnQkFBZ0Isc0NBQXNDLGlCQUFpQixFQUFFO0FBQ25GLHlCQUF5Qix1REFBdUQ7QUFDaEY7QUFDQTtBQUNBLHVCQUF1QixzQkFBc0I7QUFDN0M7QUFDQTtBQUNBLENBQUM7QUFDRCw4Q0FBOEMsY0FBYztBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsQ0FBQztBQUNEOzs7Ozs7OztBQy9EQTtBQUNBLDhDQUE4QyxjQUFjO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnRUFBZ0UsZ0JBQWdCO0FBQ2hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsb0RBQW9EOzs7Ozs7OztBQ3BCckQ7QUFDQTtBQUNBO0FBQ0EsVUFBVSxnQkFBZ0Isc0NBQXNDLGlCQUFpQixFQUFFO0FBQ25GLHlCQUF5Qix1REFBdUQ7QUFDaEY7QUFDQTtBQUNBLHVCQUF1QixzQkFBc0I7QUFDN0M7QUFDQTtBQUNBLENBQUM7QUFDRCw4Q0FBOEMsY0FBYztBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxhQUFhO0FBQzdDO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7Ozs7Ozs7O0FDckNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsZ0JBQWdCLHNDQUFzQyxpQkFBaUIsRUFBRTtBQUNuRix5QkFBeUIsdURBQXVEO0FBQ2hGO0FBQ0E7QUFDQSx1QkFBdUIsc0JBQXNCO0FBQzdDO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsOENBQThDLGNBQWM7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLDhCQUE4QjtBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0M7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1EQUFtRCxnQkFBZ0I7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsZ0JBQWdCO0FBQzlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVEQUF1RCwwREFBMEQsRUFBRTtBQUNuSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixRQUFRO0FBQ3pCO0FBQ0E7QUFDQSw4Q0FBOEMsZ0JBQWdCO0FBQzlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtRUFBbUUsK0NBQStDLEVBQUU7QUFDcEg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMERBQTBELDhCQUE4QjtBQUN4RixxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLG9CQUFvQjtBQUN0Qyw0QkFBNEIsWUFBWTtBQUN4QywyQkFBMkIsZ0JBQWdCO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLGFBQWE7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRCxjQUFjO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsUUFBUTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsQ0FBQztBQUNEOzs7Ozs7OztBQzFPQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLGdCQUFnQixzQ0FBc0MsaUJBQWlCLEVBQUU7QUFDbkYseUJBQXlCLHVEQUF1RDtBQUNoRjtBQUNBO0FBQ0EsdUJBQXVCLHNCQUFzQjtBQUM3QztBQUNBO0FBQ0EsQ0FBQztBQUNELDhDQUE4QyxjQUFjO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLGFBQWE7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0RBQStELDhCQUE4QjtBQUM3RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7Ozs7Ozs7O0FDbkZBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsZ0JBQWdCLHNDQUFzQyxpQkFBaUIsRUFBRTtBQUNuRix5QkFBeUIsdURBQXVEO0FBQ2hGO0FBQ0E7QUFDQSx1QkFBdUIsc0JBQXNCO0FBQzdDO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsOENBQThDLGNBQWM7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsYUFBYTtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0RBQStELDhCQUE4QjtBQUM3RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7Ozs7Ozs7O0FDMUVBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsZ0JBQWdCLHNDQUFzQyxpQkFBaUIsRUFBRTtBQUNuRix5QkFBeUIsdURBQXVEO0FBQ2hGO0FBQ0E7QUFDQSx1QkFBdUIsc0JBQXNCO0FBQzdDO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsOENBQThDLGNBQWM7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7Ozs7Ozs7O0FDdkJBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsZ0JBQWdCLHNDQUFzQyxpQkFBaUIsRUFBRTtBQUNuRix5QkFBeUIsdURBQXVEO0FBQ2hGO0FBQ0E7QUFDQSx1QkFBdUIsc0JBQXNCO0FBQzdDO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsOENBQThDLGNBQWM7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsYUFBYTtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7Ozs7Ozs7O0FDdkZBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsZ0JBQWdCLHNDQUFzQyxpQkFBaUIsRUFBRTtBQUNuRix5QkFBeUIsdURBQXVEO0FBQ2hGO0FBQ0E7QUFDQSx1QkFBdUIsc0JBQXNCO0FBQzdDO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsOENBQThDLGNBQWM7QUFDNUQ7QUFDQTtBQUNBLDZDQUE2QyxvQkFBb0I7QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsMkZBQTJGO0FBQzVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDs7Ozs7Ozs7QUNsRUE7QUFDQTtBQUNBO0FBQ0EsVUFBVSxnQkFBZ0Isc0NBQXNDLGlCQUFpQixFQUFFO0FBQ25GLHlCQUF5Qix1REFBdUQ7QUFDaEY7QUFDQTtBQUNBLHVCQUF1QixzQkFBc0I7QUFDN0M7QUFDQTtBQUNBLENBQUM7QUFDRCw4Q0FBOEMsY0FBYztBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxhQUFhO0FBQzdDO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsT0FBTztBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEOzs7Ozs7OztBQ25EQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLGdCQUFnQixzQ0FBc0MsaUJBQWlCLEVBQUU7QUFDbkYseUJBQXlCLHVEQUF1RDtBQUNoRjtBQUNBO0FBQ0EsdUJBQXVCLHNCQUFzQjtBQUM3QztBQUNBO0FBQ0EsQ0FBQztBQUNELDhDQUE4QyxjQUFjO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLGFBQWE7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7Ozs7Ozs7O0FDckRBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsZ0JBQWdCLHNDQUFzQyxpQkFBaUIsRUFBRTtBQUNuRix5QkFBeUIsdURBQXVEO0FBQ2hGO0FBQ0E7QUFDQSx1QkFBdUIsc0JBQXNCO0FBQzdDO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsOENBQThDLGNBQWM7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsYUFBYTtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDs7Ozs7Ozs7QUMxRkE7QUFDQTtBQUNBO0FBQ0EsVUFBVSxnQkFBZ0Isc0NBQXNDLGlCQUFpQixFQUFFO0FBQ25GLHlCQUF5Qix1REFBdUQ7QUFDaEY7QUFDQTtBQUNBLHVCQUF1QixzQkFBc0I7QUFDN0M7QUFDQTtBQUNBLENBQUM7QUFDRCw4Q0FBOEMsY0FBYztBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyw4RkFBOEY7QUFDL0Y7QUFDQSw4RUFBOEU7QUFDOUUsMEJBQTBCLHdDQUF3QztBQUNsRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxhQUFhO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Qsb0NBQW9DO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEOzs7Ozs7OztBQzlKQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLGdCQUFnQixzQ0FBc0MsaUJBQWlCLEVBQUU7QUFDbkYseUJBQXlCLHVEQUF1RDtBQUNoRjtBQUNBO0FBQ0EsdUJBQXVCLHNCQUFzQjtBQUM3QztBQUNBO0FBQ0EsQ0FBQztBQUNELDhDQUE4QyxjQUFjO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0M7QUFDdEM7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7Ozs7Ozs7O0FDdEVBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsZ0JBQWdCLHNDQUFzQyxpQkFBaUIsRUFBRTtBQUNuRix5QkFBeUIsdURBQXVEO0FBQ2hGO0FBQ0E7QUFDQSx1QkFBdUIsc0JBQXNCO0FBQzdDO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsOENBQThDLGNBQWM7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLGFBQWE7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsUUFBUTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFFBQVE7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsUUFBUTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixPQUFPO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QyxxQkFBcUI7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxDQUFDO0FBQ0Q7Ozs7Ozs7O0FDOUtBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsZ0JBQWdCLHNDQUFzQyxpQkFBaUIsRUFBRTtBQUNuRix5QkFBeUIsdURBQXVEO0FBQ2hGO0FBQ0E7QUFDQSx1QkFBdUIsc0JBQXNCO0FBQzdDO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsOENBQThDLGNBQWM7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7Ozs7Ozs7O0FDcEZBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsZ0JBQWdCLHNDQUFzQyxpQkFBaUIsRUFBRTtBQUNuRix5QkFBeUIsdURBQXVEO0FBQ2hGO0FBQ0E7QUFDQSx1QkFBdUIsc0JBQXNCO0FBQzdDO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsOENBQThDLGNBQWM7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEOzs7Ozs7OztBQ25FQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLGdCQUFnQixzQ0FBc0MsaUJBQWlCLEVBQUU7QUFDbkYseUJBQXlCLHVEQUF1RDtBQUNoRjtBQUNBO0FBQ0EsdUJBQXVCLHNCQUFzQjtBQUM3QztBQUNBO0FBQ0EsQ0FBQztBQUNELDhDQUE4QyxjQUFjO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7Ozs7Ozs7O0FDcERBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsZ0JBQWdCLHNDQUFzQyxpQkFBaUIsRUFBRTtBQUNuRix5QkFBeUIsdURBQXVEO0FBQ2hGO0FBQ0E7QUFDQSx1QkFBdUIsc0JBQXNCO0FBQzdDO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsOENBQThDLGNBQWM7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDs7Ozs7Ozs7QUNwREE7QUFDQTtBQUNBO0FBQ0EsVUFBVSxnQkFBZ0Isc0NBQXNDLGlCQUFpQixFQUFFO0FBQ25GLHlCQUF5Qix1REFBdUQ7QUFDaEY7QUFDQTtBQUNBLHVCQUF1QixzQkFBc0I7QUFDN0M7QUFDQTtBQUNBLENBQUM7QUFDRCw4Q0FBOEMsY0FBYztBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEOzs7Ozs7OztBQ3BEQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLGdCQUFnQixzQ0FBc0MsaUJBQWlCLEVBQUU7QUFDbkYseUJBQXlCLHVEQUF1RDtBQUNoRjtBQUNBO0FBQ0EsdUJBQXVCLHNCQUFzQjtBQUM3QztBQUNBO0FBQ0EsQ0FBQztBQUNELDhDQUE4QyxjQUFjO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDs7Ozs7Ozs7QUNuRUE7QUFDQTtBQUNBO0FBQ0EsVUFBVSxnQkFBZ0Isc0NBQXNDLGlCQUFpQixFQUFFO0FBQ25GLHlCQUF5Qix1REFBdUQ7QUFDaEY7QUFDQTtBQUNBLHVCQUF1QixzQkFBc0I7QUFDN0M7QUFDQTtBQUNBLENBQUM7QUFDRCw4Q0FBOEMsY0FBYztBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7Ozs7Ozs7O0FDckRBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsZ0JBQWdCLHNDQUFzQyxpQkFBaUIsRUFBRTtBQUNuRix5QkFBeUIsdURBQXVEO0FBQ2hGO0FBQ0E7QUFDQSx1QkFBdUIsc0JBQXNCO0FBQzdDO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsOENBQThDLGNBQWM7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEOzs7Ozs7OztBQ25FQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLGdCQUFnQixzQ0FBc0MsaUJBQWlCLEVBQUU7QUFDbkYseUJBQXlCLHVEQUF1RDtBQUNoRjtBQUNBO0FBQ0EsdUJBQXVCLHNCQUFzQjtBQUM3QztBQUNBO0FBQ0EsQ0FBQztBQUNELDhDQUE4QyxjQUFjO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDs7Ozs7Ozs7QUNyREE7QUFDQTtBQUNBO0FBQ0EsVUFBVSxnQkFBZ0Isc0NBQXNDLGlCQUFpQixFQUFFO0FBQ25GLHlCQUF5Qix1REFBdUQ7QUFDaEY7QUFDQTtBQUNBLHVCQUF1QixzQkFBc0I7QUFDN0M7QUFDQTtBQUNBLENBQUM7QUFDRCw4Q0FBOEMsY0FBYztBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEOzs7Ozs7OztBQ2pEQTtBQUNBLDhDQUE4QyxjQUFjO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsY0FBYztBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixJQUFJO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsbUVBQW1FOzs7Ozs7OztBQzlGcEU7QUFDQTtBQUNBO0FBQ0EsVUFBVSxnQkFBZ0Isc0NBQXNDLGlCQUFpQixFQUFFO0FBQ25GLHlCQUF5Qix1REFBdUQ7QUFDaEY7QUFDQTtBQUNBLHVCQUF1QixzQkFBc0I7QUFDN0M7QUFDQTtBQUNBLENBQUM7QUFDRCw4Q0FBOEMsY0FBYztBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLENBQUM7QUFDRDs7Ozs7Ozs7QUNwQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxnQkFBZ0Isc0NBQXNDLGlCQUFpQixFQUFFO0FBQ25GLHlCQUF5Qix1REFBdUQ7QUFDaEY7QUFDQTtBQUNBLHVCQUF1QixzQkFBc0I7QUFDN0M7QUFDQTtBQUNBLENBQUM7QUFDRCw4Q0FBOEMsY0FBYztBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7Ozs7Ozs7O0FDbkNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsZ0JBQWdCLHNDQUFzQyxpQkFBaUIsRUFBRTtBQUNuRix5QkFBeUIsdURBQXVEO0FBQ2hGO0FBQ0E7QUFDQSx1QkFBdUIsc0JBQXNCO0FBQzdDO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsOENBQThDLGNBQWM7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxpQ0FBaUM7QUFDMUM7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEOzs7Ozs7OztBQ3JDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLGdCQUFnQixzQ0FBc0MsaUJBQWlCLEVBQUU7QUFDbkYseUJBQXlCLHVEQUF1RDtBQUNoRjtBQUNBO0FBQ0EsdUJBQXVCLHNCQUFzQjtBQUM3QztBQUNBO0FBQ0EsQ0FBQztBQUNELDhDQUE4QyxjQUFjO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsQ0FBQztBQUNEOzs7Ozs7OztBQ3BDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLGdCQUFnQixzQ0FBc0MsaUJBQWlCLEVBQUU7QUFDbkYseUJBQXlCLHVEQUF1RDtBQUNoRjtBQUNBO0FBQ0EsdUJBQXVCLHNCQUFzQjtBQUM3QztBQUNBO0FBQ0EsQ0FBQztBQUNELDhDQUE4QyxjQUFjO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLGFBQWE7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5REFBeUQsMkJBQTJCO0FBQ3BGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7Ozs7Ozs7O0FDbEVBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsZ0JBQWdCLHNDQUFzQyxpQkFBaUIsRUFBRTtBQUNuRix5QkFBeUIsdURBQXVEO0FBQ2hGO0FBQ0E7QUFDQSx1QkFBdUIsc0JBQXNCO0FBQzdDO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsOENBQThDLGNBQWM7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLGNBQWM7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsYUFBYTtBQUM3QztBQUNBLDZDQUE2QyxxQ0FBcUM7QUFDbEYsOENBQThDLHNDQUFzQztBQUNwRixxREFBcUQsb0NBQW9DO0FBQ3pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdHQUFnRyxrQ0FBa0MsRUFBRTtBQUNwSTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsa0JBQWtCO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDs7Ozs7Ozs7QUN0SkE7QUFDQTtBQUNBO0FBQ0EsVUFBVSxnQkFBZ0Isc0NBQXNDLGlCQUFpQixFQUFFO0FBQ25GLHlCQUF5Qix1REFBdUQ7QUFDaEY7QUFDQTtBQUNBLHVCQUF1QixzQkFBc0I7QUFDN0M7QUFDQTtBQUNBLENBQUM7QUFDRCw4Q0FBOEMsY0FBYztBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxhQUFhO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUVBQWlFLGdCQUFnQjtBQUNqRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7Ozs7Ozs7O0FDMURBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsZ0JBQWdCLHNDQUFzQyxpQkFBaUIsRUFBRTtBQUNuRix5QkFBeUIsdURBQXVEO0FBQ2hGO0FBQ0E7QUFDQSx1QkFBdUIsc0JBQXNCO0FBQzdDO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsOENBQThDLGNBQWM7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsYUFBYTtBQUM3QztBQUNBO0FBQ0E7QUFDQSxtREFBbUQsMkJBQTJCO0FBQzlFO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCxZQUFZO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdEQUF3RCxnQkFBZ0I7QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNi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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsMEJBQTBCO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLFNBQVM7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7Ozs7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QjtBQUNwRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pD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U0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0EsMERBQTBELGlCQUFpQjtBQUMzRSxJQUFJLDhCQUE4QjtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxDQUFDO0FBQ0Q7Ozs7Ozs7O0FDbk1BO0FBQ0EsOENBQThDLGNBQWM7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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QUE2RyxhQUFhLHdFQUF3RSw2RUFBNkUsa0JBQWtCLHFDQUFxQyxNQUFNLFFBQVEsc0xBQXNMLGlPQUFpTyxlQUFlLGlFQUFpRSxvQkFBb0IsMEdBQTBHLFFBQVEsaUVBQWlFLHFCQUFxQixvQkFBb0IsRUFBRSw4SUFBOEksaUNBQWlDLGlCQUFpQix1RkFBdUYsdUJBQXVCLHlCQUF5QixRQUFRLGNBQWMsd0JBQXdCLFVBQVUsU0FBUyw0QkFBNEIsV0FBVyxzRUFBc0Usa0JBQWtCLG1EQUFtRCwwQkFBMEIsYUFBYSx3RkFBd0YsU0FBUywyQkFBMkIsb0JBQW9CLGdHQUFnRyxFQUFFLG1DQUFtQyx5Q0FBeUMsK0pBQStKLGlDQUFpQyxtQkFBbUIsWUFBWSxpQ0FBaUMsdU5BQXVOLDZDQUE2Qyw4QkFBOEIsZUFBZSxRQUFRLHdCQUF3QixRQUFRLG1DQUFtQyw2Q0FBNkMsNkJBQTZCLGlDQUFpQywySUFBMkksNEJBQTRCLFdBQVcsZ0VBQWdFLCtHQUErRyxvQ0FBb0MsNEJBQTRCLDRDQUE0QywyQkFBMkIsb0JBQW9CLDJCQUEyQixXQUFXLDRCQUE0Qiw0RUFBNEUsdUdBQXVHLG9CQUFvQiwyRUFBMkUsY0FBYyxxRUFBcUUsbUJBQW1CLHFDQUFxQyxvQkFBb0IsNkJBQTZCLDJGQUEyRixnQ0FBZ0Msd0NBQXdDLFFBQVEsZ0VBQWdFLEVBQUUsNEJBQTRCLDJGQUEyRixHQUFHLEdBQUcsNkJBQTZCLGlCQUFpQixhQUFhLG1DQUFtQyxhQUFhLG1CQUFtQixnREFBZ0Qsc0VBQXNFLGlCQUFpQixhQUFhLGFBQWEsa0JBQWtCLGFBQWEsOENBQThDLG1HQUFtRyxnQkFBZ0IsYUFBYSxRQUFRLGVBQWUsR0FBRyxlQUFlLEdBQUc7QUFDNWk3SCIsImZpbGUiOiJtaS1hbmd1bGFyLWJpdGRhc2gtcGxheWVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7XG4gXHRcdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcbiBcdFx0XHRcdGdldDogZ2V0dGVyXG4gXHRcdFx0fSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gNjYpO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2svYm9vdHN0cmFwIGM3ZjYxYTA2NDQ3NTk3ODIyZjk5IiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBjb21wb25lbnRfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudFwiKTtcclxudmFyIGRvbV8xID0gcmVxdWlyZShcIi4uL2RvbVwiKTtcclxudmFyIGFycmF5dXRpbHNfMSA9IHJlcXVpcmUoXCIuLi9hcnJheXV0aWxzXCIpO1xyXG4vKipcclxuICogQSBjb250YWluZXIgY29tcG9uZW50IHRoYXQgY2FuIGNvbnRhaW4gYSBjb2xsZWN0aW9uIG9mIGNoaWxkIGNvbXBvbmVudHMuXHJcbiAqIENvbXBvbmVudHMgY2FuIGJlIGFkZGVkIGF0IGNvbnN0cnVjdGlvbiB0aW1lIHRocm91Z2ggdGhlIHtAbGluayBDb250YWluZXJDb25maWcjY29tcG9uZW50c30gc2V0dGluZywgb3IgbGF0ZXJcclxuICogdGhyb3VnaCB0aGUge0BsaW5rIENvbnRhaW5lciNhZGRDb21wb25lbnR9IG1ldGhvZC4gVGhlIFVJTWFuYWdlciBhdXRvbWF0aWNhbGx5IHRha2VzIGNhcmUgb2YgYWxsIGNvbXBvbmVudHMsIGkuZS4gaXRcclxuICogaW5pdGlhbGl6ZXMgYW5kIGNvbmZpZ3VyZXMgdGhlbSBhdXRvbWF0aWNhbGx5LlxyXG4gKlxyXG4gKiBJbiB0aGUgRE9NLCB0aGUgY29udGFpbmVyIGNvbnNpc3RzIG9mIGFuIG91dGVyIDxkaXY+ICh0aGF0IGNhbiBiZSBjb25maWd1cmVkIGJ5IHRoZSBjb25maWcpIGFuZCBhbiBpbm5lciB3cmFwcGVyXHJcbiAqIDxkaXY+IHRoYXQgY29udGFpbnMgdGhlIGNvbXBvbmVudHMuIFRoaXMgZG91YmxlLTxkaXY+LXN0cnVjdHVyZSBpcyBvZnRlbiByZXF1aXJlZCB0byBhY2hpZXZlIG1hbnkgYWR2YW5jZWQgZWZmZWN0c1xyXG4gKiBpbiBDU1MgYW5kL29yIEpTLCBlLmcuIGFuaW1hdGlvbnMgYW5kIGNlcnRhaW4gZm9ybWF0dGluZyB3aXRoIGFic29sdXRlIHBvc2l0aW9uaW5nLlxyXG4gKlxyXG4gKiBET00gZXhhbXBsZTpcclxuICogPGNvZGU+XHJcbiAqICAgICA8ZGl2IGNsYXNzPSd1aS1jb250YWluZXInPlxyXG4gKiAgICAgICAgIDxkaXYgY2xhc3M9J2NvbnRhaW5lci13cmFwcGVyJz5cclxuICogICAgICAgICAgICAgLi4uIGNoaWxkIGNvbXBvbmVudHMgLi4uXHJcbiAqICAgICAgICAgPC9kaXY+XHJcbiAqICAgICA8L2Rpdj5cclxuICogPC9jb2RlPlxyXG4gKi9cclxudmFyIENvbnRhaW5lciA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoQ29udGFpbmVyLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gQ29udGFpbmVyKGNvbmZpZykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGNvbmZpZykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5jb25maWcgPSBfdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIHtcclxuICAgICAgICAgICAgY3NzQ2xhc3M6ICd1aS1jb250YWluZXInLFxyXG4gICAgICAgICAgICBjb21wb25lbnRzOiBbXSxcclxuICAgICAgICB9LCBfdGhpcy5jb25maWcpO1xyXG4gICAgICAgIF90aGlzLmNvbXBvbmVudHNUb0FkZCA9IFtdO1xyXG4gICAgICAgIF90aGlzLmNvbXBvbmVudHNUb1JlbW92ZSA9IFtdO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQWRkcyBhIGNoaWxkIGNvbXBvbmVudCB0byB0aGUgY29udGFpbmVyLlxyXG4gICAgICogQHBhcmFtIGNvbXBvbmVudCB0aGUgY29tcG9uZW50IHRvIGFkZFxyXG4gICAgICovXHJcbiAgICBDb250YWluZXIucHJvdG90eXBlLmFkZENvbXBvbmVudCA9IGZ1bmN0aW9uIChjb21wb25lbnQpIHtcclxuICAgICAgICB0aGlzLmNvbmZpZy5jb21wb25lbnRzLnB1c2goY29tcG9uZW50KTtcclxuICAgICAgICB0aGlzLmNvbXBvbmVudHNUb0FkZC5wdXNoKGNvbXBvbmVudCk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZW1vdmVzIGEgY2hpbGQgY29tcG9uZW50IGZyb20gdGhlIGNvbnRhaW5lci5cclxuICAgICAqIEBwYXJhbSBjb21wb25lbnQgdGhlIGNvbXBvbmVudCB0byByZW1vdmVcclxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlmIHRoZSBjb21wb25lbnQgaGFzIGJlZW4gcmVtb3ZlZCwgZmFsc2UgaWYgaXQgaXMgbm90IGNvbnRhaW5lZCBpbiB0aGlzIGNvbnRhaW5lclxyXG4gICAgICovXHJcbiAgICBDb250YWluZXIucHJvdG90eXBlLnJlbW92ZUNvbXBvbmVudCA9IGZ1bmN0aW9uIChjb21wb25lbnQpIHtcclxuICAgICAgICBpZiAoYXJyYXl1dGlsc18xLkFycmF5VXRpbHMucmVtb3ZlKHRoaXMuY29uZmlnLmNvbXBvbmVudHMsIGNvbXBvbmVudCkgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aGlzLmNvbXBvbmVudHNUb1JlbW92ZS5wdXNoKGNvbXBvbmVudCk7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEdldHMgYW4gYXJyYXkgb2YgYWxsIGNoaWxkIGNvbXBvbmVudHMgaW4gdGhpcyBjb250YWluZXIuXHJcbiAgICAgKiBAcmV0dXJucyB7Q29tcG9uZW50PENvbXBvbmVudENvbmZpZz5bXX1cclxuICAgICAqL1xyXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5nZXRDb21wb25lbnRzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbmZpZy5jb21wb25lbnRzO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUmVtb3ZlcyBhbGwgY2hpbGQgY29tcG9uZW50cyBmcm9tIHRoZSBjb250YWluZXIuXHJcbiAgICAgKi9cclxuICAgIENvbnRhaW5lci5wcm90b3R5cGUucmVtb3ZlQ29tcG9uZW50cyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gdGhpcy5nZXRDb21wb25lbnRzKCkuc2xpY2UoKTsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgdmFyIGNvbXBvbmVudCA9IF9hW19pXTtcclxuICAgICAgICAgICAgdGhpcy5yZW1vdmVDb21wb25lbnQoY29tcG9uZW50KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBVcGRhdGVzIHRoZSBET00gb2YgdGhlIGNvbnRhaW5lciB3aXRoIHRoZSBjdXJyZW50IGNvbXBvbmVudHMuXHJcbiAgICAgKi9cclxuICAgIENvbnRhaW5lci5wcm90b3R5cGUudXBkYXRlQ29tcG9uZW50cyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvKiBXZSBjYW5ub3QganVzdCBjbGVhciB0aGUgY29udGFpbmVyIHRvIHJlbW92ZSBhbGwgZWxlbWVudHMgYW5kIHRoZW4gcmUtYWRkIHRob3NlIHRoYXQgc2hvdWxkIHN0YXksIGJlY2F1c2VcclxuICAgICAgICAgKiBJRSBsb29zZXMgdGhlIGlubmVySFRNTCBvZiB1bmF0dGFjaGVkIGVsZW1lbnRzLCBsZWFkaW5nIHRvIGVtcHR5IGVsZW1lbnRzIHdpdGhpbiB0aGUgY29udGFpbmVyIChlLmcuIG1pc3NpbmdcclxuICAgICAgICAgKiBzdWJ0aXRsZSB0ZXh0IGluIFN1YnRpdGxlTGFiZWwpLlxyXG4gICAgICAgICAqIEluc3RlYWQsIHdlIGtlZXAgYSBsaXN0IG9mIGVsZW1lbnRzIHRvIGFkZCBhbmQgcmVtb3ZlLCBsZWF2aW5nIHJlbWFpbmluZyBlbGVtZW50cyBhbG9uZS4gQnkga2VlcGluZyB0aGVtIGluXHJcbiAgICAgICAgICogdGhlIERPTSwgdGhlaXIgY29udGVudCBnZXRzIHByZXNlcnZlZCBpbiBhbGwgYnJvd3NlcnMuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdmFyIGNvbXBvbmVudDtcclxuICAgICAgICB3aGlsZSAoY29tcG9uZW50ID0gdGhpcy5jb21wb25lbnRzVG9SZW1vdmUuc2hpZnQoKSkge1xyXG4gICAgICAgICAgICBjb21wb25lbnQuZ2V0RG9tRWxlbWVudCgpLnJlbW92ZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB3aGlsZSAoY29tcG9uZW50ID0gdGhpcy5jb21wb25lbnRzVG9BZGQuc2hpZnQoKSkge1xyXG4gICAgICAgICAgICB0aGlzLmlubmVyQ29udGFpbmVyRWxlbWVudC5hcHBlbmQoY29tcG9uZW50LmdldERvbUVsZW1lbnQoKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIENvbnRhaW5lci5wcm90b3R5cGUudG9Eb21FbGVtZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vIENyZWF0ZSB0aGUgY29udGFpbmVyIGVsZW1lbnQgKHRoZSBvdXRlciA8ZGl2PilcclxuICAgICAgICB2YXIgY29udGFpbmVyRWxlbWVudCA9IG5ldyBkb21fMS5ET00odGhpcy5jb25maWcudGFnLCB7XHJcbiAgICAgICAgICAgICdpZCc6IHRoaXMuY29uZmlnLmlkLFxyXG4gICAgICAgICAgICAnY2xhc3MnOiB0aGlzLmdldENzc0NsYXNzZXMoKSxcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBDcmVhdGUgdGhlIGlubmVyIGNvbnRhaW5lciBlbGVtZW50ICh0aGUgaW5uZXIgPGRpdj4pIHRoYXQgd2lsbCBjb250YWluIHRoZSBjb21wb25lbnRzXHJcbiAgICAgICAgdmFyIGlubmVyQ29udGFpbmVyID0gbmV3IGRvbV8xLkRPTSh0aGlzLmNvbmZpZy50YWcsIHtcclxuICAgICAgICAgICAgJ2NsYXNzJzogdGhpcy5wcmVmaXhDc3MoJ2NvbnRhaW5lci13cmFwcGVyJyksXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5pbm5lckNvbnRhaW5lckVsZW1lbnQgPSBpbm5lckNvbnRhaW5lcjtcclxuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gdGhpcy5jb25maWcuY29tcG9uZW50czsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgdmFyIGluaXRpYWxDb21wb25lbnQgPSBfYVtfaV07XHJcbiAgICAgICAgICAgIHRoaXMuY29tcG9uZW50c1RvQWRkLnB1c2goaW5pdGlhbENvbXBvbmVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMudXBkYXRlQ29tcG9uZW50cygpO1xyXG4gICAgICAgIGNvbnRhaW5lckVsZW1lbnQuYXBwZW5kKGlubmVyQ29udGFpbmVyKTtcclxuICAgICAgICByZXR1cm4gY29udGFpbmVyRWxlbWVudDtcclxuICAgIH07XHJcbiAgICByZXR1cm4gQ29udGFpbmVyO1xyXG59KGNvbXBvbmVudF8xLkNvbXBvbmVudCkpO1xyXG5leHBvcnRzLkNvbnRhaW5lciA9IENvbnRhaW5lcjtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL2NvbnRhaW5lci50c1xuLy8gbW9kdWxlIGlkID0gMFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG4vKipcclxuICogU2ltcGxlIERPTSBtYW5pcHVsYXRpb24gYW5kIERPTSBlbGVtZW50IGV2ZW50IGhhbmRsaW5nIG1vZGVsZWQgYWZ0ZXIgalF1ZXJ5IChhcyByZXBsYWNlbWVudCBmb3IgalF1ZXJ5KS5cclxuICpcclxuICogTGlrZSBqUXVlcnksIERPTSBvcGVyYXRlcyBvbiBzaW5nbGUgZWxlbWVudHMgYW5kIGxpc3RzIG9mIGVsZW1lbnRzLiBGb3IgZXhhbXBsZTogY3JlYXRpbmcgYW4gZWxlbWVudCByZXR1cm5zIGEgRE9NXHJcbiAqIGluc3RhbmNlIHdpdGggYSBzaW5nbGUgZWxlbWVudCwgc2VsZWN0aW5nIGVsZW1lbnRzIHJldHVybnMgYSBET00gaW5zdGFuY2Ugd2l0aCB6ZXJvLCBvbmUsIG9yIG1hbnkgZWxlbWVudHMuIFNpbWlsYXJcclxuICogdG8galF1ZXJ5LCBzZXR0ZXJzIHVzdWFsbHkgYWZmZWN0IGFsbCBlbGVtZW50cywgd2hpbGUgZ2V0dGVycyBvcGVyYXRlIG9uIG9ubHkgdGhlIGZpcnN0IGVsZW1lbnQuXHJcbiAqIEFsc28gc2ltaWxhciB0byBqUXVlcnksIG1vc3QgbWV0aG9kcyAoZXhjZXB0IGdldHRlcnMpIHJldHVybiB0aGUgRE9NIGluc3RhbmNlIGZhY2lsaXRhdGluZyBlYXN5IGNoYWluaW5nIG9mIG1ldGhvZFxyXG4gKiBjYWxscy5cclxuICpcclxuICogQnVpbHQgd2l0aCB0aGUgaGVscCBvZjogaHR0cDovL3lvdW1pZ2h0bm90bmVlZGpxdWVyeS5jb20vXHJcbiAqL1xyXG52YXIgRE9NID0gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIERPTShzb21ldGhpbmcsIGF0dHJpYnV0ZXMpIHtcclxuICAgICAgICB0aGlzLmRvY3VtZW50ID0gZG9jdW1lbnQ7IC8vIFNldCB0aGUgZ2xvYmFsIGRvY3VtZW50IHRvIHRoZSBsb2NhbCBkb2N1bWVudCBmaWVsZFxyXG4gICAgICAgIGlmIChzb21ldGhpbmcgaW5zdGFuY2VvZiBBcnJheSkge1xyXG4gICAgICAgICAgICBpZiAoc29tZXRoaW5nLmxlbmd0aCA+IDAgJiYgc29tZXRoaW5nWzBdIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBlbGVtZW50cyA9IHNvbWV0aGluZztcclxuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudHMgPSBlbGVtZW50cztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChzb21ldGhpbmcgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xyXG4gICAgICAgICAgICB2YXIgZWxlbWVudCA9IHNvbWV0aGluZztcclxuICAgICAgICAgICAgdGhpcy5lbGVtZW50cyA9IFtlbGVtZW50XTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoc29tZXRoaW5nIGluc3RhbmNlb2YgRG9jdW1lbnQpIHtcclxuICAgICAgICAgICAgLy8gV2hlbiBhIGRvY3VtZW50IGlzIHBhc3NlZCBpbiwgd2UgZG8gbm90IGRvIGFueXRoaW5nIHdpdGggaXQsIGJ1dCBieSBzZXR0aW5nIHRoaXMuZWxlbWVudHMgdG8gbnVsbFxyXG4gICAgICAgICAgICAvLyB3ZSBnaXZlIHRoZSBldmVudCBoYW5kbGluZyBtZXRob2QgYSBtZWFucyB0byBkZXRlY3QgaWYgdGhlIGV2ZW50cyBzaG91bGQgYmUgcmVnaXN0ZXJlZCBvbiB0aGUgZG9jdW1lbnRcclxuICAgICAgICAgICAgLy8gaW5zdGVhZCBvZiBlbGVtZW50cy5cclxuICAgICAgICAgICAgdGhpcy5lbGVtZW50cyA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGF0dHJpYnV0ZXMpIHtcclxuICAgICAgICAgICAgdmFyIHRhZ05hbWUgPSBzb21ldGhpbmc7XHJcbiAgICAgICAgICAgIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWdOYW1lKTtcclxuICAgICAgICAgICAgZm9yICh2YXIgYXR0cmlidXRlTmFtZSBpbiBhdHRyaWJ1dGVzKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYXR0cmlidXRlVmFsdWUgPSBhdHRyaWJ1dGVzW2F0dHJpYnV0ZU5hbWVdO1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSwgYXR0cmlidXRlVmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudHMgPSBbZWxlbWVudF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB2YXIgc2VsZWN0b3IgPSBzb21ldGhpbmc7XHJcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudHMgPSB0aGlzLmZpbmRDaGlsZEVsZW1lbnRzKHNlbGVjdG9yKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRE9NLnByb3RvdHlwZSwgXCJsZW5ndGhcIiwge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEdldHMgdGhlIG51bWJlciBvZiBlbGVtZW50cyB0aGF0IHRoaXMgRE9NIGluc3RhbmNlIGN1cnJlbnRseSBob2xkcy5cclxuICAgICAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSB0aGUgbnVtYmVyIG9mIGVsZW1lbnRzXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnRzID8gdGhpcy5lbGVtZW50cy5sZW5ndGggOiAwO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIHRoZSBIVE1MIGVsZW1lbnRzIHRoYXQgdGhpcyBET00gaW5zdGFuY2UgY3VycmVudGx5IGhvbGRzLlxyXG4gICAgICogQHJldHVybnMge0hUTUxFbGVtZW50W119IHRoZSByYXcgSFRNTCBlbGVtZW50c1xyXG4gICAgICogQGRlcHJlY2F0ZWQgdXNlIHtAbGluayAjZ2V0KCl9IGluc3RlYWRcclxuICAgICAqL1xyXG4gICAgRE9NLnByb3RvdHlwZS5nZXRFbGVtZW50cyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXQoKTtcclxuICAgIH07XHJcbiAgICBET00ucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIChpbmRleCkge1xyXG4gICAgICAgIGlmIChpbmRleCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnRzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICghdGhpcy5lbGVtZW50cyB8fCBpbmRleCA+PSB0aGlzLmVsZW1lbnRzLmxlbmd0aCB8fCBpbmRleCA8IC10aGlzLmVsZW1lbnRzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChpbmRleCA8IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudHNbdGhpcy5lbGVtZW50cy5sZW5ndGggLSBpbmRleF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50c1tpbmRleF07XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQSBzaG9ydGN1dCBtZXRob2QgZm9yIGl0ZXJhdGluZyBhbGwgZWxlbWVudHMuIFNob3J0cyB0aGlzLmVsZW1lbnRzLmZvckVhY2goLi4uKSB0byB0aGlzLmZvckVhY2goLi4uKS5cclxuICAgICAqIEBwYXJhbSBoYW5kbGVyIHRoZSBoYW5kbGVyIHRvIGV4ZWN1dGUgYW4gb3BlcmF0aW9uIG9uIGFuIGVsZW1lbnRcclxuICAgICAqL1xyXG4gICAgRE9NLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gKGhhbmRsZXIpIHtcclxuICAgICAgICBpZiAoIXRoaXMuZWxlbWVudHMpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmVsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHtcclxuICAgICAgICAgICAgaGFuZGxlcihlbGVtZW50KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBET00ucHJvdG90eXBlLmZpbmRDaGlsZEVsZW1lbnRzT2ZFbGVtZW50ID0gZnVuY3Rpb24gKGVsZW1lbnQsIHNlbGVjdG9yKSB7XHJcbiAgICAgICAgdmFyIGNoaWxkRWxlbWVudHMgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpO1xyXG4gICAgICAgIC8vIENvbnZlcnQgTm9kZUxpc3QgdG8gQXJyYXlcclxuICAgICAgICAvLyBodHRwczovL3RvZGRtb3R0by5jb20vYS1jb21wcmVoZW5zaXZlLWRpdmUtaW50by1ub2RlbGlzdHMtYXJyYXlzLWNvbnZlcnRpbmctbm9kZWxpc3RzLWFuZC11bmRlcnN0YW5kaW5nLXRoZS1kb20vXHJcbiAgICAgICAgcmV0dXJuIFtdLnNsaWNlLmNhbGwoY2hpbGRFbGVtZW50cyk7XHJcbiAgICB9O1xyXG4gICAgRE9NLnByb3RvdHlwZS5maW5kQ2hpbGRFbGVtZW50cyA9IGZ1bmN0aW9uIChzZWxlY3Rvcikge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdmFyIGFsbENoaWxkRWxlbWVudHMgPSBbXTtcclxuICAgICAgICBpZiAodGhpcy5lbGVtZW50cykge1xyXG4gICAgICAgICAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHtcclxuICAgICAgICAgICAgICAgIGFsbENoaWxkRWxlbWVudHMgPSBhbGxDaGlsZEVsZW1lbnRzLmNvbmNhdChfdGhpcy5maW5kQ2hpbGRFbGVtZW50c09mRWxlbWVudChlbGVtZW50LCBzZWxlY3RvcikpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZpbmRDaGlsZEVsZW1lbnRzT2ZFbGVtZW50KGRvY3VtZW50LCBzZWxlY3Rvcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBhbGxDaGlsZEVsZW1lbnRzO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogRmluZHMgYWxsIGNoaWxkIGVsZW1lbnRzIG9mIGFsbCBlbGVtZW50cyBtYXRjaGluZyB0aGUgc3VwcGxpZWQgc2VsZWN0b3IuXHJcbiAgICAgKiBAcGFyYW0gc2VsZWN0b3IgdGhlIHNlbGVjdG9yIHRvIG1hdGNoIHdpdGggY2hpbGQgZWxlbWVudHNcclxuICAgICAqIEByZXR1cm5zIHtET019IGEgbmV3IERPTSBpbnN0YW5jZSByZXByZXNlbnRpbmcgYWxsIG1hdGNoZWQgY2hpbGRyZW5cclxuICAgICAqL1xyXG4gICAgRE9NLnByb3RvdHlwZS5maW5kID0gZnVuY3Rpb24gKHNlbGVjdG9yKSB7XHJcbiAgICAgICAgdmFyIGFsbENoaWxkRWxlbWVudHMgPSB0aGlzLmZpbmRDaGlsZEVsZW1lbnRzKHNlbGVjdG9yKTtcclxuICAgICAgICByZXR1cm4gbmV3IERPTShhbGxDaGlsZEVsZW1lbnRzKTtcclxuICAgIH07XHJcbiAgICBET00ucHJvdG90eXBlLmh0bWwgPSBmdW5jdGlvbiAoY29udGVudCkge1xyXG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zZXRIdG1sKGNvbnRlbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0SHRtbCgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBET00ucHJvdG90eXBlLmdldEh0bWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudHNbMF0uaW5uZXJIVE1MO1xyXG4gICAgfTtcclxuICAgIERPTS5wcm90b3R5cGUuc2V0SHRtbCA9IGZ1bmN0aW9uIChjb250ZW50KSB7XHJcbiAgICAgICAgaWYgKGNvbnRlbnQgPT09IHVuZGVmaW5lZCB8fCBjb250ZW50ID09IG51bGwpIHtcclxuICAgICAgICAgICAgLy8gU2V0IHRvIGVtcHR5IHN0cmluZyB0byBhdm9pZCBpbm5lckhUTUwgZ2V0dGluZyBzZXQgdG8gJ3VuZGVmaW5lZCcgKGFsbCBicm93c2Vycykgb3IgJ251bGwnIChJRTkpXHJcbiAgICAgICAgICAgIGNvbnRlbnQgPSAnJztcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7XHJcbiAgICAgICAgICAgIGVsZW1lbnQuaW5uZXJIVE1MID0gY29udGVudDtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIENsZWFycyB0aGUgaW5uZXIgSFRNTCBvZiBhbGwgZWxlbWVudHMgKGRlbGV0ZXMgYWxsIGNoaWxkcmVuKS5cclxuICAgICAqIEByZXR1cm5zIHtET019XHJcbiAgICAgKi9cclxuICAgIERPTS5wcm90b3R5cGUuZW1wdHkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7XHJcbiAgICAgICAgICAgIGVsZW1lbnQuaW5uZXJIVE1MID0gJyc7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRoZSBjdXJyZW50IHZhbHVlIG9mIHRoZSBmaXJzdCBmb3JtIGVsZW1lbnQsIGUuZy4gdGhlIHNlbGVjdGVkIHZhbHVlIG9mIGEgc2VsZWN0IGJveCBvciB0aGUgdGV4dCBpZiBhblxyXG4gICAgICogaW5wdXQgZmllbGQuXHJcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSB0aGUgdmFsdWUgb2YgYSBmb3JtIGVsZW1lbnRcclxuICAgICAqL1xyXG4gICAgRE9NLnByb3RvdHlwZS52YWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGVsZW1lbnQgPSB0aGlzLmVsZW1lbnRzWzBdO1xyXG4gICAgICAgIGlmIChlbGVtZW50IGluc3RhbmNlb2YgSFRNTFNlbGVjdEVsZW1lbnQgfHwgZWxlbWVudCBpbnN0YW5jZW9mIEhUTUxJbnB1dEVsZW1lbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQudmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBUT0RPIGFkZCBzdXBwb3J0IGZvciBtaXNzaW5nIGZvcm0gZWxlbWVudHNcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwidmFsKCkgbm90IHN1cHBvcnRlZCBmb3IgXCIgKyB0eXBlb2YgZWxlbWVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIERPTS5wcm90b3R5cGUuYXR0ciA9IGZ1bmN0aW9uIChhdHRyaWJ1dGUsIHZhbHVlKSB7XHJcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNldEF0dHIoYXR0cmlidXRlLCB2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRBdHRyKGF0dHJpYnV0ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIERPTS5wcm90b3R5cGUuZ2V0QXR0ciA9IGZ1bmN0aW9uIChhdHRyaWJ1dGUpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50c1swXS5nZXRBdHRyaWJ1dGUoYXR0cmlidXRlKTtcclxuICAgIH07XHJcbiAgICBET00ucHJvdG90eXBlLnNldEF0dHIgPSBmdW5jdGlvbiAoYXR0cmlidXRlLCB2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkge1xyXG4gICAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShhdHRyaWJ1dGUsIHZhbHVlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICBET00ucHJvdG90eXBlLmRhdGEgPSBmdW5jdGlvbiAoZGF0YUF0dHJpYnV0ZSwgdmFsdWUpIHtcclxuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2V0RGF0YShkYXRhQXR0cmlidXRlLCB2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXREYXRhKGRhdGFBdHRyaWJ1dGUpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBET00ucHJvdG90eXBlLmdldERhdGEgPSBmdW5jdGlvbiAoZGF0YUF0dHJpYnV0ZSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnRzWzBdLmdldEF0dHJpYnV0ZSgnZGF0YS0nICsgZGF0YUF0dHJpYnV0ZSk7XHJcbiAgICB9O1xyXG4gICAgRE9NLnByb3RvdHlwZS5zZXREYXRhID0gZnVuY3Rpb24gKGRhdGFBdHRyaWJ1dGUsIHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7XHJcbiAgICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdkYXRhLScgKyBkYXRhQXR0cmlidXRlLCB2YWx1ZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBBcHBlbmRzIG9uZSBvciBtb3JlIERPTSBlbGVtZW50cyBhcyBjaGlsZHJlbiB0byBhbGwgZWxlbWVudHMuXHJcbiAgICAgKiBAcGFyYW0gY2hpbGRFbGVtZW50cyB0aGUgY2hyaWxkIGVsZW1lbnRzIHRvIGFwcGVuZFxyXG4gICAgICogQHJldHVybnMge0RPTX1cclxuICAgICAqL1xyXG4gICAgRE9NLnByb3RvdHlwZS5hcHBlbmQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGNoaWxkRWxlbWVudHMgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICBjaGlsZEVsZW1lbnRzW19pXSA9IGFyZ3VtZW50c1tfaV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkge1xyXG4gICAgICAgICAgICBjaGlsZEVsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKGNoaWxkRWxlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgY2hpbGRFbGVtZW50LmVsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKF8sIGluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5hcHBlbmRDaGlsZChjaGlsZEVsZW1lbnQuZWxlbWVudHNbaW5kZXhdKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZXMgYWxsIGVsZW1lbnRzIGZyb20gdGhlIERPTS5cclxuICAgICAqL1xyXG4gICAgRE9NLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7XHJcbiAgICAgICAgICAgIHZhciBwYXJlbnQgPSBlbGVtZW50LnBhcmVudE5vZGU7XHJcbiAgICAgICAgICAgIGlmIChwYXJlbnQpIHtcclxuICAgICAgICAgICAgICAgIHBhcmVudC5yZW1vdmVDaGlsZChlbGVtZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0aGUgb2Zmc2V0IG9mIHRoZSBmaXJzdCBlbGVtZW50IGZyb20gdGhlIGRvY3VtZW50J3MgdG9wIGxlZnQgY29ybmVyLlxyXG4gICAgICogQHJldHVybnMge09mZnNldH1cclxuICAgICAqL1xyXG4gICAgRE9NLnByb3RvdHlwZS5vZmZzZXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGVsZW1lbnQgPSB0aGlzLmVsZW1lbnRzWzBdO1xyXG4gICAgICAgIHZhciBlbGVtZW50UmVjdCA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgdmFyIGh0bWxSZWN0ID0gZG9jdW1lbnQuYm9keS5wYXJlbnRFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgIC8vIFZpcnR1YWwgdmlld3BvcnQgc2Nyb2xsIGhhbmRsaW5nIChlLmcuIHBpbmNoIHpvb21lZCB2aWV3cG9ydHMgaW4gbW9iaWxlIGJyb3dzZXJzIG9yIGRlc2t0b3AgQ2hyb21lL0VkZ2UpXHJcbiAgICAgICAgLy8gJ25vcm1hbCcgem9vbXMgYW5kIHZpcnR1YWwgdmlld3BvcnQgem9vbXMgKGFrYSBsYXlvdXQgdmlld3BvcnQpIHJlc3VsdCBpbiBkaWZmZXJlbnRcclxuICAgICAgICAvLyBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpIHJlc3VsdHM6XHJcbiAgICAgICAgLy8gIC0gd2l0aCBub3JtYWwgc2Nyb2xscywgdGhlIGNsaWVudFJlY3QgZGVjcmVhc2VzIHdpdGggYW4gaW5jcmVhc2UgaW4gc2Nyb2xsKFRvcHxMZWZ0KS9wYWdlKFh8WSlPZmZzZXRcclxuICAgICAgICAvLyAgLSB3aXRoIHBpbmNoIHpvb20gc2Nyb2xscywgdGhlIGNsaWVudFJlY3Qgc3RheXMgdGhlIHNhbWUgd2hpbGUgc2Nyb2xsL3BhZ2VPZmZzZXQgY2hhbmdlc1xyXG4gICAgICAgIC8vIFRoaXMgbWVhbnMsIHRoYXQgdGhlIGNvbWJpbmF0aW9uIG9mIGNsaWVudFJlY3QgKyBzY3JvbGwvcGFnZU9mZnNldCBkb2VzIG5vdCB3b3JrIHRvIGNhbGN1bGF0ZSB0aGUgb2Zmc2V0XHJcbiAgICAgICAgLy8gZnJvbSB0aGUgZG9jdW1lbnQncyB1cHBlciBsZWZ0IG9yaWdpbiB3aGVuIHBpbmNoIHpvb20gaXMgdXNlZC5cclxuICAgICAgICAvLyBUbyB3b3JrIGFyb3VuZCB0aGlzIGlzc3VlLCB3ZSBkbyBub3QgdXNlIHNjcm9sbC9wYWdlT2Zmc2V0IGJ1dCBnZXQgdGhlIGNsaWVudFJlY3Qgb2YgdGhlIGh0bWwgZWxlbWVudCBhbmRcclxuICAgICAgICAvLyBzdWJ0cmFjdCBpdCBmcm9tIHRoZSBlbGVtZW50J3MgcmVjdCwgd2hpY2ggYWx3YXlzIHJlc3VsdHMgaW4gdGhlIG9mZnNldCBmcm9tIHRoZSBkb2N1bWVudCBvcmlnaW4uXHJcbiAgICAgICAgLy8gTk9URTogdGhlIGN1cnJlbnQgd2F5IG9mIG9mZnNldCBjYWxjdWxhdGlvbiB3YXMgaW1wbGVtZW50ZWQgc3BlY2lmaWNhbGx5IHRvIHRyYWNrIGV2ZW50IHBvc2l0aW9ucyBvbiB0aGVcclxuICAgICAgICAvLyBzZWVrIGJhciwgYW5kIGl0IG1pZ2h0IGJyZWFrIGNvbXBhdGliaWxpdHkgd2l0aCBqUXVlcnkncyBvZmZzZXQoKSBtZXRob2QuIElmIHRoaXMgZXZlciB0dXJucyBvdXQgdG8gYmUgYVxyXG4gICAgICAgIC8vIHByb2JsZW0sIHRoaXMgbWV0aG9kIHNob3VsZCBiZSByZXZlcnRlZCB0byB0aGUgb2xkIHZlcnNpb24gYW5kIHRoZSBvZmZzZXQgY2FsY3VsYXRpb24gbW92ZWQgdG8gdGhlIHNlZWsgYmFyLlxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHRvcDogZWxlbWVudFJlY3QudG9wIC0gaHRtbFJlY3QudG9wLFxyXG4gICAgICAgICAgICBsZWZ0OiBlbGVtZW50UmVjdC5sZWZ0IC0gaHRtbFJlY3QubGVmdCxcclxuICAgICAgICB9O1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0aGUgd2lkdGggb2YgdGhlIGZpcnN0IGVsZW1lbnQuXHJcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSB0aGUgd2lkdGggb2YgdGhlIGZpcnN0IGVsZW1lbnRcclxuICAgICAqL1xyXG4gICAgRE9NLnByb3RvdHlwZS53aWR0aCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyBUT0RPIGNoZWNrIGlmIHRoaXMgaXMgdGhlIHNhbWUgYXMgalF1ZXJ5J3Mgd2lkdGgoKSAocHJvYmFibHkgbm90KVxyXG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnRzWzBdLm9mZnNldFdpZHRoO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0aGUgaGVpZ2h0IG9mIHRoZSBmaXJzdCBlbGVtZW50LlxyXG4gICAgICogQHJldHVybnMge251bWJlcn0gdGhlIGhlaWdodCBvZiB0aGUgZmlyc3QgZWxlbWVudFxyXG4gICAgICovXHJcbiAgICBET00ucHJvdG90eXBlLmhlaWdodCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyBUT0RPIGNoZWNrIGlmIHRoaXMgaXMgdGhlIHNhbWUgYXMgalF1ZXJ5J3MgaGVpZ2h0KCkgKHByb2JhYmx5IG5vdClcclxuICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50c1swXS5vZmZzZXRIZWlnaHQ7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBBdHRhY2hlcyBhbiBldmVudCBoYW5kbGVyIHRvIG9uZSBvciBtb3JlIGV2ZW50cyBvbiBhbGwgZWxlbWVudHMuXHJcbiAgICAgKiBAcGFyYW0gZXZlbnROYW1lIHRoZSBldmVudCBuYW1lIChvciBtdWx0aXBsZSBuYW1lcyBzZXBhcmF0ZWQgYnkgc3BhY2UpIHRvIGxpc3RlbiB0b1xyXG4gICAgICogQHBhcmFtIGV2ZW50SGFuZGxlciB0aGUgZXZlbnQgaGFuZGxlciB0byBjYWxsIHdoZW4gdGhlIGV2ZW50IGZpcmVzXHJcbiAgICAgKiBAcmV0dXJucyB7RE9NfVxyXG4gICAgICovXHJcbiAgICBET00ucHJvdG90eXBlLm9uID0gZnVuY3Rpb24gKGV2ZW50TmFtZSwgZXZlbnRIYW5kbGVyKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB2YXIgZXZlbnRzID0gZXZlbnROYW1lLnNwbGl0KCcgJyk7XHJcbiAgICAgICAgZXZlbnRzLmZvckVhY2goZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIGlmIChfdGhpcy5lbGVtZW50cyA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBldmVudEhhbmRsZXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgZXZlbnRIYW5kbGVyKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZW1vdmVzIGFuIGV2ZW50IGhhbmRsZXIgZnJvbSBvbmUgb3IgbW9yZSBldmVudHMgb24gYWxsIGVsZW1lbnRzLlxyXG4gICAgICogQHBhcmFtIGV2ZW50TmFtZSB0aGUgZXZlbnQgbmFtZSAob3IgbXVsdGlwbGUgbmFtZXMgc2VwYXJhdGVkIGJ5IHNwYWNlKSB0byByZW1vdmUgdGhlIGhhbmRsZXIgZnJvbVxyXG4gICAgICogQHBhcmFtIGV2ZW50SGFuZGxlciB0aGUgZXZlbnQgaGFuZGxlciB0byByZW1vdmVcclxuICAgICAqIEByZXR1cm5zIHtET019XHJcbiAgICAgKi9cclxuICAgIERPTS5wcm90b3R5cGUub2ZmID0gZnVuY3Rpb24gKGV2ZW50TmFtZSwgZXZlbnRIYW5kbGVyKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB2YXIgZXZlbnRzID0gZXZlbnROYW1lLnNwbGl0KCcgJyk7XHJcbiAgICAgICAgZXZlbnRzLmZvckVhY2goZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIGlmIChfdGhpcy5lbGVtZW50cyA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCBldmVudEhhbmRsZXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgZXZlbnRIYW5kbGVyKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBBZGRzIHRoZSBzcGVjaWZpZWQgY2xhc3MoZXMpIHRvIGFsbCBlbGVtZW50cy5cclxuICAgICAqIEBwYXJhbSBjbGFzc05hbWUgdGhlIGNsYXNzKGVzKSB0byBhZGQsIG11bHRpcGxlIGNsYXNzZXMgc2VwYXJhdGVkIGJ5IHNwYWNlXHJcbiAgICAgKiBAcmV0dXJucyB7RE9NfVxyXG4gICAgICovXHJcbiAgICBET00ucHJvdG90eXBlLmFkZENsYXNzID0gZnVuY3Rpb24gKGNsYXNzTmFtZSkge1xyXG4gICAgICAgIHRoaXMuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkge1xyXG4gICAgICAgICAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QpIHtcclxuICAgICAgICAgICAgICAgIHZhciBjbGFzc05hbWVzID0gY2xhc3NOYW1lLnNwbGl0KCcgJylcclxuICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChjbGFzc05hbWUpIHsgcmV0dXJuIGNsYXNzTmFtZS5sZW5ndGggPiAwOyB9KTtcclxuICAgICAgICAgICAgICAgIGlmIChjbGFzc05hbWVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAoX2EgPSBlbGVtZW50LmNsYXNzTGlzdCkuYWRkLmFwcGx5KF9hLCBjbGFzc05hbWVzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NOYW1lICs9ICcgJyArIGNsYXNzTmFtZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgX2E7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZW1vdmVkIHRoZSBzcGVjaWZpZWQgY2xhc3MoZXMpIGZyb20gYWxsIGVsZW1lbnRzLlxyXG4gICAgICogQHBhcmFtIGNsYXNzTmFtZSB0aGUgY2xhc3MoZXMpIHRvIHJlbW92ZSwgbXVsdGlwbGUgY2xhc3NlcyBzZXBhcmF0ZWQgYnkgc3BhY2VcclxuICAgICAqIEByZXR1cm5zIHtET019XHJcbiAgICAgKi9cclxuICAgIERPTS5wcm90b3R5cGUucmVtb3ZlQ2xhc3MgPSBmdW5jdGlvbiAoY2xhc3NOYW1lKSB7XHJcbiAgICAgICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7XHJcbiAgICAgICAgICAgIGlmIChlbGVtZW50LmNsYXNzTGlzdCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNsYXNzTmFtZXMgPSBjbGFzc05hbWUuc3BsaXQoJyAnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKGNsYXNzTmFtZSkgeyByZXR1cm4gY2xhc3NOYW1lLmxlbmd0aCA+IDA7IH0pO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNsYXNzTmFtZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIChfYSA9IGVsZW1lbnQuY2xhc3NMaXN0KS5yZW1vdmUuYXBwbHkoX2EsIGNsYXNzTmFtZXMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5jbGFzc05hbWUgPSBlbGVtZW50LmNsYXNzTmFtZS5yZXBsYWNlKG5ldyBSZWdFeHAoJyhefFxcXFxiKScgKyBjbGFzc05hbWUuc3BsaXQoJyAnKS5qb2luKCd8JykgKyAnKFxcXFxifCQpJywgJ2dpJyksICcgJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIF9hO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2tzIGlmIGFueSBvZiB0aGUgZWxlbWVudHMgaGFzIHRoZSBzcGVjaWZpZWQgY2xhc3MuXHJcbiAgICAgKiBAcGFyYW0gY2xhc3NOYW1lIHRoZSBjbGFzcyBuYW1lIHRvIGNoZWNrXHJcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpZiBvbmUgb2YgdGhlIGVsZW1lbnRzIGhhcyB0aGUgY2xhc3MgYXR0YWNoZWQsIGVsc2UgaWYgbm8gZWxlbWVudCBoYXMgaXQgYXR0YWNoZWRcclxuICAgICAqL1xyXG4gICAgRE9NLnByb3RvdHlwZS5oYXNDbGFzcyA9IGZ1bmN0aW9uIChjbGFzc05hbWUpIHtcclxuICAgICAgICB2YXIgaGFzQ2xhc3MgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHtcclxuICAgICAgICAgICAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoY2xhc3NOYW1lKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFNpbmNlIHdlIGFyZSBpbnNpZGUgYSBoYW5kbGVyLCB3ZSBjYW4ndCBqdXN0ICdyZXR1cm4gdHJ1ZScuIEluc3RlYWQsIHdlIHNhdmUgaXQgdG8gYSB2YXJpYWJsZVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGFuZCByZXR1cm4gaXQgYXQgdGhlIGVuZCBvZiB0aGUgZnVuY3Rpb24gYm9keS5cclxuICAgICAgICAgICAgICAgICAgICBoYXNDbGFzcyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobmV3IFJlZ0V4cCgnKF58ICknICsgY2xhc3NOYW1lICsgJyggfCQpJywgJ2dpJykudGVzdChlbGVtZW50LmNsYXNzTmFtZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBTZWUgY29tbWVudCBhYm92ZVxyXG4gICAgICAgICAgICAgICAgICAgIGhhc0NsYXNzID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBoYXNDbGFzcztcclxuICAgIH07XHJcbiAgICBET00ucHJvdG90eXBlLmNzcyA9IGZ1bmN0aW9uIChwcm9wZXJ0eU5hbWVPckNvbGxlY3Rpb24sIHZhbHVlKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBwcm9wZXJ0eU5hbWVPckNvbGxlY3Rpb24gPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgIHZhciBwcm9wZXJ0eU5hbWUgPSBwcm9wZXJ0eU5hbWVPckNvbGxlY3Rpb247XHJcbiAgICAgICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAyKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zZXRDc3MocHJvcGVydHlOYW1lLCB2YWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRDc3MocHJvcGVydHlOYW1lKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdmFyIHByb3BlcnR5VmFsdWVDb2xsZWN0aW9uID0gcHJvcGVydHlOYW1lT3JDb2xsZWN0aW9uO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zZXRDc3NDb2xsZWN0aW9uKHByb3BlcnR5VmFsdWVDb2xsZWN0aW9uKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgRE9NLnByb3RvdHlwZS5nZXRDc3MgPSBmdW5jdGlvbiAocHJvcGVydHlOYW1lKSB7XHJcbiAgICAgICAgcmV0dXJuIGdldENvbXB1dGVkU3R5bGUodGhpcy5lbGVtZW50c1swXSlbcHJvcGVydHlOYW1lXTtcclxuICAgIH07XHJcbiAgICBET00ucHJvdG90eXBlLnNldENzcyA9IGZ1bmN0aW9uIChwcm9wZXJ0eU5hbWUsIHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7XHJcbiAgICAgICAgICAgIC8vIDxhbnk+IGNhc3QgdG8gcmVzb2x2ZSBUUzcwMTU6IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzM2NjI3MTE0LzM3MDI1MlxyXG4gICAgICAgICAgICBlbGVtZW50LnN0eWxlW3Byb3BlcnR5TmFtZV0gPSB2YWx1ZTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICBET00ucHJvdG90eXBlLnNldENzc0NvbGxlY3Rpb24gPSBmdW5jdGlvbiAocnVsZVZhbHVlQ29sbGVjdGlvbikge1xyXG4gICAgICAgIHRoaXMuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkge1xyXG4gICAgICAgICAgICAvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8zNDQ5MDU3My8zNzAyNTJcclxuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihlbGVtZW50LnN0eWxlLCBydWxlVmFsdWVDb2xsZWN0aW9uKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICByZXR1cm4gRE9NO1xyXG59KCkpO1xyXG5leHBvcnRzLkRPTSA9IERPTTtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9kb20udHNcbi8vIG1vZHVsZSBpZCA9IDFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGd1aWRfMSA9IHJlcXVpcmUoXCIuLi9ndWlkXCIpO1xyXG52YXIgZG9tXzEgPSByZXF1aXJlKFwiLi4vZG9tXCIpO1xyXG52YXIgZXZlbnRkaXNwYXRjaGVyXzEgPSByZXF1aXJlKFwiLi4vZXZlbnRkaXNwYXRjaGVyXCIpO1xyXG4vKipcclxuICogVGhlIGJhc2UgY2xhc3Mgb2YgdGhlIFVJIGZyYW1ld29yay5cclxuICogRWFjaCBjb21wb25lbnQgbXVzdCBleHRlbmQgdGhpcyBjbGFzcyBhbmQgb3B0aW9uYWxseSB0aGUgY29uZmlnIGludGVyZmFjZS5cclxuICovXHJcbnZhciBDb21wb25lbnQgPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgLyoqXHJcbiAgICAgKiBDb25zdHJ1Y3RzIGEgY29tcG9uZW50IHdpdGggYW4gb3B0aW9uYWxseSBzdXBwbGllZCBjb25maWcuIEFsbCBzdWJjbGFzc2VzIG11c3QgY2FsbCB0aGUgY29uc3RydWN0b3Igb2YgdGhlaXJcclxuICAgICAqIHN1cGVyY2xhc3MgYW5kIHRoZW4gbWVyZ2UgdGhlaXIgY29uZmlndXJhdGlvbiBpbnRvIHRoZSBjb21wb25lbnQncyBjb25maWd1cmF0aW9uLlxyXG4gICAgICogQHBhcmFtIGNvbmZpZyB0aGUgY29uZmlndXJhdGlvbiBmb3IgdGhlIGNvbXBvbmVudFxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBDb21wb25lbnQoY29uZmlnKSB7XHJcbiAgICAgICAgaWYgKGNvbmZpZyA9PT0gdm9pZCAwKSB7IGNvbmZpZyA9IHt9OyB9XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogVGhlIGxpc3Qgb2YgZXZlbnRzIHRoYXQgdGhpcyBjb21wb25lbnQgb2ZmZXJzLiBUaGVzZSBldmVudHMgc2hvdWxkIGFsd2F5cyBiZSBwcml2YXRlIGFuZCBvbmx5IGRpcmVjdGx5XHJcbiAgICAgICAgICogYWNjZXNzZWQgZnJvbSB3aXRoaW4gdGhlIGltcGxlbWVudGluZyBjb21wb25lbnQuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBCZWNhdXNlIFR5cGVTY3JpcHQgZG9lcyBub3Qgc3VwcG9ydCBwcml2YXRlIHByb3BlcnRpZXMgd2l0aCB0aGUgc2FtZSBuYW1lIG9uIGRpZmZlcmVudCBjbGFzcyBoaWVyYXJjaHkgbGV2ZWxzXHJcbiAgICAgICAgICogKGkuZS4gc3VwZXJjbGFzcyBhbmQgc3ViY2xhc3MgY2Fubm90IGNvbnRhaW4gYSBwcml2YXRlIHByb3BlcnR5IHdpdGggdGhlIHNhbWUgbmFtZSksIHRoZSBkZWZhdWx0IG5hbWluZ1xyXG4gICAgICAgICAqIGNvbnZlbnRpb24gZm9yIHRoZSBldmVudCBsaXN0IG9mIGEgY29tcG9uZW50IHRoYXQgc2hvdWxkIGJlIGZvbGxvd2VkIGJ5IHN1YmNsYXNzZXMgaXMgdGhlIGNvbmNhdGVuYXRpb24gb2YgdGhlXHJcbiAgICAgICAgICogY2FtZWwtY2FzZWQgY2xhc3MgbmFtZSArICdFdmVudHMnIChlLmcuIFN1YkNsYXNzIGV4dGVuZHMgQ29tcG9uZW50ID0+IHN1YkNsYXNzRXZlbnRzKS5cclxuICAgICAgICAgKiBTZWUge0BsaW5rICNjb21wb25lbnRFdmVudHN9IGZvciBhbiBleGFtcGxlLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogRXZlbnQgcHJvcGVydGllcyBzaG91bGQgYmUgbmFtZWQgaW4gY2FtZWwgY2FzZSB3aXRoIGFuICdvbicgcHJlZml4IGFuZCBpbiB0aGUgcHJlc2VudCB0ZW5zZS4gQXN5bmMgZXZlbnRzIG1heVxyXG4gICAgICAgICAqIGhhdmUgYSBzdGFydCBldmVudCAod2hlbiB0aGUgb3BlcmF0aW9uIHN0YXJ0cykgaW4gdGhlIHByZXNlbnQgdGVuc2UsIGFuZCBtdXN0IGhhdmUgYW4gZW5kIGV2ZW50ICh3aGVuIHRoZVxyXG4gICAgICAgICAqIG9wZXJhdGlvbiBlbmRzKSBpbiB0aGUgcGFzdCB0ZW5zZSAob3IgcHJlc2VudCB0ZW5zZSBpbiBzcGVjaWFsIGNhc2VzIChlLmcuIG9uU3RhcnQvb25TdGFydGVkIG9yIG9uUGxheS9vblBsYXlpbmcpLlxyXG4gICAgICAgICAqIFNlZSB7QGxpbmsgI2NvbXBvbmVudEV2ZW50cyNvblNob3d9IGZvciBhbiBleGFtcGxlLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogRWFjaCBldmVudCBzaG91bGQgYmUgYWNjb21wYW5pZWQgd2l0aCBhIHByb3RlY3RlZCBtZXRob2QgbmFtZWQgYnkgdGhlIGNvbnZlbnRpb24gZXZlbnROYW1lICsgJ0V2ZW50J1xyXG4gICAgICAgICAqIChlLmcuIG9uU3RhcnRFdmVudCksIHRoYXQgYWN0dWFsbHkgdHJpZ2dlcnMgdGhlIGV2ZW50IGJ5IGNhbGxpbmcge0BsaW5rIEV2ZW50RGlzcGF0Y2hlciNkaXNwYXRjaCBkaXNwYXRjaH0gYW5kXHJcbiAgICAgICAgICogcGFzc2luZyBhIHJlZmVyZW5jZSB0byB0aGUgY29tcG9uZW50IGFzIGZpcnN0IHBhcmFtZXRlci4gQ29tcG9uZW50cyBzaG91bGQgYWx3YXlzIHRyaWdnZXIgdGhlaXIgZXZlbnRzIHdpdGggdGhlc2VcclxuICAgICAgICAgKiBtZXRob2RzLiBJbXBsZW1lbnRpbmcgdGhpcyBwYXR0ZXJuIGdpdmVzIHN1YmNsYXNzZXMgbWVhbnMgdG8gZGlyZWN0bHkgbGlzdGVuIHRvIHRoZSBldmVudHMgYnkgb3ZlcnJpZGluZyB0aGVcclxuICAgICAgICAgKiBtZXRob2QgKGFuZCBzYXZpbmcgdGhlIG92ZXJoZWFkIG9mIHBhc3NpbmcgYSBoYW5kbGVyIHRvIHRoZSBldmVudCBkaXNwYXRjaGVyKSBhbmQgbW9yZSBpbXBvcnRhbnRseSB0byB0cmlnZ2VyXHJcbiAgICAgICAgICogdGhlc2UgZXZlbnRzIHdpdGhvdXQgaGF2aW5nIGFjY2VzcyB0byB0aGUgcHJpdmF0ZSBldmVudCBsaXN0LlxyXG4gICAgICAgICAqIFNlZSB7QGxpbmsgI29uU2hvd30gZm9yIGFuIGV4YW1wbGUuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBUbyBwcm92aWRlIGV4dGVybmFsIGNvZGUgdGhlIHBvc3NpYmlsaXR5IHRvIGxpc3RlbiB0byB0aGlzIGNvbXBvbmVudCdzIGV2ZW50cyAoc3Vic2NyaWJlLCB1bnN1YnNjcmliZSwgZXRjLiksXHJcbiAgICAgICAgICogZWFjaCBldmVudCBzaG91bGQgYWxzbyBiZSBhY2NvbXBhbmllZCBieSBhIHB1YmxpYyBnZXR0ZXIgZnVuY3Rpb24gd2l0aCB0aGUgc2FtZSBuYW1lIGFzIHRoZSBldmVudCdzIHByb3BlcnR5LFxyXG4gICAgICAgICAqIHRoYXQgcmV0dXJucyB0aGUge0BsaW5rIEV2ZW50fSBvYnRhaW5lZCBmcm9tIHRoZSBldmVudCBkaXNwYXRjaGVyIGJ5IGNhbGxpbmcge0BsaW5rIEV2ZW50RGlzcGF0Y2hlciNnZXRFdmVudH0uXHJcbiAgICAgICAgICogU2VlIHtAbGluayAjb25TaG93fSBmb3IgYW4gZXhhbXBsZS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEZ1bGwgZXhhbXBsZSBmb3IgYW4gZXZlbnQgcmVwcmVzZW50aW5nIGFuIGV4YW1wbGUgYWN0aW9uIGluIGEgZXhhbXBsZSBjb21wb25lbnQ6XHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiA8Y29kZT5cclxuICAgICAgICAgKiAvLyBEZWZpbmUgYW4gZXhhbXBsZSBjb21wb25lbnQgY2xhc3Mgd2l0aCBhbiBleGFtcGxlIGV2ZW50XHJcbiAgICAgICAgICogY2xhc3MgRXhhbXBsZUNvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudDxDb21wb25lbnRDb25maWc+IHtcclxuICAgICAgICAgICAqXHJcbiAgICAgICAgICAgKiAgICAgcHJpdmF0ZSBleGFtcGxlQ29tcG9uZW50RXZlbnRzID0ge1xyXG4gICAgICAgICAgICogICAgICAgICBvbkV4YW1wbGVBY3Rpb246IG5ldyBFdmVudERpc3BhdGNoZXI8RXhhbXBsZUNvbXBvbmVudCwgTm9BcmdzPigpXHJcbiAgICAgICAgICAgKiAgICAgfVxyXG4gICAgICAgICAgICpcclxuICAgICAgICAgICAqICAgICAvLyBjb25zdHJ1Y3RvciBhbmQgb3RoZXIgc3R1ZmYuLi5cclxuICAgICAgICAgICAqXHJcbiAgICAgICAgICAgKiAgICAgcHJvdGVjdGVkIG9uRXhhbXBsZUFjdGlvbkV2ZW50KCkge1xyXG4gICAgICAgICAgICogICAgICAgIHRoaXMuZXhhbXBsZUNvbXBvbmVudEV2ZW50cy5vbkV4YW1wbGVBY3Rpb24uZGlzcGF0Y2godGhpcyk7XHJcbiAgICAgICAgICAgKiAgICB9XHJcbiAgICAgICAgICAgKlxyXG4gICAgICAgICAgICogICAgZ2V0IG9uRXhhbXBsZUFjdGlvbigpOiBFdmVudDxFeGFtcGxlQ29tcG9uZW50LCBOb0FyZ3M+IHtcclxuICAgICAgICAgICAqICAgICAgICByZXR1cm4gdGhpcy5leGFtcGxlQ29tcG9uZW50RXZlbnRzLm9uRXhhbXBsZUFjdGlvbi5nZXRFdmVudCgpO1xyXG4gICAgICAgICAgICogICAgfVxyXG4gICAgICAgICAgICogfVxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogLy8gQ3JlYXRlIGFuIGluc3RhbmNlIG9mIHRoZSBjb21wb25lbnQgc29tZXdoZXJlXHJcbiAgICAgICAgICogdmFyIGV4YW1wbGVDb21wb25lbnRJbnN0YW5jZSA9IG5ldyBFeGFtcGxlQ29tcG9uZW50KCk7XHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiAvLyBTdWJzY3JpYmUgdG8gdGhlIGV4YW1wbGUgZXZlbnQgb24gdGhlIGNvbXBvbmVudFxyXG4gICAgICAgICAqIGV4YW1wbGVDb21wb25lbnRJbnN0YW5jZS5vbkV4YW1wbGVBY3Rpb24uc3Vic2NyaWJlKGZ1bmN0aW9uIChzZW5kZXI6IEV4YW1wbGVDb21wb25lbnQpIHtcclxuICAgICAgICAgICAqICAgICBjb25zb2xlLmxvZygnb25FeGFtcGxlQWN0aW9uIG9mICcgKyBzZW5kZXIgKyAnIGhhcyBmaXJlZCEnKTtcclxuICAgICAgICAgICAqIH0pO1xyXG4gICAgICAgICAqIDwvY29kZT5cclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLmNvbXBvbmVudEV2ZW50cyA9IHtcclxuICAgICAgICAgICAgb25TaG93OiBuZXcgZXZlbnRkaXNwYXRjaGVyXzEuRXZlbnREaXNwYXRjaGVyKCksXHJcbiAgICAgICAgICAgIG9uSGlkZTogbmV3IGV2ZW50ZGlzcGF0Y2hlcl8xLkV2ZW50RGlzcGF0Y2hlcigpLFxyXG4gICAgICAgICAgICBvbkhvdmVyQ2hhbmdlZDogbmV3IGV2ZW50ZGlzcGF0Y2hlcl8xLkV2ZW50RGlzcGF0Y2hlcigpLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgLy8gQ3JlYXRlIHRoZSBjb25maWd1cmF0aW9uIGZvciB0aGlzIGNvbXBvbmVudFxyXG4gICAgICAgIHRoaXMuY29uZmlnID0gdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIHtcclxuICAgICAgICAgICAgdGFnOiAnZGl2JyxcclxuICAgICAgICAgICAgaWQ6ICdtaS13YmMtaWQtJyArIGd1aWRfMS5HdWlkLm5leHQoKSxcclxuICAgICAgICAgICAgY3NzUHJlZml4OiAnbWktd2JjJyxcclxuICAgICAgICAgICAgY3NzQ2xhc3M6ICd1aS1jb21wb25lbnQnLFxyXG4gICAgICAgICAgICBjc3NDbGFzc2VzOiBbXSxcclxuICAgICAgICAgICAgaGlkZGVuOiBmYWxzZSxcclxuICAgICAgICB9LCB7fSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEluaXRpYWxpemVzIHRoZSBjb21wb25lbnQsIGUuZy4gYnkgYXBwbHlpbmcgY29uZmlnIHNldHRpbmdzLlxyXG4gICAgICogVGhpcyBtZXRob2QgbXVzdCBub3QgYmUgY2FsbGVkIGZyb20gb3V0c2lkZSB0aGUgVUkgZnJhbWV3b3JrLlxyXG4gICAgICpcclxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGF1dG9tYXRpY2FsbHkgY2FsbGVkIGJ5IHRoZSB7QGxpbmsgVUlJbnN0YW5jZU1hbmFnZXJ9LiBJZiB0aGUgY29tcG9uZW50IGlzIGFuIGlubmVyIGNvbXBvbmVudCBvZlxyXG4gICAgICogc29tZSBjb21wb25lbnQsIGFuZCB0aHVzIGVuY2Fwc3VsYXRlZCBhYmQgbWFuYWdlZCBpbnRlcm5hbGx5IGFuZCBuZXZlciBkaXJlY3RseSBleHBvc2VkIHRvIHRoZSBVSU1hbmFnZXIsXHJcbiAgICAgKiB0aGlzIG1ldGhvZCBtdXN0IGJlIGNhbGxlZCBmcm9tIHRoZSBtYW5hZ2luZyBjb21wb25lbnQncyB7QGxpbmsgI2luaXRpYWxpemV9IG1ldGhvZC5cclxuICAgICAqL1xyXG4gICAgQ29tcG9uZW50LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuaGlkZGVuID0gdGhpcy5jb25maWcuaGlkZGVuO1xyXG4gICAgICAgIC8vIEhpZGUgdGhlIGNvbXBvbmVudCBhdCBpbml0aWFsaXphdGlvbiBpZiBpdCBpcyBjb25maWd1cmVkIHRvIGJlIGhpZGRlblxyXG4gICAgICAgIGlmICh0aGlzLmlzSGlkZGVuKCkpIHtcclxuICAgICAgICAgICAgdGhpcy5oaWRkZW4gPSBmYWxzZTsgLy8gU2V0IGZsYWcgdG8gZmFsc2UgZm9yIHRoZSBmb2xsb3dpbmcgaGlkZSgpIGNhbGwgdG8gd29yayAoaGlkZSgpIGNoZWNrcyB0aGUgZmxhZylcclxuICAgICAgICAgICAgdGhpcy5oaWRlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ29uZmlndXJlcyB0aGUgY29tcG9uZW50IGZvciB0aGUgc3VwcGxpZWQgUGxheWVyIGFuZCBVSUluc3RhbmNlTWFuYWdlci4gVGhpcyBpcyB0aGUgcGxhY2Ugd2hlcmUgYWxsIHRoZSBtYWdpY1xyXG4gICAgICogaGFwcGVucywgd2hlcmUgY29tcG9uZW50cyB0eXBpY2FsbHkgc3Vic2NyaWJlIGFuZCByZWFjdCB0byBldmVudHMgKG9uIHRoZWlyIERPTSBlbGVtZW50LCB0aGUgUGxheWVyLCBvciB0aGVcclxuICAgICAqIFVJSW5zdGFuY2VNYW5hZ2VyKSwgYW5kIGJhc2ljYWxseSBldmVyeXRoaW5nIHRoYXQgbWFrZXMgdGhlbSBpbnRlcmFjdGl2ZS5cclxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGNhbGxlZCBvbmx5IG9uY2UsIHdoZW4gdGhlIFVJTWFuYWdlciBpbml0aWFsaXplcyB0aGUgVUkuXHJcbiAgICAgKlxyXG4gICAgICogU3ViY2xhc3NlcyB1c3VhbGx5IG92ZXJ3cml0ZSB0aGlzIG1ldGhvZCB0byBhZGQgdGhlaXIgb3duIGZ1bmN0aW9uYWxpdHkuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHBsYXllciB0aGUgcGxheWVyIHdoaWNoIHRoaXMgY29tcG9uZW50IGNvbnRyb2xzXHJcbiAgICAgKiBAcGFyYW0gdWltYW5hZ2VyIHRoZSBVSUluc3RhbmNlTWFuYWdlciB0aGF0IG1hbmFnZXMgdGhpcyBjb21wb25lbnRcclxuICAgICAqL1xyXG4gICAgQ29tcG9uZW50LnByb3RvdHlwZS5jb25maWd1cmUgPSBmdW5jdGlvbiAocGxheWVyLCB1aW1hbmFnZXIpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMub25TaG93LnN1YnNjcmliZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHVpbWFuYWdlci5vbkNvbXBvbmVudFNob3cuZGlzcGF0Y2goX3RoaXMpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMub25IaWRlLnN1YnNjcmliZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHVpbWFuYWdlci5vbkNvbXBvbmVudEhpZGUuZGlzcGF0Y2goX3RoaXMpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIFRyYWNrIHRoZSBob3ZlcmVkIHN0YXRlIG9mIHRoZSBlbGVtZW50XHJcbiAgICAgICAgdGhpcy5nZXREb21FbGVtZW50KCkub24oJ21vdXNlZW50ZXInLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIF90aGlzLm9uSG92ZXJDaGFuZ2VkRXZlbnQodHJ1ZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5nZXREb21FbGVtZW50KCkub24oJ21vdXNlbGVhdmUnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIF90aGlzLm9uSG92ZXJDaGFuZ2VkRXZlbnQoZmFsc2UpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUmVsZWFzZXMgYWxsIHJlc291cmNlcyBhbmQgZGVwZW5kZW5jaWVzIHRoYXQgdGhlIGNvbXBvbmVudCBob2xkcy4gUGxheWVyLCBET00sIGFuZCBVSU1hbmFnZXIgZXZlbnRzIGFyZVxyXG4gICAgICogYXV0b21hdGljYWxseSByZW1vdmVkIGR1cmluZyByZWxlYXNlIGFuZCBkbyBub3QgZXhwbGljaXRseSBuZWVkIHRvIGJlIHJlbW92ZWQgaGVyZS5cclxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGNhbGxlZCBieSB0aGUgVUlNYW5hZ2VyIHdoZW4gaXQgcmVsZWFzZXMgdGhlIFVJLlxyXG4gICAgICpcclxuICAgICAqIFN1YmNsYXNzZXMgdGhhdCBuZWVkIHRvIHJlbGVhc2UgcmVzb3VyY2VzIHNob3VsZCBvdmVycmlkZSB0aGlzIG1ldGhvZCBhbmQgY2FsbCBzdXBlci5yZWxlYXNlKCkuXHJcbiAgICAgKi9cclxuICAgIENvbXBvbmVudC5wcm90b3R5cGUucmVsZWFzZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyBOb3RoaW5nIHRvIGRvIGhlcmUsIG92ZXJyaWRlIHdoZXJlIG5lY2Vzc2FyeVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogR2VuZXJhdGUgdGhlIERPTSBlbGVtZW50IGZvciB0aGlzIGNvbXBvbmVudC5cclxuICAgICAqXHJcbiAgICAgKiBTdWJjbGFzc2VzIHVzdWFsbHkgb3ZlcndyaXRlIHRoaXMgbWV0aG9kIHRvIGV4dGVuZCBvciByZXBsYWNlIHRoZSBET00gZWxlbWVudCB3aXRoIHRoZWlyIG93biBkZXNpZ24uXHJcbiAgICAgKi9cclxuICAgIENvbXBvbmVudC5wcm90b3R5cGUudG9Eb21FbGVtZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBlbGVtZW50ID0gbmV3IGRvbV8xLkRPTSh0aGlzLmNvbmZpZy50YWcsIHtcclxuICAgICAgICAgICAgJ2lkJzogdGhpcy5jb25maWcuaWQsXHJcbiAgICAgICAgICAgICdjbGFzcyc6IHRoaXMuZ2V0Q3NzQ2xhc3NlcygpLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBlbGVtZW50O1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0aGUgRE9NIGVsZW1lbnQgb2YgdGhpcyBjb21wb25lbnQuIENyZWF0ZXMgdGhlIERPTSBlbGVtZW50IGlmIGl0IGRvZXMgbm90IHlldCBleGlzdC5cclxuICAgICAqXHJcbiAgICAgKiBTaG91bGQgbm90IGJlIG92ZXJ3cml0dGVuIGJ5IHN1YmNsYXNzZXMuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMge0RPTX1cclxuICAgICAqL1xyXG4gICAgQ29tcG9uZW50LnByb3RvdHlwZS5nZXREb21FbGVtZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5lbGVtZW50KSB7XHJcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudCA9IHRoaXMudG9Eb21FbGVtZW50KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnQ7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBNZXJnZXMgYSBjb25maWd1cmF0aW9uIHdpdGggYSBkZWZhdWx0IGNvbmZpZ3VyYXRpb24gYW5kIGEgYmFzZSBjb25maWd1cmF0aW9uIGZyb20gdGhlIHN1cGVyY2xhc3MuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGNvbmZpZyB0aGUgY29uZmlndXJhdGlvbiBzZXR0aW5ncyBmb3IgdGhlIGNvbXBvbmVudHMsIGFzIHVzdWFsbHkgcGFzc2VkIHRvIHRoZSBjb25zdHJ1Y3RvclxyXG4gICAgICogQHBhcmFtIGRlZmF1bHRzIGEgZGVmYXVsdCBjb25maWd1cmF0aW9uIGZvciBzZXR0aW5ncyB0aGF0IGFyZSBub3QgcGFzc2VkIHdpdGggdGhlIGNvbmZpZ3VyYXRpb25cclxuICAgICAqIEBwYXJhbSBiYXNlIGNvbmZpZ3VyYXRpb24gaW5oZXJpdGVkIGZyb20gYSBzdXBlcmNsYXNzXHJcbiAgICAgKiBAcmV0dXJucyB7Q29uZmlnfVxyXG4gICAgICovXHJcbiAgICBDb21wb25lbnQucHJvdG90eXBlLm1lcmdlQ29uZmlnID0gZnVuY3Rpb24gKGNvbmZpZywgZGVmYXVsdHMsIGJhc2UpIHtcclxuICAgICAgICAvLyBFeHRlbmQgZGVmYXVsdCBjb25maWcgd2l0aCBzdXBwbGllZCBjb25maWdcclxuICAgICAgICB2YXIgbWVyZ2VkID0gT2JqZWN0LmFzc2lnbih7fSwgYmFzZSwgZGVmYXVsdHMsIGNvbmZpZyk7XHJcbiAgICAgICAgLy8gUmV0dXJuIHRoZSBleHRlbmRlZCBjb25maWdcclxuICAgICAgICByZXR1cm4gbWVyZ2VkO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogSGVscGVyIG1ldGhvZCB0aGF0IHJldHVybnMgYSBzdHJpbmcgb2YgYWxsIENTUyBjbGFzc2VzIG9mIHRoZSBjb21wb25lbnQuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMge3N0cmluZ31cclxuICAgICAqL1xyXG4gICAgQ29tcG9uZW50LnByb3RvdHlwZS5nZXRDc3NDbGFzc2VzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgLy8gTWVyZ2UgYWxsIENTUyBjbGFzc2VzIGludG8gc2luZ2xlIGFycmF5XHJcbiAgICAgICAgdmFyIGZsYXR0ZW5lZEFycmF5ID0gW3RoaXMuY29uZmlnLmNzc0NsYXNzXS5jb25jYXQodGhpcy5jb25maWcuY3NzQ2xhc3Nlcyk7XHJcbiAgICAgICAgLy8gUHJlZml4IGNsYXNzZXNcclxuICAgICAgICBmbGF0dGVuZWRBcnJheSA9IGZsYXR0ZW5lZEFycmF5Lm1hcChmdW5jdGlvbiAoY3NzKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5wcmVmaXhDc3MoY3NzKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBKb2luIGFycmF5IHZhbHVlcyBpbnRvIGEgc3RyaW5nXHJcbiAgICAgICAgdmFyIGZsYXR0ZW5lZFN0cmluZyA9IGZsYXR0ZW5lZEFycmF5LmpvaW4oJyAnKTtcclxuICAgICAgICAvLyBSZXR1cm4gdHJpbW1lZCBzdHJpbmcgdG8gcHJldmVudCB3aGl0ZXNwYWNlIGF0IHRoZSBlbmQgZnJvbSB0aGUgam9pbiBvcGVyYXRpb25cclxuICAgICAgICByZXR1cm4gZmxhdHRlbmVkU3RyaW5nLnRyaW0oKTtcclxuICAgIH07XHJcbiAgICBDb21wb25lbnQucHJvdG90eXBlLnByZWZpeENzcyA9IGZ1bmN0aW9uIChjc3NDbGFzc09ySWQpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb25maWcuY3NzUHJlZml4ICsgJy0nICsgY3NzQ2xhc3NPcklkO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0aGUgY29uZmlndXJhdGlvbiBvYmplY3Qgb2YgdGhlIGNvbXBvbmVudC5cclxuICAgICAqIEByZXR1cm5zIHtDb25maWd9XHJcbiAgICAgKi9cclxuICAgIENvbXBvbmVudC5wcm90b3R5cGUuZ2V0Q29uZmlnID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbmZpZztcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEhpZGVzIHRoZSBjb21wb25lbnQgaWYgc2hvd24uXHJcbiAgICAgKiBUaGlzIG1ldGhvZCBiYXNpY2FsbHkgdHJhbnNmZXJzIHRoZSBjb21wb25lbnQgaW50byB0aGUgaGlkZGVuIHN0YXRlLiBBY3R1YWwgaGlkaW5nIGlzIGRvbmUgdmlhIENTUy5cclxuICAgICAqL1xyXG4gICAgQ29tcG9uZW50LnByb3RvdHlwZS5oaWRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5oaWRkZW4pIHtcclxuICAgICAgICAgICAgdGhpcy5oaWRkZW4gPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLmdldERvbUVsZW1lbnQoKS5hZGRDbGFzcyh0aGlzLnByZWZpeENzcyhDb21wb25lbnQuQ0xBU1NfSElEREVOKSk7XHJcbiAgICAgICAgICAgIHRoaXMub25IaWRlRXZlbnQoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBTaG93cyB0aGUgY29tcG9uZW50IGlmIGhpZGRlbi5cclxuICAgICAqL1xyXG4gICAgQ29tcG9uZW50LnByb3RvdHlwZS5zaG93ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmhpZGRlbikge1xyXG4gICAgICAgICAgICB0aGlzLmdldERvbUVsZW1lbnQoKS5yZW1vdmVDbGFzcyh0aGlzLnByZWZpeENzcyhDb21wb25lbnQuQ0xBU1NfSElEREVOKSk7XHJcbiAgICAgICAgICAgIHRoaXMuaGlkZGVuID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMub25TaG93RXZlbnQoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBEZXRlcm1pbmVzIGlmIHRoZSBjb21wb25lbnQgaXMgaGlkZGVuLlxyXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IHRydWUgaWYgdGhlIGNvbXBvbmVudCBpcyBoaWRkZW4sIGVsc2UgZmFsc2VcclxuICAgICAqL1xyXG4gICAgQ29tcG9uZW50LnByb3RvdHlwZS5pc0hpZGRlbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5oaWRkZW47XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBEZXRlcm1pbmVzIGlmIHRoZSBjb21wb25lbnQgaXMgc2hvd24uXHJcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpZiB0aGUgY29tcG9uZW50IGlzIHZpc2libGUsIGVsc2UgZmFsc2VcclxuICAgICAqL1xyXG4gICAgQ29tcG9uZW50LnByb3RvdHlwZS5pc1Nob3duID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiAhdGhpcy5pc0hpZGRlbigpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogVG9nZ2xlcyB0aGUgaGlkZGVuIHN0YXRlIGJ5IGhpZGluZyB0aGUgY29tcG9uZW50IGlmIGl0IGlzIHNob3duLCBvciBzaG93aW5nIGl0IGlmIGhpZGRlbi5cclxuICAgICAqL1xyXG4gICAgQ29tcG9uZW50LnByb3RvdHlwZS50b2dnbGVIaWRkZW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNIaWRkZW4oKSkge1xyXG4gICAgICAgICAgICB0aGlzLnNob3coKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuaGlkZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIERldGVybWluZXMgaWYgdGhlIGNvbXBvbmVudCBpcyBjdXJyZW50bHkgaG92ZXJlZC5cclxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlmIHRoZSBjb21wb25lbnQgaXMgaG92ZXJlZCwgZWxzZSBmYWxzZVxyXG4gICAgICovXHJcbiAgICBDb21wb25lbnQucHJvdG90eXBlLmlzSG92ZXJlZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5ob3ZlcmVkO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogRmlyZXMgdGhlIG9uU2hvdyBldmVudC5cclxuICAgICAqIFNlZSB0aGUgZGV0YWlsZWQgZXhwbGFuYXRpb24gb24gZXZlbnQgYXJjaGl0ZWN0dXJlIG9uIHRoZSB7QGxpbmsgI2NvbXBvbmVudEV2ZW50cyBldmVudHMgbGlzdH0uXHJcbiAgICAgKi9cclxuICAgIENvbXBvbmVudC5wcm90b3R5cGUub25TaG93RXZlbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5jb21wb25lbnRFdmVudHMub25TaG93LmRpc3BhdGNoKHRoaXMpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogRmlyZXMgdGhlIG9uSGlkZSBldmVudC5cclxuICAgICAqIFNlZSB0aGUgZGV0YWlsZWQgZXhwbGFuYXRpb24gb24gZXZlbnQgYXJjaGl0ZWN0dXJlIG9uIHRoZSB7QGxpbmsgI2NvbXBvbmVudEV2ZW50cyBldmVudHMgbGlzdH0uXHJcbiAgICAgKi9cclxuICAgIENvbXBvbmVudC5wcm90b3R5cGUub25IaWRlRXZlbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5jb21wb25lbnRFdmVudHMub25IaWRlLmRpc3BhdGNoKHRoaXMpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogRmlyZXMgdGhlIG9uSG92ZXJDaGFuZ2VkIGV2ZW50LlxyXG4gICAgICogU2VlIHRoZSBkZXRhaWxlZCBleHBsYW5hdGlvbiBvbiBldmVudCBhcmNoaXRlY3R1cmUgb24gdGhlIHtAbGluayAjY29tcG9uZW50RXZlbnRzIGV2ZW50cyBsaXN0fS5cclxuICAgICAqL1xyXG4gICAgQ29tcG9uZW50LnByb3RvdHlwZS5vbkhvdmVyQ2hhbmdlZEV2ZW50ID0gZnVuY3Rpb24gKGhvdmVyZWQpIHtcclxuICAgICAgICB0aGlzLmhvdmVyZWQgPSBob3ZlcmVkO1xyXG4gICAgICAgIHRoaXMuY29tcG9uZW50RXZlbnRzLm9uSG92ZXJDaGFuZ2VkLmRpc3BhdGNoKHRoaXMsIHsgaG92ZXJlZDogaG92ZXJlZCB9KTtcclxuICAgIH07XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29tcG9uZW50LnByb3RvdHlwZSwgXCJvblNob3dcIiwge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEdldHMgdGhlIGV2ZW50IHRoYXQgaXMgZmlyZWQgd2hlbiB0aGUgY29tcG9uZW50IGlzIHNob3dpbmcuXHJcbiAgICAgICAgICogU2VlIHRoZSBkZXRhaWxlZCBleHBsYW5hdGlvbiBvbiBldmVudCBhcmNoaXRlY3R1cmUgb24gdGhlIHtAbGluayAjY29tcG9uZW50RXZlbnRzIGV2ZW50cyBsaXN0fS5cclxuICAgICAgICAgKiBAcmV0dXJucyB7RXZlbnQ8Q29tcG9uZW50PENvbmZpZz4sIE5vQXJncz59XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbXBvbmVudEV2ZW50cy5vblNob3cuZ2V0RXZlbnQoKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb21wb25lbnQucHJvdG90eXBlLCBcIm9uSGlkZVwiLCB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogR2V0cyB0aGUgZXZlbnQgdGhhdCBpcyBmaXJlZCB3aGVuIHRoZSBjb21wb25lbnQgaXMgaGlkaW5nLlxyXG4gICAgICAgICAqIFNlZSB0aGUgZGV0YWlsZWQgZXhwbGFuYXRpb24gb24gZXZlbnQgYXJjaGl0ZWN0dXJlIG9uIHRoZSB7QGxpbmsgI2NvbXBvbmVudEV2ZW50cyBldmVudHMgbGlzdH0uXHJcbiAgICAgICAgICogQHJldHVybnMge0V2ZW50PENvbXBvbmVudDxDb25maWc+LCBOb0FyZ3M+fVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb21wb25lbnRFdmVudHMub25IaWRlLmdldEV2ZW50KCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29tcG9uZW50LnByb3RvdHlwZSwgXCJvbkhvdmVyQ2hhbmdlZFwiLCB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogR2V0cyB0aGUgZXZlbnQgdGhhdCBpcyBmaXJlZCB3aGVuIHRoZSBjb21wb25lbnQncyBob3Zlci1zdGF0ZSBpcyBjaGFuZ2luZy5cclxuICAgICAgICAgKiBAcmV0dXJucyB7RXZlbnQ8Q29tcG9uZW50PENvbmZpZz4sIENvbXBvbmVudEhvdmVyQ2hhbmdlZEV2ZW50QXJncz59XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbXBvbmVudEV2ZW50cy5vbkhvdmVyQ2hhbmdlZC5nZXRFdmVudCgpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIENvbXBvbmVudDtcclxufSgpKTtcclxuLyoqXHJcbiAqIFRoZSBjbGFzc25hbWUgdGhhdCBpcyBhdHRhY2hlZCB0byB0aGUgZWxlbWVudCB3aGVuIGl0IGlzIGluIHRoZSBoaWRkZW4gc3RhdGUuXHJcbiAqIEB0eXBlIHtzdHJpbmd9XHJcbiAqL1xyXG5Db21wb25lbnQuQ0xBU1NfSElEREVOID0gJ2hpZGRlbic7XHJcbmV4cG9ydHMuQ29tcG9uZW50ID0gQ29tcG9uZW50O1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvY29tcG9uZW50LnRzXG4vLyBtb2R1bGUgaWQgPSAyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgYXJyYXl1dGlsc18xID0gcmVxdWlyZShcIi4vYXJyYXl1dGlsc1wiKTtcclxuLyoqXHJcbiAqIEV2ZW50IGRpc3BhdGNoZXIgdG8gc3Vic2NyaWJlIGFuZCB0cmlnZ2VyIGV2ZW50cy4gRWFjaCBldmVudCBzaG91bGQgaGF2ZSBpdHMgb3duIGRpc3BhdGNoZXIuXHJcbiAqL1xyXG52YXIgRXZlbnREaXNwYXRjaGVyID0gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIEV2ZW50RGlzcGF0Y2hlcigpIHtcclxuICAgICAgICB0aGlzLmxpc3RlbmVycyA9IFtdO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiB7QGluaGVyaXREb2N9XHJcbiAgICAgKi9cclxuICAgIEV2ZW50RGlzcGF0Y2hlci5wcm90b3R5cGUuc3Vic2NyaWJlID0gZnVuY3Rpb24gKGxpc3RlbmVyKSB7XHJcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMucHVzaChuZXcgRXZlbnRMaXN0ZW5lcldyYXBwZXIobGlzdGVuZXIpKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIHtAaW5oZXJpdERvY31cclxuICAgICAqL1xyXG4gICAgRXZlbnREaXNwYXRjaGVyLnByb3RvdHlwZS5zdWJzY3JpYmVPbmNlID0gZnVuY3Rpb24gKGxpc3RlbmVyKSB7XHJcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMucHVzaChuZXcgRXZlbnRMaXN0ZW5lcldyYXBwZXIobGlzdGVuZXIsIHRydWUpKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIHtAaW5oZXJpdERvY31cclxuICAgICAqL1xyXG4gICAgRXZlbnREaXNwYXRjaGVyLnByb3RvdHlwZS5zdWJzY3JpYmVSYXRlTGltaXRlZCA9IGZ1bmN0aW9uIChsaXN0ZW5lciwgcmF0ZU1zKSB7XHJcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMucHVzaChuZXcgUmF0ZUxpbWl0ZWRFdmVudExpc3RlbmVyV3JhcHBlcihsaXN0ZW5lciwgcmF0ZU1zKSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiB7QGluaGVyaXREb2N9XHJcbiAgICAgKi9cclxuICAgIEV2ZW50RGlzcGF0Y2hlci5wcm90b3R5cGUudW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAobGlzdGVuZXIpIHtcclxuICAgICAgICAvLyBJdGVyYXRlIHRocm91Z2ggbGlzdGVuZXJzLCBjb21wYXJlIHdpdGggcGFyYW1ldGVyLCBhbmQgcmVtb3ZlIGlmIGZvdW5kXHJcbiAgICAgICAgLy8gTk9URTogSW4gY2FzZSB3ZSBldmVyIHJlbW92ZSBhbGwgbWF0Y2hpbmcgbGlzdGVuZXJzIGluc3RlYWQgb2YganVzdCB0aGUgZmlyc3QsIHdlIG5lZWQgdG8gcmV2ZXJzZS1pdGVyYXRlIGhlcmVcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGlzdGVuZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBzdWJzY3JpYmVkTGlzdGVuZXIgPSB0aGlzLmxpc3RlbmVyc1tpXTtcclxuICAgICAgICAgICAgaWYgKHN1YnNjcmliZWRMaXN0ZW5lci5saXN0ZW5lciA9PT0gbGlzdGVuZXIpIHtcclxuICAgICAgICAgICAgICAgIGFycmF5dXRpbHNfMS5BcnJheVV0aWxzLnJlbW92ZSh0aGlzLmxpc3RlbmVycywgc3Vic2NyaWJlZExpc3RlbmVyKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZXMgYWxsIGxpc3RlbmVycyBmcm9tIHRoaXMgZGlzcGF0Y2hlci5cclxuICAgICAqL1xyXG4gICAgRXZlbnREaXNwYXRjaGVyLnByb3RvdHlwZS51bnN1YnNjcmliZUFsbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLmxpc3RlbmVycyA9IFtdO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogRGlzcGF0Y2hlcyBhbiBldmVudCB0byBhbGwgc3Vic2NyaWJlZCBsaXN0ZW5lcnMuXHJcbiAgICAgKiBAcGFyYW0gc2VuZGVyIHRoZSBzb3VyY2Ugb2YgdGhlIGV2ZW50XHJcbiAgICAgKiBAcGFyYW0gYXJncyB0aGUgYXJndW1lbnRzIGZvciB0aGUgZXZlbnRcclxuICAgICAqL1xyXG4gICAgRXZlbnREaXNwYXRjaGVyLnByb3RvdHlwZS5kaXNwYXRjaCA9IGZ1bmN0aW9uIChzZW5kZXIsIGFyZ3MpIHtcclxuICAgICAgICBpZiAoYXJncyA9PT0gdm9pZCAwKSB7IGFyZ3MgPSBudWxsOyB9XHJcbiAgICAgICAgdmFyIGxpc3RlbmVyc1RvUmVtb3ZlID0gW107XHJcbiAgICAgICAgLy8gQ2FsbCBldmVyeSBsaXN0ZW5lclxyXG4gICAgICAgIC8vIFdlIGl0ZXJhdGUgb3ZlciBhIGNvcHkgb2YgdGhlIGFycmF5IG9mIGxpc3RlbmVycyB0byBhdm9pZCB0aGUgY2FzZSB3aGVyZSBldmVudHMgYXJlIG5vdCBmaXJlZCBvbiBsaXN0ZW5lcnMgd2hlblxyXG4gICAgICAgIC8vIGxpc3RlbmVycyBhcmUgdW5zdWJzY3JpYmVkIGZyb20gd2l0aGluIHRoZSBldmVudCBoYW5kbGVycyBkdXJpbmcgYSBkaXNwYXRjaCAoYmVjYXVzZSB0aGUgaW5kaWNlcyBjaGFuZ2UgYW5kXHJcbiAgICAgICAgLy8gbGlzdGVuZXJzIGFyZSBzaGlmdGVkIHdpdGhpbiB0aGUgYXJyYXkpLlxyXG4gICAgICAgIC8vIFRoaXMgbWVhbnMgdGhhdCBsaXN0ZW5lciB4KzEgd2lsbCBzdGlsbCBiZSBjYWxsZWQgaWYgdW5zdWJzY3JpYmVkIGZyb20gd2l0aGluIHRoZSBoYW5kbGVyIG9mIGxpc3RlbmVyIHgsIGFzIHdlbGxcclxuICAgICAgICAvLyBhcyBsaXN0ZW5lciB5KzEgd2lsbCBub3QgYmUgY2FsbGVkIHdoZW4gc3Vic2NyaWJlZCBmcm9tIHdpdGhpbiB0aGUgaGFuZGxlciBvZiBsaXN0ZW5lciB5LlxyXG4gICAgICAgIC8vIEFycmF5LnNsaWNlKDApIGlzIHRoZSBmYXN0ZXN0IGFycmF5IGNvcHkgbWV0aG9kIGFjY29yZGluZyB0bzogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzIxNTE0MjU0LzM3MDI1MlxyXG4gICAgICAgIHZhciBsaXN0ZW5lcnMgPSB0aGlzLmxpc3RlbmVycy5zbGljZSgwKTtcclxuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIGxpc3RlbmVyc18xID0gbGlzdGVuZXJzOyBfaSA8IGxpc3RlbmVyc18xLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICB2YXIgbGlzdGVuZXIgPSBsaXN0ZW5lcnNfMVtfaV07XHJcbiAgICAgICAgICAgIGxpc3RlbmVyLmZpcmUoc2VuZGVyLCBhcmdzKTtcclxuICAgICAgICAgICAgaWYgKGxpc3RlbmVyLmlzT25jZSgpKSB7XHJcbiAgICAgICAgICAgICAgICBsaXN0ZW5lcnNUb1JlbW92ZS5wdXNoKGxpc3RlbmVyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBSZW1vdmUgb25lLXRpbWUgbGlzdGVuZXJcclxuICAgICAgICBmb3IgKHZhciBfYSA9IDAsIGxpc3RlbmVyc1RvUmVtb3ZlXzEgPSBsaXN0ZW5lcnNUb1JlbW92ZTsgX2EgPCBsaXN0ZW5lcnNUb1JlbW92ZV8xLmxlbmd0aDsgX2ErKykge1xyXG4gICAgICAgICAgICB2YXIgbGlzdGVuZXJUb1JlbW92ZSA9IGxpc3RlbmVyc1RvUmVtb3ZlXzFbX2FdO1xyXG4gICAgICAgICAgICBhcnJheXV0aWxzXzEuQXJyYXlVdGlscy5yZW1vdmUodGhpcy5saXN0ZW5lcnMsIGxpc3RlbmVyVG9SZW1vdmUpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdGhlIGV2ZW50IHRoYXQgdGhpcyBkaXNwYXRjaGVyIG1hbmFnZXMgYW5kIG9uIHdoaWNoIGxpc3RlbmVycyBjYW4gc3Vic2NyaWJlIGFuZCB1bnN1YnNjcmliZSBldmVudCBoYW5kbGVycy5cclxuICAgICAqIEByZXR1cm5zIHtFdmVudH1cclxuICAgICAqL1xyXG4gICAgRXZlbnREaXNwYXRjaGVyLnByb3RvdHlwZS5nZXRFdmVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyBGb3Igbm93LCBqdXN0IGNhc3QgdGhlIGV2ZW50IGRpc3BhdGNoZXIgdG8gdGhlIGV2ZW50IGludGVyZmFjZS4gQXQgc29tZSBwb2ludCBpbiB0aGUgZnV0dXJlIHdoZW4gdGhlXHJcbiAgICAgICAgLy8gY29kZWJhc2UgZ3Jvd3MsIGl0IG1pZ2h0IG1ha2Ugc2Vuc2UgdG8gc3BsaXQgdGhlIGRpc3BhdGNoZXIgaW50byBzZXBhcmF0ZSBkaXNwYXRjaGVyIGFuZCBldmVudCBjbGFzc2VzLlxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBFdmVudERpc3BhdGNoZXI7XHJcbn0oKSk7XHJcbmV4cG9ydHMuRXZlbnREaXNwYXRjaGVyID0gRXZlbnREaXNwYXRjaGVyO1xyXG4vKipcclxuICogQSBiYXNpYyBldmVudCBsaXN0ZW5lciB3cmFwcGVyIHRvIG1hbmFnZSBsaXN0ZW5lcnMgd2l0aGluIHRoZSB7QGxpbmsgRXZlbnREaXNwYXRjaGVyfS4gVGhpcyBpcyBhICdwcml2YXRlJyBjbGFzc1xyXG4gKiBmb3IgaW50ZXJuYWwgZGlzcGF0Y2hlciB1c2UgYW5kIGl0IGlzIHRoZXJlZm9yZSBub3QgZXhwb3J0ZWQuXHJcbiAqL1xyXG52YXIgRXZlbnRMaXN0ZW5lcldyYXBwZXIgPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gRXZlbnRMaXN0ZW5lcldyYXBwZXIobGlzdGVuZXIsIG9uY2UpIHtcclxuICAgICAgICBpZiAob25jZSA9PT0gdm9pZCAwKSB7IG9uY2UgPSBmYWxzZTsgfVxyXG4gICAgICAgIHRoaXMuZXZlbnRMaXN0ZW5lciA9IGxpc3RlbmVyO1xyXG4gICAgICAgIHRoaXMub25jZSA9IG9uY2U7XHJcbiAgICB9XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRXZlbnRMaXN0ZW5lcldyYXBwZXIucHJvdG90eXBlLCBcImxpc3RlbmVyXCIsIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBSZXR1cm5zIHRoZSB3cmFwcGVkIGV2ZW50IGxpc3RlbmVyLlxyXG4gICAgICAgICAqIEByZXR1cm5zIHtFdmVudExpc3RlbmVyPFNlbmRlciwgQXJncz59XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmV2ZW50TGlzdGVuZXI7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICAvKipcclxuICAgICAqIEZpcmVzIHRoZSB3cmFwcGVkIGV2ZW50IGxpc3RlbmVyIHdpdGggdGhlIGdpdmVuIGFyZ3VtZW50cy5cclxuICAgICAqIEBwYXJhbSBzZW5kZXJcclxuICAgICAqIEBwYXJhbSBhcmdzXHJcbiAgICAgKi9cclxuICAgIEV2ZW50TGlzdGVuZXJXcmFwcGVyLnByb3RvdHlwZS5maXJlID0gZnVuY3Rpb24gKHNlbmRlciwgYXJncykge1xyXG4gICAgICAgIHRoaXMuZXZlbnRMaXN0ZW5lcihzZW5kZXIsIGFyZ3MpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2tzIGlmIHRoaXMgbGlzdGVuZXIgaXMgc2NoZWR1bGVkIHRvIGJlIGNhbGxlZCBvbmx5IG9uY2UuXHJcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gb25jZSBpZiB0cnVlXHJcbiAgICAgKi9cclxuICAgIEV2ZW50TGlzdGVuZXJXcmFwcGVyLnByb3RvdHlwZS5pc09uY2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMub25jZTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gRXZlbnRMaXN0ZW5lcldyYXBwZXI7XHJcbn0oKSk7XHJcbi8qKlxyXG4gKiBFeHRlbmRzIHRoZSBiYXNpYyB7QGxpbmsgRXZlbnRMaXN0ZW5lcldyYXBwZXJ9IHdpdGggcmF0ZS1saW1pdGluZyBmdW5jdGlvbmFsaXR5LlxyXG4gKi9cclxudmFyIFJhdGVMaW1pdGVkRXZlbnRMaXN0ZW5lcldyYXBwZXIgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKFJhdGVMaW1pdGVkRXZlbnRMaXN0ZW5lcldyYXBwZXIsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBSYXRlTGltaXRlZEV2ZW50TGlzdGVuZXJXcmFwcGVyKGxpc3RlbmVyLCByYXRlTXMpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBsaXN0ZW5lcikgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5yYXRlTXMgPSByYXRlTXM7XHJcbiAgICAgICAgX3RoaXMubGFzdEZpcmVUaW1lID0gMDtcclxuICAgICAgICAvLyBXcmFwIHRoZSBldmVudCBsaXN0ZW5lciB3aXRoIGFuIGV2ZW50IGxpc3RlbmVyIHRoYXQgZG9lcyB0aGUgcmF0ZS1saW1pdGluZ1xyXG4gICAgICAgIF90aGlzLnJhdGVMaW1pdGluZ0V2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbiAoc2VuZGVyLCBhcmdzKSB7XHJcbiAgICAgICAgICAgIGlmIChEYXRlLm5vdygpIC0gX3RoaXMubGFzdEZpcmVUaW1lID4gX3RoaXMucmF0ZU1zKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBPbmx5IGlmIGVub3VnaCB0aW1lIHNpbmNlIHRoZSBwcmV2aW91cyBjYWxsIGhhcyBwYXNzZWQsIGNhbGwgdGhlXHJcbiAgICAgICAgICAgICAgICAvLyBhY3R1YWwgZXZlbnQgbGlzdGVuZXIgYW5kIHJlY29yZCB0aGUgY3VycmVudCB0aW1lXHJcbiAgICAgICAgICAgICAgICBfdGhpcy5maXJlU3VwZXIoc2VuZGVyLCBhcmdzKTtcclxuICAgICAgICAgICAgICAgIF90aGlzLmxhc3RGaXJlVGltZSA9IERhdGUubm93KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIFJhdGVMaW1pdGVkRXZlbnRMaXN0ZW5lcldyYXBwZXIucHJvdG90eXBlLmZpcmVTdXBlciA9IGZ1bmN0aW9uIChzZW5kZXIsIGFyZ3MpIHtcclxuICAgICAgICAvLyBGaXJlIHRoZSBhY3R1YWwgZXh0ZXJuYWwgZXZlbnQgbGlzdGVuZXJcclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmZpcmUuY2FsbCh0aGlzLCBzZW5kZXIsIGFyZ3MpO1xyXG4gICAgfTtcclxuICAgIFJhdGVMaW1pdGVkRXZlbnRMaXN0ZW5lcldyYXBwZXIucHJvdG90eXBlLmZpcmUgPSBmdW5jdGlvbiAoc2VuZGVyLCBhcmdzKSB7XHJcbiAgICAgICAgLy8gRmlyZSB0aGUgaW50ZXJuYWwgcmF0ZS1saW1pdGluZyBsaXN0ZW5lciBpbnN0ZWFkIG9mIHRoZSBleHRlcm5hbCBldmVudCBsaXN0ZW5lclxyXG4gICAgICAgIHRoaXMucmF0ZUxpbWl0aW5nRXZlbnRMaXN0ZW5lcihzZW5kZXIsIGFyZ3MpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBSYXRlTGltaXRlZEV2ZW50TGlzdGVuZXJXcmFwcGVyO1xyXG59KEV2ZW50TGlzdGVuZXJXcmFwcGVyKSk7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvZXZlbnRkaXNwYXRjaGVyLnRzXG4vLyBtb2R1bGUgaWQgPSAzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgc2VsZWN0Ym94XzEgPSByZXF1aXJlKFwiLi4vc2VsZWN0Ym94XCIpO1xyXG4vKipcclxuICogQmFzZSBjbGFzcyBmb3IgYWxsIHN1YnRpdGxlcyBzZXR0aW5ncyBzZWxlY3QgYm94XHJcbiAqKi9cclxudmFyIFN1YnRpdGxlU2V0dGluZ1NlbGVjdEJveCA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoU3VidGl0bGVTZXR0aW5nU2VsZWN0Qm94LCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gU3VidGl0bGVTZXR0aW5nU2VsZWN0Qm94KGNvbmZpZykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGNvbmZpZykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5zZXR0aW5nc01hbmFnZXIgPSBjb25maWcuc2V0dGluZ3NNYW5hZ2VyO1xyXG4gICAgICAgIF90aGlzLm92ZXJsYXkgPSBjb25maWcub3ZlcmxheTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZXMgYSBwcmV2aW91c2x5IHNldCBjbGFzcyBhbmQgYWRkcyB0aGUgcGFzc2VkIGluIGNsYXNzLlxyXG4gICAgICogQHBhcmFtIGNzc0NsYXNzIFRoZSBuZXcgY2xhc3MgdG8gcmVwbGFjZSB0aGUgcHJldmlvdXMgY2xhc3Mgd2l0aCBvciBudWxsIHRvIGp1c3QgcmVtb3ZlIHRoZSBwcmV2aW91cyBjbGFzc1xyXG4gICAgICovXHJcbiAgICBTdWJ0aXRsZVNldHRpbmdTZWxlY3RCb3gucHJvdG90eXBlLnRvZ2dsZU92ZXJsYXlDbGFzcyA9IGZ1bmN0aW9uIChjc3NDbGFzcykge1xyXG4gICAgICAgIC8vIFJlbW92ZSBwcmV2aW91cyBjbGFzcyBpZiBleGlzdGluZ1xyXG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRDc3NDbGFzcykge1xyXG4gICAgICAgICAgICB0aGlzLm92ZXJsYXkuZ2V0RG9tRWxlbWVudCgpLnJlbW92ZUNsYXNzKHRoaXMuY3VycmVudENzc0NsYXNzKTtcclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50Q3NzQ2xhc3MgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBBZGQgbmV3IGNsYXNzIGlmIHNwZWNpZmllZC4gSWYgdGhlIG5ldyBjbGFzcyBpcyBudWxsLCB3ZSBkb24ndCBhZGQgYW55dGhpbmcuXHJcbiAgICAgICAgaWYgKGNzc0NsYXNzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudENzc0NsYXNzID0gdGhpcy5wcmVmaXhDc3MoY3NzQ2xhc3MpO1xyXG4gICAgICAgICAgICB0aGlzLm92ZXJsYXkuZ2V0RG9tRWxlbWVudCgpLmFkZENsYXNzKHRoaXMuY3VycmVudENzc0NsYXNzKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFN1YnRpdGxlU2V0dGluZ1NlbGVjdEJveDtcclxufShzZWxlY3Rib3hfMS5TZWxlY3RCb3gpKTtcclxuZXhwb3J0cy5TdWJ0aXRsZVNldHRpbmdTZWxlY3RCb3ggPSBTdWJ0aXRsZVNldHRpbmdTZWxlY3RCb3g7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9zdWJ0aXRsZXNldHRpbmdzL3N1YnRpdGxlc2V0dGluZ3NlbGVjdGJveC50c1xuLy8gbW9kdWxlIGlkID0gNFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGJ1dHRvbl8xID0gcmVxdWlyZShcIi4vYnV0dG9uXCIpO1xyXG52YXIgZXZlbnRkaXNwYXRjaGVyXzEgPSByZXF1aXJlKFwiLi4vZXZlbnRkaXNwYXRjaGVyXCIpO1xyXG4vKipcclxuICogQSBidXR0b24gdGhhdCBjYW4gYmUgdG9nZ2xlZCBiZXR3ZWVuICdvbicgYW5kICdvZmYnIHN0YXRlcy5cclxuICovXHJcbnZhciBUb2dnbGVCdXR0b24gPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKFRvZ2dsZUJ1dHRvbiwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIFRvZ2dsZUJ1dHRvbihjb25maWcpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBjb25maWcpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMudG9nZ2xlQnV0dG9uRXZlbnRzID0ge1xyXG4gICAgICAgICAgICBvblRvZ2dsZTogbmV3IGV2ZW50ZGlzcGF0Y2hlcl8xLkV2ZW50RGlzcGF0Y2hlcigpLFxyXG4gICAgICAgICAgICBvblRvZ2dsZU9uOiBuZXcgZXZlbnRkaXNwYXRjaGVyXzEuRXZlbnREaXNwYXRjaGVyKCksXHJcbiAgICAgICAgICAgIG9uVG9nZ2xlT2ZmOiBuZXcgZXZlbnRkaXNwYXRjaGVyXzEuRXZlbnREaXNwYXRjaGVyKCksXHJcbiAgICAgICAgfTtcclxuICAgICAgICB2YXIgZGVmYXVsdENvbmZpZyA9IHtcclxuICAgICAgICAgICAgY3NzQ2xhc3M6ICd1aS10b2dnbGVidXR0b24nLFxyXG4gICAgICAgICAgICBvbkNsYXNzOiAnb24nLFxyXG4gICAgICAgICAgICBvZmZDbGFzczogJ29mZicsXHJcbiAgICAgICAgfTtcclxuICAgICAgICBfdGhpcy5jb25maWcgPSBfdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIGRlZmF1bHRDb25maWcsIF90aGlzLmNvbmZpZyk7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgVG9nZ2xlQnV0dG9uLnByb3RvdHlwZS5jb25maWd1cmUgPSBmdW5jdGlvbiAocGxheWVyLCB1aW1hbmFnZXIpIHtcclxuICAgICAgICB2YXIgY29uZmlnID0gdGhpcy5nZXRDb25maWcoKTtcclxuICAgICAgICB0aGlzLmdldERvbUVsZW1lbnQoKS5hZGRDbGFzcyh0aGlzLnByZWZpeENzcyhjb25maWcub2ZmQ2xhc3MpKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFRvZ2dsZXMgdGhlIGJ1dHRvbiB0byB0aGUgJ29uJyBzdGF0ZS5cclxuICAgICAqL1xyXG4gICAgVG9nZ2xlQnV0dG9uLnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodGhpcy5pc09mZigpKSB7XHJcbiAgICAgICAgICAgIHZhciBjb25maWcgPSB0aGlzLmdldENvbmZpZygpO1xyXG4gICAgICAgICAgICB0aGlzLm9uU3RhdGUgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLmdldERvbUVsZW1lbnQoKS5yZW1vdmVDbGFzcyh0aGlzLnByZWZpeENzcyhjb25maWcub2ZmQ2xhc3MpKTtcclxuICAgICAgICAgICAgdGhpcy5nZXREb21FbGVtZW50KCkuYWRkQ2xhc3ModGhpcy5wcmVmaXhDc3MoY29uZmlnLm9uQ2xhc3MpKTtcclxuICAgICAgICAgICAgdGhpcy5vblRvZ2dsZUV2ZW50KCk7XHJcbiAgICAgICAgICAgIHRoaXMub25Ub2dnbGVPbkV2ZW50KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogVG9nZ2xlcyB0aGUgYnV0dG9uIHRvIHRoZSAnb2ZmJyBzdGF0ZS5cclxuICAgICAqL1xyXG4gICAgVG9nZ2xlQnV0dG9uLnByb3RvdHlwZS5vZmYgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNPbigpKSB7XHJcbiAgICAgICAgICAgIHZhciBjb25maWcgPSB0aGlzLmdldENvbmZpZygpO1xyXG4gICAgICAgICAgICB0aGlzLm9uU3RhdGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5nZXREb21FbGVtZW50KCkucmVtb3ZlQ2xhc3ModGhpcy5wcmVmaXhDc3MoY29uZmlnLm9uQ2xhc3MpKTtcclxuICAgICAgICAgICAgdGhpcy5nZXREb21FbGVtZW50KCkuYWRkQ2xhc3ModGhpcy5wcmVmaXhDc3MoY29uZmlnLm9mZkNsYXNzKSk7XHJcbiAgICAgICAgICAgIHRoaXMub25Ub2dnbGVFdmVudCgpO1xyXG4gICAgICAgICAgICB0aGlzLm9uVG9nZ2xlT2ZmRXZlbnQoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBUb2dnbGUgdGhlIGJ1dHRvbiAnb24nIGlmIGl0IGlzICdvZmYnLCBvciAnb2ZmJyBpZiBpdCBpcyAnb24nLlxyXG4gICAgICovXHJcbiAgICBUb2dnbGVCdXR0b24ucHJvdG90eXBlLnRvZ2dsZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodGhpcy5pc09uKCkpIHtcclxuICAgICAgICAgICAgdGhpcy5vZmYoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMub24oKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVja3MgaWYgdGhlIHRvZ2dsZSBidXR0b24gaXMgaW4gdGhlICdvbicgc3RhdGUuXHJcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpZiBidXR0b24gaXMgJ29uJywgZmFsc2UgaWYgJ29mZidcclxuICAgICAqL1xyXG4gICAgVG9nZ2xlQnV0dG9uLnByb3RvdHlwZS5pc09uID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm9uU3RhdGU7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVja3MgaWYgdGhlIHRvZ2dsZSBidXR0b24gaXMgaW4gdGhlICdvZmYnIHN0YXRlLlxyXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IHRydWUgaWYgYnV0dG9uIGlzICdvZmYnLCBmYWxzZSBpZiAnb24nXHJcbiAgICAgKi9cclxuICAgIFRvZ2dsZUJ1dHRvbi5wcm90b3R5cGUuaXNPZmYgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuICF0aGlzLmlzT24oKTtcclxuICAgIH07XHJcbiAgICBUb2dnbGVCdXR0b24ucHJvdG90eXBlLm9uQ2xpY2tFdmVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLm9uQ2xpY2tFdmVudC5jYWxsKHRoaXMpO1xyXG4gICAgICAgIC8vIEZpcmUgdGhlIHRvZ2dsZSBldmVudCB0b2dldGhlciB3aXRoIHRoZSBjbGljayBldmVudFxyXG4gICAgICAgIC8vICh0aGV5IGFyZSB0ZWNobmljYWxseSB0aGUgc2FtZSwgb25seSB0aGUgc2VtYW50aWNzIGFyZSBkaWZmZXJlbnQpXHJcbiAgICAgICAgdGhpcy5vblRvZ2dsZUV2ZW50KCk7XHJcbiAgICB9O1xyXG4gICAgVG9nZ2xlQnV0dG9uLnByb3RvdHlwZS5vblRvZ2dsZUV2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMudG9nZ2xlQnV0dG9uRXZlbnRzLm9uVG9nZ2xlLmRpc3BhdGNoKHRoaXMpO1xyXG4gICAgfTtcclxuICAgIFRvZ2dsZUJ1dHRvbi5wcm90b3R5cGUub25Ub2dnbGVPbkV2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMudG9nZ2xlQnV0dG9uRXZlbnRzLm9uVG9nZ2xlT24uZGlzcGF0Y2godGhpcyk7XHJcbiAgICB9O1xyXG4gICAgVG9nZ2xlQnV0dG9uLnByb3RvdHlwZS5vblRvZ2dsZU9mZkV2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMudG9nZ2xlQnV0dG9uRXZlbnRzLm9uVG9nZ2xlT2ZmLmRpc3BhdGNoKHRoaXMpO1xyXG4gICAgfTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUb2dnbGVCdXR0b24ucHJvdG90eXBlLCBcIm9uVG9nZ2xlXCIsIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBHZXRzIHRoZSBldmVudCB0aGF0IGlzIGZpcmVkIHdoZW4gdGhlIGJ1dHRvbiBpcyB0b2dnbGVkLlxyXG4gICAgICAgICAqIEByZXR1cm5zIHtFdmVudDxUb2dnbGVCdXR0b248Q29uZmlnPiwgTm9BcmdzPn1cclxuICAgICAgICAgKi9cclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudG9nZ2xlQnV0dG9uRXZlbnRzLm9uVG9nZ2xlLmdldEV2ZW50KCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVG9nZ2xlQnV0dG9uLnByb3RvdHlwZSwgXCJvblRvZ2dsZU9uXCIsIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBHZXRzIHRoZSBldmVudCB0aGF0IGlzIGZpcmVkIHdoZW4gdGhlIGJ1dHRvbiBpcyB0b2dnbGVkICdvbicuXHJcbiAgICAgICAgICogQHJldHVybnMge0V2ZW50PFRvZ2dsZUJ1dHRvbjxDb25maWc+LCBOb0FyZ3M+fVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy50b2dnbGVCdXR0b25FdmVudHMub25Ub2dnbGVPbi5nZXRFdmVudCgpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRvZ2dsZUJ1dHRvbi5wcm90b3R5cGUsIFwib25Ub2dnbGVPZmZcIiwge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEdldHMgdGhlIGV2ZW50IHRoYXQgaXMgZmlyZWQgd2hlbiB0aGUgYnV0dG9uIGlzIHRvZ2dsZWQgJ29mZicuXHJcbiAgICAgICAgICogQHJldHVybnMge0V2ZW50PFRvZ2dsZUJ1dHRvbjxDb25maWc+LCBOb0FyZ3M+fVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy50b2dnbGVCdXR0b25FdmVudHMub25Ub2dnbGVPZmYuZ2V0RXZlbnQoKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIHJldHVybiBUb2dnbGVCdXR0b247XHJcbn0oYnV0dG9uXzEuQnV0dG9uKSk7XHJcbmV4cG9ydHMuVG9nZ2xlQnV0dG9uID0gVG9nZ2xlQnV0dG9uO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvdG9nZ2xlYnV0dG9uLnRzXG4vLyBtb2R1bGUgaWQgPSA1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgY29tcG9uZW50XzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRcIik7XHJcbnZhciBkb21fMSA9IHJlcXVpcmUoXCIuLi9kb21cIik7XHJcbnZhciBldmVudGRpc3BhdGNoZXJfMSA9IHJlcXVpcmUoXCIuLi9ldmVudGRpc3BhdGNoZXJcIik7XHJcbi8qKlxyXG4gKiBBIHNpbXBsZSB0ZXh0IGxhYmVsLlxyXG4gKlxyXG4gKiBET00gZXhhbXBsZTpcclxuICogPGNvZGU+XHJcbiAqICAgICA8c3BhbiBjbGFzcz0ndWktbGFiZWwnPi4uLnNvbWUgdGV4dC4uLjwvc3Bhbj5cclxuICogPC9jb2RlPlxyXG4gKi9cclxudmFyIExhYmVsID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhMYWJlbCwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIExhYmVsKGNvbmZpZykge1xyXG4gICAgICAgIGlmIChjb25maWcgPT09IHZvaWQgMCkgeyBjb25maWcgPSB7fTsgfVxyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGNvbmZpZykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5sYWJlbEV2ZW50cyA9IHtcclxuICAgICAgICAgICAgb25DbGljazogbmV3IGV2ZW50ZGlzcGF0Y2hlcl8xLkV2ZW50RGlzcGF0Y2hlcigpLFxyXG4gICAgICAgICAgICBvblRleHRDaGFuZ2VkOiBuZXcgZXZlbnRkaXNwYXRjaGVyXzEuRXZlbnREaXNwYXRjaGVyKCksXHJcbiAgICAgICAgfTtcclxuICAgICAgICBfdGhpcy5jb25maWcgPSBfdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIHtcclxuICAgICAgICAgICAgY3NzQ2xhc3M6ICd1aS1sYWJlbCcsXHJcbiAgICAgICAgfSwgX3RoaXMuY29uZmlnKTtcclxuICAgICAgICBfdGhpcy50ZXh0ID0gX3RoaXMuY29uZmlnLnRleHQ7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgTGFiZWwucHJvdG90eXBlLnRvRG9tRWxlbWVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHZhciBsYWJlbEVsZW1lbnQgPSBuZXcgZG9tXzEuRE9NKCdzcGFuJywge1xyXG4gICAgICAgICAgICAnaWQnOiB0aGlzLmNvbmZpZy5pZCxcclxuICAgICAgICAgICAgJ2NsYXNzJzogdGhpcy5nZXRDc3NDbGFzc2VzKCksXHJcbiAgICAgICAgfSkuaHRtbCh0aGlzLnRleHQpO1xyXG4gICAgICAgIGxhYmVsRWxlbWVudC5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIF90aGlzLm9uQ2xpY2tFdmVudCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBsYWJlbEVsZW1lbnQ7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgdGhlIHRleHQgb24gdGhpcyBsYWJlbC5cclxuICAgICAqIEBwYXJhbSB0ZXh0XHJcbiAgICAgKi9cclxuICAgIExhYmVsLnByb3RvdHlwZS5zZXRUZXh0ID0gZnVuY3Rpb24gKHRleHQpIHtcclxuICAgICAgICB0aGlzLnRleHQgPSB0ZXh0O1xyXG4gICAgICAgIHRoaXMuZ2V0RG9tRWxlbWVudCgpLmh0bWwodGV4dCk7XHJcbiAgICAgICAgdGhpcy5vblRleHRDaGFuZ2VkRXZlbnQodGV4dCk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIHRoZSB0ZXh0IG9uIHRoaXMgbGFiZWwuXHJcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSB0ZXh0IG9uIHRoZSBsYWJlbFxyXG4gICAgICovXHJcbiAgICBMYWJlbC5wcm90b3R5cGUuZ2V0VGV4dCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy50ZXh0O1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ2xlYXJzIHRoZSB0ZXh0IG9uIHRoaXMgbGFiZWwuXHJcbiAgICAgKi9cclxuICAgIExhYmVsLnByb3RvdHlwZS5jbGVhclRleHQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5nZXREb21FbGVtZW50KCkuaHRtbCgnJyk7XHJcbiAgICAgICAgdGhpcy5vblRleHRDaGFuZ2VkRXZlbnQobnVsbCk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBUZXN0cyBpZiB0aGUgbGFiZWwgaXMgZW1wdHkgYW5kIGRvZXMgbm90IGNvbnRhaW4gYW55IHRleHQuXHJcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBsYWJlbCBpcyBlbXB0eSwgZWxzZSBmYWxzZVxyXG4gICAgICovXHJcbiAgICBMYWJlbC5wcm90b3R5cGUuaXNFbXB0eSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gIXRoaXMudGV4dDtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEZpcmVzIHRoZSB7QGxpbmsgI29uQ2xpY2t9IGV2ZW50LlxyXG4gICAgICogQ2FuIGJlIHVzZWQgYnkgc3ViY2xhc3NlcyB0byBsaXN0ZW4gdG8gdGhpcyBldmVudCB3aXRob3V0IHN1YnNjcmliaW5nIGFuIGV2ZW50IGxpc3RlbmVyIGJ5IG92ZXJ3cml0aW5nIHRoZSBtZXRob2RcclxuICAgICAqIGFuZCBjYWxsaW5nIHRoZSBzdXBlciBtZXRob2QuXHJcbiAgICAgKi9cclxuICAgIExhYmVsLnByb3RvdHlwZS5vbkNsaWNrRXZlbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5sYWJlbEV2ZW50cy5vbkNsaWNrLmRpc3BhdGNoKHRoaXMpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogRmlyZXMgdGhlIHtAbGluayAjb25DbGlja30gZXZlbnQuXHJcbiAgICAgKiBDYW4gYmUgdXNlZCBieSBzdWJjbGFzc2VzIHRvIGxpc3RlbiB0byB0aGlzIGV2ZW50IHdpdGhvdXQgc3Vic2NyaWJpbmcgYW4gZXZlbnQgbGlzdGVuZXIgYnkgb3ZlcndyaXRpbmcgdGhlIG1ldGhvZFxyXG4gICAgICogYW5kIGNhbGxpbmcgdGhlIHN1cGVyIG1ldGhvZC5cclxuICAgICAqL1xyXG4gICAgTGFiZWwucHJvdG90eXBlLm9uVGV4dENoYW5nZWRFdmVudCA9IGZ1bmN0aW9uICh0ZXh0KSB7XHJcbiAgICAgICAgdGhpcy5sYWJlbEV2ZW50cy5vblRleHRDaGFuZ2VkLmRpc3BhdGNoKHRoaXMsIHRleHQpO1xyXG4gICAgfTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShMYWJlbC5wcm90b3R5cGUsIFwib25DbGlja1wiLCB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogR2V0cyB0aGUgZXZlbnQgdGhhdCBpcyBmaXJlZCB3aGVuIHRoZSBsYWJlbCBpcyBjbGlja2VkLlxyXG4gICAgICAgICAqIEByZXR1cm5zIHtFdmVudDxMYWJlbDxMYWJlbENvbmZpZz4sIE5vQXJncz59XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxhYmVsRXZlbnRzLm9uQ2xpY2suZ2V0RXZlbnQoKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShMYWJlbC5wcm90b3R5cGUsIFwib25UZXh0Q2hhbmdlZFwiLCB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogR2V0cyB0aGUgZXZlbnQgdGhhdCBpcyBmaXJlZCB3aGVuIHRoZSB0ZXh0IG9uIHRoZSBsYWJlbCBpcyBjaGFuZ2VkLlxyXG4gICAgICAgICAqIEByZXR1cm5zIHtFdmVudDxMYWJlbDxMYWJlbENvbmZpZz4sIHN0cmluZz59XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxhYmVsRXZlbnRzLm9uVGV4dENoYW5nZWQuZ2V0RXZlbnQoKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIHJldHVybiBMYWJlbDtcclxufShjb21wb25lbnRfMS5Db21wb25lbnQpKTtcclxuZXhwb3J0cy5MYWJlbCA9IExhYmVsO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvbGFiZWwudHNcbi8vIG1vZHVsZSBpZCA9IDZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBjb21wb25lbnRfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudFwiKTtcclxudmFyIGRvbV8xID0gcmVxdWlyZShcIi4uL2RvbVwiKTtcclxudmFyIGV2ZW50ZGlzcGF0Y2hlcl8xID0gcmVxdWlyZShcIi4uL2V2ZW50ZGlzcGF0Y2hlclwiKTtcclxuLyoqXHJcbiAqIEEgc2ltcGxlIGNsaWNrYWJsZSBidXR0b24uXHJcbiAqL1xyXG52YXIgQnV0dG9uID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhCdXR0b24sIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBCdXR0b24oY29uZmlnKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgY29uZmlnKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLmJ1dHRvbkV2ZW50cyA9IHtcclxuICAgICAgICAgICAgb25DbGljazogbmV3IGV2ZW50ZGlzcGF0Y2hlcl8xLkV2ZW50RGlzcGF0Y2hlcigpLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgX3RoaXMuY29uZmlnID0gX3RoaXMubWVyZ2VDb25maWcoY29uZmlnLCB7XHJcbiAgICAgICAgICAgIGNzc0NsYXNzOiAndWktYnV0dG9uJyxcclxuICAgICAgICB9LCBfdGhpcy5jb25maWcpO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIEJ1dHRvbi5wcm90b3R5cGUudG9Eb21FbGVtZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgLy8gQ3JlYXRlIHRoZSBidXR0b24gZWxlbWVudCB3aXRoIHRoZSB0ZXh0IGxhYmVsXHJcbiAgICAgICAgdmFyIGJ1dHRvbkVsZW1lbnQgPSBuZXcgZG9tXzEuRE9NKCdidXR0b24nLCB7XHJcbiAgICAgICAgICAgICd0eXBlJzogJ2J1dHRvbicsXHJcbiAgICAgICAgICAgICdpZCc6IHRoaXMuY29uZmlnLmlkLFxyXG4gICAgICAgICAgICAnY2xhc3MnOiB0aGlzLmdldENzc0NsYXNzZXMoKSxcclxuICAgICAgICB9KS5hcHBlbmQobmV3IGRvbV8xLkRPTSgnc3BhbicsIHtcclxuICAgICAgICAgICAgJ2NsYXNzJzogdGhpcy5wcmVmaXhDc3MoJ2xhYmVsJyksXHJcbiAgICAgICAgfSkuaHRtbCh0aGlzLmNvbmZpZy50ZXh0KSk7XHJcbiAgICAgICAgLy8gTGlzdGVuIGZvciB0aGUgY2xpY2sgZXZlbnQgb24gdGhlIGJ1dHRvbiBlbGVtZW50IGFuZCB0cmlnZ2VyIHRoZSBjb3JyZXNwb25kaW5nIGV2ZW50IG9uIHRoZSBidXR0b24gY29tcG9uZW50XHJcbiAgICAgICAgYnV0dG9uRWxlbWVudC5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIF90aGlzLm9uQ2xpY2tFdmVudCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBidXR0b25FbGVtZW50O1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogU2V0cyB0ZXh0IG9uIHRoZSBsYWJlbCBvZiB0aGUgYnV0dG9uLlxyXG4gICAgICogQHBhcmFtIHRleHQgdGhlIHRleHQgdG8gcHV0IGludG8gdGhlIGxhYmVsIG9mIHRoZSBidXR0b25cclxuICAgICAqL1xyXG4gICAgQnV0dG9uLnByb3RvdHlwZS5zZXRUZXh0ID0gZnVuY3Rpb24gKHRleHQpIHtcclxuICAgICAgICB0aGlzLmdldERvbUVsZW1lbnQoKS5maW5kKCcuJyArIHRoaXMucHJlZml4Q3NzKCdsYWJlbCcpKS5odG1sKHRleHQpO1xyXG4gICAgfTtcclxuICAgIEJ1dHRvbi5wcm90b3R5cGUub25DbGlja0V2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuYnV0dG9uRXZlbnRzLm9uQ2xpY2suZGlzcGF0Y2godGhpcyk7XHJcbiAgICB9O1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJ1dHRvbi5wcm90b3R5cGUsIFwib25DbGlja1wiLCB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogR2V0cyB0aGUgZXZlbnQgdGhhdCBpcyBmaXJlZCB3aGVuIHRoZSBidXR0b24gaXMgY2xpY2tlZC5cclxuICAgICAgICAgKiBAcmV0dXJucyB7RXZlbnQ8QnV0dG9uPENvbmZpZz4sIE5vQXJncz59XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmJ1dHRvbkV2ZW50cy5vbkNsaWNrLmdldEV2ZW50KCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gQnV0dG9uO1xyXG59KGNvbXBvbmVudF8xLkNvbXBvbmVudCkpO1xyXG5leHBvcnRzLkJ1dHRvbiA9IEJ1dHRvbjtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL2J1dHRvbi50c1xuLy8gbW9kdWxlIGlkID0gN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGxpc3RzZWxlY3Rvcl8xID0gcmVxdWlyZShcIi4vbGlzdHNlbGVjdG9yXCIpO1xyXG52YXIgZG9tXzEgPSByZXF1aXJlKFwiLi4vZG9tXCIpO1xyXG4vKipcclxuICogQSBzaW1wbGUgc2VsZWN0IGJveCBwcm92aWRpbmcgdGhlIHBvc3NpYmlsaXR5IHRvIHNlbGVjdCBhIHNpbmdsZSBpdGVtIG91dCBvZiBhIGxpc3Qgb2YgYXZhaWxhYmxlIGl0ZW1zLlxyXG4gKlxyXG4gKiBET00gZXhhbXBsZTpcclxuICogPGNvZGU+XHJcbiAqICAgICA8c2VsZWN0IGNsYXNzPSd1aS1zZWxlY3Rib3gnPlxyXG4gKiAgICAgICAgIDxvcHRpb24gdmFsdWU9J2tleSc+bGFiZWw8L29wdGlvbj5cclxuICogICAgICAgICAuLi5cclxuICogICAgIDwvc2VsZWN0PlxyXG4gKiA8L2NvZGU+XHJcbiAqL1xyXG52YXIgU2VsZWN0Qm94ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhTZWxlY3RCb3gsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBTZWxlY3RCb3goY29uZmlnKSB7XHJcbiAgICAgICAgaWYgKGNvbmZpZyA9PT0gdm9pZCAwKSB7IGNvbmZpZyA9IHt9OyB9XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgY29uZmlnKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLmNvbmZpZyA9IF90aGlzLm1lcmdlQ29uZmlnKGNvbmZpZywge1xyXG4gICAgICAgICAgICBjc3NDbGFzczogJ3VpLXNlbGVjdGJveCcsXHJcbiAgICAgICAgfSwgX3RoaXMuY29uZmlnKTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBTZWxlY3RCb3gucHJvdG90eXBlLnRvRG9tRWxlbWVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHZhciBzZWxlY3RFbGVtZW50ID0gbmV3IGRvbV8xLkRPTSgnc2VsZWN0Jywge1xyXG4gICAgICAgICAgICAnaWQnOiB0aGlzLmNvbmZpZy5pZCxcclxuICAgICAgICAgICAgJ2NsYXNzJzogdGhpcy5nZXRDc3NDbGFzc2VzKCksXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5zZWxlY3RFbGVtZW50ID0gc2VsZWN0RWxlbWVudDtcclxuICAgICAgICB0aGlzLnVwZGF0ZURvbUl0ZW1zKCk7XHJcbiAgICAgICAgc2VsZWN0RWxlbWVudC5vbignY2hhbmdlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBzZWxlY3RFbGVtZW50LnZhbCgpO1xyXG4gICAgICAgICAgICBfdGhpcy5vbkl0ZW1TZWxlY3RlZEV2ZW50KHZhbHVlLCBmYWxzZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHNlbGVjdEVsZW1lbnQ7XHJcbiAgICB9O1xyXG4gICAgU2VsZWN0Qm94LnByb3RvdHlwZS51cGRhdGVEb21JdGVtcyA9IGZ1bmN0aW9uIChzZWxlY3RlZFZhbHVlKSB7XHJcbiAgICAgICAgaWYgKHNlbGVjdGVkVmFsdWUgPT09IHZvaWQgMCkgeyBzZWxlY3RlZFZhbHVlID0gbnVsbDsgfVxyXG4gICAgICAgIC8vIERlbGV0ZSBhbGwgY2hpbGRyZW5cclxuICAgICAgICB0aGlzLnNlbGVjdEVsZW1lbnQuZW1wdHkoKTtcclxuICAgICAgICAvLyBBZGQgdXBkYXRlZCBjaGlsZHJlblxyXG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSB0aGlzLml0ZW1zOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICB2YXIgaXRlbSA9IF9hW19pXTtcclxuICAgICAgICAgICAgdmFyIG9wdGlvbkVsZW1lbnQgPSBuZXcgZG9tXzEuRE9NKCdvcHRpb24nLCB7XHJcbiAgICAgICAgICAgICAgICAndmFsdWUnOiBpdGVtLmtleSxcclxuICAgICAgICAgICAgfSkuaHRtbChpdGVtLmxhYmVsKTtcclxuICAgICAgICAgICAgaWYgKGl0ZW0ua2V5ID09PSBTdHJpbmcoc2VsZWN0ZWRWYWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgIG9wdGlvbkVsZW1lbnQuYXR0cignc2VsZWN0ZWQnLCAnc2VsZWN0ZWQnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdEVsZW1lbnQuYXBwZW5kKG9wdGlvbkVsZW1lbnQpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBTZWxlY3RCb3gucHJvdG90eXBlLm9uSXRlbUFkZGVkRXZlbnQgPSBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLm9uSXRlbUFkZGVkRXZlbnQuY2FsbCh0aGlzLCB2YWx1ZSk7XHJcbiAgICAgICAgdGhpcy51cGRhdGVEb21JdGVtcyh0aGlzLnNlbGVjdGVkSXRlbSk7XHJcbiAgICB9O1xyXG4gICAgU2VsZWN0Qm94LnByb3RvdHlwZS5vbkl0ZW1SZW1vdmVkRXZlbnQgPSBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLm9uSXRlbVJlbW92ZWRFdmVudC5jYWxsKHRoaXMsIHZhbHVlKTtcclxuICAgICAgICB0aGlzLnVwZGF0ZURvbUl0ZW1zKHRoaXMuc2VsZWN0ZWRJdGVtKTtcclxuICAgIH07XHJcbiAgICBTZWxlY3RCb3gucHJvdG90eXBlLm9uSXRlbVNlbGVjdGVkRXZlbnQgPSBmdW5jdGlvbiAodmFsdWUsIHVwZGF0ZURvbUl0ZW1zKSB7XHJcbiAgICAgICAgaWYgKHVwZGF0ZURvbUl0ZW1zID09PSB2b2lkIDApIHsgdXBkYXRlRG9tSXRlbXMgPSB0cnVlOyB9XHJcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5vbkl0ZW1TZWxlY3RlZEV2ZW50LmNhbGwodGhpcywgdmFsdWUpO1xyXG4gICAgICAgIGlmICh1cGRhdGVEb21JdGVtcykge1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZURvbUl0ZW1zKHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFNlbGVjdEJveDtcclxufShsaXN0c2VsZWN0b3JfMS5MaXN0U2VsZWN0b3IpKTtcclxuZXhwb3J0cy5TZWxlY3RCb3ggPSBTZWxlY3RCb3g7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9zZWxlY3Rib3gudHNcbi8vIG1vZHVsZSBpZCA9IDhcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuLy8gVE9ETyBjaGFuZ2UgdG8gaW50ZXJuYWwgKG5vdCBleHBvcnRlZCkgY2xhc3MsIGhvdyB0byB1c2UgaW4gb3RoZXIgZmlsZXM/XHJcbi8qKlxyXG4gKiBFeGVjdXRlcyBhIGNhbGxiYWNrIGFmdGVyIGEgc3BlY2lmaWVkIGFtb3VudCBvZiB0aW1lLCBvcHRpb25hbGx5IHJlcGVhdGVkbHkgdW50aWwgc3RvcHBlZC5cclxuICovXHJcbnZhciBUaW1lb3V0ID0gKGZ1bmN0aW9uICgpIHtcclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyBhIG5ldyB0aW1lb3V0IGNhbGxiYWNrIGhhbmRsZXIuXHJcbiAgICAgKiBAcGFyYW0gZGVsYXkgdGhlIGRlbGF5IGluIG1pbGxpc2Vjb25kcyBhZnRlciB3aGljaCB0aGUgY2FsbGJhY2sgc2hvdWxkIGJlIGV4ZWN1dGVkXHJcbiAgICAgKiBAcGFyYW0gY2FsbGJhY2sgdGhlIGNhbGxiYWNrIHRvIGV4ZWN1dGUgYWZ0ZXIgdGhlIGRlbGF5IHRpbWVcclxuICAgICAqIEBwYXJhbSByZXBlYXQgaWYgdHJ1ZSwgY2FsbCB0aGUgY2FsbGJhY2sgcmVwZWF0ZWRseSBpbiBkZWxheSBpbnRlcnZhbHNcclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gVGltZW91dChkZWxheSwgY2FsbGJhY2ssIHJlcGVhdCkge1xyXG4gICAgICAgIGlmIChyZXBlYXQgPT09IHZvaWQgMCkgeyByZXBlYXQgPSBmYWxzZTsgfVxyXG4gICAgICAgIHRoaXMuZGVsYXkgPSBkZWxheTtcclxuICAgICAgICB0aGlzLmNhbGxiYWNrID0gY2FsbGJhY2s7XHJcbiAgICAgICAgdGhpcy5yZXBlYXQgPSByZXBlYXQ7XHJcbiAgICAgICAgdGhpcy50aW1lb3V0SGFuZGxlID0gMDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU3RhcnRzIHRoZSB0aW1lb3V0IGFuZCBjYWxscyB0aGUgY2FsbGJhY2sgd2hlbiB0aGUgdGltZW91dCBkZWxheSBoYXMgcGFzc2VkLlxyXG4gICAgICogQHJldHVybnMge1RpbWVvdXR9IHRoZSBjdXJyZW50IHRpbWVvdXQgKHNvIHRoZSBzdGFydCBjYWxsIGNhbiBiZSBjaGFpbmVkIHRvIHRoZSBjb25zdHJ1Y3RvcilcclxuICAgICAqL1xyXG4gICAgVGltZW91dC5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5yZXNldCgpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ2xlYXJzIHRoZSB0aW1lb3V0LiBUaGUgY2FsbGJhY2sgd2lsbCBub3QgYmUgY2FsbGVkIGlmIGNsZWFyIGlzIGNhbGxlZCBkdXJpbmcgdGhlIHRpbWVvdXQuXHJcbiAgICAgKi9cclxuICAgIFRpbWVvdXQucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuY2xlYXJJbnRlcm5hbCgpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUmVzZXRzIHRoZSBwYXNzZWQgdGltZW91dCBkZWxheSB0byB6ZXJvLiBDYW4gYmUgdXNlZCB0byBkZWZlciB0aGUgY2FsbGluZyBvZiB0aGUgY2FsbGJhY2suXHJcbiAgICAgKi9cclxuICAgIFRpbWVvdXQucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdmFyIGxhc3RTY2hlZHVsZVRpbWUgPSAwO1xyXG4gICAgICAgIHZhciBkZWxheUFkanVzdCA9IDA7XHJcbiAgICAgICAgdGhpcy5jbGVhckludGVybmFsKCk7XHJcbiAgICAgICAgdmFyIGludGVybmFsQ2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIF90aGlzLmNhbGxiYWNrKCk7XHJcbiAgICAgICAgICAgIGlmIChfdGhpcy5yZXBlYXQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBub3cgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgICAgICAgICAgLy8gVGhlIHRpbWUgb2Ygb25lIGl0ZXJhdGlvbiBmcm9tIHNjaGVkdWxpbmcgdG8gZXhlY3V0aW5nIHRoZSBjYWxsYmFjayAodXN1YWxseSBhIGJpdCBsb25nZXIgdGhhbiB0aGUgZGVsYXlcclxuICAgICAgICAgICAgICAgIC8vIHRpbWUpXHJcbiAgICAgICAgICAgICAgICB2YXIgZGVsdGEgPSBub3cgLSBsYXN0U2NoZWR1bGVUaW1lO1xyXG4gICAgICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIHRoZSBkZWxheSBhZGp1c3RtZW50IGZvciB0aGUgbmV4dCBzY2hlZHVsZSB0byBrZWVwIGEgc3RlYWR5IGRlbGF5IGludGVydmFsIG92ZXIgdGltZVxyXG4gICAgICAgICAgICAgICAgZGVsYXlBZGp1c3QgPSBfdGhpcy5kZWxheSAtIGRlbHRhICsgZGVsYXlBZGp1c3Q7XHJcbiAgICAgICAgICAgICAgICBsYXN0U2NoZWR1bGVUaW1lID0gbm93O1xyXG4gICAgICAgICAgICAgICAgLy8gU2NoZWR1bGUgbmV4dCBleGVjdXRpb24gYnkgdGhlIGFkanVzdGVkIGRlbGF5XHJcbiAgICAgICAgICAgICAgICBfdGhpcy50aW1lb3V0SGFuZGxlID0gc2V0VGltZW91dChpbnRlcm5hbENhbGxiYWNrLCBfdGhpcy5kZWxheSArIGRlbGF5QWRqdXN0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgbGFzdFNjaGVkdWxlVGltZSA9IERhdGUubm93KCk7XHJcbiAgICAgICAgdGhpcy50aW1lb3V0SGFuZGxlID0gc2V0VGltZW91dChpbnRlcm5hbENhbGxiYWNrLCB0aGlzLmRlbGF5KTtcclxuICAgIH07XHJcbiAgICBUaW1lb3V0LnByb3RvdHlwZS5jbGVhckludGVybmFsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXRIYW5kbGUpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBUaW1lb3V0O1xyXG59KCkpO1xyXG5leHBvcnRzLlRpbWVvdXQgPSBUaW1lb3V0O1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL3RpbWVvdXQudHNcbi8vIG1vZHVsZSBpZCA9IDlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIFN0cmluZ1V0aWxzO1xyXG4oZnVuY3Rpb24gKFN0cmluZ1V0aWxzKSB7XHJcbiAgICBTdHJpbmdVdGlscy5GT1JNQVRfSEhNTVNTID0gJ2hoOm1tOnNzJztcclxuICAgIFN0cmluZ1V0aWxzLkZPUk1BVF9NTVNTID0gJ21tOnNzJztcclxuICAgIC8qKlxyXG4gICAgICogRm9ybWF0cyBhIG51bWJlciBvZiBzZWNvbmRzIGludG8gYSB0aW1lIHN0cmluZyB3aXRoIHRoZSBwYXR0ZXJuIGhoOm1tOnNzLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB0b3RhbFNlY29uZHMgdGhlIHRvdGFsIG51bWJlciBvZiBzZWNvbmRzIHRvIGZvcm1hdCB0byBzdHJpbmdcclxuICAgICAqIEBwYXJhbSBmb3JtYXQgdGhlIHRpbWUgZm9ybWF0IHRvIG91dHB1dCAoZGVmYXVsdDogaGg6bW06c3MpXHJcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSB0aGUgZm9ybWF0dGVkIHRpbWUgc3RyaW5nXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIHNlY29uZHNUb1RpbWUodG90YWxTZWNvbmRzLCBmb3JtYXQpIHtcclxuICAgICAgICBpZiAoZm9ybWF0ID09PSB2b2lkIDApIHsgZm9ybWF0ID0gU3RyaW5nVXRpbHMuRk9STUFUX0hITU1TUzsgfVxyXG4gICAgICAgIHZhciBpc05lZ2F0aXZlID0gdG90YWxTZWNvbmRzIDwgMDtcclxuICAgICAgICBpZiAoaXNOZWdhdGl2ZSkge1xyXG4gICAgICAgICAgICAvLyBJZiB0aGUgdGltZSBpcyBuZWdhdGl2ZSwgd2UgbWFrZSBpdCBwb3NpdGl2ZSBmb3IgdGhlIGNhbGN1bGF0aW9uIGJlbG93XHJcbiAgICAgICAgICAgIC8vIChlbHNlIHdlJ2QgZ2V0IGFsbCBuZWdhdGl2ZSBudW1iZXJzKSBhbmQgcmVhdHRhY2ggdGhlIG5lZ2F0aXZlIHNpZ24gbGF0ZXIuXHJcbiAgICAgICAgICAgIHRvdGFsU2Vjb25kcyA9IC10b3RhbFNlY29uZHM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFNwbGl0IGludG8gc2VwYXJhdGUgdGltZSBwYXJ0c1xyXG4gICAgICAgIHZhciBob3VycyA9IE1hdGguZmxvb3IodG90YWxTZWNvbmRzIC8gMzYwMCk7XHJcbiAgICAgICAgdmFyIG1pbnV0ZXMgPSBNYXRoLmZsb29yKHRvdGFsU2Vjb25kcyAvIDYwKSAtIGhvdXJzICogNjA7XHJcbiAgICAgICAgdmFyIHNlY29uZHMgPSBNYXRoLmZsb29yKHRvdGFsU2Vjb25kcykgJSA2MDtcclxuICAgICAgICByZXR1cm4gKGlzTmVnYXRpdmUgPyAnLScgOiAnJykgKyBmb3JtYXRcclxuICAgICAgICAgICAgLnJlcGxhY2UoJ2hoJywgbGVmdFBhZFdpdGhaZXJvcyhob3VycywgMikpXHJcbiAgICAgICAgICAgIC5yZXBsYWNlKCdtbScsIGxlZnRQYWRXaXRoWmVyb3MobWludXRlcywgMikpXHJcbiAgICAgICAgICAgIC5yZXBsYWNlKCdzcycsIGxlZnRQYWRXaXRoWmVyb3Moc2Vjb25kcywgMikpO1xyXG4gICAgfVxyXG4gICAgU3RyaW5nVXRpbHMuc2Vjb25kc1RvVGltZSA9IHNlY29uZHNUb1RpbWU7XHJcbiAgICAvKipcclxuICAgICAqIENvbnZlcnRzIGEgbnVtYmVyIHRvIGEgc3RyaW5nIGFuZCBsZWZ0LXBhZHMgaXQgd2l0aCB6ZXJvcyB0byB0aGUgc3BlY2lmaWVkIGxlbmd0aC5cclxuICAgICAqIEV4YW1wbGU6IGxlZnRQYWRXaXRoWmVyb3MoMTIzLCA1KSA9PiAnMDAxMjMnXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG51bSB0aGUgbnVtYmVyIHRvIGNvbnZlcnQgdG8gc3RyaW5nIGFuZCBwYWQgd2l0aCB6ZXJvc1xyXG4gICAgICogQHBhcmFtIGxlbmd0aCB0aGUgZGVzaXJlZCBsZW5ndGggb2YgdGhlIHBhZGRlZCBzdHJpbmdcclxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IHRoZSBwYWRkZWQgbnVtYmVyIGFzIHN0cmluZ1xyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBsZWZ0UGFkV2l0aFplcm9zKG51bSwgbGVuZ3RoKSB7XHJcbiAgICAgICAgdmFyIHRleHQgPSBudW0gKyAnJztcclxuICAgICAgICB2YXIgcGFkZGluZyA9ICcwMDAwMDAwMDAwJy5zdWJzdHIoMCwgbGVuZ3RoIC0gdGV4dC5sZW5ndGgpO1xyXG4gICAgICAgIHJldHVybiBwYWRkaW5nICsgdGV4dDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogRmlsbHMgb3V0IHBsYWNlaG9sZGVycyBpbiBhbiBhZCBtZXNzYWdlLlxyXG4gICAgICpcclxuICAgICAqIEhhcyB0aGUgcGxhY2Vob2xkZXJzICd7cmVtYWluaW5nVGltZVtmb3JtYXRTdHJpbmddfScsICd7cGxheWVkVGltZVtmb3JtYXRTdHJpbmddfScgYW5kXHJcbiAgICAgKiAne2FkRHVyYXRpb25bZm9ybWF0U3RyaW5nXX0nLCB3aGljaCBhcmUgcmVwbGFjZWQgYnkgdGhlIHJlbWFpbmluZyB0aW1lIHVudGlsIHRoZSBhZCBjYW4gYmUgc2tpcHBlZCwgdGhlIGN1cnJlbnRcclxuICAgICAqIHRpbWUgb3IgdGhlIGFkIGR1cmF0aW9uLiBUaGUgZm9ybWF0IHN0cmluZyBpcyBvcHRpb25hbC4gSWYgbm90IHNwZWNpZmllZCwgdGhlIHBsYWNlaG9sZGVyIGlzIHJlcGxhY2VkIGJ5IHRoZSB0aW1lXHJcbiAgICAgKiBpbiBzZWNvbmRzLiBJZiBzcGVjaWZpZWQsIGl0IG11c3QgYmUgb2YgdGhlIGZvbGxvd2luZyBmb3JtYXQ6XHJcbiAgICAgKiAtICVkIC0gSW5zZXJ0cyB0aGUgdGltZSBhcyBhbiBpbnRlZ2VyLlxyXG4gICAgICogLSAlME5kIC0gSW5zZXJ0cyB0aGUgdGltZSBhcyBhbiBpbnRlZ2VyIHdpdGggbGVhZGluZyB6ZXJvZXMsIGlmIHRoZSBsZW5ndGggb2YgdGhlIHRpbWUgc3RyaW5nIGlzIHNtYWxsZXIgdGhhbiBOLlxyXG4gICAgICogLSAlZiAtIEluc2VydHMgdGhlIHRpbWUgYXMgYSBmbG9hdC5cclxuICAgICAqIC0gJTBOZiAtIEluc2VydHMgdGhlIHRpbWUgYXMgYSBmbG9hdCB3aXRoIGxlYWRpbmcgemVyb2VzLlxyXG4gICAgICogLSAlLk1mIC0gSW5zZXJ0cyB0aGUgdGltZSBhcyBhIGZsb2F0IHdpdGggTSBkZWNpbWFsIHBsYWNlcy4gQ2FuIGJlIGNvbWJpbmVkIHdpdGggJTBOZiwgZS5nLiAlMDQuMmYgKHRoZSB0aW1lXHJcbiAgICAgKiAxMC4xMjNcclxuICAgICAqIHdvdWxkIGJlIHByaW50ZWQgYXMgMDAxMC4xMikuXHJcbiAgICAgKiAtICVoaDptbTpzc1xyXG4gICAgICogLSAlbW06c3NcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gYWRNZXNzYWdlIGFuIGFkIG1lc3NhZ2Ugd2l0aCBvcHRpb25hbCBwbGFjZWhvbGRlcnMgdG8gZmlsbFxyXG4gICAgICogQHBhcmFtIHNraXBPZmZzZXQgaWYgc3BlY2lmaWVkLCB7cmVtYWluaW5nVGltZX0gd2lsbCBiZSBmaWxsZWQgd2l0aCB0aGUgcmVtYWluaW5nIHRpbWUgdW50aWwgdGhlIGFkIGNhbiBiZSBza2lwcGVkXHJcbiAgICAgKiBAcGFyYW0gcGxheWVyIHRoZSBwbGF5ZXIgdG8gZ2V0IHRoZSB0aW1lIGRhdGEgZnJvbVxyXG4gICAgICogQHJldHVybnMge3N0cmluZ30gdGhlIGFkIG1lc3NhZ2Ugd2l0aCBmaWxsZWQgcGxhY2Vob2xkZXJzXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIHJlcGxhY2VBZE1lc3NhZ2VQbGFjZWhvbGRlcnMoYWRNZXNzYWdlLCBza2lwT2Zmc2V0LCBwbGF5ZXIpIHtcclxuICAgICAgICB2YXIgYWRNZXNzYWdlUGxhY2Vob2xkZXJSZWdleCA9IG5ldyBSZWdFeHAoJ1xcXFx7KHJlbWFpbmluZ1RpbWV8cGxheWVkVGltZXxhZER1cmF0aW9uKSh9fCUoKDBbMS05XVxcXFxkKihcXFxcLlxcXFxkKyhkfGYpfGR8Zil8XFxcXC5cXFxcZCtmfGR8Zil8aGg6bW06c3N8bW06c3MpfSknLCAnZycpO1xyXG4gICAgICAgIHJldHVybiBhZE1lc3NhZ2UucmVwbGFjZShhZE1lc3NhZ2VQbGFjZWhvbGRlclJlZ2V4LCBmdW5jdGlvbiAoZm9ybWF0U3RyaW5nKSB7XHJcbiAgICAgICAgICAgIHZhciB0aW1lID0gMDtcclxuICAgICAgICAgICAgaWYgKGZvcm1hdFN0cmluZy5pbmRleE9mKCdyZW1haW5pbmdUaW1lJykgPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHNraXBPZmZzZXQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aW1lID0gTWF0aC5jZWlsKHNraXBPZmZzZXQgLSBwbGF5ZXIuZ2V0Q3VycmVudFRpbWUoKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aW1lID0gcGxheWVyLmdldER1cmF0aW9uKCkgLSBwbGF5ZXIuZ2V0Q3VycmVudFRpbWUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChmb3JtYXRTdHJpbmcuaW5kZXhPZigncGxheWVkVGltZScpID4gLTEpIHtcclxuICAgICAgICAgICAgICAgIHRpbWUgPSBwbGF5ZXIuZ2V0Q3VycmVudFRpbWUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChmb3JtYXRTdHJpbmcuaW5kZXhPZignYWREdXJhdGlvbicpID4gLTEpIHtcclxuICAgICAgICAgICAgICAgIHRpbWUgPSBwbGF5ZXIuZ2V0RHVyYXRpb24oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gZm9ybWF0TnVtYmVyKHRpbWUsIGZvcm1hdFN0cmluZyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBTdHJpbmdVdGlscy5yZXBsYWNlQWRNZXNzYWdlUGxhY2Vob2xkZXJzID0gcmVwbGFjZUFkTWVzc2FnZVBsYWNlaG9sZGVycztcclxuICAgIGZ1bmN0aW9uIGZvcm1hdE51bWJlcih0aW1lLCBmb3JtYXQpIHtcclxuICAgICAgICB2YXIgZm9ybWF0U3RyaW5nVmFsaWRhdGlvblJlZ2V4ID0gLyUoKDBbMS05XVxcZCooXFwuXFxkKyhkfGYpfGR8Zil8XFwuXFxkK2Z8ZHxmKXxoaDptbTpzc3xtbTpzcykvO1xyXG4gICAgICAgIHZhciBsZWFkaW5nWmVyb2VzUmVnZXggPSAvKCUwWzEtOV1cXGQqKSg/PShcXC5cXGQrZnxmfGQpKS87XHJcbiAgICAgICAgdmFyIGRlY2ltYWxQbGFjZXNSZWdleCA9IC9cXC5cXGQqKD89ZikvO1xyXG4gICAgICAgIGlmICghZm9ybWF0U3RyaW5nVmFsaWRhdGlvblJlZ2V4LnRlc3QoZm9ybWF0KSkge1xyXG4gICAgICAgICAgICAvLyBJZiB0aGUgZm9ybWF0IGlzIGludmFsaWQsIHdlIHNldCBhIGRlZmF1bHQgZmFsbGJhY2sgZm9ybWF0XHJcbiAgICAgICAgICAgIGZvcm1hdCA9ICclZCc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIERldGVybWluZSB0aGUgbnVtYmVyIG9mIGxlYWRpbmcgemVyb3NcclxuICAgICAgICB2YXIgbGVhZGluZ1plcm9lcyA9IDA7XHJcbiAgICAgICAgdmFyIGxlYWRpbmdaZXJvZXNNYXRjaGVzID0gZm9ybWF0Lm1hdGNoKGxlYWRpbmdaZXJvZXNSZWdleCk7XHJcbiAgICAgICAgaWYgKGxlYWRpbmdaZXJvZXNNYXRjaGVzKSB7XHJcbiAgICAgICAgICAgIGxlYWRpbmdaZXJvZXMgPSBwYXJzZUludChsZWFkaW5nWmVyb2VzTWF0Y2hlc1swXS5zdWJzdHJpbmcoMikpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBEZXRlcm1pbmUgdGhlIG51bWJlciBvZiBkZWNpbWFsIHBsYWNlc1xyXG4gICAgICAgIHZhciBudW1EZWNpbWFsUGxhY2VzID0gbnVsbDtcclxuICAgICAgICB2YXIgZGVjaW1hbFBsYWNlc01hdGNoZXMgPSBmb3JtYXQubWF0Y2goZGVjaW1hbFBsYWNlc1JlZ2V4KTtcclxuICAgICAgICBpZiAoZGVjaW1hbFBsYWNlc01hdGNoZXMgJiYgIWlzTmFOKHBhcnNlSW50KGRlY2ltYWxQbGFjZXNNYXRjaGVzWzBdLnN1YnN0cmluZygxKSkpKSB7XHJcbiAgICAgICAgICAgIG51bURlY2ltYWxQbGFjZXMgPSBwYXJzZUludChkZWNpbWFsUGxhY2VzTWF0Y2hlc1swXS5zdWJzdHJpbmcoMSkpO1xyXG4gICAgICAgICAgICBpZiAobnVtRGVjaW1hbFBsYWNlcyA+IDIwKSB7XHJcbiAgICAgICAgICAgICAgICBudW1EZWNpbWFsUGxhY2VzID0gMjA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gRmxvYXQgZm9ybWF0XHJcbiAgICAgICAgaWYgKGZvcm1hdC5pbmRleE9mKCdmJykgPiAtMSkge1xyXG4gICAgICAgICAgICB2YXIgdGltZVN0cmluZyA9ICcnO1xyXG4gICAgICAgICAgICBpZiAobnVtRGVjaW1hbFBsYWNlcyAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgLy8gQXBwbHkgZml4ZWQgbnVtYmVyIG9mIGRlY2ltYWwgcGxhY2VzXHJcbiAgICAgICAgICAgICAgICB0aW1lU3RyaW5nID0gdGltZS50b0ZpeGVkKG51bURlY2ltYWxQbGFjZXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGltZVN0cmluZyA9ICcnICsgdGltZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBBcHBseSBsZWFkaW5nIHplcm9zXHJcbiAgICAgICAgICAgIGlmICh0aW1lU3RyaW5nLmluZGV4T2YoJy4nKSA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbGVmdFBhZFdpdGhaZXJvcyh0aW1lU3RyaW5nLCB0aW1lU3RyaW5nLmxlbmd0aCArIChsZWFkaW5nWmVyb2VzIC0gdGltZVN0cmluZy5pbmRleE9mKCcuJykpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBsZWZ0UGFkV2l0aFplcm9zKHRpbWVTdHJpbmcsIGxlYWRpbmdaZXJvZXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGZvcm1hdC5pbmRleE9mKCc6JykgPiAtMSkge1xyXG4gICAgICAgICAgICB2YXIgdG90YWxTZWNvbmRzID0gTWF0aC5jZWlsKHRpbWUpO1xyXG4gICAgICAgICAgICAvLyBoaDptbTpzcyBmb3JtYXRcclxuICAgICAgICAgICAgaWYgKGZvcm1hdC5pbmRleE9mKCdoaCcpID4gLTEpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzZWNvbmRzVG9UaW1lKHRvdGFsU2Vjb25kcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbWludXRlcyA9IE1hdGguZmxvb3IodG90YWxTZWNvbmRzIC8gNjApO1xyXG4gICAgICAgICAgICAgICAgdmFyIHNlY29uZHMgPSB0b3RhbFNlY29uZHMgJSA2MDtcclxuICAgICAgICAgICAgICAgIHJldHVybiBsZWZ0UGFkV2l0aFplcm9zKG1pbnV0ZXMsIDIpICsgJzonICsgbGVmdFBhZFdpdGhaZXJvcyhzZWNvbmRzLCAyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIGxlZnRQYWRXaXRoWmVyb3MoTWF0aC5jZWlsKHRpbWUpLCBsZWFkaW5nWmVyb2VzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0pKFN0cmluZ1V0aWxzID0gZXhwb3J0cy5TdHJpbmdVdGlscyB8fCAoZXhwb3J0cy5TdHJpbmdVdGlscyA9IHt9KSk7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvc3RyaW5ndXRpbHMudHNcbi8vIG1vZHVsZSBpZCA9IDEwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBBcnJheVV0aWxzO1xyXG4oZnVuY3Rpb24gKEFycmF5VXRpbHMpIHtcclxuICAgIC8qKlxyXG4gICAgICogUmVtb3ZlcyBhbiBpdGVtIGZyb20gYW4gYXJyYXkuXHJcbiAgICAgKiBAcGFyYW0gYXJyYXkgdGhlIGFycmF5IHRoYXQgbWF5IGNvbnRhaW4gdGhlIGl0ZW0gdG8gcmVtb3ZlXHJcbiAgICAgKiBAcGFyYW0gaXRlbSB0aGUgaXRlbSB0byByZW1vdmUgZnJvbSB0aGUgYXJyYXlcclxuICAgICAqIEByZXR1cm5zIHthbnl9IHRoZSByZW1vdmVkIGl0ZW0gb3IgbnVsbCBpZiBpdCB3YXNuJ3QgcGFydCBvZiB0aGUgYXJyYXlcclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gcmVtb3ZlKGFycmF5LCBpdGVtKSB7XHJcbiAgICAgICAgdmFyIGluZGV4ID0gYXJyYXkuaW5kZXhPZihpdGVtKTtcclxuICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xyXG4gICAgICAgICAgICByZXR1cm4gYXJyYXkuc3BsaWNlKGluZGV4LCAxKVswXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIEFycmF5VXRpbHMucmVtb3ZlID0gcmVtb3ZlO1xyXG59KShBcnJheVV0aWxzID0gZXhwb3J0cy5BcnJheVV0aWxzIHx8IChleHBvcnRzLkFycmF5VXRpbHMgPSB7fSkpO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL2FycmF5dXRpbHMudHNcbi8vIG1vZHVsZSBpZCA9IDExXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBldmVudGRpc3BhdGNoZXJfMSA9IHJlcXVpcmUoXCIuL2V2ZW50ZGlzcGF0Y2hlclwiKTtcclxudmFyIGJyb3dzZXJ1dGlsc18xID0gcmVxdWlyZShcIi4vYnJvd3NlcnV0aWxzXCIpO1xyXG52YXIgUGxheWVyVXRpbHM7XHJcbihmdW5jdGlvbiAoUGxheWVyVXRpbHMpIHtcclxuICAgIHZhciBQbGF5ZXJTdGF0ZTtcclxuICAgIChmdW5jdGlvbiAoUGxheWVyU3RhdGUpIHtcclxuICAgICAgICBQbGF5ZXJTdGF0ZVtQbGF5ZXJTdGF0ZVtcIklETEVcIl0gPSAwXSA9IFwiSURMRVwiO1xyXG4gICAgICAgIFBsYXllclN0YXRlW1BsYXllclN0YXRlW1wiUFJFUEFSRURcIl0gPSAxXSA9IFwiUFJFUEFSRURcIjtcclxuICAgICAgICBQbGF5ZXJTdGF0ZVtQbGF5ZXJTdGF0ZVtcIlBMQVlJTkdcIl0gPSAyXSA9IFwiUExBWUlOR1wiO1xyXG4gICAgICAgIFBsYXllclN0YXRlW1BsYXllclN0YXRlW1wiUEFVU0VEXCJdID0gM10gPSBcIlBBVVNFRFwiO1xyXG4gICAgICAgIFBsYXllclN0YXRlW1BsYXllclN0YXRlW1wiRklOSVNIRURcIl0gPSA0XSA9IFwiRklOSVNIRURcIjtcclxuICAgIH0pKFBsYXllclN0YXRlID0gUGxheWVyVXRpbHMuUGxheWVyU3RhdGUgfHwgKFBsYXllclV0aWxzLlBsYXllclN0YXRlID0ge30pKTtcclxuICAgIGZ1bmN0aW9uIGlzVGltZVNoaWZ0QXZhaWxhYmxlKHBsYXllcikge1xyXG4gICAgICAgIHJldHVybiBwbGF5ZXIuaXNMaXZlKCkgJiYgcGxheWVyLmdldE1heFRpbWVTaGlmdCgpICE9PSAwO1xyXG4gICAgfVxyXG4gICAgUGxheWVyVXRpbHMuaXNUaW1lU2hpZnRBdmFpbGFibGUgPSBpc1RpbWVTaGlmdEF2YWlsYWJsZTtcclxuICAgIGZ1bmN0aW9uIGdldFN0YXRlKHBsYXllcikge1xyXG4gICAgICAgIGlmIChwbGF5ZXIuaGFzRW5kZWQoKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gUGxheWVyU3RhdGUuRklOSVNIRUQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHBsYXllci5pc1BsYXlpbmcoKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gUGxheWVyU3RhdGUuUExBWUlORztcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAocGxheWVyLmlzUGF1c2VkKCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFBsYXllclN0YXRlLlBBVVNFRDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAocGxheWVyLmlzUmVhZHkoKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gUGxheWVyU3RhdGUuUFJFUEFSRUQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gUGxheWVyU3RhdGUuSURMRTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBQbGF5ZXJVdGlscy5nZXRTdGF0ZSA9IGdldFN0YXRlO1xyXG4gICAgdmFyIFRpbWVTaGlmdEF2YWlsYWJpbGl0eURldGVjdG9yID0gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBmdW5jdGlvbiBUaW1lU2hpZnRBdmFpbGFiaWxpdHlEZXRlY3RvcihwbGF5ZXIpIHtcclxuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICAgICAgdGhpcy50aW1lU2hpZnRBdmFpbGFiaWxpdHlDaGFuZ2VkRXZlbnQgPSBuZXcgZXZlbnRkaXNwYXRjaGVyXzEuRXZlbnREaXNwYXRjaGVyKCk7XHJcbiAgICAgICAgICAgIHRoaXMucGxheWVyID0gcGxheWVyO1xyXG4gICAgICAgICAgICB0aGlzLnRpbWVTaGlmdEF2YWlsYWJsZSA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgdmFyIHRpbWVTaGlmdERldGVjdG9yID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuZGV0ZWN0KCk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vIFRyeSB0byBkZXRlY3QgdGltZXNoaWZ0IGF2YWlsYWJpbGl0eSBpbiBPTl9SRUFEWSwgd2hpY2ggd29ya3MgZm9yIERBU0ggc3RyZWFtc1xyXG4gICAgICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9SRUFEWSwgdGltZVNoaWZ0RGV0ZWN0b3IpO1xyXG4gICAgICAgICAgICAvLyBXaXRoIEhMUy9OYXRpdmVQbGF5ZXIgc3RyZWFtcywgZ2V0TWF4VGltZVNoaWZ0IGNhbiBiZSAwIGJlZm9yZSB0aGUgYnVmZmVyIGZpbGxzLCBzbyB3ZSBuZWVkIHRvIGFkZGl0aW9uYWxseVxyXG4gICAgICAgICAgICAvLyBjaGVjayB0aW1lc2hpZnQgYXZhaWxhYmlsaXR5IGluIE9OX1RJTUVfQ0hBTkdFRFxyXG4gICAgICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9USU1FX0NIQU5HRUQsIHRpbWVTaGlmdERldGVjdG9yKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgVGltZVNoaWZ0QXZhaWxhYmlsaXR5RGV0ZWN0b3IucHJvdG90eXBlLmRldGVjdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMucGxheWVyLmlzTGl2ZSgpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGltZVNoaWZ0QXZhaWxhYmxlTm93ID0gUGxheWVyVXRpbHMuaXNUaW1lU2hpZnRBdmFpbGFibGUodGhpcy5wbGF5ZXIpO1xyXG4gICAgICAgICAgICAgICAgLy8gV2hlbiB0aGUgYXZhaWxhYmlsaXR5IGNoYW5nZXMsIHdlIGZpcmUgdGhlIGV2ZW50XHJcbiAgICAgICAgICAgICAgICBpZiAodGltZVNoaWZ0QXZhaWxhYmxlTm93ICE9PSB0aGlzLnRpbWVTaGlmdEF2YWlsYWJsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGltZVNoaWZ0QXZhaWxhYmlsaXR5Q2hhbmdlZEV2ZW50LmRpc3BhdGNoKHRoaXMucGxheWVyLCB7IHRpbWVTaGlmdEF2YWlsYWJsZTogdGltZVNoaWZ0QXZhaWxhYmxlTm93IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGltZVNoaWZ0QXZhaWxhYmxlID0gdGltZVNoaWZ0QXZhaWxhYmxlTm93O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGltZVNoaWZ0QXZhaWxhYmlsaXR5RGV0ZWN0b3IucHJvdG90eXBlLCBcIm9uVGltZVNoaWZ0QXZhaWxhYmlsaXR5Q2hhbmdlZFwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudGltZVNoaWZ0QXZhaWxhYmlsaXR5Q2hhbmdlZEV2ZW50LmdldEV2ZW50KCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBUaW1lU2hpZnRBdmFpbGFiaWxpdHlEZXRlY3RvcjtcclxuICAgIH0oKSk7XHJcbiAgICBQbGF5ZXJVdGlscy5UaW1lU2hpZnRBdmFpbGFiaWxpdHlEZXRlY3RvciA9IFRpbWVTaGlmdEF2YWlsYWJpbGl0eURldGVjdG9yO1xyXG4gICAgLyoqXHJcbiAgICAgKiBEZXRlY3RzIGNoYW5nZXMgb2YgdGhlIHN0cmVhbSB0eXBlLCBpLmUuIGNoYW5nZXMgb2YgdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgcGxheWVyI2lzTGl2ZSBtZXRob2QuXHJcbiAgICAgKiBOb3JtYWxseSwgYSBzdHJlYW0gY2Fubm90IGNoYW5nZSBpdHMgdHlwZSBkdXJpbmcgcGxheWJhY2ssIGl0J3MgZWl0aGVyIFZPRCBvciBsaXZlLiBEdWUgdG8gYnVncyBvbiBzb21lXHJcbiAgICAgKiBwbGF0Zm9ybXMgb3IgYnJvd3NlcnMsIGl0IGNhbiBzdGlsbCBjaGFuZ2UuIEl0IGlzIHRoZXJlZm9yZSB1bnJlbGlhYmxlIHRvIGp1c3QgY2hlY2sgI2lzTGl2ZSBhbmQgdGhpcyBkZXRlY3RvclxyXG4gICAgICogc2hvdWxkIGJlIHVzZWQgYXMgYSB3b3JrYXJvdW5kIGluc3RlYWQuXHJcbiAgICAgKlxyXG4gICAgICogS25vd24gY2FzZXM6XHJcbiAgICAgKlxyXG4gICAgICogLSBITFMgVk9EIG9uIEFuZHJvaWQgNC4zXHJcbiAgICAgKiBWaWRlbyBkdXJhdGlvbiBpcyBpbml0aWFsbHkgJ0luZmluaXR5JyBhbmQgb25seSBnZXRzIGF2YWlsYWJsZSBhZnRlciBwbGF5YmFjayBzdGFydHMsIHNvIHN0cmVhbXMgYXJlIHdyb25nbHlcclxuICAgICAqIHJlcG9ydGVkIGFzICdsaXZlJyBiZWZvcmUgcGxheWJhY2sgKHRoZSBsaXZlLWNoZWNrIGluIHRoZSBwbGF5ZXIgY2hlY2tzIGZvciBpbmZpbml0ZSBkdXJhdGlvbikuXHJcbiAgICAgKi9cclxuICAgIHZhciBMaXZlU3RyZWFtRGV0ZWN0b3IgPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIExpdmVTdHJlYW1EZXRlY3RvcihwbGF5ZXIpIHtcclxuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICAgICAgdGhpcy5saXZlQ2hhbmdlZEV2ZW50ID0gbmV3IGV2ZW50ZGlzcGF0Y2hlcl8xLkV2ZW50RGlzcGF0Y2hlcigpO1xyXG4gICAgICAgICAgICB0aGlzLnBsYXllciA9IHBsYXllcjtcclxuICAgICAgICAgICAgdGhpcy5saXZlID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB2YXIgbGl2ZURldGVjdG9yID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuZGV0ZWN0KCk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vIEluaXRpYWxpemUgd2hlbiBwbGF5ZXIgaXMgcmVhZHlcclxuICAgICAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fUkVBRFksIGxpdmVEZXRlY3Rvcik7XHJcbiAgICAgICAgICAgIC8vIFJlLWV2YWx1YXRlIHdoZW4gcGxheWJhY2sgc3RhcnRzXHJcbiAgICAgICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1BMQVksIGxpdmVEZXRlY3Rvcik7XHJcbiAgICAgICAgICAgIC8vIEhMUyBsaXZlIGRldGVjdGlvbiB3b3JrYXJvdW5kIGZvciBBbmRyb2lkOlxyXG4gICAgICAgICAgICAvLyBBbHNvIHJlLWV2YWx1YXRlIGR1cmluZyBwbGF5YmFjaywgYmVjYXVzZSB0aGF0IGlzIHdoZW4gdGhlIGxpdmUgZmxhZyBtaWdodCBjaGFuZ2UuXHJcbiAgICAgICAgICAgIC8vIChEb2luZyBpdCBvbmx5IGluIEFuZHJvaWQgQ2hyb21lIHNhdmVzIHVubmVjZXNzYXJ5IG92ZXJoZWFkIG9uIG90aGVyIHBsYXR0Zm9ybXMpXHJcbiAgICAgICAgICAgIGlmIChicm93c2VydXRpbHNfMS5Ccm93c2VyVXRpbHMuaXNBbmRyb2lkICYmIGJyb3dzZXJ1dGlsc18xLkJyb3dzZXJVdGlscy5pc0Nocm9tZSkge1xyXG4gICAgICAgICAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fVElNRV9DSEFOR0VELCBsaXZlRGV0ZWN0b3IpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIExpdmVTdHJlYW1EZXRlY3Rvci5wcm90b3R5cGUuZGV0ZWN0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgbGl2ZU5vdyA9IHRoaXMucGxheWVyLmlzTGl2ZSgpO1xyXG4gICAgICAgICAgICAvLyBDb21wYXJlIGN1cnJlbnQgdG8gcHJldmlvdXMgbGl2ZSBzdGF0ZSBmbGFnIGFuZCBmaXJlIGV2ZW50IHdoZW4gaXQgY2hhbmdlcy4gU2luY2Ugd2UgaW5pdGlhbGl6ZSB0aGUgZmxhZ1xyXG4gICAgICAgICAgICAvLyB3aXRoIHVuZGVmaW5lZCwgdGhlcmUgaXMgYWx3YXlzIGF0IGxlYXN0IGFuIGluaXRpYWwgZXZlbnQgZmlyZWQgdGhhdCB0ZWxscyBsaXN0ZW5lcnMgdGhlIGxpdmUgc3RhdGUuXHJcbiAgICAgICAgICAgIGlmIChsaXZlTm93ICE9PSB0aGlzLmxpdmUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubGl2ZUNoYW5nZWRFdmVudC5kaXNwYXRjaCh0aGlzLnBsYXllciwgeyBsaXZlOiBsaXZlTm93IH0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5saXZlID0gbGl2ZU5vdztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KExpdmVTdHJlYW1EZXRlY3Rvci5wcm90b3R5cGUsIFwib25MaXZlQ2hhbmdlZFwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubGl2ZUNoYW5nZWRFdmVudC5nZXRFdmVudCgpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gTGl2ZVN0cmVhbURldGVjdG9yO1xyXG4gICAgfSgpKTtcclxuICAgIFBsYXllclV0aWxzLkxpdmVTdHJlYW1EZXRlY3RvciA9IExpdmVTdHJlYW1EZXRlY3RvcjtcclxufSkoUGxheWVyVXRpbHMgPSBleHBvcnRzLlBsYXllclV0aWxzIHx8IChleHBvcnRzLlBsYXllclV0aWxzID0ge30pKTtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9wbGF5ZXJ1dGlscy50c1xuLy8gbW9kdWxlIGlkID0gMTJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSBhbmd1bGFyO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIFwiYW5ndWxhclwiXG4vLyBtb2R1bGUgaWQgPSAxM1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGNvbnRhaW5lcl8xID0gcmVxdWlyZShcIi4vY29udGFpbmVyXCIpO1xyXG52YXIgZG9tXzEgPSByZXF1aXJlKFwiLi4vZG9tXCIpO1xyXG52YXIgdGltZW91dF8xID0gcmVxdWlyZShcIi4uL3RpbWVvdXRcIik7XHJcbnZhciBwbGF5ZXJ1dGlsc18xID0gcmVxdWlyZShcIi4uL3BsYXllcnV0aWxzXCIpO1xyXG4vKipcclxuICogVGhlIGJhc2UgY29udGFpbmVyIHRoYXQgY29udGFpbnMgYWxsIG9mIHRoZSBVSS4gVGhlIFVJQ29udGFpbmVyIGlzIHBhc3NlZCB0byB0aGUge0BsaW5rIFVJTWFuYWdlcn0gdG8gYnVpbGQgYW5kXHJcbiAqIHNldHVwIHRoZSBVSS5cclxuICovXHJcbnZhciBVSUNvbnRhaW5lciA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoVUlDb250YWluZXIsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBVSUNvbnRhaW5lcihjb25maWcpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBjb25maWcpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMuY29uZmlnID0gX3RoaXMubWVyZ2VDb25maWcoY29uZmlnLCB7XHJcbiAgICAgICAgICAgIGNzc0NsYXNzOiAndWktdWljb250YWluZXInLFxyXG4gICAgICAgICAgICBoaWRlRGVsYXk6IDUwMDAsXHJcbiAgICAgICAgfSwgX3RoaXMuY29uZmlnKTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBVSUNvbnRhaW5lci5wcm90b3R5cGUuY29uZmlndXJlID0gZnVuY3Rpb24gKHBsYXllciwgdWltYW5hZ2VyKSB7XHJcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5jb25maWd1cmUuY2FsbCh0aGlzLCBwbGF5ZXIsIHVpbWFuYWdlcik7XHJcbiAgICAgICAgdGhpcy5jb25maWd1cmVVSVNob3dIaWRlKHBsYXllciwgdWltYW5hZ2VyKTtcclxuICAgICAgICB0aGlzLmNvbmZpZ3VyZVBsYXllclN0YXRlcyhwbGF5ZXIsIHVpbWFuYWdlcik7XHJcbiAgICB9O1xyXG4gICAgVUlDb250YWluZXIucHJvdG90eXBlLmNvbmZpZ3VyZVVJU2hvd0hpZGUgPSBmdW5jdGlvbiAocGxheWVyLCB1aW1hbmFnZXIpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHZhciBjb250YWluZXIgPSB0aGlzLmdldERvbUVsZW1lbnQoKTtcclxuICAgICAgICB2YXIgY29uZmlnID0gdGhpcy5nZXRDb25maWcoKTtcclxuICAgICAgICBpZiAoY29uZmlnLmhpZGVEZWxheSA9PT0gLTEpIHtcclxuICAgICAgICAgICAgdWltYW5hZ2VyLm9uQ29uZmlndXJlZC5zdWJzY3JpYmUoZnVuY3Rpb24gKCkgeyByZXR1cm4gdWltYW5hZ2VyLm9uQ29udHJvbHNTaG93LmRpc3BhdGNoKF90aGlzKTsgfSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGlzVWlTaG93biA9IGZhbHNlO1xyXG4gICAgICAgIHZhciBpc1NlZWtpbmcgPSBmYWxzZTtcclxuICAgICAgICB2YXIgaXNGaXJzdFRvdWNoID0gdHJ1ZTtcclxuICAgICAgICB2YXIgc2hvd1VpID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoIWlzVWlTaG93bikge1xyXG4gICAgICAgICAgICAgICAgLy8gTGV0IHN1YnNjcmliZXJzIGtub3cgdGhhdCB0aGV5IHNob3VsZCByZXZlYWwgdGhlbXNlbHZlc1xyXG4gICAgICAgICAgICAgICAgdWltYW5hZ2VyLm9uQ29udHJvbHNTaG93LmRpc3BhdGNoKF90aGlzKTtcclxuICAgICAgICAgICAgICAgIGlzVWlTaG93biA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gRG9uJ3QgdHJpZ2dlciB0aW1lb3V0IHdoaWxlIHNlZWtpbmcgKGl0IHdpbGwgYmUgdHJpZ2dlcmVkIG9uY2UgdGhlIHNlZWsgaXMgZmluaXNoZWQpIG9yIGNhc3RpbmdcclxuICAgICAgICAgICAgaWYgKCFpc1NlZWtpbmcgJiYgIXBsYXllci5pc0Nhc3RpbmcoKSkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMudWlIaWRlVGltZW91dC5zdGFydCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICB2YXIgaGlkZVVpID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAvLyBIaWRlIHRoZSBVSSBvbmx5IGlmIGl0IGlzIHNob3duLCBhbmQgaWYgbm90IGNhc3RpbmdcclxuICAgICAgICAgICAgaWYgKGlzVWlTaG93biAmJiAhcGxheWVyLmlzQ2FzdGluZygpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBJc3N1ZSBhIHByZXZpZXcgZXZlbnQgdG8gY2hlY2sgaWYgd2UgYXJlIGdvb2QgdG8gaGlkZSB0aGUgY29udHJvbHNcclxuICAgICAgICAgICAgICAgIHZhciBwcmV2aWV3SGlkZUV2ZW50QXJncyA9IHt9O1xyXG4gICAgICAgICAgICAgICAgdWltYW5hZ2VyLm9uUHJldmlld0NvbnRyb2xzSGlkZS5kaXNwYXRjaChfdGhpcywgcHJldmlld0hpZGVFdmVudEFyZ3MpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFwcmV2aWV3SGlkZUV2ZW50QXJncy5jYW5jZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgcHJldmlldyB3YXNuJ3QgY2FuY2VsZWQsIGxldCBzdWJzY3JpYmVycyBrbm93IHRoYXQgdGhleSBzaG91bGQgbm93IGhpZGUgdGhlbXNlbHZlc1xyXG4gICAgICAgICAgICAgICAgICAgIHVpbWFuYWdlci5vbkNvbnRyb2xzSGlkZS5kaXNwYXRjaChfdGhpcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaXNVaVNob3duID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgaGlkZSBwcmV2aWV3IHdhcyBjYW5jZWxlZCwgY29udGludWUgdG8gc2hvdyBVSVxyXG4gICAgICAgICAgICAgICAgICAgIHNob3dVaSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICAvLyBUaW1lb3V0IHRvIGRlZmVyIFVJIGhpZGluZyBieSB0aGUgY29uZmlndXJlZCBkZWxheSB0aW1lXHJcbiAgICAgICAgdGhpcy51aUhpZGVUaW1lb3V0ID0gbmV3IHRpbWVvdXRfMS5UaW1lb3V0KGNvbmZpZy5oaWRlRGVsYXksIGhpZGVVaSk7XHJcbiAgICAgICAgLy8gT24gdG91Y2ggZGlzcGxheXMsIHRoZSBmaXJzdCB0b3VjaCByZXZlYWxzIHRoZSBVSVxyXG4gICAgICAgIGNvbnRhaW5lci5vbigndG91Y2hlbmQnLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICBpZiAoIWlzVWlTaG93bikge1xyXG4gICAgICAgICAgICAgICAgLy8gT25seSBpZiB0aGUgVUkgaXMgaGlkZGVuLCB3ZSBwcmV2ZW50IG90aGVyIGFjdGlvbnMgKGV4Y2VwdCBmb3IgdGhlIGZpcnN0IHRvdWNoKSBhbmQgcmV2ZWFsIHRoZSBVSSBpbnN0ZWFkLlxyXG4gICAgICAgICAgICAgICAgLy8gVGhlIGZpcnN0IHRvdWNoIGlzIG5vdCBwcmV2ZW50ZWQgdG8gbGV0IG90aGVyIGxpc3RlbmVycyByZWNlaXZlIHRoZSBldmVudCBhbmQgdHJpZ2dlciBhbiBpbml0aWFsIGFjdGlvbiwgZS5nLlxyXG4gICAgICAgICAgICAgICAgLy8gdGhlIGh1Z2UgcGxheWJhY2sgYnV0dG9uIGNhbiBkaXJlY3RseSBzdGFydCBwbGF5YmFjayBpbnN0ZWFkIG9mIHJlcXVpcmluZyBhIGRvdWJsZSB0YXAgd2hpY2ggMS4gcmV2ZWFsc1xyXG4gICAgICAgICAgICAgICAgLy8gdGhlIFVJIGFuZCAyLiBzdGFydHMgcGxheWJhY2suXHJcbiAgICAgICAgICAgICAgICBpZiAoaXNGaXJzdFRvdWNoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaXNGaXJzdFRvdWNoID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBzaG93VWkoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIFdoZW4gdGhlIG1vdXNlIGVudGVycywgd2Ugc2hvdyB0aGUgVUlcclxuICAgICAgICBjb250YWluZXIub24oJ21vdXNlZW50ZXInLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHNob3dVaSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIFdoZW4gdGhlIG1vdXNlIG1vdmVzIHdpdGhpbiwgd2Ugc2hvdyB0aGUgVUlcclxuICAgICAgICBjb250YWluZXIub24oJ21vdXNlbW92ZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgc2hvd1VpKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gV2hlbiB0aGUgbW91c2UgbGVhdmVzLCB3ZSBjYW4gcHJlcGFyZSB0byBoaWRlIHRoZSBVSSwgZXhjZXB0IGEgc2VlayBpcyBnb2luZyBvblxyXG4gICAgICAgIGNvbnRhaW5lci5vbignbW91c2VsZWF2ZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgLy8gV2hlbiBhIHNlZWsgaXMgZ29pbmcgb24sIHRoZSBzZWVrIHNjcnViIHBvaW50ZXIgbWF5IGV4aXQgdGhlIFVJIGFyZWEgd2hpbGUgc3RpbGwgc2Vla2luZywgYW5kIHdlIGRvIG5vdCBoaWRlXHJcbiAgICAgICAgICAgIC8vIHRoZSBVSSBpbiBzdWNoIGNhc2VzXHJcbiAgICAgICAgICAgIGlmICghaXNTZWVraW5nKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy51aUhpZGVUaW1lb3V0LnN0YXJ0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB1aW1hbmFnZXIub25TZWVrLnN1YnNjcmliZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIF90aGlzLnVpSGlkZVRpbWVvdXQuY2xlYXIoKTsgLy8gRG9uJ3QgaGlkZSBVSSB3aGlsZSBhIHNlZWsgaXMgaW4gcHJvZ3Jlc3NcclxuICAgICAgICAgICAgaXNTZWVraW5nID0gdHJ1ZTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB1aW1hbmFnZXIub25TZWVrZWQuc3Vic2NyaWJlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaXNTZWVraW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgIF90aGlzLnVpSGlkZVRpbWVvdXQuc3RhcnQoKTsgLy8gUmUtZW5hYmxlIFVJIGhpZGUgdGltZW91dCBhZnRlciBhIHNlZWtcclxuICAgICAgICB9KTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9DQVNUX1NUQVJURUQsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgc2hvd1VpKCk7IC8vIFNob3cgVUkgd2hlbiBhIENhc3Qgc2Vzc2lvbiBoYXMgc3RhcnRlZCAoVUkgd2lsbCB0aGVuIHN0YXkgcGVybWFuZW50bHkgb24gZHVyaW5nIHRoZSBzZXNzaW9uKVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIFVJQ29udGFpbmVyLnByb3RvdHlwZS5jb25maWd1cmVQbGF5ZXJTdGF0ZXMgPSBmdW5jdGlvbiAocGxheWVyLCB1aW1hbmFnZXIpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHZhciBjb250YWluZXIgPSB0aGlzLmdldERvbUVsZW1lbnQoKTtcclxuICAgICAgICAvLyBDb252ZXJ0IHBsYXllciBzdGF0ZXMgaW50byBDU1MgY2xhc3MgbmFtZXNcclxuICAgICAgICB2YXIgc3RhdGVDbGFzc05hbWVzID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgc3RhdGUgaW4gcGxheWVydXRpbHNfMS5QbGF5ZXJVdGlscy5QbGF5ZXJTdGF0ZSkge1xyXG4gICAgICAgICAgICBpZiAoaXNOYU4oTnVtYmVyKHN0YXRlKSkpIHtcclxuICAgICAgICAgICAgICAgIHZhciBlbnVtTmFtZSA9IHBsYXllcnV0aWxzXzEuUGxheWVyVXRpbHMuUGxheWVyU3RhdGVbcGxheWVydXRpbHNfMS5QbGF5ZXJVdGlscy5QbGF5ZXJTdGF0ZVtzdGF0ZV1dO1xyXG4gICAgICAgICAgICAgICAgc3RhdGVDbGFzc05hbWVzW3BsYXllcnV0aWxzXzEuUGxheWVyVXRpbHMuUGxheWVyU3RhdGVbc3RhdGVdXSA9XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmVmaXhDc3MoVUlDb250YWluZXIuU1RBVEVfUFJFRklYICsgZW51bU5hbWUudG9Mb3dlckNhc2UoKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHJlbW92ZVN0YXRlcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgY29udGFpbmVyLnJlbW92ZUNsYXNzKHN0YXRlQ2xhc3NOYW1lc1twbGF5ZXJ1dGlsc18xLlBsYXllclV0aWxzLlBsYXllclN0YXRlLklETEVdKTtcclxuICAgICAgICAgICAgY29udGFpbmVyLnJlbW92ZUNsYXNzKHN0YXRlQ2xhc3NOYW1lc1twbGF5ZXJ1dGlsc18xLlBsYXllclV0aWxzLlBsYXllclN0YXRlLlBSRVBBUkVEXSk7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5yZW1vdmVDbGFzcyhzdGF0ZUNsYXNzTmFtZXNbcGxheWVydXRpbHNfMS5QbGF5ZXJVdGlscy5QbGF5ZXJTdGF0ZS5QTEFZSU5HXSk7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5yZW1vdmVDbGFzcyhzdGF0ZUNsYXNzTmFtZXNbcGxheWVydXRpbHNfMS5QbGF5ZXJVdGlscy5QbGF5ZXJTdGF0ZS5QQVVTRURdKTtcclxuICAgICAgICAgICAgY29udGFpbmVyLnJlbW92ZUNsYXNzKHN0YXRlQ2xhc3NOYW1lc1twbGF5ZXJ1dGlsc18xLlBsYXllclV0aWxzLlBsYXllclN0YXRlLkZJTklTSEVEXSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9SRUFEWSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZW1vdmVTdGF0ZXMoKTtcclxuICAgICAgICAgICAgY29udGFpbmVyLmFkZENsYXNzKHN0YXRlQ2xhc3NOYW1lc1twbGF5ZXJ1dGlsc18xLlBsYXllclV0aWxzLlBsYXllclN0YXRlLlBSRVBBUkVEXSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fUExBWSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZW1vdmVTdGF0ZXMoKTtcclxuICAgICAgICAgICAgY29udGFpbmVyLmFkZENsYXNzKHN0YXRlQ2xhc3NOYW1lc1twbGF5ZXJ1dGlsc18xLlBsYXllclV0aWxzLlBsYXllclN0YXRlLlBMQVlJTkddKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9QQVVTRUQsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmVtb3ZlU3RhdGVzKCk7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5hZGRDbGFzcyhzdGF0ZUNsYXNzTmFtZXNbcGxheWVydXRpbHNfMS5QbGF5ZXJVdGlscy5QbGF5ZXJTdGF0ZS5QQVVTRURdKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9QTEFZQkFDS19GSU5JU0hFRCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZW1vdmVTdGF0ZXMoKTtcclxuICAgICAgICAgICAgY29udGFpbmVyLmFkZENsYXNzKHN0YXRlQ2xhc3NOYW1lc1twbGF5ZXJ1dGlsc18xLlBsYXllclV0aWxzLlBsYXllclN0YXRlLkZJTklTSEVEXSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fU09VUkNFX1VOTE9BREVELCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJlbW92ZVN0YXRlcygpO1xyXG4gICAgICAgICAgICBjb250YWluZXIuYWRkQ2xhc3Moc3RhdGVDbGFzc05hbWVzW3BsYXllcnV0aWxzXzEuUGxheWVyVXRpbHMuUGxheWVyU3RhdGUuSURMRV0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIEluaXQgaW4gY3VycmVudCBwbGF5ZXIgc3RhdGVcclxuICAgICAgICBjb250YWluZXIuYWRkQ2xhc3Moc3RhdGVDbGFzc05hbWVzW3BsYXllcnV0aWxzXzEuUGxheWVyVXRpbHMuZ2V0U3RhdGUocGxheWVyKV0pO1xyXG4gICAgICAgIC8vIEZ1bGxzY3JlZW4gbWFya2VyIGNsYXNzXHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fRlVMTFNDUkVFTl9FTlRFUiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBjb250YWluZXIuYWRkQ2xhc3MoX3RoaXMucHJlZml4Q3NzKFVJQ29udGFpbmVyLkZVTExTQ1JFRU4pKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9GVUxMU0NSRUVOX0VYSVQsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgY29udGFpbmVyLnJlbW92ZUNsYXNzKF90aGlzLnByZWZpeENzcyhVSUNvbnRhaW5lci5GVUxMU0NSRUVOKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gSW5pdCBmdWxsc2NyZWVuIHN0YXRlXHJcbiAgICAgICAgaWYgKHBsYXllci5pc0Z1bGxzY3JlZW4oKSkge1xyXG4gICAgICAgICAgICBjb250YWluZXIuYWRkQ2xhc3ModGhpcy5wcmVmaXhDc3MoVUlDb250YWluZXIuRlVMTFNDUkVFTikpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBCdWZmZXJpbmcgbWFya2VyIGNsYXNzXHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fU1RBTExfU1RBUlRFRCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBjb250YWluZXIuYWRkQ2xhc3MoX3RoaXMucHJlZml4Q3NzKFVJQ29udGFpbmVyLkJVRkZFUklORykpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1NUQUxMX0VOREVELCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5yZW1vdmVDbGFzcyhfdGhpcy5wcmVmaXhDc3MoVUlDb250YWluZXIuQlVGRkVSSU5HKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gSW5pdCBidWZmZXJpbmcgc3RhdGVcclxuICAgICAgICBpZiAocGxheWVyLmlzU3RhbGxlZCgpKSB7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5hZGRDbGFzcyh0aGlzLnByZWZpeENzcyhVSUNvbnRhaW5lci5CVUZGRVJJTkcpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gUmVtb3RlQ29udHJvbCBtYXJrZXIgY2xhc3NcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9DQVNUX1NUQVJURUQsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgY29udGFpbmVyLmFkZENsYXNzKF90aGlzLnByZWZpeENzcyhVSUNvbnRhaW5lci5SRU1PVEVfQ09OVFJPTCkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX0NBU1RfU1RPUFBFRCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBjb250YWluZXIucmVtb3ZlQ2xhc3MoX3RoaXMucHJlZml4Q3NzKFVJQ29udGFpbmVyLlJFTU9URV9DT05UUk9MKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gSW5pdCBSZW1vdGVDb250cm9sIHN0YXRlXHJcbiAgICAgICAgaWYgKHBsYXllci5pc0Nhc3RpbmcoKSkge1xyXG4gICAgICAgICAgICBjb250YWluZXIuYWRkQ2xhc3ModGhpcy5wcmVmaXhDc3MoVUlDb250YWluZXIuUkVNT1RFX0NPTlRST0wpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gQ29udHJvbHMgdmlzaWJpbGl0eSBtYXJrZXIgY2xhc3NcclxuICAgICAgICB1aW1hbmFnZXIub25Db250cm9sc1Nob3cuc3Vic2NyaWJlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgY29udGFpbmVyLnJlbW92ZUNsYXNzKF90aGlzLnByZWZpeENzcyhVSUNvbnRhaW5lci5DT05UUk9MU19ISURERU4pKTtcclxuICAgICAgICAgICAgY29udGFpbmVyLmFkZENsYXNzKF90aGlzLnByZWZpeENzcyhVSUNvbnRhaW5lci5DT05UUk9MU19TSE9XTikpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHVpbWFuYWdlci5vbkNvbnRyb2xzSGlkZS5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBjb250YWluZXIucmVtb3ZlQ2xhc3MoX3RoaXMucHJlZml4Q3NzKFVJQ29udGFpbmVyLkNPTlRST0xTX1NIT1dOKSk7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5hZGRDbGFzcyhfdGhpcy5wcmVmaXhDc3MoVUlDb250YWluZXIuQ09OVFJPTFNfSElEREVOKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gTGF5b3V0IHNpemUgY2xhc3Nlc1xyXG4gICAgICAgIHZhciB1cGRhdGVMYXlvdXRTaXplQ2xhc3NlcyA9IGZ1bmN0aW9uICh3aWR0aCwgaGVpZ2h0KSB7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5yZW1vdmVDbGFzcyhfdGhpcy5wcmVmaXhDc3MoJ2xheW91dC1tYXgtd2lkdGgtNDAwJykpO1xyXG4gICAgICAgICAgICBjb250YWluZXIucmVtb3ZlQ2xhc3MoX3RoaXMucHJlZml4Q3NzKCdsYXlvdXQtbWF4LXdpZHRoLTYwMCcpKTtcclxuICAgICAgICAgICAgY29udGFpbmVyLnJlbW92ZUNsYXNzKF90aGlzLnByZWZpeENzcygnbGF5b3V0LW1heC13aWR0aC04MDAnKSk7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5yZW1vdmVDbGFzcyhfdGhpcy5wcmVmaXhDc3MoJ2xheW91dC1tYXgtd2lkdGgtMTIwMCcpKTtcclxuICAgICAgICAgICAgaWYgKHdpZHRoIDw9IDQwMCkge1xyXG4gICAgICAgICAgICAgICAgY29udGFpbmVyLmFkZENsYXNzKF90aGlzLnByZWZpeENzcygnbGF5b3V0LW1heC13aWR0aC00MDAnKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAod2lkdGggPD0gNjAwKSB7XHJcbiAgICAgICAgICAgICAgICBjb250YWluZXIuYWRkQ2xhc3MoX3RoaXMucHJlZml4Q3NzKCdsYXlvdXQtbWF4LXdpZHRoLTYwMCcpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICh3aWR0aCA8PSA4MDApIHtcclxuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5hZGRDbGFzcyhfdGhpcy5wcmVmaXhDc3MoJ2xheW91dC1tYXgtd2lkdGgtODAwJykpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHdpZHRoIDw9IDEyMDApIHtcclxuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5hZGRDbGFzcyhfdGhpcy5wcmVmaXhDc3MoJ2xheW91dC1tYXgtd2lkdGgtMTIwMCcpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fUExBWUVSX1JFU0laRSwgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgLy8gQ29udmVydCBzdHJpbmdzICh3aXRoIFwicHhcIiBzdWZmaXgpIHRvIGludHNcclxuICAgICAgICAgICAgdmFyIHdpZHRoID0gTWF0aC5yb3VuZChOdW1iZXIoZS53aWR0aC5zdWJzdHJpbmcoMCwgZS53aWR0aC5sZW5ndGggLSAyKSkpO1xyXG4gICAgICAgICAgICB2YXIgaGVpZ2h0ID0gTWF0aC5yb3VuZChOdW1iZXIoZS5oZWlnaHQuc3Vic3RyaW5nKDAsIGUuaGVpZ2h0Lmxlbmd0aCAtIDIpKSk7XHJcbiAgICAgICAgICAgIHVwZGF0ZUxheW91dFNpemVDbGFzc2VzKHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIEluaXQgbGF5b3V0IHN0YXRlXHJcbiAgICAgICAgdXBkYXRlTGF5b3V0U2l6ZUNsYXNzZXMobmV3IGRvbV8xLkRPTShwbGF5ZXIuZ2V0RmlndXJlKCkpLndpZHRoKCksIG5ldyBkb21fMS5ET00ocGxheWVyLmdldEZpZ3VyZSgpKS5oZWlnaHQoKSk7XHJcbiAgICB9O1xyXG4gICAgVUlDb250YWluZXIucHJvdG90eXBlLnJlbGVhc2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5yZWxlYXNlLmNhbGwodGhpcyk7XHJcbiAgICAgICAgdGhpcy51aUhpZGVUaW1lb3V0LmNsZWFyKCk7XHJcbiAgICB9O1xyXG4gICAgVUlDb250YWluZXIucHJvdG90eXBlLnRvRG9tRWxlbWVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgY29udGFpbmVyID0gX3N1cGVyLnByb3RvdHlwZS50b0RvbUVsZW1lbnQuY2FsbCh0aGlzKTtcclxuICAgICAgICAvLyBEZXRlY3QgZmxleGJveCBzdXBwb3J0IChub3Qgc3VwcG9ydGVkIGluIElFOSlcclxuICAgICAgICBpZiAoZG9jdW1lbnQgJiYgdHlwZW9mIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKS5zdHlsZS5mbGV4ICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICBjb250YWluZXIuYWRkQ2xhc3ModGhpcy5wcmVmaXhDc3MoJ2ZsZXhib3gnKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjb250YWluZXIuYWRkQ2xhc3ModGhpcy5wcmVmaXhDc3MoJ25vLWZsZXhib3gnKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjb250YWluZXI7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFVJQ29udGFpbmVyO1xyXG59KGNvbnRhaW5lcl8xLkNvbnRhaW5lcikpO1xyXG5VSUNvbnRhaW5lci5TVEFURV9QUkVGSVggPSAncGxheWVyLXN0YXRlLSc7XHJcblVJQ29udGFpbmVyLkZVTExTQ1JFRU4gPSAnZnVsbHNjcmVlbic7XHJcblVJQ29udGFpbmVyLkJVRkZFUklORyA9ICdidWZmZXJpbmcnO1xyXG5VSUNvbnRhaW5lci5SRU1PVEVfQ09OVFJPTCA9ICdyZW1vdGUtY29udHJvbCc7XHJcblVJQ29udGFpbmVyLkNPTlRST0xTX1NIT1dOID0gJ2NvbnRyb2xzLXNob3duJztcclxuVUlDb250YWluZXIuQ09OVFJPTFNfSElEREVOID0gJ2NvbnRyb2xzLWhpZGRlbic7XHJcbmV4cG9ydHMuVUlDb250YWluZXIgPSBVSUNvbnRhaW5lcjtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3VpY29udGFpbmVyLnRzXG4vLyBtb2R1bGUgaWQgPSAxNFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgQnJvd3NlclV0aWxzO1xyXG4oZnVuY3Rpb24gKEJyb3dzZXJVdGlscykge1xyXG4gICAgLy8gaXNNb2JpbGUgb25seSBuZWVkcyB0byBiZSBldmFsdWF0ZWQgb25jZSAoaXQgY2Fubm90IGNoYW5nZSBkdXJpbmcgYSBicm93c2VyIHNlc3Npb24pXHJcbiAgICAvLyBNb2JpbGUgZGV0ZWN0aW9uIGFjY29yZGluZyB0byBNb3ppbGxhIHJlY29tbWVuZGF0aW9uOiBcIkluIHN1bW1hcnksIHdlIHJlY29tbWVuZCBsb29raW5nIGZvciB0aGUgc3RyaW5nIOKAnE1vYmnigJ1cclxuICAgIC8vIGFueXdoZXJlIGluIHRoZSBVc2VyIEFnZW50IHRvIGRldGVjdCBhIG1vYmlsZSBkZXZpY2UuXCJcclxuICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0hUVFAvQnJvd3Nlcl9kZXRlY3Rpb25fdXNpbmdfdGhlX3VzZXJfYWdlbnRcclxuICAgIEJyb3dzZXJVdGlscy5pc01vYmlsZSA9IG5hdmlnYXRvciAmJiBuYXZpZ2F0b3IudXNlckFnZW50ICYmIC9Nb2JpLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xyXG4gICAgQnJvd3NlclV0aWxzLmlzQ2hyb21lID0gbmF2aWdhdG9yICYmIG5hdmlnYXRvci51c2VyQWdlbnQgJiYgL0Nocm9tZS8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcclxuICAgIEJyb3dzZXJVdGlscy5pc0FuZHJvaWQgPSBuYXZpZ2F0b3IgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudCAmJiAvQW5kcm9pZC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcclxufSkoQnJvd3NlclV0aWxzID0gZXhwb3J0cy5Ccm93c2VyVXRpbHMgfHwgKGV4cG9ydHMuQnJvd3NlclV0aWxzID0ge30pKTtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9icm93c2VydXRpbHMudHNcbi8vIG1vZHVsZSBpZCA9IDE1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgdG9nZ2xlYnV0dG9uXzEgPSByZXF1aXJlKFwiLi90b2dnbGVidXR0b25cIik7XHJcbnZhciBwbGF5ZXJ1dGlsc18xID0gcmVxdWlyZShcIi4uL3BsYXllcnV0aWxzXCIpO1xyXG4vKipcclxuICogQSBidXR0b24gdGhhdCB0b2dnbGVzIGJldHdlZW4gcGxheWJhY2sgYW5kIHBhdXNlLlxyXG4gKi9cclxudmFyIFBsYXliYWNrVG9nZ2xlQnV0dG9uID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhQbGF5YmFja1RvZ2dsZUJ1dHRvbiwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIFBsYXliYWNrVG9nZ2xlQnV0dG9uKGNvbmZpZykge1xyXG4gICAgICAgIGlmIChjb25maWcgPT09IHZvaWQgMCkgeyBjb25maWcgPSB7fTsgfVxyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGNvbmZpZykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5jb25maWcgPSBfdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIHtcclxuICAgICAgICAgICAgY3NzQ2xhc3M6ICd1aS1wbGF5YmFja3RvZ2dsZWJ1dHRvbicsXHJcbiAgICAgICAgICAgIHRleHQ6ICdQbGF5L1BhdXNlJyxcclxuICAgICAgICB9LCBfdGhpcy5jb25maWcpO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIFBsYXliYWNrVG9nZ2xlQnV0dG9uLnByb3RvdHlwZS5jb25maWd1cmUgPSBmdW5jdGlvbiAocGxheWVyLCB1aW1hbmFnZXIsIGhhbmRsZUNsaWNrRXZlbnQpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIGlmIChoYW5kbGVDbGlja0V2ZW50ID09PSB2b2lkIDApIHsgaGFuZGxlQ2xpY2tFdmVudCA9IHRydWU7IH1cclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmNvbmZpZ3VyZS5jYWxsKHRoaXMsIHBsYXllciwgdWltYW5hZ2VyKTtcclxuICAgICAgICB2YXIgaXNTZWVraW5nID0gZmFsc2U7XHJcbiAgICAgICAgLy8gSGFuZGxlciB0byB1cGRhdGUgYnV0dG9uIHN0YXRlIGJhc2VkIG9uIHBsYXllciBzdGF0ZVxyXG4gICAgICAgIHZhciBwbGF5YmFja1N0YXRlSGFuZGxlciA9IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAvLyBJZiB0aGUgVUkgaXMgY3VycmVudGx5IHNlZWtpbmcsIHBsYXliYWNrIGlzIHRlbXBvcmFyaWx5IHN0b3BwZWQgYnV0IHRoZSBidXR0b25zIHNob3VsZFxyXG4gICAgICAgICAgICAvLyBub3QgcmVmbGVjdCB0aGF0IGFuZCBzdGF5IGFzLWlzIChlLmcgaW5kaWNhdGUgcGxheWJhY2sgd2hpbGUgc2Vla2luZykuXHJcbiAgICAgICAgICAgIGlmIChpc1NlZWtpbmcpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAocGxheWVyLmlzUGxheWluZygpKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5vbigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMub2ZmKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIC8vIENhbGwgaGFuZGxlciB1cG9uIHRoZXNlIGV2ZW50c1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1BMQVksIHBsYXliYWNrU3RhdGVIYW5kbGVyKTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9QQVVTRUQsIHBsYXliYWNrU3RhdGVIYW5kbGVyKTtcclxuICAgICAgICBpZiAocGxheWVyLkVWRU5ULk9OX1BMQVlJTkcpIHtcclxuICAgICAgICAgICAgLy8gU2luY2UgcGxheWVyIDcuMy4gTm90IHJlYWxseSBuZWNlc3NhcnkgYnV0IGp1c3QgaW4gY2FzZSB3ZSBldmVyIG1pc3MgdGhlIE9OX1BMQVkgZXZlbnQuXHJcbiAgICAgICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1BMQVlJTkcsIHBsYXliYWNrU3RhdGVIYW5kbGVyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gYWZ0ZXIgdW5sb2FkaW5nICsgbG9hZGluZyBhIG5ldyBzb3VyY2UsIHRoZSBwbGF5ZXIgbWlnaHQgYmUgaW4gYSBkaWZmZXJlbnQgcGxheWluZyBzdGF0ZSAoZnJvbSBwbGF5aW5nIGludG8gc3RvcHBlZClcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9TT1VSQ0VfTE9BREVELCBwbGF5YmFja1N0YXRlSGFuZGxlcik7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fU09VUkNFX1VOTE9BREVELCBwbGF5YmFja1N0YXRlSGFuZGxlcik7XHJcbiAgICAgICAgLy8gd2hlbiBwbGF5YmFjayBmaW5pc2hlcywgcGxheWVyIHR1cm5zIHRvIHBhdXNlZCBtb2RlXHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fUExBWUJBQ0tfRklOSVNIRUQsIHBsYXliYWNrU3RhdGVIYW5kbGVyKTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9DQVNUX1NUQVJURUQsIHBsYXliYWNrU3RhdGVIYW5kbGVyKTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9DQVNUX1BMQVlJTkcsIHBsYXliYWNrU3RhdGVIYW5kbGVyKTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9DQVNUX1BBVVNFRCwgcGxheWJhY2tTdGF0ZUhhbmRsZXIpO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX0NBU1RfUExBWUJBQ0tfRklOSVNIRUQsIHBsYXliYWNrU3RhdGVIYW5kbGVyKTtcclxuICAgICAgICAvLyBXaGVuIGEgcGxheWJhY2sgYXR0ZW1wdCBpcyByZWplY3RlZCB3aXRoIHdhcm5pbmcgNTAwOCwgd2Ugc3dpdGNoIHRoZSBidXR0b24gc3RhdGUgYmFjayB0byBvZmZcclxuICAgICAgICAvLyBUaGlzIGlzIHJlcXVpcmVkIGZvciBibG9ja2VkIGF1dG9wbGF5LCBiZWNhdXNlIHRoZXJlIGlzIG5vIE9OX1BBVVNFRCBldmVudCBpbiBzdWNoIGNhc2VcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9XQVJOSU5HLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgaWYgKGV2ZW50LmNvZGUgPT09IDUwMDgpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLm9mZigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gRGV0ZWN0IGFic2VuY2Ugb2YgdGltZXNoaWZ0aW5nIG9uIGxpdmUgc3RyZWFtcyBhbmQgYWRkIHRhZ2dpbmcgY2xhc3MgdG8gY29udmVydCBidXR0b24gaWNvbnMgdG8gcGxheS9zdG9wXHJcbiAgICAgICAgdmFyIHRpbWVTaGlmdERldGVjdG9yID0gbmV3IHBsYXllcnV0aWxzXzEuUGxheWVyVXRpbHMuVGltZVNoaWZ0QXZhaWxhYmlsaXR5RGV0ZWN0b3IocGxheWVyKTtcclxuICAgICAgICB0aW1lU2hpZnREZXRlY3Rvci5vblRpbWVTaGlmdEF2YWlsYWJpbGl0eUNoYW5nZWQuc3Vic2NyaWJlKGZ1bmN0aW9uIChzZW5kZXIsIGFyZ3MpIHtcclxuICAgICAgICAgICAgaWYgKCFhcmdzLnRpbWVTaGlmdEF2YWlsYWJsZSkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuZ2V0RG9tRWxlbWVudCgpLmFkZENsYXNzKF90aGlzLnByZWZpeENzcyhQbGF5YmFja1RvZ2dsZUJ1dHRvbi5DTEFTU19TVE9QVE9HR0xFKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5nZXREb21FbGVtZW50KCkucmVtb3ZlQ2xhc3MoX3RoaXMucHJlZml4Q3NzKFBsYXliYWNrVG9nZ2xlQnV0dG9uLkNMQVNTX1NUT1BUT0dHTEUpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRpbWVTaGlmdERldGVjdG9yLmRldGVjdCgpOyAvLyBJbml0aWFsIGRldGVjdGlvblxyXG4gICAgICAgIGlmIChoYW5kbGVDbGlja0V2ZW50KSB7XHJcbiAgICAgICAgICAgIC8vIENvbnRyb2wgcGxheWVyIGJ5IGJ1dHRvbiBldmVudHNcclxuICAgICAgICAgICAgLy8gV2hlbiBhIGJ1dHRvbiBldmVudCB0cmlnZ2VycyBhIHBsYXllciBBUEkgY2FsbCwgZXZlbnRzIGFyZSBmaXJlZCB3aGljaCBpbiB0dXJuIGNhbGwgdGhlIGV2ZW50IGhhbmRsZXJcclxuICAgICAgICAgICAgLy8gYWJvdmUgdGhhdCB1cGRhdGVkIHRoZSBidXR0b24gc3RhdGUuXHJcbiAgICAgICAgICAgIHRoaXMub25DbGljay5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHBsYXllci5pc1BsYXlpbmcoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBsYXllci5wYXVzZSgndWknKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHBsYXllci5wbGF5KCd1aScpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gVHJhY2sgVUkgc2Vla2luZyBzdGF0dXNcclxuICAgICAgICB1aW1hbmFnZXIub25TZWVrLnN1YnNjcmliZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlzU2Vla2luZyA9IHRydWU7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdWltYW5hZ2VyLm9uU2Vla2VkLnN1YnNjcmliZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlzU2Vla2luZyA9IGZhbHNlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIFN0YXJ0dXAgaW5pdFxyXG4gICAgICAgIHBsYXliYWNrU3RhdGVIYW5kbGVyKG51bGwpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBQbGF5YmFja1RvZ2dsZUJ1dHRvbjtcclxufSh0b2dnbGVidXR0b25fMS5Ub2dnbGVCdXR0b24pKTtcclxuUGxheWJhY2tUb2dnbGVCdXR0b24uQ0xBU1NfU1RPUFRPR0dMRSA9ICdzdG9wdG9nZ2xlJztcclxuZXhwb3J0cy5QbGF5YmFja1RvZ2dsZUJ1dHRvbiA9IFBsYXliYWNrVG9nZ2xlQnV0dG9uO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvcGxheWJhY2t0b2dnbGVidXR0b24udHNcbi8vIG1vZHVsZSBpZCA9IDE2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgdG9nZ2xlYnV0dG9uXzEgPSByZXF1aXJlKFwiLi90b2dnbGVidXR0b25cIik7XHJcbi8qKlxyXG4gKiBBIGJ1dHRvbiB0aGF0IHRvZ2dsZXMgYXVkaW8gbXV0aW5nLlxyXG4gKi9cclxudmFyIFZvbHVtZVRvZ2dsZUJ1dHRvbiA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoVm9sdW1lVG9nZ2xlQnV0dG9uLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gVm9sdW1lVG9nZ2xlQnV0dG9uKGNvbmZpZykge1xyXG4gICAgICAgIGlmIChjb25maWcgPT09IHZvaWQgMCkgeyBjb25maWcgPSB7fTsgfVxyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGNvbmZpZykgfHwgdGhpcztcclxuICAgICAgICB2YXIgZGVmYXVsdENvbmZpZyA9IHtcclxuICAgICAgICAgICAgY3NzQ2xhc3M6ICd1aS12b2x1bWV0b2dnbGVidXR0b24nLFxyXG4gICAgICAgICAgICB0ZXh0OiAnVm9sdW1lL011dGUnLFxyXG4gICAgICAgICAgICBvbkNsYXNzOiAnbXV0ZWQnLFxyXG4gICAgICAgICAgICBvZmZDbGFzczogJ3VubXV0ZWQnLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgX3RoaXMuY29uZmlnID0gX3RoaXMubWVyZ2VDb25maWcoY29uZmlnLCBkZWZhdWx0Q29uZmlnLCBfdGhpcy5jb25maWcpO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIFZvbHVtZVRvZ2dsZUJ1dHRvbi5wcm90b3R5cGUuY29uZmlndXJlID0gZnVuY3Rpb24gKHBsYXllciwgdWltYW5hZ2VyKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmNvbmZpZ3VyZS5jYWxsKHRoaXMsIHBsYXllciwgdWltYW5hZ2VyKTtcclxuICAgICAgICB2YXIgbXV0ZVN0YXRlSGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKHBsYXllci5pc011dGVkKCkpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLm9uKCk7XHJcbiAgICAgICAgICAgICAgICAvLyBXaGVuIHRoZSB2b2x1bWUgaXMgdW5tdXRlZCBhbmQgdGhlIHZvbHVtZSBsZXZlbCBpcyB2ZWVlZXJ5IGxvdywgd2UgaW5jcmVhc2UgaXQgdG8gMTAlLiBUaGlzIGVzcGVjaWFsbHkgaGVscHNcclxuICAgICAgICAgICAgICAgIC8vIGluIHRoZSBjYXNlIHdoZW4gdGhlIHZvbHVtZSBpcyBmaXJzdCB0dXJuZWQgZG93biB0byAwIGFuZCB0aGVuIHRoZSBwbGF5ZXIgaXMgbXV0ZWQ7IHdoZW4gdGhlIHBsYXllciBnZXRzXHJcbiAgICAgICAgICAgICAgICAvLyB1bm11dGVkIGl0IHdvdWxkIHN3aXRjaCB0byB2b2x1bWUgbGV2ZWwgMCB3aGljaCB3b3VsZCBzZWVtIGxpa2UgdW5tdXRpbmcgZGlkIG5vdCB3b3JrLCBhbmQgaW5jcmVhc2luZyB0aGVcclxuICAgICAgICAgICAgICAgIC8vIGxldmVsIGEgYml0IGhlbHBzIHRvIG92ZXJjb21lIHRoaXMgaXNzdWUuXHJcbiAgICAgICAgICAgICAgICBpZiAocGxheWVyLmdldFZvbHVtZSgpIDwgMTApIHtcclxuICAgICAgICAgICAgICAgICAgICBwbGF5ZXIuc2V0Vm9sdW1lKDEwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLm9mZigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICB2YXIgdm9sdW1lTGV2ZWxIYW5kbGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgdm9sdW1lTGV2ZWxUZW5zID0gTWF0aC5jZWlsKHBsYXllci5nZXRWb2x1bWUoKSAvIDEwKTtcclxuICAgICAgICAgICAgX3RoaXMuZ2V0RG9tRWxlbWVudCgpLmRhdGEoX3RoaXMucHJlZml4Q3NzKCd2b2x1bWUtbGV2ZWwtdGVucycpLCBTdHJpbmcodm9sdW1lTGV2ZWxUZW5zKSk7XHJcbiAgICAgICAgICAgIC8vIFdoZW4gdGhlIHZvbHVtZSBpcyB0dXJuZWQgZG93biB0byB6ZXJvLCBzd2l0Y2ggaW50byB0aGUgbXV0ZSBzdGF0ZSBvZiB0aGUgYnV0dG9uLiBUaGlzIGF2b2lkcyB0aGUgdXNhYmlsaXR5XHJcbiAgICAgICAgICAgIC8vIGlzc3VlIHdoZXJlIHRoZSB2b2x1bWUgaXMgdHVybmVkIGRvd24gdG8gemVybywgdGhlIGJ1dHRvbiBzaG93cyB0aGUgbXV0ZWQgaWNvbiBidXQgaXMgbm90IHJlYWxseSB1bm11dGVkLCBhbmRcclxuICAgICAgICAgICAgLy8gdGhlIG5leHQgYnV0dG9uIHByZXNzIHdvdWxkIHN3aXRjaCBpdCBpbnRvIHRoZSBtdXRlIHN0YXRlLCB2aXN1YWxseSBzdGF5aW5nIHRoZSBzYW1lIHdoaWNoIHdvdWxkIHNlZW0gbGlrZVxyXG4gICAgICAgICAgICAvLyBhbiBleHBlY3RlZCB1bm11dGUgZGlkIG5vdCB3b3JrLlxyXG4gICAgICAgICAgICBpZiAodm9sdW1lTGV2ZWxUZW5zID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5vZmYoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fTVVURUQsIG11dGVTdGF0ZUhhbmRsZXIpO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1VOTVVURUQsIG11dGVTdGF0ZUhhbmRsZXIpO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1ZPTFVNRV9DSEFOR0VELCB2b2x1bWVMZXZlbEhhbmRsZXIpO1xyXG4gICAgICAgIHRoaXMub25DbGljay5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAocGxheWVyLmlzTXV0ZWQoKSkge1xyXG4gICAgICAgICAgICAgICAgcGxheWVyLnVubXV0ZSgndWktdm9sdW1ldG9nZ2xlYnV0dG9uJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXIubXV0ZSgndWktdm9sdW1ldG9nZ2xlYnV0dG9uJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBTdGFydHVwIGluaXRcclxuICAgICAgICBtdXRlU3RhdGVIYW5kbGVyKCk7XHJcbiAgICAgICAgdm9sdW1lTGV2ZWxIYW5kbGVyKCk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFZvbHVtZVRvZ2dsZUJ1dHRvbjtcclxufSh0b2dnbGVidXR0b25fMS5Ub2dnbGVCdXR0b24pKTtcclxuZXhwb3J0cy5Wb2x1bWVUb2dnbGVCdXR0b24gPSBWb2x1bWVUb2dnbGVCdXR0b247XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy92b2x1bWV0b2dnbGVidXR0b24udHNcbi8vIG1vZHVsZSBpZCA9IDE3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgY29tcG9uZW50XzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRcIik7XHJcbnZhciBkb21fMSA9IHJlcXVpcmUoXCIuLi9kb21cIik7XHJcbnZhciBldmVudGRpc3BhdGNoZXJfMSA9IHJlcXVpcmUoXCIuLi9ldmVudGRpc3BhdGNoZXJcIik7XHJcbnZhciB0aW1lb3V0XzEgPSByZXF1aXJlKFwiLi4vdGltZW91dFwiKTtcclxudmFyIHBsYXllcnV0aWxzXzEgPSByZXF1aXJlKFwiLi4vcGxheWVydXRpbHNcIik7XHJcbi8qKlxyXG4gKiBBIHNlZWsgYmFyIHRvIHNlZWsgd2l0aGluIHRoZSBwbGF5ZXIncyBtZWRpYS4gSXQgZGlzcGxheXMgdGhlIGN1cnJlbnQgcGxheWJhY2sgcG9zaXRpb24sIGFtb3VudCBvZiBidWZmZWQgZGF0YSwgc2Vla1xyXG4gKiB0YXJnZXQsIGFuZCBrZWVwcyBzdGF0dXMgYWJvdXQgYW4gb25nb2luZyBzZWVrLlxyXG4gKlxyXG4gKiBUaGUgc2VlayBiYXIgZGlzcGxheXMgZGlmZmVyZW50ICdiYXJzJzpcclxuICogIC0gdGhlIHBsYXliYWNrIHBvc2l0aW9uLCBpLmUuIHRoZSBwb3NpdGlvbiBpbiB0aGUgbWVkaWEgYXQgd2hpY2ggdGhlIHBsYXllciBjdXJyZW50IHBsYXliYWNrIHBvaW50ZXIgaXMgcG9zaXRpb25lZFxyXG4gKiAgLSB0aGUgYnVmZmVyIHBvc2l0aW9uLCB3aGljaCB1c3VhbGx5IGlzIHRoZSBwbGF5YmFjayBwb3NpdGlvbiBwbHVzIHRoZSB0aW1lIHNwYW4gdGhhdCBpcyBhbHJlYWR5IGJ1ZmZlcmVkIGFoZWFkXHJcbiAqICAtIHRoZSBzZWVrIHBvc2l0aW9uLCB1c2VkIHRvIHByZXZpZXcgdG8gd2hlcmUgaW4gdGhlIHRpbWVsaW5lIGEgc2VlayB3aWxsIGp1bXAgdG9cclxuICovXHJcbnZhciBTZWVrQmFyID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhTZWVrQmFyLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gU2Vla0Jhcihjb25maWcpIHtcclxuICAgICAgICBpZiAoY29uZmlnID09PSB2b2lkIDApIHsgY29uZmlnID0ge307IH1cclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBjb25maWcpIHx8IHRoaXM7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQnVmZmVyIG9mIHRoZSB0aGUgY3VycmVudCBwbGF5YmFjayBwb3NpdGlvbi4gVGhlIHBvc2l0aW9uIG11c3QgYmUgYnVmZmVyZWQgaW4gY2FzZSB0aGUgZWxlbWVudFxyXG4gICAgICAgICAqIG5lZWRzIHRvIGJlIHJlZnJlc2hlZCB3aXRoIHtAbGluayAjcmVmcmVzaFBsYXliYWNrUG9zaXRpb259LlxyXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgX3RoaXMucGxheWJhY2tQb3NpdGlvblBlcmNlbnRhZ2UgPSAwO1xyXG4gICAgICAgIC8vIGh0dHBzOi8vaGFja3MubW96aWxsYS5vcmcvMjAxMy8wNC9kZXRlY3RpbmctdG91Y2gtaXRzLXRoZS13aHktbm90LXRoZS1ob3cvXHJcbiAgICAgICAgX3RoaXMudG91Y2hTdXBwb3J0ZWQgPSAoJ29udG91Y2hzdGFydCcgaW4gd2luZG93KTtcclxuICAgICAgICBfdGhpcy5zZWVrQmFyRXZlbnRzID0ge1xyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICogRmlyZWQgd2hlbiBhIHNjcnViYmluZyBzZWVrIG9wZXJhdGlvbiBpcyBzdGFydGVkLlxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgb25TZWVrOiBuZXcgZXZlbnRkaXNwYXRjaGVyXzEuRXZlbnREaXNwYXRjaGVyKCksXHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBGaXJlZCBkdXJpbmcgYSBzY3J1YmJpbmcgc2VlayB0byBpbmRpY2F0ZSB0aGF0IHRoZSBzZWVrIHByZXZpZXcgKGkuZS4gdGhlIHZpZGVvIGZyYW1lKSBzaG91bGQgYmUgdXBkYXRlZC5cclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIG9uU2Vla1ByZXZpZXc6IG5ldyBldmVudGRpc3BhdGNoZXJfMS5FdmVudERpc3BhdGNoZXIoKSxcclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIEZpcmVkIHdoZW4gYSBzY3J1YmJpbmcgc2VlayBoYXMgZmluaXNoZWQgb3Igd2hlbiBhIGRpcmVjdCBzZWVrIGlzIGlzc3VlZC5cclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIG9uU2Vla2VkOiBuZXcgZXZlbnRkaXNwYXRjaGVyXzEuRXZlbnREaXNwYXRjaGVyKCksXHJcbiAgICAgICAgfTtcclxuICAgICAgICBfdGhpcy5jb25maWcgPSBfdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIHtcclxuICAgICAgICAgICAgY3NzQ2xhc3M6ICd1aS1zZWVrYmFyJyxcclxuICAgICAgICAgICAgdmVydGljYWw6IGZhbHNlLFxyXG4gICAgICAgICAgICBzbW9vdGhQbGF5YmFja1Bvc2l0aW9uVXBkYXRlSW50ZXJ2YWxNczogNTAsXHJcbiAgICAgICAgfSwgX3RoaXMuY29uZmlnKTtcclxuICAgICAgICBfdGhpcy5sYWJlbCA9IF90aGlzLmNvbmZpZy5sYWJlbDtcclxuICAgICAgICBfdGhpcy50aW1lbGluZU1hcmtlcnMgPSBbXTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBTZWVrQmFyLnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuaW5pdGlhbGl6ZS5jYWxsKHRoaXMpO1xyXG4gICAgICAgIGlmICh0aGlzLmhhc0xhYmVsKCkpIHtcclxuICAgICAgICAgICAgdGhpcy5nZXRMYWJlbCgpLmluaXRpYWxpemUoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgU2Vla0Jhci5wcm90b3R5cGUuY29uZmlndXJlID0gZnVuY3Rpb24gKHBsYXllciwgdWltYW5hZ2VyLCBjb25maWd1cmVTZWVrKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBpZiAoY29uZmlndXJlU2VlayA9PT0gdm9pZCAwKSB7IGNvbmZpZ3VyZVNlZWsgPSB0cnVlOyB9XHJcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5jb25maWd1cmUuY2FsbCh0aGlzLCBwbGF5ZXIsIHVpbWFuYWdlcik7XHJcbiAgICAgICAgLy8gQXBwbHkgc2NhbGluZyB0cmFuc2Zvcm0gdG8gdGhlIGJhY2tkcm9wIGJhciB0byBoYXZlIGFsbCBiYXJzIHJlbmRlcmVkIHNpbWlsYXJseVxyXG4gICAgICAgIC8vICh0aGUgY2FsbCBtdXN0IGJlIHVwIGhlcmUgdG8gYmUgZXhlY3V0ZWQgZm9yIHRoZSB2b2x1bWUgc2xpZGVyIGFzIHdlbGwpXHJcbiAgICAgICAgdGhpcy5zZXRQb3NpdGlvbih0aGlzLnNlZWtCYXJCYWNrZHJvcCwgMTAwKTtcclxuICAgICAgICBpZiAoIWNvbmZpZ3VyZVNlZWspIHtcclxuICAgICAgICAgICAgLy8gVGhlIGNvbmZpZ3VyZVNlZWsgZmxhZyBjYW4gYmUgdXNlZCBieSBzdWJjbGFzc2VzIHRvIGRpc2FibGUgY29uZmlndXJhdGlvbiBhcyBzZWVrIGJhci4gRS5nLiB0aGUgdm9sdW1lXHJcbiAgICAgICAgICAgIC8vIHNsaWRlciBpcyByZXVzaW5nIHRoaXMgY29tcG9uZW50IGJ1dCBhZGRzIGl0cyBvd24gZnVuY3Rpb25hbGl0eSwgYW5kIGRvZXMgbm90IG5lZWQgdGhlIHNlZWsgZnVuY3Rpb25hbGl0eS5cclxuICAgICAgICAgICAgLy8gVGhpcyBpcyBhY3R1YWxseSBhIGhhY2ssIHRoZSBwcm9wZXIgc29sdXRpb24gd291bGQgYmUgZm9yIGJvdGggc2VlayBiYXIgYW5kIHZvbHVtZSBzbGlkZXJzIHRvIGV4dGVuZFxyXG4gICAgICAgICAgICAvLyBhIGNvbW1vbiBiYXNlIHNsaWRlciBjb21wb25lbnQgYW5kIGltcGxlbWVudCB0aGVpciBmdW5jdGlvbmFsaXR5IHRoZXJlLlxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBpc1BsYXlpbmcgPSBmYWxzZTtcclxuICAgICAgICB2YXIgaXNTZWVraW5nID0gZmFsc2U7XHJcbiAgICAgICAgLy8gVXBkYXRlIHBsYXliYWNrIGFuZCBidWZmZXIgcG9zaXRpb25zXHJcbiAgICAgICAgdmFyIHBsYXliYWNrUG9zaXRpb25IYW5kbGVyID0gZnVuY3Rpb24gKGV2ZW50LCBmb3JjZVVwZGF0ZSkge1xyXG4gICAgICAgICAgICBpZiAoZXZlbnQgPT09IHZvaWQgMCkgeyBldmVudCA9IG51bGw7IH1cclxuICAgICAgICAgICAgaWYgKGZvcmNlVXBkYXRlID09PSB2b2lkIDApIHsgZm9yY2VVcGRhdGUgPSBmYWxzZTsgfVxyXG4gICAgICAgICAgICBpZiAoaXNTZWVraW5nKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBXZSBjYXVnaHQgYSBzZWVrIHByZXZpZXcgc2VlaywgZG8gbm90IHVwZGF0ZSB0aGUgc2Vla2JhclxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChwbGF5ZXIuaXNMaXZlKCkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChwbGF5ZXIuZ2V0TWF4VGltZVNoaWZ0KCkgPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIGNhc2UgbXVzdCBiZSBleHBsaWNpdGx5IGhhbmRsZWQgdG8gYXZvaWQgZGl2aXNpb24gYnkgemVyb1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnNldFBsYXliYWNrUG9zaXRpb24oMTAwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBwbGF5YmFja1Bvc2l0aW9uUGVyY2VudGFnZSA9IDEwMCAtICgxMDAgLyBwbGF5ZXIuZ2V0TWF4VGltZVNoaWZ0KCkgKiBwbGF5ZXIuZ2V0VGltZVNoaWZ0KCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnNldFBsYXliYWNrUG9zaXRpb24ocGxheWJhY2tQb3NpdGlvblBlcmNlbnRhZ2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gQWx3YXlzIHNob3cgZnVsbCBidWZmZXIgZm9yIGxpdmUgc3RyZWFtc1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuc2V0QnVmZmVyUG9zaXRpb24oMTAwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZhciBwbGF5YmFja1Bvc2l0aW9uUGVyY2VudGFnZSA9IDEwMCAvIHBsYXllci5nZXREdXJhdGlvbigpICogcGxheWVyLmdldEN1cnJlbnRUaW1lKCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgdmlkZW9CdWZmZXJMZW5ndGggPSBwbGF5ZXIuZ2V0VmlkZW9CdWZmZXJMZW5ndGgoKTtcclxuICAgICAgICAgICAgICAgIHZhciBhdWRpb0J1ZmZlckxlbmd0aCA9IHBsYXllci5nZXRBdWRpb0J1ZmZlckxlbmd0aCgpO1xyXG4gICAgICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIHRoZSBidWZmZXIgbGVuZ3RoIHdoaWNoIGlzIHRoZSBzbWFsbGVyIGxlbmd0aCBvZiB0aGUgYXVkaW8gYW5kIHZpZGVvIGJ1ZmZlcnMuIElmIG9uZSBvZiB0aGVzZVxyXG4gICAgICAgICAgICAgICAgLy8gYnVmZmVycyBpcyBub3QgYXZhaWxhYmxlLCB3ZSBzZXQgaXQncyB2YWx1ZSB0byBNQVhfVkFMVUUgdG8gbWFrZSBzdXJlIHRoYXQgdGhlIG90aGVyIHJlYWwgdmFsdWUgaXMgdGFrZW5cclxuICAgICAgICAgICAgICAgIC8vIGFzIHRoZSBidWZmZXIgbGVuZ3RoLlxyXG4gICAgICAgICAgICAgICAgdmFyIGJ1ZmZlckxlbmd0aCA9IE1hdGgubWluKHZpZGVvQnVmZmVyTGVuZ3RoICE9IG51bGwgPyB2aWRlb0J1ZmZlckxlbmd0aCA6IE51bWJlci5NQVhfVkFMVUUsIGF1ZGlvQnVmZmVyTGVuZ3RoICE9IG51bGwgPyBhdWRpb0J1ZmZlckxlbmd0aCA6IE51bWJlci5NQVhfVkFMVUUpO1xyXG4gICAgICAgICAgICAgICAgLy8gSWYgYm90aCBidWZmZXIgbGVuZ3RocyBhcmUgbWlzc2luZywgd2Ugc2V0IHRoZSBidWZmZXIgbGVuZ3RoIHRvIHplcm9cclxuICAgICAgICAgICAgICAgIGlmIChidWZmZXJMZW5ndGggPT09IE51bWJlci5NQVhfVkFMVUUpIHtcclxuICAgICAgICAgICAgICAgICAgICBidWZmZXJMZW5ndGggPSAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmFyIGJ1ZmZlclBlcmNlbnRhZ2UgPSAxMDAgLyBwbGF5ZXIuZ2V0RHVyYXRpb24oKSAqIGJ1ZmZlckxlbmd0aDtcclxuICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBwbGF5YmFjayBwb3NpdGlvbiBvbmx5IGluIHBhdXNlZCBzdGF0ZSBvciBpbiB0aGUgaW5pdGlhbCBzdGFydHVwIHN0YXRlIHdoZXJlIHBsYXllciBpcyBuZWl0aGVyXHJcbiAgICAgICAgICAgICAgICAvLyBwYXVzZWQgbm9yIHBsYXlpbmcuIFBsYXliYWNrIHVwZGF0ZXMgYXJlIGhhbmRsZWQgaW4gdGhlIFRpbWVvdXQgYmVsb3cuXHJcbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMuY29uZmlnLnNtb290aFBsYXliYWNrUG9zaXRpb25VcGRhdGVJbnRlcnZhbE1zID09PSBTZWVrQmFyLlNNT09USF9QTEFZQkFDS19QT1NJVElPTl9VUERBVEVfRElTQUJMRURcclxuICAgICAgICAgICAgICAgICAgICB8fCBmb3JjZVVwZGF0ZSB8fCBwbGF5ZXIuaXNQYXVzZWQoKSB8fCAocGxheWVyLmlzUGF1c2VkKCkgPT09IHBsYXllci5pc1BsYXlpbmcoKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5zZXRQbGF5YmFja1Bvc2l0aW9uKHBsYXliYWNrUG9zaXRpb25QZXJjZW50YWdlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIF90aGlzLnNldEJ1ZmZlclBvc2l0aW9uKHBsYXliYWNrUG9zaXRpb25QZXJjZW50YWdlICsgYnVmZmVyUGVyY2VudGFnZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIC8vIFVwZGF0ZSBzZWVrYmFyIHVwb24gdGhlc2UgZXZlbnRzXHJcbiAgICAgICAgLy8gaW5pdCBwbGF5YmFjayBwb3NpdGlvbiB3aGVuIHRoZSBwbGF5ZXIgaXMgcmVhZHlcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9SRUFEWSwgcGxheWJhY2tQb3NpdGlvbkhhbmRsZXIpO1xyXG4gICAgICAgIC8vIHVwZGF0ZSBwbGF5YmFjayBwb3NpdGlvbiB3aGVuIGl0IGNoYW5nZXNcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9USU1FX0NIQU5HRUQsIHBsYXliYWNrUG9zaXRpb25IYW5kbGVyKTtcclxuICAgICAgICAvLyB1cGRhdGUgYnVmZmVybGV2ZWwgd2hlbiBidWZmZXJpbmcgaXMgY29tcGxldGVcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9TVEFMTF9FTkRFRCwgcGxheWJhY2tQb3NpdGlvbkhhbmRsZXIpO1xyXG4gICAgICAgIC8vIHVwZGF0ZSBwbGF5YmFjayBwb3NpdGlvbiB3aGVuIGEgc2VlayBoYXMgZmluaXNoZWRcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9TRUVLRUQsIHBsYXliYWNrUG9zaXRpb25IYW5kbGVyKTtcclxuICAgICAgICAvLyB1cGRhdGUgcGxheWJhY2sgcG9zaXRpb24gd2hlbiBhIHRpbWVzaGlmdCBoYXMgZmluaXNoZWRcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9USU1FX1NISUZURUQsIHBsYXliYWNrUG9zaXRpb25IYW5kbGVyKTtcclxuICAgICAgICAvLyB1cGRhdGUgYnVmZmVybGV2ZWwgd2hlbiBhIHNlZ21lbnQgaGFzIGJlZW4gZG93bmxvYWRlZFxyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1NFR01FTlRfUkVRVUVTVF9GSU5JU0hFRCwgcGxheWJhY2tQb3NpdGlvbkhhbmRsZXIpO1xyXG4gICAgICAgIC8vIHVwZGF0ZSBwbGF5YmFjayBwb3NpdGlvbiBvZiBDYXN0IHBsYXliYWNrXHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fQ0FTVF9USU1FX1VQREFURUQsIHBsYXliYWNrUG9zaXRpb25IYW5kbGVyKTtcclxuICAgICAgICB0aGlzLmNvbmZpZ3VyZUxpdmVQYXVzZWRUaW1lc2hpZnRVcGRhdGVyKHBsYXllciwgdWltYW5hZ2VyLCBwbGF5YmFja1Bvc2l0aW9uSGFuZGxlcik7XHJcbiAgICAgICAgLy8gU2VlayBoYW5kbGluZ1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1NFRUssIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgX3RoaXMuc2V0U2Vla2luZyh0cnVlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9TRUVLRUQsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgX3RoaXMuc2V0U2Vla2luZyhmYWxzZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fVElNRV9TSElGVCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBfdGhpcy5zZXRTZWVraW5nKHRydWUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1RJTUVfU0hJRlRFRCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBfdGhpcy5zZXRTZWVraW5nKGZhbHNlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB2YXIgc2VlayA9IGZ1bmN0aW9uIChwZXJjZW50YWdlKSB7XHJcbiAgICAgICAgICAgIGlmIChwbGF5ZXIuaXNMaXZlKCkpIHtcclxuICAgICAgICAgICAgICAgIHBsYXllci50aW1lU2hpZnQocGxheWVyLmdldE1heFRpbWVTaGlmdCgpIC0gKHBsYXllci5nZXRNYXhUaW1lU2hpZnQoKSAqIChwZXJjZW50YWdlIC8gMTAwKSksICd1aScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcGxheWVyLnNlZWsocGxheWVyLmdldER1cmF0aW9uKCkgKiAocGVyY2VudGFnZSAvIDEwMCksICd1aScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLm9uU2Vlay5zdWJzY3JpYmUoZnVuY3Rpb24gKHNlbmRlcikge1xyXG4gICAgICAgICAgICBpc1NlZWtpbmcgPSB0cnVlOyAvLyB0cmFjayBzZWVraW5nIHN0YXR1cyBzbyB3ZSBjYW4gY2F0Y2ggZXZlbnRzIGZyb20gc2VlayBwcmV2aWV3IHNlZWtzXHJcbiAgICAgICAgICAgIC8vIE5vdGlmeSBVSSBtYW5hZ2VyIG9mIHN0YXJ0ZWQgc2Vla1xyXG4gICAgICAgICAgICB1aW1hbmFnZXIub25TZWVrLmRpc3BhdGNoKHNlbmRlcik7XHJcbiAgICAgICAgICAgIC8vIFNhdmUgY3VycmVudCBwbGF5YmFjayBzdGF0ZVxyXG4gICAgICAgICAgICBpc1BsYXlpbmcgPSBwbGF5ZXIuaXNQbGF5aW5nKCk7XHJcbiAgICAgICAgICAgIC8vIFBhdXNlIHBsYXliYWNrIHdoaWxlIHNlZWtpbmdcclxuICAgICAgICAgICAgaWYgKGlzUGxheWluZykge1xyXG4gICAgICAgICAgICAgICAgcGxheWVyLnBhdXNlKCd1aScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5vblNlZWtQcmV2aWV3LnN1YnNjcmliZShmdW5jdGlvbiAoc2VuZGVyLCBhcmdzKSB7XHJcbiAgICAgICAgICAgIC8vIE5vdGlmeSBVSSBtYW5hZ2VyIG9mIHNlZWsgcHJldmlld1xyXG4gICAgICAgICAgICB1aW1hbmFnZXIub25TZWVrUHJldmlldy5kaXNwYXRjaChzZW5kZXIsIGFyZ3MpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMub25TZWVrUHJldmlldy5zdWJzY3JpYmVSYXRlTGltaXRlZChmdW5jdGlvbiAoc2VuZGVyLCBhcmdzKSB7XHJcbiAgICAgICAgICAgIC8vIFJhdGUtbGltaXRlZCBzY3J1YmJpbmcgc2Vla1xyXG4gICAgICAgICAgICBpZiAoYXJncy5zY3J1YmJpbmcpIHtcclxuICAgICAgICAgICAgICAgIHNlZWsoYXJncy5wb3NpdGlvbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCAyMDApO1xyXG4gICAgICAgIHRoaXMub25TZWVrZWQuc3Vic2NyaWJlKGZ1bmN0aW9uIChzZW5kZXIsIHBlcmNlbnRhZ2UpIHtcclxuICAgICAgICAgICAgaXNTZWVraW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgIC8vIERvIHRoZSBzZWVrXHJcbiAgICAgICAgICAgIHNlZWsocGVyY2VudGFnZSk7XHJcbiAgICAgICAgICAgIC8vIENvbnRpbnVlIHBsYXliYWNrIGFmdGVyIHNlZWsgaWYgcGxheWVyIHdhcyBwbGF5aW5nIHdoZW4gc2VlayBzdGFydGVkXHJcbiAgICAgICAgICAgIGlmIChpc1BsYXlpbmcpIHtcclxuICAgICAgICAgICAgICAgIHBsYXllci5wbGF5KCd1aScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIE5vdGlmeSBVSSBtYW5hZ2VyIG9mIGZpbmlzaGVkIHNlZWtcclxuICAgICAgICAgICAgdWltYW5hZ2VyLm9uU2Vla2VkLmRpc3BhdGNoKHNlbmRlcik7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKHRoaXMuaGFzTGFiZWwoKSkge1xyXG4gICAgICAgICAgICAvLyBDb25maWd1cmUgYSBzZWVrYmFyIGxhYmVsIHRoYXQgaXMgaW50ZXJuYWwgdG8gdGhlIHNlZWtiYXIpXHJcbiAgICAgICAgICAgIHRoaXMuZ2V0TGFiZWwoKS5jb25maWd1cmUocGxheWVyLCB1aW1hbmFnZXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBIaWRlIHNlZWtiYXIgZm9yIGxpdmUgc291cmNlcyB3aXRob3V0IHRpbWVzaGlmdFxyXG4gICAgICAgIHZhciBpc0xpdmUgPSBmYWxzZTtcclxuICAgICAgICB2YXIgaGFzVGltZVNoaWZ0ID0gZmFsc2U7XHJcbiAgICAgICAgdmFyIHN3aXRjaFZpc2liaWxpdHkgPSBmdW5jdGlvbiAoaXNMaXZlLCBoYXNUaW1lU2hpZnQpIHtcclxuICAgICAgICAgICAgaWYgKGlzTGl2ZSAmJiAhaGFzVGltZVNoaWZ0KSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5oaWRlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5zaG93KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcGxheWJhY2tQb3NpdGlvbkhhbmRsZXIobnVsbCwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIF90aGlzLnJlZnJlc2hQbGF5YmFja1Bvc2l0aW9uKCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB2YXIgbGl2ZVN0cmVhbURldGVjdG9yID0gbmV3IHBsYXllcnV0aWxzXzEuUGxheWVyVXRpbHMuTGl2ZVN0cmVhbURldGVjdG9yKHBsYXllcik7XHJcbiAgICAgICAgbGl2ZVN0cmVhbURldGVjdG9yLm9uTGl2ZUNoYW5nZWQuc3Vic2NyaWJlKGZ1bmN0aW9uIChzZW5kZXIsIGFyZ3MpIHtcclxuICAgICAgICAgICAgaXNMaXZlID0gYXJncy5saXZlO1xyXG4gICAgICAgICAgICBzd2l0Y2hWaXNpYmlsaXR5KGlzTGl2ZSwgaGFzVGltZVNoaWZ0KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB2YXIgdGltZVNoaWZ0RGV0ZWN0b3IgPSBuZXcgcGxheWVydXRpbHNfMS5QbGF5ZXJVdGlscy5UaW1lU2hpZnRBdmFpbGFiaWxpdHlEZXRlY3RvcihwbGF5ZXIpO1xyXG4gICAgICAgIHRpbWVTaGlmdERldGVjdG9yLm9uVGltZVNoaWZ0QXZhaWxhYmlsaXR5Q2hhbmdlZC5zdWJzY3JpYmUoZnVuY3Rpb24gKHNlbmRlciwgYXJncykge1xyXG4gICAgICAgICAgICBoYXNUaW1lU2hpZnQgPSBhcmdzLnRpbWVTaGlmdEF2YWlsYWJsZTtcclxuICAgICAgICAgICAgc3dpdGNoVmlzaWJpbGl0eShpc0xpdmUsIGhhc1RpbWVTaGlmdCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gSW5pdGlhbCBkZXRlY3Rpb25cclxuICAgICAgICBsaXZlU3RyZWFtRGV0ZWN0b3IuZGV0ZWN0KCk7XHJcbiAgICAgICAgdGltZVNoaWZ0RGV0ZWN0b3IuZGV0ZWN0KCk7XHJcbiAgICAgICAgLy8gUmVmcmVzaCB0aGUgcGxheWJhY2sgcG9zaXRpb24gd2hlbiB0aGUgcGxheWVyIHJlc2l6ZWQgb3IgdGhlIFVJIGlzIGNvbmZpZ3VyZWQuIFRoZSBwbGF5YmFjayBwb3NpdGlvbiBtYXJrZXJcclxuICAgICAgICAvLyBpcyBwb3NpdGlvbmVkIGFic29sdXRlbHkgYW5kIG11c3QgdGhlcmVmb3JlIGJlIHVwZGF0ZWQgd2hlbiB0aGUgc2l6ZSBvZiB0aGUgc2Vla2JhciBjaGFuZ2VzLlxyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1BMQVlFUl9SRVNJWkUsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgX3RoaXMucmVmcmVzaFBsYXliYWNrUG9zaXRpb24oKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBBZGRpdGlvbmFsbHksIHdoZW4gdGhpcyBjb2RlIGlzIGNhbGxlZCwgdGhlIHNlZWtiYXIgaXMgbm90IHBhcnQgb2YgdGhlIFVJIHlldCBhbmQgdGhlcmVmb3JlIGRvZXMgbm90IGhhdmUgYSBzaXplLFxyXG4gICAgICAgIC8vIHJlc3VsdGluZyBpbiBhIHdyb25nIGluaXRpYWwgcG9zaXRpb24gb2YgdGhlIG1hcmtlci4gUmVmcmVzaGluZyBpdCBvbmNlIHRoZSBVSSBpcyBjb25maWd1cmVkIHNvbHZlZCB0aGlzIGlzc3VlLlxyXG4gICAgICAgIHVpbWFuYWdlci5vbkNvbmZpZ3VyZWQuc3Vic2NyaWJlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgX3RoaXMucmVmcmVzaFBsYXliYWNrUG9zaXRpb24oKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBJdCBjYW4gYWxzbyBoYXBwZW4gdGhhdCB0aGUgdmFsdWUgY2hhbmdlcyBvbmNlIHRoZSBwbGF5ZXIgaXMgcmVhZHksIG9yIHdoZW4gYSBuZXcgc291cmNlIGlzIGxvYWRlZCwgc28gd2UgbmVlZFxyXG4gICAgICAgIC8vIHRvIHVwZGF0ZSBvbiBPTl9SRUFEWSB0b29cclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9SRUFEWSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBfdGhpcy5yZWZyZXNoUGxheWJhY2tQb3NpdGlvbigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIEluaXRpYWxpemUgc2Vla2JhclxyXG4gICAgICAgIHBsYXliYWNrUG9zaXRpb25IYW5kbGVyKCk7IC8vIFNldCB0aGUgcGxheWJhY2sgcG9zaXRpb25cclxuICAgICAgICB0aGlzLnNldEJ1ZmZlclBvc2l0aW9uKDApO1xyXG4gICAgICAgIHRoaXMuc2V0U2Vla1Bvc2l0aW9uKDApO1xyXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZy5zbW9vdGhQbGF5YmFja1Bvc2l0aW9uVXBkYXRlSW50ZXJ2YWxNcyAhPT0gU2Vla0Jhci5TTU9PVEhfUExBWUJBQ0tfUE9TSVRJT05fVVBEQVRFX0RJU0FCTEVEKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29uZmlndXJlU21vb3RoUGxheWJhY2tQb3NpdGlvblVwZGF0ZXIocGxheWVyLCB1aW1hbmFnZXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmNvbmZpZ3VyZU1hcmtlcnMocGxheWVyLCB1aW1hbmFnZXIpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogVXBkYXRlIHNlZWtiYXIgd2hpbGUgYSBsaXZlIHN0cmVhbSB3aXRoIERWUiB3aW5kb3cgaXMgcGF1c2VkLlxyXG4gICAgICogVGhlIHBsYXliYWNrIHBvc2l0aW9uIHN0YXlzIHN0aWxsIGFuZCB0aGUgcG9zaXRpb24gaW5kaWNhdG9yIHZpc3VhbGx5IG1vdmVzIHRvd2FyZHMgdGhlIGJhY2suXHJcbiAgICAgKi9cclxuICAgIFNlZWtCYXIucHJvdG90eXBlLmNvbmZpZ3VyZUxpdmVQYXVzZWRUaW1lc2hpZnRVcGRhdGVyID0gZnVuY3Rpb24gKHBsYXllciwgdWltYW5hZ2VyLCBwbGF5YmFja1Bvc2l0aW9uSGFuZGxlcikge1xyXG4gICAgICAgIC8vIFJlZ3VsYXJseSB1cGRhdGUgdGhlIHBsYXliYWNrIHBvc2l0aW9uIHdoaWxlIHRoZSB0aW1lb3V0IGlzIGFjdGl2ZVxyXG4gICAgICAgIHZhciBwYXVzZWRUaW1lc2hpZnRVcGRhdGVyID0gbmV3IHRpbWVvdXRfMS5UaW1lb3V0KDEwMDAsIHBsYXliYWNrUG9zaXRpb25IYW5kbGVyLCB0cnVlKTtcclxuICAgICAgICAvLyBTdGFydCB1cGRhdGVyIHdoZW4gYSBsaXZlIHN0cmVhbSB3aXRoIHRpbWVzaGlmdCB3aW5kb3cgaXMgcGF1c2VkXHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fUEFVU0VELCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChwbGF5ZXIuaXNMaXZlKCkgJiYgcGxheWVyLmdldE1heFRpbWVTaGlmdCgpIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgcGF1c2VkVGltZXNoaWZ0VXBkYXRlci5zdGFydCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gU3RvcCB1cGRhdGVyIHdoZW4gcGxheWJhY2sgY29udGludWVzIChubyBtYXR0ZXIgaWYgdGhlIHVwZGF0ZXIgd2FzIHN0YXJ0ZWQgYmVmb3JlKVxyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1BMQVksIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHBhdXNlZFRpbWVzaGlmdFVwZGF0ZXIuY2xlYXIoKTsgfSk7XHJcbiAgICB9O1xyXG4gICAgU2Vla0Jhci5wcm90b3R5cGUuY29uZmlndXJlU21vb3RoUGxheWJhY2tQb3NpdGlvblVwZGF0ZXIgPSBmdW5jdGlvbiAocGxheWVyLCB1aW1hbmFnZXIpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIC8qXHJcbiAgICAgICAgICogUGxheWJhY2sgcG9zaXRpb24gdXBkYXRlXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBXZSBkbyBub3QgdXBkYXRlIHRoZSBwb3NpdGlvbiBkaXJlY3RseSBmcm9tIHRoZSBPTl9USU1FX0NIQU5HRUQgZXZlbnQsIGJlY2F1c2UgaXQgYXJyaXZlcyB2ZXJ5IGppdHRlcnkgYW5kXHJcbiAgICAgICAgICogcmVzdWx0cyBpbiBhIGppdHRlcnkgcG9zaXRpb24gaW5kaWNhdG9yIHNpbmNlIHRoZSBDU1MgdHJhbnNpdGlvbiB0aW1lIGlzIHN0YXRpY2FsbHkgc2V0LlxyXG4gICAgICAgICAqIFRvIHdvcmsgYXJvdW5kIHRoaXMgaXNzdWUsIHdlIG1haW50YWluIGEgbG9jYWwgcGxheWJhY2sgcG9zaXRpb24gdGhhdCBpcyB1cGRhdGVkIGluIGEgc3RhYmxlIHJlZ3VsYXIgaW50ZXJ2YWxcclxuICAgICAgICAgKiBhbmQga2VwdCBpbiBzeW5jIHdpdGggdGhlIHBsYXllci5cclxuICAgICAgICAgKi9cclxuICAgICAgICB2YXIgY3VycmVudFRpbWVTZWVrQmFyID0gMDtcclxuICAgICAgICB2YXIgY3VycmVudFRpbWVQbGF5ZXIgPSAwO1xyXG4gICAgICAgIHZhciB1cGRhdGVJbnRlcnZhbE1zID0gNTA7XHJcbiAgICAgICAgdmFyIGN1cnJlbnRUaW1lVXBkYXRlRGVsdGFTZWNzID0gdXBkYXRlSW50ZXJ2YWxNcyAvIDEwMDA7XHJcbiAgICAgICAgdGhpcy5zbW9vdGhQbGF5YmFja1Bvc2l0aW9uVXBkYXRlciA9IG5ldyB0aW1lb3V0XzEuVGltZW91dCh1cGRhdGVJbnRlcnZhbE1zLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGN1cnJlbnRUaW1lU2Vla0JhciArPSBjdXJyZW50VGltZVVwZGF0ZURlbHRhU2VjcztcclxuICAgICAgICAgICAgY3VycmVudFRpbWVQbGF5ZXIgPSBwbGF5ZXIuZ2V0Q3VycmVudFRpbWUoKTtcclxuICAgICAgICAgICAgLy8gU3luYyBjdXJyZW50VGltZSBvZiBzZWVrYmFyIHRvIHBsYXllclxyXG4gICAgICAgICAgICB2YXIgY3VycmVudFRpbWVEZWx0YSA9IGN1cnJlbnRUaW1lU2Vla0JhciAtIGN1cnJlbnRUaW1lUGxheWVyO1xyXG4gICAgICAgICAgICAvLyBJZiB0aGUgZGVsdGEgaXMgbGFyZ2VyIHRoYXQgMiBzZWNzLCBkaXJlY3RseSBqdW1wIHRoZSBzZWVrYmFyIHRvIHRoZVxyXG4gICAgICAgICAgICAvLyBwbGF5ZXIgdGltZSBpbnN0ZWFkIG9mIHNtb290aGx5IGZhc3QgZm9yd2FyZGluZy9yZXdpbmRpbmcuXHJcbiAgICAgICAgICAgIGlmIChNYXRoLmFicyhjdXJyZW50VGltZURlbHRhKSA+IDIpIHtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRUaW1lU2Vla0JhciA9IGN1cnJlbnRUaW1lUGxheWVyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGN1cnJlbnRUaW1lRGVsdGEgPD0gLWN1cnJlbnRUaW1lVXBkYXRlRGVsdGFTZWNzKSB7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50VGltZVNlZWtCYXIgKz0gY3VycmVudFRpbWVVcGRhdGVEZWx0YVNlY3M7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoY3VycmVudFRpbWVEZWx0YSA+PSBjdXJyZW50VGltZVVwZGF0ZURlbHRhU2Vjcykge1xyXG4gICAgICAgICAgICAgICAgY3VycmVudFRpbWVTZWVrQmFyIC09IGN1cnJlbnRUaW1lVXBkYXRlRGVsdGFTZWNzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBwbGF5YmFja1Bvc2l0aW9uUGVyY2VudGFnZSA9IDEwMCAvIHBsYXllci5nZXREdXJhdGlvbigpICogY3VycmVudFRpbWVTZWVrQmFyO1xyXG4gICAgICAgICAgICBfdGhpcy5zZXRQbGF5YmFja1Bvc2l0aW9uKHBsYXliYWNrUG9zaXRpb25QZXJjZW50YWdlKTtcclxuICAgICAgICB9LCB0cnVlKTtcclxuICAgICAgICB2YXIgc3RhcnRTbW9vdGhQbGF5YmFja1Bvc2l0aW9uVXBkYXRlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKCFwbGF5ZXIuaXNMaXZlKCkpIHtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRUaW1lU2Vla0JhciA9IHBsYXllci5nZXRDdXJyZW50VGltZSgpO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuc21vb3RoUGxheWJhY2tQb3NpdGlvblVwZGF0ZXIuc3RhcnQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdmFyIHN0b3BTbW9vdGhQbGF5YmFja1Bvc2l0aW9uVXBkYXRlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgX3RoaXMuc21vb3RoUGxheWJhY2tQb3NpdGlvblVwZGF0ZXIuY2xlYXIoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1BMQVksIHN0YXJ0U21vb3RoUGxheWJhY2tQb3NpdGlvblVwZGF0ZXIpO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX0NBU1RfUExBWUlORywgc3RhcnRTbW9vdGhQbGF5YmFja1Bvc2l0aW9uVXBkYXRlcik7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fUEFVU0VELCBzdG9wU21vb3RoUGxheWJhY2tQb3NpdGlvblVwZGF0ZXIpO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX0NBU1RfUEFVU0VELCBzdG9wU21vb3RoUGxheWJhY2tQb3NpdGlvblVwZGF0ZXIpO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1BMQVlCQUNLX0ZJTklTSEVELCBzdG9wU21vb3RoUGxheWJhY2tQb3NpdGlvblVwZGF0ZXIpO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1NFRUtFRCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBjdXJyZW50VGltZVNlZWtCYXIgPSBwbGF5ZXIuZ2V0Q3VycmVudFRpbWUoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAocGxheWVyLmlzUGxheWluZygpKSB7XHJcbiAgICAgICAgICAgIHN0YXJ0U21vb3RoUGxheWJhY2tQb3NpdGlvblVwZGF0ZXIoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgU2Vla0Jhci5wcm90b3R5cGUuY29uZmlndXJlTWFya2VycyA9IGZ1bmN0aW9uIChwbGF5ZXIsIHVpbWFuYWdlcikge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdmFyIGNsZWFyTWFya2VycyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgX3RoaXMudGltZWxpbmVNYXJrZXJzID0gW107XHJcbiAgICAgICAgICAgIF90aGlzLnVwZGF0ZU1hcmtlcnMoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciBzZXR1cE1hcmtlcnMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNsZWFyTWFya2VycygpO1xyXG4gICAgICAgICAgICB2YXIgZHVyYXRpb24gPSBwbGF5ZXIuZ2V0RHVyYXRpb24oKTtcclxuICAgICAgICAgICAgaWYgKGR1cmF0aW9uID09PSBJbmZpbml0eSkge1xyXG4gICAgICAgICAgICAgICAgLy8gRG9uJ3QgZ2VuZXJhdGUgdGltZWxpbmUgbWFya2VycyBpZiB3ZSBkb24ndCB5ZXQgaGF2ZSBhIGR1cmF0aW9uXHJcbiAgICAgICAgICAgICAgICAvLyBUaGUgZHVyYXRpb24gY2hlY2sgaXMgZm9yIGJ1Z2d5IHBsYXRmb3JtcyB3aGVyZSB0aGUgZHVyYXRpb24gaXMgbm90IGF2YWlsYWJsZSBpbnN0YW50bHkgKENocm9tZSBvbiBBbmRyb2lkIDQuMylcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gdWltYW5hZ2VyLmdldENvbmZpZygpLm1ldGFkYXRhLm1hcmtlcnM7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbWFya2VyID0gX2FbX2ldO1xyXG4gICAgICAgICAgICAgICAgdmFyIG1hcmtlclBvc2l0aW9uID0gMTAwIC8gZHVyYXRpb24gKiBtYXJrZXIudGltZTsgLy8gY29udmVydCBhYnNvbHV0ZSB0aW1lIHRvIHBlcmNlbnRhZ2VcclxuICAgICAgICAgICAgICAgIHZhciBtYXJrZXJEdXJhdGlvbiA9IDEwMCAvIGR1cmF0aW9uICogbWFya2VyLmR1cmF0aW9uO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMudGltZWxpbmVNYXJrZXJzLnB1c2goeyBtYXJrZXI6IG1hcmtlciwgcG9zaXRpb246IG1hcmtlclBvc2l0aW9uLCBkdXJhdGlvbjogbWFya2VyRHVyYXRpb24gfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gUG9wdWxhdGUgdGhlIHRpbWVsaW5lIHdpdGggdGhlIG1hcmtlcnNcclxuICAgICAgICAgICAgX3RoaXMudXBkYXRlTWFya2VycygpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgLy8gQWRkIG1hcmtlcnMgd2hlbiBhIHNvdXJjZSBpcyBsb2FkZWRcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9SRUFEWSwgc2V0dXBNYXJrZXJzKTtcclxuICAgICAgICAvLyBSZW1vdmUgbWFya2VycyB3aGVuIHVubG9hZGVkXHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fU09VUkNFX1VOTE9BREVELCBjbGVhck1hcmtlcnMpO1xyXG4gICAgICAgIC8vIFVwZGF0ZSBtYXJrZXJzIHdoZW4gdGhlIHNpemUgb2YgdGhlIHNlZWtiYXIgY2hhbmdlc1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1BMQVlFUl9SRVNJWkUsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLnVwZGF0ZU1hcmtlcnMoKTsgfSk7XHJcbiAgICAgICAgLy8gVXBkYXRlIG1hcmtlcnMgd2hlbiBhIG1hcmtlciBpcyBhZGRlZCBvciByZW1vdmVkXHJcbiAgICAgICAgdWltYW5hZ2VyLmdldENvbmZpZygpLmV2ZW50cy5vblVwZGF0ZWQuc3Vic2NyaWJlKHNldHVwTWFya2Vycyk7XHJcbiAgICAgICAgdWltYW5hZ2VyLm9uUmVsZWFzZS5zdWJzY3JpYmUoZnVuY3Rpb24gKCkgeyByZXR1cm4gdWltYW5hZ2VyLmdldENvbmZpZygpLmV2ZW50cy5vblVwZGF0ZWQudW5zdWJzY3JpYmUoc2V0dXBNYXJrZXJzKTsgfSk7XHJcbiAgICAgICAgLy8gSW5pdCBtYXJrZXJzIGF0IHN0YXJ0dXBcclxuICAgICAgICBzZXR1cE1hcmtlcnMoKTtcclxuICAgIH07XHJcbiAgICBTZWVrQmFyLnByb3RvdHlwZS5yZWxlYXNlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUucmVsZWFzZS5jYWxsKHRoaXMpO1xyXG4gICAgICAgIGlmICh0aGlzLnNtb290aFBsYXliYWNrUG9zaXRpb25VcGRhdGVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc21vb3RoUGxheWJhY2tQb3NpdGlvblVwZGF0ZXIuY2xlYXIoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgU2Vla0Jhci5wcm90b3R5cGUudG9Eb21FbGVtZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgaWYgKHRoaXMuY29uZmlnLnZlcnRpY2FsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29uZmlnLmNzc0NsYXNzZXMucHVzaCgndmVydGljYWwnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHNlZWtCYXJDb250YWluZXIgPSBuZXcgZG9tXzEuRE9NKCdkaXYnLCB7XHJcbiAgICAgICAgICAgICdpZCc6IHRoaXMuY29uZmlnLmlkLFxyXG4gICAgICAgICAgICAnY2xhc3MnOiB0aGlzLmdldENzc0NsYXNzZXMoKSxcclxuICAgICAgICB9KTtcclxuICAgICAgICB2YXIgc2Vla0JhciA9IG5ldyBkb21fMS5ET00oJ2RpdicsIHtcclxuICAgICAgICAgICAgJ2NsYXNzJzogdGhpcy5wcmVmaXhDc3MoJ3NlZWtiYXInKSxcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnNlZWtCYXIgPSBzZWVrQmFyO1xyXG4gICAgICAgIC8vIEluZGljYXRvciB0aGF0IHNob3dzIHRoZSBidWZmZXIgZmlsbCBsZXZlbFxyXG4gICAgICAgIHZhciBzZWVrQmFyQnVmZmVyTGV2ZWwgPSBuZXcgZG9tXzEuRE9NKCdkaXYnLCB7XHJcbiAgICAgICAgICAgICdjbGFzcyc6IHRoaXMucHJlZml4Q3NzKCdzZWVrYmFyLWJ1ZmZlcmxldmVsJyksXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5zZWVrQmFyQnVmZmVyUG9zaXRpb24gPSBzZWVrQmFyQnVmZmVyTGV2ZWw7XHJcbiAgICAgICAgLy8gSW5kaWNhdG9yIHRoYXQgc2hvd3MgdGhlIGN1cnJlbnQgcGxheWJhY2sgcG9zaXRpb25cclxuICAgICAgICB2YXIgc2Vla0JhclBsYXliYWNrUG9zaXRpb24gPSBuZXcgZG9tXzEuRE9NKCdkaXYnLCB7XHJcbiAgICAgICAgICAgICdjbGFzcyc6IHRoaXMucHJlZml4Q3NzKCdzZWVrYmFyLXBsYXliYWNrcG9zaXRpb24nKSxcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnNlZWtCYXJQbGF5YmFja1Bvc2l0aW9uID0gc2Vla0JhclBsYXliYWNrUG9zaXRpb247XHJcbiAgICAgICAgLy8gQSBtYXJrZXIgb2YgdGhlIGN1cnJlbnQgcGxheWJhY2sgcG9zaXRpb24sIGUuZy4gYSBkb3Qgb3IgbGluZVxyXG4gICAgICAgIHZhciBzZWVrQmFyUGxheWJhY2tQb3NpdGlvbk1hcmtlciA9IG5ldyBkb21fMS5ET00oJ2RpdicsIHtcclxuICAgICAgICAgICAgJ2NsYXNzJzogdGhpcy5wcmVmaXhDc3MoJ3NlZWtiYXItcGxheWJhY2twb3NpdGlvbi1tYXJrZXInKSxcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnNlZWtCYXJQbGF5YmFja1Bvc2l0aW9uTWFya2VyID0gc2Vla0JhclBsYXliYWNrUG9zaXRpb25NYXJrZXI7XHJcbiAgICAgICAgLy8gSW5kaWNhdG9yIHRoYXQgc2hvdyB3aGVyZSBhIHNlZWsgd2lsbCBnbyB0b1xyXG4gICAgICAgIHZhciBzZWVrQmFyU2Vla1Bvc2l0aW9uID0gbmV3IGRvbV8xLkRPTSgnZGl2Jywge1xyXG4gICAgICAgICAgICAnY2xhc3MnOiB0aGlzLnByZWZpeENzcygnc2Vla2Jhci1zZWVrcG9zaXRpb24nKSxcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnNlZWtCYXJTZWVrUG9zaXRpb24gPSBzZWVrQmFyU2Vla1Bvc2l0aW9uO1xyXG4gICAgICAgIC8vIEluZGljYXRvciB0aGF0IHNob3dzIHRoZSBmdWxsIHNlZWtiYXJcclxuICAgICAgICB2YXIgc2Vla0JhckJhY2tkcm9wID0gbmV3IGRvbV8xLkRPTSgnZGl2Jywge1xyXG4gICAgICAgICAgICAnY2xhc3MnOiB0aGlzLnByZWZpeENzcygnc2Vla2Jhci1iYWNrZHJvcCcpLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuc2Vla0JhckJhY2tkcm9wID0gc2Vla0JhckJhY2tkcm9wO1xyXG4gICAgICAgIHZhciBzZWVrQmFyQ2hhcHRlck1hcmtlcnNDb250YWluZXIgPSBuZXcgZG9tXzEuRE9NKCdkaXYnLCB7XHJcbiAgICAgICAgICAgICdjbGFzcyc6IHRoaXMucHJlZml4Q3NzKCdzZWVrYmFyLW1hcmtlcnMnKSxcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnNlZWtCYXJNYXJrZXJzQ29udGFpbmVyID0gc2Vla0JhckNoYXB0ZXJNYXJrZXJzQ29udGFpbmVyO1xyXG4gICAgICAgIHNlZWtCYXIuYXBwZW5kKHRoaXMuc2Vla0JhckJhY2tkcm9wLCB0aGlzLnNlZWtCYXJCdWZmZXJQb3NpdGlvbiwgdGhpcy5zZWVrQmFyU2Vla1Bvc2l0aW9uLCB0aGlzLnNlZWtCYXJQbGF5YmFja1Bvc2l0aW9uLCB0aGlzLnNlZWtCYXJNYXJrZXJzQ29udGFpbmVyLCB0aGlzLnNlZWtCYXJQbGF5YmFja1Bvc2l0aW9uTWFya2VyKTtcclxuICAgICAgICB2YXIgc2Vla2luZyA9IGZhbHNlO1xyXG4gICAgICAgIC8vIERlZmluZSBoYW5kbGVyIGZ1bmN0aW9ucyBzbyB3ZSBjYW4gYXR0YWNoL3JlbW92ZSB0aGVtIGxhdGVyXHJcbiAgICAgICAgdmFyIG1vdXNlVG91Y2hNb3ZlSGFuZGxlciA9IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgLy8gQXZvaWQgcHJvcGFnYXRpb24gdG8gVlIgaGFuZGxlclxyXG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICB2YXIgdGFyZ2V0UGVyY2VudGFnZSA9IDEwMCAqIF90aGlzLmdldE9mZnNldChlKTtcclxuICAgICAgICAgICAgX3RoaXMuc2V0U2Vla1Bvc2l0aW9uKHRhcmdldFBlcmNlbnRhZ2UpO1xyXG4gICAgICAgICAgICBfdGhpcy5zZXRQbGF5YmFja1Bvc2l0aW9uKHRhcmdldFBlcmNlbnRhZ2UpO1xyXG4gICAgICAgICAgICBfdGhpcy5vblNlZWtQcmV2aWV3RXZlbnQodGFyZ2V0UGVyY2VudGFnZSwgdHJ1ZSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB2YXIgbW91c2VUb3VjaFVwSGFuZGxlciA9IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgLy8gUmVtb3ZlIGhhbmRsZXJzLCBzZWVrIG9wZXJhdGlvbiBpcyBmaW5pc2hlZFxyXG4gICAgICAgICAgICBuZXcgZG9tXzEuRE9NKGRvY3VtZW50KS5vZmYoJ3RvdWNobW92ZSBtb3VzZW1vdmUnLCBtb3VzZVRvdWNoTW92ZUhhbmRsZXIpO1xyXG4gICAgICAgICAgICBuZXcgZG9tXzEuRE9NKGRvY3VtZW50KS5vZmYoJ3RvdWNoZW5kIG1vdXNldXAnLCBtb3VzZVRvdWNoVXBIYW5kbGVyKTtcclxuICAgICAgICAgICAgdmFyIHRhcmdldFBlcmNlbnRhZ2UgPSAxMDAgKiBfdGhpcy5nZXRPZmZzZXQoZSk7XHJcbiAgICAgICAgICAgIHZhciBzbmFwcGVkQ2hhcHRlciA9IF90aGlzLmdldE1hcmtlckF0UG9zaXRpb24odGFyZ2V0UGVyY2VudGFnZSk7XHJcbiAgICAgICAgICAgIF90aGlzLnNldFNlZWtpbmcoZmFsc2UpO1xyXG4gICAgICAgICAgICBzZWVraW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgIC8vIEZpcmUgc2Vla2VkIGV2ZW50XHJcbiAgICAgICAgICAgIF90aGlzLm9uU2Vla2VkRXZlbnQoc25hcHBlZENoYXB0ZXIgPyBzbmFwcGVkQ2hhcHRlci5wb3NpdGlvbiA6IHRhcmdldFBlcmNlbnRhZ2UpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgLy8gQSBzZWVrIGFsd2F5cyBzdGFydCB3aXRoIGEgdG91Y2hzdGFydCBvciBtb3VzZWRvd24gZGlyZWN0bHkgb24gdGhlIHNlZWtiYXIuXHJcbiAgICAgICAgLy8gVG8gdHJhY2sgYSBtb3VzZSBzZWVrIGFsc28gb3V0c2lkZSB0aGUgc2Vla2JhciAoZm9yIHRvdWNoIGV2ZW50cyB0aGlzIHdvcmtzIGF1dG9tYXRpY2FsbHkpLFxyXG4gICAgICAgIC8vIHNvIHRoZSB1c2VyIGRvZXMgbm90IG5lZWQgdG8gdGFrZSBjYXJlIHRoYXQgdGhlIG1vdXNlIGFsd2F5cyBzdGF5cyBvbiB0aGUgc2Vla2Jhciwgd2UgYXR0YWNoIHRoZSBtb3VzZW1vdmVcclxuICAgICAgICAvLyBhbmQgbW91c2V1cCBoYW5kbGVycyB0byB0aGUgd2hvbGUgZG9jdW1lbnQuIEEgc2VlayBpcyB0cmlnZ2VyZWQgd2hlbiB0aGUgdXNlciBsaWZ0cyB0aGUgbW91c2Uga2V5LlxyXG4gICAgICAgIC8vIEEgc2VlayBtb3VzZSBnZXN0dXJlIGlzIHRodXMgYmFzaWNhbGx5IGEgY2xpY2sgd2l0aCBhIGxvbmcgdGltZSBmcmFtZSBiZXR3ZWVuIGRvd24gYW5kIHVwIGV2ZW50cy5cclxuICAgICAgICBzZWVrQmFyLm9uKCd0b3VjaHN0YXJ0IG1vdXNlZG93bicsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIHZhciBpc1RvdWNoRXZlbnQgPSBfdGhpcy50b3VjaFN1cHBvcnRlZCAmJiBlIGluc3RhbmNlb2YgVG91Y2hFdmVudDtcclxuICAgICAgICAgICAgLy8gUHJldmVudCBzZWxlY3Rpb24gb2YgRE9NIGVsZW1lbnRzIChhbHNvIHByZXZlbnRzIG1vdXNlZG93biBpZiBjdXJyZW50IGV2ZW50IGlzIHRvdWNoc3RhcnQpXHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgLy8gQXZvaWQgcHJvcGFnYXRpb24gdG8gVlIgaGFuZGxlclxyXG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICBfdGhpcy5zZXRTZWVraW5nKHRydWUpOyAvLyBTZXQgc2Vla2luZyBjbGFzcyBvbiBET00gZWxlbWVudFxyXG4gICAgICAgICAgICBzZWVraW5nID0gdHJ1ZTsgLy8gU2V0IHNlZWsgdHJhY2tpbmcgZmxhZ1xyXG4gICAgICAgICAgICAvLyBGaXJlIHNlZWtlZCBldmVudFxyXG4gICAgICAgICAgICBfdGhpcy5vblNlZWtFdmVudCgpO1xyXG4gICAgICAgICAgICAvLyBBZGQgaGFuZGxlciB0byB0cmFjayB0aGUgc2VlayBvcGVyYXRpb24gb3ZlciB0aGUgd2hvbGUgZG9jdW1lbnRcclxuICAgICAgICAgICAgbmV3IGRvbV8xLkRPTShkb2N1bWVudCkub24oaXNUb3VjaEV2ZW50ID8gJ3RvdWNobW92ZScgOiAnbW91c2Vtb3ZlJywgbW91c2VUb3VjaE1vdmVIYW5kbGVyKTtcclxuICAgICAgICAgICAgbmV3IGRvbV8xLkRPTShkb2N1bWVudCkub24oaXNUb3VjaEV2ZW50ID8gJ3RvdWNoZW5kJyA6ICdtb3VzZXVwJywgbW91c2VUb3VjaFVwSGFuZGxlcik7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gRGlzcGxheSBzZWVrIHRhcmdldCBpbmRpY2F0b3Igd2hlbiBtb3VzZSBob3ZlcnMgb3IgZmluZ2VyIHNsaWRlcyBvdmVyIHNlZWtiYXJcclxuICAgICAgICBzZWVrQmFyLm9uKCd0b3VjaG1vdmUgbW91c2Vtb3ZlJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICBpZiAoc2Vla2luZykge1xyXG4gICAgICAgICAgICAgICAgLy8gRHVyaW5nIGEgc2VlayAod2hlbiBtb3VzZSBpcyBkb3duIG9yIHRvdWNoIG1vdmUgYWN0aXZlKSwgd2UgbmVlZCB0byBzdG9wIHByb3BhZ2F0aW9uIHRvIGF2b2lkXHJcbiAgICAgICAgICAgICAgICAvLyB0aGUgVlIgdmlld3BvcnQgcmVhY3RpbmcgdG8gdGhlIG1vdmVzLlxyXG4gICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgICAgIC8vIEJlY2F1c2UgdGhlIHN0b3BwZWQgcHJvcGFnYXRpb24gaW5oaWJpdHMgdGhlIGV2ZW50IG9uIHRoZSBkb2N1bWVudCwgd2UgbmVlZCB0byBjYWxsIGl0IGZyb20gaGVyZVxyXG4gICAgICAgICAgICAgICAgbW91c2VUb3VjaE1vdmVIYW5kbGVyKGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBwb3NpdGlvbiA9IDEwMCAqIF90aGlzLmdldE9mZnNldChlKTtcclxuICAgICAgICAgICAgX3RoaXMuc2V0U2Vla1Bvc2l0aW9uKHBvc2l0aW9uKTtcclxuICAgICAgICAgICAgX3RoaXMub25TZWVrUHJldmlld0V2ZW50KHBvc2l0aW9uLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIGlmIChfdGhpcy5oYXNMYWJlbCgpICYmIF90aGlzLmdldExhYmVsKCkuaXNIaWRkZW4oKSkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuZ2V0TGFiZWwoKS5zaG93KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBIaWRlIHNlZWsgdGFyZ2V0IGluZGljYXRvciB3aGVuIG1vdXNlIG9yIGZpbmdlciBsZWF2ZXMgc2Vla2JhclxyXG4gICAgICAgIHNlZWtCYXIub24oJ3RvdWNoZW5kIG1vdXNlbGVhdmUnLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIF90aGlzLnNldFNlZWtQb3NpdGlvbigwKTtcclxuICAgICAgICAgICAgaWYgKF90aGlzLmhhc0xhYmVsKCkpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLmdldExhYmVsKCkuaGlkZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgc2Vla0JhckNvbnRhaW5lci5hcHBlbmQoc2Vla0Jhcik7XHJcbiAgICAgICAgaWYgKHRoaXMubGFiZWwpIHtcclxuICAgICAgICAgICAgc2Vla0JhckNvbnRhaW5lci5hcHBlbmQodGhpcy5sYWJlbC5nZXREb21FbGVtZW50KCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gc2Vla0JhckNvbnRhaW5lcjtcclxuICAgIH07XHJcbiAgICBTZWVrQmFyLnByb3RvdHlwZS51cGRhdGVNYXJrZXJzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5zZWVrQmFyTWFya2Vyc0NvbnRhaW5lci5lbXB0eSgpO1xyXG4gICAgICAgIHZhciBzZWVrQmFyV2lkdGhQeCA9IHRoaXMuc2Vla0Jhci53aWR0aCgpO1xyXG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSB0aGlzLnRpbWVsaW5lTWFya2VyczsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgdmFyIG1hcmtlciA9IF9hW19pXTtcclxuICAgICAgICAgICAgdmFyIG1hcmtlckNsYXNzZXMgPSBbJ3NlZWtiYXItbWFya2VyJ10uY29uY2F0KG1hcmtlci5tYXJrZXIuY3NzQ2xhc3NlcyB8fCBbXSlcclxuICAgICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKGNzc0NsYXNzKSB7IHJldHVybiBfdGhpcy5wcmVmaXhDc3MoY3NzQ2xhc3MpOyB9KTtcclxuICAgICAgICAgICAgdmFyIGNzc1Byb3BlcnRpZXMgPSB7XHJcbiAgICAgICAgICAgICAgICAnd2lkdGgnOiBtYXJrZXIucG9zaXRpb24gKyAnJScsXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGlmIChtYXJrZXIuZHVyYXRpb24gPiAwKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbWFya2VyV2lkdGhQeCA9IE1hdGgucm91bmQoc2Vla0JhcldpZHRoUHggLyAxMDAgKiBtYXJrZXIuZHVyYXRpb24pO1xyXG4gICAgICAgICAgICAgICAgY3NzUHJvcGVydGllc1snYm9yZGVyLXJpZ2h0LXdpZHRoJ10gPSBtYXJrZXJXaWR0aFB4ICsgJ3B4JztcclxuICAgICAgICAgICAgICAgIGNzc1Byb3BlcnRpZXNbJ21hcmdpbi1sZWZ0J10gPSAnMCc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5zZWVrQmFyTWFya2Vyc0NvbnRhaW5lci5hcHBlbmQobmV3IGRvbV8xLkRPTSgnZGl2Jywge1xyXG4gICAgICAgICAgICAgICAgJ2NsYXNzJzogbWFya2VyQ2xhc3Nlcy5qb2luKCcgJyksXHJcbiAgICAgICAgICAgICAgICAnZGF0YS1tYXJrZXItdGltZSc6IFN0cmluZyhtYXJrZXIubWFya2VyLnRpbWUpLFxyXG4gICAgICAgICAgICAgICAgJ2RhdGEtbWFya2VyLXRpdGxlJzogU3RyaW5nKG1hcmtlci5tYXJrZXIudGl0bGUpLFxyXG4gICAgICAgICAgICB9KS5jc3MoY3NzUHJvcGVydGllcykpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBTZWVrQmFyLnByb3RvdHlwZS5nZXRNYXJrZXJBdFBvc2l0aW9uID0gZnVuY3Rpb24gKHBlcmNlbnRhZ2UpIHtcclxuICAgICAgICB2YXIgc25hcHBpbmdSYW5nZSA9IDE7XHJcbiAgICAgICAgaWYgKHRoaXMudGltZWxpbmVNYXJrZXJzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IHRoaXMudGltZWxpbmVNYXJrZXJzOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIG1hcmtlciA9IF9hW19pXTtcclxuICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBpbnRlcnZhbCBtYXJrZXJzXHJcbiAgICAgICAgICAgICAgICBpZiAobWFya2VyLmR1cmF0aW9uID4gMFxyXG4gICAgICAgICAgICAgICAgICAgICYmIHBlcmNlbnRhZ2UgPj0gbWFya2VyLnBvc2l0aW9uIC0gc25hcHBpbmdSYW5nZVxyXG4gICAgICAgICAgICAgICAgICAgICYmIHBlcmNlbnRhZ2UgPD0gbWFya2VyLnBvc2l0aW9uICsgbWFya2VyLmR1cmF0aW9uICsgc25hcHBpbmdSYW5nZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtYXJrZXI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChwZXJjZW50YWdlID49IG1hcmtlci5wb3NpdGlvbiAtIHNuYXBwaW5nUmFuZ2VcclxuICAgICAgICAgICAgICAgICAgICAmJiBwZXJjZW50YWdlIDw9IG1hcmtlci5wb3NpdGlvbiArIHNuYXBwaW5nUmFuZ2UpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWFya2VyO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogR2V0cyB0aGUgaG9yaXpvbnRhbCBvZmZzZXQgb2YgYSBtb3VzZS90b3VjaCBldmVudCBwb2ludCBmcm9tIHRoZSBsZWZ0IGVkZ2Ugb2YgdGhlIHNlZWsgYmFyLlxyXG4gICAgICogQHBhcmFtIGV2ZW50UGFnZVggdGhlIHBhZ2VYIGNvb3JkaW5hdGUgb2YgYW4gZXZlbnQgdG8gY2FsY3VsYXRlIHRoZSBvZmZzZXQgZnJvbVxyXG4gICAgICogQHJldHVybnMge251bWJlcn0gYSBudW1iZXIgaW4gdGhlIHJhbmdlIG9mIFswLCAxXSwgd2hlcmUgMCBpcyB0aGUgbGVmdCBlZGdlIGFuZCAxIGlzIHRoZSByaWdodCBlZGdlXHJcbiAgICAgKi9cclxuICAgIFNlZWtCYXIucHJvdG90eXBlLmdldEhvcml6b250YWxPZmZzZXQgPSBmdW5jdGlvbiAoZXZlbnRQYWdlWCkge1xyXG4gICAgICAgIHZhciBlbGVtZW50T2Zmc2V0UHggPSB0aGlzLnNlZWtCYXIub2Zmc2V0KCkubGVmdDtcclxuICAgICAgICB2YXIgd2lkdGhQeCA9IHRoaXMuc2Vla0Jhci53aWR0aCgpO1xyXG4gICAgICAgIHZhciBvZmZzZXRQeCA9IGV2ZW50UGFnZVggLSBlbGVtZW50T2Zmc2V0UHg7XHJcbiAgICAgICAgdmFyIG9mZnNldCA9IDEgLyB3aWR0aFB4ICogb2Zmc2V0UHg7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2FuaXRpemVPZmZzZXQob2Zmc2V0KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEdldHMgdGhlIHZlcnRpY2FsIG9mZnNldCBvZiBhIG1vdXNlL3RvdWNoIGV2ZW50IHBvaW50IGZyb20gdGhlIGJvdHRvbSBlZGdlIG9mIHRoZSBzZWVrIGJhci5cclxuICAgICAqIEBwYXJhbSBldmVudFBhZ2VZIHRoZSBwYWdlWCBjb29yZGluYXRlIG9mIGFuIGV2ZW50IHRvIGNhbGN1bGF0ZSB0aGUgb2Zmc2V0IGZyb21cclxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IGEgbnVtYmVyIGluIHRoZSByYW5nZSBvZiBbMCwgMV0sIHdoZXJlIDAgaXMgdGhlIGJvdHRvbSBlZGdlIGFuZCAxIGlzIHRoZSB0b3AgZWRnZVxyXG4gICAgICovXHJcbiAgICBTZWVrQmFyLnByb3RvdHlwZS5nZXRWZXJ0aWNhbE9mZnNldCA9IGZ1bmN0aW9uIChldmVudFBhZ2VZKSB7XHJcbiAgICAgICAgdmFyIGVsZW1lbnRPZmZzZXRQeCA9IHRoaXMuc2Vla0Jhci5vZmZzZXQoKS50b3A7XHJcbiAgICAgICAgdmFyIHdpZHRoUHggPSB0aGlzLnNlZWtCYXIuaGVpZ2h0KCk7XHJcbiAgICAgICAgdmFyIG9mZnNldFB4ID0gZXZlbnRQYWdlWSAtIGVsZW1lbnRPZmZzZXRQeDtcclxuICAgICAgICB2YXIgb2Zmc2V0ID0gMSAvIHdpZHRoUHggKiBvZmZzZXRQeDtcclxuICAgICAgICByZXR1cm4gMSAtIHRoaXMuc2FuaXRpemVPZmZzZXQob2Zmc2V0KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEdldHMgdGhlIG1vdXNlIG9yIHRvdWNoIGV2ZW50IG9mZnNldCBmb3IgdGhlIGN1cnJlbnQgY29uZmlndXJhdGlvbiAoaG9yaXpvbnRhbCBvciB2ZXJ0aWNhbCkuXHJcbiAgICAgKiBAcGFyYW0gZSB0aGUgZXZlbnQgdG8gY2FsY3VsYXRlIHRoZSBvZmZzZXQgZnJvbVxyXG4gICAgICogQHJldHVybnMge251bWJlcn0gYSBudW1iZXIgaW4gdGhlIHJhbmdlIG9mIFswLCAxXVxyXG4gICAgICogQHNlZSAjZ2V0SG9yaXpvbnRhbE9mZnNldFxyXG4gICAgICogQHNlZSAjZ2V0VmVydGljYWxPZmZzZXRcclxuICAgICAqL1xyXG4gICAgU2Vla0Jhci5wcm90b3R5cGUuZ2V0T2Zmc2V0ID0gZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICBpZiAodGhpcy50b3VjaFN1cHBvcnRlZCAmJiBlIGluc3RhbmNlb2YgVG91Y2hFdmVudCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5jb25maWcudmVydGljYWwpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldFZlcnRpY2FsT2Zmc2V0KGUudHlwZSA9PT0gJ3RvdWNoZW5kJyA/IGUuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVkgOiBlLnRvdWNoZXNbMF0ucGFnZVkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0SG9yaXpvbnRhbE9mZnNldChlLnR5cGUgPT09ICd0b3VjaGVuZCcgPyBlLmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VYIDogZS50b3VjaGVzWzBdLnBhZ2VYKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChlIGluc3RhbmNlb2YgTW91c2VFdmVudCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5jb25maWcudmVydGljYWwpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldFZlcnRpY2FsT2Zmc2V0KGUucGFnZVkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0SG9yaXpvbnRhbE9mZnNldChlLnBhZ2VYKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKGNvbnNvbGUpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignaW52YWxpZCBldmVudCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFNhbml0aXplcyB0aGUgbW91c2Ugb2Zmc2V0IHRvIHRoZSByYW5nZSBvZiBbMCwgMV0uXHJcbiAgICAgKlxyXG4gICAgICogV2hlbiB0cmFja2luZyB0aGUgbW91c2Ugb3V0c2lkZSB0aGUgc2VlayBiYXIsIHRoZSBvZmZzZXQgY2FuIGJlIG91dHNpZGUgdGhlIGRlc2lyZWQgcmFuZ2UgYW5kIHRoaXMgbWV0aG9kXHJcbiAgICAgKiBsaW1pdHMgaXQgdG8gdGhlIGRlc2lyZWQgcmFuZ2UuIEUuZy4gYSBtb3VzZSBldmVudCBsZWZ0IG9mIHRoZSBsZWZ0IGVkZ2Ugb2YgYSBzZWVrIGJhciB5aWVsZHMgYW4gb2Zmc2V0IGJlbG93XHJcbiAgICAgKiB6ZXJvLCBidXQgdG8gZGlzcGxheSB0aGUgc2VlayB0YXJnZXQgb24gdGhlIHNlZWsgYmFyLCB3ZSBuZWVkIHRvIGxpbWl0IGl0IHRvIHplcm8uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG9mZnNldCB0aGUgb2Zmc2V0IHRvIHNhbml0aXplXHJcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSB0aGUgc2FuaXRpemVkIG9mZnNldC5cclxuICAgICAqL1xyXG4gICAgU2Vla0Jhci5wcm90b3R5cGUuc2FuaXRpemVPZmZzZXQgPSBmdW5jdGlvbiAob2Zmc2V0KSB7XHJcbiAgICAgICAgLy8gU2luY2Ugd2UgdHJhY2sgbW91c2UgbW92ZXMgb3ZlciB0aGUgd2hvbGUgZG9jdW1lbnQsIHRoZSB0YXJnZXQgY2FuIGJlIG91dHNpZGUgdGhlIHNlZWsgcmFuZ2UsXHJcbiAgICAgICAgLy8gYW5kIHdlIG5lZWQgdG8gbGltaXQgaXQgdG8gdGhlIFswLCAxXSByYW5nZS5cclxuICAgICAgICBpZiAob2Zmc2V0IDwgMCkge1xyXG4gICAgICAgICAgICBvZmZzZXQgPSAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChvZmZzZXQgPiAxKSB7XHJcbiAgICAgICAgICAgIG9mZnNldCA9IDE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBvZmZzZXQ7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBTZXRzIHRoZSBwb3NpdGlvbiBvZiB0aGUgcGxheWJhY2sgcG9zaXRpb24gaW5kaWNhdG9yLlxyXG4gICAgICogQHBhcmFtIHBlcmNlbnQgYSBudW1iZXIgYmV0d2VlbiAwIGFuZCAxMDAgYXMgcmV0dXJuZWQgYnkgdGhlIHBsYXllclxyXG4gICAgICovXHJcbiAgICBTZWVrQmFyLnByb3RvdHlwZS5zZXRQbGF5YmFja1Bvc2l0aW9uID0gZnVuY3Rpb24gKHBlcmNlbnQpIHtcclxuICAgICAgICB0aGlzLnBsYXliYWNrUG9zaXRpb25QZXJjZW50YWdlID0gcGVyY2VudDtcclxuICAgICAgICAvLyBTZXQgcG9zaXRpb24gb2YgdGhlIGJhclxyXG4gICAgICAgIHRoaXMuc2V0UG9zaXRpb24odGhpcy5zZWVrQmFyUGxheWJhY2tQb3NpdGlvbiwgcGVyY2VudCk7XHJcbiAgICAgICAgLy8gU2V0IHBvc2l0aW9uIG9mIHRoZSBtYXJrZXJcclxuICAgICAgICB2YXIgdG90YWxTaXplID0gKHRoaXMuY29uZmlnLnZlcnRpY2FsID8gKHRoaXMuc2Vla0Jhci5oZWlnaHQoKSAtIHRoaXMuc2Vla0JhclBsYXliYWNrUG9zaXRpb25NYXJrZXIuaGVpZ2h0KCkpIDogdGhpcy5zZWVrQmFyLndpZHRoKCkpO1xyXG4gICAgICAgIHZhciBweCA9ICh0b3RhbFNpemUpIC8gMTAwICogcGVyY2VudDtcclxuICAgICAgICBpZiAodGhpcy5jb25maWcudmVydGljYWwpIHtcclxuICAgICAgICAgICAgcHggPSB0aGlzLnNlZWtCYXIuaGVpZ2h0KCkgLSBweCAtIHRoaXMuc2Vla0JhclBsYXliYWNrUG9zaXRpb25NYXJrZXIuaGVpZ2h0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBzdHlsZSA9IHRoaXMuY29uZmlnLnZlcnRpY2FsID9cclxuICAgICAgICAgICAgLy8gLW1zLXRyYW5zZm9ybSByZXF1aXJlZCBmb3IgSUU5XHJcbiAgICAgICAgICAgIC8vIC13ZWJraXQtdHJhbnNmb3JtIHJlcXVpcmVkIGZvciBBbmRyb2lkIDQuNCBXZWJWaWV3XHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICd0cmFuc2Zvcm0nOiAndHJhbnNsYXRlWSgnICsgcHggKyAncHgpJyxcclxuICAgICAgICAgICAgICAgICctbXMtdHJhbnNmb3JtJzogJ3RyYW5zbGF0ZVkoJyArIHB4ICsgJ3B4KScsXHJcbiAgICAgICAgICAgICAgICAnLXdlYmtpdC10cmFuc2Zvcm0nOiAndHJhbnNsYXRlWSgnICsgcHggKyAncHgpJyxcclxuICAgICAgICAgICAgfSA6XHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICd0cmFuc2Zvcm0nOiAndHJhbnNsYXRlWCgnICsgcHggKyAncHgpJyxcclxuICAgICAgICAgICAgICAgICctbXMtdHJhbnNmb3JtJzogJ3RyYW5zbGF0ZVgoJyArIHB4ICsgJ3B4KScsXHJcbiAgICAgICAgICAgICAgICAnLXdlYmtpdC10cmFuc2Zvcm0nOiAndHJhbnNsYXRlWCgnICsgcHggKyAncHgpJyxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB0aGlzLnNlZWtCYXJQbGF5YmFja1Bvc2l0aW9uTWFya2VyLmNzcyhzdHlsZSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZWZyZXNoZXMgdGhlIHBsYXliYWNrIHBvc2l0aW9uLiBDYW4gYmUgdXNlZCBieSBzdWJjbGFzc2VzIHRvIHJlZnJlc2ggdGhlIHBvc2l0aW9uIHdoZW5cclxuICAgICAqIHRoZSBzaXplIG9mIHRoZSBjb21wb25lbnQgY2hhbmdlcy5cclxuICAgICAqL1xyXG4gICAgU2Vla0Jhci5wcm90b3R5cGUucmVmcmVzaFBsYXliYWNrUG9zaXRpb24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5zZXRQbGF5YmFja1Bvc2l0aW9uKHRoaXMucGxheWJhY2tQb3NpdGlvblBlcmNlbnRhZ2UpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogU2V0cyB0aGUgcG9zaXRpb24gdW50aWwgd2hpY2ggbWVkaWEgaXMgYnVmZmVyZWQuXHJcbiAgICAgKiBAcGFyYW0gcGVyY2VudCBhIG51bWJlciBiZXR3ZWVuIDAgYW5kIDEwMFxyXG4gICAgICovXHJcbiAgICBTZWVrQmFyLnByb3RvdHlwZS5zZXRCdWZmZXJQb3NpdGlvbiA9IGZ1bmN0aW9uIChwZXJjZW50KSB7XHJcbiAgICAgICAgdGhpcy5zZXRQb3NpdGlvbih0aGlzLnNlZWtCYXJCdWZmZXJQb3NpdGlvbiwgcGVyY2VudCk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBTZXRzIHRoZSBwb3NpdGlvbiB3aGVyZSBhIHNlZWssIGlmIGV4ZWN1dGVkLCB3b3VsZCBqdW1wIHRvLlxyXG4gICAgICogQHBhcmFtIHBlcmNlbnQgYSBudW1iZXIgYmV0d2VlbiAwIGFuZCAxMDBcclxuICAgICAqL1xyXG4gICAgU2Vla0Jhci5wcm90b3R5cGUuc2V0U2Vla1Bvc2l0aW9uID0gZnVuY3Rpb24gKHBlcmNlbnQpIHtcclxuICAgICAgICB0aGlzLnNldFBvc2l0aW9uKHRoaXMuc2Vla0JhclNlZWtQb3NpdGlvbiwgcGVyY2VudCk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgdGhlIGFjdHVhbCBwb3NpdGlvbiAod2lkdGggb3IgaGVpZ2h0KSBvZiBhIERPTSBlbGVtZW50IHRoYXQgcmVwcmVzZW50IGEgYmFyIGluIHRoZSBzZWVrIGJhci5cclxuICAgICAqIEBwYXJhbSBlbGVtZW50IHRoZSBlbGVtZW50IHRvIHNldCB0aGUgcG9zaXRpb24gZm9yXHJcbiAgICAgKiBAcGFyYW0gcGVyY2VudCBhIG51bWJlciBiZXR3ZWVuIDAgYW5kIDEwMFxyXG4gICAgICovXHJcbiAgICBTZWVrQmFyLnByb3RvdHlwZS5zZXRQb3NpdGlvbiA9IGZ1bmN0aW9uIChlbGVtZW50LCBwZXJjZW50KSB7XHJcbiAgICAgICAgdmFyIHNjYWxlID0gcGVyY2VudCAvIDEwMDtcclxuICAgICAgICAvLyBXaGVuIHRoZSBzY2FsZSBpcyBleGFjdGx5IDEgb3IgdmVyeSBuZWFyIDEgKGFuZCB0aGUgYnJvd3NlciBpbnRlcm5hbGx5IHJvdW5kcyBpdCB0byAxKSwgYnJvd3NlcnMgc2VlbSB0byByZW5kZXJcclxuICAgICAgICAvLyB0aGUgZWxlbWVudHMgZGlmZmVyZW50bHkgYW5kIHRoZSBoZWlnaHQgZ2V0cyBzbGlnaHRseSBvZmYsIGxlYWRpbmcgdG8gbWlzbWF0Y2hpbmcgaGVpZ2h0cyB3aGVuIGUuZy4gdGhlIGJ1ZmZlclxyXG4gICAgICAgIC8vIGxldmVsIGJhciBoYXMgYSB3aWR0aCBvZiAxIGFuZCB0aGUgcGxheWJhY2sgcG9zaXRpb24gYmFyIGhhcyBhIHdpZHRoIDwgMS4gQSBqaXR0ZXJpbmcgYnVmZmVyIGxldmVsIGFyb3VuZCAxXHJcbiAgICAgICAgLy8gbGVhZHMgdG8gYW4gZXZlbiB3b3JzZSBmbGlja2VyaW5nIGVmZmVjdC5cclxuICAgICAgICAvLyBWYXJpb3VzIGNoYW5nZXMgaW4gQ1NTIHN0eWxpbmcgYW5kIERPTSBoaWVyYXJjaHkgZGlkIG5vdCBzb2x2ZSB0aGUgaXNzdWUgc28gdGhlIHdvcmthcm91bmQgaXMgdG8gYXZvaWQgYSBzY2FsZVxyXG4gICAgICAgIC8vIG9mIGV4YWN0bHkgMS5cclxuICAgICAgICBpZiAoc2NhbGUgPj0gMC45OTk5OSAmJiBzY2FsZSA8PSAxLjAwMDAxKSB7XHJcbiAgICAgICAgICAgIHNjYWxlID0gMC45OTk5OTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHN0eWxlID0gdGhpcy5jb25maWcudmVydGljYWwgP1xyXG4gICAgICAgICAgICAvLyAtbXMtdHJhbnNmb3JtIHJlcXVpcmVkIGZvciBJRTlcclxuICAgICAgICAgICAgLy8gLXdlYmtpdC10cmFuc2Zvcm0gcmVxdWlyZWQgZm9yIEFuZHJvaWQgNC40IFdlYlZpZXdcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgJ3RyYW5zZm9ybSc6ICdzY2FsZVkoJyArIHNjYWxlICsgJyknLFxyXG4gICAgICAgICAgICAgICAgJy1tcy10cmFuc2Zvcm0nOiAnc2NhbGVZKCcgKyBzY2FsZSArICcpJyxcclxuICAgICAgICAgICAgICAgICctd2Via2l0LXRyYW5zZm9ybSc6ICdzY2FsZVkoJyArIHNjYWxlICsgJyknLFxyXG4gICAgICAgICAgICB9IDpcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgJ3RyYW5zZm9ybSc6ICdzY2FsZVgoJyArIHNjYWxlICsgJyknLFxyXG4gICAgICAgICAgICAgICAgJy1tcy10cmFuc2Zvcm0nOiAnc2NhbGVYKCcgKyBzY2FsZSArICcpJyxcclxuICAgICAgICAgICAgICAgICctd2Via2l0LXRyYW5zZm9ybSc6ICdzY2FsZVgoJyArIHNjYWxlICsgJyknLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIGVsZW1lbnQuY3NzKHN0eWxlKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFB1dHMgdGhlIHNlZWsgYmFyIGludG8gb3Igb3V0IG9mIHNlZWtpbmcgc3RhdGUgYnkgYWRkaW5nL3JlbW92aW5nIGEgY2xhc3MgdG8gdGhlIERPTSBlbGVtZW50LiBUaGlzIGNhbiBiZSB1c2VkXHJcbiAgICAgKiB0byBhZGp1c3QgdGhlIHN0eWxpbmcgd2hpbGUgc2Vla2luZy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gc2Vla2luZyBzaG91bGQgYmUgdHJ1ZSB3aGVuIGVudGVyaW5nIHNlZWsgc3RhdGUsIGZhbHNlIHdoZW4gZXhpdGluZyB0aGUgc2VlayBzdGF0ZVxyXG4gICAgICovXHJcbiAgICBTZWVrQmFyLnByb3RvdHlwZS5zZXRTZWVraW5nID0gZnVuY3Rpb24gKHNlZWtpbmcpIHtcclxuICAgICAgICBpZiAoc2Vla2luZykge1xyXG4gICAgICAgICAgICB0aGlzLmdldERvbUVsZW1lbnQoKS5hZGRDbGFzcyh0aGlzLnByZWZpeENzcyhTZWVrQmFyLkNMQVNTX1NFRUtJTkcpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2V0RG9tRWxlbWVudCgpLnJlbW92ZUNsYXNzKHRoaXMucHJlZml4Q3NzKFNlZWtCYXIuQ0xBU1NfU0VFS0lORykpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIENoZWNrcyBpZiB0aGUgc2VlayBiYXIgaXMgY3VycmVudGx5IGluIHRoZSBzZWVrIHN0YXRlLlxyXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IHRydWUgaWYgaW4gc2VlayBzdGF0ZSwgZWxzZSBmYWxzZVxyXG4gICAgICovXHJcbiAgICBTZWVrQmFyLnByb3RvdHlwZS5pc1NlZWtpbmcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RG9tRWxlbWVudCgpLmhhc0NsYXNzKHRoaXMucHJlZml4Q3NzKFNlZWtCYXIuQ0xBU1NfU0VFS0lORykpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2tzIGlmIHRoZSBzZWVrIGJhciBoYXMgYSB7QGxpbmsgU2Vla0JhckxhYmVsfS5cclxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlmIHRoZSBzZWVrIGJhciBoYXMgYSBsYWJlbCwgZWxzZSBmYWxzZVxyXG4gICAgICovXHJcbiAgICBTZWVrQmFyLnByb3RvdHlwZS5oYXNMYWJlbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5sYWJlbCAhPSBudWxsO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogR2V0cyB0aGUgbGFiZWwgb2YgdGhpcyBzZWVrIGJhci5cclxuICAgICAqIEByZXR1cm5zIHtTZWVrQmFyTGFiZWx9IHRoZSBsYWJlbCBpZiB0aGlzIHNlZWsgYmFyIGhhcyBhIGxhYmVsLCBlbHNlIG51bGxcclxuICAgICAqL1xyXG4gICAgU2Vla0Jhci5wcm90b3R5cGUuZ2V0TGFiZWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubGFiZWw7XHJcbiAgICB9O1xyXG4gICAgU2Vla0Jhci5wcm90b3R5cGUub25TZWVrRXZlbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5zZWVrQmFyRXZlbnRzLm9uU2Vlay5kaXNwYXRjaCh0aGlzKTtcclxuICAgIH07XHJcbiAgICBTZWVrQmFyLnByb3RvdHlwZS5vblNlZWtQcmV2aWV3RXZlbnQgPSBmdW5jdGlvbiAocGVyY2VudGFnZSwgc2NydWJiaW5nKSB7XHJcbiAgICAgICAgdmFyIHNuYXBwZWRNYXJrZXIgPSB0aGlzLmdldE1hcmtlckF0UG9zaXRpb24ocGVyY2VudGFnZSk7XHJcbiAgICAgICAgdmFyIHNlZWtQb3NpdGlvblBlcmNlbnRhZ2UgPSBwZXJjZW50YWdlO1xyXG4gICAgICAgIGlmIChzbmFwcGVkTWFya2VyKSB7XHJcbiAgICAgICAgICAgIGlmIChzbmFwcGVkTWFya2VyLmR1cmF0aW9uID4gMCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHBlcmNlbnRhZ2UgPCBzbmFwcGVkTWFya2VyLnBvc2l0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gU25hcCB0aGUgcG9zaXRpb24gdG8gdGhlIHN0YXJ0IG9mIHRoZSBpbnRlcnZhbCBpZiB0aGUgc2VlayBpcyB3aXRoaW4gdGhlIGxlZnQgc25hcCBtYXJnaW5cclxuICAgICAgICAgICAgICAgICAgICAvLyBXZSBrbm93IHRoYXQgd2UgYXJlIHdpdGhpbiBhIHNuYXAgbWFyZ2luIHdoZW4gd2UgYXJlIG91dHNpZGUgdGhlIG1hcmtlciBpbnRlcnZhbCBidXQgc3RpbGxcclxuICAgICAgICAgICAgICAgICAgICAvLyBoYXZlIGEgc25hcHBlZE1hcmtlclxyXG4gICAgICAgICAgICAgICAgICAgIHNlZWtQb3NpdGlvblBlcmNlbnRhZ2UgPSBzbmFwcGVkTWFya2VyLnBvc2l0aW9uO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAocGVyY2VudGFnZSA+IHNuYXBwZWRNYXJrZXIucG9zaXRpb24gKyBzbmFwcGVkTWFya2VyLmR1cmF0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gU25hcCB0aGUgcG9zaXRpb24gdG8gdGhlIGVuZCBvZiB0aGUgaW50ZXJ2YWwgaWYgdGhlIHNlZWsgaXMgd2l0aGluIHRoZSByaWdodCBzbmFwIG1hcmdpblxyXG4gICAgICAgICAgICAgICAgICAgIHNlZWtQb3NpdGlvblBlcmNlbnRhZ2UgPSBzbmFwcGVkTWFya2VyLnBvc2l0aW9uICsgc25hcHBlZE1hcmtlci5kdXJhdGlvbjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIFBvc2l0aW9uIG1hcmtlcnMgYWx3YXlzIHNuYXAgdG8gdGhlaXIgbWFya2VyIHBvc2l0aW9uXHJcbiAgICAgICAgICAgICAgICBzZWVrUG9zaXRpb25QZXJjZW50YWdlID0gc25hcHBlZE1hcmtlci5wb3NpdGlvbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5sYWJlbCkge1xyXG4gICAgICAgICAgICB0aGlzLmxhYmVsLmdldERvbUVsZW1lbnQoKS5jc3Moe1xyXG4gICAgICAgICAgICAgICAgJ2xlZnQnOiBzZWVrUG9zaXRpb25QZXJjZW50YWdlICsgJyUnLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zZWVrQmFyRXZlbnRzLm9uU2Vla1ByZXZpZXcuZGlzcGF0Y2godGhpcywge1xyXG4gICAgICAgICAgICBzY3J1YmJpbmc6IHNjcnViYmluZyxcclxuICAgICAgICAgICAgcG9zaXRpb246IHNlZWtQb3NpdGlvblBlcmNlbnRhZ2UsXHJcbiAgICAgICAgICAgIG1hcmtlcjogc25hcHBlZE1hcmtlcixcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBTZWVrQmFyLnByb3RvdHlwZS5vblNlZWtlZEV2ZW50ID0gZnVuY3Rpb24gKHBlcmNlbnRhZ2UpIHtcclxuICAgICAgICB0aGlzLnNlZWtCYXJFdmVudHMub25TZWVrZWQuZGlzcGF0Y2godGhpcywgcGVyY2VudGFnZSk7XHJcbiAgICB9O1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNlZWtCYXIucHJvdG90eXBlLCBcIm9uU2Vla1wiLCB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogR2V0cyB0aGUgZXZlbnQgdGhhdCBpcyBmaXJlZCB3aGVuIGEgc2NydWJiaW5nIHNlZWsgb3BlcmF0aW9uIGlzIHN0YXJ0ZWQuXHJcbiAgICAgICAgICogQHJldHVybnMge0V2ZW50PFNlZWtCYXIsIE5vQXJncz59XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNlZWtCYXJFdmVudHMub25TZWVrLmdldEV2ZW50KCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU2Vla0Jhci5wcm90b3R5cGUsIFwib25TZWVrUHJldmlld1wiLCB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogR2V0cyB0aGUgZXZlbnQgdGhhdCBpcyBmaXJlZCBkdXJpbmcgYSBzY3J1YmJpbmcgc2VlayAodG8gaW5kaWNhdGUgdGhhdCB0aGUgc2VlayBwcmV2aWV3LCBpLmUuIHRoZSB2aWRlbyBmcmFtZSxcclxuICAgICAgICAgKiBzaG91bGQgYmUgdXBkYXRlZCksIG9yIGR1cmluZyBhIG5vcm1hbCBzZWVrIHByZXZpZXcgd2hlbiB0aGUgc2VlayBiYXIgaXMgaG92ZXJlZCAoYW5kIHRoZSBzZWVrIHRhcmdldCxcclxuICAgICAgICAgKiBpLmUuIHRoZSBzZWVrIGJhciBsYWJlbCwgc2hvdWxkIGJlIHVwZGF0ZWQpLlxyXG4gICAgICAgICAqIEByZXR1cm5zIHtFdmVudDxTZWVrQmFyLCBTZWVrUHJldmlld0V2ZW50QXJncz59XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNlZWtCYXJFdmVudHMub25TZWVrUHJldmlldy5nZXRFdmVudCgpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNlZWtCYXIucHJvdG90eXBlLCBcIm9uU2Vla2VkXCIsIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBHZXRzIHRoZSBldmVudCB0aGF0IGlzIGZpcmVkIHdoZW4gYSBzY3J1YmJpbmcgc2VlayBoYXMgZmluaXNoZWQgb3Igd2hlbiBhIGRpcmVjdCBzZWVrIGlzIGlzc3VlZC5cclxuICAgICAgICAgKiBAcmV0dXJucyB7RXZlbnQ8U2Vla0JhciwgbnVtYmVyPn1cclxuICAgICAgICAgKi9cclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2Vla0JhckV2ZW50cy5vblNlZWtlZC5nZXRFdmVudCgpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgU2Vla0Jhci5wcm90b3R5cGUub25TaG93RXZlbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5vblNob3dFdmVudC5jYWxsKHRoaXMpO1xyXG4gICAgICAgIC8vIFJlZnJlc2ggdGhlIHBvc2l0aW9uIG9mIHRoZSBwbGF5YmFjayBwb3NpdGlvbiB3aGVuIHRoZSBzZWVrIGJhciBiZWNvbWVzIHZpc2libGUuIFRvIGNvcnJlY3RseSBzZXQgdGhlIHBvc2l0aW9uLFxyXG4gICAgICAgIC8vIHRoZSBET00gZWxlbWVudCBtdXN0IGJlIGZ1bGx5IGluaXRpYWxpemVkIGFuIGhhdmUgaXRzIHNpemUgY2FsY3VsYXRlZCwgYmVjYXVzZSB0aGUgcG9zaXRpb24gaXMgc2V0IGFzIGFuIGFic29sdXRlXHJcbiAgICAgICAgLy8gdmFsdWUgY2FsY3VsYXRlZCBmcm9tIHRoZSBzaXplLiBUaGlzIHJlcXVpcmVkIHNpemUgaXMgbm90IGtub3duIHdoZW4gaXQgaXMgaGlkZGVuLlxyXG4gICAgICAgIC8vIEZvciBzdWNoIGNhc2VzLCB3ZSByZWZyZXNoIHRoZSBwb3NpdGlvbiBoZXJlIGluIG9uU2hvdyBiZWNhdXNlIGhlcmUgaXQgaXMgZ3VhcmFudGVlZCB0aGF0IHRoZSBjb21wb25lbnQga25vd3NcclxuICAgICAgICAvLyBpdHMgc2l6ZSBhbmQgY2FuIHNldCB0aGUgcG9zaXRpb24gY29ycmVjdGx5LlxyXG4gICAgICAgIHRoaXMucmVmcmVzaFBsYXliYWNrUG9zaXRpb24oKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gU2Vla0JhcjtcclxufShjb21wb25lbnRfMS5Db21wb25lbnQpKTtcclxuU2Vla0Jhci5TTU9PVEhfUExBWUJBQ0tfUE9TSVRJT05fVVBEQVRFX0RJU0FCTEVEID0gLTE7XHJcbi8qKlxyXG4gKiBUaGUgQ1NTIGNsYXNzIHRoYXQgaXMgYWRkZWQgdG8gdGhlIERPTSBlbGVtZW50IHdoaWxlIHRoZSBzZWVrIGJhciBpcyBpbiAnc2Vla2luZycgc3RhdGUuXHJcbiAqL1xyXG5TZWVrQmFyLkNMQVNTX1NFRUtJTkcgPSAnc2Vla2luZyc7XHJcbmV4cG9ydHMuU2Vla0JhciA9IFNlZWtCYXI7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9zZWVrYmFyLnRzXG4vLyBtb2R1bGUgaWQgPSAxOFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGNvbnRhaW5lcl8xID0gcmVxdWlyZShcIi4vY29udGFpbmVyXCIpO1xyXG52YXIgdWl1dGlsc18xID0gcmVxdWlyZShcIi4uL3VpdXRpbHNcIik7XHJcbnZhciBzcGFjZXJfMSA9IHJlcXVpcmUoXCIuL3NwYWNlclwiKTtcclxuLyoqXHJcbiAqIEEgY29udGFpbmVyIGZvciBtYWluIHBsYXllciBjb250cm9sIGNvbXBvbmVudHMsIGUuZy4gcGxheSB0b2dnbGUgYnV0dG9uLCBzZWVrIGJhciwgdm9sdW1lIGNvbnRyb2wsIGZ1bGxzY3JlZW4gdG9nZ2xlXHJcbiAqIGJ1dHRvbi5cclxuICovXHJcbnZhciBDb250cm9sQmFyID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhDb250cm9sQmFyLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gQ29udHJvbEJhcihjb25maWcpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBjb25maWcpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMuY29uZmlnID0gX3RoaXMubWVyZ2VDb25maWcoY29uZmlnLCB7XHJcbiAgICAgICAgICAgIGNzc0NsYXNzOiAndWktY29udHJvbGJhcicsXHJcbiAgICAgICAgICAgIGhpZGRlbjogdHJ1ZSxcclxuICAgICAgICB9LCBfdGhpcy5jb25maWcpO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIENvbnRyb2xCYXIucHJvdG90eXBlLmNvbmZpZ3VyZSA9IGZ1bmN0aW9uIChwbGF5ZXIsIHVpbWFuYWdlcikge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5jb25maWd1cmUuY2FsbCh0aGlzLCBwbGF5ZXIsIHVpbWFuYWdlcik7XHJcbiAgICAgICAgLy8gQ291bnRzIGhvdyBtYW55IGNvbXBvbmVudHMgYXJlIGhvdmVyZWQgYW5kIGJsb2NrIGhpZGluZyBvZiB0aGUgY29udHJvbCBiYXJcclxuICAgICAgICB2YXIgaG92ZXJTdGFja0NvdW50ID0gMDtcclxuICAgICAgICAvLyBUcmFjayBob3ZlciBzdGF0dXMgb2YgY2hpbGQgY29tcG9uZW50c1xyXG4gICAgICAgIHVpdXRpbHNfMS5VSVV0aWxzLnRyYXZlcnNlVHJlZSh0aGlzLCBmdW5jdGlvbiAoY29tcG9uZW50KSB7XHJcbiAgICAgICAgICAgIC8vIERvIG5vdCB0cmFjayBob3ZlciBzdGF0dXMgb2YgY2hpbGQgY29udGFpbmVycyBvciBzcGFjZXJzLCBvbmx5IG9mICdyZWFsJyBjb250cm9sc1xyXG4gICAgICAgICAgICBpZiAoY29tcG9uZW50IGluc3RhbmNlb2YgY29udGFpbmVyXzEuQ29udGFpbmVyIHx8IGNvbXBvbmVudCBpbnN0YW5jZW9mIHNwYWNlcl8xLlNwYWNlcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIFN1YnNjcmliZSBob3ZlciBldmVudCBhbmQga2VlcCBhIGNvdW50IG9mIHRoZSBudW1iZXIgb2YgaG92ZXJlZCBjaGlsZHJlblxyXG4gICAgICAgICAgICBjb21wb25lbnQub25Ib3ZlckNoYW5nZWQuc3Vic2NyaWJlKGZ1bmN0aW9uIChzZW5kZXIsIGFyZ3MpIHtcclxuICAgICAgICAgICAgICAgIGlmIChhcmdzLmhvdmVyZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBob3ZlclN0YWNrQ291bnQrKztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGhvdmVyU3RhY2tDb3VudC0tO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB1aW1hbmFnZXIub25Db250cm9sc1Nob3cuc3Vic2NyaWJlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgX3RoaXMuc2hvdygpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHVpbWFuYWdlci5vblByZXZpZXdDb250cm9sc0hpZGUuc3Vic2NyaWJlKGZ1bmN0aW9uIChzZW5kZXIsIGFyZ3MpIHtcclxuICAgICAgICAgICAgLy8gQ2FuY2VsIHRoZSBoaWRlIGV2ZW50IGlmIGhvdmVyZWQgY2hpbGQgY29tcG9uZW50cyBibG9jayBoaWRpbmdcclxuICAgICAgICAgICAgYXJncy5jYW5jZWwgPSAoaG92ZXJTdGFja0NvdW50ID4gMCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdWltYW5hZ2VyLm9uQ29udHJvbHNIaWRlLnN1YnNjcmliZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIF90aGlzLmhpZGUoKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gQ29udHJvbEJhcjtcclxufShjb250YWluZXJfMS5Db250YWluZXIpKTtcclxuZXhwb3J0cy5Db250cm9sQmFyID0gQ29udHJvbEJhcjtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL2NvbnRyb2xiYXIudHNcbi8vIG1vZHVsZSBpZCA9IDE5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBjb250YWluZXJfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvY29udGFpbmVyXCIpO1xyXG52YXIgVUlVdGlscztcclxuKGZ1bmN0aW9uIChVSVV0aWxzKSB7XHJcbiAgICBmdW5jdGlvbiB0cmF2ZXJzZVRyZWUoY29tcG9uZW50LCB2aXNpdCkge1xyXG4gICAgICAgIHZhciByZWN1cnNpdmVUcmVlV2Fsa2VyID0gZnVuY3Rpb24gKGNvbXBvbmVudCwgcGFyZW50KSB7XHJcbiAgICAgICAgICAgIHZpc2l0KGNvbXBvbmVudCwgcGFyZW50KTtcclxuICAgICAgICAgICAgLy8gSWYgdGhlIGN1cnJlbnQgY29tcG9uZW50IGlzIGEgY29udGFpbmVyLCB2aXNpdCBpdCdzIGNoaWxkcmVuXHJcbiAgICAgICAgICAgIGlmIChjb21wb25lbnQgaW5zdGFuY2VvZiBjb250YWluZXJfMS5Db250YWluZXIpIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSBjb21wb25lbnQuZ2V0Q29tcG9uZW50cygpOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjaGlsZENvbXBvbmVudCA9IF9hW19pXTtcclxuICAgICAgICAgICAgICAgICAgICByZWN1cnNpdmVUcmVlV2Fsa2VyKGNoaWxkQ29tcG9uZW50LCBjb21wb25lbnQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICAvLyBXYWxrIGFuZCBjb25maWd1cmUgdGhlIGNvbXBvbmVudCB0cmVlXHJcbiAgICAgICAgcmVjdXJzaXZlVHJlZVdhbGtlcihjb21wb25lbnQpO1xyXG4gICAgfVxyXG4gICAgVUlVdGlscy50cmF2ZXJzZVRyZWUgPSB0cmF2ZXJzZVRyZWU7XHJcbn0pKFVJVXRpbHMgPSBleHBvcnRzLlVJVXRpbHMgfHwgKGV4cG9ydHMuVUlVdGlscyA9IHt9KSk7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvdWl1dGlscy50c1xuLy8gbW9kdWxlIGlkID0gMjBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBjb21wb25lbnRfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudFwiKTtcclxuLyoqXHJcbiAqIEEgZHVtbXkgY29tcG9uZW50IHRoYXQganVzdCByZXNlcnZlcyBzb21lIHNwYWNlIGFuZCBkb2VzIG5vdGhpbmcgZWxzZS5cclxuICovXHJcbnZhciBTcGFjZXIgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKFNwYWNlciwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIFNwYWNlcihjb25maWcpIHtcclxuICAgICAgICBpZiAoY29uZmlnID09PSB2b2lkIDApIHsgY29uZmlnID0ge307IH1cclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBjb25maWcpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMuY29uZmlnID0gX3RoaXMubWVyZ2VDb25maWcoY29uZmlnLCB7XHJcbiAgICAgICAgICAgIGNzc0NsYXNzOiAndWktc3BhY2VyJyxcclxuICAgICAgICB9LCBfdGhpcy5jb25maWcpO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIFNwYWNlci5wcm90b3R5cGUub25TaG93RXZlbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8gZGlzYWJsZSBldmVudCBmaXJpbmcgYnkgb3ZlcndyaXRpbmcgYW5kIG5vdCBjYWxsaW5nIHN1cGVyXHJcbiAgICB9O1xyXG4gICAgU3BhY2VyLnByb3RvdHlwZS5vbkhpZGVFdmVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyBkaXNhYmxlIGV2ZW50IGZpcmluZyBieSBvdmVyd3JpdGluZyBhbmQgbm90IGNhbGxpbmcgc3VwZXJcclxuICAgIH07XHJcbiAgICBTcGFjZXIucHJvdG90eXBlLm9uSG92ZXJDaGFuZ2VkRXZlbnQgPSBmdW5jdGlvbiAoaG92ZXJlZCkge1xyXG4gICAgICAgIC8vIGRpc2FibGUgZXZlbnQgZmlyaW5nIGJ5IG92ZXJ3cml0aW5nIGFuZCBub3QgY2FsbGluZyBzdXBlclxyXG4gICAgfTtcclxuICAgIHJldHVybiBTcGFjZXI7XHJcbn0oY29tcG9uZW50XzEuQ29tcG9uZW50KSk7XHJcbmV4cG9ydHMuU3BhY2VyID0gU3BhY2VyO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvc3BhY2VyLnRzXG4vLyBtb2R1bGUgaWQgPSAyMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGNvbnRhaW5lcl8xID0gcmVxdWlyZShcIi4vY29udGFpbmVyXCIpO1xyXG52YXIgY29tcG9uZW50XzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRcIik7XHJcbnZhciBzZWxlY3Rib3hfMSA9IHJlcXVpcmUoXCIuL3NlbGVjdGJveFwiKTtcclxudmFyIGxhYmVsXzEgPSByZXF1aXJlKFwiLi9sYWJlbFwiKTtcclxudmFyIHZpZGVvcXVhbGl0eXNlbGVjdGJveF8xID0gcmVxdWlyZShcIi4vdmlkZW9xdWFsaXR5c2VsZWN0Ym94XCIpO1xyXG52YXIgYXVkaW9xdWFsaXR5c2VsZWN0Ym94XzEgPSByZXF1aXJlKFwiLi9hdWRpb3F1YWxpdHlzZWxlY3Rib3hcIik7XHJcbnZhciB0aW1lb3V0XzEgPSByZXF1aXJlKFwiLi4vdGltZW91dFwiKTtcclxudmFyIGV2ZW50ZGlzcGF0Y2hlcl8xID0gcmVxdWlyZShcIi4uL2V2ZW50ZGlzcGF0Y2hlclwiKTtcclxuLyoqXHJcbiAqIEEgcGFuZWwgY29udGFpbmluZyBhIGxpc3Qgb2Yge0BsaW5rIFNldHRpbmdzUGFuZWxJdGVtIGl0ZW1zfSB0aGF0IHJlcHJlc2VudCBsYWJlbGxlZCBzZXR0aW5ncy5cclxuICovXHJcbnZhciBTZXR0aW5nc1BhbmVsID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhTZXR0aW5nc1BhbmVsLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gU2V0dGluZ3NQYW5lbChjb25maWcpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBjb25maWcpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMuc2V0dGluZ3NQYW5lbEV2ZW50cyA9IHtcclxuICAgICAgICAgICAgb25TZXR0aW5nc1N0YXRlQ2hhbmdlZDogbmV3IGV2ZW50ZGlzcGF0Y2hlcl8xLkV2ZW50RGlzcGF0Y2hlcigpLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgX3RoaXMuY29uZmlnID0gX3RoaXMubWVyZ2VDb25maWcoY29uZmlnLCB7XHJcbiAgICAgICAgICAgIGNzc0NsYXNzOiAndWktc2V0dGluZ3MtcGFuZWwnLFxyXG4gICAgICAgICAgICBoaWRlRGVsYXk6IDMwMDAsXHJcbiAgICAgICAgfSwgX3RoaXMuY29uZmlnKTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBTZXR0aW5nc1BhbmVsLnByb3RvdHlwZS5jb25maWd1cmUgPSBmdW5jdGlvbiAocGxheWVyLCB1aW1hbmFnZXIpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuY29uZmlndXJlLmNhbGwodGhpcywgcGxheWVyLCB1aW1hbmFnZXIpO1xyXG4gICAgICAgIHZhciBjb25maWcgPSB0aGlzLmdldENvbmZpZygpOyAvLyBUT0RPIGZpeCBnZW5lcmljcyB0eXBlIGluZmVyZW5jZVxyXG4gICAgICAgIGlmIChjb25maWcuaGlkZURlbGF5ID4gLTEpIHtcclxuICAgICAgICAgICAgdGhpcy5oaWRlVGltZW91dCA9IG5ldyB0aW1lb3V0XzEuVGltZW91dChjb25maWcuaGlkZURlbGF5LCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5oaWRlSG92ZXJlZFNlbGVjdEJveGVzKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLm9uU2hvdy5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgLy8gQWN0aXZhdGUgdGltZW91dCB3aGVuIHNob3duXHJcbiAgICAgICAgICAgICAgICBfdGhpcy5oaWRlVGltZW91dC5zdGFydCgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5nZXREb21FbGVtZW50KCkub24oJ21vdXNlZW50ZXInLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBPbiBtb3VzZSBlbnRlciBjbGVhciB0aGUgdGltZW91dFxyXG4gICAgICAgICAgICAgICAgX3RoaXMuaGlkZVRpbWVvdXQuY2xlYXIoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuZ2V0RG9tRWxlbWVudCgpLm9uKCdtb3VzZWxlYXZlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgLy8gT24gbW91c2UgbGVhdmUgYWN0aXZhdGUgdGhlIHRpbWVvdXRcclxuICAgICAgICAgICAgICAgIF90aGlzLmhpZGVUaW1lb3V0LnJlc2V0KCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLm9uSGlkZS5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgLy8gQ2xlYXIgdGltZW91dCB3aGVuIGhpZGRlbiBmcm9tIG91dHNpZGVcclxuICAgICAgICAgICAgICAgIF90aGlzLmhpZGVUaW1lb3V0LmNsZWFyKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBGaXJlIGV2ZW50IHdoZW4gdGhlIHN0YXRlIG9mIGEgc2V0dGluZ3MtaXRlbSBoYXMgY2hhbmdlZFxyXG4gICAgICAgIHZhciBzZXR0aW5nc1N0YXRlQ2hhbmdlZEhhbmRsZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIF90aGlzLm9uU2V0dGluZ3NTdGF0ZUNoYW5nZWRFdmVudCgpO1xyXG4gICAgICAgICAgICAvLyBBdHRhY2ggbWFya2VyIGNsYXNzIHRvIGxhc3QgdmlzaWJsZSBpdGVtXHJcbiAgICAgICAgICAgIHZhciBsYXN0U2hvd25JdGVtID0gbnVsbDtcclxuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IF90aGlzLmdldEl0ZW1zKCk7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY29tcG9uZW50ID0gX2FbX2ldO1xyXG4gICAgICAgICAgICAgICAgY29tcG9uZW50LmdldERvbUVsZW1lbnQoKS5yZW1vdmVDbGFzcyhfdGhpcy5wcmVmaXhDc3MoU2V0dGluZ3NQYW5lbC5DTEFTU19MQVNUKSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoY29tcG9uZW50LmlzU2hvd24oKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxhc3RTaG93bkl0ZW0gPSBjb21wb25lbnQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGxhc3RTaG93bkl0ZW0pIHtcclxuICAgICAgICAgICAgICAgIGxhc3RTaG93bkl0ZW0uZ2V0RG9tRWxlbWVudCgpLmFkZENsYXNzKF90aGlzLnByZWZpeENzcyhTZXR0aW5nc1BhbmVsLkNMQVNTX0xBU1QpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IHRoaXMuZ2V0SXRlbXMoKTsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgdmFyIGNvbXBvbmVudCA9IF9hW19pXTtcclxuICAgICAgICAgICAgY29tcG9uZW50Lm9uQWN0aXZlQ2hhbmdlZC5zdWJzY3JpYmUoc2V0dGluZ3NTdGF0ZUNoYW5nZWRIYW5kbGVyKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBIYWNrIGZvciBJRSArIEZpcmVmb3hcclxuICAgICAqIHdoZW4gdGhlIHNldHRpbmdzIHBhbmVsIGZhZGVzIG91dCB3aGlsZSBhbiBpdGVtIG9mIGEgc2VsZWN0IGJveCBpcyBzdGlsbCBob3ZlcmVkLCB0aGUgc2VsZWN0IGJveCB3aWxsIG5vdCBmYWRlIG91dFxyXG4gICAgICogd2hpbGUgdGhlIHNldHRpbmdzIHBhbmVsIGRvZXMuIFRoaXMgd291bGQgbGVhdmUgYSBmbG9hdGluZyBzZWxlY3QgYm94LCB3aGljaCBpcyBqdXN0IHdlaXJkXHJcbiAgICAgKi9cclxuICAgIFNldHRpbmdzUGFuZWwucHJvdG90eXBlLmhpZGVIb3ZlcmVkU2VsZWN0Qm94ZXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5nZXRJdGVtcygpLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICAgICAgaWYgKGl0ZW0uaXNBY3RpdmUoKSAmJiBpdGVtLnNldHRpbmcgaW5zdGFuY2VvZiBzZWxlY3Rib3hfMS5TZWxlY3RCb3gpIHtcclxuICAgICAgICAgICAgICAgIHZhciBzZWxlY3RCb3hfMSA9IGl0ZW0uc2V0dGluZztcclxuICAgICAgICAgICAgICAgIHZhciBvbGREaXNwbGF5XzEgPSBzZWxlY3RCb3hfMS5nZXREb21FbGVtZW50KCkuY3NzKCdkaXNwbGF5Jyk7XHJcbiAgICAgICAgICAgICAgICAvLyB1cGRhdGluZyB0aGUgZGlzcGxheSB0byBub25lIG1hcmtzIHRoZSBzZWxlY3QtYm94IGFzIGluYWN0aXZlLCBzbyBpdCB3aWxsIGJlIGhpZGRlbiB3aXRoIHRoZSByZXN0XHJcbiAgICAgICAgICAgICAgICAvLyB3ZSBqdXN0IGhhdmUgdG8gbWFrZSBzdXJlIHRvIHJlc2V0IHRoaXMgYXMgc29vbiBhcyBwb3NzaWJsZVxyXG4gICAgICAgICAgICAgICAgc2VsZWN0Qm94XzEuZ2V0RG9tRWxlbWVudCgpLmNzcygnZGlzcGxheScsICdub25lJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAod2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbiAoKSB7IHNlbGVjdEJveF8xLmdldERvbUVsZW1lbnQoKS5jc3MoJ2Rpc3BsYXknLCBvbGREaXNwbGF5XzEpOyB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIElFOSBoYXMgbm8gcmVxdWVzdEFuaW1hdGlvbkZyYW1lLCBzZXQgdGhlIHZhbHVlIGRpcmVjdGx5LiBJdCBoYXMgbm8gb3B0aW1pemF0aW9uIGFib3V0IGlnbm9yaW5nIERPTS1jaGFuZ2VzXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYmV0d2VlbiBhbmltYXRpb25GcmFtZXNcclxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RCb3hfMS5nZXREb21FbGVtZW50KCkuY3NzKCdkaXNwbGF5Jywgb2xkRGlzcGxheV8xKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIFNldHRpbmdzUGFuZWwucHJvdG90eXBlLnJlbGVhc2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5yZWxlYXNlLmNhbGwodGhpcyk7XHJcbiAgICAgICAgaWYgKHRoaXMuaGlkZVRpbWVvdXQpIHtcclxuICAgICAgICAgICAgdGhpcy5oaWRlVGltZW91dC5jbGVhcigpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIENoZWNrcyBpZiB0aGVyZSBhcmUgYWN0aXZlIHNldHRpbmdzIHdpdGhpbiB0aGlzIHNldHRpbmdzIHBhbmVsLiBBbiBhY3RpdmUgc2V0dGluZyBpcyBhIHNldHRpbmcgdGhhdCBpcyB2aXNpYmxlXHJcbiAgICAgKiBhbmQgZW5hYmxlZCwgd2hpY2ggdGhlIHVzZXIgY2FuIGludGVyYWN0IHdpdGguXHJcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpZiB0aGVyZSBhcmUgYWN0aXZlIHNldHRpbmdzLCBmYWxzZSBpZiB0aGUgcGFuZWwgaXMgZnVuY3Rpb25hbGx5IGVtcHR5IHRvIGEgdXNlclxyXG4gICAgICovXHJcbiAgICBTZXR0aW5nc1BhbmVsLnByb3RvdHlwZS5oYXNBY3RpdmVTZXR0aW5ncyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gdGhpcy5nZXRJdGVtcygpOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICB2YXIgY29tcG9uZW50ID0gX2FbX2ldO1xyXG4gICAgICAgICAgICBpZiAoY29tcG9uZW50LmlzQWN0aXZlKCkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH07XHJcbiAgICBTZXR0aW5nc1BhbmVsLnByb3RvdHlwZS5nZXRJdGVtcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb25maWcuY29tcG9uZW50cy5maWx0ZXIoZnVuY3Rpb24gKGNvbXBvbmVudCkgeyByZXR1cm4gY29tcG9uZW50IGluc3RhbmNlb2YgU2V0dGluZ3NQYW5lbEl0ZW07IH0pO1xyXG4gICAgfTtcclxuICAgIFNldHRpbmdzUGFuZWwucHJvdG90eXBlLm9uU2V0dGluZ3NTdGF0ZUNoYW5nZWRFdmVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLnNldHRpbmdzUGFuZWxFdmVudHMub25TZXR0aW5nc1N0YXRlQ2hhbmdlZC5kaXNwYXRjaCh0aGlzKTtcclxuICAgIH07XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU2V0dGluZ3NQYW5lbC5wcm90b3R5cGUsIFwib25TZXR0aW5nc1N0YXRlQ2hhbmdlZFwiLCB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogR2V0cyB0aGUgZXZlbnQgdGhhdCBpcyBmaXJlZCB3aGVuIG9uZSBvciBtb3JlIHtAbGluayBTZXR0aW5nc1BhbmVsSXRlbSBpdGVtc30gaGF2ZSBjaGFuZ2VkIHN0YXRlLlxyXG4gICAgICAgICAqIEByZXR1cm5zIHtFdmVudDxTZXR0aW5nc1BhbmVsLCBOb0FyZ3M+fVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5nc1BhbmVsRXZlbnRzLm9uU2V0dGluZ3NTdGF0ZUNoYW5nZWQuZ2V0RXZlbnQoKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIHJldHVybiBTZXR0aW5nc1BhbmVsO1xyXG59KGNvbnRhaW5lcl8xLkNvbnRhaW5lcikpO1xyXG5TZXR0aW5nc1BhbmVsLkNMQVNTX0xBU1QgPSAnbGFzdCc7XHJcbmV4cG9ydHMuU2V0dGluZ3NQYW5lbCA9IFNldHRpbmdzUGFuZWw7XHJcbi8qKlxyXG4gKiBBbiBpdGVtIGZvciBhIHtAbGluayBTZXR0aW5nc1BhbmVsfSxcclxuICogQ29udGFpbmluZyBhbiBvcHRpb25uYWwge0BsaW5rIExhYmVsfSBhbmQgYSBjb21wb25lbnQgdGhhdCBjb25maWd1cmVzIGEgc2V0dGluZy5cclxuICogSWYgdGhlIGNvbXBvbmVudHMgaXMgYSB7QGxpbmsgU2VsZWN0Qm94fSBpdCB3aWxsIGhhbmRsZSB0aGUgbG9naWMgb2YgZGlzcGxheWluZyBpdCBvciBub3RcclxuICovXHJcbnZhciBTZXR0aW5nc1BhbmVsSXRlbSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoU2V0dGluZ3NQYW5lbEl0ZW0sIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBTZXR0aW5nc1BhbmVsSXRlbShsYWJlbCwgc2V0dGluZywgY29uZmlnKSB7XHJcbiAgICAgICAgaWYgKGNvbmZpZyA9PT0gdm9pZCAwKSB7IGNvbmZpZyA9IHt9OyB9XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgY29uZmlnKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLnNldHRpbmdzUGFuZWxJdGVtRXZlbnRzID0ge1xyXG4gICAgICAgICAgICBvbkFjdGl2ZUNoYW5nZWQ6IG5ldyBldmVudGRpc3BhdGNoZXJfMS5FdmVudERpc3BhdGNoZXIoKSxcclxuICAgICAgICB9O1xyXG4gICAgICAgIF90aGlzLnNldHRpbmcgPSBzZXR0aW5nO1xyXG4gICAgICAgIF90aGlzLmNvbmZpZyA9IF90aGlzLm1lcmdlQ29uZmlnKGNvbmZpZywge1xyXG4gICAgICAgICAgICBjc3NDbGFzczogJ3VpLXNldHRpbmdzLXBhbmVsLWl0ZW0nLFxyXG4gICAgICAgIH0sIF90aGlzLmNvbmZpZyk7XHJcbiAgICAgICAgaWYgKGxhYmVsICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGlmIChsYWJlbCBpbnN0YW5jZW9mIGNvbXBvbmVudF8xLkNvbXBvbmVudCkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMubGFiZWwgPSBsYWJlbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLmxhYmVsID0gbmV3IGxhYmVsXzEuTGFiZWwoeyB0ZXh0OiBsYWJlbCB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBfdGhpcy5hZGRDb21wb25lbnQoX3RoaXMubGFiZWwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBfdGhpcy5hZGRDb21wb25lbnQoX3RoaXMuc2V0dGluZyk7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgU2V0dGluZ3NQYW5lbEl0ZW0ucHJvdG90eXBlLmNvbmZpZ3VyZSA9IGZ1bmN0aW9uIChwbGF5ZXIsIHVpbWFuYWdlcikge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZyBpbnN0YW5jZW9mIHNlbGVjdGJveF8xLlNlbGVjdEJveCkge1xyXG4gICAgICAgICAgICB2YXIgaGFuZGxlQ29uZmlnSXRlbUNoYW5nZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIShfdGhpcy5zZXR0aW5nIGluc3RhbmNlb2Ygc2VsZWN0Ym94XzEuU2VsZWN0Qm94KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIFRoZSBtaW5pbXVtIG51bWJlciBvZiBpdGVtcyB0aGF0IG11c3QgYmUgYXZhaWxhYmxlIGZvciB0aGUgc2V0dGluZyB0byBiZSBkaXNwbGF5ZWRcclxuICAgICAgICAgICAgICAgIC8vIEJ5IGRlZmF1bHQsIGF0IGxlYXN0IHR3byBpdGVtcyBtdXN0IGJlIGF2YWlsYWJsZSwgZWxzZSBhIHNlbGVjdGlvbiBpcyBub3QgcG9zc2libGVcclxuICAgICAgICAgICAgICAgIHZhciBtaW5JdGVtc1RvRGlzcGxheSA9IDI7XHJcbiAgICAgICAgICAgICAgICAvLyBBdWRpby92aWRlbyBxdWFsaXR5IHNlbGVjdCBib3hlcyBjb250YWluIGFuIGFkZGl0aW9uYWwgJ2F1dG8nIG1vZGUsIHdoaWNoIGluIGNvbWJpbmF0aW9uIHdpdGggYSBzaW5nbGVcclxuICAgICAgICAgICAgICAgIC8vIGF2YWlsYWJsZSBxdWFsaXR5IGFsc28gZG9lcyBub3QgbWFrZSBzZW5zZVxyXG4gICAgICAgICAgICAgICAgaWYgKChfdGhpcy5zZXR0aW5nIGluc3RhbmNlb2YgdmlkZW9xdWFsaXR5c2VsZWN0Ym94XzEuVmlkZW9RdWFsaXR5U2VsZWN0Qm94ICYmIF90aGlzLnNldHRpbmcuaGFzQXV0b0l0ZW0oKSlcclxuICAgICAgICAgICAgICAgICAgICB8fCBfdGhpcy5zZXR0aW5nIGluc3RhbmNlb2YgYXVkaW9xdWFsaXR5c2VsZWN0Ym94XzEuQXVkaW9RdWFsaXR5U2VsZWN0Qm94KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWluSXRlbXNUb0Rpc3BsYXkgPSAzO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gSGlkZSB0aGUgc2V0dGluZyBpZiBubyBtZWFuaW5nZnVsIGNob2ljZSBpcyBhdmFpbGFibGVcclxuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5zZXR0aW5nLml0ZW1Db3VudCgpIDwgbWluSXRlbXNUb0Rpc3BsYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5zaG93KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBWaXNpYmlsaXR5IG1pZ2h0IGhhdmUgY2hhbmdlZCBhbmQgdGhlcmVmb3JlIHRoZSBhY3RpdmUgc3RhdGUgbWlnaHQgaGF2ZSBjaGFuZ2VkIHNvIHdlIGZpcmUgdGhlIGV2ZW50XHJcbiAgICAgICAgICAgICAgICAvLyBUT0RPIGZpcmUgb25seSB3aGVuIHN0YXRlIGhhcyByZWFsbHkgY2hhbmdlZCAoZS5nLiBjaGVjayBpZiB2aXNpYmlsaXR5IGhhcyByZWFsbHkgY2hhbmdlZClcclxuICAgICAgICAgICAgICAgIF90aGlzLm9uQWN0aXZlQ2hhbmdlZEV2ZW50KCk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHRoaXMuc2V0dGluZy5vbkl0ZW1BZGRlZC5zdWJzY3JpYmUoaGFuZGxlQ29uZmlnSXRlbUNoYW5nZWQpO1xyXG4gICAgICAgICAgICB0aGlzLnNldHRpbmcub25JdGVtUmVtb3ZlZC5zdWJzY3JpYmUoaGFuZGxlQ29uZmlnSXRlbUNoYW5nZWQpO1xyXG4gICAgICAgICAgICAvLyBJbml0aWFsaXplIGhpZGRlbiBzdGF0ZVxyXG4gICAgICAgICAgICBoYW5kbGVDb25maWdJdGVtQ2hhbmdlZCgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIENoZWNrcyBpZiB0aGlzIHNldHRpbmdzIHBhbmVsIGl0ZW0gaXMgYWN0aXZlLCBpLmUuIHZpc2libGUgYW5kIGVuYWJsZWQgYW5kIGEgdXNlciBjYW4gaW50ZXJhY3Qgd2l0aCBpdC5cclxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlmIHRoZSBwYW5lbCBpcyBhY3RpdmUsIGVsc2UgZmFsc2VcclxuICAgICAqL1xyXG4gICAgU2V0dGluZ3NQYW5lbEl0ZW0ucHJvdG90eXBlLmlzQWN0aXZlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmlzU2hvd24oKTtcclxuICAgIH07XHJcbiAgICBTZXR0aW5nc1BhbmVsSXRlbS5wcm90b3R5cGUub25BY3RpdmVDaGFuZ2VkRXZlbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5zZXR0aW5nc1BhbmVsSXRlbUV2ZW50cy5vbkFjdGl2ZUNoYW5nZWQuZGlzcGF0Y2godGhpcyk7XHJcbiAgICB9O1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNldHRpbmdzUGFuZWxJdGVtLnByb3RvdHlwZSwgXCJvbkFjdGl2ZUNoYW5nZWRcIiwge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEdldHMgdGhlIGV2ZW50IHRoYXQgaXMgZmlyZWQgd2hlbiB0aGUgJ2FjdGl2ZScgc3RhdGUgb2YgdGhpcyBpdGVtIGNoYW5nZXMuXHJcbiAgICAgICAgICogQHNlZSAjaXNBY3RpdmVcclxuICAgICAgICAgKiBAcmV0dXJucyB7RXZlbnQ8U2V0dGluZ3NQYW5lbEl0ZW0sIE5vQXJncz59XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNldHRpbmdzUGFuZWxJdGVtRXZlbnRzLm9uQWN0aXZlQ2hhbmdlZC5nZXRFdmVudCgpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIFNldHRpbmdzUGFuZWxJdGVtO1xyXG59KGNvbnRhaW5lcl8xLkNvbnRhaW5lcikpO1xyXG5leHBvcnRzLlNldHRpbmdzUGFuZWxJdGVtID0gU2V0dGluZ3NQYW5lbEl0ZW07XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9zZXR0aW5nc3BhbmVsLnRzXG4vLyBtb2R1bGUgaWQgPSAyMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIHNlbGVjdGJveF8xID0gcmVxdWlyZShcIi4vc2VsZWN0Ym94XCIpO1xyXG4vKipcclxuICogQSBzZWxlY3QgYm94IHByb3ZpZGluZyBhIHNlbGVjdGlvbiBiZXR3ZWVuICdhdXRvJyBhbmQgdGhlIGF2YWlsYWJsZSB2aWRlbyBxdWFsaXRpZXMuXHJcbiAqL1xyXG52YXIgVmlkZW9RdWFsaXR5U2VsZWN0Qm94ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhWaWRlb1F1YWxpdHlTZWxlY3RCb3gsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBWaWRlb1F1YWxpdHlTZWxlY3RCb3goY29uZmlnKSB7XHJcbiAgICAgICAgaWYgKGNvbmZpZyA9PT0gdm9pZCAwKSB7IGNvbmZpZyA9IHt9OyB9XHJcbiAgICAgICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMsIGNvbmZpZykgfHwgdGhpcztcclxuICAgIH1cclxuICAgIFZpZGVvUXVhbGl0eVNlbGVjdEJveC5wcm90b3R5cGUuY29uZmlndXJlID0gZnVuY3Rpb24gKHBsYXllciwgdWltYW5hZ2VyKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmNvbmZpZ3VyZS5jYWxsKHRoaXMsIHBsYXllciwgdWltYW5hZ2VyKTtcclxuICAgICAgICB2YXIgc2VsZWN0Q3VycmVudFZpZGVvUXVhbGl0eSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKHBsYXllci5nZXRWaWRlb1F1YWxpdHkpIHtcclxuICAgICAgICAgICAgICAgIC8vIFNpbmNlIHBsYXllciA3LjMuMVxyXG4gICAgICAgICAgICAgICAgX3RoaXMuc2VsZWN0SXRlbShwbGF5ZXIuZ2V0VmlkZW9RdWFsaXR5KCkuaWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gQmFja3dhcmRzIGNvbXBhdGliaWxpdHkgZm9yIHBsYXllcnMgPD0gNy4zLjBcclxuICAgICAgICAgICAgICAgIC8vIFRPRE8gcmVtb3ZlIGluIG5leHQgbWFqb3IgcmVsZWFzZVxyXG4gICAgICAgICAgICAgICAgdmFyIGRhdGEgPSBwbGF5ZXIuZ2V0RG93bmxvYWRlZFZpZGVvRGF0YSgpO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuc2VsZWN0SXRlbShkYXRhLmlzQXV0byA/ICdhdXRvJyA6IGRhdGEuaWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICB2YXIgdXBkYXRlVmlkZW9RdWFsaXRpZXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciB2aWRlb1F1YWxpdGllcyA9IHBsYXllci5nZXRBdmFpbGFibGVWaWRlb1F1YWxpdGllcygpO1xyXG4gICAgICAgICAgICBfdGhpcy5jbGVhckl0ZW1zKCk7XHJcbiAgICAgICAgICAgIC8vIFByb2dyZXNzaXZlIHN0cmVhbXMgZG8gbm90IHN1cHBvcnQgYXV0b21hdGljIHF1YWxpdHkgc2VsZWN0aW9uXHJcbiAgICAgICAgICAgIF90aGlzLmhhc0F1dG8gPSBwbGF5ZXIuZ2V0U3RyZWFtVHlwZSgpICE9PSAncHJvZ3Jlc3NpdmUnO1xyXG4gICAgICAgICAgICBpZiAoX3RoaXMuaGFzQXV0bykge1xyXG4gICAgICAgICAgICAgICAgLy8gQWRkIGVudHJ5IGZvciBhdXRvbWF0aWMgcXVhbGl0eSBzd2l0Y2hpbmcgKGRlZmF1bHQgc2V0dGluZylcclxuICAgICAgICAgICAgICAgIF90aGlzLmFkZEl0ZW0oJ2F1dG8nLCAnYXV0bycpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIEFkZCB2aWRlbyBxdWFsaXRpZXNcclxuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCB2aWRlb1F1YWxpdGllc18xID0gdmlkZW9RdWFsaXRpZXM7IF9pIDwgdmlkZW9RdWFsaXRpZXNfMS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciB2aWRlb1F1YWxpdHkgPSB2aWRlb1F1YWxpdGllc18xW19pXTtcclxuICAgICAgICAgICAgICAgIF90aGlzLmFkZEl0ZW0odmlkZW9RdWFsaXR5LmlkLCB2aWRlb1F1YWxpdHkubGFiZWwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIFNlbGVjdCBpbml0aWFsIHF1YWxpdHlcclxuICAgICAgICAgICAgc2VsZWN0Q3VycmVudFZpZGVvUXVhbGl0eSgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5vbkl0ZW1TZWxlY3RlZC5zdWJzY3JpYmUoZnVuY3Rpb24gKHNlbmRlciwgdmFsdWUpIHtcclxuICAgICAgICAgICAgcGxheWVyLnNldFZpZGVvUXVhbGl0eSh2YWx1ZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gVXBkYXRlIHF1YWxpdGllcyB3aGVuIHNvdXJjZSBnb2VzIGF3YXlcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9TT1VSQ0VfVU5MT0FERUQsIHVwZGF0ZVZpZGVvUXVhbGl0aWVzKTtcclxuICAgICAgICAvLyBVcGRhdGUgcXVhbGl0aWVzIHdoZW4gYSBuZXcgc291cmNlIGlzIGxvYWRlZFxyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1JFQURZLCB1cGRhdGVWaWRlb1F1YWxpdGllcyk7XHJcbiAgICAgICAgLy8gVXBkYXRlIHF1YWxpdGllcyB3aGVuIHRoZSBwZXJpb2Qgd2l0aGluIGEgc291cmNlIGNoYW5nZXNcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9QRVJJT0RfU1dJVENIRUQsIHVwZGF0ZVZpZGVvUXVhbGl0aWVzKTtcclxuICAgICAgICAvLyBVcGRhdGUgcXVhbGl0eSBzZWxlY3Rpb24gd2hlbiBxdWFsaXR5IGlzIGNoYW5nZWQgKGZyb20gb3V0c2lkZSlcclxuICAgICAgICBpZiAocGxheWVyLkVWRU5ULk9OX1ZJREVPX1FVQUxJVFlfQ0hBTkdFRCkge1xyXG4gICAgICAgICAgICAvLyBTaW5jZSBwbGF5ZXIgNy4zLjFcclxuICAgICAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fVklERU9fUVVBTElUWV9DSEFOR0VELCBzZWxlY3RDdXJyZW50VmlkZW9RdWFsaXR5KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIEJhY2t3YXJkcyBjb21wYXRpYmlsaXR5IGZvciBwbGF5ZXJzIDw9IDcuMy4wXHJcbiAgICAgICAgICAgIC8vIFRPRE8gcmVtb3ZlIGluIG5leHQgbWFqb3IgcmVsZWFzZVxyXG4gICAgICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9WSURFT19ET1dOTE9BRF9RVUFMSVRZX0NIQU5HRSwgc2VsZWN0Q3VycmVudFZpZGVvUXVhbGl0eSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBzZWxlY3QgYm94IGNvbnRhaW5zIGFuICdhdXRvJyBpdGVtIGZvciBhdXRvbWF0aWMgcXVhbGl0eSBzZWxlY3Rpb24gbW9kZS5cclxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59XHJcbiAgICAgKi9cclxuICAgIFZpZGVvUXVhbGl0eVNlbGVjdEJveC5wcm90b3R5cGUuaGFzQXV0b0l0ZW0gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaGFzQXV0bztcclxuICAgIH07XHJcbiAgICByZXR1cm4gVmlkZW9RdWFsaXR5U2VsZWN0Qm94O1xyXG59KHNlbGVjdGJveF8xLlNlbGVjdEJveCkpO1xyXG5leHBvcnRzLlZpZGVvUXVhbGl0eVNlbGVjdEJveCA9IFZpZGVvUXVhbGl0eVNlbGVjdEJveDtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3ZpZGVvcXVhbGl0eXNlbGVjdGJveC50c1xuLy8gbW9kdWxlIGlkID0gMjNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBzZWxlY3Rib3hfMSA9IHJlcXVpcmUoXCIuL3NlbGVjdGJveFwiKTtcclxuLyoqXHJcbiAqIEEgc2VsZWN0IGJveCBwcm92aWRpbmcgYSBzZWxlY3Rpb24gYmV0d2VlbiAnYXV0bycgYW5kIHRoZSBhdmFpbGFibGUgYXVkaW8gcXVhbGl0aWVzLlxyXG4gKi9cclxudmFyIEF1ZGlvUXVhbGl0eVNlbGVjdEJveCA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoQXVkaW9RdWFsaXR5U2VsZWN0Qm94LCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gQXVkaW9RdWFsaXR5U2VsZWN0Qm94KGNvbmZpZykge1xyXG4gICAgICAgIGlmIChjb25maWcgPT09IHZvaWQgMCkgeyBjb25maWcgPSB7fTsgfVxyXG4gICAgICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCBjb25maWcpIHx8IHRoaXM7XHJcbiAgICB9XHJcbiAgICBBdWRpb1F1YWxpdHlTZWxlY3RCb3gucHJvdG90eXBlLmNvbmZpZ3VyZSA9IGZ1bmN0aW9uIChwbGF5ZXIsIHVpbWFuYWdlcikge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5jb25maWd1cmUuY2FsbCh0aGlzLCBwbGF5ZXIsIHVpbWFuYWdlcik7XHJcbiAgICAgICAgdmFyIHNlbGVjdEN1cnJlbnRBdWRpb1F1YWxpdHkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChwbGF5ZXIuZ2V0QXVkaW9RdWFsaXR5KSB7XHJcbiAgICAgICAgICAgICAgICAvLyBTaW5jZSBwbGF5ZXIgNy4zLjFcclxuICAgICAgICAgICAgICAgIF90aGlzLnNlbGVjdEl0ZW0ocGxheWVyLmdldEF1ZGlvUXVhbGl0eSgpLmlkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIEJhY2t3YXJkcyBjb21wYXRpYmlsaXR5IGZvciBwbGF5ZXJzIDw9IDcuMy4wXHJcbiAgICAgICAgICAgICAgICAvLyBUT0RPIHJlbW92ZSBpbiBuZXh0IG1ham9yIHJlbGVhc2VcclxuICAgICAgICAgICAgICAgIHZhciBkYXRhID0gcGxheWVyLmdldERvd25sb2FkZWRBdWRpb0RhdGEoKTtcclxuICAgICAgICAgICAgICAgIF90aGlzLnNlbGVjdEl0ZW0oZGF0YS5pc0F1dG8gPyAnYXV0bycgOiBkYXRhLmlkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdmFyIHVwZGF0ZUF1ZGlvUXVhbGl0aWVzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgYXVkaW9RdWFsaXRpZXMgPSBwbGF5ZXIuZ2V0QXZhaWxhYmxlQXVkaW9RdWFsaXRpZXMoKTtcclxuICAgICAgICAgICAgX3RoaXMuY2xlYXJJdGVtcygpO1xyXG4gICAgICAgICAgICAvLyBBZGQgZW50cnkgZm9yIGF1dG9tYXRpYyBxdWFsaXR5IHN3aXRjaGluZyAoZGVmYXVsdCBzZXR0aW5nKVxyXG4gICAgICAgICAgICBfdGhpcy5hZGRJdGVtKCdhdXRvJywgJ2F1dG8nKTtcclxuICAgICAgICAgICAgLy8gQWRkIGF1ZGlvIHF1YWxpdGllc1xyXG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIGF1ZGlvUXVhbGl0aWVzXzEgPSBhdWRpb1F1YWxpdGllczsgX2kgPCBhdWRpb1F1YWxpdGllc18xLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGF1ZGlvUXVhbGl0eSA9IGF1ZGlvUXVhbGl0aWVzXzFbX2ldO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuYWRkSXRlbShhdWRpb1F1YWxpdHkuaWQsIGF1ZGlvUXVhbGl0eS5sYWJlbCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gU2VsZWN0IGluaXRpYWwgcXVhbGl0eVxyXG4gICAgICAgICAgICBzZWxlY3RDdXJyZW50QXVkaW9RdWFsaXR5KCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLm9uSXRlbVNlbGVjdGVkLnN1YnNjcmliZShmdW5jdGlvbiAoc2VuZGVyLCB2YWx1ZSkge1xyXG4gICAgICAgICAgICBwbGF5ZXIuc2V0QXVkaW9RdWFsaXR5KHZhbHVlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBVcGRhdGUgcXVhbGl0aWVzIHdoZW4gYXVkaW8gdHJhY2sgaGFzIGNoYW5nZWRcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9BVURJT19DSEFOR0VELCB1cGRhdGVBdWRpb1F1YWxpdGllcyk7XHJcbiAgICAgICAgLy8gVXBkYXRlIHF1YWxpdGllcyB3aGVuIHNvdXJjZSBnb2VzIGF3YXlcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9TT1VSQ0VfVU5MT0FERUQsIHVwZGF0ZUF1ZGlvUXVhbGl0aWVzKTtcclxuICAgICAgICAvLyBVcGRhdGUgcXVhbGl0aWVzIHdoZW4gYSBuZXcgc291cmNlIGlzIGxvYWRlZFxyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1JFQURZLCB1cGRhdGVBdWRpb1F1YWxpdGllcyk7XHJcbiAgICAgICAgLy8gVXBkYXRlIHF1YWxpdGllcyB3aGVuIHRoZSBwZXJpb2Qgd2l0aGluIGEgc291cmNlIGNoYW5nZXNcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9QRVJJT0RfU1dJVENIRUQsIHVwZGF0ZUF1ZGlvUXVhbGl0aWVzKTtcclxuICAgICAgICAvLyBVcGRhdGUgcXVhbGl0eSBzZWxlY3Rpb24gd2hlbiBxdWFsaXR5IGlzIGNoYW5nZWQgKGZyb20gb3V0c2lkZSlcclxuICAgICAgICBpZiAocGxheWVyLkVWRU5ULk9OX0FVRElPX1FVQUxJVFlfQ0hBTkdFRCkge1xyXG4gICAgICAgICAgICAvLyBTaW5jZSBwbGF5ZXIgNy4zLjFcclxuICAgICAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fQVVESU9fUVVBTElUWV9DSEFOR0VELCBzZWxlY3RDdXJyZW50QXVkaW9RdWFsaXR5KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIEJhY2t3YXJkcyBjb21wYXRpYmlsaXR5IGZvciBwbGF5ZXJzIDw9IDcuMy4wXHJcbiAgICAgICAgICAgIC8vIFRPRE8gcmVtb3ZlIGluIG5leHQgbWFqb3IgcmVsZWFzZVxyXG4gICAgICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9BVURJT19ET1dOTE9BRF9RVUFMSVRZX0NIQU5HRSwgc2VsZWN0Q3VycmVudEF1ZGlvUXVhbGl0eSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHJldHVybiBBdWRpb1F1YWxpdHlTZWxlY3RCb3g7XHJcbn0oc2VsZWN0Ym94XzEuU2VsZWN0Qm94KSk7XHJcbmV4cG9ydHMuQXVkaW9RdWFsaXR5U2VsZWN0Qm94ID0gQXVkaW9RdWFsaXR5U2VsZWN0Qm94O1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvYXVkaW9xdWFsaXR5c2VsZWN0Ym94LnRzXG4vLyBtb2R1bGUgaWQgPSAyNFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGJ1dHRvbl8xID0gcmVxdWlyZShcIi4uL2J1dHRvblwiKTtcclxudmFyIFN1YnRpdGxlU2V0dGluZ3NCdXR0b24gPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKFN1YnRpdGxlU2V0dGluZ3NCdXR0b24sIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBTdWJ0aXRsZVNldHRpbmdzQnV0dG9uKGNvbmZpZykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGNvbmZpZykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5zdWJ0aXRsZVNldHRpbmdzUGFuZWwgPSBjb25maWcuc3VidGl0bGVTZXR0aW5nc1BhbmVsO1xyXG4gICAgICAgIF90aGlzLnNldHRpbmdzUGFuZWwgPSBjb25maWcuc2V0dGluZ3NQYW5lbDtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gU3VidGl0bGVTZXR0aW5nc0J1dHRvbjtcclxufShidXR0b25fMS5CdXR0b24pKTtcclxuZXhwb3J0cy5TdWJ0aXRsZVNldHRpbmdzQnV0dG9uID0gU3VidGl0bGVTZXR0aW5nc0J1dHRvbjtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3N1YnRpdGxlc2V0dGluZ3Mvc3VidGl0bGVzZXR0aW5nc2J1dHRvbi50c1xuLy8gbW9kdWxlIGlkID0gMjVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBzZWVrYmFyXzEgPSByZXF1aXJlKFwiLi9zZWVrYmFyXCIpO1xyXG4vKipcclxuICogQSBzaW1wbGUgdm9sdW1lIHNsaWRlciBjb21wb25lbnQgdG8gYWRqdXN0IHRoZSBwbGF5ZXIncyB2b2x1bWUgc2V0dGluZy5cclxuICovXHJcbnZhciBWb2x1bWVTbGlkZXIgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKFZvbHVtZVNsaWRlciwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIFZvbHVtZVNsaWRlcihjb25maWcpIHtcclxuICAgICAgICBpZiAoY29uZmlnID09PSB2b2lkIDApIHsgY29uZmlnID0ge307IH1cclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBjb25maWcpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMuY29uZmlnID0gX3RoaXMubWVyZ2VDb25maWcoY29uZmlnLCB7XHJcbiAgICAgICAgICAgIGNzc0NsYXNzOiAndWktdm9sdW1lc2xpZGVyJyxcclxuICAgICAgICAgICAgaGlkZUlmVm9sdW1lQ29udHJvbFByb2hpYml0ZWQ6IHRydWUsXHJcbiAgICAgICAgfSwgX3RoaXMuY29uZmlnKTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBWb2x1bWVTbGlkZXIucHJvdG90eXBlLmNvbmZpZ3VyZSA9IGZ1bmN0aW9uIChwbGF5ZXIsIHVpbWFuYWdlcikge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5jb25maWd1cmUuY2FsbCh0aGlzLCBwbGF5ZXIsIHVpbWFuYWdlciwgZmFsc2UpO1xyXG4gICAgICAgIHZhciBjb25maWcgPSB0aGlzLmdldENvbmZpZygpO1xyXG4gICAgICAgIGlmIChjb25maWcuaGlkZUlmVm9sdW1lQ29udHJvbFByb2hpYml0ZWQgJiYgIXRoaXMuZGV0ZWN0Vm9sdW1lQ29udHJvbEF2YWlsYWJpbGl0eSgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaGlkZSgpO1xyXG4gICAgICAgICAgICAvLyBXZSBjYW4ganVzdCByZXR1cm4gZnJvbSBoZXJlLCBiZWNhdXNlIHRoZSB1c2VyIHdpbGwgbmV2ZXIgaW50ZXJhY3Qgd2l0aCB0aGUgY29udHJvbCBhbmQgYW55IGNvbmZpZ3VyZWRcclxuICAgICAgICAgICAgLy8gZnVuY3Rpb25hbGl0eSB3b3VsZCBvbmx5IGVhdCByZXNvdXJjZXMgZm9yIG5vIHJlYXNvbi5cclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgdm9sdW1lQ2hhbmdlSGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKHBsYXllci5pc011dGVkKCkpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLnNldFBsYXliYWNrUG9zaXRpb24oMCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5zZXRQbGF5YmFja1Bvc2l0aW9uKHBsYXllci5nZXRWb2x1bWUoKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1JFQURZLCB2b2x1bWVDaGFuZ2VIYW5kbGVyKTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9WT0xVTUVfQ0hBTkdFRCwgdm9sdW1lQ2hhbmdlSGFuZGxlcik7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fTVVURUQsIHZvbHVtZUNoYW5nZUhhbmRsZXIpO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1VOTVVURUQsIHZvbHVtZUNoYW5nZUhhbmRsZXIpO1xyXG4gICAgICAgIHRoaXMub25TZWVrUHJldmlldy5zdWJzY3JpYmVSYXRlTGltaXRlZChmdW5jdGlvbiAoc2VuZGVyLCBhcmdzKSB7XHJcbiAgICAgICAgICAgIGlmIChhcmdzLnNjcnViYmluZykge1xyXG4gICAgICAgICAgICAgICAgcGxheWVyLnNldFZvbHVtZShhcmdzLnBvc2l0aW9uLCBWb2x1bWVTbGlkZXIuaXNzdWVyTmFtZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCA1MCk7XHJcbiAgICAgICAgdGhpcy5vblNlZWtlZC5zdWJzY3JpYmUoZnVuY3Rpb24gKHNlbmRlciwgcGVyY2VudGFnZSkge1xyXG4gICAgICAgICAgICBwbGF5ZXIuc2V0Vm9sdW1lKHBlcmNlbnRhZ2UsIFZvbHVtZVNsaWRlci5pc3N1ZXJOYW1lKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBVcGRhdGUgdGhlIHZvbHVtZSBzbGlkZXIgbWFya2VyIHdoZW4gdGhlIHBsYXllciByZXNpemVkLCBhIHNvdXJjZSBpcyBsb2FkZWQgYW5kIHBsYXllciBpcyByZWFkeSxcclxuICAgICAgICAvLyBvciB0aGUgVUkgaXMgY29uZmlndXJlZC4gQ2hlY2sgdGhlIHNlZWtiYXIgZm9yIGEgZGV0YWlsZWQgZGVzY3JpcHRpb24uXHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fUExBWUVSX1JFU0laRSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBfdGhpcy5yZWZyZXNoUGxheWJhY2tQb3NpdGlvbigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1JFQURZLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIF90aGlzLnJlZnJlc2hQbGF5YmFja1Bvc2l0aW9uKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdWltYW5hZ2VyLm9uQ29uZmlndXJlZC5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBfdGhpcy5yZWZyZXNoUGxheWJhY2tQb3NpdGlvbigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIEluaXQgdm9sdW1lIGJhclxyXG4gICAgICAgIHZvbHVtZUNoYW5nZUhhbmRsZXIoKTtcclxuICAgIH07XHJcbiAgICBWb2x1bWVTbGlkZXIucHJvdG90eXBlLmRldGVjdFZvbHVtZUNvbnRyb2xBdmFpbGFiaWxpdHkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLypcclxuICAgICAgICAgKiBcIk9uIGlPUyBkZXZpY2VzLCB0aGUgYXVkaW8gbGV2ZWwgaXMgYWx3YXlzIHVuZGVyIHRoZSB1c2Vy4oCZcyBwaHlzaWNhbCBjb250cm9sLiBUaGUgdm9sdW1lIHByb3BlcnR5IGlzIG5vdFxyXG4gICAgICAgICAqIHNldHRhYmxlIGluIEphdmFTY3JpcHQuIFJlYWRpbmcgdGhlIHZvbHVtZSBwcm9wZXJ0eSBhbHdheXMgcmV0dXJucyAxLlwiXHJcbiAgICAgICAgICogaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2xpYnJhcnkvY29udGVudC9kb2N1bWVudGF0aW9uL0F1ZGlvVmlkZW8vQ29uY2VwdHVhbC9Vc2luZ19IVE1MNV9BdWRpb19WaWRlby9EZXZpY2UtU3BlY2lmaWNDb25zaWRlcmF0aW9ucy9EZXZpY2UtU3BlY2lmaWNDb25zaWRlcmF0aW9ucy5odG1sXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgLy8gYXMgbXV0ZWQgYXV0b3BsYXkgZ2V0cyBwYXVzZWQgYXMgc29vbiBhcyB3ZSB1bm11dGUgaXQsIHdlIG1heSBub3QgdG91Y2ggdGhlIHZvbHVtZSBvZiB0aGUgYWN0dWFsIHBsYXllciBzbyB3ZVxyXG4gICAgICAgIC8vIHByb2JlIGEgZHVtbXkgYXVkaW8gZWxlbWVudFxyXG4gICAgICAgIHZhciBkdW1teVZpZGVvRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3ZpZGVvJyk7XHJcbiAgICAgICAgLy8gdHJ5IHNldHRpbmcgdGhlIHZvbHVtZSB0byAwLjcgYW5kIGlmIGl0J3Mgc3RpbGwgMSB3ZSBhcmUgb24gYSB2b2x1bWUgY29udHJvbCByZXN0cmljdGVkIGRldmljZVxyXG4gICAgICAgIGR1bW15VmlkZW9FbGVtZW50LnZvbHVtZSA9IDAuNztcclxuICAgICAgICByZXR1cm4gZHVtbXlWaWRlb0VsZW1lbnQudm9sdW1lICE9PSAxO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBWb2x1bWVTbGlkZXI7XHJcbn0oc2Vla2Jhcl8xLlNlZWtCYXIpKTtcclxuVm9sdW1lU2xpZGVyLmlzc3Vlck5hbWUgPSAndWknO1xyXG5leHBvcnRzLlZvbHVtZVNsaWRlciA9IFZvbHVtZVNsaWRlcjtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3ZvbHVtZXNsaWRlci50c1xuLy8gbW9kdWxlIGlkID0gMjZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBsYWJlbF8xID0gcmVxdWlyZShcIi4vbGFiZWxcIik7XHJcbi8qKlxyXG4gKiBFbnVtZXJhdGVzIHRoZSB0eXBlcyBvZiBjb250ZW50IHRoYXQgdGhlIHtAbGluayBNZXRhZGF0YUxhYmVsfSBjYW4gZGlzcGxheS5cclxuICovXHJcbnZhciBNZXRhZGF0YUxhYmVsQ29udGVudDtcclxuKGZ1bmN0aW9uIChNZXRhZGF0YUxhYmVsQ29udGVudCkge1xyXG4gICAgLyoqXHJcbiAgICAgKiBUaXRsZSBvZiB0aGUgZGF0YSBzb3VyY2UuXHJcbiAgICAgKi9cclxuICAgIE1ldGFkYXRhTGFiZWxDb250ZW50W01ldGFkYXRhTGFiZWxDb250ZW50W1wiVGl0bGVcIl0gPSAwXSA9IFwiVGl0bGVcIjtcclxuICAgIC8qKlxyXG4gICAgICogRGVzY3JpcHRpb24gZm8gdGhlIGRhdGEgc291cmNlLlxyXG4gICAgICovXHJcbiAgICBNZXRhZGF0YUxhYmVsQ29udGVudFtNZXRhZGF0YUxhYmVsQ29udGVudFtcIkRlc2NyaXB0aW9uXCJdID0gMV0gPSBcIkRlc2NyaXB0aW9uXCI7XHJcbn0pKE1ldGFkYXRhTGFiZWxDb250ZW50ID0gZXhwb3J0cy5NZXRhZGF0YUxhYmVsQ29udGVudCB8fCAoZXhwb3J0cy5NZXRhZGF0YUxhYmVsQ29udGVudCA9IHt9KSk7XHJcbi8qKlxyXG4gKiBBIGxhYmVsIHRoYXQgY2FuIGJlIGNvbmZpZ3VyZWQgdG8gZGlzcGxheSBjZXJ0YWluIG1ldGFkYXRhLlxyXG4gKi9cclxudmFyIE1ldGFkYXRhTGFiZWwgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKE1ldGFkYXRhTGFiZWwsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBNZXRhZGF0YUxhYmVsKGNvbmZpZykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGNvbmZpZykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5jb25maWcgPSBfdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIHtcclxuICAgICAgICAgICAgY3NzQ2xhc3NlczogWydsYWJlbC1tZXRhZGF0YScsICdsYWJlbC1tZXRhZGF0YS0nICsgTWV0YWRhdGFMYWJlbENvbnRlbnRbY29uZmlnLmNvbnRlbnRdLnRvTG93ZXJDYXNlKCldLFxyXG4gICAgICAgIH0sIF90aGlzLmNvbmZpZyk7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgTWV0YWRhdGFMYWJlbC5wcm90b3R5cGUuY29uZmlndXJlID0gZnVuY3Rpb24gKHBsYXllciwgdWltYW5hZ2VyKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmNvbmZpZ3VyZS5jYWxsKHRoaXMsIHBsYXllciwgdWltYW5hZ2VyKTtcclxuICAgICAgICB2YXIgY29uZmlnID0gdGhpcy5nZXRDb25maWcoKTtcclxuICAgICAgICB2YXIgdWljb25maWcgPSB1aW1hbmFnZXIuZ2V0Q29uZmlnKCk7XHJcbiAgICAgICAgdmFyIGluaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAoY29uZmlnLmNvbnRlbnQpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgTWV0YWRhdGFMYWJlbENvbnRlbnQuVGl0bGU6XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2V0VGV4dCh1aWNvbmZpZy5tZXRhZGF0YS50aXRsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIE1ldGFkYXRhTGFiZWxDb250ZW50LkRlc2NyaXB0aW9uOlxyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnNldFRleHQodWljb25maWcubWV0YWRhdGEuZGVzY3JpcHRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICB2YXIgdW5sb2FkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBfdGhpcy5zZXRUZXh0KG51bGwpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgLy8gSW5pdCBsYWJlbFxyXG4gICAgICAgIGluaXQoKTtcclxuICAgICAgICAvLyBSZWluaXQgbGFiZWwgd2hlbiBhIG5ldyBzb3VyY2UgaXMgbG9hZGVkXHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fU09VUkNFX0xPQURFRCwgaW5pdCk7XHJcbiAgICAgICAgLy8gQ2xlYXIgbGFiZWxzIHdoZW4gc291cmNlIGlzIHVubG9hZGVkXHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fU09VUkNFX1VOTE9BREVELCB1bmxvYWQpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBNZXRhZGF0YUxhYmVsO1xyXG59KGxhYmVsXzEuTGFiZWwpKTtcclxuZXhwb3J0cy5NZXRhZGF0YUxhYmVsID0gTWV0YWRhdGFMYWJlbDtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL21ldGFkYXRhbGFiZWwudHNcbi8vIG1vZHVsZSBpZCA9IDI3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgYnV0dG9uXzEgPSByZXF1aXJlKFwiLi9idXR0b25cIik7XHJcbi8qKlxyXG4gKiBBIGNsaWNrIG92ZXJsYXkgdGhhdCBvcGVucyBhbiB1cmwgaW4gYSBuZXcgdGFiIGlmIGNsaWNrZWQuXHJcbiAqL1xyXG52YXIgQ2xpY2tPdmVybGF5ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhDbGlja092ZXJsYXksIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBDbGlja092ZXJsYXkoY29uZmlnKSB7XHJcbiAgICAgICAgaWYgKGNvbmZpZyA9PT0gdm9pZCAwKSB7IGNvbmZpZyA9IHt9OyB9XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgY29uZmlnKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLmNvbmZpZyA9IF90aGlzLm1lcmdlQ29uZmlnKGNvbmZpZywge1xyXG4gICAgICAgICAgICBjc3NDbGFzczogJ3VpLWNsaWNrb3ZlcmxheScsXHJcbiAgICAgICAgfSwgX3RoaXMuY29uZmlnKTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBDbGlja092ZXJsYXkucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5pbml0aWFsaXplLmNhbGwodGhpcyk7XHJcbiAgICAgICAgdGhpcy5zZXRVcmwodGhpcy5jb25maWcudXJsKTtcclxuICAgICAgICB2YXIgZWxlbWVudCA9IHRoaXMuZ2V0RG9tRWxlbWVudCgpO1xyXG4gICAgICAgIGVsZW1lbnQub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoZWxlbWVudC5kYXRhKCd1cmwnKSkge1xyXG4gICAgICAgICAgICAgICAgd2luZG93Lm9wZW4oZWxlbWVudC5kYXRhKCd1cmwnKSwgJ19ibGFuaycpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIHRoZSBVUkwgdGhhdCBzaG91bGQgYmUgZm9sbG93ZWQgd2hlbiB0aGUgd2F0ZXJtYXJrIGlzIGNsaWNrZWQuXHJcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSB0aGUgd2F0ZXJtYXJrIFVSTFxyXG4gICAgICovXHJcbiAgICBDbGlja092ZXJsYXkucHJvdG90eXBlLmdldFVybCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXREb21FbGVtZW50KCkuZGF0YSgndXJsJyk7XHJcbiAgICB9O1xyXG4gICAgQ2xpY2tPdmVybGF5LnByb3RvdHlwZS5zZXRVcmwgPSBmdW5jdGlvbiAodXJsKSB7XHJcbiAgICAgICAgaWYgKHVybCA9PT0gdW5kZWZpbmVkIHx8IHVybCA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHVybCA9ICcnO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmdldERvbUVsZW1lbnQoKS5kYXRhKCd1cmwnLCB1cmwpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBDbGlja092ZXJsYXk7XHJcbn0oYnV0dG9uXzEuQnV0dG9uKSk7XHJcbmV4cG9ydHMuQ2xpY2tPdmVybGF5ID0gQ2xpY2tPdmVybGF5O1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvY2xpY2tvdmVybGF5LnRzXG4vLyBtb2R1bGUgaWQgPSAyOFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIHRvZ2dsZWJ1dHRvbl8xID0gcmVxdWlyZShcIi4vdG9nZ2xlYnV0dG9uXCIpO1xyXG4vKipcclxuICogQSBidXR0b24gdGhhdCB0b2dnbGVzIHRoZSBwbGF5ZXIgYmV0d2VlbiB3aW5kb3dlZCBhbmQgZnVsbHNjcmVlbiB2aWV3LlxyXG4gKi9cclxudmFyIEZ1bGxzY3JlZW5Ub2dnbGVCdXR0b24gPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKEZ1bGxzY3JlZW5Ub2dnbGVCdXR0b24sIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBGdWxsc2NyZWVuVG9nZ2xlQnV0dG9uKGNvbmZpZykge1xyXG4gICAgICAgIGlmIChjb25maWcgPT09IHZvaWQgMCkgeyBjb25maWcgPSB7fTsgfVxyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGNvbmZpZykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5jb25maWcgPSBfdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIHtcclxuICAgICAgICAgICAgY3NzQ2xhc3M6ICd1aS1mdWxsc2NyZWVudG9nZ2xlYnV0dG9uJyxcclxuICAgICAgICAgICAgdGV4dDogJ0Z1bGxzY3JlZW4nLFxyXG4gICAgICAgIH0sIF90aGlzLmNvbmZpZyk7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgRnVsbHNjcmVlblRvZ2dsZUJ1dHRvbi5wcm90b3R5cGUuY29uZmlndXJlID0gZnVuY3Rpb24gKHBsYXllciwgdWltYW5hZ2VyKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmNvbmZpZ3VyZS5jYWxsKHRoaXMsIHBsYXllciwgdWltYW5hZ2VyKTtcclxuICAgICAgICB2YXIgZnVsbHNjcmVlblN0YXRlSGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKHBsYXllci5pc0Z1bGxzY3JlZW4oKSkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMub24oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLm9mZigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9GVUxMU0NSRUVOX0VOVEVSLCBmdWxsc2NyZWVuU3RhdGVIYW5kbGVyKTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9GVUxMU0NSRUVOX0VYSVQsIGZ1bGxzY3JlZW5TdGF0ZUhhbmRsZXIpO1xyXG4gICAgICAgIHRoaXMub25DbGljay5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAocGxheWVyLmlzRnVsbHNjcmVlbigpKSB7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXIuZXhpdEZ1bGxzY3JlZW4oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHBsYXllci5lbnRlckZ1bGxzY3JlZW4oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIFN0YXJ0dXAgaW5pdFxyXG4gICAgICAgIGZ1bGxzY3JlZW5TdGF0ZUhhbmRsZXIoKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gRnVsbHNjcmVlblRvZ2dsZUJ1dHRvbjtcclxufSh0b2dnbGVidXR0b25fMS5Ub2dnbGVCdXR0b24pKTtcclxuZXhwb3J0cy5GdWxsc2NyZWVuVG9nZ2xlQnV0dG9uID0gRnVsbHNjcmVlblRvZ2dsZUJ1dHRvbjtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL2Z1bGxzY3JlZW50b2dnbGVidXR0b24udHNcbi8vIG1vZHVsZSBpZCA9IDI5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgdG9nZ2xlYnV0dG9uXzEgPSByZXF1aXJlKFwiLi90b2dnbGVidXR0b25cIik7XHJcbi8qKlxyXG4gKiBBIGJ1dHRvbiB0aGF0IHRvZ2dsZXMgdGhlIHZpZGVvIHZpZXcgYmV0d2VlbiBub3JtYWwvbW9ubyBhbmQgVlIvc3RlcmVvLlxyXG4gKi9cclxudmFyIFZSVG9nZ2xlQnV0dG9uID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhWUlRvZ2dsZUJ1dHRvbiwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIFZSVG9nZ2xlQnV0dG9uKGNvbmZpZykge1xyXG4gICAgICAgIGlmIChjb25maWcgPT09IHZvaWQgMCkgeyBjb25maWcgPSB7fTsgfVxyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGNvbmZpZykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5jb25maWcgPSBfdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIHtcclxuICAgICAgICAgICAgY3NzQ2xhc3M6ICd1aS12cnRvZ2dsZWJ1dHRvbicsXHJcbiAgICAgICAgICAgIHRleHQ6ICdWUicsXHJcbiAgICAgICAgfSwgX3RoaXMuY29uZmlnKTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBWUlRvZ2dsZUJ1dHRvbi5wcm90b3R5cGUuY29uZmlndXJlID0gZnVuY3Rpb24gKHBsYXllciwgdWltYW5hZ2VyKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmNvbmZpZ3VyZS5jYWxsKHRoaXMsIHBsYXllciwgdWltYW5hZ2VyKTtcclxuICAgICAgICB2YXIgaXNWUkNvbmZpZ3VyZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIC8vIFZSIGF2YWlsYWJpbGl0eSBjYW5ub3QgYmUgY2hlY2tlZCB0aHJvdWdoIGdldFZSU3RhdHVzKCkgYmVjYXVzZSBpdCBpcyBhc3luY2hyb25vdXNseSBwb3B1bGF0ZWQgYW5kIG5vdFxyXG4gICAgICAgICAgICAvLyBhdmFpbGFibGUgYXQgVUkgaW5pdGlhbGl6YXRpb24uIEFzIGFuIGFsdGVybmF0aXZlLCB3ZSBjaGVjayB0aGUgVlIgc2V0dGluZ3MgaW4gdGhlIGNvbmZpZy5cclxuICAgICAgICAgICAgLy8gVE9ETyB1c2UgZ2V0VlJTdGF0dXMoKSB0aHJvdWdoIGlzVlJTdGVyZW9BdmFpbGFibGUoKSBvbmNlIHRoZSBwbGF5ZXIgaGFzIGJlZW4gcmV3cml0dGVuIGFuZCB0aGUgc3RhdHVzIGlzXHJcbiAgICAgICAgICAgIC8vIGF2YWlsYWJsZSBpbiBPTl9SRUFEWVxyXG4gICAgICAgICAgICB2YXIgY29uZmlnID0gcGxheWVyLmdldENvbmZpZygpO1xyXG4gICAgICAgICAgICByZXR1cm4gY29uZmlnLnNvdXJjZSAmJiBjb25maWcuc291cmNlLnZyICYmIGNvbmZpZy5zb3VyY2UudnIuY29udGVudFR5cGUgIT09ICdub25lJztcclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciBpc1ZSU3RlcmVvQXZhaWxhYmxlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gcGxheWVyLmdldFZSU3RhdHVzKCkuY29udGVudFR5cGUgIT09ICdub25lJztcclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciB2clN0YXRlSGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKGlzVlJDb25maWd1cmVkKCkgJiYgaXNWUlN0ZXJlb0F2YWlsYWJsZSgpKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5zaG93KCk7IC8vIHNob3cgYnV0dG9uIGluIGNhc2UgaXQgaXMgaGlkZGVuXHJcbiAgICAgICAgICAgICAgICBpZiAocGxheWVyLmdldFZSU3RhdHVzKCkuaXNTdGVyZW8pIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5vbigpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMub2ZmKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5oaWRlKCk7IC8vIGhpZGUgYnV0dG9uIGlmIG5vIHN0ZXJlbyBtb2RlIGF2YWlsYWJsZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICB2YXIgdnJCdXR0b25WaXNpYmlsaXR5SGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKGlzVlJDb25maWd1cmVkKCkpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLnNob3coKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLmhpZGUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fVlJfTU9ERV9DSEFOR0VELCB2clN0YXRlSGFuZGxlcik7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fVlJfU1RFUkVPX0NIQU5HRUQsIHZyU3RhdGVIYW5kbGVyKTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9WUl9FUlJPUiwgdnJTdGF0ZUhhbmRsZXIpO1xyXG4gICAgICAgIC8vIEhpZGUgYnV0dG9uIHdoZW4gVlIgc291cmNlIGdvZXMgYXdheVxyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1NPVVJDRV9VTkxPQURFRCwgdnJCdXR0b25WaXNpYmlsaXR5SGFuZGxlcik7XHJcbiAgICAgICAgLy8gU2hvdyBidXR0b24gd2hlbiBhIG5ldyBzb3VyY2UgaXMgbG9hZGVkIGFuZCBpdCdzIFZSXHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fUkVBRFksIHZyQnV0dG9uVmlzaWJpbGl0eUhhbmRsZXIpO1xyXG4gICAgICAgIHRoaXMub25DbGljay5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoIWlzVlJTdGVyZW9BdmFpbGFibGUoKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvbnNvbGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnTm8gVlIgY29udGVudCcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKHBsYXllci5nZXRWUlN0YXR1cygpLmlzU3RlcmVvKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyLnNldFZSU3RlcmVvKGZhbHNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHBsYXllci5zZXRWUlN0ZXJlbyh0cnVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIFNldCBzdGFydHVwIHZpc2liaWxpdHlcclxuICAgICAgICB2ckJ1dHRvblZpc2liaWxpdHlIYW5kbGVyKCk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFZSVG9nZ2xlQnV0dG9uO1xyXG59KHRvZ2dsZWJ1dHRvbl8xLlRvZ2dsZUJ1dHRvbikpO1xyXG5leHBvcnRzLlZSVG9nZ2xlQnV0dG9uID0gVlJUb2dnbGVCdXR0b247XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy92cnRvZ2dsZWJ1dHRvbi50c1xuLy8gbW9kdWxlIGlkID0gMzBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBsYWJlbF8xID0gcmVxdWlyZShcIi4vbGFiZWxcIik7XHJcbnZhciBwbGF5ZXJ1dGlsc18xID0gcmVxdWlyZShcIi4uL3BsYXllcnV0aWxzXCIpO1xyXG52YXIgc3RyaW5ndXRpbHNfMSA9IHJlcXVpcmUoXCIuLi9zdHJpbmd1dGlsc1wiKTtcclxudmFyIFBsYXliYWNrVGltZUxhYmVsTW9kZTtcclxuKGZ1bmN0aW9uIChQbGF5YmFja1RpbWVMYWJlbE1vZGUpIHtcclxuICAgIFBsYXliYWNrVGltZUxhYmVsTW9kZVtQbGF5YmFja1RpbWVMYWJlbE1vZGVbXCJDdXJyZW50VGltZVwiXSA9IDBdID0gXCJDdXJyZW50VGltZVwiO1xyXG4gICAgUGxheWJhY2tUaW1lTGFiZWxNb2RlW1BsYXliYWNrVGltZUxhYmVsTW9kZVtcIlRvdGFsVGltZVwiXSA9IDFdID0gXCJUb3RhbFRpbWVcIjtcclxuICAgIFBsYXliYWNrVGltZUxhYmVsTW9kZVtQbGF5YmFja1RpbWVMYWJlbE1vZGVbXCJDdXJyZW50QW5kVG90YWxUaW1lXCJdID0gMl0gPSBcIkN1cnJlbnRBbmRUb3RhbFRpbWVcIjtcclxufSkoUGxheWJhY2tUaW1lTGFiZWxNb2RlID0gZXhwb3J0cy5QbGF5YmFja1RpbWVMYWJlbE1vZGUgfHwgKGV4cG9ydHMuUGxheWJhY2tUaW1lTGFiZWxNb2RlID0ge30pKTtcclxuLyoqXHJcbiAqIEEgbGFiZWwgdGhhdCBkaXNwbGF5IHRoZSBjdXJyZW50IHBsYXliYWNrIHRpbWUgYW5kIHRoZSB0b3RhbCB0aW1lIHRocm91Z2gge0BsaW5rIFBsYXliYWNrVGltZUxhYmVsI3NldFRpbWUgc2V0VGltZX1cclxuICogb3IgYW55IHN0cmluZyB0aHJvdWdoIHtAbGluayBQbGF5YmFja1RpbWVMYWJlbCNzZXRUZXh0IHNldFRleHR9LlxyXG4gKi9cclxudmFyIFBsYXliYWNrVGltZUxhYmVsID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhQbGF5YmFja1RpbWVMYWJlbCwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIFBsYXliYWNrVGltZUxhYmVsKGNvbmZpZykge1xyXG4gICAgICAgIGlmIChjb25maWcgPT09IHZvaWQgMCkgeyBjb25maWcgPSB7fTsgfVxyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGNvbmZpZykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5jb25maWcgPSBfdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIHtcclxuICAgICAgICAgICAgY3NzQ2xhc3M6ICd1aS1wbGF5YmFja3RpbWVsYWJlbCcsXHJcbiAgICAgICAgICAgIHRpbWVMYWJlbE1vZGU6IFBsYXliYWNrVGltZUxhYmVsTW9kZS5DdXJyZW50QW5kVG90YWxUaW1lLFxyXG4gICAgICAgICAgICBoaWRlSW5MaXZlUGxheWJhY2s6IGZhbHNlLFxyXG4gICAgICAgIH0sIF90aGlzLmNvbmZpZyk7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgUGxheWJhY2tUaW1lTGFiZWwucHJvdG90eXBlLmNvbmZpZ3VyZSA9IGZ1bmN0aW9uIChwbGF5ZXIsIHVpbWFuYWdlcikge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5jb25maWd1cmUuY2FsbCh0aGlzLCBwbGF5ZXIsIHVpbWFuYWdlcik7XHJcbiAgICAgICAgdmFyIGNvbmZpZyA9IHRoaXMuZ2V0Q29uZmlnKCk7XHJcbiAgICAgICAgdmFyIGxpdmUgPSBmYWxzZTtcclxuICAgICAgICB2YXIgbGl2ZUNzc0NsYXNzID0gdGhpcy5wcmVmaXhDc3MoJ3VpLXBsYXliYWNrdGltZWxhYmVsLWxpdmUnKTtcclxuICAgICAgICB2YXIgbGl2ZUVkZ2VDc3NDbGFzcyA9IHRoaXMucHJlZml4Q3NzKCd1aS1wbGF5YmFja3RpbWVsYWJlbC1saXZlLWVkZ2UnKTtcclxuICAgICAgICB2YXIgbWluV2lkdGggPSAwO1xyXG4gICAgICAgIHZhciBsaXZlQ2xpY2tIYW5kbGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBwbGF5ZXIudGltZVNoaWZ0KDApO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdmFyIHVwZGF0ZUxpdmVTdGF0ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgLy8gUGxheWVyIGlzIHBsYXlpbmcgYSBsaXZlIHN0cmVhbSB3aGVuIHRoZSBkdXJhdGlvbiBpcyBpbmZpbml0ZVxyXG4gICAgICAgICAgICBsaXZlID0gcGxheWVyLmlzTGl2ZSgpO1xyXG4gICAgICAgICAgICAvLyBBdHRhY2gvZGV0YWNoIGxpdmUgbWFya2VyIGNsYXNzXHJcbiAgICAgICAgICAgIGlmIChsaXZlKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5nZXREb21FbGVtZW50KCkuYWRkQ2xhc3MobGl2ZUNzc0NsYXNzKTtcclxuICAgICAgICAgICAgICAgIF90aGlzLnNldFRleHQoJ0xpdmUnKTtcclxuICAgICAgICAgICAgICAgIGlmIChjb25maWcuaGlkZUluTGl2ZVBsYXliYWNrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgX3RoaXMub25DbGljay5zdWJzY3JpYmUobGl2ZUNsaWNrSGFuZGxlcik7XHJcbiAgICAgICAgICAgICAgICB1cGRhdGVMaXZlVGltZXNoaWZ0U3RhdGUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLmdldERvbUVsZW1lbnQoKS5yZW1vdmVDbGFzcyhsaXZlQ3NzQ2xhc3MpO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuZ2V0RG9tRWxlbWVudCgpLnJlbW92ZUNsYXNzKGxpdmVFZGdlQ3NzQ2xhc3MpO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMub25DbGljay51bnN1YnNjcmliZShsaXZlQ2xpY2tIYW5kbGVyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdmFyIHVwZGF0ZUxpdmVUaW1lc2hpZnRTdGF0ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKCFsaXZlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gVGhlIHBsYXllciBpcyBvbmx5IGF0IHRoZSBsaXZlIGVkZ2UgaWZmIHRoZSBzdHJlYW0gaXMgbm90IHNoaWZ0ZWQgYW5kIGl0IGlzIGFjdHVhbGx5IHBsYXlpbmcgb3IgcGxheWJhY2sgaGFzXHJcbiAgICAgICAgICAgIC8vIG5ldmVyIGJlZW4gc3RhcnRlZCAobWVhbmluZyBpdCBpc24ndCBwYXVzZWQpLiBBIHBsYXllciB0aGF0IGlzIHBhdXNlZCBpcyBhbHdheXMgYmVoaW5kIHRoZSBsaXZlIGVkZ2UuXHJcbiAgICAgICAgICAgIC8vIEFuIGV4Y2VwdGlvbiBpcyBtYWRlIGZvciBsaXZlIHN0cmVhbXMgd2l0aG91dCBhIHRpbWVzaGlmdCB3aW5kb3csIGJlY2F1c2UgaGVyZSB3ZSBcInN0b3BcIiBwbGF5YmFjayBpbnN0ZWFkXHJcbiAgICAgICAgICAgIC8vIG9mIHBhdXNpbmcgaXQgKGZyb20gYSBVSSBwZXJzcGVjdGl2ZSksIHNvIHdlIGtlZXAgdGhlIGxpdmUgZWRnZSBpbmRpY2F0b3Igb24gYmVjYXVzZSBhIHBsYXkgd291bGQgYWx3YXlzXHJcbiAgICAgICAgICAgIC8vIHJlc3VtZSBhdCB0aGUgbGl2ZSBlZGdlLlxyXG4gICAgICAgICAgICB2YXIgaXNUaW1lc2hpZnRlZCA9IHBsYXllci5nZXRUaW1lU2hpZnQoKSA8IDA7XHJcbiAgICAgICAgICAgIHZhciBpc1RpbWVzaGlmdEF2YWlsYWJsZSA9IHBsYXllci5nZXRNYXhUaW1lU2hpZnQoKSA8IDA7XHJcbiAgICAgICAgICAgIGlmICghaXNUaW1lc2hpZnRlZCAmJiAoIXBsYXllci5pc1BhdXNlZCgpIHx8ICFpc1RpbWVzaGlmdEF2YWlsYWJsZSkpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLmdldERvbUVsZW1lbnQoKS5hZGRDbGFzcyhsaXZlRWRnZUNzc0NsYXNzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLmdldERvbUVsZW1lbnQoKS5yZW1vdmVDbGFzcyhsaXZlRWRnZUNzc0NsYXNzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdmFyIGxpdmVTdHJlYW1EZXRlY3RvciA9IG5ldyBwbGF5ZXJ1dGlsc18xLlBsYXllclV0aWxzLkxpdmVTdHJlYW1EZXRlY3RvcihwbGF5ZXIpO1xyXG4gICAgICAgIGxpdmVTdHJlYW1EZXRlY3Rvci5vbkxpdmVDaGFuZ2VkLnN1YnNjcmliZShmdW5jdGlvbiAoc2VuZGVyLCBhcmdzKSB7XHJcbiAgICAgICAgICAgIGxpdmUgPSBhcmdzLmxpdmU7XHJcbiAgICAgICAgICAgIHVwZGF0ZUxpdmVTdGF0ZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGxpdmVTdHJlYW1EZXRlY3Rvci5kZXRlY3QoKTsgLy8gSW5pdGlhbCBkZXRlY3Rpb25cclxuICAgICAgICB2YXIgcGxheWJhY2tUaW1lSGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKCFsaXZlICYmIHBsYXllci5nZXREdXJhdGlvbigpICE9PSBJbmZpbml0eSkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuc2V0VGltZShwbGF5ZXIuZ2V0Q3VycmVudFRpbWUoKSwgcGxheWVyLmdldER1cmF0aW9uKCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIFRvIGF2b2lkICdqdW1waW5nJyBpbiB0aGUgVUkgYnkgdmFyeWluZyBsYWJlbCBzaXplcyBkdWUgdG8gbm9uLW1vbm9zcGFjZWQgZm9udHMsXHJcbiAgICAgICAgICAgIC8vIHdlIGdyYWR1YWxseSBpbmNyZWFzZSB0aGUgbWluLXdpZHRoIHdpdGggdGhlIGNvbnRlbnQgdG8gcmVhY2ggYSBzdGFibGUgc2l6ZS5cclxuICAgICAgICAgICAgdmFyIHdpZHRoID0gX3RoaXMuZ2V0RG9tRWxlbWVudCgpLndpZHRoKCk7XHJcbiAgICAgICAgICAgIGlmICh3aWR0aCA+IG1pbldpZHRoKSB7XHJcbiAgICAgICAgICAgICAgICBtaW5XaWR0aCA9IHdpZHRoO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuZ2V0RG9tRWxlbWVudCgpLmNzcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgJ21pbi13aWR0aCc6IG1pbldpZHRoICsgJ3B4JyxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9USU1FX0NIQU5HRUQsIHBsYXliYWNrVGltZUhhbmRsZXIpO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1NFRUtFRCwgcGxheWJhY2tUaW1lSGFuZGxlcik7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fQ0FTVF9USU1FX1VQREFURUQsIHBsYXliYWNrVGltZUhhbmRsZXIpO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1RJTUVfU0hJRlQsIHVwZGF0ZUxpdmVUaW1lc2hpZnRTdGF0ZSk7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fVElNRV9TSElGVEVELCB1cGRhdGVMaXZlVGltZXNoaWZ0U3RhdGUpO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1BMQVksIHVwZGF0ZUxpdmVUaW1lc2hpZnRTdGF0ZSk7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fUEFVU0VELCB1cGRhdGVMaXZlVGltZXNoaWZ0U3RhdGUpO1xyXG4gICAgICAgIHZhciBpbml0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAvLyBSZXNldCBtaW4td2lkdGggd2hlbiBhIG5ldyBzb3VyY2UgaXMgcmVhZHkgKGVzcGVjaWFsbHkgZm9yIHN3aXRjaGluZyBWT0QvTGl2ZSBtb2RlcyB3aGVyZSB0aGUgbGFiZWwgY29udGVudFxyXG4gICAgICAgICAgICAvLyBjaGFuZ2VzKVxyXG4gICAgICAgICAgICBtaW5XaWR0aCA9IDA7XHJcbiAgICAgICAgICAgIF90aGlzLmdldERvbUVsZW1lbnQoKS5jc3Moe1xyXG4gICAgICAgICAgICAgICAgJ21pbi13aWR0aCc6IG51bGwsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAvLyBTZXQgdGltZSBmb3JtYXQgZGVwZW5kaW5nIG9uIHNvdXJjZSBkdXJhdGlvblxyXG4gICAgICAgICAgICBfdGhpcy50aW1lRm9ybWF0ID0gTWF0aC5hYnMocGxheWVyLmlzTGl2ZSgpID8gcGxheWVyLmdldE1heFRpbWVTaGlmdCgpIDogcGxheWVyLmdldER1cmF0aW9uKCkpID49IDM2MDAgP1xyXG4gICAgICAgICAgICAgICAgc3RyaW5ndXRpbHNfMS5TdHJpbmdVdGlscy5GT1JNQVRfSEhNTVNTIDogc3RyaW5ndXRpbHNfMS5TdHJpbmdVdGlscy5GT1JNQVRfTU1TUztcclxuICAgICAgICAgICAgLy8gVXBkYXRlIHRpbWUgYWZ0ZXIgdGhlIGZvcm1hdCBoYXMgYmVlbiBzZXRcclxuICAgICAgICAgICAgcGxheWJhY2tUaW1lSGFuZGxlcigpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fUkVBRFksIGluaXQpO1xyXG4gICAgICAgIGluaXQoKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFNldHMgdGhlIGN1cnJlbnQgcGxheWJhY2sgdGltZSBhbmQgdG90YWwgZHVyYXRpb24uXHJcbiAgICAgKiBAcGFyYW0gcGxheWJhY2tTZWNvbmRzIHRoZSBjdXJyZW50IHBsYXliYWNrIHRpbWUgaW4gc2Vjb25kc1xyXG4gICAgICogQHBhcmFtIGR1cmF0aW9uU2Vjb25kcyB0aGUgdG90YWwgZHVyYXRpb24gaW4gc2Vjb25kc1xyXG4gICAgICovXHJcbiAgICBQbGF5YmFja1RpbWVMYWJlbC5wcm90b3R5cGUuc2V0VGltZSA9IGZ1bmN0aW9uIChwbGF5YmFja1NlY29uZHMsIGR1cmF0aW9uU2Vjb25kcykge1xyXG4gICAgICAgIHZhciBjdXJyZW50VGltZSA9IHN0cmluZ3V0aWxzXzEuU3RyaW5nVXRpbHMuc2Vjb25kc1RvVGltZShwbGF5YmFja1NlY29uZHMsIHRoaXMudGltZUZvcm1hdCk7XHJcbiAgICAgICAgdmFyIHRvdGFsVGltZSA9IHN0cmluZ3V0aWxzXzEuU3RyaW5nVXRpbHMuc2Vjb25kc1RvVGltZShkdXJhdGlvblNlY29uZHMsIHRoaXMudGltZUZvcm1hdCk7XHJcbiAgICAgICAgc3dpdGNoICh0aGlzLmNvbmZpZy50aW1lTGFiZWxNb2RlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgUGxheWJhY2tUaW1lTGFiZWxNb2RlLkN1cnJlbnRUaW1lOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRUZXh0KFwiXCIgKyBjdXJyZW50VGltZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBQbGF5YmFja1RpbWVMYWJlbE1vZGUuVG90YWxUaW1lOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRUZXh0KFwiXCIgKyB0b3RhbFRpbWUpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgUGxheWJhY2tUaW1lTGFiZWxNb2RlLkN1cnJlbnRBbmRUb3RhbFRpbWU6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFRleHQoY3VycmVudFRpbWUgKyBcIiAvIFwiICsgdG90YWxUaW1lKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFNldHMgdGhlIGN1cnJlbnQgdGltZSBmb3JtYXRcclxuICAgICAqIEBwYXJhbSB0aW1lRm9ybWF0IHRoZSB0aW1lIGZvcm1hdFxyXG4gICAgICovXHJcbiAgICBQbGF5YmFja1RpbWVMYWJlbC5wcm90b3R5cGUuc2V0VGltZUZvcm1hdCA9IGZ1bmN0aW9uICh0aW1lRm9ybWF0KSB7XHJcbiAgICAgICAgdGhpcy50aW1lRm9ybWF0ID0gdGltZUZvcm1hdDtcclxuICAgIH07XHJcbiAgICByZXR1cm4gUGxheWJhY2tUaW1lTGFiZWw7XHJcbn0obGFiZWxfMS5MYWJlbCkpO1xyXG5leHBvcnRzLlBsYXliYWNrVGltZUxhYmVsID0gUGxheWJhY2tUaW1lTGFiZWw7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9wbGF5YmFja3RpbWVsYWJlbC50c1xuLy8gbW9kdWxlIGlkID0gMzFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciB0b2dnbGVidXR0b25fMSA9IHJlcXVpcmUoXCIuL3RvZ2dsZWJ1dHRvblwiKTtcclxuLyoqXHJcbiAqIEEgYnV0dG9uIHRoYXQgdG9nZ2xlcyB2aXNpYmlsaXR5IG9mIGEgc2V0dGluZ3MgcGFuZWwuXHJcbiAqL1xyXG52YXIgU2V0dGluZ3NUb2dnbGVCdXR0b24gPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKFNldHRpbmdzVG9nZ2xlQnV0dG9uLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gU2V0dGluZ3NUb2dnbGVCdXR0b24oY29uZmlnKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgY29uZmlnKSB8fCB0aGlzO1xyXG4gICAgICAgIGlmICghY29uZmlnLnNldHRpbmdzUGFuZWwpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBTZXR0aW5nc1BhbmVsIGlzIG1pc3NpbmcnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgX3RoaXMuY29uZmlnID0gX3RoaXMubWVyZ2VDb25maWcoY29uZmlnLCB7XHJcbiAgICAgICAgICAgIGNzc0NsYXNzOiAndWktc2V0dGluZ3N0b2dnbGVidXR0b24nLFxyXG4gICAgICAgICAgICB0ZXh0OiAnU2V0dGluZ3MnLFxyXG4gICAgICAgICAgICBzZXR0aW5nc1BhbmVsOiBudWxsLFxyXG4gICAgICAgICAgICBhdXRvSGlkZVdoZW5Ob0FjdGl2ZVNldHRpbmdzOiB0cnVlLFxyXG4gICAgICAgIH0sIF90aGlzLmNvbmZpZyk7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgU2V0dGluZ3NUb2dnbGVCdXR0b24ucHJvdG90eXBlLmNvbmZpZ3VyZSA9IGZ1bmN0aW9uIChwbGF5ZXIsIHVpbWFuYWdlcikge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5jb25maWd1cmUuY2FsbCh0aGlzLCBwbGF5ZXIsIHVpbWFuYWdlcik7XHJcbiAgICAgICAgdmFyIGNvbmZpZyA9IHRoaXMuZ2V0Q29uZmlnKCk7IC8vIFRPRE8gZml4IGdlbmVyaWNzIHR5cGUgaW5mZXJlbmNlXHJcbiAgICAgICAgdmFyIHNldHRpbmdzUGFuZWwgPSBjb25maWcuc2V0dGluZ3NQYW5lbDtcclxuICAgICAgICB0aGlzLm9uQ2xpY2suc3Vic2NyaWJlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgc2V0dGluZ3NQYW5lbC50b2dnbGVIaWRkZW4oKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBzZXR0aW5nc1BhbmVsLm9uU2hvdy5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAvLyBTZXQgdG9nZ2xlIHN0YXR1cyB0byBvbiB3aGVuIHRoZSBzZXR0aW5ncyBwYW5lbCBzaG93c1xyXG4gICAgICAgICAgICBfdGhpcy5vbigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHNldHRpbmdzUGFuZWwub25IaWRlLnN1YnNjcmliZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIC8vIFNldCB0b2dnbGUgc3RhdHVzIHRvIG9mZiB3aGVuIHRoZSBzZXR0aW5ncyBwYW5lbCBoaWRlc1xyXG4gICAgICAgICAgICBfdGhpcy5vZmYoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBIYW5kbGUgYXV0b21hdGljIGhpZGluZyBvZiB0aGUgYnV0dG9uIGlmIHRoZXJlIGFyZSBubyBzZXR0aW5ncyBmb3IgdGhlIHVzZXIgdG8gaW50ZXJhY3Qgd2l0aFxyXG4gICAgICAgIGlmIChjb25maWcuYXV0b0hpZGVXaGVuTm9BY3RpdmVTZXR0aW5ncykge1xyXG4gICAgICAgICAgICAvLyBTZXR1cCBoYW5kbGVyIHRvIHNob3cvaGlkZSBidXR0b24gd2hlbiB0aGUgc2V0dGluZ3MgY2hhbmdlXHJcbiAgICAgICAgICAgIHZhciBzZXR0aW5nc1BhbmVsSXRlbXNDaGFuZ2VkSGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmIChzZXR0aW5nc1BhbmVsLmhhc0FjdGl2ZVNldHRpbmdzKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMuaXNIaWRkZW4oKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5zaG93KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzLmlzU2hvd24oKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvLyBXaXJlIHRoZSBoYW5kbGVyIHRvIHRoZSBldmVudFxyXG4gICAgICAgICAgICBzZXR0aW5nc1BhbmVsLm9uU2V0dGluZ3NTdGF0ZUNoYW5nZWQuc3Vic2NyaWJlKHNldHRpbmdzUGFuZWxJdGVtc0NoYW5nZWRIYW5kbGVyKTtcclxuICAgICAgICAgICAgLy8gQ2FsbCBoYW5kbGVyIGZvciBmaXJzdCBpbml0IGF0IHN0YXJ0dXBcclxuICAgICAgICAgICAgc2V0dGluZ3NQYW5lbEl0ZW1zQ2hhbmdlZEhhbmRsZXIoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFNldHRpbmdzVG9nZ2xlQnV0dG9uO1xyXG59KHRvZ2dsZWJ1dHRvbl8xLlRvZ2dsZUJ1dHRvbikpO1xyXG5leHBvcnRzLlNldHRpbmdzVG9nZ2xlQnV0dG9uID0gU2V0dGluZ3NUb2dnbGVCdXR0b247XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9zZXR0aW5nc3RvZ2dsZWJ1dHRvbi50c1xuLy8gbW9kdWxlIGlkID0gMzJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBjb21wb25lbnRfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudFwiKTtcclxudmFyIGV2ZW50ZGlzcGF0Y2hlcl8xID0gcmVxdWlyZShcIi4uL2V2ZW50ZGlzcGF0Y2hlclwiKTtcclxudmFyIGFycmF5dXRpbHNfMSA9IHJlcXVpcmUoXCIuLi9hcnJheXV0aWxzXCIpO1xyXG52YXIgTGlzdFNlbGVjdG9yID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhMaXN0U2VsZWN0b3IsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBMaXN0U2VsZWN0b3IoY29uZmlnKSB7XHJcbiAgICAgICAgaWYgKGNvbmZpZyA9PT0gdm9pZCAwKSB7IGNvbmZpZyA9IHt9OyB9XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgY29uZmlnKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLmxpc3RTZWxlY3RvckV2ZW50cyA9IHtcclxuICAgICAgICAgICAgb25JdGVtQWRkZWQ6IG5ldyBldmVudGRpc3BhdGNoZXJfMS5FdmVudERpc3BhdGNoZXIoKSxcclxuICAgICAgICAgICAgb25JdGVtUmVtb3ZlZDogbmV3IGV2ZW50ZGlzcGF0Y2hlcl8xLkV2ZW50RGlzcGF0Y2hlcigpLFxyXG4gICAgICAgICAgICBvbkl0ZW1TZWxlY3RlZDogbmV3IGV2ZW50ZGlzcGF0Y2hlcl8xLkV2ZW50RGlzcGF0Y2hlcigpLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgX3RoaXMuY29uZmlnID0gX3RoaXMubWVyZ2VDb25maWcoY29uZmlnLCB7XHJcbiAgICAgICAgICAgIGl0ZW1zOiBbXSxcclxuICAgICAgICAgICAgY3NzQ2xhc3M6ICd1aS1saXN0c2VsZWN0b3InLFxyXG4gICAgICAgIH0sIF90aGlzLmNvbmZpZyk7XHJcbiAgICAgICAgX3RoaXMuaXRlbXMgPSBfdGhpcy5jb25maWcuaXRlbXM7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgTGlzdFNlbGVjdG9yLnByb3RvdHlwZS5nZXRJdGVtSW5kZXggPSBmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgZm9yICh2YXIgaW5kZXggaW4gdGhpcy5pdGVtcykge1xyXG4gICAgICAgICAgICBpZiAoa2V5ID09PSB0aGlzLml0ZW1zW2luZGV4XS5rZXkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZUludChpbmRleCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIC0xO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2tzIGlmIHRoZSBzcGVjaWZpZWQgaXRlbSBpcyBwYXJ0IG9mIHRoaXMgc2VsZWN0b3IuXHJcbiAgICAgKiBAcGFyYW0ga2V5IHRoZSBrZXkgb2YgdGhlIGl0ZW0gdG8gY2hlY2tcclxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlmIHRoZSBpdGVtIGlzIHBhcnQgb2YgdGhpcyBzZWxlY3RvciwgZWxzZSBmYWxzZVxyXG4gICAgICovXHJcbiAgICBMaXN0U2VsZWN0b3IucHJvdG90eXBlLmhhc0l0ZW0gPSBmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0SXRlbUluZGV4KGtleSkgPiAtMTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEFkZHMgYW4gaXRlbSB0byB0aGlzIHNlbGVjdG9yIGJ5IGFwcGVuZGluZyBpdCB0byB0aGUgZW5kIG9mIHRoZSBsaXN0IG9mIGl0ZW1zLiBJZiBhbiBpdGVtIHdpdGggdGhlIHNwZWNpZmllZFxyXG4gICAgICoga2V5IGFscmVhZHkgZXhpc3RzLCBpdCBpcyByZXBsYWNlZC5cclxuICAgICAqIEBwYXJhbSBrZXkgdGhlIGtleSBvZiB0aGUgaXRlbSB0byBhZGRcclxuICAgICAqIEBwYXJhbSBsYWJlbCB0aGUgKGh1bWFuLXJlYWRhYmxlKSBsYWJlbCBvZiB0aGUgaXRlbSB0byBhZGRcclxuICAgICAqL1xyXG4gICAgTGlzdFNlbGVjdG9yLnByb3RvdHlwZS5hZGRJdGVtID0gZnVuY3Rpb24gKGtleSwgbGFiZWwpIHtcclxuICAgICAgICB2YXIgbGlzdEl0ZW0gPSB7IGtleToga2V5LCBsYWJlbDogbGFiZWwgfTtcclxuICAgICAgICAvLyBBcHBseSBmaWx0ZXIgZnVuY3Rpb25cclxuICAgICAgICBpZiAodGhpcy5jb25maWcuZmlsdGVyICYmICF0aGlzLmNvbmZpZy5maWx0ZXIobGlzdEl0ZW0pKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gQXBwbHkgdHJhbnNsYXRvciBmdW5jdGlvblxyXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZy50cmFuc2xhdG9yKSB7XHJcbiAgICAgICAgICAgIGxpc3RJdGVtLmxhYmVsID0gdGhpcy5jb25maWcudHJhbnNsYXRvcihsaXN0SXRlbSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucmVtb3ZlSXRlbShrZXkpOyAvLyBUcnkgdG8gcmVtb3ZlIGtleSBmaXJzdCB0byBnZXQgb3ZlcndyaXRlIGJlaGF2aW9yIGFuZCBhdm9pZCBkdXBsaWNhdGUga2V5c1xyXG4gICAgICAgIHRoaXMuaXRlbXMucHVzaChsaXN0SXRlbSk7XHJcbiAgICAgICAgdGhpcy5vbkl0ZW1BZGRlZEV2ZW50KGtleSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZW1vdmVzIGFuIGl0ZW0gZnJvbSB0aGlzIHNlbGVjdG9yLlxyXG4gICAgICogQHBhcmFtIGtleSB0aGUga2V5IG9mIHRoZSBpdGVtIHRvIHJlbW92ZVxyXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IHRydWUgaWYgcmVtb3ZhbCB3YXMgc3VjY2Vzc2Z1bCwgZmFsc2UgaWYgdGhlIGl0ZW0gaXMgbm90IHBhcnQgb2YgdGhpcyBzZWxlY3RvclxyXG4gICAgICovXHJcbiAgICBMaXN0U2VsZWN0b3IucHJvdG90eXBlLnJlbW92ZUl0ZW0gPSBmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5nZXRJdGVtSW5kZXgoa2V5KTtcclxuICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xyXG4gICAgICAgICAgICBhcnJheXV0aWxzXzEuQXJyYXlVdGlscy5yZW1vdmUodGhpcy5pdGVtcywgdGhpcy5pdGVtc1tpbmRleF0pO1xyXG4gICAgICAgICAgICB0aGlzLm9uSXRlbVJlbW92ZWRFdmVudChrZXkpO1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogU2VsZWN0cyBhbiBpdGVtIGZyb20gdGhlIGl0ZW1zIGluIHRoaXMgc2VsZWN0b3IuXHJcbiAgICAgKiBAcGFyYW0ga2V5IHRoZSBrZXkgb2YgdGhlIGl0ZW0gdG8gc2VsZWN0XHJcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpcyB0aGUgc2VsZWN0aW9uIHdhcyBzdWNjZXNzZnVsLCBmYWxzZSBpZiB0aGUgc2VsZWN0ZWQgaXRlbSBpcyBub3QgcGFydCBvZiB0aGUgc2VsZWN0b3JcclxuICAgICAqL1xyXG4gICAgTGlzdFNlbGVjdG9yLnByb3RvdHlwZS5zZWxlY3RJdGVtID0gZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgIGlmIChrZXkgPT09IHRoaXMuc2VsZWN0ZWRJdGVtKSB7XHJcbiAgICAgICAgICAgIC8vIGl0ZW1Db25maWcgaXMgYWxyZWFkeSBzZWxlY3RlZCwgc3VwcHJlc3MgYW55IGZ1cnRoZXIgYWN0aW9uXHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmdldEl0ZW1JbmRleChrZXkpO1xyXG4gICAgICAgIGlmIChpbmRleCA+IC0xKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJdGVtID0ga2V5O1xyXG4gICAgICAgICAgICB0aGlzLm9uSXRlbVNlbGVjdGVkRXZlbnQoa2V5KTtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdGhlIGtleSBvZiB0aGUgc2VsZWN0ZWQgaXRlbS5cclxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IHRoZSBrZXkgb2YgdGhlIHNlbGVjdGVkIGl0ZW0gb3IgbnVsbCBpZiBubyBpdGVtIGlzIHNlbGVjdGVkXHJcbiAgICAgKi9cclxuICAgIExpc3RTZWxlY3Rvci5wcm90b3R5cGUuZ2V0U2VsZWN0ZWRJdGVtID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNlbGVjdGVkSXRlbTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZXMgYWxsIGl0ZW1zIGZyb20gdGhpcyBzZWxlY3Rvci5cclxuICAgICAqL1xyXG4gICAgTGlzdFNlbGVjdG9yLnByb3RvdHlwZS5jbGVhckl0ZW1zID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vIGxvY2FsIGNvcHkgZm9yIGl0ZXJhdGlvbiBhZnRlciBjbGVhclxyXG4gICAgICAgIHZhciBpdGVtcyA9IHRoaXMuaXRlbXM7XHJcbiAgICAgICAgLy8gY2xlYXIgaXRlbXNcclxuICAgICAgICB0aGlzLml0ZW1zID0gW107XHJcbiAgICAgICAgLy8gY2xlYXIgdGhlIHNlbGVjdGlvbiBhcyB0aGUgc2VsZWN0ZWQgaXRlbSBpcyBhbHNvIHJlbW92ZWRcclxuICAgICAgICB0aGlzLnNlbGVjdGVkSXRlbSA9IG51bGw7XHJcbiAgICAgICAgLy8gZmlyZSBldmVudHNcclxuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIGl0ZW1zXzEgPSBpdGVtczsgX2kgPCBpdGVtc18xLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICB2YXIgaXRlbSA9IGl0ZW1zXzFbX2ldO1xyXG4gICAgICAgICAgICB0aGlzLm9uSXRlbVJlbW92ZWRFdmVudChpdGVtLmtleSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0aGUgbnVtYmVyIG9mIGl0ZW1zIGluIHRoaXMgc2VsZWN0b3IuXHJcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfVxyXG4gICAgICovXHJcbiAgICBMaXN0U2VsZWN0b3IucHJvdG90eXBlLml0ZW1Db3VudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5pdGVtcykubGVuZ3RoO1xyXG4gICAgfTtcclxuICAgIExpc3RTZWxlY3Rvci5wcm90b3R5cGUub25JdGVtQWRkZWRFdmVudCA9IGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICB0aGlzLmxpc3RTZWxlY3RvckV2ZW50cy5vbkl0ZW1BZGRlZC5kaXNwYXRjaCh0aGlzLCBrZXkpO1xyXG4gICAgfTtcclxuICAgIExpc3RTZWxlY3Rvci5wcm90b3R5cGUub25JdGVtUmVtb3ZlZEV2ZW50ID0gZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgIHRoaXMubGlzdFNlbGVjdG9yRXZlbnRzLm9uSXRlbVJlbW92ZWQuZGlzcGF0Y2godGhpcywga2V5KTtcclxuICAgIH07XHJcbiAgICBMaXN0U2VsZWN0b3IucHJvdG90eXBlLm9uSXRlbVNlbGVjdGVkRXZlbnQgPSBmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgdGhpcy5saXN0U2VsZWN0b3JFdmVudHMub25JdGVtU2VsZWN0ZWQuZGlzcGF0Y2godGhpcywga2V5KTtcclxuICAgIH07XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTGlzdFNlbGVjdG9yLnByb3RvdHlwZSwgXCJvbkl0ZW1BZGRlZFwiLCB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogR2V0cyB0aGUgZXZlbnQgdGhhdCBpcyBmaXJlZCB3aGVuIGFuIGl0ZW0gaXMgYWRkZWQgdG8gdGhlIGxpc3Qgb2YgaXRlbXMuXHJcbiAgICAgICAgICogQHJldHVybnMge0V2ZW50PExpc3RTZWxlY3RvcjxDb25maWc+LCBzdHJpbmc+fVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5saXN0U2VsZWN0b3JFdmVudHMub25JdGVtQWRkZWQuZ2V0RXZlbnQoKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShMaXN0U2VsZWN0b3IucHJvdG90eXBlLCBcIm9uSXRlbVJlbW92ZWRcIiwge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEdldHMgdGhlIGV2ZW50IHRoYXQgaXMgZmlyZWQgd2hlbiBhbiBpdGVtIGlzIHJlbW92ZWQgZnJvbSB0aGUgbGlzdCBvZiBpdGVtcy5cclxuICAgICAgICAgKiBAcmV0dXJucyB7RXZlbnQ8TGlzdFNlbGVjdG9yPENvbmZpZz4sIHN0cmluZz59XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxpc3RTZWxlY3RvckV2ZW50cy5vbkl0ZW1SZW1vdmVkLmdldEV2ZW50KCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTGlzdFNlbGVjdG9yLnByb3RvdHlwZSwgXCJvbkl0ZW1TZWxlY3RlZFwiLCB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogR2V0cyB0aGUgZXZlbnQgdGhhdCBpcyBmaXJlZCB3aGVuIGFuIGl0ZW0gaXMgc2VsZWN0ZWQgZnJvbSB0aGUgbGlzdCBvZiBpdGVtcy5cclxuICAgICAgICAgKiBAcmV0dXJucyB7RXZlbnQ8TGlzdFNlbGVjdG9yPENvbmZpZz4sIHN0cmluZz59XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxpc3RTZWxlY3RvckV2ZW50cy5vbkl0ZW1TZWxlY3RlZC5nZXRFdmVudCgpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIExpc3RTZWxlY3RvcjtcclxufShjb21wb25lbnRfMS5Db21wb25lbnQpKTtcclxuZXhwb3J0cy5MaXN0U2VsZWN0b3IgPSBMaXN0U2VsZWN0b3I7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9saXN0c2VsZWN0b3IudHNcbi8vIG1vZHVsZSBpZCA9IDMzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgc2V0dGluZ3NwYW5lbF8xID0gcmVxdWlyZShcIi4uL3NldHRpbmdzcGFuZWxcIik7XHJcbnZhciBmb250Y29sb3JzZWxlY3Rib3hfMSA9IHJlcXVpcmUoXCIuL2ZvbnRjb2xvcnNlbGVjdGJveFwiKTtcclxudmFyIGZvbnRvcGFjaXR5c2VsZWN0Ym94XzEgPSByZXF1aXJlKFwiLi9mb250b3BhY2l0eXNlbGVjdGJveFwiKTtcclxudmFyIGZvbnRmYW1pbHlzZWxlY3Rib3hfMSA9IHJlcXVpcmUoXCIuL2ZvbnRmYW1pbHlzZWxlY3Rib3hcIik7XHJcbnZhciBmb250c2l6ZXNlbGVjdGJveF8xID0gcmVxdWlyZShcIi4vZm9udHNpemVzZWxlY3Rib3hcIik7XHJcbnZhciBiYWNrZ3JvdW5kY29sb3JzZWxlY3Rib3hfMSA9IHJlcXVpcmUoXCIuL2JhY2tncm91bmRjb2xvcnNlbGVjdGJveFwiKTtcclxudmFyIGJhY2tncm91bmRvcGFjaXR5c2VsZWN0Ym94XzEgPSByZXF1aXJlKFwiLi9iYWNrZ3JvdW5kb3BhY2l0eXNlbGVjdGJveFwiKTtcclxudmFyIHdpbmRvd2NvbG9yc2VsZWN0Ym94XzEgPSByZXF1aXJlKFwiLi93aW5kb3djb2xvcnNlbGVjdGJveFwiKTtcclxudmFyIHdpbmRvd29wYWNpdHlzZWxlY3Rib3hfMSA9IHJlcXVpcmUoXCIuL3dpbmRvd29wYWNpdHlzZWxlY3Rib3hcIik7XHJcbnZhciBjaGFyYWN0ZXJlZGdlc2VsZWN0Ym94XzEgPSByZXF1aXJlKFwiLi9jaGFyYWN0ZXJlZGdlc2VsZWN0Ym94XCIpO1xyXG52YXIgc3VidGl0bGVzZXR0aW5nc21hbmFnZXJfMSA9IHJlcXVpcmUoXCIuL3N1YnRpdGxlc2V0dGluZ3NtYW5hZ2VyXCIpO1xyXG52YXIgc3VidGl0bGVzZXR0aW5nc2Nsb3NlYnV0dG9uXzEgPSByZXF1aXJlKFwiLi9zdWJ0aXRsZXNldHRpbmdzY2xvc2VidXR0b25cIik7XHJcbnZhciBzdWJ0aXRsZXNldHRpbmdzcmVzZXRidXR0b25fMSA9IHJlcXVpcmUoXCIuL3N1YnRpdGxlc2V0dGluZ3NyZXNldGJ1dHRvblwiKTtcclxuLyoqXHJcbiAqIFN1YnRpdGxlU2V0dGluZ3NQYW5lbCBpcyBhIHNldHRpbmdzIHBhbmVsIHNwZWNpZmljIHRvIHN1YnRpdGxlcyBzZXR0aW5nc1xyXG4gKiovXHJcbnZhciBTdWJ0aXRsZVNldHRpbmdzUGFuZWwgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKFN1YnRpdGxlU2V0dGluZ3NQYW5lbCwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIFN1YnRpdGxlU2V0dGluZ3NQYW5lbChjb25maWcpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBjb25maWcpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMub3ZlcmxheSA9IGNvbmZpZy5vdmVybGF5O1xyXG4gICAgICAgIHZhciBtYW5hZ2VyID0gbmV3IHN1YnRpdGxlc2V0dGluZ3NtYW5hZ2VyXzEuU3VidGl0bGVTZXR0aW5nc01hbmFnZXIoKTtcclxuICAgICAgICBfdGhpcy5jb25maWcgPSBfdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIHtcclxuICAgICAgICAgICAgY29tcG9uZW50czogW1xyXG4gICAgICAgICAgICAgICAgbmV3IHNldHRpbmdzcGFuZWxfMS5TZXR0aW5nc1BhbmVsSXRlbSgnRm9udCBzaXplJywgbmV3IGZvbnRzaXplc2VsZWN0Ym94XzEuRm9udFNpemVTZWxlY3RCb3goe1xyXG4gICAgICAgICAgICAgICAgICAgIG92ZXJsYXk6IF90aGlzLm92ZXJsYXksIHNldHRpbmdzTWFuYWdlcjogbWFuYWdlcixcclxuICAgICAgICAgICAgICAgIH0pKSxcclxuICAgICAgICAgICAgICAgIG5ldyBzZXR0aW5nc3BhbmVsXzEuU2V0dGluZ3NQYW5lbEl0ZW0oJ0ZvbnQgZmFtaWx5JywgbmV3IGZvbnRmYW1pbHlzZWxlY3Rib3hfMS5Gb250RmFtaWx5U2VsZWN0Qm94KHtcclxuICAgICAgICAgICAgICAgICAgICBvdmVybGF5OiBfdGhpcy5vdmVybGF5LCBzZXR0aW5nc01hbmFnZXI6IG1hbmFnZXIsXHJcbiAgICAgICAgICAgICAgICB9KSksXHJcbiAgICAgICAgICAgICAgICBuZXcgc2V0dGluZ3NwYW5lbF8xLlNldHRpbmdzUGFuZWxJdGVtKCdGb250IGNvbG9yJywgbmV3IGZvbnRjb2xvcnNlbGVjdGJveF8xLkZvbnRDb2xvclNlbGVjdEJveCh7XHJcbiAgICAgICAgICAgICAgICAgICAgb3ZlcmxheTogX3RoaXMub3ZlcmxheSwgc2V0dGluZ3NNYW5hZ2VyOiBtYW5hZ2VyLFxyXG4gICAgICAgICAgICAgICAgfSkpLFxyXG4gICAgICAgICAgICAgICAgbmV3IHNldHRpbmdzcGFuZWxfMS5TZXR0aW5nc1BhbmVsSXRlbSgnRm9udCBvcGFjaXR5JywgbmV3IGZvbnRvcGFjaXR5c2VsZWN0Ym94XzEuRm9udE9wYWNpdHlTZWxlY3RCb3goe1xyXG4gICAgICAgICAgICAgICAgICAgIG92ZXJsYXk6IF90aGlzLm92ZXJsYXksIHNldHRpbmdzTWFuYWdlcjogbWFuYWdlcixcclxuICAgICAgICAgICAgICAgIH0pKSxcclxuICAgICAgICAgICAgICAgIG5ldyBzZXR0aW5nc3BhbmVsXzEuU2V0dGluZ3NQYW5lbEl0ZW0oJ0NoYXJhY3RlciBlZGdlJywgbmV3IGNoYXJhY3RlcmVkZ2VzZWxlY3Rib3hfMS5DaGFyYWN0ZXJFZGdlU2VsZWN0Qm94KHtcclxuICAgICAgICAgICAgICAgICAgICBvdmVybGF5OiBfdGhpcy5vdmVybGF5LCBzZXR0aW5nc01hbmFnZXI6IG1hbmFnZXIsXHJcbiAgICAgICAgICAgICAgICB9KSksXHJcbiAgICAgICAgICAgICAgICBuZXcgc2V0dGluZ3NwYW5lbF8xLlNldHRpbmdzUGFuZWxJdGVtKCdCYWNrZ3JvdW5kIGNvbG9yJywgbmV3IGJhY2tncm91bmRjb2xvcnNlbGVjdGJveF8xLkJhY2tncm91bmRDb2xvclNlbGVjdEJveCh7XHJcbiAgICAgICAgICAgICAgICAgICAgb3ZlcmxheTogX3RoaXMub3ZlcmxheSwgc2V0dGluZ3NNYW5hZ2VyOiBtYW5hZ2VyLFxyXG4gICAgICAgICAgICAgICAgfSkpLFxyXG4gICAgICAgICAgICAgICAgbmV3IHNldHRpbmdzcGFuZWxfMS5TZXR0aW5nc1BhbmVsSXRlbSgnQmFja2dyb3VuZCBvcGFjaXR5JywgbmV3IGJhY2tncm91bmRvcGFjaXR5c2VsZWN0Ym94XzEuQmFja2dyb3VuZE9wYWNpdHlTZWxlY3RCb3goe1xyXG4gICAgICAgICAgICAgICAgICAgIG92ZXJsYXk6IF90aGlzLm92ZXJsYXksIHNldHRpbmdzTWFuYWdlcjogbWFuYWdlcixcclxuICAgICAgICAgICAgICAgIH0pKSxcclxuICAgICAgICAgICAgICAgIG5ldyBzZXR0aW5nc3BhbmVsXzEuU2V0dGluZ3NQYW5lbEl0ZW0oJ1dpbmRvdyBjb2xvcicsIG5ldyB3aW5kb3djb2xvcnNlbGVjdGJveF8xLldpbmRvd0NvbG9yU2VsZWN0Qm94KHtcclxuICAgICAgICAgICAgICAgICAgICBvdmVybGF5OiBfdGhpcy5vdmVybGF5LCBzZXR0aW5nc01hbmFnZXI6IG1hbmFnZXIsXHJcbiAgICAgICAgICAgICAgICB9KSksXHJcbiAgICAgICAgICAgICAgICBuZXcgc2V0dGluZ3NwYW5lbF8xLlNldHRpbmdzUGFuZWxJdGVtKCdXaW5kb3cgb3BhY2l0eScsIG5ldyB3aW5kb3dvcGFjaXR5c2VsZWN0Ym94XzEuV2luZG93T3BhY2l0eVNlbGVjdEJveCh7XHJcbiAgICAgICAgICAgICAgICAgICAgb3ZlcmxheTogX3RoaXMub3ZlcmxheSwgc2V0dGluZ3NNYW5hZ2VyOiBtYW5hZ2VyLFxyXG4gICAgICAgICAgICAgICAgfSkpLFxyXG4gICAgICAgICAgICAgICAgbmV3IHNldHRpbmdzcGFuZWxfMS5TZXR0aW5nc1BhbmVsSXRlbShuZXcgc3VidGl0bGVzZXR0aW5nc2Nsb3NlYnV0dG9uXzEuU3VidGl0bGVTZXR0aW5nc0Nsb3NlQnV0dG9uKHtcclxuICAgICAgICAgICAgICAgICAgICBzdWJ0aXRsZVNldHRpbmdzUGFuZWw6IF90aGlzLCBzZXR0aW5nc1BhbmVsOiBjb25maWcuc2V0dGluZ3NQYW5lbCxcclxuICAgICAgICAgICAgICAgIH0pLCBuZXcgc3VidGl0bGVzZXR0aW5nc3Jlc2V0YnV0dG9uXzEuU3VidGl0bGVTZXR0aW5nc1Jlc2V0QnV0dG9uKHtcclxuICAgICAgICAgICAgICAgICAgICBzZXR0aW5nc01hbmFnZXI6IG1hbmFnZXIsXHJcbiAgICAgICAgICAgICAgICB9KSksXHJcbiAgICAgICAgICAgIF0sXHJcbiAgICAgICAgfSwgX3RoaXMuY29uZmlnKTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBTdWJ0aXRsZVNldHRpbmdzUGFuZWwucHJvdG90eXBlLmNvbmZpZ3VyZSA9IGZ1bmN0aW9uIChwbGF5ZXIsIHVpbWFuYWdlcikge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5jb25maWd1cmUuY2FsbCh0aGlzLCBwbGF5ZXIsIHVpbWFuYWdlcik7XHJcbiAgICAgICAgdGhpcy5vblNob3cuc3Vic2NyaWJlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgX3RoaXMub3ZlcmxheS5lbmFibGVQcmV2aWV3U3VidGl0bGVMYWJlbCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMub25IaWRlLnN1YnNjcmliZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIF90aGlzLm92ZXJsYXkucmVtb3ZlUHJldmlld1N1YnRpdGxlTGFiZWwoKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gU3VidGl0bGVTZXR0aW5nc1BhbmVsO1xyXG59KHNldHRpbmdzcGFuZWxfMS5TZXR0aW5nc1BhbmVsKSk7XHJcbmV4cG9ydHMuU3VidGl0bGVTZXR0aW5nc1BhbmVsID0gU3VidGl0bGVTZXR0aW5nc1BhbmVsO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvc3VidGl0bGVzZXR0aW5ncy9zdWJ0aXRsZXNldHRpbmdzcGFuZWwudHNcbi8vIG1vZHVsZSBpZCA9IDM0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgc3VidGl0bGVzZXR0aW5nc2VsZWN0Ym94XzEgPSByZXF1aXJlKFwiLi9zdWJ0aXRsZXNldHRpbmdzZWxlY3Rib3hcIik7XHJcbi8qKlxyXG4gKiBBIHNlbGVjdCBib3ggcHJvdmlkaW5nIGEgc2VsZWN0aW9uIG9mIGRpZmZlcmVudCBmb250IGNvbG9ycy5cclxuICovXHJcbnZhciBGb250Q29sb3JTZWxlY3RCb3ggPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKEZvbnRDb2xvclNlbGVjdEJveCwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIEZvbnRDb2xvclNlbGVjdEJveCgpIHtcclxuICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XHJcbiAgICB9XHJcbiAgICBGb250Q29sb3JTZWxlY3RCb3gucHJvdG90eXBlLmNvbmZpZ3VyZSA9IGZ1bmN0aW9uIChwbGF5ZXIsIHVpbWFuYWdlcikge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5jb25maWd1cmUuY2FsbCh0aGlzLCBwbGF5ZXIsIHVpbWFuYWdlcik7XHJcbiAgICAgICAgdGhpcy5hZGRJdGVtKG51bGwsICdkZWZhdWx0Jyk7XHJcbiAgICAgICAgdGhpcy5hZGRJdGVtKCd3aGl0ZScsICd3aGl0ZScpO1xyXG4gICAgICAgIHRoaXMuYWRkSXRlbSgnYmxhY2snLCAnYmxhY2snKTtcclxuICAgICAgICB0aGlzLmFkZEl0ZW0oJ3JlZCcsICdyZWQnKTtcclxuICAgICAgICB0aGlzLmFkZEl0ZW0oJ2dyZWVuJywgJ2dyZWVuJyk7XHJcbiAgICAgICAgdGhpcy5hZGRJdGVtKCdibHVlJywgJ2JsdWUnKTtcclxuICAgICAgICB0aGlzLmFkZEl0ZW0oJ2N5YW4nLCAnY3lhbicpO1xyXG4gICAgICAgIHRoaXMuYWRkSXRlbSgneWVsbG93JywgJ3llbGxvdycpO1xyXG4gICAgICAgIHRoaXMuYWRkSXRlbSgnbWFnZW50YScsICdtYWdlbnRhJyk7XHJcbiAgICAgICAgdmFyIHNldENvbG9yQW5kT3BhY2l0eSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKF90aGlzLnNldHRpbmdzTWFuYWdlci5mb250Q29sb3IuaXNTZXQoKSAmJiBfdGhpcy5zZXR0aW5nc01hbmFnZXIuZm9udE9wYWNpdHkuaXNTZXQoKSkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMudG9nZ2xlT3ZlcmxheUNsYXNzKCdmb250Y29sb3ItJyArIF90aGlzLnNldHRpbmdzTWFuYWdlci5mb250Q29sb3IudmFsdWUgKyBfdGhpcy5zZXR0aW5nc01hbmFnZXIuZm9udE9wYWNpdHkudmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMudG9nZ2xlT3ZlcmxheUNsYXNzKG51bGwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLm9uSXRlbVNlbGVjdGVkLnN1YnNjcmliZShmdW5jdGlvbiAoc2VuZGVyLCBrZXkpIHtcclxuICAgICAgICAgICAgX3RoaXMuc2V0dGluZ3NNYW5hZ2VyLmZvbnRDb2xvci52YWx1ZSA9IGtleTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnNldHRpbmdzTWFuYWdlci5mb250Q29sb3Iub25DaGFuZ2VkLnN1YnNjcmliZShmdW5jdGlvbiAoc2VuZGVyLCBwcm9wZXJ0eSkge1xyXG4gICAgICAgICAgICAvLyBDb2xvciBhbmQgb3BhY2l0eSBnbyB0b2dldGhlciwgc28gd2UgbmVlZCB0by4uLlxyXG4gICAgICAgICAgICBpZiAoIV90aGlzLnNldHRpbmdzTWFuYWdlci5mb250Q29sb3IuaXNTZXQoKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gLi4uIGNsZWFyIHRoZSBvcGFjaXR5IHdoZW4gdGhlIGNvbG9yIGlzIG5vdCBzZXRcclxuICAgICAgICAgICAgICAgIF90aGlzLnNldHRpbmdzTWFuYWdlci5mb250T3BhY2l0eS5jbGVhcigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKCFfdGhpcy5zZXR0aW5nc01hbmFnZXIuZm9udE9wYWNpdHkuaXNTZXQoKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gLi4uIHNldCBhbiBvcGFjaXR5IHdoZW4gdGhlIGNvbG9yIGlzIHNldFxyXG4gICAgICAgICAgICAgICAgX3RoaXMuc2V0dGluZ3NNYW5hZ2VyLmZvbnRPcGFjaXR5LnZhbHVlID0gJzEwMCc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgX3RoaXMuc2VsZWN0SXRlbShwcm9wZXJ0eS52YWx1ZSk7XHJcbiAgICAgICAgICAgIHNldENvbG9yQW5kT3BhY2l0eSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuc2V0dGluZ3NNYW5hZ2VyLmZvbnRPcGFjaXR5Lm9uQ2hhbmdlZC5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBzZXRDb2xvckFuZE9wYWNpdHkoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBMb2FkIGluaXRpYWwgdmFsdWVcclxuICAgICAgICBpZiAodGhpcy5zZXR0aW5nc01hbmFnZXIuZm9udENvbG9yLmlzU2V0KCkpIHtcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RJdGVtKHRoaXMuc2V0dGluZ3NNYW5hZ2VyLmZvbnRDb2xvci52YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHJldHVybiBGb250Q29sb3JTZWxlY3RCb3g7XHJcbn0oc3VidGl0bGVzZXR0aW5nc2VsZWN0Ym94XzEuU3VidGl0bGVTZXR0aW5nU2VsZWN0Qm94KSk7XHJcbmV4cG9ydHMuRm9udENvbG9yU2VsZWN0Qm94ID0gRm9udENvbG9yU2VsZWN0Qm94O1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvc3VidGl0bGVzZXR0aW5ncy9mb250Y29sb3JzZWxlY3Rib3gudHNcbi8vIG1vZHVsZSBpZCA9IDM1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgc3VidGl0bGVzZXR0aW5nc2VsZWN0Ym94XzEgPSByZXF1aXJlKFwiLi9zdWJ0aXRsZXNldHRpbmdzZWxlY3Rib3hcIik7XHJcbi8qKlxyXG4gKiBBIHNlbGVjdCBib3ggcHJvdmlkaW5nIGEgc2VsZWN0aW9uIG9mIGRpZmZlcmVudCBmb250IGNvbG9ycy5cclxuICovXHJcbnZhciBGb250T3BhY2l0eVNlbGVjdEJveCA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoRm9udE9wYWNpdHlTZWxlY3RCb3gsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBGb250T3BhY2l0eVNlbGVjdEJveCgpIHtcclxuICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XHJcbiAgICB9XHJcbiAgICBGb250T3BhY2l0eVNlbGVjdEJveC5wcm90b3R5cGUuY29uZmlndXJlID0gZnVuY3Rpb24gKHBsYXllciwgdWltYW5hZ2VyKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmNvbmZpZ3VyZS5jYWxsKHRoaXMsIHBsYXllciwgdWltYW5hZ2VyKTtcclxuICAgICAgICB0aGlzLmFkZEl0ZW0obnVsbCwgJ2RlZmF1bHQnKTtcclxuICAgICAgICB0aGlzLmFkZEl0ZW0oJzEwMCcsICcxMDAlJyk7XHJcbiAgICAgICAgdGhpcy5hZGRJdGVtKCc3NScsICc3NSUnKTtcclxuICAgICAgICB0aGlzLmFkZEl0ZW0oJzUwJywgJzUwJScpO1xyXG4gICAgICAgIHRoaXMuYWRkSXRlbSgnMjUnLCAnMjUlJyk7XHJcbiAgICAgICAgdGhpcy5vbkl0ZW1TZWxlY3RlZC5zdWJzY3JpYmUoZnVuY3Rpb24gKHNlbmRlciwga2V5KSB7XHJcbiAgICAgICAgICAgIF90aGlzLnNldHRpbmdzTWFuYWdlci5mb250T3BhY2l0eS52YWx1ZSA9IGtleTtcclxuICAgICAgICAgICAgLy8gQ29sb3IgYW5kIG9wYWNpdHkgZ28gdG9nZXRoZXIsIHNvIHdlIG5lZWQgdG8uLi5cclxuICAgICAgICAgICAgaWYgKCFfdGhpcy5zZXR0aW5nc01hbmFnZXIuZm9udE9wYWNpdHkuaXNTZXQoKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gLi4uIGNsZWFyIHRoZSBjb2xvciB3aGVuIHRoZSBvcGFjaXR5IGlzIG5vdCBzZXRcclxuICAgICAgICAgICAgICAgIF90aGlzLnNldHRpbmdzTWFuYWdlci5mb250Q29sb3IuY2xlYXIoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICghX3RoaXMuc2V0dGluZ3NNYW5hZ2VyLmZvbnRDb2xvci5pc1NldCgpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyAuLi4gc2V0IGEgY29sb3Igd2hlbiB0aGUgb3BhY2l0eSBpcyBzZXRcclxuICAgICAgICAgICAgICAgIF90aGlzLnNldHRpbmdzTWFuYWdlci5mb250Q29sb3IudmFsdWUgPSAnd2hpdGUnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gVXBkYXRlIHNlbGVjdGVkIGl0ZW0gd2hlbiB2YWx1ZSBpcyBzZXQgZnJvbSBzb21ld2hlcmUgZWxzZVxyXG4gICAgICAgIHRoaXMuc2V0dGluZ3NNYW5hZ2VyLmZvbnRPcGFjaXR5Lm9uQ2hhbmdlZC5zdWJzY3JpYmUoZnVuY3Rpb24gKHNlbmRlciwgcHJvcGVydHkpIHtcclxuICAgICAgICAgICAgX3RoaXMuc2VsZWN0SXRlbShwcm9wZXJ0eS52YWx1ZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gTG9hZCBpbml0aWFsIHZhbHVlXHJcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3NNYW5hZ2VyLmZvbnRPcGFjaXR5LmlzU2V0KCkpIHtcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RJdGVtKHRoaXMuc2V0dGluZ3NNYW5hZ2VyLmZvbnRPcGFjaXR5LnZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEZvbnRPcGFjaXR5U2VsZWN0Qm94O1xyXG59KHN1YnRpdGxlc2V0dGluZ3NlbGVjdGJveF8xLlN1YnRpdGxlU2V0dGluZ1NlbGVjdEJveCkpO1xyXG5leHBvcnRzLkZvbnRPcGFjaXR5U2VsZWN0Qm94ID0gRm9udE9wYWNpdHlTZWxlY3RCb3g7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9zdWJ0aXRsZXNldHRpbmdzL2ZvbnRvcGFjaXR5c2VsZWN0Ym94LnRzXG4vLyBtb2R1bGUgaWQgPSAzNlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIHN1YnRpdGxlc2V0dGluZ3NlbGVjdGJveF8xID0gcmVxdWlyZShcIi4vc3VidGl0bGVzZXR0aW5nc2VsZWN0Ym94XCIpO1xyXG4vKipcclxuICogQSBzZWxlY3QgYm94IHByb3ZpZGluZyBhIHNlbGVjdGlvbiBvZiBkaWZmZXJlbnQgZm9udCBmYW1pbHkuXHJcbiAqL1xyXG52YXIgRm9udEZhbWlseVNlbGVjdEJveCA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoRm9udEZhbWlseVNlbGVjdEJveCwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIEZvbnRGYW1pbHlTZWxlY3RCb3goKSB7XHJcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xyXG4gICAgfVxyXG4gICAgRm9udEZhbWlseVNlbGVjdEJveC5wcm90b3R5cGUuY29uZmlndXJlID0gZnVuY3Rpb24gKHBsYXllciwgdWltYW5hZ2VyKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmNvbmZpZ3VyZS5jYWxsKHRoaXMsIHBsYXllciwgdWltYW5hZ2VyKTtcclxuICAgICAgICB0aGlzLmFkZEl0ZW0obnVsbCwgJ2RlZmF1bHQnKTtcclxuICAgICAgICB0aGlzLmFkZEl0ZW0oJ21vbm9zcGFjZWRzZXJpZicsICdtb25vc3BhY2VkIHNlcmlmJyk7XHJcbiAgICAgICAgdGhpcy5hZGRJdGVtKCdwcm9wb3J0aW9uYWxzZXJpZicsICdwcm9wb3J0aW9uYWwgc2VyaWYnKTtcclxuICAgICAgICB0aGlzLmFkZEl0ZW0oJ21vbm9zcGFjZWRzYW5zc2VyaWYnLCAnbW9ub3NwYWNlZCBzYW5zIHNlcmlmJyk7XHJcbiAgICAgICAgdGhpcy5hZGRJdGVtKCdwcm9wb3J0aW9uYWxzYW5zc2VyaWYnLCAncHJvcG9ydGlvbmFsIHNhbnMgc2VyaWYnKTtcclxuICAgICAgICB0aGlzLmFkZEl0ZW0oJ2Nhc3VhbCcsICdjYXN1YWwnKTtcclxuICAgICAgICB0aGlzLmFkZEl0ZW0oJ2N1cnNpdmUnLCAnY3Vyc2l2ZScpO1xyXG4gICAgICAgIHRoaXMuYWRkSXRlbSgnc21hbGxjYXBpdGFsJywgJ3NtYWxsIGNhcGl0YWwnKTtcclxuICAgICAgICB0aGlzLnNldHRpbmdzTWFuYWdlci5mb250RmFtaWx5Lm9uQ2hhbmdlZC5zdWJzY3JpYmUoZnVuY3Rpb24gKHNlbmRlciwgcHJvcGVydHkpIHtcclxuICAgICAgICAgICAgaWYgKHByb3BlcnR5LmlzU2V0KCkpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLnRvZ2dsZU92ZXJsYXlDbGFzcygnZm9udGZhbWlseS0nICsgcHJvcGVydHkudmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMudG9nZ2xlT3ZlcmxheUNsYXNzKG51bGwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIFNlbGVjdCB0aGUgaXRlbSBpbiBjYXNlIHRoZSBwcm9wZXJ0eSB3YXMgc2V0IGZyb20gb3V0c2lkZVxyXG4gICAgICAgICAgICBfdGhpcy5zZWxlY3RJdGVtKHByb3BlcnR5LnZhbHVlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLm9uSXRlbVNlbGVjdGVkLnN1YnNjcmliZShmdW5jdGlvbiAoc2VuZGVyLCBrZXkpIHtcclxuICAgICAgICAgICAgX3RoaXMuc2V0dGluZ3NNYW5hZ2VyLmZvbnRGYW1pbHkudmFsdWUgPSBrZXk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gTG9hZCBpbml0aWFsIHZhbHVlXHJcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3NNYW5hZ2VyLmZvbnRGYW1pbHkuaXNTZXQoKSkge1xyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdEl0ZW0odGhpcy5zZXR0aW5nc01hbmFnZXIuZm9udEZhbWlseS52YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHJldHVybiBGb250RmFtaWx5U2VsZWN0Qm94O1xyXG59KHN1YnRpdGxlc2V0dGluZ3NlbGVjdGJveF8xLlN1YnRpdGxlU2V0dGluZ1NlbGVjdEJveCkpO1xyXG5leHBvcnRzLkZvbnRGYW1pbHlTZWxlY3RCb3ggPSBGb250RmFtaWx5U2VsZWN0Qm94O1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvc3VidGl0bGVzZXR0aW5ncy9mb250ZmFtaWx5c2VsZWN0Ym94LnRzXG4vLyBtb2R1bGUgaWQgPSAzN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIHN1YnRpdGxlc2V0dGluZ3NlbGVjdGJveF8xID0gcmVxdWlyZShcIi4vc3VidGl0bGVzZXR0aW5nc2VsZWN0Ym94XCIpO1xyXG4vKipcclxuICogQSBzZWxlY3QgYm94IHByb3ZpZGluZyBhIHNlbGVjdGlvbiBvZiBkaWZmZXJlbnQgZm9udCBjb2xvcnMuXHJcbiAqL1xyXG52YXIgRm9udFNpemVTZWxlY3RCb3ggPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKEZvbnRTaXplU2VsZWN0Qm94LCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gRm9udFNpemVTZWxlY3RCb3goKSB7XHJcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xyXG4gICAgfVxyXG4gICAgRm9udFNpemVTZWxlY3RCb3gucHJvdG90eXBlLmNvbmZpZ3VyZSA9IGZ1bmN0aW9uIChwbGF5ZXIsIHVpbWFuYWdlcikge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5jb25maWd1cmUuY2FsbCh0aGlzLCBwbGF5ZXIsIHVpbWFuYWdlcik7XHJcbiAgICAgICAgdGhpcy5hZGRJdGVtKG51bGwsICdkZWZhdWx0Jyk7XHJcbiAgICAgICAgdGhpcy5hZGRJdGVtKCc1MCcsICc1MCUnKTtcclxuICAgICAgICB0aGlzLmFkZEl0ZW0oJzc1JywgJzc1JScpO1xyXG4gICAgICAgIHRoaXMuYWRkSXRlbSgnMTAwJywgJzEwMCUnKTtcclxuICAgICAgICB0aGlzLmFkZEl0ZW0oJzE1MCcsICcxNTAlJyk7XHJcbiAgICAgICAgdGhpcy5hZGRJdGVtKCcyMDAnLCAnMjAwJScpO1xyXG4gICAgICAgIHRoaXMuYWRkSXRlbSgnMzAwJywgJzMwMCUnKTtcclxuICAgICAgICB0aGlzLmFkZEl0ZW0oJzQwMCcsICc0MDAlJyk7XHJcbiAgICAgICAgdGhpcy5zZXR0aW5nc01hbmFnZXIuZm9udFNpemUub25DaGFuZ2VkLnN1YnNjcmliZShmdW5jdGlvbiAoc2VuZGVyLCBwcm9wZXJ0eSkge1xyXG4gICAgICAgICAgICBpZiAocHJvcGVydHkuaXNTZXQoKSkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMudG9nZ2xlT3ZlcmxheUNsYXNzKCdmb250c2l6ZS0nICsgcHJvcGVydHkudmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMudG9nZ2xlT3ZlcmxheUNsYXNzKG51bGwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIFNlbGVjdCB0aGUgaXRlbSBpbiBjYXNlIHRoZSBwcm9wZXJ0eSB3YXMgc2V0IGZyb20gb3V0c2lkZVxyXG4gICAgICAgICAgICBfdGhpcy5zZWxlY3RJdGVtKHByb3BlcnR5LnZhbHVlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLm9uSXRlbVNlbGVjdGVkLnN1YnNjcmliZShmdW5jdGlvbiAoc2VuZGVyLCBrZXkpIHtcclxuICAgICAgICAgICAgX3RoaXMuc2V0dGluZ3NNYW5hZ2VyLmZvbnRTaXplLnZhbHVlID0ga2V5O1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIExvYWQgaW5pdGlhbCB2YWx1ZVxyXG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzTWFuYWdlci5mb250U2l6ZS5pc1NldCgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0SXRlbSh0aGlzLnNldHRpbmdzTWFuYWdlci5mb250U2l6ZS52YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHJldHVybiBGb250U2l6ZVNlbGVjdEJveDtcclxufShzdWJ0aXRsZXNldHRpbmdzZWxlY3Rib3hfMS5TdWJ0aXRsZVNldHRpbmdTZWxlY3RCb3gpKTtcclxuZXhwb3J0cy5Gb250U2l6ZVNlbGVjdEJveCA9IEZvbnRTaXplU2VsZWN0Qm94O1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvc3VidGl0bGVzZXR0aW5ncy9mb250c2l6ZXNlbGVjdGJveC50c1xuLy8gbW9kdWxlIGlkID0gMzhcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBzdWJ0aXRsZXNldHRpbmdzZWxlY3Rib3hfMSA9IHJlcXVpcmUoXCIuL3N1YnRpdGxlc2V0dGluZ3NlbGVjdGJveFwiKTtcclxuLyoqXHJcbiAqIEEgc2VsZWN0IGJveCBwcm92aWRpbmcgYSBzZWxlY3Rpb24gb2YgZGlmZmVyZW50IGJhY2tncm91bmQgY29sb3JzLlxyXG4gKi9cclxudmFyIEJhY2tncm91bmRDb2xvclNlbGVjdEJveCA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoQmFja2dyb3VuZENvbG9yU2VsZWN0Qm94LCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gQmFja2dyb3VuZENvbG9yU2VsZWN0Qm94KCkge1xyXG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcclxuICAgIH1cclxuICAgIEJhY2tncm91bmRDb2xvclNlbGVjdEJveC5wcm90b3R5cGUuY29uZmlndXJlID0gZnVuY3Rpb24gKHBsYXllciwgdWltYW5hZ2VyKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmNvbmZpZ3VyZS5jYWxsKHRoaXMsIHBsYXllciwgdWltYW5hZ2VyKTtcclxuICAgICAgICB0aGlzLmFkZEl0ZW0obnVsbCwgJ2RlZmF1bHQnKTtcclxuICAgICAgICB0aGlzLmFkZEl0ZW0oJ3doaXRlJywgJ3doaXRlJyk7XHJcbiAgICAgICAgdGhpcy5hZGRJdGVtKCdibGFjaycsICdibGFjaycpO1xyXG4gICAgICAgIHRoaXMuYWRkSXRlbSgncmVkJywgJ3JlZCcpO1xyXG4gICAgICAgIHRoaXMuYWRkSXRlbSgnZ3JlZW4nLCAnZ3JlZW4nKTtcclxuICAgICAgICB0aGlzLmFkZEl0ZW0oJ2JsdWUnLCAnYmx1ZScpO1xyXG4gICAgICAgIHRoaXMuYWRkSXRlbSgnY3lhbicsICdjeWFuJyk7XHJcbiAgICAgICAgdGhpcy5hZGRJdGVtKCd5ZWxsb3cnLCAneWVsbG93Jyk7XHJcbiAgICAgICAgdGhpcy5hZGRJdGVtKCdtYWdlbnRhJywgJ21hZ2VudGEnKTtcclxuICAgICAgICB2YXIgc2V0Q29sb3JBbmRPcGFjaXR5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoX3RoaXMuc2V0dGluZ3NNYW5hZ2VyLmJhY2tncm91bmRDb2xvci5pc1NldCgpICYmIF90aGlzLnNldHRpbmdzTWFuYWdlci5iYWNrZ3JvdW5kT3BhY2l0eS5pc1NldCgpKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy50b2dnbGVPdmVybGF5Q2xhc3MoJ2JnY29sb3ItJyArIF90aGlzLnNldHRpbmdzTWFuYWdlci5iYWNrZ3JvdW5kQ29sb3IudmFsdWUgKyBfdGhpcy5zZXR0aW5nc01hbmFnZXIuYmFja2dyb3VuZE9wYWNpdHkudmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMudG9nZ2xlT3ZlcmxheUNsYXNzKG51bGwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLm9uSXRlbVNlbGVjdGVkLnN1YnNjcmliZShmdW5jdGlvbiAoc2VuZGVyLCBrZXkpIHtcclxuICAgICAgICAgICAgX3RoaXMuc2V0dGluZ3NNYW5hZ2VyLmJhY2tncm91bmRDb2xvci52YWx1ZSA9IGtleTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnNldHRpbmdzTWFuYWdlci5iYWNrZ3JvdW5kQ29sb3Iub25DaGFuZ2VkLnN1YnNjcmliZShmdW5jdGlvbiAoc2VuZGVyLCBwcm9wZXJ0eSkge1xyXG4gICAgICAgICAgICAvLyBDb2xvciBhbmQgb3BhY2l0eSBnbyB0b2dldGhlciwgc28gd2UgbmVlZCB0by4uLlxyXG4gICAgICAgICAgICBpZiAoIV90aGlzLnNldHRpbmdzTWFuYWdlci5iYWNrZ3JvdW5kQ29sb3IuaXNTZXQoKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gLi4uIGNsZWFyIHRoZSBvcGFjaXR5IHdoZW4gdGhlIGNvbG9yIGlzIG5vdCBzZXRcclxuICAgICAgICAgICAgICAgIF90aGlzLnNldHRpbmdzTWFuYWdlci5iYWNrZ3JvdW5kT3BhY2l0eS5jbGVhcigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKCFfdGhpcy5zZXR0aW5nc01hbmFnZXIuYmFja2dyb3VuZE9wYWNpdHkuaXNTZXQoKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gLi4uIHNldCBhbiBvcGFjaXR5IHdoZW4gdGhlIGNvbG9yIGlzIHNldFxyXG4gICAgICAgICAgICAgICAgX3RoaXMuc2V0dGluZ3NNYW5hZ2VyLmJhY2tncm91bmRPcGFjaXR5LnZhbHVlID0gJzEwMCc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgX3RoaXMuc2VsZWN0SXRlbShwcm9wZXJ0eS52YWx1ZSk7XHJcbiAgICAgICAgICAgIHNldENvbG9yQW5kT3BhY2l0eSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuc2V0dGluZ3NNYW5hZ2VyLmJhY2tncm91bmRPcGFjaXR5Lm9uQ2hhbmdlZC5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBzZXRDb2xvckFuZE9wYWNpdHkoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBMb2FkIGluaXRpYWwgdmFsdWVcclxuICAgICAgICBpZiAodGhpcy5zZXR0aW5nc01hbmFnZXIuYmFja2dyb3VuZENvbG9yLmlzU2V0KCkpIHtcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RJdGVtKHRoaXMuc2V0dGluZ3NNYW5hZ2VyLmJhY2tncm91bmRDb2xvci52YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHJldHVybiBCYWNrZ3JvdW5kQ29sb3JTZWxlY3RCb3g7XHJcbn0oc3VidGl0bGVzZXR0aW5nc2VsZWN0Ym94XzEuU3VidGl0bGVTZXR0aW5nU2VsZWN0Qm94KSk7XHJcbmV4cG9ydHMuQmFja2dyb3VuZENvbG9yU2VsZWN0Qm94ID0gQmFja2dyb3VuZENvbG9yU2VsZWN0Qm94O1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvc3VidGl0bGVzZXR0aW5ncy9iYWNrZ3JvdW5kY29sb3JzZWxlY3Rib3gudHNcbi8vIG1vZHVsZSBpZCA9IDM5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgc3VidGl0bGVzZXR0aW5nc2VsZWN0Ym94XzEgPSByZXF1aXJlKFwiLi9zdWJ0aXRsZXNldHRpbmdzZWxlY3Rib3hcIik7XHJcbi8qKlxyXG4gKiBBIHNlbGVjdCBib3ggcHJvdmlkaW5nIGEgc2VsZWN0aW9uIG9mIGRpZmZlcmVudCBiYWNrZ3JvdW5kIG9wYWNpdHkuXHJcbiAqL1xyXG52YXIgQmFja2dyb3VuZE9wYWNpdHlTZWxlY3RCb3ggPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKEJhY2tncm91bmRPcGFjaXR5U2VsZWN0Qm94LCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gQmFja2dyb3VuZE9wYWNpdHlTZWxlY3RCb3goKSB7XHJcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xyXG4gICAgfVxyXG4gICAgQmFja2dyb3VuZE9wYWNpdHlTZWxlY3RCb3gucHJvdG90eXBlLmNvbmZpZ3VyZSA9IGZ1bmN0aW9uIChwbGF5ZXIsIHVpbWFuYWdlcikge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5jb25maWd1cmUuY2FsbCh0aGlzLCBwbGF5ZXIsIHVpbWFuYWdlcik7XHJcbiAgICAgICAgdGhpcy5hZGRJdGVtKG51bGwsICdkZWZhdWx0Jyk7XHJcbiAgICAgICAgdGhpcy5hZGRJdGVtKCcxMDAnLCAnMTAwJScpO1xyXG4gICAgICAgIHRoaXMuYWRkSXRlbSgnNzUnLCAnNzUlJyk7XHJcbiAgICAgICAgdGhpcy5hZGRJdGVtKCc1MCcsICc1MCUnKTtcclxuICAgICAgICB0aGlzLmFkZEl0ZW0oJzI1JywgJzI1JScpO1xyXG4gICAgICAgIHRoaXMuYWRkSXRlbSgnMCcsICcwJScpO1xyXG4gICAgICAgIHRoaXMub25JdGVtU2VsZWN0ZWQuc3Vic2NyaWJlKGZ1bmN0aW9uIChzZW5kZXIsIGtleSkge1xyXG4gICAgICAgICAgICBfdGhpcy5zZXR0aW5nc01hbmFnZXIuYmFja2dyb3VuZE9wYWNpdHkudmFsdWUgPSBrZXk7XHJcbiAgICAgICAgICAgIC8vIENvbG9yIGFuZCBvcGFjaXR5IGdvIHRvZ2V0aGVyLCBzbyB3ZSBuZWVkIHRvLi4uXHJcbiAgICAgICAgICAgIGlmICghX3RoaXMuc2V0dGluZ3NNYW5hZ2VyLmJhY2tncm91bmRPcGFjaXR5LmlzU2V0KCkpIHtcclxuICAgICAgICAgICAgICAgIC8vIC4uLiBjbGVhciB0aGUgY29sb3Igd2hlbiB0aGUgb3BhY2l0eSBpcyBub3Qgc2V0XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5zZXR0aW5nc01hbmFnZXIuYmFja2dyb3VuZENvbG9yLmNsZWFyKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoIV90aGlzLnNldHRpbmdzTWFuYWdlci5iYWNrZ3JvdW5kQ29sb3IuaXNTZXQoKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gLi4uIHNldCBhIGNvbG9yIHdoZW4gdGhlIG9wYWNpdHkgaXMgc2V0XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5zZXR0aW5nc01hbmFnZXIuYmFja2dyb3VuZENvbG9yLnZhbHVlID0gJ2JsYWNrJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIFVwZGF0ZSBzZWxlY3RlZCBpdGVtIHdoZW4gdmFsdWUgaXMgc2V0IGZyb20gc29tZXdoZXJlIGVsc2VcclxuICAgICAgICB0aGlzLnNldHRpbmdzTWFuYWdlci5iYWNrZ3JvdW5kT3BhY2l0eS5vbkNoYW5nZWQuc3Vic2NyaWJlKGZ1bmN0aW9uIChzZW5kZXIsIHByb3BlcnR5KSB7XHJcbiAgICAgICAgICAgIF90aGlzLnNlbGVjdEl0ZW0ocHJvcGVydHkudmFsdWUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIExvYWQgaW5pdGlhbCB2YWx1ZVxyXG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzTWFuYWdlci5iYWNrZ3JvdW5kT3BhY2l0eS5pc1NldCgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0SXRlbSh0aGlzLnNldHRpbmdzTWFuYWdlci5iYWNrZ3JvdW5kT3BhY2l0eS52YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHJldHVybiBCYWNrZ3JvdW5kT3BhY2l0eVNlbGVjdEJveDtcclxufShzdWJ0aXRsZXNldHRpbmdzZWxlY3Rib3hfMS5TdWJ0aXRsZVNldHRpbmdTZWxlY3RCb3gpKTtcclxuZXhwb3J0cy5CYWNrZ3JvdW5kT3BhY2l0eVNlbGVjdEJveCA9IEJhY2tncm91bmRPcGFjaXR5U2VsZWN0Qm94O1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvc3VidGl0bGVzZXR0aW5ncy9iYWNrZ3JvdW5kb3BhY2l0eXNlbGVjdGJveC50c1xuLy8gbW9kdWxlIGlkID0gNDBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBzdWJ0aXRsZXNldHRpbmdzZWxlY3Rib3hfMSA9IHJlcXVpcmUoXCIuL3N1YnRpdGxlc2V0dGluZ3NlbGVjdGJveFwiKTtcclxuLyoqXHJcbiAqIEEgc2VsZWN0IGJveCBwcm92aWRpbmcgYSBzZWxlY3Rpb24gb2YgZGlmZmVyZW50IGJhY2tncm91bmQgY29sb3JzLlxyXG4gKi9cclxudmFyIFdpbmRvd0NvbG9yU2VsZWN0Qm94ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhXaW5kb3dDb2xvclNlbGVjdEJveCwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIFdpbmRvd0NvbG9yU2VsZWN0Qm94KCkge1xyXG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcclxuICAgIH1cclxuICAgIFdpbmRvd0NvbG9yU2VsZWN0Qm94LnByb3RvdHlwZS5jb25maWd1cmUgPSBmdW5jdGlvbiAocGxheWVyLCB1aW1hbmFnZXIpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuY29uZmlndXJlLmNhbGwodGhpcywgcGxheWVyLCB1aW1hbmFnZXIpO1xyXG4gICAgICAgIHRoaXMuYWRkSXRlbShudWxsLCAnZGVmYXVsdCcpO1xyXG4gICAgICAgIHRoaXMuYWRkSXRlbSgnd2hpdGUnLCAnd2hpdGUnKTtcclxuICAgICAgICB0aGlzLmFkZEl0ZW0oJ2JsYWNrJywgJ2JsYWNrJyk7XHJcbiAgICAgICAgdGhpcy5hZGRJdGVtKCdyZWQnLCAncmVkJyk7XHJcbiAgICAgICAgdGhpcy5hZGRJdGVtKCdncmVlbicsICdncmVlbicpO1xyXG4gICAgICAgIHRoaXMuYWRkSXRlbSgnYmx1ZScsICdibHVlJyk7XHJcbiAgICAgICAgdGhpcy5hZGRJdGVtKCdjeWFuJywgJ2N5YW4nKTtcclxuICAgICAgICB0aGlzLmFkZEl0ZW0oJ3llbGxvdycsICd5ZWxsb3cnKTtcclxuICAgICAgICB0aGlzLmFkZEl0ZW0oJ21hZ2VudGEnLCAnbWFnZW50YScpO1xyXG4gICAgICAgIHZhciBzZXRDb2xvckFuZE9wYWNpdHkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChfdGhpcy5zZXR0aW5nc01hbmFnZXIud2luZG93Q29sb3IuaXNTZXQoKSAmJiBfdGhpcy5zZXR0aW5nc01hbmFnZXIud2luZG93T3BhY2l0eS5pc1NldCgpKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy50b2dnbGVPdmVybGF5Q2xhc3MoJ3dpbmRvd2NvbG9yLScgKyBfdGhpcy5zZXR0aW5nc01hbmFnZXIud2luZG93Q29sb3IudmFsdWUgKyBfdGhpcy5zZXR0aW5nc01hbmFnZXIud2luZG93T3BhY2l0eS52YWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy50b2dnbGVPdmVybGF5Q2xhc3MobnVsbCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMub25JdGVtU2VsZWN0ZWQuc3Vic2NyaWJlKGZ1bmN0aW9uIChzZW5kZXIsIGtleSkge1xyXG4gICAgICAgICAgICBfdGhpcy5zZXR0aW5nc01hbmFnZXIud2luZG93Q29sb3IudmFsdWUgPSBrZXk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5zZXR0aW5nc01hbmFnZXIud2luZG93Q29sb3Iub25DaGFuZ2VkLnN1YnNjcmliZShmdW5jdGlvbiAoc2VuZGVyLCBwcm9wZXJ0eSkge1xyXG4gICAgICAgICAgICAvLyBDb2xvciBhbmQgb3BhY2l0eSBnbyB0b2dldGhlciwgc28gd2UgbmVlZCB0by4uLlxyXG4gICAgICAgICAgICBpZiAoIV90aGlzLnNldHRpbmdzTWFuYWdlci53aW5kb3dDb2xvci5pc1NldCgpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyAuLi4gY2xlYXIgdGhlIG9wYWNpdHkgd2hlbiB0aGUgY29sb3IgaXMgbm90IHNldFxyXG4gICAgICAgICAgICAgICAgX3RoaXMuc2V0dGluZ3NNYW5hZ2VyLndpbmRvd09wYWNpdHkuY2xlYXIoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICghX3RoaXMuc2V0dGluZ3NNYW5hZ2VyLndpbmRvd09wYWNpdHkuaXNTZXQoKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gLi4uIHNldCBhbiBvcGFjaXR5IHdoZW4gdGhlIGNvbG9yIGlzIHNldFxyXG4gICAgICAgICAgICAgICAgX3RoaXMuc2V0dGluZ3NNYW5hZ2VyLndpbmRvd09wYWNpdHkudmFsdWUgPSAnMTAwJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBfdGhpcy5zZWxlY3RJdGVtKHByb3BlcnR5LnZhbHVlKTtcclxuICAgICAgICAgICAgc2V0Q29sb3JBbmRPcGFjaXR5KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5zZXR0aW5nc01hbmFnZXIud2luZG93T3BhY2l0eS5vbkNoYW5nZWQuc3Vic2NyaWJlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgc2V0Q29sb3JBbmRPcGFjaXR5KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gTG9hZCBpbml0aWFsIHZhbHVlXHJcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3NNYW5hZ2VyLndpbmRvd0NvbG9yLmlzU2V0KCkpIHtcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RJdGVtKHRoaXMuc2V0dGluZ3NNYW5hZ2VyLndpbmRvd0NvbG9yLnZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFdpbmRvd0NvbG9yU2VsZWN0Qm94O1xyXG59KHN1YnRpdGxlc2V0dGluZ3NlbGVjdGJveF8xLlN1YnRpdGxlU2V0dGluZ1NlbGVjdEJveCkpO1xyXG5leHBvcnRzLldpbmRvd0NvbG9yU2VsZWN0Qm94ID0gV2luZG93Q29sb3JTZWxlY3RCb3g7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9zdWJ0aXRsZXNldHRpbmdzL3dpbmRvd2NvbG9yc2VsZWN0Ym94LnRzXG4vLyBtb2R1bGUgaWQgPSA0MVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIHN1YnRpdGxlc2V0dGluZ3NlbGVjdGJveF8xID0gcmVxdWlyZShcIi4vc3VidGl0bGVzZXR0aW5nc2VsZWN0Ym94XCIpO1xyXG4vKipcclxuICogQSBzZWxlY3QgYm94IHByb3ZpZGluZyBhIHNlbGVjdGlvbiBvZiBkaWZmZXJlbnQgYmFja2dyb3VuZCBvcGFjaXR5LlxyXG4gKi9cclxudmFyIFdpbmRvd09wYWNpdHlTZWxlY3RCb3ggPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKFdpbmRvd09wYWNpdHlTZWxlY3RCb3gsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBXaW5kb3dPcGFjaXR5U2VsZWN0Qm94KCkge1xyXG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcclxuICAgIH1cclxuICAgIFdpbmRvd09wYWNpdHlTZWxlY3RCb3gucHJvdG90eXBlLmNvbmZpZ3VyZSA9IGZ1bmN0aW9uIChwbGF5ZXIsIHVpbWFuYWdlcikge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5jb25maWd1cmUuY2FsbCh0aGlzLCBwbGF5ZXIsIHVpbWFuYWdlcik7XHJcbiAgICAgICAgdGhpcy5hZGRJdGVtKG51bGwsICdkZWZhdWx0Jyk7XHJcbiAgICAgICAgdGhpcy5hZGRJdGVtKCcxMDAnLCAnMTAwJScpO1xyXG4gICAgICAgIHRoaXMuYWRkSXRlbSgnNzUnLCAnNzUlJyk7XHJcbiAgICAgICAgdGhpcy5hZGRJdGVtKCc1MCcsICc1MCUnKTtcclxuICAgICAgICB0aGlzLmFkZEl0ZW0oJzI1JywgJzI1JScpO1xyXG4gICAgICAgIHRoaXMuYWRkSXRlbSgnMCcsICcwJScpO1xyXG4gICAgICAgIHRoaXMub25JdGVtU2VsZWN0ZWQuc3Vic2NyaWJlKGZ1bmN0aW9uIChzZW5kZXIsIGtleSkge1xyXG4gICAgICAgICAgICBfdGhpcy5zZXR0aW5nc01hbmFnZXIud2luZG93T3BhY2l0eS52YWx1ZSA9IGtleTtcclxuICAgICAgICAgICAgLy8gQ29sb3IgYW5kIG9wYWNpdHkgZ28gdG9nZXRoZXIsIHNvIHdlIG5lZWQgdG8uLi5cclxuICAgICAgICAgICAgaWYgKCFfdGhpcy5zZXR0aW5nc01hbmFnZXIud2luZG93T3BhY2l0eS5pc1NldCgpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyAuLi4gY2xlYXIgdGhlIGNvbG9yIHdoZW4gdGhlIG9wYWNpdHkgaXMgbm90IHNldFxyXG4gICAgICAgICAgICAgICAgX3RoaXMuc2V0dGluZ3NNYW5hZ2VyLndpbmRvd0NvbG9yLmNsZWFyKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoIV90aGlzLnNldHRpbmdzTWFuYWdlci53aW5kb3dDb2xvci5pc1NldCgpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyAuLi4gc2V0IGEgY29sb3Igd2hlbiB0aGUgb3BhY2l0eSBpcyBzZXRcclxuICAgICAgICAgICAgICAgIF90aGlzLnNldHRpbmdzTWFuYWdlci53aW5kb3dDb2xvci52YWx1ZSA9ICdibGFjayc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBVcGRhdGUgc2VsZWN0ZWQgaXRlbSB3aGVuIHZhbHVlIGlzIHNldCBmcm9tIHNvbWV3aGVyZSBlbHNlXHJcbiAgICAgICAgdGhpcy5zZXR0aW5nc01hbmFnZXIud2luZG93T3BhY2l0eS5vbkNoYW5nZWQuc3Vic2NyaWJlKGZ1bmN0aW9uIChzZW5kZXIsIHByb3BlcnR5KSB7XHJcbiAgICAgICAgICAgIF90aGlzLnNlbGVjdEl0ZW0ocHJvcGVydHkudmFsdWUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIExvYWQgaW5pdGlhbCB2YWx1ZVxyXG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzTWFuYWdlci53aW5kb3dPcGFjaXR5LmlzU2V0KCkpIHtcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RJdGVtKHRoaXMuc2V0dGluZ3NNYW5hZ2VyLndpbmRvd09wYWNpdHkudmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICByZXR1cm4gV2luZG93T3BhY2l0eVNlbGVjdEJveDtcclxufShzdWJ0aXRsZXNldHRpbmdzZWxlY3Rib3hfMS5TdWJ0aXRsZVNldHRpbmdTZWxlY3RCb3gpKTtcclxuZXhwb3J0cy5XaW5kb3dPcGFjaXR5U2VsZWN0Qm94ID0gV2luZG93T3BhY2l0eVNlbGVjdEJveDtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3N1YnRpdGxlc2V0dGluZ3Mvd2luZG93b3BhY2l0eXNlbGVjdGJveC50c1xuLy8gbW9kdWxlIGlkID0gNDJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBzdWJ0aXRsZXNldHRpbmdzZWxlY3Rib3hfMSA9IHJlcXVpcmUoXCIuL3N1YnRpdGxlc2V0dGluZ3NlbGVjdGJveFwiKTtcclxuLyoqXHJcbiAqIEEgc2VsZWN0IGJveCBwcm92aWRpbmcgYSBzZWxlY3Rpb24gb2YgZGlmZmVyZW50IGNoYXJhY3RlciBlZGdlLlxyXG4gKi9cclxudmFyIENoYXJhY3RlckVkZ2VTZWxlY3RCb3ggPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKENoYXJhY3RlckVkZ2VTZWxlY3RCb3gsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBDaGFyYWN0ZXJFZGdlU2VsZWN0Qm94KCkge1xyXG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcclxuICAgIH1cclxuICAgIENoYXJhY3RlckVkZ2VTZWxlY3RCb3gucHJvdG90eXBlLmNvbmZpZ3VyZSA9IGZ1bmN0aW9uIChwbGF5ZXIsIHVpbWFuYWdlcikge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5jb25maWd1cmUuY2FsbCh0aGlzLCBwbGF5ZXIsIHVpbWFuYWdlcik7XHJcbiAgICAgICAgdGhpcy5hZGRJdGVtKG51bGwsICdkZWZhdWx0Jyk7XHJcbiAgICAgICAgdGhpcy5hZGRJdGVtKCdyYWlzZWQnLCAncmFpc2VkJyk7XHJcbiAgICAgICAgdGhpcy5hZGRJdGVtKCdkZXByZXNzZWQnLCAnZGVwcmVzc2VkJyk7XHJcbiAgICAgICAgdGhpcy5hZGRJdGVtKCd1bmlmb3JtJywgJ3VuaWZvcm0nKTtcclxuICAgICAgICB0aGlzLmFkZEl0ZW0oJ2Ryb3BzaGFkb3dlZCcsICdkcm9wIHNoYWRvd2VkJyk7XHJcbiAgICAgICAgdGhpcy5zZXR0aW5nc01hbmFnZXIuY2hhcmFjdGVyRWRnZS5vbkNoYW5nZWQuc3Vic2NyaWJlKGZ1bmN0aW9uIChzZW5kZXIsIHByb3BlcnR5KSB7XHJcbiAgICAgICAgICAgIGlmIChwcm9wZXJ0eS5pc1NldCgpKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy50b2dnbGVPdmVybGF5Q2xhc3MoJ2NoYXJhY3RlcmVkZ2UtJyArIHByb3BlcnR5LnZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLnRvZ2dsZU92ZXJsYXlDbGFzcyhudWxsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBTZWxlY3QgdGhlIGl0ZW0gaW4gY2FzZSB0aGUgcHJvcGVydHkgd2FzIHNldCBmcm9tIG91dHNpZGVcclxuICAgICAgICAgICAgX3RoaXMuc2VsZWN0SXRlbShwcm9wZXJ0eS52YWx1ZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5vbkl0ZW1TZWxlY3RlZC5zdWJzY3JpYmUoZnVuY3Rpb24gKHNlbmRlciwga2V5KSB7XHJcbiAgICAgICAgICAgIF90aGlzLnNldHRpbmdzTWFuYWdlci5jaGFyYWN0ZXJFZGdlLnZhbHVlID0ga2V5O1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIExvYWQgaW5pdGlhbCB2YWx1ZVxyXG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzTWFuYWdlci5jaGFyYWN0ZXJFZGdlLmlzU2V0KCkpIHtcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RJdGVtKHRoaXMuc2V0dGluZ3NNYW5hZ2VyLmNoYXJhY3RlckVkZ2UudmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICByZXR1cm4gQ2hhcmFjdGVyRWRnZVNlbGVjdEJveDtcclxufShzdWJ0aXRsZXNldHRpbmdzZWxlY3Rib3hfMS5TdWJ0aXRsZVNldHRpbmdTZWxlY3RCb3gpKTtcclxuZXhwb3J0cy5DaGFyYWN0ZXJFZGdlU2VsZWN0Qm94ID0gQ2hhcmFjdGVyRWRnZVNlbGVjdEJveDtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3N1YnRpdGxlc2V0dGluZ3MvY2hhcmFjdGVyZWRnZXNlbGVjdGJveC50c1xuLy8gbW9kdWxlIGlkID0gNDNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIFN0b3JhZ2VVdGlscztcclxuKGZ1bmN0aW9uIChTdG9yYWdlVXRpbHMpIHtcclxuICAgIHZhciBoYXNMb2NhbFN0b3JhZ2VDYWNoZTtcclxuICAgIGZ1bmN0aW9uIGhhc0xvY2FsU3RvcmFnZSgpIHtcclxuICAgICAgICBpZiAoaGFzTG9jYWxTdG9yYWdlQ2FjaGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGhhc0xvY2FsU3RvcmFnZUNhY2hlO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBoYXNMb2NhbFN0b3JhZ2UgaXMgdXNlZCB0byBzYWZlbHkgZW5zdXJlIHdlIGNhbiB1c2UgbG9jYWxTdG9yYWdlXHJcbiAgICAgICAgLy8gdGFrZW4gZnJvbSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvV2ViX1N0b3JhZ2VfQVBJL1VzaW5nX3RoZV9XZWJfU3RvcmFnZV9BUEkjRmVhdHVyZS1kZXRlY3RpbmdfbG9jYWxTdG9yYWdlXHJcbiAgICAgICAgdmFyIHN0b3JhZ2UgPSB3aW5kb3dbJ2xvY2FsU3RvcmFnZSddO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHZhciB4ID0gJ19fc3RvcmFnZV90ZXN0X18nO1xyXG4gICAgICAgICAgICBzdG9yYWdlLnNldEl0ZW0oeCwgeCk7XHJcbiAgICAgICAgICAgIHN0b3JhZ2UucmVtb3ZlSXRlbSh4KTtcclxuICAgICAgICAgICAgaGFzTG9jYWxTdG9yYWdlQ2FjaGUgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICBoYXNMb2NhbFN0b3JhZ2VDYWNoZSA9IGUgaW5zdGFuY2VvZiBET01FeGNlcHRpb24gJiYgKFxyXG4gICAgICAgICAgICAvLyBldmVyeXRoaW5nIGV4Y2VwdCBGaXJlZm94XHJcbiAgICAgICAgICAgIGUuY29kZSA9PT0gMjIgfHxcclxuICAgICAgICAgICAgICAgIC8vIEZpcmVmb3hcclxuICAgICAgICAgICAgICAgIGUuY29kZSA9PT0gMTAxNCB8fFxyXG4gICAgICAgICAgICAgICAgLy8gdGVzdCBuYW1lIGZpZWxkIHRvbywgYmVjYXVzZSBjb2RlIG1pZ2h0IG5vdCBiZSBwcmVzZW50XHJcbiAgICAgICAgICAgICAgICAvLyBldmVyeXRoaW5nIGV4Y2VwdCBGaXJlZm94XHJcbiAgICAgICAgICAgICAgICBlLm5hbWUgPT09ICdRdW90YUV4Y2VlZGVkRXJyb3InIHx8XHJcbiAgICAgICAgICAgICAgICAvLyBGaXJlZm94XHJcbiAgICAgICAgICAgICAgICBlLm5hbWUgPT09ICdOU19FUlJPUl9ET01fUVVPVEFfUkVBQ0hFRCcpICYmXHJcbiAgICAgICAgICAgICAgICAvLyBhY2tub3dsZWRnZSBRdW90YUV4Y2VlZGVkRXJyb3Igb25seSBpZiB0aGVyZSdzIHNvbWV0aGluZyBhbHJlYWR5IHN0b3JlZFxyXG4gICAgICAgICAgICAgICAgc3RvcmFnZS5sZW5ndGggIT09IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBoYXNMb2NhbFN0b3JhZ2VDYWNoZTtcclxuICAgIH1cclxuICAgIFN0b3JhZ2VVdGlscy5oYXNMb2NhbFN0b3JhZ2UgPSBoYXNMb2NhbFN0b3JhZ2U7XHJcbiAgICAvKipcclxuICAgICAqIFN0b3JlcyBhIHN0cmluZyBpdGVtIGludG8gbG9jYWxTdG9yYWdlLlxyXG4gICAgICogQHBhcmFtIGtleSB0aGUgaXRlbSdzIGtleVxyXG4gICAgICogQHBhcmFtIGRhdGEgdGhlIGl0ZW0ncyBkYXRhXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIHNldEl0ZW0oa2V5LCBkYXRhKSB7XHJcbiAgICAgICAgaWYgKFN0b3JhZ2VVdGlscy5oYXNMb2NhbFN0b3JhZ2UoKSkge1xyXG4gICAgICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oa2V5LCBkYXRhKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBTdG9yYWdlVXRpbHMuc2V0SXRlbSA9IHNldEl0ZW07XHJcbiAgICAvKipcclxuICAgICAqIEdldHMgYW4gaXRlbSdzIHN0cmluZyB2YWx1ZSBmcm9tIHRoZSBsb2NhbFN0b3JhZ2UuXHJcbiAgICAgKiBAcGFyYW0ga2V5IHRoZSBrZXkgdG8gbG9vayB1cCBpdHMgYXNzb2NpYXRlZCB2YWx1ZVxyXG4gICAgICogQHJldHVybiB7c3RyaW5nIHwgbnVsbH0gUmV0dXJucyB0aGUgc3RyaW5nIGlmIGZvdW5kLCBudWxsIGlmIHRoZXJlIGlzIG5vIGRhdGEgc3RvcmVkIGZvciB0aGUga2V5XHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIGdldEl0ZW0oa2V5KSB7XHJcbiAgICAgICAgaWYgKFN0b3JhZ2VVdGlscy5oYXNMb2NhbFN0b3JhZ2UoKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBTdG9yYWdlVXRpbHMuZ2V0SXRlbSA9IGdldEl0ZW07XHJcbiAgICAvKipcclxuICAgICAqIFN0b3JlcyBhbiBvYmplY3QgaW50byBsb2NhbFN0b3JhZ2UuIFRoZSBvYmplY3Qgd2lsbCBiZSBzZXJpYWxpemVkIHRvIEpTT04uIFRoZSBmb2xsb3dpbmcgdHlwZXMgYXJlIHN1cHBvcnRlZFxyXG4gICAgICogaW4gYWRkaXRpb24gdG8gdGhlIGRlZmF1bHQgdHlwZXM6XHJcbiAgICAgKiAgLSBDb2xvclV0aWxzLkNvbG9yXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGtleSB0aGUga2V5IHRvIHN0b3JlIHRoZSBkYXRhIHRvXHJcbiAgICAgKiBAcGFyYW0gZGF0YSB0aGUgb2JqZWN0IHRvIHN0b3JlXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIHNldE9iamVjdChrZXksIGRhdGEpIHtcclxuICAgICAgICBpZiAoU3RvcmFnZVV0aWxzLmhhc0xvY2FsU3RvcmFnZSgpKSB7XHJcbiAgICAgICAgICAgIHZhciBqc29uID0gSlNPTi5zdHJpbmdpZnkoZGF0YSk7XHJcbiAgICAgICAgICAgIHNldEl0ZW0oa2V5LCBqc29uKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBTdG9yYWdlVXRpbHMuc2V0T2JqZWN0ID0gc2V0T2JqZWN0O1xyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIGFuIG9iamVjdCBmb3IgdGhlIGdpdmVuIGtleSBmcm9tIGxvY2FsU3RvcmFnZS4gVGhlIG9iamVjdCB3aWxsIGJlIGRlc2VyaWFsaXplZCBmcm9tIEpTT04uIEJlc2lkZSB0aGVcclxuICAgICAqIGRlZmF1bHQgdHlwZXMsIHRoZSBmb2xsb3dpbmcgdHlwZXMgYXJlIHN1cHBvcnRlZDpcclxuICAgICAqICAtIENvbG9yVXRpbHMuQ29sb3JcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ga2V5IHRoZSBrZXkgdG8gbG9vayB1cCBpdHMgYXNzb2NpYXRlZCBvYmplY3RcclxuICAgICAqIEByZXR1cm4ge2FueX0gUmV0dXJucyB0aGUgb2JqZWN0IGlmIGZvdW5kLCBudWxsIG90aGVyd2lzZVxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBnZXRPYmplY3Qoa2V5KSB7XHJcbiAgICAgICAgaWYgKFN0b3JhZ2VVdGlscy5oYXNMb2NhbFN0b3JhZ2UoKSkge1xyXG4gICAgICAgICAgICB2YXIganNvbiA9IGdldEl0ZW0oa2V5KTtcclxuICAgICAgICAgICAgaWYgKGtleSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG9iamVjdCA9IEpTT04ucGFyc2UoanNvbik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gb2JqZWN0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gICAgU3RvcmFnZVV0aWxzLmdldE9iamVjdCA9IGdldE9iamVjdDtcclxufSkoU3RvcmFnZVV0aWxzID0gZXhwb3J0cy5TdG9yYWdlVXRpbHMgfHwgKGV4cG9ydHMuU3RvcmFnZVV0aWxzID0ge30pKTtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9zdG9yYWdldXRpbHMudHNcbi8vIG1vZHVsZSBpZCA9IDQ0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgc3VidGl0bGVzZXR0aW5nc2J1dHRvbl8xID0gcmVxdWlyZShcIi4vc3VidGl0bGVzZXR0aW5nc2J1dHRvblwiKTtcclxuLyoqXHJcbiAqIEEgYnV0dG9uIHRoYXQgdG9nZ2xlcyB0aGUgb3B0aW9uIG1lbnUgZm9yIHN1YnRpdGxlc1xyXG4gKi9cclxudmFyIFN1YnRpdGxlU2V0dGluZ3NDbG9zZUJ1dHRvbiA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoU3VidGl0bGVTZXR0aW5nc0Nsb3NlQnV0dG9uLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gU3VidGl0bGVTZXR0aW5nc0Nsb3NlQnV0dG9uKGNvbmZpZykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGNvbmZpZykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5jb25maWcgPSBfdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIHtcclxuICAgICAgICAgICAgY3NzQ2xhc3M6ICd1aS1zdWJ0aXRsZXNldHRpbmdzY2xvc2VidXR0b24nLFxyXG4gICAgICAgICAgICB0ZXh0OiAnQmFjaycsXHJcbiAgICAgICAgfSwgX3RoaXMuY29uZmlnKTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBTdWJ0aXRsZVNldHRpbmdzQ2xvc2VCdXR0b24ucHJvdG90eXBlLmNvbmZpZ3VyZSA9IGZ1bmN0aW9uIChwbGF5ZXIsIHVpbWFuYWdlcikge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5jb25maWd1cmUuY2FsbCh0aGlzLCBwbGF5ZXIsIHVpbWFuYWdlcik7XHJcbiAgICAgICAgdGhpcy5vbkNsaWNrLnN1YnNjcmliZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIF90aGlzLnN1YnRpdGxlU2V0dGluZ3NQYW5lbC5oaWRlKCk7XHJcbiAgICAgICAgICAgIF90aGlzLnNldHRpbmdzUGFuZWwuc2hvdygpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBTdWJ0aXRsZVNldHRpbmdzQ2xvc2VCdXR0b247XHJcbn0oc3VidGl0bGVzZXR0aW5nc2J1dHRvbl8xLlN1YnRpdGxlU2V0dGluZ3NCdXR0b24pKTtcclxuZXhwb3J0cy5TdWJ0aXRsZVNldHRpbmdzQ2xvc2VCdXR0b24gPSBTdWJ0aXRsZVNldHRpbmdzQ2xvc2VCdXR0b247XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9zdWJ0aXRsZXNldHRpbmdzL3N1YnRpdGxlc2V0dGluZ3NjbG9zZWJ1dHRvbi50c1xuLy8gbW9kdWxlIGlkID0gNDVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBidXR0b25fMSA9IHJlcXVpcmUoXCIuLi9idXR0b25cIik7XHJcbi8qKlxyXG4gKiBBIGJ1dHRvbiB0aGF0IHJlc2V0cyBhbGwgc3VidGl0bGUgc2V0dGluZ3MgdG8gdGhlaXIgZGVmYXVsdHMuXHJcbiAqL1xyXG52YXIgU3VidGl0bGVTZXR0aW5nc1Jlc2V0QnV0dG9uID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhTdWJ0aXRsZVNldHRpbmdzUmVzZXRCdXR0b24sIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBTdWJ0aXRsZVNldHRpbmdzUmVzZXRCdXR0b24oY29uZmlnKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgY29uZmlnKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLmNvbmZpZyA9IF90aGlzLm1lcmdlQ29uZmlnKGNvbmZpZywge1xyXG4gICAgICAgICAgICBjc3NDbGFzczogJ3VpLXN1YnRpdGxlc2V0dGluZ3NyZXNldGJ1dHRvbicsXHJcbiAgICAgICAgICAgIHRleHQ6ICdSZXNldCcsXHJcbiAgICAgICAgfSwgX3RoaXMuY29uZmlnKTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBTdWJ0aXRsZVNldHRpbmdzUmVzZXRCdXR0b24ucHJvdG90eXBlLmNvbmZpZ3VyZSA9IGZ1bmN0aW9uIChwbGF5ZXIsIHVpbWFuYWdlcikge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5jb25maWd1cmUuY2FsbCh0aGlzLCBwbGF5ZXIsIHVpbWFuYWdlcik7XHJcbiAgICAgICAgdGhpcy5vbkNsaWNrLnN1YnNjcmliZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIF90aGlzLmNvbmZpZy5zZXR0aW5nc01hbmFnZXIucmVzZXQoKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gU3VidGl0bGVTZXR0aW5nc1Jlc2V0QnV0dG9uO1xyXG59KGJ1dHRvbl8xLkJ1dHRvbikpO1xyXG5leHBvcnRzLlN1YnRpdGxlU2V0dGluZ3NSZXNldEJ1dHRvbiA9IFN1YnRpdGxlU2V0dGluZ3NSZXNldEJ1dHRvbjtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3N1YnRpdGxlc2V0dGluZ3Mvc3VidGl0bGVzZXR0aW5nc3Jlc2V0YnV0dG9uLnRzXG4vLyBtb2R1bGUgaWQgPSA0NlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGNvbnRhaW5lcl8xID0gcmVxdWlyZShcIi4uL2NvbnRhaW5lclwiKTtcclxudmFyIGRvbV8xID0gcmVxdWlyZShcIi4uLy4uL2RvbVwiKTtcclxudmFyIFN1YnRpdGxlU2V0dGluZ3NMYWJlbCA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoU3VidGl0bGVTZXR0aW5nc0xhYmVsLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gU3VidGl0bGVTZXR0aW5nc0xhYmVsKGNvbmZpZykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGNvbmZpZykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5vcGVuZXIgPSBjb25maWcub3BlbmVyO1xyXG4gICAgICAgIF90aGlzLnRleHQgPSBjb25maWcudGV4dDtcclxuICAgICAgICBfdGhpcy5jb25maWcgPSBfdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIHtcclxuICAgICAgICAgICAgY3NzQ2xhc3M6ICd1aS1sYWJlbCcsXHJcbiAgICAgICAgICAgIGNvbXBvbmVudHM6IFtcclxuICAgICAgICAgICAgICAgIF90aGlzLm9wZW5lcixcclxuICAgICAgICAgICAgXSxcclxuICAgICAgICB9LCBfdGhpcy5jb25maWcpO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIFN1YnRpdGxlU2V0dGluZ3NMYWJlbC5wcm90b3R5cGUudG9Eb21FbGVtZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBsYWJlbEVsZW1lbnQgPSBuZXcgZG9tXzEuRE9NKCdzcGFuJywge1xyXG4gICAgICAgICAgICAnaWQnOiB0aGlzLmNvbmZpZy5pZCxcclxuICAgICAgICAgICAgJ2NsYXNzJzogdGhpcy5nZXRDc3NDbGFzc2VzKCksXHJcbiAgICAgICAgfSkuYXBwZW5kKG5ldyBkb21fMS5ET00oJ3NwYW4nLCB7fSkuaHRtbCh0aGlzLnRleHQpLCB0aGlzLm9wZW5lci5nZXREb21FbGVtZW50KCkpO1xyXG4gICAgICAgIHJldHVybiBsYWJlbEVsZW1lbnQ7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFN1YnRpdGxlU2V0dGluZ3NMYWJlbDtcclxufShjb250YWluZXJfMS5Db250YWluZXIpKTtcclxuZXhwb3J0cy5TdWJ0aXRsZVNldHRpbmdzTGFiZWwgPSBTdWJ0aXRsZVNldHRpbmdzTGFiZWw7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9zdWJ0aXRsZXNldHRpbmdzL3N1YnRpdGxlc2V0dGluZ3NsYWJlbC50c1xuLy8gbW9kdWxlIGlkID0gNDdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBzdWJ0aXRsZXNldHRpbmdzYnV0dG9uXzEgPSByZXF1aXJlKFwiLi9zdWJ0aXRsZXNldHRpbmdzYnV0dG9uXCIpO1xyXG4vKipcclxuICogQSBidXR0b24gdGhhdCB0b2dnbGVzIHRoZSBvcHRpb24gbWVudSBmb3Igc3VidGl0bGVzXHJcbiAqL1xyXG52YXIgU3VidGl0bGVTZXR0aW5nc09wZW5CdXR0b24gPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKFN1YnRpdGxlU2V0dGluZ3NPcGVuQnV0dG9uLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gU3VidGl0bGVTZXR0aW5nc09wZW5CdXR0b24oY29uZmlnKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgY29uZmlnKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLmNvbmZpZyA9IF90aGlzLm1lcmdlQ29uZmlnKGNvbmZpZywge1xyXG4gICAgICAgICAgICBjc3NDbGFzczogJ3VpLXN1YnRpdGxlc2V0dGluZ3NvcGVuYnV0dG9uJyxcclxuICAgICAgICAgICAgdGV4dDogJ1N1YnRpdGxlcyBzZXR0aW5ncycsXHJcbiAgICAgICAgfSwgX3RoaXMuY29uZmlnKTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBTdWJ0aXRsZVNldHRpbmdzT3BlbkJ1dHRvbi5wcm90b3R5cGUuY29uZmlndXJlID0gZnVuY3Rpb24gKHBsYXllciwgdWltYW5hZ2VyKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmNvbmZpZ3VyZS5jYWxsKHRoaXMsIHBsYXllciwgdWltYW5hZ2VyKTtcclxuICAgICAgICB0aGlzLm9uQ2xpY2suc3Vic2NyaWJlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgX3RoaXMuc3VidGl0bGVTZXR0aW5nc1BhbmVsLnNob3coKTtcclxuICAgICAgICAgICAgX3RoaXMuc2V0dGluZ3NQYW5lbC5oaWRlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFN1YnRpdGxlU2V0dGluZ3NPcGVuQnV0dG9uO1xyXG59KHN1YnRpdGxlc2V0dGluZ3NidXR0b25fMS5TdWJ0aXRsZVNldHRpbmdzQnV0dG9uKSk7XHJcbmV4cG9ydHMuU3VidGl0bGVTZXR0aW5nc09wZW5CdXR0b24gPSBTdWJ0aXRsZVNldHRpbmdzT3BlbkJ1dHRvbjtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3N1YnRpdGxlc2V0dGluZ3Mvc3VidGl0bGVzZXR0aW5nc29wZW5idXR0b24udHNcbi8vIG1vZHVsZSBpZCA9IDQ4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgc2VsZWN0Ym94XzEgPSByZXF1aXJlKFwiLi9zZWxlY3Rib3hcIik7XHJcbi8qKlxyXG4gKiBBIHNlbGVjdCBib3ggcHJvdmlkaW5nIGEgc2VsZWN0aW9uIGJldHdlZW4gYXZhaWxhYmxlIGF1ZGlvIHRyYWNrcyAoZS5nLiBkaWZmZXJlbnQgbGFuZ3VhZ2VzKS5cclxuICovXHJcbnZhciBBdWRpb1RyYWNrU2VsZWN0Qm94ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhBdWRpb1RyYWNrU2VsZWN0Qm94LCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gQXVkaW9UcmFja1NlbGVjdEJveChjb25maWcpIHtcclxuICAgICAgICBpZiAoY29uZmlnID09PSB2b2lkIDApIHsgY29uZmlnID0ge307IH1cclxuICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgY29uZmlnKSB8fCB0aGlzO1xyXG4gICAgfVxyXG4gICAgQXVkaW9UcmFja1NlbGVjdEJveC5wcm90b3R5cGUuY29uZmlndXJlID0gZnVuY3Rpb24gKHBsYXllciwgdWltYW5hZ2VyKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmNvbmZpZ3VyZS5jYWxsKHRoaXMsIHBsYXllciwgdWltYW5hZ2VyKTtcclxuICAgICAgICB2YXIgc2VsZWN0Q3VycmVudEF1ZGlvVHJhY2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBjdXJyZW50QXVkaW9UcmFjayA9IHBsYXllci5nZXRBdWRpbygpO1xyXG4gICAgICAgICAgICAvLyBITFMgc3RyZWFtcyBkb24ndCBhbHdheXMgcHJvdmlkZSB0aGlzLCBzbyB3ZSBoYXZlIHRvIGNoZWNrXHJcbiAgICAgICAgICAgIGlmIChjdXJyZW50QXVkaW9UcmFjaykge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuc2VsZWN0SXRlbShjdXJyZW50QXVkaW9UcmFjay5pZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciB1cGRhdGVBdWRpb1RyYWNrcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGF1ZGlvVHJhY2tzID0gcGxheWVyLmdldEF2YWlsYWJsZUF1ZGlvKCk7XHJcbiAgICAgICAgICAgIF90aGlzLmNsZWFySXRlbXMoKTtcclxuICAgICAgICAgICAgLy8gQWRkIGF1ZGlvIHRyYWNrc1xyXG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIGF1ZGlvVHJhY2tzXzEgPSBhdWRpb1RyYWNrczsgX2kgPCBhdWRpb1RyYWNrc18xLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGF1ZGlvVHJhY2sgPSBhdWRpb1RyYWNrc18xW19pXTtcclxuICAgICAgICAgICAgICAgIF90aGlzLmFkZEl0ZW0oYXVkaW9UcmFjay5pZCwgYXVkaW9UcmFjay5sYWJlbCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gU2VsZWN0IHRoZSBjb3JyZWN0IGF1ZGlvIHRyYWNrIGFmdGVyIHRoZSB0cmFja3MgaGF2ZSBiZWVuIGFkZGVkXHJcbiAgICAgICAgICAgIC8vIFRoaXMgaXMgYWxzbyBpbXBvcnRhbnQgaW4gY2FzZSB3ZSBtaXNzZWQgdGhlIGBPTl9BVURJT19DSEFOR0VEYCBldmVudCwgZS5nLiB3aGVuIGBwbGF5YmFjay5hdWRpb0xhbmd1YWdlYFxyXG4gICAgICAgICAgICAvLyBpcyBjb25maWd1cmVkIGJ1dCB0aGUgZXZlbnQgaXMgZmlyZWQgYmVmb3JlIHRoZSBVSSBpcyBjcmVhdGVkLlxyXG4gICAgICAgICAgICBzZWxlY3RDdXJyZW50QXVkaW9UcmFjaygpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5vbkl0ZW1TZWxlY3RlZC5zdWJzY3JpYmUoZnVuY3Rpb24gKHNlbmRlciwgdmFsdWUpIHtcclxuICAgICAgICAgICAgcGxheWVyLnNldEF1ZGlvKHZhbHVlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBVcGRhdGUgc2VsZWN0aW9uIHdoZW4gc2VsZWN0ZWQgdHJhY2sgaGFzIGNoYW5nZWRcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9BVURJT19DSEFOR0VELCBzZWxlY3RDdXJyZW50QXVkaW9UcmFjayk7XHJcbiAgICAgICAgLy8gVXBkYXRlIHRyYWNrcyB3aGVuIHNvdXJjZSBnb2VzIGF3YXlcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9TT1VSQ0VfVU5MT0FERUQsIHVwZGF0ZUF1ZGlvVHJhY2tzKTtcclxuICAgICAgICAvLyBVcGRhdGUgdHJhY2tzIHdoZW4gYSBuZXcgc291cmNlIGlzIGxvYWRlZFxyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1JFQURZLCB1cGRhdGVBdWRpb1RyYWNrcyk7XHJcbiAgICAgICAgLy8gVXBkYXRlIHRyYWNrcyB3aGVuIHRoZSBwZXJpb2Qgd2l0aGluIGEgc291cmNlIGNoYW5nZXNcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9QRVJJT0RfU1dJVENIRUQsIHVwZGF0ZUF1ZGlvVHJhY2tzKTtcclxuICAgICAgICAvLyBVcGRhdGUgdHJhY2tzIHdoZW4gYSB0cmFjayBpcyBhZGRlZCBvciByZW1vdmVkIChzaW5jZSBwbGF5ZXIgNy4xLjQpXHJcbiAgICAgICAgaWYgKHBsYXllci5FVkVOVC5PTl9BVURJT19BRERFRCAmJiBwbGF5ZXIuRVZFTlQuT05fQVVESU9fUkVNT1ZFRCkge1xyXG4gICAgICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9BVURJT19BRERFRCwgdXBkYXRlQXVkaW9UcmFja3MpO1xyXG4gICAgICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9BVURJT19SRU1PVkVELCB1cGRhdGVBdWRpb1RyYWNrcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFBvcHVsYXRlIHRyYWNrcyBhdCBzdGFydHVwXHJcbiAgICAgICAgdXBkYXRlQXVkaW9UcmFja3MoKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gQXVkaW9UcmFja1NlbGVjdEJveDtcclxufShzZWxlY3Rib3hfMS5TZWxlY3RCb3gpKTtcclxuZXhwb3J0cy5BdWRpb1RyYWNrU2VsZWN0Qm94ID0gQXVkaW9UcmFja1NlbGVjdEJveDtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL2F1ZGlvdHJhY2tzZWxlY3Rib3gudHNcbi8vIG1vZHVsZSBpZCA9IDQ5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgY29udGFpbmVyXzEgPSByZXF1aXJlKFwiLi9jb250YWluZXJcIik7XHJcbnZhciBsYWJlbF8xID0gcmVxdWlyZShcIi4vbGFiZWxcIik7XHJcbnZhciBjb21wb25lbnRfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudFwiKTtcclxudmFyIHN0cmluZ3V0aWxzXzEgPSByZXF1aXJlKFwiLi4vc3RyaW5ndXRpbHNcIik7XHJcbnZhciBpbWFnZWxvYWRlcl8xID0gcmVxdWlyZShcIi4uL2ltYWdlbG9hZGVyXCIpO1xyXG4vKipcclxuICogQSBsYWJlbCBmb3IgYSB7QGxpbmsgU2Vla0Jhcn0gdGhhdCBjYW4gZGlzcGxheSB0aGUgc2VlayB0YXJnZXQgdGltZSwgYSB0aHVtYm5haWwsIGFuZCB0aXRsZSAoZS5nLiBjaGFwdGVyIHRpdGxlKS5cclxuICovXHJcbnZhciBTZWVrQmFyTGFiZWwgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKFNlZWtCYXJMYWJlbCwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIFNlZWtCYXJMYWJlbChjb25maWcpIHtcclxuICAgICAgICBpZiAoY29uZmlnID09PSB2b2lkIDApIHsgY29uZmlnID0ge307IH1cclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBjb25maWcpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMudGltZUxhYmVsID0gbmV3IGxhYmVsXzEuTGFiZWwoeyBjc3NDbGFzc2VzOiBbJ3NlZWtiYXItbGFiZWwtdGltZSddIH0pO1xyXG4gICAgICAgIF90aGlzLnRpdGxlTGFiZWwgPSBuZXcgbGFiZWxfMS5MYWJlbCh7IGNzc0NsYXNzZXM6IFsnc2Vla2Jhci1sYWJlbC10aXRsZSddIH0pO1xyXG4gICAgICAgIF90aGlzLnRodW1ibmFpbCA9IG5ldyBjb21wb25lbnRfMS5Db21wb25lbnQoeyBjc3NDbGFzc2VzOiBbJ3NlZWtiYXItdGh1bWJuYWlsJ10gfSk7XHJcbiAgICAgICAgX3RoaXMudGh1bWJuYWlsSW1hZ2VMb2FkZXIgPSBuZXcgaW1hZ2Vsb2FkZXJfMS5JbWFnZUxvYWRlcigpO1xyXG4gICAgICAgIF90aGlzLmNvbmZpZyA9IF90aGlzLm1lcmdlQ29uZmlnKGNvbmZpZywge1xyXG4gICAgICAgICAgICBjc3NDbGFzczogJ3VpLXNlZWtiYXItbGFiZWwnLFxyXG4gICAgICAgICAgICBjb21wb25lbnRzOiBbbmV3IGNvbnRhaW5lcl8xLkNvbnRhaW5lcih7XHJcbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50czogW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy50aHVtYm5haWwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBjb250YWluZXJfMS5Db250YWluZXIoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50czogW190aGlzLnRpdGxlTGFiZWwsIF90aGlzLnRpbWVMYWJlbF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjc3NDbGFzczogJ3NlZWtiYXItbGFiZWwtbWV0YWRhdGEnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgICAgICAgICAgY3NzQ2xhc3M6ICdzZWVrYmFyLWxhYmVsLWlubmVyJyxcclxuICAgICAgICAgICAgICAgIH0pXSxcclxuICAgICAgICAgICAgaGlkZGVuOiB0cnVlLFxyXG4gICAgICAgIH0sIF90aGlzLmNvbmZpZyk7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgU2Vla0JhckxhYmVsLnByb3RvdHlwZS5jb25maWd1cmUgPSBmdW5jdGlvbiAocGxheWVyLCB1aW1hbmFnZXIpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuY29uZmlndXJlLmNhbGwodGhpcywgcGxheWVyLCB1aW1hbmFnZXIpO1xyXG4gICAgICAgIHZhciBhcHBsaWVkTWFya2VyQ3NzQ2xhc3NlcyA9IFtdO1xyXG4gICAgICAgIHVpbWFuYWdlci5vblNlZWtQcmV2aWV3LnN1YnNjcmliZVJhdGVMaW1pdGVkKGZ1bmN0aW9uIChzZW5kZXIsIGFyZ3MpIHtcclxuICAgICAgICAgICAgaWYgKHBsYXllci5pc0xpdmUoKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG1heFRpbWVTaGlmdCA9IHBsYXllci5nZXRNYXhUaW1lU2hpZnQoKTtcclxuICAgICAgICAgICAgICAgIHZhciB0aW1lID0gbWF4VGltZVNoaWZ0IC0gbWF4VGltZVNoaWZ0ICogKGFyZ3MucG9zaXRpb24gLyAxMDApO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuc2V0VGltZSh0aW1lKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmIChhcmdzLm1hcmtlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnNldFRpdGxlVGV4dChhcmdzLm1hcmtlci5tYXJrZXIudGl0bGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2V0VGl0bGVUZXh0KG51bGwpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmFyIHRpbWUgPSBwbGF5ZXIuZ2V0RHVyYXRpb24oKSAqIChhcmdzLnBvc2l0aW9uIC8gMTAwKTtcclxuICAgICAgICAgICAgICAgIF90aGlzLnNldFRpbWUodGltZSk7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5zZXRUaHVtYm5haWwocGxheWVyLmdldFRodW1iKHRpbWUpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBSZW1vdmUgQ1NTIGNsYXNzZXMgZnJvbSBwcmV2aW91cyBtYXJrZXJcclxuICAgICAgICAgICAgaWYgKGFwcGxpZWRNYXJrZXJDc3NDbGFzc2VzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLmdldERvbUVsZW1lbnQoKS5yZW1vdmVDbGFzcyhhcHBsaWVkTWFya2VyQ3NzQ2xhc3Nlcy5qb2luKCcgJykpO1xyXG4gICAgICAgICAgICAgICAgYXBwbGllZE1hcmtlckNzc0NsYXNzZXMgPSBbXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBBZGQgQ1NTIGNsYXNzZXMgb2YgY3VycmVudCBtYXJrZXJcclxuICAgICAgICAgICAgaWYgKGFyZ3MubWFya2VyKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY3NzQ2xhc3NlcyA9IChhcmdzLm1hcmtlci5tYXJrZXIuY3NzQ2xhc3NlcyB8fCBbXSkubWFwKGZ1bmN0aW9uIChjc3NDbGFzcykgeyByZXR1cm4gX3RoaXMucHJlZml4Q3NzKGNzc0NsYXNzKTsgfSk7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5nZXREb21FbGVtZW50KCkuYWRkQ2xhc3MoY3NzQ2xhc3Nlcy5qb2luKCcgJykpO1xyXG4gICAgICAgICAgICAgICAgYXBwbGllZE1hcmtlckNzc0NsYXNzZXMgPSBjc3NDbGFzc2VzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSwgMTAwKTtcclxuICAgICAgICB2YXIgaW5pdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgLy8gU2V0IHRpbWUgZm9ybWF0IGRlcGVuZGluZyBvbiBzb3VyY2UgZHVyYXRpb25cclxuICAgICAgICAgICAgX3RoaXMudGltZUZvcm1hdCA9IE1hdGguYWJzKHBsYXllci5pc0xpdmUoKSA/IHBsYXllci5nZXRNYXhUaW1lU2hpZnQoKSA6IHBsYXllci5nZXREdXJhdGlvbigpKSA+PSAzNjAwID9cclxuICAgICAgICAgICAgICAgIHN0cmluZ3V0aWxzXzEuU3RyaW5nVXRpbHMuRk9STUFUX0hITU1TUyA6IHN0cmluZ3V0aWxzXzEuU3RyaW5nVXRpbHMuRk9STUFUX01NU1M7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9SRUFEWSwgaW5pdCk7XHJcbiAgICAgICAgaW5pdCgpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogU2V0cyBhcmJpdHJhcnkgdGV4dCBvbiB0aGUgbGFiZWwuXHJcbiAgICAgKiBAcGFyYW0gdGV4dCB0aGUgdGV4dCB0byBzaG93IG9uIHRoZSBsYWJlbFxyXG4gICAgICovXHJcbiAgICBTZWVrQmFyTGFiZWwucHJvdG90eXBlLnNldFRleHQgPSBmdW5jdGlvbiAodGV4dCkge1xyXG4gICAgICAgIHRoaXMudGltZUxhYmVsLnNldFRleHQodGV4dCk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBTZXRzIGEgdGltZSB0byBiZSBkaXNwbGF5ZWQgb24gdGhlIGxhYmVsLlxyXG4gICAgICogQHBhcmFtIHNlY29uZHMgdGhlIHRpbWUgaW4gc2Vjb25kcyB0byBkaXNwbGF5IG9uIHRoZSBsYWJlbFxyXG4gICAgICovXHJcbiAgICBTZWVrQmFyTGFiZWwucHJvdG90eXBlLnNldFRpbWUgPSBmdW5jdGlvbiAoc2Vjb25kcykge1xyXG4gICAgICAgIHRoaXMuc2V0VGV4dChzdHJpbmd1dGlsc18xLlN0cmluZ1V0aWxzLnNlY29uZHNUb1RpbWUoc2Vjb25kcywgdGhpcy50aW1lRm9ybWF0KSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBTZXRzIHRoZSB0ZXh0IG9uIHRoZSB0aXRsZSBsYWJlbC5cclxuICAgICAqIEBwYXJhbSB0ZXh0IHRoZSB0ZXh0IHRvIHNob3cgb24gdGhlIGxhYmVsXHJcbiAgICAgKi9cclxuICAgIFNlZWtCYXJMYWJlbC5wcm90b3R5cGUuc2V0VGl0bGVUZXh0ID0gZnVuY3Rpb24gKHRleHQpIHtcclxuICAgICAgICB0aGlzLnRpdGxlTGFiZWwuc2V0VGV4dCh0ZXh0KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFNldHMgb3IgcmVtb3ZlcyBhIHRodW1ibmFpbCBvbiB0aGUgbGFiZWwuXHJcbiAgICAgKiBAcGFyYW0gdGh1bWJuYWlsIHRoZSB0aHVtYm5haWwgdG8gZGlzcGxheSBvbiB0aGUgbGFiZWwgb3IgbnVsbCB0byByZW1vdmUgYSBkaXNwbGF5ZWQgdGh1bWJuYWlsXHJcbiAgICAgKi9cclxuICAgIFNlZWtCYXJMYWJlbC5wcm90b3R5cGUuc2V0VGh1bWJuYWlsID0gZnVuY3Rpb24gKHRodW1ibmFpbCkge1xyXG4gICAgICAgIGlmICh0aHVtYm5haWwgPT09IHZvaWQgMCkgeyB0aHVtYm5haWwgPSBudWxsOyB9XHJcbiAgICAgICAgdmFyIHRodW1ibmFpbEVsZW1lbnQgPSB0aGlzLnRodW1ibmFpbC5nZXREb21FbGVtZW50KCk7XHJcbiAgICAgICAgaWYgKHRodW1ibmFpbCA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRodW1ibmFpbEVsZW1lbnQuY3NzKHtcclxuICAgICAgICAgICAgICAgICdiYWNrZ3JvdW5kLWltYWdlJzogbnVsbCxcclxuICAgICAgICAgICAgICAgICdkaXNwbGF5JzogbnVsbCxcclxuICAgICAgICAgICAgICAgICd3aWR0aCc6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAnaGVpZ2h0JzogbnVsbCxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBXZSB1c2UgdGhlIHRodW1ibmFpbCBpbWFnZSBsb2FkZXIgdG8gbWFrZSBzdXJlIHRoZSB0aHVtYm5haWwgaXMgbG9hZGVkIGFuZCBpdCdzIHNpemUgaXMga25vd24gYmVmb3JlIGJlIGNhblxyXG4gICAgICAgICAgICAvLyBjYWxjdWxhdGUgdGhlIENTUyBwcm9wZXJ0aWVzIGFuZCBzZXQgdGhlbSBvbiB0aGUgZWxlbWVudC5cclxuICAgICAgICAgICAgdGhpcy50aHVtYm5haWxJbWFnZUxvYWRlci5sb2FkKHRodW1ibmFpbC51cmwsIGZ1bmN0aW9uICh1cmwsIHdpZHRoLCBoZWlnaHQpIHtcclxuICAgICAgICAgICAgICAgIHZhciB0aHVtYm5haWxDb3VudFggPSB3aWR0aCAvIHRodW1ibmFpbC53O1xyXG4gICAgICAgICAgICAgICAgdmFyIHRodW1ibmFpbENvdW50WSA9IGhlaWdodCAvIHRodW1ibmFpbC5oO1xyXG4gICAgICAgICAgICAgICAgdmFyIHRodW1ibmFpbEluZGV4WCA9IHRodW1ibmFpbC54IC8gdGh1bWJuYWlsLnc7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGh1bWJuYWlsSW5kZXhZID0gdGh1bWJuYWlsLnkgLyB0aHVtYm5haWwuaDtcclxuICAgICAgICAgICAgICAgIHZhciBzaXplWCA9IDEwMCAqIHRodW1ibmFpbENvdW50WDtcclxuICAgICAgICAgICAgICAgIHZhciBzaXplWSA9IDEwMCAqIHRodW1ibmFpbENvdW50WTtcclxuICAgICAgICAgICAgICAgIHZhciBvZmZzZXRYID0gMTAwICogdGh1bWJuYWlsSW5kZXhYO1xyXG4gICAgICAgICAgICAgICAgdmFyIG9mZnNldFkgPSAxMDAgKiB0aHVtYm5haWxJbmRleFk7XHJcbiAgICAgICAgICAgICAgICB2YXIgYXNwZWN0UmF0aW8gPSAxIC8gdGh1bWJuYWlsLncgKiB0aHVtYm5haWwuaDtcclxuICAgICAgICAgICAgICAgIC8vIFRoZSB0aHVtYm5haWwgc2l6ZSBpcyBzZXQgYnkgc2V0dGluZyB0aGUgQ1NTICd3aWR0aCcgYW5kICdwYWRkaW5nLWJvdHRvbScgcHJvcGVydGllcy4gJ3BhZGRpbmctYm90dG9tJyBpc1xyXG4gICAgICAgICAgICAgICAgLy8gdXNlZCBiZWNhdXNlIGl0IGlzIHJlbGF0aXZlIHRvIHRoZSB3aWR0aCBhbmQgY2FuIGJlIHVzZWQgdG8gc2V0IHRoZSBhc3BlY3QgcmF0aW8gb2YgdGhlIHRodW1ibmFpbC5cclxuICAgICAgICAgICAgICAgIC8vIEEgZGVmYXVsdCB2YWx1ZSBmb3Igd2lkdGggaXMgc2V0IGluIHRoZSBzdHlsZXNoZWV0IGFuZCBjYW4gYmUgb3ZlcndyaXR0ZW4gZnJvbSB0aGVyZSBvciBhbnl3aGVyZSBlbHNlLlxyXG4gICAgICAgICAgICAgICAgdGh1bWJuYWlsRWxlbWVudC5jc3Moe1xyXG4gICAgICAgICAgICAgICAgICAgICdkaXNwbGF5JzogJ2luaGVyaXQnLFxyXG4gICAgICAgICAgICAgICAgICAgICdiYWNrZ3JvdW5kLWltYWdlJzogXCJ1cmwoXCIgKyB0aHVtYm5haWwudXJsICsgXCIpXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgJ3BhZGRpbmctYm90dG9tJzogMTAwICogYXNwZWN0UmF0aW8gKyBcIiVcIixcclxuICAgICAgICAgICAgICAgICAgICAnYmFja2dyb3VuZC1zaXplJzogc2l6ZVggKyBcIiUgXCIgKyBzaXplWSArIFwiJVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICdiYWNrZ3JvdW5kLXBvc2l0aW9uJzogXCItXCIgKyBvZmZzZXRYICsgXCIlIC1cIiArIG9mZnNldFkgKyBcIiVcIixcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFNlZWtCYXJMYWJlbDtcclxufShjb250YWluZXJfMS5Db250YWluZXIpKTtcclxuZXhwb3J0cy5TZWVrQmFyTGFiZWwgPSBTZWVrQmFyTGFiZWw7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9zZWVrYmFybGFiZWwudHNcbi8vIG1vZHVsZSBpZCA9IDUwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgc2VsZWN0Ym94XzEgPSByZXF1aXJlKFwiLi9zZWxlY3Rib3hcIik7XHJcbi8qKlxyXG4gKiBBIHNlbGVjdCBib3ggcHJvdmlkaW5nIGEgc2VsZWN0aW9uIGJldHdlZW4gYXZhaWxhYmxlIHN1YnRpdGxlIGFuZCBjYXB0aW9uIHRyYWNrcy5cclxuICovXHJcbnZhciBTdWJ0aXRsZVNlbGVjdEJveCA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoU3VidGl0bGVTZWxlY3RCb3gsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBTdWJ0aXRsZVNlbGVjdEJveChjb25maWcpIHtcclxuICAgICAgICBpZiAoY29uZmlnID09PSB2b2lkIDApIHsgY29uZmlnID0ge307IH1cclxuICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgY29uZmlnKSB8fCB0aGlzO1xyXG4gICAgfVxyXG4gICAgU3VidGl0bGVTZWxlY3RCb3gucHJvdG90eXBlLmNvbmZpZ3VyZSA9IGZ1bmN0aW9uIChwbGF5ZXIsIHVpbWFuYWdlcikge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5jb25maWd1cmUuY2FsbCh0aGlzLCBwbGF5ZXIsIHVpbWFuYWdlcik7XHJcbiAgICAgICAgdmFyIHNlbGVjdEN1cnJlbnRTdWJ0aXRsZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGN1cnJlbnRTdWJ0aXRsZSA9IHBsYXllci5nZXRTdWJ0aXRsZSgpO1xyXG4gICAgICAgICAgICBpZiAoY3VycmVudFN1YnRpdGxlKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5zZWxlY3RJdGVtKGN1cnJlbnRTdWJ0aXRsZS5pZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciB1cGRhdGVTdWJ0aXRsZXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIF90aGlzLmNsZWFySXRlbXMoKTtcclxuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IHBsYXllci5nZXRBdmFpbGFibGVTdWJ0aXRsZXMoKTsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBzdWJ0aXRsZSA9IF9hW19pXTtcclxuICAgICAgICAgICAgICAgIF90aGlzLmFkZEl0ZW0oc3VidGl0bGUuaWQsIHN1YnRpdGxlLmxhYmVsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBTZWxlY3QgdGhlIGNvcnJlY3Qgc3VidGl0bGUgYWZ0ZXIgdGhlIHN1YnRpdGxlcyBoYXZlIGJlZW4gYWRkZWRcclxuICAgICAgICAgICAgc2VsZWN0Q3VycmVudFN1YnRpdGxlKCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLm9uSXRlbVNlbGVjdGVkLnN1YnNjcmliZShmdW5jdGlvbiAoc2VuZGVyLCB2YWx1ZSkge1xyXG4gICAgICAgICAgICBwbGF5ZXIuc2V0U3VidGl0bGUodmFsdWUgPT09ICdudWxsJyA/IG51bGwgOiB2YWx1ZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gUmVhY3QgdG8gQVBJIGV2ZW50c1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1NVQlRJVExFX0FEREVELCB1cGRhdGVTdWJ0aXRsZXMpO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1NVQlRJVExFX0NIQU5HRUQsIHNlbGVjdEN1cnJlbnRTdWJ0aXRsZSk7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fU1VCVElUTEVfUkVNT1ZFRCwgdXBkYXRlU3VidGl0bGVzKTtcclxuICAgICAgICAvLyBVcGRhdGUgc3VidGl0bGVzIHdoZW4gc291cmNlIGdvZXMgYXdheVxyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1NPVVJDRV9VTkxPQURFRCwgdXBkYXRlU3VidGl0bGVzKTtcclxuICAgICAgICAvLyBVcGRhdGUgc3VidGl0bGVzIHdoZW4gYSBuZXcgc291cmNlIGlzIGxvYWRlZFxyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1JFQURZLCB1cGRhdGVTdWJ0aXRsZXMpO1xyXG4gICAgICAgIC8vIFVwZGF0ZSBzdWJ0aXRsZXMgd2hlbiB0aGUgcGVyaW9kIHdpdGhpbiBhIHNvdXJjZSBjaGFuZ2VzXHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fUEVSSU9EX1NXSVRDSEVELCB1cGRhdGVTdWJ0aXRsZXMpO1xyXG4gICAgICAgIC8vIFBvcHVsYXRlIHN1YnRpdGxlcyBhdCBzdGFydHVwXHJcbiAgICAgICAgdXBkYXRlU3VidGl0bGVzKCk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFN1YnRpdGxlU2VsZWN0Qm94O1xyXG59KHNlbGVjdGJveF8xLlNlbGVjdEJveCkpO1xyXG5leHBvcnRzLlN1YnRpdGxlU2VsZWN0Qm94ID0gU3VidGl0bGVTZWxlY3RCb3g7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9zdWJ0aXRsZXNlbGVjdGJveC50c1xuLy8gbW9kdWxlIGlkID0gNTFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBjb250YWluZXJfMSA9IHJlcXVpcmUoXCIuL2NvbnRhaW5lclwiKTtcclxudmFyIGxhYmVsXzEgPSByZXF1aXJlKFwiLi9sYWJlbFwiKTtcclxudmFyIGNvbnRyb2xiYXJfMSA9IHJlcXVpcmUoXCIuL2NvbnRyb2xiYXJcIik7XHJcbnZhciBldmVudGRpc3BhdGNoZXJfMSA9IHJlcXVpcmUoXCIuLi9ldmVudGRpc3BhdGNoZXJcIik7XHJcbi8qKlxyXG4gKiBPdmVybGF5cyB0aGUgcGxheWVyIHRvIGRpc3BsYXkgc3VidGl0bGVzLlxyXG4gKi9cclxudmFyIFN1YnRpdGxlT3ZlcmxheSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoU3VidGl0bGVPdmVybGF5LCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gU3VidGl0bGVPdmVybGF5KGNvbmZpZykge1xyXG4gICAgICAgIGlmIChjb25maWcgPT09IHZvaWQgMCkgeyBjb25maWcgPSB7fTsgfVxyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGNvbmZpZykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5wcmVwcm9jZXNzTGFiZWxFdmVudENhbGxiYWNrID0gbmV3IGV2ZW50ZGlzcGF0Y2hlcl8xLkV2ZW50RGlzcGF0Y2hlcigpO1xyXG4gICAgICAgIF90aGlzLnByZXZpZXdTdWJ0aXRsZUFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIF90aGlzLnByZXZpZXdTdWJ0aXRsZSA9IG5ldyBTdWJ0aXRsZUxhYmVsKHsgdGV4dDogJ2V4YW1wbGUgc3VidGl0bGUnIH0pO1xyXG4gICAgICAgIF90aGlzLmNvbmZpZyA9IF90aGlzLm1lcmdlQ29uZmlnKGNvbmZpZywge1xyXG4gICAgICAgICAgICBjc3NDbGFzczogJ3VpLXN1YnRpdGxlLW92ZXJsYXknLFxyXG4gICAgICAgIH0sIF90aGlzLmNvbmZpZyk7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgU3VidGl0bGVPdmVybGF5LnByb3RvdHlwZS5jb25maWd1cmUgPSBmdW5jdGlvbiAocGxheWVyLCB1aW1hbmFnZXIpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuY29uZmlndXJlLmNhbGwodGhpcywgcGxheWVyLCB1aW1hbmFnZXIpO1xyXG4gICAgICAgIHZhciBzdWJ0aXRsZU1hbmFnZXIgPSBuZXcgQWN0aXZlU3VidGl0bGVNYW5hZ2VyKCk7XHJcbiAgICAgICAgdGhpcy5zdWJ0aXRsZU1hbmFnZXIgPSBzdWJ0aXRsZU1hbmFnZXI7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fQ1VFX0VOVEVSLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgLy8gU2FuaXRpemUgY3VlIGRhdGEgKG11c3QgYmUgZG9uZSBiZWZvcmUgdGhlIGN1ZSBJRCBpcyBnZW5lcmF0ZWQgaW4gc3VidGl0bGVNYW5hZ2VyLmN1ZUVudGVyKVxyXG4gICAgICAgICAgICBpZiAoZXZlbnQucG9zaXRpb24pIHtcclxuICAgICAgICAgICAgICAgIC8vIFNvbWV0aW1lcyB0aGUgcG9zaXRpb25zIGFyZSB1bmRlZmluZWQsIHdlIGFzc3VtZSB0aGVtIHRvIGJlIHplcm9cclxuICAgICAgICAgICAgICAgIGV2ZW50LnBvc2l0aW9uLnJvdyA9IGV2ZW50LnBvc2l0aW9uLnJvdyB8fCAwO1xyXG4gICAgICAgICAgICAgICAgZXZlbnQucG9zaXRpb24uY29sdW1uID0gZXZlbnQucG9zaXRpb24uY29sdW1uIHx8IDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIGxhYmVsVG9BZGQgPSBzdWJ0aXRsZU1hbmFnZXIuY3VlRW50ZXIoZXZlbnQpO1xyXG4gICAgICAgICAgICBfdGhpcy5wcmVwcm9jZXNzTGFiZWxFdmVudENhbGxiYWNrLmRpc3BhdGNoKGV2ZW50LCBsYWJlbFRvQWRkKTtcclxuICAgICAgICAgICAgaWYgKF90aGlzLnByZXZpZXdTdWJ0aXRsZUFjdGl2ZSkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMucmVtb3ZlQ29tcG9uZW50KF90aGlzLnByZXZpZXdTdWJ0aXRsZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgX3RoaXMuYWRkQ29tcG9uZW50KGxhYmVsVG9BZGQpO1xyXG4gICAgICAgICAgICBfdGhpcy51cGRhdGVDb21wb25lbnRzKCk7XHJcbiAgICAgICAgICAgIF90aGlzLnNob3coKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9DVUVfRVhJVCwgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIHZhciBsYWJlbFRvUmVtb3ZlID0gc3VidGl0bGVNYW5hZ2VyLmN1ZUV4aXQoZXZlbnQpO1xyXG4gICAgICAgICAgICBpZiAobGFiZWxUb1JlbW92ZSkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMucmVtb3ZlQ29tcG9uZW50KGxhYmVsVG9SZW1vdmUpO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMudXBkYXRlQ29tcG9uZW50cygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICghc3VidGl0bGVNYW5hZ2VyLmhhc0N1ZXMpIHtcclxuICAgICAgICAgICAgICAgIGlmICghX3RoaXMucHJldmlld1N1YnRpdGxlQWN0aXZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuYWRkQ29tcG9uZW50KF90aGlzLnByZXZpZXdTdWJ0aXRsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMudXBkYXRlQ29tcG9uZW50cygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdmFyIHN1YnRpdGxlQ2xlYXJIYW5kbGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBfdGhpcy5oaWRlKCk7XHJcbiAgICAgICAgICAgIHN1YnRpdGxlTWFuYWdlci5jbGVhcigpO1xyXG4gICAgICAgICAgICBfdGhpcy5yZW1vdmVDb21wb25lbnRzKCk7XHJcbiAgICAgICAgICAgIF90aGlzLnVwZGF0ZUNvbXBvbmVudHMoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX0FVRElPX0NIQU5HRUQsIHN1YnRpdGxlQ2xlYXJIYW5kbGVyKTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9TVUJUSVRMRV9DSEFOR0VELCBzdWJ0aXRsZUNsZWFySGFuZGxlcik7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fU0VFSywgc3VidGl0bGVDbGVhckhhbmRsZXIpO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1RJTUVfU0hJRlQsIHN1YnRpdGxlQ2xlYXJIYW5kbGVyKTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9QTEFZQkFDS19GSU5JU0hFRCwgc3VidGl0bGVDbGVhckhhbmRsZXIpO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1NPVVJDRV9VTkxPQURFRCwgc3VidGl0bGVDbGVhckhhbmRsZXIpO1xyXG4gICAgICAgIHVpbWFuYWdlci5vbkNvbXBvbmVudFNob3cuc3Vic2NyaWJlKGZ1bmN0aW9uIChjb21wb25lbnQpIHtcclxuICAgICAgICAgICAgaWYgKGNvbXBvbmVudCBpbnN0YW5jZW9mIGNvbnRyb2xiYXJfMS5Db250cm9sQmFyKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5nZXREb21FbGVtZW50KCkuYWRkQ2xhc3MoX3RoaXMucHJlZml4Q3NzKFN1YnRpdGxlT3ZlcmxheS5DTEFTU19DT05UUk9MQkFSX1ZJU0lCTEUpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHVpbWFuYWdlci5vbkNvbXBvbmVudEhpZGUuc3Vic2NyaWJlKGZ1bmN0aW9uIChjb21wb25lbnQpIHtcclxuICAgICAgICAgICAgaWYgKGNvbXBvbmVudCBpbnN0YW5jZW9mIGNvbnRyb2xiYXJfMS5Db250cm9sQmFyKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5nZXREb21FbGVtZW50KCkucmVtb3ZlQ2xhc3MoX3RoaXMucHJlZml4Q3NzKFN1YnRpdGxlT3ZlcmxheS5DTEFTU19DT05UUk9MQkFSX1ZJU0lCTEUpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuY29uZmlndXJlQ2VhNjA4Q2FwdGlvbnMocGxheWVyLCB1aW1hbmFnZXIpO1xyXG4gICAgICAgIC8vIEluaXRcclxuICAgICAgICBzdWJ0aXRsZUNsZWFySGFuZGxlcigpO1xyXG4gICAgfTtcclxuICAgIFN1YnRpdGxlT3ZlcmxheS5wcm90b3R5cGUuY29uZmlndXJlQ2VhNjA4Q2FwdGlvbnMgPSBmdW5jdGlvbiAocGxheWVyLCB1aW1hbmFnZXIpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIC8vIFRoZSBjYWxjdWxhdGVkIGZvbnQgc2l6ZVxyXG4gICAgICAgIHZhciBmb250U2l6ZSA9IDA7XHJcbiAgICAgICAgLy8gVGhlIHJlcXVpcmVkIGxldHRlciBzcGFjaW5nIHNwcmVhZCB0aGUgdGV4dCBjaGFyYWN0ZXJzIGV2ZW5seSBhY3Jvc3MgdGhlIGdyaWRcclxuICAgICAgICB2YXIgZm9udExldHRlclNwYWNpbmcgPSAwO1xyXG4gICAgICAgIC8vIEZsYWcgdGVsbGluZyBpZiBhIGZvbnQgc2l6ZSBjYWxjdWxhdGlvbiBpcyByZXF1aXJlZCBvZiBpZiB0aGUgY3VycmVudCB2YWx1ZXMgYXJlIHZhbGlkXHJcbiAgICAgICAgdmFyIGZvbnRTaXplQ2FsY3VsYXRpb25SZXF1aXJlZCA9IHRydWU7XHJcbiAgICAgICAgLy8gRmxhZyB0ZWxsaW5nIGlmIHRoZSBDRUEtNjA4IG1vZGUgaXMgZW5hYmxlZFxyXG4gICAgICAgIHZhciBlbmFibGVkID0gZmFsc2U7XHJcbiAgICAgICAgdmFyIHVwZGF0ZUNFQTYwOEZvbnRTaXplID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgZHVtbXlMYWJlbCA9IG5ldyBTdWJ0aXRsZUxhYmVsKHsgdGV4dDogJ1gnIH0pO1xyXG4gICAgICAgICAgICBkdW1teUxhYmVsLmdldERvbUVsZW1lbnQoKS5jc3Moe1xyXG4gICAgICAgICAgICAgICAgLy8gQnkgdXNpbmcgYSBsYXJnZSBmb250IHNpemUgd2UgZG8gbm90IG5lZWQgdG8gdXNlIG11bHRpcGxlIGxldHRlcnMgYW5kIGNhbiBnZXQgc3RpbGwgYW5cclxuICAgICAgICAgICAgICAgIC8vIGFjY3VyYXRlIG1lYXN1cmVtZW50IGV2ZW4gdGhvdWdoIHRoZSByZXR1cm5lZCBzaXplIGlzIGFuIGludGVnZXIgdmFsdWVcclxuICAgICAgICAgICAgICAgICdmb250LXNpemUnOiAnMjAwcHgnLFxyXG4gICAgICAgICAgICAgICAgJ2xpbmUtaGVpZ2h0JzogJzIwMHB4JyxcclxuICAgICAgICAgICAgICAgICd2aXNpYmlsaXR5JzogJ2hpZGRlbicsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBfdGhpcy5hZGRDb21wb25lbnQoZHVtbXlMYWJlbCk7XHJcbiAgICAgICAgICAgIF90aGlzLnVwZGF0ZUNvbXBvbmVudHMoKTtcclxuICAgICAgICAgICAgX3RoaXMuc2hvdygpO1xyXG4gICAgICAgICAgICB2YXIgZHVtbXlMYWJlbENoYXJXaWR0aCA9IGR1bW15TGFiZWwuZ2V0RG9tRWxlbWVudCgpLndpZHRoKCk7XHJcbiAgICAgICAgICAgIHZhciBkdW1teUxhYmVsQ2hhckhlaWdodCA9IGR1bW15TGFiZWwuZ2V0RG9tRWxlbWVudCgpLmhlaWdodCgpO1xyXG4gICAgICAgICAgICB2YXIgZm9udFNpemVSYXRpbyA9IGR1bW15TGFiZWxDaGFyV2lkdGggLyBkdW1teUxhYmVsQ2hhckhlaWdodDtcclxuICAgICAgICAgICAgX3RoaXMucmVtb3ZlQ29tcG9uZW50KGR1bW15TGFiZWwpO1xyXG4gICAgICAgICAgICBfdGhpcy51cGRhdGVDb21wb25lbnRzKCk7XHJcbiAgICAgICAgICAgIGlmICghX3RoaXMuc3VidGl0bGVNYW5hZ2VyLmhhc0N1ZXMpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLmhpZGUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBXZSBzdWJ0cmFjdCAxcHggaGVyZSB0byBhdm9pZCBsaW5lIGJyZWFrcyBhdCB0aGUgcmlnaHQgYm9yZGVyIG9mIHRoZSBzdWJ0aXRsZSBvdmVybGF5IHRoYXQgY2FuIGhhcHBlblxyXG4gICAgICAgICAgICAvLyB3aGVuIHRleHRzIGNvbnRhaW4gd2hpdGVzcGFjZXMuIEl0J3MgcHJvYmFibHkgc29tZSBraW5kIG9mIHBpeGVsIHJvdW5kaW5nIGlzc3VlIGluIHRoZSBicm93c2VyJ3NcclxuICAgICAgICAgICAgLy8gbGF5b3V0aW5nLCBidXQgdGhlIGFjdHVhbCByZWFzb24gY291bGQgbm90IGJlIGRldGVybWluZWQuIEFpbWluZyBmb3IgYSB0YXJnZXQgd2lkdGggLSAxcHggd291bGQgd29yayBpblxyXG4gICAgICAgICAgICAvLyBtb3N0IGJyb3dzZXJzLCBidXQgU2FmYXJpIGhhcyBhIFwicXVhbnRpemVkXCIgZm9udCBzaXplIHJlbmRlcmluZyB3aXRoIGh1Z2Ugc3RlcHMgaW4gYmV0d2VlbiBzbyB3ZSBuZWVkXHJcbiAgICAgICAgICAgIC8vIHRvIHN1YnRyYWN0IHNvbWUgbW9yZSBwaXhlbHMgdG8gYXZvaWQgbGluZSBicmVha3MgdGhlcmUgYXMgd2VsbC5cclxuICAgICAgICAgICAgdmFyIHN1YnRpdGxlT3ZlcmxheVdpZHRoID0gX3RoaXMuZ2V0RG9tRWxlbWVudCgpLndpZHRoKCkgLSAxMDtcclxuICAgICAgICAgICAgdmFyIHN1YnRpdGxlT3ZlcmxheUhlaWdodCA9IF90aGlzLmdldERvbUVsZW1lbnQoKS5oZWlnaHQoKTtcclxuICAgICAgICAgICAgLy8gVGhlIHNpemUgcmF0aW8gb2YgdGhlIGxldHRlciBncmlkXHJcbiAgICAgICAgICAgIHZhciBmb250R3JpZFNpemVSYXRpbyA9IChkdW1teUxhYmVsQ2hhcldpZHRoICogU3VidGl0bGVPdmVybGF5LkNFQTYwOF9OVU1fQ09MVU1OUykgL1xyXG4gICAgICAgICAgICAgICAgKGR1bW15TGFiZWxDaGFySGVpZ2h0ICogU3VidGl0bGVPdmVybGF5LkNFQTYwOF9OVU1fUk9XUyk7XHJcbiAgICAgICAgICAgIC8vIFRoZSBzaXplIHJhdGlvIG9mIHRoZSBhdmFpbGFibGUgc3BhY2UgZm9yIHRoZSBncmlkXHJcbiAgICAgICAgICAgIHZhciBzdWJ0aXRsZU92ZXJsYXlTaXplUmF0aW8gPSBzdWJ0aXRsZU92ZXJsYXlXaWR0aCAvIHN1YnRpdGxlT3ZlcmxheUhlaWdodDtcclxuICAgICAgICAgICAgaWYgKHN1YnRpdGxlT3ZlcmxheVNpemVSYXRpbyA+IGZvbnRHcmlkU2l6ZVJhdGlvKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBXaGVuIHRoZSBhdmFpbGFibGUgc3BhY2UgaXMgd2lkZXIgdGhhbiB0aGUgdGV4dCBncmlkLCB0aGUgZm9udCBzaXplIGlzIHNpbXBseVxyXG4gICAgICAgICAgICAgICAgLy8gZGV0ZXJtaW5lZCBieSB0aGUgaGVpZ2h0IG9mIHRoZSBhdmFpbGFibGUgc3BhY2UuXHJcbiAgICAgICAgICAgICAgICBmb250U2l6ZSA9IHN1YnRpdGxlT3ZlcmxheUhlaWdodCAvIFN1YnRpdGxlT3ZlcmxheS5DRUE2MDhfTlVNX1JPV1M7XHJcbiAgICAgICAgICAgICAgICAvLyBDYWxjdWxhdGUgdGhlIGFkZGl0aW9uYWwgbGV0dGVyIHNwYWNpbmcgcmVxdWlyZWQgdG8gZXZlbmx5IHNwcmVhZCB0aGUgdGV4dCBhY3Jvc3MgdGhlIGdyaWQncyB3aWR0aFxyXG4gICAgICAgICAgICAgICAgdmFyIGdyaWRTbG90V2lkdGggPSBzdWJ0aXRsZU92ZXJsYXlXaWR0aCAvIFN1YnRpdGxlT3ZlcmxheS5DRUE2MDhfTlVNX0NPTFVNTlM7XHJcbiAgICAgICAgICAgICAgICB2YXIgZm9udENoYXJXaWR0aCA9IGZvbnRTaXplICogZm9udFNpemVSYXRpbztcclxuICAgICAgICAgICAgICAgIGZvbnRMZXR0ZXJTcGFjaW5nID0gZ3JpZFNsb3RXaWR0aCAtIGZvbnRDaGFyV2lkdGg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBXaGVuIHRoZSBhdmFpbGFibGUgc3BhY2UgaXMgbm90IHdpZGUgZW5vdWdoLCB0ZXh0cyB3b3VsZCB2ZXJ0aWNhbGx5IG92ZXJsYXAgaWYgd2UgdGFrZVxyXG4gICAgICAgICAgICAgICAgLy8gdGhlIGhlaWdodCBhcyBhIGJhc2UgZm9yIHRoZSBmb250IHNpemUsIHNvIHdlIG5lZWQgdG8gbGltaXQgdGhlIGhlaWdodC4gV2UgZG8gdGhhdFxyXG4gICAgICAgICAgICAgICAgLy8gYnkgZGV0ZXJtaW5pbmcgdGhlIGZvbnQgc2l6ZSBieSB0aGUgd2lkdGggb2YgdGhlIGF2YWlsYWJsZSBzcGFjZS5cclxuICAgICAgICAgICAgICAgIGZvbnRTaXplID0gc3VidGl0bGVPdmVybGF5V2lkdGggLyBTdWJ0aXRsZU92ZXJsYXkuQ0VBNjA4X05VTV9DT0xVTU5TIC8gZm9udFNpemVSYXRpbztcclxuICAgICAgICAgICAgICAgIGZvbnRMZXR0ZXJTcGFjaW5nID0gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBVcGRhdGUgZm9udC1zaXplIG9mIGFsbCBhY3RpdmUgc3VidGl0bGUgbGFiZWxzXHJcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSBfdGhpcy5nZXRDb21wb25lbnRzKCk7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbGFiZWwgPSBfYVtfaV07XHJcbiAgICAgICAgICAgICAgICBpZiAobGFiZWwgaW5zdGFuY2VvZiBTdWJ0aXRsZUxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWwuZ2V0RG9tRWxlbWVudCgpLmNzcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdmb250LXNpemUnOiBmb250U2l6ZSArIFwicHhcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ2xldHRlci1zcGFjaW5nJzogZm9udExldHRlclNwYWNpbmcgKyBcInB4XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1BMQVlFUl9SRVNJWkUsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKGVuYWJsZWQpIHtcclxuICAgICAgICAgICAgICAgIHVwZGF0ZUNFQTYwOEZvbnRTaXplKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBmb250U2l6ZUNhbGN1bGF0aW9uUmVxdWlyZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5wcmVwcm9jZXNzTGFiZWxFdmVudENhbGxiYWNrLnN1YnNjcmliZShmdW5jdGlvbiAoZXZlbnQsIGxhYmVsKSB7XHJcbiAgICAgICAgICAgIHZhciBpc0NFQTYwOCA9IGV2ZW50LnBvc2l0aW9uICE9IG51bGw7XHJcbiAgICAgICAgICAgIGlmICghaXNDRUE2MDgpIHtcclxuICAgICAgICAgICAgICAgIC8vIFNraXAgYWxsIG5vbi1DRUE2MDggY3Vlc1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICghZW5hYmxlZCkge1xyXG4gICAgICAgICAgICAgICAgZW5hYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5nZXREb21FbGVtZW50KCkuYWRkQ2xhc3MoX3RoaXMucHJlZml4Q3NzKFN1YnRpdGxlT3ZlcmxheS5DTEFTU19DRUFfNjA4KSk7XHJcbiAgICAgICAgICAgICAgICAvLyBXZSBjb25kaXRpb25hbGx5IHVwZGF0ZSB0aGUgZm9udCBzaXplIGJ5IHRoaXMgZmxhZyBoZXJlIHRvIGF2b2lkIHVwZGF0aW5nIGV2ZXJ5IHRpbWUgYSBzdWJ0aXRsZVxyXG4gICAgICAgICAgICAgICAgLy8gaXMgYWRkZWQgaW50byBhbiBlbXB0eSBvdmVybGF5LiBCZWNhdXNlIHdlIHJlc2V0IHRoZSBvdmVybGF5IHdoZW4gYWxsIHN1YnRpdGxlcyBhcmUgZ29uZSwgdGhpc1xyXG4gICAgICAgICAgICAgICAgLy8gd291bGQgdHJpZ2dlciBhbiB1bm5lY2Vzc2FyeSB1cGRhdGUgZXZlcnkgdGltZSwgYnV0IGl0J3Mgb25seSByZXF1aXJlZCB1bmRlciBjZXJ0YWluIGNvbmRpdGlvbnMsXHJcbiAgICAgICAgICAgICAgICAvLyBlLmcuIGFmdGVyIHRoZSBwbGF5ZXIgc2l6ZSBoYXMgY2hhbmdlZC5cclxuICAgICAgICAgICAgICAgIGlmIChmb250U2l6ZUNhbGN1bGF0aW9uUmVxdWlyZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVDRUE2MDhGb250U2l6ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvbnRTaXplQ2FsY3VsYXRpb25SZXF1aXJlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxhYmVsLmdldERvbUVsZW1lbnQoKS5jc3Moe1xyXG4gICAgICAgICAgICAgICAgJ2xlZnQnOiBldmVudC5wb3NpdGlvbi5jb2x1bW4gKiBTdWJ0aXRsZU92ZXJsYXkuQ0VBNjA4X0NPTFVNTl9PRkZTRVQgKyBcIiVcIixcclxuICAgICAgICAgICAgICAgICd0b3AnOiBldmVudC5wb3NpdGlvbi5yb3cgKiBTdWJ0aXRsZU92ZXJsYXkuQ0VBNjA4X1JPV19PRkZTRVQgKyBcIiVcIixcclxuICAgICAgICAgICAgICAgICdmb250LXNpemUnOiBmb250U2l6ZSArIFwicHhcIixcclxuICAgICAgICAgICAgICAgICdsZXR0ZXItc3BhY2luZyc6IGZvbnRMZXR0ZXJTcGFjaW5nICsgXCJweFwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB2YXIgcmVzZXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIF90aGlzLmdldERvbUVsZW1lbnQoKS5yZW1vdmVDbGFzcyhfdGhpcy5wcmVmaXhDc3MoU3VidGl0bGVPdmVybGF5LkNMQVNTX0NFQV82MDgpKTtcclxuICAgICAgICAgICAgZW5hYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fQ1VFX0VYSVQsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKCFfdGhpcy5zdWJ0aXRsZU1hbmFnZXIuaGFzQ3Vlcykge1xyXG4gICAgICAgICAgICAgICAgLy8gRGlzYWJsZSBDRUEtNjA4IG1vZGUgd2hlbiBhbGwgc3VidGl0bGVzIGFyZSBnb25lICh0byBhbGxvdyBjb3JyZWN0IGZvcm1hdHRpbmcgYW5kXHJcbiAgICAgICAgICAgICAgICAvLyBkaXNwbGF5IG9mIG90aGVyIHR5cGVzIG9mIHN1YnRpdGxlcywgZS5nLiB0aGUgZm9ybWF0dGluZyBwcmV2aWV3IHN1YnRpdGxlKVxyXG4gICAgICAgICAgICAgICAgcmVzZXQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1NPVVJDRV9VTkxPQURFRCwgcmVzZXQpO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1NVQlRJVExFX0NIQU5HRUQsIHJlc2V0KTtcclxuICAgIH07XHJcbiAgICBTdWJ0aXRsZU92ZXJsYXkucHJvdG90eXBlLmVuYWJsZVByZXZpZXdTdWJ0aXRsZUxhYmVsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMucHJldmlld1N1YnRpdGxlQWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICBpZiAoIXRoaXMuc3VidGl0bGVNYW5hZ2VyLmhhc0N1ZXMpIHtcclxuICAgICAgICAgICAgdGhpcy5hZGRDb21wb25lbnQodGhpcy5wcmV2aWV3U3VidGl0bGUpO1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUNvbXBvbmVudHMoKTtcclxuICAgICAgICAgICAgdGhpcy5zaG93KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFN1YnRpdGxlT3ZlcmxheS5wcm90b3R5cGUucmVtb3ZlUHJldmlld1N1YnRpdGxlTGFiZWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5wcmV2aWV3U3VidGl0bGVBY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnJlbW92ZUNvbXBvbmVudCh0aGlzLnByZXZpZXdTdWJ0aXRsZSk7XHJcbiAgICAgICAgdGhpcy51cGRhdGVDb21wb25lbnRzKCk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFN1YnRpdGxlT3ZlcmxheTtcclxufShjb250YWluZXJfMS5Db250YWluZXIpKTtcclxuU3VidGl0bGVPdmVybGF5LkNMQVNTX0NPTlRST0xCQVJfVklTSUJMRSA9ICdjb250cm9sYmFyLXZpc2libGUnO1xyXG5TdWJ0aXRsZU92ZXJsYXkuQ0xBU1NfQ0VBXzYwOCA9ICdjZWE2MDgnO1xyXG4vLyBUaGUgbnVtYmVyIG9mIHJvd3MgaW4gYSBjZWE2MDggZ3JpZFxyXG5TdWJ0aXRsZU92ZXJsYXkuQ0VBNjA4X05VTV9ST1dTID0gMTU7XHJcbi8vIFRoZSBudW1iZXIgb2YgY29sdW1ucyBpbiBhIGNlYTYwOCBncmlkXHJcblN1YnRpdGxlT3ZlcmxheS5DRUE2MDhfTlVNX0NPTFVNTlMgPSAzMjtcclxuLy8gVGhlIG9mZnNldCBpbiBwZXJjZW50IGZvciBvbmUgcm93ICh3aGljaCBpcyBhbHNvIHRoZSBoZWlnaHQgb2YgYSByb3cpXHJcblN1YnRpdGxlT3ZlcmxheS5DRUE2MDhfUk9XX09GRlNFVCA9IDEwMCAvIFN1YnRpdGxlT3ZlcmxheS5DRUE2MDhfTlVNX1JPV1M7XHJcbi8vIFRoZSBvZmZzZXQgaW4gcGVyY2VudCBmb3Igb25lIGNvbHVtbiAod2hpY2ggaXMgYWxzbyB0aGUgd2lkdGggb2YgYSBjb2x1bW4pXHJcblN1YnRpdGxlT3ZlcmxheS5DRUE2MDhfQ09MVU1OX09GRlNFVCA9IDEwMCAvIFN1YnRpdGxlT3ZlcmxheS5DRUE2MDhfTlVNX0NPTFVNTlM7XHJcbmV4cG9ydHMuU3VidGl0bGVPdmVybGF5ID0gU3VidGl0bGVPdmVybGF5O1xyXG52YXIgU3VidGl0bGVMYWJlbCA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoU3VidGl0bGVMYWJlbCwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIFN1YnRpdGxlTGFiZWwoY29uZmlnKSB7XHJcbiAgICAgICAgaWYgKGNvbmZpZyA9PT0gdm9pZCAwKSB7IGNvbmZpZyA9IHt9OyB9XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgY29uZmlnKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLmNvbmZpZyA9IF90aGlzLm1lcmdlQ29uZmlnKGNvbmZpZywge1xyXG4gICAgICAgICAgICBjc3NDbGFzczogJ3VpLXN1YnRpdGxlLWxhYmVsJyxcclxuICAgICAgICB9LCBfdGhpcy5jb25maWcpO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIHJldHVybiBTdWJ0aXRsZUxhYmVsO1xyXG59KGxhYmVsXzEuTGFiZWwpKTtcclxudmFyIEFjdGl2ZVN1YnRpdGxlTWFuYWdlciA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBBY3RpdmVTdWJ0aXRsZU1hbmFnZXIoKSB7XHJcbiAgICAgICAgdGhpcy5hY3RpdmVTdWJ0aXRsZUN1ZU1hcCA9IHt9O1xyXG4gICAgICAgIHRoaXMuYWN0aXZlU3VidGl0bGVDdWVDb3VudCA9IDA7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENhbGN1bGF0ZXMgYSB1bmlxdWUgSUQgZm9yIGEgc3VidGl0bGUgY3VlLCB3aGljaCBpcyBuZWVkZWQgdG8gYXNzb2NpYXRlIGFuIE9OX0NVRV9FTlRFUiB3aXRoIGl0cyBPTl9DVUVfRVhJVFxyXG4gICAgICogZXZlbnQgc28gd2UgY2FuIHJlbW92ZSB0aGUgY29ycmVjdCBzdWJ0aXRsZSBpbiBPTl9DVUVfRVhJVCB3aGVuIG11bHRpcGxlIHN1YnRpdGxlcyBhcmUgYWN0aXZlIGF0IHRoZSBzYW1lIHRpbWUuXHJcbiAgICAgKiBUaGUgc3RhcnQgdGltZSBwbHVzIHRoZSB0ZXh0IHNob3VsZCBtYWtlIGEgdW5pcXVlIGlkZW50aWZpZXIsIGFuZCBpbiB0aGUgb25seSBjYXNlIHdoZXJlIGEgY29sbGlzaW9uXHJcbiAgICAgKiBjYW4gaGFwcGVuLCB0d28gc2ltaWxhciB0ZXh0cyB3aWxsIGJlIGRpc3BsYXllZCBhdCBhIHNpbWlsYXIgdGltZSBhbmQgYSBzaW1pbGFyIHBvc2l0aW9uIChvciB3aXRob3V0IHBvc2l0aW9uKS5cclxuICAgICAqIFRoZSBzdGFydCB0aW1lIHNob3VsZCBhbHdheXMgYmUga25vd24sIGJlY2F1c2UgaXQgaXMgcmVxdWlyZWQgdG8gc2NoZWR1bGUgdGhlIE9OX0NVRV9FTlRFUiBldmVudC4gVGhlIGVuZCB0aW1lXHJcbiAgICAgKiBtdXN0IG5vdCBuZWNlc3NhcmlseSBiZSBrbm93biBhbmQgdGhlcmVmb3JlIGNhbm5vdCBiZSB1c2VkIGZvciB0aGUgSUQuXHJcbiAgICAgKiBAcGFyYW0gZXZlbnRcclxuICAgICAqIEByZXR1cm4ge3N0cmluZ31cclxuICAgICAqL1xyXG4gICAgQWN0aXZlU3VidGl0bGVNYW5hZ2VyLmNhbGN1bGF0ZUlkID0gZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgdmFyIGlkID0gZXZlbnQuc3RhcnQgKyAnLScgKyBldmVudC50ZXh0O1xyXG4gICAgICAgIGlmIChldmVudC5wb3NpdGlvbikge1xyXG4gICAgICAgICAgICBpZCArPSAnLScgKyBldmVudC5wb3NpdGlvbi5yb3cgKyAnLScgKyBldmVudC5wb3NpdGlvbi5jb2x1bW47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBpZDtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEFkZHMgYSBzdWJ0aXRsZSBjdWUgdG8gdGhlIG1hbmFnZXIgYW5kIHJldHVybnMgdGhlIGxhYmVsIHRoYXQgc2hvdWxkIGJlIGFkZGVkIHRvIHRoZSBzdWJ0aXRsZSBvdmVybGF5LlxyXG4gICAgICogQHBhcmFtIGV2ZW50XHJcbiAgICAgKiBAcmV0dXJuIHtTdWJ0aXRsZUxhYmVsfVxyXG4gICAgICovXHJcbiAgICBBY3RpdmVTdWJ0aXRsZU1hbmFnZXIucHJvdG90eXBlLmN1ZUVudGVyID0gZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgdmFyIGlkID0gQWN0aXZlU3VidGl0bGVNYW5hZ2VyLmNhbGN1bGF0ZUlkKGV2ZW50KTtcclxuICAgICAgICB2YXIgbGFiZWwgPSBuZXcgU3VidGl0bGVMYWJlbCh7XHJcbiAgICAgICAgICAgIC8vIFByZWZlciB0aGUgSFRNTCBzdWJ0aXRsZSB0ZXh0IGlmIHNldCwgZWxzZSB1c2UgdGhlIHBsYWluIHRleHRcclxuICAgICAgICAgICAgdGV4dDogZXZlbnQuaHRtbCB8fCBldmVudC50ZXh0LFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIENyZWF0ZSBhcnJheSBmb3IgaWQgaWYgaXQgZG9lcyBub3QgZXhpc3RcclxuICAgICAgICB0aGlzLmFjdGl2ZVN1YnRpdGxlQ3VlTWFwW2lkXSA9IHRoaXMuYWN0aXZlU3VidGl0bGVDdWVNYXBbaWRdIHx8IFtdO1xyXG4gICAgICAgIC8vIEFkZCBjdWVcclxuICAgICAgICB0aGlzLmFjdGl2ZVN1YnRpdGxlQ3VlTWFwW2lkXS5wdXNoKHsgZXZlbnQ6IGV2ZW50LCBsYWJlbDogbGFiZWwgfSk7XHJcbiAgICAgICAgdGhpcy5hY3RpdmVTdWJ0aXRsZUN1ZUNvdW50Kys7XHJcbiAgICAgICAgcmV0dXJuIGxhYmVsO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0aGUgbGFiZWwgYXNzb2NpYXRlZCB3aXRoIGFuIGFscmVhZHkgYWRkZWQgY3VlLlxyXG4gICAgICogQHBhcmFtIGV2ZW50XHJcbiAgICAgKiBAcmV0dXJuIHtTdWJ0aXRsZUxhYmVsfVxyXG4gICAgICovXHJcbiAgICBBY3RpdmVTdWJ0aXRsZU1hbmFnZXIucHJvdG90eXBlLmdldEN1ZXMgPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICB2YXIgaWQgPSBBY3RpdmVTdWJ0aXRsZU1hbmFnZXIuY2FsY3VsYXRlSWQoZXZlbnQpO1xyXG4gICAgICAgIHZhciBhY3RpdmVTdWJ0aXRsZUN1ZXMgPSB0aGlzLmFjdGl2ZVN1YnRpdGxlQ3VlTWFwW2lkXTtcclxuICAgICAgICBpZiAoYWN0aXZlU3VidGl0bGVDdWVzICYmIGFjdGl2ZVN1YnRpdGxlQ3Vlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBhY3RpdmVTdWJ0aXRsZUN1ZXMubWFwKGZ1bmN0aW9uIChjdWUpIHsgcmV0dXJuIGN1ZS5sYWJlbDsgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZW1vdmVzIHRoZSBzdWJ0aXRsZSBjdWUgZnJvbSB0aGUgbWFuYWdlciBhbmQgcmV0dXJucyB0aGUgbGFiZWwgdGhhdCBzaG91bGQgYmUgcmVtb3ZlZCBmcm9tIHRoZSBzdWJ0aXRsZSBvdmVybGF5LFxyXG4gICAgICogb3IgbnVsbCBpZiB0aGVyZSBpcyBubyBhc3NvY2lhdGVkIGxhYmVsIGV4aXN0aW5nIChlLmcuIGJlY2F1c2UgYWxsIGxhYmVscyBoYXZlIGJlZW4ge0BsaW5rICNjbGVhciBjbGVhcmVkfS5cclxuICAgICAqIEBwYXJhbSBldmVudFxyXG4gICAgICogQHJldHVybiB7U3VidGl0bGVMYWJlbHxudWxsfVxyXG4gICAgICovXHJcbiAgICBBY3RpdmVTdWJ0aXRsZU1hbmFnZXIucHJvdG90eXBlLmN1ZUV4aXQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICB2YXIgaWQgPSBBY3RpdmVTdWJ0aXRsZU1hbmFnZXIuY2FsY3VsYXRlSWQoZXZlbnQpO1xyXG4gICAgICAgIHZhciBhY3RpdmVTdWJ0aXRsZUN1ZXMgPSB0aGlzLmFjdGl2ZVN1YnRpdGxlQ3VlTWFwW2lkXTtcclxuICAgICAgICBpZiAoYWN0aXZlU3VidGl0bGVDdWVzICYmIGFjdGl2ZVN1YnRpdGxlQ3Vlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIC8vIFJlbW92ZSBjdWVcclxuICAgICAgICAgICAgLyogV2UgYXBwbHkgdGhlIEZJRk8gYXBwcm9hY2ggaGVyZSBhbmQgcmVtb3ZlIHRoZSBvbGRlc3QgY3VlIGZyb20gdGhlIGFzc29jaWF0ZWQgaWQuIFdoZW4gdGhlcmUgYXJlIG11bHRpcGxlIGN1ZXNcclxuICAgICAgICAgICAgICogd2l0aCB0aGUgc2FtZSBpZCwgdGhlcmUgaXMgbm8gd2F5IHRvIGtub3cgd2hpY2ggb25lIG9mIHRoZSBjdWVzIGlzIHRvIGJlIGRlbGV0ZWQsIHNvIHdlIGp1c3QgaG9wZSB0aGF0IEZJRk9cclxuICAgICAgICAgICAgICogd29ya3MgZmluZS4gVGhlb3JldGljYWxseSBpdCBjYW4gaGFwcGVuIHRoYXQgdHdvIGN1ZXMgd2l0aCBjb2xsaWRpbmcgaWRzIGFyZSByZW1vdmVkIGF0IGRpZmZlcmVudCB0aW1lcywgaW5cclxuICAgICAgICAgICAgICogdGhlIHdyb25nIG9yZGVyLiBUaGlzIHJhcmUgY2FzZSBoYXMgeWV0IHRvIGJlIG9ic2VydmVkLiBJZiBpdCBldmVyIGdldHMgYW4gaXNzdWUsIHdlIGNhbiB0YWtlIHRoZSB1bnN0YWJsZVxyXG4gICAgICAgICAgICAgKiBjdWUgZW5kIHRpbWUgKHdoaWNoIGNhbiBjaGFuZ2UgYmV0d2VlbiBPTl9DVUVfRU5URVIgYW5kIE9OX0NVRV9FWElUIElOIE9OX0NVRV9VUERBVEUpIGFuZCB1c2UgaXQgYXMgYW5cclxuICAgICAgICAgICAgICogYWRkaXRpb25hbCBoaW50IHRvIHRyeSBhbmQgcmVtb3ZlIHRoZSBjb3JyZWN0IG9uZSBvZiB0aGUgY29sbGlkaW5nIGN1ZXMuXHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICB2YXIgYWN0aXZlU3VidGl0bGVDdWUgPSBhY3RpdmVTdWJ0aXRsZUN1ZXMuc2hpZnQoKTtcclxuICAgICAgICAgICAgdGhpcy5hY3RpdmVTdWJ0aXRsZUN1ZUNvdW50LS07XHJcbiAgICAgICAgICAgIHJldHVybiBhY3RpdmVTdWJ0aXRsZUN1ZS5sYWJlbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQWN0aXZlU3VidGl0bGVNYW5hZ2VyLnByb3RvdHlwZSwgXCJjdWVDb3VudFwiLCB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogUmV0dXJucyB0aGUgbnVtYmVyIG9mIGFjdGl2ZSBzdWJ0aXRsZSBjdWVzLlxyXG4gICAgICAgICAqIEByZXR1cm4ge251bWJlcn1cclxuICAgICAgICAgKi9cclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgLy8gV2UgZXhwbGljaXRseSBjb3VudCB0aGUgY3VlcyB0byBzYXZlIGFuIEFycmF5LnJlZHVjZSBvbiBldmVyeSBjdWVDb3VudCBjYWxsICh3aGljaCBjYW4gaGFwcGVuIGZyZXF1ZW50bHkpXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmFjdGl2ZVN1YnRpdGxlQ3VlQ291bnQ7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQWN0aXZlU3VidGl0bGVNYW5hZ2VyLnByb3RvdHlwZSwgXCJoYXNDdWVzXCIsIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlcmUgYXJlIGFjdGl2ZSBzdWJ0aXRsZSBjdWVzLCBlbHNlIGZhbHNlLlxyXG4gICAgICAgICAqIEByZXR1cm4ge2Jvb2xlYW59XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmN1ZUNvdW50ID4gMDtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIC8qKlxyXG4gICAgICogUmVtb3ZlcyBhbGwgc3VidGl0bGUgY3VlcyBmcm9tIHRoZSBtYW5hZ2VyLlxyXG4gICAgICovXHJcbiAgICBBY3RpdmVTdWJ0aXRsZU1hbmFnZXIucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuYWN0aXZlU3VidGl0bGVDdWVNYXAgPSB7fTtcclxuICAgICAgICB0aGlzLmFjdGl2ZVN1YnRpdGxlQ3VlQ291bnQgPSAwO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBBY3RpdmVTdWJ0aXRsZU1hbmFnZXI7XHJcbn0oKSk7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9zdWJ0aXRsZW92ZXJsYXkudHNcbi8vIG1vZHVsZSBpZCA9IDUyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgdG9nZ2xlYnV0dG9uXzEgPSByZXF1aXJlKFwiLi90b2dnbGVidXR0b25cIik7XHJcbi8qKlxyXG4gKiBBIGJ1dHRvbiB0aGF0IHRvZ2dsZXMgY2FzdGluZyB0byBhIENhc3QgcmVjZWl2ZXIuXHJcbiAqL1xyXG52YXIgQ2FzdFRvZ2dsZUJ1dHRvbiA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoQ2FzdFRvZ2dsZUJ1dHRvbiwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIENhc3RUb2dnbGVCdXR0b24oY29uZmlnKSB7XHJcbiAgICAgICAgaWYgKGNvbmZpZyA9PT0gdm9pZCAwKSB7IGNvbmZpZyA9IHt9OyB9XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgY29uZmlnKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLmNvbmZpZyA9IF90aGlzLm1lcmdlQ29uZmlnKGNvbmZpZywge1xyXG4gICAgICAgICAgICBjc3NDbGFzczogJ3VpLWNhc3R0b2dnbGVidXR0b24nLFxyXG4gICAgICAgICAgICB0ZXh0OiAnR29vZ2xlIENhc3QnLFxyXG4gICAgICAgIH0sIF90aGlzLmNvbmZpZyk7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgQ2FzdFRvZ2dsZUJ1dHRvbi5wcm90b3R5cGUuY29uZmlndXJlID0gZnVuY3Rpb24gKHBsYXllciwgdWltYW5hZ2VyKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmNvbmZpZ3VyZS5jYWxsKHRoaXMsIHBsYXllciwgdWltYW5hZ2VyKTtcclxuICAgICAgICB0aGlzLm9uQ2xpY2suc3Vic2NyaWJlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKHBsYXllci5pc0Nhc3RBdmFpbGFibGUoKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHBsYXllci5pc0Nhc3RpbmcoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBsYXllci5jYXN0U3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyLmNhc3RWaWRlbygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvbnNvbGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnQ2FzdCB1bmF2YWlsYWJsZScpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdmFyIGNhc3RBdmFpbGFibGVIYW5kZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChwbGF5ZXIuaXNDYXN0QXZhaWxhYmxlKCkpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLnNob3coKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLmhpZGUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fQ0FTVF9BVkFJTEFCTEUsIGNhc3RBdmFpbGFibGVIYW5kZXIpO1xyXG4gICAgICAgIC8vIFRvZ2dsZSBidXR0b24gJ29uJyBzdGF0ZVxyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX0NBU1RfV0FJVElOR19GT1JfREVWSUNFLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIF90aGlzLm9uKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fQ0FTVF9TVEFSVEVELCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIC8vIFdoZW4gYSBzZXNzaW9uIGlzIHJlc3VtZWQsIHRoZXJlIGlzIG5vIE9OX0NBU1RfU1RBUlQgZXZlbnQsIHNvIHdlIGFsc28gbmVlZCB0byB0b2dnbGUgaGVyZSBmb3Igc3VjaCBjYXNlc1xyXG4gICAgICAgICAgICBfdGhpcy5vbigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX0NBU1RfU1RPUFBFRCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBfdGhpcy5vZmYoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBTdGFydHVwIGluaXRcclxuICAgICAgICBjYXN0QXZhaWxhYmxlSGFuZGVyKCk7IC8vIEhpZGUgYnV0dG9uIGlmIENhc3Qgbm90IGF2YWlsYWJsZVxyXG4gICAgICAgIGlmIChwbGF5ZXIuaXNDYXN0aW5nKCkpIHtcclxuICAgICAgICAgICAgdGhpcy5vbigpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICByZXR1cm4gQ2FzdFRvZ2dsZUJ1dHRvbjtcclxufSh0b2dnbGVidXR0b25fMS5Ub2dnbGVCdXR0b24pKTtcclxuZXhwb3J0cy5DYXN0VG9nZ2xlQnV0dG9uID0gQ2FzdFRvZ2dsZUJ1dHRvbjtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL2Nhc3R0b2dnbGVidXR0b24udHNcbi8vIG1vZHVsZSBpZCA9IDUzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgY29udGFpbmVyXzEgPSByZXF1aXJlKFwiLi9jb250YWluZXJcIik7XHJcbnZhciBsYWJlbF8xID0gcmVxdWlyZShcIi4vbGFiZWxcIik7XHJcbi8qKlxyXG4gKiBPdmVybGF5cyB0aGUgcGxheWVyIGFuZCBkaXNwbGF5cyB0aGUgc3RhdHVzIG9mIGEgQ2FzdCBzZXNzaW9uLlxyXG4gKi9cclxudmFyIENhc3RTdGF0dXNPdmVybGF5ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhDYXN0U3RhdHVzT3ZlcmxheSwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIENhc3RTdGF0dXNPdmVybGF5KGNvbmZpZykge1xyXG4gICAgICAgIGlmIChjb25maWcgPT09IHZvaWQgMCkgeyBjb25maWcgPSB7fTsgfVxyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGNvbmZpZykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5zdGF0dXNMYWJlbCA9IG5ldyBsYWJlbF8xLkxhYmVsKHsgY3NzQ2xhc3M6ICd1aS1jYXN0LXN0YXR1cy1sYWJlbCcgfSk7XHJcbiAgICAgICAgX3RoaXMuY29uZmlnID0gX3RoaXMubWVyZ2VDb25maWcoY29uZmlnLCB7XHJcbiAgICAgICAgICAgIGNzc0NsYXNzOiAndWktY2FzdC1zdGF0dXMtb3ZlcmxheScsXHJcbiAgICAgICAgICAgIGNvbXBvbmVudHM6IFtfdGhpcy5zdGF0dXNMYWJlbF0sXHJcbiAgICAgICAgICAgIGhpZGRlbjogdHJ1ZSxcclxuICAgICAgICB9LCBfdGhpcy5jb25maWcpO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIENhc3RTdGF0dXNPdmVybGF5LnByb3RvdHlwZS5jb25maWd1cmUgPSBmdW5jdGlvbiAocGxheWVyLCB1aW1hbmFnZXIpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuY29uZmlndXJlLmNhbGwodGhpcywgcGxheWVyLCB1aW1hbmFnZXIpO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX0NBU1RfV0FJVElOR19GT1JfREVWSUNFLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgX3RoaXMuc2hvdygpO1xyXG4gICAgICAgICAgICAvLyBHZXQgZGV2aWNlIG5hbWUgYW5kIHVwZGF0ZSBzdGF0dXMgdGV4dCB3aGlsZSBjb25uZWN0aW5nXHJcbiAgICAgICAgICAgIHZhciBjYXN0RGV2aWNlTmFtZSA9IGV2ZW50LmNhc3RQYXlsb2FkLmRldmljZU5hbWU7XHJcbiAgICAgICAgICAgIF90aGlzLnN0YXR1c0xhYmVsLnNldFRleHQoXCJDb25uZWN0aW5nIHRvIDxzdHJvbmc+XCIgKyBjYXN0RGV2aWNlTmFtZSArIFwiPC9zdHJvbmc+Li4uXCIpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX0NBU1RfU1RBUlRFRCwgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIC8vIFNlc3Npb24gaXMgc3RhcnRlZCBvciByZXN1bWVkXHJcbiAgICAgICAgICAgIC8vIEZvciBjYXNlcyB3aGVuIGEgc2Vzc2lvbiBpcyByZXN1bWVkLCB3ZSBkbyBub3QgcmVjZWl2ZSB0aGUgcHJldmlvdXMgZXZlbnRzIGFuZCB0aGVyZWZvcmUgc2hvdyB0aGUgc3RhdHVzIHBhbmVsXHJcbiAgICAgICAgICAgIC8vIGhlcmUgdG9vXHJcbiAgICAgICAgICAgIF90aGlzLnNob3coKTtcclxuICAgICAgICAgICAgdmFyIGNhc3REZXZpY2VOYW1lID0gZXZlbnQuZGV2aWNlTmFtZTtcclxuICAgICAgICAgICAgX3RoaXMuc3RhdHVzTGFiZWwuc2V0VGV4dChcIlBsYXlpbmcgb24gPHN0cm9uZz5cIiArIGNhc3REZXZpY2VOYW1lICsgXCI8L3N0cm9uZz5cIik7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fQ0FTVF9TVE9QUEVELCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgLy8gQ2FzdCBzZXNzaW9uIGdvbmUsIGhpZGUgdGhlIHN0YXR1cyBwYW5lbFxyXG4gICAgICAgICAgICBfdGhpcy5oaWRlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIENhc3RTdGF0dXNPdmVybGF5O1xyXG59KGNvbnRhaW5lcl8xLkNvbnRhaW5lcikpO1xyXG5leHBvcnRzLkNhc3RTdGF0dXNPdmVybGF5ID0gQ2FzdFN0YXR1c092ZXJsYXk7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9jYXN0c3RhdHVzb3ZlcmxheS50c1xuLy8gbW9kdWxlIGlkID0gNTRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBjb250YWluZXJfMSA9IHJlcXVpcmUoXCIuL2NvbnRhaW5lclwiKTtcclxudmFyIGxhYmVsXzEgPSByZXF1aXJlKFwiLi9sYWJlbFwiKTtcclxudmFyIHR2bm9pc2VjYW52YXNfMSA9IHJlcXVpcmUoXCIuL3R2bm9pc2VjYW52YXNcIik7XHJcbi8qKlxyXG4gKiBPdmVybGF5cyB0aGUgcGxheWVyIGFuZCBkaXNwbGF5cyBlcnJvciBtZXNzYWdlcy5cclxuICovXHJcbnZhciBFcnJvck1lc3NhZ2VPdmVybGF5ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhFcnJvck1lc3NhZ2VPdmVybGF5LCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gRXJyb3JNZXNzYWdlT3ZlcmxheShjb25maWcpIHtcclxuICAgICAgICBpZiAoY29uZmlnID09PSB2b2lkIDApIHsgY29uZmlnID0ge307IH1cclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBjb25maWcpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMuZXJyb3JMYWJlbCA9IG5ldyBsYWJlbF8xLkxhYmVsKHsgY3NzQ2xhc3M6ICd1aS1lcnJvcm1lc3NhZ2UtbGFiZWwnIH0pO1xyXG4gICAgICAgIF90aGlzLnR2Tm9pc2VCYWNrZ3JvdW5kID0gbmV3IHR2bm9pc2VjYW52YXNfMS5Udk5vaXNlQ2FudmFzKCk7XHJcbiAgICAgICAgX3RoaXMuY29uZmlnID0gX3RoaXMubWVyZ2VDb25maWcoY29uZmlnLCB7XHJcbiAgICAgICAgICAgIGNzc0NsYXNzOiAndWktZXJyb3JtZXNzYWdlLW92ZXJsYXknLFxyXG4gICAgICAgICAgICBjb21wb25lbnRzOiBbX3RoaXMudHZOb2lzZUJhY2tncm91bmQsIF90aGlzLmVycm9yTGFiZWxdLFxyXG4gICAgICAgICAgICBoaWRkZW46IHRydWUsXHJcbiAgICAgICAgfSwgX3RoaXMuY29uZmlnKTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBFcnJvck1lc3NhZ2VPdmVybGF5LnByb3RvdHlwZS5jb25maWd1cmUgPSBmdW5jdGlvbiAocGxheWVyLCB1aW1hbmFnZXIpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuY29uZmlndXJlLmNhbGwodGhpcywgcGxheWVyLCB1aW1hbmFnZXIpO1xyXG4gICAgICAgIHZhciBjb25maWcgPSB0aGlzLmdldENvbmZpZygpO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX0VSUk9SLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgdmFyIG1lc3NhZ2UgPSBldmVudC5tZXNzYWdlO1xyXG4gICAgICAgICAgICAvLyBQcm9jZXNzIG1lc3NhZ2UgdHJhbnNsYXRpb25zXHJcbiAgICAgICAgICAgIGlmIChjb25maWcubWVzc2FnZXMpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY29uZmlnLm1lc3NhZ2VzID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gVHJhbnNsYXRpb24gZnVuY3Rpb24gZm9yIGFsbCBlcnJvcnNcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gY29uZmlnLm1lc3NhZ2VzKGV2ZW50KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNvbmZpZy5tZXNzYWdlc1tldmVudC5jb2RlXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIEl0J3Mgbm90IGEgdHJhbnNsYXRpb24gZnVuY3Rpb24sIHNvIGl0IG11c3QgYmUgYSBtYXAgb2Ygc3RyaW5ncyBvciB0cmFuc2xhdGlvbiBmdW5jdGlvbnNcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY3VzdG9tTWVzc2FnZSA9IGNvbmZpZy5tZXNzYWdlc1tldmVudC5jb2RlXTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGN1c3RvbU1lc3NhZ2UgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBjdXN0b21NZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIG1lc3NhZ2UgaXMgYSB0cmFuc2xhdGlvbiBmdW5jdGlvbiwgc28gd2UgY2FsbCBpdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gY3VzdG9tTWVzc2FnZShldmVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIF90aGlzLmVycm9yTGFiZWwuc2V0VGV4dChtZXNzYWdlKTtcclxuICAgICAgICAgICAgX3RoaXMudHZOb2lzZUJhY2tncm91bmQuc3RhcnQoKTtcclxuICAgICAgICAgICAgX3RoaXMuc2hvdygpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1NPVVJDRV9MT0FERUQsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICBpZiAoX3RoaXMuaXNTaG93bigpKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy50dk5vaXNlQmFja2dyb3VuZC5zdG9wKCk7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5oaWRlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBFcnJvck1lc3NhZ2VPdmVybGF5LnByb3RvdHlwZS5yZWxlYXNlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUucmVsZWFzZS5jYWxsKHRoaXMpO1xyXG4gICAgICAgIC8vIENhbnZhcyByZW5kZXJpbmcgbXVzdCBiZSBleHBsaWNpdGx5IHN0b3BwZWQsIGVsc2UgaXQganVzdCBjb250aW51ZXMgZm9yZXZlciBhbmQgaG9ncyByZXNvdXJjZXNcclxuICAgICAgICB0aGlzLnR2Tm9pc2VCYWNrZ3JvdW5kLnN0b3AoKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gRXJyb3JNZXNzYWdlT3ZlcmxheTtcclxufShjb250YWluZXJfMS5Db250YWluZXIpKTtcclxuZXhwb3J0cy5FcnJvck1lc3NhZ2VPdmVybGF5ID0gRXJyb3JNZXNzYWdlT3ZlcmxheTtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL2Vycm9ybWVzc2FnZW92ZXJsYXkudHNcbi8vIG1vZHVsZSBpZCA9IDU1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgY29udGFpbmVyXzEgPSByZXF1aXJlKFwiLi9jb250YWluZXJcIik7XHJcbnZhciBtZXRhZGF0YWxhYmVsXzEgPSByZXF1aXJlKFwiLi9tZXRhZGF0YWxhYmVsXCIpO1xyXG4vKipcclxuICogRGlzcGxheXMgYSB0aXRsZSBiYXIgY29udGFpbmluZyBhIGxhYmVsIHdpdGggdGhlIHRpdGxlIG9mIHRoZSB2aWRlby5cclxuICovXHJcbnZhciBUaXRsZUJhciA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoVGl0bGVCYXIsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBUaXRsZUJhcihjb25maWcpIHtcclxuICAgICAgICBpZiAoY29uZmlnID09PSB2b2lkIDApIHsgY29uZmlnID0ge307IH1cclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBjb25maWcpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMuY29uZmlnID0gX3RoaXMubWVyZ2VDb25maWcoY29uZmlnLCB7XHJcbiAgICAgICAgICAgIGNzc0NsYXNzOiAndWktdGl0bGViYXInLFxyXG4gICAgICAgICAgICBoaWRkZW46IHRydWUsXHJcbiAgICAgICAgICAgIGNvbXBvbmVudHM6IFtcclxuICAgICAgICAgICAgICAgIG5ldyBtZXRhZGF0YWxhYmVsXzEuTWV0YWRhdGFMYWJlbCh7IGNvbnRlbnQ6IG1ldGFkYXRhbGFiZWxfMS5NZXRhZGF0YUxhYmVsQ29udGVudC5UaXRsZSB9KSxcclxuICAgICAgICAgICAgICAgIG5ldyBtZXRhZGF0YWxhYmVsXzEuTWV0YWRhdGFMYWJlbCh7IGNvbnRlbnQ6IG1ldGFkYXRhbGFiZWxfMS5NZXRhZGF0YUxhYmVsQ29udGVudC5EZXNjcmlwdGlvbiB9KSxcclxuICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAga2VlcEhpZGRlbldpdGhvdXRNZXRhZGF0YTogZmFsc2UsXHJcbiAgICAgICAgfSwgX3RoaXMuY29uZmlnKTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBUaXRsZUJhci5wcm90b3R5cGUuY29uZmlndXJlID0gZnVuY3Rpb24gKHBsYXllciwgdWltYW5hZ2VyKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmNvbmZpZ3VyZS5jYWxsKHRoaXMsIHBsYXllciwgdWltYW5hZ2VyKTtcclxuICAgICAgICB2YXIgY29uZmlnID0gdGhpcy5nZXRDb25maWcoKTtcclxuICAgICAgICB2YXIgc2hvdWxkQmVTaG93biA9ICF0aGlzLmlzSGlkZGVuKCk7XHJcbiAgICAgICAgdmFyIGhhc01ldGFkYXRhVGV4dCA9IHRydWU7IC8vIEZsYWcgdG8gdHJhY2sgaWYgYW55IG1ldGFkYXRhIGxhYmVsIGNvbnRhaW5zIHRleHRcclxuICAgICAgICB2YXIgY2hlY2tNZXRhZGF0YVRleHRBbmRVcGRhdGVWaXNpYmlsaXR5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBoYXNNZXRhZGF0YVRleHQgPSBmYWxzZTtcclxuICAgICAgICAgICAgLy8gSXRlcmF0ZSB0aHJvdWdoIG1ldGFkYXRhIGxhYmVscyBhbmQgY2hlY2sgaWYgYXQgbGVhc3Qgb25lIG9mIHRoZW0gY29udGFpbnMgdGV4dFxyXG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gX3RoaXMuZ2V0Q29tcG9uZW50cygpOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNvbXBvbmVudCA9IF9hW19pXTtcclxuICAgICAgICAgICAgICAgIGlmIChjb21wb25lbnQgaW5zdGFuY2VvZiBtZXRhZGF0YWxhYmVsXzEuTWV0YWRhdGFMYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghY29tcG9uZW50LmlzRW1wdHkoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBoYXNNZXRhZGF0YVRleHQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKF90aGlzLmlzU2hvd24oKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gSGlkZSBhIHZpc2libGUgdGl0bGViYXIgaWYgaXQgZG9lcyBub3QgY29udGFpbiBhbnkgdGV4dCBhbmQgdGhlIGhpZGRlbiBmbGFnIGlzIHNldFxyXG4gICAgICAgICAgICAgICAgaWYgKGNvbmZpZy5rZWVwSGlkZGVuV2l0aG91dE1ldGFkYXRhICYmICFoYXNNZXRhZGF0YVRleHQpIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoc2hvdWxkQmVTaG93bikge1xyXG4gICAgICAgICAgICAgICAgLy8gU2hvdyBhIGhpZGRlbiB0aXRsZWJhciBpZiBpdCBzaG91bGQgYWN0dWFsbHkgYmUgc2hvd25cclxuICAgICAgICAgICAgICAgIF90aGlzLnNob3coKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgLy8gTGlzdGVuIHRvIHRleHQgY2hhbmdlIGV2ZW50cyB0byB1cGRhdGUgdGhlIGhhc01ldGFkYXRhVGV4dCBmbGFnIHdoZW4gdGhlIG1ldGFkYXRhIGR5bmFtaWNhbGx5IGNoYW5nZXNcclxuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gdGhpcy5nZXRDb21wb25lbnRzKCk7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBjb21wb25lbnQgPSBfYVtfaV07XHJcbiAgICAgICAgICAgIGlmIChjb21wb25lbnQgaW5zdGFuY2VvZiBtZXRhZGF0YWxhYmVsXzEuTWV0YWRhdGFMYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgY29tcG9uZW50Lm9uVGV4dENoYW5nZWQuc3Vic2NyaWJlKGNoZWNrTWV0YWRhdGFUZXh0QW5kVXBkYXRlVmlzaWJpbGl0eSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdWltYW5hZ2VyLm9uQ29udHJvbHNTaG93LnN1YnNjcmliZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHNob3VsZEJlU2hvd24gPSB0cnVlO1xyXG4gICAgICAgICAgICBpZiAoIShjb25maWcua2VlcEhpZGRlbldpdGhvdXRNZXRhZGF0YSAmJiAhaGFzTWV0YWRhdGFUZXh0KSkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuc2hvdygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdWltYW5hZ2VyLm9uQ29udHJvbHNIaWRlLnN1YnNjcmliZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHNob3VsZEJlU2hvd24gPSBmYWxzZTtcclxuICAgICAgICAgICAgX3RoaXMuaGlkZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIGluaXRcclxuICAgICAgICBjaGVja01ldGFkYXRhVGV4dEFuZFVwZGF0ZVZpc2liaWxpdHkoKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gVGl0bGVCYXI7XHJcbn0oY29udGFpbmVyXzEuQ29udGFpbmVyKSk7XHJcbmV4cG9ydHMuVGl0bGVCYXIgPSBUaXRsZUJhcjtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3RpdGxlYmFyLnRzXG4vLyBtb2R1bGUgaWQgPSA1NlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGNvbnRhaW5lcl8xID0gcmVxdWlyZShcIi4vY29udGFpbmVyXCIpO1xyXG52YXIgY29tcG9uZW50XzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRcIik7XHJcbnZhciBkb21fMSA9IHJlcXVpcmUoXCIuLi9kb21cIik7XHJcbnZhciBzdHJpbmd1dGlsc18xID0gcmVxdWlyZShcIi4uL3N0cmluZ3V0aWxzXCIpO1xyXG52YXIgaHVnZXJlcGxheWJ1dHRvbl8xID0gcmVxdWlyZShcIi4vaHVnZXJlcGxheWJ1dHRvblwiKTtcclxuLyoqXHJcbiAqIE92ZXJsYXlzIHRoZSBwbGF5ZXIgYW5kIGRpc3BsYXlzIHJlY29tbWVuZGVkIHZpZGVvcy5cclxuICovXHJcbnZhciBSZWNvbW1lbmRhdGlvbk92ZXJsYXkgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKFJlY29tbWVuZGF0aW9uT3ZlcmxheSwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIFJlY29tbWVuZGF0aW9uT3ZlcmxheShjb25maWcpIHtcclxuICAgICAgICBpZiAoY29uZmlnID09PSB2b2lkIDApIHsgY29uZmlnID0ge307IH1cclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBjb25maWcpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMucmVwbGF5QnV0dG9uID0gbmV3IGh1Z2VyZXBsYXlidXR0b25fMS5IdWdlUmVwbGF5QnV0dG9uKCk7XHJcbiAgICAgICAgX3RoaXMuY29uZmlnID0gX3RoaXMubWVyZ2VDb25maWcoY29uZmlnLCB7XHJcbiAgICAgICAgICAgIGNzc0NsYXNzOiAndWktcmVjb21tZW5kYXRpb24tb3ZlcmxheScsXHJcbiAgICAgICAgICAgIGhpZGRlbjogdHJ1ZSxcclxuICAgICAgICAgICAgY29tcG9uZW50czogW190aGlzLnJlcGxheUJ1dHRvbl0sXHJcbiAgICAgICAgfSwgX3RoaXMuY29uZmlnKTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBSZWNvbW1lbmRhdGlvbk92ZXJsYXkucHJvdG90eXBlLmNvbmZpZ3VyZSA9IGZ1bmN0aW9uIChwbGF5ZXIsIHVpbWFuYWdlcikge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5jb25maWd1cmUuY2FsbCh0aGlzLCBwbGF5ZXIsIHVpbWFuYWdlcik7XHJcbiAgICAgICAgdmFyIGNsZWFyUmVjb21tZW5kYXRpb25zID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gX3RoaXMuZ2V0Q29tcG9uZW50cygpLnNsaWNlKCk7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY29tcG9uZW50ID0gX2FbX2ldO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvbXBvbmVudCBpbnN0YW5jZW9mIFJlY29tbWVuZGF0aW9uSXRlbSkge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnJlbW92ZUNvbXBvbmVudChjb21wb25lbnQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIF90aGlzLnVwZGF0ZUNvbXBvbmVudHMoKTtcclxuICAgICAgICAgICAgX3RoaXMuZ2V0RG9tRWxlbWVudCgpLnJlbW92ZUNsYXNzKF90aGlzLnByZWZpeENzcygncmVjb21tZW5kYXRpb25zJykpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdmFyIHNldHVwUmVjb21tZW5kYXRpb25zID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBjbGVhclJlY29tbWVuZGF0aW9ucygpO1xyXG4gICAgICAgICAgICB2YXIgcmVjb21tZW5kYXRpb25zID0gdWltYW5hZ2VyLmdldENvbmZpZygpLnJlY29tbWVuZGF0aW9ucztcclxuICAgICAgICAgICAgaWYgKHJlY29tbWVuZGF0aW9ucy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSAxO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCByZWNvbW1lbmRhdGlvbnNfMSA9IHJlY29tbWVuZGF0aW9uczsgX2kgPCByZWNvbW1lbmRhdGlvbnNfMS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaXRlbSA9IHJlY29tbWVuZGF0aW9uc18xW19pXTtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5hZGRDb21wb25lbnQobmV3IFJlY29tbWVuZGF0aW9uSXRlbSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1Db25maWc6IGl0ZW0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNzc0NsYXNzZXM6IFsncmVjb21tZW5kYXRpb24taXRlbS0nICsgKGluZGV4KyspXSxcclxuICAgICAgICAgICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBfdGhpcy51cGRhdGVDb21wb25lbnRzKCk7IC8vIGNyZWF0ZSBjb250YWluZXIgRE9NIGVsZW1lbnRzXHJcbiAgICAgICAgICAgICAgICBfdGhpcy5nZXREb21FbGVtZW50KCkuYWRkQ2xhc3MoX3RoaXMucHJlZml4Q3NzKCdyZWNvbW1lbmRhdGlvbnMnKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIC8vIEFkZCByZWNvbW1lbmRhdGlvbiB3aGVuIGEgc291cmNlIGlzIGxvYWRlZFxyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1JFQURZLCBzZXR1cFJlY29tbWVuZGF0aW9ucyk7XHJcbiAgICAgICAgLy8gUmVtb3ZlIHJlY29tbWVuZGF0aW9ucyBhbmQgaGlkZSBvdmVybGF5IHdoZW4gc291cmNlIGlzIHVubG9hZGVkXHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fU09VUkNFX1VOTE9BREVELCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNsZWFyUmVjb21tZW5kYXRpb25zKCk7XHJcbiAgICAgICAgICAgIF90aGlzLmhpZGUoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBEaXNwbGF5IHJlY29tbWVuZGF0aW9ucyB3aGVuIHBsYXliYWNrIGhhcyBmaW5pc2hlZFxyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1BMQVlCQUNLX0ZJTklTSEVELCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIC8vIERpc21pc3MgT05fUExBWUJBQ0tfRklOSVNIRUQgZXZlbnRzIGF0IHRoZSBlbmQgb2YgYWRzXHJcbiAgICAgICAgICAgIC8vIFRPRE8gcmVtb3ZlIHRoaXMgd29ya2Fyb3VuZCBvbmNlIGlzc3VlICMxMjc4IGlzIHNvbHZlZFxyXG4gICAgICAgICAgICBpZiAocGxheWVyLmlzQWQoKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIF90aGlzLnNob3coKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBIaWRlIHJlY29tbWVuZGF0aW9ucyB3aGVuIHBsYXliYWNrIHN0YXJ0cywgZS5nLiBhIHJlc3RhcnRcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9QTEFZLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIF90aGlzLmhpZGUoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBJbml0IG9uIHN0YXJ0dXBcclxuICAgICAgICBzZXR1cFJlY29tbWVuZGF0aW9ucygpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBSZWNvbW1lbmRhdGlvbk92ZXJsYXk7XHJcbn0oY29udGFpbmVyXzEuQ29udGFpbmVyKSk7XHJcbmV4cG9ydHMuUmVjb21tZW5kYXRpb25PdmVybGF5ID0gUmVjb21tZW5kYXRpb25PdmVybGF5O1xyXG4vKipcclxuICogQW4gaXRlbSBvZiB0aGUge0BsaW5rIFJlY29tbWVuZGF0aW9uT3ZlcmxheX0uIFVzZWQgb25seSBpbnRlcm5hbGx5IGluIHtAbGluayBSZWNvbW1lbmRhdGlvbk92ZXJsYXl9LlxyXG4gKi9cclxudmFyIFJlY29tbWVuZGF0aW9uSXRlbSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoUmVjb21tZW5kYXRpb25JdGVtLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gUmVjb21tZW5kYXRpb25JdGVtKGNvbmZpZykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGNvbmZpZykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5jb25maWcgPSBfdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIHtcclxuICAgICAgICAgICAgY3NzQ2xhc3M6ICd1aS1yZWNvbW1lbmRhdGlvbi1pdGVtJyxcclxuICAgICAgICAgICAgaXRlbUNvbmZpZzogbnVsbCxcclxuICAgICAgICB9LCBfdGhpcy5jb25maWcpO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIFJlY29tbWVuZGF0aW9uSXRlbS5wcm90b3R5cGUudG9Eb21FbGVtZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBjb25maWcgPSB0aGlzLmNvbmZpZy5pdGVtQ29uZmlnOyAvLyBUT0RPIGZpeCBnZW5lcmljcyBhbmQgZ2V0IHJpZCBvZiBjYXN0XHJcbiAgICAgICAgdmFyIGl0ZW1FbGVtZW50ID0gbmV3IGRvbV8xLkRPTSgnYScsIHtcclxuICAgICAgICAgICAgJ2lkJzogdGhpcy5jb25maWcuaWQsXHJcbiAgICAgICAgICAgICdjbGFzcyc6IHRoaXMuZ2V0Q3NzQ2xhc3NlcygpLFxyXG4gICAgICAgICAgICAnaHJlZic6IGNvbmZpZy51cmwsXHJcbiAgICAgICAgfSkuY3NzKHsgJ2JhY2tncm91bmQtaW1hZ2UnOiBcInVybChcIiArIGNvbmZpZy50aHVtYm5haWwgKyBcIilcIiB9KTtcclxuICAgICAgICB2YXIgYmdFbGVtZW50ID0gbmV3IGRvbV8xLkRPTSgnZGl2Jywge1xyXG4gICAgICAgICAgICAnY2xhc3MnOiB0aGlzLnByZWZpeENzcygnYmFja2dyb3VuZCcpLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGl0ZW1FbGVtZW50LmFwcGVuZChiZ0VsZW1lbnQpO1xyXG4gICAgICAgIHZhciB0aXRsZUVsZW1lbnQgPSBuZXcgZG9tXzEuRE9NKCdzcGFuJywge1xyXG4gICAgICAgICAgICAnY2xhc3MnOiB0aGlzLnByZWZpeENzcygndGl0bGUnKSxcclxuICAgICAgICB9KS5hcHBlbmQobmV3IGRvbV8xLkRPTSgnc3BhbicsIHtcclxuICAgICAgICAgICAgJ2NsYXNzJzogdGhpcy5wcmVmaXhDc3MoJ2lubmVydGl0bGUnKSxcclxuICAgICAgICB9KS5odG1sKGNvbmZpZy50aXRsZSkpO1xyXG4gICAgICAgIGl0ZW1FbGVtZW50LmFwcGVuZCh0aXRsZUVsZW1lbnQpO1xyXG4gICAgICAgIHZhciB0aW1lRWxlbWVudCA9IG5ldyBkb21fMS5ET00oJ3NwYW4nLCB7XHJcbiAgICAgICAgICAgICdjbGFzcyc6IHRoaXMucHJlZml4Q3NzKCdkdXJhdGlvbicpLFxyXG4gICAgICAgIH0pLmFwcGVuZChuZXcgZG9tXzEuRE9NKCdzcGFuJywge1xyXG4gICAgICAgICAgICAnY2xhc3MnOiB0aGlzLnByZWZpeENzcygnaW5uZXJkdXJhdGlvbicpLFxyXG4gICAgICAgIH0pLmh0bWwoY29uZmlnLmR1cmF0aW9uID8gc3RyaW5ndXRpbHNfMS5TdHJpbmdVdGlscy5zZWNvbmRzVG9UaW1lKGNvbmZpZy5kdXJhdGlvbikgOiAnJykpO1xyXG4gICAgICAgIGl0ZW1FbGVtZW50LmFwcGVuZCh0aW1lRWxlbWVudCk7XHJcbiAgICAgICAgcmV0dXJuIGl0ZW1FbGVtZW50O1xyXG4gICAgfTtcclxuICAgIHJldHVybiBSZWNvbW1lbmRhdGlvbkl0ZW07XHJcbn0oY29tcG9uZW50XzEuQ29tcG9uZW50KSk7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9yZWNvbW1lbmRhdGlvbm92ZXJsYXkudHNcbi8vIG1vZHVsZSBpZCA9IDU3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgYnV0dG9uXzEgPSByZXF1aXJlKFwiLi9idXR0b25cIik7XHJcbnZhciBkb21fMSA9IHJlcXVpcmUoXCIuLi9kb21cIik7XHJcbi8qKlxyXG4gKiBBIGJ1dHRvbiB0byBwbGF5L3JlcGxheSBhIHZpZGVvLlxyXG4gKi9cclxudmFyIEh1Z2VSZXBsYXlCdXR0b24gPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKEh1Z2VSZXBsYXlCdXR0b24sIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBIdWdlUmVwbGF5QnV0dG9uKGNvbmZpZykge1xyXG4gICAgICAgIGlmIChjb25maWcgPT09IHZvaWQgMCkgeyBjb25maWcgPSB7fTsgfVxyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGNvbmZpZykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5jb25maWcgPSBfdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIHtcclxuICAgICAgICAgICAgY3NzQ2xhc3M6ICd1aS1odWdlcmVwbGF5YnV0dG9uJyxcclxuICAgICAgICAgICAgdGV4dDogJ1JlcGxheScsXHJcbiAgICAgICAgfSwgX3RoaXMuY29uZmlnKTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBIdWdlUmVwbGF5QnV0dG9uLnByb3RvdHlwZS5jb25maWd1cmUgPSBmdW5jdGlvbiAocGxheWVyLCB1aW1hbmFnZXIpIHtcclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmNvbmZpZ3VyZS5jYWxsKHRoaXMsIHBsYXllciwgdWltYW5hZ2VyKTtcclxuICAgICAgICB0aGlzLm9uQ2xpY2suc3Vic2NyaWJlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcGxheWVyLnBsYXkoJ3VpJyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgSHVnZVJlcGxheUJ1dHRvbi5wcm90b3R5cGUudG9Eb21FbGVtZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBidXR0b25FbGVtZW50ID0gX3N1cGVyLnByb3RvdHlwZS50b0RvbUVsZW1lbnQuY2FsbCh0aGlzKTtcclxuICAgICAgICAvLyBBZGQgY2hpbGQgdGhhdCBjb250YWlucyB0aGUgcGxheSBidXR0b24gaW1hZ2VcclxuICAgICAgICAvLyBTZXR0aW5nIHRoZSBpbWFnZSBkaXJlY3RseSBvbiB0aGUgYnV0dG9uIGRvZXMgbm90IHdvcmsgdG9nZXRoZXIgd2l0aCBzY2FsaW5nIGFuaW1hdGlvbnMsIGJlY2F1c2UgdGhlIGJ1dHRvblxyXG4gICAgICAgIC8vIGNhbiBjb3ZlciB0aGUgd2hvbGUgdmlkZW8gcGxheWVyIGFyZSBhbmQgc2NhbGluZyB3b3VsZCBleHRlbmQgaXQgYmV5b25kLiBCeSBhZGRpbmcgYW4gaW5uZXIgZWxlbWVudCwgY29uZmluZWRcclxuICAgICAgICAvLyB0byB0aGUgc2l6ZSBpZiB0aGUgaW1hZ2UsIGl0IGNhbiBzY2FsZSBpbnNpZGUgdGhlIHBsYXllciB3aXRob3V0IG92ZXJzaG9vdGluZy5cclxuICAgICAgICBidXR0b25FbGVtZW50LmFwcGVuZChuZXcgZG9tXzEuRE9NKCdkaXYnLCB7XHJcbiAgICAgICAgICAgICdjbGFzcyc6IHRoaXMucHJlZml4Q3NzKCdpbWFnZScpLFxyXG4gICAgICAgIH0pKTtcclxuICAgICAgICByZXR1cm4gYnV0dG9uRWxlbWVudDtcclxuICAgIH07XHJcbiAgICByZXR1cm4gSHVnZVJlcGxheUJ1dHRvbjtcclxufShidXR0b25fMS5CdXR0b24pKTtcclxuZXhwb3J0cy5IdWdlUmVwbGF5QnV0dG9uID0gSHVnZVJlcGxheUJ1dHRvbjtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL2h1Z2VyZXBsYXlidXR0b24udHNcbi8vIG1vZHVsZSBpZCA9IDU4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgc2VsZWN0Ym94XzEgPSByZXF1aXJlKFwiLi9zZWxlY3Rib3hcIik7XHJcbi8qKlxyXG4gKiBBIHNlbGVjdCBib3ggcHJvdmlkaW5nIGEgc2VsZWN0aW9uIG9mIGRpZmZlcmVudCBwbGF5YmFjayBzcGVlZHMuXHJcbiAqL1xyXG52YXIgUGxheWJhY2tTcGVlZFNlbGVjdEJveCA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoUGxheWJhY2tTcGVlZFNlbGVjdEJveCwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIFBsYXliYWNrU3BlZWRTZWxlY3RCb3goY29uZmlnKSB7XHJcbiAgICAgICAgaWYgKGNvbmZpZyA9PT0gdm9pZCAwKSB7IGNvbmZpZyA9IHt9OyB9XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgY29uZmlnKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLmRlZmF1bHRQbGF5YmFja1NwZWVkcyA9IFswLjI1LCAwLjUsIDEsIDEuNSwgMl07XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgUGxheWJhY2tTcGVlZFNlbGVjdEJveC5wcm90b3R5cGUuY29uZmlndXJlID0gZnVuY3Rpb24gKHBsYXllciwgdWltYW5hZ2VyKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmNvbmZpZ3VyZS5jYWxsKHRoaXMsIHBsYXllciwgdWltYW5hZ2VyKTtcclxuICAgICAgICB0aGlzLmFkZERlZmF1bHRJdGVtcygpO1xyXG4gICAgICAgIHRoaXMub25JdGVtU2VsZWN0ZWQuc3Vic2NyaWJlKGZ1bmN0aW9uIChzZW5kZXIsIHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHBsYXllci5zZXRQbGF5YmFja1NwZWVkKHBhcnNlRmxvYXQodmFsdWUpKTtcclxuICAgICAgICAgICAgX3RoaXMuc2VsZWN0SXRlbSh2YWx1ZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdmFyIHNldERlZmF1bHRWYWx1ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIHBsYXliYWNrU3BlZWQgPSBwbGF5ZXIuZ2V0UGxheWJhY2tTcGVlZCgpO1xyXG4gICAgICAgICAgICBfdGhpcy5zZXRTcGVlZChwbGF5YmFja1NwZWVkKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIC8vIHdoZW4gdGhlIHBsYXllciBoaXRzIG9uUmVhZHkgYWdhaW4sIGFkanVzdCB0aGUgcGxheWJhY2sgc3BlZWQgc2VsZWN0aW9uXHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fUkVBRFksIHNldERlZmF1bHRWYWx1ZSk7XHJcbiAgICAgICAgaWYgKHBsYXllci5FVkVOVC5PTl9QTEFZQkFDS19TUEVFRF9DSEFOR0VEKSB7XHJcbiAgICAgICAgICAgIC8vIFNpbmNlIHBsYXllciA3LjguMFxyXG4gICAgICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9QTEFZQkFDS19TUEVFRF9DSEFOR0VELCBzZXREZWZhdWx0VmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBQbGF5YmFja1NwZWVkU2VsZWN0Qm94LnByb3RvdHlwZS5zZXRTcGVlZCA9IGZ1bmN0aW9uIChzcGVlZCkge1xyXG4gICAgICAgIGlmICghdGhpcy5zZWxlY3RJdGVtKFN0cmluZyhzcGVlZCkpKSB7XHJcbiAgICAgICAgICAgIC8vIGEgcGxheWJhY2sgc3BlZWQgd2FzIHNldCB3aGljaCBpcyBub3QgaW4gdGhlIGxpc3QsIGFkZCBpdCB0byB0aGUgbGlzdCB0byBzaG93IGl0IHRvIHRoZSB1c2VyXHJcbiAgICAgICAgICAgIHRoaXMuY2xlYXJJdGVtcygpO1xyXG4gICAgICAgICAgICB0aGlzLmFkZERlZmF1bHRJdGVtcyhbc3BlZWRdKTtcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RJdGVtKFN0cmluZyhzcGVlZCkpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBQbGF5YmFja1NwZWVkU2VsZWN0Qm94LnByb3RvdHlwZS5hZGREZWZhdWx0SXRlbXMgPSBmdW5jdGlvbiAoY3VzdG9tSXRlbXMpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIGlmIChjdXN0b21JdGVtcyA9PT0gdm9pZCAwKSB7IGN1c3RvbUl0ZW1zID0gW107IH1cclxuICAgICAgICB2YXIgc29ydGVkU3BlZWRzID0gdGhpcy5kZWZhdWx0UGxheWJhY2tTcGVlZHMuY29uY2F0KGN1c3RvbUl0ZW1zKS5zb3J0KCk7XHJcbiAgICAgICAgc29ydGVkU3BlZWRzLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHtcclxuICAgICAgICAgICAgaWYgKGVsZW1lbnQgIT09IDEpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLmFkZEl0ZW0oU3RyaW5nKGVsZW1lbnQpLCBlbGVtZW50ICsgXCJ4XCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuYWRkSXRlbShTdHJpbmcoZWxlbWVudCksICdOb3JtYWwnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIFBsYXliYWNrU3BlZWRTZWxlY3RCb3gucHJvdG90eXBlLmNsZWFySXRlbXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5pdGVtcyA9IFtdO1xyXG4gICAgICAgIHRoaXMuc2VsZWN0ZWRJdGVtID0gbnVsbDtcclxuICAgIH07XHJcbiAgICByZXR1cm4gUGxheWJhY2tTcGVlZFNlbGVjdEJveDtcclxufShzZWxlY3Rib3hfMS5TZWxlY3RCb3gpKTtcclxuZXhwb3J0cy5QbGF5YmFja1NwZWVkU2VsZWN0Qm94ID0gUGxheWJhY2tTcGVlZFNlbGVjdEJveDtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3BsYXliYWNrc3BlZWRzZWxlY3Rib3gudHNcbi8vIG1vZHVsZSBpZCA9IDU5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgY29udGFpbmVyXzEgPSByZXF1aXJlKFwiLi9jb250YWluZXJcIik7XHJcbnZhciBjb21wb25lbnRfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudFwiKTtcclxudmFyIHRpbWVvdXRfMSA9IHJlcXVpcmUoXCIuLi90aW1lb3V0XCIpO1xyXG4vKipcclxuICogT3ZlcmxheXMgdGhlIHBsYXllciBhbmQgZGlzcGxheXMgYSBidWZmZXJpbmcgaW5kaWNhdG9yLlxyXG4gKi9cclxudmFyIEJ1ZmZlcmluZ092ZXJsYXkgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKEJ1ZmZlcmluZ092ZXJsYXksIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBCdWZmZXJpbmdPdmVybGF5KGNvbmZpZykge1xyXG4gICAgICAgIGlmIChjb25maWcgPT09IHZvaWQgMCkgeyBjb25maWcgPSB7fTsgfVxyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGNvbmZpZykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5pbmRpY2F0b3JzID0gW1xyXG4gICAgICAgICAgICBuZXcgY29tcG9uZW50XzEuQ29tcG9uZW50KHsgdGFnOiAnZGl2JywgY3NzQ2xhc3M6ICd1aS1idWZmZXJpbmctb3ZlcmxheS1pbmRpY2F0b3InIH0pLFxyXG4gICAgICAgICAgICBuZXcgY29tcG9uZW50XzEuQ29tcG9uZW50KHsgdGFnOiAnZGl2JywgY3NzQ2xhc3M6ICd1aS1idWZmZXJpbmctb3ZlcmxheS1pbmRpY2F0b3InIH0pLFxyXG4gICAgICAgICAgICBuZXcgY29tcG9uZW50XzEuQ29tcG9uZW50KHsgdGFnOiAnZGl2JywgY3NzQ2xhc3M6ICd1aS1idWZmZXJpbmctb3ZlcmxheS1pbmRpY2F0b3InIH0pLFxyXG4gICAgICAgIF07XHJcbiAgICAgICAgX3RoaXMuY29uZmlnID0gX3RoaXMubWVyZ2VDb25maWcoY29uZmlnLCB7XHJcbiAgICAgICAgICAgIGNzc0NsYXNzOiAndWktYnVmZmVyaW5nLW92ZXJsYXknLFxyXG4gICAgICAgICAgICBoaWRkZW46IHRydWUsXHJcbiAgICAgICAgICAgIGNvbXBvbmVudHM6IF90aGlzLmluZGljYXRvcnMsXHJcbiAgICAgICAgICAgIHNob3dEZWxheU1zOiAxMDAwLFxyXG4gICAgICAgIH0sIF90aGlzLmNvbmZpZyk7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgQnVmZmVyaW5nT3ZlcmxheS5wcm90b3R5cGUuY29uZmlndXJlID0gZnVuY3Rpb24gKHBsYXllciwgdWltYW5hZ2VyKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmNvbmZpZ3VyZS5jYWxsKHRoaXMsIHBsYXllciwgdWltYW5hZ2VyKTtcclxuICAgICAgICB2YXIgY29uZmlnID0gdGhpcy5nZXRDb25maWcoKTtcclxuICAgICAgICB2YXIgb3ZlcmxheVNob3dUaW1lb3V0ID0gbmV3IHRpbWVvdXRfMS5UaW1lb3V0KGNvbmZpZy5zaG93RGVsYXlNcywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBfdGhpcy5zaG93KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdmFyIHNob3dPdmVybGF5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBvdmVybGF5U2hvd1RpbWVvdXQuc3RhcnQoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciBoaWRlT3ZlcmxheSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgb3ZlcmxheVNob3dUaW1lb3V0LmNsZWFyKCk7XHJcbiAgICAgICAgICAgIF90aGlzLmhpZGUoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1NUQUxMX1NUQVJURUQsIHNob3dPdmVybGF5KTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9TVEFMTF9FTkRFRCwgaGlkZU92ZXJsYXkpO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1NPVVJDRV9VTkxPQURFRCwgaGlkZU92ZXJsYXkpO1xyXG4gICAgICAgIC8vIFNob3cgb3ZlcmxheSBpZiBwbGF5ZXIgaXMgYWxyZWFkeSBzdGFsbGVkIGF0IGluaXRcclxuICAgICAgICBpZiAocGxheWVyLmlzU3RhbGxlZCgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2hvdygpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICByZXR1cm4gQnVmZmVyaW5nT3ZlcmxheTtcclxufShjb250YWluZXJfMS5Db250YWluZXIpKTtcclxuZXhwb3J0cy5CdWZmZXJpbmdPdmVybGF5ID0gQnVmZmVyaW5nT3ZlcmxheTtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL2J1ZmZlcmluZ292ZXJsYXkudHNcbi8vIG1vZHVsZSBpZCA9IDYwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgY29udGFpbmVyXzEgPSByZXF1aXJlKFwiLi9jb250YWluZXJcIik7XHJcbnZhciBodWdlcGxheWJhY2t0b2dnbGVidXR0b25fMSA9IHJlcXVpcmUoXCIuL2h1Z2VwbGF5YmFja3RvZ2dsZWJ1dHRvblwiKTtcclxuLyoqXHJcbiAqIE92ZXJsYXlzIHRoZSBwbGF5ZXIgYW5kIGRpc3BsYXlzIGVycm9yIG1lc3NhZ2VzLlxyXG4gKi9cclxudmFyIFBsYXliYWNrVG9nZ2xlT3ZlcmxheSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoUGxheWJhY2tUb2dnbGVPdmVybGF5LCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gUGxheWJhY2tUb2dnbGVPdmVybGF5KGNvbmZpZykge1xyXG4gICAgICAgIGlmIChjb25maWcgPT09IHZvaWQgMCkgeyBjb25maWcgPSB7fTsgfVxyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGNvbmZpZykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5wbGF5YmFja1RvZ2dsZUJ1dHRvbiA9IG5ldyBodWdlcGxheWJhY2t0b2dnbGVidXR0b25fMS5IdWdlUGxheWJhY2tUb2dnbGVCdXR0b24oKTtcclxuICAgICAgICBfdGhpcy5jb25maWcgPSBfdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIHtcclxuICAgICAgICAgICAgY3NzQ2xhc3M6ICd1aS1wbGF5YmFja3RvZ2dsZS1vdmVybGF5JyxcclxuICAgICAgICAgICAgY29tcG9uZW50czogW190aGlzLnBsYXliYWNrVG9nZ2xlQnV0dG9uXSxcclxuICAgICAgICB9LCBfdGhpcy5jb25maWcpO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIHJldHVybiBQbGF5YmFja1RvZ2dsZU92ZXJsYXk7XHJcbn0oY29udGFpbmVyXzEuQ29udGFpbmVyKSk7XHJcbmV4cG9ydHMuUGxheWJhY2tUb2dnbGVPdmVybGF5ID0gUGxheWJhY2tUb2dnbGVPdmVybGF5O1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvcGxheWJhY2t0b2dnbGVvdmVybGF5LnRzXG4vLyBtb2R1bGUgaWQgPSA2MVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIHBsYXliYWNrdG9nZ2xlYnV0dG9uXzEgPSByZXF1aXJlKFwiLi9wbGF5YmFja3RvZ2dsZWJ1dHRvblwiKTtcclxudmFyIGRvbV8xID0gcmVxdWlyZShcIi4uL2RvbVwiKTtcclxuLyoqXHJcbiAqIEEgYnV0dG9uIHRoYXQgb3ZlcmxheXMgdGhlIHZpZGVvIGFuZCB0b2dnbGVzIGJldHdlZW4gcGxheWJhY2sgYW5kIHBhdXNlLlxyXG4gKi9cclxudmFyIEh1Z2VQbGF5YmFja1RvZ2dsZUJ1dHRvbiA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoSHVnZVBsYXliYWNrVG9nZ2xlQnV0dG9uLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gSHVnZVBsYXliYWNrVG9nZ2xlQnV0dG9uKGNvbmZpZykge1xyXG4gICAgICAgIGlmIChjb25maWcgPT09IHZvaWQgMCkgeyBjb25maWcgPSB7fTsgfVxyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGNvbmZpZykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5jb25maWcgPSBfdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIHtcclxuICAgICAgICAgICAgY3NzQ2xhc3M6ICd1aS1odWdlcGxheWJhY2t0b2dnbGVidXR0b24nLFxyXG4gICAgICAgICAgICB0ZXh0OiAnUGxheS9QYXVzZScsXHJcbiAgICAgICAgfSwgX3RoaXMuY29uZmlnKTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBIdWdlUGxheWJhY2tUb2dnbGVCdXR0b24ucHJvdG90eXBlLmNvbmZpZ3VyZSA9IGZ1bmN0aW9uIChwbGF5ZXIsIHVpbWFuYWdlcikge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgLy8gVXBkYXRlIGJ1dHRvbiBzdGF0ZSB0aHJvdWdoIEFQSSBldmVudHNcclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmNvbmZpZ3VyZS5jYWxsKHRoaXMsIHBsYXllciwgdWltYW5hZ2VyLCBmYWxzZSk7XHJcbiAgICAgICAgdmFyIHRvZ2dsZVBsYXliYWNrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAocGxheWVyLmlzUGxheWluZygpKSB7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXIucGF1c2UoJ3VpJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXIucGxheSgndWknKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdmFyIHRvZ2dsZUZ1bGxzY3JlZW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChwbGF5ZXIuaXNGdWxsc2NyZWVuKCkpIHtcclxuICAgICAgICAgICAgICAgIHBsYXllci5leGl0RnVsbHNjcmVlbigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcGxheWVyLmVudGVyRnVsbHNjcmVlbigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICB2YXIgZmlyc3RQbGF5ID0gdHJ1ZTtcclxuICAgICAgICB2YXIgY2xpY2tUaW1lID0gMDtcclxuICAgICAgICB2YXIgZG91YmxlQ2xpY2tUaW1lID0gMDtcclxuICAgICAgICAvKlxyXG4gICAgICAgICAqIFlvdVR1YmUtc3R5bGUgdG9nZ2xlIGJ1dHRvbiBoYW5kbGluZ1xyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogVGhlIGdvYWwgaXMgdG8gcHJldmVudCBhIHNob3J0IHBhdXNlIG9yIHBsYXliYWNrIGludGVydmFsIGJldHdlZW4gYSBjbGljaywgdGhhdCB0b2dnbGVzIHBsYXliYWNrLCBhbmQgYVxyXG4gICAgICAgICAqIGRvdWJsZSBjbGljaywgdGhhdCB0b2dnbGVzIGZ1bGxzY3JlZW4uIEluIHRoaXMgbmFpdmUgYXBwcm9hY2gsIHRoZSBmaXJzdCBjbGljayB3b3VsZCBlLmcuIHN0YXJ0IHBsYXliYWNrLFxyXG4gICAgICAgICAqIHRoZSBzZWNvbmQgY2xpY2sgd291bGQgYmUgZGV0ZWN0ZWQgYXMgZG91YmxlIGNsaWNrIGFuZCB0b2dnbGUgdG8gZnVsbHNjcmVlbiwgYW5kIGFzIHNlY29uZCBub3JtYWwgY2xpY2sgc3RvcFxyXG4gICAgICAgICAqIHBsYXliYWNrLCB3aGljaCByZXN1bHRzIGlzIGEgc2hvcnQgcGxheWJhY2sgaW50ZXJ2YWwgd2l0aCBtYXggbGVuZ3RoIG9mIHRoZSBkb3VibGUgY2xpY2sgZGV0ZWN0aW9uXHJcbiAgICAgICAgICogcGVyaW9kICh1c3VhbGx5IDUwMG1zKS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIFRvIHNvbHZlIHRoaXMgaXNzdWUsIHdlIGRlZmVyIGhhbmRsaW5nIG9mIHRoZSBmaXJzdCBjbGljayBmb3IgMjAwbXMsIHdoaWNoIGlzIGFsbW9zdCB1bm5vdGljZWFibGUgdG8gdGhlIHVzZXIsXHJcbiAgICAgICAgICogYW5kIGp1c3QgdG9nZ2xlIHBsYXliYWNrIGlmIG5vIHNlY29uZCBjbGljayAoZG91YmxlIGNsaWNrKSBoYXMgYmVlbiByZWdpc3RlcmVkIGR1cmluZyB0aGlzIHBlcmlvZC4gSWYgYSBkb3VibGVcclxuICAgICAgICAgKiBjbGljayBpcyByZWdpc3RlcmVkLCB3ZSBqdXN0IHRvZ2dsZSB0aGUgZnVsbHNjcmVlbi4gSW4gdGhlIGZpcnN0IDIwMG1zLCB1bmRlc2lyZWQgcGxheWJhY2sgY2hhbmdlcyB0aHVzIGNhbm5vdFxyXG4gICAgICAgICAqIGhhcHBlbi4gSWYgYSBkb3VibGUgY2xpY2sgaXMgcmVnaXN0ZXJlZCB3aXRoaW4gNTAwbXMsIHdlIHVuZG8gdGhlIHBsYXliYWNrIGNoYW5nZSBhbmQgc3dpdGNoIGZ1bGxzY3JlZW4gbW9kZS5cclxuICAgICAgICAgKiBJbiB0aGUgZW5kLCB0aGlzIG1ldGhvZCBiYXNpY2FsbHkgaW50cm9kdWNlcyBhIDIwMG1zIG9ic2VydmluZyBpbnRlcnZhbCBpbiB3aGljaCBwbGF5YmFjayBjaGFuZ2VzIGFyZSBwcmV2ZW50ZWRcclxuICAgICAgICAgKiBpZiBhIGRvdWJsZSBjbGljayBoYXBwZW5zLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMub25DbGljay5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAvLyBEaXJlY3RseSBzdGFydCBwbGF5YmFjayBvbiBmaXJzdCBjbGljayBvZiB0aGUgYnV0dG9uLlxyXG4gICAgICAgICAgICAvLyBUaGlzIGlzIGEgcmVxdWlyZWQgd29ya2Fyb3VuZCBmb3IgbW9iaWxlIGJyb3dzZXJzIHdoZXJlIHZpZGVvIHBsYXliYWNrIG5lZWRzIHRvIGJlIHRyaWdnZXJlZCBkaXJlY3RseVxyXG4gICAgICAgICAgICAvLyBieSB0aGUgdXNlci4gQSBkZWZlcnJlZCBwbGF5YmFjayBzdGFydCB0aHJvdWdoIHRoZSB0aW1lb3V0IGJlbG93IGlzIG5vdCBjb25zaWRlcmVkIGFzIHVzZXIgYWN0aW9uIGFuZFxyXG4gICAgICAgICAgICAvLyB0aGVyZWZvcmUgaWdub3JlZCBieSBtb2JpbGUgYnJvd3NlcnMuXHJcbiAgICAgICAgICAgIGlmIChmaXJzdFBsYXkpIHtcclxuICAgICAgICAgICAgICAgIC8vIFRyeSB0byBzdGFydCBwbGF5YmFjay4gVGhlbiB3ZSB3YWl0IGZvciBPTl9QTEFZIGFuZCBvbmx5IHdoZW4gaXQgYXJyaXZlcywgd2UgZGlzYWJsZSB0aGUgZmlyc3RQbGF5IGZsYWcuXHJcbiAgICAgICAgICAgICAgICAvLyBJZiB3ZSBkaXNhYmxlIHRoZSBmbGFnIGhlcmUsIG9uQ2xpY2sgd2FzIHRyaWdnZXJlZCBwcm9ncmFtbWF0aWNhbGx5IGluc3RlYWQgb2YgYnkgYSB1c2VyIGludGVyYWN0aW9uLCBhbmRcclxuICAgICAgICAgICAgICAgIC8vIHBsYXliYWNrIGlzIGJsb2NrZWQgKGUuZy4gb24gbW9iaWxlIGRldmljZXMgZHVlIHRvIHRoZSBwcm9ncmFtbWF0aWMgcGxheSgpIGNhbGwpLCB3ZSBsb29zZSB0aGUgY2hhbmNlIHRvXHJcbiAgICAgICAgICAgICAgICAvLyBldmVyIHN0YXJ0IHBsYXliYWNrIHRocm91Z2ggYSB1c2VyIGludGVyYWN0aW9uIGFnYWluIHdpdGggdGhpcyBidXR0b24uXHJcbiAgICAgICAgICAgICAgICB0b2dnbGVQbGF5YmFjaygpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBub3cgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgICAgICBpZiAobm93IC0gY2xpY2tUaW1lIDwgMjAwKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBXZSBoYXZlIGEgZG91YmxlIGNsaWNrIGluc2lkZSB0aGUgMjAwbXMgaW50ZXJ2YWwsIGp1c3QgdG9nZ2xlIGZ1bGxzY3JlZW4gbW9kZVxyXG4gICAgICAgICAgICAgICAgdG9nZ2xlRnVsbHNjcmVlbigpO1xyXG4gICAgICAgICAgICAgICAgZG91YmxlQ2xpY2tUaW1lID0gbm93O1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKG5vdyAtIGNsaWNrVGltZSA8IDUwMCkge1xyXG4gICAgICAgICAgICAgICAgLy8gV2UgaGF2ZSBhIGRvdWJsZSBjbGljayBpbnNpZGUgdGhlIDUwMG1zIGludGVydmFsLCB1bmRvIHBsYXliYWNrIHRvZ2dsZSBhbmQgdG9nZ2xlIGZ1bGxzY3JlZW4gbW9kZVxyXG4gICAgICAgICAgICAgICAgdG9nZ2xlRnVsbHNjcmVlbigpO1xyXG4gICAgICAgICAgICAgICAgdG9nZ2xlUGxheWJhY2soKTtcclxuICAgICAgICAgICAgICAgIGRvdWJsZUNsaWNrVGltZSA9IG5vdztcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjbGlja1RpbWUgPSBub3c7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKERhdGUubm93KCkgLSBkb3VibGVDbGlja1RpbWUgPiAyMDApIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBObyBkb3VibGUgY2xpY2sgZGV0ZWN0ZWQsIHNvIHdlIHRvZ2dsZSBwbGF5YmFjayBhbmQgd2FpdCB3aGF0IGhhcHBlbnMgbmV4dFxyXG4gICAgICAgICAgICAgICAgICAgIHRvZ2dsZVBsYXliYWNrKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIDIwMCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fUExBWSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAvLyBQbGF5YmFjayBoYXMgcmVhbGx5IHN0YXJ0ZWQsIHdlIGNhbiBkaXNhYmxlIHRoZSBmbGFnIHRvIHN3aXRjaCB0byBub3JtYWwgdG9nZ2xlIGJ1dHRvbiBoYW5kbGluZ1xyXG4gICAgICAgICAgICBmaXJzdFBsYXkgPSBmYWxzZTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9XQVJOSU5HLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgLy8gNTAwOCA9PSBQbGF5YmFjayBjb3VsZCBub3QgYmUgc3RhcnRlZFxyXG4gICAgICAgICAgICBpZiAoZXZlbnQuY29kZSA9PT0gNTAwOCkge1xyXG4gICAgICAgICAgICAgICAgLy8gaWYgcGxheWJhY2sgY291bGQgbm90IGJlIHN0YXJ0ZWQsIHJlc2V0IHRoZSBmaXJzdCBwbGF5IGZsYWcgYXMgd2UgbmVlZCB0aGUgdXNlciBpbnRlcmFjdGlvbiB0byBzdGFydFxyXG4gICAgICAgICAgICAgICAgZmlyc3RQbGF5ID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIEhpZGUgYnV0dG9uIHdoaWxlIGluaXRpYWxpemluZyBhIENhc3Qgc2Vzc2lvblxyXG4gICAgICAgIHZhciBjYXN0SW5pdGlhbGl6YXRpb25IYW5kbGVyID0gZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIGlmIChldmVudC50eXBlID09PSBwbGF5ZXIuRVZFTlQuT05fQ0FTVF9TVEFSVCkge1xyXG4gICAgICAgICAgICAgICAgLy8gSGlkZSBidXR0b24gd2hlbiBzZXNzaW9uIGlzIGJlaW5nIGluaXRpYWxpemVkXHJcbiAgICAgICAgICAgICAgICBfdGhpcy5oaWRlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBTaG93IGJ1dHRvbiB3aGVuIHNlc3Npb24gaXMgZXN0YWJsaXNoZWQgb3IgaW5pdGlhbGl6YXRpb24gd2FzIGFib3J0ZWRcclxuICAgICAgICAgICAgICAgIF90aGlzLnNob3coKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fQ0FTVF9TVEFSVCwgY2FzdEluaXRpYWxpemF0aW9uSGFuZGxlcik7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fQ0FTVF9TVEFSVEVELCBjYXN0SW5pdGlhbGl6YXRpb25IYW5kbGVyKTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9DQVNUX1NUT1BQRUQsIGNhc3RJbml0aWFsaXphdGlvbkhhbmRsZXIpO1xyXG4gICAgICAgIHZhciBzdXBwcmVzc1BsYXlCdXR0b25UcmFuc2l0aW9uQW5pbWF0aW9uID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAvLyBEaXNhYmxlIHRoZSBjdXJyZW50IGFuaW1hdGlvblxyXG4gICAgICAgICAgICBfdGhpcy5zZXRUcmFuc2l0aW9uQW5pbWF0aW9uc0VuYWJsZWQoZmFsc2UpO1xyXG4gICAgICAgICAgICAvLyBFbmFibGUgdGhlIHRyYW5zaXRpb24gYW5pbWF0aW9ucyBmb3IgdGhlIG5leHQgc3RhdGUgY2hhbmdlXHJcbiAgICAgICAgICAgIF90aGlzLm9uVG9nZ2xlLnN1YnNjcmliZU9uY2UoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuc2V0VHJhbnNpdGlvbkFuaW1hdGlvbnNFbmFibGVkKHRydWUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIC8vIEhpZGUgdGhlIHBsYXkgYnV0dG9uIGFuaW1hdGlvbiB3aGVuIHRoZSBVSSBpcyBsb2FkZWQgKGl0IHNob3VsZCBvbmx5IGJlIGFuaW1hdGVkIG9uIHN0YXRlIGNoYW5nZXMpXHJcbiAgICAgICAgc3VwcHJlc3NQbGF5QnV0dG9uVHJhbnNpdGlvbkFuaW1hdGlvbigpO1xyXG4gICAgICAgIHZhciBpc0F1dG9wbGF5RW5hYmxlZCA9IHBsYXllci5nZXRDb25maWcoKS5wbGF5YmFjayAmJiBCb29sZWFuKHBsYXllci5nZXRDb25maWcoKS5wbGF5YmFjay5hdXRvcGxheSk7XHJcbiAgICAgICAgLy8gV2Ugb25seSBrbm93IGlmIGFuIGF1dG9wbGF5IGF0dGVtcHQgaXMgdXBjb21pbmcgaWYgdGhlIHBsYXllciBpcyBub3QgeWV0IHJlYWR5LiBJdCB0aGUgcGxheWVyIGlzIGFscmVhZHkgcmVhZHksXHJcbiAgICAgICAgLy8gdGhlIGF0dGVtcHQgbWlnaHQgYmUgdXBjb21pbmcgb3IgbWlnaHQgaGF2ZSBhbHJlYWR5IGhhcHBlbmVkLCBidXQgd2UgZG9uJ3QgaGF2ZSB0byBoYW5kbGUgdGhhdCBiZWNhdXNlIHdlIGNhblxyXG4gICAgICAgIC8vIHNpbXBseSByZWx5IG9uIGlzUGxheWluZyBhbmQgdGhlIHBsYXkgc3RhdGUgZXZlbnRzLlxyXG4gICAgICAgIHZhciBpc0F1dG9wbGF5VXBjb21pbmcgPSAhcGxheWVyLmlzUmVhZHkoKSAmJiBpc0F1dG9wbGF5RW5hYmxlZDtcclxuICAgICAgICAvLyBIaWRlIHRoZSBwbGF5IGJ1dHRvbiB3aGVuIHRoZSBwbGF5ZXIgaXMgYWxyZWFkeSBwbGF5aW5nIG9yIGF1dG9wbGF5IGlzIHVwY29taW5nXHJcbiAgICAgICAgaWYgKHBsYXllci5pc1BsYXlpbmcoKSB8fCBpc0F1dG9wbGF5VXBjb21pbmcpIHtcclxuICAgICAgICAgICAgLy8gSGlkZSB0aGUgcGxheSBidXR0b24gKHN3aXRjaCB0byBwbGF5aW5nIHN0YXRlKVxyXG4gICAgICAgICAgICB0aGlzLm9uKCk7XHJcbiAgICAgICAgICAgIC8vIERpc2FibGUgdGhlIGFuaW1hdGlvbiBvZiB0aGUgcGxheWluZyBzdGF0ZSBzd2l0Y2hcclxuICAgICAgICAgICAgc3VwcHJlc3NQbGF5QnV0dG9uVHJhbnNpdGlvbkFuaW1hdGlvbigpO1xyXG4gICAgICAgICAgICAvLyBTaG93IHRoZSBwbGF5IGJ1dHRvbiB3aXRob3V0IGFuIGFuaW1hdGlvbiBpZiBhIHBsYXkgYXR0ZW1wdCBpcyBibG9ja2VkXHJcbiAgICAgICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1dBUk5JTkcsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50LmNvZGUgPT09IDUwMDgpIHtcclxuICAgICAgICAgICAgICAgICAgICBzdXBwcmVzc1BsYXlCdXR0b25UcmFuc2l0aW9uQW5pbWF0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBIdWdlUGxheWJhY2tUb2dnbGVCdXR0b24ucHJvdG90eXBlLnRvRG9tRWxlbWVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgYnV0dG9uRWxlbWVudCA9IF9zdXBlci5wcm90b3R5cGUudG9Eb21FbGVtZW50LmNhbGwodGhpcyk7XHJcbiAgICAgICAgLy8gQWRkIGNoaWxkIHRoYXQgY29udGFpbnMgdGhlIHBsYXkgYnV0dG9uIGltYWdlXHJcbiAgICAgICAgLy8gU2V0dGluZyB0aGUgaW1hZ2UgZGlyZWN0bHkgb24gdGhlIGJ1dHRvbiBkb2VzIG5vdCB3b3JrIHRvZ2V0aGVyIHdpdGggc2NhbGluZyBhbmltYXRpb25zLCBiZWNhdXNlIHRoZSBidXR0b25cclxuICAgICAgICAvLyBjYW4gY292ZXIgdGhlIHdob2xlIHZpZGVvIHBsYXllciBhcmUgYW5kIHNjYWxpbmcgd291bGQgZXh0ZW5kIGl0IGJleW9uZC4gQnkgYWRkaW5nIGFuIGlubmVyIGVsZW1lbnQsIGNvbmZpbmVkXHJcbiAgICAgICAgLy8gdG8gdGhlIHNpemUgaWYgdGhlIGltYWdlLCBpdCBjYW4gc2NhbGUgaW5zaWRlIHRoZSBwbGF5ZXIgd2l0aG91dCBvdmVyc2hvb3RpbmcuXHJcbiAgICAgICAgYnV0dG9uRWxlbWVudC5hcHBlbmQobmV3IGRvbV8xLkRPTSgnZGl2Jywge1xyXG4gICAgICAgICAgICAnY2xhc3MnOiB0aGlzLnByZWZpeENzcygnaW1hZ2UnKSxcclxuICAgICAgICB9KSk7XHJcbiAgICAgICAgcmV0dXJuIGJ1dHRvbkVsZW1lbnQ7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBFbmFibGVzIG9yIGRpc2FibGVzIHRoZSBwbGF5IHN0YXRlIHRyYW5zaXRpb24gYW5pbWF0aW9ucyBvZiB0aGUgcGxheSBidXR0b24gaW1hZ2UuIENhbiBiZSB1c2VkIHRvIHN1cHByZXNzXHJcbiAgICAgKiBhbmltYXRpb25zLlxyXG4gICAgICogQHBhcmFtIHtib29sZWFufSBlbmFibGVkIHRydWUgdG8gZW5hYmxlIHRoZSBhbmltYXRpb25zIChkZWZhdWx0KSwgZmFsc2UgdG8gZGlzYWJsZSB0aGVtXHJcbiAgICAgKi9cclxuICAgIEh1Z2VQbGF5YmFja1RvZ2dsZUJ1dHRvbi5wcm90b3R5cGUuc2V0VHJhbnNpdGlvbkFuaW1hdGlvbnNFbmFibGVkID0gZnVuY3Rpb24gKGVuYWJsZWQpIHtcclxuICAgICAgICB2YXIgbm9UcmFuc2l0aW9uQW5pbWF0aW9uc0NsYXNzID0gdGhpcy5wcmVmaXhDc3MoJ25vLXRyYW5zaXRpb24tYW5pbWF0aW9ucycpO1xyXG4gICAgICAgIGlmIChlbmFibGVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2V0RG9tRWxlbWVudCgpLnJlbW92ZUNsYXNzKG5vVHJhbnNpdGlvbkFuaW1hdGlvbnNDbGFzcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKCF0aGlzLmdldERvbUVsZW1lbnQoKS5oYXNDbGFzcyhub1RyYW5zaXRpb25BbmltYXRpb25zQ2xhc3MpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2V0RG9tRWxlbWVudCgpLmFkZENsYXNzKG5vVHJhbnNpdGlvbkFuaW1hdGlvbnNDbGFzcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHJldHVybiBIdWdlUGxheWJhY2tUb2dnbGVCdXR0b247XHJcbn0ocGxheWJhY2t0b2dnbGVidXR0b25fMS5QbGF5YmFja1RvZ2dsZUJ1dHRvbikpO1xyXG5leHBvcnRzLkh1Z2VQbGF5YmFja1RvZ2dsZUJ1dHRvbiA9IEh1Z2VQbGF5YmFja1RvZ2dsZUJ1dHRvbjtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL2h1Z2VwbGF5YmFja3RvZ2dsZWJ1dHRvbi50c1xuLy8gbW9kdWxlIGlkID0gNjJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBidXR0b25fMSA9IHJlcXVpcmUoXCIuL2J1dHRvblwiKTtcclxuLyoqXHJcbiAqIEEgYnV0dG9uIHRoYXQgY2xvc2VzIChoaWRlcykgYSBjb25maWd1cmVkIGNvbXBvbmVudC5cclxuICovXHJcbnZhciBDbG9zZUJ1dHRvbiA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoQ2xvc2VCdXR0b24sIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBDbG9zZUJ1dHRvbihjb25maWcpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBjb25maWcpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMuY29uZmlnID0gX3RoaXMubWVyZ2VDb25maWcoY29uZmlnLCB7XHJcbiAgICAgICAgICAgIGNzc0NsYXNzOiAndWktY2xvc2VidXR0b24nLFxyXG4gICAgICAgICAgICB0ZXh0OiAnQ2xvc2UnLFxyXG4gICAgICAgIH0sIF90aGlzLmNvbmZpZyk7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgQ2xvc2VCdXR0b24ucHJvdG90eXBlLmNvbmZpZ3VyZSA9IGZ1bmN0aW9uIChwbGF5ZXIsIHVpbWFuYWdlcikge1xyXG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuY29uZmlndXJlLmNhbGwodGhpcywgcGxheWVyLCB1aW1hbmFnZXIpO1xyXG4gICAgICAgIHZhciBjb25maWcgPSB0aGlzLmdldENvbmZpZygpO1xyXG4gICAgICAgIHRoaXMub25DbGljay5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBjb25maWcudGFyZ2V0LmhpZGUoKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gQ2xvc2VCdXR0b247XHJcbn0oYnV0dG9uXzEuQnV0dG9uKSk7XHJcbmV4cG9ydHMuQ2xvc2VCdXR0b24gPSBDbG9zZUJ1dHRvbjtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL2Nsb3NlYnV0dG9uLnRzXG4vLyBtb2R1bGUgaWQgPSA2M1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIHRvZ2dsZWJ1dHRvbl8xID0gcmVxdWlyZShcIi4vdG9nZ2xlYnV0dG9uXCIpO1xyXG4vKipcclxuICogQSBidXR0b24gdGhhdCB0b2dnbGVzIEFwcGxlIEFpclBsYXkuXHJcbiAqL1xyXG52YXIgQWlyUGxheVRvZ2dsZUJ1dHRvbiA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoQWlyUGxheVRvZ2dsZUJ1dHRvbiwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIEFpclBsYXlUb2dnbGVCdXR0b24oY29uZmlnKSB7XHJcbiAgICAgICAgaWYgKGNvbmZpZyA9PT0gdm9pZCAwKSB7IGNvbmZpZyA9IHt9OyB9XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgY29uZmlnKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLmNvbmZpZyA9IF90aGlzLm1lcmdlQ29uZmlnKGNvbmZpZywge1xyXG4gICAgICAgICAgICBjc3NDbGFzczogJ3VpLWFpcnBsYXl0b2dnbGVidXR0b24nLFxyXG4gICAgICAgICAgICB0ZXh0OiAnQXBwbGUgQWlyUGxheScsXHJcbiAgICAgICAgfSwgX3RoaXMuY29uZmlnKTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBBaXJQbGF5VG9nZ2xlQnV0dG9uLnByb3RvdHlwZS5jb25maWd1cmUgPSBmdW5jdGlvbiAocGxheWVyLCB1aW1hbmFnZXIpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuY29uZmlndXJlLmNhbGwodGhpcywgcGxheWVyLCB1aW1hbmFnZXIpO1xyXG4gICAgICAgIGlmICghcGxheWVyLmlzQWlycGxheUF2YWlsYWJsZSkge1xyXG4gICAgICAgICAgICAvLyBJZiB0aGUgcGxheWVyIGRvZXMgbm90IHN1cHBvcnQgQWlycGxheSAocGxheWVyIDcuMCksIHdlIGp1c3QgaGlkZSB0aGlzIGNvbXBvbmVudCBhbmQgc2tpcCBjb25maWd1cmF0aW9uXHJcbiAgICAgICAgICAgIHRoaXMuaGlkZSgpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMub25DbGljay5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAocGxheWVyLmlzQWlycGxheUF2YWlsYWJsZSgpKSB7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXIuc2hvd0FpcnBsYXlUYXJnZXRQaWNrZXIoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmIChjb25zb2xlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0FpclBsYXkgdW5hdmFpbGFibGUnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHZhciBhaXJQbGF5QXZhaWxhYmxlSGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKHBsYXllci5pc0FpcnBsYXlBdmFpbGFibGUoKSkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuc2hvdygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuaGlkZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9BSVJQTEFZX0FWQUlMQUJMRSwgYWlyUGxheUF2YWlsYWJsZUhhbmRsZXIpO1xyXG4gICAgICAgIC8vIFN0YXJ0dXAgaW5pdFxyXG4gICAgICAgIGFpclBsYXlBdmFpbGFibGVIYW5kbGVyKCk7IC8vIEhpZGUgYnV0dG9uIGlmIEFpclBsYXkgaXMgbm90IGF2YWlsYWJsZVxyXG4gICAgfTtcclxuICAgIHJldHVybiBBaXJQbGF5VG9nZ2xlQnV0dG9uO1xyXG59KHRvZ2dsZWJ1dHRvbl8xLlRvZ2dsZUJ1dHRvbikpO1xyXG5leHBvcnRzLkFpclBsYXlUb2dnbGVCdXR0b24gPSBBaXJQbGF5VG9nZ2xlQnV0dG9uO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvYWlycGxheXRvZ2dsZWJ1dHRvbi50c1xuLy8gbW9kdWxlIGlkID0gNjRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciB0b2dnbGVidXR0b25fMSA9IHJlcXVpcmUoXCIuL3RvZ2dsZWJ1dHRvblwiKTtcclxuLyoqXHJcbiAqIEEgYnV0dG9uIHRoYXQgdG9nZ2xlcyBBcHBsZSBtYWNPUyBwaWN0dXJlLWluLXBpY3R1cmUgbW9kZS5cclxuICovXHJcbnZhciBQaWN0dXJlSW5QaWN0dXJlVG9nZ2xlQnV0dG9uID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhQaWN0dXJlSW5QaWN0dXJlVG9nZ2xlQnV0dG9uLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gUGljdHVyZUluUGljdHVyZVRvZ2dsZUJ1dHRvbihjb25maWcpIHtcclxuICAgICAgICBpZiAoY29uZmlnID09PSB2b2lkIDApIHsgY29uZmlnID0ge307IH1cclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBjb25maWcpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMuY29uZmlnID0gX3RoaXMubWVyZ2VDb25maWcoY29uZmlnLCB7XHJcbiAgICAgICAgICAgIGNzc0NsYXNzOiAndWktcGlwdG9nZ2xlYnV0dG9uJyxcclxuICAgICAgICAgICAgdGV4dDogJ1BpY3R1cmUtaW4tUGljdHVyZScsXHJcbiAgICAgICAgfSwgX3RoaXMuY29uZmlnKTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBQaWN0dXJlSW5QaWN0dXJlVG9nZ2xlQnV0dG9uLnByb3RvdHlwZS5jb25maWd1cmUgPSBmdW5jdGlvbiAocGxheWVyLCB1aW1hbmFnZXIpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuY29uZmlndXJlLmNhbGwodGhpcywgcGxheWVyLCB1aW1hbmFnZXIpO1xyXG4gICAgICAgIGlmICghcGxheWVyLmlzUGljdHVyZUluUGljdHVyZUF2YWlsYWJsZSkge1xyXG4gICAgICAgICAgICAvLyBJZiB0aGUgcGxheWVyIGRvZXMgbm90IHN1cHBvcnQgUElQIChwbGF5ZXIgNy4wKSwgd2UganVzdCBoaWRlIHRoaXMgY29tcG9uZW50IGFuZCBza2lwIGNvbmZpZ3VyYXRpb25cclxuICAgICAgICAgICAgdGhpcy5oaWRlKCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5vbkNsaWNrLnN1YnNjcmliZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChwbGF5ZXIuaXNQaWN0dXJlSW5QaWN0dXJlQXZhaWxhYmxlKCkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChwbGF5ZXIuaXNQaWN0dXJlSW5QaWN0dXJlKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBwbGF5ZXIuZXhpdFBpY3R1cmVJblBpY3R1cmUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHBsYXllci5lbnRlclBpY3R1cmVJblBpY3R1cmUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmIChjb25zb2xlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1BJUCB1bmF2YWlsYWJsZScpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdmFyIHBpcEF2YWlsYWJsZUhhbmRlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKHBsYXllci5pc1BpY3R1cmVJblBpY3R1cmVBdmFpbGFibGUoKSkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuc2hvdygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuaGlkZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9SRUFEWSwgcGlwQXZhaWxhYmxlSGFuZGVyKTtcclxuICAgICAgICAvLyBUb2dnbGUgYnV0dG9uICdvbicgc3RhdGVcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9QSUNUVVJFX0lOX1BJQ1RVUkVfRU5URVIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgX3RoaXMub24oKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9QSUNUVVJFX0lOX1BJQ1RVUkVfRVhJVCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBfdGhpcy5vZmYoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBTdGFydHVwIGluaXRcclxuICAgICAgICBwaXBBdmFpbGFibGVIYW5kZXIoKTsgLy8gSGlkZSBidXR0b24gaWYgUElQIG5vdCBhdmFpbGFibGVcclxuICAgICAgICBpZiAocGxheWVyLmlzUGljdHVyZUluUGljdHVyZSgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMub24oKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFBpY3R1cmVJblBpY3R1cmVUb2dnbGVCdXR0b247XHJcbn0odG9nZ2xlYnV0dG9uXzEuVG9nZ2xlQnV0dG9uKSk7XHJcbmV4cG9ydHMuUGljdHVyZUluUGljdHVyZVRvZ2dsZUJ1dHRvbiA9IFBpY3R1cmVJblBpY3R1cmVUb2dnbGVCdXR0b247XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9waWN0dXJlaW5waWN0dXJldG9nZ2xlYnV0dG9uLnRzXG4vLyBtb2R1bGUgaWQgPSA2NVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgYW5ndWxhciA9IHJlcXVpcmUoXCJhbmd1bGFyXCIpO1xyXG52YXIgYml0ZGFzaF9jb250cm9sbGVyXzEgPSByZXF1aXJlKFwiLi9iaXRkYXNoLWNvbnRyb2xsZXJcIik7XHJcbnZhciBiaXRkYXNoX2RpcmVjdGl2ZV8xID0gcmVxdWlyZShcIi4vYml0ZGFzaC1kaXJlY3RpdmVcIik7XHJcbmV4cG9ydHMuZGVmYXVsdCA9IGFuZ3VsYXIubW9kdWxlKCdtaS5CaXRkYXNoUGxheWVyJywgW10pXHJcbiAgICAuY29udHJvbGxlcignTWlCaXRkYXNoQ29udHJvbGxlcicsIGJpdGRhc2hfY29udHJvbGxlcl8xLmRlZmF1bHQpXHJcbiAgICAuZGlyZWN0aXZlKCdtaUJpdGRhc2hQbGF5ZXInLCBiaXRkYXNoX2RpcmVjdGl2ZV8xLmRlZmF1bHQpO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2luZGV4LnRzXG4vLyBtb2R1bGUgaWQgPSA2N1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgYW5ndWxhciA9IHJlcXVpcmUoXCJhbmd1bGFyXCIpO1xyXG52YXIgQml0bW92aW5Db250cm9sbGVyID0gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIEJpdG1vdmluQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcclxuICAgICAgICB0aGlzLiRzY29wZSA9ICRzY29wZTtcclxuICAgICAgICB0aGlzLiRsb2cgPSAkbG9nO1xyXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7fTtcclxuICAgICAgICB0aGlzLmNvbmZpZyA9IHt9O1xyXG4gICAgICAgIHRoaXMub3B0aW9ucyA9IHt9O1xyXG4gICAgfVxyXG4gICAgQml0bW92aW5Db250cm9sbGVyLnByb3RvdHlwZS4kb25Jbml0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuc3RhdGUgPSB0aGlzLiRzY29wZS5zdGF0ZSA9IHt9O1xyXG4gICAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZCh0aGlzLiRzY29wZS5jb25maWcpICYmIGFuZ3VsYXIuaXNEZWZpbmVkKHRoaXMuJHNjb3BlLmNvbmZpZy5rZXkpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29uZmlnID0gdGhpcy4kc2NvcGUuY29uZmlnO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy4kbG9nLmVycm9yKFwiYmFzaWMgY29uZmlnIGZvciBiaXRkYXNoIHBsYXllciBpcyBtaXNzaW5nIVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKHRoaXMuJHNjb3BlLm9wdGlvbnMpKSB7XHJcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucyA9IHRoaXMuJHNjb3BlLm9wdGlvbnM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZCh0aGlzLiRzY29wZS53ZWJjYXN0KSkge1xyXG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NXZWJjYXN0KHRoaXMuJHNjb3BlLndlYmNhc3QpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBCaXRtb3ZpbkNvbnRyb2xsZXIucHJvdG90eXBlLnByb2Nlc3NXZWJjYXN0ID0gZnVuY3Rpb24gKHdlYmNhc3QpIHtcclxuICAgICAgICB2YXIgc3RhdGVQcm9wZXJ0eSA9IHRoaXMub3B0aW9ucy5mb3JjZWRTdGF0ZSB8fCB3ZWJjYXN0LnN0YXRlO1xyXG4gICAgICAgIGlmIChzdGF0ZVByb3BlcnR5ID09PSAnb25kZW1hbmQnKSB7XHJcbiAgICAgICAgICAgIHZhciBsYW5ndWFnZUluZGV4XzEgPSAwO1xyXG4gICAgICAgICAgICB3ZWJjYXN0Lmxhbmd1YWdlcy5zb21lKGZ1bmN0aW9uIChsYW5nLCBpbmRleCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHdlYmNhc3QubGFuZ3VhZ2UgPT09IGxhbmcubGFuZ3VhZ2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBsYW5ndWFnZUluZGV4XzEgPSBpbmRleDtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGUuZGF0YSA9IHdlYmNhc3QubGFuZ3VhZ2VzW2xhbmd1YWdlSW5kZXhfMV0ub25kZW1hbmRTdGF0ZURhdGE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnN0YXRlLmRhdGEgPSB3ZWJjYXN0W3N0YXRlUHJvcGVydHkgKyAnU3RhdGVEYXRhJ107XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY29uZmlnLnNvdXJjZSA9IHRoaXMuZ2V0UGxheWVyQ29uZmlnU291cmNlKHdlYmNhc3QpO1xyXG4gICAgICAgIHRoaXMuY29uZmlnLnN0eWxlID0geyB1eDogZmFsc2UgfTtcclxuICAgIH07XHJcbiAgICBCaXRtb3ZpbkNvbnRyb2xsZXIucHJvdG90eXBlLmdldFBsYXllckNvbmZpZ1NvdXJjZSA9IGZ1bmN0aW9uICh3ZWJjYXN0KSB7XHJcbiAgICAgICAgcmV0dXJuIHdlYmNhc3QudXNlRFZSUGxheWJhY2tJblBvc3RsaXZlICYmIHdlYmNhc3Quc3RhdGUgPT09ICdwb3N0bGl2ZScgP1xyXG4gICAgICAgICAgICB0aGlzLmdldERWUlBsYXliYWNrVG9Qb3N0bGl2ZSh3ZWJjYXN0KVxyXG4gICAgICAgICAgICA6IHRoaXMuZ2V0UGxheWVyQ29uZmlnU291cmNlQnlTdGF0ZSh3ZWJjYXN0KTtcclxuICAgIH07XHJcbiAgICBCaXRtb3ZpbkNvbnRyb2xsZXIucHJvdG90eXBlLmdldERWUlBsYXliYWNrVG9Qb3N0bGl2ZSA9IGZ1bmN0aW9uICh3ZWJjYXN0KSB7XHJcbiAgICAgICAgdmFyIGhscyA9IHdlYmNhc3RbJ2xpdmVTdGF0ZURhdGEnXS5wbGF5b3V0Lmhsc0R2clVybDtcclxuICAgICAgICB2YXIgdGl0bGUgPSB3ZWJjYXN0Lm5hbWU7XHJcbiAgICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKHdlYmNhc3RbJ3Bvc3RsaXZlU3RhdGVEYXRhJ10ucGxheW91dC5vZmZzZXQpKSB7XHJcbiAgICAgICAgICAgIHZhciBvZmZzZXQgPSBwYXJzZUludCh3ZWJjYXN0Wydwb3N0bGl2ZVN0YXRlRGF0YSddLnBsYXlvdXQub2Zmc2V0LCAxMCk7XHJcbiAgICAgICAgICAgIGlmIChvZmZzZXQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBvZmZzZXRQcmVmaXggPSB2b2lkIDA7XHJcbiAgICAgICAgICAgICAgICB2YXIgcGFyc2VyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xyXG4gICAgICAgICAgICAgICAgcGFyc2VyLmhyZWYgPSB3ZWJjYXN0WydsaXZlU3RhdGVEYXRhJ10ucGxheW91dC5obHNEdnJVcmw7XHJcbiAgICAgICAgICAgICAgICBvZmZzZXRQcmVmaXggPSAocGFyc2VyLnNlYXJjaCkgPyAnJicgOiAnPyc7XHJcbiAgICAgICAgICAgICAgICBobHMgKz0gb2Zmc2V0UHJlZml4ICsgXCJ3b3d6YWR2cnBsYXlsaXN0c3RhcnQ9XCIgKyBvZmZzZXQgKyBcIjAwMFwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB7IGhsczogaGxzLCB0aXRsZTogdGl0bGUgfTtcclxuICAgIH07XHJcbiAgICBCaXRtb3ZpbkNvbnRyb2xsZXIucHJvdG90eXBlLmdldFBsYXllckNvbmZpZ1NvdXJjZUJ5U3RhdGUgPSBmdW5jdGlvbiAod2ViY2FzdCkge1xyXG4gICAgICAgIHZhciBobHMgPSB0aGlzLnN0YXRlLmRhdGEucGxheW91dC5obHNVcmw7XHJcbiAgICAgICAgdmFyIHRpdGxlID0gd2ViY2FzdC5uYW1lO1xyXG4gICAgICAgIHZhciBoaXZlU2VydmljZVVybCA9IHRoaXMuZ2V0SGl2ZVNlcnZpY2VVcmxCeUxhbmcod2ViY2FzdCk7XHJcbiAgICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKHRoaXMuc3RhdGUuZGF0YS5wbGF5b3V0LnZpZGVvTWFuYWdlckhsc1VybCkgJiYgdGhpcy5zdGF0ZS5kYXRhLnBsYXlvdXQudmlkZW9NYW5hZ2VySGxzVXJsKSB7XHJcbiAgICAgICAgICAgIGhscyA9IHRoaXMuc3RhdGUuZGF0YS5wbGF5b3V0LnZpZGVvTWFuYWdlckhsc1VybDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKHRoaXMuc3RhdGUuZGF0YS5wbGF5b3V0Lm9mZnNldCkpIHtcclxuICAgICAgICAgICAgdmFyIG9mZnNldCA9IHBhcnNlSW50KHRoaXMuc3RhdGUuZGF0YS5wbGF5b3V0Lm9mZnNldCwgMTApO1xyXG4gICAgICAgICAgICBpZiAob2Zmc2V0ID4gMCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG9mZnNldFByZWZpeCA9IHZvaWQgMDtcclxuICAgICAgICAgICAgICAgIHZhciBwYXJzZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XHJcbiAgICAgICAgICAgICAgICBwYXJzZXIuaHJlZiA9IGhscztcclxuICAgICAgICAgICAgICAgIG9mZnNldFByZWZpeCA9IChwYXJzZXIuc2VhcmNoKSA/ICcmJyA6ICc/JztcclxuICAgICAgICAgICAgICAgIGhscyArPSBvZmZzZXRQcmVmaXggKyBcInN0YXJ0PVwiICsgb2Zmc2V0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB7IGhsczogaGxzLCB0aXRsZTogdGl0bGUsIGhpdmVTZXJ2aWNlVXJsOiBoaXZlU2VydmljZVVybCB9O1xyXG4gICAgfTtcclxuICAgIEJpdG1vdmluQ29udHJvbGxlci5wcm90b3R5cGUuZ2V0SGl2ZVNlcnZpY2VVcmxCeUxhbmcgPSBmdW5jdGlvbiAod2ViY2FzdCkge1xyXG4gICAgICAgIHZhciBoaXZlU2VydmljZVVybCA9IG51bGw7XHJcbiAgICAgICAgaWYgKHdlYmNhc3QubGFuZ3VhZ2VzICYmIHdlYmNhc3QubGFuZ3VhZ2UpIHtcclxuICAgICAgICAgICAgd2ViY2FzdC5sYW5ndWFnZXMuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0ubGFuZ3VhZ2UgPT09IHdlYmNhc3QubGFuZ3VhZ2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBoaXZlU2VydmljZVVybCA9IGFuZ3VsYXIuY29weShpdGVtLmhpdmVTZXJ2aWNlVXJsKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBoaXZlU2VydmljZVVybDtcclxuICAgIH07XHJcbiAgICByZXR1cm4gQml0bW92aW5Db250cm9sbGVyO1xyXG59KCkpO1xyXG5CaXRtb3ZpbkNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcclxuZXhwb3J0cy5kZWZhdWx0ID0gQml0bW92aW5Db250cm9sbGVyO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2JpdGRhc2gtY29udHJvbGxlci50c1xuLy8gbW9kdWxlIGlkID0gNjhcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGFuZ3VsYXIgPSByZXF1aXJlKFwiYW5ndWxhclwiKTtcclxudmFyIEJpdGRhc2hEaXJlY3RpdmUgPSBmdW5jdGlvbiAoJHdpbmRvdywgJGxvZykgeyByZXR1cm4gKHtcclxuICAgIGNvbnRyb2xsZXI6ICdNaUJpdGRhc2hDb250cm9sbGVyJyxcclxuICAgIGNvbnRyb2xsZXJBczogJ2JpdGRhc2hWbScsXHJcbiAgICByZXBsYWNlOiB0cnVlLFxyXG4gICAgcmVzdHJpY3Q6ICdFQScsXHJcbiAgICBzY29wZToge1xyXG4gICAgICAgIGNvbmZpZzogJz0nLFxyXG4gICAgICAgIG9wdGlvbnM6ICc9PycsXHJcbiAgICAgICAgd2ViY2FzdDogJz0nLFxyXG4gICAgfSxcclxuICAgIHRlbXBsYXRlOiBcIjxkaXYgaWQ9XFxcIm1pLWJpdGRhc2gtcGxheWVyXFxcIiB3aWR0aD1cXFwiMTAwJVxcXCIgaGVpZ2h0PVxcXCJhdXRvXFxcIj48L2Rpdj5cIixcclxuICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSkge1xyXG4gICAgICAgIHZhciBiaXRtb3ZpblBsYXllcjtcclxuICAgICAgICB2YXIgYml0bW92aW5VSU1hbmFnZXI7XHJcbiAgICAgICAgdmFyIGJpdG1vdmluQ29udHJvbGJhcjtcclxuICAgICAgICB2YXIgY29uZmlnID0gc2NvcGUuY29uZmlnO1xyXG4gICAgICAgIHZhciB3ZWJjYXN0ID0gc2NvcGUud2ViY2FzdDtcclxuICAgICAgICB2YXIgc3RhdGVEYXRhID0gc2NvcGUuc3RhdGUuZGF0YTtcclxuICAgICAgICBidWlsZFBsYXllcigpO1xyXG4gICAgICAgIGZ1bmN0aW9uIGJ1aWxkUGxheWVyKCkge1xyXG4gICAgICAgICAgICBiaXRtb3ZpblBsYXllciA9ICR3aW5kb3cud2luZG93LmJpdG1vdmluLnBsYXllcignbWktYml0ZGFzaC1wbGF5ZXInKTtcclxuICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKGJpdG1vdmluUGxheWVyKSAmJiBiaXRtb3ZpblBsYXllci5pc1JlYWR5KCkgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgIGJpdG1vdmluUGxheWVyLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIGJpdG1vdmluUGxheWVyID0gJHdpbmRvdy53aW5kb3cuYml0bW92aW4ucGxheWVyKCdtaS1iaXRkYXNoLXBsYXllcicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICgod2ViY2FzdC5zdGF0ZSA9PT0gJ2xpdmUnKSAmJiBjb25maWcuc291cmNlLmhpdmVTZXJ2aWNlVXJsKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBHZXQgYSBoaXZlLWVuYWJsZWQgcGxheWVyIHRocm91Z2ggYml0ZGFzaC5pbml0SGl2ZVNETlxyXG4gICAgICAgICAgICAgICAgJHdpbmRvdy53aW5kb3cuYml0bW92aW4uaW5pdEhpdmVTRE4oYml0bW92aW5QbGF5ZXIsIHsgZGVidWdMZXZlbDogJ29mZicgfSk7XHJcbiAgICAgICAgICAgICAgICAvLyBDb25maWd1cmUgYW5kIFNldHVwIGJpdG1vdmluIGluIGluaXRTZXNzaW9uIGNhbGxiYWNrXHJcbiAgICAgICAgICAgICAgICBiaXRtb3ZpblBsYXllci5pbml0U2Vzc2lvbihjb25maWcuc291cmNlLmhpdmVTZXJ2aWNlVXJsKS50aGVuKGZ1bmN0aW9uIChzZXNzaW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGhpdmVDb25maWcgPSBhbmd1bGFyLmNvcHkoY29uZmlnKTtcclxuICAgICAgICAgICAgICAgICAgICBoaXZlQ29uZmlnLnNvdXJjZS5obHMgPSBzZXNzaW9uLm1hbmlmZXN0O1xyXG4gICAgICAgICAgICAgICAgICAgIGxvYWRQbGF5ZXIoaGl2ZUNvbmZpZyk7XHJcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gSGFuZGxlIHRoZSBjYXNlIGlmIEhpdmUgaW5pdCBmYWlsc1xyXG4gICAgICAgICAgICAgICAgICAgICRsb2cud2FybihcIkhpdmUgaW5pdCBmYWlsczogXCIgKyByZWFzb24uY29kZSArIFwiIC0gXCIgKyByZWFzb24ubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbG9hZFBsYXllcihjb25maWcpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBsb2FkUGxheWVyKGNvbmZpZyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gZ2V0QXVkaW9Pbmx5UGxheWVyQ29uZmlnKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gd2ViY2FzdC50aGVtZS5hdWRpb09ubHlGaWxlVXJsID8geyBhdWRpb09ubHlPdmVybGF5Q29uZmlnOiB7IGJhY2tncm91bmRJbWFnZVVybDogd2ViY2FzdC50aGVtZS5hdWRpb09ubHlGaWxlVXJsLCBoaWRkZUluZGljYXRvcjogdHJ1ZSB9IH0gOiB7fTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gbG9hZFBsYXllcihjb25mKSB7XHJcbiAgICAgICAgICAgIGJpdG1vdmluUGxheWVyXHJcbiAgICAgICAgICAgICAgICAuc2V0dXAoY29uZilcclxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGJpdG1vdmluVUlNYW5hZ2VyID0gJHdpbmRvdy53aW5kb3cuYml0bW92aW4ucGxheWVydWkuVUlNYW5hZ2VyLkZhY3Rvcnk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNBdWRpb09ubHkoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJpdG1vdmluVUlNYW5hZ2VyLmJ1aWxkQXVkaW9Pbmx5VUkoYml0bW92aW5QbGF5ZXIsIGdldEF1ZGlvT25seVBsYXllckNvbmZpZygpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGJpdG1vdmluVUlNYW5hZ2VyLmJ1aWxkQXVkaW9WaWRlb1VJKGJpdG1vdmluUGxheWVyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJpdG1vdmluQ29udHJvbGJhciA9IGdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2JpdG1vdmlucGxheWVyLWNvbnRhaW5lcicpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGJpdG1vdmluQ29udHJvbGJhcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGJpdG1vdmluQ29udHJvbGJhci5zdHlsZS5taW5XaWR0aCA9ICcxNzVweCc7XHJcbiAgICAgICAgICAgICAgICAgICAgYml0bW92aW5Db250cm9sYmFyLnN0eWxlLm1pbkhlaWdodCA9ICcxMDFweCc7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JpdG1vdmlucGxheWVyLXZpZGVvLW1pLWJpdGRhc2gtcGxheWVyJykuc2V0QXR0cmlidXRlKCd0aXRsZScsIHdlYmNhc3QubmFtZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcclxuICAgICAgICAgICAgICAgICRsb2cubG9nKFwiRXJyb3I6IFwiICsgcmVhc29uLmNvZGUgKyBcIiAtIFwiICsgcmVhc29uLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gaXNBdWRpb09ubHkoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB3ZWJjYXN0LmxheW91dC5sYXlvdXQgPT09ICdhdWRpby1vbmx5JztcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShjbGFzc05hbWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoY2xhc3NOYW1lKVswXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0pOyB9O1xyXG5leHBvcnRzLmRlZmF1bHQgPSBCaXRkYXNoRGlyZWN0aXZlO1xyXG5CaXRkYXNoRGlyZWN0aXZlLiRpbmplY3QgPSBbJyR3aW5kb3cnLCAnJGxvZyddO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2JpdGRhc2gtZGlyZWN0aXZlLnRzXG4vLyBtb2R1bGUgaWQgPSA2OVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG4vLy8gPHJlZmVyZW5jZSBwYXRoPSdwbGF5ZXIuZC50cycgLz5cclxudmFyIHVpbWFuYWdlcl8xID0gcmVxdWlyZShcIi4vdWltYW5hZ2VyXCIpO1xyXG52YXIgYnV0dG9uXzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL2J1dHRvblwiKTtcclxudmFyIGNvbnRyb2xiYXJfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvY29udHJvbGJhclwiKTtcclxudmFyIGZ1bGxzY3JlZW50b2dnbGVidXR0b25fMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvZnVsbHNjcmVlbnRvZ2dsZWJ1dHRvblwiKTtcclxudmFyIGh1Z2VwbGF5YmFja3RvZ2dsZWJ1dHRvbl8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9odWdlcGxheWJhY2t0b2dnbGVidXR0b25cIik7XHJcbnZhciBwbGF5YmFja3RpbWVsYWJlbF8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9wbGF5YmFja3RpbWVsYWJlbFwiKTtcclxudmFyIHBsYXliYWNrdG9nZ2xlYnV0dG9uXzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL3BsYXliYWNrdG9nZ2xlYnV0dG9uXCIpO1xyXG52YXIgc2Vla2Jhcl8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9zZWVrYmFyXCIpO1xyXG52YXIgc2VsZWN0Ym94XzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL3NlbGVjdGJveFwiKTtcclxudmFyIGl0ZW1zZWxlY3Rpb25saXN0XzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL2l0ZW1zZWxlY3Rpb25saXN0XCIpO1xyXG52YXIgc2V0dGluZ3NwYW5lbF8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9zZXR0aW5nc3BhbmVsXCIpO1xyXG52YXIgc2V0dGluZ3N0b2dnbGVidXR0b25fMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvc2V0dGluZ3N0b2dnbGVidXR0b25cIik7XHJcbnZhciB0b2dnbGVidXR0b25fMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvdG9nZ2xlYnV0dG9uXCIpO1xyXG52YXIgdmlkZW9xdWFsaXR5c2VsZWN0Ym94XzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL3ZpZGVvcXVhbGl0eXNlbGVjdGJveFwiKTtcclxudmFyIHZvbHVtZXRvZ2dsZWJ1dHRvbl8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy92b2x1bWV0b2dnbGVidXR0b25cIik7XHJcbnZhciB2cnRvZ2dsZWJ1dHRvbl8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy92cnRvZ2dsZWJ1dHRvblwiKTtcclxudmFyIHdhdGVybWFya18xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy93YXRlcm1hcmtcIik7XHJcbnZhciB1aWNvbnRhaW5lcl8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy91aWNvbnRhaW5lclwiKTtcclxudmFyIGNvbnRhaW5lcl8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9jb250YWluZXJcIik7XHJcbnZhciBsYWJlbF8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9sYWJlbFwiKTtcclxudmFyIGF1ZGlvcXVhbGl0eXNlbGVjdGJveF8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9hdWRpb3F1YWxpdHlzZWxlY3Rib3hcIik7XHJcbnZhciBhdWRpb3RyYWNrc2VsZWN0Ym94XzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL2F1ZGlvdHJhY2tzZWxlY3Rib3hcIik7XHJcbnZhciBjYXN0c3RhdHVzb3ZlcmxheV8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9jYXN0c3RhdHVzb3ZlcmxheVwiKTtcclxudmFyIGNhc3R0b2dnbGVidXR0b25fMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvY2FzdHRvZ2dsZWJ1dHRvblwiKTtcclxudmFyIGNvbXBvbmVudF8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9jb21wb25lbnRcIik7XHJcbnZhciBlcnJvcm1lc3NhZ2VvdmVybGF5XzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL2Vycm9ybWVzc2FnZW92ZXJsYXlcIik7XHJcbnZhciByZWNvbW1lbmRhdGlvbm92ZXJsYXlfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvcmVjb21tZW5kYXRpb25vdmVybGF5XCIpO1xyXG52YXIgc2Vla2JhcmxhYmVsXzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL3NlZWtiYXJsYWJlbFwiKTtcclxudmFyIHN1YnRpdGxlb3ZlcmxheV8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9zdWJ0aXRsZW92ZXJsYXlcIik7XHJcbnZhciBzdWJ0aXRsZXNlbGVjdGJveF8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9zdWJ0aXRsZXNlbGVjdGJveFwiKTtcclxudmFyIHRpdGxlYmFyXzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL3RpdGxlYmFyXCIpO1xyXG52YXIgdm9sdW1lY29udHJvbGJ1dHRvbl8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy92b2x1bWVjb250cm9sYnV0dG9uXCIpO1xyXG52YXIgY2xpY2tvdmVybGF5XzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL2NsaWNrb3ZlcmxheVwiKTtcclxudmFyIGFkc2tpcGJ1dHRvbl8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9hZHNraXBidXR0b25cIik7XHJcbnZhciBhZG1lc3NhZ2VsYWJlbF8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9hZG1lc3NhZ2VsYWJlbFwiKTtcclxudmFyIGFkY2xpY2tvdmVybGF5XzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL2FkY2xpY2tvdmVybGF5XCIpO1xyXG52YXIgcGxheWJhY2tzcGVlZHNlbGVjdGJveF8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9wbGF5YmFja3NwZWVkc2VsZWN0Ym94XCIpO1xyXG52YXIgaHVnZXJlcGxheWJ1dHRvbl8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9odWdlcmVwbGF5YnV0dG9uXCIpO1xyXG52YXIgYnVmZmVyaW5nb3ZlcmxheV8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9idWZmZXJpbmdvdmVybGF5XCIpO1xyXG52YXIgY2FzdHVpY29udGFpbmVyXzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL2Nhc3R1aWNvbnRhaW5lclwiKTtcclxudmFyIHBsYXliYWNrdG9nZ2xlb3ZlcmxheV8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9wbGF5YmFja3RvZ2dsZW92ZXJsYXlcIik7XHJcbnZhciBjbG9zZWJ1dHRvbl8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9jbG9zZWJ1dHRvblwiKTtcclxudmFyIG1ldGFkYXRhbGFiZWxfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvbWV0YWRhdGFsYWJlbFwiKTtcclxudmFyIGFpcnBsYXl0b2dnbGVidXR0b25fMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvYWlycGxheXRvZ2dsZWJ1dHRvblwiKTtcclxudmFyIHZvbHVtZXNsaWRlcl8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy92b2x1bWVzbGlkZXJcIik7XHJcbnZhciBwaWN0dXJlaW5waWN0dXJldG9nZ2xlYnV0dG9uXzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL3BpY3R1cmVpbnBpY3R1cmV0b2dnbGVidXR0b25cIik7XHJcbnZhciBzcGFjZXJfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvc3BhY2VyXCIpO1xyXG52YXIgYmFja2dyb3VuZGNvbG9yc2VsZWN0Ym94XzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL3N1YnRpdGxlc2V0dGluZ3MvYmFja2dyb3VuZGNvbG9yc2VsZWN0Ym94XCIpO1xyXG52YXIgYmFja2dyb3VuZG9wYWNpdHlzZWxlY3Rib3hfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvc3VidGl0bGVzZXR0aW5ncy9iYWNrZ3JvdW5kb3BhY2l0eXNlbGVjdGJveFwiKTtcclxudmFyIGNoYXJhY3RlcmVkZ2VzZWxlY3Rib3hfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvc3VidGl0bGVzZXR0aW5ncy9jaGFyYWN0ZXJlZGdlc2VsZWN0Ym94XCIpO1xyXG52YXIgZm9udGNvbG9yc2VsZWN0Ym94XzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL3N1YnRpdGxlc2V0dGluZ3MvZm9udGNvbG9yc2VsZWN0Ym94XCIpO1xyXG52YXIgZm9udGZhbWlseXNlbGVjdGJveF8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9zdWJ0aXRsZXNldHRpbmdzL2ZvbnRmYW1pbHlzZWxlY3Rib3hcIik7XHJcbnZhciBmb250b3BhY2l0eXNlbGVjdGJveF8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9zdWJ0aXRsZXNldHRpbmdzL2ZvbnRvcGFjaXR5c2VsZWN0Ym94XCIpO1xyXG52YXIgZm9udHNpemVzZWxlY3Rib3hfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvc3VidGl0bGVzZXR0aW5ncy9mb250c2l6ZXNlbGVjdGJveFwiKTtcclxudmFyIHN1YnRpdGxlc2V0dGluZ3NidXR0b25fMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvc3VidGl0bGVzZXR0aW5ncy9zdWJ0aXRsZXNldHRpbmdzYnV0dG9uXCIpO1xyXG52YXIgc3VidGl0bGVzZXR0aW5nc2Nsb3NlYnV0dG9uXzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL3N1YnRpdGxlc2V0dGluZ3Mvc3VidGl0bGVzZXR0aW5nc2Nsb3NlYnV0dG9uXCIpO1xyXG52YXIgc3VidGl0bGVzZXR0aW5nc2VsZWN0Ym94XzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL3N1YnRpdGxlc2V0dGluZ3Mvc3VidGl0bGVzZXR0aW5nc2VsZWN0Ym94XCIpO1xyXG52YXIgc3VidGl0bGVzZXR0aW5nc2xhYmVsXzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL3N1YnRpdGxlc2V0dGluZ3Mvc3VidGl0bGVzZXR0aW5nc2xhYmVsXCIpO1xyXG52YXIgc3VidGl0bGVzZXR0aW5nc29wZW5idXR0b25fMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvc3VidGl0bGVzZXR0aW5ncy9zdWJ0aXRsZXNldHRpbmdzb3BlbmJ1dHRvblwiKTtcclxudmFyIHN1YnRpdGxlc2V0dGluZ3NwYW5lbF8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9zdWJ0aXRsZXNldHRpbmdzL3N1YnRpdGxlc2V0dGluZ3NwYW5lbFwiKTtcclxudmFyIHdpbmRvd2NvbG9yc2VsZWN0Ym94XzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL3N1YnRpdGxlc2V0dGluZ3Mvd2luZG93Y29sb3JzZWxlY3Rib3hcIik7XHJcbnZhciB3aW5kb3dvcGFjaXR5c2VsZWN0Ym94XzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL3N1YnRpdGxlc2V0dGluZ3Mvd2luZG93b3BhY2l0eXNlbGVjdGJveFwiKTtcclxudmFyIGFycmF5dXRpbHNfMSA9IHJlcXVpcmUoXCIuL2FycmF5dXRpbHNcIik7XHJcbnZhciBzdHJpbmd1dGlsc18xID0gcmVxdWlyZShcIi4vc3RyaW5ndXRpbHNcIik7XHJcbnZhciBwbGF5ZXJ1dGlsc18xID0gcmVxdWlyZShcIi4vcGxheWVydXRpbHNcIik7XHJcbnZhciB1aXV0aWxzXzEgPSByZXF1aXJlKFwiLi91aXV0aWxzXCIpO1xyXG52YXIgYnJvd3NlcnV0aWxzXzEgPSByZXF1aXJlKFwiLi9icm93c2VydXRpbHNcIik7XHJcbnZhciBzdG9yYWdldXRpbHNfMSA9IHJlcXVpcmUoXCIuL3N0b3JhZ2V1dGlsc1wiKTtcclxudmFyIHN1YnRpdGxlc2V0dGluZ3NyZXNldGJ1dHRvbl8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9zdWJ0aXRsZXNldHRpbmdzL3N1YnRpdGxlc2V0dGluZ3NyZXNldGJ1dHRvblwiKTtcclxuLy8gT2JqZWN0LmFzc2lnbiBwb2x5ZmlsbCBmb3IgRVM1L0lFOVxyXG4vLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9kZS9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3QvYXNzaWduXHJcbmlmICh0eXBlb2YgT2JqZWN0LmFzc2lnbiAhPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgT2JqZWN0LmFzc2lnbiA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcclxuICAgICAgICAndXNlIHN0cmljdCc7XHJcbiAgICAgICAgaWYgKHRhcmdldCA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjb252ZXJ0IHVuZGVmaW5lZCBvciBudWxsIHRvIG9iamVjdCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0YXJnZXQgPSBPYmplY3QodGFyZ2V0KTtcclxuICAgICAgICBmb3IgKHZhciBpbmRleCA9IDE7IGluZGV4IDwgYXJndW1lbnRzLmxlbmd0aDsgaW5kZXgrKykge1xyXG4gICAgICAgICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2luZGV4XTtcclxuICAgICAgICAgICAgaWYgKHNvdXJjZSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRhcmdldDtcclxuICAgIH07XHJcbn1cclxudmFyIHBsYXllcnVpID0ge1xyXG4gICAgdmVyc2lvbjogJ3t7VkVSU0lPTn19JyxcclxuICAgIC8vIE1hbmFnZW1lbnRcclxuICAgIFVJTWFuYWdlcjogdWltYW5hZ2VyXzEuVUlNYW5hZ2VyLFxyXG4gICAgVUlJbnN0YW5jZU1hbmFnZXI6IHVpbWFuYWdlcl8xLlVJSW5zdGFuY2VNYW5hZ2VyLFxyXG4gICAgLy8gVXRpbHNcclxuICAgIEFycmF5VXRpbHM6IGFycmF5dXRpbHNfMS5BcnJheVV0aWxzLFxyXG4gICAgU3RyaW5nVXRpbHM6IHN0cmluZ3V0aWxzXzEuU3RyaW5nVXRpbHMsXHJcbiAgICBQbGF5ZXJVdGlsczogcGxheWVydXRpbHNfMS5QbGF5ZXJVdGlscyxcclxuICAgIFVJVXRpbHM6IHVpdXRpbHNfMS5VSVV0aWxzLFxyXG4gICAgQnJvd3NlclV0aWxzOiBicm93c2VydXRpbHNfMS5Ccm93c2VyVXRpbHMsXHJcbiAgICBTdG9yYWdlVXRpbHM6IHN0b3JhZ2V1dGlsc18xLlN0b3JhZ2VVdGlscyxcclxuICAgIC8vIENvbXBvbmVudHNcclxuICAgIEFkQ2xpY2tPdmVybGF5OiBhZGNsaWNrb3ZlcmxheV8xLkFkQ2xpY2tPdmVybGF5LFxyXG4gICAgQWRNZXNzYWdlTGFiZWw6IGFkbWVzc2FnZWxhYmVsXzEuQWRNZXNzYWdlTGFiZWwsXHJcbiAgICBBZFNraXBCdXR0b246IGFkc2tpcGJ1dHRvbl8xLkFkU2tpcEJ1dHRvbixcclxuICAgIEFpclBsYXlUb2dnbGVCdXR0b246IGFpcnBsYXl0b2dnbGVidXR0b25fMS5BaXJQbGF5VG9nZ2xlQnV0dG9uLFxyXG4gICAgQXVkaW9RdWFsaXR5U2VsZWN0Qm94OiBhdWRpb3F1YWxpdHlzZWxlY3Rib3hfMS5BdWRpb1F1YWxpdHlTZWxlY3RCb3gsXHJcbiAgICBBdWRpb1RyYWNrU2VsZWN0Qm94OiBhdWRpb3RyYWNrc2VsZWN0Ym94XzEuQXVkaW9UcmFja1NlbGVjdEJveCxcclxuICAgIEJ1ZmZlcmluZ092ZXJsYXk6IGJ1ZmZlcmluZ292ZXJsYXlfMS5CdWZmZXJpbmdPdmVybGF5LFxyXG4gICAgQnV0dG9uOiBidXR0b25fMS5CdXR0b24sXHJcbiAgICBDYXN0U3RhdHVzT3ZlcmxheTogY2FzdHN0YXR1c292ZXJsYXlfMS5DYXN0U3RhdHVzT3ZlcmxheSxcclxuICAgIENhc3RUb2dnbGVCdXR0b246IGNhc3R0b2dnbGVidXR0b25fMS5DYXN0VG9nZ2xlQnV0dG9uLFxyXG4gICAgQ2FzdFVJQ29udGFpbmVyOiBjYXN0dWljb250YWluZXJfMS5DYXN0VUlDb250YWluZXIsXHJcbiAgICBDbGlja092ZXJsYXk6IGNsaWNrb3ZlcmxheV8xLkNsaWNrT3ZlcmxheSxcclxuICAgIENsb3NlQnV0dG9uOiBjbG9zZWJ1dHRvbl8xLkNsb3NlQnV0dG9uLFxyXG4gICAgQ29tcG9uZW50OiBjb21wb25lbnRfMS5Db21wb25lbnQsXHJcbiAgICBDb250YWluZXI6IGNvbnRhaW5lcl8xLkNvbnRhaW5lcixcclxuICAgIENvbnRyb2xCYXI6IGNvbnRyb2xiYXJfMS5Db250cm9sQmFyLFxyXG4gICAgRXJyb3JNZXNzYWdlT3ZlcmxheTogZXJyb3JtZXNzYWdlb3ZlcmxheV8xLkVycm9yTWVzc2FnZU92ZXJsYXksXHJcbiAgICBGdWxsc2NyZWVuVG9nZ2xlQnV0dG9uOiBmdWxsc2NyZWVudG9nZ2xlYnV0dG9uXzEuRnVsbHNjcmVlblRvZ2dsZUJ1dHRvbixcclxuICAgIEh1Z2VQbGF5YmFja1RvZ2dsZUJ1dHRvbjogaHVnZXBsYXliYWNrdG9nZ2xlYnV0dG9uXzEuSHVnZVBsYXliYWNrVG9nZ2xlQnV0dG9uLFxyXG4gICAgSHVnZVJlcGxheUJ1dHRvbjogaHVnZXJlcGxheWJ1dHRvbl8xLkh1Z2VSZXBsYXlCdXR0b24sXHJcbiAgICBMYWJlbDogbGFiZWxfMS5MYWJlbCxcclxuICAgIE1ldGFkYXRhTGFiZWw6IG1ldGFkYXRhbGFiZWxfMS5NZXRhZGF0YUxhYmVsLFxyXG4gICAgTWV0YWRhdGFMYWJlbENvbnRlbnQ6IG1ldGFkYXRhbGFiZWxfMS5NZXRhZGF0YUxhYmVsQ29udGVudCxcclxuICAgIFBpY3R1cmVJblBpY3R1cmVUb2dnbGVCdXR0b246IHBpY3R1cmVpbnBpY3R1cmV0b2dnbGVidXR0b25fMS5QaWN0dXJlSW5QaWN0dXJlVG9nZ2xlQnV0dG9uLFxyXG4gICAgUGxheWJhY2tTcGVlZFNlbGVjdEJveDogcGxheWJhY2tzcGVlZHNlbGVjdGJveF8xLlBsYXliYWNrU3BlZWRTZWxlY3RCb3gsXHJcbiAgICBQbGF5YmFja1RpbWVMYWJlbDogcGxheWJhY2t0aW1lbGFiZWxfMS5QbGF5YmFja1RpbWVMYWJlbCxcclxuICAgIFBsYXliYWNrVGltZUxhYmVsTW9kZTogcGxheWJhY2t0aW1lbGFiZWxfMS5QbGF5YmFja1RpbWVMYWJlbE1vZGUsXHJcbiAgICBQbGF5YmFja1RvZ2dsZUJ1dHRvbjogcGxheWJhY2t0b2dnbGVidXR0b25fMS5QbGF5YmFja1RvZ2dsZUJ1dHRvbixcclxuICAgIFBsYXliYWNrVG9nZ2xlT3ZlcmxheTogcGxheWJhY2t0b2dnbGVvdmVybGF5XzEuUGxheWJhY2tUb2dnbGVPdmVybGF5LFxyXG4gICAgUmVjb21tZW5kYXRpb25PdmVybGF5OiByZWNvbW1lbmRhdGlvbm92ZXJsYXlfMS5SZWNvbW1lbmRhdGlvbk92ZXJsYXksXHJcbiAgICBTZWVrQmFyOiBzZWVrYmFyXzEuU2Vla0JhcixcclxuICAgIFNlZWtCYXJMYWJlbDogc2Vla2JhcmxhYmVsXzEuU2Vla0JhckxhYmVsLFxyXG4gICAgU2VsZWN0Qm94OiBzZWxlY3Rib3hfMS5TZWxlY3RCb3gsXHJcbiAgICBJdGVtU2VsZWN0aW9uTGlzdDogaXRlbXNlbGVjdGlvbmxpc3RfMS5JdGVtU2VsZWN0aW9uTGlzdCxcclxuICAgIFNldHRpbmdzUGFuZWw6IHNldHRpbmdzcGFuZWxfMS5TZXR0aW5nc1BhbmVsLFxyXG4gICAgU2V0dGluZ3NQYW5lbEl0ZW06IHNldHRpbmdzcGFuZWxfMS5TZXR0aW5nc1BhbmVsSXRlbSxcclxuICAgIFNldHRpbmdzVG9nZ2xlQnV0dG9uOiBzZXR0aW5nc3RvZ2dsZWJ1dHRvbl8xLlNldHRpbmdzVG9nZ2xlQnV0dG9uLFxyXG4gICAgU3BhY2VyOiBzcGFjZXJfMS5TcGFjZXIsXHJcbiAgICBTdWJ0aXRsZU92ZXJsYXk6IHN1YnRpdGxlb3ZlcmxheV8xLlN1YnRpdGxlT3ZlcmxheSxcclxuICAgIFN1YnRpdGxlU2VsZWN0Qm94OiBzdWJ0aXRsZXNlbGVjdGJveF8xLlN1YnRpdGxlU2VsZWN0Qm94LFxyXG4gICAgVGl0bGVCYXI6IHRpdGxlYmFyXzEuVGl0bGVCYXIsXHJcbiAgICBUb2dnbGVCdXR0b246IHRvZ2dsZWJ1dHRvbl8xLlRvZ2dsZUJ1dHRvbixcclxuICAgIFVJQ29udGFpbmVyOiB1aWNvbnRhaW5lcl8xLlVJQ29udGFpbmVyLFxyXG4gICAgVmlkZW9RdWFsaXR5U2VsZWN0Qm94OiB2aWRlb3F1YWxpdHlzZWxlY3Rib3hfMS5WaWRlb1F1YWxpdHlTZWxlY3RCb3gsXHJcbiAgICBWb2x1bWVDb250cm9sQnV0dG9uOiB2b2x1bWVjb250cm9sYnV0dG9uXzEuVm9sdW1lQ29udHJvbEJ1dHRvbixcclxuICAgIFZvbHVtZVNsaWRlcjogdm9sdW1lc2xpZGVyXzEuVm9sdW1lU2xpZGVyLFxyXG4gICAgVm9sdW1lVG9nZ2xlQnV0dG9uOiB2b2x1bWV0b2dnbGVidXR0b25fMS5Wb2x1bWVUb2dnbGVCdXR0b24sXHJcbiAgICBWUlRvZ2dsZUJ1dHRvbjogdnJ0b2dnbGVidXR0b25fMS5WUlRvZ2dsZUJ1dHRvbixcclxuICAgIFdhdGVybWFyazogd2F0ZXJtYXJrXzEuV2F0ZXJtYXJrLFxyXG4gICAgLy8gU3VidGl0bGUgcmVsYXRlZCBjb21wb25lbnRzXHJcbiAgICBzdWJ0aXRsZXNldHRpbmdzOiB7XHJcbiAgICAgICAgQmFja2dyb3VuZENvbG9yU2VsZWN0Qm94OiBiYWNrZ3JvdW5kY29sb3JzZWxlY3Rib3hfMS5CYWNrZ3JvdW5kQ29sb3JTZWxlY3RCb3gsXHJcbiAgICAgICAgQmFja2dyb3VuZE9wYWNpdHlTZWxlY3RCb3g6IGJhY2tncm91bmRvcGFjaXR5c2VsZWN0Ym94XzEuQmFja2dyb3VuZE9wYWNpdHlTZWxlY3RCb3gsXHJcbiAgICAgICAgQ2hhcmFjdGVyRWRnZVNlbGVjdEJveDogY2hhcmFjdGVyZWRnZXNlbGVjdGJveF8xLkNoYXJhY3RlckVkZ2VTZWxlY3RCb3gsXHJcbiAgICAgICAgRm9udENvbG9yU2VsZWN0Qm94OiBmb250Y29sb3JzZWxlY3Rib3hfMS5Gb250Q29sb3JTZWxlY3RCb3gsXHJcbiAgICAgICAgRm9udEZhbWlseVNlbGVjdEJveDogZm9udGZhbWlseXNlbGVjdGJveF8xLkZvbnRGYW1pbHlTZWxlY3RCb3gsXHJcbiAgICAgICAgRm9udE9wYWNpdHlTZWxlY3RCb3g6IGZvbnRvcGFjaXR5c2VsZWN0Ym94XzEuRm9udE9wYWNpdHlTZWxlY3RCb3gsXHJcbiAgICAgICAgRm9udFNpemVTZWxlY3RCb3g6IGZvbnRzaXplc2VsZWN0Ym94XzEuRm9udFNpemVTZWxlY3RCb3gsXHJcbiAgICAgICAgU3VidGl0bGVTZXR0aW5nc0J1dHRvbjogc3VidGl0bGVzZXR0aW5nc2J1dHRvbl8xLlN1YnRpdGxlU2V0dGluZ3NCdXR0b24sXHJcbiAgICAgICAgU3VidGl0bGVTZXR0aW5nc0Nsb3NlQnV0dG9uOiBzdWJ0aXRsZXNldHRpbmdzY2xvc2VidXR0b25fMS5TdWJ0aXRsZVNldHRpbmdzQ2xvc2VCdXR0b24sXHJcbiAgICAgICAgU3VidGl0bGVTZXR0aW5nU2VsZWN0Qm94OiBzdWJ0aXRsZXNldHRpbmdzZWxlY3Rib3hfMS5TdWJ0aXRsZVNldHRpbmdTZWxlY3RCb3gsXHJcbiAgICAgICAgU3VidGl0bGVTZXR0aW5nc0xhYmVsOiBzdWJ0aXRsZXNldHRpbmdzbGFiZWxfMS5TdWJ0aXRsZVNldHRpbmdzTGFiZWwsXHJcbiAgICAgICAgU3VidGl0bGVTZXR0aW5nc09wZW5CdXR0b246IHN1YnRpdGxlc2V0dGluZ3NvcGVuYnV0dG9uXzEuU3VidGl0bGVTZXR0aW5nc09wZW5CdXR0b24sXHJcbiAgICAgICAgU3VidGl0bGVTZXR0aW5nc1BhbmVsOiBzdWJ0aXRsZXNldHRpbmdzcGFuZWxfMS5TdWJ0aXRsZVNldHRpbmdzUGFuZWwsXHJcbiAgICAgICAgV2luZG93Q29sb3JTZWxlY3RCb3g6IHdpbmRvd2NvbG9yc2VsZWN0Ym94XzEuV2luZG93Q29sb3JTZWxlY3RCb3gsXHJcbiAgICAgICAgV2luZG93T3BhY2l0eVNlbGVjdEJveDogd2luZG93b3BhY2l0eXNlbGVjdGJveF8xLldpbmRvd09wYWNpdHlTZWxlY3RCb3gsXHJcbiAgICAgICAgU3VidGl0bGVTZXR0aW5nc1Jlc2V0QnV0dG9uOiBzdWJ0aXRsZXNldHRpbmdzcmVzZXRidXR0b25fMS5TdWJ0aXRsZVNldHRpbmdzUmVzZXRCdXR0b24sXHJcbiAgICB9LFxyXG59O1xyXG53aW5kb3cuYml0bW92aW4ucGxheWVydWkgPSBwbGF5ZXJ1aTtcclxubW9kdWxlLmV4cG9ydHMgPSBwbGF5ZXJ1aTtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9tYWluLnRzXG4vLyBtb2R1bGUgaWQgPSA3MFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbnZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xyXG4gICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXHJcbiAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHQ7XHJcbn07XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIHVpY29udGFpbmVyXzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL3VpY29udGFpbmVyXCIpO1xyXG52YXIgZG9tXzEgPSByZXF1aXJlKFwiLi9kb21cIik7XHJcbnZhciBjb250YWluZXJfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvY29udGFpbmVyXCIpO1xyXG52YXIgcGxheWJhY2t0b2dnbGVidXR0b25fMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvcGxheWJhY2t0b2dnbGVidXR0b25cIik7XHJcbnZhciBmdWxsc2NyZWVudG9nZ2xlYnV0dG9uXzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL2Z1bGxzY3JlZW50b2dnbGVidXR0b25cIik7XHJcbnZhciB2cnRvZ2dsZWJ1dHRvbl8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy92cnRvZ2dsZWJ1dHRvblwiKTtcclxudmFyIHZvbHVtZXRvZ2dsZWJ1dHRvbl8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy92b2x1bWV0b2dnbGVidXR0b25cIik7XHJcbnZhciBzZWVrYmFyXzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL3NlZWtiYXJcIik7XHJcbnZhciBwbGF5YmFja3RpbWVsYWJlbF8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9wbGF5YmFja3RpbWVsYWJlbFwiKTtcclxudmFyIGNvbnRyb2xiYXJfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvY29udHJvbGJhclwiKTtcclxudmFyIGV2ZW50ZGlzcGF0Y2hlcl8xID0gcmVxdWlyZShcIi4vZXZlbnRkaXNwYXRjaGVyXCIpO1xyXG52YXIgc2V0dGluZ3N0b2dnbGVidXR0b25fMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvc2V0dGluZ3N0b2dnbGVidXR0b25cIik7XHJcbnZhciBzZXR0aW5nc3BhbmVsXzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL3NldHRpbmdzcGFuZWxcIik7XHJcbnZhciBzdWJ0aXRsZXNldHRpbmdzcGFuZWxfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvc3VidGl0bGVzZXR0aW5ncy9zdWJ0aXRsZXNldHRpbmdzcGFuZWxcIik7XHJcbnZhciBzdWJ0aXRsZXNldHRpbmdzbGFiZWxfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvc3VidGl0bGVzZXR0aW5ncy9zdWJ0aXRsZXNldHRpbmdzbGFiZWxcIik7XHJcbnZhciBzdWJ0aXRsZXNldHRpbmdzb3BlbmJ1dHRvbl8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9zdWJ0aXRsZXNldHRpbmdzL3N1YnRpdGxlc2V0dGluZ3NvcGVuYnV0dG9uXCIpO1xyXG52YXIgdmlkZW9xdWFsaXR5c2VsZWN0Ym94XzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL3ZpZGVvcXVhbGl0eXNlbGVjdGJveFwiKTtcclxuLy8gaW1wb3J0IHtXYXRlcm1hcmt9IGZyb20gJy4vY29tcG9uZW50cy93YXRlcm1hcmsnO1xyXG52YXIgYXVkaW9xdWFsaXR5c2VsZWN0Ym94XzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL2F1ZGlvcXVhbGl0eXNlbGVjdGJveFwiKTtcclxudmFyIGF1ZGlvdHJhY2tzZWxlY3Rib3hfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvYXVkaW90cmFja3NlbGVjdGJveFwiKTtcclxudmFyIHNlZWtiYXJsYWJlbF8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9zZWVrYmFybGFiZWxcIik7XHJcbnZhciB2b2x1bWVzbGlkZXJfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvdm9sdW1lc2xpZGVyXCIpO1xyXG52YXIgc3VidGl0bGVzZWxlY3Rib3hfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvc3VidGl0bGVzZWxlY3Rib3hcIik7XHJcbnZhciBzdWJ0aXRsZW92ZXJsYXlfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvc3VidGl0bGVvdmVybGF5XCIpO1xyXG4vLyBpbXBvcnQge1ZvbHVtZUNvbnRyb2xCdXR0b259IGZyb20gJy4vY29tcG9uZW50cy92b2x1bWVjb250cm9sYnV0dG9uJztcclxudmFyIGNhc3R0b2dnbGVidXR0b25fMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvY2FzdHRvZ2dsZWJ1dHRvblwiKTtcclxudmFyIGNhc3RzdGF0dXNvdmVybGF5XzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL2Nhc3RzdGF0dXNvdmVybGF5XCIpO1xyXG52YXIgZXJyb3JtZXNzYWdlb3ZlcmxheV8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9lcnJvcm1lc3NhZ2VvdmVybGF5XCIpO1xyXG52YXIgdGl0bGViYXJfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvdGl0bGViYXJcIik7XHJcbnZhciByZWNvbW1lbmRhdGlvbm92ZXJsYXlfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvcmVjb21tZW5kYXRpb25vdmVybGF5XCIpO1xyXG52YXIgcGxheWJhY2tzcGVlZHNlbGVjdGJveF8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9wbGF5YmFja3NwZWVkc2VsZWN0Ym94XCIpO1xyXG52YXIgYnVmZmVyaW5nb3ZlcmxheV8xID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy9idWZmZXJpbmdvdmVybGF5XCIpO1xyXG4vLyBpbXBvcnQge0Nhc3RVSUNvbnRhaW5lcn0gZnJvbSAnLi9jb21wb25lbnRzL2Nhc3R1aWNvbnRhaW5lcic7XHJcbnZhciBwbGF5YmFja3RvZ2dsZW92ZXJsYXlfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvcGxheWJhY2t0b2dnbGVvdmVybGF5XCIpO1xyXG52YXIgY2xvc2VidXR0b25fMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvY2xvc2VidXR0b25cIik7XHJcbnZhciBtZXRhZGF0YWxhYmVsXzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL21ldGFkYXRhbGFiZWxcIik7XHJcbnZhciBhaXJwbGF5dG9nZ2xlYnV0dG9uXzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL2FpcnBsYXl0b2dnbGVidXR0b25cIik7XHJcbnZhciBwaWN0dXJlaW5waWN0dXJldG9nZ2xlYnV0dG9uXzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL3BpY3R1cmVpbnBpY3R1cmV0b2dnbGVidXR0b25cIik7XHJcbnZhciBhdWRpb29ubHlvdmVybGF5XzEgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL2F1ZGlvb25seW92ZXJsYXlcIik7XHJcbnZhciBzcGFjZXJfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvc3BhY2VyXCIpO1xyXG52YXIgdWl1dGlsc18xID0gcmVxdWlyZShcIi4vdWl1dGlsc1wiKTtcclxudmFyIGFycmF5dXRpbHNfMSA9IHJlcXVpcmUoXCIuL2FycmF5dXRpbHNcIik7XHJcbnZhciBicm93c2VydXRpbHNfMSA9IHJlcXVpcmUoXCIuL2Jyb3dzZXJ1dGlsc1wiKTtcclxudmFyIFVJTWFuYWdlciA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBVSU1hbmFnZXIocGxheWVyLCBwbGF5ZXJVaU9yVWlWYXJpYW50cywgY29uZmlnKSB7XHJcbiAgICAgICAgaWYgKGNvbmZpZyA9PT0gdm9pZCAwKSB7IGNvbmZpZyA9IHt9OyB9XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB0aGlzLmV2ZW50cyA9IHtcclxuICAgICAgICAgICAgb25VaVZhcmlhbnRSZXNvbHZlOiBuZXcgZXZlbnRkaXNwYXRjaGVyXzEuRXZlbnREaXNwYXRjaGVyKCksXHJcbiAgICAgICAgfTtcclxuICAgICAgICBpZiAocGxheWVyVWlPclVpVmFyaWFudHMgaW5zdGFuY2VvZiB1aWNvbnRhaW5lcl8xLlVJQ29udGFpbmVyKSB7XHJcbiAgICAgICAgICAgIC8vIFNpbmdsZS1VSSBjb25zdHJ1Y3RvciBoYXMgYmVlbiBjYWxsZWQsIHRyYW5zZm9ybSBhcmd1bWVudHMgdG8gVUlWYXJpYW50W10gc2lnbmF0dXJlXHJcbiAgICAgICAgICAgIHZhciBwbGF5ZXJVaSA9IHBsYXllclVpT3JVaVZhcmlhbnRzO1xyXG4gICAgICAgICAgICB2YXIgdWlWYXJpYW50cyA9IFtdO1xyXG4gICAgICAgICAgICAvLyBBZGQgdGhlIGRlZmF1bHQgcGxheWVyIFVJXHJcbiAgICAgICAgICAgIHVpVmFyaWFudHMucHVzaCh7IHVpOiBwbGF5ZXJVaSB9KTtcclxuICAgICAgICAgICAgdGhpcy51aVZhcmlhbnRzID0gdWlWYXJpYW50cztcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIERlZmF1bHQgY29uc3RydWN0b3IgKFVJVmFyaWFudFtdKSBoYXMgYmVlbiBjYWxsZWRcclxuICAgICAgICAgICAgdGhpcy51aVZhcmlhbnRzID0gcGxheWVyVWlPclVpVmFyaWFudHM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucGxheWVyID0gcGxheWVyO1xyXG4gICAgICAgIHRoaXMuY29uZmlnID0gX19hc3NpZ24oe30sIGNvbmZpZywgeyBldmVudHM6IHtcclxuICAgICAgICAgICAgICAgIG9uVXBkYXRlZDogbmV3IGV2ZW50ZGlzcGF0Y2hlcl8xLkV2ZW50RGlzcGF0Y2hlcigpLFxyXG4gICAgICAgICAgICB9IH0pO1xyXG4gICAgICAgIHRoaXMubWFuYWdlclBsYXllcldyYXBwZXIgPSBuZXcgUGxheWVyV3JhcHBlcihwbGF5ZXIpO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEdhdGhlcnMgY29uZmlndXJhdGlvbiBkYXRhIGZyb20gdGhlIFVJIGNvbmZpZyBhbmQgcGxheWVyIHNvdXJjZSBjb25maWcgYW5kIGNyZWF0ZXMgYSBtZXJnZWQgVUkgY29uZmlnXHJcbiAgICAgICAgICogdGhhdCBpcyB1c2VkIHRocm91Z2hvdXQgdGhlIFVJIGluc3RhbmNlLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHZhciB1cGRhdGVDb25maWcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBwbGF5ZXJTb3VyY2VDb25maWcgPSBwbGF5ZXIuZ2V0Q29uZmlnKCkuc291cmNlIHx8IHt9O1xyXG4gICAgICAgICAgICB2YXIgdWlDb25maWcgPSBfX2Fzc2lnbih7fSwgY29uZmlnKTtcclxuICAgICAgICAgICAgdWlDb25maWcubWV0YWRhdGEgPSB1aUNvbmZpZy5tZXRhZGF0YSB8fCB7fTtcclxuICAgICAgICAgICAgLy8gRXh0cmFjdCB0aGUgVUktcmVsYXRlZCBjb25maWcgcHJvcGVydGllcyBmcm9tIHRoZSBzb3VyY2UgY29uZmlnXHJcbiAgICAgICAgICAgIHZhciBwbGF5ZXJTb3VyY2VVaUNvbmZpZyA9IHtcclxuICAgICAgICAgICAgICAgIG1ldGFkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETyBtb3ZlIG1ldGFkYXRhIGludG8gc291cmNlLm1ldGFkYXRhIG5hbWVzcGFjZSBpbiBwbGF5ZXIgdjhcclxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogcGxheWVyU291cmNlQ29uZmlnLnRpdGxlLFxyXG4gICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBwbGF5ZXJTb3VyY2VDb25maWcuZGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgbWFya2VyczogcGxheWVyU291cmNlQ29uZmlnLm1hcmtlcnMsXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgcmVjb21tZW5kYXRpb25zOiBwbGF5ZXJTb3VyY2VDb25maWcucmVjb21tZW5kYXRpb25zLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvLyBQbGF5ZXIgc291cmNlIGNvbmZpZyB0YWtlcyBwcmVjZWRlbmNlIG92ZXIgdGhlIFVJIGNvbmZpZywgYmVjYXVzZSB0aGUgY29uZmlnIGluIHRoZSBzb3VyY2UgaXMgYXR0YWNoZWRcclxuICAgICAgICAgICAgLy8gdG8gYSBzb3VyY2Ugd2hpY2ggY2hhbmdlcyB3aXRoIGV2ZXJ5IHBsYXllci5sb2FkLCB3aGVyZWFzIHRoZSBVSSBjb25maWcgc3RheXMgdGhlIHNhbWUgZm9yIHRoZSB3aG9sZVxyXG4gICAgICAgICAgICAvLyBsaWZldGltZSBvZiB0aGUgcGxheWVyIGluc3RhbmNlLlxyXG4gICAgICAgICAgICBfdGhpcy5jb25maWcubWV0YWRhdGEgPSBfdGhpcy5jb25maWcubWV0YWRhdGEgfHwge307XHJcbiAgICAgICAgICAgIF90aGlzLmNvbmZpZy5tZXRhZGF0YS50aXRsZSA9IHBsYXllclNvdXJjZVVpQ29uZmlnLm1ldGFkYXRhLnRpdGxlIHx8IHVpQ29uZmlnLm1ldGFkYXRhLnRpdGxlO1xyXG4gICAgICAgICAgICBfdGhpcy5jb25maWcubWV0YWRhdGEuZGVzY3JpcHRpb24gPSBwbGF5ZXJTb3VyY2VVaUNvbmZpZy5tZXRhZGF0YS5kZXNjcmlwdGlvbiB8fCB1aUNvbmZpZy5tZXRhZGF0YS5kZXNjcmlwdGlvbjtcclxuICAgICAgICAgICAgX3RoaXMuY29uZmlnLm1ldGFkYXRhLm1hcmtlcnMgPSBwbGF5ZXJTb3VyY2VVaUNvbmZpZy5tZXRhZGF0YS5tYXJrZXJzIHx8IHVpQ29uZmlnLm1ldGFkYXRhLm1hcmtlcnMgfHwgW107XHJcbiAgICAgICAgICAgIF90aGlzLmNvbmZpZy5yZWNvbW1lbmRhdGlvbnMgPSBwbGF5ZXJTb3VyY2VVaUNvbmZpZy5yZWNvbW1lbmRhdGlvbnMgfHwgdWlDb25maWcucmVjb21tZW5kYXRpb25zIHx8IFtdO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdXBkYXRlQ29uZmlnKCk7XHJcbiAgICAgICAgLy8gVXBkYXRlIHRoZSBjb25maWd1cmF0aW9uIHdoZW4gYSBuZXcgc291cmNlIGlzIGxvYWRlZFxyXG4gICAgICAgIHRoaXMubWFuYWdlclBsYXllcldyYXBwZXIuZ2V0UGxheWVyKCkuYWRkRXZlbnRIYW5kbGVyKHRoaXMucGxheWVyLkVWRU5ULk9OX1NPVVJDRV9MT0FERUQsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdXBkYXRlQ29uZmlnKCk7XHJcbiAgICAgICAgICAgIF90aGlzLmNvbmZpZy5ldmVudHMub25VcGRhdGVkLmRpc3BhdGNoKF90aGlzKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAoY29uZmlnLmNvbnRhaW5lcikge1xyXG4gICAgICAgICAgICAvLyBVbmZvcnR1bmF0ZWx5ICd1aUNvbnRhaW5lckVsZW1lbnQgPSBuZXcgRE9NKGNvbmZpZy5jb250YWluZXIpJyB3aWxsIG5vdCBhY2NlcHQgdGhlIGNvbnRhaW5lciB3aXRoXHJcbiAgICAgICAgICAgIC8vIHN0cmluZ3xIVE1MRWxlbWVudCB0eXBlIGRpcmVjdGx5LCBhbHRob3VnaCBpdCBhY2NlcHRzIGJvdGggdHlwZXMsIHNvIHdlIG5lZWQgdG8gc3BpdCB0aGVzZSB0d28gY2FzZXMgdXAgaGVyZS5cclxuICAgICAgICAgICAgLy8gVE9ETyBjaGVjayBpbiB1cGNvbWluZyBUUyB2ZXJzaW9ucyBpZiB0aGUgY29udGFpbmVyIGNhbiBiZSBwYXNzZWQgaW4gZGlyZWN0bHksIG9yIGZpeCB0aGUgY29uc3RydWN0b3JcclxuICAgICAgICAgICAgdGhpcy51aUNvbnRhaW5lckVsZW1lbnQgPSBjb25maWcuY29udGFpbmVyIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQgP1xyXG4gICAgICAgICAgICAgICAgbmV3IGRvbV8xLkRPTShjb25maWcuY29udGFpbmVyKSA6IG5ldyBkb21fMS5ET00oY29uZmlnLmNvbnRhaW5lcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnVpQ29udGFpbmVyRWxlbWVudCA9IG5ldyBkb21fMS5ET00ocGxheWVyLmdldEZpZ3VyZSgpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gQ3JlYXRlIFVJIGluc3RhbmNlIG1hbmFnZXJzIGZvciB0aGUgVUkgdmFyaWFudHNcclxuICAgICAgICAvLyBUaGUgaW5zdGFuY2UgbWFuYWdlcnMgbWFwIHRvIHRoZSBjb3JyZXNwb25kaW5nIFVJIHZhcmlhbnRzIGJ5IHRoZWlyIGFycmF5IGluZGV4XHJcbiAgICAgICAgdGhpcy51aUluc3RhbmNlTWFuYWdlcnMgPSBbXTtcclxuICAgICAgICB2YXIgdWlWYXJpYW50c1dpdGhvdXRDb25kaXRpb24gPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gdGhpcy51aVZhcmlhbnRzOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICB2YXIgdWlWYXJpYW50ID0gX2FbX2ldO1xyXG4gICAgICAgICAgICBpZiAodWlWYXJpYW50LmNvbmRpdGlvbiA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBDb2xsZWN0IHZhcmlhbnRzIHdpdGhvdXQgY29uZGl0aW9ucyBmb3IgZXJyb3IgY2hlY2tpbmdcclxuICAgICAgICAgICAgICAgIHVpVmFyaWFudHNXaXRob3V0Q29uZGl0aW9uLnB1c2godWlWYXJpYW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBDcmVhdGUgdGhlIGluc3RhbmNlIG1hbmFnZXIgZm9yIGEgVUkgdmFyaWFudFxyXG4gICAgICAgICAgICB0aGlzLnVpSW5zdGFuY2VNYW5hZ2Vycy5wdXNoKG5ldyBJbnRlcm5hbFVJSW5zdGFuY2VNYW5hZ2VyKHBsYXllciwgdWlWYXJpYW50LnVpLCB0aGlzLmNvbmZpZykpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBNYWtlIHN1cmUgdGhhdCB0aGVyZSBpcyBvbmx5IG9uZSBVSSB2YXJpYW50IHdpdGhvdXQgYSBjb25kaXRpb25cclxuICAgICAgICAvLyBJdCBkb2VzIG5vdCBtYWtlIHNlbnNlIHRvIGhhdmUgbXVsdGlwbGUgdmFyaWFudHMgd2l0aG91dCBjb25kaXRpb24sIGJlY2F1c2Ugb25seSB0aGUgZmlyc3Qgb25lIGluIHRoZSBsaXN0XHJcbiAgICAgICAgLy8gKHRoZSBvbmUgd2l0aCB0aGUgbG93ZXN0IGluZGV4KSB3aWxsIGV2ZXIgYmUgc2VsZWN0ZWQuXHJcbiAgICAgICAgaWYgKHVpVmFyaWFudHNXaXRob3V0Q29uZGl0aW9uLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ1RvbyBtYW55IFVJcyB3aXRob3V0IGEgY29uZGl0aW9uOiBZb3UgY2Fubm90IGhhdmUgbW9yZSB0aGFuIG9uZSBkZWZhdWx0IFVJJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIE1ha2Ugc3VyZSB0aGF0IHRoZSBkZWZhdWx0IFVJIHZhcmlhbnQsIGlmIGRlZmluZWQsIGlzIGF0IHRoZSBlbmQgb2YgdGhlIGxpc3QgKGxhc3QgaW5kZXgpXHJcbiAgICAgICAgLy8gSWYgaXQgY29tZXMgZWFybGllciwgdGhlIHZhcmlhbnRzIHdpdGggY29uZGl0aW9ucyB0aGF0IGNvbWUgYWZ0ZXJ3YXJkcyB3aWxsIG5ldmVyIGJlIHNlbGVjdGVkIGJlY2F1c2UgdGhlXHJcbiAgICAgICAgLy8gZGVmYXVsdCB2YXJpYW50IHdpdGhvdXQgYSBjb25kaXRpb24gYWx3YXlzIGV2YWx1YXRlcyB0byAndHJ1ZSdcclxuICAgICAgICBpZiAodWlWYXJpYW50c1dpdGhvdXRDb25kaXRpb24ubGVuZ3RoID4gMFxyXG4gICAgICAgICAgICAmJiB1aVZhcmlhbnRzV2l0aG91dENvbmRpdGlvblswXSAhPT0gdGhpcy51aVZhcmlhbnRzW3RoaXMudWlWYXJpYW50cy5sZW5ndGggLSAxXSkge1xyXG4gICAgICAgICAgICB0aHJvdyBFcnJvcignSW52YWxpZCBVSSB2YXJpYW50IG9yZGVyOiB0aGUgZGVmYXVsdCBVSSAod2l0aG91dCBjb25kaXRpb24pIG11c3QgYmUgYXQgdGhlIGVuZCBvZiB0aGUgbGlzdCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBTd2l0Y2ggb24gYXV0byBVSSByZXNvbHZpbmcgYnkgZGVmYXVsdFxyXG4gICAgICAgIGlmIChjb25maWcuYXV0b1VpVmFyaWFudFJlc29sdmUgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBjb25maWcuYXV0b1VpVmFyaWFudFJlc29sdmUgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgYWRTdGFydGVkRXZlbnQgPSBudWxsOyAvLyBrZWVwIHRoZSBldmVudCBzdG9yZWQgaGVyZSBkdXJpbmcgYWQgcGxheWJhY2tcclxuICAgICAgICAvLyBEeW5hbWljYWxseSBzZWxlY3QgYSBVSSB2YXJpYW50IHRoYXQgbWF0Y2hlcyB0aGUgY3VycmVudCBVSSBjb25kaXRpb24uXHJcbiAgICAgICAgdmFyIHJlc29sdmVVaVZhcmlhbnQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHRoYXQgdGhlIE9OX0FEX1NUQVJURUQgZXZlbnQgZGF0YSBpcyBwZXJzaXN0ZWQgdGhyb3VnaCBhZCBwbGF5YmFjayBpbiBjYXNlIG90aGVyIGV2ZW50cyBoYXBwZW5cclxuICAgICAgICAgICAgLy8gaW4gdGhlIG1lYW50aW1lLCBlLmcuIHBsYXllciByZXNpemUuIFdlIG5lZWQgdG8gc3RvcmUgdGhpcyBkYXRhIGJlY2F1c2UgdGhlcmUgaXMgbm8gb3RoZXIgd2F5IHRvIGZpbmQgb3V0XHJcbiAgICAgICAgICAgIC8vIGFkIGRldGFpbHMgKGUuZy4gdGhlIGFkIGNsaWVudCkgd2hpbGUgYW4gYWQgaXMgcGxheWluZy5cclxuICAgICAgICAgICAgLy8gRXhpc3RpbmcgZXZlbnQgZGF0YSBzaWduYWxzIHRoYXQgYW4gYWQgaXMgY3VycmVudGx5IGFjdGl2ZS4gV2UgY2Fubm90IHVzZSBwbGF5ZXIuaXNBZCgpIGJlY2F1c2UgaXQgcmV0dXJuc1xyXG4gICAgICAgICAgICAvLyB0cnVlIG9uIGFkIHN0YXJ0IGFuZCBhbHNvIG9uIGFkIGVuZCBldmVudHMsIHdoaWNoIGlzIHByb2JsZW1hdGljLlxyXG4gICAgICAgICAgICBpZiAoZXZlbnQgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChldmVudC50eXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gV2hlbiB0aGUgYWQgc3RhcnRzLCB3ZSBzdG9yZSB0aGUgZXZlbnQgZGF0YVxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgcGxheWVyLkVWRU5ULk9OX0FEX1NUQVJURUQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkU3RhcnRlZEV2ZW50ID0gZXZlbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFdoZW4gdGhlIGFkIGVuZHMsIHdlIGRlbGV0ZSB0aGUgZXZlbnQgZGF0YVxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgcGxheWVyLkVWRU5ULk9OX0FEX0ZJTklTSEVEOlxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgcGxheWVyLkVWRU5ULk9OX0FEX1NLSVBQRUQ6XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBwbGF5ZXIuRVZFTlQuT05fQURfRVJST1I6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkU3RhcnRlZEV2ZW50ID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gV2hlbiBhIG5ldyBzb3VyY2UgaXMgbG9hZGVkIGR1cmluZyBhZCBwbGF5YmFjaywgdGhlcmUgd2lsbCBiZSBubyBhZCBlbmQgZXZlbnQgc28gd2UgZGV0ZWN0IHRoZSBlbmRcclxuICAgICAgICAgICAgICAgICAgICAvLyBvZiB0aGUgYWQgcGxheWJhY2sgYnkgY2hlY2tpbmcgaXNBZCgpIGluIE9OX1JFQURZLCBiZWNhdXNlIE9OX1JFQURZIGFsd2F5cyBhcnJpdmVzIHdoZW4gdGhlIHNvdXJjZVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNoYW5nZXMuXHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBwbGF5ZXIuRVZFTlQuT05fUkVBRFk6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhZFN0YXJ0ZWRFdmVudCAmJiAhcGxheWVyLmlzQWQoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRTdGFydGVkRXZlbnQgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gRGV0ZWN0IGlmIGFuIGFkIGhhcyBzdGFydGVkXHJcbiAgICAgICAgICAgIHZhciBhZCA9IGFkU3RhcnRlZEV2ZW50ICE9IG51bGw7XHJcbiAgICAgICAgICAgIHZhciBhZFdpdGhVSSA9IGFkICYmIGFkU3RhcnRlZEV2ZW50LmNsaWVudFR5cGUgPT09ICd2YXN0JztcclxuICAgICAgICAgICAgX3RoaXMucmVzb2x2ZVVpVmFyaWFudCh7XHJcbiAgICAgICAgICAgICAgICBpc0FkOiBhZCxcclxuICAgICAgICAgICAgICAgIGlzQWRXaXRoVUk6IGFkV2l0aFVJLFxyXG4gICAgICAgICAgICAgICAgYWRDbGllbnRUeXBlOiBhZCA/IGFkU3RhcnRlZEV2ZW50LmNsaWVudFR5cGUgOiBudWxsLFxyXG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAoY29udGV4dCkge1xyXG4gICAgICAgICAgICAgICAgLy8gSWYgdGhpcyBpcyBhbiBhZCBVSSwgd2UgbmVlZCB0byByZWxheSB0aGUgc2F2ZWQgT05fQURfU1RBUlRFRCBldmVudCBkYXRhIHNvIGFkIGNvbXBvbmVudHMgY2FuIGNvbmZpZ3VyZVxyXG4gICAgICAgICAgICAgICAgLy8gdGhlbXNlbHZlcyBmb3IgdGhlIGN1cnJlbnQgYWQuXHJcbiAgICAgICAgICAgICAgICBpZiAoY29udGV4dC5pc0FkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLyogUmVsYXkgdGhlIE9OX0FEX1NUQVJURUQgZXZlbnQgdG8gdGhlIGFkcyBVSVxyXG4gICAgICAgICAgICAgICAgICAgICAqXHJcbiAgICAgICAgICAgICAgICAgICAgICogQmVjYXVzZSB0aGUgYWRzIFVJIGlzIGluaXRpYWxpemVkIGluIHRoZSBPTl9BRF9TVEFSVEVEIGhhbmRsZXIsIGkuZS4gd2hlbiB0aGUgT05fQURfU1RBUlRFRCBldmVudCBoYXNcclxuICAgICAgICAgICAgICAgICAgICAgKiBhbHJlYWR5IGJlZW4gZmlyZWQsIGNvbXBvbmVudHMgaW4gdGhlIGFkcyBVSSB0aGF0IGxpc3RlbiBmb3IgdGhlIE9OX0FEX1NUQVJURUQgZXZlbnQgbmV2ZXIgcmVjZWl2ZSBpdC5cclxuICAgICAgICAgICAgICAgICAgICAgKiBTaW5jZSB0aGlzIGNhbiBicmVhayBmdW5jdGlvbmFsaXR5IG9mIGNvbXBvbmVudHMgdGhhdCByZWx5IG9uIHRoaXMgZXZlbnQsIHdlIHJlbGF5IHRoZSBldmVudCB0byB0aGVcclxuICAgICAgICAgICAgICAgICAgICAgKiBhZHMgVUkgY29tcG9uZW50cyB3aXRoIHRoZSBmb2xsb3dpbmcgY2FsbC5cclxuICAgICAgICAgICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5jdXJyZW50VWkuZ2V0V3JhcHBlZFBsYXllcigpLmZpcmVFdmVudEluVUkoX3RoaXMucGxheWVyLkVWRU5ULk9OX0FEX1NUQVJURUQsIGFkU3RhcnRlZEV2ZW50KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICAvLyBMaXN0ZW4gdG8gdGhlIGZvbGxvd2luZyBldmVudHMgdG8gdHJpZ2dlciBVSSB2YXJpYW50IHJlc29sdXRpb25cclxuICAgICAgICBpZiAoY29uZmlnLmF1dG9VaVZhcmlhbnRSZXNvbHZlKSB7XHJcbiAgICAgICAgICAgIHRoaXMubWFuYWdlclBsYXllcldyYXBwZXIuZ2V0UGxheWVyKCkuYWRkRXZlbnRIYW5kbGVyKHRoaXMucGxheWVyLkVWRU5ULk9OX1JFQURZLCByZXNvbHZlVWlWYXJpYW50KTtcclxuICAgICAgICAgICAgdGhpcy5tYW5hZ2VyUGxheWVyV3JhcHBlci5nZXRQbGF5ZXIoKS5hZGRFdmVudEhhbmRsZXIodGhpcy5wbGF5ZXIuRVZFTlQuT05fUExBWSwgcmVzb2x2ZVVpVmFyaWFudCk7XHJcbiAgICAgICAgICAgIHRoaXMubWFuYWdlclBsYXllcldyYXBwZXIuZ2V0UGxheWVyKCkuYWRkRXZlbnRIYW5kbGVyKHRoaXMucGxheWVyLkVWRU5ULk9OX1BBVVNFRCwgcmVzb2x2ZVVpVmFyaWFudCk7XHJcbiAgICAgICAgICAgIHRoaXMubWFuYWdlclBsYXllcldyYXBwZXIuZ2V0UGxheWVyKCkuYWRkRXZlbnRIYW5kbGVyKHRoaXMucGxheWVyLkVWRU5ULk9OX0FEX1NUQVJURUQsIHJlc29sdmVVaVZhcmlhbnQpO1xyXG4gICAgICAgICAgICB0aGlzLm1hbmFnZXJQbGF5ZXJXcmFwcGVyLmdldFBsYXllcigpLmFkZEV2ZW50SGFuZGxlcih0aGlzLnBsYXllci5FVkVOVC5PTl9BRF9GSU5JU0hFRCwgcmVzb2x2ZVVpVmFyaWFudCk7XHJcbiAgICAgICAgICAgIHRoaXMubWFuYWdlclBsYXllcldyYXBwZXIuZ2V0UGxheWVyKCkuYWRkRXZlbnRIYW5kbGVyKHRoaXMucGxheWVyLkVWRU5ULk9OX0FEX1NLSVBQRUQsIHJlc29sdmVVaVZhcmlhbnQpO1xyXG4gICAgICAgICAgICB0aGlzLm1hbmFnZXJQbGF5ZXJXcmFwcGVyLmdldFBsYXllcigpLmFkZEV2ZW50SGFuZGxlcih0aGlzLnBsYXllci5FVkVOVC5PTl9BRF9FUlJPUiwgcmVzb2x2ZVVpVmFyaWFudCk7XHJcbiAgICAgICAgICAgIHRoaXMubWFuYWdlclBsYXllcldyYXBwZXIuZ2V0UGxheWVyKCkuYWRkRXZlbnRIYW5kbGVyKHRoaXMucGxheWVyLkVWRU5ULk9OX1BMQVlFUl9SRVNJWkUsIHJlc29sdmVVaVZhcmlhbnQpO1xyXG4gICAgICAgICAgICB0aGlzLm1hbmFnZXJQbGF5ZXJXcmFwcGVyLmdldFBsYXllcigpLmFkZEV2ZW50SGFuZGxlcih0aGlzLnBsYXllci5FVkVOVC5PTl9GVUxMU0NSRUVOX0VOVEVSLCByZXNvbHZlVWlWYXJpYW50KTtcclxuICAgICAgICAgICAgdGhpcy5tYW5hZ2VyUGxheWVyV3JhcHBlci5nZXRQbGF5ZXIoKS5hZGRFdmVudEhhbmRsZXIodGhpcy5wbGF5ZXIuRVZFTlQuT05fRlVMTFNDUkVFTl9FWElULCByZXNvbHZlVWlWYXJpYW50KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gSW5pdGlhbGl6ZSB0aGUgVUlcclxuICAgICAgICByZXNvbHZlVWlWYXJpYW50KG51bGwpO1xyXG4gICAgfVxyXG4gICAgVUlNYW5hZ2VyLnByb3RvdHlwZS5nZXRDb25maWcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlnO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0aGUgbGlzdCBvZiBVSSB2YXJpYW50cyBhcyBwYXNzZWQgaW50byB0aGUgY29uc3RydWN0b3Igb2Yge0BsaW5rIFVJTWFuYWdlcn0uXHJcbiAgICAgKiBAcmV0dXJucyB7VUlWYXJpYW50W119IHRoZSBsaXN0IG9mIGF2YWlsYWJsZSBVSSB2YXJpYW50c1xyXG4gICAgICovXHJcbiAgICBVSU1hbmFnZXIucHJvdG90eXBlLmdldFVpVmFyaWFudHMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudWlWYXJpYW50cztcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFN3aXRjaGVzIHRvIGEgVUkgdmFyaWFudCBmcm9tIHRoZSBsaXN0IHJldHVybmVkIGJ5IHtAbGluayBnZXRVaVZhcmlhbnRzfS5cclxuICAgICAqIEBwYXJhbSB7VUlWYXJpYW50fSB1aVZhcmlhbnQgdGhlIFVJIHZhcmlhbnQgdG8gc3dpdGNoIHRvXHJcbiAgICAgKiBAcGFyYW0geygpID0+IHZvaWR9IG9uU2hvdyBhIGNhbGxiYWNrIHRoYXQgaXMgZXhlY3V0ZWQganVzdCBiZWZvcmUgdGhlIG5ldyBVSSB2YXJpYW50IGlzIHNob3duXHJcbiAgICAgKi9cclxuICAgIFVJTWFuYWdlci5wcm90b3R5cGUuc3dpdGNoVG9VaVZhcmlhbnQgPSBmdW5jdGlvbiAodWlWYXJpYW50LCBvblNob3cpIHtcclxuICAgICAgICB2YXIgdWlWYXJpYW50SW5kZXggPSB0aGlzLnVpVmFyaWFudHMuaW5kZXhPZih1aVZhcmlhbnQpO1xyXG4gICAgICAgIHZhciBuZXh0VWkgPSB0aGlzLnVpSW5zdGFuY2VNYW5hZ2Vyc1t1aVZhcmlhbnRJbmRleF07XHJcbiAgICAgICAgdmFyIHVpVmFyaWFudENoYW5nZWQgPSBmYWxzZTtcclxuICAgICAgICAvLyBEZXRlcm1pbmUgaWYgdGhlIFVJIHZhcmlhbnQgaXMgY2hhbmdpbmdcclxuICAgICAgICBpZiAobmV4dFVpICE9PSB0aGlzLmN1cnJlbnRVaSkge1xyXG4gICAgICAgICAgICB1aVZhcmlhbnRDaGFuZ2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ3N3aXRjaGVkIGZyb20gJywgdGhpcy5jdXJyZW50VWkgPyB0aGlzLmN1cnJlbnRVaS5nZXRVSSgpIDogJ25vbmUnLFxyXG4gICAgICAgICAgICAvLyAgICcgdG8gJywgbmV4dFVpID8gbmV4dFVpLmdldFVJKCkgOiAnbm9uZScpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBPbmx5IGlmIHRoZSBVSSB2YXJpYW50IGlzIGNoYW5naW5nLCB3ZSBuZWVkIHRvIGRvIHNvbWUgc3R1ZmYuIEVsc2Ugd2UganVzdCBsZWF2ZSBldmVyeXRoaW5nIGFzLWlzLlxyXG4gICAgICAgIGlmICh1aVZhcmlhbnRDaGFuZ2VkKSB7XHJcbiAgICAgICAgICAgIC8vIEhpZGUgdGhlIGN1cnJlbnRseSBhY3RpdmUgVUkgdmFyaWFudFxyXG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50VWkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFVpLmdldFVJKCkuaGlkZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIEFzc2lnbiB0aGUgbmV3IFVJIHZhcmlhbnQgYXMgY3VycmVudCBVSVxyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRVaSA9IG5leHRVaTtcclxuICAgICAgICAgICAgLy8gV2hlbiB3ZSBzd2l0Y2ggdG8gYSBkaWZmZXJlbnQgVUkgaW5zdGFuY2UsIHRoZXJlJ3Mgc29tZSBhZGRpdGlvbmFsIHN0dWZmIHRvIG1hbmFnZS4gSWYgd2UgZG8gbm90IHN3aXRjaFxyXG4gICAgICAgICAgICAvLyB0byBhbiBpbnN0YW5jZSwgd2UncmUgZG9uZSBoZXJlLlxyXG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50VWkgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgLy8gQWRkIHRoZSBVSSB0byB0aGUgRE9NIChhbmQgY29uZmlndXJlIGl0KSB0aGUgZmlyc3QgdGltZSBpdCBpcyBzZWxlY3RlZFxyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmN1cnJlbnRVaS5pc0NvbmZpZ3VyZWQoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkVWkodGhpcy5jdXJyZW50VWkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKG9uU2hvdykge1xyXG4gICAgICAgICAgICAgICAgICAgIG9uU2hvdygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50VWkuZ2V0VUkoKS5zaG93KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBUcmlnZ2VycyBhIFVJIHZhcmlhbnQgc3dpdGNoIGFzIHRyaWdnZXJlZCBieSBldmVudHMgd2hlbiBhdXRvbWF0aWMgc3dpdGNoaW5nIGlzIGVuYWJsZWQuIEl0IGFsbG93cyB0byBvdmVyd3JpdGVcclxuICAgICAqIHByb3BlcnRpZXMgb2YgdGhlIHtAbGluayBVSUNvbmRpdGlvbkNvbnRleHR9LlxyXG4gICAgICogQHBhcmFtIHtQYXJ0aWFsPFVJQ29uZGl0aW9uQ29udGV4dD59IGNvbnRleHQgYW4gb3B0aW9uYWwgc2V0IG9mIHByb3BlcnRpZXMgdGhhdCBvdmVyd3JpdGUgcHJvcGVydGllcyBvZiB0aGVcclxuICAgICAqICAgYXV0b21hdGljYWxseSBkZXRlcm1pbmVkIGNvbnRleHRcclxuICAgICAqIEBwYXJhbSB7KGNvbnRleHQ6IFVJQ29uZGl0aW9uQ29udGV4dCkgPT4gdm9pZH0gb25TaG93IGEgY2FsbGJhY2sgdGhhdCBpcyBleGVjdXRlZCBqdXN0IGJlZm9yZSB0aGUgbmV3IFVJIHZhcmlhbnRcclxuICAgICAqICAgaXMgc2hvd24gKGlmIGEgc3dpdGNoIGlzIGhhcHBlbmluZylcclxuICAgICAqL1xyXG4gICAgVUlNYW5hZ2VyLnByb3RvdHlwZS5yZXNvbHZlVWlWYXJpYW50ID0gZnVuY3Rpb24gKGNvbnRleHQsIG9uU2hvdykge1xyXG4gICAgICAgIGlmIChjb250ZXh0ID09PSB2b2lkIDApIHsgY29udGV4dCA9IHt9OyB9XHJcbiAgICAgICAgLy8gRGV0ZXJtaW5lIHRoZSBjdXJyZW50IGNvbnRleHQgZm9yIHdoaWNoIHRoZSBVSSB2YXJpYW50IHdpbGwgYmUgcmVzb2x2ZWRcclxuICAgICAgICB2YXIgZGVmYXVsdENvbnRleHQgPSB7XHJcbiAgICAgICAgICAgIGlzQWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICBpc0FkV2l0aFVJOiBmYWxzZSxcclxuICAgICAgICAgICAgYWRDbGllbnRUeXBlOiBudWxsLFxyXG4gICAgICAgICAgICBpc0Z1bGxzY3JlZW46IHRoaXMucGxheWVyLmlzRnVsbHNjcmVlbigpLFxyXG4gICAgICAgICAgICBpc01vYmlsZTogYnJvd3NlcnV0aWxzXzEuQnJvd3NlclV0aWxzLmlzTW9iaWxlLFxyXG4gICAgICAgICAgICBpc1BsYXlpbmc6IHRoaXMucGxheWVyLmlzUGxheWluZygpLFxyXG4gICAgICAgICAgICB3aWR0aDogdGhpcy51aUNvbnRhaW5lckVsZW1lbnQud2lkdGgoKSxcclxuICAgICAgICAgICAgZG9jdW1lbnRXaWR0aDogZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aCxcclxuICAgICAgICB9O1xyXG4gICAgICAgIC8vIE92ZXJ3cml0ZSBwcm9wZXJ0aWVzIG9mIHRoZSBkZWZhdWx0IGNvbnRleHQgd2l0aCBwYXNzZWQgaW4gY29udGV4dCBwcm9wZXJ0aWVzXHJcbiAgICAgICAgdmFyIHN3aXRjaGluZ0NvbnRleHQgPSBfX2Fzc2lnbih7fSwgZGVmYXVsdENvbnRleHQsIGNvbnRleHQpO1xyXG4gICAgICAgIC8vIEZpcmUgdGhlIGV2ZW50IGFuZCBhbGxvdyBtb2RpZmljYXRpb24gb2YgdGhlIGNvbnRleHQgYmVmb3JlIGl0IGlzIHVzZWQgdG8gcmVzb2x2ZSB0aGUgVUkgdmFyaWFudFxyXG4gICAgICAgIHRoaXMuZXZlbnRzLm9uVWlWYXJpYW50UmVzb2x2ZS5kaXNwYXRjaCh0aGlzLCBzd2l0Y2hpbmdDb250ZXh0KTtcclxuICAgICAgICB2YXIgbmV4dFVpVmFyaWFudCA9IG51bGw7XHJcbiAgICAgICAgLy8gU2VsZWN0IG5ldyBVSSB2YXJpYW50XHJcbiAgICAgICAgLy8gSWYgbm8gdmFyaWFudCBjb25kaXRpb24gaXMgZnVsZmlsbGVkLCB3ZSBzd2l0Y2ggdG8gKm5vKiBVSVxyXG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSB0aGlzLnVpVmFyaWFudHM7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciB1aVZhcmlhbnQgPSBfYVtfaV07XHJcbiAgICAgICAgICAgIGlmICh1aVZhcmlhbnQuY29uZGl0aW9uID09IG51bGwgfHwgdWlWYXJpYW50LmNvbmRpdGlvbihzd2l0Y2hpbmdDb250ZXh0KSA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgbmV4dFVpVmFyaWFudCA9IHVpVmFyaWFudDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc3dpdGNoVG9VaVZhcmlhbnQobmV4dFVpVmFyaWFudCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAob25TaG93KSB7XHJcbiAgICAgICAgICAgICAgICBvblNob3coc3dpdGNoaW5nQ29udGV4dCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBVSU1hbmFnZXIucHJvdG90eXBlLmFkZFVpID0gZnVuY3Rpb24gKHVpKSB7XHJcbiAgICAgICAgdmFyIGRvbSA9IHVpLmdldFVJKCkuZ2V0RG9tRWxlbWVudCgpO1xyXG4gICAgICAgIHZhciBwbGF5ZXIgPSB1aS5nZXRXcmFwcGVkUGxheWVyKCk7XHJcbiAgICAgICAgdWkuY29uZmlndXJlQ29udHJvbHMoKTtcclxuICAgICAgICAvKiBBcHBlbmQgdGhlIFVJIERPTSBhZnRlciBjb25maWd1cmF0aW9uIHRvIGF2b2lkIENTUyB0cmFuc2l0aW9ucyBhdCBpbml0aWFsaXphdGlvblxyXG4gICAgICAgICAqIEV4YW1wbGU6IENvbXBvbmVudHMgYXJlIGhpZGRlbiBkdXJpbmcgY29uZmlndXJhdGlvbiBhbmQgdGhlc2UgaGlkZXMgbWF5IHRyaWdnZXIgQ1NTIHRyYW5zaXRpb25zIHRoYXQgYXJlXHJcbiAgICAgICAgICogdW5kZXNpcmFibGUgYXQgdGhpcyB0aW1lLiAqL1xyXG4gICAgICAgIHRoaXMudWlDb250YWluZXJFbGVtZW50LmFwcGVuZChkb20pO1xyXG4gICAgICAgIC8vIFNvbWUgY29tcG9uZW50cyBpbml0aWFsaXplIHRoZWlyIHN0YXRlIG9uIE9OX1JFQURZLiBXaGVuIHRoZSBVSSBpcyBsb2FkZWQgYWZ0ZXIgdGhlIHBsYXllciBpcyBhbHJlYWR5IHJlYWR5LFxyXG4gICAgICAgIC8vIHRoZXkgd2lsbCBuZXZlciByZWNlaXZlIHRoZSBldmVudCBzbyB3ZSBmaXJlIGl0IGZyb20gaGVyZSBpbiBzdWNoIGNhc2VzLlxyXG4gICAgICAgIGlmIChwbGF5ZXIuaXNSZWFkeSgpKSB7XHJcbiAgICAgICAgICAgIHBsYXllci5maXJlRXZlbnRJblVJKHBsYXllci5FVkVOVC5PTl9SRUFEWSwge30pO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBGaXJlIG9uQ29uZmlndXJlZCBhZnRlciBVSSBET00gZWxlbWVudHMgYXJlIHN1Y2Nlc3NmdWxseSBhZGRlZC4gV2hlbiBmaXJlZCBpbW1lZGlhdGVseSwgdGhlIERPTSBlbGVtZW50c1xyXG4gICAgICAgIC8vIG1pZ2h0IG5vdCBiZSBmdWxseSBjb25maWd1cmVkIGFuZCBlLmcuIGRvIG5vdCBoYXZlIGEgc2l6ZS5cclxuICAgICAgICAvLyBodHRwczovL3N3aXplYy5jb20vYmxvZy9ob3ctdG8tcHJvcGVybHktd2FpdC1mb3ItZG9tLWVsZW1lbnRzLXRvLXNob3ctdXAtaW4tbW9kZXJuLWJyb3dzZXJzL3N3aXplYy82NjYzXHJcbiAgICAgICAgaWYgKHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUpIHtcclxuICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uICgpIHsgdWkub25Db25maWd1cmVkLmRpc3BhdGNoKHVpLmdldFVJKCkpOyB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIElFOSBmYWxsYmFja1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgdWkub25Db25maWd1cmVkLmRpc3BhdGNoKHVpLmdldFVJKCkpOyB9LCAwKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgVUlNYW5hZ2VyLnByb3RvdHlwZS5yZWxlYXNlVWkgPSBmdW5jdGlvbiAodWkpIHtcclxuICAgICAgICB1aS5yZWxlYXNlQ29udHJvbHMoKTtcclxuICAgICAgICB1aS5nZXRVSSgpLmdldERvbUVsZW1lbnQoKS5yZW1vdmUoKTtcclxuICAgICAgICB1aS5jbGVhckV2ZW50SGFuZGxlcnMoKTtcclxuICAgIH07XHJcbiAgICBVSU1hbmFnZXIucHJvdG90eXBlLnJlbGVhc2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IHRoaXMudWlJbnN0YW5jZU1hbmFnZXJzOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICB2YXIgdWlJbnN0YW5jZU1hbmFnZXIgPSBfYVtfaV07XHJcbiAgICAgICAgICAgIHRoaXMucmVsZWFzZVVpKHVpSW5zdGFuY2VNYW5hZ2VyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5tYW5hZ2VyUGxheWVyV3JhcHBlci5jbGVhckV2ZW50SGFuZGxlcnMoKTtcclxuICAgIH07XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVUlNYW5hZ2VyLnByb3RvdHlwZSwgXCJvblVpVmFyaWFudFJlc29sdmVcIiwge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEZpcmVzIGp1c3QgYmVmb3JlIFVJIHZhcmlhbnRzIGFyZSBhYm91dCB0byBiZSByZXNvbHZlZCBhbmQgdGhlIFVJIHZhcmlhbnQgaXMgcG9zc2libHkgc3dpdGNoZWQuIEl0IGlzIGZpcmVkIHdoZW5cclxuICAgICAgICAgKiB0aGUgc3dpdGNoIGlzIHRyaWdnZXJlZCBmcm9tIGFuIGF1dG9tYXRpYyBzd2l0Y2ggYW5kIHdoZW4gY2FsbGluZyB7QGxpbmsgcmVzb2x2ZVVpVmFyaWFudH0uXHJcbiAgICAgICAgICogQ2FuIGJlIHVzZWQgdG8gbW9kaWZ5IHRoZSB7QGxpbmsgVUlDb25kaXRpb25Db250ZXh0fSBiZWZvcmUgcmVzb2x2aW5nIGlzIGRvbmUuXHJcbiAgICAgICAgICogQHJldHVybnMge0V2ZW50RGlzcGF0Y2hlcjxVSU1hbmFnZXIsIFVJQ29uZGl0aW9uQ29udGV4dD59XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmV2ZW50cy5vblVpVmFyaWFudFJlc29sdmU7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdGhlIGxpc3Qgb2YgYWxsIGFkZGVkIG1hcmtlcnMgaW4gdW5kZWZpbmVkIG9yZGVyLlxyXG4gICAgICovXHJcbiAgICBVSU1hbmFnZXIucHJvdG90eXBlLmdldFRpbWVsaW5lTWFya2VycyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb25maWcubWV0YWRhdGEubWFya2VycztcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEFkZHMgYSBtYXJrZXIgdG8gdGhlIHRpbWVsaW5lLiBEb2VzIG5vdCBjaGVjayBmb3IgZHVwbGljYXRlcy9vdmVybGFwcyBhdCB0aGUgYHRpbWVgLlxyXG4gICAgICovXHJcbiAgICBVSU1hbmFnZXIucHJvdG90eXBlLmFkZFRpbWVsaW5lTWFya2VyID0gZnVuY3Rpb24gKHRpbWVsaW5lTWFya2VyKSB7XHJcbiAgICAgICAgdGhpcy5jb25maWcubWV0YWRhdGEubWFya2Vycy5wdXNoKHRpbWVsaW5lTWFya2VyKTtcclxuICAgICAgICB0aGlzLmNvbmZpZy5ldmVudHMub25VcGRhdGVkLmRpc3BhdGNoKHRoaXMpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUmVtb3ZlcyBhIG1hcmtlciBmcm9tIHRoZSB0aW1lbGluZSAoYnkgcmVmZXJlbmNlKSBhbmQgcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIG1hcmtlciBoYXNcclxuICAgICAqIGJlZW4gcGFydCBvZiB0aGUgdGltZWxpbmUgYW5kIHN1Y2Nlc3NmdWxseSByZW1vdmVkLCBvciBgZmFsc2VgIGlmIHRoZSBtYXJrZXIgY291bGQgbm90XHJcbiAgICAgKiBiZSBmb3VuZCBhbmQgdGh1cyBub3QgcmVtb3ZlZC5cclxuICAgICAqL1xyXG4gICAgVUlNYW5hZ2VyLnByb3RvdHlwZS5yZW1vdmVUaW1lbGluZU1hcmtlciA9IGZ1bmN0aW9uICh0aW1lbGluZU1hcmtlcikge1xyXG4gICAgICAgIGlmIChhcnJheXV0aWxzXzEuQXJyYXlVdGlscy5yZW1vdmUodGhpcy5jb25maWcubWV0YWRhdGEubWFya2VycywgdGltZWxpbmVNYXJrZXIpID09PSB0aW1lbGluZU1hcmtlcikge1xyXG4gICAgICAgICAgICB0aGlzLmNvbmZpZy5ldmVudHMub25VcGRhdGVkLmRpc3BhdGNoKHRoaXMpO1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBVSU1hbmFnZXI7XHJcbn0oKSk7XHJcbmV4cG9ydHMuVUlNYW5hZ2VyID0gVUlNYW5hZ2VyO1xyXG4oZnVuY3Rpb24gKFVJTWFuYWdlcikge1xyXG4gICAgdmFyIEZhY3Rvcnk7XHJcbiAgICAoZnVuY3Rpb24gKEZhY3RvcnkpIHtcclxuICAgICAgICBmdW5jdGlvbiBidWlsZEF1ZGlvVmlkZW9VSShwbGF5ZXIsIGNvbmZpZykge1xyXG4gICAgICAgICAgICBpZiAoY29uZmlnID09PSB2b2lkIDApIHsgY29uZmlnID0ge307IH1cclxuICAgICAgICAgICAgdmFyIHNtYWxsU2NyZWVuU3dpdGNoV2lkdGggPSA2MDA7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgVUlNYW5hZ2VyKHBsYXllciwgW3tcclxuICAgICAgICAgICAgICAgICAgICB1aTogbW9kZXJuU21hbGxTY3JlZW5VSSgpLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbmRpdGlvbjogZnVuY3Rpb24gKGNvbnRleHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRleHQuaXNNb2JpbGUgJiYgY29udGV4dC5kb2N1bWVudFdpZHRoIDwgc21hbGxTY3JlZW5Td2l0Y2hXaWR0aDtcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgfSwge1xyXG4gICAgICAgICAgICAgICAgICAgIHVpOiBtb2Rlcm5VSSgpLFxyXG4gICAgICAgICAgICAgICAgfV0sIGNvbmZpZyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIEZhY3RvcnkuYnVpbGRBdWRpb1ZpZGVvVUkgPSBidWlsZEF1ZGlvVmlkZW9VSTtcclxuICAgICAgICBmdW5jdGlvbiBidWlsZEF1ZGlvT25seVVJKHBsYXllciwgY29uZmlnKSB7XHJcbiAgICAgICAgICAgIGlmIChjb25maWcgPT09IHZvaWQgMCkgeyBjb25maWcgPSB7fTsgfVxyXG4gICAgICAgICAgICB2YXIgc21hbGxTY3JlZW5Td2l0Y2hXaWR0aCA9IDYwMDtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBVSU1hbmFnZXIocGxheWVyLCBbe1xyXG4gICAgICAgICAgICAgICAgICAgIHVpOiBtb2Rlcm5BdWRpb09ubHlTbWFsbFNjcmVlblVJKCksXHJcbiAgICAgICAgICAgICAgICAgICAgY29uZGl0aW9uOiBmdW5jdGlvbiAoY29udGV4dCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29udGV4dC5pc01vYmlsZSAmJiBjb250ZXh0LmRvY3VtZW50V2lkdGggPCBzbWFsbFNjcmVlblN3aXRjaFdpZHRoO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgICAgICAgICAgdWk6IG1vZGVybkF1ZGlvT25seVVJKCksXHJcbiAgICAgICAgICAgICAgICB9XSwgY29uZmlnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgRmFjdG9yeS5idWlsZEF1ZGlvT25seVVJID0gYnVpbGRBdWRpb09ubHlVSTtcclxuICAgICAgICAvLyBleHBvcnQgZnVuY3Rpb24gYnVpbGREZWZhdWx0VUkocGxheWVyOiBQbGF5ZXJBUEksIGNvbmZpZzogVUlDb25maWcgPSB7fSk6IFVJTWFuYWdlciB7XHJcbiAgICAgICAgLy8gICByZXR1cm4gVUlNYW5hZ2VyLkZhY3RvcnkuYnVpbGRNb2Rlcm5VSShwbGF5ZXIsIGNvbmZpZyk7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgICAgIC8vIGV4cG9ydCBmdW5jdGlvbiBidWlsZERlZmF1bHRTbWFsbFNjcmVlblVJKHBsYXllcjogUGxheWVyQVBJLCBjb25maWc6IFVJQ29uZmlnID0ge30pOiBVSU1hbmFnZXIge1xyXG4gICAgICAgIC8vICAgcmV0dXJuIFVJTWFuYWdlci5GYWN0b3J5LmJ1aWxkTW9kZXJuU21hbGxTY3JlZW5VSShwbGF5ZXIsIGNvbmZpZyk7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgICAgIC8vIGV4cG9ydCBmdW5jdGlvbiBidWlsZERlZmF1bHRDYXN0UmVjZWl2ZXJVSShwbGF5ZXI6IFBsYXllckFQSSwgY29uZmlnOiBVSUNvbmZpZyA9IHt9KTogVUlNYW5hZ2VyIHtcclxuICAgICAgICAvLyAgIHJldHVybiBVSU1hbmFnZXIuRmFjdG9yeS5idWlsZE1vZGVybkNhc3RSZWNlaXZlclVJKHBsYXllciwgY29uZmlnKTtcclxuICAgICAgICAvLyB9XHJcbiAgICAgICAgZnVuY3Rpb24gbW9kZXJuVUkoKSB7XHJcbiAgICAgICAgICAgIHZhciBzdWJ0aXRsZU92ZXJsYXkgPSBuZXcgc3VidGl0bGVvdmVybGF5XzEuU3VidGl0bGVPdmVybGF5KCk7XHJcbiAgICAgICAgICAgIHZhciBzZXR0aW5nc1BhbmVsID0gbmV3IHNldHRpbmdzcGFuZWxfMS5TZXR0aW5nc1BhbmVsKHtcclxuICAgICAgICAgICAgICAgIGNvbXBvbmVudHM6IFtcclxuICAgICAgICAgICAgICAgICAgICBuZXcgc2V0dGluZ3NwYW5lbF8xLlNldHRpbmdzUGFuZWxJdGVtKCdWaWRlbyBRdWFsaXR5JywgbmV3IHZpZGVvcXVhbGl0eXNlbGVjdGJveF8xLlZpZGVvUXVhbGl0eVNlbGVjdEJveCgpKSxcclxuICAgICAgICAgICAgICAgICAgICBuZXcgc2V0dGluZ3NwYW5lbF8xLlNldHRpbmdzUGFuZWxJdGVtKCdTcGVlZCcsIG5ldyBwbGF5YmFja3NwZWVkc2VsZWN0Ym94XzEuUGxheWJhY2tTcGVlZFNlbGVjdEJveCgpKSxcclxuICAgICAgICAgICAgICAgICAgICBuZXcgc2V0dGluZ3NwYW5lbF8xLlNldHRpbmdzUGFuZWxJdGVtKCdBdWRpbyBUcmFjaycsIG5ldyBhdWRpb3RyYWNrc2VsZWN0Ym94XzEuQXVkaW9UcmFja1NlbGVjdEJveCgpKSxcclxuICAgICAgICAgICAgICAgICAgICBuZXcgc2V0dGluZ3NwYW5lbF8xLlNldHRpbmdzUGFuZWxJdGVtKCdBdWRpbyBRdWFsaXR5JywgbmV3IGF1ZGlvcXVhbGl0eXNlbGVjdGJveF8xLkF1ZGlvUXVhbGl0eVNlbGVjdEJveCgpKSxcclxuICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgICAgICBoaWRkZW46IHRydWUsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB2YXIgc3VidGl0bGVTZXR0aW5nc1BhbmVsID0gbmV3IHN1YnRpdGxlc2V0dGluZ3NwYW5lbF8xLlN1YnRpdGxlU2V0dGluZ3NQYW5lbCh7XHJcbiAgICAgICAgICAgICAgICBoaWRkZW46IHRydWUsXHJcbiAgICAgICAgICAgICAgICBvdmVybGF5OiBzdWJ0aXRsZU92ZXJsYXksXHJcbiAgICAgICAgICAgICAgICBzZXR0aW5nc1BhbmVsOiBzZXR0aW5nc1BhbmVsLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdmFyIHN1YnRpdGxlU2V0dGluZ3NPcGVuQnV0dG9uID0gbmV3IHN1YnRpdGxlc2V0dGluZ3NvcGVuYnV0dG9uXzEuU3VidGl0bGVTZXR0aW5nc09wZW5CdXR0b24oe1xyXG4gICAgICAgICAgICAgICAgc3VidGl0bGVTZXR0aW5nc1BhbmVsOiBzdWJ0aXRsZVNldHRpbmdzUGFuZWwsXHJcbiAgICAgICAgICAgICAgICBzZXR0aW5nc1BhbmVsOiBzZXR0aW5nc1BhbmVsLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgc2V0dGluZ3NQYW5lbC5hZGRDb21wb25lbnQobmV3IHNldHRpbmdzcGFuZWxfMS5TZXR0aW5nc1BhbmVsSXRlbShuZXcgc3VidGl0bGVzZXR0aW5nc2xhYmVsXzEuU3VidGl0bGVTZXR0aW5nc0xhYmVsKHsgdGV4dDogJ1N1YnRpdGxlcycsIG9wZW5lcjogc3VidGl0bGVTZXR0aW5nc09wZW5CdXR0b24gfSksIG5ldyBzdWJ0aXRsZXNlbGVjdGJveF8xLlN1YnRpdGxlU2VsZWN0Qm94KCkpKTtcclxuICAgICAgICAgICAgdmFyIGNvbnRyb2xCYXIgPSBuZXcgY29udHJvbGJhcl8xLkNvbnRyb2xCYXIoe1xyXG4gICAgICAgICAgICAgICAgY29tcG9uZW50czogW1xyXG4gICAgICAgICAgICAgICAgICAgIHNldHRpbmdzUGFuZWwsXHJcbiAgICAgICAgICAgICAgICAgICAgc3VidGl0bGVTZXR0aW5nc1BhbmVsLFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBjb250YWluZXJfMS5Db250YWluZXIoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRzOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgcGxheWJhY2t0aW1lbGFiZWxfMS5QbGF5YmFja1RpbWVMYWJlbCh7IHRpbWVMYWJlbE1vZGU6IHBsYXliYWNrdGltZWxhYmVsXzEuUGxheWJhY2tUaW1lTGFiZWxNb2RlLkN1cnJlbnRUaW1lLCBoaWRlSW5MaXZlUGxheWJhY2s6IHRydWUgfSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgc2Vla2Jhcl8xLlNlZWtCYXIoeyBsYWJlbDogbmV3IHNlZWtiYXJsYWJlbF8xLlNlZWtCYXJMYWJlbCgpIH0pLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IHBsYXliYWNrdGltZWxhYmVsXzEuUGxheWJhY2tUaW1lTGFiZWwoeyB0aW1lTGFiZWxNb2RlOiBwbGF5YmFja3RpbWVsYWJlbF8xLlBsYXliYWNrVGltZUxhYmVsTW9kZS5Ub3RhbFRpbWUsIGNzc0NsYXNzZXM6IFsndGV4dC1yaWdodCddIH0pLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjc3NDbGFzc2VzOiBbJ2NvbnRyb2xiYXItdG9wJ10sXHJcbiAgICAgICAgICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IGNvbnRhaW5lcl8xLkNvbnRhaW5lcih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudHM6IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBwbGF5YmFja3RvZ2dsZWJ1dHRvbl8xLlBsYXliYWNrVG9nZ2xlQnV0dG9uKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgdm9sdW1ldG9nZ2xlYnV0dG9uXzEuVm9sdW1lVG9nZ2xlQnV0dG9uKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgdm9sdW1lc2xpZGVyXzEuVm9sdW1lU2xpZGVyKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgc3BhY2VyXzEuU3BhY2VyKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgcGljdHVyZWlucGljdHVyZXRvZ2dsZWJ1dHRvbl8xLlBpY3R1cmVJblBpY3R1cmVUb2dnbGVCdXR0b24oKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBhaXJwbGF5dG9nZ2xlYnV0dG9uXzEuQWlyUGxheVRvZ2dsZUJ1dHRvbigpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IGNhc3R0b2dnbGVidXR0b25fMS5DYXN0VG9nZ2xlQnV0dG9uKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgdnJ0b2dnbGVidXR0b25fMS5WUlRvZ2dsZUJ1dHRvbigpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IHNldHRpbmdzdG9nZ2xlYnV0dG9uXzEuU2V0dGluZ3NUb2dnbGVCdXR0b24oeyBzZXR0aW5nc1BhbmVsOiBzZXR0aW5nc1BhbmVsIH0pLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IGZ1bGxzY3JlZW50b2dnbGVidXR0b25fMS5GdWxsc2NyZWVuVG9nZ2xlQnV0dG9uKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNzc0NsYXNzZXM6IFsnY29udHJvbGJhci1ib3R0b20nXSxcclxuICAgICAgICAgICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IHVpY29udGFpbmVyXzEuVUlDb250YWluZXIoe1xyXG4gICAgICAgICAgICAgICAgY29tcG9uZW50czogW1xyXG4gICAgICAgICAgICAgICAgICAgIHN1YnRpdGxlT3ZlcmxheSxcclxuICAgICAgICAgICAgICAgICAgICBuZXcgYnVmZmVyaW5nb3ZlcmxheV8xLkJ1ZmZlcmluZ092ZXJsYXkoKSxcclxuICAgICAgICAgICAgICAgICAgICBuZXcgcGxheWJhY2t0b2dnbGVvdmVybGF5XzEuUGxheWJhY2tUb2dnbGVPdmVybGF5KCksXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IGNhc3RzdGF0dXNvdmVybGF5XzEuQ2FzdFN0YXR1c092ZXJsYXkoKSxcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sQmFyLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIG5ldyBUaXRsZUJhcigpLFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyByZWNvbW1lbmRhdGlvbm92ZXJsYXlfMS5SZWNvbW1lbmRhdGlvbk92ZXJsYXkoKSxcclxuICAgICAgICAgICAgICAgICAgICAvLyBuZXcgV2F0ZXJtYXJrKCksXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IGVycm9ybWVzc2FnZW92ZXJsYXlfMS5FcnJvck1lc3NhZ2VPdmVybGF5KCksXHJcbiAgICAgICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICAgICAgY3NzQ2xhc3NlczogWyd1aS1za2luLW1pLXdiYyddLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gbW9kZXJuQXVkaW9Pbmx5VUkoKSB7XHJcbiAgICAgICAgICAgIHZhciBzdWJ0aXRsZU92ZXJsYXkgPSBuZXcgc3VidGl0bGVvdmVybGF5XzEuU3VidGl0bGVPdmVybGF5KCk7XHJcbiAgICAgICAgICAgIHZhciBzZXR0aW5nc1BhbmVsID0gbmV3IHNldHRpbmdzcGFuZWxfMS5TZXR0aW5nc1BhbmVsKHtcclxuICAgICAgICAgICAgICAgIGNvbXBvbmVudHM6IFtcclxuICAgICAgICAgICAgICAgICAgICBuZXcgc2V0dGluZ3NwYW5lbF8xLlNldHRpbmdzUGFuZWxJdGVtKCdTcGVlZCcsIG5ldyBwbGF5YmFja3NwZWVkc2VsZWN0Ym94XzEuUGxheWJhY2tTcGVlZFNlbGVjdEJveCgpKSxcclxuICAgICAgICAgICAgICAgICAgICBuZXcgc2V0dGluZ3NwYW5lbF8xLlNldHRpbmdzUGFuZWxJdGVtKCdBdWRpbyBUcmFjaycsIG5ldyBhdWRpb3RyYWNrc2VsZWN0Ym94XzEuQXVkaW9UcmFja1NlbGVjdEJveCgpKSxcclxuICAgICAgICAgICAgICAgICAgICBuZXcgc2V0dGluZ3NwYW5lbF8xLlNldHRpbmdzUGFuZWxJdGVtKCdBdWRpbyBRdWFsaXR5JywgbmV3IGF1ZGlvcXVhbGl0eXNlbGVjdGJveF8xLkF1ZGlvUXVhbGl0eVNlbGVjdEJveCgpKSxcclxuICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgICAgICBoaWRkZW46IHRydWUsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB2YXIgc3VidGl0bGVTZXR0aW5nc1BhbmVsID0gbmV3IHN1YnRpdGxlc2V0dGluZ3NwYW5lbF8xLlN1YnRpdGxlU2V0dGluZ3NQYW5lbCh7XHJcbiAgICAgICAgICAgICAgICBoaWRkZW46IHRydWUsXHJcbiAgICAgICAgICAgICAgICBvdmVybGF5OiBzdWJ0aXRsZU92ZXJsYXksXHJcbiAgICAgICAgICAgICAgICBzZXR0aW5nc1BhbmVsOiBzZXR0aW5nc1BhbmVsLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdmFyIHN1YnRpdGxlU2V0dGluZ3NPcGVuQnV0dG9uID0gbmV3IHN1YnRpdGxlc2V0dGluZ3NvcGVuYnV0dG9uXzEuU3VidGl0bGVTZXR0aW5nc09wZW5CdXR0b24oe1xyXG4gICAgICAgICAgICAgICAgc3VidGl0bGVTZXR0aW5nc1BhbmVsOiBzdWJ0aXRsZVNldHRpbmdzUGFuZWwsXHJcbiAgICAgICAgICAgICAgICBzZXR0aW5nc1BhbmVsOiBzZXR0aW5nc1BhbmVsLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgc2V0dGluZ3NQYW5lbC5hZGRDb21wb25lbnQobmV3IHNldHRpbmdzcGFuZWxfMS5TZXR0aW5nc1BhbmVsSXRlbShuZXcgc3VidGl0bGVzZXR0aW5nc2xhYmVsXzEuU3VidGl0bGVTZXR0aW5nc0xhYmVsKHsgdGV4dDogJ1N1YnRpdGxlcycsIG9wZW5lcjogc3VidGl0bGVTZXR0aW5nc09wZW5CdXR0b24gfSksIG5ldyBzdWJ0aXRsZXNlbGVjdGJveF8xLlN1YnRpdGxlU2VsZWN0Qm94KCkpKTtcclxuICAgICAgICAgICAgdmFyIGNvbnRyb2xCYXIgPSBuZXcgY29udHJvbGJhcl8xLkNvbnRyb2xCYXIoe1xyXG4gICAgICAgICAgICAgICAgY29tcG9uZW50czogW1xyXG4gICAgICAgICAgICAgICAgICAgIHNldHRpbmdzUGFuZWwsXHJcbiAgICAgICAgICAgICAgICAgICAgc3VidGl0bGVTZXR0aW5nc1BhbmVsLFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBjb250YWluZXJfMS5Db250YWluZXIoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRzOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgcGxheWJhY2t0aW1lbGFiZWxfMS5QbGF5YmFja1RpbWVMYWJlbCh7IHRpbWVMYWJlbE1vZGU6IHBsYXliYWNrdGltZWxhYmVsXzEuUGxheWJhY2tUaW1lTGFiZWxNb2RlLkN1cnJlbnRUaW1lLCBoaWRlSW5MaXZlUGxheWJhY2s6IHRydWUgfSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgc2Vla2Jhcl8xLlNlZWtCYXIoeyBsYWJlbDogbmV3IHNlZWtiYXJsYWJlbF8xLlNlZWtCYXJMYWJlbCgpIH0pLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IHBsYXliYWNrdGltZWxhYmVsXzEuUGxheWJhY2tUaW1lTGFiZWwoeyB0aW1lTGFiZWxNb2RlOiBwbGF5YmFja3RpbWVsYWJlbF8xLlBsYXliYWNrVGltZUxhYmVsTW9kZS5Ub3RhbFRpbWUsIGNzc0NsYXNzZXM6IFsndGV4dC1yaWdodCddIH0pLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjc3NDbGFzc2VzOiBbJ2NvbnRyb2xiYXItdG9wJ10sXHJcbiAgICAgICAgICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IGNvbnRhaW5lcl8xLkNvbnRhaW5lcih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudHM6IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBwbGF5YmFja3RvZ2dsZWJ1dHRvbl8xLlBsYXliYWNrVG9nZ2xlQnV0dG9uKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgdm9sdW1ldG9nZ2xlYnV0dG9uXzEuVm9sdW1lVG9nZ2xlQnV0dG9uKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgdm9sdW1lc2xpZGVyXzEuVm9sdW1lU2xpZGVyKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgc3BhY2VyXzEuU3BhY2VyKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgYWlycGxheXRvZ2dsZWJ1dHRvbl8xLkFpclBsYXlUb2dnbGVCdXR0b24oKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBjYXN0dG9nZ2xlYnV0dG9uXzEuQ2FzdFRvZ2dsZUJ1dHRvbigpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IHNldHRpbmdzdG9nZ2xlYnV0dG9uXzEuU2V0dGluZ3NUb2dnbGVCdXR0b24oeyBzZXR0aW5nc1BhbmVsOiBzZXR0aW5nc1BhbmVsIH0pLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IGZ1bGxzY3JlZW50b2dnbGVidXR0b25fMS5GdWxsc2NyZWVuVG9nZ2xlQnV0dG9uKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNzc0NsYXNzZXM6IFsnY29udHJvbGJhci1ib3R0b20nXSxcclxuICAgICAgICAgICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IHVpY29udGFpbmVyXzEuVUlDb250YWluZXIoe1xyXG4gICAgICAgICAgICAgICAgY29tcG9uZW50czogW1xyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBhdWRpb29ubHlvdmVybGF5XzEuQXVkaW9Pbmx5T3ZlcmxheSgpLFxyXG4gICAgICAgICAgICAgICAgICAgIHN1YnRpdGxlT3ZlcmxheSxcclxuICAgICAgICAgICAgICAgICAgICBuZXcgYnVmZmVyaW5nb3ZlcmxheV8xLkJ1ZmZlcmluZ092ZXJsYXkoKSxcclxuICAgICAgICAgICAgICAgICAgICBuZXcgcGxheWJhY2t0b2dnbGVvdmVybGF5XzEuUGxheWJhY2tUb2dnbGVPdmVybGF5KCksXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IGNhc3RzdGF0dXNvdmVybGF5XzEuQ2FzdFN0YXR1c092ZXJsYXkoKSxcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sQmFyLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIG5ldyBUaXRsZUJhcigpLFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyByZWNvbW1lbmRhdGlvbm92ZXJsYXlfMS5SZWNvbW1lbmRhdGlvbk92ZXJsYXkoKSxcclxuICAgICAgICAgICAgICAgICAgICAvLyBuZXcgV2F0ZXJtYXJrKCksXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IGVycm9ybWVzc2FnZW92ZXJsYXlfMS5FcnJvck1lc3NhZ2VPdmVybGF5KCksXHJcbiAgICAgICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICAgICAgY3NzQ2xhc3NlczogWyd1aS1za2luLW1pLXdiYyddLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gZnVuY3Rpb24gbW9kZXJuQWRzVUkoKSB7XHJcbiAgICAgICAgLy8gICByZXR1cm4gbmV3IFVJQ29udGFpbmVyKHtcclxuICAgICAgICAvLyAgICAgY29tcG9uZW50czogW1xyXG4gICAgICAgIC8vICAgICAgIG5ldyBCdWZmZXJpbmdPdmVybGF5KCksXHJcbiAgICAgICAgLy8gICAgICAgbmV3IEFkQ2xpY2tPdmVybGF5KCksXHJcbiAgICAgICAgLy8gICAgICAgbmV3IFBsYXliYWNrVG9nZ2xlT3ZlcmxheSgpLFxyXG4gICAgICAgIC8vICAgICAgIG5ldyBDb250YWluZXIoe1xyXG4gICAgICAgIC8vICAgICAgICAgY29tcG9uZW50czogW1xyXG4gICAgICAgIC8vICAgICAgICAgICBuZXcgQWRNZXNzYWdlTGFiZWwoeyB0ZXh0OiAnQWQ6IHtyZW1haW5pbmdUaW1lfSBzZWNzJyB9KSxcclxuICAgICAgICAvLyAgICAgICAgICAgbmV3IEFkU2tpcEJ1dHRvbigpLFxyXG4gICAgICAgIC8vICAgICAgICAgXSxcclxuICAgICAgICAvLyAgICAgICAgIGNzc0NsYXNzOiAndWktYWRzLXN0YXR1cycsXHJcbiAgICAgICAgLy8gICAgICAgfSksXHJcbiAgICAgICAgLy8gICAgICAgbmV3IENvbnRyb2xCYXIoe1xyXG4gICAgICAgIC8vICAgICAgICAgY29tcG9uZW50czogW1xyXG4gICAgICAgIC8vICAgICAgICAgICBuZXcgQ29udGFpbmVyKHtcclxuICAgICAgICAvLyAgICAgICAgICAgICBjb21wb25lbnRzOiBbXHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICBuZXcgUGxheWJhY2tUb2dnbGVCdXR0b24oKSxcclxuICAgICAgICAvLyAgICAgICAgICAgICAgIG5ldyBWb2x1bWVUb2dnbGVCdXR0b24oKSxcclxuICAgICAgICAvLyAgICAgICAgICAgICAgIG5ldyBWb2x1bWVTbGlkZXIoKSxcclxuICAgICAgICAvLyAgICAgICAgICAgICAgIG5ldyBTcGFjZXIoKSxcclxuICAgICAgICAvLyAgICAgICAgICAgICAgIG5ldyBGdWxsc2NyZWVuVG9nZ2xlQnV0dG9uKCksXHJcbiAgICAgICAgLy8gICAgICAgICAgICAgXSxcclxuICAgICAgICAvLyAgICAgICAgICAgICBjc3NDbGFzc2VzOiBbJ2NvbnRyb2xiYXItYm90dG9tJ10sXHJcbiAgICAgICAgLy8gICAgICAgICAgIH0pLFxyXG4gICAgICAgIC8vICAgICAgICAgXSxcclxuICAgICAgICAvLyAgICAgICB9KSxcclxuICAgICAgICAvLyAgICAgXSxcclxuICAgICAgICAvLyAgICAgY3NzQ2xhc3NlczogWyd1aS1za2luLW1pLXdiYycsICd1aS1za2luLWFkcyddLFxyXG4gICAgICAgIC8vICAgfSk7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgICAgIGZ1bmN0aW9uIG1vZGVyblNtYWxsU2NyZWVuVUkoKSB7XHJcbiAgICAgICAgICAgIHZhciBzdWJ0aXRsZU92ZXJsYXkgPSBuZXcgc3VidGl0bGVvdmVybGF5XzEuU3VidGl0bGVPdmVybGF5KCk7XHJcbiAgICAgICAgICAgIHZhciBzZXR0aW5nc1BhbmVsID0gbmV3IHNldHRpbmdzcGFuZWxfMS5TZXR0aW5nc1BhbmVsKHtcclxuICAgICAgICAgICAgICAgIGNvbXBvbmVudHM6IFtcclxuICAgICAgICAgICAgICAgICAgICBuZXcgc2V0dGluZ3NwYW5lbF8xLlNldHRpbmdzUGFuZWxJdGVtKCdWaWRlbyBRdWFsaXR5JywgbmV3IHZpZGVvcXVhbGl0eXNlbGVjdGJveF8xLlZpZGVvUXVhbGl0eVNlbGVjdEJveCgpKSxcclxuICAgICAgICAgICAgICAgICAgICBuZXcgc2V0dGluZ3NwYW5lbF8xLlNldHRpbmdzUGFuZWxJdGVtKCdTcGVlZCcsIG5ldyBwbGF5YmFja3NwZWVkc2VsZWN0Ym94XzEuUGxheWJhY2tTcGVlZFNlbGVjdEJveCgpKSxcclxuICAgICAgICAgICAgICAgICAgICBuZXcgc2V0dGluZ3NwYW5lbF8xLlNldHRpbmdzUGFuZWxJdGVtKCdBdWRpbyBUcmFjaycsIG5ldyBhdWRpb3RyYWNrc2VsZWN0Ym94XzEuQXVkaW9UcmFja1NlbGVjdEJveCgpKSxcclxuICAgICAgICAgICAgICAgICAgICBuZXcgc2V0dGluZ3NwYW5lbF8xLlNldHRpbmdzUGFuZWxJdGVtKCdBdWRpbyBRdWFsaXR5JywgbmV3IGF1ZGlvcXVhbGl0eXNlbGVjdGJveF8xLkF1ZGlvUXVhbGl0eVNlbGVjdEJveCgpKSxcclxuICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgICAgICBoaWRkZW46IHRydWUsXHJcbiAgICAgICAgICAgICAgICBoaWRlRGVsYXk6IC0xLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdmFyIHN1YnRpdGxlU2V0dGluZ3NQYW5lbCA9IG5ldyBzdWJ0aXRsZXNldHRpbmdzcGFuZWxfMS5TdWJ0aXRsZVNldHRpbmdzUGFuZWwoe1xyXG4gICAgICAgICAgICAgICAgaGlkZGVuOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgaGlkZURlbGF5OiAtMSxcclxuICAgICAgICAgICAgICAgIG92ZXJsYXk6IHN1YnRpdGxlT3ZlcmxheSxcclxuICAgICAgICAgICAgICAgIHNldHRpbmdzUGFuZWw6IHNldHRpbmdzUGFuZWwsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB2YXIgc3VidGl0bGVTZXR0aW5nc09wZW5CdXR0b24gPSBuZXcgc3VidGl0bGVzZXR0aW5nc29wZW5idXR0b25fMS5TdWJ0aXRsZVNldHRpbmdzT3BlbkJ1dHRvbih7XHJcbiAgICAgICAgICAgICAgICBzdWJ0aXRsZVNldHRpbmdzUGFuZWw6IHN1YnRpdGxlU2V0dGluZ3NQYW5lbCxcclxuICAgICAgICAgICAgICAgIHNldHRpbmdzUGFuZWw6IHNldHRpbmdzUGFuZWwsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBzZXR0aW5nc1BhbmVsLmFkZENvbXBvbmVudChuZXcgc2V0dGluZ3NwYW5lbF8xLlNldHRpbmdzUGFuZWxJdGVtKG5ldyBzdWJ0aXRsZXNldHRpbmdzbGFiZWxfMS5TdWJ0aXRsZVNldHRpbmdzTGFiZWwoeyB0ZXh0OiAnU3VidGl0bGVzJywgb3BlbmVyOiBzdWJ0aXRsZVNldHRpbmdzT3BlbkJ1dHRvbiB9KSwgbmV3IHN1YnRpdGxlc2VsZWN0Ym94XzEuU3VidGl0bGVTZWxlY3RCb3goKSkpO1xyXG4gICAgICAgICAgICBzZXR0aW5nc1BhbmVsLmFkZENvbXBvbmVudChuZXcgY2xvc2VidXR0b25fMS5DbG9zZUJ1dHRvbih7IHRhcmdldDogc2V0dGluZ3NQYW5lbCB9KSk7XHJcbiAgICAgICAgICAgIHN1YnRpdGxlU2V0dGluZ3NQYW5lbC5hZGRDb21wb25lbnQobmV3IGNsb3NlYnV0dG9uXzEuQ2xvc2VCdXR0b24oeyB0YXJnZXQ6IHN1YnRpdGxlU2V0dGluZ3NQYW5lbCB9KSk7XHJcbiAgICAgICAgICAgIHZhciBjb250cm9sQmFyID0gbmV3IGNvbnRyb2xiYXJfMS5Db250cm9sQmFyKHtcclxuICAgICAgICAgICAgICAgIGNvbXBvbmVudHM6IFtcclxuICAgICAgICAgICAgICAgICAgICBuZXcgY29udGFpbmVyXzEuQ29udGFpbmVyKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50czogW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IHBsYXliYWNrdGltZWxhYmVsXzEuUGxheWJhY2tUaW1lTGFiZWwoeyB0aW1lTGFiZWxNb2RlOiBwbGF5YmFja3RpbWVsYWJlbF8xLlBsYXliYWNrVGltZUxhYmVsTW9kZS5DdXJyZW50VGltZSwgaGlkZUluTGl2ZVBsYXliYWNrOiB0cnVlIH0pLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IHNlZWtiYXJfMS5TZWVrQmFyKHsgbGFiZWw6IG5ldyBzZWVrYmFybGFiZWxfMS5TZWVrQmFyTGFiZWwoKSB9KSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBwbGF5YmFja3RpbWVsYWJlbF8xLlBsYXliYWNrVGltZUxhYmVsKHsgdGltZUxhYmVsTW9kZTogcGxheWJhY2t0aW1lbGFiZWxfMS5QbGF5YmFja1RpbWVMYWJlbE1vZGUuVG90YWxUaW1lLCBjc3NDbGFzc2VzOiBbJ3RleHQtcmlnaHQnXSB9KSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3NzQ2xhc3NlczogWydjb250cm9sYmFyLXRvcCddLFxyXG4gICAgICAgICAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgdWljb250YWluZXJfMS5VSUNvbnRhaW5lcih7XHJcbiAgICAgICAgICAgICAgICBjb21wb25lbnRzOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgc3VidGl0bGVPdmVybGF5LFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBidWZmZXJpbmdvdmVybGF5XzEuQnVmZmVyaW5nT3ZlcmxheSgpLFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBjYXN0c3RhdHVzb3ZlcmxheV8xLkNhc3RTdGF0dXNPdmVybGF5KCksXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IHBsYXliYWNrdG9nZ2xlb3ZlcmxheV8xLlBsYXliYWNrVG9nZ2xlT3ZlcmxheSgpLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xCYXIsXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IHRpdGxlYmFyXzEuVGl0bGVCYXIoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRzOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgbWV0YWRhdGFsYWJlbF8xLk1ldGFkYXRhTGFiZWwoeyBjb250ZW50OiBtZXRhZGF0YWxhYmVsXzEuTWV0YWRhdGFMYWJlbENvbnRlbnQuVGl0bGUgfSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgY2FzdHRvZ2dsZWJ1dHRvbl8xLkNhc3RUb2dnbGVCdXR0b24oKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyB2cnRvZ2dsZWJ1dHRvbl8xLlZSVG9nZ2xlQnV0dG9uKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgdm9sdW1ldG9nZ2xlYnV0dG9uXzEuVm9sdW1lVG9nZ2xlQnV0dG9uKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgc2V0dGluZ3N0b2dnbGVidXR0b25fMS5TZXR0aW5nc1RvZ2dsZUJ1dHRvbih7IHNldHRpbmdzUGFuZWw6IHNldHRpbmdzUGFuZWwgfSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgZnVsbHNjcmVlbnRvZ2dsZWJ1dHRvbl8xLkZ1bGxzY3JlZW5Ub2dnbGVCdXR0b24oKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgICAgICAgICBzZXR0aW5nc1BhbmVsLFxyXG4gICAgICAgICAgICAgICAgICAgIHN1YnRpdGxlU2V0dGluZ3NQYW5lbCxcclxuICAgICAgICAgICAgICAgICAgICBuZXcgcmVjb21tZW5kYXRpb25vdmVybGF5XzEuUmVjb21tZW5kYXRpb25PdmVybGF5KCksXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gbmV3IFdhdGVybWFyaygpLFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBlcnJvcm1lc3NhZ2VvdmVybGF5XzEuRXJyb3JNZXNzYWdlT3ZlcmxheSgpLFxyXG4gICAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgICAgIGNzc0NsYXNzZXM6IFsndWktc2tpbi1taS13YmMnLCAndWktc2tpbi1zbWFsbHNjcmVlbiddLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gbW9kZXJuQXVkaW9Pbmx5U21hbGxTY3JlZW5VSSgpIHtcclxuICAgICAgICAgICAgdmFyIHN1YnRpdGxlT3ZlcmxheSA9IG5ldyBzdWJ0aXRsZW92ZXJsYXlfMS5TdWJ0aXRsZU92ZXJsYXkoKTtcclxuICAgICAgICAgICAgdmFyIHNldHRpbmdzUGFuZWwgPSBuZXcgc2V0dGluZ3NwYW5lbF8xLlNldHRpbmdzUGFuZWwoe1xyXG4gICAgICAgICAgICAgICAgY29tcG9uZW50czogW1xyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBzZXR0aW5nc3BhbmVsXzEuU2V0dGluZ3NQYW5lbEl0ZW0oJ1NwZWVkJywgbmV3IHBsYXliYWNrc3BlZWRzZWxlY3Rib3hfMS5QbGF5YmFja1NwZWVkU2VsZWN0Qm94KCkpLFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBzZXR0aW5nc3BhbmVsXzEuU2V0dGluZ3NQYW5lbEl0ZW0oJ0F1ZGlvIFRyYWNrJywgbmV3IGF1ZGlvdHJhY2tzZWxlY3Rib3hfMS5BdWRpb1RyYWNrU2VsZWN0Qm94KCkpLFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBzZXR0aW5nc3BhbmVsXzEuU2V0dGluZ3NQYW5lbEl0ZW0oJ0F1ZGlvIFF1YWxpdHknLCBuZXcgYXVkaW9xdWFsaXR5c2VsZWN0Ym94XzEuQXVkaW9RdWFsaXR5U2VsZWN0Qm94KCkpLFxyXG4gICAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgICAgIGhpZGRlbjogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGhpZGVEZWxheTogLTEsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB2YXIgc3VidGl0bGVTZXR0aW5nc1BhbmVsID0gbmV3IHN1YnRpdGxlc2V0dGluZ3NwYW5lbF8xLlN1YnRpdGxlU2V0dGluZ3NQYW5lbCh7XHJcbiAgICAgICAgICAgICAgICBoaWRkZW46IHRydWUsXHJcbiAgICAgICAgICAgICAgICBoaWRlRGVsYXk6IC0xLFxyXG4gICAgICAgICAgICAgICAgb3ZlcmxheTogc3VidGl0bGVPdmVybGF5LFxyXG4gICAgICAgICAgICAgICAgc2V0dGluZ3NQYW5lbDogc2V0dGluZ3NQYW5lbCxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHZhciBzdWJ0aXRsZVNldHRpbmdzT3BlbkJ1dHRvbiA9IG5ldyBzdWJ0aXRsZXNldHRpbmdzb3BlbmJ1dHRvbl8xLlN1YnRpdGxlU2V0dGluZ3NPcGVuQnV0dG9uKHtcclxuICAgICAgICAgICAgICAgIHN1YnRpdGxlU2V0dGluZ3NQYW5lbDogc3VidGl0bGVTZXR0aW5nc1BhbmVsLFxyXG4gICAgICAgICAgICAgICAgc2V0dGluZ3NQYW5lbDogc2V0dGluZ3NQYW5lbCxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHNldHRpbmdzUGFuZWwuYWRkQ29tcG9uZW50KG5ldyBzZXR0aW5nc3BhbmVsXzEuU2V0dGluZ3NQYW5lbEl0ZW0obmV3IHN1YnRpdGxlc2V0dGluZ3NsYWJlbF8xLlN1YnRpdGxlU2V0dGluZ3NMYWJlbCh7IHRleHQ6ICdTdWJ0aXRsZXMnLCBvcGVuZXI6IHN1YnRpdGxlU2V0dGluZ3NPcGVuQnV0dG9uIH0pLCBuZXcgc3VidGl0bGVzZWxlY3Rib3hfMS5TdWJ0aXRsZVNlbGVjdEJveCgpKSk7XHJcbiAgICAgICAgICAgIHNldHRpbmdzUGFuZWwuYWRkQ29tcG9uZW50KG5ldyBjbG9zZWJ1dHRvbl8xLkNsb3NlQnV0dG9uKHsgdGFyZ2V0OiBzZXR0aW5nc1BhbmVsIH0pKTtcclxuICAgICAgICAgICAgc3VidGl0bGVTZXR0aW5nc1BhbmVsLmFkZENvbXBvbmVudChuZXcgY2xvc2VidXR0b25fMS5DbG9zZUJ1dHRvbih7IHRhcmdldDogc3VidGl0bGVTZXR0aW5nc1BhbmVsIH0pKTtcclxuICAgICAgICAgICAgdmFyIGNvbnRyb2xCYXIgPSBuZXcgY29udHJvbGJhcl8xLkNvbnRyb2xCYXIoe1xyXG4gICAgICAgICAgICAgICAgY29tcG9uZW50czogW1xyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBjb250YWluZXJfMS5Db250YWluZXIoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRzOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgcGxheWJhY2t0aW1lbGFiZWxfMS5QbGF5YmFja1RpbWVMYWJlbCh7IHRpbWVMYWJlbE1vZGU6IHBsYXliYWNrdGltZWxhYmVsXzEuUGxheWJhY2tUaW1lTGFiZWxNb2RlLkN1cnJlbnRUaW1lLCBoaWRlSW5MaXZlUGxheWJhY2s6IHRydWUgfSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgc2Vla2Jhcl8xLlNlZWtCYXIoeyBsYWJlbDogbmV3IHNlZWtiYXJsYWJlbF8xLlNlZWtCYXJMYWJlbCgpIH0pLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IHBsYXliYWNrdGltZWxhYmVsXzEuUGxheWJhY2tUaW1lTGFiZWwoeyB0aW1lTGFiZWxNb2RlOiBwbGF5YmFja3RpbWVsYWJlbF8xLlBsYXliYWNrVGltZUxhYmVsTW9kZS5Ub3RhbFRpbWUsIGNzc0NsYXNzZXM6IFsndGV4dC1yaWdodCddIH0pLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjc3NDbGFzc2VzOiBbJ2NvbnRyb2xiYXItdG9wJ10sXHJcbiAgICAgICAgICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyB1aWNvbnRhaW5lcl8xLlVJQ29udGFpbmVyKHtcclxuICAgICAgICAgICAgICAgIGNvbXBvbmVudHM6IFtcclxuICAgICAgICAgICAgICAgICAgICBuZXcgYXVkaW9vbmx5b3ZlcmxheV8xLkF1ZGlvT25seU92ZXJsYXkoKSxcclxuICAgICAgICAgICAgICAgICAgICBzdWJ0aXRsZU92ZXJsYXksXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IGJ1ZmZlcmluZ292ZXJsYXlfMS5CdWZmZXJpbmdPdmVybGF5KCksXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IGNhc3RzdGF0dXNvdmVybGF5XzEuQ2FzdFN0YXR1c092ZXJsYXkoKSxcclxuICAgICAgICAgICAgICAgICAgICBuZXcgcGxheWJhY2t0b2dnbGVvdmVybGF5XzEuUGxheWJhY2tUb2dnbGVPdmVybGF5KCksXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbEJhcixcclxuICAgICAgICAgICAgICAgICAgICBuZXcgdGl0bGViYXJfMS5UaXRsZUJhcih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudHM6IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBtZXRhZGF0YWxhYmVsXzEuTWV0YWRhdGFMYWJlbCh7IGNvbnRlbnQ6IG1ldGFkYXRhbGFiZWxfMS5NZXRhZGF0YUxhYmVsQ29udGVudC5UaXRsZSB9KSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBjYXN0dG9nZ2xlYnV0dG9uXzEuQ2FzdFRvZ2dsZUJ1dHRvbigpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IHZydG9nZ2xlYnV0dG9uXzEuVlJUb2dnbGVCdXR0b24oKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyB2b2x1bWV0b2dnbGVidXR0b25fMS5Wb2x1bWVUb2dnbGVCdXR0b24oKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBzZXR0aW5nc3RvZ2dsZWJ1dHRvbl8xLlNldHRpbmdzVG9nZ2xlQnV0dG9uKHsgc2V0dGluZ3NQYW5lbDogc2V0dGluZ3NQYW5lbCB9KSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBmdWxsc2NyZWVudG9nZ2xlYnV0dG9uXzEuRnVsbHNjcmVlblRvZ2dsZUJ1dHRvbigpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICAgICAgICAgIHNldHRpbmdzUGFuZWwsXHJcbiAgICAgICAgICAgICAgICAgICAgc3VidGl0bGVTZXR0aW5nc1BhbmVsLFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyByZWNvbW1lbmRhdGlvbm92ZXJsYXlfMS5SZWNvbW1lbmRhdGlvbk92ZXJsYXkoKSxcclxuICAgICAgICAgICAgICAgICAgICAvLyBuZXcgV2F0ZXJtYXJrKCksXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IGVycm9ybWVzc2FnZW92ZXJsYXlfMS5FcnJvck1lc3NhZ2VPdmVybGF5KCksXHJcbiAgICAgICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICAgICAgY3NzQ2xhc3NlczogWyd1aS1za2luLW1pLXdiYycsICd1aS1za2luLXNtYWxsc2NyZWVuJ10sXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBmdW5jdGlvbiBtb2Rlcm5TbWFsbFNjcmVlbkFkc1VJKCkge1xyXG4gICAgICAgIC8vICAgcmV0dXJuIG5ldyBVSUNvbnRhaW5lcih7XHJcbiAgICAgICAgLy8gICAgIGNvbXBvbmVudHM6IFtcclxuICAgICAgICAvLyAgICAgICBuZXcgQnVmZmVyaW5nT3ZlcmxheSgpLFxyXG4gICAgICAgIC8vICAgICAgIG5ldyBBZENsaWNrT3ZlcmxheSgpLFxyXG4gICAgICAgIC8vICAgICAgIG5ldyBQbGF5YmFja1RvZ2dsZU92ZXJsYXkoKSxcclxuICAgICAgICAvLyAgICAgICBuZXcgVGl0bGVCYXIoe1xyXG4gICAgICAgIC8vICAgICAgICAgY29tcG9uZW50czogW1xyXG4gICAgICAgIC8vICAgICAgICAgICAvLyBkdW1teSBsYWJlbCB3aXRoIG5vIGNvbnRlbnQgdG8gbW92ZSBidXR0b25zIHRvIHRoZSByaWdodFxyXG4gICAgICAgIC8vICAgICAgICAgICBuZXcgTGFiZWwoeyBjc3NDbGFzczogJ2xhYmVsLW1ldGFkYXRhLXRpdGxlJyB9KSxcclxuICAgICAgICAvLyAgICAgICAgICAgbmV3IEZ1bGxzY3JlZW5Ub2dnbGVCdXR0b24oKSxcclxuICAgICAgICAvLyAgICAgICAgIF0sXHJcbiAgICAgICAgLy8gICAgICAgfSksXHJcbiAgICAgICAgLy8gICAgICAgbmV3IENvbnRhaW5lcih7XHJcbiAgICAgICAgLy8gICAgICAgICBjb21wb25lbnRzOiBbXHJcbiAgICAgICAgLy8gICAgICAgICAgIG5ldyBBZE1lc3NhZ2VMYWJlbCh7IHRleHQ6ICdBZDoge3JlbWFpbmluZ1RpbWV9IHNlY3MnIH0pLFxyXG4gICAgICAgIC8vICAgICAgICAgICBuZXcgQWRTa2lwQnV0dG9uKCksXHJcbiAgICAgICAgLy8gICAgICAgICBdLFxyXG4gICAgICAgIC8vICAgICAgICAgY3NzQ2xhc3M6ICd1aS1hZHMtc3RhdHVzJyxcclxuICAgICAgICAvLyAgICAgICB9KSxcclxuICAgICAgICAvLyAgICAgXSxcclxuICAgICAgICAvLyAgICAgY3NzQ2xhc3NlczogWyd1aS1za2luLW1pLXdiYycsICd1aS1za2luLWFkcycsICd1aS1za2luLXNtYWxsc2NyZWVuJ10sXHJcbiAgICAgICAgLy8gICB9KTtcclxuICAgICAgICAvLyB9XHJcbiAgICAgICAgLy8gZnVuY3Rpb24gbW9kZXJuQ2FzdFJlY2VpdmVyVUkoKSB7XHJcbiAgICAgICAgLy8gICBsZXQgY29udHJvbEJhciA9IG5ldyBDb250cm9sQmFyKHtcclxuICAgICAgICAvLyAgICAgY29tcG9uZW50czogW1xyXG4gICAgICAgIC8vICAgICAgIG5ldyBDb250YWluZXIoe1xyXG4gICAgICAgIC8vICAgICAgICAgY29tcG9uZW50czogW1xyXG4gICAgICAgIC8vICAgICAgICAgICBuZXcgUGxheWJhY2tUaW1lTGFiZWwoeyB0aW1lTGFiZWxNb2RlOiBQbGF5YmFja1RpbWVMYWJlbE1vZGUuQ3VycmVudFRpbWUsIGhpZGVJbkxpdmVQbGF5YmFjazogdHJ1ZSB9KSxcclxuICAgICAgICAvLyAgICAgICAgICAgbmV3IFNlZWtCYXIoeyBzbW9vdGhQbGF5YmFja1Bvc2l0aW9uVXBkYXRlSW50ZXJ2YWxNczogLTEgfSksXHJcbiAgICAgICAgLy8gICAgICAgICAgIG5ldyBQbGF5YmFja1RpbWVMYWJlbCh7IHRpbWVMYWJlbE1vZGU6IFBsYXliYWNrVGltZUxhYmVsTW9kZS5Ub3RhbFRpbWUsIGNzc0NsYXNzZXM6IFsndGV4dC1yaWdodCddIH0pLFxyXG4gICAgICAgIC8vICAgICAgICAgXSxcclxuICAgICAgICAvLyAgICAgICAgIGNzc0NsYXNzZXM6IFsnY29udHJvbGJhci10b3AnXSxcclxuICAgICAgICAvLyAgICAgICB9KSxcclxuICAgICAgICAvLyAgICAgXSxcclxuICAgICAgICAvLyAgIH0pO1xyXG4gICAgICAgIC8vICAgcmV0dXJuIG5ldyBDYXN0VUlDb250YWluZXIoe1xyXG4gICAgICAgIC8vICAgICBjb21wb25lbnRzOiBbXHJcbiAgICAgICAgLy8gICAgICAgbmV3IFN1YnRpdGxlT3ZlcmxheSgpLFxyXG4gICAgICAgIC8vICAgICAgIG5ldyBCdWZmZXJpbmdPdmVybGF5KCksXHJcbiAgICAgICAgLy8gICAgICAgbmV3IFBsYXliYWNrVG9nZ2xlT3ZlcmxheSgpLFxyXG4gICAgICAgIC8vICAgICAgIG5ldyBXYXRlcm1hcmsoKSxcclxuICAgICAgICAvLyAgICAgICBjb250cm9sQmFyLFxyXG4gICAgICAgIC8vICAgICAgIG5ldyBUaXRsZUJhcih7IGtlZXBIaWRkZW5XaXRob3V0TWV0YWRhdGE6IHRydWUgfSksXHJcbiAgICAgICAgLy8gICAgICAgbmV3IEVycm9yTWVzc2FnZU92ZXJsYXkoKSxcclxuICAgICAgICAvLyAgICAgXSxcclxuICAgICAgICAvLyAgICAgY3NzQ2xhc3NlczogWyd1aS1za2luLW1pLXdiYycsICd1aS1za2luLWNhc3QtcmVjZWl2ZXInXSxcclxuICAgICAgICAvLyAgIH0pO1xyXG4gICAgICAgIC8vIH1cclxuICAgICAgICAvLyBleHBvcnQgZnVuY3Rpb24gYnVpbGRNb2Rlcm5VSShwbGF5ZXI6IFBsYXllckFQSSwgY29uZmlnOiBVSUNvbmZpZyA9IHt9KTogVUlNYW5hZ2VyIHtcclxuICAgICAgICAvLyAgIC8vIHNob3cgc21hbGxTY3JlZW4gVUkgb25seSBvbiBtb2JpbGUvaGFuZGhlbGQgZGV2aWNlc1xyXG4gICAgICAgIC8vICAgbGV0IHNtYWxsU2NyZWVuU3dpdGNoV2lkdGggPSA2MDA7XHJcbiAgICAgICAgLy8gICByZXR1cm4gbmV3IFVJTWFuYWdlcihwbGF5ZXIsIFt7XHJcbiAgICAgICAgLy8gICAgIHVpOiBtb2Rlcm5TbWFsbFNjcmVlbkFkc1VJKCksXHJcbiAgICAgICAgLy8gICAgIGNvbmRpdGlvbjogKGNvbnRleHQ6IFVJQ29uZGl0aW9uQ29udGV4dCkgPT4ge1xyXG4gICAgICAgIC8vICAgICAgIHJldHVybiBjb250ZXh0LmlzTW9iaWxlICYmIGNvbnRleHQuZG9jdW1lbnRXaWR0aCA8IHNtYWxsU2NyZWVuU3dpdGNoV2lkdGggJiYgY29udGV4dC5pc0FkV2l0aFVJO1xyXG4gICAgICAgIC8vICAgICB9LFxyXG4gICAgICAgIC8vICAgfSwge1xyXG4gICAgICAgIC8vICAgICB1aTogbW9kZXJuQWRzVUkoKSxcclxuICAgICAgICAvLyAgICAgY29uZGl0aW9uOiAoY29udGV4dDogVUlDb25kaXRpb25Db250ZXh0KSA9PiB7XHJcbiAgICAgICAgLy8gICAgICAgcmV0dXJuIGNvbnRleHQuaXNBZFdpdGhVSTtcclxuICAgICAgICAvLyAgICAgfSxcclxuICAgICAgICAvLyAgIH0sIHtcclxuICAgICAgICAvLyAgICAgdWk6IG1vZGVyblNtYWxsU2NyZWVuVUkoKSxcclxuICAgICAgICAvLyAgICAgY29uZGl0aW9uOiAoY29udGV4dDogVUlDb25kaXRpb25Db250ZXh0KSA9PiB7XHJcbiAgICAgICAgLy8gICAgICAgcmV0dXJuIGNvbnRleHQuaXNNb2JpbGUgJiYgY29udGV4dC5kb2N1bWVudFdpZHRoIDwgc21hbGxTY3JlZW5Td2l0Y2hXaWR0aDtcclxuICAgICAgICAvLyAgICAgfSxcclxuICAgICAgICAvLyAgIH0sIHtcclxuICAgICAgICAvLyAgICAgdWk6IG1vZGVyblVJKCksXHJcbiAgICAgICAgLy8gICB9XSwgY29uZmlnKTtcclxuICAgICAgICAvLyB9XHJcbiAgICAgICAgLy8gZXhwb3J0IGZ1bmN0aW9uIGJ1aWxkTW9kZXJuU21hbGxTY3JlZW5VSShwbGF5ZXI6IFBsYXllckFQSSwgY29uZmlnOiBVSUNvbmZpZyA9IHt9KTogVUlNYW5hZ2VyIHtcclxuICAgICAgICAvLyAgIHJldHVybiBuZXcgVUlNYW5hZ2VyKHBsYXllciwgW3tcclxuICAgICAgICAvLyAgICAgdWk6IG1vZGVyblNtYWxsU2NyZWVuQWRzVUkoKSxcclxuICAgICAgICAvLyAgICAgY29uZGl0aW9uOiAoY29udGV4dDogVUlDb25kaXRpb25Db250ZXh0KSA9PiB7XHJcbiAgICAgICAgLy8gICAgICAgcmV0dXJuIGNvbnRleHQuaXNBZFdpdGhVSTtcclxuICAgICAgICAvLyAgICAgfSxcclxuICAgICAgICAvLyAgIH0sIHtcclxuICAgICAgICAvLyAgICAgdWk6IG1vZGVyblNtYWxsU2NyZWVuVUkoKSxcclxuICAgICAgICAvLyAgIH1dLCBjb25maWcpO1xyXG4gICAgICAgIC8vIH1cclxuICAgICAgICAvLyBleHBvcnQgZnVuY3Rpb24gYnVpbGRNb2Rlcm5DYXN0UmVjZWl2ZXJVSShwbGF5ZXI6IFBsYXllckFQSSwgY29uZmlnOiBVSUNvbmZpZyA9IHt9KTogVUlNYW5hZ2VyIHtcclxuICAgICAgICAvLyAgIHJldHVybiBuZXcgVUlNYW5hZ2VyKHBsYXllciwgbW9kZXJuQ2FzdFJlY2VpdmVyVUkoKSwgY29uZmlnKTtcclxuICAgICAgICAvLyB9XHJcbiAgICAgICAgLy8gZnVuY3Rpb24gbGVnYWN5VUkoKSB7XHJcbiAgICAgICAgLy8gICBsZXQgc2V0dGluZ3NQYW5lbCA9IG5ldyBTZXR0aW5nc1BhbmVsKHtcclxuICAgICAgICAvLyAgICAgY29tcG9uZW50czogW1xyXG4gICAgICAgIC8vICAgICAgIG5ldyBTZXR0aW5nc1BhbmVsSXRlbSgnVmlkZW8gUXVhbGl0eScsIG5ldyBWaWRlb1F1YWxpdHlTZWxlY3RCb3goKSksXHJcbiAgICAgICAgLy8gICAgICAgbmV3IFNldHRpbmdzUGFuZWxJdGVtKCdBdWRpbyBUcmFjaycsIG5ldyBBdWRpb1RyYWNrU2VsZWN0Qm94KCkpLFxyXG4gICAgICAgIC8vICAgICAgIG5ldyBTZXR0aW5nc1BhbmVsSXRlbSgnQXVkaW8gUXVhbGl0eScsIG5ldyBBdWRpb1F1YWxpdHlTZWxlY3RCb3goKSksXHJcbiAgICAgICAgLy8gICAgICAgbmV3IFNldHRpbmdzUGFuZWxJdGVtKCdTdWJ0aXRsZXMnLCBuZXcgU3VidGl0bGVTZWxlY3RCb3goKSksXHJcbiAgICAgICAgLy8gICAgIF0sXHJcbiAgICAgICAgLy8gICAgIGhpZGRlbjogdHJ1ZSxcclxuICAgICAgICAvLyAgIH0pO1xyXG4gICAgICAgIC8vICAgbGV0IGNvbnRyb2xCYXIgPSBuZXcgQ29udHJvbEJhcih7XHJcbiAgICAgICAgLy8gICAgIGNvbXBvbmVudHM6IFtcclxuICAgICAgICAvLyAgICAgICBzZXR0aW5nc1BhbmVsLFxyXG4gICAgICAgIC8vICAgICAgIG5ldyBQbGF5YmFja1RvZ2dsZUJ1dHRvbigpLFxyXG4gICAgICAgIC8vICAgICAgIG5ldyBTZWVrQmFyKHsgbGFiZWw6IG5ldyBTZWVrQmFyTGFiZWwoKSB9KSxcclxuICAgICAgICAvLyAgICAgICBuZXcgUGxheWJhY2tUaW1lTGFiZWwoKSxcclxuICAgICAgICAvLyAgICAgICBuZXcgVlJUb2dnbGVCdXR0b24oKSxcclxuICAgICAgICAvLyAgICAgICBuZXcgVm9sdW1lQ29udHJvbEJ1dHRvbigpLFxyXG4gICAgICAgIC8vICAgICAgIG5ldyBTZXR0aW5nc1RvZ2dsZUJ1dHRvbih7IHNldHRpbmdzUGFuZWw6IHNldHRpbmdzUGFuZWwgfSksXHJcbiAgICAgICAgLy8gICAgICAgbmV3IENhc3RUb2dnbGVCdXR0b24oKSxcclxuICAgICAgICAvLyAgICAgICBuZXcgRnVsbHNjcmVlblRvZ2dsZUJ1dHRvbigpLFxyXG4gICAgICAgIC8vICAgICBdLFxyXG4gICAgICAgIC8vICAgfSk7XHJcbiAgICAgICAgLy8gICByZXR1cm4gbmV3IFVJQ29udGFpbmVyKHtcclxuICAgICAgICAvLyAgICAgY29tcG9uZW50czogW1xyXG4gICAgICAgIC8vICAgICAgIG5ldyBTdWJ0aXRsZU92ZXJsYXkoKSxcclxuICAgICAgICAvLyAgICAgICBuZXcgQ2FzdFN0YXR1c092ZXJsYXkoKSxcclxuICAgICAgICAvLyAgICAgICBuZXcgUGxheWJhY2tUb2dnbGVPdmVybGF5KCksXHJcbiAgICAgICAgLy8gICAgICAgbmV3IFdhdGVybWFyaygpLFxyXG4gICAgICAgIC8vICAgICAgIG5ldyBSZWNvbW1lbmRhdGlvbk92ZXJsYXkoKSxcclxuICAgICAgICAvLyAgICAgICBjb250cm9sQmFyLFxyXG4gICAgICAgIC8vICAgICAgIG5ldyBUaXRsZUJhcigpLFxyXG4gICAgICAgIC8vICAgICAgIG5ldyBFcnJvck1lc3NhZ2VPdmVybGF5KCksXHJcbiAgICAgICAgLy8gICAgIF0sXHJcbiAgICAgICAgLy8gICAgIGNzc0NsYXNzZXM6IFsndWktc2tpbi1sZWdhY3knXSxcclxuICAgICAgICAvLyAgIH0pO1xyXG4gICAgICAgIC8vIH1cclxuICAgICAgICAvLyBmdW5jdGlvbiBsZWdhY3lBZHNVSSgpIHtcclxuICAgICAgICAvLyAgIHJldHVybiBuZXcgVUlDb250YWluZXIoe1xyXG4gICAgICAgIC8vICAgICBjb21wb25lbnRzOiBbXHJcbiAgICAgICAgLy8gICAgICAgbmV3IEFkQ2xpY2tPdmVybGF5KCksXHJcbiAgICAgICAgLy8gICAgICAgbmV3IENvbnRyb2xCYXIoe1xyXG4gICAgICAgIC8vICAgICAgICAgY29tcG9uZW50czogW1xyXG4gICAgICAgIC8vICAgICAgICAgICBuZXcgUGxheWJhY2tUb2dnbGVCdXR0b24oKSxcclxuICAgICAgICAvLyAgICAgICAgICAgbmV3IEFkTWVzc2FnZUxhYmVsKCksXHJcbiAgICAgICAgLy8gICAgICAgICAgIG5ldyBWb2x1bWVDb250cm9sQnV0dG9uKCksXHJcbiAgICAgICAgLy8gICAgICAgICAgIG5ldyBGdWxsc2NyZWVuVG9nZ2xlQnV0dG9uKCksXHJcbiAgICAgICAgLy8gICAgICAgICBdLFxyXG4gICAgICAgIC8vICAgICAgIH0pLFxyXG4gICAgICAgIC8vICAgICAgIG5ldyBBZFNraXBCdXR0b24oKSxcclxuICAgICAgICAvLyAgICAgXSxcclxuICAgICAgICAvLyAgICAgY3NzQ2xhc3NlczogWyd1aS1za2luLWxlZ2FjeScsICd1aS1za2luLWFkcyddLFxyXG4gICAgICAgIC8vICAgfSk7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgICAgIC8vIGZ1bmN0aW9uIGxlZ2FjeUNhc3RSZWNlaXZlclVJKCkge1xyXG4gICAgICAgIC8vICAgbGV0IGNvbnRyb2xCYXIgPSBuZXcgQ29udHJvbEJhcih7XHJcbiAgICAgICAgLy8gICAgIGNvbXBvbmVudHM6IFtcclxuICAgICAgICAvLyAgICAgICBuZXcgU2Vla0JhcigpLFxyXG4gICAgICAgIC8vICAgICAgIG5ldyBQbGF5YmFja1RpbWVMYWJlbCgpLFxyXG4gICAgICAgIC8vICAgICBdLFxyXG4gICAgICAgIC8vICAgfSk7XHJcbiAgICAgICAgLy8gICByZXR1cm4gbmV3IFVJQ29udGFpbmVyKHtcclxuICAgICAgICAvLyAgICAgY29tcG9uZW50czogW1xyXG4gICAgICAgIC8vICAgICAgIG5ldyBTdWJ0aXRsZU92ZXJsYXkoKSxcclxuICAgICAgICAvLyAgICAgICBuZXcgUGxheWJhY2tUb2dnbGVPdmVybGF5KCksXHJcbiAgICAgICAgLy8gICAgICAgbmV3IFdhdGVybWFyaygpLFxyXG4gICAgICAgIC8vICAgICAgIGNvbnRyb2xCYXIsXHJcbiAgICAgICAgLy8gICAgICAgbmV3IFRpdGxlQmFyKCksXHJcbiAgICAgICAgLy8gICAgICAgbmV3IEVycm9yTWVzc2FnZU92ZXJsYXkoKSxcclxuICAgICAgICAvLyAgICAgXSxcclxuICAgICAgICAvLyAgICAgY3NzQ2xhc3NlczogWyd1aS1za2luLWxlZ2FjeScsICd1aS1za2luLWNhc3QtcmVjZWl2ZXInXSxcclxuICAgICAgICAvLyAgIH0pO1xyXG4gICAgICAgIC8vIH1cclxuICAgICAgICAvLyBmdW5jdGlvbiBsZWdhY3lUZXN0VUkoKSB7XHJcbiAgICAgICAgLy8gICBsZXQgc2V0dGluZ3NQYW5lbCA9IG5ldyBTZXR0aW5nc1BhbmVsKHtcclxuICAgICAgICAvLyAgICAgY29tcG9uZW50czogW1xyXG4gICAgICAgIC8vICAgICAgIG5ldyBTZXR0aW5nc1BhbmVsSXRlbSgnVmlkZW8gUXVhbGl0eScsIG5ldyBWaWRlb1F1YWxpdHlTZWxlY3RCb3goKSksXHJcbiAgICAgICAgLy8gICAgICAgbmV3IFNldHRpbmdzUGFuZWxJdGVtKCdBdWRpbyBUcmFjaycsIG5ldyBBdWRpb1RyYWNrU2VsZWN0Qm94KCkpLFxyXG4gICAgICAgIC8vICAgICAgIG5ldyBTZXR0aW5nc1BhbmVsSXRlbSgnQXVkaW8gUXVhbGl0eScsIG5ldyBBdWRpb1F1YWxpdHlTZWxlY3RCb3goKSksXHJcbiAgICAgICAgLy8gICAgICAgbmV3IFNldHRpbmdzUGFuZWxJdGVtKCdTdWJ0aXRsZXMnLCBuZXcgU3VidGl0bGVTZWxlY3RCb3goKSksXHJcbiAgICAgICAgLy8gICAgIF0sXHJcbiAgICAgICAgLy8gICAgIGhpZGRlbjogdHJ1ZSxcclxuICAgICAgICAvLyAgIH0pO1xyXG4gICAgICAgIC8vICAgbGV0IGNvbnRyb2xCYXIgPSBuZXcgQ29udHJvbEJhcih7XHJcbiAgICAgICAgLy8gICAgIGNvbXBvbmVudHM6IFtzZXR0aW5nc1BhbmVsLFxyXG4gICAgICAgIC8vICAgICAgIG5ldyBQbGF5YmFja1RvZ2dsZUJ1dHRvbigpLFxyXG4gICAgICAgIC8vICAgICAgIG5ldyBTZWVrQmFyKHsgbGFiZWw6IG5ldyBTZWVrQmFyTGFiZWwoKSB9KSxcclxuICAgICAgICAvLyAgICAgICBuZXcgUGxheWJhY2tUaW1lTGFiZWwoKSxcclxuICAgICAgICAvLyAgICAgICBuZXcgVlJUb2dnbGVCdXR0b24oKSxcclxuICAgICAgICAvLyAgICAgICBuZXcgVm9sdW1lVG9nZ2xlQnV0dG9uKCksXHJcbiAgICAgICAgLy8gICAgICAgbmV3IFZvbHVtZVNsaWRlcigpLFxyXG4gICAgICAgIC8vICAgICAgIG5ldyBWb2x1bWVDb250cm9sQnV0dG9uKCksXHJcbiAgICAgICAgLy8gICAgICAgbmV3IFZvbHVtZUNvbnRyb2xCdXR0b24oeyB2ZXJ0aWNhbDogZmFsc2UgfSksXHJcbiAgICAgICAgLy8gICAgICAgbmV3IFNldHRpbmdzVG9nZ2xlQnV0dG9uKHsgc2V0dGluZ3NQYW5lbDogc2V0dGluZ3NQYW5lbCB9KSxcclxuICAgICAgICAvLyAgICAgICBuZXcgQ2FzdFRvZ2dsZUJ1dHRvbigpLFxyXG4gICAgICAgIC8vICAgICAgIG5ldyBGdWxsc2NyZWVuVG9nZ2xlQnV0dG9uKCksXHJcbiAgICAgICAgLy8gICAgIF0sXHJcbiAgICAgICAgLy8gICB9KTtcclxuICAgICAgICAvLyAgIHJldHVybiBuZXcgVUlDb250YWluZXIoe1xyXG4gICAgICAgIC8vICAgICBjb21wb25lbnRzOiBbXHJcbiAgICAgICAgLy8gICAgICAgbmV3IFN1YnRpdGxlT3ZlcmxheSgpLFxyXG4gICAgICAgIC8vICAgICAgIG5ldyBDYXN0U3RhdHVzT3ZlcmxheSgpLFxyXG4gICAgICAgIC8vICAgICAgIG5ldyBQbGF5YmFja1RvZ2dsZU92ZXJsYXkoKSxcclxuICAgICAgICAvLyAgICAgICBuZXcgV2F0ZXJtYXJrKCksXHJcbiAgICAgICAgLy8gICAgICAgbmV3IFJlY29tbWVuZGF0aW9uT3ZlcmxheSgpLFxyXG4gICAgICAgIC8vICAgICAgIGNvbnRyb2xCYXIsXHJcbiAgICAgICAgLy8gICAgICAgbmV3IFRpdGxlQmFyKCksXHJcbiAgICAgICAgLy8gICAgICAgbmV3IEVycm9yTWVzc2FnZU92ZXJsYXkoKSxcclxuICAgICAgICAvLyAgICAgXSxcclxuICAgICAgICAvLyAgICAgY3NzQ2xhc3NlczogWyd1aS1za2luLWxlZ2FjeSddLFxyXG4gICAgICAgIC8vICAgfSk7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgICAgIC8vIGV4cG9ydCBmdW5jdGlvbiBidWlsZExlZ2FjeVVJKHBsYXllcjogUGxheWVyQVBJLCBjb25maWc6IFVJQ29uZmlnID0ge30pOiBVSU1hbmFnZXIge1xyXG4gICAgICAgIC8vICAgcmV0dXJuIG5ldyBVSU1hbmFnZXIocGxheWVyLCBbe1xyXG4gICAgICAgIC8vICAgICB1aTogbGVnYWN5QWRzVUkoKSxcclxuICAgICAgICAvLyAgICAgY29uZGl0aW9uOiAoY29udGV4dDogVUlDb25kaXRpb25Db250ZXh0KSA9PiB7XHJcbiAgICAgICAgLy8gICAgICAgcmV0dXJuIGNvbnRleHQuaXNBZFdpdGhVSTtcclxuICAgICAgICAvLyAgICAgfSxcclxuICAgICAgICAvLyAgIH0sIHtcclxuICAgICAgICAvLyAgICAgdWk6IGxlZ2FjeVVJKCksXHJcbiAgICAgICAgLy8gICB9XSwgY29uZmlnKTtcclxuICAgICAgICAvLyB9XHJcbiAgICAgICAgLy8gZXhwb3J0IGZ1bmN0aW9uIGJ1aWxkTGVnYWN5Q2FzdFJlY2VpdmVyVUkocGxheWVyOiBQbGF5ZXJBUEksIGNvbmZpZzogVUlDb25maWcgPSB7fSk6IFVJTWFuYWdlciB7XHJcbiAgICAgICAgLy8gICByZXR1cm4gbmV3IFVJTWFuYWdlcihwbGF5ZXIsIGxlZ2FjeUNhc3RSZWNlaXZlclVJKCksIGNvbmZpZyk7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgICAgIC8vIGV4cG9ydCBmdW5jdGlvbiBidWlsZExlZ2FjeVRlc3RVSShwbGF5ZXI6IFBsYXllckFQSSwgY29uZmlnOiBVSUNvbmZpZyA9IHt9KTogVUlNYW5hZ2VyIHtcclxuICAgICAgICAvLyAgIHJldHVybiBuZXcgVUlNYW5hZ2VyKHBsYXllciwgbGVnYWN5VGVzdFVJKCksIGNvbmZpZyk7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgfSkoRmFjdG9yeSA9IFVJTWFuYWdlci5GYWN0b3J5IHx8IChVSU1hbmFnZXIuRmFjdG9yeSA9IHt9KSk7XHJcbn0pKFVJTWFuYWdlciA9IGV4cG9ydHMuVUlNYW5hZ2VyIHx8IChleHBvcnRzLlVJTWFuYWdlciA9IHt9KSk7XHJcbmV4cG9ydHMuVUlNYW5hZ2VyID0gVUlNYW5hZ2VyO1xyXG4vKipcclxuICogRW5jYXBzdWxhdGVzIGZ1bmN0aW9uYWxpdHkgdG8gbWFuYWdlIGEgVUkgaW5zdGFuY2UuIFVzZWQgYnkgdGhlIHtAbGluayBVSU1hbmFnZXJ9IHRvIG1hbmFnZSBtdWx0aXBsZSBVSSBpbnN0YW5jZXMuXHJcbiAqL1xyXG52YXIgVUlJbnN0YW5jZU1hbmFnZXIgPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gVUlJbnN0YW5jZU1hbmFnZXIocGxheWVyLCB1aSwgY29uZmlnKSB7XHJcbiAgICAgICAgdGhpcy5ldmVudHMgPSB7XHJcbiAgICAgICAgICAgIG9uQ29uZmlndXJlZDogbmV3IGV2ZW50ZGlzcGF0Y2hlcl8xLkV2ZW50RGlzcGF0Y2hlcigpLFxyXG4gICAgICAgICAgICBvblNlZWs6IG5ldyBldmVudGRpc3BhdGNoZXJfMS5FdmVudERpc3BhdGNoZXIoKSxcclxuICAgICAgICAgICAgb25TZWVrUHJldmlldzogbmV3IGV2ZW50ZGlzcGF0Y2hlcl8xLkV2ZW50RGlzcGF0Y2hlcigpLFxyXG4gICAgICAgICAgICBvblNlZWtlZDogbmV3IGV2ZW50ZGlzcGF0Y2hlcl8xLkV2ZW50RGlzcGF0Y2hlcigpLFxyXG4gICAgICAgICAgICBvbkNvbXBvbmVudFNob3c6IG5ldyBldmVudGRpc3BhdGNoZXJfMS5FdmVudERpc3BhdGNoZXIoKSxcclxuICAgICAgICAgICAgb25Db21wb25lbnRIaWRlOiBuZXcgZXZlbnRkaXNwYXRjaGVyXzEuRXZlbnREaXNwYXRjaGVyKCksXHJcbiAgICAgICAgICAgIG9uQ29udHJvbHNTaG93OiBuZXcgZXZlbnRkaXNwYXRjaGVyXzEuRXZlbnREaXNwYXRjaGVyKCksXHJcbiAgICAgICAgICAgIG9uUHJldmlld0NvbnRyb2xzSGlkZTogbmV3IGV2ZW50ZGlzcGF0Y2hlcl8xLkV2ZW50RGlzcGF0Y2hlcigpLFxyXG4gICAgICAgICAgICBvbkNvbnRyb2xzSGlkZTogbmV3IGV2ZW50ZGlzcGF0Y2hlcl8xLkV2ZW50RGlzcGF0Y2hlcigpLFxyXG4gICAgICAgICAgICBvblJlbGVhc2U6IG5ldyBldmVudGRpc3BhdGNoZXJfMS5FdmVudERpc3BhdGNoZXIoKSxcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMucGxheWVyV3JhcHBlciA9IG5ldyBQbGF5ZXJXcmFwcGVyKHBsYXllcik7XHJcbiAgICAgICAgdGhpcy51aSA9IHVpO1xyXG4gICAgICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xyXG4gICAgfVxyXG4gICAgVUlJbnN0YW5jZU1hbmFnZXIucHJvdG90eXBlLmdldENvbmZpZyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb25maWc7XHJcbiAgICB9O1xyXG4gICAgVUlJbnN0YW5jZU1hbmFnZXIucHJvdG90eXBlLmdldFVJID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnVpO1xyXG4gICAgfTtcclxuICAgIFVJSW5zdGFuY2VNYW5hZ2VyLnByb3RvdHlwZS5nZXRQbGF5ZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucGxheWVyV3JhcHBlci5nZXRQbGF5ZXIoKTtcclxuICAgIH07XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVUlJbnN0YW5jZU1hbmFnZXIucHJvdG90eXBlLCBcIm9uQ29uZmlndXJlZFwiLCB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogRmlyZXMgd2hlbiB0aGUgVUkgaXMgZnVsbHkgY29uZmlndXJlZCBhbmQgYWRkZWQgdG8gdGhlIERPTS5cclxuICAgICAgICAgKiBAcmV0dXJucyB7RXZlbnREaXNwYXRjaGVyfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ldmVudHMub25Db25maWd1cmVkO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFVJSW5zdGFuY2VNYW5hZ2VyLnByb3RvdHlwZSwgXCJvblNlZWtcIiwge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEZpcmVzIHdoZW4gYSBzZWVrIHN0YXJ0cy5cclxuICAgICAgICAgKiBAcmV0dXJucyB7RXZlbnREaXNwYXRjaGVyfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ldmVudHMub25TZWVrO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFVJSW5zdGFuY2VNYW5hZ2VyLnByb3RvdHlwZSwgXCJvblNlZWtQcmV2aWV3XCIsIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBGaXJlcyB3aGVuIHRoZSBzZWVrIHRpbWVsaW5lIGlzIHNjcnViYmVkLlxyXG4gICAgICAgICAqIEByZXR1cm5zIHtFdmVudERpc3BhdGNoZXJ9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmV2ZW50cy5vblNlZWtQcmV2aWV3O1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFVJSW5zdGFuY2VNYW5hZ2VyLnByb3RvdHlwZSwgXCJvblNlZWtlZFwiLCB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogRmlyZXMgd2hlbiBhIHNlZWsgaXMgZmluaXNoZWQuXHJcbiAgICAgICAgICogQHJldHVybnMge0V2ZW50RGlzcGF0Y2hlcn1cclxuICAgICAgICAgKi9cclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZXZlbnRzLm9uU2Vla2VkO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFVJSW5zdGFuY2VNYW5hZ2VyLnByb3RvdHlwZSwgXCJvbkNvbXBvbmVudFNob3dcIiwge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEZpcmVzIHdoZW4gYSBjb21wb25lbnQgaXMgc2hvd2luZy5cclxuICAgICAgICAgKiBAcmV0dXJucyB7RXZlbnREaXNwYXRjaGVyfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ldmVudHMub25Db21wb25lbnRTaG93O1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFVJSW5zdGFuY2VNYW5hZ2VyLnByb3RvdHlwZSwgXCJvbkNvbXBvbmVudEhpZGVcIiwge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEZpcmVzIHdoZW4gYSBjb21wb25lbnQgaXMgaGlkaW5nLlxyXG4gICAgICAgICAqIEByZXR1cm5zIHtFdmVudERpc3BhdGNoZXJ9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmV2ZW50cy5vbkNvbXBvbmVudEhpZGU7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVUlJbnN0YW5jZU1hbmFnZXIucHJvdG90eXBlLCBcIm9uQ29udHJvbHNTaG93XCIsIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBGaXJlcyB3aGVuIHRoZSBVSSBjb250cm9scyBhcmUgc2hvd2luZy5cclxuICAgICAgICAgKiBAcmV0dXJucyB7RXZlbnREaXNwYXRjaGVyfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ldmVudHMub25Db250cm9sc1Nob3c7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVUlJbnN0YW5jZU1hbmFnZXIucHJvdG90eXBlLCBcIm9uUHJldmlld0NvbnRyb2xzSGlkZVwiLCB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogRmlyZXMgYmVmb3JlIHRoZSBVSSBjb250cm9scyBhcmUgaGlkaW5nIHRvIGNoZWNrIGlmIHRoZXkgYXJlIGFsbG93ZWQgdG8gaGlkZS5cclxuICAgICAgICAgKiBAcmV0dXJucyB7RXZlbnREaXNwYXRjaGVyfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ldmVudHMub25QcmV2aWV3Q29udHJvbHNIaWRlO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFVJSW5zdGFuY2VNYW5hZ2VyLnByb3RvdHlwZSwgXCJvbkNvbnRyb2xzSGlkZVwiLCB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogRmlyZXMgd2hlbiB0aGUgVUkgY29udHJvbHMgYXJlIGhpZGluZy5cclxuICAgICAgICAgKiBAcmV0dXJucyB7RXZlbnREaXNwYXRjaGVyfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ldmVudHMub25Db250cm9sc0hpZGU7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVUlJbnN0YW5jZU1hbmFnZXIucHJvdG90eXBlLCBcIm9uUmVsZWFzZVwiLCB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogRmlyZXMgd2hlbiB0aGUgVUkgY29udHJvbHMgYXJlIHJlbGVhc2VkLlxyXG4gICAgICAgICAqIEByZXR1cm5zIHtFdmVudERpc3BhdGNoZXJ9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmV2ZW50cy5vblJlbGVhc2U7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBVSUluc3RhbmNlTWFuYWdlci5wcm90b3R5cGUuY2xlYXJFdmVudEhhbmRsZXJzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMucGxheWVyV3JhcHBlci5jbGVhckV2ZW50SGFuZGxlcnMoKTtcclxuICAgICAgICB2YXIgZXZlbnRzID0gdGhpcy5ldmVudHM7IC8vIGF2b2lkIFRTNzAxN1xyXG4gICAgICAgIGZvciAodmFyIGV2ZW50XzEgaW4gZXZlbnRzKSB7XHJcbiAgICAgICAgICAgIHZhciBkaXNwYXRjaGVyID0gZXZlbnRzW2V2ZW50XzFdO1xyXG4gICAgICAgICAgICBkaXNwYXRjaGVyLnVuc3Vic2NyaWJlQWxsKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHJldHVybiBVSUluc3RhbmNlTWFuYWdlcjtcclxufSgpKTtcclxuZXhwb3J0cy5VSUluc3RhbmNlTWFuYWdlciA9IFVJSW5zdGFuY2VNYW5hZ2VyO1xyXG4vKipcclxuICogRXh0ZW5kcyB0aGUge0BsaW5rIFVJSW5zdGFuY2VNYW5hZ2VyfSBmb3IgaW50ZXJuYWwgdXNlIGluIHRoZSB7QGxpbmsgVUlNYW5hZ2VyfSBhbmQgcHJvdmlkZXMgYWNjZXNzIHRvIGZ1bmN0aW9uYWxpdHlcclxuICogdGhhdCBjb21wb25lbnRzIHJlY2VpdmluZyBhIHJlZmVyZW5jZSB0byB0aGUge0BsaW5rIFVJSW5zdGFuY2VNYW5hZ2VyfSBzaG91bGQgbm90IGhhdmUgYWNjZXNzIHRvLlxyXG4gKi9cclxudmFyIEludGVybmFsVUlJbnN0YW5jZU1hbmFnZXIgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKEludGVybmFsVUlJbnN0YW5jZU1hbmFnZXIsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBJbnRlcm5hbFVJSW5zdGFuY2VNYW5hZ2VyKCkge1xyXG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcclxuICAgIH1cclxuICAgIEludGVybmFsVUlJbnN0YW5jZU1hbmFnZXIucHJvdG90eXBlLmdldFdyYXBwZWRQbGF5ZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8gVE9ETyBmaW5kIGEgbm9uLWhhY2t5IHdheSB0byBwcm92aWRlIHRoZSBXcmFwcGVkUGxheWVyIHRvIHRoZSBVSU1hbmFnZXIgd2l0aG91dCBleHBvcnRpbmcgaXRcclxuICAgICAgICAvLyBnZXRQbGF5ZXIoKSBhY3R1YWxseSByZXR1cm5zIHRoZSBXcmFwcGVkUGxheWVyIGJ1dCBpdHMgcmV0dXJuIHR5cGUgaXMgc2V0IHRvIFBsYXllciBzbyB0aGUgV3JhcHBlZFBsYXllciBkb2VzXHJcbiAgICAgICAgLy8gbm90IG5lZWQgdG8gYmUgZXhwb3J0ZWRcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRQbGF5ZXIoKTtcclxuICAgIH07XHJcbiAgICBJbnRlcm5hbFVJSW5zdGFuY2VNYW5hZ2VyLnByb3RvdHlwZS5jb25maWd1cmVDb250cm9scyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLmNvbmZpZ3VyZUNvbnRyb2xzVHJlZSh0aGlzLmdldFVJKCkpO1xyXG4gICAgICAgIHRoaXMuY29uZmlndXJlZCA9IHRydWU7XHJcbiAgICB9O1xyXG4gICAgSW50ZXJuYWxVSUluc3RhbmNlTWFuYWdlci5wcm90b3R5cGUuaXNDb25maWd1cmVkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbmZpZ3VyZWQ7XHJcbiAgICB9O1xyXG4gICAgSW50ZXJuYWxVSUluc3RhbmNlTWFuYWdlci5wcm90b3R5cGUuY29uZmlndXJlQ29udHJvbHNUcmVlID0gZnVuY3Rpb24gKGNvbXBvbmVudCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdmFyIGNvbmZpZ3VyZWRDb21wb25lbnRzID0gW107XHJcbiAgICAgICAgdWl1dGlsc18xLlVJVXRpbHMudHJhdmVyc2VUcmVlKGNvbXBvbmVudCwgZnVuY3Rpb24gKGNvbXBvbmVudCkge1xyXG4gICAgICAgICAgICAvLyBGaXJzdCwgY2hlY2sgaWYgd2UgaGF2ZSBhbHJlYWR5IGNvbmZpZ3VyZWQgYSBjb21wb25lbnQsIGFuZCB0aHJvdyBhbiBlcnJvciBpZiB3ZSBkaWQuIE11bHRpcGxlIGNvbmZpZ3VyYXRpb25cclxuICAgICAgICAgICAgLy8gb2YgdGhlIHNhbWUgY29tcG9uZW50IGxlYWRzIHRvIHVuZXhwZWN0ZWQgVUkgYmVoYXZpb3IuIEFsc28sIGEgY29tcG9uZW50IHRoYXQgaXMgaW4gdGhlIFVJIHRyZWUgbXVsdGlwbGVcclxuICAgICAgICAgICAgLy8gdGltZXMgaGludHMgYXQgYSB3cm9uZyBVSSBzdHJ1Y3R1cmUuXHJcbiAgICAgICAgICAgIC8vIFdlIGNvdWxkIGp1c3Qgc2tpcCBjb25maWd1cmF0aW9uIGluIHN1Y2ggYSBjYXNlIGFuZCBub3QgdGhyb3cgYW4gZXhjZXB0aW9uLCBidXQgZW5mb3JjaW5nIGEgY2xlYW4gVUkgdHJlZVxyXG4gICAgICAgICAgICAvLyBzZWVtcyBsaWtlIHRoZSBiZXR0ZXIgY2hvaWNlLlxyXG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIGNvbmZpZ3VyZWRDb21wb25lbnRzXzEgPSBjb25maWd1cmVkQ29tcG9uZW50czsgX2kgPCBjb25maWd1cmVkQ29tcG9uZW50c18xLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNvbmZpZ3VyZWRDb21wb25lbnQgPSBjb25maWd1cmVkQ29tcG9uZW50c18xW19pXTtcclxuICAgICAgICAgICAgICAgIGlmIChjb25maWd1cmVkQ29tcG9uZW50ID09PSBjb21wb25lbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBXcml0ZSB0aGUgY29tcG9uZW50IHRvIHRoZSBjb25zb2xlIHRvIHNpbXBsaWZ5IGlkZW50aWZpY2F0aW9uIG9mIHRoZSBjdWxwcml0XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gKGUuZy4gYnkgaW5zcGVjdGluZyB0aGUgY29uZmlnKVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb25zb2xlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0NpcmN1bGFyIHJlZmVyZW5jZSBpbiBVSSB0cmVlJywgY29tcG9uZW50KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQWRkaXRpb25hbGx5IHRocm93IGFuIGVycm9yLCBiZWNhdXNlIHRoaXMgY2FzZSBtdXN0IG5vdCBoYXBwZW4gYW5kIGxlYWRzIHRvIHVuZXhwZWN0ZWQgVUkgYmVoYXZpb3IuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ0NpcmN1bGFyIHJlZmVyZW5jZSBpbiBVSSB0cmVlOiAnICsgY29tcG9uZW50LmNvbnN0cnVjdG9yLm5hbWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbXBvbmVudC5pbml0aWFsaXplKCk7XHJcbiAgICAgICAgICAgIGNvbXBvbmVudC5jb25maWd1cmUoX3RoaXMuZ2V0UGxheWVyKCksIF90aGlzKTtcclxuICAgICAgICAgICAgY29uZmlndXJlZENvbXBvbmVudHMucHVzaChjb21wb25lbnQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIEludGVybmFsVUlJbnN0YW5jZU1hbmFnZXIucHJvdG90eXBlLnJlbGVhc2VDb250cm9scyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyBEbyBub3QgY2FsbCByZWxlYXNlIG1ldGhvZHMgaWYgdGhlIGNvbXBvbmVudHMgaGF2ZSBuZXZlciBiZWVuIGNvbmZpZ3VyZWQ7IHRoaXMgY2FuIHJlc3VsdCBpbiBleGNlcHRpb25zXHJcbiAgICAgICAgaWYgKHRoaXMuY29uZmlndXJlZCkge1xyXG4gICAgICAgICAgICB0aGlzLm9uUmVsZWFzZS5kaXNwYXRjaCh0aGlzLmdldFVJKCkpO1xyXG4gICAgICAgICAgICB0aGlzLnJlbGVhc2VDb250cm9sc1RyZWUodGhpcy5nZXRVSSgpKTtcclxuICAgICAgICAgICAgdGhpcy5jb25maWd1cmVkID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucmVsZWFzZWQgPSB0cnVlO1xyXG4gICAgfTtcclxuICAgIEludGVybmFsVUlJbnN0YW5jZU1hbmFnZXIucHJvdG90eXBlLmlzUmVsZWFzZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucmVsZWFzZWQ7XHJcbiAgICB9O1xyXG4gICAgSW50ZXJuYWxVSUluc3RhbmNlTWFuYWdlci5wcm90b3R5cGUucmVsZWFzZUNvbnRyb2xzVHJlZSA9IGZ1bmN0aW9uIChjb21wb25lbnQpIHtcclxuICAgICAgICBjb21wb25lbnQucmVsZWFzZSgpO1xyXG4gICAgICAgIGlmIChjb21wb25lbnQgaW5zdGFuY2VvZiBjb250YWluZXJfMS5Db250YWluZXIpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IGNvbXBvbmVudC5nZXRDb21wb25lbnRzKCk7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY2hpbGRDb21wb25lbnQgPSBfYVtfaV07XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlbGVhc2VDb250cm9sc1RyZWUoY2hpbGRDb21wb25lbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIEludGVybmFsVUlJbnN0YW5jZU1hbmFnZXIucHJvdG90eXBlLmNsZWFyRXZlbnRIYW5kbGVycyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmNsZWFyRXZlbnRIYW5kbGVycy5jYWxsKHRoaXMpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBJbnRlcm5hbFVJSW5zdGFuY2VNYW5hZ2VyO1xyXG59KFVJSW5zdGFuY2VNYW5hZ2VyKSk7XHJcbi8qKlxyXG4gKiBXcmFwcyB0aGUgcGxheWVyIHRvIHRyYWNrIGV2ZW50IGhhbmRsZXJzIGFuZCBwcm92aWRlIGEgc2ltcGxlIG1ldGhvZCB0byByZW1vdmUgYWxsIHJlZ2lzdGVyZWQgZXZlbnRcclxuICogaGFuZGxlcnMgZnJvbSB0aGUgcGxheWVyLlxyXG4gKi9cclxudmFyIFBsYXllcldyYXBwZXIgPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gUGxheWVyV3JhcHBlcihwbGF5ZXIpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMuZXZlbnRIYW5kbGVycyA9IHt9O1xyXG4gICAgICAgIHRoaXMucGxheWVyID0gcGxheWVyO1xyXG4gICAgICAgIC8vIENvbGxlY3QgYWxsIG1lbWJlcnMgb2YgdGhlIHBsYXllciAocHVibGljIEFQSSBtZXRob2RzIGFuZCBwcm9wZXJ0aWVzIG9mIHRoZSBwbGF5ZXIpXHJcbiAgICAgICAgLy8gKE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHBsYXllcikgZG9lcyBub3Qgd29yayB3aXRoIHRoZSBwbGF5ZXIgVHlwZVNjcmlwdCBjbGFzcyBzdGFydGluZyBpbiA3LjIpXHJcbiAgICAgICAgdmFyIG1lbWJlcnMgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBtZW1iZXIgaW4gcGxheWVyKSB7XHJcbiAgICAgICAgICAgIG1lbWJlcnMucHVzaChtZW1iZXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBTcGxpdCB0aGUgbWVtYmVycyBpbnRvIG1ldGhvZHMgYW5kIHByb3BlcnRpZXNcclxuICAgICAgICB2YXIgbWV0aG9kcyA9IFtdO1xyXG4gICAgICAgIHZhciBwcm9wZXJ0aWVzID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBtZW1iZXJzXzEgPSBtZW1iZXJzOyBfaSA8IG1lbWJlcnNfMS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgdmFyIG1lbWJlciA9IG1lbWJlcnNfMVtfaV07XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgcGxheWVyW21lbWJlcl0gPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgIG1ldGhvZHMucHVzaChtZW1iZXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcHJvcGVydGllcy5wdXNoKG1lbWJlcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gQ3JlYXRlIHdyYXBwZXIgb2JqZWN0XHJcbiAgICAgICAgdmFyIHdyYXBwZXIgPSB7fTtcclxuICAgICAgICB2YXIgX2xvb3BfMSA9IGZ1bmN0aW9uIChtZXRob2QpIHtcclxuICAgICAgICAgICAgd3JhcHBlclttZXRob2RdID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ2NhbGxlZCAnICsgbWVtYmVyKTsgLy8gdHJhY2sgbWV0aG9kIGNhbGxzIG9uIHRoZSBwbGF5ZXJcclxuICAgICAgICAgICAgICAgIHJldHVybiBwbGF5ZXJbbWV0aG9kXS5hcHBseShwbGF5ZXIsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfTtcclxuICAgICAgICAvLyBBZGQgZnVuY3Rpb24gd3JhcHBlcnMgZm9yIGFsbCBBUEkgbWV0aG9kcyB0aGF0IGRvIG5vdGhpbmcgYnV0IGNhbGxpbmcgdGhlIGJhc2UgbWV0aG9kIG9uIHRoZSBwbGF5ZXJcclxuICAgICAgICBmb3IgKHZhciBfYSA9IDAsIG1ldGhvZHNfMSA9IG1ldGhvZHM7IF9hIDwgbWV0aG9kc18xLmxlbmd0aDsgX2ErKykge1xyXG4gICAgICAgICAgICB2YXIgbWV0aG9kID0gbWV0aG9kc18xW19hXTtcclxuICAgICAgICAgICAgX2xvb3BfMShtZXRob2QpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgX2xvb3BfMiA9IGZ1bmN0aW9uIChwcm9wZXJ0eSkge1xyXG4gICAgICAgICAgICAvLyBHZXQgYW4gZXZlbnR1YWxseSBleGlzdGluZyBwcm9wZXJ0eSBkZXNjcmlwdG9yIHRvIGRpZmZlcmVudGlhdGUgYmV0d2VlbiBwbGFpbiBwcm9wZXJ0aWVzIGFuZCBwcm9wZXJ0aWVzIHdpdGhcclxuICAgICAgICAgICAgLy8gZ2V0dGVycy9zZXR0ZXJzLlxyXG4gICAgICAgICAgICB2YXIgcHJvcGVydHlEZXNjcmlwdG9yID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihwbGF5ZXIsIHByb3BlcnR5KSB8fFxyXG4gICAgICAgICAgICAgICAgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihPYmplY3QuZ2V0UHJvdG90eXBlT2YocGxheWVyKSwgcHJvcGVydHkpO1xyXG4gICAgICAgICAgICAvLyBJZiB0aGUgcHJvcGVydHkgaGFzIGdldHRlcnMvc2V0dGVycywgd3JhcCB0aGVtIGFjY29yZGluZ2x5Li4uXHJcbiAgICAgICAgICAgIGlmIChwcm9wZXJ0eURlc2NyaXB0b3IgJiYgKHByb3BlcnR5RGVzY3JpcHRvci5nZXQgfHwgcHJvcGVydHlEZXNjcmlwdG9yLnNldCkpIHtcclxuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3cmFwcGVyLCBwcm9wZXJ0eSwge1xyXG4gICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gcHJvcGVydHlEZXNjcmlwdG9yLmdldC5jYWxsKHBsYXllcik7IH0sXHJcbiAgICAgICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHsgcmV0dXJuIHByb3BlcnR5RGVzY3JpcHRvci5zZXQuY2FsbChwbGF5ZXIsIHZhbHVlKTsgfSxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgd3JhcHBlcltwcm9wZXJ0eV0gPSBwbGF5ZXJbcHJvcGVydHldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICAvLyBBZGQgYWxsIHB1YmxpYyBwcm9wZXJ0aWVzIG9mIHRoZSBwbGF5ZXIgdG8gdGhlIHdyYXBwZXJcclxuICAgICAgICBmb3IgKHZhciBfYiA9IDAsIHByb3BlcnRpZXNfMSA9IHByb3BlcnRpZXM7IF9iIDwgcHJvcGVydGllc18xLmxlbmd0aDsgX2IrKykge1xyXG4gICAgICAgICAgICB2YXIgcHJvcGVydHkgPSBwcm9wZXJ0aWVzXzFbX2JdO1xyXG4gICAgICAgICAgICBfbG9vcF8yKHByb3BlcnR5KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gRXhwbGljaXRseSBhZGQgYSB3cmFwcGVyIG1ldGhvZCBmb3IgJ2FkZEV2ZW50SGFuZGxlcicgdGhhdCBhZGRzIGFkZGVkIGV2ZW50IGhhbmRsZXJzIHRvIHRoZSBldmVudCBsaXN0XHJcbiAgICAgICAgd3JhcHBlci5hZGRFdmVudEhhbmRsZXIgPSBmdW5jdGlvbiAoZXZlbnRUeXBlLCBjYWxsYmFjaykge1xyXG4gICAgICAgICAgICAvLyBpbiBwbGF5ZXIgVjggYWRkRXZlbnRIYW5kbGVyIHdhcyByZXBsYWNlZCBieSBvblxyXG4gICAgICAgICAgICBpZiAocGxheWVyLm9uKSB7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXIub24oZXZlbnRUeXBlLCBjYWxsYmFjayk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBrZWVwIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkgZm9yIHZlcnNpb25zIDw3LjdcclxuICAgICAgICAgICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIoZXZlbnRUeXBlLCBjYWxsYmFjayk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCFfdGhpcy5ldmVudEhhbmRsZXJzW2V2ZW50VHlwZV0pIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLmV2ZW50SGFuZGxlcnNbZXZlbnRUeXBlXSA9IFtdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIF90aGlzLmV2ZW50SGFuZGxlcnNbZXZlbnRUeXBlXS5wdXNoKGNhbGxiYWNrKTtcclxuICAgICAgICAgICAgcmV0dXJuIHdyYXBwZXI7XHJcbiAgICAgICAgfTtcclxuICAgICAgICAvLyBFeHBsaWNpdGx5IGFkZCBhIHdyYXBwZXIgbWV0aG9kIGZvciAncmVtb3ZlRXZlbnRIYW5kbGVyJyB0aGF0IHJlbW92ZXMgcmVtb3ZlZCBldmVudCBoYW5kbGVycyBmcm9tIHRoZSBldmVudCBsaXN0XHJcbiAgICAgICAgd3JhcHBlci5yZW1vdmVFdmVudEhhbmRsZXIgPSBmdW5jdGlvbiAoZXZlbnRUeXBlLCBjYWxsYmFjaykge1xyXG4gICAgICAgICAgICBpZiAocGxheWVyLm9mZikge1xyXG4gICAgICAgICAgICAgICAgcGxheWVyLm9mZihldmVudFR5cGUsIGNhbGxiYWNrKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIGtlZXAgYmFja3dhcmQgY29tcGF0aWJpbGl0eSBmb3IgdmVyc2lvbnMgPDcuN1xyXG4gICAgICAgICAgICAgICAgcGxheWVyLnJlbW92ZUV2ZW50SGFuZGxlcihldmVudFR5cGUsIGNhbGxiYWNrKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoX3RoaXMuZXZlbnRIYW5kbGVyc1tldmVudFR5cGVdKSB7XHJcbiAgICAgICAgICAgICAgICBhcnJheXV0aWxzXzEuQXJyYXlVdGlscy5yZW1vdmUoX3RoaXMuZXZlbnRIYW5kbGVyc1tldmVudFR5cGVdLCBjYWxsYmFjayk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHdyYXBwZXI7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB3cmFwcGVyLmZpcmVFdmVudEluVUkgPSBmdW5jdGlvbiAoZXZlbnQsIGRhdGEpIHtcclxuICAgICAgICAgICAgaWYgKF90aGlzLmV2ZW50SGFuZGxlcnNbZXZlbnRdKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBFeHRlbmQgdGhlIGRhdGEgb2JqZWN0IHdpdGggZGVmYXVsdCB2YWx1ZXMgdG8gY29udmVydCBpdCB0byBhIHtAbGluayBQbGF5ZXJFdmVudH0gb2JqZWN0LlxyXG4gICAgICAgICAgICAgICAgdmFyIHBsYXllckV2ZW50RGF0YSA9IE9iamVjdC5hc3NpZ24oe30sIHtcclxuICAgICAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogZXZlbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQWRkIGEgbWFya2VyIHByb3BlcnR5IHNvIHRoZSBVSSBjYW4gZGV0ZWN0IFVJLWludGVybmFsIHBsYXllciBldmVudHNcclxuICAgICAgICAgICAgICAgICAgICB1aVNvdXJjZWQ6IHRydWUsXHJcbiAgICAgICAgICAgICAgICB9LCBkYXRhKTtcclxuICAgICAgICAgICAgICAgIC8vIEV4ZWN1dGUgdGhlIHJlZ2lzdGVyZWQgY2FsbGJhY2tzXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gX3RoaXMuZXZlbnRIYW5kbGVyc1tldmVudF07IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNhbGxiYWNrID0gX2FbX2ldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKHBsYXllckV2ZW50RGF0YSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMud3JhcHBlciA9IHdyYXBwZXI7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgYSB3cmFwcGVkIHBsYXllciBvYmplY3QgdGhhdCBjYW4gYmUgdXNlZCBvbiBwbGFjZSBvZiB0aGUgbm9ybWFsIHBsYXllciBvYmplY3QuXHJcbiAgICAgKiBAcmV0dXJucyB7V3JhcHBlZFBsYXllcn0gYSB3cmFwcGVkIHBsYXllclxyXG4gICAgICovXHJcbiAgICBQbGF5ZXJXcmFwcGVyLnByb3RvdHlwZS5nZXRQbGF5ZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMud3JhcHBlcjtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIENsZWFycyBhbGwgcmVnaXN0ZXJlZCBldmVudCBoYW5kbGVycyBmcm9tIHRoZSBwbGF5ZXIgdGhhdCB3ZXJlIGFkZGVkIHRocm91Z2ggdGhlIHdyYXBwZWQgcGxheWVyLlxyXG4gICAgICovXHJcbiAgICBQbGF5ZXJXcmFwcGVyLnByb3RvdHlwZS5jbGVhckV2ZW50SGFuZGxlcnMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZm9yICh2YXIgZXZlbnRUeXBlIGluIHRoaXMuZXZlbnRIYW5kbGVycykge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gdGhpcy5ldmVudEhhbmRsZXJzW2V2ZW50VHlwZV07IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY2FsbGJhY2sgPSBfYVtfaV07XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllci5yZW1vdmVFdmVudEhhbmRsZXIoZXZlbnRUeXBlLCBjYWxsYmFjayk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFBsYXllcldyYXBwZXI7XHJcbn0oKSk7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvdWltYW5hZ2VyLnRzXG4vLyBtb2R1bGUgaWQgPSA3MVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgR3VpZDtcclxuKGZ1bmN0aW9uIChHdWlkKSB7XHJcbiAgICB2YXIgZ3VpZCA9IDE7XHJcbiAgICBmdW5jdGlvbiBuZXh0KCkge1xyXG4gICAgICAgIHJldHVybiBndWlkKys7XHJcbiAgICB9XHJcbiAgICBHdWlkLm5leHQgPSBuZXh0O1xyXG59KShHdWlkID0gZXhwb3J0cy5HdWlkIHx8IChleHBvcnRzLkd1aWQgPSB7fSkpO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL2d1aWQudHNcbi8vIG1vZHVsZSBpZCA9IDcyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgc3RvcmFnZXV0aWxzXzEgPSByZXF1aXJlKFwiLi4vLi4vc3RvcmFnZXV0aWxzXCIpO1xyXG52YXIgY29tcG9uZW50XzEgPSByZXF1aXJlKFwiLi4vY29tcG9uZW50XCIpO1xyXG52YXIgZXZlbnRkaXNwYXRjaGVyXzEgPSByZXF1aXJlKFwiLi4vLi4vZXZlbnRkaXNwYXRjaGVyXCIpO1xyXG52YXIgU3VidGl0bGVTZXR0aW5nc01hbmFnZXIgPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gU3VidGl0bGVTZXR0aW5nc01hbmFnZXIoKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB0aGlzLl9wcm9wZXJ0aWVzID0ge1xyXG4gICAgICAgICAgICBmb250Q29sb3I6IG5ldyBTdWJ0aXRsZVNldHRpbmdzUHJvcGVydHkodGhpcyksXHJcbiAgICAgICAgICAgIGZvbnRPcGFjaXR5OiBuZXcgU3VidGl0bGVTZXR0aW5nc1Byb3BlcnR5KHRoaXMpLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiBuZXcgU3VidGl0bGVTZXR0aW5nc1Byb3BlcnR5KHRoaXMpLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogbmV3IFN1YnRpdGxlU2V0dGluZ3NQcm9wZXJ0eSh0aGlzKSxcclxuICAgICAgICAgICAgY2hhcmFjdGVyRWRnZTogbmV3IFN1YnRpdGxlU2V0dGluZ3NQcm9wZXJ0eSh0aGlzKSxcclxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBuZXcgU3VidGl0bGVTZXR0aW5nc1Byb3BlcnR5KHRoaXMpLFxyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kT3BhY2l0eTogbmV3IFN1YnRpdGxlU2V0dGluZ3NQcm9wZXJ0eSh0aGlzKSxcclxuICAgICAgICAgICAgd2luZG93Q29sb3I6IG5ldyBTdWJ0aXRsZVNldHRpbmdzUHJvcGVydHkodGhpcyksXHJcbiAgICAgICAgICAgIHdpbmRvd09wYWNpdHk6IG5ldyBTdWJ0aXRsZVNldHRpbmdzUHJvcGVydHkodGhpcyksXHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLnVzZXJTZXR0aW5ncyA9IHt9O1xyXG4gICAgICAgIHRoaXMubG9jYWxTdG9yYWdlS2V5ID0gRHVtbXlDb21wb25lbnQuaW5zdGFuY2UoKS5wcmVmaXhDc3MoJ3N1YnRpdGxlc2V0dGluZ3MnKTtcclxuICAgICAgICB2YXIgX2xvb3BfMSA9IGZ1bmN0aW9uIChwcm9wZXJ0eU5hbWUpIHtcclxuICAgICAgICAgICAgdGhpc18xLl9wcm9wZXJ0aWVzW3Byb3BlcnR5TmFtZV0ub25DaGFuZ2VkLnN1YnNjcmliZShmdW5jdGlvbiAoc2VuZGVyLCBwcm9wZXJ0eSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHByb3BlcnR5LmlzU2V0KCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy51c2VyU2V0dGluZ3NbcHJvcGVydHlOYW1lXSA9IHByb3BlcnR5LnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gRGVsZXRlIHRoZSBwcm9wZXJ0eSBmcm9tIHRoZSBzZXR0aW5ncyBvYmplY3QgaWYgdW5zZXQgdG8gYXZvaWQgc2VyaWFsaXphdGlvbiBvZiBudWxsIHZhbHVlc1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBfdGhpcy51c2VyU2V0dGluZ3NbcHJvcGVydHlOYW1lXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIFNhdmUgdGhlIHNldHRpbmdzIG9iamVjdCB3aGVuIGEgcHJvcGVydHkgaGFzIGNoYW5nZWRcclxuICAgICAgICAgICAgICAgIF90aGlzLnNhdmUoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB2YXIgdGhpc18xID0gdGhpcztcclxuICAgICAgICBmb3IgKHZhciBwcm9wZXJ0eU5hbWUgaW4gdGhpcy5fcHJvcGVydGllcykge1xyXG4gICAgICAgICAgICBfbG9vcF8xKHByb3BlcnR5TmFtZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMubG9hZCgpO1xyXG4gICAgfVxyXG4gICAgU3VidGl0bGVTZXR0aW5nc01hbmFnZXIucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGZvciAodmFyIHByb3BlcnR5TmFtZSBpbiB0aGlzLl9wcm9wZXJ0aWVzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3Byb3BlcnRpZXNbcHJvcGVydHlOYW1lXS5jbGVhcigpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3VidGl0bGVTZXR0aW5nc01hbmFnZXIucHJvdG90eXBlLCBcImZvbnRDb2xvclwiLCB7XHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9wcm9wZXJ0aWVzLmZvbnRDb2xvcjtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdWJ0aXRsZVNldHRpbmdzTWFuYWdlci5wcm90b3R5cGUsIFwiZm9udE9wYWNpdHlcIiwge1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcHJvcGVydGllcy5mb250T3BhY2l0eTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdWJ0aXRsZVNldHRpbmdzTWFuYWdlci5wcm90b3R5cGUsIFwiZm9udEZhbWlseVwiLCB7XHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9wcm9wZXJ0aWVzLmZvbnRGYW1pbHk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3VidGl0bGVTZXR0aW5nc01hbmFnZXIucHJvdG90eXBlLCBcImZvbnRTaXplXCIsIHtcclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3Byb3BlcnRpZXMuZm9udFNpemU7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3VidGl0bGVTZXR0aW5nc01hbmFnZXIucHJvdG90eXBlLCBcImNoYXJhY3RlckVkZ2VcIiwge1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcHJvcGVydGllcy5jaGFyYWN0ZXJFZGdlO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN1YnRpdGxlU2V0dGluZ3NNYW5hZ2VyLnByb3RvdHlwZSwgXCJiYWNrZ3JvdW5kQ29sb3JcIiwge1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcHJvcGVydGllcy5iYWNrZ3JvdW5kQ29sb3I7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3VidGl0bGVTZXR0aW5nc01hbmFnZXIucHJvdG90eXBlLCBcImJhY2tncm91bmRPcGFjaXR5XCIsIHtcclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3Byb3BlcnRpZXMuYmFja2dyb3VuZE9wYWNpdHk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3VidGl0bGVTZXR0aW5nc01hbmFnZXIucHJvdG90eXBlLCBcIndpbmRvd0NvbG9yXCIsIHtcclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3Byb3BlcnRpZXMud2luZG93Q29sb3I7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3VidGl0bGVTZXR0aW5nc01hbmFnZXIucHJvdG90eXBlLCBcIndpbmRvd09wYWNpdHlcIiwge1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcHJvcGVydGllcy53aW5kb3dPcGFjaXR5O1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgLyoqXHJcbiAgICAgKiBTYXZlcyB0aGUgc2V0dGluZ3MgdG8gbG9jYWwgc3RvcmFnZS5cclxuICAgICAqL1xyXG4gICAgU3VidGl0bGVTZXR0aW5nc01hbmFnZXIucHJvdG90eXBlLnNhdmUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgc3RvcmFnZXV0aWxzXzEuU3RvcmFnZVV0aWxzLnNldE9iamVjdCh0aGlzLmxvY2FsU3RvcmFnZUtleSwgdGhpcy51c2VyU2V0dGluZ3MpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogTG9hZHMgdGhlIHNldHRpbmdzIGZyb20gbG9jYWwgc3RvcmFnZVxyXG4gICAgICovXHJcbiAgICBTdWJ0aXRsZVNldHRpbmdzTWFuYWdlci5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLnVzZXJTZXR0aW5ncyA9IHN0b3JhZ2V1dGlsc18xLlN0b3JhZ2VVdGlscy5nZXRPYmplY3QodGhpcy5sb2NhbFN0b3JhZ2VLZXkpIHx8IHt9O1xyXG4gICAgICAgIC8vIEFwcGx5IHRoZSBsb2FkZWQgc2V0dGluZ3NcclxuICAgICAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiB0aGlzLnVzZXJTZXR0aW5ncykge1xyXG4gICAgICAgICAgICB0aGlzLl9wcm9wZXJ0aWVzW3Byb3BlcnR5XS52YWx1ZSA9IHRoaXMudXNlclNldHRpbmdzW3Byb3BlcnR5XTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFN1YnRpdGxlU2V0dGluZ3NNYW5hZ2VyO1xyXG59KCkpO1xyXG5leHBvcnRzLlN1YnRpdGxlU2V0dGluZ3NNYW5hZ2VyID0gU3VidGl0bGVTZXR0aW5nc01hbmFnZXI7XHJcbi8qKlxyXG4gKiBBIGR1bW15IGNvbXBvbmVudCB3aG9zZSBzb2xlIHB1cnBvc2UgaXMgdG8gZXhwb3NlIHRoZSB7QGxpbmsgI3ByZWZpeENzc30gbWV0aG9kIHRvIHRoZVxyXG4gKiB7QGxpbmsgU3VidGl0bGVTZXR0aW5nc01hbmFnZXJ9LlxyXG4gKi9cclxudmFyIER1bW15Q29tcG9uZW50ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhEdW1teUNvbXBvbmVudCwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIER1bW15Q29tcG9uZW50KCkge1xyXG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcclxuICAgIH1cclxuICAgIER1bW15Q29tcG9uZW50Lmluc3RhbmNlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICghRHVtbXlDb21wb25lbnQuX2luc3RhbmNlKSB7XHJcbiAgICAgICAgICAgIER1bW15Q29tcG9uZW50Ll9pbnN0YW5jZSA9IG5ldyBEdW1teUNvbXBvbmVudCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gRHVtbXlDb21wb25lbnQuX2luc3RhbmNlO1xyXG4gICAgfTtcclxuICAgIER1bW15Q29tcG9uZW50LnByb3RvdHlwZS5wcmVmaXhDc3MgPSBmdW5jdGlvbiAoY3NzQ2xhc3NPcklkKSB7XHJcbiAgICAgICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUucHJlZml4Q3NzLmNhbGwodGhpcywgY3NzQ2xhc3NPcklkKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gRHVtbXlDb21wb25lbnQ7XHJcbn0oY29tcG9uZW50XzEuQ29tcG9uZW50KSk7XHJcbnZhciBTdWJ0aXRsZVNldHRpbmdzUHJvcGVydHkgPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gU3VidGl0bGVTZXR0aW5nc1Byb3BlcnR5KG1hbmFnZXIpIHtcclxuICAgICAgICB0aGlzLl9tYW5hZ2VyID0gbWFuYWdlcjtcclxuICAgICAgICB0aGlzLl9vbkNoYW5nZWQgPSBuZXcgZXZlbnRkaXNwYXRjaGVyXzEuRXZlbnREaXNwYXRjaGVyKCk7XHJcbiAgICB9XHJcbiAgICBTdWJ0aXRsZVNldHRpbmdzUHJvcGVydHkucHJvdG90eXBlLmlzU2V0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl92YWx1ZSAhPSBudWxsO1xyXG4gICAgfTtcclxuICAgIFN1YnRpdGxlU2V0dGluZ3NQcm9wZXJ0eS5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5fdmFsdWUgPSBudWxsO1xyXG4gICAgICAgIHRoaXMub25DaGFuZ2VkRXZlbnQobnVsbCk7XHJcbiAgICB9O1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN1YnRpdGxlU2V0dGluZ3NQcm9wZXJ0eS5wcm90b3R5cGUsIFwidmFsdWVcIiwge1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdmFsdWU7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyAmJiB2YWx1ZSA9PT0gJ251bGwnKSB7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5fdmFsdWUgPSB2YWx1ZTtcclxuICAgICAgICAgICAgdGhpcy5vbkNoYW5nZWRFdmVudCh2YWx1ZSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBTdWJ0aXRsZVNldHRpbmdzUHJvcGVydHkucHJvdG90eXBlLm9uQ2hhbmdlZEV2ZW50ID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5fb25DaGFuZ2VkLmRpc3BhdGNoKHRoaXMuX21hbmFnZXIsIHRoaXMpO1xyXG4gICAgfTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdWJ0aXRsZVNldHRpbmdzUHJvcGVydHkucHJvdG90eXBlLCBcIm9uQ2hhbmdlZFwiLCB7XHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9vbkNoYW5nZWQuZ2V0RXZlbnQoKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIHJldHVybiBTdWJ0aXRsZVNldHRpbmdzUHJvcGVydHk7XHJcbn0oKSk7XHJcbmV4cG9ydHMuU3VidGl0bGVTZXR0aW5nc1Byb3BlcnR5ID0gU3VidGl0bGVTZXR0aW5nc1Byb3BlcnR5O1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvc3VidGl0bGVzZXR0aW5ncy9zdWJ0aXRsZXNldHRpbmdzbWFuYWdlci50c1xuLy8gbW9kdWxlIGlkID0gNzNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGRvbV8xID0gcmVxdWlyZShcIi4vZG9tXCIpO1xyXG4vKipcclxuICogVHJhY2tzIHRoZSBsb2FkaW5nIHN0YXRlIG9mIGltYWdlcy5cclxuICovXHJcbnZhciBJbWFnZUxvYWRlciA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBJbWFnZUxvYWRlcigpIHtcclxuICAgICAgICB0aGlzLnN0YXRlID0ge307XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIExvYWRzIGFuIGltYWdlIGFuZCBjYWxsIHRoZSBjYWxsYmFjayBvbmNlIHRoZSBpbWFnZSBpcyBsb2FkZWQuIElmIHRoZSBpbWFnZSBpcyBhbHJlYWR5IGxvYWRlZCwgdGhlIGNhbGxiYWNrXHJcbiAgICAgKiBpcyBjYWxsZWQgaW1tZWRpYXRlbHksIGVsc2UgaXQgaXMgY2FsbGVkIG9uY2UgbG9hZGluZyBoYXMgZmluaXNoZWQuIENhbGxpbmcgdGhpcyBtZXRob2QgbXVsdGlwbGUgdGltZXMgZm9yIHRoZVxyXG4gICAgICogc2FtZSBpbWFnZSB3aGlsZSBpdCBpcyBsb2FkaW5nIGNhbGxzIG9ubHkgbGV0IGNhbGxiYWNrIHBhc3NlZCBpbnRvIHRoZSBsYXN0IGNhbGwuXHJcbiAgICAgKiBAcGFyYW0gdXJsIFRoZSB1cmwgdG8gdGhlIGltYWdlIHRvIGxvYWRcclxuICAgICAqIEBwYXJhbSBsb2FkZWRDYWxsYmFjayBUaGUgY2FsbGJhY2sgdGhhdCBpcyBjYWxsZWQgd2hlbiB0aGUgaW1hZ2UgaXMgbG9hZGVkXHJcbiAgICAgKi9cclxuICAgIEltYWdlTG9hZGVyLnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24gKHVybCwgbG9hZGVkQ2FsbGJhY2spIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIGlmICghdGhpcy5zdGF0ZVt1cmxdKSB7XHJcbiAgICAgICAgICAgIC8vIFdoZW4gdGhlIGltYWdlIHdhcyBuZXZlciBhdHRlbXB0ZWQgdG8gYmUgbG9hZGVkIGJlZm9yZSwgd2UgY3JlYXRlIGEgc3RhdGUgYW5kIHN0b3JlIGl0IGluIHRoZSBzdGF0ZSBtYXBcclxuICAgICAgICAgICAgLy8gZm9yIGxhdGVyIHVzZSB3aGVuIHRoZSBzYW1lIGltYWdlIGlzIHJlcXVlc3RlZCB0byBiZSBsb2FkZWQgYWdhaW4uXHJcbiAgICAgICAgICAgIHZhciBzdGF0ZV8xID0ge1xyXG4gICAgICAgICAgICAgICAgdXJsOiB1cmwsXHJcbiAgICAgICAgICAgICAgICBpbWFnZTogbmV3IGRvbV8xLkRPTSgnaW1nJywge30pLFxyXG4gICAgICAgICAgICAgICAgbG9hZGVkQ2FsbGJhY2s6IGxvYWRlZENhbGxiYWNrLFxyXG4gICAgICAgICAgICAgICAgbG9hZGVkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIHdpZHRoOiAwLFxyXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiAwLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB0aGlzLnN0YXRlW3VybF0gPSBzdGF0ZV8xO1xyXG4gICAgICAgICAgICAvLyBMaXN0ZW4gdG8gdGhlIGxvYWQgZXZlbnQsIHVwZGF0ZSB0aGUgc3RhdGUgYW5kIGNhbGwgdGhlIGNhbGxiYWNrIG9uY2UgdGhlIGltYWdlIGlzIGxvYWRlZFxyXG4gICAgICAgICAgICBzdGF0ZV8xLmltYWdlLm9uKCdsb2FkJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgIHN0YXRlXzEubG9hZGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHN0YXRlXzEud2lkdGggPSBzdGF0ZV8xLmltYWdlLmdldCgwKS53aWR0aDtcclxuICAgICAgICAgICAgICAgIHN0YXRlXzEuaGVpZ2h0ID0gc3RhdGVfMS5pbWFnZS5nZXQoMCkuaGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuY2FsbExvYWRlZENhbGxiYWNrKHN0YXRlXzEpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgLy8gU2V0IHRoZSBpbWFnZSBVUkwgdG8gc3RhcnQgdGhlIGxvYWRpbmdcclxuICAgICAgICAgICAgc3RhdGVfMS5pbWFnZS5hdHRyKCdzcmMnLCBzdGF0ZV8xLnVybCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBXZSBoYXZlIGEgc3RhdGUgZm9yIHRoZSByZXF1ZXN0ZWQgaW1hZ2UsIHNvIGl0IGlzIGVpdGhlciBhbHJlYWR5IGxvYWRlZCBvciBjdXJyZW50bHkgbG9hZGluZ1xyXG4gICAgICAgICAgICB2YXIgc3RhdGUgPSB0aGlzLnN0YXRlW3VybF07XHJcbiAgICAgICAgICAgIC8vIFdlIG92ZXJ3cml0ZSB0aGUgY2FsbGJhY2sgdG8gbWFrZSBzdXJlIHRoYXQgb25seSB0aGUgY2FsbGJhY2sgb2YgdGhlIGxhdGVzdCBjYWxsIGdldHMgZXhlY3V0ZWQuXHJcbiAgICAgICAgICAgIC8vIEVhcmxpZXIgY2FsbGJhY2tzIGJlY29tZSBpbnZhbGlkIG9uY2UgYSBuZXcgbG9hZCBjYWxsIGFycml2ZXMsIGFuZCB0aGV5IGFyZSBub3QgY2FsbGVkIGFzIGxvbmcgYXMgdGhlIGltYWdlXHJcbiAgICAgICAgICAgIC8vIGlzIG5vdCBsb2FkZWQuXHJcbiAgICAgICAgICAgIHN0YXRlLmxvYWRlZENhbGxiYWNrID0gbG9hZGVkQ2FsbGJhY2s7XHJcbiAgICAgICAgICAgIC8vIFdoZW4gdGhlIGltYWdlIGlzIGFscmVhZHkgbG9hZGVkLCB3ZSBkaXJlY3RseSBleGVjdXRlIHRoZSBjYWxsYmFjayBpbnN0ZWFkIG9mIHdhaXRpbmcgZm9yIHRoZSBsb2FkIGV2ZW50XHJcbiAgICAgICAgICAgIGlmIChzdGF0ZS5sb2FkZWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FsbExvYWRlZENhbGxiYWNrKHN0YXRlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBJbWFnZUxvYWRlci5wcm90b3R5cGUuY2FsbExvYWRlZENhbGxiYWNrID0gZnVuY3Rpb24gKHN0YXRlKSB7XHJcbiAgICAgICAgc3RhdGUubG9hZGVkQ2FsbGJhY2soc3RhdGUudXJsLCBzdGF0ZS53aWR0aCwgc3RhdGUuaGVpZ2h0KTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gSW1hZ2VMb2FkZXI7XHJcbn0oKSk7XHJcbmV4cG9ydHMuSW1hZ2VMb2FkZXIgPSBJbWFnZUxvYWRlcjtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9pbWFnZWxvYWRlci50c1xuLy8gbW9kdWxlIGlkID0gNzRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBjb21wb25lbnRfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudFwiKTtcclxudmFyIGRvbV8xID0gcmVxdWlyZShcIi4uL2RvbVwiKTtcclxuLyoqXHJcbiAqIEFuaW1hdGVkIGFuYWxvZyBUViBzdGF0aWMgbm9pc2UuXHJcbiAqL1xyXG52YXIgVHZOb2lzZUNhbnZhcyA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoVHZOb2lzZUNhbnZhcywgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIFR2Tm9pc2VDYW52YXMoY29uZmlnKSB7XHJcbiAgICAgICAgaWYgKGNvbmZpZyA9PT0gdm9pZCAwKSB7IGNvbmZpZyA9IHt9OyB9XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgY29uZmlnKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLmNhbnZhc1dpZHRoID0gMTYwO1xyXG4gICAgICAgIF90aGlzLmNhbnZhc0hlaWdodCA9IDkwO1xyXG4gICAgICAgIF90aGlzLmludGVyZmVyZW5jZUhlaWdodCA9IDUwO1xyXG4gICAgICAgIF90aGlzLmxhc3RGcmFtZVVwZGF0ZSA9IDA7XHJcbiAgICAgICAgX3RoaXMuZnJhbWVJbnRlcnZhbCA9IDYwO1xyXG4gICAgICAgIF90aGlzLnVzZUFuaW1hdGlvbkZyYW1lID0gISF3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lO1xyXG4gICAgICAgIF90aGlzLmNvbmZpZyA9IF90aGlzLm1lcmdlQ29uZmlnKGNvbmZpZywge1xyXG4gICAgICAgICAgICBjc3NDbGFzczogJ3VpLXR2bm9pc2VjYW52YXMnLFxyXG4gICAgICAgIH0sIF90aGlzLmNvbmZpZyk7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgVHZOb2lzZUNhbnZhcy5wcm90b3R5cGUudG9Eb21FbGVtZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNhbnZhcyA9IG5ldyBkb21fMS5ET00oJ2NhbnZhcycsIHsgJ2NsYXNzJzogdGhpcy5nZXRDc3NDbGFzc2VzKCkgfSk7XHJcbiAgICB9O1xyXG4gICAgVHZOb2lzZUNhbnZhcy5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5jYW52YXNFbGVtZW50ID0gdGhpcy5jYW52YXMuZ2V0KDApO1xyXG4gICAgICAgIHRoaXMuY2FudmFzQ29udGV4dCA9IHRoaXMuY2FudmFzRWxlbWVudC5nZXRDb250ZXh0KCcyZCcpO1xyXG4gICAgICAgIHRoaXMubm9pc2VBbmltYXRpb25XaW5kb3dQb3MgPSAtdGhpcy5jYW52YXNIZWlnaHQ7XHJcbiAgICAgICAgdGhpcy5sYXN0RnJhbWVVcGRhdGUgPSAwO1xyXG4gICAgICAgIHRoaXMuY2FudmFzRWxlbWVudC53aWR0aCA9IHRoaXMuY2FudmFzV2lkdGg7XHJcbiAgICAgICAgdGhpcy5jYW52YXNFbGVtZW50LmhlaWdodCA9IHRoaXMuY2FudmFzSGVpZ2h0O1xyXG4gICAgICAgIHRoaXMucmVuZGVyRnJhbWUoKTtcclxuICAgIH07XHJcbiAgICBUdk5vaXNlQ2FudmFzLnByb3RvdHlwZS5zdG9wID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnVzZUFuaW1hdGlvbkZyYW1lKSB7XHJcbiAgICAgICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMuZnJhbWVVcGRhdGVIYW5kbGVySWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuZnJhbWVVcGRhdGVIYW5kbGVySWQpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBUdk5vaXNlQ2FudmFzLnByb3RvdHlwZS5yZW5kZXJGcmFtZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyBUaGlzIGNvZGUgaGFzIGJlZW4gY29waWVkIGZyb20gdGhlIHBsYXllciBjb250cm9scy5qcyBhbmQgc2ltcGxpZmllZFxyXG4gICAgICAgIGlmICh0aGlzLmxhc3RGcmFtZVVwZGF0ZSArIHRoaXMuZnJhbWVJbnRlcnZhbCA+IG5ldyBEYXRlKCkuZ2V0VGltZSgpKSB7XHJcbiAgICAgICAgICAgIC8vIEl0J3MgdG9vIGVhcmx5IHRvIHJlbmRlciB0aGUgbmV4dCBmcmFtZVxyXG4gICAgICAgICAgICB0aGlzLnNjaGVkdWxlTmV4dFJlbmRlcigpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBjdXJyZW50UGl4ZWxPZmZzZXQ7XHJcbiAgICAgICAgdmFyIGNhbnZhc1dpZHRoID0gdGhpcy5jYW52YXNXaWR0aDtcclxuICAgICAgICB2YXIgY2FudmFzSGVpZ2h0ID0gdGhpcy5jYW52YXNIZWlnaHQ7XHJcbiAgICAgICAgLy8gQ3JlYXRlIHRleHR1cmVcclxuICAgICAgICB2YXIgbm9pc2VJbWFnZSA9IHRoaXMuY2FudmFzQ29udGV4dC5jcmVhdGVJbWFnZURhdGEoY2FudmFzV2lkdGgsIGNhbnZhc0hlaWdodCk7XHJcbiAgICAgICAgLy8gRmlsbCB0ZXh0dXJlIHdpdGggbm9pc2VcclxuICAgICAgICBmb3IgKHZhciB5ID0gMDsgeSA8IGNhbnZhc0hlaWdodDsgeSsrKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgY2FudmFzV2lkdGg7IHgrKykge1xyXG4gICAgICAgICAgICAgICAgY3VycmVudFBpeGVsT2Zmc2V0ID0gKGNhbnZhc1dpZHRoICogeSAqIDQpICsgeCAqIDQ7XHJcbiAgICAgICAgICAgICAgICBub2lzZUltYWdlLmRhdGFbY3VycmVudFBpeGVsT2Zmc2V0XSA9IE1hdGgucmFuZG9tKCkgKiAyNTU7XHJcbiAgICAgICAgICAgICAgICBpZiAoeSA8IHRoaXMubm9pc2VBbmltYXRpb25XaW5kb3dQb3MgfHwgeSA+IHRoaXMubm9pc2VBbmltYXRpb25XaW5kb3dQb3MgKyB0aGlzLmludGVyZmVyZW5jZUhlaWdodCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG5vaXNlSW1hZ2UuZGF0YVtjdXJyZW50UGl4ZWxPZmZzZXRdICo9IDAuODU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBub2lzZUltYWdlLmRhdGFbY3VycmVudFBpeGVsT2Zmc2V0ICsgMV0gPSBub2lzZUltYWdlLmRhdGFbY3VycmVudFBpeGVsT2Zmc2V0XTtcclxuICAgICAgICAgICAgICAgIG5vaXNlSW1hZ2UuZGF0YVtjdXJyZW50UGl4ZWxPZmZzZXQgKyAyXSA9IG5vaXNlSW1hZ2UuZGF0YVtjdXJyZW50UGl4ZWxPZmZzZXRdO1xyXG4gICAgICAgICAgICAgICAgbm9pc2VJbWFnZS5kYXRhW2N1cnJlbnRQaXhlbE9mZnNldCArIDNdID0gNTA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gUHV0IHRleHR1cmUgb250byBjYW52YXNcclxuICAgICAgICB0aGlzLmNhbnZhc0NvbnRleHQucHV0SW1hZ2VEYXRhKG5vaXNlSW1hZ2UsIDAsIDApO1xyXG4gICAgICAgIHRoaXMubGFzdEZyYW1lVXBkYXRlID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XHJcbiAgICAgICAgdGhpcy5ub2lzZUFuaW1hdGlvbldpbmRvd1BvcyArPSA3O1xyXG4gICAgICAgIGlmICh0aGlzLm5vaXNlQW5pbWF0aW9uV2luZG93UG9zID4gY2FudmFzSGVpZ2h0KSB7XHJcbiAgICAgICAgICAgIHRoaXMubm9pc2VBbmltYXRpb25XaW5kb3dQb3MgPSAtY2FudmFzSGVpZ2h0O1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnNjaGVkdWxlTmV4dFJlbmRlcigpO1xyXG4gICAgfTtcclxuICAgIFR2Tm9pc2VDYW52YXMucHJvdG90eXBlLnNjaGVkdWxlTmV4dFJlbmRlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodGhpcy51c2VBbmltYXRpb25GcmFtZSkge1xyXG4gICAgICAgICAgICB0aGlzLmZyYW1lVXBkYXRlSGFuZGxlcklkID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLnJlbmRlckZyYW1lLmJpbmQodGhpcykpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5mcmFtZVVwZGF0ZUhhbmRsZXJJZCA9IHNldFRpbWVvdXQodGhpcy5yZW5kZXJGcmFtZS5iaW5kKHRoaXMpLCB0aGlzLmZyYW1lSW50ZXJ2YWwpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICByZXR1cm4gVHZOb2lzZUNhbnZhcztcclxufShjb21wb25lbnRfMS5Db21wb25lbnQpKTtcclxuZXhwb3J0cy5Udk5vaXNlQ2FudmFzID0gVHZOb2lzZUNhbnZhcztcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL3R2bm9pc2VjYW52YXMudHNcbi8vIG1vZHVsZSBpZCA9IDc1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgY29udGFpbmVyXzEgPSByZXF1aXJlKFwiLi9jb250YWluZXJcIik7XHJcbnZhciBjb21wb25lbnRfMSA9IHJlcXVpcmUoXCIuL2NvbXBvbmVudFwiKTtcclxudmFyIHRpbWVvdXRfMSA9IHJlcXVpcmUoXCIuLi90aW1lb3V0XCIpO1xyXG4vKipcclxuICogT3ZlcmxheXMgdGhlIHBsYXllciBhbmQgZGlzcGxheXMgYW4gYXVkaW8tb25seSBpbmRpY2F0b3IuXHJcbiAqL1xyXG52YXIgQXVkaW9Pbmx5T3ZlcmxheSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoQXVkaW9Pbmx5T3ZlcmxheSwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIEF1ZGlvT25seU92ZXJsYXkoY29uZmlnKSB7XHJcbiAgICAgICAgaWYgKGNvbmZpZyA9PT0gdm9pZCAwKSB7IGNvbmZpZyA9IHt9OyB9XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgY29uZmlnKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLmluZGljYXRvckNvbmZpZyA9IFtcclxuICAgICAgICAgICAgbmV3IGNvbXBvbmVudF8xLkNvbXBvbmVudCh7IHRhZzogJ2RpdicsIGNzc0NsYXNzOiAndWktYXVkaW9vbmx5LW92ZXJsYXktaW5kaWNhdG9yJywgaGlkZGVuOiB0cnVlIH0pLFxyXG4gICAgICAgIF07XHJcbiAgICAgICAgX3RoaXMuY29uZmlnID0gX3RoaXMubWVyZ2VDb25maWcoY29uZmlnLCB7XHJcbiAgICAgICAgICAgIGNzc0NsYXNzOiAndWktYXVkaW9vbmx5LW92ZXJsYXknLFxyXG4gICAgICAgICAgICBoaWRkZW46IGZhbHNlLFxyXG4gICAgICAgICAgICBjb21wb25lbnRzOiBfdGhpcy5pbmRpY2F0b3JDb25maWcsXHJcbiAgICAgICAgfSwgX3RoaXMuY29uZmlnKTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBBdWRpb09ubHlPdmVybGF5LnByb3RvdHlwZS5jb25maWd1cmUgPSBmdW5jdGlvbiAocGxheWVyLCB1aW1hbmFnZXIpIHtcclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmNvbmZpZ3VyZS5jYWxsKHRoaXMsIHBsYXllciwgdWltYW5hZ2VyKTtcclxuICAgICAgICB0aGlzLmNvbXBvbmVudENvbmZpZyA9IHVpbWFuYWdlci5nZXRDb25maWcoKS5hdWRpb09ubHlPdmVybGF5Q29uZmlnIHx8IHt9O1xyXG4gICAgICAgIHZhciBjb25maWcgPSB0aGlzLmdldENvbmZpZygpO1xyXG4gICAgICAgIHZhciBpbmRpY2F0b3IgPSBjb25maWcuY29tcG9uZW50c1swXTtcclxuICAgICAgICB2YXIgYmFja2dyb3VuZEltYWdlVXJsID0gdGhpcy5jb21wb25lbnRDb25maWcuYmFja2dyb3VuZEltYWdlVXJsO1xyXG4gICAgICAgIHZhciBlbGVtZW50ID0gdGhpcy5nZXREb21FbGVtZW50KCk7XHJcbiAgICAgICAgdmFyIHNob3dCYWNrZ3JvdW5kSW1hZ2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGVsZW1lbnQuY3NzKCdiYWNrZ3JvdW5kSW1hZ2UnLCBcInVybChcIiArIGJhY2tncm91bmRJbWFnZVVybCArIFwiKVwiKTtcclxuICAgICAgICAgICAgZWxlbWVudC5jc3MoJ2JhY2tncm91bmRTaXplJywgJ2NvbnRhaW4nKTtcclxuICAgICAgICAgICAgZWxlbWVudC5jc3MoJ2JhY2tncm91bmRDb2xvcicsICcjMDAwMDAwJyk7XHJcbiAgICAgICAgICAgIGVsZW1lbnQuY3NzKCdhbmltYXRpb24nLCAnbm9uZScpO1xyXG4gICAgICAgICAgICBlbGVtZW50LmNzcygnYmFja2dyb3VuZFBvc2l0aW9uJywgJ2NlbnRlcicpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdmFyIG92ZXJsYXlTaG93VGltZW91dCA9IG5ldyB0aW1lb3V0XzEuVGltZW91dCg0MDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaW5kaWNhdG9yLnNob3coKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB2YXIgc2hvd092ZXJsYXkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIG92ZXJsYXlTaG93VGltZW91dC5zdGFydCgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdmFyIGhpZGVPdmVybGF5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBvdmVybGF5U2hvd1RpbWVvdXQuY2xlYXIoKTtcclxuICAgICAgICAgICAgaW5kaWNhdG9yLmhpZGUoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIGlmIChiYWNrZ3JvdW5kSW1hZ2VVcmwpIHtcclxuICAgICAgICAgICAgc2hvd0JhY2tncm91bmRJbWFnZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXRoaXMuY29tcG9uZW50Q29uZmlnLmhpZGRlSW5kaWNhdG9yKSB7XHJcbiAgICAgICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1BMQVksIHNob3dPdmVybGF5KTtcclxuICAgICAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fUEFVU0VELCBoaWRlT3ZlcmxheSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHJldHVybiBBdWRpb09ubHlPdmVybGF5O1xyXG59KGNvbnRhaW5lcl8xLkNvbnRhaW5lcikpO1xyXG5leHBvcnRzLkF1ZGlvT25seU92ZXJsYXkgPSBBdWRpb09ubHlPdmVybGF5O1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvYXVkaW9vbmx5b3ZlcmxheS50c1xuLy8gbW9kdWxlIGlkID0gNzZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBsaXN0c2VsZWN0b3JfMSA9IHJlcXVpcmUoXCIuL2xpc3RzZWxlY3RvclwiKTtcclxudmFyIGRvbV8xID0gcmVxdWlyZShcIi4uL2RvbVwiKTtcclxudmFyIEl0ZW1TZWxlY3Rpb25MaXN0ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhJdGVtU2VsZWN0aW9uTGlzdCwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIEl0ZW1TZWxlY3Rpb25MaXN0KGNvbmZpZykge1xyXG4gICAgICAgIGlmIChjb25maWcgPT09IHZvaWQgMCkgeyBjb25maWcgPSB7fTsgfVxyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGNvbmZpZykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5jb25maWcgPSBfdGhpcy5tZXJnZUNvbmZpZyhjb25maWcsIHtcclxuICAgICAgICAgICAgdGFnOiAndWwnLFxyXG4gICAgICAgICAgICBjc3NDbGFzczogJ3VpLWl0ZW1zZWxlY3Rpb25saXN0JyxcclxuICAgICAgICB9LCBfdGhpcy5jb25maWcpO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIEl0ZW1TZWxlY3Rpb25MaXN0LnByb3RvdHlwZS5pc0FjdGl2ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5pdGVtcy5sZW5ndGggPiAxO1xyXG4gICAgfTtcclxuICAgIEl0ZW1TZWxlY3Rpb25MaXN0LnByb3RvdHlwZS50b0RvbUVsZW1lbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGxpc3RFbGVtZW50ID0gbmV3IGRvbV8xLkRPTSgndWwnLCB7XHJcbiAgICAgICAgICAgICdpZCc6IHRoaXMuY29uZmlnLmlkLFxyXG4gICAgICAgICAgICAnY2xhc3MnOiB0aGlzLmdldENzc0NsYXNzZXMoKSxcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmxpc3RFbGVtZW50ID0gbGlzdEVsZW1lbnQ7XHJcbiAgICAgICAgdGhpcy51cGRhdGVEb21JdGVtcygpO1xyXG4gICAgICAgIHJldHVybiBsaXN0RWxlbWVudDtcclxuICAgIH07XHJcbiAgICBJdGVtU2VsZWN0aW9uTGlzdC5wcm90b3R5cGUudXBkYXRlRG9tSXRlbXMgPSBmdW5jdGlvbiAoc2VsZWN0ZWRWYWx1ZSkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgaWYgKHNlbGVjdGVkVmFsdWUgPT09IHZvaWQgMCkgeyBzZWxlY3RlZFZhbHVlID0gbnVsbDsgfVxyXG4gICAgICAgIC8vIERlbGV0ZSBhbGwgY2hpbGRyZW5cclxuICAgICAgICB0aGlzLmxpc3RFbGVtZW50LmVtcHR5KCk7XHJcbiAgICAgICAgdmFyIHNlbGVjdGVkTGlzdEl0ZW0gPSBudWxsO1xyXG4gICAgICAgIHZhciBzZWxlY3RJdGVtID0gZnVuY3Rpb24gKGxpc3RJdGVtKSB7XHJcbiAgICAgICAgICAgIGxpc3RJdGVtLmFkZENsYXNzKF90aGlzLnByZWZpeENzcyhJdGVtU2VsZWN0aW9uTGlzdC5DTEFTU19TRUxFQ1RFRCkpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdmFyIGRlc2VsZWN0SXRlbSA9IGZ1bmN0aW9uIChsaXN0SXRlbSkge1xyXG4gICAgICAgICAgICBsaXN0SXRlbS5yZW1vdmVDbGFzcyhfdGhpcy5wcmVmaXhDc3MoSXRlbVNlbGVjdGlvbkxpc3QuQ0xBU1NfU0VMRUNURUQpKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciBfbG9vcF8xID0gZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICAgICAgdmFyIGxpc3RJdGVtID0gbmV3IGRvbV8xLkRPTSgnbGknLCB7XHJcbiAgICAgICAgICAgICAgICAndHlwZSc6ICdsaScsXHJcbiAgICAgICAgICAgICAgICAnY2xhc3MnOiB0aGlzXzEucHJlZml4Q3NzKCd1aS1zZWxlY3Rpb25saXN0aXRlbScpLFxyXG4gICAgICAgICAgICB9KS5hcHBlbmQobmV3IGRvbV8xLkRPTSgnYScsIHt9KS5odG1sKGl0ZW0ubGFiZWwpKTtcclxuICAgICAgICAgICAgaWYgKCFzZWxlY3RlZExpc3RJdGVtKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoc2VsZWN0ZWRWYWx1ZSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRMaXN0SXRlbSA9IGxpc3RJdGVtO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoU3RyaW5nKHNlbGVjdGVkVmFsdWUpID09PSBpdGVtLmtleSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkTGlzdEl0ZW0gPSBsaXN0SXRlbTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBIYW5kbGUgbGlzdCBpdGVtIHNlbGVjdGlvbnNcclxuICAgICAgICAgICAgbGlzdEl0ZW0ub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgLy8gRGVzZWxlY3QgdGhlIHByZXZpb3VzIGl0ZW0gKGlmIHRoZXJlIHdhcyBhIHNlbGVjdGVkIGl0ZW0pXHJcbiAgICAgICAgICAgICAgICBpZiAoc2VsZWN0ZWRMaXN0SXRlbSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlc2VsZWN0SXRlbShzZWxlY3RlZExpc3RJdGVtKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIFNlbGVjdCB0aGUgY2xpY2tlZCBpdGVtXHJcbiAgICAgICAgICAgICAgICBzZWxlY3RlZExpc3RJdGVtID0gbGlzdEl0ZW07XHJcbiAgICAgICAgICAgICAgICBzZWxlY3RJdGVtKGxpc3RJdGVtKTtcclxuICAgICAgICAgICAgICAgIC8vIEZpcmUgdGhlIGV2ZW50XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5vbkl0ZW1TZWxlY3RlZEV2ZW50KGl0ZW0ua2V5LCBmYWxzZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAvLyBTZWxlY3QgZGVmYXVsdCBpdGVtXHJcbiAgICAgICAgICAgIGlmIChzZWxlY3RlZExpc3RJdGVtKSB7XHJcbiAgICAgICAgICAgICAgICBzZWxlY3RJdGVtKHNlbGVjdGVkTGlzdEl0ZW0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXNfMS5saXN0RWxlbWVudC5hcHBlbmQobGlzdEl0ZW0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdmFyIHRoaXNfMSA9IHRoaXM7XHJcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IHRoaXMuaXRlbXM7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBpdGVtID0gX2FbX2ldO1xyXG4gICAgICAgICAgICBfbG9vcF8xKGl0ZW0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBJdGVtU2VsZWN0aW9uTGlzdC5wcm90b3R5cGUub25JdGVtQWRkZWRFdmVudCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUub25JdGVtQWRkZWRFdmVudC5jYWxsKHRoaXMsIHZhbHVlKTtcclxuICAgICAgICB0aGlzLnVwZGF0ZURvbUl0ZW1zKHRoaXMuc2VsZWN0ZWRJdGVtKTtcclxuICAgIH07XHJcbiAgICBJdGVtU2VsZWN0aW9uTGlzdC5wcm90b3R5cGUub25JdGVtUmVtb3ZlZEV2ZW50ID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5vbkl0ZW1SZW1vdmVkRXZlbnQuY2FsbCh0aGlzLCB2YWx1ZSk7XHJcbiAgICAgICAgdGhpcy51cGRhdGVEb21JdGVtcyh0aGlzLnNlbGVjdGVkSXRlbSk7XHJcbiAgICB9O1xyXG4gICAgSXRlbVNlbGVjdGlvbkxpc3QucHJvdG90eXBlLm9uSXRlbVNlbGVjdGVkRXZlbnQgPSBmdW5jdGlvbiAodmFsdWUsIHVwZGF0ZURvbUl0ZW1zKSB7XHJcbiAgICAgICAgaWYgKHVwZGF0ZURvbUl0ZW1zID09PSB2b2lkIDApIHsgdXBkYXRlRG9tSXRlbXMgPSB0cnVlOyB9XHJcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5vbkl0ZW1TZWxlY3RlZEV2ZW50LmNhbGwodGhpcywgdmFsdWUpO1xyXG4gICAgICAgIGlmICh1cGRhdGVEb21JdGVtcykge1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZURvbUl0ZW1zKHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEl0ZW1TZWxlY3Rpb25MaXN0O1xyXG59KGxpc3RzZWxlY3Rvcl8xLkxpc3RTZWxlY3RvcikpO1xyXG5JdGVtU2VsZWN0aW9uTGlzdC5DTEFTU19TRUxFQ1RFRCA9ICdzZWxlY3RlZCc7XHJcbmV4cG9ydHMuSXRlbVNlbGVjdGlvbkxpc3QgPSBJdGVtU2VsZWN0aW9uTGlzdDtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL2l0ZW1zZWxlY3Rpb25saXN0LnRzXG4vLyBtb2R1bGUgaWQgPSA3N1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGNsaWNrb3ZlcmxheV8xID0gcmVxdWlyZShcIi4vY2xpY2tvdmVybGF5XCIpO1xyXG4vKipcclxuICogQSB3YXRlcm1hcmsgb3ZlcmxheSB3aXRoIGEgY2xpY2thYmxlIGxvZ28uXHJcbiAqL1xyXG52YXIgV2F0ZXJtYXJrID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhXYXRlcm1hcmssIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBXYXRlcm1hcmsoY29uZmlnKSB7XHJcbiAgICAgICAgaWYgKGNvbmZpZyA9PT0gdm9pZCAwKSB7IGNvbmZpZyA9IHt9OyB9XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgY29uZmlnKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLmNvbmZpZyA9IF90aGlzLm1lcmdlQ29uZmlnKGNvbmZpZywge1xyXG4gICAgICAgICAgICBjc3NDbGFzczogJ3VpLXdhdGVybWFyaycsXHJcbiAgICAgICAgICAgIHVybDogJ2h0dHA6Ly9iaXRtb3Zpbi5jb20nLFxyXG4gICAgICAgIH0sIF90aGlzLmNvbmZpZyk7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIFdhdGVybWFyaztcclxufShjbGlja292ZXJsYXlfMS5DbGlja092ZXJsYXkpKTtcclxuZXhwb3J0cy5XYXRlcm1hcmsgPSBXYXRlcm1hcms7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy93YXRlcm1hcmsudHNcbi8vIG1vZHVsZSBpZCA9IDc4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgY29udGFpbmVyXzEgPSByZXF1aXJlKFwiLi9jb250YWluZXJcIik7XHJcbnZhciB2b2x1bWVzbGlkZXJfMSA9IHJlcXVpcmUoXCIuL3ZvbHVtZXNsaWRlclwiKTtcclxudmFyIHZvbHVtZXRvZ2dsZWJ1dHRvbl8xID0gcmVxdWlyZShcIi4vdm9sdW1ldG9nZ2xlYnV0dG9uXCIpO1xyXG52YXIgdGltZW91dF8xID0gcmVxdWlyZShcIi4uL3RpbWVvdXRcIik7XHJcbi8qKlxyXG4gKiBBIGNvbXBvc2l0ZSB2b2x1bWUgY29udHJvbCB0aGF0IGNvbnNpc3RzIG9mIGFuZCBpbnRlcm5hbGx5IG1hbmFnZXMgYSB2b2x1bWUgY29udHJvbCBidXR0b24gdGhhdCBjYW4gYmUgdXNlZFxyXG4gKiBmb3IgbXV0aW5nLCBhbmQgYSAoZGVwZW5kaW5nIG9uIHRoZSBDU1Mgc3R5bGUsIGUuZy4gc2xpZGUtb3V0KSB2b2x1bWUgY29udHJvbCBiYXIuXHJcbiAqL1xyXG52YXIgVm9sdW1lQ29udHJvbEJ1dHRvbiA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoVm9sdW1lQ29udHJvbEJ1dHRvbiwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIFZvbHVtZUNvbnRyb2xCdXR0b24oY29uZmlnKSB7XHJcbiAgICAgICAgaWYgKGNvbmZpZyA9PT0gdm9pZCAwKSB7IGNvbmZpZyA9IHt9OyB9XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgY29uZmlnKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLnZvbHVtZVRvZ2dsZUJ1dHRvbiA9IG5ldyB2b2x1bWV0b2dnbGVidXR0b25fMS5Wb2x1bWVUb2dnbGVCdXR0b24oKTtcclxuICAgICAgICBfdGhpcy52b2x1bWVTbGlkZXIgPSBuZXcgdm9sdW1lc2xpZGVyXzEuVm9sdW1lU2xpZGVyKHtcclxuICAgICAgICAgICAgdmVydGljYWw6IGNvbmZpZy52ZXJ0aWNhbCAhPSBudWxsID8gY29uZmlnLnZlcnRpY2FsIDogdHJ1ZSxcclxuICAgICAgICAgICAgaGlkZGVuOiB0cnVlLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIF90aGlzLmNvbmZpZyA9IF90aGlzLm1lcmdlQ29uZmlnKGNvbmZpZywge1xyXG4gICAgICAgICAgICBjc3NDbGFzczogJ3VpLXZvbHVtZWNvbnRyb2xidXR0b24nLFxyXG4gICAgICAgICAgICBjb21wb25lbnRzOiBbX3RoaXMudm9sdW1lVG9nZ2xlQnV0dG9uLCBfdGhpcy52b2x1bWVTbGlkZXJdLFxyXG4gICAgICAgICAgICBoaWRlRGVsYXk6IDUwMCxcclxuICAgICAgICB9LCBfdGhpcy5jb25maWcpO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIFZvbHVtZUNvbnRyb2xCdXR0b24ucHJvdG90eXBlLmNvbmZpZ3VyZSA9IGZ1bmN0aW9uIChwbGF5ZXIsIHVpbWFuYWdlcikge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5jb25maWd1cmUuY2FsbCh0aGlzLCBwbGF5ZXIsIHVpbWFuYWdlcik7XHJcbiAgICAgICAgdmFyIHZvbHVtZVRvZ2dsZUJ1dHRvbiA9IHRoaXMuZ2V0Vm9sdW1lVG9nZ2xlQnV0dG9uKCk7XHJcbiAgICAgICAgdmFyIHZvbHVtZVNsaWRlciA9IHRoaXMuZ2V0Vm9sdW1lU2xpZGVyKCk7XHJcbiAgICAgICAgdGhpcy52b2x1bWVTbGlkZXJIaWRlVGltZW91dCA9IG5ldyB0aW1lb3V0XzEuVGltZW91dCh0aGlzLmdldENvbmZpZygpLmhpZGVEZWxheSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2b2x1bWVTbGlkZXIuaGlkZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8qXHJcbiAgICAgICAgICogVm9sdW1lIFNsaWRlciB2aXNpYmlsaXR5IGhhbmRsaW5nXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBUaGUgdm9sdW1lIHNsaWRlciBzaGFsbCBiZSB2aXNpYmxlIHdoaWxlIHRoZSB1c2VyIGhvdmVycyB0aGUgbXV0ZSB0b2dnbGUgYnV0dG9uLCB3aGlsZSB0aGUgdXNlciBob3ZlcnMgdGhlXHJcbiAgICAgICAgICogdm9sdW1lIHNsaWRlciwgYW5kIHdoaWxlIHRoZSB1c2VyIHNsaWRlcyB0aGUgdm9sdW1lIHNsaWRlci4gSWYgbm9uZSBvZiB0aGVzZSBzaXR1YXRpb25zIGFyZSB0cnVlLCB0aGUgc2xpZGVyXHJcbiAgICAgICAgICogc2hhbGwgZGlzYXBwZWFyLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHZhciB2b2x1bWVTbGlkZXJIb3ZlcmVkID0gZmFsc2U7XHJcbiAgICAgICAgdm9sdW1lVG9nZ2xlQnV0dG9uLmdldERvbUVsZW1lbnQoKS5vbignbW91c2VlbnRlcicsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgLy8gU2hvdyB2b2x1bWUgc2xpZGVyIHdoZW4gbW91c2UgZW50ZXJzIHRoZSBidXR0b24gYXJlYVxyXG4gICAgICAgICAgICBpZiAodm9sdW1lU2xpZGVyLmlzSGlkZGVuKCkpIHtcclxuICAgICAgICAgICAgICAgIHZvbHVtZVNsaWRlci5zaG93KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gQXZvaWQgaGlkaW5nIG9mIHRoZSBzbGlkZXIgd2hlbiBidXR0b24gaXMgaG92ZXJlZFxyXG4gICAgICAgICAgICBfdGhpcy52b2x1bWVTbGlkZXJIaWRlVGltZW91dC5jbGVhcigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHZvbHVtZVRvZ2dsZUJ1dHRvbi5nZXREb21FbGVtZW50KCkub24oJ21vdXNlbGVhdmUnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIC8vIEhpZGUgc2xpZGVyIGRlbGF5ZWQgd2hlbiBidXR0b24gaXMgbGVmdFxyXG4gICAgICAgICAgICBfdGhpcy52b2x1bWVTbGlkZXJIaWRlVGltZW91dC5yZXNldCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHZvbHVtZVNsaWRlci5nZXREb21FbGVtZW50KCkub24oJ21vdXNlZW50ZXInLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIC8vIFdoZW4gdGhlIHNsaWRlciBpcyBlbnRlcmVkLCBjYW5jZWwgdGhlIGhpZGUgdGltZW91dCBhY3RpdmF0ZWQgYnkgbGVhdmluZyB0aGUgYnV0dG9uXHJcbiAgICAgICAgICAgIF90aGlzLnZvbHVtZVNsaWRlckhpZGVUaW1lb3V0LmNsZWFyKCk7XHJcbiAgICAgICAgICAgIHZvbHVtZVNsaWRlckhvdmVyZWQgPSB0cnVlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHZvbHVtZVNsaWRlci5nZXREb21FbGVtZW50KCkub24oJ21vdXNlbGVhdmUnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIC8vIFdoZW4gbW91c2UgbGVhdmVzIHRoZSBzbGlkZXIsIG9ubHkgaGlkZSBpdCBpZiB0aGVyZSBpcyBubyBzbGlkZSBvcGVyYXRpb24gaW4gcHJvZ3Jlc3NcclxuICAgICAgICAgICAgaWYgKHZvbHVtZVNsaWRlci5pc1NlZWtpbmcoKSkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMudm9sdW1lU2xpZGVySGlkZVRpbWVvdXQuY2xlYXIoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLnZvbHVtZVNsaWRlckhpZGVUaW1lb3V0LnJlc2V0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdm9sdW1lU2xpZGVySG92ZXJlZCA9IGZhbHNlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHZvbHVtZVNsaWRlci5vblNlZWtlZC5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAvLyBXaGVuIGEgc2xpZGUgb3BlcmF0aW9uIGlzIGRvbmUgYW5kIHRoZSBzbGlkZXIgbm90IGhvdmVyZWQgKG1vdXNlIG91dHNpZGUgc2xpZGVyKSwgaGlkZSBzbGlkZXIgZGVsYXllZFxyXG4gICAgICAgICAgICBpZiAoIXZvbHVtZVNsaWRlckhvdmVyZWQpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLnZvbHVtZVNsaWRlckhpZGVUaW1lb3V0LnJlc2V0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBWb2x1bWVDb250cm9sQnV0dG9uLnByb3RvdHlwZS5yZWxlYXNlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUucmVsZWFzZS5jYWxsKHRoaXMpO1xyXG4gICAgICAgIHRoaXMudm9sdW1lU2xpZGVySGlkZVRpbWVvdXQuY2xlYXIoKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFByb3ZpZGVzIGFjY2VzcyB0byB0aGUgaW50ZXJuYWxseSBtYW5hZ2VkIHZvbHVtZSB0b2dnbGUgYnV0dG9uLlxyXG4gICAgICogQHJldHVybnMge1ZvbHVtZVRvZ2dsZUJ1dHRvbn1cclxuICAgICAqL1xyXG4gICAgVm9sdW1lQ29udHJvbEJ1dHRvbi5wcm90b3R5cGUuZ2V0Vm9sdW1lVG9nZ2xlQnV0dG9uID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnZvbHVtZVRvZ2dsZUJ1dHRvbjtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFByb3ZpZGVzIGFjY2VzcyB0byB0aGUgaW50ZXJuYWxseSBtYW5hZ2VkIHZvbHVtZSBzaWxkZXIuXHJcbiAgICAgKiBAcmV0dXJucyB7Vm9sdW1lU2xpZGVyfVxyXG4gICAgICovXHJcbiAgICBWb2x1bWVDb250cm9sQnV0dG9uLnByb3RvdHlwZS5nZXRWb2x1bWVTbGlkZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudm9sdW1lU2xpZGVyO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBWb2x1bWVDb250cm9sQnV0dG9uO1xyXG59KGNvbnRhaW5lcl8xLkNvbnRhaW5lcikpO1xyXG5leHBvcnRzLlZvbHVtZUNvbnRyb2xCdXR0b24gPSBWb2x1bWVDb250cm9sQnV0dG9uO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvdm9sdW1lY29udHJvbGJ1dHRvbi50c1xuLy8gbW9kdWxlIGlkID0gNzlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBidXR0b25fMSA9IHJlcXVpcmUoXCIuL2J1dHRvblwiKTtcclxudmFyIHN0cmluZ3V0aWxzXzEgPSByZXF1aXJlKFwiLi4vc3RyaW5ndXRpbHNcIik7XHJcbi8qKlxyXG4gKiBBIGJ1dHRvbiB0aGF0IGlzIGRpc3BsYXllZCBkdXJpbmcgYWRzIGFuZCBjYW4gYmUgdXNlZCB0byBza2lwIHRoZSBhZC5cclxuICovXHJcbnZhciBBZFNraXBCdXR0b24gPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKEFkU2tpcEJ1dHRvbiwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIEFkU2tpcEJ1dHRvbihjb25maWcpIHtcclxuICAgICAgICBpZiAoY29uZmlnID09PSB2b2lkIDApIHsgY29uZmlnID0ge307IH1cclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBjb25maWcpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMuY29uZmlnID0gX3RoaXMubWVyZ2VDb25maWcoY29uZmlnLCB7XHJcbiAgICAgICAgICAgIGNzc0NsYXNzOiAndWktYnV0dG9uLWFkLXNraXAnLFxyXG4gICAgICAgICAgICBza2lwTWVzc2FnZToge1xyXG4gICAgICAgICAgICAgICAgY291bnRkb3duOiAnU2tpcCBhZCBpbiB7cmVtYWluaW5nVGltZX0nLFxyXG4gICAgICAgICAgICAgICAgc2tpcDogJ1NraXAgYWQnLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH0sIF90aGlzLmNvbmZpZyk7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgQWRTa2lwQnV0dG9uLnByb3RvdHlwZS5jb25maWd1cmUgPSBmdW5jdGlvbiAocGxheWVyLCB1aW1hbmFnZXIpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuY29uZmlndXJlLmNhbGwodGhpcywgcGxheWVyLCB1aW1hbmFnZXIpO1xyXG4gICAgICAgIHZhciBjb25maWcgPSB0aGlzLmdldENvbmZpZygpOyAvLyBUT0RPIGdldCByaWQgb2YgZ2VuZXJpYyBjYXN0XHJcbiAgICAgICAgdmFyIHNraXBNZXNzYWdlID0gY29uZmlnLnNraXBNZXNzYWdlO1xyXG4gICAgICAgIHZhciBhZEV2ZW50ID0gbnVsbDtcclxuICAgICAgICB2YXIgdXBkYXRlU2tpcE1lc3NhZ2VIYW5kbGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAvLyBEaXNwbGF5IHRoaXMgYnV0dG9uIG9ubHkgaWYgYWQgaXMgc2tpcHBhYmxlXHJcbiAgICAgICAgICAgIGlmIChhZEV2ZW50LnNraXBPZmZzZXQpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLnNob3coKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLmhpZGUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBVcGRhdGUgdGhlIHNraXAgbWVzc2FnZSBvbiB0aGUgYnV0dG9uXHJcbiAgICAgICAgICAgIGlmIChwbGF5ZXIuZ2V0Q3VycmVudFRpbWUoKSA8IGFkRXZlbnQuc2tpcE9mZnNldCkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuc2V0VGV4dChzdHJpbmd1dGlsc18xLlN0cmluZ1V0aWxzLnJlcGxhY2VBZE1lc3NhZ2VQbGFjZWhvbGRlcnMoY29uZmlnLnNraXBNZXNzYWdlLmNvdW50ZG93biwgYWRFdmVudC5za2lwT2Zmc2V0LCBwbGF5ZXIpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLnNldFRleHQoY29uZmlnLnNraXBNZXNzYWdlLnNraXApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICB2YXIgYWRTdGFydEhhbmRsZXIgPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgYWRFdmVudCA9IGV2ZW50O1xyXG4gICAgICAgICAgICBza2lwTWVzc2FnZSA9IGFkRXZlbnQuc2tpcE1lc3NhZ2UgfHwgc2tpcE1lc3NhZ2U7XHJcbiAgICAgICAgICAgIHVwZGF0ZVNraXBNZXNzYWdlSGFuZGxlcigpO1xyXG4gICAgICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9USU1FX0NIQU5HRUQsIHVwZGF0ZVNraXBNZXNzYWdlSGFuZGxlcik7XHJcbiAgICAgICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX0NBU1RfVElNRV9VUERBVEVELCB1cGRhdGVTa2lwTWVzc2FnZUhhbmRsZXIpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdmFyIGFkRW5kSGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcGxheWVyLnJlbW92ZUV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fVElNRV9DSEFOR0VELCB1cGRhdGVTa2lwTWVzc2FnZUhhbmRsZXIpO1xyXG4gICAgICAgICAgICBwbGF5ZXIucmVtb3ZlRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9DQVNUX1RJTUVfVVBEQVRFRCwgdXBkYXRlU2tpcE1lc3NhZ2VIYW5kbGVyKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX0FEX1NUQVJURUQsIGFkU3RhcnRIYW5kbGVyKTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9BRF9TS0lQUEVELCBhZEVuZEhhbmRsZXIpO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX0FEX0VSUk9SLCBhZEVuZEhhbmRsZXIpO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX0FEX0ZJTklTSEVELCBhZEVuZEhhbmRsZXIpO1xyXG4gICAgICAgIHRoaXMub25DbGljay5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAvLyBUcnkgdG8gc2tpcCB0aGUgYWQgKHRoaXMgb25seSB3b3JrcyBpZiBpdCBpcyBza2lwcGFibGUgc28gd2UgZG9uJ3QgbmVlZCB0byB0YWtlIGV4dHJhIGNhcmUgb2YgdGhhdCBoZXJlKVxyXG4gICAgICAgICAgICBwbGF5ZXIuc2tpcEFkKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEFkU2tpcEJ1dHRvbjtcclxufShidXR0b25fMS5CdXR0b24pKTtcclxuZXhwb3J0cy5BZFNraXBCdXR0b24gPSBBZFNraXBCdXR0b247XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9hZHNraXBidXR0b24udHNcbi8vIG1vZHVsZSBpZCA9IDgwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgbGFiZWxfMSA9IHJlcXVpcmUoXCIuL2xhYmVsXCIpO1xyXG52YXIgc3RyaW5ndXRpbHNfMSA9IHJlcXVpcmUoXCIuLi9zdHJpbmd1dGlsc1wiKTtcclxuLyoqXHJcbiAqIEEgbGFiZWwgdGhhdCBkaXNwbGF5cyBhIG1lc3NhZ2UgYWJvdXQgYSBydW5uaW5nIGFkLCBvcHRpb25hbGx5IHdpdGggYSBjb3VudGRvd24uXHJcbiAqL1xyXG52YXIgQWRNZXNzYWdlTGFiZWwgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKEFkTWVzc2FnZUxhYmVsLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gQWRNZXNzYWdlTGFiZWwoY29uZmlnKSB7XHJcbiAgICAgICAgaWYgKGNvbmZpZyA9PT0gdm9pZCAwKSB7IGNvbmZpZyA9IHt9OyB9XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgY29uZmlnKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLmNvbmZpZyA9IF90aGlzLm1lcmdlQ29uZmlnKGNvbmZpZywge1xyXG4gICAgICAgICAgICBjc3NDbGFzczogJ3VpLWxhYmVsLWFkLW1lc3NhZ2UnLFxyXG4gICAgICAgICAgICB0ZXh0OiAnVGhpcyBhZCB3aWxsIGVuZCBpbiB7cmVtYWluaW5nVGltZX0gc2Vjb25kcy4nLFxyXG4gICAgICAgIH0sIF90aGlzLmNvbmZpZyk7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgQWRNZXNzYWdlTGFiZWwucHJvdG90eXBlLmNvbmZpZ3VyZSA9IGZ1bmN0aW9uIChwbGF5ZXIsIHVpbWFuYWdlcikge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5jb25maWd1cmUuY2FsbCh0aGlzLCBwbGF5ZXIsIHVpbWFuYWdlcik7XHJcbiAgICAgICAgdmFyIHRleHQgPSB0aGlzLmdldENvbmZpZygpLnRleHQ7XHJcbiAgICAgICAgdmFyIHVwZGF0ZU1lc3NhZ2VIYW5kbGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBfdGhpcy5zZXRUZXh0KHN0cmluZ3V0aWxzXzEuU3RyaW5nVXRpbHMucmVwbGFjZUFkTWVzc2FnZVBsYWNlaG9sZGVycyh0ZXh0LCBudWxsLCBwbGF5ZXIpKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciBhZFN0YXJ0SGFuZGxlciA9IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICB0ZXh0ID0gZXZlbnQuYWRNZXNzYWdlIHx8IHRleHQ7XHJcbiAgICAgICAgICAgIHVwZGF0ZU1lc3NhZ2VIYW5kbGVyKCk7XHJcbiAgICAgICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1RJTUVfQ0hBTkdFRCwgdXBkYXRlTWVzc2FnZUhhbmRsZXIpO1xyXG4gICAgICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9DQVNUX1RJTUVfVVBEQVRFRCwgdXBkYXRlTWVzc2FnZUhhbmRsZXIpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdmFyIGFkRW5kSGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcGxheWVyLnJlbW92ZUV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fVElNRV9DSEFOR0VELCB1cGRhdGVNZXNzYWdlSGFuZGxlcik7XHJcbiAgICAgICAgICAgIHBsYXllci5yZW1vdmVFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX0NBU1RfVElNRV9VUERBVEVELCB1cGRhdGVNZXNzYWdlSGFuZGxlcik7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9BRF9TVEFSVEVELCBhZFN0YXJ0SGFuZGxlcik7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fQURfU0tJUFBFRCwgYWRFbmRIYW5kbGVyKTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9BRF9FUlJPUiwgYWRFbmRIYW5kbGVyKTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9BRF9GSU5JU0hFRCwgYWRFbmRIYW5kbGVyKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gQWRNZXNzYWdlTGFiZWw7XHJcbn0obGFiZWxfMS5MYWJlbCkpO1xyXG5leHBvcnRzLkFkTWVzc2FnZUxhYmVsID0gQWRNZXNzYWdlTGFiZWw7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi91aW1hbmFnZXIvY29tcG9uZW50cy9hZG1lc3NhZ2VsYWJlbC50c1xuLy8gbW9kdWxlIGlkID0gODFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBjbGlja292ZXJsYXlfMSA9IHJlcXVpcmUoXCIuL2NsaWNrb3ZlcmxheVwiKTtcclxuLyoqXHJcbiAqIEEgc2ltcGxlIGNsaWNrIGNhcHR1cmUgb3ZlcmxheSBmb3IgY2xpY2tUaHJvdWdoVXJscyBvZiBhZHMuXHJcbiAqL1xyXG52YXIgQWRDbGlja092ZXJsYXkgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKEFkQ2xpY2tPdmVybGF5LCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gQWRDbGlja092ZXJsYXkoKSB7XHJcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xyXG4gICAgfVxyXG4gICAgQWRDbGlja092ZXJsYXkucHJvdG90eXBlLmNvbmZpZ3VyZSA9IGZ1bmN0aW9uIChwbGF5ZXIsIHVpbWFuYWdlcikge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5jb25maWd1cmUuY2FsbCh0aGlzLCBwbGF5ZXIsIHVpbWFuYWdlcik7XHJcbiAgICAgICAgdmFyIGNsaWNrVGhyb3VnaFVybCA9IG51bGw7XHJcbiAgICAgICAgdmFyIGNsaWNrVGhyb3VnaEVuYWJsZWQgPSAhcGxheWVyLmdldENvbmZpZygpLmFkdmVydGlzaW5nXHJcbiAgICAgICAgICAgIHx8ICFwbGF5ZXIuZ2V0Q29uZmlnKCkuYWR2ZXJ0aXNpbmcuaGFzT3duUHJvcGVydHkoJ2NsaWNrVGhyb3VnaEVuYWJsZWQnKVxyXG4gICAgICAgICAgICB8fCBwbGF5ZXIuZ2V0Q29uZmlnKCkuYWR2ZXJ0aXNpbmcuY2xpY2tUaHJvdWdoRW5hYmxlZDtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9BRF9TVEFSVEVELCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgY2xpY2tUaHJvdWdoVXJsID0gZXZlbnQuY2xpY2tUaHJvdWdoVXJsO1xyXG4gICAgICAgICAgICBpZiAoY2xpY2tUaHJvdWdoRW5hYmxlZCkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuc2V0VXJsKGNsaWNrVGhyb3VnaFVybCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBJZiBjbGljay10aHJvdWdoIGlzIGRpc2FibGVkLCB3ZSBzZXQgdGhlIHVybCB0byBudWxsIHRvIGF2b2lkIGl0IG9wZW5cclxuICAgICAgICAgICAgICAgIF90aGlzLnNldFVybChudWxsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIENsZWFyIGNsaWNrLXRocm91Z2ggVVJMIHdoZW4gYWQgaGFzIGZpbmlzaGVkXHJcbiAgICAgICAgdmFyIGFkRmluaXNoZWRIYW5kbGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBfdGhpcy5zZXRVcmwobnVsbCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9BRF9GSU5JU0hFRCwgYWRGaW5pc2hlZEhhbmRsZXIpO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX0FEX1NLSVBQRUQsIGFkRmluaXNoZWRIYW5kbGVyKTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9BRF9FUlJPUiwgYWRGaW5pc2hlZEhhbmRsZXIpO1xyXG4gICAgICAgIHRoaXMub25DbGljay5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAvLyBQYXVzZSB0aGUgYWQgd2hlbiBvdmVybGF5IGlzIGNsaWNrZWRcclxuICAgICAgICAgICAgcGxheWVyLnBhdXNlKCd1aS1jb250ZW50LWNsaWNrJyk7XHJcbiAgICAgICAgICAgIC8vIE5vdGlmeSB0aGUgcGxheWVyIG9mIHRoZSBjbGlja2VkIGFkXHJcbiAgICAgICAgICAgIHBsYXllci5maXJlRXZlbnQocGxheWVyLkVWRU5ULk9OX0FEX0NMSUNLRUQsIHtcclxuICAgICAgICAgICAgICAgIGNsaWNrVGhyb3VnaFVybDogY2xpY2tUaHJvdWdoVXJsLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gQWRDbGlja092ZXJsYXk7XHJcbn0oY2xpY2tvdmVybGF5XzEuQ2xpY2tPdmVybGF5KSk7XHJcbmV4cG9ydHMuQWRDbGlja092ZXJsYXkgPSBBZENsaWNrT3ZlcmxheTtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi4vbGliL3VpbWFuYWdlci9jb21wb25lbnRzL2FkY2xpY2tvdmVybGF5LnRzXG4vLyBtb2R1bGUgaWQgPSA4MlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIHVpY29udGFpbmVyXzEgPSByZXF1aXJlKFwiLi91aWNvbnRhaW5lclwiKTtcclxudmFyIHRpbWVvdXRfMSA9IHJlcXVpcmUoXCIuLi90aW1lb3V0XCIpO1xyXG4vKipcclxuICogVGhlIGJhc2UgY29udGFpbmVyIGZvciBDYXN0IHJlY2VpdmVycyB0aGF0IGNvbnRhaW5zIGFsbCBvZiB0aGUgVUkgYW5kIHRha2VzIGNhcmUgdGhhdCB0aGUgVUkgaXMgc2hvd24gb25cclxuICogY2VydGFpbiBwbGF5YmFjayBldmVudHMuXHJcbiAqL1xyXG52YXIgQ2FzdFVJQ29udGFpbmVyID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhDYXN0VUlDb250YWluZXIsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBDYXN0VUlDb250YWluZXIoY29uZmlnKSB7XHJcbiAgICAgICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMsIGNvbmZpZykgfHwgdGhpcztcclxuICAgIH1cclxuICAgIENhc3RVSUNvbnRhaW5lci5wcm90b3R5cGUuY29uZmlndXJlID0gZnVuY3Rpb24gKHBsYXllciwgdWltYW5hZ2VyKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmNvbmZpZ3VyZS5jYWxsKHRoaXMsIHBsYXllciwgdWltYW5hZ2VyKTtcclxuICAgICAgICB2YXIgY29uZmlnID0gdGhpcy5nZXRDb25maWcoKTtcclxuICAgICAgICAvKlxyXG4gICAgICAgICAqIFNob3cgVUkgb24gQ2FzdCBkZXZpY2VzIGF0IGNlcnRhaW4gcGxheWJhY2sgZXZlbnRzXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBTaW5jZSBhIENhc3QgcmVjZWl2ZXIgZG9lcyBub3QgaGF2ZSBhIGRpcmVjdCBIQ0ksIHdlIHNob3cgdGhlIFVJIG9uIGNlcnRhaW4gcGxheWJhY2sgZXZlbnRzIHRvIGdpdmUgdGhlIHVzZXJcclxuICAgICAgICAgKiBhIGNoYW5jZSB0byBzZWUgb24gdGhlIHNjcmVlbiB3aGF0J3MgZ29pbmcgb24sIGUuZy4gb24gcGxheS9wYXVzZSBvciBhIHNlZWsgdGhlIFVJIGlzIHNob3duIGFuZCB0aGUgdXNlciBjYW5cclxuICAgICAgICAgKiBzZWUgdGhlIGN1cnJlbnQgdGltZSBhbmQgcG9zaXRpb24gb24gdGhlIHNlZWsgYmFyLlxyXG4gICAgICAgICAqIFRoZSBVSSBpcyBzaG93biBwZXJtYW5lbnRseSB3aGlsZSBwbGF5YmFjayBpcyBwYXVzZWQsIG90aGVyd2lzZSBoaWRlcyBhdXRvbWF0aWNhbGx5IGFmdGVyIHRoZSBjb25maWd1cmVkXHJcbiAgICAgICAgICogaGlkZSBkZWxheSB0aW1lLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHZhciBpc1VpU2hvd24gPSBmYWxzZTtcclxuICAgICAgICB2YXIgaGlkZVVpID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB1aW1hbmFnZXIub25Db250cm9sc0hpZGUuZGlzcGF0Y2goX3RoaXMpO1xyXG4gICAgICAgICAgICBpc1VpU2hvd24gPSBmYWxzZTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuY2FzdFVpSGlkZVRpbWVvdXQgPSBuZXcgdGltZW91dF8xLlRpbWVvdXQoY29uZmlnLmhpZGVEZWxheSwgaGlkZVVpKTtcclxuICAgICAgICB2YXIgc2hvd1VpID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoIWlzVWlTaG93bikge1xyXG4gICAgICAgICAgICAgICAgdWltYW5hZ2VyLm9uQ29udHJvbHNTaG93LmRpc3BhdGNoKF90aGlzKTtcclxuICAgICAgICAgICAgICAgIGlzVWlTaG93biA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciBzaG93VWlQZXJtYW5lbnRseSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgc2hvd1VpKCk7XHJcbiAgICAgICAgICAgIF90aGlzLmNhc3RVaUhpZGVUaW1lb3V0LmNsZWFyKCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB2YXIgc2hvd1VpV2l0aFRpbWVvdXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHNob3dVaSgpO1xyXG4gICAgICAgICAgICBfdGhpcy5jYXN0VWlIaWRlVGltZW91dC5zdGFydCgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdmFyIHNob3dVaUFmdGVyU2VlayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKHBsYXllci5pc1BsYXlpbmcoKSkge1xyXG4gICAgICAgICAgICAgICAgc2hvd1VpV2l0aFRpbWVvdXQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHNob3dVaVBlcm1hbmVudGx5KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1JFQURZLCBzaG93VWlXaXRoVGltZW91dCk7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fU09VUkNFX0xPQURFRCwgc2hvd1VpV2l0aFRpbWVvdXQpO1xyXG4gICAgICAgIHBsYXllci5hZGRFdmVudEhhbmRsZXIocGxheWVyLkVWRU5ULk9OX1BMQVksIHNob3dVaVdpdGhUaW1lb3V0KTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9QQVVTRUQsIHNob3dVaVBlcm1hbmVudGx5KTtcclxuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKHBsYXllci5FVkVOVC5PTl9TRUVLLCBzaG93VWlQZXJtYW5lbnRseSk7XHJcbiAgICAgICAgcGxheWVyLmFkZEV2ZW50SGFuZGxlcihwbGF5ZXIuRVZFTlQuT05fU0VFS0VELCBzaG93VWlBZnRlclNlZWspO1xyXG4gICAgfTtcclxuICAgIENhc3RVSUNvbnRhaW5lci5wcm90b3R5cGUucmVsZWFzZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLnJlbGVhc2UuY2FsbCh0aGlzKTtcclxuICAgICAgICB0aGlzLmNhc3RVaUhpZGVUaW1lb3V0LmNsZWFyKCk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIENhc3RVSUNvbnRhaW5lcjtcclxufSh1aWNvbnRhaW5lcl8xLlVJQ29udGFpbmVyKSk7XHJcbmV4cG9ydHMuQ2FzdFVJQ29udGFpbmVyID0gQ2FzdFVJQ29udGFpbmVyO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuLi9saWIvdWltYW5hZ2VyL2NvbXBvbmVudHMvY2FzdHVpY29udGFpbmVyLnRzXG4vLyBtb2R1bGUgaWQgPSA4M1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKiEgSGl2ZSBTdGF0cyBQYWNrIGJ1aWxkIDMuNS4xIENvcHlyaWdodChjKSAyMDE1IEhpdmVTdHJlYW1pbmcgQUIsIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqIEF1dGhvcnM6IG1pa2FlbC5ob2dxdmlzdEBoaXZlc3RyZWFtaW5nLmNvbSAtIHJpY2NhcmRvLnJlYWxlQGhpdmVzdHJlYW1pbmcuY29tIC0gcm9iZXJ0by5yb3ZlcnNvQGhpdmVzdHJlYW1pbmcuY29tICovXHJcbi8qISBBdGF0dXNKcyAtIHYyLjMuMTIgLSAyMDE2LTA3LTAzXHJcbiAqIENvcHlyaWdodCAoYykgMjAxNiBBdGF0dXMgKi9cclxuIWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSxiKXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsYil9ZnVuY3Rpb24gYyhhKXtyZXR1cm5cInVuZGVmaW5lZFwiPT10eXBlb2YgYX1pZihhKXt2YXIgZD17fSxlPWEuVHJhY2VLaXQsZj1bXS5zbGljZSxnPVwiP1wiO2Qubm9Db25mbGljdD1mdW5jdGlvbigpe3JldHVybiBhLlRyYWNlS2l0PWUsZH0sZC53cmFwPWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoKXt0cnl7cmV0dXJuIGEuYXBwbHkodGhpcyxhcmd1bWVudHMpfWNhdGNoKGIpe3Rocm93IGQucmVwb3J0KGIpLGJ9fXJldHVybiBifSxkLnJlcG9ydD1mdW5jdGlvbigpe2Z1bmN0aW9uIGMoYSl7aSgpLG0ucHVzaChhKX1mdW5jdGlvbiBlKGEpe2Zvcih2YXIgYj1tLmxlbmd0aC0xO2I+PTA7LS1iKW1bYl09PT1hJiZtLnNwbGljZShiLDEpfWZ1bmN0aW9uIGcoYSxjKXt2YXIgZT1udWxsO2lmKCFjfHxkLmNvbGxlY3RXaW5kb3dFcnJvcnMpe2Zvcih2YXIgZyBpbiBtKWlmKGIobSxnKSl0cnl7bVtnXS5hcHBseShudWxsLFthXS5jb25jYXQoZi5jYWxsKGFyZ3VtZW50cywyKSkpfWNhdGNoKGgpe2U9aH1pZihlKXRocm93IGV9fWZ1bmN0aW9uIGgoYSxiLGMsZSxmKXt2YXIgaD1udWxsO2lmKGYpaD1kLmNvbXB1dGVTdGFja1RyYWNlKGYpO2Vsc2UgaWYobylkLmNvbXB1dGVTdGFja1RyYWNlLmF1Z21lbnRTdGFja1RyYWNlV2l0aEluaXRpYWxFbGVtZW50KG8sYixjLGEpLGg9byxvPW51bGwsbj1udWxsO2Vsc2V7dmFyIGk9e3VybDpiLGxpbmU6Yyxjb2x1bW46ZX07aS5mdW5jPWQuY29tcHV0ZVN0YWNrVHJhY2UuZ3Vlc3NGdW5jdGlvbk5hbWUoaS51cmwsaS5saW5lKSxpLmNvbnRleHQ9ZC5jb21wdXRlU3RhY2tUcmFjZS5nYXRoZXJDb250ZXh0KGkudXJsLGkubGluZSksaD17bW9kZTpcIm9uZXJyb3JcIixtZXNzYWdlOmEsdXJsOmRvY3VtZW50LmxvY2F0aW9uLmhyZWYsc3RhY2s6W2ldLHVzZXJhZ2VudDpuYXZpZ2F0b3IudXNlckFnZW50fX1yZXR1cm4gZyhoLFwiZnJvbSB3aW5kb3cub25lcnJvclwiKSxrP2suYXBwbHkodGhpcyxhcmd1bWVudHMpOiExfWZ1bmN0aW9uIGkoKXtsIT09ITAmJihrPWEub25lcnJvcixhLm9uZXJyb3I9aCxsPSEwKX1mdW5jdGlvbiBqKGIpe3ZhciBjPWYuY2FsbChhcmd1bWVudHMsMSk7aWYobyl7aWYobj09PWIpcmV0dXJuO3ZhciBlPW87bz1udWxsLG49bnVsbCxnLmFwcGx5KG51bGwsW2UsbnVsbF0uY29uY2F0KGMpKX12YXIgaD1kLmNvbXB1dGVTdGFja1RyYWNlKGIpO3Rocm93IG89aCxuPWIsYS5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bj09PWImJihvPW51bGwsbj1udWxsLGcuYXBwbHkobnVsbCxbaCxudWxsXS5jb25jYXQoYykpKX0saC5pbmNvbXBsZXRlPzJlMzowKSxifXZhciBrLGwsbT1bXSxuPW51bGwsbz1udWxsO3JldHVybiBqLnN1YnNjcmliZT1jLGoudW5zdWJzY3JpYmU9ZSxqfSgpLGQuY29tcHV0ZVN0YWNrVHJhY2U9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGIpe2lmKCFkLnJlbW90ZUZldGNoaW5nKXJldHVyblwiXCI7dHJ5e3ZhciBjPWZ1bmN0aW9uKCl7dHJ5e3JldHVybiBuZXcgYS5YTUxIdHRwUmVxdWVzdH1jYXRjaChiKXtyZXR1cm4gbmV3IGEuQWN0aXZlWE9iamVjdChcIk1pY3Jvc29mdC5YTUxIVFRQXCIpfX0sZT1jKCk7cmV0dXJuIGUub3BlbihcIkdFVFwiLGIsITEpLGUuc2VuZChcIlwiKSxlLnJlc3BvbnNlVGV4dH1jYXRjaChmKXtyZXR1cm5cIlwifX1mdW5jdGlvbiBmKGEpe2lmKFwic3RyaW5nXCIhPXR5cGVvZiBhKXJldHVybltdO2lmKCFiKHcsYSkpe3ZhciBjPVwiXCIsZD1cIlwiO3RyeXtkPWRvY3VtZW50LmRvbWFpbn1jYXRjaChmKXt9LTEhPT1hLmluZGV4T2YoZCkmJihjPWUoYSkpLHdbYV09Yz9jLnNwbGl0KFwiXFxuXCIpOltdfXJldHVybiB3W2FdfWZ1bmN0aW9uIGgoYSxiKXt2YXIgZCxlPS9mdW5jdGlvbiAoW14oXSopXFwoKFteKV0qKVxcKS8saD0vWydcIl0/KFswLTlBLVphLXokX10rKVsnXCJdP1xccypbOj1dXFxzKihmdW5jdGlvbnxldmFsfG5ldyBGdW5jdGlvbikvLGk9XCJcIixqPTEwLGs9ZihhKTtpZighay5sZW5ndGgpcmV0dXJuIGc7Zm9yKHZhciBsPTA7aj5sOysrbClpZihpPWtbYi1sXStpLCFjKGkpKXtpZihkPWguZXhlYyhpKSlyZXR1cm4gZFsxXTtpZihkPWUuZXhlYyhpKSlyZXR1cm4gZFsxXX1yZXR1cm4gZ31mdW5jdGlvbiBpKGEsYil7dmFyIGU9ZihhKTtpZighZS5sZW5ndGgpcmV0dXJuIG51bGw7dmFyIGc9W10saD1NYXRoLmZsb29yKGQubGluZXNPZkNvbnRleHQvMiksaT1oK2QubGluZXNPZkNvbnRleHQlMixqPU1hdGgubWF4KDAsYi1oLTEpLGs9TWF0aC5taW4oZS5sZW5ndGgsYitpLTEpO2ItPTE7Zm9yKHZhciBsPWo7az5sOysrbCljKGVbbF0pfHxnLnB1c2goZVtsXSk7cmV0dXJuIGcubGVuZ3RoPjA/ZzpudWxsfWZ1bmN0aW9uIGooYSl7cmV0dXJuIGEucmVwbGFjZSgvW1xcLVxcW1xcXXt9KCkqKz8uLFxcXFxcXF4kfCNdL2csXCJcXFxcJCZcIil9ZnVuY3Rpb24gayhhKXtyZXR1cm4gaihhKS5yZXBsYWNlKFwiPFwiLFwiKD86PHwmbHQ7KVwiKS5yZXBsYWNlKFwiPlwiLFwiKD86PnwmZ3Q7KVwiKS5yZXBsYWNlKFwiJlwiLFwiKD86JnwmYW1wOylcIikucmVwbGFjZSgnXCInLCcoPzpcInwmcXVvdDspJykucmVwbGFjZSgvXFxzKy9nLFwiXFxcXHMrXCIpfWZ1bmN0aW9uIGwoYSxiKXtmb3IodmFyIGMsZCxlPTAsZz1iLmxlbmd0aDtnPmU7KytlKWlmKChjPWYoYltlXSkpLmxlbmd0aCYmKGM9Yy5qb2luKFwiXFxuXCIpLGQ9YS5leGVjKGMpKSlyZXR1cm57dXJsOmJbZV0sbGluZTpjLnN1YnN0cmluZygwLGQuaW5kZXgpLnNwbGl0KFwiXFxuXCIpLmxlbmd0aCxjb2x1bW46ZC5pbmRleC1jLmxhc3RJbmRleE9mKFwiXFxuXCIsZC5pbmRleCktMX07cmV0dXJuIG51bGx9ZnVuY3Rpb24gbShhLGIsYyl7dmFyIGQsZT1mKGIpLGc9bmV3IFJlZ0V4cChcIlxcXFxiXCIraihhKStcIlxcXFxiXCIpO3JldHVybiBjLT0xLGUmJmUubGVuZ3RoPmMmJihkPWcuZXhlYyhlW2NdKSk/ZC5pbmRleDpudWxsfWZ1bmN0aW9uIG4oYil7Zm9yKHZhciBjLGQsZSxmLGc9W2EubG9jYXRpb24uaHJlZl0saD1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKSxpPVwiXCIrYixtPS9eZnVuY3Rpb24oPzpcXHMrKFtcXHckXSspKT9cXHMqXFwoKFtcXHdcXHMsXSopXFwpXFxzKlxce1xccyooXFxTW1xcc1xcU10qXFxTKVxccypcXH1cXHMqJC8sbj0vXmZ1bmN0aW9uIG9uKFtcXHckXSspXFxzKlxcKGV2ZW50XFwpXFxzKlxce1xccyooXFxTW1xcc1xcU10qXFxTKVxccypcXH1cXHMqJC8sbz0wO288aC5sZW5ndGg7KytvKXt2YXIgcD1oW29dO3Auc3JjJiZnLnB1c2gocC5zcmMpfWlmKGU9bS5leGVjKGkpKXt2YXIgcT1lWzFdP1wiXFxcXHMrXCIrZVsxXTpcIlwiLHI9ZVsyXS5zcGxpdChcIixcIikuam9pbihcIlxcXFxzKixcXFxccypcIik7Yz1qKGVbM10pLnJlcGxhY2UoLzskLyxcIjs/XCIpLGQ9bmV3IFJlZ0V4cChcImZ1bmN0aW9uXCIrcStcIlxcXFxzKlxcXFwoXFxcXHMqXCIrcitcIlxcXFxzKlxcXFwpXFxcXHMqe1xcXFxzKlwiK2MrXCJcXFxccyp9XCIpfWVsc2UgZD1uZXcgUmVnRXhwKGooaSkucmVwbGFjZSgvXFxzKy9nLFwiXFxcXHMrXCIpKTtpZihmPWwoZCxnKSlyZXR1cm4gZjtpZihlPW4uZXhlYyhpKSl7dmFyIHM9ZVsxXTtpZihjPWsoZVsyXSksZD1uZXcgUmVnRXhwKFwib25cIitzK1wiPVtcXFxcJ1xcXCJdXFxcXHMqXCIrYytcIlxcXFxzKltcXFxcJ1xcXCJdXCIsXCJpXCIpLGY9bChkLGdbMF0pKXJldHVybiBmO2lmKGQ9bmV3IFJlZ0V4cChjKSxmPWwoZCxnKSlyZXR1cm4gZn1yZXR1cm4gbnVsbH1mdW5jdGlvbiBvKGEpe2lmKCFhLnN0YWNrKXJldHVybiBudWxsO2Zvcih2YXIgYixkLGU9L15cXHMqYXQgKC4qPykgP1xcKD8oKD86ZmlsZXxodHRwcz98Y2hyb21lLWV4dGVuc2lvbik6Lio/KTooXFxkKykoPzo6KFxcZCspKT9cXCk/XFxzKiQvaSxmPS9eXFxzKiguKj8pKD86XFwoKC4qPylcXCkpP0A/KCg/OmZpbGV8aHR0cHM/fGNocm9tZSk6Lio/KTooXFxkKykoPzo6KFxcZCspKT9cXHMqJC9pLGo9L15cXHMqYXQgKD86KCg/OlxcW29iamVjdCBvYmplY3RcXF0pPy4rKSApP1xcKD8oKD86bXMtYXBweHxodHRwfGh0dHBzKTouKj8pOihcXGQrKSg/OjooXFxkKykpP1xcKT9cXHMqJC9pLGs9YS5zdGFjay5zcGxpdChcIlxcblwiKSxsPVtdLG49L14oLiopIGlzIHVuZGVmaW5lZCQvLmV4ZWMoYS5tZXNzYWdlKSxvPTAscD1rLmxlbmd0aDtwPm87KytvKXtpZihiPWYuZXhlYyhrW29dKSlkPXt1cmw6YlszXSxmdW5jOmJbMV18fGcsYXJnczpiWzJdP2JbMl0uc3BsaXQoXCIsXCIpOlwiXCIsbGluZTorYls0XSxjb2x1bW46Yls1XT8rYls1XTpudWxsfTtlbHNlIGlmKGI9ZS5leGVjKGtbb10pKWQ9e3VybDpiWzJdLGZ1bmM6YlsxXXx8ZyxsaW5lOitiWzNdLGNvbHVtbjpiWzRdPytiWzRdOm51bGx9O2Vsc2V7aWYoIShiPWouZXhlYyhrW29dKSkpY29udGludWU7ZD17dXJsOmJbMl0sZnVuYzpiWzFdfHxnLGxpbmU6K2JbM10sY29sdW1uOmJbNF0/K2JbNF06bnVsbH19IWQuZnVuYyYmZC5saW5lJiYoZC5mdW5jPWgoZC51cmwsZC5saW5lKSksZC5saW5lJiYoZC5jb250ZXh0PWkoZC51cmwsZC5saW5lKSksbC5wdXNoKGQpfXJldHVybiBsLmxlbmd0aD8obFswXSYmbFswXS5saW5lJiYhbFswXS5jb2x1bW4mJm4/bFswXS5jb2x1bW49bShuWzFdLGxbMF0udXJsLGxbMF0ubGluZSk6bFswXS5jb2x1bW58fGMoYS5jb2x1bW5OdW1iZXIpfHwobFswXS5jb2x1bW49YS5jb2x1bW5OdW1iZXIrMSkse21vZGU6XCJzdGFja1wiLG5hbWU6YS5uYW1lLG1lc3NhZ2U6YS5tZXNzYWdlLHVybDpkb2N1bWVudC5sb2NhdGlvbi5ocmVmLHN0YWNrOmwsdXNlcmFnZW50Om5hdmlnYXRvci51c2VyQWdlbnR9KTpudWxsfWZ1bmN0aW9uIHAoYSl7Zm9yKHZhciBiLGM9YS5zdGFja3RyYWNlLGQ9LyBsaW5lIChcXGQrKSwgY29sdW1uIChcXGQrKSBpbiAoPzo8YW5vbnltb3VzIGZ1bmN0aW9uOiAoW14+XSspPnwoW15cXCldKykpXFwoKC4qKVxcKSBpbiAoLiopOlxccyokL2ksZT1jLnNwbGl0KFwiXFxuXCIpLGY9W10sZz0wLGo9ZS5sZW5ndGg7aj5nO2crPTIpaWYoYj1kLmV4ZWMoZVtnXSkpe3ZhciBrPXtsaW5lOitiWzFdLGNvbHVtbjorYlsyXSxmdW5jOmJbM118fGJbNF0sYXJnczpiWzVdP2JbNV0uc3BsaXQoXCIsXCIpOltdLHVybDpiWzZdfTtpZighay5mdW5jJiZrLmxpbmUmJihrLmZ1bmM9aChrLnVybCxrLmxpbmUpKSxrLmxpbmUpdHJ5e2suY29udGV4dD1pKGsudXJsLGsubGluZSl9Y2F0Y2gobCl7fWsuY29udGV4dHx8KGsuY29udGV4dD1bZVtnKzFdXSksZi5wdXNoKGspfXJldHVybiBmLmxlbmd0aD97bW9kZTpcInN0YWNrdHJhY2VcIixuYW1lOmEubmFtZSxtZXNzYWdlOmEubWVzc2FnZSx1cmw6ZG9jdW1lbnQubG9jYXRpb24uaHJlZixzdGFjazpmLHVzZXJhZ2VudDpuYXZpZ2F0b3IudXNlckFnZW50fTpudWxsfWZ1bmN0aW9uIHEoYyl7dmFyIGQ9Yy5tZXNzYWdlLnNwbGl0KFwiXFxuXCIpO2lmKGQubGVuZ3RoPDQpcmV0dXJuIG51bGw7dmFyIGUsZyxqLG0sbj0vXlxccypMaW5lIChcXGQrKSBvZiBsaW5rZWQgc2NyaXB0ICgoPzpmaWxlfGh0dHBzPylcXFMrKSg/OjogaW4gZnVuY3Rpb24gKFxcUyspKT9cXHMqJC9pLG89L15cXHMqTGluZSAoXFxkKykgb2YgaW5saW5lIyhcXGQrKSBzY3JpcHQgaW4gKCg/OmZpbGV8aHR0cHM/KVxcUyspKD86OiBpbiBmdW5jdGlvbiAoXFxTKykpP1xccyokL2kscD0vXlxccypMaW5lIChcXGQrKSBvZiBmdW5jdGlvbiBzY3JpcHRcXHMqJC9pLHE9W10scj1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKSxzPVtdO2ZvcihnIGluIHIpYihyLGcpJiYhcltnXS5zcmMmJnMucHVzaChyW2ddKTtmb3IoZz0yLGo9ZC5sZW5ndGg7aj5nO2crPTIpe3ZhciB0PW51bGw7aWYoZT1uLmV4ZWMoZFtnXSkpdD17dXJsOmVbMl0sZnVuYzplWzNdLGxpbmU6K2VbMV19O2Vsc2UgaWYoZT1vLmV4ZWMoZFtnXSkpe3Q9e3VybDplWzNdLGZ1bmM6ZVs0XX07dmFyIHU9K2VbMV0sdj1zW2VbMl0tMV07aWYodiYmKG09Zih0LnVybCkpKXttPW0uam9pbihcIlxcblwiKTt2YXIgdz1tLmluZGV4T2Yodi5pbm5lclRleHQpO3c+PTAmJih0LmxpbmU9dSttLnN1YnN0cmluZygwLHcpLnNwbGl0KFwiXFxuXCIpLmxlbmd0aCl9fWVsc2UgaWYoZT1wLmV4ZWMoZFtnXSkpe3ZhciB4PWEubG9jYXRpb24uaHJlZi5yZXBsYWNlKC8jLiokLyxcIlwiKSx5PWVbMV0sej1uZXcgUmVnRXhwKGsoZFtnKzFdKSk7bT1sKHosW3hdKSx0PXt1cmw6eCxsaW5lOm0/bS5saW5lOnksZnVuYzpcIlwifX1pZih0KXt0LmZ1bmN8fCh0LmZ1bmM9aCh0LnVybCx0LmxpbmUpKTt2YXIgQT1pKHQudXJsLHQubGluZSksQj1BP0FbTWF0aC5mbG9vcihBLmxlbmd0aC8yKV06bnVsbDt0LmNvbnRleHQ9QSYmQi5yZXBsYWNlKC9eXFxzKi8sXCJcIik9PT1kW2crMV0ucmVwbGFjZSgvXlxccyovLFwiXCIpP0E6W2RbZysxXV0scS5wdXNoKHQpfX1yZXR1cm4gcS5sZW5ndGg/e21vZGU6XCJtdWx0aWxpbmVcIixuYW1lOmMubmFtZSxtZXNzYWdlOmRbMF0sdXJsOmRvY3VtZW50LmxvY2F0aW9uLmhyZWYsc3RhY2s6cSx1c2VyYWdlbnQ6bmF2aWdhdG9yLnVzZXJBZ2VudH06bnVsbH1mdW5jdGlvbiByKGEsYixjLGQpe3ZhciBlPXt1cmw6YixsaW5lOmN9O2lmKGUudXJsJiZlLmxpbmUpe2EuaW5jb21wbGV0ZT0hMSxlLmZ1bmN8fChlLmZ1bmM9aChlLnVybCxlLmxpbmUpKSxlLmNvbnRleHR8fChlLmNvbnRleHQ9aShlLnVybCxlLmxpbmUpKTt2YXIgZj0vICcoW14nXSspJyAvLmV4ZWMoZCk7aWYoZiYmKGUuY29sdW1uPW0oZlsxXSxlLnVybCxlLmxpbmUpKSxhLnN0YWNrLmxlbmd0aD4wJiZhLnN0YWNrWzBdLnVybD09PWUudXJsKXtpZihhLnN0YWNrWzBdLmxpbmU9PT1lLmxpbmUpcmV0dXJuITE7aWYoIWEuc3RhY2tbMF0ubGluZSYmYS5zdGFja1swXS5mdW5jPT09ZS5mdW5jKXJldHVybiBhLnN0YWNrWzBdLmxpbmU9ZS5saW5lLGEuc3RhY2tbMF0uY29udGV4dD1lLmNvbnRleHQsITF9cmV0dXJuIGEuc3RhY2sudW5zaGlmdChlKSxhLnBhcnRpYWw9ITAsITB9cmV0dXJuIGEuaW5jb21wbGV0ZT0hMCwhMX1mdW5jdGlvbiBzKGEsYil7Zm9yKHZhciBjLGUsZixpPS9mdW5jdGlvblxccysoW18kYS16QS1aXFx4QTAtXFx1RkZGRl1bXyRhLXpBLVowLTlcXHhBMC1cXHVGRkZGXSopP1xccypcXCgvaSxqPVtdLGs9e30sbD0hMSxvPXMuY2FsbGVyO28mJiFsO289by5jYWxsZXIpaWYobyE9PXQmJm8hPT1kLnJlcG9ydCl7aWYoZT17dXJsOm51bGwsZnVuYzpnLGxpbmU6bnVsbCxjb2x1bW46bnVsbH0sby5uYW1lP2UuZnVuYz1vLm5hbWU6KGM9aS5leGVjKG8udG9TdHJpbmcoKSkpJiYoZS5mdW5jPWNbMV0pLFwidW5kZWZpbmVkXCI9PXR5cGVvZiBlLmZ1bmMpdHJ5e2UuZnVuYz1jLmlucHV0LnN1YnN0cmluZygwLGMuaW5wdXQuaW5kZXhPZihcIntcIikpfWNhdGNoKHApe31pZihmPW4obykpe2UudXJsPWYudXJsLGUubGluZT1mLmxpbmUsZS5mdW5jPT09ZyYmKGUuZnVuYz1oKGUudXJsLGUubGluZSkpO3ZhciBxPS8gJyhbXiddKyknIC8uZXhlYyhhLm1lc3NhZ2V8fGEuZGVzY3JpcHRpb24pO3EmJihlLmNvbHVtbj1tKHFbMV0sZi51cmwsZi5saW5lKSl9a1tcIlwiK29dP2w9ITA6a1tcIlwiK29dPSEwLGoucHVzaChlKX1iJiZqLnNwbGljZSgwLGIpO3ZhciB1PXttb2RlOlwiY2FsbGVyc1wiLG5hbWU6YS5uYW1lLG1lc3NhZ2U6YS5tZXNzYWdlLHVybDpkb2N1bWVudC5sb2NhdGlvbi5ocmVmLHN0YWNrOmosdXNlcmFnZW50Om5hdmlnYXRvci51c2VyQWdlbnR9O3JldHVybiByKHUsYS5zb3VyY2VVUkx8fGEuZmlsZU5hbWUsYS5saW5lfHxhLmxpbmVOdW1iZXIsYS5tZXNzYWdlfHxhLmRlc2NyaXB0aW9uKSx1fWZ1bmN0aW9uIHQoYSxiKXt2YXIgYz1udWxsO2I9bnVsbD09Yj8wOitiO3RyeXtpZihjPXAoYSkpcmV0dXJuIGN9Y2F0Y2goZCl7aWYodil0aHJvdyBkfXRyeXtpZihjPW8oYSkpcmV0dXJuIGN9Y2F0Y2goZCl7aWYodil0aHJvdyBkfXRyeXtpZihjPXEoYSkpcmV0dXJuIGN9Y2F0Y2goZCl7aWYodil0aHJvdyBkfXRyeXtpZihjPXMoYSxiKzEpKXJldHVybiBjfWNhdGNoKGQpe2lmKHYpdGhyb3cgZH1yZXR1cm57bW9kZTpcImZhaWxlZFwifX1mdW5jdGlvbiB1KGEpe2E9KG51bGw9PWE/MDorYSkrMTt0cnl7dGhyb3cgbmV3IEVycm9yfWNhdGNoKGIpe3JldHVybiB0KGIsYSsxKX19dmFyIHY9ITEsdz17fTtyZXR1cm4gdC5hdWdtZW50U3RhY2tUcmFjZVdpdGhJbml0aWFsRWxlbWVudD1yLHQuZ3Vlc3NGdW5jdGlvbk5hbWU9aCx0LmdhdGhlckNvbnRleHQ9aSx0Lm9mQ2FsbGVyPXUsdC5nZXRTb3VyY2U9Zix0fSgpLGQuZXh0ZW5kVG9Bc3luY2hyb25vdXNDYWxsYmFja3M9ZnVuY3Rpb24oKXt2YXIgYj1mdW5jdGlvbihiKXt2YXIgYz1hW2JdO2FbYl09ZnVuY3Rpb24oKXt2YXIgYT1mLmNhbGwoYXJndW1lbnRzKSxiPWFbMF07cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgYiYmKGFbMF09ZC53cmFwKGIpKSxjLmFwcGx5P2MuYXBwbHkodGhpcyxhKTpjKGFbMF0sYVsxXSl9fTtiKFwic2V0VGltZW91dFwiKSxiKFwic2V0SW50ZXJ2YWxcIil9LGQucmVtb3RlRmV0Y2hpbmd8fChkLnJlbW90ZUZldGNoaW5nPSEwKSxkLmNvbGxlY3RXaW5kb3dFcnJvcnN8fChkLmNvbGxlY3RXaW5kb3dFcnJvcnM9ITApLCghZC5saW5lc09mQ29udGV4dHx8ZC5saW5lc09mQ29udGV4dDwxKSYmKGQubGluZXNPZkNvbnRleHQ9MTEpLGEuVHJhY2VLaXQ9ZH19KFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Omdsb2JhbCksZnVuY3Rpb24oYSxiKXtcInVzZSBzdHJpY3RcIjtpZihhKXt2YXIgYz1hLmV2ZW50LmFkZDthLmV2ZW50LmFkZD1mdW5jdGlvbihkLGUsZixnLGgpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGYmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGYuaGFuZGxlcilyZXR1cm4gYy5jYWxsKHRoaXMsZCxlLGYsZyxoKTt2YXIgaTtyZXR1cm4gZi5oYW5kbGVyPyhpPWYuaGFuZGxlcixmLmhhbmRsZXI9Yi53cmFwKGYuaGFuZGxlcikpOihpPWYsZj1iLndyYXAoZikpLGYuZ3VpZD1pLmd1aWQ/aS5ndWlkOmkuZ3VpZD1hLmd1aWQrKyxjLmNhbGwodGhpcyxkLGUsZixnLGgpfTt2YXIgZD1hLmZuLnJlYWR5O2EuZm4ucmVhZHk9ZnVuY3Rpb24oYSl7cmV0dXJuIGQuY2FsbCh0aGlzLGIud3JhcChhKSl9O3ZhciBlPWEuYWpheDthLmFqYXg9ZnVuY3Rpb24oYyxkKXtcIm9iamVjdFwiPT10eXBlb2YgYyYmKGQ9YyxjPXZvaWQgMCksZD1kfHx7fTtmb3IodmFyIGYsZz1bXCJjb21wbGV0ZVwiLFwiZXJyb3JcIixcInN1Y2Nlc3NcIl07Zj1nLnBvcCgpOylhLmlzRnVuY3Rpb24oZFtmXSkmJihkW2ZdPWIud3JhcChkW2ZdKSk7dHJ5e3JldHVybiBjP2UuY2FsbCh0aGlzLGMsZCk6ZS5jYWxsKHRoaXMsZCl9Y2F0Y2goaCl7dGhyb3cgYi5yZXBvcnQoaCksaH19fX0od2luZG93LmpRdWVyeSx3aW5kb3cuVHJhY2VLaXQpLGZ1bmN0aW9uKGEsYixjLGQpe2Z1bmN0aW9uIGUoYSl7dmFyIGI9YSxjPWEuc3BsaXQoXCIvL1wiKVsxXTtpZihjKXt2YXIgZD1jLmluZGV4T2YoXCI/XCIpLGU9Yy50b1N0cmluZygpLnN1YnN0cmluZygwLGQpLGY9ZS5zcGxpdChcIi9cIikuc2xpY2UoMCw0KS5qb2luKFwiL1wiKSxnPWUuc3Vic3RyaW5nKDAsNDgpO2I9Zi5sZW5ndGg8Zy5sZW5ndGg/ZjpnLGIhPT1lJiYoYis9XCIuLlwiKX1yZXR1cm4gYn1mdW5jdGlvbiBmKGEsYixjLGYpe2lmKEsmJihMfHxiLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKSl7dmFyIGc9XCJBSkFYIEVycm9yOiBcIisoYi5zdGF0dXNUZXh0fHxcInVua25vd25cIikrXCIgXCIrKGMudHlwZXx8XCJ1bmtub3duXCIpK1wiIFwiKyhlKGMudXJsKXx8XCJ1bmtub3duXCIpO1Yuc2VuZChmfHxhLnR5cGUse3N0YXR1czpiLnN0YXR1cyxzdGF0dXNUZXh0OmIuc3RhdHVzVGV4dCx0eXBlOmMudHlwZSx1cmw6Yy51cmwsYWpheEVycm9yTWVzc2FnZTpnLGNvbnRlbnRUeXBlOmMuY29udGVudFR5cGUscmVxdWVzdERhdGE6Yy5kYXRhJiZjLmRhdGEuc2xpY2U/Yy5kYXRhLnNsaWNlKDAsMTAyNDApOmQscmVzcG9uc2VEYXRhOmIucmVzcG9uc2VUZXh0JiZiLnJlc3BvbnNlVGV4dC5zbGljZT9iLnJlc3BvbnNlVGV4dC5zbGljZSgwLDEwMjQwKTpkLGFjdGl2ZVRhcmdldDphLnRhcmdldCYmYS50YXJnZXQuYWN0aXZlRWxlbWVudD9hLnRhcmdldC5hY3RpdmVFbGVtZW50Lm91dGVySFRNTDpkfSl9fWZ1bmN0aW9uIGcoKXtyZXR1cm4gbyYmXCJcIiE9PW8/ITA6KFIubG9nKFwiQXRhdHVzIEFQSSBrZXkgaGFzIG5vdCBiZWVuIGNvbmZpZ3VyZWQsIG1ha2Ugc3VyZSB5b3UgY2FsbCBhdGF0dXMuY29uZmlnKHlvdXJBcGlLZXkpXCIpLCExKX1mdW5jdGlvbiBoKCl7dmFyIGM9Yi5kb2N1bWVudEVsZW1lbnQsZD1iLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiYm9keVwiKVswXSxlPWEuaW5uZXJXaWR0aHx8Yy5jbGllbnRXaWR0aHx8ZC5jbGllbnRXaWR0aCxmPWEuaW5uZXJIZWlnaHR8fGMuY2xpZW50SGVpZ2h0fHxkLmNsaWVudEhlaWdodDtyZXR1cm57d2lkdGg6ZSxoZWlnaHQ6Zn19ZnVuY3Rpb24gaShhKXt2YXIgYj0obmV3IERhdGUpLnRvSlNPTigpO3RyeXt2YXIgYz1cImF0YXR1c2pzPVwiK2IrXCI9XCIrUi5nZXRSYW5kb21JbnQoKTtcInVuZGVmaW5lZFwiPT10eXBlb2YgbG9jYWxTdG9yYWdlW2NdJiYobG9jYWxTdG9yYWdlW2NdPWEpfWNhdGNoKGQpe1IubG9nKFwiQXRhdHVzOiBMb2NhbFN0b3JhZ2UgZnVsbCwgY2Fubm90IHNhdmUgZXhjZXB0aW9uXCIpfX1mdW5jdGlvbiBqKCl7dHJ5e3JldHVyblwibG9jYWxTdG9yYWdlXCJpbiBhJiZudWxsIT09YS5sb2NhbFN0b3JhZ2V9Y2F0Y2goYil7cmV0dXJuITF9fWZ1bmN0aW9uIGsoKXtpZihqKCkmJmxvY2FsU3RvcmFnZS5sZW5ndGg+MClmb3IodmFyIGEgaW4gbG9jYWxTdG9yYWdlKWlmKFwiYXRhdHVzanM9XCI9PT1hLnN1YnN0cmluZygwLDkpKXt0cnl7dmFyIGI9SlNPTi5wYXJzZShsb2NhbFN0b3JhZ2VbYV0pO1wiYXBpa2V5XCJpbiBiJiZtKE4sYil9Y2F0Y2goYyl7Ui5sb2coXCJBdGF0dXM6IEludmFsaWQgSlNPTiBvYmplY3QgaW4gTG9jYWxTdG9yYWdlXCIpfWxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGEpfX1mdW5jdGlvbiBsKGEsYyl7aWYoYz1jfHx7fSwhYS5zdGFja3x8IWEuc3RhY2subGVuZ3RoKXJldHVybiB2b2lkIFIubG9nKFwiQXRhdHVzOiBDYW5jZWxpbmcgc2VuZCBkdWUgdG8gbm8gc3RhY2t0cmFjZS5cIik7Ui5pc0VtcHR5KGMuY3VzdG9tRGF0YSkmJihjLmN1c3RvbURhdGE9XCJmdW5jdGlvblwiPT10eXBlb2YgcD9wKCk6cCksUi5pc0VtcHR5KGMudGFncykmJihjLnRhZ3M9RSk7dmFyIGQ9Yy5jdXN0b21EYXRhJiZjLmN1c3RvbURhdGEuYWpheEVycm9yTWVzc2FnZXx8YS5tZXNzYWdlO2lmKGQmJjA9PT1kLmluZGV4T2YoXCJVbmNhdWdodCBcIikmJihkPWEubWVzc2FnZS5zdWJzdHJpbmcoOSkpLGQ9ZHx8Yy5zdGF0dXN8fFwiU2NyaXB0IGVycm9yLlwiLHcmJncudGVzdChkKSlyZXR1cm4gdm9pZCBSLmxvZyhcIkF0YXR1czogY2FuY2VsaW5nIHNlbmQgZHVlIHRvIGlnbm9yZSBlcnJvcnNcIik7dmFyIGU9W107YS5zdGFjayYmYS5zdGFjay5sZW5ndGgmJlIuZm9yRWFjaChhLnN0YWNrLGZ1bmN0aW9uKGEsYil7Ui5lbmRzV2l0aChiLnVybCxcIi9hdGF0dXMuanNcIil8fGUucHVzaCh7bG46Yi5saW5lfHwwLGNuOmIuY29sdW1ufHwwLGY6Yi51cmx8fFwiYW5vbnltb3VzXCIsbTpiLmZ1bmN8fFwiW2Fub255bW91c11cIn0pfSk7dmFyIGY9W2EubmFtZSxkLEpTT04uc3RyaW5naWZ5KGUpXS5qb2luKFwifFwiKTtpZihmPT09eClyZXR1cm4gdm9pZCBSLmxvZyhcIkF0YXR1czogY2FuY2VsaW5nIHNlbmQgZHVlIHRvIGR1cGxpY2F0ZSBlcnJvcnNcIik7eD1mO3ZhciBnPWMuY3VzdG9tRGF0YTt0cnl7SlNPTi5zdHJpbmdpZnkoZyl9Y2F0Y2goaCl7dmFyIGk9XCJDYW5ub3QgYWRkIGN1c3RvbSBkYXRhOyBtYXkgY29udGFpbiBjaXJjdWxhciByZWZlcmVuY2VcIjtnPXtlcnJvcjppfSxSLmxvZyhcIkF0YXR1czogXCIraSl9dmFyIGo9VS5nZXRBbGxFdmVudHMoKTtTLmNsZWFyKCk7dmFyIGs9e1wiY2xhc3NcIjphLm5hbWUsbmFtZTpkLGJhY2tUcmFjZXM6ZSx1c2VyQWN0aW9uczpqLG5ldDpudWxsLGN1c3RvbURhdGE6Z3x8bnVsbCx0YWdzOmMudGFncyxzb3VyY2VtYXA6SixyZXF1ZXN0Ont1cmw6Yi5sb2NhdGlvbi5ocmVmLHVhOm5hdmlnYXRvci51c2VyQWdlbnR9fTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiB5JiYoay5ncm91cGluZ0tleT15KGspKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiB6KXt2YXIgbD16KGspO2wmJm0oTixrKX1lbHNlIG0oTixrKX1mdW5jdGlvbiBtKGMsZCl7aWYoRyYmRy5sZW5ndGgmJi0xPT09Ry5pbmRleE9mKGxvY2F0aW9uLmhvc3QpKXJldHVybiB2b2lkIFIubG9nKFwiQXRhdHVzOiBjYW5jZWxpbmcgc2VuZCBkdWUgdG8gbm90IGEgYWxsb3dlZCBkb21haW5cIik7aWYoZygpKXtpZighZC50cyl7dmFyIGU9YS5zY3JlZW58fGgoKTtkLnRzPShuZXcgRGF0ZSkuZ2V0VGltZSgpLGQuYXBpa2V5PW8sZC5yZXF1ZXN0PWQucmVxdWVzdHx8e30sZC5yZXF1ZXN0LnVybD1kLnJlcXVlc3QudXJsfHxiLmxvY2F0aW9uLmhyZWYsZC5yZXF1ZXN0LnVhPWQucmVxdWVzdC51YXx8bmF2aWdhdG9yLnVzZXJBZ2VudCxkLnJlcXVlc3Qudz1lLndpZHRoLGQucmVxdWVzdC5oPWUuaGVpZ2h0LGQudj1yfHxcIlwiLGQuX3Y9Qnx8XCJcIn1xJiYoZC5jaWQ9cS51c2VySWR8fG51bGwpLFIubG9nKFwiU2VuZGluZyBkYXRhIHRvIEF0YXR1cyBSZWNlaXZlcjpcIixkKSxuKGMsSlNPTi5zdHJpbmdpZnkoZCkpfX1mdW5jdGlvbiBuKGEsYil7dmFyIGM9bmV3IEltYWdlLGQ9TSthK1wiP2RhdGE9XCIrZW5jb2RlVVJJQ29tcG9uZW50KGIpO2MuY3Jvc3NPcmlnaW49XCJhbm9ueW1vdXNcIixjLm9ubG9hZD1mdW5jdGlvbigpe2soKX0sYy5vbmVycm9yPWMub25hYm9ydD1mdW5jdGlvbigpe0kmJmE9PT1OJiZpKGIpfSxjLnNyYz1kfXZhciBvLHAscSxyLHMsdCx1LHYsdyx4LHkseixBLEI9XCIyLjMuMTJcIixDPVRyYWNlS2l0Lm5vQ29uZmxpY3QoKSxEPWEuYXRhdHVzLEU9W10sRj0hMSxHPVtdLEg9ITEsST0hMSxKPSExLEs9ITEsTD0hMSxNPVwiaHR0cHM6Ly9ici1yeC5hdGF0dXMuY29tXCIsTj1cIi90cmFjay9icm93c2VyL2Vycm9yc1wiLE89XCIvdHJhY2svYnJvd3Nlci9wZXJmXCIsUD1cIi90cmFjay9icm93c2VyL3BlcmYvYWpheFwiLFE9XCIvdHJhY2svYnJvd3Nlci9wZXJmL3R4blwiO2MmJihBPWMoYikpO3ZhciBSPXtpc0Jvb2xlYW46ZnVuY3Rpb24oYSl7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGEmJlwiYm9vbGVhblwiPT10eXBlb2YgYX0saXNTdHJpbmc6ZnVuY3Rpb24oYSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGF9LGlzQXJyYXk6ZnVuY3Rpb24oYSl7cmV0dXJuXCJbb2JqZWN0IEFycmF5XVwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGEpfSxlbmRzV2l0aDpmdW5jdGlvbihhLGIpe3JldHVybiBhJiZiPy0xIT09YS5pbmRleE9mKGIsYS5sZW5ndGgtYi5sZW5ndGgpOiExfSxqb2luUmVnRXhwOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYixjPVtdLGQ9MCxlPWEubGVuZ3RoO2U+ZDtkKyspYj1hW2RdLFIuaXNTdHJpbmcoYik/Yy5wdXNoKGIucmVwbGFjZSgvKFsuKis/XFxePSE6JHt9KCl8XFxbXFxdXFwvXFxcXF0pL2csXCJcXFxcJDFcIikpOmImJmIuc291cmNlJiZjLnB1c2goYi5zb3VyY2UpO3JldHVybiBuZXcgUmVnRXhwKGMuam9pbihcInxcIiksXCJpXCIpfSxnZXRUYXJnZXRVcmw6ZnVuY3Rpb24oYil7cmV0dXJuIGEuWERvbWFpblJlcXVlc3QmJkgmJihiPWIuc2xpY2UoNikpLGJ9LG5vdzpmdW5jdGlvbigpe3JldHVybihuZXcgRGF0ZSkuZ2V0VGltZSgpfSxwYWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGE9U3RyaW5nKGEpLDE9PT1hLmxlbmd0aCYmKGE9XCIwXCIrYSksYX0sbWVyZ2U6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPXt9O2ZvcihjIGluIGEpZFtjXT1hW2NdO2ZvcihjIGluIGIpZFtjXT1iW2NdO3JldHVybiBkfSxtZXJnZUFycmF5OmZ1bmN0aW9uKGEsYil7cmV0dXJuIG51bGwhPWI/YS5jb25jYXQoYik6YX0sZm9yRWFjaDpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz0wO2M8YS5sZW5ndGg7YysrKWIuY2FsbChudWxsLGMsYVtjXSl9LGlzRW1wdHk6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiIGluIGEpaWYoYS5oYXNPd25Qcm9wZXJ0eShiKSlyZXR1cm4hMTtyZXR1cm4hMH0sZ2V0UmFuZG9tSW50OmZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguZmxvb3IoOTAwNzE5OTI1NDc0MDk5MipNYXRoLnJhbmRvbSgpKX0sbG9nOmZ1bmN0aW9uKGIsYyl7RiYmYS5jb25zb2xlJiZhLmNvbnNvbGUubG9nJiYoYS5jb25zb2xlLmxvZyhiKSxjJiZhLmNvbnNvbGUubG9nKGMpKX0sYmluZDpmdW5jdGlvbihhLGIpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBhLmFwcGx5KGIsQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSl9fSxjYW5BbGxvd0luc2VjdXJlU3VibWlzc2lvbnM6ZnVuY3Rpb24oKXt2YXIgYj1hLm5hdmlnYXRvci51c2VyQWdlbnQsYz1iLm1hdGNoKC9UcmlkZW50XFwvKFtcXGQuXSspLyksZD1jJiZcIjcuMFwiPT09Y1sxXT8xMTooYj1iLm1hdGNoKC9NU0lFIChbXFxkLl0rKS8pKT9wYXJzZUludChiWzFdLDEwKTohMTtyZXR1cm4gZCYmOT49ZH0sdXVpZDQ6ZnVuY3Rpb24oKXtyZXR1cm5cInh4eHh4eHh4eHh4eDR4eHh5eHh4eHh4eHh4eHh4eHh4XCIucmVwbGFjZSgvW3h5XS9nLGZ1bmN0aW9uKGEpe3ZhciBiPTE2Kk1hdGgucmFuZG9tKCl8MCxjPVwieFwiPT09YT9iOjMmYnw4O3JldHVybiBjLnRvU3RyaW5nKDE2KX0pfSxhZGRFdmVudExpc3RlbmVyOmZ1bmN0aW9uKGIsYyxkKXtyZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2YgYS5hdHRhY2hFdmVudD9hLmF0dGFjaEV2ZW50KFwib25cIitiLGMpOmEuYWRkRXZlbnRMaXN0ZW5lcj9hLmFkZEV2ZW50TGlzdGVuZXIoYixjLGQpOnZvaWQgMH0sYXJyYXlGcm9tT2JqZWN0OmZ1bmN0aW9uKGEpe3ZhciBiPVtdO2Zvcih2YXIgYyBpbiBhKWEuaGFzT3duUHJvcGVydHkoYykmJmIucHVzaChhW2NdKTtyZXR1cm4gYn19LFM9e2V2ZW50T2JqZWN0Ont9LGFsbDpmdW5jdGlvbihhKXtmb3IodmFyIGI9dGhpcy5nZXRFdmVudE9iamVjdChhKSxjPVtdLGQ9MDtkPGIubGVuZ3RoO2QrKyljLnB1c2goYltkXS52YWx1ZSk7cmV0dXJuIGN9LGNsZWFyOmZ1bmN0aW9uKCl7Zm9yKHZhciBhIGluIHRoaXMuZXZlbnRPYmplY3QpdGhpcy5ldmVudE9iamVjdC5oYXNPd25Qcm9wZXJ0eShhKSYmKHRoaXMuZXZlbnRPYmplY3RbYV0ubGVuZ3RoPTApfSxhZGQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdldEV2ZW50T2JqZWN0KGEpLGQ9Ui51dWlkNCgpO3JldHVybiBjLnB1c2goe2tleTpkLHZhbHVlOmJ9KSx0aGlzLnRydW5jYXRlRXZlbnRPYmplY3QoYSwxMCksZH0sZ2V0OmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPXRoaXMuZ2V0RXZlbnRPYmplY3QoYSksZD0wO2Q8Yy5sZW5ndGg7ZCsrKWlmKGNbZF0ua2V5PT09YilyZXR1cm4gY1tkXS52YWx1ZTtyZXR1cm4hMX0sZ2V0RXZlbnRPYmplY3Q6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZXZlbnRPYmplY3RbYV18fCh0aGlzLmV2ZW50T2JqZWN0W2FdPVtdKSx0aGlzLmV2ZW50T2JqZWN0W2FdfSx0cnVuY2F0ZUV2ZW50T2JqZWN0OmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5nZXRFdmVudE9iamVjdChhKTtjLmxlbmd0aD5iJiYodGhpcy5ldmVudE9iamVjdFthXT1jLnNsaWNlKGMubGVuZ3RoLWIpKX19LFQ9e2F0dGFjaDpmdW5jdGlvbihiLGMsZCxlLGYpe2I9Ynx8YS5jb25zb2xlfHx7fTtmb3IodmFyIGc9Znx8W1wibG9nXCIsXCJkZWJ1Z1wiLFwiaW5mb1wiLFwid2FyblwiLFwiZXJyb3JcIl0saD1nLnBvcCgpLGk9ZnVuY3Rpb24oYSxiLGQpe2MmJlMuYWRkKFwidXNlclwiLHt0czpSLm5vdygpLGM6XCJjb25zb2xlXCIsbDphLG06Yn0pLFwiZXJyb3JcIj09PWEmJmUmJlYubm90aWZ5KG5ldyBFcnJvcihiKSxkKX07aDspdGhpcy53cmFwQ29uc29sZU1ldGhvZChiLGgsZCxpKSxoPWcucG9wKCl9LHdyYXBDb25zb2xlTWV0aG9kOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPWFbYl0sZj1hO2IgaW4gYSYmKGFbYl09ZnVuY3Rpb24oKXt2YXIgYT1bXS5zbGljZS5jYWxsKGFyZ3VtZW50cyksZz1cIlwiK2Euam9pbihcIiBcIiksaD17bGV2ZWw6Yixsb2dnZXI6XCJjb25zb2xlXCJ9O2QmJmQoYixnLGgpLGUmJmMmJkZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseS5jYWxsKGUsZixhKX0pfX0sVT17YXR0YWNoOmZ1bmN0aW9uKCl7dmFyIGE9Ui5iaW5kKHRoaXMub25Eb2N1bWVudENsaWNrZWQsdGhpcyksYz1SLmJpbmQodGhpcy5vbklucHV0Q2hhbmdlZCx0aGlzKTtiLmFkZEV2ZW50TGlzdGVuZXI/KGIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsYSwhMCksYi5hZGRFdmVudExpc3RlbmVyKFwiYmx1clwiLGMsITApKTpiLmF0dGFjaEV2ZW50JiYoYi5hdHRhY2hFdmVudChcIm9uY2xpY2tcIixhKSxiLmF0dGFjaEV2ZW50KFwib25mb2N1c291dFwiLGMpKX0sd3JpdGVVc2VyRXZlbnQ6ZnVuY3Rpb24oYSxiLGMsZCl7XCJwYXNzd29yZFwiPT09dGhpcy5nZXRFbGVtZW50VHlwZShhKSYmKGM9dm9pZCAwKSxTLmFkZChcInVzZXJcIix7dHM6Ui5ub3coKSxhOmIsZTp0aGlzLmdldE91dGVySFRNTChhKSx2OnRoaXMuZ2V0VmFsdWVLaW5kKGMsZCl9KX0sb25Eb2N1bWVudENsaWNrZWQ6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5nZXRFbGVtZW50RnJvbUV2ZW50KGEpO2ImJmIudGFnTmFtZSYmKHRoaXMuaXNUYXJnZXQoYixcImFcIil8fHRoaXMuaXNUYXJnZXQoYixcImJ1dHRvblwiKXx8dGhpcy5pc1RhcmdldChiLFwiaW5wdXRcIixbXCJidXR0b25cIixcInN1Ym1pdFwiXSk/dGhpcy53cml0ZVVzZXJFdmVudChiLFwiY2xpY2tcIik6dGhpcy5pc1RhcmdldChiLFwiaW5wdXRcIixbXCJjaGVja2JveFwiLFwicmFkaW9cIl0pJiZ0aGlzLndyaXRlVXNlckV2ZW50KGIsXCJjaGVja1wiLGIudmFsdWUsYi5jaGVja2VkKSl9LG9uSW5wdXRDaGFuZ2VkOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ2V0RWxlbWVudEZyb21FdmVudChhKTtiJiZiLnRhZ05hbWUmJih0aGlzLmlzVGFyZ2V0KGIsXCJ0ZXh0YXJlYVwiKT90aGlzLndyaXRlVXNlckV2ZW50KGIsXCJpbnB1dFwiLGIudmFsdWUpOnRoaXMuaXNUYXJnZXQoYixcInNlbGVjdFwiKSYmYi5vcHRpb25zJiZiLm9wdGlvbnMubGVuZ3RoP3RoaXMub25TZWxlY3RJbnB1dENoYW5nZWQoYik6dGhpcy5pc1RhcmdldChiLFwiaW5wdXRcIikmJiF0aGlzLmlzVGFyZ2V0KGIsXCJpbnB1dFwiLFtcImJ1dHRvblwiLFwic3VibWl0XCIsXCJoaWRkZW5cIixcImNoZWNrYm94XCIsXCJyYWRpb1wiXSkmJnRoaXMud3JpdGVVc2VyRXZlbnQoYixcImlucHV0XCIsYi52YWx1ZSkpfSxvblNlbGVjdElucHV0Q2hhbmdlZDpmdW5jdGlvbihhKXtpZihhLm11bHRpcGxlKXtmb3IodmFyIGI9MDtiPGEub3B0aW9ucy5sZW5ndGg7YisrKWlmKGEub3B0aW9uc1tiXS5zZWxlY3RlZCl7dGhpcy53cml0ZVVzZXJFdmVudChhLFwic2VsZWN0XCIsYS5vcHRpb25zW2JdLnZhbHVlKTticmVha319ZWxzZSAwPD1hLnNlbGVjdGVkSW5kZXgmJmEub3B0aW9uc1thLnNlbGVjdGVkSW5kZXhdJiZ0aGlzLndyaXRlVXNlckV2ZW50KGEsXCJzZWxlY3RcIixhLm9wdGlvbnNbYS5zZWxlY3RlZEluZGV4XS52YWx1ZSl9LGdldEVsZW1lbnRGcm9tRXZlbnQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEudGFyZ2V0fHxiLmVsZW1lbnRGcm9tUG9pbnQoYS5jbGllbnRYLGEuY2xpZW50WSl9LGlzVGFyZ2V0OmZ1bmN0aW9uKGEsYixjKXtpZihhLnRhZ05hbWUudG9Mb3dlckNhc2UoKSE9PWIudG9Mb3dlckNhc2UoKSlyZXR1cm4hMTtpZighYylyZXR1cm4hMDtmb3IodmFyIGQ9dGhpcy5nZXRFbGVtZW50VHlwZShhKSxlPTA7ZTxjLmxlbmd0aDtlKyspaWYoY1tlXT09PWQpcmV0dXJuITA7cmV0dXJuITF9LGdldEVsZW1lbnRUeXBlOmZ1bmN0aW9uKGEpe3JldHVybihhLmdldEF0dHJpYnV0ZShcInR5cGVcIil8fFwiXCIpLnRvTG93ZXJDYXNlKCl9LGdldE91dGVySFRNTDpmdW5jdGlvbihhKXtmb3IodmFyIGI9XCI8XCIrYS50YWdOYW1lLnRvTG93ZXJDYXNlKCksYz1hLmF0dHJpYnV0ZXMsZD0wLGU9Yy5sZW5ndGg7ZT5kO2QrKyl7dmFyIGY9Y1tkXS5uYW1lO1widmFsdWVcIiE9PWYudG9Mb3dlckNhc2UoKSYmKGIrPVwiIFwiK2YrJz1cIicrY1tkXS52YWx1ZSsnXCInKX1yZXR1cm4gYis9XCIgPlwifSxnZXRWYWx1ZUtpbmQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbnVsbD09YT9udWxsOntsZW5ndGg6YS5sZW5ndGgsY2hlY2tlZDpiLHBhdHRlcm46dGhpcy5tYXRjaElucHV0UGF0dGVybihhKX19LG1hdGNoSW5wdXRQYXR0ZXJuOmZ1bmN0aW9uKGEpe3JldHVyblwiXCI9PT1hP1wiZW1wdHlcIjovXlthLXowLTkhIyQlJicqKz0/XFxeX2B7fH1+XFwtXSsoPzpcXC5bYS16MC05ISMkJSYnKis9P1xcXl9ge3x9flxcLV0rKSpAKD86W2EtejAtOV0oPzpbYS16MC05XFwtXSpbYS16MC05XSk/XFwuKStbYS16MC05XSg/OlthLXowLTlcXC1dKlthLXowLTldKT8kLy50ZXN0KGEpP1wiZW1haWxcIjovXigwP1sxLTldfFsxMl1bMC05XXwzWzAxXSlbXFwvXFwtXSgwP1sxLTldfDFbMDEyXSlbXFwvXFwtXVxcZHs0fSQvLnRlc3QoYSl8fC9eKFxcZHs0fVtcXC9cXC1dKDA/WzEtOV18MVswMTJdKVtcXC9cXC1dMD9bMS05XXxbMTJdWzAtOV18M1swMV0pJC8udGVzdChhKT9cImRhdGVcIjovXig/Oig/OlxcKz8xXFxzKig/OlsuXFwtXVxccyopPyk/KD86XFwoXFxzKihbMi05XTFbMDItOV18WzItOV1bMDItOF0xfFsyLTldWzAyLThdWzAyLTldKVxccypcXCl8KFsyLTldMVswMi05XXxbMi05XVswMi04XTF8WzItOV1bMDItOF1bMDItOV0pKVxccyooPzpbLlxcLV1cXHMqKT8pPyhbMi05XTFbMDItOV18WzItOV1bMDItOV0xfFsyLTldWzAyLTldezJ9KVxccyooPzpbLlxcLV1cXHMqKT8oWzAtOV17NH0pKD86XFxzKig/OiN8eFxcLj98ZXh0XFwuP3xleHRlbnNpb24pXFxzKihcXGQrKSk/JC8udGVzdChhKT9cInBob25lXCI6L15cXHMqJC8udGVzdChhKT9cIndoaXRlc3BhY2VcIjovXlxcZCokLy50ZXN0KGEpP1wibnVtZXJpY1wiOlwiY2hhcmFjdGVyXCJ9LGdldEFsbEV2ZW50czpmdW5jdGlvbigpe3JldHVybiBTLmFsbChcInVzZXJcIil9fSxWPXtub0NvbmZsaWN0OmZ1bmN0aW9uKCl7cmV0dXJuIGEuYXRhdHVzPUQsVn0saXNDb25maWd1cmVkOmZ1bmN0aW9uKCl7cmV0dXJuISFvfSxjb25maWc6ZnVuY3Rpb24oYixjKXtyZXR1cm4gYz1jfHx7fSxvPWIsQy5yZW1vdGVGZXRjaGluZz0hMSx3PVtdLGMmJihwPWMuY3VzdG9tRGF0YSxFPWMudGFnc3x8W10sSj0hKCFjLmVuYWJsZVNvdXJjZW1hcCYmIWMuc291cmNlbWFwKSxzPSEhYy5kaXNhYmxlVXNlckFjdGlvbnMsdD0hIWMuZGlzYWJsZUFqYXhNb25pdG9yaW5nLHU9ISFjLmRpc2FibGVSVU0sRj0hIWMuZGVidWdNb2RlLGMuaWdub3JlRXJyb3JzJiZSLmlzQXJyYXkoYy5pZ25vcmVFcnJvcnMpJiYodz1jLmlnbm9yZUVycm9ycyksVi5zZXRBbGxvd2VkRG9tYWlucyhjLmFsbG93ZWREb21haW5zKSxWLnNldFZlcnNpb24oYy52ZXJzaW9uKSxWLmVuYWJsZU9mZmxpbmUoYy5lbmFibGVPZmZsaW5lfHxjLm9mZmxpbmUpLFYub25CZWZvcmVFcnJvclNlbmQoYy5iZWZvcmVFcnJvclNlbmQpLFYuc2V0R3JvdXBpbmdLZXlDYWxsYmFjayhjLmdyb3VwaW5nS2V5Q2FsbGJhY2spKSxIPVIuY2FuQWxsb3dJbnNlY3VyZVN1Ym1pc3Npb25zKCksdy5wdXNoKC9eU2NyaXB0IGVycm9yXFwuPyQvKSx3LnB1c2goL15KYXZhc2NyaXB0IGVycm9yOiBTY3JpcHQgZXJyb3JcXC4/IG9uIGxpbmUgMCQvKSx3PVIuam9pblJlZ0V4cCh3KSxrKCksdj17ZW5hYmxlZDohMCx0aW1lbGluZTohMCxkaXNwbGF5OiEwLGVycm9yOiEwLGxldmVsczpudWxsfSxSLmlzQm9vbGVhbihjLmNvbnNvbGUpJiYodi5lbmFibGVkPWMuY29uc29sZSksUi5pc0Jvb2xlYW4oYy5jb25zb2xlVGltZWxpbmUpJiYodi50aW1lbGluZT1jLmNvbnNvbGVUaW1lbGluZSksUi5pc0Jvb2xlYW4oYy5jb25zb2xlRGlzcGxheSkmJih2LmRpc3BsYXk9Yy5jb25zb2xlRGlzcGxheSksUi5pc0Jvb2xlYW4oYy5jb25zb2xlRXJyb3JOb3RpZnkpJiYodi5lcnJvcj1jLmNvbnNvbGVFcnJvck5vdGlmeSksUi5pc0FycmF5KGMuY29uc29sZVRpbWVsaW5lTGV2ZWxzKSYmKHYubGV2ZWxzPWMuY29uc29sZVRpbWVsaW5lTGV2ZWxzKSx2LmVuYWJsZWQmJlwiY29uc29sZVwiaW4gYSYmYS5jb25zb2xlLmxvZyYmVC5hdHRhY2goYS5jb25zb2xlLHYudGltZWxpbmUsdi5kaXNwbGF5LHYuZXJyb3Isdi5sZXZlbHMpLHN8fFUuYXR0YWNoKCksdHx8dXx8Vi5fX2F0dGFjaEFqYXhIb29rcygpLFZ9LGluc3RhbGw6ZnVuY3Rpb24oKXtyZXR1cm4gZygpPyhDLnJlcG9ydC5zdWJzY3JpYmUobCksQy5leHRlbmRUb0FzeW5jaHJvbm91c0NhbGxiYWNrcygpLEEmJksmJkEuYWpheEVycm9yKGYpLFYpOnZvaWQgMH0sdW5pbnN0YWxsOmZ1bmN0aW9uKCl7cmV0dXJuIG89bnVsbCxDLnJlcG9ydC51bnN1YnNjcmliZShsKSxBJiZLJiZBLnVuYmluZChcImFqYXhFcnJvclwiLGYpLFZ9LHNldEN1c3RvbURhdGE6ZnVuY3Rpb24oYSl7cmV0dXJuIHA9YSxWfSxzZXRUYWdzOmZ1bmN0aW9uKGEpe3JldHVybiBFPWEsVn0sc2V0QWxsb3dlZERvbWFpbnM6ZnVuY3Rpb24oYSl7cmV0dXJuIGEmJlIuaXNBcnJheShhKSYmKEc9YSksVn0sZ2V0QWxsb3dlZERvbWFpbnM6ZnVuY3Rpb24oKXtyZXR1cm4gR30sc2V0VXNlcjpmdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gcT17fSxhJiYocS51c2VySWQ9XCJcIithKSxiJiYocS5lbWFpbD1cIlwiK2IpLGMmJihxLmZpcnN0TmFtZT1cIlwiK2MpLGQmJihxLmxhc3ROYW1lPVwiXCIrZCksVn0sc2V0VmVyc2lvbjpmdW5jdGlvbihhKXtyZXR1cm4gYSYmKHI9XCJcIithKSxWfSxlbmFibGVPZmZsaW5lOmZ1bmN0aW9uKGEpe3JldHVybiBSLmlzQm9vbGVhbihhKSYmKEk9YSksVn0sb25CZWZvcmVFcnJvclNlbmQ6ZnVuY3Rpb24oYSl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgYSYmKHo9YSksVn0sc2V0R3JvdXBpbmdLZXlDYWxsYmFjazpmdW5jdGlvbihhKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBhJiYoeT1hKSxWfSxzZXRBUElFbmRwb2ludDpmdW5jdGlvbihhKXtyZXR1cm4gTT1hLFZ9LGluaXQ6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBjJiYoYj1ifHx7fSxiLmN1c3RvbURhdGE9YyksVi5jb25maWcoYSxiKX0sd2l0aEN1c3RvbURhdGE6ZnVuY3Rpb24oYSl7cmV0dXJuIFYuc2V0Q3VzdG9tRGF0YShhKX0sd2l0aFRhZ3M6ZnVuY3Rpb24oYSl7cmV0dXJuIFYuc2V0VGFncyhhKX0sYXR0YWNoOmZ1bmN0aW9uKCl7cmV0dXJuIFYuaW5zdGFsbCgpfSxkZXRhY2g6ZnVuY3Rpb24oKXtyZXR1cm4gVi51bmluc3RhbGwoKX0sbm90aWZ5OmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gVi5zZW5kKGEsYixjKX0sc2VuZFBlcmY6ZnVuY3Rpb24oYSl7cmV0dXJuIHU/dm9pZCBSLmxvZyhcIlJVTSBpcyBkaXNhYmxlZC4gUGxlYXNlIGVuYWJsZSBpdCBpbiB0aGUgY29uZmlnIG9wdGlvbnMuXCIpOm0oTyxhKX0sc2VuZEFqYXhQZXJmOmZ1bmN0aW9uKGEpe3JldHVybiB1P3ZvaWQgUi5sb2coXCJSVU0gaXMgZGlzYWJsZWQuIFBsZWFzZSBlbmFibGUgaXQgaW4gdGhlIGNvbmZpZyBvcHRpb25zLlwiKTptKFAsYSl9LHNlbmRUeG5QZXJmOmZ1bmN0aW9uKGEpe3JldHVybiBtKFEsYSl9LHNlbmQ6ZnVuY3Rpb24oYSxiLGMpe3RyeXtsKEMuY29tcHV0ZVN0YWNrVHJhY2UoYSkse2N1c3RvbURhdGE6Ui5tZXJnZShwLGIpLHRhZ3M6Ui5tZXJnZUFycmF5KEUsYyl9KX1jYXRjaChkKXtpZihhIT09ZCl0aHJvdyBkfXJldHVybiBWfSxfaGVscGVyOlJ9O2EuYXRhdHVzPVZ9KHdpbmRvdyxkb2N1bWVudCx3aW5kb3cualF1ZXJ5KSxmdW5jdGlvbihhLGIsYyl7ZnVuY3Rpb24gZChhKXthLnBsPD0wfHxhdGF0dXMuc2VuZFBlcmYoYSl9ZnVuY3Rpb24gZSgpe3ZhciBiPWEucGVyZm9ybWFuY2V8fGEubW96UGVyZm9ybWFuY2V8fGEubXNQZXJmb3JtYW5jZXx8YS53ZWJraXRQZXJmb3JtYW5jZSxjPWIudGltaW5nLGU9Yi5uYXZpZ2F0aW9uO2lmKDA9PT1jLmxvYWRFdmVudEVuZClyZXR1cm4hMTtjbGVhckludGVydmFsKGkpLGk9bnVsbDt2YXIgZj1jLm5hdmlnYXRpb25TdGFydDswPj1mJiYoZj1jLmZldGNoU3RhcnQpO3ZhciBnPXt9O2Zvcih2YXIgaCBpbiBqKWdbaltoXV09LTEsaCBpbiBjJiYoY1toXTw9MHx8KGdbaltoXV09Y1toXS1mKSk7dmFyIGs9e250eTplLnR5cGUscmM6ZS5yZWRpcmVjdENvdW50LG50OmcucnBzLWcubnMsZHA6Zy5kY2UtZy5ycHMscHI6Zy5sZS1nLmRjZSxmZTpnLmxlLWcucnBzLHBsOmcubGUtZy5uc307ZChrKX1mdW5jdGlvbiBmKCl7aWYoIWh8fCFoLmJEb25lKXJldHVybiExO2NsZWFySW50ZXJ2YWwoaSksaT0hMTt2YXIgYT1oLmdldE1lYXN1cmVzKCk7aWYobnVsbCE9YSYmbnVsbCE9YS5iYWNrZW5kJiZudWxsIT1hLmZyb250ZW5kJiZudWxsIT1hW1wicGFnZSBsb2FkIHRpbWVcIl0mJm51bGwhPWFbXCJ0b3RhbCBsb2FkIHRpbWVcIl0pe3ZhciBiPWEuYmFja2VuZCxjPWEuYmFja2VuZCthLmZyb250ZW5kLGU9e250eTowLHJjOjAsbnQ6YixkcDpjLWIscHI6YVtcInRvdGFsIGxvYWQgdGltZVwiXS1jLGZlOmFbXCJ0b3RhbCBsb2FkIHRpbWVcIl0tYixwbDphW1widG90YWwgbG9hZCB0aW1lXCJdfTtkKGUpfX12YXIgZz0obmV3IERhdGUpLmdldFRpbWUoKSxoPWh8fHt9O2gucT1oLnF8fFtdLGgudmVyc2lvbj1cIjAuM1wiLGgudGFyZ2V0T3JpZ2luPWIubG9jYXRpb24ucHJvdG9jb2wrXCIvL1wiK2IubG9jYXRpb24uaG9zdG5hbWUsaC5iUG9zdE1lc3NhZ2U9ITEsaC5iZWFjb25Vcmw9aC5iZWFjb25Vcmx8fFwiL2ltYWdlcy9iZWFjb24uZ2lmXCIsaC5hdXRvcnVuPSExLGguaW5pdD1mdW5jdGlvbigpe2lmKGguYkRvbmU9ITEsaC5iVW5sb2FkZWQ9ITEsaC5tYXJrcz17fSxoLm1lYXN1cmVzPXt9LGguc3RhcnRzPXt9LGguZmluZFN0YXJ0VGltZSgpLGguYWRkRXZlbnRMaXN0ZW5lcihcImJlZm9yZXVubG9hZFwiLGguYmVmb3JlVW5sb2FkLCExKSxoLmFkZEV2ZW50TGlzdGVuZXIoXCJwYWdlaGlkZVwiLGguYmVmb3JlVW5sb2FkLCExKSxoLmFkZEV2ZW50TGlzdGVuZXIoXCJ1bmxvYWRcIixoLmJlZm9yZVVubG9hZCwhMSksaC5wcm9jZXNzUSgpLFwiY29tcGxldGVcIj09PWIucmVhZHlTdGF0ZSl7dmFyIGM9YS5wZXJmb3JtYW5jZXx8YS5tb3pQZXJmb3JtYW5jZXx8YS5tc1BlcmZvcm1hbmNlfHxhLndlYmtpdFBlcmZvcm1hbmNlO2MmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBjLnRpbWluZyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGMudGltaW5nLmxvYWRFdmVudEVuZCYmKGgubWFyayhcImZpcnN0Ynl0ZVwiLGMudGltaW5nLnJlc3BvbnNlU3RhcnQpLGgubWFyayhcIm9ubG9hZFwiLGMudGltaW5nLmxvYWRFdmVudEVuZCkpLGguZG9uZSgpfWVsc2UgaC5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLGgub25sb2FkLCExKX0saC5wcm9jZXNzUT1mdW5jdGlvbigpe2Zvcih2YXIgYT1oLnEubGVuZ3RoLGI9MDthPmI7YisrKXt2YXIgYz1oLnFbYl0sZD1jWzBdO1wibWFya1wiPT09ZD9oLm1hcmsoY1sxXSxjWzJdKTpcIm1lYXN1cmVcIj09PWQ/aC5tZWFzdXJlKGNbMV0sY1syXSxjWzNdKTpcImRvbmVcIj09PWQmJmguZG9uZShjWzFdKX19LGgubWFyaz1mdW5jdGlvbihiLGMpe3JldHVybiBoLmRwcmludChcIlJVTV9FUElTT0RFUy5tYXJrOiBcIitiK1wiLCBcIitjKSxiPyhoLm1hcmtzW2JdPXBhcnNlSW50KGN8fChuZXcgRGF0ZSkuZ2V0VGltZSgpKSxoLmJQb3N0TWVzc2FnZSYmYS5wb3N0TWVzc2FnZShcIlJVTV9FUElTT0RFUzptYXJrOlwiK2IrXCI6XCIrYyxoLnRhcmdldE9yaWdpbiksdm9pZChcImZpcnN0Ynl0ZVwiPT09Yj9oLm1lYXN1cmUoXCJiYWNrZW5kXCIsXCJzdGFydHRpbWVcIixcImZpcnN0Ynl0ZVwiKTpcIm9ubG9hZFwiPT09Yj8oaC5tZWFzdXJlKFwiZnJvbnRlbmRcIixcImZpcnN0Ynl0ZVwiLFwib25sb2FkXCIpLGgubWVhc3VyZShcInBhZ2UgbG9hZCB0aW1lXCIsXCJzdGFydHRpbWVcIixcIm9ubG9hZFwiKSk6XCJkb25lXCI9PT1iJiZoLm1lYXN1cmUoXCJ0b3RhbCBsb2FkIHRpbWVcIixcInN0YXJ0dGltZVwiLFwiZG9uZVwiKSkpOnZvaWQgaC5kcHJpbnQoXCJFcnJvcjogbWFya05hbWUgaXMgdW5kZWZpbmVkIGluIFJVTV9FUElTT0RFUy5tYXJrLlwiKX0saC5tZWFzdXJlPWZ1bmN0aW9uKGIsYyxkKXtpZihoLmRwcmludChcIlJVTV9FUElTT0RFUy5tZWFzdXJlOiBcIitiK1wiLCBcIitjK1wiLCBcIitkKSwhYilyZXR1cm4gdm9pZCBoLmRwcmludChcIkVycm9yOiBlcGlzb2RlTmFtZSBpcyB1bmRlZmluZWQgaW4gUlVNX0VQSVNPREVTLm1lYXN1cmUuXCIpO3ZhciBlO2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBjKWU9XCJudW1iZXJcIj09dHlwZW9mIGgubWFya3NbYl0/aC5tYXJrc1tiXToobmV3IERhdGUpLmdldFRpbWUoKTtlbHNlIGlmKFwibnVtYmVyXCI9PXR5cGVvZiBoLm1hcmtzW2NdKWU9aC5tYXJrc1tjXTtlbHNle2lmKFwibnVtYmVyXCIhPXR5cGVvZiBjKXJldHVybiB2b2lkIGguZHByaW50KFwiRXJyb3I6IHVuZXhwZWN0ZWQgc3RhcnROYW1lT3JUaW1lIGluIFJVTV9FUElTT0RFUy5tZWFzdXJlOiBcIitjKTtlPWN9dmFyIGY7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIGQpZj0obmV3IERhdGUpLmdldFRpbWUoKTtlbHNlIGlmKFwibnVtYmVyXCI9PXR5cGVvZiBoLm1hcmtzW2RdKWY9aC5tYXJrc1tkXTtlbHNle2lmKFwibnVtYmVyXCIhPXR5cGVvZiBkKXJldHVybiB2b2lkIGguZHByaW50KFwiRXJyb3I6IHVuZXhwZWN0ZWQgZW5kTmFtZU9yVGltZSBpbiBSVU1fRVBJU09ERVMubWVhc3VyZTogXCIrZCk7Zj1kfWguc3RhcnRzW2JdPXBhcnNlSW50KGUpLGgubWVhc3VyZXNbYl09cGFyc2VJbnQoZi1lKSxoLmJQb3N0TWVzc2FnZSYmYS5wb3N0TWVzc2FnZShcIlJVTV9FUElTT0RFUzptZWFzdXJlOlwiK2IrXCI6XCIrZStcIjpcIitmLGgudGFyZ2V0T3JpZ2luKX0saC5kb25lPWZ1bmN0aW9uKGIpe2guYkRvbmU9ITAsaC5tYXJrKFwiZG9uZVwiKSxoLmJQb3N0TWVzc2FnZSYmYS5wb3N0TWVzc2FnZShcIlJVTV9FUElTT0RFUzpkb25lXCIsaC50YXJnZXRPcmlnaW4pLFwiZnVuY3Rpb25cIj09dHlwZW9mIGImJmIoKX0saC5nZXRNYXJrcz1mdW5jdGlvbigpe3JldHVybiBoLm1hcmtzfSxoLmdldE1lYXN1cmVzPWZ1bmN0aW9uKCl7cmV0dXJuIGgubWVhc3VyZXN9LGguZ2V0U3RhcnRzPWZ1bmN0aW9uKCl7cmV0dXJuIGguc3RhcnRzfSxoLmZpbmRTdGFydFRpbWU9ZnVuY3Rpb24oKXt2YXIgYT1oLmZpbmRTdGFydFdlYlRpbWluZygpfHxoLmZpbmRTdGFydENvb2tpZSgpO2EmJmgubWFyayhcInN0YXJ0dGltZVwiLGEpfSxoLmZpbmRTdGFydFdlYlRpbWluZz1mdW5jdGlvbigpe3ZhciBiLGM9YS5wZXJmb3JtYW5jZXx8YS5tb3pQZXJmb3JtYW5jZXx8YS5tc1BlcmZvcm1hbmNlfHxhLndlYmtpdFBlcmZvcm1hbmNlO3JldHVybiBjJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgYy50aW1pbmcmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBjLnRpbWluZy5uYXZpZ2F0aW9uU3RhcnQmJihiPWMudGltaW5nLm5hdmlnYXRpb25TdGFydCxoLmRwcmludChcIlJVTV9FUElTT0RFUy5maW5kU3RhcnRXZWJUaW1pbmc6IHN0YXJ0VGltZSA9IFwiK2IpKSxifSxoLmZpbmRTdGFydENvb2tpZT1mdW5jdGlvbigpe2Zvcih2YXIgZD1iLmNvb2tpZS5zcGxpdChcIiBcIiksZT0wO2U8ZC5sZW5ndGg7ZSsrKWlmKDA9PT1kW2VdLmluZGV4T2YoXCJSVU1fRVBJU09ERVM9XCIpKXtmb3IodmFyIGYsZyxpPWRbZV0uc3Vic3RyaW5nKFwiUlVNX0VQSVNPREVTPVwiLmxlbmd0aCkuc3BsaXQoXCImXCIpLGo9MDtqPGkubGVuZ3RoO2orKylpZigwPT09aVtqXS5pbmRleE9mKFwicz1cIikpZj1pW2pdLnN1YnN0cmluZygyKTtlbHNlIGlmKDA9PT1pW2pdLmluZGV4T2YoXCJyPVwiKSl7dmFyIGs9aVtqXS5zdWJzdHJpbmcoMik7az1rLnJlcGxhY2UoLzskLyxcIlwiKSxnPWEuZXNjYXBlKGIucmVmZXJyZXIpPT09a31pZihnJiZmKXJldHVybiBoLmRwcmludChcIlJVTV9FUElTT0RFUy5maW5kU3RhcnRDb29raWU6IHN0YXJ0VGltZSA9IFwiK2YpLGZ9cmV0dXJuIGN9LGguYmVmb3JlVW5sb2FkPWZ1bmN0aW9uKCl7aC5iVW5sb2FkZWR8fChiLmNvb2tpZT1cIlJVTV9FUElTT0RFUz1zPVwiK051bWJlcihuZXcgRGF0ZSkrXCImcj1cIithLmVzY2FwZShiLmxvY2F0aW9uKStcIjsgcGF0aD0vXCIsaC5iVW5sb2FkZWQ9ITApfSxoLm9ubG9hZD1mdW5jdGlvbigpe2gubWFyayhcIm9ubG9hZFwiKSxoLmRvbmUoKX0saC5hZGRFdmVudExpc3RlbmVyPWZ1bmN0aW9uKGIsYyxkKXtyZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2YgYS5hdHRhY2hFdmVudD9hLmF0dGFjaEV2ZW50KFwib25cIitiLGMpOmEuYWRkRXZlbnRMaXN0ZW5lcj9hLmFkZEV2ZW50TGlzdGVuZXIoYixjLGQpOnZvaWQgMH0saC5kcHJpbnQ9ZnVuY3Rpb24oKXt9LGguaW5pdCgpO3ZhciBpPW51bGwsaj17bmF2aWdhdGlvblN0YXJ0OlwibnNcIixyZWRpcmVjdFN0YXJ0OlwicmRzXCIscmVkaXJlY3RFbmQ6XCJyZGVcIix1bmxvYWRFdmVudFN0YXJ0OlwidXNcIix1bmxvYWRFdmVudEVuZDpcInVlXCIsZmV0Y2hTdGFydDpcImZzXCIsZG9tYWluTG9va3VwU3RhcnQ6XCJkbHNcIixkb21haW5Mb29rdXBFbmQ6XCJkbGVcIixjb25uZWN0U3RhcnQ6XCJjc1wiLHNlY3VyZUNvbm5lY3Rpb25TdGFydDpcInNjc1wiLGNvbm5lY3RFbmQ6XCJjZVwiLGhhbmRzaGFrZVN0YXJ0OlwiaHNcIixyZXF1ZXN0U3RhcnQ6XCJycXNcIixyZXNwb25zZVN0YXJ0OlwicnBzXCIscmVzcG9uc2VFbmQ6XCJycGVcIixkb21Mb2FkaW5nOlwiZGxcIixkb21JbnRlcmFjdGl2ZTpcImRpXCIsZG9tQ29udGVudExvYWRlZEV2ZW50U3RhcnQ6XCJkY3NcIixkb21Db250ZW50TG9hZGVkRXZlbnRFbmQ6XCJkY2VcIixkb21Db21wbGV0ZTpcImRjXCIsbG9hZEV2ZW50U3RhcnQ6XCJsc1wiLGxvYWRFdmVudEVuZDpcImxlXCJ9LGs9YS5wZXJmb3JtYW5jZXx8YS5tb3pQZXJmb3JtYW5jZXx8YS5tc1BlcmZvcm1hbmNlfHxhLndlYmtpdFBlcmZvcm1hbmNlO2smJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBrLnRpbWluZyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGsubmF2aWdhdGlvbj9pPXNldEludGVydmFsKGUsMTAwKTooaC5tYXJrKFwiZmlyc3RieXRlXCIsZyksaT1zZXRJbnRlcnZhbChmLDEwMCkpfSh3aW5kb3csZG9jdW1lbnQpLGF0YXR1cy5fX2F0dGFjaEFqYXhIb29rcz1mdW5jdGlvbigpeyFmdW5jdGlvbihhLGIpe3ZhciBjPWF0YXR1cy5faGVscGVyLGQ9e3F1ZXVlOltdLGJhdGNoU2l6ZToyNSxwcm9jZXNzaW5nOiExLGJVbmxvYWRlZDohMSxwdXNoOmZ1bmN0aW9uKGEpe1wic3RyaW5nXCI9PXR5cGVvZiBhLnVybCYmYS51cmwuaW5kZXhPZihcIi5odG1sXCIpPjB8fCh0aGlzLnF1ZXVlLnB1c2goYSksdGhpcy5xdWV1ZS5sZW5ndGg+PXRoaXMuYmF0Y2hTaXplJiZ0aGlzLl9wcm9jZXNzUXVldWUoKSl9LF9wcm9jZXNzUXVldWU6ZnVuY3Rpb24oKXtpZighdGhpcy5wcm9jZXNzaW5nJiZ0aGlzLnF1ZXVlLmxlbmd0aCl7dGhpcy5wcm9jZXNzaW5nPSEwO3RyeXtmb3IodmFyIGE9e30sYj17fSxkPTA7ZDx0aGlzLnF1ZXVlLmxlbmd0aDtkKyspe3ZhciBlLGY9dGhpcy5xdWV1ZVtkXTtpZihmLnN0YXR1czw0MDApe2U9Zi5tZXRob2QrZi51cmw7dmFyIGc9Zi5yZXNwQXZhaWxUaW1lLWYuc2VuZFRpbWUsaD1mLnJlc3BQcm9jVGltZS1mLnJlc3BBdmFpbFRpbWUsaT1mLnJlY2VpdmVkU2l6ZSxqPWYuc2VuZFNpemUsaz1hW2VdO2lmKGspe2suYysrO3ZhciBsPWsucmU7bC50PWwudCtnLGwubG89bC5sbzxnP2wubG86ZyxsLmhpPWwuaGk+Zz9sLmhpOmcsbC5zc3E9bC5zc3ErZypnO3ZhciBtPWsuY2I7bS50PW0udCtoLG0ubG89bS5sbzxoP20ubG86aCxtLmhpPW0uaGk+aD9tLmhpOmgsbS5zc3E9bS5zc3EraCpoO3ZhciBuPWsucnM7bi50PW4udCtpLG4ubG89bi5sbzxpP24ubG86aSxuLmhpPW4uaGk+aT9uLmhpOmksbi5zc3E9bi5zc3EraSppO3ZhciBvPWsuc3M7by50PW8udCtqLG8ubG89by5sbzxqP28ubG86aixvLmhpPW8uaGk+aj9vLmhpOmosby5zc3E9by5zc3EraipqfWVsc2UgYVtlXT17bTpmLm1ldGhvZCx1cmw6Zi51cmwsYzoxLHJlOnt0OmcsbG86ZyxoaTpnLHNzcTpnKmd9LGNiOnt0OmgsbG86aCxoaTpoLHNzcTpoKmh9LHJzOnt0OmYucmVjZWl2ZWRTaXplLGxvOmYucmVjZWl2ZWRTaXplLGhpOmYucmVjZWl2ZWRTaXplLHNzcTpmLnJlY2VpdmVkU2l6ZSpmLnJlY2VpdmVkU2l6ZX0sc3M6e3Q6Zi5zZW5kU2l6ZSxsbzpmLnNlbmRTaXplLGhpOmYuc2VuZFNpemUsc3NxOmYuc2VuZFNpemUqZi5zZW5kU2l6ZX19fWVsc2UgZT1mLm1ldGhvZCtmLnN0YXR1cytmLnVybCxiW2VdP2JbZV0uYysrOmJbZV09e206Zi5tZXRob2QsdXJsOmYudXJsLHN0OmYuc3RhdHVzLGM6MX19dmFyIHA9e3hocjpjLmFycmF5RnJvbU9iamVjdChhKSx4aHJFcnJvcjpjLmFycmF5RnJvbU9iamVjdChiKX07YXRhdHVzLnNlbmRBamF4UGVyZihwKX1jYXRjaChxKXtjLmxvZyhcIkVycm9yIHdoaWxlIHByb2Nlc3NpbmcgcXVldWU6IFwiLHEpfWZpbmFsbHl7dGhpcy5xdWV1ZT1bXSx0aGlzLnByb2Nlc3Npbmc9ITF9fX0sYmVmb3JlVW5sb2FkOmZ1bmN0aW9uKCl7ZC5iVW5sb2FkZWR8fChkLl9wcm9jZXNzUXVldWUoKSxkLmJVbmxvYWRlZD0hMCl9fTtjLmFkZEV2ZW50TGlzdGVuZXIoXCJiZWZvcmV1bmxvYWRcIixkLmJlZm9yZVVubG9hZCwhMSk7dmFyIGU9e3N1cHBvcnQ6ZnVuY3Rpb24oYSl7cmV0dXJuIWF8fFwiYXBwbHlcImluIGF9LGFyb3VuZDpmdW5jdGlvbihhLGIsZCxlKXtyZXR1cm4gYT1hfHxmdW5jdGlvbigpe30sZnVuY3Rpb24oKXt2YXIgZixnPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7dHJ5e2ImJihmPWIuYXBwbHkodGhpcyxnKSl9Y2F0Y2goaCl7Yy5sb2coZSxoKX12YXIgaTt0cnl7aT1hLmFwcGx5KHRoaXMsZnx8Zyl9ZmluYWxseXt0cnl7ZCYmZC5hcHBseSh0aGlzLGcpfWNhdGNoKGgpe2MubG9nKGUsaCl9fXJldHVybiBpfX0sYmVmb3JlOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGUuYXJvdW5kKGEsYil9LGFmdGVyOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGUuYXJvdW5kKGEsbnVsbCxiKX0sdGltZW91dDpmdW5jdGlvbihhKXtzZXRUaW1lb3V0KGEsMCl9LHdyYXBBZGRFdmVudExpc3RlbmVyOmZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGEsYil7aWYoKFwibG9hZFwiPT09YXx8XCJlcnJvclwiPT09YSkmJmImJnRoaXMuX2F0cnVtWGhyRGF0YSl7dmFyIGM7Yi5fX2F0cnVtSW50ZXJjZXB0b3I/Yz1iLl9fYXRydW1JbnRlcmNlcHRvcjplLnN1cHBvcnQoYik/KGM9Zy53cmFwWEhSKGIsdGhpcyxcIlhIUi5pbnZva2VFdmVudExpc3RlbmVyXCIpLGIuX19hdHJ1bUludGVyY2VwdG9yPWMpOmM9bnVsbDt2YXIgZDtyZXR1cm4gYyYmKGQ9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSxkWzFdPWMpLGR9fX0sd3JhcFJlbW92ZUV2ZW50TGlzdGVuZXI6ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oYSxiKXtpZih0aGlzLl9hdHJ1bVhockRhdGEpe3ZhciBjPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7cmV0dXJuIGIuX19hdHJ1bUludGVyY2VwdG9yJiYoY1sxXT1iLl9fYXRydW1JbnRlcmNlcHRvciksY319fSxhcm91bmRXaXRoSGFuZGxlRXZlbnQ6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGY9YTtyZXR1cm4gYSYmXCJvYmplY3RcIj09dHlwZW9mIGEmJlwidG9TdHJpbmdcImluIGEmJlwiW3hwY29ubmVjdCB3cmFwcGVkIG5zSURPTUV2ZW50TGlzdGVuZXJdXCI9PT1hLnRvU3RyaW5nKCkmJlwiaGFuZGxlRXZlbnRcImluIGEmJihmPWZ1bmN0aW9uKCl7YS5oYW5kbGVFdmVudC5hcHBseSh0aGlzLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykpfSksZS5hcm91bmQoZixiLGMsZCl9LGdldEZ1bGx5UXVhbGlmaWVkVXJsOmZ1bmN0aW9uKGEpe3ZhciBjPWIuY3JlYXRlRWxlbWVudChcImFcIik7cmV0dXJuIGMuaHJlZj1hLGMuaHJlZn19O2lmKGEuWE1MSHR0cFJlcXVlc3QmJmEuWE1MSHR0cFJlcXVlc3QucHJvdG90eXBlKXt2YXIgZj1hLlhNTEh0dHBSZXF1ZXN0LnByb3RvdHlwZTtpZighKFwib3BlblwiaW4gZiYmXCJzZW5kXCJpbiBmKSlyZXR1cm47aWYoIWUuc3VwcG9ydChmLm9wZW4pfHwhZS5zdXBwb3J0KGYuc2VuZCkpcmV0dXJuO3ZhciBnPXt9O2cuY2FwdHVyZUFqYXhUaW1pbmdzPWZ1bmN0aW9uKGEpe3ZhciBiPWEuX2F0cnVtWGhyRGF0YTtpZihiKXt2YXIgYz0obmV3IERhdGUpLmdldFRpbWUoKTsyPT09YS5yZWFkeVN0YXRlP2IuZmlyc3RCeXRlVGltZT1iLmZpcnN0Qnl0ZVRpbWV8fGM6ND09PWEucmVhZHlTdGF0ZSYmKGIucmVzcEF2YWlsVGltZT1iLnJlc3BBdmFpbFRpbWV8fGMsYi5maXJzdEJ5dGVUaW1lPWIuZmlyc3RCeXRlVGltZXx8Yyl9fSxnLnNlbmRQYXlsb2FkPWZ1bmN0aW9uKGEsYil7Yi5yZWNlaXZlZFNpemU9MCxhLnJlc3BvbnNlVHlwZSYmXCJ0ZXh0XCIhPT1hLnJlc3BvbnNlVHlwZXx8XCJzdHJpbmdcIj09dHlwZW9mIGEucmVzcG9uc2VUZXh0JiYoYi5yZWNlaXZlZFNpemU9YS5yZXNwb25zZVRleHQubGVuZ3RoKSxiLnN0YXR1cz1hLnN0YXR1cyxkLnB1c2goYil9LGcud3JhcFhIUj1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIGUuYXJvdW5kV2l0aEhhbmRsZUV2ZW50KGEsZnVuY3Rpb24oKXtnLmNhcHR1cmVBamF4VGltaW5ncyh0aGlzKX0sZnVuY3Rpb24oKXt2YXIgYT1iLl9hdHJ1bVhockRhdGE7aWYoYSYmND09PWIucmVhZHlTdGF0ZSl7dmFyIGM9KG5ldyBEYXRlKS5nZXRUaW1lKCk7YS5yZXNwUHJvY1RpbWU9YS5yZXNwUHJvY1RpbWV8fGMsZy5zZW5kUGF5bG9hZChiLGEpLGRlbGV0ZSBiLl9hdHJ1bVhockRhdGF9fSxjKX0sZy5hamF4RG9uZT1mdW5jdGlvbihhKXtpZihhLl9hdHJ1bVhockRhdGEpe3ZhciBiPShuZXcgRGF0ZSkuZ2V0VGltZSgpKzNlNCxjPWZ1bmN0aW9uKCl7Zy5jYXB0dXJlQWpheFRpbWluZ3MoYSk7dmFyIGQ9YS5fYXRydW1YaHJEYXRhO2lmKGQpe3ZhciBlPShuZXcgRGF0ZSkuZ2V0VGltZSgpOzQ9PT1hLnJlYWR5U3RhdGU/KGQucmVzcFByb2NUaW1lPWQucmVzcFByb2NUaW1lfHxlLGcuc2VuZFBheWxvYWQoYSxkKSxkZWxldGUgYS5fYXRydW1YaHJEYXRhKTpiPmU/c2V0VGltZW91dChjLDUwKTpkZWxldGUgYS5fYXRydW1YaHJEYXRhfX07YygpfX0sZi5vcGVuPWUuYXJvdW5kKGYub3BlbixmdW5jdGlvbigpe3ZhciBhPTE8PWFyZ3VtZW50cy5sZW5ndGg/U3RyaW5nKGFyZ3VtZW50c1swXSk6XCJcIixiPTI8PWFyZ3VtZW50cy5sZW5ndGg/U3RyaW5nKGFyZ3VtZW50c1sxXSk6XCJcIixjPWF0YXR1cy5nZXRBbGxvd2VkRG9tYWlucygpLGQ9ITA7aWYoYj1lLmdldEZ1bGx5UXVhbGlmaWVkVXJsKGIpLGImJmMmJmMubGVuZ3RoKXtkPSExO2Zvcih2YXIgZj0wO2Y8Yy5sZW5ndGg7ZisrKXt2YXIgZz1jW2ZdO2lmKGcmJmIuaW5kZXhPZihnKT4tMSl7ZD0hMDticmVha319fWQmJihiPWImJmIuc3BsaXQoXCI/XCIpWzBdLHRoaXMuX2F0cnVtWGhyRGF0YT17bWV0aG9kOmEsdXJsOmIsc2VuZFRpbWU6bnVsbCxzZW5kU2l6ZTpudWxsLGZpcnN0Qnl0ZVRpbWU6bnVsbCxyZXNwQXZhaWxUaW1lOm51bGwscmVzcFByb2NUaW1lOm51bGwscmVjZWl2ZWRTaXplOm51bGwscGFyZW50UGhhc2U6bnVsbH0pfSxudWxsLFwiWEhSLm9wZW5cIiksZi5zZW5kPWUuYXJvdW5kKGYuc2VuZCxmdW5jdGlvbigpe3ZhciBhPXRoaXMsYj1hLl9hdHJ1bVhockRhdGE7aWYoYil7dmFyIGM9KG5ldyBEYXRlKS5nZXRUaW1lKCk7Yi5zZW5kVGltZT1iLnNlbmRUaW1lfHxjLGIuc2VuZFNpemU9MTw9YXJndW1lbnRzLmxlbmd0aCYmYXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXS5sZW5ndGh8fDA6MDt2YXIgZD0wLGY9ZnVuY3Rpb24oKXtpZig0PT09YS5yZWFkeVN0YXRlKWcuYWpheERvbmUoYSk7ZWxzZXt2YXIgYj1udWxsO3RyeXtiPWEub25yZWFkeXN0YXRlY2hhbmdlfWNhdGNoKGMpe3JldHVybiB2b2lkIGcuYWpheERvbmUoYSl9ZCsrLGI/ZS5zdXBwb3J0KGIpP2Eub25yZWFkeXN0YXRlY2hhbmdlPWcud3JhcFhIUihiLGEsXCJYSFIub25SZWFkeVN0YXRlQ2hhbmdlXCIpOmcuYWpheERvbmUoYSk6NT5kP2UudGltZW91dChmKTpnLmFqYXhEb25lKGEpfX07ZigpfX0sbnVsbCxcIlhIUi5zZW5kXCIpLFwiYWRkRXZlbnRMaXN0ZW5lclwiaW4gZiYmXCJyZW1vdmVFdmVudExpc3RlbmVyXCJpbiBmJiZlLnN1cHBvcnQoZi5hZGRFdmVudExpc3RlbmVyKSYmZS5zdXBwb3J0KGYucmVtb3ZlRXZlbnRMaXN0ZW5lcikmJihmLmFkZEV2ZW50TGlzdGVuZXI9ZS5hcm91bmQoZi5hZGRFdmVudExpc3RlbmVyLGUud3JhcEFkZEV2ZW50TGlzdGVuZXIoKSxudWxsLFwiWEhSLmFkZEV2ZW50TGlzdGVuZXJcIiksZi5yZW1vdmVFdmVudExpc3RlbmVyPWUuYXJvdW5kKGYucmVtb3ZlRXZlbnRMaXN0ZW5lcixlLndyYXBSZW1vdmVFdmVudExpc3RlbmVyKCksbnVsbCxcIlhIUi5yZW1vdmVFdmVudExpc3RlbmVyXCIpKX19KHdpbmRvdyxkb2N1bWVudCl9LGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSxiLGMpe2lmKCEoMD49Yikpe3ZhciBkPXtuYW1lOmEsZHVyOmIsc3Q6Y307YXRhdHVzLnNlbmRUeG5QZXJmKGQpfX1mdW5jdGlvbiBjKGEpe3JldHVybiBoK1wiIFwiK2F9ZnVuY3Rpb24gZCgpe3RyeXtyZXR1cm5cImxvY2FsU3RvcmFnZVwiaW4gYSYmbnVsbCE9PWEubG9jYWxTdG9yYWdlO31jYXRjaChiKXtyZXR1cm4hMX19ZnVuY3Rpb24gZShhKXt2YXIgYj1pLm5vdygpO3RyeXtsb2NhbFN0b3JhZ2Uuc2V0SXRlbShjKGEpLGIpfWNhdGNoKGQpe319ZnVuY3Rpb24gZihhKXt2YXIgYj1udWxsLGQ9YyhhKTt0cnl7Yj1sb2NhbFN0b3JhZ2UuZ2V0SXRlbShkKSxsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShkKX1jYXRjaChlKXt9dmFyIGY9MDtyZXR1cm4gYiYmKGY9aS5ub3coKS1iKSxmfWZ1bmN0aW9uIGcoYSl7dHJ5e3ZhciBiPWMoYSk7bG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oYil9Y2F0Y2goZCl7fX12YXIgaD1cImF0YXR1cy5jb20vXCIsaT1hdGF0dXMuX2hlbHBlcixqPTEsaz0wO2F0YXR1cy5iZWdpblRyYW5zYWN0aW9uPWZ1bmN0aW9uKGEpe2QoKSYmZShhKX0sYXRhdHVzLmVuZFRyYW5zYWN0aW9uPWZ1bmN0aW9uKGEpe2lmKGQoKSl7dmFyIGM9ZihhKTtiKGEsYyxqKX19LGF0YXR1cy5mYWlsVHJhbnNhY3Rpb249ZnVuY3Rpb24oYSl7aWYoZCgpKXt2YXIgYz1mKGEpO2IoYSxjLGspfX0sYXRhdHVzLmNhbmNlbFRyYW5zYWN0aW9uPWZ1bmN0aW9uKGEpe2QoKSYmZyhhKX19KHdpbmRvdyxkb2N1bWVudCk7XHJcbi8qISBodHRwczovL2dpdGh1Yi5jb20vdHRhdWJlcnQvbm9kZS1hcnJheWJ1ZmZlci1zbGljZVxyXG4gKiAoYykgMjAxNCBUaW0gVGF1YmVydCA8dGltQHRpbXRhdWJlcnQuZGU+XHJcbiAqIGFycmF5YnVmZmVyLXNsaWNlIG1heSBiZSBmcmVlbHkgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLiovXHJcbiFmdW5jdGlvbihyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiB0KHIsdCl7cmV0dXJuIHI9MHxyfHwwLHI8MD9NYXRoLm1heChyK3QsMCk6TWF0aC5taW4ocix0KX1BcnJheUJ1ZmZlci5wcm90b3R5cGUuc2xpY2V8fChBcnJheUJ1ZmZlci5wcm90b3R5cGUuc2xpY2U9ZnVuY3Rpb24oZSxuKXt2YXIgZj10aGlzLmJ5dGVMZW5ndGgsaT10KGUsZiksYT1mO2lmKG4hPT1yJiYoYT10KG4sZikpLGk+YSlyZXR1cm4gbmV3IEFycmF5QnVmZmVyKDApO3ZhciB1PWEtaSx5PW5ldyBBcnJheUJ1ZmZlcih1KSxvPW5ldyBVaW50OEFycmF5KHkpLHM9bmV3IFVpbnQ4QXJyYXkodGhpcyxpLHUpO3JldHVybiBvLnNldChzKSx5fSl9KCk7XHJcbiFmdW5jdGlvbihlKXtmdW5jdGlvbiB0KGkpe2lmKHJbaV0pcmV0dXJuIHJbaV0udDt2YXIgbj1yW2ldPXtpOmksczohMSx0Ont9fTtyZXR1cm4gZVtpXS5jYWxsKG4udCxuLG4udCx0KSxuLnM9ITAsbi50fXZhciByPXt9O3Qubz1lLHQuYz1yLHQuZD1mdW5jdGlvbihlLHIsaSl7dC5oKGUscil8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHIse3U6ITEsbDohMCxnZXQ6aX0pfSx0Lm49ZnVuY3Rpb24oZSl7dmFyIHI9ZSYmZS5wP2Z1bmN0aW9uKCl7cmV0dXJuIGUuZGVmYXVsdH06ZnVuY3Rpb24oKXtyZXR1cm4gZX07cmV0dXJuIHQuZChyLFwiYVwiLHIpLHJ9LHQuaD1mdW5jdGlvbihlLHQpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KX0sdC5nPVwiXCIsdCh0LnY9OTYpfShbZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpLG49cigzNykscz1yKDEpOyFmdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQpe18mJmNvbnNvbGUubG9nKFwiRnJhbWV3b3JrIGFscmVhZHkgaW5pdGlhbGl6ZWRcIiksZS5tKCksaz1uZXcgRGF0ZSx0LmFwcGx5KEYpLF89Ri5yZXNvbHZlKFAuVCksRD1GLnJlc29sdmUoUC5JKSxNPV8uUygpfWZ1bmN0aW9uIHIoKXtOPUYucmVzb2x2ZShQLlIpLE4uaW5pdCgpfWZ1bmN0aW9uIGkoKXtyZXR1cm4gTn1mdW5jdGlvbiBvKCl7cmV0dXJuIEZ9ZnVuY3Rpb24gYSgpe3JldHVybiBEfWZ1bmN0aW9uIGgoKXtyZXR1cm4gX31mdW5jdGlvbiBjKGUpe3JldHVybiBMLmdldChlKX1mdW5jdGlvbiB1KGUsdCl7dmFyIHI9bmV3IEEoZSk7cmV0dXJuIHIuYXBwbHkodCksTC5zZXQoZSxyKSxyfWZ1bmN0aW9uIGwodCl7Qz1lLlAodCl9ZnVuY3Rpb24gcChlKXtyZXR1cm4gbnVsbCE9Qz9DLmNvbnRleHQucmVzb2x2ZShlKTooY29uc29sZS53YXJuKFwidW5kZWZpbmVkIGNvbnRleHRcIiksbnVsbCl9ZnVuY3Rpb24gZigpe3JldHVybiBDfWZ1bmN0aW9uIGQoKXtyZXR1cm4gXy50aW1lKCl9ZnVuY3Rpb24gZyhlLHQpe3JldHVybiBfLnNldFRpbWVvdXQoZSx0KX1mdW5jdGlvbiB2KGUpe3JldHVybiBfLmNsZWFyVGltZW91dChlKX1mdW5jdGlvbiB5KGUsdCl7cmV0dXJuIF8uc2V0SW50ZXJ2YWwoZSx0KX1mdW5jdGlvbiBtKGUpe3JldHVybiBfLmNsZWFySW50ZXJ2YWwoZSl9ZnVuY3Rpb24gRSgpe18uQSgpfWZ1bmN0aW9uIFQoKXtfJiZfLkMoKSxGLmsoKSxGPW5ldyBuLk8sTD1uZXcgcyxDPW51bGwsaz1udWxsLE09ITEsTz1udWxsLF89bnVsbCxOPW51bGwsRD1udWxsfWZ1bmN0aW9uIEkoZSl7Tz1lfWZ1bmN0aW9uIHcoKXtyZXR1cm4gT3x8KE89KG5ldyBEYXRlKS5nZXRUaW1lKCkpLChPPSg5MzAxKk8rNDkyOTcpJTIzMzI4MCkvMjMzMjgwfWZ1bmN0aW9uIFMoKXtyZXR1cm4ga31mdW5jdGlvbiBSKCl7cmV0dXJuIE19dmFyIGI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlfSgpO2IuXz1cIndzOi8vMTI3LjAuMC4xOjgwMDAvaGl2ZVwiLGUuTj1iO3ZhciBQPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZX0oKTtQLlQ9XCJUaW1lclNjaGVkdWxlclwiLFAuRD1cImlkZW50aXR5UHJvdmlkZXJcIixQLlI9XCJOZXR3b3JrQ29tcG9uZW50XCIsUC5GPVwicnRjTWFuYWdlclwiLFAuTD1cInRyYW5zcG9ydFwiLFAuTT1cImh0dHBNYW5hZ2VyXCIsUC5CPVwiaHR0cFJlcXVlc3RcIixQLkk9XCJsb2dnZXJcIixQLlU9XCJzZXJ2ZXJNYW5hZ2VyXCIsUC5IPVwic2VydmljZXNDbGllbnRcIixlLnE9UDt2YXIgQT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dGhpcy5pZD1lLHRoaXMuY29udGV4dD1uZXcgbi5PfXJldHVybiBlLnByb3RvdHlwZS5hcHBseT1mdW5jdGlvbihlKXtlLmFwcGx5KHRoaXMuY29udGV4dCl9LGV9KCk7ZS5WPUE7IWZ1bmN0aW9uKGUpe2VbZS5qPTBdPVwiSFRUUFwiLGVbZS5HPTFdPVwiUlRDXCIsZVtlLks9Ml09XCJVRFBcIn0oZS5ZfHwoZS5ZPXt9KSk7IWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIHIoKXtyZXR1cm5cIltcIitkKCkrXCJdIFtcIitlLkooKS5pZCtcIl1cIn10Llc9cn0oZS5YfHwoZS5YPXt9KSk7dmFyIEMsayxPLF8sTixELEY9bmV3IG4uTyxMPW5ldyBzLE09ITE7ZS5aPXQsZS4kPXIsZS5lZT1pLGUuc3lzdGVtPW8sZS50ZT1hLGUucmU9aCxlLlA9YyxlLmllPXUsZS5uZT1sLGUucmVzb2x2ZT1wLGUuSj1mLGUudGltZT1kLGUuc2V0VGltZW91dD1nLGUuY2xlYXJUaW1lb3V0PXYsZS5zZXRJbnRlcnZhbD15LGUuY2xlYXJJbnRlcnZhbD1tLGUuQT1FLGUubT1ULGUuc2U9SSxlLnJhbmRvbT13LGUub2U9UyxlLlM9Un0oaT10LkZyYW1ld29ya3x8KHQuRnJhbWV3b3JrPXt9KSksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbCYmKGdsb2JhbC5GcmFtZXdvcms9aSl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBpKGUsdCxyLHMpe2lmKCEodGhpcyBpbnN0YW5jZW9mIGkpKXJldHVybiBuZXcgaShlLHQscixzKTt0PXR8fE9iamVjdC5hZSxyPXJ8fE9iamVjdC5oYXNoLHM9c3x8RnVuY3Rpb24uaGUsdGhpcy5jZT10LHRoaXMudWU9cix0aGlzLmxlPXMsdGhpcy5wZT1uZXcgbih2b2lkIDAsZnVuY3Rpb24oZSxyKXtyZXR1cm4gdChlLmtleSxyLmtleSl9LGZ1bmN0aW9uKGUpe3JldHVybiByKGUua2V5KX0pLHRoaXMubGVuZ3RoPTAsdGhpcy5hZGRFYWNoKGUpfXZhciBuPShyKDEyKSxyKDYzKSkscz1yKDEzKSxvPXIoNDgpLGE9cigxNCk7ZS50PWksaS5NYXA9aSxPYmplY3QuYWRkRWFjaChpLnByb3RvdHlwZSxzLnByb3RvdHlwZSksT2JqZWN0LmFkZEVhY2goaS5wcm90b3R5cGUsby5wcm90b3R5cGUpLE9iamVjdC5hZGRFYWNoKGkucHJvdG90eXBlLGEucHJvdG90eXBlKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsXCJzaXplXCIscy5mZSksaS5wcm90b3R5cGUuZGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKGUsdGhpcy5jZSx0aGlzLnVlLHRoaXMubGUpfSxpLnByb3RvdHlwZS5sb2c9ZnVuY3Rpb24oZSx0LHIsaSl7dD10fHx0aGlzLmdlLHRoaXMucGUubG9nKGUsZnVuY3Rpb24oZSxyLGkpe3QoZS52YWx1ZS52YWx1ZSxyLGkpfSxyLGkpfSxpLnByb3RvdHlwZS5nZT1mdW5jdGlvbihlLHQpe3QoXCIga2V5OiBcIitlLmtleSksdChcIiB2YWx1ZTogXCIrZS52YWx1ZSl9fSxmdW5jdGlvbihlLHQscil7LyohXHJcbiAqXHJcbiAqIENvcHlyaWdodCAyMDA5LTIwMTYgS3JpcyBLb3dhbCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIE1JVFxyXG4gKiBsaWNlbnNlIGZvdW5kIGF0IGh0dHBzOi8vZ2l0aHViLmNvbS9rcmlza293YWwvcS9ibG9iL3YxL0xJQ0VOU0VcclxuICpcclxuICogV2l0aCBwYXJ0cyBieSBUeWxlciBDbG9zZVxyXG4gKiBDb3B5cmlnaHQgMjAwNy0yMDA5IFR5bGVyIENsb3NlIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgTUlUIFggbGljZW5zZSBmb3VuZFxyXG4gKiBhdCBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLmh0bWxcclxuICogRm9ya2VkIGF0IHJlZl9zZW5kLmpzIHZlcnNpb246IDIwMDktMDUtMTFcclxuICpcclxuICogV2l0aCBwYXJ0cyBieSBNYXJrIE1pbGxlclxyXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTEgR29vZ2xlIEluYy5cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICpcclxuICovXHJcbiFmdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBib290c3RyYXApYm9vdHN0cmFwKFwicHJvbWlzZVwiLHQpO2Vsc2V7ZS50PXQoKX19KGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gZShlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gSy5hcHBseShlLGFyZ3VtZW50cyl9fWZ1bmN0aW9uIHQoZSl7cmV0dXJuIGU9PT1PYmplY3QoZSl9ZnVuY3Rpb24gcihlKXtyZXR1cm5cIltvYmplY3QgU3RvcEl0ZXJhdGlvbl1cIj09PWVlKGUpfHxlIGluc3RhbmNlb2YgVn1mdW5jdGlvbiBpKGUsdCl7aWYoSCYmdC5zdGFjayYmXCJvYmplY3RcIj09dHlwZW9mIGUmJm51bGwhPT1lJiZlLnN0YWNrJiYtMT09PWUuc3RhY2suaW5kZXhPZih0ZSkpe2Zvcih2YXIgcj1bXSxpPXQ7aTtpPWkuc291cmNlKWkuc3RhY2smJnIudW5zaGlmdChpLnN0YWNrKTtyLnVuc2hpZnQoZS5zdGFjayk7dmFyIHM9ci5qb2luKFwiXFxuXCIrdGUrXCJcXG5cIik7ZS5zdGFjaz1uKHMpfX1mdW5jdGlvbiBuKGUpe2Zvcih2YXIgdD1lLnNwbGl0KFwiXFxuXCIpLHI9W10saT0wO2k8dC5sZW5ndGg7KytpKXt2YXIgbj10W2ldO2Eobil8fHMobil8fCFufHxyLnB1c2gobil9cmV0dXJuIHIuam9pbihcIlxcblwiKX1mdW5jdGlvbiBzKGUpe3JldHVybi0xIT09ZS5pbmRleE9mKFwiKG1vZHVsZS5qczpcIil8fC0xIT09ZS5pbmRleE9mKFwiKG5vZGUuanM6XCIpfWZ1bmN0aW9uIG8oZSl7dmFyIHQ9L2F0IC4rIFxcKCguKyk6KFxcZCspOig/OlxcZCspXFwpJC8uZXhlYyhlKTtpZih0KXJldHVyblt0WzFdLE51bWJlcih0WzJdKV07dmFyIHI9L2F0IChbXiBdKyk6KFxcZCspOig/OlxcZCspJC8uZXhlYyhlKTtpZihyKXJldHVybltyWzFdLE51bWJlcihyWzJdKV07dmFyIGk9Ly4qQCguKyk6KFxcZCspJC8uZXhlYyhlKTtyZXR1cm4gaT9baVsxXSxOdW1iZXIoaVsyXSldOnZvaWQgMH1mdW5jdGlvbiBhKGUpe3ZhciB0PW8oZSk7aWYoIXQpcmV0dXJuITE7dmFyIHI9dFswXSxpPXRbMV07cmV0dXJuIHI9PT1xJiZpPj1qJiZpPD1vZX1mdW5jdGlvbiBoKCl7aWYoSCl0cnl7dGhyb3cgbmV3IEVycm9yfWNhdGNoKGkpe3ZhciBlPWkuc3RhY2suc3BsaXQoXCJcXG5cIiksdD1lWzBdLmluZGV4T2YoXCJAXCIpPjA/ZVsxXTplWzJdLHI9byh0KTtpZighcilyZXR1cm47cmV0dXJuIHE9clswXSxyWzFdfX1mdW5jdGlvbiBjKGUpe3JldHVybiBlIGluc3RhbmNlb2YgZj9lOnkoZSk/UChlKTpiKGUpfWZ1bmN0aW9uIHUoKXtmdW5jdGlvbiBlKGUpe3Q9ZSxjLnZlJiZIJiYocy5zb3VyY2U9ZSkseihyLGZ1bmN0aW9uKHQscil7Yy55ZShmdW5jdGlvbigpe2UubWUuYXBwbHkoZSxyKX0pfSx2b2lkIDApLHI9dm9pZCAwLGk9dm9pZCAwfXZhciB0LHI9W10saT1bXSxuPVgodS5wcm90b3R5cGUpLHM9WChmLnByb3RvdHlwZSk7aWYocy5tZT1mdW5jdGlvbihlLG4scyl7dmFyIG89WShhcmd1bWVudHMpO3I/KHIucHVzaChvKSxcIndoZW5cIj09PW4mJnNbMV0mJmkucHVzaChzWzFdKSk6Yy55ZShmdW5jdGlvbigpe3QubWUuYXBwbHkodCxvKX0pfSxzLnZhbHVlT2Y9ZnVuY3Rpb24oKXtpZihyKXJldHVybiBzO3ZhciBlPWcodCk7cmV0dXJuIHYoZSkmJih0PWUpLGV9LHMuRWU9ZnVuY3Rpb24oKXtyZXR1cm4gdD90LkVlKCk6e3N0YXRlOlwicGVuZGluZ1wifX0sYy52ZSYmSCl0cnl7dGhyb3cgbmV3IEVycm9yfWNhdGNoKGUpe3Muc3RhY2s9ZS5zdGFjay5zdWJzdHJpbmcoZS5zdGFjay5pbmRleE9mKFwiXFxuXCIpKzEpfXJldHVybiBuLlRlPXMsbi5yZXNvbHZlPWZ1bmN0aW9uKHIpe3R8fGUoYyhyKSl9LG4uSWU9ZnVuY3Rpb24ocil7dHx8ZShiKHIpKX0sbi5yZWplY3Q9ZnVuY3Rpb24ocil7dHx8ZShSKHIpKX0sbi5ub3RpZnk9ZnVuY3Rpb24oZSl7dHx8eihpLGZ1bmN0aW9uKHQscil7Yy55ZShmdW5jdGlvbigpe3IoZSl9KX0sdm9pZCAwKX0sbn1mdW5jdGlvbiBsKGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcihcInJlc29sdmVyIG11c3QgYmUgYSBmdW5jdGlvbi5cIik7dmFyIHQ9dSgpO3RyeXtlKHQucmVzb2x2ZSx0LnJlamVjdCx0Lm5vdGlmeSl9Y2F0Y2goZSl7dC5yZWplY3QoZSl9cmV0dXJuIHQuVGV9ZnVuY3Rpb24gcChlKXtyZXR1cm4gbChmdW5jdGlvbih0LHIpe2Zvcih2YXIgaT0wLG49ZS5sZW5ndGg7aTxuO2krKyljKGVbaV0pLnRoZW4odCxyKX0pfWZ1bmN0aW9uIGYoZSx0LHIpe3ZvaWQgMD09PXQmJih0PWZ1bmN0aW9uKGUpe3JldHVybiBSKG5ldyBFcnJvcihcIlByb21pc2UgZG9lcyBub3Qgc3VwcG9ydCBvcGVyYXRpb246IFwiK2UpKX0pLHZvaWQgMD09PXImJihyPWZ1bmN0aW9uKCl7cmV0dXJue3N0YXRlOlwidW5rbm93blwifX0pO3ZhciBpPVgoZi5wcm90b3R5cGUpO2lmKGkubWU9ZnVuY3Rpb24ocixuLHMpe3ZhciBvO3RyeXtvPWVbbl0/ZVtuXS5hcHBseShpLHMpOnQuY2FsbChpLG4scyl9Y2F0Y2goZSl7bz1SKGUpfXImJnIobyl9LGkuRWU9cixyKXt2YXIgbj1yKCk7XCJyZWplY3RlZFwiPT09bi5zdGF0ZSYmKGkuZXhjZXB0aW9uPW4ucmVhc29uKSxpLnZhbHVlT2Y9ZnVuY3Rpb24oKXt2YXIgZT1yKCk7cmV0dXJuXCJwZW5kaW5nXCI9PT1lLnN0YXRlfHxcInJlamVjdGVkXCI9PT1lLnN0YXRlP2k6ZS52YWx1ZX19cmV0dXJuIGl9ZnVuY3Rpb24gZChlLHQscixpKXtyZXR1cm4gYyhlKS50aGVuKHQscixpKX1mdW5jdGlvbiBnKGUpe2lmKHYoZSkpe3ZhciB0PWUuRWUoKTtpZihcImZ1bGZpbGxlZFwiPT09dC5zdGF0ZSlyZXR1cm4gdC52YWx1ZX1yZXR1cm4gZX1mdW5jdGlvbiB2KGUpe3JldHVybiBlIGluc3RhbmNlb2YgZn1mdW5jdGlvbiB5KGUpe3JldHVybiB0KGUpJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLnRoZW59ZnVuY3Rpb24gbShlKXtyZXR1cm4gdihlKSYmXCJwZW5kaW5nXCI9PT1lLkVlKCkuc3RhdGV9ZnVuY3Rpb24gRShlKXtyZXR1cm4hdihlKXx8XCJmdWxmaWxsZWRcIj09PWUuRWUoKS5zdGF0ZX1mdW5jdGlvbiBUKGUpe3JldHVybiB2KGUpJiZcInJlamVjdGVkXCI9PT1lLkVlKCkuc3RhdGV9ZnVuY3Rpb24gSSgpe3JlLmxlbmd0aD0wLGllLmxlbmd0aD0wLHNlfHwoc2U9ITApfWZ1bmN0aW9uIHcoZSx0KXtzZSYmKFwib2JqZWN0XCI9PXR5cGVvZiBwcm9jZXNzJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBwcm9jZXNzLndlJiZjLnllLlNlKGZ1bmN0aW9uKCl7LTEhPT1KKGllLGUpJiYocHJvY2Vzcy53ZShcInVuaGFuZGxlZFJlamVjdGlvblwiLHQsZSksbmUucHVzaChlKSl9KSxpZS5wdXNoKGUpLHQmJnZvaWQgMCE9PXQuc3RhY2s/cmUucHVzaCh0LnN0YWNrKTpyZS5wdXNoKFwiKG5vIHN0YWNrKSBcIit0KSl9ZnVuY3Rpb24gUyhlKXtpZihzZSl7dmFyIHQ9SihpZSxlKTstMSE9PXQmJihcIm9iamVjdFwiPT10eXBlb2YgcHJvY2VzcyYmXCJmdW5jdGlvblwiPT10eXBlb2YgcHJvY2Vzcy53ZSYmYy55ZS5TZShmdW5jdGlvbigpe3ZhciByPUoobmUsZSk7LTEhPT1yJiYocHJvY2Vzcy53ZShcInJlamVjdGlvbkhhbmRsZWRcIixyZVt0XSxlKSxuZS5zcGxpY2UociwxKSl9KSxpZS5zcGxpY2UodCwxKSxyZS5zcGxpY2UodCwxKSl9fWZ1bmN0aW9uIFIoZSl7dmFyIHQ9Zih7d2hlbjpmdW5jdGlvbih0KXtyZXR1cm4gdCYmUyh0aGlzKSx0P3QoZSk6dGhpc319LGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LGZ1bmN0aW9uKCl7cmV0dXJue3N0YXRlOlwicmVqZWN0ZWRcIixyZWFzb246ZX19KTtyZXR1cm4gdyh0LGUpLHR9ZnVuY3Rpb24gYihlKXtyZXR1cm4gZih7d2hlbjpmdW5jdGlvbigpe3JldHVybiBlfSxnZXQ6ZnVuY3Rpb24odCl7cmV0dXJuIGVbdF19LHNldDpmdW5jdGlvbih0LHIpe2VbdF09cn0sZGVsZXRlOmZ1bmN0aW9uKHQpe2RlbGV0ZSBlW3RdfSxSZTpmdW5jdGlvbih0LHIpe3JldHVybiBudWxsPT09dHx8dm9pZCAwPT09dD9lLmFwcGx5KHZvaWQgMCxyKTplW3RdLmFwcGx5KGUscil9LGFwcGx5OmZ1bmN0aW9uKHQscil7cmV0dXJuIGUuYXBwbHkodCxyKX0sa2V5czpmdW5jdGlvbigpe3JldHVybiAkKGUpfX0sdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJue3N0YXRlOlwiZnVsZmlsbGVkXCIsdmFsdWU6ZX19KX1mdW5jdGlvbiBQKGUpe3ZhciB0PXUoKTtyZXR1cm4gYy55ZShmdW5jdGlvbigpe3RyeXtlLnRoZW4odC5yZXNvbHZlLHQucmVqZWN0LHQubm90aWZ5KX1jYXRjaChlKXt0LnJlamVjdChlKX19KSx0LlRlfWZ1bmN0aW9uIEEoZSl7cmV0dXJuIGYoe2JlOmZ1bmN0aW9uKCl7fX0sZnVuY3Rpb24odCxyKXtyZXR1cm4gRChlLHQscil9LGZ1bmN0aW9uKCl7cmV0dXJuIGMoZSkuRWUoKX0pfWZ1bmN0aW9uIEMoZSx0LHIpe3JldHVybiBjKGUpLlBlKHQscil9ZnVuY3Rpb24gayhlKXtyZXR1cm4gZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUsdCl7dmFyIG87aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFN0b3BJdGVyYXRpb24pe3RyeXtvPWlbZV0odCl9Y2F0Y2goZSl7cmV0dXJuIFIoZSl9cmV0dXJuIG8uZG9uZT9jKG8udmFsdWUpOmQoby52YWx1ZSxuLHMpfXRyeXtvPWlbZV0odCl9Y2F0Y2goZSl7cmV0dXJuIHIoZSk/YyhlLnZhbHVlKTpSKGUpfXJldHVybiBkKG8sbixzKX12YXIgaT1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxuPXQuYmluZCh0LFwibmV4dFwiKSxzPXQuYmluZCh0LFwidGhyb3dcIik7cmV0dXJuIG4oKX19ZnVuY3Rpb24gTyhlKXtjLmRvbmUoYy5hc3luYyhlKSgpKX1mdW5jdGlvbiBfKGUpe3Rocm93IG5ldyBWKGUpfWZ1bmN0aW9uIE4oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIEMoW3RoaXMsRihhcmd1bWVudHMpXSxmdW5jdGlvbih0LHIpe3JldHVybiBlLmFwcGx5KHQscil9KX19ZnVuY3Rpb24gRChlLHQscil7cmV0dXJuIGMoZSkuQWUodCxyKX1mdW5jdGlvbiBGKGUpe3JldHVybiBkKGUsZnVuY3Rpb24oZSl7dmFyIHQ9MCxyPXUoKTtyZXR1cm4geihlLGZ1bmN0aW9uKGksbixzKXt2YXIgbzt2KG4pJiZcImZ1bGZpbGxlZFwiPT09KG89bi5FZSgpKS5zdGF0ZT9lW3NdPW8udmFsdWU6KCsrdCxkKG4sZnVuY3Rpb24oaSl7ZVtzXT1pLDA9PS0tdCYmci5yZXNvbHZlKGUpfSxyLnJlamVjdCxmdW5jdGlvbihlKXtyLm5vdGlmeSh7aW5kZXg6cyx2YWx1ZTplfSl9KSl9LHZvaWQgMCksMD09PXQmJnIucmVzb2x2ZShlKSxyLlRlfSl9ZnVuY3Rpb24gTChlKXtpZigwPT09ZS5sZW5ndGgpcmV0dXJuIGMucmVzb2x2ZSgpO3ZhciB0PWMuZGVmZXIoKSxyPTA7cmV0dXJuIHooZSxmdW5jdGlvbihpLG4scyl7ZnVuY3Rpb24gbyhlKXt0LnJlc29sdmUoZSl9ZnVuY3Rpb24gYShlKXswPT09LS1yJiYoZS5tZXNzYWdlPVwiUSBjYW4ndCBnZXQgZnVsZmlsbG1lbnQgdmFsdWUgZnJvbSBhbnkgcHJvbWlzZSwgYWxsIHByb21pc2VzIHdlcmUgcmVqZWN0ZWQuIExhc3QgZXJyb3IgbWVzc2FnZTogXCIrZS5tZXNzYWdlLHQucmVqZWN0KGUpKX1mdW5jdGlvbiBoKGUpe3Qubm90aWZ5KHtpbmRleDpzLHZhbHVlOmV9KX12YXIgYz1lW3NdO3IrKyxkKGMsbyxhLGgpfSx2b2lkIDApLHQuVGV9ZnVuY3Rpb24gTShlKXtyZXR1cm4gZChlLGZ1bmN0aW9uKGUpe3JldHVybiBlPVcoZSxjKSxkKEYoVyhlLGZ1bmN0aW9uKGUpe3JldHVybiBkKGUsRyxHKX0pKSxmdW5jdGlvbigpe3JldHVybiBlfSl9KX1mdW5jdGlvbiBCKGUpe3JldHVybiBjKGUpLkNlKCl9ZnVuY3Rpb24gVShlLHQpe3JldHVybiBjKGUpLnRoZW4odm9pZCAwLHZvaWQgMCx0KX1mdW5jdGlvbiB4KGUsdCl7cmV0dXJuIGMoZSkua2UodCl9dmFyIEg9ITE7dHJ5e3Rocm93IG5ldyBFcnJvcn1jYXRjaChlKXtIPSEhZS5zdGFja312YXIgcSxWLGo9aCgpLEc9ZnVuY3Rpb24oKXt9LFE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7Zm9yKHZhciBlLGk7ci5uZXh0OylyPXIubmV4dCxlPXIuT2Usci5PZT12b2lkIDAsaT1yLmRvbWFpbixpJiYoci5kb21haW49dm9pZCAwLGkuX2UoKSksdChlLGkpO2Zvcig7aC5sZW5ndGg7KWU9aC5wb3AoKSx0KGUpO249ITF9ZnVuY3Rpb24gdCh0LHIpe3RyeXt0KCl9Y2F0Y2godCl7aWYobyl0aHJvdyByJiZyLk5lKCksc2V0VGltZW91dChlLDApLHImJnIuX2UoKSx0O3NldFRpbWVvdXQoZnVuY3Rpb24oKXt0aHJvdyB0fSwwKX1yJiZyLk5lKCl9dmFyIHI9e09lOnZvaWQgMCxuZXh0Om51bGx9LGk9cixuPSExLHM9dm9pZCAwLG89ITEsYT0hMTt0cnl7YT1uYXZpZ2F0b3ImJihcIk1pY3Jvc29mdCBJbnRlcm5ldCBFeHBsb3JlclwiPT09bmF2aWdhdG9yLmFwcE5hbWV8fG51bGwhPW5hdmlnYXRvci5hcHBWZXJzaW9uLm1hdGNoKC8odHJpZGVudCkuK3J2WzpcXHNdKFtcXHdcXC5dKykuK2xpa2VcXHNnZWNrby9pKSl9Y2F0Y2goZSl7fXZhciBoPVtdO2lmKFE9ZnVuY3Rpb24oZSl7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIEZyYW1ld29yayYmRnJhbWV3b3JrLlMoKT9GcmFtZXdvcmsuc2V0VGltZW91dChlLDApOihpPWkubmV4dD17T2U6ZSxkb21haW46byYmcHJvY2Vzcy5kb21haW4sbmV4dDpudWxsfSxufHwobj0hMCxzKCkpKX0sXCJvYmplY3RcIj09dHlwZW9mIHByb2Nlc3MmJlwiW29iamVjdCBwcm9jZXNzXVwiPT09cHJvY2Vzcy50b1N0cmluZygpJiZwcm9jZXNzLnllKW89ITAscz1mdW5jdGlvbigpe3Byb2Nlc3MueWUoZSl9O2Vsc2UgaWYoXCJmdW5jdGlvblwiIT10eXBlb2Ygc2V0SW1tZWRpYXRlfHxhKWlmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBNZXNzYWdlQ2hhbm5lbHx8YSlzPWZ1bmN0aW9uKCl7c2V0VGltZW91dChlLDApfTtlbHNle3ZhciBjPW5ldyBNZXNzYWdlQ2hhbm5lbDtjLnBvcnQxLm9ubWVzc2FnZT1mdW5jdGlvbigpe3M9dSxjLnBvcnQxLm9ubWVzc2FnZT1lLGUoKX07dmFyIHU9ZnVuY3Rpb24oKXtjLnBvcnQyLnBvc3RNZXNzYWdlKDApfTtzPWZ1bmN0aW9uKCl7c2V0VGltZW91dChlLDApLHUoKX19ZWxzZSBzPVwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/c2V0SW1tZWRpYXRlLmJpbmQod2luZG93LGUpOmZ1bmN0aW9uKCl7c2V0SW1tZWRpYXRlKGUpfTtyZXR1cm4gUS5TZT1mdW5jdGlvbihlKXtoLnB1c2goZSksbnx8KG49ITAscygpKX0sUX0oKSxLPUZ1bmN0aW9uLmNhbGwsWT1lKEFycmF5LnByb3RvdHlwZS5zbGljZSksej1lKEFycmF5LnByb3RvdHlwZS5yZWR1Y2V8fGZ1bmN0aW9uKGUsdCl7dmFyIHI9MCxpPXRoaXMubGVuZ3RoO2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKWZvcig7Oyl7aWYociBpbiB0aGlzKXt0PXRoaXNbcisrXTticmVha31pZigrK3I+PWkpdGhyb3cgbmV3IFR5cGVFcnJvcn1mb3IoO3I8aTtyKyspciBpbiB0aGlzJiYodD1lKHQsdGhpc1tyXSxyKSk7cmV0dXJuIHR9KSxKPWUoQXJyYXkucHJvdG90eXBlLmluZGV4T2Z8fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wO3Q8dGhpcy5sZW5ndGg7dCsrKWlmKHRoaXNbdF09PT1lKXJldHVybiB0O3JldHVybi0xfSksVz1lKEFycmF5LnByb3RvdHlwZS5tYXB8fGZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxpPVtdO3JldHVybiB6KHIsZnVuY3Rpb24obixzLG8pe2kucHVzaChlLmNhbGwodCxzLG8scikpfSx2b2lkIDApLGl9KSxYPU9iamVjdC5jcmVhdGV8fGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQucHJvdG90eXBlPWUsbmV3IHR9LFo9ZShPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5KSwkPU9iamVjdC5rZXlzfHxmdW5jdGlvbihlKXt2YXIgdD1bXTtmb3IodmFyIHIgaW4gZSlaKGUscikmJnQucHVzaChyKTtyZXR1cm4gdH0sZWU9ZShPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nKTtWPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBSZXR1cm5WYWx1ZT9SZXR1cm5WYWx1ZTpmdW5jdGlvbihlKXt0aGlzLnZhbHVlPWV9O3ZhciB0ZT1cIkZyb20gcHJldmlvdXMgZXZlbnQ6XCI7Yy5yZXNvbHZlPWMsYy55ZT1RLGMudmU9ITEsXCJvYmplY3RcIj09dHlwZW9mIHByb2Nlc3MmJnByb2Nlc3MmJnByb2Nlc3MuRGUmJnByb2Nlc3MuRGUuRmUmJihjLnZlPSEwKSxjLmRlZmVyPXUsdS5wcm90b3R5cGUuTGU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiBmdW5jdGlvbih0LHIpe3Q/ZS5yZWplY3QodCk6YXJndW1lbnRzLmxlbmd0aD4yP2UucmVzb2x2ZShZKGFyZ3VtZW50cywxKSk6ZS5yZXNvbHZlKHIpfX0sYy5Qcm9taXNlPWwsYy5UZT1sLGwucmFjZT1wLGwuYWxsPUYsbC5yZWplY3Q9UixsLnJlc29sdmU9YyxjLk1lPWZ1bmN0aW9uKGUpe3JldHVybiBlfSxmLnByb3RvdHlwZS5NZT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSxjLmpvaW49ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYyhlKS5qb2luKHQpfSxmLnByb3RvdHlwZS5qb2luPWZ1bmN0aW9uKGUpe3JldHVybiBjKFt0aGlzLGVdKS5QZShmdW5jdGlvbihlLHQpe2lmKGU9PT10KXJldHVybiBlO3Rocm93IG5ldyBFcnJvcihcIlEgY2FuJ3Qgam9pbjogbm90IHRoZSBzYW1lOiBcIitlK1wiIFwiK3QpfSl9LGMucmFjZT1wLGYucHJvdG90eXBlLnJhY2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50aGVuKGMucmFjZSl9LGMuQmU9ZixmLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiW29iamVjdCBQcm9taXNlXVwifSxmLnByb3RvdHlwZS50aGVuPWZ1bmN0aW9uKGUsdCxyKXtmdW5jdGlvbiBuKHQpe3RyeXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBlP2UodCk6dH1jYXRjaChlKXtyZXR1cm4gUihlKX19ZnVuY3Rpb24gcyhlKXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiB0KXtpKGUsYSk7dHJ5e3JldHVybiB0KGUpfWNhdGNoKGUpe3JldHVybiBSKGUpfX1yZXR1cm4gUihlKX1mdW5jdGlvbiBvKGUpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIHI/cihlKTplfXZhciBhPXRoaXMsaD11KCksbD0hMTtyZXR1cm4gYy55ZShmdW5jdGlvbigpe2EubWUoZnVuY3Rpb24oZSl7bHx8KGw9ITAsaC5yZXNvbHZlKG4oZSkpKX0sXCJ3aGVuXCIsW2Z1bmN0aW9uKGUpe2x8fChsPSEwLGgucmVzb2x2ZShzKGUpKSl9XSl9KSxhLm1lKHZvaWQgMCxcIndoZW5cIixbdm9pZCAwLGZ1bmN0aW9uKGUpe3ZhciB0LHI9ITE7dHJ5e3Q9byhlKX1jYXRjaChlKXtpZihyPSEwLCFjLm9uZXJyb3IpdGhyb3cgZTtjLm9uZXJyb3IoZSl9cnx8aC5ub3RpZnkodCl9XSksaC5UZX0sYy5VZT1mdW5jdGlvbihlLHQpe3JldHVybiBjKGUpLlVlKHQpfSxmLnByb3RvdHlwZS5VZT1mdW5jdGlvbihlKXtyZXR1cm4gZT1jKGUpLHRoaXMudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gZS5IZSh0KS54ZSh0KX0pfSxjLndoZW49ZCxmLnByb3RvdHlwZS54ZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGV9KX0sYy54ZT1mdW5jdGlvbihlLHQpe3JldHVybiBjKGUpLnhlKHQpfSxmLnByb3RvdHlwZS5xZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy50aGVuKGZ1bmN0aW9uKCl7dGhyb3cgZX0pfSxjLnFlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGMoZSkucWUodCl9LGMuVmU9ZyxjLmplPXYsYy5HZT15LGMuUWU9bSxmLnByb3RvdHlwZS5RZT1mdW5jdGlvbigpe3JldHVyblwicGVuZGluZ1wiPT09dGhpcy5FZSgpLnN0YXRlfSxjLktlPUUsZi5wcm90b3R5cGUuS2U9ZnVuY3Rpb24oKXtyZXR1cm5cImZ1bGZpbGxlZFwiPT09dGhpcy5FZSgpLnN0YXRlfSxjLlllPVQsZi5wcm90b3R5cGUuWWU9ZnVuY3Rpb24oKXtyZXR1cm5cInJlamVjdGVkXCI9PT10aGlzLkVlKCkuc3RhdGV9O3ZhciByZT1bXSxpZT1bXSxuZT1bXSxzZT0hMDtjLnplPUksYy5KZT1mdW5jdGlvbigpe3JldHVybiByZS5zbGljZSgpfSxjLldlPWZ1bmN0aW9uKCl7SSgpLHNlPSExfSxJKCksYy5yZWplY3Q9UixjLkllPWIsYy5YZT1BLGMuUGU9QyxmLnByb3RvdHlwZS5QZT1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmFsbCgpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIGUuYXBwbHkodm9pZCAwLHQpfSx0KX0sYy5hc3luYz1rLGMuWmU9TyxjLiRlPV8sYy5ldD1OLGMuQWU9RCxmLnByb3RvdHlwZS5BZT1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsaT11KCk7cmV0dXJuIGMueWUoZnVuY3Rpb24oKXtyLm1lKGkucmVzb2x2ZSxlLHQpfSksaS5UZX0sYy5nZXQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYyhlKS5BZShcImdldFwiLFt0XSl9LGYucHJvdG90eXBlLmdldD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5BZShcImdldFwiLFtlXSl9LGMuc2V0PWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gYyhlKS5BZShcInNldFwiLFt0LHJdKX0sZi5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuQWUoXCJzZXRcIixbZSx0XSl9LGMudHQ9Yy5kZWxldGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYyhlKS5BZShcImRlbGV0ZVwiLFt0XSl9LGYucHJvdG90eXBlLnR0PWYucHJvdG90eXBlLmRlbGV0ZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5BZShcImRlbGV0ZVwiLFtlXSl9LGMucnQ9Yy5SZT1mdW5jdGlvbihlLHQscil7cmV0dXJuIGMoZSkuQWUoXCJwb3N0XCIsW3Qscl0pfSxmLnByb3RvdHlwZS5ydD1mLnByb3RvdHlwZS5SZT1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLkFlKFwicG9zdFwiLFtlLHRdKX0sYy5zZW5kPWMuaXQ9Yy5udD1mdW5jdGlvbihlLHQpe3JldHVybiBjKGUpLkFlKFwicG9zdFwiLFt0LFkoYXJndW1lbnRzLDIpXSl9LGYucHJvdG90eXBlLnNlbmQ9Zi5wcm90b3R5cGUuaXQ9Zi5wcm90b3R5cGUubnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuQWUoXCJwb3N0XCIsW2UsWShhcmd1bWVudHMsMSldKX0sYy5zdD1mdW5jdGlvbihlLHQpe3JldHVybiBjKGUpLkFlKFwiYXBwbHlcIixbdm9pZCAwLHRdKX0sZi5wcm90b3R5cGUuc3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuQWUoXCJhcHBseVwiLFt2b2lkIDAsZV0pfSxjLm90PWMuSGU9ZnVuY3Rpb24oZSl7cmV0dXJuIGMoZSkuQWUoXCJhcHBseVwiLFt2b2lkIDAsWShhcmd1bWVudHMsMSldKX0sZi5wcm90b3R5cGUuSGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5BZShcImFwcGx5XCIsW3ZvaWQgMCxZKGFyZ3VtZW50cyldKX0sYy5hdD1mdW5jdGlvbihlKXt2YXIgdD1jKGUpLHI9WShhcmd1bWVudHMsMSk7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHQuQWUoXCJhcHBseVwiLFt0aGlzLHIuY29uY2F0KFkoYXJndW1lbnRzKSldKX19LGYucHJvdG90eXBlLmF0PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PVkoYXJndW1lbnRzKTtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZS5BZShcImFwcGx5XCIsW3RoaXMsdC5jb25jYXQoWShhcmd1bWVudHMpKV0pfX0sYy5rZXlzPWZ1bmN0aW9uKGUpe3JldHVybiBjKGUpLkFlKFwia2V5c1wiLFtdKX0sZi5wcm90b3R5cGUua2V5cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLkFlKFwia2V5c1wiLFtdKX0sYy5hbGw9RixmLnByb3RvdHlwZS5hbGw9ZnVuY3Rpb24oKXtyZXR1cm4gRih0aGlzKX0sYy5odD1MLGYucHJvdG90eXBlLmh0PWZ1bmN0aW9uKCl7cmV0dXJuIEwodGhpcyl9LGMuY3Q9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBmdW5jdGlvbigpe3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBjb25zb2xlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBjb25zb2xlLndhcm4mJmNvbnNvbGUud2Fybih0K1wiIGlzIGRlcHJlY2F0ZWQsIHVzZSBcIityK1wiIGluc3RlYWQuXCIsbmV3IEVycm9yKFwiXCIpLnN0YWNrKSxlLmFwcGx5KGUsYXJndW1lbnRzKX19KE0sXCJhbGxSZXNvbHZlZFwiLFwiYWxsU2V0dGxlZFwiKSxmLnByb3RvdHlwZS5jdD1mdW5jdGlvbigpe3JldHVybiBNKHRoaXMpfSxjLkNlPUIsZi5wcm90b3R5cGUuQ2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiBGKFcoZSxmdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIGUuRWUoKX1yZXR1cm4gZT1jKGUpLGUudGhlbih0LHQpfSkpfSl9LGMuZmFpbD1jLmNhdGNoPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGMoZSkudGhlbih2b2lkIDAsdCl9LGYucHJvdG90eXBlLmZhaWw9Zi5wcm90b3R5cGUuY2F0Y2g9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudGhlbih2b2lkIDAsZSl9LGMucHJvZ3Jlc3M9VSxmLnByb3RvdHlwZS5wcm9ncmVzcz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy50aGVuKHZvaWQgMCx2b2lkIDAsZSl9LGMudXQ9Yy5maW5hbGx5PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGMoZSkuZmluYWxseSh0KX0sZi5wcm90b3R5cGUudXQ9Zi5wcm90b3R5cGUuZmluYWxseT1mdW5jdGlvbihlKXtpZighZXx8XCJmdW5jdGlvblwiIT10eXBlb2YgZS5hcHBseSl0aHJvdyBuZXcgRXJyb3IoXCJRIGNhbid0IGFwcGx5IGZpbmFsbHkgY2FsbGJhY2tcIik7cmV0dXJuIGU9YyhlKSx0aGlzLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIGUuSGUoKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIHR9KX0sZnVuY3Rpb24odCl7cmV0dXJuIGUuSGUoKS50aGVuKGZ1bmN0aW9uKCl7dGhyb3cgdH0pfSl9LGMuZG9uZT1mdW5jdGlvbihlLHQscixpKXtyZXR1cm4gYyhlKS5kb25lKHQscixpKX0sZi5wcm90b3R5cGUuZG9uZT1mdW5jdGlvbihlLHQscil7dmFyIG49ZnVuY3Rpb24oZSl7Yy55ZShmdW5jdGlvbigpe2lmKGkoZSxzKSwhYy5vbmVycm9yKXRocm93IGU7Yy5vbmVycm9yKGUpfSl9LHM9ZXx8dHx8cj90aGlzLnRoZW4oZSx0LHIpOnRoaXM7XCJvYmplY3RcIj09dHlwZW9mIHByb2Nlc3MmJnByb2Nlc3MmJnByb2Nlc3MuZG9tYWluJiYobj1wcm9jZXNzLmRvbWFpbi5iaW5kKG4pKSxzLnRoZW4odm9pZCAwLG4pfSxjLnRpbWVvdXQ9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBjKGUpLnRpbWVvdXQodCxyKX0sZi5wcm90b3R5cGUudGltZW91dD1mdW5jdGlvbihlLHQpe3ZhciByPXUoKSxpPXNldFRpbWVvdXQoZnVuY3Rpb24oKXt0JiZcInN0cmluZ1wiIT10eXBlb2YgdHx8KHQ9bmV3IEVycm9yKHR8fFwiVGltZWQgb3V0IGFmdGVyIFwiK2UrXCIgbXNcIiksdC5jb2RlPVwiRVRJTUVET1VUXCIpLHIucmVqZWN0KHQpfSxlKTtyZXR1cm4gdGhpcy50aGVuKGZ1bmN0aW9uKGUpe2NsZWFyVGltZW91dChpKSxyLnJlc29sdmUoZSl9LGZ1bmN0aW9uKGUpe2NsZWFyVGltZW91dChpKSxyLnJlamVjdChlKX0sci5ub3RpZnkpLHIuVGV9LGMuZGVsYXk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9ZSxlPXZvaWQgMCksYyhlKS5kZWxheSh0KX0sZi5wcm90b3R5cGUuZGVsYXk9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudGhlbihmdW5jdGlvbih0KXt2YXIgcj11KCk7cmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtyLnJlc29sdmUodCl9LGUpLHIuVGV9KX0sYy5sdD1mdW5jdGlvbihlLHQpe3JldHVybiBjKGUpLmx0KHQpfSxmLnByb3RvdHlwZS5sdD1mdW5jdGlvbihlKXt2YXIgdD11KCkscj1ZKGUpO3JldHVybiByLnB1c2godC5MZSgpKSx0aGlzLnN0KHIpLmZhaWwodC5yZWplY3QpLHQuVGV9LGMucHQ9ZnVuY3Rpb24oZSl7dmFyIHQ9WShhcmd1bWVudHMsMSk7cmV0dXJuIGMoZSkubHQodCl9LGYucHJvdG90eXBlLnB0PWZ1bmN0aW9uKCl7dmFyIGU9WShhcmd1bWVudHMpLHQ9dSgpO3JldHVybiBlLnB1c2godC5MZSgpKSx0aGlzLnN0KGUpLmZhaWwodC5yZWplY3QpLHQuVGV9LGMuZnQ9Yy5kdD1mdW5jdGlvbihlKXtpZih2b2lkIDA9PT1lKXRocm93IG5ldyBFcnJvcihcIlEgY2FuJ3Qgd3JhcCBhbiB1bmRlZmluZWQgZnVuY3Rpb25cIik7dmFyIHQ9WShhcmd1bWVudHMsMSk7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHI9dC5jb25jYXQoWShhcmd1bWVudHMpKSxpPXUoKTtyZXR1cm4gci5wdXNoKGkuTGUoKSksYyhlKS5zdChyKS5mYWlsKGkucmVqZWN0KSxpLlRlfX0sZi5wcm90b3R5cGUuZnQ9Zi5wcm90b3R5cGUuZHQ9ZnVuY3Rpb24oKXt2YXIgZT1ZKGFyZ3VtZW50cyk7cmV0dXJuIGUudW5zaGlmdCh0aGlzKSxjLmR0LmFwcGx5KHZvaWQgMCxlKX0sYy5ndD1mdW5jdGlvbihlLHQpe3ZhciByPVkoYXJndW1lbnRzLDIpO3JldHVybiBmdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXtyZXR1cm4gZS5hcHBseSh0LGFyZ3VtZW50cyl9dmFyIG49ci5jb25jYXQoWShhcmd1bWVudHMpKSxzPXUoKTtyZXR1cm4gbi5wdXNoKHMuTGUoKSksYyhpKS5zdChuKS5mYWlsKHMucmVqZWN0KSxzLlRlfX0sZi5wcm90b3R5cGUuZ3Q9ZnVuY3Rpb24oKXt2YXIgZT1ZKGFyZ3VtZW50cywwKTtyZXR1cm4gZS51bnNoaWZ0KHRoaXMpLGMuZ3QuYXBwbHkodm9pZCAwLGUpfSxjLnZ0PWMueXQ9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBjKGUpLnl0KHQscil9LGYucHJvdG90eXBlLnZ0PWYucHJvdG90eXBlLnl0PWZ1bmN0aW9uKGUsdCl7dmFyIHI9WSh0fHxbXSksaT11KCk7cmV0dXJuIHIucHVzaChpLkxlKCkpLHRoaXMuQWUoXCJwb3N0XCIsW2Uscl0pLmZhaWwoaS5yZWplY3QpLGkuVGV9LGMuRXQ9Yy5UdD1jLkl0PWZ1bmN0aW9uKGUsdCl7dmFyIHI9WShhcmd1bWVudHMsMiksaT11KCk7cmV0dXJuIHIucHVzaChpLkxlKCkpLGMoZSkuQWUoXCJwb3N0XCIsW3Qscl0pLmZhaWwoaS5yZWplY3QpLGkuVGV9LGYucHJvdG90eXBlLkV0PWYucHJvdG90eXBlLlR0PWYucHJvdG90eXBlLkl0PWZ1bmN0aW9uKGUpe3ZhciB0PVkoYXJndW1lbnRzLDEpLHI9dSgpO3JldHVybiB0LnB1c2goci5MZSgpKSx0aGlzLkFlKFwicG9zdFwiLFtlLHRdKS5mYWlsKHIucmVqZWN0KSxyLlRlfSxjLmtlPXgsZi5wcm90b3R5cGUua2U9ZnVuY3Rpb24oZSl7aWYoIWUpcmV0dXJuIHRoaXM7dGhpcy50aGVuKGZ1bmN0aW9uKHQpe2MueWUoZnVuY3Rpb24oKXtlKG51bGwsdCl9KX0sZnVuY3Rpb24odCl7Yy55ZShmdW5jdGlvbigpe2UodCl9KX0pfSxjLnd0PWZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKFwiUS5ub0NvbmZsaWN0IG9ubHkgd29ya3Mgd2hlbiBRIGlzIHVzZWQgYXMgYSBnbG9iYWxcIil9O3ZhciBvZT1oKCk7cmV0dXJuIGN9KX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXIoNSksbj1pLlJ0LlN0OyFmdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGV9KCk7dC5idD01ZTMsdC5QdD02LHQuQXQ9MWU0LHQuQ3Q9LjIsdC5rdD0xMCxlLk90PXQ7dmFyIHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlfSgpO3IuX3Q9XCIwLjAuMVwiLHIuTnQ9M2U0LHIuRHQ9NGU3LHIuRnQ9MSxyLkx0PS44LHIuTXQ9ITEsci5CdD0yZTQsZS5VdD1yO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZX0oKTtpLnh0PSEwLGkuSHQ9MyxpLnF0PTFlNCxlLlZ0PWk7dmFyIHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlfSgpO3MuanQ9MS4xLGUuR3Q9czt2YXIgbz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGV9KCk7by5RdD1uLG8uS3Q9MmU0LG8uWXQ9NWUzLGUuenQ9bzt2YXIgYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGV9KCk7YS5KdD1bNDEyXSxlLld0PWE7dmFyIGg9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlfSgpO2guWHQ9MmUzLGguWnQ9ITAsaC4kdD0hMSxoLmVyPTEsaC50cj0uMDIsaC5ycj0hMCxoLmlyPSExLGgubnI9ITEsaC5zcj0xZTQsaC5vcj00ZTQsaC5hcj0zNzAwLGguaHI9MmU0LGguY3I9MSxoLnVyPTUsaC5scj0uNCxoLnByPTEsZS5kcj1oO3ZhciBjPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZX0oKTtjLmdyPTMwLGMudnI9MmU0LGMueXI9M2U0LGUubXI9Yzt2YXIgdT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGV9KCk7dS5Fcj0zZTcsdS5Ucj0zZTQsdS5Jcj0hMSx1LndyPTEwLGUuU3I9dTt2YXIgbD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGV9KCk7bC5Scj0zLGwuYnI9ITEsbC5Qcj0zZTQsbC5Bcj0uMixsLkNyPS4yLGwua3I9MWU0LGUuT3I9bDt2YXIgcD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGV9KCk7cC5fcj0hMSxlLmo9cDt2YXIgZj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGV9KCk7Zi5Ocj02NGUzLGYuRHI9NWUzLGYuRnI9MSxmLkxyPTEsZS5Ncj1mO3ZhciBkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZX0oKTtkLkJyPTRlMyxkLlVyPTNlNCxkLnhyPTQwOTYsZC5Icj0hMCxkLnFyPTVlMyxkLlZyPTFlNCxlLlVEUEJyb2FkY2FzdD1kO3ZhciBnPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZX0oKTtnLmpyPTEwMCxnLkdyPTFlMyxlLlFyPWc7dmFyIHY9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlfSgpO3YuS3I9MjAsdi5Zcj0yMCx2LnpyPTIwLHYuSnI9NSxlLldyPXY7dmFyIHk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlfSgpO3kuWHI9XCJzaXRlXCIseS5acj1cImV4dGVybmFsQXNcIix5LiRyPVwiYXZhaWxhYmxlU2VuZFJhdGVcIix5LmVpPVwicmVtb3RlQWRkcmVzc1wiLHkudGk9XCJsb2NhbEFkZHJlc3NcIix5LnJpPTJlNCxlLmlpPXl9KHQubml8fCh0Lm5pPXt9KSl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1yKDEwNCksbj1yKDIwKSxzPXIoNSksbz1zLlJ0LnNpLGE9KHMuUnQub2kscy5SdC5haSksaD1zLlJ0LmhpLGM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpe2lmKHRoaXMuY2k9ITEsdGhpcy51aT1cInVuZGVmaW5lZFwiIT10eXBlb2YgYXRhdHVzJiZudWxsIT1hdGF0dXMsZS5saSl0aHJvdyBuZXcgRXJyb3IoXCJFcnJvcjogSW5zdGFudGlhdGlvbiBmYWlsZWQ6IFVzZSBBdGF0dXNMb2dnZXIuZ2V0SW5zdGFuY2UoKSBpbnN0ZWFkIG9mIG5ldy5cIik7dmFyIHIsaT12b2lkIDAhPW4uSGl2ZUNvbmZpZy5FcnJvck1vbml0b3Iua2V5P24uSGl2ZUNvbmZpZy5FcnJvck1vbml0b3Iua2V5Om8scz0xPT1uLkhpdmVDb25maWcuRXJyb3JNb25pdG9yLmVuYWJsZWRSVU0sYz0xPT1uLkhpdmVDb25maWcuRXJyb3JNb25pdG9yLmVuYWJsZUtleUNvbWJpbmF0aW9uLHU9MT09bi5IaXZlQ29uZmlnLkVycm9yTW9uaXRvci5lbmFibGVkRXJyb3JGaWx0ZXI7dSYmKHI9dGhpcy5waSgpKSx0aGlzLnZlcnNpb249dCx0aGlzLnVpJiYodm9pZCAwPT1uLkhpdmVDb25maWcuRXJyb3JNb25pdG9yLmVuYWJsZWQmJmF8fHZvaWQgMCE9bi5IaXZlQ29uZmlnLkVycm9yTW9uaXRvci5lbmFibGVkJiYxPT1uLkhpdmVDb25maWcuRXJyb3JNb25pdG9yLmVuYWJsZWQpJiYoYXRhdHVzLmNvbmZpZyhpLHtlbmFibGVTb3VyY2VtYXA6ITAsZGlzYWJsZVJVTTohcyxjb25zb2xlOiExLHZlcnNpb246dCxiZWZvcmVFcnJvclNlbmQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ITE7aWYoZSYmZS5jdXN0b21EYXRhJiZ2b2lkIDAhPT1lLmN1c3RvbURhdGEuZm9yY2VTZW5kJiYodD1lLmN1c3RvbURhdGEuZm9yY2VTZW5kLGRlbGV0ZSBlLmN1c3RvbURhdGEuZm9yY2VTZW5kLDA9PT1PYmplY3Qua2V5cyhlLmN1c3RvbURhdGEpLmxlbmd0aCYmKGUuY3VzdG9tRGF0YT1udWxsKSksIXV8fHQpcmV0dXJuITA7aWYoIXIpcmV0dXJuITE7dHJ5e3ZhciBpPSExO2lmKGUuYmFja1RyYWNlcyl7Zm9yKHZhciBuPTAscz1lLmJhY2tUcmFjZXM7bjxzLmxlbmd0aDtuKyspe3ZhciBvPXNbbl07aWYoby5mLmluZGV4T2Yocik+LTEmJm8ubG4+aCl7aT0hMDticmVha319aSYmKGUubmFtZT1lLm5hbWUucmVwbGFjZSgvJXMgXFxbWzAtOV17Mn06WzAtOV17Mn06WzAtOV17Mn06WzAtOV0rXSAvLFwiXCIpLGUubmFtZS5pbmRleE9mKFwiU3RhdHVzIENvZGUgRXJyb3I6XCIpPj0wJiYoZS50YWdzPVtcIlBsdWdpbiBFcnJvciBDb2RlXCIsZS5uYW1lLnNwbGl0KFwiOlwiKVsxXS50cmltKCldKSl9cmV0dXJuIGl9Y2F0Y2goZSl7cmV0dXJuITF9fX0pLmluc3RhbGwoKSxjJiZ0aGlzLmZpKCksdGhpcy5jaT0hMCx3aW5kb3cuY29uc29sZSYmY29uc29sZS5sb2coXCJbSGl2ZUNvbW1dIEVycm9yIE1vbml0b3IgaW5zdGFsbGVkIFtSVU06XCIrcytcIiwgS2V5SGFuZGxlcjpcIitjK1wiXVwiKSx1JiYhciYmdGhpcy5kaShcIkNvdWxkIG5vdCBleHRyYWN0IGVycm9yIGZpbHRlclwiKSl9cmV0dXJuIGUuZ2k9ZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMD09PXQmJih0PVwiMy4wLjBcIiksdm9pZCAwPT09dGhpcy5saSYmKHRoaXMubGk9bmV3IGUodCkpLHRoaXMubGl9LGUucHJvdG90eXBlLmZpPWZ1bmN0aW9uKCl7aS55aS5naSgpLnZpKFsxNiwxNyw4OF0sZnVuY3Rpb24oKXt0cnl7dGhyb3cgbmV3IEVycm9yKFwiVXBsb2FkIGNvbnNvbGUgbG9nc1wiKX1jYXRjaChlKXthdGF0dXMubm90aWZ5KGUpLHdpbmRvdy5jb25zb2xlJiZjb25zb2xlLmxvZyhcIltIaXZlQ29tbV0gY29uc29sZSBsb2cgdXBsb2FkZWQgZm9yIGRlYnVnZ2luZ1wiKX19KX0sZS5wcm90b3R5cGUucGk9ZnVuY3Rpb24oKXt0cnl7dGhyb3cgbmV3IEVycm9yKFwidGVzdFwiKX1jYXRjaCh0KXt2YXIgZT10LnN0YWNrLm1hdGNoKC8oXFwvXFwvLipcXC5qcykvaSk7aWYoZSYmZS5sZW5ndGg+MClyZXR1cm4gZVswXX19LGUucHJvdG90eXBlLnNldFVzZXI9ZnVuY3Rpb24oZSl7dGhpcy51aSYmdGhpcy5jaSYmYXRhdHVzLnNldFVzZXIoZSl9LGUucHJvdG90eXBlLm1pPWZ1bmN0aW9uKGUpe3RoaXMudGU9ZX0sZS5wcm90b3R5cGUuc2V0Q3VzdG9tRGF0YT1mdW5jdGlvbihlKXt0aGlzLnVpJiZ0aGlzLmNpJiZhdGF0dXMuc2V0Q3VzdG9tRGF0YShlKX0sZS5wcm90b3R5cGUuZGk9ZnVuY3Rpb24oZSx0LHIsaSl7dmFyIG49XCJcIjtpZihcInN0cmluZ1wiPT10eXBlb2YgdD9uPXQudHJpbSgpOnZvaWQgMCE9PXQmJihyPXQpLChyIGluc3RhbmNlb2YgRXJyb3J8fHImJlwib2JqZWN0XCIhPXR5cGVvZiByKSYmKHI9e2Vycm9yOnIudG9TdHJpbmcoKX0pLHJ8fChyPXt9KSx0aGlzLnRlJiYoT2JqZWN0LmtleXMocikubGVuZ3RoPjA/dGhpcy50ZS53YXJuKG4rXCIgXCIrZSxyKTp0aGlzLnRlLndhcm4obitcIiBcIitlKSksbiYmKGk9aT9pLmNvbmNhdChbbl0pOltuXSksci5mb3JjZVNlbmQ9ITAsdGhpcy51aSYmdGhpcy5jaSl0cnl7dGhyb3cgbmV3IEVycm9yKGUpfWNhdGNoKGUpe2F0YXR1cy5ub3RpZnkoZSxyLGkpfX0sZS5wcm90b3R5cGUuc2V0VGFncz1mdW5jdGlvbihlKXt0aGlzLnVpJiZ0aGlzLmNpJiZhdGF0dXMuc2V0VGFncyhlKX0sZS5wcm90b3R5cGUubm90aWZ5PWZ1bmN0aW9uKGUsdCl7dGhpcy51aSYmdGhpcy5jaSYmKHR8fCh0PXt9KSx0LmZvcmNlU2VuZD0hMCxhdGF0dXMubm90aWZ5KGUsdCkpfSxlfSgpO3QuRXJyb3JNb25pdG9yPWN9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGV9KCk7aS5FaT0hMSxpLlRpPSEwLGkuSWk9ITEsaS53aT1cIjMuNS4xXCIsaS5TaT1cImJpdG1vdmluXCIsaS5SaT0hMSxpLmJpPSEwLGkuUGk9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIElOQ0xVREVfVk9EX0NBQ0hFJiZJTkNMVURFX1ZPRF9DQUNIRSxpLkFpPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBJTkNMVURFX1VEUF9CUk9BRENBU1QmJklOQ0xVREVfVURQX0JST0FEQ0FTVCxpLkNpPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBJTkNMVURFX1VEUF9MRUFERVJfRUxFQ1RJT04mJklOQ0xVREVfVURQX0xFQURFUl9FTEVDVElPTixpLmtpPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBMRUFERVJfU0NPUkVfRVFVQUxJVFkmJkxFQURFUl9TQ09SRV9FUVVBTElUWSxpLk9pPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBJTkNMVURFX0RFRkFVTFRfTkVUV09SSyYmSU5DTFVERV9ERUZBVUxUX05FVFdPUkssaS5faT1cInVuZGVmaW5lZFwiIT10eXBlb2YgSElWRV9SRVNUUklDVEVEX0NPTk5JTkZPJiZISVZFX1JFU1RSSUNURURfQ09OTklORk8saS5TdD1cInVuZGVmaW5lZFwiIT10eXBlb2YgSElWRV9ESVNDT1ZFUlk/SElWRV9ESVNDT1ZFUlk6XCJ3czovLzEyNy4wLjAuMTo4MDAwL2hpdmVcIixpLk5pPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBQMlBEaXNwYXRjaGVyRGV0YWlsZWRMb2cmJlAyUERpc3BhdGNoZXJEZXRhaWxlZExvZyxpLkRpPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBOZXR3b3JrTWFuYWdlckRldGFpbGVkTG9nJiZOZXR3b3JrTWFuYWdlckRldGFpbGVkTG9nLGkuc2k9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIEFUQVRVU19LRVk/QVRBVFVTX0tFWTpcIjU5MjgzNWE2YjQyMDRkZDE5N2MwMDQ4ODYxMDAwM2UwXCIsaS5vaT1cInVuZGVmaW5lZFwiIT10eXBlb2YgQVRBVFVTX1ZFUlNJT04/QVRBVFVTX1ZFUlNJT046XCIwLjhcIixpLmFpPVwidW5kZWZpbmVkXCI9PXR5cGVvZiBBVEFUVVNfREVGQVVMVF9FTkFCTEVEfHxBVEFUVVNfREVGQVVMVF9FTkFCTEVELGkuaGk9NSxpLkZpPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBISVZFX1BMVUdJTl9USU1FT1VUP0hJVkVfUExVR0lOX1RJTUVPVVQ6LTEsaS5MaT1cInVuZGVmaW5lZFwiPT10eXBlb2YgSElWRV9ERVRFQ1RfUFJJVkFURUlQfHxISVZFX0RFVEVDVF9QUklWQVRFSVAsaS5NaT0hMCx0LlJ0PWl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1yKDApLG49cig0MCkscz1yKDI3KTshZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlLHQpe3JldHVybiB0P2UrXCItXCIrdDplfWZ1bmN0aW9uIHIoZSx0KXt2YXIgcj1uZXcgVWludDhBcnJheShlLmJ5dGVMZW5ndGgrdC5ieXRlTGVuZ3RoKTtyZXR1cm4gci5zZXQobmV3IFVpbnQ4QXJyYXkoZSksMCksci5zZXQobmV3IFVpbnQ4QXJyYXkodCksZS5ieXRlTGVuZ3RoKSxyLmJ1ZmZlcn1mdW5jdGlvbiBvKGUpe3ZhciB0PW5ldyBVaW50OEFycmF5KGUuYnl0ZUxlbmd0aCk7cmV0dXJuIHQuc2V0KG5ldyBVaW50OEFycmF5KGUpLDApLHQuYnVmZmVyfWZ1bmN0aW9uIGEoZSx0LHIpe3ZvaWQgMD09PXImJihyPSEwKTtmb3IodmFyIGk9MDtpPGUubGVuZ3RoOylpZihlW2ldPT09dCl7aWYoZS5zcGxpY2UoaSwxKSxyKWJyZWFrfWVsc2UgaSsrfWZ1bmN0aW9uIGgoZSl7cmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxuZXcgVWludDE2QXJyYXkoZSkpfWZ1bmN0aW9uIGMoZSl7ZT1lLnJlcGxhY2UoL1tcXFtdLyxcIlxcXFxbXCIpLnJlcGxhY2UoL1tcXF1dLyxcIlxcXFxdXCIpO3ZhciB0PW5ldyBSZWdFeHAoXCJbXFxcXD8mXVwiK2UrXCI9KFteJiNdKilcIikscj10LmV4ZWMobG9jYXRpb24uc2VhcmNoKTtyZXR1cm4gbnVsbD09cj9cIlwiOmRlY29kZVVSSUNvbXBvbmVudChyWzFdLnJlcGxhY2UoL1xcKy9nLFwiIFwiKSl9ZnVuY3Rpb24gdShlKXtmb3IodmFyIHQ9ZS5sZW5ndGgtMTt0PjA7dC0tKXt2YXIgcj1NYXRoLmZsb29yKGkuRnJhbWV3b3JrLnJhbmRvbSgpKih0KzEpKSxuPWVbdF07ZVt0XT1lW3JdLGVbcl09bn1yZXR1cm4gZX1mdW5jdGlvbiBsKGUpe3ZhciB0PW5ldyBBcnJheTtmb3IodmFyIHIgaW4gZSllLmhhc093blByb3BlcnR5KHIpJiYhL15cXGQrJC8udGVzdChyKSYmdC5wdXNoKHIpO3JldHVybiB0fWZ1bmN0aW9uIHAoZSl7cmV0dXJuIE9iamVjdC5rZXlzKGUpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gcGFyc2VJbnQoZSwxMCl9KS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIWlzTmFOKGUpfSl9ZnVuY3Rpb24gZihlLHQpe3JldHVybiBlW3RdP2VbdF06bnVsbH1mdW5jdGlvbiBkKGUsdCl7cmV0dXJuIG5ldyBzKHQpLkJpKGUpLnRvU3RyaW5nKCl9ZnVuY3Rpb24gZyhlKXtyZXR1cm4gMD09ZS5sZW5ndGg/MDplLnJlZHVjZShmdW5jdGlvbihlLHQpe3JldHVybiBlK3R9KS9lLmxlbmd0aH1mdW5jdGlvbiB2KGUpe2Zvcih2YXIgdD1uZXcgQXJyYXlCdWZmZXIoZS5sZW5ndGgpLHI9bmV3IFVpbnQ4QXJyYXkodCksaT0wLG49ZS5sZW5ndGg7aTxuO2krKylyW2ldPWUuY2hhckNvZGVBdChpKTtyZXR1cm4gdH1mdW5jdGlvbiB5KGUsdCxyLGkpe3ZhciBuPW5ldyBlKHQscikscz1pfHxyLmN1cnJlbnRUYXJnZXQ7cmV0dXJuIHMmJk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG4se2N1cnJlbnRUYXJnZXQ6e3ZhbHVlOnMsbDohMCxVaTohMX0sdGFyZ2V0Ont2YWx1ZTpzLGw6ITAsVWk6ITF9fSksbn1lLnhpPW5ldyBuLkNvdW50ZXI7dmFyIG09ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5BTFBIQT0uMjUsdGhpcy5IaT0xZTgsdGhpcy5xaT0xZTR9cmV0dXJuIGUucHJvdG90eXBlLlZpPWZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMCE9PXRoaXMuaml9LGUucHJvdG90eXBlLkdpPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuamk9TWF0aC5taW4odGhpcy5IaSx0L2UqOGUzKSx0aGlzfSxlLnByb3RvdHlwZS5RaT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5qaT1NYXRoLm1heCh0aGlzLkhpLGUpLHRoaXN9LGUucHJvdG90eXBlLktpPWZ1bmN0aW9uKGUpe2UuVmkoKSYmKHRoaXMuVmkoKT90aGlzLmppPXRoaXMuamkqKDEtdGhpcy5BTFBIQSkrZS5qaSp0aGlzLkFMUEhBOnRoaXMuamk9ZS5qaSl9LGUucHJvdG90eXBlLllpPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLlZpKCk/TWF0aC5yb3VuZCg4ZTMqZS90aGlzLmppKTpOYU59LGUucHJvdG90eXBlLnppPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuVmkoKT90aGlzLmppOk5hTn0sZS5wcm90b3R5cGUuSmk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5WaSgpP3RoaXMuamkvMWUzOk5hTn0sZS5wcm90b3R5cGUuV2k9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5WaSgpP3RoaXMuamkvMWU2Ok5hTn0sZS5wcm90b3R5cGUuWGk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5WaSgpP3RoaXMuamk+MWU2Pyh0aGlzLmppLzFlNikudG9GaXhlZCgyKStcIk1iL3NcIjp0aGlzLmppPjFlMz8odGhpcy5qaS8xZTMpLnRvRml4ZWQoMikrXCJLYi9zXCI6dGhpcy5qaStcImIvc1wiOlwiTmFOXCJ9LGV9KCk7ZS5aaT1tLGUuJGk9dCxlLmFwcGVuZEJ1ZmZlcj1yLGUuZW49byxlLnRuPWEsZS5ybj1oLGUuaW49YyxlLm5uPXUsZS5zbj1sLGUuYW49cCxlLmhuPWYsZS5jbj1kLGUudW49ZyxlLnBuPXYsZS5jcmVhdGVFdmVudD15fSh0LmZufHwodC5mbj17fSkpfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaShlLHQscil7cmV0dXJuIHZvaWQgMD09PXQmJih0PVwiXCIpLHZvaWQgMD09PXImJihyPVtdKSxuKGUsdCxyLCEwKX1mdW5jdGlvbiBuKGUsdCxyLGkpe3ZvaWQgMD09PXQmJih0PVwiXCIpLHZvaWQgMD09PXImJihyPVtdKSx2b2lkIDA9PT1pJiYoaT0hMSk7Zm9yKHZhciBzIGluIGUpIWZ1bmN0aW9uKHMpe2lmKGUuaGFzT3duUHJvcGVydHkocykpe3ZhciBvPWVbc107QXJyYXkuaXNBcnJheShvKT9vLmZvckVhY2goZnVuY3Rpb24oZSxvKXtcIm9iamVjdFwiPT10eXBlb2YgZSYmbihlLHQrXCIuXCIrcytcIltcIitvK1wiXVwiLHIsaSl9KTpcIm9iamVjdFwiPT10eXBlb2Ygbz9uKG8sdCtcIi5cIitzLHIsaSk6XCJudW1iZXJcIj09dHlwZW9mIG8mJmlzTmFOKG8pJiYoci5wdXNoKHQrXCIuXCIrcyksaXx8KGVbc109bnVsbCkpfX0ocyk7cmV0dXJuIHJ9ZnVuY3Rpb24gcyhlLHQpe2Z1bmN0aW9uIHIoKXtpZighZSgpKXJldHVybiBpLnJlc29sdmUoITApO3kud2hlbih0KCkscixpLnJlamVjdCl9dmFyIGk9eS5kZWZlcigpO3JldHVybiB5LnllKHIpLGkuVGV9ZnVuY3Rpb24gbyhlLHQscil7cmV0dXJuIHZvaWQgMD09PXImJihyPSEwKSxhKFwiR0VUXCIsZSx0LHIpfWZ1bmN0aW9uIGEoZSx0LHIsaSl7dm9pZCAwPT09aSYmKGk9ITApO3ZhciBuPXkuZGVmZXIoKTt0cnl7dmFyIHM9bmV3IFhNTEh0dHBSZXF1ZXN0O3Mub3BlbihlLHQsaSksdm9pZCAwIT1yJiZudWxsIT1yJiZzLnNldFJlcXVlc3RIZWFkZXIoXCJDb250ZW50LVR5cGVcIixyKSxzLm9ubG9hZD1mdW5jdGlvbigpezIwMD09cy5zdGF0dXM/bi5yZXNvbHZlKHMucmVzcG9uc2UpOm4ucmVqZWN0KHtzdGF0dXM6cy5zdGF0dXMscmVhc29uOnMuc3RhdHVzVGV4dCxib2R5OnMucmVzcG9uc2VUZXh0fSl9LHMub25lcnJvcj1mdW5jdGlvbihlKXtuLnJlamVjdCh7c3RhdHVzOi0xLHJlYXNvbjpcIk5ldHdvcmsgRXJyb3JcIn0pfSxzLnNlbmQoKX1jYXRjaChlKXtuLnJlamVjdCh7c3RhdHVzOi0xLHJlYXNvbjplfSl9cmV0dXJuIG4uVGV9ZnVuY3Rpb24gaChlLHQscixpKXt2b2lkIDA9PT1pJiYoaT0hMCk7dmFyIG49eS5kZWZlcigpO3RyeXt2YXIgcz1uZXcgWE1MSHR0cFJlcXVlc3Q7cy5vcGVuKFwiUE9TVFwiLGUsaSksdm9pZCAwIT1yJiZudWxsIT1yJiZzLnNldFJlcXVlc3RIZWFkZXIoXCJDb250ZW50LVR5cGVcIixyKSxzLm9ubG9hZD1mdW5jdGlvbigpezIwMD09cy5zdGF0dXM/bi5yZXNvbHZlKHMucmVzcG9uc2UpOm4ucmVqZWN0KHtzdGF0dXM6cy5zdGF0dXMscmVhc29uOnMuc3RhdHVzVGV4dH0pfSxzLm9uZXJyb3I9ZnVuY3Rpb24oZSl7bi5yZWplY3Qoe3N0YXR1czotMSxyZWFzb246XCJOZXR3b3JrIEVycm9yXCJ9KX0scy5zZW5kKHQpfWNhdGNoKGUpe24ucmVqZWN0KHtzdGF0dXM6LTEscmVhc29uOmV9KX1yZXR1cm4gbi5UZX1mdW5jdGlvbiBjKGUsdCl7dmFyIHIsaSxuPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJiYXNlXCIpLHM9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImhlYWRcIiksbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKSxhPW47cmV0dXJuIG4/cj1uLmhyZWY6YT1zLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJiYXNlXCIpKSxhLmhyZWY9ZSxvLmhyZWY9dCxpPW8uaHJlZixuP24uaHJlZj1yOnMucmVtb3ZlQ2hpbGQoYSksaX1mdW5jdGlvbiB1KCl7Zm9yKHZhciBlPVtdLHQ9MDt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKWVbdF09YXJndW1lbnRzW3RdO2Zvcih2YXIgcj1lWzBdLGk9MTtpPGUubGVuZ3RoO2krKyl7dmFyIG49bmV3IFJlZ0V4cChcIlxcXFx7XCIrKGktMSkrXCJcXFxcfVwiLFwiZ21cIik7cj1yLnJlcGxhY2UobixlW2ldKX1yZXR1cm4gcn1mdW5jdGlvbiBsKGUsdCl7Zm9yKHZhciByIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShyKSYmdC5oYXNPd25Qcm9wZXJ0eShyKSYmKHRbcl09ZVtyXSl9ZnVuY3Rpb24gcChlLHQscil7dmFyIGk9dihlKS5kbighMCk7Zm9yKHZhciBuIGluIGkpdHJ5e2lmKGkuaGFzT3duUHJvcGVydHkobikmJnQuaGFzT3duUHJvcGVydHkobikmJnIuaGFzT3duUHJvcGVydHkodFtuXSkpe3ZhciBzPXRbbl0sbz1pW25dO3Jbc109ZihvLHJbc10pfX1jYXRjaChlKXt9fWZ1bmN0aW9uIGYoZSx0KXt2YXIgcjtzd2l0Y2godHlwZW9mIHQpe2Nhc2VcIm51bWJlclwiOnI9cGFyc2VJbnQoZSk7YnJlYWs7Y2FzZVwiYm9vbGVhblwiOnI9XCJ0cnVlXCI9PT1lO2JyZWFrO2RlZmF1bHQ6cj1lfXJldHVybiByfWZ1bmN0aW9uIGQoZSx0LHIpe3ZhciBpPW5ldyBFO3JldHVybiBpLnRpY2tldFVybD1lLGkuY29kZT10LGkubWVzc2FnZT1UKHQpLGkuZGV0YWlsZWRNZXNzYWdlPXIsaX12YXIgZz1yKDEpLHY9cigyNykseT1yKDIpLG09cigyNiksRT1tLmduLkhpdmVTZXNzaW9uRXJyb3IsVD1tLmduLmdldEhpdmVTZXNzaW9uRXJyb3JNZXNzYWdlLEk9bS5nbi5IaXZlU2Vzc2lvbix3PXIoNTApLFM9cig2NyksUj1yKDgpLGI9cig1KSxQPXIoNCksQT1iLlJ0LkVpO2lmKEEpdmFyIEM9cigyOCkuSGl2ZVJlcXVlc3Qsaz1yKDY5KS52bjt2YXIgTz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7aWYoIXQpe2lmKDA9PU9iamVjdC5rZXlzKGUubWFwcGluZykubGVuZ3RoJiYhZS55bilyZXR1cm4gUC5FcnJvck1vbml0b3IuZ2koKS5kaShcIk5vIHJlZ2lzdGVyZWQgZGVmYXVsdCBIaXZlUmVxdWVzdEZhY3RvcnkgdGVjaFwiLGUubW4pLGUueW49ITAsZS5FbigpO3Q9T2JqZWN0LmtleXMoZS5tYXBwaW5nKVswXX1pZighKHQgaW4gZS5tYXBwaW5nKSlyZXR1cm4gZS55bnx8KFAuRXJyb3JNb25pdG9yLmdpKCkuZGkoXCJubyByZWdpc3RlcmVkIEhpdmVSZXF1ZXN0RmFjdG9yeSB0ZWNoIGZvciBzZXNzaW9uXCIse3Nlc3Npb25JZDp0fSksZS55bj0hMCksZS5FbigpO3ZhciByPWUubWFwcGluZ1t0XTtzd2l0Y2goci50ZWNoKXtjYXNlXCJIaXZlSlNcIjpyZXR1cm4gQT9yLlRuP25ldyBDKHQpOihyLlRuPSEwLG5ldyBrKHQpKTplLkVuKCk7Y2FzZVwiSGl2ZUpzUHJveHlcIjpyZXR1cm4gci5Ubj9uZXcgdy5Jbih0KTooci5Ubj0hMCxuZXcgUy53bih0KSk7Y2FzZVwiSGl2ZUphdmFcIjpjYXNlXCJTdGF0c0pTXCI6cmV0dXJuIGUuRW4oKX19cmV0dXJuIGUuRW49ZnVuY3Rpb24oKXtyZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2YgT3JpZ2luYWxYTUxIdHRwUmVxdWVzdD9uZXcgT3JpZ2luYWxYTUxIdHRwUmVxdWVzdDpuZXcgWE1MSHR0cFJlcXVlc3R9LGUuY2xlYXI9ZnVuY3Rpb24oKXtlLm1hcHBpbmc9e319LGUuU249ZnVuY3Rpb24odCl7aWYodCBpbiBlLm1hcHBpbmcpe3ZhciByPWUubWFwcGluZ1t0XTtmb3IodmFyIGkgaW4gcilcInRlY2hcIiE9PWkmJmRlbGV0ZSByW2ldfX0sZS5Sbj1mdW5jdGlvbih0KXt0IGluIGUubWFwcGluZyYmZGVsZXRlIGUubWFwcGluZ1t0XX0sZS5ibj1mdW5jdGlvbih0LHIpe3QgaW4gZS5tYXBwaW5nfHwoZS5tYXBwaW5nW3RdPXt9KSxlLm1hcHBpbmdbdF0udGVjaD1yfSxlfSgpO08ubWFwcGluZz17fSxPLnluPSExLE8ubW49XCJbSGl2ZVJlcXVlc3RGYWN0b3J5XVwiLHQuSGl2ZVJlcXVlc3RGYWN0b3J5PU87dmFyIF89ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxyLGkpe3RoaXMuUG49ITEsdGhpcy50aWNrZXRVcmw9ZSx0aGlzLnRpY2tldD10LHRoaXMubWFuaWZlc3Q9cix0aGlzLkFuPXkuZGVmZXIoKSx0aGlzLkNuPWksdGhpcy5DbiYmdGhpcy5Bbi5yZXNvbHZlKHRoaXMuQ24pfXJldHVybiBlLnByb3RvdHlwZS5jaT1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbCE9PXRoaXMudGVjaCYmdGhpcy50ZWNoLmNpKGUsdGhpcyl9LGUucHJvdG90eXBlLmtuPWZ1bmN0aW9uKGUpe3RoaXMuUG4hPWUmJih0aGlzLlBuPWUsdGhpcy50ZWNoJiZ0aGlzLnRlY2guT24odGhpcyxlKSl9LGUucHJvdG90eXBlLl9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuUG59LGUucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKGUsdCl7aWYodm9pZCAwPT09dCYmKHQ9ITApLHRoaXMuUG49ITAsbnVsbCE9dGhpcy50ZWNoKXJldHVybiB0aGlzLnRlY2guTm4odGhpcyxlLHQpfSxlLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRpY2tldC50b1N0cmluZygpfSxlLnByb3RvdHlwZS5Ebj1mdW5jdGlvbigpe3ZhciBlPW5ldyBJO3JldHVybiBlLmlkPXRoaXMuaWQsZS50aWNrZXRVcmw9dGhpcy50aWNrZXRVcmwsZS5tYW5pZmVzdD10aGlzLm1hbmlmZXN0LGUudGVjaD10aGlzLnRlY2guRm4oKSxlfSxlLnByb3RvdHlwZS5Mbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLkFuLlRlfSxlLnByb3RvdHlwZS5Nbj1mdW5jdGlvbihlKXt0aGlzLkNuPWUsdGhpcy5Bbi5yZXNvbHZlKHRoaXMuQ24pfSxlfSgpO3QuQm49Xzt2YXIgTj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGV9KCk7dC5Vbj1OO3ZhciBEPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuc3VjY2Vzcz0wLHRoaXMueG49MCx0aGlzLkhuPTB9cmV0dXJuIGV9KCk7dC5xbj1EO3ZhciBGPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuVm49MCx0aGlzLmpuPTAsdGhpcy5Hbj1uZXcgZyx0aGlzLlFuPW5ldyBnfXJldHVybiBlLnByb3RvdHlwZS5Lbj1mdW5jdGlvbihlLHQscixpKXt2b2lkIDA9PT1pJiYoaT0hMCk7dmFyIG49ZT90aGlzLkduOnRoaXMuUW47bi5oYXModCl8fG4uc2V0KHQsbmV3IEQpO3ZhciBzPW4uZ2V0KHQpO3MuSG4rPXIsaSYmcy5zdWNjZXNzKyt9LGUucHJvdG90eXBlLlluPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZT90aGlzLkduOnRoaXMuUW47ci5oYXModCl8fHIuc2V0KHQsbmV3IEQpLHIuZ2V0KHQpLnhuKyt9LGUucHJvdG90eXBlLnpuPWZ1bmN0aW9uKGUpe3RoaXMuYmFuZHdpZHRoPWV9LGUucHJvdG90eXBlLkpuPWZ1bmN0aW9uKCl7dGhpcy5WbisrfSxlLnByb3RvdHlwZS5Xbj1mdW5jdGlvbigpe3RoaXMuam4rK30sZS5wcm90b3R5cGUuWG49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iYW5kd2lkdGh9LGUucHJvdG90eXBlLlpuPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuR259LGUucHJvdG90eXBlLiRuPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuUW59LGUucHJvdG90eXBlLmVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuVm59LGUucHJvdG90eXBlLnJzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuam59LGV9KCk7dC5ucz1GO3ZhciBMPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3ZhciB0PXRoaXM7aWYoZS5saSl0aHJvdyBuZXcgRXJyb3IoXCJFcnJvcjogSW5zdGFudGlhdGlvbiBmYWlsZWQ6IFVzZSBWaXNpYmlsaXR5Q2hhbmdlTGlzdGVuZXIuZ2V0SW5zdGFuY2UoKSBpbnN0ZWFkIG9mIG5ldy5cIik7dmFyIHIsaTt2b2lkIDAhPT1kb2N1bWVudC5oaWRkZW4/KHI9XCJoaWRkZW5cIixpPVwidmlzaWJpbGl0eWNoYW5nZVwiKTp2b2lkIDAhPT1kb2N1bWVudC5tc0hpZGRlbj8ocj1cIm1zSGlkZGVuXCIsaT1cIm1zdmlzaWJpbGl0eWNoYW5nZVwiKTp2b2lkIDAhPT1kb2N1bWVudC53ZWJraXRIaWRkZW4mJihyPVwid2Via2l0SGlkZGVuXCIsaT1cIndlYmtpdHZpc2liaWxpdHljaGFuZ2VcIiksdm9pZCAwIT09ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lciYmdm9pZCAwIT09ZG9jdW1lbnRbcl0/ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihpLGZ1bmN0aW9uKCl7dmFyIGU9IWRvY3VtZW50W3JdO3Quc3MuZm9yRWFjaChmdW5jdGlvbihyKXtyLmNhbGwodCxlKX0pfSwhMSk6ZS50ZSYmZS50ZS5kZWJ1ZyhcIndhcm4gLSB2aXNpYmlsaXR5Q2hhbmdlIGxpc3RlbmVyIG5vdCBzdXBwb3J0ZWRcIiksdGhpcy5zcz1uZXcgQXJyYXl9cmV0dXJuIGUuZ2k9ZnVuY3Rpb24odCl7cmV0dXJuIHQmJih0aGlzLnRlPXQpLHZvaWQgMD09PXRoaXMubGkmJih0aGlzLmxpPW5ldyBlKSx0aGlzLmxpfSxlLnByb3RvdHlwZS5hcz1mdW5jdGlvbihlKXt0aGlzLnNzLnB1c2goZSl9LGV9KCk7dC5ocz1MLHQuY3M9aSx0LnVzPW4sdC5scz1zLHQucHM9byx0LmZzPWEsdC5kcz1oLHQuY249Yyx0LmdzPXUsdC52cz1sLHQueXM9cCx0Lm1zPWQ7dmFyIE09ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlLmdldEl0ZW09ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiB3aW5kb3cuc2Vzc2lvblN0b3JhZ2U/d2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oZSk6bnVsbH1jYXRjaChlKXtyZXR1cm4gbnVsbH19LGUuc2V0SXRlbT1mdW5jdGlvbihlLHQpe3RyeXtyZXR1cm4hIXdpbmRvdy5zZXNzaW9uU3RvcmFnZSYmKHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5zZXRJdGVtKGUsdCksITApfWNhdGNoKGUpe3JldHVybiExfX0sZS5yZW1vdmVJdGVtPWZ1bmN0aW9uKGUpe3RyeXt3aW5kb3cuc2Vzc2lvblN0b3JhZ2UmJndpbmRvdy5zZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKGUpfWNhdGNoKGUpe3JldHVybiBudWxsfX0sZX0oKTt0LkVzPU07dmFyIEI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMuVHM9ZX1yZXR1cm4gZS5wcm90b3R5cGUuSXM9ZnVuY3Rpb24oZSl7dmFyIHQ9RGF0ZS5ub3coKTtyZXR1cm4gdGhpcy5pc0VxdWFsKHRoaXMud3MsZSl8fCh0aGlzLlNzPXQpLHRoaXMud3M9ZSx0LXRoaXMuU3M+PXRoaXMuVHN9LGUucHJvdG90eXBlLmlzRXF1YWw9ZnVuY3Rpb24oZSx0KXtpZihlJiZ0KXtyZXR1cm5bdC5Scy1lLlJzLHQuYnMtZS5icyx0LlBzLWUuUHNdLnJlZHVjZShmdW5jdGlvbihlLHQpe3JldHVybiBlJiZNYXRoLmFicyh0KTwxMH0sITApfXJldHVybiExfSxlfSgpO3QuQXM9Qjt2YXIgVT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGUuQ3M9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5DcygpO3JldHVybiBSLkhpdmVDb25maWcuU2Vuc2l0aXZlSW5mby5yZXN0cmljdGVkQ29ubmVjdGl2aXR5SW5mbyYmdCYmKHQ9dC5yZXBsYWNlKC9bMC05XSokLyxcIjBcIikpLHR9LGUua3M9ZnVuY3Rpb24oZSl7cmV0dXJuIFIuSGl2ZUNvbmZpZy5TZW5zaXRpdmVJbmZvLnJlc3RyaWN0ZWRDb25uZWN0aXZpdHlJbmZvP1IuSGl2ZUNvbmZpZy5TZW5zaXRpdmVJbmZvLmhpZGRlbkhvc3RuYW1lVmFsdWU6ZS5PcygpfSxlfSgpO3QuX3M9VX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpLG49dGhpcyYmdGhpcy5Oc3x8ZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiByKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfWZvcih2YXIgaSBpbiB0KXQuaGFzT3duUHJvcGVydHkoaSkmJihlW2ldPXRbaV0pO2UucHJvdG90eXBlPW51bGw9PT10P09iamVjdC5jcmVhdGUodCk6KHIucHJvdG90eXBlPXQucHJvdG90eXBlLG5ldyByKX0scz1yKDM4KSxvPXIoNSksYT1vLlJ0Ll9pLGg9by5SdC5MaTshZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlfSgpO3QuRGFzaEZpbHRlckJpdHJhdGVzPW51bGwsdC5EYXNoUmVtb3ZlQml0cmF0ZVNpemU9ITEsZS5EYXNoPXQ7dmFyIHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlfSgpO3IuRHM9ITAsZS5TdGF0cz1yO3ZhciBpPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBuKHQsZSksdH0ocy5IaXZlQ29uZmlnLkRlYnVnTG9ncyk7aS5UcmFja2VyTG9ncz0wLGUuRGVidWdMb2dzPWk7dmFyIG89ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlfSgpO28udXNpej1udWxsLGUuVURQQnJvYWRjYXN0PW87dmFyIGM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlfSgpO2MucmVzdHJpY3RlZENvbm5lY3Rpdml0eUluZm89YSxjLmhpZGRlbkhvc3RuYW1lVmFsdWU9XCJbSGlkZGVuXVwiLGUuU2Vuc2l0aXZlSW5mbz1jO3ZhciB1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZX0oKTt1LkZzPW51bGwsdS5Mcz1udWxsLGUuQ2xpZW50SW5mbz11O3ZhciBsPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZX0oKTtsLmRldGVjdFByaXZhdGVJUD1oLGUuQ29ubkluZm89bH0oaT10LkhpdmVDb25maWd8fCh0LkhpdmVDb25maWc9e30pKSxcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiYodm9pZCAwPT09d2luZG93LkhpdmVDb25maWcmJih3aW5kb3cuSGl2ZUNvbmZpZz17fSksd2luZG93LkhpdmVDb25maWcuRGFzaD1pLkRhc2gsd2luZG93LkhpdmVDb25maWcuU3RhdHM9aS5TdGF0cyx3aW5kb3cuSGl2ZUNvbmZpZy5VRFBCcm9hZGNhc3Q9aS5VRFBCcm9hZGNhc3Qsd2luZG93LkhpdmVDb25maWcuRGVidWdMb2dzPWkuRGVidWdMb2dzLHdpbmRvdy5IaXZlQ29uZmlnLlNlbnNpdGl2ZUluZm89aS5TZW5zaXRpdmVJbmZvLHdpbmRvdy5IaXZlQ29uZmlnLkNsaWVudEluZm89aS5DbGllbnRJbmZvLHdpbmRvdy5IaXZlQ29uZmlnLkNvbm5JbmZvPWkuQ29ubkluZm8pfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7IWZ1bmN0aW9uKGUpe2UuTXM9XCJzdGF0c0NsaWVudFwiLGUuSD1cInNlcnZpY2VzQ2xpZW50XCIsZS5Ccz1cInRpY2tldFJlc29sdmVyXCIsZS5EPVwiaWRlbnRpdHlQcm92aWRlclwiLGUuVXM9XCJjb25uSW5mb1Byb3ZpZGVyXCIsZS54cz1cInBlZXJJbmZvXCIsZS5Icz1cInN0cmVhbUluZm9Qcm92aWRlclwiLGUucXM9XCJyZXBvcnRpbmdcIixlLlZzPVwic3RhdHNTdG9yZVwiLGUuanM9XCJ0cmFja01hbmFnZXJcIixlLkdzPVwidHJhY2tDbGllbnRcIn0odC5Rc3x8KHQuUXM9e30pKX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiOyFmdW5jdGlvbihlKXtlW2UuS3M9MF09XCJBVURJT1wiLGVbZS5Zcz0xXT1cIlZJREVPXCIsZVtlLnpzPTJdPVwiTUVUQURBVEFcIixlW2UuSnM9M109XCJPVEhFUlwifSh0LldzfHwodC5Xcz17fSkpfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7cig1Nik7IWZ1bmN0aW9uKGUpe2VbZS5Ycz0wXT1cIlRSQUNLRVJcIixlW2UuSz0xXT1cIlVEUFwifSh0LlpzfHwodC5acz17fSkpOyFmdW5jdGlvbihlKXtlW2UuJHM9MV09XCJQTEFZRVJcIixlW2UuZW89Ml09XCJQMlBfQUdFTlRcIixlW2UudG89M109XCJQUkVGRVRDSEVSX0ZJUlNUX1RJRVJcIixlW2Uucm89NF09XCJQUkVGRVRDSEVSX1NFQ09ORF9USUVSXCJ9KHQuaW98fCh0LmlvPXt9KSk7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlfSgpO3Qubm89aTt2YXIgbj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0LHIpe3RoaXMuc289cix0aGlzLmludGVybmFsQXM9MCx0aGlzLmV4dGVybmFsQXM9MCx0aGlzLnR5cGU9ZSxyfHwodGhpcy5zbz0hMSksdCYmKHRoaXMuZ3VpZD10Lmd1aWQsdGhpcy5pbnRlcm5hbEFzPXQuaW50ZXJuYWxBcyx0aGlzLmV4dGVybmFsQXM9dC5leHRlcm5hbEFzLHRoaXMub289dC5vbyx0aGlzLmJhbmR3aWR0aD10LmJhbmR3aWR0aCx0aGlzLmFvPXQuYW8sdGhpcy5obz10LmhvLHRoaXMuY289dC5jbyx0aGlzLnRpbWVzdGFtcD10LnRpbWVzdGFtcCx0aGlzLnVvPXQudW8sdGhpcy5sbz10LmxvKX1yZXR1cm4gZX0oKTt0LnBvPW59LGZ1bmN0aW9uKGUsdCxyKXtyKDYwKSxyKDMzKSxyKDYxKSxyKDk4KX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGkoKXt0aHJvdyBuZXcgRXJyb3IoXCJDYW4ndCBjb25zdHJ1Y3QuIEdlbmVyaWNDb2xsZWN0aW9uIGlzIGEgbWl4aW4uXCIpfWUudD1pLGkuZm89T2JqZWN0LmZyZWV6ZShbXSksaS5wcm90b3R5cGUuYWRkRWFjaD1mdW5jdGlvbihlKXtpZihlJiZPYmplY3QoZSk9PT1lKWlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGUuZm9yRWFjaCllLmZvckVhY2godGhpcy5hZGQsdGhpcyk7ZWxzZSBpZihcIm51bWJlclwiPT10eXBlb2YgZS5sZW5ndGgpZm9yKHZhciB0PTA7dDxlLmxlbmd0aDt0KyspdGhpcy5hZGQoZVt0XSx0KTtlbHNlIE9iamVjdC5rZXlzKGUpLmZvckVhY2goZnVuY3Rpb24odCl7dGhpcy5hZGQoZVt0XSx0KX0sdGhpcyk7ZWxzZSBpZihlJiZcIm51bWJlclwiPT10eXBlb2YgZS5sZW5ndGgpZm9yKHZhciB0PTA7dDxlLmxlbmd0aDt0KyspdGhpcy5hZGQoZVt0XSx0KTtyZXR1cm4gdGhpc30saS5wcm90b3R5cGUuZG89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3RoaXMuZGVsZXRlKGUsdCl9LHRoaXMpLHRoaXN9LGkucHJvdG90eXBlLmZvckVhY2g9ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzWzFdO3JldHVybiB0aGlzLnJlZHVjZShmdW5jdGlvbihyLGksbixzLG8pe2UuY2FsbCh0LGksbixzLG8pfSx2b2lkIDApfSxpLnByb3RvdHlwZS5tYXA9ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzWzFdLHI9W107cmV0dXJuIHRoaXMucmVkdWNlKGZ1bmN0aW9uKGksbixzLG8sYSl7ci5wdXNoKGUuY2FsbCh0LG4scyxvLGEpKX0sdm9pZCAwKSxyfSxpLnByb3RvdHlwZS5lbnVtZXJhdGU9ZnVuY3Rpb24oZSl7bnVsbD09ZSYmKGU9MCk7dmFyIHQ9W107cmV0dXJuIHRoaXMucmVkdWNlKGZ1bmN0aW9uKHIsaSl7dC5wdXNoKFtlKyssaV0pfSx2b2lkIDApLHR9LGkucHJvdG90eXBlLmdyb3VwPWZ1bmN0aW9uKGUsdCxyKXtyPXJ8fE9iamVjdC5hZTt2YXIgaT1bXSxuPVtdO3JldHVybiB0aGlzLmZvckVhY2goZnVuY3Rpb24ocyxvLGEpe3ZhciBoLG89ZS5jYWxsKHQscyxvLGEpLGM9bi5pbmRleE9mKG8scik7LTE9PT1jPyhoPVtdLGkucHVzaChbbyxoXSksbi5wdXNoKG8pKTpoPWlbY11bMV0saC5wdXNoKHMpfSksaX0saS5wcm90b3R5cGUudG9BcnJheT1mdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcChGdW5jdGlvbi5pZGVudGl0eSl9LGkucHJvdG90eXBlLnZvPWZ1bmN0aW9uKCl7dmFyIGU9e307cmV0dXJuIHRoaXMucmVkdWNlKGZ1bmN0aW9uKHQscixpKXtlW2ldPXJ9LHZvaWQgMCksZX0saS5wcm90b3R5cGUuZmlsdGVyPWZ1bmN0aW9uKGUpe3ZhciB0PWFyZ3VtZW50c1sxXSxyPXRoaXMuZGUoKTtyZXR1cm4gdGhpcy5yZWR1Y2UoZnVuY3Rpb24oaSxuLHMsbyxhKXtlLmNhbGwodCxuLHMsbyxhKSYmci5hZGQobixzKX0sdm9pZCAwKSxyfSxpLnByb3RvdHlwZS5ldmVyeT1mdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHNbMV07cmV0dXJuIHRoaXMucmVkdWNlKGZ1bmN0aW9uKHIsaSxuLHMsbyl7cmV0dXJuIHImJmUuY2FsbCh0LGksbixzLG8pfSwhMCl9LGkucHJvdG90eXBlLnNvbWU9ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzWzFdO3JldHVybiB0aGlzLnJlZHVjZShmdW5jdGlvbihyLGksbixzLG8pe3JldHVybiByfHxlLmNhbGwodCxpLG4scyxvKX0sITEpfSxpLnByb3RvdHlwZS5hbGw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ldmVyeShCb29sZWFuKX0saS5wcm90b3R5cGUuaHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zb21lKEJvb2xlYW4pfSxpLnByb3RvdHlwZS5taW49ZnVuY3Rpb24oZSl7ZT1lfHx0aGlzLnlvfHxPYmplY3QubW87dmFyIHQ9ITA7cmV0dXJuIHRoaXMucmVkdWNlKGZ1bmN0aW9uKHIsaSl7cmV0dXJuIHQ/KHQ9ITEsaSk6ZShpLHIpPDA/aTpyfSx2b2lkIDApfSxpLnByb3RvdHlwZS5tYXg9ZnVuY3Rpb24oZSl7ZT1lfHx0aGlzLnlvfHxPYmplY3QubW87dmFyIHQ9ITA7cmV0dXJuIHRoaXMucmVkdWNlKGZ1bmN0aW9uKHIsaSl7cmV0dXJuIHQ/KHQ9ITEsaSk6ZShpLHIpPjA/aTpyfSx2b2lkIDApfSxpLnByb3RvdHlwZS5Fbz1mdW5jdGlvbihlKXtyZXR1cm4gZT12b2lkIDA9PT1lPzA6ZSx0aGlzLnJlZHVjZShmdW5jdGlvbihlLHQpe3JldHVybiBlK3R9LGUpfSxpLnByb3RvdHlwZS5Ubz1mdW5jdGlvbihlKXt2YXIgdD12b2lkIDA9PT1lPzA6ZSxyPXZvaWQgMD09PWU/MDplO3JldHVybiB0aGlzLnJlZHVjZShmdW5jdGlvbihlLGkpe3QrPWkscis9MX0sdm9pZCAwKSx0L3J9LGkucHJvdG90eXBlLmNvbmNhdD1mdW5jdGlvbigpe2Zvcih2YXIgZT10aGlzLmRlKHRoaXMpLHQ9MDt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKWUuYWRkRWFjaChhcmd1bWVudHNbdF0pO3JldHVybiBlfSxpLnByb3RvdHlwZS5Jbz1mdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIHRoaXMucmVkdWNlKGZ1bmN0aW9uKHQscil7cmV0dXJuIHIuZm9yRWFjaChmdW5jdGlvbihlKXt0aGlzLnB1c2goZSl9LHQsZSksdH0sW10pfSxpLnByb3RvdHlwZS53bz1mdW5jdGlvbigpe3ZhciBlPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7cmV0dXJuIGUudW5zaGlmdCh0aGlzKSxBcnJheS5TbyhlKX0saS5wcm90b3R5cGUuam9pbj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5yZWR1Y2UoZnVuY3Rpb24odCxyKXtyZXR1cm4gdm9pZCAwPT09dD9yOnQrZStyfSx2b2lkIDApfSxpLnByb3RvdHlwZS5Sbz1mdW5jdGlvbihlLHQscil7cmV0dXJuIGU9ZXx8dGhpcy55b3x8T2JqZWN0Lm1vLGUuYm8/KHQ9ZS5ibyxlPWUubW98fHRoaXMueW98fE9iamVjdC5tbyk6dD10fHxGdW5jdGlvbi5pZGVudGl0eSx2b2lkIDA9PT1yJiYocj0xKSx0aGlzLm1hcChmdW5jdGlvbihlKXtyZXR1cm57Ym86dChlKSx2YWx1ZTplfX0pLnNvcnQoZnVuY3Rpb24odCxpKXtyZXR1cm4gZSh0LmJvLGkuYm8pKnJ9KS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUudmFsdWV9KX0saS5wcm90b3R5cGUucmV2ZXJzZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kZSh0aGlzKS5yZXZlcnNlKCl9LGkucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKGUsdCl7aWYodm9pZCAwPT09ZSllPTEvMDtlbHNlIGlmKDA9PT1lKXJldHVybiB0aGlzO3ZhciByPXRoaXMuZGUoKTtyZXR1cm4gdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKGksbil7ci5hZGQoT2JqZWN0LmNsb25lKGksZS0xLHQpLG4pfSx0aGlzKSxyfSxpLnByb3RvdHlwZS5vbmx5PWZ1bmN0aW9uKCl7aWYoMT09PXRoaXMubGVuZ3RoKXJldHVybiB0aGlzLlBvKCl9LGkucHJvdG90eXBlLml0ZXJhdG9yPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuQW8uYXBwbHkodGhpcyxhcmd1bWVudHMpfSxpLmZlPXtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sZW5ndGh9LGw6ITEsdTohMH0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLFwic2l6ZVwiLGkuZmUpLHIoNjApfSxmdW5jdGlvbihlLHQscil7ZnVuY3Rpb24gaSgpe3Rocm93IG5ldyBFcnJvcihcIlRoaXMgaXMgYW4gYWJzdHJhY3QgaW50ZXJmYWNlLiBNaXggaXQuIERvbid0IGNvbnN0cnVjdCBpdFwiKX1mdW5jdGlvbiBuKGUsdCxyLGkpe3ZhciBuLHMsbyxhPWUuYWN0aXZlLGg9ZS5DbyxjPWgubGVuZ3RoLHU9Yztmb3IoYS5sZW5ndGg+YyYmKGEubGVuZ3RoPWMpO2MtLTspYVtjXT1oW2NdO2ZvcihzPTA7czx1O3MrKylpZihvPWFbc10sIXN8fGguaW5kZXhPZihvKT49MCl7aWYobj1vW2Uua29dfHxvW2UuT29dfHxvLCFuLmNhbGwpdGhyb3cgbmV3IEVycm9yKFwiTm8gZXZlbnQgbGlzdGVuZXIgZm9yIFwiK2UuX28rXCIgb3IgXCIrZS5ObytcIiBvciBjYWxsIG9uIFwiK24pO24uY2FsbChvLHIsdCxpKX19cigxMik7dmFyIHM9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtlLnQ9aSxpLmRlYnVnPSEwLGkucHJvdG90eXBlLkRvPWZ1bmN0aW9uKGUpe3RoaXMuRm98fE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwiX19wcm9wZXJ0eUNoYW5nZUxpc3RlbmVyc19fXCIse3ZhbHVlOnt9LGw6ITEsdTohMCxVaTohMH0pO3ZhciB0PXRoaXMuRm87aWYoIXMuY2FsbCh0LGUpKXt2YXIgcj1TdHJpbmcoZSk7cj1yJiZyWzBdLnRvVXBwZXJDYXNlKCkrci5zbGljZSgxKSx0W2VdPXtMbzp7Q286W10sYWN0aXZlOltdLGtvOlwiaGFuZGxlXCIrcitcIldpbGxDaGFuZ2VcIixPbzpcImhhbmRsZVByb3BlcnR5V2lsbENoYW5nZVwifSxNbzp7Q286W10sYWN0aXZlOltdLGtvOlwiaGFuZGxlXCIrcitcIkNoYW5nZVwiLE9vOlwiaGFuZGxlUHJvcGVydHlDaGFuZ2VcIn19fXJldHVybiB0W2VdfSxpLnByb3RvdHlwZS5Cbz1mdW5jdGlvbihlKXtpZighdGhpcy5GbylyZXR1cm4hMTtpZighZSlyZXR1cm4hMDt2YXIgdD10aGlzLkZvO3JldHVybiEhcy5jYWxsKHQsZSl9LGkucHJvdG90eXBlLlVvPWZ1bmN0aW9uKGUsdCxyKXt0aGlzLnhvJiYhdGhpcy5IbyYmdGhpcy54bygpO3ZhciBuLHM9aS5Ebyh0aGlzLGUpO249cj9zLkxvOnMuTW8saS5xbyh0aGlzLGUpLG4uQ28ucHVzaCh0KTt2YXIgbz10aGlzO3JldHVybiBmdW5jdGlvbigpe2kuVm8obyxlLHQsciksbz1udWxsfX0saS5wcm90b3R5cGUuam89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaS5Vbyh0aGlzLGUsdCwhMCl9LGkucHJvdG90eXBlLlZvPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbixzPWkuRG8odGhpcyxlKTtuPXI/cy5MbzpzLk1vO3ZhciBvPW4uQ28ubGFzdEluZGV4T2YodCk7aWYoLTE9PT1vKXRocm93IG5ldyBFcnJvcihcIkNhbid0IHJlbW92ZSBwcm9wZXJ0eSBjaGFuZ2UgbGlzdGVuZXI6IGRvZXMgbm90IGV4aXN0OiBwcm9wZXJ0eSBuYW1lXCIrSlNPTi5zdHJpbmdpZnkoZSkpO24uQ28uc3BsaWNlKG8sMSl9LGkucHJvdG90eXBlLkdvPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGkuVm8odGhpcyxlLHQsITApfSxpLnByb3RvdHlwZS5Rbz1mdW5jdGlvbihlLHQscil7dmFyIHMsbz1pLkRvKHRoaXMsZSk7aWYoIW8uY2kpe28uY2k9ITAscz1yP28uTG86by5Nbzt0cnl7bihzLGUsdCx0aGlzKX1maW5hbGx5e28uY2k9ITF9fX0saS5wcm90b3R5cGUuS289ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaS5Rbyh0aGlzLGUsdCwhMCl9LGkucHJvdG90eXBlLnFvPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuWW87aWYodCl7aWYocy5jYWxsKHQsZSkpcmV0dXJufWVsc2V7aWYoQXJyYXkuaXNBcnJheSh0aGlzKSlyZXR1cm47aWYoIU9iamVjdC5pc0V4dGVuc2libGUodGhpcykpdGhyb3cgbmV3IEVycm9yKFwiQ2FuJ3QgbWFrZSBwcm9wZXJ0eSBcIitKU09OLnN0cmluZ2lmeShlKStcIiBvYnNlcnZhYmxlIG9uIFwiK3RoaXMrXCIgYmVjYXVzZSBvYmplY3QgaXMgbm90IGV4dGVuc2libGVcIik7dD17fSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcIl9fb3ZlcnJpZGRlblByb3BlcnR5RGVzY3JpcHRvcnNfX1wiLHt2YWx1ZTp0LGw6ITEsVWk6ITAsdTohMH0pfXZhciByO1wib2JqZWN0XCI9PXR5cGVvZiB0aGlzLnpvP3I9dGhpcy56bzoocj17fSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcIl9fc3RhdGVfX1wiLHt2YWx1ZTpyLFVpOiEwLGw6ITF9KSkscltlXT10aGlzW2VdO3ZhciBpLG89dGhpcztkb3tpZihpPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobyxlKSlicmVhaztvPU9iamVjdC5nZXRQcm90b3R5cGVPZihvKX13aGlsZShvKTtpZihpKXtpZighaS51KXJldHVybjtpZighaS5VaSYmIWkuc2V0KXJldHVybn1lbHNlIGk9e3ZhbHVlOnZvaWQgMCxsOiEwLFVpOiEwLHU6ITB9O3RbZV09aTt2YXIgYTthPVwidmFsdWVcImluIGk/e2dldDpmdW5jdGlvbigpe3JldHVybiBpLnZhbHVlfSxzZXQ6ZnVuY3Rpb24odCl7dmFyIHMsbztpZih0IT09aS52YWx1ZSl7aWYocz10aGlzLkZvW2VdLCEobz1zLmNpKSl7cy5jaT0hMDt0cnl7bihzLkxvLGUsaS52YWx1ZSx0aGlzKX1maW5hbGx5e319aWYoaS52YWx1ZT10LHJbZV09dCwhbyl0cnl7bihzLk1vLGUsdCx0aGlzKX1maW5hbGx5e3MuY2k9ITF9fX0sbDppLmwsdTohMH06e2dldDppLmdldCxzZXQ6ZnVuY3Rpb24odCl7dmFyIHMsbyxhPXRoaXNbZV07aWYoaS5zZXQuY2FsbCh0aGlzLHQpLCh0PXRoaXNbZV0pIT09YSl7aWYocz10aGlzLkZvW2VdLCEobz1zLmNpKSl7cy5jaT0hMDt0cnl7bihzLkxvLGUsYSx0aGlzKX1maW5hbGx5e319aWYocltlXT10LCFvKXRyeXtuKHMuTW8sZSx0LHRoaXMpfWZpbmFsbHl7cy5jaT0hMX19fSxsOmkubCx1OiEwfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxlLGEpfSxpLkRvPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuRG8/ZS5Ebyh0KTppLnByb3RvdHlwZS5Eby5jYWxsKGUsdCl9LGkuQm89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5Cbz9lLkJvKHQpOmkucHJvdG90eXBlLkJvLmNhbGwoZSx0KX0saS5Vbz1mdW5jdGlvbihlLHQscixuKXtpZihPYmplY3QuSm8oZSkpcmV0dXJuIGUuVW8/ZS5Vbyh0LHIsbik6aS5wcm90b3R5cGUuVW8uY2FsbChlLHQscixuKX0saS5Wbz1mdW5jdGlvbihlLHQscixuKXtpZihPYmplY3QuSm8oZSkpcmV0dXJuIGUuVm8/ZS5Wbyh0LHIsbik6aS5wcm90b3R5cGUuVm8uY2FsbChlLHQscixuKX0saS5Rbz1mdW5jdGlvbihlLHQscixuKXtpZihPYmplY3QuSm8oZSkpcmV0dXJuIGUuUW8/ZS5Rbyh0LHIsbik6aS5wcm90b3R5cGUuUW8uY2FsbChlLHQscixuKX0saS5qbz1mdW5jdGlvbihlLHQscil7cmV0dXJuIGkuVW8oZSx0LHIsITApfSxpLkdvPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gaS5WbyhlLHQsciwhMCl9LGkuS289ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBpLlFvKGUsdCxyLCEwKX0saS5xbz1mdW5jdGlvbihlLHQpe3JldHVybiBlLnFvP2UucW8odCk6aS5wcm90b3R5cGUucW8uY2FsbChlLHQpfX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiOyFmdW5jdGlvbihlKXtlLldvPVwic25hcEFjY291bnRpbmdNYW5hZ2VyXCIsZS5Ybz1cIm1lbWJlcnNoaXBcIixlLlpvPVwicGFydG5lcnNoaXBcIixlLiRvPVwiaW5QYXJ0bmVyc2hpcFwiLGUuZWE9XCJvdXRQYXJ0bmVyc2hpcFwiLGUudGE9XCJpblByZWZldGNoZXJQYXJ0bmVyc2hpcFwiLGUucmE9XCJvdXRQcmVmZXRjaGVyUGFydG5lcnNoaXBcIixlLmlhPVwiY2FjaGVcIixlLm5hPVwibGl2ZWNhY2hlXCIsZS5zYT1cInZvZGNhY2hlXCIsZS5vYT1cIm9iakluZGV4XCIsZS5hYT1cImNlbnRyRnJhZ21lbnRcIixlLmhhPVwiaGNhY2hlXCIsZS5jYT1cInJlc3BvbmRlclwiLGUudWE9XCJyZXF1ZXN0ZXJcIixlLmxhPVwicDJwUmVxdWVzdGVyXCIsZS5wYT1cInBlZXJcIixlLmZhPVwiY29udGV4dFJlc29sdmVyXCIsZS5kYT1cInZpZGVvUHJlZmV0Y2hlclwiLGUuZ2E9XCJwcmVmZXRjaE1hbmFnZXJcIixlLnZhPVwicGlja2VyXCIsZS55YT1cInRyYWNrZXJDbGllbnRcIixlLm1hPVwic2NvcmVVcGRhdGVyXCIsZS5VPVwic2VydmVyTWFuYWdlclwiLGUuRWE9XCJyZXF1ZXN0VHJhY2tlclwiLGUuVGE9XCJ0cmFja2VyTWFuYWdlclwiLGUuSWE9XCJyZW5kZXJTdGF0c1wiLGUud2E9XCJ1ZHBCcm9hZGNhc3RlclwiLGUuU2E9XCJ1ZHBEaXNjb3ZlcnlcIixlLkNpPVwidWRwTGVhZGVyRWxlY3Rpb25cIixlLlJhPVwibm9kZUluZm9cIixlLmJhPVwiaXBzcG9vZmluZ1wifSh0LlBhfHwodC5QYT17fSkpfSxmdW5jdGlvbihlLHQpe2UudD1mdW5jdGlvbigpe3JldHVybiBuZXcgRnVuY3Rpb259fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9ITAsbj17QWE6ZnVuY3Rpb24oZSl7cmV0dXJuXCJib29sZWFuXCIhPXR5cGVvZiBlP25ldyBFcnJvcihcIkFyZ3VtZW50IHR5cGU6IFwiK3R5cGVvZiBlK1wiLiBQbGVhc2UgdXNlIGEgYm9vbGVhbi5cIik6KGk9ZSxlP1wiYWRhcHRlci5qcyBsb2dnaW5nIGRpc2FibGVkXCI6XCJhZGFwdGVyLmpzIGxvZ2dpbmcgZW5hYmxlZFwiKX0sbG9nOmZ1bmN0aW9uKCl7aWYoXCJvYmplY3RcIj09dHlwZW9mIHdpbmRvdyl7aWYoaSlyZXR1cm47XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGNvbnNvbGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGNvbnNvbGUubG9nJiZjb25zb2xlLmxvZy5hcHBseShjb25zb2xlLGFyZ3VtZW50cyl9fSxDYTpmdW5jdGlvbihlLHQscil7dmFyIGk9ZS5tYXRjaCh0KTtyZXR1cm4gaSYmaS5sZW5ndGg+PXImJnBhcnNlSW50KGlbcl0sMTApfSxrYTpmdW5jdGlvbigpe3ZhciBlPXt9O2lmKGUuT2E9bnVsbCxlLnZlcnNpb249bnVsbCxcInVuZGVmaW5lZFwiPT10eXBlb2Ygd2luZG93fHwhd2luZG93Lm5hdmlnYXRvcilyZXR1cm4gZS5PYT1cIk5vdCBhIGJyb3dzZXIuXCIsZTtpZihuYXZpZ2F0b3IubW96R2V0VXNlck1lZGlhKWUuT2E9XCJmaXJlZm94XCIsZS52ZXJzaW9uPXRoaXMuQ2EobmF2aWdhdG9yLnVzZXJBZ2VudCwvRmlyZWZveFxcLyhcXGQrKVxcLi8sMSk7ZWxzZSBpZihuYXZpZ2F0b3Iud2Via2l0R2V0VXNlck1lZGlhKWlmKHdpbmRvdy53ZWJraXRSVENQZWVyQ29ubmVjdGlvbillLk9hPVwiY2hyb21lXCIsZS52ZXJzaW9uPXRoaXMuQ2EobmF2aWdhdG9yLnVzZXJBZ2VudCwvQ2hyb20oZXxpdW0pXFwvKFxcZCspXFwuLywyKTtlbHNle2lmKCFuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9WZXJzaW9uXFwvKFxcZCspLihcXGQrKS8pKXJldHVybiBlLk9hPVwiVW5zdXBwb3J0ZWQgd2Via2l0LWJhc2VkIGJyb3dzZXIgd2l0aCBHVU0gc3VwcG9ydCBidXQgbm8gV2ViUlRDIHN1cHBvcnQuXCIsZTtlLk9hPVwic2FmYXJpXCIsZS52ZXJzaW9uPXRoaXMuQ2EobmF2aWdhdG9yLnVzZXJBZ2VudCwvQXBwbGVXZWJLaXRcXC8oXFxkKylcXC4vLDEpfWVsc2UgaWYobmF2aWdhdG9yLm1lZGlhRGV2aWNlcyYmbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvRWRnZVxcLyhcXGQrKS4oXFxkKykkLykpZS5PYT1cImVkZ2VcIixlLnZlcnNpb249dGhpcy5DYShuYXZpZ2F0b3IudXNlckFnZW50LC9FZGdlXFwvKFxcZCspLihcXGQrKSQvLDIpO2Vsc2V7aWYoIW5hdmlnYXRvci5tZWRpYURldmljZXN8fCFuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9BcHBsZVdlYktpdFxcLyhcXGQrKVxcLi8pKXJldHVybiBlLk9hPVwiTm90IGEgc3VwcG9ydGVkIGJyb3dzZXIuXCIsZTtlLk9hPVwic2FmYXJpXCIsZS52ZXJzaW9uPXRoaXMuQ2EobmF2aWdhdG9yLnVzZXJBZ2VudCwvQXBwbGVXZWJLaXRcXC8oXFxkKylcXC4vLDEpfXJldHVybiBlfSxfYTpmdW5jdGlvbigpe2lmKFwib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3cmJndpbmRvdy5IVE1MTWVkaWFFbGVtZW50JiZcInNyY09iamVjdFwiaW4gd2luZG93LkhUTUxNZWRpYUVsZW1lbnQucHJvdG90eXBlKXt2YXIgZT1VUkwuY3JlYXRlT2JqZWN0VVJMLmJpbmQoVVJMKSx0PVVSTC5yZXZva2VPYmplY3RVUkwuYmluZChVUkwpLHI9bmV3IE1hcCxpPTA7VVJMLmNyZWF0ZU9iamVjdFVSTD1mdW5jdGlvbih0KXtpZihcImdldFRyYWNrc1wiaW4gdCl7dmFyIG49XCJwb2x5YmxvYjpcIisgKytpO3JldHVybiByLnNldChuLHQpLGNvbnNvbGUubG9nKFwiVVJMLmNyZWF0ZU9iamVjdFVSTChzdHJlYW0pIGlzIGRlcHJlY2F0ZWQhIFVzZSBlbGVtLnNyY09iamVjdCA9IHN0cmVhbSBpbnN0ZWFkIVwiKSxufXJldHVybiBlKHQpfSxVUkwucmV2b2tlT2JqZWN0VVJMPWZ1bmN0aW9uKGUpe3QoZSksci5kZWxldGUoZSl9O3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iod2luZG93LkhUTUxNZWRpYUVsZW1lbnQucHJvdG90eXBlLFwic3JjXCIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3cuSFRNTE1lZGlhRWxlbWVudC5wcm90b3R5cGUsXCJzcmNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG4uZ2V0LmFwcGx5KHRoaXMpfSxzZXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuTmE9ci5nZXQoZSl8fG51bGwsbi5zZXQuYXBwbHkodGhpcyxbZV0pfX0pO3ZhciBzPUhUTUxNZWRpYUVsZW1lbnQucHJvdG90eXBlLnNldEF0dHJpYnV0ZTtIVE1MTWVkaWFFbGVtZW50LnByb3RvdHlwZS5zZXRBdHRyaWJ1dGU9ZnVuY3Rpb24oKXtyZXR1cm4gMj09PWFyZ3VtZW50cy5sZW5ndGgmJlwic3JjXCI9PT0oXCJcIithcmd1bWVudHNbMF0pLnRvTG93ZXJDYXNlKCkmJih0aGlzLk5hPXIuZ2V0KGFyZ3VtZW50c1sxXSl8fG51bGwpLHMuYXBwbHkodGhpcyxhcmd1bWVudHMpfX19fTtlLnQ9e2xvZzpuLmxvZyxBYTpuLkFhLERhOm4ua2EoKSxDYTpuLkNhLF9hOm4uX2Esa2E6bi5rYS5iaW5kKG4pfX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXRoaXMmJnRoaXMuTnN8fGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gcigpe3RoaXMuY29uc3RydWN0b3I9ZX1mb3IodmFyIGkgaW4gdCl0Lmhhc093blByb3BlcnR5KGkpJiYoZVtpXT10W2ldKTtlLnByb3RvdHlwZT1udWxsPT09dD9PYmplY3QuY3JlYXRlKHQpOihyLnByb3RvdHlwZT10LnByb3RvdHlwZSxuZXcgcil9LG49cig3KSxzPXIoNTEpLkZhLG89cigyKSxhPXIoMCksaD1yKDkpLGM9cigyNCksdT1yKDIxKSxsPXIoOCk7IWZ1bmN0aW9uKGUpe2UuTGE9XCJoaXZlLWNsaWVudC10cmFja1wiLGUuTWE9XCJ0cmFja2V2ZW50XCIsZS5CYT1cIk5VTExJRFwiLGUuVWE9XCJcIjt2YXIgdD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGV9KCk7dC54YT0wLHQuSGE9MSx0LnFhPTIsdC5WYT0xMDAsdC5qYT0yMDAsZS5HYT10OyFmdW5jdGlvbihlKXtlW2UuUWE9MF09XCJQTEFZSU5HXCIsZVtlLkthPTFdPVwiQlVGRkVSSU5HXCIsZVtlLllhPTJdPVwiUEFVU0VEXCIsZVtlLnphPTNdPVwiU0tJUFwiLGVbZS5KYT00XT1cIlNUT1BQRURcIixlW2UuRVJST1I9NV09XCJFUlJPUlwiLGVbZS5XYT02XT1cIldJTkRPV19TSVpFXCIsZVtlLlhhPTddPVwiRlVMTFNDUkVFTlwiLGVbZS5aYT04XT1cIlZJU0lCTEVcIixlW2UuSElEREVOPTldPVwiSElEREVOXCJ9KGUuJGF8fChlLiRhPXt9KSk7IWZ1bmN0aW9uKGUpe2VbZS5laD0wXT1cIkpBVkFfTk9UX1JFQUNIQUJMRVwiLGVbZS50aD0xXT1cIkpBVkFfTk9UX1JFQURZXCIsZVtlLnJoPTJdPVwiSkFWQV9XUk9OR19WRVJTSU9OXCIsZVtlLmloPTNdPVwiSkFWQV9TRVNTSU9OX0JVU1lcIixlW2Uubmg9NF09XCJKQVZBX1NFU1NJT05fRVJST1JcIixlW2Uuc2g9NV09XCJKQVZBX1RJQ0tFVF9USU1FT1VUXCJ9KGUub2h8fChlLm9oPXt9KSk7dmFyIHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlfSgpO2UuYWg9cjt2YXIgcD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGV9KCk7ZS5oaD1wO3ZhciBmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZX0oKTtlLnVoPWY7dmFyIGQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy50eXBlPXQucWF9cmV0dXJuIGV9KCksZz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLnNlc3Npb25zPW5ldyBBcnJheX1yZXR1cm4gZS5wcm90b3R5cGUubGg9ZnVuY3Rpb24oZSx0KXt2YXIgcjt0aGlzLnNlc3Npb25zLmZvckVhY2goZnVuY3Rpb24odCl7dC5zZXNzaW9uSWQ9PWUmJihyPXQpfSkscnx8KHI9bmV3IHYsci5zZXNzaW9uSWQ9ZSx0aGlzLnNlc3Npb25zLnB1c2gocikpLHIuZXZlbnRzLnB1c2godCl9LGV9KCk7ZS5waD1nO3ZhciB2PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuZXZlbnRzPW5ldyBBcnJheX1yZXR1cm4gZX0oKTtlLmZoPXY7dmFyIHk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dGhpcy50ZT1hLkZyYW1ld29yay5yZXNvbHZlKGEuRnJhbWV3b3JrLnEuSSkubG9nKCksdGhpcy5kaD1hLkZyYW1ld29yay5yZXNvbHZlKGguUXMuVXMpLHRoaXMuZ2g9bmV3IEFycmF5LHRoaXMudmg9bmV3IEFycmF5LHRoaXMueWg9bmV3IEFycmF5fXJldHVybiB0LnByb3RvdHlwZS5taD1mdW5jdGlvbihlKXt0aGlzLmNsaWVudD1lfSx0LnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKGUsdCl7dGhpcy5FaD1lLHRoaXMuVGgodCksdGhpcy50ZS5kZWJ1ZyhcIltUUkFDS10gSU5JVCBJRDogXCIrZSl9LHQucHJvdG90eXBlLlRoPWZ1bmN0aW9uKGUsdCl7dGhpcy5hcHA9ZSx0JiYodGhpcy5JaD10KX0sdC5wcm90b3R5cGUud2g9ZnVuY3Rpb24oZSl7dGhpcy5TaD1lfSx0LnByb3RvdHlwZS5SaD1mdW5jdGlvbihlKXt2YXIgdD1uZXcgRShlLHRoaXMpO3RoaXMuZ2gucHVzaCh0KSx0aGlzLmJoPW51bGwsdGhpcy5jbGllbnQuUGgoITApfSx0LnByb3RvdHlwZS5Ubj1mdW5jdGlvbihlLHQscil7aWYoIXRoaXMuYmgpZm9yKHZhciBpPTA7aTx0aGlzLmdoLmxlbmd0aDtpKyspe3ZhciBuPXRoaXMuZ2hbaV07aWYobi50aWNrZXQuc2Vzc2lvbklkPT09ZSl7dGhpcy50ZS5kZWJ1ZyhcIltUUkFDS10gQWN0aXZhdGluZyBUcmFjayBmb3Igc2Vzc2lvbiBcIitlKSx0aGlzLmJoPW47YnJlYWt9fWlmKHRoaXMuYmgpe2lmKHRoaXMuYmgudGlja2V0LnNlc3Npb25JZCE9ZSlyZXR1cm4gdm9pZCB0aGlzLnRlLndhcm4oXCJbVFJBQ0tdIGlnbm9yaW5nIG1hbmlmZXN0IG5vdCBtYXRjaGluZyBldmVudCBcIit0aGlzLmJoLnRpY2tldC5zZXNzaW9uSWQrXCIgIT0gXCIrZSk7aWYoIXRoaXMuYmguQWgpe3ZhciBzPW5ldyBUKGUsdCxyKTt0aGlzLmJoLkNoKHMpLHRoaXMuY2xpZW50LlBoKCl9fX0sdC5wcm90b3R5cGUua2g9ZnVuY3Rpb24oZSx0LHIpe251bGwhPXRoaXMuYmgmJih0aGlzLmJoLkFofHx0aGlzLmJoLk9oLnB1c2gobmV3IFIoZSx0LHIpKSl9LHQucHJvdG90eXBlLl9oPWZ1bmN0aW9uKGUsdCxyKXt0aGlzLnZoLnB1c2gobmV3IHcoZSx0LHIpKSx0aGlzLmNsaWVudC5QaCgpfSx0LnByb3RvdHlwZS5OaD1mdW5jdGlvbihlLHQscil7dGhpcy55aC5wdXNoKG5ldyBTKGUsdCxyKSksdGhpcy5jbGllbnQuUGgoKX0sdC5wcm90b3R5cGUuRGg9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztlJiZlLmZvckVhY2goZnVuY3Rpb24oZSl7dC55aC5wdXNoKGUpfSl9LHQucHJvdG90eXBlLkZoPWZ1bmN0aW9uKCl7dmFyIGU9bmV3IHA7dGhpcy5JaD8oZS5wYXJ0bmVySWQ9dGhpcy5JaC5wYXJ0bmVySWQsZS5jdXN0b21lcklkPXRoaXMuSWguY3VzdG9tZXJJZCk6bC5IaXZlQ29uZmlnLkNsaWVudEluZm8uRnMmJmwuSGl2ZUNvbmZpZy5DbGllbnRJbmZvLkxzPyhlLnBhcnRuZXJJZD1sLkhpdmVDb25maWcuQ2xpZW50SW5mby5GcyxlLmN1c3RvbWVySWQ9bC5IaXZlQ29uZmlnLkNsaWVudEluZm8uTHMpOnRoaXMuYmgmJihlLnBhcnRuZXJJZD10aGlzLmJoLnRpY2tldC5MaCgpLGUuY3VzdG9tZXJJZD10aGlzLmJoLnRpY2tldC5NaCgpKSxlLnZlcnNpb249dGhpcy5hcHAuYXBwK1wiX1wiKyh0aGlzLkloP3RoaXMuSWgudmVyc2lvbjp0aGlzLmFwcC52ZXJzaW9uKSx0aGlzLkloJiYoZS5pbnN0YWxsVmVyc2lvbj10aGlzLkloLmluc3RhbGxWZXJzaW9uLGUuaW5zdGFsbFRzPXRoaXMuSWguaW5zdGFsbFRzKTt2YXIgdD1uZXcgcztyZXR1cm4gdC5CaChuYXZpZ2F0b3IudXNlckFnZW50KSxlLm9zPXQuVWgoKS5uYW1lK1wiIFwiK3QuVWgoKS52ZXJzaW9uLHRoaXMuU2gmJihlLmNvbW1WZXJzaW9uPXRoaXMuU2guY29tbVZlcnNpb24sZS5wbHVnaW5OYW1lPXRoaXMuU2gucGx1Z2luTmFtZSxlLnBsdWdpblZlcnNpb249dGhpcy5TaC5wbHVnaW5WZXJzaW9uLGUucGxheWVyVGVjaD10aGlzLlNoLnBsYXllclRlY2gsZS5wbGF5ZXJWZXJzaW9uPXRoaXMuU2gucGxheWVyVmVyc2lvbix0aGlzLlNoLnRlbGVtZXRyeUlkJiYoZS50ZWxlbWV0cnlJZD10aGlzLlNoLnRlbGVtZXRyeUlkKSksZX0sdC5wcm90b3R5cGUueGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iaD90aGlzLmJoOnRoaXMuZ2gmJnRoaXMuZ2gubGVuZ3RoPjA/dGhpcy5naFt0aGlzLmdoLmxlbmd0aC0xXTp2b2lkIDB9LHQucHJvdG90eXBlLkhoPWZ1bmN0aW9uKHQpe3ZhciBpPXRoaXM7aWYodm9pZCAwPT09dCYmKHQ9ITApLDA9PXRoaXMuZ2gubGVuZ3RoJiYwPT10aGlzLnZoLmxlbmd0aClyZXR1cm4gdD9vLnJlamVjdChcIm5vdGhpbmcgdG8gc2VuZFwiKToodGhpcy50ZS5kZWJ1ZyhcIltUUkFDS10gIE5PVEhJTkcgVE8gU0VORFwiKSxudWxsKTt2YXIgbj1uZXcgcjtuLmFwcD1lLkxhLG4uY3JlYXRlZEF0PWEuRnJhbWV3b3JrLnRpbWUoKSxuLmd1aWQ9dGhpcy5FaCxuLm5hbWU9ZS5NYTt2YXIgcz10aGlzLnhoKCk7aWYocyl7dmFyIGg9cy50aWNrZXQucWgoKS5yZXBsYWNlKC9bXFxbXFxdXS9nLFwiXCIpO24udGFncz1baF0sbi50YWdzLnB1c2gocy50aWNrZXQuTGgoKSksbi50YWdzLnB1c2gocy50aWNrZXQuTWgoKSl9ZWxzZSBuLnRhZ3M9bmV3IEFycmF5O3ZhciBjPW5ldyBnO2lmKGMucGVlcj10aGlzLkZoKCksdGhpcy5naC5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UuQWh8fGMubGgoZS50aWNrZXQuc2Vzc2lvbklkLGUpfSksdGhpcy52aC5mb3JFYWNoKGZ1bmN0aW9uKGUpe2MubGgoZS5zZXNzaW9uSWQsZSl9KSx0aGlzLnloLmZvckVhY2goZnVuY3Rpb24oZSl7Yy5saChlLnNlc3Npb25JZCxlKX0pLG4uZGF0YT1jLHQpcmV0dXJuIHRoaXMuZGguVmgoKS50aGVuKGZ1bmN0aW9uKGUpe3ZhciB0PWkuamgoZSk7cmV0dXJuIGMubGgoXCJudWxsXCIsdCksbn0pLmZhaWwoZnVuY3Rpb24oZSl7cmV0dXJuIG59KTt2YXIgdT10aGlzLmpoKHRoaXMuZGguR2goKSk7cmV0dXJuIGMubGgoXCJudWxsXCIsdSksbn0sdC5wcm90b3R5cGUuamg9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IGQ7dC50cz1hLkZyYW1ld29yay50aW1lKCk7dmFyIHI9ZS5RaCgpO3JldHVybiByLktoKCkmJih0LnB1YklwPXIuS2goKSksci5DcygpJiYodC5wcml2SXA9bi5fcy5DcyhyKSksZS5PcygpJiYodC5ob3N0bmFtZT1uLl9zLmtzKGUpKSxyLlloKCkmJih0Lm5ldG1hc2s9ci5ZaCgpKSxyLnpoKCkmJih0Lm5pYz1yLnpoKCkpLHIuSmgoKSYmKHQubmljTmFtZT1yLkpoKCkpLHIuV2goKSYmKHQubWFjPXIuV2goKSksdH0sdC5wcm90b3R5cGUuWGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5JaD90aGlzLkloLnVzZXJBZ2VudDpuYXZpZ2F0b3IudXNlckFnZW50fSx0LnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMuZ2g9bmV3IEFycmF5LHRoaXMudmg9bmV3IEFycmF5LHRoaXMueWg9bmV3IEFycmF5fSx0LnByb3RvdHlwZS5aaD1mdW5jdGlvbihlKXt9LHR9KCk7ZS4kaD15O3ZhciBtPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLmVjPWlzTmFOKGwuSGl2ZUNvbmZpZy5EZWJ1Z0xvZ3MuVHJhY2tTbmFwc2hvdExvZ3MpPzA6bC5IaXZlQ29uZmlnLkRlYnVnTG9ncy5UcmFja1NuYXBzaG90TG9ncyx0aGlzLnRjPWUsdGhpcy50ZT1hLkZyYW1ld29yay5yZXNvbHZlKGEuRnJhbWV3b3JrLnEuSSkubG9nKCksdGhpcy5jbGllbnQ9YS5GcmFtZXdvcmsucmVzb2x2ZShoLlFzLkgpLHRoaXMudGMubWgodGhpcyl9cmV0dXJuIGUucHJvdG90eXBlLlBoPWZ1bmN0aW9uKGUpe3ZvaWQgMD09PWUmJihlPSExKTt2YXIgdD1lP2MubmMuaWMucmM6Yy5uYy5pYy5zYztpZih0aGlzLm9jKXt0aGlzLmFjLShuZXcgRGF0ZSkuZ2V0VGltZSgpPnQmJihhLkZyYW1ld29yay5jbGVhclRpbWVvdXQodGhpcy5vYyksdGhpcy5hYz1udWxsLHRoaXMuaGModCkpfWVsc2UgdGhpcy5oYyh0KX0sZS5wcm90b3R5cGUuY2M9ZnVuY3Rpb24oKXt0aGlzLm9jJiYoYS5GcmFtZXdvcmsuY2xlYXJUaW1lb3V0KHRoaXMub2MpLHRoaXMuYWM9dGhpcy5vYz1udWxsKX0sZS5wcm90b3R5cGUuaGM9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0aGlzLm9jPWEuRnJhbWV3b3JrLnNldFRpbWVvdXQoZnVuY3Rpb24oKXt0LnVjKCl9LGUpLHRoaXMuYWM9KG5ldyBEYXRlKS5nZXRUaW1lKCkrZX0sZS5wcm90b3R5cGUudWM9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt2b2lkIDA9PT1lJiYoZT0hMCksdGhpcy5vYz1udWxsLHRoaXMuYWM9bnVsbDt2YXIgcj10aGlzLnRjLkhoKGUpO2U/KHRoaXMudGUuZGVidWcoXCJbVFJBQ0tdIFRBS0lORyBBIFRSQUNLIFNOQVBTSE9UXCIpLHIudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gdC5mb3J3YXJkKGUpfSkuZmFpbChmdW5jdGlvbihlKXt0LnRlLmRlYnVnKFwiW1RSQUNLXSAgRVJST1IgR0VORVJBVElORy9TRU5ESU5HIFRIRSBUUkFDSyBTTkFQU0hPVDogXCIsZSl9KS5maW5hbGx5KGZ1bmN0aW9uKCl7cmV0dXJuIHQudGMucmVzZXQoKX0pLmRvbmUoKSk6KHRoaXMudGUuZGVidWcoXCJbVFJBQ0tdIEZMVVNISU5HIFRSQUNLIFNOQVBTSE9UXCIpLHRoaXMuZm9yd2FyZChyKSx0aGlzLnRjLnJlc2V0KCkpfSxlLnByb3RvdHlwZS5mb3J3YXJkPWZ1bmN0aW9uKGUpe2lmKHRoaXMuY2xpZW50JiZ0aGlzLmNsaWVudC5sYygpJiZlKXt2YXIgdD1KU09OLnN0cmluZ2lmeShlKTtzd2l0Y2godGhpcy5lYyl7Y2FzZSAwOmRlZmF1bHQ6dGhpcy50ZS5kZWJ1ZyhcIltUUkFDS10gVFJBQ0sgRVZFTlRcIik7YnJlYWs7Y2FzZSAxOnRoaXMudGUuZGVidWcoXCJbVFJBQ0tdIFRSQUNLIEVWRU5UOlwiK3QpfXZhciByPW5ldyB1LnBjKFNlcnZpY2VzLmZjLDIsdCk7dGhpcy5jbGllbnQubGMoKS5zZW5kKHIpfX0sZS5wcm90b3R5cGUuZGM9ZnVuY3Rpb24oZSl7dm9pZCAwPT09ZSYmKGU9ITApLGU/KHRoaXMuY2MoKSx0aGlzLmhjKGMubmMuaWMuZ2MpKTp0aGlzLnVjKCExKX0sZX0oKTtlLnZjPW07dmFyIEU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7dGhpcy5jcmVhdGVkQXQ9KG5ldyBEYXRlKS5nZXRUaW1lKCksdGhpcy5BaD0hMSx0aGlzLnRpY2tldD1lLHRoaXMubWFuaWZlc3RzPW5ldyBBcnJheSx0aGlzLk9oPW5ldyBBcnJheSx0aGlzLnRjPXR9cmV0dXJuIGUucHJvdG90eXBlLkNoPWZ1bmN0aW9uKGUpe3RoaXMubWFuaWZlc3RzLnB1c2goZSl9LGUucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3ZhciBlPXt9O2UudHlwZT10LnhhLGUudGlja2V0PXt9LGUudGlja2V0LnVybD10aGlzLnRpY2tldC50aWNrZXRVcmwsZS50aWNrZXQucmVxVHM9dGhpcy50aWNrZXQueWMsZS50aWNrZXQucmVzcFRzPXRoaXMudGlja2V0Lm1jLGUudGlja2V0LnVzZXJBZ2VudD10aGlzLnRjLlhoKCksZS5tYW5pZmVzdHM9W10sdGhpcy5tYW5pZmVzdHMuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgcj17fTtyLnVybD10LnVybCxyLnJlc3BUcz10Lm1jLHIucmVzcENvZGU9dC5yZXNwQ29kZSxlLm1hbmlmZXN0cy5wdXNoKHIpfSk7dmFyIHI9LTEsaT0tMSxuPS0xO3JldHVybiB0aGlzLk9oLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5FYz4wJiYoLTE9PXImJihyPWUudHMsaT1lLkVjKSxuPWUuRWMpfSksLTEhPXImJihlLnBsYXlUcz1yKSwtMSE9biYmKGUuYnVmZlRpbWU9biksLTEhPWkmJihlLmluaXRCdWZmVGltZT1pKSxlfSxlfSgpO2UuVGM9RTt2YXIgVD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0LHIpe3RoaXMuZXZlbnRJZD1lLHRoaXMudXJsPXQsdGhpcy5tYz0obmV3IERhdGUpLmdldFRpbWUoKSx0aGlzLnJlc3BDb2RlPXJ9cmV0dXJuIGV9KCk7ZS5JYz1UO3ZhciBJPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQscixpKXt0aGlzLnRzPShuZXcgRGF0ZSkuZ2V0VGltZSgpLHRoaXMuc2Vzc2lvbklkPWUsdGhpcy5zZXNzaW9uSWR8fCh0aGlzLnNlc3Npb25JZD1cIm51bGxcIiksdGhpcy5ldmVudD10LHRoaXMud2M9cixpJiYodGhpcy50cz1pKX1yZXR1cm4gZS5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7dmFyIGU9e307cmV0dXJuIGUudHlwZT10aGlzLlNjK3RoaXMuZXZlbnQsZS50cz10aGlzLnRzLHRoaXMud2MmJihlLnBhcmFtZXRlcnM9dGhpcy53YyksZX0sZX0oKTtlLlJjPUk7dmFyIHc9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gcihyLGksbixzKXt2YXIgbz1lLmNhbGwodGhpcyxyLGksbixzKXx8dGhpcztyZXR1cm4gby5TYz10LlZhLG99cmV0dXJuIGkocixlKSxyfShJKTtlLmJjPXc7dmFyIFM9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gcihyLGksbixzKXt2YXIgbz1lLmNhbGwodGhpcyxyLGksbixzKXx8dGhpcztyZXR1cm4gby5TYz10LmphLG99cmV0dXJuIGkocixlKSxyfShJKTtlLlBjPVM7dmFyIFI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxyKXt0aGlzLnRzPShuZXcgRGF0ZSkuZ2V0VGltZSgpLHRoaXMuUnM9ZSx0aGlzLkFjPXQsdGhpcy5FYz1yfXJldHVybiBlfSgpO2UuQ2M9Un0odC5rY3x8KHQua2M9e30pKX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXIoMSksbj1yKDIpLHM9cigwKSxvPXIoMTgpLGE9cig5KSxoPXIoMjkpOyFmdW5jdGlvbihlKXtlW2UuSURMRT0wXT1cIklETEVcIixlW2UuT2M9MV09XCJQTEFZXCJ9KHQuX2N8fCh0Ll9jPXt9KSk7dmFyIGM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxyLGkpe3RoaXMudGlja2V0PWUsdGhpcy5OYz10LHRoaXMuYXBwPXIsdGhpcy5pZGVudGl0eT1pLHRoaXMuRGM9cy5GcmFtZXdvcmsucmVzb2x2ZShhLlFzLlZzKSx0aGlzLkZjPXMuRnJhbWV3b3JrLnJlc29sdmUoYS5Rcy5NcyksdGhpcy50Yz1zLkZyYW1ld29yay5yZXNvbHZlKGEuUXMuanMpLHRoaXMuTGM9bmV3IG8ua2MudmModGhpcy50Yyl9cmV0dXJuIGUucHJvdG90eXBlLlRoPWZ1bmN0aW9uKGUsdCxyKXt0aGlzLmFwcD1uZXcgdShlLHQpLHRoaXMuRGMuVGgodGhpcy5hcHApLHRoaXMudGMuVGgodGhpcy5hcHAscil9LGUucHJvdG90eXBlLk9uPWZ1bmN0aW9uKGUpe3RoaXMuRmMuT24oZSl9LGV9KCk7dC5NYz1jO3ZhciB1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe3RoaXMuYXBwPWUsdGhpcy52ZXJzaW9uPXR9cmV0dXJuIGV9KCk7dC5CYz11O3ZhciBsPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuVWM9bnVsbCx0aGlzLnhjPW51bGwsdGhpcy5IYz1uZXcgaSx0aGlzLnRlPXMuRnJhbWV3b3JrLnJlc29sdmUocy5GcmFtZXdvcmsucS5JKS5sb2coKSx0aGlzLnRlLmRlYnVnKFwiSU5JVCBSRVBPUlRJTkdcIiksdGhpcy5OYz1zLkZyYW1ld29yay5yZXNvbHZlKGEuUXMuSCksdGhpcy5xYz1zLkZyYW1ld29yay5yZXNvbHZlKGEuUXMuRCksdGhpcy5WYz1zLkZyYW1ld29yay5yZXNvbHZlKGEuUXMuQnMpfXJldHVybiBlLnByb3RvdHlwZS5pbml0U2Vzc2lvbj1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsaT1uLmRlZmVyKCkscz10aGlzLnFjLmpjKCksbz10aGlzLlZjLkdjKGUpO3JldHVybiBudWxsIT1vP3MudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gci5RYyhlLG8saSx0KX0pLmZhaWwoaS5yZWplY3QpOmkucmVqZWN0KFwiVGlja2V0IFVSTCBub3QgdmFsaWRcIiksaS5UZX0sZS5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oKXt0aGlzLk5jLmNsb3NlKCl9LGUucHJvdG90eXBlLlFjPWZ1bmN0aW9uKGUsdCxyLGkpe3ZhciBuPXRoaXM7dGhpcy5VYz1lLktjKCksdGhpcy54Yz1lLlljKCk7dmFyIHM9dGhpcy5OYy5pbml0KHRoaXMuVWMsdCksbz10aGlzLlZjLnJlc29sdmUocy56Yyx0LGkpO3MuVGUudGhlbihmdW5jdGlvbih0KXtvLnRoZW4oZnVuY3Rpb24odCl7dmFyIGk9dC5zZXNzaW9uSWQ7aWYobi5IYy5oYXMoaSkpe3ZhciBzPW4uSGMuZ2V0KGkpO24udGUud2FybihcIlNFU1NJT04gQUxSRUFEWSBFWElTVElORyBcIitzLkRjLnRpY2tldCl9ZWxzZXt2YXIgbz1uZXcgdShoLkhpdmUuSmMoKSxoLkhpdmUuZ2V0VmVyc2lvbigpKSxhPW5ldyBjKHQsbi5OYyxvLGUpO2EuRGMuaW5pdChuLnhjLHQsbyxpKSxhLnRjLmluaXQobi54YyxvKSxhLnRjLlJoKHQpLG4uSGMuc2V0KGksYSksbi50ZS5kZWJ1ZyhcIlNFU1NJT04gU0VUIFwiLGkpLHIucmVzb2x2ZShhKX19KS5mYWlsKGZ1bmN0aW9uKGUpe3JldHVybiByLnJlamVjdChlfHxcIkVycm9yIHJlc29sdmluZyB0aGUgdGlja2V0XCIpfSksdC5vbmVycm9yKGZ1bmN0aW9uKGUpe3IucmVqZWN0KFwiRXJyb3IgZXN0YWJsaXNoaW5nIGNvbm5lY3Rpb24gdG8gSGl2ZSBTZXJ2aWNlc1wiKX0pfSkuZmFpbChmdW5jdGlvbihlKXtyZXR1cm4gci5yZWplY3QoZSl9KSx0aGlzLk5jLmNvbm5lY3QoKX0sZS5wcm90b3R5cGUuV2M9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5YYygpPT09dC5YYygpJiZlLk1oKCk9PT10Lk1oKCkmJmUuTGgoKT09PXQuTGgoKX0sZX0oKTt0LlpjPWx9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1yKDM4KSxuPXIoNDkpLHM9cigzOSksbz1yKDUpO28uUnQuVGksby5SdC5FaSxvLlJ0LklpO2lmKHZvaWQgMD09PWEpdmFyIGE9M2U0OyFmdW5jdGlvbihlKXshZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5tb25pdG9yUG9ydD1uLk4uJGM/cy50dS5ldTpzLnR1LnJ1LHRoaXMucGxheWVyUG9ydD1uLk4uJGM/cy50dS5pdTpzLnR1Lm51LHRoaXMuZmVlZGJhY2tQZXJpb2Q9MmUzLHRoaXMuaWRsZVRpbWVQZXJpb2Q9NmU0LHRoaXMudXNlU2Vzc2lvbkNoZWNrPW4uTi5zdSx0aGlzLmRlYnVnTGV2ZWw9XCJub3RpY2VcIix0aGlzLmhpdmVUZWNoT3JkZXI9W10sdGhpcy50ZWxlbWV0cnlJZD1udWxsLHRoaXMuc2lsZW50PSExLHRoaXMubG9nZ2VyVGltZXN0YW1wPWkuSGl2ZUNvbmZpZy5GcmFtZXdvcmsuTG9nZ2VyVGltZXN0YW1wLHRoaXMucGx1Z2luVGltZW91dD1hLHRoaXMub25Tb3VyY2VTZXRDb21wbGV0ZWQ9ZnVuY3Rpb24oZSl7fSx0aGlzLm9uTG9hZGluZ0NvbXBsZXRlZD1mdW5jdGlvbihlKXt9LHRoaXMuZGV0ZWN0UHJpdmF0ZUlQPW8uUnQuTGl9cmV0dXJuIGV9KCk7ZS5vdT10O3ZhciByPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuaW5pdFRpbWVvdXQ9M2U0LHRoaXMub25FcnJvcj1mdW5jdGlvbihlKXtyZXR1cm4hMH0sdGhpcy5vbkFjdGl2ZVNlc3Npb249ZnVuY3Rpb24oZSl7fX1yZXR1cm4gZX0oKTtlLmF1PXI7dmFyIGg9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5oaXZlUGxheWVyUG9ydD1cInBsYXllclBvcnRcIix0aGlzLmhpdmVNb25pdG9yUG9ydD1cIm1vbml0b3JQb3J0XCIsdGhpcy5oaXZlU2lsZW50PVwic2lsZW50XCIsdGhpcy5oaXZlRGVidWdMZXZlbD1cImRlYnVnTGV2ZWxcIix0aGlzLmhpdmVEZWJ1Z1RpbWVzdGFtcD1cImxvZ2dlclRpbWVzdGFtcFwiLHRoaXMuaGl2ZVNldHVwVGltZW91dD1cInNldHVwVGltZW91dFwiLHRoaXMuaGl2ZUphdmFUaW1lb3V0PVwiaW5pdFRpbWVvdXRcIix0aGlzLmhpdmVXYXJuSmF2YVRpbWVvdXQ9XCJ3YXJuU2xvd1Jlc3BUaW1lb3V0XCIsdGhpcy5oaXZlRGV0ZWN0UHJpdmF0ZUlQPVwiZGV0ZWN0UHJpdmF0ZUlQXCJ9cmV0dXJuIGV9KCk7ZS5odT1ofShlLm91fHwoZS5vdT17fSkpfSh0LmdufHwodC5nbj17fSkpO3ZhciBoOyFmdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGV9KCk7dC5lbmFibGVkUlVNPSExLHQuZW5hYmxlS2V5Q29tYmluYXRpb249ITAsdC5lbmFibGVkRXJyb3JGaWx0ZXI9ITAsZS5FcnJvck1vbml0b3I9dH0oaD10LkhpdmVDb25maWd8fCh0LkhpdmVDb25maWc9e30pKSxcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiYodm9pZCAwPT09d2luZG93LkhpdmVDb25maWcmJih3aW5kb3cuSGl2ZUNvbmZpZz17fSksd2luZG93LkhpdmVDb25maWcuRXJyb3JNb25pdG9yPWguRXJyb3JNb25pdG9yKX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGkoKXtpZih0aGlzLmN1KXJldHVybiB0aGlzLmN1O3ZhciBlPXdpbmRvdyYmd2luZG93LndpbmRvdz93aW5kb3cud2luZG93LnV1OnZvaWQgMDtpZih2b2lkIDAhPT1lJiZlLmxvZyYmZS5kZWJ1ZyYmZS5pbmZvJiZlLndhcm4mJmUuZXJyb3ImJih0aGlzLmN1PWUpLCF0aGlzLmN1KXt2YXIgdD0hKHZvaWQgMD09PXdpbmRvdy5jb25zb2xlKSxyPXQ/Y29uc29sZS5sb2cuYmluZChjb25zb2xlKTpmdW5jdGlvbigpe307dGhpcy5jdT17bG9nOnIsZGVidWc6dCYmd2luZG93LmNvbnNvbGUuZGVidWc/d2luZG93LmNvbnNvbGUuZGVidWcuYmluZChjb25zb2xlKTpyLGluZm86dCYmd2luZG93LmNvbnNvbGUuaW5mbz93aW5kb3cuY29uc29sZS5pbmZvLmJpbmQoY29uc29sZSk6cix3YXJuOnQmJndpbmRvdy5jb25zb2xlLndhcm4/d2luZG93LmNvbnNvbGUud2Fybi5iaW5kKGNvbnNvbGUpOnIsZXJyb3I6dCYmd2luZG93LmNvbnNvbGUuZXJyb3I/d2luZG93LmNvbnNvbGUuZXJyb3IuYmluZChjb25zb2xlKTpyfX1yZXR1cm4gdGhpcy5jdX10Lm1uPVwiW0hpdmVTZXJ2aWNlc10gXCI7dmFyIG49ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlfSgpO24ubHU9MjUwLHQuTj1uO3ZhciBzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQscil7dGhpcy5tc2dJZD10LHRoaXMuc2VydmljZT1lLHRoaXMubXNnPXJ9cmV0dXJuIGUucHJvdG90eXBlLnB1PWZ1bmN0aW9uKCl7dmFyIGU9bmV3IFVpbnQ4QXJyYXkoW3RoaXMuc2VydmljZT4+OCwyNTUmdGhpcy5zZXJ2aWNlXSksdD1uZXcgVWludDhBcnJheShbdGhpcy5tc2dJZF0pLHI9W2UsdCx0aGlzLm1zZ107cmV0dXJuIG5ldyBCbG9iKHIse3R5cGU6XCJhcHBsaWNhdGlvbi9vY3RldC1iaW5hcnlcIn0pfSxlLmZ1PWZ1bmN0aW9uKHQpe3ZhciByPShTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsbmV3IFVpbnQ4QXJyYXkodCkpLFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxuZXcgVWludDhBcnJheSh0LnNsaWNlKDMpKSkpLGk9bmV3IFVpbnQ4QXJyYXkodC5zbGljZSgwLDIpKSxuPW5ldyBVaW50OEFycmF5KHQuc2xpY2UoMiwzKSk7cmV0dXJuIG5ldyBlKChpWzBdPDw4KStpWzFdLG5bMF0scil9LGV9KCk7dC5wYz1zLHQudGU9aX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXIoMCksbj1yKDYpOyFmdW5jdGlvbihlKXtlW2UuZHU9MF09XCJVUFBFUl9MQVlFUlwiLGVbZS5ndT0xXT1cIkNETlwiLGVbZS52dT0yXT1cIkNETl9QUkVGRVRDSFwiLGVbZS55dT0zXT1cIkNETl9DT01QRU5TQVRJT05cIixlW2UubXU9NF09XCJQMlBcIixlW2UuRXU9NV09XCJQMlBfUFJFRkVUQ0hcIn0odC5UdXx8KHQuVHU9e30pKTt2YXIgcz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLkl1PSExLHRoaXMud3U9ITEsdGhpcy5TdT0wLHRoaXMuUnU9MCx0aGlzLmJ1PTAsdGhpcy5QdT0wLHRoaXMuQXU9MCx0aGlzLnAycEFnZW5UcmFmZmljU3VjY2Vzc1F0PTAsdGhpcy5DdT0wLHRoaXMuc3JjT3RoZXJSZXNwUXQ9MCx0aGlzLmt1PTAsdGhpcy5PdT0wLHRoaXMuX3U9MCx0aGlzLk51PTAsdGhpcy5EdT0wfXJldHVybiBlfSgpO3QuRnU9czt2YXIgbz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0LHIsbixvKXt0aGlzLkx1PSExLHRoaXMudHlwZT12b2lkIDAsdGhpcy5NdT1uZXcgcyx0aGlzLkJ1PSExLHRoaXMuVXU9ITEsdGhpcy54dT1cIlwiLHRoaXMuSHU9bmV3IEFycmF5QnVmZmVyKDApLHRoaXMucXU9MCx0aGlzLnR5cGU9cix0aGlzLlZ1PWUsdGhpcy5qdT10LHRoaXMuR3U9byx0aGlzLlF1PW4sdGhpcy5NdS5rdT1pLkZyYW1ld29yay50aW1lKCl9cmV0dXJuIGUucHJvdG90eXBlLkt1PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudHlwZX0sZS5wcm90b3R5cGUuWXU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5RdS5ZdSgpfSxlLnByb3RvdHlwZS56dT1mdW5jdGlvbigpe3JldHVybiB0aGlzLlF1Lnp1KCl9LGUucHJvdG90eXBlLkp1PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuenUoKStcIi1cIit0aGlzLmp1fSxlLnByb3RvdHlwZS5XdT1mdW5jdGlvbigpe3JldHVybiB0aGlzLlF1Llh1KCl9LGUucHJvdG90eXBlLlp1PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuUXUuJHUoKX0sZS5wcm90b3R5cGUubG9hZGVkPWZ1bmN0aW9uKCl7dGhpcy5lbD1pLkZyYW1ld29yay50aW1lKCl9LGUucHJvdG90eXBlLnRsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWw/TWF0aC5tYXgoMSx0aGlzLmVsLXRoaXMuTXUuX3UpOk1hdGgubWF4KDEsdGhpcy5NdS5OdS10aGlzLk11Ll91KX0sZS5wcm90b3R5cGUucmw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbD9NYXRoLm1heCgxLHRoaXMuZWwtdGhpcy5NdS5PdSk6TWF0aC5tYXgoMSx0aGlzLk11Lk51LXRoaXMuTXUuT3UpfSxlLnByb3RvdHlwZS5pbD1mdW5jdGlvbigpe3JldHVybiAwIT10aGlzLk11LkF1PyhuZXcgbi5mbi5aaSkuR2kodGhpcy50bCgpLHRoaXMuTXUuQXUpOihuZXcgbi5mbi5aaSkuR2kodGhpcy5ybCgpLHRoaXMuTXUuUnUpfSxlfSgpO3Qubmw9b30sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXIoMTU4KSxuPXIoMzIpLHM9cigyNSksbz1zLnNsLGE9cigyKSxoPXIoMCksYz1yKDE2MCksdT1yKDE2NiksbD1yKDMpLHA9cig2KSxmPXIoMSksZD1yKDE1KSxnPXIoNCk7IWZ1bmN0aW9uKGUpe2Uub2w9ITE7dmFyIHQ7IWZ1bmN0aW9uKGUpe2VbZS5hbD0xXT1cIkhhdmVcIixlW2UuaGw9Ml09XCJDaHVua1wiLGVbZS5SZXF1ZXN0PTNdPVwiUmVxdWVzdFwiLGVbZS5jbD00XT1cIkNhbmNlbFwiLGVbZS51bD01XT1cIkFja1wiLGVbZS5sbD02XT1cIkNsb3NlXCIsZVtlLnBsPTddPVwiRG9Ob3RIYXZlXCIsZVtlLmZsPThdPVwiT3V0UGFydFJlcXVlc3RcIixlW2UuZGw9OV09XCJPdXRQYXJ0UmVzcFwiLGVbZS5nbD0xMF09XCJVRFBIYW5kc2hha2VSZXFcIixlW2Uudmw9MTFdPVwiVURQSGFuZHNoYWtlUmVzcG9uc2VcIixlW2UueWw9MTJdPVwiVURQU3dpdGNoTGVhZGVyc2hpcFJlcXVlc3RcIixlW2UubWw9MTNdPVwiVURQU3dpdGNoQWNrXCIsZVtlLkVsPTE0XT1cIkJpdHJhdGVcIixlW2UuVGw9MTVdPVwiSGF2ZXNcIixlW2UuaGg9MTZdPVwiUGVlckluZm9cIixlW2UuSWw9MTddPVwiUGluZ1wiLGVbZS53bD0xOF09XCJQb25nXCIsZVtlLlNsPTE5XT1cIk5vUGFydG5lclJlc3BcIn0odD1lLlJsfHwoZS5SbD17fSkpO3ZhciBzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLmJsPW5ldyBmLHRoaXMudGU9aC5GcmFtZXdvcmsucmVzb2x2ZShoLkZyYW1ld29yay5xLkkpLmxvZygpLHRoaXMuUGw9ZX1yZXR1cm4gZS5wcm90b3R5cGUuQWw9ZnVuY3Rpb24oZSl7dHJ5e3ZhciB0PW51bGwscj1oLkZyYW1ld29yay5yZXNvbHZlKGQuUGEucGEpLGk9ci5DbChlKTtyZXR1cm4gbnVsbD09aT8odGhpcy50ZS53YXJuKFwiTVNHIFJFQ0VJVkVEIEZST00gVU5LTk9XTiBTV0FSTVwiKSxudWxsKToodD1uZXcgYy5rbChpLHRoaXMuUGwuT2wsdGhpcy5QbC5fbCx0aGlzLlBsKSx0aGlzLmJsLmhhcyhlKXx8dGhpcy5ibC5zZXQoZSx0KSx0aGlzLmJsLmdldChlKSl9Y2F0Y2goZSl7Zy5FcnJvck1vbml0b3IuZ2koKS5kaShcIk5ldyBkaXNwYXRjaGVyIGZhaWxlZFwiLHtlcnJvcjplfSl9fSxlLnByb3RvdHlwZS5ObD1mdW5jdGlvbihlKXt0aGlzLmJsLmRlbGV0ZShlKX0sZS5wcm90b3R5cGUuRGw9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuYmwuZ2V0KGUpfSxlfSgpO2UuRmw9czt2YXIgdj1mdW5jdGlvbigpe2Z1bmN0aW9uIHIoKXt0aGlzLkxsPW51bGwsdGhpcy5NbD1oLkZyYW1ld29yay5yZXNvbHZlKGguRnJhbWV3b3JrLnEuSSksdGhpcy5CbD1uZXcgcyh0aGlzKSx0aGlzLmxpPXIuVWwrKyx0aGlzLnhsPWguRnJhbWV3b3JrLnRpbWUoKX1yZXR1cm4gci5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbihlLHQpe3RoaXMuT2w9ZSx0aGlzLl9sPXQsdGhpcy5IbD1oLkZyYW1ld29yay5yZXNvbHZlKGguRnJhbWV3b3JrLnEuRil9LHIucHJvdG90eXBlLnFsPWZ1bmN0aW9uKCl7dmFyIGU9ITE7cmV0dXJuIHRoaXMuQmwuYmwuZm9yRWFjaChmdW5jdGlvbih0LHIpeyh0LnNlbmRlci5xbCgpfHx0LnJlY2VpdmVyLnFsKCkpJiYoZT0hMCl9KSxlfSxyLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMuQmwuYmwuZm9yRWFjaChmdW5jdGlvbihlLHQpe2Uuc2VuZGVyLlZsKCl9KX0sci5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuQmwuTmwoZSksMD09dGhpcy5CbC5ibC5sZW5ndGgmJnRoaXMuSGwuZGlzY29ubmVjdCh0aGlzLl9sKSxhKFwib2tcIil9LHIucHJvdG90eXBlLmpsPWZ1bmN0aW9uKHIsaSxzKXt0cnl7dGhpcy54bD1oLkZyYW1ld29yay50aW1lKCk7dmFyIGE9cy5wbigpLGM9YS5ieXRlTGVuZ3RoLHU9by5RbC5HbC5jcmVhdGUoYSkscD1vLktsKHUpLGY9bmV3IG47Zi5ZbChyKSxmLnpsKGkpLGYuWWwoYyksZi56bChwLnRvU3RyaW5nKCkpLGYuYXBwZW5kKGEpLGYuSmwoKTt2YXIgZD1mLnBuKCksdj1yPT09dC5obCYmaC5GcmFtZXdvcmsuUygpP2QuYnl0ZUxlbmd0aCtsLm5pLk1yLk5yOmQuYnl0ZUxlbmd0aDtlLm9sJiZ0aGlzLk1sLmxvZyhpKS5kZWJ1Zyh0aGlzLmxpK1wiIFNFTkQgTVNHIElEIFwiK3IrXCIsXCIrditcIiBIQVNIIFwiK3AudG9TdHJpbmcoKStcIiBUTyBcIit0aGlzLl9sKX1jYXRjaChlKXtnLkVycm9yTW9uaXRvci5naSgpLmRpKFwiRVJST1IgQ09OU1RSVUNUSU5HIE1FU1NBR0UgVE8gUEVFUlwiLFwiU1tcIitpK1wiXVwiLHttc2c6cyxfbDp0aGlzLl9sfSl9dHJ5e3RoaXMuSGwuc2VuZCh0aGlzLl9sLGQsdil8fHRoaXMuTWwubG9nKCkud2FybihcImRyb3BwZWQgbXNnOiBcIitlLlJsW3JdK1wiIHRvIFwiK3RoaXMuX2wpfWNhdGNoKGUpe3RoaXMuTWwubG9nKGkpLndhcm4oXCJFUlJPUiBTRU5ESU5HIE1FU1NBR0UgVE8gXCIrdGhpcy5fbCtcIiBcIitlLnN0YWNrKX19LHIucHJvdG90eXBlLldsPWZ1bmN0aW9uKGkpe3ZhciBzPXRoaXM7ZS5vbCYmdGhpcy5NbC5sb2coKS5kZWJ1Zyh0aGlzLmxpK1wiIEdPVCBNU0cgXCIraS5ieXRlTGVuZ3RoKTt0cnl7dmFyIGE9aC5GcmFtZXdvcmsudGltZSgpO3RoaXMueGw9YSx0aGlzLlhsKGkpLnRoZW4oZnVuY3Rpb24oYyl7aWYoZS5vbCYmcy5NbC5sb2coKS5kZWJ1ZyhzLmxpK1wiIFJFQ0VJVklORyBcIitjLmJ5dGVMZW5ndGgrXCIgYWZ0ZXIgXCIrKGguRnJhbWV3b3JrLnRpbWUoKS1hKSksYy5ieXRlTGVuZ3RoPnIuWmwpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJQMlAgTWVzc2FnZSB0b28gYmlnIHRvIGJlIHByb2Nlc3NlZFwiKTt2YXIgbD1zLkxsO2lmKG51bGw9PT1sKXt2YXIgZj1uLndyYXAoYyksZD1mLiRsKCk7aWYoZS5vbCYmcy5NbC5sb2coKS5kZWJ1ZyhcIk1TRyBJRCBcIitkKSxkPk9iamVjdC5rZXlzKHQpLmxlbmd0aClyZXR1cm4gcy5NbC5sb2coKS53YXJuKFwiTVNHIE9GIFdST05HIElEIFJFQ0VJVkVEOiBcIitkKSx2b2lkKHMuTGw9bnVsbCk7aWYobD1zLkxsPW5ldyB1LmVwLGwubXNnSWQ9ZCxsLnN3YXJtSWQ9Zi50cCgpLGwubGVuZ3RoPWYuJGwoKSxsLmhhc2g9Zi50cCgpLGwucnA9Zi5wbigpLGwubGVuZ3RoPnIuWmwpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJQMlAgTWVzc2FnZSB0b28gYmlnIHRvIGJlIHByb2Nlc3NlZFwiKTtlLm9sJiZzLk1sLmxvZyhsLnN3YXJtSWQpLmRlYnVnKFwiTVNHIElEIFwiK2wubXNnSWQrXCIgTCBcIitsLmxlbmd0aCtcIiBTV0lEIFwiK2wuc3dhcm1JZCtcIiBIIFwiK2wuaGFzaCtcIiBUUiBcIitsLnJwLmJ5dGVMZW5ndGgpfWVsc2V7aWYoZS5vbCYmcy5NbC5sb2coKS5kZWJ1ZyhcIkFQUEVORElORyBUTyBQMlAgTUVTU0FHRSBcIitsLm1zZ0lkKSxudWxsIT1sLnJwLmJ5dGVMZW5ndGgmJmwucnAuYnl0ZUxlbmd0aD5yLlpsKXRocm93IG5ldyBSYW5nZUVycm9yKFwiUDJQIE1lc3NhZ2UgdG9vIGJpZyB0byBiZSBwcm9jZXNzZWRcIik7bC5ycD1wLmZuLmFwcGVuZEJ1ZmZlcihsLnJwLGkpfWlmKGwucnAuYnl0ZUxlbmd0aD09PWwubGVuZ3RoKXt2YXIgZz1vLlFsLkdsLmNyZWF0ZShsLnJwKTtpZihvLktsKGcpLnRvU3RyaW5nKCkhPT1sLmhhc2gpe3JldHVybiB2b2lkIHMuTWwubG9nKGwuc3dhcm1JZCkud2FybihcIiBJTlRFR1JJVFkgQ0hFQ0sgRkFJTEVEIFwiKX12YXIgdj1zLkJsLkRsKGwuc3dhcm1JZCk7dnx8KHY9cy5CbC5BbChsLnN3YXJtSWQpLHMuTWwubG9nKGwuc3dhcm1JZCkuZGVidWcoXCJDUkVBVEVEIE5FVyBESVNQQVRDSEVSIEZPUiBcIitzLl9sKSksdi5BZShsKSxsLnJwPW51bGwscy5MbD1udWxsfX0pfWNhdGNoKGUpe2cuRXJyb3JNb25pdG9yLmdpKCkuZGkoXCJFUlJPUiBSRUNFSVZJTkcgTUVTU0FHRVwiLHtlcnJvcjplfSksdGhpcy5MbD1udWxsfX0sci5wcm90b3R5cGUuWGw9ZnVuY3Rpb24oZSl7dmFyIHQ9IWguRnJhbWV3b3JrLlMoKSYmbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoXCJmaXJlZm94XCIpPi0xLHI9YS5kZWZlcigpO2lmKHQpe3ZhciBpPW5ldyBGaWxlUmVhZGVyO2kub25sb2FkPWZ1bmN0aW9uKHQpe2U9dGhpcy5yZXN1bHQsci5yZXNvbHZlKGUpfSxpLm9uZXJyb3I9ci5yZWplY3QsaS5yZWFkQXNBcnJheUJ1ZmZlcihlKX1lbHNlIHIucmVzb2x2ZShlKTtyZXR1cm4gci5UZX0sci5wcm90b3R5cGUuaXA9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy54bH0scn0oKTt2Lm5wPWkub3AocigxNjcpKS5zcChcIkhpdmVNc2dzXCIpLHYuVWw9MCx2LlpsPTEzNitNYXRoLmNlaWwoMS4yKmwubmkuTXIuTnIpLGUuTXI9dn0odC5tdXx8KHQubXU9e30pKX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXIoNSk7IWZ1bmN0aW9uKGUpe2UuYmk9aS5SdC5iaSxlLk1pPWkuUnQuTWk7dmFyIHQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlfSgpO3QuYXA9XCJ3c3M6Ly9iZWUuaGl2ZXN0cmVhbWluZy5jb206NDQzL3YxL2hpdmVqc1wiLHQuaHA9XCJ3c3M6Ly9iZWUtdGVzdC5oaXZlc3RyZWFtaW5nLmNvbTo0NDMvdjEvaGl2ZWpzXCIsdC5jcD17aWNlU2VydmVyczpbe3VybDpcInN0dW46c3R1bi5oaXZlc3RyZWFtaW5nLmNvbTozNDc4XCJ9XX0sdC51cD0zZTQsdC5zYz0zZTUsdC5yYz04ZTQsdC5nYz0xZTMsdC5scD0zZTQsdC5wcD0xMDAsdC5mcD0xZTQsZS5pYz10fSh0Lm5jfHwodC5uYz17fSkpfSxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIHIoZSx0LHIpe251bGwhPWUmJihcIm51bWJlclwiPT10eXBlb2YgZT90aGlzLmRwKGUsdCxyKTpudWxsPT10JiZcInN0cmluZ1wiIT10eXBlb2YgZT90aGlzLmdwKGUsMjU2KTp0aGlzLmdwKGUsdCkpfWZ1bmN0aW9uIGkoKXtyZXR1cm4gbmV3IHIobnVsbCl9ZnVuY3Rpb24gbihlLHQscixpLG4scyl7Zm9yKDstLXM+PTA7KXt2YXIgbz10KnRoaXNbZSsrXStyW2ldK247bj1NYXRoLmZsb29yKG8vNjcxMDg4NjQpLHJbaSsrXT02NzEwODg2MyZvfXJldHVybiBufWZ1bmN0aW9uIHMoZSx0LHIsaSxuLHMpe2Zvcih2YXIgbz0zMjc2NyZ0LGE9dD4+MTU7LS1zPj0wOyl7dmFyIGg9MzI3NjcmdGhpc1tlXSxjPXRoaXNbZSsrXT4+MTUsdT1hKmgrYypvO2g9bypoKygoMzI3NjcmdSk8PDE1KStyW2ldKygxMDczNzQxODIzJm4pLG49KGg+Pj4zMCkrKHU+Pj4xNSkrYSpjKyhuPj4+MzApLHJbaSsrXT0xMDczNzQxODIzJmh9cmV0dXJuIG59ZnVuY3Rpb24gbyhlLHQscixpLG4scyl7Zm9yKHZhciBvPTE2MzgzJnQsYT10Pj4xNDstLXM+PTA7KXt2YXIgaD0xNjM4MyZ0aGlzW2VdLGM9dGhpc1tlKytdPj4xNCx1PWEqaCtjKm87aD1vKmgrKCgxNjM4MyZ1KTw8MTQpK3JbaV0rbixuPShoPj4yOCkrKHU+PjE0KSthKmMscltpKytdPTI2ODQzNTQ1NSZofXJldHVybiBufWZ1bmN0aW9uIGEoZSl7cmV0dXJuIFBlLmNoYXJBdChlKX1mdW5jdGlvbiBoKGUsdCl7dmFyIHI9QWVbZS5jaGFyQ29kZUF0KHQpXTtyZXR1cm4gbnVsbD09cj8tMTpyfWZ1bmN0aW9uIGMoZSl7Zm9yKHZhciB0PXRoaXMudnAtMTt0Pj0wOy0tdCllW3RdPXRoaXNbdF07ZS52cD10aGlzLnZwLGUudj10aGlzLnZ9ZnVuY3Rpb24gdShlKXt0aGlzLnZwPTEsdGhpcy52PWU8MD8tMTowLGU+MD90aGlzWzBdPWU6ZTwtMT90aGlzWzBdPWUrdGhpcy55cDp0aGlzLnZwPTB9ZnVuY3Rpb24gbChlKXt2YXIgdD1pKCk7cmV0dXJuIHQubXAoZSksdH1mdW5jdGlvbiBwKGUsdCl7dmFyIGk7aWYoMTY9PXQpaT00O2Vsc2UgaWYoOD09dClpPTM7ZWxzZSBpZigyNTY9PXQpaT04O2Vsc2UgaWYoMj09dClpPTE7ZWxzZSBpZigzMj09dClpPTU7ZWxzZXtpZig0IT10KXJldHVybiB2b2lkIHRoaXMuRXAoZSx0KTtpPTJ9dGhpcy52cD0wLHRoaXMudj0wO2Zvcih2YXIgbj1lLmxlbmd0aCxzPSExLG89MDstLW4+PTA7KXt2YXIgYT04PT1pPzI1NSZlW25dOmgoZSxuKTthPDA/XCItXCI9PWUuY2hhckF0KG4pJiYocz0hMCk6KHM9ITEsMD09bz90aGlzW3RoaXMudnArK109YTpvK2k+dGhpcy5UcD8odGhpc1t0aGlzLnZwLTFdfD0oYSYoMTw8dGhpcy5UcC1vKS0xKTw8byx0aGlzW3RoaXMudnArK109YT4+dGhpcy5UcC1vKTp0aGlzW3RoaXMudnAtMV18PWE8PG8sKG8rPWkpPj10aGlzLlRwJiYoby09dGhpcy5UcCkpfTg9PWkmJjAhPSgxMjgmZVswXSkmJih0aGlzLnY9LTEsbz4wJiYodGhpc1t0aGlzLnZwLTFdfD0oMTw8dGhpcy5UcC1vKS0xPDxvKSksdGhpcy5JcCgpLHMmJnIuWkVSTy53cCh0aGlzLHRoaXMpfWZ1bmN0aW9uIGYoKXtmb3IodmFyIGU9dGhpcy52JnRoaXMuU3A7dGhpcy52cD4wJiZ0aGlzW3RoaXMudnAtMV09PWU7KS0tdGhpcy52cH1mdW5jdGlvbiBkKGUpe2lmKHRoaXMudjwwKXJldHVyblwiLVwiK3RoaXMuUnAoKS50b1N0cmluZyhlKTt2YXIgdDtpZigxNj09ZSl0PTQ7ZWxzZSBpZig4PT1lKXQ9MztlbHNlIGlmKDI9PWUpdD0xO2Vsc2UgaWYoMzI9PWUpdD01O2Vsc2V7aWYoNCE9ZSlyZXR1cm4gdGhpcy5icChlKTt0PTJ9dmFyIHIsaT0oMTw8dCktMSxuPSExLHM9XCJcIixvPXRoaXMudnAsaD10aGlzLlRwLW8qdGhpcy5UcCV0O2lmKG8tLSA+MClmb3IoaDx0aGlzLlRwJiYocj10aGlzW29dPj5oKT4wJiYobj0hMCxzPWEocikpO28+PTA7KWg8dD8ocj0odGhpc1tvXSYoMTw8aCktMSk8PHQtaCxyfD10aGlzWy0tb10+PihoKz10aGlzLlRwLXQpKToocj10aGlzW29dPj4oaC09dCkmaSxoPD0wJiYoaCs9dGhpcy5UcCwtLW8pKSxyPjAmJihuPSEwKSxuJiYocys9YShyKSk7cmV0dXJuIG4/czpcIjBcIn1mdW5jdGlvbiBnKCl7dmFyIGU9aSgpO3JldHVybiByLlpFUk8ud3AodGhpcyxlKSxlfWZ1bmN0aW9uIHYoKXtyZXR1cm4gdGhpcy52PDA/dGhpcy5ScCgpOnRoaXN9ZnVuY3Rpb24geShlKXt2YXIgdD10aGlzLnYtZS52O2lmKDAhPXQpcmV0dXJuIHQ7dmFyIHI9dGhpcy52cDtpZigwIT0odD1yLWUudnApKXJldHVybiB0aGlzLnY8MD8tdDp0O2Zvcig7LS1yPj0wOylpZigwIT0odD10aGlzW3JdLWVbcl0pKXJldHVybiB0O3JldHVybiAwfWZ1bmN0aW9uIG0oZSl7dmFyIHQscj0xO3JldHVybiAwIT0odD1lPj4+MTYpJiYoZT10LHIrPTE2KSwwIT0odD1lPj44KSYmKGU9dCxyKz04KSwwIT0odD1lPj40KSYmKGU9dCxyKz00KSwwIT0odD1lPj4yKSYmKGU9dCxyKz0yKSwwIT0odD1lPj4xKSYmKGU9dCxyKz0xKSxyfWZ1bmN0aW9uIEUoKXtyZXR1cm4gdGhpcy52cDw9MD8wOnRoaXMuVHAqKHRoaXMudnAtMSkrbSh0aGlzW3RoaXMudnAtMV1edGhpcy52JnRoaXMuU3ApfWZ1bmN0aW9uIFQoZSx0KXt2YXIgcjtmb3Iocj10aGlzLnZwLTE7cj49MDstLXIpdFtyK2VdPXRoaXNbcl07Zm9yKHI9ZS0xO3I+PTA7LS1yKXRbcl09MDt0LnZwPXRoaXMudnArZSx0LnY9dGhpcy52fWZ1bmN0aW9uIEkoZSx0KXtmb3IodmFyIHI9ZTtyPHRoaXMudnA7KytyKXRbci1lXT10aGlzW3JdO3QudnA9TWF0aC5tYXgodGhpcy52cC1lLDApLHQudj10aGlzLnZ9ZnVuY3Rpb24gdyhlLHQpe3ZhciByLGk9ZSV0aGlzLlRwLG49dGhpcy5UcC1pLHM9KDE8PG4pLTEsbz1NYXRoLmZsb29yKGUvdGhpcy5UcCksYT10aGlzLnY8PGkmdGhpcy5TcDtmb3Iocj10aGlzLnZwLTE7cj49MDstLXIpdFtyK28rMV09dGhpc1tyXT4+bnxhLGE9KHRoaXNbcl0mcyk8PGk7Zm9yKHI9by0xO3I+PTA7LS1yKXRbcl09MDt0W29dPWEsdC52cD10aGlzLnZwK28rMSx0LnY9dGhpcy52LHQuSXAoKX1mdW5jdGlvbiBTKGUsdCl7dC52PXRoaXMudjt2YXIgcj1NYXRoLmZsb29yKGUvdGhpcy5UcCk7aWYocj49dGhpcy52cClyZXR1cm4gdm9pZCh0LnZwPTApO3ZhciBpPWUldGhpcy5UcCxuPXRoaXMuVHAtaSxzPSgxPDxpKS0xO3RbMF09dGhpc1tyXT4+aTtmb3IodmFyIG89cisxO288dGhpcy52cDsrK28pdFtvLXItMV18PSh0aGlzW29dJnMpPDxuLHRbby1yXT10aGlzW29dPj5pO2k+MCYmKHRbdGhpcy52cC1yLTFdfD0odGhpcy52JnMpPDxuKSx0LnZwPXRoaXMudnAtcix0LklwKCl9ZnVuY3Rpb24gUihlLHQpe2Zvcih2YXIgcj0wLGk9MCxuPU1hdGgubWluKGUudnAsdGhpcy52cCk7cjxuOylpKz10aGlzW3JdLWVbcl0sdFtyKytdPWkmdGhpcy5TcCxpPj49dGhpcy5UcDtpZihlLnZwPHRoaXMudnApe2ZvcihpLT1lLnY7cjx0aGlzLnZwOylpKz10aGlzW3JdLHRbcisrXT1pJnRoaXMuU3AsaT4+PXRoaXMuVHA7aSs9dGhpcy52fWVsc2V7Zm9yKGkrPXRoaXMudjtyPGUudnA7KWktPWVbcl0sdFtyKytdPWkmdGhpcy5TcCxpPj49dGhpcy5UcDtpLT1lLnZ9dC52PWk8MD8tMTowLGk8LTE/dFtyKytdPXRoaXMueXAraTppPjAmJih0W3IrK109aSksdC52cD1yLHQuSXAoKX1mdW5jdGlvbiBiKGUsdCl7dmFyIGk9dGhpcy5hYnMoKSxuPWUuYWJzKCkscz1pLnZwO2Zvcih0LnZwPXMrbi52cDstLXM+PTA7KXRbc109MDtmb3Iocz0wO3M8bi52cDsrK3MpdFtzK2kudnBdPWkuUHAoMCxuW3NdLHQscywwLGkudnApO3Qudj0wLHQuSXAoKSx0aGlzLnYhPWUudiYmci5aRVJPLndwKHQsdCl9ZnVuY3Rpb24gUChlKXtmb3IodmFyIHQ9dGhpcy5hYnMoKSxyPWUudnA9Mip0LnZwOy0tcj49MDspZVtyXT0wO2ZvcihyPTA7cjx0LnZwLTE7KytyKXt2YXIgaT10LlBwKHIsdFtyXSxlLDIqciwwLDEpOyhlW3IrdC52cF0rPXQuUHAocisxLDIqdFtyXSxlLDIqcisxLGksdC52cC1yLTEpKT49dC55cCYmKGVbcit0LnZwXS09dC55cCxlW3IrdC52cCsxXT0xKX1lLnZwPjAmJihlW2UudnAtMV0rPXQuUHAocix0W3JdLGUsMipyLDAsMSkpLGUudj0wLGUuSXAoKX1mdW5jdGlvbiBBKGUsdCxuKXt2YXIgcz1lLmFicygpO2lmKCEocy52cDw9MCkpe3ZhciBvPXRoaXMuYWJzKCk7aWYoby52cDxzLnZwKXJldHVybiBudWxsIT10JiZ0Lm1wKDApLHZvaWQobnVsbCE9biYmdGhpcy5BcChuKSk7bnVsbD09biYmKG49aSgpKTt2YXIgYT1pKCksaD10aGlzLnYsYz1lLnYsdT10aGlzLlRwLW0oc1tzLnZwLTFdKTt1PjA/KHMuQ3AodSxhKSxvLkNwKHUsbikpOihzLkFwKGEpLG8uQXAobikpO3ZhciBsPWEudnAscD1hW2wtMV07aWYoMCE9cCl7dmFyIGY9cCooMTw8dGhpcy5rcCkrKGw+MT9hW2wtMl0+PnRoaXMuT3A6MCksZD10aGlzLl9wL2YsZz0oMTw8dGhpcy5rcCkvZix2PTE8PHRoaXMuT3AseT1uLnZwLEU9eS1sLFQ9bnVsbD09dD9pKCk6dDtmb3IoYS5OcChFLFQpLG4uRHAoVCk+PTAmJihuW24udnArK109MSxuLndwKFQsbikpLHIuT05FLk5wKGwsVCksVC53cChhLGEpO2EudnA8bDspYVthLnZwKytdPTA7Zm9yKDstLUU+PTA7KXt2YXIgST1uWy0teV09PXA/dGhpcy5TcDpNYXRoLmZsb29yKG5beV0qZCsoblt5LTFdK3YpKmcpO2lmKChuW3ldKz1hLlBwKDAsSSxuLEUsMCxsKSk8SSlmb3IoYS5OcChFLFQpLG4ud3AoVCxuKTtuW3ldPC0tSTspbi53cChULG4pfW51bGwhPXQmJihuLkZwKGwsdCksaCE9YyYmci5aRVJPLndwKHQsdCkpLG4udnA9bCxuLklwKCksdT4wJiZuLkxwKHUsbiksaDwwJiZyLlpFUk8ud3AobixuKX19fWZ1bmN0aW9uIEMoZSl7dmFyIHQ9aSgpO3JldHVybiB0aGlzLmFicygpLk1wKGUsbnVsbCx0KSx0aGlzLnY8MCYmdC5EcChyLlpFUk8pPjAmJmUud3AodCx0KSx0fWZ1bmN0aW9uIGsoZSl7dGhpcy5vPWV9ZnVuY3Rpb24gTyhlKXtyZXR1cm4gZS52PDB8fGUuRHAodGhpcy5vKT49MD9lLkJwKHRoaXMubyk6ZX1mdW5jdGlvbiBfKGUpe3JldHVybiBlfWZ1bmN0aW9uIE4oZSl7ZS5NcCh0aGlzLm8sbnVsbCxlKX1mdW5jdGlvbiBEKGUsdCxyKXtlLlVwKHQsciksdGhpcy5yZWR1Y2Uocil9ZnVuY3Rpb24gRihlLHQpe2UueHAodCksdGhpcy5yZWR1Y2UodCl9ZnVuY3Rpb24gTCgpe2lmKHRoaXMudnA8MSlyZXR1cm4gMDt2YXIgZT10aGlzWzBdO2lmKDA9PSgxJmUpKXJldHVybiAwO3ZhciB0PTMmZTtyZXR1cm4gdD10KigyLSgxNSZlKSp0KSYxNSx0PXQqKDItKDI1NSZlKSp0KSYyNTUsdD10KigyLSgoNjU1MzUmZSkqdCY2NTUzNSkpJjY1NTM1LHQ9dCooMi1lKnQldGhpcy55cCkldGhpcy55cCx0PjA/dGhpcy55cC10Oi10fWZ1bmN0aW9uIE0oZSl7dGhpcy5vPWUsdGhpcy5IcD1lLnFwKCksdGhpcy5WcD0zMjc2NyZ0aGlzLkhwLHRoaXMuanA9dGhpcy5IcD4+MTUsdGhpcy5HcD0oMTw8ZS5UcC0xNSktMSx0aGlzLlFwPTIqZS52cH1mdW5jdGlvbiBCKGUpe3ZhciB0PWkoKTtyZXR1cm4gZS5hYnMoKS5OcCh0aGlzLm8udnAsdCksdC5NcCh0aGlzLm8sbnVsbCx0KSxlLnY8MCYmdC5EcChyLlpFUk8pPjAmJnRoaXMuby53cCh0LHQpLHR9ZnVuY3Rpb24gVShlKXt2YXIgdD1pKCk7cmV0dXJuIGUuQXAodCksdGhpcy5yZWR1Y2UodCksdH1mdW5jdGlvbiB4KGUpe2Zvcig7ZS52cDw9dGhpcy5RcDspZVtlLnZwKytdPTA7Zm9yKHZhciB0PTA7dDx0aGlzLm8udnA7Kyt0KXt2YXIgcj0zMjc2NyZlW3RdLGk9cip0aGlzLlZwKygocip0aGlzLmpwKyhlW3RdPj4xNSkqdGhpcy5WcCZ0aGlzLkdwKTw8MTUpJmUuU3A7Zm9yKHI9dCt0aGlzLm8udnAsZVtyXSs9dGhpcy5vLlBwKDAsaSxlLHQsMCx0aGlzLm8udnApO2Vbcl0+PWUueXA7KWVbcl0tPWUueXAsZVsrK3JdKyt9ZS5JcCgpLGUuRnAodGhpcy5vLnZwLGUpLGUuRHAodGhpcy5vKT49MCYmZS53cCh0aGlzLm8sZSl9ZnVuY3Rpb24gSChlLHQpe2UueHAodCksdGhpcy5yZWR1Y2UodCl9ZnVuY3Rpb24gcShlLHQscil7ZS5VcCh0LHIpLHRoaXMucmVkdWNlKHIpfWZ1bmN0aW9uIFYoKXtyZXR1cm4gMD09KHRoaXMudnA+MD8xJnRoaXNbMF06dGhpcy52KX1mdW5jdGlvbiBqKGUsdCl7aWYoZT40Mjk0OTY3Mjk1fHxlPDEpcmV0dXJuIHIuT05FO3ZhciBuPWkoKSxzPWkoKSxvPXQuS3AodGhpcyksYT1tKGUpLTE7Zm9yKG8uQXAobik7LS1hPj0wOylpZih0LllwKG4scyksKGUmMTw8YSk+MCl0LnpwKHMsbyxuKTtlbHNle3ZhciBoPW47bj1zLHM9aH1yZXR1cm4gdC5KcChuKX1mdW5jdGlvbiBHKGUsdCl7dmFyIHI7cmV0dXJuIHI9ZTwyNTZ8fHQuV3AoKT9uZXcgayh0KTpuZXcgTSh0KSx0aGlzLmV4cChlLHIpfWZ1bmN0aW9uIFEoZSl7dmFyIHQscixpLG49XCJcIixzPTA7Zm9yKHQ9MDt0PGUubGVuZ3RoJiZlLmNoYXJBdCh0KSE9a2U7Kyt0KShpPUNlLmluZGV4T2YoZS5jaGFyQXQodCkpKTwwfHwoMD09cz8obis9YShpPj4yKSxyPTMmaSxzPTEpOjE9PXM/KG4rPWEocjw8MnxpPj40KSxyPTE1Jmkscz0yKToyPT1zPyhuKz1hKHIpLG4rPWEoaT4+Mikscj0zJmkscz0zKToobis9YShyPDwyfGk+PjQpLG4rPWEoMTUmaSkscz0wKSk7cmV0dXJuIDE9PXMmJihuKz1hKHI8PDIpKSxufWZ1bmN0aW9uIEsoZSl7dmFyIHQscj1RKGUpLGk9bmV3IEFycmF5O2Zvcih0PTA7Mip0PHIubGVuZ3RoOysrdClpW3RdPXBhcnNlSW50KHIuc3Vic3RyaW5nKDIqdCwyKnQrMiksMTYpO3JldHVybiBpfS8qISAoYykgVG9tIFd1IHwgaHR0cDovL3d3dy1jcy1zdHVkZW50cy5zdGFuZm9yZC5lZHUvfnRqdy9qc2JuL1xyXG4gKi9cclxuZnVuY3Rpb24gWShlLHQpe3JldHVybiBuZXcgcihlLHQpfWZ1bmN0aW9uIHooZSx0KXtpZih0PGUubGVuZ3RoKzExKXJldHVybiBhbGVydChcIk1lc3NhZ2UgdG9vIGxvbmcgZm9yIFJTQVwiKSxudWxsO2Zvcih2YXIgaT1uZXcgQXJyYXksbj1lLmxlbmd0aC0xO24+PTAmJnQ+MDspe3ZhciBzPWUuY2hhckNvZGVBdChuLS0pO3M8MTI4P2lbLS10XT1zOnM+MTI3JiZzPDIwNDg/KGlbLS10XT02MyZzfDEyOCxpWy0tdF09cz4+NnwxOTIpOihpWy0tdF09NjMmc3wxMjgsaVstLXRdPXM+PjYmNjN8MTI4LGlbLS10XT1zPj4xMnwyMjQpfWlbLS10XT0wO2Zvcih2YXIgbz1uZXcgU2VjdXJlUmFuZG9tLGE9bmV3IEFycmF5O3Q+Mjspe2ZvcihhWzBdPTA7MD09YVswXTspby5YcChhKTtpWy0tdF09YVswXX1yZXR1cm4gaVstLXRdPTIsaVstLXRdPTAsbmV3IHIoaSl9ZnVuY3Rpb24gSihlLHQscil7Zm9yKHZhciBpPVwiXCIsbj0wO2kubGVuZ3RoPHQ7KWkrPXIoU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsZS5jb25jYXQoWyg0Mjc4MTkwMDgwJm4pPj4yNCwoMTY3MTE2ODAmbik+PjE2LCg2NTI4MCZuKT4+OCwyNTUmbl0pKSksbis9MTtyZXR1cm4gaX1mdW5jdGlvbiBXKGUsdCxpKXtpZihlLmxlbmd0aCsyKk9lKzI+dCl0aHJvd1wiTWVzc2FnZSB0b28gbG9uZyBmb3IgUlNBXCI7dmFyIG4scz1cIlwiO2ZvcihuPTA7bjx0LWUubGVuZ3RoLTIqT2UtMjtuKz0xKXMrPVwiXFwwXCI7dmFyIG89cnN0cl9zaGExKFwiXCIpK3MrXCJcdTAwMDFcIitlLGE9bmV3IEFycmF5KE9lKTsobmV3IFNlY3VyZVJhbmRvbSkuWHAoYSk7dmFyIGg9SihhLG8ubGVuZ3RoLGl8fHJzdHJfc2hhMSksYz1bXTtmb3Iobj0wO248by5sZW5ndGg7bis9MSljW25dPW8uY2hhckNvZGVBdChuKV5oLmNoYXJDb2RlQXQobik7dmFyIHU9SihjLGEubGVuZ3RoLHJzdHJfc2hhMSksbD1bMF07Zm9yKG49MDtuPGEubGVuZ3RoO24rPTEpbFtuKzFdPWFbbl1edS5jaGFyQ29kZUF0KG4pO3JldHVybiBuZXcgcihsLmNvbmNhdChjKSl9ZnVuY3Rpb24gWCgpe3RoaXMubj1udWxsLHRoaXMuZT0wLHRoaXMuZD1udWxsLHRoaXMuZz1udWxsLHRoaXMuWnA9bnVsbCx0aGlzLiRwPW51bGwsdGhpcy5lZj1udWxsLHRoaXMudGY9bnVsbH1mdW5jdGlvbiBaKGUsdCl7dGhpcy5yZj0hMCxcInN0cmluZ1wiIT10eXBlb2YgZT8odGhpcy5uPWUsdGhpcy5lPXQpOm51bGwhPWUmJm51bGwhPXQmJmUubGVuZ3RoPjAmJnQubGVuZ3RoPjA/KHRoaXMubj1ZKGUsMTYpLHRoaXMuZT1wYXJzZUludCh0LDE2KSk6YWxlcnQoXCJJbnZhbGlkIFJTQSBwdWJsaWMga2V5XCIpfWZ1bmN0aW9uICQoZSl7cmV0dXJuIGUuaWYodGhpcy5lLHRoaXMubil9ZnVuY3Rpb24gZWUoZSl7dmFyIHQ9eihlLHRoaXMubi5uZigpKzc+PjMpO2lmKG51bGw9PXQpcmV0dXJuIG51bGw7dmFyIHI9dGhpcy5zZih0KTtpZihudWxsPT1yKXJldHVybiBudWxsO3ZhciBpPXIudG9TdHJpbmcoMTYpO3JldHVybiAwPT0oMSZpLmxlbmd0aCk/aTpcIjBcIitpfWZ1bmN0aW9uIHRlKGUsdCl7dmFyIHI9VyhlLHRoaXMubi5uZigpKzc+PjMsdCk7aWYobnVsbD09cilyZXR1cm4gbnVsbDt2YXIgaT10aGlzLnNmKHIpO2lmKG51bGw9PWkpcmV0dXJuIG51bGw7dmFyIG49aS50b1N0cmluZygxNik7cmV0dXJuIDA9PSgxJm4ubGVuZ3RoKT9uOlwiMFwiK259ZnVuY3Rpb24gcmUoZSx0KXtmb3IodmFyIHI9XCJcIixpPXQvNC1lLmxlbmd0aCxuPTA7bjxpO24rKylyKz1cIjBcIjtyZXR1cm4gcitlfWZ1bmN0aW9uIGllKGUsdCl7dmFyIHI9ZnVuY3Rpb24oZSl7cmV0dXJuIEtKVVIuY3J5cHRvLmhmLmFmKGUsdCl9KGUpO3JldHVybiB0aGlzLmNmKHIsdCl9ZnVuY3Rpb24gbmUoZSx0KXt2YXIgcj1LSlVSLmNyeXB0by5oZi51ZihlLHQsdGhpcy5uLm5mKCkpLGk9WShyLDE2KTtyZXR1cm4gcmUodGhpcy5sZihpKS50b1N0cmluZygxNiksdGhpcy5uLm5mKCkpfWZ1bmN0aW9uIHNlKGUpe3JldHVybiBpZS5jYWxsKHRoaXMsZSxcInNoYTFcIil9ZnVuY3Rpb24gb2UoZSl7cmV0dXJuIGllLmNhbGwodGhpcyxlLFwic2hhMjU2XCIpfWZ1bmN0aW9uIGFlKGUsdCxyKXtmb3IodmFyIGk9XCJcIixuPTA7aS5sZW5ndGg8dDspaSs9aGV4dG9yc3RyKHIocnN0cnRvaGV4KGUrU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsWyg0Mjc4MTkwMDgwJm4pPj4yNCwoMTY3MTE2ODAmbik+PjE2LCg2NTI4MCZuKT4+OCwyNTUmbl0pKSkpLG4rPTE7cmV0dXJuIGl9ZnVuY3Rpb24gaGUoZSx0LHIpe3ZhciBpPWZ1bmN0aW9uKGUpe3JldHVybiBLSlVSLmNyeXB0by5oZi5wZihlLHQpfShyc3RydG9oZXgoZSkpO3JldHVybiB2b2lkIDA9PT1yJiYocj0tMSksdGhpcy5mZihpLHQscil9ZnVuY3Rpb24gY2UoZSx0LGkpe3ZhciBuLHM9aGV4dG9yc3RyKGUpLG89cy5sZW5ndGgsYT10aGlzLm4ubmYoKS0xLGg9TWF0aC5jZWlsKGEvOCksYz1mdW5jdGlvbihlKXtyZXR1cm4gS0pVUi5jcnlwdG8uaGYucGYoZSx0KX07aWYoLTE9PT1pfHx2b2lkIDA9PT1pKWk9bztlbHNlIGlmKC0yPT09aSlpPWgtby0yO2Vsc2UgaWYoaTwtMil0aHJvd1wiaW52YWxpZCBzYWx0IGxlbmd0aFwiO2lmKGg8bytpKzIpdGhyb3dcImRhdGEgdG9vIGxvbmdcIjt2YXIgdT1cIlwiO2k+MCYmKHU9bmV3IEFycmF5KGkpLChuZXcgU2VjdXJlUmFuZG9tKS5YcCh1KSx1PVN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLHUpKTt2YXIgbD1oZXh0b3JzdHIoYyhyc3RydG9oZXgoXCJcXDBcXDBcXDBcXDBcXDBcXDBcXDBcXDBcIitzK3UpKSkscD1bXTtmb3Iobj0wO248aC1pLW8tMjtuKz0xKXBbbl09MDt2YXIgZj1TdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZyxwKStcIlx1MDAwMVwiK3UsZD1hZShsLGYubGVuZ3RoLGMpLGc9W107Zm9yKG49MDtuPGYubGVuZ3RoO24rPTEpZ1tuXT1mLmNoYXJDb2RlQXQobileZC5jaGFyQ29kZUF0KG4pO3ZhciB2PTY1MjgwPj44KmgtYSYyNTU7Zm9yKGdbMF0mPX52LG49MDtuPG87bisrKWcucHVzaChsLmNoYXJDb2RlQXQobikpO3JldHVybiBnLnB1c2goMTg4KSxyZSh0aGlzLmxmKG5ldyByKGcpKS50b1N0cmluZygxNiksdGhpcy5uLm5mKCkpfWZ1bmN0aW9uIHVlKGUsdCxyKXt2YXIgaT1uZXcgWDtyZXR1cm4gaS5kZih0LHIpLGkuc2YoZSl9ZnVuY3Rpb24gbGUoZSx0LHIpe3JldHVybiB1ZShlLHQscikudG9TdHJpbmcoMTYpLnJlcGxhY2UoL14xZiswMC8sXCJcIil9ZnVuY3Rpb24gcGUoZSl7Zm9yKHZhciB0IGluIEtKVVIuY3J5cHRvLmhmLmdmKXt2YXIgcj1LSlVSLmNyeXB0by5oZi5nZlt0XSxpPXIubGVuZ3RoO2lmKGUuc3Vic3RyaW5nKDAsaSk9PXIpe3JldHVyblt0LGUuc3Vic3RyaW5nKGkpXX19cmV0dXJuW119ZnVuY3Rpb24gZmUoZSx0LHIsaSl7dmFyIG49bGUodCxyLGkpLHM9cGUobik7aWYoMD09cy5sZW5ndGgpcmV0dXJuITE7dmFyIG89c1swXSxhPXNbMV07cmV0dXJuIGE9PWZ1bmN0aW9uKGUpe3JldHVybiBLSlVSLmNyeXB0by5oZi5hZihlLG8pfShlKX1mdW5jdGlvbiBkZShlLHQpe3JldHVybiBmZSh0LFkoZSwxNiksdGhpcy5uLnRvU3RyaW5nKDE2KSx0aGlzLmUudG9TdHJpbmcoMTYpKX1mdW5jdGlvbiBnZShlLHQpe3Q9dC5yZXBsYWNlKF9lLFwiXCIpLHQ9dC5yZXBsYWNlKC9bIFxcbl0rL2csXCJcIik7dmFyIHI9WSh0LDE2KTtpZihyLm5mKCk+dGhpcy5uLm5mKCkpcmV0dXJuIDA7dmFyIGk9dGhpcy5zZihyKSxuPWkudG9TdHJpbmcoMTYpLnJlcGxhY2UoL14xZiswMC8sXCJcIikscz1wZShuKTtpZigwPT1zLmxlbmd0aClyZXR1cm4hMTt2YXIgbz1zWzBdLGE9c1sxXTtyZXR1cm4gYT09ZnVuY3Rpb24oZSl7cmV0dXJuIEtKVVIuY3J5cHRvLmhmLmFmKGUsbyl9KGUpfWZ1bmN0aW9uIHZlKGUsdCl7dD10LnJlcGxhY2UoX2UsXCJcIiksdD10LnJlcGxhY2UoL1sgXFxuXSsvZyxcIlwiKTt2YXIgcj1ZKHQsMTYpO2lmKHIubmYoKT50aGlzLm4ubmYoKSlyZXR1cm4gMDt2YXIgaT10aGlzLnNmKHIpLG49aS50b1N0cmluZygxNikucmVwbGFjZSgvXjFmKzAwLyxcIlwiKSxzPXBlKG4pO2lmKDA9PXMubGVuZ3RoKXJldHVybiExO3NbMF07cmV0dXJuIHNbMV09PWV9ZnVuY3Rpb24geWUoZSx0LHIsaSl7dmFyIG49ZnVuY3Rpb24oZSl7cmV0dXJuIEtKVVIuY3J5cHRvLmhmLnBmKGUscil9KHJzdHJ0b2hleChlKSk7cmV0dXJuIHZvaWQgMD09PWkmJihpPS0xKSx0aGlzLnZmKG4sdCxyLGkpfWZ1bmN0aW9uIG1lKGUsdCxpLG4pe3ZhciBzPW5ldyByKHQsMTYpO2lmKHMubmYoKT50aGlzLm4ubmYoKSlyZXR1cm4hMTt2YXIgbyxhPWZ1bmN0aW9uKGUpe3JldHVybiBLSlVSLmNyeXB0by5oZi5wZihlLGkpfSxoPWhleHRvcnN0cihlKSxjPWgubGVuZ3RoLHU9dGhpcy5uLm5mKCktMSxsPU1hdGguY2VpbCh1LzgpO2lmKC0xPT09bnx8dm9pZCAwPT09biluPWM7ZWxzZSBpZigtMj09PW4pbj1sLWMtMjtlbHNlIGlmKG48LTIpdGhyb3dcImludmFsaWQgc2FsdCBsZW5ndGhcIjtpZihsPGMrbisyKXRocm93XCJkYXRhIHRvbyBsb25nXCI7dmFyIHA9dGhpcy5zZihzKS55ZigpO2ZvcihvPTA7bzxwLmxlbmd0aDtvKz0xKXBbb10mPTI1NTtmb3IoO3AubGVuZ3RoPGw7KXAudW5zaGlmdCgwKTtpZigxODghPT1wW2wtMV0pdGhyb3dcImVuY29kZWQgbWVzc2FnZSBkb2VzIG5vdCBlbmQgaW4gMHhiY1wiO3A9U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcscCk7dmFyIGY9cC5zdWJzdHIoMCxsLWMtMSksZD1wLnN1YnN0cihmLmxlbmd0aCxjKSxnPTY1MjgwPj44KmwtdSYyNTU7aWYoMCE9KGYuY2hhckNvZGVBdCgwKSZnKSl0aHJvd1wiYml0cyBiZXlvbmQga2V5c2l6ZSBub3QgemVyb1wiO3ZhciB2PWFlKGQsZi5sZW5ndGgsYSkseT1bXTtmb3Iobz0wO288Zi5sZW5ndGg7bys9MSl5W29dPWYuY2hhckNvZGVBdChvKV52LmNoYXJDb2RlQXQobyk7eVswXSY9fmc7dmFyIG09bC1jLW4tMjtmb3Iobz0wO288bTtvKz0xKWlmKDAhPT15W29dKXRocm93XCJsZWZ0bW9zdCBvY3RldHMgbm90IHplcm9cIjtpZigxIT09eVttXSl0aHJvd1wiMHgwMSBtYXJrZXIgbm90IGZvdW5kXCI7cmV0dXJuIGQ9PT1oZXh0b3JzdHIoYShyc3RydG9oZXgoXCJcXDBcXDBcXDBcXDBcXDBcXDBcXDBcXDBcIitoK1N0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLHkuc2xpY2UoLW4pKSkpKX12YXIgRWU9e307RWUudXNlckFnZW50PSExO3ZhciBUZT17fTtpZih2b2lkIDA9PT1JZXx8IUllKXZhciBJZT17fTtJZS5tZj1mdW5jdGlvbigpe3ZhciBlLHQscixpPWFyZ3VtZW50cyxuPW51bGw7Zm9yKGU9MDtlPGkubGVuZ3RoO2UrPTEpZm9yKHI9KFwiXCIraVtlXSkuc3BsaXQoXCIuXCIpLG49SWUsdD1cIllBSE9PXCI9PXJbMF0/MTowO3Q8ci5sZW5ndGg7dCs9MSluW3JbdF1dPW5bclt0XV18fHt9LG49bltyW3RdXTtyZXR1cm4gbn0sSWUubG9nPWZ1bmN0aW9uKGUsdCxyKXt2YXIgaT1JZS5UZi5FZjtyZXR1cm4hKCFpfHwhaS5sb2cpJiZpLmxvZyhlLHQscil9LEllLnJlZ2lzdGVyPWZ1bmN0aW9uKGUsdCxyKXt2YXIgaSxuLHMsbyxhLGg9SWUuRGUuSWY7Zm9yKGhbZV18fChoW2VdPXt3ZjpbXSxTZjpbXX0pLGk9aFtlXSxuPXIudmVyc2lvbixzPXIuc3Asbz1JZS5EZS5zcyxpLm5hbWU9ZSxpLnZlcnNpb249bixpLnNwPXMsaS53Zi5wdXNoKG4pLGkuU2YucHVzaChzKSxpLlJmPXQsYT0wO2E8by5sZW5ndGg7YSs9MSlvW2FdKGkpO3Q/KHQuVkVSU0lPTj1uLHQuYmY9cyk6SWUubG9nKFwibWFpbkNsYXNzIGlzIHVuZGVmaW5lZCBmb3IgbW9kdWxlIFwiK2UsXCJ3YXJuXCIpfSxJZS5EZT1JZS5EZXx8e0lmOltdLHNzOltdfSxJZS5EZS5nZXRWZXJzaW9uPWZ1bmN0aW9uKGUpe3JldHVybiBJZS5EZS5JZltlXXx8bnVsbH0sSWUuRGUuUGY9ZnVuY3Rpb24oZSl7dmFyIHQscj1mdW5jdGlvbihlKXt2YXIgdD0wO3JldHVybiBwYXJzZUZsb2F0KGUucmVwbGFjZSgvXFwuL2csZnVuY3Rpb24oKXtyZXR1cm4gMT09dCsrP1wiXCI6XCIuXCJ9KSl9LGk9RWUsbj17QWY6MCxvcGVyYTowLENmOjAsa2Y6MCxjaHJvbWU6MCxPZjpudWxsLF9mOjAsTmY6MCxEZjowLEZmOjAsTGY6bnVsbCxNZjowLEJmOjAsVWY6aSYmaS54ZixIZjohMSxvczpudWxsfSxzPWV8fEVlJiZFZS51c2VyQWdlbnQsbz1UZSYmVGUubG9jYXRpb24sYT1vJiZvLmhyZWY7cmV0dXJuIG4uSGY9YSYmMD09PWEudG9Mb3dlckNhc2UoKS5pbmRleE9mKFwiaHR0cHNcIikscyYmKC93aW5kb3dzfHdpbjMyL2kudGVzdChzKT9uLm9zPVwid2luZG93c1wiOi9tYWNpbnRvc2gvaS50ZXN0KHMpP24ub3M9XCJtYWNpbnRvc2hcIjovcmhpbm8vaS50ZXN0KHMpJiYobi5vcz1cInJoaW5vXCIpLC9LSFRNTC8udGVzdChzKSYmKG4ua2Y9MSksdD1zLm1hdGNoKC9BcHBsZVdlYktpdFxcLyhbXlxcc10qKS8pLHQmJnRbMV0mJihuLmtmPXIodFsxXSksLyBNb2JpbGVcXC8vLnRlc3Qocyk/KG4uT2Y9XCJBcHBsZVwiLHQ9cy5tYXRjaCgvT1MgKFteXFxzXSopLyksdCYmdFsxXSYmKHQ9cih0WzFdLnJlcGxhY2UoXCJfXCIsXCIuXCIpKSksbi5MZj10LG4uTmY9bi5GZj1uLkRmPTAsKHQ9cy5tYXRjaCgvaVBhZHxpUG9kfGlQaG9uZS8pKSYmdFswXSYmKG5bdFswXS50b0xvd2VyQ2FzZSgpXT1uLkxmKSk6KHQ9cy5tYXRjaCgvTm9raWFOW15cXC9dKnxBbmRyb2lkIFxcZFxcLlxcZHx3ZWJPU1xcL1xcZFxcLlxcZC8pLHQmJihuLk9mPXRbMF0pLC93ZWJPUy8udGVzdChzKSYmKG4uT2Y9XCJXZWJPU1wiLCh0PXMubWF0Y2goL3dlYk9TXFwvKFteXFxzXSopOy8pKSYmdFsxXSYmKG4uQmY9cih0WzFdKSkpLC8gQW5kcm9pZC8udGVzdChzKSYmKG4uT2Y9XCJBbmRyb2lkXCIsKHQ9cy5tYXRjaCgvQW5kcm9pZCAoW15cXHNdKik7LykpJiZ0WzFdJiYobi5NZj1yKHRbMV0pKSkpLHQ9cy5tYXRjaCgvQ2hyb21lXFwvKFteXFxzXSopLyksdCYmdFsxXT9uLmNocm9tZT1yKHRbMV0pOih0PXMubWF0Y2goL0Fkb2JlQUlSXFwvKFteXFxzXSopLykpJiYobi5fZj10WzBdKSksbi5rZnx8KHQ9cy5tYXRjaCgvT3BlcmFbXFxzXFwvXShbXlxcc10qKS8pLHQmJnRbMV0/KG4ub3BlcmE9cih0WzFdKSx0PXMubWF0Y2goL1ZlcnNpb25cXC8oW15cXHNdKikvKSx0JiZ0WzFdJiYobi5vcGVyYT1yKHRbMV0pKSwodD1zLm1hdGNoKC9PcGVyYSBNaW5pW147XSovKSkmJihuLk9mPXRbMF0pKToodD1zLm1hdGNoKC9NU0lFXFxzKFteO10qKS8pLHQmJnRbMV0/bi5BZj1yKHRbMV0pOih0PXMubWF0Y2goL0dlY2tvXFwvKFteXFxzXSopLykpJiYobi5DZj0xLCh0PXMubWF0Y2goL3J2OihbXlxcc1xcKV0qKS8pKSYmdFsxXSYmKG4uQ2Y9cih0WzFdKSkpKSkpLG59LEllLkRlLnFmPUllLkRlLlBmKCksZnVuY3Rpb24oKXtpZihJZS5tZihcInV0aWxcIixcIndpZGdldFwiLFwiZXhhbXBsZVwiKSxcInVuZGVmaW5lZFwiIT10eXBlb2YgWUFIT09fY29uZmlnKXt2YXIgZSx0PVlBSE9PX2NvbmZpZy5saXN0ZW5lcixyPUllLkRlLnNzLGk9ITA7aWYodCl7Zm9yKGU9MDtlPHIubGVuZ3RoO2UrKylpZihyW2VdPT10KXtpPSExO2JyZWFrfWkmJnIucHVzaCh0KX19fSgpLEllLmxhbmc9SWUubGFuZ3x8e30sZnVuY3Rpb24oKXt2YXIgZT1JZS5sYW5nLHQ9T2JqZWN0LnByb3RvdHlwZSxyPVtdLGk9e1ZmOlwiJmFtcDtcIixqZjpcIiZsdDtcIixHZjpcIiZndDtcIixRZjpcIiZxdW90O1wiLEtmOlwiJiN4Mjc7XCIsWWY6XCImI3gyRjtcIix6ZjpcIiYjeDYwO1wifSxuPVtcInRvU3RyaW5nXCIsXCJ2YWx1ZU9mXCJdLHM9e2lzQXJyYXk6ZnVuY3Rpb24oZSl7cmV0dXJuXCJbb2JqZWN0IEFycmF5XVwiPT09dC50b1N0cmluZy5hcHBseShlKX0sSmY6ZnVuY3Rpb24oZSl7cmV0dXJuXCJib29sZWFuXCI9PXR5cGVvZiBlfSxXZjpmdW5jdGlvbihlKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBlfHxcIltvYmplY3QgRnVuY3Rpb25dXCI9PT10LnRvU3RyaW5nLmFwcGx5KGUpfSxYZjpmdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09PWV9LFpmOmZ1bmN0aW9uKGUpe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiBlJiZpc0Zpbml0ZShlKX0sSm86ZnVuY3Rpb24odCl7cmV0dXJuIHQmJihcIm9iamVjdFwiPT10eXBlb2YgdHx8ZS5XZih0KSl8fCExfSwkZjpmdW5jdGlvbihlKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZX0sdGQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMD09PWV9LHJkOkllLkRlLnFmLkFmP2Z1bmN0aW9uKHIsaSl7dmFyIHMsbyxhO2ZvcihzPTA7czxuLmxlbmd0aDtzKz0xKW89bltzXSxhPWlbb10sZS5XZihhKSYmYSE9dFtvXSYmKHJbb109YSl9OmZ1bmN0aW9uKCl7fSxuZDpmdW5jdGlvbihlKXtyZXR1cm4gZS5yZXBsYWNlKC9bJjw+XCInXFwvYF0vZyxmdW5jdGlvbihlKXtyZXR1cm4gaVtlXX0pfSxleHRlbmQ6ZnVuY3Rpb24ocixpLG4pe2lmKCFpfHwhcil0aHJvdyBuZXcgRXJyb3IoXCJleHRlbmQgZmFpbGVkLCBwbGVhc2UgY2hlY2sgdGhhdCBhbGwgZGVwZW5kZW5jaWVzIGFyZSBpbmNsdWRlZC5cIik7dmFyIHMsbz1mdW5jdGlvbigpe307aWYoby5wcm90b3R5cGU9aS5wcm90b3R5cGUsci5wcm90b3R5cGU9bmV3IG8sci5wcm90b3R5cGUuY29uc3RydWN0b3I9cixyLnNkPWkucHJvdG90eXBlLGkucHJvdG90eXBlLmNvbnN0cnVjdG9yPT10LmNvbnN0cnVjdG9yJiYoaS5wcm90b3R5cGUuY29uc3RydWN0b3I9aSksbil7Zm9yKHMgaW4gbillLmhhc093blByb3BlcnR5KG4scykmJihyLnByb3RvdHlwZVtzXT1uW3NdKTtlLnJkKHIucHJvdG90eXBlLG4pfX0sb2Q6ZnVuY3Rpb24odCxyKXtpZighcnx8IXQpdGhyb3cgbmV3IEVycm9yKFwiQWJzb3JiIGZhaWxlZCwgdmVyaWZ5IGRlcGVuZGVuY2llcy5cIik7dmFyIGksbixzPWFyZ3VtZW50cyxvPXNbMl07aWYobyYmITAhPT1vKWZvcihpPTI7aTxzLmxlbmd0aDtpKz0xKXRbc1tpXV09cltzW2ldXTtlbHNle2ZvcihuIGluIHIpIW8mJm4gaW4gdHx8KHRbbl09cltuXSk7ZS5yZCh0LHIpfXJldHVybiB0fSxhZDpmdW5jdGlvbih0LHIpe2lmKCFyfHwhdCl0aHJvdyBuZXcgRXJyb3IoXCJBdWdtZW50IGZhaWxlZCwgdmVyaWZ5IGRlcGVuZGVuY2llcy5cIik7dmFyIGksbj1bdC5wcm90b3R5cGUsci5wcm90b3R5cGVdO2ZvcihpPTI7aTxhcmd1bWVudHMubGVuZ3RoO2krPTEpbi5wdXNoKGFyZ3VtZW50c1tpXSk7cmV0dXJuIGUub2QuYXBwbHkodGhpcyxuKSx0fSxkdW1wOmZ1bmN0aW9uKHQscil7dmFyIGksbixzPVtdLG89XCJ7Li4ufVwiO2lmKCFlLkpvKHQpKXJldHVybiB0K1wiXCI7aWYodCBpbnN0YW5jZW9mIERhdGV8fFwibm9kZVR5cGVcImluIHQmJlwidGFnTmFtZVwiaW4gdClyZXR1cm4gdDtpZihlLldmKHQpKXJldHVyblwiZigpey4uLn1cIjtpZihyPWUuWmYocik/cjozLGUuaXNBcnJheSh0KSl7Zm9yKHMucHVzaChcIltcIiksaT0wLG49dC5sZW5ndGg7aTxuO2krPTEpZS5Kbyh0W2ldKT9zLnB1c2gocj4wP2UuZHVtcCh0W2ldLHItMSk6byk6cy5wdXNoKHRbaV0pLHMucHVzaChcIiwgXCIpO3MubGVuZ3RoPjEmJnMucG9wKCkscy5wdXNoKFwiXVwiKX1lbHNle3MucHVzaChcIntcIik7Zm9yKGkgaW4gdCllLmhhc093blByb3BlcnR5KHQsaSkmJihzLnB1c2goaStcIiA9PiBcIiksZS5Kbyh0W2ldKT9zLnB1c2gocj4wP2UuZHVtcCh0W2ldLHItMSk6byk6cy5wdXNoKHRbaV0pLHMucHVzaChcIiwgXCIpKTtzLmxlbmd0aD4xJiZzLnBvcCgpLHMucHVzaChcIn1cIil9cmV0dXJuIHMuam9pbihcIlwiKX0saGQ6ZnVuY3Rpb24odCxyLGksbil7Zm9yKHZhciBzLG8sYSxoLGMsdSxsLHAsZixkPVtdLGc9dC5sZW5ndGg7ISgocz10Lmxhc3RJbmRleE9mKFwie1wiLGcpKTwwKSYmKG89dC5pbmRleE9mKFwifVwiLHMpLCEocysxPm8pKTspbD10LnN1YnN0cmluZyhzKzEsbyksaD1sLHU9bnVsbCxhPWguaW5kZXhPZihcIiBcIiksYT4tMSYmKHU9aC5zdWJzdHJpbmcoYSsxKSxoPWguc3Vic3RyaW5nKDAsYSkpLGM9cltoXSxpJiYoYz1pKGgsYyx1KSksZS5KbyhjKT9lLmlzQXJyYXkoYyk/Yz1lLmR1bXAoYyxwYXJzZUludCh1LDEwKSk6KHU9dXx8XCJcIixwPXUuaW5kZXhPZihcImR1bXBcIikscD4tMSYmKHU9dS5zdWJzdHJpbmcoNCkpLGY9Yy50b1N0cmluZygpLGM9XCJbb2JqZWN0IE9iamVjdF1cIj09PWZ8fHA+LTE/ZS5kdW1wKGMscGFyc2VJbnQodSwxMCkpOmYpOmUuJGYoYyl8fGUuWmYoYyl8fChjPVwifi1cIitkLmxlbmd0aCtcIi1+XCIsZFtkLmxlbmd0aF09bCksdD10LnN1YnN0cmluZygwLHMpK2MrdC5zdWJzdHJpbmcobysxKSwhMT09PW4mJihnPXMtMSk7Zm9yKHM9ZC5sZW5ndGgtMTtzPj0wO3MtPTEpdD10LnJlcGxhY2UobmV3IFJlZ0V4cChcIn4tXCIrcytcIi1+XCIpLFwie1wiK2Rbc10rXCJ9XCIsXCJnXCIpO3JldHVybiB0fSx0cmltOmZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4gZS5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLFwiXCIpfWNhdGNoKHQpe3JldHVybiBlfX0sdWQ6ZnVuY3Rpb24oKXt2YXIgdCxyPXt9LGk9YXJndW1lbnRzLG49aS5sZW5ndGg7Zm9yKHQ9MDt0PG47dCs9MSllLm9kKHIsaVt0XSwhMCk7cmV0dXJuIHJ9LGxkOmZ1bmN0aW9uKHQsaSxuLHMsbyl7dD10fHwwLGk9aXx8e307dmFyIGEsaCxjPW4sdT1zO2lmKGUuJGYobikmJihjPWlbbl0pLCFjKXRocm93IG5ldyBUeXBlRXJyb3IoXCJtZXRob2QgdW5kZWZpbmVkXCIpO3JldHVybiBlLnRkKHMpfHxlLmlzQXJyYXkodSl8fCh1PVtzXSksYT1mdW5jdGlvbigpe2MuYXBwbHkoaSx1fHxyKX0saD1vP3NldEludGVydmFsKGEsdCk6c2V0VGltZW91dChhLHQpLHtpbnRlcnZhbDpvLGNhbmNlbDpmdW5jdGlvbigpe3RoaXMuaW50ZXJ2YWw/Y2xlYXJJbnRlcnZhbChoKTpjbGVhclRpbWVvdXQoaCl9fX0scGQ6ZnVuY3Rpb24odCl7cmV0dXJuIGUuSm8odCl8fGUuJGYodCl8fGUuWmYodCl8fGUuSmYodCl9fTtlLmhhc093blByb3BlcnR5PXQuaGFzT3duUHJvcGVydHk/ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSYmZS5oYXNPd25Qcm9wZXJ0eSYmZS5oYXNPd25Qcm9wZXJ0eSh0KX06ZnVuY3Rpb24odCxyKXtyZXR1cm4hZS50ZCh0W3JdKSYmdC5jb25zdHJ1Y3Rvci5wcm90b3R5cGVbcl0hPT10W3JdfSxzLm9kKGUscywhMCksSWUudXRpbC5MYW5nPWUsZS5mZD1lLmFkLEllLmZkPWUuYWQsSWUuZXh0ZW5kPWUuZXh0ZW5kfSgpLEllLnJlZ2lzdGVyKFwieWFob29cIixJZSx7dmVyc2lvbjpcIjIuOS4wXCIsc3A6XCIyODAwXCJ9KTsvKiEgQ3J5cHRvSlMgdjMuMS4yIGNvcmUtZml4LmpzXHJcbiAqIGNvZGUuZ29vZ2xlLmNvbS9wL2NyeXB0by1qc1xyXG4gKiAoYykgMjAwOS0yMDEzIGJ5IEplZmYgTW90dC4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICogY29kZS5nb29nbGUuY29tL3AvY3J5cHRvLWpzL3dpa2kvTGljZW5zZVxyXG4gKiBUSElTIElTIEZJWCBvZiAnY29yZS5qcycgdG8gZml4IEhtYWMgaXNzdWUuXHJcbiAqIGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvY3J5cHRvLWpzL2lzc3Vlcy9kZXRhaWw/aWQ9ODRcclxuICogaHR0cHM6Ly9jcnlwdG8tanMuZ29vZ2xlY29kZS5jb20vc3ZuLWhpc3RvcnkvcjY2Ny9icmFuY2hlcy8zLngvc3JjL2NvcmUuanNcclxuICovXHJcbnZhciB3ZT13ZXx8ZnVuY3Rpb24oZSx0KXt2YXIgcj17fSxpPXIuUWw9e30sbj1pLmRkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm57ZXh0ZW5kOmZ1bmN0aW9uKHQpe2UucHJvdG90eXBlPXRoaXM7dmFyIHI9bmV3IGU7cmV0dXJuIHQmJnIuZ2QodCksci5oYXNPd25Qcm9wZXJ0eShcImluaXRcIil8fChyLmluaXQ9ZnVuY3Rpb24oKXtyLnZkLmluaXQuYXBwbHkodGhpcyxhcmd1bWVudHMpfSksci5pbml0LnByb3RvdHlwZT1yLHIudmQ9dGhpcyxyfSxjcmVhdGU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmV4dGVuZCgpO3JldHVybiBlLmluaXQuYXBwbHkoZSxhcmd1bWVudHMpLGV9LGluaXQ6ZnVuY3Rpb24oKXt9LGdkOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdCBpbiBlKWUuaGFzT3duUHJvcGVydHkodCkmJih0aGlzW3RdPWVbdF0pO2UuaGFzT3duUHJvcGVydHkoXCJ0b1N0cmluZ1wiKSYmKHRoaXMudG9TdHJpbmc9ZS50b1N0cmluZyl9LGNsb25lOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW5pdC5wcm90b3R5cGUuZXh0ZW5kKHRoaXMpfX19KCkscz1pLkdsPW4uZXh0ZW5kKHtpbml0OmZ1bmN0aW9uKGUsdCl7ZT10aGlzLnlkPWV8fFtdLHRoaXMubWQ9dm9pZCAwIT10P3Q6NCplLmxlbmd0aH0sdG9TdHJpbmc6ZnVuY3Rpb24oZSl7cmV0dXJuKGV8fGEpLnN0cmluZ2lmeSh0aGlzKX0sY29uY2F0OmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMueWQscj1lLnlkLGk9dGhpcy5tZCxuPWUubWQ7aWYodGhpcy5JcCgpLGklNClmb3IodmFyIHM9MDtzPG47cysrKXt2YXIgbz1yW3M+Pj4yXT4+PjI0LXMlNCo4JjI1NTt0W2krcz4+PjJdfD1vPDwyNC0oaStzKSU0Kjh9ZWxzZSBmb3IodmFyIHM9MDtzPG47cys9NCl0W2krcz4+PjJdPXJbcz4+PjJdO3JldHVybiB0aGlzLm1kKz1uLHRoaXN9LElwOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy55ZCxyPXRoaXMubWQ7dFtyPj4+Ml0mPTQyOTQ5NjcyOTU8PDMyLXIlNCo4LHQubGVuZ3RoPWUuY2VpbChyLzQpfSxjbG9uZTpmdW5jdGlvbigpe3ZhciBlPW4uY2xvbmUuY2FsbCh0aGlzKTtyZXR1cm4gZS55ZD10aGlzLnlkLnNsaWNlKDApLGV9LHJhbmRvbTpmdW5jdGlvbih0KXtmb3IodmFyIHI9W10saT0wO2k8dDtpKz00KXIucHVzaCg0Mjk0OTY3Mjk2KmUucmFuZG9tKCl8MCk7cmV0dXJuIG5ldyBzLmluaXQocix0KX19KSxvPXIuRWQ9e30sYT1vLlRkPXtzdHJpbmdpZnk6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWUueWQscj1lLm1kLGk9W10sbj0wO248cjtuKyspe3ZhciBzPXRbbj4+PjJdPj4+MjQtbiU0KjgmMjU1O2kucHVzaCgocz4+PjQpLnRvU3RyaW5nKDE2KSksaS5wdXNoKCgxNSZzKS50b1N0cmluZygxNikpfXJldHVybiBpLmpvaW4oXCJcIil9LHBhcnNlOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1lLmxlbmd0aCxyPVtdLGk9MDtpPHQ7aSs9MilyW2k+Pj4zXXw9cGFyc2VJbnQoZS5zdWJzdHIoaSwyKSwxNik8PDI0LWklOCo0O3JldHVybiBuZXcgcy5pbml0KHIsdC8yKX19LGg9by5JZD17c3RyaW5naWZ5OmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1lLnlkLHI9ZS5tZCxpPVtdLG49MDtuPHI7bisrKXt2YXIgcz10W24+Pj4yXT4+PjI0LW4lNCo4JjI1NTtpLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZShzKSl9cmV0dXJuIGkuam9pbihcIlwiKX0scGFyc2U6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWUubGVuZ3RoLHI9W10saT0wO2k8dDtpKyspcltpPj4+Ml18PSgyNTUmZS5jaGFyQ29kZUF0KGkpKTw8MjQtaSU0Kjg7cmV0dXJuIG5ldyBzLmluaXQocix0KX19LGM9by53ZD17c3RyaW5naWZ5OmZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KGVzY2FwZShoLnN0cmluZ2lmeShlKSkpfWNhdGNoKGUpe3Rocm93IG5ldyBFcnJvcihcIk1hbGZvcm1lZCBVVEYtOCBkYXRhXCIpfX0scGFyc2U6ZnVuY3Rpb24oZSl7cmV0dXJuIGgucGFyc2UodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KGUpKSl9fSx1PWkuU2Q9bi5leHRlbmQoe3Jlc2V0OmZ1bmN0aW9uKCl7dGhpcy5SZD1uZXcgcy5pbml0LHRoaXMuYmQ9MH0sUGQ6ZnVuY3Rpb24oZSl7XCJzdHJpbmdcIj09dHlwZW9mIGUmJihlPWMucGFyc2UoZSkpLHRoaXMuUmQuY29uY2F0KGUpLHRoaXMuYmQrPWUubWR9LEFkOmZ1bmN0aW9uKHQpe3ZhciByPXRoaXMuUmQsaT1yLnlkLG49ci5tZCxvPXRoaXMuQ2QsYT00Km8saD1uL2E7aD10P2UuY2VpbChoKTplLm1heCgoMHxoKS10aGlzLmtkLDApO3ZhciBjPWgqbyx1PWUubWluKDQqYyxuKTtpZihjKXtmb3IodmFyIGw9MDtsPGM7bCs9byl0aGlzLk9kKGksbCk7dmFyIHA9aS5zcGxpY2UoMCxjKTtyLm1kLT11fXJldHVybiBuZXcgcy5pbml0KHAsdSl9LGNsb25lOmZ1bmN0aW9uKCl7dmFyIGU9bi5jbG9uZS5jYWxsKHRoaXMpO3JldHVybiBlLlJkPXRoaXMuUmQuY2xvbmUoKSxlfSxrZDowfSksbD0oaS5fZD11LmV4dGVuZCh7TmQ6bi5leHRlbmQoKSxpbml0OmZ1bmN0aW9uKGUpe3RoaXMuTmQ9dGhpcy5OZC5leHRlbmQoZSksdGhpcy5yZXNldCgpfSxyZXNldDpmdW5jdGlvbigpe3UucmVzZXQuY2FsbCh0aGlzKSx0aGlzLkRkKCl9LHVwZGF0ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5QZChlKSx0aGlzLkFkKCksdGhpc30sRmQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJnRoaXMuUGQoZSksdGhpcy5MZCgpfSxDZDoxNixNZDpmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxyKXtyZXR1cm4gbmV3IGUuaW5pdChyKS5GZCh0KX19LEJkOmZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIpe3JldHVybiBuZXcgbC5VZC5pbml0KGUscikuRmQodCl9fX0pLHIueGQ9e30pO3JldHVybiByfShNYXRoKTshZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlLHQscixpLG4scyxvKXtyZXR1cm4oKGU9ZSsodCZyfH50JmkpK24rbyk8PHN8ZT4+PjMyLXMpK3R9ZnVuY3Rpb24gcihlLHQscixpLG4scyxvKXtyZXR1cm4oKGU9ZSsodCZpfHImfmkpK24rbyk8PHN8ZT4+PjMyLXMpK3R9ZnVuY3Rpb24gaShlLHQscixpLG4scyxvKXtyZXR1cm4oKGU9ZSsodF5yXmkpK24rbyk8PHN8ZT4+PjMyLXMpK3R9ZnVuY3Rpb24gbihlLHQscixpLG4scyxvKXtyZXR1cm4oKGU9ZSsocl4odHx+aSkpK24rbyk8PHN8ZT4+PjMyLXMpK3R9Zm9yKHZhciBzPXdlLG89cy5RbCxhPW8uR2wsaD1vLl9kLG89cy54ZCxjPVtdLHU9MDs2ND51O3UrKyljW3VdPTQyOTQ5NjcyOTYqZS5hYnMoZS5zaW4odSsxKSl8MDtvPW8uS2w9aC5leHRlbmQoe0RkOmZ1bmN0aW9uKCl7dGhpcy5IZD1uZXcgYS5pbml0KFsxNzMyNTg0MTkzLDQwMjMyMzM0MTcsMjU2MjM4MzEwMiwyNzE3MzM4NzhdKX0sT2Q6ZnVuY3Rpb24oZSxzKXtmb3IodmFyIG89MDsxNj5vO28rKyl7dmFyIGE9cytvLGg9ZVthXTtlW2FdPTE2NzExOTM1JihoPDw4fGg+Pj4yNCl8NDI3ODI1NTM2MCYoaDw8MjR8aD4+PjgpfXZhciBvPXRoaXMuSGQueWQsYT1lW3MrMF0saD1lW3MrMV0sdT1lW3MrMl0sbD1lW3MrM10scD1lW3MrNF0sZj1lW3MrNV0sZD1lW3MrNl0sZz1lW3MrN10sdj1lW3MrOF0seT1lW3MrOV0sbT1lW3MrMTBdLEU9ZVtzKzExXSxUPWVbcysxMl0sST1lW3MrMTNdLHc9ZVtzKzE0XSxTPWVbcysxNV0sUj1vWzBdLGI9b1sxXSxQPW9bMl0sQT1vWzNdLFI9dChSLGIsUCxBLGEsNyxjWzBdKSxBPXQoQSxSLGIsUCxoLDEyLGNbMV0pLFA9dChQLEEsUixiLHUsMTcsY1syXSksYj10KGIsUCxBLFIsbCwyMixjWzNdKSxSPXQoUixiLFAsQSxwLDcsY1s0XSksQT10KEEsUixiLFAsZiwxMixjWzVdKSxQPXQoUCxBLFIsYixkLDE3LGNbNl0pLGI9dChiLFAsQSxSLGcsMjIsY1s3XSksUj10KFIsYixQLEEsdiw3LGNbOF0pLEE9dChBLFIsYixQLHksMTIsY1s5XSksUD10KFAsQSxSLGIsbSwxNyxjWzEwXSksYj10KGIsUCxBLFIsRSwyMixjWzExXSksUj10KFIsYixQLEEsVCw3LGNbMTJdKSxBPXQoQSxSLGIsUCxJLDEyLGNbMTNdKSxQPXQoUCxBLFIsYix3LDE3LGNbMTRdKSxiPXQoYixQLEEsUixTLDIyLGNbMTVdKSxSPXIoUixiLFAsQSxoLDUsY1sxNl0pLEE9cihBLFIsYixQLGQsOSxjWzE3XSksUD1yKFAsQSxSLGIsRSwxNCxjWzE4XSksYj1yKGIsUCxBLFIsYSwyMCxjWzE5XSksUj1yKFIsYixQLEEsZiw1LGNbMjBdKSxBPXIoQSxSLGIsUCxtLDksY1syMV0pLFA9cihQLEEsUixiLFMsMTQsY1syMl0pLGI9cihiLFAsQSxSLHAsMjAsY1syM10pLFI9cihSLGIsUCxBLHksNSxjWzI0XSksQT1yKEEsUixiLFAsdyw5LGNbMjVdKSxQPXIoUCxBLFIsYixsLDE0LGNbMjZdKSxiPXIoYixQLEEsUix2LDIwLGNbMjddKSxSPXIoUixiLFAsQSxJLDUsY1syOF0pLEE9cihBLFIsYixQLHUsOSxjWzI5XSksUD1yKFAsQSxSLGIsZywxNCxjWzMwXSksYj1yKGIsUCxBLFIsVCwyMCxjWzMxXSksUj1pKFIsYixQLEEsZiw0LGNbMzJdKSxBPWkoQSxSLGIsUCx2LDExLGNbMzNdKSxQPWkoUCxBLFIsYixFLDE2LGNbMzRdKSxiPWkoYixQLEEsUix3LDIzLGNbMzVdKSxSPWkoUixiLFAsQSxoLDQsY1szNl0pLEE9aShBLFIsYixQLHAsMTEsY1szN10pLFA9aShQLEEsUixiLGcsMTYsY1szOF0pLGI9aShiLFAsQSxSLG0sMjMsY1szOV0pLFI9aShSLGIsUCxBLEksNCxjWzQwXSksQT1pKEEsUixiLFAsYSwxMSxjWzQxXSksUD1pKFAsQSxSLGIsbCwxNixjWzQyXSksYj1pKGIsUCxBLFIsZCwyMyxjWzQzXSksUj1pKFIsYixQLEEseSw0LGNbNDRdKSxBPWkoQSxSLGIsUCxULDExLGNbNDVdKSxQPWkoUCxBLFIsYixTLDE2LGNbNDZdKSxiPWkoYixQLEEsUix1LDIzLGNbNDddKSxSPW4oUixiLFAsQSxhLDYsY1s0OF0pLEE9bihBLFIsYixQLGcsMTAsY1s0OV0pLFA9bihQLEEsUixiLHcsMTUsY1s1MF0pLGI9bihiLFAsQSxSLGYsMjEsY1s1MV0pLFI9bihSLGIsUCxBLFQsNixjWzUyXSksQT1uKEEsUixiLFAsbCwxMCxjWzUzXSksUD1uKFAsQSxSLGIsbSwxNSxjWzU0XSksYj1uKGIsUCxBLFIsaCwyMSxjWzU1XSksUj1uKFIsYixQLEEsdiw2LGNbNTZdKSxBPW4oQSxSLGIsUCxTLDEwLGNbNTddKSxQPW4oUCxBLFIsYixkLDE1LGNbNThdKSxiPW4oYixQLEEsUixJLDIxLGNbNTldKSxSPW4oUixiLFAsQSxwLDYsY1s2MF0pLEE9bihBLFIsYixQLEUsMTAsY1s2MV0pLFA9bihQLEEsUixiLHUsMTUsY1s2Ml0pLGI9bihiLFAsQSxSLHksMjEsY1s2M10pO29bMF09b1swXStSfDAsb1sxXT1vWzFdK2J8MCxvWzJdPW9bMl0rUHwwLG9bM109b1szXStBfDB9LExkOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5SZCxyPXQueWQsaT04KnRoaXMuYmQsbj04KnQubWQ7cltuPj4+NV18PTEyODw8MjQtbiUzMjt2YXIgcz1lLmZsb29yKGkvNDI5NDk2NzI5Nik7Zm9yKHJbMTUrKG4rNjQ+Pj45PDw0KV09MTY3MTE5MzUmKHM8PDh8cz4+PjI0KXw0Mjc4MjU1MzYwJihzPDwyNHxzPj4+OCksclsxNCsobis2ND4+Pjk8PDQpXT0xNjcxMTkzNSYoaTw8OHxpPj4+MjQpfDQyNzgyNTUzNjAmKGk8PDI0fGk+Pj44KSx0Lm1kPTQqKHIubGVuZ3RoKzEpLHRoaXMuQWQoKSx0PXRoaXMuSGQscj10LnlkLGk9MDs0Pmk7aSsrKW49cltpXSxyW2ldPTE2NzExOTM1JihuPDw4fG4+Pj4yNCl8NDI3ODI1NTM2MCYobjw8MjR8bj4+PjgpO3JldHVybiB0fSxjbG9uZTpmdW5jdGlvbigpe3ZhciBlPWguY2xvbmUuY2FsbCh0aGlzKTtyZXR1cm4gZS5IZD10aGlzLkhkLmNsb25lKCksZX19KSxzLktsPWguTWQobykscy5xZD1oLkJkKG8pfShNYXRoKSxmdW5jdGlvbigpe3ZhciBlPXdlLHQ9ZS5RbCxyPXQuR2wsaT10Ll9kLG49W10sdD1lLnhkLlZkPWkuZXh0ZW5kKHtEZDpmdW5jdGlvbigpe3RoaXMuSGQ9bmV3IHIuaW5pdChbMTczMjU4NDE5Myw0MDIzMjMzNDE3LDI1NjIzODMxMDIsMjcxNzMzODc4LDMyODUzNzc1MjBdKX0sT2Q6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9dGhpcy5IZC55ZCxpPXJbMF0scz1yWzFdLG89clsyXSxhPXJbM10saD1yWzRdLGM9MDs4MD5jO2MrKyl7aWYoMTY+YyluW2NdPTB8ZVt0K2NdO2Vsc2V7dmFyIHU9bltjLTNdXm5bYy04XV5uW2MtMTRdXm5bYy0xNl07bltjXT11PDwxfHU+Pj4zMX11PShpPDw1fGk+Pj4yNykraCtuW2NdLHU9MjA+Yz91KygxNTE4NTAwMjQ5KyhzJm98fnMmYSkpOjQwPmM/dSsoMTg1OTc3NTM5Mysoc15vXmEpKTo2MD5jP3UrKChzJm98cyZhfG8mYSktMTg5NDAwNzU4OCk6dSsoKHNeb15hKS04OTk0OTc1MTQpLGg9YSxhPW8sbz1zPDwzMHxzPj4+MixzPWksaT11fXJbMF09clswXStpfDAsclsxXT1yWzFdK3N8MCxyWzJdPXJbMl0rb3wwLHJbM109clszXSthfDAscls0XT1yWzRdK2h8MH0sTGQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLlJkLHQ9ZS55ZCxyPTgqdGhpcy5iZCxpPTgqZS5tZDtyZXR1cm4gdFtpPj4+NV18PTEyODw8MjQtaSUzMix0WzE0KyhpKzY0Pj4+OTw8NCldPU1hdGguZmxvb3Ioci80Mjk0OTY3Mjk2KSx0WzE1KyhpKzY0Pj4+OTw8NCldPXIsZS5tZD00KnQubGVuZ3RoLHRoaXMuQWQoKSx0aGlzLkhkfSxjbG9uZTpmdW5jdGlvbigpe3ZhciBlPWkuY2xvbmUuY2FsbCh0aGlzKTtyZXR1cm4gZS5IZD10aGlzLkhkLmNsb25lKCksZX19KTtlLlZkPWkuTWQodCksZS5qZD1pLkJkKHQpfSgpOy8qISAoYykgVG9tIFd1IHwgaHR0cDovL3d3dy1jcy1zdHVkZW50cy5zdGFuZm9yZC5lZHUvfnRqdy9qc2JuLyAqL1xyXG52YXIgU2U7XCJNaWNyb3NvZnQgSW50ZXJuZXQgRXhwbG9yZXJcIj09RWUuYXBwTmFtZT8oci5wcm90b3R5cGUuUHA9cyxTZT0zMCk6XCJOZXRzY2FwZVwiIT1FZS5hcHBOYW1lPyhyLnByb3RvdHlwZS5QcD1uLFNlPTI2KTooci5wcm90b3R5cGUuUHA9byxTZT0yOCksci5wcm90b3R5cGUuVHA9U2Usci5wcm90b3R5cGUuU3A9KDE8PFNlKS0xLHIucHJvdG90eXBlLnlwPTE8PFNlO3IucHJvdG90eXBlLl9wPU1hdGgucG93KDIsNTIpLHIucHJvdG90eXBlLmtwPTUyLVNlLHIucHJvdG90eXBlLk9wPTIqU2UtNTI7dmFyIFJlLGJlLFBlPVwiMDEyMzQ1Njc4OWFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6XCIsQWU9bmV3IEFycmF5O2ZvcihSZT1cIjBcIi5jaGFyQ29kZUF0KDApLGJlPTA7YmU8PTk7KytiZSlBZVtSZSsrXT1iZTtmb3IoUmU9XCJhXCIuY2hhckNvZGVBdCgwKSxiZT0xMDtiZTwzNjsrK2JlKUFlW1JlKytdPWJlO2ZvcihSZT1cIkFcIi5jaGFyQ29kZUF0KDApLGJlPTEwO2JlPDM2OysrYmUpQWVbUmUrK109YmU7ay5wcm90b3R5cGUuS3A9TyxrLnByb3RvdHlwZS5KcD1fLGsucHJvdG90eXBlLnJlZHVjZT1OLGsucHJvdG90eXBlLnpwPUQsay5wcm90b3R5cGUuWXA9RixNLnByb3RvdHlwZS5LcD1CLE0ucHJvdG90eXBlLkpwPVUsTS5wcm90b3R5cGUucmVkdWNlPXgsTS5wcm90b3R5cGUuenA9cSxNLnByb3RvdHlwZS5ZcD1ILHIucHJvdG90eXBlLkFwPWMsci5wcm90b3R5cGUubXA9dSxyLnByb3RvdHlwZS5ncD1wLHIucHJvdG90eXBlLklwPWYsci5wcm90b3R5cGUuTnA9VCxyLnByb3RvdHlwZS5GcD1JLHIucHJvdG90eXBlLkNwPXcsci5wcm90b3R5cGUuTHA9UyxyLnByb3RvdHlwZS53cD1SLHIucHJvdG90eXBlLlVwPWIsci5wcm90b3R5cGUueHA9UCxyLnByb3RvdHlwZS5NcD1BLHIucHJvdG90eXBlLnFwPUwsci5wcm90b3R5cGUuV3A9VixyLnByb3RvdHlwZS5leHA9aixyLnByb3RvdHlwZS50b1N0cmluZz1kLHIucHJvdG90eXBlLlJwPWcsci5wcm90b3R5cGUuYWJzPXYsci5wcm90b3R5cGUuRHA9eSxyLnByb3RvdHlwZS5uZj1FLHIucHJvdG90eXBlLkJwPUMsci5wcm90b3R5cGUuaWY9RyxyLlpFUk89bCgwKSxyLk9ORT1sKDEpLC8qISBhc24xLTEuMC45LmpzIChjKSAyMDEzLTIwMTUgS2VuamkgVXJ1c2hpbWEgfCBranVyLmdpdGh1Yi5jb20vanNyc2FzaWduL2xpY2Vuc2VcclxuICovXHJcblwidW5kZWZpbmVkXCIhPXR5cGVvZiBLSlVSJiZLSlVSfHwoS0pVUj17fSksdm9pZCAwIT09S0pVUi5HZCYmS0pVUi5HZHx8KEtKVVIuR2Q9e30pLEtKVVIuR2QuUWQ9bmV3IGZ1bmN0aW9uKCl7dGhpcy5LZD1mdW5jdGlvbihlKXt2YXIgdD1lLnRvU3RyaW5nKDE2KTtyZXR1cm4gdC5sZW5ndGglMj09MSYmKHQ9XCIwXCIrdCksdH0sdGhpcy5ZZD1mdW5jdGlvbihlKXt2YXIgdD1lLnRvU3RyaW5nKDE2KTtpZihcIi1cIiE9dC5zdWJzdHIoMCwxKSl0Lmxlbmd0aCUyPT0xP3Q9XCIwXCIrdDp0Lm1hdGNoKC9eWzAtN10vKXx8KHQ9XCIwMFwiK3QpO2Vsc2V7dmFyIGk9dC5zdWJzdHIoMSksbj1pLmxlbmd0aDtuJTI9PTE/bis9MTp0Lm1hdGNoKC9eWzAtN10vKXx8KG4rPTIpO2Zvcih2YXIgcz1cIlwiLG89MDtvPG47bysrKXMrPVwiZlwiO3Q9bmV3IHIocywxNikuemQoZSkuYWRkKHIuT05FKS50b1N0cmluZygxNikucmVwbGFjZSgvXi0vLFwiXCIpfXJldHVybiB0fSx0aGlzLkpkPWZ1bmN0aW9uKGUsdCl7dmFyIHI9KEtKVVIuR2Qsd2UuRWQuVGQucGFyc2UoZSkpLGk9d2UuRWQuV2Quc3RyaW5naWZ5KHIpLG49aS5yZXBsYWNlKC8oLns2NH0pL2csXCIkMVxcclxcblwiKTtyZXR1cm4gbj1uLnJlcGxhY2UoL1xcclxcbiQvLFwiXCIpLFwiLS0tLS1CRUdJTiBcIit0K1wiLS0tLS1cXHJcXG5cIituK1wiXFxyXFxuLS0tLS1FTkQgXCIrdCtcIi0tLS0tXFxyXFxuXCJ9LHRoaXMuWGQ9ZnVuY3Rpb24oZSl7dmFyIHQ9S0pVUi5HZCxyPU9iamVjdC5rZXlzKGUpO2lmKDEhPXIubGVuZ3RoKXRocm93XCJrZXkgb2YgcGFyYW0gc2hhbGwgYmUgb25seSBvbmUuXCI7dmFyIGk9clswXTtpZigtMT09XCI6Ym9vbDppbnQ6Yml0c3RyOm9jdHN0cjpudWxsOm9pZDplbnVtOnV0ZjhzdHI6bnVtc3RyOnBybnN0cjp0ZWxzdHI6aWE1c3RyOnV0Y3RpbWU6Z2VudGltZTpzZXE6c2V0OnRhZzpcIi5pbmRleE9mKFwiOlwiK2krXCI6XCIpKXRocm93XCJ1bmRlZmluZWQga2V5OiBcIitpO2lmKFwiYm9vbFwiPT1pKXJldHVybiBuZXcgdC5aZChlW2ldKTtpZihcImludFwiPT1pKXJldHVybiBuZXcgdC4kZChlW2ldKTtpZihcImJpdHN0clwiPT1pKXJldHVybiBuZXcgdC5lZyhlW2ldKTtpZihcIm9jdHN0clwiPT1pKXJldHVybiBuZXcgdC50ZyhlW2ldKTtpZihcIm51bGxcIj09aSlyZXR1cm4gbmV3IHQucmcoZVtpXSk7aWYoXCJvaWRcIj09aSlyZXR1cm4gbmV3IHQuaWcoZVtpXSk7aWYoXCJlbnVtXCI9PWkpcmV0dXJuIG5ldyB0Lm5nKGVbaV0pO2lmKFwidXRmOHN0clwiPT1pKXJldHVybiBuZXcgdC5zZyhlW2ldKTtpZihcIm51bXN0clwiPT1pKXJldHVybiBuZXcgdC5vZyhlW2ldKTtpZihcInBybnN0clwiPT1pKXJldHVybiBuZXcgdC5hZyhlW2ldKTtpZihcInRlbHN0clwiPT1pKXJldHVybiBuZXcgdC5oZyhlW2ldKTtpZihcImlhNXN0clwiPT1pKXJldHVybiBuZXcgdC5jZyhlW2ldKTtpZihcInV0Y3RpbWVcIj09aSlyZXR1cm4gbmV3IHQudWcoZVtpXSk7aWYoXCJnZW50aW1lXCI9PWkpcmV0dXJuIG5ldyB0LmxnKGVbaV0pO2lmKFwic2VxXCI9PWkpe2Zvcih2YXIgbj1lW2ldLHM9W10sbz0wO288bi5sZW5ndGg7bysrKXt2YXIgYT10LlFkLlhkKG5bb10pO3MucHVzaChhKX1yZXR1cm4gbmV3IHQucGcoe2ZnOnN9KX1pZihcInNldFwiPT1pKXtmb3IodmFyIG49ZVtpXSxzPVtdLG89MDtvPG4ubGVuZ3RoO28rKyl7dmFyIGE9dC5RZC5YZChuW29dKTtzLnB1c2goYSl9cmV0dXJuIG5ldyB0LmRnKHtmZzpzfSl9aWYoXCJ0YWdcIj09aSl7dmFyIGg9ZVtpXTtpZihcIltvYmplY3QgQXJyYXldXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaCkmJjM9PWgubGVuZ3RoKXt2YXIgYz10LlFkLlhkKGhbMl0pO3JldHVybiBuZXcgdC5nZyh7dGFnOmhbMF0sdmc6aFsxXSx5ZzpjfSl9dmFyIHU9e307aWYodm9pZCAwIT09aC52ZyYmKHUudmc9aC52Zyksdm9pZCAwIT09aC50YWcmJih1LnRhZz1oLnRhZyksdm9pZCAwPT09aC55Zyl0aHJvd1wib2JqIHNoYWxsIGJlIHNwZWNpZmllZCBmb3IgJ3RhZycuXCI7cmV0dXJuIHUueWc9dC5RZC5YZChoLnlnKSxuZXcgdC5nZyh1KX19LHRoaXMubWc9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuWGQoZSkuRWcoKX19LEtKVVIuR2QuUWQuVGc9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVwiXCIsaT1wYXJzZUludChlLnN1YnN0cigwLDIpLDE2KSxuPU1hdGguZmxvb3IoaS80MCkscz1pJTQwLHQ9bitcIi5cIitzLG89XCJcIixhPTI7YTxlLmxlbmd0aDthKz0yKXt2YXIgaD1wYXJzZUludChlLnN1YnN0cihhLDIpLDE2KSxjPShcIjAwMDAwMDAwXCIraC50b1N0cmluZygyKSkuc2xpY2UoLTgpO2lmKG8rPWMuc3Vic3RyKDEsNyksXCIwXCI9PWMuc3Vic3RyKDAsMSkpe3Q9dCtcIi5cIituZXcgcihvLDIpLnRvU3RyaW5nKDEwKSxvPVwiXCJ9fXJldHVybiB0fSxLSlVSLkdkLlFkLklnPWZ1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKGUpe3ZhciB0PWUudG9TdHJpbmcoMTYpO3JldHVybiAxPT10Lmxlbmd0aCYmKHQ9XCIwXCIrdCksdH07aWYoIWUubWF0Y2goL15bMC05Ll0rJC8pKXRocm93XCJtYWxmb3JtZWQgb2lkIHN0cmluZzogXCIrZTt2YXIgaT1cIlwiLG49ZS5zcGxpdChcIi5cIikscz00MCpwYXJzZUludChuWzBdKStwYXJzZUludChuWzFdKTtpKz10KHMpLG4uc3BsaWNlKDAsMik7Zm9yKHZhciBvPTA7bzxuLmxlbmd0aDtvKyspaSs9ZnVuY3Rpb24oZSl7dmFyIGk9XCJcIixuPW5ldyByKGUsMTApLHM9bi50b1N0cmluZygyKSxvPTctcy5sZW5ndGglNzs3PT1vJiYobz0wKTtmb3IodmFyIGE9XCJcIixoPTA7aDxvO2grKylhKz1cIjBcIjtzPWErcztmb3IodmFyIGg9MDtoPHMubGVuZ3RoLTE7aCs9Nyl7dmFyIGM9cy5zdWJzdHIoaCw3KTtoIT1zLmxlbmd0aC03JiYoYz1cIjFcIitjKSxpKz10KHBhcnNlSW50KGMsMikpfXJldHVybiBpfShuW29dKTtyZXR1cm4gaX0sS0pVUi5HZC53Zz1mdW5jdGlvbigpe3RoaXMuU2c9ZnVuY3Rpb24oKXtpZih2b2lkIDA9PT10aGlzLlJnfHxudWxsPT10aGlzLlJnKXRocm93XCJ0aGlzLmhWIGlzIG51bGwgb3IgdW5kZWZpbmVkLlwiO2lmKHRoaXMuUmcubGVuZ3RoJTI9PTEpdGhyb3dcInZhbHVlIGhleCBtdXN0IGJlIGV2ZW4gbGVuZ3RoOiBuPVwiK1wiXCIubGVuZ3RoK1wiLHY9XCIrdGhpcy5SZzt2YXIgZT10aGlzLlJnLmxlbmd0aC8yLHQ9ZS50b1N0cmluZygxNik7aWYodC5sZW5ndGglMj09MSYmKHQ9XCIwXCIrdCksZTwxMjgpcmV0dXJuIHQ7dmFyIHI9dC5sZW5ndGgvMjtpZihyPjE1KXRocm93XCJBU04uMSBsZW5ndGggdG9vIGxvbmcgdG8gcmVwcmVzZW50IGJ5IDh4OiBuID0gXCIrZS50b1N0cmluZygxNik7cmV0dXJuKDEyOCtyKS50b1N0cmluZygxNikrdH0sdGhpcy5FZz1mdW5jdGlvbigpe3JldHVybihudWxsPT10aGlzLmJnfHx0aGlzLlBnKSYmKHRoaXMuUmc9dGhpcy5BZygpLHRoaXMuQ2c9dGhpcy5TZygpLHRoaXMuYmc9dGhpcy5rZyt0aGlzLkNnK3RoaXMuUmcsdGhpcy5QZz0hMSksdGhpcy5iZ30sdGhpcy5PZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLkVnKCksdGhpcy5SZ30sdGhpcy5BZz1mdW5jdGlvbigpe3JldHVyblwiXCJ9fSxLSlVSLkdkLl9nPWZ1bmN0aW9uKGUpe0tKVVIuR2QuX2cuc2QuY29uc3RydWN0b3IuY2FsbCh0aGlzKTt0aGlzLk5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudn0sdGhpcy5EZz1mdW5jdGlvbihlKXt0aGlzLmJnPW51bGwsdGhpcy5QZz0hMCx0aGlzLnY9ZSx0aGlzLlJnPXN0b2hleCh0aGlzLnYpfSx0aGlzLkZnPWZ1bmN0aW9uKGUpe3RoaXMuYmc9bnVsbCx0aGlzLlBnPSEwLHRoaXMudj1udWxsLHRoaXMuUmc9ZX0sdGhpcy5BZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLlJnfSx2b2lkIDAhPT1lJiYoXCJzdHJpbmdcIj09dHlwZW9mIGU/dGhpcy5EZyhlKTp2b2lkIDAhPT1lLkxnP3RoaXMuRGcoZS5MZyk6dm9pZCAwIT09ZS5NZyYmdGhpcy5GZyhlLk1nKSl9LEllLmxhbmcuZXh0ZW5kKEtKVVIuR2QuX2csS0pVUi5HZC53ZyksS0pVUi5HZC5CZz1mdW5jdGlvbihlKXtLSlVSLkdkLkJnLnNkLmNvbnN0cnVjdG9yLmNhbGwodGhpcyk7dGhpcy5VZz1mdW5jdGlvbihlKXtyZXR1cm4gdXRjPWUuZ2V0VGltZSgpKzZlNCplLmdldFRpbWV6b25lT2Zmc2V0KCksbmV3IERhdGUodXRjKX0sdGhpcy54Zz1mdW5jdGlvbihlLHQscil7dmFyIGk9dGhpcy5IZyxuPXRoaXMuVWcoZSkscz1TdHJpbmcobi5nZXRGdWxsWWVhcigpKTtcInV0Y1wiPT10JiYocz1zLnN1YnN0cigyLDIpKTt2YXIgbz1pKFN0cmluZyhuLmdldE1vbnRoKCkrMSksMiksYT1pKFN0cmluZyhuLmdldERhdGUoKSksMiksaD1pKFN0cmluZyhuLmdldEhvdXJzKCkpLDIpLGM9aShTdHJpbmcobi5nZXRNaW51dGVzKCkpLDIpLHU9aShTdHJpbmcobi5nZXRTZWNvbmRzKCkpLDIpLGw9cytvK2EraCtjK3U7aWYoITA9PT1yKXt2YXIgcD1uLmdldE1pbGxpc2Vjb25kcygpO2lmKDAhPXApe3ZhciBmPWkoU3RyaW5nKHApLDMpO2Y9Zi5yZXBsYWNlKC9bMF0rJC8sXCJcIiksbD1sK1wiLlwiK2Z9fXJldHVybiBsK1wiWlwifSx0aGlzLkhnPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUubGVuZ3RoPj10P2U6bmV3IEFycmF5KHQtZS5sZW5ndGgrMSkuam9pbihcIjBcIikrZX0sdGhpcy5OZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnZ9LHRoaXMuRGc9ZnVuY3Rpb24oZSl7dGhpcy5iZz1udWxsLHRoaXMuUGc9ITAsdGhpcy52PWUsdGhpcy5SZz1zdG9oZXgoZSl9LHRoaXMucWc9ZnVuY3Rpb24oZSx0LHIsaSxuLHMpe3ZhciBvPW5ldyBEYXRlKERhdGUuVVRDKGUsdC0xLHIsaSxuLHMsMCkpO3RoaXMuVmcobyl9LHRoaXMuQWc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5SZ319LEllLmxhbmcuZXh0ZW5kKEtKVVIuR2QuQmcsS0pVUi5HZC53ZyksS0pVUi5HZC5qZz1mdW5jdGlvbihlKXtLSlVSLkdkLl9nLnNkLmNvbnN0cnVjdG9yLmNhbGwodGhpcyk7dGhpcy5HZz1mdW5jdGlvbihlKXt0aGlzLmJnPW51bGwsdGhpcy5QZz0hMCx0aGlzLlFnPWV9LHRoaXMuS2c9ZnVuY3Rpb24oZSl7dGhpcy5iZz1udWxsLHRoaXMuUGc9ITAsdGhpcy5RZy5wdXNoKGUpfSx0aGlzLlFnPW5ldyBBcnJheSx2b2lkIDAhPT1lJiZ2b2lkIDAhPT1lLmZnJiYodGhpcy5RZz1lLmZnKX0sSWUubGFuZy5leHRlbmQoS0pVUi5HZC5qZyxLSlVSLkdkLndnKSxLSlVSLkdkLlpkPWZ1bmN0aW9uKCl7S0pVUi5HZC5aZC5zZC5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpLHRoaXMua2c9XCIwMVwiLHRoaXMuYmc9XCIwMTAxZmZcIn0sSWUubGFuZy5leHRlbmQoS0pVUi5HZC5aZCxLSlVSLkdkLndnKSxLSlVSLkdkLiRkPWZ1bmN0aW9uKGUpe0tKVVIuR2QuJGQuc2QuY29uc3RydWN0b3IuY2FsbCh0aGlzKSx0aGlzLmtnPVwiMDJcIix0aGlzLllnPWZ1bmN0aW9uKGUpe3RoaXMuYmc9bnVsbCx0aGlzLlBnPSEwLHRoaXMuUmc9S0pVUi5HZC5RZC5ZZChlKX0sdGhpcy56Zz1mdW5jdGlvbihlKXt2YXIgdD1uZXcgcihTdHJpbmcoZSksMTApO3RoaXMuWWcodCl9LHRoaXMuSmc9ZnVuY3Rpb24oZSl7dGhpcy5SZz1lfSx0aGlzLkFnPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuUmd9LHZvaWQgMCE9PWUmJih2b2lkIDAhPT1lLldnP3RoaXMuWWcoZS5XZyk6dm9pZCAwIT09ZS5YZz90aGlzLnpnKGUuWGcpOlwibnVtYmVyXCI9PXR5cGVvZiBlP3RoaXMuemcoZSk6dm9pZCAwIT09ZS5NZyYmdGhpcy5KZyhlLk1nKSl9LEllLmxhbmcuZXh0ZW5kKEtKVVIuR2QuJGQsS0pVUi5HZC53ZyksS0pVUi5HZC5lZz1mdW5jdGlvbihlKXtLSlVSLkdkLmVnLnNkLmNvbnN0cnVjdG9yLmNhbGwodGhpcyksdGhpcy5rZz1cIjAzXCIsdGhpcy5aZz1mdW5jdGlvbihlKXt0aGlzLmJnPW51bGwsdGhpcy5QZz0hMCx0aGlzLlJnPWV9LHRoaXMuJGc9ZnVuY3Rpb24oZSx0KXtpZihlPDB8fDc8ZSl0aHJvd1widW51c2VkIGJpdHMgc2hhbGwgYmUgZnJvbSAwIHRvIDc6IHUgPSBcIitlO3ZhciByPVwiMFwiK2U7dGhpcy5iZz1udWxsLHRoaXMuUGc9ITAsdGhpcy5SZz1yK3R9LHRoaXMuZXY9ZnVuY3Rpb24oZSl7ZT1lLnJlcGxhY2UoLzArJC8sXCJcIik7dmFyIHQ9OC1lLmxlbmd0aCU4Ozg9PXQmJih0PTApO2Zvcih2YXIgcj0wO3I8PXQ7cisrKWUrPVwiMFwiO2Zvcih2YXIgaT1cIlwiLHI9MDtyPGUubGVuZ3RoLTE7cis9OCl7dmFyIG49ZS5zdWJzdHIociw4KSxzPXBhcnNlSW50KG4sMikudG9TdHJpbmcoMTYpOzE9PXMubGVuZ3RoJiYocz1cIjBcIitzKSxpKz1zfXRoaXMuYmc9bnVsbCx0aGlzLlBnPSEwLHRoaXMuUmc9XCIwXCIrdCtpfSx0aGlzLnR2PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1cIlwiLHI9MDtyPGUubGVuZ3RoO3IrKykxPT1lW3JdP3QrPVwiMVwiOnQrPVwiMFwiO3RoaXMuZXYodCl9LHRoaXMucnY9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PW5ldyBBcnJheShlKSxyPTA7cjxlO3IrKyl0W3JdPSExO3JldHVybiB0fSx0aGlzLkFnPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuUmd9LHZvaWQgMCE9PWUmJihcInN0cmluZ1wiPT10eXBlb2YgZSYmZS50b0xvd2VyQ2FzZSgpLm1hdGNoKC9eWzAtOWEtZl0rJC8pP3RoaXMuWmcoZSk6dm9pZCAwIT09ZS5NZz90aGlzLlpnKGUuTWcpOnZvaWQgMCE9PWUuaXY/dGhpcy5ldihlLml2KTp2b2lkIDAhPT1lLmZnJiZ0aGlzLnR2KGUuZmcpKX0sSWUubGFuZy5leHRlbmQoS0pVUi5HZC5lZyxLSlVSLkdkLndnKSxLSlVSLkdkLnRnPWZ1bmN0aW9uKGUpe0tKVVIuR2QudGcuc2QuY29uc3RydWN0b3IuY2FsbCh0aGlzLGUpLHRoaXMua2c9XCIwNFwifSxJZS5sYW5nLmV4dGVuZChLSlVSLkdkLnRnLEtKVVIuR2QuX2cpLEtKVVIuR2Qucmc9ZnVuY3Rpb24oKXtLSlVSLkdkLnJnLnNkLmNvbnN0cnVjdG9yLmNhbGwodGhpcyksdGhpcy5rZz1cIjA1XCIsdGhpcy5iZz1cIjA1MDBcIn0sSWUubGFuZy5leHRlbmQoS0pVUi5HZC5yZyxLSlVSLkdkLndnKSxLSlVSLkdkLmlnPWZ1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKGUpe3ZhciB0PWUudG9TdHJpbmcoMTYpO3JldHVybiAxPT10Lmxlbmd0aCYmKHQ9XCIwXCIrdCksdH0saT1mdW5jdGlvbihlKXt2YXIgaT1cIlwiLG49bmV3IHIoZSwxMCkscz1uLnRvU3RyaW5nKDIpLG89Ny1zLmxlbmd0aCU3Ozc9PW8mJihvPTApO2Zvcih2YXIgYT1cIlwiLGg9MDtoPG87aCsrKWErPVwiMFwiO3M9YStzO2Zvcih2YXIgaD0wO2g8cy5sZW5ndGgtMTtoKz03KXt2YXIgYz1zLnN1YnN0cihoLDcpO2ghPXMubGVuZ3RoLTcmJihjPVwiMVwiK2MpLGkrPXQocGFyc2VJbnQoYywyKSl9cmV0dXJuIGl9O0tKVVIuR2QuaWcuc2QuY29uc3RydWN0b3IuY2FsbCh0aGlzKSx0aGlzLmtnPVwiMDZcIix0aGlzLkpnPWZ1bmN0aW9uKGUpe3RoaXMuYmc9bnVsbCx0aGlzLlBnPSEwLHRoaXMudj1udWxsLHRoaXMuUmc9ZX0sdGhpcy5udj1mdW5jdGlvbihlKXtpZighZS5tYXRjaCgvXlswLTkuXSskLykpdGhyb3dcIm1hbGZvcm1lZCBvaWQgc3RyaW5nOiBcIitlO3ZhciByPVwiXCIsbj1lLnNwbGl0KFwiLlwiKSxzPTQwKnBhcnNlSW50KG5bMF0pK3BhcnNlSW50KG5bMV0pO3IrPXQocyksbi5zcGxpY2UoMCwyKTtmb3IodmFyIG89MDtvPG4ubGVuZ3RoO28rKylyKz1pKG5bb10pO3RoaXMuYmc9bnVsbCx0aGlzLlBnPSEwLHRoaXMudj1udWxsLHRoaXMuUmc9cn0sdGhpcy5zdj1mdW5jdGlvbihlKXtpZih2b2lkIDA9PT1LSlVSLkdkLmh2LmF2Lm92W2VdKXRocm93XCJERVJPYmplY3RJZGVudGlmaWVyIG9pZE5hbWUgdW5kZWZpbmVkOiBcIitlO3ZhciB0PUtKVVIuR2QuaHYuYXYub3ZbZV07dGhpcy5udih0KX0sdGhpcy5BZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLlJnfSx2b2lkIDAhPT1lJiYoXCJzdHJpbmdcIj09dHlwZW9mIGUmJmUubWF0Y2goL15bMC0yXS5bMC05Ll0rJC8pP3RoaXMubnYoZSk6dm9pZCAwIT09S0pVUi5HZC5odi5hdi5vdltlXT90aGlzLm52KEtKVVIuR2QuaHYuYXYub3ZbZV0pOnZvaWQgMCE9PWUuY3Y/dGhpcy5udihlLmN2KTp2b2lkIDAhPT1lLk1nP3RoaXMuSmcoZS5NZyk6dm9pZCAwIT09ZS5uYW1lJiZ0aGlzLnN2KGUubmFtZSkpfSxJZS5sYW5nLmV4dGVuZChLSlVSLkdkLmlnLEtKVVIuR2Qud2cpLEtKVVIuR2Qubmc9ZnVuY3Rpb24oZSl7S0pVUi5HZC5uZy5zZC5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpLHRoaXMua2c9XCIwYVwiLHRoaXMuWWc9ZnVuY3Rpb24oZSl7dGhpcy5iZz1udWxsLHRoaXMuUGc9ITAsdGhpcy5SZz1LSlVSLkdkLlFkLllkKGUpfSx0aGlzLnpnPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyByKFN0cmluZyhlKSwxMCk7dGhpcy5ZZyh0KX0sdGhpcy5KZz1mdW5jdGlvbihlKXt0aGlzLlJnPWV9LHRoaXMuQWc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5SZ30sdm9pZCAwIT09ZSYmKHZvaWQgMCE9PWUuWGc/dGhpcy56ZyhlLlhnKTpcIm51bWJlclwiPT10eXBlb2YgZT90aGlzLnpnKGUpOnZvaWQgMCE9PWUuTWcmJnRoaXMuSmcoZS5NZykpfSxJZS5sYW5nLmV4dGVuZChLSlVSLkdkLm5nLEtKVVIuR2Qud2cpLEtKVVIuR2Quc2c9ZnVuY3Rpb24oZSl7S0pVUi5HZC5zZy5zZC5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsZSksdGhpcy5rZz1cIjBjXCJ9LEllLmxhbmcuZXh0ZW5kKEtKVVIuR2Quc2csS0pVUi5HZC5fZyksS0pVUi5HZC5vZz1mdW5jdGlvbihlKXtLSlVSLkdkLm9nLnNkLmNvbnN0cnVjdG9yLmNhbGwodGhpcyxlKSx0aGlzLmtnPVwiMTJcIn0sSWUubGFuZy5leHRlbmQoS0pVUi5HZC5vZyxLSlVSLkdkLl9nKSxLSlVSLkdkLmFnPWZ1bmN0aW9uKGUpe0tKVVIuR2QuYWcuc2QuY29uc3RydWN0b3IuY2FsbCh0aGlzLGUpLHRoaXMua2c9XCIxM1wifSxJZS5sYW5nLmV4dGVuZChLSlVSLkdkLmFnLEtKVVIuR2QuX2cpLEtKVVIuR2QuaGc9ZnVuY3Rpb24oZSl7S0pVUi5HZC5oZy5zZC5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsZSksdGhpcy5rZz1cIjE0XCJ9LEllLmxhbmcuZXh0ZW5kKEtKVVIuR2QuaGcsS0pVUi5HZC5fZyksS0pVUi5HZC5jZz1mdW5jdGlvbihlKXtLSlVSLkdkLmNnLnNkLmNvbnN0cnVjdG9yLmNhbGwodGhpcyxlKSx0aGlzLmtnPVwiMTZcIn0sSWUubGFuZy5leHRlbmQoS0pVUi5HZC5jZyxLSlVSLkdkLl9nKSxLSlVSLkdkLnVnPWZ1bmN0aW9uKGUpe0tKVVIuR2QudWcuc2QuY29uc3RydWN0b3IuY2FsbCh0aGlzLGUpLHRoaXMua2c9XCIxN1wiLHRoaXMuVmc9ZnVuY3Rpb24oZSl7dGhpcy5iZz1udWxsLHRoaXMuUGc9ITAsdGhpcy51dj1lLHRoaXMudj10aGlzLnhnKHRoaXMudXYsXCJ1dGNcIiksdGhpcy5SZz1zdG9oZXgodGhpcy52KX0sdGhpcy5BZz1mdW5jdGlvbigpe3JldHVybiB2b2lkIDA9PT10aGlzLnV2JiZ2b2lkIDA9PT10aGlzLnYmJih0aGlzLnV2PW5ldyBEYXRlLHRoaXMudj10aGlzLnhnKHRoaXMudXYsXCJ1dGNcIiksdGhpcy5SZz1zdG9oZXgodGhpcy52KSksdGhpcy5SZ30sdm9pZCAwIT09ZSYmKHZvaWQgMCE9PWUuTGc/dGhpcy5EZyhlLkxnKTpcInN0cmluZ1wiPT10eXBlb2YgZSYmZS5tYXRjaCgvXlswLTldezEyfVokLyk/dGhpcy5EZyhlKTp2b2lkIDAhPT1lLk1nP3RoaXMuRmcoZS5NZyk6dm9pZCAwIT09ZS51diYmdGhpcy5WZyhlLnV2KSl9LEllLmxhbmcuZXh0ZW5kKEtKVVIuR2QudWcsS0pVUi5HZC5CZyksS0pVUi5HZC5sZz1mdW5jdGlvbihlKXtLSlVSLkdkLmxnLnNkLmNvbnN0cnVjdG9yLmNhbGwodGhpcyxlKSx0aGlzLmtnPVwiMThcIix0aGlzLmx2PSExLHRoaXMuVmc9ZnVuY3Rpb24oZSl7dGhpcy5iZz1udWxsLHRoaXMuUGc9ITAsdGhpcy51dj1lLHRoaXMudj10aGlzLnhnKHRoaXMudXYsXCJnZW5cIix0aGlzLmx2KSx0aGlzLlJnPXN0b2hleCh0aGlzLnYpfSx0aGlzLkFnPWZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMD09PXRoaXMudXYmJnZvaWQgMD09PXRoaXMudiYmKHRoaXMudXY9bmV3IERhdGUsdGhpcy52PXRoaXMueGcodGhpcy51dixcImdlblwiLHRoaXMubHYpLHRoaXMuUmc9c3RvaGV4KHRoaXMudikpLHRoaXMuUmd9LHZvaWQgMCE9PWUmJih2b2lkIDAhPT1lLkxnP3RoaXMuRGcoZS5MZyk6XCJzdHJpbmdcIj09dHlwZW9mIGUmJmUubWF0Y2goL15bMC05XXsxNH1aJC8pP3RoaXMuRGcoZSk6dm9pZCAwIT09ZS5NZz90aGlzLkZnKGUuTWcpOnZvaWQgMCE9PWUudXYmJnRoaXMuVmcoZS51diksITA9PT1lLnB2JiYodGhpcy5sdj0hMCkpfSxJZS5sYW5nLmV4dGVuZChLSlVSLkdkLmxnLEtKVVIuR2QuQmcpLEtKVVIuR2QucGc9ZnVuY3Rpb24oZSl7S0pVUi5HZC5wZy5zZC5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsZSksdGhpcy5rZz1cIjMwXCIsdGhpcy5BZz1mdW5jdGlvbigpe2Zvcih2YXIgZT1cIlwiLHQ9MDt0PHRoaXMuUWcubGVuZ3RoO3QrKyl7ZSs9dGhpcy5RZ1t0XS5FZygpfXJldHVybiB0aGlzLlJnPWUsdGhpcy5SZ319LEllLmxhbmcuZXh0ZW5kKEtKVVIuR2QucGcsS0pVUi5HZC5qZyksS0pVUi5HZC5kZz1mdW5jdGlvbihlKXtLSlVSLkdkLmRnLnNkLmNvbnN0cnVjdG9yLmNhbGwodGhpcyxlKSx0aGlzLmtnPVwiMzFcIix0aGlzLmZ2PSEwLHRoaXMuQWc9ZnVuY3Rpb24oKXtmb3IodmFyIGU9bmV3IEFycmF5LHQ9MDt0PHRoaXMuUWcubGVuZ3RoO3QrKyl7dmFyIHI9dGhpcy5RZ1t0XTtlLnB1c2goci5FZygpKX1yZXR1cm4gMT09dGhpcy5mdiYmZS5zb3J0KCksdGhpcy5SZz1lLmpvaW4oXCJcIiksdGhpcy5SZ30sdm9pZCAwIT09ZSYmdm9pZCAwIT09ZS5kdiYmMD09ZS5kdiYmKHRoaXMuZnY9ITEpfSxJZS5sYW5nLmV4dGVuZChLSlVSLkdkLmRnLEtKVVIuR2QuamcpLEtKVVIuR2QuZ2c9ZnVuY3Rpb24oZSl7S0pVUi5HZC5nZy5zZC5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpLHRoaXMua2c9XCJhMFwiLHRoaXMuUmc9XCJcIix0aGlzLmd2PSEwLHRoaXMudnY9bnVsbCx0aGlzLnl2PWZ1bmN0aW9uKGUsdCxyKXt0aGlzLmtnPXQsdGhpcy5ndj1lLHRoaXMudnY9cix0aGlzLmd2Pyh0aGlzLlJnPXRoaXMudnYuRWcoKSx0aGlzLmJnPW51bGwsdGhpcy5QZz0hMCk6KHRoaXMuUmc9bnVsbCx0aGlzLmJnPXIuRWcoKSx0aGlzLmJnPXRoaXMuYmcucmVwbGFjZSgvXi4uLyx0KSx0aGlzLlBnPSExKX0sdGhpcy5BZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLlJnfSx2b2lkIDAhPT1lJiYodm9pZCAwIT09ZS50YWcmJih0aGlzLmtnPWUudGFnKSx2b2lkIDAhPT1lLnZnJiYodGhpcy5ndj1lLnZnKSx2b2lkIDAhPT1lLnlnJiYodGhpcy52dj1lLnlnLHRoaXMueXYodGhpcy5ndix0aGlzLmtnLHRoaXMudnYpKSl9LEllLmxhbmcuZXh0ZW5kKEtKVVIuR2QuZ2csS0pVUi5HZC53Zyk7LyohIChjKSBUb20gV3UgfCBodHRwOi8vd3d3LWNzLXN0dWRlbnRzLnN0YW5mb3JkLmVkdS9+dGp3L2pzYm4vICovXHJcbnZhciBDZT1cIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky9cIixrZT1cIj1cIjsvKiEgY3J5cHRvLTEuMS44LmpzIChjKSAyMDEzLTIwMTYgS2VuamkgVXJ1c2hpbWEgfCBranVyLmdpdGh1Yi5jb20vanNyc2FzaWduL2xpY2Vuc2VcclxuICovXHJcblwidW5kZWZpbmVkXCIhPXR5cGVvZiBLSlVSJiZLSlVSfHwoS0pVUj17fSksdm9pZCAwIT09S0pVUi5jcnlwdG8mJktKVVIuY3J5cHRvfHwoS0pVUi5jcnlwdG89e30pLEtKVVIuY3J5cHRvLmhmPW5ldyBmdW5jdGlvbigpe3RoaXMuZ2Y9e3NoYTE6XCIzMDIxMzAwOTA2MDUyYjBlMDMwMjFhMDUwMDA0MTRcIixtdjpcIjMwMmQzMDBkMDYwOTYwODY0ODAxNjUwMzA0MDIwNDA1MDAwNDFjXCIsc2hhMjU2OlwiMzAzMTMwMGQwNjA5NjA4NjQ4MDE2NTAzMDQwMjAxMDUwMDA0MjBcIixFdjpcIjMwNDEzMDBkMDYwOTYwODY0ODAxNjUwMzA0MDIwMjA1MDAwNDMwXCIsVHY6XCIzMDUxMzAwZDA2MDk2MDg2NDgwMTY1MDMwNDAyMDMwNTAwMDQ0MFwiLEl2OlwiMzAyMDMwMGMwNjA4MmE4NjQ4ODZmNzBkMDIwMjA1MDAwNDEwXCIsd3Y6XCIzMDIwMzAwYzA2MDgyYTg2NDg4NmY3MGQwMjA1MDUwMDA0MTBcIixTdjpcIjMwMjEzMDA5MDYwNTJiMjQwMzAyMDEwNTAwMDQxNFwifSx0aGlzLlJ2PXt3djpcImNyeXB0b2pzXCIsc2hhMTpcImNyeXB0b2pzXCIsbXY6XCJjcnlwdG9qc1wiLHNoYTI1NjpcImNyeXB0b2pzXCIsRXY6XCJjcnlwdG9qc1wiLFR2OlwiY3J5cHRvanNcIixTdjpcImNyeXB0b2pzXCIsYnY6XCJjcnlwdG9qc1wiLFB2OlwiY3J5cHRvanNcIixBdjpcImNyeXB0b2pzXCIsQ3Y6XCJjcnlwdG9qc1wiLGt2OlwiY3J5cHRvanNcIixPdjpcImNyeXB0b2pzXCIsX3Y6XCJjcnlwdG9qc1wiLE52OlwiY3J5cHRvanMvanNyc2FcIixEdjpcImNyeXB0b2pzL2pzcnNhXCIsRnY6XCJjcnlwdG9qcy9qc3JzYVwiLEx2OlwiY3J5cHRvanMvanNyc2FcIixNdjpcImNyeXB0b2pzL2pzcnNhXCIsQnY6XCJjcnlwdG9qcy9qc3JzYVwiLFV2OlwiY3J5cHRvanMvanNyc2FcIix4djpcImNyeXB0b2pzL2pzcnNhXCIsSHY6XCJjcnlwdG9qcy9qc3JzYVwiLHF2OlwiY3J5cHRvanMvanNyc2FcIixWdjpcImNyeXB0b2pzL2pzcnNhXCIsanY6XCJjcnlwdG9qcy9qc3JzYVwiLEd2OlwiY3J5cHRvanMvanNyc2FcIixRdjpcImNyeXB0b2pzL2pzcnNhXCIsS3Y6XCJjcnlwdG9qcy9qc3JzYVwiLFl2OlwiY3J5cHRvanMvanNyc2FcIix6djpcImNyeXB0b2pzL2pzcnNhXCIsSnY6XCJjcnlwdG9qcy9qc3JzYVwiLFd2OlwiY3J5cHRvanMvanNyc2FcIixYdjpcImNyeXB0b2pzL2pzcnNhXCIsWnY6XCJjcnlwdG9qcy9qc3JzYVwiLCR2OlwiY3J5cHRvanMvanNyc2FcIixleTpcImNyeXB0b2pzL2pzcnNhXCIsdHk6XCJjcnlwdG9qcy9qc3JzYVwifSx0aGlzLml5PXt3djp3ZS54ZC5LbCxzaGExOndlLnhkLlZkLG12OndlLnhkLm55LHNoYTI1Njp3ZS54ZC5zeSxFdjp3ZS54ZC5veSxUdjp3ZS54ZC5heSxTdjp3ZS54ZC5oeX0sdGhpcy51eT1mdW5jdGlvbihlLHQpe2lmKHZvaWQgMD09PXRoaXMuZ2ZbdF0pdGhyb3dcImFsZyBub3Qgc3VwcG9ydGVkIGluIFV0aWwuRElHRVNUSU5GT0hFQUQ6IFwiK3Q7cmV0dXJuIHRoaXMuZ2ZbdF0rZX0sdGhpcy51Zj1mdW5jdGlvbihlLHQscil7dmFyIGk9dGhpcy51eShlLHQpLG49ci80O2lmKGkubGVuZ3RoKzIyPm4pdGhyb3dcImtleSBpcyB0b28gc2hvcnQgZm9yIFNpZ0FsZzoga2V5bGVuPVwiK3IrXCIsXCIrdDtmb3IodmFyIHM9XCIwMDAxXCIsbz1cIjAwXCIraSxhPVwiXCIsaD1uLXMubGVuZ3RoLW8ubGVuZ3RoLGM9MDtjPGg7Yys9MilhKz1cImZmXCI7cmV0dXJuIHMrYStvfSx0aGlzLmFmPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG5ldyBLSlVSLmNyeXB0by5weSh7Z3k6dH0pLmx5KGUpfSx0aGlzLnBmPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG5ldyBLSlVSLmNyeXB0by5weSh7Z3k6dH0pLnZ5KGUpfSx0aGlzLnNoYTE9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBLSlVSLmNyeXB0by5weSh7Z3k6XCJzaGExXCIseXk6XCJjcnlwdG9qc1wifSkubHkoZSl9LHRoaXMuc2hhMjU2PWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgS0pVUi5jcnlwdG8ucHkoe2d5Olwic2hhMjU2XCIseXk6XCJjcnlwdG9qc1wifSkubHkoZSl9LHRoaXMubXk9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBLSlVSLmNyeXB0by5weSh7Z3k6XCJzaGEyNTZcIix5eTpcImNyeXB0b2pzXCJ9KS52eShlKX0sdGhpcy5Udj1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IEtKVVIuY3J5cHRvLnB5KHtneTpcInNoYTUxMlwiLHl5OlwiY3J5cHRvanNcIn0pLmx5KGUpfSx0aGlzLkV5PWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgS0pVUi5jcnlwdG8ucHkoe2d5Olwic2hhNTEyXCIseXk6XCJjcnlwdG9qc1wifSkudnkoZSl9LHRoaXMud3Y9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBLSlVSLmNyeXB0by5weSh7Z3k6XCJtZDVcIix5eTpcImNyeXB0b2pzXCJ9KS5seShlKX0sdGhpcy5Tdj1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IEtKVVIuY3J5cHRvLnB5KHtneTpcInJpcGVtZDE2MFwiLHl5OlwiY3J5cHRvanNcIn0pLmx5KGUpfSx0aGlzLlR5PWZ1bmN0aW9uKGUpe319LEtKVVIuY3J5cHRvLnB5PWZ1bmN0aW9uKGUpe3RoaXMuSXk9ZnVuY3Rpb24oZSx0KXtpZihudWxsIT1lJiZ2b2lkIDA9PT10JiYodD1LSlVSLmNyeXB0by5oZi5SdltlXSksLTEhPVwiOm1kNTpzaGExOnNoYTIyNDpzaGEyNTY6c2hhMzg0OnNoYTUxMjpyaXBlbWQxNjA6XCIuaW5kZXhPZihlKSYmXCJjcnlwdG9qc1wiPT10KXt0cnl7dGhpcy53eT1LSlVSLmNyeXB0by5oZi5peVtlXS5jcmVhdGUoKX1jYXRjaCh0KXt0aHJvd1wic2V0QWxnQW5kUHJvdmlkZXIgaGFzaCBhbGcgc2V0IGZhaWwgYWxnPVwiK2UrXCIvXCIrdH10aGlzLlN5PWZ1bmN0aW9uKGUpe3RoaXMud3kudXBkYXRlKGUpfSx0aGlzLlJ5PWZ1bmN0aW9uKGUpe3ZhciB0PXdlLkVkLlRkLnBhcnNlKGUpO3RoaXMud3kudXBkYXRlKHQpfSx0aGlzLmRpZ2VzdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnd5LkZkKCkudG9TdHJpbmcod2UuRWQuVGQpfSx0aGlzLmx5PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLlN5KGUpLHRoaXMuZGlnZXN0KCl9LHRoaXMudnk9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuUnkoZSksdGhpcy5kaWdlc3QoKX19aWYoLTEhPVwiOnNoYTI1NjpcIi5pbmRleE9mKGUpJiZcInNqY2xcIj09dCl7dHJ5e3RoaXMud3k9bmV3IHNqY2wuaGFzaC5zaGEyNTZ9Y2F0Y2godCl7dGhyb3dcInNldEFsZ0FuZFByb3ZpZGVyIGhhc2ggYWxnIHNldCBmYWlsIGFsZz1cIitlK1wiL1wiK3R9dGhpcy5TeT1mdW5jdGlvbihlKXt0aGlzLnd5LnVwZGF0ZShlKX0sdGhpcy5SeT1mdW5jdGlvbihlKXt2YXIgdD1zamNsLlB5Lk1nLmJ5KGUpO3RoaXMud3kudXBkYXRlKHQpfSx0aGlzLmRpZ2VzdD1mdW5jdGlvbigpe3ZhciBlPXRoaXMud3kuRmQoKTtyZXR1cm4gc2pjbC5QeS5NZy5BeShlKX0sdGhpcy5seT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5TeShlKSx0aGlzLmRpZ2VzdCgpfSx0aGlzLnZ5PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLlJ5KGUpLHRoaXMuZGlnZXN0KCl9fX0sdGhpcy5TeT1mdW5jdGlvbihlKXt0aHJvd1widXBkYXRlU3RyaW5nKHN0cikgbm90IHN1cHBvcnRlZCBmb3IgdGhpcyBhbGcvcHJvdjogXCIrdGhpcy5DeStcIi9cIit0aGlzLmt5fSx0aGlzLlJ5PWZ1bmN0aW9uKGUpe3Rocm93XCJ1cGRhdGVIZXgoaGV4KSBub3Qgc3VwcG9ydGVkIGZvciB0aGlzIGFsZy9wcm92OiBcIit0aGlzLkN5K1wiL1wiK3RoaXMua3l9LHRoaXMuZGlnZXN0PWZ1bmN0aW9uKCl7dGhyb3dcImRpZ2VzdCgpIG5vdCBzdXBwb3J0ZWQgZm9yIHRoaXMgYWxnL3Byb3Y6IFwiK3RoaXMuQ3krXCIvXCIrdGhpcy5reX0sdGhpcy5seT1mdW5jdGlvbihlKXt0aHJvd1wiZGlnZXN0U3RyaW5nKHN0cikgbm90IHN1cHBvcnRlZCBmb3IgdGhpcyBhbGcvcHJvdjogXCIrdGhpcy5DeStcIi9cIit0aGlzLmt5fSx0aGlzLnZ5PWZ1bmN0aW9uKGUpe3Rocm93XCJkaWdlc3RIZXgoaGV4KSBub3Qgc3VwcG9ydGVkIGZvciB0aGlzIGFsZy9wcm92OiBcIit0aGlzLkN5K1wiL1wiK3RoaXMua3l9LHZvaWQgMCE9PWUmJnZvaWQgMCE9PWUuZ3kmJih0aGlzLkN5PWUuZ3ksdm9pZCAwPT09ZS55eSYmKHRoaXMua3k9S0pVUi5jcnlwdG8uaGYuUnZbdGhpcy5DeV0pLHRoaXMuSXkodGhpcy5DeSx0aGlzLmt5KSl9LEtKVVIuY3J5cHRvLk95PWZ1bmN0aW9uKGUpe3RoaXMuSXk9ZnVuY3Rpb24oZSx0KXtpZihlPWUudG9Mb3dlckNhc2UoKSxudWxsPT1lJiYoZT1cImhtYWNzaGExXCIpLGU9ZS50b0xvd2VyQ2FzZSgpLFwiaG1hY1wiIT1lLnN1YnN0cigwLDQpKXRocm93XCJzZXRBbGdBbmRQcm92aWRlciB1bnN1cHBvcnRlZCBITUFDIGFsZzogXCIrZTt2b2lkIDA9PT10JiYodD1LSlVSLmNyeXB0by5oZi5SdltlXSksdGhpcy5feT1lK1wiL1wiK3Q7dmFyIHI9ZS5zdWJzdHIoNCk7aWYoLTEhPVwiOm1kNTpzaGExOnNoYTIyNDpzaGEyNTY6c2hhMzg0OnNoYTUxMjpyaXBlbWQxNjA6XCIuaW5kZXhPZihyKSYmXCJjcnlwdG9qc1wiPT10KXt0cnl7dmFyIGk9S0pVUi5jcnlwdG8uaGYuaXlbcl07dGhpcy5tYWM9d2UueGQuVWQuY3JlYXRlKGksdGhpcy5OeSl9Y2F0Y2goZSl7dGhyb3dcInNldEFsZ0FuZFByb3ZpZGVyIGhhc2ggYWxnIHNldCBmYWlsIGhhc2hBbGc9XCIrcitcIi9cIitlfXRoaXMuU3k9ZnVuY3Rpb24oZSl7dGhpcy5tYWMudXBkYXRlKGUpfSx0aGlzLlJ5PWZ1bmN0aW9uKGUpe3ZhciB0PXdlLkVkLlRkLnBhcnNlKGUpO3RoaXMubWFjLnVwZGF0ZSh0KX0sdGhpcy5EeT1mdW5jdGlvbigpe3JldHVybiB0aGlzLm1hYy5GZCgpLnRvU3RyaW5nKHdlLkVkLlRkKX0sdGhpcy5GeT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5TeShlKSx0aGlzLkR5KCl9LHRoaXMuTHk9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuUnkoZSksdGhpcy5EeSgpfX19LHRoaXMuU3k9ZnVuY3Rpb24oZSl7dGhyb3dcInVwZGF0ZVN0cmluZyhzdHIpIG5vdCBzdXBwb3J0ZWQgZm9yIHRoaXMgYWxnL3Byb3Y6IFwiK3RoaXMuX3l9LHRoaXMuUnk9ZnVuY3Rpb24oZSl7dGhyb3dcInVwZGF0ZUhleChoZXgpIG5vdCBzdXBwb3J0ZWQgZm9yIHRoaXMgYWxnL3Byb3Y6IFwiK3RoaXMuX3l9LHRoaXMuRHk9ZnVuY3Rpb24oKXt0aHJvd1wiZGlnZXN0KCkgbm90IHN1cHBvcnRlZCBmb3IgdGhpcyBhbGcvcHJvdjogXCIrdGhpcy5feX0sdGhpcy5GeT1mdW5jdGlvbihlKXt0aHJvd1wiZGlnZXN0U3RyaW5nKHN0cikgbm90IHN1cHBvcnRlZCBmb3IgdGhpcyBhbGcvcHJvdjogXCIrdGhpcy5feX0sdGhpcy5MeT1mdW5jdGlvbihlKXt0aHJvd1wiZGlnZXN0SGV4KGhleCkgbm90IHN1cHBvcnRlZCBmb3IgdGhpcyBhbGcvcHJvdjogXCIrdGhpcy5feX0sdGhpcy5NeT1mdW5jdGlvbihlKXtpZihcInN0cmluZ1wiPT10eXBlb2YgZSl7dmFyIHQ9ZTtyZXR1cm4gZS5sZW5ndGglMiE9MSYmZS5tYXRjaCgvXlswLTlBLUZhLWZdKyQvKXx8KHQ9cnN0cnRvaGV4KGUpKSx2b2lkKHRoaXMuTnk9d2UuRWQuVGQucGFyc2UodCkpfWlmKFwib2JqZWN0XCIhPXR5cGVvZiBlKXRocm93XCJLSlVSLmNyeXB0by5NYWMgdW5zdXBwb3J0ZWQgcGFzc3dvcmQgdHlwZTogXCIrZTt2YXIgdD1udWxsO2lmKHZvaWQgMCE9PWUuTWcpe2lmKGUuTWcubGVuZ3RoJTIhPTB8fCFlLk1nLm1hdGNoKC9eWzAtOUEtRmEtZl0rJC8pKXRocm93XCJNYWM6IHdyb25nIGhleCBwYXNzd29yZDogXCIrZS5NZzt0PWUuTWd9aWYodm9pZCAwIT09ZS5CeSYmKHQ9dXRmOHRvaGV4KGUuQnkpKSx2b2lkIDAhPT1lLlV5JiYodD1yc3RydG9oZXgoZS5VeSkpLHZvaWQgMCE9PWUueHkmJih0PVEoZS54eSkpLHZvaWQgMCE9PWUuSHkmJih0PWI2NHV0b2hleChlLkh5KSksbnVsbD09dCl0aHJvd1wiS0pVUi5jcnlwdG8uTWFjIHVuc3VwcG9ydGVkIHBhc3N3b3JkIHR5cGU6IFwiK2U7dGhpcy5OeT13ZS5FZC5UZC5wYXJzZSh0KX0sdm9pZCAwIT09ZSYmKHZvaWQgMCE9PWUuTnkmJnRoaXMuTXkoZS5OeSksdm9pZCAwIT09ZS5neSYmKHRoaXMuQ3k9ZS5neSx2b2lkIDA9PT1lLnl5JiYodGhpcy5reT1LSlVSLmNyeXB0by5oZi5Sdlt0aGlzLkN5XSksdGhpcy5JeSh0aGlzLkN5LHRoaXMua3kpKSl9LEtKVVIuY3J5cHRvLlNpZ25hdHVyZT1mdW5jdGlvbihlKXt2YXIgdD1udWxsO2lmKHRoaXMucXk9ZnVuY3Rpb24oKXt0aGlzLkN5Lm1hdGNoKC9eKC4rKXdpdGgoLispJC8pJiYodGhpcy5WeT1SZWdFeHAuJDEudG9Mb3dlckNhc2UoKSx0aGlzLmp5PVJlZ0V4cC4kMi50b0xvd2VyQ2FzZSgpKX0sdGhpcy5HeT1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcj1cIlwiLGk9dC80LWUubGVuZ3RoLG49MDtuPGk7bisrKXIrPVwiMFwiO3JldHVybiByK2V9LHRoaXMuSXk9ZnVuY3Rpb24oZSx0KXtpZih0aGlzLnF5KCksXCJjcnlwdG9qcy9qc3JzYVwiIT10KXRocm93XCJwcm92aWRlciBub3Qgc3VwcG9ydGVkOiBcIit0O2lmKC0xIT1cIjptZDU6c2hhMTpzaGEyMjQ6c2hhMjU2OnNoYTM4NDpzaGE1MTI6cmlwZW1kMTYwOlwiLmluZGV4T2YodGhpcy5WeSkpe3RyeXt0aGlzLnd5PW5ldyBLSlVSLmNyeXB0by5weSh7Z3k6dGhpcy5WeX0pfWNhdGNoKGUpe3Rocm93XCJzZXRBbGdBbmRQcm92aWRlciBoYXNoIGFsZyBzZXQgZmFpbCBhbGc9XCIrdGhpcy5WeStcIi9cIitlfXRoaXMuaW5pdD1mdW5jdGlvbihlLHQpe3ZhciByPW51bGw7dHJ5e3I9dm9pZCAwPT09dD9LRVlVVElMLmdldEtleShlKTpLRVlVVElMLmdldEtleShlLHQpfWNhdGNoKGUpe3Rocm93XCJpbml0IGZhaWxlZDpcIitlfWlmKCEwPT09ci5ReSl0aGlzLkt5PXIsdGhpcy5zdGF0ZT1cIlNJR05cIjtlbHNle2lmKCEwIT09ci5yZil0aHJvd1wiaW5pdCBmYWlsZWQuOlwiK3I7dGhpcy5ZeT1yLHRoaXMuc3RhdGU9XCJWRVJJRllcIn19LHRoaXMuenk9ZnVuY3Rpb24oZSl7XCJzdHJpbmdcIj09dHlwZW9mIGUuSnkmJlwic3RyaW5nXCI9PXR5cGVvZiBlLld5Pyh0aGlzLkp5PWUuSnksdGhpcy5XeT1lLld5KTp0aGlzLkt5PWUsdGhpcy5zdGF0ZT1cIlNJR05cIn0sdGhpcy5YeT1mdW5jdGlvbihlKXtcInN0cmluZ1wiPT10eXBlb2YgZS5aeSYmXCJzdHJpbmdcIj09dHlwZW9mIGUuV3k/KHRoaXMuWnk9ZS5aeSx0aGlzLld5PWUuV3kpOmUgaW5zdGFuY2VvZiBLSlVSLmNyeXB0by4keT90aGlzLll5PWU6ZSBpbnN0YW5jZW9mIFgmJih0aGlzLll5PWUpLHRoaXMuc3RhdGU9XCJWRVJJRllcIn0sdGhpcy5lbT1mdW5jdGlvbihlKXt2YXIgdD1uZXcgWDUwOTt0LnRtKGUpLHRoaXMuWXk9dC5ybSx0aGlzLnN0YXRlPVwiVkVSSUZZXCJ9LHRoaXMuU3k9ZnVuY3Rpb24oZSl7dGhpcy53eS5TeShlKX0sdGhpcy5SeT1mdW5jdGlvbihlKXt0aGlzLnd5LlJ5KGUpfSx0aGlzLnNpZ249ZnVuY3Rpb24oKXtpZih0aGlzLmltPXRoaXMud3kuZGlnZXN0KCksdm9pZCAwIT09dGhpcy5KeSYmdm9pZCAwIT09dGhpcy5XeSl7dmFyIGU9bmV3IEtKVVIuY3J5cHRvLiR5KHtjdXJ2ZTp0aGlzLld5fSk7dGhpcy5ubT1lLnNtKHRoaXMuaW0sdGhpcy5KeSl9ZWxzZSBpZih0aGlzLkt5IGluc3RhbmNlb2YgWCYmXCJyc2FhbmRtZ2YxXCI9PXRoaXMuankpdGhpcy5ubT10aGlzLkt5LmZmKHRoaXMuaW0sdGhpcy5WeSx0aGlzLm9tKTtlbHNlIGlmKHRoaXMuS3kgaW5zdGFuY2VvZiBYJiZcInJzYVwiPT10aGlzLmp5KXRoaXMubm09dGhpcy5LeS5jZih0aGlzLmltLHRoaXMuVnkpO2Vsc2UgaWYodGhpcy5LeSBpbnN0YW5jZW9mIEtKVVIuY3J5cHRvLiR5KXRoaXMubm09dGhpcy5LeS5jZih0aGlzLmltKTtlbHNle2lmKCEodGhpcy5LeSBpbnN0YW5jZW9mIEtKVVIuY3J5cHRvLmFtKSl0aHJvd1wiU2lnbmF0dXJlOiB1bnN1cHBvcnRlZCBwdWJsaWMga2V5IGFsZzogXCIrdGhpcy5qeTt0aGlzLm5tPXRoaXMuS3kuY2YodGhpcy5pbSl9cmV0dXJuIHRoaXMubm19LHRoaXMuaG09ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuU3koZSksdGhpcy5zaWduKCl9LHRoaXMuc209ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuUnkoZSksdGhpcy5zaWduKCl9LHRoaXMudmVyaWZ5PWZ1bmN0aW9uKGUpe2lmKHRoaXMuaW09dGhpcy53eS5kaWdlc3QoKSx2b2lkIDAhPT10aGlzLlp5JiZ2b2lkIDAhPT10aGlzLld5KXtyZXR1cm4gbmV3IEtKVVIuY3J5cHRvLiR5KHtjdXJ2ZTp0aGlzLld5fSkuY20odGhpcy5pbSxlLHRoaXMuWnkpfWlmKHRoaXMuWXkgaW5zdGFuY2VvZiBYJiZcInJzYWFuZG1nZjFcIj09dGhpcy5qeSlyZXR1cm4gdGhpcy5ZeS52Zih0aGlzLmltLGUsdGhpcy5WeSx0aGlzLm9tKTtpZih0aGlzLll5IGluc3RhbmNlb2YgWCYmXCJyc2FcIj09dGhpcy5qeSlyZXR1cm4gdGhpcy5ZeS51bSh0aGlzLmltLGUpO2lmKHRoaXMuWXkgaW5zdGFuY2VvZiBLSlVSLmNyeXB0by4keSlyZXR1cm4gdGhpcy5ZeS51bSh0aGlzLmltLGUpO2lmKHRoaXMuWXkgaW5zdGFuY2VvZiBLSlVSLmNyeXB0by5hbSlyZXR1cm4gdGhpcy5ZeS51bSh0aGlzLmltLGUpO3Rocm93XCJTaWduYXR1cmU6IHVuc3VwcG9ydGVkIHB1YmxpYyBrZXkgYWxnOiBcIit0aGlzLmp5fX19LHRoaXMuaW5pdD1mdW5jdGlvbihlLHQpe3Rocm93XCJpbml0KGtleSwgcGFzcykgbm90IHN1cHBvcnRlZCBmb3IgdGhpcyBhbGc6cHJvdj1cIit0aGlzLmxtfSx0aGlzLlh5PWZ1bmN0aW9uKGUpe3Rocm93XCJpbml0VmVyaWZ5QnlQdWJsaWNLZXkocnNhUHViS2V5eSkgbm90IHN1cHBvcnRlZCBmb3IgdGhpcyBhbGc6cHJvdj1cIit0aGlzLmxtfSx0aGlzLmVtPWZ1bmN0aW9uKGUpe3Rocm93XCJpbml0VmVyaWZ5QnlDZXJ0aWZpY2F0ZVBFTShjZXJ0UEVNKSBub3Qgc3VwcG9ydGVkIGZvciB0aGlzIGFsZzpwcm92PVwiK3RoaXMubG19LHRoaXMuenk9ZnVuY3Rpb24oZSl7dGhyb3dcImluaXRTaWduKHBydktleSkgbm90IHN1cHBvcnRlZCBmb3IgdGhpcyBhbGc6cHJvdj1cIit0aGlzLmxtfSx0aGlzLlN5PWZ1bmN0aW9uKGUpe3Rocm93XCJ1cGRhdGVTdHJpbmcoc3RyKSBub3Qgc3VwcG9ydGVkIGZvciB0aGlzIGFsZzpwcm92PVwiK3RoaXMubG19LHRoaXMuUnk9ZnVuY3Rpb24oZSl7dGhyb3dcInVwZGF0ZUhleChoZXgpIG5vdCBzdXBwb3J0ZWQgZm9yIHRoaXMgYWxnOnByb3Y9XCIrdGhpcy5sbX0sdGhpcy5zaWduPWZ1bmN0aW9uKCl7dGhyb3dcInNpZ24oKSBub3Qgc3VwcG9ydGVkIGZvciB0aGlzIGFsZzpwcm92PVwiK3RoaXMubG19LHRoaXMuaG09ZnVuY3Rpb24oZSl7dGhyb3dcImRpZ2VzdFN0cmluZyhzdHIpIG5vdCBzdXBwb3J0ZWQgZm9yIHRoaXMgYWxnOnByb3Y9XCIrdGhpcy5sbX0sdGhpcy5zbT1mdW5jdGlvbihlKXt0aHJvd1wiZGlnZXN0SGV4KGhleCkgbm90IHN1cHBvcnRlZCBmb3IgdGhpcyBhbGc6cHJvdj1cIit0aGlzLmxtfSx0aGlzLnZlcmlmeT1mdW5jdGlvbihlKXt0aHJvd1widmVyaWZ5KGhTaWdWYWwpIG5vdCBzdXBwb3J0ZWQgZm9yIHRoaXMgYWxnOnByb3Y9XCIrdGhpcy5sbX0sdGhpcy5wbT1lLHZvaWQgMCE9PWUmJih2b2lkIDAhPT1lLmd5JiYodGhpcy5DeT1lLmd5LHZvaWQgMD09PWUueXk/dGhpcy5reT1LSlVSLmNyeXB0by5oZi5Sdlt0aGlzLkN5XTp0aGlzLmt5PWUueXksdGhpcy5sbT10aGlzLkN5K1wiOlwiK3RoaXMua3ksdGhpcy5JeSh0aGlzLkN5LHRoaXMua3kpLHRoaXMucXkoKSksdm9pZCAwIT09ZS5mbSYmKHRoaXMub209ZS5mbSksdm9pZCAwIT09ZS5kbSkpe2lmKHZvaWQgMCE9PWUuZ20pdGhyb3dcImJvdGggcHJ2a2V5cGVtIGFuZCBwcnZrZXlwYXMgcGFyYW1ldGVycyBub3Qgc3VwcG9ydGVkXCI7dHJ5e3ZhciB0PW5ldyBYO3Qudm0oZS5kbSksdGhpcy56eSh0KX1jYXRjaChlKXt0aHJvd1wiZmF0YWwgZXJyb3IgdG8gbG9hZCBwZW0gcHJpdmF0ZSBrZXk6IFwiK2V9fX0sS0pVUi5jcnlwdG8uYXY9bmV3IGZ1bmN0aW9uKCl7dGhpcy55bT17bW06XCJyc2FFbmNyeXB0aW9uXCIsRW06XCJlY1B1YmxpY0tleVwiLFRtOlwiZHNhXCIsSW06XCJzZWNwMjU2cjFcIix3bTpcInNlY3AxOTJrMVwiLFNtOlwic2VjcDIyNHIxXCIsUm06XCJzZWNwMjU2azFcIixibTpcInNlY3A1MjFyMVwiLFBtOlwic2VjcDM4NHIxXCIsQW06XCJTSEExd2l0aERTQVwiLFwiNjA4NjQ4MDE2NTAzMDQwMzAxXCI6XCJTSEEyMjR3aXRoRFNBXCIsXCI2MDg2NDgwMTY1MDMwNDAzMDJcIjpcIlNIQTI1NndpdGhEU0FcIn19O3ZhciBPZT0yMDtYLnByb3RvdHlwZS5zZj0kLFgucHJvdG90eXBlLmRmPVosWC5wcm90b3R5cGUuZW5jcnlwdD1lZSxYLnByb3RvdHlwZS5DbT10ZSxYLnByb3RvdHlwZS50eXBlPVwiUlNBXCI7LyohIHJzYXNpZ24tMS4yLjcuanMgKGMpIDIwMTIgS2VuamkgVXJ1c2hpbWEgfCBranVyLmdpdGh1Yi5jb20vanNyc2FzaWduL2xpY2Vuc2VcclxuICovXHJcbnZhciBfZT1uZXcgUmVnRXhwKFwiXCIpO19lLmNvbXBpbGUoXCJbXjAtOWEtZl1cIixcImdpXCIpLFgucHJvdG90eXBlLmNmPW5lLFgucHJvdG90eXBlLmhtPWllLFgucHJvdG90eXBlLmttPXNlLFgucHJvdG90eXBlLk9tPW9lLFgucHJvdG90eXBlLnNpZ249aWUsWC5wcm90b3R5cGUuX209c2UsWC5wcm90b3R5cGUuTm09b2UsWC5wcm90b3R5cGUuZmY9Y2UsWC5wcm90b3R5cGUuRG09aGUsWC5wcm90b3R5cGUuRm09aGUsWC5MbT0tMSxYLk1tPS0yLFgucHJvdG90eXBlLnVtPXZlLFgucHJvdG90eXBlLkJtPWdlLFgucHJvdG90eXBlLlVtPWRlLFgucHJvdG90eXBlLnZlcmlmeT1nZSxYLnByb3RvdHlwZS54bT1kZSxYLnByb3RvdHlwZS52Zj1tZSxYLnByb3RvdHlwZS5IbT15ZSxYLnByb3RvdHlwZS5xbT15ZSxYLlZtPS0yLHQuam09cix0LkdtPVgsdC5TaWduYXR1cmU9S0pVUi5jcnlwdG8uU2lnbmF0dXJlLHQucHk9S0pVUi5jcnlwdG8ucHksdC5zbD13ZSx0LlFtPVEsdC5LbT1LfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk7IWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSl7cmV0dXJuIGlbZV19dmFyIHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlfSgpO2UuSGl2ZVNlc3Npb249cjshZnVuY3Rpb24oZSl7ZVtlLlltPTBdPVwiR0VORVJJQ19FUlJPUlwiLGVbZS56bT0xXT1cIk5PX1RFQ0hfQVZBSUxBQkxFXCIsZVtlLkptPTJdPVwiTk9fVEVDSF9SRVNPTFZFRFwiLGVbZS5XbT0zXT1cIlRFQ0hfRVJST1JcIixlW2UuWG09NF09XCJUSUNLRVRfRVJST1JcIn0oZS5abXx8KGUuWm09e30pKTt2YXIgaTshZnVuY3Rpb24oZSl7ZVtlW1wiJG1cIl09MF09XCJHZW5lcmljIFVuZGVmaW5lZCBFcnJvclwiLGVbZVtcImVFXCJdPTFdPVwiTm8gVGVjaCBhdmFpbGFibGUgdG8gcmVzb2x2ZSB0aGUgdGlja2V0XCIsZVtlW1widEVcIl09Ml09XCJObyBhdmFpbGFibGUgVGVjaCBjb3VsZCByZXNvbHZlZCB0aGUgdGlja2V0XCIsZVtlW1wickVcIl09M109XCJTdG9wcGVkIHJlc29sdmluZyBzZXNzaW9uIG9uIGxhc3QgdGVjaCBvbkVycm9yXCIsZVtlW1wiaUVcIl09NF09XCJUaGUgdGlja2V0IGNvdWxkIG5vdCBiZSByZXNvbHZlZFwifShpfHwoaT17fSkpO3ZhciBuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZX0oKTtlLkhpdmVTZXNzaW9uRXJyb3I9bjt2YXIgcz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXt0aGlzLmNvZGU9ZSx0aGlzLm1lc3NhZ2U9dH1yZXR1cm4gZX0oKTtlLkhpdmVUZWNoRXJyb3I9czshZnVuY3Rpb24oZSl7ZVtlLm5FPTBdPVwiTk9UX1JFQURZXCIsZVtlLnNFPTFdPVwiUExVR0lOX0VSUk9SXCIsZVtlLm9FPTJdPVwiU0VTU0lPTl9FUlJPUlwiLGVbZS5YbT0zXT1cIlRJQ0tFVF9FUlJPUlwiLGVbZS5hRT00XT1cIlZFUlNJT05fRVJST1JcIixlW2UuaEU9NV09XCJUSU1FT1VUX0VSUk9SXCJ9KGUuY0V8fChlLmNFPXt9KSk7IWZ1bmN0aW9uKGUpe2VbZS51RT0wXT1cIk9LXCIsZVtlLmxFPTFdPVwiSElWRV9OT1RfQUxMT1dFRFwiLGVbZS5wRT0yXT1cIlRJQ0tFVF9OT1RfUkVTT0xWRURcIixlW2UuZkU9M109XCJUSU1FT1VUX1JFU09MVklOR19USUNLRVRcIn0oZS5kRXx8KGUuZEU9e30pKSxlLmdldEhpdmVTZXNzaW9uRXJyb3JNZXNzYWdlPXQ7dmFyIG89ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMuZ0U9ZX1yZXR1cm4gZS5wcm90b3R5cGUuZ2V0UGx1Z2luU3RhdHVzQ29kZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdFLnZFKCl9LGV9KCk7ZS55RT1vfShpPXQuZ258fCh0LmduPXt9KSksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmKHZvaWQgMD09PXdpbmRvdy5nbiYmKHdpbmRvdy5nbj17fSksd2luZG93LmduLmdldEhpdmVTZXNzaW9uRXJyb3JNZXNzYWdlPWkuZ2V0SGl2ZVNlc3Npb25FcnJvck1lc3NhZ2UpfSxmdW5jdGlvbihlLHQscil7dmFyIGksbixzOy8qIVxyXG4gKiBVUkkuanMgLSBNdXRhdGluZyBVUkxzXHJcbiAqXHJcbiAqIFZlcnNpb246IDEuMTguMTBcclxuICpcclxuICogQXV0aG9yOiBSb2RuZXkgUmVobVxyXG4gKiBXZWI6IGh0dHA6Ly9tZWRpYWxpemUuZ2l0aHViLmlvL1VSSS5qcy9cclxuICpcclxuICogTGljZW5zZWQgdW5kZXJcclxuICogICBNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXHJcbiAqXHJcbiAqL1xyXG4hZnVuY3Rpb24obyxhKXtcInVzZSBzdHJpY3RcIjtcIm9iamVjdFwiPT10eXBlb2YgZSYmZS50P2UudD1hKHIoMTYpLHIoMTYpLHIoMTYpKToobj1bcigxNikscigxNikscigxNildLGk9YSx2b2lkIDAhPT0ocz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBpP2kuYXBwbHkodCxuKTppKSYmKGUudD1zKSl9KDAsZnVuY3Rpb24oZSx0LHIsaSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbihlLHQpe3ZhciByPWFyZ3VtZW50cy5sZW5ndGg+PTEsaT1hcmd1bWVudHMubGVuZ3RoPj0yO2lmKCEodGhpcyBpbnN0YW5jZW9mIG4pKXJldHVybiByP2k/bmV3IG4oZSx0KTpuZXcgbihlKTpuZXcgbjtpZih2b2lkIDA9PT1lKXtpZihyKXRocm93IG5ldyBUeXBlRXJyb3IoXCJ1bmRlZmluZWQgaXMgbm90IGEgdmFsaWQgYXJndW1lbnQgZm9yIFVSSVwiKTtlPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBsb2NhdGlvbj9sb2NhdGlvbi5ocmVmK1wiXCI6XCJcIn1pZihudWxsPT09ZSYmcil0aHJvdyBuZXcgVHlwZUVycm9yKFwibnVsbCBpcyBub3QgYSB2YWxpZCBhcmd1bWVudCBmb3IgVVJJXCIpO3JldHVybiB0aGlzLmhyZWYoZSksdm9pZCAwIT09dD90aGlzLkJpKHQpOnRoaXN9ZnVuY3Rpb24gcyhlKXtyZXR1cm4gZS5yZXBsYWNlKC8oWy4qKz9ePSE6JHt9KCl8W1xcXVxcL1xcXFxdKS9nLFwiXFxcXCQxXCIpfWZ1bmN0aW9uIG8oZSl7cmV0dXJuIHZvaWQgMD09PWU/XCJVbmRlZmluZWRcIjpTdHJpbmcoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpKS5zbGljZSg4LC0xKX1mdW5jdGlvbiBhKGUpe3JldHVyblwiQXJyYXlcIj09PW8oZSl9ZnVuY3Rpb24gaChlLHQpe3ZhciByLGksbj17fTtpZihcIlJlZ0V4cFwiPT09byh0KSluPW51bGw7ZWxzZSBpZihhKHQpKWZvcihyPTAsaT10Lmxlbmd0aDtyPGk7cisrKW5bdFtyXV09ITA7ZWxzZSBuW3RdPSEwO2ZvcihyPTAsaT1lLmxlbmd0aDtyPGk7cisrKXsobiYmdm9pZCAwIT09bltlW3JdXXx8IW4mJnQudGVzdChlW3JdKSkmJihlLnNwbGljZShyLDEpLGktLSxyLS0pfXJldHVybiBlfWZ1bmN0aW9uIGMoZSx0KXt2YXIgcixpO2lmKGEodCkpe2ZvcihyPTAsaT10Lmxlbmd0aDtyPGk7cisrKWlmKCFjKGUsdFtyXSkpcmV0dXJuITE7cmV0dXJuITB9dmFyIG49byh0KTtmb3Iocj0wLGk9ZS5sZW5ndGg7cjxpO3IrKylpZihcIlJlZ0V4cFwiPT09bil7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGVbcl0mJmVbcl0ubWF0Y2godCkpcmV0dXJuITB9ZWxzZSBpZihlW3JdPT09dClyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiB1KGUsdCl7aWYoIWEoZSl8fCFhKHQpKXJldHVybiExO2lmKGUubGVuZ3RoIT09dC5sZW5ndGgpcmV0dXJuITE7ZS5zb3J0KCksdC5zb3J0KCk7Zm9yKHZhciByPTAsaT1lLmxlbmd0aDtyPGk7cisrKWlmKGVbcl0hPT10W3JdKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIGwoZSl7dmFyIHQ9L15cXC8rfFxcLyskL2c7cmV0dXJuIGUucmVwbGFjZSh0LFwiXCIpfWZ1bmN0aW9uIHAoZSl7cmV0dXJuIGVzY2FwZShlKX1mdW5jdGlvbiBmKGUpe3JldHVybiBlbmNvZGVVUklDb21wb25lbnQoZSkucmVwbGFjZSgvWyEnKCkqXS9nLHApLnJlcGxhY2UoL1xcKi9nLFwiJTJBXCIpfWZ1bmN0aW9uIGQoZSl7cmV0dXJuIGZ1bmN0aW9uKHQscil7cmV0dXJuIHZvaWQgMD09PXQ/dGhpcy5tRVtlXXx8XCJcIjoodGhpcy5tRVtlXT10fHxudWxsLHRoaXMuc3AoIXIpLHRoaXMpfX1mdW5jdGlvbiBnKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKHIsaSl7cmV0dXJuIHZvaWQgMD09PXI/dGhpcy5tRVtlXXx8XCJcIjoobnVsbCE9PXImJihyKz1cIlwiLHIuY2hhckF0KDApPT09dCYmKHI9ci5zdWJzdHJpbmcoMSkpKSx0aGlzLm1FW2VdPXIsdGhpcy5zcCghaSksdGhpcyl9fXZhciB2PWkmJmkuRUU7bi52ZXJzaW9uPVwiMS4xOC4xMFwiO3ZhciB5PW4ucHJvdG90eXBlLG09T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtuLm1FPWZ1bmN0aW9uKCl7cmV0dXJue3Byb3RvY29sOm51bGwsdXNlcm5hbWU6bnVsbCxwYXNzd29yZDpudWxsLGhvc3RuYW1lOm51bGwsdXJuOm51bGwscG9ydDpudWxsLHBhdGg6bnVsbCxkbjpudWxsLFRFOm51bGwsSUU6bi5JRSx3RTpuLndFfX0sbi5JRT0hMSxuLndFPSEwLG4uU0U9L15bYS16XVthLXowLTkuKy1dKiQvaSxuLlJFPS9bXmEtejAtOVxcLi1dL2ksbi5iRT0vKHhuLS0pL2ksbi5QRT0vXlxcZHsxLDN9XFwuXFxkezEsM31cXC5cXGR7MSwzfVxcLlxcZHsxLDN9JC8sbi5BRT0vXlxccyooKChbMC05QS1GYS1mXXsxLDR9Oil7N30oWzAtOUEtRmEtZl17MSw0fXw6KSl8KChbMC05QS1GYS1mXXsxLDR9Oil7Nn0oOlswLTlBLUZhLWZdezEsNH18KCgyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoXFwuKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSl7M30pfDopKXwoKFswLTlBLUZhLWZdezEsNH06KXs1fSgoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDJ9KXw6KCgyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoXFwuKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSl7M30pfDopKXwoKFswLTlBLUZhLWZdezEsNH06KXs0fSgoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDN9KXwoKDpbMC05QS1GYS1mXXsxLDR9KT86KCgyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoXFwuKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSl7M30pKXw6KSl8KChbMC05QS1GYS1mXXsxLDR9Oil7M30oKCg6WzAtOUEtRmEtZl17MSw0fSl7MSw0fSl8KCg6WzAtOUEtRmEtZl17MSw0fSl7MCwyfTooKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKShcXC4oMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSkpfDopKXwoKFswLTlBLUZhLWZdezEsNH06KXsyfSgoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDV9KXwoKDpbMC05QS1GYS1mXXsxLDR9KXswLDN9OigoMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKFxcLigyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkpezN9KSl8OikpfCgoWzAtOUEtRmEtZl17MSw0fTopezF9KCgoOlswLTlBLUZhLWZdezEsNH0pezEsNn0pfCgoOlswLTlBLUZhLWZdezEsNH0pezAsNH06KCgyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoXFwuKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSl7M30pKXw6KSl8KDooKCg6WzAtOUEtRmEtZl17MSw0fSl7MSw3fSl8KCg6WzAtOUEtRmEtZl17MSw0fSl7MCw1fTooKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKShcXC4oMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSkpfDopKSkoJS4rKT9cXHMqJC8sbi5DRT0vXFxiKCg/OlthLXpdW1xcdy1dKzooPzpcXC97MSwzfXxbYS16MC05JV0pfHd3d1xcZHswLDN9Wy5dfFthLXowLTkuXFwtXStbLl1bYS16XXsyLDR9XFwvKSg/OlteXFxzKCk8Pl0rfFxcKChbXlxccygpPD5dK3woXFwoW15cXHMoKTw+XStcXCkpKSpcXCkpKyg/OlxcKChbXlxccygpPD5dK3woXFwoW15cXHMoKTw+XStcXCkpKSpcXCl8W15cXHNgISgpXFxbXFxde307OidcIi4sPD4/wqvCu+KAnOKAneKAmOKAmV0pKS9naSxuLmtFPXtzdGFydDovXFxiKD86KFthLXpdW2EtejAtOS4rLV0qOlxcL1xcLyl8d3d3XFwuKS9naSxlbmQ6L1tcXHNcXHJcXG5dfCQvLHRyaW06L1tgISgpXFxbXFxde307OidcIi4sPD4/wqvCu+KAnOKAneKAnuKAmOKAmV0rJC8sT0U6LyhcXChbXlxcKV0qXFwpfFxcW1teXFxdXSpcXF18XFx7W159XSpcXH18PFtePl0qPikvZ30sbi5fRT17TkU6XCI4MFwiLERFOlwiNDQzXCIsRkU6XCIyMVwiLExFOlwiNzBcIixNRTpcIjgwXCIsQkU6XCI0NDNcIn0sbi5VRT0vW15hLXpBLVowLTlcXC4tXS8sbi54RT17YTpcImhyZWZcIixIRTpcImNpdGVcIixsaW5rOlwiaHJlZlwiLHFFOlwiaHJlZlwiLFZFOlwic3JjXCIsZm9ybTpcImFjdGlvblwiLGpFOlwic3JjXCIsR0U6XCJocmVmXCIsUUU6XCJzcmNcIixLRTpcInNyY1wiLHNvdXJjZTpcInNyY1wiLHRyYWNrOlwic3JjXCIsaW5wdXQ6XCJzcmNcIixZRTpcInNyY1wiLHZpZGVvOlwic3JjXCJ9LG4uekU9ZnVuY3Rpb24oZSl7aWYoZSYmZS5ub2RlTmFtZSl7dmFyIHQ9ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO2lmKFwiaW5wdXRcIiE9PXR8fFwiaW1hZ2VcIj09PWUudHlwZSlyZXR1cm4gbi54RVt0XX19LG4uZW5jb2RlPWYsbi5kZWNvZGU9ZGVjb2RlVVJJQ29tcG9uZW50LG4uSkU9ZnVuY3Rpb24oKXtuLmVuY29kZT1lc2NhcGUsbi5kZWNvZGU9dW5lc2NhcGV9LG4uV0U9ZnVuY3Rpb24oKXtuLmVuY29kZT1mLG4uZGVjb2RlPWRlY29kZVVSSUNvbXBvbmVudH0sbi5YRT17cGF0aG5hbWU6e2VuY29kZTp7WkU6LyUoMjR8MjZ8MkJ8MkN8M0J8M0R8M0F8NDApL2dpLG1hcDp7XCIlMjRcIjpcIiRcIixcIiUyNlwiOlwiJlwiLFwiJTJCXCI6XCIrXCIsXCIlMkNcIjpcIixcIixcIiUzQlwiOlwiO1wiLFwiJTNEXCI6XCI9XCIsXCIlM0FcIjpcIjpcIixcIiU0MFwiOlwiQFwifX0sZGVjb2RlOntaRTovW1xcL1xcPyNdL2csbWFwOntZZjpcIiUyRlwiLCRFOlwiJTNGXCIsZVQ6XCIlMjNcIn19fSx0VDp7ZW5jb2RlOntaRTovJSgyMXwyM3wyNHwyNnwyN3wyOHwyOXwyQXwyQnwyQ3wyRnwzQXwzQnwzRHwzRnw0MHw1Qnw1RCkvZ2ksbWFwOntcIiUzQVwiOlwiOlwiLHJUOlwiL1wiLGlUOlwiP1wiLG5UOlwiI1wiLHNUOlwiW1wiLG9UOlwiXVwiLFwiJTQwXCI6XCJAXCIsYVQ6XCIhXCIsXCIlMjRcIjpcIiRcIixcIiUyNlwiOlwiJlwiLGhUOlwiJ1wiLGNUOlwiKFwiLHVUOlwiKVwiLGxUOlwiKlwiLFwiJTJCXCI6XCIrXCIsXCIlMkNcIjpcIixcIixcIiUzQlwiOlwiO1wiLFwiJTNEXCI6XCI9XCJ9fX0scFQ6e2VuY29kZTp7WkU6LyUoMjF8MjR8Mjd8Mjh8Mjl8MkF8MkJ8MkN8M0J8M0R8NDApL2dpLG1hcDp7YVQ6XCIhXCIsXCIlMjRcIjpcIiRcIixoVDpcIidcIixjVDpcIihcIix1VDpcIilcIixsVDpcIipcIixcIiUyQlwiOlwiK1wiLFwiJTJDXCI6XCIsXCIsXCIlM0JcIjpcIjtcIixcIiUzRFwiOlwiPVwiLFwiJTQwXCI6XCJAXCJ9fSxkZWNvZGU6e1pFOi9bXFwvXFw/IzpdL2csbWFwOntZZjpcIiUyRlwiLCRFOlwiJTNGXCIsZVQ6XCIlMjNcIixmVDpcIiUzQVwifX19fSxuLmRUPWZ1bmN0aW9uKGUsdCl7dmFyIHI9bi5lbmNvZGUoZStcIlwiKTtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9bi53RSksdD9yLnJlcGxhY2UoLyUyMC9nLFwiK1wiKTpyfSxuLmdUPWZ1bmN0aW9uKGUsdCl7ZSs9XCJcIix2b2lkIDA9PT10JiYodD1uLndFKTt0cnl7cmV0dXJuIG4uZGVjb2RlKHQ/ZS5yZXBsYWNlKC9cXCsvZyxcIiUyMFwiKTplKX1jYXRjaCh0KXtyZXR1cm4gZX19O3ZhciBFLFQ9e2VuY29kZTpcImVuY29kZVwiLGRlY29kZTpcImRlY29kZVwifSxJPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKHIpe3RyeXtyZXR1cm4gblt0XShyK1wiXCIpLnJlcGxhY2Uobi5YRVtlXVt0XS5aRSxmdW5jdGlvbihyKXtyZXR1cm4gbi5YRVtlXVt0XS5tYXBbcl19KX1jYXRjaChlKXtyZXR1cm4gcn19fTtmb3IoRSBpbiBUKW5bRStcIlBhdGhTZWdtZW50XCJdPUkoXCJwYXRobmFtZVwiLFRbRV0pLG5bRStcIlVyblBhdGhTZWdtZW50XCJdPUkoXCJ1cm5wYXRoXCIsVFtFXSk7dmFyIHc9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBmdW5jdGlvbihpKXt2YXIgcztzPXI/ZnVuY3Rpb24oZSl7cmV0dXJuIG5bdF0obltyXShlKSl9Om5bdF07Zm9yKHZhciBvPShpK1wiXCIpLnNwbGl0KGUpLGE9MCxoPW8ubGVuZ3RoO2E8aDthKyspb1thXT1zKG9bYV0pO3JldHVybiBvLmpvaW4oZSl9fTtuLnZUPXcoXCIvXCIsXCJkZWNvZGVQYXRoU2VnbWVudFwiKSxuLnlUPXcoXCI6XCIsXCJkZWNvZGVVcm5QYXRoU2VnbWVudFwiKSxuLm1UPXcoXCIvXCIsXCJlbmNvZGVQYXRoU2VnbWVudFwiLFwiZGVjb2RlXCIpLG4uRVQ9dyhcIjpcIixcImVuY29kZVVyblBhdGhTZWdtZW50XCIsXCJkZWNvZGVcIiksbi5UVD1JKFwicmVzZXJ2ZWRcIixcImVuY29kZVwiKSxuLnBhcnNlPWZ1bmN0aW9uKGUsdCl7dmFyIHI7cmV0dXJuIHR8fCh0PXt9KSxyPWUuaW5kZXhPZihcIiNcIikscj4tMSYmKHQuVEU9ZS5zdWJzdHJpbmcocisxKXx8bnVsbCxlPWUuc3Vic3RyaW5nKDAscikpLHI9ZS5pbmRleE9mKFwiP1wiKSxyPi0xJiYodC5kbj1lLnN1YnN0cmluZyhyKzEpfHxudWxsLGU9ZS5zdWJzdHJpbmcoMCxyKSksXCIvL1wiPT09ZS5zdWJzdHJpbmcoMCwyKT8odC5wcm90b2NvbD1udWxsLGU9ZS5zdWJzdHJpbmcoMiksZT1uLklUKGUsdCkpOihyPWUuaW5kZXhPZihcIjpcIikpPi0xJiYodC5wcm90b2NvbD1lLnN1YnN0cmluZygwLHIpfHxudWxsLHQucHJvdG9jb2wmJiF0LnByb3RvY29sLm1hdGNoKG4uU0UpP3QucHJvdG9jb2w9dm9pZCAwOlwiLy9cIj09PWUuc3Vic3RyaW5nKHIrMSxyKzMpPyhlPWUuc3Vic3RyaW5nKHIrMyksZT1uLklUKGUsdCkpOihlPWUuc3Vic3RyaW5nKHIrMSksdC51cm49ITApKSx0LnBhdGg9ZSx0fSxuLndUPWZ1bmN0aW9uKGUsdCl7ZT1lLnJlcGxhY2UoL1xcXFwvZyxcIi9cIik7dmFyIHIsaSxuPWUuaW5kZXhPZihcIi9cIik7aWYoLTE9PT1uJiYobj1lLmxlbmd0aCksXCJbXCI9PT1lLmNoYXJBdCgwKSlyPWUuaW5kZXhPZihcIl1cIiksdC5ob3N0bmFtZT1lLnN1YnN0cmluZygxLHIpfHxudWxsLHQucG9ydD1lLnN1YnN0cmluZyhyKzIsbil8fG51bGwsXCIvXCI9PT10LnBvcnQmJih0LnBvcnQ9bnVsbCk7ZWxzZXt2YXIgcz1lLmluZGV4T2YoXCI6XCIpLG89ZS5pbmRleE9mKFwiL1wiKSxhPWUuaW5kZXhPZihcIjpcIixzKzEpOy0xIT09YSYmKC0xPT09b3x8YTxvKT8odC5ob3N0bmFtZT1lLnN1YnN0cmluZygwLG4pfHxudWxsLHQucG9ydD1udWxsKTooaT1lLnN1YnN0cmluZygwLG4pLnNwbGl0KFwiOlwiKSx0Lmhvc3RuYW1lPWlbMF18fG51bGwsdC5wb3J0PWlbMV18fG51bGwpfXJldHVybiB0Lmhvc3RuYW1lJiZcIi9cIiE9PWUuc3Vic3RyaW5nKG4pLmNoYXJBdCgwKSYmKG4rKyxlPVwiL1wiK2UpLGUuc3Vic3RyaW5nKG4pfHxcIi9cIn0sbi5JVD1mdW5jdGlvbihlLHQpe3JldHVybiBlPW4uU1QoZSx0KSxuLndUKGUsdCl9LG4uU1Q9ZnVuY3Rpb24oZSx0KXt2YXIgcixpPWUuaW5kZXhPZihcIi9cIikscz1lLmxhc3RJbmRleE9mKFwiQFwiLGk+LTE/aTplLmxlbmd0aC0xKTtyZXR1cm4gcz4tMSYmKC0xPT09aXx8czxpKT8ocj1lLnN1YnN0cmluZygwLHMpLnNwbGl0KFwiOlwiKSx0LnVzZXJuYW1lPXJbMF0/bi5kZWNvZGUoclswXSk6bnVsbCxyLnNoaWZ0KCksdC5wYXNzd29yZD1yWzBdP24uZGVjb2RlKHIuam9pbihcIjpcIikpOm51bGwsZT1lLnN1YnN0cmluZyhzKzEpKToodC51c2VybmFtZT1udWxsLHQucGFzc3dvcmQ9bnVsbCksZX0sbi5SVD1mdW5jdGlvbihlLHQpe2lmKCFlKXJldHVybnt9O2lmKCEoZT1lLnJlcGxhY2UoLyYrL2csXCImXCIpLnJlcGxhY2UoL15cXD8qJip8JiskL2csXCJcIikpKXJldHVybnt9O2Zvcih2YXIgcixpLHMsbz17fSxhPWUuc3BsaXQoXCImXCIpLGg9YS5sZW5ndGgsYz0wO2M8aDtjKyspcj1hW2NdLnNwbGl0KFwiPVwiKSxpPW4uZ1Qoci5zaGlmdCgpLHQpLHM9ci5sZW5ndGg/bi5nVChyLmpvaW4oXCI9XCIpLHQpOm51bGwsbS5jYWxsKG8saSk/KFwic3RyaW5nXCIhPXR5cGVvZiBvW2ldJiZudWxsIT09b1tpXXx8KG9baV09W29baV1dKSxvW2ldLnB1c2gocykpOm9baV09cztyZXR1cm4gb30sbi5zcD1mdW5jdGlvbihlKXt2YXIgdD1cIlwiO3JldHVybiBlLnByb3RvY29sJiYodCs9ZS5wcm90b2NvbCtcIjpcIiksZS51cm58fCF0JiYhZS5ob3N0bmFtZXx8KHQrPVwiLy9cIiksdCs9bi5iVChlKXx8XCJcIixcInN0cmluZ1wiPT10eXBlb2YgZS5wYXRoJiYoXCIvXCIhPT1lLnBhdGguY2hhckF0KDApJiZcInN0cmluZ1wiPT10eXBlb2YgZS5ob3N0bmFtZSYmKHQrPVwiL1wiKSx0Kz1lLnBhdGgpLFwic3RyaW5nXCI9PXR5cGVvZiBlLmRuJiZlLmRuJiYodCs9XCI/XCIrZS5kbiksXCJzdHJpbmdcIj09dHlwZW9mIGUuVEUmJmUuVEUmJih0Kz1cIiNcIitlLlRFKSx0fSxuLlBUPWZ1bmN0aW9uKGUpe3ZhciB0PVwiXCI7cmV0dXJuIGUuaG9zdG5hbWU/KG4uQUUudGVzdChlLmhvc3RuYW1lKT90Kz1cIltcIitlLmhvc3RuYW1lK1wiXVwiOnQrPWUuaG9zdG5hbWUsZS5wb3J0JiYodCs9XCI6XCIrZS5wb3J0KSx0KTpcIlwifSxuLmJUPWZ1bmN0aW9uKGUpe3JldHVybiBuLkFUKGUpK24uUFQoZSl9LG4uQVQ9ZnVuY3Rpb24oZSl7dmFyIHQ9XCJcIjtyZXR1cm4gZS51c2VybmFtZSYmKHQrPW4uZW5jb2RlKGUudXNlcm5hbWUpKSxlLnBhc3N3b3JkJiYodCs9XCI6XCIrbi5lbmNvZGUoZS5wYXNzd29yZCkpLHQmJih0Kz1cIkBcIiksdH0sbi5DVD1mdW5jdGlvbihlLHQscil7dmFyIGkscyxvLGgsYz1cIlwiO2ZvcihzIGluIGUpaWYobS5jYWxsKGUscykmJnMpaWYoYShlW3NdKSlmb3IoaT17fSxvPTAsaD1lW3NdLmxlbmd0aDtvPGg7bysrKXZvaWQgMCE9PWVbc11bb10mJnZvaWQgMD09PWlbZVtzXVtvXStcIlwiXSYmKGMrPVwiJlwiK24ua1QocyxlW3NdW29dLHIpLCEwIT09dCYmKGlbZVtzXVtvXStcIlwiXT0hMCkpO2Vsc2Ugdm9pZCAwIT09ZVtzXSYmKGMrPVwiJlwiK24ua1QocyxlW3NdLHIpKTtyZXR1cm4gYy5zdWJzdHJpbmcoMSl9LG4ua1Q9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBuLmRUKGUscikrKG51bGwhPT10P1wiPVwiK24uZFQodCxyKTpcIlwiKX0sbi5PVD1mdW5jdGlvbihlLHQscil7aWYoXCJvYmplY3RcIj09dHlwZW9mIHQpZm9yKHZhciBpIGluIHQpbS5jYWxsKHQsaSkmJm4uT1QoZSxpLHRbaV0pO2Vsc2V7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlVSSS5hZGRRdWVyeSgpIGFjY2VwdHMgYW4gb2JqZWN0LCBzdHJpbmcgYXMgdGhlIG5hbWUgcGFyYW1ldGVyXCIpO2lmKHZvaWQgMD09PWVbdF0pcmV0dXJuIHZvaWQoZVt0XT1yKTtcInN0cmluZ1wiPT10eXBlb2YgZVt0XSYmKGVbdF09W2VbdF1dKSxhKHIpfHwocj1bcl0pLGVbdF09KGVbdF18fFtdKS5jb25jYXQocil9fSxuLl9UPWZ1bmN0aW9uKGUsdCxyKXt2YXIgaSxzLGM7aWYoYSh0KSlmb3IoaT0wLHM9dC5sZW5ndGg7aTxzO2krKyllW3RbaV1dPXZvaWQgMDtlbHNlIGlmKFwiUmVnRXhwXCI9PT1vKHQpKWZvcihjIGluIGUpdC50ZXN0KGMpJiYoZVtjXT12b2lkIDApO2Vsc2UgaWYoXCJvYmplY3RcIj09dHlwZW9mIHQpZm9yKGMgaW4gdCltLmNhbGwodCxjKSYmbi5fVChlLGMsdFtjXSk7ZWxzZXtpZihcInN0cmluZ1wiIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiVVJJLnJlbW92ZVF1ZXJ5KCkgYWNjZXB0cyBhbiBvYmplY3QsIHN0cmluZywgUmVnRXhwIGFzIHRoZSBmaXJzdCBwYXJhbWV0ZXJcIik7dm9pZCAwIT09cj9cIlJlZ0V4cFwiPT09byhyKT8hYShlW3RdKSYmci50ZXN0KGVbdF0pP2VbdF09dm9pZCAwOmVbdF09aChlW3RdLHIpOmVbdF0hPT1TdHJpbmcocil8fGEocikmJjEhPT1yLmxlbmd0aD9hKGVbdF0pJiYoZVt0XT1oKGVbdF0scikpOmVbdF09dm9pZCAwOmVbdF09dm9pZCAwfX0sbi5OVD1mdW5jdGlvbihlLHQscixpKXtzd2l0Y2gobyh0KSl7Y2FzZVwiU3RyaW5nXCI6YnJlYWs7Y2FzZVwiUmVnRXhwXCI6Zm9yKHZhciBzIGluIGUpaWYobS5jYWxsKGUscykmJnQudGVzdChzKSYmKHZvaWQgMD09PXJ8fG4uTlQoZSxzLHIpKSlyZXR1cm4hMDtyZXR1cm4hMTtjYXNlXCJPYmplY3RcIjpmb3IodmFyIGggaW4gdClpZihtLmNhbGwodCxoKSYmIW4uTlQoZSxoLHRbaF0pKXJldHVybiExO3JldHVybiEwO2RlZmF1bHQ6dGhyb3cgbmV3IFR5cGVFcnJvcihcIlVSSS5oYXNRdWVyeSgpIGFjY2VwdHMgYSBzdHJpbmcsIHJlZ3VsYXIgZXhwcmVzc2lvbiBvciBvYmplY3QgYXMgdGhlIG5hbWUgcGFyYW1ldGVyXCIpfXN3aXRjaChvKHIpKXtjYXNlXCJVbmRlZmluZWRcIjpyZXR1cm4gdCBpbiBlO2Nhc2VcIkJvb2xlYW5cIjpyZXR1cm4gcj09PUJvb2xlYW4oYShlW3RdKT9lW3RdLmxlbmd0aDplW3RdKTtjYXNlXCJGdW5jdGlvblwiOnJldHVybiEhcihlW3RdLHQsZSk7Y2FzZVwiQXJyYXlcIjppZighYShlW3RdKSlyZXR1cm4hMTtyZXR1cm4oaT9jOnUpKGVbdF0scik7Y2FzZVwiUmVnRXhwXCI6cmV0dXJuIGEoZVt0XSk/ISFpJiZjKGVbdF0scik6Qm9vbGVhbihlW3RdJiZlW3RdLm1hdGNoKHIpKTtjYXNlXCJOdW1iZXJcIjpyPVN0cmluZyhyKTtjYXNlXCJTdHJpbmdcIjpyZXR1cm4gYShlW3RdKT8hIWkmJmMoZVt0XSxyKTplW3RdPT09cjtkZWZhdWx0OnRocm93IG5ldyBUeXBlRXJyb3IoXCJVUkkuaGFzUXVlcnkoKSBhY2NlcHRzIHVuZGVmaW5lZCwgYm9vbGVhbiwgc3RyaW5nLCBudW1iZXIsIFJlZ0V4cCwgRnVuY3Rpb24gYXMgdGhlIHZhbHVlIHBhcmFtZXRlclwiKX19LG4uRFQ9ZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sdD1bXSxyPTAsaT0wO2k8YXJndW1lbnRzLmxlbmd0aDtpKyspe3ZhciBzPW5ldyBuKGFyZ3VtZW50c1tpXSk7ZS5wdXNoKHMpO2Zvcih2YXIgbz1zLkZUKCksYT0wO2E8by5sZW5ndGg7YSsrKVwic3RyaW5nXCI9PXR5cGVvZiBvW2FdJiZ0LnB1c2gob1thXSksb1thXSYmcisrfWlmKCF0Lmxlbmd0aHx8IXIpcmV0dXJuIG5ldyBuKFwiXCIpO3ZhciBoPW5ldyBuKFwiXCIpLkZUKHQpO3JldHVyblwiXCIhPT1lWzBdLnBhdGgoKSYmXCIvXCIhPT1lWzBdLnBhdGgoKS5zbGljZSgwLDEpfHxoLnBhdGgoXCIvXCIraC5wYXRoKCkpLGgubm9ybWFsaXplKCl9LG4uTFQ9ZnVuY3Rpb24oZSx0KXt2YXIgcixpPU1hdGgubWluKGUubGVuZ3RoLHQubGVuZ3RoKTtmb3Iocj0wO3I8aTtyKyspaWYoZS5jaGFyQXQocikhPT10LmNoYXJBdChyKSl7ci0tO2JyZWFrfXJldHVybiByPDE/ZS5jaGFyQXQoMCk9PT10LmNoYXJBdCgwKSYmXCIvXCI9PT1lLmNoYXJBdCgwKT9cIi9cIjpcIlwiOihcIi9cIj09PWUuY2hhckF0KHIpJiZcIi9cIj09PXQuY2hhckF0KHIpfHwocj1lLnN1YnN0cmluZygwLHIpLmxhc3RJbmRleE9mKFwiL1wiKSksZS5zdWJzdHJpbmcoMCxyKzEpKX0sbi5NVD1mdW5jdGlvbihlLHQscil7cnx8KHI9e30pO3ZhciBpPXIuc3RhcnR8fG4ua0Uuc3RhcnQscz1yLmVuZHx8bi5rRS5lbmQsbz1yLnRyaW18fG4ua0UudHJpbSxhPXIuT0V8fG4ua0UuT0UsaD0vW2EtejAtOS1dPVtcIiddPyQvaTtmb3IoaS5sYXN0SW5kZXg9MDs7KXt2YXIgYz1pLmV4ZWMoZSk7aWYoIWMpYnJlYWs7dmFyIHU9Yy5pbmRleDtpZihyLkJUKXt2YXIgbD1lLnNsaWNlKE1hdGgubWF4KHUtMywwKSx1KTtpZihsJiZoLnRlc3QobCkpY29udGludWV9Zm9yKHZhciBwPXUrZS5zbGljZSh1KS5zZWFyY2gocyksZj1lLnNsaWNlKHUscCksZD0tMTs7KXt2YXIgZz1hLmV4ZWMoZik7aWYoIWcpYnJlYWs7dmFyIHY9Zy5pbmRleCtnWzBdLmxlbmd0aDtkPU1hdGgubWF4KGQsdil9aWYoZj1kPi0xP2Yuc2xpY2UoMCxkKStmLnNsaWNlKGQpLnJlcGxhY2UobyxcIlwiKTpmLnJlcGxhY2UobyxcIlwiKSwhKGYubGVuZ3RoPD1jWzBdLmxlbmd0aHx8ci5VVCYmci5VVC50ZXN0KGYpKSl7cD11K2YubGVuZ3RoO3ZhciB5PXQoZix1LHAsZSk7dm9pZCAwIT09eT8oeT1TdHJpbmcoeSksZT1lLnNsaWNlKDAsdSkreStlLnNsaWNlKHApLGkubGFzdEluZGV4PXUreS5sZW5ndGgpOmkubGFzdEluZGV4PXB9fXJldHVybiBpLmxhc3RJbmRleD0wLGV9LG4ueFQ9ZnVuY3Rpb24odCl7aWYodC5tYXRjaChuLlVFKSl7aWYoIWUpdGhyb3cgbmV3IFR5cGVFcnJvcignSG9zdG5hbWUgXCInK3QrJ1wiIGNvbnRhaW5zIGNoYXJhY3RlcnMgb3RoZXIgdGhhbiBbQS1aMC05Li1dIGFuZCBQdW55Y29kZS5qcyBpcyBub3QgYXZhaWxhYmxlJyk7aWYoZS5IVCh0KS5tYXRjaChuLlVFKSl0aHJvdyBuZXcgVHlwZUVycm9yKCdIb3N0bmFtZSBcIicrdCsnXCIgY29udGFpbnMgY2hhcmFjdGVycyBvdGhlciB0aGFuIFtBLVowLTkuLV0nKX19LG4ud3Q9ZnVuY3Rpb24oZSl7aWYoZSl7dmFyIHQ9e0VFOnRoaXMud3QoKX07cmV0dXJuIGkucVQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGkucVQud3QmJih0LnFUPWkucVQud3QoKSksaS5WVCYmXCJmdW5jdGlvblwiPT10eXBlb2YgaS5WVC53dCYmKHQuVlQ9aS5WVC53dCgpKSxpLmpUJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBpLmpULnd0JiYodC5qVD1pLmpULnd0KCkpLHR9cmV0dXJuIGkuRUU9PT10aGlzJiYoaS5FRT12KSx0aGlzfSx5LnNwPWZ1bmN0aW9uKGUpe3JldHVybiEwPT09ZT90aGlzLkdUPSEwOih2b2lkIDA9PT1lfHx0aGlzLkdUKSYmKHRoaXMuUVQ9bi5zcCh0aGlzLm1FKSx0aGlzLkdUPSExKSx0aGlzfSx5LmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBuKHRoaXMpfSx5LnZhbHVlT2Y9eS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNwKCExKS5RVH0seS5wcm90b2NvbD1kKFwicHJvdG9jb2xcIikseS51c2VybmFtZT1kKFwidXNlcm5hbWVcIikseS5wYXNzd29yZD1kKFwicGFzc3dvcmRcIikseS5ob3N0bmFtZT1kKFwiaG9zdG5hbWVcIikseS5wb3J0PWQoXCJwb3J0XCIpLHkuZG49ZyhcInF1ZXJ5XCIsXCI/XCIpLHkuVEU9ZyhcImZyYWdtZW50XCIsXCIjXCIpLHkuc2VhcmNoPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5kbihlLHQpO3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiByJiZyLmxlbmd0aD9cIj9cIityOnJ9LHkuaGFzaD1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuVEUoZSx0KTtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgciYmci5sZW5ndGg/XCIjXCIrcjpyfSx5LnBhdGhuYW1lPWZ1bmN0aW9uKGUsdCl7aWYodm9pZCAwPT09ZXx8ITA9PT1lKXt2YXIgcj10aGlzLm1FLnBhdGh8fCh0aGlzLm1FLmhvc3RuYW1lP1wiL1wiOlwiXCIpO3JldHVybiBlPyh0aGlzLm1FLnVybj9uLnlUOm4udlQpKHIpOnJ9cmV0dXJuIHRoaXMubUUudXJuP3RoaXMubUUucGF0aD1lP24uRVQoZSk6XCJcIjp0aGlzLm1FLnBhdGg9ZT9uLm1UKGUpOlwiL1wiLHRoaXMuc3AoIXQpLHRoaXN9LHkucGF0aD15LnBhdGhuYW1lLHkuaHJlZj1mdW5jdGlvbihlLHQpe3ZhciByO2lmKHZvaWQgMD09PWUpcmV0dXJuIHRoaXMudG9TdHJpbmcoKTt0aGlzLlFUPVwiXCIsdGhpcy5tRT1uLm1FKCk7dmFyIGk9ZSBpbnN0YW5jZW9mIG4scz1cIm9iamVjdFwiPT10eXBlb2YgZSYmKGUuaG9zdG5hbWV8fGUucGF0aHx8ZS5wYXRobmFtZSk7aWYoZS5ub2RlTmFtZSl7ZT1lW24uekUoZSldfHxcIlwiLHM9ITF9aWYoIWkmJnMmJnZvaWQgMCE9PWUucGF0aG5hbWUmJihlPWUudG9TdHJpbmcoKSksXCJzdHJpbmdcIj09dHlwZW9mIGV8fGUgaW5zdGFuY2VvZiBTdHJpbmcpdGhpcy5tRT1uLnBhcnNlKFN0cmluZyhlKSx0aGlzLm1FKTtlbHNle2lmKCFpJiYhcyl0aHJvdyBuZXcgVHlwZUVycm9yKFwiaW52YWxpZCBpbnB1dFwiKTt2YXIgbz1pP2UubUU6ZTtmb3IociBpbiBvKW0uY2FsbCh0aGlzLm1FLHIpJiYodGhpcy5tRVtyXT1vW3JdKX1yZXR1cm4gdGhpcy5zcCghdCksdGhpc30seS5pcz1mdW5jdGlvbihlKXt2YXIgdD0hMSxpPSExLHM9ITEsbz0hMSxhPSExLGg9ITEsYz0hMSx1PSF0aGlzLm1FLnVybjtzd2l0Y2godGhpcy5tRS5ob3N0bmFtZSYmKHU9ITEsaT1uLlBFLnRlc3QodGhpcy5tRS5ob3N0bmFtZSkscz1uLkFFLnRlc3QodGhpcy5tRS5ob3N0bmFtZSksdD1pfHxzLG89IXQsYT1vJiZyJiZyLmhhcyh0aGlzLm1FLmhvc3RuYW1lKSxoPW8mJm4uUkUudGVzdCh0aGlzLm1FLmhvc3RuYW1lKSxjPW8mJm4uYkUudGVzdCh0aGlzLm1FLmhvc3RuYW1lKSksZS50b0xvd2VyQ2FzZSgpKXtjYXNlXCJyZWxhdGl2ZVwiOnJldHVybiB1O2Nhc2VcImFic29sdXRlXCI6cmV0dXJuIXU7Y2FzZVwiZG9tYWluXCI6Y2FzZVwibmFtZVwiOnJldHVybiBvO2Nhc2VcInNsZFwiOnJldHVybiBhO2Nhc2VcImlwXCI6cmV0dXJuIHQ7Y2FzZVwiaXA0XCI6Y2FzZVwiaXB2NFwiOmNhc2VcImluZXQ0XCI6cmV0dXJuIGk7Y2FzZVwiaXA2XCI6Y2FzZVwiaXB2NlwiOmNhc2VcImluZXQ2XCI6cmV0dXJuIHM7Y2FzZVwiaWRuXCI6cmV0dXJuIGg7Y2FzZVwidXJsXCI6cmV0dXJuIXRoaXMubUUudXJuO2Nhc2VcInVyblwiOnJldHVybiEhdGhpcy5tRS51cm47Y2FzZVwicHVueWNvZGVcIjpyZXR1cm4gY31yZXR1cm4gbnVsbH07dmFyIFM9eS5wcm90b2NvbCxSPXkucG9ydCxiPXkuaG9zdG5hbWU7eS5wcm90b2NvbD1mdW5jdGlvbihlLHQpe2lmKHZvaWQgMCE9PWUmJmUmJihlPWUucmVwbGFjZSgvOihcXC9cXC8pPyQvLFwiXCIpLCFlLm1hdGNoKG4uU0UpKSl0aHJvdyBuZXcgVHlwZUVycm9yKCdQcm90b2NvbCBcIicrZStcIlxcXCIgY29udGFpbnMgY2hhcmFjdGVycyBvdGhlciB0aGFuIFtBLVowLTkuKy1dIG9yIGRvZXNuJ3Qgc3RhcnQgd2l0aCBbQS1aXVwiKTtyZXR1cm4gUy5jYWxsKHRoaXMsZSx0KX0seS5zY2hlbWU9eS5wcm90b2NvbCx5LnBvcnQ9ZnVuY3Rpb24oZSx0KXtpZih0aGlzLm1FLnVybilyZXR1cm4gdm9pZCAwPT09ZT9cIlwiOnRoaXM7aWYodm9pZCAwIT09ZSYmKDA9PT1lJiYoZT1udWxsKSxlJiYoZSs9XCJcIixcIjpcIj09PWUuY2hhckF0KDApJiYoZT1lLnN1YnN0cmluZygxKSksZS5tYXRjaCgvW14wLTldLykpKSl0aHJvdyBuZXcgVHlwZUVycm9yKCdQb3J0IFwiJytlKydcIiBjb250YWlucyBjaGFyYWN0ZXJzIG90aGVyIHRoYW4gWzAtOV0nKTtyZXR1cm4gUi5jYWxsKHRoaXMsZSx0KX0seS5ob3N0bmFtZT1mdW5jdGlvbihlLHQpe2lmKHRoaXMubUUudXJuKXJldHVybiB2b2lkIDA9PT1lP1wiXCI6dGhpcztpZih2b2lkIDAhPT1lKXt2YXIgcj17fTtpZihcIi9cIiE9PW4ud1QoZSxyKSl0aHJvdyBuZXcgVHlwZUVycm9yKCdIb3N0bmFtZSBcIicrZSsnXCIgY29udGFpbnMgY2hhcmFjdGVycyBvdGhlciB0aGFuIFtBLVowLTkuLV0nKTtlPXIuaG9zdG5hbWV9cmV0dXJuIGIuY2FsbCh0aGlzLGUsdCl9LHkub3JpZ2luPWZ1bmN0aW9uKGUsdCl7aWYodGhpcy5tRS51cm4pcmV0dXJuIHZvaWQgMD09PWU/XCJcIjp0aGlzO2lmKHZvaWQgMD09PWUpe3ZhciByPXRoaXMucHJvdG9jb2woKTtyZXR1cm4gdGhpcy5LVCgpPyhyP3IrXCI6Ly9cIjpcIlwiKSt0aGlzLktUKCk6XCJcIn12YXIgaT1uKGUpO3JldHVybiB0aGlzLnByb3RvY29sKGkucHJvdG9jb2woKSkuS1QoaS5LVCgpKS5zcCghdCksdGhpc30seS5ob3N0PWZ1bmN0aW9uKGUsdCl7aWYodGhpcy5tRS51cm4pcmV0dXJuIHZvaWQgMD09PWU/XCJcIjp0aGlzO2lmKHZvaWQgMD09PWUpcmV0dXJuIHRoaXMubUUuaG9zdG5hbWU/bi5QVCh0aGlzLm1FKTpcIlwiO2lmKFwiL1wiIT09bi53VChlLHRoaXMubUUpKXRocm93IG5ldyBUeXBlRXJyb3IoJ0hvc3RuYW1lIFwiJytlKydcIiBjb250YWlucyBjaGFyYWN0ZXJzIG90aGVyIHRoYW4gW0EtWjAtOS4tXScpO3JldHVybiB0aGlzLnNwKCF0KSx0aGlzfSx5LktUPWZ1bmN0aW9uKGUsdCl7aWYodGhpcy5tRS51cm4pcmV0dXJuIHZvaWQgMD09PWU/XCJcIjp0aGlzO2lmKHZvaWQgMD09PWUpcmV0dXJuIHRoaXMubUUuaG9zdG5hbWU/bi5iVCh0aGlzLm1FKTpcIlwiO2lmKFwiL1wiIT09bi5JVChlLHRoaXMubUUpKXRocm93IG5ldyBUeXBlRXJyb3IoJ0hvc3RuYW1lIFwiJytlKydcIiBjb250YWlucyBjaGFyYWN0ZXJzIG90aGVyIHRoYW4gW0EtWjAtOS4tXScpO3JldHVybiB0aGlzLnNwKCF0KSx0aGlzfSx5LllUPWZ1bmN0aW9uKGUsdCl7aWYodGhpcy5tRS51cm4pcmV0dXJuIHZvaWQgMD09PWU/XCJcIjp0aGlzO2lmKHZvaWQgMD09PWUpe3ZhciByPW4uQVQodGhpcy5tRSk7cmV0dXJuIHI/ci5zdWJzdHJpbmcoMCxyLmxlbmd0aC0xKTpyfXJldHVyblwiQFwiIT09ZVtlLmxlbmd0aC0xXSYmKGUrPVwiQFwiKSxuLlNUKGUsdGhpcy5tRSksdGhpcy5zcCghdCksdGhpc30seS56VD1mdW5jdGlvbihlLHQpe3ZhciByO3JldHVybiB2b2lkIDA9PT1lP3RoaXMucGF0aCgpK3RoaXMuc2VhcmNoKCkrdGhpcy5oYXNoKCk6KHI9bi5wYXJzZShlKSx0aGlzLm1FLnBhdGg9ci5wYXRoLHRoaXMubUUuZG49ci5kbix0aGlzLm1FLlRFPXIuVEUsdGhpcy5zcCghdCksdGhpcyl9LHkuSlQ9ZnVuY3Rpb24oZSx0KXtpZih0aGlzLm1FLnVybilyZXR1cm4gdm9pZCAwPT09ZT9cIlwiOnRoaXM7aWYodm9pZCAwPT09ZSl7aWYoIXRoaXMubUUuaG9zdG5hbWV8fHRoaXMuaXMoXCJJUFwiKSlyZXR1cm5cIlwiO3ZhciByPXRoaXMubUUuaG9zdG5hbWUubGVuZ3RoLXRoaXMuZG9tYWluKCkubGVuZ3RoLTE7cmV0dXJuIHRoaXMubUUuaG9zdG5hbWUuc3Vic3RyaW5nKDAscil8fFwiXCJ9dmFyIGk9dGhpcy5tRS5ob3N0bmFtZS5sZW5ndGgtdGhpcy5kb21haW4oKS5sZW5ndGgsbz10aGlzLm1FLmhvc3RuYW1lLnN1YnN0cmluZygwLGkpLGE9bmV3IFJlZ0V4cChcIl5cIitzKG8pKTtyZXR1cm4gZSYmXCIuXCIhPT1lLmNoYXJBdChlLmxlbmd0aC0xKSYmKGUrPVwiLlwiKSxlJiZuLnhUKGUpLHRoaXMubUUuaG9zdG5hbWU9dGhpcy5tRS5ob3N0bmFtZS5yZXBsYWNlKGEsZSksdGhpcy5zcCghdCksdGhpc30seS5kb21haW49ZnVuY3Rpb24oZSx0KXtpZih0aGlzLm1FLnVybilyZXR1cm4gdm9pZCAwPT09ZT9cIlwiOnRoaXM7aWYoXCJib29sZWFuXCI9PXR5cGVvZiBlJiYodD1lLGU9dm9pZCAwKSx2b2lkIDA9PT1lKXtpZighdGhpcy5tRS5ob3N0bmFtZXx8dGhpcy5pcyhcIklQXCIpKXJldHVyblwiXCI7dmFyIHI9dGhpcy5tRS5ob3N0bmFtZS5tYXRjaCgvXFwuL2cpO2lmKHImJnIubGVuZ3RoPDIpcmV0dXJuIHRoaXMubUUuaG9zdG5hbWU7dmFyIGk9dGhpcy5tRS5ob3N0bmFtZS5sZW5ndGgtdGhpcy5XVCh0KS5sZW5ndGgtMTtyZXR1cm4gaT10aGlzLm1FLmhvc3RuYW1lLmxhc3RJbmRleE9mKFwiLlwiLGktMSkrMSx0aGlzLm1FLmhvc3RuYW1lLnN1YnN0cmluZyhpKXx8XCJcIn1pZighZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiY2Fubm90IHNldCBkb21haW4gZW1wdHlcIik7aWYobi54VChlKSwhdGhpcy5tRS5ob3N0bmFtZXx8dGhpcy5pcyhcIklQXCIpKXRoaXMubUUuaG9zdG5hbWU9ZTtlbHNle3ZhciBvPW5ldyBSZWdFeHAocyh0aGlzLmRvbWFpbigpKStcIiRcIik7dGhpcy5tRS5ob3N0bmFtZT10aGlzLm1FLmhvc3RuYW1lLnJlcGxhY2UobyxlKX1yZXR1cm4gdGhpcy5zcCghdCksdGhpc30seS5XVD1mdW5jdGlvbihlLHQpe2lmKHRoaXMubUUudXJuKXJldHVybiB2b2lkIDA9PT1lP1wiXCI6dGhpcztpZihcImJvb2xlYW5cIj09dHlwZW9mIGUmJih0PWUsZT12b2lkIDApLHZvaWQgMD09PWUpe2lmKCF0aGlzLm1FLmhvc3RuYW1lfHx0aGlzLmlzKFwiSVBcIikpcmV0dXJuXCJcIjt2YXIgaT10aGlzLm1FLmhvc3RuYW1lLmxhc3RJbmRleE9mKFwiLlwiKSxuPXRoaXMubUUuaG9zdG5hbWUuc3Vic3RyaW5nKGkrMSk7cmV0dXJuITAhPT10JiZyJiZyLmxpc3Rbbi50b0xvd2VyQ2FzZSgpXT9yLmdldCh0aGlzLm1FLmhvc3RuYW1lKXx8bjpufXZhciBvO2lmKCFlKXRocm93IG5ldyBUeXBlRXJyb3IoXCJjYW5ub3Qgc2V0IFRMRCBlbXB0eVwiKTtpZihlLm1hdGNoKC9bXmEtekEtWjAtOS1dLykpe2lmKCFyfHwhci5pcyhlKSl0aHJvdyBuZXcgVHlwZUVycm9yKCdUTEQgXCInK2UrJ1wiIGNvbnRhaW5zIGNoYXJhY3RlcnMgb3RoZXIgdGhhbiBbQS1aMC05XScpO289bmV3IFJlZ0V4cChzKHRoaXMuV1QoKSkrXCIkXCIpLHRoaXMubUUuaG9zdG5hbWU9dGhpcy5tRS5ob3N0bmFtZS5yZXBsYWNlKG8sZSl9ZWxzZXtpZighdGhpcy5tRS5ob3N0bmFtZXx8dGhpcy5pcyhcIklQXCIpKXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcImNhbm5vdCBzZXQgVExEIG9uIG5vbi1kb21haW4gaG9zdFwiKTtvPW5ldyBSZWdFeHAocyh0aGlzLldUKCkpK1wiJFwiKSx0aGlzLm1FLmhvc3RuYW1lPXRoaXMubUUuaG9zdG5hbWUucmVwbGFjZShvLGUpfXJldHVybiB0aGlzLnNwKCF0KSx0aGlzfSx5LlhUPWZ1bmN0aW9uKGUsdCl7aWYodGhpcy5tRS51cm4pcmV0dXJuIHZvaWQgMD09PWU/XCJcIjp0aGlzO2lmKHZvaWQgMD09PWV8fCEwPT09ZSl7aWYoIXRoaXMubUUucGF0aCYmIXRoaXMubUUuaG9zdG5hbWUpcmV0dXJuXCJcIjtpZihcIi9cIj09PXRoaXMubUUucGF0aClyZXR1cm5cIi9cIjt2YXIgcj10aGlzLm1FLnBhdGgubGVuZ3RoLXRoaXMuZmlsZW5hbWUoKS5sZW5ndGgtMSxpPXRoaXMubUUucGF0aC5zdWJzdHJpbmcoMCxyKXx8KHRoaXMubUUuaG9zdG5hbWU/XCIvXCI6XCJcIik7cmV0dXJuIGU/bi52VChpKTppfXZhciBvPXRoaXMubUUucGF0aC5sZW5ndGgtdGhpcy5maWxlbmFtZSgpLmxlbmd0aCxhPXRoaXMubUUucGF0aC5zdWJzdHJpbmcoMCxvKSxoPW5ldyBSZWdFeHAoXCJeXCIrcyhhKSk7cmV0dXJuIHRoaXMuaXMoXCJyZWxhdGl2ZVwiKXx8KGV8fChlPVwiL1wiKSxcIi9cIiE9PWUuY2hhckF0KDApJiYoZT1cIi9cIitlKSksZSYmXCIvXCIhPT1lLmNoYXJBdChlLmxlbmd0aC0xKSYmKGUrPVwiL1wiKSxlPW4ubVQoZSksdGhpcy5tRS5wYXRoPXRoaXMubUUucGF0aC5yZXBsYWNlKGgsZSksdGhpcy5zcCghdCksdGhpc30seS5maWxlbmFtZT1mdW5jdGlvbihlLHQpe2lmKHRoaXMubUUudXJuKXJldHVybiB2b2lkIDA9PT1lP1wiXCI6dGhpcztpZihcInN0cmluZ1wiIT10eXBlb2YgZSl7aWYoIXRoaXMubUUucGF0aHx8XCIvXCI9PT10aGlzLm1FLnBhdGgpcmV0dXJuXCJcIjt2YXIgcj10aGlzLm1FLnBhdGgubGFzdEluZGV4T2YoXCIvXCIpLGk9dGhpcy5tRS5wYXRoLnN1YnN0cmluZyhyKzEpO3JldHVybiBlP24uWlQoaSk6aX12YXIgbz0hMTtcIi9cIj09PWUuY2hhckF0KDApJiYoZT1lLnN1YnN0cmluZygxKSksZS5tYXRjaCgvXFwuP1xcLy8pJiYobz0hMCk7dmFyIGE9bmV3IFJlZ0V4cChzKHRoaXMuZmlsZW5hbWUoKSkrXCIkXCIpO3JldHVybiBlPW4ubVQoZSksdGhpcy5tRS5wYXRoPXRoaXMubUUucGF0aC5yZXBsYWNlKGEsZSksbz90aGlzLiRUKHQpOnRoaXMuc3AoIXQpLHRoaXN9LHkuc3VmZml4PWZ1bmN0aW9uKGUsdCl7aWYodGhpcy5tRS51cm4pcmV0dXJuIHZvaWQgMD09PWU/XCJcIjp0aGlzO2lmKHZvaWQgMD09PWV8fCEwPT09ZSl7aWYoIXRoaXMubUUucGF0aHx8XCIvXCI9PT10aGlzLm1FLnBhdGgpcmV0dXJuXCJcIjt2YXIgcixpLG89dGhpcy5maWxlbmFtZSgpLGE9by5sYXN0SW5kZXhPZihcIi5cIik7cmV0dXJuLTE9PT1hP1wiXCI6KHI9by5zdWJzdHJpbmcoYSsxKSxpPS9eW2EtejAtOSVdKyQvaS50ZXN0KHIpP3I6XCJcIixlP24uWlQoaSk6aSl9XCIuXCI9PT1lLmNoYXJBdCgwKSYmKGU9ZS5zdWJzdHJpbmcoMSkpO3ZhciBoLGM9dGhpcy5zdWZmaXgoKTtpZihjKWg9ZT9uZXcgUmVnRXhwKHMoYykrXCIkXCIpOm5ldyBSZWdFeHAocyhcIi5cIitjKStcIiRcIik7ZWxzZXtpZighZSlyZXR1cm4gdGhpczt0aGlzLm1FLnBhdGgrPVwiLlwiK24ubVQoZSl9cmV0dXJuIGgmJihlPW4ubVQoZSksdGhpcy5tRS5wYXRoPXRoaXMubUUucGF0aC5yZXBsYWNlKGgsZSkpLHRoaXMuc3AoIXQpLHRoaXN9LHkuRlQ9ZnVuY3Rpb24oZSx0LHIpe3ZhciBpPXRoaXMubUUudXJuP1wiOlwiOlwiL1wiLG49dGhpcy5wYXRoKCkscz1cIi9cIj09PW4uc3Vic3RyaW5nKDAsMSksbz1uLnNwbGl0KGkpO2lmKHZvaWQgMCE9PWUmJlwibnVtYmVyXCIhPXR5cGVvZiBlJiYocj10LHQ9ZSxlPXZvaWQgMCksdm9pZCAwIT09ZSYmXCJudW1iZXJcIiE9dHlwZW9mIGUpdGhyb3cgbmV3IEVycm9yKCdCYWQgc2VnbWVudCBcIicrZSsnXCIsIG11c3QgYmUgMC1iYXNlZCBpbnRlZ2VyJyk7aWYocyYmby5zaGlmdCgpLGU8MCYmKGU9TWF0aC5tYXgoby5sZW5ndGgrZSwwKSksdm9pZCAwPT09dClyZXR1cm4gdm9pZCAwPT09ZT9vOm9bZV07aWYobnVsbD09PWV8fHZvaWQgMD09PW9bZV0paWYoYSh0KSl7bz1bXTtmb3IodmFyIGg9MCxjPXQubGVuZ3RoO2g8YztoKyspKHRbaF0ubGVuZ3RofHxvLmxlbmd0aCYmb1tvLmxlbmd0aC0xXS5sZW5ndGgpJiYoby5sZW5ndGgmJiFvW28ubGVuZ3RoLTFdLmxlbmd0aCYmby5wb3AoKSxvLnB1c2gobCh0W2hdKSkpfWVsc2UodHx8XCJzdHJpbmdcIj09dHlwZW9mIHQpJiYodD1sKHQpLFwiXCI9PT1vW28ubGVuZ3RoLTFdP29bby5sZW5ndGgtMV09dDpvLnB1c2godCkpO2Vsc2UgdD9vW2VdPWwodCk6by5zcGxpY2UoZSwxKTtyZXR1cm4gcyYmby51bnNoaWZ0KFwiXCIpLHRoaXMucGF0aChvLmpvaW4oaSkscil9LHkuZUk9ZnVuY3Rpb24oZSx0LHIpe3ZhciBpLHMsbztpZihcIm51bWJlclwiIT10eXBlb2YgZSYmKHI9dCx0PWUsZT12b2lkIDApLHZvaWQgMD09PXQpe2lmKGk9dGhpcy5GVChlLHQsciksYShpKSlmb3Iocz0wLG89aS5sZW5ndGg7czxvO3MrKylpW3NdPW4uZGVjb2RlKGlbc10pO2Vsc2UgaT12b2lkIDAhPT1pP24uZGVjb2RlKGkpOnZvaWQgMDtyZXR1cm4gaX1pZihhKHQpKWZvcihzPTAsbz10Lmxlbmd0aDtzPG87cysrKXRbc109bi5lbmNvZGUodFtzXSk7ZWxzZSB0PVwic3RyaW5nXCI9PXR5cGVvZiB0fHx0IGluc3RhbmNlb2YgU3RyaW5nP24uZW5jb2RlKHQpOnQ7cmV0dXJuIHRoaXMuRlQoZSx0LHIpfTt2YXIgUD15LmRuO3JldHVybiB5LmRuPWZ1bmN0aW9uKGUsdCl7aWYoITA9PT1lKXJldHVybiBuLlJUKHRoaXMubUUuZG4sdGhpcy5tRS53RSk7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZSl7dmFyIHI9bi5SVCh0aGlzLm1FLmRuLHRoaXMubUUud0UpLGk9ZS5jYWxsKHRoaXMscik7cmV0dXJuIHRoaXMubUUuZG49bi5DVChpfHxyLHRoaXMubUUuSUUsdGhpcy5tRS53RSksdGhpcy5zcCghdCksdGhpc31yZXR1cm4gdm9pZCAwIT09ZSYmXCJzdHJpbmdcIiE9dHlwZW9mIGU/KHRoaXMubUUuZG49bi5DVChlLHRoaXMubUUuSUUsdGhpcy5tRS53RSksdGhpcy5zcCghdCksdGhpcyk6UC5jYWxsKHRoaXMsZSx0KX0seS50ST1mdW5jdGlvbihlLHQscil7dmFyIGk9bi5SVCh0aGlzLm1FLmRuLHRoaXMubUUud0UpO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlfHxlIGluc3RhbmNlb2YgU3RyaW5nKWlbZV09dm9pZCAwIT09dD90Om51bGw7ZWxzZXtpZihcIm9iamVjdFwiIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiVVJJLmFkZFF1ZXJ5KCkgYWNjZXB0cyBhbiBvYmplY3QsIHN0cmluZyBhcyB0aGUgbmFtZSBwYXJhbWV0ZXJcIik7Zm9yKHZhciBzIGluIGUpbS5jYWxsKGUscykmJihpW3NdPWVbc10pfXJldHVybiB0aGlzLm1FLmRuPW4uQ1QoaSx0aGlzLm1FLklFLHRoaXMubUUud0UpLFwic3RyaW5nXCIhPXR5cGVvZiBlJiYocj10KSx0aGlzLnNwKCFyKSx0aGlzfSx5Lk9UPWZ1bmN0aW9uKGUsdCxyKXt2YXIgaT1uLlJUKHRoaXMubUUuZG4sdGhpcy5tRS53RSk7cmV0dXJuIG4uT1QoaSxlLHZvaWQgMD09PXQ/bnVsbDp0KSx0aGlzLm1FLmRuPW4uQ1QoaSx0aGlzLm1FLklFLHRoaXMubUUud0UpLFwic3RyaW5nXCIhPXR5cGVvZiBlJiYocj10KSx0aGlzLnNwKCFyKSx0aGlzfSx5Ll9UPWZ1bmN0aW9uKGUsdCxyKXt2YXIgaT1uLlJUKHRoaXMubUUuZG4sdGhpcy5tRS53RSk7cmV0dXJuIG4uX1QoaSxlLHQpLHRoaXMubUUuZG49bi5DVChpLHRoaXMubUUuSUUsdGhpcy5tRS53RSksXCJzdHJpbmdcIiE9dHlwZW9mIGUmJihyPXQpLHRoaXMuc3AoIXIpLHRoaXN9LHkuTlQ9ZnVuY3Rpb24oZSx0LHIpe3ZhciBpPW4uUlQodGhpcy5tRS5kbix0aGlzLm1FLndFKTtyZXR1cm4gbi5OVChpLGUsdCxyKX0seS5yST15LnRJLHkuaUk9eS5PVCx5Lm5JPXkuX1QseS5zST15Lk5ULHkubm9ybWFsaXplPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubUUudXJuP3RoaXMuaEkoITEpLiRUKCExKS5hSSghMSkub0koITEpLnNwKCk6dGhpcy5oSSghMSkudUkoITEpLmNJKCExKS4kVCghMSkuYUkoITEpLm9JKCExKS5zcCgpfSx5LmhJPWZ1bmN0aW9uKGUpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiB0aGlzLm1FLnByb3RvY29sJiYodGhpcy5tRS5wcm90b2NvbD10aGlzLm1FLnByb3RvY29sLnRvTG93ZXJDYXNlKCksdGhpcy5zcCghZSkpLHRoaXN9LHkudUk9ZnVuY3Rpb24ocil7cmV0dXJuIHRoaXMubUUuaG9zdG5hbWUmJih0aGlzLmlzKFwiSUROXCIpJiZlP3RoaXMubUUuaG9zdG5hbWU9ZS5IVCh0aGlzLm1FLmhvc3RuYW1lKTp0aGlzLmlzKFwiSVB2NlwiKSYmdCYmKHRoaXMubUUuaG9zdG5hbWU9dC5sSSh0aGlzLm1FLmhvc3RuYW1lKSksdGhpcy5tRS5ob3N0bmFtZT10aGlzLm1FLmhvc3RuYW1lLnRvTG93ZXJDYXNlKCksdGhpcy5zcCghcikpLHRoaXN9LHkuY0k9ZnVuY3Rpb24oZSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHRoaXMubUUucHJvdG9jb2wmJnRoaXMubUUucG9ydD09PW4uX0VbdGhpcy5tRS5wcm90b2NvbF0mJih0aGlzLm1FLnBvcnQ9bnVsbCx0aGlzLnNwKCFlKSksdGhpc30seS4kVD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLm1FLnBhdGg7aWYoIXQpcmV0dXJuIHRoaXM7aWYodGhpcy5tRS51cm4pcmV0dXJuIHRoaXMubUUucGF0aD1uLkVUKHRoaXMubUUucGF0aCksdGhpcy5zcCghZSksdGhpcztpZihcIi9cIj09PXRoaXMubUUucGF0aClyZXR1cm4gdGhpczt0PW4ubVQodCk7dmFyIHIsaSxzLG89XCJcIjtmb3IoXCIvXCIhPT10LmNoYXJBdCgwKSYmKHI9ITAsdD1cIi9cIit0KSxcIi8uLlwiIT09dC5zbGljZSgtMykmJlwiLy5cIiE9PXQuc2xpY2UoLTIpfHwodCs9XCIvXCIpLHQ9dC5yZXBsYWNlKC8oXFwvKFxcLlxcLykrKXwoXFwvXFwuJCkvZyxcIi9cIikucmVwbGFjZSgvXFwvezIsfS9nLFwiL1wiKSxyJiYobz10LnN1YnN0cmluZygxKS5tYXRjaCgvXihcXC5cXC5cXC8pKy8pfHxcIlwiKSYmKG89b1swXSk7Oyl7aWYoLTE9PT0oaT10LnNlYXJjaCgvXFwvXFwuXFwuKFxcL3wkKS8pKSlicmVhazswIT09aT8ocz10LnN1YnN0cmluZygwLGkpLmxhc3RJbmRleE9mKFwiL1wiKSwtMT09PXMmJihzPWkpLHQ9dC5zdWJzdHJpbmcoMCxzKSt0LnN1YnN0cmluZyhpKzMpKTp0PXQuc3Vic3RyaW5nKDMpfXJldHVybiByJiZ0aGlzLmlzKFwicmVsYXRpdmVcIikmJih0PW8rdC5zdWJzdHJpbmcoMSkpLHRoaXMubUUucGF0aD10LHRoaXMuc3AoIWUpLHRoaXN9LHkucEk9eS4kVCx5LmFJPWZ1bmN0aW9uKGUpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiB0aGlzLm1FLmRuJiYodGhpcy5tRS5kbi5sZW5ndGg/dGhpcy5kbihuLlJUKHRoaXMubUUuZG4sdGhpcy5tRS53RSkpOnRoaXMubUUuZG49bnVsbCx0aGlzLnNwKCFlKSksdGhpc30seS5vST1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5tRS5URXx8KHRoaXMubUUuVEU9bnVsbCx0aGlzLnNwKCFlKSksdGhpc30seS5mST15LmFJLHkuZEk9eS5vSSx5LkpFPWZ1bmN0aW9uKCl7dmFyIGU9bi5lbmNvZGUsdD1uLmRlY29kZTtuLmVuY29kZT1lc2NhcGUsbi5kZWNvZGU9ZGVjb2RlVVJJQ29tcG9uZW50O3RyeXt0aGlzLm5vcm1hbGl6ZSgpfWZpbmFsbHl7bi5lbmNvZGU9ZSxuLmRlY29kZT10fXJldHVybiB0aGlzfSx5LldFPWZ1bmN0aW9uKCl7dmFyIGU9bi5lbmNvZGUsdD1uLmRlY29kZTtuLmVuY29kZT1mLG4uZGVjb2RlPXVuZXNjYXBlO3RyeXt0aGlzLm5vcm1hbGl6ZSgpfWZpbmFsbHl7bi5lbmNvZGU9ZSxuLmRlY29kZT10fXJldHVybiB0aGlzfSx5LmdJPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5jbG9uZSgpO3QudXNlcm5hbWUoXCJcIikucGFzc3dvcmQoXCJcIikubm9ybWFsaXplKCk7dmFyIHI9XCJcIjtpZih0Lm1FLnByb3RvY29sJiYocis9dC5tRS5wcm90b2NvbCtcIjovL1wiKSx0Lm1FLmhvc3RuYW1lJiYodC5pcyhcInB1bnljb2RlXCIpJiZlPyhyKz1lLnZJKHQubUUuaG9zdG5hbWUpLHQubUUucG9ydCYmKHIrPVwiOlwiK3QubUUucG9ydCkpOnIrPXQuaG9zdCgpKSx0Lm1FLmhvc3RuYW1lJiZ0Lm1FLnBhdGgmJlwiL1wiIT09dC5tRS5wYXRoLmNoYXJBdCgwKSYmKHIrPVwiL1wiKSxyKz10LnBhdGgoITApLHQubUUuZG4pe2Zvcih2YXIgaT1cIlwiLHM9MCxvPXQubUUuZG4uc3BsaXQoXCImXCIpLGE9by5sZW5ndGg7czxhO3MrKyl7dmFyIGg9KG9bc118fFwiXCIpLnNwbGl0KFwiPVwiKTtpKz1cIiZcIituLmdUKGhbMF0sdGhpcy5tRS53RSkucmVwbGFjZSgvJi9nLFwiJTI2XCIpLHZvaWQgMCE9PWhbMV0mJihpKz1cIj1cIituLmdUKGhbMV0sdGhpcy5tRS53RSkucmVwbGFjZSgvJi9nLFwiJTI2XCIpKX1yKz1cIj9cIitpLnN1YnN0cmluZygxKX1yZXR1cm4gcis9bi5nVCh0Lmhhc2goKSwhMCl9LHkuQmk9ZnVuY3Rpb24oZSl7dmFyIHQscixpLHM9dGhpcy5jbG9uZSgpLG89W1wicHJvdG9jb2xcIixcInVzZXJuYW1lXCIsXCJwYXNzd29yZFwiLFwiaG9zdG5hbWVcIixcInBvcnRcIl07aWYodGhpcy5tRS51cm4pdGhyb3cgbmV3IEVycm9yKFwiVVJOcyBkbyBub3QgaGF2ZSBhbnkgZ2VuZXJhbGx5IGRlZmluZWQgaGllcmFyY2hpY2FsIGNvbXBvbmVudHNcIik7aWYoZSBpbnN0YW5jZW9mIG58fChlPW5ldyBuKGUpKSxzLm1FLnByb3RvY29sKXJldHVybiBzO2lmKHMubUUucHJvdG9jb2w9ZS5tRS5wcm90b2NvbCx0aGlzLm1FLmhvc3RuYW1lKXJldHVybiBzO2ZvcihyPTA7aT1vW3JdO3IrKylzLm1FW2ldPWUubUVbaV07cmV0dXJuIHMubUUucGF0aD8oXCIuLlwiPT09cy5tRS5wYXRoLnN1YnN0cmluZygtMikmJihzLm1FLnBhdGgrPVwiL1wiKSxcIi9cIiE9PXMucGF0aCgpLmNoYXJBdCgwKSYmKHQ9ZS5YVCgpLHQ9dHx8KDA9PT1lLnBhdGgoKS5pbmRleE9mKFwiL1wiKT9cIi9cIjpcIlwiKSxzLm1FLnBhdGg9KHQ/dCtcIi9cIjpcIlwiKStzLm1FLnBhdGgscy4kVCgpKSk6KHMubUUucGF0aD1lLm1FLnBhdGgscy5tRS5kbnx8KHMubUUuZG49ZS5tRS5kbikpLHMuc3AoKSxzfSx5LnlJPWZ1bmN0aW9uKGUpe3ZhciB0LHIsaSxzLG8sYT10aGlzLmNsb25lKCkubm9ybWFsaXplKCk7aWYoYS5tRS51cm4pdGhyb3cgbmV3IEVycm9yKFwiVVJOcyBkbyBub3QgaGF2ZSBhbnkgZ2VuZXJhbGx5IGRlZmluZWQgaGllcmFyY2hpY2FsIGNvbXBvbmVudHNcIik7aWYoZT1uZXcgbihlKS5ub3JtYWxpemUoKSx0PWEubUUscj1lLm1FLHM9YS5wYXRoKCksbz1lLnBhdGgoKSxcIi9cIiE9PXMuY2hhckF0KDApKXRocm93IG5ldyBFcnJvcihcIlVSSSBpcyBhbHJlYWR5IHJlbGF0aXZlXCIpO2lmKFwiL1wiIT09by5jaGFyQXQoMCkpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNhbGN1bGF0ZSBhIFVSSSByZWxhdGl2ZSB0byBhbm90aGVyIHJlbGF0aXZlIFVSSVwiKTtpZih0LnByb3RvY29sPT09ci5wcm90b2NvbCYmKHQucHJvdG9jb2w9bnVsbCksdC51c2VybmFtZSE9PXIudXNlcm5hbWV8fHQucGFzc3dvcmQhPT1yLnBhc3N3b3JkKXJldHVybiBhLnNwKCk7aWYobnVsbCE9PXQucHJvdG9jb2x8fG51bGwhPT10LnVzZXJuYW1lfHxudWxsIT09dC5wYXNzd29yZClyZXR1cm4gYS5zcCgpO2lmKHQuaG9zdG5hbWUhPT1yLmhvc3RuYW1lfHx0LnBvcnQhPT1yLnBvcnQpcmV0dXJuIGEuc3AoKTtpZih0Lmhvc3RuYW1lPW51bGwsdC5wb3J0PW51bGwscz09PW8pcmV0dXJuIHQucGF0aD1cIlwiLGEuc3AoKTtpZighKGk9bi5MVChzLG8pKSlyZXR1cm4gYS5zcCgpO3ZhciBoPXIucGF0aC5zdWJzdHJpbmcoaS5sZW5ndGgpLnJlcGxhY2UoL1teXFwvXSokLyxcIlwiKS5yZXBsYWNlKC8uKj9cXC8vZyxcIi4uL1wiKTtyZXR1cm4gdC5wYXRoPWgrdC5wYXRoLnN1YnN0cmluZyhpLmxlbmd0aCl8fFwiLi9cIixhLnNwKCl9LHkuYWU9ZnVuY3Rpb24oZSl7dmFyIHQscixpLHM9dGhpcy5jbG9uZSgpLG89bmV3IG4oZSksaD17fSxjPXt9LGw9e307aWYocy5ub3JtYWxpemUoKSxvLm5vcm1hbGl6ZSgpLHMudG9TdHJpbmcoKT09PW8udG9TdHJpbmcoKSlyZXR1cm4hMDtpZih0PXMuZG4oKSxyPW8uZG4oKSxzLmRuKFwiXCIpLG8uZG4oXCJcIikscy50b1N0cmluZygpIT09by50b1N0cmluZygpKXJldHVybiExO2lmKHQubGVuZ3RoIT09ci5sZW5ndGgpcmV0dXJuITE7aD1uLlJUKHQsdGhpcy5tRS53RSksYz1uLlJUKHIsdGhpcy5tRS53RSk7Zm9yKGkgaW4gaClpZihtLmNhbGwoaCxpKSl7aWYoYShoW2ldKSl7aWYoIXUoaFtpXSxjW2ldKSlyZXR1cm4hMX1lbHNlIGlmKGhbaV0hPT1jW2ldKXJldHVybiExO2xbaV09ITB9Zm9yKGkgaW4gYylpZihtLmNhbGwoYyxpKSYmIWxbaV0pcmV0dXJuITE7cmV0dXJuITB9LHkuSUU9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMubUUuSUU9ISFlLHRoaXN9LHkud0U9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMubUUud0U9ISFlLHRoaXN9LG59KX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXRoaXMmJnRoaXMuTnN8fGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gcigpe3RoaXMuY29uc3RydWN0b3I9ZX1mb3IodmFyIGkgaW4gdCl0Lmhhc093blByb3BlcnR5KGkpJiYoZVtpXT10W2ldKTtlLnByb3RvdHlwZT1udWxsPT09dD9PYmplY3QuY3JlYXRlKHQpOihyLnByb3RvdHlwZT10LnByb3RvdHlwZSxuZXcgcil9LG49cig2OCkscz1yKDY2KSxvPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQocil7dmFyIGk9ZS5jYWxsKHRoaXMscil8fHRoaXM7cmV0dXJuIGkuRE9ORT00LGkuTE9BRElORz0zLGkuSEVBREVSU19SRUNFSVZFRD0yLGkuT1BFTkVEPTEsaS5VTlNFTlQ9MCxpLm1JPSExLGkuaWQ9dC5VbCsrLGl9cmV0dXJuIGkodCxlKSx0LnByb3RvdHlwZS5zZW5kPWZ1bmN0aW9uKCl7aWYodGhpcy5yZWFkeVN0YXRlIT09dGhpcy5PUEVORUQpdGhyb3cgbmV3IEVycm9yKFwiVGhlIG9iamVjdCdzIHN0YXRlIG11c3QgYmUgT1BFTkVELlwiKTtpZighdGhpcy5zZXNzaW9uSWQpe3ZhciBlPU9iamVjdC5rZXlzKHQuRUkpO2UubGVuZ3RoPjAmJih0aGlzLnNlc3Npb25JZD10LkVJW2VbMF1dKX1uLndJLklJKCkuVEkodGhpcyx0aGlzLnNlc3Npb25JZCl9LHQucHJvdG90eXBlLmFib3J0PWZ1bmN0aW9uKCl7bi53SS5JSSgpLmFib3J0KHRoaXMsdGhpcy5zZXNzaW9uSWQpfSx0fShzLlNJKTtvLkVJPXt9LG8uVWw9MCx0LkhpdmVSZXF1ZXN0PW99LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1yKDApLG49cig5KSxzPXIoNSksbz1zLlJ0LndpLGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlLlJlcG9ydGluZz1mdW5jdGlvbigpe3JldHVybiBlLmFwcD1cIlNUQVRTXCIsaS5GcmFtZXdvcmsucmVzb2x2ZShuLlFzLnFzKX0sZS5KYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmFwcH0sZS5nZXRWZXJzaW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmVyc2lvbn0sZX0oKTthLnZlcnNpb249byx0LkhpdmU9YX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIFRocmlmdD17Ukk6XCIwLjkuMlwiLGJJOntBSTowLENJOjEsQk9PTDoyLEJZVEU6MyxrSTozLE9JOjQsX0k6NixOSTo4LERJOjEwLEZJOjExLExJOjExLE1JOjEyLEJJOjEzLFVJOjE0LHhJOjE1LEhJOjE2LHFJOjE3fSxWSTp7akk6MSxHSToyLFFJOjMsS0k6NH0sWUk6ZnVuY3Rpb24oZSl7dmFyIHQ9MDtmb3IodmFyIHIgaW4gZSllLmhhc093blByb3BlcnR5KHIpJiZ0Kys7cmV0dXJuIHR9LHpJOmZ1bmN0aW9uKGUsdCxyKXtmdW5jdGlvbiBpKCl7fWkucHJvdG90eXBlPXQucHJvdG90eXBlLGUucHJvdG90eXBlPW5ldyBpLGUucHJvdG90eXBlLm5hbWU9cnx8XCJcIn19O1RocmlmdC5KST1mdW5jdGlvbihlKXt0aGlzLm1lc3NhZ2U9ZX0sVGhyaWZ0LnpJKFRocmlmdC5KSSxFcnJvcixcIlRFeGNlcHRpb25cIiksVGhyaWZ0LkpJLnByb3RvdHlwZS5XST1mdW5jdGlvbigpe3JldHVybiB0aGlzLm1lc3NhZ2V9LFRocmlmdC5YST17Wkk6MCwkSToxLGV3OjIsdHc6Myxydzo0LGl3OjUsbnc6Nixzdzo3LG93OjgsYXc6OSxodzoxMH0sVGhyaWZ0LmN3PWZ1bmN0aW9uKGUsdCl7dGhpcy5tZXNzYWdlPWUsdGhpcy5jb2RlPVwibnVtYmVyXCI9PXR5cGVvZiB0P3Q6MH0sVGhyaWZ0LnpJKFRocmlmdC5jdyxUaHJpZnQuSkksXCJUQXBwbGljYXRpb25FeGNlcHRpb25cIiksVGhyaWZ0LmN3LnByb3RvdHlwZS5yZWFkPWZ1bmN0aW9uKGUpe2Zvcig7Oyl7dmFyIHQ9ZS51dygpO2lmKHQubHc9PVRocmlmdC5iSS5BSSlicmVhaztzd2l0Y2godC5wdyl7Y2FzZSAxOnQubHc9PVRocmlmdC5iSS5GST8odD1lLmZ3KCksdGhpcy5tZXNzYWdlPXQudmFsdWUpOnQ9ZS5kdyh0Lmx3KTticmVhaztjYXNlIDI6dC5sdz09VGhyaWZ0LmJJLk5JPyh0PWUuZ3coKSx0aGlzLmNvZGU9dC52YWx1ZSk6dD1lLmR3KHQubHcpO2JyZWFrO2RlZmF1bHQ6dD1lLmR3KHQubHcpfWUudncoKX1lLnl3KCl9LFRocmlmdC5jdy5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24oZSl7ZS5tdyhcIlRBcHBsaWNhdGlvbkV4Y2VwdGlvblwiKSx0aGlzLm1lc3NhZ2UmJihlLkV3KFwibWVzc2FnZVwiLFRocmlmdC5iSS5GSSwxKSxlLlR3KHRoaXMuV0koKSksZS5JdygpKSx0aGlzLmNvZGUmJihlLkV3KFwidHlwZVwiLFRocmlmdC5iSS5OSSwyKSxlLnd3KHRoaXMuY29kZSksZS5JdygpKSxlLlN3KCksZS5SdygpfSxUaHJpZnQuY3cucHJvdG90eXBlLmJ3PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29kZX0sVGhyaWZ0Lk1yPVRocmlmdC5Qdz1mdW5jdGlvbihlLHQpe3RoaXMudXJsPWUsdGhpcy5Bdz0wLHRoaXMuQ3c9MCx0aGlzLmt3PXQmJnQua3csdGhpcy5Pdz1cIlwiLHRoaXMuX3c9XCJcIn0sVGhyaWZ0LlB3LnByb3RvdHlwZT17Tnc6ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIG5ldyBYTUxIdHRwUmVxdWVzdH1jYXRjaChlKXt9dHJ5e3JldHVybiBuZXcgQWN0aXZlWE9iamVjdChcIk1zeG1sMi5YTUxIVFRQXCIpfWNhdGNoKGUpe310cnl7cmV0dXJuIG5ldyBBY3RpdmVYT2JqZWN0KFwiTWljcm9zb2Z0LlhNTEhUVFBcIil9Y2F0Y2goZSl7fXRocm93XCJZb3VyIGJyb3dzZXIgZG9lc24ndCBzdXBwb3J0IFhIUi5cIn0sZmx1c2g6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO2lmKGUmJiF0fHx2b2lkIDA9PT10aGlzLnVybHx8XCJcIj09PXRoaXMudXJsKXJldHVybiB0aGlzLk93O3ZhciBpPXRoaXMuTncoKTtpZihpLm92ZXJyaWRlTWltZVR5cGUmJmkub3ZlcnJpZGVNaW1lVHlwZShcImFwcGxpY2F0aW9uL2pzb25cIiksdCYmKGkub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7dmFyIGU9dDtyZXR1cm4gZnVuY3Rpb24oKXs0PT10aGlzLnJlYWR5U3RhdGUmJjIwMD09dGhpcy5zdGF0dXMmJihyLkR3KHRoaXMucmVzcG9uc2VUZXh0KSxlKCkpfX0oKSksaS5vcGVuKFwiUE9TVFwiLHRoaXMudXJsLCEhZSksaS5zZW5kKHRoaXMuT3cpLCFlfHwhdCl7aWYoNCE9aS5yZWFkeVN0YXRlKXRocm93XCJlbmNvdW50ZXJlZCBhbiB1bmtub3duIGFqYXggcmVhZHkgc3RhdGU6IFwiK2kucmVhZHlTdGF0ZTtpZigyMDAhPWkuc3RhdHVzKXRocm93XCJlbmNvdW50ZXJlZCBhIHVua25vd24gcmVxdWVzdCBzdGF0dXM6IFwiK2kuc3RhdHVzO3RoaXMuX3c9aS5yZXNwb25zZVRleHQsdGhpcy5Gdz10aGlzLl93Lmxlbmd0aCx0aGlzLkF3PXRoaXMuX3cubGVuZ3RoLHRoaXMuQ3c9MH19LEx3OmZ1bmN0aW9uKGUsdCxyLGkpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBqUXVlcnl8fHZvaWQgMD09PWpRdWVyeS5Ndyl0aHJvd1wiVGhyaWZ0LmpzIHJlcXVpcmVzIGpRdWVyeSAxLjUrIHRvIHVzZSBhc3luY2hyb25vdXMgcmVxdWVzdHNcIjt2YXIgbj10aGlzO3JldHVybiBqUXVlcnkuQncoe3VybDp0aGlzLnVybCxkYXRhOnQsdHlwZTpcIlBPU1RcIixVdzohMSxjb250ZW50VHlwZTpcImFwcGxpY2F0aW9uL2pzb25cIix4dzpcInRleHQgdGhyaWZ0XCIsSHc6e3F3OmZ1bmN0aW9uKHQpe3JldHVybiBuLkR3KHQpLGkuY2FsbChlKX19LGNvbnRleHQ6ZSxzdWNjZXNzOmpRdWVyeS5WdyhyKS5wb3AoKX0pfSxEdzpmdW5jdGlvbihlKXt0aGlzLl93PWUsdGhpcy5Gdz10aGlzLl93Lmxlbmd0aCx0aGlzLkF3PXRoaXMuX3cubGVuZ3RoLHRoaXMuQ3c9MH0saXNPcGVuOmZ1bmN0aW9uKCl7cmV0dXJuITB9LG9wZW46ZnVuY3Rpb24oKXt9LGNsb3NlOmZ1bmN0aW9uKCl7fSxyZWFkOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuQXctdGhpcy5DdztpZigwPT09dClyZXR1cm5cIlwiO3ZhciByPWU7dDxlJiYocj10KTt2YXIgaT10aGlzLmp3LnN1YnN0cih0aGlzLkN3LHIpO3JldHVybiB0aGlzLkN3Kz1yLGl9LEd3OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3d9LHdyaXRlOmZ1bmN0aW9uKGUpe3RoaXMuT3c9ZX0sUXc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5Pd319LFRocmlmdC5Ldz1mdW5jdGlvbihlKXt0aGlzLll3KGUpfSxUaHJpZnQuS3cucHJvdG90eXBlPXtZdzpmdW5jdGlvbihlKXt0aGlzLnVybD1lLHRoaXMuenc9bnVsbCx0aGlzLmNhbGxiYWNrcz1bXSx0aGlzLkp3PVtdLHRoaXMuT3c9XCJcIix0aGlzLl93PVwiXCIsdGhpcy5Xdz0wLHRoaXMuWHc9MH0sZmx1c2g6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3RoaXMuaXNPcGVuKCk/KHRoaXMuencuc2VuZCh0aGlzLk93KSx0aGlzLmNhbGxiYWNrcy5wdXNoKGZ1bmN0aW9uKCl7dmFyIGU9dDtyZXR1cm4gZnVuY3Rpb24odCl7ci5Edyh0KSxlKCl9fSgpKSk6dGhpcy5Kdy5wdXNoKHtadzp0aGlzLk93LCR3OnR9KX0sZVM6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuSncubGVuZ3RoPjAmJih0aGlzLkp3LmZvckVhY2goZnVuY3Rpb24odCl7dGhpcy56dy5zZW5kKHQuWncpLHRoaXMuY2FsbGJhY2tzLnB1c2goZnVuY3Rpb24oKXt2YXIgcj10LiR3O3JldHVybiBmdW5jdGlvbih0KXtlLkR3KHQpLHIoKX19KCkpfSksdGhpcy5Kdz1bXSl9LHRTOmZ1bmN0aW9uKGUpe3RoaXMuWXcodGhpcy51cmwpfSxyUzpmdW5jdGlvbihlKXt0aGlzLmNhbGxiYWNrcy5sZW5ndGgmJnRoaXMuY2FsbGJhY2tzLnNoaWZ0KCkoZS5kYXRhKX0saVM6ZnVuY3Rpb24oZSl7Y29uc29sZS5sb2coXCJUaHJpZnQgV2ViU29ja2V0IEVycm9yOiBcIitlLnRvU3RyaW5nKCkpLHRoaXMuencuY2xvc2UoKX0sRHc6ZnVuY3Rpb24oZSl7dGhpcy5fdz1lLHRoaXMuRnc9dGhpcy5fdy5sZW5ndGgsdGhpcy5Bdz10aGlzLl93Lmxlbmd0aCx0aGlzLkN3PTB9LGlzT3BlbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLnp3JiZ0aGlzLnp3LnJlYWR5U3RhdGU9PXRoaXMuencuT1BFTn0sb3BlbjpmdW5jdGlvbigpe3RoaXMuencmJnRoaXMuencucmVhZHlTdGF0ZSE9dGhpcy56dy5DTE9TRUR8fCh0aGlzLnp3PW5ldyBXZWJTb2NrZXQodGhpcy51cmwpLHRoaXMuencub25vcGVuPXRoaXMuZVMuYmluZCh0aGlzKSx0aGlzLnp3Lm9ubWVzc2FnZT10aGlzLnJTLmJpbmQodGhpcyksdGhpcy56dy5vbmVycm9yPXRoaXMuaVMuYmluZCh0aGlzKSx0aGlzLnp3Lm9uY2xvc2U9dGhpcy50Uy5iaW5kKHRoaXMpKX0sY2xvc2U6ZnVuY3Rpb24oKXt0aGlzLnp3LmNsb3NlKCl9LHJlYWQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5Bdy10aGlzLkN3O2lmKDA9PT10KXJldHVyblwiXCI7dmFyIHI9ZTt0PGUmJihyPXQpO3ZhciBpPXRoaXMuancuc3Vic3RyKHRoaXMuQ3cscik7cmV0dXJuIHRoaXMuQ3crPXIsaX0sR3c6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fd30sd3JpdGU6ZnVuY3Rpb24oZSl7dGhpcy5Pdz1lfSxRdzpmdW5jdGlvbigpe3JldHVybiB0aGlzLk93fX0sVGhyaWZ0Lm5TPVRocmlmdC5zUz1mdW5jdGlvbihlKXt0aGlzLlBsPWV9LFRocmlmdC5zUy5iST17fSxUaHJpZnQuc1MuYklbVGhyaWZ0LmJJLkJPT0xdPSdcInRmXCInLFRocmlmdC5zUy5iSVtUaHJpZnQuYkkuQllURV09J1wiaThcIicsVGhyaWZ0LnNTLmJJW1RocmlmdC5iSS5fSV09J1wiaTE2XCInLFRocmlmdC5zUy5iSVtUaHJpZnQuYkkuTkldPSdcImkzMlwiJyxUaHJpZnQuc1MuYklbVGhyaWZ0LmJJLkRJXT0nXCJpNjRcIicsVGhyaWZ0LnNTLmJJW1RocmlmdC5iSS5PSV09J1wiZGJsXCInLFRocmlmdC5zUy5iSVtUaHJpZnQuYkkuTUldPSdcInJlY1wiJyxUaHJpZnQuc1MuYklbVGhyaWZ0LmJJLkZJXT0nXCJzdHJcIicsVGhyaWZ0LnNTLmJJW1RocmlmdC5iSS5CSV09J1wibWFwXCInLFRocmlmdC5zUy5iSVtUaHJpZnQuYkkueEldPSdcImxzdFwiJyxUaHJpZnQuc1MuYklbVGhyaWZ0LmJJLlVJXT0nXCJzZXRcIicsVGhyaWZ0LnNTLm9TPXt9LFRocmlmdC5zUy5vUy5hUz1UaHJpZnQuYkkuQk9PTCxUaHJpZnQuc1Mub1MuaFM9VGhyaWZ0LmJJLkJZVEUsVGhyaWZ0LnNTLm9TLmNTPVRocmlmdC5iSS5fSSxUaHJpZnQuc1Mub1MudVM9VGhyaWZ0LmJJLk5JLFRocmlmdC5zUy5vUy5sUz1UaHJpZnQuYkkuREksVGhyaWZ0LnNTLm9TLnBTPVRocmlmdC5iSS5PSSxUaHJpZnQuc1Mub1MuZlM9VGhyaWZ0LmJJLk1JLFRocmlmdC5zUy5vUy5MZz1UaHJpZnQuYkkuRkksVGhyaWZ0LnNTLm9TLm1hcD1UaHJpZnQuYkkuQkksVGhyaWZ0LnNTLm9TLmRTPVRocmlmdC5iSS54SSxUaHJpZnQuc1Mub1Muc2V0PVRocmlmdC5iSS5VSSxUaHJpZnQuc1MuUkk9MSxUaHJpZnQuc1MucHJvdG90eXBlPXtnUzpmdW5jdGlvbigpe3JldHVybiB0aGlzLlBsfSx2UzpmdW5jdGlvbihlLHQscil7dGhpcy55Uz1bXSx0aGlzLm1TPVtdLHRoaXMueVMucHVzaChbVGhyaWZ0LnNTLlJJLCdcIicrZSsnXCInLHQscl0pfSxFUzpmdW5jdGlvbigpe3ZhciBlPXRoaXMueVMucG9wKCk7dGhpcy5UUz10aGlzLnlTLnBvcCgpLHRoaXMuVFMucHVzaChlKSx0aGlzLklTPVwiW1wiK3RoaXMuVFMuam9pbihcIixcIikrXCJdXCIsdGhpcy5QbC53cml0ZSh0aGlzLklTKX0sbXc6ZnVuY3Rpb24oZSl7dGhpcy5tUy5wdXNoKHRoaXMueVMubGVuZ3RoKSx0aGlzLnlTLnB1c2goe30pfSxSdzpmdW5jdGlvbigpe3ZhciBlPXRoaXMubVMucG9wKCksdD10aGlzLnlTW2VdLHI9XCJ7XCIsaT0hMDtmb3IodmFyIG4gaW4gdClpP2k9ITE6cis9XCIsXCIscis9bitcIjpcIit0W25dO3IrPVwifVwiLHRoaXMueVNbZV09cn0sRXc6ZnVuY3Rpb24oZSx0LHIpe3RoaXMubVMucHVzaCh0aGlzLnlTLmxlbmd0aCksdGhpcy55Uy5wdXNoKHt3UzonXCInK3IrJ1wiJyxTUzpUaHJpZnQuc1MuYklbdF19KX0sSXc6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnlTLnBvcCgpLHQ9dGhpcy55Uy5wb3AoKTt0aGlzLnlTW3RoaXMueVMubGVuZ3RoLTFdW3Qud1NdPVwie1wiK3QuU1MrXCI6XCIrZStcIn1cIix0aGlzLm1TLnBvcCgpfSxTdzpmdW5jdGlvbigpe30sUlM6ZnVuY3Rpb24oZSx0LHIpe3RoaXMubVMucHVzaCh0aGlzLnlTLmxlbmd0aCksdGhpcy55Uy5wdXNoKFtUaHJpZnQuc1MuYklbZV0sVGhyaWZ0LnNTLmJJW3RdLDBdKX0sYlM6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm1TLnBvcCgpO2lmKGUhPXRoaXMueVMubGVuZ3RoKXsodGhpcy55Uy5sZW5ndGgtZS0xKSUyIT0wJiZ0aGlzLnlTLnB1c2goXCJcIik7dmFyIHQ9KHRoaXMueVMubGVuZ3RoLWUtMSkvMjt0aGlzLnlTW2VdW3RoaXMueVNbZV0ubGVuZ3RoLTFdPXQ7Zm9yKHZhciByPVwifVwiLGk9ITA7dGhpcy55Uy5sZW5ndGg+ZSsxOyl7dmFyIG49dGhpcy55Uy5wb3AoKSxzPXRoaXMueVMucG9wKCk7aT9pPSExOnI9XCIsXCIrcixpc05hTihzKXx8KHM9J1wiJytzKydcIicpLHI9cytcIjpcIituK3J9cj1cIntcIityLHRoaXMueVNbZV0ucHVzaChyKSx0aGlzLnlTW2VdPVwiW1wiK3RoaXMueVNbZV0uam9pbihcIixcIikrXCJdXCJ9fSxQUzpmdW5jdGlvbihlLHQpe3RoaXMubVMucHVzaCh0aGlzLnlTLmxlbmd0aCksdGhpcy55Uy5wdXNoKFtUaHJpZnQuc1MuYklbZV0sdF0pfSxDUzpmdW5jdGlvbigpe2Zvcih2YXIgZT10aGlzLm1TLnBvcCgpO3RoaXMueVMubGVuZ3RoPmUrMTspe3ZhciB0PXRoaXMueVNbZSsxXTt0aGlzLnlTLnNwbGljZShlKzEsMSksdGhpcy55U1tlXS5wdXNoKHQpfXRoaXMueVNbZV09XCJbXCIrdGhpcy55U1tlXS5qb2luKFwiLFwiKStcIl1cIn0sa1M6ZnVuY3Rpb24oZSx0KXt0aGlzLm1TLnB1c2godGhpcy55Uy5sZW5ndGgpLHRoaXMueVMucHVzaChbVGhyaWZ0LnNTLmJJW2VdLHRdKX0sT1M6ZnVuY3Rpb24oKXtmb3IodmFyIGU9dGhpcy5tUy5wb3AoKTt0aGlzLnlTLmxlbmd0aD5lKzE7KXt2YXIgdD10aGlzLnlTW2UrMV07dGhpcy55Uy5zcGxpY2UoZSsxLDEpLHRoaXMueVNbZV0ucHVzaCh0KX10aGlzLnlTW2VdPVwiW1wiK3RoaXMueVNbZV0uam9pbihcIixcIikrXCJdXCJ9LF9TOmZ1bmN0aW9uKGUpe3RoaXMueVMucHVzaChlPzE6MCl9LE5TOmZ1bmN0aW9uKGUpe3RoaXMueVMucHVzaChlKX0sRFM6ZnVuY3Rpb24oZSl7dGhpcy55Uy5wdXNoKGUpfSx3dzpmdW5jdGlvbihlKXt0aGlzLnlTLnB1c2goZSl9LEZTOmZ1bmN0aW9uKGUpe3RoaXMueVMucHVzaChlKX0sTFM6ZnVuY3Rpb24oZSl7dGhpcy55Uy5wdXNoKGUpfSxUdzpmdW5jdGlvbihlKXtpZihudWxsPT09ZSl0aGlzLnlTLnB1c2gobnVsbCk7ZWxzZXtmb3IodmFyIHQ9XCJcIixyPTA7cjxlLmxlbmd0aDtyKyspe3ZhciBpPWUuY2hhckF0KHIpO3QrPSdcIic9PT1pPydcXFxcXCInOlwiXFxcXFwiPT09aT9cIlxcXFxcXFxcXCI6XCJcXGJcIj09PWk/XCJcXFxcYlwiOlwiXFxmXCI9PT1pP1wiXFxcXGZcIjpcIlxcblwiPT09aT9cIlxcXFxuXCI6XCJcXHJcIj09PWk/XCJcXFxcclwiOlwiXFx0XCI9PT1pP1wiXFxcXHRcIjppfXRoaXMueVMucHVzaCgnXCInK3QrJ1wiJyl9fSxNUzpmdW5jdGlvbihlKXt0aGlzLlR3KGUpfSxCUzpmdW5jdGlvbigpe3RoaXMuVVM9W10sdGhpcy5Ddz1bXSxcInVuZGVmaW5lZFwiIT10eXBlb2YgSlNPTiYmXCJmdW5jdGlvblwiPT10eXBlb2YgSlNPTi5wYXJzZT90aGlzLnhTPUpTT04ucGFyc2UodGhpcy5QbC5HdygpKTpcInVuZGVmaW5lZFwiIT10eXBlb2YgalF1ZXJ5P3RoaXMueFM9alF1ZXJ5LkhTKHRoaXMuUGwuR3coKSk6dGhpcy54Uz1ldmFsKHRoaXMuUGwuR3coKSk7dmFyIHI9e30sdmVyc2lvbj10aGlzLnhTLnNoaWZ0KCk7aWYodmVyc2lvbiE9VGhyaWZ0LnNTLlJJKXRocm93XCJXcm9uZyB0aHJpZnQgcHJvdG9jb2wgdmVyc2lvbjogXCIrdmVyc2lvbjtyZXR1cm4gci5xUz10aGlzLnhTLnNoaWZ0KCksci5WUz10aGlzLnhTLnNoaWZ0KCksci5qUz10aGlzLnhTLnNoaWZ0KCksdGhpcy5VUy5wdXNoKHRoaXMueFMuc2hpZnQoKSkscn0sR1M6ZnVuY3Rpb24oKXt9LFFTOmZ1bmN0aW9uKGUpe3ZhciB0PXt9O3JldHVybiB0LnFTPVwiXCIsdGhpcy5VU1t0aGlzLlVTLmxlbmd0aC0xXWluc3RhbmNlb2YgQXJyYXkmJnRoaXMuVVMucHVzaCh0aGlzLlVTW3RoaXMuVVMubGVuZ3RoLTFdLnNoaWZ0KCkpLHR9LHl3OmZ1bmN0aW9uKCl7dGhpcy5VU1t0aGlzLlVTLmxlbmd0aC0yXWluc3RhbmNlb2YgQXJyYXkmJnRoaXMuVVMucG9wKCl9LHV3OmZ1bmN0aW9uKCl7dmFyIGU9e30sdD0tMSxyPVRocmlmdC5iSS5BSTtmb3IodmFyIGkgaW4gdGhpcy5VU1t0aGlzLlVTLmxlbmd0aC0xXSlpZihudWxsIT09aSl7dD1wYXJzZUludChpLDEwKSx0aGlzLkN3LnB1c2godGhpcy5VUy5sZW5ndGgpO3ZhciBuPXRoaXMuVVNbdGhpcy5VUy5sZW5ndGgtMV1bdF07ZGVsZXRlIHRoaXMuVVNbdGhpcy5VUy5sZW5ndGgtMV1bdF0sdGhpcy5VUy5wdXNoKG4pO2JyZWFrfWlmKC0xIT10KWZvcih2YXIgcyBpbiB0aGlzLlVTW3RoaXMuVVMubGVuZ3RoLTFdKW51bGwhPT1UaHJpZnQuc1Mub1Nbc10mJihyPVRocmlmdC5zUy5vU1tzXSx0aGlzLlVTW3RoaXMuVVMubGVuZ3RoLTFdPXRoaXMuVVNbdGhpcy5VUy5sZW5ndGgtMV1bc10pO3JldHVybiBlLnFTPVwiXCIsZS5sdz1yLGUucHc9dCxlfSx2dzpmdW5jdGlvbigpe2Zvcih2YXIgZT10aGlzLkN3LnBvcCgpO3RoaXMuVVMubGVuZ3RoPmU7KXRoaXMuVVMucG9wKCl9LEtTOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5VUy5wb3AoKSx0PWUuc2hpZnQoKTt0IGluc3RhbmNlb2YgQXJyYXkmJih0aGlzLlVTLnB1c2goZSksZT10LHQ9ZS5zaGlmdCgpKTt2YXIgcj17fTtyZXR1cm4gci5ZUz1UaHJpZnQuc1Mub1NbdF0sci56Uz1UaHJpZnQuc1Mub1NbZS5zaGlmdCgpXSxyLnNpemU9ZS5zaGlmdCgpLHRoaXMuQ3cucHVzaCh0aGlzLlVTLmxlbmd0aCksdGhpcy5VUy5wdXNoKGUuc2hpZnQoKSkscn0sSlM6ZnVuY3Rpb24oKXt0aGlzLnZ3KCl9LFdTOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5VU1t0aGlzLlVTLmxlbmd0aC0xXSx0PXt9O3JldHVybiB0LlhTPVRocmlmdC5zUy5vU1tlLnNoaWZ0KCldLHQuc2l6ZT1lLnNoaWZ0KCksdGhpcy5Ddy5wdXNoKHRoaXMuVVMubGVuZ3RoKSx0aGlzLlVTLnB1c2goZSksdH0sWlM6ZnVuY3Rpb24oKXt0aGlzLnZ3KCl9LCRTOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuV1MoZSx0KX0sZVI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5aUygpfSx0UjpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZ3coKTtyZXR1cm4gbnVsbCE9PWUmJlwiMVwiPT1lLnZhbHVlP2UudmFsdWU9ITA6ZS52YWx1ZT0hMSxlfSxyUjpmdW5jdGlvbigpe3JldHVybiB0aGlzLmd3KCl9LGlSOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ3coKX0sZ3c6ZnVuY3Rpb24oZSl7dm9pZCAwPT09ZSYmKGU9dGhpcy5VU1t0aGlzLlVTLmxlbmd0aC0xXSk7dmFyIHQ9e307aWYoZSBpbnN0YW5jZW9mIEFycmF5KTA9PT1lLmxlbmd0aD90LnZhbHVlPXZvaWQgMDp0LnZhbHVlPWUuc2hpZnQoKTtlbHNlIGlmKGUgaW5zdGFuY2VvZiBPYmplY3Qpe2Zvcih2YXIgciBpbiBlKWlmKG51bGwhPT1yKXt0aGlzLlVTLnB1c2goZVtyXSksZGVsZXRlIGVbcl0sdC52YWx1ZT1yO2JyZWFrfX1lbHNlIHQudmFsdWU9ZSx0aGlzLlVTLnBvcCgpO3JldHVybiB0fSxuUjpmdW5jdGlvbigpe3JldHVybiB0aGlzLmd3KCl9LHNSOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ3coKX0sZnc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ndygpfSxvUjpmdW5jdGlvbigpe3JldHVybiB0aGlzLmZ3KCl9LGR3OmZ1bmN0aW9uKGUpe3ZhciB0LHI7c3dpdGNoKGUpe2Nhc2UgVGhyaWZ0LmJJLkFJOnJldHVybiBudWxsO2Nhc2UgVGhyaWZ0LmJJLkJPT0w6cmV0dXJuIHRoaXMudFIoKTtjYXNlIFRocmlmdC5iSS5CWVRFOnJldHVybiB0aGlzLnJSKCk7Y2FzZSBUaHJpZnQuYkkuX0k6cmV0dXJuIHRoaXMuaVIoKTtjYXNlIFRocmlmdC5iSS5OSTpyZXR1cm4gdGhpcy5ndygpO2Nhc2UgVGhyaWZ0LmJJLkRJOnJldHVybiB0aGlzLm5SKCk7Y2FzZSBUaHJpZnQuYkkuT0k6cmV0dXJuIHRoaXMuc1IoKTtjYXNlIFRocmlmdC5iSS5GSTpyZXR1cm4gdGhpcy5mdygpO2Nhc2UgVGhyaWZ0LmJJLk1JOmZvcih0aGlzLlFTKCk7Oyl7aWYodD10aGlzLnV3KCksdC5sdz09VGhyaWZ0LmJJLkFJKWJyZWFrO3RoaXMuZHcodC5sdyksdGhpcy52dygpfXJldHVybiB0aGlzLnl3KCksbnVsbDtjYXNlIFRocmlmdC5iSS5CSTpmb3IodD10aGlzLktTKCkscj0wO3I8dC5zaXplO3IrKylyPjAmJnRoaXMuVVMubGVuZ3RoPnRoaXMuQ3dbdGhpcy5Ddy5sZW5ndGgtMV0rMSYmdGhpcy5VUy5wb3AoKSx0aGlzLmR3KHQuWVMpLHRoaXMuZHcodC56Uyk7cmV0dXJuIHRoaXMuSlMoKSxudWxsO2Nhc2UgVGhyaWZ0LmJJLlVJOmZvcih0PXRoaXMuJFMoKSxyPTA7cjx0LnNpemU7cisrKXRoaXMuZHcodC5YUyk7cmV0dXJuIHRoaXMuZVIoKSxudWxsO2Nhc2UgVGhyaWZ0LmJJLnhJOmZvcih0PXRoaXMuV1MoKSxyPTA7cjx0LnNpemU7cisrKXRoaXMuZHcodC5YUyk7cmV0dXJuIHRoaXMuWlMoKSxudWxsfX19LFRocmlmdC5hUj1mdW5jdGlvbihlLHQscixpKXtUaHJpZnQuc1MuY2FsbCh0aGlzLHQscixpKSx0aGlzLmhSPWV9LFRocmlmdC56SShUaHJpZnQuYVIsVGhyaWZ0LnNTLFwibXVsdGlwbGV4UHJvdG9jb2xcIiksVGhyaWZ0LmFSLnByb3RvdHlwZS52Uz1mdW5jdGlvbihlLHQscil7dD09PVRocmlmdC5WSS5qSXx8dD09PVRocmlmdC5WSS5LST9UaHJpZnQuc1MucHJvdG90eXBlLnZTLmNhbGwodGhpcyx0aGlzLmhSK1wiOlwiK2UsdCxyKTpUaHJpZnQuc1MucHJvdG90eXBlLnZTLmNhbGwodGhpcyxlLHQscil9LFRocmlmdC5jUj1mdW5jdGlvbigpe3RoaXMudVI9MH0sVGhyaWZ0LmNSLnByb3RvdHlwZS5sUj1mdW5jdGlvbihlLHQscil7dC52YyYmKHQ9dC52Yyk7dmFyIGk9dGhpcztyZXR1cm4gdC5wcm90b3R5cGUucFI9ZnVuY3Rpb24oKXtyZXR1cm4gaS51Uis9MSxpLnVSfSxuZXcgdChuZXcgVGhyaWZ0LmFSKGUscikpfSxtb2R1bGUudD1UaHJpZnR9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1yKDEwKSxuPXIoMjUpLHM9bi5zbCxvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQscixpLG4sbyxhLGgpe3RoaXMuZlI9aCx0aGlzLnVybD1lLHRoaXMuZFI9cix0aGlzLmdSPXQsdGhpcy52Uj1pLHRoaXMuZHVyYXRpb249bix0aGlzLmJpdHJhdGU9byx0aGlzLnlSPWE7dmFyIGM9KHRoaXMuZlI/dGhpcy5mUjp0aGlzLnVybCkucmVwbGFjZSgvaHR0cChzKT86XFwvXFwvLyxcIlwiKSx1PXMuVmQoYykudG9TdHJpbmcocy5FZC5UZCk7dGhpcy5tUj11K1wiLVwiK3RoaXMudlIrXCItXCIrdGhpcy5iaXRyYXRlfXJldHVybiBlLnByb3RvdHlwZS5ZdT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdSfSxlLnByb3RvdHlwZS5FUj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnZSfSxlLnByb3RvdHlwZS5UUj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmR1cmF0aW9ufSxlLnByb3RvdHlwZS5JUj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJpdHJhdGV9LGUucHJvdG90eXBlLiR1PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueVJ9LGUucHJvdG90eXBlLndSPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZFJ9LGUucHJvdG90eXBlLnp1PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubVJ9LGUucHJvdG90eXBlLlh1PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudXJsfSxlLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiBpLldzW3RoaXMuWXUoKV0rXCItXCIrdGhpcy56dSgpfSxlfSgpO3QuU1I9b30sZnVuY3Rpb24oZSx0LHIpeyhmdW5jdGlvbihlKXt2YXIgbixzOy8qKlxyXG4gKiBAbGljZW5zZSBCeXRlQnVmZmVyLmpzIChjKSAyMDEzLTIwMTQgRGFuaWVsIFdpcnR6IDxkY29kZUBkY29kZS5pbz5cclxuICogVGhpcyB2ZXJzaW9uIG9mIEJ5dGVCdWZmZXIuanMgdXNlcyBhbiBBcnJheUJ1ZmZlciBhcyBpdHMgYmFja2luZyBidWZmZXIgd2hpY2ggaXMgYWNjZXNzZWQgdGhyb3VnaCBhIERhdGFWaWV3IGFuZCBpc1xyXG4gKiBjb21wYXRpYmxlIHdpdGggbW9kZXJuIGJyb3dzZXJzLlxyXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wXHJcbiAqIHNlZTogaHR0cHM6Ly9naXRodWIuY29tL2Rjb2RlSU8vQnl0ZUJ1ZmZlci5qcyBmb3IgZGV0YWlsc1xyXG4gKi9cclxuIWZ1bmN0aW9uKG8pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGEoZSl7ZnVuY3Rpb24gdChlKXt2YXIgdD0wO3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0PGUubGVuZ3RoP2UuY2hhckNvZGVBdCh0KyspOm51bGx9fWZ1bmN0aW9uIHIoKXt2YXIgZT1bXSx0PVtdO3JldHVybiBmdW5jdGlvbigpe2lmKDA9PT1hcmd1bWVudHMubGVuZ3RoKXJldHVybiB0LmpvaW4oXCJcIikrYS5hcHBseShTdHJpbmcsZSk7ZS5sZW5ndGgrYXJndW1lbnRzLmxlbmd0aD4xMDI0JiYodC5wdXNoKGEuYXBwbHkoU3RyaW5nLGUpKSxlLmxlbmd0aD0wKSxBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShlLGFyZ3VtZW50cyl9fXZhciBuPWZ1bmN0aW9uKGUsdCxyKXtpZih2b2lkIDA9PT1lJiYoZT1uLlJSKSx2b2lkIDA9PT10JiYodD1uLmJSKSx2b2lkIDA9PT1yJiYocj1uLlBSKSwhcil7aWYoKGV8PTApPDApdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgY2FwYWNpdHlcIik7dD0hIXQscj0hIXJ9dGhpcy5idWZmZXI9MD09PWU/bzpuZXcgQXJyYXlCdWZmZXIoZSksdGhpcy52aWV3PTA9PT1lP251bGw6bmV3IERhdGFWaWV3KHRoaXMuYnVmZmVyKSx0aGlzLm9mZnNldD0wLHRoaXMuQVI9LTEsdGhpcy5DUj1lLHRoaXMua1I9dm9pZCAwIT09dCYmISF0LHRoaXMuT1I9ISFyfTtuLlZFUlNJT049XCIzLjUuNVwiLG4uX1I9ITAsbi5OUj0hMSxuLlJSPTE2LG4uYlI9bi5OUixuLlBSPSExLG4uRFI9ZXx8bnVsbDt2YXIgcz1uLnByb3RvdHlwZSxvPW5ldyBBcnJheUJ1ZmZlcigwKSxhPVN0cmluZy5mcm9tQ2hhckNvZGU7bi5GUj1mdW5jdGlvbihlLHQscil7cmV0dXJuIG5ldyBuKGUsdCxyKX0sbi5jb25jYXQ9ZnVuY3Rpb24oZSx0LHIsaSl7XCJib29sZWFuXCIhPXR5cGVvZiB0JiZcInN0cmluZ1wiPT10eXBlb2YgdHx8KGk9cixyPXQsdD12b2lkIDApO2Zvcih2YXIgcyxvPTAsYT0wLGg9ZS5sZW5ndGg7YTxoOysrYSluLkxSKGVbYV0pfHwoZVthXT1uLndyYXAoZVthXSx0KSksKHM9ZVthXS5DUi1lW2FdLm9mZnNldCk+MCYmKG8rPXMpO2lmKDA9PT1vKXJldHVybiBuZXcgbigwLHIsaSk7dmFyIGMsdT1uZXcgbihvLHIsaSksbD1uZXcgVWludDhBcnJheSh1LmJ1ZmZlcik7Zm9yKGE9MDthPGg7KWM9ZVthKytdLChzPWMuQ1ItYy5vZmZzZXQpPD0wfHwobC5zZXQobmV3IFVpbnQ4QXJyYXkoYy5idWZmZXIpLnN1YmFycmF5KGMub2Zmc2V0LGMuQ1IpLHUub2Zmc2V0KSx1Lm9mZnNldCs9cyk7cmV0dXJuIHUuQ1I9dS5vZmZzZXQsdS5vZmZzZXQ9MCx1fSxuLkxSPWZ1bmN0aW9uKGUpe3JldHVybiEwPT09KGUmJmUgaW5zdGFuY2VvZiBuKX0sbi50eXBlPWZ1bmN0aW9uKCl7cmV0dXJuIEFycmF5QnVmZmVyfSxuLndyYXA9ZnVuY3Rpb24oZSx0LHIsbyl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIHQmJihvPXIscj10LHQ9dm9pZCAwKSxcInN0cmluZ1wiPT10eXBlb2YgZSlzd2l0Y2godm9pZCAwPT09dCYmKHQ9XCJ1dGY4XCIpLHQpe2Nhc2VcImJhc2U2NFwiOnJldHVybiBuLk1SKGUscik7Y2FzZVwiaGV4XCI6cmV0dXJuIG4uQlIoZSxyKTtjYXNlXCJiaW5hcnlcIjpyZXR1cm4gbi5VUihlLHIpO2Nhc2VcInV0ZjhcIjpyZXR1cm4gbi54UihlLHIpO2Nhc2VcImRlYnVnXCI6cmV0dXJuIG4uSFIoZSxyKTtkZWZhdWx0OnRocm93IEVycm9yKFwiVW5zdXBwb3J0ZWQgZW5jb2Rpbmc6IFwiK3QpfWlmKG51bGw9PT1lfHxcIm9iamVjdFwiIT10eXBlb2YgZSl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIGJ1ZmZlclwiKTt2YXIgYTtpZihuLkxSKGUpKXJldHVybiBhPXMuY2xvbmUuY2FsbChlKSxhLkFSPS0xLGE7aWYoZSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpYT1uZXcgbigwLHIsbyksZS5sZW5ndGg+MCYmKGEuYnVmZmVyPWUuYnVmZmVyLGEub2Zmc2V0PWUuYnl0ZU9mZnNldCxhLkNSPWUuYnl0ZU9mZnNldCtlLmxlbmd0aCxhLnZpZXc9ZS5sZW5ndGg+MD9uZXcgRGF0YVZpZXcoZS5idWZmZXIpOm51bGwpO2Vsc2UgaWYoZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKWE9bmV3IG4oMCxyLG8pLGUuYnl0ZUxlbmd0aD4wJiYoYS5idWZmZXI9ZSxhLm9mZnNldD0wLGEuQ1I9ZS5ieXRlTGVuZ3RoLGEudmlldz1lLmJ5dGVMZW5ndGg+MD9uZXcgRGF0YVZpZXcoZSk6bnVsbCk7ZWxzZXtpZihcIltvYmplY3QgQXJyYXldXCIhPT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkpdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBidWZmZXJcIik7Zm9yKGE9bmV3IG4oZS5sZW5ndGgscixvKSxhLkNSPWUubGVuZ3RoLGk9MDtpPGUubGVuZ3RoOysraSlhLnZpZXcuc2V0VWludDgoaSxlW2ldKX1yZXR1cm4gYX0scy5xUj1mdW5jdGlvbihlLHQpe3ZhciByPXZvaWQgMD09PXQ7aWYociYmKHQ9dGhpcy5vZmZzZXQpLCF0aGlzLk9SKXtpZihcIm51bWJlclwiIT10eXBlb2YgZXx8ZSUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgdmFsdWU6IFwiK2UrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZihlfD0wLFwibnVtYmVyXCIhPXR5cGVvZiB0fHx0JTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IFwiK3QrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZigodD4+Pj0wKTwwfHx0KzA+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IDAgPD0gXCIrdCtcIiAoKzApIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfXQrPTE7dmFyIGk9dGhpcy5idWZmZXIuYnl0ZUxlbmd0aDtyZXR1cm4gdD5pJiZ0aGlzLnJlc2l6ZSgoaSo9Mik+dD9pOnQpLHQtPTEsdGhpcy52aWV3LnNldEludDgodCxlKSxyJiYodGhpcy5vZmZzZXQrPTEpLHRoaXN9LHMuTlM9cy5xUixzLlZSPWZ1bmN0aW9uKGUpe3ZhciB0PXZvaWQgMD09PWU7aWYodCYmKGU9dGhpcy5vZmZzZXQpLCF0aGlzLk9SKXtpZihcIm51bWJlclwiIT10eXBlb2YgZXx8ZSUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBcIitlK1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKGU+Pj49MCk8MHx8ZSsxPnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiAwIDw9IFwiK2UrXCIgKCsxKSA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX12YXIgcj10aGlzLnZpZXcuZ2V0SW50OChlKTtyZXR1cm4gdCYmKHRoaXMub2Zmc2V0Kz0xKSxyfSxzLnJSPXMuVlIscy5qUj1mdW5jdGlvbihlLHQpe3ZhciByPXZvaWQgMD09PXQ7aWYociYmKHQ9dGhpcy5vZmZzZXQpLCF0aGlzLk9SKXtpZihcIm51bWJlclwiIT10eXBlb2YgZXx8ZSUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgdmFsdWU6IFwiK2UrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZihlPj4+PTAsXCJudW1iZXJcIiE9dHlwZW9mIHR8fHQlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogXCIrdCtcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKCh0Pj4+PTApPDB8fHQrMD50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogMCA8PSBcIit0K1wiICgrMCkgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9dCs9MTt2YXIgaT10aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoO3JldHVybiB0PmkmJnRoaXMucmVzaXplKChpKj0yKT50P2k6dCksdC09MSx0aGlzLnZpZXcuc2V0VWludDgodCxlKSxyJiYodGhpcy5vZmZzZXQrPTEpLHRoaXN9LHMuR1I9ZnVuY3Rpb24oZSl7dmFyIHQ9dm9pZCAwPT09ZTtpZih0JiYoZT10aGlzLm9mZnNldCksIXRoaXMuT1Ipe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlfHxlJTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IFwiK2UrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZigoZT4+Pj0wKTwwfHxlKzE+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IDAgPD0gXCIrZStcIiAoKzEpIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfXZhciByPXRoaXMudmlldy5nZXRVaW50OChlKTtyZXR1cm4gdCYmKHRoaXMub2Zmc2V0Kz0xKSxyfSxzLlFSPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dm9pZCAwPT09dDtpZihyJiYodD10aGlzLm9mZnNldCksIXRoaXMuT1Ipe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlfHxlJTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCB2YWx1ZTogXCIrZStcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKGV8PTAsXCJudW1iZXJcIiE9dHlwZW9mIHR8fHQlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogXCIrdCtcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKCh0Pj4+PTApPDB8fHQrMD50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogMCA8PSBcIit0K1wiICgrMCkgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9dCs9Mjt2YXIgaT10aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoO3JldHVybiB0PmkmJnRoaXMucmVzaXplKChpKj0yKT50P2k6dCksdC09Mix0aGlzLnZpZXcuc2V0SW50MTYodCxlLHRoaXMua1IpLHImJih0aGlzLm9mZnNldCs9MiksdGhpc30scy5LUj1zLlFSLHMuWVI9ZnVuY3Rpb24oZSl7dmFyIHQ9dm9pZCAwPT09ZTtpZih0JiYoZT10aGlzLm9mZnNldCksIXRoaXMuT1Ipe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlfHxlJTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IFwiK2UrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZigoZT4+Pj0wKTwwfHxlKzI+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IDAgPD0gXCIrZStcIiAoKzIpIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfXZhciByPXRoaXMudmlldy5nZXRJbnQxNihlLHRoaXMua1IpO3JldHVybiB0JiYodGhpcy5vZmZzZXQrPTIpLHJ9LHMuelI9cy5ZUixzLkpSPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dm9pZCAwPT09dDtpZihyJiYodD10aGlzLm9mZnNldCksIXRoaXMuT1Ipe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlfHxlJTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCB2YWx1ZTogXCIrZStcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKGU+Pj49MCxcIm51bWJlclwiIT10eXBlb2YgdHx8dCUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBcIit0K1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKHQ+Pj49MCk8MHx8dCswPnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiAwIDw9IFwiK3QrXCIgKCswKSA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX10Kz0yO3ZhciBpPXRoaXMuYnVmZmVyLmJ5dGVMZW5ndGg7cmV0dXJuIHQ+aSYmdGhpcy5yZXNpemUoKGkqPTIpPnQ/aTp0KSx0LT0yLHRoaXMudmlldy5zZXRVaW50MTYodCxlLHRoaXMua1IpLHImJih0aGlzLm9mZnNldCs9MiksdGhpc30scy5XUj1mdW5jdGlvbihlKXt2YXIgdD12b2lkIDA9PT1lO2lmKHQmJihlPXRoaXMub2Zmc2V0KSwhdGhpcy5PUil7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGV8fGUlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogXCIrZStcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKChlPj4+PTApPDB8fGUrMj50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogMCA8PSBcIitlK1wiICgrMikgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9dmFyIHI9dGhpcy52aWV3LmdldFVpbnQxNihlLHRoaXMua1IpO3JldHVybiB0JiYodGhpcy5vZmZzZXQrPTIpLHJ9LHMuWFI9ZnVuY3Rpb24oZSx0KXt2YXIgcj12b2lkIDA9PT10O2lmKHImJih0PXRoaXMub2Zmc2V0KSwhdGhpcy5PUil7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGV8fGUlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIHZhbHVlOiBcIitlK1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoZXw9MCxcIm51bWJlclwiIT10eXBlb2YgdHx8dCUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBcIit0K1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKHQ+Pj49MCk8MHx8dCswPnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiAwIDw9IFwiK3QrXCIgKCswKSA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX10Kz00O3ZhciBpPXRoaXMuYnVmZmVyLmJ5dGVMZW5ndGg7cmV0dXJuIHQ+aSYmdGhpcy5yZXNpemUoKGkqPTIpPnQ/aTp0KSx0LT00LHRoaXMudmlldy5zZXRJbnQzMih0LGUsdGhpcy5rUiksciYmKHRoaXMub2Zmc2V0Kz00KSx0aGlzfSxzLllsPXMuWFIscy5aUj1mdW5jdGlvbihlKXt2YXIgdD12b2lkIDA9PT1lO2lmKHQmJihlPXRoaXMub2Zmc2V0KSwhdGhpcy5PUil7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGV8fGUlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogXCIrZStcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKChlPj4+PTApPDB8fGUrND50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogMCA8PSBcIitlK1wiICgrNCkgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9dmFyIHI9dGhpcy52aWV3LmdldEludDMyKGUsdGhpcy5rUik7cmV0dXJuIHQmJih0aGlzLm9mZnNldCs9NCkscn0scy4kbD1zLlpSLHMuJFI9ZnVuY3Rpb24oZSx0KXt2YXIgcj12b2lkIDA9PT10O2lmKHImJih0PXRoaXMub2Zmc2V0KSwhdGhpcy5PUil7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGV8fGUlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIHZhbHVlOiBcIitlK1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoZT4+Pj0wLFwibnVtYmVyXCIhPXR5cGVvZiB0fHx0JTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IFwiK3QrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZigodD4+Pj0wKTwwfHx0KzA+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IDAgPD0gXCIrdCtcIiAoKzApIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfXQrPTQ7dmFyIGk9dGhpcy5idWZmZXIuYnl0ZUxlbmd0aDtyZXR1cm4gdD5pJiZ0aGlzLnJlc2l6ZSgoaSo9Mik+dD9pOnQpLHQtPTQsdGhpcy52aWV3LnNldFVpbnQzMih0LGUsdGhpcy5rUiksciYmKHRoaXMub2Zmc2V0Kz00KSx0aGlzfSxzLmViPWZ1bmN0aW9uKGUpe3ZhciB0PXZvaWQgMD09PWU7aWYodCYmKGU9dGhpcy5vZmZzZXQpLCF0aGlzLk9SKXtpZihcIm51bWJlclwiIT10eXBlb2YgZXx8ZSUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBcIitlK1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKGU+Pj49MCk8MHx8ZSs0PnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiAwIDw9IFwiK2UrXCIgKCs0KSA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX12YXIgcj10aGlzLnZpZXcuZ2V0VWludDMyKGUsdGhpcy5rUik7cmV0dXJuIHQmJih0aGlzLm9mZnNldCs9NCkscn0sZSYmKHMudGI9ZnVuY3Rpb24odCxyKXt2YXIgaT12b2lkIDA9PT1yO2lmKGkmJihyPXRoaXMub2Zmc2V0KSwhdGhpcy5PUil7aWYoXCJudW1iZXJcIj09dHlwZW9mIHQpdD1lLmRwKHQpO2Vsc2UgaWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpdD1lLmdwKHQpO2Vsc2UgaWYoISh0JiZ0IGluc3RhbmNlb2YgZSkpdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCB2YWx1ZTogXCIrdCtcIiAobm90IGFuIGludGVnZXIgb3IgTG9uZylcIik7aWYoXCJudW1iZXJcIiE9dHlwZW9mIHJ8fHIlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogXCIrcitcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKChyPj4+PTApPDB8fHIrMD50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogMCA8PSBcIityK1wiICgrMCkgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9XCJudW1iZXJcIj09dHlwZW9mIHQ/dD1lLmRwKHQpOlwic3RyaW5nXCI9PXR5cGVvZiB0JiYodD1lLmdwKHQpKSxyKz04O3ZhciBuPXRoaXMuYnVmZmVyLmJ5dGVMZW5ndGg7cmV0dXJuIHI+biYmdGhpcy5yZXNpemUoKG4qPTIpPnI/bjpyKSxyLT04LHRoaXMua1I/KHRoaXMudmlldy5zZXRJbnQzMihyLHQubG93LCEwKSx0aGlzLnZpZXcuc2V0SW50MzIocis0LHQuaGlnaCwhMCkpOih0aGlzLnZpZXcuc2V0SW50MzIocix0LmhpZ2gsITEpLHRoaXMudmlldy5zZXRJbnQzMihyKzQsdC5sb3csITEpKSxpJiYodGhpcy5vZmZzZXQrPTgpLHRoaXN9LHMucmI9cy50YixzLmliPWZ1bmN0aW9uKHQpe3ZhciByPXZvaWQgMD09PXQ7aWYociYmKHQ9dGhpcy5vZmZzZXQpLCF0aGlzLk9SKXtpZihcIm51bWJlclwiIT10eXBlb2YgdHx8dCUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBcIit0K1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKHQ+Pj49MCk8MHx8dCs4PnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiAwIDw9IFwiK3QrXCIgKCs4KSA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX12YXIgaT10aGlzLmtSP25ldyBlKHRoaXMudmlldy5nZXRJbnQzMih0LCEwKSx0aGlzLnZpZXcuZ2V0SW50MzIodCs0LCEwKSwhMSk6bmV3IGUodGhpcy52aWV3LmdldEludDMyKHQrNCwhMSksdGhpcy52aWV3LmdldEludDMyKHQsITEpLCExKTtyZXR1cm4gciYmKHRoaXMub2Zmc2V0Kz04KSxpfSxzLm5iPXMuaWIscy5zYj1mdW5jdGlvbih0LHIpe3ZhciBpPXZvaWQgMD09PXI7aWYoaSYmKHI9dGhpcy5vZmZzZXQpLCF0aGlzLk9SKXtpZihcIm51bWJlclwiPT10eXBlb2YgdCl0PWUuZHAodCk7ZWxzZSBpZihcInN0cmluZ1wiPT10eXBlb2YgdCl0PWUuZ3AodCk7ZWxzZSBpZighKHQmJnQgaW5zdGFuY2VvZiBlKSl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIHZhbHVlOiBcIit0K1wiIChub3QgYW4gaW50ZWdlciBvciBMb25nKVwiKTtpZihcIm51bWJlclwiIT10eXBlb2Ygcnx8ciUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBcIityK1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKHI+Pj49MCk8MHx8ciswPnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiAwIDw9IFwiK3IrXCIgKCswKSA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX1cIm51bWJlclwiPT10eXBlb2YgdD90PWUuZHAodCk6XCJzdHJpbmdcIj09dHlwZW9mIHQmJih0PWUuZ3AodCkpLHIrPTg7dmFyIG49dGhpcy5idWZmZXIuYnl0ZUxlbmd0aDtyZXR1cm4gcj5uJiZ0aGlzLnJlc2l6ZSgobio9Mik+cj9uOnIpLHItPTgsdGhpcy5rUj8odGhpcy52aWV3LnNldEludDMyKHIsdC5sb3csITApLHRoaXMudmlldy5zZXRJbnQzMihyKzQsdC5oaWdoLCEwKSk6KHRoaXMudmlldy5zZXRJbnQzMihyLHQuaGlnaCwhMSksdGhpcy52aWV3LnNldEludDMyKHIrNCx0LmxvdywhMSkpLGkmJih0aGlzLm9mZnNldCs9OCksdGhpc30scy5vYj1mdW5jdGlvbih0KXt2YXIgcj12b2lkIDA9PT10O2lmKHImJih0PXRoaXMub2Zmc2V0KSwhdGhpcy5PUil7aWYoXCJudW1iZXJcIiE9dHlwZW9mIHR8fHQlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogXCIrdCtcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKCh0Pj4+PTApPDB8fHQrOD50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogMCA8PSBcIit0K1wiICgrOCkgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9dmFyIGk9dGhpcy5rUj9uZXcgZSh0aGlzLnZpZXcuZ2V0SW50MzIodCwhMCksdGhpcy52aWV3LmdldEludDMyKHQrNCwhMCksITApOm5ldyBlKHRoaXMudmlldy5nZXRJbnQzMih0KzQsITEpLHRoaXMudmlldy5nZXRJbnQzMih0LCExKSwhMCk7cmV0dXJuIHImJih0aGlzLm9mZnNldCs9OCksaX0pLHMuYWI9ZnVuY3Rpb24oZSx0KXt2YXIgcj12b2lkIDA9PT10O2lmKHImJih0PXRoaXMub2Zmc2V0KSwhdGhpcy5PUil7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGUpdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCB2YWx1ZTogXCIrZStcIiAobm90IGEgbnVtYmVyKVwiKTtpZihcIm51bWJlclwiIT10eXBlb2YgdHx8dCUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBcIit0K1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKHQ+Pj49MCk8MHx8dCswPnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiAwIDw9IFwiK3QrXCIgKCswKSA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX10Kz00O3ZhciBpPXRoaXMuYnVmZmVyLmJ5dGVMZW5ndGg7cmV0dXJuIHQ+aSYmdGhpcy5yZXNpemUoKGkqPTIpPnQ/aTp0KSx0LT00LHRoaXMudmlldy5zZXRGbG9hdDMyKHQsZSx0aGlzLmtSKSxyJiYodGhpcy5vZmZzZXQrPTQpLHRoaXN9LHMuaGI9cy5hYixzLmNiPWZ1bmN0aW9uKGUpe3ZhciB0PXZvaWQgMD09PWU7aWYodCYmKGU9dGhpcy5vZmZzZXQpLCF0aGlzLk9SKXtpZihcIm51bWJlclwiIT10eXBlb2YgZXx8ZSUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBcIitlK1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKGU+Pj49MCk8MHx8ZSs0PnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiAwIDw9IFwiK2UrXCIgKCs0KSA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX12YXIgcj10aGlzLnZpZXcuZ2V0RmxvYXQzMihlLHRoaXMua1IpO3JldHVybiB0JiYodGhpcy5vZmZzZXQrPTQpLHJ9LHMudWI9cy5jYixzLmxiPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dm9pZCAwPT09dDtpZihyJiYodD10aGlzLm9mZnNldCksIXRoaXMuT1Ipe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgdmFsdWU6IFwiK2UrXCIgKG5vdCBhIG51bWJlcilcIik7aWYoXCJudW1iZXJcIiE9dHlwZW9mIHR8fHQlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogXCIrdCtcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKCh0Pj4+PTApPDB8fHQrMD50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogMCA8PSBcIit0K1wiICgrMCkgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9dCs9ODt2YXIgaT10aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoO3JldHVybiB0PmkmJnRoaXMucmVzaXplKChpKj0yKT50P2k6dCksdC09OCx0aGlzLnZpZXcuc2V0RmxvYXQ2NCh0LGUsdGhpcy5rUiksciYmKHRoaXMub2Zmc2V0Kz04KSx0aGlzfSxzLkxTPXMubGIscy5wYj1mdW5jdGlvbihlKXt2YXIgdD12b2lkIDA9PT1lO2lmKHQmJihlPXRoaXMub2Zmc2V0KSwhdGhpcy5PUil7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGV8fGUlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogXCIrZStcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKChlPj4+PTApPDB8fGUrOD50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogMCA8PSBcIitlK1wiICgrOCkgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9dmFyIHI9dGhpcy52aWV3LmdldEZsb2F0NjQoZSx0aGlzLmtSKTtyZXR1cm4gdCYmKHRoaXMub2Zmc2V0Kz04KSxyfSxzLnNSPXMucGIsbi5mYj01LG4uZ2I9ZnVuY3Rpb24oZSl7cmV0dXJuIGU+Pj49MCxlPDEyOD8xOmU8MTYzODQ/MjplPDE8PDIxPzM6ZTwxPDwyOD80OjV9LG4udmI9ZnVuY3Rpb24oZSl7cmV0dXJuKChlfD0wKTw8MV5lPj4zMSk+Pj4wfSxuLnliPWZ1bmN0aW9uKGUpe3JldHVybiBlPj4+MV4tKDEmZSl8MH0scy5tYj1mdW5jdGlvbihlLHQpe3ZhciByPXZvaWQgMD09PXQ7aWYociYmKHQ9dGhpcy5vZmZzZXQpLCF0aGlzLk9SKXtpZihcIm51bWJlclwiIT10eXBlb2YgZXx8ZSUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgdmFsdWU6IFwiK2UrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZihlfD0wLFwibnVtYmVyXCIhPXR5cGVvZiB0fHx0JTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IFwiK3QrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZigodD4+Pj0wKTwwfHx0KzA+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IDAgPD0gXCIrdCtcIiAoKzApIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfXZhciBpLHM9bi5nYihlKTt0Kz1zO3ZhciBvPXRoaXMuYnVmZmVyLmJ5dGVMZW5ndGg7cmV0dXJuIHQ+byYmdGhpcy5yZXNpemUoKG8qPTIpPnQ/bzp0KSx0LT1zLHRoaXMudmlldy5zZXRVaW50OCh0LGk9MTI4fGUpLGU+Pj49MCxlPj0xMjg/KGk9ZT4+N3wxMjgsdGhpcy52aWV3LnNldFVpbnQ4KHQrMSxpKSxlPj0xNjM4ND8oaT1lPj4xNHwxMjgsdGhpcy52aWV3LnNldFVpbnQ4KHQrMixpKSxlPj0xPDwyMT8oaT1lPj4yMXwxMjgsdGhpcy52aWV3LnNldFVpbnQ4KHQrMyxpKSxlPj0xPDwyOD8odGhpcy52aWV3LnNldFVpbnQ4KHQrNCxlPj4yOCYxNSkscz01KToodGhpcy52aWV3LnNldFVpbnQ4KHQrMywxMjcmaSkscz00KSk6KHRoaXMudmlldy5zZXRVaW50OCh0KzIsMTI3JmkpLHM9MykpOih0aGlzLnZpZXcuc2V0VWludDgodCsxLDEyNyZpKSxzPTIpKToodGhpcy52aWV3LnNldFVpbnQ4KHQsMTI3JmkpLHM9MSkscj8odGhpcy5vZmZzZXQrPXMsdGhpcyk6c30scy5FYj1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLm1iKG4udmIoZSksdCl9LHMuVGI9ZnVuY3Rpb24oZSl7dmFyIHQ9dm9pZCAwPT09ZTtpZih0JiYoZT10aGlzLm9mZnNldCksIXRoaXMuT1Ipe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlfHxlJTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IFwiK2UrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZigoZT4+Pj0wKTwwfHxlKzE+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IDAgPD0gXCIrZStcIiAoKzEpIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfXZhciByLGksbj0wLHM9MDtkb3tpZihpPWUrbiwhdGhpcy5PUiYmaT50aGlzLkNSKXt2YXIgbz1FcnJvcihcIlRydW5jYXRlZFwiKTt0aHJvdyBvLkliPSEwLG99cj10aGlzLnZpZXcuZ2V0VWludDgoaSksbjw1JiYoc3w9KDEyNyZyKTw8NypuPj4+MCksKytufXdoaWxlKDEyOD09KDEyOCZyKSk7cmV0dXJuIHN8PTAsdD8odGhpcy5vZmZzZXQrPW4scyk6e3ZhbHVlOnMsbGVuZ3RoOm59fSxzLndiPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuVGIoZSk7cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIHQ/dC52YWx1ZT1uLnliKHQudmFsdWUpOnQ9bi55Yih0KSx0fSxlJiYobi5TYj0xMCxuLlJiPWZ1bmN0aW9uKHQpe1wibnVtYmVyXCI9PXR5cGVvZiB0P3Q9ZS5kcCh0KTpcInN0cmluZ1wiPT10eXBlb2YgdCYmKHQ9ZS5ncCh0KSk7dmFyIHI9dC5iYigpPj4+MCxpPXQuUGIoMjgpLmJiKCk+Pj4wLG49dC5QYig1NikuYmIoKT4+PjA7cmV0dXJuIDA9PW4/MD09aT9yPDE2Mzg0P3I8MTI4PzE6MjpyPDE8PDIxPzM6NDppPDE2Mzg0P2k8MTI4PzU6NjppPDE8PDIxPzc6ODpuPDEyOD85OjEwfSxuLkFiPWZ1bmN0aW9uKHQpe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiB0P3Q9ZS5kcCh0LCExKTpcInN0cmluZ1wiPT10eXBlb2YgdD90PWUuZ3AodCwhMSk6ITEhPT10LkNiJiYodD10LmtiKCkpLHQuc2hpZnRMZWZ0KDEpLnpkKHQuX2IoNjMpKS5PYigpfSxuLk5iPWZ1bmN0aW9uKHQpe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiB0P3Q9ZS5kcCh0LCExKTpcInN0cmluZ1wiPT10eXBlb2YgdD90PWUuZ3AodCwhMSk6ITEhPT10LkNiJiYodD10LmtiKCkpLHQuUGIoMSkuemQodC5EYihlLk9ORSkua2IoKS5ScCgpKS5rYigpfSxzLkZiPWZ1bmN0aW9uKHQscil7dmFyIGk9dm9pZCAwPT09cjtpZihpJiYocj10aGlzLm9mZnNldCksIXRoaXMuT1Ipe2lmKFwibnVtYmVyXCI9PXR5cGVvZiB0KXQ9ZS5kcCh0KTtlbHNlIGlmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXQ9ZS5ncCh0KTtlbHNlIGlmKCEodCYmdCBpbnN0YW5jZW9mIGUpKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgdmFsdWU6IFwiK3QrXCIgKG5vdCBhbiBpbnRlZ2VyIG9yIExvbmcpXCIpO2lmKFwibnVtYmVyXCIhPXR5cGVvZiByfHxyJTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IFwiK3IrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZigocj4+Pj0wKTwwfHxyKzA+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IDAgPD0gXCIrcitcIiAoKzApIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfVwibnVtYmVyXCI9PXR5cGVvZiB0P3Q9ZS5kcCh0LCExKTpcInN0cmluZ1wiPT10eXBlb2YgdD90PWUuZ3AodCwhMSk6ITEhPT10LkNiJiYodD10LmtiKCkpO3ZhciBzPW4uUmIodCksbz10LmJiKCk+Pj4wLGE9dC5QYigyOCkuYmIoKT4+PjAsaD10LlBiKDU2KS5iYigpPj4+MDtyKz1zO3ZhciBjPXRoaXMuYnVmZmVyLmJ5dGVMZW5ndGg7c3dpdGNoKHI+YyYmdGhpcy5yZXNpemUoKGMqPTIpPnI/YzpyKSxyLT1zLHMpe2Nhc2UgMTA6dGhpcy52aWV3LnNldFVpbnQ4KHIrOSxoPj4+NyYxKTtjYXNlIDk6dGhpcy52aWV3LnNldFVpbnQ4KHIrOCw5IT09cz8xMjh8aDoxMjcmaCk7Y2FzZSA4OnRoaXMudmlldy5zZXRVaW50OChyKzcsOCE9PXM/YT4+PjIxfDEyODphPj4+MjEmMTI3KTtjYXNlIDc6dGhpcy52aWV3LnNldFVpbnQ4KHIrNiw3IT09cz9hPj4+MTR8MTI4OmE+Pj4xNCYxMjcpO2Nhc2UgNjp0aGlzLnZpZXcuc2V0VWludDgocis1LDYhPT1zP2E+Pj43fDEyODphPj4+NyYxMjcpO2Nhc2UgNTp0aGlzLnZpZXcuc2V0VWludDgocis0LDUhPT1zPzEyOHxhOjEyNyZhKTtjYXNlIDQ6dGhpcy52aWV3LnNldFVpbnQ4KHIrMyw0IT09cz9vPj4+MjF8MTI4Om8+Pj4yMSYxMjcpO2Nhc2UgMzp0aGlzLnZpZXcuc2V0VWludDgocisyLDMhPT1zP28+Pj4xNHwxMjg6bz4+PjE0JjEyNyk7Y2FzZSAyOnRoaXMudmlldy5zZXRVaW50OChyKzEsMiE9PXM/bz4+Pjd8MTI4Om8+Pj43JjEyNyk7Y2FzZSAxOnRoaXMudmlldy5zZXRVaW50OChyLDEhPT1zPzEyOHxvOjEyNyZvKX1yZXR1cm4gaT8odGhpcy5vZmZzZXQrPXMsdGhpcyk6c30scy5MYj1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLkZiKG4uQWIoZSksdCl9LHMuTWI9ZnVuY3Rpb24odCl7dmFyIHI9dm9pZCAwPT09dDtpZihyJiYodD10aGlzLm9mZnNldCksIXRoaXMuT1Ipe2lmKFwibnVtYmVyXCIhPXR5cGVvZiB0fHx0JTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IFwiK3QrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZigodD4+Pj0wKTwwfHx0KzE+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IDAgPD0gXCIrdCtcIiAoKzEpIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfXZhciBpPXQsbj0wLHM9MCxvPTAsYT0wO2lmKGE9dGhpcy52aWV3LmdldFVpbnQ4KHQrKyksbj0xMjcmYSwxMjgmYSYmKGE9dGhpcy52aWV3LmdldFVpbnQ4KHQrKyksbnw9KDEyNyZhKTw8NywxMjgmYSYmKGE9dGhpcy52aWV3LmdldFVpbnQ4KHQrKyksbnw9KDEyNyZhKTw8MTQsMTI4JmEmJihhPXRoaXMudmlldy5nZXRVaW50OCh0KyspLG58PSgxMjcmYSk8PDIxLDEyOCZhJiYoYT10aGlzLnZpZXcuZ2V0VWludDgodCsrKSxzPTEyNyZhLDEyOCZhJiYoYT10aGlzLnZpZXcuZ2V0VWludDgodCsrKSxzfD0oMTI3JmEpPDw3LDEyOCZhJiYoYT10aGlzLnZpZXcuZ2V0VWludDgodCsrKSxzfD0oMTI3JmEpPDwxNCwxMjgmYSYmKGE9dGhpcy52aWV3LmdldFVpbnQ4KHQrKyksc3w9KDEyNyZhKTw8MjEsMTI4JmEmJihhPXRoaXMudmlldy5nZXRVaW50OCh0KyspLG89MTI3JmEsMTI4JmEmJihhPXRoaXMudmlldy5nZXRVaW50OCh0KyspLG98PSgxMjcmYSk8PDcsMTI4JmEpKSkpKSkpKSkpdGhyb3cgRXJyb3IoXCJCdWZmZXIgb3ZlcnJ1blwiKTt2YXIgaD1lLkF5KG58czw8Mjgscz4+PjR8bzw8MjQsITEpO3JldHVybiByPyh0aGlzLm9mZnNldD10LGgpOnt2YWx1ZTpoLGxlbmd0aDp0LWl9fSxzLkJiPWZ1bmN0aW9uKHQpe3ZhciByPXRoaXMuTWIodCk7cmV0dXJuIHImJnIudmFsdWUgaW5zdGFuY2VvZiBlP3IudmFsdWU9bi5OYihyLnZhbHVlKTpyPW4uTmIocikscn0pLHMuemw9ZnVuY3Rpb24oZSxyKXt2YXIgaT12b2lkIDA9PT1yO2kmJihyPXRoaXMub2Zmc2V0KTt2YXIgbixzPWUubGVuZ3RoO2lmKCF0aGlzLk9SKXtpZihcInN0cmluZ1wiIT10eXBlb2YgZSl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIHN0cjogTm90IGEgc3RyaW5nXCIpO2ZvcihuPTA7bjxzOysrbilpZigwPT09ZS5jaGFyQ29kZUF0KG4pKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIHN0cjogQ29udGFpbnMgTlVMTC1jaGFyYWN0ZXJzXCIpO2lmKFwibnVtYmVyXCIhPXR5cGVvZiByfHxyJTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IFwiK3IrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZigocj4+Pj0wKTwwfHxyKzA+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IDAgPD0gXCIrcitcIiAoKzApIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfXM9Yy5VYih0KGUpKVsxXSxyKz1zKzE7dmFyIG89dGhpcy5idWZmZXIuYnl0ZUxlbmd0aDtyZXR1cm4gcj5vJiZ0aGlzLnJlc2l6ZSgobyo9Mik+cj9vOnIpLHItPXMrMSxjLnhiKHQoZSksZnVuY3Rpb24oZSl7dGhpcy52aWV3LnNldFVpbnQ4KHIrKyxlKX0uYmluZCh0aGlzKSksdGhpcy52aWV3LnNldFVpbnQ4KHIrKywwKSxpPyh0aGlzLm9mZnNldD1yLHRoaXMpOnN9LHMudHA9ZnVuY3Rpb24oZSl7dmFyIHQ9dm9pZCAwPT09ZTtpZih0JiYoZT10aGlzLm9mZnNldCksIXRoaXMuT1Ipe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlfHxlJTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IFwiK2UrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZigoZT4+Pj0wKTwwfHxlKzE+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IDAgPD0gXCIrZStcIiAoKzEpIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfXZhciBpLG49ZSxzPS0xO3JldHVybiBjLkhiKGZ1bmN0aW9uKCl7aWYoMD09PXMpcmV0dXJuIG51bGw7aWYoZT49dGhpcy5DUil0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCByYW5nZTogVHJ1bmNhdGVkIGRhdGEsIFwiK2UrXCIgPCBcIit0aGlzLkNSKTtyZXR1cm4gMD09PShzPXRoaXMudmlldy5nZXRVaW50OChlKyspKT9udWxsOnN9LmJpbmQodGhpcyksaT1yKCksITApLHQ/KHRoaXMub2Zmc2V0PWUsaSgpKTp7cWI6aSgpLGxlbmd0aDplLW59fSxzLlZiPWZ1bmN0aW9uKGUscil7dmFyIGk9dm9pZCAwPT09cjtpZihpJiYocj10aGlzLm9mZnNldCksIXRoaXMuT1Ipe2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgc3RyOiBOb3QgYSBzdHJpbmdcIik7aWYoXCJudW1iZXJcIiE9dHlwZW9mIHJ8fHIlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogXCIrcitcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKChyPj4+PTApPDB8fHIrMD50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogMCA8PSBcIityK1wiICgrMCkgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9dmFyIG4scz1yO249Yy5VYih0KGUpLHRoaXMuT1IpWzFdLHIrPTQrbjt2YXIgbz10aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoO2lmKHI+byYmdGhpcy5yZXNpemUoKG8qPTIpPnI/bzpyKSxyLT00K24sdGhpcy52aWV3LnNldFVpbnQzMihyLG4sdGhpcy5rUikscis9NCxjLnhiKHQoZSksZnVuY3Rpb24oZSl7dGhpcy52aWV3LnNldFVpbnQ4KHIrKyxlKX0uYmluZCh0aGlzKSksciE9PXMrNCtuKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIHJhbmdlOiBUcnVuY2F0ZWQgZGF0YSwgXCIrcitcIiA9PSBcIisocis0K24pKTtyZXR1cm4gaT8odGhpcy5vZmZzZXQ9cix0aGlzKTpyLXN9LHMuamI9ZnVuY3Rpb24oZSl7dmFyIHQ9dm9pZCAwPT09ZTtpZih0JiYoZT10aGlzLm9mZnNldCksIXRoaXMuT1Ipe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlfHxlJTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IFwiK2UrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZigoZT4+Pj0wKTwwfHxlKzQ+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IDAgPD0gXCIrZStcIiAoKzQpIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfXZhciBpLG49MCxzPWU7bj10aGlzLnZpZXcuZ2V0VWludDMyKGUsdGhpcy5rUiksZSs9NDt2YXIgbyxhPWUrbjtyZXR1cm4gYy5IYihmdW5jdGlvbigpe3JldHVybiBlPGE/dGhpcy52aWV3LmdldFVpbnQ4KGUrKyk6bnVsbH0uYmluZCh0aGlzKSxvPXIoKSx0aGlzLk9SKSxpPW8oKSx0Pyh0aGlzLm9mZnNldD1lLGkpOntxYjppLGxlbmd0aDplLXN9fSxuLkdiPVwiY1wiLG4uUWI9XCJiXCIscy5LYj1mdW5jdGlvbihlLHIpe3ZhciBpPXZvaWQgMD09PXI7aWYoaSYmKHI9dGhpcy5vZmZzZXQpLCF0aGlzLk9SKXtpZihcIm51bWJlclwiIT10eXBlb2Ygcnx8ciUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBcIityK1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKHI+Pj49MCk8MHx8ciswPnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiAwIDw9IFwiK3IrXCIgKCswKSA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX12YXIgbixzPXI7bj1jLlViKHQoZSkpWzFdLHIrPW47dmFyIG89dGhpcy5idWZmZXIuYnl0ZUxlbmd0aDtyZXR1cm4gcj5vJiZ0aGlzLnJlc2l6ZSgobyo9Mik+cj9vOnIpLHItPW4sYy54Yih0KGUpLGZ1bmN0aW9uKGUpe3RoaXMudmlldy5zZXRVaW50OChyKyssZSl9LmJpbmQodGhpcykpLGk/KHRoaXMub2Zmc2V0PXIsdGhpcyk6ci1zfSxzLlR3PXMuS2Isbi5ZYj1mdW5jdGlvbihlKXtyZXR1cm4gYy5VYih0KGUpKVswXX0sbi56Yj1mdW5jdGlvbihlKXtyZXR1cm4gYy5VYih0KGUpKVsxXX0scy5KYj1mdW5jdGlvbihlLHQsaSl7XCJudW1iZXJcIj09dHlwZW9mIHQmJihpPXQsdD12b2lkIDApO3ZhciBzPXZvaWQgMD09PWk7aWYocyYmKGk9dGhpcy5vZmZzZXQpLHZvaWQgMD09PXQmJih0PW4uR2IpLCF0aGlzLk9SKXtpZihcIm51bWJlclwiIT10eXBlb2YgZXx8ZSUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgbGVuZ3RoOiBcIitlK1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoZXw9MCxcIm51bWJlclwiIT10eXBlb2YgaXx8aSUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBcIitpK1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKGk+Pj49MCk8MHx8aSswPnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiAwIDw9IFwiK2krXCIgKCswKSA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX12YXIgbyxhPTAsaD1pO2lmKHQ9PT1uLkdiKXtpZihvPXIoKSxjLldiKGZ1bmN0aW9uKCl7cmV0dXJuIGE8ZSYmaTx0aGlzLkNSP3RoaXMudmlldy5nZXRVaW50OChpKyspOm51bGx9LmJpbmQodGhpcyksZnVuY3Rpb24oZSl7KythLGMuWGIoZSxvKX0uYmluZCh0aGlzKSksYSE9PWUpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgcmFuZ2U6IFRydW5jYXRlZCBkYXRhLCBcIithK1wiID09IFwiK2UpO3JldHVybiBzPyh0aGlzLm9mZnNldD1pLG8oKSk6e3FiOm8oKSxsZW5ndGg6aS1ofX1pZih0PT09bi5RYil7aWYoIXRoaXMuT1Ipe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBpfHxpJTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IFwiK2krXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZigoaT4+Pj0wKTwwfHxpK2U+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IDAgPD0gXCIraStcIiAoK1wiK2UrXCIpIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfXZhciB1PWkrZTtpZihjLkhiKGZ1bmN0aW9uKCl7cmV0dXJuIGk8dT90aGlzLnZpZXcuZ2V0VWludDgoaSsrKTpudWxsfS5iaW5kKHRoaXMpLG89cigpLHRoaXMuT1IpLGkhPT11KXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIHJhbmdlOiBUcnVuY2F0ZWQgZGF0YSwgXCIraStcIiA9PSBcIit1KTtyZXR1cm4gcz8odGhpcy5vZmZzZXQ9aSxvKCkpOntxYjpvKCksbGVuZ3RoOmktaH19dGhyb3cgVHlwZUVycm9yKFwiVW5zdXBwb3J0ZWQgbWV0cmljczogXCIrdCl9LHMuZnc9cy5KYixzLlpiPWZ1bmN0aW9uKGUscil7dmFyIGk9dm9pZCAwPT09cjtpZihpJiYocj10aGlzLm9mZnNldCksIXRoaXMuT1Ipe2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgc3RyOiBOb3QgYSBzdHJpbmdcIik7aWYoXCJudW1iZXJcIiE9dHlwZW9mIHJ8fHIlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogXCIrcitcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKChyPj4+PTApPDB8fHIrMD50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogMCA8PSBcIityK1wiICgrMCkgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9dmFyIHMsbyxhPXI7cz1jLlViKHQoZSksdGhpcy5PUilbMV0sbz1uLmdiKHMpLHIrPW8rczt2YXIgaD10aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoO2lmKHI+aCYmdGhpcy5yZXNpemUoKGgqPTIpPnI/aDpyKSxyLT1vK3Mscis9dGhpcy5tYihzLHIpLGMueGIodChlKSxmdW5jdGlvbihlKXt0aGlzLnZpZXcuc2V0VWludDgocisrLGUpfS5iaW5kKHRoaXMpKSxyIT09YStzK28pdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgcmFuZ2U6IFRydW5jYXRlZCBkYXRhLCBcIityK1wiID09IFwiKyhyK3MrbykpO3JldHVybiBpPyh0aGlzLm9mZnNldD1yLHRoaXMpOnItYX0scy4kYj1mdW5jdGlvbihlKXt2YXIgdD12b2lkIDA9PT1lO2lmKHQmJihlPXRoaXMub2Zmc2V0KSwhdGhpcy5PUil7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGV8fGUlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogXCIrZStcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKChlPj4+PTApPDB8fGUrMT50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogMCA8PSBcIitlK1wiICgrMSkgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9dmFyIGksbj10aGlzLlRiKGUpLHM9ZTtlKz1uLmxlbmd0aCxuPW4udmFsdWU7dmFyIG89ZStuLGE9cigpO3JldHVybiBjLkhiKGZ1bmN0aW9uKCl7cmV0dXJuIGU8bz90aGlzLnZpZXcuZ2V0VWludDgoZSsrKTpudWxsfS5iaW5kKHRoaXMpLGEsdGhpcy5PUiksaT1hKCksdD8odGhpcy5vZmZzZXQ9ZSxpKTp7cWI6aSxsZW5ndGg6ZS1zfX0scy5hcHBlbmQ9ZnVuY3Rpb24oZSx0LHIpe1wibnVtYmVyXCIhPXR5cGVvZiB0JiZcInN0cmluZ1wiPT10eXBlb2YgdHx8KHI9dCx0PXZvaWQgMCk7dmFyIGk9dm9pZCAwPT09cjtpZihpJiYocj10aGlzLm9mZnNldCksIXRoaXMuT1Ipe2lmKFwibnVtYmVyXCIhPXR5cGVvZiByfHxyJTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IFwiK3IrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZigocj4+Pj0wKTwwfHxyKzA+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IDAgPD0gXCIrcitcIiAoKzApIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfWUgaW5zdGFuY2VvZiBufHwoZT1uLndyYXAoZSx0KSk7dmFyIHM9ZS5DUi1lLm9mZnNldDtpZihzPD0wKXJldHVybiB0aGlzO3IrPXM7dmFyIG89dGhpcy5idWZmZXIuYnl0ZUxlbmd0aDtyZXR1cm4gcj5vJiZ0aGlzLnJlc2l6ZSgobyo9Mik+cj9vOnIpLHItPXMsbmV3IFVpbnQ4QXJyYXkodGhpcy5idWZmZXIscikuc2V0KG5ldyBVaW50OEFycmF5KGUuYnVmZmVyKS5zdWJhcnJheShlLm9mZnNldCxlLkNSKSksZS5vZmZzZXQrPXMsaSYmKHRoaXMub2Zmc2V0Kz1zKSx0aGlzfSxzLmVQPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuYXBwZW5kKHRoaXMsdCksdGhpc30scy5hc3NlcnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuT1I9IWUsdGhpc30scy50UD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RofSxzLmNsZWFyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub2Zmc2V0PTAsdGhpcy5DUj10aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoLHRoaXMuQVI9LTEsdGhpc30scy5jbG9uZT1mdW5jdGlvbihlKXt2YXIgdD1uZXcgbigwLHRoaXMua1IsdGhpcy5PUik7aWYoZSl7dmFyIHI9bmV3IEFycmF5QnVmZmVyKHRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpO25ldyBVaW50OEFycmF5KHIpLnNldCh0aGlzLmJ1ZmZlciksdC5idWZmZXI9cix0LnZpZXc9bmV3IERhdGFWaWV3KHIpfWVsc2UgdC5idWZmZXI9dGhpcy5idWZmZXIsdC52aWV3PXRoaXMudmlldztyZXR1cm4gdC5vZmZzZXQ9dGhpcy5vZmZzZXQsdC5BUj10aGlzLkFSLHQuQ1I9dGhpcy5DUix0fSxzLmNvbXBhY3Q9ZnVuY3Rpb24oZSx0KXtpZih2b2lkIDA9PT1lJiYoZT10aGlzLm9mZnNldCksdm9pZCAwPT09dCYmKHQ9dGhpcy5DUiksIXRoaXMuT1Ipe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlfHxlJTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBiZWdpbjogTm90IGFuIGludGVnZXJcIik7aWYoZT4+Pj0wLFwibnVtYmVyXCIhPXR5cGVvZiB0fHx0JTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBlbmQ6IE5vdCBhbiBpbnRlZ2VyXCIpO2lmKHQ+Pj49MCxlPDB8fGU+dHx8dD50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIHJhbmdlOiAwIDw9IFwiK2UrXCIgPD0gXCIrdCtcIiA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX1pZigwPT09ZSYmdD09PXRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpcmV0dXJuIHRoaXM7dmFyIHI9dC1lO2lmKDA9PT1yKXJldHVybiB0aGlzLmJ1ZmZlcj1vLHRoaXMudmlldz1udWxsLHRoaXMuQVI+PTAmJih0aGlzLkFSLT1lKSx0aGlzLm9mZnNldD0wLHRoaXMuQ1I9MCx0aGlzO3ZhciBpPW5ldyBBcnJheUJ1ZmZlcihyKTtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoaSkuc2V0KG5ldyBVaW50OEFycmF5KHRoaXMuYnVmZmVyKS5zdWJhcnJheShlLHQpKSx0aGlzLmJ1ZmZlcj1pLHRoaXMudmlldz1uZXcgRGF0YVZpZXcoaSksdGhpcy5BUj49MCYmKHRoaXMuQVItPWUpLHRoaXMub2Zmc2V0PTAsdGhpcy5DUj1yLHRoaXN9LHMuclA9ZnVuY3Rpb24oZSx0KXtpZih2b2lkIDA9PT1lJiYoZT10aGlzLm9mZnNldCksdm9pZCAwPT09dCYmKHQ9dGhpcy5DUiksIXRoaXMuT1Ipe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlfHxlJTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBiZWdpbjogTm90IGFuIGludGVnZXJcIik7aWYoZT4+Pj0wLFwibnVtYmVyXCIhPXR5cGVvZiB0fHx0JTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBlbmQ6IE5vdCBhbiBpbnRlZ2VyXCIpO2lmKHQ+Pj49MCxlPDB8fGU+dHx8dD50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIHJhbmdlOiAwIDw9IFwiK2UrXCIgPD0gXCIrdCtcIiA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX1pZihlPT09dClyZXR1cm4gbmV3IG4oMCx0aGlzLmtSLHRoaXMuT1IpO3ZhciByPXQtZSxpPW5ldyBuKHIsdGhpcy5rUix0aGlzLk9SKTtyZXR1cm4gaS5vZmZzZXQ9MCxpLkNSPXIsaS5BUj49MCYmKGkuQVItPWUpLHRoaXMuQXAoaSwwLGUsdCksaX0scy5BcD1mdW5jdGlvbihlLHQscixpKXt2YXIgcyxvO2lmKCF0aGlzLk9SJiYhbi5MUihlKSl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIHRhcmdldDogTm90IGEgQnl0ZUJ1ZmZlclwiKTtpZih0PShvPXZvaWQgMD09PXQpP2Uub2Zmc2V0OjB8dCxyPShzPXZvaWQgMD09PXIpP3RoaXMub2Zmc2V0OjB8cixpPXZvaWQgMD09PWk/dGhpcy5DUjowfGksdDwwfHx0PmUuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgdGFyZ2V0IHJhbmdlOiAwIDw9IFwiK3QrXCIgPD0gXCIrZS5idWZmZXIuYnl0ZUxlbmd0aCk7aWYocjwwfHxpPnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgc291cmNlIHJhbmdlOiAwIDw9IFwiK3IrXCIgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCk7dmFyIGE9aS1yO3JldHVybiAwPT09YT9lOihlLmlQKHQrYSksbmV3IFVpbnQ4QXJyYXkoZS5idWZmZXIpLnNldChuZXcgVWludDhBcnJheSh0aGlzLmJ1ZmZlcikuc3ViYXJyYXkocixpKSx0KSxzJiYodGhpcy5vZmZzZXQrPWEpLG8mJihlLm9mZnNldCs9YSksdGhpcyl9LHMuaVA9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5idWZmZXIuYnl0ZUxlbmd0aDtyZXR1cm4gdDxlP3RoaXMucmVzaXplKCh0Kj0yKT5lP3Q6ZSk6dGhpc30scy5maWxsPWZ1bmN0aW9uKGUsdCxyKXt2YXIgaT12b2lkIDA9PT10O2lmKGkmJih0PXRoaXMub2Zmc2V0KSxcInN0cmluZ1wiPT10eXBlb2YgZSYmZS5sZW5ndGg+MCYmKGU9ZS5jaGFyQ29kZUF0KDApKSx2b2lkIDA9PT10JiYodD10aGlzLm9mZnNldCksdm9pZCAwPT09ciYmKHI9dGhpcy5DUiksIXRoaXMuT1Ipe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlfHxlJTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCB2YWx1ZTogXCIrZStcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKGV8PTAsXCJudW1iZXJcIiE9dHlwZW9mIHR8fHQlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIGJlZ2luOiBOb3QgYW4gaW50ZWdlclwiKTtpZih0Pj4+PTAsXCJudW1iZXJcIiE9dHlwZW9mIHJ8fHIlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIGVuZDogTm90IGFuIGludGVnZXJcIik7aWYocj4+Pj0wLHQ8MHx8dD5yfHxyPnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgcmFuZ2U6IDAgPD0gXCIrdCtcIiA8PSBcIityK1wiIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfWlmKHQ+PXIpcmV0dXJuIHRoaXM7Zm9yKDt0PHI7KXRoaXMudmlldy5zZXRVaW50OCh0KyssZSk7cmV0dXJuIGkmJih0aGlzLm9mZnNldD10KSx0aGlzfSxzLkpsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuQ1I9dGhpcy5vZmZzZXQsdGhpcy5vZmZzZXQ9MCx0aGlzfSxzLm1hcms9ZnVuY3Rpb24oZSl7aWYoZT12b2lkIDA9PT1lP3RoaXMub2Zmc2V0OmUsIXRoaXMuT1Ipe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlfHxlJTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IFwiK2UrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZigoZT4+Pj0wKTwwfHxlKzA+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IDAgPD0gXCIrZStcIiAoKzApIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfXJldHVybiB0aGlzLkFSPWUsdGhpc30scy5vcmRlcj1mdW5jdGlvbihlKXtpZighdGhpcy5PUiYmXCJib29sZWFuXCIhPXR5cGVvZiBlKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgbGl0dGxlRW5kaWFuOiBOb3QgYSBib29sZWFuXCIpO3JldHVybiB0aGlzLmtSPSEhZSx0aGlzfSxzLm5QPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmtSPXZvaWQgMD09PWV8fCEhZSx0aGlzfSxzLnNQPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmtSPXZvaWQgMCE9PWUmJiFlLHRoaXN9LHMub1A9ZnVuY3Rpb24oZSx0LHIpe1wibnVtYmVyXCIhPXR5cGVvZiB0JiZcInN0cmluZ1wiPT10eXBlb2YgdHx8KHI9dCx0PXZvaWQgMCk7dmFyIGk9dm9pZCAwPT09cjtpZihpJiYocj10aGlzLm9mZnNldCksIXRoaXMuT1Ipe2lmKFwibnVtYmVyXCIhPXR5cGVvZiByfHxyJTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IFwiK3IrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZigocj4+Pj0wKTwwfHxyKzA+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IDAgPD0gXCIrcitcIiAoKzApIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfWUgaW5zdGFuY2VvZiBufHwoZT1uLndyYXAoZSx0KSk7dmFyIHM9ZS5DUi1lLm9mZnNldDtpZihzPD0wKXJldHVybiB0aGlzO3ZhciBvLGE9cy1yO2lmKGE+MCl7dmFyIGg9bmV3IEFycmF5QnVmZmVyKHRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgrYSk7bz1uZXcgVWludDhBcnJheShoKSxvLnNldChuZXcgVWludDhBcnJheSh0aGlzLmJ1ZmZlcikuc3ViYXJyYXkocix0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKSxzKSx0aGlzLmJ1ZmZlcj1oLHRoaXMudmlldz1uZXcgRGF0YVZpZXcoaCksdGhpcy5vZmZzZXQrPWEsdGhpcy5BUj49MCYmKHRoaXMuQVIrPWEpLHRoaXMuQ1IrPWEscis9YX1lbHNlIG89bmV3IFVpbnQ4QXJyYXkodGhpcy5idWZmZXIpO3JldHVybiBvLnNldChuZXcgVWludDhBcnJheShlLmJ1ZmZlcikuc3ViYXJyYXkoZS5vZmZzZXQsZS5DUiksci1zKSxlLm9mZnNldD1lLkNSLGkmJih0aGlzLm9mZnNldC09cyksdGhpc30scy5hUD1mdW5jdGlvbihlLHQpe3JldHVybiBlLm9QKHRoaXMsdCksdGhpc30scy5oUD1mdW5jdGlvbihlKXtcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiYoZT1jb25zb2xlLmxvZy5iaW5kKGNvbnNvbGUpKSxlKHRoaXMudG9TdHJpbmcoKStcIlxcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cXG5cIit0aGlzLmNQKCEwKSl9LHMudVA9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5DUi10aGlzLm9mZnNldH0scy5yZXNldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLkFSPj0wPyh0aGlzLm9mZnNldD10aGlzLkFSLHRoaXMuQVI9LTEpOnRoaXMub2Zmc2V0PTAsdGhpc30scy5yZXNpemU9ZnVuY3Rpb24oZSl7aWYoIXRoaXMuT1Ipe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlfHxlJTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBjYXBhY2l0eTogXCIrZStcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKChlfD0wKTwwKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIGNhcGFjaXR5OiAwIDw9IFwiK2UpfWlmKHRoaXMuYnVmZmVyLmJ5dGVMZW5ndGg8ZSl7dmFyIHQ9bmV3IEFycmF5QnVmZmVyKGUpO25ldyBVaW50OEFycmF5KHQpLnNldChuZXcgVWludDhBcnJheSh0aGlzLmJ1ZmZlcikpLHRoaXMuYnVmZmVyPXQsdGhpcy52aWV3PW5ldyBEYXRhVmlldyh0KX1yZXR1cm4gdGhpc30scy5yZXZlcnNlPWZ1bmN0aW9uKGUsdCl7aWYodm9pZCAwPT09ZSYmKGU9dGhpcy5vZmZzZXQpLHZvaWQgMD09PXQmJih0PXRoaXMuQ1IpLCF0aGlzLk9SKXtpZihcIm51bWJlclwiIT10eXBlb2YgZXx8ZSUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgYmVnaW46IE5vdCBhbiBpbnRlZ2VyXCIpO2lmKGU+Pj49MCxcIm51bWJlclwiIT10eXBlb2YgdHx8dCUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgZW5kOiBOb3QgYW4gaW50ZWdlclwiKTtpZih0Pj4+PTAsZTwwfHxlPnR8fHQ+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCByYW5nZTogMCA8PSBcIitlK1wiIDw9IFwiK3QrXCIgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9cmV0dXJuIGU9PT10P3RoaXM6KEFycmF5LnByb3RvdHlwZS5yZXZlcnNlLmNhbGwobmV3IFVpbnQ4QXJyYXkodGhpcy5idWZmZXIpLnN1YmFycmF5KGUsdCkpLHRoaXMudmlldz1uZXcgRGF0YVZpZXcodGhpcy5idWZmZXIpLHRoaXMpfSxzLmR3PWZ1bmN0aW9uKGUpe2lmKCF0aGlzLk9SKXtpZihcIm51bWJlclwiIT10eXBlb2YgZXx8ZSUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgbGVuZ3RoOiBcIitlK1wiIChub3QgYW4gaW50ZWdlcilcIik7ZXw9MH12YXIgdD10aGlzLm9mZnNldCtlO2lmKCF0aGlzLk9SJiYodDwwfHx0PnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIGxlbmd0aDogMCA8PSBcIit0aGlzLm9mZnNldCtcIiArIFwiK2UrXCIgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCk7cmV0dXJuIHRoaXMub2Zmc2V0PXQsdGhpc30scy5zbGljZT1mdW5jdGlvbihlLHQpe2lmKHZvaWQgMD09PWUmJihlPXRoaXMub2Zmc2V0KSx2b2lkIDA9PT10JiYodD10aGlzLkNSKSwhdGhpcy5PUil7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGV8fGUlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIGJlZ2luOiBOb3QgYW4gaW50ZWdlclwiKTtpZihlPj4+PTAsXCJudW1iZXJcIiE9dHlwZW9mIHR8fHQlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIGVuZDogTm90IGFuIGludGVnZXJcIik7aWYodD4+Pj0wLGU8MHx8ZT50fHx0PnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgcmFuZ2U6IDAgPD0gXCIrZStcIiA8PSBcIit0K1wiIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfXZhciByPXRoaXMuY2xvbmUoKTtyZXR1cm4gci5vZmZzZXQ9ZSxyLkNSPXQscn0scy5sUD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLm9mZnNldCxyPXRoaXMuQ1I7aWYodD5yKXt2YXIgaT10O3Q9cixyPWl9aWYoIXRoaXMuT1Ipe2lmKFwibnVtYmVyXCIhPXR5cGVvZiB0fHx0JTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IE5vdCBhbiBpbnRlZ2VyXCIpO2lmKHQ+Pj49MCxcIm51bWJlclwiIT10eXBlb2Ygcnx8ciUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgbGltaXQ6IE5vdCBhbiBpbnRlZ2VyXCIpO2lmKHI+Pj49MCx0PDB8fHQ+cnx8cj50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIHJhbmdlOiAwIDw9IFwiK3QrXCIgPD0gXCIrcitcIiA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX1pZighZSYmMD09PXQmJnI9PT10aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXJldHVybiB0aGlzLmJ1ZmZlcjtpZih0PT09cilyZXR1cm4gbzt2YXIgbj1uZXcgQXJyYXlCdWZmZXIoci10KTtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkobikuc2V0KG5ldyBVaW50OEFycmF5KHRoaXMuYnVmZmVyKS5zdWJhcnJheSh0LHIpLDApLG59LHMucG49cy5sUCxzLnRvU3RyaW5nPWZ1bmN0aW9uKGUsdCxyKXtpZih2b2lkIDA9PT1lKXJldHVyblwiQnl0ZUJ1ZmZlckFCKG9mZnNldD1cIit0aGlzLm9mZnNldCtcIixtYXJrZWRPZmZzZXQ9XCIrdGhpcy5BUitcIixsaW1pdD1cIit0aGlzLkNSK1wiLGNhcGFjaXR5PVwiK3RoaXMudFAoKStcIilcIjtzd2l0Y2goXCJudW1iZXJcIj09dHlwZW9mIGUmJihlPVwidXRmOFwiLHQ9ZSxyPXQpLGUpe2Nhc2VcInV0ZjhcIjpyZXR1cm4gdGhpcy5wUCh0LHIpO2Nhc2VcImJhc2U2NFwiOnJldHVybiB0aGlzLmZQKHQscik7Y2FzZVwiaGV4XCI6cmV0dXJuIHRoaXMuZFAodCxyKTtjYXNlXCJiaW5hcnlcIjpyZXR1cm4gdGhpcy5nUCh0LHIpO2Nhc2VcImRlYnVnXCI6cmV0dXJuIHRoaXMuY1AoKTtjYXNlXCJjb2x1bW5zXCI6cmV0dXJuIHRoaXMudlAoKTtkZWZhdWx0OnRocm93IEVycm9yKFwiVW5zdXBwb3J0ZWQgZW5jb2Rpbmc6IFwiK2UpfX07dmFyIGg9ZnVuY3Rpb24oKXtmb3IodmFyIGU9e30sdD1bNjUsNjYsNjcsNjgsNjksNzAsNzEsNzIsNzMsNzQsNzUsNzYsNzcsNzgsNzksODAsODEsODIsODMsODQsODUsODYsODcsODgsODksOTAsOTcsOTgsOTksMTAwLDEwMSwxMDIsMTAzLDEwNCwxMDUsMTA2LDEwNywxMDgsMTA5LDExMCwxMTEsMTEyLDExMywxMTQsMTE1LDExNiwxMTcsMTE4LDExOSwxMjAsMTIxLDEyMiw0OCw0OSw1MCw1MSw1Miw1Myw1NCw1NSw1Niw1Nyw0Myw0N10scj1bXSxpPTAsbj10Lmxlbmd0aDtpPG47KytpKXJbdFtpXV09aTtyZXR1cm4gZS5lbmNvZGU9ZnVuY3Rpb24oZSxyKXtmb3IodmFyIGksbjtudWxsIT09KGk9ZSgpKTspcih0W2k+PjImNjNdKSxuPSgzJmkpPDw0LG51bGwhPT0oaT1lKCkpPyhufD1pPj40JjE1LHIodFs2MyYobnxpPj40JjE1KV0pLG49KDE1JmkpPDwyLG51bGwhPT0oaT1lKCkpPyhyKHRbNjMmKG58aT4+NiYzKV0pLHIodFs2MyZpXSkpOihyKHRbNjMmbl0pLHIoNjEpKSk6KHIodFs2MyZuXSkscig2MSkscig2MSkpfSxlLmRlY29kZT1mdW5jdGlvbihlLHQpe2Z1bmN0aW9uIGkoZSl7dGhyb3cgRXJyb3IoXCJJbGxlZ2FsIGNoYXJhY3RlciBjb2RlOiBcIitlKX1mb3IodmFyIG4scyxvO251bGwhPT0obj1lKCkpOylpZihzPXJbbl0sdm9pZCAwPT09cyYmaShuKSxudWxsIT09KG49ZSgpKSYmKG89cltuXSx2b2lkIDA9PT1vJiZpKG4pLHQoczw8Mj4+PjB8KDQ4Jm8pPj40KSxudWxsIT09KG49ZSgpKSkpe2lmKHZvaWQgMD09PShzPXJbbl0pKXtpZig2MT09PW4pYnJlYWs7aShuKX1pZih0KCgxNSZvKTw8ND4+PjB8KDYwJnMpPj4yKSxudWxsIT09KG49ZSgpKSl7aWYodm9pZCAwPT09KG89cltuXSkpe2lmKDYxPT09bilicmVhaztpKG4pfXQoKDMmcyk8PDY+Pj4wfG8pfX19LGUudGVzdD1mdW5jdGlvbihlKXtyZXR1cm4vXig/OltBLVphLXowLTkrXFwvXXs0fSkqKD86W0EtWmEtejAtOStcXC9dezJ9PT18W0EtWmEtejAtOStcXC9dezN9PSk/JC8udGVzdChlKX0sZX0oKTtzLmZQPWZ1bmN0aW9uKGUsdCl7aWYodm9pZCAwPT09ZSYmKGU9dGhpcy5vZmZzZXQpLHZvaWQgMD09PXQmJih0PXRoaXMuQ1IpLCF0aGlzLk9SKXtpZihcIm51bWJlclwiIT10eXBlb2YgZXx8ZSUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgYmVnaW46IE5vdCBhbiBpbnRlZ2VyXCIpO2lmKGU+Pj49MCxcIm51bWJlclwiIT10eXBlb2YgdHx8dCUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgZW5kOiBOb3QgYW4gaW50ZWdlclwiKTtpZih0Pj4+PTAsZTwwfHxlPnR8fHQ+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCByYW5nZTogMCA8PSBcIitlK1wiIDw9IFwiK3QrXCIgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9dmFyIGk7cmV0dXJuIGguZW5jb2RlKGZ1bmN0aW9uKCl7cmV0dXJuIGU8dD90aGlzLnZpZXcuZ2V0VWludDgoZSsrKTpudWxsfS5iaW5kKHRoaXMpLGk9cigpKSxpKCl9LG4uTVI9ZnVuY3Rpb24oZSxyLGkpe2lmKCFpKXtpZihcInN0cmluZ1wiIT10eXBlb2YgZSl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIHN0cjogTm90IGEgc3RyaW5nXCIpO2lmKGUubGVuZ3RoJTQhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBzdHI6IExlbmd0aCBub3QgYSBtdWx0aXBsZSBvZiA0XCIpfXZhciBzPW5ldyBuKGUubGVuZ3RoLzQqMyxyLGkpLG89MDtyZXR1cm4gaC5kZWNvZGUodChlKSxmdW5jdGlvbihlKXtzLnZpZXcuc2V0VWludDgobysrLGUpfSkscy5DUj1vLHN9LG4uYnRvYT1mdW5jdGlvbihlKXtyZXR1cm4gbi5VUihlKS5mUCgpfSxuLmF0b2I9ZnVuY3Rpb24oZSl7cmV0dXJuIG4uTVIoZSkuZ1AoKX0scy5nUD1mdW5jdGlvbihlLHQpe2lmKGU9dm9pZCAwPT09ZT90aGlzLm9mZnNldDplLHQ9dm9pZCAwPT09dD90aGlzLkNSOnQsIXRoaXMuT1Ipe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlfHxlJTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBiZWdpbjogTm90IGFuIGludGVnZXJcIik7aWYoZT4+Pj0wLFwibnVtYmVyXCIhPXR5cGVvZiB0fHx0JTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBlbmQ6IE5vdCBhbiBpbnRlZ2VyXCIpO2lmKHQ+Pj49MCxlPDB8fGU+dHx8dD50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIHJhbmdlOiAwIDw9IFwiK2UrXCIgPD0gXCIrdCtcIiA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX1pZihlPT09dClyZXR1cm5cIlwiO2Zvcih2YXIgcj1bXSxpPVtdO2U8dDspci5wdXNoKHRoaXMudmlldy5nZXRVaW50OChlKyspKSxyLmxlbmd0aD49MTAyNCYmKGkucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZyxyKSkscj1bXSk7cmV0dXJuIGkuam9pbihcIlwiKStTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZyxyKX0sbi5VUj1mdW5jdGlvbihlLHQscil7aWYoIXImJlwic3RyaW5nXCIhPXR5cGVvZiBlKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgc3RyOiBOb3QgYSBzdHJpbmdcIik7Zm9yKHZhciBpLHM9MCxvPWUubGVuZ3RoLGE9bmV3IG4obyx0LHIpO3M8bzspe2lmKGk9ZS5jaGFyQ29kZUF0KHMpLCFyJiZpPjI1NSl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBjaGFyQ29kZSBhdCBcIitzK1wiOiAwIDw9IFwiK2krXCIgPD0gMjU1XCIpO2Eudmlldy5zZXRVaW50OChzKyssaSl9cmV0dXJuIGEuQ1I9byxhfSxzLmNQPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxyPS0xLGk9dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCxuPVwiXCIscz1cIlwiLG89XCJcIjtyPGk7KXtpZigtMSE9PXImJih0PXRoaXMudmlldy5nZXRVaW50OChyKSxuKz10PDE2P1wiMFwiK3QudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCk6dC50b1N0cmluZygxNikudG9VcHBlckNhc2UoKSxlJiYocys9dD4zMiYmdDwxMjc/U3RyaW5nLmZyb21DaGFyQ29kZSh0KTpcIi5cIikpLCsrcixlJiZyPjAmJnIlMTY9PTAmJnIhPT1pKXtmb3IoO24ubGVuZ3RoPDUxOyluKz1cIiBcIjtvKz1uK3MrXCJcXG5cIixuPXM9XCJcIn1yPT09dGhpcy5vZmZzZXQmJnI9PT10aGlzLkNSP24rPXI9PT10aGlzLkFSP1wiIVwiOlwifFwiOnI9PT10aGlzLm9mZnNldD9uKz1yPT09dGhpcy5BUj9cIltcIjpcIjxcIjpyPT09dGhpcy5DUj9uKz1yPT09dGhpcy5BUj9cIl1cIjpcIj5cIjpuKz1yPT09dGhpcy5BUj9cIidcIjplfHwwIT09ciYmciE9PWk/XCIgXCI6XCJcIn1pZihlJiZcIiBcIiE9PW4pe2Zvcig7bi5sZW5ndGg8NTE7KW4rPVwiIFwiO28rPW4rcytcIlxcblwifXJldHVybiBlP286bn0sbi5IUj1mdW5jdGlvbihlLHQscil7Zm9yKHZhciBpLHMsbz1lLmxlbmd0aCxhPW5ldyBuKChvKzEpLzN8MCx0LHIpLGg9MCxjPTAsdT0hMSxsPSExLHA9ITEsZj0hMSxkPSExO2g8bzspe3N3aXRjaChpPWUuY2hhckF0KGgrKykpe2Nhc2VcIiFcIjppZighcil7aWYobHx8cHx8Zil7ZD0hMDticmVha31sPXA9Zj0hMH1hLm9mZnNldD1hLkFSPWEuQ1I9Yyx1PSExO2JyZWFrO2Nhc2VcInxcIjppZighcil7aWYobHx8Zil7ZD0hMDticmVha31sPWY9ITB9YS5vZmZzZXQ9YS5DUj1jLHU9ITE7YnJlYWs7Y2FzZVwiW1wiOmlmKCFyKXtpZihsfHxwKXtkPSEwO2JyZWFrfWw9cD0hMH1hLm9mZnNldD1hLkFSPWMsdT0hMTticmVhaztjYXNlXCI8XCI6aWYoIXIpe2lmKGwpe2Q9ITA7YnJlYWt9bD0hMH1hLm9mZnNldD1jLHU9ITE7YnJlYWs7Y2FzZVwiXVwiOmlmKCFyKXtpZihmfHxwKXtkPSEwO2JyZWFrfWY9cD0hMH1hLkNSPWEuQVI9Yyx1PSExO2JyZWFrO2Nhc2VcIj5cIjppZighcil7aWYoZil7ZD0hMDticmVha31mPSEwfWEuQ1I9Yyx1PSExO2JyZWFrO2Nhc2VcIidcIjppZighcil7aWYocCl7ZD0hMDticmVha31wPSEwfWEuQVI9Yyx1PSExO2JyZWFrO2Nhc2VcIiBcIjp1PSExO2JyZWFrO2RlZmF1bHQ6aWYoIXImJnUpe2Q9ITA7YnJlYWt9aWYocz1wYXJzZUludChpK2UuY2hhckF0KGgrKyksMTYpLCFyJiYoaXNOYU4ocyl8fHM8MHx8cz4yNTUpKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgc3RyOiBOb3QgYSBkZWJ1ZyBlbmNvZGVkIHN0cmluZ1wiKTthLnZpZXcuc2V0VWludDgoYysrLHMpLHU9ITB9aWYoZCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIHN0cjogSW52YWxpZCBzeW1ib2wgYXQgXCIraCl9aWYoIXIpe2lmKCFsfHwhZil0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIHN0cjogTWlzc2luZyBvZmZzZXQgb3IgbGltaXRcIik7aWYoYzxhLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgc3RyOiBOb3QgYSBkZWJ1ZyBlbmNvZGVkIHN0cmluZyAoaXMgaXQgaGV4PykgXCIrYytcIiA8IFwiK28pfXJldHVybiBhfSxzLmRQPWZ1bmN0aW9uKGUsdCl7aWYoZT12b2lkIDA9PT1lP3RoaXMub2Zmc2V0OmUsdD12b2lkIDA9PT10P3RoaXMuQ1I6dCwhdGhpcy5PUil7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGV8fGUlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIGJlZ2luOiBOb3QgYW4gaW50ZWdlclwiKTtpZihlPj4+PTAsXCJudW1iZXJcIiE9dHlwZW9mIHR8fHQlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIGVuZDogTm90IGFuIGludGVnZXJcIik7aWYodD4+Pj0wLGU8MHx8ZT50fHx0PnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgcmFuZ2U6IDAgPD0gXCIrZStcIiA8PSBcIit0K1wiIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfWZvcih2YXIgcixpPW5ldyBBcnJheSh0LWUpO2U8dDspcj10aGlzLnZpZXcuZ2V0VWludDgoZSsrKSxyPDE2P2kucHVzaChcIjBcIixyLnRvU3RyaW5nKDE2KSk6aS5wdXNoKHIudG9TdHJpbmcoMTYpKTtyZXR1cm4gaS5qb2luKFwiXCIpfSxuLkJSPWZ1bmN0aW9uKGUsdCxyKXtpZighcil7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGUpdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBzdHI6IE5vdCBhIHN0cmluZ1wiKTtpZihlLmxlbmd0aCUyIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgc3RyOiBMZW5ndGggbm90IGEgbXVsdGlwbGUgb2YgMlwiKX1mb3IodmFyIGkscz1lLmxlbmd0aCxvPW5ldyBuKHMvMnwwLHQpLGE9MCxoPTA7YTxzO2ErPTIpe2lmKGk9cGFyc2VJbnQoZS5zdWJzdHJpbmcoYSxhKzIpLDE2KSwhciYmKCFpc0Zpbml0ZShpKXx8aTwwfHxpPjI1NSkpdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBzdHI6IENvbnRhaW5zIG5vbi1oZXggY2hhcmFjdGVyc1wiKTtvLnZpZXcuc2V0VWludDgoaCsrLGkpfXJldHVybiBvLkNSPWgsb307dmFyIGM9ZnVuY3Rpb24oKXt2YXIgZT17fTtyZXR1cm4gZS55UD0xMTE0MTExLGUubVA9ZnVuY3Rpb24oZSx0KXt2YXIgcj1udWxsO2ZvcihcIm51bWJlclwiPT10eXBlb2YgZSYmKHI9ZSxlPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9KTtudWxsIT09cnx8bnVsbCE9PShyPWUoKSk7KXI8MTI4P3QoMTI3JnIpOnI8MjA0OD8odChyPj42JjMxfDE5MiksdCg2MyZyfDEyOCkpOnI8NjU1MzY/KHQocj4+MTImMTV8MjI0KSx0KHI+PjYmNjN8MTI4KSx0KDYzJnJ8MTI4KSk6KHQocj4+MTgmN3wyNDApLHQocj4+MTImNjN8MTI4KSx0KHI+PjYmNjN8MTI4KSx0KDYzJnJ8MTI4KSkscj1udWxsfSxlLldiPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByLGksbixzLG89ZnVuY3Rpb24oZSl7ZT1lLnNsaWNlKDAsZS5pbmRleE9mKG51bGwpKTt2YXIgdD1FcnJvcihlLnRvU3RyaW5nKCkpO3Rocm93IHQubmFtZT1cIlRydW5jYXRlZEVycm9yXCIsdC5Ibj1lLHR9O251bGwhPT0ocj1lKCkpOylpZigwPT0oMTI4JnIpKXQocik7ZWxzZSBpZigxOTI9PSgyMjQmcikpbnVsbD09PShpPWUoKSkmJm8oW3IsaV0pLHQoKDMxJnIpPDw2fDYzJmkpO2Vsc2UgaWYoMjI0PT0oMjQwJnIpKShudWxsPT09KGk9ZSgpKXx8bnVsbD09PShuPWUoKSkpJiZvKFtyLGksbl0pLHQoKDE1JnIpPDwxMnwoNjMmaSk8PDZ8NjMmbik7ZWxzZXtpZigyNDAhPSgyNDgmcikpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgc3RhcnRpbmcgYnl0ZTogXCIrcik7KG51bGw9PT0oaT1lKCkpfHxudWxsPT09KG49ZSgpKXx8bnVsbD09PShzPWUoKSkpJiZvKFtyLGksbixzXSksdCgoNyZyKTw8MTh8KDYzJmkpPDwxMnwoNjMmbik8PDZ8NjMmcyl9fSxlLkVQPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByLGk9bnVsbDs7KXtpZihudWxsPT09KHI9bnVsbCE9PWk/aTplKCkpKWJyZWFrO3I+PTU1Mjk2JiZyPD01NzM0MyYmbnVsbCE9PShpPWUoKSkmJmk+PTU2MzIwJiZpPD01NzM0Mz8odCgxMDI0KihyLTU1Mjk2KStpLTU2MzIwKzY1NTM2KSxpPW51bGwpOnQocil9bnVsbCE9PWkmJnQoaSl9LGUuWGI9ZnVuY3Rpb24oZSx0KXt2YXIgcj1udWxsO2ZvcihcIm51bWJlclwiPT10eXBlb2YgZSYmKHI9ZSxlPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9KTtudWxsIT09cnx8bnVsbCE9PShyPWUoKSk7KXI8PTY1NTM1P3Qocik6KHItPTY1NTM2LHQoNTUyOTYrKHI+PjEwKSksdChyJTEwMjQrNTYzMjApKSxyPW51bGx9LGUueGI9ZnVuY3Rpb24odCxyKXtlLkVQKHQsZnVuY3Rpb24odCl7ZS5tUCh0LHIpfSl9LGUuSGI9ZnVuY3Rpb24odCxyKXtlLldiKHQsZnVuY3Rpb24odCl7ZS5YYih0LHIpfSl9LGUuVFA9ZnVuY3Rpb24oZSl7cmV0dXJuIGU8MTI4PzE6ZTwyMDQ4PzI6ZTw2NTUzNj8zOjR9LGUuSVA9ZnVuY3Rpb24odCl7Zm9yKHZhciByLGk9MDtudWxsIT09KHI9dCgpKTspaSs9ZS5UUChyKTtyZXR1cm4gaX0sZS5VYj1mdW5jdGlvbih0KXt2YXIgcj0wLGk9MDtyZXR1cm4gZS5FUCh0LGZ1bmN0aW9uKHQpeysrcixpKz1lLlRQKHQpfSksW3IsaV19LGV9KCk7cmV0dXJuIHMucFA9ZnVuY3Rpb24oZSx0KXtpZih2b2lkIDA9PT1lJiYoZT10aGlzLm9mZnNldCksdm9pZCAwPT09dCYmKHQ9dGhpcy5DUiksIXRoaXMuT1Ipe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlfHxlJTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBiZWdpbjogTm90IGFuIGludGVnZXJcIik7aWYoZT4+Pj0wLFwibnVtYmVyXCIhPXR5cGVvZiB0fHx0JTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBlbmQ6IE5vdCBhbiBpbnRlZ2VyXCIpO2lmKHQ+Pj49MCxlPDB8fGU+dHx8dD50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIHJhbmdlOiAwIDw9IFwiK2UrXCIgPD0gXCIrdCtcIiA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX12YXIgaTt0cnl7Yy5IYihmdW5jdGlvbigpe3JldHVybiBlPHQ/dGhpcy52aWV3LmdldFVpbnQ4KGUrKyk6bnVsbH0uYmluZCh0aGlzKSxpPXIoKSl9Y2F0Y2gocil7aWYoZSE9PXQpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgcmFuZ2U6IFRydW5jYXRlZCBkYXRhLCBcIitlK1wiICE9IFwiK3QpfXJldHVybiBpKCl9LG4ueFI9ZnVuY3Rpb24oZSxyLGkpe2lmKCFpJiZcInN0cmluZ1wiIT10eXBlb2YgZSl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIHN0cjogTm90IGEgc3RyaW5nXCIpO3ZhciBzPW5ldyBuKGMuVWIodChlKSwhMClbMV0scixpKSxvPTA7cmV0dXJuIGMueGIodChlKSxmdW5jdGlvbihlKXtzLnZpZXcuc2V0VWludDgobysrLGUpfSkscy5DUj1vLHN9LG59XCJvYmplY3RcIj09dHlwZW9mIGUmJmUmJlwib2JqZWN0XCI9PXR5cGVvZiB0JiZ0P2UudD1mdW5jdGlvbigpe3ZhciBlO3RyeXtlPXIoOTApfWNhdGNoKGUpe31yZXR1cm4gYShlKX0oKToobj1bcig5MSldLHZvaWQgMCE9PShzPWZ1bmN0aW9uKGUpe3JldHVybiBhKGUpfS5hcHBseSh0LG4pKSYmKGUudD1zKSl9KCl9KS5jYWxsKHQscig1OCkoZSkpfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9cigzNCk7ZS50PU9iamVjdCxPYmplY3QuZW1wdHk9T2JqZWN0LmZyZWV6ZShPYmplY3QuY3JlYXRlKG51bGwpKSxPYmplY3QuSm89ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChlKT09PWV9LE9iamVjdC53UD1mdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgZS52YWx1ZU9mJiYoZT1lLnZhbHVlT2YoKSksZX07dmFyIG49bmV3IGk7T2JqZWN0Lmhhc2g9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGUuaGFzaD9cIlwiK2UuaGFzaCgpOk9iamVjdChlKT09PWU/KG4uaGFzKGUpfHxuLnNldChlLE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnNsaWNlKDIpKSxuLmdldChlKSk6XCJcIitlfTt2YXIgcz1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O09iamVjdC5TUD1mdW5jdGlvbihlLHQpe3JldHVybiBzLmNhbGwoZSx0KX0sT2JqZWN0Lmhhcz1mdW5jdGlvbihlLHQpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlKXRocm93IG5ldyBFcnJvcihcIk9iamVjdC5oYXMgY2FuJ3QgYWNjZXB0IG5vbi1vYmplY3Q6IFwiK3R5cGVvZiBlKTtpZihlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLmhhcylyZXR1cm4gZS5oYXModCk7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpcmV0dXJuIHQgaW4gZSYmZVt0XSE9PU9iamVjdC5wcm90b3R5cGVbdF07dGhyb3cgbmV3IEVycm9yKFwiS2V5IG11c3QgYmUgYSBzdHJpbmcgZm9yIE9iamVjdC5oYXMgb24gcGxhaW4gb2JqZWN0c1wiKX0sT2JqZWN0LmdldD1mdW5jdGlvbihlLHQscil7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUpdGhyb3cgbmV3IEVycm9yKFwiT2JqZWN0LmdldCBjYW4ndCBhY2NlcHQgbm9uLW9iamVjdDogXCIrdHlwZW9mIGUpO3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLmdldD9lLmdldCh0LHIpOk9iamVjdC5oYXMoZSx0KT9lW3RdOnJ9LE9iamVjdC5zZXQ9ZnVuY3Rpb24oZSx0LHIpe2UmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGUuc2V0P2Uuc2V0KHQscik6ZVt0XT1yfSxPYmplY3QuYWRkRWFjaD1mdW5jdGlvbihlLHQpe2lmKHQpaWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdC5mb3JFYWNofHx0Lmhhc093blByb3BlcnR5KFwiZm9yRWFjaFwiKSlpZihcIm51bWJlclwiPT10eXBlb2YgdC5sZW5ndGgpZm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspZVtyXT10W3JdO2Vsc2UgT2JqZWN0LmtleXModCkuZm9yRWFjaChmdW5jdGlvbihyKXtlW3JdPXRbcl19KTtlbHNlITA9PT10LmlzTWFwP3QuZm9yRWFjaChmdW5jdGlvbih0LHIpe2Vbcl09dH0pOnQuZm9yRWFjaChmdW5jdGlvbih0KXtlW3RbMF1dPXRbMV19KTtlbHNlO3JldHVybiBlfSxPYmplY3QuZm9yRWFjaD1mdW5jdGlvbihlLHQscil7Zm9yKHZhciBpLG49T2JqZWN0LmtleXMoZSkscz0wO2k9bltzXTtzKyspdC5jYWxsKHIsZVtpXSxpLGUpfSxPYmplY3QubWFwPWZ1bmN0aW9uKGUsdCxyKXtmb3IodmFyIGksbj1PYmplY3Qua2V5cyhlKSxzPTAsbz1bXTtpPW5bc107cysrKW8ucHVzaCh0LmNhbGwocixlW2ldLGksZSkpO3JldHVybiBvfSxPYmplY3QudmFsdWVzPWZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QubWFwKGUsRnVuY3Rpb24uaWRlbnRpdHkpfSxPYmplY3QuY29uY2F0PWZ1bmN0aW9uKCl7Zm9yKHZhciBlPXt9LHQ9MDt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKU9iamVjdC5hZGRFYWNoKGUsYXJndW1lbnRzW3RdKTtyZXR1cm4gZX0sT2JqZWN0LmZyb209T2JqZWN0LmNvbmNhdCxPYmplY3QuaXM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT09PXQ/MCE9PWV8fDEvZT09MS90OmUhPT1lJiZ0IT09dH0sT2JqZWN0LmFlPWZ1bmN0aW9uKGUsdCxyLG4pe2lmKHI9cnx8T2JqZWN0LmFlLGU9T2JqZWN0LndQKGUpLHQ9T2JqZWN0LndQKHQpLGU9PT10KXJldHVybiEwO2lmKE9iamVjdC5KbyhlKSl7aWYobj1ufHxuZXcgaSxuLmhhcyhlKSlyZXR1cm4hMDtuLnNldChlLCEwKX1pZihPYmplY3QuSm8oZSkmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGUuYWUpcmV0dXJuIGUuYWUodCxyLG4pO2lmKE9iamVjdC5Kbyh0KSYmXCJmdW5jdGlvblwiPT10eXBlb2YgdC5hZSlyZXR1cm4gdC5hZShlLHIsbik7aWYoT2JqZWN0LkpvKGUpJiZPYmplY3QuSm8odCkmJk9iamVjdC5nZXRQcm90b3R5cGVPZihlKT09PU9iamVjdC5wcm90b3R5cGUmJk9iamVjdC5nZXRQcm90b3R5cGVPZih0KT09PU9iamVjdC5wcm90b3R5cGUpe2Zvcih2YXIgcyBpbiBlKWlmKCFyKGVbc10sdFtzXSxyLG4pKXJldHVybiExO2Zvcih2YXIgcyBpbiB0KWlmKCEocyBpbiBlJiZyKHRbc10sZVtzXSxyLG4pKSlyZXR1cm4hMTtyZXR1cm4hMH1yZXR1cm4gZSE9PWUmJnQhPT10fHwoIWV8fCF0KSYmZT09PXR9LE9iamVjdC5tbz1mdW5jdGlvbihlLHQpe2lmKGU9T2JqZWN0LndQKGUpLHQ9T2JqZWN0LndQKHQpLGU9PT10KXJldHVybiAwO3ZhciByPXR5cGVvZiBlLGk9dHlwZW9mIHQ7cmV0dXJuXCJudW1iZXJcIj09PXImJlwibnVtYmVyXCI9PT1pP2UtdDpcInN0cmluZ1wiPT09ciYmXCJzdHJpbmdcIj09PWk/ZTx0Py0xLzA6MS8wOmUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGUubW8/ZS5tbyh0KTp0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0Lm1vPy10Lm1vKGUpOjB9LE9iamVjdC5jbG9uZT1mdW5jdGlvbihlLHQscil7aWYoZT1PYmplY3Qud1AoZSkscj1yfHxuZXcgaSx2b2lkIDA9PT10KXQ9MS8wO2Vsc2UgaWYoMD09PXQpcmV0dXJuIGU7aWYoT2JqZWN0LkpvKGUpKXtpZighci5oYXMoZSkpaWYoZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgZS5jbG9uZSlyLnNldChlLGUuY2xvbmUodCxyKSk7ZWxzZXt2YXIgbj1PYmplY3QuZ2V0UHJvdG90eXBlT2YoZSk7aWYobnVsbCE9PW4mJm4hPT1PYmplY3QucHJvdG90eXBlKXRocm93IG5ldyBFcnJvcihcIkNhbid0IGNsb25lIFwiK2UpO3ZhciBzPU9iamVjdC5jcmVhdGUobik7ci5zZXQoZSxzKTtmb3IodmFyIG8gaW4gZSlzW29dPU9iamVjdC5jbG9uZShlW29dLHQtMSxyKX1yZXR1cm4gci5nZXQoZSl9cmV0dXJuIGV9LE9iamVjdC5jbGVhcj1mdW5jdGlvbihlKXtpZihlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLmNsZWFyKWUuY2xlYXIoKTtlbHNlIGZvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxyPXQubGVuZ3RoO3I7KXItLSxkZWxldGUgZVt0W3JdXTtyZXR1cm4gZX19LGZ1bmN0aW9uKGUsdCl7IWZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gdChlKXtlLlJQJiZlLlJQKHQpfWZ1bmN0aW9uIHIoZSl7cmV0dXJuIShlLnN1YnN0cigwLGYubGVuZ3RoKT09ZiYmXCJfX19cIj09PWUuc3Vic3RyKGUubGVuZ3RoLTMpKX1mdW5jdGlvbiBpKGUpe2lmKGUhPT1PYmplY3QoZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIk5vdCBhbiBvYmplY3Q6IFwiK2UpO3ZhciB0PWVbZF07aWYodCYmdC5rZXk9PT1lKXJldHVybiB0O2lmKHAoZSkpe3Q9e2tleTplfTt0cnl7cmV0dXJuIGwoZSxkLHt2YWx1ZTp0LFVpOiExLGw6ITEsdTohMX0pLHR9Y2F0Y2goZSl7cmV0dXJufX19ZnVuY3Rpb24gbihlKXtyZXR1cm4gZS5wcm90b3R5cGU9bnVsbCxPYmplY3QuZnJlZXplKGUpfWZ1bmN0aW9uIHMoKXttfHxcInVuZGVmaW5lZFwiPT10eXBlb2YgY29uc29sZXx8KG09ITAsY29uc29sZS53YXJuKFwiV2Vha01hcCBzaG91bGQgYmUgaW52b2tlZCBhcyBuZXcgV2Vha01hcCgpLCBub3QgV2Vha01hcCgpLiBUaGlzIHdpbGwgYmUgYW4gZXJyb3IgaW4gdGhlIGZ1dHVyZS5cIikpfWlmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBzZXN8fCFzZXMub2t8fHNlcy5vaygpKXtcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VzJiYoc2VzLmJQPXQpO3ZhciBvPSExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFdlYWtNYXApe3ZhciBhPVdlYWtNYXA7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG5hdmlnYXRvciYmL0ZpcmVmb3gvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkpO2Vsc2V7dmFyIGg9bmV3IGEsYz1PYmplY3QuZnJlZXplKHt9KTtpZihoLnNldChjLDEpLDE9PT1oLmdldChjKSlyZXR1cm4gdm9pZChlLnQ9V2Vha01hcCk7bz0hMH19dmFyIHU9KE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMpLGw9T2JqZWN0LmRlZmluZVByb3BlcnR5LHA9T2JqZWN0LmlzRXh0ZW5zaWJsZSxmPVwid2Vha21hcDpcIixkPWYrXCJpZGVudDpcIitNYXRoLnJhbmRvbSgpK1wiX19fXCI7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGNyeXB0byYmXCJmdW5jdGlvblwiPT10eXBlb2YgY3J5cHRvLmdldFJhbmRvbVZhbHVlcyYmXCJmdW5jdGlvblwiPT10eXBlb2YgQXJyYXlCdWZmZXImJlwiZnVuY3Rpb25cIj09dHlwZW9mIFVpbnQ4QXJyYXkpe3ZhciBnPW5ldyBBcnJheUJ1ZmZlcigyNSksdj1uZXcgVWludDhBcnJheShnKTtjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKHYpLGQ9ZitcInJhbmQ6XCIrQXJyYXkucHJvdG90eXBlLm1hcC5jYWxsKHYsZnVuY3Rpb24oZSl7cmV0dXJuKGUlMzYpLnRvU3RyaW5nKDM2KX0pLmpvaW4oXCJcIikrXCJfX19cIn1pZihsKE9iamVjdCxcImdldE93blByb3BlcnR5TmFtZXNcIix7dmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHUoZSkuZmlsdGVyKHIpfX0pLFwiZ2V0UHJvcGVydHlOYW1lc1wiaW4gT2JqZWN0KXt2YXIgeT1PYmplY3QuUFA7bChPYmplY3QsXCJnZXRQcm9wZXJ0eU5hbWVzXCIse3ZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB5KGUpLmZpbHRlcihyKX19KX0hZnVuY3Rpb24oKXt2YXIgZT1PYmplY3QuZnJlZXplO2woT2JqZWN0LFwiZnJlZXplXCIse3ZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBpKHQpLGUodCl9fSk7dmFyIHQ9T2JqZWN0LnNlYWw7bChPYmplY3QsXCJzZWFsXCIse3ZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBpKGUpLHQoZSl9fSk7dmFyIHI9T2JqZWN0LnByZXZlbnRFeHRlbnNpb25zO2woT2JqZWN0LFwicHJldmVudEV4dGVuc2lvbnNcIix7dmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGkoZSkscihlKX19KX0oKTt2YXIgbT0hMSxFPTAsVD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXt2YXIgcixuPWkoZSk7cmV0dXJuIG4/YyBpbiBuP25bY106dDoocj1hLmluZGV4T2YoZSkscj49MD9oW3JdOnQpfWZ1bmN0aW9uIHQoZSl7dmFyIHQ9aShlKTtyZXR1cm4gdD9jIGluIHQ6YS5pbmRleE9mKGUpPj0wfWZ1bmN0aW9uIHIoZSx0KXt2YXIgcixuPWkoZSk7cmV0dXJuIG4/bltjXT10OihyPWEuaW5kZXhPZihlKSxyPj0wP2hbcl09dDoocj1hLmxlbmd0aCxoW3JdPXQsYVtyXT1lKSksdGhpc31mdW5jdGlvbiBvKGUpe3ZhciB0LHIsbj1pKGUpO3JldHVybiBuP2MgaW4gbiYmZGVsZXRlIG5bY106ISgodD1hLmluZGV4T2YoZSkpPDApJiYocj1hLmxlbmd0aC0xLGFbdF09dm9pZCAwLGhbdF09aFtyXSxhW3RdPWFbcl0sYS5sZW5ndGg9cixoLmxlbmd0aD1yLCEwKX10aGlzIGluc3RhbmNlb2YgVHx8cygpO3ZhciBhPVtdLGg9W10sYz1FKys7cmV0dXJuIE9iamVjdC5jcmVhdGUoVC5wcm90b3R5cGUse0FQOnt2YWx1ZTpuKGUpfSxDUDp7dmFsdWU6bih0KX0sa1A6e3ZhbHVlOm4ocil9LE9QOnt2YWx1ZTpuKG8pfX0pfTtULnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKE9iamVjdC5wcm90b3R5cGUse2dldDp7dmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5BUChlLHQpfSxVaTohMCx1OiEwfSxoYXM6e3ZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLkNQKGUpfSxVaTohMCx1OiEwfSxzZXQ6e3ZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMua1AoZSx0KX0sVWk6ITAsdTohMH0sZGVsZXRlOnt2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5PUChlKX0sVWk6ITAsdTohMH19KSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBhP2Z1bmN0aW9uKCl7ZnVuY3Rpb24gcigpe2Z1bmN0aW9uIGUoZSx0KXtyZXR1cm4gdT9jLmhhcyhlKT9jLmdldChlKTp1LkFQKGUsdCk6Yy5nZXQoZSx0KX1mdW5jdGlvbiByKGUpe3JldHVybiBjLmhhcyhlKXx8ISF1JiZ1LkNQKGUpfWZ1bmN0aW9uIGkoZSl7dmFyIHQ9ISFjLmRlbGV0ZShlKTtyZXR1cm4gdT91Lk9QKGUpfHx0OnR9dGhpcyBpbnN0YW5jZW9mIFR8fHMoKTt2YXIgaCxjPW5ldyBhLHU9dm9pZCAwLGw9ITE7cmV0dXJuIGg9bz9mdW5jdGlvbihlLHQpe3JldHVybiBjLnNldChlLHQpLGMuaGFzKGUpfHwodXx8KHU9bmV3IFQpLHUuc2V0KGUsdCkpLHRoaXN9OmZ1bmN0aW9uKGUsdCl7aWYobCl0cnl7Yy5zZXQoZSx0KX1jYXRjaChyKXt1fHwodT1uZXcgVCksdS5rUChlLHQpfWVsc2UgYy5zZXQoZSx0KTtyZXR1cm4gdGhpc30sT2JqZWN0LmNyZWF0ZShULnByb3RvdHlwZSx7QVA6e3ZhbHVlOm4oZSl9LENQOnt2YWx1ZTpuKHIpfSxrUDp7dmFsdWU6bihoKX0sT1A6e3ZhbHVlOm4oaSl9LFJQOnt2YWx1ZTpuKGZ1bmN0aW9uKGUpe2lmKGUhPT10KXRocm93IG5ldyBFcnJvcihcImJvZ3VzIGNhbGwgdG8gcGVybWl0SG9zdE9iamVjdHNfX19cIik7bD0hMH0pfX0pfW8mJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBQcm94eSYmKFByb3h5PXZvaWQgMCksci5wcm90b3R5cGU9VC5wcm90b3R5cGUsZS50PXIsT2JqZWN0LmRlZmluZVByb3BlcnR5KFdlYWtNYXAucHJvdG90eXBlLFwiY29uc3RydWN0b3JcIix7dmFsdWU6V2Vha01hcCxsOiExLHU6ITAsVWk6ITB9KX0oKTooXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFByb3h5JiYoUHJveHk9dm9pZCAwKSxlLnQ9VCl9fSgpfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaSgpe3Rocm93IG5ldyBFcnJvcihcIkNhbid0IGNvbnN0cnVjdC4gUmFuZ2VDaGFuZ2VzIGlzIGEgbWl4aW4uXCIpfXZhciBuPXIoMzQpLHM9cig0Nyksbz1uZXcgbjtlLnQ9aSxpLnByb3RvdHlwZS5fUD1mdW5jdGlvbigpe3JldHVybiBvLmhhcyh0aGlzKXx8by5zZXQodGhpcyxzKCkpLG8uZ2V0KHRoaXMpfSxpLnByb3RvdHlwZS5OUD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9QKCk7cmV0dXJuIGU9ZXx8XCJcIix0LmhhcyhlKXx8dC5zZXQoZSx7Y2k6ITEsTW86W10sTG86W119KSx0LmdldChlKX0saS5wcm90b3R5cGUuRFA9ZnVuY3Rpb24oZSx0LHIpeyF0aGlzLkhvJiZ0aGlzLnhvJiZ0aGlzLnhvKCk7dmFyIGksbj10aGlzLk5QKHQpO2k9cj9uLkxvOm4uTW8saS5wdXNoKGUpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwiZGlzcGF0Y2hlc1JhbmdlQ2hhbmdlc1wiLHt2YWx1ZTohMCxVaTohMCx1OiEwLGw6ITF9KTt2YXIgcz10aGlzO3JldHVybiBmdW5jdGlvbigpe3MmJihzLkZQKGUsdCxyKSxzPW51bGwpfX0saS5wcm90b3R5cGUuRlA9ZnVuY3Rpb24oZSx0LHIpe3ZhciBpLG49dGhpcy5OUCh0KTtpPXI/bi5MbzpuLk1vO3ZhciBzPWkubGFzdEluZGV4T2YoZSk7aWYoLTE9PT1zKXRocm93IG5ldyBFcnJvcihcIkNhbid0IHJlbW92ZSByYW5nZSBjaGFuZ2UgbGlzdGVuZXI6IGRvZXMgbm90IGV4aXN0OiB0b2tlbiBcIitKU09OLnN0cmluZ2lmeSh0KSk7aS5zcGxpY2UocywxKX0saS5wcm90b3R5cGUuTFA9ZnVuY3Rpb24oZSx0LHIsaSl7dmFyIG49XCJSYW5nZVwiKyhpP1wiV2lsbENoYW5nZVwiOlwiQ2hhbmdlXCIpO3RoaXMuX1AoKS5mb3JFYWNoKGZ1bmN0aW9uKHMsbyl7aWYoIXMuY2kpe3MuY2k9ITA7dmFyIGE7YT1pP3MuTG86cy5Nbzt2YXIgaD1cImhhbmRsZVwiKyhvLnNsaWNlKDAsMSkudG9VcHBlckNhc2UoKStvLnNsaWNlKDEpKStuO3RyeXthLnNsaWNlKCkuZm9yRWFjaChmdW5jdGlvbihuKXtpZighKGEuaW5kZXhPZihuKTwwKSlpZihuW2hdKW5baF0oZSx0LHIsdGhpcyxpKTtlbHNle2lmKCFuLmNhbGwpdGhyb3cgbmV3IEVycm9yKFwiSGFuZGxlciBcIituK1wiIGhhcyBubyBtZXRob2QgXCIraCtcIiBhbmQgaXMgbm90IGNhbGxhYmxlXCIpO24uY2FsbCh0aGlzLGUsdCxyLHRoaXMsaSl9fSx0aGlzKX1maW5hbGx5e3MuY2k9ITF9fX0sdGhpcyl9LGkucHJvdG90eXBlLk1QPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuRFAoZSx0LCEwKX0saS5wcm90b3R5cGUuQlA9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5GUChlLHQsITApfSxpLnByb3RvdHlwZS5VUD1mdW5jdGlvbihlLHQscil7cmV0dXJuIHRoaXMuTFAoZSx0LHIsITApfX0sZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiByKCl7dGhyb3cgbmV3IEVycm9yKFwiQ2FuJ3QgY29uc3RydWN0LiBHZW5lcmljU2V0IGlzIGEgbWl4aW4uXCIpfWUudD1yLHIucHJvdG90eXBlLnhQPSEwLHIucHJvdG90eXBlLkhQPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZGUodGhpcyk7cmV0dXJuIHQuYWRkRWFjaChlKSx0fSxyLnByb3RvdHlwZS5xUD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5kZSh0aGlzLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4gZS5oYXModCl9KSl9LHIucHJvdG90eXBlLlZQPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZGUodGhpcyk7cmV0dXJuIHQuZG8oZSksdH0sci5wcm90b3R5cGUualA9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5IUChlKSxyPXRoaXMucVAoZSk7cmV0dXJuIHQuVlAocil9LHIucHJvdG90eXBlLkdQPWZ1bmN0aW9uKGUpe3JldHVybit0aGlzLmRlbGV0ZShlKX0sci5wcm90b3R5cGUuYWU9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLnJlZHVjZSYmdGhpcy5sZW5ndGg9PT1lLmxlbmd0aCYmZS5yZWR1Y2UoZnVuY3Rpb24oZSxpKXtyZXR1cm4gZSYmci5oYXMoaSx0KX0sITApfSxyLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50b0FycmF5KCl9LHIucHJvdG90eXBlLmNvbnRhaW5zPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmhhcyhlKX0sci5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmRlbGV0ZShlKX0sci5wcm90b3R5cGUudG9nZ2xlPWZ1bmN0aW9uKGUpe3RoaXMuaGFzKGUpP3RoaXMuZGVsZXRlKGUpOnRoaXMuYWRkKGUpfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBpLGk7IWZ1bmN0aW9uKHQpe2UudD10KCl9KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uIGUodCxyLG4pe2Z1bmN0aW9uIHMoYSxoKXtpZighclthXSl7aWYoIXRbYV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIGkmJmk7aWYoIWgmJmMpcmV0dXJuIGkoYSwhMCk7aWYobylyZXR1cm4gbyhhLCEwKTt2YXIgdT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2ErXCInXCIpO3Rocm93IHUuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIix1fXZhciBsPXJbYV09e3Q6e319O3RbYV1bMF0uY2FsbChsLnQsZnVuY3Rpb24oZSl7dmFyIHI9dFthXVsxXVtlXTtyZXR1cm4gcyhyfHxlKX0sbCxsLnQsZSx0LHIsbil9cmV0dXJuIHJbYV0udH1mb3IodmFyIG89XCJmdW5jdGlvblwiPT10eXBlb2YgaSYmaSxhPTA7YTxuLmxlbmd0aDthKyspcyhuW2FdKTtyZXR1cm4gc30oezE6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgaT1lKFwiLi9rZXJuZWxcIik7ci5PPWkuTzt2YXIgbj1lKFwiLi90eXBlX2JpbmRpbmdcIik7ci5RUD1uLlFQO3ZhciBzPWUoXCIuL3R5cGVfYmluZGluZ19zY29wZVwiKTtyLktQPXMuS1B9LHtcIi4va2VybmVsXCI6MixcIi4vdHlwZV9iaW5kaW5nXCI6NCxcIi4vdHlwZV9iaW5kaW5nX3Njb3BlXCI6NX1dLDI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgaT1lKFwiLi90eXBlX2JpbmRpbmdfc2NvcGVcIiksbj1lKFwiLi9sb29rdXBcIikscz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLllQPW5ldyBuLnpQfXJldHVybiBlLnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKGUpe3RoaXMuWVAuYWRkKGUuSlAsZSl9LGUucHJvdG90eXBlLldQPWZ1bmN0aW9uKGUpe3RyeXt0aGlzLllQLnJlbW92ZShlKX1jYXRjaCh0KXt0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZCBub3QgcmVzb2x2ZSBzZXJ2aWNlIFwiK2UpfX0sZS5wcm90b3R5cGUuaz1mdW5jdGlvbigpe3RoaXMuWVA9bmV3IG4uelB9LGUucHJvdG90eXBlLnJlc29sdmU9ZnVuY3Rpb24oZSl7dmFyIHQ7aWYoIXRoaXMuWVAuWFAoZSkpcmV0dXJuIG51bGw7dD10aGlzLllQLmdldChlKTt2YXIgcj10WzBdO2lmKHIuc2NvcGU9PT1pLktQLlpQJiZudWxsIT09ci5VdylyZXR1cm4gci5Vdzt2YXIgbj10aGlzLiRQKHIuZUEpO3JldHVybiByLlV3PW4sbn0sZS5wcm90b3R5cGUudEE9ZnVuY3Rpb24oZSl7dmFyIHQscixpLG4scyxvO3JldHVybiBzPS8oKFxcL1xcLy4qJCl8KFxcL1xcKltcXHNcXFNdKj9cXCpcXC8pKS9nbSxvPS8oW15cXHMsXSspL2csdD1lLnRvU3RyaW5nKCkucmVwbGFjZShzLFwiXCIpLHI9dC5pbmRleE9mKFwiKFwiKSsxLGk9dC5pbmRleE9mKFwiKVwiKSxuPVwiZnVuY3Rpb25cIj09dHlwZW9mIE1hcCYmLTEhPT10LmluZGV4T2YoXCJjbGFzc1wiKSYmLTE9PT10LmluZGV4T2YoXCJjb25zdHJ1Y3RvclwiKT9udWxsOnQuc2xpY2UocixpKS5tYXRjaChvKSxudWxsPT09biYmKG49W10pLG59LGUucHJvdG90eXBlLiRQPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMudEEoZSk7aWYoMD09PXQubGVuZ3RoKXJldHVybiBuZXcgZTtmb3IodmFyIHI9W10saT1udWxsLG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIHM9dFtuXTtpPXRoaXMucmVzb2x2ZShzKSxyLnB1c2goaSl9cmV0dXJuIHRoaXMuckEoZSxyKX0sZS5wcm90b3R5cGUuckE9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3KEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmFwcGx5KGUsW251bGxdLmNvbmNhdCh0KSkpfSxlfSgpO3IuTz1zfSx7XCIuL2xvb2t1cFwiOjMsXCIuL3R5cGVfYmluZGluZ19zY29wZVwiOjV9XSwzOltmdW5jdGlvbihlLHQscil7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7dGhpcy5rZXk9ZSx0aGlzLnZhbHVlPW5ldyBBcnJheSx0aGlzLnZhbHVlLnB1c2godCl9cmV0dXJuIGV9KCksbj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLmlBPW5ldyBBcnJheX1yZXR1cm4gZS5wcm90b3R5cGUubkE9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PS0xLHI9MDtyPHRoaXMuaUEubGVuZ3RoO3IrKyl7dGhpcy5pQVtyXS5rZXk9PT1lJiYodD1yKX1yZXR1cm4gdH0sZS5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKGUsdCl7aWYobnVsbD09PWV8fHZvaWQgMD09PWUpdGhyb3cgbmV3IEVycm9yKFwiQXJndW1lbnQgTnVsbFwiKTtpZihudWxsPT09dHx8dm9pZCAwPT09dCl0aHJvdyBuZXcgRXJyb3IoXCJBcmd1bWVudCBOdWxsXCIpO3ZhciByPXRoaXMubkEoZSk7aWYoLTEhPT1yKXt2YXIgbj10aGlzLmlBW3JdO24ua2V5PT09ZSYmbi52YWx1ZS5wdXNoKHQpfWVsc2UgdGhpcy5pQS5wdXNoKG5ldyBpKGUsdCkpfSxlLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oZSl7aWYobnVsbD09PWV8fHZvaWQgMD09PWUpdGhyb3cgbmV3IEVycm9yKFwiQXJndW1lbnQgTnVsbFwiKTt2YXIgdD10aGlzLm5BKGUpO2lmKC0xPT09dCl0aHJvdyBuZXcgRXJyb3IoXCJLZXkgTm90IEZvdW5kXCIpO3ZhciByPXRoaXMuaUFbdF07cmV0dXJuIHIua2V5PT09ZT9yLnZhbHVlOnZvaWQgMH0sZS5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKGUpe2lmKG51bGw9PT1lfHx2b2lkIDA9PT1lKXRocm93IG5ldyBFcnJvcihcIkFyZ3VtZW50IE51bGxcIik7dmFyIHQ9dGhpcy5uQShlKTtpZigtMT09PXQpdGhyb3cgbmV3IEVycm9yKFwiS2V5IE5vdCBGb3VuZFwiKTt0aGlzLmlBLnNwbGljZSh0LDEpfSxlLnByb3RvdHlwZS5YUD1mdW5jdGlvbihlKXtpZihudWxsPT09ZXx8dm9pZCAwPT09ZSl0aHJvdyBuZXcgRXJyb3IoXCJBcmd1bWVudCBOdWxsXCIpO3JldHVybi0xIT09dGhpcy5uQShlKX0sZX0oKTtyLnpQPW59LHt9XSw0OltmdW5jdGlvbihlLHQscil7dmFyIGk9ZShcIi4vdHlwZV9iaW5kaW5nX3Njb3BlXCIpLG49ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxyKXtpZih0aGlzLkpQPWUsdGhpcy5lQT10LHRoaXMuVXc9bnVsbCx2b2lkIDA9PT1yKXRoaXMuc2NvcGU9aS5LUC5zQTtlbHNle2lmKCFpLktQW3JdKXt2YXIgbj1cIkludmFsaWQgc2NvcGUgdHlwZSBcIityO3Rocm93IG5ldyBFcnJvcihuKX10aGlzLnNjb3BlPXJ9fXJldHVybiBlfSgpO3IuUVA9bn0se1wiLi90eXBlX2JpbmRpbmdfc2NvcGVcIjo1fV0sNTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBpOyFmdW5jdGlvbihlKXtlW2Uuc0E9MF09XCJUcmFuc2llbnRcIixlW2UuWlA9MV09XCJTaW5nbGV0b25cIn0oaXx8KGk9e30pKSxyLktQPWl9LHt9XX0se30sWzFdKSgxKX0pfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk7IWZ1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZX0oKTt0LkxvZ2dlclRpbWVzdGFtcD0hMCxlLkZyYW1ld29yaz10O3ZhciByPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZX0oKTtyLk1ldHJpY1NuYXBzaG90TG9ncz0wLHIuVHJhY2tTbmFwc2hvdExvZ3M9MCxlLkRlYnVnTG9ncz1yfShpPXQuSGl2ZUNvbmZpZ3x8KHQuSGl2ZUNvbmZpZz17fSkpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJih2b2lkIDA9PT13aW5kb3cuSGl2ZUNvbmZpZyYmKHdpbmRvdy5IaXZlQ29uZmlnPXt9KSx3aW5kb3cuSGl2ZUNvbmZpZy5GcmFtZXdvcms9aS5GcmFtZXdvcmssd2luZG93LkhpdmVDb25maWcuRGVidWdMb2dzPWkuRGVidWdMb2dzKX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZX0oKTtpLm9BPVwiMTI3LjAuMC4xXCIsaS5udT04OTk5LGkuaXU9ODk5OCxpLnJ1PTg4OTksaS5ldT04ODk4LGkuYUE9XCIvL3swfTp7MX0vP2NhbGxiYWNrPXsyfXszfWhpdmVQbHVnaW5JZD17NH1cIixpLmhBPVwiLy97MH06ezF9Lz9jYWxsYmFjaz17Mn1cIixpLnN1PSEwLGkuY0E9LygoaHR0cHxodHRwcyk6XFwvXFwvKC4qKTooWzAtOV0qKVxcLyhbMC05YS16LV0qKS5pc21cXC8pKC4qKS8saS51QT1cIjIwMTMuMS4xXCIsdC50dT1pfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5jb3VudD0wfXJldHVybiBlLnByb3RvdHlwZS5uZXh0PWZ1bmN0aW9uKCl7cmV0dXJuKyt0aGlzLmNvdW50fSxlfSgpO3QuQ291bnRlcj1pO3ZhciBuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMucmVzZXQoKX1yZXR1cm4gZS5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKGUpe2U8PTB8fCh0aGlzLmxBKz1lLHRoaXMucEErKyxlPnRoaXMuZkEmJih0aGlzLmZBPWUpLGU8dGhpcy5kQSYmKHRoaXMuZEE9ZSkpfSxlLnByb3RvdHlwZS5taW49ZnVuY3Rpb24oZSl7dm9pZCAwPT09ZSYmKGU9ITApO3ZhciB0PXRoaXMuZEE9PU51bWJlci5QT1NJVElWRV9JTkZJTklUWT8wOnRoaXMuZEE7cmV0dXJuIGUmJnRoaXMucmVzZXQoKSx0fSxlLnByb3RvdHlwZS5tYXg9ZnVuY3Rpb24oZSl7dm9pZCAwPT09ZSYmKGU9ITApO3ZhciB0PXRoaXMuZkE9PU51bWJlci5ORUdBVElWRV9JTkZJTklUWT8wOnRoaXMuZkE7cmV0dXJuIGUmJnRoaXMucmVzZXQoKSx0fSxlLnByb3RvdHlwZS5Fbz1mdW5jdGlvbihlKXt2b2lkIDA9PT1lJiYoZT0hMCk7dmFyIHQ9dGhpcy5sQTtyZXR1cm4gZSYmdGhpcy5yZXNldCgpLHR9LGUucHJvdG90eXBlLnVuPWZ1bmN0aW9uKGUpe3ZvaWQgMD09PWUmJihlPSEwKTt2YXIgdD10aGlzLnBBPjA/dGhpcy5sQS90aGlzLnBBOjA7cmV0dXJuIGUmJnRoaXMucmVzZXQoKSx0fSxlLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMuZEE9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLHRoaXMuZkE9TnVtYmVyLk5FR0FUSVZFX0lORklOSVRZLHRoaXMubEE9MCx0aGlzLnBBPTB9LGV9KCk7dC5nQT1ufSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9cigzOCksbj1yKDEpOyFmdW5jdGlvbihlKXt2YXIgdDshZnVuY3Rpb24oZSl7ZVtlLm9mZj0wXT1cIm9mZlwiLGVbZS5lcnJvcj0xXT1cImVycm9yXCIsZVtlLndhcm49Ml09XCJ3YXJuXCIsZVtlLm5vdGljZT0zXT1cIm5vdGljZVwiLGVbZS5pbmZvPTRdPVwiaW5mb1wiLGVbZS5kZWJ1Zz01XT1cImRlYnVnXCIsZVtlLnRyYWNlPTZdPVwidHJhY2VcIn0odD1lLnZBfHwoZS52QT17fSkpO3ZhciByPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMudGltZXN0YW1wPWZ1bmN0aW9uKCl7fSx0aGlzLnlBPW5ldyBuLHRoaXMubGV2ZWw9dC5kZWJ1Zyx0aGlzLnRpbWVzdGFtcC50b1N0cmluZz1mdW5jdGlvbigpe3ZhciBlPW5ldyBEYXRlO3JldHVyblwiW1wiKyhcIjBcIitlLmdldFVUQ0hvdXJzKCkpLnNsaWNlKC0yKStcIjpcIisoXCIwXCIrZS5nZXRVVENNaW51dGVzKCkpLnNsaWNlKC0yKStcIjpcIisoXCIwXCIrZS5nZXRVVENTZWNvbmRzKCkpLnNsaWNlKC0yKStcIjpcIisoXCIwMFwiK2UuZ2V0VVRDTWlsbGlzZWNvbmRzKCkpLnNsaWNlKC0zKStcIl1cIn0sdGhpcy50ZT1cInVuZGVmaW5lZFwiPT10eXBlb2YgY29uc29sZT97bG9nOmZ1bmN0aW9uKCl7fX06Y29uc29sZSx0aGlzLnRlLnRyYWNlfHwodGhpcy50ZS50cmFjZT10aGlzLnRlLmxvZyksdGhpcy50ZS5kZWJ1Z3x8KHRoaXMudGUuZGVidWc9dGhpcy50ZS5sb2cpLHRoaXMudGUuaW5mb3x8KHRoaXMudGUuaW5mbz10aGlzLnRlLmxvZyksdGhpcy50ZS53YXJufHwodGhpcy50ZS53YXJuPXRoaXMudGUubG9nKSx0aGlzLnRlLmVycm9yfHwodGhpcy50ZS5lcnJvcj10aGlzLnRlLmxvZyksdGhpcy5tQSh0W3RoaXMubGV2ZWxdKX1yZXR1cm4gZS5wcm90b3R5cGUubUE9ZnVuY3Rpb24oZSxyKXtpLkhpdmVDb25maWcuRnJhbWV3b3JrLkhpdmVEZWJ1Z0xldmVsJiZ2b2lkIDAhPXRbaS5IaXZlQ29uZmlnLkZyYW1ld29yay5IaXZlRGVidWdMZXZlbF0/dGhpcy5sZXZlbD10W2kuSGl2ZUNvbmZpZy5GcmFtZXdvcmsuSGl2ZURlYnVnTGV2ZWxdOnZvaWQgMCE9dFtlXT90aGlzLmxldmVsPXRbZV06Y29uc29sZS5sb2coXCJXcm9uZyBsb2dnaW5nIGxldmVsOiBcIitlLHQpLHRoaXMuRUEocil9LGUucHJvdG90eXBlLkVBPWZ1bmN0aW9uKGUpe3ZhciByPXtsb2c6dGhpcy5UQSh0aGlzLnRlLmxvZyx0LmVycm9yLGUpLGVycm9yOnRoaXMuVEEodGhpcy50ZS5lcnJvcix0LmVycm9yLGUpLHdhcm46dGhpcy5UQSh0aGlzLnRlLndhcm4sdC53YXJuLGUpLG5vdGljZTp0aGlzLlRBKHRoaXMudGUuaW5mbyx0Lm5vdGljZSxlKSxpbmZvOnRoaXMuVEEodGhpcy50ZS5pbmZvLHQuaW5mbyxlKSxkZWJ1Zzp0aGlzLlRBKHRoaXMudGUuZGVidWcsdC5kZWJ1ZyxlKSx0cmFjZTp0aGlzLlRBKHRoaXMudGUudHJhY2UsdC50cmFjZSxlKX07ZT90aGlzLnlBLnNldChlLHIpOnRoaXMuSUE9cn0sZS5wcm90b3R5cGUuVEE9ZnVuY3Rpb24oZSx0LHIpe2lmKCEodGhpcy5sZXZlbD49dCkpcmV0dXJuIGZ1bmN0aW9uKCl7fTt0cnl7cmV0dXJuIGkuSGl2ZUNvbmZpZy5GcmFtZXdvcmsuTG9nZ2VyVGltZXN0YW1wP3I/RnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuY2FsbChlLGNvbnNvbGUsXCJTW1wiK3IrXCJdICVzXCIsdGhpcy50aW1lc3RhbXApOkZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmNhbGwoZSxjb25zb2xlLFwiJXNcIix0aGlzLnRpbWVzdGFtcCk6cj9GdW5jdGlvbi5wcm90b3R5cGUuYmluZC5jYWxsKGUsY29uc29sZSxcIlNbXCIrcitcIl1cIik6RnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuY2FsbChlLGNvbnNvbGUpfWNhdGNoKGUpe319LGUucHJvdG90eXBlLmxvZz1mdW5jdGlvbihlKXtyZXR1cm4gZT8odGhpcy55QS5oYXMoZSl8fHRoaXMubUEodFt0aGlzLmxldmVsXSxlKSx0aGlzLnlBLmdldChlKSk6dGhpcy5JQX0sZX0oKTtlLndBPXJ9KHQuU0F8fCh0LlNBPXt9KSl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1yKDI3KSxuPXIoMjUpLHM9bi5HbSxvPW4uUW0sYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLlNvdXJjZVVSTFBhcmFtcz17fX1yZXR1cm4gZS5wcm90b3R5cGUuUkE9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0IGluIGUpaWYoXCJTb3VyY2VVUkxQYXJhbXNcIj09PXQpZm9yKHZhciByIGluIGVbdF0pdGhpc1t0XVtyXT1lW3RdW3JdO2Vsc2UgdGhpc1t0XT1lW3RdO3RoaXMuYkEoKX0sZS5wcm90b3R5cGUuUEE9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLkNvbnRlbnRJZCt0aGlzLlNpdGVJZCt0aGlzLkNST0lkK3RoaXMuU291cmNlVVJMLHQ9bmV3IHM7dC5kZihcImI2NjE0YzNlNGNkMWQxNGVlZDZiMzllZjJiZjZiOWEzZTNkNmRmY2QyNjY5OWQ3MjcwZDg4NzkyM2JjYmY4M2VmYjNkYWRiNzE3YzBiYWZiMWQ0OGRjZTM2MWViMzY5YjdjYzQ2ZTU3NDA1ZWJmYmRkODZjMzE3NTUzMmZlNTZjYzc3ZjQ3M2QzNDViMmNiNmZlYWZiNWFiMGUyNGYzNjRhM2QyNTlmMjdlNGEyZmQ5NzQ2ODI2NWJkZGZkM2RkZDNhYzY0MjUxZGI2NTBjYTAyODBhZjJiMmM0NWU4YjFjOGYwNDBmMmM0MzNhYzBhMTU3ZDJiM2ZkOTE1MTcyNTNcIixcIjAxMDAwMVwiKTt2YXIgcj1vKHRoaXMuU2lnbmF0dXJlKTtyZXR1cm4gdC5CbShlLHIpfSxlLnByb3RvdHlwZS5BQT1mdW5jdGlvbihlKXt0aGlzLnRpY2tldFVybD1lO3ZhciB0PWkucGFyc2UoZSkscj10LnBhdGguc3BsaXQoXCIvXCIpLnNsaWNlKDMpO2lmKHRoaXMuU2l0ZUlkPXJbMF0sdGhpcy5DUk9JZD1yWzFdLHRoaXMuQ29udGVudElkPXJbMl0sdGhpcy5DQT1yWzNdLHQuZG4pdHJ5e3ZhciBuPXQuZG4uc3BsaXQoXCImXCIpO2Zvcih2YXIgcyBpbiBuKXt2YXIgbz1uW3NdLnNwbGl0KC89KC4rKS8pO3RoaXMuU291cmNlVVJMUGFyYW1zW29bMF1dPW9bMV19fWNhdGNoKGUpe310aGlzLmtBPWUuaW5kZXhPZihcImFwaS10ZXN0XCIpPi0xfSxlLnByb3RvdHlwZS5MaD1mdW5jdGlvbigpe3JldHVybiB0aGlzLlNpdGVJZH0sZS5wcm90b3R5cGUuTWg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5DUk9JZH0sZS5wcm90b3R5cGUuWGM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5Db250ZW50SWR9LGUucHJvdG90eXBlLk9BPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuQ0F9LGUucHJvdG90eXBlLl9BPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuU291cmNlVVJMfSxlLnByb3RvdHlwZS5OQT1mdW5jdGlvbigpe2lmKHRoaXMuREE9dGhpcy5Tb3VyY2VVUkwsdm9pZCAwIT10aGlzLlNvdXJjZVVSTFBhcmFtcyl7dmFyIGU9bmV3IEFycmF5O2Zvcih2YXIgdCBpbiB0aGlzLlNvdXJjZVVSTFBhcmFtcyllLnB1c2godCtcIj1cIit0aGlzLlNvdXJjZVVSTFBhcmFtc1t0XSk7ZS5sZW5ndGg+MCYmdGhpcy5EQSYmKHRoaXMuREErPSh0aGlzLkRBLmluZGV4T2YoXCI/XCIpPjA/XCImXCI6XCI/XCIpK2Uuam9pbihcIiZcIikpfX0sZS5wcm90b3R5cGUuYkE9ZnVuY3Rpb24oKXt2YXIgZT1yKDc0KTt0aGlzLnNlc3Npb25JZD1lLkZBKCl9LGUucHJvdG90eXBlLkxBPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuREF8fHRoaXMuTkEoKSx0aGlzLkRBfSxlLnByb3RvdHlwZS5xaD1mdW5jdGlvbigpe3JldHVyblwiW1wiK3RoaXMuU2l0ZUlkK1wiL1wiK3RoaXMuQ1JPSWQrXCIvXCIrdGhpcy5Db250ZW50SWQrXCJdXCJ9LGUucHJvdG90eXBlLk1BPWZ1bmN0aW9uKCl7cmV0dXJuW3RoaXMuU2l0ZUlkLHRoaXMuQ1JPSWQsdGhpcy5Db250ZW50SWRdfSxlLnByb3RvdHlwZS5CQT1mdW5jdGlvbigpe3JldHVybiB0aGlzLlNvdXJjZVVSTCtcIi1bXCIrdGhpcy5TaXRlSWQrXCIvXCIrdGhpcy5DUk9JZCtcIi9cIit0aGlzLkNvbnRlbnRJZCtcIl1cIn0sZS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5xaCgpfSxlfSgpO2EuVUE9XCJeaHR0cHM/Oi8vYXBpKD86LXRlc3QpPy5oaXZlc3RyZWFtaW5nLmNvbS92MS9ldmVudHMvKD86d2lsZGNhcmQvKT9cIixhLnhBPVwiQ1JPSWRcIixhLkhBPVwiU2l0ZUlkXCIsYS5xQT1cIkNvbnRlbnRJZFwiLHQuVkE9YX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZX0oKTtpLmpBPTU1LGkuR0E9NmU1LGkuUUE9NSxpLktBPTUsaS5ZQT01LGkuekE9MTAsaS5KQT1cImRpc3RcIixpLldBPVwiLi9zY2VuYXJpb3MvQnJva2VuVWRwXCIsaS5YQT1udWxsLGkuWkE9bnVsbCxpLiRBPW51bGwsaS5lQz0hMCxpLnRDPSEwLGkuckM9NmU0LHQuaUM9aTt2YXIgbj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGV9KCk7bi5uQz1cIkJ3RW11bGF0aW9uXCIsdC5zQz1ufSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaShlLHQscixzKXtpZighKHRoaXMgaW5zdGFuY2VvZiBpKSlyZXR1cm4gbmV3IGkoZSx0LHIscyk7dD10fHxPYmplY3QuYWUscj1yfHxPYmplY3QubW8scz1zfHxGdW5jdGlvbi5oZSx0aGlzLmNlPXQsdGhpcy55bz1yLHRoaXMubGU9cyx0aGlzLnBlPW5ldyBuKG51bGwsZnVuY3Rpb24oZSxyKXtyZXR1cm4gdChlLmtleSxyLmtleSl9LGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHIoZS5rZXksdC5rZXkpfSksdGhpcy5sZW5ndGg9MCx0aGlzLmFkZEVhY2goZSl9dmFyIG49KHIoMTIpLHIoMTM3KSkscz1yKDEzKSxvPXIoNDgpLGE9cigxNCk7ZS50PWksaS5vQz1pLE9iamVjdC5hZGRFYWNoKGkucHJvdG90eXBlLHMucHJvdG90eXBlKSxPYmplY3QuYWRkRWFjaChpLnByb3RvdHlwZSxvLnByb3RvdHlwZSksT2JqZWN0LmFkZEVhY2goaS5wcm90b3R5cGUsYS5wcm90b3R5cGUpLGkucHJvdG90eXBlLmRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvcihlLHRoaXMuY2UsdGhpcy55byx0aGlzLmxlKX0saS5wcm90b3R5cGUubG9nPWZ1bmN0aW9uKGUsdCxyLGkpe3Q9dHx8dGhpcy5nZSx0aGlzLnBlLmxvZyhlLGZ1bmN0aW9uKGUscixpKXt0KGUudmFsdWUscixpKX0scixpKX0saS5wcm90b3R5cGUuZ2U9ZnVuY3Rpb24oZSx0KXt0KFwiIGtleTogXCIrZS5rZXkpLHQoXCIgdmFsdWU6IFwiK2UudmFsdWUpfX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpLG49cig1NSkscz1yKDEpLG89cigyMiksYT1yKDApLGg9cigzKSxjPXIoMTApLHU9cigyOCksbD1yKDExKTshZnVuY3Rpb24oZSl7ZVtlLiRzPTBdPVwiUExBWUVSXCIsZVtlLmFDPTFdPVwiTEFOXCIsZVtlLmhDPTJdPVwiU0lURVwifShpPXQuY0N8fCh0LmNDPXt9KSk7dmFyIHA9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy51Qz0hMSx0aGlzLmdSPW51bGwsdGhpcy5sQz0tMSx0aGlzLnBDPTB9cmV0dXJuIGV9KCk7dC5mQz1wO3ZhciBmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMubW49XCJbUHJlZmV0Y2hlcl0gXCIsdGhpcy5kQz0hMCx0aGlzLmdDPTAsdGhpcy52Qz1uZXcgcyx0aGlzLnlDPW5ldyBzfXJldHVybiBlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKGUpe3RoaXMudGU9YS5GcmFtZXdvcmsucmVzb2x2ZShhLkZyYW1ld29yay5xLkkpLmxvZyhlLnNlc3Npb25JZCksdGhpcy5tQz1lLkVDLHRoaXMuVEM9ZS5UQyx0aGlzLklDPWUuSUMsdGhpcy5Vdz1lLlV3LHRoaXMud0M9ZS53Qyx0aGlzLlNDPWUuU0MsdGhpcy5SQz1lLlJDLHRoaXMuYkM9ZS5iQ30sZS5wcm90b3R5cGUuUEM9ZnVuY3Rpb24oZSx0KXt0aGlzLmNvbnRleHQ9ZSx0aGlzLkFDPXQsdGhpcy5SQy5QQyh0KX0sZS5wcm90b3R5cGUuQ0M9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMueUMuaGFzKGUpfSxlLnByb3RvdHlwZS5rQz1mdW5jdGlvbigpe3JldHVybiB0aGlzLkFDfSxlLnByb3RvdHlwZS5PQz1mdW5jdGlvbihlLHQscil7dmFyIG89dGhpcyxhPW5ldyBuO3RoaXMueUMuZm9yRWFjaChmdW5jdGlvbihlLHQpe2EuYWRkKHQpfSk7dmFyIGg9bmV3IG47aWYoaC5hZGRFYWNoKGUua2V5cygpKSx0aGlzLkFDLl9DKCkpe3ZhciBjPXRoaXMuQUMuX0MoKS5iaXRyYXRlO2lmKGguYWRkKGMpLGguZm9yRWFjaChmdW5jdGlvbihlKXthLmRlbGV0ZShlKX0pLHIpe3ZhciB1PVtdO2EuZm9yRWFjaChmdW5jdGlvbihlKXtvLnlDLmhhcyhlKSYmby55Qy5nZXQoZSkuTkM9PWkuaEMmJih1LnB1c2goZSksaC5hZGQoZSkpfSksdS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2EuZGVsZXRlKGUpfSl9dmFyIGw9bmV3IHM7aC5mb3JFYWNoKGZ1bmN0aW9uKHQpe28ueUMuaGFzKHQpJiZvLnlDLmdldCh0KS5OQz09aS5oQz9sLnNldCh0LGkuaEMpOmwuc2V0KHQsZS5nZXQodCkpfSksdGhpcy5EQyhhKSx0aGlzLkZDKGwsdCl9fSxlLnByb3RvdHlwZS5GQz1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7ZS5mb3JFYWNoKGZ1bmN0aW9uKGUsaSl7MCE9aSYmci5MQyhpLGUsdCl9KX0sZS5wcm90b3R5cGUuREM9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztlLmZvckVhY2goZnVuY3Rpb24oZSl7dC53Qy5NQyhlKSx0LnRlLmRlYnVnKHQubW4rXCJSZW1vdmUgdW53YW50ZWQgYml0cmF0ZSBcIitlKSx0LnlDLmRlbGV0ZShlKX0pfSxlLnByb3RvdHlwZS5MQz1mdW5jdGlvbihlLHQscil7dGhpcy55Qy5oYXMoZSk/dGhpcy5CQyhlLHIpOnRoaXMueUMuaGFzKGUpfHx0aGlzLlVDKGUsdCxyKX0sZS5wcm90b3R5cGUuQkM9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLnlDLmdldChlKTtyLnR5cGU9dCxyLnR5cGUhPWkuaEMmJihyLmxDPS0xKSx0aGlzLndDLnhDKGUscil9LGUucHJvdG90eXBlLlVDPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10aGlzLHM9bmV3IHA7cy5nUj1udWxsLHMudHlwZT1yLHMuYml0cmF0ZT1lLHMuTkM9dCx0aGlzLnlDLnNldChlLHMpLHRoaXMueUMuZm9yRWFjaChmdW5jdGlvbihlLHQpe24udGUuZGVidWcobi5tbitcIkFCVCBcIit0K1wiIFMgXCIraVtlLnR5cGVdK1wiIFBSRUYgUkVBU09OIFwiK2lbZS5OQ10pfSksdGhpcy53Qy54QyhlLHMpfSxlLnByb3RvdHlwZS5IQz1mdW5jdGlvbihlKXt2YXIgdD10aGlzO2lmKHRoaXMueUMuaGFzKGUuSVIoKSkpe3ZhciByPXRoaXMueUMuZ2V0KGUuSVIoKSk7ci5sQz4wJiZyLnFDJiYoci5sQz1lLmR1cmF0aW9uLShhLkZyYW1ld29yay50aW1lKCktci5xQyktci5wQyxyLnBDPTUwKSxyLmdSPWUsdGhpcy5WQyhlLklSKCkpLHRoaXMueUMuZm9yRWFjaChmdW5jdGlvbihyLG4pe3ImJnIudHlwZSE9aS4kcyYmbiE9ZS5JUigpJiZ0LmpDKHIsbil9KX1lbHNlIHRoaXMudGUud2Fybih0aGlzLm1uK1wiRnJhZ21lbnQgXCIrZS56dSgpK1wiIHRyaWdnZXJlZCBwcmVmZXRjaCB3aXRoIHVua25vd24gYml0cmF0ZS4gQ2hlY2sgbG9ncy4gVGhpcyBzaG91bGQgbm90IGhhcHBlbi5cIil9LGUucHJvdG90eXBlLkdDPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMueUMua2V5cygpLHI9dC5pbmRleE9mKGUpO3JldHVybi0xIT1yJiZ0LnNwbGljZShyLDEpLHR9LGUucHJvdG90eXBlLlFDPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7ZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciByPXQueUMuZ2V0KGUpO3ImJnIudHlwZSE9aS4kcyYmdC5qQyhyLHIuYml0cmF0ZSl9KX0sZS5wcm90b3R5cGUuakM9ZnVuY3Rpb24oZSx0KXtpZihlLnR5cGUhPWkuJHMpe3ZhciByPXRoaXMuQUMuX0MoKTtpZihudWxsIT1yKXt2YXIgbj10aGlzLkFDLktDKHIudlIsdCxjLldzLllzKTtudWxsPT1uPyh0aGlzLnRlLmRlYnVnKHRoaXMubW4rXCJQUkVGRVRDSElORyBcIit0K1wiIE1JU1NJTkcgTUVUQURBVEEgXCIpLHRoaXMudUModCkpOihlLmdSPW4sdGhpcy5WQyhuLklSKCkpKX1lbHNlIHRoaXMudGUuZGVidWcodGhpcy5tbitcIlBMQVlFUiBOT1QgUExBWUlORyBcIiksdGhpcy51Qyh0KX19LGUucHJvdG90eXBlLllDPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMueUMuZ2V0KGUpO3QmJnQudUMmJihudWxsIT10LmdSPyh0aGlzLnRlLmRlYnVnKHRoaXMubW4rXCJSRVNUQVJUIFBSRUZFVENISU5HIE9OIEFWQUlMQUJMRSBNRVRBREFUQVwiKSx0LnVDPSExLHRoaXMuVkModC5iaXRyYXRlKSk6KHQudUM9ITEsdGhpcy5qQyh0LGUpKSl9LGUucHJvdG90eXBlLnpDPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7ZT90aGlzLllDKGUpOnRoaXMueUMuZm9yRWFjaChmdW5jdGlvbihlLHIpe3QuWUMocil9KX0sZS5wcm90b3R5cGUuVkM9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5BQy5fQygpO2lmKHQpe3ZhciByPXRoaXMueUMuZ2V0KGUpO2lmKHIpe2lmKHIuZ1ImJnQuSVIoKT09ZSl7dmFyIGk9dGhpcy5KQyhyLmdSLkVSKCksZSk7dGhpcy53Qy5XQyhpKX10aGlzLlhDKHIpfX19LGUucHJvdG90eXBlLlhDPWZ1bmN0aW9uKGUpe2lmKGUuZ1Ipe3ZhciB0PXRoaXMuWkMoZS5nUik7aWYobnVsbCE9dCl0aGlzLiRDKHQsZSk7ZWxzZXt2YXIgcj1lLmJpdHJhdGU7dGhpcy50ZS5kZWJ1Zyh0aGlzLm1uK1wiUFJFRkVUQ0hJTkcgXCIrcitcIiBTVE9QUEVEIEJFQ0FVU0UgT0YgTUlTU0lORyBNRVRBREFUQSBcIiksdGhpcy55Qy5nZXQocikudUM9ITAsdGhpcy51QyhyKX19ZWxzZSBlLnVDPSEwLHRoaXMudUMoZS5iaXRyYXRlKX0sZS5wcm90b3R5cGUuJEM9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49dGhpcy5layhlLnp1KCksZS5JUigpLGUuRVIoKSx0LnR5cGUpO2lmKG4udGspe3RoaXMudkMuaGFzKGUuenUoKSkmJmEuRnJhbWV3b3JrLmNsZWFyVGltZW91dCh0aGlzLnZDLmdldChlLnp1KCkpKTt2YXIgcz1uLnR5cGU9PW8uVHUudnUsYz0xO2lmKHMpe3ZhciBsPU1hdGgubWF4KDAsdC5sQyk7Yz10aGlzLlJDLnJrKHQudHlwZSxlLklSKCksZS5FUigpLGwpfXRoaXMudGUuZGVidWcodGhpcy5tbitcIlBSRUZFVENISU5HIFwiK2UudXJsK1wiIENETiBQUkVGRVRDSCBcIitzK1wiIElOIFwiK2MrXCIgTVNFQ1NcIik7dmFyIHA9dGhpcy55Qy5nZXQoZS5JUigpKTtwLmdSPWU7dmFyIGY9YS5GcmFtZXdvcmsuc2V0VGltZW91dChmdW5jdGlvbigpe3IudkMuZGVsZXRlKGUuenUoKSk7dmFyIHM9bmV3IHUuSGl2ZVJlcXVlc3Qoci5UQy5zZXNzaW9uSWQpO3MudXJsPWUudXJsLHAucUM9YS5GcmFtZXdvcmsudGltZSgpLHIuZ0M9MDt2YXIgYz1yLlRDLmlrKHMsZSxyLmNvbnRleHQsbi50eXBlKTtjJiYoYy5CdT10LnR5cGU9PWkuaEN8fHQudHlwZT09aS5hQyxzLm9uZXJyb3I9cy5vbmxvYWQ9ZnVuY3Rpb24oKXtpZihjLkt1KCk9PW8uVHUudnUmJighcy5zdGF0dXN8fHMuc3RhdHVzPDIwMHx8cy5zdGF0dXM+Mjk5KSl7dmFyIHQ9ci55Qy5nZXQoZS5JUigpKTtzPW51bGw7dmFyIGk9dC5nUi5kdXJhdGlvbixuPXQuZ1IuZHVyYXRpb24raC5uaS5kci5YdCx1PU1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSoobi1pKSkraTt0LmxDPXUtKGEuRnJhbWV3b3JrLnRpbWUoKS10LnFDKSx0LnBDPTAsci5WQyh0LmdSLmJpdHJhdGUpfX0pfSxjKTt0aGlzLnZDLnNldChlLnp1KCksZil9fSxlLnByb3RvdHlwZS5uaz1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy52Qy5mb3JFYWNoKGZ1bmN0aW9uKHQscil7ZS50ZS5kZWJ1ZyhlLm1uK1wiQ2xlYXJpbmcgZGVsYXllZCBwcmVmZXRjaCB0aW1lciBpZCBcIit0KSxhLkZyYW1ld29yay5jbGVhclRpbWVvdXQodCksZS52Qy5kZWxldGUocil9KX0sZS5wcm90b3R5cGUudUM9ZnVuY3Rpb24oZSl7dGhpcy55Qy5oYXMoZSkmJih0aGlzLnlDLmdldChlKS51Qz0hMCx0aGlzLkFDLnNrKGUpKX0sZS5wcm90b3R5cGUuWkM9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy55Qy5nZXQoZS5JUigpKSxyPWUsaT10aGlzLmFrKHIpO3JldHVybiBpJiZpLnp1KCkhPWUuenUoKT9pOmkmJmkuenUoKT09dC5nUi56dSgpP2U6bnVsbH0sZS5wcm90b3R5cGUuYWs9ZnVuY3Rpb24oZSl7aWYobnVsbD09ZSlyZXR1cm4gbnVsbDt2YXIgdD10aGlzLlV3LmhrKCEwKSxyPWU7aWYodClmb3IoO251bGwhPXImJi0xIT10LmluZGV4T2Yoci56dSgpKTspaWYoIShyPXRoaXMuQUMuY2socikpKXJldHVybiByO3JldHVybiByfSxlLnByb3RvdHlwZS5laz1mdW5jdGlvbihlLHQscixuKXt2YXIgcz10aGlzLnVrKGUpLGE9cz9vLlR1LkV1Om8uVHUudnUsaD0hMTtoPW4hPWkuJHM/IXRoaXMudkMuaGFzKGUpfHxhIT1vLlR1LnZ1OmE9PW8uVHUuRXU7dmFyIGM9dGhpcy5BQy5saygpLHU9dGhpcy5wayhyLHQsYSksbD1uPT1pLmhDO3JldHVybiB0aGlzLnRlLmRlYnVnKHRoaXMubW4rXCJQUkVGRVRDSElORyBcIitvLlR1W2FdK1wiIChMQU4gTEVBREVSOiBcIit0aGlzLndDLmZrKCkrXCIgU0lURSBMRUFERVI6IFwiK2wrXCIpIENIRUNLUyBGT1IgXCIrZStcIiBbSEFWRVM6XCIrcytcIiBOT1RCVUZGRVJJTkc6XCIrYytcIiBESVNUQU5DRTpcIit1LnZhbGlkK1wiKFwiK3UuZGsrXCIpXVwiKSx7dGs6aCYmYyYmdS52YWxpZCx0eXBlOmF9fSxlLnByb3RvdHlwZS5waz1mdW5jdGlvbihlLHQscil7dmFyIGk9dGhpcy5BQy5nayhlLHQpO3JldHVybiBpPD10aGlzLkFDLnZrKCk/e2RrOmksdmFsaWQ6ITB9OntkazppLHZhbGlkOiExfX0sZS5wcm90b3R5cGUuSkM9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLkFDLl9DKCk7aWYobnVsbCE9cil7dmFyIGk9ci5FUigpO3JldHVybiB0aGlzLkFDLnlrKGksdCxlLHQpfXJldHVybi0xfSxlLnByb3RvdHlwZS51az1mdW5jdGlvbihlKXtpZih0aGlzLm1DLmNvbnRhaW5zKGUpKXt2YXIgdD10aGlzLm1DLm1rKGUpO2lmKHQubGVuZ3RoPj1oLm5pLmRyLmVyKXtpZihoLm5pLmRyLnJyKXt2YXIgcj1bXSxpPVtdLG49W10scz10aGlzLndDLkVrKCk7cmV0dXJuIHQuZm9yRWFjaChmdW5jdGlvbihlKXtlLklrLlRrLnR5cGU9PWwuWnMuSyYmci5wdXNoKGUpO3ZhciB0PWUuSWsuVGsuaW50ZXJuYWxBczswIT1zJiZ0JiZzPT10JiZpLnB1c2goZSksZS5Jay5Uay50eXBlPT1sLlpzLlhzJiZuLnB1c2goZSl9KSxyLmxlbmd0aD4wPyF0aGlzLmRDfHwhdGhpcy53ayhyLGUpOiEoIXRoaXMud0MuZmsoKSYmdGhpcy53Qy5TaygpfHwhKGkubGVuZ3RoPjApKXx8ISghKG4ubGVuZ3RoPjApfHwhdGhpcy53Qy5SaygpJiZ0aGlzLndDLmJrKCkpfXJldHVybiEwfX1yZXR1cm4hMX0sZS5wcm90b3R5cGUud2s9ZnVuY3Rpb24oZSx0KXtpZih0aGlzLndDLlBrKCkubGVuZ3RoPmgubmkuZHIudXIpcmV0dXJuIHRoaXMud0MuQWsoKSxlLmxlbmd0aD09aC5uaS5kci5jciYmZVswXS5ndWlkPT10aGlzLndDLmtrKCkuQ2smJmEuRnJhbWV3b3JrLnJhbmRvbSgpPmgubmkuZHIubHImJnRoaXMuZ0M8aC5uaS5kci5wciYmKHRoaXMudGUuZGVidWcoXCJTS0lQIFBSRUZFVENIIENZQ0xFIFwiK3RoaXMuZ0MrXCIgVE8gT0ZGTE9BRCBMRUFERVJcIiksdGhpcy5nQysrLCEwKTtyZXR1cm4hMX0sZS5wcm90b3R5cGUuT2s9ZnVuY3Rpb24oZSx0KXtlLl9rPWUuVnUuaWQsZS5WdT10LHRoaXMudGUuZGVidWcodGhpcy5tbitcIlVQR1JBREUgXCIrby5UdVtlLkt1KCldK1wiIFJFUSBcIitlLmp1K1wiIEZPUiBcIitlLlF1Lnp1KCkpLGUuS3UoKT09by5UdS5FdT8oZS5NdS5wMnBBZ2VuVHJhZmZpY1N1Y2Nlc3NRdD1lLnF1LGUuVXU/KGUudHlwZT1vLlR1Lm11LHRoaXMuSUMuTmsoZSl8fCh0aGlzLnRlLmRlYnVnKHRoaXMubW4rXCJTRVQgUkVRVUVTVCBUSU1FRC1PVVQgV0FTIDAuIENETiBDT01QRU5TQVRJT05cIiksdGhpcy5JQy5EayhlLkZrLFwiVElNRUQtT1VUXCIpKSk6KGUudHlwZT1vLlR1LmR1LHRoaXMudGUuZGVidWcodGhpcy5tbitcIlRIRSBISVZFIFJFUSBcIitlLnp1KCkrXCIgQVJSSVZFRCBCRUZPUkUgVEhFIFAyUF9QUkVGRVRDSCBJTklUSUFMSVpFRC4gQ0hBTkdFIFJFUVVFU1QgVFlQRSBUTyBcIitvLlR1W2UuS3UoKV0pKSk6ZS5LdSgpPT1vLlR1LnZ1JiYoZS50eXBlPW8uVHUuZHUpfSxlfSgpO3QuTGs9Zn0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGkoZSx0LHIpe2lmKCEodGhpcyBpbnN0YW5jZW9mIGkpKXJldHVybiBuZXcgaShlLHQscik7dmFyIG49dGhpcy5oZWFkPW5ldyB0aGlzLk5vZGU7bi5uZXh0PW4sbi5Naz1uLHRoaXMuY2U9dHx8T2JqZWN0LmFlLHRoaXMubGU9cnx8RnVuY3Rpb24uaGUsdGhpcy5sZW5ndGg9MCx0aGlzLmFkZEVhY2goZSl9ZnVuY3Rpb24gbihlKXt0aGlzLmhlYWQ9ZSx0aGlzLkJrPWUubmV4dH1mdW5jdGlvbiBzKGUpe3RoaXMudmFsdWU9ZSx0aGlzLk1rPW51bGwsdGhpcy5uZXh0PW51bGx9ZS50PWk7dmFyIG89KHIoMTIpLHIoMTMpKSxhPXIoNjIpLGg9cigxNCksYz1yKDM1KTtpLlVrPWksT2JqZWN0LmFkZEVhY2goaS5wcm90b3R5cGUsby5wcm90b3R5cGUpLE9iamVjdC5hZGRFYWNoKGkucHJvdG90eXBlLGEucHJvdG90eXBlKSxPYmplY3QuYWRkRWFjaChpLnByb3RvdHlwZSxoLnByb3RvdHlwZSksT2JqZWN0LmFkZEVhY2goaS5wcm90b3R5cGUsYy5wcm90b3R5cGUpLGkucHJvdG90eXBlLmRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvcihlLHRoaXMuY2UsdGhpcy5sZSl9LGkucHJvdG90eXBlLmZpbmQ9ZnVuY3Rpb24oZSx0LHIpe3Q9dHx8dGhpcy5jZTtmb3IodmFyIGk9dGhpcy5oZWFkLG49dGhpcy54ayhyLGkubmV4dCk7biE9PWk7KXtpZih0KG4udmFsdWUsZSkpcmV0dXJuIG47bj1uLm5leHR9fSxpLnByb3RvdHlwZS5Iaz1mdW5jdGlvbihlLHQscil7dD10fHx0aGlzLmNlO2Zvcih2YXIgaT10aGlzLmhlYWQsbj10aGlzLnhrKHIsaS5Nayk7biE9PWk7KXtpZih0KG4udmFsdWUsZSkpcmV0dXJuIG47bj1uLk1rfX0saS5wcm90b3R5cGUuaGFzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuISF0aGlzLmZpbmQoZSx0KX0saS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5maW5kKGUsdCk7cmV0dXJuIHI/ci52YWx1ZTp0aGlzLmxlKGUpfSxpLnByb3RvdHlwZS5kZWxldGU9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLkhrKGUsdCk7aWYocil7aWYodGhpcy5xayl7dmFyIGk9W10sbj1bZV07dGhpcy5VUChpLG4sci5pbmRleCl9cmV0dXJuIHIuZGVsZXRlKCksdGhpcy5sZW5ndGgtLSx0aGlzLnFrJiYodGhpcy5WayhyLm5leHQsci5pbmRleCksdGhpcy5MUChpLG4sci5pbmRleCkpLCEwfXJldHVybiExfSxpLnByb3RvdHlwZS5HUD1mdW5jdGlvbihlLHQpe3Q9dHx8dGhpcy5jZTtmb3IodmFyIHI9dGhpcy5oZWFkLGk9ci5uZXh0LG49MDtpIT09cjspdChlLGkudmFsdWUpJiYoaS5kZWxldGUoKSxuKyspLGk9aS5uZXh0O3JldHVybiB0aGlzLmxlbmd0aC09bixufSxpLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3ZhciBlLHQ7dGhpcy5xayYmKHQ9dGhpcy50b0FycmF5KCksZT1bXSx0aGlzLlVQKGUsdCwwKSksdGhpcy5oZWFkLm5leHQ9dGhpcy5oZWFkLk1rPXRoaXMuaGVhZCx0aGlzLmxlbmd0aD0wLHRoaXMucWsmJnRoaXMuTFAoZSx0LDApfSxpLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IHRoaXMuTm9kZShlKTtyZXR1cm4gdGhpcy5xayYmKHQuaW5kZXg9dGhpcy5sZW5ndGgsdGhpcy5VUChbZV0sW10sdC5pbmRleCkpLHRoaXMuaGVhZC5qayh0KSx0aGlzLmxlbmd0aCsrLHRoaXMucWsmJnRoaXMuTFAoW2VdLFtdLHQuaW5kZXgpLCEwfSxpLnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5oZWFkO2lmKHRoaXMucWspe3ZhciB0PUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykscj1bXSxpPXRoaXMubGVuZ3RoO3RoaXMuVVAodCxyLGkpO3ZhciBuPXRoaXMuaGVhZC5Na31mb3IodmFyIHM9MDtzPGFyZ3VtZW50cy5sZW5ndGg7cysrKXt2YXIgbz1hcmd1bWVudHNbc10sYT1uZXcgdGhpcy5Ob2RlKG8pO2UuamsoYSl9dGhpcy5sZW5ndGgrPWFyZ3VtZW50cy5sZW5ndGgsdGhpcy5xayYmKHRoaXMuVmsobi5uZXh0LHZvaWQgMD09PW4uaW5kZXg/MDpuLmluZGV4KzEpLHRoaXMuTFAodCxyLGkpKX0saS5wcm90b3R5cGUudW5zaGlmdD1mdW5jdGlvbigpe2lmKHRoaXMucWspe3ZhciBlPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyksdD1bXTt0aGlzLlVQKGUsdCwwKX1mb3IodmFyIHI9dGhpcy5oZWFkLGk9MDtpPGFyZ3VtZW50cy5sZW5ndGg7aSsrKXt2YXIgbj1hcmd1bWVudHNbaV0scz1uZXcgdGhpcy5Ob2RlKG4pO3IuR2socykscj1zfXRoaXMubGVuZ3RoKz1hcmd1bWVudHMubGVuZ3RoLHRoaXMucWsmJih0aGlzLlZrKHRoaXMuaGVhZC5uZXh0LDApLHRoaXMuTFAoZSx0LDApKX0saS5wcm90b3R5cGUucG9wPWZ1bmN0aW9uKCl7dmFyIGUsdD10aGlzLmhlYWQ7aWYodC5NayE9PXQpe2lmKGU9dC5Nay52YWx1ZSx0aGlzLnFrKXt2YXIgcj1bXSxpPVtlXSxuPXRoaXMubGVuZ3RoLTE7dGhpcy5VUChyLGksbil9dC5Nay5kZWxldGUoKSx0aGlzLmxlbmd0aC0tLHRoaXMucWsmJnRoaXMuTFAocixpLG4pfXJldHVybiBlfSxpLnByb3RvdHlwZS5zaGlmdD1mdW5jdGlvbigpe3ZhciBlLHQ9dGhpcy5oZWFkO2lmKHQuTWshPT10KXtpZihlPXQubmV4dC52YWx1ZSx0aGlzLnFrKXt2YXIgcj1bXSxpPVtlXTt0aGlzLlVQKHIsaSwwKX10Lm5leHQuZGVsZXRlKCksdGhpcy5sZW5ndGgtLSx0aGlzLnFrJiYodGhpcy5Wayh0aGlzLmhlYWQubmV4dCwwKSx0aGlzLkxQKHIsaSwwKSl9cmV0dXJuIGV9LGkucHJvdG90eXBlLlFrPWZ1bmN0aW9uKCl7aWYodGhpcy5oZWFkIT09dGhpcy5oZWFkLm5leHQpcmV0dXJuIHRoaXMuaGVhZC5uZXh0LnZhbHVlfSxpLnByb3RvdHlwZS5Laz1mdW5jdGlvbihlKXt0aGlzLmhlYWQhPT10aGlzLmhlYWQubmV4dD90aGlzLmhlYWQubmV4dC52YWx1ZT1lOnRoaXMucHVzaChlKX0saS5wcm90b3R5cGUuUG89ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5RaygpfSxpLnByb3RvdHlwZS54az1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuaGVhZDtpZihcIm51bWJlclwiPT10eXBlb2YgZSl7dmFyIGk9ZTtpZihpPj0wKWZvcihlPXIubmV4dDtpJiYoaS0tLChlPWUubmV4dCkhPXIpOyk7ZWxzZSBmb3IoZT1yO2k8MCYmKGkrKywoZT1lLk1rKSE9cik7KTtyZXR1cm4gZX1yZXR1cm4gZXx8dH0saS5wcm90b3R5cGUuc2xpY2U9ZnVuY3Rpb24oZSx0KXt2YXIgcj1bXSxpPXRoaXMuaGVhZDtmb3IoZT10aGlzLnhrKGUsaS5uZXh0KSx0PXRoaXMueGsodCxpKTtlIT09dCYmZSE9PWk7KXIucHVzaChlLnZhbHVlKSxlPWUubmV4dDtyZXR1cm4gcn0saS5wcm90b3R5cGUuc3BsaWNlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuWWsoZSx0LEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywyKSl9LGkucHJvdG90eXBlLllrPWZ1bmN0aW9uKGUsdCxyKXt2YXIgaT1lO2U9dGhpcy54ayhlLHRoaXMuaGVhZCksbnVsbD09dCYmKHQ9MS8wKSxyPUFycmF5LmZyb20ocik7Zm9yKHZhciBuPVtdLHM9ZTt0LS0mJnQ+PTAmJnMhPT10aGlzLmhlYWQ7KW4ucHVzaChzLnZhbHVlKSxzPXMubmV4dDt2YXIgbyxhO3RoaXMucWsmJihvPWU9PT10aGlzLmhlYWQ/dGhpcy5sZW5ndGg6ZS5Naz09PXRoaXMuaGVhZD8wOmUuaW5kZXgsYT1lLk1rLHRoaXMuVVAocixuLG8pKTtmb3IodmFyIHM9ZSxoPTAscz1lO2g8bi5sZW5ndGg7aCsrLHM9cy5uZXh0KXMuZGVsZXRlKCk7bnVsbD09aSYmcz09PXRoaXMuaGVhZCYmKHM9dGhpcy5oZWFkLm5leHQpO2Zvcih2YXIgaD0wO2g8ci5sZW5ndGg7aCsrKXt2YXIgYz1uZXcgdGhpcy5Ob2RlKHJbaF0pO3MuamsoYyl9cmV0dXJuIHRoaXMubGVuZ3RoKz1yLmxlbmd0aC1uLmxlbmd0aCx0aGlzLnFrJiYoZT09PXRoaXMuaGVhZD90aGlzLlZrKHRoaXMuaGVhZC5uZXh0LDApOnRoaXMuVmsoYS5uZXh0LGEuaW5kZXgrMSksdGhpcy5MUChyLG4sbykpLG59LGkucHJvdG90eXBlLnJldmVyc2U9ZnVuY3Rpb24oKXtpZih0aGlzLnFrKXt2YXIgZT10aGlzLnRvQXJyYXkoKSx0PWUucmV2ZXJzZWQoKTt0aGlzLlVQKHQsZSwwKX12YXIgcj10aGlzLmhlYWQ7ZG97dmFyIGk9ci5uZXh0O3IubmV4dD1yLk1rLHIuTWs9aSxyPXIubmV4dH13aGlsZShyIT09dGhpcy5oZWFkKTtyZXR1cm4gdGhpcy5xayYmdGhpcy5MUCh0LGUsMCksdGhpc30saS5wcm90b3R5cGUuc29ydD1mdW5jdGlvbigpe3RoaXMuWWsoMCx0aGlzLmxlbmd0aCx0aGlzLlJvKCkpfSxpLnByb3RvdHlwZS5yZWR1Y2U9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9YXJndW1lbnRzWzJdLGk9dGhpcy5oZWFkLG49aS5uZXh0O24hPT1pOyl0PWUuY2FsbChyLHQsbi52YWx1ZSxuLHRoaXMpLG49bi5uZXh0O3JldHVybiB0fSxpLnByb3RvdHlwZS5yZWR1Y2VSaWdodD1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcj1hcmd1bWVudHNbMl0saT10aGlzLmhlYWQsbj1pLk1rO24hPT1pOyl0PWUuY2FsbChyLHQsbi52YWx1ZSxuLHRoaXMpLG49bi5NaztyZXR1cm4gdH0saS5wcm90b3R5cGUuVms9ZnVuY3Rpb24oZSx0KXtmb3IoO2UhPT10aGlzLmhlYWQ7KWUuaW5kZXg9dCsrLGU9ZS5uZXh0fSxpLnByb3RvdHlwZS54bz1mdW5jdGlvbigpe3RoaXMuaGVhZC5pbmRleD0tMSx0aGlzLlZrKHRoaXMuaGVhZC5uZXh0LDApLHRoaXMucWs9ITB9LGkucHJvdG90eXBlLkFvPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBuKHRoaXMuaGVhZCl9LG4ucHJvdG90eXBlLnprPW51bGwsT2JqZWN0LmRlZmluZVByb3BlcnR5KG4ucHJvdG90eXBlLFwiX2l0ZXJhdGlvbk9iamVjdFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy56a3x8KHRoaXMuems9e2RvbmU6ITEsdmFsdWU6bnVsbH0pfX0pLG4ucHJvdG90eXBlLm5leHQ9ZnVuY3Rpb24oKXtpZih0aGlzLkJrPT09dGhpcy5oZWFkKXRoaXMuSmsuZG9uZT0hMCx0aGlzLkprLnZhbHVlPXZvaWQgMDtlbHNle3ZhciBlPXRoaXMuQmsudmFsdWU7dGhpcy5Caz10aGlzLkJrLm5leHQsdGhpcy5Kay52YWx1ZT1lfXJldHVybiB0aGlzLkprfSxpLnByb3RvdHlwZS5Ob2RlPXMscy5wcm90b3R5cGUuZGVsZXRlPWZ1bmN0aW9uKCl7dGhpcy5Nay5uZXh0PXRoaXMubmV4dCx0aGlzLm5leHQuTWs9dGhpcy5Na30scy5wcm90b3R5cGUuams9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5Nazt0aGlzLk1rPWUsZS5Naz10LHQubmV4dD1lLGUubmV4dD10aGlzfSxzLnByb3RvdHlwZS5Haz1mdW5jdGlvbihlKXt2YXIgdD10aGlzLm5leHQ7dGhpcy5uZXh0PWUsZS5uZXh0PXQsdC5Naz1lLGUuTWs9dGhpc319LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBpKGUsdCl7aWYoISh0aGlzIGluc3RhbmNlb2YgaSkpcmV0dXJuIG5ldyBpKGUsdCk7dD10fHxGdW5jdGlvbi5oZSx0aGlzLmxlPXQsdGhpcy5wZT1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMubGVuZ3RoPTAsdGhpcy5hZGRFYWNoKGUpfXZhciBuPShyKDEyKSxyKDEzKSkscz1yKDQ4KSxvPXIoMTQpO2UudD1pLGkuV2s9aSxPYmplY3QuYWRkRWFjaChpLnByb3RvdHlwZSxuLnByb3RvdHlwZSksT2JqZWN0LmFkZEVhY2goaS5wcm90b3R5cGUscy5wcm90b3R5cGUpLE9iamVjdC5hZGRFYWNoKGkucHJvdG90eXBlLG8ucHJvdG90eXBlKSxpLnByb3RvdHlwZS5kZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoZSx0aGlzLmxlKX0saS5wcm90b3R5cGUuWGs9ZnVuY3Rpb24oZSl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcihcImtleSBtdXN0IGJlIGEgc3RyaW5nIGJ1dCBHb3QgXCIrZSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSxcIiRfX3Byb3RvX19cIix7VWk6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsXCJfaGFzUHJvdG9cIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaGFzT3duUHJvcGVydHkoXCIkX19wcm90b19fXCIpJiZ2b2lkIDAhPT10aGlzLlprfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSxcIl9wcm90b1ZhbHVlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLiRrfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy4kaz1lfX0pLGkucHJvdG90eXBlLmdldD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLlhrKGUpLFwiX19wcm90b19fXCI9PT1lP3RoaXMuZU8/dGhpcy5aazphcmd1bWVudHMubGVuZ3RoPjE/dDp0aGlzLmxlKGUpOmUgaW4gdGhpcy5wZT90aGlzLnBlW2VdOmFyZ3VtZW50cy5sZW5ndGg+MT90OnRoaXMubGUoZSl9LGkucHJvdG90eXBlLnNldD1mdW5jdGlvbihlLHQpe3RoaXMuWGsoZSk7dmFyIHI9XCJfX3Byb3RvX19cIj09PWU7cmV0dXJuKHI/dGhpcy5lTzplIGluIHRoaXMucGUpPyh0aGlzLnRPJiZ0aGlzLnJPKGUscj90aGlzLlprOnRoaXMucGVbZV0pLHI/dGhpcy5aaz10OnRoaXMucGVbZV09dCx0aGlzLnRPJiZ0aGlzLmlPKGUsdCksITEpOih0aGlzLnRPJiZ0aGlzLnJPKGUsdm9pZCAwKSx0aGlzLmxlbmd0aCsrLHI/dGhpcy5aaz10OnRoaXMucGVbZV09dCx0aGlzLnRPJiZ0aGlzLmlPKGUsdCksITApfSxpLnByb3RvdHlwZS5oYXM9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuWGsoZSksXCJfX3Byb3RvX19cIj09PWU/dGhpcy5lTzplIGluIHRoaXMucGV9LGkucHJvdG90eXBlLmRlbGV0ZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5YayhlKSxcIl9fcHJvdG9fX1wiPT09ZT8hIXRoaXMuZU8mJih0aGlzLnRPJiZ0aGlzLnJPKGUsdGhpcy5aayksdGhpcy5aaz12b2lkIDAsdGhpcy5sZW5ndGgtLSx0aGlzLnRPJiZ0aGlzLmlPKGUsdm9pZCAwKSwhMCk6ZSBpbiB0aGlzLnBlJiYodGhpcy50TyYmdGhpcy5yTyhlLHRoaXMucGVbZV0pLGRlbGV0ZSB0aGlzLnBlW2VdLHRoaXMubGVuZ3RoLS0sdGhpcy50TyYmdGhpcy5pTyhlLHZvaWQgMCksITApfSxpLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3ZhciBlO3RoaXMuZU8mJih0aGlzLnRPJiZ0aGlzLnJPKFwiX19wcm90b19fXCIsdGhpcy5aayksdGhpcy5aaz12b2lkIDAsdGhpcy50TyYmdGhpcy5pTyhcIl9fcHJvdG9fX1wiLHZvaWQgMCkpO2ZvcihlIGluIHRoaXMucGUpdGhpcy50TyYmdGhpcy5yTyhlLHRoaXMucGVbZV0pLGRlbGV0ZSB0aGlzLnBlW2VdLHRoaXMudE8mJnRoaXMuaU8oZSx2b2lkIDApO3RoaXMubGVuZ3RoPTB9LGkucHJvdG90eXBlLnJlZHVjZT1mdW5jdGlvbihlLHQscil7dGhpcy5lTyYmKHQ9ZS5jYWxsKHIsdCxcIiRfX3Byb3RvX19cIixcIl9fcHJvdG9fX1wiLHRoaXMpKTt2YXIgaT10aGlzLnBlO2Zvcih2YXIgbiBpbiB0aGlzLnBlKXQ9ZS5jYWxsKHIsdCxpW25dLG4sdGhpcyk7cmV0dXJuIHR9LGkucHJvdG90eXBlLnJlZHVjZVJpZ2h0PWZ1bmN0aW9uKGUsdCxyKXt2YXIgaT10aGlzLG49dGhpcy5wZTtyZXR1cm4gdD1PYmplY3Qua2V5cyh0aGlzLnBlKS5yZWR1Y2VSaWdodChmdW5jdGlvbih0LHMpe3JldHVybiBlLmNhbGwocix0LG5bc10scyxpKX0sdCksdGhpcy5lTz9lLmNhbGwocix0LHRoaXMuWmssXCJfX3Byb3RvX19cIixpKTp0fSxpLnByb3RvdHlwZS5Qbz1mdW5jdGlvbigpe3ZhciBlO2ZvcihlIGluIHRoaXMucGUpcmV0dXJuIHRoaXMucGVbZV07cmV0dXJuIHRoaXMuWmt9LGkucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnZvKCl9fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaSgpe3Rocm93IG5ldyBFcnJvcihcIkNhbid0IGNvbnN0cnVjdC4gR2VuZXJpY01hcCBpcyBhIG1peGluLlwiKX1mdW5jdGlvbiBuKGUsdCl7dGhpcy5rZXk9ZSx0aGlzLnZhbHVlPXR9dmFyIHM9cigzMyksbz1yKDk5KSxhPXIoMTQpO2UudD1pLHMuYWRkRWFjaChpLnByb3RvdHlwZSxvLnByb3RvdHlwZSkscy5hZGRFYWNoKGkucHJvdG90eXBlLGEucHJvdG90eXBlKSxpLnByb3RvdHlwZS5pc01hcD0hMCxpLnByb3RvdHlwZS5hZGRFYWNoPWZ1bmN0aW9uKGUpe2lmKGUmJnMoZSk9PT1lKWlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGUuZm9yRWFjaCkhMD09PWUuaXNNYXA/ZS5mb3JFYWNoKGZ1bmN0aW9uKGUsdCl7dGhpcy5zZXQodCxlKX0sdGhpcyk6ZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3RoaXMuc2V0KGVbMF0sZVsxXSl9LHRoaXMpO2Vsc2UgaWYoXCJudW1iZXJcIj09dHlwZW9mIGUubGVuZ3RoKWZvcih2YXIgdD0wO3Q8ZS5sZW5ndGg7dCsrKXRoaXMuYWRkKGVbdF0sdCk7ZWxzZSBzLmtleXMoZSkuZm9yRWFjaChmdW5jdGlvbih0KXt0aGlzLnNldCh0LGVbdF0pfSx0aGlzKTtlbHNlIGlmKGUmJlwibnVtYmVyXCI9PXR5cGVvZiBlLmxlbmd0aClmb3IodmFyIHQ9MDt0PGUubGVuZ3RoO3QrKyl0aGlzLmFkZChlW3RdLHQpO3JldHVybiB0aGlzfSxpLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLnBlLmdldChuZXcgdGhpcy5uTyhlKSk7cmV0dXJuIHI/ci52YWx1ZTphcmd1bWVudHMubGVuZ3RoPjE/dDp0aGlzLmxlKGUpfSxpLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oZSx0KXt2YXIgcj1uZXcgdGhpcy5uTyhlLHQpLGk9dGhpcy5wZS5nZXQociksbj0hMTtyZXR1cm4gaT8odGhpcy50TyYmdGhpcy5yTyhlLGkudmFsdWUpLGkudmFsdWU9dCx0aGlzLnRPJiZ0aGlzLmlPKGUsdCkpOih0aGlzLnRPJiZ0aGlzLnJPKGUsdm9pZCAwKSx0aGlzLnBlLmFkZChyKSYmKHRoaXMubGVuZ3RoKyssbj0hMCksdGhpcy50TyYmdGhpcy5pTyhlLHQpKSxufSxpLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5zZXQodCxlKX0saS5wcm90b3R5cGUuaGFzPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnBlLmhhcyhuZXcgdGhpcy5uTyhlKSl9LGkucHJvdG90eXBlLmRlbGV0ZT1mdW5jdGlvbihlKXt2YXIgdD1uZXcgdGhpcy5uTyhlKTtpZih0aGlzLnBlLmhhcyh0KSl7dmFyIHI9dGhpcy5wZS5nZXQodCkudmFsdWU7cmV0dXJuIHRoaXMudE8mJnRoaXMuck8oZSxyKSx0aGlzLnBlLmRlbGV0ZSh0KSx0aGlzLmxlbmd0aC0tLHRoaXMudE8mJnRoaXMuaU8oZSx2b2lkIDApLCEwfXJldHVybiExfSxpLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3ZhciBlO3RoaXMudE8mJih0aGlzLmZvckVhY2goZnVuY3Rpb24oZSx0KXt0aGlzLnJPKHQsZSl9LHRoaXMpLGU9dGhpcy5rZXlzKCkpLHRoaXMucGUuY2xlYXIoKSx0aGlzLmxlbmd0aD0wLHRoaXMudE8mJmUuZm9yRWFjaChmdW5jdGlvbihlKXt0aGlzLmlPKGUpfSx0aGlzKX0saS5wcm90b3R5cGUucmVkdWNlPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gdGhpcy5wZS5yZWR1Y2UoZnVuY3Rpb24odCxpKXtyZXR1cm4gZS5jYWxsKHIsdCxpLnZhbHVlLGkua2V5LHRoaXMpfSx0LHRoaXMpfSxpLnByb3RvdHlwZS5yZWR1Y2VSaWdodD1mdW5jdGlvbihlLHQscil7cmV0dXJuIHRoaXMucGUucmVkdWNlUmlnaHQoZnVuY3Rpb24odCxpKXtyZXR1cm4gZS5jYWxsKHIsdCxpLnZhbHVlLGkua2V5LHRoaXMpfSx0LHRoaXMpfSxpLnByb3RvdHlwZS5rZXlzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR9KX0saS5wcm90b3R5cGUudmFsdWVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFwKEZ1bmN0aW9uLmlkZW50aXR5KX0saS5wcm90b3R5cGUuZW50cmllcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcChmdW5jdGlvbihlLHQpe3JldHVyblt0LGVdfSl9LGkucHJvdG90eXBlLnNPPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZW50cmllcygpfSxpLnByb3RvdHlwZS5hZT1mdW5jdGlvbihlLHQpe3JldHVybiB0PXR8fHMuYWUsdGhpcz09PWV8fChlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLmV2ZXJ5P2UubGVuZ3RoPT09dGhpcy5sZW5ndGgmJmUuZXZlcnkoZnVuY3Rpb24oZSxyKXtyZXR1cm4gdCh0aGlzLmdldChyKSxlKX0sdGhpcyk6cy5rZXlzKGUpLmxlbmd0aD09PXRoaXMubGVuZ3RoJiZzLmtleXMoZSkuZXZlcnkoZnVuY3Rpb24ocil7cmV0dXJuIHQodGhpcy5nZXQociksZVtyXSl9LHRoaXMpKX0saS5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZW50cmllcygpfSxpLnByb3RvdHlwZS5uTz1uLG4ucHJvdG90eXBlLmFlPWZ1bmN0aW9uKGUpe3JldHVybiBzLmFlKHRoaXMua2V5LGUua2V5KSYmcy5hZSh0aGlzLnZhbHVlLGUudmFsdWUpfSxuLnByb3RvdHlwZS5tbz1mdW5jdGlvbihlKXtyZXR1cm4gcy5tbyh0aGlzLmtleSxlLmtleSl9fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlfSgpO2kuJGM9XCJodHRwczpcIj09PWxvY2F0aW9uLnByb3RvY29sLGkuc3U9ITAsaS5vTz0xZTQsaS5hTz02ZTQsdC5OPWl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT10aGlzJiZ0aGlzLk5zfHxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIHIoKXt0aGlzLmNvbnN0cnVjdG9yPWV9Zm9yKHZhciBpIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShpKSYmKGVbaV09dFtpXSk7ZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KTooci5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IHIpfSxuPXIoNjUpLHM9cig3KSxvPXIoNjYpLGE9cig2KSxoPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBpKHQsZSksdC5taT1mdW5jdGlvbihlKXt0LnRlPWV9LHQucHJvdG90eXBlLnNlbmQ9ZnVuY3Rpb24oKXtpZih0LnRlJiZ0LnRlLmRlYnVnKHRoaXMubWV0aG9kK1wiIFwiK3RoaXMudXJsKSwhdGhpcy5zZXNzaW9uSWQpe3ZhciBlPU9iamVjdC5rZXlzKHQuRUkpO2UubGVuZ3RoPjAmJih0aGlzLnNlc3Npb25JZD10LkVJW2VbMF1dKX12YXIgcj10aGlzLGk9bmV3IFhNTEh0dHBSZXF1ZXN0OzA9PT10aGlzLnVybC5pbmRleE9mKFwiLy9cIikmJih0aGlzLnVybD1sb2NhdGlvbi5wcm90b2NvbCt0aGlzLnVybCk7dmFyIG89cy5ncyhuLmNPLmhPLG4uY08ub0Esbi5jTy51Tyx0aGlzLnNlc3Npb25JZCxlbmNvZGVVUklDb21wb25lbnQodGhpcy51cmwpKTtpLm9wZW4oXCJHRVRcIixvKSx0aGlzLnJlc3BvbnNlVHlwZSYmKGkucmVzcG9uc2VUeXBlPXRoaXMucmVzcG9uc2VUeXBlKSxpLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe30saS5vbmxvYWQ9ZnVuY3Rpb24oKXtpZig0PT09aS5yZWFkeVN0YXRlKXRyeXtyLnh1PWkuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCksci5yZXNwb25zZT1pLnJlc3BvbnNlO3ZhciBlPWkucmVzcG9uc2UuYnl0ZUxlbmd0aDtcImFycmF5YnVmZmVyXCIhPT1pLnJlc3BvbnNlVHlwZSYmKHIucmVzcG9uc2VUZXh0PWkucmVzcG9uc2UpLHIucmVhZHlTdGF0ZT00LHIuc3RhdHVzPWkuc3RhdHVzLHIuZGlzcGF0Y2hFdmVudChhLmZuLmNyZWF0ZUV2ZW50KFByb2dyZXNzRXZlbnQsXCJwcm9ncmVzc1wiLHtsZW5ndGhDb21wdXRhYmxlOiEwLGxvYWRlZDplLHRvdGFsOmUsY3VycmVudFRhcmdldDpyfSkpLHIuZGlzcGF0Y2hFdmVudChhLmZuLmNyZWF0ZUV2ZW50KEV2ZW50LFwicmVhZHlzdGF0ZWNoYW5nZVwiLHtjdXJyZW50VGFyZ2V0OnIsYnViYmxlczohMSxjYW5jZWxhYmxlOiExfSkpLHIuZGlzcGF0Y2hFdmVudChhLmZuLmNyZWF0ZUV2ZW50KFByb2dyZXNzRXZlbnQsXCJsb2FkXCIse2N1cnJlbnRUYXJnZXQ6cixidWJibGVzOiExLGNhbmNlbGFibGU6ITEsbGVuZ3RoQ29tcHV0YWJsZTohMSxsb2FkZWQ6ZSx0b3RhbDowfSkpLHIuZGlzcGF0Y2hFdmVudChhLmZuLmNyZWF0ZUV2ZW50KFByb2dyZXNzRXZlbnQsXCJsb2FkZW5kXCIse2N1cnJlbnRUYXJnZXQ6cixidWJibGVzOiExLGNhbmNlbGFibGU6ITEsbGVuZ3RoQ29tcHV0YWJsZTohMSxsb2FkZWQ6ZSx0b3RhbDowfSkpfWNhdGNoKGUpe3QudGUmJnQudGUud2FybihlKX19LGkub25lcnJvcj1mdW5jdGlvbihlKXt0LnRlJiZ0LnRlLndhcm4oXCJvbkVycm9yOiBcIitKU09OLnN0cmluZ2lmeShlKSksci5kaXNwYXRjaEV2ZW50KGEuZm4uY3JlYXRlRXZlbnQoRXJyb3JFdmVudCxcImVycm9yXCIsZSxyKSl9LGkub25hYm9ydD1mdW5jdGlvbihlKXt0LnRlJiZ0LnRlLndhcm4oXCJvbkFib3J0OiBcIitKU09OLnN0cmluZ2lmeShlKSksci5kaXNwYXRjaEV2ZW50KGEuZm4uY3JlYXRlRXZlbnQoUHJvZ3Jlc3NFdmVudCxcImFib3J0XCIsZSxyKSl9LGkuc2VuZCgpfSx0LnByb3RvdHlwZS5hYm9ydD1mdW5jdGlvbigpe30sdH0oby5TSSk7dC5Jbj1ofSxmdW5jdGlvbihlLHQscil7dmFyIGk7IWZ1bmN0aW9uKG4scyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIG89XCJtb2RlbFwiLGE9XCJuYW1lXCIsaD1cInR5cGVcIixjPVwidmVuZG9yXCIsdT1cInZlcnNpb25cIixsPVwibW9iaWxlXCIscD1cInRhYmxldFwiLGY9e2V4dGVuZDpmdW5jdGlvbihlLHQpe3ZhciByPXt9O2Zvcih2YXIgaSBpbiBlKXRbaV0mJnRbaV0ubGVuZ3RoJTI9PTA/cltpXT10W2ldLmNvbmNhdChlW2ldKTpyW2ldPWVbaV07cmV0dXJuIHJ9LGhhczpmdW5jdGlvbihlLHQpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlJiYtMSE9PXQudG9Mb3dlckNhc2UoKS5pbmRleE9mKGUudG9Mb3dlckNhc2UoKSl9LGxPOmZ1bmN0aW9uKGUpe3JldHVybiBlLnRvTG93ZXJDYXNlKCl9LHBPOmZ1bmN0aW9uKGUpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlP2UucmVwbGFjZSgvW15cXGRcXC5dL2csXCJcIikuc3BsaXQoXCIuXCIpWzBdOnZvaWQgMH0sdHJpbTpmdW5jdGlvbihlKXtyZXR1cm4gZS5yZXBsYWNlKC9eW1xcc1xcdUZFRkZcXHhBMF0rfFtcXHNcXHVGRUZGXFx4QTBdKyQvZyxcIlwiKX19LGQ9e2ZPOmZ1bmN0aW9uKCl7Zm9yKHZhciBlLHQscixpLG4scyxvLGE9MCxoPWFyZ3VtZW50czthPGgubGVuZ3RoJiYhczspe3ZhciBjPWhbYV0sdT1oW2ErMV07aWYodm9pZCAwPT09ZSl7ZT17fTtmb3IoaSBpbiB1KXUuaGFzT3duUHJvcGVydHkoaSkmJihuPXVbaV0sXCJvYmplY3RcIj09dHlwZW9mIG4/ZVtuWzBdXT12b2lkIDA6ZVtuXT12b2lkIDApfWZvcih0PXI9MDt0PGMubGVuZ3RoJiYhczspaWYocz1jW3QrK10uZXhlYyh0aGlzLmRPKCkpKWZvcihpPTA7aTx1Lmxlbmd0aDtpKyspbz1zWysrcl0sbj11W2ldLFwib2JqZWN0XCI9PXR5cGVvZiBuJiZuLmxlbmd0aD4wPzI9PW4ubGVuZ3RoP1wiZnVuY3Rpb25cIj09dHlwZW9mIG5bMV0/ZVtuWzBdXT1uWzFdLmNhbGwodGhpcyxvKTplW25bMF1dPW5bMV06Mz09bi5sZW5ndGg/XCJmdW5jdGlvblwiIT10eXBlb2YgblsxXXx8blsxXS5leGVjJiZuWzFdLnRlc3Q/ZVtuWzBdXT1vP28ucmVwbGFjZShuWzFdLG5bMl0pOnZvaWQgMDplW25bMF1dPW8/blsxXS5jYWxsKHRoaXMsbyxuWzJdKTp2b2lkIDA6ND09bi5sZW5ndGgmJihlW25bMF1dPW8/blszXS5jYWxsKHRoaXMsby5yZXBsYWNlKG5bMV0sblsyXSkpOnZvaWQgMCk6ZVtuXT1vfHx2b2lkIDA7YSs9Mn1yZXR1cm4gZX0sTGc6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIgaW4gdClpZihcIm9iamVjdFwiPT10eXBlb2YgdFtyXSYmdFtyXS5sZW5ndGg+MCl7Zm9yKHZhciBpPTA7aTx0W3JdLmxlbmd0aDtpKyspaWYoZi5oYXModFtyXVtpXSxlKSlyZXR1cm5cIj9cIj09PXI/dm9pZCAwOnJ9ZWxzZSBpZihmLmhhcyh0W3JdLGUpKXJldHVyblwiP1wiPT09cj92b2lkIDA6cjtyZXR1cm4gZX19LGc9e09hOntnTzp7dmVyc2lvbjp7XCIxLjBcIjpcIi84XCIsMS4yOlwiLzFcIiwxLjM6XCIvM1wiLFwiMi4wXCI6XCIvNDEyXCIsXCIyLjAuMlwiOlwiLzQxNlwiLFwiMi4wLjNcIjpcIi80MTdcIixcIjIuMC40XCI6XCIvNDE5XCIsJEU6XCIvXCJ9fX0sdk86e3lPOnttTzp7RU86W1wiU0RcIixcIktGXCJdfX0sVE86e21POntJTzpcIjczNzNLVFwifSx2ZW5kb3I6e3dPOlwiQVBBXCIsU086XCJTcHJpbnRcIn19fSxvczp7Uk86e3ZlcnNpb246e2JPOlwiNC45MFwiLFwiTlQgMy4xMVwiOlwiTlQzLjUxXCIsXCJOVCA0LjBcIjpcIk5UNC4wXCIsMjAwMDpcIk5UIDUuMFwiLFBPOltcIk5UIDUuMVwiLFwiTlQgNS4yXCJdLEFPOlwiTlQgNi4wXCIsNzpcIk5UIDYuMVwiLDg6XCJOVCA2LjJcIiw4LjE6XCJOVCA2LjNcIiwxMDpbXCJOVCA2LjRcIixcIk5UIDEwLjBcIl0sQ086XCJBUk1cIn19fX0sdj17T2E6W1svKG9wZXJhXFxzbWluaSlcXC8oW1xcd1xcLi1dKykvaSwvKG9wZXJhXFxzW21vYmlsZXRhYl0rKS4rdmVyc2lvblxcLyhbXFx3XFwuLV0rKS9pLC8ob3BlcmEpLit2ZXJzaW9uXFwvKFtcXHdcXC5dKykvaSwvKG9wZXJhKVtcXC9cXHNdKyhbXFx3XFwuXSspL2ldLFthLHVdLFsvKG9waW9zKVtcXC9cXHNdKyhbXFx3XFwuXSspL2ldLFtbYSxcIk9wZXJhIE1pbmlcIl0sdV0sWy9cXHMob3ByKVxcLyhbXFx3XFwuXSspL2ldLFtbYSxcIk9wZXJhXCJdLHVdLFsvKGtpbmRsZSlcXC8oW1xcd1xcLl0rKS9pLC8obHVuYXNjYXBlfG1heHRob258bmV0ZnJvbnR8amFzbWluZXxibGF6ZXIpW1xcL1xcc10/KFtcXHdcXC5dKykqL2ksLyhhdmFudFxcc3xpZW1vYmlsZXxzbGltfGJhaWR1KSg/OmJyb3dzZXIpP1tcXC9cXHNdPyhbXFx3XFwuXSopL2ksLyg/Om1zfFxcKCkoaWUpXFxzKFtcXHdcXC5dKykvaSwvKHJla29ucSlcXC8oW1xcd1xcLl0rKSovaSwvKGNocm9taXVtfGZsb2NrfHJvY2ttZWx0fG1pZG9yaXxlcGlwaGFueXxzaWxrfHNreWZpcmV8b3ZpYnJvd3Nlcnxib2x0fGlyb258dml2YWxkaXxpcmlkaXVtfHBoYW50b21qcylcXC8oW1xcd1xcLi1dKykvaV0sW2EsdV0sWy8odHJpZGVudCkuK3J2WzpcXHNdKFtcXHdcXC5dKykuK2xpa2VcXHNnZWNrby9pXSxbW2EsXCJJRVwiXSx1XSxbLyhlZGdlKVxcLygoXFxkKyk/W1xcd1xcLl0rKS9pXSxbYSx1XSxbLyh5YWJyb3dzZXIpXFwvKFtcXHdcXC5dKykvaV0sW1thLFwiWWFuZGV4XCJdLHVdLFsvKGNvbW9kb19kcmFnb24pXFwvKFtcXHdcXC5dKykvaV0sW1thLC9fL2csXCIgXCJdLHVdLFsvKG1pY3JvbWVzc2VuZ2VyKVxcLyhbXFx3XFwuXSspL2ldLFtbYSxcIldlQ2hhdFwiXSx1XSxbL3hpYW9taVxcL21pdWlicm93c2VyXFwvKFtcXHdcXC5dKykvaV0sW3UsW2EsXCJNSVVJIEJyb3dzZXJcIl1dLFsvXFxzd3ZcXCkuKyhjaHJvbWUpXFwvKFtcXHdcXC5dKykvaV0sW1thLC8oLispLyxcIiQxIFdlYlZpZXdcIl0sdV0sWy9hbmRyb2lkLitzYW1zdW5nYnJvd3NlclxcLyhbXFx3XFwuXSspL2ksL2FuZHJvaWQuK3ZlcnNpb25cXC8oW1xcd1xcLl0rKVxccysoPzptb2JpbGVcXHM/c2FmYXJpfHNhZmFyaSkqL2ldLFt1LFthLFwiQW5kcm9pZCBCcm93c2VyXCJdXSxbLyhjaHJvbWV8b21uaXdlYnxhcm9yYXxbdGl6ZW5va2FdezV9XFxzP2Jyb3dzZXIpXFwvdj8oW1xcd1xcLl0rKS9pLC8ocXFicm93c2VyKVtcXC9cXHNdPyhbXFx3XFwuXSspL2ldLFthLHVdLFsvKHVjXFxzP2Jyb3dzZXIpW1xcL1xcc10/KFtcXHdcXC5dKykvaSwvdWN3ZWIuKyh1Y2Jyb3dzZXIpW1xcL1xcc10/KFtcXHdcXC5dKykvaSwvanVjLisodWN3ZWIpW1xcL1xcc10/KFtcXHdcXC5dKykvaV0sW1thLFwiVUNCcm93c2VyXCJdLHVdLFsvKGRvbGZpbilcXC8oW1xcd1xcLl0rKS9pXSxbW2EsXCJEb2xwaGluXCJdLHVdLFsvKCg/OmFuZHJvaWQuKyljcm1vfGNyaW9zKVxcLyhbXFx3XFwuXSspL2ldLFtbYSxcIkNocm9tZVwiXSx1XSxbLztmYmF2XFwvKFtcXHdcXC5dKyk7L2ldLFt1LFthLFwiRmFjZWJvb2tcIl1dLFsvZnhpb3NcXC8oW1xcd1xcLi1dKykvaV0sW3UsW2EsXCJGaXJlZm94XCJdXSxbL3ZlcnNpb25cXC8oW1xcd1xcLl0rKS4rP21vYmlsZVxcL1xcdytcXHMoc2FmYXJpKS9pXSxbdSxbYSxcIk1vYmlsZSBTYWZhcmlcIl1dLFsvdmVyc2lvblxcLyhbXFx3XFwuXSspLis/KG1vYmlsZVxccz9zYWZhcml8c2FmYXJpKS9pXSxbdSxhXSxbL3dlYmtpdC4rPyhtb2JpbGVcXHM/c2FmYXJpfHNhZmFyaSkoXFwvW1xcd1xcLl0rKS9pXSxbYSxbdSxkLkxnLGcuT2EuZ08udmVyc2lvbl1dLFsvKGtvbnF1ZXJvcilcXC8oW1xcd1xcLl0rKS9pLC8od2Via2l0fGtodG1sKVxcLyhbXFx3XFwuXSspL2ldLFthLHVdLFsvKG5hdmlnYXRvcnxuZXRzY2FwZSlcXC8oW1xcd1xcLi1dKykvaV0sW1thLFwiTmV0c2NhcGVcIl0sdV0sWy8oc3dpZnRmb3gpL2ksLyhpY2VkcmFnb258aWNld2Vhc2VsfGNhbWlub3xjaGltZXJhfGZlbm5lY3xtYWVtb1xcc2Jyb3dzZXJ8bWluaW1vfGNvbmtlcm9yKVtcXC9cXHNdPyhbXFx3XFwuXFwrXSspL2ksLyhmaXJlZm94fHNlYW1vbmtleXxrLW1lbGVvbnxpY2VjYXR8aWNlYXBlfGZpcmViaXJkfHBob2VuaXgpXFwvKFtcXHdcXC4tXSspL2ksLyhtb3ppbGxhKVxcLyhbXFx3XFwuXSspLitydlxcOi4rZ2Vja29cXC9cXGQrL2ksLyhwb2xhcmlzfGx5bnh8ZGlsbG98aWNhYnxkb3Jpc3xhbWF5YXx3M218bmV0c3VyZnxzbGVpcG5pcilbXFwvXFxzXT8oW1xcd1xcLl0rKS9pLC8obGlua3MpXFxzXFwoKFtcXHdcXC5dKykvaSwvKGdvYnJvd3NlcilcXC8/KFtcXHdcXC5dKykqL2ksLyhpY2VcXHM/YnJvd3NlcilcXC92PyhbXFx3XFwuX10rKS9pLC8obW9zYWljKVtcXC9cXHNdKFtcXHdcXC5dKykvaV0sW2EsdV1dLGtPOltbLyg/OihhbWR8eCg/Oig/Ojg2fDY0KVtfLV0pP3x3b3d8d2luKTY0KVs7XFwpXS9pXSxbW1wiYXJjaGl0ZWN0dXJlXCIsXCJhbWQ2NFwiXV0sWy8oaWEzMig/PTspKS9pXSxbW1wiYXJjaGl0ZWN0dXJlXCIsZi5sT11dLFsvKCg/OmlbMzQ2XXx4KTg2KVs7XFwpXS9pXSxbW1wiYXJjaGl0ZWN0dXJlXCIsXCJpYTMyXCJdXSxbL3dpbmRvd3NcXHMoY2V8bW9iaWxlKTtcXHNwcGM7L2ldLFtbXCJhcmNoaXRlY3R1cmVcIixcImFybVwiXV0sWy8oKD86cHBjfHBvd2VycGMpKD86NjQpPykoPzpcXHNtYWN8O3xcXCkpL2ldLFtbXCJhcmNoaXRlY3R1cmVcIiwvb3dlci8sXCJcIixmLmxPXV0sWy8oc3VuNFxcdylbO1xcKV0vaV0sW1tcImFyY2hpdGVjdHVyZVwiLFwic3BhcmNcIl1dLFsvKCg/OmF2cjMyfGlhNjQoPz07KSl8NjhrKD89XFwpKXxhcm0oPzo2NHwoPz12XFxkKzspKXwoPz1hdG1lbFxccylhdnJ8KD86aXJpeHxtaXBzfHNwYXJjKSg/OjY0KT8oPz07KXxwYS1yaXNjKS9pXSxbW1wiYXJjaGl0ZWN0dXJlXCIsZi5sT11dXSx2TzpbWy9cXCgoaXBhZHxwbGF5Ym9vayk7W1xcd1xcc1xcKTstXSsocmltfGFwcGxlKS9pXSxbbyxjLFtoLHBdXSxbL2FwcGxlY29yZW1lZGlhXFwvW1xcd1xcLl0rIFxcKChpcGFkKS9dLFtvLFtjLFwiQXBwbGVcIl0sW2gscF1dLFsvKGFwcGxlXFxzezAsMX10dikvaV0sW1tvLFwiQXBwbGUgVFZcIl0sW2MsXCJBcHBsZVwiXV0sWy8oYXJjaG9zKVxccyhnYW1lcGFkMj8pL2ksLyhocCkuKyh0b3VjaHBhZCkvaSwvKGhwKS4rKHRhYmxldCkvaSwvKGtpbmRsZSlcXC8oW1xcd1xcLl0rKS9pLC9cXHMobm9vaylbXFx3XFxzXStidWlsZFxcLyhcXHcrKS9pLC8oZGVsbClcXHMoc3RyZWFba3ByXFxzXFxkXSpbXFxka29dKS9pXSxbYyxvLFtoLHBdXSxbLyhrZltBLXpdKylcXHNidWlsZFxcL1tcXHdcXC5dKy4qc2lsa1xcLy9pXSxbbyxbYyxcIkFtYXpvblwiXSxbaCxwXV0sWy8oc2R8a2YpWzAzNDloaWpvcnN0dXddK1xcc2J1aWxkXFwvW1xcd1xcLl0rLipzaWxrXFwvL2ldLFtbbyxkLkxnLGcudk8ueU8ubU9dLFtjLFwiQW1hem9uXCJdLFtoLGxdXSxbL1xcKChpcFtob25lZHxcXHNcXHcqXSspOy4rKGFwcGxlKS9pXSxbbyxjLFtoLGxdXSxbL1xcKChpcFtob25lZHxcXHNcXHcqXSspOy9pXSxbbyxbYyxcIkFwcGxlXCJdLFtoLGxdXSxbLyhibGFja2JlcnJ5KVtcXHMtXT8oXFx3KykvaSwvKGJsYWNrYmVycnl8YmVucXxwYWxtKD89XFwtKXxzb255ZXJpY3Nzb258YWNlcnxhc3VzfGRlbGx8aHVhd2VpfG1laXp1fG1vdG9yb2xhfHBvbHl0cm9uKVtcXHNfLV0/KFtcXHctXSspKi9pLC8oaHApXFxzKFtcXHdcXHNdK1xcdykvaSwvKGFzdXMpLT8oXFx3KykvaV0sW2MsbyxbaCxsXV0sWy9cXChiYjEwO1xccyhcXHcrKS9pXSxbbyxbYyxcIkJsYWNrQmVycnlcIl0sW2gsbF1dLFsvYW5kcm9pZC4rKHRyYW5zZm9bcHJpbWVcXHNdezQsMTB9XFxzXFx3K3xlZWVwY3xzbGlkZXJcXHNcXHcrfG5leHVzIDd8cGFkZm9uZSkvaV0sW28sW2MsXCJBc3VzXCJdLFtoLHBdXSxbLyhzb255KVxccyh0YWJsZXRcXHNbcHNdKVxcc2J1aWxkXFwvL2ksLyhzb255KT8oPzpzZ3AuKylcXHNidWlsZFxcLy9pXSxbW2MsXCJTb255XCJdLFtvLFwiWHBlcmlhIFRhYmxldFwiXSxbaCxwXV0sWy8oPzpzb255KT8oPzooPzooPzpjfGQpXFxkezR9KXwoPzpzb1stbF0uKykpXFxzYnVpbGRcXC8vaV0sW1tjLFwiU29ueVwiXSxbbyxcIlhwZXJpYSBQaG9uZVwiXSxbaCxsXV0sWy9cXHMob3V5YSlcXHMvaSwvKG5pbnRlbmRvKVxccyhbd2lkczN1XSspL2ldLFtjLG8sW2gsXCJjb25zb2xlXCJdXSxbL2FuZHJvaWQuKztcXHMoc2hpZWxkKVxcc2J1aWxkL2ldLFtvLFtjLFwiTnZpZGlhXCJdLFtoLFwiY29uc29sZVwiXV0sWy8ocGxheXN0YXRpb25cXHNbMzRwb3J0YWJsZXZpXSspL2ldLFtvLFtjLFwiU29ueVwiXSxbaCxcImNvbnNvbGVcIl1dLFsvKHNwcmludFxccyhcXHcrKSkvaV0sW1tjLGQuTGcsZy52Ty5UTy52ZW5kb3JdLFtvLGQuTGcsZy52Ty5UTy5tT10sW2gsbF1dLFsvKGxlbm92bylcXHM/KFMoPzo1MDAwfDYwMDApKyg/OlstXVtcXHcrXSkpL2ldLFtjLG8sW2gscF1dLFsvKGh0YylbO19cXHMtXSsoW1xcd1xcc10rKD89XFwpKXxcXHcrKSovaSwvKHp0ZSktKFxcdyspKi9pLC8oYWxjYXRlbHxnZWVrc3Bob25lfGh1YXdlaXxsZW5vdm98bmV4aWFufHBhbmFzb25pY3woPz07XFxzKXNvbnkpW19cXHMtXT8oW1xcdy1dKykqL2ldLFtjLFtvLC9fL2csXCIgXCJdLFtoLGxdXSxbLyhuZXh1c1xcczkpL2ldLFtvLFtjLFwiSFRDXCJdLFtoLHBdXSxbLyhuZXh1c1xcczZwKS9pXSxbbyxbYyxcIkh1YXdlaVwiXSxbaCxsXV0sWy8obWljcm9zb2Z0KTtcXHMobHVtaWFbXFxzXFx3XSspL2ldLFtjLG8sW2gsbF1dLFsvW1xcc1xcKDtdKHhib3goPzpcXHNvbmUpPylbXFxzXFwpO10vaV0sW28sW2MsXCJNaWNyb3NvZnRcIl0sW2gsXCJjb25zb2xlXCJdXSxbLyhraW5cXC5bb25ldHddezN9KS9pXSxbW28sL1xcLi9nLFwiIFwiXSxbYyxcIk1pY3Jvc29mdFwiXSxbaCxsXV0sWy9cXHMobWlsZXN0b25lfGRyb2lkKD86WzItNHhdfFxccyg/OmJpb25pY3x4Mnxwcm98cmF6cikpPyg6P1xcczRnKT8pW1xcd1xcc10rYnVpbGRcXC8vaSwvbW90W1xccy1dPyhcXHcrKSovaSwvKFhUXFxkezMsNH0pIGJ1aWxkXFwvL2ksLyhuZXh1c1xcczYpL2ldLFtvLFtjLFwiTW90b3JvbGFcIl0sW2gsbF1dLFsvYW5kcm9pZC4rXFxzKG16NjBcXGR8eG9vbVtcXHMyXXswLDJ9KVxcc2J1aWxkXFwvL2ldLFtvLFtjLFwiTW90b3JvbGFcIl0sW2gscF1dLFsvaGJidHZcXC9cXGQrXFwuXFxkK1xcLlxcZCtcXHMrXFwoW1xcd1xcc10qO1xccyooXFx3W147XSopOyhbXjtdKikvaV0sW1tjLGYudHJpbV0sW28sZi50cmltXSxbaCxcInNtYXJ0dHZcIl1dLFsvaGJidHYuK21hcGxlOyhcXGQrKS9pXSxbW28sL14vLFwiU21hcnRUVlwiXSxbYyxcIlNhbXN1bmdcIl0sW2gsXCJzbWFydHR2XCJdXSxbL1xcKGR0dltcXCk7XS4rKGFxdW9zKS9pXSxbbyxbYyxcIlNoYXJwXCJdLFtoLFwic21hcnR0dlwiXV0sWy9hbmRyb2lkLisoKHNjaC1pWzg5XTBcXGR8c2h3LW0zODBzfGd0LXBcXGR7NH18Z3QtblxcZCt8c2doLXQ4WzU2XTl8bmV4dXMgMTApKS9pLC8oKFNNLVRcXHcrKSkvaV0sW1tjLFwiU2Ftc3VuZ1wiXSxvLFtoLHBdXSxbL3NtYXJ0LXR2Lisoc2Ftc3VuZykvaV0sW2MsW2gsXCJzbWFydHR2XCJdLG9dLFsvKChzW2NncF1oLVxcdyt8Z3QtXFx3K3xnYWxheHlcXHNuZXh1c3xzbS1cXHdbXFx3XFxkXSspKS9pLC8oc2FtW3N1bmddKilbXFxzLV0qKFxcdystP1tcXHctXSopKi9pLC9zZWMtKChzZ2hcXHcrKSkvaV0sW1tjLFwiU2Ftc3VuZ1wiXSxvLFtoLGxdXSxbL3NpZS0oXFx3KykqL2ldLFtvLFtjLFwiU2llbWVuc1wiXSxbaCxsXV0sWy8obWFlbW98bm9raWEpLioobjkwMHxsdW1pYVxcc1xcZCspL2ksLyhub2tpYSlbXFxzXy1dPyhbXFx3LV0rKSovaV0sW1tjLFwiTm9raWFcIl0sbyxbaCxsXV0sWy9hbmRyb2lkXFxzM1xcLltcXHNcXHc7LV17MTB9KGFcXGR7M30pL2ldLFtvLFtjLFwiQWNlclwiXSxbaCxwXV0sWy9hbmRyb2lkXFxzM1xcLltcXHNcXHc7LV17MTB9KGxnPyktKFswNmN2OV17Myw0fSkvaV0sW1tjLFwiTEdcIl0sbyxbaCxwXV0sWy8obGcpIG5ldGNhc3RcXC50di9pXSxbYyxvLFtoLFwic21hcnR0dlwiXV0sWy8obmV4dXNcXHNbNDVdKS9pLC9sZ1tlO1xcc1xcLy1dKyhcXHcrKSovaV0sW28sW2MsXCJMR1wiXSxbaCxsXV0sWy9hbmRyb2lkLisoaWRlYXRhYlthLXowLTlcXC1cXHNdKykvaV0sW28sW2MsXCJMZW5vdm9cIl0sW2gscF1dLFsvbGludXg7LisoKGpvbGxhKSk7L2ldLFtjLG8sW2gsbF1dLFsvKChwZWJibGUpKWFwcFxcL1tcXGRcXC5dK1xccy9pXSxbYyxvLFtoLFwid2VhcmFibGVcIl1dLFsvYW5kcm9pZC4rO1xccyhnbGFzcylcXHNcXGQvaV0sW28sW2MsXCJHb29nbGVcIl0sW2gsXCJ3ZWFyYWJsZVwiXV0sWy9hbmRyb2lkLisoXFx3KylcXHMrYnVpbGRcXC9obVxcMS9pLC9hbmRyb2lkLisoaG1bXFxzXFwtX10qbm90ZT9bXFxzX10qKD86XFxkXFx3KT8pXFxzK2J1aWxkL2ksL2FuZHJvaWQuKyhtaVtcXHNcXC1fXSooPzpvbmV8b25lW1xcc19dcGx1c3xub3RlIGx0ZSk/W1xcc19dKig/OlxcZFxcdyk/KVxccytidWlsZC9pXSxbW28sL18vZyxcIiBcIl0sW2MsXCJYaWFvbWlcIl0sW2gsbF1dLFsvYW5kcm9pZC4rYTAwMCgxKVxccytidWlsZC9pXSxbbyxbYyxcIk9uZVBsdXNcIl0sW2gsbF1dLFsvXFxzKHRhYmxldClbO1xcL10vaSwvXFxzKG1vYmlsZSkoPzpbO1xcL118XFxzc2FmYXJpKS9pXSxbW2gsZi5sT10sYyxvXV0sT086W1svd2luZG93cy4rXFxzZWRnZVxcLyhbXFx3XFwuXSspL2ldLFt1LFthLFwiRWRnZUhUTUxcIl1dLFsvKHByZXN0bylcXC8oW1xcd1xcLl0rKS9pLC8od2Via2l0fHRyaWRlbnR8bmV0ZnJvbnR8bmV0c3VyZnxhbWF5YXxseW54fHczbSlcXC8oW1xcd1xcLl0rKS9pLC8oa2h0bWx8dGFzbWFufGxpbmtzKVtcXC9cXHNdXFwoPyhbXFx3XFwuXSspL2ksLyhpY2FiKVtcXC9cXHNdKFsyM11cXC5bXFxkXFwuXSspL2ldLFthLHVdLFsvcnZcXDooW1xcd1xcLl0rKS4qKGdlY2tvKS9pXSxbdSxhXV0sb3M6W1svbWljcm9zb2Z0XFxzKHdpbmRvd3MpXFxzKHZpc3RhfHhwKS9pXSxbYSx1XSxbLyh3aW5kb3dzKVxcc250XFxzNlxcLjI7XFxzKGFybSkvaSwvKHdpbmRvd3NcXHNwaG9uZSg/Olxcc29zKSopW1xcc1xcL10/KFtcXGRcXC5cXHNdK1xcdykqL2ksLyh3aW5kb3dzXFxzbW9iaWxlfHdpbmRvd3MpW1xcc1xcL10/KFtudGNlXFxkXFwuXFxzXStcXHcpL2ldLFthLFt1LGQuTGcsZy5vcy5STy52ZXJzaW9uXV0sWy8od2luKD89M3w5fG4pfHdpblxcczl4XFxzKShbbnRcXGRcXC5dKykvaV0sW1thLFwiV2luZG93c1wiXSxbdSxkLkxnLGcub3MuUk8udmVyc2lvbl1dLFsvXFwoKGJiKSgxMCk7L2ldLFtbYSxcIkJsYWNrQmVycnlcIl0sdV0sWy8oYmxhY2tiZXJyeSlcXHcqXFwvPyhbXFx3XFwuXSspKi9pLC8odGl6ZW4pW1xcL1xcc10oW1xcd1xcLl0rKS9pLC8oYW5kcm9pZHx3ZWJvc3xwYWxtXFxzb3N8cW54fGJhZGF8cmltXFxzdGFibGV0XFxzb3N8bWVlZ298Y29udGlraSlbXFwvXFxzLV0/KFtcXHdcXC5dKykqL2ksL2xpbnV4Oy4rKHNhaWxmaXNoKTsvaV0sW2EsdV0sWy8oc3ltYmlhblxccz9vc3xzeW1ib3N8czYwKD89OykpW1xcL1xccy1dPyhbXFx3XFwuXSspKi9pXSxbW2EsXCJTeW1iaWFuXCJdLHVdLFsvXFwoKHNlcmllczQwKTsvaV0sW2FdLFsvbW96aWxsYS4rXFwobW9iaWxlOy4rZ2Vja28uK2ZpcmVmb3gvaV0sW1thLFwiRmlyZWZveCBPU1wiXSx1XSxbLyhuaW50ZW5kb3xwbGF5c3RhdGlvbilcXHMoW3dpZHMzNHBvcnRhYmxldnVdKykvaSwvKG1pbnQpW1xcL1xcc1xcKF0/KFxcdyspKi9pLC8obWFnZWlhfHZlY3RvcmxpbnV4KVs7XFxzXS9pLC8oam9saXxba3hsbl0/dWJ1bnR1fGRlYmlhbnxbb3Blbl0qc3VzZXxnZW50b298KD89XFxzKWFyY2h8c2xhY2t3YXJlfGZlZG9yYXxtYW5kcml2YXxjZW50b3N8cGNsaW51eG9zfHJlZGhhdHx6ZW53YWxrfGxpbnB1cylbXFwvXFxzLV0/KD8hY2hyb20pKFtcXHdcXC4tXSspKi9pLC8oaHVyZHxsaW51eClcXHM/KFtcXHdcXC5dKykqL2ksLyhnbnUpXFxzPyhbXFx3XFwuXSspKi9pXSxbYSx1XSxbLyhjcm9zKVxcc1tcXHddK1xccyhbXFx3XFwuXStcXHcpL2ldLFtbYSxcIkNocm9taXVtIE9TXCJdLHVdLFsvKHN1bm9zKVxccz8oW1xcd1xcLl0rXFxkKSovaV0sW1thLFwiU29sYXJpc1wiXSx1XSxbL1xccyhbZnJlbnRvcGMtXXswLDR9YnNkfGRyYWdvbmZseSlcXHM/KFtcXHdcXC5dKykqL2ldLFthLHVdLFsvKGhhaWt1KVxccyhcXHcrKS9pXSxbYSx1XSxbLyhpcFtob25lYWRdKykoPzouKm9zXFxzKFtcXHddKykqXFxzbGlrZVxcc21hY3w7XFxzb3BlcmEpL2ldLFtbYSxcImlPU1wiXSxbdSwvXy9nLFwiLlwiXV0sWy8obWFjXFxzb3NcXHN4KVxccz8oW1xcd1xcc1xcLl0rXFx3KSovaSwvKG1hY2ludG9zaHxtYWMoPz1fcG93ZXJwYylcXHMpL2ldLFtbYSxcIk1hYyBPU1wiXSxbdSwvXy9nLFwiLlwiXV0sWy8oKD86b3Blbik/c29sYXJpcylbXFwvXFxzLV0/KFtcXHdcXC5dKykqL2ksLyhhaXgpXFxzKChcXGQpKD89XFwufFxcKXxcXHMpW1xcd1xcLl0qKSovaSwvKHBsYW5cXHM5fG1pbml4fGJlb3N8b3NcXC8yfGFtaWdhb3N8bW9ycGhvc3xyaXNjXFxzb3N8b3BlbnZtcykvaSwvKHVuaXgpXFxzPyhbXFx3XFwuXSspKi9pXSxbYSx1XV19LHk9ZnVuY3Rpb24oZSx0KXtpZighKHRoaXMgaW5zdGFuY2VvZiB5KSlyZXR1cm4gbmV3IHkoZSx0KS5fTygpO3ZhciByPWV8fChuJiZuLm5hdmlnYXRvciYmbi5uYXZpZ2F0b3IudXNlckFnZW50P24ubmF2aWdhdG9yLnVzZXJBZ2VudDpcIlwiKSxpPXQ/Zi5leHRlbmQodix0KTp2O3JldHVybiB0aGlzLk5PPWZ1bmN0aW9uKCl7dmFyIGU9ZC5mTy5hcHBseSh0aGlzLGkuT2EpO3JldHVybiBlLnBPPWYucE8oZS52ZXJzaW9uKSxlfSx0aGlzLkRPPWZ1bmN0aW9uKCl7cmV0dXJuIGQuZk8uYXBwbHkodGhpcyxpLmtPKX0sdGhpcy5GTz1mdW5jdGlvbigpe3JldHVybiBkLmZPLmFwcGx5KHRoaXMsaS52Tyl9LHRoaXMuTE89ZnVuY3Rpb24oKXtyZXR1cm4gZC5mTy5hcHBseSh0aGlzLGkuT08pfSx0aGlzLlVoPWZ1bmN0aW9uKCl7cmV0dXJuIGQuZk8uYXBwbHkodGhpcyxpLm9zKX0sdGhpcy5fTz1mdW5jdGlvbigpe3JldHVybntxZjp0aGlzLmRPKCksT2E6dGhpcy5OTygpLE9POnRoaXMuTE8oKSxvczp0aGlzLlVoKCksdk86dGhpcy5GTygpLGtPOnRoaXMuRE8oKX19LHRoaXMuZE89ZnVuY3Rpb24oKXtyZXR1cm4gcn0sdGhpcy5CaD1mdW5jdGlvbihlKXtyZXR1cm4gcj1lLHRoaXN9LHRoaXN9O3kuVkVSU0lPTj1cIjAuNy4xMlwiLHkuTU89e0JPOmEsVU86XCJtYWpvclwiLFZFUlNJT046dX0seS54Tz17SE86XCJhcmNoaXRlY3R1cmVcIn0seS5xTz17Vk86byxWRU5ET1I6YyxqTzpoLEdPOlwiY29uc29sZVwiLFFPOmwsS086XCJzbWFydHR2XCIsWU86cCx6TzpcIndlYXJhYmxlXCIsSk86XCJlbWJlZGRlZFwifSx5LldPPXtCTzphLFZFUlNJT046dX0seS5YTz17Qk86YSxWRVJTSU9OOnV9LHZvaWQgMCE9PXQ/KHZvaWQgMCE9PWUmJmUudCYmKHQ9ZS50PXkpLHQuRmE9eSk6cigxMDgpP3ZvaWQgMCE9PShpPWZ1bmN0aW9uKCl7cmV0dXJuIHl9LmNhbGwodCxyLHQsZSkpJiYoZS50PWkpOm4uRmE9eTt2YXIgbT1uLlpPfHxuLiRPO2lmKHZvaWQgMCE9PW0pe3ZhciBFPW5ldyB5O20ucWY9RS5fTygpLG0ucWYuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIEUuZE8oKX0sbS5xZi5zZXQ9ZnVuY3Rpb24oZSl7RS5CaChlKTt2YXIgdD1FLl9PKCk7Zm9yKHZhciByIGluIHQpbS5xZltyXT10W3JdfX19KFwib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3c/d2luZG93OnRoaXMpfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7IWZ1bmN0aW9uKCl7dmFyIHQ9cigxNyksaT10LmxvZyxuPXQuRGE7ZS50LkRhPW4sZS50LkNhPXQuQ2EsZS50LkFhPXQuQWE7dmFyIHM9cigxMjApfHxudWxsLG89cigxMjIpfHxudWxsLGE9cigxMjUpfHxudWxsLGg9cigxMjcpfHxudWxsO3N3aXRjaChuLk9hKXtjYXNlXCJjaHJvbWVcIjppZighc3x8IXMuZV8pcmV0dXJuIHZvaWQgaShcIkNocm9tZSBzaGltIGlzIG5vdCBpbmNsdWRlZCBpbiB0aGlzIGFkYXB0ZXIgcmVsZWFzZS5cIik7aShcImFkYXB0ZXIuanMgc2hpbW1pbmcgY2hyb21lLlwiKSxlLnQudF89cyxzLnJfKCkscy5pXygpLHQuX2EoKSxzLm5fKCkscy5lXygpLHMuc18oKSxzLm9fKCk7YnJlYWs7Y2FzZVwiZmlyZWZveFwiOmlmKCFhfHwhYS5lXylyZXR1cm4gdm9pZCBpKFwiRmlyZWZveCBzaGltIGlzIG5vdCBpbmNsdWRlZCBpbiB0aGlzIGFkYXB0ZXIgcmVsZWFzZS5cIik7aShcImFkYXB0ZXIuanMgc2hpbW1pbmcgZmlyZWZveC5cIiksZS50LnRfPWEsYS5yXygpLHQuX2EoKSxhLm5fKCksYS5lXygpLGEuc18oKTticmVhaztjYXNlXCJlZGdlXCI6aWYoIW98fCFvLmVfKXJldHVybiB2b2lkIGkoXCJNUyBlZGdlIHNoaW0gaXMgbm90IGluY2x1ZGVkIGluIHRoaXMgYWRhcHRlciByZWxlYXNlLlwiKTtpKFwiYWRhcHRlci5qcyBzaGltbWluZyBlZGdlLlwiKSxlLnQudF89byxvLnJfKCksdC5fYSgpLG8uZV8oKTticmVhaztjYXNlXCJzYWZhcmlcIjppZighaClyZXR1cm4gdm9pZCBpKFwiU2FmYXJpIHNoaW0gaXMgbm90IGluY2x1ZGVkIGluIHRoaXMgYWRhcHRlciByZWxlYXNlLlwiKTtpKFwiYWRhcHRlci5qcyBzaGltbWluZyBzYWZhcmkuXCIpLGUudC50Xz1oLGgucl8oKTticmVhaztkZWZhdWx0OmkoXCJVbnN1cHBvcnRlZCBicm93c2VyIVwiKX19KCl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1yKDI5KSxuPXIoMikscz1yKDcpLG89cigxMjgpLGE9by5nbi5vdS5hXyxoPXIoMTkpLGM9cigxMjkpLHU9cig0KSxsPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LHIpe3RoaXMuaF89dCx0aGlzLm9wdGlvbnNfPW5ldyBhLHZvaWQgMCE9PXJbZS5jX10mJnMudnMocltlLmNfXSx0aGlzLm9wdGlvbnNfKX1yZXR1cm4gZS5wcm90b3R5cGUuRm49ZnVuY3Rpb24oKXtyZXR1cm4gZS5jX30sZS5wcm90b3R5cGUuaWQ9ZnVuY3Rpb24oKXtyZXR1cm5cIltcIitlLmNfK1wiXSBcIn0sZS5wcm90b3R5cGUuZ2V0VmVyc2lvbj1mdW5jdGlvbigpe3JldHVybiBudWxsfSxlLnByb3RvdHlwZS51Xz1mdW5jdGlvbigpe3JldHVybiEwfSxlLnByb3RvdHlwZS5sXz1mdW5jdGlvbigpe3JldHVybiBuLnJlc29sdmUoITApfSxlLnByb3RvdHlwZS5pbml0U2Vzc2lvbj1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMucF8oZSx0LnRpY2tldCx0LnRpY2tldC5MQSgpLHQpO3JldHVybiBzLkhpdmVSZXF1ZXN0RmFjdG9yeS5ibihyLmlkLHRoaXMuRm4oKSksbi5yZXNvbHZlKHIpfSxlLnByb3RvdHlwZS5mXz1mdW5jdGlvbigpe3JldHVybiB0aGlzLm9wdGlvbnMoKS5pbml0VGltZW91dH0sZS5wcm90b3R5cGUuY2k9ZnVuY3Rpb24oZSx0KXt2YXIgcj10Lm1hbmlmZXN0LnRvTG93ZXJDYXNlKCkuaW5kZXhPZihcIi9tYW5pZmVzdFwiKTtpZihyPi0xKXt2YXIgaT10Lm1hbmlmZXN0LnN1YnN0cmluZygwLHIpO2lmKGUuaW5kZXhPZihpKT4tMSlyZXR1cm4hMH1lbHNlIGlmKGU9PXQubWFuaWZlc3QpcmV0dXJuITA7cmV0dXJuITF9LGUucHJvdG90eXBlLk5uPWZ1bmN0aW9uKGUsdCxyKXt2b2lkIDA9PT1yJiYocj0hMCksZS5DbiYmKHRoaXMuaF8udGUoKS5kZWJ1ZyhcIltTdGF0c0pTXSBzdG9wcGluZyBzZXNzaW9uIFtcIitlLmlkK1wiXSBjb21wbGV0ZSBjbG9zZTogXCIrdCksZS5Dbi5MYy5kYyhyKSxlLkNuLkZjLmRfKCksZS5Dbi5GYy5yZXNldCh0KSksdD9pLkhpdmUuUmVwb3J0aW5nKCkuY2xvc2UoKTp0aGlzLk9uKGUsITApfSxlLnByb3RvdHlwZS5Pbj1mdW5jdGlvbihlLHQpe3ZhciByPXQ/aC5fYy5JRExFOmguX2MuT2M7dGhpcy5oXy50ZSgpLm5vdGljZShcIltIaXZlQ29tbV0gY2xpZW50IHN0YXRlOiBcIitoLl9jW3JdKSxlLkNuJiZlLkNuLk9uKHIpfSxlLnByb3RvdHlwZS5nXz1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsaT0wO3JldHVybiB0aGlzLnZfPHQuUHMmJihpPXQuUHMtdGhpcy52Xyx0aGlzLnZfPXQuUHMpLGUuTG4oKS50aGVuKGZ1bmN0aW9uKCl7ZS5Dbi5EYy55XyhpLHQuYnMpLGUuQ24udGMua2godC5Scyx0LmJzLHQuUHMpLHIubV8oKX0pLmRvbmUoKSxuLnJlc29sdmUoITApfSxlLnByb3RvdHlwZS5FXz1mdW5jdGlvbihlLHQscil7cmV0dXJuIGUuTG4oKS50aGVuKGZ1bmN0aW9uKCl7ZS5Dbi50Yy5faChlLnRpY2tldC5zZXNzaW9uSWQsdCxyKX0pLmRvbmUoKSxuLnJlc29sdmUoITApfSxlLnByb3RvdHlwZS5OaD1mdW5jdGlvbihlLHQpe3JldHVybiBlLkxuKCkudGhlbihmdW5jdGlvbigpe2UuQ24udGMuRGgoW3RdKX0pLmRvbmUoKSxuLnJlc29sdmUoITApfSxlLnByb3RvdHlwZS5vbkVycm9yPWZ1bmN0aW9uKGUpe3ZhciB0PSEwO2lmKHZvaWQgMCE9dGhpcy5vcHRpb25zKCkub25FcnJvcil0cnl7dD10aGlzLm9wdGlvbnMoKS5vbkVycm9yKGUpfWNhdGNoKGUpe3UuRXJyb3JNb25pdG9yLmdpKCkuZGkoXCJleGNlcHRpb24gaW4gdXNlci1kZWZpbmVkIG9uRXJyb3IgY2FsbGJhY2tcIix0aGlzLmlkKCksZSl9cmV0dXJuIHR9LGUucHJvdG90eXBlLm9uQWN0aXZlU2Vzc2lvbj1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3RoaXMuVF8oKSxlLkxuKCkudGhlbihmdW5jdGlvbihyKXt0LklfPXI7dmFyIGk9bmV3IGMud18odC5oXy5pc0xpdmUoKSx0LmhfLlNfKCksZS50aWNrZXQuTEEoKSk7dC5JXy5SXz1pLHQuSV8uRGMuUl89aSx0LmhfLndoKHQuSV8pLHQuSV8uRmMuaW5pdCh0LklfLkRjLGUuaWQpLHQuSV8udGMuVG4oZS50aWNrZXQuc2Vzc2lvbklkLHQuaF8uYl8oKSwyMDApO3ZhciBuPXQuaF8uUF8oKTtpZihuJiZuLmxlbmd0aD4wJiZ0LklfLnRjLkRoKG4pLHZvaWQgMCE9dC5vcHRpb25zXy5vbkFjdGl2ZVNlc3Npb24pdHJ5e3Qub3B0aW9uc18ub25BY3RpdmVTZXNzaW9uKGUuRG4oKSl9Y2F0Y2goZSl7dS5FcnJvck1vbml0b3IuZ2koKS5kaShcImV4Y2VwdGlvbiBpbiB1c2VyLWRlZmluZWQgb25BY3RpdmVTZXNzaW9uIGNhbGxiYWNrXCIsdC5pZCgpLGUpfX0pLmRvbmUoKX0sZS5wcm90b3R5cGUuQV89ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLkNfPWZ1bmN0aW9uKCl7fSxlLnByb3RvdHlwZS5rXz1mdW5jdGlvbihlKXt0aGlzLmhfPWV9LGUucHJvdG90eXBlLm9wdGlvbnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcHRpb25zX30sZS5wcm90b3R5cGUuVF89ZnVuY3Rpb24oKXt0aGlzLnZfPTB9LGUucHJvdG90eXBlLnBfPWZ1bmN0aW9uKGUsdCxyLGkpe3ZhciBuPW5ldyBzLkJuKGUsdCxyLGkpO3JldHVybiBuLk9fPSExLG4uaWQ9dC5zZXNzaW9uSWQsbn0sZS5wcm90b3R5cGUubV89ZnVuY3Rpb24oKXt0cnl7dmFyIGU9dGhpcy5oXy5fXygpO3ZvaWQgMCE9ZSYmKHRoaXMuSV8uRGMuTl8ubWV0cmljcy5iaXRyYXRlVXBOKz1lLmVzKCksdGhpcy5JXy5EYy5OXy5tZXRyaWNzLmJpdHJhdGVEd25OKz1lLnJzKCksbnVsbCE9ZS5YbigpJiYodGhpcy5JXy5EYy5OXy5tZXRyaWNzLnNyY1Rocm91Z2hwdXQ9ZS5YbigpKSxudWxsIT1lLlpuKCkmJnRoaXMuRF8oITAsZS5abigpKSxudWxsIT1lLiRuKCkmJnRoaXMuRF8oITEsZS4kbigpKSl9Y2F0Y2goZSl7dS5FcnJvck1vbml0b3IuZ2koKS5kaShcIkVycm9yIGFjY291bnRpbmcgZXh0ZW5kZWQgc3RhdHNcIix0aGlzLmlkKCksZSl9fSxlLnByb3RvdHlwZS5EXz1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsaT0wLG49MCxzPTAsbz0wO3QuZm9yRWFjaChmdW5jdGlvbih0LGEpe3ZhciBoPXQuc3VjY2Vzcyt0LnhuO2lmKGkrPWgsbys9dC5IbixuKz10LnN1Y2Nlc3Mscys9dC54bixlKXt2YXIgYz1yLklfLkRjLkZfKE51bWJlcihhKSk7ci5MXyhjLGgsdC5zdWNjZXNzLHQueG4sdC5Ibil9fSk7dmFyIGE9dGhpcy5JXy5EYy5NXygpO3RoaXMuTF8oYSxpLG4scyxvKX0sZS5wcm90b3R5cGUuTF89ZnVuY3Rpb24oZSx0LHIsaSxuKXtlLnNyY1JlcU4rPXQsZS5zcmNSZXNwTis9cixlLnNyY1Jlc3BFcnJOKz1pLGUuc3JjUmVzcFF0Kz1uLGUucmVzcEZhbGxiYWNrTis9cixlLnJlc3BGYWxsYmFja0Vyck4rPWl9LGV9KCk7bC5jXz1cIlN0YXRzSlNcIix0LlN0YXRzSlM9bH0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXIoNDQpLG49cigzMSkscz1yKDApLG89cigxMzgpLGE9cigxMCksaD1yKDIyKSxjPXIoNDUpLHU9cigzKSxsPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLkJfPW5ldyBpLHRoaXMudGU9cy5GcmFtZXdvcmsucmVzb2x2ZShzLkZyYW1ld29yay5xLkkpLmxvZyhlLnNlc3Npb25JZCksdGhpcy53Qz1lLndDLHRoaXMuVV89ZS54Xyx0aGlzLkhfPWUuSF8sdGhpcy5xXz1lLlZfLHRoaXMucV8uUEModGhpcyx0aGlzKX1yZXR1cm4gZS5wcm90b3R5cGUuQWs9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUual89ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5xX30sZS5wcm90b3R5cGUuR189ZnVuY3Rpb24oZSx0KXt2YXIgcj0wLGk9MDtpZih0aGlzLkJfLmxlbmd0aDx0KXJldHVybiEwO2Zvcih2YXIgbj10aGlzLkJfLmtleXMoKS5yZXZlcnNlKCkscz1uWzBdLG89dGhpcy5CXy5nZXQocykuYml0cmF0ZSxhPW4uc2xpY2UoMSksaD0wO2g8YS5sZW5ndGg7aCsrKXt2YXIgYz1hW2hdLHU9dGhpcy5CXy5nZXQoYyksbD11LlFfLHA9dS5iaXRyYXRlLGY9TWF0aC5hYnModS5RXy1zKTtpZihwIT1vKXJldHVybiExO2lmKGY8ZSl7aWYoKytpPj10KXJldHVybiExfWVsc2V7aWYoKytyPnQpcmV0dXJuITA7aT1NYXRoLm1heCgwLGktMSkscz1sLG89cH19cmV0dXJuITF9LGUucHJvdG90eXBlLktfPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLllfPWZ1bmN0aW9uKGUsdCl7aWYodGhpcy56Xyh0KSl7dmFyIHI9dGhpcy5fQygpO2lmKHIpe3ZhciBpPWUuSVIoKSxuPXIuSVIoKTtpPm4/dGhpcy5VXy5KXyghMCk6aTxuJiZ0aGlzLlVfLkpfKCExKX1lbHNlIHRoaXMuVV8uSl8oITApO2lmKHRoaXMuQl8ubGVuZ3RoPnUubmkubXIuZ3Ipe3ZhciBvPXRoaXMuQl8ua2V5cygpWzBdO3RoaXMuQl8uZGVsZXRlKG8pfXRoaXMuQl8uc2V0KHMuRnJhbWV3b3JrLnRpbWUoKSxlKX1yZXR1cm4gdGhpcy5XXyhlLHQpfSxlLnByb3RvdHlwZS5XXz1mdW5jdGlvbihlLHQpe3ZhciByPW5ldyBvLlhfO2lmKHRoaXMucV8uQ0MoZS5iaXRyYXRlKSl7aWYodGhpcy5IXy5aXyhlLnp1KCkpKXtyLmVOPSEwO3ZhciBpPXRoaXMuSF8udE4oZS56dSgpKTt0aGlzLnJOKHQsaSxyKX1pZih0aGlzLkhfLmlOKGUuenUoKSkpZm9yKHZhciBuPXRoaXMuSF8ubk4oZS56dSgpKSxzPTAsYT1uO3M8YS5sZW5ndGg7cysrKXt2YXIgaD1hW3NdO3RoaXMuck4odCxoLkt1KCksciksci5zTj0hMH19ZWxzZXt2YXIgdT1jLmNDLiRzO3RoaXMud0MuZmsoKSYmKHU9Yy5jQy5hQyksdGhpcy5xXy5MQyhlLmJpdHJhdGUsdSx1KX1yZXR1cm4gcn0sZS5wcm90b3R5cGUuck49ZnVuY3Rpb24oZSx0LHIpe2UhPWguVHUudnUmJmUhPWguVHUuRXV8fHQhPWguVHUuZHUmJnQhPWguVHUuRXUmJnQhPWguVHUudnV8fChyLm9OPSEwKX0sZS5wcm90b3R5cGUuel89ZnVuY3Rpb24oZSl7cmV0dXJuIGUhPWguVHUuRXUmJmUhPWguVHUudnV9LGUucHJvdG90eXBlLmFOPWZ1bmN0aW9uKGUsdCxyKXtmb3IodmFyIGk9W10sbj10aGlzLkhfLm5OKHQuenUoKSkscz0wLG89bjtzPG8ubGVuZ3RoO3MrKyl7dmFyIGE9b1tzXTthLkt1KCkhPWguVHUuZHUmJih0aGlzLnFfLk9rKGEsZSksaS5wdXNoKGEuX2spKX1yZXR1cm4gaX0sZS5wcm90b3R5cGUuaE49ZnVuY3Rpb24oZSl7dGhpcy5IXy5oTihlKX0sZS5wcm90b3R5cGUuY049ZnVuY3Rpb24oZSx0KXt0aGlzLkhfLmNOKGUsdCl9LGUucHJvdG90eXBlLnVOPWZ1bmN0aW9uKGUpe3RoaXMuSF8udU4oZSl9LGUucHJvdG90eXBlLmxOPWZ1bmN0aW9uKGUpe3RoaXMuSF8ucE4oZSl9LGUucHJvdG90eXBlLmZOPWZ1bmN0aW9uKGUpe3RoaXMuSF8uZE4oKXx8dGhpcy5xXy5WQyhlKX0sZS5wcm90b3R5cGUuX0M9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLkJfLmtleXMoKTtyZXR1cm4gZS5sZW5ndGg+MD90aGlzLkJfLmdldChlW2UubGVuZ3RoLTFdKTpudWxsfSxlLnByb3RvdHlwZS5nTj1mdW5jdGlvbigpe3ZhciBlPXRoaXMuQl8ua2V5cygpO2lmKGUubGVuZ3RoPjApcmV0dXJuIGVbZS5sZW5ndGgtMV19LGUucHJvdG90eXBlLnZOPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMueU4oZSk7bnVsbCE9dCYmdGhpcy5mTih0LmJpdHJhdGUpfSxlLnByb3RvdHlwZS55Tj1mdW5jdGlvbihlKXt2YXIgdD1lLm1OLHI9dC5zbGljZSgwLHQubGFzdEluZGV4T2YoXCItXCIpKSxpPXIuc2xpY2UoMCxyLmxhc3RJbmRleE9mKFwiLVwiKSkscz1lLkVOKCk7cmV0dXJuIG5ldyBuLlNSKGkscywhMCxlLmlkLGUuZHVyYXRpb24sZS5iaXRyYXRlLCEwLHRoaXMuS18oKSl9LGUucHJvdG90eXBlLmxrPWZ1bmN0aW9uKCl7cmV0dXJuITF9LGUucHJvdG90eXBlLnlrPWZ1bmN0aW9uKGUsdCxyLGkpe3JldHVybiAwfSxlLnByb3RvdHlwZS52az1mdW5jdGlvbigpe3JldHVybiAzZTR9LGUucHJvdG90eXBlLlROPWZ1bmN0aW9uKCl7cmV0dXJuIDFlNH0sZS5wcm90b3R5cGUuY2s9ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLktDPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUuU189ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUuaXNMaXZlPWZ1bmN0aW9uKCl7cmV0dXJuITF9LGUucHJvdG90eXBlLnNrPWZ1bmN0aW9uKGUpe30sZS5wcm90b3R5cGUuSU49ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLndOPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLlNOPWZ1bmN0aW9uKGUpe30sZS5wcm90b3R5cGUuUk49ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLmJOPWZ1bmN0aW9uKGUpe30sZS5wcm90b3R5cGUuUE49ZnVuY3Rpb24oZSl7fSxlLnByb3RvdHlwZS5BTj1mdW5jdGlvbihlKXtlLll1KCk9PT1hLldzLllzJiZ0aGlzLmNOKGUuenUoKSxlLkp1KCkpfSxlLnByb3RvdHlwZS5DTj1mdW5jdGlvbigpe3JldHVybiBudWxsfSxlLnByb3RvdHlwZS5rTj1mdW5jdGlvbihlKXt9LGUucHJvdG90eXBlLmdrPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIDB9LGV9KCk7dC5PTj1sfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaShlLHQscixzKXtpZighKHRoaXMgaW5zdGFuY2VvZiBpKSlyZXR1cm4gbmV3IGkoZSx0LHIscyk7bi5jYWxsKHRoaXMsZSx0LHIscyl9ZS50PWk7dmFyIG49KHIoMTIpLHIoMTM5KSkscz1yKDM2KSxvPXIoMTQpO2kuX049aSxpLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG4ucHJvdG90eXBlKSxpLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1pLE9iamVjdC5hZGRFYWNoKGkucHJvdG90eXBlLHMucHJvdG90eXBlKSxPYmplY3QuYWRkRWFjaChpLnByb3RvdHlwZSxvLnByb3RvdHlwZSksaS5wcm90b3R5cGUuTk49ITAsaS5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKGUpe3JldHVybiF0aGlzLmhhcyhlKSYmKG4ucHJvdG90eXBlLmFkZC5jYWxsKHRoaXMsZSksITApfSxpLnByb3RvdHlwZS5yZWR1Y2U9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLGk9YXJndW1lbnRzWzJdO3JldHVybiB0aGlzLmZnLnJlZHVjZShmdW5jdGlvbih0LG4scyl7cmV0dXJuIGUuY2FsbChpLHQsbixzLHIpfSx0KX0saS5wcm90b3R5cGUucmVkdWNlUmlnaHQ9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLGk9YXJndW1lbnRzWzJdO3JldHVybiB0aGlzLmZnLnJlZHVjZVJpZ2h0KGZ1bmN0aW9uKHQsbixzKXtyZXR1cm4gZS5jYWxsKGksdCxuLHMscil9LHQpfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBpPXIoMzApO1widW5kZWZpbmVkXCI9PXR5cGVvZiBoaXZlJiYoaGl2ZT17fSksdm9pZCAwPT09aGl2ZS5ETiYmKGhpdmUuRE49e30pLHZvaWQgMD09PWhpdmUuRE4ucHJvdG9jb2wmJihoaXZlLkROLnByb3RvY29sPXt9KSx2b2lkIDA9PT1oaXZlLkROLnByb3RvY29sLkZOJiYoaGl2ZS5ETi5wcm90b2NvbC5GTj17fSksaGl2ZS5ETi5wcm90b2NvbC5GTi5pbz17MTpcIlBMQVlFUlwiLCRzOjEsMjpcIlAyUF9BR0VOVFwiLGVvOjIsMzpcIlBSRUZFVENIRVJfRklSU1RfVElFUlwiLHRvOjMsNDpcIlBSRUZFVENIRVJfU0VDT05EX1RJRVJcIixybzo0fSxoaXZlLkROLnByb3RvY29sLkZOLkxOPXsxOlwiR2xvYmFsXCIsTU46MSwyOlwiSW50ZXJuYWxBc1wiLEJOOjIsMzpcIkV4dGVybmFsQXNcIixVTjozfSxoaXZlLkROLnByb3RvY29sLkZOLnhOPXsxOlwiSW50ZXJuYWxcIixITjoxLDI6XCJFeHRlcm5hbFwiLEV4dGVybmFsOjJ9LGhpdmUuRE4ucHJvdG9jb2wuRk4ubm89ZnVuY3Rpb24oZSl7dGhpcy5zdGF0ZT1udWxsLHRoaXMuYml0cmF0ZT1udWxsLHRoaXMuZGVsdGE9bnVsbCxlJiYodm9pZCAwIT09ZS5zdGF0ZSYmKHRoaXMuc3RhdGU9ZS5zdGF0ZSksdm9pZCAwIT09ZS5iaXRyYXRlJiYodGhpcy5iaXRyYXRlPWUuYml0cmF0ZSksdm9pZCAwIT09ZS5kZWx0YSYmKHRoaXMuZGVsdGE9ZS5kZWx0YSkpfSxoaXZlLkROLnByb3RvY29sLkZOLm5vLnByb3RvdHlwZT17fSxoaXZlLkROLnByb3RvY29sLkZOLm5vLnByb3RvdHlwZS5yZWFkPWZ1bmN0aW9uKGUpe2ZvcihlLlFTKCk7Oyl7dmFyIHQ9ZS51dygpLHI9KHQucVMsdC5sdyksbj10LnB3O2lmKHI9PWkuYkkuQUkpYnJlYWs7c3dpdGNoKG4pe2Nhc2UgMTpyPT1pLmJJLk5JP3RoaXMuc3RhdGU9ZS5ndygpLnZhbHVlOmUuZHcocik7YnJlYWs7Y2FzZSAyOnI9PWkuYkkuTkk/dGhpcy5iaXRyYXRlPWUuZ3coKS52YWx1ZTplLmR3KHIpO2JyZWFrO2Nhc2UgMzpyPT1pLmJJLk5JP3RoaXMuZGVsdGE9ZS5ndygpLnZhbHVlOmUuZHcocik7YnJlYWs7ZGVmYXVsdDplLmR3KHIpfWUudncoKX1lLnl3KCl9LGhpdmUuRE4ucHJvdG9jb2wuRk4ubm8ucHJvdG90eXBlLndyaXRlPWZ1bmN0aW9uKGUpe2UubXcoXCJUcmFja2VyUGVlclN0cmVhbUluZm9cIiksbnVsbCE9PXRoaXMuc3RhdGUmJnZvaWQgMCE9PXRoaXMuc3RhdGUmJihlLkV3KFwic3RhdGVcIixpLmJJLk5JLDEpLGUud3codGhpcy5zdGF0ZSksZS5JdygpKSxudWxsIT09dGhpcy5iaXRyYXRlJiZ2b2lkIDAhPT10aGlzLmJpdHJhdGUmJihlLkV3KFwiYml0cmF0ZVwiLGkuYkkuTkksMiksZS53dyh0aGlzLmJpdHJhdGUpLGUuSXcoKSksbnVsbCE9PXRoaXMuZGVsdGEmJnZvaWQgMCE9PXRoaXMuZGVsdGEmJihlLkV3KFwiZGVsdGFcIixpLmJJLk5JLDMpLGUud3codGhpcy5kZWx0YSksZS5JdygpKSxlLlN3KCksZS5SdygpfSxoaXZlLkROLnByb3RvY29sLkZOLnFOPWZ1bmN0aW9uKGUpe3RoaXMuZ3VpZD1udWxsLHRoaXMuaW50ZXJuYWxBcz1udWxsLHRoaXMuZXh0ZXJuYWxBcz1udWxsLHRoaXMub289bnVsbCx0aGlzLmJhbmR3aWR0aD1udWxsLHRoaXMuYW89bnVsbCx0aGlzLnByaXZhdGVJcD1udWxsLHRoaXMucHVibGljSXA9bnVsbCx0aGlzLmhvPW51bGwsdGhpcy5jbz1udWxsLHRoaXMudGltZXN0YW1wPW51bGwsdGhpcy5sbz1udWxsLHRoaXMudW89bnVsbCxlJiYodm9pZCAwIT09ZS5ndWlkJiYodGhpcy5ndWlkPWUuZ3VpZCksdm9pZCAwIT09ZS5pbnRlcm5hbEFzJiYodGhpcy5pbnRlcm5hbEFzPWUuaW50ZXJuYWxBcyksdm9pZCAwIT09ZS5leHRlcm5hbEFzJiYodGhpcy5leHRlcm5hbEFzPWUuZXh0ZXJuYWxBcyksdm9pZCAwIT09ZS5vbyYmKHRoaXMub289ZS5vbyksdm9pZCAwIT09ZS5iYW5kd2lkdGgmJih0aGlzLmJhbmR3aWR0aD1lLmJhbmR3aWR0aCksdm9pZCAwIT09ZS5hbyYmKHRoaXMuYW89ZS5hbyksdm9pZCAwIT09ZS5wcml2YXRlSXAmJih0aGlzLnByaXZhdGVJcD1lLnByaXZhdGVJcCksdm9pZCAwIT09ZS5wdWJsaWNJcCYmKHRoaXMucHVibGljSXA9ZS5wdWJsaWNJcCksdm9pZCAwIT09ZS5obyYmKHRoaXMuaG89ZS5obyksdm9pZCAwIT09ZS5jbyYmKHRoaXMuY289ZS5jbyksdm9pZCAwIT09ZS50aW1lc3RhbXAmJih0aGlzLnRpbWVzdGFtcD1lLnRpbWVzdGFtcCksdm9pZCAwIT09ZS5sbyYmKHRoaXMubG89ZS5sbyksdm9pZCAwIT09ZS51byYmKHRoaXMudW89ZS51bykpfSxoaXZlLkROLnByb3RvY29sLkZOLnFOLnByb3RvdHlwZT17fSxoaXZlLkROLnByb3RvY29sLkZOLnFOLnByb3RvdHlwZS5yZWFkPWZ1bmN0aW9uKGUpe2ZvcihlLlFTKCk7Oyl7dmFyIHQ9ZS51dygpLHI9KHQucVMsdC5sdyksbj10LnB3O2lmKHI9PWkuYkkuQUkpYnJlYWs7c3dpdGNoKG4pe2Nhc2UgMTpyPT1pLmJJLkZJP3RoaXMuZ3VpZD1lLm9SKCkudmFsdWU6ZS5kdyhyKTticmVhaztjYXNlIDI6cj09aS5iSS5OST90aGlzLmludGVybmFsQXM9ZS5ndygpLnZhbHVlOmUuZHcocik7YnJlYWs7Y2FzZSAzOnI9PWkuYkkuTkk/dGhpcy5leHRlcm5hbEFzPWUuZ3coKS52YWx1ZTplLmR3KHIpO2JyZWFrO2Nhc2UgNDpyPT1pLmJJLk5JP3RoaXMub289ZS5ndygpLnZhbHVlOmUuZHcocik7YnJlYWs7Y2FzZSA1OnI9PWkuYkkuTkk/dGhpcy5iYW5kd2lkdGg9ZS5ndygpLnZhbHVlOmUuZHcocik7YnJlYWs7Y2FzZSA2OnI9PWkuYkkuTkk/dGhpcy5hbz1lLmd3KCkudmFsdWU6ZS5kdyhyKTticmVhaztjYXNlIDc6cj09aS5iSS5NST8odGhpcy5wcml2YXRlSXA9bmV3IEluZXRBZGRyZXNzLHRoaXMucHJpdmF0ZUlwLnJlYWQoZSkpOmUuZHcocik7YnJlYWs7Y2FzZSA4OnI9PWkuYkkuTUk/KHRoaXMucHVibGljSXA9bmV3IEluZXRBZGRyZXNzLHRoaXMucHVibGljSXAucmVhZChlKSk6ZS5kdyhyKTticmVhaztjYXNlIDk6aWYocj09aS5iSS54SSl7dmFyIHMsbz0wO3RoaXMuaG89W107cz1lLldTKCkscy5YUyxvPXMuc2l6ZTtmb3IodmFyIGE9MDthPG87KythKXt2YXIgaD1udWxsO2g9bmV3IGhpdmUuRE4ucHJvdG9jb2wuRk4ubm8saC5yZWFkKGUpLHRoaXMuaG8ucHVzaChoKX1lLlpTKCl9ZWxzZSBlLmR3KHIpO2JyZWFrO2Nhc2UgMTA6cj09aS5iSS5PST90aGlzLmNvPWUuc1IoKS52YWx1ZTplLmR3KHIpO2JyZWFrO2Nhc2UgMTE6cj09aS5iSS5EST90aGlzLnRpbWVzdGFtcD1lLm5SKCkudmFsdWU6ZS5kdyhyKTticmVhaztjYXNlIDEyOnI9PWkuYkkuRkk/dGhpcy5sbz1lLmZ3KCkudmFsdWU6ZS5kdyhyKTticmVhaztjYXNlIDEzOnI9PWkuYkkuRkk/dGhpcy51bz1lLmZ3KCkudmFsdWU6ZS5kdyhyKTticmVhaztkZWZhdWx0OmUuZHcocil9ZS52dygpfWUueXcoKX0saGl2ZS5ETi5wcm90b2NvbC5GTi5xTi5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24oZSl7aWYoZS5tdyhcIlRyYWNrZXJQZWVySW5mb1wiKSxudWxsIT09dGhpcy5ndWlkJiZ2b2lkIDAhPT10aGlzLmd1aWQmJihlLkV3KFwiZ3VpZFwiLGkuYkkuRkksMSksZS5NUyh0aGlzLmd1aWQpLGUuSXcoKSksbnVsbCE9PXRoaXMuaW50ZXJuYWxBcyYmdm9pZCAwIT09dGhpcy5pbnRlcm5hbEFzJiYoZS5FdyhcImludGVybmFsQXNcIixpLmJJLk5JLDIpLGUud3codGhpcy5pbnRlcm5hbEFzKSxlLkl3KCkpLG51bGwhPT10aGlzLmV4dGVybmFsQXMmJnZvaWQgMCE9PXRoaXMuZXh0ZXJuYWxBcyYmKGUuRXcoXCJleHRlcm5hbEFzXCIsaS5iSS5OSSwzKSxlLnd3KHRoaXMuZXh0ZXJuYWxBcyksZS5JdygpKSxudWxsIT09dGhpcy5vbyYmdm9pZCAwIT09dGhpcy5vbyYmKGUuRXcoXCJuYXRcIixpLmJJLk5JLDQpLGUud3codGhpcy5vbyksZS5JdygpKSxudWxsIT09dGhpcy5iYW5kd2lkdGgmJnZvaWQgMCE9PXRoaXMuYmFuZHdpZHRoJiYoZS5FdyhcImJhbmR3aWR0aFwiLGkuYkkuTkksNSksZS53dyh0aGlzLmJhbmR3aWR0aCksZS5JdygpKSxudWxsIT09dGhpcy5hbyYmdm9pZCAwIT09dGhpcy5hbyYmKGUuRXcoXCJ3YXRjaGluZ0JpdHJhdGVcIixpLmJJLk5JLDYpLGUud3codGhpcy5hbyksZS5JdygpKSxudWxsIT09dGhpcy5wcml2YXRlSXAmJnZvaWQgMCE9PXRoaXMucHJpdmF0ZUlwJiYoZS5FdyhcInByaXZhdGVJcFwiLGkuYkkuTUksNyksdGhpcy5wcml2YXRlSXAud3JpdGUoZSksZS5JdygpKSxudWxsIT09dGhpcy5wdWJsaWNJcCYmdm9pZCAwIT09dGhpcy5wdWJsaWNJcCYmKGUuRXcoXCJwdWJsaWNJcFwiLGkuYkkuTUksOCksdGhpcy5wdWJsaWNJcC53cml0ZShlKSxlLkl3KCkpLG51bGwhPT10aGlzLmhvJiZ2b2lkIDAhPT10aGlzLmhvKXtlLkV3KFwic3RyZWFtc1wiLGkuYkkueEksOSksZS5QUyhpLmJJLk1JLHRoaXMuaG8ubGVuZ3RoKTtmb3IodmFyIHQgaW4gdGhpcy5obyl0aGlzLmhvLmhhc093blByb3BlcnR5KHQpJiYodD10aGlzLmhvW3RdLHQud3JpdGUoZSkpO2UuQ1MoKSxlLkl3KCl9bnVsbCE9PXRoaXMuY28mJnZvaWQgMCE9PXRoaXMuY28mJihlLkV3KFwicmFua1ZhbHVlXCIsaS5iSS5PSSwxMCksZS5MUyh0aGlzLmNvKSxlLkl3KCkpLG51bGwhPT10aGlzLnRpbWVzdGFtcCYmdm9pZCAwIT09dGhpcy50aW1lc3RhbXAmJihlLkV3KFwidGltZXN0YW1wXCIsaS5iSS5ESSwxMSksZS5GUyh0aGlzLnRpbWVzdGFtcCksZS5JdygpKSxudWxsIT09dGhpcy5sbyYmdm9pZCAwIT09dGhpcy5sbyYmKGUuRXcoXCJwdWJsaWNJcFN0cmluZ1wiLGkuYkkuRkksMTIpLGUuVHcodGhpcy5sbyksZS5JdygpKSxudWxsIT09dGhpcy51byYmdm9pZCAwIT09dGhpcy51byYmKGUuRXcoXCJwcml2YXRlSXBTdHJpbmdcIixpLmJJLkZJLDEzKSxlLlR3KHRoaXMudW8pLGUuSXcoKSksZS5TdygpLGUuUncoKX0saGl2ZS5ETi5wcm90b2NvbC5GTi5WTj1mdW5jdGlvbihlKXt0aGlzLnBhcnRuZXJJZD1udWxsLHRoaXMuY3VzdG9tZXJJZD1udWxsLGUmJih2b2lkIDAhPT1lLnBhcnRuZXJJZCYmKHRoaXMucGFydG5lcklkPWUucGFydG5lcklkKSx2b2lkIDAhPT1lLmN1c3RvbWVySWQmJih0aGlzLmN1c3RvbWVySWQ9ZS5jdXN0b21lcklkKSl9LGhpdmUuRE4ucHJvdG9jb2wuRk4uVk4ucHJvdG90eXBlPXt9LGhpdmUuRE4ucHJvdG9jb2wuRk4uVk4ucHJvdG90eXBlLnJlYWQ9ZnVuY3Rpb24oZSl7Zm9yKGUuUVMoKTs7KXt2YXIgdD1lLnV3KCkscj0odC5xUyx0Lmx3KSxuPXQucHc7aWYocj09aS5iSS5BSSlicmVhaztzd2l0Y2gobil7Y2FzZSAxOnI9PWkuYkkuRkk/dGhpcy5wYXJ0bmVySWQ9ZS5mdygpLnZhbHVlOmUuZHcocik7YnJlYWs7Y2FzZSAyOnI9PWkuYkkuRkk/dGhpcy5jdXN0b21lcklkPWUuZncoKS52YWx1ZTplLmR3KHIpO2JyZWFrO2RlZmF1bHQ6ZS5kdyhyKX1lLnZ3KCl9ZS55dygpfSxoaXZlLkROLnByb3RvY29sLkZOLlZOLnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbihlKXtlLm13KFwiQ3VzdG9tZXJLZXlcIiksbnVsbCE9PXRoaXMucGFydG5lcklkJiZ2b2lkIDAhPT10aGlzLnBhcnRuZXJJZCYmKGUuRXcoXCJwYXJ0bmVySWRcIixpLmJJLkZJLDEpLGUuVHcodGhpcy5wYXJ0bmVySWQpLGUuSXcoKSksbnVsbCE9PXRoaXMuY3VzdG9tZXJJZCYmdm9pZCAwIT09dGhpcy5jdXN0b21lcklkJiYoZS5FdyhcImN1c3RvbWVySWRcIixpLmJJLkZJLDIpLGUuVHcodGhpcy5jdXN0b21lcklkKSxlLkl3KCkpLGUuU3coKSxlLlJ3KCl9LGhpdmUuRE4ucHJvdG9jb2wuRk4uak49ZnVuY3Rpb24oZSl7dGhpcy5HTj1udWxsLHRoaXMuUU49bnVsbCxlJiYodm9pZCAwIT09ZS5HTiYmKHRoaXMuR049ZS5HTiksdm9pZCAwIT09ZS5RTiYmKHRoaXMuUU49ZS5RTikpfSxoaXZlLkROLnByb3RvY29sLkZOLmpOLnByb3RvdHlwZT17fSxoaXZlLkROLnByb3RvY29sLkZOLmpOLnByb3RvdHlwZS5yZWFkPWZ1bmN0aW9uKGUpe2ZvcihlLlFTKCk7Oyl7dmFyIHQ9ZS51dygpLHI9KHQucVMsdC5sdyksbj10LnB3O2lmKHI9PWkuYkkuQUkpYnJlYWs7c3dpdGNoKG4pe2Nhc2UgMTpyPT1pLmJJLk5JP3RoaXMuR049ZS5ndygpLnZhbHVlOmUuZHcocik7YnJlYWs7Y2FzZSAyOnI9PWkuYkkuTkk/dGhpcy5RTj1lLmd3KCkudmFsdWU6ZS5kdyhyKTticmVhaztkZWZhdWx0OmUuZHcocil9ZS52dygpfWUueXcoKX0saGl2ZS5ETi5wcm90b2NvbC5GTi5qTi5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24oZSl7ZS5tdyhcIlRyYWNrZXJBc1F1ZXJ5XCIpLG51bGwhPT10aGlzLkdOJiZ2b2lkIDAhPT10aGlzLkdOJiYoZS5FdyhcImFzVHlwZVwiLGkuYkkuTkksMSksZS53dyh0aGlzLkdOKSxlLkl3KCkpLG51bGwhPT10aGlzLlFOJiZ2b2lkIDAhPT10aGlzLlFOJiYoZS5FdyhcImFzblwiLGkuYkkuTkksMiksZS53dyh0aGlzLlFOKSxlLkl3KCkpLGUuU3coKSxlLlJ3KCl9LGhpdmUuRE4ucHJvdG9jb2wuRk4uS049ZnVuY3Rpb24oZSl7dGhpcy5iaXRyYXRlPW51bGwsdGhpcy5RTj1udWxsLHRoaXMuWU49bnVsbCxlJiYodm9pZCAwIT09ZS5iaXRyYXRlJiYodGhpcy5iaXRyYXRlPWUuYml0cmF0ZSksdm9pZCAwIT09ZS5RTiYmKHRoaXMuUU49ZS5RTiksdm9pZCAwIT09ZS5ZTiYmKHRoaXMuWU49ZS5ZTikpfSxoaXZlLkROLnByb3RvY29sLkZOLktOLnByb3RvdHlwZT17fSxoaXZlLkROLnByb3RvY29sLkZOLktOLnByb3RvdHlwZS5yZWFkPWZ1bmN0aW9uKGUpe2ZvcihlLlFTKCk7Oyl7dmFyIHQ9ZS51dygpLHI9KHQucVMsdC5sdyksbj10LnB3O2lmKHI9PWkuYkkuQUkpYnJlYWs7c3dpdGNoKG4pe2Nhc2UgMTpyPT1pLmJJLk5JP3RoaXMuYml0cmF0ZT1lLmd3KCkudmFsdWU6ZS5kdyhyKTticmVhaztjYXNlIDI6cj09aS5iSS5NST8odGhpcy5RTj1uZXcgaGl2ZS5ETi5wcm90b2NvbC5GTi5qTix0aGlzLlFOLnJlYWQoZSkpOmUuZHcocik7YnJlYWs7Y2FzZSAzOnI9PWkuYkkuTkk/dGhpcy5ZTj1lLmd3KCkudmFsdWU6ZS5kdyhyKTticmVhaztkZWZhdWx0OmUuZHcocil9ZS52dygpfWUueXcoKX0saGl2ZS5ETi5wcm90b2NvbC5GTi5LTi5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24oZSl7ZS5tdyhcIlRyYWNrZXJCaXRyYXRlUXVlcnlcIiksbnVsbCE9PXRoaXMuYml0cmF0ZSYmdm9pZCAwIT09dGhpcy5iaXRyYXRlJiYoZS5FdyhcImJpdHJhdGVcIixpLmJJLk5JLDEpLGUud3codGhpcy5iaXRyYXRlKSxlLkl3KCkpLG51bGwhPT10aGlzLlFOJiZ2b2lkIDAhPT10aGlzLlFOJiYoZS5FdyhcImFzblwiLGkuYkkuTUksMiksdGhpcy5RTi53cml0ZShlKSxlLkl3KCkpLG51bGwhPT10aGlzLllOJiZ2b2lkIDAhPT10aGlzLllOJiYoZS5FdyhcInN0cmVhbVN0YXRlXCIsaS5iSS5OSSwzKSxlLnd3KHRoaXMuWU4pLGUuSXcoKSksZS5TdygpLGUuUncoKX0saGl2ZS5ETi5wcm90b2NvbC5GTi56Tj1mdW5jdGlvbihlKXt0aGlzLkpOPW51bGwsdGhpcy5XTj1udWxsLGUmJih2b2lkIDAhPT1lLkpOJiYodGhpcy5KTj1lLkpOKSx2b2lkIDAhPT1lLldOJiYodGhpcy5XTj1lLldOKSl9LGhpdmUuRE4ucHJvdG9jb2wuRk4uek4ucHJvdG90eXBlPXt9LGhpdmUuRE4ucHJvdG9jb2wuRk4uek4ucHJvdG90eXBlLnJlYWQ9ZnVuY3Rpb24oZSl7Zm9yKGUuUVMoKTs7KXt2YXIgdD1lLnV3KCkscj0odC5xUyx0Lmx3KSxuPXQucHc7aWYocj09aS5iSS5BSSlicmVhaztzd2l0Y2gobil7Y2FzZSAxOnI9PWkuYkkuTkk/dGhpcy5KTj1lLmd3KCkudmFsdWU6ZS5kdyhyKTticmVhaztjYXNlIDI6cj09aS5iSS5NST8odGhpcy5XTj1uZXcgaGl2ZS5ETi5wcm90b2NvbC5GTi5qTix0aGlzLldOLnJlYWQoZSkpOmUuZHcocik7YnJlYWs7ZGVmYXVsdDplLmR3KHIpfWUudncoKX1lLnl3KCl9LGhpdmUuRE4ucHJvdG9jb2wuRk4uek4ucHJvdG90eXBlLndyaXRlPWZ1bmN0aW9uKGUpe2UubXcoXCJUcmFja2VyUmFua1F1ZXJ5XCIpLG51bGwhPT10aGlzLkpOJiZ2b2lkIDAhPT10aGlzLkpOJiYoZS5FdyhcInJhbmtUeXBlXCIsaS5iSS5OSSwxKSxlLnd3KHRoaXMuSk4pLGUuSXcoKSksbnVsbCE9PXRoaXMuV04mJnZvaWQgMCE9PXRoaXMuV04mJihlLkV3KFwiYXNRdWVyeVwiLGkuYkkuTUksMiksdGhpcy5XTi53cml0ZShlKSxlLkl3KCkpLGUuU3coKSxlLlJ3KCl9LGhpdmUuRE4ucHJvdG9jb2wuRk4uWE49ZnVuY3Rpb24oZSl7dGhpcy5yYW5kb209bnVsbCx0aGlzLlpOPW51bGwsdGhpcy4kTj1udWxsLHRoaXMuZUQ9bnVsbCx0aGlzLnREPW51bGwsZSYmKHZvaWQgMCE9PWUucmFuZG9tJiYodGhpcy5yYW5kb209ZS5yYW5kb20pLHZvaWQgMCE9PWUuWk4mJih0aGlzLlpOPWUuWk4pLHZvaWQgMCE9PWUuJE4mJih0aGlzLiROPWUuJE4pLHZvaWQgMCE9PWUuZUQmJih0aGlzLmVEPWUuZUQpLHZvaWQgMCE9PWUudEQmJih0aGlzLnREPWUudEQpKX0saGl2ZS5ETi5wcm90b2NvbC5GTi5YTi5wcm90b3R5cGU9e30saGl2ZS5ETi5wcm90b2NvbC5GTi5YTi5wcm90b3R5cGUucmVhZD1mdW5jdGlvbihlKXtmb3IoZS5RUygpOzspe3ZhciB0PWUudXcoKSxyPSh0LnFTLHQubHcpLG49dC5wdztpZihyPT1pLmJJLkFJKWJyZWFrO3N3aXRjaChuKXtjYXNlIDE6cj09aS5iSS5OST90aGlzLnJhbmRvbT1lLmd3KCkudmFsdWU6ZS5kdyhyKTticmVhaztjYXNlIDI6aWYocj09aS5iSS5CSSl7dmFyIHMsbz0wO3RoaXMuWk49e307cz1lLktTKCkscy5ZUyxzLnpTLG89cy5zaXplO2Zvcih2YXIgYT0wO2E8bzsrK2Epe2E+MCYmZS5VUy5sZW5ndGg+ZS5Dd1tlLkN3Lmxlbmd0aC0xXSsxJiZlLlVTLnBvcCgpO3ZhciBoPW51bGwsYz1udWxsO2g9bmV3IGhpdmUuRE4ucHJvdG9jb2wuRk4uak4saC5yZWFkKGUpLGM9ZS5ndygpLnZhbHVlLHRoaXMuWk5baF09Y31lLkpTKCl9ZWxzZSBlLmR3KHIpO2JyZWFrO2Nhc2UgMzppZihyPT1pLmJJLkJJKXt2YXIgdSxsPTA7dGhpcy4kTj17fTt1PWUuS1MoKSx1LllTLHUuelMsbD11LnNpemU7Zm9yKHZhciBwPTA7cDxsOysrcCl7cD4wJiZlLlVTLmxlbmd0aD5lLkN3W2UuQ3cubGVuZ3RoLTFdKzEmJmUuVVMucG9wKCk7dmFyIGY9bnVsbCxkPW51bGw7Zj1uZXcgaGl2ZS5ETi5wcm90b2NvbC5GTi5LTixmLnJlYWQoZSksZD1lLmd3KCkudmFsdWUsdGhpcy4kTltmXT1kfWUuSlMoKX1lbHNlIGUuZHcocik7YnJlYWs7Y2FzZSA0OmlmKHI9PWkuYkkuQkkpe3ZhciBnLHY9MDt0aGlzLmVEPXt9O2c9ZS5LUygpLGcuWVMsZy56Uyx2PWcuc2l6ZTtmb3IodmFyIHk9MDt5PHY7Kyt5KXt5PjAmJmUuVVMubGVuZ3RoPmUuQ3dbZS5Ddy5sZW5ndGgtMV0rMSYmZS5VUy5wb3AoKTt2YXIgbT1udWxsLEU9bnVsbDttPW5ldyBoaXZlLkROLnByb3RvY29sLkZOLktOLG0ucmVhZChlKSxFPWUuZ3coKS52YWx1ZSx0aGlzLmVEW21dPUV9ZS5KUygpfWVsc2UgZS5kdyhyKTticmVhaztjYXNlIDU6aWYocj09aS5iSS54SSl7dmFyIFQsST0wO3RoaXMudEQ9W107VD1lLldTKCksVC5YUyxJPVQuc2l6ZTtmb3IodmFyIHc9MDt3PEk7Kyt3KXt2YXIgUz1udWxsO1M9ZS5ndygpLnZhbHVlLHRoaXMudEQucHVzaChTKX1lLlpTKCl9ZWxzZSBlLmR3KHIpO2JyZWFrO2RlZmF1bHQ6ZS5kdyhyKX1lLnZ3KCl9ZS55dygpfSxoaXZlLkROLnByb3RvY29sLkZOLlhOLnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbihlKXtpZihlLm13KFwiVHJhY2tlclF1ZXJ5XCIpLG51bGwhPT10aGlzLnJhbmRvbSYmdm9pZCAwIT09dGhpcy5yYW5kb20mJihlLkV3KFwicmFuZG9tXCIsaS5iSS5OSSwxKSxlLnd3KHRoaXMucmFuZG9tKSxlLkl3KCkpLG51bGwhPT10aGlzLlpOJiZ2b2lkIDAhPT10aGlzLlpOKXtlLkV3KFwiYXNuc1wiLGkuYkkuQkksMiksZS5SUyhpLmJJLk1JLGkuYkkuTkksaS5ZSSh0aGlzLlpOKSk7Zm9yKHZhciB0PTA7dDx0aGlzLlpOLmxlbmd0aDt0Kyspe3ZhciByPXRoaXMuWk5bdF0sbj1yLmtleSxzPXIudmFsdWU7bi53cml0ZShlKSxlLnd3KHMpfWUuYlMoKSxlLkl3KCl9aWYobnVsbCE9PXRoaXMuJE4mJnZvaWQgMCE9PXRoaXMuJE4pe2UuRXcoXCJ3YXRjaGVyc1wiLGkuYkkuQkksMyksZS5SUyhpLmJJLk1JLGkuYkkuTkksaS5ZSSh0aGlzLiROKSk7Zm9yKHZhciB0PTA7dDx0aGlzLiROLmxlbmd0aDt0Kyspe3ZhciByPXRoaXMuJE5bdF0sbz1yLmtleSxhPXIudmFsdWU7by53cml0ZShlKSxlLnd3KGEpfWUuYlMoKSxlLkl3KCl9aWYobnVsbCE9PXRoaXMuZUQmJnZvaWQgMCE9PXRoaXMuZUQpe2UuRXcoXCJzdHJlYW1lcnNcIixpLmJJLkJJLDQpLGUuUlMoaS5iSS5NSSxpLmJJLk5JLGkuWUkodGhpcy5lRCkpO2Zvcih2YXIgdD0wO3Q8dGhpcy5lRC5sZW5ndGg7dCsrKXt2YXIgcj10aGlzLmVEW3RdLGg9ci5rZXksYz1yLnZhbHVlO2gud3JpdGUoZSksZS53dyhjKX1lLmJTKCksZS5JdygpfWlmKG51bGwhPT10aGlzLnREJiZ2b2lkIDAhPT10aGlzLnREKXtlLkV3KFwicmFua2luZ3NcIixpLmJJLnhJLDUpLGUuUFMoaS5iSS5OSSx0aGlzLnRELmxlbmd0aCk7Zm9yKHZhciB1IGluIHRoaXMudEQpdGhpcy50RC5oYXNPd25Qcm9wZXJ0eSh1KSYmKHU9dGhpcy50RFt1XSxlLnd3KHUpKTtlLkNTKCksZS5JdygpfWUuU3coKSxlLlJ3KCl9LGhpdmUuRE4ucHJvdG9jb2wuRk4uckQ9ZnVuY3Rpb24oZSl7dGhpcy5KTj1udWxsLHRoaXMuaW50ZXJuYWxBcz1udWxsLHRoaXMuZXh0ZXJuYWxBcz1udWxsLGUmJih2b2lkIDAhPT1lLkpOJiYodGhpcy5KTj1lLkpOKSx2b2lkIDAhPT1lLmludGVybmFsQXMmJih0aGlzLmludGVybmFsQXM9ZS5pbnRlcm5hbEFzKSx2b2lkIDAhPT1lLmV4dGVybmFsQXMmJih0aGlzLmV4dGVybmFsQXM9ZS5leHRlcm5hbEFzKSl9LGhpdmUuRE4ucHJvdG9jb2wuRk4uckQucHJvdG90eXBlPXt9LGhpdmUuRE4ucHJvdG9jb2wuRk4uckQucHJvdG90eXBlLnJlYWQ9ZnVuY3Rpb24oZSl7Zm9yKGUuUVMoKTs7KXt2YXIgdD1lLnV3KCkscj0odC5xUyx0Lmx3KSxuPXQucHc7aWYocj09aS5iSS5BSSlicmVhaztzd2l0Y2gobil7Y2FzZSAxOnI9PWkuYkkuTkk/dGhpcy5KTj1lLmd3KCkudmFsdWU6ZS5kdyhyKTticmVhaztjYXNlIDI6cj09aS5iSS5OST90aGlzLmludGVybmFsQXM9ZS5ndygpLnZhbHVlOmUuZHcocik7YnJlYWs7Y2FzZSAzOnI9PWkuYkkuTkk/dGhpcy5leHRlcm5hbEFzPWUuZ3coKS52YWx1ZTplLmR3KHIpO2JyZWFrO2RlZmF1bHQ6ZS5kdyhyKX1lLnZ3KCl9ZS55dygpfSxoaXZlLkROLnByb3RvY29sLkZOLnJELnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbihlKXtlLm13KFwiVHJhY2tlclBlZXJSYW5raW5nS2V5XCIpLG51bGwhPT10aGlzLkpOJiZ2b2lkIDAhPT10aGlzLkpOJiYoZS5FdyhcInJhbmtUeXBlXCIsaS5iSS5OSSwxKSxlLnd3KHRoaXMuSk4pLGUuSXcoKSksbnVsbCE9PXRoaXMuaW50ZXJuYWxBcyYmdm9pZCAwIT09dGhpcy5pbnRlcm5hbEFzJiYoZS5FdyhcImludGVybmFsQXNcIixpLmJJLk5JLDIpLGUud3codGhpcy5pbnRlcm5hbEFzKSxlLkl3KCkpLG51bGwhPT10aGlzLmV4dGVybmFsQXMmJnZvaWQgMCE9PXRoaXMuZXh0ZXJuYWxBcyYmKGUuRXcoXCJleHRlcm5hbEFzXCIsaS5iSS5OSSwzKSxlLnd3KHRoaXMuZXh0ZXJuYWxBcyksZS5JdygpKSxlLlN3KCksZS5SdygpfSxoaXZlLkROLnByb3RvY29sLkZOLmlEPWZ1bmN0aW9uKGUpe3RoaXMua2V5PW51bGwsdGhpcy5uRD1udWxsLHRoaXMuc0Q9bnVsbCx0aGlzLm9EPW51bGwsdGhpcy5hRD1udWxsLGUmJih2b2lkIDAhPT1lLmtleSYmKHRoaXMua2V5PWUua2V5KSx2b2lkIDAhPT1lLm5EJiYodGhpcy5uRD1lLm5EKSx2b2lkIDAhPT1lLnNEJiYodGhpcy5zRD1lLnNEKSx2b2lkIDAhPT1lLm9EJiYodGhpcy5vRD1lLm9EKSx2b2lkIDAhPT1lLmFEJiYodGhpcy5hRD1lLmFEKSl9LGhpdmUuRE4ucHJvdG9jb2wuRk4uaUQucHJvdG90eXBlPXt9LGhpdmUuRE4ucHJvdG9jb2wuRk4uaUQucHJvdG90eXBlLnJlYWQ9ZnVuY3Rpb24oZSl7Zm9yKGUuUVMoKTs7KXt2YXIgdD1lLnV3KCkscj0odC5xUyx0Lmx3KSxuPXQucHc7aWYocj09aS5iSS5BSSlicmVhaztzd2l0Y2gobil7Y2FzZSAxOnI9PWkuYkkuTUk/KHRoaXMua2V5PW5ldyBoaXZlLkROLnByb3RvY29sLkZOLnJELHRoaXMua2V5LnJlYWQoZSkpOmUuZHcocik7YnJlYWs7Y2FzZSAyOnI9PWkuYkkuTkk/dGhpcy5uRD1lLmd3KCkudmFsdWU6ZS5kdyhyKTticmVhaztjYXNlIDM6cj09aS5iSS5OST90aGlzLnNEPWUuZ3coKS52YWx1ZTplLmR3KHIpO2JyZWFrO2Nhc2UgNDpyPT1pLmJJLk9JP3RoaXMub0Q9ZS5zUigpLnZhbHVlOmUuZHcocik7YnJlYWs7Y2FzZSA1OnI9PWkuYkkuT0k/dGhpcy5hRD1lLnNSKCkudmFsdWU6ZS5kdyhyKTticmVhaztkZWZhdWx0OmUuZHcocil9ZS52dygpfWUueXcoKX0saGl2ZS5ETi5wcm90b2NvbC5GTi5pRC5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24oZSl7ZS5tdyhcIlRyYWNrZXJQZWVyUmFua2luZ1wiKSxudWxsIT09dGhpcy5rZXkmJnZvaWQgMCE9PXRoaXMua2V5JiYoZS5FdyhcImtleVwiLGkuYkkuTUksMSksdGhpcy5rZXkud3JpdGUoZSksZS5JdygpKSxudWxsIT09dGhpcy5uRCYmdm9pZCAwIT09dGhpcy5uRCYmKGUuRXcoXCJyYW5raW5nXCIsaS5iSS5OSSwyKSxlLnd3KHRoaXMubkQpLGUuSXcoKSksbnVsbCE9PXRoaXMuc0QmJnZvaWQgMCE9PXRoaXMuc0QmJihlLkV3KFwiZ3JvdXBTaXplXCIsaS5iSS5OSSwzKSxlLnd3KHRoaXMuc0QpLGUuSXcoKSksbnVsbCE9PXRoaXMub0QmJnZvaWQgMCE9PXRoaXMub0QmJihlLkV3KFwiY3VtdWxhdGVkUmFua1ZhbHVlXCIsaS5iSS5PSSw0KSxlLkxTKHRoaXMub0QpLGUuSXcoKSksbnVsbCE9PXRoaXMuYUQmJnZvaWQgMCE9PXRoaXMuYUQmJihlLkV3KFwidG90YWxPZlJhbmtWYWx1ZXNcIixpLmJJLk9JLDUpLGUuTFModGhpcy5hRCksZS5JdygpKSxlLlN3KCksZS5SdygpfSxoaXZlLkROLnByb3RvY29sLkZOLmhEPWZ1bmN0aW9uKGUpe3RoaXMuaW5mbz1udWxsLHRoaXMuY29udGVudElkPW51bGwsdGhpcy5kbj1udWxsLHRoaXMuc3RyZWFtVHlwZT1udWxsLHRoaXMuc2Vzc2lvbklkPW51bGwsdGhpcy5jRD1udWxsLGUmJih2b2lkIDAhPT1lLmluZm8mJih0aGlzLmluZm89ZS5pbmZvKSx2b2lkIDAhPT1lLmNvbnRlbnRJZCYmKHRoaXMuY29udGVudElkPWUuY29udGVudElkKSx2b2lkIDAhPT1lLmRuJiYodGhpcy5kbj1lLmRuKSx2b2lkIDAhPT1lLnN0cmVhbVR5cGUmJih0aGlzLnN0cmVhbVR5cGU9ZS5zdHJlYW1UeXBlKSx2b2lkIDAhPT1lLnNlc3Npb25JZCYmKHRoaXMuc2Vzc2lvbklkPWUuc2Vzc2lvbklkKSx2b2lkIDAhPT1lLmNEJiYodGhpcy5jRD1lLmNEKSl9LGhpdmUuRE4ucHJvdG9jb2wuRk4uaEQucHJvdG90eXBlPXt9LGhpdmUuRE4ucHJvdG9jb2wuRk4uaEQucHJvdG90eXBlLnJlYWQ9ZnVuY3Rpb24oZSl7Zm9yKGUuUVMoKTs7KXt2YXIgdD1lLnV3KCkscj0odC5xUyx0Lmx3KSxuPXQucHc7aWYocj09aS5iSS5BSSlicmVhaztzd2l0Y2gobil7Y2FzZSAxOnI9PWkuYkkuTUk/KHRoaXMuaW5mbz1uZXcgaGl2ZS5ETi5wcm90b2NvbC5GTi5xTix0aGlzLmluZm8ucmVhZChlKSk6ZS5kdyhyKTticmVhaztjYXNlIDI6cj09aS5iSS5GST90aGlzLmNvbnRlbnRJZD1lLmZ3KCkudmFsdWU6ZS5kdyhyKTticmVhaztjYXNlIDM6cj09aS5iSS5NST8odGhpcy5kbj1uZXcgaGl2ZS5ETi5wcm90b2NvbC5GTi5YTix0aGlzLmRuLnJlYWQoZSkpOmUuZHcocik7YnJlYWs7Y2FzZSA0OnI9PWkuYkkuTkk/dGhpcy5zdHJlYW1UeXBlPWUuZ3coKS52YWx1ZTplLmR3KHIpO2JyZWFrO2Nhc2UgNTpyPT1pLmJJLkZJP3RoaXMuc2Vzc2lvbklkPWUuZncoKS52YWx1ZTplLmR3KHIpO2JyZWFrO2Nhc2UgNjpyPT1pLmJJLk1JPyh0aGlzLmNEPW5ldyBoaXZlLkROLnByb3RvY29sLkZOLlZOLHRoaXMuY0QucmVhZChlKSk6ZS5kdyhyKTticmVhaztkZWZhdWx0OmUuZHcocil9ZS52dygpfWUueXcoKX0saGl2ZS5ETi5wcm90b2NvbC5GTi5oRC5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24oZSl7ZS5tdyhcIlRyYWNrZXJSZXF1ZXN0XCIpLG51bGwhPT10aGlzLmluZm8mJnZvaWQgMCE9PXRoaXMuaW5mbyYmKGUuRXcoXCJpbmZvXCIsaS5iSS5NSSwxKSx0aGlzLmluZm8ud3JpdGUoZSksZS5JdygpKSxudWxsIT09dGhpcy5jb250ZW50SWQmJnZvaWQgMCE9PXRoaXMuY29udGVudElkJiYoZS5FdyhcImNvbnRlbnRJZFwiLGkuYkkuRkksMiksZS5Udyh0aGlzLmNvbnRlbnRJZCksZS5JdygpKSxudWxsIT09dGhpcy5kbiYmdm9pZCAwIT09dGhpcy5kbiYmKGUuRXcoXCJxdWVyeVwiLGkuYkkuTUksMyksdGhpcy5kbi53cml0ZShlKSxlLkl3KCkpLG51bGwhPT10aGlzLnN0cmVhbVR5cGUmJnZvaWQgMCE9PXRoaXMuc3RyZWFtVHlwZSYmKGUuRXcoXCJzdHJlYW1UeXBlXCIsaS5iSS5OSSw0KSxlLnd3KHRoaXMuc3RyZWFtVHlwZSksZS5JdygpKSxudWxsIT09dGhpcy5zZXNzaW9uSWQmJnZvaWQgMCE9PXRoaXMuc2Vzc2lvbklkJiYoZS5FdyhcInNlc3Npb25JZFwiLGkuYkkuRkksNSksZS5Udyh0aGlzLnNlc3Npb25JZCksZS5JdygpKSxudWxsIT09dGhpcy5jRCYmdm9pZCAwIT09dGhpcy5jRCYmKGUuRXcoXCJjdXN0b21lcktleVwiLGkuYkkuTUksNiksdGhpcy5jRC53cml0ZShlKSxlLkl3KCkpLGUuU3coKSxlLlJ3KCl9LGhpdmUuRE4ucHJvdG9jb2wuRk4udUQ9ZnVuY3Rpb24oZSl7dGhpcy5sRD1udWxsLHRoaXMudEQ9bnVsbCx0aGlzLlRrPW51bGwsdGhpcy5zZXNzaW9uSWQ9bnVsbCxlJiYodm9pZCAwIT09ZS5sRCYmKHRoaXMubEQ9ZS5sRCksdm9pZCAwIT09ZS50RCYmKHRoaXMudEQ9ZS50RCksdm9pZCAwIT09ZS5UayYmKHRoaXMuVGs9ZS5Uayksdm9pZCAwIT09ZS5zZXNzaW9uSWQmJih0aGlzLnNlc3Npb25JZD1lLnNlc3Npb25JZCkpfSxoaXZlLkROLnByb3RvY29sLkZOLnVELnByb3RvdHlwZT17fSxoaXZlLkROLnByb3RvY29sLkZOLnVELnByb3RvdHlwZS5yZWFkPWZ1bmN0aW9uKGUpe2ZvcihlLlFTKCk7Oyl7dmFyIHQ9ZS51dygpLHI9KHQucVMsdC5sdyksbj10LnB3O2lmKHI9PWkuYkkuQUkpYnJlYWs7c3dpdGNoKG4pe2Nhc2UgMTppZihyPT1pLmJJLnhJKXt2YXIgcyxvPTA7dGhpcy5sRD1bXTtzPWUuV1MoKSxzLlhTLG89cy5zaXplO2Zvcih2YXIgYT0wO2E8bzsrK2Epe3ZhciBoPW51bGw7aD1uZXcgaGl2ZS5ETi5wcm90b2NvbC5GTi5xTixoLnJlYWQoZSksdGhpcy5sRC5wdXNoKGgpfWUuWlMoKX1lbHNlIGUuZHcocik7YnJlYWs7Y2FzZSAyOmlmKHI9PWkuYkkueEkpe3ZhciBjLHU9MDt0aGlzLnREPVtdO2M9ZS5XUygpLGMuWFMsdT1jLnNpemU7Zm9yKHZhciBsPTA7bDx1OysrbCl7dmFyIHA9bnVsbDtwPW5ldyBoaXZlLkROLnByb3RvY29sLkZOLmlELHAucmVhZChlKSx0aGlzLnRELnB1c2gocCl9ZS5aUygpfWVsc2UgZS5kdyhyKTticmVhaztjYXNlIDM6cj09aS5iSS5NST8odGhpcy5Uaz1uZXcgaGl2ZS5ETi5wcm90b2NvbC5GTi5xTix0aGlzLlRrLnJlYWQoZSkpOmUuZHcocik7YnJlYWs7Y2FzZSA0OnI9PWkuYkkuRkk/dGhpcy5zZXNzaW9uSWQ9ZS5mdygpLnZhbHVlOmUuZHcocik7YnJlYWs7ZGVmYXVsdDplLmR3KHIpfWUudncoKX1lLnl3KCl9LGhpdmUuRE4ucHJvdG9jb2wuRk4udUQucHJvdG90eXBlLndyaXRlPWZ1bmN0aW9uKGUpe2lmKGUubXcoXCJUcmFja2VyUmVzcG9uc2VcIiksbnVsbCE9PXRoaXMubEQmJnZvaWQgMCE9PXRoaXMubEQpe2UuRXcoXCJpbmZvc1wiLGkuYkkueEksMSksZS5QUyhpLmJJLk1JLHRoaXMubEQubGVuZ3RoKTtmb3IodmFyIHQgaW4gdGhpcy5sRCl0aGlzLmxELmhhc093blByb3BlcnR5KHQpJiYodD10aGlzLmxEW3RdLHQud3JpdGUoZSkpO2UuQ1MoKSxlLkl3KCl9aWYobnVsbCE9PXRoaXMudEQmJnZvaWQgMCE9PXRoaXMudEQpe2UuRXcoXCJyYW5raW5nc1wiLGkuYkkueEksMiksZS5QUyhpLmJJLk1JLHRoaXMudEQubGVuZ3RoKTtmb3IodmFyIHIgaW4gdGhpcy50RCl0aGlzLnRELmhhc093blByb3BlcnR5KHIpJiYocj10aGlzLnREW3JdLHIud3JpdGUoZSkpO2UuQ1MoKSxlLkl3KCl9bnVsbCE9PXRoaXMuVGsmJnZvaWQgMCE9PXRoaXMuVGsmJihlLkV3KFwicGVlckluZm9cIixpLmJJLk1JLDMpLHRoaXMuVGsud3JpdGUoZSksZS5JdygpKSxudWxsIT09dGhpcy5zZXNzaW9uSWQmJnZvaWQgMCE9PXRoaXMuc2Vzc2lvbklkJiYoZS5FdyhcInNlc3Npb25JZFwiLGkuYkkuRkksNCksZS5Udyh0aGlzLnNlc3Npb25JZCksZS5JdygpKSxlLlN3KCksZS5SdygpfSxoaXZlLkROLnByb3RvY29sLkZOLnBEPWZ1bmN0aW9uKGUpe3RoaXMudGltZXN0YW1wPW51bGwsdGhpcy5jb250ZW50SWQ9bnVsbCx0aGlzLkdOPW51bGwsdGhpcy5RTj1udWxsLHRoaXMuYml0cmF0ZT1udWxsLHRoaXMuWU49bnVsbCx0aGlzLkpOPW51bGwsZSYmKHZvaWQgMCE9PWUudGltZXN0YW1wJiYodGhpcy50aW1lc3RhbXA9ZS50aW1lc3RhbXApLHZvaWQgMCE9PWUuY29udGVudElkJiYodGhpcy5jb250ZW50SWQ9ZS5jb250ZW50SWQpLHZvaWQgMCE9PWUuR04mJih0aGlzLkdOPWUuR04pLHZvaWQgMCE9PWUuUU4mJih0aGlzLlFOPWUuUU4pLHZvaWQgMCE9PWUuYml0cmF0ZSYmKHRoaXMuYml0cmF0ZT1lLmJpdHJhdGUpLHZvaWQgMCE9PWUuWU4mJih0aGlzLllOPWUuWU4pLHZvaWQgMCE9PWUuSk4mJih0aGlzLkpOPWUuSk4pKX0saGl2ZS5ETi5wcm90b2NvbC5GTi5wRC5wcm90b3R5cGU9e30saGl2ZS5ETi5wcm90b2NvbC5GTi5wRC5wcm90b3R5cGUucmVhZD1mdW5jdGlvbihlKXtmb3IoZS5RUygpOzspe3ZhciB0PWUudXcoKSxyPSh0LnFTLHQubHcpLG49dC5wdztpZihyPT1pLmJJLkFJKWJyZWFrO3N3aXRjaChuKXtjYXNlIDE6cj09aS5iSS5OST90aGlzLnRpbWVzdGFtcD1lLmd3KCkudmFsdWU6ZS5kdyhyKTticmVhaztjYXNlIDI6cj09aS5iSS5GST90aGlzLmNvbnRlbnRJZD1lLmZ3KCkudmFsdWU6ZS5kdyhyKTticmVhaztjYXNlIDM6cj09aS5iSS5OST90aGlzLkdOPWUuZ3coKS52YWx1ZTplLmR3KHIpO2JyZWFrO2Nhc2UgNDpyPT1pLmJJLk5JP3RoaXMuUU49ZS5ndygpLnZhbHVlOmUuZHcocik7YnJlYWs7Y2FzZSA1OnI9PWkuYkkuTkk/dGhpcy5iaXRyYXRlPWUuZ3coKS52YWx1ZTplLmR3KHIpO2JyZWFrO2Nhc2UgNjpyPT1pLmJJLk5JP3RoaXMuWU49ZS5ndygpLnZhbHVlOmUuZHcocik7YnJlYWs7Y2FzZSA3OnI9PWkuYkkuTkk/dGhpcy5KTj1lLmd3KCkudmFsdWU6ZS5kdyhyKTticmVhaztkZWZhdWx0OmUuZHcocil9ZS52dygpfWUueXcoKX0saGl2ZS5ETi5wcm90b2NvbC5GTi5wRC5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24oZSl7ZS5tdyhcIlRyYWNrZXJTdG9yZUluZGV4S2V5XCIpLG51bGwhPT10aGlzLnRpbWVzdGFtcCYmdm9pZCAwIT09dGhpcy50aW1lc3RhbXAmJihlLkV3KFwidGltZXN0YW1wXCIsaS5iSS5OSSwxKSxlLnd3KHRoaXMudGltZXN0YW1wKSxlLkl3KCkpLG51bGwhPT10aGlzLmNvbnRlbnRJZCYmdm9pZCAwIT09dGhpcy5jb250ZW50SWQmJihlLkV3KFwiY29udGVudElkXCIsaS5iSS5GSSwyKSxlLlR3KHRoaXMuY29udGVudElkKSxlLkl3KCkpLG51bGwhPT10aGlzLkdOJiZ2b2lkIDAhPT10aGlzLkdOJiYoZS5FdyhcImFzVHlwZVwiLGkuYkkuTkksMyksZS53dyh0aGlzLkdOKSxlLkl3KCkpLG51bGwhPT10aGlzLlFOJiZ2b2lkIDAhPT10aGlzLlFOJiYoZS5FdyhcImFzblwiLGkuYkkuTkksNCksZS53dyh0aGlzLlFOKSxlLkl3KCkpLG51bGwhPT10aGlzLmJpdHJhdGUmJnZvaWQgMCE9PXRoaXMuYml0cmF0ZSYmKGUuRXcoXCJiaXRyYXRlXCIsaS5iSS5OSSw1KSxlLnd3KHRoaXMuYml0cmF0ZSksZS5JdygpKSxudWxsIT09dGhpcy5ZTiYmdm9pZCAwIT09dGhpcy5ZTiYmKGUuRXcoXCJzdHJlYW1TdGF0ZVwiLGkuYkkuTkksNiksZS53dyh0aGlzLllOKSxlLkl3KCkpLG51bGwhPT10aGlzLkpOJiZ2b2lkIDAhPT10aGlzLkpOJiYoZS5FdyhcInJhbmtUeXBlXCIsaS5iSS5OSSw3KSxlLnd3KHRoaXMuSk4pLGUuSXcoKSksZS5TdygpLGUuUncoKX0saGl2ZS5ETi5wcm90b2NvbC5GTi5mRD1mdW5jdGlvbihlKXt0aGlzLmd1aWQ9bnVsbCx0aGlzLmREPW51bGwsdGhpcy5rZXk9bnVsbCxlJiYodm9pZCAwIT09ZS5ndWlkJiYodGhpcy5ndWlkPWUuZ3VpZCksdm9pZCAwIT09ZS5kRCYmKHRoaXMuZEQ9ZS5kRCksdm9pZCAwIT09ZS5rZXkmJih0aGlzLmtleT1lLmtleSkpfSxoaXZlLkROLnByb3RvY29sLkZOLmZELnByb3RvdHlwZT17fSxoaXZlLkROLnByb3RvY29sLkZOLmZELnByb3RvdHlwZS5yZWFkPWZ1bmN0aW9uKGUpe2ZvcihlLlFTKCk7Oyl7dmFyIHQ9ZS51dygpLHI9KHQucVMsdC5sdyksbj10LnB3O2lmKHI9PWkuYkkuQUkpYnJlYWs7c3dpdGNoKG4pe2Nhc2UgMTpyPT1pLmJJLkZJP3RoaXMuZ3VpZD1lLm9SKCkudmFsdWU6ZS5kdyhyKTticmVhaztjYXNlIDI6cj09aS5iSS5PST90aGlzLmREPWUuc1IoKS52YWx1ZTplLmR3KHIpO2JyZWFrO2Nhc2UgMzpyPT1pLmJJLk1JPyh0aGlzLmtleT1uZXcgaGl2ZS5ETi5wcm90b2NvbC5GTi5yRCx0aGlzLmtleS5yZWFkKGUpKTplLmR3KHIpO2JyZWFrO2RlZmF1bHQ6ZS5kdyhyKX1lLnZ3KCl9ZS55dygpfSxoaXZlLkROLnByb3RvY29sLkZOLmZELnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbihlKXtlLm13KFwiVHJhY2tlclN0b3JlUmFua1BlZXJcIiksbnVsbCE9PXRoaXMuZ3VpZCYmdm9pZCAwIT09dGhpcy5ndWlkJiYoZS5FdyhcImd1aWRcIixpLmJJLkZJLDEpLGUuTVModGhpcy5ndWlkKSxlLkl3KCkpLG51bGwhPT10aGlzLmREJiZ2b2lkIDAhPT10aGlzLmREJiYoZS5FdyhcInJhbmtcIixpLmJJLk9JLDIpLGUuTFModGhpcy5kRCksZS5JdygpKSxudWxsIT09dGhpcy5rZXkmJnZvaWQgMCE9PXRoaXMua2V5JiYoZS5FdyhcImtleVwiLGkuYkkuTUksMyksdGhpcy5rZXkud3JpdGUoZSksZS5JdygpKSxlLlN3KCksZS5SdygpfSxoaXZlLkROLnByb3RvY29sLkZOLmdEPWZ1bmN0aW9uKGUpe3RoaXMudGltZXN0YW1wPW51bGwsdGhpcy5UST1udWxsLGUmJih2b2lkIDAhPT1lLnRpbWVzdGFtcCYmKHRoaXMudGltZXN0YW1wPWUudGltZXN0YW1wKSx2b2lkIDAhPT1lLlRJJiYodGhpcy5UST1lLlRJKSl9LGhpdmUuRE4ucHJvdG9jb2wuRk4uZ0QucHJvdG90eXBlPXt9LGhpdmUuRE4ucHJvdG9jb2wuRk4uZ0QucHJvdG90eXBlLnJlYWQ9ZnVuY3Rpb24oZSl7Zm9yKGUuUVMoKTs7KXt2YXIgdD1lLnV3KCkscj0odC5xUyx0Lmx3KSxuPXQucHc7aWYocj09aS5iSS5BSSlicmVhaztzd2l0Y2gobil7Y2FzZSAxOnI9PWkuYkkuREk/dGhpcy50aW1lc3RhbXA9ZS5uUigpLnZhbHVlOmUuZHcocik7YnJlYWs7Y2FzZSAyOnI9PWkuYkkuTUk/KHRoaXMuVEk9bmV3IGhpdmUuRE4ucHJvdG9jb2wuRk4uaEQsdGhpcy5USS5yZWFkKGUpKTplLmR3KHIpO2JyZWFrO2RlZmF1bHQ6ZS5kdyhyKX1lLnZ3KCl9ZS55dygpfSxoaXZlLkROLnByb3RvY29sLkZOLmdELnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbihlKXtlLm13KFwiVHJhY2tlclJlcXVlc3RRdWV1ZU1lc3NhZ2VcIiksbnVsbCE9PXRoaXMudGltZXN0YW1wJiZ2b2lkIDAhPT10aGlzLnRpbWVzdGFtcCYmKGUuRXcoXCJ0aW1lc3RhbXBcIixpLmJJLkRJLDEpLGUuRlModGhpcy50aW1lc3RhbXApLGUuSXcoKSksbnVsbCE9PXRoaXMuVEkmJnZvaWQgMCE9PXRoaXMuVEkmJihlLkV3KFwicmVxdWVzdFwiLGkuYkkuTUksMiksdGhpcy5USS53cml0ZShlKSxlLkl3KCkpLGUuU3coKSxlLlJ3KCl9fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9cig0KSxuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQscil7dGhpcy5zdGFydD1lLHRoaXMuZW5kPXQsdGhpcy50b3RhbD1yfXJldHVybiBlLnByb3RvdHlwZS5zaXplPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5lbmQtdGhpcy5zdGFydCsxO3JldHVybiBOdW1iZXIuaXNJbnRlZ2VyKGUpfHwoaS5FcnJvck1vbml0b3IuZ2koKS5kaShcIlNlZ21lbnQgU2l6ZSBpcyBhIEZsb2F0XCIse3NpemU6ZX0pLGU9TWF0aC5yb3VuZChlKSksMD09dGhpcy5lbmQmJjA9PXRoaXMuc3RhcnQ/MDplfSxlLnByb3RvdHlwZS52RD1mdW5jdGlvbigpe3JldHVybiAwPT10aGlzLnN0YXJ0JiYodGhpcy5lbmQ9PXRoaXMudG90YWwtMXx8dGhpcy5lbmQ9PXRoaXMudG90YWwmJjA9PXRoaXMudG90YWwpfSxlLnByb3RvdHlwZS55RD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVuZD09dGhpcy50b3RhbC0xfHx0aGlzLmVuZD09dGhpcy50b3RhbCYmMD09dGhpcy50b3RhbH0sZS5wcm90b3R5cGUubUQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3RhcnQ8PXRoaXMuc3RhcnQmJnRoaXMuc3RhcnQ8PWUuZW5kfSxlLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiUltTPVwiK3RoaXMuc3RhcnQrXCIsRT1cIit0aGlzLmVuZCtcIixUPVwiK3RoaXMudG90YWwrXCJdXCJ9LGV9KCk7dC5FRD1uO3ZhciBzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZS5URD1mdW5jdGlvbihlKXtyZXR1cm4gZS5zcGxpdChcIi1cIil9LGUuSUQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zcGxpdChcIj1cIiw0KSxyPXRbMV0uc3Vic3RyKDAsdFsxXS5pbmRleE9mKFwiLFwiKSksaT10WzJdLnN1YnN0cigwLHRbMl0uaW5kZXhPZihcIixcIikpLHM9dFszXS5zdWJzdHIoMCx0WzNdLmluZGV4T2YoXCJdXCIpKTtyZXR1cm4gbmV3IG4oK3IsK2ksK3MpfSxlfSgpO3Qud0Q9c30sZnVuY3Rpb24oZSx0KXtlLnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuU0R8fChlLlJEPWZ1bmN0aW9uKCl7fSxlLmJEPVtdLGUuY2hpbGRyZW58fChlLmNoaWxkcmVuPVtdKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcImxvYWRlZFwiLHtsOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBlLnN9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJpZFwiLHtsOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBlLml9fSksZS5TRD0xKSxlfX0sZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiByKGUsdCl7Zm9yKHZhciByPTAsaT1lLmxlbmd0aC0xO2k+PTA7aS0tKXt2YXIgbj1lW2ldO1wiLlwiPT09bj9lLnNwbGljZShpLDEpOlwiLi5cIj09PW4/KGUuc3BsaWNlKGksMSkscisrKTpyJiYoZS5zcGxpY2UoaSwxKSxyLS0pfWlmKHQpZm9yKDtyLS07cillLnVuc2hpZnQoXCIuLlwiKTtyZXR1cm4gZX1mdW5jdGlvbiBpKGUsdCl7aWYoZS5maWx0ZXIpcmV0dXJuIGUuZmlsdGVyKHQpO2Zvcih2YXIgcj1bXSxpPTA7aTxlLmxlbmd0aDtpKyspdChlW2ldLGksZSkmJnIucHVzaChlW2ldKTtyZXR1cm4gcn12YXIgbj0vXihcXC8/fCkoW1xcc1xcU10qPykoKD86XFwuezEsMn18W15cXC9dKz98KShcXC5bXi5cXC9dKnwpKSg/OltcXC9dKikkLyxzPWZ1bmN0aW9uKGUpe3JldHVybiBuLmV4ZWMoZSkuc2xpY2UoMSl9O3QucmVzb2x2ZT1mdW5jdGlvbigpe2Zvcih2YXIgZT1cIlwiLHQ9ITEsbj1hcmd1bWVudHMubGVuZ3RoLTE7bj49LTEmJiF0O24tLSl7dmFyIHM9bj49MD9hcmd1bWVudHNbbl06cHJvY2Vzcy5QRCgpO2lmKFwic3RyaW5nXCIhPXR5cGVvZiBzKXRocm93IG5ldyBUeXBlRXJyb3IoXCJBcmd1bWVudHMgdG8gcGF0aC5yZXNvbHZlIG11c3QgYmUgc3RyaW5nc1wiKTtzJiYoZT1zK1wiL1wiK2UsdD1cIi9cIj09PXMuY2hhckF0KDApKX1yZXR1cm4gZT1yKGkoZS5zcGxpdChcIi9cIiksZnVuY3Rpb24oZSl7cmV0dXJuISFlfSksIXQpLmpvaW4oXCIvXCIpLCh0P1wiL1wiOlwiXCIpK2V8fFwiLlwifSx0Lm5vcm1hbGl6ZT1mdW5jdGlvbihlKXt2YXIgbj10LkFEKGUpLHM9XCIvXCI9PT1vKGUsLTEpO3JldHVybiBlPXIoaShlLnNwbGl0KFwiL1wiKSxmdW5jdGlvbihlKXtyZXR1cm4hIWV9KSwhbikuam9pbihcIi9cIiksZXx8bnx8KGU9XCIuXCIpLGUmJnMmJihlKz1cIi9cIiksKG4/XCIvXCI6XCJcIikrZX0sdC5BRD1mdW5jdGlvbihlKXtyZXR1cm5cIi9cIj09PWUuY2hhckF0KDApfSx0LmpvaW49ZnVuY3Rpb24oKXt2YXIgZT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMCk7cmV0dXJuIHQubm9ybWFsaXplKGkoZSxmdW5jdGlvbihlLHQpe2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoXCJBcmd1bWVudHMgdG8gcGF0aC5qb2luIG11c3QgYmUgc3RyaW5nc1wiKTtyZXR1cm4gZX0pLmpvaW4oXCIvXCIpKX0sdC5DRD1mdW5jdGlvbihlLHIpe2Z1bmN0aW9uIGkoZSl7Zm9yKHZhciB0PTA7dDxlLmxlbmd0aCYmXCJcIj09PWVbdF07dCsrKTtmb3IodmFyIHI9ZS5sZW5ndGgtMTtyPj0wJiZcIlwiPT09ZVtyXTtyLS0pO3JldHVybiB0PnI/W106ZS5zbGljZSh0LHItdCsxKX1lPXQucmVzb2x2ZShlKS5zdWJzdHIoMSkscj10LnJlc29sdmUocikuc3Vic3RyKDEpO2Zvcih2YXIgbj1pKGUuc3BsaXQoXCIvXCIpKSxzPWkoci5zcGxpdChcIi9cIikpLG89TWF0aC5taW4obi5sZW5ndGgscy5sZW5ndGgpLGE9byxoPTA7aDxvO2grKylpZihuW2hdIT09c1toXSl7YT1oO2JyZWFrfWZvcih2YXIgYz1bXSxoPWE7aDxuLmxlbmd0aDtoKyspYy5wdXNoKFwiLi5cIik7cmV0dXJuIGM9Yy5jb25jYXQocy5zbGljZShhKSksYy5qb2luKFwiL1wiKX0sdC5rRD1cIi9cIix0Lk9EPVwiOlwiLHQuX0Q9ZnVuY3Rpb24oZSl7dmFyIHQ9cyhlKSxyPXRbMF0saT10WzFdO3JldHVybiByfHxpPyhpJiYoaT1pLnN1YnN0cigwLGkubGVuZ3RoLTEpKSxyK2kpOlwiLlwifSx0Lk5EPWZ1bmN0aW9uKGUsdCl7dmFyIHI9cyhlKVsyXTtyZXR1cm4gdCYmci5zdWJzdHIoLTEqdC5sZW5ndGgpPT09dCYmKHI9ci5zdWJzdHIoMCxyLmxlbmd0aC10Lmxlbmd0aCkpLHJ9LHQuREQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHMoZSlbM119O3ZhciBvPVwiYlwiPT09XCJhYlwiLnN1YnN0cigtMSk/ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlLnN1YnN0cih0LHIpfTpmdW5jdGlvbihlLHQscil7cmV0dXJuIHQ8MCYmKHQ9ZS5sZW5ndGgrdCksZS5zdWJzdHIodCxyKX19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBpKGUsdCl7QXJyYXkucHJvdG90eXBlW2VdfHxPYmplY3QuZGVmaW5lUHJvcGVydHkoQXJyYXkucHJvdG90eXBlLGUse3ZhbHVlOnQsVWk6ITAsdTohMCxsOiExfSl9ZnVuY3Rpb24gbihlLHQscil7dGhpcy5mZz1lLHRoaXMuc3RhcnQ9bnVsbD09dD8wOnQsdGhpcy5lbmQ9cn12YXIgcz0ocig2MSkscigxMykpLG89cig2MiksYT1yKDM0KTtlLnQ9QXJyYXk7dmFyIGg9QXJyYXkucHJvdG90eXBlLnNwbGljZSxjPUFycmF5LnByb3RvdHlwZS5zbGljZTtBcnJheS5lbXB0eT1bXSxPYmplY3QuZnJlZXplJiZPYmplY3QuZnJlZXplKEFycmF5LmVtcHR5KSxBcnJheS5mcm9tPWZ1bmN0aW9uKGUpe3ZhciB0PVtdO3JldHVybiB0LmFkZEVhY2goZSksdH0sQXJyYXkuU289ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLHI9MS8wLGk9MDtpPGUubGVuZ3RoO2krKyl7dmFyIG49ZVtpXTtlW2ldPW4udG9BcnJheSgpLG4ubGVuZ3RoPHImJihyPW4ubGVuZ3RoKX1mb3IodmFyIGk9MDtpPGUubGVuZ3RoO2krKylmb3IodmFyIG49ZVtpXSxzPTA7czxuLmxlbmd0aDtzKyspczxyJiZzIGluIG4mJih0W3NdPXRbc118fFtdLHRbc11baV09bltzXSk7cmV0dXJuIHR9LGkoXCJhZGRFYWNoXCIscy5wcm90b3R5cGUuYWRkRWFjaCksaShcImRlbGV0ZUVhY2hcIixzLnByb3RvdHlwZS5kbyksaShcInRvQXJyYXlcIixzLnByb3RvdHlwZS50b0FycmF5KSxpKFwidG9PYmplY3RcIixzLnByb3RvdHlwZS52byksaShcImFsbFwiLHMucHJvdG90eXBlLmFsbCksaShcImFueVwiLHMucHJvdG90eXBlLmh0KSxpKFwibWluXCIscy5wcm90b3R5cGUubWluKSxpKFwibWF4XCIscy5wcm90b3R5cGUubWF4KSxpKFwic3VtXCIscy5wcm90b3R5cGUuRW8pLGkoXCJhdmVyYWdlXCIscy5wcm90b3R5cGUuVG8pLGkoXCJvbmx5XCIscy5wcm90b3R5cGUub25seSksaShcImZsYXR0ZW5cIixzLnByb3RvdHlwZS5JbyksaShcInppcFwiLHMucHJvdG90eXBlLndvKSxpKFwiZW51bWVyYXRlXCIscy5wcm90b3R5cGUuZW51bWVyYXRlKSxpKFwiZ3JvdXBcIixzLnByb3RvdHlwZS5ncm91cCksaShcInNvcnRlZFwiLHMucHJvdG90eXBlLlJvKSxpKFwicmV2ZXJzZWRcIixzLnByb3RvdHlwZS5yZXZlcnNlZCksaShcImNvbnN0cnVjdENsb25lXCIsZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IHRoaXMuY29uc3RydWN0b3I7cmV0dXJuIHQuYWRkRWFjaChlKSx0fSksaShcImhhc1wiLGZ1bmN0aW9uKGUsdCl7cmV0dXJuLTEhPT10aGlzLmZpbmQoZSx0KX0pLGkoXCJzZXRcIixmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzW2VdPXQsITB9KSxpKFwiYWRkXCIsZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucHVzaChlKSwhMH0pLGkoXCJkZWxldGVcIixmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuZmluZChlLHQpO3JldHVybi0xIT09ciYmKHRoaXMuc3BsaWNlKHIsMSksITApfSksaShcImRlbGV0ZUFsbFwiLGZ1bmN0aW9uKGUsdCl7dD10fHx0aGlzLmNlfHxPYmplY3QuYWU7Zm9yKHZhciByPTAsaT0wO2k8dGhpcy5sZW5ndGg7KXQoZSx0aGlzW2ldKT8odGhpcy5ZayhpLDEpLHIrKyk6aSsrO3JldHVybiByfSksaShcImZpbmRcIixmdW5jdGlvbihlLHQpe3Q9dHx8dGhpcy5jZXx8T2JqZWN0LmFlO2Zvcih2YXIgcj0wO3I8dGhpcy5sZW5ndGg7cisrKWlmKHIgaW4gdGhpcyYmdChlLHRoaXNbcl0pKXJldHVybiByO3JldHVybi0xfSksaShcImZpbmRMYXN0XCIsZnVuY3Rpb24oZSx0KXt0PXR8fHRoaXMuY2V8fE9iamVjdC5hZTt2YXIgcj10aGlzLmxlbmd0aDtkb3tpZigtLXIgaW4gdGhpcyYmdCh0aGlzW3JdLGUpKXJldHVybiByfXdoaWxlKHI+MCk7cmV0dXJuLTF9KSxpKFwic3dhcFwiLGZ1bmN0aW9uKGUsdCxyKXt2YXIgaSxuLHMsbyxhO2lmKGU+dGhpcy5sZW5ndGgmJih0aGlzLmxlbmd0aD1lKSx2b2lkIDAhPT1yKXtpZihpPVtlLHRdLEFycmF5LmlzQXJyYXkocil8fChyPWMuY2FsbChyKSkscz0wLChuPXIubGVuZ3RoKTwxZTMpe2ZvcihzO3M8bjtzKyspaVtzKzJdPXJbc107cmV0dXJuIGguYXBwbHkodGhpcyxpKX1mb3IoYT1oLmFwcGx5KHRoaXMsaSkscztzPG47KXtmb3IoaT1bZStzLDBdLG89MjtvPDEwMDImJnM8bjtvKysscysrKWlbb109cltzXTtoLmFwcGx5KHRoaXMsaSl9cmV0dXJuIGF9cmV0dXJuIHZvaWQgMCE9PXQ/aC5jYWxsKHRoaXMsZSx0KTp2b2lkIDAhPT1lP2guY2FsbCh0aGlzLGUpOltdfSksaShcInBlZWtcIixmdW5jdGlvbigpe3JldHVybiB0aGlzWzBdfSksaShcInBva2VcIixmdW5jdGlvbihlKXt0aGlzLmxlbmd0aD4wJiYodGhpc1swXT1lKX0pLGkoXCJwZWVrQmFja1wiLGZ1bmN0aW9uKCl7aWYodGhpcy5sZW5ndGg+MClyZXR1cm4gdGhpc1t0aGlzLmxlbmd0aC0xXX0pLGkoXCJwb2tlQmFja1wiLGZ1bmN0aW9uKGUpe3RoaXMubGVuZ3RoPjAmJih0aGlzW3RoaXMubGVuZ3RoLTFdPWUpfSksaShcIm9uZVwiLGZ1bmN0aW9uKCl7Zm9yKHZhciBlIGluIHRoaXMpaWYoT2JqZWN0LlNQKHRoaXMsZSkpcmV0dXJuIHRoaXNbZV19KSxBcnJheS5wcm90b3R5cGUuY2xlYXJ8fGkoXCJjbGVhclwiLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGVuZ3RoPTAsdGhpc30pLGkoXCJjb21wYXJlXCIsZnVuY3Rpb24oZSx0KXt0PXR8fE9iamVjdC5tbzt2YXIgcixpLG4scyxhO2lmKHRoaXM9PT1lKXJldHVybiAwO2lmKCFlfHwhQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gby5wcm90b3R5cGUubW8uY2FsbCh0aGlzLGUsdCk7Zm9yKGk9TWF0aC5taW4odGhpcy5sZW5ndGgsZS5sZW5ndGgpLHI9MDtyPGk7cisrKWlmKHIgaW4gdGhpcyl7aWYoIShyIGluIGUpKXJldHVybi0xO2lmKG49dGhpc1tyXSxzPWVbcl0sYT10KG4scykpcmV0dXJuIGF9ZWxzZSBpZihyIGluIGUpcmV0dXJuIDE7cmV0dXJuIHRoaXMubGVuZ3RoLWUubGVuZ3RofSksaShcImVxdWFsc1wiLGZ1bmN0aW9uKGUsdCl7dD10fHxPYmplY3QuYWU7dmFyIHIsaSxuPTAscz10aGlzLmxlbmd0aDtpZih0aGlzPT09ZSlyZXR1cm4hMDtpZighZXx8IUFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIG8ucHJvdG90eXBlLmFlLmNhbGwodGhpcyxlKTtpZihzIT09ZS5sZW5ndGgpcmV0dXJuITE7Zm9yKDtuPHM7KytuKWlmKG4gaW4gdGhpcyl7aWYoIShuIGluIGUpKXJldHVybiExO2lmKHI9dGhpc1tuXSxpPWVbbl0sIXQocixpKSlyZXR1cm4hMX1lbHNlIGlmKG4gaW4gZSlyZXR1cm4hMTtyZXR1cm4hMH0pLGkoXCJjbG9uZVwiLGZ1bmN0aW9uKGUsdCl7aWYobnVsbD09ZSllPTEvMDtlbHNlIGlmKDA9PT1lKXJldHVybiB0aGlzO2lmKHQ9dHx8bmV3IGEsdC5oYXModGhpcykpcmV0dXJuIHQuZ2V0KHRoaXMpO3ZhciByPW5ldyBBcnJheSh0aGlzLmxlbmd0aCk7dC5zZXQodGhpcyxyKTtmb3IodmFyIGkgaW4gdGhpcylyW2ldPU9iamVjdC5jbG9uZSh0aGlzW2ldLGUtMSx0KTtyZXR1cm4gcn0pLGkoXCJpdGVyYXRlXCIsZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3IG4odGhpcyxlLHQpfSksaShcIkl0ZXJhdG9yXCIsbiksbi5wcm90b3R5cGUuems9bnVsbCxPYmplY3QuZGVmaW5lUHJvcGVydHkobi5wcm90b3R5cGUsXCJfaXRlcmF0aW9uT2JqZWN0XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnprfHwodGhpcy56az17ZG9uZTohMSx2YWx1ZTpudWxsfSl9fSksbi5wcm90b3R5cGUubmV4dD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YXJ0PT09KG51bGw9PXRoaXMuZW5kP3RoaXMuZmcubGVuZ3RoOnRoaXMuZW5kKT8odGhpcy5Kay5kb25lPSEwLHRoaXMuSmsudmFsdWU9dm9pZCAwKTp0aGlzLkprLnZhbHVlPXRoaXMuZmdbdGhpcy5zdGFydCsrXSx0aGlzLkprfX0sZnVuY3Rpb24oZSx0KXtlLnQ9RnVuY3Rpb24sRnVuY3Rpb24uaGU9ZnVuY3Rpb24oKXt9LEZ1bmN0aW9uLmlkZW50aXR5PWZ1bmN0aW9uKGUpe3JldHVybiBlfSxGdW5jdGlvbi5ibz1mdW5jdGlvbihlLHQpe3Q9dHx8T2JqZWN0Lm1vLGU9ZXx8RnVuY3Rpb24uaWRlbnRpdHk7dmFyIHI9ZnVuY3Rpb24ocixpKXtyZXR1cm4gdChlKHIpLGUoaSkpfTtyZXR1cm4gci5tbz10LHIuYm89ZSxyfSxGdW5jdGlvbi5nZXQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0KHQsZSl9fX0sZnVuY3Rpb24oZSx0LHIpe2Z1bmN0aW9uIGkoKXt0aHJvdyBuZXcgRXJyb3IoXCJDYW4ndCBjb25zdHJ1Y3QuIEdlbmVyaWNPcmRlciBpcyBhIG1peGluLlwiKX12YXIgbj1yKDMzKTtlLnQ9aSxpLnByb3RvdHlwZS5hZT1mdW5jdGlvbihlLHQpe2lmKHQ9dHx8dGhpcy5jZXx8bi5hZSx0aGlzPT09ZSlyZXR1cm4hMDtpZighZSlyZXR1cm4hMTtyZXR1cm4gdGhpcy5sZW5ndGg9PT1lLmxlbmd0aCYmdGhpcy53byhlKS5ldmVyeShmdW5jdGlvbihlKXtyZXR1cm4gdChlWzBdLGVbMV0pfSl9LGkucHJvdG90eXBlLm1vPWZ1bmN0aW9uKGUsdCl7aWYodD10fHx0aGlzLnlvfHxuLm1vLHRoaXM9PT1lKXJldHVybiAwO2lmKCFlKXJldHVybiAxO3ZhciByPU1hdGgubWluKHRoaXMubGVuZ3RoLGUubGVuZ3RoKSxpPXRoaXMud28oZSkucmVkdWNlKGZ1bmN0aW9uKGUsaSxuKXtyZXR1cm4gMD09PWU/bj49cj9lOnQoaVswXSxpWzFdKTplfSwwKTtyZXR1cm4gMD09PWk/dGhpcy5sZW5ndGgtZS5sZW5ndGg6aX0saS5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudG9BcnJheSgpfX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGkoZSx0LHIsbil7aWYoISh0aGlzIGluc3RhbmNlb2YgaSkpcmV0dXJuIG5ldyBpKGUsdCxyLG4pO3Q9dHx8T2JqZWN0LmFlLHI9cnx8T2JqZWN0Lmhhc2gsbj1ufHxGdW5jdGlvbi5oZSx0aGlzLmNlPXQsdGhpcy51ZT1yLHRoaXMubGU9bix0aGlzLm9yZGVyPW5ldyB0aGlzLkZEKHZvaWQgMCx0KSx0aGlzLnBlPW5ldyB0aGlzLkxEKHZvaWQgMCxmdW5jdGlvbihlLHIpe3JldHVybiB0KGUudmFsdWUsci52YWx1ZSl9LGZ1bmN0aW9uKGUpe3JldHVybiByKGUudmFsdWUpfSksdGhpcy5sZW5ndGg9MCx0aGlzLmFkZEVhY2goZSl9dmFyIG49KHIoMTIpLHIoNDYpKSxzPXIoMTAwKSxvPXIoMTMpLGE9cigzNiksaD1yKDE0KSxjPXIoMzUpLHU9cigxMDEpO2UudD1pLGkuU2V0PWksT2JqZWN0LmFkZEVhY2goaS5wcm90b3R5cGUsby5wcm90b3R5cGUpLE9iamVjdC5hZGRFYWNoKGkucHJvdG90eXBlLGEucHJvdG90eXBlKSxPYmplY3QuYWRkRWFjaChpLnByb3RvdHlwZSxoLnByb3RvdHlwZSksT2JqZWN0LmFkZEVhY2goaS5wcm90b3R5cGUsYy5wcm90b3R5cGUpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSxcInNpemVcIixvLmZlKSxpLnByb3RvdHlwZS5GRD1uLGkucHJvdG90eXBlLkxEPXMsaS5wcm90b3R5cGUuZGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKGUsdGhpcy5jZSx0aGlzLnVlLHRoaXMubGUpfSxpLnByb3RvdHlwZS5oYXM9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IHRoaXMub3JkZXIuTm9kZShlKTtyZXR1cm4gdGhpcy5wZS5oYXModCl9LGkucHJvdG90eXBlLmdldD1mdW5jdGlvbihlLHQpe2lmKHQpdGhyb3cgbmV3IEVycm9yKFwiU2V0I2dldCBkb2VzIG5vdCBzdXBwb3J0IHNlY29uZCBhcmd1bWVudDogZXF1YWxzXCIpO3ZhciByPW5ldyB0aGlzLm9yZGVyLk5vZGUoZSk7cmV0dXJuIHI9dGhpcy5wZS5nZXQocikscj9yLnZhbHVlOnRoaXMubGUoZSl9LGkucHJvdG90eXBlLmFkZD1mdW5jdGlvbihlKXt2YXIgdD1uZXcgdGhpcy5vcmRlci5Ob2RlKGUpO2lmKCF0aGlzLnBlLmhhcyh0KSl7dmFyIHI9dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucWsmJnRoaXMuVVAoW2VdLFtdLHIpLHRoaXMub3JkZXIuYWRkKGUpLHQ9dGhpcy5vcmRlci5oZWFkLk1rLHRoaXMucGUuYWRkKHQpLHRoaXMubGVuZ3RoKyssdGhpcy5xayYmdGhpcy5MUChbZV0sW10sciksITB9cmV0dXJuITF9LGkucHJvdG90eXBlLmRlbGV0ZT1mdW5jdGlvbihlLHQpe2lmKHQpdGhyb3cgbmV3IEVycm9yKFwiU2V0I2RlbGV0ZSBkb2VzIG5vdCBzdXBwb3J0IHNlY29uZCBhcmd1bWVudDogZXF1YWxzXCIpO3ZhciByPW5ldyB0aGlzLm9yZGVyLk5vZGUoZSk7cmV0dXJuISF0aGlzLnBlLmhhcyhyKSYmKHI9dGhpcy5wZS5nZXQociksdGhpcy5xayYmdGhpcy5VUChbXSxbZV0sci5pbmRleCksdGhpcy5wZS5kZWxldGUociksdGhpcy5vcmRlci5zcGxpY2UociwxKSx0aGlzLmxlbmd0aC0tLHRoaXMucWsmJnRoaXMuTFAoW10sW2VdLHIuaW5kZXgpLCEwKX0saS5wcm90b3R5cGUucG9wPWZ1bmN0aW9uKCl7aWYodGhpcy5sZW5ndGgpe3ZhciBlPXRoaXMub3JkZXIuaGVhZC5Nay52YWx1ZTtyZXR1cm4gdGhpcy5kZWxldGUoZSksZX19LGkucHJvdG90eXBlLnNoaWZ0PWZ1bmN0aW9uKCl7aWYodGhpcy5sZW5ndGgpe3ZhciBlPXRoaXMub3JkZXIuaGVhZC5uZXh0LnZhbHVlO3JldHVybiB0aGlzLmRlbGV0ZShlKSxlfX0saS5wcm90b3R5cGUuUG89ZnVuY3Rpb24oKXtpZih0aGlzLmxlbmd0aD4wKXJldHVybiB0aGlzLnBlLlBvKCkudmFsdWV9LGkucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dmFyIGU7dGhpcy5xayYmKGU9dGhpcy50b0FycmF5KCksdGhpcy5VUChbXSxlLDApKSx0aGlzLnBlLmNsZWFyKCksdGhpcy5vcmRlci5jbGVhcigpLHRoaXMubGVuZ3RoPTAsdGhpcy5xayYmdGhpcy5MUChbXSxlLDApfSxpLnByb3RvdHlwZS5yZWR1Y2U9ZnVuY3Rpb24oZSx0KXt2YXIgcj1hcmd1bWVudHNbMl0saT0wO3JldHVybiB0aGlzLm9yZGVyLnJlZHVjZShmdW5jdGlvbih0LG4pe3JldHVybiBlLmNhbGwocix0LG4saSsrLHRoaXMpfSx0LHRoaXMpfSxpLnByb3RvdHlwZS5yZWR1Y2VSaWdodD1mdW5jdGlvbihlLHQpe3ZhciByPWFyZ3VtZW50c1syXSxpPXRoaXMub3JkZXIsbj10aGlzLmxlbmd0aC0xO3JldHVybiBpLnJlZHVjZVJpZ2h0KGZ1bmN0aW9uKHQsaSl7cmV0dXJuIGUuY2FsbChyLHQsaSxuLS0sdGhpcyl9LHQsdGhpcyl9LGkucHJvdG90eXBlLkFvPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3JkZXIuQW8oKX0saS5wcm90b3R5cGUudmFsdWVzPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB1KHRoaXMpfSxpLnByb3RvdHlwZS5sb2c9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnBlO3JldHVybiBlLmxvZy5hcHBseShlLGFyZ3VtZW50cyl9LGkucHJvdG90eXBlLnhvPWZ1bmN0aW9uKCl7dGhpcy5vcmRlci54bygpfX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGkoKXt9ZS50PWksaS5NRD17cVA6XCIrXCIsQkQ6XCItXCIsVUQ6XCIrXCIseEQ6XCIrXCIsSEQ6XCIuXCIscUQ6XCInXCIsVkQ6XCIrXCIsakQ6XCJ8XCJ9LGkuR0Q9e3FQOlwi4pWLXCIsQkQ6XCLilIFcIixVRDpcIuKUu1wiLHhEOlwi4pSzXCIsSEQ6XCLila1cIixxRDpcIuKVsFwiLFZEOlwi4pSjXCIsakQ6XCLilINcIn0saS5RRD17cVA6XCLilYtcIixCRDpcIuKUgVwiLFVEOlwi4pS7XCIseEQ6XCLilLNcIixIRDpcIuKUj1wiLHFEOlwi4pSXXCIsVkQ6XCLilKNcIixqRDpcIuKUg1wifX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZX0oKTtpLm9BPVwiMTI3LjAuMC4xXCIsaS51Tz0xMTk4MyxpLmFBPVwiLy97MH06ezF9L3Byb3h5Lz9jYWxsYmFjaz17Mn17M31oaXZlUGx1Z2luSWQ9ezR9XCIsaS5LRD1cIi8vezB9OnsxfS9wcm94eS97Mn0vc2Vzc2lvbj9tYW5pZmVzdD17M31cIixpLmhPPVwiLy97MH06ezF9L3Byb3h5L3syfS9wbGF5ZXI/cmVxPXszfVwiLGkuWUQ9XCIvL3swfTp7MX0vcHJveHkvezJ9L2luZm8/ezN9XCIsdC5jTz1pfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9cig2KSxuPXIoNCkscz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dGhpcy5tbj1cIltIaXZlWEhSXSBcIix0aGlzLkRPTkU9NCx0aGlzLkxPQURJTkc9Myx0aGlzLkhFQURFUlNfUkVDRUlWRUQ9Mix0aGlzLk9QRU5FRD0xLHRoaXMuVU5TRU5UPTAsdGhpcy51c2VybmFtZT1udWxsLHRoaXMucGFzc3dvcmQ9bnVsbCx0aGlzLnpEPVtdLHRoaXMucmVzcG9uc2VUeXBlPVwiXCIsdGhpcy5yZWFkeVN0YXRlPXRoaXMuVU5TRU5ULHRoaXMuc3RhdHVzPTAsdGhpcy5hc3luYz0hMCx0aGlzLnRpbWVvdXQ9MCx0aGlzLmV2ZW50cz17fSxlJiYodGhpcy5zZXNzaW9uSWQ9ZSl9cmV0dXJuIGUucHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oZSx0LHIpe3RoaXMuZXZlbnRzW2VdPXRoaXMuZXZlbnRzW2VdfHxbXSx0aGlzLmV2ZW50c1tlXS5wdXNoKHQpfSxlLnByb3RvdHlwZS5yZW1vdmVFdmVudExpc3RlbmVyPWZ1bmN0aW9uKGUsdCxyKXt0aGlzLmV2ZW50c1tlXSYmKHRoaXMuZXZlbnRzW2VdPXRoaXMuZXZlbnRzW2VdLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZSE9PXR9KSl9LGUucHJvdG90eXBlLmRpc3BhdGNoRXZlbnQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0aGlzLmV2ZW50c1tlLnR5cGVdJiZ0aGlzLmV2ZW50c1tlLnR5cGVdLmZvckVhY2goZnVuY3Rpb24ocil7dHJ5e1wiZnVuY3Rpb25cIj09dHlwZW9mIHI/ci5jYWxsKHQsZSk6XCJmdW5jdGlvblwiPT10eXBlb2Ygci5FXyYmci5FXyhlKX1jYXRjaChyKXtuLkVycm9yTW9uaXRvci5naSgpLmRpKHQubW4rXCJFcnJvciBpbiBjYWxsYmFjayBoYW5kbGVyICdcIitlLnR5cGUrXCInXCIse2Vycm9yOnJ9KX19KTt2YXIgcj10aGlzW1wib25cIitlLnR5cGVdO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHIpdHJ5e3IuY2FsbCh0aGlzLGUpfWNhdGNoKHQpe24uRXJyb3JNb25pdG9yLmdpKCkuZGkodGhpcy5tbitcIkVycm9yIGluIGNhbGxiYWNrIGhhbmRsZXIgJ1wiK2UudHlwZStcIidcIix7ZXJyb3I6dH0pfXJldHVybiExfSxlLnByb3RvdHlwZS5tc0NhY2hpbmdFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMCE9PXRoaXMubXNDYWNoaW5nfSxlLnByb3RvdHlwZS5vdmVycmlkZU1pbWVUeXBlPWZ1bmN0aW9uKGUpe3RoaXMubWltZVR5cGU9ZX0sZS5yZWdpc3Rlcj1mdW5jdGlvbih0LHIpe2UuRUlbdF09cn0sZS5wcm90b3R5cGUuSkQ9ZnVuY3Rpb24odCl7dGhpcy5zZXNzaW9uSWR8fCh0aGlzLnNlc3Npb25JZD1lLkVJW3RdKX0sZS5wcm90b3R5cGUub3Blbj1mdW5jdGlvbihlLHQscixuLHMpe3ZvaWQgMD09PXImJihyPSEwKSx2b2lkIDA9PT1uJiYobj1udWxsKSx2b2lkIDA9PT1zJiYocz1udWxsKSx0aGlzLnVybD10LnRyaW0oKSx0aGlzLm1ldGhvZD1lLHRoaXMudXNlcm5hbWU9bix0aGlzLnBhc3N3b3JkPXMsdGhpcy5hc3luYz1yLHRoaXMucmVhZHlTdGF0ZT10aGlzLk9QRU5FRDt2YXIgbz1pLmZuLmNyZWF0ZUV2ZW50KEV2ZW50LFwicmVhZHlzdGF0ZWNoYW5nZVwiLHtjdXJyZW50VGFyZ2V0OnRoaXN9KTt0aGlzLmRpc3BhdGNoRXZlbnQobyl9LGUucHJvdG90eXBlLnNldFJlcXVlc3RIZWFkZXI9ZnVuY3Rpb24oZSx0KXtpZih0aGlzLnJlYWR5U3RhdGUhPT10aGlzLk9QRU5FRCl0aHJvdyBuZXcgRXJyb3IoXCJUaGUgb2JqZWN0J3Mgc3RhdGUgbXVzdCBiZSBPUEVORUQuXCIpO3RoaXMuekQucHVzaCh7a2V5OmUsdmFsdWU6dH0pfSxlLnByb3RvdHlwZS5nZXRSZXNwb25zZUhlYWRlcj1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmdldEFsbFJlc3BvbnNlSGVhZGVycygpO2lmKHQpe3ZhciByPVtdO3JldHVybiB0LnNwbGl0KC9bXFxyXFxuXSsvKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PWUubWF0Y2goL14oW146XSspOiA/KC4rKSQvKTt0JiYoclt0WzFdXT10WzJdKX0pLHJbZS50b0xvd2VyQ2FzZSgpXX1yZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueHV9LGUucHJvdG90eXBlLm9ubG9hZD1mdW5jdGlvbihlKXt9LGUucHJvdG90eXBlLm9ubG9hZGVuZD1mdW5jdGlvbihlKXt9LGUucHJvdG90eXBlLm9uZXJyb3I9ZnVuY3Rpb24oZSl7fSxlLnByb3RvdHlwZS5vbnByb2dyZXNzPWZ1bmN0aW9uKGUpe30sZS5wcm90b3R5cGUub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKGUpe30sZS5wcm90b3R5cGUub25hYm9ydD1mdW5jdGlvbihlKXt9LGUucHJvdG90eXBlLm9ubG9hZHN0YXJ0PWZ1bmN0aW9uKGUpe30sZS5wcm90b3R5cGUub250aW1lb3V0PWZ1bmN0aW9uKGUpe30sZX0oKTtzLkVJPXt9LHMuVWw9MCx0LlNJPXN9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT10aGlzJiZ0aGlzLk5zfHxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIHIoKXt0aGlzLmNvbnN0cnVjdG9yPWV9Zm9yKHZhciBpIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShpKSYmKGVbaV09dFtpXSk7ZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KTooci5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IHIpfSxuPXIoNTApLHM9cig2KSxvPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBpKHQsZSksdC5ibj1mdW5jdGlvbihlLHIpe3QuV0Rbcl09ZX0sdC5YRD1mdW5jdGlvbihlLHIpe3QuWkRbcl09ZX0sdC5wcm90b3R5cGUuc2VuZD1mdW5jdGlvbigpe2lmKCF0aGlzLnNlc3Npb25JZCl7dmFyIGU9T2JqZWN0LmtleXModC5aRCk7ZS5sZW5ndGg+MCYmKHRoaXMuc2Vzc2lvbklkPXQuWkRbZVswXV0pfXZhciByPXQuV0RbdGhpcy5zZXNzaW9uSWRdLGk9dC5aRFt0aGlzLnNlc3Npb25JZF07aS50ZSgpLmRlYnVnKFwiSW50ZXJjZXB0ZWQgTWFuaWZlc3QgUmVxdWVzdCBcIit0aGlzLnVybCksci4kRCh0aGlzKSxpLmVGKHRoaXMudXJsKX0sdC5wcm90b3R5cGUudEY9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9bmV3IFhNTEh0dHBSZXF1ZXN0O3Qub3BlbihcIkdFVFwiLHRoaXMudXJsKSx0Lm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbihyKXs0PT09dC5yZWFkeVN0YXRlJiYoZS5yZXNwb25zZT10LnJlc3BvbnNlVGV4dCxlLnJlc3BvbnNlVGV4dD10LnJlc3BvbnNlVGV4dCxlLnJlYWR5U3RhdGU9NCxlLnN0YXR1cz10LnN0YXR1cyxlLm9ucmVhZHlzdGF0ZWNoYW5nZShzLmZuLmNyZWF0ZUV2ZW50KEV2ZW50LFwicmVhZHlzdGF0ZWNoYW5nZVwiLHIsZSkpLGUub25sb2FkKHMuZm4uY3JlYXRlRXZlbnQoUHJvZ3Jlc3NFdmVudCxcImxvYWRcIixyLGUpKSxjb25zb2xlLmRlYnVnKFwiUmV0dXJuZWQgTWFuaWZlc3QgUmVxdWVzdCBcIitlLnVybCkpfSx0LnNlbmQoKX0sdC5wcm90b3R5cGUuckY9ZnVuY3Rpb24oKXtlLnByb3RvdHlwZS5zZW5kLmNhbGwodGhpcyl9LHR9KG4uSW4pO28uWkQ9e30sby5XRD17fSx0LnduPW99LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT10aGlzJiZ0aGlzLk5zfHxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIHIoKXt0aGlzLmNvbnN0cnVjdG9yPWV9Zm9yKHZhciBpIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShpKSYmKGVbaV09dFtpXSk7ZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KTooci5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IHIpfSxuPXIoMTUpLHM9cigwKSxvPXIoMjkpLGE9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIGkodCxlKSx0LklJPWZ1bmN0aW9uKCl7cmV0dXJuIHQuYXBwPVwiSlNcIixzLkZyYW1ld29yay5yZXNvbHZlKG4uUGEucGEpfSx0fShvLkhpdmUpO3Qud0k9YX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXRoaXMmJnRoaXMuTnN8fGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gcigpe3RoaXMuY29uc3RydWN0b3I9ZX1mb3IodmFyIGkgaW4gdCl0Lmhhc093blByb3BlcnR5KGkpJiYoZVtpXT10W2ldKTtlLnByb3RvdHlwZT1udWxsPT09dD9PYmplY3QuY3JlYXRlKHQpOihyLnByb3RvdHlwZT10LnByb3RvdHlwZSxuZXcgcil9LG49cigyOCkscz1yKDcwKSxvPXIoNCksYT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7dmFyIHQ9bnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiB0Lm1uPVwiW0hpdmVSZXF1ZXN0TWFuaWZlc3RdXCIsdH1yZXR1cm4gaSh0LGUpLHQuYm49ZnVuY3Rpb24oZSxyKXt0LldEW3JdPWV9LHQuWEQ9ZnVuY3Rpb24oZSxyKXt0LlpEW3JdPWV9LHQucHJvdG90eXBlLnNlbmQ9ZnVuY3Rpb24oKXtpZighdGhpcy5zZXNzaW9uSWQpe3ZhciBlPU9iamVjdC5rZXlzKHQuWkQpO2UubGVuZ3RoPjAmJih0aGlzLnNlc3Npb25JZD10LlpEW2VbMF1dKX12YXIgcj10LldEW3RoaXMuc2Vzc2lvbklkXSxpPXQuWkRbdGhpcy5zZXNzaW9uSWRdO3MuaUYocil8fHMuaUYoaSk/KG8uRXJyb3JNb25pdG9yLmdpKCkuZGkoXCJIaXZlSlMgVGVjaCBvciBDb21tIGFyZSBub3QgZGVmaW5lZFwiLHRoaXMubW4pLHRoaXMucmVzb2x2ZSgpKTooaS50ZSgpLmRlYnVnKFwiSW50ZXJjZXB0ZWQgTWFuaWZlc3QgUmVxdWVzdCBcIit0aGlzLnVybCksci4kRCh0aGlzKSxpLmVGKHRoaXMudXJsKSl9LHQucHJvdG90eXBlLnJlc29sdmU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9bmV3IFhNTEh0dHBSZXF1ZXN0O3Qub3BlbihcIkdFVFwiLHRoaXMudXJsKSx0Lm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpezQ9PT10LnJlYWR5U3RhdGUmJihlLnJlc3BvbnNlPXQucmVzcG9uc2VUZXh0LGUucmVzcG9uc2VUZXh0PXQucmVzcG9uc2VUZXh0LGUucmVhZHlTdGF0ZT00LGUuc3RhdHVzPXQuc3RhdHVzLGUuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoXCJyZWFkeXN0YXRlY2hhbmdlXCIpKSxlLmRpc3BhdGNoRXZlbnQobmV3IFByb2dyZXNzRXZlbnQoXCJvbmxvYWRcIikpLGNvbnNvbGUuZGVidWcoXCJSZXR1cm5lZCBNYW5pZmVzdCBSZXF1ZXN0IFwiK2UudXJsKSl9LHQuc2VuZCgpfSx0fShuLkhpdmVSZXF1ZXN0KTthLlpEPXt9LGEuV0Q9e30sdC52bj1hfSxmdW5jdGlvbihlLHQscil7ZnVuY3Rpb24gaShlLHIpe3ZhciBpPXtuRjpbXSxzRjpzfTtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD49MyYmKGkub0Y9YXJndW1lbnRzWzJdKSxhcmd1bWVudHMubGVuZ3RoPj00JiYoaS5hRj1hcmd1bWVudHNbM10pLGQocik/aS5oRj1yOnImJnQuY0YoaSxyKSxUKGkuaEYpJiYoaS5oRj0hMSksVChpLm9GKSYmKGkub0Y9MiksVChpLmFGKSYmKGkuYUY9ITEpLFQoaS51RikmJihpLnVGPSEwKSxpLmFGJiYoaS5zRj1uKSxhKGksZSxpLm9GKX1mdW5jdGlvbiBuKGUsdCl7dmFyIHI9aS5sRlt0XTtyZXR1cm4gcj9cIlx1MDAxYltcIitpLmFGW3JdWzBdK1wibVwiK2UrXCJcdTAwMWJbXCIraS5hRltyXVsxXStcIm1cIjplfWZ1bmN0aW9uIHMoZSx0KXtyZXR1cm4gZX1mdW5jdGlvbiBvKGUpe3ZhciB0PXt9O3JldHVybiBlLmZvckVhY2goZnVuY3Rpb24oZSxyKXt0W2VdPSEwfSksdH1mdW5jdGlvbiBhKGUscixpKXtpZihlLnVGJiZyJiZiKHIuRWUpJiZyLkVlIT09dC5FZSYmKCFyLmNvbnN0cnVjdG9yfHxyLmNvbnN0cnVjdG9yLnByb3RvdHlwZSE9PXIpKXt2YXIgbj1yLkVlKGksZSk7cmV0dXJuIG0obil8fChuPWEoZSxuLGkpKSxufXZhciBzPWgoZSxyKTtpZihzKXJldHVybiBzO3ZhciBkPU9iamVjdC5rZXlzKHIpLGc9byhkKTtpZihlLmhGJiYoZD1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhyKSksUihyKSYmKGQuaW5kZXhPZihcIm1lc3NhZ2VcIik+PTB8fGQuaW5kZXhPZihcImRlc2NyaXB0aW9uXCIpPj0wKSlyZXR1cm4gYyhyKTtpZigwPT09ZC5sZW5ndGgpe2lmKGIocikpe3ZhciB2PXIubmFtZT9cIjogXCIrci5uYW1lOlwiXCI7cmV0dXJuIGUuc0YoXCJbRnVuY3Rpb25cIit2K1wiXVwiLFwic3BlY2lhbFwiKX1pZihJKHIpKXJldHVybiBlLnNGKFJlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChyKSxcInJlZ2V4cFwiKTtpZihTKHIpKXJldHVybiBlLnNGKERhdGUucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwociksXCJkYXRlXCIpO2lmKFIocikpcmV0dXJuIGMocil9dmFyIHk9XCJcIixFPSExLFQ9W1wie1wiLFwifVwiXTtpZihmKHIpJiYoRT0hMCxUPVtcIltcIixcIl1cIl0pLGIocikpe3k9XCIgW0Z1bmN0aW9uXCIrKHIubmFtZT9cIjogXCIrci5uYW1lOlwiXCIpK1wiXVwifWlmKEkocikmJih5PVwiIFwiK1JlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChyKSksUyhyKSYmKHk9XCIgXCIrRGF0ZS5wcm90b3R5cGUudG9VVENTdHJpbmcuY2FsbChyKSksUihyKSYmKHk9XCIgXCIrYyhyKSksMD09PWQubGVuZ3RoJiYoIUV8fDA9PXIubGVuZ3RoKSlyZXR1cm4gVFswXSt5K1RbMV07aWYoaTwwKXJldHVybiBJKHIpP2Uuc0YoUmVnRXhwLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHIpLFwicmVnZXhwXCIpOmUuc0YoXCJbT2JqZWN0XVwiLFwic3BlY2lhbFwiKTtlLm5GLnB1c2gocik7dmFyIHc7cmV0dXJuIHc9RT91KGUscixpLGcsZCk6ZC5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIGwoZSxyLGksZyx0LEUpfSksZS5uRi5wb3AoKSxwKHcseSxUKX1mdW5jdGlvbiBoKGUsdCl7aWYoVCh0KSlyZXR1cm4gZS5zRihcInVuZGVmaW5lZFwiLFwidW5kZWZpbmVkXCIpO2lmKG0odCkpe3ZhciByPVwiJ1wiK0pTT04uc3RyaW5naWZ5KHQpLnJlcGxhY2UoL15cInxcIiQvZyxcIlwiKS5yZXBsYWNlKC8nL2csXCJcXFxcJ1wiKS5yZXBsYWNlKC9cXFxcXCIvZywnXCInKStcIidcIjtyZXR1cm4gZS5zRihyLFwic3RyaW5nXCIpfXJldHVybiB5KHQpP2Uuc0YoXCJcIit0LFwibnVtYmVyXCIpOmQodCk/ZS5zRihcIlwiK3QsXCJib29sZWFuXCIpOmcodCk/ZS5zRihcIm51bGxcIixcIm51bGxcIik6dm9pZCAwfWZ1bmN0aW9uIGMoZSl7cmV0dXJuXCJbXCIrRXJyb3IucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkrXCJdXCJ9ZnVuY3Rpb24gdShlLHQscixpLG4pe2Zvcih2YXIgcz1bXSxvPTAsYT10Lmxlbmd0aDtvPGE7KytvKU8odCxTdHJpbmcobykpP3MucHVzaChsKGUsdCxyLGksU3RyaW5nKG8pLCEwKSk6cy5wdXNoKFwiXCIpO3JldHVybiBuLmZvckVhY2goZnVuY3Rpb24obil7bi5tYXRjaCgvXlxcZCskLyl8fHMucHVzaChsKGUsdCxyLGksbiwhMCkpfSksc31mdW5jdGlvbiBsKGUsdCxyLGksbixzKXt2YXIgbyxoLGM7aWYoYz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsbil8fHt2YWx1ZTp0W25dfSxjLmdldD9oPWMuc2V0P2Uuc0YoXCJbR2V0dGVyL1NldHRlcl1cIixcInNwZWNpYWxcIik6ZS5zRihcIltHZXR0ZXJdXCIsXCJzcGVjaWFsXCIpOmMuc2V0JiYoaD1lLnNGKFwiW1NldHRlcl1cIixcInNwZWNpYWxcIikpLE8oaSxuKXx8KG89XCJbXCIrbitcIl1cIiksaHx8KGUubkYuaW5kZXhPZihjLnZhbHVlKTwwPyhoPWcocik/YShlLGMudmFsdWUsbnVsbCk6YShlLGMudmFsdWUsci0xKSxoLmluZGV4T2YoXCJcXG5cIik+LTEmJihoPXM/aC5zcGxpdChcIlxcblwiKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuXCIgIFwiK2V9KS5qb2luKFwiXFxuXCIpLnN1YnN0cigyKTpcIlxcblwiK2guc3BsaXQoXCJcXG5cIikubWFwKGZ1bmN0aW9uKGUpe3JldHVyblwiICAgXCIrZX0pLmpvaW4oXCJcXG5cIikpKTpoPWUuc0YoXCJbQ2lyY3VsYXJdXCIsXCJzcGVjaWFsXCIpKSxUKG8pKXtpZihzJiZuLm1hdGNoKC9eXFxkKyQvKSlyZXR1cm4gaDtvPUpTT04uc3RyaW5naWZ5KFwiXCIrbiksby5tYXRjaCgvXlwiKFthLXpBLVpfXVthLXpBLVpfMC05XSopXCIkLyk/KG89by5zdWJzdHIoMSxvLmxlbmd0aC0yKSxvPWUuc0YobyxcIm5hbWVcIikpOihvPW8ucmVwbGFjZSgvJy9nLFwiXFxcXCdcIikucmVwbGFjZSgvXFxcXFwiL2csJ1wiJykucmVwbGFjZSgvKF5cInxcIiQpL2csXCInXCIpLG89ZS5zRihvLFwic3RyaW5nXCIpKX1yZXR1cm4gbytcIjogXCIraH1mdW5jdGlvbiBwKGUsdCxyKXt2YXIgaT0wO3JldHVybiBlLnJlZHVjZShmdW5jdGlvbihlLHQpe3JldHVybiBpKyssdC5pbmRleE9mKFwiXFxuXCIpPj0wJiZpKyssZSt0LnJlcGxhY2UoL1xcdTAwMWJcXFtcXGRcXGQ/bS9nLFwiXCIpLmxlbmd0aCsxfSwwKT42MD9yWzBdKyhcIlwiPT09dD9cIlwiOnQrXCJcXG4gXCIpK1wiIFwiK2Uuam9pbihcIixcXG4gIFwiKStcIiBcIityWzFdOnJbMF0rdCtcIiBcIitlLmpvaW4oXCIsIFwiKStcIiBcIityWzFdfWZ1bmN0aW9uIGYoZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSl9ZnVuY3Rpb24gZChlKXtyZXR1cm5cImJvb2xlYW5cIj09dHlwZW9mIGV9ZnVuY3Rpb24gZyhlKXtyZXR1cm4gbnVsbD09PWV9ZnVuY3Rpb24gdihlKXtyZXR1cm4gbnVsbD09ZX1mdW5jdGlvbiB5KGUpe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiBlfWZ1bmN0aW9uIG0oZSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGV9ZnVuY3Rpb24gRShlKXtyZXR1cm5cInN5bWJvbFwiPT10eXBlb2YgZX1mdW5jdGlvbiBUKGUpe3JldHVybiB2b2lkIDA9PT1lfWZ1bmN0aW9uIEkoZSl7cmV0dXJuIHcoZSkmJlwiW29iamVjdCBSZWdFeHBdXCI9PT1BKGUpfWZ1bmN0aW9uIHcoZSl7cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIGUmJm51bGwhPT1lfWZ1bmN0aW9uIFMoZSl7cmV0dXJuIHcoZSkmJlwiW29iamVjdCBEYXRlXVwiPT09QShlKX1mdW5jdGlvbiBSKGUpe3JldHVybiB3KGUpJiYoXCJbb2JqZWN0IEVycm9yXVwiPT09QShlKXx8ZSBpbnN0YW5jZW9mIEVycm9yKX1mdW5jdGlvbiBiKGUpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIGV9ZnVuY3Rpb24gUChlKXtyZXR1cm4gbnVsbD09PWV8fFwiYm9vbGVhblwiPT10eXBlb2YgZXx8XCJudW1iZXJcIj09dHlwZW9mIGV8fFwic3RyaW5nXCI9PXR5cGVvZiBlfHxcInN5bWJvbFwiPT10eXBlb2YgZXx8dm9pZCAwPT09ZX1mdW5jdGlvbiBBKGUpe3JldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSl9ZnVuY3Rpb24gQyhlKXtyZXR1cm4gZTwxMD9cIjBcIitlLnRvU3RyaW5nKDEwKTplLnRvU3RyaW5nKDEwKX1mdW5jdGlvbiBrKCl7dmFyIGU9bmV3IERhdGUsdD1bQyhlLmdldEhvdXJzKCkpLEMoZS5nZXRNaW51dGVzKCkpLEMoZS5nZXRTZWNvbmRzKCkpXS5qb2luKFwiOlwiKTtyZXR1cm5bZS5nZXREYXRlKCksRltlLmdldE1vbnRoKCldLHRdLmpvaW4oXCIgXCIpfWZ1bmN0aW9uIE8oZSx0KXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCl9dmFyIF89LyVbc2RqJV0vZzt0LmZvcm1hdD1mdW5jdGlvbihlKXtpZighbShlKSl7Zm9yKHZhciB0PVtdLHI9MDtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKXQucHVzaChpKGFyZ3VtZW50c1tyXSkpO3JldHVybiB0LmpvaW4oXCIgXCIpfWZvcih2YXIgcj0xLG49YXJndW1lbnRzLHM9bi5sZW5ndGgsbz1TdHJpbmcoZSkucmVwbGFjZShfLGZ1bmN0aW9uKGUpe2lmKFwiJSVcIj09PWUpcmV0dXJuXCIlXCI7aWYocj49cylyZXR1cm4gZTtzd2l0Y2goZSl7Y2FzZVwiJXNcIjpyZXR1cm4gU3RyaW5nKG5bcisrXSk7Y2FzZVwiJWRcIjpyZXR1cm4gTnVtYmVyKG5bcisrXSk7Y2FzZVwiJWpcIjp0cnl7cmV0dXJuIEpTT04uc3RyaW5naWZ5KG5bcisrXSl9Y2F0Y2goZSl7cmV0dXJuXCJbQ2lyY3VsYXJdXCJ9ZGVmYXVsdDpyZXR1cm4gZX19KSxhPW5bcl07cjxzO2E9blsrK3JdKWcoYSl8fCF3KGEpP28rPVwiIFwiK2E6bys9XCIgXCIraShhKTtyZXR1cm4gb30sdC5SRD1mdW5jdGlvbihlLHIpe2Z1bmN0aW9uIGkoKXtpZighbil7aWYocHJvY2Vzcy5wRil0aHJvdyBuZXcgRXJyb3Iocik7cHJvY2Vzcy5mRj9jb25zb2xlLnRyYWNlKHIpOmNvbnNvbGUuZXJyb3Iociksbj0hMH1yZXR1cm4gZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9aWYoVChnbG9iYWwucHJvY2VzcykpcmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHQuUkQoZSxyKS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2lmKCEwPT09cHJvY2Vzcy5kRilyZXR1cm4gZTt2YXIgbj0hMTtyZXR1cm4gaX07dmFyIE4sRD17fTt0LmdGPWZ1bmN0aW9uKGUpe2lmKFQoTikmJihOPXByb2Nlc3MuRGUudkZ8fFwiXCIpLGU9ZS50b1VwcGVyQ2FzZSgpLCFEW2VdKWlmKG5ldyBSZWdFeHAoXCJcXFxcYlwiK2UrXCJcXFxcYlwiLFwiaVwiKS50ZXN0KE4pKXt2YXIgcj1wcm9jZXNzLnlGO0RbZV09ZnVuY3Rpb24oKXt2YXIgaT10LmZvcm1hdC5hcHBseSh0LGFyZ3VtZW50cyk7Y29uc29sZS5lcnJvcihcIiVzICVkOiAlc1wiLGUscixpKX19ZWxzZSBEW2VdPWZ1bmN0aW9uKCl7fTtyZXR1cm4gRFtlXX0sdC5FZT1pLGkuYUY9e2JvbGQ6WzEsMjJdLG1GOlszLDIzXSxFRjpbNCwyNF0saW52ZXJzZTpbNywyN10sVEY6WzM3LDM5XSxJRjpbOTAsMzldLHdGOlszMCwzOV0sYmx1ZTpbMzQsMzldLFNGOlszNiwzOV0sZ3JlZW46WzMyLDM5XSxSRjpbMzUsMzldLHJlZDpbMzEsMzldLGJGOlszMywzOV19LGkubEY9e1BGOlwiY3lhblwiLG51bWJlcjpcInllbGxvd1wiLEFGOlwieWVsbG93XCIsdW5kZWZpbmVkOlwiZ3JleVwiLENGOlwiYm9sZFwiLHFiOlwiZ3JlZW5cIix1djpcIm1hZ2VudGFcIixrRjpcInJlZFwifSx0LmlzQXJyYXk9Zix0LkpmPWQsdC5YZj1nLHQuaUY9dix0LlpmPXksdC4kZj1tLHQuT0Y9RSx0LnRkPVQsdC5fRj1JLHQuSm89dyx0Lk5GPVMsdC5ERj1SLHQuV2Y9Yix0LkZGPVAsdC5pc0J1ZmZlcj1yKDEwNSk7dmFyIEY9W1wiSmFuXCIsXCJGZWJcIixcIk1hclwiLFwiQXByXCIsXCJNYXlcIixcIkp1blwiLFwiSnVsXCIsXCJBdWdcIixcIlNlcFwiLFwiT2N0XCIsXCJOb3ZcIixcIkRlY1wiXTt0LmxvZz1mdW5jdGlvbigpe2NvbnNvbGUubG9nKFwiJXMgLSAlc1wiLGsoKSx0LmZvcm1hdC5hcHBseSh0LGFyZ3VtZW50cykpfSx0LnpJPXIoMTA2KSx0LmNGPWZ1bmN0aW9uKGUsdCl7aWYoIXR8fCF3KHQpKXJldHVybiBlO2Zvcih2YXIgcj1PYmplY3Qua2V5cyh0KSxpPXIubGVuZ3RoO2ktLTspZVtyW2ldXT10W3JbaV1dO3JldHVybiBlfX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXIoNyksbj1yKDEpLHM9cigzMCk7cigxMTIpLHIoMTEzKTt2YXIgbz1yKDApLGE9cig5KSxoPXIoMjQpLGM9cigyMSksdT1yKDE5KSxsPXIoOCkscD1yKDQpLGY9cig3KTshZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5tZXRyaWNzPW5ldyBoaXZlLnNuYXBzaG90cy5NZXRyaWNzLHRoaXMuTEY9bmV3IGhpdmUuc25hcHNob3RzLlRyYWZmaWMsdGhpcy5NRj1uZXcgbix0aGlzLkJGPW5ldyBuLHRoaXMuVUY9bmV3IG4sdGhpcy5wbGF5ZXI9bmV3IGhpdmUuc25hcHNob3RzLlBsYXllcn1yZXR1cm4gZX0oKTtlLnhGPXQ7dmFyIHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dGhpcy50aWNrZXQ9bnVsbCx0aGlzLkhGPTAsdGhpcy5xRj0wLHRoaXMuVkYoKX1yZXR1cm4gdC5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbihlLHQscixpKXt0aGlzLnRlPW8uRnJhbWV3b3JrLnJlc29sdmUoby5GcmFtZXdvcmsucS5JKS5sb2coaSksdGhpcy5kaD1vLkZyYW1ld29yay5yZXNvbHZlKGEuUXMuVXMpLHRoaXMudGUuZGVidWcoXCJbU05BUF0gSU5JVCBTVEFUUyBTVE9SRSAtIElEOiBcIitlKSx0aGlzLkVoPWUsdGhpcy50aWNrZXQ9dCx0aGlzLlRoKHIpfSx0LnByb3RvdHlwZS5qRj1mdW5jdGlvbihlKXt0aGlzLkdGPWV9LHQucHJvdG90eXBlLlRoPWZ1bmN0aW9uKGUpe3RoaXMuYXBwPWV9LHQucHJvdG90eXBlLlFGPWZ1bmN0aW9uKGUpe3RoaXMud0M9ZX0sdC5wcm90b3R5cGUuVkY9ZnVuY3Rpb24oKXt0aGlzLktGPW5ldyBlLnhGLHRoaXMuRWg9bnVsbCx0aGlzLnRpY2tldD1udWxsLHRoaXMucmVzZXQoKX0sdC5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLk5fPW5ldyBlLnhGLHRoaXMuWUYodGhpcy5OXy5MRiksdGhpcy56Rih0aGlzLk5fKX0sdC5wcm90b3R5cGUuWUY9ZnVuY3Rpb24oZSl7ZS5yZXFOPTAsZS5yZXNwRmFsbGJhY2tOPTAsZS5yZXNwRmFsbGJhY2tFcnJOPTAsZS5yZXNwUDJwTj0wLGUucmVxT3RoZXJOPTAsZS5yZXNwRmFsbGJhY2tPdGhlck49MCxlLnJlc3BGYWxsYmFja090aGVydEVyck49MCxlLnNyY1JlcU49MCxlLnNyY1Jlc3BOPTAsZS5zcmNSZXNwRXJyTj0wLGUuc3JjUmVxUXQ9MCxlLnNyY1Jlc3BRdD0wLGUuc3JjT3ZlclF0PTAsZS5zcmNPdGhlclJlcU49MCxlLnNyY090aGVyUmVzcE49MCxlLnNyY090aGVyUmVzcEVyck49MCxlLnNyY090aGVyUmVxUXQ9MCxlLnNyY090aGVyUmVzcFF0PTAsZS5zcmNPdGhlck92ZXJRdD0wLGUucDJwU3ViUmVxTj0wLGUucDJwU3ViUmVzcE49MCxlLnAycFN1YlJlc3BQYXJ0Tj0wLGUucDJwU3ViUmVzcEVyck49MCxlLnAycFN1YlJlc3BFeHBOPTAsZS5wMnBTdWJSZXFRdD0wLGUucDJwU3ViUmVzcFF0PTAsZS5wMnBEaXJlY3RRdD0wLGUucDJwUmVsYXlRdD0wLGUucDJwTmF0UXQ9MCxlLnAycFVkcGJRdD0wLGUuZmFsbEFnZW50UmVzcE49MCxlLmZhbGxBZ2VudFByZWRIaXROPTAsZS5mYWxsQWdlbnRGYWlsZWRSZXNwTj0wLGUuZmFsbEFnZW5UcmFmZmljU3VjY2Vzc1F0PTAsZS5wMnBBZ2VudFByZWRIaXROPTAsZS5wMnBBZ2VudFByZWRNaXNzTj0wLGUucDJwQWdlbnRQcmVkUGFydGlhbEhpdE49MCxlLnAycEFnZW5UcmFmZmljU3VjY2Vzc1F0PTAsZS5wMnBBZ2VuVHJhZmZpY0ZhaWx1cmVRdD0wfSx0LnByb3RvdHlwZS56Rj1mdW5jdGlvbihlKXtlLm1ldHJpY3MudmlkZW9CdWZOPTAsZS5tZXRyaWNzLnZpZGVvQnVmUXQ9MCxlLm1ldHJpY3MuY2xpZW50QnVmZmVyTXM9MCxlLm1ldHJpY3MubG9va3VwTm90Rm91bmQ9MCxlLm1ldHJpY3MubG9va3VwVG90YWw9MCxlLm1ldHJpY3MubG9va3VwTGF0ZW5jeT0wLGUubWV0cmljcy5sb29rdXBSZXFBY2NlcHQ9MCxlLm1ldHJpY3MubG9va3VwUmVxRXN0YWJsaXNoZWQ9MCxlLm1ldHJpY3MubG9va3VwRmFpbGVkPTAsZS5wbGF5ZXIuYnVmZmVyaW5nTj0wLGUucGxheWVyLmJ1ZmZlcmluZ01zPTB9LHQucHJvdG90eXBlLkNvPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dm9pZCAwPT09ZSYmKGU9ITApO3ZhciByPW5ldyBoaXZlLnNuYXBzaG90cy5NZXRyaWNTbmFwc2hvdDtyLnRpbWVzdGFtcD1vLkZyYW1ld29yay50aW1lKCksci5ndWlkPXRoaXMuRWgsci5zZXNzaW9uSWQ9dGhpcy50aWNrZXQuc2Vzc2lvbklkLHIuZXZlbnRJZD1uZXcgRXZlbnRJZCxyLmV2ZW50SWQucGFydG5lcklkPXRoaXMudGlja2V0LkxoKCksci5ldmVudElkLmN1c3RvbWVySWQ9dGhpcy50aWNrZXQuTWgoKSxyLmV2ZW50SWQuY29udGVudElkPXRoaXMudGlja2V0LlhjKCk7dHJ5e3ZhciBuPW5ldyBoaXZlLnNuYXBzaG90cy5DbGllbnRJbmZvO24uY2xpZW50VHlwZT10aGlzLkpGKCk7dmFyIHM9dGhpcy5hcHAudmVyc2lvbi5zcGxpdChcIi5cIik7bi5tYWpvclZlcnNpb249cGFyc2VJbnQoc1swXSksbi5taW5vclZlcnNpb249cGFyc2VJbnQoc1sxXSksbi5wYXRjaFZlcnNpb249cGFyc2VJbnQoc1syXSksci5jbGllbnQ9bn1jYXRjaChlKXt0aGlzLnRlLndhcm4oXCJbU05BUF0gZXJyb3Igc2V0dGluZyBTbmFwc2hvdCBDbGllbnRJbmZvXCIsZSl9aWYodGhpcy53Qyl7dmFyIGE9bmV3IGhpdmUuc25hcHNob3RzLkFnZW50SW5mbzthLmZpcnN0VGllckJpdHJhdGVzPXRoaXMud0MuV0YoKSxhLnNlY29uZFRpZXJCaXRyYXRlcz10aGlzLndDLlhGKCksci5hZ2VudEluZm89YX1yLnN0cmVhbUluZm89dGhpcy5SXy5aRigpLHIudHJhZmZpYz1bXTt2YXIgaD1uZXcgaGl2ZS5zbmFwc2hvdHMuVHJhZmZpY0tleTtpZihyLnRyYWZmaWMucHVzaCh7a2V5OmgsdmFsdWU6dGhpcy5OXy5MRn0pLHRoaXMuTl8uTUYuZm9yRWFjaChmdW5jdGlvbihlLHQpe3ZhciBpPW5ldyBoaXZlLnNuYXBzaG90cy5UcmFmZmljS2V5O2kuYml0cmF0ZT10LHIudHJhZmZpYy5wdXNoKHtrZXk6aSx2YWx1ZTplfSl9KSxyLm1ldHJpY3M9dGhpcy5OXy5tZXRyaWNzLHRoaXMuR0YmJihyLm1ldHJpY3MuY2xpZW50QnVmZmVyTXM9dGhpcy5HRi5taW4oKSksci5wbGF5ZXI9dGhpcy5OXy5wbGF5ZXIsdGhpcy4kRil7dmFyIGM9dGhpcy4kRi5lTCgpO3RoaXMuTl8ubWV0cmljcy5wcnRPdXROPWMudEwrYy5yTCx0aGlzLk5fLm1ldHJpY3MucHJ0SW5OPWMuaUwrYy5uTDt2YXIgdT10aGlzLiRGLnNMKCk7dS5mb3JFYWNoKGZ1bmN0aW9uKGUsaSl7dC5vTChpLGUscil9KSx0aGlzLk5fLlVGLmZpbHRlcihmdW5jdGlvbihlLHQpe3JldHVybiF1Lmhhcyh0KX0pLmZvckVhY2goZnVuY3Rpb24oZSxpKXt0Lm9MKGksZSxyKX0pfXJldHVybiByLmNvbm5JbmZvPW5ldyBoaXZlLnNuYXBzaG90cy5Db25uZWN0aXZpdHlJbmZvLGU/dGhpcy5kaC5WaCgpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIHIuY29ubkluZm8ucHJpdmF0ZUlwPWkuX3MuQ3MoZS5RaCgpKSx0LmFMKHQuaEwocikpfSkuZmFpbChmdW5jdGlvbihlKXtyZXR1cm4gdC5hTCh0LmhMKHIpKX0pOihyLmNvbm5JbmZvLnByaXZhdGVJcD1pLl9zLkNzKHRoaXMuZGguR2goKS5RaCgpKSx0aGlzLmFMKHIpKX0sdC5wcm90b3R5cGUuaEw9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuY29ubkluZm8uaW50ZXJuYWxBcz10aGlzLkhGLGUuY29ubkluZm8uZXh0ZXJuYWxBcz10aGlzLnFGLGUuY29ubkluZm8ucHVibGljSXA9dGhpcy5jTCxlfSx0LnByb3RvdHlwZS5hTD1mdW5jdGlvbihlLHQpe3ZvaWQgMD09PXQmJih0PVtdKTt2YXIgcj1mLmNzKGUsXCJzbmFwc2hvdFwiKTtyZXR1cm4gci5sZW5ndGgmJnAuRXJyb3JNb25pdG9yLmdpKCkuZGkoXCJOYU4gZm91bmQgaW4gTWV0cmljU25hcHNob3RcIixcIltTTkFQXVwiLHtrZXlzV2l0aE5hTjpyLHNuYXBzaG90OmV9KSx0Lmxlbmd0aD0wLHQucHVzaC5hcHBseSh0LHIpLGV9LHQucHJvdG90eXBlLkpGPWZ1bmN0aW9uKCl7dmFyIGU7c3dpdGNoKHRoaXMuYXBwLmFwcCl7Y2FzZVwiSlNcIjplPUNsaWVudFR5cGUudUw7YnJlYWs7Y2FzZVwiUFJPWFlcIjplPUNsaWVudFR5cGUubEw7YnJlYWs7ZGVmYXVsdDplPUNsaWVudFR5cGUucEx9cmV0dXJuIGV9LHQucHJvdG90eXBlLm9MPWZ1bmN0aW9uKGUsdCxyKXt2YXIgaT10aGlzLk5fLkJGLmdldChlKTt0LnRyYWZmaWM9aSxyLnBhcnRuZXJzfHwoci5wYXJ0bmVycz1bXSk7dmFyIG49bmV3IGhpdmUuc25hcHNob3RzLlBhcnRuZXJLZXk7bi5wYXJ0bmVyR3VpZD1lLHIucGFydG5lcnMucHVzaCh7a2V5Om4sdmFsdWU6dH0pfSx0LnByb3RvdHlwZS55Xz1mdW5jdGlvbihlLHQpe2U+MCYmKHRoaXMuTl8ubWV0cmljcy52aWRlb0J1Zk4rKyx0aGlzLk5fLm1ldHJpY3MudmlkZW9CdWZRdCs9ZSx0aGlzLk5fLnBsYXllci5idWZmZXJpbmdOKyssdGhpcy5OXy5wbGF5ZXIuYnVmZmVyaW5nTXMrPWUpLHRoaXMuTl8ucGxheWVyLnBsYXllckJ1ZmZlck1zPXR9LHQucHJvdG90eXBlLk1fPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuTl8uTEZ9LHQucHJvdG90eXBlLmZMPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuS0YuTEZ9LHQucHJvdG90eXBlLmRMPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLktGLk1GLmhhcyhlKXx8dGhpcy5LRi5NRi5zZXQoZSxuZXcgaGl2ZS5zbmFwc2hvdHMuVHJhZmZpYyksdGhpcy5LRi5NRi5nZXQoZSl9LHQucHJvdG90eXBlLkZfPWZ1bmN0aW9uKGUpe2lmKCF0aGlzLk5fLk1GLmhhcyhlKSl7dmFyIHQ9bmV3IGhpdmUuc25hcHNob3RzLlRyYWZmaWM7dGhpcy5ZRih0KSx0aGlzLk5fLk1GLnNldChlLHQpfXJldHVybiB0aGlzLk5fLk1GLmdldChlKX0sdC5wcm90b3R5cGUuZ0w9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgaGl2ZS5zbmFwc2hvdHMuUGFydG5lclRyYWZmaWM7cmV0dXJuIGUucDJwU3VjY1JlcT0wLGUucDJwRmFpbFJlcT0wLGUucDJwUGFydFJlcT0wLGUucDJwU3VjY1JlY2VpdmVkPTAsZS5wMnBTdWNjUmVjZWl2ZWRMb3c9MCxlLnAycEZhaWxSZWNlaXZlZD0wLGUucDJwU3VjY1Jlc3A9MCxlLnAycEZhaWxSZXNwPTAsZS5wMnBQYXJ0UmVzcD0wLGUucDJwU3VjY1NlbnQ9MCxlLnAycFN1Y2NTZW50TG93PTAsZS5wMnBGYWlsU2VudD0wLGV9LHQucHJvdG90eXBlLnZMPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQuQkYuaGFzKGUpfHx0LkJGLnNldChlLHRoaXMuZ0woKSksdC5CRi5nZXQoZSl9LHQucHJvdG90eXBlLnlMPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnZMKGUsdGhpcy5OXyl9LHQucHJvdG90eXBlLm1MPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnZMKGUsdGhpcy5LRil9LHQucHJvdG90eXBlLkVMPWZ1bmN0aW9uKGUpe3RoaXMuZGg9ZX0sdC5wcm90b3R5cGUuVEw9ZnVuY3Rpb24oZSl7dGhpcy4kRj1lfSx0LnByb3RvdHlwZS5aaD1mdW5jdGlvbihlKXt9LHR9KCk7ZS5MRD1yO3ZhciBkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuSUw9aXNOYU4obC5IaXZlQ29uZmlnLkRlYnVnTG9ncy5NZXRyaWNTbmFwc2hvdExvZ3MpPzA6bC5IaXZlQ29uZmlnLkRlYnVnTG9ncy5NZXRyaWNTbmFwc2hvdExvZ3MsdGhpcy5zdGF0ZT11Ll9jLk9jLHRoaXMuY2xpZW50PW8uRnJhbWV3b3JrLnJlc29sdmUoYS5Rcy5IKSx0aGlzLlBsPW5ldyBzLlB3LHRoaXMucHJvdG9jb2w9bmV3IHMublModGhpcy5QbCl9cmV0dXJuIGUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oZSx0KXt0aGlzLnRlPW8uRnJhbWV3b3JrLnJlc29sdmUoby5GcmFtZXdvcmsucS5JKS5sb2codCksdGhpcy50ZS5kZWJ1ZyhcIltTTkFQXSBJTklUIENMSUVOVCBTVEFUU1wiKSx0aGlzLnBlPWUsdGhpcy53TCgpfSxlLnByb3RvdHlwZS53TD1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5TTD4tMSYmby5GcmFtZXdvcmsuY2xlYXJJbnRlcnZhbCh0aGlzLlNMKSx0aGlzLlNMPW8uRnJhbWV3b3JrLnNldEludGVydmFsKGZ1bmN0aW9uKCl7ZS5zbmFwc2hvdCgpfSxoLm5jLmljLnVwKX0sZS5wcm90b3R5cGUuT249ZnVuY3Rpb24oZSl7dGhpcy5zdGF0ZT1lfSxlLnByb3RvdHlwZS5kXz1mdW5jdGlvbigpe2lmKHRoaXMucGUpcmV0dXJuIHRoaXMuc25hcHNob3QoITEpfSxlLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbihlKXtvLkZyYW1ld29yay5jbGVhckludGVydmFsKHRoaXMuU0wpLHRoaXMucGUmJighMT09PWU/dGhpcy5wZS5yZXNldCgpOnRoaXMucGUuVkYoKSl9LGUucHJvdG90eXBlLnNuYXBzaG90PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dm9pZCAwPT09ZSYmKGU9ITApO3ZhciByPXRoaXMucGUuQ28oZSk7ZT8odGhpcy50ZS5kZWJ1ZyhcIltTTkFQXSBUQUtJTkcgU05BUFNIT1RcIiksci50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiB0LmZvcndhcmQoZSl9KS5mYWlsKGZ1bmN0aW9uKGUpe3QudGUud2FybihcIltTTkFQXSBFUlJPUiBGT1JXQVJESU5HIFNOQVBTSE9UXCIsZSl9KS5maW5hbGx5KGZ1bmN0aW9uKCl7dC5wZS5yZXNldCgpfSkpOih0aGlzLnRlLmRlYnVnKFwiW1NOQVBdIEZMVVNISU5HIFNOQVBTSE9UXCIpLHRoaXMuZm9yd2FyZChyKSl9LGUucHJvdG90eXBlLmZvcndhcmQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZih0aGlzLnN0YXRlPT09dS5fYy5JRExFKXJldHVybiB2b2lkIHRoaXMudGUuZGVidWcoXCJbU05BUF0gbm90IHNlbmQgLSBzdGF0ZSBpZGxlXCIpO2lmKHRoaXMuY2xpZW50JiZ0aGlzLmNsaWVudC5sYygpKXtzd2l0Y2godGhpcy5JTCl7Y2FzZSAwOmRlZmF1bHQ6dGhpcy50ZS5kZWJ1ZyhcIltTTkFQXSBTRU5ESU5HIFNOQVBTSE9UXCIpO2JyZWFrO2Nhc2UgMTp0aGlzLnRlLmRlYnVnKFwiW1NOQVBdIFNFTkRJTkcgU05BUFNIT1QgXCIrSlNPTi5zdHJpbmdpZnkoZSkpO2JyZWFrO2Nhc2UgMjp0aGlzLnRlLmRlYnVnKFwiW1NOQVBdIFNFTkRJTkcgU05BUFNIT1RcIixlKTticmVhaztjYXNlIDM6dGhpcy50ZS5kZWJ1ZyhcIltTTkFQXSBTRU5ESU5HIFNOQVBTSE9UIFwiK0pTT04uc3RyaW5naWZ5KGUpLGUpfXRoaXMucHJvdG9jb2wudlMoXCJTTkFQU0hPVFwiLHMuVkkuS0ksMCksZS53cml0ZSh0aGlzLnByb3RvY29sKSx0aGlzLnByb3RvY29sLkVTKCk7dmFyIHI9dGhpcy5QbC5RdygpLGk9dGhpcy5STChyLFwiLFwiLDQpLG49ci5zbGljZShpKzEsci5sZW5ndGgtMSksbz1uZXcgYy5wYyhTZXJ2aWNlcy5mYywxLG4pO3RoaXMuY2xpZW50LmxjKCkuc2VuZChvKS5mYWlsKGZ1bmN0aW9uKGUpe3QudGUud2FybihcIltTTkFQXSBQUk9CTEVNOiBcIixlKX0pfX0sZS5wcm90b3R5cGUuUkw9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlLnNwbGl0KHQscikuam9pbih0KS5sZW5ndGh9LGV9KCk7ZS52Yz1kfSh0LlN0YXRzfHwodC5TdGF0cz17fSkpfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9cigyKSxuPXIoMjcpLHM9cigxMTQpLG89cigwKSxhPXIoMjQpLGg9cigyMSksYz1yKDUpLHU9Yy5SdC5SaSxsPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMudGU9by5GcmFtZXdvcmsucmVzb2x2ZShvLkZyYW1ld29yay5xLkkpLmxvZygpLHRoaXMudGUuZGVidWcoXCJJTklUIFNFUlZJQ0UgQ0xJRU5UXCIpfXJldHVybiBlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztpZih0aGlzLmJMKXRoaXMuYkwudGhlbihmdW5jdGlvbigpe3ZhciBlPXtwYXJ0bmVySWQ6dC5MaCgpLGN1c3RvbWVySWQ6dC5NaCgpLGNvbnRlbnRJZDp0LlhjKCksc2VjcmV0OnQuT0EoKX0saT1uZXcgaC5wYyhTZXJ2aWNlcy5QTCwxLEpTT04uc3RyaW5naWZ5KGUpKTtyLmNvbm5lY3Rpb24uc2VuZChpKX0pO2Vsc2V7dmFyIG89aS5kZWZlcigpLGM9YS5uYy5pYy5hcDt0LmtBJiYodT9jPWEubmMuaWMuaHA6KHRoaXMudGUud2FybihcIltIaXZlQ29tbV0gRXJyb3IgdHJ5aW5nIHRvIHJlc29sdmUgdGVzdCB0aWNrZXQgYWdhaW5zdCBwcm9kdWN0aW9uIHNlcnZpY2VzIC0gdXNlIHByb2R1Y3Rpb24gdGlja2V0IG9yIHRlc3QgcGx1Z2luXCIpLG8ucmVqZWN0KG5ldyBFcnJvcihcInRlc3QgdGlja2V0IGluIHByb2R1Y3Rpb25cIikpKSk7dmFyIGw9bmV3IG4oYykscD1sLk9UKHtcImNvbm5lY3Rpb24taWRcIjplLHBhcnRuZXJfaWQ6dC5MaCgpLGN1c3RvbWVyX2lkOnQuTWgoKSxjb250ZW50X2lkOnQuWGMoKSx0aWNrZXQ6dC5PQSgpfSkudG9TdHJpbmcoKTt0aGlzLmNvbm5lY3Rpb249bmV3IHMuQUwocCxhLm5jLmljLmxwLGEubmMuaWMucHAsYS5uYy5pYy5mcCksdGhpcy5jb25uZWN0aW9uLkNMKGZ1bmN0aW9uKCl7ci50ZS5kZWJ1ZyhcIkhJVkUgU0VSVklDRVMgQ09OTkVDVEVEXCIpLG8ucmVzb2x2ZShyLmNvbm5lY3Rpb24pfSksdGhpcy5jb25uZWN0aW9uLm9uZXJyb3IoZnVuY3Rpb24oKXtyLnRlLndhcm4oXCJIaXZlIFNlcnZpY2VzIENvbm5lY3Rpb24gZmFpbGVkXCIpLG8ucmVqZWN0KHIuY29ubmVjdGlvbil9KSx0aGlzLmJMPW8uVGV9cmV0dXJue3pjOnRoaXMuY29ubmVjdGlvbixUZTp0aGlzLmJMfX0sZS5wcm90b3R5cGUuY29ubmVjdD1mdW5jdGlvbigpe3RoaXMuY29ubmVjdGlvbiYmdGhpcy5jb25uZWN0aW9uLmNvbm5lY3QoITApfSxlLnByb3RvdHlwZS5rTD1mdW5jdGlvbihlKXt9LGUucHJvdG90eXBlLmxjPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29ubmVjdGlvbn0sZS5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oKXt0aGlzLmNvbm5lY3Rpb24mJih0aGlzLmJMPW51bGwsdGhpcy5jb25uZWN0aW9uLmNsb3NlKCExKSl9LGV9KCk7dC5PTD1sfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7cigxMTUpO3ZhciBpPXIoMiksbj1yKDEpLHM9cigwKSxvPXIoNDIpLGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMueWM9KG5ldyBEYXRlKS5nZXRUaW1lKCksdGhpcy5fTD1lfXJldHVybiBlfSgpLGg9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5OTD1uZXcgbix0aGlzLnRlPShzLkZyYW1ld29yay5yZXNvbHZlKHMuRnJhbWV3b3JrLnEuSSl8fGNvbnNvbGUpLmxvZygpLHRoaXMudGUuZGVidWcoXCJJTklUIFRJQ0tFVCBSRVNPTFZFUlwiKX1yZXR1cm4gZS5wcm90b3R5cGUucmVzb2x2ZT1mdW5jdGlvbihlLHQscil7dmFyIG49dGhpcyxzPWkuZGVmZXIoKTtyZXR1cm4gZSYmKGUub24oU2VydmljZXMuUEwsMCxmdW5jdGlvbihlKXtuLkRMKGUpfSksZS5vbihTZXJ2aWNlcy5QTCwyLGZ1bmN0aW9uKGUpe24uREwoZSl9KSx0aGlzLk5MLnNldCh0LG5ldyBhKHMpKSkscy5UZX0sZS5wcm90b3R5cGUuREw9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPShuZXcgRGF0ZSkuZ2V0VGltZSgpLGk9SlNPTi5wYXJzZShlLm1zZyksbj0hMTt0aGlzLk5MLmZvckVhY2goZnVuY3Rpb24oZSxzKXtpZih0LkZMKHMsaSkpe249ITA7dmFyIG89dC5MTChzLGkpO28/KG8ueWM9ZS55YyxvLm1jPXIsZS5fTC5yZXNvbHZlKG8pKTplLl9MLnJlamVjdChcIlRpY2tldCB2ZXJpZmljYXRpb24gZmFpbGVkXCIpLHQuTkwuZGVsZXRlKG8pfX0pLG58fHRoaXMudGUud2FybihcIm5vIHBlbmRpbmcgdGlja2V0IG1hdGNoaW5nOiBcIitlLm1zZyl9LGUucHJvdG90eXBlLkdjPWZ1bmN0aW9uKGUpe2lmKG5ldyBSZWdFeHAoXCJeaHR0cHM/Oi8vYXBpKD86LXRlc3QpPy5oaXZlc3RyZWFtaW5nLmNvbS92MS9ldmVudHMvKD86d2lsZGNhcmQvKT9cIikudGVzdChlKSl7dmFyIHQ9dGhpcy5NTCgpO3JldHVybiB0LkFBKGUpLHR9cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLk1MPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBvLlZBfSxlLnByb3RvdHlwZS5GTD1mdW5jdGlvbihlLHQpe3JldHVybiBlLkxoKCk9PT10W28uVkEuSEFdJiZlLk1oKCk9PT10W28uVkEueEFdJiZlLlhjKCk9PT10W28uVkEucUFdfSxlLnByb3RvdHlwZS5MTD1mdW5jdGlvbihlLHQpe3JldHVybiBlLlJBKHQpLGUuUEEoKT9lOm51bGx9LGV9KCk7dC5CTD1ofSxmdW5jdGlvbihlLHQscil7LyohIHV1aWQuanNcclxuICogQ29weXJpZ2h0IChjKSAyMDEwLTIwMTIgUm9iZXJ0IEtpZWZmZXJcclxuICogTUlUIExpY2Vuc2UgLSBodHRwOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXHJcbiAqL1xyXG4hZnVuY3Rpb24odCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaShlLHQscil7dmFyIGk9dCYmcnx8MCxuPTA7Zm9yKHQ9dHx8W10sZS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1swLTlhLWZdezJ9L2csZnVuY3Rpb24oZSl7bjwxNiYmKHRbaStuKytdPWRbZV0pfSk7bjwxNjspdFtpK24rK109MDtyZXR1cm4gdH1mdW5jdGlvbiBuKGUsdCl7dmFyIHI9dHx8MCxpPWY7cmV0dXJuIGlbZVtyKytdXStpW2VbcisrXV0raVtlW3IrK11dK2lbZVtyKytdXStcIi1cIitpW2VbcisrXV0raVtlW3IrK11dK1wiLVwiK2lbZVtyKytdXStpW2VbcisrXV0rXCItXCIraVtlW3IrK11dK2lbZVtyKytdXStcIi1cIitpW2VbcisrXV0raVtlW3IrK11dK2lbZVtyKytdXStpW2VbcisrXV0raVtlW3IrK11dK2lbZVtyKytdXX1mdW5jdGlvbiBzKGUsdCxyKXt2YXIgaT10JiZyfHwwLHM9dHx8W107ZT1lfHx7fTt2YXIgbz1udWxsIT1lLlVMP2UuVUw6bSxhPW51bGwhPWUueEw/ZS54TDoobmV3IERhdGUpLmdldFRpbWUoKSxoPW51bGwhPWUuSEw/ZS5ITDpUKzEsYz1hLUUrKGgtVCkvMWU0O2lmKGM8MCYmbnVsbD09ZS5VTCYmKG89bysxJjE2MzgzKSwoYzwwfHxhPkUpJiZudWxsPT1lLkhMJiYoaD0wKSxoPj0xZTQpdGhyb3cgbmV3IEVycm9yKFwidXVpZC52MSgpOiBDYW4ndCBjcmVhdGUgbW9yZSB0aGFuIDEwTSB1dWlkcy9zZWNcIik7RT1hLFQ9aCxtPW8sYSs9MTIyMTkyOTI4ZTU7dmFyIHU9KDFlNCooMjY4NDM1NDU1JmEpK2gpJTQyOTQ5NjcyOTY7c1tpKytdPXU+Pj4yNCYyNTUsc1tpKytdPXU+Pj4xNiYyNTUsc1tpKytdPXU+Pj44JjI1NSxzW2krK109MjU1JnU7dmFyIGw9YS80Mjk0OTY3Mjk2KjFlNCYyNjg0MzU0NTU7c1tpKytdPWw+Pj44JjI1NSxzW2krK109MjU1Jmwsc1tpKytdPWw+Pj4yNCYxNXwxNixzW2krK109bD4+PjE2JjI1NSxzW2krK109bz4+Pjh8MTI4LHNbaSsrXT0yNTUmbztmb3IodmFyIHA9ZS5xTHx8eSxmPTA7Zjw2O2YrKylzW2krZl09cFtmXTtyZXR1cm4gdHx8bihzKX1mdW5jdGlvbiBvKGUsdCxyKXt2YXIgaT10JiZyfHwwO1wic3RyaW5nXCI9PXR5cGVvZiBlJiYodD1cImJpbmFyeVwiPT09ZT9uZXcgcCgxNik6bnVsbCxlPW51bGwpLGU9ZXx8e307dmFyIHM9ZS5yYW5kb218fChlLlZMfHxhKSgpO2lmKHNbNl09MTUmc1s2XXw2NCxzWzhdPTYzJnNbOF18MTI4LHQpZm9yKHZhciBvPTA7bzwxNjtvKyspdFtpK29dPXNbb107cmV0dXJuIHR8fG4ocyl9dmFyIGEsaCxjLHUsbDt0P2Z1bmN0aW9uKCl7dmFyIGU9dC5jcnlwdG98fHQubXNDcnlwdG87aWYoIWEmJmUmJmUuZ2V0UmFuZG9tVmFsdWVzKXRyeXt2YXIgcj1uZXcgVWludDhBcnJheSgxNik7dT1hPWZ1bmN0aW9uKCl7cmV0dXJuIGUuZ2V0UmFuZG9tVmFsdWVzKHIpLHJ9LGEoKX1jYXRjaChlKXt9aWYoIWEpe3ZhciBpPW5ldyBBcnJheSgxNik7aD1hPWZ1bmN0aW9uKCl7Zm9yKHZhciBlLHQ9MDt0PDE2O3QrKykwPT0oMyZ0KSYmKGU9NDI5NDk2NzI5NipNYXRoLnJhbmRvbSgpKSxpW3RdPWU+Pj4oKDMmdCk8PDMpJjI1NTtyZXR1cm4gaX0sXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGNvbnNvbGUmJmNvbnNvbGUud2FybiYmY29uc29sZS53YXJuKFwiW1NFQ1VSSVRZXSBub2RlLXV1aWQ6IGNyeXB0byBub3QgdXNhYmxlLCBmYWxsaW5nIGJhY2sgdG8gaW5zZWN1cmUgTWF0aC5yYW5kb20oKVwiKX19KCk6ZnVuY3Rpb24oKXt0cnl7dmFyIGU9cigxMTYpLmpMO2M9YT1lJiZmdW5jdGlvbigpe3JldHVybiBlKDE2KX0sYSgpfWNhdGNoKGUpe319KCk7Zm9yKHZhciBwPVwiZnVuY3Rpb25cIj09dHlwZW9mIEJ1ZmZlcj9CdWZmZXI6QXJyYXksZj1bXSxkPXt9LGc9MDtnPDI1NjtnKyspZltnXT0oZysyNTYpLnRvU3RyaW5nKDE2KS5zdWJzdHIoMSksZFtmW2ddXT1nO3ZhciB2PWEoKSx5PVsxfHZbMF0sdlsxXSx2WzJdLHZbM10sdls0XSx2WzVdXSxtPTE2MzgzJih2WzZdPDw4fHZbN10pLEU9MCxUPTAsST1vO0kuR0w9cyxJLkZBPW8sSS5wYXJzZT1pLEkuUUw9bixJLktMPXAsSS5ZTD1hLEkuekw9aCxJLkpMPWMsSS5XTD11LHZvaWQgMCE9PWUmJmUudD9lLnQ9SToobD10LkNrLEkud3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdC5Daz1sLEl9LHQuQ2s9SSl9KFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Om51bGwpfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9dGhpcyYmdGhpcy5Oc3x8ZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiByKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfWZvcih2YXIgaSBpbiB0KXQuaGFzT3duUHJvcGVydHkoaSkmJihlW2ldPXRbaV0pO2UucHJvdG90eXBlPW51bGw9PT10P09iamVjdC5jcmVhdGUodCk6KHIucHJvdG90eXBlPXQucHJvdG90eXBlLG5ldyByKX0sbj1yKDIpLHM9cig3NCksbz1yKDApLGE9cigyNCksaD1yKDExNyksYz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLlhMPVwiSWRlbnRpdHlTdG9yZVwiLHRoaXMuWkw9XCJJZGVudGl0eURCXCIsdGhpcy5FaD1udWxsLHRoaXMuaW5kZXhlZERCPXdpbmRvdy5pbmRleGVkREJ8fHdpbmRvdy5tb3pJbmRleGVkREJ8fHdpbmRvdy53ZWJraXRJbmRleGVkREJ8fHdpbmRvdy5tc0luZGV4ZWREQixvLkZyYW1ld29yayYmby5GcmFtZXdvcmsucmVzb2x2ZShvLkZyYW1ld29yay5xLkkpP3RoaXMudGU9by5GcmFtZXdvcmsucmVzb2x2ZShvLkZyYW1ld29yay5xLkkpLmxvZygpOnRoaXMudGU9Y29uc29sZX1yZXR1cm4gZS5wcm90b3R5cGUuJEw9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9bi5kZWZlcigpLHI9aW5kZXhlZERCLm9wZW4odGhpcy5aTCk7cmV0dXJuIHIub251cGdyYWRlbmVlZGVkPWZ1bmN0aW9uKCl7dmFyIHQ9ci5yZXN1bHQ7dC5jcmVhdGVPYmplY3RTdG9yZShlLlhMLHtrZXlQYXRoOlwiaWRcIn0pfSxyLm9uc3VjY2Vzcz1mdW5jdGlvbigpe3ZhciBlPXIucmVzdWx0O3QucmVzb2x2ZShlKX0sci5vbmVycm9yPWZ1bmN0aW9uKGUpe3QucmVqZWN0KGUpfSx0LlRlfSxlLnByb3RvdHlwZS5qYz1mdW5jdGlvbigpe3ZhciBlPXRoaXM7aWYodGhpcy5lTSlyZXR1cm4gdGhpcy5lTTt2YXIgdD1uLmRlZmVyKCk7aWYodGhpcy5FaCl0LnJlc29sdmUobmV3IGgudE0odGhpcy5FaCkpO2Vsc2UgaWYoYS5uYy5iaSYmdGhpcy5pbmRleGVkREIpe3ZhciByPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtlLnRlLndhcm4oXCJbSGl2ZUNvbW1dIHRpbWVvdXQgcmV0cmlldmluZyBwZXJzaXN0ZW50IElEIC0gZ2VuZXJhdGluZyByYW5kb20gb25lXCIpLGUuRWg9ZS5yTSgpLGUudGUuZGVidWcoXCJbSGl2ZUNvbW1dIEdlbmVyYXRlZCBVVUlEOiBcIitlLkVoKSx0LnJlc29sdmUobmV3IGgudE0oZS5FaCkpfSw0ZTMpO3RyeXt2YXIgaT10aGlzLiRMKCk7aS50aGVuKGZ1bmN0aW9uKGkpe3ZhciBuPWkudHJhbnNhY3Rpb24oZS5YTCxcInJlYWR3cml0ZVwiKSxzPW4ub2JqZWN0U3RvcmUoZS5YTCksbz1zLmdldChcIk1ZSURcIik7by5vbnN1Y2Nlc3M9ZnVuY3Rpb24oKXtpZihjbGVhclRpbWVvdXQociksZS5FaCl0LnJlc29sdmUobmV3IGgudE0oZS5FaCkpO2Vsc2UgaWYobnVsbCE9by5yZXN1bHQmJmEubmMuYmkpe3ZhciBuPW8ucmVzdWx0LnZhbHVlO2UudGUuZGVidWcoXCJbSGl2ZUNvbW1dIFJldHJpZXZlZCBwZXJzaXN0ZW50IFVVSUQ6IFwiK24pLGUuRWg9bixpLmNsb3NlKCksdC5yZXNvbHZlKG5ldyBoLnRNKGUuRWgpKX1lbHNle3ZhciBzPWUuck0oKTtlLmlNKGkscyksdC5yZXNvbHZlKG5ldyBoLnRNKGUuRWgpKX19LG8ub25lcnJvcj1mdW5jdGlvbihpKXtjbGVhclRpbWVvdXQociksZS5FaHx8KGUudGUud2FybihcIltIaXZlQ29tbV0gZXJyb3IgcmV0cmlldmluZyBwZXJzaXN0ZW50IFVVSUQ6IFwiK2kpLGUuRWg9ZS5yTSgpLGUudGUuZGVidWcoXCJbSGl2ZUNvbW1dIEdlbmVyYXRlZCBVVUlEOiBcIitlLkVoKSksdC5yZXNvbHZlKG5ldyBoLnRNKGUuRWgpKX19KS5mYWlsKGZ1bmN0aW9uKGkpe2NsZWFyVGltZW91dChyKSxlLkVofHwoZS50ZS53YXJuKFwiW0hpdmVDb21tXSBlcnJvciBvcGVuaW5nIGluZGV4ZWREQiAtIGdlbmVyYXRpbmcgcmFuZG9tIGlkLiBFcnJvcjogXCIraSksZS5FaD1lLnJNKCksZS50ZS5kZWJ1ZyhcIltIaXZlQ29tbV0gR2VuZXJhdGVkIFVVSUQ6IFwiK2UuRWgpKSx0LnJlc29sdmUobmV3IGgudE0oZS5FaCkpfSl9Y2F0Y2goZSl7dGhpcy5FaD10aGlzLnJNKCksdGhpcy50ZS5kZWJ1ZyhcIltIaXZlQ29tbV0gUGVyc2lzdGVuY2UgZXJyb3IgLSBHZW5lcmF0ZSBVVUlEOiBcIit0aGlzLkVoLGUpLHQucmVzb2x2ZShuZXcgaC50TSh0aGlzLkVoKSl9fWVsc2UgdGhpcy5FaD10aGlzLnJNKCksdGhpcy50ZS5kZWJ1ZyhcIltIaXZlQ29tbV0gUGVyc2lzdGVuY2UgZGlzYWJsZWQgLSBHZW5lcmF0ZSBVVUlEOiBcIit0aGlzLkVoKSx0LnJlc29sdmUobmV3IGgudE0odGhpcy5FaCkpO3JldHVybiB0aGlzLmVNPXQuVGUsdGhpcy5lTX0sZS5wcm90b3R5cGUuaU09ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLGk9ZS50cmFuc2FjdGlvbih0aGlzLlhMLFwicmVhZHdyaXRlXCIpO2kub2JqZWN0U3RvcmUodGhpcy5YTCkucHV0KHtpZDpcIk1ZSURcIix2YWx1ZTp0fSksaS5vbmNvbXBsZXRlPWZ1bmN0aW9uKCl7ci50ZS5kZWJ1ZyhcIltIaXZlQ29tbV0gY29tcGxldGVkIFVVSUQgcGVyc2lzdGVuY2VcIiksZS5jbG9zZSgpfSx0aGlzLnRlLmRlYnVnKFwiW0hpdmVDb21tXSBHZW5lcmF0ZWQgVVVJRDogXCIrdCksdGhpcy5FaD10fSxlLnByb3RvdHlwZS5yTT1mdW5jdGlvbigpe3JldHVybiBzLkZBKCl9LGV9KCk7dC5uTT1jO3ZhciB1PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gZS5jYWxsKHRoaXMpfHx0aGlzfXJldHVybiBpKHQsZSksdC5wcm90b3R5cGUuamM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO2lmKHRoaXMuc00pcmV0dXJuIHRoaXMuc007dmFyIHI9bi5kZWZlcigpO3JldHVybiBlLnByb3RvdHlwZS5qYy5jYWxsKHRoaXMpLnRoZW4oZnVuY3Rpb24oZSl7dmFyIGk9dC5yTSgpLG49ZS5ZYygpLHM9bmV3IGgudE0oaSxuKTtyLnJlc29sdmUocyl9KS5mYWlsKGZ1bmN0aW9uKGUpe3ZhciBpPXQuck0oKSxuPW5ldyBoLnRNKGkpO3IucmVzb2x2ZShuKX0pLHRoaXMuc009ci5UZSx0aGlzLnNNfSx0fShjKTt0Lm9NPXV9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGUucHJvdG90eXBlLmFNPWZ1bmN0aW9uKGUpe3RoaXMuaG9zdG5hbWU9ZX0sZS5wcm90b3R5cGUuT3M9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ob3N0bmFtZX0sZS5wcm90b3R5cGUuaE09ZnVuY3Rpb24oZSl7dGhpcy5jTT1lfSxlLnByb3RvdHlwZS5RaD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNNfSxlfSgpO3QudU09aX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXIoMiksbj1yKDApLHM9cig5KSxvPXIoMTE4KSxhPXIoNCksaD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLm1uPVwiW1ByZWxvYWRDb25uZWN0aXZpdHlJbmZvUHJvdmlkZXJdIFwiLHRoaXMuY29ubkluZm89d2luZG93LmxNLHRoaXMudGU9bi5GcmFtZXdvcmsucmVzb2x2ZShuLkZyYW1ld29yay5xLkkpLmxvZygpLHRoaXMucE09bi5GcmFtZXdvcmsucmVzb2x2ZShzLlFzLnhzKSx0aGlzLmNvbm5JbmZvfHxhLkVycm9yTW9uaXRvci5naSgpLmRpKFwiaGVscGVyIHVuZGVmaW5lZFwiLHRoaXMubW4pLHRoaXMuZk0oKX1yZXR1cm4gZS5wcm90b3R5cGUuZk09ZnVuY3Rpb24oKXt2YXIgZT1uZXcgby5kTTt0aGlzLnBNLmhNKGUpfSxlLnByb3RvdHlwZS5HaD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBNfSxlLnByb3RvdHlwZS5WaD1mdW5jdGlvbigpe3ZhciBlPXRoaXM7aWYoIXRoaXMuY29ubkluZm8pcmV0dXJuIGkucmVqZWN0KFwiQ29ubkluZm8gaGVscGVyIHVuZGVmaW5lZFwiKTt2YXIgdD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cmV0dXJuIGUudGUud2FybihlLm1uK1wiR2V0IGNvbm5lY3Rpdml0eSBpbmZvIGV4cGlyZWRcIiksZS5wTT9pLnJlc29sdmUoZS5wTSk6aS5yZWplY3QoXCJleHBpcmVkXCIpfSwyZTMpO3RyeXtyZXR1cm4gdGhpcy5jb25uSW5mby5WaCgpLnRoZW4oZnVuY3Rpb24ocil7cmV0dXJuIGNsZWFyVGltZW91dCh0KSxlLnBNPXIscn0pLmZhaWwoZnVuY3Rpb24odCl7cmV0dXJuIGUudGUuZGVidWcoZS5tbitcIiBnZXQgY29ubmVjdGl2aXR5IGluZm8gZmFpbGVkIHdpdGggZXJyb3IgMTogXCIsdCksZS5wTT9lLnBNOmkucmVqZWN0KHQpfSl9Y2F0Y2goZSl7cmV0dXJuIHRoaXMudGUuZGVidWcodGhpcy5tbitcIiBnZXQgY29ubmVjdGl2aXR5IGluZm8gZmFpbGVkIHdpdGggZXJyb3IgMjpcIixlKSxpLnJlamVjdChlKX19LGUucHJvdG90eXBlLmdNPWZ1bmN0aW9uKGUsdCxyKXt9LGV9KCk7dC52TT1ofSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlLnByb3RvdHlwZS55TT1mdW5jdGlvbihlKXt0aGlzLnB1YmxpY0lwPWV9LGUucHJvdG90eXBlLktoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHVibGljSXB9LGUucHJvdG90eXBlLm1NPWZ1bmN0aW9uKGUpe3RoaXMuRU09ZX0sZS5wcm90b3R5cGUuV2g9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5FTX0sZS5wcm90b3R5cGUuVE09ZnVuY3Rpb24oZSl7dGhpcy5uaWM9ZX0sZS5wcm90b3R5cGUuemg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uaWN9LGUucHJvdG90eXBlLklNPWZ1bmN0aW9uKGUpe3RoaXMubmljTmFtZT1lfSxlLnByb3RvdHlwZS5KaD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm5pY05hbWV9LGUucHJvdG90eXBlLndNPWZ1bmN0aW9uKGUpe3RoaXMucHJpdmF0ZUlwPWV9LGUucHJvdG90eXBlLkNzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHJpdmF0ZUlwfSxlLnByb3RvdHlwZS5TTT1mdW5jdGlvbihlKXt0aGlzLm5ldG1hc2s9ZX0sZS5wcm90b3R5cGUuUk09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uZXRtYXNrfSxlLnByb3RvdHlwZS5iTT1mdW5jdGlvbihlKXt0aGlzLlBNPWV9LGUucHJvdG90eXBlLlloPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LGV9KCk7dC5BTT1pfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9cigyKSxuPXIoMSkscz1yKDApLG89cig5KSxhPXIoNzgpLGg9cigxMTkpLGM9cig4KSx1PXIoMjQpLGw9cig1MikscD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLkNNPW51bGwsdGhpcy5rTT1udWxsLHRoaXMuT009bnVsbCx0aGlzLl9NPW51bGwsdGhpcy5OTT1uZXcgbix0aGlzLnB1YmxpY0lwPW51bGwsdGhpcy5ETT1bXSx0aGlzLnhuPSExLHRoaXMuRk09bnVsbCx0aGlzLnRlPXMuRnJhbWV3b3JrLnJlc29sdmUocy5GcmFtZXdvcmsucS5JKS5sb2coKSx0aGlzLnBNPXMuRnJhbWV3b3JrLnJlc29sdmUoby5Rcy54cyksdGhpcy5MTT1uZXcgaC5NTSx0aGlzLkJNPVtdLHRoaXMuZk0oKSx0aGlzLlVNKCl9cmV0dXJuIGUucHJvdG90eXBlLmZNPWZ1bmN0aW9uKCl7dmFyIGU9bmV3IGEuQU07dGhpcy5wTS5oTShlKX0sZS5wcm90b3R5cGUuVU09ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3MuRnJhbWV3b3JrLnNldEludGVydmFsKGZ1bmN0aW9uKCl7ZS5ETT1bXSxlLkJNPVtdLGUuTk09bmV3IG4sZS5wdWJsaWNJcD1udWxsLGUueE09bnVsbH0sMTJlNCl9LGUucHJvdG90eXBlLlZoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueE18fCh0aGlzLnhNPXRoaXMuSE0oKSksdGhpcy54TX0sZS5wcm90b3R5cGUuR2g9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wTX0sZS5wcm90b3R5cGUuSE09ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9aS5kZWZlcigpO2lmKHRoaXMuRk09cy5GcmFtZXdvcmsuc2V0VGltZW91dChmdW5jdGlvbigpe3QucmVqZWN0KHtxTTohMCxtZXNzYWdlOlwiZXhwaXJlZFwifSl9LDRlMyksYy5IaXZlQ29uZmlnLkNvbm5JbmZvLmRldGVjdFByaXZhdGVJUCYmdGhpcy5WTSgpKXRyeXt0aGlzLkNNPW5ldyBSVENQZWVyQ29ubmVjdGlvbihudWxsKSx0aGlzLk9NPXRoaXMuQ00uY3JlYXRlRGF0YUNoYW5uZWwoXCJzZW5kQ2hhbm5lbFwiLHtyZWxpYWJsZTohMX0pLHRoaXMua009bmV3IFJUQ1BlZXJDb25uZWN0aW9uKG51bGwpLHRoaXMua00ub25kYXRhY2hhbm5lbD1mdW5jdGlvbihyKXtlLl9NPXIuY2hhbm5lbCxlLl9NLm9ub3Blbj1mdW5jdGlvbihyKXtcIm9wZW5cIj09PWUuX00ucmVhZHlTdGF0ZSYmKGUudGUuZGVidWcoXCJDb2xsZWN0ZWQgaXBzIFtcIitlLk5NLmtleXMoKS5qb2luKFwiLCBcIikrXCJdXCIpLGUua00uY2xvc2UoKSxlLkxNLmpNKCkudGhlbihmdW5jdGlvbih0KXtlLkJNPXQsZS50ZS5kZWJ1ZyhcIkFscmVhZHkga25vd24gbWF0Y2hpbmcgaXBzIFtcIitlLkJNLmpvaW4oXCIsXCIpK1wiXVwiKTt2YXIgcj1lLk5NLmtleXMoKTtlLkJNLmZvckVhY2goZnVuY3Rpb24odCl7ci5pbmRleE9mKHQpPjAmJihlLkRNLnB1c2godCksZS5OTS5kZWxldGUodCkpfSksZS5OTS5rZXlzKCkuZm9yRWFjaChmdW5jdGlvbih0KXtlLkRNLnB1c2godCl9KX0pLmZhaWwoZnVuY3Rpb24odCl7ZS50ZS53YXJuKFwiR2V0IFByZXZpb3VzIHdvcmtpbmcgaXBzIGZhaWxlZCB3aXRoIGVycm9yIFwiK3QubWVzc2FnZSksZS5OTS5rZXlzKCkuZm9yRWFjaChmdW5jdGlvbih0KXtlLkRNLnB1c2godCl9KX0pLmZpbmFsbHkoZnVuY3Rpb24oKXtlLnRlLmRlYnVnKFwiRmluYWwgcHJpdmF0ZSBpcCBsaXN0IFtcIitlLkRNLmpvaW4oXCIsXCIpK1wiXVwiKSx0LnJlc29sdmUoZS5HTSgpKX0pKX19LHRoaXMuQ00ub25pY2VjYW5kaWRhdGU9ZnVuY3Rpb24ocil7ci5jYW5kaWRhdGUmJmUuUU0oci5jYW5kaWRhdGUuY2FuZGlkYXRlKSwhci5jYW5kaWRhdGV8fGUua00uYWRkSWNlQ2FuZGlkYXRlKHIuY2FuZGlkYXRlKS5jYXRjaChmdW5jdGlvbihyKXt0LnJlamVjdCh7cU06ITAsbWVzc2FnZTpyLm1lc3NhZ2V9KSxzLkZyYW1ld29yay5jbGVhclRpbWVvdXQoZS5GTSksY29uc29sZS5sb2coXCJFcnJvcjogRmFpbHVyZSBkdXJpbmcgYWRkSWNlQ2FuZGlkYXRlKClcIil9KX0sdGhpcy5rTS5vbmljZWNhbmRpZGF0ZT1mdW5jdGlvbihyKXtyLmNhbmRpZGF0ZSYmZS5RTShyLmNhbmRpZGF0ZS5jYW5kaWRhdGUpLCFyLmNhbmRpZGF0ZXx8ZS5DTS5hZGRJY2VDYW5kaWRhdGUoci5jYW5kaWRhdGUpLmNhdGNoKGZ1bmN0aW9uKHIpe3QucmVqZWN0KHtxTTohMCxtZXNzYWdlOnIubWVzc2FnZX0pLHMuRnJhbWV3b3JrLmNsZWFyVGltZW91dChlLkZNKSxjb25zb2xlLmxvZyhcIkVycm9yOiBGYWlsdXJlIGR1cmluZyBhZGRJY2VDYW5kaWRhdGUoKVwiKX0pfSx0aGlzLkNNLmNyZWF0ZU9mZmVyKCkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gZS5DTS5zZXRMb2NhbERlc2NyaXB0aW9uKHQpfSkudGhlbihmdW5jdGlvbigpe3JldHVybiBlLmtNLnNldFJlbW90ZURlc2NyaXB0aW9uKGUuQ00ubG9jYWxEZXNjcmlwdGlvbil9KS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGUua00uY3JlYXRlQW5zd2VyKCl9KS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBlLmtNLnNldExvY2FsRGVzY3JpcHRpb24odCl9KS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGUuQ00uc2V0UmVtb3RlRGVzY3JpcHRpb24oZS5rTS5sb2NhbERlc2NyaXB0aW9uKX0pLmNhdGNoKGZ1bmN0aW9uKHIpe3QucmVqZWN0KHtxTTohMCxtZXNzYWdlOnIubWVzc2FnZX0pLHMuRnJhbWV3b3JrLmNsZWFyVGltZW91dChlLkZNKSxjb25zb2xlLmxvZyhcIkVycm9yOiBGYWlsdXJlIGNyZWF0aW5nIG9mZmVyXCIpfSl9Y2F0Y2goZSl7dC5yZWplY3Qoe3FNOiEwLG1lc3NhZ2U6ZS5tZXNzYWdlfSl9ZWxzZXtzLkZyYW1ld29yay5jbGVhclRpbWVvdXQodGhpcy5GTSk7dmFyIHI9Yy5IaXZlQ29uZmlnLkNvbm5JbmZvLmRldGVjdFByaXZhdGVJUD9cIndlYnJ0YyBkYXRhY2hhbm5lbCBub3Qgc3VwcG9ydGVkXCI6XCJwcml2YXRlIElQIGRldGVjdGlvbiBkaXNhYmxlZFwiO3QucmVqZWN0KHtxTTohMSxtZXNzYWdlOnJ9KX1yZXR1cm4gdC5UZX0sZS5wcm90b3R5cGUuVk09ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIG51bGwhPWwuQ2EmJm51bGwhPWwudF8mJlwiZnVuY3Rpb25cIj09dHlwZW9mIG5ldyBSVENQZWVyQ29ubmVjdGlvbihudWxsLG51bGwpLmNyZWF0ZURhdGFDaGFubmVsfWNhdGNoKGUpe3JldHVybiExfX0sZS5wcm90b3R5cGUuUU09ZnVuY3Rpb24oZSl7dmFyIHQ9LyhbMC05XXsxLDN9KFxcLlswLTldezEsM30pezN9KS8scj10LmV4ZWMoZSk7aWYocil7dmFyIGk9clswXTt0aGlzLk5NLnNldChpLCEwKX19LGUucHJvdG90eXBlLkdNPWZ1bmN0aW9uKCl7dmFyIGU9bmV3IGEuQU07cmV0dXJuIHRoaXMuRE0ubGVuZ3RoPjAmJmUud00odGhpcy5ETVswXSksdGhpcy5wdWJsaWNJcCYmZS55TSh0aGlzLnB1YmxpY0lwKSx0aGlzLnBNLmhNKGUpLHRoaXMucE19LGUucHJvdG90eXBlLmdNPWZ1bmN0aW9uKGUsdCxyKXtpZih0aGlzLnB1YmxpY0lwPWUsdGhpcy5LTSgpLDA9PT1yJiZ0aGlzLkRNLmxlbmd0aD4xKXRoaXMuRE0uc2hpZnQoKTtlbHNlIGlmKHUubmMuTWkmJjAhPT1yJiYtMT09dGhpcy5CTS5pbmRleE9mKHRoaXMuRE1bMF0pKXRoaXMuQk0udW5zaGlmdCh0aGlzLkRNWzBdKSx0aGlzLkxNLllNKHRoaXMuQk0uc2xpY2UoMCwyKSk7ZWxzZSBpZih1Lm5jLk1pJiYwIT09ciYmdGhpcy5CTS5pbmRleE9mKHRoaXMuRE1bMF0pPjApe3ZhciBpPXRoaXMuQk0uaW5kZXhPZih0aGlzLkRNWzBdKTt0aGlzLkJNPXRoaXMuQk0uc3BsaWNlKGksMSksdGhpcy5CTS51bnNoaWZ0KHRoaXMuRE1bMF0pLHRoaXMuTE0uWU0odGhpcy5CTS5zbGljZSgwLDIpKX10aGlzLkdNKCl9LGUucHJvdG90eXBlLktNPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5ETS5pbmRleE9mKHRoaXMucHVibGljSXApO2U+LTEmJnRoaXMuRE0uc3BsaWNlKGUsMSl9LGV9KCk7dC56TT1wfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9dGhpcyYmdGhpcy5Oc3x8ZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiByKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfWZvcih2YXIgaSBpbiB0KXQuaGFzT3duUHJvcGVydHkoaSkmJihlW2ldPXRbaV0pO2UucHJvdG90eXBlPW51bGw9PT10P09iamVjdC5jcmVhdGUodCk6KHIucHJvdG90eXBlPXQucHJvdG90eXBlLG5ldyByKX0sbj1yKDU0KSxzPXIoMTQwKSxvPXIoMTQ3KSxhPXIoMTApLGg9cigzMSksYz1yKDI4KSx1PXIoMCk7IWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCl7cmV0dXJuIHRoaXMuSk0odCl8fC0xIT10LmluZGV4T2YoZS5XTSl9ZnVuY3Rpb24gcih0KXtyZXR1cm4tMSE9dC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoZS5YTS50b0xvd2VyQ2FzZSgpKX1lLlpNPTEsZS4kTT0yLGUuZUI9MmUzLGUudEI9M2U0LGUuckI9MWU0LGUuaUI9ITAsZS5uQj0hMCxlLnNCPTUwMCxlLm9CPTEwLGUuYUI9MyxlLlhNPVwiKGZvcm1hdD1tcGQtdGltZS1jc2YpXCIsZS5XTT1cIi5tNHNcIixlLmhCPVwiLmlzbS9cIixlLmNCPXQsZS5KTT1yO3ZhciBsPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIG4ocixpKXt2YXIgbj10LmNhbGwodGhpcyxpKXx8dGhpcztyZXR1cm4gbi5VbD0wLG4udUI9ITAsbi50aWNrZXQ9cixuLmxCPXIuX0EoKSxuLnBCPW4ubEIudG9Mb3dlckNhc2UoKS5zdWJzdHJpbmcoMCxuLmxCLmluZGV4T2YoZS5oQikpLG4uZkI9bmV3IG8uZEIsbi5nQj1uZXcgcy52QihpLnNlc3Npb25JZCksbn1yZXR1cm4gaShuLHQpLG4ucHJvdG90eXBlLkFrPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGlja2V0fSxuLnByb3RvdHlwZS5TXz1mdW5jdGlvbigpe3JldHVybiBTdHJlYW1Qcm90b2NvbC55Qn0sbi5wcm90b3R5cGUuQ049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sQn0sbi5wcm90b3R5cGUud049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nQi53TigpfSxuLnByb3RvdHlwZS5pc0xpdmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nQi5tQigpfSxuLnByb3RvdHlwZS5STj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmZCfSxuLnByb3RvdHlwZS4kdT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLll1KGUpO2lmKHQ9PWEuV3MuWXN8fHQ9PWEuV3MuS3MpcmV0dXJuITB9LG4ucHJvdG90eXBlLll1PWZ1bmN0aW9uKGUpe2lmKHIoZSkpcmV0dXJuIGEuV3MuenM7aWYodGhpcy5FQihlKSlyZXR1cm4gYS5Xcy5Kczt2YXIgdD10aGlzLmdCLlRCKGUpO3JldHVybiBudWxsIT10P3QudHlwZTotMSE9ZS5pbmRleE9mKFwiYXVkaW9cIik/YS5Xcy5LczphLldzLkpzfSxuLnByb3RvdHlwZS5iTj1mdW5jdGlvbihlKXt2YXIgdD10aGlzLll1KGUpLHI9MCxpPTAsbj0wLHM9ITAsbz0hMTtpZih0aGlzLkVCKGUpKXM9ITA7ZWxzZSBpZih0IT1hLldzLnpzKXt2YXIgYz10aGlzLmdCLlRCKGUpO251bGwhPWM/KHI9Yy5kdXJhdGlvbixpPWMuYml0cmF0ZSxuPWMuaWQsbz10aGlzLiR1KGUpKToodGhpcy5zaygpLHRoaXMudGUud2FybihcImNvdWxkIG5vdCBleHRyYWN0IHNlZ21lbnQgaW5mbyBmb3IgXCIrZSkpfWVsc2Ugcz0hMTt2YXIgdT1NYXRoLnJvdW5kKHIvMWU0KTtyZXR1cm4gbmV3IGguU1IoZSx0LHMsbix1LGksbyx0aGlzLktfKCkpfSxuLnByb3RvdHlwZS5jaz1mdW5jdGlvbihlKXt2YXIgdD1lLnVybCxyPXRoaXMuZ0IuSUIodCk7cmV0dXJuIG51bGwhPXI/dGhpcy5iTihyLndCKTpudWxsfSxuLnByb3RvdHlwZS5saz1mdW5jdGlvbigpe3JldHVybiB0LnByb3RvdHlwZS5HXy5jYWxsKHRoaXMsZS5aTSxlLiRNKX0sbi5wcm90b3R5cGUuU049ZnVuY3Rpb24odCl7dmFyIGk9dC51cmwsbj1pLnRvTG93ZXJDYXNlKCk7aWYoaT09PXRoaXMubEIpcmV0dXJuITA7aWYobnVsbCE9dGhpcy5nQiYmdGhpcy5nQi5FQihpKSlyZXR1cm4hMDtpZihyKGkpJiZ0aGlzLmdCLlNCIT09aSlyZXR1cm4hMTt2YXIgcz1uLmluZGV4T2YoZS5oQik7cmV0dXJuISEodGhpcy5sQiYmcz4tMSYmbi5zdWJzdHJpbmcoMCxzKT09PXRoaXMucEIpfSxuLnByb3RvdHlwZS5QTj1mdW5jdGlvbihlKXt2YXIgdD1lLlJCLHI9ZS5WdS51cmwsaT10aGlzLmdCLnBhcnNlKHIsdCxlLlZ1Lm1JKTtlLlZ1LnJlc3BvbnNlVGV4dD1pLGUuVnUucmVzcG9uc2U9aSx0aGlzLnFfLnpDKCksdGhpcy5iQigpfSxuLnByb3RvdHlwZS5BTj1mdW5jdGlvbihlKXt2YXIgcj10aGlzO3QucHJvdG90eXBlLkFOLmNhbGwodGhpcyxlKSxlLll1KCkhPT1hLldzLllzJiZlLll1KCkhPT1hLldzLktzfHwoZS5ZdSgpPT09YS5Xcy5ZcyYmdGhpcy5mQi5QQihlKSx0aGlzLmdCLkFOKGUpLnRoZW4oZnVuY3Rpb24odCl7dCYmci5iQigpLGUuWXUoKT09YS5Xcy5ZcyYmci5xXy5IQyhlLlF1KX0pLmRvbmUoKSl9LG4ucHJvdG90eXBlLktfPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGlja2V0LkJBKCl9LG4ucHJvdG90eXBlLllfPWZ1bmN0aW9uKGUscil7dmFyIGk9ZTtyZXR1cm4gaS5RXz11LkZyYW1ld29yay50aW1lKCksdC5wcm90b3R5cGUuWV8uY2FsbCh0aGlzLGkscil9LG4ucHJvdG90eXBlLnlrPWZ1bmN0aW9uKGUsdCxyLGkpe3JldHVybiB0aGlzLmdCLnlrKGUsdCxyLGkpfSxuLnByb3RvdHlwZS5FQj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5nQi5FQihlKX0sbi5wcm90b3R5cGUuYkI9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuZ0IuQUI/dGhpcy5nQi5BQi5DQigpLnRoZW4oZnVuY3Rpb24ocil7aWYocil0LnVCPSEwLHQudGUuZGVidWcoXCJQcm90ZWN0aW9uIGV2YWx1YXRpb246IGNhbiBkZWNyeXB0XCIpO2Vsc2V7dmFyIGk9XCJQcm90ZWN0aW9uIGV2YWx1YXRpb246IGNhbm5vdCBkZWNyeXB0IFtcIisoZS5pQj9cImVycm9yXCI6XCJkaXNhYmxlZFwiKStcIl1cIjtlLm5CPyh0LnVCPSEwLHQudGUuZGVidWcoaStcIiwgbWV0YWRhdGEgcHJlZmV0Y2ggZW5hYmxlZFwiKSk6dC50ZS53YXJuKGkrXCIsIG1ldGFkYXRhIHByZWZldGNoIERJU0FCTEVEXCIpfX0pLmRvbmUoKTp0aGlzLnRlLmRlYnVnKFwiUHJvdGVjdGlvbiBldmFsdWF0aW9uOiBub3QgZW5jcnlwdGVkXCIpfSxuLnByb3RvdHlwZS5zaz1mdW5jdGlvbigpe3RoaXMudUImJihudWxsPT10aGlzLmtCJiZ0aGlzLmdCLm1CKCk/dGhpcy5PQigpOnRoaXMudGUuZGVidWcoXCJEQVNIIFBSRS1GRVRDSElORyBNRVRBREFUQSBBTFJFQURZIFNDSEVEVUxFRCBPUiBOT1QgTElWRVwiKSl9LG4ucHJvdG90eXBlLklOPWZ1bmN0aW9uKCl7dGhpcy51QiYmbnVsbCE9dGhpcy5rQiYmdS5GcmFtZXdvcmsuY2xlYXJUaW1lb3V0KHRoaXMua0IpfSxuLnByb3RvdHlwZS5PQj1mdW5jdGlvbigpe3ZhciB0PXRoaXMscj12b2lkIDAhPXRoaXMuX0I/dGhpcy5fQjowLGk9ZS5lQixuPXIraSxzPU1hdGgubWF4KDEsbi11LkZyYW1ld29yay50aW1lKCkrZS5zQik7dGhpcy50ZS5kZWJ1ZyhcIkRBU0ggUFJFRkVUQ0hJTkcgTUVUQURBVEEgXCIrdGhpcy5nQi5TQitcIiBJTiBcIitzKSx0aGlzLmtCPXUuRnJhbWV3b3JrLnNldFRpbWVvdXQoZnVuY3Rpb24oKXt0Lk5CKHQuZ0IuU0IsdS5GcmFtZXdvcmsudGltZSgpKX0scyl9LG4ucHJvdG90eXBlLk5CPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5fQjtpZihudWxsPT1yJiYocj0wKSxyPnQpdGhpcy5PQigpO2Vsc2V7dmFyIGk9bmV3IGMuSGl2ZVJlcXVlc3QodGhpcy50aWNrZXQuc2Vzc2lvbklkKTtpLm9wZW4oXCJHRVRcIixlKSxpLm1JPSEwLGkuc2VuZCgpLHRoaXMua0I9bnVsbCx0aGlzLl9CPXUuRnJhbWV3b3JrLnRpbWUoKX19LG4ucHJvdG90eXBlLmtOPWZ1bmN0aW9uKGUpe3RoaXMuZ0IuYXV0aGVudGljYXRpb25Ub2tlbj1lfSxuLnByb3RvdHlwZS5naz1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuX0MoKSxpPXRoaXMuZ04oKSxuPXIuRVIoKSxzPXRoaXMuZ0IuREIobixyLklSKCksZSx0KSxvPXUuRnJhbWV3b3JrLnRpbWUoKS1pO3JldHVybiBNYXRoLm1heCgwLHMtbyl9LG4ucHJvdG90eXBlLlROPWZ1bmN0aW9uKCl7cmV0dXJuIGUuckJ9LG4ucHJvdG90eXBlLktDPWZ1bmN0aW9uKGUsdCxyKXt2YXIgaT10aGlzLmdCLkZCKGUsdCk7cmV0dXJuIG51bGwhPWk/bmV3IGguU1IoaS53QixyLCEwLGUsaS5kdXJhdGlvbix0LCEwLHRoaXMuS18oKSk6bnVsbH0sbi5wcm90b3R5cGUudms9ZnVuY3Rpb24oKXtyZXR1cm4gZS50Qn0sbn0obi5PTik7ZS5MQj1sfSh0LnlCfHwodC55Qj17fSkpfSxmdW5jdGlvbihlLHQscil7dmFyIGk9ZnVuY3Rpb24oZSx0LHIpe2Z1bmN0aW9uIGkoZSl7dmFyIHQ9ZS5sb2NhbE5hbWU7cmV0dXJuIG51bGw9PXQmJih0PWUuTUIpLG51bGwhPXQmJlwiXCIhPXR8fCh0PWUubm9kZU5hbWUpLHR9ZnVuY3Rpb24gbihlKXtyZXR1cm4gZS5wcmVmaXh9ZnVuY3Rpb24gcyhlKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZT9lLnJlcGxhY2UoLyYvZyxcIiZhbXA7XCIpLnJlcGxhY2UoLzwvZyxcIiZsdDtcIikucmVwbGFjZSgvPi9nLFwiJmd0O1wiKS5yZXBsYWNlKC9cIi9nLFwiJnF1b3Q7XCIpLnJlcGxhY2UoLycvZyxcIiYjeDI3O1wiKS5yZXBsYWNlKC9cXC8vZyxcIiYjeDJGO1wiKTplfWZ1bmN0aW9uIG8oZSl7cmV0dXJuIGUucmVwbGFjZSgvJmFtcDsvZyxcIiZcIikucmVwbGFjZSgvJmx0Oy9nLFwiPFwiKS5yZXBsYWNlKC8mZ3Q7L2csXCI+XCIpLnJlcGxhY2UoLyZxdW90Oy9nLCdcIicpLnJlcGxhY2UoLyYjeDI3Oy9nLFwiJ1wiKS5yZXBsYWNlKC8mI3gyRjsvZyxcIi9cIil9ZnVuY3Rpb24gYShzKXtpZihzLm5vZGVUeXBlPT1FLkRPQ1VNRU5UX05PREUpe3ZhciBoLGMsdSxsPXMuZmlyc3RDaGlsZDtmb3IoYz0wLHU9cy5jaGlsZE5vZGVzLmxlbmd0aDtjPHU7Yys9MSlpZihzLmNoaWxkTm9kZXNbY10ubm9kZVR5cGUhPT1FLkNPTU1FTlRfTk9ERSl7bD1zLmNoaWxkTm9kZXNbY107YnJlYWt9aWYociloPWEobCk7ZWxzZXtoPXt9O3ZhciBwPWkobCk7aFtwXT1hKGwpfXJldHVybiBofWlmKHMubm9kZVR5cGU9PUUuRUxFTUVOVF9OT0RFKXt2YXIgaD1uZXcgT2JqZWN0O2guQkI9MDtmb3IodmFyIGY9cy5jaGlsZE5vZGVzLGQ9MDtkPGYubGVuZ3RoO2QrKyl7dmFyIGw9Zi5pdGVtKGQpLHA9aShsKTtpZihoLkJCKyssbnVsbD09aFtwXSloW3BdPWEobCksaFtwK1wiX2FzQXJyYXlcIl09bmV3IEFycmF5KDEpLGhbcCtcIl9hc0FycmF5XCJdWzBdPWhbcF07ZWxzZXtpZihudWxsIT1oW3BdJiYhKGhbcF1pbnN0YW5jZW9mIEFycmF5KSl7dmFyIGc9aFtwXTtoW3BdPW5ldyBBcnJheSxoW3BdWzBdPWcsaFtwK1wiX2FzQXJyYXlcIl09aFtwXX1mb3IodmFyIHY9MDtudWxsIT1oW3BdW3ZdOyl2Kys7aFtwXVt2XT1hKGwpfX1mb3IodmFyIHk9MDt5PHMuYXR0cmlidXRlcy5sZW5ndGg7eSsrKXt2YXIgVD1zLmF0dHJpYnV0ZXMuaXRlbSh5KTtoLkJCKys7Zm9yKHZhciBJPVQudmFsdWUsdz0wLFM9ZS5sZW5ndGg7dzxTO3crKyl7dmFyIFI9ZVt3XTt0cnl7Ui50ZXN0LmNhbGwodGhpcyxUKSYmKEk9Ui5VQi5jYWxsKHRoaXMsVC52YWx1ZSkpfWNhdGNoKGUpe1IudGVzdC5jYWxsKHRoaXMsVCksY29uc29sZS5lcnJvcihlKX19aFt0K1QubmFtZV09SX12YXIgYj1uKHMpO3JldHVybiBudWxsIT1iJiZcIlwiIT1iJiYoaC5CQisrLGgueEI9YiksMT09aC5CQiYmbnVsbCE9aFtcIkhCXCJdJiYoaD1oW1wiSEJcIl0pLG51bGwhPWhbXCJIQlwiXSYmKGgucUI9aFtcIkhCXCJdLG0mJihoLnFCPW8oaC5xQikpLGRlbGV0ZSBoW1wiSEJcIl0sZGVsZXRlIGhbXCJWQlwiXSksbnVsbCE9aFtcImpCXCJdJiYoaC5HQj1oW1wiakJcIl0sZGVsZXRlIGhbXCJqQlwiXSxkZWxldGUgaFtcIlFCXCJdKSxudWxsPT1oLnFCJiZudWxsPT1oLkdCfHwoaC50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybihudWxsIT10aGlzLnFCP3RoaXMucUI6XCJcIikrKG51bGwhPXRoaXMuR0I/dGhpcy5HQjpcIlwiKX0pLGh9cmV0dXJuIHMubm9kZVR5cGU9PUUuVEVYVF9OT0RFfHxzLm5vZGVUeXBlPT1FLkNEQVRBX1NFQ1RJT05fTk9ERT9zLm5vZGVWYWx1ZTpzLm5vZGVUeXBlPT1FLkNPTU1FTlRfTk9ERT9udWxsOnZvaWQgMH1mdW5jdGlvbiBoKGUsdCxyLGkpe3ZhciBuPVwiPFwiKyhudWxsIT1lJiZudWxsIT1lLnhCP2UueEIrXCI6XCI6XCJcIikrdDtpZihudWxsIT1yKWZvcih2YXIgcz0wO3M8ci5sZW5ndGg7cysrKXt2YXIgbz1yW3NdLGE9ZVtvXTtuKz1cIiBcIitvLnN1YnN0cigxKStcIj0nXCIrYStcIidcIn1yZXR1cm4gbis9aT9cIi8+XCI6XCI+XCJ9ZnVuY3Rpb24gYyhlLHQpe3JldHVyblwiPC9cIisobnVsbCE9ZS54Qj9lLnhCK1wiOlwiOlwiXCIpK3QrXCI+XCJ9ZnVuY3Rpb24gdShlLHQpe3JldHVybi0xIT09ZS5pbmRleE9mKHQsZS5sZW5ndGgtdC5sZW5ndGgpfWZ1bmN0aW9uIGwoZSx0KXtyZXR1cm4hISh1KHQudG9TdHJpbmcoKSxcIl9hc0FycmF5XCIpfHwwPT10LnRvU3RyaW5nKCkuaW5kZXhPZihcIl9cIil8fGVbdF1pbnN0YW5jZW9mIEZ1bmN0aW9uKX1mdW5jdGlvbiBwKGUpe3ZhciB0PTA7aWYoZSBpbnN0YW5jZW9mIE9iamVjdClmb3IodmFyIHIgaW4gZSlsKGUscil8fHQrKztyZXR1cm4gdH1mdW5jdGlvbiBmKGUpe3ZhciB0PVtdO2lmKGUgaW5zdGFuY2VvZiBPYmplY3QpZm9yKHZhciByIGluIGUpLTE9PXIudG9TdHJpbmcoKS5pbmRleE9mKFwiX19cIikmJjA9PXIudG9TdHJpbmcoKS5pbmRleE9mKFwiX1wiKSYmdC5wdXNoKHIpO3JldHVybiB0fWZ1bmN0aW9uIGQoZSl7dmFyIHQ9XCJcIjtyZXR1cm4gbnVsbCE9ZS5HQiYmKHQrPVwiPCFbQ0RBVEFbXCIrZS5HQitcIl1dPlwiKSxudWxsIT1lLnFCJiYodCs9bT9zKGUucUIpOmUucUIpLHR9ZnVuY3Rpb24gZyhlKXt2YXIgdD1cIlwiO3JldHVybiBlIGluc3RhbmNlb2YgT2JqZWN0P3QrPWQoZSk6bnVsbCE9ZSYmKHQrPW0/cyhlKTplKSx0fWZ1bmN0aW9uIHYoZSx0LHIpe3ZhciBpPVwiXCI7aWYoMD09ZS5sZW5ndGgpaSs9aChlLHQsciwhMCk7ZWxzZSBmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKylpKz1oKGVbbl0sdCxmKGVbbl0pLCExKSxpKz15KGVbbl0pLGkrPWMoZVtuXSx0KTtyZXR1cm4gaX1mdW5jdGlvbiB5KGUpe3ZhciB0PVwiXCI7aWYocChlKT4wKWZvcih2YXIgciBpbiBlKWlmKCFsKGUscikpe3ZhciBpPWVbcl0sbj1mKGkpO2lmKG51bGw9PWl8fHZvaWQgMD09aSl0Kz1oKGkscixuLCEwKTtlbHNlIGlmKGkgaW5zdGFuY2VvZiBPYmplY3QpaWYoaSBpbnN0YW5jZW9mIEFycmF5KXQrPXYoaSxyLG4pO2Vsc2V7dmFyIHM9cChpKTtzPjB8fG51bGwhPWkucUJ8fG51bGwhPWkuR0I/KHQrPWgoaSxyLG4sITEpLHQrPXkoaSksdCs9YyhpLHIpKTp0Kz1oKGkscixuLCEwKX1lbHNlIHQrPWgoaSxyLG4sITEpLHQrPWcoaSksdCs9YyhpLHIpfXJldHVybiB0Kz1nKGUpfW51bGwhPT10JiZ2b2lkIDAhPT10fHwodD1cIl9cIiksbnVsbCE9PXImJnZvaWQgMCE9PXJ8fChyPSExKTt2YXIgbT0hMSxFPXtFTEVNRU5UX05PREU6MSxURVhUX05PREU6MyxDREFUQV9TRUNUSU9OX05PREU6NCxDT01NRU5UX05PREU6OCxET0NVTUVOVF9OT0RFOjl9O3RoaXMuS0I9ZnVuY3Rpb24oZSl7dmFyIHQ7aWYod2luZG93LkRPTVBhcnNlcil7dD0obmV3IHdpbmRvdy5ET01QYXJzZXIpLnBhcnNlRnJvbVN0cmluZyhlLFwidGV4dC94bWxcIil9ZWxzZSAwPT1lLmluZGV4T2YoXCI8P1wiKSYmKGU9ZS5zdWJzdHIoZS5pbmRleE9mKFwiPz5cIikrMikpLHQ9bmV3IEFjdGl2ZVhPYmplY3QoXCJNaWNyb3NvZnQuWE1MRE9NXCIpLHQuYXN5bmM9XCJmYWxzZVwiLHQuWUIoZSk7cmV0dXJuIHR9LHRoaXMuekI9ZnVuY3Rpb24oZSl7cmV0dXJuIGEoZSl9LHRoaXMuSkI9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5LQihlKTtyZXR1cm4gdGhpcy56Qih0KX0sdGhpcy5XQj1mdW5jdGlvbihlKXtyZXR1cm4geShlKX0sdGhpcy5YQj1mdW5jdGlvbihlKXt2YXIgdD10aGlzLldCKGUpO3JldHVybiB0aGlzLktCKHQpfSx0aGlzLmdldFZlcnNpb249ZnVuY3Rpb24oKXtyZXR1cm5cIjEuMC4xMVwifSx0aGlzLlpCPWZ1bmN0aW9uKGUpe209ZX19O2UudD1pfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxyLGksbil7dGhpcy5pZD1lLHRoaXMuYml0cmF0ZT10LHRoaXMuZHVyYXRpb249cix0aGlzLnVyaT1pLHRoaXMud0I9bn1yZXR1cm4gZX0oKTt0LiRCPWl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1yKDYpLG49cigyMikscz1yKDEwKSxvPXIoMCksYT1yKDMpLGg9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5lVT1uZXcgaS5mbi5aaSx0aGlzLnRVPW5ldyBpLmZuLlppLHRoaXMudGU9by5GcmFtZXdvcmsucmVzb2x2ZShvLkZyYW1ld29yay5xLkkpLmxvZygpfXJldHVybiBlLnByb3RvdHlwZS5yVT1mdW5jdGlvbihlLHQpe3ZhciByPTAsaT0tMSxzPWUuUXUuZHVyYXRpb247dGhpcy5lVS5WaSgpP2k9TWF0aC5tYXgoMTAsdGhpcy5lVS5ZaSh0KSk6dGhpcy50VS5WaSgpJiYoaT1NYXRoLm1heCgxMCx0aGlzLnRVLllpKHQpKSkscj1pPi0xP01hdGgubWF4KDAscy1pKmEubmkuR3QuanQpOnMvMixlLnR5cGU9PW4uVHUuRXUmJihyKj0yKTt2YXIgbz1NYXRoLm1heCh0aGlzLmlVKCkscik7cmV0dXJuIHRoaXMudGUuZGVidWcoXCJUSU1FUiBERVRBSUxTIGR1cmF0aW9uOiBcIitzK1wiIGxlZnQ6IFwiK3QrXCIgZG93blRpbWU6IFwiK2krXCIgZmFsbEF2ZzogXCIrdGhpcy5lVS5YaSgpK1wiIHRpbWVyOiBcIitvKSxvfSxlLnByb3RvdHlwZS5uVT1mdW5jdGlvbihlLHQpe3JldHVybiA1ZTN9LGUucHJvdG90eXBlLnNVPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVVLlZpKCk/TWF0aC5taW4odGhpcy5lVS5ZaShlKSx0aGlzLm9VKCkpOnRoaXMuYVUoKX0sZS5wcm90b3R5cGUuUEI9ZnVuY3Rpb24oZSl7aWYoZS5ZdSgpPT09cy5Xcy5Zcylzd2l0Y2goZS5LdSgpKXtjYXNlIG4uVHUuZ3U6Y2FzZSBuLlR1LmR1OmNhc2Ugbi5UdS52dTp0aGlzLmVVLktpKGUuaWwoKSk7YnJlYWs7Y2FzZSBuLlR1Lm11OmNhc2Ugbi5UdS5FdTp0aGlzLnRVLktpKGUuaWwoKSl9fSxlLnByb3RvdHlwZS5pVT1mdW5jdGlvbigpe3JldHVybiBlLmhVfSxlLnByb3RvdHlwZS5hVT1mdW5jdGlvbigpe3JldHVybiBlLmNVfSxlLnByb3RvdHlwZS5vVT1mdW5jdGlvbigpe3JldHVybiBlLnVVfSxlfSgpO2guaFU9NTAwLGgudVU9MTUwMCxoLmNVPTUwMCx0LmxVPWh9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT10aGlzJiZ0aGlzLk5zfHxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIHIoKXt0aGlzLmNvbnN0cnVjdG9yPWV9Zm9yKHZhciBpIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShpKSYmKGVbaV09dFtpXSk7ZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KTooci5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IHIpfSxuPXIoMSkscz1yKDU0KSxvPXIoMTQ4KSxhPXIoMTUxKSxoPXIoMCksYz1yKDI4KSx1PXIoMTApLGw9cigzMSkscD1yKDI3KTshZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0KXtyZXR1cm4gdGhpcy5KTSh0KXx8LTEhPXQuaW5kZXhPZihlLldNKX1mdW5jdGlvbiByKHQpe3JldHVybi0xIT10LnRvTG93ZXJDYXNlKCkuaW5kZXhPZihlLlhNLnRvTG93ZXJDYXNlKCkpfHwtMSE9dC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoZS5wVS50b0xvd2VyQ2FzZSgpKXx8LTEhPXQudG9Mb3dlckNhc2UoKS5pbmRleE9mKGUuZlUudG9Mb3dlckNhc2UoKSl9ZS5kVT0xLGUuZ1U9MixlLnZVPTNlNCxlLnlVPTRlMyxlLm1VPTUwMCxlLkVVPSEwLGUuVFU9MWU0LGUuSVU9MTYsZS53VT0zLGUuWE09XCIubTN1OFwiLGUucFU9XCIoZm9ybWF0PW0zdTgtYWFwbC12MylcIixlLmZVPVwiKHZpZGVvLGZvcm1hdD1tM3U4LWFhcGwtdjMsYXVkaW90cmFjaz1hdWRpbylcIixlLldNPVwiLnRzXCIsZS5jQj10LGUuSk09cjt2YXIgZj1mdW5jdGlvbih0KXtmdW5jdGlvbiBzKGUscixpKXt2YXIgcz10LmNhbGwodGhpcyxpKXx8dGhpcztyZXR1cm4gcy5TVT0hMSxzLlVsPTAscy5fQj1uZXcgbixzLmtCPW5ldyBuLHMudGlja2V0PWUscy5SVT1yLHImJihzLmJVPXMuUFUoZS5fQSgpKSkscy5sQj1lLkxBKCkscy5mQj1uZXcgYS5BVSxzLkNVPW5ldyBvLmtVLHN9cmV0dXJuIGkocyx0KSxzLnByb3RvdHlwZS5TXz1mdW5jdGlvbigpe3JldHVybiBTdHJlYW1Qcm90b2NvbC5PVX0scy5wcm90b3R5cGUuUFU9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5sYXN0SW5kZXhPZihcIi9cIik7cmV0dXJuIGUuc3Vic3RyKDAsdCl9LHMucHJvdG90eXBlLkFrPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGlja2V0fSxzLnByb3RvdHlwZS53Tj1mdW5jdGlvbigpe3JldHVybiB0aGlzLkNVLndOKCl9LHMucHJvdG90eXBlLmlzTGl2ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLkNVLmlzTGl2ZSgpfSxzLnByb3RvdHlwZS5STj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmZCfSxzLnByb3RvdHlwZS5LXz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRpY2tldC5CQSgpfSxzLnByb3RvdHlwZS5DTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxCfSxzLnByb3RvdHlwZS5TTj1mdW5jdGlvbihlKXt2YXIgdD1lLnVybD10aGlzLl9VKGUudXJsKTtyZXR1cm4gdD09PXRoaXMubEI/KHRoaXMuU1UmJnRoaXMudGUuZGVidWcoXCJTQU1FIE1BTklGRVNUIFwiK3QrXCIsXCIrdGhpcy5sQiksITApOm51bGwhPXRoaXMuQ1UmJnRoaXMuQ1UuTlUodCk/KHRoaXMuU1UmJnRoaXMudGUuZGVidWcoXCJDT1JSRUNUIFBMQVlMSVNUIFwiK3QrXCIsXCIrdGhpcy5sQiksITApOm51bGwhPXRoaXMuQ1UmJm51bGwhPXRoaXMuQ1UuVEIodCk/KHRoaXMuU1UmJnRoaXMudGUuZGVidWcoXCJDT1JSRUNUIFNFR01FTlQgXCIrdCtcIixcIit0aGlzLmxCKSwhMCk6ISghcih0KXx8dGhpcy5DVS5EVSgpPT09dCkmJih0aGlzLlNVJiZ0aGlzLnRlLmRlYnVnKFwiRklSU1QgUkVRVUVTVCBGT1IgTUFOSUZFU1QgXCIrdCtcIixcIit0aGlzLmxCKSwhMSl9LHMucHJvdG90eXBlLl9VPWZ1bmN0aW9uKGUpe3JldHVybiBwKGUpLnBJKCkudG9TdHJpbmcoKX0scy5wcm90b3R5cGUuWXU9ZnVuY3Rpb24oZSl7cmV0dXJuIHIoZSk/dS5Xcy56czpudWxsIT10aGlzLkNVLlRCKGUpP3UuV3MuWXM6dS5Xcy5Kc30scy5wcm90b3R5cGUuJHU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5ZdShlKTtpZih0PT11LldzLllzfHx0PT11LldzLktzKXJldHVybiEwfSxzLnByb3RvdHlwZS5iTj1mdW5jdGlvbihlKXt2YXIgdD1lLHI9dGhpcy5ZdSh0KSxpPTAsbj0wLHM9MCxvPSEwO2lmKHIhPXUuV3MuenMpe3ZhciBhPXRoaXMuQ1UuVEIodCk7bnVsbCE9YSYmKGk9YS5kdXJhdGlvbixuPWEuYml0cmF0ZSxzPWEuaWQpfWVsc2UgaWYobz0hMSxudWxsIT10aGlzLkNVJiZ0aGlzLkNVLkZVLmhhcyh0KSl7dmFyIG49dGhpcy5DVS5GVS5nZXQodCkuYml0cmF0ZTt0aGlzLl9CLnNldChuLGguRnJhbWV3b3JrLnRpbWUoKSl9cmV0dXJuIG5ldyBsLlNSKHQscixvLHMsaSxuLHRoaXMuJHUodCksdGhpcy5LXygpKX0scy5wcm90b3R5cGUuS0M9ZnVuY3Rpb24oZSx0LHIpe3ZhciBpPXRoaXMuQ1UuRkIoZSx0KTtyZXR1cm4gbnVsbCE9aT9uZXcgbC5TUihpLndCLHIsITAsZSxpLmR1cmF0aW9uLHQsITAsdGhpcy5LXygpKTpudWxsfSxzLnByb3RvdHlwZS5QTj1mdW5jdGlvbihlKXt2YXIgdD1lLlJCLHI9ZS5XdSgpLGk9dGhpcy5DVS5wYXJzZShyLHQpO2lmKHRoaXMuQ1UuRlUuaGFzKHIpKXt2YXIgbj10aGlzLkNVLkZVLmdldChyKTt0aGlzLnFfLnpDKG4uYml0cmF0ZSl9ZS5WdS5yZXNwb25zZT1pLGUuVnUucmVzcG9uc2VUZXh0PWl9LHMucHJvdG90eXBlLkFOPWZ1bmN0aW9uKGUpe3QucHJvdG90eXBlLkFOLmNhbGwodGhpcyxlKSxlLll1KCkhPXUuV3MuenMmJmUuWXUoKSE9dS5Xcy5KcyYmKHRoaXMuZkIuUEIoZSksZS5ZdSgpPT11LldzLllzJiZ0aGlzLnFfLkhDKGUuUXUpKX0scy5wcm90b3R5cGUuWV89ZnVuY3Rpb24oZSxyKXt2YXIgaT1lO3JldHVybiBpLlFfPWguRnJhbWV3b3JrLnRpbWUoKSx0LnByb3RvdHlwZS5ZXy5jYWxsKHRoaXMsaSxyKX0scy5wcm90b3R5cGUuc2s9ZnVuY3Rpb24odCl7aWYoZS5FVSl7bnVsbD09dGhpcy5rQi5nZXQodCkmJnRoaXMuQ1UuaXNMaXZlKCk/dGhpcy5PQih0KTp0aGlzLnRlLmRlYnVnKFwiSExTIFBSRS1GRVRDSElORyBNRVRBREFUQSBBTFJFQURZIFNDSEVEVUxFRCBPUiBNSVNTSU5HIEhMUyBJTkZPXCIpfX0scy5wcm90b3R5cGUuT0I9ZnVuY3Rpb24odCl7dmFyIHI9dGhpcyxpPXRoaXMuQ1UuTFUuZ2V0KHQpO2lmKG51bGwhPWkpe3ZhciBuPXRoaXMuX0IuaGFzKHQpLHM9dGhpcy5fQi5nZXQodCksbz1uP3M6MCxhPW51bGwhPWkuTVU/aS5NVVtpLk1VLmxlbmd0aC0xXS5kdXJhdGlvbjplLnlVLGM9bythLHU9TWF0aC5tYXgoMSxjLWguRnJhbWV3b3JrLnRpbWUoKStlLm1VKTt0aGlzLnRlLmluZm8oXCJITFMgUFJFRkVUQ0hJTkcgTUVUQURBVEEgXCIraS53QitcIiBCSVRSQVRFIFwiK3QrXCIgSU4gXCIrdSk7dmFyIGw9aC5GcmFtZXdvcmsuc2V0VGltZW91dChmdW5jdGlvbigpe3IuTkIodCxpLndCLGguRnJhbWV3b3JrLnRpbWUoKSl9LHUpO3RoaXMua0Iuc2V0KHQsbCl9ZWxzZSB0aGlzLnRlLndhcm4oXCJOTyBTVFJFQU0gV0lUSCBCVCBcIit0KX0scy5wcm90b3R5cGUuTkI9ZnVuY3Rpb24oZSx0LHIpe3ZhciBpPXRoaXMuX0IuZ2V0KGUpO2lmKG51bGw9PWkmJihpPTApLGk+cil0aGlzLk9CKGUpO2Vsc2V7dmFyIG49bmV3IGMuSGl2ZVJlcXVlc3QodGhpcy50aWNrZXQuc2Vzc2lvbklkKTtuLm9wZW4oXCJHRVRcIix0KSxuLm1JPSEwLG4uc2VuZCgpLHRoaXMua0IuZGVsZXRlKGUpLHRoaXMuX0Iuc2V0KGUsaC5GcmFtZXdvcmsudGltZSgpKX19LHMucHJvdG90eXBlLklOPWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLmtCLmtleXMoKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciByPWUua0IuZ2V0KHQpO2guRnJhbWV3b3JrLmNsZWFyVGltZW91dChyKSxlLmtCLmRlbGV0ZSh0KX0pfSxzLnByb3RvdHlwZS5saz1mdW5jdGlvbigpe3JldHVybiB0LnByb3RvdHlwZS5HXy5jYWxsKHRoaXMsZS5kVSxlLmdVKX0scy5wcm90b3R5cGUuY2s9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS51cmwscj10aGlzLkNVLklCKHQpO3JldHVybiBudWxsIT1yP3RoaXMuYk4oci53Qik6bnVsbH0scy5wcm90b3R5cGUueWs9ZnVuY3Rpb24oZSx0LHIsaSl7cmV0dXJuIHItZX0scy5wcm90b3R5cGUudms9ZnVuY3Rpb24oKXtyZXR1cm4gZS52VX0scy5wcm90b3R5cGUuVE49ZnVuY3Rpb24oKXtyZXR1cm4gZS5UVX0scy5wcm90b3R5cGUuZ2s9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLl9DKCksaT10aGlzLmdOKCksbj1yLkVSKCkscz0wO2lmKGU+bilmb3IodmFyIG89dGhpcy5DVS5GQihuLHQpO28mJm8uaWQ8ZTspcys9by5kdXJhdGlvbix0aGlzLnRlLmRlYnVnKFwiU2VnbWVudCBkdXJhdGlvbiBcIitvLmR1cmF0aW9uK1wiIHRvdGFsIG1zZWMgXCIrcytcInNlZ21lbnQgaWQgXCIrby5pZCksbz1vLm5leHQ7dmFyIGE9aC5GcmFtZXdvcmsudGltZSgpLWk7cmV0dXJuIE1hdGgubWF4KDAscy1hKX0sc30ocy5PTik7ZS5CVT1mfSh0Lk9VfHwodC5PVT17fSkpfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9cigxKSxuPXIoMikscz1yKDApLG89cig4NiksYT1yKDU3KSxoPXIoODcpLGM9cig0KSx1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuVVU9XCJbQ0FDSEVdXCIsdGhpcy54VT1uZXcgaSx0aGlzLkhVPS0xLHRoaXMucVU9W10sdGhpcy50ZT1zLkZyYW1ld29yay5yZXNvbHZlKHMuRnJhbWV3b3JrLnEuSSkubG9nKCl9cmV0dXJuIGUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oZSx0KXt0aGlzLlZVPWUsdGhpcy5qVT10fSxlLnByb3RvdHlwZS5wdXQ9ZnVuY3Rpb24oZSl7dmFyIHQ9bi5kZWZlcigpO3RyeXt2YXIgcj1lLnp1KCksaT1lLnh1LHM9ZS5IdSxjPWUuTXUuU3UtMSx1PWUuTXUuU3U7LTE9PXRoaXMuSFUmJnRoaXMuR1UoKTt2YXIgbD1udWxsLHA9ITE7aWYodGhpcy54VS5oYXMocikpe2w9dGhpcy54VS5nZXQocik7dmFyIGY9bmV3IGEuRUQoMCxjLHUpO3A9ITAsbC5jb250ZW50LmZvckVhY2goZnVuY3Rpb24oZSx0KXtpZihhLndELklEKHQpLm1EKGYpKXJldHVybiB2b2lkKHA9ITEpfSl9ZWxzZXt2YXIgZD1uZXcgYS5FRCgwLGMsdSkudG9TdHJpbmcoKTtsPW5ldyBoLlFVKGUuUXUpLGUuS1UmJihsLllVPWUuS1UuSWsuVGspLGwuY29udGVudC5zZXQoZCxuZXcgby56VSh1LHMsZS5NdSxlLkt1KCkpKSx0aGlzLnhVLnNldChyLGwpLHA9ITAsdGhpcy5xVS51bnNoaWZ0KHIpfW51bGw9PWwuaGVhZGVycyYmbnVsbCE9aSYmKGwuaGVhZGVycz1pKSx0LnJlc29sdmUocCl9Y2F0Y2goZSl7dC5yZWplY3QoXCJDQUNIRSBQVVQgRVJST1IgXCIrZSl9cmV0dXJuIHQuVGV9LGUucHJvdG90eXBlLmdldD1mdW5jdGlvbihlKXt2YXIgdD1uLmRlZmVyKCk7dHJ5e3ZhciByPXRoaXMueFUuZ2V0KGUpO2lmKG51bGwhPXIpe3ZhciBpPW51bGw7ci5jb250ZW50LmZvckVhY2goZnVuY3Rpb24oZSx0KXtpZihhLndELklEKHQpLnZEKCkpcmV0dXJuIGk9ZSxpLmhlYWRlcnM9ci5oZWFkZXJzLHZvaWQoaS5ZVT1yLllVKX0pLHQucmVzb2x2ZShpKX1lbHNlIHQucmVzb2x2ZShudWxsKX1jYXRjaChlKXt0LnJlamVjdChcIkNBQ0hFIEdFVCBFUlJPUiBcIitlKX1yZXR1cm4gdC5UZX0sZS5wcm90b3R5cGUuaGs9ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiB0aGlzLnhVLmtleXMoKX1jYXRjaChlKXtjLkVycm9yTW9uaXRvci5naSgpLmRpKFwiR0VUIEtFWVMgRVJST1JcIix0aGlzLlVVLGUpfX0sZS5wcm90b3R5cGUuSlU9ZnVuY3Rpb24oZSl7dmFyIHQ9bi5kZWZlcigpO3RyeXt0LnJlc29sdmUodGhpcy54VS52YWx1ZXMoKSl9Y2F0Y2goZSl7dC5yZWplY3QoXCJDQUNIRSBHRVQgRUxFTUVOVFMgRVJST1IgXCIrZSl9cmV0dXJuIHQuVGV9LGUucHJvdG90eXBlLmNvbnRhaW5zPWZ1bmN0aW9uKGUpe3ZhciB0PW4uZGVmZXIoKTt0cnl7dGhpcy54VS5oYXMoZSk/dC5yZXNvbHZlKCEwKTp0LnJlc29sdmUoITEpfWNhdGNoKGUpe3QucmVqZWN0KFwiQ0FDSEUgQ09OVEFJTlMgRVJST1IgXCIrZSl9cmV0dXJuIHQuVGV9LGUucHJvdG90eXBlLkdVPWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLldVKCksdGhpcy50ZS5kZWJ1Zyh0aGlzLlVVK1wiIFN0YXJ0aW5nIGNhY2hlIHBlcmlvZGljIHB1cmdlXCIpLHRoaXMuSFU9cy5GcmFtZXdvcmsuc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtlLm0oKX0sdGhpcy5qVSl9LGUucHJvdG90eXBlLldVPWZ1bmN0aW9uKCl7LTEhPXRoaXMuSFUmJih0aGlzLnRlLmRlYnVnKHRoaXMuVVUrXCIgU3RvcHBpbmcgY2FjaGUgcGVyaW9kaWMgcHVyZ2VcIikscy5GcmFtZXdvcmsuY2xlYXJJbnRlcnZhbCh0aGlzLkhVKSx0aGlzLkhVPS0xKX0sZS5wcm90b3R5cGUubT1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dHJ5e3ZhciB0PTAscj0wLGk9MDt0aGlzLnRlLmRlYnVnKHRoaXMuVVUrXCIgUlVOTklORyBHQ1wiKSx0aGlzLnFVLmV2ZXJ5KGZ1bmN0aW9uKGksbil7dmFyIHM9ZS54VS5nZXQoaSkuc2l6ZSgpO3JldHVybiB0K3M+ZS5WVT8ocj1uLCExKToodCs9cywhMCl9KXx8KGk9dGhpcy5xVS5sZW5ndGgtcix0aGlzLnFVLnNwbGljZShyLHRoaXMucVUubGVuZ3RoLTEpLmZvckVhY2goZnVuY3Rpb24odCl7ZS54VS5kZWxldGUodCl9KSksdGhpcy50ZS5kZWJ1Zyh0aGlzLlVVK1wiIEdDIERPTkUgLSBSRU1PVkVEOiBcIitpK1wiIC0gQ1VSUkVOVCBJVEVNUzogXCIrdGhpcy54VS5sZW5ndGgrXCIgU0laRTogXCIrdCtcIiBcIiksMD09PXRoaXMueFUubGVuZ3RoJiYodGhpcy50ZS5kZWJ1Zyh0aGlzLlVVK1wiIENhY2hlIGNvbnRhaW5zIG5vIGl0ZW1zLCBzdG9wcGluZyBwdXJnZSB0aW1lclwiKSx0aGlzLldVKCkpfWNhdGNoKGUpe2MuRXJyb3JNb25pdG9yLmdpKCkuZGkoXCJQVVJHRSBGQUlMRURcIix0aGlzLlVVLGUpfX0sZS5wcm90b3R5cGUuWFU9ZnVuY3Rpb24oKXt0aGlzLnhVPW5ldyBpLHRoaXMucVU9W119LGUucHJvdG90eXBlLlpVPWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLnhVLmZvckVhY2goZnVuY3Rpb24odCxyKXtlLnRlLmRlYnVnKFwiRUlEPVwiK3IpLHQuY29udGVudC5mb3JFYWNoKGZ1bmN0aW9uKHQscil7ZS50ZS5kZWJ1ZyhcIlxcdFJBTkdFIFwiLHIpfSl9KX0sZX0oKTt0LiRVPXV9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0LHIsaSl7dGhpcy5sZW5ndGg9ZSx0aGlzLmRhdGE9dCx0aGlzLk11PXIsdGhpcy5leD1pfXJldHVybiBlfSgpO3QuelU9aX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXIoNTcpLG49cigxKSxzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLmhlYWRlcnM9bnVsbCx0aGlzLllVPW51bGwsdGhpcy50eD0wLHRoaXMuaXg9ITEsdGhpcy5RdT1lLHRoaXMuY29udGVudD1uZXcgbn1yZXR1cm4gZS5wcm90b3R5cGUuc2l6ZT1mdW5jdGlvbigpe3ZhciBlPTA7cmV0dXJuIHRoaXMuY29udGVudC5mb3JFYWNoKGZ1bmN0aW9uKHQscil7ZSs9aS53RC5JRChyKS5zaXplKCl9KSxlfSxlfSgpO3QuUVU9c30sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiOyFmdW5jdGlvbihlKXtlW2Uubng9MF09XCJBTExcIixlW2UuQVM9MV09XCJBU1wiLGVbZS5oQz0yXT1cIlNJVEVcIn0odC5zeHx8KHQuc3g9e30pKX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXIoMCksbj1yKDIzKSxzPXIoMyksbz1yKDExKSxhPXIoMiksaD1yKDEpLGM9cig1NSksdT1yKDE2OCksbD1yKDQpLHA9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5veD0hMSx0aGlzLm1uPVwiW1VEUExlYWRlckVsZWN0aW9uXSBcIix0aGlzLkhsPWkuRnJhbWV3b3JrLnJlc29sdmUoaS5GcmFtZXdvcmsucS5GKSx0aGlzLmF4PW5ldyBoLHRoaXMuaHg9bmV3IGgsdGhpcy51eD1uZXcgaCx0aGlzLmx4PW5ldyBoLHRoaXMucHg9bmV3IGgsdGhpcy5neD1bXX1yZXR1cm4gZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbihlKXt0aGlzLnZ4PWUsdGhpcy50ZT1pLkZyYW1ld29yay5yZXNvbHZlKGkuRnJhbWV3b3JrLnEuSSkubG9nKGUuc2Vzc2lvbklkKSx0aGlzLndDPWUud0MsdGhpcy55eD1lLnl4LHRoaXMuUkM9ZS5SQ30sZS5wcm90b3R5cGUubXg9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLGk9YS5kZWZlcigpO3RyeXtpZih0aGlzLm94KXt2YXIgbj1udWxsO2UudW8mJihuPWUudW8pO3ZhciBzPW5ldyB1LkV4KGUuZ3VpZCxlLmNvLG4sZS5zbyk7aWYodGhpcy5heC5oYXMocy5Daykpe3ZhciBvPXRoaXMuYXguZ2V0KHMuQ2spO28uVHg9PXMuVHgmJm8uSXg9PXMuSXg/aS5yZXNvbHZlKCk6KHRoaXMuYXguc2V0KHMuQ2sscyksdGhpcy53eCgpLHRoaXMuU3gocykudGhlbihmdW5jdGlvbigpe2kucmVzb2x2ZSgpfSkuZmFpbChmdW5jdGlvbihlKXtyLmF4LmRlbGV0ZShzLkNrKSxyLnd4KCksaS5yZWplY3QoZSl9KSl9ZWxzZSB0PyhzLlJ4PXQsdGhpcy50ZS5pbmZvKHRoaXMubW4rXCIgTkVXIE1FTUJFUiBHVUlEIFwiK3MuQ2srXCIgUkFOS0lORyBcIitzLlR4K1wiIExFQURFUiBcIitzLkl4KSx0aGlzLmF4LnNldChzLkNrLHMpLHRoaXMud3goKSx0aGlzLlN4KHMpLnRoZW4oZnVuY3Rpb24oKXtyLmJ4KHIuYXguZ2V0KHMuQ2spKSxpLnJlc29sdmUoKX0pLmZhaWwoZnVuY3Rpb24oZSl7ci5heC5kZWxldGUocy5Dayksci53eCgpLGkucmVqZWN0KGUpfSkpOnRoaXMuUHgocykudGhlbihmdW5jdGlvbihlKXtzLlJ4PWUsci50ZS5pbmZvKHIubW4rXCIgTkVXIE1FTUJFUiBHVUlEIFwiK3MuQ2srXCIgUkFOS0lORyBcIitzLlR4K1wiIExFQURFUiBcIitzLkl4KSxyLmF4LnNldChzLkNrLHMpLHIud3goKSxyLlN4KHMpLnRoZW4oZnVuY3Rpb24oKXtpLnJlc29sdmUoKX0pLmZhaWwoZnVuY3Rpb24oZSl7ci5heC5kZWxldGUocy5Dayksci53eCgpLGkucmVqZWN0KGUpfSl9KS5mYWlsKGZ1bmN0aW9uKGUpe2kucmVqZWN0KGUpfSl9ZWxzZSBpLnJlamVjdChcIkxFQURFUiBFTEVDVElPTiBOT1QgU1RBUlRFRCBZRVRcIil9Y2F0Y2goZSl7aS5yZWplY3QoXCJUUklHR0VSIExFQURFUiBFTEVDVElPTiBFUlJPUiBcIitlKX1yZXR1cm4gaS5UZX0sZS5wcm90b3R5cGUuYng9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IG8ucG8oby5acy5LLG51bGwpO3QuZ3VpZD1lLkNrLHQuc289ZS5JeCx0LmNvPWUuVHg7dmFyIHI9W3RdO3RoaXMueXguQXgociwhMSl9LGUucHJvdG90eXBlLlB4PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1hLmRlZmVyKCk7cmV0dXJuIHRoaXMubHguaGFzKGUuQ2spfHx0aGlzLnV4LmhhcyhlLkNrKT9yLnJlamVjdChmLkN4KToodGhpcy5seC5zZXQoZS5DayxEYXRlLm5vdygpKSx0aGlzLkhsLmNvbm5lY3QoZS5DaykudGhlbihmdW5jdGlvbihpKXt2YXIgbj1pLkJsLkRsKHQudnguc3dhcm1JZCk7bnVsbD09bj8obj1pLkJsLkFsKHQudnguc3dhcm1JZCksdC5reChuKS50aGVuKGZ1bmN0aW9uKCl7ci5yZXNvbHZlKGkpfSkuZmFpbChmdW5jdGlvbihlKXtyLnJlamVjdChlKX0pLmRvbmUoKSk6dC5weC5nZXQoZS5Dayk/ci5yZXNvbHZlKGkpOih0Lmx4LmRlbGV0ZShlLkNrKSx0Lmt4KG4pLnRoZW4oZnVuY3Rpb24oKXtyLnJlc29sdmUoaSl9KS5mYWlsKGZ1bmN0aW9uKGUpe3IucmVqZWN0KGUpfSkuZG9uZSgpKX0pLmZhaWwoZnVuY3Rpb24oaSl7dC5seC5kZWxldGUoZS5Dayksci5yZWplY3QoaSl9KS5kb25lKCkpLHIuVGV9LGUucHJvdG90eXBlLmt4PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1hLmRlZmVyKCksbz1uZXcgbi5tdS5Nci5ucC5PeDtvLkNrPXRoaXMuX3guQ2ssby5UeD10aGlzLl94LlR4LG8uc289dGhpcy5feC5JeCxvLk54PXRoaXMuX3guTngsdGhpcy50ZS5kZWJ1Zyh0aGlzLm1uK1wiTVNHIHV1aWQgXCIrby5DaytcIiByYW5rVmFsdWUgXCIrby5UeCtcIiBpc0xlYWRlciBcIitvLnNvK1wiIHN0cmVhbSBpZCBcIitvLk54KTt2YXIgaD1pLkZyYW1ld29yay5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5EeChlLl9sKX0scy5uaS5VRFBCcm9hZGNhc3QuVnIpO3JldHVybiB0aGlzLnV4LnNldChlLl9sLHtGeDpoLGRlZmVyOnJ9KSxlLmpsKG4ubXUuUmwuZ2wsbyksci5UZX0sZS5wcm90b3R5cGUuRHg9ZnVuY3Rpb24oZSl7aWYodGhpcy51eC5oYXMoZSkpe3RoaXMudGUuZGVidWcodGhpcy5tbitcIiBIQU5EU0hBS0UgUkVRIEVYUElSRUQgVE8gXCIrZSk7dmFyIHQ9dGhpcy51eC5nZXQoZSk7dGhpcy51eC5kZWxldGUoZSksdC5kZWZlci5yZWplY3QoXCJFWFBJUkVEXCIpfX0sZS5wcm90b3R5cGUuTHg9ZnVuY3Rpb24oZSx0KXt0cnl7dGhpcy50ZS5kZWJ1Zyh0aGlzLm1uK1wiSEFORFNIQUtFIFJFU1AgUkVDRUlWRUQgRlJPTSBcIit0Ll9sKTt2YXIgcj10Ll9sLG49dGhpcy51eC5nZXQocik7aS5GcmFtZXdvcmsuY2xlYXJUaW1lb3V0KG4uRngpLHRoaXMudXguZGVsZXRlKHIpLG4uZGVmZXIucmVzb2x2ZSh0KX1jYXRjaChlKXtsLkVycm9yTW9uaXRvci5naSgpLmRpKFwiSEFORFNIQUtFIFJFU1BPTlNFIFJFQ0VJVkVEIEZBSUxFRFwiLHRoaXMubW4sZSl9fSxlLnByb3RvdHlwZS5NeD1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7dHJ5e3ZhciBpPW5ldyBvLnBvKG8uWnMuSyxudWxsLGUuc28pO2lmKGkuZ3VpZD1lLkNrLGkuY289ZS5UeCxlLk54PT09dGhpcy53Qy5LXygpKXt2YXIgbj10LkJsLkRsKHRoaXMudnguc3dhcm1JZCk7dGhpcy5weC5zZXQoZS5DayxlLkNrKSx0aGlzLkJ4KG4sXCJPS1wiKSx0aGlzLm14KGksdCkudGhlbihmdW5jdGlvbigpe30pLmZhaWwoZnVuY3Rpb24oZSl7bC5FcnJvck1vbml0b3IuZ2koKS5kaShcIkxFQURFUiBFTEVDVElPTiBGQUlMRURcIixyLm1uLGUpfSl9fWNhdGNoKGUpe2wuRXJyb3JNb25pdG9yLmdpKCkuZGkoXCJIQU5EU0hBS0UgUkVRVUVTVCBGQUlMRURcIix0aGlzLm1uLGUpfX0sZS5wcm90b3R5cGUuQng9ZnVuY3Rpb24oZSx0KXt2YXIgcj1uZXcgbi5tdS5Nci5ucC52bDtyLmFjY2VwdD10LGUuamwobi5tdS5SbC52bCxyKSx0aGlzLnRlLmRlYnVnKHRoaXMubW4rXCJTRU5EIEhBTkRTSEFLRSBSRVNQT05TRSBUTyBcIitlLl9sKX0sZS5wcm90b3R5cGUuU3g9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWEuZGVmZXIoKTtpZih0aGlzLlV4KCkpe3ZhciBpPSExO3RoaXMudGUuaW5mbyh0aGlzLm1uK1wiSSBIQVZFIFRIRSBISUdIRVNUIFNDT1JFXCIpLGUuSXgmJiF0aGlzLmh4LmhhcyhlLkNrKSYmKGk9ITAsdGhpcy50ZS5pbmZvKHRoaXMubW4rXCJTRU5EIFNXSVRDSCBSRVFVRVNUIFRPIFwiK2UuQ2spLHRoaXMueHgoZSkudGhlbihmdW5jdGlvbigpe3IucmVzb2x2ZSgpfSkuZmFpbChmdW5jdGlvbihlKXszPT1lLkh4Pyh0LnRlLmRlYnVnKHQubW4rXCIgU1dJVENIIFJFUVVFU1QgV0FTIENBTkNFTEVELlwiKSxyLnJlc29sdmUoKSk6KGUuSHg9MikmJnIucmVqZWN0KGUpfSkpLHRoaXMuX3guSXh8fG51bGw9PXRoaXMucXh8fHRoaXMucXguQ2s9PWUuQ2t8fHRoaXMuaHguaGFzKHRoaXMucXguQ2spfHwodGhpcy50ZS5pbmZvKFwiU0VORCBTV0lUQ0ggUkVRVUVTVCBUTyBUSEUgQUxSRUFEWSBLTk9XTiBMRUFERVJcIiksaT0hMCx0aGlzLnh4KHRoaXMucXgpLnRoZW4oZnVuY3Rpb24oKXtyLnJlc29sdmUoKX0pLmZhaWwoZnVuY3Rpb24oZSl7Mz09ZS5IeD8odC50ZS5kZWJ1Zyh0Lm1uK1wiIFNXSVRDSCBSRVFVRVNUIFdBUyBDQU5DRUxFRC5cIiksci5yZXNvbHZlKCkpOihlLkh4PTIpJiZyLnJlamVjdChlKX0pKSxudWxsIT10aGlzLnF4fHxlLkl4fHx0aGlzLl94Lkl4fHwwIT10aGlzLmh4Lmxlbmd0aHx8KHRoaXMudGUuaW5mbyh0aGlzLm1uK1wiQkVDT01FIExFQURFUlwiKSx0aGlzLlZ4KCkpLGl8fHIucmVzb2x2ZSgpfWVsc2UgdGhpcy5qeChlKT8odGhpcy50ZS5pbmZvKHRoaXMubW4rXCJQRUVSIFwiK2UuQ2srXCIgSEFTIFRIRSBISUdIRVNUIFNDT1JFXCIpLHRoaXMuR3goKSx0aGlzLl94Lkl4JiZlLkl4JiZ0aGlzLnN0ZXBEb3duKCksdGhpcy5ReChlKSxyLnJlc29sdmUoKSk6ci5yZXNvbHZlKCk7cmV0dXJuIHIuVGV9LGUucHJvdG90eXBlLlF4PWZ1bmN0aW9uKGUpe3RyeXt0aGlzLnRlLmluZm8odGhpcy5tbitcIlVQREFURSBUSEUgTEVBREVSU0hJUFwiKSxudWxsIT10aGlzLnF4JiZ0aGlzLmF4Lmhhcyh0aGlzLnF4LkNrKSYmKHRoaXMuYXguZ2V0KHRoaXMucXguQ2spLkl4PSExKSx0aGlzLmF4LmhhcyhlLkNrKT8odGhpcy5heC5nZXQoZS5DaykuVHg9ZS5UeCx0aGlzLnF4PWUsdGhpcy5heC5nZXQoZS5DaykuSXg9ITApOih0aGlzLnRlLndhcm4odGhpcy5tbitcIlNFVCBBIExFQURFUiBUSEFUIElTIE5PVCBBIExBTiBNRU1CRVIgTElTVC4gU0hPVUxEIE5FVkVSIEhBUFBFTlwiKSx0aGlzLmF4LnNldChlLkNrLGUpLHRoaXMucXg9ZSksdGhpcy53Qy5LeChlKSx0aGlzLnRlLmluZm8odGhpcy5tbitcIk5FVyBLTk9XTiBMRUFERVIgXCIrdGhpcy53Qy5raygpLkNrKX1jYXRjaChlKXtsLkVycm9yTW9uaXRvci5naSgpLmRpKGUsdGhpcy5tbil9fSxlLnByb3RvdHlwZS5zdGVwRG93bj1mdW5jdGlvbigpe3RoaXMudGUuaW5mbyh0aGlzLm1uK1wiU1RFUCBET1dOXCIpLHRoaXMuX3guSXg9ITEsdGhpcy53Qy5ZeCghMSkscy5uaS5kci5yciYmKHRoaXMuUkMuengoKSx0aGlzLlJDLkp4KCExKSl9LGUucHJvdG90eXBlLkd4PWZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXMuaHgua2V5cygpLHQ9MCxyPWU7dDxyLmxlbmd0aDt0Kyspe3ZhciBuPXJbdF0scz10aGlzLmh4LmdldChuKTt0aGlzLmh4LmRlbGV0ZShuKSxpLkZyYW1ld29yay5jbGVhclRpbWVvdXQocy5GeCkscy5kZWZlci5yZWplY3Qoe0h4OjMsbWVzc2FnZTpcIkNBTkNFTEVEIFBFTkRJTkcgUkVTUE9OU0VTXCJ9KX19LGUucHJvdG90eXBlLmp4PWZ1bmN0aW9uKGUpe3JldHVybiBlLkNrPT10aGlzLmd4WzBdLkNrfSxlLnByb3RvdHlwZS5VeD1mdW5jdGlvbigpe3JldHVybiB1LkV4LkRwKHRoaXMuX3gsdGhpcy5neFswXSk8MH0sZS5wcm90b3R5cGUud3g9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgYyh0aGlzLmF4LnZhbHVlcygpKSx0PWUuUm8odS5FeC5EcCk7ZS5wdXNoKHRoaXMuX3gpLHRoaXMud0MuV3godCk7dmFyIHI9bmV3IGModGhpcy5heC52YWx1ZXMoKSk7dGhpcy5neD1yLlJvKHUuRXguRHApfSxlLnByb3RvdHlwZS5YeD1mdW5jdGlvbihlKXt0aGlzLlp4KGUpfSxlLnByb3RvdHlwZS5aeD1mdW5jdGlvbihlKXt0aGlzLnRlLmluZm8odGhpcy5tbitcIkVWQUxVQVRFIFRIRSBTV0lUQ0ggUkVRVUVTVCBGUk9NIFwiK2UuQ2spO3ZhciB0PXZvaWQgMDt0aGlzLmF4LmhhcyhlLkNrKT90PXRoaXMuYXguZ2V0KGUuQ2spOnRoaXMudGUud2FybihcIkkgUkVDRUlWRUQgQSBTV0lUQ0ggUkVRVUVTVCBGUk9NIEFOIFVOS05PV04gTUVNQkVSLiBUSElTIFNIT1VMRCBORVZFUiBIQVBQRU5cIiksdCYmKHRoaXMuX3guSXg/dGhpcy5VeCgpP3RoaXMuJHgodCwhMSk6KHRoaXMuc3RlcERvd24oKSx0aGlzLkd4KCksdGhpcy5ReCh0KSx0aGlzLiR4KHQsITApKTp0aGlzLmp4KHQpPyh0aGlzLlF4KHQpLHRoaXMuJHgodCwhMCkpOnRoaXMuJHgodCwhMSkpfSxlLnByb3RvdHlwZS4keD1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7dGhpcy5lSChlLlJ4LHQpLnRoZW4oZnVuY3Rpb24oKXt9KS5mYWlsKGZ1bmN0aW9uKGUpe2wuRXJyb3JNb25pdG9yLmdpKCkuZGkoXCJTRU5EIFNXSVRDSCBSRVNQT05TRSBFUlJPUlwiLHIubW4sZSl9KS5kb25lKCl9LGUucHJvdG90eXBlLmVIPWZ1bmN0aW9uKGUsdCl7dmFyIHI9YS5kZWZlcigpLGk9bmV3IG4ubXUuTXIubnAudEg7cmV0dXJuIGkub2s9dCxlLkJsLkRsKHRoaXMudnguc3dhcm1JZCkuamwobi5tdS5SbC5tbCxpKSxyLlRlfSxlLnByb3RvdHlwZS54eD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9YS5kZWZlcigpO3JldHVybiB0aGlzLnJIKGUuUngpLnRoZW4oZnVuY3Rpb24oaSl7dC5pSChpLGUpLHIucmVzb2x2ZSgpfSkuZmFpbChmdW5jdGlvbihlKXtyLnJlamVjdChlKX0pLmRvbmUoKSxyLlRlfSxlLnByb3RvdHlwZS5pSD1mdW5jdGlvbihlLHQpe3RyeXtlPyh0aGlzLmF4LmdldCh0LkNrKS5JeD0hMSx0aGlzLnF4PXRoaXMuX3gsdGhpcy5WeCgpKToodGhpcy5HeCgpLHRoaXMuYXguZ2V0KHQuQ2spLkl4PSEwLHRoaXMuc3RlcERvd24oKSx0aGlzLlF4KHQpKX1jYXRjaChlKXtsLkVycm9yTW9uaXRvci5naSgpLmRpKFwiSEFORExFIExFQURFUlNISVAgU1dJVENIIFJFU1BPTlNFIEVSUk9SXCIsdGhpcy5tbixlKX19LGUucHJvdG90eXBlLm5IPWZ1bmN0aW9uKGUsdCl7aWYodGhpcy5oeC5oYXModCkpe3ZhciByPXRoaXMuaHguZ2V0KHQpO2kuRnJhbWV3b3JrLmNsZWFyVGltZW91dChyLkZ4KSx0aGlzLmh4LmRlbGV0ZSh0KSxyLmRlZmVyLnJlc29sdmUoZS5vayl9ZWxzZSB0aGlzLnRlLndhcm4odGhpcy5tbitcIiBTV0lUQ0ggTEVBREVSU0hJUCBSRVNQT05TRSBSRUNFSVZFRCBGUk9NIFVOS05PV04gUEVFUiBcIit0KX0sZS5wcm90b3R5cGUuckg9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWEuZGVmZXIoKSxvPW5ldyBuLm11Lk1yLm5wLnlsO28uQ2s9dGhpcy5feC5DayxvLlR4PXRoaXMuX3guVHgsdGhpcy50ZS5kZWJ1Zyh0aGlzLm1uK1wiU1dJVENIIExFQURFUlNISVAgUkVRVUVTVCBUTyBcIitlLl9sKTt2YXIgaD1pLkZyYW1ld29yay5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5zSChlLl9sKX0scy5uaS5VRFBCcm9hZGNhc3QucXIpO3RoaXMuaHguc2V0KGUuX2wse0Z4OmgsZGVmZXI6cn0pO3ZhciBjPWUuQmwuRGwodGhpcy52eC5zd2FybUlkKTtyZXR1cm4gaS5GcmFtZXdvcmsuc2V0VGltZW91dChmdW5jdGlvbigpe2Muamwobi5tdS5SbC55bCxvKX0sMSksci5UZX0sZS5wcm90b3R5cGUuc0g9ZnVuY3Rpb24oZSl7aWYodGhpcy5oeC5oYXMoZSkpe3RoaXMudGUuaW5mbyh0aGlzLm1uK1wiIFNXSVRDSCBMRUFERVJTSElQIEVYUElSRUQgVE8gXCIrZSk7dmFyIHQ9dGhpcy5oeC5nZXQoZSk7dGhpcy5oeC5kZWxldGUoZSksdC5kZWZlci5yZWplY3Qoe0h4OjIsbWVzc2FnZTpcIkVYUElSRURcIn0pfX0sZS5wcm90b3R5cGUuVng9ZnVuY3Rpb24oKXt0aGlzLnRlLmluZm8odGhpcy5tbitcIkJFQ09NSU5HIExBTiBMRUFERVJcIiksbnVsbCE9dGhpcy5xeCYmdGhpcy5heC5oYXModGhpcy5xeC5DaykmJih0aGlzLmF4LmdldCh0aGlzLnF4LkNrKS5JeD0hMSksdGhpcy5feC5JeD0hMCx0aGlzLnF4PXRoaXMuX3gsdGhpcy53Qy5ZeCghMCksdGhpcy53Qy5LeCh0aGlzLl94KSxzLm5pLmRyLnJyJiYodGhpcy5SQy56eCgpLHRoaXMuUkMuSngoITApKX0sZS5wcm90b3R5cGUuWmg9ZnVuY3Rpb24oZSl7dGhpcy5feD1uZXcgdS5FeCh0aGlzLndDLlcoKSx0aGlzLndDLm9IKCksXCJcIiwhMSx0aGlzLndDLktfKCkpLHRoaXMub3g9ITAsdGhpcy50ZS5pbmZvKHRoaXMubW4rXCIgVURQIExFQURFUiBFTEVDVElPTiBTVEFSVEVEXCIpfSxlLnByb3RvdHlwZS5hSD1mdW5jdGlvbihlKXt0aGlzLmF4LmRlbGV0ZShlKSx0aGlzLnd4KCksMD09dGhpcy5heC5sZW5ndGg/KHRoaXMuX3guSXg9ITEsdGhpcy5xeD1udWxsLHRoaXMud0MuWXgoITEpLHRoaXMud0MuaEgoITEpLHRoaXMuUkMuengoKSx0aGlzLlJDLkp4KCExKSk6dGhpcy5VeCgpP3RoaXMuVngoKTp0aGlzLmd4Lmxlbmd0aD4wJiZ0aGlzLlF4KHRoaXMuZ3hbMF0pfSxlfSgpO3QuY0g9cDt2YXIgZjshZnVuY3Rpb24oZSl7ZVtlLnVIPTBdPVwiRkFJTFVSRVwiLGVbZS5DeD0xXT1cIkFMUkVBRFlfUEVORElOR1wifShmPXQubEh8fCh0LmxIPXt9KSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgaSxuLHM7LyoqXHJcbiAqIEBsaWNlbnNlIExvbmcuanMgKGMpIDIwMTMgRGFuaWVsIFdpcnR6IDxkY29kZUBkY29kZS5pbz5cclxuICogUmVsZWFzZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMFxyXG4gKiBzZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9kY29kZUlPL0xvbmcuanMgZm9yIGRldGFpbHNcclxuICovXHJcbiFmdW5jdGlvbihyLG8pe249W10saT1vLHZvaWQgMCE9PShzPVwiZnVuY3Rpb25cIj09dHlwZW9mIGk/aS5hcHBseSh0LG4pOmkpJiYoZS50PXMpfSgwLGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gZShlLHQscil7dGhpcy5sb3c9MHxlLHRoaXMuaGlnaD0wfHQsdGhpcy5DYj0hIXJ9ZS5wSCxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJfX2lzTG9uZ19fXCIse3ZhbHVlOiEwLGw6ITEsdTohMX0pLGUuZkg9ZnVuY3Rpb24oZSl7cmV0dXJuITA9PT0oZSYmZS5wSCl9O3ZhciB0PXt9LHI9e307ZS5tcD1mdW5jdGlvbihpLG4pe3ZhciBzLG87cmV0dXJuIG4/MDw9KGk+Pj49MCkmJmk8MjU2JiYobz1yW2ldKT9vOihzPW5ldyBlKGksKDB8aSk8MD8tMTowLCEwKSwwPD1pJiZpPDI1NiYmKHJbaV09cykscyk6LTEyODw9KGl8PTApJiZpPDEyOCYmKG89dFtpXSk/bzoocz1uZXcgZShpLGk8MD8tMTowLCExKSwtMTI4PD1pJiZpPDEyOCYmKHRbaV09cykscyl9LGUuZHA9ZnVuY3Rpb24odCxyKXtyZXR1cm4gcj0hIXIsaXNOYU4odCl8fCFpc0Zpbml0ZSh0KT9lLlpFUk86IXImJnQ8PS1zP2UuTUlOX1ZBTFVFOiFyJiZ0KzE+PXM/ZS5NQVhfVkFMVUU6ciYmdD49bj9lLmRIOnQ8MD9lLmRwKC10LHIpLlJwKCk6bmV3IGUodCVpfDAsdC9pfDAscil9LGUuQXk9ZnVuY3Rpb24odCxyLGkpe3JldHVybiBuZXcgZSh0LHIsaSl9LGUuZ3A9ZnVuY3Rpb24odCxyLGkpe2lmKDA9PT10Lmxlbmd0aCl0aHJvdyBFcnJvcihcIm51bWJlciBmb3JtYXQgZXJyb3I6IGVtcHR5IHN0cmluZ1wiKTtpZihcIk5hTlwiPT09dHx8XCJJbmZpbml0eVwiPT09dHx8XCIrSW5maW5pdHlcIj09PXR8fFwiLUluZmluaXR5XCI9PT10KXJldHVybiBlLlpFUk87aWYoXCJudW1iZXJcIj09dHlwZW9mIHImJihpPXIscj0hMSksKGk9aXx8MTApPDJ8fDM2PGkpdGhyb3cgRXJyb3IoXCJyYWRpeCBvdXQgb2YgcmFuZ2U6IFwiK2kpO3ZhciBuO2lmKChuPXQuaW5kZXhPZihcIi1cIikpPjApdGhyb3cgRXJyb3IoJ251bWJlciBmb3JtYXQgZXJyb3I6IGludGVyaW9yIFwiLVwiIGNoYXJhY3RlcjogJyt0KTtpZigwPT09bilyZXR1cm4gZS5ncCh0LnN1YnN0cmluZygxKSxyLGkpLlJwKCk7Zm9yKHZhciBzPWUuZHAoTWF0aC5wb3coaSw4KSksbz1lLlpFUk8sYT0wO2E8dC5sZW5ndGg7YSs9OCl7dmFyIGg9TWF0aC5taW4oOCx0Lmxlbmd0aC1hKSxjPXBhcnNlSW50KHQuc3Vic3RyaW5nKGEsYStoKSxpKTtpZihoPDgpe3ZhciB1PWUuZHAoTWF0aC5wb3coaSxoKSk7bz1vLm11bHRpcGx5KHUpLmFkZChlLmRwKGMpKX1lbHNlIG89by5tdWx0aXBseShzKSxvPW8uYWRkKGUuZHAoYykpfXJldHVybiBvLkNiPXIsb30sZS5nSD1mdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIGU/dDpcIm51bWJlclwiPT10eXBlb2YgdD9lLmRwKHQpOlwic3RyaW5nXCI9PXR5cGVvZiB0P2UuZ3AodCk6bmV3IGUodC5sb3csdC5oaWdoLHQuQ2IpfTt2YXIgaT00Mjk0OTY3Mjk2LG49aSppLHM9bi8yLG89ZS5tcCgxPDwyNCk7cmV0dXJuIGUuWkVSTz1lLm1wKDApLGUudkg9ZS5tcCgwLCEwKSxlLk9ORT1lLm1wKDEpLGUueUg9ZS5tcCgxLCEwKSxlLm1IPWUubXAoLTEpLGUuTUFYX1ZBTFVFPWUuQXkoLTEsMjE0NzQ4MzY0NywhMSksZS5kSD1lLkF5KC0xLC0xLCEwKSxlLk1JTl9WQUxVRT1lLkF5KDAsLTIxNDc0ODM2NDgsITEpLGUucHJvdG90eXBlLmJiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuQ2I/dGhpcy5sb3c+Pj4wOnRoaXMubG93fSxlLnByb3RvdHlwZS5FSD1mdW5jdGlvbigpe3JldHVybiB0aGlzLkNiPyh0aGlzLmhpZ2g+Pj4wKSppKyh0aGlzLmxvdz4+PjApOnRoaXMuaGlnaCppKyh0aGlzLmxvdz4+PjApfSxlLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbih0KXtpZigodD10fHwxMCk8Mnx8MzY8dCl0aHJvdyBSYW5nZUVycm9yKFwicmFkaXggb3V0IG9mIHJhbmdlOiBcIit0KTtpZih0aGlzLlRIKCkpcmV0dXJuXCIwXCI7dmFyIHI7aWYodGhpcy5JSCgpKXtpZih0aGlzLmFlKGUuTUlOX1ZBTFVFKSl7dmFyIGk9ZS5kcCh0KSxuPXRoaXMud0goaSk7cmV0dXJuIHI9bi5tdWx0aXBseShpKS5TSCh0aGlzKSxuLnRvU3RyaW5nKHQpK3IuYmIoKS50b1N0cmluZyh0KX1yZXR1cm5cIi1cIit0aGlzLlJwKCkudG9TdHJpbmcodCl9dmFyIHM9ZS5kcChNYXRoLnBvdyh0LDYpLHRoaXMuQ2IpO3I9dGhpcztmb3IodmFyIG89XCJcIjs7KXt2YXIgYT1yLndIKHMpLGg9ci5TSChhLm11bHRpcGx5KHMpKS5iYigpPj4+MCxjPWgudG9TdHJpbmcodCk7aWYocj1hLHIuVEgoKSlyZXR1cm4gYytvO2Zvcig7Yy5sZW5ndGg8NjspYz1cIjBcIitjO289XCJcIitjK299fSxlLnByb3RvdHlwZS5SSD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmhpZ2h9LGUucHJvdG90eXBlLmJIPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaGlnaD4+PjB9LGUucHJvdG90eXBlLlBIPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubG93fSxlLnByb3RvdHlwZS5BSD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxvdz4+PjB9LGUucHJvdG90eXBlLkNIPWZ1bmN0aW9uKCl7aWYodGhpcy5JSCgpKXJldHVybiB0aGlzLmFlKGUuTUlOX1ZBTFVFKT82NDp0aGlzLlJwKCkuQ0goKTtmb3IodmFyIHQ9MCE9dGhpcy5oaWdoP3RoaXMuaGlnaDp0aGlzLmxvdyxyPTMxO3I+MCYmMD09KHQmMTw8cik7ci0tKTtyZXR1cm4gMCE9dGhpcy5oaWdoP3IrMzM6cisxfSxlLnByb3RvdHlwZS5USD1mdW5jdGlvbigpe3JldHVybiAwPT09dGhpcy5oaWdoJiYwPT09dGhpcy5sb3d9LGUucHJvdG90eXBlLklIPWZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMuQ2ImJnRoaXMuaGlnaDwwfSxlLnByb3RvdHlwZS5rSD1mdW5jdGlvbigpe3JldHVybiB0aGlzLkNifHx0aGlzLmhpZ2g+PTB9LGUucHJvdG90eXBlLk9IPWZ1bmN0aW9uKCl7cmV0dXJuIDE9PSgxJnRoaXMubG93KX0sZS5wcm90b3R5cGUuV3A9ZnVuY3Rpb24oKXtyZXR1cm4gMD09KDEmdGhpcy5sb3cpfSxlLnByb3RvdHlwZS5hZT1mdW5jdGlvbih0KXtyZXR1cm4gZS5mSCh0KXx8KHQ9ZS5nSCh0KSksKHRoaXMuQ2I9PT10LkNifHx0aGlzLmhpZ2g+Pj4zMSE9MXx8dC5oaWdoPj4+MzEhPTEpJiYodGhpcy5oaWdoPT09dC5oaWdoJiZ0aGlzLmxvdz09PXQubG93KX0sZS5fSD1lLnByb3RvdHlwZS5hZSxlLnByb3RvdHlwZS5OSD1mdW5jdGlvbihlKXtyZXR1cm4hdGhpcy5hZShlKX0sZS5ESD1lLnByb3RvdHlwZS5OSCxlLnByb3RvdHlwZS5GSD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5tbyhlKTwwfSxlLnByb3RvdHlwZS5MSD1lLnByb3RvdHlwZS5GSCxlLnByb3RvdHlwZS5NSD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5tbyhlKTw9MH0sZS5wcm90b3R5cGUuQkg9ZS5wcm90b3R5cGUuTUgsZS5wcm90b3R5cGUuVUg9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMubW8oZSk+MH0sZS5wcm90b3R5cGUueEg9ZS5wcm90b3R5cGUuVUgsZS5wcm90b3R5cGUuSEg9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMubW8oZSk+PTB9LGUucHJvdG90eXBlLnFIPWUucHJvdG90eXBlLkhILGUucHJvdG90eXBlLm1vPWZ1bmN0aW9uKHQpe2lmKGUuZkgodCl8fCh0PWUuZ0godCkpLHRoaXMuYWUodCkpcmV0dXJuIDA7dmFyIHI9dGhpcy5JSCgpLGk9dC5JSCgpO3JldHVybiByJiYhaT8tMTohciYmaT8xOnRoaXMuQ2I/dC5oaWdoPj4+MD50aGlzLmhpZ2g+Pj4wfHx0LmhpZ2g9PT10aGlzLmhpZ2gmJnQubG93Pj4+MD50aGlzLmxvdz4+PjA/LTE6MTp0aGlzLlNIKHQpLklIKCk/LTE6MX0sZS5wcm90b3R5cGUuUnA9ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5DYiYmdGhpcy5hZShlLk1JTl9WQUxVRSk/ZS5NSU5fVkFMVUU6dGhpcy5WSCgpLmFkZChlLk9ORSl9LGUucHJvdG90eXBlLmpIPWUucHJvdG90eXBlLlJwLGUucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0KXtlLmZIKHQpfHwodD1lLmdIKHQpKTt2YXIgcj10aGlzLmhpZ2g+Pj4xNixpPTY1NTM1JnRoaXMuaGlnaCxuPXRoaXMubG93Pj4+MTYscz02NTUzNSZ0aGlzLmxvdyxvPXQuaGlnaD4+PjE2LGE9NjU1MzUmdC5oaWdoLGg9dC5sb3c+Pj4xNixjPTY1NTM1JnQubG93LHU9MCxsPTAscD0wLGY9MDtyZXR1cm4gZis9cytjLHArPWY+Pj4xNixmJj02NTUzNSxwKz1uK2gsbCs9cD4+PjE2LHAmPTY1NTM1LGwrPWkrYSx1Kz1sPj4+MTYsbCY9NjU1MzUsdSs9citvLHUmPTY1NTM1LGUuQXkocDw8MTZ8Zix1PDwxNnxsLHRoaXMuQ2IpfSxlLnByb3RvdHlwZS5TSD1mdW5jdGlvbih0KXtyZXR1cm4gZS5mSCh0KXx8KHQ9ZS5nSCh0KSksdGhpcy5hZGQodC5ScCgpKX0sZS5wcm90b3R5cGUuc3ViPWUucHJvdG90eXBlLlNILGUucHJvdG90eXBlLm11bHRpcGx5PWZ1bmN0aW9uKHQpe2lmKHRoaXMuVEgoKSlyZXR1cm4gZS5aRVJPO2lmKGUuZkgodCl8fCh0PWUuZ0godCkpLHQuVEgoKSlyZXR1cm4gZS5aRVJPO2lmKHRoaXMuYWUoZS5NSU5fVkFMVUUpKXJldHVybiB0Lk9IKCk/ZS5NSU5fVkFMVUU6ZS5aRVJPO2lmKHQuYWUoZS5NSU5fVkFMVUUpKXJldHVybiB0aGlzLk9IKCk/ZS5NSU5fVkFMVUU6ZS5aRVJPO2lmKHRoaXMuSUgoKSlyZXR1cm4gdC5JSCgpP3RoaXMuUnAoKS5tdWx0aXBseSh0LlJwKCkpOnRoaXMuUnAoKS5tdWx0aXBseSh0KS5ScCgpO2lmKHQuSUgoKSlyZXR1cm4gdGhpcy5tdWx0aXBseSh0LlJwKCkpLlJwKCk7aWYodGhpcy5GSChvKSYmdC5GSChvKSlyZXR1cm4gZS5kcCh0aGlzLkVIKCkqdC5FSCgpLHRoaXMuQ2IpO3ZhciByPXRoaXMuaGlnaD4+PjE2LGk9NjU1MzUmdGhpcy5oaWdoLG49dGhpcy5sb3c+Pj4xNixzPTY1NTM1JnRoaXMubG93LGE9dC5oaWdoPj4+MTYsaD02NTUzNSZ0LmhpZ2gsYz10Lmxvdz4+PjE2LHU9NjU1MzUmdC5sb3csbD0wLHA9MCxmPTAsZD0wO3JldHVybiBkKz1zKnUsZis9ZD4+PjE2LGQmPTY1NTM1LGYrPW4qdSxwKz1mPj4+MTYsZiY9NjU1MzUsZis9cypjLHArPWY+Pj4xNixmJj02NTUzNSxwKz1pKnUsbCs9cD4+PjE2LHAmPTY1NTM1LHArPW4qYyxsKz1wPj4+MTYscCY9NjU1MzUscCs9cypoLGwrPXA+Pj4xNixwJj02NTUzNSxsKz1yKnUraSpjK24qaCtzKmEsbCY9NjU1MzUsZS5BeShmPDwxNnxkLGw8PDE2fHAsdGhpcy5DYil9LGUucHJvdG90eXBlLkdIPWUucHJvdG90eXBlLm11bHRpcGx5LGUucHJvdG90eXBlLndIPWZ1bmN0aW9uKHQpe2lmKGUuZkgodCl8fCh0PWUuZ0godCkpLHQuVEgoKSl0aHJvdyBuZXcgRXJyb3IoXCJkaXZpc2lvbiBieSB6ZXJvXCIpO2lmKHRoaXMuVEgoKSlyZXR1cm4gdGhpcy5DYj9lLnZIOmUuWkVSTzt2YXIgcixpLG47aWYodGhpcy5hZShlLk1JTl9WQUxVRSkpe2lmKHQuYWUoZS5PTkUpfHx0LmFlKGUubUgpKXJldHVybiBlLk1JTl9WQUxVRTtpZih0LmFlKGUuTUlOX1ZBTFVFKSlyZXR1cm4gZS5PTkU7cmV0dXJuIHI9dGhpcy5fYigxKS53SCh0KS5zaGlmdExlZnQoMSksci5hZShlLlpFUk8pP3QuSUgoKT9lLk9ORTplLm1IOihpPXRoaXMuU0godC5tdWx0aXBseShyKSksbj1yLmFkZChpLndIKHQpKSl9aWYodC5hZShlLk1JTl9WQUxVRSkpcmV0dXJuIHRoaXMuQ2I/ZS52SDplLlpFUk87aWYodGhpcy5JSCgpKXJldHVybiB0LklIKCk/dGhpcy5ScCgpLndIKHQuUnAoKSk6dGhpcy5ScCgpLndIKHQpLlJwKCk7aWYodC5JSCgpKXJldHVybiB0aGlzLndIKHQuUnAoKSkuUnAoKTtmb3Iobj1lLlpFUk8saT10aGlzO2kuSEgodCk7KXtyPU1hdGgubWF4KDEsTWF0aC5mbG9vcihpLkVIKCkvdC5FSCgpKSk7Zm9yKHZhciBzPU1hdGguY2VpbChNYXRoLmxvZyhyKS9NYXRoLkxOMiksbz1zPD00OD8xOk1hdGgucG93KDIscy00OCksYT1lLmRwKHIpLGg9YS5tdWx0aXBseSh0KTtoLklIKCl8fGguVUgoaSk7KXItPW8sYT1lLmRwKHIsdGhpcy5DYiksaD1hLm11bHRpcGx5KHQpO2EuVEgoKSYmKGE9ZS5PTkUpLG49bi5hZGQoYSksaT1pLlNIKGgpfXJldHVybiBufSxlLnByb3RvdHlwZS5RSD1lLnByb3RvdHlwZS53SCxlLnByb3RvdHlwZS5LSD1mdW5jdGlvbih0KXtyZXR1cm4gZS5mSCh0KXx8KHQ9ZS5nSCh0KSksdGhpcy5TSCh0aGlzLndIKHQpLm11bHRpcGx5KHQpKX0sZS5wcm90b3R5cGUuQnA9ZS5wcm90b3R5cGUuS0gsZS5wcm90b3R5cGUuVkg9ZnVuY3Rpb24oKXtyZXR1cm4gZS5BeSh+dGhpcy5sb3csfnRoaXMuaGlnaCx0aGlzLkNiKX0sZS5wcm90b3R5cGUuRGI9ZnVuY3Rpb24odCl7cmV0dXJuIGUuZkgodCl8fCh0PWUuZ0godCkpLGUuQXkodGhpcy5sb3cmdC5sb3csdGhpcy5oaWdoJnQuaGlnaCx0aGlzLkNiKX0sZS5wcm90b3R5cGUuWUg9ZnVuY3Rpb24odCl7cmV0dXJuIGUuZkgodCl8fCh0PWUuZ0godCkpLGUuQXkodGhpcy5sb3d8dC5sb3csdGhpcy5oaWdofHQuaGlnaCx0aGlzLkNiKX0sZS5wcm90b3R5cGUuemQ9ZnVuY3Rpb24odCl7cmV0dXJuIGUuZkgodCl8fCh0PWUuZ0godCkpLGUuQXkodGhpcy5sb3dedC5sb3csdGhpcy5oaWdoXnQuaGlnaCx0aGlzLkNiKX0sZS5wcm90b3R5cGUuc2hpZnRMZWZ0PWZ1bmN0aW9uKHQpe3JldHVybiBlLmZIKHQpJiYodD10LmJiKCkpLDA9PSh0Jj02Myk/dGhpczp0PDMyP2UuQXkodGhpcy5sb3c8PHQsdGhpcy5oaWdoPDx0fHRoaXMubG93Pj4+MzItdCx0aGlzLkNiKTplLkF5KDAsdGhpcy5sb3c8PHQtMzIsdGhpcy5DYil9LGUucHJvdG90eXBlLnpIPWUucHJvdG90eXBlLnNoaWZ0TGVmdCxlLnByb3RvdHlwZS5fYj1mdW5jdGlvbih0KXtyZXR1cm4gZS5mSCh0KSYmKHQ9dC5iYigpKSwwPT0odCY9NjMpP3RoaXM6dDwzMj9lLkF5KHRoaXMubG93Pj4+dHx0aGlzLmhpZ2g8PDMyLXQsdGhpcy5oaWdoPj50LHRoaXMuQ2IpOmUuQXkodGhpcy5oaWdoPj50LTMyLHRoaXMuaGlnaD49MD8wOi0xLHRoaXMuQ2IpfSxlLnByb3RvdHlwZS5KSD1lLnByb3RvdHlwZS5fYixlLnByb3RvdHlwZS5QYj1mdW5jdGlvbih0KXtpZihlLmZIKHQpJiYodD10LmJiKCkpLDA9PT0odCY9NjMpKXJldHVybiB0aGlzO3ZhciByPXRoaXMuaGlnaDtpZih0PDMyKXt2YXIgaT10aGlzLmxvdztyZXR1cm4gZS5BeShpPj4+dHxyPDwzMi10LHI+Pj50LHRoaXMuQ2IpfXJldHVybiAzMj09PXQ/ZS5BeShyLDAsdGhpcy5DYik6ZS5BeShyPj4+dC0zMiwwLHRoaXMuQ2IpfSxlLnByb3RvdHlwZS5XSD1lLnByb3RvdHlwZS5QYixlLnByb3RvdHlwZS5rYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLkNiP25ldyBlKHRoaXMubG93LHRoaXMuaGlnaCwhMSk6dGhpc30sZS5wcm90b3R5cGUuT2I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5DYj90aGlzOm5ldyBlKHRoaXMubG93LHRoaXMuaGlnaCwhMCl9LGV9KX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBpLG4sczsvKipcclxuICogQGxpY2Vuc2UgTG9uZy5qcyAoYykgMjAxMyBEYW5pZWwgV2lydHogPGRjb2RlQGRjb2RlLmlvPlxyXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wXHJcbiAqIHNlZTogaHR0cHM6Ly9naXRodWIuY29tL2Rjb2RlSU8vTG9uZy5qcyBmb3IgZGV0YWlsc1xyXG4gKi9cclxuIWZ1bmN0aW9uKHIsbyl7bj1bXSxpPW8sdm9pZCAwIT09KHM9XCJmdW5jdGlvblwiPT10eXBlb2YgaT9pLmFwcGx5KHQsbik6aSkmJihlLnQ9cyl9KDAsZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBlKGUsdCxyKXt0aGlzLmxvdz0wfGUsdGhpcy5oaWdoPTB8dCx0aGlzLkNiPSEhcn1lLnBILE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcIl9faXNMb25nX19cIix7dmFsdWU6ITAsbDohMSx1OiExfSksZS5mSD1mdW5jdGlvbihlKXtyZXR1cm4hMD09PShlJiZlLnBIKX07dmFyIHQ9e30scj17fTtlLm1wPWZ1bmN0aW9uKGksbil7dmFyIHMsbztyZXR1cm4gbj8wPD0oaT4+Pj0wKSYmaTwyNTYmJihvPXJbaV0pP286KHM9bmV3IGUoaSwoMHxpKTwwPy0xOjAsITApLDA8PWkmJmk8MjU2JiYocltpXT1zKSxzKTotMTI4PD0oaXw9MCkmJmk8MTI4JiYobz10W2ldKT9vOihzPW5ldyBlKGksaTwwPy0xOjAsITEpLC0xMjg8PWkmJmk8MTI4JiYodFtpXT1zKSxzKX0sZS5kcD1mdW5jdGlvbih0LHIpe3JldHVybiByPSEhcixpc05hTih0KXx8IWlzRmluaXRlKHQpP2UuWkVSTzohciYmdDw9LXM/ZS5NSU5fVkFMVUU6IXImJnQrMT49cz9lLk1BWF9WQUxVRTpyJiZ0Pj1uP2UuZEg6dDwwP2UuZHAoLXQscikuUnAoKTpuZXcgZSh0JWl8MCx0L2l8MCxyKX0sZS5BeT1mdW5jdGlvbih0LHIsaSl7cmV0dXJuIG5ldyBlKHQscixpKX0sZS5ncD1mdW5jdGlvbih0LHIsaSl7aWYoMD09PXQubGVuZ3RoKXRocm93IEVycm9yKFwibnVtYmVyIGZvcm1hdCBlcnJvcjogZW1wdHkgc3RyaW5nXCIpO2lmKFwiTmFOXCI9PT10fHxcIkluZmluaXR5XCI9PT10fHxcIitJbmZpbml0eVwiPT09dHx8XCItSW5maW5pdHlcIj09PXQpcmV0dXJuIGUuWkVSTztpZihcIm51bWJlclwiPT10eXBlb2YgciYmKGk9cixyPSExKSwoaT1pfHwxMCk8Mnx8MzY8aSl0aHJvdyBFcnJvcihcInJhZGl4IG91dCBvZiByYW5nZTogXCIraSk7dmFyIG47aWYoKG49dC5pbmRleE9mKFwiLVwiKSk+MCl0aHJvdyBFcnJvcignbnVtYmVyIGZvcm1hdCBlcnJvcjogaW50ZXJpb3IgXCItXCIgY2hhcmFjdGVyOiAnK3QpO2lmKDA9PT1uKXJldHVybiBlLmdwKHQuc3Vic3RyaW5nKDEpLHIsaSkuUnAoKTtmb3IodmFyIHM9ZS5kcChNYXRoLnBvdyhpLDgpKSxvPWUuWkVSTyxhPTA7YTx0Lmxlbmd0aDthKz04KXt2YXIgaD1NYXRoLm1pbig4LHQubGVuZ3RoLWEpLGM9cGFyc2VJbnQodC5zdWJzdHJpbmcoYSxhK2gpLGkpO2lmKGg8OCl7dmFyIHU9ZS5kcChNYXRoLnBvdyhpLGgpKTtvPW8ubXVsdGlwbHkodSkuYWRkKGUuZHAoYykpfWVsc2Ugbz1vLm11bHRpcGx5KHMpLG89by5hZGQoZS5kcChjKSl9cmV0dXJuIG8uQ2I9cixvfSxlLmdIPWZ1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2YgZT90OlwibnVtYmVyXCI9PXR5cGVvZiB0P2UuZHAodCk6XCJzdHJpbmdcIj09dHlwZW9mIHQ/ZS5ncCh0KTpuZXcgZSh0Lmxvdyx0LmhpZ2gsdC5DYil9O3ZhciBpPTQyOTQ5NjcyOTYsbj1pKmkscz1uLzIsbz1lLm1wKDE8PDI0KTtyZXR1cm4gZS5aRVJPPWUubXAoMCksZS52SD1lLm1wKDAsITApLGUuT05FPWUubXAoMSksZS55SD1lLm1wKDEsITApLGUubUg9ZS5tcCgtMSksZS5NQVhfVkFMVUU9ZS5BeSgtMSwyMTQ3NDgzNjQ3LCExKSxlLmRIPWUuQXkoLTEsLTEsITApLGUuTUlOX1ZBTFVFPWUuQXkoMCwtMjE0NzQ4MzY0OCwhMSksZS5wcm90b3R5cGUuYmI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5DYj90aGlzLmxvdz4+PjA6dGhpcy5sb3d9LGUucHJvdG90eXBlLkVIPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuQ2I/KHRoaXMuaGlnaD4+PjApKmkrKHRoaXMubG93Pj4+MCk6dGhpcy5oaWdoKmkrKHRoaXMubG93Pj4+MCl9LGUucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKHQpe2lmKCh0PXR8fDEwKTwyfHwzNjx0KXRocm93IFJhbmdlRXJyb3IoXCJyYWRpeCBvdXQgb2YgcmFuZ2U6IFwiK3QpO2lmKHRoaXMuVEgoKSlyZXR1cm5cIjBcIjt2YXIgcjtpZih0aGlzLklIKCkpe2lmKHRoaXMuYWUoZS5NSU5fVkFMVUUpKXt2YXIgaT1lLmRwKHQpLG49dGhpcy53SChpKTtyZXR1cm4gcj1uLm11bHRpcGx5KGkpLlNIKHRoaXMpLG4udG9TdHJpbmcodCkrci5iYigpLnRvU3RyaW5nKHQpfXJldHVyblwiLVwiK3RoaXMuUnAoKS50b1N0cmluZyh0KX12YXIgcz1lLmRwKE1hdGgucG93KHQsNiksdGhpcy5DYik7cj10aGlzO2Zvcih2YXIgbz1cIlwiOzspe3ZhciBhPXIud0gocyksaD1yLlNIKGEubXVsdGlwbHkocykpLmJiKCk+Pj4wLGM9aC50b1N0cmluZyh0KTtpZihyPWEsci5USCgpKXJldHVybiBjK287Zm9yKDtjLmxlbmd0aDw2OyljPVwiMFwiK2M7bz1cIlwiK2Mrb319LGUucHJvdG90eXBlLlJIPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaGlnaH0sZS5wcm90b3R5cGUuYkg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oaWdoPj4+MH0sZS5wcm90b3R5cGUuUEg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sb3d9LGUucHJvdG90eXBlLkFIPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubG93Pj4+MH0sZS5wcm90b3R5cGUuQ0g9ZnVuY3Rpb24oKXtpZih0aGlzLklIKCkpcmV0dXJuIHRoaXMuYWUoZS5NSU5fVkFMVUUpPzY0OnRoaXMuUnAoKS5DSCgpO2Zvcih2YXIgdD0wIT10aGlzLmhpZ2g/dGhpcy5oaWdoOnRoaXMubG93LHI9MzE7cj4wJiYwPT0odCYxPDxyKTtyLS0pO3JldHVybiAwIT10aGlzLmhpZ2g/ciszMzpyKzF9LGUucHJvdG90eXBlLlRIPWZ1bmN0aW9uKCl7cmV0dXJuIDA9PT10aGlzLmhpZ2gmJjA9PT10aGlzLmxvd30sZS5wcm90b3R5cGUuSUg9ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5DYiYmdGhpcy5oaWdoPDB9LGUucHJvdG90eXBlLmtIPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuQ2J8fHRoaXMuaGlnaD49MH0sZS5wcm90b3R5cGUuT0g9ZnVuY3Rpb24oKXtyZXR1cm4gMT09KDEmdGhpcy5sb3cpfSxlLnByb3RvdHlwZS5XcD1mdW5jdGlvbigpe3JldHVybiAwPT0oMSZ0aGlzLmxvdyl9LGUucHJvdG90eXBlLmFlPWZ1bmN0aW9uKHQpe3JldHVybiBlLmZIKHQpfHwodD1lLmdIKHQpKSwodGhpcy5DYj09PXQuQ2J8fHRoaXMuaGlnaD4+PjMxIT0xfHx0LmhpZ2g+Pj4zMSE9MSkmJih0aGlzLmhpZ2g9PT10LmhpZ2gmJnRoaXMubG93PT09dC5sb3cpfSxlLl9IPWUucHJvdG90eXBlLmFlLGUucHJvdG90eXBlLk5IPWZ1bmN0aW9uKGUpe3JldHVybiF0aGlzLmFlKGUpfSxlLkRIPWUucHJvdG90eXBlLk5ILGUucHJvdG90eXBlLkZIPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLm1vKGUpPDB9LGUucHJvdG90eXBlLkxIPWUucHJvdG90eXBlLkZILGUucHJvdG90eXBlLk1IPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLm1vKGUpPD0wfSxlLnByb3RvdHlwZS5CSD1lLnByb3RvdHlwZS5NSCxlLnByb3RvdHlwZS5VSD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5tbyhlKT4wfSxlLnByb3RvdHlwZS54SD1lLnByb3RvdHlwZS5VSCxlLnByb3RvdHlwZS5ISD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5tbyhlKT49MH0sZS5wcm90b3R5cGUucUg9ZS5wcm90b3R5cGUuSEgsZS5wcm90b3R5cGUubW89ZnVuY3Rpb24odCl7aWYoZS5mSCh0KXx8KHQ9ZS5nSCh0KSksdGhpcy5hZSh0KSlyZXR1cm4gMDt2YXIgcj10aGlzLklIKCksaT10LklIKCk7cmV0dXJuIHImJiFpPy0xOiFyJiZpPzE6dGhpcy5DYj90LmhpZ2g+Pj4wPnRoaXMuaGlnaD4+PjB8fHQuaGlnaD09PXRoaXMuaGlnaCYmdC5sb3c+Pj4wPnRoaXMubG93Pj4+MD8tMToxOnRoaXMuU0godCkuSUgoKT8tMToxfSxlLnByb3RvdHlwZS5ScD1mdW5jdGlvbigpe3JldHVybiF0aGlzLkNiJiZ0aGlzLmFlKGUuTUlOX1ZBTFVFKT9lLk1JTl9WQUxVRTp0aGlzLlZIKCkuYWRkKGUuT05FKX0sZS5wcm90b3R5cGUuakg9ZS5wcm90b3R5cGUuUnAsZS5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKHQpe2UuZkgodCl8fCh0PWUuZ0godCkpO3ZhciByPXRoaXMuaGlnaD4+PjE2LGk9NjU1MzUmdGhpcy5oaWdoLG49dGhpcy5sb3c+Pj4xNixzPTY1NTM1JnRoaXMubG93LG89dC5oaWdoPj4+MTYsYT02NTUzNSZ0LmhpZ2gsaD10Lmxvdz4+PjE2LGM9NjU1MzUmdC5sb3csdT0wLGw9MCxwPTAsZj0wO3JldHVybiBmKz1zK2MscCs9Zj4+PjE2LGYmPTY1NTM1LHArPW4raCxsKz1wPj4+MTYscCY9NjU1MzUsbCs9aSthLHUrPWw+Pj4xNixsJj02NTUzNSx1Kz1yK28sdSY9NjU1MzUsZS5BeShwPDwxNnxmLHU8PDE2fGwsdGhpcy5DYil9LGUucHJvdG90eXBlLlNIPWZ1bmN0aW9uKHQpe3JldHVybiBlLmZIKHQpfHwodD1lLmdIKHQpKSx0aGlzLmFkZCh0LlJwKCkpfSxlLnByb3RvdHlwZS5zdWI9ZS5wcm90b3R5cGUuU0gsZS5wcm90b3R5cGUubXVsdGlwbHk9ZnVuY3Rpb24odCl7aWYodGhpcy5USCgpKXJldHVybiBlLlpFUk87aWYoZS5mSCh0KXx8KHQ9ZS5nSCh0KSksdC5USCgpKXJldHVybiBlLlpFUk87aWYodGhpcy5hZShlLk1JTl9WQUxVRSkpcmV0dXJuIHQuT0goKT9lLk1JTl9WQUxVRTplLlpFUk87aWYodC5hZShlLk1JTl9WQUxVRSkpcmV0dXJuIHRoaXMuT0goKT9lLk1JTl9WQUxVRTplLlpFUk87aWYodGhpcy5JSCgpKXJldHVybiB0LklIKCk/dGhpcy5ScCgpLm11bHRpcGx5KHQuUnAoKSk6dGhpcy5ScCgpLm11bHRpcGx5KHQpLlJwKCk7aWYodC5JSCgpKXJldHVybiB0aGlzLm11bHRpcGx5KHQuUnAoKSkuUnAoKTtpZih0aGlzLkZIKG8pJiZ0LkZIKG8pKXJldHVybiBlLmRwKHRoaXMuRUgoKSp0LkVIKCksdGhpcy5DYik7dmFyIHI9dGhpcy5oaWdoPj4+MTYsaT02NTUzNSZ0aGlzLmhpZ2gsbj10aGlzLmxvdz4+PjE2LHM9NjU1MzUmdGhpcy5sb3csYT10LmhpZ2g+Pj4xNixoPTY1NTM1JnQuaGlnaCxjPXQubG93Pj4+MTYsdT02NTUzNSZ0LmxvdyxsPTAscD0wLGY9MCxkPTA7cmV0dXJuIGQrPXMqdSxmKz1kPj4+MTYsZCY9NjU1MzUsZis9bip1LHArPWY+Pj4xNixmJj02NTUzNSxmKz1zKmMscCs9Zj4+PjE2LGYmPTY1NTM1LHArPWkqdSxsKz1wPj4+MTYscCY9NjU1MzUscCs9bipjLGwrPXA+Pj4xNixwJj02NTUzNSxwKz1zKmgsbCs9cD4+PjE2LHAmPTY1NTM1LGwrPXIqdStpKmMrbipoK3MqYSxsJj02NTUzNSxlLkF5KGY8PDE2fGQsbDw8MTZ8cCx0aGlzLkNiKX0sZS5wcm90b3R5cGUuR0g9ZS5wcm90b3R5cGUubXVsdGlwbHksZS5wcm90b3R5cGUud0g9ZnVuY3Rpb24odCl7aWYoZS5mSCh0KXx8KHQ9ZS5nSCh0KSksdC5USCgpKXRocm93IG5ldyBFcnJvcihcImRpdmlzaW9uIGJ5IHplcm9cIik7aWYodGhpcy5USCgpKXJldHVybiB0aGlzLkNiP2Uudkg6ZS5aRVJPO3ZhciByLGksbjtpZih0aGlzLmFlKGUuTUlOX1ZBTFVFKSl7aWYodC5hZShlLk9ORSl8fHQuYWUoZS5tSCkpcmV0dXJuIGUuTUlOX1ZBTFVFO2lmKHQuYWUoZS5NSU5fVkFMVUUpKXJldHVybiBlLk9ORTtyZXR1cm4gcj10aGlzLl9iKDEpLndIKHQpLnNoaWZ0TGVmdCgxKSxyLmFlKGUuWkVSTyk/dC5JSCgpP2UuT05FOmUubUg6KGk9dGhpcy5TSCh0Lm11bHRpcGx5KHIpKSxuPXIuYWRkKGkud0godCkpKX1pZih0LmFlKGUuTUlOX1ZBTFVFKSlyZXR1cm4gdGhpcy5DYj9lLnZIOmUuWkVSTztpZih0aGlzLklIKCkpcmV0dXJuIHQuSUgoKT90aGlzLlJwKCkud0godC5ScCgpKTp0aGlzLlJwKCkud0godCkuUnAoKTtpZih0LklIKCkpcmV0dXJuIHRoaXMud0godC5ScCgpKS5ScCgpO2ZvcihuPWUuWkVSTyxpPXRoaXM7aS5ISCh0KTspe3I9TWF0aC5tYXgoMSxNYXRoLmZsb29yKGkuRUgoKS90LkVIKCkpKTtmb3IodmFyIHM9TWF0aC5jZWlsKE1hdGgubG9nKHIpL01hdGguTE4yKSxvPXM8PTQ4PzE6TWF0aC5wb3coMixzLTQ4KSxhPWUuZHAociksaD1hLm11bHRpcGx5KHQpO2guSUgoKXx8aC5VSChpKTspci09byxhPWUuZHAocix0aGlzLkNiKSxoPWEubXVsdGlwbHkodCk7YS5USCgpJiYoYT1lLk9ORSksbj1uLmFkZChhKSxpPWkuU0goaCl9cmV0dXJuIG59LGUucHJvdG90eXBlLlFIPWUucHJvdG90eXBlLndILGUucHJvdG90eXBlLktIPWZ1bmN0aW9uKHQpe3JldHVybiBlLmZIKHQpfHwodD1lLmdIKHQpKSx0aGlzLlNIKHRoaXMud0godCkubXVsdGlwbHkodCkpfSxlLnByb3RvdHlwZS5CcD1lLnByb3RvdHlwZS5LSCxlLnByb3RvdHlwZS5WSD1mdW5jdGlvbigpe3JldHVybiBlLkF5KH50aGlzLmxvdyx+dGhpcy5oaWdoLHRoaXMuQ2IpfSxlLnByb3RvdHlwZS5EYj1mdW5jdGlvbih0KXtyZXR1cm4gZS5mSCh0KXx8KHQ9ZS5nSCh0KSksZS5BeSh0aGlzLmxvdyZ0Lmxvdyx0aGlzLmhpZ2gmdC5oaWdoLHRoaXMuQ2IpfSxlLnByb3RvdHlwZS5ZSD1mdW5jdGlvbih0KXtyZXR1cm4gZS5mSCh0KXx8KHQ9ZS5nSCh0KSksZS5BeSh0aGlzLmxvd3x0Lmxvdyx0aGlzLmhpZ2h8dC5oaWdoLHRoaXMuQ2IpfSxlLnByb3RvdHlwZS56ZD1mdW5jdGlvbih0KXtyZXR1cm4gZS5mSCh0KXx8KHQ9ZS5nSCh0KSksZS5BeSh0aGlzLmxvd150Lmxvdyx0aGlzLmhpZ2hedC5oaWdoLHRoaXMuQ2IpfSxlLnByb3RvdHlwZS5zaGlmdExlZnQ9ZnVuY3Rpb24odCl7cmV0dXJuIGUuZkgodCkmJih0PXQuYmIoKSksMD09KHQmPTYzKT90aGlzOnQ8MzI/ZS5BeSh0aGlzLmxvdzw8dCx0aGlzLmhpZ2g8PHR8dGhpcy5sb3c+Pj4zMi10LHRoaXMuQ2IpOmUuQXkoMCx0aGlzLmxvdzw8dC0zMix0aGlzLkNiKX0sZS5wcm90b3R5cGUuekg9ZS5wcm90b3R5cGUuc2hpZnRMZWZ0LGUucHJvdG90eXBlLl9iPWZ1bmN0aW9uKHQpe3JldHVybiBlLmZIKHQpJiYodD10LmJiKCkpLDA9PSh0Jj02Myk/dGhpczp0PDMyP2UuQXkodGhpcy5sb3c+Pj50fHRoaXMuaGlnaDw8MzItdCx0aGlzLmhpZ2g+PnQsdGhpcy5DYik6ZS5BeSh0aGlzLmhpZ2g+PnQtMzIsdGhpcy5oaWdoPj0wPzA6LTEsdGhpcy5DYil9LGUucHJvdG90eXBlLkpIPWUucHJvdG90eXBlLl9iLGUucHJvdG90eXBlLlBiPWZ1bmN0aW9uKHQpe2lmKGUuZkgodCkmJih0PXQuYmIoKSksMD09PSh0Jj02MykpcmV0dXJuIHRoaXM7dmFyIHI9dGhpcy5oaWdoO2lmKHQ8MzIpe3ZhciBpPXRoaXMubG93O3JldHVybiBlLkF5KGk+Pj50fHI8PDMyLXQscj4+PnQsdGhpcy5DYil9cmV0dXJuIDMyPT09dD9lLkF5KHIsMCx0aGlzLkNiKTplLkF5KHI+Pj50LTMyLDAsdGhpcy5DYil9LGUucHJvdG90eXBlLldIPWUucHJvdG90eXBlLlBiLGUucHJvdG90eXBlLmtiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuQ2I/bmV3IGUodGhpcy5sb3csdGhpcy5oaWdoLCExKTp0aGlzfSxlLnByb3RvdHlwZS5PYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLkNiP3RoaXM6bmV3IGUodGhpcy5sb3csdGhpcy5oaWdoLCEwKX0sZX0pfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGksbj10aGlzJiZ0aGlzLk5zfHxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIHIoKXt0aGlzLmNvbnN0cnVjdG9yPWV9Zm9yKHZhciBpIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShpKSYmKGVbaV09dFtpXSk7ZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KTooci5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IHIpfSxzPXIoMiksbz1yKDEpLGE9cigwKSxoPXIoMTYzKSxjPXIoMyksdT1yKDIzKSxsPXIoMTEpLHA9cigxNjQpLGY9cigxNSksZD1oaXZlLkROLnByb3RvY29sLkZOLnFOLGc9cig1KSx2PXIoNCkseT1nLlJ0LkNpOyFmdW5jdGlvbihlKXtlW2UuWEg9MV09XCJBQ0NFUFRcIixlW2UuWkg9Ml09XCJSRUpFQ1RcIn0oaT10LiRIfHwodC4kSD17fSkpO3ZhciBtOyFmdW5jdGlvbihlKXtlW2Uubng9MF09XCJBTExcIixlW2UuZXE9MV09XCJJTlwiLGVbZS50cT0yXT1cIk9VVFwifShtPXQucnF8fCh0LnJxPXt9KSk7dmFyIEU9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3ZhciB0PWUuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gdC5pcT1uZXcgbyx0Lmx4PW5ldyBvLHQubnE9LTEsdC5zcT0tMSx0Lm9xPS0xLHQuY29ubmVjdGVkPSExLHQuSGw9YS5GcmFtZXdvcmsucmVzb2x2ZShhLkZyYW1ld29yay5xLkYpLHQuYXE9YS5GcmFtZXdvcmsucmVzb2x2ZShmLlBhLiRvKSx0LmhxPWEuRnJhbWV3b3JrLnJlc29sdmUoZi5QYS5lYSksdC5jcT1hLkZyYW1ld29yay5yZXNvbHZlKGYuUGEudGEpLHQudXE9YS5GcmFtZXdvcmsucmVzb2x2ZShmLlBhLnJhKSx0fXJldHVybiBuKHQsZSksdC5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbih0KXtlLnByb3RvdHlwZS5pbml0LmNhbGwodGhpcyx0KSx0aGlzLnZ4PXQsdGhpcy50aWNrZXQ9dC5Dbi50aWNrZXQsdGhpcy55eD10Lnl4LHRoaXMuUkM9dC5SQyx0aGlzLmxxPXQubHF9LHQucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKGUpe3RyeXt0aGlzLnRlLmluZm8odGhpcy5tbitcIlBBUlRORVJTSElQIFNUQVJURUQgXCIrZS5LXygpKSx0aGlzLmNvbnRleHQ9ZSx0aGlzLmZSPWUuS18oKSx0aGlzLnBxKGMubmkuT3QuQXQpLHRoaXMuZnEoYy5uaS5kci5vciksdGhpcy5kcShjLm5pLlV0Lk50KSx0aGlzLmFjdGl2ZT0hMH1jYXRjaChlKXt2LkVycm9yTW9uaXRvci5naSgpLmRpKFwiU1RBUlQgUEFSVE5FUlNISVAgRVJST1JcIix0aGlzLm1uLGUpfX0sdC5wcm90b3R5cGUuc3RvcD1mdW5jdGlvbigpe3JldHVybiBhLkZyYW1ld29yay5jbGVhckludGVydmFsKHRoaXMubnEpLGEuRnJhbWV3b3JrLmNsZWFySW50ZXJ2YWwodGhpcy5zcSksYS5GcmFtZXdvcmsuY2xlYXJJbnRlcnZhbCh0aGlzLm9xKSx0aGlzLmNvbnRleHQ9bnVsbCx0aGlzLmZSPW51bGwsdGhpcy5hY3RpdmU9ITEsdGhpcy5ncSgpfSx0LnByb3RvdHlwZS5aaD1mdW5jdGlvbihlKXt0aGlzLnRlLmluZm8oXCJQQVJUTkVSU0hJUCBTRVJWRVIgQ09OTkVDVEVEXCIpLHRoaXMuRWg9ZSx0aGlzLmNvbm5lY3RlZD0hMCxudWxsPT10aGlzLndDLlcoKSYmdGhpcy53Qy52cSh0aGlzLkVoKX0sdC5wcm90b3R5cGUueXE9ZnVuY3Rpb24oKXt0aGlzLmNvbm5lY3RlZD0hMX0sdC5wcm90b3R5cGUubXE9ZnVuY3Rpb24oZSl7dHJ5e3RoaXMuRXEoZSl8fHRoaXMuaXEuaGFzKGUuVGsuZ3VpZCl8fHRoaXMubHguaGFzKGUuVGsuZ3VpZCl8fGUuVGsuZ3VpZD09dGhpcy5FaD90aGlzLlRxKGUpOnRoaXMuSXEoZSksdGhpcy53cShlKSYmdGhpcy5TcShlKX1jYXRjaChlKXt2LkVycm9yTW9uaXRvci5naSgpLmRpKFwiRElTQ09WRVJFRCBORVcgTEFOIFBFRVIgRVJST1JcIix0aGlzLm1uLGUpfX0sdC5wcm90b3R5cGUuVHE9ZnVuY3Rpb24oZSl7aWYodGhpcy5ScS5oYXMoZS5Uay5ndWlkKSl7dmFyIHQ9dGhpcy5ScS5nZXQoZS5Uay5ndWlkKTt0aGlzLlJxLmRlbGV0ZShlLlRrLmd1aWQpLHRoaXMuaUwuc2V0KGUuVGsuZ3VpZCx0KSx0aGlzLndDLmhIKCEwKX19LHQucHJvdG90eXBlLlNxPWZ1bmN0aW9uKGUpe2lmKHRoaXMudEwuaGFzKGUuVGsuZ3VpZCkpe3ZhciB0PXRoaXMudEwuZ2V0KGUuVGsuZ3VpZCk7dGhpcy50TC5kZWxldGUoZS5Uay5ndWlkKSx0aGlzLnJMLnNldChlLlRrLmd1aWQsdCl9fSx0LnByb3RvdHlwZS5wcT1mdW5jdGlvbihlKXt2YXIgdD10aGlzOy0xIT10aGlzLm5xJiZhLkZyYW1ld29yay5jbGVhckludGVydmFsKHRoaXMubnEpLHRoaXMubnE9YS5GcmFtZXdvcmsuc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXt0LmJxKCExKX0sZSl9LHQucHJvdG90eXBlLmJxPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7ZSYmdGhpcy5ucSYmKGEuRnJhbWV3b3JrLmNsZWFySW50ZXJ2YWwodGhpcy5ucSksdGhpcy5wcShjLm5pLk90LkF0KSk7dHJ5e2lmKHRoaXMuY29ubmVjdGVkKXt0aGlzLnRlLmRlYnVnKHRoaXMubW4rXCJBRERJTkcgTkVXIFBFRVJTIElGIFBPU1NJQkxFLCBOT1cgXCIrdGhpcy5ScS5sZW5ndGgrXCIvXCIrYy5uaS5PdC5QdCtcIixcIit0aGlzLmlMLmxlbmd0aCtcIi9pbmZpbml0eSBPVVQgUk5EIFwiK3RoaXMudEwubGVuZ3RoK1wiIE9VVCBMQU4gXCIrdGhpcy5yTC5sZW5ndGgpO3ZhciByPVtdLmNvbmNhdCh0aGlzLmlxLmtleXMoKSkuY29uY2F0KHRoaXMubHgua2V5cygpKSxpPXRoaXMueXguUHEoITApLG49dm9pZCAwO249dGhpcy53Qy5maygpfHx0aGlzLndDLlJrKCk/dGhpcy5jcS5BcSh0aGlzLndDLGMubmkuT3QuUHQsdGhpcy5ScS52YWx1ZXMoKSxyLGkpOnRoaXMuYXEuQXEoYy5uaS5PdC5QdCx0aGlzLlJxLnZhbHVlcygpLHIsaSksdGhpcy5DcT1uLmtxKCksbi5PcSgpLmZvckVhY2goZnVuY3Rpb24oZSl7dC5JcShlKX0pfWVsc2UgdGhpcy50ZS53YXJuKHRoaXMubW4rXCJOT1QgUlVOTklORyBJTiBQQVJUTkVSIENIT0lDRSwgU1JWIERJU0NPTk5FQ1RFRFwiKX1jYXRjaChlKXt2LkVycm9yTW9uaXRvci5naSgpLmRpKFwiUEFSVE5FUiBDSE9JQ0UgRVJST1JcIix0aGlzLm1uLGUpfX0sdC5wcm90b3R5cGUuSXE9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0cnl7dmFyIHI9ZS5Uay5ndWlkLGk9ZS5Uay51byxuPWUuVGsubG87dGhpcy50ZS5kZWJ1Zyh0aGlzLm1uK1wiSU4gUEFSVE5FUiBBREQgUFJPQ0VTUyBcIityKSx0aGlzLkVxKGUpfHx0aGlzLmlxLmhhcyhyKXx8dGhpcy5seC5oYXMocil8fHRoaXMubHEuX3EocixpLG4pfHwodGhpcy5seC5zZXQocixEYXRlLm5vdygpKSx0aGlzLkhsLmNvbm5lY3QocikudGhlbihmdW5jdGlvbihpKXt2YXIgbj1pLkJsLkRsKHQudnguc3dhcm1JZCk7bnVsbD09biYmKG49aS5CbC5BbCh0LnZ4LnN3YXJtSWQpKTt0Lmx4LmdldChyKTt0Lmx4LmRlbGV0ZShyKSx0LmFjdGl2ZSYmdC5OcShuKS50aGVuKGZ1bmN0aW9uKGkpe2lmKHQuRHEobixlLGkubXNnKSx0LkxxLkZxKCExLCExKSx0LmxxLk1xKHIsZS5Uay51byxlLlRrLmxvKSx0LkJxKG4pLHQuQ3EubGVuZ3RoPjAmJiFlLlVxKCkpe3ZhciBzPXQuQ3FbMF07dC54cShzLmd1aWQpLHMucXEuSHEobS50cSksdC5DcS5zcGxpY2UoMCwxKX19KS5mYWlsKGZ1bmN0aW9uKGUpe3QudGUuZGVidWcodC5tbitcIlBBUlRORVJTSElQIFJFUSBGQUlMRUQgVE8gXCIrcitcIiBCRUNBVVNFIFwiK2UpLHQuTHEuRnEoITEsITApLHQuVnEocil9KX0pLmZhaWwoZnVuY3Rpb24oZSl7dC50ZS5kZWJ1Zyh0Lm1uK1wiRkFJTEVEIEFERElORywgUkVNT1ZJTkcgXCIrcitcIiBCRUNBVVNFIFwiK2UpLHQuTHEuRnEoITAsITApLHQubHguZGVsZXRlKHIpLHQueXguYUgocil9KS5kb25lKCkpfWNhdGNoKGUpe3YuRXJyb3JNb25pdG9yLmdpKCkuZGkoXCJJTiBQQVJUTkVSIEFERCBQUk9DRVNTIEVSUk9SXCIsdGhpcy5tbixlKX19LHQucHJvdG90eXBlLmpxPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpczt0cnl7dmFyIG49ZS5ndWlkLHM9bnVsbCxvPW51bGw7aWYoZS51byYmKG89ZS51byksZS5sbyYmKHM9ZS5sbyksdGhpcy5HcShuKSl0aGlzLnRlLmluZm8odGhpcy5tbitcIkFMUkVBRFkgT1VUIFBBUlRORVIgXCIrbik7ZWxzZXt2YXIgdT1lLmZSLGw9dC5CbC5EbCh0aGlzLnZ4LnN3YXJtSWQpO2lmKHRoaXMuZlIhPT11fHxjLm5pLlV0Ll90IT09ZS5RcXx8dGhpcy5scS5fcShuLG8scykpdGhpcy50ZS5pbmZvKHRoaXMubW4rXCJQQVJUTkVSU0hJUCBDQU5OT1QgQkUgRVNUQUJMSVNIRUQgV0lUSCBcIituK1wiIENPTlRFWFQgSUQgXCIrdStcIiBwcm90b2NvbCB2ZXJzaW9uIFwiK2UuUXEpLHRoaXMuS3EobCxpLlpIKTtlbHNle3ZhciBwPXRoaXMuWXEoZSk7dGhpcy55eC5BeChbcF0sITEpO3ZhciBmPXRoaXMueXguenEobiksZD1mLlVxKCl8fHRoaXMudEwubGVuZ3RoPGMubmkuT3Qua3Q7aWYoIWQpe3RoaXMudGUuZGVidWcodGhpcy5tbitcIiBnb3Qgb3V0IHBhcnQgcmVxIGZyb20gXCIrbitcIiAtIHJlYWNoZWQgbWF4IFwiK3RoaXMudEwubGVuZ3RoK1wiL1wiK2MubmkuT3Qua3QpO3ZhciBnPXZvaWQgMDtnPXRoaXMud0MuZmsoKXx8dGhpcy53Qy5SaygpP3RoaXMudXEuSnEodGhpcy53QyxwLHRoaXMudEwudmFsdWVzKCkpOnRoaXMuaHEuSnEodGhpcy50TC52YWx1ZXMoKSksZyYmKHRoaXMudGUuZGVidWcodGhpcy5tbitcIiBjaG9ja2luZyBcIitnLmd1aWQpLHRoaXMudEwuZGVsZXRlKGcuZ3VpZCksZy5xcS5IcShtLmVxKSxkPSEwKX1pZihkKXt2YXIgeT1uZXcgaC5QYXJ0bmVyKG4sdGhpcy5McSxsLHRoaXMudGUsITEsZik7ZS5XcSYmeS5YcShlLldxKSx0aGlzLnl4LlpxLmhhcyhuKT90aGlzLnJMLnNldChuLHkpOnRoaXMudEwuc2V0KG4seSksdGhpcy50ZS5pbmZvKHRoaXMubW4rXCJBRERFRCBPVVQgUEFSVCBcIituKSx0aGlzLktxKGwsaS5YSCksdGhpcy5scS5NcShuLG8scyksYS5GcmFtZXdvcmsuc2V0VGltZW91dChmdW5jdGlvbigpe3IuJHEobil9LDUwMCksdGhpcy5McS5lVigpfWVsc2UgdGhpcy50ZS5pbmZvKHRoaXMubW4rXCIgY2Fubm90IGVzdGFibGlzaCBwYXJ0bmVyc2hpcCB0byBcIituK1wiIC0gcmVhY2hlZCBtYXggXCIrdGhpcy50TC5sZW5ndGgrXCIvXCIrYy5uaS5PdC5rdCksdGhpcy5LcShsLGkuWkgpfX19Y2F0Y2goZSl7di5FcnJvck1vbml0b3IuZ2koKS5kaShcIk9VVCBQQVJUIFJFUVVFU1QgUkVDRUlWRUQgRVJST1JcIix0aGlzLm1uLGUpfX0sdC5wcm90b3R5cGUuWXE9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IGQ7dC5ndWlkPWUuZ3VpZCxlLmludGVybmFsQXMmJih0LmludGVybmFsQXM9ZS5pbnRlcm5hbEFzKSxlLmV4dGVybmFsQXMmJih0LmV4dGVybmFsQXM9ZS5leHRlcm5hbEFzKSxlLmxvJiYodC5sbz1lLmxvKSxlLnVvJiYodC51bz1lLnVvKTt2YXIgcj0hMSxpPXRoaXMueXguenEoZS5ndWlkKTtpZihpJiYocj1pLlRrLnNvKSxlLnRWKXt2YXIgbj1bXTtlLnRWLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IGwubm87dC5zdGF0ZT1lLllOLHQuYml0cmF0ZT1lLmJpdHJhdGUsdC5kZWx0YT1lLmRlbHRhLG4ucHVzaCh0KX0pLHQuaG89bn1yZXR1cm4gbmV3IGwucG8obC5acy5Ycyx0LHIpfSx0LnByb3RvdHlwZS5LcT1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7dGhpcy50ZS5kZWJ1Zyh0aGlzLm1uK1wiU0VORCBQQVJUIFJFU1BPTlNFIFRPIFwiK2UuX2wpO3ZhciBuPW5ldyB1Lm11Lk1yLm5wLnJWO2lmKG4uYWNjZXB0PXQsbi5hY2NlcHQ9PT1pLlhIKXt0aGlzLndDLkVrKCkmJihuLmludGVybmFsQXM9dGhpcy53Qy5FaygpKSx0aGlzLndDLmlWKCkmJihuLmV4dGVybmFsQXM9dGhpcy53Qy5pVigpKSx0aGlzLndDLktoKCkmJihuLmxvPXRoaXMud0MuS2goKSksdGhpcy53Qy5DcygpJiYobi51bz10aGlzLndDLkNzKCkpLG4uV3E9dGhpcy53Qy5uVigpO3ZhciBzPXRoaXMud0Muc1YoKSxvPVtdO3MuZm9yRWFjaChmdW5jdGlvbihlLHQpe3ZhciBpPW5ldyB1Lm11Lk1yLm5wLm9WO2kuYml0cmF0ZT10LGkuWU49ZS50eXBlLGkuZGVsdGE9bnVsbCE9ci53Qy5hVigpP3Iud0MuYVYoKTotMSxvLnB1c2goaSl9KSxvLmxlbmd0aD4wJiZuLmhWKG8pfWUuamwodS5tdS5SbC5kbCxuKX0sdC5wcm90b3R5cGUuY1Y9ZnVuY3Rpb24oZSl7dGhpcy50ZS53YXJuKHRoaXMubW4rZSl9LHQucHJvdG90eXBlLkRxPWZ1bmN0aW9uKGUsdCxyKXt2YXIgaT1lLl9sO2lmKHIuZXh0ZXJuYWxBcyYmKHQuVGsuZXh0ZXJuYWxBcz1yLmV4dGVybmFsQXMpLHIuaW50ZXJuYWxBcyYmKHQuVGsuaW50ZXJuYWxBcz1yLmludGVybmFsQXMpLHIubG8mJih0LlRrLmxvPXIubG8pLHIudW8mJih0LlRrLnVvPXIudW8pLHIudFYpe3ZhciBuPVtdO3IudFYuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD1uZXcgbC5ubzt0LnN0YXRlPWUuWU4sdC5iaXRyYXRlPWUuYml0cmF0ZSx0LmRlbHRhPWUuZGVsdGEsbi5wdXNoKHQpfSksdC5Uay5obz1ufXZhciBzPW5ldyBoLlBhcnRuZXIoaSx0aGlzLkxxLGUsdGhpcy50ZSwhMCx0KTtyZXR1cm4gci5XcSYmKHMuV3E9ci5XcSxlLnJlY2VpdmVyLnVWKHIuV3EpLGUuc2VuZGVyLnVWKHIuV3EpKSx0LlRrLnR5cGU9PWwuWnMuSz8odGhpcy5pTC5zZXQoaSxzKSx0aGlzLndDLmxWKCEwKSx0aGlzLndDLmhIKCEwKSk6KDAhPXRoaXMud0MuRWsoKSYmdGhpcy53Qy5FaygpPT09dC5Uay5pbnRlcm5hbEFzJiZ0aGlzLndDLmxWKCEwKSx0aGlzLlJxLnNldChpLHMpKSx0aGlzLnRlLmRlYnVnKHRoaXMubW4raStcIiBJUyBOT1cgSU4gUEFSVE5FUlwiKSxzfSx0LnByb3RvdHlwZS5hSD1mdW5jdGlvbihlKXt0aGlzLnRlLmluZm8odGhpcy5tbitcIkdPVCBQRUVSIERJU0MgXCIrZSksdGhpcy5wVihlKSYmKHRoaXMudGUuaW5mbyh0aGlzLm1uK1wiSU4gUFJUIERJU0MgXCIrZSksdGhpcy54cShlKSksdGhpcy5HcShlKSYmKHRoaXMudGUuaW5mbyh0aGlzLm1uK1wiT1VUIFBSVCBESVNDIFwiK2UpLHRoaXMudEwuZGVsZXRlKGUpLHRoaXMuckwuZGVsZXRlKGUpKX0sdC5wcm90b3R5cGUueHE9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0aGlzLnRlLmRlYnVnKHRoaXMubW4rXCJJTiBQQVJUTkVSIFJFTU9WRSBcIitlKTt2YXIgcj10aGlzLmZWKGUpO2lmKHRoaXMuRUMuZFYociksdGhpcy5ScS5kZWxldGUoZSksdGhpcy5pTC5kZWxldGUoZSksdGhpcy5pTC5sZW5ndGg+MCl0aGlzLndDLmxWKCEwKTtlbHNlIGlmKDAhPXRoaXMud0MuRWsoKSl7dmFyIGk9ITE7dGhpcy5ScS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3Qud0MuRWsoKT09PWUuSWsuVGsuaW50ZXJuYWxBcyYmKGk9ITApfSksdGhpcy53Qy5sVihpKX1lbHNlIHRoaXMud0MubFYoITEpfSx0LnByb3RvdHlwZS5nVj1mdW5jdGlvbihlLHQpe3RoaXMudGUuZGVidWcodGhpcy5tbitcIkNMT1NFIFJFQ0VJVkVEIEZST00gXCIrZStcIiBUWVBFIFwiK21bdC5FTigpXSksdC5FTigpIT1tLm54JiZ0LkVOKCkhPW0udHF8fCh0aGlzLnRMLmhhcyhlKSYmdGhpcy50TC5kZWxldGUoZSksdGhpcy5yTC5oYXMoZSkmJnRoaXMuckwuZGVsZXRlKGUpKSx0LkVOKCkhPW0ubngmJnQuRU4oKSE9bS5lcXx8dGhpcy54cShlKX0sdC5wcm90b3R5cGUuTnE9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXMuZGVmZXIoKTt0cnl7dmFyIGk9bmV3IHUubXUuTXIubnAudlY7aS5ndWlkPXRoaXMuRWgsaS5mUj10aGlzLmZSLGkuUXE9Yy5uaS5VdC5fdCxpLldxPXRoaXMud0MublYoKSx0aGlzLndDLkVrKCkmJihpLmludGVybmFsQXM9dGhpcy53Qy5FaygpKSx0aGlzLndDLmlWKCkmJihpLmV4dGVybmFsQXM9dGhpcy53Qy5pVigpKSx0aGlzLndDLkNzKCkmJihpLnVvPXRoaXMud0MuQ3MoKSksdGhpcy53Qy5LaCgpJiYoaS5sbz10aGlzLndDLktoKCkpO3ZhciBuPXRoaXMud0Muc1YoKSxvPVtdO24uZm9yRWFjaChmdW5jdGlvbihlLHIpe3ZhciBpPW5ldyB1Lm11Lk1yLm5wLm9WO2kuYml0cmF0ZT1yLGkuWU49ZS50eXBlLGkuZGVsdGE9bnVsbCE9dC53Qy5hVigpP3Qud0MuYVYoKTotMSxvLnB1c2goaSl9KSxvLmxlbmd0aD4wJiZpLmhWKG8pLHRoaXMudGUuZGVidWcodGhpcy5tbitcIlNFTkQgUEFSVCBSRVEgVE8gXCIrZS5fbCtcIiBXSVRIIElEIFwiK2kuZlIrXCIgaW50ZXJuYWxBUyBcIitpLmludGVybmFsQXMrXCIgZXh0ZXJuYWxBcyBcIitpLmV4dGVybmFsQXMrXCIgcHJpdmF0ZSBpcCBcIitpLnVvK1wiIHB1YmxpYyBpcCBcIitpLmxvK1wiIHJHdWlkIFwiK3RoaXMud0MublYoKSk7dmFyIGg9YS5GcmFtZXdvcmsuc2V0VGltZW91dChmdW5jdGlvbigpe3QueVYocixlLl9sKX0sYy5uaS5PdC5idCk7dGhpcy5pcS5zZXQoZS5fbCx7Rng6aCxkZWZlcjpyfSksZS5qbCh1Lm11LlJsLmZsLGkpfWNhdGNoKGUpe3IucmVqZWN0KGUpfXJldHVybiByLlRlfSx0LnByb3RvdHlwZS5tVj1mdW5jdGlvbihlLHQpe3ZhciByPXQuX2wsbj10aGlzLmlxLmdldChyKTtuPyhhLkZyYW1ld29yay5jbGVhclRpbWVvdXQobi5GeCksdGhpcy5pcS5kZWxldGUociksZS5hY2NlcHQ9PT1pLlhIP24uZGVmZXIucmVzb2x2ZSh7UGw6dCxtc2c6ZX0pOm4uZGVmZXIucmVqZWN0KFwiTk9UIEFDQ0VQVEVEXCIpKTp0aGlzLnRlLndhcm4odGhpcy5tbitcIk9VVCBQQVJUIEZST00gVU5LTk9XTiBQRUVSIFwiK3IpfSx0LnByb3RvdHlwZS55Vj1mdW5jdGlvbihlLHQpe2lmKHRoaXMuaXEuaGFzKHQpKXt0aGlzLnRlLmRlYnVnKHRoaXMubW4rXCJQQVJUIFJFUSBFWFBJUkVEIFRPIFwiK3QpO3ZhciByPXRoaXMuaXEuZ2V0KHQpO3RoaXMuaXEuZGVsZXRlKHQpLHIuZGVmZXIucmVqZWN0KFwiRVhQSVJFRFwiKX19LHQucHJvdG90eXBlLmdxPWZ1bmN0aW9uKCl7dmFyIGU9cy5kZWZlcigpLHQ9dGhpcy5ScS52YWx1ZXMoKTt0aGlzLmlMLmZvckVhY2goZnVuY3Rpb24oZSxyKXt0LnB1c2goZSl9KTt2YXIgcj10LnNsaWNlKCkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLnFxLmNsb3NlKCl9KTtyZXR1cm4gcy5hbGwocikudGhlbihmdW5jdGlvbih0KXtlLnJlc29sdmUoXCJyZXNvbHZlZFwiKX0pLmZhaWwoZnVuY3Rpb24odCl7ZS5yZWplY3QoXCJjb3VsZCBub3QgY2xvc2VcIil9KSxlLlRlfSx0LnByb3RvdHlwZS5WcT1mdW5jdGlvbihlKXt0aGlzLkhsLmRpc2Nvbm5lY3QoZSl9LHQucHJvdG90eXBlLmZxPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7LTEhPXRoaXMuc3EmJmEuRnJhbWV3b3JrLmNsZWFySW50ZXJ2YWwodGhpcy5zcSksdGhpcy5zcT1hLkZyYW1ld29yay5zZXRJbnRlcnZhbChmdW5jdGlvbigpe3QuRVYoKX0sZSl9LHQucHJvdG90eXBlLkVWPWZ1bmN0aW9uKCl7aWYodGhpcy53Qy5TaygpJiYhdGhpcy53Qy5maygpJiZ5KXt2YXIgZT10aGlzLndDLmtrKCksdD10aGlzLmNvbnRleHQuX0MoKS5iaXRyYXRlO2lmKHQmJnRoaXMucFYoZS5Daykpe3ZhciByPXRoaXMuZlYoZS5Dayk7dGhpcy5UVihyLnFxLHQpfX19LHQucHJvdG90eXBlLlRWPWZ1bmN0aW9uKGUsdCl7dmFyIHI9bmV3IHUubXUuTXIubnAuRWw7ci5ndWlkPXRoaXMuRWgsci5iaXRyYXRlPXQsdGhpcy50ZS5kZWJ1Zyh0aGlzLm1uK1wiQU5OT1VOQ0UgQklUUkFURSBcIityLmJpdHJhdGUrXCIgVE8gUEVFUiBHVUlEIFwiK2UuX2wpLGUuamwodS5tdS5SbC5FbCxyKX0sdC5wcm90b3R5cGUuSVY9ZnVuY3Rpb24oZSl7dHJ5e3RoaXMudGUuZGVidWcodGhpcy5tbitcIlJFQ0VJVkVEIEJJVFJBVEUgXCIrZS5iaXRyYXRlK1wiIEZST00gUEVFUiBHVUlEIFwiK2UuZ3VpZCksdGhpcy55eC5acS5oYXMoZS53VigpKSYmKHRoaXMueXguWnEuZ2V0KGUuZ3VpZCkuU1YoZS5iaXRyYXRlKSx0aGlzLlJDLlJWKCkpfWNhdGNoKGUpe3YuRXJyb3JNb25pdG9yLmdpKCkuZGkoXCJFcnJvciBoYW5kbGluZyByZWNlaXZpbmcgYml0cmF0ZSBpbmZvXCIsdGhpcy5tbixlKX19LHQucHJvdG90eXBlLmJWPWZ1bmN0aW9uKGUpe3ZhciB0PWUuZ3VpZCxyPXRoaXMuZlYodCk7ciYmdGhpcy5QVihyLGUpLHI9dGhpcy5BVih0KSxyJiZ0aGlzLlBWKHIsZSksdGhpcy5scS5NcSh0LGUudW8sZS5sbyl9LHQucHJvdG90eXBlLlBWPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5Jay5UaztpZih0LnVvJiYoci51bz10LnVvKSx0LmxvJiYoci5sbz10LmxvKSx0LmV4dGVybmFsQXMmJihyLmV4dGVybmFsQXM9dC5leHRlcm5hbEFzKSx0LmludGVybmFsQXMmJihyLmludGVybmFsQXM9dC5pbnRlcm5hbEFzKSx0LnRWKXt2YXIgaT1bXTt0LnRWLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IGwubm87dC5iaXRyYXRlPWUuYml0cmF0ZSx0LmRlbHRhPWUuZGVsdGEsdC5zdGF0ZT1lLllOLGkucHVzaCh0KX0pLHIuaG89aX19LHQucHJvdG90eXBlLmRxPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dGhpcy5vcSYmYS5GcmFtZXdvcmsuY2xlYXJJbnRlcnZhbCh0aGlzLm9xKSx0aGlzLm9xPWEuRnJhbWV3b3JrLnNldEludGVydmFsKGZ1bmN0aW9uKCl7dC5DVigpfSxlKX0sdC5wcm90b3R5cGUuQ1Y9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2lmKHRoaXMud0MuQ3MoKXx8dGhpcy53Qy5LaCgpfHx0aGlzLndDLkVrKCl8fHRoaXMud0MuaVYoKSl7dmFyIHQ9dGhpcy5rVigpLHI9bmV3IHUubXUuTXIubnAuT1Y7ci5ndWlkPXRoaXMud0MuVygpLHRoaXMud0MuQ3MoKSYmKHIudW89dGhpcy53Qy5DcygpKSx0aGlzLndDLktoKCkmJihyLmxvPXRoaXMud0MuS2goKSksdGhpcy53Qy5pVigpJiYoci5leHRlcm5hbEFzPXRoaXMud0MuaVYoKSksdGhpcy53Qy5FaygpJiYoci5pbnRlcm5hbEFzPXRoaXMud0MuRWsoKSk7dmFyIGk9dGhpcy53Qy5zVigpLG49W107aS5mb3JFYWNoKGZ1bmN0aW9uKHQscil7dmFyIGk9bmV3IHUubXUuTXIubnAub1Y7aS5iaXRyYXRlPXIsaS5ZTj10LnR5cGUsaS5kZWx0YT1udWxsIT1lLndDLmFWKCk/ZS53Qy5hVigpOi0xLG4ucHVzaChpKX0pLG4ubGVuZ3RoPjAmJnIuaFYobiksdC5mb3JFYWNoKGZ1bmN0aW9uKGUsdCl7ZS5xcS5qbCh1Lm11LlJsLmhoLHIpfSl9fSx0LnByb3RvdHlwZS5rVj1mdW5jdGlvbigpe3ZhciBlPW5ldyBvO3JldHVybiB0aGlzLnRMLmZvckVhY2goZnVuY3Rpb24odCxyKXtlLmhhcyhyKXx8ZS5zZXQocix0KX0pLHRoaXMuckwuZm9yRWFjaChmdW5jdGlvbih0LHIpe2UuaGFzKHIpfHxlLnNldChyLHQpfSksdGhpcy5pTC5mb3JFYWNoKGZ1bmN0aW9uKHQscil7ZS5oYXMocil8fGUuc2V0KHIsdCl9KSx0aGlzLlJxLmZvckVhY2goZnVuY3Rpb24odCxyKXtlLmhhcyhyKXx8ZS5zZXQocix0KX0pLGV9LHR9KHAuX1YpO3QuTlY9RX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZX0oKTtpLkRWPSEwLGkuRlY9M2U0LGkuTFY9NmU0LGkuTVY9M2U0LHQuQlY9aTt2YXIgbj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGV9KCk7bi5Ycj1cInNpdGVcIixuLlpyPVwiZXh0ZXJuYWxBc1wiLG4uJHI9XCJhdmFpbGFibGVTZW5kUmF0ZVwiLG4uZWk9XCJyZW1vdGVBZGRyZXNzXCIsbi50aT1cImxvY2FsQWRkcmVzc1wiLHQuVVY9bn0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe3RoaXMueFY9ZSx0aGlzLkhWPXR9cmV0dXJuIGUucHJvdG90eXBlLmtxPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuSFZ9LGUucHJvdG90eXBlLk9xPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueFZ9LGV9KCk7dC5xVj1pfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlLlZWPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5HVi5qVighMSksaT10LkdWLmpWKCExKTtyZXR1cm4gcj5pPzE6cjxpPzA6LTF9LGV9KCk7dC5RVj1pO3ZhciBuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZS5WVj1mdW5jdGlvbihlLHQpe3ZhciByPWUuS1YualYoITEpLGk9dC5LVi5qVighMSk7cmV0dXJuIHI+aT8xOnI8aT8wOi0xfSxlfSgpO3QuWVY9bn0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXRoaXMmJnRoaXMuTnN8fGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gcigpe3RoaXMuY29uc3RydWN0b3I9ZX1mb3IodmFyIGkgaW4gdCl0Lmhhc093blByb3BlcnR5KGkpJiYoZVtpXT10W2ldKTtlLnByb3RvdHlwZT1udWxsPT09dD9PYmplY3QuY3JlYXRlKHQpOihyLnByb3RvdHlwZT10LnByb3RvdHlwZSxuZXcgcil9LG49cig5Nykscz1yKDcpLG89cigxOCksYT1yKDIpLGg9cig1KSxjPWguUnQuRmk7LTE9PWMmJihjPTNlNCk7dmFyIHU9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LHIpe3ZhciBpPWUuY2FsbCh0aGlzLHIpfHx0aGlzO3JldHVybiBpLnBsdWdpbk5hbWU9XCJiaXRtb3ZpblwiLGkuelY9ITEsaS5KVj12b2lkIDAsaS5wbGF5ZXI9dCxpLnBsYXllci5pbml0U2Vzc2lvbj1mdW5jdGlvbihlKXtyZXR1cm4gaS5XVigpLGkuWFYoZSkudGltZW91dChjLGkubW4rXCIgSGl2ZSBQbHVnaW4gaW5pdGlhbGl6YXRpb24gdGltZW91dFwiKS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiBpLlpWKCksZS5EbigpfSkuY2F0Y2goZnVuY3Rpb24oZSl7cmV0dXJuIGkuJFYoKSxpLldWKCksaS50ZSgpLmRlYnVnKGkubW4rXCIgZXJyb3Igb2NjdXJyZWQgcmVzb2x2aW5nIHRoZSB0aWNrZXQgLSBcIisoZS5zdGFja3x8ZS5tZXNzYWdlfHxlKSksYS5yZWplY3QoZSl9KX0saS50ZSgpLm5vdGljZShpLm1uK1wicmVnaXN0ZXJlZCBwbHVnaW4gW25hbWU6XCIraS5laigpK1wiXVtpZDogXCIraS50aigpK1wiXVt2ZXJzaW9uOiBcIitpLnJqKCkrXCJdXCIpLGl9cmV0dXJuIGkodCxlKSx0LnByb3RvdHlwZS5aVj1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy56Vnx8KHRoaXMucGxheWVyLmFkZEV2ZW50SGFuZGxlcihcIm9uUmVhZHlcIixmdW5jdGlvbigpe2lmKGUudGUoKS5kZWJ1ZyhcImJpdG1vdmluLnBsYXllci5FVkVOVC5PTl9SRUFEWVwiKSxlLmVGKCkpeyEhZS5wbGF5ZXIuZ2V0Q29uZmlnKCkuaWomJmUucGxheWVyLmdldENvbmZpZygpLmlqLm5qJiZlLnNqKCExKSxlLm9qKCkmJihlLmFqPW5ldyBzLm5zKX19KSx0aGlzLnBsYXllci5hZGRFdmVudEhhbmRsZXIoXCJvblBsYXlcIixmdW5jdGlvbigpe2UudGUoKS5kZWJ1ZyhcImJpdG1vdmluLnBsYXllci5FVkVOVC5PTl9QTEFZXCIpLGUuaGooby5rYy4kYS5RYSl9KSx0aGlzLnBsYXllci5hZGRFdmVudEhhbmRsZXIoXCJvbkVycm9yXCIsZnVuY3Rpb24odCl7ZS50ZSgpLmRlYnVnKFwiYml0bW92aW4ucGxheWVyLkVWRU5ULk9OX0VSUk9SXCIpO3ZhciByPS0xLGk9bnVsbDtpZihudWxsIT10KXRyeXtyPXQuY29kZSxpPUpTT04uc3RyaW5naWZ5KHQsbnVsbCl9Y2F0Y2goZSl7aT10fWUub25FcnJvcihyLGkpfSksdGhpcy5wbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKFwib25QbGF5YmFja0ZpbmlzaGVkXCIsZnVuY3Rpb24oKXtlLnRlKCkuZGVidWcoXCJiaXRtb3Zpbi5wbGF5ZXIuRVZFTlQuT05fUExBWUJBQ0tfRklOSVNIRURcIiksZS5jaihvLmtjLiRhLkphLHtjb2RlOjF9KX0pLHRoaXMucGxheWVyLmFkZEV2ZW50SGFuZGxlcihcIm9uU2Vla1wiLGZ1bmN0aW9uKCl7ZS50ZSgpLmRlYnVnKFwiYml0bW92aW4ucGxheWVyLkVWRU5ULk9OX1NFRUtcIiksZS5jaihvLmtjLiRhLnphKX0pLHRoaXMucGxheWVyLmFkZEV2ZW50SGFuZGxlcihcIm9uRnVsbHNjcmVlbkVudGVyXCIsZnVuY3Rpb24oKXtlLnRlKCkuZGVidWcoXCJiaXRtb3Zpbi5wbGF5ZXIuRVZFTlQuT05fRlVMTFNDUkVFTl9FTlRFUlwiKSxlLmNqKG8ua2MuJGEuWGEse3ZhbHVlOiEwfSl9KSx0aGlzLnBsYXllci5hZGRFdmVudEhhbmRsZXIoXCJvbkZ1bGxzY3JlZW5FeGl0XCIsZnVuY3Rpb24oKXtlLnRlKCkuZGVidWcoXCJiaXRtb3Zpbi5wbGF5ZXIuRVZFTlQuT05fRlVMTFNDUkVFTl9FWElUXCIpLGUuY2ooby5rYy4kYS5YYSx7dmFsdWU6ITF9KX0pLHRoaXMucGxheWVyLmFkZEV2ZW50SGFuZGxlcihcIm9uU2VnbWVudFJlcXVlc3RGaW5pc2hlZFwiLGZ1bmN0aW9uKHQpe3ZhciByPXQubWltZVR5cGUuaW5kZXhPZihcInZpZGVvXCIpPj0wO2lmKHZvaWQgMD09PWUudWope3ZhciBpPWUucGxheWVyLmdldFBsYXliYWNrVmlkZW9EYXRhKCk7aSYmaS5iaXRyYXRlJiZlLmxqKGkuYml0cmF0ZSl9aWYodC5zdWNjZXNzKXtpZighdC5pc0luaXQmJmUudWope3ZhciBuPTgqdC5zaXplL3QuZG93bmxvYWRUaW1lO2UuYWouS24ocixlLnVqLHQuc2l6ZSksZS5hai56bihuKX19ZWxzZSBlLmFqLlluKHIsZS51ail9KSwwPT09dGhpcy5nZXRQbGF5ZXJWZXJzaW9uKCkuaW5kZXhPZihcIjdcIik/dGhpcy5waigpOjA9PT10aGlzLmdldFBsYXllclZlcnNpb24oKS5pbmRleE9mKFwiNlwiKSYmdGhpcy5maigpLHRoaXMuelY9ITApfSx0LnByb3RvdHlwZS5maj1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5wbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKFwib25TdGFydEJ1ZmZlcmluZ1wiLGZ1bmN0aW9uKCl7ZS50ZSgpLmRlYnVnKFwiYml0bW92aW4ucGxheWVyLkVWRU5ULk9OX1NUQVJUX0JVRkZFUklOR1wiKSxlLnNqKCl9KSx0aGlzLnBsYXllci5hZGRFdmVudEhhbmRsZXIoXCJvblN0b3BCdWZmZXJpbmdcIixmdW5jdGlvbigpe2UudGUoKS5kZWJ1ZyhcImJpdG1vdmluLnBsYXllci5FVkVOVC5PTl9TVE9QX0JVRkZFUklOR1wiKSxlLmRqKCl9KSx0aGlzLnBsYXllci5hZGRFdmVudEhhbmRsZXIoXCJvblBhdXNlXCIsZnVuY3Rpb24oKXtlLnRlKCkuZGVidWcoXCJiaXRtb3Zpbi5wbGF5ZXIuRVZFTlQuT05fUEFVU0VcIiksZS5oaihvLmtjLiRhLllhKX0pLHRoaXMucGxheWVyLmFkZEV2ZW50SGFuZGxlcihcIm9uVmlkZW9Eb3dubG9hZFF1YWxpdHlDaGFuZ2VcIixmdW5jdGlvbih0KXtlLlNfKCk9PT1TdHJlYW1Qcm90b2NvbC5PVT9lLmxqKHQudGFyZ2V0UXVhbGl0eSk6ZS5saih0LnRhcmdldFF1YWxpdHkuc3BsaXQoXCJiclwiKVsxXSl9KX0sdC5wcm90b3R5cGUucGo9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMucGxheWVyLmFkZEV2ZW50SGFuZGxlcihcIm9uU3RhbGxTdGFydGVkXCIsZnVuY3Rpb24oKXtlLnRlKCkuZGVidWcoXCJiaXRtb3Zpbi5wbGF5ZXIuRVZFTlQuT05fU1RBTExfU1RBUlRFRFwiKSxlLnNqKCl9KSx0aGlzLnBsYXllci5hZGRFdmVudEhhbmRsZXIoXCJvblN0YWxsRW5kZWRcIixmdW5jdGlvbigpe2UudGUoKS5kZWJ1ZyhcImJpdG1vdmluLnBsYXllci5FVkVOVC5PTl9TVEFMTF9FTkRFRFwiKSxlLmRqKCl9KSx0aGlzLnBsYXllci5hZGRFdmVudEhhbmRsZXIoXCJvblBhdXNlZFwiLGZ1bmN0aW9uKCl7ZS50ZSgpLmRlYnVnKFwiYml0bW92aW4ucGxheWVyLkVWRU5ULk9OX1BBVVNFRFwiKSxlLmhqKG8ua2MuJGEuWWEpfSksdGhpcy5wbGF5ZXIuYWRkRXZlbnRIYW5kbGVyKFwib25WaWRlb0Rvd25sb2FkUXVhbGl0eUNoYW5nZWRcIixmdW5jdGlvbih0KXtlLmxqKHQudGFyZ2V0UXVhbGl0eSYmdC50YXJnZXRRdWFsaXR5LmJpdHJhdGV8fHQuZ2omJnQuZ2ouYml0cmF0ZSl9KX0sdC5wcm90b3R5cGUubGo9ZnVuY3Rpb24oZSl7dGhpcy50ZSgpLmRlYnVnKFwibmV3Qml0cmF0ZVwiLGUpLHRoaXMudWomJmU+dGhpcy51aj90aGlzLmFqLkpuKCk6dGhpcy51aiYmdGhpcy51aj5lJiZ0aGlzLmFqLlduKCksdGhpcy51aj1lfSx0LnByb3RvdHlwZS5oaj1mdW5jdGlvbihlKXt2b2lkIDAhPXRoaXMuSlYmJnRoaXMuSlY9PT1lfHwodGhpcy5jaihlKSx0aGlzLkpWPWUpfSx0LnByb3RvdHlwZS5iXz1mdW5jdGlvbigpe3ZhciBlPXRoaXMuU18oKTtyZXR1cm4gZT09PVN0cmVhbVByb3RvY29sLk9VP3RoaXMucGxheWVyLmdldENvbmZpZygpLnNvdXJjZS5obHM6ZT09PVN0cmVhbVByb3RvY29sLnlCP3RoaXMucGxheWVyLmdldENvbmZpZygpLnNvdXJjZS5kYXNoOnZvaWQgMH0sdC5wcm90b3R5cGUuZ2V0Q3VycmVudFRpbWU9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9dGhpcy5wbGF5ZXI/TWF0aC5yb3VuZCgxZTMqdGhpcy5wbGF5ZXIuZ2V0Q3VycmVudFRpbWUoKSk6MH0sdC5wcm90b3R5cGUudmo9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9dGhpcy5wbGF5ZXImJm51bGwhPXRoaXMucGxheWVyLmdldFZpZGVvQnVmZmVyTGVuZ3RoJiZ0aGlzLnBsYXllci5nZXRWaWRlb0J1ZmZlckxlbmd0aCgpPjA/TWF0aC5tYXgoMCxNYXRoLnJvdW5kKDFlMyp0aGlzLnBsYXllci5nZXRWaWRlb0J1ZmZlckxlbmd0aCgpKSk6MH0sdC5wcm90b3R5cGUueWo9ZnVuY3Rpb24oKXtpZih0aGlzLnBsYXllcil7dmFyIGU9dGhpcy5wbGF5ZXIuZ2V0RmlndXJlKCk7cmV0dXJue3dpZHRoOmUub2Zmc2V0V2lkdGgsaGVpZ2h0OmUub2Zmc2V0SGVpZ2h0fX19LHQucHJvdG90eXBlLmlzRnVsbHNjcmVlbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBsYXllci5pc0Z1bGxzY3JlZW4oKX0sdC5wcm90b3R5cGUuaXNMaXZlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGxheWVyLmlzTGl2ZSgpfSx0LnByb3RvdHlwZS5jaT1mdW5jdGlvbigpe3JldHVybiEwfSx0LnByb3RvdHlwZS5TXz1mdW5jdGlvbigpe2lmKHRoaXMucGxheWVyKXt2YXIgZT10aGlzLnBsYXllci5nZXRTdHJlYW1UeXBlKCk7aWYoXCJobHNcIj09PWUpcmV0dXJuIFN0cmVhbVByb3RvY29sLk9VO2lmKFwiZGFzaFwiPT09ZSlyZXR1cm4gU3RyZWFtUHJvdG9jb2wueUJ9cmV0dXJuIG51bGx9LHQucHJvdG90eXBlLl9fPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5hajtyZXR1cm4gdGhpcy5haj1uZXcgcy5ucyxlfSx0LnByb3RvdHlwZS5laj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBsdWdpbk5hbWV9LHQucHJvdG90eXBlLnJqPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWooKX0sdC5wcm90b3R5cGUuRWo9ZnVuY3Rpb24oKXtpZih0aGlzLnBsYXllcilyZXR1cm4gdGhpcy5wbGF5ZXIuZ2V0UGxheWVyVHlwZSgpfSx0LnByb3RvdHlwZS5nZXRQbGF5ZXJWZXJzaW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMCE9PWJpdG1vdmluLnBsYXllci52ZXJzaW9uP2JpdG1vdmluLnBsYXllci52ZXJzaW9uOnRoaXMucGxheWVyLmdldFZlcnNpb24oKX0sdH0obi5nbi5QbHVnaW4pO3QuVGo9dTt2YXIgbD1mdW5jdGlvbihlLHQpe25ldyB1KGUsdCl9O2JpdG1vdmluLmluaXRIaXZlU0ROPWx9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1yKDEpLG49cigyKSxzPXIoMCksbz1yKDEwMiksYT1yKDEwMyksaD1yKDI2KSxjPXIoMzgpLHU9cig3KSxsPXIoMTA3KSxwPXIoMTgpLGY9cigxMDkpLGQ9cig5KSxnPXIoMTExKSx2PXIoNTMpLHk9cigyOSksbT1yKDQpLEU9cig0MiksVD1yKDQ5KSxJPXIoNSksdz1vLmduLm91LFM9YS5nbi5JaixSPWguZ24uWm0sYj1oLmduLmRFLFA9aC5nbi5IaXZlVGVjaEVycm9yLEE9aC5nbi5jRSxDPWguZ24ueUUsaz1JLlJ0LndpLE89SS5SdC5UaSxfPUkuUnQuRWksTj1JLlJ0LklpOyhffHxOKSYmcig4KS5IaXZlQ29uZmlnLHQudmVyc2lvbj1rOyFmdW5jdGlvbihlKXt2YXIgYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dGhpcy53aj1bU1tTLkhpdmVKYXZhXSxTW1MuSGl2ZUpzUHJveHldLFNbUy5IaXZlSlNdLFNbUy5TdGF0c0pTXV0sdGhpcy5Taj1uZXcgaSx0aGlzLlJqPW5ldyBBcnJheSx0aGlzLmJqPW5ldyBBcnJheSx0aGlzLlBqPW51bGwsdGhpcy5Baj0wLHRoaXMuQ2o9MCx0aGlzLm1uPVwiW0hpdmVDb21tXSBcIix0aGlzLmtqPTAsdGhpcy5Paj11LkVzLmdldEl0ZW0oXCJoaXZlUGx1Z2luSWRcIiksdGhpcy5Panx8KHRoaXMuT2o9TWF0aC5hYnMoTWF0aC5mbG9vcig2ODcxOTQ3NjczNipNYXRoLnJhbmRvbSgpKSkudG9TdHJpbmcoMTYpLHUuRXMuc2V0SXRlbShcImhpdmVQbHVnaW5JZFwiLHRoaXMuT2opKSxtLkVycm9yTW9uaXRvci5naSh0LnZlcnNpb24pLHRoaXMub3B0aW9uc189bmV3IHcuX2osdGhpcy5OaihlKSx1LnZzKGUsdGhpcy5vcHRpb25zXyksdS55cyh3aW5kb3cubG9jYXRpb24uaHJlZixuZXcgdy5Eaix0aGlzLm9wdGlvbnNfKSxvLkxqLkZqKHRoaXMub3B0aW9uc18pLHRoaXMuY3U9cy5GcmFtZXdvcmsucmVzb2x2ZShzLkZyYW1ld29yay5xLkkpLGMuSGl2ZUNvbmZpZy5GcmFtZXdvcmsuTG9nZ2VyVGltZXN0YW1wPXRoaXMub3B0aW9ucygpLmxvZ2dlclRpbWVzdGFtcCx0aGlzLmN1Lm1BKHRoaXMub3B0aW9ucygpLmRlYnVnTGV2ZWwpLG0uRXJyb3JNb25pdG9yLmdpKCkubWkodGhpcy5jdS5sb2coKSk7dmFyIHI9cy5GcmFtZXdvcmsucmVzb2x2ZShkLlFzLkQpLG49cy5GcmFtZXdvcmsucmVzb2x2ZShkLlFzLlVzKTtyLmpjKCkudGhlbihmdW5jdGlvbihlKXttLkVycm9yTW9uaXRvci5naSgpLnNldFVzZXIoZS5LYygpKX0pO3ZhciBhPXt9O25ldyBsLk1qKHRoaXMpLG4uVmgoKS50aGVuKGZ1bmN0aW9uKGUpe2E9e3BJUEFkZHI6ZS5RaCgpLkNzKCl9LG0uRXJyb3JNb25pdG9yLmdpKCkuc2V0Q3VzdG9tRGF0YShhKX0pLHdpbmRvdy51dT10aGlzLmN1LmxvZygpLHRoaXMuQmooKSx0aGlzLlVqPW5ldyBDKHRoaXMpO3ZhciBoPXRoaXMub3B0aW9ucygpLmlkbGVUaW1lUGVyaW9kPnRoaXMub3B0aW9ucygpLmZlZWRiYWNrUGVyaW9kP3RoaXMub3B0aW9ucygpLmlkbGVUaW1lUGVyaW9kOlQuTi5hTzt0aGlzLnhqPW5ldyB1LkFzKGgpfXJldHVybiBlLnByb3RvdHlwZS5vcHRpb25zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3B0aW9uc199LGUucHJvdG90eXBlLnRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuUGo/dGhpcy5jdS5sb2codGhpcy5Qai5pZCk6dGhpcy5jdS5sb2coKX0sZS5wcm90b3R5cGUuSGo9ZnVuY3Rpb24oKXtpZih0aGlzLnRlKXJldHVybiB0aGlzLmN1LmxldmVsfSxlLnByb3RvdHlwZS50aj1mdW5jdGlvbigpe3JldHVybiB0aGlzLk9qfSxlLnByb3RvdHlwZS5taj1mdW5jdGlvbigpe3JldHVybiB0LnZlcnNpb259LGUucHJvdG90eXBlLnFqPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPTAsdD10aGlzLmJqO2U8dC5sZW5ndGg7ZSsrKXt2YXIgcj10W2VdO3IudGVjaC5rXyh0aGlzKSxcIkhpdmVKU1wiPT09ci50ZWNoLkZuKCkmJnIudGVjaC5WaiYmci50ZWNoLlZqLmtfKHRoaXMpfX0sZS5wcm90b3R5cGUuTmo9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IHYuU3RhdHNKUyh0aGlzLGUpO2lmKHRoaXMuU2ouc2V0KHYuU3RhdHNKUy5jXyx0KSxfKXt2YXIgaT1yKDEzMCkuSGl2ZUpTO3RoaXMuU2ouc2V0KGkuY18sbmV3IGkodGhpcyxlLHQpKX1pZihOKXt2YXIgbj1yKDE5NikuSGl2ZUpzUHJveHk7dGhpcy5Tai5zZXQobi5jXyxuZXcgbih0aGlzLGUsdCkpfWlmKE8pe3ZhciBzPXIoMTk4KS5IaXZlSmF2YTt0aGlzLlNqLnNldChzLmNfLG5ldyBzKHRoaXMsZSkpfXZhciBvPWUuaGl2ZVRlY2hPcmRlcjtpZighb3x8byBpbnN0YW5jZW9mIEFycmF5KWlmKG8mJm8ubGVuZ3RoPjApZm9yKHZhciBhPW8ubGVuZ3RoO2EtLTspe3ZhciBoPW9bYV07XCJzdHJpbmdcIiE9dHlwZW9mIGh8fC0xPT10aGlzLndqLmluZGV4T2YoaCk/KGNvbnNvbGUud2Fybih0aGlzLm1uKydUaGUgXCInK2grJ1wiIEhpdmUgdGVjaCBpcyB1bmRlZmluZWQnKSxvLnNwbGljZShhLDEpKTpcInN0cmluZ1wiPT10eXBlb2YgaCYmdGhpcy5Tai5oYXMoaCl8fGNvbnNvbGUud2Fybih0aGlzLm1uKydUaGUgXCInK2grJ1wiIEhpdmUgdGVjaCBpcyBub3QgZW5hYmxlZCBvbiB0aGlzIHBsdWdpbicpfWVsc2Ugbz10aGlzLndqO2Vsc2UgY29uc29sZS53YXJuKHRoaXMubW4rXCJoaXZlVGVjaE9yZGVyIHZhbHVlIG5vdCBhY2NlcHRlZC4gSXQgbXVzdCBiZSBhbiBhcnJheSBvZiBzdHJpbmdzXCIpLG89dGhpcy53ajtlLmhpdmVUZWNoT3JkZXI9b30sZS5wcm90b3R5cGUuWFY9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0aGlzLnRlKCkubm90aWNlKHRoaXMubW4rXCJyZXNvbHZpbmcgXCIrZSk7dmFyIHI9bi5kZWZlcigpO2lmKCFlKXJldHVybiByLnJlamVjdCh1Lm1zKFwiXCIsUi5YbSxcIk5vIHRpY2tldCBwcm92aWRlZC5cIikpLHIuVGU7dGhpcy5qaihlKTt2YXIgaT10aGlzLkdqKCkudmFsdWVzKCk7MD09aS5sZW5ndGgmJnIucmVqZWN0KHUubXMoZSxSLnptKSk7dmFyIHMsbyxhPSExLGg9ITEsYz0wLGw9bnVsbDtyZXR1cm4gdS5scyhmdW5jdGlvbigpe3JldHVybiFhJiYhaCYmYzxpLmxlbmd0aCYmIXN9LGZ1bmN0aW9uKCl7dmFyIHI9aVtjKytdO3IuQ18oKTt2YXIgdTtyZXR1cm4gdT1yLnVfKCkmJiFvP3QuTEwoZSk6bi5yZXNvbHZlKG51bGwpLHUudGhlbihmdW5jdGlvbihpKXtudWxsIT1pJiYobz1pKTt2YXIgcz1yLmZfKCk7cmV0dXJuIHIuaW5pdFNlc3Npb24oZSxvKS50aW1lb3V0KHMsXCJbXCIrci5GbigpK1wiXSBFcnJvcjogaW5pdGlhbGl6YXRpb24gdGltZWQgb3V0IGFmdGVyIFwiK3MrXCJtc1wiKS50aGVuKGZ1bmN0aW9uKGUpe2w9ZSx0LlFqKGwsciksYT0hMCwhci51XygpJiZvJiZvLnRjLnJlc2V0KCksdC50ZSgpLm5vdGljZSh0Lm1uK1wiaW5pdGlhbGl6aW5nIFNlc3Npb246W1wiK2wuaWQrXCJdIFRpY2tldDpcIitsLnRpY2tldC50b1N0cmluZygpK1wiIEhpdmVUZWNoOltcIitsLnRlY2guRm4oKStcIl1cIiksbi5yZXNvbHZlKCEwKX0sZnVuY3Rpb24oaSl7aSBpbnN0YW5jZW9mIEVycm9yJiYoaT1uZXcgUChBLmhFLGkubWVzc2FnZSksci5BXyhpKSksaS50aWNrZXRVcmw9ZSxoPSFyLm9uRXJyb3IoaSksdC50ZSgpLmRlYnVnKHQubW4rXCJ0ZWNoIFwiK3IuRm4oKStcIjogXCIraS5tZXNzYWdlKSxuLnJlc29sdmUoITApfSl9LGZ1bmN0aW9uKGUpe3M9ZSxuLnJlc29sdmUoITApfSl9KS50aGVuKGZ1bmN0aW9uKCl7cz9yLnJlamVjdCh1Lm1zKGUsUi5YbSxzKSk6aD9yLnJlamVjdCh1Lm1zKGUsUi5XbSkpOmE/ci5yZXNvbHZlKGwpOnIucmVqZWN0KHUubXMoZSxSLnptKSl9KS5jYXRjaChmdW5jdGlvbihpKXttLkVycm9yTW9uaXRvci5naSgpLmRpKFwiRXJyb3IgcmVzb2x2aW5nIHRpY2tldCBwcm9taXNlXCIsdC5tbixpKSxyLnJlamVjdCh1Lm1zKGUsUi5ZbSxpLnRvU3RyaW5nKCkpKX0pLmRvbmUoKSxyLlRlfSxlLnByb3RvdHlwZS5MTD1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiB5LkhpdmUuUmVwb3J0aW5nKCkuaW5pdFNlc3Npb24oZSwhMSkudGhlbihmdW5jdGlvbihyKXtyZXR1cm4gdC50ZSgpLmRlYnVnKHQubW4rXCJ2ZXJpZmllZCB0aWNrZXQgXCIrZSksdC53aChyKSxyfSkuY2F0Y2goZnVuY3Rpb24oZSl7cmV0dXJuIG4ucmVqZWN0KFwiVGlja2V0IG5vdCB2ZXJpZmllZCwgZXJyb3I6IFwiK2UubWVzc2FnZSl9KX0sZS5wcm90b3R5cGUuR2o9ZnVuY3Rpb24oKXt2YXIgZT1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMub3B0aW9ucygpLmhpdmVUZWNoT3JkZXIpKSx0PW5ldyBpO2Zvcih2YXIgciBpbiBlKXRoaXMuU2ouaGFzKGVbcl0pJiZ0LnNldChlW3JdLHRoaXMuU2ouZ2V0KGVbcl0pKTtyZXR1cm4gdH0sZS5wcm90b3R5cGUuamo9ZnVuY3Rpb24oZSl7dmFyIHQ9bS5FcnJvck1vbml0b3IuZ2koKTt0cnl7dmFyIHI9bmV3IEUuVkE7ci5BQShlKSxyLkxoKCkmJnIuTWgoKSYmci5YYygpP3Quc2V0VGFncyhbci5MaCgpLHIuTWgoKSxyLlhjKCldKTp0LmRpKFwiVGlja2V0IG5vdCB2YWxpZCwgd2UgY291bGQgbm90IHJlc29sdmUgdGhlIHRyaXBsZSBwYXJ0bmVySWQvQ3VzdG9tZXJJZC9Db250ZW50SWRcIix0aGlzLm1uLHtwYXJ0bmVySWQ6ci5MaCgpLGN1c3RvbWVySWQ6ci5NaCgpLGNvbnRlbnRJZDpyLlhjKCl9KX1jYXRjaChlKXt0aGlzLnRlKCkud2Fybih0aGlzLm1uK1wiIFwiK2UubWVzc2FnZSxlKSx0Lm5vdGlmeShlKX19LGUucHJvdG90eXBlLndoPWZ1bmN0aW9uKGUpe3ZhciByPXtjb21tVmVyc2lvbjp0LnZlcnNpb24scGx1Z2luTmFtZTp0aGlzLmVqKCkscGx1Z2luVmVyc2lvbjp0aGlzLnJqKCkscGxheWVyVGVjaDp0aGlzLkVqKCkscGxheWVyVmVyc2lvbjp0aGlzLmdldFBsYXllclZlcnNpb24oKSx0ZWxlbWV0cnlJZDp0aGlzLktqKCl9O2UudGMud2gocil9LGUucHJvdG90eXBlLiRWPWZ1bmN0aW9uKCl7d2luZG93LkhpdmVSZXF1ZXN0PVhNTEh0dHBSZXF1ZXN0LHUuSGl2ZVJlcXVlc3RGYWN0b3J5LmNsZWFyKCkseS5IaXZlLlJlcG9ydGluZygpLmNsb3NlKCl9LGUucHJvdG90eXBlLllqPWZ1bmN0aW9uKGUpe3RoaXMuUGomJnRoaXMuUGoudGVjaD8oZS5zZXNzaW9uSWQ9dGhpcy5Qai5pZCx0aGlzLlBqLnRlY2guTmgodGhpcy5QaixlKSk6dGhpcy5Sai5wdXNoKGUpfSxlLnByb3RvdHlwZS5QXz1mdW5jdGlvbigpe3ZhciBlPXRoaXMuUmo7cmV0dXJuIHRoaXMuUmo9bmV3IEFycmF5LGV9LGUucHJvdG90eXBlLkJqPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXdpbmRvdzt0LmFkZEV2ZW50TGlzdGVuZXI/dC5hZGRFdmVudExpc3RlbmVyKFwiYmVmb3JldW5sb2FkXCIsZnVuY3Rpb24oKXtlLnpqKCEwLCExKX0sITEpOnQuYXR0YWNoRXZlbnQoXCJvbmJlZm9yZXVubG9hZFwiLGZ1bmN0aW9uKCl7ZS56aighMCwhMSl9KX0sZS5wcm90b3R5cGUuY2xvc2VIaXZlU2Vzc2lvbj1mdW5jdGlvbihlKXt0aGlzLnRlKCkuZGVidWcoXCJNYW51YWxseSBDbG9zaW5nIFNlc3Npb25cIisoZT9cIiBiZWNhdXNlOiBcIitlOlwiXCIpKTt2YXIgdD10aGlzLm9qKCk7dCYmdS5IaXZlUmVxdWVzdEZhY3RvcnkuU24odC5pZCksdGhpcy5XVighMCl9LGUucHJvdG90eXBlLldWPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dGhpcy56aihlKSwhMT09PWU/dGhpcy5QaiYmdGhpcy5iai5ldmVyeShmdW5jdGlvbihlKXtyZXR1cm4gZS5pZCE9PXQuUGouaWR9KSYmdGhpcy5iai51bnNoaWZ0KHRoaXMuUGopOnRoaXMuYmoubGVuZ3RoPTAsdGhpcy5KaigpLHRoaXMuUGo9bnVsbCx0aGlzLkFqPTAsdGhpcy5Daj0wfSxlLnByb3RvdHlwZS5Raj1mdW5jdGlvbihlLHQpe2UudGVjaD10LHRoaXMuYmoucHVzaChlKX0sZS5wcm90b3R5cGUuZUY9ZnVuY3Rpb24oZSl7aWYobnVsbD09dGhpcy5Qail7Zm9yKHZhciB0PWV8fHRoaXMuYl8oKSxyPTA7cjx0aGlzLmJqLmxlbmd0aDtyKyspe3ZhciBpPXRoaXMuYmpbcl07aWYoaS5jaSh0KSlyZXR1cm4gdGhpcy5Qaj1pLHRoaXMuUGouQ24/dGhpcy5Qai5Dbi5OYy5rTCh0aGlzLlBqLnRpY2tldCk6dGhpcy5XaigpLHRoaXMuYmoubGVuZ3RoPTAsdGhpcy5Qai50ZWNoLm9uQWN0aXZlU2Vzc2lvbih0aGlzLlBqKSx0aGlzLnRlKCkubm90aWNlKHRoaXMubW4rXCJhY3RpdmF0aW5nIFNlc3Npb246W1wiK3RoaXMuUGouaWQrXCJdIFRpY2tldDpcIit0aGlzLlBqLnRpY2tldC50b1N0cmluZygpK1wiIEhpdmVUZWNoOltcIit0aGlzLlBqLnRlY2guRm4oKStcIl1cIiksdGhpcy5YaigpLCEwfXRoaXMudGUoKS53YXJuKHRoaXMubW4rXCJDbG9zaW5nIHNlc3Npb25zIC0gdGhlIGFjdGl2ZSBzdHJlYW0gZG9lc24ndCBtYXRjaCBhbnkgaW5pdGlhbGl6ZWQgc2Vzc2lvbnNcIiksdGhpcy50ZSgpLndhcm4odGhpcy5tbitcIkFjdGl2ZTpcIit0K1wiIC0gaW5pdGlhbGl6ZWQ6IFwiK3RoaXMuYmoubGVuZ3RoKSx0aGlzLldWKCl9cmV0dXJuITF9LGUucHJvdG90eXBlLm9qPWZ1bmN0aW9uKCl7aWYodGhpcy5QailyZXR1cm4gdGhpcy5Qai5EbigpfSxlLnByb3RvdHlwZS5Xaj1mdW5jdGlvbigpe3ZhciBlPSExO3RoaXMuYmouZm9yRWFjaChmdW5jdGlvbih0KXt0LkNuJiYoZT0hMCl9KSxlJiZ5LkhpdmUuUmVwb3J0aW5nKCkuY2xvc2UoKX0sZS5wcm90b3R5cGUuWmo9ZnVuY3Rpb24oKXtpZihudWxsIT10aGlzLlBqKXtpZih0aGlzLlBqLmNpKHRoaXMuYl8oKSkpcmV0dXJuITA7dGhpcy50ZSgpLndhcm4odGhpcy5tbitcIlNlc3Npb24gc3JjIG1pc21hdGNoOiBcIit0aGlzLmJfKCkrXCIgIT0gXCIrdGhpcy5Qai5tYW5pZmVzdCksdGhpcy5XVigpfXJldHVybiExfSxlLnByb3RvdHlwZS56aj1mdW5jdGlvbihlLHQpe2lmKHZvaWQgMD09PXQmJih0PSEwKSxudWxsIT10aGlzLlBqKXRoaXMudGUoKS5ub3RpY2UodGhpcy5tbitcIlN0b3BwaW5nIHNlc3Npb24gW1wiK3RoaXMuUGouaWQrXCJdXCIpLHRoaXMuUGouY2xvc2UoZSx0KTtlbHNlIGlmKHRoaXMuYmoubGVuZ3RoPjApe3ZhciByPXRoaXMuYmpbMF07dGhpcy50ZSgpLm5vdGljZSh0aGlzLm1uK1wiQXR0ZW1wdCB0byBzdG9wcGluZyBzZXNzaW9uIFtcIityLmlkK1wiXVwiKSxyLmNsb3NlKGUsdCl9fSxlLnByb3RvdHlwZS5Yaj1mdW5jdGlvbigpe3ZhciBlPXRoaXM7bnVsbD09dGhpcy4kaiYmKHRoaXMuJGo9c2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtlLmVHKCl9LHRoaXMub3B0aW9ucygpLmZlZWRiYWNrUGVyaW9kKSx0aGlzLmVHKCkpfSxlLnByb3RvdHlwZS5Kaj1mdW5jdGlvbigpe2NsZWFySW50ZXJ2YWwodGhpcy4kaiksdGhpcy4kaj1udWxsfSxlLnByb3RvdHlwZS5lRz1mdW5jdGlvbigpe3ZhciBlPXRoaXM7aWYodGhpcy5aaigpKXtpZighdGhpcy5jaSgpKXJldHVybiB2b2lkIHRoaXMuV1YoKTt2YXIgdD1uZXcgdS5Vbjt0LlJzPXRoaXMuZ2V0Q3VycmVudFRpbWUoKSx0LmJzPXRoaXMudmooKSx0LlBzPXRoaXMuQWosdC53aWR0aD10aGlzLnlqKCkud2lkdGgsdC5oZWlnaHQ9dGhpcy55aigpLmhlaWdodCx0LnRHPXRoaXMuaXNGdWxsc2NyZWVuKCksdGhpcy5Qai5rbih0aGlzLnhqLklzKHQpKSx0aGlzLlBqLnRlY2guZ18odGhpcy5Qaix0KS5mYWlsKGZ1bmN0aW9uKHQpe2UudGUoKS53YXJuKGUubW4rXCJzdGF0cyBoYW5kbGluZyBmYWlsZWRcIix0KSxlLkpqKCl9KX19LGUucHJvdG90eXBlLnJHPWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0cnl7dS5ocy5naSh0aGlzLnRlKCkpLmFzKGZ1bmN0aW9uKHQpe3ZhciByPWUuaUcoKTtyJiYhci5fbigpJiYoZS5jaih0P3Aua2MuJGEuWmE6cC5rYy4kYS5ISURERU4pLGUudGUoKS5kZWJ1Zyh0P1widmlzaWJsZVwiOlwiaGlkZGVuXCIpKX0pfWNhdGNoKGUpe20uRXJyb3JNb25pdG9yLmdpKCkuZGkoXCJlcnJvciBzZXR0aW5nIHVwIHRoZSB2aXNpYmlsaXR5Q2hhbmdlIGxpc3RlbmVyXCIsdGhpcy5tbix7ZXJyb3I6ZX0pfX0sZS5wcm90b3R5cGUuc2o9ZnVuY3Rpb24oZSl7dGhpcy5aaigpJiZ0aGlzLkNqPD0wJiYodGhpcy5Daj1EYXRlLm5vdygpLCh2b2lkIDA9PWV8fGUpJiZ0aGlzLmNqKHAua2MuJGEuS2EpKX0sZS5wcm90b3R5cGUuZGo9ZnVuY3Rpb24oKXt2YXIgZT0wPT10aGlzLkFqO2lmKHRoaXMuQ2o+MCl7dmFyIHQ9RGF0ZS5ub3coKS10aGlzLkNqO3JldHVybiB0aGlzLkFqKz10LHRoaXMudGUoKS5kZWJ1Zyh0aGlzLm1uK1wicmVwb3J0aW5nIG5ldyBidWZmZXJpbmcgZXZlbnQgb2YgXCIrdCksdGhpcy5Daj0wLGUmJnRoaXMuZUcoKSwhMH1yZXR1cm4hMX0sZS5wcm90b3R5cGUub25FcnJvcj1mdW5jdGlvbihlLHQscil7dm9pZCAwPT09ciYmKHI9ITApLHRoaXMuY2oocC5rYy4kYS5FUlJPUix7Y29kZTotMSxcInBsYXllci1jb2RlXCI6ZX0pLHImJnRoaXMuV1YoKX0sZS5wcm90b3R5cGUuY2o9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLGk9dGhpcy5pRygpO251bGw9PWl8fGkhPXRoaXMuUGomJmkudGVjaC5GbigpPT09U1tTLkhpdmVKYXZhXXx8aS50ZWNoLkVfKGksZSx0KS5mYWlsKGZ1bmN0aW9uKGUpe3IudGUoKS53YXJuKHIubW4rXCJlcnJvciBpbiBmb3J3YXJkaW5nIHBsYXllciBldmVudCB0byB0ZWNoXCIsZSl9KX0sZS5wcm90b3R5cGUuaUc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5Qaj90aGlzLlBqOnRoaXMuYmomJnRoaXMuYmoubGVuZ3RoPjA/dGhpcy5ialswXTp2b2lkIDB9LGUucHJvdG90eXBlLm5HPWZ1bmN0aW9uKCl7dGhpcy5raj0wfSxlLnByb3RvdHlwZS5zRz1mdW5jdGlvbihlLHQpe3RoaXMubkcoKTt0aGlzLmtqKz1lPDwyOCx0JiYwPT09ZSYmKHRoaXMua2orPTE8PDQqKDYtU1t0LkZuKCldKSksZT4wJiZtLkVycm9yTW9uaXRvci5naSgpLmRpKFwiU3RhdHVzIENvZGUgRXJyb3JcIix0aGlzLm1uLHtjb2RlOmJbZV19LFtcIlBsdWdpbiBFcnJvciBDb2RlXCIsYltlXV0pfSxlLnByb3RvdHlwZS52RT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmtqfSxlLnByb3RvdHlwZS5Laj1mdW5jdGlvbigpe3JldHVybiB0aGlzLm9wdGlvbnMoKS50ZWxlbWV0cnlJZH0sZX0oKTtlLlBsdWdpbj1hfSh0LmdufHwodC5nbj17fSkpLHMuRnJhbWV3b3JrLloobmV3IGYub0cpLHMuRnJhbWV3b3JrLmllKFwicGVlcjBcIixuZXcgZy5hRykscy5GcmFtZXdvcmsubmUoXCJwZWVyMFwiKSx3aW5kb3cuSGl2ZVJlcXVlc3RGYWN0b3J5PXUuSGl2ZVJlcXVlc3RGYWN0b3J5fSxmdW5jdGlvbihlLHQpe2lmKCFSZWdFeHAuZXNjYXBlKXt2YXIgcj0vWy1bXFxde30oKSorPy5cXFxcXiR8LCNcXHNdL2c7UmVnRXhwLmVzY2FwZT1mdW5jdGlvbihlKXtyZXR1cm4gZS5yZXBsYWNlKHIsXCJcXFxcJCZcIil9fX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGkoKXt0aHJvdyBuZXcgRXJyb3IoXCJDYW4ndCBjb25zdHJ1Y3QuIE1hcENoYW5nZXMgaXMgYSBtaXhpbi5cIil9dmFyIG49cigzNCkscz1yKDQ2KTtlLnQ9aTt2YXIgbz0oT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxuZXcgbiksYT1udWxsO2kucHJvdG90eXBlLmhHPWZ1bmN0aW9uKCl7cmV0dXJuIG8uaGFzKHRoaXMpfHwoYXx8KGE9cig0NykpLG8uc2V0KHRoaXMsYSgpKSksby5nZXQodGhpcyl9LGkucHJvdG90eXBlLmNHPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuaEcoKTtyZXR1cm4gZT1lfHxcIlwiLHQuaGFzKGUpfHx0LnNldChlLHtMbzpuZXcgcyxNbzpuZXcgc30pLHQuZ2V0KGUpfSxpLnByb3RvdHlwZS51Rz1mdW5jdGlvbihlLHQscil7IXRoaXMuSG8mJnRoaXMueG8mJnRoaXMueG8oKTt2YXIgaSxuPXRoaXMuY0codCk7aT1yP24uTG86bi5NbyxpLnB1c2goZSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJkaXNwYXRjaGVzTWFwQ2hhbmdlc1wiLHt2YWx1ZTohMCxVaTohMCx1OiEwLGw6ITF9KTt2YXIgcz10aGlzO3JldHVybiBmdW5jdGlvbigpe3MmJihzLmxHKGUsdCxyKSxzPW51bGwpfX0saS5wcm90b3R5cGUubEc9ZnVuY3Rpb24oZSx0LHIpe3ZhciBpLG49dGhpcy5jRyh0KTtpPXI/bi5MbzpuLk1vO3ZhciBzPWkuSGsoZSk7aWYoIXMpdGhyb3cgbmV3IEVycm9yKFwiQ2FuJ3QgcmVtb3ZlIG1hcCBjaGFuZ2UgbGlzdGVuZXI6IGRvZXMgbm90IGV4aXN0OiB0b2tlbiBcIitKU09OLnN0cmluZ2lmeSh0KSk7cy5kZWxldGUoKX0saS5wcm90b3R5cGUuaU89ZnVuY3Rpb24oZSx0LHIpe3ZhciBpPVwiTWFwXCIrKHI/XCJXaWxsQ2hhbmdlXCI6XCJDaGFuZ2VcIik7dGhpcy5oRygpLmZvckVhY2goZnVuY3Rpb24obixzKXtpZighbi5jaSl7bi5jaT0hMDt2YXIgbztvPXI/bi5MbzpuLk1vO3ZhciBhPVwiaGFuZGxlXCIrKHMuc2xpY2UoMCwxKS50b1VwcGVyQ2FzZSgpK3Muc2xpY2UoMSkpK2k7dHJ5e28uZm9yRWFjaChmdW5jdGlvbihyKXtpZihyW2FdKXJbYV0odCxlLHRoaXMpO2Vsc2V7aWYoIXIuY2FsbCl0aHJvdyBuZXcgRXJyb3IoXCJIYW5kbGVyIFwiK3IrXCIgaGFzIG5vIG1ldGhvZCBcIithK1wiIGFuZCBpcyBub3QgY2FsbGFibGVcIik7ci5jYWxsKHIsdCxlLHRoaXMpfX0sdGhpcyl9ZmluYWxseXtuLmNpPSExfX19LHRoaXMpfSxpLnByb3RvdHlwZS5wRz1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLnVHKGUsdCwhMCl9LGkucHJvdG90eXBlLmZHPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMubEcoZSx0LCEwKX0saS5wcm90b3R5cGUuck89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5pTyhlLHQsITApfX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGkoZSx0LHIsbil7aWYoISh0aGlzIGluc3RhbmNlb2YgaSkpcmV0dXJuIG5ldyBpKGUsdCxyLG4pO3Q9dHx8T2JqZWN0LmFlLHI9cnx8T2JqZWN0Lmhhc2gsbj1ufHxGdW5jdGlvbi5oZSx0aGlzLmNlPXQsdGhpcy51ZT1yLHRoaXMubGU9bjt2YXIgcz10aGlzO3RoaXMuZEc9bmV3IHRoaXMuZ0cobnVsbCxmdW5jdGlvbigpe3JldHVybiBuZXcgcy52R30pLHRoaXMubGVuZ3RoPTAsdGhpcy5hZGRFYWNoKGUpfXZhciBuPShyKDEyKSxyKDQ3KSkscz1yKDQ2KSxvPXIoMTMpLGE9cigzNiksaD1yKDY0KSxjPXIoMTQpO09iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7ZS50PWksaS55Rz1pLE9iamVjdC5hZGRFYWNoKGkucHJvdG90eXBlLG8ucHJvdG90eXBlKSxPYmplY3QuYWRkRWFjaChpLnByb3RvdHlwZSxhLnByb3RvdHlwZSksT2JqZWN0LmFkZEVhY2goaS5wcm90b3R5cGUsYy5wcm90b3R5cGUpLGkucHJvdG90eXBlLmdHPW4saS5wcm90b3R5cGUudkc9cyxpLnByb3RvdHlwZS5kZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoZSx0aGlzLmNlLHRoaXMudWUsdGhpcy5sZSl9LGkucHJvdG90eXBlLmhhcz1mdW5jdGlvbihlKXt2YXIgdD10aGlzLnVlKGUpO3JldHVybiB0aGlzLmRHLmdldCh0KS5oYXMoZSl9LGkucHJvdG90eXBlLmdldD1mdW5jdGlvbihlLHQpe2lmKHQpdGhyb3cgbmV3IEVycm9yKFwiRmFzdFNldCNnZXQgZG9lcyBub3Qgc3VwcG9ydCBzZWNvbmQgYXJndW1lbnQ6IGVxdWFsc1wiKTt2YXIgcj10aGlzLnVlKGUpLGk9dGhpcy5kRztyZXR1cm4gaS5oYXMocik/aS5nZXQocikuZ2V0KGUpOnRoaXMubGUoZSl9LGkucHJvdG90eXBlLmRlbGV0ZT1mdW5jdGlvbihlLHQpe2lmKHQpdGhyb3cgbmV3IEVycm9yKFwiRmFzdFNldCNkZWxldGUgZG9lcyBub3Qgc3VwcG9ydCBzZWNvbmQgYXJndW1lbnQ6IGVxdWFsc1wiKTt2YXIgcj10aGlzLnVlKGUpLGk9dGhpcy5kRztpZihpLmhhcyhyKSl7dmFyIG49aS5nZXQocik7aWYobi5kZWxldGUoZSkpcmV0dXJuIHRoaXMubGVuZ3RoLS0sMD09PW4ubGVuZ3RoJiZpLmRlbGV0ZShyKSwhMH1yZXR1cm4hMX0saS5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLmRHLmNsZWFyKCksdGhpcy5sZW5ndGg9MH0saS5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMudWUoZSkscj10aGlzLmRHO3JldHVybiByLmhhcyh0KXx8ci5zZXQodCxuZXcgdGhpcy52RyhudWxsLHRoaXMuY2UpKSwhci5nZXQodCkuaGFzKGUpJiYoci5nZXQodCkuYWRkKGUpLHRoaXMubGVuZ3RoKyssITApfSxpLnByb3RvdHlwZS5yZWR1Y2U9ZnVuY3Rpb24oZSx0KXt2YXIgcj1hcmd1bWVudHNbMl0saT0wO3JldHVybiB0aGlzLmRHLnJlZHVjZShmdW5jdGlvbih0LG4pe3JldHVybiBuLnJlZHVjZShmdW5jdGlvbih0LG4pe3JldHVybiBlLmNhbGwocix0LG4saSsrLHRoaXMpfSx0LHRoaXMpfSx0LHRoaXMpfSxpLnByb3RvdHlwZS5Qbz1mdW5jdGlvbigpe2lmKHRoaXMubGVuZ3RoPjApcmV0dXJuIHRoaXMuZEcuUG8oKS5QbygpfSxpLnByb3RvdHlwZS5Bbz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRHLnZhbHVlcygpLklvKCkuQW8oKX0saS5wcm90b3R5cGUubG9nPWZ1bmN0aW9uKGUsdCxyLGkpe2U9ZXx8aC5RRCx0PXR8fHRoaXMuZ2Uscnx8KHI9Y29uc29sZS5sb2csaT1jb25zb2xlKSxyPXIuYmluZChpKTt2YXIgbj10aGlzLmRHLHM9bi5rZXlzKCk7cy5mb3JFYWNoKGZ1bmN0aW9uKG8sYSl7dmFyIGgsYzthPT09cy5sZW5ndGgtMT8oaD1lLnFELGM9XCIgXCIpOjA9PT1hPyhoPWUueEQsYz1lLmpEKTooaD1lLlZELGM9ZS5qRCk7dmFyIHU9bi5nZXQobyk7ci5jYWxsKGksaCtlLkJEK2UueEQrXCIgXCIrbyksdS5mb3JFYWNoKGZ1bmN0aW9uKG4scyl7dmFyIG8sYTtzPT09dS5oZWFkLk1rPyhvPWUucUQsYT1cIiBcIik6KG89ZS5WRCxhPWUuakQpO3ZhciBoO3QocyxmdW5jdGlvbih0KXtoP3IuY2FsbChpLGMrXCIgXCIrYStcIiAgXCIrdCk6KHIuY2FsbChpLGMrXCIgXCIrbytlLkJEK2UuQkQrdCksaD0hMCl9LGZ1bmN0aW9uKHQpe3IuY2FsbChpLGMrXCIgXCIrZS5qRCtcIiAgXCIrdCl9KX0pfSl9LGkucHJvdG90eXBlLmdlPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS52YWx1ZTtPYmplY3Qocik9PT1yP0pTT04uc3RyaW5naWZ5KHIsbnVsbCw0KS5zcGxpdChcIlxcblwiKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3QoXCIgXCIrZSl9KTp0KFwiIFwiK3IpfX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGkoZSl7aWYoISh0aGlzIGluc3RhbmNlb2YgaSkpcmV0dXJuIG5ldyBpKGUpO2lmKEFycmF5LmlzQXJyYXkoZSl8fFwic3RyaW5nXCI9PXR5cGVvZiBlKXJldHVybiBpLkFvKGUpO2lmKChlPW4oZSkpaW5zdGFuY2VvZiBpKXJldHVybiBlO2lmKGUubmV4dCl0aGlzLm5leHQ9ZnVuY3Rpb24oKXtyZXR1cm4gZS5uZXh0KCl9O2Vsc2UgaWYoZS5Bbyl7dmFyIHQ9ZS5BbygpO3RoaXMubmV4dD1mdW5jdGlvbigpe3JldHVybiB0Lm5leHQoKX19ZWxzZXtpZihcIltvYmplY3QgRnVuY3Rpb25dXCIhPT1uLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW4ndCBpdGVyYXRlIFwiK2UpO3RoaXMubmV4dD1lfX1lLnQ9aTt2YXIgbj1yKDMzKSxzPXIoMTMpO2kucHJvdG90eXBlLmZvckVhY2g9cy5wcm90b3R5cGUuZm9yRWFjaCxpLnByb3RvdHlwZS5tYXA9cy5wcm90b3R5cGUubWFwLGkucHJvdG90eXBlLmZpbHRlcj1zLnByb3RvdHlwZS5maWx0ZXIsaS5wcm90b3R5cGUuZXZlcnk9cy5wcm90b3R5cGUuZXZlcnksaS5wcm90b3R5cGUuc29tZT1zLnByb3RvdHlwZS5zb21lLGkucHJvdG90eXBlLmh0PXMucHJvdG90eXBlLmh0LGkucHJvdG90eXBlLmFsbD1zLnByb3RvdHlwZS5hbGwsaS5wcm90b3R5cGUubWluPXMucHJvdG90eXBlLm1pbixpLnByb3RvdHlwZS5tYXg9cy5wcm90b3R5cGUubWF4LGkucHJvdG90eXBlLkVvPXMucHJvdG90eXBlLkVvLGkucHJvdG90eXBlLlRvPXMucHJvdG90eXBlLlRvLGkucHJvdG90eXBlLklvPXMucHJvdG90eXBlLklvLGkucHJvdG90eXBlLndvPXMucHJvdG90eXBlLndvLGkucHJvdG90eXBlLmVudW1lcmF0ZT1zLnByb3RvdHlwZS5lbnVtZXJhdGUsaS5wcm90b3R5cGUuUm89cy5wcm90b3R5cGUuUm8saS5wcm90b3R5cGUuZ3JvdXA9cy5wcm90b3R5cGUuZ3JvdXAsaS5wcm90b3R5cGUucmV2ZXJzZWQ9cy5wcm90b3R5cGUucmV2ZXJzZWQsaS5wcm90b3R5cGUudG9BcnJheT1zLnByb3RvdHlwZS50b0FycmF5LGkucHJvdG90eXBlLnZvPXMucHJvdG90eXBlLnZvLGkucHJvdG90eXBlLml0ZXJhdG9yPXMucHJvdG90eXBlLml0ZXJhdG9yLGkucHJvdG90eXBlLnprPW51bGwsbi5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSxcIl9pdGVyYXRpb25PYmplY3RcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuemt8fCh0aGlzLnprPXtkb25lOiExLHZhbHVlOnZvaWQgMH0pfX0pLGkucHJvdG90eXBlLmRlPWZ1bmN0aW9uKGUpe3ZhciB0PVtdO3JldHVybiB0LmFkZEVhY2goZSksdH0saS5wcm90b3R5cGUubUc9ZnVuY3Rpb24oZSl7dmFyIHQ9aSh0aGlzKSxyPWFyZ3VtZW50c1sxXSxzPTA7aWYoXCJbb2JqZWN0IEZ1bmN0aW9uXVwiIT1uLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpKXRocm93IG5ldyBUeXBlRXJyb3I7cmV0dXJuIG5ldyB0LmNvbnN0cnVjdG9yKGZ1bmN0aW9uKCl7aWYoITAhPT10LkprLmRvbmUpe3ZhciBpPWUuY2FsbChyLHQubmV4dCgpLnZhbHVlLHMrKyx0KTt0LkprLnZhbHVlPWl9cmV0dXJuIHQuSmt9KX0saS5wcm90b3R5cGUuRUc9ZnVuY3Rpb24oZSl7dmFyIHQ9aSh0aGlzKSxyPWFyZ3VtZW50c1sxXSxzPTA7aWYoXCJbb2JqZWN0IEZ1bmN0aW9uXVwiIT1uLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpKXRocm93IG5ldyBUeXBlRXJyb3I7cmV0dXJuIG5ldyB0LmNvbnN0cnVjdG9yKGZ1bmN0aW9uKCl7Zm9yKHZhciBpOzspe2lmKGk9dC5uZXh0KCksITA9PT1pLmRvbmUpcmV0dXJuIGk7aWYoZS5jYWxsKHIsaS52YWx1ZSxzKyssdCkpcmV0dXJuIGl9fSl9LGkucHJvdG90eXBlLnJlZHVjZT1mdW5jdGlvbihlKXt2YXIgdCxyPWkodGhpcykscz1hcmd1bWVudHNbMV0sbz1hcmd1bWVudHNbMl0sYT0wO2lmKFwiW29iamVjdCBGdW5jdGlvbl1cIiE9bi5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKSl0aHJvdyBuZXcgVHlwZUVycm9yO2lmKHQ9ci5uZXh0KCksITA9PT10LmRvbmUpe2lmKGFyZ3VtZW50cy5sZW5ndGg+MSlyZXR1cm4gYXJndW1lbnRzWzFdO3Rocm93IFR5cGVFcnJvcihcImNhbm5vdCByZWR1Y2UgYSB2YWx1ZSBmcm9tIGFuIGVtcHR5IGl0ZXJhdG9yIHdpdGggbm8gaW5pdGlhbCB2YWx1ZVwiKX1mb3Iocz1hcmd1bWVudHMubGVuZ3RoPjE/ZS5jYWxsKG8scyx0LnZhbHVlLGEscik6dC52YWx1ZSxhKys7Oyl7aWYodD1yLm5leHQoKSwhMD09PXQuZG9uZSlyZXR1cm4gcztzPWUuY2FsbChvLHMsdC52YWx1ZSxhLHIpLGErK319LGkucHJvdG90eXBlLmNvbmNhdD1mdW5jdGlvbigpe3JldHVybiBpLmNvbmNhdChBcnJheS5wcm90b3R5cGUuY29uY2F0LmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9LGkucHJvdG90eXBlLlRHPWZ1bmN0aW9uKGUpe3ZhciB0LHIscz1pKHRoaXMpLG89YXJndW1lbnRzWzFdLGE9ITEsaD0wO2lmKFwiW29iamVjdCBGdW5jdGlvbl1cIiE9bi5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKSl0aHJvdyBuZXcgVHlwZUVycm9yO2Zvcig7Oyl7aWYocj1zLm5leHQoKSwhMD09PXIuZG9uZSlicmVhaztpZighZS5jYWxsKG8sci52YWx1ZSxoLHMpKXthPSEwLHQ9ci52YWx1ZTticmVha31oKyt9cmV0dXJuIGE/cy5jb25zdHJ1Y3RvcihbdF0pLmNvbmNhdChzKTpzLmNvbnN0cnVjdG9yKFtdKX0saS5wcm90b3R5cGUuSUc9ZnVuY3Rpb24oZSl7dmFyIHQ9aSh0aGlzKSxyPWFyZ3VtZW50c1sxXSxzPTA7aWYoXCJbb2JqZWN0IEZ1bmN0aW9uXVwiIT1uLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpKXRocm93IG5ldyBUeXBlRXJyb3I7cmV0dXJuIG5ldyB0LmNvbnN0cnVjdG9yKGZ1bmN0aW9uKCl7aWYoITAhPT10LkprLmRvbmUpe3ZhciBpPXQubmV4dCgpLnZhbHVlO2UuY2FsbChyLGkscysrLHQpP3QuSmsudmFsdWU9aToodC5Kay5kb25lPSEwLHQuSmsudmFsdWU9dm9pZCAwKX1yZXR1cm4gdC5Ka30pfSxpLnByb3RvdHlwZS53Rz1mdW5jdGlvbigpe3JldHVybiBpLlNvKEFycmF5LnByb3RvdHlwZS5jb25jYXQuYXBwbHkodGhpcyxhcmd1bWVudHMpKX0saS5wcm90b3R5cGUuU0c9ZnVuY3Rpb24oZSl7cmV0dXJuIGkuY291bnQoZSkud0codGhpcyl9LGkuQW89ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIHQ9MCxuZXcgaShmdW5jdGlvbigpe2lmKFwib2JqZWN0XCI9PXR5cGVvZiBlKWZvcig7ISh0IGluIGUpOyl7aWYodD49ZS5sZW5ndGgpe3RoaXMuSmsuZG9uZT0hMCx0aGlzLkprLnZhbHVlPXZvaWQgMDticmVha310Kz0xfWVsc2UgdD49ZS5sZW5ndGgmJih0aGlzLkprLmRvbmU9ITAsdGhpcy5Kay52YWx1ZT12b2lkIDApO3JldHVybiB0aGlzLkprLmRvbmV8fCh0aGlzLkprLnZhbHVlPWVbdF0sdCs9MSksdGhpcy5Ka30pfSxpLlJHPWZ1bmN0aW9uKGUsdCl7dmFyIHI7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg8MiYmKHQ9MS8wKSxuZXcgaShmdW5jdGlvbigpe3ZhciBuLHM7cmV0dXJuIHImJihzPXIoKSksciYmITAhPT1zLmRvbmV8fCh0PjA/KHQtLSxuPWkuQW8oZSkscz0ocj1uLm5leHQuYmluZChuKSkoKSk6KHRoaXMuSmsuZG9uZT0hMCxzPXRoaXMuSmspKSxzfSl9LGkuY29uY2F0PWZ1bmN0aW9uKGUpe2U9aShlKTt2YXIgdDtyZXR1cm4gbmV3IGkoZnVuY3Rpb24oKXt2YXIgcixuO3JldHVybiB0JiYobj10KCkpLG4mJiEwIT09bi5kb25lP246KG49ZS5uZXh0KCksITE9PT1uLmRvbmU/KHI9aShuLnZhbHVlKSwodD1yLm5leHQuYmluZChyKSkoKSk6bil9KX0saS5Tbz1mdW5jdGlvbihlKXtyZXR1cm4gZT1pKGUpLm1hcChpKSxuZXcgaSgwPT09ZS5sZW5ndGg/W106ZnVuY3Rpb24oKXt2YXIgdCxyLGk9ZS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIHI9ZS5uZXh0KCksITA9PT1yLmRvbmUmJih0PSEwKSxyLnZhbHVlfSk7cmV0dXJuIHQ/KHRoaXMuSmsuZG9uZT0hMCx0aGlzLkprLnZhbHVlPXZvaWQgMCk6dGhpcy5Kay52YWx1ZT1pLHRoaXMuSmt9KX0saS53bz1mdW5jdGlvbigpe3JldHVybiBpLlNvKEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykpfSxpLmNoYWluPWZ1bmN0aW9uKCl7cmV0dXJuIGkuY29uY2F0KEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykpfSxpLnJhbmdlPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aDwzJiYocj0xKSxhcmd1bWVudHMubGVuZ3RoPDImJih0PWUsZT0wKSxlPWV8fDAscj1yfHwxLG5ldyBpKGZ1bmN0aW9uKCl7ZT49dCYmKHRoaXMuSmsuZG9uZT0hMCx0aGlzLkprLnZhbHVlPXZvaWQgMCk7dmFyIGk9ZTtyZXR1cm4gZSs9cix0aGlzLkprLnZhbHVlPWksdGhpcy5Ka30pfSxpLmNvdW50PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGkucmFuZ2UoZSwxLzAsdCl9LGkucmVwZWF0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG5ldyBpLnJhbmdlKHQpLm1HKGZ1bmN0aW9uKCl7cmV0dXJuIGV9KX19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT10aGlzJiZ0aGlzLk5zfHxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIHIoKXt0aGlzLmNvbnN0cnVjdG9yPWV9Zm9yKHZhciBpIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShpKSYmKGVbaV09dFtpXSk7ZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KTooci5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IHIpfSxuPXIoMjApLHM9bi5nbi5vdS5vdSxvPW4uZ24ub3UuaHU7IWZ1bmN0aW9uKGUpeyFmdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7dmFyIHQ9bnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiB0LmF1dGhUb2tlbkVuYWJsZWQ9ITAsdC5kYXNoUmVtb3ZlQml0cmF0ZVNpemU9ITEsdC5kYXNoRmlsdGVyQml0cmF0ZXM9bnVsbCx0LnN0YXRpY1BhcnRuZXJJZD1udWxsLHQuc3RhdGljQ3VzdG9tZXJJZD1udWxsLHQuYXVkaW9NZXRyaWNzPSEwLHQubG9nSnNvblNuYXBzaG90cz12b2lkIDAsdH1yZXR1cm4gaSh0LGUpLHR9KHMpO2UuX2o9dDt2YXIgcj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7dmFyIHQ9bnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiB0LmhpdmVBdXRoVG9rZW5FbmFibGVkPVwiYXV0aFRva2VuRW5hYmxlZFwiLHQuaGl2ZURhc2hSZW1vdmVCaXRyYXRlU2l6ZT1cImRhc2hSZW1vdmVCaXRyYXRlU2l6ZVwiLHQuaGl2ZURhc2hGaWx0ZXJCaXRyYXRlcz1cImRhc2hGaWx0ZXJCaXRyYXRlc1wiLHQuaGl2ZUxvZ0pzb25TbmFwc2hvdHM9XCJsb2dKc29uU25hcHNob3RzXCIsdC5oaXZlU3RhdGljUGFydG5lcklkPVwic3RhdGljUGFydG5lcklkXCIsdC5oaXZlU3RhdGljQ3VzdG9tZXJJZD1cInN0YXRpY0N1c3RvbWVySWRcIix0LmhpdmVBdWRpb01ldHJpY3M9XCJhdWRpb01ldHJpY3NcIix0fXJldHVybiBpKHQsZSksdH0obyk7ZS5Eaj1yfShlLm91fHwoZS5vdT17fSkpfSh0LmdufHwodC5nbj17fSkpO3ZhciBhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZS5Gaj1mdW5jdGlvbihlKXtcImRhc2hSZW1vdmVCaXRyYXRlU2l6ZVwiaW4gZSYmZS5kYXNoUmVtb3ZlQml0cmF0ZVNpemUmJndpbmRvdy5IaXZlQ29uZmlnJiZ3aW5kb3cuSGl2ZUNvbmZpZy5EYXNoJiYod2luZG93LkhpdmVDb25maWcuRGFzaC5EYXNoUmVtb3ZlQml0cmF0ZVNpemU9ZS5kYXNoUmVtb3ZlQml0cmF0ZVNpemUpLFwiZGFzaEZpbHRlckJpdHJhdGVzXCJpbiBlJiZlLmRhc2hGaWx0ZXJCaXRyYXRlcyYmd2luZG93LkhpdmVDb25maWcmJndpbmRvdy5IaXZlQ29uZmlnLkRhc2gmJih3aW5kb3cuSGl2ZUNvbmZpZy5EYXNoLkRhc2hGaWx0ZXJCaXRyYXRlcz1lLmRhc2hGaWx0ZXJCaXRyYXRlcyksXCJzdGF0aWNDdXN0b21lcklkXCJpbiBlJiZlLnN0YXRpY0N1c3RvbWVySWQmJndpbmRvdy5IaXZlQ29uZmlnJiZ3aW5kb3cuSGl2ZUNvbmZpZy5DbGllbnRJbmZvJiYod2luZG93LkhpdmVDb25maWcuQ2xpZW50SW5mby5Mcz1lLnN0YXRpY0N1c3RvbWVySWQpLFwic3RhdGljUGFydG5lcklkXCJpbiBlJiZlLnN0YXRpY1BhcnRuZXJJZCYmd2luZG93LkhpdmVDb25maWcmJndpbmRvdy5IaXZlQ29uZmlnLkNsaWVudEluZm8mJih3aW5kb3cuSGl2ZUNvbmZpZy5DbGllbnRJbmZvLkZzPWUuc3RhdGljUGFydG5lcklkKSxcImF1ZGlvTWV0cmljc1wiaW4gZSYmIWUuYXVkaW9NZXRyaWNzJiZ3aW5kb3cuSGl2ZUNvbmZpZyYmd2luZG93LkhpdmVDb25maWcuU3RhdHMmJih3aW5kb3cuSGl2ZUNvbmZpZy5TdGF0cy5Ecz1lLmF1ZGlvTWV0cmljcyksXCJkZXRlY3RQcml2YXRlSVBcImluIGUmJlwiYm9vbGVhblwiPT10eXBlb2YgZS5kZXRlY3RQcml2YXRlSVAmJndpbmRvdy5IaXZlQ29uZmlnJiZ3aW5kb3cuSGl2ZUNvbmZpZy5Db25uSW5mbyYmKHdpbmRvdy5IaXZlQ29uZmlnLkNvbm5JbmZvLmRldGVjdFByaXZhdGVJUD1lLmRldGVjdFByaXZhdGVJUCksXCJsb2dKc29uU25hcHNob3RzXCJpbiBlJiZlLmxvZ0pzb25TbmFwc2hvdHMmJndpbmRvdy5IaXZlQ29uZmlnJiZ3aW5kb3cuSGl2ZUNvbmZpZy5EZWJ1Z0xvZ3MmJih3aW5kb3cuSGl2ZUNvbmZpZy5EZWJ1Z0xvZ3MuTWV0cmljU25hcHNob3RMb2dzPTEsd2luZG93LkhpdmVDb25maWcuRGVidWdMb2dzLlRyYWNrU25hcHNob3RMb2dzPTEsd2luZG93LkhpdmVDb25maWcuRGVidWdMb2dzLlRyYWNrZXJMb2dzPTEpfSxlfSgpO3QuTGo9YX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiOyFmdW5jdGlvbihlKXshZnVuY3Rpb24oZSl7ZVtlLkhpdmVKUz0wXT1cIkhpdmVKU1wiLGVbZS5IaXZlSmF2YT0xXT1cIkhpdmVKYXZhXCIsZVtlLlN0YXRzSlM9Ml09XCJTdGF0c0pTXCIsZVtlLkhpdmVKc1Byb3h5PTNdPVwiSGl2ZUpzUHJveHlcIn0oZS5Janx8KGUuSWo9e30pKX0odC5nbnx8KHQuZ249e30pKX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3ZhciB0PXRoaXM7aWYodGhpcy5iRz1uZXcgQXJyYXksdGhpcy5jYWxsYmFja3M9bmV3IEFycmF5LGUubGkpdGhyb3cgbmV3IEVycm9yKFwiRXJyb3I6IEluc3RhbnRpYXRpb24gZmFpbGVkOiBVc2UgS2V5SGFuZGxlckhpdmVDb21tLmdldEluc3RhbmNlKCkgaW5zdGVhZCBvZiBuZXcuXCIpO3ZhciByPXt9O2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsZnVuY3Rpb24oZSl7cltlLmtleUNvZGVdPSEwLHQuUEcocil9LCEwKSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIixmdW5jdGlvbihlKXtyPXt9fSwhMCl9cmV0dXJuIGUuZ2k9ZnVuY3Rpb24oKXtyZXR1cm4gdm9pZCAwPT09dGhpcy5saSYmKHRoaXMubGk9bmV3IGUpLHRoaXMubGl9LGUucHJvdG90eXBlLnZpPWZ1bmN0aW9uKGUsdCl7dGhpcy5iRy5wdXNoKGUpLHRoaXMuY2FsbGJhY2tzLnB1c2godCl9LGUucHJvdG90eXBlLlBHPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD10aGlzLHI9MDtyPHRoaXMuYkcubGVuZ3RoO3IrKykhZnVuY3Rpb24ocil7dmFyIGk9ITA7dC5iR1tyXS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZvaWQgMCE9ZVt0XSYmZVt0XXx8KGk9ITEpfSksaSYmdC5jYWxsYmFja3Nbcl0oKX0ocil9LGV9KCk7dC55aT1pfSxmdW5jdGlvbihlLHQpe2UudD1mdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJvYmplY3RcIj09dHlwZW9mIGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGUuclAmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGUuZmlsbCYmXCJmdW5jdGlvblwiPT10eXBlb2YgZS5BR319LGZ1bmN0aW9uKGUsdCl7XCJmdW5jdGlvblwiPT10eXBlb2YgT2JqZWN0LmNyZWF0ZT9lLnQ9ZnVuY3Rpb24oZSx0KXtlLkNHPXQsZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmUsbDohMSxVaTohMCx1OiEwfX0pfTplLnQ9ZnVuY3Rpb24oZSx0KXtlLkNHPXQ7dmFyIHI9ZnVuY3Rpb24oKXt9O3IucHJvdG90eXBlPXQucHJvdG90eXBlLGUucHJvdG90eXBlPW5ldyByLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWV9fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9cigzOSksbj1yKDQ5KSxzPXIoNyksbz1yKDQpLGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMua0c9bi5OLiRjPzk5ODk6OTk4OCx0aGlzLk9HPS0xLHRoaXMuaF89ZSx0aGlzLl9HKCl9cmV0dXJuIGUucHJvdG90eXBlLl9HPWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLmhfLm9wdGlvbnMoKS5zaWxlbnQmJihIaXZlQ29uZmlnJiYoSGl2ZUNvbmZpZy5Db25uSW5mby5kZXRlY3RQcml2YXRlSVA9ITApLHZvaWQgMD09PXRoaXMuTkcmJih0aGlzLnVybD1cIi8vXCIraS50dS5vQStcIjpcIit0aGlzLmtHK1wiL2ZlZWRiYWNrXCIsdGhpcy5oXy50ZSgpLmluZm8oXCJzdGFydGluZyBwZXJpb2RpYyBhbGl2ZSBwaW5nIHRvIGhpdmUgdGVzdGVyIFtcIit0aGlzLnVybCtcIl1cIiksdGhpcy5ORz1zZXRJbnRlcnZhbChmdW5jdGlvbigpe2UuREcoKX0sbi5OLm9PKSkpfSxlLnByb3RvdHlwZS5ERz1mdW5jdGlvbigpe3ZhciBlPXRoaXMsdD10aGlzLmhfLm9qKCkscj12b2lkIDA7dCYmKHI9XCJTW1wiK3QuaWQrXCJdXCIpO3ZhciBpPXRoaXMuaF8uZ2V0Q3VycmVudFRpbWUoKTtpPnRoaXMuT0c/KHRoaXMuaF8udGUoKS5pbmZvKFwic2VuZGluZyBoaXZlIHRlc3RlciBwaW5nIFtcIitpK1wiID4gXCIrdGhpcy5PRytcIl1cIikscy5wcyh0aGlzLnVybCkudGhlbihmdW5jdGlvbihlKXt9LGZ1bmN0aW9uKHQpe28uRXJyb3JNb25pdG9yLmdpKCkuZGkoXCJlcnJvciBzZW5kaW5nIGhpdmUgdGVzdGVyIHBpbmdcIixyLHtlcnJvcjp0fSksY2xlYXJJbnRlcnZhbChlLk5HKX0pKTp0aGlzLmhfLnRlKCkud2FybihcIm5vdCBzZW5kaW5nIGhpdmUgdGVzdGVyIHBpbmcgW1wiK2krXCIgPD0gXCIrdGhpcy5PRytcIl1cIiksdGhpcy5PRz1pfSxlfSgpO3QuTWo9YX0sZnVuY3Rpb24oZSx0KXsoZnVuY3Rpb24odCl7ZS50PXR9KS5jYWxsKHQse30pfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9cigzNyksbj1yKDExMCkscz1yKDQxKSxvPXIoMCksYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGUucHJvdG90eXBlLmFwcGx5PWZ1bmN0aW9uKGUpe2UuYmluZChuZXcgaS5RUChvLkZyYW1ld29yay5xLlQsbi5GRyxpLktQLlpQKSksZS5iaW5kKG5ldyBpLlFQKG8uRnJhbWV3b3JrLnEuSSxzLlNBLndBKSl9LGV9KCk7dC5vRz1hfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9cig2Myksbj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLkxHPW5ldyBpLHRoaXMuTUc9bmV3IGksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbD90aGlzLkJHPWdsb2JhbDp0aGlzLkJHPXdpbmRvd31yZXR1cm4gZS5wcm90b3R5cGUuUz1mdW5jdGlvbigpe3JldHVybiExfSxlLnByb3RvdHlwZS5VRz1mdW5jdGlvbihlLHQscil7fSxlLnByb3RvdHlwZS5BPWZ1bmN0aW9uKCl7fSxlLnByb3RvdHlwZS50aW1lPWZ1bmN0aW9uKCl7cmV0dXJuK25ldyBEYXRlfSxlLnByb3RvdHlwZS5zZXRUaW1lb3V0PWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxpPXRoaXMuQkcuc2V0VGltZW91dChmdW5jdGlvbigpe3IuTEcuZGVsZXRlKGkpLGUoKX0sdCk7cmV0dXJuIHRoaXMuTEcuYWRkKGkpLGl9LGUucHJvdG90eXBlLmNsZWFyVGltZW91dD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5MRy5kZWxldGUoZSksdGhpcy5CRy5jbGVhclRpbWVvdXQoZSksITB9LGUucHJvdG90eXBlLnNldEludGVydmFsPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5CRy5zZXRJbnRlcnZhbChmdW5jdGlvbigpe2UoKX0sdCk7cmV0dXJuIHRoaXMuTUcuYWRkKHIpLHJ9LGUucHJvdG90eXBlLmNsZWFySW50ZXJ2YWw9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuTUcuZGVsZXRlKGUpLHRoaXMuQkcuY2xlYXJJbnRlcnZhbChlKSwhMH0sZS5wcm90b3R5cGUuQz1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5MRy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiBlLmNsZWFyVGltZW91dCh0KX0pLHRoaXMuTUcuZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gZS5jbGVhckludGVydmFsKHQpfSl9LGV9KCk7dC5GRz1ufSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9cigzNyksbj1yKDApLHM9cig0MSksbz1yKDE5KSxhPXIoOSksaD1yKDE4KSxjPXIoNzEpLHU9cig3MiksbD1yKDczKSxwPXIoNzUpLGY9cig3NiksZD1yKDUpLGc9ZC5SdC5PaTtpZihnKXZhciB2PXIoNzcpLnZNO2Vsc2UgdmFyIHk9cig3OSkuek07dmFyIG09ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlLnByb3RvdHlwZS5hcHBseT1mdW5jdGlvbihlKXtlLmJpbmQobmV3IGkuUVAoYS5Rcy5xcyxvLlpjLGkuS1AuWlApKSxlLmJpbmQobmV3IGkuUVAoYS5Rcy5ILHUuT0wsaS5LUC5aUCkpLGUuYmluZChuZXcgaS5RUChhLlFzLkJzLGwuQkwsaS5LUC5aUCkpLGUuYmluZChuZXcgaS5RUChhLlFzLkQscC5vTSxpLktQLlpQKSksZS5iaW5kKG5ldyBpLlFQKG4uRnJhbWV3b3JrLnEuSSxzLlNBLndBLGkuS1AuWlApKSxnP2UuYmluZChuZXcgaS5RUChhLlFzLlVzLHYsaS5LUC5aUCkpOmUuYmluZChuZXcgaS5RUChhLlFzLlVzLHksaS5LUC5aUCkpLGUuYmluZChuZXcgaS5RUChhLlFzLnhzLGYudU0saS5LUC5aUCkpLGUuYmluZChuZXcgaS5RUChhLlFzLlZzLGMuU3RhdHMuTEQsaS5LUC5zQSkpLGUuYmluZChuZXcgaS5RUChhLlFzLk1zLGMuU3RhdHMudmMsaS5LUC5zQSkpLGUuYmluZChuZXcgaS5RUChhLlFzLmpzLGgua2MuJGgsaS5LUC5zQSkpLGUuYmluZChuZXcgaS5RUChhLlFzLkdzLGgua2MudmMsaS5LUC5zQSkpfSxlfSgpO3QuYUc9bX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBpPXIoMzApO1widW5kZWZpbmVkXCI9PXR5cGVvZiBoaXZlJiYoaGl2ZT17fSksdm9pZCAwPT09aGl2ZS5zbmFwc2hvdHMmJihoaXZlLnNuYXBzaG90cz17fSksaGl2ZS5zbmFwc2hvdHMuVHJhZmZpYz1mdW5jdGlvbihlKXt0aGlzLnJlcU49bnVsbCx0aGlzLnJlc3BGYWxsYmFja049bnVsbCx0aGlzLnJlc3BGYWxsYmFja0Vyck49bnVsbCx0aGlzLnJlc3BQMnBOPW51bGwsdGhpcy5yZXFPdGhlck49bnVsbCx0aGlzLnJlc3BGYWxsYmFja090aGVyTj1udWxsLHRoaXMucmVzcEZhbGxiYWNrT3RoZXJ0RXJyTj1udWxsLHRoaXMuc3JjUmVxTj1udWxsLHRoaXMuc3JjUmVzcE49bnVsbCx0aGlzLnNyY1Jlc3BFcnJOPW51bGwsdGhpcy5zcmNSZXFRdD1udWxsLHRoaXMuc3JjUmVzcFF0PW51bGwsdGhpcy5zcmNPdmVyUXQ9bnVsbCx0aGlzLnNyY090aGVyUmVxTj1udWxsLHRoaXMuc3JjT3RoZXJSZXNwTj1udWxsLHRoaXMuc3JjT3RoZXJSZXNwRXJyTj1udWxsLHRoaXMuc3JjT3RoZXJSZXFRdD1udWxsLHRoaXMuc3JjT3RoZXJSZXNwUXQ9bnVsbCx0aGlzLnNyY090aGVyT3ZlclF0PW51bGwsdGhpcy5wMnBTdWJSZXFOPW51bGwsdGhpcy5wMnBTdWJSZXNwTj1udWxsLHRoaXMucDJwU3ViUmVzcFBhcnROPW51bGwsdGhpcy5wMnBTdWJSZXNwRXJyTj1udWxsLHRoaXMucDJwU3ViUmVzcEV4cE49bnVsbCx0aGlzLnAycFN1YlJlcVF0PW51bGwsdGhpcy5wMnBTdWJSZXNwUXQ9bnVsbCx0aGlzLnAycERpcmVjdFF0PW51bGwsdGhpcy5wMnBSZWxheVF0PW51bGwsdGhpcy5wMnBOYXRRdD1udWxsLHRoaXMucDJwVWRwYlF0PW51bGwsdGhpcy5mYWxsQWdlbnRSZXNwTj1udWxsLHRoaXMuZmFsbEFnZW50UHJlZEhpdE49bnVsbCx0aGlzLmZhbGxBZ2VudEZhaWxlZFJlc3BOPW51bGwsdGhpcy5mYWxsQWdlbnRQcmVkTWlzc049bnVsbCx0aGlzLmZhbGxBZ2VudFByZWRQYXJ0aWFsSGl0Tj1udWxsLHRoaXMuZmFsbEFnZW5UcmFmZmljU3VjY2Vzc1F0PW51bGwsdGhpcy5mYWxsQWdlblRyYWZmaWNGYWlsdXJlUXQ9bnVsbCx0aGlzLnAycEFnZW50UHJlZEhpdE49bnVsbCx0aGlzLnAycEFnZW50UHJlZE1pc3NOPW51bGwsdGhpcy5wMnBBZ2VudFByZWRQYXJ0aWFsSGl0Tj1udWxsLHRoaXMucDJwQWdlblRyYWZmaWNTdWNjZXNzUXQ9bnVsbCx0aGlzLnAycEFnZW5UcmFmZmljRmFpbHVyZVF0PW51bGwsdGhpcy5yZXNwUDJwT3RoZXJOPW51bGwsdGhpcy5sQ2FjaGVSZXNwTj1udWxsLHRoaXMubENhY2hlUmVzcFF0PW51bGwsdGhpcy5wMnBPdXRTaXRlTG93UHJpbz1udWxsLGUmJih2b2lkIDAhPT1lLnJlcU4mJih0aGlzLnJlcU49ZS5yZXFOKSx2b2lkIDAhPT1lLnJlc3BGYWxsYmFja04mJih0aGlzLnJlc3BGYWxsYmFja049ZS5yZXNwRmFsbGJhY2tOKSx2b2lkIDAhPT1lLnJlc3BGYWxsYmFja0Vyck4mJih0aGlzLnJlc3BGYWxsYmFja0Vyck49ZS5yZXNwRmFsbGJhY2tFcnJOKSx2b2lkIDAhPT1lLnJlc3BQMnBOJiYodGhpcy5yZXNwUDJwTj1lLnJlc3BQMnBOKSx2b2lkIDAhPT1lLnJlcU90aGVyTiYmKHRoaXMucmVxT3RoZXJOPWUucmVxT3RoZXJOKSx2b2lkIDAhPT1lLnJlc3BGYWxsYmFja090aGVyTiYmKHRoaXMucmVzcEZhbGxiYWNrT3RoZXJOPWUucmVzcEZhbGxiYWNrT3RoZXJOKSx2b2lkIDAhPT1lLnJlc3BGYWxsYmFja090aGVydEVyck4mJih0aGlzLnJlc3BGYWxsYmFja090aGVydEVyck49ZS5yZXNwRmFsbGJhY2tPdGhlcnRFcnJOKSx2b2lkIDAhPT1lLnNyY1JlcU4mJih0aGlzLnNyY1JlcU49ZS5zcmNSZXFOKSx2b2lkIDAhPT1lLnNyY1Jlc3BOJiYodGhpcy5zcmNSZXNwTj1lLnNyY1Jlc3BOKSx2b2lkIDAhPT1lLnNyY1Jlc3BFcnJOJiYodGhpcy5zcmNSZXNwRXJyTj1lLnNyY1Jlc3BFcnJOKSx2b2lkIDAhPT1lLnNyY1JlcVF0JiYodGhpcy5zcmNSZXFRdD1lLnNyY1JlcVF0KSx2b2lkIDAhPT1lLnNyY1Jlc3BRdCYmKHRoaXMuc3JjUmVzcFF0PWUuc3JjUmVzcFF0KSx2b2lkIDAhPT1lLnNyY092ZXJRdCYmKHRoaXMuc3JjT3ZlclF0PWUuc3JjT3ZlclF0KSx2b2lkIDAhPT1lLnNyY090aGVyUmVxTiYmKHRoaXMuc3JjT3RoZXJSZXFOPWUuc3JjT3RoZXJSZXFOKSx2b2lkIDAhPT1lLnNyY090aGVyUmVzcE4mJih0aGlzLnNyY090aGVyUmVzcE49ZS5zcmNPdGhlclJlc3BOKSx2b2lkIDAhPT1lLnNyY090aGVyUmVzcEVyck4mJih0aGlzLnNyY090aGVyUmVzcEVyck49ZS5zcmNPdGhlclJlc3BFcnJOKSx2b2lkIDAhPT1lLnNyY090aGVyUmVxUXQmJih0aGlzLnNyY090aGVyUmVxUXQ9ZS5zcmNPdGhlclJlcVF0KSx2b2lkIDAhPT1lLnNyY090aGVyUmVzcFF0JiYodGhpcy5zcmNPdGhlclJlc3BRdD1lLnNyY090aGVyUmVzcFF0KSx2b2lkIDAhPT1lLnNyY090aGVyT3ZlclF0JiYodGhpcy5zcmNPdGhlck92ZXJRdD1lLnNyY090aGVyT3ZlclF0KSx2b2lkIDAhPT1lLnAycFN1YlJlcU4mJih0aGlzLnAycFN1YlJlcU49ZS5wMnBTdWJSZXFOKSx2b2lkIDAhPT1lLnAycFN1YlJlc3BOJiYodGhpcy5wMnBTdWJSZXNwTj1lLnAycFN1YlJlc3BOKSx2b2lkIDAhPT1lLnAycFN1YlJlc3BQYXJ0TiYmKHRoaXMucDJwU3ViUmVzcFBhcnROPWUucDJwU3ViUmVzcFBhcnROKSx2b2lkIDAhPT1lLnAycFN1YlJlc3BFcnJOJiYodGhpcy5wMnBTdWJSZXNwRXJyTj1lLnAycFN1YlJlc3BFcnJOKSx2b2lkIDAhPT1lLnAycFN1YlJlc3BFeHBOJiYodGhpcy5wMnBTdWJSZXNwRXhwTj1lLnAycFN1YlJlc3BFeHBOKSx2b2lkIDAhPT1lLnAycFN1YlJlcVF0JiYodGhpcy5wMnBTdWJSZXFRdD1lLnAycFN1YlJlcVF0KSx2b2lkIDAhPT1lLnAycFN1YlJlc3BRdCYmKHRoaXMucDJwU3ViUmVzcFF0PWUucDJwU3ViUmVzcFF0KSx2b2lkIDAhPT1lLnAycERpcmVjdFF0JiYodGhpcy5wMnBEaXJlY3RRdD1lLnAycERpcmVjdFF0KSx2b2lkIDAhPT1lLnAycFJlbGF5UXQmJih0aGlzLnAycFJlbGF5UXQ9ZS5wMnBSZWxheVF0KSx2b2lkIDAhPT1lLnAycE5hdFF0JiYodGhpcy5wMnBOYXRRdD1lLnAycE5hdFF0KSx2b2lkIDAhPT1lLnAycFVkcGJRdCYmKHRoaXMucDJwVWRwYlF0PWUucDJwVWRwYlF0KSx2b2lkIDAhPT1lLmZhbGxBZ2VudFJlc3BOJiYodGhpcy5mYWxsQWdlbnRSZXNwTj1lLmZhbGxBZ2VudFJlc3BOKSx2b2lkIDAhPT1lLmZhbGxBZ2VudFByZWRIaXROJiYodGhpcy5mYWxsQWdlbnRQcmVkSGl0Tj1lLmZhbGxBZ2VudFByZWRIaXROKSx2b2lkIDAhPT1lLmZhbGxBZ2VudEZhaWxlZFJlc3BOJiYodGhpcy5mYWxsQWdlbnRGYWlsZWRSZXNwTj1lLmZhbGxBZ2VudEZhaWxlZFJlc3BOKSx2b2lkIDAhPT1lLmZhbGxBZ2VudFByZWRNaXNzTiYmKHRoaXMuZmFsbEFnZW50UHJlZE1pc3NOPWUuZmFsbEFnZW50UHJlZE1pc3NOKSx2b2lkIDAhPT1lLmZhbGxBZ2VudFByZWRQYXJ0aWFsSGl0TiYmKHRoaXMuZmFsbEFnZW50UHJlZFBhcnRpYWxIaXROPWUuZmFsbEFnZW50UHJlZFBhcnRpYWxIaXROKSx2b2lkIDAhPT1lLmZhbGxBZ2VuVHJhZmZpY1N1Y2Nlc3NRdCYmKHRoaXMuZmFsbEFnZW5UcmFmZmljU3VjY2Vzc1F0PWUuZmFsbEFnZW5UcmFmZmljU3VjY2Vzc1F0KSx2b2lkIDAhPT1lLmZhbGxBZ2VuVHJhZmZpY0ZhaWx1cmVRdCYmKHRoaXMuZmFsbEFnZW5UcmFmZmljRmFpbHVyZVF0PWUuZmFsbEFnZW5UcmFmZmljRmFpbHVyZVF0KSx2b2lkIDAhPT1lLnAycEFnZW50UHJlZEhpdE4mJih0aGlzLnAycEFnZW50UHJlZEhpdE49ZS5wMnBBZ2VudFByZWRIaXROKSx2b2lkIDAhPT1lLnAycEFnZW50UHJlZE1pc3NOJiYodGhpcy5wMnBBZ2VudFByZWRNaXNzTj1lLnAycEFnZW50UHJlZE1pc3NOKSx2b2lkIDAhPT1lLnAycEFnZW50UHJlZFBhcnRpYWxIaXROJiYodGhpcy5wMnBBZ2VudFByZWRQYXJ0aWFsSGl0Tj1lLnAycEFnZW50UHJlZFBhcnRpYWxIaXROKSx2b2lkIDAhPT1lLnAycEFnZW5UcmFmZmljU3VjY2Vzc1F0JiYodGhpcy5wMnBBZ2VuVHJhZmZpY1N1Y2Nlc3NRdD1lLnAycEFnZW5UcmFmZmljU3VjY2Vzc1F0KSx2b2lkIDAhPT1lLnAycEFnZW5UcmFmZmljRmFpbHVyZVF0JiYodGhpcy5wMnBBZ2VuVHJhZmZpY0ZhaWx1cmVRdD1lLnAycEFnZW5UcmFmZmljRmFpbHVyZVF0KSx2b2lkIDAhPT1lLnJlc3BQMnBPdGhlck4mJih0aGlzLnJlc3BQMnBPdGhlck49ZS5yZXNwUDJwT3RoZXJOKSx2b2lkIDAhPT1lLmxDYWNoZVJlc3BOJiYodGhpcy5sQ2FjaGVSZXNwTj1lLmxDYWNoZVJlc3BOKSx2b2lkIDAhPT1lLmxDYWNoZVJlc3BRdCYmKHRoaXMubENhY2hlUmVzcFF0PWUubENhY2hlUmVzcFF0KSx2b2lkIDAhPT1lLnAycE91dFNpdGVMb3dQcmlvJiYodGhpcy5wMnBPdXRTaXRlTG93UHJpbz1lLnAycE91dFNpdGVMb3dQcmlvKSl9LGhpdmUuc25hcHNob3RzLlRyYWZmaWMucHJvdG90eXBlPXt9LGhpdmUuc25hcHNob3RzLlRyYWZmaWMucHJvdG90eXBlLnJlYWQ9ZnVuY3Rpb24oZSl7Zm9yKGUuUVMoKTs7KXt2YXIgdD1lLnV3KCkscj0odC5xUyx0Lmx3KSxuPXQucHc7aWYocj09aS5iSS5BSSlicmVhaztzd2l0Y2gobil7Y2FzZSAxOnI9PWkuYkkuTkk/dGhpcy5yZXFOPWUuZ3coKS52YWx1ZTplLmR3KHIpO2JyZWFrO2Nhc2UgMjpyPT1pLmJJLk9JP3RoaXMucmVzcEZhbGxiYWNrTj1lLnNSKCkudmFsdWU6ZS5kdyhyKTticmVhaztjYXNlIDM6cj09aS5iSS5OST90aGlzLnJlc3BGYWxsYmFja0Vyck49ZS5ndygpLnZhbHVlOmUuZHcocik7YnJlYWs7Y2FzZSA0OnI9PWkuYkkuT0k/dGhpcy5yZXNwUDJwTj1lLnNSKCkudmFsdWU6ZS5kdyhyKTticmVhaztjYXNlIDU6cj09aS5iSS5OST90aGlzLnJlcU90aGVyTj1lLmd3KCkudmFsdWU6ZS5kdyhyKTticmVhaztjYXNlIDY6cj09aS5iSS5OST90aGlzLnJlc3BGYWxsYmFja090aGVyTj1lLmd3KCkudmFsdWU6ZS5kdyhyKTticmVhaztjYXNlIDc6cj09aS5iSS5OST90aGlzLnJlc3BGYWxsYmFja090aGVydEVyck49ZS5ndygpLnZhbHVlOmUuZHcocik7YnJlYWs7Y2FzZSA4OnI9PWkuYkkuTkk/dGhpcy5zcmNSZXFOPWUuZ3coKS52YWx1ZTplLmR3KHIpO2JyZWFrO2Nhc2UgOTpyPT1pLmJJLk5JP3RoaXMuc3JjUmVzcE49ZS5ndygpLnZhbHVlOmUuZHcocik7YnJlYWs7Y2FzZSAxMDpyPT1pLmJJLk5JP3RoaXMuc3JjUmVzcEVyck49ZS5ndygpLnZhbHVlOmUuZHcocik7YnJlYWs7Y2FzZSAxMTpyPT1pLmJJLkRJP3RoaXMuc3JjUmVxUXQ9ZS5uUigpLnZhbHVlOmUuZHcocik7YnJlYWs7Y2FzZSAxMjpyPT1pLmJJLkRJP3RoaXMuc3JjUmVzcFF0PWUublIoKS52YWx1ZTplLmR3KHIpO2JyZWFrO2Nhc2UgMTM6cj09aS5iSS5EST90aGlzLnNyY092ZXJRdD1lLm5SKCkudmFsdWU6ZS5kdyhyKTticmVhaztjYXNlIDE0OnI9PWkuYkkuTkk/dGhpcy5zcmNPdGhlclJlcU49ZS5ndygpLnZhbHVlOmUuZHcocik7YnJlYWs7Y2FzZSAxNTpyPT1pLmJJLk5JP3RoaXMuc3JjT3RoZXJSZXNwTj1lLmd3KCkudmFsdWU6ZS5kdyhyKTticmVhaztjYXNlIDE2OnI9PWkuYkkuTkk/dGhpcy5zcmNPdGhlclJlc3BFcnJOPWUuZ3coKS52YWx1ZTplLmR3KHIpO2JyZWFrO2Nhc2UgMTc6cj09aS5iSS5EST90aGlzLnNyY090aGVyUmVxUXQ9ZS5uUigpLnZhbHVlOmUuZHcocik7YnJlYWs7Y2FzZSAxODpyPT1pLmJJLkRJP3RoaXMuc3JjT3RoZXJSZXNwUXQ9ZS5uUigpLnZhbHVlOmUuZHcocik7YnJlYWs7Y2FzZSAxOTpyPT1pLmJJLkRJP3RoaXMuc3JjT3RoZXJPdmVyUXQ9ZS5uUigpLnZhbHVlOmUuZHcocik7YnJlYWs7Y2FzZSAyMDpyPT1pLmJJLk5JP3RoaXMucDJwU3ViUmVxTj1lLmd3KCkudmFsdWU6ZS5kdyhyKTticmVhaztjYXNlIDIxOnI9PWkuYkkuTkk/dGhpcy5wMnBTdWJSZXNwTj1lLmd3KCkudmFsdWU6ZS5kdyhyKTticmVhaztjYXNlIDIyOnI9PWkuYkkuT0k/dGhpcy5wMnBTdWJSZXNwUGFydE49ZS5zUigpLnZhbHVlOmUuZHcocik7YnJlYWs7Y2FzZSAyMzpyPT1pLmJJLk9JP3RoaXMucDJwU3ViUmVzcEVyck49ZS5zUigpLnZhbHVlOmUuZHcocik7YnJlYWs7Y2FzZSAyNDpyPT1pLmJJLk5JP3RoaXMucDJwU3ViUmVzcEV4cE49ZS5ndygpLnZhbHVlOmUuZHcocik7YnJlYWs7Y2FzZSAyNTpyPT1pLmJJLkRJP3RoaXMucDJwU3ViUmVxUXQ9ZS5uUigpLnZhbHVlOmUuZHcocik7YnJlYWs7Y2FzZSAyNjpyPT1pLmJJLkRJP3RoaXMucDJwU3ViUmVzcFF0PWUublIoKS52YWx1ZTplLmR3KHIpO2JyZWFrO2Nhc2UgMjc6cj09aS5iSS5EST90aGlzLnAycERpcmVjdFF0PWUublIoKS52YWx1ZTplLmR3KHIpO2JyZWFrO2Nhc2UgMjg6cj09aS5iSS5EST90aGlzLnAycFJlbGF5UXQ9ZS5uUigpLnZhbHVlOmUuZHcocik7YnJlYWs7Y2FzZSAyOTpyPT1pLmJJLkRJP3RoaXMucDJwTmF0UXQ9ZS5uUigpLnZhbHVlOmUuZHcocik7YnJlYWs7Y2FzZSAzMDpyPT1pLmJJLkRJP3RoaXMucDJwVWRwYlF0PWUublIoKS52YWx1ZTplLmR3KHIpO2JyZWFrO2Nhc2UgMzE6cj09aS5iSS5OST90aGlzLmZhbGxBZ2VudFJlc3BOPWUuZ3coKS52YWx1ZTplLmR3KHIpO2JyZWFrO2Nhc2UgMzI6cj09aS5iSS5OST90aGlzLmZhbGxBZ2VudFByZWRIaXROPWUuZ3coKS52YWx1ZTplLmR3KHIpO2JyZWFrO2Nhc2UgMzM6cj09aS5iSS5OST90aGlzLmZhbGxBZ2VudEZhaWxlZFJlc3BOPWUuZ3coKS52YWx1ZTplLmR3KHIpO2JyZWFrO2Nhc2UgMzQ6cj09aS5iSS5OST90aGlzLmZhbGxBZ2VudFByZWRNaXNzTj1lLmd3KCkudmFsdWU6ZS5kdyhyKTticmVhaztjYXNlIDM1OnI9PWkuYkkuTkk/dGhpcy5mYWxsQWdlbnRQcmVkUGFydGlhbEhpdE49ZS5ndygpLnZhbHVlOmUuZHcocik7YnJlYWs7Y2FzZSAzNjpyPT1pLmJJLkRJP3RoaXMuZmFsbEFnZW5UcmFmZmljU3VjY2Vzc1F0PWUublIoKS52YWx1ZTplLmR3KHIpO2JyZWFrO2Nhc2UgMzc6cj09aS5iSS5EST90aGlzLmZhbGxBZ2VuVHJhZmZpY0ZhaWx1cmVRdD1lLm5SKCkudmFsdWU6ZS5kdyhyKTticmVhaztjYXNlIDM4OnI9PWkuYkkuTkk/dGhpcy5wMnBBZ2VudFByZWRIaXROPWUuZ3coKS52YWx1ZTplLmR3KHIpO2JyZWFrO2Nhc2UgMzk6cj09aS5iSS5OST90aGlzLnAycEFnZW50UHJlZE1pc3NOPWUuZ3coKS52YWx1ZTplLmR3KHIpO2JyZWFrO2Nhc2UgNDA6cj09aS5iSS5OST90aGlzLnAycEFnZW50UHJlZFBhcnRpYWxIaXROPWUuZ3coKS52YWx1ZTplLmR3KHIpO2JyZWFrO2Nhc2UgNDE6cj09aS5iSS5EST90aGlzLnAycEFnZW5UcmFmZmljU3VjY2Vzc1F0PWUublIoKS52YWx1ZTplLmR3KHIpO2JyZWFrO2Nhc2UgNDI6cj09aS5iSS5EST90aGlzLnAycEFnZW5UcmFmZmljRmFpbHVyZVF0PWUublIoKS52YWx1ZTplLmR3KHIpO2JyZWFrO2Nhc2UgNDM6cj09aS5iSS5OST90aGlzLnJlc3BQMnBPdGhlck49ZS5ndygpLnZhbHVlOmUuZHcocik7YnJlYWs7Y2FzZSA0NDpyPT1pLmJJLk5JP3RoaXMubENhY2hlUmVzcE49ZS5ndygpLnZhbHVlOmUuZHcocik7YnJlYWs7Y2FzZSA0NTpyPT1pLmJJLkRJP3RoaXMubENhY2hlUmVzcFF0PWUublIoKS52YWx1ZTplLmR3KHIpO2JyZWFrO2Nhc2UgNDY6cj09aS5iSS5EST90aGlzLnAycE91dFNpdGVMb3dQcmlvPWUublIoKS52YWx1ZTplLmR3KHIpO2JyZWFrO2RlZmF1bHQ6ZS5kdyhyKX1lLnZ3KCl9ZS55dygpfSxoaXZlLnNuYXBzaG90cy5UcmFmZmljLnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbihlKXtlLm13KFwiVHJhZmZpY1wiKSxudWxsIT09dGhpcy5yZXFOJiZ2b2lkIDAhPT10aGlzLnJlcU4mJihlLkV3KFwicmVxTlwiLGkuYkkuTkksMSksZS53dyh0aGlzLnJlcU4pLGUuSXcoKSksbnVsbCE9PXRoaXMucmVzcEZhbGxiYWNrTiYmdm9pZCAwIT09dGhpcy5yZXNwRmFsbGJhY2tOJiYoZS5FdyhcInJlc3BGYWxsYmFja05cIixpLmJJLk9JLDIpLGUuTFModGhpcy5yZXNwRmFsbGJhY2tOKSxlLkl3KCkpLG51bGwhPT10aGlzLnJlc3BGYWxsYmFja0Vyck4mJnZvaWQgMCE9PXRoaXMucmVzcEZhbGxiYWNrRXJyTiYmKGUuRXcoXCJyZXNwRmFsbGJhY2tFcnJOXCIsaS5iSS5OSSwzKSxlLnd3KHRoaXMucmVzcEZhbGxiYWNrRXJyTiksZS5JdygpKSxudWxsIT09dGhpcy5yZXNwUDJwTiYmdm9pZCAwIT09dGhpcy5yZXNwUDJwTiYmKGUuRXcoXCJyZXNwUDJwTlwiLGkuYkkuT0ksNCksZS5MUyh0aGlzLnJlc3BQMnBOKSxlLkl3KCkpLG51bGwhPT10aGlzLnJlcU90aGVyTiYmdm9pZCAwIT09dGhpcy5yZXFPdGhlck4mJihlLkV3KFwicmVxT3RoZXJOXCIsaS5iSS5OSSw1KSxlLnd3KHRoaXMucmVxT3RoZXJOKSxlLkl3KCkpLG51bGwhPT10aGlzLnJlc3BGYWxsYmFja090aGVyTiYmdm9pZCAwIT09dGhpcy5yZXNwRmFsbGJhY2tPdGhlck4mJihlLkV3KFwicmVzcEZhbGxiYWNrT3RoZXJOXCIsaS5iSS5OSSw2KSxlLnd3KHRoaXMucmVzcEZhbGxiYWNrT3RoZXJOKSxlLkl3KCkpLG51bGwhPT10aGlzLnJlc3BGYWxsYmFja090aGVydEVyck4mJnZvaWQgMCE9PXRoaXMucmVzcEZhbGxiYWNrT3RoZXJ0RXJyTiYmKGUuRXcoXCJyZXNwRmFsbGJhY2tPdGhlcnRFcnJOXCIsaS5iSS5OSSw3KSxlLnd3KHRoaXMucmVzcEZhbGxiYWNrT3RoZXJ0RXJyTiksZS5JdygpKSxudWxsIT09dGhpcy5zcmNSZXFOJiZ2b2lkIDAhPT10aGlzLnNyY1JlcU4mJihlLkV3KFwic3JjUmVxTlwiLGkuYkkuTkksOCksZS53dyh0aGlzLnNyY1JlcU4pLGUuSXcoKSksbnVsbCE9PXRoaXMuc3JjUmVzcE4mJnZvaWQgMCE9PXRoaXMuc3JjUmVzcE4mJihlLkV3KFwic3JjUmVzcE5cIixpLmJJLk5JLDkpLGUud3codGhpcy5zcmNSZXNwTiksZS5JdygpKSxudWxsIT09dGhpcy5zcmNSZXNwRXJyTiYmdm9pZCAwIT09dGhpcy5zcmNSZXNwRXJyTiYmKGUuRXcoXCJzcmNSZXNwRXJyTlwiLGkuYkkuTkksMTApLGUud3codGhpcy5zcmNSZXNwRXJyTiksZS5JdygpKSxudWxsIT09dGhpcy5zcmNSZXFRdCYmdm9pZCAwIT09dGhpcy5zcmNSZXFRdCYmKGUuRXcoXCJzcmNSZXFRdFwiLGkuYkkuREksMTEpLGUuRlModGhpcy5zcmNSZXFRdCksZS5JdygpKSxudWxsIT09dGhpcy5zcmNSZXNwUXQmJnZvaWQgMCE9PXRoaXMuc3JjUmVzcFF0JiYoZS5FdyhcInNyY1Jlc3BRdFwiLGkuYkkuREksMTIpLGUuRlModGhpcy5zcmNSZXNwUXQpLGUuSXcoKSksbnVsbCE9PXRoaXMuc3JjT3ZlclF0JiZ2b2lkIDAhPT10aGlzLnNyY092ZXJRdCYmKGUuRXcoXCJzcmNPdmVyUXRcIixpLmJJLkRJLDEzKSxlLkZTKHRoaXMuc3JjT3ZlclF0KSxlLkl3KCkpLG51bGwhPT10aGlzLnNyY090aGVyUmVxTiYmdm9pZCAwIT09dGhpcy5zcmNPdGhlclJlcU4mJihlLkV3KFwic3JjT3RoZXJSZXFOXCIsaS5iSS5OSSwxNCksZS53dyh0aGlzLnNyY090aGVyUmVxTiksZS5JdygpKSxudWxsIT09dGhpcy5zcmNPdGhlclJlc3BOJiZ2b2lkIDAhPT10aGlzLnNyY090aGVyUmVzcE4mJihlLkV3KFwic3JjT3RoZXJSZXNwTlwiLGkuYkkuTkksMTUpLGUud3codGhpcy5zcmNPdGhlclJlc3BOKSxlLkl3KCkpLG51bGwhPT10aGlzLnNyY090aGVyUmVzcEVyck4mJnZvaWQgMCE9PXRoaXMuc3JjT3RoZXJSZXNwRXJyTiYmKGUuRXcoXCJzcmNPdGhlclJlc3BFcnJOXCIsaS5iSS5OSSwxNiksZS53dyh0aGlzLnNyY090aGVyUmVzcEVyck4pLGUuSXcoKSksbnVsbCE9PXRoaXMuc3JjT3RoZXJSZXFRdCYmdm9pZCAwIT09dGhpcy5zcmNPdGhlclJlcVF0JiYoZS5FdyhcInNyY090aGVyUmVxUXRcIixpLmJJLkRJLDE3KSxlLkZTKHRoaXMuc3JjT3RoZXJSZXFRdCksZS5JdygpKSxudWxsIT09dGhpcy5zcmNPdGhlclJlc3BRdCYmdm9pZCAwIT09dGhpcy5zcmNPdGhlclJlc3BRdCYmKGUuRXcoXCJzcmNPdGhlclJlc3BRdFwiLGkuYkkuREksMTgpLGUuRlModGhpcy5zcmNPdGhlclJlc3BRdCksZS5JdygpKSxudWxsIT09dGhpcy5zcmNPdGhlck92ZXJRdCYmdm9pZCAwIT09dGhpcy5zcmNPdGhlck92ZXJRdCYmKGUuRXcoXCJzcmNPdGhlck92ZXJRdFwiLGkuYkkuREksMTkpLGUuRlModGhpcy5zcmNPdGhlck92ZXJRdCksZS5JdygpKSxudWxsIT09dGhpcy5wMnBTdWJSZXFOJiZ2b2lkIDAhPT10aGlzLnAycFN1YlJlcU4mJihlLkV3KFwicDJwU3ViUmVxTlwiLGkuYkkuTkksMjApLGUud3codGhpcy5wMnBTdWJSZXFOKSxlLkl3KCkpLG51bGwhPT10aGlzLnAycFN1YlJlc3BOJiZ2b2lkIDAhPT10aGlzLnAycFN1YlJlc3BOJiYoZS5FdyhcInAycFN1YlJlc3BOXCIsaS5iSS5OSSwyMSksZS53dyh0aGlzLnAycFN1YlJlc3BOKSxlLkl3KCkpLG51bGwhPT10aGlzLnAycFN1YlJlc3BQYXJ0TiYmdm9pZCAwIT09dGhpcy5wMnBTdWJSZXNwUGFydE4mJihlLkV3KFwicDJwU3ViUmVzcFBhcnROXCIsaS5iSS5PSSwyMiksZS5MUyh0aGlzLnAycFN1YlJlc3BQYXJ0TiksZS5JdygpKSxudWxsIT09dGhpcy5wMnBTdWJSZXNwRXJyTiYmdm9pZCAwIT09dGhpcy5wMnBTdWJSZXNwRXJyTiYmKGUuRXcoXCJwMnBTdWJSZXNwRXJyTlwiLGkuYkkuT0ksMjMpLGUuTFModGhpcy5wMnBTdWJSZXNwRXJyTiksZS5JdygpKSxudWxsIT09dGhpcy5wMnBTdWJSZXNwRXhwTiYmdm9pZCAwIT09dGhpcy5wMnBTdWJSZXNwRXhwTiYmKGUuRXcoXCJwMnBTdWJSZXNwRXhwTlwiLGkuYkkuTkksMjQpLGUud3codGhpcy5wMnBTdWJSZXNwRXhwTiksZS5JdygpKSxudWxsIT09dGhpcy5wMnBTdWJSZXFRdCYmdm9pZCAwIT09dGhpcy5wMnBTdWJSZXFRdCYmKGUuRXcoXCJwMnBTdWJSZXFRdFwiLGkuYkkuREksMjUpLGUuRlModGhpcy5wMnBTdWJSZXFRdCksZS5JdygpKSxudWxsIT09dGhpcy5wMnBTdWJSZXNwUXQmJnZvaWQgMCE9PXRoaXMucDJwU3ViUmVzcFF0JiYoZS5FdyhcInAycFN1YlJlc3BRdFwiLGkuYkkuREksMjYpLGUuRlModGhpcy5wMnBTdWJSZXNwUXQpLGUuSXcoKSksbnVsbCE9PXRoaXMucDJwRGlyZWN0UXQmJnZvaWQgMCE9PXRoaXMucDJwRGlyZWN0UXQmJihlLkV3KFwicDJwRGlyZWN0UXRcIixpLmJJLkRJLDI3KSxlLkZTKHRoaXMucDJwRGlyZWN0UXQpLGUuSXcoKSksbnVsbCE9PXRoaXMucDJwUmVsYXlRdCYmdm9pZCAwIT09dGhpcy5wMnBSZWxheVF0JiYoZS5FdyhcInAycFJlbGF5UXRcIixpLmJJLkRJLDI4KSxlLkZTKHRoaXMucDJwUmVsYXlRdCksZS5JdygpKSxudWxsIT09dGhpcy5wMnBOYXRRdCYmdm9pZCAwIT09dGhpcy5wMnBOYXRRdCYmKGUuRXcoXCJwMnBOYXRRdFwiLGkuYkkuREksMjkpLGUuRlModGhpcy5wMnBOYXRRdCksZS5JdygpKSxudWxsIT09dGhpcy5wMnBVZHBiUXQmJnZvaWQgMCE9PXRoaXMucDJwVWRwYlF0JiYoZS5FdyhcInAycFVkcGJRdFwiLGkuYkkuREksMzApLGUuRlModGhpcy5wMnBVZHBiUXQpLGUuSXcoKSksbnVsbCE9PXRoaXMuZmFsbEFnZW50UmVzcE4mJnZvaWQgMCE9PXRoaXMuZmFsbEFnZW50UmVzcE4mJihlLkV3KFwiZmFsbEFnZW50UmVzcE5cIixpLmJJLk5JLDMxKSxlLnd3KHRoaXMuZmFsbEFnZW50UmVzcE4pLGUuSXcoKSksbnVsbCE9PXRoaXMuZmFsbEFnZW50UHJlZEhpdE4mJnZvaWQgMCE9PXRoaXMuZmFsbEFnZW50UHJlZEhpdE4mJihlLkV3KFwiZmFsbEFnZW50UHJlZEhpdE5cIixpLmJJLk5JLDMyKSxlLnd3KHRoaXMuZmFsbEFnZW50UHJlZEhpdE4pLGUuSXcoKSksbnVsbCE9PXRoaXMuZmFsbEFnZW50RmFpbGVkUmVzcE4mJnZvaWQgMCE9PXRoaXMuZmFsbEFnZW50RmFpbGVkUmVzcE4mJihlLkV3KFwiZmFsbEFnZW50RmFpbGVkUmVzcE5cIixpLmJJLk5JLDMzKSxlLnd3KHRoaXMuZmFsbEFnZW50RmFpbGVkUmVzcE4pLGUuSXcoKSksbnVsbCE9PXRoaXMuZmFsbEFnZW50UHJlZE1pc3NOJiZ2b2lkIDAhPT10aGlzLmZhbGxBZ2VudFByZWRNaXNzTiYmKGUuRXcoXCJmYWxsQWdlbnRQcmVkTWlzc05cIixpLmJJLk5JLDM0KSxlLnd3KHRoaXMuZmFsbEFnZW50UHJlZE1pc3NOKSxlLkl3KCkpLG51bGwhPT10aGlzLmZhbGxBZ2VudFByZWRQYXJ0aWFsSGl0TiYmdm9pZCAwIT09dGhpcy5mYWxsQWdlbnRQcmVkUGFydGlhbEhpdE4mJihlLkV3KFwiZmFsbEFnZW50UHJlZFBhcnRpYWxIaXROXCIsaS5iSS5OSSwzNSksZS53dyh0aGlzLmZhbGxBZ2VudFByZWRQYXJ0aWFsSGl0TiksZS5JdygpKSxudWxsIT09dGhpcy5mYWxsQWdlblRyYWZmaWNTdWNjZXNzUXQmJnZvaWQgMCE9PXRoaXMuZmFsbEFnZW5UcmFmZmljU3VjY2Vzc1F0JiYoZS5FdyhcImZhbGxBZ2VuVHJhZmZpY1N1Y2Nlc3NRdFwiLGkuYkkuREksMzYpLGUuRlModGhpcy5mYWxsQWdlblRyYWZmaWNTdWNjZXNzUXQpLGUuSXcoKSksbnVsbCE9PXRoaXMuZmFsbEFnZW5UcmFmZmljRmFpbHVyZVF0JiZ2b2lkIDAhPT10aGlzLmZhbGxBZ2VuVHJhZmZpY0ZhaWx1cmVRdCYmKGUuRXcoXCJmYWxsQWdlblRyYWZmaWNGYWlsdXJlUXRcIixpLmJJLkRJLDM3KSxlLkZTKHRoaXMuZmFsbEFnZW5UcmFmZmljRmFpbHVyZVF0KSxlLkl3KCkpLG51bGwhPT10aGlzLnAycEFnZW50UHJlZEhpdE4mJnZvaWQgMCE9PXRoaXMucDJwQWdlbnRQcmVkSGl0TiYmKGUuRXcoXCJwMnBBZ2VudFByZWRIaXROXCIsaS5iSS5OSSwzOCksZS53dyh0aGlzLnAycEFnZW50UHJlZEhpdE4pLGUuSXcoKSksbnVsbCE9PXRoaXMucDJwQWdlbnRQcmVkTWlzc04mJnZvaWQgMCE9PXRoaXMucDJwQWdlbnRQcmVkTWlzc04mJihlLkV3KFwicDJwQWdlbnRQcmVkTWlzc05cIixpLmJJLk5JLDM5KSxlLnd3KHRoaXMucDJwQWdlbnRQcmVkTWlzc04pLGUuSXcoKSksbnVsbCE9PXRoaXMucDJwQWdlbnRQcmVkUGFydGlhbEhpdE4mJnZvaWQgMCE9PXRoaXMucDJwQWdlbnRQcmVkUGFydGlhbEhpdE4mJihlLkV3KFwicDJwQWdlbnRQcmVkUGFydGlhbEhpdE5cIixpLmJJLk5JLDQwKSxlLnd3KHRoaXMucDJwQWdlbnRQcmVkUGFydGlhbEhpdE4pLGUuSXcoKSksbnVsbCE9PXRoaXMucDJwQWdlblRyYWZmaWNTdWNjZXNzUXQmJnZvaWQgMCE9PXRoaXMucDJwQWdlblRyYWZmaWNTdWNjZXNzUXQmJihlLkV3KFwicDJwQWdlblRyYWZmaWNTdWNjZXNzUXRcIixpLmJJLkRJLDQxKSxlLkZTKHRoaXMucDJwQWdlblRyYWZmaWNTdWNjZXNzUXQpLGUuSXcoKSksbnVsbCE9PXRoaXMucDJwQWdlblRyYWZmaWNGYWlsdXJlUXQmJnZvaWQgMCE9PXRoaXMucDJwQWdlblRyYWZmaWNGYWlsdXJlUXQmJihlLkV3KFwicDJwQWdlblRyYWZmaWNGYWlsdXJlUXRcIixpLmJJLkRJLDQyKSxlLkZTKHRoaXMucDJwQWdlblRyYWZmaWNGYWlsdXJlUXQpLGUuSXcoKSksbnVsbCE9PXRoaXMucmVzcFAycE90aGVyTiYmdm9pZCAwIT09dGhpcy5yZXNwUDJwT3RoZXJOJiYoZS5FdyhcInJlc3BQMnBPdGhlck5cIixpLmJJLk5JLDQzKSxlLnd3KHRoaXMucmVzcFAycE90aGVyTiksZS5JdygpKSxudWxsIT09dGhpcy5sQ2FjaGVSZXNwTiYmdm9pZCAwIT09dGhpcy5sQ2FjaGVSZXNwTiYmKGUuRXcoXCJsQ2FjaGVSZXNwTlwiLGkuYkkuTkksNDQpLGUud3codGhpcy5sQ2FjaGVSZXNwTiksZS5JdygpKSxudWxsIT09dGhpcy5sQ2FjaGVSZXNwUXQmJnZvaWQgMCE9PXRoaXMubENhY2hlUmVzcFF0JiYoZS5FdyhcImxDYWNoZVJlc3BRdFwiLGkuYkkuREksNDUpLGUuRlModGhpcy5sQ2FjaGVSZXNwUXQpLGUuSXcoKSksbnVsbCE9PXRoaXMucDJwT3V0U2l0ZUxvd1ByaW8mJnZvaWQgMCE9PXRoaXMucDJwT3V0U2l0ZUxvd1ByaW8mJihlLkV3KFwicDJwT3V0U2l0ZUxvd1ByaW9cIixpLmJJLkRJLDQ2KSxlLkZTKHRoaXMucDJwT3V0U2l0ZUxvd1ByaW8pLGUuSXcoKSksZS5TdygpLGUuUncoKX0saGl2ZS5zbmFwc2hvdHMuTWV0cmljcz1mdW5jdGlvbihlKXt0aGlzLnVwQlc9bnVsbCx0aGlzLmRvd25CVz1udWxsLHRoaXMubWVtTj1udWxsLHRoaXMucHJ0SW5OPW51bGwsdGhpcy5wcnRPdXROPW51bGwsdGhpcy5pbml0VmlkZW9CdWZRdD1udWxsLHRoaXMudmlkZW9BdmdCdWZRdD1udWxsLHRoaXMudmlkZW9CdWZRdD1udWxsLHRoaXMudmlkZW9CdWZOPW51bGwsdGhpcy5pbml0QXVkaW9CdWZRdD1udWxsLHRoaXMuYXVkaW9BdmdCdWZRdD1udWxsLHRoaXMuYXVkaW9CdWZRdD1udWxsLHRoaXMuYXVkaW9CdWZOPW51bGwsdGhpcy5iaXRyYXRlVXBOPW51bGwsdGhpcy5iaXRyYXRlRHduTj1udWxsLHRoaXMuZGVsYXk9bnVsbCx0aGlzLmRlbGF5RW5mb3JjZW1lbnQ9bnVsbCx0aGlzLmxvb2t1cFJlcUVzdGFibGlzaGVkPW51bGwsdGhpcy5sb29rdXBSZXFBY2NlcHQ9bnVsbCx0aGlzLmZhbGxiYWNrQXZnVHA9bnVsbCx0aGlzLnNyY1Rocm91Z2hwdXQ9bnVsbCx0aGlzLmRpc2tSZWFkVGltZW91dD1udWxsLHRoaXMuZGlza1JlYWRSYXRlPW51bGwsdGhpcy5kaXNrU3RvcmVSYXRlPW51bGwsdGhpcy5kaXNrUmVtb3ZlUmF0ZT1udWxsLHRoaXMuZGlza0NhY2hlU2l6ZT1udWxsLHRoaXMuY2xpZW50QnVmZmVyTXM9bnVsbCx0aGlzLmxvb2t1cFRvdGFsPW51bGwsdGhpcy5sb29rdXBOb3RGb3VuZD1udWxsLHRoaXMubG9va3VwRmFpbGVkPW51bGwsdGhpcy5sb29rdXBMYXRlbmN5PW51bGwsdGhpcy50cmFja2VyRmFpbGVkPW51bGwsdGhpcy50cmFja2VyTGF0ZW5jeT1udWxsLHRoaXMuc25hcHNob3RGYWlsZWQ9bnVsbCx0aGlzLnNuYXBzaG90TGF0ZW5jeT1udWxsLGUmJih2b2lkIDAhPT1lLnVwQlcmJih0aGlzLnVwQlc9ZS51cEJXKSx2b2lkIDAhPT1lLmRvd25CVyYmKHRoaXMuZG93bkJXPWUuZG93bkJXKSx2b2lkIDAhPT1lLm1lbU4mJih0aGlzLm1lbU49ZS5tZW1OKSx2b2lkIDAhPT1lLnBydEluTiYmKHRoaXMucHJ0SW5OPWUucHJ0SW5OKSx2b2lkIDAhPT1lLnBydE91dE4mJih0aGlzLnBydE91dE49ZS5wcnRPdXROKSx2b2lkIDAhPT1lLmluaXRWaWRlb0J1ZlF0JiYodGhpcy5pbml0VmlkZW9CdWZRdD1lLmluaXRWaWRlb0J1ZlF0KSx2b2lkIDAhPT1lLnZpZGVvQXZnQnVmUXQmJih0aGlzLnZpZGVvQXZnQnVmUXQ9ZS52aWRlb0F2Z0J1ZlF0KSx2b2lkIDAhPT1lLnZpZGVvQnVmUXQmJih0aGlzLnZpZGVvQnVmUXQ9ZS52aWRlb0J1ZlF0KSx2b2lkIDAhPT1lLnZpZGVvQnVmTiYmKHRoaXMudmlkZW9CdWZOPWUudmlkZW9CdWZOKSx2b2lkIDAhPT1lLmluaXRBdWRpb0J1ZlF0JiYodGhpcy5pbml0QXVkaW9CdWZRdD1lLmluaXRBdWRpb0J1ZlF0KSx2b2lkIDAhPT1lLmF1ZGlvQXZnQnVmUXQmJih0aGlzLmF1ZGlvQXZnQnVmUXQ9ZS5hdWRpb0F2Z0J1ZlF0KSx2b2lkIDAhPT1lLmF1ZGlvQnVmUXQmJih0aGlzLmF1ZGlvQnVmUXQ9ZS5hdWRpb0J1ZlF0KSx2b2lkIDAhPT1lLmF1ZGlvQnVmTiYmKHRoaXMuYXVkaW9CdWZOPWUuYXVkaW9CdWZOKSx2b2lkIDAhPT1lLmJpdHJhdGVVcE4mJih0aGlzLmJpdHJhdGVVcE49ZS5iaXRyYXRlVXBOKSx2b2lkIDAhPT1lLmJpdHJhdGVEd25OJiYodGhpcy5iaXRyYXRlRHduTj1lLmJpdHJhdGVEd25OKSx2b2lkIDAhPT1lLmRlbGF5JiYodGhpcy5kZWxheT1lLmRlbGF5KSx2b2lkIDAhPT1lLmRlbGF5RW5mb3JjZW1lbnQmJih0aGlzLmRlbGF5RW5mb3JjZW1lbnQ9ZS5kZWxheUVuZm9yY2VtZW50KSx2b2lkIDAhPT1lLmxvb2t1cFJlcUVzdGFibGlzaGVkJiYodGhpcy5sb29rdXBSZXFFc3RhYmxpc2hlZD1lLmxvb2t1cFJlcUVzdGFibGlzaGVkKSx2b2lkIDAhPT1lLmxvb2t1cFJlcUFjY2VwdCYmKHRoaXMubG9va3VwUmVxQWNjZXB0PWUubG9va3VwUmVxQWNjZXB0KSx2b2lkIDAhPT1lLmZhbGxiYWNrQXZnVHAmJih0aGlzLmZhbGxiYWNrQXZnVHA9ZS5mYWxsYmFja0F2Z1RwKSx2b2lkIDAhPT1lLnNyY1Rocm91Z2hwdXQmJih0aGlzLnNyY1Rocm91Z2hwdXQ9ZS5zcmNUaHJvdWdocHV0KSx2b2lkIDAhPT1lLmRpc2tSZWFkVGltZW91dCYmKHRoaXMuZGlza1JlYWRUaW1lb3V0PWUuZGlza1JlYWRUaW1lb3V0KSx2b2lkIDAhPT1lLmRpc2tSZWFkUmF0ZSYmKHRoaXMuZGlza1JlYWRSYXRlPWUuZGlza1JlYWRSYXRlKSx2b2lkIDAhPT1lLmRpc2tTdG9yZVJhdGUmJih0aGlzLmRpc2tTdG9yZVJhdGU9ZS5kaXNrU3RvcmVSYXRlKSx2b2lkIDAhPT1lLmRpc2tSZW1vdmVSYXRlJiYodGhpcy5kaXNrUmVtb3ZlUmF0ZT1lLmRpc2tSZW1vdmVSYXRlKSx2b2lkIDAhPT1lLmRpc2tDYWNoZVNpemUmJih0aGlzLmRpc2tDYWNoZVNpemU9ZS5kaXNrQ2FjaGVTaXplKSx2b2lkIDAhPT1lLmNsaWVudEJ1ZmZlck1zJiYodGhpcy5jbGllbnRCdWZmZXJNcz1lLmNsaWVudEJ1ZmZlck1zKSx2b2lkIDAhPT1lLmxvb2t1cFRvdGFsJiYodGhpcy5sb29rdXBUb3RhbD1lLmxvb2t1cFRvdGFsKSx2b2lkIDAhPT1lLmxvb2t1cE5vdEZvdW5kJiYodGhpcy5sb29rdXBOb3RGb3VuZD1lLmxvb2t1cE5vdEZvdW5kKSx2b2lkIDAhPT1lLmxvb2t1cEZhaWxlZCYmKHRoaXMubG9va3VwRmFpbGVkPWUubG9va3VwRmFpbGVkKSx2b2lkIDAhPT1lLmxvb2t1cExhdGVuY3kmJih0aGlzLmxvb2t1cExhdGVuY3k9ZS5sb29rdXBMYXRlbmN5KSx2b2lkIDAhPT1lLnRyYWNrZXJGYWlsZWQmJih0aGlzLnRyYWNrZXJGYWlsZWQ9ZS50cmFja2VyRmFpbGVkKSx2b2lkIDAhPT1lLnRyYWNrZXJMYXRlbmN5JiYodGhpcy50cmFja2VyTGF0ZW5jeT1lLnRyYWNrZXJMYXRlbmN5KSx2b2lkIDAhPT1lLnNuYXBzaG90RmFpbGVkJiYodGhpcy5zbmFwc2hvdEZhaWxlZD1lLnNuYXBzaG90RmFpbGVkKSx2b2lkIDAhPT1lLnNuYXBzaG90TGF0ZW5jeSYmKHRoaXMuc25hcHNob3RMYXRlbmN5PWUuc25hcHNob3RMYXRlbmN5KSl9LGhpdmUuc25hcHNob3RzLk1ldHJpY3MucHJvdG90eXBlPXt9LGhpdmUuc25hcHNob3RzLk1ldHJpY3MucHJvdG90eXBlLnJlYWQ9ZnVuY3Rpb24oZSl7Zm9yKGUuUVMoKTs7KXt2YXIgdD1lLnV3KCkscj0odC5xUyx0Lmx3KSxuPXQucHc7aWYocj09aS5iSS5BSSlicmVhaztzd2l0Y2gobil7Y2FzZSAxOnI9PWkuYkkuTkk/dGhpcy51cEJXPWUuZ3coKS52YWx1ZTplLmR3KHIpO2JyZWFrO2Nhc2UgMjpyPT1pLmJJLk5JP3RoaXMuZG93bkJXPWUuZ3coKS52YWx1ZTplLmR3KHIpO2JyZWFrO2Nhc2UgMzpyPT1pLmJJLk5JP3RoaXMubWVtTj1lLmd3KCkudmFsdWU6ZS5kdyhyKTticmVhaztjYXNlIDQ6cj09aS5iSS5OST90aGlzLnBydEluTj1lLmd3KCkudmFsdWU6ZS5kdyhyKTticmVhaztjYXNlIDU6cj09aS5iSS5OST90aGlzLnBydE91dE49ZS5ndygpLnZhbHVlOmUuZHcocik7YnJlYWs7Y2FzZSA2OnI9PWkuYkkuREk/dGhpcy5pbml0VmlkZW9CdWZRdD1lLm5SKCkudmFsdWU6ZS5kdyhyKTticmVhaztjYXNlIDc6cj09aS5iSS5PST90aGlzLnZpZGVvQXZnQnVmUXQ9ZS5zUigpLnZhbHVlOmUuZHcocik7YnJlYWs7Y2FzZSA4OnI9PWkuYkkuREk/dGhpcy52aWRlb0J1ZlF0PWUublIoKS52YWx1ZTplLmR3KHIpO2JyZWFrO2Nhc2UgOTpyPT1pLmJJLk5JP3RoaXMudmlkZW9CdWZOPWUuZ3coKS52YWx1ZTplLmR3KHIpO2JyZWFrO2Nhc2UgMTA6cj09aS5iSS5OST90aGlzLmluaXRBdWRpb0J1ZlF0PWUuZ3coKS52YWx1ZTplLmR3KHIpO2JyZWFrO2Nhc2UgMTE6cj09aS5iSS5PST90aGlzLmF1ZGlvQXZnQnVmUXQ9ZS5zUigpLnZhbHVlOmUuZHcocik7YnJlYWs7Y2FzZSAxMjpyPT1pLmJJLkRJP3RoaXMuYXVkaW9CdWZRdD1lLm5SKCkudmFsdWU6ZS5kdyhyKTticmVhaztjYXNlIDEzOnI9PWkuYkkuTkk/dGhpcy5hdWRpb0J1Zk49ZS5ndygpLnZhbHVlOmUuZHcocik7YnJlYWs7Y2FzZSAxNDpyPT1pLmJJLk5JP3RoaXMuYml0cmF0ZVVwTj1lLmd3KCkudmFsdWU6ZS5kdyhyKTticmVhaztjYXNlIDE1OnI9PWkuYkkuTkk/dGhpcy5iaXRyYXRlRHduTj1lLmd3KCkudmFsdWU6ZS5kdyhyKTticmVhaztjYXNlIDE2OnI9PWkuYkkuTkk/dGhpcy5kZWxheT1lLmd3KCkudmFsdWU6ZS5kdyhyKTticmVhaztjYXNlIDE3OnI9PWkuYkkuTkk/dGhpcy5kZWxheUVuZm9yY2VtZW50PWUuZ3coKS52YWx1ZTplLmR3KHIpO2JyZWFrO2Nhc2UgMTg6cj09aS5iSS5OST90aGlzLmxvb2t1cFJlcUVzdGFibGlzaGVkPWUuZ3coKS52YWx1ZTplLmR3KHIpO2JyZWFrO2Nhc2UgMTk6cj09aS5iSS5OST90aGlzLmxvb2t1cFJlcUFjY2VwdD1lLmd3KCkudmFsdWU6ZS5kdyhyKTticmVhaztjYXNlIDIwOnI9PWkuYkkuT0k/dGhpcy5mYWxsYmFja0F2Z1RwPWUuc1IoKS52YWx1ZTplLmR3KHIpO2JyZWFrO2Nhc2UgMjE6cj09aS5iSS5PST90aGlzLnNyY1Rocm91Z2hwdXQ9ZS5zUigpLnZhbHVlOmUuZHcocik7YnJlYWs7Y2FzZSAyMjpyPT1pLmJJLk5JP3RoaXMuZGlza1JlYWRUaW1lb3V0PWUuZ3coKS52YWx1ZTplLmR3KHIpO2JyZWFrO2Nhc2UgMjM6cj09aS5iSS5PST90aGlzLmRpc2tSZWFkUmF0ZT1lLnNSKCkudmFsdWU6ZS5kdyhyKTticmVhaztjYXNlIDI0OnI9PWkuYkkuT0k/dGhpcy5kaXNrU3RvcmVSYXRlPWUuc1IoKS52YWx1ZTplLmR3KHIpO2JyZWFrO2Nhc2UgMjU6cj09aS5iSS5PST90aGlzLmRpc2tSZW1vdmVSYXRlPWUuc1IoKS52YWx1ZTplLmR3KHIpO2JyZWFrO2Nhc2UgMjY6cj09aS5iSS5EST90aGlzLmRpc2tDYWNoZVNpemU9ZS5uUigpLnZhbHVlOmUuZHcocik7YnJlYWs7Y2FzZSAyNzpyPT1pLmJJLk5JP3RoaXMuY2xpZW50QnVmZmVyTXM9ZS5ndygpLnZhbHVlOmUuZHcocik7YnJlYWs7Y2FzZSAyODpyPT1pLmJJLk5JP3RoaXMubG9va3VwVG90YWw9ZS5ndygpLnZhbHVlOmUuZHcocik7YnJlYWs7Y2FzZSAyOTpyPT1pLmJJLk5JP3RoaXMubG9va3VwTm90Rm91bmQ9ZS5ndygpLnZhbHVlOmUuZHcocik7YnJlYWs7Y2FzZSAzMDpyPT1pLmJJLk5JP3RoaXMubG9va3VwRmFpbGVkPWUuZ3coKS52YWx1ZTplLmR3KHIpO2JyZWFrO2Nhc2UgMzE6cj09aS5iSS5OST90aGlzLmxvb2t1cExhdGVuY3k9ZS5ndygpLnZhbHVlOmUuZHcocik7YnJlYWs7Y2FzZSAzMjpyPT1pLmJJLk5JP3RoaXMudHJhY2tlckZhaWxlZD1lLmd3KCkudmFsdWU6ZS5kdyhyKTticmVhaztjYXNlIDMzOnI9PWkuYkkuTkk/dGhpcy50cmFja2VyTGF0ZW5jeT1lLmd3KCkudmFsdWU6ZS5kdyhyKTticmVhaztjYXNlIDM0OnI9PWkuYkkuTkk/dGhpcy5zbmFwc2hvdEZhaWxlZD1lLmd3KCkudmFsdWU6ZS5kdyhyKTticmVhaztjYXNlIDM1OnI9PWkuYkkuTkk/dGhpcy5zbmFwc2hvdExhdGVuY3k9ZS5ndygpLnZhbHVlOmUuZHcocik7YnJlYWs7ZGVmYXVsdDplLmR3KHIpfWUudncoKX1lLnl3KCl9LGhpdmUuc25hcHNob3RzLk1ldHJpY3MucHJvdG90eXBlLndyaXRlPWZ1bmN0aW9uKGUpe2UubXcoXCJNZXRyaWNzXCIpLG51bGwhPT10aGlzLnVwQlcmJnZvaWQgMCE9PXRoaXMudXBCVyYmKGUuRXcoXCJ1cEJXXCIsaS5iSS5OSSwxKSxlLnd3KHRoaXMudXBCVyksZS5JdygpKSxudWxsIT09dGhpcy5kb3duQlcmJnZvaWQgMCE9PXRoaXMuZG93bkJXJiYoZS5FdyhcImRvd25CV1wiLGkuYkkuTkksMiksZS53dyh0aGlzLmRvd25CVyksZS5JdygpKSxudWxsIT09dGhpcy5tZW1OJiZ2b2lkIDAhPT10aGlzLm1lbU4mJihlLkV3KFwibWVtTlwiLGkuYkkuTkksMyksZS53dyh0aGlzLm1lbU4pLGUuSXcoKSksbnVsbCE9PXRoaXMucHJ0SW5OJiZ2b2lkIDAhPT10aGlzLnBydEluTiYmKGUuRXcoXCJwcnRJbk5cIixpLmJJLk5JLDQpLGUud3codGhpcy5wcnRJbk4pLGUuSXcoKSksbnVsbCE9PXRoaXMucHJ0T3V0TiYmdm9pZCAwIT09dGhpcy5wcnRPdXROJiYoZS5FdyhcInBydE91dE5cIixpLmJJLk5JLDUpLGUud3codGhpcy5wcnRPdXROKSxlLkl3KCkpLG51bGwhPT10aGlzLmluaXRWaWRlb0J1ZlF0JiZ2b2lkIDAhPT10aGlzLmluaXRWaWRlb0J1ZlF0JiYoZS5FdyhcImluaXRWaWRlb0J1ZlF0XCIsaS5iSS5ESSw2KSxlLkZTKHRoaXMuaW5pdFZpZGVvQnVmUXQpLGUuSXcoKSksbnVsbCE9PXRoaXMudmlkZW9BdmdCdWZRdCYmdm9pZCAwIT09dGhpcy52aWRlb0F2Z0J1ZlF0JiYoZS5FdyhcInZpZGVvQXZnQnVmUXRcIixpLmJJLk9JLDcpLGUuTFModGhpcy52aWRlb0F2Z0J1ZlF0KSxlLkl3KCkpLG51bGwhPT10aGlzLnZpZGVvQnVmUXQmJnZvaWQgMCE9PXRoaXMudmlkZW9CdWZRdCYmKGUuRXcoXCJ2aWRlb0J1ZlF0XCIsaS5iSS5ESSw4KSxlLkZTKHRoaXMudmlkZW9CdWZRdCksZS5JdygpKSxudWxsIT09dGhpcy52aWRlb0J1Zk4mJnZvaWQgMCE9PXRoaXMudmlkZW9CdWZOJiYoZS5FdyhcInZpZGVvQnVmTlwiLGkuYkkuTkksOSksZS53dyh0aGlzLnZpZGVvQnVmTiksZS5JdygpKSxudWxsIT09dGhpcy5pbml0QXVkaW9CdWZRdCYmdm9pZCAwIT09dGhpcy5pbml0QXVkaW9CdWZRdCYmKGUuRXcoXCJpbml0QXVkaW9CdWZRdFwiLGkuYkkuTkksMTApLGUud3codGhpcy5pbml0QXVkaW9CdWZRdCksZS5JdygpKSxudWxsIT09dGhpcy5hdWRpb0F2Z0J1ZlF0JiZ2b2lkIDAhPT10aGlzLmF1ZGlvQXZnQnVmUXQmJihlLkV3KFwiYXVkaW9BdmdCdWZRdFwiLGkuYkkuT0ksMTEpLGUuTFModGhpcy5hdWRpb0F2Z0J1ZlF0KSxlLkl3KCkpLG51bGwhPT10aGlzLmF1ZGlvQnVmUXQmJnZvaWQgMCE9PXRoaXMuYXVkaW9CdWZRdCYmKGUuRXcoXCJhdWRpb0J1ZlF0XCIsaS5iSS5ESSwxMiksZS5GUyh0aGlzLmF1ZGlvQnVmUXQpLGUuSXcoKSksbnVsbCE9PXRoaXMuYXVkaW9CdWZOJiZ2b2lkIDAhPT10aGlzLmF1ZGlvQnVmTiYmKGUuRXcoXCJhdWRpb0J1Zk5cIixpLmJJLk5JLDEzKSxlLnd3KHRoaXMuYXVkaW9CdWZOKSxlLkl3KCkpLG51bGwhPT10aGlzLmJpdHJhdGVVcE4mJnZvaWQgMCE9PXRoaXMuYml0cmF0ZVVwTiYmKGUuRXcoXCJiaXRyYXRlVXBOXCIsaS5iSS5OSSwxNCksZS53dyh0aGlzLmJpdHJhdGVVcE4pLGUuSXcoKSksbnVsbCE9PXRoaXMuYml0cmF0ZUR3bk4mJnZvaWQgMCE9PXRoaXMuYml0cmF0ZUR3bk4mJihlLkV3KFwiYml0cmF0ZUR3bk5cIixpLmJJLk5JLDE1KSxlLnd3KHRoaXMuYml0cmF0ZUR3bk4pLGUuSXcoKSksbnVsbCE9PXRoaXMuZGVsYXkmJnZvaWQgMCE9PXRoaXMuZGVsYXkmJihlLkV3KFwiZGVsYXlcIixpLmJJLk5JLDE2KSxlLnd3KHRoaXMuZGVsYXkpLGUuSXcoKSksbnVsbCE9PXRoaXMuZGVsYXlFbmZvcmNlbWVudCYmdm9pZCAwIT09dGhpcy5kZWxheUVuZm9yY2VtZW50JiYoZS5FdyhcImRlbGF5RW5mb3JjZW1lbnRcIixpLmJJLk5JLDE3KSxlLnd3KHRoaXMuZGVsYXlFbmZvcmNlbWVudCksZS5JdygpKSxudWxsIT09dGhpcy5sb29rdXBSZXFFc3RhYmxpc2hlZCYmdm9pZCAwIT09dGhpcy5sb29rdXBSZXFFc3RhYmxpc2hlZCYmKGUuRXcoXCJsb29rdXBSZXFFc3RhYmxpc2hlZFwiLGkuYkkuTkksMTgpLGUud3codGhpcy5sb29rdXBSZXFFc3RhYmxpc2hlZCksZS5JdygpKSxudWxsIT09dGhpcy5sb29rdXBSZXFBY2NlcHQmJnZvaWQgMCE9PXRoaXMubG9va3VwUmVxQWNjZXB0JiYoZS5FdyhcImxvb2t1cFJlcUFjY2VwdFwiLGkuYkkuTkksMTkpLGUud3codGhpcy5sb29rdXBSZXFBY2NlcHQpLGUuSXcoKSksbnVsbCE9PXRoaXMuZmFsbGJhY2tBdmdUcCYmdm9pZCAwIT09dGhpcy5mYWxsYmFja0F2Z1RwJiYoZS5FdyhcImZhbGxiYWNrQXZnVHBcIixpLmJJLk9JLDIwKSxlLkxTKHRoaXMuZmFsbGJhY2tBdmdUcCksZS5JdygpKSxudWxsIT09dGhpcy5zcmNUaHJvdWdocHV0JiZ2b2lkIDAhPT10aGlzLnNyY1Rocm91Z2hwdXQmJihlLkV3KFwic3JjVGhyb3VnaHB1dFwiLGkuYkkuT0ksMjEpLGUuTFModGhpcy5zcmNUaHJvdWdocHV0KSxlLkl3KCkpLG51bGwhPT10aGlzLmRpc2tSZWFkVGltZW91dCYmdm9pZCAwIT09dGhpcy5kaXNrUmVhZFRpbWVvdXQmJihlLkV3KFwiZGlza1JlYWRUaW1lb3V0XCIsaS5iSS5OSSwyMiksZS53dyh0aGlzLmRpc2tSZWFkVGltZW91dCksZS5JdygpKSxudWxsIT09dGhpcy5kaXNrUmVhZFJhdGUmJnZvaWQgMCE9PXRoaXMuZGlza1JlYWRSYXRlJiYoZS5FdyhcImRpc2tSZWFkUmF0ZVwiLGkuYkkuT0ksMjMpLGUuTFModGhpcy5kaXNrUmVhZFJhdGUpLGUuSXcoKSksbnVsbCE9PXRoaXMuZGlza1N0b3JlUmF0ZSYmdm9pZCAwIT09dGhpcy5kaXNrU3RvcmVSYXRlJiYoZS5FdyhcImRpc2tTdG9yZVJhdGVcIixpLmJJLk9JLDI0KSxlLkxTKHRoaXMuZGlza1N0b3JlUmF0ZSksZS5JdygpKSxudWxsIT09dGhpcy5kaXNrUmVtb3ZlUmF0ZSYmdm9pZCAwIT09dGhpcy5kaXNrUmVtb3ZlUmF0ZSYmKGUuRXcoXCJkaXNrUmVtb3ZlUmF0ZVwiLGkuYkkuT0ksMjUpLGUuTFModGhpcy5kaXNrUmVtb3ZlUmF0ZSksZS5JdygpKSxudWxsIT09dGhpcy5kaXNrQ2FjaGVTaXplJiZ2b2lkIDAhPT10aGlzLmRpc2tDYWNoZVNpemUmJihlLkV3KFwiZGlza0NhY2hlU2l6ZVwiLGkuYkkuREksMjYpLGUuRlModGhpcy5kaXNrQ2FjaGVTaXplKSxlLkl3KCkpLG51bGwhPT10aGlzLmNsaWVudEJ1ZmZlck1zJiZ2b2lkIDAhPT10aGlzLmNsaWVudEJ1ZmZlck1zJiYoZS5FdyhcImNsaWVudEJ1ZmZlck1zXCIsaS5iSS5OSSwyNyksZS53dyh0aGlzLmNsaWVudEJ1ZmZlck1zKSxlLkl3KCkpLG51bGwhPT10aGlzLmxvb2t1cFRvdGFsJiZ2b2lkIDAhPT10aGlzLmxvb2t1cFRvdGFsJiYoZS5FdyhcImxvb2t1cFRvdGFsXCIsaS5iSS5OSSwyOCksZS53dyh0aGlzLmxvb2t1cFRvdGFsKSxlLkl3KCkpLG51bGwhPT10aGlzLmxvb2t1cE5vdEZvdW5kJiZ2b2lkIDAhPT10aGlzLmxvb2t1cE5vdEZvdW5kJiYoZS5FdyhcImxvb2t1cE5vdEZvdW5kXCIsaS5iSS5OSSwyOSksZS53dyh0aGlzLmxvb2t1cE5vdEZvdW5kKSxlLkl3KCkpLG51bGwhPT10aGlzLmxvb2t1cEZhaWxlZCYmdm9pZCAwIT09dGhpcy5sb29rdXBGYWlsZWQmJihlLkV3KFwibG9va3VwRmFpbGVkXCIsaS5iSS5OSSwzMCksZS53dyh0aGlzLmxvb2t1cEZhaWxlZCksZS5JdygpKSxudWxsIT09dGhpcy5sb29rdXBMYXRlbmN5JiZ2b2lkIDAhPT10aGlzLmxvb2t1cExhdGVuY3kmJihlLkV3KFwibG9va3VwTGF0ZW5jeVwiLGkuYkkuTkksMzEpLGUud3codGhpcy5sb29rdXBMYXRlbmN5KSxlLkl3KCkpLG51bGwhPT10aGlzLnRyYWNrZXJGYWlsZWQmJnZvaWQgMCE9PXRoaXMudHJhY2tlckZhaWxlZCYmKGUuRXcoXCJ0cmFja2VyRmFpbGVkXCIsaS5iSS5OSSwzMiksZS53dyh0aGlzLnRyYWNrZXJGYWlsZWQpLGUuSXcoKSksbnVsbCE9PXRoaXMudHJhY2tlckxhdGVuY3kmJnZvaWQgMCE9PXRoaXMudHJhY2tlckxhdGVuY3kmJihlLkV3KFwidHJhY2tlckxhdGVuY3lcIixpLmJJLk5JLDMzKSxlLnd3KHRoaXMudHJhY2tlckxhdGVuY3kpLGUuSXcoKSksbnVsbCE9PXRoaXMuc25hcHNob3RGYWlsZWQmJnZvaWQgMCE9PXRoaXMuc25hcHNob3RGYWlsZWQmJihlLkV3KFwic25hcHNob3RGYWlsZWRcIixpLmJJLk5JLDM0KSxlLnd3KHRoaXMuc25hcHNob3RGYWlsZWQpLGUuSXcoKSksbnVsbCE9PXRoaXMuc25hcHNob3RMYXRlbmN5JiZ2b2lkIDAhPT10aGlzLnNuYXBzaG90TGF0ZW5jeSYmKGUuRXcoXCJzbmFwc2hvdExhdGVuY3lcIixpLmJJLk5JLDM1KSxlLnd3KHRoaXMuc25hcHNob3RMYXRlbmN5KSxlLkl3KCkpLGUuU3coKSxlLlJ3KCl9LGhpdmUuc25hcHNob3RzLlBhcnRuZXJUcmFmZmljPWZ1bmN0aW9uKGUpe3RoaXMucDJwU3VjY1JlcT1udWxsLHRoaXMucDJwRmFpbFJlcT1udWxsLHRoaXMucDJwUGFydFJlcT1udWxsLHRoaXMucDJwU3VjY1JlY2VpdmVkPW51bGwsdGhpcy5wMnBTdWNjUmVjZWl2ZWRMb3c9bnVsbCx0aGlzLnAycEZhaWxSZWNlaXZlZD1udWxsLHRoaXMucDJwU3VjY1Jlc3A9bnVsbCx0aGlzLnAycEZhaWxSZXNwPW51bGwsdGhpcy5wMnBQYXJ0UmVzcD1udWxsLHRoaXMucDJwU3VjY1NlbnQ9bnVsbCx0aGlzLnAycFN1Y2NTZW50TG93PW51bGwsdGhpcy5wMnBGYWlsU2VudD1udWxsLGUmJih2b2lkIDAhPT1lLnAycFN1Y2NSZXEmJih0aGlzLnAycFN1Y2NSZXE9ZS5wMnBTdWNjUmVxKSx2b2lkIDAhPT1lLnAycEZhaWxSZXEmJih0aGlzLnAycEZhaWxSZXE9ZS5wMnBGYWlsUmVxKSx2b2lkIDAhPT1lLnAycFBhcnRSZXEmJih0aGlzLnAycFBhcnRSZXE9ZS5wMnBQYXJ0UmVxKSx2b2lkIDAhPT1lLnAycFN1Y2NSZWNlaXZlZCYmKHRoaXMucDJwU3VjY1JlY2VpdmVkPWUucDJwU3VjY1JlY2VpdmVkKSx2b2lkIDAhPT1lLnAycFN1Y2NSZWNlaXZlZExvdyYmKHRoaXMucDJwU3VjY1JlY2VpdmVkTG93PWUucDJwU3VjY1JlY2VpdmVkTG93KSx2b2lkIDAhPT1lLnAycEZhaWxSZWNlaXZlZCYmKHRoaXMucDJwRmFpbFJlY2VpdmVkPWUucDJwRmFpbFJlY2VpdmVkKSx2b2lkIDAhPT1lLnAycFN1Y2NSZXNwJiYodGhpcy5wMnBTdWNjUmVzcD1lLnAycFN1Y2NSZXNwKSx2b2lkIDAhPT1lLnAycEZhaWxSZXNwJiYodGhpcy5wMnBGYWlsUmVzcD1lLnAycEZhaWxSZXNwKSx2b2lkIDAhPT1lLnAycFBhcnRSZXNwJiYodGhpcy5wMnBQYXJ0UmVzcD1lLnAycFBhcnRSZXNwKSx2b2lkIDAhPT1lLnAycFN1Y2NTZW50JiYodGhpcy5wMnBTdWNjU2VudD1lLnAycFN1Y2NTZW50KSx2b2lkIDAhPT1lLnAycFN1Y2NTZW50TG93JiYodGhpcy5wMnBTdWNjU2VudExvdz1lLnAycFN1Y2NTZW50TG93KSx2b2lkIDAhPT1lLnAycEZhaWxTZW50JiYodGhpcy5wMnBGYWlsU2VudD1lLnAycEZhaWxTZW50KSl9LGhpdmUuc25hcHNob3RzLlBhcnRuZXJUcmFmZmljLnByb3RvdHlwZT17fSxoaXZlLnNuYXBzaG90cy5QYXJ0bmVyVHJhZmZpYy5wcm90b3R5cGUucmVhZD1mdW5jdGlvbihlKXtmb3IoZS5RUygpOzspe3ZhciB0PWUudXcoKSxyPSh0LnFTLHQubHcpLG49dC5wdztpZihyPT1pLmJJLkFJKWJyZWFrO3N3aXRjaChuKXtjYXNlIDE6cj09aS5iSS5EST90aGlzLnAycFN1Y2NSZXE9ZS5uUigpLnZhbHVlOmUuZHcocik7YnJlYWs7Y2FzZSAyOnI9PWkuYkkuREk/dGhpcy5wMnBGYWlsUmVxPWUublIoKS52YWx1ZTplLmR3KHIpO2JyZWFrO2Nhc2UgMzpyPT1pLmJJLkRJP3RoaXMucDJwUGFydFJlcT1lLm5SKCkudmFsdWU6ZS5kdyhyKTticmVhaztjYXNlIDQ6cj09aS5iSS5EST90aGlzLnAycFN1Y2NSZWNlaXZlZD1lLm5SKCkudmFsdWU6ZS5kdyhyKTticmVhaztjYXNlIDU6cj09aS5iSS5EST90aGlzLnAycFN1Y2NSZWNlaXZlZExvdz1lLm5SKCkudmFsdWU6ZS5kdyhyKTticmVhaztjYXNlIDEwOnI9PWkuYkkuREk/dGhpcy5wMnBGYWlsUmVjZWl2ZWQ9ZS5uUigpLnZhbHVlOmUuZHcocik7YnJlYWs7Y2FzZSA2OnI9PWkuYkkuREk/dGhpcy5wMnBTdWNjUmVzcD1lLm5SKCkudmFsdWU6ZS5kdyhyKTticmVhaztjYXNlIDExOnI9PWkuYkkuREk/dGhpcy5wMnBGYWlsUmVzcD1lLm5SKCkudmFsdWU6ZS5kdyhyKTticmVhaztjYXNlIDc6cj09aS5iSS5EST90aGlzLnAycFBhcnRSZXNwPWUublIoKS52YWx1ZTplLmR3KHIpO2JyZWFrO2Nhc2UgODpyPT1pLmJJLkRJP3RoaXMucDJwU3VjY1NlbnQ9ZS5uUigpLnZhbHVlOmUuZHcocik7YnJlYWs7Y2FzZSA5OnI9PWkuYkkuREk/dGhpcy5wMnBTdWNjU2VudExvdz1lLm5SKCkudmFsdWU6ZS5kdyhyKTticmVhaztjYXNlIDEyOnI9PWkuYkkuREk/dGhpcy5wMnBGYWlsU2VudD1lLm5SKCkudmFsdWU6ZS5kdyhyKTticmVhaztkZWZhdWx0OmUuZHcocil9ZS52dygpfWUueXcoKX0saGl2ZS5zbmFwc2hvdHMuUGFydG5lclRyYWZmaWMucHJvdG90eXBlLndyaXRlPWZ1bmN0aW9uKGUpe2UubXcoXCJQYXJ0bmVyVHJhZmZpY1wiKSxudWxsIT09dGhpcy5wMnBTdWNjUmVxJiZ2b2lkIDAhPT10aGlzLnAycFN1Y2NSZXEmJihlLkV3KFwicDJwU3VjY1JlcVwiLGkuYkkuREksMSksZS5GUyh0aGlzLnAycFN1Y2NSZXEpLGUuSXcoKSksbnVsbCE9PXRoaXMucDJwRmFpbFJlcSYmdm9pZCAwIT09dGhpcy5wMnBGYWlsUmVxJiYoZS5FdyhcInAycEZhaWxSZXFcIixpLmJJLkRJLDIpLGUuRlModGhpcy5wMnBGYWlsUmVxKSxlLkl3KCkpLG51bGwhPT10aGlzLnAycFBhcnRSZXEmJnZvaWQgMCE9PXRoaXMucDJwUGFydFJlcSYmKGUuRXcoXCJwMnBQYXJ0UmVxXCIsaS5iSS5ESSwzKSxlLkZTKHRoaXMucDJwUGFydFJlcSksZS5JdygpKSxudWxsIT09dGhpcy5wMnBTdWNjUmVjZWl2ZWQmJnZvaWQgMCE9PXRoaXMucDJwU3VjY1JlY2VpdmVkJiYoZS5FdyhcInAycFN1Y2NSZWNlaXZlZFwiLGkuYkkuREksNCksZS5GUyh0aGlzLnAycFN1Y2NSZWNlaXZlZCksZS5JdygpKSxudWxsIT09dGhpcy5wMnBTdWNjUmVjZWl2ZWRMb3cmJnZvaWQgMCE9PXRoaXMucDJwU3VjY1JlY2VpdmVkTG93JiYoZS5FdyhcInAycFN1Y2NSZWNlaXZlZExvd1wiLGkuYkkuREksNSksZS5GUyh0aGlzLnAycFN1Y2NSZWNlaXZlZExvdyksZS5JdygpKSxudWxsIT09dGhpcy5wMnBGYWlsUmVjZWl2ZWQmJnZvaWQgMCE9PXRoaXMucDJwRmFpbFJlY2VpdmVkJiYoZS5FdyhcInAycEZhaWxSZWNlaXZlZFwiLGkuYkkuREksMTApLGUuRlModGhpcy5wMnBGYWlsUmVjZWl2ZWQpLGUuSXcoKSksbnVsbCE9PXRoaXMucDJwU3VjY1Jlc3AmJnZvaWQgMCE9PXRoaXMucDJwU3VjY1Jlc3AmJihlLkV3KFwicDJwU3VjY1Jlc3BcIixpLmJJLkRJLDYpLGUuRlModGhpcy5wMnBTdWNjUmVzcCksZS5JdygpKSxudWxsIT09dGhpcy5wMnBGYWlsUmVzcCYmdm9pZCAwIT09dGhpcy5wMnBGYWlsUmVzcCYmKGUuRXcoXCJwMnBGYWlsUmVzcFwiLGkuYkkuREksMTEpLGUuRlModGhpcy5wMnBGYWlsUmVzcCksZS5JdygpKSxudWxsIT09dGhpcy5wMnBQYXJ0UmVzcCYmdm9pZCAwIT09dGhpcy5wMnBQYXJ0UmVzcCYmKGUuRXcoXCJwMnBQYXJ0UmVzcFwiLGkuYkkuREksNyksZS5GUyh0aGlzLnAycFBhcnRSZXNwKSxlLkl3KCkpLG51bGwhPT10aGlzLnAycFN1Y2NTZW50JiZ2b2lkIDAhPT10aGlzLnAycFN1Y2NTZW50JiYoZS5FdyhcInAycFN1Y2NTZW50XCIsaS5iSS5ESSw4KSxlLkZTKHRoaXMucDJwU3VjY1NlbnQpLGUuSXcoKSksbnVsbCE9PXRoaXMucDJwU3VjY1NlbnRMb3cmJnZvaWQgMCE9PXRoaXMucDJwU3VjY1NlbnRMb3cmJihlLkV3KFwicDJwU3VjY1NlbnRMb3dcIixpLmJJLkRJLDkpLGUuRlModGhpcy5wMnBTdWNjU2VudExvdyksZS5JdygpKSxudWxsIT09dGhpcy5wMnBGYWlsU2VudCYmdm9pZCAwIT09dGhpcy5wMnBGYWlsU2VudCYmKGUuRXcoXCJwMnBGYWlsU2VudFwiLGkuYkkuREksMTIpLGUuRlModGhpcy5wMnBGYWlsU2VudCksZS5JdygpKSxlLlN3KCksZS5SdygpfSxoaXZlLnNuYXBzaG90cy5QYXJ0bmVyTWV0cmljcz1mdW5jdGlvbihlKXt0aGlzLnJhdGVSZWNlaXZlZD1udWxsLHRoaXMucmF0ZVNlbnQ9bnVsbCx0aGlzLmhhbmRzaGFrZURlbGF5PW51bGwsZSYmKHZvaWQgMCE9PWUucmF0ZVJlY2VpdmVkJiYodGhpcy5yYXRlUmVjZWl2ZWQ9ZS5yYXRlUmVjZWl2ZWQpLHZvaWQgMCE9PWUucmF0ZVNlbnQmJih0aGlzLnJhdGVTZW50PWUucmF0ZVNlbnQpLHZvaWQgMCE9PWUuaGFuZHNoYWtlRGVsYXkmJih0aGlzLmhhbmRzaGFrZURlbGF5PWUuaGFuZHNoYWtlRGVsYXkpKX0saGl2ZS5zbmFwc2hvdHMuUGFydG5lck1ldHJpY3MucHJvdG90eXBlPXt9LGhpdmUuc25hcHNob3RzLlBhcnRuZXJNZXRyaWNzLnByb3RvdHlwZS5yZWFkPWZ1bmN0aW9uKGUpe2ZvcihlLlFTKCk7Oyl7dmFyIHQ9ZS51dygpLHI9KHQucVMsdC5sdyksbj10LnB3O2lmKHI9PWkuYkkuQUkpYnJlYWs7c3dpdGNoKG4pe2Nhc2UgMTpyPT1pLmJJLk9JP3RoaXMucmF0ZVJlY2VpdmVkPWUuc1IoKS52YWx1ZTplLmR3KHIpO2JyZWFrO2Nhc2UgMjpyPT1pLmJJLk9JP3RoaXMucmF0ZVNlbnQ9ZS5zUigpLnZhbHVlOmUuZHcocik7YnJlYWs7Y2FzZSAzOnI9PWkuYkkuREk/dGhpcy5oYW5kc2hha2VEZWxheT1lLm5SKCkudmFsdWU6ZS5kdyhyKTticmVhaztkZWZhdWx0OmUuZHcocil9ZS52dygpfWUueXcoKX0saGl2ZS5zbmFwc2hvdHMuUGFydG5lck1ldHJpY3MucHJvdG90eXBlLndyaXRlPWZ1bmN0aW9uKGUpe2UubXcoXCJQYXJ0bmVyTWV0cmljc1wiKSxudWxsIT09dGhpcy5yYXRlUmVjZWl2ZWQmJnZvaWQgMCE9PXRoaXMucmF0ZVJlY2VpdmVkJiYoZS5FdyhcInJhdGVSZWNlaXZlZFwiLGkuYkkuT0ksMSksZS5MUyh0aGlzLnJhdGVSZWNlaXZlZCksZS5JdygpKSxudWxsIT09dGhpcy5yYXRlU2VudCYmdm9pZCAwIT09dGhpcy5yYXRlU2VudCYmKGUuRXcoXCJyYXRlU2VudFwiLGkuYkkuT0ksMiksZS5MUyh0aGlzLnJhdGVTZW50KSxlLkl3KCkpLG51bGwhPT10aGlzLmhhbmRzaGFrZURlbGF5JiZ2b2lkIDAhPT10aGlzLmhhbmRzaGFrZURlbGF5JiYoZS5FdyhcImhhbmRzaGFrZURlbGF5XCIsaS5iSS5ESSwzKSxlLkZTKHRoaXMuaGFuZHNoYWtlRGVsYXkpLGUuSXcoKSksZS5TdygpLGUuUncoKX0saGl2ZS5zbmFwc2hvdHMuQ29ubmVjdGl2aXR5SW5mbz1mdW5jdGlvbihlKXt0aGlzLnVwQlc9bnVsbCx0aGlzLmRvd25CVz1udWxsLHRoaXMuZXh0ZXJuYWxBcz1udWxsLHRoaXMuaW50ZXJuYWxBcz1udWxsLHRoaXMucHVibGljSXA9bnVsbCx0aGlzLnByaXZhdGVJcD1udWxsLGUmJih2b2lkIDAhPT1lLnVwQlcmJih0aGlzLnVwQlc9ZS51cEJXKSx2b2lkIDAhPT1lLmRvd25CVyYmKHRoaXMuZG93bkJXPWUuZG93bkJXKSx2b2lkIDAhPT1lLmV4dGVybmFsQXMmJih0aGlzLmV4dGVybmFsQXM9ZS5leHRlcm5hbEFzKSx2b2lkIDAhPT1lLmludGVybmFsQXMmJih0aGlzLmludGVybmFsQXM9ZS5pbnRlcm5hbEFzKSx2b2lkIDAhPT1lLnB1YmxpY0lwJiYodGhpcy5wdWJsaWNJcD1lLnB1YmxpY0lwKSx2b2lkIDAhPT1lLnByaXZhdGVJcCYmKHRoaXMucHJpdmF0ZUlwPWUucHJpdmF0ZUlwKSl9LGhpdmUuc25hcHNob3RzLkNvbm5lY3Rpdml0eUluZm8ucHJvdG90eXBlPXt9LGhpdmUuc25hcHNob3RzLkNvbm5lY3Rpdml0eUluZm8ucHJvdG90eXBlLnJlYWQ9ZnVuY3Rpb24oZSl7Zm9yKGUuUVMoKTs7KXt2YXIgdD1lLnV3KCkscj0odC5xUyx0Lmx3KSxuPXQucHc7aWYocj09aS5iSS5BSSlicmVhaztzd2l0Y2gobil7Y2FzZSAxOnI9PWkuYkkuTkk/dGhpcy51cEJXPWUuZ3coKS52YWx1ZTplLmR3KHIpO2JyZWFrO2Nhc2UgMjpyPT1pLmJJLk5JP3RoaXMuZG93bkJXPWUuZ3coKS52YWx1ZTplLmR3KHIpO2JyZWFrO2Nhc2UgMzpyPT1pLmJJLk5JP3RoaXMuZXh0ZXJuYWxBcz1lLmd3KCkudmFsdWU6ZS5kdyhyKTticmVhaztjYXNlIDQ6cj09aS5iSS5OST90aGlzLmludGVybmFsQXM9ZS5ndygpLnZhbHVlOmUuZHcocik7YnJlYWs7Y2FzZSA1OnI9PWkuYkkuRkk/dGhpcy5wdWJsaWNJcD1lLmZ3KCkudmFsdWU6ZS5kdyhyKTticmVhaztjYXNlIDY6cj09aS5iSS5GST90aGlzLnByaXZhdGVJcD1lLmZ3KCkudmFsdWU6ZS5kdyhyKTticmVhaztkZWZhdWx0OmUuZHcocil9ZS52dygpfWUueXcoKX0saGl2ZS5zbmFwc2hvdHMuQ29ubmVjdGl2aXR5SW5mby5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24oZSl7ZS5tdyhcIkNvbm5lY3Rpdml0eUluZm9cIiksbnVsbCE9PXRoaXMudXBCVyYmdm9pZCAwIT09dGhpcy51cEJXJiYoZS5FdyhcInVwQldcIixpLmJJLk5JLDEpLGUud3codGhpcy51cEJXKSxlLkl3KCkpLG51bGwhPT10aGlzLmRvd25CVyYmdm9pZCAwIT09dGhpcy5kb3duQlcmJihlLkV3KFwiZG93bkJXXCIsaS5iSS5OSSwyKSxlLnd3KHRoaXMuZG93bkJXKSxlLkl3KCkpLG51bGwhPT10aGlzLmV4dGVybmFsQXMmJnZvaWQgMCE9PXRoaXMuZXh0ZXJuYWxBcyYmKGUuRXcoXCJleHRlcm5hbEFzXCIsaS5iSS5OSSwzKSxlLnd3KHRoaXMuZXh0ZXJuYWxBcyksZS5JdygpKSxudWxsIT09dGhpcy5pbnRlcm5hbEFzJiZ2b2lkIDAhPT10aGlzLmludGVybmFsQXMmJihlLkV3KFwiaW50ZXJuYWxBc1wiLGkuYkkuTkksNCksZS53dyh0aGlzLmludGVybmFsQXMpLGUuSXcoKSksbnVsbCE9PXRoaXMucHVibGljSXAmJnZvaWQgMCE9PXRoaXMucHVibGljSXAmJihlLkV3KFwicHVibGljSXBcIixpLmJJLkZJLDUpLGUuVHcodGhpcy5wdWJsaWNJcCksZS5JdygpKSxudWxsIT09dGhpcy5wcml2YXRlSXAmJnZvaWQgMCE9PXRoaXMucHJpdmF0ZUlwJiYoZS5FdyhcInByaXZhdGVJcFwiLGkuYkkuRkksNiksZS5Udyh0aGlzLnByaXZhdGVJcCksZS5JdygpKSxlLlN3KCksZS5SdygpfSxoaXZlLnNuYXBzaG90cy5QYXJ0bmVyPWZ1bmN0aW9uKGUpe3RoaXMuY29ubkluZm89bnVsbCx0aGlzLnRyYWZmaWM9bnVsbCx0aGlzLm1ldHJpY3M9bnVsbCx0aGlzLmluUGFydD1udWxsLHRoaXMub3V0UGFydD1udWxsLHRoaXMudWRwPW51bGwsZSYmKHZvaWQgMCE9PWUuY29ubkluZm8mJih0aGlzLmNvbm5JbmZvPWUuY29ubkluZm8pLHZvaWQgMCE9PWUudHJhZmZpYyYmKHRoaXMudHJhZmZpYz1lLnRyYWZmaWMpLHZvaWQgMCE9PWUubWV0cmljcyYmKHRoaXMubWV0cmljcz1lLm1ldHJpY3MpLHZvaWQgMCE9PWUuaW5QYXJ0JiYodGhpcy5pblBhcnQ9ZS5pblBhcnQpLHZvaWQgMCE9PWUub3V0UGFydCYmKHRoaXMub3V0UGFydD1lLm91dFBhcnQpLHZvaWQgMCE9PWUudWRwJiYodGhpcy51ZHA9ZS51ZHApKX0saGl2ZS5zbmFwc2hvdHMuUGFydG5lci5wcm90b3R5cGU9e30saGl2ZS5zbmFwc2hvdHMuUGFydG5lci5wcm90b3R5cGUucmVhZD1mdW5jdGlvbihlKXtmb3IoZS5RUygpOzspe3ZhciB0PWUudXcoKSxyPSh0LnFTLHQubHcpLG49dC5wdztpZihyPT1pLmJJLkFJKWJyZWFrO3N3aXRjaChuKXtjYXNlIDE6cj09aS5iSS5NST8odGhpcy5jb25uSW5mbz1uZXcgaGl2ZS5zbmFwc2hvdHMuQ29ubmVjdGl2aXR5SW5mbyx0aGlzLmNvbm5JbmZvLnJlYWQoZSkpOmUuZHcocik7YnJlYWs7Y2FzZSAyOnI9PWkuYkkuTUk/KHRoaXMudHJhZmZpYz1uZXcgaGl2ZS5zbmFwc2hvdHMuUGFydG5lclRyYWZmaWMsdGhpcy50cmFmZmljLnJlYWQoZSkpOmUuZHcocik7YnJlYWs7Y2FzZSAzOnI9PWkuYkkuTUk/KHRoaXMubWV0cmljcz1uZXcgaGl2ZS5zbmFwc2hvdHMuUGFydG5lck1ldHJpY3MsdGhpcy5tZXRyaWNzLnJlYWQoZSkpOmUuZHcocik7YnJlYWs7Y2FzZSA0OnI9PWkuYkkuQk9PTD90aGlzLmluUGFydD1lLnRSKCkudmFsdWU6ZS5kdyhyKTticmVhaztjYXNlIDU6cj09aS5iSS5CT09MP3RoaXMub3V0UGFydD1lLnRSKCkudmFsdWU6ZS5kdyhyKTticmVhaztjYXNlIDY6cj09aS5iSS5CT09MP3RoaXMudWRwPWUudFIoKS52YWx1ZTplLmR3KHIpO2JyZWFrO2RlZmF1bHQ6ZS5kdyhyKX1lLnZ3KCl9ZS55dygpfSxoaXZlLnNuYXBzaG90cy5QYXJ0bmVyLnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbihlKXtlLm13KFwiUGFydG5lclwiKSxudWxsIT09dGhpcy5jb25uSW5mbyYmdm9pZCAwIT09dGhpcy5jb25uSW5mbyYmKGUuRXcoXCJjb25uSW5mb1wiLGkuYkkuTUksMSksdGhpcy5jb25uSW5mby53cml0ZShlKSxlLkl3KCkpLG51bGwhPT10aGlzLnRyYWZmaWMmJnZvaWQgMCE9PXRoaXMudHJhZmZpYyYmKGUuRXcoXCJ0cmFmZmljXCIsaS5iSS5NSSwyKSx0aGlzLnRyYWZmaWMud3JpdGUoZSksZS5JdygpKSxudWxsIT09dGhpcy5tZXRyaWNzJiZ2b2lkIDAhPT10aGlzLm1ldHJpY3MmJihlLkV3KFwibWV0cmljc1wiLGkuYkkuTUksMyksdGhpcy5tZXRyaWNzLndyaXRlKGUpLGUuSXcoKSksbnVsbCE9PXRoaXMuaW5QYXJ0JiZ2b2lkIDAhPT10aGlzLmluUGFydCYmKGUuRXcoXCJpblBhcnRcIixpLmJJLkJPT0wsNCksZS5fUyh0aGlzLmluUGFydCksZS5JdygpKSxudWxsIT09dGhpcy5vdXRQYXJ0JiZ2b2lkIDAhPT10aGlzLm91dFBhcnQmJihlLkV3KFwib3V0UGFydFwiLGkuYkkuQk9PTCw1KSxlLl9TKHRoaXMub3V0UGFydCksZS5JdygpKSxudWxsIT09dGhpcy51ZHAmJnZvaWQgMCE9PXRoaXMudWRwJiYoZS5FdyhcInVkcFwiLGkuYkkuQk9PTCw2KSxlLl9TKHRoaXMudWRwKSxlLkl3KCkpLGUuU3coKSxlLlJ3KCl9LGhpdmUuc25hcHNob3RzLlN0cmVhbUluZm89ZnVuY3Rpb24oZSl7dGhpcy51cmw9bnVsbCx0aGlzLnN0cmVhbVR5cGU9bnVsbCx0aGlzLnN0cmVhbVByb3RvY29sPW51bGwsZSYmKHZvaWQgMCE9PWUudXJsJiYodGhpcy51cmw9ZS51cmwpLHZvaWQgMCE9PWUuc3RyZWFtVHlwZSYmKHRoaXMuc3RyZWFtVHlwZT1lLnN0cmVhbVR5cGUpLHZvaWQgMCE9PWUuc3RyZWFtUHJvdG9jb2wmJih0aGlzLnN0cmVhbVByb3RvY29sPWUuc3RyZWFtUHJvdG9jb2wpKX0saGl2ZS5zbmFwc2hvdHMuU3RyZWFtSW5mby5wcm90b3R5cGU9e30saGl2ZS5zbmFwc2hvdHMuU3RyZWFtSW5mby5wcm90b3R5cGUucmVhZD1mdW5jdGlvbihlKXtmb3IoZS5RUygpOzspe3ZhciB0PWUudXcoKSxyPSh0LnFTLHQubHcpLG49dC5wdztpZihyPT1pLmJJLkFJKWJyZWFrO3N3aXRjaChuKXtjYXNlIDE6cj09aS5iSS5GST90aGlzLnVybD1lLmZ3KCkudmFsdWU6ZS5kdyhyKTticmVhaztjYXNlIDI6cj09aS5iSS5OST90aGlzLnN0cmVhbVR5cGU9ZS5ndygpLnZhbHVlOmUuZHcocik7YnJlYWs7Y2FzZSAzOnI9PWkuYkkuTkk/dGhpcy5zdHJlYW1Qcm90b2NvbD1lLmd3KCkudmFsdWU6ZS5kdyhyKTticmVhaztkZWZhdWx0OmUuZHcocil9ZS52dygpfWUueXcoKX0saGl2ZS5zbmFwc2hvdHMuU3RyZWFtSW5mby5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24oZSl7ZS5tdyhcIlN0cmVhbUluZm9cIiksbnVsbCE9PXRoaXMudXJsJiZ2b2lkIDAhPT10aGlzLnVybCYmKGUuRXcoXCJ1cmxcIixpLmJJLkZJLDEpLGUuVHcodGhpcy51cmwpLGUuSXcoKSksbnVsbCE9PXRoaXMuc3RyZWFtVHlwZSYmdm9pZCAwIT09dGhpcy5zdHJlYW1UeXBlJiYoZS5FdyhcInN0cmVhbVR5cGVcIixpLmJJLk5JLDIpLGUud3codGhpcy5zdHJlYW1UeXBlKSxlLkl3KCkpLG51bGwhPT10aGlzLnN0cmVhbVByb3RvY29sJiZ2b2lkIDAhPT10aGlzLnN0cmVhbVByb3RvY29sJiYoZS5FdyhcInN0cmVhbVByb3RvY29sXCIsaS5iSS5OSSwzKSxlLnd3KHRoaXMuc3RyZWFtUHJvdG9jb2wpLGUuSXcoKSksZS5TdygpLGUuUncoKX0saGl2ZS5zbmFwc2hvdHMuQ2xpZW50SW5mbz1mdW5jdGlvbihlKXt0aGlzLmNsaWVudFR5cGU9bnVsbCx0aGlzLm1ham9yVmVyc2lvbj1udWxsLHRoaXMubWlub3JWZXJzaW9uPW51bGwsdGhpcy5wYXRjaFZlcnNpb249bnVsbCxlJiYodm9pZCAwIT09ZS5jbGllbnRUeXBlJiYodGhpcy5jbGllbnRUeXBlPWUuY2xpZW50VHlwZSksdm9pZCAwIT09ZS5tYWpvclZlcnNpb24mJih0aGlzLm1ham9yVmVyc2lvbj1lLm1ham9yVmVyc2lvbiksdm9pZCAwIT09ZS5taW5vclZlcnNpb24mJih0aGlzLm1pbm9yVmVyc2lvbj1lLm1pbm9yVmVyc2lvbiksdm9pZCAwIT09ZS5wYXRjaFZlcnNpb24mJih0aGlzLnBhdGNoVmVyc2lvbj1lLnBhdGNoVmVyc2lvbikpfSxoaXZlLnNuYXBzaG90cy5DbGllbnRJbmZvLnByb3RvdHlwZT17fSxoaXZlLnNuYXBzaG90cy5DbGllbnRJbmZvLnByb3RvdHlwZS5yZWFkPWZ1bmN0aW9uKGUpe2ZvcihlLlFTKCk7Oyl7dmFyIHQ9ZS51dygpLHI9KHQucVMsdC5sdyksbj10LnB3O2lmKHI9PWkuYkkuQUkpYnJlYWs7c3dpdGNoKG4pe2Nhc2UgMTpyPT1pLmJJLk5JP3RoaXMuY2xpZW50VHlwZT1lLmd3KCkudmFsdWU6ZS5kdyhyKTticmVhaztjYXNlIDI6cj09aS5iSS5CWVRFP3RoaXMubWFqb3JWZXJzaW9uPWUuclIoKS52YWx1ZTplLmR3KHIpO2JyZWFrO2Nhc2UgMzpyPT1pLmJJLkJZVEU/dGhpcy5taW5vclZlcnNpb249ZS5yUigpLnZhbHVlOmUuZHcocik7YnJlYWs7Y2FzZSA0OnI9PWkuYkkuX0k/dGhpcy5wYXRjaFZlcnNpb249ZS5pUigpLnZhbHVlOmUuZHcocik7YnJlYWs7ZGVmYXVsdDplLmR3KHIpfWUudncoKX1lLnl3KCl9LGhpdmUuc25hcHNob3RzLkNsaWVudEluZm8ucHJvdG90eXBlLndyaXRlPWZ1bmN0aW9uKGUpe2UubXcoXCJDbGllbnRJbmZvXCIpLG51bGwhPT10aGlzLmNsaWVudFR5cGUmJnZvaWQgMCE9PXRoaXMuY2xpZW50VHlwZSYmKGUuRXcoXCJjbGllbnRUeXBlXCIsaS5iSS5OSSwxKSxlLnd3KHRoaXMuY2xpZW50VHlwZSksZS5JdygpKSxudWxsIT09dGhpcy5tYWpvclZlcnNpb24mJnZvaWQgMCE9PXRoaXMubWFqb3JWZXJzaW9uJiYoZS5FdyhcIm1ham9yVmVyc2lvblwiLGkuYkkuQllURSwyKSxlLk5TKHRoaXMubWFqb3JWZXJzaW9uKSxlLkl3KCkpLG51bGwhPT10aGlzLm1pbm9yVmVyc2lvbiYmdm9pZCAwIT09dGhpcy5taW5vclZlcnNpb24mJihlLkV3KFwibWlub3JWZXJzaW9uXCIsaS5iSS5CWVRFLDMpLGUuTlModGhpcy5taW5vclZlcnNpb24pLGUuSXcoKSksbnVsbCE9PXRoaXMucGF0Y2hWZXJzaW9uJiZ2b2lkIDAhPT10aGlzLnBhdGNoVmVyc2lvbiYmKGUuRXcoXCJwYXRjaFZlcnNpb25cIixpLmJJLl9JLDQpLGUuRFModGhpcy5wYXRjaFZlcnNpb24pLGUuSXcoKSksZS5TdygpLGUuUncoKX0saGl2ZS5zbmFwc2hvdHMuQWdlbnRJbmZvPWZ1bmN0aW9uKGUpe3RoaXMuZmlyc3RUaWVyQml0cmF0ZXM9bnVsbCx0aGlzLnNlY29uZFRpZXJCaXRyYXRlcz1udWxsLGUmJih2b2lkIDAhPT1lLmZpcnN0VGllckJpdHJhdGVzJiYodGhpcy5maXJzdFRpZXJCaXRyYXRlcz1lLmZpcnN0VGllckJpdHJhdGVzKSx2b2lkIDAhPT1lLnNlY29uZFRpZXJCaXRyYXRlcyYmKHRoaXMuc2Vjb25kVGllckJpdHJhdGVzPWUuc2Vjb25kVGllckJpdHJhdGVzKSl9LGhpdmUuc25hcHNob3RzLkFnZW50SW5mby5wcm90b3R5cGU9e30saGl2ZS5zbmFwc2hvdHMuQWdlbnRJbmZvLnByb3RvdHlwZS5yZWFkPWZ1bmN0aW9uKGUpe2ZvcihlLlFTKCk7Oyl7dmFyIHQ9ZS51dygpLHI9KHQucVMsdC5sdyksbj10LnB3O2lmKHI9PWkuYkkuQUkpYnJlYWs7c3dpdGNoKG4pe2Nhc2UgMTppZihyPT1pLmJJLlVJKXt2YXIgcyxvPTA7dGhpcy5maXJzdFRpZXJCaXRyYXRlcz1bXTtzPWUuJFMoKSxzLlhTLG89cy5zaXplO2Zvcih2YXIgYT0wO2E8bzsrK2Epe3ZhciBoPW51bGw7aD1lLmd3KCkudmFsdWUsdGhpcy5maXJzdFRpZXJCaXRyYXRlcy5wdXNoKGgpfWUuZVIoKX1lbHNlIGUuZHcocik7YnJlYWs7Y2FzZSAyOmlmKHI9PWkuYkkuVUkpe3ZhciBjLHU9MDt0aGlzLnNlY29uZFRpZXJCaXRyYXRlcz1bXTtjPWUuJFMoKSxjLlhTLHU9Yy5zaXplO2Zvcih2YXIgbD0wO2w8dTsrK2wpe3ZhciBwPW51bGw7cD1lLmd3KCkudmFsdWUsdGhpcy5zZWNvbmRUaWVyQml0cmF0ZXMucHVzaChwKX1lLmVSKCl9ZWxzZSBlLmR3KHIpO2JyZWFrO2RlZmF1bHQ6ZS5kdyhyKX1lLnZ3KCl9ZS55dygpfSxoaXZlLnNuYXBzaG90cy5BZ2VudEluZm8ucHJvdG90eXBlLndyaXRlPWZ1bmN0aW9uKGUpe2lmKGUubXcoXCJBZ2VudEluZm9cIiksbnVsbCE9PXRoaXMuZmlyc3RUaWVyQml0cmF0ZXMmJnZvaWQgMCE9PXRoaXMuZmlyc3RUaWVyQml0cmF0ZXMpe2UuRXcoXCJmaXJzdFRpZXJCaXRyYXRlc1wiLGkuYkkuVUksMSksZS5rUyhpLmJJLk5JLHRoaXMuZmlyc3RUaWVyQml0cmF0ZXMubGVuZ3RoKTtmb3IodmFyIHQgaW4gdGhpcy5maXJzdFRpZXJCaXRyYXRlcyl0aGlzLmZpcnN0VGllckJpdHJhdGVzLmhhc093blByb3BlcnR5KHQpJiYodD10aGlzLmZpcnN0VGllckJpdHJhdGVzW3RdLGUud3codCkpO2UuT1MoKSxlLkl3KCl9aWYobnVsbCE9PXRoaXMuc2Vjb25kVGllckJpdHJhdGVzJiZ2b2lkIDAhPT10aGlzLnNlY29uZFRpZXJCaXRyYXRlcyl7ZS5FdyhcInNlY29uZFRpZXJCaXRyYXRlc1wiLGkuYkkuVUksMiksZS5rUyhpLmJJLk5JLHRoaXMuc2Vjb25kVGllckJpdHJhdGVzLmxlbmd0aCk7Zm9yKHZhciByIGluIHRoaXMuc2Vjb25kVGllckJpdHJhdGVzKXRoaXMuc2Vjb25kVGllckJpdHJhdGVzLmhhc093blByb3BlcnR5KHIpJiYocj10aGlzLnNlY29uZFRpZXJCaXRyYXRlc1tyXSxlLnd3KHIpKTtlLk9TKCksZS5JdygpfWUuU3coKSxlLlJ3KCl9LGhpdmUuc25hcHNob3RzLlRyYWZmaWNLZXk9ZnVuY3Rpb24oZSl7dGhpcy5iaXRyYXRlPW51bGwsdGhpcy5BUz1udWxsLHRoaXMucGFydG5lckd1aWQ9bnVsbCxlJiYodm9pZCAwIT09ZS5iaXRyYXRlJiYodGhpcy5iaXRyYXRlPWUuYml0cmF0ZSksdm9pZCAwIT09ZS5BUyYmKHRoaXMuQVM9ZS5BUyksdm9pZCAwIT09ZS5wYXJ0bmVyR3VpZCYmKHRoaXMucGFydG5lckd1aWQ9ZS5wYXJ0bmVyR3VpZCkpfSxoaXZlLnNuYXBzaG90cy5UcmFmZmljS2V5LnByb3RvdHlwZT17fSxoaXZlLnNuYXBzaG90cy5UcmFmZmljS2V5LnByb3RvdHlwZS5yZWFkPWZ1bmN0aW9uKGUpe2ZvcihlLlFTKCk7Oyl7dmFyIHQ9ZS51dygpLHI9KHQucVMsdC5sdyksbj10LnB3O2lmKHI9PWkuYkkuQUkpYnJlYWs7c3dpdGNoKG4pe2Nhc2UgMTpyPT1pLmJJLk5JP3RoaXMuYml0cmF0ZT1lLmd3KCkudmFsdWU6ZS5kdyhyKTticmVhaztjYXNlIDI6cj09aS5iSS5OST90aGlzLkFTPWUuZ3coKS52YWx1ZTplLmR3KHIpO2JyZWFrO2Nhc2UgMzpyPT1pLmJJLkZJP3RoaXMucGFydG5lckd1aWQ9ZS5mdygpLnZhbHVlOmUuZHcocik7YnJlYWs7ZGVmYXVsdDplLmR3KHIpfWUudncoKX1lLnl3KCl9LGhpdmUuc25hcHNob3RzLlRyYWZmaWNLZXkucHJvdG90eXBlLndyaXRlPWZ1bmN0aW9uKGUpe2UubXcoXCJUcmFmZmljS2V5XCIpLG51bGwhPT10aGlzLmJpdHJhdGUmJnZvaWQgMCE9PXRoaXMuYml0cmF0ZSYmKGUuRXcoXCJiaXRyYXRlXCIsaS5iSS5OSSwxKSxlLnd3KHRoaXMuYml0cmF0ZSksZS5JdygpKSxudWxsIT09dGhpcy5BUyYmdm9pZCAwIT09dGhpcy5BUyYmKGUuRXcoXCJBU1wiLGkuYkkuTkksMiksZS53dyh0aGlzLkFTKSxlLkl3KCkpLG51bGwhPT10aGlzLnBhcnRuZXJHdWlkJiZ2b2lkIDAhPT10aGlzLnBhcnRuZXJHdWlkJiYoZS5FdyhcInBhcnRuZXJHdWlkXCIsaS5iSS5GSSwzKSxlLlR3KHRoaXMucGFydG5lckd1aWQpLGUuSXcoKSksZS5TdygpLGUuUncoKX0saGl2ZS5zbmFwc2hvdHMuUGFydG5lcktleT1mdW5jdGlvbihlKXt0aGlzLmJpdHJhdGU9bnVsbCx0aGlzLkFTPW51bGwsdGhpcy5wYXJ0bmVyR3VpZD1udWxsLGUmJih2b2lkIDAhPT1lLmJpdHJhdGUmJih0aGlzLmJpdHJhdGU9ZS5iaXRyYXRlKSx2b2lkIDAhPT1lLkFTJiYodGhpcy5BUz1lLkFTKSx2b2lkIDAhPT1lLnBhcnRuZXJHdWlkJiYodGhpcy5wYXJ0bmVyR3VpZD1lLnBhcnRuZXJHdWlkKSl9LGhpdmUuc25hcHNob3RzLlBhcnRuZXJLZXkucHJvdG90eXBlPXt9LGhpdmUuc25hcHNob3RzLlBhcnRuZXJLZXkucHJvdG90eXBlLnJlYWQ9ZnVuY3Rpb24oZSl7Zm9yKGUuUVMoKTs7KXt2YXIgdD1lLnV3KCkscj0odC5xUyx0Lmx3KSxuPXQucHc7aWYocj09aS5iSS5BSSlicmVhaztzd2l0Y2gobil7Y2FzZSAxOnI9PWkuYkkuTkk/dGhpcy5iaXRyYXRlPWUuZ3coKS52YWx1ZTplLmR3KHIpO2JyZWFrO2Nhc2UgMjpyPT1pLmJJLk5JP3RoaXMuQVM9ZS5ndygpLnZhbHVlOmUuZHcocik7YnJlYWs7Y2FzZSAzOnI9PWkuYkkuRkk/dGhpcy5wYXJ0bmVyR3VpZD1lLmZ3KCkudmFsdWU6ZS5kdyhyKTticmVhaztkZWZhdWx0OmUuZHcocil9ZS52dygpfWUueXcoKX0saGl2ZS5zbmFwc2hvdHMuUGFydG5lcktleS5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24oZSl7ZS5tdyhcIlBhcnRuZXJLZXlcIiksbnVsbCE9PXRoaXMuYml0cmF0ZSYmdm9pZCAwIT09dGhpcy5iaXRyYXRlJiYoZS5FdyhcImJpdHJhdGVcIixpLmJJLk5JLDEpLGUud3codGhpcy5iaXRyYXRlKSxlLkl3KCkpLG51bGwhPT10aGlzLkFTJiZ2b2lkIDAhPT10aGlzLkFTJiYoZS5FdyhcIkFTXCIsaS5iSS5OSSwyKSxlLnd3KHRoaXMuQVMpLGUuSXcoKSksbnVsbCE9PXRoaXMucGFydG5lckd1aWQmJnZvaWQgMCE9PXRoaXMucGFydG5lckd1aWQmJihlLkV3KFwicGFydG5lckd1aWRcIixpLmJJLkZJLDMpLGUuVHcodGhpcy5wYXJ0bmVyR3VpZCksZS5JdygpKSxlLlN3KCksZS5SdygpfSxoaXZlLnNuYXBzaG90cy5QbGF5ZXI9ZnVuY3Rpb24oZSl7dGhpcy5idWZmZXJpbmdOPW51bGwsdGhpcy5idWZmZXJpbmdNcz1udWxsLHRoaXMuaW5pdEJ1ZmZlcmluZ049bnVsbCx0aGlzLmluaXRCdWZmZXJpbmdNcz1udWxsLHRoaXMuc2Vla0J1ZmZlcmluZ049bnVsbCx0aGlzLnNlZWtCdWZmZXJpbmdNcz1udWxsLHRoaXMucGxheWVyQnVmZmVyTXM9bnVsbCxlJiYodm9pZCAwIT09ZS5idWZmZXJpbmdOJiYodGhpcy5idWZmZXJpbmdOPWUuYnVmZmVyaW5nTiksdm9pZCAwIT09ZS5idWZmZXJpbmdNcyYmKHRoaXMuYnVmZmVyaW5nTXM9ZS5idWZmZXJpbmdNcyksdm9pZCAwIT09ZS5pbml0QnVmZmVyaW5nTiYmKHRoaXMuaW5pdEJ1ZmZlcmluZ049ZS5pbml0QnVmZmVyaW5nTiksdm9pZCAwIT09ZS5pbml0QnVmZmVyaW5nTXMmJih0aGlzLmluaXRCdWZmZXJpbmdNcz1lLmluaXRCdWZmZXJpbmdNcyksdm9pZCAwIT09ZS5zZWVrQnVmZmVyaW5nTiYmKHRoaXMuc2Vla0J1ZmZlcmluZ049ZS5zZWVrQnVmZmVyaW5nTiksdm9pZCAwIT09ZS5zZWVrQnVmZmVyaW5nTXMmJih0aGlzLnNlZWtCdWZmZXJpbmdNcz1lLnNlZWtCdWZmZXJpbmdNcyksdm9pZCAwIT09ZS5wbGF5ZXJCdWZmZXJNcyYmKHRoaXMucGxheWVyQnVmZmVyTXM9ZS5wbGF5ZXJCdWZmZXJNcykpfSxoaXZlLnNuYXBzaG90cy5QbGF5ZXIucHJvdG90eXBlPXt9LGhpdmUuc25hcHNob3RzLlBsYXllci5wcm90b3R5cGUucmVhZD1mdW5jdGlvbihlKXtmb3IoZS5RUygpOzspe3ZhciB0PWUudXcoKSxyPSh0LnFTLHQubHcpLG49dC5wdztpZihyPT1pLmJJLkFJKWJyZWFrO3N3aXRjaChuKXtjYXNlIDE6cj09aS5iSS5fST90aGlzLmJ1ZmZlcmluZ049ZS5pUigpLnZhbHVlOmUuZHcocik7YnJlYWs7Y2FzZSAyOnI9PWkuYkkuTkk/dGhpcy5idWZmZXJpbmdNcz1lLmd3KCkudmFsdWU6ZS5kdyhyKTticmVhaztjYXNlIDM6cj09aS5iSS5fST90aGlzLmluaXRCdWZmZXJpbmdOPWUuaVIoKS52YWx1ZTplLmR3KHIpO2JyZWFrO2Nhc2UgNDpyPT1pLmJJLk5JP3RoaXMuaW5pdEJ1ZmZlcmluZ01zPWUuZ3coKS52YWx1ZTplLmR3KHIpO2JyZWFrO2Nhc2UgNTpyPT1pLmJJLl9JP3RoaXMuc2Vla0J1ZmZlcmluZ049ZS5pUigpLnZhbHVlOmUuZHcocik7YnJlYWs7Y2FzZSA2OnI9PWkuYkkuTkk/dGhpcy5zZWVrQnVmZmVyaW5nTXM9ZS5ndygpLnZhbHVlOmUuZHcocik7YnJlYWs7Y2FzZSAzNjpyPT1pLmJJLk5JP3RoaXMucGxheWVyQnVmZmVyTXM9ZS5ndygpLnZhbHVlOmUuZHcocik7YnJlYWs7ZGVmYXVsdDplLmR3KHIpfWUudncoKX1lLnl3KCl9LGhpdmUuc25hcHNob3RzLlBsYXllci5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24oZSl7ZS5tdyhcIlBsYXllclwiKSxudWxsIT09dGhpcy5idWZmZXJpbmdOJiZ2b2lkIDAhPT10aGlzLmJ1ZmZlcmluZ04mJihlLkV3KFwiYnVmZmVyaW5nTlwiLGkuYkkuX0ksMSksZS5EUyh0aGlzLmJ1ZmZlcmluZ04pLGUuSXcoKSksbnVsbCE9PXRoaXMuYnVmZmVyaW5nTXMmJnZvaWQgMCE9PXRoaXMuYnVmZmVyaW5nTXMmJihlLkV3KFwiYnVmZmVyaW5nTXNcIixpLmJJLk5JLDIpLGUud3codGhpcy5idWZmZXJpbmdNcyksZS5JdygpKSxudWxsIT09dGhpcy5pbml0QnVmZmVyaW5nTiYmdm9pZCAwIT09dGhpcy5pbml0QnVmZmVyaW5nTiYmKGUuRXcoXCJpbml0QnVmZmVyaW5nTlwiLGkuYkkuX0ksMyksZS5EUyh0aGlzLmluaXRCdWZmZXJpbmdOKSxlLkl3KCkpLG51bGwhPT10aGlzLmluaXRCdWZmZXJpbmdNcyYmdm9pZCAwIT09dGhpcy5pbml0QnVmZmVyaW5nTXMmJihlLkV3KFwiaW5pdEJ1ZmZlcmluZ01zXCIsaS5iSS5OSSw0KSxlLnd3KHRoaXMuaW5pdEJ1ZmZlcmluZ01zKSxlLkl3KCkpLG51bGwhPT10aGlzLnNlZWtCdWZmZXJpbmdOJiZ2b2lkIDAhPT10aGlzLnNlZWtCdWZmZXJpbmdOJiYoZS5FdyhcInNlZWtCdWZmZXJpbmdOXCIsaS5iSS5fSSw1KSxlLkRTKHRoaXMuc2Vla0J1ZmZlcmluZ04pLGUuSXcoKSksbnVsbCE9PXRoaXMuc2Vla0J1ZmZlcmluZ01zJiZ2b2lkIDAhPT10aGlzLnNlZWtCdWZmZXJpbmdNcyYmKGUuRXcoXCJzZWVrQnVmZmVyaW5nTXNcIixpLmJJLk5JLDYpLGUud3codGhpcy5zZWVrQnVmZmVyaW5nTXMpLGUuSXcoKSksbnVsbCE9PXRoaXMucGxheWVyQnVmZmVyTXMmJnZvaWQgMCE9PXRoaXMucGxheWVyQnVmZmVyTXMmJihlLkV3KFwicGxheWVyQnVmZmVyTXNcIixpLmJJLk5JLDM2KSxlLnd3KHRoaXMucGxheWVyQnVmZmVyTXMpLGUuSXcoKSksZS5TdygpLGUuUncoKX0saGl2ZS5zbmFwc2hvdHMuTWV0cmljU25hcHNob3Q9ZnVuY3Rpb24oZSl7dGhpcy50aW1lc3RhbXA9bnVsbCx0aGlzLmd1aWQ9bnVsbCx0aGlzLmV2ZW50SWQ9bnVsbCx0aGlzLnN0cmVhbUluZm89bnVsbCx0aGlzLm1ldHJpY3M9bnVsbCx0aGlzLnRyYWZmaWM9bnVsbCx0aGlzLnNuYXBzaG90SW5mbz1udWxsLHRoaXMuYWdlbnRJbmZvPW51bGwsdGhpcy5jb25uSW5mbz1udWxsLHRoaXMucGFydG5lcnM9bnVsbCx0aGlzLnBsYXllcj1udWxsLHRoaXMuY2xpZW50PW51bGwsdGhpcy5zZXNzaW9uSWQ9bnVsbCxlJiYodm9pZCAwIT09ZS50aW1lc3RhbXAmJih0aGlzLnRpbWVzdGFtcD1lLnRpbWVzdGFtcCksdm9pZCAwIT09ZS5ndWlkJiYodGhpcy5ndWlkPWUuZ3VpZCksdm9pZCAwIT09ZS5ldmVudElkJiYodGhpcy5ldmVudElkPWUuZXZlbnRJZCksdm9pZCAwIT09ZS5zdHJlYW1JbmZvJiYodGhpcy5zdHJlYW1JbmZvPWUuc3RyZWFtSW5mbyksdm9pZCAwIT09ZS5tZXRyaWNzJiYodGhpcy5tZXRyaWNzPWUubWV0cmljcyksdm9pZCAwIT09ZS50cmFmZmljJiYodGhpcy50cmFmZmljPWUudHJhZmZpYyksdm9pZCAwIT09ZS5zbmFwc2hvdEluZm8mJih0aGlzLnNuYXBzaG90SW5mbz1lLnNuYXBzaG90SW5mbyksdm9pZCAwIT09ZS5hZ2VudEluZm8mJih0aGlzLmFnZW50SW5mbz1lLmFnZW50SW5mbyksdm9pZCAwIT09ZS5jb25uSW5mbyYmKHRoaXMuY29ubkluZm89ZS5jb25uSW5mbyksdm9pZCAwIT09ZS5wYXJ0bmVycyYmKHRoaXMucGFydG5lcnM9ZS5wYXJ0bmVycyksdm9pZCAwIT09ZS5wbGF5ZXImJih0aGlzLnBsYXllcj1lLnBsYXllciksdm9pZCAwIT09ZS5jbGllbnQmJih0aGlzLmNsaWVudD1lLmNsaWVudCksdm9pZCAwIT09ZS5zZXNzaW9uSWQmJih0aGlzLnNlc3Npb25JZD1lLnNlc3Npb25JZCkpfSxoaXZlLnNuYXBzaG90cy5NZXRyaWNTbmFwc2hvdC5wcm90b3R5cGU9e30saGl2ZS5zbmFwc2hvdHMuTWV0cmljU25hcHNob3QucHJvdG90eXBlLnJlYWQ9ZnVuY3Rpb24oZSl7Zm9yKGUuUVMoKTs7KXt2YXIgdD1lLnV3KCkscj0odC5xUyx0Lmx3KSxuPXQucHc7aWYocj09aS5iSS5BSSlicmVhaztzd2l0Y2gobil7Y2FzZSAxOnI9PWkuYkkuREk/dGhpcy50aW1lc3RhbXA9ZS5uUigpLnZhbHVlOmUuZHcocik7YnJlYWs7Y2FzZSAyOnI9PWkuYkkuRkk/dGhpcy5ndWlkPWUuZncoKS52YWx1ZTplLmR3KHIpO2JyZWFrO2Nhc2UgMzpyPT1pLmJJLk1JPyh0aGlzLmV2ZW50SWQ9bmV3IEV2ZW50SWQsdGhpcy5ldmVudElkLnJlYWQoZSkpOmUuZHcocik7YnJlYWs7Y2FzZSA0OnI9PWkuYkkuTUk/KHRoaXMuc3RyZWFtSW5mbz1uZXcgaGl2ZS5zbmFwc2hvdHMuU3RyZWFtSW5mbyx0aGlzLnN0cmVhbUluZm8ucmVhZChlKSk6ZS5kdyhyKTticmVhaztjYXNlIDU6cj09aS5iSS5NST8odGhpcy5tZXRyaWNzPW5ldyBoaXZlLnNuYXBzaG90cy5NZXRyaWNzLHRoaXMubWV0cmljcy5yZWFkKGUpKTplLmR3KHIpO2JyZWFrO2Nhc2UgNjppZihyPT1pLmJJLkJJKXt2YXIgcyxvPTA7dGhpcy50cmFmZmljPXt9O3M9ZS5LUygpLHMuWVMscy56UyxvPXMuc2l6ZTtmb3IodmFyIGE9MDthPG87KythKXthPjAmJmUuVVMubGVuZ3RoPmUuQ3dbZS5Ddy5sZW5ndGgtMV0rMSYmZS5VUy5wb3AoKTt2YXIgaD1udWxsLGM9bnVsbDtoPW5ldyBoaXZlLnNuYXBzaG90cy5UcmFmZmljS2V5LGgucmVhZChlKSxjPW5ldyBoaXZlLnNuYXBzaG90cy5UcmFmZmljLGMucmVhZChlKSx0aGlzLnRyYWZmaWNbaF09Y31lLkpTKCl9ZWxzZSBlLmR3KHIpO2JyZWFrO2Nhc2UgNzpyPT1pLmJJLk1JPyh0aGlzLnNuYXBzaG90SW5mbz1uZXcgU25hcHNob3RJbmZvLHRoaXMuc25hcHNob3RJbmZvLnJlYWQoZSkpOmUuZHcocik7YnJlYWs7Y2FzZSA4OnI9PWkuYkkuTUk/KHRoaXMuYWdlbnRJbmZvPW5ldyBoaXZlLnNuYXBzaG90cy5BZ2VudEluZm8sdGhpcy5hZ2VudEluZm8ucmVhZChlKSk6ZS5kdyhyKTticmVhaztjYXNlIDk6cj09aS5iSS5NST8odGhpcy5jb25uSW5mbz1uZXcgaGl2ZS5zbmFwc2hvdHMuQ29ubmVjdGl2aXR5SW5mbyx0aGlzLmNvbm5JbmZvLnJlYWQoZSkpOmUuZHcocik7YnJlYWs7Y2FzZSAxMDppZihyPT1pLmJJLkJJKXt2YXIgdSxsPTA7dGhpcy5wYXJ0bmVycz17fTt1PWUuS1MoKSx1LllTLHUuelMsbD11LnNpemU7Zm9yKHZhciBwPTA7cDxsOysrcCl7cD4wJiZlLlVTLmxlbmd0aD5lLkN3W2UuQ3cubGVuZ3RoLTFdKzEmJmUuVVMucG9wKCk7dmFyIGY9bnVsbCxkPW51bGw7Zj1uZXcgaGl2ZS5zbmFwc2hvdHMuUGFydG5lcktleSxmLnJlYWQoZSksZD1uZXcgaGl2ZS5zbmFwc2hvdHMuUGFydG5lcixkLnJlYWQoZSksdGhpcy5wYXJ0bmVyc1tmXT1kfWUuSlMoKX1lbHNlIGUuZHcocik7YnJlYWs7Y2FzZSAxMTpyPT1pLmJJLk1JPyh0aGlzLnBsYXllcj1uZXcgaGl2ZS5zbmFwc2hvdHMuUGxheWVyLHRoaXMucGxheWVyLnJlYWQoZSkpOmUuZHcocik7YnJlYWs7Y2FzZSAxMjpyPT1pLmJJLk1JPyh0aGlzLmNsaWVudD1uZXcgaGl2ZS5zbmFwc2hvdHMuQ2xpZW50SW5mbyx0aGlzLmNsaWVudC5yZWFkKGUpKTplLmR3KHIpO2JyZWFrO2Nhc2UgMTM6cj09aS5iSS5GST90aGlzLnNlc3Npb25JZD1lLmZ3KCkudmFsdWU6ZS5kdyhyKTticmVhaztkZWZhdWx0OmUuZHcocil9ZS52dygpfWUueXcoKX0saGl2ZS5zbmFwc2hvdHMuTWV0cmljU25hcHNob3QucHJvdG90eXBlLndyaXRlPWZ1bmN0aW9uKGUpe2lmKGUubXcoXCJNZXRyaWNTbmFwc2hvdFwiKSxudWxsIT09dGhpcy50aW1lc3RhbXAmJnZvaWQgMCE9PXRoaXMudGltZXN0YW1wJiYoZS5FdyhcInRpbWVzdGFtcFwiLGkuYkkuREksMSksZS5GUyh0aGlzLnRpbWVzdGFtcCksZS5JdygpKSxudWxsIT09dGhpcy5ndWlkJiZ2b2lkIDAhPT10aGlzLmd1aWQmJihlLkV3KFwiZ3VpZFwiLGkuYkkuRkksMiksZS5Udyh0aGlzLmd1aWQpLGUuSXcoKSksbnVsbCE9PXRoaXMuZXZlbnRJZCYmdm9pZCAwIT09dGhpcy5ldmVudElkJiYoZS5FdyhcImV2ZW50SWRcIixpLmJJLk1JLDMpLHRoaXMuZXZlbnRJZC53cml0ZShlKSxlLkl3KCkpLG51bGwhPT10aGlzLnN0cmVhbUluZm8mJnZvaWQgMCE9PXRoaXMuc3RyZWFtSW5mbyYmKGUuRXcoXCJzdHJlYW1JbmZvXCIsaS5iSS5NSSw0KSx0aGlzLnN0cmVhbUluZm8ud3JpdGUoZSksZS5JdygpKSxudWxsIT09dGhpcy5tZXRyaWNzJiZ2b2lkIDAhPT10aGlzLm1ldHJpY3MmJihlLkV3KFwibWV0cmljc1wiLGkuYkkuTUksNSksdGhpcy5tZXRyaWNzLndyaXRlKGUpLGUuSXcoKSksbnVsbCE9PXRoaXMudHJhZmZpYyYmdm9pZCAwIT09dGhpcy50cmFmZmljKXtlLkV3KFwidHJhZmZpY1wiLGkuYkkuQkksNiksZS5SUyhpLmJJLk1JLGkuYkkuTUksaS5ZSSh0aGlzLnRyYWZmaWMpKTtmb3IodmFyIHQ9MDt0PHRoaXMudHJhZmZpYy5sZW5ndGg7dCsrKXt2YXIgcj10aGlzLnRyYWZmaWNbdF0sbj1yLmtleSxzPXIudmFsdWU7bi53cml0ZShlKSxzLndyaXRlKGUpfWUuYlMoKSxlLkl3KCl9aWYobnVsbCE9PXRoaXMuc25hcHNob3RJbmZvJiZ2b2lkIDAhPT10aGlzLnNuYXBzaG90SW5mbyYmKGUuRXcoXCJzbmFwc2hvdEluZm9cIixpLmJJLk1JLDcpLHRoaXMuc25hcHNob3RJbmZvLndyaXRlKGUpLGUuSXcoKSksbnVsbCE9PXRoaXMuYWdlbnRJbmZvJiZ2b2lkIDAhPT10aGlzLmFnZW50SW5mbyYmKGUuRXcoXCJhZ2VudEluZm9cIixpLmJJLk1JLDgpLHRoaXMuYWdlbnRJbmZvLndyaXRlKGUpLGUuSXcoKSksbnVsbCE9PXRoaXMuY29ubkluZm8mJnZvaWQgMCE9PXRoaXMuY29ubkluZm8mJihlLkV3KFwiY29ubkluZm9cIixpLmJJLk1JLDkpLHRoaXMuY29ubkluZm8ud3JpdGUoZSksZS5JdygpKSxudWxsIT09dGhpcy5wYXJ0bmVycyYmdm9pZCAwIT09dGhpcy5wYXJ0bmVycyl7ZS5FdyhcInBhcnRuZXJzXCIsaS5iSS5CSSwxMCksZS5SUyhpLmJJLk1JLGkuYkkuTUksaS5ZSSh0aGlzLnBhcnRuZXJzKSk7Zm9yKHZhciB0PTA7dDx0aGlzLnBhcnRuZXJzLmxlbmd0aDt0Kyspe3ZhciByPXRoaXMucGFydG5lcnNbdF0sbz1yLmtleSxhPXIudmFsdWU7by53cml0ZShlKSxhLndyaXRlKGUpfWUuYlMoKSxlLkl3KCl9bnVsbCE9PXRoaXMucGxheWVyJiZ2b2lkIDAhPT10aGlzLnBsYXllciYmKGUuRXcoXCJwbGF5ZXJcIixpLmJJLk1JLDExKSx0aGlzLnBsYXllci53cml0ZShlKSxlLkl3KCkpLG51bGwhPT10aGlzLmNsaWVudCYmdm9pZCAwIT09dGhpcy5jbGllbnQmJihlLkV3KFwiY2xpZW50XCIsaS5iSS5NSSwxMiksdGhpcy5jbGllbnQud3JpdGUoZSksZS5JdygpKSxudWxsIT09dGhpcy5zZXNzaW9uSWQmJnZvaWQgMCE9PXRoaXMuc2Vzc2lvbklkJiYoZS5FdyhcInNlc3Npb25JZFwiLGkuYkkuRkksMTMpLGUuVHcodGhpcy5zZXNzaW9uSWQpLGUuSXcoKSksZS5TdygpLGUuUncoKX0saGl2ZS5zbmFwc2hvdHMuSnNvbk1ldHJpY1NuYXBzaG90PWZ1bmN0aW9uKGUpe3RoaXMudGltZXN0YW1wPW51bGwsdGhpcy5ndWlkPW51bGwsdGhpcy5ldmVudElkPW51bGwsdGhpcy5zdHJlYW1JbmZvPW51bGwsdGhpcy5tZXRyaWNzPW51bGwsdGhpcy50cmFmZmljPW51bGwsdGhpcy5zbmFwc2hvdEluZm89bnVsbCx0aGlzLmFnZW50SW5mbz1udWxsLHRoaXMuY29ubkluZm89bnVsbCx0aGlzLnBhcnRuZXJzPW51bGwsdGhpcy5wbGF5ZXI9bnVsbCx0aGlzLmNsaWVudD1udWxsLHRoaXMuc2Vzc2lvbklkPW51bGwsZSYmKHZvaWQgMCE9PWUudGltZXN0YW1wJiYodGhpcy50aW1lc3RhbXA9ZS50aW1lc3RhbXApLHZvaWQgMCE9PWUuZ3VpZCYmKHRoaXMuZ3VpZD1lLmd1aWQpLHZvaWQgMCE9PWUuZXZlbnRJZCYmKHRoaXMuZXZlbnRJZD1lLmV2ZW50SWQpLHZvaWQgMCE9PWUuc3RyZWFtSW5mbyYmKHRoaXMuc3RyZWFtSW5mbz1lLnN0cmVhbUluZm8pLHZvaWQgMCE9PWUubWV0cmljcyYmKHRoaXMubWV0cmljcz1lLm1ldHJpY3MpLHZvaWQgMCE9PWUudHJhZmZpYyYmKHRoaXMudHJhZmZpYz1lLnRyYWZmaWMpLHZvaWQgMCE9PWUuc25hcHNob3RJbmZvJiYodGhpcy5zbmFwc2hvdEluZm89ZS5zbmFwc2hvdEluZm8pLHZvaWQgMCE9PWUuYWdlbnRJbmZvJiYodGhpcy5hZ2VudEluZm89ZS5hZ2VudEluZm8pLHZvaWQgMCE9PWUuY29ubkluZm8mJih0aGlzLmNvbm5JbmZvPWUuY29ubkluZm8pLHZvaWQgMCE9PWUucGFydG5lcnMmJih0aGlzLnBhcnRuZXJzPWUucGFydG5lcnMpLHZvaWQgMCE9PWUucGxheWVyJiYodGhpcy5wbGF5ZXI9ZS5wbGF5ZXIpLHZvaWQgMCE9PWUuY2xpZW50JiYodGhpcy5jbGllbnQ9ZS5jbGllbnQpLHZvaWQgMCE9PWUuc2Vzc2lvbklkJiYodGhpcy5zZXNzaW9uSWQ9ZS5zZXNzaW9uSWQpKX0saGl2ZS5zbmFwc2hvdHMuSnNvbk1ldHJpY1NuYXBzaG90LnByb3RvdHlwZT17fSxoaXZlLnNuYXBzaG90cy5Kc29uTWV0cmljU25hcHNob3QucHJvdG90eXBlLnJlYWQ9ZnVuY3Rpb24oZSl7Zm9yKGUuUVMoKTs7KXt2YXIgdD1lLnV3KCkscj0odC5xUyx0Lmx3KSxuPXQucHc7aWYocj09aS5iSS5BSSlicmVhaztzd2l0Y2gobil7Y2FzZSAxOnI9PWkuYkkuREk/dGhpcy50aW1lc3RhbXA9ZS5uUigpLnZhbHVlOmUuZHcocik7YnJlYWs7Y2FzZSAyOnI9PWkuYkkuRkk/dGhpcy5ndWlkPWUuZncoKS52YWx1ZTplLmR3KHIpO2JyZWFrO2Nhc2UgMzpyPT1pLmJJLk1JPyh0aGlzLmV2ZW50SWQ9bmV3IEV2ZW50SWQsdGhpcy5ldmVudElkLnJlYWQoZSkpOmUuZHcocik7YnJlYWs7Y2FzZSA0OnI9PWkuYkkuTUk/KHRoaXMuc3RyZWFtSW5mbz1uZXcgaGl2ZS5zbmFwc2hvdHMuU3RyZWFtSW5mbyx0aGlzLnN0cmVhbUluZm8ucmVhZChlKSk6ZS5kdyhyKTticmVhaztjYXNlIDU6cj09aS5iSS5NST8odGhpcy5tZXRyaWNzPW5ldyBoaXZlLnNuYXBzaG90cy5NZXRyaWNzLHRoaXMubWV0cmljcy5yZWFkKGUpKTplLmR3KHIpO2JyZWFrO2Nhc2UgNjppZihyPT1pLmJJLkJJKXt2YXIgcyxvPTA7dGhpcy50cmFmZmljPXt9O3M9ZS5LUygpLHMuWVMscy56UyxvPXMuc2l6ZTtmb3IodmFyIGE9MDthPG87KythKXthPjAmJmUuVVMubGVuZ3RoPmUuQ3dbZS5Ddy5sZW5ndGgtMV0rMSYmZS5VUy5wb3AoKTt2YXIgaD1udWxsLGM9bnVsbDtoPWUuZncoKS52YWx1ZSxjPW5ldyBoaXZlLnNuYXBzaG90cy5UcmFmZmljLGMucmVhZChlKSx0aGlzLnRyYWZmaWNbaF09Y31lLkpTKCl9ZWxzZSBlLmR3KHIpO2JyZWFrO2Nhc2UgNzpyPT1pLmJJLk1JPyh0aGlzLnNuYXBzaG90SW5mbz1uZXcgU25hcHNob3RJbmZvLHRoaXMuc25hcHNob3RJbmZvLnJlYWQoZSkpOmUuZHcocik7YnJlYWs7Y2FzZSA4OnI9PWkuYkkuTUk/KHRoaXMuYWdlbnRJbmZvPW5ldyBoaXZlLnNuYXBzaG90cy5BZ2VudEluZm8sdGhpcy5hZ2VudEluZm8ucmVhZChlKSk6ZS5kdyhyKTticmVhaztjYXNlIDk6cj09aS5iSS5NST8odGhpcy5jb25uSW5mbz1uZXcgaGl2ZS5zbmFwc2hvdHMuQ29ubmVjdGl2aXR5SW5mbyx0aGlzLmNvbm5JbmZvLnJlYWQoZSkpOmUuZHcocik7YnJlYWs7Y2FzZSAxMDppZihyPT1pLmJJLkJJKXt2YXIgdSxsPTA7dGhpcy5wYXJ0bmVycz17fTt1PWUuS1MoKSx1LllTLHUuelMsbD11LnNpemU7Zm9yKHZhciBwPTA7cDxsOysrcCl7cD4wJiZlLlVTLmxlbmd0aD5lLkN3W2UuQ3cubGVuZ3RoLTFdKzEmJmUuVVMucG9wKCk7dmFyIGY9bnVsbCxkPW51bGw7Zj1lLmZ3KCkudmFsdWUsZD1uZXcgaGl2ZS5zbmFwc2hvdHMuUGFydG5lcixkLnJlYWQoZSksdGhpcy5wYXJ0bmVyc1tmXT1kfWUuSlMoKX1lbHNlIGUuZHcocik7YnJlYWs7Y2FzZSAxMTpyPT1pLmJJLk1JPyh0aGlzLnBsYXllcj1uZXcgaGl2ZS5zbmFwc2hvdHMuUGxheWVyLHRoaXMucGxheWVyLnJlYWQoZSkpOmUuZHcocik7YnJlYWs7Y2FzZSAxMjpyPT1pLmJJLk1JPyh0aGlzLmNsaWVudD1uZXcgaGl2ZS5zbmFwc2hvdHMuQ2xpZW50SW5mbyx0aGlzLmNsaWVudC5yZWFkKGUpKTplLmR3KHIpO2JyZWFrO2Nhc2UgMTM6cj09aS5iSS5GST90aGlzLnNlc3Npb25JZD1lLmZ3KCkudmFsdWU6ZS5kdyhyKTticmVhaztkZWZhdWx0OmUuZHcocil9ZS52dygpfWUueXcoKX0saGl2ZS5zbmFwc2hvdHMuSnNvbk1ldHJpY1NuYXBzaG90LnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbihlKXtpZihlLm13KFwiSnNvbk1ldHJpY1NuYXBzaG90XCIpLG51bGwhPT10aGlzLnRpbWVzdGFtcCYmdm9pZCAwIT09dGhpcy50aW1lc3RhbXAmJihlLkV3KFwidGltZXN0YW1wXCIsaS5iSS5ESSwxKSxlLkZTKHRoaXMudGltZXN0YW1wKSxlLkl3KCkpLG51bGwhPT10aGlzLmd1aWQmJnZvaWQgMCE9PXRoaXMuZ3VpZCYmKGUuRXcoXCJndWlkXCIsaS5iSS5GSSwyKSxlLlR3KHRoaXMuZ3VpZCksZS5JdygpKSxudWxsIT09dGhpcy5ldmVudElkJiZ2b2lkIDAhPT10aGlzLmV2ZW50SWQmJihlLkV3KFwiZXZlbnRJZFwiLGkuYkkuTUksMyksdGhpcy5ldmVudElkLndyaXRlKGUpLGUuSXcoKSksbnVsbCE9PXRoaXMuc3RyZWFtSW5mbyYmdm9pZCAwIT09dGhpcy5zdHJlYW1JbmZvJiYoZS5FdyhcInN0cmVhbUluZm9cIixpLmJJLk1JLDQpLHRoaXMuc3RyZWFtSW5mby53cml0ZShlKSxlLkl3KCkpLG51bGwhPT10aGlzLm1ldHJpY3MmJnZvaWQgMCE9PXRoaXMubWV0cmljcyYmKGUuRXcoXCJtZXRyaWNzXCIsaS5iSS5NSSw1KSx0aGlzLm1ldHJpY3Mud3JpdGUoZSksZS5JdygpKSxudWxsIT09dGhpcy50cmFmZmljJiZ2b2lkIDAhPT10aGlzLnRyYWZmaWMpe2UuRXcoXCJ0cmFmZmljXCIsaS5iSS5CSSw2KSxlLlJTKGkuYkkuRkksaS5iSS5NSSxpLllJKHRoaXMudHJhZmZpYykpO2Zvcih2YXIgdCBpbiB0aGlzLnRyYWZmaWMpaWYodGhpcy50cmFmZmljLmhhc093blByb3BlcnR5KHQpKXt2YXIgcj10aGlzLnRyYWZmaWNbdF07ZS5Udyh0KSxyLndyaXRlKGUpfWUuYlMoKSxlLkl3KCl9aWYobnVsbCE9PXRoaXMuc25hcHNob3RJbmZvJiZ2b2lkIDAhPT10aGlzLnNuYXBzaG90SW5mbyYmKGUuRXcoXCJzbmFwc2hvdEluZm9cIixpLmJJLk1JLDcpLHRoaXMuc25hcHNob3RJbmZvLndyaXRlKGUpLGUuSXcoKSksbnVsbCE9PXRoaXMuYWdlbnRJbmZvJiZ2b2lkIDAhPT10aGlzLmFnZW50SW5mbyYmKGUuRXcoXCJhZ2VudEluZm9cIixpLmJJLk1JLDgpLHRoaXMuYWdlbnRJbmZvLndyaXRlKGUpLGUuSXcoKSksbnVsbCE9PXRoaXMuY29ubkluZm8mJnZvaWQgMCE9PXRoaXMuY29ubkluZm8mJihlLkV3KFwiY29ubkluZm9cIixpLmJJLk1JLDkpLHRoaXMuY29ubkluZm8ud3JpdGUoZSksZS5JdygpKSxudWxsIT09dGhpcy5wYXJ0bmVycyYmdm9pZCAwIT09dGhpcy5wYXJ0bmVycyl7ZS5FdyhcInBhcnRuZXJzXCIsaS5iSS5CSSwxMCksZS5SUyhpLmJJLkZJLGkuYkkuTUksaS5ZSSh0aGlzLnBhcnRuZXJzKSk7Zm9yKHZhciBuIGluIHRoaXMucGFydG5lcnMpaWYodGhpcy5wYXJ0bmVycy5oYXNPd25Qcm9wZXJ0eShuKSl7dmFyIHM9dGhpcy5wYXJ0bmVyc1tuXTtlLlR3KG4pLHMud3JpdGUoZSl9ZS5iUygpLGUuSXcoKX1udWxsIT09dGhpcy5wbGF5ZXImJnZvaWQgMCE9PXRoaXMucGxheWVyJiYoZS5FdyhcInBsYXllclwiLGkuYkkuTUksMTEpLHRoaXMucGxheWVyLndyaXRlKGUpLGUuSXcoKSksbnVsbCE9PXRoaXMuY2xpZW50JiZ2b2lkIDAhPT10aGlzLmNsaWVudCYmKGUuRXcoXCJjbGllbnRcIixpLmJJLk1JLDEyKSx0aGlzLmNsaWVudC53cml0ZShlKSxlLkl3KCkpLG51bGwhPT10aGlzLnNlc3Npb25JZCYmdm9pZCAwIT09dGhpcy5zZXNzaW9uSWQmJihlLkV3KFwic2Vzc2lvbklkXCIsaS5iSS5GSSwxMyksZS5Udyh0aGlzLnNlc3Npb25JZCksZS5JdygpKSxlLlN3KCksZS5SdygpfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBpPXIoMzApO1N0cmVhbVR5cGU9ezE6XCJMSVZFXCIsTElWRToxLDI6XCJWT0RcIix4RzoyfSxTdHJlYW1Qcm90b2NvbD17MTpcIkRBU0hcIix5QjoxLDI6XCJIRFNcIixIRzoyLDM6XCJITFNcIixPVTozLDQ6XCJTU1wiLHFHOjR9LENsaWVudFR5cGU9ezE6XCJKQVZBXCIsVkc6MSwyOlwiU1RBVFNfT05MWVwiLHBMOjIsMzpcIkpTX0RJUkVDVFwiLHVMOjMsNDpcIkpTX1BST1hZXCIsbEw6NH0sRXZlbnRJZD1mdW5jdGlvbihlKXt0aGlzLnBhcnRuZXJJZD1udWxsLHRoaXMuY3VzdG9tZXJJZD1udWxsLHRoaXMuY29udGVudElkPW51bGwsdGhpcy50YWdzPW51bGwsZSYmKHZvaWQgMCE9PWUucGFydG5lcklkJiYodGhpcy5wYXJ0bmVySWQ9ZS5wYXJ0bmVySWQpLHZvaWQgMCE9PWUuY3VzdG9tZXJJZCYmKHRoaXMuY3VzdG9tZXJJZD1lLmN1c3RvbWVySWQpLHZvaWQgMCE9PWUuY29udGVudElkJiYodGhpcy5jb250ZW50SWQ9ZS5jb250ZW50SWQpLHZvaWQgMCE9PWUudGFncyYmKHRoaXMudGFncz1lLnRhZ3MpKX0sRXZlbnRJZC5wcm90b3R5cGU9e30sRXZlbnRJZC5wcm90b3R5cGUucmVhZD1mdW5jdGlvbihlKXtmb3IoZS5RUygpOzspe3ZhciB0PWUudXcoKSxyPSh0LnFTLHQubHcpLG49dC5wdztpZihyPT1pLmJJLkFJKWJyZWFrO3N3aXRjaChuKXtjYXNlIDE6cj09aS5iSS5GST90aGlzLnBhcnRuZXJJZD1lLmZ3KCkudmFsdWU6ZS5kdyhyKTticmVhaztjYXNlIDI6cj09aS5iSS5GST90aGlzLmN1c3RvbWVySWQ9ZS5mdygpLnZhbHVlOmUuZHcocik7YnJlYWs7Y2FzZSAzOnI9PWkuYkkuRkk/dGhpcy5jb250ZW50SWQ9ZS5mdygpLnZhbHVlOmUuZHcocik7YnJlYWs7Y2FzZSA0OmlmKHI9PWkuYkkueEkpe3ZhciBzLG89MDt0aGlzLnRhZ3M9W107cz1lLldTKCkscy5YUyxvPXMuc2l6ZTtmb3IodmFyIGE9MDthPG87KythKXt2YXIgaD1udWxsO2g9ZS5mdygpLnZhbHVlLHRoaXMudGFncy5wdXNoKGgpfWUuWlMoKX1lbHNlIGUuZHcocik7YnJlYWs7ZGVmYXVsdDplLmR3KHIpfWUudncoKX1lLnl3KCl9LEV2ZW50SWQucHJvdG90eXBlLndyaXRlPWZ1bmN0aW9uKGUpe2lmKGUubXcoXCJFdmVudElkXCIpLG51bGwhPT10aGlzLnBhcnRuZXJJZCYmdm9pZCAwIT09dGhpcy5wYXJ0bmVySWQmJihlLkV3KFwicGFydG5lcklkXCIsaS5iSS5GSSwxKSxlLlR3KHRoaXMucGFydG5lcklkKSxlLkl3KCkpLG51bGwhPT10aGlzLmN1c3RvbWVySWQmJnZvaWQgMCE9PXRoaXMuY3VzdG9tZXJJZCYmKGUuRXcoXCJjdXN0b21lcklkXCIsaS5iSS5GSSwyKSxlLlR3KHRoaXMuY3VzdG9tZXJJZCksZS5JdygpKSxudWxsIT09dGhpcy5jb250ZW50SWQmJnZvaWQgMCE9PXRoaXMuY29udGVudElkJiYoZS5FdyhcImNvbnRlbnRJZFwiLGkuYkkuRkksMyksZS5Udyh0aGlzLmNvbnRlbnRJZCksZS5JdygpKSxudWxsIT09dGhpcy50YWdzJiZ2b2lkIDAhPT10aGlzLnRhZ3Mpe2UuRXcoXCJ0YWdzXCIsaS5iSS54SSw0KSxlLlBTKGkuYkkuRkksdGhpcy50YWdzLmxlbmd0aCk7Zm9yKHZhciB0IGluIHRoaXMudGFncyl0aGlzLnRhZ3MuaGFzT3duUHJvcGVydHkodCkmJih0PXRoaXMudGFnc1t0XSxlLlR3KHQpKTtlLkNTKCksZS5JdygpfWUuU3coKSxlLlJ3KCl9LFNuYXBzaG90SW5mbz1mdW5jdGlvbihlKXt0aGlzLnRpbWVzdGFtcD1udWxsLHRoaXMuYXBpU2VydmVyPW51bGwsdGhpcy5jbGllbnRJcD1udWxsLGUmJih2b2lkIDAhPT1lLnRpbWVzdGFtcCYmKHRoaXMudGltZXN0YW1wPWUudGltZXN0YW1wKSx2b2lkIDAhPT1lLmFwaVNlcnZlciYmKHRoaXMuYXBpU2VydmVyPWUuYXBpU2VydmVyKSx2b2lkIDAhPT1lLmNsaWVudElwJiYodGhpcy5jbGllbnRJcD1lLmNsaWVudElwKSl9LFNuYXBzaG90SW5mby5wcm90b3R5cGU9e30sU25hcHNob3RJbmZvLnByb3RvdHlwZS5yZWFkPWZ1bmN0aW9uKGUpe2ZvcihlLlFTKCk7Oyl7dmFyIHQ9ZS51dygpLHI9KHQucVMsdC5sdyksbj10LnB3O2lmKHI9PWkuYkkuQUkpYnJlYWs7c3dpdGNoKG4pe2Nhc2UgMTpyPT1pLmJJLkRJP3RoaXMudGltZXN0YW1wPWUublIoKS52YWx1ZTplLmR3KHIpO2JyZWFrO2Nhc2UgMjpyPT1pLmJJLkZJP3RoaXMuYXBpU2VydmVyPWUuZncoKS52YWx1ZTplLmR3KHIpO2JyZWFrO2Nhc2UgMzpyPT1pLmJJLkZJP3RoaXMuY2xpZW50SXA9ZS5mdygpLnZhbHVlOmUuZHcocik7YnJlYWs7ZGVmYXVsdDplLmR3KHIpfWUudncoKX1lLnl3KCl9LFNuYXBzaG90SW5mby5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24oZSl7ZS5tdyhcIlNuYXBzaG90SW5mb1wiKSxudWxsIT09dGhpcy50aW1lc3RhbXAmJnZvaWQgMCE9PXRoaXMudGltZXN0YW1wJiYoZS5FdyhcInRpbWVzdGFtcFwiLGkuYkkuREksMSksZS5GUyh0aGlzLnRpbWVzdGFtcCksZS5JdygpKSxudWxsIT09dGhpcy5hcGlTZXJ2ZXImJnZvaWQgMCE9PXRoaXMuYXBpU2VydmVyJiYoZS5FdyhcImFwaVNlcnZlclwiLGkuYkkuRkksMiksZS5Udyh0aGlzLmFwaVNlcnZlciksZS5JdygpKSxudWxsIT09dGhpcy5jbGllbnRJcCYmdm9pZCAwIT09dGhpcy5jbGllbnRJcCYmKGUuRXcoXCJjbGllbnRJcFwiLGkuYkkuRkksMyksZS5Udyh0aGlzLmNsaWVudElwKSxlLkl3KCkpLGUuU3coKSxlLlJ3KCl9LEluZXRBZGRyZXNzPWZ1bmN0aW9uKGUpe3RoaXMuYWRkcmVzcz1udWxsLHRoaXMucG9ydD1udWxsLGUmJih2b2lkIDAhPT1lLmFkZHJlc3MmJih0aGlzLmFkZHJlc3M9ZS5hZGRyZXNzKSx2b2lkIDAhPT1lLnBvcnQmJih0aGlzLnBvcnQ9ZS5wb3J0KSl9LEluZXRBZGRyZXNzLnByb3RvdHlwZT17fSxJbmV0QWRkcmVzcy5wcm90b3R5cGUucmVhZD1mdW5jdGlvbihlKXtmb3IoZS5RUygpOzspe3ZhciB0PWUudXcoKSxyPSh0LnFTLHQubHcpLG49dC5wdztpZihyPT1pLmJJLkFJKWJyZWFrO3N3aXRjaChuKXtjYXNlIDE6cj09aS5iSS5GST90aGlzLmFkZHJlc3M9ZS5vUigpLnZhbHVlOmUuZHcocik7YnJlYWs7Y2FzZSAyOnI9PWkuYkkuTkk/dGhpcy5wb3J0PWUuZ3coKS52YWx1ZTplLmR3KHIpO2JyZWFrO2RlZmF1bHQ6ZS5kdyhyKX1lLnZ3KCl9ZS55dygpfSxJbmV0QWRkcmVzcy5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24oZSl7ZS5tdyhcIkluZXRBZGRyZXNzXCIpLG51bGwhPT10aGlzLmFkZHJlc3MmJnZvaWQgMCE9PXRoaXMuYWRkcmVzcyYmKGUuRXcoXCJhZGRyZXNzXCIsaS5iSS5GSSwxKSxlLk1TKHRoaXMuYWRkcmVzcyksZS5JdygpKSxudWxsIT09dGhpcy5wb3J0JiZ2b2lkIDAhPT10aGlzLnBvcnQmJihlLkV3KFwicG9ydFwiLGkuYkkuTkksMiksZS53dyh0aGlzLnBvcnQpLGUuSXcoKSksZS5TdygpLGUuUncoKX19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1yKDIpLG49cigyMSkscz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXt0aGlzLm1zZz1lLHRoaXMuakc9RGF0ZS5ub3coKSt0LHRoaXMuR0c9aS5kZWZlcigpfXJldHVybiBlLnByb3RvdHlwZS5RRz1mdW5jdGlvbigpe3JldHVybiBEYXRlLm5vdygpPj10aGlzLmpHfSxlfSgpLG89ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxyLGksbixzLG8pe3ZvaWQgMD09PXQmJih0PTNlNCksdm9pZCAwPT09ciYmKHI9MTAwKSx2b2lkIDA9PT1pJiYoaT0zZTQpLHZvaWQgMD09PW4mJihuPTE1ZTMpLHZvaWQgMD09PXMmJihzPURhdGUpLHZvaWQgMD09PW8mJihvPSExKSx0aGlzLktHPTEsdGhpcy5ZRz0tMSx0aGlzLnpHPS0xLHRoaXMucXE9e30sdGhpcy5KRz1bXSx0aGlzLldHPVtdLHRoaXMuWEc9ITEsdGhpcy5aRz0hMCx0aGlzLiRHPWUsdGhpcy5lUT1BcnJheSgpLHRoaXMubHA9dCx0aGlzLnBwPXIsdGhpcy5mcD1pLHRoaXMudFE9bix0aGlzLnJRPXMsdGhpcy5YRz1vfHwvTVNJRSAxMC9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCl8fC9NU0lFIDkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpfHwvcnY6MTEuMC9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCl8fC9FZGdlLi9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCl9cmV0dXJuIGUucHJvdG90eXBlLkFlPWZ1bmN0aW9uKGUpe3ZhciB0PWUuc2VydmljZStcIl9cIitlLm1zZ0lkLHI9dGhpcy5xcVt0XTtudWxsIT1yP3IoZSk6bi50ZSgpLmVycm9yKG4ubW4rXCJDb3VsZCBub3QgZmluZCBhIGRpc3BhdGNoZXIgZm9yIFwiLGUsdCx0aGlzLnFxKX0sZS5wcm90b3R5cGUub249ZnVuY3Rpb24oZSx0LHIpe3RoaXMucXFbZStcIl9cIit0XT1yfSxlLnByb3RvdHlwZS5vbmVycm9yPWZ1bmN0aW9uKGUpe3RoaXMuSkcucHVzaChlKX0sZS5wcm90b3R5cGUuQ0w9ZnVuY3Rpb24oZSl7dGhpcy5XRy5wdXNoKGUpfSxlLnByb3RvdHlwZS5pUT1mdW5jdGlvbigpe3ZhciBlPXRoaXM7aWYoIXdpbmRvdy5XZWJTb2NrZXQpcmV0dXJuIHZvaWQgdGhpcy5KRy5mb3JFYWNoKGZ1bmN0aW9uKGUpe3JldHVybiBlKFwiV2ViU29ja2V0IG5vdCBkZWZpbmVkXCIpfSk7dmFyIHQ9bmV3IFdlYlNvY2tldCh0aGlzLiRHKTtyZXR1cm4gdC5iaW5hcnlUeXBlPVwiYXJyYXlidWZmZXJcIix0Lm9ub3Blbj1mdW5jdGlvbih0KXtlLm5RKCksbi50ZSgpLmRlYnVnKG4ubW4rXCJIaXZlU2VydmljZXNDb25uZWN0aW9uIGVzdGFibGlzaGVkIHRvIFwiK2UuJEcpLGUuekc9KG5ldyBlLnJRKS5nZXRUaW1lKCksZS5zUSgpLGUuV0cuZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gdChlKX0pLGUub1EoKSxlLmFRKCl9LHQub25jbG9zZT1mdW5jdGlvbih0KXtlLmNsb3NlKGUuWkcpLGUuY29ubmVjdCgpfSx0Lm9ubWVzc2FnZT1mdW5jdGlvbih0KXtlLkFlKG4ucGMuZnUodC5kYXRhKSl9LHQub25lcnJvcj1mdW5jdGlvbih0KXtlLmNsb3NlKCEwKSxlLkpHLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIGUodC50b1N0cmluZygpKX0pfSx0fSxlLnByb3RvdHlwZS5pc09wZW49ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9dGhpcy5NRSYmdGhpcy5NRS5yZWFkeVN0YXRlPT10aGlzLk1FLk9QRU59LGUucHJvdG90eXBlLmNvbm5lY3Q9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztlJiYodGhpcy5aRz0hMCksdGhpcy5aRyYmMSE9dGhpcy5pc09wZW4oKSYmKHRoaXMuWUc+MHx8KHRoaXMuekc+LTEmJihuZXcgdGhpcy5yUSkuZ2V0VGltZSgpLXRoaXMuekc+dGhpcy5scD8odGhpcy5LRz1uLk4ubHUsdGhpcy56Rz0tMSk6dGhpcy5LRz1NYXRoLm1pbigyKnRoaXMuS0csdGhpcy5scCksdGhpcy5ZRz13aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpe3QuWUc9LTEsbi50ZSgpLmRlYnVnKG4ubW4rXCJDb25uZWN0aW9uIGF0dGVtcHQgdG8gXCIrdC4kRytcIiBbdDpcIit0LktHK1wiIGhiOlwiK3QuWEcrXCJdXCIpLHQuTUU9dC5pUSgpLHQuS0c9TWF0aC5tYXgodC5LRyxuLk4ubHUpfSx0aGlzLktHKSkpfSxlLnByb3RvdHlwZS5uUT1mdW5jdGlvbigpe3RoaXMuWUc+LTEmJihjbGVhclRpbWVvdXQodGhpcy5ZRyksdGhpcy5ZRz0tMSl9LGUucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKGUpe3RoaXMuWkc9dm9pZCAwIT1lJiZlLG4udGUoKS5kZWJ1ZyhuLm1uK1wiQ2xvc2luZyBjb25uZWN0aW9uIFtyZWNvbm5lY3Q6XCIrdGhpcy5aRytcIl1cIiksdGhpcy5uUSgpLG51bGwhPXRoaXMuTUUmJih0aGlzLk1FLmNsb3NlKCksdGhpcy5NRT1udWxsKX0sZS5wcm90b3R5cGUuc1E9ZnVuY3Rpb24oKXtmb3IoO3RoaXMuZVEubGVuZ3RoPjA7KXt2YXIgZT10aGlzLmVRLnBvcCgpO3RyeXtlLlFHKCk/ZS5HRy5yZWplY3QobmV3IEVycm9yKFwiTWVzc2FnZSBleHBpcmVkXCIpKToodGhpcy5vUSgpLHRoaXMuTUUuc2VuZChlLm1zZy5wdSgpKSl9Y2F0Y2godCl7aWYodC5jb2RlPT09RE9NRXhjZXB0aW9uLklOVkFMSURfU1RBVEVfRVJSKXt0aGlzLmVRLnB1c2goZSk7YnJlYWt9bi50ZSgpLmVycm9yKG4ubW4rXCJGYWlsZWQgdG8gc2VuZCB0aGUgbWVzc2FnZSwgZHJvcHBlZDogXCIsdC5jb2RlLHQubmFtZSksZS5HRy5yZWplY3QodCl9fXRoaXMuYVEoKX0sZS5wcm90b3R5cGUub1E9ZnVuY3Rpb24oKXt0aGlzLmhRJiYoY2xlYXJUaW1lb3V0KHRoaXMuaFEpLHRoaXMuaFE9bnVsbCl9LGUucHJvdG90eXBlLmFRPWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLlhHJiYhdGhpcy5oUSYmKHRoaXMuaFE9d2luZG93LnNldEludGVydmFsKGZ1bmN0aW9uKCl7ZS5zZW5kKG5ldyBuLnBjKFNlcnZpY2VzLmNRLDAsXCJcIikpfSx0aGlzLnRRKSl9LGUucHJvdG90eXBlLnNlbmQ9ZnVuY3Rpb24oZSx0KXtpZih2b2lkIDA9PT10JiYodD10aGlzLmZwKSx0aGlzLmVRLmxlbmd0aD49dGhpcy5wcCl0aHJvdyBuZXcgRXJyb3IoXCJIaXZlU2VydmljZXMgY29ubmVjdGlvbiBjYW5ub3QgcXVldWUgbW9yZSBtZXNzYWdlc1wiKTt2YXIgcj1uZXcgcyhlLHQpO3JldHVybiB0aGlzLmVRLnB1c2gociksdGhpcy5NRSYmdGhpcy5zUSgpLHIuR0cuVGV9LGUucHJvdG90eXBlLnVRPWZ1bmN0aW9uKGUpe3RoaXMuWEc9ZSx0aGlzLlhHJiZ0aGlzLmFRKCl9LGUucHJvdG90eXBlLmxRPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPXRoaXMuTUV9LGV9KCk7dC5BTD1vfSxmdW5jdGlvbihlLHQpe1NlcnZpY2VzPXsxOlwiUkVNT1RFX0VYRUNVVE9SXCIscFE6MSwyOlwiUEVFUl9GT1JXQVJERVJcIixmUToyLDM6XCJQRUVSX0lOREVYXCIsZFE6Myw0OlwiUEVFUl9CUk9BRENBU1RcIixnUTo0LDU6XCJQRUVSX0ZJTFRFUlwiLHZROjUsNjpcIlBFRVJfTE9HR0lOR1wiLHlROjYsNzpcIkhJVkVKU19UUkFDS0VSXCIsbVE6Nyw4OlwiUEVFUl9TWVNURU1cIixFUTo4LDk6XCJISVZFSlNfU05BUFNIT1RTXCIsZmM6OSwxMDpcIkhJVkVKU19USUNLRVRTXCIsUEw6MTAsMTE6XCJISVZFSlNfS0VFUEFMSVZFXCIsY1E6MTEsMTI6XCJISVZFSlNfRk9SV0FSRElOR1wiLFRROjEyfX0sZnVuY3Rpb24oZSx0KXtlLnQ9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEZ1bmN0aW9ufX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe3RoaXMuVWM9ZSx0aGlzLnhjPXR9cmV0dXJuIGUucHJvdG90eXBlLktjPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuVWN9LGUucHJvdG90eXBlLlljPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueGM/dGhpcy54Yzp0aGlzLlVjfSxlfSgpO3QudE09aX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXRoaXMmJnRoaXMuTnN8fGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gcigpe3RoaXMuY29uc3RydWN0b3I9ZX1mb3IodmFyIGkgaW4gdCl0Lmhhc093blByb3BlcnR5KGkpJiYoZVtpXT10W2ldKTtlLnByb3RvdHlwZT1udWxsPT09dD9PYmplY3QuY3JlYXRlKHQpOihyLnByb3RvdHlwZT10LnByb3RvdHlwZSxuZXcgcil9LG49cig3OCkscz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gaSh0LGUpLHQucHJvdG90eXBlLlloPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuUE0/dGhpcy5QTTpudWxsfSx0fShuLkFNKTt0LmRNPXN9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1yKDcwKSxuPXIoMikscz1yKDApLG89cigyNCksYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLmluZGV4ZWREQj13aW5kb3cuaW5kZXhlZERCfHx3aW5kb3cubW96SW5kZXhlZERCfHx3aW5kb3cud2Via2l0SW5kZXhlZERCfHx3aW5kb3cubXNJbmRleGVkREIsdGhpcy50ZT1zLkZyYW1ld29yay5yZXNvbHZlKHMuRnJhbWV3b3JrLnEuSSkubG9nKCl9cmV0dXJuIGUucHJvdG90eXBlLiRMPWZ1bmN0aW9uKCl7dmFyIGU9bi5kZWZlcigpLHQ9dGhpcy5pbmRleGVkREIub3BlbihcIlByaXZhdGVJUERCXCIpO3JldHVybiB0Lm9udXBncmFkZW5lZWRlZD1mdW5jdGlvbigpe3QucmVzdWx0LmNyZWF0ZU9iamVjdFN0b3JlKFwiUHJpdmF0ZUlQU3RvcmVcIix7a2V5UGF0aDpcImlkXCJ9KX0sdC5vbnN1Y2Nlc3M9ZnVuY3Rpb24oKXt2YXIgcj10LnJlc3VsdDtlLnJlc29sdmUocil9LHQub25lcnJvcj1mdW5jdGlvbih0KXtlLnJlamVjdCh0KX0sZS5UZX0sZS5wcm90b3R5cGUuak09ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2lmKHRoaXMuSVEpcmV0dXJuIHRoaXMuSVE7dmFyIHQ9c2V0VGltZW91dChmdW5jdGlvbigpe2UudGUud2FybihcIlByaXZhdGUgbGlzdCByZXRyaWV2YWwgdGltZW91dFwiKSxyLnJlamVjdChcIlByaXZhdGUgbGlzdCB0aW1lb3V0XCIpfSw0ZTMpLHI9bi5kZWZlcigpO2lmKG8ubmMuTWkmJnRoaXMuaW5kZXhlZERCKXt0aGlzLiRMKCkudGhlbihmdW5jdGlvbihuKXt2YXIgcz1uLnRyYW5zYWN0aW9uKFwiUHJpdmF0ZUlQU3RvcmVcIixcInJlYWR3cml0ZVwiKSxvPXMub2JqZWN0U3RvcmUoXCJQcml2YXRlSVBTdG9yZVwiKSxhPW8uZ2V0KFwiaXBsaXN0XCIpO2Eub25zdWNjZXNzPWZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KHQpO3ZhciBlPVtdO2kuaUYoYS5yZXN1bHQpfHxpLmlGKGEucmVzdWx0LnZhbHVlKXx8KGU9YS5yZXN1bHQudmFsdWUuc3BsaXQoXCJ8XCIpKSxyLnJlc29sdmUoZSksbi5jbG9zZSgpfSxhLm9uZXJyb3I9ZnVuY3Rpb24oaSl7Y2xlYXJUaW1lb3V0KHQpLGUudGUud2FybihcIkkgZ290IGFuIGVycm9yIG9uIGluZGV4ZWQgZGIgXCIraS5tZXNzYWdlKSxyLnJlamVjdChcIkVycm9yIG9uIGluZGV4ZWREQiBcIitpLm1lc3NhZ2UpfX0pLmZhaWwoZnVuY3Rpb24oaSl7Y2xlYXJUaW1lb3V0KHQpLGUudGUud2FybihcIkRCIGlzIG5vdCBvcGVuIHdpdGggZXJyb3JcIitpLm1lc3NhZ2UpLHIucmVqZWN0KFwiREIgaXMgbm90IG9wZW4gd2l0aCBlcnJvciBcIitpLm1lc3NhZ2UpfSl9ZWxzZSBjbGVhclRpbWVvdXQodCksci5yZWplY3Qoe21lc3NhZ2U6XCJEQiBpcyBub3QgcmVhZHkgb3IgZW5hYmxlZFwifSk7cmV0dXJuIHRoaXMuSVE9ci5UZSx0aGlzLklRfSxlLnByb3RvdHlwZS5ZTT1mdW5jdGlvbihlKXt2YXIgdD10aGlzO2lmKG8ubmMuTWkmJnRoaXMuaW5kZXhlZERCKXt2YXIgcj1lLmpvaW4oXCJ8XCIpO3RoaXMuJEwoKS50aGVuKGZ1bmN0aW9uKGkpe3ZhciBuPWkudHJhbnNhY3Rpb24oXCJQcml2YXRlSVBTdG9yZVwiLFwicmVhZHdyaXRlXCIpO24ub2JqZWN0U3RvcmUoXCJQcml2YXRlSVBTdG9yZVwiKS5wdXQoe2lkOlwiaXBsaXN0XCIsdmFsdWU6cn0pLG4ub25jb21wbGV0ZT1mdW5jdGlvbigpe3QudGUuZGVidWcoXCJTdG9yaW5nIHNpdGUgbWF0Y2hlZCBpcHMgW1wiK2Uuam9pbihcIixcIikrXCJdXCIpLGkuY2xvc2UoKX19KS5mYWlsKGZ1bmN0aW9uKGUpe3QudGUud2FybihcIkRCIGlzIG5vdCBvcGVuIHdpdGggZXJyb3IgXCIrZS5tZXNzYWdlKX0pfX0sZX0oKTt0Lk1NPWF9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1yKDE3KS5sb2csbj1yKDE3KS5EYSxzPXtpXzpmdW5jdGlvbigpe3dpbmRvdy5NZWRpYVN0cmVhbT13aW5kb3cuTWVkaWFTdHJlYW18fHdpbmRvdy53ZWJraXRNZWRpYVN0cmVhbX0sc186ZnVuY3Rpb24oKXtcIm9iamVjdFwiIT10eXBlb2Ygd2luZG93fHwhd2luZG93LlJUQ1BlZXJDb25uZWN0aW9ufHxcIm9udHJhY2tcImluIHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGV8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLFwib250cmFja1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53UX0sc2V0OmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dGhpcy53USYmKHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRyYWNrXCIsdGhpcy53USksdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKFwiYWRkc3RyZWFtXCIsdGhpcy5TUSkpLHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihcInRyYWNrXCIsdGhpcy53UT1lKSx0aGlzLmFkZEV2ZW50TGlzdGVuZXIoXCJhZGRzdHJlYW1cIix0aGlzLlNRPWZ1bmN0aW9uKGUpe2Uuc3RyZWFtLmFkZEV2ZW50TGlzdGVuZXIoXCJhZGR0cmFja1wiLGZ1bmN0aW9uKHIpe3ZhciBpPW5ldyBFdmVudChcInRyYWNrXCIpO2kudHJhY2s9ci50cmFjayxpLnJlY2VpdmVyPXt0cmFjazpyLnRyYWNrfSxpLmhvPVtlLnN0cmVhbV0sdC5kaXNwYXRjaEV2ZW50KGkpfSksZS5zdHJlYW0uZ2V0VHJhY2tzKCkuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgcj1uZXcgRXZlbnQoXCJ0cmFja1wiKTtyLnRyYWNrPXQsci5yZWNlaXZlcj17dHJhY2s6dH0sci5obz1bZS5zdHJlYW1dLHRoaXMuZGlzcGF0Y2hFdmVudChyKX0uYmluZCh0aGlzKSl9LmJpbmQodGhpcykpfX0pfSxvXzpmdW5jdGlvbigpe2lmKFwib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3cmJndpbmRvdy5SVENQZWVyQ29ubmVjdGlvbiYmIShcImdldFNlbmRlcnNcImluIFJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZSkmJlwiY3JlYXRlRFRNRlNlbmRlclwiaW4gUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlKXtSVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0U2VuZGVycz1mdW5jdGlvbigpe3JldHVybiB0aGlzLlJRfTt2YXIgZT1SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkU3RyZWFtLHQ9UlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnJlbW92ZVN0cmVhbTtSVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkU3RyZWFtPWZ1bmN0aW9uKHQpe3ZhciByPXRoaXM7ci5SUT1yLlJRfHxbXSxlLmFwcGx5KHIsW3RdKSx0LmdldFRyYWNrcygpLmZvckVhY2goZnVuY3Rpb24oZSl7ci5SUS5wdXNoKHt0cmFjazplLGdldCBiUSgpe3JldHVybiB2b2lkIDA9PT10aGlzLlBRJiYoXCJhdWRpb1wiPT09ZS5raW5kP3RoaXMuUFE9ci5jcmVhdGVEVE1GU2VuZGVyKGUpOnRoaXMuUFE9bnVsbCksdGhpcy5QUX19KX0pfSxSVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUucmVtb3ZlU3RyZWFtPWZ1bmN0aW9uKGUpe3ZhciByPXRoaXM7ci5SUT1yLlJRfHxbXSx0LmFwcGx5KHIsW2VdKSxlLmdldFRyYWNrcygpLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9ci5SUS5maW5kKGZ1bmN0aW9uKHQpe3JldHVybiB0LnRyYWNrPT09ZX0pO3QmJnIuUlEuc3BsaWNlKHIuUlEuaW5kZXhPZih0KSwxKX0pfX19LG5fOmZ1bmN0aW9uKCl7XCJvYmplY3RcIj09dHlwZW9mIHdpbmRvdyYmKCF3aW5kb3cuSFRNTE1lZGlhRWxlbWVudHx8XCJzcmNPYmplY3RcImluIHdpbmRvdy5IVE1MTWVkaWFFbGVtZW50LnByb3RvdHlwZXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdy5IVE1MTWVkaWFFbGVtZW50LnByb3RvdHlwZSxcInNyY09iamVjdFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5BUX0sc2V0OmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7aWYodGhpcy5BUT1lLHRoaXMuc3JjJiZVUkwucmV2b2tlT2JqZWN0VVJMKHRoaXMuc3JjKSwhZSlyZXR1cm4gdm9pZCh0aGlzLnNyYz1cIlwiKTt0aGlzLnNyYz1VUkwuY3JlYXRlT2JqZWN0VVJMKGUpLGUuYWRkRXZlbnRMaXN0ZW5lcihcImFkZHRyYWNrXCIsZnVuY3Rpb24oKXt0LnNyYyYmVVJMLnJldm9rZU9iamVjdFVSTCh0LnNyYyksdC5zcmM9VVJMLmNyZWF0ZU9iamVjdFVSTChlKX0pLGUuYWRkRXZlbnRMaXN0ZW5lcihcInJlbW92ZXRyYWNrXCIsZnVuY3Rpb24oKXt0LnNyYyYmVVJMLnJldm9rZU9iamVjdFVSTCh0LnNyYyksdC5zcmM9VVJMLmNyZWF0ZU9iamVjdFVSTChlKX0pfX0pKX0sZV86ZnVuY3Rpb24oKXt3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb258fCh3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb249ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaShcIlBlZXJDb25uZWN0aW9uXCIpLGUmJmUuQ1EmJihlLmtRPWUuQ1EpLG5ldyB3ZWJraXRSVENQZWVyQ29ubmVjdGlvbihlLHQpfSx3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlPXdlYmtpdFJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZSx3ZWJraXRSVENQZWVyQ29ubmVjdGlvbi5PUSYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbixcImdlbmVyYXRlQ2VydGlmaWNhdGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHdlYmtpdFJUQ1BlZXJDb25uZWN0aW9uLk9RfX0pKTt2YXIgZT1SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0U3RhdHM7UlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFN0YXRzPWZ1bmN0aW9uKHQscixpKXt2YXIgbj10aGlzLHM9YXJndW1lbnRzO2lmKGFyZ3VtZW50cy5sZW5ndGg+MCYmXCJmdW5jdGlvblwiPT10eXBlb2YgdClyZXR1cm4gZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7aWYoMD09PWUubGVuZ3RoJiYoMD09PWFyZ3VtZW50cy5sZW5ndGh8fFwiZnVuY3Rpb25cIiE9dHlwZW9mIGFyZ3VtZW50c1swXSkpcmV0dXJuIGUuYXBwbHkodGhpcyxbXSk7dmFyIG89ZnVuY3Rpb24oZSl7dmFyIHQ9e307cmV0dXJuIGUucmVzdWx0KCkuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgcj17aWQ6ZS5pZCx0aW1lc3RhbXA6ZS50aW1lc3RhbXAsdHlwZTp7X1E6XCJsb2NhbC1jYW5kaWRhdGVcIixOUTpcInJlbW90ZS1jYW5kaWRhdGVcIn1bZS50eXBlXXx8ZS50eXBlfTtlLm5hbWVzKCkuZm9yRWFjaChmdW5jdGlvbih0KXtyW3RdPWUuRFEodCl9KSx0W3IuaWRdPXJ9KSx0fSxhPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgTWFwKE9iamVjdC5rZXlzKGUpLm1hcChmdW5jdGlvbih0KXtyZXR1cm5bdCxlW3RdXX0pKX07aWYoYXJndW1lbnRzLmxlbmd0aD49Mil7dmFyIGg9ZnVuY3Rpb24oZSl7c1sxXShhKG8oZSkpKX07cmV0dXJuIGUuYXBwbHkodGhpcyxbaCxhcmd1bWVudHNbMF1dKX1yZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24odCxyKXtlLmFwcGx5KG4sW2Z1bmN0aW9uKGUpe3QoYShvKGUpKSl9LHJdKX0pLnRoZW4ocixpKX0sbi52ZXJzaW9uPDUxJiZbXCJzZXRMb2NhbERlc2NyaXB0aW9uXCIsXCJzZXRSZW1vdGVEZXNjcmlwdGlvblwiLFwiYWRkSWNlQ2FuZGlkYXRlXCJdLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9UlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlW2VdO1JUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZVtlXT1mdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cyxyPXRoaXMsaT1uZXcgUHJvbWlzZShmdW5jdGlvbihpLG4pe3QuYXBwbHkocixbZVswXSxpLG5dKX0pO3JldHVybiBlLmxlbmd0aDwyP2k6aS50aGVuKGZ1bmN0aW9uKCl7ZVsxXS5hcHBseShudWxsLFtdKX0sZnVuY3Rpb24odCl7ZS5sZW5ndGg+PTMmJmVbMl0uYXBwbHkobnVsbCxbdF0pfSl9fSksbi52ZXJzaW9uPDUyJiZbXCJjcmVhdGVPZmZlclwiLFwiY3JlYXRlQW5zd2VyXCJdLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9UlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlW2VdO1JUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZVtlXT1mdW5jdGlvbigpe3ZhciBlPXRoaXM7aWYoYXJndW1lbnRzLmxlbmd0aDwxfHwxPT09YXJndW1lbnRzLmxlbmd0aCYmXCJvYmplY3RcIj09dHlwZW9mIGFyZ3VtZW50c1swXSl7dmFyIHI9MT09PWFyZ3VtZW50cy5sZW5ndGg/YXJndW1lbnRzWzBdOnZvaWQgMDtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24oaSxuKXt0LmFwcGx5KGUsW2ksbixyXSl9KX1yZXR1cm4gdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSksW1wic2V0TG9jYWxEZXNjcmlwdGlvblwiLFwic2V0UmVtb3RlRGVzY3JpcHRpb25cIixcImFkZEljZUNhbmRpZGF0ZVwiXS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PVJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZVtlXTtSVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGVbZV09ZnVuY3Rpb24oKXtyZXR1cm4gYXJndW1lbnRzWzBdPW5ldyhcImFkZEljZUNhbmRpZGF0ZVwiPT09ZT9SVENJY2VDYW5kaWRhdGU6UlRDU2Vzc2lvbkRlc2NyaXB0aW9uKShhcmd1bWVudHNbMF0pLHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0pO3ZhciB0PVJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRJY2VDYW5kaWRhdGU7UlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZEljZUNhbmRpZGF0ZT1mdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHNbMF0/dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk6KGFyZ3VtZW50c1sxXSYmYXJndW1lbnRzWzFdLmFwcGx5KG51bGwpLFByb21pc2UucmVzb2x2ZSgpKX19fTtlLnQ9e2lfOnMuaV8sc186cy5zXyxvXzpzLm9fLG5fOnMubl8sZV86cy5lXyxyXzpyKDEyMSl9fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9cigxNykubG9nLG49cigxNykuRGE7ZS50PWZ1bmN0aW9uKCl7dmFyIGU9ZnVuY3Rpb24oZSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fGUuRlF8fGUub3B0aW9uYWwpcmV0dXJuIGU7dmFyIHQ9e307cmV0dXJuIE9iamVjdC5rZXlzKGUpLmZvckVhY2goZnVuY3Rpb24ocil7aWYoXCJyZXF1aXJlXCIhPT1yJiZcImFkdmFuY2VkXCIhPT1yJiZcIm1lZGlhU291cmNlXCIhPT1yKXt2YXIgaT1cIm9iamVjdFwiPT10eXBlb2YgZVtyXT9lW3JdOntMUTplW3JdfTt2b2lkIDAhPT1pLk1RJiZcIm51bWJlclwiPT10eXBlb2YgaS5NUSYmKGkubWluPWkubWF4PWkuTVEpO3ZhciBuPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU/ZSt0LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK3Quc2xpY2UoMSk6XCJkZXZpY2VJZFwiPT09dD9cInNvdXJjZUlkXCI6dH07aWYodm9pZCAwIT09aS5MUSl7dC5vcHRpb25hbD10Lm9wdGlvbmFsfHxbXTt2YXIgcz17fTtcIm51bWJlclwiPT10eXBlb2YgaS5MUT8oc1tuKFwibWluXCIscildPWkuTFEsdC5vcHRpb25hbC5wdXNoKHMpLHM9e30sc1tuKFwibWF4XCIscildPWkuTFEsdC5vcHRpb25hbC5wdXNoKHMpKTooc1tuKFwiXCIscildPWkuTFEsdC5vcHRpb25hbC5wdXNoKHMpKX12b2lkIDAhPT1pLk1RJiZcIm51bWJlclwiIT10eXBlb2YgaS5NUT8odC5GUT10LkZRfHx7fSx0LkZRW24oXCJcIixyKV09aS5NUSk6W1wibWluXCIsXCJtYXhcIl0uZm9yRWFjaChmdW5jdGlvbihlKXt2b2lkIDAhPT1pW2VdJiYodC5GUT10LkZRfHx7fSx0LkZRW24oZSxyKV09aVtlXSl9KX19KSxlLkJRJiYodC5vcHRpb25hbD0odC5vcHRpb25hbHx8W10pLmNvbmNhdChlLkJRKSksdH0sdD1mdW5jdGlvbih0LHIpe2lmKHQ9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0KSksdCYmdC5ZRSYmKHQuWUU9ZSh0LllFKSksdCYmXCJvYmplY3RcIj09dHlwZW9mIHQudmlkZW8pe3ZhciBzPXQudmlkZW8uVVE7cz1zJiYoXCJvYmplY3RcIj09dHlwZW9mIHM/czp7TFE6c30pO3ZhciBvPW4udmVyc2lvbjw1OTtpZihzJiYoXCJ1c2VyXCI9PT1zLk1RfHxcImVudmlyb25tZW50XCI9PT1zLk1RfHxcInVzZXJcIj09PXMuTFF8fFwiZW52aXJvbm1lbnRcIj09PXMuTFEpJiYoIW5hdmlnYXRvci5tZWRpYURldmljZXMueFF8fCFuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLnhRKCkuVVF8fG8pJiYoZGVsZXRlIHQudmlkZW8uVVEsXCJlbnZpcm9ubWVudFwiPT09cy5NUXx8XCJlbnZpcm9ubWVudFwiPT09cy5MUSkpcmV0dXJuIG5hdmlnYXRvci5tZWRpYURldmljZXMuSFEoKS50aGVuKGZ1bmN0aW9uKG4pe249bi5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuXCJ2aWRlb2lucHV0XCI9PT1lLmtpbmR9KTt2YXIgbz1uLmZpbmQoZnVuY3Rpb24oZSl7cmV0dXJuLTEhPT1lLmxhYmVsLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihcImJhY2tcIil9KXx8bi5sZW5ndGgmJm5bbi5sZW5ndGgtMV07cmV0dXJuIG8mJih0LnZpZGVvLnFRPXMuTVE/e01ROm8ucVF9OntMUTpvLnFRfSksdC52aWRlbz1lKHQudmlkZW8pLGkoXCJjaHJvbWU6IFwiK0pTT04uc3RyaW5naWZ5KHQpKSxyKHQpfSk7dC52aWRlbz1lKHQudmlkZW8pfXJldHVybiBpKFwiY2hyb21lOiBcIitKU09OLnN0cmluZ2lmeSh0KSkscih0KX0scj1mdW5jdGlvbihlKXtyZXR1cm57bmFtZTp7VlE6XCJOb3RBbGxvd2VkRXJyb3JcIixqUTpcIk92ZXJjb25zdHJhaW5lZEVycm9yXCJ9W2UubmFtZV18fGUubmFtZSxtZXNzYWdlOmUubWVzc2FnZSxHUTplLlFRLHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubmFtZSsodGhpcy5tZXNzYWdlJiZcIjogXCIpK3RoaXMubWVzc2FnZX19fSxzPWZ1bmN0aW9uKGUsaSxuKXt0KGUsZnVuY3Rpb24oZSl7bmF2aWdhdG9yLndlYmtpdEdldFVzZXJNZWRpYShlLGksZnVuY3Rpb24oZSl7bihyKGUpKX0pfSl9O25hdmlnYXRvci5nZXRVc2VyTWVkaWE9czt2YXIgbz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24odCxyKXtuYXZpZ2F0b3IuZ2V0VXNlck1lZGlhKGUsdCxyKX0pfTtpZihuYXZpZ2F0b3IubWVkaWFEZXZpY2VzfHwobmF2aWdhdG9yLm1lZGlhRGV2aWNlcz17Z2V0VXNlck1lZGlhOm8sSFE6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24oZSl7dmFyIHQ9e1lFOlwiYXVkaW9pbnB1dFwiLHZpZGVvOlwidmlkZW9pbnB1dFwifTtyZXR1cm4gTWVkaWFTdHJlYW1UcmFjay5nZXRTb3VyY2VzKGZ1bmN0aW9uKHIpe2Uoci5tYXAoZnVuY3Rpb24oZSl7cmV0dXJue2xhYmVsOmUubGFiZWwsa2luZDp0W2Uua2luZF0scVE6ZS5pZCxLUTpcIlwifX0pKX0pfSl9LHhROmZ1bmN0aW9uKCl7cmV0dXJue3FROiEwLFlROiEwLFVROiEwLHpROiEwLGhlaWdodDohMCx3aWR0aDohMH19fSksbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEpe3ZhciBhPW5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhLmJpbmQobmF2aWdhdG9yLm1lZGlhRGV2aWNlcyk7bmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWE9ZnVuY3Rpb24oZSl7cmV0dXJuIHQoZSxmdW5jdGlvbihlKXtyZXR1cm4gYShlKS50aGVuKGZ1bmN0aW9uKHQpe2lmKGUuWUUmJiF0LmdldEF1ZGlvVHJhY2tzKCkubGVuZ3RofHxlLnZpZGVvJiYhdC5nZXRWaWRlb1RyYWNrcygpLmxlbmd0aCl0aHJvdyB0LmdldFRyYWNrcygpLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5zdG9wKCl9KSxuZXcgRE9NRXhjZXB0aW9uKFwiXCIsXCJOb3RGb3VuZEVycm9yXCIpO3JldHVybiB0fSxmdW5jdGlvbihlKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QocihlKSl9KX0pfX1lbHNlIG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhPWZ1bmN0aW9uKGUpe3JldHVybiBvKGUpfTt2b2lkIDA9PT1uYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmFkZEV2ZW50TGlzdGVuZXImJihuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmFkZEV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oKXtpKFwiRHVtbXkgbWVkaWFEZXZpY2VzLmFkZEV2ZW50TGlzdGVuZXIgY2FsbGVkLlwiKX0pLHZvaWQgMD09PW5hdmlnYXRvci5tZWRpYURldmljZXMucmVtb3ZlRXZlbnRMaXN0ZW5lciYmKG5hdmlnYXRvci5tZWRpYURldmljZXMucmVtb3ZlRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbigpe2koXCJEdW1teSBtZWRpYURldmljZXMucmVtb3ZlRXZlbnRMaXN0ZW5lciBjYWxsZWQuXCIpfSl9fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaShlKXt2YXIgdD1lLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm5cImF1ZGlvXCI9PT1lLmtpbmR9KSxyPWUuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVyblwidmlkZW9cIj09PWUua2luZH0pO2ZvcihlPVtdO3QubGVuZ3RofHxyLmxlbmd0aDspdC5sZW5ndGgmJmUucHVzaCh0LnNoaWZ0KCkpLHIubGVuZ3RoJiZlLnB1c2goci5zaGlmdCgpKTtyZXR1cm4gZX1mdW5jdGlvbiBuKGUpe3ZhciB0PSExO3JldHVybiBlPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoZSkpLGUuZmlsdGVyKGZ1bmN0aW9uKGUpe2lmKGUmJihlLkpRfHxlLnVybCkpe3ZhciByPWUuSlF8fGUudXJsLGk9XCJzdHJpbmdcIj09dHlwZW9mIHI7cmV0dXJuIGkmJihyPVtyXSkscj1yLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gMCE9PWUuaW5kZXhPZihcInR1cm46XCIpfHwtMT09PWUuaW5kZXhPZihcInRyYW5zcG9ydD11ZHBcIil8fC0xIT09ZS5pbmRleE9mKFwidHVybjpbXCIpfHx0PzA9PT1lLmluZGV4T2YoXCJzdHVuOlwiKSYmby52ZXJzaW9uPj0xNDM5MzoodD0hMCwhMCl9KSxkZWxldGUgZS51cmwsZS5KUT1pP3JbMF06ciwhIXIubGVuZ3RofXJldHVybiExfSl9dmFyIHM9cigxMjMpLG89cigxNykuRGEsYT17ZV86ZnVuY3Rpb24oKXtpZih3aW5kb3cuV1EmJih3aW5kb3cuUlRDSWNlQ2FuZGlkYXRlfHwod2luZG93LlJUQ0ljZUNhbmRpZGF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gZX0pLHdpbmRvdy5SVENTZXNzaW9uRGVzY3JpcHRpb258fCh3aW5kb3cuUlRDU2Vzc2lvbkRlc2NyaXB0aW9uPWZ1bmN0aW9uKGUpe3JldHVybiBlfSksby52ZXJzaW9uPDE1MDI1KSl7dmFyIGU9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihNZWRpYVN0cmVhbVRyYWNrLnByb3RvdHlwZSxcImVuYWJsZWRcIik7T2JqZWN0LmRlZmluZVByb3BlcnR5KE1lZGlhU3RyZWFtVHJhY2sucHJvdG90eXBlLFwiZW5hYmxlZFwiLHtzZXQ6ZnVuY3Rpb24odCl7ZS5zZXQuY2FsbCh0aGlzLHQpO3ZhciByPW5ldyBFdmVudChcImVuYWJsZWRcIik7ci5lbmFibGVkPXQsdGhpcy5kaXNwYXRjaEV2ZW50KHIpfX0pfXdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbj1mdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO2lmKFtcImFkZEV2ZW50TGlzdGVuZXJcIixcInJlbW92ZUV2ZW50TGlzdGVuZXJcIixcImRpc3BhdGNoRXZlbnRcIl0uZm9yRWFjaChmdW5jdGlvbihlKXt0W2VdPXJbZV0uYmluZChyKX0pLHRoaXMub25pY2VjYW5kaWRhdGU9bnVsbCx0aGlzLm9uYWRkc3RyZWFtPW51bGwsdGhpcy5YUT1udWxsLHRoaXMub25yZW1vdmVzdHJlYW09bnVsbCx0aGlzLm9uc2lnbmFsaW5nc3RhdGVjaGFuZ2U9bnVsbCx0aGlzLm9uaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlPW51bGwsdGhpcy5aUT1udWxsLHRoaXMub25uZWdvdGlhdGlvbm5lZWRlZD1udWxsLHRoaXMub25kYXRhY2hhbm5lbD1udWxsLHRoaXMuJFE9W10sdGhpcy5lSz1bXSx0aGlzLmdldExvY2FsU3RyZWFtcz1mdW5jdGlvbigpe3JldHVybiB0LiRRfSx0aGlzLmdldFJlbW90ZVN0cmVhbXM9ZnVuY3Rpb24oKXtyZXR1cm4gdC5lS30sdGhpcy5sb2NhbERlc2NyaXB0aW9uPW5ldyBSVENTZXNzaW9uRGVzY3JpcHRpb24oe3R5cGU6XCJcIixzZHA6XCJcIn0pLHRoaXMucmVtb3RlRGVzY3JpcHRpb249bmV3IFJUQ1Nlc3Npb25EZXNjcmlwdGlvbih7dHlwZTpcIlwiLHNkcDpcIlwifSksdGhpcy5zaWduYWxpbmdTdGF0ZT1cInN0YWJsZVwiLHRoaXMuaWNlQ29ubmVjdGlvblN0YXRlPVwibmV3XCIsdGhpcy5pY2VHYXRoZXJpbmdTdGF0ZT1cIm5ld1wiLHRoaXMudEs9e3JLOlwiYWxsXCIsaWNlU2VydmVyczpbXX0sZSYmZS5DUSlzd2l0Y2goZS5DUSl7Y2FzZVwiYWxsXCI6Y2FzZVwicmVsYXlcIjp0aGlzLnRLLnJLPWUuQ1F9dGhpcy5pSz1lJiZcIm1heC1idW5kbGVcIj09PWUubkssZSYmZS5pY2VTZXJ2ZXJzJiYodGhpcy50Sy5pY2VTZXJ2ZXJzPW4oZS5pY2VTZXJ2ZXJzKSksdGhpcy5zSz1lLHRoaXMub0s9W10sdGhpcy5hSz1bXX0sd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5oSz1mdW5jdGlvbigpe3ZhciBlPW5ldyBFdmVudChcImljZWdhdGhlcmluZ3N0YXRlY2hhbmdlXCIpO3RoaXMuZGlzcGF0Y2hFdmVudChlKSxudWxsIT09dGhpcy5aUSYmdGhpcy5aUShlKX0sd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5jSz1mdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1zLnVLKGUubG9jYWxEZXNjcmlwdGlvbi5zZHApO3RoaXMuYUsuZm9yRWFjaChmdW5jdGlvbihyKXtpZihyLmNhbmRpZGF0ZSYmMCE9PU9iamVjdC5rZXlzKHIuY2FuZGlkYXRlKS5sZW5ndGgpdFtyLmNhbmRpZGF0ZS5zZHBNTGluZUluZGV4KzFdKz1cImE9XCIrci5jYW5kaWRhdGUuY2FuZGlkYXRlK1wiXFxyXFxuXCI7ZWxzZSBmb3IodmFyIGk9MTtpPHQubGVuZ3RoO2krKyktMT09PXRbaV0uaW5kZXhPZihcIlxcclxcbmE9ZW5kLW9mLWNhbmRpZGF0ZXNcXHJcXG5cIikmJih0W2ldKz1cImE9ZW5kLW9mLWNhbmRpZGF0ZXNcXHJcXG5cIik7aWYoZS5sb2NhbERlc2NyaXB0aW9uLnNkcD10LmpvaW4oXCJcIiksZS5kaXNwYXRjaEV2ZW50KHIpLG51bGwhPT1lLm9uaWNlY2FuZGlkYXRlJiZlLm9uaWNlY2FuZGlkYXRlKHIpLCFyLmNhbmRpZGF0ZSYmXCJjb21wbGV0ZVwiIT09ZS5pY2VHYXRoZXJpbmdTdGF0ZSl7ZS5vSy5ldmVyeShmdW5jdGlvbihlKXtyZXR1cm4gZS5sSyYmXCJjb21wbGV0ZWRcIj09PWUubEsuc3RhdGV9KSYmXCJjb21wbGV0ZVwiIT09ZS5wSyYmKGUuaWNlR2F0aGVyaW5nU3RhdGU9XCJjb21wbGV0ZVwiLGUuaEsoKSl9fSksdGhpcy5hSz1bXX0sd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRDb25maWd1cmF0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc0t9LHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkU3RyZWFtPWZ1bmN0aW9uKGUpe2lmKG8udmVyc2lvbj49MTUwMjUpdGhpcy4kUS5wdXNoKGUpO2Vsc2V7dmFyIHQ9ZS5jbG9uZSgpO2UuZ2V0VHJhY2tzKCkuZm9yRWFjaChmdW5jdGlvbihlLHIpe3ZhciBpPXQuZ2V0VHJhY2tzKClbcl07ZS5hZGRFdmVudExpc3RlbmVyKFwiZW5hYmxlZFwiLGZ1bmN0aW9uKGUpe2kuZW5hYmxlZD1lLmVuYWJsZWR9KX0pLHRoaXMuJFEucHVzaCh0KX10aGlzLmZLKCl9LHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUucmVtb3ZlU3RyZWFtPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuJFEuaW5kZXhPZihlKTt0Pi0xJiYodGhpcy4kUS5zcGxpY2UodCwxKSx0aGlzLmZLKCkpfSx3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFNlbmRlcnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vSy5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuISFlLmRLfSkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLmRLfSl9LHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0UmVjZWl2ZXJzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub0suZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiEhZS5nS30pLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5nS30pfSx3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnZLPWZ1bmN0aW9uKGUsdCl7dmFyIHI9e3lLOltdLG1LOltdLEVLOltdfSxpPWZ1bmN0aW9uKGUsdCl7ZT1wYXJzZUludChlLDEwKTtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKylpZih0W3JdLlRLPT09ZXx8dFtyXS5JSz09PWUpcmV0dXJuIHRbcl19LG49ZnVuY3Rpb24oZSx0LHIsbil7dmFyIHM9aShlLnBhcmFtZXRlcnMud0ssciksbz1pKHQucGFyYW1ldGVycy53SyxuKTtyZXR1cm4gcyYmbyYmcy5uYW1lLnRvTG93ZXJDYXNlKCk9PT1vLm5hbWUudG9Mb3dlckNhc2UoKX07cmV0dXJuIGUueUsuZm9yRWFjaChmdW5jdGlvbihpKXtmb3IodmFyIHM9MDtzPHQueUsubGVuZ3RoO3MrKyl7dmFyIG89dC55S1tzXTtpZihpLm5hbWUudG9Mb3dlckNhc2UoKT09PW8ubmFtZS50b0xvd2VyQ2FzZSgpJiZpLlNLPT09by5TSyl7aWYoXCJydHhcIj09PWkubmFtZS50b0xvd2VyQ2FzZSgpJiZpLnBhcmFtZXRlcnMmJm8ucGFyYW1ldGVycy53SyYmIW4oaSxvLGUueUssdC55SykpY29udGludWU7bz1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG8pKSxvLlJLPU1hdGgubWluKGkuUkssby5SSyksci55Sy5wdXNoKG8pLG8uYks9by5iSy5maWx0ZXIoZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTA7dDxpLmJLLmxlbmd0aDt0KyspaWYoaS5iS1t0XS50eXBlPT09ZS50eXBlJiZpLmJLW3RdLlBLPT09ZS5QSylyZXR1cm4hMDtyZXR1cm4hMX0pO2JyZWFrfX19KSxlLm1LLmZvckVhY2goZnVuY3Rpb24oZSl7Zm9yKHZhciBpPTA7aTx0Lm1LLmxlbmd0aDtpKyspe3ZhciBuPXQubUtbaV07aWYoZS51cmk9PT1uLnVyaSl7ci5tSy5wdXNoKG4pO2JyZWFrfX19KSxyfSx3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLkFLPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxpPW5ldyBSVENJY2VHYXRoZXJlcihyLnRLKSxuPW5ldyBSVENJY2VUcmFuc3BvcnQoaSk7aS5DSz1mdW5jdGlvbihvKXt2YXIgYT1uZXcgRXZlbnQoXCJpY2VjYW5kaWRhdGVcIik7YS5jYW5kaWRhdGU9e3NkcE1pZDplLHNkcE1MaW5lSW5kZXg6dH07dmFyIGg9by5jYW5kaWRhdGUsYz0haHx8MD09PU9iamVjdC5rZXlzKGgpLmxlbmd0aDtjP3ZvaWQgMD09PWkuc3RhdGUmJihpLnN0YXRlPVwiY29tcGxldGVkXCIpOihoLmtLPVwiUlRDUFwiPT09bi5rSz8yOjEsYS5jYW5kaWRhdGUuY2FuZGlkYXRlPXMuT0soaCkpO3ZhciB1PXMudUsoci5sb2NhbERlc2NyaXB0aW9uLnNkcCk7dVthLmNhbmRpZGF0ZS5zZHBNTGluZUluZGV4KzFdKz1jP1wiYT1lbmQtb2YtY2FuZGlkYXRlc1xcclxcblwiOlwiYT1cIithLmNhbmRpZGF0ZS5jYW5kaWRhdGUrXCJcXHJcXG5cIixyLmxvY2FsRGVzY3JpcHRpb24uc2RwPXUuam9pbihcIlwiKTt2YXIgbD1yLl9LP3IuX0s6ci5vSyxwPWwuZXZlcnkoZnVuY3Rpb24oZSl7cmV0dXJuIGUubEsmJlwiY29tcGxldGVkXCI9PT1lLmxLLnN0YXRlfSk7c3dpdGNoKHIuaWNlR2F0aGVyaW5nU3RhdGUpe2Nhc2VcIm5ld1wiOmN8fHIuYUsucHVzaChhKSxjJiZwJiZyLmFLLnB1c2gobmV3IEV2ZW50KFwiaWNlY2FuZGlkYXRlXCIpKTticmVhaztjYXNlXCJnYXRoZXJpbmdcIjpyLmNLKCksY3x8KHIuZGlzcGF0Y2hFdmVudChhKSxudWxsIT09ci5vbmljZWNhbmRpZGF0ZSYmci5vbmljZWNhbmRpZGF0ZShhKSkscCYmKHIuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoXCJpY2VjYW5kaWRhdGVcIikpLG51bGwhPT1yLm9uaWNlY2FuZGlkYXRlJiZyLm9uaWNlY2FuZGlkYXRlKG5ldyBFdmVudChcImljZWNhbmRpZGF0ZVwiKSksci5pY2VHYXRoZXJpbmdTdGF0ZT1cImNvbXBsZXRlXCIsci5oSygpKX19LG4uTks9ZnVuY3Rpb24oKXtyLkRLKCl9O3ZhciBvPW5ldyBSVENEdGxzVHJhbnNwb3J0KG4pO3JldHVybiBvLkZLPWZ1bmN0aW9uKCl7ci5ESygpfSxvLm9uZXJyb3I9ZnVuY3Rpb24oKXtvLnN0YXRlPVwiZmFpbGVkXCIsci5ESygpfSx7bEs6aSxMSzpuLE1LOm99fSx3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLkJLPWZ1bmN0aW9uKGUsdCxyKXt2YXIgaT10aGlzLnZLKGUuVUssZS54Syk7dCYmZS5kSyYmKGkuSEs9ZS5xSyxpLlZLPXtqSzpzLkdLfSxlLlFLLmxlbmd0aCYmKGkuVksuS0s9ZS5RS1swXS5LSyksZS5kSy5zZW5kKGkpKSxyJiZlLmdLJiYoXCJ2aWRlb1wiPT09ZS5raW5kJiZlLlFLJiZvLnZlcnNpb248MTUwMTkmJmUuUUsuZm9yRWFjaChmdW5jdGlvbihlKXtkZWxldGUgZS5ZS30pLGkuSEs9ZS5RSyxpLlZLPXtqSzplLmpLfSxlLnFLLmxlbmd0aCYmKGkuVksuS0s9ZS5xS1swXS5LSyksZS5nSy56SyhpKSl9LHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuc2V0TG9jYWxEZXNjcmlwdGlvbj1mdW5jdGlvbihlKXt2YXIgdCxyLGk9dGhpcztpZihcIm9mZmVyXCI9PT1lLnR5cGUpdGhpcy5fSyYmKHQ9cy51SyhlLnNkcCkscj10LnNoaWZ0KCksdC5mb3JFYWNoKGZ1bmN0aW9uKGUsdCl7dmFyIHI9cy5KSyhlKTtpLl9LW3RdLlVLPXJ9KSx0aGlzLm9LPXRoaXMuX0ssZGVsZXRlIHRoaXMuX0spO2Vsc2UgaWYoXCJhbnN3ZXJcIj09PWUudHlwZSl7dD1zLnVLKGkucmVtb3RlRGVzY3JpcHRpb24uc2RwKSxyPXQuc2hpZnQoKTt2YXIgbj1zLldLKHIsXCJhPWljZS1saXRlXCIpLmxlbmd0aD4wO3QuZm9yRWFjaChmdW5jdGlvbihlLHQpe3ZhciBvPWkub0tbdF0sYT1vLmxLLGg9by5MSyxjPW8uTUssdT1vLlVLLGw9by54SztpZihcIjBcIiE9PWUuc3BsaXQoXCJcXG5cIiwxKVswXS5zcGxpdChcIiBcIiwyKVsxXSYmIW8uWEspe3ZhciBwPXMuWksoZSxyKSxmPXMuJEsoZSxyKTtuJiYoZi5lWT1cInNlcnZlclwiKSxpLmlLJiYwIT09dHx8KGguc3RhcnQoYSxwLG4/XCJjb250cm9sbGluZ1wiOlwiY29udHJvbGxlZFwiKSxjLnN0YXJ0KGYpKTt2YXIgZD1pLnZLKHUsbCk7aS5CSyhvLGQueUsubGVuZ3RoPjAsITEpfX0pfXN3aXRjaCh0aGlzLmxvY2FsRGVzY3JpcHRpb249e3R5cGU6ZS50eXBlLHNkcDplLnNkcH0sZS50eXBlKXtjYXNlXCJvZmZlclwiOnRoaXMudFkoXCJoYXZlLWxvY2FsLW9mZmVyXCIpO2JyZWFrO2Nhc2VcImFuc3dlclwiOnRoaXMudFkoXCJzdGFibGVcIik7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgVHlwZUVycm9yKCd1bnN1cHBvcnRlZCB0eXBlIFwiJytlLnR5cGUrJ1wiJyl9dmFyIG89YXJndW1lbnRzLmxlbmd0aD4xJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBhcmd1bWVudHNbMV07aWYobyl7dmFyIGE9YXJndW1lbnRzWzFdO3dpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YSgpLFwibmV3XCI9PT1pLmljZUdhdGhlcmluZ1N0YXRlJiYoaS5pY2VHYXRoZXJpbmdTdGF0ZT1cImdhdGhlcmluZ1wiLGkuaEsoKSksaS5jSygpfSwwKX12YXIgaD1Qcm9taXNlLnJlc29sdmUoKTtyZXR1cm4gaC50aGVuKGZ1bmN0aW9uKCl7b3x8KFwibmV3XCI9PT1pLmljZUdhdGhlcmluZ1N0YXRlJiYoaS5pY2VHYXRoZXJpbmdTdGF0ZT1cImdhdGhlcmluZ1wiLGkuaEsoKSksd2luZG93LnNldFRpbWVvdXQoaS5jSy5iaW5kKGkpLDUwMCkpfSksaH0sd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5zZXRSZW1vdGVEZXNjcmlwdGlvbj1mdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9bmV3IE1lZGlhU3RyZWFtLGk9W10sbj1zLnVLKGUuc2RwKSxhPW4uc2hpZnQoKSxoPXMuV0soYSxcImE9aWNlLWxpdGVcIikubGVuZ3RoPjA7c3dpdGNoKHRoaXMuaUs9cy5XSyhhLFwiYT1ncm91cDpCVU5ETEUgXCIpLmxlbmd0aD4wLG4uZm9yRWFjaChmdW5jdGlvbihuLGMpe3ZhciB1PXMuclkobiksbD11WzBdLnN1YnN0cigyKS5zcGxpdChcIiBcIikscD1sWzBdLGY9XCIwXCI9PT1sWzFdLGQ9cy5pWShuLGEpLGc9cy5XSyhuLFwiYT1taWQ6XCIpO2lmKGc9Zy5sZW5ndGg/Z1swXS5zdWJzdHIoNik6cy5uWSgpLFwiYXBwbGljYXRpb25cIj09PXAmJlwiRFRMUy9TQ1RQXCI9PT1sWzJdKXJldHVybiB2b2lkKHQub0tbY109e3NZOmcsWEs6ITB9KTt2YXIgdix5LG0sRSxULEksdyxTLFIsYixQLEEsQz1zLkpLKG4pO2Z8fChQPXMuWksobixhKSxBPXMuJEsobixhKSxBLmVZPVwiY2xpZW50XCIpLFM9cy5vWShuKTt2YXIgayxPPXMuV0sobixcImE9c3NyYzpcIikubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBzLmFZKGUpfSkuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVyblwiY25hbWVcIj09PWUuaFl9KVswXTtPJiYoaz1PLnZhbHVlKTt2YXIgXz1zLldLKG4sXCJhPWVuZC1vZi1jYW5kaWRhdGVzXCIsYSkubGVuZ3RoPjAsTj1zLldLKG4sXCJhPWNhbmRpZGF0ZTpcIikubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBzLlFNKGUpfSkuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVyblwiMVwiPT09ZS5rS30pO2lmKFwib2ZmZXJcIiE9PWUudHlwZXx8ZilcImFuc3dlclwiIT09ZS50eXBlfHxmfHwodj10Lm9LW2NdLHk9di5sSyxtPXYuTEssRT12Lk1LLFQ9di5kSyxJPXYuZ0ssdz12LnFLLFI9di5VSyx0Lm9LW2NdLlFLPVMsdC5vS1tjXS54Sz1DLHQub0tbY10uaks9aywoaHx8XykmJk4ubGVuZ3RoJiZtLmNZKE4pLHQuaUsmJjAhPT1jfHwobS5zdGFydCh5LFAsXCJjb250cm9sbGluZ1wiKSxFLnN0YXJ0KEEpKSx0LkJLKHYsXCJzZW5kcmVjdlwiPT09ZHx8XCJyZWN2b25seVwiPT09ZCxcInNlbmRyZWN2XCI9PT1kfHxcInNlbmRvbmx5XCI9PT1kKSwhSXx8XCJzZW5kcmVjdlwiIT09ZCYmXCJzZW5kb25seVwiIT09ZD9kZWxldGUgdi5nSzooYj1JLnRyYWNrLGkucHVzaChbYixJXSksci5hZGRUcmFjayhiKSkpO2Vsc2V7dmFyIEQ9dC5pSyYmYz4wP3tsSzp0Lm9LWzBdLmxLLExLOnQub0tbMF0uTEssTUs6dC5vS1swXS5NS306dC5BSyhnLGMpO2lmKCFffHx0LmlLJiYwIT09Y3x8RC5MSy5jWShOKSxSPVJUQ1J0cFJlY2VpdmVyLnVZKHApLG8udmVyc2lvbjwxNTAxOSYmKFIueUs9Ui55Sy5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuXCJydHhcIiE9PWUubmFtZX0pKSx3PVt7S0s6MTAwMSooMipjKzIpfV0sXCJzZW5kcmVjdlwiIT09ZCYmXCJzZW5kb25seVwiIT09ZHx8KEk9bmV3IFJUQ1J0cFJlY2VpdmVyKEQuTUsscCksYj1JLnRyYWNrLGkucHVzaChbYixJXSksci5hZGRUcmFjayhiKSksdC4kUS5sZW5ndGg+MCYmdC4kUVswXS5nZXRUcmFja3MoKS5sZW5ndGg+PWMpe3ZhciBGO1wiYXVkaW9cIj09PXA/Rj10LiRRWzBdLmdldEF1ZGlvVHJhY2tzKClbMF06XCJ2aWRlb1wiPT09cCYmKEY9dC4kUVswXS5nZXRWaWRlb1RyYWNrcygpWzBdKSxGJiYoby52ZXJzaW9uPj0xNTAxOSYmXCJ2aWRlb1wiPT09cCYmKHdbMF0uWUs9e0tLOjEwMDEqKDIqYysyKSsxfSksVD1uZXcgUlRDUnRwU2VuZGVyKEYsRC5NSykpfXQub0tbY109e2xLOkQubEssTEs6RC5MSyxNSzpELk1LLFVLOlIseEs6QyxkSzpULGdLOkksa2luZDpwLHNZOmcsaks6ayxxSzp3LFFLOlN9LHQuQksodC5vS1tjXSwhMSxcInNlbmRyZWN2XCI9PT1kfHxcInNlbmRvbmx5XCI9PT1kKX19KSx0aGlzLnJlbW90ZURlc2NyaXB0aW9uPXt0eXBlOmUudHlwZSxzZHA6ZS5zZHB9LGUudHlwZSl7Y2FzZVwib2ZmZXJcIjp0aGlzLnRZKFwiaGF2ZS1yZW1vdGUtb2ZmZXJcIik7YnJlYWs7Y2FzZVwiYW5zd2VyXCI6dGhpcy50WShcInN0YWJsZVwiKTticmVhaztkZWZhdWx0OnRocm93IG5ldyBUeXBlRXJyb3IoJ3Vuc3VwcG9ydGVkIHR5cGUgXCInK2UudHlwZSsnXCInKX1yZXR1cm4gci5nZXRUcmFja3MoKS5sZW5ndGgmJih0LmVLLnB1c2gociksd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgZT1uZXcgRXZlbnQoXCJhZGRzdHJlYW1cIik7ZS5zdHJlYW09cix0LmRpc3BhdGNoRXZlbnQoZSksbnVsbCE9PXQub25hZGRzdHJlYW0mJndpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5vbmFkZHN0cmVhbShlKX0sMCksaS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciBpPWVbMF0sbj1lWzFdLHM9bmV3IEV2ZW50KFwidHJhY2tcIik7cy50cmFjaz1pLHMucmVjZWl2ZXI9bixzLmhvPVtyXSx0LmRpc3BhdGNoRXZlbnQocyksbnVsbCE9PXQuWFEmJndpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5YUShzKX0sMCl9KX0sMCkpLGFyZ3VtZW50cy5sZW5ndGg+MSYmXCJmdW5jdGlvblwiPT10eXBlb2YgYXJndW1lbnRzWzFdJiZ3aW5kb3cuc2V0VGltZW91dChhcmd1bWVudHNbMV0sMCksUHJvbWlzZS5yZXNvbHZlKCl9LHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oKXt0aGlzLm9LLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5MSyYmZS5MSy5zdG9wKCksZS5NSyYmZS5NSy5zdG9wKCksZS5kSyYmZS5kSy5zdG9wKCksZS5nSyYmZS5nSy5zdG9wKCl9KSx0aGlzLnRZKFwiY2xvc2VkXCIpfSx3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnRZPWZ1bmN0aW9uKGUpe3RoaXMuc2lnbmFsaW5nU3RhdGU9ZTt2YXIgdD1uZXcgRXZlbnQoXCJzaWduYWxpbmdzdGF0ZWNoYW5nZVwiKTt0aGlzLmRpc3BhdGNoRXZlbnQodCksbnVsbCE9PXRoaXMub25zaWduYWxpbmdzdGF0ZWNoYW5nZSYmdGhpcy5vbnNpZ25hbGluZ3N0YXRlY2hhbmdlKHQpfSx3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmZLPWZ1bmN0aW9uKCl7dmFyIGU9bmV3IEV2ZW50KFwibmVnb3RpYXRpb25uZWVkZWRcIik7dGhpcy5kaXNwYXRjaEV2ZW50KGUpLG51bGwhPT10aGlzLm9ubmVnb3RpYXRpb25uZWVkZWQmJnRoaXMub25uZWdvdGlhdGlvbm5lZWRlZChlKX0sd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5ESz1mdW5jdGlvbigpe3ZhciBlLHQ9dGhpcyxyPXtsWTowLGNsb3NlZDowLHBZOjAsZlk6MCxjb25uZWN0ZWQ6MCxkWTowLHhuOjB9O2lmKHRoaXMub0suZm9yRWFjaChmdW5jdGlvbihlKXtyW2UuTEsuc3RhdGVdKysscltlLk1LLnN0YXRlXSsrfSksci5jb25uZWN0ZWQrPXIuZFksZT1cIm5ld1wiLHIueG4+MD9lPVwiZmFpbGVkXCI6ci5wWT4wfHxyLmZZPjA/ZT1cImNvbm5lY3RpbmdcIjpyLmdZPjA/ZT1cImRpc2Nvbm5lY3RlZFwiOnIubFk+MD9lPVwibmV3XCI6KHIuY29ubmVjdGVkPjB8fHIuZFk+MCkmJihlPVwiY29ubmVjdGVkXCIpLGUhPT10LmljZUNvbm5lY3Rpb25TdGF0ZSl7dC5pY2VDb25uZWN0aW9uU3RhdGU9ZTt2YXIgaT1uZXcgRXZlbnQoXCJpY2Vjb25uZWN0aW9uc3RhdGVjaGFuZ2VcIik7dGhpcy5kaXNwYXRjaEV2ZW50KGkpLG51bGwhPT10aGlzLm9uaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlJiZ0aGlzLm9uaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlKGkpfX0sd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5jcmVhdGVPZmZlcj1mdW5jdGlvbigpe3ZhciBlPXRoaXM7aWYodGhpcy5fSyl0aHJvdyBuZXcgRXJyb3IoXCJjcmVhdGVPZmZlciBjYWxsZWQgd2hpbGUgdGhlcmUgaXMgYSBwZW5kaW5nIG9mZmVyLlwiKTt2YXIgdDsxPT09YXJndW1lbnRzLmxlbmd0aCYmXCJmdW5jdGlvblwiIT10eXBlb2YgYXJndW1lbnRzWzBdP3Q9YXJndW1lbnRzWzBdOjM9PT1hcmd1bWVudHMubGVuZ3RoJiYodD1hcmd1bWVudHNbMl0pO3ZhciByPVtdLG49MCxhPTA7aWYodGhpcy4kUS5sZW5ndGgmJihuPXRoaXMuJFFbMF0uZ2V0QXVkaW9UcmFja3MoKS5sZW5ndGgsYT10aGlzLiRRWzBdLmdldFZpZGVvVHJhY2tzKCkubGVuZ3RoKSx0KXtpZih0LkZRfHx0Lm9wdGlvbmFsKXRocm93IG5ldyBUeXBlRXJyb3IoXCJMZWdhY3kgbWFuZGF0b3J5L29wdGlvbmFsIGNvbnN0cmFpbnRzIG5vdCBzdXBwb3J0ZWQuXCIpO3ZvaWQgMCE9PXQudlkmJihuPXQudlkpLHZvaWQgMCE9PXQueVkmJihhPXQueVkpfWZvcih0aGlzLiRRLmxlbmd0aCYmdGhpcy4kUVswXS5nZXRUcmFja3MoKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3IucHVzaCh7a2luZDplLmtpbmQsdHJhY2s6ZSxtWTpcImF1ZGlvXCI9PT1lLmtpbmQ/bj4wOmE+MH0pLFwiYXVkaW9cIj09PWUua2luZD9uLS06XCJ2aWRlb1wiPT09ZS5raW5kJiZhLS19KTtuPjB8fGE+MDspbj4wJiYoci5wdXNoKHtraW5kOlwiYXVkaW9cIixtWTohMH0pLG4tLSksYT4wJiYoci5wdXNoKHtraW5kOlwidmlkZW9cIixtWTohMH0pLGEtLSk7cj1pKHIpO3ZhciBoPXMuRVkoKSxjPVtdO3IuZm9yRWFjaChmdW5jdGlvbih0LHIpe3ZhciBpPXQudHJhY2ssbj10LmtpbmQsYT1zLm5ZKCksaD1lLmlLJiZyPjA/e2xLOmNbMF0ubEssTEs6Y1swXS5MSyxNSzpjWzBdLk1LfTplLkFLKGEsciksdT1SVENSdHBTZW5kZXIudVkobik7by52ZXJzaW9uPDE1MDE5JiYodS55Sz11LnlLLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm5cInJ0eFwiIT09ZS5uYW1lfSkpLHUueUsuZm9yRWFjaChmdW5jdGlvbihlKXtcIkgyNjRcIj09PWUubmFtZSYmdm9pZCAwPT09ZS5wYXJhbWV0ZXJzW1wiVFlcIl0mJihlLnBhcmFtZXRlcnNbXCJUWVwiXT1cIjFcIil9KTt2YXIgbCxwLGY9W3tLSzoxMDAxKigyKnIrMSl9XTtpJiYoby52ZXJzaW9uPj0xNTAxOSYmXCJ2aWRlb1wiPT09biYmKGZbMF0uWUs9e0tLOjEwMDEqKDIqcisxKSsxfSksbD1uZXcgUlRDUnRwU2VuZGVyKGksaC5NSykpLHQubVkmJihwPW5ldyBSVENSdHBSZWNlaXZlcihoLk1LLG4pKSxjW3JdPXtsSzpoLmxLLExLOmguTEssTUs6aC5NSyxVSzp1LHhLOm51bGwsZEs6bCxnSzpwLGtpbmQ6bixzWTphLHFLOmYsUUs6bnVsbH19KSx0aGlzLmlLJiYoaCs9XCJhPWdyb3VwOkJVTkRMRSBcIitjLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5zWX0pLmpvaW4oXCIgXCIpK1wiXFxyXFxuXCIpLHIuZm9yRWFjaChmdW5jdGlvbih0LHIpe3ZhciBpPWNbcl07aCs9cy5JWShpLGkuVUssXCJvZmZlclwiLGUuJFFbMF0pfSksdGhpcy5fSz1jO3ZhciB1PW5ldyBSVENTZXNzaW9uRGVzY3JpcHRpb24oe3R5cGU6XCJvZmZlclwiLHNkcDpofSk7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGgmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGFyZ3VtZW50c1swXSYmd2luZG93LnNldFRpbWVvdXQoYXJndW1lbnRzWzBdLDAsdSksUHJvbWlzZS5yZXNvbHZlKHUpfSx3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmNyZWF0ZUFuc3dlcj1mdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1zLkVZKCk7dGhpcy5pSyYmKHQrPVwiYT1ncm91cDpCVU5ETEUgXCIrdGhpcy5vSy5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuc1l9KS5qb2luKFwiIFwiKStcIlxcclxcblwiKSx0aGlzLm9LLmZvckVhY2goZnVuY3Rpb24ocil7aWYoci5YSylyZXR1cm4gdm9pZCh0Kz1cIm09YXBwbGljYXRpb24gMCBEVExTL1NDVFAgNTAwMFxcclxcbmM9SU4gSVA0IDAuMC4wLjBcXHJcXG5hPW1pZDpcIityLnNZK1wiXFxyXFxuXCIpO3ZhciBpPWUudksoci5VSyxyLnhLKTt0Kz1zLklZKHIsaSxcImFuc3dlclwiLGUuJFFbMF0pfSk7dmFyIHI9bmV3IFJUQ1Nlc3Npb25EZXNjcmlwdGlvbih7dHlwZTpcImFuc3dlclwiLHNkcDp0fSk7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGgmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGFyZ3VtZW50c1swXSYmd2luZG93LnNldFRpbWVvdXQoYXJndW1lbnRzWzBdLDAsciksUHJvbWlzZS5yZXNvbHZlKHIpfSx3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZEljZUNhbmRpZGF0ZT1mdW5jdGlvbihlKXtpZihlKXt2YXIgdD1lLnNkcE1MaW5lSW5kZXg7aWYoZS5zZHBNaWQpZm9yKHZhciByPTA7cjx0aGlzLm9LLmxlbmd0aDtyKyspaWYodGhpcy5vS1tyXS5zWT09PWUuc2RwTWlkKXt0PXI7YnJlYWt9dmFyIGk9dGhpcy5vS1t0XTtpZihpKXt2YXIgbj1PYmplY3Qua2V5cyhlLmNhbmRpZGF0ZSkubGVuZ3RoPjA/cy5RTShlLmNhbmRpZGF0ZSk6e307aWYoXCJ0Y3BcIj09PW4ucHJvdG9jb2wmJigwPT09bi5wb3J0fHw5PT09bi5wb3J0KSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7aWYoXCIxXCIhPT1uLmtLKXJldHVybiBQcm9taXNlLnJlc29sdmUoKTtpLkxLLndZKG4pO3ZhciBvPXMudUsodGhpcy5yZW1vdGVEZXNjcmlwdGlvbi5zZHApO29bdCsxXSs9KG4udHlwZT9lLmNhbmRpZGF0ZS50cmltKCk6XCJhPWVuZC1vZi1jYW5kaWRhdGVzXCIpK1wiXFxyXFxuXCIsdGhpcy5yZW1vdGVEZXNjcmlwdGlvbi5zZHA9by5qb2luKFwiXCIpfX1lbHNlIGZvcih2YXIgYT0wO2E8dGhpcy5vSy5sZW5ndGg7YSsrKWlmKHRoaXMub0tbYV0uTEsud1koe30pLHRoaXMuaUspcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO3JldHVybiBhcmd1bWVudHMubGVuZ3RoPjEmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGFyZ3VtZW50c1sxXSYmd2luZG93LnNldFRpbWVvdXQoYXJndW1lbnRzWzFdLDApLFByb21pc2UucmVzb2x2ZSgpfSx3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFN0YXRzPWZ1bmN0aW9uKCl7dmFyIGU9W107dGhpcy5vSy5mb3JFYWNoKGZ1bmN0aW9uKHQpe1tcInJ0cFNlbmRlclwiLFwicnRwUmVjZWl2ZXJcIixcImljZUdhdGhlcmVyXCIsXCJpY2VUcmFuc3BvcnRcIixcImR0bHNUcmFuc3BvcnRcIl0uZm9yRWFjaChmdW5jdGlvbihyKXt0W3JdJiZlLnB1c2godFtyXS5nZXRTdGF0cygpKX0pfSk7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBhcmd1bWVudHNbMV0mJmFyZ3VtZW50c1sxXSxyPWZ1bmN0aW9uKGUpe3JldHVybntTWTpcImluYm91bmQtcnRwXCIsUlk6XCJvdXRib3VuZC1ydHBcIixiWTpcImNhbmRpZGF0ZS1wYWlyXCIsX1E6XCJsb2NhbC1jYW5kaWRhdGVcIixOUTpcInJlbW90ZS1jYW5kaWRhdGVcIn1bZS50eXBlXXx8ZS50eXBlfTtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24oaSl7dmFyIG49bmV3IE1hcDtQcm9taXNlLmFsbChlKS50aGVuKGZ1bmN0aW9uKGUpe2UuZm9yRWFjaChmdW5jdGlvbihlKXtPYmplY3Qua2V5cyhlKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2VbdF0udHlwZT1yKGVbdF0pLG4uc2V0KHQsZVt0XSl9KX0pLHQmJndpbmRvdy5zZXRUaW1lb3V0KHQsMCxuKSxpKG4pfSl9KX19fTtlLnQ9e2VfOmEuZV8scl86cigxMjQpfX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXt9O2kublk9ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsMTApfSxpLkdLPWkublkoKSxpLnJZPWZ1bmN0aW9uKGUpe3JldHVybiBlLnRyaW0oKS5zcGxpdChcIlxcblwiKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUudHJpbSgpfSl9LGkudUs9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3BsaXQoXCJcXG5tPVwiKS5tYXAoZnVuY3Rpb24oZSx0KXtyZXR1cm4odD4wP1wibT1cIitlOmUpLnRyaW0oKStcIlxcclxcblwifSl9LGkuV0s9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaS5yWShlKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIDA9PT1lLmluZGV4T2YodCl9KX0saS5RTT1mdW5jdGlvbihlKXt2YXIgdDt0PTA9PT1lLmluZGV4T2YoXCJhPWNhbmRpZGF0ZTpcIik/ZS5zdWJzdHJpbmcoMTIpLnNwbGl0KFwiIFwiKTplLnN1YnN0cmluZygxMCkuc3BsaXQoXCIgXCIpO2Zvcih2YXIgcj17UFk6dFswXSxrSzp0WzFdLHByb3RvY29sOnRbMl0udG9Mb3dlckNhc2UoKSxBWTpwYXJzZUludCh0WzNdLDEwKSxDWTp0WzRdLHBvcnQ6cGFyc2VJbnQodFs1XSwxMCksdHlwZTp0WzddfSxpPTg7aTx0Lmxlbmd0aDtpKz0yKXN3aXRjaCh0W2ldKXtjYXNlXCJyYWRkclwiOnIua1k9dFtpKzFdO2JyZWFrO2Nhc2VcInJwb3J0XCI6ci5PWT1wYXJzZUludCh0W2krMV0sMTApO2JyZWFrO2Nhc2VcInRjcHR5cGVcIjpyLl9ZPXRbaSsxXTticmVhaztkZWZhdWx0OnJbdFtpXV09dFtpKzFdfXJldHVybiByfSxpLk9LPWZ1bmN0aW9uKGUpe3ZhciB0PVtdO3QucHVzaChlLlBZKSx0LnB1c2goZS5rSyksdC5wdXNoKGUucHJvdG9jb2wudG9VcHBlckNhc2UoKSksdC5wdXNoKGUuQVkpLHQucHVzaChlLkNZKSx0LnB1c2goZS5wb3J0KTt2YXIgcj1lLnR5cGU7cmV0dXJuIHQucHVzaChcInR5cFwiKSx0LnB1c2gociksXCJob3N0XCIhPT1yJiZlLmtZJiZlLk9ZJiYodC5wdXNoKFwicmFkZHJcIiksdC5wdXNoKGUua1kpLHQucHVzaChcInJwb3J0XCIpLHQucHVzaChlLk9ZKSksZS5fWSYmXCJ0Y3BcIj09PWUucHJvdG9jb2wudG9Mb3dlckNhc2UoKSYmKHQucHVzaChcInRjcHR5cGVcIiksdC5wdXNoKGUuX1kpKSxcImNhbmRpZGF0ZTpcIit0LmpvaW4oXCIgXCIpfSxpLk5ZPWZ1bmN0aW9uKGUpe3JldHVybiBlLnN1YnN0cigxNCkuc3BsaXQoXCIgXCIpfSxpLkRZPWZ1bmN0aW9uKGUpe3ZhciB0PWUuc3Vic3RyKDkpLnNwbGl0KFwiIFwiKSxyPXtUSzpwYXJzZUludCh0LnNoaWZ0KCksMTApfTtyZXR1cm4gdD10WzBdLnNwbGl0KFwiL1wiKSxyLm5hbWU9dFswXSxyLlNLPXBhcnNlSW50KHRbMV0sMTApLHIuUks9Mz09PXQubGVuZ3RoP3BhcnNlSW50KHRbMl0sMTApOjEscn0saS5GWT1mdW5jdGlvbihlKXt2YXIgdD1lLlRLO3JldHVybiB2b2lkIDAhPT1lLklLJiYodD1lLklLKSxcImE9cnRwbWFwOlwiK3QrXCIgXCIrZS5uYW1lK1wiL1wiK2UuU0srKDEhPT1lLlJLP1wiL1wiK2UuUks6XCJcIikrXCJcXHJcXG5cIn0saS5MWT1mdW5jdGlvbihlKXt2YXIgdD1lLnN1YnN0cig5KS5zcGxpdChcIiBcIik7cmV0dXJue2lkOnBhcnNlSW50KHRbMF0sMTApLGRpcmVjdGlvbjp0WzBdLmluZGV4T2YoXCIvXCIpPjA/dFswXS5zcGxpdChcIi9cIilbMV06XCJzZW5kcmVjdlwiLHVyaTp0WzFdfX0saS5NWT1mdW5jdGlvbihlKXtyZXR1cm5cImE9ZXh0bWFwOlwiKyhlLmlkfHxlLkJZKSsoZS5kaXJlY3Rpb24mJlwic2VuZHJlY3ZcIiE9PWUuZGlyZWN0aW9uP1wiL1wiK2UuZGlyZWN0aW9uOlwiXCIpK1wiIFwiK2UudXJpK1wiXFxyXFxuXCJ9LGkuVVk9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LHI9e30saT1lLnN1YnN0cihlLmluZGV4T2YoXCIgXCIpKzEpLnNwbGl0KFwiO1wiKSxuPTA7bjxpLmxlbmd0aDtuKyspdD1pW25dLnRyaW0oKS5zcGxpdChcIj1cIiksclt0WzBdLnRyaW0oKV09dFsxXTtyZXR1cm4gcn0saS54WT1mdW5jdGlvbihlKXt2YXIgdD1cIlwiLHI9ZS5USztpZih2b2lkIDAhPT1lLklLJiYocj1lLklLKSxlLnBhcmFtZXRlcnMmJk9iamVjdC5rZXlzKGUucGFyYW1ldGVycykubGVuZ3RoKXt2YXIgaT1bXTtPYmplY3Qua2V5cyhlLnBhcmFtZXRlcnMpLmZvckVhY2goZnVuY3Rpb24odCl7aS5wdXNoKHQrXCI9XCIrZS5wYXJhbWV0ZXJzW3RdKX0pLHQrPVwiYT1mbXRwOlwiK3IrXCIgXCIraS5qb2luKFwiO1wiKStcIlxcclxcblwifXJldHVybiB0fSxpLkhZPWZ1bmN0aW9uKGUpe3ZhciB0PWUuc3Vic3RyKGUuaW5kZXhPZihcIiBcIikrMSkuc3BsaXQoXCIgXCIpO3JldHVybnt0eXBlOnQuc2hpZnQoKSxQSzp0LmpvaW4oXCIgXCIpfX0saS5xWT1mdW5jdGlvbihlKXt2YXIgdD1cIlwiLHI9ZS5USztyZXR1cm4gdm9pZCAwIT09ZS5JSyYmKHI9ZS5JSyksZS5iSyYmZS5iSy5sZW5ndGgmJmUuYksuZm9yRWFjaChmdW5jdGlvbihlKXt0Kz1cImE9cnRjcC1mYjpcIityK1wiIFwiK2UudHlwZSsoZS5QSyYmZS5QSy5sZW5ndGg/XCIgXCIrZS5QSzpcIlwiKStcIlxcclxcblwifSksdH0saS5hWT1mdW5jdGlvbihlKXt2YXIgdD1lLmluZGV4T2YoXCIgXCIpLHI9e0tLOnBhcnNlSW50KGUuc3Vic3RyKDcsdC03KSwxMCl9LGk9ZS5pbmRleE9mKFwiOlwiLHQpO3JldHVybiBpPi0xPyhyLmhZPWUuc3Vic3RyKHQrMSxpLXQtMSksci52YWx1ZT1lLnN1YnN0cihpKzEpKTpyLmhZPWUuc3Vic3RyKHQrMSkscn0saS5WWT1mdW5jdGlvbihlKXt2YXIgdD1pLldLKGUsXCJhPW1pZDpcIilbMF07aWYodClyZXR1cm4gdC5zdWJzdHIoNil9LGkualk9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zdWJzdHIoMTQpLnNwbGl0KFwiIFwiKTtyZXR1cm57YWxnb3JpdGhtOnRbMF0udG9Mb3dlckNhc2UoKSx2YWx1ZTp0WzFdfX0saS4kSz1mdW5jdGlvbihlLHQpe3JldHVybntlWTpcImF1dG9cIixHWTppLldLKGUrdCxcImE9ZmluZ2VycHJpbnQ6XCIpLm1hcChpLmpZKX19LGkuUVk9ZnVuY3Rpb24oZSx0KXt2YXIgcj1cImE9c2V0dXA6XCIrdCtcIlxcclxcblwiO3JldHVybiBlLkdZLmZvckVhY2goZnVuY3Rpb24oZSl7cis9XCJhPWZpbmdlcnByaW50OlwiK2UuYWxnb3JpdGhtK1wiIFwiK2UudmFsdWUrXCJcXHJcXG5cIn0pLHJ9LGkuWks9ZnVuY3Rpb24oZSx0KXt2YXIgcj1pLnJZKGUpO3JldHVybiByPXIuY29uY2F0KGkuclkodCkpLHtLWTpyLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gMD09PWUuaW5kZXhPZihcImE9aWNlLXVmcmFnOlwiKX0pWzBdLnN1YnN0cigxMikscGFzc3dvcmQ6ci5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIDA9PT1lLmluZGV4T2YoXCJhPWljZS1wd2Q6XCIpfSlbMF0uc3Vic3RyKDEwKX19LGkuWVk9ZnVuY3Rpb24oZSl7cmV0dXJuXCJhPWljZS11ZnJhZzpcIitlLktZK1wiXFxyXFxuYT1pY2UtcHdkOlwiK2UucGFzc3dvcmQrXCJcXHJcXG5cIn0saS5KSz1mdW5jdGlvbihlKXtmb3IodmFyIHQ9e3lLOltdLG1LOltdLEVLOltdLFZLOltdfSxyPWkuclkoZSksbj1yWzBdLnNwbGl0KFwiIFwiKSxzPTM7czxuLmxlbmd0aDtzKyspe3ZhciBvPW5bc10sYT1pLldLKGUsXCJhPXJ0cG1hcDpcIitvK1wiIFwiKVswXTtpZihhKXt2YXIgaD1pLkRZKGEpLGM9aS5XSyhlLFwiYT1mbXRwOlwiK28rXCIgXCIpO3N3aXRjaChoLnBhcmFtZXRlcnM9Yy5sZW5ndGg/aS5VWShjWzBdKTp7fSxoLmJLPWkuV0soZSxcImE9cnRjcC1mYjpcIitvK1wiIFwiKS5tYXAoaS5IWSksdC55Sy5wdXNoKGgpLGgubmFtZS50b1VwcGVyQ2FzZSgpKXtjYXNlXCJSRURcIjpjYXNlXCJVTFBGRUNcIjp0LkVLLnB1c2goaC5uYW1lLnRvVXBwZXJDYXNlKCkpfX19cmV0dXJuIGkuV0soZSxcImE9ZXh0bWFwOlwiKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3QubUsucHVzaChpLkxZKGUpKX0pLHR9LGkuelk9ZnVuY3Rpb24oZSx0KXt2YXIgcj1cIlwiO3IrPVwibT1cIitlK1wiIFwiLHIrPXQueUsubGVuZ3RoPjA/XCI5XCI6XCIwXCIscis9XCIgVURQL1RMUy9SVFAvU0FWUEYgXCIscis9dC55Sy5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMCE9PWUuSUs/ZS5JSzplLlRLfSkuam9pbihcIiBcIikrXCJcXHJcXG5cIixyKz1cImM9SU4gSVA0IDAuMC4wLjBcXHJcXG5cIixyKz1cImE9cnRjcDo5IElOIElQNCAwLjAuMC4wXFxyXFxuXCIsdC55Sy5mb3JFYWNoKGZ1bmN0aW9uKGUpe3IrPWkuRlkoZSkscis9aS54WShlKSxyKz1pLnFZKGUpfSk7dmFyIG49MDtyZXR1cm4gdC55Sy5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UuSlk+biYmKG49ZS5KWSl9KSxuPjAmJihyKz1cImE9bWF4cHRpbWU6XCIrbitcIlxcclxcblwiKSxyKz1cImE9cnRjcC1tdXhcXHJcXG5cIix0Lm1LLmZvckVhY2goZnVuY3Rpb24oZSl7cis9aS5NWShlKX0pLHJ9LGkub1k9ZnVuY3Rpb24oZSl7dmFyIHQscj1bXSxuPWkuSksoZSkscz0tMSE9PW4uRUsuaW5kZXhPZihcIlJFRFwiKSxvPS0xIT09bi5FSy5pbmRleE9mKFwiVUxQRkVDXCIpLGE9aS5XSyhlLFwiYT1zc3JjOlwiKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGkuYVkoZSl9KS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuXCJjbmFtZVwiPT09ZS5oWX0pLGg9YS5sZW5ndGg+MCYmYVswXS5LSyxjPWkuV0soZSxcImE9c3NyYy1ncm91cDpGSURcIikubWFwKGZ1bmN0aW9uKGUpe3ZhciB0PWUuc3BsaXQoXCIgXCIpO3JldHVybiB0LnNoaWZ0KCksdC5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIHBhcnNlSW50KGUsMTApfSl9KTtjLmxlbmd0aD4wJiZjWzBdLmxlbmd0aD4xJiZjWzBdWzBdPT09aCYmKHQ9Y1swXVsxXSksbi55Sy5mb3JFYWNoKGZ1bmN0aW9uKGUpe2lmKFwiUlRYXCI9PT1lLm5hbWUudG9VcHBlckNhc2UoKSYmZS5wYXJhbWV0ZXJzLndLKXt2YXIgaT17S0s6aCxXWTpwYXJzZUludChlLnBhcmFtZXRlcnMud0ssMTApLFlLOntLSzp0fX07ci5wdXNoKGkpLHMmJihpPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoaSkpLGkuWFk9e0tLOnQsWlk6bz9cInJlZCt1bHBmZWNcIjpcInJlZFwifSxyLnB1c2goaSkpfX0pLDA9PT1yLmxlbmd0aCYmaCYmci5wdXNoKHtLSzpofSk7dmFyIHU9aS5XSyhlLFwiYj1cIik7cmV0dXJuIHUubGVuZ3RoJiYoMD09PXVbMF0uaW5kZXhPZihcImI9VElBUzpcIik/dT1wYXJzZUludCh1WzBdLnN1YnN0cig3KSwxMCk6MD09PXVbMF0uaW5kZXhPZihcImI9QVM6XCIpJiYodT1wYXJzZUludCh1WzBdLnN1YnN0cig1KSwxMCkpLHIuZm9yRWFjaChmdW5jdGlvbihlKXtlLiRZPXV9KSkscn0saS5lej1mdW5jdGlvbihlKXt2YXIgdD17fSxyPWkuV0soZSxcImE9c3NyYzpcIikubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBpLmFZKGUpfSkuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVyblwiY25hbWVcIj09PWUuaFl9KVswXTtyJiYodC5qSz1yLnZhbHVlLHQuS0s9ci5LSyk7dmFyIG49aS5XSyhlLFwiYT1ydGNwLXJzaXplXCIpO3QudHo9bi5sZW5ndGg+MCx0LnJ6PTA9PT1uLmxlbmd0aDt2YXIgcz1pLldLKGUsXCJhPXJ0Y3AtbXV4XCIpO3JldHVybiB0Lml6PXMubGVuZ3RoPjAsdH0saS5uej1mdW5jdGlvbihlKXt2YXIgdCxyPWkuV0soZSxcImE9bXNpZDpcIik7aWYoMT09PXIubGVuZ3RoKXJldHVybiB0PXJbMF0uc3Vic3RyKDcpLnNwbGl0KFwiIFwiKSx7c3RyZWFtOnRbMF0sdHJhY2s6dFsxXX07dmFyIG49aS5XSyhlLFwiYT1zc3JjOlwiKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGkuYVkoZSl9KS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuXCJtc2lkXCI9PT1lLmhZfSk7cmV0dXJuIG4ubGVuZ3RoPjA/KHQ9blswXS52YWx1ZS5zcGxpdChcIiBcIikse3N0cmVhbTp0WzBdLHRyYWNrOnRbMV19KTp2b2lkIDB9LGkuRVk9ZnVuY3Rpb24oKXtyZXR1cm5cInY9MFxcclxcbm89dGhpc2lzYWRhcHRlcm9ydGMgODE2OTYzOTkxNTY0Njk0MzEzNyAyIElOIElQNCAxMjcuMC4wLjFcXHJcXG5zPS1cXHJcXG50PTAgMFxcclxcblwifSxpLklZPWZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBzPWkuelkoZS5raW5kLHQpO2lmKHMrPWkuWVkoZS5sSy5zeigpKSxzKz1pLlFZKGUuTUsuc3ooKSxcIm9mZmVyXCI9PT1yP1wiYWN0cGFzc1wiOlwiYWN0aXZlXCIpLHMrPVwiYT1taWQ6XCIrZS5zWStcIlxcclxcblwiLGUuZGlyZWN0aW9uP3MrPVwiYT1cIitlLmRpcmVjdGlvbitcIlxcclxcblwiOmUuZEsmJmUuZ0s/cys9XCJhPXNlbmRyZWN2XFxyXFxuXCI6ZS5kSz9zKz1cImE9c2VuZG9ubHlcXHJcXG5cIjplLmdLP3MrPVwiYT1yZWN2b25seVxcclxcblwiOnMrPVwiYT1pbmFjdGl2ZVxcclxcblwiLGUuZEspe3ZhciBvPVwibXNpZDpcIituLmlkK1wiIFwiK2UuZEsudHJhY2suaWQrXCJcXHJcXG5cIjtzKz1cImE9XCIrbyxzKz1cImE9c3NyYzpcIitlLnFLWzBdLktLK1wiIFwiK28sZS5xS1swXS5ZSyYmKHMrPVwiYT1zc3JjOlwiK2UucUtbMF0uWUsuS0srXCIgXCIrbyxzKz1cImE9c3NyYy1ncm91cDpGSUQgXCIrZS5xS1swXS5LSytcIiBcIitlLnFLWzBdLllLLktLK1wiXFxyXFxuXCIpfXJldHVybiBzKz1cImE9c3NyYzpcIitlLnFLWzBdLktLK1wiIGNuYW1lOlwiK2kuR0srXCJcXHJcXG5cIixlLmRLJiZlLnFLWzBdLllLJiYocys9XCJhPXNzcmM6XCIrZS5xS1swXS5ZSy5LSytcIiBjbmFtZTpcIitpLkdLK1wiXFxyXFxuXCIpLHN9LGkuaVk9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9aS5yWShlKSxuPTA7bjxyLmxlbmd0aDtuKyspc3dpdGNoKHJbbl0pe2Nhc2VcImE9c2VuZHJlY3ZcIjpjYXNlXCJhPXNlbmRvbmx5XCI6Y2FzZVwiYT1yZWN2b25seVwiOmNhc2VcImE9aW5hY3RpdmVcIjpyZXR1cm4gcltuXS5zdWJzdHIoMil9cmV0dXJuIHQ/aS5pWSh0KTpcInNlbmRyZWN2XCJ9LGkub3o9ZnVuY3Rpb24oZSl7cmV0dXJuIGkuclkoZSlbMF0uc3BsaXQoXCIgXCIpWzBdLnN1YnN0cigyKX0saS5ZZT1mdW5jdGlvbihlKXtyZXR1cm5cIjBcIj09PWUuc3BsaXQoXCIgXCIsMilbMV19LGUudD1pfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ZS50PWZ1bmN0aW9uKCl7dmFyIGU9ZnVuY3Rpb24oZSl7cmV0dXJue25hbWU6e1ZROlwiTm90QWxsb3dlZEVycm9yXCJ9W2UubmFtZV18fGUubmFtZSxtZXNzYWdlOmUubWVzc2FnZSxHUTplLkdRLHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubmFtZX19fSx0PW5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhLmJpbmQobmF2aWdhdG9yLm1lZGlhRGV2aWNlcyk7bmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWE9ZnVuY3Rpb24ocil7cmV0dXJuIHQocikuY2F0Y2goZnVuY3Rpb24odCl7cmV0dXJuIFByb21pc2UucmVqZWN0KGUodCkpfSl9fX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXIoMTcpLkRhLG49e3NfOmZ1bmN0aW9uKCl7XCJvYmplY3RcIiE9dHlwZW9mIHdpbmRvd3x8IXdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbnx8XCJvbnRyYWNrXCJpbiB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlfHxPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZSxcIm9udHJhY2tcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMud1F9LHNldDpmdW5jdGlvbihlKXt0aGlzLndRJiYodGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKFwidHJhY2tcIix0aGlzLndRKSx0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJhZGRzdHJlYW1cIix0aGlzLlNRKSksdGhpcy5hZGRFdmVudExpc3RlbmVyKFwidHJhY2tcIix0aGlzLndRPWUpLHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihcImFkZHN0cmVhbVwiLHRoaXMuU1E9ZnVuY3Rpb24oZSl7ZS5zdHJlYW0uZ2V0VHJhY2tzKCkuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgcj1uZXcgRXZlbnQoXCJ0cmFja1wiKTtyLnRyYWNrPXQsci5yZWNlaXZlcj17dHJhY2s6dH0sci5obz1bZS5zdHJlYW1dLHRoaXMuZGlzcGF0Y2hFdmVudChyKX0uYmluZCh0aGlzKSl9LmJpbmQodGhpcykpfX0pfSxuXzpmdW5jdGlvbigpe1wib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3cmJighd2luZG93LkhUTUxNZWRpYUVsZW1lbnR8fFwic3JjT2JqZWN0XCJpbiB3aW5kb3cuSFRNTE1lZGlhRWxlbWVudC5wcm90b3R5cGV8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3cuSFRNTE1lZGlhRWxlbWVudC5wcm90b3R5cGUsXCJzcmNPYmplY3RcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubW96U3JjT2JqZWN0fSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5tb3pTcmNPYmplY3Q9ZX19KSl9LGVfOmZ1bmN0aW9uKCl7aWYoXCJvYmplY3RcIj09dHlwZW9mIHdpbmRvdyYmKHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbnx8d2luZG93Lm1velJUQ1BlZXJDb25uZWN0aW9uKSl7d2luZG93LlJUQ1BlZXJDb25uZWN0aW9ufHwod2luZG93LlJUQ1BlZXJDb25uZWN0aW9uPWZ1bmN0aW9uKGUsdCl7aWYoaS52ZXJzaW9uPDM4JiZlJiZlLmljZVNlcnZlcnMpe2Zvcih2YXIgcj1bXSxuPTA7bjxlLmljZVNlcnZlcnMubGVuZ3RoO24rKyl7dmFyIHM9ZS5pY2VTZXJ2ZXJzW25dO2lmKHMuaGFzT3duUHJvcGVydHkoXCJ1cmxzXCIpKWZvcih2YXIgbz0wO288cy5KUS5sZW5ndGg7bysrKXt2YXIgYT17dXJsOnMuSlFbb119OzA9PT1zLkpRW29dLmluZGV4T2YoXCJ0dXJuXCIpJiYoYS51c2VybmFtZT1zLnVzZXJuYW1lLGEuYXo9cy5heiksci5wdXNoKGEpfWVsc2Ugci5wdXNoKGUuaWNlU2VydmVyc1tuXSl9ZS5pY2VTZXJ2ZXJzPXJ9cmV0dXJuIG5ldyBtb3pSVENQZWVyQ29ubmVjdGlvbihlLHQpfSx3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlPW1velJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZSxtb3pSVENQZWVyQ29ubmVjdGlvbi5PUSYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbixcImdlbmVyYXRlQ2VydGlmaWNhdGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG1velJUQ1BlZXJDb25uZWN0aW9uLk9RfX0pLHdpbmRvdy5SVENTZXNzaW9uRGVzY3JpcHRpb249bW96UlRDU2Vzc2lvbkRlc2NyaXB0aW9uLHdpbmRvdy5SVENJY2VDYW5kaWRhdGU9bW96UlRDSWNlQ2FuZGlkYXRlKSxbXCJzZXRMb2NhbERlc2NyaXB0aW9uXCIsXCJzZXRSZW1vdGVEZXNjcmlwdGlvblwiLFwiYWRkSWNlQ2FuZGlkYXRlXCJdLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9UlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlW2VdO1JUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZVtlXT1mdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHNbMF09bmV3KFwiYWRkSWNlQ2FuZGlkYXRlXCI9PT1lP1JUQ0ljZUNhbmRpZGF0ZTpSVENTZXNzaW9uRGVzY3JpcHRpb24pKGFyZ3VtZW50c1swXSksdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSk7dmFyIGU9UlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZEljZUNhbmRpZGF0ZTtSVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkSWNlQ2FuZGlkYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c1swXT9lLmFwcGx5KHRoaXMsYXJndW1lbnRzKTooYXJndW1lbnRzWzFdJiZhcmd1bWVudHNbMV0uYXBwbHkobnVsbCksUHJvbWlzZS5yZXNvbHZlKCkpfTt2YXIgdD1mdW5jdGlvbihlKXt2YXIgdD1uZXcgTWFwO3JldHVybiBPYmplY3Qua2V5cyhlKS5mb3JFYWNoKGZ1bmN0aW9uKHIpe3Quc2V0KHIsZVtyXSksdFtyXT1lW3JdfSksdH0scj17U1k6XCJpbmJvdW5kLXJ0cFwiLFJZOlwib3V0Ym91bmQtcnRwXCIsYlk6XCJjYW5kaWRhdGUtcGFpclwiLF9ROlwibG9jYWwtY2FuZGlkYXRlXCIsTlE6XCJyZW1vdGUtY2FuZGlkYXRlXCJ9LG49UlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFN0YXRzO1JUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRTdGF0cz1mdW5jdGlvbihlLHMsbyl7cmV0dXJuIG4uYXBwbHkodGhpcyxbZXx8bnVsbF0pLnRoZW4oZnVuY3Rpb24oZSl7aWYoaS52ZXJzaW9uPDQ4JiYoZT10KGUpKSxpLnZlcnNpb248NTMmJiFzKXRyeXtlLmZvckVhY2goZnVuY3Rpb24oZSl7ZS50eXBlPXJbZS50eXBlXXx8ZS50eXBlfSl9Y2F0Y2godCl7aWYoXCJUeXBlRXJyb3JcIiE9PXQubmFtZSl0aHJvdyB0O2UuZm9yRWFjaChmdW5jdGlvbih0LGkpe2Uuc2V0KGksT2JqZWN0LmFzc2lnbih7fSx0LHt0eXBlOnJbdC50eXBlXXx8dC50eXBlfSkpfSl9cmV0dXJuIGV9KS50aGVuKHMsbyl9fX19O2UudD17c186bi5zXyxuXzpuLm5fLGVfOm4uZV8scl86cigxMjYpfX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXIoMTcpLmxvZyxuPXIoMTcpLkRhO2UudD1mdW5jdGlvbigpe3ZhciBlPWZ1bmN0aW9uKGUpe3JldHVybntuYW1lOntoejpcIk5vdEFsbG93ZWRFcnJvclwiLFZROlwiTm90QWxsb3dlZEVycm9yXCJ9W2UubmFtZV18fGUubmFtZSxtZXNzYWdlOntcIlRoZSBvcGVyYXRpb24gaXMgaW5zZWN1cmUuXCI6XCJUaGUgcmVxdWVzdCBpcyBub3QgYWxsb3dlZCBieSB0aGUgdXNlciBhZ2VudCBvciB0aGUgcGxhdGZvcm0gaW4gdGhlIGN1cnJlbnQgY29udGV4dC5cIn1bZS5tZXNzYWdlXXx8ZS5tZXNzYWdlLEdROmUuR1EsdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uYW1lKyh0aGlzLm1lc3NhZ2UmJlwiOiBcIikrdGhpcy5tZXNzYWdlfX19LHQ9ZnVuY3Rpb24odCxyLHMpe3ZhciBvPWZ1bmN0aW9uKGUpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlfHxlLmN6KXJldHVybiBlO3ZhciB0PVtdO3JldHVybiBPYmplY3Qua2V5cyhlKS5mb3JFYWNoKGZ1bmN0aW9uKHIpe2lmKFwicmVxdWlyZVwiIT09ciYmXCJhZHZhbmNlZFwiIT09ciYmXCJtZWRpYVNvdXJjZVwiIT09cil7dmFyIGk9ZVtyXT1cIm9iamVjdFwiPT10eXBlb2YgZVtyXT9lW3JdOntMUTplW3JdfTtpZih2b2lkIDA9PT1pLm1pbiYmdm9pZCAwPT09aS5tYXgmJnZvaWQgMD09PWkuTVF8fHQucHVzaChyKSx2b2lkIDAhPT1pLk1RJiYoXCJudW1iZXJcIj09dHlwZW9mIGkuTVE/aS5taW49aS5tYXg9aS5NUTplW3JdPWkuTVEsZGVsZXRlIGkuTVEpLHZvaWQgMCE9PWkuTFEpe2UuQlE9ZS5CUXx8W107dmFyIG49e307XCJudW1iZXJcIj09dHlwZW9mIGkuTFE/bltyXT17bWluOmkuTFEsbWF4OmkuTFF9Om5bcl09aS5MUSxlLkJRLnB1c2gobiksZGVsZXRlIGkuTFEsT2JqZWN0LmtleXMoaSkubGVuZ3RofHxkZWxldGUgZVtyXX19fSksdC5sZW5ndGgmJihlLmN6PXQpLGV9O3JldHVybiB0PUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodCkpLG4udmVyc2lvbjwzOCYmKGkoXCJzcGVjOiBcIitKU09OLnN0cmluZ2lmeSh0KSksdC5ZRSYmKHQuWUU9byh0LllFKSksdC52aWRlbyYmKHQudmlkZW89byh0LnZpZGVvKSksaShcImZmMzc6IFwiK0pTT04uc3RyaW5naWZ5KHQpKSksbmF2aWdhdG9yLm1vekdldFVzZXJNZWRpYSh0LHIsZnVuY3Rpb24odCl7cyhlKHQpKX0pfSxyPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyLGkpe3QoZSxyLGkpfSl9O2lmKG5hdmlnYXRvci5tZWRpYURldmljZXN8fChuYXZpZ2F0b3IubWVkaWFEZXZpY2VzPXtnZXRVc2VyTWVkaWE6cixhZGRFdmVudExpc3RlbmVyOmZ1bmN0aW9uKCl7fSxyZW1vdmVFdmVudExpc3RlbmVyOmZ1bmN0aW9uKCl7fX0pLG5hdmlnYXRvci5tZWRpYURldmljZXMuSFE9bmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5IUXx8ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24oZSl7ZShbe2tpbmQ6XCJhdWRpb2lucHV0XCIscVE6XCJkZWZhdWx0XCIsbGFiZWw6XCJcIixLUTpcIlwifSx7a2luZDpcInZpZGVvaW5wdXRcIixxUTpcImRlZmF1bHRcIixsYWJlbDpcIlwiLEtROlwiXCJ9XSl9KX0sbi52ZXJzaW9uPDQxKXt2YXIgcz1uYXZpZ2F0b3IubWVkaWFEZXZpY2VzLkhRLmJpbmQobmF2aWdhdG9yLm1lZGlhRGV2aWNlcyk7bmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5IUT1mdW5jdGlvbigpe3JldHVybiBzKCkudGhlbih2b2lkIDAsZnVuY3Rpb24oZSl7aWYoXCJOb3RGb3VuZEVycm9yXCI9PT1lLm5hbWUpcmV0dXJuW107dGhyb3cgZX0pfX1pZihuLnZlcnNpb248NDkpe3ZhciBvPW5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhLmJpbmQobmF2aWdhdG9yLm1lZGlhRGV2aWNlcyk7bmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWE9ZnVuY3Rpb24odCl7cmV0dXJuIG8odCkudGhlbihmdW5jdGlvbihlKXtpZih0LllFJiYhZS5nZXRBdWRpb1RyYWNrcygpLmxlbmd0aHx8dC52aWRlbyYmIWUuZ2V0VmlkZW9UcmFja3MoKS5sZW5ndGgpdGhyb3cgZS5nZXRUcmFja3MoKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2Uuc3RvcCgpfSksbmV3IERPTUV4Y2VwdGlvbihcIlRoZSBvYmplY3QgY2FuIG5vdCBiZSBmb3VuZCBoZXJlLlwiLFwiTm90Rm91bmRFcnJvclwiKTtyZXR1cm4gZX0sZnVuY3Rpb24odCl7cmV0dXJuIFByb21pc2UucmVqZWN0KGUodCkpfSl9fW5hdmlnYXRvci5nZXRVc2VyTWVkaWE9ZnVuY3Rpb24oZSxyLGkpe2lmKG4udmVyc2lvbjw0NClyZXR1cm4gdChlLHIsaSk7Y29uc29sZS53YXJuKFwibmF2aWdhdG9yLmdldFVzZXJNZWRpYSBoYXMgYmVlbiByZXBsYWNlZCBieSBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYVwiKSxuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYShlKS50aGVuKHIsaSl9fX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXtyXzpmdW5jdGlvbigpe25hdmlnYXRvci5nZXRVc2VyTWVkaWF8fChuYXZpZ2F0b3Iud2Via2l0R2V0VXNlck1lZGlhP25hdmlnYXRvci5nZXRVc2VyTWVkaWE9bmF2aWdhdG9yLndlYmtpdEdldFVzZXJNZWRpYS5iaW5kKG5hdmlnYXRvcik6bmF2aWdhdG9yLm1lZGlhRGV2aWNlcyYmbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEmJihuYXZpZ2F0b3IuZ2V0VXNlck1lZGlhPWZ1bmN0aW9uKGUsdCxyKXtuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYShlKS50aGVuKHQscil9LmJpbmQobmF2aWdhdG9yKSkpfX07ZS50PXtyXzppLnJffX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXRoaXMmJnRoaXMuTnN8fGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gcigpe3RoaXMuY29uc3RydWN0b3I9ZX1mb3IodmFyIGkgaW4gdCl0Lmhhc093blByb3BlcnR5KGkpJiYoZVtpXT10W2ldKTtlLnByb3RvdHlwZT1udWxsPT09dD9PYmplY3QuY3JlYXRlKHQpOihyLnByb3RvdHlwZT10LnByb3RvdHlwZSxuZXcgcil9LG49cigyMCk7IWZ1bmN0aW9uKGUpeyFmdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gaSh0LGUpLHR9KG4uZ24ub3UuYXUpO2UuYV89dH0oZS5vdXx8KGUub3U9e30pKX0odC5nbnx8KHQuZ249e30pKX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQscil7dGhpcy5pc0xpdmU9ZSx0aGlzLnByb3RvY29sPXQsdGhpcy5TQj1yfXJldHVybiBlLnByb3RvdHlwZS5aRj1mdW5jdGlvbigpe3ZhciBlPW5ldyBoaXZlLnNuYXBzaG90cy5TdHJlYW1JbmZvO3JldHVybiBlLnN0cmVhbVR5cGU9dGhpcy5pc0xpdmU/U3RyZWFtVHlwZS5MSVZFOlN0cmVhbVR5cGUueEcsZS5zdHJlYW1Qcm90b2NvbD10aGlzLnByb3RvY29sLGUudXJsPXRoaXMuU0IsZX0sZX0oKTt0LndfPWl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT10aGlzJiZ0aGlzLk5zfHxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIHIoKXt0aGlzLmNvbnN0cnVjdG9yPWV9Zm9yKHZhciBpIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShpKSYmKGVbaV09dFtpXSk7ZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KTooci5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IHIpfSxuPXIoMikscz1yKDUyKSxvPXIoMCksYT1yKDEzMSksaD1yKDY4KSxjPXIoMTkpLHU9cig1MyksbD1yKDE5NSkscD1yKDI2KSxmPXIoNyksZD1yKDY5KSxnPXIoNCksdj1yKDQxKSx5PWwuZ24ub3UsbT1wLmduLkhpdmVUZWNoRXJyb3IsRT1wLmduLmNFLFQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChyLGksbil7dmFyIHM9ZS5jYWxsKHRoaXMscixpKXx8dGhpcztyZXR1cm4gcy5vcHRpb25zXz1uZXcgeS51eix2b2lkIDAhPWlbdC5jX10mJmYudnMoaVt0LmNfXSxzLm9wdGlvbnNfKSxzLlZqPW4sc31yZXR1cm4gaSh0LGUpLHQucHJvdG90eXBlLkZuPWZ1bmN0aW9uKCl7cmV0dXJuIHQuY199LHQucHJvdG90eXBlLmdldFZlcnNpb249ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0sdC5wcm90b3R5cGUudV89ZnVuY3Rpb24oKXtyZXR1cm4hMH0sdC5wcm90b3R5cGUubF89ZnVuY3Rpb24oKXtyZXR1cm4gaC53SS5JST90aGlzLmx6KCkmJnRoaXMuVk0oKT9uLnJlc29sdmUoITApOm4ucmVqZWN0KG5ldyBtKEUubkUsXCJXZWJSVEMgRGF0YUNoYW5uZWxzIG5vdCBzdXBwb3J0ZWQgYnkgYnJvd3NlclwiKSk6bi5yZWplY3QobmV3IG0oRS5uRSxcIk5vdCBpbmNsdWRlZCBpbiB0aGUgcGFnZVwiKSl9LHQucHJvdG90eXBlLmluaXRTZXNzaW9uPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztyZXR1cm4gdGhpcy5sXygpLnRoZW4oZnVuY3Rpb24oKXt2YXIgaT10LnRpY2tldDtyLlRfKCk7dmFyIG49aS5MQSgpOzA9PT1uLmluZGV4T2YoXCIvL1wiKSYmKG49bG9jYXRpb24ucHJvdG9jb2wrbik7dmFyIHM9ci5wXyhlLGksbix0KTtyZXR1cm4gZC52bi5ibihyLHMuaWQpLGQudm4uWEQoci5oXyxzLmlkKSxmLkhpdmVSZXF1ZXN0RmFjdG9yeS5ibihzLmlkLHIuRm4oKSksd2luZG93JiZ3aW5kb3cucHomJndpbmRvdy5weihyLmhfLkhqKCk+di5TQS52QS5pbmZvLHMuaWQpLHN9KX0sdC5wcm90b3R5cGUuY2k9ZnVuY3Rpb24oZSx0KXt2YXIgcj10Lm1hbmlmZXN0LnRvTG93ZXJDYXNlKCksaT1lLnRvTG93ZXJDYXNlKCksbj1yLmluZGV4T2YoXCIuaXNtL21hbmlmZXN0XCIpO2lmKG4+LTEpe3ZhciBzPXIuc3Vic3RyaW5nKDAsbik7aWYoaS5pbmRleE9mKHMpPi0xKXJldHVybiBpLmluZGV4T2YoXCIuaXNtL21hbmlmZXN0KGZvcm1hdD1tcGQtdGltZS1jc2YpXCIpPi0xP3RoaXMuZno/KHQudGlja2V0LlNvdXJjZVVSTD1lLCEwKTp0aGlzLmR6KHQsXCJUaGUgcGxheWVyIGRvZXMgbm90IHVzZSBIaXZlUmVxdWVzdCwgZG93bmdyYWRpbmcgdG8gU3RhdHNKU1wiKTp0aGlzLmR6KHQsXCJQcm90b2NvbCBub3Qgc3VwcG9ydGVkIGJ5IEhpdmVKUyB0ZWNoLCBkb3duZ3JhZGluZyB0byBTdGF0c0pTXCIpfWVsc2UgaWYoaT09PXIpcmV0dXJuISF0aGlzLmZ6fHx0aGlzLmR6KHQsXCJUaGUgcGxheWVyIGRvZXMgbm90IHVzZSBIaXZlUmVxdWVzdCwgZG93bmdyYWRpbmcgdG8gU3RhdHNKU1wiKTtyZXR1cm4hMX0sdC5wcm90b3R5cGUuTm49ZnVuY3Rpb24odCxyKXt3aW5kb3cmJndpbmRvdy5neiYmd2luZG93Lmd6KCksZS5wcm90b3R5cGUuTm4uY2FsbCh0aGlzLHQscik7dmFyIGk9aC53SS5JSSgpO2lmKGkpe2kudnoodC5pZCkuT24oYy5fYy5JRExFKX1yJiYoZi5IaXZlUmVxdWVzdEZhY3RvcnkuUm4odC5pZCksaS55eigpKX0sdC5wcm90b3R5cGUuZHo9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS50ZWNoPXRoaXMuVmosZi5IaXZlUmVxdWVzdEZhY3RvcnkuYm4oZS5pZCx1LlN0YXRzSlMuY18pLHRoaXMuZnomJnRoaXMuZnoucmVzb2x2ZSgpLHRoaXMuZno9dm9pZCAwLHRoaXMuaF8udGUoKS53YXJuKFwiW0hpdmVKU10gXCIrdCksdGhpcy5vbkVycm9yKG5ldyBtKEUub0UsdCkpLHdpbmRvdyYmd2luZG93Lmd6JiZ3aW5kb3cuZ3ooKSwhMH0sdC5wcm90b3R5cGUuJEQ9ZnVuY3Rpb24oZSl7dGhpcy5mej1lfSx0LnByb3RvdHlwZS5vbkFjdGl2ZVNlc3Npb249ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztvLkZyYW1ld29yay5KKCkuYXBwbHkobmV3IGEubXooITApKTt2YXIgcj1oLndJLklJKCk7aWYoci5zdGFydChlLkNuLCExKS50aGVuKGZ1bmN0aW9uKGkpe2lmKHQuVF8oKSx0LklfPWUuQ24sdC5JXy5UaChoLndJLkpjKCksaC53SS5nZXRWZXJzaW9uKCkpLHQuSV8uRmMuaW5pdCh0LklfLkRjLGUudGlja2V0LnNlc3Npb25JZCksZS5hdXRoZW50aWNhdGlvblRva2VuKXt2YXIgbj1yLnZ6KGUudGlja2V0LnNlc3Npb25JZCk7biYmbi5Uei5Fei5rTihlLmF1dGhlbnRpY2F0aW9uVG9rZW4pfXQuZnomJnIuVEkodC5meixlLkNuLnRpY2tldC5zZXNzaW9uSWQpLHQuSV8udGMuVG4oZS50aWNrZXQuc2Vzc2lvbklkLHQuaF8uYl8oKSwyMDApO3ZhciBzPXQuaF8uUF8oKTtzJiZzLmxlbmd0aD4wJiZ0LklfLnRjLkRoKHMpLHQuaF8ud2godC5JXyl9KSx2b2lkIDAhPXRoaXMub3B0aW9ucygpLm9uQWN0aXZlU2Vzc2lvbil0cnl7dGhpcy5vcHRpb25zKCkub25BY3RpdmVTZXNzaW9uKGUuRG4oKSl9Y2F0Y2goZSl7Zy5FcnJvck1vbml0b3IuZ2koKS5kaShcImV4Y2VwdGlvbiBpbiB1c2VyLWRlZmluZWQgb25BY3RpdmVTZXNzaW9uIGNhbGxiYWNrXCIsXCJbSGl2ZUpTXVwiLGUpfX0sdC5wcm90b3R5cGUuT249ZnVuY3Rpb24oZSx0KXt9LHQucHJvdG90eXBlLnBfPWZ1bmN0aW9uKGUsdCxyLGkpe3ZhciBuPW5ldyBmLkJuKGUsdCxyLGkpO3JldHVybiBuLk9fPSEwLG4uaWQ9bi50aWNrZXQuc2Vzc2lvbklkLG59LHQucHJvdG90eXBlLm1fPWZ1bmN0aW9uKCl7fSx0LnByb3RvdHlwZS5sej1mdW5jdGlvbigpe3JldHVyblwic2FmYXJpXCIhPXMuRGEuT2F9LHQucHJvdG90eXBlLlZNPWZ1bmN0aW9uKCl7dHJ5e3JldHVybiBudWxsIT1zLkNhJiZudWxsIT1zLnRfJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBuZXcgUlRDUGVlckNvbm5lY3Rpb24obnVsbCxudWxsKS5jcmVhdGVEYXRhQ2hhbm5lbH1jYXRjaChlKXtyZXR1cm4hMX19LHR9KHUuU3RhdHNKUyk7VC5jXz1cIkhpdmVKU1wiLHQuSGl2ZUpTPVR9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1yKDM3KSxuPXIoMCkscz1yKDQxKSxvPXIoOSksYT1yKDE5KSxoPXIoNzIpLGM9cig3MyksdT1yKDc1KSxsPXIoNzEpLHA9cigxOCksZj1yKDE1KSxkPXIoMTMyKSxnPXIoMTM1KSx2PXIoMTM2KSx5PXIoODUpLG09cigxNTIpLEU9cigxNTMpLFQ9cigxNTQpLEk9cigxNTUpLHc9cigxNTYpLFM9cig5MiksUj1yKDE2OSksYj1yKDE3MCksUD1yKDE3MSksQT1yKDQ1KSxDPXIoMjMpLGs9cigxNzIpLE89cigxNzYpLF89cigxNzcpLE49cigxNzgpLEQ9cigxNzkpLEY9cigxODEpLEw9cigxODIpLE09cigxODMpLEI9cigxODQpLFU9cig3NikseD1yKDE4NSksSD1yKDE4NikscT1yKDE4OCksVj1yKDUpLGo9cigxODkpLEc9Vi5SdC5QaSxRPVYuUnQuQWksSz1WLlJ0LkNpLFk9Vi5SdC5PaTtpZihRKXZhciB6PXIoMTkwKS5JeixKPXIoMTkyKS53ejtpZihLKXZhciBXPXIoODkpLmNIO2lmKEcpdmFyIFg9cigxOTMpLlN6O2lmKFkpdmFyIFo9cig3Nykudk07ZWxzZSB2YXIgJD1yKDc5KS56TTt2YXIgZWU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMuUno9ITEsZSYmKHRoaXMuUno9ZSl9cmV0dXJuIGUucHJvdG90eXBlLmFwcGx5PWZ1bmN0aW9uKGUpe3RoaXMuUno/WSYmZS5iaW5kKG5ldyBpLlFQKG8uUXMuVXMsWixpLktQLlpQKSk6KGUuYmluZChuZXcgaS5RUChvLlFzLnFzLGEuWmMsaS5LUC5aUCkpLGUuYmluZChuZXcgaS5RUChvLlFzLkgsaC5PTCxpLktQLlpQKSksZS5iaW5kKG5ldyBpLlFQKG8uUXMuQnMsYy5CTCxpLktQLlpQKSksZS5iaW5kKG5ldyBpLlFQKG8uUXMuRCx1Lm9NLGkuS1AuWlApKSxlLmJpbmQobmV3IGkuUVAobi5GcmFtZXdvcmsucS5JLHMuU0Eud0EsaS5LUC5aUCkpLGUuYmluZChuZXcgaS5RUChvLlFzLk1zLGwuU3RhdHMudmMsaS5LUC5zQSkpLGUuYmluZChuZXcgaS5RUChvLlFzLmpzLHAua2MuJGgsaS5LUC5zQSkpLGUuYmluZChuZXcgaS5RUChvLlFzLkdzLHAua2MudmMsaS5LUC5zQSkpLFk/ZS5iaW5kKG5ldyBpLlFQKG8uUXMuVXMsWixpLktQLlpQKSk6ZS5iaW5kKG5ldyBpLlFQKG8uUXMuVXMsJCxpLktQLlpQKSkpLGUuYmluZChuZXcgaS5RUChmLlBhLldvLGouYnosaS5LUC5zQSkpLGUuYmluZChuZXcgaS5RUChvLlFzLnhzLFUudU0saS5LUC5aUCkpLGUuYmluZChuZXcgaS5RUChmLlBhLklhLE0uUHosaS5LUC5aUCkpLGUuYmluZChuZXcgaS5RUChmLlBhLnBhLGQuQXosaS5LUC5aUCkpLGUuYmluZChuZXcgaS5RUChmLlBhLmhhLGcuQ3osaS5LUC5zQSkpLGUuYmluZChuZXcgaS5RUChmLlBhLmZhLHYua3osaS5LUC5zQSkpLGUuYmluZChuZXcgaS5RUChmLlBhLmlhLG0uU3IsaS5LUC5zQSkpLGUuYmluZChuZXcgaS5RUChmLlBhLm5hLHkuJFUsaS5LUC5zQSkpLEcmJmUuYmluZChuZXcgaS5RUChmLlBhLnNhLFgsaS5LUC5zQSkpLGUuYmluZChuZXcgaS5RUChmLlBhLnVhLEUuT3osaS5LUC5zQSkpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBIaXZlT3JpZ2luYWxYTUxIdHRwUmVxdWVzdD9lLmJpbmQobmV3IGkuUVAobi5GcmFtZXdvcmsucS5CLEhpdmVPcmlnaW5hbFhNTEh0dHBSZXF1ZXN0KSk6ZS5iaW5kKG5ldyBpLlFQKG4uRnJhbWV3b3JrLnEuQixYTUxIdHRwUmVxdWVzdCkpLGUuYmluZChuZXcgaS5RUChmLlBhLlRhLEwuX3osaS5LUC5aUCkpLGUuYmluZChuZXcgaS5RUChmLlBhLnlhLFQuTnosaS5LUC5zQSkpLGUuYmluZChuZXcgaS5RUChuLkZyYW1ld29yay5xLkYsay5EeixpLktQLlpQKSksZS5iaW5kKG5ldyBpLlFQKGYuUGEuVSxPLkZ6LGkuS1AuWlApKSxlLmJpbmQobmV3IGkuUVAoZi5QYS5hYSxCLkx6LGkuS1Auc0EpKSxlLmJpbmQobmV3IGkuUVAoZi5QYS5vYSxJLk16LGkuS1Auc0EpKSxlLmJpbmQobmV3IGkuUVAoZi5QYS5Ybyx3LlFyLGkuS1Auc0EpKSxlLmJpbmQobmV3IGkuUVAoZi5QYS5abyxTLk5WLGkuS1Auc0EpKSxlLmJpbmQobmV3IGkuUVAoZi5QYS4kbyxILkJ6LGkuS1Auc0EpKSxlLmJpbmQobmV3IGkuUVAoZi5QYS5lYSxILlV6LGkuS1Auc0EpKSxlLmJpbmQobmV3IGkuUVAoZi5QYS50YSxxLnh6LGkuS1Auc0EpKSxlLmJpbmQobmV3IGkuUVAoZi5QYS5yYSxxLkh6LGkuS1Auc0EpKSxlLmJpbmQobmV3IGkuUVAoZi5QYS5iYSx4LlZ0LGkuS1Auc0EpKSxlLmJpbmQobmV3IGkuUVAoZi5QYS5sYSxSLnF6LGkuS1Auc0EpKSxlLmJpbmQobmV3IGkuUVAoZi5QYS5jYSxiLlZ6LGkuS1Auc0EpKSxlLmJpbmQobmV3IGkuUVAoZi5QYS5tYSxQLmp6LGkuS1Auc0EpKSxlLmJpbmQobmV3IGkuUVAoZi5QYS52YSxELkd6LGkuS1Auc0EpKSxlLmJpbmQobmV3IGkuUVAoZi5QYS5kYSxBLkxrLGkuS1Auc0EpKSxlLmJpbmQobmV3IGkuUVAoZi5QYS5nYSxGLlF6LGkuS1Auc0EpKSxlLmJpbmQobmV3IGkuUVAobi5GcmFtZXdvcmsucS5MLEMubXUuTXIsaS5LUC5zQSkpLGUuYmluZChuZXcgaS5RUChmLlBhLkVhLF8ubXIsaS5LUC5zQSkpLFEmJihlLmJpbmQobmV3IGkuUVAoZi5QYS5TYSx6LGkuS1Auc0EpKSxlLmJpbmQobmV3IGkuUVAoZi5QYS53YSxKLGkuS1Auc0EpKSksSyYmZS5iaW5kKG5ldyBpLlFQKGYuUGEuQ2ksVyxpLktQLnNBKSksZS5iaW5kKG5ldyBpLlFQKGYuUGEuUmEsTi5LeixpLktQLnNBKSl9LGV9KCk7dC5tej1lZX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXIoMiksbj1yKDI1KSxzPW4uc2wsbz1yKDApLGE9cig0MCksaD1yKDE1KSxjPXIoMyksdT1yKDE5KSxsPXIoMSkscD1yKDEzMyksZj1yKDQzKSxkPXIoOSksZz1yKDEzNCksdj1yKDUpLHk9cig0KSxtPXYuUnQuQWksRT12LlJ0LkNpLFQ9di5SdC5raSxJPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLnN0YXRlPXUuX2MuT2MsdGhpcy5yZXF1ZXN0VGltZW91dD0tMSx0aGlzLnRlPW8uRnJhbWV3b3JrLnJlc29sdmUoby5GcmFtZXdvcmsucS5JKS5sb2coZS50aWNrZXQuc2Vzc2lvbklkKSx0aGlzLm1uPVwiU1tcIitlLnRpY2tldC5zZXNzaW9uSWQrXCJdXCIsdGhpcy5IbD1vLkZyYW1ld29yay5yZXNvbHZlKG8uRnJhbWV3b3JrLnEuRiksdGhpcy5zZXNzaW9uSWQ9ZS50aWNrZXQuc2Vzc2lvbklkLHRoaXMuQ249ZSx0aGlzLlRDPW8uRnJhbWV3b3JrLnJlc29sdmUoaC5QYS5oYSksdGhpcy5Vdz1vLkZyYW1ld29yay5yZXNvbHZlKGguUGEuaWEpLHRoaXMueXg9by5GcmFtZXdvcmsucmVzb2x2ZShoLlBhLlhvKSx0aGlzLll6PW8uRnJhbWV3b3JrLnJlc29sdmUoaC5QYS51YSksdGhpcy5FQz1vLkZyYW1ld29yay5yZXNvbHZlKGguUGEub2EpLHRoaXMuU0M9by5GcmFtZXdvcmsucmVzb2x2ZShoLlBhLlpvKSx0aGlzLnp6PW8uRnJhbWV3b3JrLnJlc29sdmUoaC5QYS5tYSksdGhpcy5Kej1vLkZyYW1ld29yay5yZXNvbHZlKGguUGEuY2EpLHRoaXMuV3o9by5GcmFtZXdvcmsucmVzb2x2ZShoLlBhLnlhKSx0aGlzLklDPW8uRnJhbWV3b3JrLnJlc29sdmUoaC5QYS5sYSksdGhpcy5Uej1vLkZyYW1ld29yay5yZXNvbHZlKGguUGEuZmEpLHRoaXMuSF89by5GcmFtZXdvcmsucmVzb2x2ZShoLlBhLkVhKSx0aGlzLndDPW8uRnJhbWV3b3JrLnJlc29sdmUoaC5QYS5SYSksdGhpcy5WXz1vLkZyYW1ld29yay5yZXNvbHZlKGguUGEuZGEpLHRoaXMuUkM9by5GcmFtZXdvcmsucmVzb2x2ZShoLlBhLmdhKSx0aGlzLmJDPW8uRnJhbWV3b3JrLnJlc29sdmUoaC5QYS5hYSksdGhpcy5scT1vLkZyYW1ld29yay5yZXNvbHZlKGguUGEuYmEpLHRoaXMueF89by5GcmFtZXdvcmsucmVzb2x2ZShoLlBhLldvKSwobXx8by5GcmFtZXdvcmsuUygpJiZmLmlDLmVDKSYmKHRoaXMuWHo9by5GcmFtZXdvcmsucmVzb2x2ZShoLlBhLndhKSx0aGlzLlp6PW8uRnJhbWV3b3JrLnJlc29sdmUoaC5QYS5TYSkpLChFfHxvLkZyYW1ld29yay5TKCkmJmYuaUMudEMpJiYodGhpcy4kej1vLkZyYW1ld29yay5yZXNvbHZlKGguUGEuQ2kpKSx0aGlzLnN3YXJtSWQ9dGhpcy5lSihlLnRpY2tldC5xaCgpKSx0aGlzLnhfLmluaXQodGhpcyksdGhpcy5Zei5pbml0KHRoaXMpLHRoaXMuYkMuaW5pdCh0aGlzKSx0aGlzLmxxLmluaXQodGhpcyksdGhpcy5TQy5pbml0KHRoaXMpLHRoaXMuSnouaW5pdCh0aGlzKSx0aGlzLld6LmluaXQodGhpcyksdGhpcy5JQy5pbml0KHRoaXMpLHRoaXMuVHouaW5pdCh0aGlzKSx0aGlzLlRDLmluaXQodGhpcyksdGhpcy55eC5pbml0KHRoaXMpLHRoaXMuVl8uaW5pdCh0aGlzKSx0aGlzLlJDLmluaXQodGhpcyksdGhpcy5IXy5pbml0KHRoaXMpLChFfHxvLkZyYW1ld29yay5TKCkmJmYuaUMudEMpJiZ0aGlzLiR6LmluaXQodGhpcyksKG18fG8uRnJhbWV3b3JrLlMoKSYmZi5pQy5lQykmJnRoaXMuWnouaW5pdCh0aGlzKX1yZXR1cm4gZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbihlLHQpe1Q/dGhpcy50SighMSk6dGhpcy50SighMCksdGhpcy53Qy51Vih0aGlzLkNuLmlkZW50aXR5LlljKCkpLHRoaXMuVXcuaW5pdChjLm5pLlNyLkVyLGMubmkuU3IuVHIpO3ZhciByPXRoaXMuVHouUEMoZSx0KTt0aGlzLndDLnJKKHRoaXMuVHouRXouS18oKSk7dmFyIGk9bmV3IHAuaUoocik7dGhpcy5Dbi5SXz1pLHRoaXMuQ24uRGMuUl89aSx0aGlzLld6LnN0YXJ0KHRoaXMuVHosdGhpcy55eCksKG18fG8uRnJhbWV3b3JrLlMoKSYmZi5pQy5lQykmJnRoaXMuWnoubkoodGhpcy55eCk7dmFyIG49W3RoaXMueXgsdGhpcy5TQyx0aGlzLld6LHRoaXMuQ24uRGMsdGhpcy5Dbi50Yyx0aGlzLmxxXTsobXx8by5GcmFtZXdvcmsuUygpJiZmLmlDLmVDKSYmbi5wdXNoKHRoaXMuWnopLChFfHxvLkZyYW1ld29yay5TKCkmJmYuaUMudEMpJiZuLnB1c2godGhpcy4keiksKHM9dGhpcy5IbCkuc3RhcnQuYXBwbHkocyxbZS5zZXNzaW9uSWRdLmNvbmNhdChuKSksdGhpcy5Dbi5EYy5UTCh0aGlzLlNDKSx0aGlzLkNuLkRjLlFGKHRoaXMud0MpLHRoaXMud0Muc0ooZSk7dmFyIHN9LGUucHJvdG90eXBlLnRKPWZ1bmN0aW9uKGUpe2UmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBuYXZpZ2F0b3ImJm5hdmlnYXRvci5oYXJkd2FyZUNvbmN1cnJlbmN5Pyh0aGlzLndDLm9KKG5hdmlnYXRvci5oYXJkd2FyZUNvbmN1cnJlbmN5KSx0aGlzLndDLmFKKG5hdmlnYXRvci5oYXJkd2FyZUNvbmN1cnJlbmN5KSk6KHRoaXMud0Mub0ooMSksdGhpcy53Qy5hSigxKSksdGhpcy50ZS5kZWJ1Zyh0aGlzLm1uK1wiTXkgc2NvcmUgXCIrdGhpcy53Qy5vSCgpKX0sZS5wcm90b3R5cGUuZUo9ZnVuY3Rpb24oZSl7cmV0dXJuIHMuVmQoZSkudG9TdHJpbmcocy5FZC5UZCl9LGUucHJvdG90eXBlLlRJPWZ1bmN0aW9uKGUpe3RoaXMuaEooKSx0aGlzLlRDLlRJKGUpfSxlLnByb3RvdHlwZS5Pbj1mdW5jdGlvbihlKXtpZih0aGlzLnN0YXRlIT1lKXN3aXRjaCh0aGlzLnRlLmluZm8oXCJTd2l0Y2hpbmcgc3RhdGUgXCIrdS5fY1t0aGlzLnN0YXRlXStcIiAtPiBcIit1Ll9jW2VdKSx0aGlzLnN0YXRlPWUsdGhpcy5zdGF0ZSl7Y2FzZSB1Ll9jLklETEU6dGhpcy55eC5zdG9wKCksdGhpcy5TQy5zdG9wKCksdGhpcy5SQy5jSigpLHRoaXMuUkMudUooKSx0aGlzLld6LmxKKCksdGhpcy5aeiYmdGhpcy5aei5wSigpLHRoaXMuQ24uT24odS5fYy5JRExFKSx0aGlzLlV3LlhVKCksdGhpcy5iQy5mSigpLHRoaXMuVEMuZEooKSx0aGlzLnhfLmdKKCk7YnJlYWs7Y2FzZSB1Ll9jLk9jOnRoaXMueXguc3RhcnQoKSx0aGlzLlNDLnN0YXJ0KHRoaXMuVHouRXopLHRoaXMuUkMudkooKSx0aGlzLld6LnlKKCksdGhpcy5aeiYmdGhpcy5aei5tSigpLHRoaXMuQ24uT24odS5fYy5PYyksdGhpcy54Xy5FSigpfX0sZS5wcm90b3R5cGUuaEo9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RyeXtvLkZyYW1ld29yay5jbGVhclRpbWVvdXQodGhpcy5yZXF1ZXN0VGltZW91dCksdGhpcy5Pbih1Ll9jLk9jKSx0aGlzLnJlcXVlc3RUaW1lb3V0PW8uRnJhbWV3b3JrLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtlLk9uKHUuX2MuSURMRSl9LDNlNCl9Y2F0Y2goZSl7eS5FcnJvck1vbml0b3IuZ2koKS5kaShcIkVycm9yIG9uIHJlcXVlc3QgdGltZW91dFwiLHRoaXMubW4sZSl9fSxlfSgpO3QuVEo9STt2YXIgdz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLlVsPW5ldyBhLkNvdW50ZXIsdGhpcy5JSj0hMSx0aGlzLkhjPW5ldyBsLHRoaXMud0o9bmV3IGwsdGhpcy5TSj0hMSx0aGlzLlJKPSExLHRoaXMuYko9by5GcmFtZXdvcmsucmVzb2x2ZShoLlBhLlRhKSx0aGlzLlBKPW8uRnJhbWV3b3JrLnJlc29sdmUoaC5QYS5JYSksdGhpcy5kaD1vLkZyYW1ld29yay5yZXNvbHZlKGQuUXMuVXMpLHRoaXMuUEouaW5pdCh0aGlzKX1yZXR1cm4gZS5wcm90b3R5cGUuc3RhcnQ9ZnVuY3Rpb24oZSx0KXt0aGlzLnRlPW8uRnJhbWV3b3JrLnJlc29sdmUoby5GcmFtZXdvcmsucS5JKS5sb2coZS50aWNrZXQuc2Vzc2lvbklkKTt2YXIgcj1lLnRpY2tldCxuPXIuc2Vzc2lvbklkO2lmKHRoaXMuSGMuaGFzKG4pKXRoaXMudGUud2FybihcIlNFU1NJT04gQUxSRUFEWSBBQ1RJVkUgXCIrbik7ZWxzZXtnLkFKLm1oKGUuTGMuY2xpZW50KTt2YXIgcz1uZXcgSShlKTtzLmluaXQocix0KSx0aGlzLmRoLlZoKCkudGhlbihmdW5jdGlvbihlKXt2YXIgdD1lLlFoKCkscj10LkNzKCk7ciYmcy53Qy53TShyKX0pLmRvbmUoKSxlLkRjLkVMKHRoaXMuZGgpLHRoaXMudGUuaW5mbyhcIlBFRVIgQ09OVEVYVCBTVEFSVEVEXCIpLHRoaXMuSGMuc2V0KG4scyksdGhpcy53Si5zZXQocy5zd2FybUlkLG4pfXJldHVybiAxIT10aGlzLkhjLmxlbmd0aCYmIXRoaXMuUkp8fG8uRnJhbWV3b3JrLlMoKXx8KHRoaXMuYkouaW5pdCgpLHRoaXMuUko9ITEpLGkucmVzb2x2ZShyLlNvdXJjZVVSTCl9LGUucHJvdG90eXBlLnl6PWZ1bmN0aW9uKCl7dGhpcy5SSj0hMH0sZS5wcm90b3R5cGUuQ2w9ZnVuY3Rpb24oZSl7aWYodGhpcy53Si5oYXMoZSkpe3ZhciB0PXRoaXMud0ouZ2V0KGUpO3JldHVybiB0aGlzLkhjLmdldCh0KX1yZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUudno9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuSGMuZ2V0KGUpfSxlLnByb3RvdHlwZS5DSj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5IYy5oYXMoZSk/dGhpcy5IYy5nZXQoZSkuVEM6bnVsbH0sZS5wcm90b3R5cGUuVEk9ZnVuY3Rpb24oZSx0KXt0aGlzLnZ6KHQpLlRJKGUpfSxlLnByb3RvdHlwZS5Pbj1mdW5jdGlvbihlLHQpe28uRnJhbWV3b3JrLlMoKSYmdGhpcy52eihlKS5Pbih0KX0sZS5wcm90b3R5cGUuYWJvcnQ9ZnVuY3Rpb24oZSx0KXt0aGlzLkNKKHQpLmFib3J0KGUpfSxlfSgpO3QuQXo9d30sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLkFDPWV9cmV0dXJuIGUucHJvdG90eXBlLlpGPWZ1bmN0aW9uKCl7dmFyIGU9bmV3IGhpdmUuc25hcHNob3RzLlN0cmVhbUluZm87cmV0dXJuIGUuc3RyZWFtVHlwZT10aGlzLkFDLmlzTGl2ZSgpP1N0cmVhbVR5cGUuTElWRTpTdHJlYW1UeXBlLnhHLGUuc3RyZWFtUHJvdG9jb2w9dGhpcy5BQy5TXygpLGUudXJsPXRoaXMuQUMuQ04oKSxlfSxlfSgpO3QuaUo9aX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXIoMTgpLG49aS5rYy5haCxzPXIoMCksbz1yKDIxKSxhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZS5taD1mdW5jdGlvbihlKXt0aGlzLmNsaWVudD1lfSxlLmtKPWZ1bmN0aW9uKGUsdCxyLGksYSl7dmFyIGg9bmV3IG47aC5hcHA9ZSxoLmd1aWQ9aSxoLmNyZWF0ZWRBdD1zLkZyYW1ld29yay50aW1lKCksaC5uYW1lPXIsaC50YWdzPXQsaC5kYXRhPUpTT04ucGFyc2UoYSk7dmFyIGM9bmV3IG8ucGMoU2VydmljZXMuZmMsMixKU09OLnN0cmluZ2lmeShoKSk7dGhpcy5jbGllbnQmJnRoaXMuY2xpZW50LmxjKCkuc2VuZChjKX0sZX0oKTt0LkFKPWF9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1yKDEpLG49cigyKSxzPXIoMjIpLG89cig2KSxhPXIoMyksaD1yKDApLGM9cigxMCksdT1yKDE1KSxsPXIoNDApLHA9cig0KSxmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuT0o9bmV3IGksdGhpcy5fSj0hMSx0aGlzLk5KPTAsdGhpcy5ESj01LHRoaXMuUEo9aC5GcmFtZXdvcmsucmVzb2x2ZSh1LlBhLklhKSx0aGlzLkZKPW5ldyBsLmdBfXJldHVybiBlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKGUpe3RoaXMudGU9aC5GcmFtZXdvcmsucmVzb2x2ZShoLkZyYW1ld29yay5xLkkpLmxvZyhlLnNlc3Npb25JZCksdGhpcy5tbj1cIlNbXCIrZS5zZXNzaW9uSWQrXCJdXCIsdGhpcy5FQz1lLkVDLHRoaXMuVXc9ZS5Vdyx0aGlzLlNDPWUuU0MsdGhpcy5EYz1lLkNuLkRjLHRoaXMuc2Vzc2lvbklkPWUuQ24udGlja2V0LnNlc3Npb25JZCx0aGlzLll6PWUuWXosdGhpcy5JQz1lLklDLHRoaXMuTEo9ZS5Ueix0aGlzLndDPWUud0MsdGhpcy5iQz1lLmJDLHRoaXMueF89ZS54Xyx0aGlzLkRjLmpGKHRoaXMuRkopfSxlLnByb3RvdHlwZS5UST1mdW5jdGlvbihlKXt0cnl7dmFyIHQ9ZS51cmw7dGhpcy50ZS5pbmZvKFwiSElWRSBSRVEgXCIrdCksZS5EdT1oLkZyYW1ld29yay50aW1lKCk7dmFyIHI9dGhpcy5MSi5NSihlKSxpPXIuYk4oZS51cmwpO3RoaXMueF8uQkooaSksdGhpcy5payhlLGkscixzLlR1LmR1KX1jYXRjaChlKXtwLkVycm9yTW9uaXRvci5naSgpLmRpKFwiUExBWUVSIFJFUVVFU1QgRVJST1JcIix0aGlzLm1uLGUpfX0sZS5wcm90b3R5cGUuaWs9ZnVuY3Rpb24oZSx0LHIsaSl7dmFyIG49dGhpcztpZih0LiR1KCkpe2lmKHQuWXUoKT09Yy5Xcy5Zcyl7dmFyIGE9ci5ZXyh0LGkpO2lmKGEub04pcmV0dXJuIHRoaXMudGUuZGVidWcoXCJETyBOT1QgQ09OVElOVUUgV0lUSCBUSEUgUkVRVUVTVCBcIit0Lnp1KCkrXCIuIEFMUkVBRFkgUkVRVUVTVEVEICBcIithLmVOK1wiIFBFTkRJTkcgUkVRVUVTVCBcIithLnNOKSxudWxsO2lmKGEuc04mJmk9PXMuVHUuZHUpe3ZhciBoPXRoaXMuVUooZSx0LHIsaSk7cmV0dXJuIGgubGVuZ3RoPjA/KGguZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgcj1uLk9KLmdldCh0KTtuLk9KLnNldChlLmlkLHIpLG4uT0ouZGVsZXRlKHQpfSksbnVsbCk6KHRoaXMudGUuaW5mbyhcIlBSRUZFVENIIFVQR1JBREUgRkFJTEVELiBUSElTIFNIT1VMRCBOT1QgSEFQUEVOLiBDSEVDSyBGT1IgTVVMVElQTEUgUExBWUVSIFJFUVVFU1RTIEZPUiBUSEUgU0FNRSBGUkFHTUVOVFwiKSx0aGlzLnhKKGUsdCxyLGkpKX1yZXR1cm4gdGhpcy54SihlLHQscixpKX1yZXR1cm4gdGhpcy54SihlLHQscixpKX12YXIgdT1vLmZuLnhpLm5leHQoKSxsPW5ldyBzLm5sKGUsdSxpLHQscik7cmV0dXJuIHRoaXMuT0ouc2V0KGUuaWQsbCksbC50eXBlPXMuVHUuZ3UsdGhpcy5ISihsKSxsfSxlLnByb3RvdHlwZS54Sj1mdW5jdGlvbihlLHQscixpKXt2YXIgbj10aGlzLGE9by5mbi54aS5uZXh0KCksaD1uZXcgcy5ubChlLGEsaSx0LHIpO2lmKHRoaXMuT0ouc2V0KGUuaWQsaCksdC5ZdSgpPT1jLldzLllzJiYoci5oTihoKSxpIT09cy5UdS52dSYmaSE9PXMuVHUuRXUpKXt2YXIgdT10LmJpdHJhdGUsbD10aGlzLndDLnFKKCk7MCE9dSYmKHRoaXMud0MuVkoodSksdSE9bCYmKHRoaXMuX0o9ITAsdGhpcy5OSj0wKSx0aGlzLl9KJiZ0aGlzLk5KKyssdGhpcy5OSj09dGhpcy5ESiYmKHRoaXMuU0MuRVYoKSx0aGlzLl9KPSExLHRoaXMuTko9MCkpfXJldHVybiB0aGlzLmpKKHQuenUoKSkudGhlbihmdW5jdGlvbihlKXtudWxsIT1lPyhuLnhfLkdKKGgsZSksbi5RSihoLGUpLHIuY04oaC56dSgpLGguSnUoKSksci5mTih0LmJpdHJhdGUpKToobi5LSih0LGgpLGguWXUoKT09Yy5Xcy5ZcyYmKHIubE4oaCksaC50eXBlPT1zLlR1LmR1JiZuLkZKLmFkZCgwKSkpfSksaH0sZS5wcm90b3R5cGUuVUo9ZnVuY3Rpb24oZSx0LHIsaSl7cmV0dXJuIHIuYU4oZSx0LGkpfSxlLnByb3RvdHlwZS5qSj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5Vdy5nZXQoZSl9LGUucHJvdG90eXBlLktKPWZ1bmN0aW9uKGUsdCl7dGhpcy5FQy5jb250YWlucyhlLnp1KCkpPyh0aGlzLnRlLmRlYnVnKFwiT0JKIElEWCBDT05UQUlOUyBcIit0Lnp1KCkpLHQuS3UoKT09cy5UdS52dSYmKHQudHlwZT1zLlR1LkV1KSx0aGlzLkl1KHQpKTp0Lkt1KCkhPXMuVHUuRXU/dGhpcy5ISih0KToocC5FcnJvck1vbml0b3IuZ2koKS5kaShcIlAyUCBQUkVGRVRDSCBGQUlMRUQgQkVDQVVTRSBPQkpFQ1QgSU5ERVggRE9FUyBOT1QgQ09OVEFJTiBSRVFVRVNUIEVOVElUWVwiLHRoaXMubW4se21SOnQuenUoKX0pLHQuR3UuY04odC56dSgpLHQuSnUoKSkpfSxlLnByb3RvdHlwZS5kSj1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5PSi5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiBlLmFib3J0KHQuVnUpfSl9LGUucHJvdG90eXBlLmFib3J0PWZ1bmN0aW9uKGUpe2lmKHRoaXMuT0ouaGFzKGUuaWQpKXt2YXIgdD10aGlzLk9KLmdldChlLmlkKSxyPXQuSnUoKTt0aGlzLnRlLmRlYnVnKFwiUkVRVUVTVCBcIityK1wiIEFCT1JURUQgXCIpLHRoaXMuSUMuUWUocik/dGhpcy5JQy5ZSihyKTp0aGlzLll6LlFlKHIpJiZ0aGlzLll6LllKKHIpLHRoaXMuT0ouZGVsZXRlKGUuaWQpfX0sZS5wcm90b3R5cGUuSXU9ZnVuY3Rpb24oZSl7ZS50eXBlPT1zLlR1LmR1JiYoZS50eXBlPXMuVHUubXUpLGUudHlwZT09cy5UdS5FdSYmKGUuVXU9ITApLHRoaXMuSUMuVEkoZSl9LGUucHJvdG90eXBlLnpKPWZ1bmN0aW9uKGUpe2lmKDAhPWUucXUmJihlLk11LlJ1PWUucXUsdGhpcy50ZS5pbmZvKFwiQUxSRUFEWSBET1dOTE9BREVEIFwiK2UuTXUuUnUrXCIgQllURVNcIiksZS5NdS5idT1lLnF1KSwhYS5uaS5qLl9yJiZlLnF1JiYoZS5NdS5SdT0wKSx0aGlzLnhfLkpKKGUpLGUudHlwZSE9cy5UdS5FdSllLnR5cGU9cy5UdS55dSx0aGlzLkhKKGUpO2Vsc2UgaWYoZS5ZdSgpPT1jLldzLllzKXtlLkd1LnVOKGUuenUoKSksZS5HdS5jTihlLnp1KCksZS5KdSgpKTt2YXIgdD1lLlF1O3QuYml0cmF0ZSYmZS5HdS5mTih0LmJpdHJhdGUpfX0sZS5wcm90b3R5cGUuV0o9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0aGlzLnRlLmluZm8oXCJTVUNDRVNTIEZST00gUDJQIEZPUiBcIitlLld1KCkrXCIgW1JFUSBcIitlLmp1K1wiXSBbXCIrcy5UdVtlLnR5cGVdK1wiXSBBRlRFUiBcIitlLnJsKCkrXCIgW2J3OlwiK2UuaWwoKS5YaSgpK1wiXVwiKSx0aGlzLlhKKGUpLHRoaXMuWkooZSx0aGlzLnpfKGUudHlwZSkpLHRoaXMuYkMuJEooZSk7dmFyIHI9dGhpcy5Zei5lVygpLnppKCk7dGhpcy54Xy50VyhlLHIpLHRoaXMuclcoZSkudGhlbihmdW5jdGlvbigpe2UuR3UuQU4oZSksdC5pVygpfSkuZmluYWxseShmdW5jdGlvbigpe3Quel8oZS50eXBlKSYmdC5uVyhlKSx0Lk9KLmRlbGV0ZShlLlZ1LmlkKX0pfSxlLnByb3RvdHlwZS5ISj1mdW5jdGlvbihlKXt0aGlzLnhfLnNXKGUpLHRoaXMuWXouVEkoZSl9LGUucHJvdG90eXBlLm9XPWZ1bmN0aW9uKGUpe3RoaXMuaVcoKTt2YXIgdD10aGlzLll6LmVXKCkuemkoKTt0aGlzLnhfLmFXKGUsdCksZS5ZdSgpPT1jLldzLllzJiYoZS5HdS51TihlLnp1KCkpLGUuR3UuY04oZS56dSgpLGUuSnUoKSkpLHRoaXMuaFcoZSl9LGUucHJvdG90eXBlLmNXPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dGhpcy5YSihlKSx0aGlzLlpKKGUsdGhpcy56XyhlLnR5cGUpKSxlLnR5cGU9PXMuVHUueXUmJnRoaXMudGUuZGVidWcoXCJDRE4gQ09NUEVOU0FUSU9OIFRJTUUgXCIrKGUuTXUuTnUtZS5WdS5EdSkrXCIgLyBcIisoZS5NdS5OdS1lLk11Lmt1KStcIiBQMlAgVElNRSBcIisoZS5NdS5fdS1lLk11Lk91KSksLTE9PVtjLldzLnpzLGMuV3MuSnNdLmluZGV4T2YoZS5ZdSgpKSYmdGhpcy5iQy4kSihlKTt2YXIgcj10aGlzLll6LmVXKCkuemkoKTt0aGlzLnhfLnVXKGUsciksdGhpcy5yVyhlKS50aGVuKGZ1bmN0aW9uKCl7ZS5ZdSgpPT1jLldzLnpzJiZlLkd1LlBOKGUpLC0xPT1bYy5Xcy56cyxjLldzLkpzXS5pbmRleE9mKGUuWXUoKSkmJmUuR3UuQU4oZSksdC5pVygpfSkuY2F0Y2goZnVuY3Rpb24oZSl7dC50ZS5lcnJvcihlKX0pLmZpbmFsbHkoZnVuY3Rpb24oKXt0LnpfKGUudHlwZSkmJnQublcoZSksdC5PSi5kZWxldGUoZS5WdS5pZCl9KX0sZS5wcm90b3R5cGUuWEo9ZnVuY3Rpb24oZSl7ZS50eXBlPT1zLlR1LkV1JiYoZS5NdS5wMnBBZ2VuVHJhZmZpY1N1Y2Nlc3NRdD1lLk11LlJ1KSxlLnR5cGU9PXMuVHUudnUmJihlLk11LkN1PWUuTXUuQXUsZS5CdSYmKGUuTXUuc3JjT3RoZXJSZXNwUXQ9ZS5NdS5BdSkpLGUuTXUuU3U9ZS5NdS5BdStlLk11LlJ1LGUuVnUudG90YWw9ZS5NdS5TdX0sZS5wcm90b3R5cGUuWko9ZnVuY3Rpb24oZSx0KXtpZih0aGlzLmxXKGUpLHQpe3ZhciByPW8uZm4uY3JlYXRlRXZlbnQoUHJvZ3Jlc3NFdmVudCxcInByb2dyZXNzXCIse2xlbmd0aENvbXB1dGFibGU6ITAsdG90YWw6ZS5NdS5TdSxsb2FkZWQ6ZS5NdS5TdSxjdXJyZW50VGFyZ2V0OmUuVnV9KTtlLlZ1LmRpc3BhdGNoRXZlbnQociksZS5RdS53UigpfHwoZS5WdS5yZXNwb25zZT1lLlJCLGUuVnUucmVzcG9uc2VUZXh0PWUuUkIpfX0sZS5wcm90b3R5cGUublc9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5WdTt0aGlzLnRlLmluZm8oXCJSRVNQT05EIFRPIFRIRSBQTEFZRVIgXCIrZS56dSgpK1wiIFNJWkUgXCIrKGguRnJhbWV3b3JrLlMoKT90LnRvdGFsOmUuSHUuYnl0ZUxlbmd0aCkpLHQuc3RhdHVzPTIwMCx0LnJlYWR5U3RhdGU9NCxcInN0cmluZ1wiPT10eXBlb2YgdC5yZXNwb25zZSYmXCJhcnJheWJ1ZmZlclwiPT09dC5yZXNwb25zZVR5cGUmJih0LnJlc3BvbnNlPW8uZm4ucG4odC5yZXNwb25zZSkpLFwidGV4dFwiIT10LnJlc3BvbnNlVHlwZSYmXCJcIiE9dC5yZXNwb25zZVR5cGUmJmRlbGV0ZSB0LnJlc3BvbnNlVGV4dCxlLlF1LndSKCkmJih0LnJlc3BvbnNlPWguRnJhbWV3b3JrLlMoKT9udWxsOm8uZm4uZW4oZS5IdSkpO3ZhciByPW8uZm4uY3JlYXRlRXZlbnQoRXZlbnQsXCJyZWFkeXN0YXRlY2hhbmdlXCIse2N1cnJlbnRUYXJnZXQ6dH0pLGk9by5mbi5jcmVhdGVFdmVudChQcm9ncmVzc0V2ZW50LFwibG9hZFwiLHtidWJibGVzOiExLGNhbmNlbGFibGU6ITEsbGVuZ3RoQ29tcHV0YWJsZTohMSx0b3RhbDplLlF1LndSKCk/ZS5IdS5ieXRlTGVuZ3RoOmUuUkIubGVuZ3RoLGN1cnJlbnRUYXJnZXQ6dH0pLG49by5mbi5jcmVhdGVFdmVudChQcm9ncmVzc0V2ZW50LFwibG9hZGVuZFwiLHtidWJibGVzOiExLGNhbmNlbGFibGU6ITEsbGVuZ3RoQ29tcHV0YWJsZTohMSxsb2FkZWQ6dC50b3RhbCx0b3RhbDowLGN1cnJlbnRUYXJnZXQ6dH0pO3QuZGlzcGF0Y2hFdmVudChyKSx0LmRpc3BhdGNoRXZlbnQoaSksdC5kaXNwYXRjaEV2ZW50KG4pfSxlLnByb3RvdHlwZS5oVz1mdW5jdGlvbihlKXt0aGlzLk9KLmRlbGV0ZShlLlZ1LmlkKTt2YXIgdD1lLlZ1LHI9e2J1YmJsZXM6ITEsY2FuY2VsYWJsZTohMSxsZW5ndGhDb21wdXRhYmxlOiExLGxvYWRlZDp0LnRvdGFsLHRvdGFsOjAsY3VycmVudFRhcmdldDp0fTtlLnhoci5zdGF0dXMmJmUueGhyLnN0YXR1cz4wPyh0LnN0YXR1cz1lLnhoci5zdGF0dXMsdC54dT1lLnh1KTp0LnN0YXR1cz00MDQsdC5yZWFkeVN0YXRlPTQsdC5kaXNwYXRjaEV2ZW50KG8uZm4uY3JlYXRlRXZlbnQoRXZlbnQsXCJyZWFkeXN0YXRlY2hhbmdlXCIscikpLHQuZGlzcGF0Y2hFdmVudChvLmZuLmNyZWF0ZUV2ZW50KFByb2dyZXNzRXZlbnQsXCJsb2FkXCIscikpLHQuZGlzcGF0Y2hFdmVudChvLmZuLmNyZWF0ZUV2ZW50KFByb2dyZXNzRXZlbnQsXCJsb2FkZW5kXCIscikpfSxlLnByb3RvdHlwZS5yVz1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBlLlF1LiR1KCk/dGhpcy5Vdy5wdXQoZSkudGhlbihmdW5jdGlvbihyKXtyJiZ0LlNDLnBXKGUuUXUsZS5NdS5TdSxlLktVKX0pOm4ucmVzb2x2ZSghMCl9LGUucHJvdG90eXBlLlFKPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztlLkh1PXQuZGF0YSxlLnh1PXQuaGVhZGVycyxlLllVPXQuWVUsZS5NdT10Lk11O3ZhciBpPWUuR3UuUk4oKS5zVSh0Lmxlbmd0aCk7dGhpcy50ZS5pbmZvKFwiU0NIRURVTEUgREVMSVZFUlkgT0YgXCIrZS56dSgpK1wiIElOIFwiK2krXCIgU0laRSBcIisoaC5GcmFtZXdvcmsuUygpP3QubGVuZ3RoOmUuSHUuYnl0ZUxlbmd0aCkrXCIgQllURVNcIiksaC5GcmFtZXdvcmsuc2V0VGltZW91dChmdW5jdGlvbigpe3IuZlcoZSl9LGkpfSxlLnByb3RvdHlwZS5mVz1mdW5jdGlvbihlKXt0aGlzLnRlLmRlYnVnKFwiREVMSVZFUlkgT0YgXCIrZS56dSgpKSx0aGlzLlpKKGUsITApLHRoaXMuT0ouZGVsZXRlKGUuVnUuaWQpO3ZhciB0PWUuVnUuRHUtZS5NdS5OdTt0aGlzLnRlLmluZm8oXCJGUkFHTUVOVCBQUkVGRVRDSEVEIFwiK3QrXCIgTVNFQ1MgQkVGT1JFIFBMQVlFUiBSRVFVRVNUXCIpLHQ+MCYmZS5ZdSgpPT1jLldzLllzJiZ0aGlzLkZKLmFkZCh0KTt2YXIgcj0wO3I9ZS5NdS5PdT4wP2UuVnUuRHUtZS5NdS5PdTplLlZ1LkR1LWUuTXUuX3UsdGhpcy50ZS5pbmZvKFwiRlJBR01FTlQgUkVRVUVTVEVEIFwiK3IrXCIgTVNFQ1MgQkVGT1JFIFBMQVlFUiBSRVFVRVNUXCIpLHRoaXMublcoZSl9LGUucHJvdG90eXBlLnpfPWZ1bmN0aW9uKGUpe3JldHVybiBlIT1zLlR1LkV1JiZlIT1zLlR1LnZ1fSxlLnByb3RvdHlwZS5sVz1mdW5jdGlvbihlKXtpZihlLnR5cGUhPT1zLlR1Lnl1KWUueHU9ZS5WdS54dT1lLnh1O2Vsc2V7dmFyIHQ9XCJcXG5Db250ZW50LVJhbmdlOiBieXRlcz0wLVwiKyhlLnNpemUtMSkrXCIvXCIrZS5zaXplK1wiXFxuXCI7dCs9XCJDb250ZW50LUxlbmd0aDogXCIrZS5zaXplK1wiXFxuXCIsZS54dT1lLlZ1Lnh1PXR9bnVsbCE9ZS54dSYmLTEhPWUueHUuaW5kZXhPZihcIkFjY2Vzcy1Db250cm9sLUFsbG93LU9yaWdpblwiKXx8KGUueHUrPVwiXFxuQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luOipcIil9LGUucHJvdG90eXBlLmlXPWZ1bmN0aW9uKCl7aC5GcmFtZXdvcmsuUygpfHx0aGlzLlBKLnJlbmRlcigpfSxlfSgpO3QuQ3o9Zn0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXIoODApLG49cig4NCkscz1yKDApLG89ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5TQz1udWxsLHRoaXMuSGw9cy5GcmFtZXdvcmsucmVzb2x2ZShzLkZyYW1ld29yay5xLkYpfXJldHVybiBlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKGUpe3RoaXMudGU9cy5GcmFtZXdvcmsucmVzb2x2ZShzLkZyYW1ld29yay5xLkkpLmxvZyhlLnNlc3Npb25JZCksdGhpcy52eD1lLHRoaXMuU0M9ZS5TQ30sZS5wcm90b3R5cGUuUEM9ZnVuY3Rpb24oZSx0KXt2YXIgcj1udWxsLHM9ZS5fQSgpO3JldHVybiBuLk9VLmNCKHMpP3RoaXMuRXo9cj1uZXcgbi5PVS5CVShlLHQsdGhpcy52eCk6aS55Qi5jQihzKT90aGlzLkV6PXI9bmV3IGkueUIuTEIoZSx0aGlzLnZ4KTp0aGlzLnRlLndhcm4oXCJDT1VMRCBOT1QgRklORCBBIENPTlRFWFQgRk9SIFwiK3MpLG51bGwhPXImJnRoaXMuZFcodGhpcy5Feikscn0sZS5wcm90b3R5cGUuZFc9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztudWxsIT10aGlzLlNDP3RoaXMuU0Muc3RvcCgpLnRoZW4oZnVuY3Rpb24ocil7dC5TQy5zdGFydChlKX0pOnRoaXMuU0Muc3RhcnQoZSl9LGUucHJvdG90eXBlLk1KPWZ1bmN0aW9uKGUpe2lmKG51bGw9PXRoaXMuRXopdGhpcy50ZS53YXJuKFwiRklSU1QgUkVRVUVTVCwgQ09VTEQgTk9UIEZJTkQgUklHSFQgQ09OVEVYVCBcIitlLnVybCk7ZWxzZSBpZighdGhpcy5Fei5TTihlKSlyZXR1cm4gdGhpcy50ZS53YXJuKFwiUkVRVUVTVCBET0VTIE5PVCBCRUxPTkcgVE8gVEhFIENVUlJFTlQgQ09OVEVYVCBcIitlLnVybCksbnVsbDtyZXR1cm4gdGhpcy5Fen0sZX0oKTt0Lmt6PW99LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBpKGUsdCxyLG4pe2lmKCEodGhpcyBpbnN0YW5jZW9mIGkpKXJldHVybiBuZXcgaShlLHQscixuKTt0aGlzLmNlPXR8fE9iamVjdC5hZSx0aGlzLnlvPXJ8fE9iamVjdC5tbyx0aGlzLmxlPW58fEZ1bmN0aW9uLmhlLHRoaXMucm9vdD1udWxsLHRoaXMubGVuZ3RoPTAsdGhpcy5hZGRFYWNoKGUpfWZ1bmN0aW9uIG4oZSl7dGhpcy52YWx1ZT1lLHRoaXMubGVmdD1udWxsLHRoaXMucmlnaHQ9bnVsbCx0aGlzLmxlbmd0aD0xfWZ1bmN0aW9uIHMoZSx0LHIpe2lmKHRoaXMuc2V0PWUsdGhpcy5Naz1udWxsLHRoaXMuZW5kPXIsdCl7dmFyIGk9dGhpcy5zZXQuZ1codCk7aSYmKHRoaXMuc2V0LnZXKGkudmFsdWUpLHRoaXMuTWs9aS55VygpKX19ZS50PWk7dmFyIG89KHIoMTIpLHIoMTMpKSxhPXIoMzYpLGg9cigxNCksYz1yKDM1KSx1PXIoNjQpO2kubVc9aSxPYmplY3QuYWRkRWFjaChpLnByb3RvdHlwZSxvLnByb3RvdHlwZSksT2JqZWN0LmFkZEVhY2goaS5wcm90b3R5cGUsYS5wcm90b3R5cGUpLE9iamVjdC5hZGRFYWNoKGkucHJvdG90eXBlLGgucHJvdG90eXBlKSxPYmplY3QuYWRkRWFjaChpLnByb3RvdHlwZSxjLnByb3RvdHlwZSksaS5wcm90b3R5cGUuTk49ITAsaS5wcm90b3R5cGUuZGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKGUsdGhpcy5jZSx0aGlzLnlvLHRoaXMubGUpfSxpLnByb3RvdHlwZS5oYXM9ZnVuY3Rpb24oZSx0KXtpZih0KXRocm93IG5ldyBFcnJvcihcIlNvcnRlZFNldCNoYXMgZG9lcyBub3Qgc3VwcG9ydCBzZWNvbmQgYXJndW1lbnQ6IGVxdWFsc1wiKTtyZXR1cm4hIXRoaXMucm9vdCYmKHRoaXMudlcoZSksdGhpcy5jZShlLHRoaXMucm9vdC52YWx1ZSkpfSxpLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oZSx0KXtpZih0KXRocm93IG5ldyBFcnJvcihcIlNvcnRlZFNldCNnZXQgZG9lcyBub3Qgc3VwcG9ydCBzZWNvbmQgYXJndW1lbnQ6IGVxdWFsc1wiKTtyZXR1cm4gdGhpcy5yb290JiYodGhpcy52VyhlKSx0aGlzLmNlKGUsdGhpcy5yb290LnZhbHVlKSk/dGhpcy5yb290LnZhbHVlOnRoaXMubGUoZSl9LGkucHJvdG90eXBlLmFkZD1mdW5jdGlvbihlKXt2YXIgdD1uZXcgdGhpcy5Ob2RlKGUpO2lmKCF0aGlzLnJvb3QpcmV0dXJuIHRoaXMucWsmJnRoaXMuVVAoW2VdLFtdLDApLHRoaXMucm9vdD10LHRoaXMubGVuZ3RoKyssdGhpcy5xayYmdGhpcy5MUChbZV0sW10sMCksITA7aWYodGhpcy52VyhlKSwhdGhpcy5jZShlLHRoaXMucm9vdC52YWx1ZSkpe3ZhciByPXRoaXMueW8oZSx0aGlzLnJvb3QudmFsdWUpO2lmKDA9PT1yKXRocm93IG5ldyBFcnJvcihcIlNvcnRlZFNldCBjYW5ub3QgY29udGFpbiBpbmNvbXBhcmFibGUgYnV0IGluZXF1YWwgdmFsdWVzOiBcIitlK1wiIGFuZCBcIit0aGlzLnJvb3QudmFsdWUpO3JldHVybiB0aGlzLnFrJiZ0aGlzLlVQKFtlXSxbXSx0aGlzLnJvb3QuaW5kZXgpLHI8MD8odC5yaWdodD10aGlzLnJvb3QsdC5sZWZ0PXRoaXMucm9vdC5sZWZ0LHRoaXMucm9vdC5sZWZ0PW51bGwsdGhpcy5yb290LkVXKCkpOih0LmxlZnQ9dGhpcy5yb290LHQucmlnaHQ9dGhpcy5yb290LnJpZ2h0LHRoaXMucm9vdC5yaWdodD1udWxsLHRoaXMucm9vdC5FVygpKSx0LkVXKCksdGhpcy5yb290PXQsdGhpcy5sZW5ndGgrKyx0aGlzLnFrJiZ0aGlzLkxQKFtlXSxbXSx0aGlzLnJvb3QuaW5kZXgpLCEwfXJldHVybiExfSxpLnByb3RvdHlwZS5kZWxldGU9ZnVuY3Rpb24oZSx0KXtpZih0KXRocm93IG5ldyBFcnJvcihcIlNvcnRlZFNldCNkZWxldGUgZG9lcyBub3Qgc3VwcG9ydCBzZWNvbmQgYXJndW1lbnQ6IGVxdWFsc1wiKTtpZih0aGlzLnJvb3QmJih0aGlzLnZXKGUpLHRoaXMuY2UoZSx0aGlzLnJvb3QudmFsdWUpKSl7dmFyIHI9dGhpcy5yb290LmluZGV4O2lmKHRoaXMucWsmJnRoaXMuVVAoW10sW2VdLHIpLHRoaXMucm9vdC5sZWZ0KXt2YXIgaT10aGlzLnJvb3QucmlnaHQ7dGhpcy5yb290PXRoaXMucm9vdC5sZWZ0LHRoaXMudlcoZSksdGhpcy5yb290LnJpZ2h0PWl9ZWxzZSB0aGlzLnJvb3Q9dGhpcy5yb290LnJpZ2h0O3JldHVybiB0aGlzLmxlbmd0aC0tLHRoaXMucm9vdCYmdGhpcy5yb290LkVXKCksdGhpcy5xayYmdGhpcy5MUChbXSxbZV0sciksITB9cmV0dXJuITF9LGkucHJvdG90eXBlLmluZGV4T2Y9ZnVuY3Rpb24oZSx0KXtpZih0KXRocm93IG5ldyBFcnJvcihcIlNvcnRlZFNldCNpbmRleE9mIGRvZXMgbm90IHN1cHBvcnQgc2Vjb25kIGFyZ3VtZW50OiBzdGFydEluZGV4XCIpO3JldHVybiB0aGlzLnJvb3QmJih0aGlzLnZXKGUpLHRoaXMuY2UoZSx0aGlzLnJvb3QudmFsdWUpKT90aGlzLnJvb3QuaW5kZXg6LTF9LGkucHJvdG90eXBlLmZpbmQ9ZnVuY3Rpb24oZSx0LHIpe2lmKHQpdGhyb3cgbmV3IEVycm9yKFwiU29ydGVkU2V0I2ZpbmQgZG9lcyBub3Qgc3VwcG9ydCBzZWNvbmQgYXJndW1lbnQ6IGVxdWFsc1wiKTtpZihyKXRocm93IG5ldyBFcnJvcihcIlNvcnRlZFNldCNmaW5kIGRvZXMgbm90IHN1cHBvcnQgdGhpcmQgYXJndW1lbnQ6IGluZGV4XCIpO2lmKHRoaXMucm9vdCYmKHRoaXMudlcoZSksdGhpcy5jZShlLHRoaXMucm9vdC52YWx1ZSkpKXJldHVybiB0aGlzLnJvb3R9LGkucHJvdG90eXBlLlRXPWZ1bmN0aW9uKGUpe2lmKHRoaXMucm9vdCl7Zm9yKGU9ZXx8dGhpcy5yb290O2UucmlnaHQ7KWU9ZS5yaWdodDtyZXR1cm4gZX19LGkucHJvdG90eXBlLklXPWZ1bmN0aW9uKGUpe2lmKHRoaXMucm9vdCl7Zm9yKGU9ZXx8dGhpcy5yb290O2UubGVmdDspZT1lLmxlZnQ7cmV0dXJuIGV9fSxpLnByb3RvdHlwZS53Vz1mdW5jdGlvbihlKXtpZih0aGlzLnJvb3QpcmV0dXJuIHRoaXMudlcoZSksdGhpcy55byh0aGlzLnJvb3QudmFsdWUsZSk+MD90aGlzLnJvb3QueVcoKTp0aGlzLnJvb3R9LGkucHJvdG90eXBlLlNXPWZ1bmN0aW9uKGUpe2lmKHRoaXMucm9vdClyZXR1cm4gdGhpcy52VyhlKSx0aGlzLnlvKHRoaXMucm9vdC52YWx1ZSxlKT49MD90aGlzLnJvb3QueVcoKTp0aGlzLnJvb3R9LGkucHJvdG90eXBlLmdXPWZ1bmN0aW9uKGUpe2lmKHRoaXMucm9vdClyZXR1cm4gdGhpcy52VyhlKSx0aGlzLnlvKHRoaXMucm9vdC52YWx1ZSxlKT49MD90aGlzLnJvb3Q6dGhpcy5yb290LlJXKCl9LGkucHJvdG90eXBlLmJXPWZ1bmN0aW9uKGUpe2lmKHRoaXMucm9vdClyZXR1cm4gdGhpcy52VyhlKSx0aGlzLnlvKHRoaXMucm9vdC52YWx1ZSxlKTw9MD90aGlzLnJvb3QuUlcoKTp0aGlzLnJvb3R9LGkucHJvdG90eXBlLnBvcD1mdW5jdGlvbigpe2lmKHRoaXMucm9vdCl7dmFyIGU9dGhpcy5UVygpO3JldHVybiB0aGlzLmRlbGV0ZShlLnZhbHVlKSxlLnZhbHVlfX0saS5wcm90b3R5cGUuc2hpZnQ9ZnVuY3Rpb24oKXtpZih0aGlzLnJvb3Qpe3ZhciBlPXRoaXMuSVcoKTtyZXR1cm4gdGhpcy5kZWxldGUoZS52YWx1ZSksZS52YWx1ZX19LGkucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24oKXt0aGlzLmFkZEVhY2goYXJndW1lbnRzKX0saS5wcm90b3R5cGUudW5zaGlmdD1mdW5jdGlvbigpe3RoaXMuYWRkRWFjaChhcmd1bWVudHMpfSxpLnByb3RvdHlwZS5zbGljZT1mdW5jdGlvbihlLHQpe2U9ZXx8MCx0PXR8fHRoaXMubGVuZ3RoLGU8MCYmKGUrPXRoaXMubGVuZ3RoKSx0PDAmJih0Kz10aGlzLmxlbmd0aCk7dmFyIHI9W107aWYodGhpcy5yb290KWZvcih0aGlzLlBXKGUpO3RoaXMucm9vdC5pbmRleDx0JiYoci5wdXNoKHRoaXMucm9vdC52YWx1ZSksdGhpcy5yb290LnJpZ2h0KTspdGhpcy52Vyh0aGlzLnJvb3QuUlcoKS52YWx1ZSk7cmV0dXJuIHJ9LGkucHJvdG90eXBlLnNwbGljZT1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLllrKGUsdCxBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMikpfSxpLnByb3RvdHlwZS5Zaz1mdW5jdGlvbihlLHQscil7aWYodm9pZCAwPT09ZSYmdm9pZCAwPT09dClyZXR1cm5bXTtlPWV8fDAsZTwwJiYoZSs9dGhpcy5sZW5ndGgpLHZvaWQgMD09PXQmJih0PTEvMCk7dmFyIGk9W107aWYodGhpcy5yb290KXt0aGlzLlBXKGUpO2Zvcih2YXIgbj0wO248dDtuKyspe2kucHVzaCh0aGlzLnJvb3QudmFsdWUpO3ZhciBzPXRoaXMucm9vdC5SVygpO2lmKHRoaXMuZGVsZXRlKHRoaXMucm9vdC52YWx1ZSksIXMpYnJlYWs7dGhpcy52VyhzLnZhbHVlKX19cmV0dXJuIHRoaXMuYWRkRWFjaChyKSxpfSxpLnByb3RvdHlwZS52Vz1mdW5jdGlvbihlKXt2YXIgdCxyLGkscyxvLGE7aWYodGhpcy5yb290KXtmb3IodD1yPWk9bmV3IHRoaXMuTm9kZSxhPW5ldyB0aGlzLk5vZGUsbz10aGlzLnJvb3Q7Oyl7dmFyIGg9dGhpcy55byhlLG8udmFsdWUpO2lmKGg8MCl7aWYoIW8ubGVmdClicmVhaztpZih0aGlzLnlvKGUsby5sZWZ0LnZhbHVlKTwwJiYocz1vLmxlZnQsby5sZWZ0PXMucmlnaHQsby5FVygpLHMucmlnaHQ9byxzLkVXKCksbz1zLCFvLmxlZnQpKWJyZWFrO3M9bmV3IG4scy5yaWdodD1vLHMubGVmdD1hLmxlZnQsYS5sZWZ0PXMsaS5sZWZ0PW8saS5FVygpLGk9byxvPW8ubGVmdH1lbHNle2lmKCEoaD4wKSlicmVhaztpZighby5yaWdodClicmVhaztpZih0aGlzLnlvKGUsby5yaWdodC52YWx1ZSk+MCYmKHM9by5yaWdodCxvLnJpZ2h0PXMubGVmdCxvLkVXKCkscy5sZWZ0PW8scy5FVygpLG89cywhby5yaWdodCkpYnJlYWs7cz1uZXcgbixzLmxlZnQ9byxzLnJpZ2h0PWEucmlnaHQsYS5yaWdodD1zLHIucmlnaHQ9byxyLkVXKCkscj1vLG89by5yaWdodH19Zm9yKHIucmlnaHQ9by5sZWZ0LHIuRVcoKSxpLmxlZnQ9by5yaWdodCxpLkVXKCksby5sZWZ0PXQucmlnaHQsby5yaWdodD10LmxlZnQ7YS5sZWZ0OylhLmxlZnQucmlnaHQuRVcoKSxhLmxlZnQ9YS5sZWZ0LmxlZnQ7Zm9yKDthLnJpZ2h0OylhLnJpZ2h0LmxlZnQuRVcoKSxhLnJpZ2h0PWEucmlnaHQucmlnaHQ7by5FVygpLHRoaXMucm9vdD1vfX0saS5wcm90b3R5cGUuUFc9ZnVuY3Rpb24oZSl7aWYodGhpcy5yb290KXtmb3IodmFyIHQ9dGhpcy5yb290LHI9dGhpcy5yb290LmluZGV4O3IhPT1lOylpZihyPmUmJnQubGVmdCl0PXQubGVmdCxyLT0xKyh0LnJpZ2h0P3QucmlnaHQubGVuZ3RoOjApO2Vsc2V7aWYoIShyPGUmJnQucmlnaHQpKWJyZWFrO3Q9dC5yaWdodCxyKz0xKyh0LmxlZnQ/dC5sZWZ0Lmxlbmd0aDowKX1yZXR1cm4gdGhpcy52Vyh0LnZhbHVlKSx0aGlzLnJvb3QuaW5kZXg9PT1lfXJldHVybiExfSxpLnByb3RvdHlwZS5yZWR1Y2U9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiB0aGlzLnJvb3QmJih0PXRoaXMucm9vdC5yZWR1Y2UoZSx0LDAscix0aGlzKSksdH0saS5wcm90b3R5cGUucmVkdWNlUmlnaHQ9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiB0aGlzLnJvb3QmJih0PXRoaXMucm9vdC5yZWR1Y2VSaWdodChlLHQsdGhpcy5sZW5ndGgtMSxyLHRoaXMpKSx0fSxpLnByb3RvdHlwZS5taW49ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5JVyhlKTtpZih0KXJldHVybiB0LnZhbHVlfSxpLnByb3RvdHlwZS5tYXg9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5UVyhlKTtpZih0KXJldHVybiB0LnZhbHVlfSxpLnByb3RvdHlwZS5Qbz1mdW5jdGlvbigpe3JldHVybiB0aGlzLm1pbigpfSxpLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3ZhciBlO3RoaXMucWsmJihlPXRoaXMudG9BcnJheSgpLHRoaXMuVVAoW10sZSwwKSksdGhpcy5yb290PW51bGwsdGhpcy5sZW5ndGg9MCx0aGlzLnFrJiZ0aGlzLkxQKFtdLGUsMCl9LGkucHJvdG90eXBlLkFvPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG5ldyB0aGlzLkl0ZXJhdG9yKHRoaXMsZSx0KX0saS5wcm90b3R5cGUuSXRlcmF0b3I9cyxpLnByb3RvdHlwZS5zdW1tYXJ5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucm9vdD90aGlzLnJvb3Quc3VtbWFyeSgpOlwiKClcIn0saS5wcm90b3R5cGUubG9nPWZ1bmN0aW9uKGUsdCxyLGkpe2U9ZXx8dS5HRCx0PXR8fHRoaXMuZ2Uscnx8KHI9Y29uc29sZS5sb2csaT1jb25zb2xlKSxyPXIuYmluZChpKSx0aGlzLnJvb3QmJnRoaXMucm9vdC5sb2coZSx0LHIscil9LGkucHJvdG90eXBlLmdlPWZ1bmN0aW9uKGUsdCxyKXt0KFwiIFwiK2UudmFsdWUpfSxpLkFXPXUsaS5wcm90b3R5cGUuTm9kZT1uLG4ucHJvdG90eXBlLnJlZHVjZT1mdW5jdGlvbihlLHQscixpLG4scyl7aWYocz1zfHwwLHRoaXMubGVmdCl7dmFyIG89dGhpcy5sZWZ0Lmxlbmd0aDt0PXRoaXMubGVmdC5yZWR1Y2UoZSx0LHIsaSxuLHMrMSkscis9b31yZXR1cm4gdD1lLmNhbGwoaSx0LHRoaXMudmFsdWUscixuLHRoaXMscykscis9MSx0aGlzLnJpZ2h0JiYodD10aGlzLnJpZ2h0LnJlZHVjZShlLHQscixpLG4scysxKSksdH0sbi5wcm90b3R5cGUucmVkdWNlUmlnaHQ9ZnVuY3Rpb24oZSx0LHIsaSxuLHMpe3JldHVybiBzPXN8fDAsdGhpcy5yaWdodCYmKHQ9dGhpcy5yaWdodC5yZWR1Y2UoZSx0LHIsaSxuLHMrMSksci09dGhpcy5yaWdodC5sZW5ndGgpLHQ9ZS5jYWxsKGksdCx0aGlzLnZhbHVlLHRoaXMudmFsdWUsbix0aGlzLHMpLHItPTEsdGhpcy5sZWZ0JiYodD10aGlzLmxlZnQucmVkdWNlKGUsdCxyLGksbixzKzEpKSx0fSxuLnByb3RvdHlwZS5FVz1mdW5jdGlvbigpe3RoaXMubGVuZ3RoPTErKHRoaXMubGVmdD90aGlzLmxlZnQubGVuZ3RoOjApKyh0aGlzLnJpZ2h0P3RoaXMucmlnaHQubGVuZ3RoOjApLHRoaXMuaW5kZXg9dGhpcy5sZWZ0P3RoaXMubGVmdC5sZW5ndGg6MH0sbi5wcm90b3R5cGUua1c9ZnVuY3Rpb24oKXt2YXIgZT0xO2lmKGUrPXRoaXMubGVmdD90aGlzLmxlZnQua1coKTowLGUrPXRoaXMucmlnaHQ/dGhpcy5yaWdodC5rVygpOjAsdGhpcy5sZW5ndGghPT1lKXRocm93IG5ldyBFcnJvcihcIkludGVncml0eSBjaGVjayBmYWlsZWQ6IFwiK3RoaXMuc3VtbWFyeSgpKTtyZXR1cm4gZX0sbi5wcm90b3R5cGUuUlc9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2lmKGUucmlnaHQpe2ZvcihlPWUucmlnaHQ7ZS5sZWZ0OyllPWUubGVmdDtyZXR1cm4gZX19LG4ucHJvdG90eXBlLnlXPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztpZihlLmxlZnQpe2ZvcihlPWUubGVmdDtlLnJpZ2h0OyllPWUucmlnaHQ7cmV0dXJuIGV9fSxuLnByb3RvdHlwZS5zdW1tYXJ5PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy52YWx1ZXx8XCItXCI7cmV0dXJuIGUrPVwiIDxcIit0aGlzLmxlbmd0aCx0aGlzLmxlZnR8fHRoaXMucmlnaHQ/XCIoXCIrZStcIiBcIisodGhpcy5sZWZ0P3RoaXMubGVmdC5zdW1tYXJ5KCk6XCIoKVwiKStcIiwgXCIrKHRoaXMucmlnaHQ/dGhpcy5yaWdodC5zdW1tYXJ5KCk6XCIoKVwiKStcIilcIjpcIihcIitlK1wiKVwifSxuLnByb3RvdHlwZS5sb2c9ZnVuY3Rpb24oZSx0LHIsaSl7dmFyIG4scz10aGlzO249dGhpcy5sZWZ0JiZ0aGlzLnJpZ2h0P2UucVA6dGhpcy5sZWZ0P2UuVUQ6dGhpcy5yaWdodD9lLnhEOmUuQkQ7dmFyIG87dGhpcy5sZWZ0JiZ0aGlzLmxlZnQubG9nKGUsdCxmdW5jdGlvbih0KXtvP2koZS5qRCtcIiBcIit0KToobz0hMCxpKGUuSEQrZS5CRCt0KSl9LGZ1bmN0aW9uKGUpe2koXCIgIFwiK2UpfSk7dmFyIGE7dCh0aGlzLGZ1bmN0aW9uKHQpe2E/cigocy5yaWdodD9lLmpEOlwiIFwiKSt0KTooYT0hMCxyKG4rdCkpfSxmdW5jdGlvbih0KXtpKChzLmxlZnQ/ZS5qRDpcIiBcIikrdCl9KTt2YXIgaDt0aGlzLnJpZ2h0JiZ0aGlzLnJpZ2h0LmxvZyhlLHQsZnVuY3Rpb24odCl7aD9yKFwiICBcIit0KTooaD0hMCxyKGUucUQrZS5CRCt0KSl9LGZ1bmN0aW9uKHQpe3IoZS5qRCtcIiBcIit0KX0pfSxzLnByb3RvdHlwZS56az1udWxsLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzLnByb3RvdHlwZSxcIl9pdGVyYXRpb25PYmplY3RcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuemt8fCh0aGlzLnprPXtkb25lOiExLHZhbHVlOm51bGx9KX19KSxzLnByb3RvdHlwZS5uZXh0PWZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIGU9dGhpcy5Naz90aGlzLnNldC5iVyh0aGlzLk1rLnZhbHVlKTp0aGlzLnNldC5JVygpLGU/dm9pZCAwIT09dGhpcy5lbmQmJnRoaXMuc2V0LnlvKGUudmFsdWUsdGhpcy5lbmQpPj0wPyh0aGlzLkprLmRvbmU9ITAsdGhpcy5Kay52YWx1ZT12b2lkIDApOih0aGlzLk1rPWUsdGhpcy5Kay52YWx1ZT1lLnZhbHVlKToodGhpcy5Kay5kb25lPSEwLHRoaXMuSmsudmFsdWU9dm9pZCAwKSx0aGlzLkprfX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuZU49ITEsdGhpcy5zTj0hMSx0aGlzLm9OPSExfXJldHVybiBlfSgpO3QuWF89aX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGkoZSx0LHIsbil7aWYoISh0aGlzIGluc3RhbmNlb2YgaSkpcmV0dXJuIG5ldyBpKGUsdCxyLG4pO0FycmF5LmlzQXJyYXkoZSk/KHRoaXMuZmc9ZSxlPWUuc3BsaWNlKDAsZS5sZW5ndGgpKTp0aGlzLmZnPVtdLHRoaXMuY2U9dHx8T2JqZWN0LmFlLHRoaXMueW89cnx8T2JqZWN0Lm1vLHRoaXMubGU9bnx8RnVuY3Rpb24uaGUsdGhpcy5sZW5ndGg9MCx0aGlzLmFkZEVhY2goZSl9ZnVuY3Rpb24gbihlLHQscil7Zm9yKHZhciBpPTAsbj1lLmxlbmd0aC0xO2k8PW47KXt2YXIgcz1pK24+PjEsbz1yKHQsZVtzXSk7aWYobz4wKWk9cysxO2Vsc2V7aWYoIShvPDApKXJldHVybiBzO249cy0xfX1yZXR1cm4tKGkrMSl9ZnVuY3Rpb24gcyhlLHQscixpKXt2YXIgcz1uKGUsdCxyKTtpZihzPDApcmV0dXJuLTE7Zm9yKDtzPjAmJmkodCxlW3MtMV0pOylzLS07cmV0dXJuIGkodCxlW3NdKT9zOi0xfWZ1bmN0aW9uIG8oZSx0LHIsaSl7dmFyIHM9bihlLHQscik7aWYoczwwKXJldHVybi0xO2Zvcig7czxlLmxlbmd0aC0xJiZpKHQsZVtzKzFdKTspcysrO3JldHVybiBpKHQsZVtzXSk/czotMX1mdW5jdGlvbiBhKGUsdCxyKXt2YXIgaT1uKGUsdCxyKTtpZihpPDApcmV0dXJuLWktMTtmb3IodmFyIHM9ZS5sZW5ndGgtMTtpPHMmJjA9PT1yKHQsZVtpKzFdKTspaSsrO3JldHVybiBpfWUudD1pO3ZhciBoPShyKDEyKSxyKDEzKSksYz1yKDE0KSx1PXIoMzUpO2kuT1c9aSxPYmplY3QuYWRkRWFjaChpLnByb3RvdHlwZSxoLnByb3RvdHlwZSksT2JqZWN0LmFkZEVhY2goaS5wcm90b3R5cGUsYy5wcm90b3R5cGUpLE9iamVjdC5hZGRFYWNoKGkucHJvdG90eXBlLHUucHJvdG90eXBlKSxpLnByb3RvdHlwZS5OTj0hMCxpLnByb3RvdHlwZS5kZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoZSx0aGlzLmNlLHRoaXMueW8sdGhpcy5sZSl9LGkucHJvdG90eXBlLmhhcz1mdW5jdGlvbihlLHQpe2lmKHQpdGhyb3cgbmV3IEVycm9yKFwiU29ydGVkU2V0I2hhcyBkb2VzIG5vdCBzdXBwb3J0IHNlY29uZCBhcmd1bWVudDogZXF1YWxzXCIpO3ZhciByPW4odGhpcy5mZyxlLHRoaXMueW8pO3JldHVybiByPj0wJiZ0aGlzLmNlKHRoaXMuZmdbcl0sZSl9LGkucHJvdG90eXBlLmdldD1mdW5jdGlvbihlLHQpe2lmKHQpdGhyb3cgbmV3IEVycm9yKFwiU29ydGVkQXJyYXkjZ2V0IGRvZXMgbm90IHN1cHBvcnQgc2Vjb25kIGFyZ3VtZW50OiBlcXVhbHNcIik7dmFyIHI9cyh0aGlzLmZnLGUsdGhpcy55byx0aGlzLmNlKTtyZXR1cm4tMSE9PXI/dGhpcy5mZ1tyXTp0aGlzLmxlKGUpfSxpLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24oZSl7dmFyIHQ9YSh0aGlzLmZnLGUsdGhpcy55byk7cmV0dXJuIHRoaXMucWsmJnRoaXMuVVAoW2VdLFtdLHQpLHRoaXMuZmcuc3BsaWNlKHQsMCxlKSx0aGlzLmxlbmd0aCsrLHRoaXMucWsmJnRoaXMuTFAoW2VdLFtdLHQpLCEwfSxpLnByb3RvdHlwZS5kZWxldGU9ZnVuY3Rpb24oZSx0KXtpZih0KXRocm93IG5ldyBFcnJvcihcIlNvcnRlZEFycmF5I2RlbGV0ZSBkb2VzIG5vdCBzdXBwb3J0IHNlY29uZCBhcmd1bWVudDogZXF1YWxzXCIpO3ZhciByPXModGhpcy5mZyxlLHRoaXMueW8sdGhpcy5jZSk7cmV0dXJuLTEhPT1yJiYodGhpcy5xayYmdGhpcy5VUChbXSxbZV0sciksdGhpcy5mZy5zcGxpY2UociwxKSx0aGlzLmxlbmd0aC0tLHRoaXMucWsmJnRoaXMuTFAoW10sW2VdLHIpLCEwKX0saS5wcm90b3R5cGUuR1A9ZnVuY3Rpb24oZSx0KXtpZih0KXt2YXIgcj10aGlzLmZnLkdQKGUsdCk7cmV0dXJuIHRoaXMubGVuZ3RoLT1yLHJ9dmFyIGk9cyh0aGlzLmZnLGUsdGhpcy55byx0aGlzLmNlKTtpZigtMSE9PWkpe2Zvcih2YXIgbj1pO3RoaXMuY2UoZSx0aGlzLmZnW25dKTspbisrO3ZhciBvPXRoaXMuc2xpY2UoaSxuKTtyZXR1cm4gdGhpcy5xayYmdGhpcy5VUChbXSxvLGkpLHRoaXMuZmcuc3BsaWNlKGksby5sZW5ndGgpLHRoaXMubGVuZ3RoLT1vLmxlbmd0aCx0aGlzLnFrJiZ0aGlzLkxQKFtdLG8saSksby5sZW5ndGh9cmV0dXJuIDB9LGkucHJvdG90eXBlLmluZGV4T2Y9ZnVuY3Rpb24oZSl7cmV0dXJuIHModGhpcy5mZyxlLHRoaXMueW8sdGhpcy5jZSl9LGkucHJvdG90eXBlLmxhc3RJbmRleE9mPWZ1bmN0aW9uKGUpe3JldHVybiBvKHRoaXMuZmcsZSx0aGlzLnlvLHRoaXMuY2UpfSxpLnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKGUsdCxyKXtpZih0KXRocm93IG5ldyBFcnJvcihcIlNvcnRlZEFycmF5I2ZpbmQgZG9lcyBub3Qgc3VwcG9ydCBzZWNvbmQgYXJndW1lbnQ6IGVxdWFsc1wiKTtpZihyKXRocm93IG5ldyBFcnJvcihcIlNvcnRlZEFycmF5I2ZpbmQgZG9lcyBub3Qgc3VwcG9ydCB0aGlyZCBhcmd1bWVudDogaW5kZXhcIik7cmV0dXJuIHModGhpcy5mZyxlLHRoaXMueW8sdGhpcy5jZSl9LGkucHJvdG90eXBlLkhrPWZ1bmN0aW9uKGUsdCxyKXtpZih0KXRocm93IG5ldyBFcnJvcihcIlNvcnRlZEFycmF5I2ZpbmRMYXN0IGRvZXMgbm90IHN1cHBvcnQgc2Vjb25kIGFyZ3VtZW50OiBlcXVhbHNcIik7aWYocil0aHJvdyBuZXcgRXJyb3IoXCJTb3J0ZWRBcnJheSNmaW5kTGFzdCBkb2VzIG5vdCBzdXBwb3J0IHRoaXJkIGFyZ3VtZW50OiBpbmRleFwiKTtyZXR1cm4gbyh0aGlzLmZnLGUsdGhpcy55byx0aGlzLmNlKX0saS5wcm90b3R5cGUucHVzaD1mdW5jdGlvbigpe3RoaXMuYWRkRWFjaChhcmd1bWVudHMpfSxpLnByb3RvdHlwZS51bnNoaWZ0PWZ1bmN0aW9uKCl7dGhpcy5hZGRFYWNoKGFyZ3VtZW50cyl9LGkucHJvdG90eXBlLnBvcD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZmcucG9wKCk7cmV0dXJuIHRoaXMubGVuZ3RoPXRoaXMuZmcubGVuZ3RoLGV9LGkucHJvdG90eXBlLnNoaWZ0PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5mZy5zaGlmdCgpO3JldHVybiB0aGlzLmxlbmd0aD10aGlzLmZnLmxlbmd0aCxlfSxpLnByb3RvdHlwZS5zbGljZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmZnLnNsaWNlLmFwcGx5KHRoaXMuZmcsYXJndW1lbnRzKX0saS5wcm90b3R5cGUuc3BsaWNlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuWWsoZSx0LEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywyKSl9LGkucHJvdG90eXBlLllrPWZ1bmN0aW9uKGUsdCxyKXtpZih2b2lkIDA9PT1lJiZ2b2lkIDA9PT10KXJldHVybltdO2U9ZXx8MCxlPDAmJihlKz10aGlzLmxlbmd0aCksdm9pZCAwPT09dCYmKHQ9MS8wKTt2YXIgaT10aGlzLnNsaWNlKGUsZSt0KTtyZXR1cm4gdGhpcy5xayYmdGhpcy5VUChyLGksZSksdGhpcy5mZy5zcGxpY2UoZSx0KSx0aGlzLmxlbmd0aC09aS5sZW5ndGgsdGhpcy5xayYmdGhpcy5MUChbXSxpLGUpLHRoaXMuYWRkRWFjaChyKSxpfSxpLnByb3RvdHlwZS5yZWR1Y2U9ZnVuY3Rpb24oZSx0KXt2YXIgcj1hcmd1bWVudHNbMl07cmV0dXJuIHRoaXMuZmcucmVkdWNlKGZ1bmN0aW9uKHQsaSxuKXtyZXR1cm4gZS5jYWxsKHIsdCxpLG4sdGhpcyl9LHQsdGhpcyl9LGkucHJvdG90eXBlLnJlZHVjZVJpZ2h0PWZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzWzJdO3JldHVybiB0aGlzLmZnLnJlZHVjZVJpZ2h0KGZ1bmN0aW9uKHQscixpKXtyZXR1cm4gY2FsbGJhY2suY2FsbChlLHQscixpLHRoaXMpfSxiYXNpcyx0aGlzKX0saS5wcm90b3R5cGUubWluPWZ1bmN0aW9uKCl7aWYodGhpcy5sZW5ndGgpcmV0dXJuIHRoaXMuZmdbMF19LGkucHJvdG90eXBlLm1heD1mdW5jdGlvbigpe2lmKHRoaXMubGVuZ3RoKXJldHVybiB0aGlzLmZnW3RoaXMubGVuZ3RoLTFdfSxpLnByb3RvdHlwZS5Qbz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmZnLlBvKCl9LGkucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dmFyIGU7dGhpcy5xayYmKGU9dGhpcy5mZy5zbGljZSgpLHRoaXMuVVAoW10sZSwwKSksdGhpcy5sZW5ndGg9MCx0aGlzLmZnLmNsZWFyKCksdGhpcy5xayYmdGhpcy5MUChbXSxlLDApfSxpLnByb3RvdHlwZS5hZT1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmZnLmFlKGUsdCl9LGkucHJvdG90eXBlLm1vPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZmcubW8oZSx0KX0saS5wcm90b3R5cGUuQW89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3IHRoaXMuSXRlcmF0b3IodGhpcy5mZyxlLHQpfSxpLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50b0FycmF5KCl9LGkucHJvdG90eXBlLkl0ZXJhdG9yPUFycmF5LnByb3RvdHlwZS5JdGVyYXRvcn0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXIoMSksbj1yKDQ0KSxzPXIoMik7cigxNDEpLHIoMTQzKTt2YXIgbz1yKDgxKSxhPXIoMCksaD1yKDE0NCksYz1yKDEwKSx1PXIoODIpLGw9cigxNDUpLHA9cigxNDYpLGY9cig4MCksZD1yKDgpLGc9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMuaXNMaXZlPSExLHRoaXMudGU9YS5GcmFtZXdvcmsmJmEuRnJhbWV3b3JrLnJlc29sdmUoYS5GcmFtZXdvcmsucS5JKT9hLkZyYW1ld29yay5yZXNvbHZlKGEuRnJhbWV3b3JrLnEuSSkubG9nKGUpOmNvbnNvbGUsdGhpcy5fVz1uZXcgRGFzaFBhcnNlcix0aGlzLnJlc2V0KCl9cmV0dXJuIGUucHJvdG90eXBlLk5XPWZ1bmN0aW9uKGUpe3ZhciB0PVwiXCI7cmV0dXJuLTEhPT1lLmluZGV4T2YoXCIvXCIpJiYoLTEhPT1lLmluZGV4T2YoXCI/XCIpJiYoZT1lLnN1YnN0cmluZygwLGUuaW5kZXhPZihcIj9cIikpKSx0PWUuc3Vic3RyaW5nKDAsZS5sYXN0SW5kZXhPZihcIi9cIikrMSkpLHR9LGUucHJvdG90eXBlLm1CPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNMaXZlfSxlLnByb3RvdHlwZS53Tj1mdW5jdGlvbigpe3JldHVybiB0aGlzLkRXLnZhbHVlcygpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5iYW5kd2lkdGh9KX0sZS5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLkRXPW5ldyBpfSxlLnByb3RvdHlwZS5GVz1mdW5jdGlvbigpe3JldHVybiB0aGlzLkxXfSxlLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbih0LHIsaSl7dGhpcy5yZXNldCgpLHRoaXMuU0I9dCx0aGlzLm1hbmlmZXN0PXRoaXMuX1cucGFyc2Uocix0aGlzLk5XKHQpKSx0aGlzLmlzTGl2ZT1cInN0YXRpY1wiIT09dGhpcy5tYW5pZmVzdC50eXBlO2Zvcih2YXIgbj10aGlzLm1hbmlmZXN0Lk1XLHM9dGhpcy5tYW5pZmVzdC5CV1swXSxvPXMuVVcsYT0wO2E8by5sZW5ndGg7YSsrKXt2YXIgdT1zLnhXW2FdLGw9LTEhPXUubWltZVR5cGUuaW5kZXhPZihcImF1ZGlvXCIpP2MuV3MuS3M6Yy5Xcy5ZcztsPT09Yy5Xcy5ZcyYmdS5IVyYmdGhpcy5xVyh1LkhXKTtmb3IodmFyIHA9dS5qVy5WVyxmPXUualcubWVkaWEsZD1wYXJzZUludCh1LmpXLkdXKSxnPTA7Zzx1LlFXLmxlbmd0aDtnKyspe3ZhciB2PXUuUVdbZ10seT1uZXcgaC5LVzt5LnR5cGU9bCx5LmJhbmR3aWR0aD1wYXJzZUludCh2LmJhbmR3aWR0aCkseS5HVz1kLHkuVlc9bitcIlwiK3AseS5WVz15LlZXLnJlcGxhY2UoZS5ZVyxcIlwiK3kuYmFuZHdpZHRoKSxpfHx0aGlzLnRlLmRlYnVnKFwiUXVhbGl0eUxldmVsIFwiK2MuV3NbbF0rXCIgXCIreS5iYW5kd2lkdGgpO3ZhciBtPW4rXCJcIitmO209bS5yZXBsYWNlKGUuWVcsXCJcIit5LmJhbmR3aWR0aCkseS56Vz1tO3ZhciBFPXBhcnNlSW50KHkuYmFuZHdpZHRoK1wiXCIpLFQ9dGhpcy5KVyh1LmpXLlhXWzBdLldXLG0sRSxsKTt5LlpXPVQuJFcseS5lWD1ULnRYO3ZhciBJPW0uc3Vic3RyKDAsbS5sYXN0SW5kZXhPZihcIj1cIikpO0k9SS5zdWJzdHIoMCxJLmxhc3RJbmRleE9mKFwiPVwiKSksdGhpcy5EVy5zZXQoSSx5KX19cmV0dXJuIHRoaXMuTFc9ITAsdGhpcy5yWChyLGkpfSxlLnByb3RvdHlwZS5KVz1mdW5jdGlvbih0LHIsaSxzKXt2YXIgbyxhPW5ldyBuLGg9bmV3IG4sYz0wLGw9MDtyZXR1cm4gdC5mb3JFYWNoKGZ1bmN0aW9uKHQpe2lmKHQuZCl7dC52cD9jPXBhcnNlSW50KHQudnApOmMrPWw7dmFyIG49cGFyc2VJbnQodC5kKSxwPXIucmVwbGFjZShlLmlYLGMrXCJcIiksZj1uZXcgdS4kQihjLGksbixwLHApO2YudHlwZT1zLG8mJihvLm5leHQ9ZiksYS5zZXQocCxmKSxoLnNldChjLGYpLG89Zjt2YXIgZD0wO3QuciYmKGQ9cGFyc2VJbnQodC5yKSk7Zm9yKHZhciBnPTA7ZzxkO2crKyl7Yys9bjt2YXIgcD1yLnJlcGxhY2UoZS5pWCxjK1wiXCIpLGY9bmV3IHUuJEIoYyxpLG4scCxwKTtmLnR5cGU9cyxvJiYoby5uZXh0PWYpLGEuc2V0KHAsZiksaC5zZXQoYyxmKSxvPWZ9bD1ufX0pLHskVzphLHRYOmh9fSxlLnByb3RvdHlwZS5xVz1mdW5jdGlvbihlKXtpZihlKXtpZihlLm5YKXt2YXIgdD1lLm5YO3RoaXMuQUImJiF0aGlzLkFCLnNYKCkmJnRoaXMuQUIgaW5zdGFuY2VvZiBsLm9YfHwodGhpcy5BQj1uZXcgbC5vWCh0LmFYLHQuaFgsdGhpcy5hdXRoZW50aWNhdGlvblRva2VuKSl9ZWxzZSB0aGlzLkFCJiZ0aGlzLkFCIGluc3RhbmNlb2YgcC5jWHx8KHRoaXMuQUI9bmV3IHAuY1gpO3RoaXMuQUImJmYueUIuaUImJnRoaXMuQUIuaW5pdCgpfX0sZS5wcm90b3R5cGUudVg9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zdWJzdHIoMCxlLmxhc3RJbmRleE9mKFwiPVwiKSk7cmV0dXJuIHQ9dC5zdWJzdHIoMCx0Lmxhc3RJbmRleE9mKFwiPVwiKSksdGhpcy5EVy5nZXQodCl9LGUucHJvdG90eXBlLlRCPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnVYKGUpLlpXLmdldChlKX0sZS5wcm90b3R5cGUuRUI9ZnVuY3Rpb24oZSl7dmFyIHQ9ITE7cmV0dXJuIHRoaXMuRFcuZm9yRWFjaChmdW5jdGlvbihyLGkpe3IuVlc9PT1lJiYodD0hMCl9KSx0fSxlLnByb3RvdHlwZS5JQj1mdW5jdGlvbihlKXt2YXIgdD10aGlzLlRCKGUpO3JldHVybiBudWxsIT10P3QubmV4dDpudWxsfSxlLnByb3RvdHlwZS55az1mdW5jdGlvbihlLHQscixpKXt2YXIgbjtpZih0aGlzLkRXLmZvckVhY2goZnVuY3Rpb24oZSx0KXtlLmJhbmR3aWR0aD09PWkmJihuPWUpfSksbiYmbi5lWC5oYXMoZSkmJm4uZVguaGFzKHIpKXtmb3IodmFyIHM9bi5lWC5nZXQoZSksbz1uLmVYLmdldChyKSxhPTAsaD1zO2gmJmghPW87KWErPWguZHVyYXRpb24saD1oLm5leHQ7cmV0dXJuIE1hdGgucm91bmQoYS8obi5HVy8xZTMpKX1yZXR1cm4gMH0sZS5wcm90b3R5cGUuQU49ZnVuY3Rpb24odCl7dmFyIHI9dGhpcyxpPXMuZGVmZXIoKSxuPXRoaXMuVEIodC5XdSgpKTtpZighbnx8bi5uZXh0KXJldHVybiBpLnJlc29sdmUoITEpLGkuVGU7dmFyIG89cy5kZWZlcigpO2lmKHRoaXMuQUIpZi55Qi5pQj90aGlzLkFCLkNCKCkudGhlbihmdW5jdGlvbihlKXtlP3IuQUIuZGVjcnlwdCh0Lkh1KS50aGVuKGZ1bmN0aW9uKGUpe28ucmVzb2x2ZShyLmxYKGUpKX0pLmZhaWwoZnVuY3Rpb24oZSl7cmV0dXJuIG8ucmVqZWN0KCEwKX0pOm8ucmVqZWN0KCExKX0pOm8ucmVqZWN0KCExKTtlbHNlIHRyeXt2YXIgYT10aGlzLmxYKHQuSHUpO28ucmVzb2x2ZShhKX1jYXRjaChlKXt0aGlzLnRlLndhcm4oXCJlcnJvciBleHRyYWN0aW5nIGR1cmF0aW9uXCIsZSksby5yZWplY3QoITApfXJldHVybiBvLlRlLnRoZW4oZnVuY3Rpb24odCl7aWYoIWlzTmFOKHQpKXt2YXIgcz1uLmlkK3Q7ci50ZS5kZWJ1ZyhcImZvdW5kIG5leHQgZnJhZ21lbnQ6IFwiK24uaWQrXCIgLT4gXCIrcytcIiBkdXJhdGlvbjogXCIrdCksci5EVy5mb3JFYWNoKGZ1bmN0aW9uKHIsaSl7aWYoci50eXBlPT09bi50eXBlKXt2YXIgbz1yLnpXLnJlcGxhY2UoZS5pWCxuLmlkK1wiXCIpLGE9ci56Vy5yZXBsYWNlKGUuaVgscytcIlwiKSxoPXIuWlcuZ2V0KG8pO2lmKCFyLlpXLmhhcyhhKSYmaCl7aC5kdXJhdGlvbj10O3ZhciBjPW5ldyB1LiRCKHMsci5iYW5kd2lkdGgsdCxhLGEpO2MudHlwZT1oLnR5cGUsaC5uZXh0PWMsci5aVy5zZXQoYSxjKSxyLmVYLnNldChzLGMpfX19KX1pLnJlc29sdmUoITEpfSkuZmFpbChmdW5jdGlvbihlKXtyLnRlLmRlYnVnKFwiY291bGQgbm90IGV4dHJhY3QgZHVyYXRpb24gZnJvbSBcIit0Lld1KCkrXCIgW3JlZXZhbHVhdGU6IFwiK2UrXCJdXCIpLGkucmVzb2x2ZShlKX0pLGkuVGV9LGUucHJvdG90eXBlLmxYPWZ1bmN0aW9uKGUpe2UgaW5zdGFuY2VvZiBVaW50OEFycmF5JiYoZT1lLmJ1ZmZlcik7dmFyIHQ9SVNPQm94ZXIucFgoZSkscj10LmZldGNoKFwidGZoZFwiKSxpPXQuZmV0Y2goXCJ0cnVuXCIpLG49cj9yLmZYOjA7aWYoaSl7dmFyIHM9MDtyZXR1cm4gaS5kWC5mb3JFYWNoKGZ1bmN0aW9uKGUpe3MrPWUuZ1h9KSxpc05hTihzKSYmbj4wJiYocz1uKmkuZFgubGVuZ3RoKSxzfX0sZS5wcm90b3R5cGUuclg9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLnZYKCk7aWYoIXQmJih0aGlzLmlzTGl2ZXx8cnx8ZC5IaXZlQ29uZmlnLkRhc2guRGFzaFJlbW92ZUJpdHJhdGVTaXplKSl0cnl7dmFyIGk9bmV3IG8oe30pLG49aS5KQihlKTt0aGlzLmlzTGl2ZSYmdGhpcy55WChuKSwocnx8ZC5IaXZlQ29uZmlnLkRhc2guRGFzaFJlbW92ZUJpdHJhdGVTaXplKSYmdGhpcy5tWChuLHIsZC5IaXZlQ29uZmlnLkRhc2guRGFzaFJlbW92ZUJpdHJhdGVTaXplKTtyZXR1cm4gaS5XQihuKX1jYXRjaChlKXt0aGlzLnRlLmVycm9yKGUpfXJldHVybiBlfSxlLnByb3RvdHlwZS55WD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9TWF0aC5tYXgoMSxmLnlCLmFCKSxpPU1hdGgubWF4KDEsZi55Qi5vQiksbj0wLHM9MDtyZXR1cm4gZS5FWCYmZS5FWC5UWCYmZS5FWC5UWC54Vy5mb3JFYWNoKGZ1bmN0aW9uKGUpe2lmKFwidmlkZW9cIj09PWUuSVgmJmUualcmJmUualcud1gpe2Zvcih2YXIgbz1lLmpXLndYLldXLGE9cGFyc2VJbnQoZS5qVy5TWCksaD1pKmEsYz0wLHU9MCxsPTA7bDxvLmxlbmd0aCYmcj4wO2wrKyl7dmFyIHA9b1tsXTtjPWw7dmFyIGY9cC5SWD9wYXJzZUludChwLlJYKToxO2Y+cj8odT1yLHI9MCk6KHItPWYsdT1mKX1mb3IodmFyIGQ9by5sZW5ndGgtMTtkPj0wJiYoaD4wJiZkPj1jKTtkLS0pe3ZhciBwPW9bZF0sZj1wLlJYP3BhcnNlSW50KHAuUlgpOjEsZz0wO2lmKCFwLmJYKXRocm93IG5ldyBFcnJvcihcIm1pc3Npbmcgc2VnbWVudCBkdXJhdGlvblwiKTtnPXBhcnNlSW50KHAuYlgpO3ZhciB2PWYqZztpZigoZD5jfHxkPT1jJiYwPT11KSYmaD49diloLT12LG8uc3BsaWNlKGQsMSksbis9ZixzKz12O2Vsc2V7dmFyIHk9TWF0aC5jZWlsKGgvZyk7ZD09YyYmKHk9TWF0aC5taW4oeSxmLXUpKTt2YXIgbT1nKnk7cC5SWD1mLXkrXCJcIixoLT1tLG4rPXkscys9bX19dC50ZS5kZWJ1ZyhcIkRBU0ggdHJpbW1lZCBcIituK1wiIHNlZ21lbnRzIGZvciB0b3RhbCBkdXJhdGlvbjogXCIrcyl9fSksZX0sZS5wcm90b3R5cGUudlg9ZnVuY3Rpb24oKXtpZihkLkhpdmVDb25maWcuRGFzaC5EYXNoRmlsdGVyQml0cmF0ZXMpdHJ5e3ZhciBlPW51bGw7ZT1cInN0cmluZ1wiPT10eXBlb2YgZC5IaXZlQ29uZmlnLkRhc2guRGFzaEZpbHRlckJpdHJhdGVzP2QuSGl2ZUNvbmZpZy5EYXNoLkRhc2hGaWx0ZXJCaXRyYXRlcy5zcGxpdChcIixcIik6ZC5IaXZlQ29uZmlnLkRhc2guRGFzaEZpbHRlckJpdHJhdGVzO3ZhciB0PVtdO3JldHVybiBlLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHI9cGFyc2VJbnQoZSk7aXNOYU4ocil8fHQucHVzaChyKX0pLHR9Y2F0Y2goZSl7dGhpcy50ZS53YXJuKFwiW0hpdmVKc10gZXJyb3IgcGFyc2luZyBEYXNoRmlsdGVyQml0cmF0ZXM6IFwiK2QuSGl2ZUNvbmZpZy5EYXNoLkRhc2hGaWx0ZXJCaXRyYXRlcyl9fSxlLnByb3RvdHlwZS5tWD1mdW5jdGlvbihlLHQscil7dmFyIGk9dGhpcztpZihlLkVYJiZlLkVYLlRYKXt2YXIgbj1bXTtlLkVYLlRYLnhXLmZvckVhY2goZnVuY3Rpb24oZSl7aWYoXCJ2aWRlb1wiPT09ZS5JWCYmZS5RVyl7dmFyIHM9ZS5RVztzLnNvcnQoZnVuY3Rpb24oZSx0KXtyZXR1cm4gaXNOYU4oZS5QWCkmJihlLlBYPXBhcnNlSW50KGUuUFgpKSxpc05hTih0LlBYKSYmKHQuUFg9cGFyc2VJbnQodC5QWCkpLGUuUFgtdC5QWH0pO2Zvcih2YXIgbz1zLmxlbmd0aC0xO28+PTA7by0tKXImJihkZWxldGUgc1tvXS5BWCxkZWxldGUgc1tvXS5DWCksdCYmLTE9PXQuaW5kZXhPZihvKT9zLnNwbGljZShvLDEpOm4ucHVzaChzW29dLlBYKTtpLnRlLmRlYnVnKFwiREFTSCBmaWx0ZXJlZC1pbiBiaXRyYXRlczogXCIrbi5yZXZlcnNlKCkuam9pbihcIiBcIikrXCIgLSByZW1vdmVkIHNpemU6IFwiK3IpfX0pfX0sZS5wcm90b3R5cGUuREI9ZnVuY3Rpb24oZSx0LHIsaSl7dmFyIG47aWYodGhpcy5EVy5mb3JFYWNoKGZ1bmN0aW9uKGUsdCl7ZS5iYW5kd2lkdGg9PT1pJiYobj1lKX0pLG4mJm4uZVguaGFzKGUpJiZuLmVYLmhhcyhyKSl7Zm9yKHZhciBzPW4uZVguZ2V0KGUpLG89bi5lWC5nZXQociksYT0wLGg9cztoJiZoIT1vOylhKz1oLmR1cmF0aW9uLGg9aC5uZXh0O3JldHVybiBNYXRoLnJvdW5kKGEvKG4uR1cvMWUzKSl9cmV0dXJuIDB9LGUucHJvdG90eXBlLkZCPWZ1bmN0aW9uKGUsdCl7dmFyIHI7cmV0dXJuIHRoaXMuRFcuZm9yRWFjaChmdW5jdGlvbihlLGkpe2UuYmFuZHdpZHRoPT09dCYmKHI9ZSl9KSxyJiZyLmVYLmhhcyhlKT9yLmVYLmdldChlKTpudWxsfSxlfSgpO2cuWVc9XCIkQmFuZHdpZHRoJFwiLGcuaVg9XCIkVGltZSRcIix0LnZCPWd9LGZ1bmN0aW9uKGUsdCxyKXsvKiFcclxuICogVGhlIGNvcHlyaWdodCBpbiB0aGlzIHNvZnR3YXJlIGlzIGJlaW5nIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZSBCU0QgTGljZW5zZSxcclxuICogaW5jbHVkZWQgYmVsb3cuIFRoaXMgc29mdHdhcmUgbWF5IGJlIHN1YmplY3QgdG8gb3RoZXIgdGhpcmQgcGFydHkgYW5kIGNvbnRyaWJ1dG9yXHJcbiAqIHJpZ2h0cywgaW5jbHVkaW5nIHBhdGVudCByaWdodHMsIGFuZCBubyBzdWNoIHJpZ2h0cyBhcmUgZ3JhbnRlZCB1bmRlciB0aGlzIGxpY2Vuc2UuXHJcbiAqXHJcbiAqIENvcHlyaWdodCAoYykgMjAxMywgRGFzaCBJbmR1c3RyeSBGb3J1bS5cclxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICpcclxuICogUmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvciB3aXRob3V0IG1vZGlmaWNhdGlvbixcclxuICogYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmUgbWV0OlxyXG4gKiAgKiBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsIHRoaXNcclxuICogIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyLlxyXG4gKiAgKiBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsXHJcbiAqICB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyIGluIHRoZSBkb2N1bWVudGF0aW9uIGFuZC9vclxyXG4gKiAgb3RoZXIgbWF0ZXJpYWxzIHByb3ZpZGVkIHdpdGggdGhlIGRpc3RyaWJ1dGlvbi5cclxuICogICogTmVpdGhlciB0aGUgbmFtZSBvZiBEYXNoIEluZHVzdHJ5IEZvcnVtIG5vciB0aGUgbmFtZXMgb2YgaXRzXHJcbiAqICBjb250cmlidXRvcnMgbWF5IGJlIHVzZWQgdG8gZW5kb3JzZSBvciBwcm9tb3RlIHByb2R1Y3RzIGRlcml2ZWQgZnJvbSB0aGlzIHNvZnR3YXJlXHJcbiAqICB3aXRob3V0IHNwZWNpZmljIHByaW9yIHdyaXR0ZW4gcGVybWlzc2lvbi5cclxuICpcclxuICogIFRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgVEhFIENPUFlSSUdIVCBIT0xERVJTIEFORCBDT05UUklCVVRPUlMgQVMgSVMgQU5EIEFOWVxyXG4gKiAgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBUSEUgSU1QTElFRFxyXG4gKiAgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFSRSBESVNDTEFJTUVELlxyXG4gKiAgSU4gTk8gRVZFTlQgU0hBTEwgVEhFIENPUFlSSUdIVCBIT0xERVIgT1IgQ09OVFJJQlVUT1JTIEJFIExJQUJMRSBGT1IgQU5ZIERJUkVDVCxcclxuICogIElORElSRUNULCBJTkNJREVOVEFMLCBTUEVDSUFMLCBFWEVNUExBUlksIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyAoSU5DTFVESU5HLCBCVVRcclxuICogIE5PVCBMSU1JVEVEIFRPLCBQUk9DVVJFTUVOVCBPRiBTVUJTVElUVVRFIEdPT0RTIE9SIFNFUlZJQ0VTOyBMT1NTIE9GIFVTRSwgREFUQSwgT1JcclxuICogIFBST0ZJVFM7IE9SIEJVU0lORVNTIElOVEVSUlVQVElPTikgSE9XRVZFUiBDQVVTRUQgQU5EIE9OIEFOWSBUSEVPUlkgT0YgTElBQklMSVRZLFxyXG4gKiAgV0hFVEhFUiBJTiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1IgVE9SVCAoSU5DTFVESU5HIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKVxyXG4gKiAgQVJJU0lORyBJTiBBTlkgV0FZIE9VVCBPRiBUSEUgVVNFIE9GIFRISVMgU09GVFdBUkUsIEVWRU4gSUYgQURWSVNFRCBPRiBUSEVcclxuICogIFBPU1NJQklMSVRZIE9GIFNVQ0ggREFNQUdFLlxyXG4gKi9cclxudmFyIGk9cigxNDIpLG49cig4MSk7RGFzaFBhcnNlcj1mdW5jdGlvbigpe3ZhciBlPS9eKFstXSk/UCgoW1xcZC5dKilZKT8oKFtcXGQuXSopTSk/KChbXFxkLl0qKUQpP1Q/KChbXFxkLl0qKUgpPygoW1xcZC5dKilNKT8oKFtcXGQuXSopUyk/Lyx0PS9eKFswLTldezR9KS0oWzAtOV17Mn0pLShbMC05XXsyfSlUKFswLTldezJ9KTooWzAtOV17Mn0pKD86OihbMC05XSopKFxcLlswLTldKik/KT8oPzooWystXSkoWzAtOV17Mn0pKFswLTldezJ9KSk/LyxyPS9eWy0rXT9bMC05XStbLl0/WzAtOV0qKFtlRV1bLStdP1swLTldKyk/JC8scz1be3R5cGU6XCJkdXJhdGlvblwiLHRlc3Q6ZnVuY3Rpb24odCl7Zm9yKHZhciByPVtcIm1pbkJ1ZmZlclRpbWVcIixcIm1lZGlhUHJlc2VudGF0aW9uRHVyYXRpb25cIixcIm1pbmltdW1VcGRhdGVQZXJpb2RcIixcInRpbWVTaGlmdEJ1ZmZlckRlcHRoXCIsXCJtYXhTZWdtZW50RHVyYXRpb25cIixcIm1heFN1YnNlZ21lbnREdXJhdGlvblwiLFwic3VnZ2VzdGVkUHJlc2VudGF0aW9uRGVsYXlcIixcInN0YXJ0XCIsXCJzdGFydHRpbWVcIixcImR1cmF0aW9uXCJdLGk9ci5sZW5ndGgsbj0wO248aTtuKyspaWYodC5ub2RlTmFtZT09PXJbbl0pcmV0dXJuIGUudGVzdCh0LnZhbHVlKTtyZXR1cm4hMX0sVUI6ZnVuY3Rpb24odCl7dmFyIHI9ZS5leGVjKHQpLGk9MzE1MzZlMypwYXJzZUZsb2F0KHJbMl18fDApKzI1OTJlMypwYXJzZUZsb2F0KHJbNF18fDApKzg2NDAwKnBhcnNlRmxvYXQocls2XXx8MCkrMzYwMCpwYXJzZUZsb2F0KHJbOF18fDApKzYwKnBhcnNlRmxvYXQoclsxMF18fDApK3BhcnNlRmxvYXQoclsxMl18fDApO3JldHVybiB2b2lkIDAhPT1yWzFdJiYoaT0taSksaX19LHt0eXBlOlwiZGF0ZXRpbWVcIix0ZXN0OmZ1bmN0aW9uKGUpe3JldHVybiB0LnRlc3QoZS52YWx1ZSl9LFVCOmZ1bmN0aW9uKGUpe3ZhciByLGk9dC5leGVjKGUpO2lmKHI9RGF0ZS5VVEMocGFyc2VJbnQoaVsxXSwxMCkscGFyc2VJbnQoaVsyXSwxMCktMSxwYXJzZUludChpWzNdLDEwKSxwYXJzZUludChpWzRdLDEwKSxwYXJzZUludChpWzVdLDEwKSxpWzZdJiZwYXJzZUludChpWzZdLDEwKXx8MCxpWzddJiYxZTMqcGFyc2VGbG9hdChpWzddKXx8MCksaVs5XSYmaVsxMF0pe3ZhciBuPTYwKnBhcnNlSW50KGlbOV0sMTApK3BhcnNlSW50KGlbMTBdLDEwKTtyKz0oXCIrXCI9PT1pWzhdPy0xOjEpKm4qNjAqMWUzfXJldHVybiBuZXcgRGF0ZShyKX19LHt0eXBlOlwibnVtZXJpY1wiLHRlc3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIHIudGVzdChlLnZhbHVlKX0sVUI6ZnVuY3Rpb24oZSl7cmV0dXJuIHBhcnNlRmxvYXQoZSl9fV0sbz1mdW5jdGlvbigpe3ZhciBlLHQscixpO3JldHVybiBpPVt7bmFtZTpcInByb2ZpbGVzXCIsdWQ6ITF9LHtuYW1lOlwid2lkdGhcIix1ZDohMX0se25hbWU6XCJoZWlnaHRcIix1ZDohMX0se25hbWU6XCJzYXJcIix1ZDohMX0se25hbWU6XCJmcmFtZVJhdGVcIix1ZDohMX0se25hbWU6XCJhdWRpb1NhbXBsaW5nUmF0ZVwiLHVkOiExfSx7bmFtZTpcIm1pbWVUeXBlXCIsdWQ6ITF9LHtuYW1lOlwic2VnbWVudFByb2ZpbGVzXCIsdWQ6ITF9LHtuYW1lOlwiY29kZWNzXCIsdWQ6ITF9LHtuYW1lOlwibWF4aW11bVNBUFBlcmlvZFwiLHVkOiExfSx7bmFtZTpcInN0YXJ0c1dpdGhTYXBcIix1ZDohMX0se25hbWU6XCJtYXhQbGF5b3V0UmF0ZVwiLHVkOiExfSx7bmFtZTpcImNvZGluZ0RlcGVuZGVuY3lcIix1ZDohMX0se25hbWU6XCJzY2FuVHlwZVwiLHVkOiExfSx7bmFtZTpcIkZyYW1lUGFja2luZ1wiLHVkOiEwfSx7bmFtZTpcIkF1ZGlvQ2hhbm5lbENvbmZpZ3VyYXRpb25cIix1ZDohMH0se25hbWU6XCJDb250ZW50UHJvdGVjdGlvblwiLHVkOiEwfV0sZT17fSxlLm5hbWU9XCJBZGFwdGF0aW9uU2V0XCIsZS5rWD0hMSxlLmlzQXJyYXk9ITAsZS5wYXJlbnQ9bnVsbCxlLmNoaWxkcmVuPVtdLGUucHJvcGVydGllcz1pLHQ9e30sdC5uYW1lPVwiUmVwcmVzZW50YXRpb25cIix0LmtYPSExLHQuaXNBcnJheT0hMCx0LnBhcmVudD1lLHQuY2hpbGRyZW49W10sdC5wcm9wZXJ0aWVzPWksZS5jaGlsZHJlbi5wdXNoKHQpLHI9e30sci5uYW1lPVwiU3ViUmVwcmVzZW50YXRpb25cIixyLmtYPSExLHIuaXNBcnJheT0hMCxyLnBhcmVudD10LHIuY2hpbGRyZW49W10sci5wcm9wZXJ0aWVzPWksdC5jaGlsZHJlbi5wdXNoKHIpLGV9LGE9ZnVuY3Rpb24oKXt2YXIgZSx0LHIsaTtyZXR1cm4gaT1be25hbWU6XCJTZWdtZW50QmFzZVwiLHVkOiEwfSx7bmFtZTpcIlNlZ21lbnRUZW1wbGF0ZVwiLHVkOiEwfSx7bmFtZTpcIlNlZ21lbnRMaXN0XCIsdWQ6ITB9XSxlPXt9LGUubmFtZT1cIlBlcmlvZFwiLGUua1g9ITEsZS5pc0FycmF5PSEwLGUucGFyZW50PW51bGwsZS5jaGlsZHJlbj1bXSxlLnByb3BlcnRpZXM9aSx0PXt9LHQubmFtZT1cIkFkYXB0YXRpb25TZXRcIix0LmtYPSExLHQuaXNBcnJheT0hMCx0LnBhcmVudD1lLHQuY2hpbGRyZW49W10sdC5wcm9wZXJ0aWVzPWksZS5jaGlsZHJlbi5wdXNoKHQpLHI9e30sci5uYW1lPVwiUmVwcmVzZW50YXRpb25cIixyLmtYPSExLHIuaXNBcnJheT0hMCxyLnBhcmVudD10LHIuY2hpbGRyZW49W10sci5wcm9wZXJ0aWVzPWksdC5jaGlsZHJlbi5wdXNoKHIpLGV9LGg9ZnVuY3Rpb24oKXt2YXIgZSx0LHIsaSxuO3JldHVybiBuPVt7bmFtZTpcIkJhc2VVUkxcIix1ZDohMCxPWDpmdW5jdGlvbihlLHQpe3JldHVybiAwPT09dC5pbmRleE9mKFwiaHR0cDovL1wiKT90OmUrdH19XSxlPXt9LGUubmFtZT1cIm1wZFwiLGUua1g9ITAsZS5pc0FycmF5PSEwLGUucGFyZW50PW51bGwsZS5jaGlsZHJlbj1bXSxlLnByb3BlcnRpZXM9bix0PXt9LHQubmFtZT1cIlBlcmlvZFwiLHQua1g9ITEsdC5pc0FycmF5PSEwLHQucGFyZW50PW51bGwsdC5jaGlsZHJlbj1bXSx0LnByb3BlcnRpZXM9bixlLmNoaWxkcmVuLnB1c2godCkscj17fSxyLm5hbWU9XCJBZGFwdGF0aW9uU2V0XCIsci5rWD0hMSxyLmlzQXJyYXk9ITAsci5wYXJlbnQ9dCxyLmNoaWxkcmVuPVtdLHIucHJvcGVydGllcz1uLHQuY2hpbGRyZW4ucHVzaChyKSxpPXt9LGkubmFtZT1cIlJlcHJlc2VudGF0aW9uXCIsaS5rWD0hMSxpLmlzQXJyYXk9ITAsaS5wYXJlbnQ9cixpLmNoaWxkcmVuPVtdLGkucHJvcGVydGllcz1uLHIuY2hpbGRyZW4ucHVzaChpKSxlfSxjPWZ1bmN0aW9uKCl7dmFyIGU9W107cmV0dXJuIGUucHVzaChvKCkpLGUucHVzaChhKCkpLGUucHVzaChoKCkpLGV9O3JldHVybntwYXJzZTpmdW5jdGlvbihlLHQpe3ZhciByLG89bmV3IG4ocyxcIlwiLCEwKSxhPW5ldyBpKGMoKSk7bmV3IERhdGU7dHJ5e3I9by5KQihlKSxuZXcgRGF0ZSxyLmhhc093blByb3BlcnR5KFwiQmFzZVVSTFwiKT8oci5NVz1yLl9YWzBdLDAhPT1yLk1XLnRvU3RyaW5nKCkuaW5kZXhPZihcImh0dHBcIikmJihyLk1XPXQrci5NVykpOnIuTVc9dCxyLmhhc093blByb3BlcnR5KFwiTG9jYXRpb25cIikmJihyLkxvY2F0aW9uPXIuTlhbMF0pLGEuRFgociksbmV3IERhdGV9Y2F0Y2godCl7cmV0dXJuIGNvbnNvbGUubG9nKFwicGFyc2luZyB0aGUgbWFuaWZlc3QgZmFpbGVkXCIsXCJwYXJzZVwiLGUpLG51bGx9cmV0dXJuIHJ9fX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1mdW5jdGlvbihlKXt2YXIgdDtmb3IodD1bXSxpPTAsbGVuPWUubGVuZ3RoO2k8bGVuO2krPTEpZVtpXS5rWD90LnB1c2goXCJyb290XCIpOnQucHVzaChlW2ldLm5hbWUpO3ZhciByPWZ1bmN0aW9uKGUsdCl7dmFyIHI7aWYobnVsbCE9PWUmJm51bGwhPT10KWZvcihyIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShyKSYmKHQuaGFzT3duUHJvcGVydHkocil8fCh0W3JdPWVbcl0pKX0sbj1mdW5jdGlvbihlLHQsaSl7dmFyIG4scyxvLGEsaDtpZihudWxsIT09ZSYmMCE9PWUubGVuZ3RoKWZvcihuPTAscz1lLmxlbmd0aDtuPHM7bis9MSlvPWVbbl0sdC5oYXNPd25Qcm9wZXJ0eShvLm5hbWUpJiYoaS5oYXNPd25Qcm9wZXJ0eShvLm5hbWUpP28udWQmJihhPXRbby5uYW1lXSxoPWlbby5uYW1lXSxcIm9iamVjdFwiPT10eXBlb2YgYSYmXCJvYmplY3RcIj09dHlwZW9mIGg/cihhLGgpOm51bGwhPW8uT1g/aVtvLm5hbWVdPW8uT1goYSxoKTppW28ubmFtZV09YStoKTppW28ubmFtZV09dFtvLm5hbWVdKX0scz1mdW5jdGlvbihlLHQpe3ZhciByLGksbyxhLGgsYyx1LGw9ZTtpZihudWxsIT09bC5jaGlsZHJlbiYmMCE9PWwuY2hpbGRyZW4ubGVuZ3RoKWZvcihyPTAsaT1sLmNoaWxkcmVuLmxlbmd0aDtyPGk7cis9MSlpZihjPWwuY2hpbGRyZW5bcl0sdC5oYXNPd25Qcm9wZXJ0eShjLm5hbWUpKWlmKGMuaXNBcnJheSlmb3IoaD10W2MubmFtZStcIl9hc0FycmF5XCJdLG89MCxhPWgubGVuZ3RoO288YTtvKz0xKXU9aFtvXSxuKGwucHJvcGVydGllcyx0LHUpLHMoYyx1KTtlbHNlIHU9dFtjLm5hbWVdLG4obC5wcm9wZXJ0aWVzLHQsdSkscyhjLHUpfSxvPWZ1bmN0aW9uKHIpe3ZhciBpLG4sYSxoLGMsdSxsO2lmKG51bGw9PT1yKXJldHVybiByO2lmKFwib2JqZWN0XCIhPXR5cGVvZiByKXJldHVybiByO2ZvcihpPTAsbj10Lmxlbmd0aDtpPG47aSs9MSlcInJvb3RcIj09PXRbaV0mJihjPWVbaV0sdT1yLHMoYyx1KSk7Zm9yKGggaW4gcilpZihyLmhhc093blByb3BlcnR5KGgpKXtpZigtMSE9PShhPXQuaW5kZXhPZihoKSkpaWYoYz1lW2FdLGMuaXNBcnJheSlmb3IobD1yW2grXCJfYXNBcnJheVwiXSxpPTAsbj1sLmxlbmd0aDtpPG47aSs9MSl1PWxbaV0scyhjLHUpO2Vsc2UgdT1yW2hdLHMoYyx1KTtvKHJbaF0pfXJldHVybiByfTtyZXR1cm57RFg6b319O2UudD1ufSxmdW5jdGlvbihlLHQscil7LyohIGNvZGVtLWlzb2JveGVyIHYwLjIuMiBodHRwczovL2dpdGh1Yi5jb20vbWFkZWJ5aGlyby9jb2RlbS1pc29ib3hlci9ibG9iL21hc3Rlci9MSUNFTlNFLnR4dCAqL1xyXG5cInVuZGVmaW5lZFwiPT10eXBlb2YgSVNPQm94ZXImJihJU09Cb3hlcj17fSksSVNPQm94ZXIucFg9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBpKGUpLnBhcnNlKCl9LElTT0JveGVyLmZuPXt9LElTT0JveGVyLmZuLkZYPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dHx8XCJ1dGYtOFwiO2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBUZXh0RGVjb2RlcilyZXR1cm4gbmV3IFRleHREZWNvZGVyKHIpLmRlY29kZShlKTt2YXIgaT1bXSxuPTA7aWYoXCJ1dGYtOFwiPT09cilmb3IoO248ZS5ieXRlTGVuZ3RoOyl7dmFyIHM9ZS5nZXRVaW50OChuKyspO3M8MTI4fHwoczwyMjQ/KHM9KDMxJnMpPDw2LHN8PTYzJmUuZ2V0VWludDgobisrKSk6czwyNDA/KHM9KDE1JnMpPDwxMixzfD0oNjMmZS5nZXRVaW50OChuKyspKTw8NixzfD02MyZlLmdldFVpbnQ4KG4rKykpOihzPSg3JnMpPDwxOCxzfD0oNjMmZS5nZXRVaW50OChuKyspKTw8MTIsc3w9KDYzJmUuZ2V0VWludDgobisrKSk8PDYsc3w9NjMmZS5nZXRVaW50OChuKyspKSksaS5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUocykpfWVsc2UgZm9yKDtuPGUuYnl0ZUxlbmd0aDspaS5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUoZS5nZXRVaW50OChuKyspKSk7cmV0dXJuIGkuam9pbihcIlwiKX0sdC5wWD1JU09Cb3hlci5wWCx0LmZuPUlTT0JveGVyLmZuLElTT0JveGVyLkxYPWZ1bmN0aW9uKGUpe3RoaXMub2Zmc2V0PXZvaWQgMD09PWU/MDplfTt2YXIgaT1mdW5jdGlvbihlKXt0aGlzLk1YPW5ldyBEYXRhVmlldyhlKSx0aGlzLkJYPW5ldyBJU09Cb3hlci5MWCx0aGlzLlVYPVtdfTtpLnByb3RvdHlwZS5mZXRjaD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLnhYKGUsITApO3JldHVybiB0Lmxlbmd0aD90WzBdOm51bGx9LGkucHJvdG90eXBlLnhYPWZ1bmN0aW9uKGUsdCl7dmFyIHI9W107cmV0dXJuIGkuSFguY2FsbCh0aGlzLGUscix0KSxyfSxpLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbigpe2Zvcih0aGlzLkJYLm9mZnNldD0wLHRoaXMuVVg9W107dGhpcy5CWC5vZmZzZXQ8dGhpcy5NWC5ieXRlTGVuZ3RoOyl7dmFyIGU9bi5wYXJzZSh0aGlzKTtpZih2b2lkIDA9PT1lLnR5cGUpYnJlYWs7dGhpcy5VWC5wdXNoKGUpfXJldHVybiB0aGlzfSxpLkhYPWZ1bmN0aW9uKGUsdCxyKXt0aGlzLnR5cGUmJnRoaXMudHlwZT09ZSYmdC5wdXNoKHRoaXMpO2Zvcih2YXIgbiBpbiB0aGlzLlVYKXtpZih0Lmxlbmd0aCYmcilyZXR1cm47aS5IWC5jYWxsKHRoaXMuVVhbbl0sZSx0LHIpfX07dmFyIG49ZnVuY3Rpb24oKXt0aGlzLkJYPW5ldyBJU09Cb3hlci5MWH07bi5wYXJzZT1mdW5jdGlvbihlKXt2YXIgdD1uZXcgbjtyZXR1cm4gdC5xWD1lLkJYLm9mZnNldCx0LlZYPWUuVlg/ZS5WWDplLHQuTVg9ZS5NWCx0LmpYPWUsdC5HWCgpLGUuQlgub2Zmc2V0PXQuTVguYnl0ZU9mZnNldCt0Lk1YLmJ5dGVMZW5ndGgsdH0sbi5wcm90b3R5cGUuUVg9ZnVuY3Rpb24oZSl7dmFyIHQ9bnVsbDtzd2l0Y2goZSl7Y2FzZSA4OnQ9dGhpcy5NWC5nZXRJbnQ4KHRoaXMuQlgub2Zmc2V0LXRoaXMuTVguYnl0ZU9mZnNldCk7YnJlYWs7Y2FzZSAxNjp0PXRoaXMuTVguZ2V0SW50MTYodGhpcy5CWC5vZmZzZXQtdGhpcy5NWC5ieXRlT2Zmc2V0KTticmVhaztjYXNlIDMyOnQ9dGhpcy5NWC5nZXRJbnQzMih0aGlzLkJYLm9mZnNldC10aGlzLk1YLmJ5dGVPZmZzZXQpO2JyZWFrO2Nhc2UgNjQ6dmFyIHI9dGhpcy5NWC5nZXRJbnQzMih0aGlzLkJYLm9mZnNldC10aGlzLk1YLmJ5dGVPZmZzZXQpLGk9dGhpcy5NWC5nZXRJbnQzMih0aGlzLkJYLm9mZnNldC10aGlzLk1YLmJ5dGVPZmZzZXQrNCk7dD1yKk1hdGgucG93KDIsMzIpK2l9cmV0dXJuIHRoaXMuQlgub2Zmc2V0Kz1lPj4zLHR9LG4ucHJvdG90eXBlLktYPWZ1bmN0aW9uKGUpe3ZhciB0PW51bGw7c3dpdGNoKGUpe2Nhc2UgODp0PXRoaXMuTVguZ2V0VWludDgodGhpcy5CWC5vZmZzZXQtdGhpcy5NWC5ieXRlT2Zmc2V0KTticmVhaztjYXNlIDE2OnQ9dGhpcy5NWC5nZXRVaW50MTYodGhpcy5CWC5vZmZzZXQtdGhpcy5NWC5ieXRlT2Zmc2V0KTticmVhaztjYXNlIDI0OnZhciByPXRoaXMuTVguZ2V0VWludDE2KHRoaXMuQlgub2Zmc2V0LXRoaXMuTVguYnl0ZU9mZnNldCksaT10aGlzLk1YLmdldFVpbnQ4KHRoaXMuQlgub2Zmc2V0LXRoaXMuTVguYnl0ZU9mZnNldCsyKTt0PShyPDw4KStpO2JyZWFrO2Nhc2UgMzI6dD10aGlzLk1YLmdldFVpbnQzMih0aGlzLkJYLm9mZnNldC10aGlzLk1YLmJ5dGVPZmZzZXQpO2JyZWFrO2Nhc2UgNjQ6dmFyIHI9dGhpcy5NWC5nZXRVaW50MzIodGhpcy5CWC5vZmZzZXQtdGhpcy5NWC5ieXRlT2Zmc2V0KSxpPXRoaXMuTVguZ2V0VWludDMyKHRoaXMuQlgub2Zmc2V0LXRoaXMuTVguYnl0ZU9mZnNldCs0KTt0PXIqTWF0aC5wb3coMiwzMikraX1yZXR1cm4gdGhpcy5CWC5vZmZzZXQrPWU+PjMsdH0sbi5wcm90b3R5cGUuWVg9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVwiXCIscj0wO3I8ZTtyKyspe3ZhciBpPXRoaXMuS1goOCk7dCs9U3RyaW5nLmZyb21DaGFyQ29kZShpKX1yZXR1cm4gdH0sbi5wcm90b3R5cGUuelg9ZnVuY3Rpb24oKXtmb3IodmFyIGU9XCJcIjs7KXt2YXIgdD10aGlzLktYKDgpO2lmKDA9PXQpYnJlYWs7ZSs9U3RyaW5nLmZyb21DaGFyQ29kZSh0KX1yZXR1cm4gZX0sbi5wcm90b3R5cGUuSlg9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuS1goZS8yKSt0aGlzLktYKGUvMikvTWF0aC5wb3coMixlLzIpfSxuLnByb3RvdHlwZS5HWD1mdW5jdGlvbigpe2lmKHRoaXMuQlgub2Zmc2V0PXRoaXMucVgsdGhpcy5xWCs4PnRoaXMuTVguYnVmZmVyLmJ5dGVMZW5ndGgpcmV0dXJuIHZvaWQodGhpcy5WWC5XWD0hMCk7c3dpdGNoKHRoaXMuc2l6ZT10aGlzLktYKDMyKSx0aGlzLnR5cGU9dGhpcy5ZWCg0KSwxPT10aGlzLnNpemUmJih0aGlzLlhYPXRoaXMuS1goNjQpKSxcInV1aWRcIj09dGhpcy50eXBlJiYodGhpcy5aWD10aGlzLllYKDE2KSksdGhpcy5zaXplKXtjYXNlIDA6dGhpcy5NWD1uZXcgRGF0YVZpZXcodGhpcy5NWC5idWZmZXIsdGhpcy5xWCx0aGlzLk1YLmJ5dGVMZW5ndGgtdGhpcy5CWC5vZmZzZXQpO2JyZWFrO2Nhc2UgMTp0aGlzLnFYK3RoaXMuc2l6ZT50aGlzLk1YLmJ1ZmZlci5ieXRlTGVuZ3RoPyh0aGlzLldYPSEwLHRoaXMuVlguV1g9ITApOnRoaXMuTVg9bmV3IERhdGFWaWV3KHRoaXMuTVguYnVmZmVyLHRoaXMucVgsdGhpcy5YWCk7YnJlYWs7ZGVmYXVsdDp0aGlzLnFYK3RoaXMuc2l6ZT50aGlzLk1YLmJ1ZmZlci5ieXRlTGVuZ3RoPyh0aGlzLldYPSEwLHRoaXMuVlguV1g9ITApOnRoaXMuTVg9bmV3IERhdGFWaWV3KHRoaXMuTVguYnVmZmVyLHRoaXMucVgsdGhpcy5zaXplKX0hdGhpcy5XWCYmdGhpcy4kWFt0aGlzLnR5cGVdJiZ0aGlzLiRYW3RoaXMudHlwZV0uY2FsbCh0aGlzKX0sbi5wcm90b3R5cGUuZVo9ZnVuY3Rpb24oKXt0aGlzLnZlcnNpb249dGhpcy5LWCg4KSx0aGlzLnRaPXRoaXMuS1goMjQpfSxuLnByb3RvdHlwZS4kWD17fSxbXCJtb292XCIsXCJ0cmFrXCIsXCJ0cmVmXCIsXCJtZGlhXCIsXCJtaW5mXCIsXCJzdGJsXCIsXCJlZHRzXCIsXCJkaW5mXCIsXCJtdmV4XCIsXCJtb29mXCIsXCJ0cmFmXCIsXCJtZnJhXCIsXCJ1ZHRhXCIsXCJtZWNvXCIsXCJzdHJrXCIsXCJ2dHRjXCJdLmZvckVhY2goZnVuY3Rpb24oZSl7bi5wcm90b3R5cGUuJFhbZV09ZnVuY3Rpb24oKXtmb3IodGhpcy5VWD1bXTt0aGlzLkJYLm9mZnNldC10aGlzLk1YLmJ5dGVPZmZzZXQ8dGhpcy5NWC5ieXRlTGVuZ3RoOyl0aGlzLlVYLnB1c2gobi5wYXJzZSh0aGlzKSl9fSksbi5wcm90b3R5cGUuJFguclo9ZnVuY3Rpb24oKXt0aGlzLmVaKCksdGhpcy5pWj10aGlzLktYKDMyKSx0aGlzLmVudHJpZXM9W107Zm9yKHZhciBlPTE7ZTw9dGhpcy5pWjtlKyspe3ZhciB0PXt9OzE9PXRoaXMudmVyc2lvbj8odC5uWj10aGlzLktYKDY0KSx0LnNaPXRoaXMuUVgoNjQpKToodC5uWj10aGlzLktYKDMyKSx0LnNaPXRoaXMuUVgoMzIpKSx0Lm9aPXRoaXMuUVgoMTYpLHQuYVo9dGhpcy5RWCgxNiksdGhpcy5lbnRyaWVzLnB1c2godCl9fSxuLnByb3RvdHlwZS4kWC5oWj1mdW5jdGlvbigpe3RoaXMuZVooKSx0aGlzLmNaPXRoaXMuelgoKSx0aGlzLnZhbHVlPXRoaXMuelgoKSx0aGlzLkdXPXRoaXMuS1goMzIpLHRoaXMudVo9dGhpcy5LWCgzMiksdGhpcy5sWj10aGlzLktYKDMyKSx0aGlzLmlkPXRoaXMuS1goMzIpLHRoaXMucFo9bmV3IERhdGFWaWV3KHRoaXMuTVguYnVmZmVyLHRoaXMuQlgub2Zmc2V0LHRoaXMuTVguYnl0ZUxlbmd0aC0odGhpcy5CWC5vZmZzZXQtdGhpcy5xWCkpfSxuLnByb3RvdHlwZS4kWC5mWj1uLnByb3RvdHlwZS4kWC5kdz1mdW5jdGlvbigpe3RoaXMuZGF0YT1uZXcgRGF0YVZpZXcodGhpcy5NWC5idWZmZXIsdGhpcy5CWC5vZmZzZXQsdGhpcy5NWC5ieXRlTGVuZ3RoLSh0aGlzLkJYLm9mZnNldC10aGlzLnFYKSl9LG4ucHJvdG90eXBlLiRYLmRaPW4ucHJvdG90eXBlLiRYLmdaPWZ1bmN0aW9uKCl7Zm9yKHRoaXMudlo9dGhpcy5ZWCg0KSx0aGlzLnlaPXRoaXMuS1goMzIpLHRoaXMubVo9W107dGhpcy5CWC5vZmZzZXQtdGhpcy5NWC5ieXRlT2Zmc2V0PHRoaXMuTVguYnl0ZUxlbmd0aDspdGhpcy5tWi5wdXNoKHRoaXMuWVgoNCkpfSxuLnByb3RvdHlwZS4kWC5FWj1mdW5jdGlvbigpe3RoaXMuZVooKSx0aGlzLlRaPXRoaXMuS1goMzIpLHRoaXMuSVo9dGhpcy5ZWCg0KSx0aGlzLnRUPVt0aGlzLktYKDMyKSx0aGlzLktYKDMyKSx0aGlzLktYKDMyKV0sdGhpcy5uYW1lPXRoaXMuelgoKX0sbi5wcm90b3R5cGUuJFgud1o9ZnVuY3Rpb24oKXt0aGlzLmRhdGE9bmV3IERhdGFWaWV3KHRoaXMuTVguYnVmZmVyLHRoaXMuQlgub2Zmc2V0LHRoaXMuTVguYnl0ZUxlbmd0aC0odGhpcy5CWC5vZmZzZXQtdGhpcy5xWCkpfSxuLnByb3RvdHlwZS4kWC5TWj1mdW5jdGlvbigpe3RoaXMuZVooKSwxPT10aGlzLnZlcnNpb24/KHRoaXMuUlo9dGhpcy5LWCg2NCksdGhpcy5iWj10aGlzLktYKDY0KSx0aGlzLkdXPXRoaXMuS1goMzIpLHRoaXMuZHVyYXRpb249dGhpcy5LWCg2NCkpOih0aGlzLlJaPXRoaXMuS1goMzIpLHRoaXMuYlo9dGhpcy5LWCgzMiksdGhpcy5HVz10aGlzLktYKDMyKSx0aGlzLmR1cmF0aW9uPXRoaXMuS1goMzIpKTt2YXIgZT10aGlzLktYKDE2KTt0aGlzLnBhZD1lPj4xNSx0aGlzLmxhbmd1YWdlPVN0cmluZy5mcm9tQ2hhckNvZGUoOTYrKGU+PjEwJjMxKSw5NisoZT4+NSYzMSksOTYrKDMxJmUpKSx0aGlzLlRaPXRoaXMuS1goMTYpfSxuLnByb3RvdHlwZS4kWC5QWj1mdW5jdGlvbigpe3RoaXMuZVooKSx0aGlzLkFaPXRoaXMuS1goMzIpfSxuLnByb3RvdHlwZS4kWC5DWj1mdW5jdGlvbigpe3RoaXMuZVooKSwxPT10aGlzLnZlcnNpb24/KHRoaXMuUlo9dGhpcy5LWCg2NCksdGhpcy5iWj10aGlzLktYKDY0KSx0aGlzLkdXPXRoaXMuS1goMzIpLHRoaXMuZHVyYXRpb249dGhpcy5LWCg2NCkpOih0aGlzLlJaPXRoaXMuS1goMzIpLHRoaXMuYlo9dGhpcy5LWCgzMiksdGhpcy5HVz10aGlzLktYKDMyKSx0aGlzLmR1cmF0aW9uPXRoaXMuS1goMzIpKSx0aGlzLnJhdGU9dGhpcy5KWCgzMiksdGhpcy52b2x1bWU9dGhpcy5KWCgxNiksdGhpcy5rWj10aGlzLktYKDE2KSx0aGlzLk9aPVt0aGlzLktYKDMyKSx0aGlzLktYKDMyKV0sdGhpcy5tYXRyaXg9W107Zm9yKHZhciBlPTA7ZTw5O2UrKyl0aGlzLm1hdHJpeC5wdXNoKHRoaXMuSlgoMzIpKTt0aGlzLlRaPVtdO2Zvcih2YXIgZT0wO2U8NjtlKyspdGhpcy5UWi5wdXNoKHRoaXMuS1goMzIpKTt0aGlzLl9aPXRoaXMuS1goMzIpfSxuLnByb3RvdHlwZS4kWC5OWj1mdW5jdGlvbigpe3ZhciBlPW5ldyBEYXRhVmlldyh0aGlzLk1YLmJ1ZmZlcix0aGlzLkJYLm9mZnNldCx0aGlzLk1YLmJ5dGVMZW5ndGgtKHRoaXMuQlgub2Zmc2V0LXRoaXMucVgpKTt0aGlzLkRaPUlTT0JveGVyLmZuLkZYKGUpfSxuLnByb3RvdHlwZS4kWC5GWj1mdW5jdGlvbigpe3RoaXMuZVooKSx0aGlzLkxaPXRoaXMuS1goMzIpLHRoaXMuR1c9dGhpcy5LWCgzMiksMD09dGhpcy52ZXJzaW9uPyh0aGlzLk1aPXRoaXMuS1goMzIpLHRoaXMuQlo9dGhpcy5LWCgzMikpOih0aGlzLk1aPXRoaXMuS1goNjQpLHRoaXMuQlo9dGhpcy5LWCg2NCkpLHRoaXMudFQ9dGhpcy5LWCgxNiksdGhpcy5VWj10aGlzLktYKDE2KSx0aGlzLnhaPVtdO2Zvcih2YXIgZT0wO2U8dGhpcy5VWjtlKyspe3ZhciB0PXt9LHI9dGhpcy5LWCgzMik7dC5IWj1yPj4zMSYxLHQucVo9MjE0NzQ4MzY0NyZyLHQuVlo9dGhpcy5LWCgzMik7dmFyIGk9dGhpcy5LWCgzMik7dC5qWj1pPj4zMSYxLHQuR1o9aT4+MjgmNyx0LlFaPTI2ODQzNTQ1NSZpLHRoaXMueFoucHVzaCh0KX19LG4ucHJvdG90eXBlLiRYLktaPWZ1bmN0aW9uKCl7dGhpcy5lWigpLHRoaXMuWVo9dGhpcy5LWCgzMiksdGhpcy56Wj1bXTtmb3IodmFyIGU9MDtlPHRoaXMuWVo7ZSsrKXt2YXIgdD17fTt0LkpaPXRoaXMuS1goMzIpLHQuV1o9W107Zm9yKHZhciByPTA7cjx0LkpaO3IrKyl7dmFyIGk9e307aS5sZXZlbD10aGlzLktYKDgpLGkuWFo9dGhpcy5LWCgyNCksdC5XWi5wdXNoKGkpfXRoaXMueloucHVzaCh0KX19LG4ucHJvdG90eXBlLiRYLlpaPWZ1bmN0aW9uKCl7dGhpcy5lWigpLDE9PXRoaXMudmVyc2lvbj90aGlzLiRaPXRoaXMuS1goNjQpOnRoaXMuJFo9dGhpcy5LWCgzMil9LG4ucHJvdG90eXBlLiRYLmUkPWZ1bmN0aW9uKCl7dGhpcy5lWigpLHRoaXMudCQ9dGhpcy5LWCgzMiksMSZ0aGlzLnRaJiYodGhpcy5yJD10aGlzLktYKDY0KSksMiZ0aGlzLnRaJiYodGhpcy5pJD10aGlzLktYKDMyKSksOCZ0aGlzLnRaJiYodGhpcy5mWD10aGlzLktYKDMyKSksMTYmdGhpcy50WiYmKHRoaXMubiQ9dGhpcy5LWCgzMikpLDMyJnRoaXMudFomJih0aGlzLnMkPXRoaXMuS1goMzIpKX0sbi5wcm90b3R5cGUuJFgubyQ9ZnVuY3Rpb24oKXt0aGlzLmVaKCksMT09dGhpcy52ZXJzaW9uPyh0aGlzLlJaPXRoaXMuS1goNjQpLHRoaXMuYlo9dGhpcy5LWCg2NCksdGhpcy50JD10aGlzLktYKDMyKSx0aGlzLmtaPXRoaXMuS1goMzIpLHRoaXMuZHVyYXRpb249dGhpcy5LWCg2NCkpOih0aGlzLlJaPXRoaXMuS1goMzIpLHRoaXMuYlo9dGhpcy5LWCgzMiksdGhpcy50JD10aGlzLktYKDMyKSx0aGlzLmtaPXRoaXMuS1goMzIpLHRoaXMuZHVyYXRpb249dGhpcy5LWCgzMikpLHRoaXMuT1o9W3RoaXMuS1goMzIpLHRoaXMuS1goMzIpXSx0aGlzLmEkPXRoaXMuS1goMTYpLHRoaXMuaCQ9dGhpcy5LWCgxNiksdGhpcy52b2x1bWU9dGhpcy5KWCgxNiksdGhpcy5jJD10aGlzLktYKDE2KSx0aGlzLm1hdHJpeD1bXTtmb3IodmFyIGU9MDtlPDk7ZSsrKXRoaXMubWF0cml4LnB1c2godGhpcy5KWCgzMikpO3RoaXMud2lkdGg9dGhpcy5LWCgzMiksdGhpcy5oZWlnaHQ9dGhpcy5LWCgzMil9LG4ucHJvdG90eXBlLiRYLnUkPWZ1bmN0aW9uKCl7dGhpcy5lWigpLHRoaXMubCQ9dGhpcy5LWCgzMiksMSZ0aGlzLnRaJiYodGhpcy5wJD10aGlzLlFYKDMyKSksNCZ0aGlzLnRaJiYodGhpcy5mJD10aGlzLktYKDMyKSksdGhpcy5kWD1bXTtmb3IodmFyIGU9MDtlPHRoaXMubCQ7ZSsrKXt2YXIgdD17fTsyNTYmdGhpcy50WiYmKHQuZ1g9dGhpcy5LWCgzMikpLDUxMiZ0aGlzLnRaJiYodC5kJD10aGlzLktYKDMyKSksMTAyNCZ0aGlzLnRaJiYodC5nJD10aGlzLktYKDMyKSksMjA0OCZ0aGlzLnRaJiYoMD09dGhpcy52ZXJzaW9uP3QudiQ9dGhpcy5LWCgzMik6dC52JD10aGlzLlFYKDMyKSksdGhpcy5kWC5wdXNoKHQpfX0sbi5wcm90b3R5cGUuJFgueSQ9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgRGF0YVZpZXcodGhpcy5NWC5idWZmZXIsdGhpcy5CWC5vZmZzZXQsdGhpcy5NWC5ieXRlTGVuZ3RoLSh0aGlzLkJYLm9mZnNldC10aGlzLnFYKSk7dGhpcy5tJD1JU09Cb3hlci5mbi5GWChlKX0sbi5wcm90b3R5cGUuJFguRSQ9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgRGF0YVZpZXcodGhpcy5NWC5idWZmZXIsdGhpcy5CWC5vZmZzZXQsdGhpcy5NWC5ieXRlTGVuZ3RoLSh0aGlzLkJYLm9mZnNldC10aGlzLnFYKSk7dGhpcy5jb25maWc9SVNPQm94ZXIuZm4uRlgoZSl9LG4ucHJvdG90eXBlLiRYLlQkPWZ1bmN0aW9uKCl7fX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZX0oKTt0LktXPWl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1yKDIpLG49cigwKSxzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe3RoaXMubmFtZT1lLHRoaXMuSSQ9dH1yZXR1cm4gZX0oKSxvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQscil7dGhpcy5tbj1cIltBRVMgTWFuYWdlcl0gXCIsdGhpcy53JD1cIkFFUy1DQkNcIix0aGlzLnhuPSExLHRoaXMudGU9bi5GcmFtZXdvcmsmJm4uRnJhbWV3b3JrLnJlc29sdmUobi5GcmFtZXdvcmsucS5JKT9uLkZyYW1ld29yay5yZXNvbHZlKG4uRnJhbWV3b3JrLnEuSSkubG9nKCk6Y29uc29sZSx0aGlzLlMkPWUsdGhpcy5SJD10LHRoaXMudGUuZGVidWcodGhpcy5tbitcIlN0YXJ0aW5nIERhc2ggQUVTIE1hbmFnZXJcIiksciYmKHRoaXMuYiQ9cil9cmV0dXJuIGUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RyeXt0aGlzLlAkKCk7dmFyIHQ9aS5kZWZlcigpO3RoaXMuQSQoKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIHQucmVzb2x2ZSghMCl9KS5mYWlsKGZ1bmN0aW9uKHIpe2UudGUud2FybihlLm1uK3IpLHQucmVzb2x2ZSghMSl9KSx0aGlzLkMkPXQuVGV9Y2F0Y2goZSl7dGhpcy50ZS53YXJuKHRoaXMubW4rXCJFcnJvciBpbml0aWFsaXppbmcgQUVTIE1hbmFnZXJcIixlKX19LGUucHJvdG90eXBlLkNCPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuQyQ/dGhpcy5DJDppLnJlc29sdmUoITEpfSxlLnByb3RvdHlwZS5BJD1mdW5jdGlvbigpe3ZhciBlPXRoaXM7aWYodGhpcy5rJClyZXR1cm4gdGhpcy5rJDt2YXIgdD1pLmRlZmVyKCk7cmV0dXJuIHRoaXMuTyQoKS50aGVuKGZ1bmN0aW9uKHIpe3dpbmRvdy5jcnlwdG8uc3VidGxlLmltcG9ydEtleShcInJhd1wiLHIse25hbWU6ZS53JH0sITEsW1wiZGVjcnlwdFwiXSkudGhlbihmdW5jdGlvbihlKXt0LnJlc29sdmUoZSl9LGZ1bmN0aW9uKGUpe3QucmVqZWN0KFwiZXJyb3IgaW1wb3J0aW5nIGtleTogXCIrZS50b1N0cmluZygpKX0pfSkuZmFpbChmdW5jdGlvbihlKXtyZXR1cm4gdC5yZWplY3QoZSl9KSx0aGlzLmskPXQuVGUsdGhpcy5rJH0sZS5wcm90b3R5cGUuUCQ9ZnVuY3Rpb24oKXtmb3IodmFyIGU9Mix0PXRoaXMuUiQubGVuZ3RoLHI9W107ZTx0O2UrPTIpci5wdXNoKHBhcnNlSW50KHRoaXMuUiQuc3Vic3RyKGUsMiksMTYpKTt0aGlzLkkkPW5ldyBVaW50OEFycmF5KHIpfSxlLnByb3RvdHlwZS5kZWNyeXB0PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1pLmRlZmVyKCksbj1uZXcgcyh0aGlzLnckLHRoaXMuSSQpO3JldHVybiB0aGlzLmskLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIHdpbmRvdy5jcnlwdG8uc3VidGxlLmRlY3J5cHQobix0LGUpLnRoZW4oZnVuY3Rpb24oZSl7ci5yZXNvbHZlKGUpfSl9KS5jYXRjaChmdW5jdGlvbihlKXt0LnRlLndhcm4odC5tbitcImRlY3J5cHQgZXJyb3JcIixlKSx0LnhuPSEwLHQuQyQ9aS5yZXNvbHZlKCExKSxyLnJlamVjdChlKX0pLHIuVGV9LGUucHJvdG90eXBlLk8kPWZ1bmN0aW9uKCl7dmFyIGU9aS5kZWZlcigpLHQ9bmV3IFhNTEh0dHBSZXF1ZXN0O3JldHVybiB0LnJlc3BvbnNlVHlwZT1cImFycmF5YnVmZmVyXCIsdC5vcGVuKFwiR0VUXCIsdGhpcy5TJCksdGhpcy5iJCYmdC5zZXRSZXF1ZXN0SGVhZGVyKFwiQXV0aG9yaXphdGlvblwiLHRoaXMuYiQpLHQub25sb2FkPWZ1bmN0aW9uKCl7aWYoMjAwPT09dC5zdGF0dXMpe3ZhciByPW5ldyBVaW50OEFycmF5KHQucmVzcG9uc2UpO2UucmVzb2x2ZShyKX1lbHNlIGUucmVqZWN0KFwiZXJyb3IgZG93bmxvYWRpbmcga2V5IC0gc3RhdHVzOiBcIit0LnN0YXR1cyl9LHQub25lcnJvcj1mdW5jdGlvbigpe2UucmVqZWN0KFwiZXJyb3IgZG93bmxvYWRpbmcga2V5XCIpfSx0LnNlbmQoKSxlLlRlfSxlLnByb3RvdHlwZS5zWD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnhufSxlfSgpO3Qub1g9b30sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXIoMiksbj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLkNCPWZ1bmN0aW9uKCl7cmV0dXJuIGkucmVzb2x2ZSghMSl9LGUucHJvdG90eXBlLmRlY3J5cHQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGkucmVqZWN0KFwidW5zdXBwb3J0ZWRcIil9LGUucHJvdG90eXBlLnNYPWZ1bmN0aW9uKCl7cmV0dXJuITF9LGV9KCk7dC5jWD1ufSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9dGhpcyYmdGhpcy5Oc3x8ZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiByKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfWZvcih2YXIgaSBpbiB0KXQuaGFzT3duUHJvcGVydHkoaSkmJihlW2ldPXRbaV0pO2UucHJvdG90eXBlPW51bGw9PT10P09iamVjdC5jcmVhdGUodCk6KHIucHJvdG90eXBlPXQucHJvdG90eXBlLG5ldyByKX0sbj1yKDgzKSxzPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBpKHQsZSksdH0obi5sVSk7dC5kQj1zfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9cig0KSxuPXIoMTQ5KSxzPXIoMSksbz1yKDE1MCksYT1yKDgyKSxoPXIoMCksYz1yKDYpLHU9cig4NCksbD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLkZVPW5ldyBzLHRoaXMuXyQ9bnVsbCx0aGlzLk4kPW51bGwsdGhpcy50ZT0oaC5GcmFtZXdvcmsucmVzb2x2ZShoLkZyYW1ld29yay5xLkkpfHxjb25zb2xlKS5sb2coKX1yZXR1cm4gZS5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oZSx0KXt2YXIgcj1uZXcgbi5EJDtpZihyLnB1c2godCksci5tYW5pZmVzdC5wbGF5bGlzdHMpdGhpcy5GJChlLHIubWFuaWZlc3QpO2Vsc2V7dmFyIGk9dGhpcy5MJChlLHIubWFuaWZlc3QpO2lmKGkmJih0aGlzLmxpdmU9IWkuTSQpLHRoaXMubGl2ZSlyZXR1cm4gdGhpcy5CJChyLm1hbmlmZXN0LHQpfXJldHVybiB0fSxlLnByb3RvdHlwZS5GQj1mdW5jdGlvbihlLHQpe2lmKHRoaXMuTFUuaGFzKHQpKXtyZXR1cm4gdGhpcy5MVS5nZXQodCkuZVguZ2V0KGUpfXJldHVybiBudWxsfSxlLnByb3RvdHlwZS53Tj1mdW5jdGlvbigpe3JldHVybiB0aGlzLkZVLnZhbHVlcygpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5iaXRyYXRlfSl9LGUucHJvdG90eXBlLmlzTGl2ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxpdmV9LGUucHJvdG90eXBlLlRCPWZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT10aGlzLlpXP251bGw6dGhpcy5aVy5nZXQoZSl9LGUucHJvdG90eXBlLklCPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuWlcuZ2V0KGUpO2lmKHQpe3ZhciByPXQuYml0cmF0ZTtyZXR1cm4gdGhpcy5MVS5nZXQocikuZVguZ2V0KHQuaWQrMSl9cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLk5VPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLkZVLmhhcyhlKX0sZS5wcm90b3R5cGUuRFU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5VJH0sZS5wcm90b3R5cGUuRiQ9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3RoaXMuVSQ9ZSx0aGlzLngkPXQsdGhpcy5GVT1uZXcgcyx0aGlzLlpXPW5ldyBzLHRoaXMuTFU9bmV3IHMsdGhpcy54JC5wbGF5bGlzdHMuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgaT1jLmZuLmNuKGUsdC51cmkpLG49dC5hdHRyaWJ1dGVzLkJBTkRXSURUSCxzPW5ldyBvLkgkKG4sdC51cmksaSk7ci5GVS5zZXQoaSxzKSxyLkxVLnNldChuLHMpfSl9LGUucHJvdG90eXBlLkwkPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPXRoaXMuRlUuZ2V0KGUpO2lmKCFuKXJldHVybiB2b2lkIHRoaXMudGUud2FybihcIlBsYXlsaXN0IHVybCBkb2Vzbid0IG1hdGNoIGFueSBwbGF5bGlzdCBpbiB0aGUgbWFzdGVyIGZpbGVcIik7dmFyIHM9bnVsbCE9dC5xJD90LnEkOjAsbz1uZXcgQXJyYXksaD1zLTEsdT1uLmVYLmdldChoKTtyZXR1cm4gdC5NVS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBoPWMuZm4uY24oZSx0LnVyaSksbD1NYXRoLnJvdW5kKDFlMyp0LmR1cmF0aW9uKSxwPW4uYml0cmF0ZTtOdW1iZXIuaXNJbnRlZ2VyKHApfHwoaS5FcnJvck1vbml0b3IuZ2koKS5kaShcIlNlZ21lbnQgQml0cmF0ZSBpcyBhIEZsb2F0XCIse2JpdHJhdGU6cH0pLHA9TWF0aC5yb3VuZChwKSk7dmFyIGY9bmV3IGEuJEIocyxwLGwsdC51cmksaCk7ci5aVy5zZXQoaCxmKSxuLmVYLnNldChzLGYpLG8ucHVzaChmKSx1JiYodS5uZXh0PWYpLHU9ZixzKyt9KSx0aGlzLl8kPW4sbi51cGRhdGUodC5xJCx0LlYkLHQuTSQsdC5qJCxvKSxufSxlLnByb3RvdHlwZS5CJD1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcj10LnNwbGl0KFwiXFxuXCIpLGk9TWF0aC5tYXgoMSx1Lk9VLndVKSxuPW51bGwscz0wLG89ZS5NVS5sZW5ndGgtMTtvPj1pLTE7by0tKXt2YXIgYT1lLk1VW29dO2lmKG49YS51cmkscz49dS5PVS5JVSlicmVhaztzKz1hLmR1cmF0aW9ufXZhciBoPVwiXCI7Zm9yKG89MDtvPHIubGVuZ3RoJiYoaD1oK3Jbb10rXCJcXG5cIixyW29dLnRyaW0oKSE9PW4pO28rKyk7cmV0dXJuIGh9LGV9KCk7dC5rVT1sfSxmdW5jdGlvbihlLHQscil7dmFyIGk9ZnVuY3Rpb24oKXt2YXIgZT17fTtlLnlnPXt9LGUueWcuY3JlYXRlPU9iamVjdC5jcmVhdGV8fGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQucHJvdG90eXBlPWUsbmV3IHR9LGUueWcuRyQ9ZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgaSBpbiBlKWhhc093blByb3AuY2FsbChlLGkpJiZ0LmNhbGwocnx8dGhpcyxpLGVbaV0pfSxlLnlnLnVkPWZ1bmN0aW9uKGUsdCl7aWYoIXQpcmV0dXJuIGU7Zm9yKHZhciByIGluIHQpaGFzT3duUHJvcC5jYWxsKHQscikmJihlW3JdPXRbcl0pO3JldHVybiBlfSxlLnlnLlEkPWZ1bmN0aW9uKHQscil7dmFyIGksbixzO3Q9ZS55Zy5yUCh0KTtmb3IoaSBpbiByKWhhc093blByb3AuY2FsbChyLGkpJiYobj10W2ldLHM9cltpXSxlLnlnLkskKG4pJiZlLnlnLkskKHMpP3RbaV09ZS55Zy5RJChuLHMpOnRbaV09cltpXSk7cmV0dXJuIHR9LGUueWcuclA9ZnVuY3Rpb24odCl7cmV0dXJuIGUueWcudWQoe30sdCl9LGUueWcuSyQ9ZnVuY3Rpb24oZSl7cmV0dXJuISFlJiZcIm9iamVjdFwiPT10eXBlb2YgZSYmXCJbb2JqZWN0IE9iamVjdF1cIj09PWUudG9TdHJpbmcoKSYmZS5jb25zdHJ1Y3Rvcj09PU9iamVjdH0sZS55Zy5pc0FycmF5PUFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKGUpe3JldHVyblwiW29iamVjdCBBcnJheV1cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKX0sbWVyZ2VPcHRpb25zPWZ1bmN0aW9uKHQscil7dmFyIGksbixzO3Q9ZS55Zy5yUCh0KTtmb3IoaSBpbiByKXIuaGFzT3duUHJvcGVydHkoaSkmJihuPXRbaV0scz1yW2ldLGUueWcuSyQobikmJmUueWcuSyQocyk/dFtpXT1lLnV0aWwuWSQobixzKTp0W2ldPXJbaV0pO3JldHVybiB0fSxlLlkkPW1lcmdlT3B0aW9uczt2YXIgdD1mdW5jdGlvbigpe3RoaXMuaW5pdD1mdW5jdGlvbigpe3ZhciBlPXt9O3RoaXMub249ZnVuY3Rpb24odCxyKXtlW3RdfHwoZVt0XT1bXSksZVt0XS5wdXNoKHIpfSx0aGlzLm9mZj1mdW5jdGlvbih0LHIpe3ZhciBpO3JldHVybiEhZVt0XSYmKGk9ZVt0XS5pbmRleE9mKHIpLGVbdF0uc3BsaWNlKGksMSksaT4tMSl9LHRoaXMueiQ9ZnVuY3Rpb24odCl7dmFyIHIsaSxuLHM7aWYocj1lW3RdKWZvcihzPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSxuPXIubGVuZ3RoLGk9MDtpPG47KytpKXJbaV0uYXBwbHkodGhpcyxzKX0sdGhpcy5KJD1mdW5jdGlvbigpe2U9e319fX07dC5wcm90b3R5cGUuVyQ9ZnVuY3Rpb24oZSl7dGhpcy5vbihcImRhdGFcIixmdW5jdGlvbih0KXtlLnB1c2godCl9KX0sZS5YJD10O3ZhciByLGksbixzPWZ1bmN0aW9uKCl7fSxvPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBSZWdFeHAoJyg/Ol58LCkoKD86W149XSopPSg/OlwiW15cIl0qXCJ8W14sXSopKScpfSgpLGE9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LHI9ZS5zcGxpdChvKSxpPXIubGVuZ3RoLG49e307aS0tOylcIlwiIT09cltpXSYmKHQ9LyhbXj1dKik9KC4qKS8uZXhlYyhyW2ldKS5zbGljZSgxKSx0WzBdPXRbMF0ucmVwbGFjZSgvXlxccyt8XFxzKyQvZyxcIlwiKSx0WzFdPXRbMV0ucmVwbGFjZSgvXlxccyt8XFxzKyQvZyxcIlwiKSx0WzFdPXRbMV0ucmVwbGFjZSgvXlsnXCJdKC4qKVsnXCJdJC9nLFwiJDFcIiksblt0WzBdXT10WzFdKTtyZXR1cm4gbn0sdD1lLlgkO3JldHVybiByPWZ1bmN0aW9uKCl7dmFyIGU9XCJcIjtyLnByb3RvdHlwZS5pbml0LmNhbGwodGhpcyksdGhpcy5wdXNoPWZ1bmN0aW9uKHQpe3ZhciByO2ZvcihlKz10LHI9ZS5pbmRleE9mKFwiXFxuXCIpO3I+LTE7cj1lLmluZGV4T2YoXCJcXG5cIikpdGhpcy56JChcImRhdGFcIixlLnN1YnN0cmluZygwLHIpKSxlPWUuc3Vic3RyaW5nKHIrMSl9fSxyLnByb3RvdHlwZT1uZXcgdCxpPWZ1bmN0aW9uKCl7aS5wcm90b3R5cGUuaW5pdC5jYWxsKHRoaXMpfSxpLnByb3RvdHlwZT1uZXcgdCxpLnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKGUpe3ZhciB0LHI7aWYoZT1lLnJlcGxhY2UoL15cXHMrfFxccyskL2csXCJcIiksMCE9PWUubGVuZ3RoKXtpZihcIiNcIiE9PWVbMF0pcmV0dXJuIHZvaWQgdGhpcy56JChcImRhdGFcIix7dHlwZTpcInVyaVwiLHVyaTplfSk7aWYoMCE9PWUuaW5kZXhPZihcIiNFWFRcIikpcmV0dXJuIHZvaWQgdGhpcy56JChcImRhdGFcIix7dHlwZTpcImNvbW1lbnRcIix0ZXh0OmUuc2xpY2UoMSl9KTtpZihlPWUucmVwbGFjZShcIlxcclwiLFwiXCIpLHQ9L14jRVhUTTNVLy5leGVjKGUpKXJldHVybiB2b2lkIHRoaXMueiQoXCJkYXRhXCIse3R5cGU6XCJ0YWdcIixaJDpcIm0zdVwifSk7aWYodD0vXiNFWFRJTkY6PyhbMC05XFwuXSopPyw/KC4qKT8kLy5leGVjKGUpKXJldHVybiByPXt0eXBlOlwidGFnXCIsWiQ6XCJpbmZcIn0sdFsxXSYmKHIuZHVyYXRpb249cGFyc2VGbG9hdCh0WzFdKSksdFsyXSYmKHIudGl0bGU9dFsyXSksdm9pZCB0aGlzLnokKFwiZGF0YVwiLHIpO2lmKHQ9L14jRVhULVgtVEFSR0VURFVSQVRJT046PyhbMC05Ll0qKT8vLmV4ZWMoZSkpcmV0dXJuIHI9e3R5cGU6XCJ0YWdcIixaJDpcInRhcmdldGR1cmF0aW9uXCJ9LHRbMV0mJihyLmR1cmF0aW9uPXBhcnNlSW50KHRbMV0sMTApKSx2b2lkIHRoaXMueiQoXCJkYXRhXCIscik7aWYodD0vXiNaRU4tVE9UQUwtRFVSQVRJT046PyhbMC05Ll0qKT8vLmV4ZWMoZSkpcmV0dXJuIHI9e3R5cGU6XCJ0YWdcIixaJDpcInRvdGFsZHVyYXRpb25cIn0sdFsxXSYmKHIuZHVyYXRpb249cGFyc2VJbnQodFsxXSwxMCkpLHZvaWQgdGhpcy56JChcImRhdGFcIixyKTtpZih0PS9eI0VYVC1YLVZFUlNJT046PyhbMC05Ll0qKT8vLmV4ZWMoZSkpcmV0dXJuIHI9e3R5cGU6XCJ0YWdcIixaJDpcInZlcnNpb25cIn0sdFsxXSYmKHIudmVyc2lvbj1wYXJzZUludCh0WzFdLDEwKSksdm9pZCB0aGlzLnokKFwiZGF0YVwiLHIpO2lmKHQ9L14jRVhULVgtTUVESUEtU0VRVUVOQ0U6PyhcXC0/WzAtOS5dKik/Ly5leGVjKGUpKXJldHVybiByPXt0eXBlOlwidGFnXCIsWiQ6XCJtZWRpYS1zZXF1ZW5jZVwifSx0WzFdJiYoci5udW1iZXI9cGFyc2VJbnQodFsxXSwxMCkpLHZvaWQgdGhpcy56JChcImRhdGFcIixyKTtpZih0PS9eI0VYVC1YLURJU0NPTlRJTlVJVFktU0VRVUVOQ0U6PyhcXC0/WzAtOS5dKik/Ly5leGVjKGUpKXJldHVybiByPXt0eXBlOlwidGFnXCIsWiQ6XCJkaXNjb250aW51aXR5LXNlcXVlbmNlXCJ9LHRbMV0mJihyLm51bWJlcj1wYXJzZUludCh0WzFdLDEwKSksdm9pZCB0aGlzLnokKFwiZGF0YVwiLHIpO2lmKHQ9L14jRVhULVgtUExBWUxJU1QtVFlQRTo/KC4qKT8kLy5leGVjKGUpKXJldHVybiByPXt0eXBlOlwidGFnXCIsWiQ6XCJwbGF5bGlzdC10eXBlXCJ9LHRbMV0mJihyLiQkPXRbMV0pLHZvaWQgdGhpcy56JChcImRhdGFcIixyKTtpZih0PS9eI0VYVC1YLUJZVEVSQU5HRTo/KFswLTkuXSopP0A/KFswLTkuXSopPy8uZXhlYyhlKSlyZXR1cm4gcj17dHlwZTpcInRhZ1wiLFokOlwiYnl0ZXJhbmdlXCJ9LHRbMV0mJihyLmxlbmd0aD1wYXJzZUludCh0WzFdLDEwKSksdFsyXSYmKHIub2Zmc2V0PXBhcnNlSW50KHRbMl0sMTApKSx2b2lkIHRoaXMueiQoXCJkYXRhXCIscik7aWYodD0vXiNFWFQtWC1BTExPVy1DQUNIRTo/KFlFU3xOTyk/Ly5leGVjKGUpKXJldHVybiByPXt0eXBlOlwidGFnXCIsWiQ6XCJhbGxvdy1jYWNoZVwifSx0WzFdJiYoci50az0hL05PLy50ZXN0KHRbMV0pKSx2b2lkIHRoaXMueiQoXCJkYXRhXCIscik7aWYodD0vXiNFWFQtWC1TVFJFQU0tSU5GOj8oLiopJC8uZXhlYyhlKSlyZXR1cm4gcj17dHlwZTpcInRhZ1wiLFokOlwic3RyZWFtLWluZlwifSx0WzFdJiYoci5hdHRyaWJ1dGVzPWEodFsxXSksci5hdHRyaWJ1dGVzLmUwJiZmdW5jdGlvbigpe3ZhciBlPXIuYXR0cmlidXRlcy5lMC5zcGxpdChcInhcIiksdD17fTtlWzBdJiYodC53aWR0aD1wYXJzZUludChlWzBdLDEwKSksZVsxXSYmKHQuaGVpZ2h0PXBhcnNlSW50KGVbMV0sMTApKSxyLmF0dHJpYnV0ZXMuZTA9dH0oKSxyLmF0dHJpYnV0ZXMuQkFORFdJRFRIJiYoci5hdHRyaWJ1dGVzLkJBTkRXSURUSD1wYXJzZUludChyLmF0dHJpYnV0ZXMuQkFORFdJRFRILDEwKSksci5hdHRyaWJ1dGVzW1widDBcIl0mJihyLmF0dHJpYnV0ZXNbXCJ0MFwiXT1wYXJzZUludChyLmF0dHJpYnV0ZXNbXCJ0MFwiXSwxMCkpKSx2b2lkIHRoaXMueiQoXCJkYXRhXCIscik7aWYodD0vXiNFWFQtWC1FTkRMSVNULy5leGVjKGUpKXJldHVybiB2b2lkIHRoaXMueiQoXCJkYXRhXCIse3R5cGU6XCJ0YWdcIixaJDpcImVuZGxpc3RcIn0pO2lmKHQ9L14jRVhULVgtRElTQ09OVElOVUlUWS8uZXhlYyhlKSlyZXR1cm4gdm9pZCB0aGlzLnokKFwiZGF0YVwiLHt0eXBlOlwidGFnXCIsWiQ6XCJkaXNjb250aW51aXR5XCJ9KTtpZih0PS9eI0VYVC1YLUtFWTo/KC4qKSQvLmV4ZWMoZSkpcmV0dXJuIHI9e3R5cGU6XCJ0YWdcIixaJDpcImtleVwifSx0WzFdJiYoci5hdHRyaWJ1dGVzPWEodFsxXSksci5hdHRyaWJ1dGVzLmhYJiYoXCIweFwiPT09ci5hdHRyaWJ1dGVzLmhYLnN1YnN0cmluZygwLDIpJiYoci5hdHRyaWJ1dGVzLmhYPXIuYXR0cmlidXRlcy5oWC5zdWJzdHJpbmcoMikpLHIuYXR0cmlidXRlcy5oWD1yLmF0dHJpYnV0ZXMuaFgubWF0Y2goLy57OH0vZyksci5hdHRyaWJ1dGVzLmhYWzBdPXBhcnNlSW50KHIuYXR0cmlidXRlcy5oWFswXSwxNiksci5hdHRyaWJ1dGVzLmhYWzFdPXBhcnNlSW50KHIuYXR0cmlidXRlcy5oWFsxXSwxNiksci5hdHRyaWJ1dGVzLmhYWzJdPXBhcnNlSW50KHIuYXR0cmlidXRlcy5oWFsyXSwxNiksci5hdHRyaWJ1dGVzLmhYWzNdPXBhcnNlSW50KHIuYXR0cmlidXRlcy5oWFszXSwxNiksci5hdHRyaWJ1dGVzLmhYPW5ldyBVaW50MzJBcnJheShyLmF0dHJpYnV0ZXMuaFgpKSksdm9pZCB0aGlzLnokKFwiZGF0YVwiLHIpO3RoaXMueiQoXCJkYXRhXCIse3R5cGU6XCJ0YWdcIixkYXRhOmUuc2xpY2UoNCxlLmxlbmd0aCl9KX19LG49ZnVuY3Rpb24oKXt2YXIgdCxvPXRoaXMsYT1bXSxoPXt9O24ucHJvdG90eXBlLmluaXQuY2FsbCh0aGlzKSx0aGlzLnIwPW5ldyByLHRoaXMuaTA9bmV3IGksdGhpcy5yMC5XJCh0aGlzLmkwKSx0aGlzLm1hbmlmZXN0PXtuMDohMH0sdGhpcy5pMC5vbihcImRhdGFcIixmdW5jdGlvbihyKXsoe3RhZzpmdW5jdGlvbigpeygoe3MwOmZ1bmN0aW9uKCl7dGhpcy5tYW5pZmVzdC5uMD1yLnRrLFwiYWxsb3dlZFwiaW4gcnx8KHRoaXMueiQoXCJpbmZvXCIse21lc3NhZ2U6XCJkZWZhdWx0aW5nIGFsbG93Q2FjaGUgdG8gWUVTXCJ9KSx0aGlzLm1hbmlmZXN0Lm4wPSEwKX0sbzA6ZnVuY3Rpb24oKXt2YXIgZT17fTtcImxlbmd0aFwiaW4gciYmKGgubzA9ZSxlLmxlbmd0aD1yLmxlbmd0aCxcIm9mZnNldFwiaW4gcnx8KHRoaXMueiQoXCJpbmZvXCIse21lc3NhZ2U6XCJkZWZhdWx0aW5nIG9mZnNldCB0byB6ZXJvXCJ9KSxyLm9mZnNldD0wKSksXCJvZmZzZXRcImluIHImJihoLm8wPWUsZS5vZmZzZXQ9ci5vZmZzZXQpfSxhMDpmdW5jdGlvbigpe3RoaXMubWFuaWZlc3QuTSQ9ITB9LGgwOmZ1bmN0aW9uKCl7XCJtZWRpYVNlcXVlbmNlXCJpbiB0aGlzLm1hbmlmZXN0fHwodGhpcy5tYW5pZmVzdC5xJD0wLHRoaXMueiQoXCJpbmZvXCIse21lc3NhZ2U6XCJkZWZhdWx0aW5nIG1lZGlhIHNlcXVlbmNlIHRvIHplcm9cIn0pKSxcImRpc2NvbnRpbnVpdHlTZXF1ZW5jZVwiaW4gdGhpcy5tYW5pZmVzdHx8KHRoaXMubWFuaWZlc3QuViQ9MCx0aGlzLnokKFwiaW5mb1wiLHttZXNzYWdlOlwiZGVmYXVsdGluZyBkaXNjb250aW51aXR5IHNlcXVlbmNlIHRvIHplcm9cIn0pKSxyLmR1cmF0aW9uPj0wJiYoaC5kdXJhdGlvbj1yLmR1cmF0aW9uKSx0aGlzLm1hbmlmZXN0Lk1VPWF9LGtleTpmdW5jdGlvbigpe3JldHVybiByLmF0dHJpYnV0ZXM/XCJOT05FXCI9PT1yLmF0dHJpYnV0ZXMuYzA/dm9pZCh0PW51bGwpOnIuYXR0cmlidXRlcy5FRT8oci5hdHRyaWJ1dGVzLmMwfHx0aGlzLnokKFwid2FyblwiLHttZXNzYWdlOlwiZGVmYXVsdGluZyBrZXkgbWV0aG9kIHRvIEFFUy0xMjhcIn0pLHQ9e21ldGhvZDpyLmF0dHJpYnV0ZXMuYzB8fFwiQUVTLTEyOFwiLHVyaTpyLmF0dHJpYnV0ZXMuRUV9LHZvaWQodm9pZCAwIT09ci5hdHRyaWJ1dGVzLmhYJiYodC5JJD1yLmF0dHJpYnV0ZXMuaFgpKSk6dm9pZCB0aGlzLnokKFwid2FyblwiLHttZXNzYWdlOlwiaWdub3Jpbmcga2V5IGRlY2xhcmF0aW9uIHdpdGhvdXQgVVJJXCJ9KTp2b2lkIHRoaXMueiQoXCJ3YXJuXCIse21lc3NhZ2U6XCJpZ25vcmluZyBrZXkgZGVjbGFyYXRpb24gd2l0aG91dCBhdHRyaWJ1dGUgbGlzdFwifSl9LHUwOmZ1bmN0aW9uKCl7aWYoIWlzRmluaXRlKHIubnVtYmVyKSlyZXR1cm4gdm9pZCB0aGlzLnokKFwid2FyblwiLHttZXNzYWdlOlwiaWdub3JpbmcgaW52YWxpZCBtZWRpYSBzZXF1ZW5jZTogXCIrci5udW1iZXJ9KTt0aGlzLm1hbmlmZXN0LnEkPXIubnVtYmVyfSxsMDpmdW5jdGlvbigpe2lmKCFpc0Zpbml0ZShyLm51bWJlcikpcmV0dXJuIHZvaWQgdGhpcy56JChcIndhcm5cIix7bWVzc2FnZTpcImlnbm9yaW5nIGludmFsaWQgZGlzY29udGludWl0eSBzZXF1ZW5jZTogXCIrci5udW1iZXJ9KTt0aGlzLm1hbmlmZXN0LlYkPXIubnVtYmVyfSxwMDpmdW5jdGlvbigpe2lmKCEvVk9EfEVWRU5ULy50ZXN0KHIuJCQpKXJldHVybiB2b2lkIHRoaXMueiQoXCJ3YXJuXCIse21lc3NhZ2U6XCJpZ25vcmluZyB1bmtub3duIHBsYXlsaXN0IHR5cGU6IFwiK3IuZjB9KTt0aGlzLm1hbmlmZXN0LiQkPXIuJCR9LGQwOmZ1bmN0aW9uKCl7aWYodGhpcy5tYW5pZmVzdC5wbGF5bGlzdHM9YSwhci5hdHRyaWJ1dGVzKXJldHVybiB2b2lkIHRoaXMueiQoXCJ3YXJuXCIse21lc3NhZ2U6XCJpZ25vcmluZyBlbXB0eSBzdHJlYW0taW5mIGF0dHJpYnV0ZXNcIn0pO2guYXR0cmlidXRlc3x8KGguYXR0cmlidXRlcz17fSksaC5hdHRyaWJ1dGVzPWUuWSQoaC5hdHRyaWJ1dGVzLHIuYXR0cmlidXRlcyl9LGcwOmZ1bmN0aW9uKCl7aC5nMD0hMH0sdjA6ZnVuY3Rpb24oKXtpZighaXNGaW5pdGUoci5kdXJhdGlvbil8fHIuZHVyYXRpb248MClyZXR1cm4gdm9pZCB0aGlzLnokKFwid2FyblwiLHttZXNzYWdlOlwiaWdub3JpbmcgaW52YWxpZCB0YXJnZXQgZHVyYXRpb246IFwiK3IuZHVyYXRpb259KTt0aGlzLm1hbmlmZXN0LmokPXIuZHVyYXRpb259LHkwOmZ1bmN0aW9uKCl7aWYoIWlzRmluaXRlKHIuZHVyYXRpb24pfHxyLmR1cmF0aW9uPDApcmV0dXJuIHZvaWQgdGhpcy56JChcIndhcm5cIix7bWVzc2FnZTpcImlnbm9yaW5nIGludmFsaWQgdG90YWwgZHVyYXRpb246IFwiK3IuZHVyYXRpb259KTt0aGlzLm1hbmlmZXN0Lm0wPXIuZHVyYXRpb259fSlbci5aJF18fHMpLmNhbGwobyl9LHVyaTpmdW5jdGlvbigpe2gudXJpPXIudXJpLGEucHVzaChoKSwhdGhpcy5tYW5pZmVzdC5qJHx8XCJkdXJhdGlvblwiaW4gaHx8KHRoaXMueiQoXCJ3YXJuXCIse21lc3NhZ2U6XCJkZWZhdWx0aW5nIHNlZ21lbnQgZHVyYXRpb24gdG8gdGhlIHRhcmdldCBkdXJhdGlvblwifSksaC5kdXJhdGlvbj10aGlzLm1hbmlmZXN0LmokKSx0JiYoaC5rZXk9dCksaD17fX0sRTA6ZnVuY3Rpb24oKXt9fSlbci50eXBlXS5jYWxsKG8pfSl9LG4ucHJvdG90eXBlPW5ldyB0LG4ucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24oZSl7dGhpcy5yMC5wdXNoKGUpfSxuLnByb3RvdHlwZS5lbmQ9ZnVuY3Rpb24oKXt0aGlzLnIwLnB1c2goXCJcXG5cIil9LGUuVDA9cixlLkkwPWksZS5EJD1uLGV9KCk7ZS50PWl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1yKDEpLG49ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxyKXt0aGlzLmVYPW5ldyBpLHRoaXMuYml0cmF0ZT1lLHRoaXMudXJpPXQsdGhpcy53Qj1yfXJldHVybiBlLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oZSx0LHIsaSxuKXt0aGlzLnEkPWUsdGhpcy5WJD10LHRoaXMuTSQ9cix0aGlzLmokPWksdGhpcy5NVT1uLHRoaXMudXBkYXRlZD0hMH0sZX0oKTt0LkgkPW59LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT10aGlzJiZ0aGlzLk5zfHxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIHIoKXt0aGlzLmNvbnN0cnVjdG9yPWV9Zm9yKHZhciBpIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShpKSYmKGVbaV09dFtpXSk7ZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KTooci5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IHIpfSxuPXIoODMpLHM9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBudWxsIT09ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIGkodCxlKSx0fShuLmxVKTt0LkFVPXN9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1yKDE1KSxuPXIoMCkscz1yKDMpLG89cigyKSxhPXIoNSksaD1hLlJ0LlBpLGM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy50ZT1uLkZyYW1ld29yay5yZXNvbHZlKG4uRnJhbWV3b3JrLnEuSSkubG9nKCksdGhpcy53MD1uLkZyYW1ld29yay5yZXNvbHZlKGkuUGEubmEpLGgmJnMubmkuU3IuSXImJih0aGlzLlMwPW4uRnJhbWV3b3JrLnJlc29sdmUoaS5QYS5zYSkpfXJldHVybiBlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKGUsdCl7dGhpcy53MC5pbml0KGUsdCksaCYmcy5uaS5Tci5JciYmdGhpcy5TMC5pbml0KGUsdCl9LGUucHJvdG90eXBlLnB1dD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9by5kZWZlcigpLGk9ITE7cmV0dXJuIWUuR3UuaXNMaXZlKCkmJmgmJnMubmkuU3IuSXI/dGhpcy5TMC5wdXQoZSkudGhlbihmdW5jdGlvbihlKXtpPWV9KS5mYWlsKGZ1bmN0aW9uKGUpe3QudGUuZXJyb3IoZSl9KS5maW5hbGx5KGZ1bmN0aW9uKCl7ci5yZXNvbHZlKGkpfSk6dGhpcy53MC5wdXQoZSkudGhlbihmdW5jdGlvbihlKXtpPWV9KS5mYWlsKGZ1bmN0aW9uKGUpe3QudGUuZXJyb3IoZSl9KS5maW5hbGx5KGZ1bmN0aW9uKCl7ci5yZXNvbHZlKGkpfSksci5UZX0sZS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1vLmRlZmVyKCksaT1udWxsO3JldHVybiB0aGlzLmNvbnRhaW5zKGUpLnRoZW4oZnVuY3Rpb24obil7bj90LncwLmdldChlKS50aGVuKGZ1bmN0aW9uKHIpe251bGw9PXImJmgmJnMubmkuU3IuSXI/dC5TMC5nZXQoZSkudGhlbihmdW5jdGlvbihlKXtpPWV9KTppPXJ9KS5mYWlsKGZ1bmN0aW9uKGUpe3QudGUuZXJyb3IoZSl9KS5maW5hbGx5KGZ1bmN0aW9uKCl7ci5yZXNvbHZlKGkpfSk6ci5yZXNvbHZlKGkpfSkuZmFpbChmdW5jdGlvbihlKXt0LnRlLmVycm9yKGUpfSkuZmluYWxseShmdW5jdGlvbigpe3IucmVzb2x2ZShpKX0pLHIuVGV9LGUucHJvdG90eXBlLmNvbnRhaW5zPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1vLmRlZmVyKCksaT0hMTtyZXR1cm4gdGhpcy53MC5jb250YWlucyhlKS50aGVuKGZ1bmN0aW9uKHIpeyFpJiZoJiZzLm5pLlNyLklyP3QuUzAuY29udGFpbnMoZSkudGhlbihmdW5jdGlvbihlKXtpPWV9KTppPXJ9KS5mYWlsKGZ1bmN0aW9uKGUpe3QudGUuZXJyb3IoZSl9KS5maW5hbGx5KGZ1bmN0aW9uKCl7ci5yZXNvbHZlKGkpfSksci5UZX0sZS5wcm90b3R5cGUuaGs9ZnVuY3Rpb24oZSl7cmV0dXJuIWUmJmgmJnMubmkuU3IuSXI/dGhpcy5TMC5oayhlKTp0aGlzLncwLmhrKGUpfSxlLnByb3RvdHlwZS5KVT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9by5kZWZlcigpLGk9W107cmV0dXJuIWUmJmgmJnMubmkuU3IuSXI/dGhpcy5TMC5KVShlKS50aGVuKGZ1bmN0aW9uKGUpe2k9ZX0pLmZhaWwoZnVuY3Rpb24oZSl7dC50ZS5lcnJvcihlKX0pLmZpbmFsbHkoZnVuY3Rpb24oKXtyLnJlc29sdmUoaSl9KTp0aGlzLncwLkpVKGUpLnRoZW4oZnVuY3Rpb24oZSl7aT1lfSkuZmFpbChmdW5jdGlvbihlKXt0LnRlLmVycm9yKGUpfSkuZmluYWxseShmdW5jdGlvbigpe3IucmVzb2x2ZShpKX0pLHIuVGV9LGUucHJvdG90eXBlLlhVPWZ1bmN0aW9uKCl7dGhpcy53MC5YVSgpfSxlfSgpO3QuU3I9Y30sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXIoMSksbj1yKDIyKSxzPXIoNiksbz1yKDMpLGE9cigwKSxoPXIoMTApLGM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5SMD1uZXcgaSx0aGlzLmppPW5ldyBzLmZuLlppfXJldHVybiBlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKGUpe3RoaXMudGU9YS5GcmFtZXdvcmsucmVzb2x2ZShhLkZyYW1ld29yay5xLkkpLmxvZyhlLnNlc3Npb25JZCksdGhpcy5iMD1lLlRDfSxlLnByb3RvdHlwZS5UST1mdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9YS5GcmFtZXdvcmsucmVzb2x2ZShhLkZyYW1ld29yay5xLkIpLGk9ITEsbj1lLkp1KCksYz1lLlZ1LHU9ZS5XdSgpO2UueGhyPXIsZS5NdS5fdT1hLkZyYW1ld29yay50aW1lKCksdGhpcy50ZS5kZWJ1ZyhcIkZSTCBJU1NVRSBSRVEgRk9SIEZSQUdNRU5UIFwiK2UuUXUudG9TdHJpbmcoKStcIi1cIitlLk11LlJ1K1wiIFtcIitoLldzW2UuWXUoKV0rXCJdIFRPIEZBTExCQUNLIFwiKSxlLlF1LndSKCkmJihyLnJlc3BvbnNlVHlwZT1cImFycmF5YnVmZmVyXCIpLHRoaXMuUDAoZS50eXBlKSYmYy5yYW5nZSYmZS5ZdSgpIT1oLldzLnpzJiZyLnNldFJlcXVlc3RIZWFkZXIoXCJSYW5nZVwiLFwiYnl0ZXM9XCIrYy5yYW5nZSksby5uaS5qLl9yJiZ0aGlzLkEwKGUudHlwZSkmJjAhPWUuTXUuUnUmJih0aGlzLnRlLmluZm8oXCJTRVQgUkFOR0UgYnl0ZXM9XCIrZS5NdS5SdStcIi1cIiksci5zZXRSZXF1ZXN0SGVhZGVyKFwiUmFuZ2VcIixcImJ5dGVzPVwiK2UuTXUuUnUrXCItXCIpKSxjLnpELmZvckVhY2goZnVuY3Rpb24oZSl7XCJyYW5nZVwiIT09ZS5rZXkudG9Mb3dlckNhc2UoKSYmci5zZXRSZXF1ZXN0SGVhZGVyKGUua2V5LGUudmFsdWUpfSksYy5hc3luYyYmYy50aW1lb3V0PjAmJihyLnRpbWVvdXQ9Yy50aW1lb3V0KSxjLm1pbWVUeXBlJiZyLm92ZXJyaWRlTWltZVR5cGUoYy5taW1lVHlwZSksYy53aXRoQ3JlZGVudGlhbHMmJihyLndpdGhDcmVkZW50aWFscz1jLndpdGhDcmVkZW50aWFscyksci5vbmxvYWRzdGFydD1mdW5jdGlvbihlKXt2YXIgdD1zLmZuLmNyZWF0ZUV2ZW50KEV2ZW50LFwibG9hZHN0YXJ0XCIsZSxjKTtjLmRpc3BhdGNoRXZlbnQodCl9LHIub25hYm9ydD1mdW5jdGlvbihlKXtpZighaSl7dmFyIHQ9cy5mbi5jcmVhdGVFdmVudChFdmVudCxcImFib3J0XCIsZSxjKTtjLmRpc3BhdGNoRXZlbnQodCl9fSxyLm9udGltZW91dD1mdW5jdGlvbihyKXtpZighaSl7dC5lcnJvcihlLG4pO3ZhciBvPXMuZm4uY3JlYXRlRXZlbnQoUHJvZ3Jlc3NFdmVudCxcInRpbWVvdXRcIixyLGMpO2MuZGlzcGF0Y2hFdmVudChvKX19LHIub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKGUpe2lmKGMmJihyLnJlYWR5U3RhdGU9PT1YTUxIdHRwUmVxdWVzdC5IRUFERVJTX1JFQ0VJVkVEJiYoYy54dT1yLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKSxyLnJlYWR5U3RhdGU8WE1MSHR0cFJlcXVlc3QuRE9ORXx8ci5yZWFkeVN0YXRlPT09WE1MSHR0cFJlcXVlc3QuRE9ORSYmMD09PXIuc3RhdHVzKSl7Yy5yZWFkeVN0YXRlPXIucmVhZHlTdGF0ZTt2YXIgdD1zLmZuLmNyZWF0ZUV2ZW50KEV2ZW50LFwicmVhZHlzdGF0ZWNoYW5nZVwiLGUsYyk7Yy5kaXNwYXRjaEV2ZW50KHQpfX0sci5vbnByb2dyZXNzPWZ1bmN0aW9uKGkpe2lmKCF0LkEwKGUudHlwZSkpe3ZhciBuPXMuZm4uY3JlYXRlRXZlbnQoUHJvZ3Jlc3NFdmVudCxcInByb2dyZXNzXCIsaSxjKTtjLmRpc3BhdGNoRXZlbnQobiksci50b3RhbD1pLnRvdGFsfWUuTXUuQXU9aS50b3RhbH0sci5vbmxvYWQ9ZnVuY3Rpb24oaCl7aWYoaT0hMCxjLnN0YXR1cz1yLnN0YXR1cyxoJiYwIT1oLnRvdGFsJiYoZS5NdS5BdT1oLnRvdGFsKSxlLnh1PXIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCksci5zdGF0dXM8MjAwfHxyLnN0YXR1cz4yOTkpcmV0dXJuIHQudGUuZGVidWcoXCJGUkwgU0VSVkVSIFJFVFVSTkVEIEVSUk9SIENPREUgXCIrci5zdGF0dXMpLHZvaWQgdC5lcnJvcihlLG4pO2UuUXUud1IoKT90LlAwKGUudHlwZSk/ZS5IdT1yLnJlc3BvbnNlOnQuQTAoZS50eXBlKSYmKG8ubmkuai5fcj9lLkh1PWEuRnJhbWV3b3JrLlMoKT9udWxsOnMuZm4uYXBwZW5kQnVmZmVyKGUuSHUsci5yZXNwb25zZSk6ZS5IdT1yLnJlc3BvbnNlKTplLlJCPXIucmVzcG9uc2VUZXh0LGUubG9hZGVkKCksdC5SMC5kZWxldGUobiksZS5NdS5OdT1hLkZyYW1ld29yay50aW1lKCksdC5DMChlKSx0LmswKGUpLHQuYjAuY1coZSkscj1udWxsfSxyLm9uZXJyb3I9ZnVuY3Rpb24oKXtpfHx0LmVycm9yKGUsbil9LHRoaXMuUjAuc2V0KG4sZSksci5vcGVuKFwiR0VUXCIsdSxjLmFzeW5jLGMudXNlcm5hbWUsYy5wYXNzd29yZCksci5zZW5kKCl9LGUucHJvdG90eXBlLmVycm9yPWZ1bmN0aW9uKGUsdCl7dmFyIHI9XCJDT1VMRCBOT1QgRE9XTkxPQUQgXCIrZS5XdSgpK1wiIHN0YXR1czogXCIrZS54aHIuc3RhdHVzO2UudHlwZT09bi5UdS52dT90aGlzLnRlLmRlYnVnKHIpOnRoaXMudGUud2FybihyKSx0aGlzLk8wKGUpLHRoaXMuUjAuZGVsZXRlKHQpLHRoaXMuYjAub1coZSl9LGUucHJvdG90eXBlLlFlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLlIwLmhhcyhlKX0sZS5wcm90b3R5cGUuUDA9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PW4uVHUudnV8fGU9PW4uVHUuZ3V8fGU9PW4uVHUuZHV9LGUucHJvdG90eXBlLkEwPWZ1bmN0aW9uKGUpe3JldHVybiBlPT1uLlR1Lnl1fSxlLnByb3RvdHlwZS5ZSj1mdW5jdGlvbihlKXt2YXIgdD10aGlzLlIwLmdldChlKTt0aGlzLlIwLmRlbGV0ZShlKSx0JiZ0LnhociYmdC54aHIuYWJvcnQoKX0sZS5wcm90b3R5cGUuazA9ZnVuY3Rpb24oZSl7dGhpcy50ZS5pbmZvKFwiU1VDQ0VTUyBGUk9NIEZBTExCQUNLIEZPUiBcIitlLld1KCkrXCIgW1wiK24uVHVbZS50eXBlXStcIl1bXCIrZS5NdS5BdStcIl0gQUZURVIgXCIrZS50bCgpK1wiIFtjdXJyOlwiK2UuaWwoKS5YaSgpK1wiIGF2ZzpcIit0aGlzLmppLlhpKCkrXCJdXCIpfSxlLnByb3RvdHlwZS5PMD1mdW5jdGlvbihlKXt9LGUucHJvdG90eXBlLmVXPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaml9LGUucHJvdG90eXBlLkMwPWZ1bmN0aW9uKGUpe2UuWXUoKT09PWguV3MuWXMmJnRoaXMuamkuS2koZS5pbCgpKX0sZX0oKTt0Lk96PWN9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1yKDIpO3IoNTYpO3ZhciBuPXIoMCkscz1yKDMpLG89cigxNSksYT1yKDQ1KSxoPXIoNTQpLGM9cigxMSksdT1yKDg4KSxsPWhpdmUuRE4ucHJvdG9jb2wuRk4uVk4scD1yKDkpLGY9cig4KSxkPXIoNSksZz1yKDQpLHY9ZC5SdC5DaSx5PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuXzA9aXNOYU4oZi5IaXZlQ29uZmlnLkRlYnVnTG9ncy5UcmFja2VyTG9ncyk/MDpmLkhpdmVDb25maWcuRGVidWdMb2dzLlRyYWNrZXJMb2dzLHRoaXMubW49XCJbVFJBQ0tFUl0gXCIsdGhpcy5xRj0wLHRoaXMuTjA9MCx0aGlzLkQwPS8oWzAtOV17MSwzfShcXC5bMC05XXsxLDN9KXszfXxbYS1mMC05XXsxLDR9KDpbYS1mMC05XXswLDR9KXs1fSkvLHRoaXMuRjA9ITAsdGhpcy5IbD1uLkZyYW1ld29yay5yZXNvbHZlKG4uRnJhbWV3b3JrLnEuRiksdGhpcy5kaD1uLkZyYW1ld29yay5yZXNvbHZlKHAuUXMuVXMpLHRoaXMuYko9bi5GcmFtZXdvcmsucmVzb2x2ZShvLlBhLlRhKX1yZXR1cm4gZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbihlKXt0aGlzLnRlPW4uRnJhbWV3b3JrLnJlc29sdmUobi5GcmFtZXdvcmsucS5JKS5sb2coZS5zZXNzaW9uSWQpLHRoaXMuc2Vzc2lvbklkPWUuc2Vzc2lvbklkLHRoaXMuWXo9ZS5Zeix0aGlzLndDPWUud0MsdGhpcy5WXz1lLlZfLHRoaXMuTDA9ZS5SQyx0aGlzLmJKLk0wKGUuc2Vzc2lvbklkLHRoaXMpLHRoaXMuQjA9dS5zeC5ueH0sZS5wcm90b3R5cGUuc3RhcnQ9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLHI9MTtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKXRbci0xXT1hcmd1bWVudHNbcl07dGhpcy5jb250ZXh0PWUsdGhpcy5OeD1lLkV6LktfKCksdGhpcy50aWNrZXQ9ZS5Fei5BaygpLHRoaXMuc3M9dH0sZS5wcm90b3R5cGUuVTA9ZnVuY3Rpb24oZSl7dGhpcy54MD1lfSxlLnByb3RvdHlwZS55Sj1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5sSigpLHRoaXMuSDA9bi5GcmFtZXdvcmsuc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtlLnEwKCl9LHMubmkuenQuS3QpLHRoaXMucTAoKX0sZS5wcm90b3R5cGUubEo9ZnVuY3Rpb24oKXt0aGlzLkgwJiZuLkZyYW1ld29yay5jbGVhckludGVydmFsKHRoaXMuSDApfSxlLnByb3RvdHlwZS5WMD1mdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1pLmRlZmVyKCkscj1uZXcgaGl2ZS5ETi5wcm90b2NvbC5GTi5oRCxuPXRoaXMuY29udGV4dC5FeixzPW4uaXNMaXZlKCk/U3RyZWFtVHlwZS5MSVZFOlN0cmVhbVR5cGUueEc7ci5zZXNzaW9uSWQ9dGhpcy5zZXNzaW9uSWQ7dmFyIG89bmV3IGw7cmV0dXJuIHRoaXMueDA/KG8ucGFydG5lcklkPXRoaXMueDAucGFydG5lcklkLG8uY3VzdG9tZXJJZD10aGlzLngwLmN1c3RvbWVySWQpOmYuSGl2ZUNvbmZpZy5DbGllbnRJbmZvLkZzJiZmLkhpdmVDb25maWcuQ2xpZW50SW5mby5Mcz8oby5wYXJ0bmVySWQ9Zi5IaXZlQ29uZmlnLkNsaWVudEluZm8uRnMsby5jdXN0b21lcklkPWYuSGl2ZUNvbmZpZy5DbGllbnRJbmZvLkxzKTooby5wYXJ0bmVySWQ9dGhpcy50aWNrZXQuTGgoKSxvLmN1c3RvbWVySWQ9dGhpcy50aWNrZXQuTWgoKSksci5jRD1vLHIuc3RyZWFtVHlwZT1zLHIuY29udGVudElkPXRoaXMud0MuS18oKSx0aGlzLmRoLlZoKCkudGhlbihmdW5jdGlvbih0KXtlLmowPXQuUWgoKS5DcygpLGUud0Mud00oZS5qMCl9KS5mYWlsKGZ1bmN0aW9uKHQpe2UudGUud2FybihlLm1uK1wiR2V0IGNvbm5lY3Rpdml0eSBpbmZvIGZhaWxlZCB3aXRoIGVycm9yIFwiLHQpfSkuZmluYWxseShmdW5jdGlvbigpe3RyeXt2YXIgaT1uZXcgaGl2ZS5zbmFwc2hvdHMuQ29ubmVjdGl2aXR5SW5mbztpLnB1YmxpY0lwPWUuY0wsaS5wcml2YXRlSXA9ZS5qMCxyLmluZm89ZS5HMChpLG4pLHIuZG49ZS5RMChuLHIuaW5mbyksdC5yZXNvbHZlKHIpfWNhdGNoKHIpe2cuRXJyb3JNb25pdG9yLmdpKCkuZGkoXCJQcmVwYXJlIHRyYWNrZXIgaW5mbyBhbmQgcXVlcnkgZmFpbGVkXCIsZS5tbixyKSx0LnJlamVjdChcIkVSUk9SXCIpfX0pLmRvbmUoKSx0LlRlfSxlLnByb3RvdHlwZS5LMD1mdW5jdGlvbigpe3ZhciBlPW5ldyBBcnJheTtyZXR1cm4gdGhpcy5CMD09dS5zeC5ueD9lLnB1c2goaGl2ZS5ETi5wcm90b2NvbC5GTi5MTi5NTik6dGhpcy5CMD09dS5zeC5BUz9lLnB1c2goaGl2ZS5ETi5wcm90b2NvbC5GTi5MTi5VTik6dGhpcy5CMD09dS5zeC5oQz9lLnB1c2goaGl2ZS5ETi5wcm90b2NvbC5GTi5MTi5CTik6dGhpcy50ZS53YXJuKFwiV3JvbmcgbG9jYWxpdHkgbW9kZVwiKSxlfSxlLnByb3RvdHlwZS5RMD1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsaT1uZXcgaGl2ZS5ETi5wcm90b2NvbC5GTi5YTjtyZXR1cm4gaS5yYW5kb209cy5uaS5Xci5Lcix0LmV4dGVybmFsQXMmJiF0aGlzLnFGJiYodGhpcy5xRj10LmV4dGVybmFsQXMpLHQuaW50ZXJuYWxBcyYmIXRoaXMuTjAmJih0aGlzLk4wPXQuaW50ZXJuYWxBcyksaS50RD10aGlzLkswKCksaS5aTj1bXSx0aGlzLnFGPjAmJnRoaXMuWTAoaS5aTixoaXZlLkROLnByb3RvY29sLkZOLnhOLkV4dGVybmFsLHRoaXMucUYscy5uaS5Xci5ZciksdGhpcy5OMD4wJiYodGhpcy5ZMChpLlpOLGhpdmUuRE4ucHJvdG9jb2wuRk4ueE4uSE4sdGhpcy5OMCxzLm5pLldyLnpyKSxpLiROPVtdLGUud04oKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PXIuejAoaGl2ZS5ETi5wcm90b2NvbC5GTi54Ti5ITixyLk4wLGUsLTEpO2kuJE4ucHVzaCh7a2V5OnQsdmFsdWU6MX0pfSksaS5lRD1bXSx0aGlzLndDLnNWKCkuZm9yRWFjaChmdW5jdGlvbihlLHQpe3ZhciBuPXIuejAoaGl2ZS5ETi5wcm90b2NvbC5GTi54Ti5ITixyLk4wLHQsZS50eXBlPT1hLmNDLmhDP2hpdmUuRE4ucHJvdG9jb2wuRk4uaW8udG86LTEpO2kuZUQucHVzaCh7a2V5Om4sdmFsdWU6cy5uaS5Xci5Kcn0pfSkpLGl9LGUucHJvdG90eXBlLnowPWZ1bmN0aW9uKGUsdCxyLGkpe3ZhciBuPW5ldyBoaXZlLkROLnByb3RvY29sLkZOLmpOO24uR049ZSxuLlFOPXQ7dmFyIHM9bmV3IGhpdmUuRE4ucHJvdG9jb2wuRk4uS047cmV0dXJuIHMuYml0cmF0ZT1yLHMuUU49biwtMSE9aSYmcy5ZTixzfSxlLnByb3RvdHlwZS5ZMD1mdW5jdGlvbihlLHQscixpKXt2YXIgbj1uZXcgaGl2ZS5ETi5wcm90b2NvbC5GTi5qTjtuLkdOPXQsbi5RTj1yLGUucHVzaCh7a2V5Om4sdmFsdWU6aX0pfSxlLnByb3RvdHlwZS5HMD1mdW5jdGlvbihlLHQpe3ZhciByPW5ldyBoaXZlLkROLnByb3RvY29sLkZOLnFOO2lmKG4uRnJhbWV3b3JrLlMoKT9yLmd1aWQ9dGhpcy5FaDpyLmd1aWQ9YnRvYSh0aGlzLkVoKSxyLnRpbWVzdGFtcD1uLkZyYW1ld29yay50aW1lKCksci5vbz12b2lkIDAsdGhpcy53Qy5pVigpJiYoci5leHRlcm5hbEFzPXRoaXMud0MuaVYoKSksdGhpcy53Qy5FaygpJiYoci5pbnRlcm5hbEFzPXRoaXMud0MuRWsoKSksbnVsbCE9ZSl7ci5sbz1lLnB1YmxpY0lwO3ZhciBpPW5ldyBJbmV0QWRkcmVzcztpLmFkZHJlc3M9ZS5wdWJsaWNJcCxyLnB1YmxpY0lwPWksci51bz1lLnByaXZhdGVJcDt2YXIgcz1uZXcgSW5ldEFkZHJlc3M7cy5hZGRyZXNzPWUucHJpdmF0ZUlwLHIucHJpdmF0ZUlwPXN9aWYoIXRoaXMud0MuZmsoKSYmdGhpcy53Qy5TaygpJiZ2P3IuY289MTpyLmNvPXRoaXMud0MuSjAoKSx0aGlzLmNvbnRleHQuRXogaW5zdGFuY2VvZiBoLk9OKXtyLmhvPW5ldyBBcnJheTt2YXIgbz10Ll9DKCk7bnVsbCE9byYmKHIuYW89by5iaXRyYXRlKTt2YXIgYz10LmpfKCk7dGhpcy53Qy5zVigpLmZvckVhY2goZnVuY3Rpb24oZSx0KXtpZihlLmdSKXt2YXIgaT1uZXcgaGl2ZS5ETi5wcm90b2NvbC5GTi5ubztzd2l0Y2goaS5iaXRyYXRlPXQsZS50eXBlKXtjYXNlIGEuY0MuJHM6aS5zdGF0ZT1oaXZlLkROLnByb3RvY29sLkZOLmlvLmVvO2JyZWFrO2Nhc2UgYS5jQy5hQzppLnN0YXRlPWhpdmUuRE4ucHJvdG9jb2wuRk4uaW8ucm87YnJlYWs7Y2FzZSBhLmNDLmhDOmkuc3RhdGU9aGl2ZS5ETi5wcm90b2NvbC5GTi5pby50b31pLmRlbHRhPWMuSkMoZS5nUi5FUigpLHQpLHIuaG8ucHVzaChpKX19KX1yZXR1cm4gcn0sZS5wcm90b3R5cGUucTA9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMudGUuZGVidWcodGhpcy5tbitcIiBQUkVQQVJFIFJFUVVFU1RcIiksdGhpcy5WMCgpLnRoZW4oZnVuY3Rpb24odCl7dmFyIHI9ZS5tbitcIlNFTkRJTkcgVFJBQ0tFUiBSRVFVRVNUIFsgcHJpdmF0ZUlwOlwiK3QuaW5mby51bytcIiByYW5rOlwiK3QuaW5mby5jbytcIl1cIjtzd2l0Y2goZS5fMCl7Y2FzZSAwOmRlZmF1bHQ6ZS50ZS5kZWJ1ZyhyKTticmVhaztjYXNlIDE6ZS50ZS5kZWJ1ZyhyK1wiIFwiK0pTT04uc3RyaW5naWZ5KHQpKTticmVhaztjYXNlIDI6ZS50ZS5kZWJ1ZyhyLHQpO2JyZWFrO2Nhc2UgMzplLnRlLmRlYnVnKHIrXCIgXCIrSlNPTi5zdHJpbmdpZnkodCksdCl9ZS5iSi5XMCh0KX0sZnVuY3Rpb24odCl7Zy5FcnJvck1vbml0b3IuZ2koKS5kaShcInRyYWNrZXIgZXJyb3IxXCIsZS5tbix0KX0pLmNhdGNoKGZ1bmN0aW9uKHQpe2cuRXJyb3JNb25pdG9yLmdpKCkuZGkoXCJ0cmFja2VyIGVycm9yMlwiLGUubW4sdCl9KX0sZS5wcm90b3R5cGUuWDA9ZnVuY3Rpb24oZSl7dGhpcy5CMD1lfSxlLnByb3RvdHlwZS5aSj1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3N3aXRjaCh0aGlzLl8wKXtjYXNlIDE6dGhpcy50ZS5kZWJ1Zyh0aGlzLm1uK3RoaXMuY29udGV4dC5Fei5BaygpK1wiIFRyYWNrZXIgUmVzcG9uc2U6IFwiK0pTT04uc3RyaW5naWZ5KGUpKTticmVhaztjYXNlIDI6dGhpcy50ZS5kZWJ1Zyh0aGlzLm1uK3RoaXMuY29udGV4dC5Fei5BaygpK1wiIFRyYWNrZXIgUmVzcG9uc2U6IFwiLGUpO2JyZWFrO2Nhc2UgMzp0aGlzLnRlLmRlYnVnKHRoaXMubW4rdGhpcy5jb250ZXh0LkV6LkFrKCkrXCIgVHJhY2tlciBSZXNwb25zZTogXCIrSlNPTi5zdHJpbmdpZnkoZSksZSl9dGhpcy5xRj1lLlRrLmV4dGVybmFsQXMsdGhpcy5OMD1lLlRrLmludGVybmFsQXMsdGhpcy5jTD1lLlRrLmxvLHRoaXMuajA9ZS5Uay51byx0aGlzLndDLnlNKHRoaXMuY0wpLHRoaXMud0MuWjAodGhpcy5OMCksdGhpcy53Qy4kMCh0aGlzLnFGKSx0aGlzLmRoLmdNKHRoaXMuY0wsdGhpcy5qMCx0aGlzLk4wKSx0aGlzLnRlLmRlYnVnKHRoaXMubW4rXCJSZXBvcnRpbmcgZnJvbSB0cmFja2VyIHB1YmxpYyBJUDpcIit0aGlzLmNMK1wiIHByaXZhdGUgSVA6IFwiK3RoaXMuajArXCIgRXh0QXM6XCIrdGhpcy5xRitcIiBpbkFzOlwiK3RoaXMuTjApLCF0aGlzLndDLmZrKCkmJnRoaXMud0MuU2soKSYmdj90aGlzLkwwLkp4KCExKTp0aGlzLkwwLmUxKGUudEQsZS5sRCk7dmFyIHI9dGhpcy50MShlKTt0aGlzLnNzLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIGUuQXgocix0LkYwKX0pLHRoaXMuRjA9ITF9LGUucHJvdG90eXBlLnQxPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxyPTAsaT1lLmxEO3I8aS5sZW5ndGg7cisrKXt2YXIgbj1pW3JdLHM9bmV3IGMucG8oYy5acy5YcyxuKTt0LnB1c2gocyl9cmV0dXJuIHR9LGUucHJvdG90eXBlLmFIPWZ1bmN0aW9uKGUpe30sZS5wcm90b3R5cGUuWmg9ZnVuY3Rpb24oZSl7dGhpcy5FaD1lLHRoaXMudGUuaW5mbyh0aGlzLm1uK1wiQ09OTkVDVEVEIFwiK3RoaXMuRWgpLHRoaXMuTDAuaTEoKSx0aGlzLnlKKCl9LGUucHJvdG90eXBlLnlxPWZ1bmN0aW9uKCl7fSxlfSgpO3QuTno9eX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXIoMSksbj1yKDApLHM9cig2KSxvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe3RoaXMuaWQ9ZSx0aGlzLnNpemU9dH1yZXR1cm4gZX0oKSxhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMubjE9bmV3IGksdGhpcy5zMT1uZXcgaSx0aGlzLnRlPW4uRnJhbWV3b3JrLnJlc29sdmUobi5GcmFtZXdvcmsucS5JKS5sb2coKX1yZXR1cm4gZS5wcm90b3R5cGUucHV0PWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5tTixpPWUuc2l6ZTtlLmJpdHJhdGU7dGhpcy5uMS5oYXMocil8fCh0aGlzLm4xLnNldChyLG5ldyBvKHIsaSkpLHRoaXMuczEuc2V0KHIsbmV3IEFycmF5KSksdGhpcy5zMS5nZXQocikucHVzaCh0KX0sZS5wcm90b3R5cGUuY29udGFpbnM9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuczEuaGFzKGUpfSxlLnByb3RvdHlwZS5taz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5zMS5nZXQoZSl9LGUucHJvdG90eXBlLm8xPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLm4xLmdldChlKX0sZS5wcm90b3R5cGUuZFY9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0aGlzLnMxLmZvckVhY2goZnVuY3Rpb24ocixpKXtzLmZuLnRuKHIsZSwhMSksMD09PXIubGVuZ3RoJiYodC5zMS5kZWxldGUoaSksdC5uMS5kZWxldGUoaSkpfSl9LGUucHJvdG90eXBlLlpVPWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLnMxLmZvckVhY2goZnVuY3Rpb24odCxyKXtlLnRlLmRlYnVnKFwiT0JKSURYIEZSIFwiK3IrXCIgUFMgXCIrdC5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUucXEuUGwuX2x9KS5yZWR1Y2UoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZStcIixcIit0fSkpfSl9LGV9KCk7dC5Nej1hfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9cigxKSxuPXIoMykscz1yKDApLG89cig2KSxhPXIoMTEpLGg9cigxNTcpLGM9cig0MyksdT1yKDg5KSxsPXIoNSkscD1yKDQpLGY9bC5SdC5DaSxkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuRWg9bnVsbCx0aGlzLmExPW5ldyBpLHRoaXMuWnE9bmV3IGl9cmV0dXJuIGUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oZSl7dGhpcy50ZT1zLkZyYW1ld29yay5yZXNvbHZlKHMuRnJhbWV3b3JrLnEuSSkubG9nKGUuc2Vzc2lvbklkKSx0aGlzLm1uPVwiU1tcIitlLnNlc3Npb25JZCtcIl1cIix0aGlzLlNDPWUuU0MsdGhpcy53Qz1lLndDLHRoaXMuaDE9ZS54XywoZnx8cy5GcmFtZXdvcmsuUygpJiZjLmlDLnRDKSYmKHRoaXMuJHo9ZS4keiksdGhpcy5zdGFydCgpfSxlLnByb3RvdHlwZS5zdGFydD1mdW5jdGlvbigpe3RoaXMuYzE9ITB9LGUucHJvdG90eXBlLnN0b3A9ZnVuY3Rpb24oKXt0aGlzLmMxPSExfSxlLnByb3RvdHlwZS5BeD1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7dHJ5e2lmKHRoaXMuYzEpe3ZhciBpPVtdO2UuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD1udWxsO3IudTEoKSxlLmd1aWQhPXIuRWgmJihlLnR5cGU9PWEuWnMuWHM/dD1yLmwxKGUpOmZ8fHMuRnJhbWV3b3JrLlMoKSYmYy5pQy50Qz8odD1yLmYxKGUpLHIuJHoubXgoZSkudGhlbihmdW5jdGlvbigpe3IuU0MubXEoci5acS5nZXQoZS5ndWlkKSl9KS5mYWlsKGZ1bmN0aW9uKHQpe3QmJnQhPXUubEguQ3gmJihyLlpxLmRlbGV0ZShlLmd1aWQpLHAuRXJyb3JNb25pdG9yLmdpKCkuZGkoXCJMRUFERVIgRUxFQ1RJT04gRkFJTEVEIFdJVEggRVJST1JcIixyLm1uLHQpKX0pKTp0PXIuZjEoZSkpLHQmJmkucHVzaCh0LlRrLmd1aWQpfSksdGhpcy5nXygpLHQmJnRoaXMuU0MuYnEodCksaS5sZW5ndGg+MCYmdGhpcy50ZS5kZWJ1ZyhcIkRJU0NPVkVSRUQgTkVXIFwiK2kubGVuZ3RoK1wiL1wiK2UubGVuZ3RoK1wiOiBbXCIraS5qb2luKFwiLCBcIikrXCJdXCIpfX1jYXRjaChlKXtwLkVycm9yTW9uaXRvci5naSgpLmRpKFwiRElTQ09WRVJFRCBQRUVSUyBGQUlMRURcIix0aGlzLm1uLGUpfX0sZS5wcm90b3R5cGUuZ189ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmExLmxlbmd0aCt0aGlzLlpxLmxlbmd0aDt0aGlzLmgxLmQxKGUpfSxlLnByb3RvdHlwZS51MT1mdW5jdGlvbigpe3RoaXMuYTEubGVuZ3RoPj1uLm5pLlFyLmpyJiZ0aGlzLmcxKHRoaXMuYTEpLHRoaXMuWnEubGVuZ3RoPj1uLm5pLlFyLkdyJiZ0aGlzLmcxKHRoaXMuWnEpfSxlLnByb3RvdHlwZS5nMT1mdW5jdGlvbihlKXt2YXIgdD1lLmtleXMoKVtzLkZyYW1ld29yay5yYW5kb20oKSp0aGlzLmExLmxlbmd0aF07ZS5kZWxldGUodCl9LGUucHJvdG90eXBlLmYxPWZ1bmN0aW9uKGUpe3ZhciB0PW51bGw7cmV0dXJuIHRoaXMuYTEuaGFzKGUuZ3VpZCk/KHQ9dGhpcy5hMS5nZXQoZS5ndWlkKSx0aGlzLmExLmRlbGV0ZShlLmd1aWQpLHRoaXMuWnEuc2V0KGUuZ3VpZCx0KSk6dGhpcy5acS5oYXMoZS5ndWlkKSYmKHQ9dGhpcy5acS5nZXQoZS5ndWlkKSksdD8odC5VMChlKSxudWxsKToodD1uZXcgaC52MShlKSx0aGlzLlpxLnNldChlLmd1aWQsdCksdCl9LGUucHJvdG90eXBlLmwxPWZ1bmN0aW9uKGUpe3ZhciB0PW51bGw7aWYodGhpcy5acS5oYXMoZS5ndWlkKSl0aGlzLmYxKGUpO2Vsc2V7aWYoIXRoaXMuYTEuaGFzKGUuZ3VpZCkpcmV0dXJuIHQ9bmV3IGgudjEoZSksdGhpcy5hMS5zZXQoZS5ndWlkLHQpLHQ7dD10aGlzLmExLmdldChlLmd1aWQpLHQuVTAoZSl9cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLlBxPWZ1bmN0aW9uKGUsdCl7dmFyIHI9W107cmV0dXJuIHRoaXMuYzEmJihmfHxzLkZyYW1ld29yay5TKCkmJmMuaUMudEM/cj1vLmZuLm5uKHRoaXMuYTEudmFsdWVzKCkpOihyPXRoaXMuYTEudmFsdWVzKCksdGhpcy5acS5mb3JFYWNoKGZ1bmN0aW9uKGUsdCl7ci5wdXNoKGUpfSkscj1vLmZuLm5uKHIpKSksZT9yOnQ/ci5zbGljZSgwLHQpOnIuc2xpY2UoMCwyKm4ubmkuT3QuUHQpfSxlLnByb3RvdHlwZS56cT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5hMS5oYXMoZSk/dGhpcy5hMS5nZXQoZSk6dGhpcy5acS5oYXMoZSk/dGhpcy5acS5nZXQoZSk6bnVsbH0sZS5wcm90b3R5cGUuWmg9ZnVuY3Rpb24oZSl7dGhpcy50ZS5pbmZvKFwiTUVNQkVSU0hJUCBTRVJWRVIgQ09OTkVDVEVEXCIpLHRoaXMuRWg9ZSx0aGlzLndDLnZxKHRoaXMuRWgpfSxlLnByb3RvdHlwZS55cT1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUuYUg9ZnVuY3Rpb24oZSl7dGhpcy50ZS5kZWJ1ZyhcIlBlZXIgXCIrZStcIiBkaXNjb25uZWN0ZWRcIiksdGhpcy5hMS5kZWxldGUoZSksdGhpcy5acS5kZWxldGUoZSksdGhpcy5nXygpfSxlfSgpO3QuUXI9ZH0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXIoMTEpLG49ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMuVGs9ZX1yZXR1cm4gZS5wcm90b3R5cGUuVXE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5Uay50eXBlPT09aS5acy5LfSxlLnByb3RvdHlwZS5VMD1mdW5jdGlvbihlKXt0aGlzLlRrLnR5cGU9PWkuWnMuWHMmJmUudHlwZT09aS5acy5LP3RoaXMuVGsudHlwZT1pLlpzLks6dGhpcy5Uay50eXBlPT1pLlpzLlhzJiZlLnR5cGU9PWkuWnMuWHN8fHRoaXMuVGsudHlwZT09aS5acy5LJiZlLnR5cGU9PWkuWnMuSz90aGlzLm0xKHRoaXMuVGssZSk6dGhpcy5Uay50eXBlPT1pLlpzLksmJmUudHlwZT09aS5acy5YcyYmKHRoaXMubTEodGhpcy5UayxlKSx0aGlzLlRrLnR5cGU9aS5acy5LKX0sZS5wcm90b3R5cGUuU1Y9ZnVuY3Rpb24oZSl7dGhpcy5Uay5hbz1lfSxlLnByb3RvdHlwZS5tMT1mdW5jdGlvbihlLHQpe2UuaW50ZXJuYWxBcz10aGlzLkUxKGUuaW50ZXJuYWxBcyx0LmludGVybmFsQXMpLGUuZXh0ZXJuYWxBcz10aGlzLkUxKGUuZXh0ZXJuYWxBcyx0LmV4dGVybmFsQXMpLGUub289dGhpcy5FMShlLm9vLHQub28pLGUuYmFuZHdpZHRoPXRoaXMuRTEoZS5iYW5kd2lkdGgsdC5iYW5kd2lkdGgpLGUuYW89dGhpcy5FMShlLmFvLHQuYW8pLGUudW89dGhpcy5FMShlLnVvLHQudW8pLGUubG89dGhpcy5FMShlLmxvLHQubG8pLGUuY289dGhpcy5FMShlLmNvLHQuY28pLGUudGltZXN0YW1wPXRoaXMuRTEoZS50aW1lc3RhbXAsdC50aW1lc3RhbXApLHQuc28mJihlLnNvPXRoaXMuRTEoZS5zbyx0LnNvKSksdC5obyYmKGUuaG89dC5obyl9LGUucHJvdG90eXBlLkUxPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU/dCYmZSE9dCYmKGU9dCk6dCYmKGU9dCksZX0sZX0oKTt0LnYxPW59LGZ1bmN0aW9uKGUsdCxyKXsoZnVuY3Rpb24oZSl7dmFyIGksbixzOy8qKlxyXG4gKiBAbGljZW5zZSBQcm90b0J1Zi5qcyAoYykgMjAxMyBEYW5pZWwgV2lydHogPGRjb2RlQGRjb2RlLmlvPlxyXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wXHJcbiAqIHNlZTogaHR0cHM6Ly9naXRodWIuY29tL2Rjb2RlSU8vUHJvdG9CdWYuanMgZm9yIGRldGFpbHNcclxuICovXHJcbiFmdW5jdGlvbihvKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBhKGUpe3ZhciB0PXt9O3JldHVybiB0LlQxPWUsdC5EUj1lLkRSfHxudWxsLHQuVkVSU0lPTj1cIjQuMC4wLWIzXCIsdC5JMT17fSx0LkkxLncxPTAsdC5JMS5TMT0xLHQuSTEuUjE9Mix0LkkxLmIxPTMsdC5JMS5QMT00LHQuSTEuQTE9NSx0LkMxPVt0LkkxLncxLHQuSTEuUzEsdC5JMS5BMV0sdC5PMT17XzE6e25hbWU6XCJpbnQzMlwiLE4xOnQuSTEudzEsZGVmYXVsdFZhbHVlOjB9LEQxOntuYW1lOlwidWludDMyXCIsTjE6dC5JMS53MSxkZWZhdWx0VmFsdWU6MH0sRjE6e25hbWU6XCJzaW50MzJcIixOMTp0LkkxLncxLGRlZmF1bHRWYWx1ZTowfSxMMTp7bmFtZTpcImludDY0XCIsTjE6dC5JMS53MSxkZWZhdWx0VmFsdWU6dC5EUj90LkRSLlpFUk86dm9pZCAwfSxNMTp7bmFtZTpcInVpbnQ2NFwiLE4xOnQuSTEudzEsZGVmYXVsdFZhbHVlOnQuRFI/dC5EUi52SDp2b2lkIDB9LEIxOntuYW1lOlwic2ludDY0XCIsTjE6dC5JMS53MSxkZWZhdWx0VmFsdWU6dC5EUj90LkRSLlpFUk86dm9pZCAwfSxVMTp7bmFtZTpcImJvb2xcIixOMTp0LkkxLncxLGRlZmF1bHRWYWx1ZTohMX0sSDE6e25hbWU6XCJkb3VibGVcIixOMTp0LkkxLlMxLGRlZmF1bHRWYWx1ZTowfSxxYjp7bmFtZTpcInN0cmluZ1wiLE4xOnQuSTEuUjEsZGVmYXVsdFZhbHVlOlwiXCJ9LEhuOntuYW1lOlwiYnl0ZXNcIixOMTp0LkkxLlIxLGRlZmF1bHRWYWx1ZTpudWxsfSxxMTp7bmFtZTpcImZpeGVkMzJcIixOMTp0LkkxLkExLGRlZmF1bHRWYWx1ZTowfSxWMTp7bmFtZTpcInNmaXhlZDMyXCIsTjE6dC5JMS5BMSxkZWZhdWx0VmFsdWU6MH0sajE6e25hbWU6XCJmaXhlZDY0XCIsTjE6dC5JMS5TMSxkZWZhdWx0VmFsdWU6dC5EUj90LkRSLnZIOnZvaWQgMH0sRzE6e25hbWU6XCJzZml4ZWQ2NFwiLE4xOnQuSTEuUzEsZGVmYXVsdFZhbHVlOnQuRFI/dC5EUi5aRVJPOnZvaWQgMH0sZmxvYXQ6e25hbWU6XCJmbG9hdFwiLE4xOnQuSTEuQTEsZGVmYXVsdFZhbHVlOjB9LFExOntuYW1lOlwiZW51bVwiLE4xOnQuSTEudzEsZGVmYXVsdFZhbHVlOjB9LG1lc3NhZ2U6e25hbWU6XCJtZXNzYWdlXCIsTjE6dC5JMS5SMSxkZWZhdWx0VmFsdWU6bnVsbH0sZ3JvdXA6e25hbWU6XCJncm91cFwiLE4xOnQuSTEuYjEsZGVmYXVsdFZhbHVlOm51bGx9fSx0LksxPVt0Lk8xLl8xLHQuTzEuRjEsdC5PMS5WMSx0Lk8xLkQxLHQuTzEucTEsdC5PMS5MMSx0Lk8xLkIxLHQuTzEuRzEsdC5PMS5NMSx0Lk8xLmoxLHQuTzEuVTEsdC5PMS5xYix0Lk8xLkhuXSx0LlkxPTEsdC56MT01MzY4NzA5MTEsdC5KMT0hMSx0LlcxPSEwLHQuWDE9ITAsdC5oZj1mdW5jdGlvbigpe09iamVjdC5jcmVhdGV8fChPYmplY3QuY3JlYXRlPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXt9aWYoYXJndW1lbnRzLmxlbmd0aD4xKXRocm93IEVycm9yKFwiT2JqZWN0LmNyZWF0ZSBwb2x5ZmlsbCBvbmx5IGFjY2VwdHMgdGhlIGZpcnN0IHBhcmFtZXRlci5cIik7cmV0dXJuIHQucHJvdG90eXBlPWUsbmV3IHR9KTt2YXIgZT17fTtlLloxPSExO3RyeXtlLloxPVwiZnVuY3Rpb25cIj09dHlwZW9mIHIoMTYpLmUyJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiByKDU5KS5yZXNvbHZlfWNhdGNoKGUpe31yZXR1cm4gZS50Mj1mdW5jdGlvbigpe2Zvcih2YXIgZT1bZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFhNTEh0dHBSZXF1ZXN0fSxmdW5jdGlvbigpe3JldHVybiBuZXcgQWN0aXZlWE9iamVjdChcIk1zeG1sMi5YTUxIVFRQXCIpfSxmdW5jdGlvbigpe3JldHVybiBuZXcgQWN0aXZlWE9iamVjdChcIk1zeG1sMy5YTUxIVFRQXCIpfSxmdW5jdGlvbigpe3JldHVybiBuZXcgQWN0aXZlWE9iamVjdChcIk1pY3Jvc29mdC5YTUxIVFRQXCIpfV0sdD1udWxsLHI9MDtyPGUubGVuZ3RoO3IrKyl7dHJ5e3Q9ZVtyXSgpfWNhdGNoKGUpe2NvbnRpbnVlfWJyZWFrfWlmKCF0KXRocm93IEVycm9yKFwiWE1MSHR0cFJlcXVlc3QgaXMgbm90IHN1cHBvcnRlZFwiKTtyZXR1cm4gdH0sZS5mZXRjaD1mdW5jdGlvbih0LGkpe2lmKGkmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGkmJihpPW51bGwpLGUuWjEpaWYoaSlyKDE2KS5pMih0LGZ1bmN0aW9uKGUsdCl7aShlP251bGw6XCJcIit0KX0pO2Vsc2UgdHJ5e3JldHVybiByKDE2KS5lMih0KX1jYXRjaChlKXtyZXR1cm4gbnVsbH1lbHNle3ZhciBuPWUudDIoKTtpZihuLm9wZW4oXCJHRVRcIix0LCEhaSksbi5zZXRSZXF1ZXN0SGVhZGVyKFwiQWNjZXB0XCIsXCJ0ZXh0L3BsYWluXCIpLFwiZnVuY3Rpb25cIj09dHlwZW9mIG4ub3ZlcnJpZGVNaW1lVHlwZSYmbi5vdmVycmlkZU1pbWVUeXBlKFwidGV4dC9wbGFpblwiKSwhaSlyZXR1cm4gbi5zZW5kKG51bGwpLDIwMD09bi5zdGF0dXN8fDA9PW4uc3RhdHVzJiZcInN0cmluZ1wiPT10eXBlb2Ygbi5yZXNwb25zZVRleHQ/bi5yZXNwb25zZVRleHQ6bnVsbDtpZihuLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpezQ9PW4ucmVhZHlTdGF0ZSYmaSgyMDA9PW4uc3RhdHVzfHwwPT1uLnN0YXR1cyYmXCJzdHJpbmdcIj09dHlwZW9mIG4ucmVzcG9uc2VUZXh0P24ucmVzcG9uc2VUZXh0Om51bGwpfSw0PT1uLnJlYWR5U3RhdGUpcmV0dXJuO24uc2VuZChudWxsKX19LGUuaXNBcnJheT1BcnJheS5pc0FycmF5fHxmdW5jdGlvbihlKXtyZXR1cm5cIltvYmplY3QgQXJyYXldXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSl9LGV9KCksdC5MYW5nPXtPUEVOOlwie1wiLG4yOlwifVwiLHMyOlwiW1wiLG8yOlwiXVwiLGEyOlwiLFwiLEVRVUFMOlwiPVwiLGgyOlwiO1wiLGMyOlwiLFwiLHUyOidcIicsbDI6J1wiJyxmMjpcIidcIixkMjpcIidcIixnMjpcIihcIix2MjpcIilcIixtMjpcIjxcIixFMjpcIj5cIixUMjovW1xcc1xce1xcfT07XFxbXFxdLCdcIlxcKFxcKTw+XS9nLEkyOi9eKD86cmVxdWlyZWR8b3B0aW9uYWx8cmVwZWF0ZWR8bWFwKSQvLGpPOi9eKD86ZG91YmxlfGZsb2F0fGludDMyfHVpbnQzMnxzaW50MzJ8aW50NjR8dWludDY0fHNpbnQ2NHxmaXhlZDMyfHNmaXhlZDMyfGZpeGVkNjR8c2ZpeGVkNjR8Ym9vbHxzdHJpbmd8Ynl0ZXMpJC8sQk86L15bYS16QS1aX11bYS16QS1aXzAtOV0qJC8sdzI6L15bYS16QS1aXVthLXpBLVpfMC05XSokLyxTMjovXig/OlxcLj9bYS16QS1aX11bYS16QS1aXzAtOV0qKSskLyxSMjovXig/OlxcLlthLXpBLVpdW2EtekEtWl8wLTldKikrJC8sYjI6L14tPyg/OlsxLTldWzAtOV0qfDB8MFt4WF1bMC05YS1mQS1GXSt8MFswLTddK3woWzAtOV0qKFxcLlswLTldKik/KFtFZV1bKy1dP1swLTldKyk/KXxpbmZ8bmFuKSQvLFAyOi9eKD86WzEtOV1bMC05XSp8MCkkLyxBMjovXjBbeFhdWzAtOWEtZkEtRl0rJC8sQzI6L14wWzAtN10rJC8sTzI6L14oWzAtOV0qKFxcLlswLTldKik/KFtFZV1bKy1dP1swLTldKyk/fGluZnxuYW4pJC8sXzI6L14oPzpbMS05XVswLTldKnwwfDBbeFhdWzAtOWEtZkEtRl0rfDBbMC03XSspJC8sTjI6L15cXC0/KD86WzEtOV1bMC05XSp8MHwwW3hYXVswLTlhLWZBLUZdK3wwWzAtN10rKSQvLEQyOi9cXHMvLEZJOi8oPzpcIihbXlwiXFxcXF0qKD86XFxcXC5bXlwiXFxcXF0qKSopXCIpfCg/OicoW14nXFxcXF0qKD86XFxcXC5bXidcXFxcXSopKiknKS9nLEJPT0w6L14oPzp0cnVlfGZhbHNlKSQvaX0sdC5GMj1mdW5jdGlvbihlLHQpe3ZhciByPXt9LGk9ZnVuY3Rpb24oZSl7dGhpcy5zb3VyY2U9XCJcIitlLHRoaXMuaW5kZXg9MCx0aGlzLmxpbmU9MSx0aGlzLnN0YWNrPVtdLHRoaXMuTDI9ITEsdGhpcy5NMj10LmwyfSxuPWkucHJvdG90eXBlO24uWVg9ZnVuY3Rpb24oKXt0LkZJLmxhc3RJbmRleD10aGlzLmluZGV4LTE7dmFyIGU7aWYobnVsbCE9PShlPXQuRkkuZXhlYyh0aGlzLnNvdXJjZSkpKXt2YXIgcj12b2lkIDAhPT1lWzFdP2VbMV06ZVsyXTtyZXR1cm4gdGhpcy5pbmRleD10LkZJLmxhc3RJbmRleCx0aGlzLnN0YWNrLnB1c2godGhpcy5NMikscn10aHJvdyBFcnJvcihcIlVudGVybWluYXRlZCBzdHJpbmcgYXQgbGluZSBcIit0aGlzLmxpbmUrXCIsIGluZGV4IFwiK3RoaXMuaW5kZXgpfSxuLm5leHQ9ZnVuY3Rpb24oKXtpZih0aGlzLnN0YWNrLmxlbmd0aD4wKXJldHVybiB0aGlzLnN0YWNrLnNoaWZ0KCk7aWYodGhpcy5pbmRleD49dGhpcy5zb3VyY2UubGVuZ3RoKXJldHVybiBudWxsO2lmKHRoaXMuTDIpcmV0dXJuIHRoaXMuTDI9ITEsdGhpcy5ZWCgpO3ZhciBlLHI7ZG97Zm9yKGU9ITE7dC5EMi50ZXN0KHI9dGhpcy5zb3VyY2UuY2hhckF0KHRoaXMuaW5kZXgpKTspaWYodGhpcy5pbmRleCsrLFwiXFxuXCI9PT1yJiZ0aGlzLmxpbmUrKyx0aGlzLmluZGV4PT09dGhpcy5zb3VyY2UubGVuZ3RoKXJldHVybiBudWxsO2lmKFwiL1wiPT09dGhpcy5zb3VyY2UuY2hhckF0KHRoaXMuaW5kZXgpKWlmKFwiL1wiPT09dGhpcy5zb3VyY2UuY2hhckF0KCsrdGhpcy5pbmRleCkpe2Zvcig7XCJcXG5cIiE9PXRoaXMuc291cmNlLmNoYXJBdCh0aGlzLmluZGV4KTspaWYoKyt0aGlzLmluZGV4PT10aGlzLnNvdXJjZS5sZW5ndGgpcmV0dXJuIG51bGw7dGhpcy5pbmRleCsrLHRoaXMubGluZSsrLGU9ITB9ZWxzZXtpZihcIipcIiE9PXRoaXMuc291cmNlLmNoYXJBdCh0aGlzLmluZGV4KSl0aHJvdyBFcnJvcihcIlVudGVybWluYXRlZCBjb21tZW50IGF0IGxpbmUgXCIrdGhpcy5saW5lK1wiOiAvXCIrdGhpcy5zb3VyY2UuY2hhckF0KHRoaXMuaW5kZXgpKTtmb3Iocj1cIlwiO3IrKHI9dGhpcy5zb3VyY2UuY2hhckF0KHRoaXMuaW5kZXgpKSE9PVwiKi9cIjspaWYodGhpcy5pbmRleCsrLFwiXFxuXCI9PT1yJiZ0aGlzLmxpbmUrKyx0aGlzLmluZGV4PT09dGhpcy5zb3VyY2UubGVuZ3RoKXJldHVybiBudWxsO3RoaXMuaW5kZXgrKyxlPSEwfX13aGlsZShlKTtpZih0aGlzLmluZGV4PT09dGhpcy5zb3VyY2UubGVuZ3RoKXJldHVybiBudWxsO3ZhciBpPXRoaXMuaW5kZXg7aWYodC5UMi5sYXN0SW5kZXg9MCx0LlQyLnRlc3QodGhpcy5zb3VyY2UuY2hhckF0KGkpKSkrK2k7ZWxzZSBmb3IoKytpO2k8dGhpcy5zb3VyY2UubGVuZ3RoJiYhdC5UMi50ZXN0KHRoaXMuc291cmNlLmNoYXJBdChpKSk7KWkrKzt2YXIgbj10aGlzLnNvdXJjZS5zdWJzdHJpbmcodGhpcy5pbmRleCx0aGlzLmluZGV4PWkpO3JldHVybiBuPT09dC51Mj8odGhpcy5MMj0hMCx0aGlzLk0yPXQubDIpOm49PT10LmYyJiYodGhpcy5MMj0hMCx0aGlzLk0yPXQuZDIpLG59LG4uUWs9ZnVuY3Rpb24oKXtpZigwPT09dGhpcy5zdGFjay5sZW5ndGgpe3ZhciBlPXRoaXMubmV4dCgpO2lmKG51bGw9PT1lKXJldHVybiBudWxsO3RoaXMuc3RhY2sucHVzaChlKX1yZXR1cm4gdGhpcy5zdGFja1swXX0sbi50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiVG9rZW5pemVyKFwiK3RoaXMuaW5kZXgrXCIvXCIrdGhpcy5zb3VyY2UubGVuZ3RoK1wiIGF0IGxpbmUgXCIrdGhpcy5saW5lK1wiKVwifSxyLkIyPWk7dmFyIHM9ZnVuY3Rpb24oZSl7dGhpcy5VMj1uZXcgaShlKX0sbz1zLnByb3RvdHlwZTtyZXR1cm4gby5wYXJzZT1mdW5jdGlvbigpe2Zvcih2YXIgZSx0PXtuYW1lOlwiW1JPT1RdXCIsSDI6bnVsbCxxMjpbXSxWMjpbXSxpbXBvcnRzOltdLG9wdGlvbnM6e30sRE46W119LHI9ITA7ZT10aGlzLlUyLm5leHQoKTspc3dpdGNoKGUpe2Nhc2VcInBhY2thZ2VcIjppZighcnx8bnVsbCE9PXQuSDIpdGhyb3cgRXJyb3IoXCJVbmV4cGVjdGVkIHBhY2thZ2UgYXQgbGluZSBcIit0aGlzLlUyLmxpbmUpO3QuSDI9dGhpcy5qMihlKTticmVhaztjYXNlXCJpbXBvcnRcIjppZighcil0aHJvdyBFcnJvcihcIlVuZXhwZWN0ZWQgaW1wb3J0IGF0IGxpbmUgXCIrdGhpcy5VMi5saW5lKTt0LmltcG9ydHMucHVzaCh0aGlzLkcyKGUpKTticmVhaztjYXNlXCJtZXNzYWdlXCI6dGhpcy5RMih0LG51bGwsZSkscj0hMTticmVhaztjYXNlXCJlbnVtXCI6dGhpcy5LMih0LGUpLHI9ITE7YnJlYWs7Y2FzZVwib3B0aW9uXCI6dGhpcy5ZMih0LGUpO2JyZWFrO2Nhc2VcInNlcnZpY2VcIjp0aGlzLnoyKHQsZSk7YnJlYWs7Y2FzZVwiZXh0ZW5kXCI6dGhpcy5KMih0LGUpO2JyZWFrO2Nhc2VcInN5bnRheFwiOnQuVzI9dGhpcy5YMih0KTticmVhaztkZWZhdWx0OnRocm93IEVycm9yKFwiVW5leHBlY3RlZCB0b2tlbiBhdCBsaW5lIFwiK3RoaXMuVTIubGluZStcIjogXCIrZSl9cmV0dXJuIGRlbGV0ZSB0Lm5hbWUsdH0sby5aMj1mdW5jdGlvbihlKXt2YXIgcj0xO2lmKFwiLVwiPT1lLmNoYXJBdCgwKSYmKHI9LTEsZT1lLnN1YnN0cmluZygxKSksdC5QMi50ZXN0KGUpKXJldHVybiByKnBhcnNlSW50KGUsMTApO2lmKHQuQTIudGVzdChlKSlyZXR1cm4gcipwYXJzZUludChlLnN1YnN0cmluZygyKSwxNik7aWYodC5DMi50ZXN0KGUpKXJldHVybiByKnBhcnNlSW50KGUuc3Vic3RyaW5nKDEpLDgpO2lmKHQuTzIudGVzdChlKSlyZXR1cm5cImluZlwiPT09ZT9yKigxLzApOlwibmFuXCI9PT1lP05hTjpyKnBhcnNlRmxvYXQoZSk7dGhyb3cgRXJyb3IoXCJJbGxlZ2FsIG51bWJlciBhdCBsaW5lIFwiK3RoaXMuVTIubGluZStcIjogXCIrKHI8MD9cIi1cIjpcIlwiKStlKX0sby5lMz1mdW5jdGlvbigpe3ZhciBlLHIsaT1cIlwiO2Rve2lmKHI9dGhpcy5VMi5uZXh0KCksaSs9dGhpcy5VMi5uZXh0KCksKGU9dGhpcy5VMi5uZXh0KCkpIT09cil0aHJvdyBFcnJvcihcIklsbGVnYWwgZW5kIG9mIHN0cmluZyBhdCBsaW5lIFwiK3RoaXMuVTIubGluZStcIjogXCIrZSk7ZT10aGlzLlUyLlFrKCl9d2hpbGUoZT09PXQudTJ8fGU9PT10LmYyKTtyZXR1cm4gaX0sby50Mz1mdW5jdGlvbihlLHIpe3ZhciBpPS0xLG49MTtpZihcIi1cIj09ZS5jaGFyQXQoMCkmJihuPS0xLGU9ZS5zdWJzdHJpbmcoMSkpLHQuUDIudGVzdChlKSlpPXBhcnNlSW50KGUpO2Vsc2UgaWYodC5BMi50ZXN0KGUpKWk9cGFyc2VJbnQoZS5zdWJzdHJpbmcoMiksMTYpO2Vsc2V7aWYoIXQuQzIudGVzdChlKSl0aHJvdyBFcnJvcihcIklsbGVnYWwgaWQgYXQgbGluZSBcIit0aGlzLlUyLmxpbmUrXCI6IFwiKyhuPDA/XCItXCI6XCJcIikrZSk7aT1wYXJzZUludChlLnN1YnN0cmluZygxKSw4KX1pZihpPW4qaXwwLCFyJiZpPDApdGhyb3cgRXJyb3IoXCJJbGxlZ2FsIGlkIGF0IGxpbmUgXCIrdGhpcy5VMi5saW5lK1wiOiBcIisobjwwP1wiLVwiOlwiXCIpK2UpO3JldHVybiBpfSxvLmoyPWZ1bmN0aW9uKGUpe2lmKGU9dGhpcy5VMi5uZXh0KCksIXQuUzIudGVzdChlKSl0aHJvdyBFcnJvcihcIklsbGVnYWwgcGFja2FnZSBuYW1lIGF0IGxpbmUgXCIrdGhpcy5VMi5saW5lK1wiOiBcIitlKTt2YXIgcj1lO2lmKChlPXRoaXMuVTIubmV4dCgpKSE9dC5oMil0aHJvdyBFcnJvcihcIklsbGVnYWwgZW5kIG9mIHBhY2thZ2UgYXQgbGluZSBcIit0aGlzLlUyLmxpbmUrXCI6IFwiK2UpO3JldHVybiByfSxvLkcyPWZ1bmN0aW9uKGUpe2lmKGU9dGhpcy5VMi5RaygpLFwicHVibGljXCI9PT1lJiYodGhpcy5VMi5uZXh0KCksZT10aGlzLlUyLlFrKCkpLGUhPT10LnUyJiZlIT09dC5mMil0aHJvdyBFcnJvcihcIklsbGVnYWwgc3RhcnQgb2YgaW1wb3J0IGF0IGxpbmUgXCIrdGhpcy5VMi5saW5lK1wiOiBcIitlKTt2YXIgcj10aGlzLmUzKCk7aWYoKGU9dGhpcy5VMi5uZXh0KCkpIT09dC5oMil0aHJvdyBFcnJvcihcIklsbGVnYWwgZW5kIG9mIGltcG9ydCBhdCBsaW5lIFwiK3RoaXMuVTIubGluZStcIjogXCIrZSk7cmV0dXJuIHJ9LG8uWTI9ZnVuY3Rpb24oZSxyKXtyPXRoaXMuVTIubmV4dCgpO3ZhciBpPSExO2lmKHI9PXQuZzImJihpPSEwLHI9dGhpcy5VMi5uZXh0KCkpLCF0LlMyLnRlc3QocikmJiEvZ29vZ2xlXFwucHJvdG9idWZcXC4vLnRlc3QocikpdGhyb3cgRXJyb3IoXCJJbGxlZ2FsIG9wdGlvbiBuYW1lIGluIG1lc3NhZ2UgXCIrZS5uYW1lK1wiIGF0IGxpbmUgXCIrdGhpcy5VMi5saW5lK1wiOiBcIityKTt2YXIgbj1yO2lmKHI9dGhpcy5VMi5uZXh0KCksaSl7aWYociE9PXQudjIpdGhyb3cgRXJyb3IoXCJJbGxlZ2FsIGVuZCBpbiBtZXNzYWdlIFwiK2UubmFtZStcIiwgb3B0aW9uIFwiK24rXCIgYXQgbGluZSBcIit0aGlzLlUyLmxpbmUrXCI6IFwiK3IpO249XCIoXCIrbitcIilcIixyPXRoaXMuVTIubmV4dCgpLHQuUjIudGVzdChyKSYmKG4rPXIscj10aGlzLlUyLm5leHQoKSl9aWYociE9PXQuRVFVQUwpdGhyb3cgRXJyb3IoXCJJbGxlZ2FsIG9wZXJhdG9yIGluIG1lc3NhZ2UgXCIrZS5uYW1lK1wiLCBvcHRpb24gXCIrbitcIiBhdCBsaW5lIFwiK3RoaXMuVTIubGluZStcIjogXCIrcik7dmFyIHM7aWYoKHI9dGhpcy5VMi5RaygpKT09PXQudTJ8fHI9PT10LmYyKXM9dGhpcy5lMygpO2Vsc2UgaWYodGhpcy5VMi5uZXh0KCksdC5iMi50ZXN0KHIpKXM9dGhpcy5aMihyLCEwKTtlbHNlIGlmKHQuQk9PTC50ZXN0KHIpKXM9XCJ0cnVlXCI9PT1yO2Vsc2V7aWYoIXQuUzIudGVzdChyKSl0aHJvdyBFcnJvcihcIklsbGVnYWwgb3B0aW9uIHZhbHVlIGluIG1lc3NhZ2UgXCIrZS5uYW1lK1wiLCBvcHRpb24gXCIrbitcIiBhdCBsaW5lIFwiK3RoaXMuVTIubGluZStcIjogXCIrcik7cz1yfWlmKChyPXRoaXMuVTIubmV4dCgpKSE9PXQuaDIpdGhyb3cgRXJyb3IoXCJJbGxlZ2FsIGVuZCBvZiBvcHRpb24gaW4gbWVzc2FnZSBcIitlLm5hbWUrXCIsIG9wdGlvbiBcIituK1wiIGF0IGxpbmUgXCIrdGhpcy5VMi5saW5lK1wiOiBcIityKTtlLm9wdGlvbnNbbl09c30sby5yMz1mdW5jdGlvbihlLHIpe2Zvcih2YXIgaTs7KXtpZihudWxsPT09KGk9dGhpcy5VMi5uZXh0KCkpKXRocm93IEVycm9yKFwiVW5leHBlY3RlZCBFT0YgaW4gXCIrZS5uYW1lK1wiLCBcIityK1wiIGF0IGxpbmUgXCIrdGhpcy5VMi5saW5lKTtpZihpPT09dC5oMilicmVha319LG8uejI9ZnVuY3Rpb24oZSxyKXtpZihyPXRoaXMuVTIubmV4dCgpLCF0LkJPLnRlc3QocikpdGhyb3cgRXJyb3IoXCJJbGxlZ2FsIHNlcnZpY2UgbmFtZSBhdCBsaW5lIFwiK3RoaXMuVTIubGluZStcIjogXCIrcik7dmFyIGk9cixuPXtuYW1lOmksaTM6e30sb3B0aW9uczp7fX07aWYoKHI9dGhpcy5VMi5uZXh0KCkpIT09dC5PUEVOKXRocm93IEVycm9yKFwiSWxsZWdhbCBzdGFydCBvZiBzZXJ2aWNlIFwiK2krXCIgYXQgbGluZSBcIit0aGlzLlUyLmxpbmUrXCI6IFwiK3IpO2Rve2lmKFwib3B0aW9uXCI9PT0ocj10aGlzLlUyLm5leHQoKSkpdGhpcy5ZMihuLHIpO2Vsc2UgaWYoXCJycGNcIj09PXIpdGhpcy5uMyhuLHIpO2Vsc2UgaWYociE9PXQubjIpdGhyb3cgRXJyb3IoXCJJbGxlZ2FsIHR5cGUgb2Ygc2VydmljZSBcIitpK1wiIGF0IGxpbmUgXCIrdGhpcy5VMi5saW5lK1wiOiBcIityKX13aGlsZShyIT09dC5uMik7ZS5ETi5wdXNoKG4pfSxvLm4zPWZ1bmN0aW9uKGUscil7dmFyIGk9cjtpZihyPXRoaXMuVTIubmV4dCgpLCF0LkJPLnRlc3QocikpdGhyb3cgRXJyb3IoXCJJbGxlZ2FsIG1ldGhvZCBuYW1lIGluIHNlcnZpY2UgXCIrZS5uYW1lK1wiIGF0IGxpbmUgXCIrdGhpcy5VMi5saW5lK1wiOiBcIityKTt2YXIgbj1yLHM9e1RJOm51bGwscmVzcG9uc2U6bnVsbCxzMzohMSxvMzohMSxvcHRpb25zOnt9fTtpZigocj10aGlzLlUyLm5leHQoKSkhPT10LmcyKXRocm93IEVycm9yKFwiSWxsZWdhbCBzdGFydCBvZiByZXF1ZXN0IHR5cGUgaW4gc2VydmljZSBcIitlLm5hbWUrXCIjXCIrbitcIiBhdCBsaW5lIFwiK3RoaXMuVTIubGluZStcIjogXCIrcik7aWYocj10aGlzLlUyLm5leHQoKSxcInN0cmVhbVwiPT09ci50b0xvd2VyQ2FzZSgpJiYocy5zMz0hMCxyPXRoaXMuVTIubmV4dCgpKSwhdC5TMi50ZXN0KHIpKXRocm93IEVycm9yKFwiSWxsZWdhbCByZXF1ZXN0IHR5cGUgaW4gc2VydmljZSBcIitlLm5hbWUrXCIjXCIrbitcIiBhdCBsaW5lIFwiK3RoaXMuVTIubGluZStcIjogXCIrcik7aWYocy5UST1yLChyPXRoaXMuVTIubmV4dCgpKSE9dC52Mil0aHJvdyBFcnJvcihcIklsbGVnYWwgZW5kIG9mIHJlcXVlc3QgdHlwZSBpbiBzZXJ2aWNlIFwiK2UubmFtZStcIiNcIituK1wiIGF0IGxpbmUgXCIrdGhpcy5VMi5saW5lK1wiOiBcIityKTtpZihyPXRoaXMuVTIubmV4dCgpLFwicmV0dXJuc1wiIT09ci50b0xvd2VyQ2FzZSgpKXRocm93IEVycm9yKFwiSWxsZWdhbCBkZWxpbWl0ZXIgaW4gc2VydmljZSBcIitlLm5hbWUrXCIjXCIrbitcIiBhdCBsaW5lIFwiK3RoaXMuVTIubGluZStcIjogXCIrcik7aWYoKHI9dGhpcy5VMi5uZXh0KCkpIT10LmcyKXRocm93IEVycm9yKFwiSWxsZWdhbCBzdGFydCBvZiByZXNwb25zZSB0eXBlIGluIHNlcnZpY2UgXCIrZS5uYW1lK1wiI1wiK24rXCIgYXQgbGluZSBcIit0aGlzLlUyLmxpbmUrXCI6IFwiK3IpO2lmKHI9dGhpcy5VMi5uZXh0KCksXCJzdHJlYW1cIj09PXIudG9Mb3dlckNhc2UoKSYmKHMubzM9ITAscj10aGlzLlUyLm5leHQoKSkscy5yZXNwb25zZT1yLChyPXRoaXMuVTIubmV4dCgpKSE9PXQudjIpdGhyb3cgRXJyb3IoXCJJbGxlZ2FsIGVuZCBvZiByZXNwb25zZSB0eXBlIGluIHNlcnZpY2UgXCIrZS5uYW1lK1wiI1wiK24rXCIgYXQgbGluZSBcIit0aGlzLlUyLmxpbmUrXCI6IFwiK3IpO2lmKChyPXRoaXMuVTIubmV4dCgpKT09PXQuT1BFTil7ZG97aWYoXCJvcHRpb25cIj09PShyPXRoaXMuVTIubmV4dCgpKSl0aGlzLlkyKHMscik7ZWxzZSBpZihyIT09dC5uMil0aHJvdyBFcnJvcihcIklsbGVnYWwgc3RhcnQgb2Ygb3B0aW9uIGluc2VydmljZSBcIitlLm5hbWUrXCIjXCIrbitcIiBhdCBsaW5lIFwiK3RoaXMuVTIubGluZStcIjogXCIrcil9d2hpbGUociE9PXQubjIpO3RoaXMuVTIuUWsoKT09PXQuaDImJnRoaXMuVTIubmV4dCgpfWVsc2UgaWYociE9PXQuaDIpdGhyb3cgRXJyb3IoXCJJbGxlZ2FsIGRlbGltaXRlciBpbiBzZXJ2aWNlIFwiK2UubmFtZStcIiNcIituK1wiIGF0IGxpbmUgXCIrdGhpcy5VMi5saW5lK1wiOiBcIityKTt2b2lkIDA9PT1lW2ldJiYoZVtpXT17fSksZVtpXVtuXT1zfSxvLlEyPWZ1bmN0aW9uKGUscixpKXt2YXIgbj17fSxzPVwiZ3JvdXBcIj09PWk7aWYoaT10aGlzLlUyLm5leHQoKSwhdC5CTy50ZXN0KGkpKXRocm93IEVycm9yKFwiSWxsZWdhbCBcIisocz9cImdyb3VwXCI6XCJtZXNzYWdlXCIpK1wiIG5hbWVcIisoZT9cIiBpbiBtZXNzYWdlIFwiK2UubmFtZTpcIlwiKStcIiBhdCBsaW5lIFwiK3RoaXMuVTIubGluZStcIjogXCIraSk7aWYobi5uYW1lPWkscyl7aWYoKGk9dGhpcy5VMi5uZXh0KCkpIT09dC5FUVVBTCl0aHJvdyBFcnJvcihcIklsbGVnYWwgaWQgYXNzaWdubWVudCBhZnRlciBncm91cCBcIituLm5hbWUrXCIgYXQgbGluZSBcIit0aGlzLlUyLmxpbmUrXCI6IFwiK2kpO2k9dGhpcy5VMi5uZXh0KCk7dHJ5e3IuaWQ9dGhpcy50MyhpKX1jYXRjaChlKXt0aHJvdyBFcnJvcihcIklsbGVnYWwgZmllbGQgaWQgdmFsdWUgZm9yIGdyb3VwIFwiK24ubmFtZStcIiNcIityLm5hbWUrXCIgYXQgbGluZSBcIit0aGlzLlUyLmxpbmUrXCI6IFwiK2kpfW4uYTM9ITB9aWYobi5oMz1bXSxuLlYyPVtdLG4ucTI9W10sbi5vcHRpb25zPXt9LG4uYzM9e30saT10aGlzLlUyLm5leHQoKSxpPT09dC5zMiYmciYmKHRoaXMudTMobixyLGkpLGk9dGhpcy5VMi5uZXh0KCkpLGkhPT10Lk9QRU4pdGhyb3cgRXJyb3IoXCJJbGxlZ2FsIHN0YXJ0IG9mIFwiKyhzP1wiZ3JvdXBcIjpcIm1lc3NhZ2VcIikrXCIgXCIrbi5uYW1lK1wiIGF0IGxpbmUgXCIrdGhpcy5VMi5saW5lK1wiOiBcIitpKTtmb3IoOzspe2lmKChpPXRoaXMuVTIubmV4dCgpKT09PXQubjIpe2k9dGhpcy5VMi5RaygpLGk9PT10LmgyJiZ0aGlzLlUyLm5leHQoKTticmVha31pZih0LkkyLnRlc3QoaSkpdGhpcy5sMyhuLGkpO2Vsc2UgaWYoXCJvbmVvZlwiPT09aSl0aGlzLmYzKG4saSk7ZWxzZSBpZihcImVudW1cIj09PWkpdGhpcy5LMihuLGkpO2Vsc2UgaWYoXCJtZXNzYWdlXCI9PT1pKXRoaXMuUTIobixudWxsLGkpO2Vsc2UgaWYoXCJvcHRpb25cIj09PWkpdGhpcy5ZMihuLGkpO2Vsc2UgaWYoXCJleHRlbnNpb25zXCI9PT1pKW4uZXh0ZW5zaW9ucz10aGlzLmQzKG4saSk7ZWxzZSBpZihcImV4dGVuZFwiPT09aSl0aGlzLkoyKG4saSk7ZWxzZXtpZighdC5TMi50ZXN0KGkpKXRocm93IEVycm9yKFwiSWxsZWdhbCB0b2tlbiBpbiBtZXNzYWdlIFwiK24ubmFtZStcIiBhdCBsaW5lIFwiK3RoaXMuVTIubGluZStcIjogXCIraSk7dGhpcy5sMyhuLFwib3B0aW9uYWxcIixpKX19cmV0dXJuIGUucTIucHVzaChuKSxufSxvLmwzPWZ1bmN0aW9uKGUscixpKXt2YXIgbj17fSxzPW51bGw7aWYobi5nMz1yLG4ub3B0aW9ucz17fSxyPXZvaWQgMCE9PWk/aTp0aGlzLlUyLm5leHQoKSxcIm1hcFwiPT09bi5nMyl7aWYociE9PXQubTIpdGhyb3cgRXJyb3IoXCJJbGxlZ2FsIHRva2VuIGluIG1lc3NhZ2UgXCIrZS5uYW1lK1wiIGF0IGxpbmUgXCIrdGhpcy5VMi5saW5lK1wiOiBcIityKTtpZihyPXRoaXMuVTIubmV4dCgpLCF0LmpPLnRlc3QocikmJiF0LlMyLnRlc3QocikpdGhyb3cgRXJyb3IoXCJJbGxlZ2FsIHRva2VuIGluIG1lc3NhZ2UgXCIrZS5uYW1lK1wiIGF0IGxpbmUgXCIrdGhpcy5VMi5saW5lK1wiOiBcIityKTtpZihuLmtleXR5cGU9ciwocj10aGlzLlUyLm5leHQoKSkhPT10LmMyKXRocm93IEVycm9yKFwiSWxsZWdhbCB0b2tlbiBpbiBtZXNzYWdlIFwiK2UubmFtZStcIiBhdCBsaW5lIFwiK3RoaXMuVTIubGluZStcIjogXCIrcik7aWYocj10aGlzLlUyLm5leHQoKSwhdC5qTy50ZXN0KHIpJiYhdC5TMi50ZXN0KHIpKXRocm93IEVycm9yKFwiSWxsZWdhbCB0b2tlbiBpbiBtZXNzYWdlIFwiK2UubmFtZStcIiBhdCBsaW5lIFwiK3RoaXMuVTIubGluZStcIjogXCIrcik7aWYobi50eXBlPXIsKHI9dGhpcy5VMi5uZXh0KCkpIT09dC5FMil0aHJvdyBFcnJvcihcIklsbGVnYWwgdG9rZW4gaW4gbWVzc2FnZSBcIitlLm5hbWUrXCIgYXQgbGluZSBcIit0aGlzLlUyLmxpbmUrXCI6IFwiK3IpO2lmKHI9dGhpcy5VMi5uZXh0KCksIXQuQk8udGVzdChyKSl0aHJvdyBFcnJvcihcIklsbGVnYWwgdG9rZW4gaW4gbWVzc2FnZSBcIitlLm5hbWUrXCIgYXQgbGluZSBcIit0aGlzLlUyLmxpbmUrXCI6IFwiK3IpO2lmKG4ubmFtZT1yLChyPXRoaXMuVTIubmV4dCgpKSE9PXQuRVFVQUwpdGhyb3cgRXJyb3IoXCJJbGxlZ2FsIHRva2VuIGluIGZpZWxkIFwiK2UubmFtZStcIiNcIituLm5hbWUrXCIgYXQgbGluZSBcIit0aGlzLmxpbmUrXCI6IFwiK3IpO3I9dGhpcy5VMi5uZXh0KCk7dHJ5e24uaWQ9dGhpcy50MyhyKX1jYXRjaCh0KXt0aHJvdyBFcnJvcihcIklsbGVnYWwgZmllbGQgaWQgaW4gbWVzc2FnZSBcIitlLm5hbWUrXCIjXCIrbi5uYW1lK1wiIGF0IGxpbmUgXCIrdGhpcy5VMi5saW5lK1wiOiBcIityKX1pZihyPXRoaXMuVTIubmV4dCgpLHI9PT10LnMyJiYodGhpcy51MyhlLG4scikscj10aGlzLlUyLm5leHQoKSksciE9PXQuaDIpdGhyb3cgRXJyb3IoXCJJbGxlZ2FsIGRlbGltaXRlciBpbiBtZXNzYWdlIFwiK2UubmFtZStcIiNcIituLm5hbWUrXCIgYXQgbGluZSBcIit0aGlzLlUyLmxpbmUrXCI6IFwiK3IpfWVsc2UgaWYoXCJncm91cFwiPT09cil7aWYocz10aGlzLlEyKGUsbixyKSwhL15bQS1aXS8udGVzdChzLm5hbWUpKXRocm93IEVycm9yKFwiR3JvdXAgbmFtZXMgbXVzdCBzdGFydCB3aXRoIGEgY2FwaXRhbCBsZXR0ZXJcIik7bi50eXBlPXMubmFtZSxuLm5hbWU9cy5uYW1lLnRvTG93ZXJDYXNlKCkscj10aGlzLlUyLlFrKCkscj09PXQuaDImJnRoaXMuVTIubmV4dCgpfWVsc2V7aWYoIXQuak8udGVzdChyKSYmIXQuUzIudGVzdChyKSl0aHJvdyBFcnJvcihcIklsbGVnYWwgZmllbGQgdHlwZSBpbiBtZXNzYWdlIFwiK2UubmFtZStcIiBhdCBsaW5lIFwiK3RoaXMuVTIubGluZStcIjogXCIrcik7aWYobi50eXBlPXIscj10aGlzLlUyLm5leHQoKSwhdC5CTy50ZXN0KHIpKXRocm93IEVycm9yKFwiSWxsZWdhbCBmaWVsZCBuYW1lIGluIG1lc3NhZ2UgXCIrZS5uYW1lK1wiIGF0IGxpbmUgXCIrdGhpcy5VMi5saW5lK1wiOiBcIityKTtpZihuLm5hbWU9ciwocj10aGlzLlUyLm5leHQoKSkhPT10LkVRVUFMKXRocm93IEVycm9yKFwiSWxsZWdhbCB0b2tlbiBpbiBmaWVsZCBcIitlLm5hbWUrXCIjXCIrbi5uYW1lK1wiIGF0IGxpbmUgXCIrdGhpcy5VMi5saW5lK1wiOiBcIityKTtyPXRoaXMuVTIubmV4dCgpO3RyeXtuLmlkPXRoaXMudDMocil9Y2F0Y2godCl7dGhyb3cgRXJyb3IoXCJJbGxlZ2FsIGZpZWxkIGlkIGluIG1lc3NhZ2UgXCIrZS5uYW1lK1wiI1wiK24ubmFtZStcIiBhdCBsaW5lIFwiK3RoaXMuVTIubGluZStcIjogXCIrcil9aWYocj10aGlzLlUyLm5leHQoKSxyPT09dC5zMiYmKHRoaXMudTMoZSxuLHIpLHI9dGhpcy5VMi5uZXh0KCkpLHIhPT10LmgyKXRocm93IEVycm9yKFwiSWxsZWdhbCBkZWxpbWl0ZXIgaW4gbWVzc2FnZSBcIitlLm5hbWUrXCIjXCIrbi5uYW1lK1wiIGF0IGxpbmUgXCIrdGhpcy5VMi5saW5lK1wiOiBcIityKX1yZXR1cm4gZS5oMy5wdXNoKG4pLG59LG8uZjM9ZnVuY3Rpb24oZSxyKXtpZihyPXRoaXMuVTIubmV4dCgpLCF0LkJPLnRlc3QocikpdGhyb3cgRXJyb3IoXCJJbGxlZ2FsIG9uZW9mIG5hbWUgaW4gbWVzc2FnZSBcIitlLm5hbWUrXCIgYXQgbGluZSBcIit0aGlzLlUyLmxpbmUrXCI6IFwiK3IpO3ZhciBpLG49cixzPVtdO2lmKChyPXRoaXMuVTIubmV4dCgpKSE9PXQuT1BFTil0aHJvdyBFcnJvcihcIklsbGVnYWwgc3RhcnQgb2Ygb25lb2YgXCIrbitcIiBhdCBsaW5lIFwiK3RoaXMuVTIubGluZStcIjogXCIrcik7Zm9yKDt0aGlzLlUyLlFrKCkhPT10Lm4yOylpPXRoaXMubDMoZSxcIm9wdGlvbmFsXCIpLGkudjM9bixzLnB1c2goaS5pZCk7dGhpcy5VMi5uZXh0KCksZS5jM1tuXT1zfSxvLnUzPWZ1bmN0aW9uKGUscixpKXtmb3IodmFyIG49ITA7Oyl7aWYoKGk9dGhpcy5VMi5uZXh0KCkpPT09dC5vMilicmVhaztpZihpPT09dC5hMil7aWYobil0aHJvdyBFcnJvcihcIklsbGVnYWwgc3RhcnQgb2Ygb3B0aW9ucyBpbiBtZXNzYWdlIFwiK2UubmFtZStcIiNcIityLm5hbWUrXCIgYXQgbGluZSBcIit0aGlzLlUyLmxpbmUrXCI6IFwiK2kpO2k9dGhpcy5VMi5uZXh0KCl9dGhpcy55MyhlLHIsaSksbj0hMX19LG8ueTM9ZnVuY3Rpb24oZSxyLGkpe3ZhciBuPSExO2lmKGk9PT10LmcyJiYoaT10aGlzLlUyLm5leHQoKSxuPSEwKSwhdC5TMi50ZXN0KGkpKXRocm93IEVycm9yKFwiSWxsZWdhbCBmaWVsZCBvcHRpb24gaW4gXCIrZS5uYW1lK1wiI1wiK3IubmFtZStcIiBhdCBsaW5lIFwiK3RoaXMuVTIubGluZStcIjogXCIraSk7dmFyIHM9aTtpZihpPXRoaXMuVTIubmV4dCgpLG4pe2lmKGkhPT10LnYyKXRocm93IEVycm9yKFwiSWxsZWdhbCBkZWxpbWl0ZXIgaW4gXCIrZS5uYW1lK1wiI1wiK3IubmFtZStcIiBhdCBsaW5lIFwiK3RoaXMuVTIubGluZStcIjogXCIraSk7cz1cIihcIitzK1wiKVwiLGk9dGhpcy5VMi5uZXh0KCksdC5SMi50ZXN0KGkpJiYocys9aSxpPXRoaXMuVTIubmV4dCgpKX1pZihpIT09dC5FUVVBTCl0aHJvdyBFcnJvcihcIklsbGVnYWwgdG9rZW4gaW4gXCIrZS5uYW1lK1wiI1wiK3IubmFtZStcIiBhdCBsaW5lIFwiK3RoaXMuVTIubGluZStcIjogXCIraSk7dmFyIG87aWYoKGk9dGhpcy5VMi5RaygpKT09PXQudTJ8fGk9PT10LmYyKW89dGhpcy5lMygpO2Vsc2UgaWYodC5iMi50ZXN0KGksITApKW89dGhpcy5aMih0aGlzLlUyLm5leHQoKSwhMCk7ZWxzZSBpZih0LkJPT0wudGVzdChpKSlvPVwidHJ1ZVwiPT09dGhpcy5VMi5uZXh0KCkudG9Mb3dlckNhc2UoKTtlbHNle2lmKCF0LlMyLnRlc3QoaSkpdGhyb3cgRXJyb3IoXCJJbGxlZ2FsIHZhbHVlIGluIG1lc3NhZ2UgXCIrZS5uYW1lK1wiI1wiK3IubmFtZStcIiwgb3B0aW9uIFwiK3MrXCIgYXQgbGluZSBcIit0aGlzLlUyLmxpbmUrXCI6IFwiK2kpO289dGhpcy5VMi5uZXh0KCl9ci5vcHRpb25zW3NdPW99LG8uSzI9ZnVuY3Rpb24oZSxyKXt2YXIgaT17fTtpZihyPXRoaXMuVTIubmV4dCgpLCF0LkJPLnRlc3QocikpdGhyb3cgRXJyb3IoXCJJbGxlZ2FsIGVudW0gbmFtZSBpbiBtZXNzYWdlIFwiK2UubmFtZStcIiBhdCBsaW5lIFwiK3RoaXMuVTIubGluZStcIjogXCIrcik7aWYoaS5uYW1lPXIsKHI9dGhpcy5VMi5uZXh0KCkpIT09dC5PUEVOKXRocm93IEVycm9yKFwiSWxsZWdhbCBzdGFydCBvZiBlbnVtIFwiK2kubmFtZStcIiBhdCBsaW5lIFwiK3RoaXMuVTIubGluZStcIjogXCIrcik7Zm9yKGkudmFsdWVzPVtdLGkub3B0aW9ucz17fTs7KXtpZigocj10aGlzLlUyLm5leHQoKSk9PT10Lm4yKXtyPXRoaXMuVTIuUWsoKSxyPT09dC5oMiYmdGhpcy5VMi5uZXh0KCk7YnJlYWt9aWYoXCJvcHRpb25cIj09cil0aGlzLlkyKGkscik7ZWxzZXtpZighdC5CTy50ZXN0KHIpKXRocm93IEVycm9yKFwiSWxsZWdhbCBuYW1lIGluIGVudW0gXCIraS5uYW1lK1wiIGF0IGxpbmUgXCIrdGhpcy5VMi5saW5lK1wiOiBcIityKTt0aGlzLm0zKGkscil9fWUuVjIucHVzaChpKX0sby5tMz1mdW5jdGlvbihlLHIpe3ZhciBpPXt9O2lmKGkubmFtZT1yLChyPXRoaXMuVTIubmV4dCgpKSE9PXQuRVFVQUwpdGhyb3cgRXJyb3IoXCJJbGxlZ2FsIHRva2VuIGluIGVudW0gXCIrZS5uYW1lK1wiIGF0IGxpbmUgXCIrdGhpcy5VMi5saW5lK1wiOiBcIityKTtyPXRoaXMuVTIubmV4dCgpO3RyeXtpLmlkPXRoaXMudDMociwhMCl9Y2F0Y2godCl7dGhyb3cgRXJyb3IoXCJJbGxlZ2FsIGlkIGluIGVudW0gXCIrZS5uYW1lK1wiIGF0IGxpbmUgXCIrdGhpcy5VMi5saW5lK1wiOiBcIityKX1pZihlLnZhbHVlcy5wdXNoKGkpLChyPXRoaXMuVTIubmV4dCgpKT09PXQuczIpe3ZhciBuPXtvcHRpb25zOnt9fTt0aGlzLnUzKGUsbixyKSxyPXRoaXMuVTIubmV4dCgpfWlmKHIhPT10LmgyKXRocm93IEVycm9yKFwiSWxsZWdhbCBkZWxpbWl0ZXIgaW4gZW51bSBcIitlLm5hbWUrXCIgYXQgbGluZSBcIit0aGlzLlUyLmxpbmUrXCI6IFwiK3IpfSxvLmQzPWZ1bmN0aW9uKHIsaSl7dmFyIG49W107aWYoaT10aGlzLlUyLm5leHQoKSxcIm1pblwiPT09aT9uLnB1c2goZS5ZMSk6XCJtYXhcIj09PWk/bi5wdXNoKGUuejEpOm4ucHVzaCh0aGlzLloyKGkpKSxcInRvXCIhPT0oaT10aGlzLlUyLm5leHQoKSkpdGhyb3cgRXJyb3IoXCJJbGxlZ2FsIGV4dGVuc2lvbnMgZGVsaW1pdGVyIGluIG1lc3NhZ2UgXCIrci5uYW1lK1wiIGF0IGxpbmUgXCIrdGhpcy5VMi5saW5lK1wiOiBcIitpKTtpZihpPXRoaXMuVTIubmV4dCgpLFwibWluXCI9PT1pP24ucHVzaChlLlkxKTpcIm1heFwiPT09aT9uLnB1c2goZS56MSk6bi5wdXNoKHRoaXMuWjIoaSkpLChpPXRoaXMuVTIubmV4dCgpKSE9PXQuaDIpdGhyb3cgRXJyb3IoXCJJbGxlZ2FsIGV4dGVuc2lvbnMgZGVsaW1pdGVyIGluIG1lc3NhZ2UgXCIrci5uYW1lK1wiIGF0IGxpbmUgXCIrdGhpcy5VMi5saW5lK1wiOiBcIitpKTtyZXR1cm4gbn0sby5KMj1mdW5jdGlvbihlLHIpe2lmKHI9dGhpcy5VMi5uZXh0KCksIXQuUzIudGVzdChyKSl0aHJvdyBFcnJvcihcIklsbGVnYWwgbWVzc2FnZSBuYW1lIGF0IGxpbmUgXCIrdGhpcy5VMi5saW5lK1wiOiBcIityKTt2YXIgaT17fTtpZihpLkUzPXIsaS5oMz1bXSwocj10aGlzLlUyLm5leHQoKSkhPT10Lk9QRU4pdGhyb3cgRXJyb3IoXCJJbGxlZ2FsIHN0YXJ0IG9mIGV4dGVuZCBcIitpLm5hbWUrXCIgYXQgbGluZSBcIit0aGlzLlUyLmxpbmUrXCI6IFwiK3IpO2Zvcig7Oyl7aWYoKHI9dGhpcy5VMi5uZXh0KCkpPT09dC5uMil7cj10aGlzLlUyLlFrKCkscj09dC5oMiYmdGhpcy5VMi5uZXh0KCk7YnJlYWt9aWYodC5JMi50ZXN0KHIpKXRoaXMubDMoaSxyKTtlbHNle2lmKCF0LlMyLnRlc3QocikpdGhyb3cgRXJyb3IoXCJJbGxlZ2FsIHRva2VuIGluIGV4dGVuZCBcIitpLm5hbWUrXCIgYXQgbGluZSBcIit0aGlzLlUyLmxpbmUrXCI6IFwiK3IpO3RoaXMubDMoaSxcIm9wdGlvbmFsXCIscil9fXJldHVybiBlLnEyLnB1c2goaSksaX0sby5YMj1mdW5jdGlvbihlKXt2YXIgcj10aGlzLlUyLm5leHQoKTtpZihyIT09dC5FUVVBTCl0aHJvdyBFcnJvcihcIklsbGVnYWwgdG9rZW4gYXQgbGluZSBcIit0aGlzLlUyLmxpbmUrXCI6IFwiK3IpO2lmKChyPXRoaXMuVTIuUWsoKSkhPT10LnUyJiZyIT09dC5mMil0aHJvdyBFcnJvcihcIklsbGVnYWwgdG9rZW4gYXQgbGluZSBcIit0aGlzLlUyLmxpbmUrXCI6IFwiK3IpO3ZhciBpPXRoaXMuZTMoKTtpZigocj10aGlzLlUyLm5leHQoKSkhPT10LmgyKXRocm93IEVycm9yKFwiSWxsZWdhbCB0b2tlbiBhdCBsaW5lIFwiK3RoaXMuVTIubGluZStcIjogXCIrcik7cmV0dXJuIGl9LG8udG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIlBhcnNlclwifSxyLkQkPXMscn0odCx0LkxhbmcpLHQuVDM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gcihyKXtpZihcInN0cmluZ1wiPT10eXBlb2YgciYmKHI9dC5PMVtyXSksdm9pZCAwPT09ci5kZWZhdWx0VmFsdWUpdGhyb3cgRXJyb3IoXCJkZWZhdWx0IHZhbHVlIGZvciB0eXBlIFwiK3IubmFtZStcIiBpcyBub3Qgc3VwcG9ydGVkXCIpO3JldHVybiByPT10Lk8xLkhuP25ldyBlKDApOnIuZGVmYXVsdFZhbHVlfWZ1bmN0aW9uIGkoZSxyKXtpZihlJiZcIm51bWJlclwiPT10eXBlb2YgZS5sb3cmJlwibnVtYmVyXCI9PXR5cGVvZiBlLmhpZ2gmJlwiYm9vbGVhblwiPT10eXBlb2YgZS5DYiYmZS5sb3c9PT1lLmxvdyYmZS5oaWdoPT09ZS5oaWdoKXJldHVybiBuZXcgdC5EUihlLmxvdyxlLmhpZ2gsdm9pZCAwPT09cj9lLkNiOnIpO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlKXJldHVybiB0LkRSLmdwKGUscnx8ITEsMTApO2lmKFwibnVtYmVyXCI9PXR5cGVvZiBlKXJldHVybiB0LkRSLmRwKGUscnx8ITEpO3Rocm93IEVycm9yKFwibm90IGNvbnZlcnRpYmxlIHRvIExvbmdcIil9ZnVuY3Rpb24gbihlLHIpe3ZhciBpPXIuVGIoKSxzPTcmaSxvPWk+Pj4zO3N3aXRjaChzKXtjYXNlIHQuSTEudzE6ZG97aT1yLkdSKCl9d2hpbGUoMTI4PT0oMTI4JmkpKTticmVhaztjYXNlIHQuSTEuUzE6ci5vZmZzZXQrPTg7YnJlYWs7Y2FzZSB0LkkxLlIxOmk9ci5UYigpLHIub2Zmc2V0Kz1pO2JyZWFrO2Nhc2UgdC5JMS5iMTpuKG8scik7YnJlYWs7Y2FzZSB0LkkxLlAxOmlmKG89PT1lKXJldHVybiExO3Rocm93IEVycm9yKFwiSWxsZWdhbCBHUk9VUEVORCBhZnRlciB1bmtub3duIGdyb3VwOiBcIitvK1wiIChcIitlK1wiIGV4cGVjdGVkKVwiKTtjYXNlIHQuSTEuQTE6ci5vZmZzZXQrPTQ7YnJlYWs7ZGVmYXVsdDp0aHJvdyBFcnJvcihcIklsbGVnYWwgd2lyZSB0eXBlIGluIHVua25vd24gZ3JvdXAgXCIrZStcIjogXCIrcyl9cmV0dXJuITB9dmFyIHM9e30sbz1mdW5jdGlvbihlLHQscil7dGhpcy5JMz1lLHRoaXMucGFyZW50PXQsdGhpcy5uYW1lPXIsdGhpcy5jbGFzc05hbWV9LGE9by5wcm90b3R5cGU7YS53Mz1mdW5jdGlvbigpe2Zvcih2YXIgZT10aGlzLm5hbWUsdD10aGlzOzspe2lmKG51bGw9PSh0PXQucGFyZW50KSlicmVhaztlPXQubmFtZStcIi5cIitlfXJldHVybiBlfSxhLnRvU3RyaW5nPWZ1bmN0aW9uKGUpe3JldHVybihlP3RoaXMuY2xhc3NOYW1lK1wiIFwiOlwiXCIpK3RoaXMudzMoKX0sYS5zcD1mdW5jdGlvbigpe3Rocm93IEVycm9yKHRoaXMudG9TdHJpbmcoITApK1wiIGNhbm5vdCBiZSBidWlsdCBkaXJlY3RseVwiKX0scy5TMz1vO3ZhciBoPWZ1bmN0aW9uKGUsdCxyLGksbil7by5jYWxsKHRoaXMsZSx0LHIpLHRoaXMuY2xhc3NOYW1lPVwiTmFtZXNwYWNlXCIsdGhpcy5jaGlsZHJlbj1bXSx0aGlzLm9wdGlvbnM9aXx8e30sdGhpcy5XMj1ufHxcInByb3RvMlwifSxjPWgucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoby5wcm90b3R5cGUpO2MuUjM9ZnVuY3Rpb24oZSl7aWYobnVsbD09KGU9ZXx8bnVsbCkpcmV0dXJuIHRoaXMuY2hpbGRyZW4uc2xpY2UoKTtmb3IodmFyIHQ9W10scj0wLGk9dGhpcy5jaGlsZHJlbi5sZW5ndGg7cjxpOysrcil0aGlzLmNoaWxkcmVuW3JdaW5zdGFuY2VvZiBlJiZ0LnB1c2godGhpcy5jaGlsZHJlbltyXSk7cmV0dXJuIHR9LGMuYjM9ZnVuY3Rpb24oZSl7dmFyIHQ7aWYodD10aGlzLlAzKGUubmFtZSkpaWYodCBpbnN0YW5jZW9mIHAuQTMmJnQubmFtZSE9PXQuQzMmJm51bGw9PT10aGlzLlAzKHQuQzMpKXQubmFtZT10LkMzO2Vsc2V7aWYoIShlIGluc3RhbmNlb2YgcC5BMyYmZS5uYW1lIT09ZS5DMyYmbnVsbD09PXRoaXMuUDMoZS5DMykpKXRocm93IEVycm9yKFwiRHVwbGljYXRlIG5hbWUgaW4gbmFtZXNwYWNlIFwiK3RoaXMudG9TdHJpbmcoITApK1wiOiBcIitlLm5hbWUpO2UubmFtZT1lLkMzfXRoaXMuY2hpbGRyZW4ucHVzaChlKX0sYy5QMz1mdW5jdGlvbihlKXtmb3IodmFyIHQ9XCJudW1iZXJcIj09dHlwZW9mIGU/XCJpZFwiOlwibmFtZVwiLHI9MCxpPXRoaXMuY2hpbGRyZW4ubGVuZ3RoO3I8aTsrK3IpaWYodGhpcy5jaGlsZHJlbltyXVt0XT09PWUpcmV0dXJuIHRoaXMuY2hpbGRyZW5bcl07cmV0dXJuIG51bGx9LGMucmVzb2x2ZT1mdW5jdGlvbihlLHQpe3ZhciByPVwic3RyaW5nXCI9PXR5cGVvZiBlP2Uuc3BsaXQoXCIuXCIpOmUsaT10aGlzLG49MDtpZihcIlwiPT09cltuXSl7Zm9yKDtudWxsIT09aS5wYXJlbnQ7KWk9aS5wYXJlbnQ7bisrfXZhciBvO2Rve2Rve2lmKCEobz1pLlAzKHJbbl0pKXx8IShvIGluc3RhbmNlb2Ygcy5TMyl8fHQmJm8gaW5zdGFuY2VvZiBzLnBjLkEzKXtpPW51bGw7YnJlYWt9aT1vLG4rK313aGlsZShuPHIubGVuZ3RoKTtpZihudWxsIT1pKWJyZWFrO2lmKG51bGwhPT10aGlzLnBhcmVudClyZXR1cm4gdGhpcy5wYXJlbnQucmVzb2x2ZShlLHQpfXdoaWxlKG51bGwhPWkpO3JldHVybiBpfSxjLk8zPWZ1bmN0aW9uKGUpe3ZhciB0PVtdLHI9ZTtkb3t0LnVuc2hpZnQoci5uYW1lKSxyPXIucGFyZW50fXdoaWxlKG51bGwhPT1yKTtmb3IodmFyIGk9MTtpPD10Lmxlbmd0aDtpKyspe3ZhciBuPXQuc2xpY2UodC5sZW5ndGgtaSk7aWYoZT09PXRoaXMucmVzb2x2ZShuLCEoZSBpbnN0YW5jZW9mIHMucGMuQTMpKSlyZXR1cm4gbi5qb2luKFwiLlwiKX1yZXR1cm4gZS53MygpfSxjLnNwPWZ1bmN0aW9uKCl7Zm9yKHZhciBlLHQ9e30scj10aGlzLmNoaWxkcmVuLGk9MCxuPXIubGVuZ3RoO2k8bjsrK2kpKGU9cltpXSlpbnN0YW5jZW9mIGgmJih0W2UubmFtZV09ZS5zcCgpKTtyZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5JiZPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIiRvcHRpb25zXCIse3ZhbHVlOnRoaXMuXzMoKX0pLHR9LGMuXzM9ZnVuY3Rpb24oKXtmb3IodmFyIGU9e30sdD1PYmplY3Qua2V5cyh0aGlzLm9wdGlvbnMpLHI9MCxpPXQubGVuZ3RoO3I8aTsrK3Ipe3ZhciBuPXRbcl0scz10aGlzLm9wdGlvbnNbdFtyXV07ZVtuXT1zfXJldHVybiBlfSxjLk4zPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDA9PT1lP3RoaXMub3B0aW9uczp2b2lkIDAhPT10aGlzLm9wdGlvbnNbZV0/dGhpcy5vcHRpb25zW2VdOm51bGx9LHMuRDM9aDt2YXIgdT1mdW5jdGlvbihlLHIsaSxuKXtpZih0aGlzLnR5cGU9ZSx0aGlzLkYzPXIsdGhpcy5MMz1pLHRoaXMuVzI9bixpJiZ0LksxLmluZGV4T2YoZSk8MCl0aHJvdyBFcnJvcihcIkludmFsaWQgbWFwIGtleSB0eXBlOiBcIitlLm5hbWUpfSxsPXUucHJvdG90eXBlO2wuTTM9cixsLkIzPWZ1bmN0aW9uKHIpe3ZhciBuPWZ1bmN0aW9uKGUsdCl7dGhyb3cgRXJyb3IoXCJJbGxlZ2FsIHZhbHVlIGZvciBcIit0aGlzLnRvU3RyaW5nKCEwKStcIiBvZiB0eXBlIFwiK3RoaXMudHlwZS5uYW1lK1wiOiBcIitlK1wiIChcIit0K1wiKVwiKX0uYmluZCh0aGlzKTtzd2l0Y2godGhpcy50eXBlKXtjYXNlIHQuTzEuXzE6Y2FzZSB0Lk8xLkYxOmNhc2UgdC5PMS5WMTpyZXR1cm4oXCJudW1iZXJcIiE9dHlwZW9mIHJ8fHI9PT1yJiZyJTEhPTApJiZuKHR5cGVvZiByLFwibm90IGFuIGludGVnZXJcIikscj40Mjk0OTY3Mjk1PzB8cjpyO2Nhc2UgdC5PMS5EMTpjYXNlIHQuTzEucTE6cmV0dXJuKFwibnVtYmVyXCIhPXR5cGVvZiByfHxyPT09ciYmciUxIT0wKSYmbih0eXBlb2YgcixcIm5vdCBhbiBpbnRlZ2VyXCIpLHI8MD9yPj4+MDpyO2Nhc2UgdC5PMS5MMTpjYXNlIHQuTzEuQjE6Y2FzZSB0Lk8xLkcxOmlmKHQuRFIpdHJ5e3JldHVybiBpKHIsITEpfWNhdGNoKGUpe24odHlwZW9mIHIsZS5tZXNzYWdlKX1lbHNlIG4odHlwZW9mIHIsXCJyZXF1aXJlcyBMb25nLmpzXCIpO2Nhc2UgdC5PMS5NMTpjYXNlIHQuTzEuajE6aWYodC5EUil0cnl7cmV0dXJuIGkociwhMCl9Y2F0Y2goZSl7bih0eXBlb2YgcixlLm1lc3NhZ2UpfWVsc2Ugbih0eXBlb2YgcixcInJlcXVpcmVzIExvbmcuanNcIik7Y2FzZSB0Lk8xLlUxOnJldHVyblwiYm9vbGVhblwiIT10eXBlb2YgciYmbih0eXBlb2YgcixcIm5vdCBhIGJvb2xlYW5cIikscjtjYXNlIHQuTzEuZmxvYXQ6Y2FzZSB0Lk8xLkgxOnJldHVyblwibnVtYmVyXCIhPXR5cGVvZiByJiZuKHR5cGVvZiByLFwibm90IGEgbnVtYmVyXCIpLHI7Y2FzZSB0Lk8xLnFiOnJldHVyblwic3RyaW5nXCI9PXR5cGVvZiByfHxyJiZyIGluc3RhbmNlb2YgU3RyaW5nfHxuKHR5cGVvZiByLFwibm90IGEgc3RyaW5nXCIpLFwiXCIrcjtjYXNlIHQuTzEuSG46cmV0dXJuIGUuTFIocik/cjplLndyYXAocixcImJhc2U2NFwiKTtjYXNlIHQuTzEuUTE6dmFyIHM9dGhpcy5GMy5SMyh0LlQzLngzLlUzKTtmb3IoYT0wO2E8cy5sZW5ndGg7YSsrKXtpZihzW2FdLm5hbWU9PXIpcmV0dXJuIHNbYV0uaWQ7aWYoc1thXS5pZD09cilyZXR1cm4gc1thXS5pZH1pZihcInByb3RvM1wiPT09dGhpcy5XMilyZXR1cm4oXCJudW1iZXJcIiE9dHlwZW9mIHJ8fHI9PT1yJiZyJTEhPTApJiZuKHR5cGVvZiByLFwibm90IGFuIGludGVnZXJcIiksKHI+NDI5NDk2NzI5NXx8cjwwKSYmbih0eXBlb2YgcixcIm5vdCBpbiByYW5nZSBmb3IgdWludDMyXCIpLHI7bihyLFwibm90IGEgdmFsaWQgZW51bSB2YWx1ZVwiKTtjYXNlIHQuTzEuZ3JvdXA6Y2FzZSB0Lk8xLm1lc3NhZ2U6aWYociYmXCJvYmplY3RcIj09dHlwZW9mIHJ8fG4odHlwZW9mIHIsXCJvYmplY3QgZXhwZWN0ZWRcIiksciBpbnN0YW5jZW9mIHRoaXMuRjMuSDMpcmV0dXJuIHI7aWYociBpbnN0YW5jZW9mIHQucTMucGMpe3ZhciBvPXt9O2Zvcih2YXIgYSBpbiByKXIuaGFzT3duUHJvcGVydHkoYSkmJihvW2FdPXJbYV0pO3I9b31yZXR1cm4gbmV3IHRoaXMuRjMuSDMocil9dGhyb3cgRXJyb3IoXCJbSU5URVJOQUxdIElsbGVnYWwgdmFsdWUgZm9yIFwiK3RoaXMudG9TdHJpbmcoITApK1wiOiBcIityK1wiICh1bmRlZmluZWQgdHlwZSBcIit0aGlzLnR5cGUrXCIpXCIpfSxsLlYzPWZ1bmN0aW9uKHIsaSl7aWYobnVsbD09PWkpcmV0dXJuIDA7dmFyIG47c3dpdGNoKHRoaXMudHlwZSl7Y2FzZSB0Lk8xLl8xOnJldHVybiBpPDA/ZS5SYihpKTplLmdiKGkpO2Nhc2UgdC5PMS5EMTpyZXR1cm4gZS5nYihpKTtjYXNlIHQuTzEuRjE6cmV0dXJuIGUuZ2IoZS52YihpKSk7Y2FzZSB0Lk8xLnExOmNhc2UgdC5PMS5WMTpjYXNlIHQuTzEuZmxvYXQ6cmV0dXJuIDQ7Y2FzZSB0Lk8xLkwxOmNhc2UgdC5PMS5NMTpyZXR1cm4gZS5SYihpKTtjYXNlIHQuTzEuQjE6cmV0dXJuIGUuUmIoZS5BYihpKSk7Y2FzZSB0Lk8xLmoxOmNhc2UgdC5PMS5HMTpyZXR1cm4gODtjYXNlIHQuTzEuVTE6cmV0dXJuIDE7Y2FzZSB0Lk8xLlExOnJldHVybiBlLmdiKGkpO2Nhc2UgdC5PMS5IMTpyZXR1cm4gODtjYXNlIHQuTzEucWI6cmV0dXJuIG49ZS56YihpKSxlLmdiKG4pK247Y2FzZSB0Lk8xLkhuOmlmKGkudVAoKTwwKXRocm93IEVycm9yKFwiSWxsZWdhbCB2YWx1ZSBmb3IgXCIrdGhpcy50b1N0cmluZyghMCkrXCI6IFwiK2kudVAoKStcIiBieXRlcyByZW1haW5pbmdcIik7cmV0dXJuIGUuZ2IoaS51UCgpKStpLnVQKCk7Y2FzZSB0Lk8xLm1lc3NhZ2U6cmV0dXJuIG49dGhpcy5GMy5qMyhpKSxlLmdiKG4pK247Y2FzZSB0Lk8xLmdyb3VwOnJldHVybihuPXRoaXMuRjMuajMoaSkpK2UuZ2Iocjw8M3x0LkkxLlAxKX10aHJvdyBFcnJvcihcIltJTlRFUk5BTF0gSWxsZWdhbCB2YWx1ZSB0byBlbmNvZGUgaW4gXCIrdGhpcy50b1N0cmluZyghMCkrXCI6IFwiK2krXCIgKHVua25vd24gdHlwZSlcIil9LGwuRzM9ZnVuY3Rpb24ocixpLG4pe2lmKG51bGw9PT1pKXJldHVybiBuO3N3aXRjaCh0aGlzLnR5cGUpe2Nhc2UgdC5PMS5fMTppPDA/bi5GYihpKTpuLm1iKGkpO2JyZWFrO2Nhc2UgdC5PMS5EMTpuLm1iKGkpO2JyZWFrO2Nhc2UgdC5PMS5GMTpuLkViKGkpO2JyZWFrO2Nhc2UgdC5PMS5xMTpuLiRSKGkpO2JyZWFrO2Nhc2UgdC5PMS5WMTpuLlhSKGkpO2JyZWFrO2Nhc2UgdC5PMS5MMTpjYXNlIHQuTzEuTTE6bi5GYihpKTticmVhaztjYXNlIHQuTzEuQjE6bi5MYihpKTticmVhaztjYXNlIHQuTzEuajE6bi5zYihpKTticmVhaztjYXNlIHQuTzEuRzE6bi50YihpKTticmVhaztjYXNlIHQuTzEuVTE6XCJzdHJpbmdcIj09dHlwZW9mIGk/bi5tYihcImZhbHNlXCI9PT1pLnRvTG93ZXJDYXNlKCk/MDohIWkpOm4ubWIoaT8xOjApO2JyZWFrO2Nhc2UgdC5PMS5RMTpuLm1iKGkpO2JyZWFrO2Nhc2UgdC5PMS5mbG9hdDpuLmFiKGkpO2JyZWFrO2Nhc2UgdC5PMS5IMTpuLmxiKGkpO2JyZWFrO2Nhc2UgdC5PMS5xYjpuLlpiKGkpO2JyZWFrO2Nhc2UgdC5PMS5IbjppZihpLnVQKCk8MCl0aHJvdyBFcnJvcihcIklsbGVnYWwgdmFsdWUgZm9yIFwiK3RoaXMudG9TdHJpbmcoITApK1wiOiBcIitpLnVQKCkrXCIgYnl0ZXMgcmVtYWluaW5nXCIpO3ZhciBzPWkub2Zmc2V0O24ubWIoaS51UCgpKSxuLmFwcGVuZChpKSxpLm9mZnNldD1zO2JyZWFrO2Nhc2UgdC5PMS5tZXNzYWdlOnZhciBvPShuZXcgZSkublAoKTt0aGlzLkYzLmVuY29kZShpLG8pLG4ubWIoby5vZmZzZXQpLG4uYXBwZW5kKG8uSmwoKSk7YnJlYWs7Y2FzZSB0Lk8xLmdyb3VwOnRoaXMuRjMuZW5jb2RlKGksbiksbi5tYihyPDwzfHQuSTEuUDEpO2JyZWFrO2RlZmF1bHQ6dGhyb3cgRXJyb3IoXCJbSU5URVJOQUxdIElsbGVnYWwgdmFsdWUgdG8gZW5jb2RlIGluIFwiK3RoaXMudG9TdHJpbmcoITApK1wiOiBcIitpK1wiICh1bmtub3duIHR5cGUpXCIpfXJldHVybiBufSxsLmRlY29kZT1mdW5jdGlvbihlLHIsaSl7aWYociE9dGhpcy50eXBlLk4xKXRocm93IEVycm9yKFwiVW5leHBlY3RlZCB3aXJlIHR5cGUgZm9yIGVsZW1lbnRcIik7dmFyIG4scztzd2l0Y2godGhpcy50eXBlKXtjYXNlIHQuTzEuXzE6cmV0dXJuIDB8ZS5UYigpO2Nhc2UgdC5PMS5EMTpyZXR1cm4gZS5UYigpPj4+MDtjYXNlIHQuTzEuRjE6cmV0dXJuIDB8ZS53YigpO2Nhc2UgdC5PMS5xMTpyZXR1cm4gZS5lYigpPj4+MDtjYXNlIHQuTzEuVjE6cmV0dXJuIDB8ZS5aUigpO2Nhc2UgdC5PMS5MMTpyZXR1cm4gZS5NYigpO2Nhc2UgdC5PMS5NMTpyZXR1cm4gZS5NYigpLk9iKCk7Y2FzZSB0Lk8xLkIxOnJldHVybiBlLkJiKCk7Y2FzZSB0Lk8xLmoxOnJldHVybiBlLm9iKCk7Y2FzZSB0Lk8xLkcxOnJldHVybiBlLmliKCk7Y2FzZSB0Lk8xLlUxOnJldHVybiEhZS5UYigpO2Nhc2UgdC5PMS5RMTpyZXR1cm4gZS5UYigpO2Nhc2UgdC5PMS5mbG9hdDpyZXR1cm4gZS51YigpO2Nhc2UgdC5PMS5IMTpyZXR1cm4gZS5zUigpO2Nhc2UgdC5PMS5xYjpyZXR1cm4gZS4kYigpO2Nhc2UgdC5PMS5IbjppZihzPWUuVGIoKSxlLnVQKCk8cyl0aHJvdyBFcnJvcihcIklsbGVnYWwgbnVtYmVyIG9mIGJ5dGVzIGZvciBcIit0aGlzLnRvU3RyaW5nKCEwKStcIjogXCIrcytcIiByZXF1aXJlZCBidXQgZ290IG9ubHkgXCIrZS51UCgpKTtyZXR1cm4gbj1lLmNsb25lKCksbi5DUj1uLm9mZnNldCtzLGUub2Zmc2V0Kz1zLG47Y2FzZSB0Lk8xLm1lc3NhZ2U6cmV0dXJuIHM9ZS5UYigpLHRoaXMuRjMuZGVjb2RlKGUscyk7Y2FzZSB0Lk8xLmdyb3VwOnJldHVybiB0aGlzLkYzLmRlY29kZShlLC0xLGkpfXRocm93IEVycm9yKFwiW0lOVEVSTkFMXSBJbGxlZ2FsIGRlY29kZSB0eXBlXCIpfSxsLlEzPWZ1bmN0aW9uKHIpe2lmKCF0aGlzLkwzKXRocm93IEVycm9yKFwidmFsdWVGcm9tU3RyaW5nKCkgY2FsbGVkIG9uIG5vbi1tYXAta2V5IGVsZW1lbnRcIik7c3dpdGNoKHRoaXMudHlwZSl7Y2FzZSB0Lk8xLl8xOmNhc2UgdC5PMS5GMTpjYXNlIHQuTzEuVjE6Y2FzZSB0Lk8xLkQxOmNhc2UgdC5PMS5xMTpyZXR1cm4gdGhpcy5CMyhwYXJzZUludChyKSk7Y2FzZSB0Lk8xLkwxOmNhc2UgdC5PMS5CMTpjYXNlIHQuTzEuRzE6Y2FzZSB0Lk8xLk0xOmNhc2UgdC5PMS5qMTpyZXR1cm4gdGhpcy5CMyhyKTtjYXNlIHQuTzEuVTE6cmV0dXJuXCJ0cnVlXCI9PT1yO2Nhc2UgdC5PMS5xYjpyZXR1cm4gdGhpcy5CMyhyKTtjYXNlIHQuTzEuSG46cmV0dXJuIGUuVVIocil9fSxsLkszPWZ1bmN0aW9uKGUpe2lmKCF0aGlzLkwzKXRocm93IEVycm9yKFwidmFsdWVUb1N0cmluZygpIGNhbGxlZCBvbiBub24tbWFwLWtleSBlbGVtZW50XCIpO3JldHVybiB0aGlzLnR5cGU9PT10Lk8xLkhuP2UudG9TdHJpbmcoXCJiaW5hcnlcIik6ZS50b1N0cmluZygpfSxzLkVsZW1lbnQ9dTt2YXIgcD1mdW5jdGlvbihlLHIsaSxuLHMsbyl7aC5jYWxsKHRoaXMsZSxyLGksbixvKSx0aGlzLmNsYXNzTmFtZT1cIk1lc3NhZ2VcIix0aGlzLmV4dGVuc2lvbnM9W3QuWTEsdC56MV0sdGhpcy5IMz1udWxsLHRoaXMuYTM9ISFzLHRoaXMuWTM9bnVsbCx0aGlzLnozPW51bGwsdGhpcy5KMz1udWxsfSxmPXAucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoaC5wcm90b3R5cGUpO2Yuc3A9ZnVuY3Rpb24ocil7aWYodGhpcy5IMyYmIXIpcmV0dXJuIHRoaXMuSDM7dmFyIGk9ZnVuY3Rpb24odCxyKXtmdW5jdGlvbiBpKHIsbixzLG8sYSl7dmFyIGg9dm9pZCAwO2lmKG51bGw9PT1yfHxcIm9iamVjdFwiIT10eXBlb2Ygcil7aWYobz09dC5PMS5RMSlmb3IodmFyIGM9YS5SMyh0LlQzLngzLlUzKSx1PTA7dTxjLmxlbmd0aDt1KyspaWYoY1t1XS5pZD09PXIpe3I9Y1t1XS5uYW1lO2JyZWFrfWg9cn1lbHNlIGlmKHIgaW5zdGFuY2VvZiBlKWg9bj9yLmZQKCk6ci5sUCgpO2Vsc2UgaWYodC5oZi5pc0FycmF5KHIpKXt2YXIgbD1yO2g9W107Zm9yKHZhciBwPTA7cDxsLmxlbmd0aDtwKyspaC5wdXNoKGkobFtwXSxuLHMsbyxhKSl9ZWxzZSBpZihyIGluc3RhbmNlb2YgdC5NYXApe3ZhciBmPXIuZW50cmllcygpO2g9e307Zm9yKHZhciBkPWYubmV4dCgpOyFkLmRvbmU7ZD1mLm5leHQoKSloW3IuVzMuSzMoZC52YWx1ZVswXSldPWkoZC52YWx1ZVsxXSxuLHMsci5YMy50eXBlLHIuWDMuRjMpfWVsc2UgaWYociBpbnN0YW5jZW9mIHQuRFIpaD1zP3IudG9TdHJpbmcoKTpuZXcgdC5EUihyKTtlbHNle2g9e307dmFyIGc9ci5aMyx2PXZvaWQgMDtmb3IodmFyIHUgaW4gcilpZihyLmhhc093blByb3BlcnR5KHUpKXt2YXIgeT1yW3VdO2cmJih2PWcuUDModSkpLGhbdV09aSh5LG4scyx2LnR5cGUsdi5GMyl9fXJldHVybiBofXZhciBuPXIuUjModC5UMy5wYy5BMykscz1yLlIzKHQuVDMucGMuZTQpLG89ZnVuY3Rpb24oaSxvKXt0LnEzLnBjLmNhbGwodGhpcyk7Zm9yKHZhciBhPTAsaD1zLmxlbmd0aDthPGg7KythKXRoaXNbc1thXS5uYW1lXT1udWxsO2ZvcihhPTAsaD1uLmxlbmd0aDthPGg7KythKXt2YXIgYz1uW2FdO3RoaXNbYy5uYW1lXT1jLnQ0P1tdOmMubWFwP25ldyB0Lk1hcChjKTpudWxsLCFjLnJlcXVpcmVkJiZcInByb3RvM1wiIT09ci5XMnx8bnVsbD09PWMuZGVmYXVsdFZhbHVlfHwodGhpc1tjLm5hbWVdPWMuZGVmYXVsdFZhbHVlKX1pZihhcmd1bWVudHMubGVuZ3RoPjApe3ZhciB1O2lmKDEhPT1hcmd1bWVudHMubGVuZ3RofHxcIm9iamVjdFwiIT10eXBlb2YgaXx8XCJmdW5jdGlvblwiPT10eXBlb2YgaS5lbmNvZGV8fHQuaGYuaXNBcnJheShpKXx8aSBpbnN0YW5jZW9mIHQuTWFwfHxpIGluc3RhbmNlb2YgZXx8aSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyfHx0LkRSJiZpIGluc3RhbmNlb2YgdC5EUilmb3IoYT0wLGg9YXJndW1lbnRzLmxlbmd0aDthPGg7KythKXZvaWQgMCE9PSh1PWFyZ3VtZW50c1thXSkmJnRoaXMucjQoblthXS5uYW1lLHUpO2Vsc2UgdGhpcy5yNChpKX19LGE9by5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0LnEzLnBjLnByb3RvdHlwZSk7YS5hZGQ9ZnVuY3Rpb24oZSxpLG4pe3ZhciBzPXIuSjNbZV07aWYoIW4pe2lmKCFzKXRocm93IEVycm9yKHRoaXMrXCIjXCIrZStcIiBpcyB1bmRlZmluZWRcIik7aWYoIShzIGluc3RhbmNlb2YgdC5UMy5wYy5BMykpdGhyb3cgRXJyb3IodGhpcytcIiNcIitlK1wiIGlzIG5vdCBhIGZpZWxkOiBcIitzLnRvU3RyaW5nKCEwKSk7aWYoIXMudDQpdGhyb3cgRXJyb3IodGhpcytcIiNcIitlK1wiIGlzIG5vdCBhIHJlcGVhdGVkIGZpZWxkXCIpfW51bGw9PT10aGlzW3MubmFtZV0mJih0aGlzW3MubmFtZV09W10pLHRoaXNbcy5uYW1lXS5wdXNoKG4/aTpzLkIzKGksITApKX0sYS5pND1hLmFkZCxhLnNldD1mdW5jdGlvbihlLGksbil7aWYoZSYmXCJvYmplY3RcIj09dHlwZW9mIGUpe249aTtmb3IodmFyIHMgaW4gZSllLmhhc093blByb3BlcnR5KHMpJiZ2b2lkIDAhPT0oaT1lW3NdKSYmdGhpcy5yNChzLGksbik7cmV0dXJuIHRoaXN9dmFyIG89ci5KM1tlXTtpZihuKXRoaXNbby5uYW1lXT1pO2Vsc2V7aWYoIW8pdGhyb3cgRXJyb3IodGhpcytcIiNcIitlK1wiIGlzIG5vdCBhIGZpZWxkOiB1bmRlZmluZWRcIik7aWYoIShvIGluc3RhbmNlb2YgdC5UMy5wYy5BMykpdGhyb3cgRXJyb3IodGhpcytcIiNcIitlK1wiIGlzIG5vdCBhIGZpZWxkOiBcIitvLnRvU3RyaW5nKCEwKSk7dGhpc1tvLm5hbWVdPWk9by5CMyhpKX1yZXR1cm4gby52MyYmKG51bGwhPT1pPyhudWxsIT09dGhpc1tvLnYzLm5hbWVdJiYodGhpc1t0aGlzW28udjMubmFtZV1dPW51bGwpLHRoaXNbby52My5uYW1lXT1vLm5hbWUpOm8udjMubmFtZT09PWUmJih0aGlzW28udjMubmFtZV09bnVsbCkpLHRoaXN9LGEucjQ9YS5zZXQsYS5nZXQ9ZnVuY3Rpb24oZSxpKXtpZihpKXJldHVybiB0aGlzW2VdO3ZhciBuPXIuSjNbZV07aWYoIShuJiZuIGluc3RhbmNlb2YgdC5UMy5wYy5BMykpdGhyb3cgRXJyb3IodGhpcytcIiNcIitlK1wiIGlzIG5vdCBhIGZpZWxkOiB1bmRlZmluZWRcIik7aWYoIShuIGluc3RhbmNlb2YgdC5UMy5wYy5BMykpdGhyb3cgRXJyb3IodGhpcytcIiNcIitlK1wiIGlzIG5vdCBhIGZpZWxkOiBcIituLnRvU3RyaW5nKCEwKSk7cmV0dXJuIHRoaXNbbi5uYW1lXX0sYS5uND1hLmdldDtmb3IodmFyIGg9MDtoPG4ubGVuZ3RoO2grKyl7dmFyIGM9bltoXTtjIGluc3RhbmNlb2YgdC5UMy5wYy5zNHx8ci5JMy5vcHRpb25zLlcxJiZmdW5jdGlvbihlKXt2YXIgdD1lLkMzLnJlcGxhY2UoLyhfW2EtekEtWl0pL2csZnVuY3Rpb24oZSl7cmV0dXJuIGUudG9VcHBlckNhc2UoKS5yZXBsYWNlKFwiX1wiLFwiXCIpfSk7dD10LnN1YnN0cmluZygwLDEpLnRvVXBwZXJDYXNlKCkrdC5zdWJzdHJpbmcoMSk7dmFyIGk9ZS5DMy5yZXBsYWNlKC8oW0EtWl0pL2csZnVuY3Rpb24oZSl7cmV0dXJuXCJfXCIrZX0pLG49ZnVuY3Rpb24odCxyKXtyZXR1cm4gdGhpc1tlLm5hbWVdPXI/dDplLkIzKHQpLHRoaXN9LHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc1tlLm5hbWVdfTtudWxsPT09ci5QMyhcInNldFwiK3QpJiYoYVtcInNldFwiK3RdPW4pLG51bGw9PT1yLlAzKFwic2V0X1wiK2kpJiYoYVtcInNldF9cIitpXT1uKSxudWxsPT09ci5QMyhcImdldFwiK3QpJiYoYVtcImdldFwiK3RdPXMpLG51bGw9PT1yLlAzKFwiZ2V0X1wiK2kpJiYoYVtcImdldF9cIitpXT1zKX0oYyl9YS5lbmNvZGU9ZnVuY3Rpb24odCxpKXtcImJvb2xlYW5cIj09dHlwZW9mIHQmJihpPXQsdD12b2lkIDApO3ZhciBuPSExO3R8fCh0PW5ldyBlLG49ITApO3ZhciBzPXQua1I7dHJ5e3JldHVybiByLmVuY29kZSh0aGlzLHQublAoKSxpKSwobj90LkpsKCk6dCkublAocyl9Y2F0Y2goZSl7dGhyb3cgdC5uUChzKSxlfX0sYS5qMz1mdW5jdGlvbigpe3JldHVybiByLmozKHRoaXMpfSxhLm80PWZ1bmN0aW9uKHQpe3ZhciBpPSExO3R8fCh0PW5ldyBlLGk9ITApO3ZhciBuPShuZXcgZSkublAoKTtyZXR1cm4gci5lbmNvZGUodGhpcyxuKS5KbCgpLHQubWIobi51UCgpKSx0LmFwcGVuZChuKSxpP3QuSmwoKTp0fSxhLmE0PWZ1bmN0aW9uKCl7dHJ5e3JldHVybiB0aGlzLmVuY29kZSgpLnBuKCl9Y2F0Y2goZSl7dGhyb3cgZS5oNCYmKGUuaDQ9ZS5oNC5wbigpKSxlfX0sYS5wbj1hLmE0LGEuYzQ9ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIHRoaXMuZW5jb2RlKCkubFAoKX1jYXRjaChlKXt0aHJvdyBlLmg0JiYoZS5oND1lLmg0LmxQKCkpLGV9fSxhLmxQPWEuYzQsYS51ND1mdW5jdGlvbigpe3RyeXtyZXR1cm4gdGhpcy5lbmNvZGUoKS5mUCgpfWNhdGNoKGUpe3Rocm93IGUuaDQmJihlLmg0PWUuaDQuZlAoKSksZX19LGEuZlA9YS51NCxhLmw0PWZ1bmN0aW9uKCl7dHJ5e3JldHVybiB0aGlzLmVuY29kZSgpLmRQKCl9Y2F0Y2goZSl7dGhyb3cgZS5oNCYmKGUuaDQ9ZS5oNC5kUCgpKSxlfX0sYS5kUD1hLmw0LGEuZjQ9ZnVuY3Rpb24oZSxyKXtyZXR1cm4gaSh0aGlzLCEhZSwhIXIsdC5PMS5tZXNzYWdlLHRoaXMuWjMpfSxhLmQ0PWZ1bmN0aW9uKCl7cmV0dXJuIEpTT04uc3RyaW5naWZ5KGkodGhpcywhMCwhMCx0Lk8xLm1lc3NhZ2UsdGhpcy5aMykpfSxvLmRlY29kZT1mdW5jdGlvbih0LGkpe1wic3RyaW5nXCI9PXR5cGVvZiB0JiYodD1lLndyYXAodCxpfHxcImJhc2U2NFwiKSksdD10IGluc3RhbmNlb2YgZT90OmUud3JhcCh0KTt2YXIgbj10LmtSO3RyeXt2YXIgcz1yLmRlY29kZSh0Lm5QKCkpO3JldHVybiB0Lm5QKG4pLHN9Y2F0Y2goZSl7dGhyb3cgdC5uUChuKSxlfX0sby5nND1mdW5jdGlvbih0LGkpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0JiYodD1lLndyYXAodCxpfHxcImJhc2U2NFwiKSksdD10IGluc3RhbmNlb2YgZT90OmUud3JhcCh0KSx0LnVQKCk8MSlyZXR1cm4gbnVsbDt2YXIgbj10Lm9mZnNldCxzPXQuVGIoKTtpZih0LnVQKCk8cylyZXR1cm4gdC5vZmZzZXQ9bixudWxsO3RyeXt2YXIgbz1yLmRlY29kZSh0LnNsaWNlKHQub2Zmc2V0LHQub2Zmc2V0K3MpLm5QKCkpO3JldHVybiB0Lm9mZnNldCs9cyxvfWNhdGNoKGUpe3Rocm93IHQub2Zmc2V0Kz1zLGV9fSxvLnY0PWZ1bmN0aW9uKGUpe3JldHVybiBvLmRlY29kZShlLFwiYmFzZTY0XCIpfSxvLnk0PWZ1bmN0aW9uKGUpe3JldHVybiBvLmRlY29kZShlLFwiaGV4XCIpfSxvLm00PWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgbyhKU09OLnBhcnNlKGUpKX0sYS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiByLnRvU3RyaW5nKCl9O3JldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkmJihPYmplY3QuZGVmaW5lUHJvcGVydHkobyxcIiRvcHRpb25zXCIse3ZhbHVlOnIuXzMoKX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShhLFwiJG9wdGlvbnNcIix7dmFsdWU6by5FNH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLFwiJHR5cGVcIix7dmFsdWU6cn0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShhLFwiJHR5cGVcIix7dmFsdWU6cn0pKSxvfSh0LHRoaXMpO3RoaXMuWTM9W10sdGhpcy56Mz17fSx0aGlzLkozPXt9O2Zvcih2YXIgbixzPTAsbz10aGlzLmNoaWxkcmVuLmxlbmd0aDtzPG87cysrKWlmKChuPXRoaXMuY2hpbGRyZW5bc10paW5zdGFuY2VvZiBtKWlbbi5uYW1lXT1uLnNwKCk7ZWxzZSBpZihuIGluc3RhbmNlb2YgcClpW24ubmFtZV09bi5zcCgpO2Vsc2UgaWYobiBpbnN0YW5jZW9mIHAuQTMpbi5zcCgpLHRoaXMuWTMucHVzaChuKSx0aGlzLnozW24uaWRdPW4sdGhpcy5KM1tuLm5hbWVdPW47ZWxzZSBpZighKG4gaW5zdGFuY2VvZiBwLmU0fHxuIGluc3RhbmNlb2YgVCkpdGhyb3cgRXJyb3IoXCJJbGxlZ2FsIHJlZmxlY3QgY2hpbGQgb2YgXCIrdGhpcy50b1N0cmluZyghMCkrXCI6IFwiK2NoaWxkcmVuW3NdLnRvU3RyaW5nKCEwKSk7cmV0dXJuIHRoaXMuSDM9aX0sZi5lbmNvZGU9ZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgaSxuLHM9bnVsbCxvPTAsYT10aGlzLlkzLmxlbmd0aDtvPGE7KytvKWk9dGhpcy5ZM1tvXSxuPWVbaS5uYW1lXSxpLnJlcXVpcmVkJiZudWxsPT09bj9udWxsPT09cyYmKHM9aSk6aS5lbmNvZGUocj9uOmkuQjMobiksdCk7aWYobnVsbCE9PXMpe3ZhciBoPUVycm9yKFwiTWlzc2luZyBhdCBsZWFzdCBvbmUgcmVxdWlyZWQgZmllbGQgZm9yIFwiK3RoaXMudG9TdHJpbmcoITApK1wiOiBcIitzKTt0aHJvdyBoLmg0PXQsaH1yZXR1cm4gdH0sZi5qMz1mdW5jdGlvbihlKXtmb3IodmFyIHQscixpPTAsbj0wLHM9dGhpcy5ZMy5sZW5ndGg7bjxzOysrbil7aWYodD10aGlzLlkzW25dLHI9ZVt0Lm5hbWVdLHQucmVxdWlyZWQmJm51bGw9PT1yKXRocm93IEVycm9yKFwiTWlzc2luZyBhdCBsZWFzdCBvbmUgcmVxdWlyZWQgZmllbGQgZm9yIFwiK3RoaXMudG9TdHJpbmcoITApK1wiOiBcIit0KTtpKz10LmozKHIpfXJldHVybiBpfSxmLmRlY29kZT1mdW5jdGlvbihlLHIsaSl7cj1cIm51bWJlclwiPT10eXBlb2Ygcj9yOi0xO2Zvcih2YXIgcyxvLGEsaCxjPWUub2Zmc2V0LHU9bmV3IHRoaXMuSDM7ZS5vZmZzZXQ8YytyfHwtMT09PXImJmUudVAoKT4wOyl7aWYocz1lLlRiKCksbz03JnMsYT1zPj4+MyxvPT09dC5JMS5QMSl7aWYoYSE9PWkpdGhyb3cgRXJyb3IoXCJJbGxlZ2FsIGdyb3VwIGVuZCBpbmRpY2F0b3IgZm9yIFwiK3RoaXMudG9TdHJpbmcoITApK1wiOiBcIithK1wiIChcIisoaT9pK1wiIGV4cGVjdGVkXCI6XCJub3QgYSBncm91cFwiKStcIilcIik7YnJlYWt9aWYoaD10aGlzLnozW2FdKWlmKGgudDQmJiFoLm9wdGlvbnMuVDQpdVtoLm5hbWVdLnB1c2goaC5kZWNvZGUobyxlKSk7ZWxzZSBpZihoLm1hcCl7dmFyIGw9aC5kZWNvZGUobyxlKTt1W2gubmFtZV0uc2V0KGxbMF0sbFsxXSl9ZWxzZSB1W2gubmFtZV09aC5kZWNvZGUobyxlKSxoLnYzJiYobnVsbCE9PXRoaXNbaC52My5uYW1lXSYmKHRoaXNbdGhpc1toLnYzLm5hbWVdXT1udWxsKSx1W2gudjMubmFtZV09aC5uYW1lKTtlbHNlIHN3aXRjaChvKXtjYXNlIHQuSTEudzE6ZS5UYigpO2JyZWFrO2Nhc2UgdC5JMS5BMTplLm9mZnNldCs9NDticmVhaztjYXNlIHQuSTEuUzE6ZS5vZmZzZXQrPTg7YnJlYWs7Y2FzZSB0LkkxLlIxOnZhciBwPWUuVGIoKTtlLm9mZnNldCs9cDticmVhaztjYXNlIHQuSTEuYjE6Zm9yKDtuKGEsZSk7KTticmVhaztkZWZhdWx0OnRocm93IEVycm9yKFwiSWxsZWdhbCB3aXJlIHR5cGUgZm9yIHVua25vd24gZmllbGQgXCIrYStcIiBpbiBcIit0aGlzLnRvU3RyaW5nKCEwKStcIiNkZWNvZGU6IFwiK28pfX1mb3IodmFyIGY9MCxkPXRoaXMuWTMubGVuZ3RoO2Y8ZDsrK2YpaWYoaD10aGlzLlkzW2ZdLG51bGw9PT11W2gubmFtZV0pe2lmKGgucmVxdWlyZWQpe3ZhciBnPUVycm9yKFwiTWlzc2luZyBhdCBsZWFzdCBvbmUgcmVxdWlyZWQgZmllbGQgZm9yIFwiK3RoaXMudG9TdHJpbmcoITApK1wiOiBcIitoLm5hbWUpO3Rocm93IGcuSTQ9dSxnfXQuWDEmJm51bGwhPT1oLmRlZmF1bHRWYWx1ZSYmKHVbaC5uYW1lXT1oLmRlZmF1bHRWYWx1ZSl9cmV0dXJuIHV9LHMucGM9cDt2YXIgZD1mdW5jdGlvbihlLHQscixpLG4scyxhLGgsYyx1KXtvLmNhbGwodGhpcyxlLHQscyksdGhpcy5jbGFzc05hbWU9XCJNZXNzYWdlLkZpZWxkXCIsdGhpcy5yZXF1aXJlZD1cInJlcXVpcmVkXCI9PT1yLHRoaXMudDQ9XCJyZXBlYXRlZFwiPT09cix0aGlzLm1hcD1cIm1hcFwiPT09cix0aGlzLnc0PWl8fG51bGwsdGhpcy50eXBlPW4sdGhpcy5GMz1udWxsLHRoaXMuaWQ9YSx0aGlzLm9wdGlvbnM9aHx8e30sdGhpcy5kZWZhdWx0VmFsdWU9bnVsbCx0aGlzLnYzPWN8fG51bGwsdGhpcy5XMj11fHxcInByb3RvMlwiLHRoaXMuQzM9dGhpcy5uYW1lLHRoaXMuUzQ9bnVsbCx0aGlzLlI0PW51bGwsIXRoaXMuSTMub3B0aW9ucy5KMXx8dGhpcyBpbnN0YW5jZW9mIHAuczR8fCh0aGlzLm5hbWU9ZC5iNCh0aGlzLm5hbWUpKX07ZC5iND1mdW5jdGlvbihlKXtyZXR1cm4gZS5yZXBsYWNlKC9fKFthLXpBLVpdKS9nLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQudG9VcHBlckNhc2UoKX0pfTt2YXIgZz1kLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG8ucHJvdG90eXBlKTtnLnNwPWZ1bmN0aW9uKCl7dGhpcy5TND1uZXcgdSh0aGlzLnR5cGUsdGhpcy5GMywhMSx0aGlzLlcyKSx0aGlzLm1hcCYmKHRoaXMuUjQ9bmV3IHUodGhpcy53NCx2b2lkIDAsITAsdGhpcy5XMikpLHRoaXMuZGVmYXVsdFZhbHVlPXZvaWQgMCE9PXRoaXMub3B0aW9ucy5kZWZhdWx0P3RoaXMuQjModGhpcy5vcHRpb25zLmRlZmF1bHQpOm51bGwsXCJwcm90bzNcIiE9PXRoaXMuVzJ8fHRoaXMudDR8fHRoaXMubWFwfHwodGhpcy5kZWZhdWx0VmFsdWU9dGhpcy5TNC5NMyh0aGlzLnR5cGUpKX0sZy5CMz1mdW5jdGlvbihlLHIpe3I9cnx8ITE7dmFyIGk9ZnVuY3Rpb24oZSx0KXt0aHJvdyBFcnJvcihcIklsbGVnYWwgdmFsdWUgZm9yIFwiK3RoaXMudG9TdHJpbmcoITApK1wiIG9mIHR5cGUgXCIrdGhpcy50eXBlLm5hbWUrXCI6IFwiK2UrXCIgKFwiK3QrXCIpXCIpfS5iaW5kKHRoaXMpO2lmKG51bGw9PT1lKXJldHVybiB0aGlzLnJlcXVpcmVkJiZpKHR5cGVvZiBlLFwicmVxdWlyZWRcIiksXCJwcm90bzNcIj09PXRoaXMuVzImJnRoaXMudHlwZSE9PXQuTzEubWVzc2FnZSYmaSh0eXBlb2YgZSxcInByb3RvMyBmaWVsZCB3aXRob3V0IGZpZWxkIHByZXNlbmNlIGNhbm5vdCBiZSBudWxsXCIpLG51bGw7dmFyIG47aWYodGhpcy50NCYmIXIpe3QuaGYuaXNBcnJheShlKXx8KGU9W2VdKTt2YXIgcz1bXTtmb3Iobj0wO248ZS5sZW5ndGg7bisrKXMucHVzaCh0aGlzLlM0LkIzKGVbbl0pKTtyZXR1cm4gc31yZXR1cm4gdGhpcy5tYXAmJiFyP2UgaW5zdGFuY2VvZiB0Lk1hcD9lOihlIGluc3RhbmNlb2YgT2JqZWN0fHxpKHR5cGVvZiBlLFwiZXhwZWN0ZWQgUHJvdG9CdWYuTWFwIG9yIHJhdyBvYmplY3QgZm9yIG1hcCBmaWVsZFwiKSxuZXcgdC5NYXAodGhpcyxlKSk6KCF0aGlzLnQ0JiZ0LmhmLmlzQXJyYXkoZSkmJmkodHlwZW9mIGUsXCJubyBhcnJheSBleHBlY3RlZFwiKSx0aGlzLlM0LkIzKGUpKX0sZy5QND1mdW5jdGlvbihlKXtpZihcInByb3RvM1wiIT09dGhpcy5XMilyZXR1cm4gbnVsbCE9PWU7c3dpdGNoKHRoaXMudHlwZSl7Y2FzZSB0Lk8xLl8xOmNhc2UgdC5PMS5GMTpjYXNlIHQuTzEuVjE6Y2FzZSB0Lk8xLkQxOmNhc2UgdC5PMS5xMTpyZXR1cm4gMCE9PWU7Y2FzZSB0Lk8xLkwxOmNhc2UgdC5PMS5CMTpjYXNlIHQuTzEuRzE6Y2FzZSB0Lk8xLk0xOmNhc2UgdC5PMS5qMTpyZXR1cm4gMCE9PWUubG93fHwwIT09ZS5oaWdoO2Nhc2UgdC5PMS5VMTpyZXR1cm4gZTtjYXNlIHQuTzEuZmxvYXQ6Y2FzZSB0Lk8xLkgxOnJldHVybiAwIT09ZTtjYXNlIHQuTzEucWI6cmV0dXJuIGUubGVuZ3RoPjA7Y2FzZSB0Lk8xLkhuOnJldHVybiBlLnVQKCk+MDtjYXNlIHQuTzEuUTE6cmV0dXJuIDAhPT1lO2Nhc2UgdC5PMS5tZXNzYWdlOnJldHVybiBudWxsIT09ZTtkZWZhdWx0OnJldHVybiEwfX0sZy5lbmNvZGU9ZnVuY3Rpb24ocixpKXtpZihudWxsPT09dGhpcy50eXBlfHxcIm9iamVjdFwiIT10eXBlb2YgdGhpcy50eXBlKXRocm93IEVycm9yKFwiW0lOVEVSTkFMXSBVbnJlc29sdmVkIHR5cGUgaW4gXCIrdGhpcy50b1N0cmluZyghMCkrXCI6IFwiK3RoaXMudHlwZSk7aWYobnVsbD09PXJ8fHRoaXMudDQmJjA9PXIubGVuZ3RoKXJldHVybiBpO3RyeXtpZih0aGlzLnQ0KXt2YXIgbjtpZih0aGlzLm9wdGlvbnMuVDQmJnQuQzEuaW5kZXhPZih0aGlzLnR5cGUuTjEpPj0wKXtpLm1iKHRoaXMuaWQ8PDN8dC5JMS5SMSksaS5pUChpLm9mZnNldCs9MSk7dmFyIHM9aS5vZmZzZXQ7Zm9yKG49MDtuPHIubGVuZ3RoO24rKyl0aGlzLlM0LkczKHRoaXMuaWQscltuXSxpKTt2YXIgbz1pLm9mZnNldC1zLGE9ZS5nYihvKTtpZihhPjEpe3ZhciBoPWkuc2xpY2UocyxpLm9mZnNldCk7cys9YS0xLGkub2Zmc2V0PXMsaS5hcHBlbmQoaCl9aS5tYihvLHMtYSl9ZWxzZSBmb3Iobj0wO248ci5sZW5ndGg7bisrKWkubWIodGhpcy5pZDw8M3x0aGlzLnR5cGUuTjEpLHRoaXMuUzQuRzModGhpcy5pZCxyW25dLGkpfWVsc2UgdGhpcy5tYXA/ci5mb3JFYWNoKGZ1bmN0aW9uKHIsbixzKXt2YXIgbz1lLmdiKDh8dGhpcy53NC5OMSkrdGhpcy5SNC5WMygxLG4pK2UuZ2IoMTZ8dGhpcy50eXBlLk4xKSt0aGlzLlM0LlYzKDIscik7aS5tYih0aGlzLmlkPDwzfHQuSTEuUjEpLGkubWIobyksaS5tYig4fHRoaXMudzQuTjEpLHRoaXMuUjQuRzMoMSxuLGkpLGkubWIoMTZ8dGhpcy50eXBlLk4xKSx0aGlzLlM0LkczKDIscixpKX0sdGhpcyk6dGhpcy5QNChyKSYmKGkubWIodGhpcy5pZDw8M3x0aGlzLnR5cGUuTjEpLHRoaXMuUzQuRzModGhpcy5pZCxyLGkpKX1jYXRjaChlKXt0aHJvdyBFcnJvcihcIklsbGVnYWwgdmFsdWUgZm9yIFwiK3RoaXMudG9TdHJpbmcoITApK1wiOiBcIityK1wiIChcIitlK1wiKVwiKX1yZXR1cm4gaX0sZy5qMz1mdW5jdGlvbihyKXtpZihyPXRoaXMuQjMociksbnVsbD09PXRoaXMudHlwZXx8XCJvYmplY3RcIiE9dHlwZW9mIHRoaXMudHlwZSl0aHJvdyBFcnJvcihcIltJTlRFUk5BTF0gVW5yZXNvbHZlZCB0eXBlIGluIFwiK3RoaXMudG9TdHJpbmcoITApK1wiOiBcIit0aGlzLnR5cGUpO2lmKG51bGw9PT1yfHx0aGlzLnQ0JiYwPT1yLmxlbmd0aClyZXR1cm4gMDt2YXIgaT0wO3RyeXtpZih0aGlzLnQ0KXt2YXIgbixzO2lmKHRoaXMub3B0aW9ucy5UNCYmdC5DMS5pbmRleE9mKHRoaXMudHlwZS5OMSk+PTApe2ZvcihpKz1lLmdiKHRoaXMuaWQ8PDN8dC5JMS5SMSkscz0wLG49MDtuPHIubGVuZ3RoO24rKylzKz10aGlzLlM0LlYzKHRoaXMuaWQscltuXSk7aSs9ZS5nYihzKSxpKz1zfWVsc2UgZm9yKG49MDtuPHIubGVuZ3RoO24rKylpKz1lLmdiKHRoaXMuaWQ8PDN8dGhpcy50eXBlLk4xKSxpKz10aGlzLlM0LlYzKHRoaXMuaWQscltuXSl9ZWxzZSB0aGlzLm1hcD9yLmZvckVhY2goZnVuY3Rpb24ocixuLHMpe3ZhciBvPWUuZ2IoOHx0aGlzLnc0Lk4xKSt0aGlzLlI0LlYzKDEsbikrZS5nYigxNnx0aGlzLnR5cGUuTjEpK3RoaXMuUzQuVjMoMixyKTtpKz1lLmdiKHRoaXMuaWQ8PDN8dC5JMS5SMSksaSs9ZS5nYihvKSxpKz1vfSx0aGlzKTp0aGlzLlA0KHIpJiYoaSs9ZS5nYih0aGlzLmlkPDwzfHRoaXMudHlwZS5OMSksaSs9dGhpcy5TNC5WMyh0aGlzLmlkLHIpKX1jYXRjaChlKXt0aHJvdyBFcnJvcihcIklsbGVnYWwgdmFsdWUgZm9yIFwiK3RoaXMudG9TdHJpbmcoITApK1wiOiBcIityK1wiIChcIitlK1wiKVwiKX1yZXR1cm4gaX0sZy5kZWNvZGU9ZnVuY3Rpb24oZSxyLGkpe3ZhciBuLHM7aWYoISghdGhpcy5tYXAmJmU9PXRoaXMudHlwZS5OMXx8IWkmJnRoaXMudDQmJnRoaXMub3B0aW9ucy5UNCYmZT09dC5JMS5SMXx8dGhpcy5tYXAmJmU9PXQuSTEuUjEpKXRocm93IEVycm9yKFwiSWxsZWdhbCB3aXJlIHR5cGUgZm9yIGZpZWxkIFwiK3RoaXMudG9TdHJpbmcoITApK1wiOiBcIitlK1wiIChcIit0aGlzLnR5cGUuTjErXCIgZXhwZWN0ZWQpXCIpO2lmKGU9PXQuSTEuUjEmJnRoaXMudDQmJnRoaXMub3B0aW9ucy5UNCYmdC5DMS5pbmRleE9mKHRoaXMudHlwZS5OMSk+PTAmJiFpKXtzPXIuVGIoKSxzPXIub2Zmc2V0K3M7Zm9yKHZhciBvPVtdO3Iub2Zmc2V0PHM7KW8ucHVzaCh0aGlzLmRlY29kZSh0aGlzLnR5cGUuTjEsciwhMCkpO3JldHVybiBvfWlmKHRoaXMubWFwKXt2YXIgYT10aGlzLlI0Lk0zKHRoaXMudzQpO2lmKG49dGhpcy5TNC5NMyh0aGlzLnR5cGUpLHM9ci5UYigpLHIudVAoKTxzKXRocm93IEVycm9yKFwiSWxsZWdhbCBudW1iZXIgb2YgYnl0ZXMgZm9yIFwiK3RoaXMudG9TdHJpbmcoITApK1wiOiBcIitzK1wiIHJlcXVpcmVkIGJ1dCBnb3Qgb25seSBcIityLnVQKCkpO3ZhciBoPXIuY2xvbmUoKTtmb3IoaC5DUj1oLm9mZnNldCtzLHIub2Zmc2V0Kz1zO2gudVAoKT4wOyl7dmFyIGM9aC5UYigpO2U9NyZjO3ZhciB1PWM+Pj4zO2lmKDE9PT11KWE9dGhpcy5SNC5kZWNvZGUoaCxlLHUpO2Vsc2V7aWYoMiE9PXUpdGhyb3cgRXJyb3IoXCJVbmV4cGVjdGVkIHRhZyBpbiBtYXAgZmllbGQga2V5L3ZhbHVlIHN1Ym1lc3NhZ2VcIik7bj10aGlzLlM0LmRlY29kZShoLGUsdSl9fXJldHVyblthLG5dfXJldHVybiB0aGlzLlM0LmRlY29kZShyLGUsdGhpcy5pZCl9LHMucGMuQTM9ZDt2YXIgdj1mdW5jdGlvbihlLHQscixpLG4scyxvKXtkLmNhbGwodGhpcyxlLHQscixudWxsLGksbixzLG8pLHRoaXMuQTR9O3YucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZC5wcm90b3R5cGUpLHMucGMuczQ9djt2YXIgeT1mdW5jdGlvbihlLHQscil7by5jYWxsKHRoaXMsZSx0LHIpLHRoaXMuaDM9W119O3MucGMuZTQ9eTt2YXIgbT1mdW5jdGlvbihlLHQscixpLG4pe2guY2FsbCh0aGlzLGUsdCxyLGksbiksdGhpcy5jbGFzc05hbWU9XCJFbnVtXCIsdGhpcy5vYmplY3Q9bnVsbH07KG0ucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoaC5wcm90b3R5cGUpKS5zcD1mdW5jdGlvbigpe2Zvcih2YXIgZT17fSx0PXRoaXMuUjMobS5VMykscj0wLGk9dC5sZW5ndGg7cjxpOysrcillW3Rbcl0ubmFtZV09dFtyXS5pZDtyZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5JiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIiRvcHRpb25zXCIse3ZhbHVlOnRoaXMuXzMoKX0pLHRoaXMub2JqZWN0PWV9LHMueDM9bTt2YXIgRT1mdW5jdGlvbihlLHQscixpKXtvLmNhbGwodGhpcyxlLHQsciksdGhpcy5jbGFzc05hbWU9XCJFbnVtLlZhbHVlXCIsdGhpcy5pZD1pfTtFLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG8ucHJvdG90eXBlKSxzLngzLlUzPUU7dmFyIFQ9ZnVuY3Rpb24oZSx0LHIsaSl7by5jYWxsKHRoaXMsZSx0LHIpLHRoaXMuQzQ9aX07VC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShvLnByb3RvdHlwZSkscy5PND1UO3ZhciBJPWZ1bmN0aW9uKGUsdCxyLGkpe2guY2FsbCh0aGlzLGUsdCxyLGkpLHRoaXMuY2xhc3NOYW1lPVwiU2VydmljZVwiLHRoaXMuSDM9bnVsbH07KEkucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoaC5wcm90b3R5cGUpKS5zcD1mdW5jdGlvbihyKXtyZXR1cm4gdGhpcy5IMyYmIXI/dGhpcy5IMzp0aGlzLkgzPWZ1bmN0aW9uKHQscil7Zm9yKHZhciBpPWZ1bmN0aW9uKGUpe3QucTMuXzQuY2FsbCh0aGlzKSx0aGlzLk40PWV8fGZ1bmN0aW9uKGUsdCxyKXtzZXRUaW1lb3V0KHIuYmluZCh0aGlzLEVycm9yKFwiTm90IGltcGxlbWVudGVkLCBzZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9kY29kZUlPL1Byb3RvQnVmLmpzL3dpa2kvU2VydmljZXNcIikpLDApfX0sbj1pLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQucTMuXzQucHJvdG90eXBlKSxzPXIuUjModC5UMy5fNC5ENCksbz0wO288cy5sZW5ndGg7bysrKSFmdW5jdGlvbih0KXtuW3QubmFtZV09ZnVuY3Rpb24oaSxuKXt0cnl7dHJ5e2k9dC5GNC5IMy5kZWNvZGUoZS53cmFwKGkpKX1jYXRjaChlKXtpZighKGUgaW5zdGFuY2VvZiBUeXBlRXJyb3IpKXRocm93IGV9aWYoIShpJiZpIGluc3RhbmNlb2YgdC5GNC5IMykpcmV0dXJuIHZvaWQgc2V0VGltZW91dChuLmJpbmQodGhpcyxFcnJvcihcIklsbGVnYWwgcmVxdWVzdCB0eXBlIHByb3ZpZGVkIHRvIHNlcnZpY2UgbWV0aG9kIFwiK3IubmFtZStcIiNcIit0Lm5hbWUpKSwwKTt0aGlzLk40KHQudzMoKSxpLGZ1bmN0aW9uKGUsaSl7aWYoZSlyZXR1cm4gdm9pZCBuKGUpO3RyeXtpPXQuTDQuSDMuZGVjb2RlKGkpfWNhdGNoKGUpe31pZighKGkmJmkgaW5zdGFuY2VvZiB0Lkw0LkgzKSlyZXR1cm4gdm9pZCBuKEVycm9yKFwiSWxsZWdhbCByZXNwb25zZSB0eXBlIHJlY2VpdmVkIGluIHNlcnZpY2UgbWV0aG9kIFwiK3IubmFtZStcIiNcIit0Lm5hbWUpKTtuKG51bGwsaSl9KX1jYXRjaChlKXtzZXRUaW1lb3V0KG4uYmluZCh0aGlzLGUpLDApfX0saVt0Lm5hbWVdPWZ1bmN0aW9uKGUscixuKXtuZXcgaShlKVt0Lm5hbWVdKHIsbil9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSYmKE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpW3QubmFtZV0sXCIkb3B0aW9uc1wiLHt2YWx1ZTp0Ll8zKCl9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoblt0Lm5hbWVdLFwiJG9wdGlvbnNcIix7dmFsdWU6aVt0Lm5hbWVdLkU0fSkpfShzW29dKTtyZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5JiYoT2JqZWN0LmRlZmluZVByb3BlcnR5KGksXCIkb3B0aW9uc1wiLHt2YWx1ZTpyLl8zKCl9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkobixcIiRvcHRpb25zXCIse3ZhbHVlOmkuRTR9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSxcIiR0eXBlXCIse3ZhbHVlOnJ9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkobixcIiR0eXBlXCIse3ZhbHVlOnJ9KSksaX0odCx0aGlzKX0scy5fND1JO3ZhciB3PWZ1bmN0aW9uKGUsdCxyLGkpe28uY2FsbCh0aGlzLGUsdCxyKSx0aGlzLmNsYXNzTmFtZT1cIlNlcnZpY2UuTWV0aG9kXCIsdGhpcy5vcHRpb25zPWl8fHt9fTsody5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShvLnByb3RvdHlwZSkpLl8zPWMuXzMscy5fNC5NND13O3ZhciBTPWZ1bmN0aW9uKGUsdCxyLGksbixzLG8sYSl7dy5jYWxsKHRoaXMsZSx0LHIsYSksdGhpcy5jbGFzc05hbWU9XCJTZXJ2aWNlLlJQQ01ldGhvZFwiLHRoaXMuQjQ9aSx0aGlzLlU0PW4sdGhpcy54ND1zLHRoaXMuSDQ9byx0aGlzLkY0PW51bGwsdGhpcy5MND1udWxsfTtyZXR1cm4gUy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh3LnByb3RvdHlwZSkscy5fNC5END1TLHN9KHQpLHQucTM9ZnVuY3Rpb24oZSx0LGkpe2Z1bmN0aW9uIG4oZSx0KXt0LlcyPWUsdC5xMiYmdC5xMi5mb3JFYWNoKGZ1bmN0aW9uKHQpe24oZSx0KX0pLHQuVjImJnQuVjIuZm9yRWFjaChmdW5jdGlvbih0KXtuKGUsdCl9KX12YXIgcz1mdW5jdGlvbihlKXt0aGlzLnE0PW5ldyBpLkQzKHRoaXMsbnVsbCxcIlwiKSx0aGlzLlY0PXRoaXMucTQsdGhpcy5qND0hMSx0aGlzLnJlc3VsdD1udWxsLHRoaXMuZmlsZXM9e30sdGhpcy5HND1udWxsLHRoaXMub3B0aW9ucz1lfHx7fSx0aGlzLlcyPVwicHJvdG8zXCI9PT10aGlzLm9wdGlvbnMuVzI/XCJwcm90bzNcIjpcInByb3RvMlwifSxvPXMucHJvdG90eXBlO3JldHVybiBvLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5WND10aGlzLnE0fSxvLlE0PWZ1bmN0aW9uKGUpe2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlfHwhdC5TMi50ZXN0KGUpKXRocm93IEVycm9yKFwiSWxsZWdhbCBwYWNrYWdlOiBcIitlKTt2YXIgcixuLHM9ZS5zcGxpdChcIi5cIik7Zm9yKHI9MDtyPHMubGVuZ3RoO3IrKylpZighdC5CTy50ZXN0KHNbcl0pKXRocm93IEVycm9yKFwiSWxsZWdhbCBwYWNrYWdlOiBcIitzW3JdKTtmb3Iocj0wO3I8cy5sZW5ndGg7cisrKW49dGhpcy5WNC5QMyhzW3JdKSxudWxsPT09biYmdGhpcy5WNC5iMyhuPW5ldyBpLkQzKHRoaXMsdGhpcy5WNCxzW3JdKSksdGhpcy5WND1uO3JldHVybiB0aGlzfSxzLks0PWZ1bmN0aW9uKHIpe2lmKFwic3RyaW5nXCIhPXR5cGVvZiByLm5hbWV8fCF0LkJPLnRlc3Qoci5uYW1lKSlyZXR1cm4hMTtpZih2b2lkIDAhPT1yLnZhbHVlc3x8dm9pZCAwIT09ci5pMylyZXR1cm4hMTt2YXIgaTtpZih2b2lkIDAhPT1yLmgzKXtpZighZS5oZi5pc0FycmF5KHIuaDMpKXJldHVybiExO3ZhciBuLG89W107Zm9yKGk9MDtpPHIuaDMubGVuZ3RoO2krKyl7aWYoIXMuWTQoci5oM1tpXSkpcmV0dXJuITE7aWYobj1wYXJzZUludChyLmgzW2ldLmlkLDEwKSxvLmluZGV4T2Yobik+PTApcmV0dXJuITE7by5wdXNoKG4pfW89bnVsbH1pZih2b2lkIDAhPT1yLlYyKXtpZighZS5oZi5pc0FycmF5KHIuVjIpKXJldHVybiExO2ZvcihpPTA7aTxyLlYyLmxlbmd0aDtpKyspaWYoIXMuejQoci5WMltpXSkpcmV0dXJuITF9aWYodm9pZCAwIT09ci5xMil7aWYoIWUuaGYuaXNBcnJheShyLnEyKSlyZXR1cm4hMTtmb3IoaT0wO2k8ci5xMi5sZW5ndGg7aSsrKWlmKCFzLks0KHIucTJbaV0pJiYhcy5KNChyLnEyW2ldKSlyZXR1cm4hMX1pZih2b2lkIDAhPT1yLmV4dGVuc2lvbnMmJighZS5oZi5pc0FycmF5KHIuZXh0ZW5zaW9ucyl8fDIhPT1yLmV4dGVuc2lvbnMubGVuZ3RofHxcIm51bWJlclwiIT10eXBlb2Ygci5leHRlbnNpb25zWzBdfHxcIm51bWJlclwiIT10eXBlb2Ygci5leHRlbnNpb25zWzFdKSlyZXR1cm4hMTtpZihcInByb3RvM1wiPT09ci5XMil7Zm9yKGk9MDtpPHIuaDMubGVuZ3RoO2krKyl7dmFyIGE9ci5oM1tpXTtpZihcInJlcXVpcmVkXCI9PT1hLmczKXJldHVybiExO2lmKGEuZGVmYXVsdClyZXR1cm4hMTtpZihhLm9wdGlvbnMpZm9yKHZhciBoPU9iamVjdC5rZXlzKGEub3B0aW9ucyksYz0wO2M8aC5sZW5ndGg7YysrKWlmKFwiZGVmYXVsdFwiPT09aFtjXSlyZXR1cm4hMX1pZihyLmV4dGVuc2lvbnMpcmV0dXJuITF9cmV0dXJuITB9LHMuWTQ9ZnVuY3Rpb24oZSl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGUuZzN8fFwic3RyaW5nXCIhPXR5cGVvZiBlLm5hbWV8fFwic3RyaW5nXCIhPXR5cGVvZiBlLnR5cGV8fHZvaWQgMD09PWUuaWQpcmV0dXJuITE7aWYoISh0LkkyLnRlc3QoZS5nMykmJnQuQk8udGVzdChlLm5hbWUpJiZ0LlMyLnRlc3QoZS50eXBlKSYmdC5fMi50ZXN0KFwiXCIrZS5pZCkpKXJldHVybiExO2lmKHZvaWQgMCE9PWUub3B0aW9ucyl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUub3B0aW9ucylyZXR1cm4hMTtmb3IodmFyIHIsaT1PYmplY3Qua2V5cyhlLm9wdGlvbnMpLG49MDtuPGkubGVuZ3RoO24rKylpZihcInN0cmluZ1wiIT10eXBlb2Yocj1pW25dKXx8XCJzdHJpbmdcIiE9dHlwZW9mIGUub3B0aW9uc1tyXSYmXCJudW1iZXJcIiE9dHlwZW9mIGUub3B0aW9uc1tyXSYmXCJib29sZWFuXCIhPXR5cGVvZiBlLm9wdGlvbnNbcl0pcmV0dXJuITF9cmV0dXJuITB9LHMuejQ9ZnVuY3Rpb24ocil7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIHIubmFtZXx8IXQuQk8udGVzdChyLm5hbWUpKXJldHVybiExO2lmKHZvaWQgMD09PXIudmFsdWVzfHwhZS5oZi5pc0FycmF5KHIudmFsdWVzKXx8MD09ci52YWx1ZXMubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgaT0wO2k8ci52YWx1ZXMubGVuZ3RoO2krKyl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIHIudmFsdWVzW2ldKXJldHVybiExO2lmKFwic3RyaW5nXCIhPXR5cGVvZiByLnZhbHVlc1tpXS5uYW1lfHx2b2lkIDA9PT1yLnZhbHVlc1tpXS5pZClyZXR1cm4hMTtpZighdC5CTy50ZXN0KHIudmFsdWVzW2ldLm5hbWUpfHwhdC5OMi50ZXN0KFwiXCIrci52YWx1ZXNbaV0uaWQpKXJldHVybiExfXJldHVyblwicHJvdG8zXCIhPT1yLlcyfHwwPT09ci52YWx1ZXNbMF0uaWR9LG8uY3JlYXRlPWZ1bmN0aW9uKHQpe2lmKCF0KXJldHVybiB0aGlzO2lmKGUuaGYuaXNBcnJheSh0KXx8KHQ9W3RdKSwwPT09dC5sZW5ndGgpcmV0dXJuIHRoaXM7dmFyIHI9W107Zm9yKHIucHVzaCh0KTtyLmxlbmd0aD4wOyl7aWYodD1yLnBvcCgpLCFlLmhmLmlzQXJyYXkodCkpdGhyb3cgRXJyb3IoXCJOb3QgYSB2YWxpZCBuYW1lc3BhY2U6IFwiK0pTT04uc3RyaW5naWZ5KHQpKTtmb3IoO3QubGVuZ3RoPjA7KXt2YXIgbj10LnNoaWZ0KCk7aWYocy5LNChuKSl7dmFyIG89bmV3IGkucGModGhpcyx0aGlzLlY0LG4ubmFtZSxuLm9wdGlvbnMsbi5hMyxuLlcyKSxhPXt9O2lmKG4uYzMpZm9yKHZhciBoPU9iamVjdC5rZXlzKG4uYzMpLGM9MCx1PWgubGVuZ3RoO2M8dTsrK2Mpby5iMyhhW2hbY11dPW5ldyBpLnBjLmU0KHRoaXMsbyxoW2NdKSk7aWYobi5oMyYmbi5oMy5sZW5ndGg+MClmb3IoYz0wLHU9bi5oMy5sZW5ndGg7Yzx1OysrYyl7dmFyIGw9bi5oM1tjXTtpZihudWxsIT09by5QMyhsLmlkKSl0aHJvdyBFcnJvcihcIkR1cGxpY2F0ZSBmaWVsZCBpZCBpbiBtZXNzYWdlIFwiK28ubmFtZStcIjogXCIrbC5pZCk7aWYobC5vcHRpb25zKWZvcih2YXIgcD1PYmplY3Qua2V5cyhsLm9wdGlvbnMpLGY9MCxkPXAubGVuZ3RoO2Y8ZDsrK2Ype2lmKFwic3RyaW5nXCIhPXR5cGVvZiBwW2ZdKXRocm93IEVycm9yKFwiSWxsZWdhbCBmaWVsZCBvcHRpb24gbmFtZSBpbiBtZXNzYWdlIFwiK28ubmFtZStcIiNcIitsLm5hbWUrXCI6IFwiK3BbZl0pO2lmKFwic3RyaW5nXCIhPXR5cGVvZiBsLm9wdGlvbnNbcFtmXV0mJlwibnVtYmVyXCIhPXR5cGVvZiBsLm9wdGlvbnNbcFtmXV0mJlwiYm9vbGVhblwiIT10eXBlb2YgbC5vcHRpb25zW3BbZl1dKXRocm93IEVycm9yKFwiSWxsZWdhbCBmaWVsZCBvcHRpb24gdmFsdWUgaW4gbWVzc2FnZSBcIitvLm5hbWUrXCIjXCIrbC5uYW1lK1wiI1wiK3BbZl0rXCI6IFwiK2wub3B0aW9uc1twW2ZdXSl9dmFyIGc9bnVsbDtpZihcInN0cmluZ1wiPT10eXBlb2YgbC52MyYmdm9pZCAwPT09KGc9YVtsLnYzXSkpdGhyb3cgRXJyb3IoXCJJbGxlZ2FsIG9uZW9mIGluIG1lc3NhZ2UgXCIrby5uYW1lK1wiI1wiK2wubmFtZStcIjogXCIrbC52Myk7bD1uZXcgaS5wYy5BMyh0aGlzLG8sbC5nMyxsLmtleXR5cGUsbC50eXBlLGwubmFtZSxsLmlkLGwub3B0aW9ucyxnLG4uVzIpLGcmJmcuaDMucHVzaChsKSxvLmIzKGwpfXZhciB2PVtdO2lmKHZvaWQgMCE9PW4uVjImJm4uVjIubGVuZ3RoPjApZm9yKGM9MDtjPG4uVjIubGVuZ3RoO2MrKyl2LnB1c2gobi5WMltjXSk7aWYobi5xMiYmbi5xMi5sZW5ndGg+MClmb3IoYz0wO2M8bi5xMi5sZW5ndGg7YysrKXYucHVzaChuLnEyW2NdKTtpZihuLmV4dGVuc2lvbnMmJihvLmV4dGVuc2lvbnM9bi5leHRlbnNpb25zLG8uZXh0ZW5zaW9uc1swXTxlLlkxJiYoby5leHRlbnNpb25zWzBdPWUuWTEpLG8uZXh0ZW5zaW9uc1sxXT5lLnoxJiYoby5leHRlbnNpb25zWzFdPWUuejEpKSx0aGlzLlY0LmIzKG8pLHYubGVuZ3RoPjApe3IucHVzaCh0KSx0PXYsdj1udWxsLHRoaXMuVjQ9byxvPW51bGw7Y29udGludWV9dj1udWxsLG89bnVsbH1lbHNlIGlmKHMuejQobikpe2ZvcihvPW5ldyBpLngzKHRoaXMsdGhpcy5WNCxuLm5hbWUsbi5vcHRpb25zLG4uVzIpLGM9MDtjPG4udmFsdWVzLmxlbmd0aDtjKyspby5iMyhuZXcgaS54My5VMyh0aGlzLG8sbi52YWx1ZXNbY10ubmFtZSxuLnZhbHVlc1tjXS5pZCkpO3RoaXMuVjQuYjMobyksbz1udWxsfWVsc2UgaWYocy5XNChuKSl7bz1uZXcgaS5fNCh0aGlzLHRoaXMuVjQsbi5uYW1lLG4ub3B0aW9ucyk7Zm9yKGMgaW4gbi5pMyluLmkzLmhhc093blByb3BlcnR5KGMpJiZvLmIzKG5ldyBpLl80LkQ0KHRoaXMsbyxjLG4uaTNbY10uVEksbi5pM1tjXS5yZXNwb25zZSxuLmkzW2NdLnMzLG4uaTNbY10ubzMsbi5pM1tjXS5vcHRpb25zKSk7dGhpcy5WNC5iMyhvKSxvPW51bGx9ZWxzZXtpZighcy5KNChuKSl0aHJvdyBFcnJvcihcIk5vdCBhIHZhbGlkIGRlZmluaXRpb246IFwiK0pTT04uc3RyaW5naWZ5KG4pKTtpZihvPXRoaXMuVjQucmVzb2x2ZShuLkUzKSlmb3IoYz0wO2M8bi5oMy5sZW5ndGg7YysrKXtpZihudWxsIT09by5QMyhuLmgzW2NdLmlkKSl0aHJvdyBFcnJvcihcIkR1cGxpY2F0ZSBleHRlbmRlZCBmaWVsZCBpZCBpbiBtZXNzYWdlIFwiK28ubmFtZStcIjogXCIrbi5oM1tjXS5pZCk7aWYobi5oM1tjXS5pZDxvLmV4dGVuc2lvbnNbMF18fG4uaDNbY10uaWQ+by5leHRlbnNpb25zWzFdKXRocm93IEVycm9yKFwiSWxsZWdhbCBleHRlbmRlZCBmaWVsZCBpZCBpbiBtZXNzYWdlIFwiK28ubmFtZStcIjogXCIrbi5oM1tjXS5pZCtcIiAoXCIrby5leHRlbnNpb25zLmpvaW4oXCIgdG8gXCIpK1wiIGV4cGVjdGVkKVwiKTt2YXIgeT1uLmgzW2NdLm5hbWU7dGhpcy5vcHRpb25zLkoxJiYoeT1pLnBjLkEzLmI0KG4uaDNbY10ubmFtZSkpLGw9bmV3IGkucGMuczQodGhpcyxvLG4uaDNbY10uZzMsbi5oM1tjXS50eXBlLHRoaXMuVjQudzMoKStcIi5cIit5LG4uaDNbY10uaWQsbi5oM1tjXS5vcHRpb25zKTt2YXIgbT1uZXcgaS5PNCh0aGlzLHRoaXMuVjQsbi5oM1tjXS5uYW1lLGwpO2wuQTQ9bSx0aGlzLlY0LmIzKG0pLG8uYjMobCl9ZWxzZSBpZighL1xcLj9nb29nbGVcXC5wcm90b2J1ZlxcLi8udGVzdChuLkUzKSl0aHJvdyBFcnJvcihcIkV4dGVuZGVkIG1lc3NhZ2UgXCIrbi5FMytcIiBpcyBub3QgZGVmaW5lZFwiKX1uPW51bGx9dD1udWxsLHRoaXMuVjQ9dGhpcy5WNC5wYXJlbnR9cmV0dXJuIHRoaXMuajQ9ITEsdGhpcy5yZXN1bHQ9bnVsbCx0aGlzfSxvLlg0PWZ1bmN0aW9uKHQsaSl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGkpe2lmKGUuaGYuWjEmJihpPXIoNTkpLnJlc29sdmUoaSkpLCEwPT09dGhpcy5maWxlc1tpXSlyZXR1cm4gdGhpcy5yZXNldCgpLHRoaXM7dGhpcy5maWxlc1tpXT0hMH1lbHNlIGlmKFwib2JqZWN0XCI9PXR5cGVvZiBpKXt2YXIgcz1pLnJvb3Q7ZS5oZi5aMSYmKHM9cig1OSkucmVzb2x2ZShzKSk7dmFyIG89W3MsaS5aNF0uam9pbihcIi9cIik7aWYoITA9PT10aGlzLmZpbGVzW29dKXJldHVybiB0aGlzLnJlc2V0KCksdGhpczt0aGlzLmZpbGVzW29dPSEwfWlmKHQuaW1wb3J0cyYmdC5pbXBvcnRzLmxlbmd0aD4wKXt2YXIgYSxoPVwiL1wiLGM9ITE7XCJvYmplY3RcIj09dHlwZW9mIGk/KHRoaXMuRzQ9aS5yb290LGM9ITAsYT10aGlzLkc0LGk9aS5aNCwoYS5pbmRleE9mKFwiXFxcXFwiKT49MHx8aS5pbmRleE9mKFwiXFxcXFwiKT49MCkmJihoPVwiXFxcXFwiKSk6XCJzdHJpbmdcIj09dHlwZW9mIGk/dGhpcy5HND9hPXRoaXMuRzQ6aS5pbmRleE9mKFwiL1wiKT49MD9cIlwiPT09KGE9aS5yZXBsYWNlKC9cXC9bXlxcL10qJC8sXCJcIikpJiYoYT1cIi9cIik6aS5pbmRleE9mKFwiXFxcXFwiKT49MD8oYT1pLnJlcGxhY2UoL1xcXFxbXlxcXFxdKiQvLFwiXCIpLGg9XCJcXFxcXCIpOmE9XCIuXCI6YT1udWxsO2Zvcih2YXIgdT0wO3U8dC5pbXBvcnRzLmxlbmd0aDt1KyspaWYoXCJzdHJpbmdcIj09dHlwZW9mIHQuaW1wb3J0c1t1XSl7aWYoIWEpdGhyb3cgRXJyb3IoXCJDYW5ub3QgZGV0ZXJtaW5lIGltcG9ydCByb290OiBGaWxlIG5hbWUgaXMgdW5rbm93blwiKTt2YXIgbD10LmltcG9ydHNbdV07aWYoL15nb29nbGVcXC9wcm90b2J1ZlxcLy8udGVzdChsKSljb250aW51ZTtpZihsPWEraCtsLCEwPT09dGhpcy5maWxlc1tsXSljb250aW51ZTsvXFwucHJvdG8kL2kudGVzdChsKSYmIWUuRjImJihsPWwucmVwbGFjZSgvXFwucHJvdG8kLyxcIi5qc29uXCIpKTt2YXIgcD1lLmhmLmZldGNoKGwpO2lmKG51bGw9PT1wKXRocm93IEVycm9yKFwiRmFpbGVkIHRvIGltcG9ydCAnXCIrbCtcIicgaW4gJ1wiK2krXCInOiBGaWxlIG5vdCBmb3VuZFwiKTsvXFwuanNvbiQvaS50ZXN0KGwpP3RoaXMuWDQoSlNPTi5wYXJzZShwK1wiXCIpLGwpOnRoaXMuWDQobmV3IGUuRjIuRCQocCtcIlwiKS5wYXJzZSgpLGwpfWVsc2UgaT8vXFwuKFxcdyspJC8udGVzdChpKT90aGlzLlg0KHQuaW1wb3J0c1t1XSxpLnJlcGxhY2UoL14oLispXFwuKFxcdyspJC8sZnVuY3Rpb24oZSx0LHIpe3JldHVybiB0K1wiX2ltcG9ydFwiK3UrXCIuXCIrcn0pKTp0aGlzLlg0KHQuaW1wb3J0c1t1XSxpK1wiX2ltcG9ydFwiK3UpOnRoaXMuWDQodC5pbXBvcnRzW3VdKTtjJiYodGhpcy5HND1udWxsKX10LkgyJiZ0aGlzLlE0KHQuSDIpLHQuVzImJm4odC5XMix0KTt2YXIgZj10aGlzLlY0O3JldHVybiB0Lm9wdGlvbnMmJk9iamVjdC5rZXlzKHQub3B0aW9ucykuZm9yRWFjaChmdW5jdGlvbihlKXtmLm9wdGlvbnNbZV09dC5vcHRpb25zW2VdfSksdC5xMiYmKHRoaXMuY3JlYXRlKHQucTIpLHRoaXMuVjQ9ZiksdC5WMiYmKHRoaXMuY3JlYXRlKHQuVjIpLHRoaXMuVjQ9ZiksdC5ETiYmKHRoaXMuY3JlYXRlKHQuRE4pLHRoaXMuVjQ9ZiksdC5lNiYmdGhpcy5jcmVhdGUodC5lNiksdGhpcy5yZXNldCgpLHRoaXN9LHMuVzQ9ZnVuY3Rpb24oZSl7cmV0dXJuIShcInN0cmluZ1wiIT10eXBlb2YgZS5uYW1lfHwhdC5CTy50ZXN0KGUubmFtZSl8fFwib2JqZWN0XCIhPXR5cGVvZiBlLmkzKX0scy5KND1mdW5jdGlvbihyKXtpZihcInN0cmluZ1wiIT10eXBlb2Ygci5FM3x8IXQuUzIudGVzdChyLkUzKSlyZXR1cm4hMTt2YXIgaTtpZih2b2lkIDAhPT1yLmgzKXtpZighZS5oZi5pc0FycmF5KHIuaDMpKXJldHVybiExO3ZhciBuLG89W107Zm9yKGk9MDtpPHIuaDMubGVuZ3RoO2krKyl7aWYoIXMuWTQoci5oM1tpXSkpcmV0dXJuITE7aWYobj1wYXJzZUludChyLmlkLDEwKSxvLmluZGV4T2Yobik+PTApcmV0dXJuITE7by5wdXNoKG4pfW89bnVsbH1yZXR1cm4hMH0sby50Nj1mdW5jdGlvbigpe3ZhciByO2lmKG51bGwhPXRoaXMuVjQmJlwib2JqZWN0XCIhPXR5cGVvZiB0aGlzLlY0LnR5cGUpe2lmKHRoaXMuVjQgaW5zdGFuY2VvZiBpLkQzKWZvcih2YXIgbj10aGlzLlY0LmNoaWxkcmVuLHM9MCxvPW4ubGVuZ3RoO3M8bzsrK3MpdGhpcy5WND1uW3NdLHRoaXMudDYoKTtlbHNlIGlmKHRoaXMuVjQgaW5zdGFuY2VvZiBpLnBjLkEzKXtpZih0LmpPLnRlc3QodGhpcy5WNC50eXBlKSl0aGlzLlY0LnR5cGU9ZS5PMVt0aGlzLlY0LnR5cGVdO2Vsc2V7aWYoIXQuUzIudGVzdCh0aGlzLlY0LnR5cGUpKXRocm93IEVycm9yKFwiSWxsZWdhbCB0eXBlIHJlZmVyZW5jZSBpbiBcIit0aGlzLlY0LnRvU3RyaW5nKCEwKStcIjogXCIrdGhpcy5WNC50eXBlKTtpZighKHI9KHRoaXMuVjQgaW5zdGFuY2VvZiBpLnBjLnM0P3RoaXMuVjQuQTQucGFyZW50OnRoaXMuVjQucGFyZW50KS5yZXNvbHZlKHRoaXMuVjQudHlwZSwhMCkpKXRocm93IEVycm9yKFwiVW5yZXNvbHZhYmxlIHR5cGUgcmVmZXJlbmNlIGluIFwiK3RoaXMuVjQudG9TdHJpbmcoITApK1wiOiBcIit0aGlzLlY0LnR5cGUpO2lmKHRoaXMuVjQuRjM9cixyIGluc3RhbmNlb2YgaS54Myl7aWYodGhpcy5WNC50eXBlPWUuTzEuUTEsXCJwcm90bzNcIj09PXRoaXMuVjQuVzImJlwicHJvdG8zXCIhPT1yLlcyKXRocm93IEVycm9yKFwiUHJvdG8zIG1lc3NhZ2UgcmVmZXJzIHRvIHByb3RvMiBlbnVtOyB0aGlzIGlzIG5vdCBhbGxvd2VkIGR1ZSB0byBkaWZmZXJpbmcgZW51bSBzZW1hbnRpY3MgaW4gcHJvdG8zXCIpfWVsc2V7aWYoIShyIGluc3RhbmNlb2YgaS5wYykpdGhyb3cgRXJyb3IoXCJJbGxlZ2FsIHR5cGUgcmVmZXJlbmNlIGluIFwiK3RoaXMuVjQudG9TdHJpbmcoITApK1wiOiBcIit0aGlzLlY0LnR5cGUpO3RoaXMuVjQudHlwZT1yLmEzP2UuTzEuZ3JvdXA6ZS5PMS5tZXNzYWdlfX1pZih0aGlzLlY0Lm1hcCl7aWYoIXQuak8udGVzdCh0aGlzLlY0Lnc0KSl0aHJvdyBFcnJvcihcIklsbGVnYWwga2V5IHR5cGUgZm9yIG1hcCBmaWVsZCBpbiBcIit0aGlzLlY0LnRvU3RyaW5nKCEwKStcIjogXCIrdGhpcy5WNC50eXBlKTt0aGlzLlY0Lnc0PWUuTzFbdGhpcy5WNC53NF19fWVsc2UgaWYodGhpcy5WNCBpbnN0YW5jZW9mIGUuVDMueDMuVTMpO2Vsc2UgaWYodGhpcy5WNCBpbnN0YW5jZW9mIGUuVDMuXzQuTTQpe2lmKCEodGhpcy5WNCBpbnN0YW5jZW9mIGUuVDMuXzQuRDQpKXRocm93IEVycm9yKFwiSWxsZWdhbCBzZXJ2aWNlIHR5cGUgaW4gXCIrdGhpcy5WNC50b1N0cmluZyghMCkpO2lmKCEoKHI9dGhpcy5WNC5wYXJlbnQucmVzb2x2ZSh0aGlzLlY0LkI0KSkmJnIgaW5zdGFuY2VvZiBlLlQzLnBjKSl0aHJvdyBFcnJvcihcIklsbGVnYWwgdHlwZSByZWZlcmVuY2UgaW4gXCIrdGhpcy5WNC50b1N0cmluZyghMCkrXCI6IFwiK3RoaXMuVjQuQjQpO2lmKHRoaXMuVjQuRjQ9ciwhKChyPXRoaXMuVjQucGFyZW50LnJlc29sdmUodGhpcy5WNC5VNCkpJiZyIGluc3RhbmNlb2YgZS5UMy5wYykpdGhyb3cgRXJyb3IoXCJJbGxlZ2FsIHR5cGUgcmVmZXJlbmNlIGluIFwiK3RoaXMuVjQudG9TdHJpbmcoITApK1wiOiBcIit0aGlzLlY0LlU0KTt0aGlzLlY0Lkw0PXJ9ZWxzZSBpZighKHRoaXMuVjQgaW5zdGFuY2VvZiBlLlQzLnBjLmU0fHx0aGlzLlY0IGluc3RhbmNlb2YgZS5UMy5PNCkpdGhyb3cgRXJyb3IoXCJJbGxlZ2FsIG9iamVjdCBpbiBuYW1lc3BhY2U6IFwiK3R5cGVvZiB0aGlzLlY0K1wiOlwiK3RoaXMuVjQpO3RoaXMucmVzZXQoKX19LG8uc3A9ZnVuY3Rpb24oZSl7aWYodGhpcy5yZXNldCgpLHRoaXMuajR8fCh0aGlzLnQ2KCksdGhpcy5qND0hMCx0aGlzLnJlc3VsdD1udWxsKSxudWxsPT09dGhpcy5yZXN1bHQmJih0aGlzLnJlc3VsdD10aGlzLnE0LnNwKCkpLGUpe2Zvcih2YXIgdD1cInN0cmluZ1wiPT10eXBlb2YgZT9lLnNwbGl0KFwiLlwiKTplLHI9dGhpcy5yZXN1bHQsaT0wO2k8dC5sZW5ndGg7aSsrKXtpZighclt0W2ldXSl7cj1udWxsO2JyZWFrfXI9clt0W2ldXX1yZXR1cm4gcn1yZXR1cm4gdGhpcy5yZXN1bHR9LG8ucjY9ZnVuY3Rpb24oZSl7cmV0dXJuIGU/dGhpcy5xNC5yZXNvbHZlKGUpOnRoaXMucTR9LG8udG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIkJ1aWxkZXJcIn0scy5wYz1mdW5jdGlvbigpe30scy5fND1mdW5jdGlvbigpe30sc30odCx0LkxhbmcsdC5UMyksdC5NYXA9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlKXt2YXIgdD0wO3JldHVybntuZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIHQ8ZS5sZW5ndGg/e2RvbmU6ITEsdmFsdWU6ZVt0KytdfTp7ZG9uZTohMH19fX12YXIgcj1mdW5jdGlvbih0LHIpe2lmKCF0Lm1hcCl0aHJvdyBFcnJvcihcImZpZWxkIGlzIG5vdCBhIG1hcFwiKTtpZih0aGlzLkM0PXQsdGhpcy5XMz1uZXcgZS5UMy5FbGVtZW50KHQudzQsbnVsbCwhMCx0LlcyKSx0aGlzLlgzPW5ldyBlLlQzLkVsZW1lbnQodC50eXBlLHQuRjMsITEsdC5XMiksdGhpcy5tYXA9e30sT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJzaXplXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBPYmplY3Qua2V5cyh0aGlzLm1hcCkubGVuZ3RofX0pLHIpZm9yKHZhciBpPU9iamVjdC5rZXlzKHIpLG49MDtuPGkubGVuZ3RoO24rKyl7dmFyIHM9dGhpcy5XMy5RMyhpW25dKSxvPXRoaXMuWDMuQjMocltpW25dXSk7dGhpcy5tYXBbdGhpcy5XMy5LMyhzKV09e2tleTpzLHZhbHVlOm99fX0saT1yLnByb3RvdHlwZTtyZXR1cm4gaS5jbGVhcj1mdW5jdGlvbigpe3RoaXMubWFwPXt9fSxpLmRlbGV0ZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLlczLkszKHRoaXMuVzMuQjMoZSkpLHI9dCBpbiB0aGlzLm1hcDtyZXR1cm4gZGVsZXRlIHRoaXMubWFwW3RdLHJ9LGkuZW50cmllcz1mdW5jdGlvbigpe2Zvcih2YXIgZSxyPVtdLGk9T2JqZWN0LmtleXModGhpcy5tYXApLG49MDtuPGkubGVuZ3RoO24rKylyLnB1c2goWyhlPXRoaXMubWFwW2lbbl1dKS5rZXksZS52YWx1ZV0pO3JldHVybiB0KHIpfSxpLmtleXM9ZnVuY3Rpb24oKXtmb3IodmFyIGU9W10scj1PYmplY3Qua2V5cyh0aGlzLm1hcCksaT0wO2k8ci5sZW5ndGg7aSsrKWUucHVzaCh0aGlzLm1hcFtyW2ldXS5rZXkpO3JldHVybiB0KGUpfSxpLnZhbHVlcz1mdW5jdGlvbigpe2Zvcih2YXIgZT1bXSxyPU9iamVjdC5rZXlzKHRoaXMubWFwKSxpPTA7aTxyLmxlbmd0aDtpKyspZS5wdXNoKHRoaXMubWFwW3JbaV1dLnZhbHVlKTtyZXR1cm4gdChlKX0saS5mb3JFYWNoPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByLGk9T2JqZWN0LmtleXModGhpcy5tYXApLG49MDtuPGkubGVuZ3RoO24rKyllLmNhbGwodCwocj10aGlzLm1hcFtpW25dXSkudmFsdWUsci5rZXksdGhpcyl9LGkuc2V0PWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5XMy5CMyhlKSxpPXRoaXMuWDMuQjModCk7cmV0dXJuIHRoaXMubWFwW3RoaXMuVzMuSzMocildPXtrZXk6cix2YWx1ZTppfSx0aGlzfSxpLmdldD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLlczLkszKHRoaXMuVzMuQjMoZSkpO2lmKHQgaW4gdGhpcy5tYXApcmV0dXJuIHRoaXMubWFwW3RdLnZhbHVlfSxpLmhhcz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5XMy5LMyh0aGlzLlczLkIzKGUpKWluIHRoaXMubWFwfSxyfSh0KSx0Lmk2PWZ1bmN0aW9uKGUscixpKXtyZXR1cm4oXCJzdHJpbmdcIj09dHlwZW9mIHJ8fHImJlwic3RyaW5nXCI9PXR5cGVvZiByLlo0JiZcInN0cmluZ1wiPT10eXBlb2Ygci5yb290KSYmKGk9cixyPXZvaWQgMCksdC5vcChuZXcgdC5GMi5EJChlKS5wYXJzZSgpLHIsaSl9LHQubjY9dC5pNix0LnM2PWZ1bmN0aW9uKGUscixpKXtpZihyJiZcIm9iamVjdFwiPT10eXBlb2Ygcj8oaT1yLHI9bnVsbCk6ciYmXCJmdW5jdGlvblwiPT10eXBlb2Ygcnx8KHI9bnVsbCkscilyZXR1cm4gdC5oZi5mZXRjaChcInN0cmluZ1wiPT10eXBlb2YgZT9lOmUucm9vdCtcIi9cIitlLlo0LGZ1bmN0aW9uKG4pe2lmKG51bGw9PT1uKXJldHVybiB2b2lkIHIoRXJyb3IoXCJGYWlsZWQgdG8gZmV0Y2ggZmlsZVwiKSk7dHJ5e3IobnVsbCx0Lmk2KG4saSxlKSl9Y2F0Y2goZSl7cihlKX19KTt2YXIgbj10LmhmLmZldGNoKFwib2JqZWN0XCI9PXR5cGVvZiBlP2Uucm9vdCtcIi9cIitlLlo0OmUpO3JldHVybiBudWxsPT09bj9udWxsOnQuaTYobixpLGUpfSx0Lm82PXQuczYsdC5hNj1mdW5jdGlvbihlKXtyZXR1cm4gZT1lfHx7fSx2b2lkIDA9PT1lLkoxJiYoZS5KMT10LkoxKSx2b2lkIDA9PT1lLlcxJiYoZS5XMT10LlcxKSxuZXcgdC5xMyhlKX0sdC5vcD1mdW5jdGlvbihlLHIsaSl7cmV0dXJuKFwic3RyaW5nXCI9PXR5cGVvZiByfHxyJiZcInN0cmluZ1wiPT10eXBlb2Ygci5aNCYmXCJzdHJpbmdcIj09dHlwZW9mIHIucm9vdCkmJihpPXIscj1udWxsKSxyJiZcIm9iamVjdFwiPT10eXBlb2Ygcnx8KHI9dC5hNigpKSxcInN0cmluZ1wiPT10eXBlb2YgZSYmKGU9SlNPTi5wYXJzZShlKSksci5YNChlLGkpLHIudDYoKSxyfSx0Lmg2PWZ1bmN0aW9uKGUscixpKXtpZihyJiZcIm9iamVjdFwiPT10eXBlb2Ygcj8oaT1yLHI9bnVsbCk6ciYmXCJmdW5jdGlvblwiPT10eXBlb2Ygcnx8KHI9bnVsbCkscilyZXR1cm4gdC5oZi5mZXRjaChcInN0cmluZ1wiPT10eXBlb2YgZT9lOmUucm9vdCtcIi9cIitlLlo0LGZ1bmN0aW9uKG4pe2lmKG51bGw9PT1uKXJldHVybiB2b2lkIHIoRXJyb3IoXCJGYWlsZWQgdG8gZmV0Y2ggZmlsZVwiKSk7dHJ5e3IobnVsbCx0Lm9wKEpTT04ucGFyc2UobiksaSxlKSl9Y2F0Y2goZSl7cihlKX19KTt2YXIgbj10LmhmLmZldGNoKFwib2JqZWN0XCI9PXR5cGVvZiBlP2Uucm9vdCtcIi9cIitlLlo0OmUpO3JldHVybiBudWxsPT09bj9udWxsOnQub3AoSlNPTi5wYXJzZShuKSxpLGUpfSx0fVwib2JqZWN0XCI9PXR5cGVvZiBlJiZlJiZcIm9iamVjdFwiPT10eXBlb2YgdCYmdD9lLnQ9YShyKDMyKSk6KG49W3IoMTU5KV0saT1hLHZvaWQgMCE9PShzPVwiZnVuY3Rpb25cIj09dHlwZW9mIGk/aS5hcHBseSh0LG4pOmkpJiYoZS50PXMpKX0oKX0pLmNhbGwodCxyKDU4KShlKSl9LGZ1bmN0aW9uKGUsdCxyKXsoZnVuY3Rpb24oZSl7dmFyIG4sczsvKipcclxuICogQGxpY2Vuc2UgQnl0ZUJ1ZmZlci5qcyAoYykgMjAxMy0yMDE0IERhbmllbCBXaXJ0eiA8ZGNvZGVAZGNvZGUuaW8+XHJcbiAqIFRoaXMgdmVyc2lvbiBvZiBCeXRlQnVmZmVyLmpzIHVzZXMgYW4gQXJyYXlCdWZmZXIgYXMgaXRzIGJhY2tpbmcgYnVmZmVyIHdoaWNoIGlzIGFjY2Vzc2VkIHRocm91Z2ggYSBEYXRhVmlldyBhbmQgaXNcclxuICogY29tcGF0aWJsZSB3aXRoIG1vZGVybiBicm93c2Vycy5cclxuICogUmVsZWFzZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMFxyXG4gKiBzZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9kY29kZUlPL0J5dGVCdWZmZXIuanMgZm9yIGRldGFpbHNcclxuICovXHJcbiFmdW5jdGlvbihvKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBhKGUpe2Z1bmN0aW9uIHQoZSl7dmFyIHQ9MDtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdDxlLmxlbmd0aD9lLmNoYXJDb2RlQXQodCsrKTpudWxsfX1mdW5jdGlvbiByKCl7dmFyIGU9W10sdD1bXTtyZXR1cm4gZnVuY3Rpb24oKXtpZigwPT09YXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdC5qb2luKFwiXCIpK2EuYXBwbHkoU3RyaW5nLGUpO2UubGVuZ3RoK2FyZ3VtZW50cy5sZW5ndGg+MTAyNCYmKHQucHVzaChhLmFwcGx5KFN0cmluZyxlKSksZS5sZW5ndGg9MCksQXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkoZSxhcmd1bWVudHMpfX12YXIgbj1mdW5jdGlvbihlLHQscil7aWYodm9pZCAwPT09ZSYmKGU9bi5SUiksdm9pZCAwPT09dCYmKHQ9bi5iUiksdm9pZCAwPT09ciYmKHI9bi5QUiksIXIpe2lmKChlfD0wKTwwKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIGNhcGFjaXR5XCIpO3Q9ISF0LHI9ISFyfXRoaXMuYnVmZmVyPTA9PT1lP286bmV3IEFycmF5QnVmZmVyKGUpLHRoaXMudmlldz0wPT09ZT9udWxsOm5ldyBEYXRhVmlldyh0aGlzLmJ1ZmZlciksdGhpcy5vZmZzZXQ9MCx0aGlzLkFSPS0xLHRoaXMuQ1I9ZSx0aGlzLmtSPXZvaWQgMCE9PXQmJiEhdCx0aGlzLk9SPSEhcn07bi5WRVJTSU9OPVwiMy41LjVcIixuLl9SPSEwLG4uTlI9ITEsbi5SUj0xNixuLmJSPW4uTlIsbi5QUj0hMSxuLkRSPWV8fG51bGw7dmFyIHM9bi5wcm90b3R5cGUsbz1uZXcgQXJyYXlCdWZmZXIoMCksYT1TdHJpbmcuZnJvbUNoYXJDb2RlO24uRlI9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBuZXcgbihlLHQscil9LG4uY29uY2F0PWZ1bmN0aW9uKGUsdCxyLGkpe1wiYm9vbGVhblwiIT10eXBlb2YgdCYmXCJzdHJpbmdcIj09dHlwZW9mIHR8fChpPXIscj10LHQ9dm9pZCAwKTtmb3IodmFyIHMsbz0wLGE9MCxoPWUubGVuZ3RoO2E8aDsrK2Epbi5MUihlW2FdKXx8KGVbYV09bi53cmFwKGVbYV0sdCkpLChzPWVbYV0uQ1ItZVthXS5vZmZzZXQpPjAmJihvKz1zKTtpZigwPT09bylyZXR1cm4gbmV3IG4oMCxyLGkpO3ZhciBjLHU9bmV3IG4obyxyLGkpLGw9bmV3IFVpbnQ4QXJyYXkodS5idWZmZXIpO2ZvcihhPTA7YTxoOyljPWVbYSsrXSwocz1jLkNSLWMub2Zmc2V0KTw9MHx8KGwuc2V0KG5ldyBVaW50OEFycmF5KGMuYnVmZmVyKS5zdWJhcnJheShjLm9mZnNldCxjLkNSKSx1Lm9mZnNldCksdS5vZmZzZXQrPXMpO3JldHVybiB1LkNSPXUub2Zmc2V0LHUub2Zmc2V0PTAsdX0sbi5MUj1mdW5jdGlvbihlKXtyZXR1cm4hMD09PShlJiZlIGluc3RhbmNlb2Ygbil9LG4udHlwZT1mdW5jdGlvbigpe3JldHVybiBBcnJheUJ1ZmZlcn0sbi53cmFwPWZ1bmN0aW9uKGUsdCxyLG8pe2lmKFwic3RyaW5nXCIhPXR5cGVvZiB0JiYobz1yLHI9dCx0PXZvaWQgMCksXCJzdHJpbmdcIj09dHlwZW9mIGUpc3dpdGNoKHZvaWQgMD09PXQmJih0PVwidXRmOFwiKSx0KXtjYXNlXCJiYXNlNjRcIjpyZXR1cm4gbi5NUihlLHIpO2Nhc2VcImhleFwiOnJldHVybiBuLkJSKGUscik7Y2FzZVwiYmluYXJ5XCI6cmV0dXJuIG4uVVIoZSxyKTtjYXNlXCJ1dGY4XCI6cmV0dXJuIG4ueFIoZSxyKTtjYXNlXCJkZWJ1Z1wiOnJldHVybiBuLkhSKGUscik7ZGVmYXVsdDp0aHJvdyBFcnJvcihcIlVuc3VwcG9ydGVkIGVuY29kaW5nOiBcIit0KX1pZihudWxsPT09ZXx8XCJvYmplY3RcIiE9dHlwZW9mIGUpdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBidWZmZXJcIik7dmFyIGE7aWYobi5MUihlKSlyZXR1cm4gYT1zLmNsb25lLmNhbGwoZSksYS5BUj0tMSxhO2lmKGUgaW5zdGFuY2VvZiBVaW50OEFycmF5KWE9bmV3IG4oMCxyLG8pLGUubGVuZ3RoPjAmJihhLmJ1ZmZlcj1lLmJ1ZmZlcixhLm9mZnNldD1lLmJ5dGVPZmZzZXQsYS5DUj1lLmJ5dGVPZmZzZXQrZS5sZW5ndGgsYS52aWV3PWUubGVuZ3RoPjA/bmV3IERhdGFWaWV3KGUuYnVmZmVyKTpudWxsKTtlbHNlIGlmKGUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcilhPW5ldyBuKDAscixvKSxlLmJ5dGVMZW5ndGg+MCYmKGEuYnVmZmVyPWUsYS5vZmZzZXQ9MCxhLkNSPWUuYnl0ZUxlbmd0aCxhLnZpZXc9ZS5ieXRlTGVuZ3RoPjA/bmV3IERhdGFWaWV3KGUpOm51bGwpO2Vsc2V7aWYoXCJbb2JqZWN0IEFycmF5XVwiIT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgYnVmZmVyXCIpO2ZvcihhPW5ldyBuKGUubGVuZ3RoLHIsbyksYS5DUj1lLmxlbmd0aCxpPTA7aTxlLmxlbmd0aDsrK2kpYS52aWV3LnNldFVpbnQ4KGksZVtpXSl9cmV0dXJuIGF9LHMucVI9ZnVuY3Rpb24oZSx0KXt2YXIgcj12b2lkIDA9PT10O2lmKHImJih0PXRoaXMub2Zmc2V0KSwhdGhpcy5PUil7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGV8fGUlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIHZhbHVlOiBcIitlK1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoZXw9MCxcIm51bWJlclwiIT10eXBlb2YgdHx8dCUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBcIit0K1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKHQ+Pj49MCk8MHx8dCswPnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiAwIDw9IFwiK3QrXCIgKCswKSA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX10Kz0xO3ZhciBpPXRoaXMuYnVmZmVyLmJ5dGVMZW5ndGg7cmV0dXJuIHQ+aSYmdGhpcy5yZXNpemUoKGkqPTIpPnQ/aTp0KSx0LT0xLHRoaXMudmlldy5zZXRJbnQ4KHQsZSksciYmKHRoaXMub2Zmc2V0Kz0xKSx0aGlzfSxzLk5TPXMucVIscy5WUj1mdW5jdGlvbihlKXt2YXIgdD12b2lkIDA9PT1lO2lmKHQmJihlPXRoaXMub2Zmc2V0KSwhdGhpcy5PUil7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGV8fGUlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogXCIrZStcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKChlPj4+PTApPDB8fGUrMT50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogMCA8PSBcIitlK1wiICgrMSkgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9dmFyIHI9dGhpcy52aWV3LmdldEludDgoZSk7cmV0dXJuIHQmJih0aGlzLm9mZnNldCs9MSkscn0scy5yUj1zLlZSLHMualI9ZnVuY3Rpb24oZSx0KXt2YXIgcj12b2lkIDA9PT10O2lmKHImJih0PXRoaXMub2Zmc2V0KSwhdGhpcy5PUil7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGV8fGUlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIHZhbHVlOiBcIitlK1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoZT4+Pj0wLFwibnVtYmVyXCIhPXR5cGVvZiB0fHx0JTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IFwiK3QrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZigodD4+Pj0wKTwwfHx0KzA+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IDAgPD0gXCIrdCtcIiAoKzApIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfXQrPTE7dmFyIGk9dGhpcy5idWZmZXIuYnl0ZUxlbmd0aDtyZXR1cm4gdD5pJiZ0aGlzLnJlc2l6ZSgoaSo9Mik+dD9pOnQpLHQtPTEsdGhpcy52aWV3LnNldFVpbnQ4KHQsZSksciYmKHRoaXMub2Zmc2V0Kz0xKSx0aGlzfSxzLkdSPWZ1bmN0aW9uKGUpe3ZhciB0PXZvaWQgMD09PWU7aWYodCYmKGU9dGhpcy5vZmZzZXQpLCF0aGlzLk9SKXtpZihcIm51bWJlclwiIT10eXBlb2YgZXx8ZSUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBcIitlK1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKGU+Pj49MCk8MHx8ZSsxPnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiAwIDw9IFwiK2UrXCIgKCsxKSA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX12YXIgcj10aGlzLnZpZXcuZ2V0VWludDgoZSk7cmV0dXJuIHQmJih0aGlzLm9mZnNldCs9MSkscn0scy5RUj1mdW5jdGlvbihlLHQpe3ZhciByPXZvaWQgMD09PXQ7aWYociYmKHQ9dGhpcy5vZmZzZXQpLCF0aGlzLk9SKXtpZihcIm51bWJlclwiIT10eXBlb2YgZXx8ZSUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgdmFsdWU6IFwiK2UrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZihlfD0wLFwibnVtYmVyXCIhPXR5cGVvZiB0fHx0JTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IFwiK3QrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZigodD4+Pj0wKTwwfHx0KzA+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IDAgPD0gXCIrdCtcIiAoKzApIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfXQrPTI7dmFyIGk9dGhpcy5idWZmZXIuYnl0ZUxlbmd0aDtyZXR1cm4gdD5pJiZ0aGlzLnJlc2l6ZSgoaSo9Mik+dD9pOnQpLHQtPTIsdGhpcy52aWV3LnNldEludDE2KHQsZSx0aGlzLmtSKSxyJiYodGhpcy5vZmZzZXQrPTIpLHRoaXN9LHMuS1I9cy5RUixzLllSPWZ1bmN0aW9uKGUpe3ZhciB0PXZvaWQgMD09PWU7aWYodCYmKGU9dGhpcy5vZmZzZXQpLCF0aGlzLk9SKXtpZihcIm51bWJlclwiIT10eXBlb2YgZXx8ZSUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBcIitlK1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKGU+Pj49MCk8MHx8ZSsyPnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiAwIDw9IFwiK2UrXCIgKCsyKSA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX12YXIgcj10aGlzLnZpZXcuZ2V0SW50MTYoZSx0aGlzLmtSKTtyZXR1cm4gdCYmKHRoaXMub2Zmc2V0Kz0yKSxyfSxzLnpSPXMuWVIscy5KUj1mdW5jdGlvbihlLHQpe3ZhciByPXZvaWQgMD09PXQ7aWYociYmKHQ9dGhpcy5vZmZzZXQpLCF0aGlzLk9SKXtpZihcIm51bWJlclwiIT10eXBlb2YgZXx8ZSUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgdmFsdWU6IFwiK2UrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZihlPj4+PTAsXCJudW1iZXJcIiE9dHlwZW9mIHR8fHQlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogXCIrdCtcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKCh0Pj4+PTApPDB8fHQrMD50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogMCA8PSBcIit0K1wiICgrMCkgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9dCs9Mjt2YXIgaT10aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoO3JldHVybiB0PmkmJnRoaXMucmVzaXplKChpKj0yKT50P2k6dCksdC09Mix0aGlzLnZpZXcuc2V0VWludDE2KHQsZSx0aGlzLmtSKSxyJiYodGhpcy5vZmZzZXQrPTIpLHRoaXN9LHMuV1I9ZnVuY3Rpb24oZSl7dmFyIHQ9dm9pZCAwPT09ZTtpZih0JiYoZT10aGlzLm9mZnNldCksIXRoaXMuT1Ipe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlfHxlJTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IFwiK2UrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZigoZT4+Pj0wKTwwfHxlKzI+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IDAgPD0gXCIrZStcIiAoKzIpIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfXZhciByPXRoaXMudmlldy5nZXRVaW50MTYoZSx0aGlzLmtSKTtyZXR1cm4gdCYmKHRoaXMub2Zmc2V0Kz0yKSxyfSxzLlhSPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dm9pZCAwPT09dDtpZihyJiYodD10aGlzLm9mZnNldCksIXRoaXMuT1Ipe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlfHxlJTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCB2YWx1ZTogXCIrZStcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKGV8PTAsXCJudW1iZXJcIiE9dHlwZW9mIHR8fHQlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogXCIrdCtcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKCh0Pj4+PTApPDB8fHQrMD50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogMCA8PSBcIit0K1wiICgrMCkgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9dCs9NDt2YXIgaT10aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoO3JldHVybiB0PmkmJnRoaXMucmVzaXplKChpKj0yKT50P2k6dCksdC09NCx0aGlzLnZpZXcuc2V0SW50MzIodCxlLHRoaXMua1IpLHImJih0aGlzLm9mZnNldCs9NCksdGhpc30scy5ZbD1zLlhSLHMuWlI9ZnVuY3Rpb24oZSl7dmFyIHQ9dm9pZCAwPT09ZTtpZih0JiYoZT10aGlzLm9mZnNldCksIXRoaXMuT1Ipe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlfHxlJTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IFwiK2UrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZigoZT4+Pj0wKTwwfHxlKzQ+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IDAgPD0gXCIrZStcIiAoKzQpIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfXZhciByPXRoaXMudmlldy5nZXRJbnQzMihlLHRoaXMua1IpO3JldHVybiB0JiYodGhpcy5vZmZzZXQrPTQpLHJ9LHMuJGw9cy5aUixzLiRSPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dm9pZCAwPT09dDtpZihyJiYodD10aGlzLm9mZnNldCksIXRoaXMuT1Ipe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlfHxlJTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCB2YWx1ZTogXCIrZStcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKGU+Pj49MCxcIm51bWJlclwiIT10eXBlb2YgdHx8dCUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBcIit0K1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKHQ+Pj49MCk8MHx8dCswPnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiAwIDw9IFwiK3QrXCIgKCswKSA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX10Kz00O3ZhciBpPXRoaXMuYnVmZmVyLmJ5dGVMZW5ndGg7cmV0dXJuIHQ+aSYmdGhpcy5yZXNpemUoKGkqPTIpPnQ/aTp0KSx0LT00LHRoaXMudmlldy5zZXRVaW50MzIodCxlLHRoaXMua1IpLHImJih0aGlzLm9mZnNldCs9NCksdGhpc30scy5lYj1mdW5jdGlvbihlKXt2YXIgdD12b2lkIDA9PT1lO2lmKHQmJihlPXRoaXMub2Zmc2V0KSwhdGhpcy5PUil7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGV8fGUlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogXCIrZStcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKChlPj4+PTApPDB8fGUrND50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogMCA8PSBcIitlK1wiICgrNCkgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9dmFyIHI9dGhpcy52aWV3LmdldFVpbnQzMihlLHRoaXMua1IpO3JldHVybiB0JiYodGhpcy5vZmZzZXQrPTQpLHJ9LGUmJihzLnRiPWZ1bmN0aW9uKHQscil7dmFyIGk9dm9pZCAwPT09cjtpZihpJiYocj10aGlzLm9mZnNldCksIXRoaXMuT1Ipe2lmKFwibnVtYmVyXCI9PXR5cGVvZiB0KXQ9ZS5kcCh0KTtlbHNlIGlmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXQ9ZS5ncCh0KTtlbHNlIGlmKCEodCYmdCBpbnN0YW5jZW9mIGUpKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgdmFsdWU6IFwiK3QrXCIgKG5vdCBhbiBpbnRlZ2VyIG9yIExvbmcpXCIpO2lmKFwibnVtYmVyXCIhPXR5cGVvZiByfHxyJTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IFwiK3IrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZigocj4+Pj0wKTwwfHxyKzA+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IDAgPD0gXCIrcitcIiAoKzApIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfVwibnVtYmVyXCI9PXR5cGVvZiB0P3Q9ZS5kcCh0KTpcInN0cmluZ1wiPT10eXBlb2YgdCYmKHQ9ZS5ncCh0KSkscis9ODt2YXIgbj10aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoO3JldHVybiByPm4mJnRoaXMucmVzaXplKChuKj0yKT5yP246ciksci09OCx0aGlzLmtSPyh0aGlzLnZpZXcuc2V0SW50MzIocix0LmxvdywhMCksdGhpcy52aWV3LnNldEludDMyKHIrNCx0LmhpZ2gsITApKToodGhpcy52aWV3LnNldEludDMyKHIsdC5oaWdoLCExKSx0aGlzLnZpZXcuc2V0SW50MzIocis0LHQubG93LCExKSksaSYmKHRoaXMub2Zmc2V0Kz04KSx0aGlzfSxzLnJiPXMudGIscy5pYj1mdW5jdGlvbih0KXt2YXIgcj12b2lkIDA9PT10O2lmKHImJih0PXRoaXMub2Zmc2V0KSwhdGhpcy5PUil7aWYoXCJudW1iZXJcIiE9dHlwZW9mIHR8fHQlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogXCIrdCtcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKCh0Pj4+PTApPDB8fHQrOD50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogMCA8PSBcIit0K1wiICgrOCkgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9dmFyIGk9dGhpcy5rUj9uZXcgZSh0aGlzLnZpZXcuZ2V0SW50MzIodCwhMCksdGhpcy52aWV3LmdldEludDMyKHQrNCwhMCksITEpOm5ldyBlKHRoaXMudmlldy5nZXRJbnQzMih0KzQsITEpLHRoaXMudmlldy5nZXRJbnQzMih0LCExKSwhMSk7cmV0dXJuIHImJih0aGlzLm9mZnNldCs9OCksaX0scy5uYj1zLmliLHMuc2I9ZnVuY3Rpb24odCxyKXt2YXIgaT12b2lkIDA9PT1yO2lmKGkmJihyPXRoaXMub2Zmc2V0KSwhdGhpcy5PUil7aWYoXCJudW1iZXJcIj09dHlwZW9mIHQpdD1lLmRwKHQpO2Vsc2UgaWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpdD1lLmdwKHQpO2Vsc2UgaWYoISh0JiZ0IGluc3RhbmNlb2YgZSkpdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCB2YWx1ZTogXCIrdCtcIiAobm90IGFuIGludGVnZXIgb3IgTG9uZylcIik7aWYoXCJudW1iZXJcIiE9dHlwZW9mIHJ8fHIlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogXCIrcitcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKChyPj4+PTApPDB8fHIrMD50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogMCA8PSBcIityK1wiICgrMCkgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9XCJudW1iZXJcIj09dHlwZW9mIHQ/dD1lLmRwKHQpOlwic3RyaW5nXCI9PXR5cGVvZiB0JiYodD1lLmdwKHQpKSxyKz04O3ZhciBuPXRoaXMuYnVmZmVyLmJ5dGVMZW5ndGg7cmV0dXJuIHI+biYmdGhpcy5yZXNpemUoKG4qPTIpPnI/bjpyKSxyLT04LHRoaXMua1I/KHRoaXMudmlldy5zZXRJbnQzMihyLHQubG93LCEwKSx0aGlzLnZpZXcuc2V0SW50MzIocis0LHQuaGlnaCwhMCkpOih0aGlzLnZpZXcuc2V0SW50MzIocix0LmhpZ2gsITEpLHRoaXMudmlldy5zZXRJbnQzMihyKzQsdC5sb3csITEpKSxpJiYodGhpcy5vZmZzZXQrPTgpLHRoaXN9LHMub2I9ZnVuY3Rpb24odCl7dmFyIHI9dm9pZCAwPT09dDtpZihyJiYodD10aGlzLm9mZnNldCksIXRoaXMuT1Ipe2lmKFwibnVtYmVyXCIhPXR5cGVvZiB0fHx0JTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IFwiK3QrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZigodD4+Pj0wKTwwfHx0Kzg+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IDAgPD0gXCIrdCtcIiAoKzgpIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfXZhciBpPXRoaXMua1I/bmV3IGUodGhpcy52aWV3LmdldEludDMyKHQsITApLHRoaXMudmlldy5nZXRJbnQzMih0KzQsITApLCEwKTpuZXcgZSh0aGlzLnZpZXcuZ2V0SW50MzIodCs0LCExKSx0aGlzLnZpZXcuZ2V0SW50MzIodCwhMSksITApO3JldHVybiByJiYodGhpcy5vZmZzZXQrPTgpLGl9KSxzLmFiPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dm9pZCAwPT09dDtpZihyJiYodD10aGlzLm9mZnNldCksIXRoaXMuT1Ipe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgdmFsdWU6IFwiK2UrXCIgKG5vdCBhIG51bWJlcilcIik7aWYoXCJudW1iZXJcIiE9dHlwZW9mIHR8fHQlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogXCIrdCtcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKCh0Pj4+PTApPDB8fHQrMD50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogMCA8PSBcIit0K1wiICgrMCkgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9dCs9NDt2YXIgaT10aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoO3JldHVybiB0PmkmJnRoaXMucmVzaXplKChpKj0yKT50P2k6dCksdC09NCx0aGlzLnZpZXcuc2V0RmxvYXQzMih0LGUsdGhpcy5rUiksciYmKHRoaXMub2Zmc2V0Kz00KSx0aGlzfSxzLmhiPXMuYWIscy5jYj1mdW5jdGlvbihlKXt2YXIgdD12b2lkIDA9PT1lO2lmKHQmJihlPXRoaXMub2Zmc2V0KSwhdGhpcy5PUil7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGV8fGUlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogXCIrZStcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKChlPj4+PTApPDB8fGUrND50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogMCA8PSBcIitlK1wiICgrNCkgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9dmFyIHI9dGhpcy52aWV3LmdldEZsb2F0MzIoZSx0aGlzLmtSKTtyZXR1cm4gdCYmKHRoaXMub2Zmc2V0Kz00KSxyfSxzLnViPXMuY2Iscy5sYj1mdW5jdGlvbihlLHQpe3ZhciByPXZvaWQgMD09PXQ7aWYociYmKHQ9dGhpcy5vZmZzZXQpLCF0aGlzLk9SKXtpZihcIm51bWJlclwiIT10eXBlb2YgZSl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIHZhbHVlOiBcIitlK1wiIChub3QgYSBudW1iZXIpXCIpO2lmKFwibnVtYmVyXCIhPXR5cGVvZiB0fHx0JTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IFwiK3QrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZigodD4+Pj0wKTwwfHx0KzA+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IDAgPD0gXCIrdCtcIiAoKzApIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfXQrPTg7dmFyIGk9dGhpcy5idWZmZXIuYnl0ZUxlbmd0aDtyZXR1cm4gdD5pJiZ0aGlzLnJlc2l6ZSgoaSo9Mik+dD9pOnQpLHQtPTgsdGhpcy52aWV3LnNldEZsb2F0NjQodCxlLHRoaXMua1IpLHImJih0aGlzLm9mZnNldCs9OCksdGhpc30scy5MUz1zLmxiLHMucGI9ZnVuY3Rpb24oZSl7dmFyIHQ9dm9pZCAwPT09ZTtpZih0JiYoZT10aGlzLm9mZnNldCksIXRoaXMuT1Ipe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlfHxlJTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IFwiK2UrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZigoZT4+Pj0wKTwwfHxlKzg+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IDAgPD0gXCIrZStcIiAoKzgpIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfXZhciByPXRoaXMudmlldy5nZXRGbG9hdDY0KGUsdGhpcy5rUik7cmV0dXJuIHQmJih0aGlzLm9mZnNldCs9OCkscn0scy5zUj1zLnBiLG4uZmI9NSxuLmdiPWZ1bmN0aW9uKGUpe3JldHVybiBlPj4+PTAsZTwxMjg/MTplPDE2Mzg0PzI6ZTwxPDwyMT8zOmU8MTw8Mjg/NDo1fSxuLnZiPWZ1bmN0aW9uKGUpe3JldHVybigoZXw9MCk8PDFeZT4+MzEpPj4+MH0sbi55Yj1mdW5jdGlvbihlKXtyZXR1cm4gZT4+PjFeLSgxJmUpfDB9LHMubWI9ZnVuY3Rpb24oZSx0KXt2YXIgcj12b2lkIDA9PT10O2lmKHImJih0PXRoaXMub2Zmc2V0KSwhdGhpcy5PUil7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGV8fGUlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIHZhbHVlOiBcIitlK1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoZXw9MCxcIm51bWJlclwiIT10eXBlb2YgdHx8dCUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBcIit0K1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKHQ+Pj49MCk8MHx8dCswPnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiAwIDw9IFwiK3QrXCIgKCswKSA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX12YXIgaSxzPW4uZ2IoZSk7dCs9czt2YXIgbz10aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoO3JldHVybiB0Pm8mJnRoaXMucmVzaXplKChvKj0yKT50P286dCksdC09cyx0aGlzLnZpZXcuc2V0VWludDgodCxpPTEyOHxlKSxlPj4+PTAsZT49MTI4PyhpPWU+Pjd8MTI4LHRoaXMudmlldy5zZXRVaW50OCh0KzEsaSksZT49MTYzODQ/KGk9ZT4+MTR8MTI4LHRoaXMudmlldy5zZXRVaW50OCh0KzIsaSksZT49MTw8MjE/KGk9ZT4+MjF8MTI4LHRoaXMudmlldy5zZXRVaW50OCh0KzMsaSksZT49MTw8Mjg/KHRoaXMudmlldy5zZXRVaW50OCh0KzQsZT4+MjgmMTUpLHM9NSk6KHRoaXMudmlldy5zZXRVaW50OCh0KzMsMTI3JmkpLHM9NCkpOih0aGlzLnZpZXcuc2V0VWludDgodCsyLDEyNyZpKSxzPTMpKToodGhpcy52aWV3LnNldFVpbnQ4KHQrMSwxMjcmaSkscz0yKSk6KHRoaXMudmlldy5zZXRVaW50OCh0LDEyNyZpKSxzPTEpLHI/KHRoaXMub2Zmc2V0Kz1zLHRoaXMpOnN9LHMuRWI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5tYihuLnZiKGUpLHQpfSxzLlRiPWZ1bmN0aW9uKGUpe3ZhciB0PXZvaWQgMD09PWU7aWYodCYmKGU9dGhpcy5vZmZzZXQpLCF0aGlzLk9SKXtpZihcIm51bWJlclwiIT10eXBlb2YgZXx8ZSUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBcIitlK1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKGU+Pj49MCk8MHx8ZSsxPnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiAwIDw9IFwiK2UrXCIgKCsxKSA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX12YXIgcixpLG49MCxzPTA7ZG97aWYoaT1lK24sIXRoaXMuT1ImJmk+dGhpcy5DUil7dmFyIG89RXJyb3IoXCJUcnVuY2F0ZWRcIik7dGhyb3cgby5JYj0hMCxvfXI9dGhpcy52aWV3LmdldFVpbnQ4KGkpLG48NSYmKHN8PSgxMjcmcik8PDcqbj4+PjApLCsrbn13aGlsZSgxMjg9PSgxMjgmcikpO3JldHVybiBzfD0wLHQ/KHRoaXMub2Zmc2V0Kz1uLHMpOnt2YWx1ZTpzLGxlbmd0aDpufX0scy53Yj1mdW5jdGlvbihlKXt2YXIgdD10aGlzLlRiKGUpO3JldHVyblwib2JqZWN0XCI9PXR5cGVvZiB0P3QudmFsdWU9bi55Yih0LnZhbHVlKTp0PW4ueWIodCksdH0sZSYmKG4uU2I9MTAsbi5SYj1mdW5jdGlvbih0KXtcIm51bWJlclwiPT10eXBlb2YgdD90PWUuZHAodCk6XCJzdHJpbmdcIj09dHlwZW9mIHQmJih0PWUuZ3AodCkpO3ZhciByPXQuYmIoKT4+PjAsaT10LlBiKDI4KS5iYigpPj4+MCxuPXQuUGIoNTYpLmJiKCk+Pj4wO3JldHVybiAwPT1uPzA9PWk/cjwxNjM4ND9yPDEyOD8xOjI6cjwxPDwyMT8zOjQ6aTwxNjM4ND9pPDEyOD81OjY6aTwxPDwyMT83Ojg6bjwxMjg/OToxMH0sbi5BYj1mdW5jdGlvbih0KXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgdD90PWUuZHAodCwhMSk6XCJzdHJpbmdcIj09dHlwZW9mIHQ/dD1lLmdwKHQsITEpOiExIT09dC5DYiYmKHQ9dC5rYigpKSx0LnNoaWZ0TGVmdCgxKS56ZCh0Ll9iKDYzKSkuT2IoKX0sbi5OYj1mdW5jdGlvbih0KXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgdD90PWUuZHAodCwhMSk6XCJzdHJpbmdcIj09dHlwZW9mIHQ/dD1lLmdwKHQsITEpOiExIT09dC5DYiYmKHQ9dC5rYigpKSx0LlBiKDEpLnpkKHQuRGIoZS5PTkUpLmtiKCkuUnAoKSkua2IoKX0scy5GYj1mdW5jdGlvbih0LHIpe3ZhciBpPXZvaWQgMD09PXI7aWYoaSYmKHI9dGhpcy5vZmZzZXQpLCF0aGlzLk9SKXtpZihcIm51bWJlclwiPT10eXBlb2YgdCl0PWUuZHAodCk7ZWxzZSBpZihcInN0cmluZ1wiPT10eXBlb2YgdCl0PWUuZ3AodCk7ZWxzZSBpZighKHQmJnQgaW5zdGFuY2VvZiBlKSl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIHZhbHVlOiBcIit0K1wiIChub3QgYW4gaW50ZWdlciBvciBMb25nKVwiKTtpZihcIm51bWJlclwiIT10eXBlb2Ygcnx8ciUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBcIityK1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKHI+Pj49MCk8MHx8ciswPnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiAwIDw9IFwiK3IrXCIgKCswKSA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX1cIm51bWJlclwiPT10eXBlb2YgdD90PWUuZHAodCwhMSk6XCJzdHJpbmdcIj09dHlwZW9mIHQ/dD1lLmdwKHQsITEpOiExIT09dC5DYiYmKHQ9dC5rYigpKTt2YXIgcz1uLlJiKHQpLG89dC5iYigpPj4+MCxhPXQuUGIoMjgpLmJiKCk+Pj4wLGg9dC5QYig1NikuYmIoKT4+PjA7cis9czt2YXIgYz10aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoO3N3aXRjaChyPmMmJnRoaXMucmVzaXplKChjKj0yKT5yP2M6ciksci09cyxzKXtjYXNlIDEwOnRoaXMudmlldy5zZXRVaW50OChyKzksaD4+PjcmMSk7Y2FzZSA5OnRoaXMudmlldy5zZXRVaW50OChyKzgsOSE9PXM/MTI4fGg6MTI3JmgpO2Nhc2UgODp0aGlzLnZpZXcuc2V0VWludDgocis3LDghPT1zP2E+Pj4yMXwxMjg6YT4+PjIxJjEyNyk7Y2FzZSA3OnRoaXMudmlldy5zZXRVaW50OChyKzYsNyE9PXM/YT4+PjE0fDEyODphPj4+MTQmMTI3KTtjYXNlIDY6dGhpcy52aWV3LnNldFVpbnQ4KHIrNSw2IT09cz9hPj4+N3wxMjg6YT4+PjcmMTI3KTtjYXNlIDU6dGhpcy52aWV3LnNldFVpbnQ4KHIrNCw1IT09cz8xMjh8YToxMjcmYSk7Y2FzZSA0OnRoaXMudmlldy5zZXRVaW50OChyKzMsNCE9PXM/bz4+PjIxfDEyODpvPj4+MjEmMTI3KTtjYXNlIDM6dGhpcy52aWV3LnNldFVpbnQ4KHIrMiwzIT09cz9vPj4+MTR8MTI4Om8+Pj4xNCYxMjcpO2Nhc2UgMjp0aGlzLnZpZXcuc2V0VWludDgocisxLDIhPT1zP28+Pj43fDEyODpvPj4+NyYxMjcpO2Nhc2UgMTp0aGlzLnZpZXcuc2V0VWludDgociwxIT09cz8xMjh8bzoxMjcmbyl9cmV0dXJuIGk/KHRoaXMub2Zmc2V0Kz1zLHRoaXMpOnN9LHMuTGI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5GYihuLkFiKGUpLHQpfSxzLk1iPWZ1bmN0aW9uKHQpe3ZhciByPXZvaWQgMD09PXQ7aWYociYmKHQ9dGhpcy5vZmZzZXQpLCF0aGlzLk9SKXtpZihcIm51bWJlclwiIT10eXBlb2YgdHx8dCUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBcIit0K1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKHQ+Pj49MCk8MHx8dCsxPnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiAwIDw9IFwiK3QrXCIgKCsxKSA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX12YXIgaT10LG49MCxzPTAsbz0wLGE9MDtpZihhPXRoaXMudmlldy5nZXRVaW50OCh0KyspLG49MTI3JmEsMTI4JmEmJihhPXRoaXMudmlldy5nZXRVaW50OCh0KyspLG58PSgxMjcmYSk8PDcsMTI4JmEmJihhPXRoaXMudmlldy5nZXRVaW50OCh0KyspLG58PSgxMjcmYSk8PDE0LDEyOCZhJiYoYT10aGlzLnZpZXcuZ2V0VWludDgodCsrKSxufD0oMTI3JmEpPDwyMSwxMjgmYSYmKGE9dGhpcy52aWV3LmdldFVpbnQ4KHQrKykscz0xMjcmYSwxMjgmYSYmKGE9dGhpcy52aWV3LmdldFVpbnQ4KHQrKyksc3w9KDEyNyZhKTw8NywxMjgmYSYmKGE9dGhpcy52aWV3LmdldFVpbnQ4KHQrKyksc3w9KDEyNyZhKTw8MTQsMTI4JmEmJihhPXRoaXMudmlldy5nZXRVaW50OCh0KyspLHN8PSgxMjcmYSk8PDIxLDEyOCZhJiYoYT10aGlzLnZpZXcuZ2V0VWludDgodCsrKSxvPTEyNyZhLDEyOCZhJiYoYT10aGlzLnZpZXcuZ2V0VWludDgodCsrKSxvfD0oMTI3JmEpPDw3LDEyOCZhKSkpKSkpKSkpKXRocm93IEVycm9yKFwiQnVmZmVyIG92ZXJydW5cIik7dmFyIGg9ZS5BeShufHM8PDI4LHM+Pj40fG88PDI0LCExKTtyZXR1cm4gcj8odGhpcy5vZmZzZXQ9dCxoKTp7dmFsdWU6aCxsZW5ndGg6dC1pfX0scy5CYj1mdW5jdGlvbih0KXt2YXIgcj10aGlzLk1iKHQpO3JldHVybiByJiZyLnZhbHVlIGluc3RhbmNlb2YgZT9yLnZhbHVlPW4uTmIoci52YWx1ZSk6cj1uLk5iKHIpLHJ9KSxzLnpsPWZ1bmN0aW9uKGUscil7dmFyIGk9dm9pZCAwPT09cjtpJiYocj10aGlzLm9mZnNldCk7dmFyIG4scz1lLmxlbmd0aDtpZighdGhpcy5PUil7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGUpdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBzdHI6IE5vdCBhIHN0cmluZ1wiKTtmb3Iobj0wO248czsrK24paWYoMD09PWUuY2hhckNvZGVBdChuKSl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBzdHI6IENvbnRhaW5zIE5VTEwtY2hhcmFjdGVyc1wiKTtpZihcIm51bWJlclwiIT10eXBlb2Ygcnx8ciUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBcIityK1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKHI+Pj49MCk8MHx8ciswPnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiAwIDw9IFwiK3IrXCIgKCswKSA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX1zPWMuVWIodChlKSlbMV0scis9cysxO3ZhciBvPXRoaXMuYnVmZmVyLmJ5dGVMZW5ndGg7cmV0dXJuIHI+byYmdGhpcy5yZXNpemUoKG8qPTIpPnI/bzpyKSxyLT1zKzEsYy54Yih0KGUpLGZ1bmN0aW9uKGUpe3RoaXMudmlldy5zZXRVaW50OChyKyssZSl9LmJpbmQodGhpcykpLHRoaXMudmlldy5zZXRVaW50OChyKyssMCksaT8odGhpcy5vZmZzZXQ9cix0aGlzKTpzfSxzLnRwPWZ1bmN0aW9uKGUpe3ZhciB0PXZvaWQgMD09PWU7aWYodCYmKGU9dGhpcy5vZmZzZXQpLCF0aGlzLk9SKXtpZihcIm51bWJlclwiIT10eXBlb2YgZXx8ZSUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBcIitlK1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKGU+Pj49MCk8MHx8ZSsxPnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiAwIDw9IFwiK2UrXCIgKCsxKSA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX12YXIgaSxuPWUscz0tMTtyZXR1cm4gYy5IYihmdW5jdGlvbigpe2lmKDA9PT1zKXJldHVybiBudWxsO2lmKGU+PXRoaXMuQ1IpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgcmFuZ2U6IFRydW5jYXRlZCBkYXRhLCBcIitlK1wiIDwgXCIrdGhpcy5DUik7cmV0dXJuIDA9PT0ocz10aGlzLnZpZXcuZ2V0VWludDgoZSsrKSk/bnVsbDpzfS5iaW5kKHRoaXMpLGk9cigpLCEwKSx0Pyh0aGlzLm9mZnNldD1lLGkoKSk6e3FiOmkoKSxsZW5ndGg6ZS1ufX0scy5WYj1mdW5jdGlvbihlLHIpe3ZhciBpPXZvaWQgMD09PXI7aWYoaSYmKHI9dGhpcy5vZmZzZXQpLCF0aGlzLk9SKXtpZihcInN0cmluZ1wiIT10eXBlb2YgZSl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIHN0cjogTm90IGEgc3RyaW5nXCIpO2lmKFwibnVtYmVyXCIhPXR5cGVvZiByfHxyJTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IFwiK3IrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZigocj4+Pj0wKTwwfHxyKzA+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IDAgPD0gXCIrcitcIiAoKzApIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfXZhciBuLHM9cjtuPWMuVWIodChlKSx0aGlzLk9SKVsxXSxyKz00K247dmFyIG89dGhpcy5idWZmZXIuYnl0ZUxlbmd0aDtpZihyPm8mJnRoaXMucmVzaXplKChvKj0yKT5yP286ciksci09NCtuLHRoaXMudmlldy5zZXRVaW50MzIocixuLHRoaXMua1IpLHIrPTQsYy54Yih0KGUpLGZ1bmN0aW9uKGUpe3RoaXMudmlldy5zZXRVaW50OChyKyssZSl9LmJpbmQodGhpcykpLHIhPT1zKzQrbil0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCByYW5nZTogVHJ1bmNhdGVkIGRhdGEsIFwiK3IrXCIgPT0gXCIrKHIrNCtuKSk7cmV0dXJuIGk/KHRoaXMub2Zmc2V0PXIsdGhpcyk6ci1zfSxzLmpiPWZ1bmN0aW9uKGUpe3ZhciB0PXZvaWQgMD09PWU7aWYodCYmKGU9dGhpcy5vZmZzZXQpLCF0aGlzLk9SKXtpZihcIm51bWJlclwiIT10eXBlb2YgZXx8ZSUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBcIitlK1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKGU+Pj49MCk8MHx8ZSs0PnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiAwIDw9IFwiK2UrXCIgKCs0KSA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX12YXIgaSxuPTAscz1lO249dGhpcy52aWV3LmdldFVpbnQzMihlLHRoaXMua1IpLGUrPTQ7dmFyIG8sYT1lK247cmV0dXJuIGMuSGIoZnVuY3Rpb24oKXtyZXR1cm4gZTxhP3RoaXMudmlldy5nZXRVaW50OChlKyspOm51bGx9LmJpbmQodGhpcyksbz1yKCksdGhpcy5PUiksaT1vKCksdD8odGhpcy5vZmZzZXQ9ZSxpKTp7cWI6aSxsZW5ndGg6ZS1zfX0sbi5HYj1cImNcIixuLlFiPVwiYlwiLHMuS2I9ZnVuY3Rpb24oZSxyKXt2YXIgaT12b2lkIDA9PT1yO2lmKGkmJihyPXRoaXMub2Zmc2V0KSwhdGhpcy5PUil7aWYoXCJudW1iZXJcIiE9dHlwZW9mIHJ8fHIlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogXCIrcitcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKChyPj4+PTApPDB8fHIrMD50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogMCA8PSBcIityK1wiICgrMCkgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9dmFyIG4scz1yO249Yy5VYih0KGUpKVsxXSxyKz1uO3ZhciBvPXRoaXMuYnVmZmVyLmJ5dGVMZW5ndGg7cmV0dXJuIHI+byYmdGhpcy5yZXNpemUoKG8qPTIpPnI/bzpyKSxyLT1uLGMueGIodChlKSxmdW5jdGlvbihlKXt0aGlzLnZpZXcuc2V0VWludDgocisrLGUpfS5iaW5kKHRoaXMpKSxpPyh0aGlzLm9mZnNldD1yLHRoaXMpOnItc30scy5Udz1zLktiLG4uWWI9ZnVuY3Rpb24oZSl7cmV0dXJuIGMuVWIodChlKSlbMF19LG4uemI9ZnVuY3Rpb24oZSl7cmV0dXJuIGMuVWIodChlKSlbMV19LHMuSmI9ZnVuY3Rpb24oZSx0LGkpe1wibnVtYmVyXCI9PXR5cGVvZiB0JiYoaT10LHQ9dm9pZCAwKTt2YXIgcz12b2lkIDA9PT1pO2lmKHMmJihpPXRoaXMub2Zmc2V0KSx2b2lkIDA9PT10JiYodD1uLkdiKSwhdGhpcy5PUil7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGV8fGUlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIGxlbmd0aDogXCIrZStcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKGV8PTAsXCJudW1iZXJcIiE9dHlwZW9mIGl8fGklMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogXCIraStcIiAobm90IGFuIGludGVnZXIpXCIpO2lmKChpPj4+PTApPDB8fGkrMD50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIG9mZnNldDogMCA8PSBcIitpK1wiICgrMCkgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9dmFyIG8sYT0wLGg9aTtpZih0PT09bi5HYil7aWYobz1yKCksYy5XYihmdW5jdGlvbigpe3JldHVybiBhPGUmJmk8dGhpcy5DUj90aGlzLnZpZXcuZ2V0VWludDgoaSsrKTpudWxsfS5iaW5kKHRoaXMpLGZ1bmN0aW9uKGUpeysrYSxjLlhiKGUsbyl9LmJpbmQodGhpcykpLGEhPT1lKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIHJhbmdlOiBUcnVuY2F0ZWQgZGF0YSwgXCIrYStcIiA9PSBcIitlKTtyZXR1cm4gcz8odGhpcy5vZmZzZXQ9aSxvKCkpOntxYjpvKCksbGVuZ3RoOmktaH19aWYodD09PW4uUWIpe2lmKCF0aGlzLk9SKXtpZihcIm51bWJlclwiIT10eXBlb2YgaXx8aSUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBcIitpK1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKGk+Pj49MCk8MHx8aStlPnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiAwIDw9IFwiK2krXCIgKCtcIitlK1wiKSA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX12YXIgdT1pK2U7aWYoYy5IYihmdW5jdGlvbigpe3JldHVybiBpPHU/dGhpcy52aWV3LmdldFVpbnQ4KGkrKyk6bnVsbH0uYmluZCh0aGlzKSxvPXIoKSx0aGlzLk9SKSxpIT09dSl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCByYW5nZTogVHJ1bmNhdGVkIGRhdGEsIFwiK2krXCIgPT0gXCIrdSk7cmV0dXJuIHM/KHRoaXMub2Zmc2V0PWksbygpKTp7cWI6bygpLGxlbmd0aDppLWh9fXRocm93IFR5cGVFcnJvcihcIlVuc3VwcG9ydGVkIG1ldHJpY3M6IFwiK3QpfSxzLmZ3PXMuSmIscy5aYj1mdW5jdGlvbihlLHIpe3ZhciBpPXZvaWQgMD09PXI7aWYoaSYmKHI9dGhpcy5vZmZzZXQpLCF0aGlzLk9SKXtpZihcInN0cmluZ1wiIT10eXBlb2YgZSl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIHN0cjogTm90IGEgc3RyaW5nXCIpO2lmKFwibnVtYmVyXCIhPXR5cGVvZiByfHxyJTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IFwiK3IrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZigocj4+Pj0wKTwwfHxyKzA+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IDAgPD0gXCIrcitcIiAoKzApIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfXZhciBzLG8sYT1yO3M9Yy5VYih0KGUpLHRoaXMuT1IpWzFdLG89bi5nYihzKSxyKz1vK3M7dmFyIGg9dGhpcy5idWZmZXIuYnl0ZUxlbmd0aDtpZihyPmgmJnRoaXMucmVzaXplKChoKj0yKT5yP2g6ciksci09bytzLHIrPXRoaXMubWIocyxyKSxjLnhiKHQoZSksZnVuY3Rpb24oZSl7dGhpcy52aWV3LnNldFVpbnQ4KHIrKyxlKX0uYmluZCh0aGlzKSksciE9PWErcytvKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIHJhbmdlOiBUcnVuY2F0ZWQgZGF0YSwgXCIrcitcIiA9PSBcIisocitzK28pKTtyZXR1cm4gaT8odGhpcy5vZmZzZXQ9cix0aGlzKTpyLWF9LHMuJGI9ZnVuY3Rpb24oZSl7dmFyIHQ9dm9pZCAwPT09ZTtpZih0JiYoZT10aGlzLm9mZnNldCksIXRoaXMuT1Ipe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlfHxlJTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IFwiK2UrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZigoZT4+Pj0wKTwwfHxlKzE+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBvZmZzZXQ6IDAgPD0gXCIrZStcIiAoKzEpIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfXZhciBpLG49dGhpcy5UYihlKSxzPWU7ZSs9bi5sZW5ndGgsbj1uLnZhbHVlO3ZhciBvPWUrbixhPXIoKTtyZXR1cm4gYy5IYihmdW5jdGlvbigpe3JldHVybiBlPG8/dGhpcy52aWV3LmdldFVpbnQ4KGUrKyk6bnVsbH0uYmluZCh0aGlzKSxhLHRoaXMuT1IpLGk9YSgpLHQ/KHRoaXMub2Zmc2V0PWUsaSk6e3FiOmksbGVuZ3RoOmUtc319LHMuYXBwZW5kPWZ1bmN0aW9uKGUsdCxyKXtcIm51bWJlclwiIT10eXBlb2YgdCYmXCJzdHJpbmdcIj09dHlwZW9mIHR8fChyPXQsdD12b2lkIDApO3ZhciBpPXZvaWQgMD09PXI7aWYoaSYmKHI9dGhpcy5vZmZzZXQpLCF0aGlzLk9SKXtpZihcIm51bWJlclwiIT10eXBlb2Ygcnx8ciUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBcIityK1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKHI+Pj49MCk8MHx8ciswPnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiAwIDw9IFwiK3IrXCIgKCswKSA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX1lIGluc3RhbmNlb2Ygbnx8KGU9bi53cmFwKGUsdCkpO3ZhciBzPWUuQ1ItZS5vZmZzZXQ7aWYoczw9MClyZXR1cm4gdGhpcztyKz1zO3ZhciBvPXRoaXMuYnVmZmVyLmJ5dGVMZW5ndGg7cmV0dXJuIHI+byYmdGhpcy5yZXNpemUoKG8qPTIpPnI/bzpyKSxyLT1zLG5ldyBVaW50OEFycmF5KHRoaXMuYnVmZmVyLHIpLnNldChuZXcgVWludDhBcnJheShlLmJ1ZmZlcikuc3ViYXJyYXkoZS5vZmZzZXQsZS5DUikpLGUub2Zmc2V0Kz1zLGkmJih0aGlzLm9mZnNldCs9cyksdGhpc30scy5lUD1mdW5jdGlvbihlLHQpe3JldHVybiBlLmFwcGVuZCh0aGlzLHQpLHRoaXN9LHMuYXNzZXJ0PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLk9SPSFlLHRoaXN9LHMudFA9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5idWZmZXIuYnl0ZUxlbmd0aH0scy5jbGVhcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLm9mZnNldD0wLHRoaXMuQ1I9dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCx0aGlzLkFSPS0xLHRoaXN9LHMuY2xvbmU9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IG4oMCx0aGlzLmtSLHRoaXMuT1IpO2lmKGUpe3ZhciByPW5ldyBBcnJheUJ1ZmZlcih0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKTtuZXcgVWludDhBcnJheShyKS5zZXQodGhpcy5idWZmZXIpLHQuYnVmZmVyPXIsdC52aWV3PW5ldyBEYXRhVmlldyhyKX1lbHNlIHQuYnVmZmVyPXRoaXMuYnVmZmVyLHQudmlldz10aGlzLnZpZXc7cmV0dXJuIHQub2Zmc2V0PXRoaXMub2Zmc2V0LHQuQVI9dGhpcy5BUix0LkNSPXRoaXMuQ1IsdH0scy5jb21wYWN0PWZ1bmN0aW9uKGUsdCl7aWYodm9pZCAwPT09ZSYmKGU9dGhpcy5vZmZzZXQpLHZvaWQgMD09PXQmJih0PXRoaXMuQ1IpLCF0aGlzLk9SKXtpZihcIm51bWJlclwiIT10eXBlb2YgZXx8ZSUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgYmVnaW46IE5vdCBhbiBpbnRlZ2VyXCIpO2lmKGU+Pj49MCxcIm51bWJlclwiIT10eXBlb2YgdHx8dCUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgZW5kOiBOb3QgYW4gaW50ZWdlclwiKTtpZih0Pj4+PTAsZTwwfHxlPnR8fHQ+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCByYW5nZTogMCA8PSBcIitlK1wiIDw9IFwiK3QrXCIgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9aWYoMD09PWUmJnQ9PT10aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXJldHVybiB0aGlzO3ZhciByPXQtZTtpZigwPT09cilyZXR1cm4gdGhpcy5idWZmZXI9byx0aGlzLnZpZXc9bnVsbCx0aGlzLkFSPj0wJiYodGhpcy5BUi09ZSksdGhpcy5vZmZzZXQ9MCx0aGlzLkNSPTAsdGhpczt2YXIgaT1uZXcgQXJyYXlCdWZmZXIocik7cmV0dXJuIG5ldyBVaW50OEFycmF5KGkpLnNldChuZXcgVWludDhBcnJheSh0aGlzLmJ1ZmZlcikuc3ViYXJyYXkoZSx0KSksdGhpcy5idWZmZXI9aSx0aGlzLnZpZXc9bmV3IERhdGFWaWV3KGkpLHRoaXMuQVI+PTAmJih0aGlzLkFSLT1lKSx0aGlzLm9mZnNldD0wLHRoaXMuQ1I9cix0aGlzfSxzLnJQPWZ1bmN0aW9uKGUsdCl7aWYodm9pZCAwPT09ZSYmKGU9dGhpcy5vZmZzZXQpLHZvaWQgMD09PXQmJih0PXRoaXMuQ1IpLCF0aGlzLk9SKXtpZihcIm51bWJlclwiIT10eXBlb2YgZXx8ZSUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgYmVnaW46IE5vdCBhbiBpbnRlZ2VyXCIpO2lmKGU+Pj49MCxcIm51bWJlclwiIT10eXBlb2YgdHx8dCUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgZW5kOiBOb3QgYW4gaW50ZWdlclwiKTtpZih0Pj4+PTAsZTwwfHxlPnR8fHQ+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCByYW5nZTogMCA8PSBcIitlK1wiIDw9IFwiK3QrXCIgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9aWYoZT09PXQpcmV0dXJuIG5ldyBuKDAsdGhpcy5rUix0aGlzLk9SKTt2YXIgcj10LWUsaT1uZXcgbihyLHRoaXMua1IsdGhpcy5PUik7cmV0dXJuIGkub2Zmc2V0PTAsaS5DUj1yLGkuQVI+PTAmJihpLkFSLT1lKSx0aGlzLkFwKGksMCxlLHQpLGl9LHMuQXA9ZnVuY3Rpb24oZSx0LHIsaSl7dmFyIHMsbztpZighdGhpcy5PUiYmIW4uTFIoZSkpdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCB0YXJnZXQ6IE5vdCBhIEJ5dGVCdWZmZXJcIik7aWYodD0obz12b2lkIDA9PT10KT9lLm9mZnNldDowfHQscj0ocz12b2lkIDA9PT1yKT90aGlzLm9mZnNldDowfHIsaT12b2lkIDA9PT1pP3RoaXMuQ1I6MHxpLHQ8MHx8dD5lLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIHRhcmdldCByYW5nZTogMCA8PSBcIit0K1wiIDw9IFwiK2UuYnVmZmVyLmJ5dGVMZW5ndGgpO2lmKHI8MHx8aT50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIHNvdXJjZSByYW5nZTogMCA8PSBcIityK1wiIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpO3ZhciBhPWktcjtyZXR1cm4gMD09PWE/ZTooZS5pUCh0K2EpLG5ldyBVaW50OEFycmF5KGUuYnVmZmVyKS5zZXQobmV3IFVpbnQ4QXJyYXkodGhpcy5idWZmZXIpLnN1YmFycmF5KHIsaSksdCkscyYmKHRoaXMub2Zmc2V0Kz1hKSxvJiYoZS5vZmZzZXQrPWEpLHRoaXMpfSxzLmlQPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuYnVmZmVyLmJ5dGVMZW5ndGg7cmV0dXJuIHQ8ZT90aGlzLnJlc2l6ZSgodCo9Mik+ZT90OmUpOnRoaXN9LHMuZmlsbD1mdW5jdGlvbihlLHQscil7dmFyIGk9dm9pZCAwPT09dDtpZihpJiYodD10aGlzLm9mZnNldCksXCJzdHJpbmdcIj09dHlwZW9mIGUmJmUubGVuZ3RoPjAmJihlPWUuY2hhckNvZGVBdCgwKSksdm9pZCAwPT09dCYmKHQ9dGhpcy5vZmZzZXQpLHZvaWQgMD09PXImJihyPXRoaXMuQ1IpLCF0aGlzLk9SKXtpZihcIm51bWJlclwiIT10eXBlb2YgZXx8ZSUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgdmFsdWU6IFwiK2UrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZihlfD0wLFwibnVtYmVyXCIhPXR5cGVvZiB0fHx0JTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBiZWdpbjogTm90IGFuIGludGVnZXJcIik7aWYodD4+Pj0wLFwibnVtYmVyXCIhPXR5cGVvZiByfHxyJTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBlbmQ6IE5vdCBhbiBpbnRlZ2VyXCIpO2lmKHI+Pj49MCx0PDB8fHQ+cnx8cj50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIHJhbmdlOiAwIDw9IFwiK3QrXCIgPD0gXCIrcitcIiA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX1pZih0Pj1yKXJldHVybiB0aGlzO2Zvcig7dDxyOyl0aGlzLnZpZXcuc2V0VWludDgodCsrLGUpO3JldHVybiBpJiYodGhpcy5vZmZzZXQ9dCksdGhpc30scy5KbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLkNSPXRoaXMub2Zmc2V0LHRoaXMub2Zmc2V0PTAsdGhpc30scy5tYXJrPWZ1bmN0aW9uKGUpe2lmKGU9dm9pZCAwPT09ZT90aGlzLm9mZnNldDplLCF0aGlzLk9SKXtpZihcIm51bWJlclwiIT10eXBlb2YgZXx8ZSUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBcIitlK1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKGU+Pj49MCk8MHx8ZSswPnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiAwIDw9IFwiK2UrXCIgKCswKSA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX1yZXR1cm4gdGhpcy5BUj1lLHRoaXN9LHMub3JkZXI9ZnVuY3Rpb24oZSl7aWYoIXRoaXMuT1ImJlwiYm9vbGVhblwiIT10eXBlb2YgZSl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIGxpdHRsZUVuZGlhbjogTm90IGEgYm9vbGVhblwiKTtyZXR1cm4gdGhpcy5rUj0hIWUsdGhpc30scy5uUD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5rUj12b2lkIDA9PT1lfHwhIWUsdGhpc30scy5zUD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5rUj12b2lkIDAhPT1lJiYhZSx0aGlzfSxzLm9QPWZ1bmN0aW9uKGUsdCxyKXtcIm51bWJlclwiIT10eXBlb2YgdCYmXCJzdHJpbmdcIj09dHlwZW9mIHR8fChyPXQsdD12b2lkIDApO3ZhciBpPXZvaWQgMD09PXI7aWYoaSYmKHI9dGhpcy5vZmZzZXQpLCF0aGlzLk9SKXtpZihcIm51bWJlclwiIT10eXBlb2Ygcnx8ciUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBcIityK1wiIChub3QgYW4gaW50ZWdlcilcIik7aWYoKHI+Pj49MCk8MHx8ciswPnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiAwIDw9IFwiK3IrXCIgKCswKSA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX1lIGluc3RhbmNlb2Ygbnx8KGU9bi53cmFwKGUsdCkpO3ZhciBzPWUuQ1ItZS5vZmZzZXQ7aWYoczw9MClyZXR1cm4gdGhpczt2YXIgbyxhPXMtcjtpZihhPjApe3ZhciBoPW5ldyBBcnJheUJ1ZmZlcih0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoK2EpO289bmV3IFVpbnQ4QXJyYXkoaCksby5zZXQobmV3IFVpbnQ4QXJyYXkodGhpcy5idWZmZXIpLnN1YmFycmF5KHIsdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCkscyksdGhpcy5idWZmZXI9aCx0aGlzLnZpZXc9bmV3IERhdGFWaWV3KGgpLHRoaXMub2Zmc2V0Kz1hLHRoaXMuQVI+PTAmJih0aGlzLkFSKz1hKSx0aGlzLkNSKz1hLHIrPWF9ZWxzZSBvPW5ldyBVaW50OEFycmF5KHRoaXMuYnVmZmVyKTtyZXR1cm4gby5zZXQobmV3IFVpbnQ4QXJyYXkoZS5idWZmZXIpLnN1YmFycmF5KGUub2Zmc2V0LGUuQ1IpLHItcyksZS5vZmZzZXQ9ZS5DUixpJiYodGhpcy5vZmZzZXQtPXMpLHRoaXN9LHMuYVA9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5vUCh0aGlzLHQpLHRoaXN9LHMuaFA9ZnVuY3Rpb24oZSl7XCJmdW5jdGlvblwiIT10eXBlb2YgZSYmKGU9Y29uc29sZS5sb2cuYmluZChjb25zb2xlKSksZSh0aGlzLnRvU3RyaW5nKCkrXCJcXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXFxuXCIrdGhpcy5jUCghMCkpfSxzLnVQPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuQ1ItdGhpcy5vZmZzZXR9LHMucmVzZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5BUj49MD8odGhpcy5vZmZzZXQ9dGhpcy5BUix0aGlzLkFSPS0xKTp0aGlzLm9mZnNldD0wLHRoaXN9LHMucmVzaXplPWZ1bmN0aW9uKGUpe2lmKCF0aGlzLk9SKXtpZihcIm51bWJlclwiIT10eXBlb2YgZXx8ZSUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgY2FwYWNpdHk6IFwiK2UrXCIgKG5vdCBhbiBpbnRlZ2VyKVwiKTtpZigoZXw9MCk8MCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBjYXBhY2l0eTogMCA8PSBcIitlKX1pZih0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoPGUpe3ZhciB0PW5ldyBBcnJheUJ1ZmZlcihlKTtuZXcgVWludDhBcnJheSh0KS5zZXQobmV3IFVpbnQ4QXJyYXkodGhpcy5idWZmZXIpKSx0aGlzLmJ1ZmZlcj10LHRoaXMudmlldz1uZXcgRGF0YVZpZXcodCl9cmV0dXJuIHRoaXN9LHMucmV2ZXJzZT1mdW5jdGlvbihlLHQpe2lmKHZvaWQgMD09PWUmJihlPXRoaXMub2Zmc2V0KSx2b2lkIDA9PT10JiYodD10aGlzLkNSKSwhdGhpcy5PUil7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGV8fGUlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIGJlZ2luOiBOb3QgYW4gaW50ZWdlclwiKTtpZihlPj4+PTAsXCJudW1iZXJcIiE9dHlwZW9mIHR8fHQlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIGVuZDogTm90IGFuIGludGVnZXJcIik7aWYodD4+Pj0wLGU8MHx8ZT50fHx0PnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgcmFuZ2U6IDAgPD0gXCIrZStcIiA8PSBcIit0K1wiIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfXJldHVybiBlPT09dD90aGlzOihBcnJheS5wcm90b3R5cGUucmV2ZXJzZS5jYWxsKG5ldyBVaW50OEFycmF5KHRoaXMuYnVmZmVyKS5zdWJhcnJheShlLHQpKSx0aGlzLnZpZXc9bmV3IERhdGFWaWV3KHRoaXMuYnVmZmVyKSx0aGlzKX0scy5kdz1mdW5jdGlvbihlKXtpZighdGhpcy5PUil7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGV8fGUlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIGxlbmd0aDogXCIrZStcIiAobm90IGFuIGludGVnZXIpXCIpO2V8PTB9dmFyIHQ9dGhpcy5vZmZzZXQrZTtpZighdGhpcy5PUiYmKHQ8MHx8dD50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKSl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCBsZW5ndGg6IDAgPD0gXCIrdGhpcy5vZmZzZXQrXCIgKyBcIitlK1wiIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpO3JldHVybiB0aGlzLm9mZnNldD10LHRoaXN9LHMuc2xpY2U9ZnVuY3Rpb24oZSx0KXtpZih2b2lkIDA9PT1lJiYoZT10aGlzLm9mZnNldCksdm9pZCAwPT09dCYmKHQ9dGhpcy5DUiksIXRoaXMuT1Ipe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlfHxlJTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBiZWdpbjogTm90IGFuIGludGVnZXJcIik7aWYoZT4+Pj0wLFwibnVtYmVyXCIhPXR5cGVvZiB0fHx0JTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBlbmQ6IE5vdCBhbiBpbnRlZ2VyXCIpO2lmKHQ+Pj49MCxlPDB8fGU+dHx8dD50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIHJhbmdlOiAwIDw9IFwiK2UrXCIgPD0gXCIrdCtcIiA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX12YXIgcj10aGlzLmNsb25lKCk7cmV0dXJuIHIub2Zmc2V0PWUsci5DUj10LHJ9LHMubFA9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5vZmZzZXQscj10aGlzLkNSO2lmKHQ+cil7dmFyIGk9dDt0PXIscj1pfWlmKCF0aGlzLk9SKXtpZihcIm51bWJlclwiIT10eXBlb2YgdHx8dCUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgb2Zmc2V0OiBOb3QgYW4gaW50ZWdlclwiKTtpZih0Pj4+PTAsXCJudW1iZXJcIiE9dHlwZW9mIHJ8fHIlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIGxpbWl0OiBOb3QgYW4gaW50ZWdlclwiKTtpZihyPj4+PTAsdDwwfHx0PnJ8fHI+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCByYW5nZTogMCA8PSBcIit0K1wiIDw9IFwiK3IrXCIgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9aWYoIWUmJjA9PT10JiZyPT09dGhpcy5idWZmZXIuYnl0ZUxlbmd0aClyZXR1cm4gdGhpcy5idWZmZXI7aWYodD09PXIpcmV0dXJuIG87dmFyIG49bmV3IEFycmF5QnVmZmVyKHItdCk7cmV0dXJuIG5ldyBVaW50OEFycmF5KG4pLnNldChuZXcgVWludDhBcnJheSh0aGlzLmJ1ZmZlcikuc3ViYXJyYXkodCxyKSwwKSxufSxzLnBuPXMubFAscy50b1N0cmluZz1mdW5jdGlvbihlLHQscil7aWYodm9pZCAwPT09ZSlyZXR1cm5cIkJ5dGVCdWZmZXJBQihvZmZzZXQ9XCIrdGhpcy5vZmZzZXQrXCIsbWFya2VkT2Zmc2V0PVwiK3RoaXMuQVIrXCIsbGltaXQ9XCIrdGhpcy5DUitcIixjYXBhY2l0eT1cIit0aGlzLnRQKCkrXCIpXCI7c3dpdGNoKFwibnVtYmVyXCI9PXR5cGVvZiBlJiYoZT1cInV0ZjhcIix0PWUscj10KSxlKXtjYXNlXCJ1dGY4XCI6cmV0dXJuIHRoaXMucFAodCxyKTtjYXNlXCJiYXNlNjRcIjpyZXR1cm4gdGhpcy5mUCh0LHIpO2Nhc2VcImhleFwiOnJldHVybiB0aGlzLmRQKHQscik7Y2FzZVwiYmluYXJ5XCI6cmV0dXJuIHRoaXMuZ1AodCxyKTtjYXNlXCJkZWJ1Z1wiOnJldHVybiB0aGlzLmNQKCk7Y2FzZVwiY29sdW1uc1wiOnJldHVybiB0aGlzLnZQKCk7ZGVmYXVsdDp0aHJvdyBFcnJvcihcIlVuc3VwcG9ydGVkIGVuY29kaW5nOiBcIitlKX19O3ZhciBoPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPXt9LHQ9WzY1LDY2LDY3LDY4LDY5LDcwLDcxLDcyLDczLDc0LDc1LDc2LDc3LDc4LDc5LDgwLDgxLDgyLDgzLDg0LDg1LDg2LDg3LDg4LDg5LDkwLDk3LDk4LDk5LDEwMCwxMDEsMTAyLDEwMywxMDQsMTA1LDEwNiwxMDcsMTA4LDEwOSwxMTAsMTExLDExMiwxMTMsMTE0LDExNSwxMTYsMTE3LDExOCwxMTksMTIwLDEyMSwxMjIsNDgsNDksNTAsNTEsNTIsNTMsNTQsNTUsNTYsNTcsNDMsNDddLHI9W10saT0wLG49dC5sZW5ndGg7aTxuOysraSlyW3RbaV1dPWk7cmV0dXJuIGUuZW5jb2RlPWZ1bmN0aW9uKGUscil7Zm9yKHZhciBpLG47bnVsbCE9PShpPWUoKSk7KXIodFtpPj4yJjYzXSksbj0oMyZpKTw8NCxudWxsIT09KGk9ZSgpKT8obnw9aT4+NCYxNSxyKHRbNjMmKG58aT4+NCYxNSldKSxuPSgxNSZpKTw8MixudWxsIT09KGk9ZSgpKT8ocih0WzYzJihufGk+PjYmMyldKSxyKHRbNjMmaV0pKToocih0WzYzJm5dKSxyKDYxKSkpOihyKHRbNjMmbl0pLHIoNjEpLHIoNjEpKX0sZS5kZWNvZGU9ZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBpKGUpe3Rocm93IEVycm9yKFwiSWxsZWdhbCBjaGFyYWN0ZXIgY29kZTogXCIrZSl9Zm9yKHZhciBuLHMsbztudWxsIT09KG49ZSgpKTspaWYocz1yW25dLHZvaWQgMD09PXMmJmkobiksbnVsbCE9PShuPWUoKSkmJihvPXJbbl0sdm9pZCAwPT09byYmaShuKSx0KHM8PDI+Pj4wfCg0OCZvKT4+NCksbnVsbCE9PShuPWUoKSkpKXtpZih2b2lkIDA9PT0ocz1yW25dKSl7aWYoNjE9PT1uKWJyZWFrO2kobil9aWYodCgoMTUmbyk8PDQ+Pj4wfCg2MCZzKT4+MiksbnVsbCE9PShuPWUoKSkpe2lmKHZvaWQgMD09PShvPXJbbl0pKXtpZig2MT09PW4pYnJlYWs7aShuKX10KCgzJnMpPDw2Pj4+MHxvKX19fSxlLnRlc3Q9ZnVuY3Rpb24oZSl7cmV0dXJuL14oPzpbQS1aYS16MC05K1xcL117NH0pKig/OltBLVphLXowLTkrXFwvXXsyfT09fFtBLVphLXowLTkrXFwvXXszfT0pPyQvLnRlc3QoZSl9LGV9KCk7cy5mUD1mdW5jdGlvbihlLHQpe2lmKHZvaWQgMD09PWUmJihlPXRoaXMub2Zmc2V0KSx2b2lkIDA9PT10JiYodD10aGlzLkNSKSwhdGhpcy5PUil7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGV8fGUlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIGJlZ2luOiBOb3QgYW4gaW50ZWdlclwiKTtpZihlPj4+PTAsXCJudW1iZXJcIiE9dHlwZW9mIHR8fHQlMSE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIGVuZDogTm90IGFuIGludGVnZXJcIik7aWYodD4+Pj0wLGU8MHx8ZT50fHx0PnRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgcmFuZ2U6IDAgPD0gXCIrZStcIiA8PSBcIit0K1wiIDw9IFwiK3RoaXMuYnVmZmVyLmJ5dGVMZW5ndGgpfXZhciBpO3JldHVybiBoLmVuY29kZShmdW5jdGlvbigpe3JldHVybiBlPHQ/dGhpcy52aWV3LmdldFVpbnQ4KGUrKyk6bnVsbH0uYmluZCh0aGlzKSxpPXIoKSksaSgpfSxuLk1SPWZ1bmN0aW9uKGUscixpKXtpZighaSl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGUpdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBzdHI6IE5vdCBhIHN0cmluZ1wiKTtpZihlLmxlbmd0aCU0IT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgc3RyOiBMZW5ndGggbm90IGEgbXVsdGlwbGUgb2YgNFwiKX12YXIgcz1uZXcgbihlLmxlbmd0aC80KjMscixpKSxvPTA7cmV0dXJuIGguZGVjb2RlKHQoZSksZnVuY3Rpb24oZSl7cy52aWV3LnNldFVpbnQ4KG8rKyxlKX0pLHMuQ1I9byxzfSxuLmJ0b2E9ZnVuY3Rpb24oZSl7cmV0dXJuIG4uVVIoZSkuZlAoKX0sbi5hdG9iPWZ1bmN0aW9uKGUpe3JldHVybiBuLk1SKGUpLmdQKCl9LHMuZ1A9ZnVuY3Rpb24oZSx0KXtpZihlPXZvaWQgMD09PWU/dGhpcy5vZmZzZXQ6ZSx0PXZvaWQgMD09PXQ/dGhpcy5DUjp0LCF0aGlzLk9SKXtpZihcIm51bWJlclwiIT10eXBlb2YgZXx8ZSUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgYmVnaW46IE5vdCBhbiBpbnRlZ2VyXCIpO2lmKGU+Pj49MCxcIm51bWJlclwiIT10eXBlb2YgdHx8dCUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgZW5kOiBOb3QgYW4gaW50ZWdlclwiKTtpZih0Pj4+PTAsZTwwfHxlPnR8fHQ+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCByYW5nZTogMCA8PSBcIitlK1wiIDw9IFwiK3QrXCIgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9aWYoZT09PXQpcmV0dXJuXCJcIjtmb3IodmFyIHI9W10saT1bXTtlPHQ7KXIucHVzaCh0aGlzLnZpZXcuZ2V0VWludDgoZSsrKSksci5sZW5ndGg+PTEwMjQmJihpLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcscikpLHI9W10pO3JldHVybiBpLmpvaW4oXCJcIikrU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcscil9LG4uVVI9ZnVuY3Rpb24oZSx0LHIpe2lmKCFyJiZcInN0cmluZ1wiIT10eXBlb2YgZSl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIHN0cjogTm90IGEgc3RyaW5nXCIpO2Zvcih2YXIgaSxzPTAsbz1lLmxlbmd0aCxhPW5ldyBuKG8sdCxyKTtzPG87KXtpZihpPWUuY2hhckNvZGVBdChzKSwhciYmaT4yNTUpdGhyb3cgUmFuZ2VFcnJvcihcIklsbGVnYWwgY2hhckNvZGUgYXQgXCIrcytcIjogMCA8PSBcIitpK1wiIDw9IDI1NVwiKTthLnZpZXcuc2V0VWludDgocysrLGkpfXJldHVybiBhLkNSPW8sYX0scy5jUD1mdW5jdGlvbihlKXtmb3IodmFyIHQscj0tMSxpPXRoaXMuYnVmZmVyLmJ5dGVMZW5ndGgsbj1cIlwiLHM9XCJcIixvPVwiXCI7cjxpOyl7aWYoLTEhPT1yJiYodD10aGlzLnZpZXcuZ2V0VWludDgociksbis9dDwxNj9cIjBcIit0LnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpOnQudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCksZSYmKHMrPXQ+MzImJnQ8MTI3P1N0cmluZy5mcm9tQ2hhckNvZGUodCk6XCIuXCIpKSwrK3IsZSYmcj4wJiZyJTE2PT0wJiZyIT09aSl7Zm9yKDtuLmxlbmd0aDw1MTspbis9XCIgXCI7bys9bitzK1wiXFxuXCIsbj1zPVwiXCJ9cj09PXRoaXMub2Zmc2V0JiZyPT09dGhpcy5DUj9uKz1yPT09dGhpcy5BUj9cIiFcIjpcInxcIjpyPT09dGhpcy5vZmZzZXQ/bis9cj09PXRoaXMuQVI/XCJbXCI6XCI8XCI6cj09PXRoaXMuQ1I/bis9cj09PXRoaXMuQVI/XCJdXCI6XCI+XCI6bis9cj09PXRoaXMuQVI/XCInXCI6ZXx8MCE9PXImJnIhPT1pP1wiIFwiOlwiXCJ9aWYoZSYmXCIgXCIhPT1uKXtmb3IoO24ubGVuZ3RoPDUxOyluKz1cIiBcIjtvKz1uK3MrXCJcXG5cIn1yZXR1cm4gZT9vOm59LG4uSFI9ZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgaSxzLG89ZS5sZW5ndGgsYT1uZXcgbigobysxKS8zfDAsdCxyKSxoPTAsYz0wLHU9ITEsbD0hMSxwPSExLGY9ITEsZD0hMTtoPG87KXtzd2l0Y2goaT1lLmNoYXJBdChoKyspKXtjYXNlXCIhXCI6aWYoIXIpe2lmKGx8fHB8fGYpe2Q9ITA7YnJlYWt9bD1wPWY9ITB9YS5vZmZzZXQ9YS5BUj1hLkNSPWMsdT0hMTticmVhaztjYXNlXCJ8XCI6aWYoIXIpe2lmKGx8fGYpe2Q9ITA7YnJlYWt9bD1mPSEwfWEub2Zmc2V0PWEuQ1I9Yyx1PSExO2JyZWFrO2Nhc2VcIltcIjppZighcil7aWYobHx8cCl7ZD0hMDticmVha31sPXA9ITB9YS5vZmZzZXQ9YS5BUj1jLHU9ITE7YnJlYWs7Y2FzZVwiPFwiOmlmKCFyKXtpZihsKXtkPSEwO2JyZWFrfWw9ITB9YS5vZmZzZXQ9Yyx1PSExO2JyZWFrO2Nhc2VcIl1cIjppZighcil7aWYoZnx8cCl7ZD0hMDticmVha31mPXA9ITB9YS5DUj1hLkFSPWMsdT0hMTticmVhaztjYXNlXCI+XCI6aWYoIXIpe2lmKGYpe2Q9ITA7YnJlYWt9Zj0hMH1hLkNSPWMsdT0hMTticmVhaztjYXNlXCInXCI6aWYoIXIpe2lmKHApe2Q9ITA7YnJlYWt9cD0hMH1hLkFSPWMsdT0hMTticmVhaztjYXNlXCIgXCI6dT0hMTticmVhaztkZWZhdWx0OmlmKCFyJiZ1KXtkPSEwO2JyZWFrfWlmKHM9cGFyc2VJbnQoaStlLmNoYXJBdChoKyspLDE2KSwhciYmKGlzTmFOKHMpfHxzPDB8fHM+MjU1KSl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIHN0cjogTm90IGEgZGVidWcgZW5jb2RlZCBzdHJpbmdcIik7YS52aWV3LnNldFVpbnQ4KGMrKyxzKSx1PSEwfWlmKGQpdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBzdHI6IEludmFsaWQgc3ltYm9sIGF0IFwiK2gpfWlmKCFyKXtpZighbHx8IWYpdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBzdHI6IE1pc3Npbmcgb2Zmc2V0IG9yIGxpbWl0XCIpO2lmKGM8YS5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIHN0cjogTm90IGEgZGVidWcgZW5jb2RlZCBzdHJpbmcgKGlzIGl0IGhleD8pIFwiK2MrXCIgPCBcIitvKX1yZXR1cm4gYX0scy5kUD1mdW5jdGlvbihlLHQpe2lmKGU9dm9pZCAwPT09ZT90aGlzLm9mZnNldDplLHQ9dm9pZCAwPT09dD90aGlzLkNSOnQsIXRoaXMuT1Ipe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlfHxlJTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBiZWdpbjogTm90IGFuIGludGVnZXJcIik7aWYoZT4+Pj0wLFwibnVtYmVyXCIhPXR5cGVvZiB0fHx0JTEhPTApdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBlbmQ6IE5vdCBhbiBpbnRlZ2VyXCIpO2lmKHQ+Pj49MCxlPDB8fGU+dHx8dD50aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIHJhbmdlOiAwIDw9IFwiK2UrXCIgPD0gXCIrdCtcIiA8PSBcIit0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKX1mb3IodmFyIHIsaT1uZXcgQXJyYXkodC1lKTtlPHQ7KXI9dGhpcy52aWV3LmdldFVpbnQ4KGUrKykscjwxNj9pLnB1c2goXCIwXCIsci50b1N0cmluZygxNikpOmkucHVzaChyLnRvU3RyaW5nKDE2KSk7cmV0dXJuIGkuam9pbihcIlwiKX0sbi5CUj1mdW5jdGlvbihlLHQscil7aWYoIXIpe2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgc3RyOiBOb3QgYSBzdHJpbmdcIik7aWYoZS5sZW5ndGglMiE9MCl0aHJvdyBUeXBlRXJyb3IoXCJJbGxlZ2FsIHN0cjogTGVuZ3RoIG5vdCBhIG11bHRpcGxlIG9mIDJcIil9Zm9yKHZhciBpLHM9ZS5sZW5ndGgsbz1uZXcgbihzLzJ8MCx0KSxhPTAsaD0wO2E8czthKz0yKXtpZihpPXBhcnNlSW50KGUuc3Vic3RyaW5nKGEsYSsyKSwxNiksIXImJighaXNGaW5pdGUoaSl8fGk8MHx8aT4yNTUpKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgc3RyOiBDb250YWlucyBub24taGV4IGNoYXJhY3RlcnNcIik7by52aWV3LnNldFVpbnQ4KGgrKyxpKX1yZXR1cm4gby5DUj1oLG99O3ZhciBjPWZ1bmN0aW9uKCl7dmFyIGU9e307cmV0dXJuIGUueVA9MTExNDExMSxlLm1QPWZ1bmN0aW9uKGUsdCl7dmFyIHI9bnVsbDtmb3IoXCJudW1iZXJcIj09dHlwZW9mIGUmJihyPWUsZT1mdW5jdGlvbigpe3JldHVybiBudWxsfSk7bnVsbCE9PXJ8fG51bGwhPT0ocj1lKCkpOylyPDEyOD90KDEyNyZyKTpyPDIwNDg/KHQocj4+NiYzMXwxOTIpLHQoNjMmcnwxMjgpKTpyPDY1NTM2Pyh0KHI+PjEyJjE1fDIyNCksdChyPj42JjYzfDEyOCksdCg2MyZyfDEyOCkpOih0KHI+PjE4Jjd8MjQwKSx0KHI+PjEyJjYzfDEyOCksdChyPj42JjYzfDEyOCksdCg2MyZyfDEyOCkpLHI9bnVsbH0sZS5XYj1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcixpLG4scyxvPWZ1bmN0aW9uKGUpe2U9ZS5zbGljZSgwLGUuaW5kZXhPZihudWxsKSk7dmFyIHQ9RXJyb3IoZS50b1N0cmluZygpKTt0aHJvdyB0Lm5hbWU9XCJUcnVuY2F0ZWRFcnJvclwiLHQuSG49ZSx0fTtudWxsIT09KHI9ZSgpKTspaWYoMD09KDEyOCZyKSl0KHIpO2Vsc2UgaWYoMTkyPT0oMjI0JnIpKW51bGw9PT0oaT1lKCkpJiZvKFtyLGldKSx0KCgzMSZyKTw8Nnw2MyZpKTtlbHNlIGlmKDIyND09KDI0MCZyKSkobnVsbD09PShpPWUoKSl8fG51bGw9PT0obj1lKCkpKSYmbyhbcixpLG5dKSx0KCgxNSZyKTw8MTJ8KDYzJmkpPDw2fDYzJm4pO2Vsc2V7aWYoMjQwIT0oMjQ4JnIpKXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIHN0YXJ0aW5nIGJ5dGU6IFwiK3IpOyhudWxsPT09KGk9ZSgpKXx8bnVsbD09PShuPWUoKSl8fG51bGw9PT0ocz1lKCkpKSYmbyhbcixpLG4sc10pLHQoKDcmcik8PDE4fCg2MyZpKTw8MTJ8KDYzJm4pPDw2fDYzJnMpfX0sZS5FUD1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcixpPW51bGw7Oyl7aWYobnVsbD09PShyPW51bGwhPT1pP2k6ZSgpKSlicmVhaztyPj01NTI5NiYmcjw9NTczNDMmJm51bGwhPT0oaT1lKCkpJiZpPj01NjMyMCYmaTw9NTczNDM/KHQoMTAyNCooci01NTI5NikraS01NjMyMCs2NTUzNiksaT1udWxsKTp0KHIpfW51bGwhPT1pJiZ0KGkpfSxlLlhiPWZ1bmN0aW9uKGUsdCl7dmFyIHI9bnVsbDtmb3IoXCJudW1iZXJcIj09dHlwZW9mIGUmJihyPWUsZT1mdW5jdGlvbigpe3JldHVybiBudWxsfSk7bnVsbCE9PXJ8fG51bGwhPT0ocj1lKCkpOylyPD02NTUzNT90KHIpOihyLT02NTUzNix0KDU1Mjk2KyhyPj4xMCkpLHQociUxMDI0KzU2MzIwKSkscj1udWxsfSxlLnhiPWZ1bmN0aW9uKHQscil7ZS5FUCh0LGZ1bmN0aW9uKHQpe2UubVAodCxyKX0pfSxlLkhiPWZ1bmN0aW9uKHQscil7ZS5XYih0LGZ1bmN0aW9uKHQpe2UuWGIodCxyKX0pfSxlLlRQPWZ1bmN0aW9uKGUpe3JldHVybiBlPDEyOD8xOmU8MjA0OD8yOmU8NjU1MzY/Mzo0fSxlLklQPWZ1bmN0aW9uKHQpe2Zvcih2YXIgcixpPTA7bnVsbCE9PShyPXQoKSk7KWkrPWUuVFAocik7cmV0dXJuIGl9LGUuVWI9ZnVuY3Rpb24odCl7dmFyIHI9MCxpPTA7cmV0dXJuIGUuRVAodCxmdW5jdGlvbih0KXsrK3IsaSs9ZS5UUCh0KX0pLFtyLGldfSxlfSgpO3JldHVybiBzLnBQPWZ1bmN0aW9uKGUsdCl7aWYodm9pZCAwPT09ZSYmKGU9dGhpcy5vZmZzZXQpLHZvaWQgMD09PXQmJih0PXRoaXMuQ1IpLCF0aGlzLk9SKXtpZihcIm51bWJlclwiIT10eXBlb2YgZXx8ZSUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgYmVnaW46IE5vdCBhbiBpbnRlZ2VyXCIpO2lmKGU+Pj49MCxcIm51bWJlclwiIT10eXBlb2YgdHx8dCUxIT0wKXRocm93IFR5cGVFcnJvcihcIklsbGVnYWwgZW5kOiBOb3QgYW4gaW50ZWdlclwiKTtpZih0Pj4+PTAsZTwwfHxlPnR8fHQ+dGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl0aHJvdyBSYW5nZUVycm9yKFwiSWxsZWdhbCByYW5nZTogMCA8PSBcIitlK1wiIDw9IFwiK3QrXCIgPD0gXCIrdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCl9dmFyIGk7dHJ5e2MuSGIoZnVuY3Rpb24oKXtyZXR1cm4gZTx0P3RoaXMudmlldy5nZXRVaW50OChlKyspOm51bGx9LmJpbmQodGhpcyksaT1yKCkpfWNhdGNoKHIpe2lmKGUhPT10KXRocm93IFJhbmdlRXJyb3IoXCJJbGxlZ2FsIHJhbmdlOiBUcnVuY2F0ZWQgZGF0YSwgXCIrZStcIiAhPSBcIit0KX1yZXR1cm4gaSgpfSxuLnhSPWZ1bmN0aW9uKGUscixpKXtpZighaSYmXCJzdHJpbmdcIiE9dHlwZW9mIGUpdGhyb3cgVHlwZUVycm9yKFwiSWxsZWdhbCBzdHI6IE5vdCBhIHN0cmluZ1wiKTt2YXIgcz1uZXcgbihjLlViKHQoZSksITApWzFdLHIsaSksbz0wO3JldHVybiBjLnhiKHQoZSksZnVuY3Rpb24oZSl7cy52aWV3LnNldFVpbnQ4KG8rKyxlKX0pLHMuQ1I9byxzfSxufVwib2JqZWN0XCI9PXR5cGVvZiBlJiZlJiZcIm9iamVjdFwiPT10eXBlb2YgdCYmdD9lLnQ9ZnVuY3Rpb24oKXt2YXIgZTt0cnl7ZT1yKDkwKX1jYXRjaChlKXt9cmV0dXJuIGEoZSl9KCk6KG49W3IoOTEpXSx2b2lkIDAhPT0ocz1mdW5jdGlvbihlKXtyZXR1cm4gYShlKX0uYXBwbHkodCxuKSkmJihlLnQ9cykpfSgpfSkuY2FsbCh0LHIoNTgpKGUpKX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXIoMiksbj1yKDApLHM9cigyMyksbz1yKDQzKSxhPXIoMTYxKSxoPXIoNSksYz1yKDQpLHU9aC5SdC5OaSxsPWguUnQuQ2kscD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0LHIsaSl7dGhpcy50ZT1uLkZyYW1ld29yay5yZXNvbHZlKG4uRnJhbWV3b3JrLnEuSSkubG9nKGUuc2Vzc2lvbklkKSx0aGlzLm1uPVwiU1tcIitlLnNlc3Npb25JZCtcIl1cIix0aGlzLk9sPXQsdGhpcy5fbD1yLHRoaXMuc3dhcm1JZD1lLnN3YXJtSWQsdGhpcy5QbD1pLHRoaXMucmVjZWl2ZXI9bmV3IGEuYzYodCxyLGUpLHRoaXMuc2VuZGVyPW5ldyBhLnU2KHQscixlLHRoaXMpLHRoaXMuSUM9ZS5JQyx0aGlzLlNDPWUuU0MsdGhpcy5Kej1lLkp6LChsfHxuLkZyYW1ld29yay5TKCkmJm8uaUMudEMpJiYodGhpcy4kej1lLiR6KX1yZXR1cm4gZS5wcm90b3R5cGUucWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZW5kZXIucWwoKXx8dGhpcy5yZWNlaXZlci5xbCgpfSxlLnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1pLmRlZmVyKCk7cmV0dXJuIHRoaXMuc2VuZGVyLmw2KCkudGhlbihmdW5jdGlvbihyKXtlLnJlY2VpdmVyLmNsb3NlKHIpLnRoZW4oZnVuY3Rpb24ocil7ZS5IcShyKS50aGVuKGZ1bmN0aW9uKHIpe2UuUGwuY2xvc2UocikudGhlbihmdW5jdGlvbihlKXt0LnJlc29sdmUoZSl9KX0pfSl9KSx0LlRlfSxlLnByb3RvdHlwZS5IcT1mdW5jdGlvbihlKXt0aGlzLnRlLmRlYnVnKFwiU0VORCBDTE9TRSBUTyBcIit0aGlzLl9sKTt2YXIgdD1uZXcgcy5tdS5Nci5ucC5sbDtyZXR1cm4gdC5wNihlKSx0aGlzLmpsKHMubXUuUmwubGwsdCksaSh0aGlzLnN3YXJtSWQpfSxlLnByb3RvdHlwZS5BZT1mdW5jdGlvbihlKXt0cnl7c3dpdGNoKHUmJnRoaXMudGUuZGVidWcoXCJESVNQQVRDSCBcIitlLm1zZ0lkKSxlLm1zZ0lkKXtjYXNlIHMubXUuUmwuaGw6dmFyIHQ9cy5tdS5Nci5ucC5obC5kZWNvZGUoZS5ycCk7dGhpcy5yZWNlaXZlci5mNih0KTticmVhaztjYXNlIHMubXUuUmwudWw6dmFyIHI9cy5tdS5Nci5ucC51bC5kZWNvZGUoZS5ycCk7dGhpcy5zZW5kZXIuZDYoci5nNik7YnJlYWs7Y2FzZSBzLm11LlJsLmNsOnZhciBpPXMubXUuTXIubnAuY2wuZGVjb2RlKGUucnApO3RoaXMuc2VuZGVyLnY2KGkuZzYpO2JyZWFrO2Nhc2Ugcy5tdS5SbC5mbDp1JiZ0aGlzLnRlLmRlYnVnKFwiUkVDRUlWRUQgT1VUIFBBUlQsREVDT0RJTkcgXCIpO3ZhciBuPXMubXUuTXIubnAudlYuZGVjb2RlKGUucnApO3UmJnRoaXMudGUuZGVidWcoXCJSRUNFSVZFRCBPVVQgUEFSVCBGUk9NIFwiK24uZ3VpZCksdGhpcy5TQy5qcShuLHRoaXMuUGwpO2JyZWFrO2Nhc2Ugcy5tdS5SbC5kbDp1JiZ0aGlzLnRlLmRlYnVnKFwiUkVDRUlWRUQgT1VUIFBBUlQgUkVTUCBcIik7dmFyIG89cy5tdS5Nci5ucC5yVi5kZWNvZGUoZS5ycCk7dSYmdGhpcy50ZS5kZWJ1ZyhcIlJFQ0VJVkVEIE9VVCBQQVJUIFJFU1AgRlJPTSBcIitvLmFjY2VwdCksdGhpcy5TQy5tVihvLHRoaXMuUGwpO2JyZWFrO2Nhc2Ugcy5tdS5SbC5hbDp2YXIgYT1zLm11Lk1yLm5wLmFsLmRlY29kZShlLnJwKTt1JiZ0aGlzLnRlLmRlYnVnKFwiUkVDRUlWRUQgSEFWRSBGT1IgXCIrYS5tTitcIiBGUk9NIFwiK3RoaXMuX2wpLHRoaXMuU0MueTYodGhpcy5fbCxhKTticmVhaztjYXNlIHMubXUuUmwubGw6dmFyIGg9cy5tdS5Nci5ucC5sbC5kZWNvZGUoZS5ycCk7dSYmdGhpcy50ZS5kZWJ1ZyhcIlJFQ0VJVkVEIENMT1NFIEZST00gXCIrdGhpcy5fbCksdGhpcy5TQy5nVih0aGlzLl9sLGgpO2JyZWFrO2Nhc2Ugcy5tdS5SbC5SZXF1ZXN0OnZhciBsPXMubXUuTXIubnAuUmVxdWVzdC5kZWNvZGUoZS5ycCk7dSYmdGhpcy50ZS5kZWJ1ZyhcIlJFQ0VJVkVEIFJFUVVFU1QgRk9SIFwiK2wubU4rXCIgRlJPTSBcIit0aGlzLl9sKSx0aGlzLkp6LllfKHRoaXMuX2wsbCx0aGlzKTticmVhaztjYXNlIHMubXUuUmwucGw6dmFyIHA9cy5tdS5Nci5ucC5wbC5kZWNvZGUoZS5ycCk7dSYmdGhpcy50ZS5kZWJ1ZyhcIkRvTm90SGF2ZSBcIitwLmc2KSx0aGlzLklDLm02KHApO2JyZWFrO2Nhc2Ugcy5tdS5SbC5nbDp2YXIgZj1zLm11Lk1yLm5wLk94LmRlY29kZShlLnJwKTt1JiZ0aGlzLnRlLmRlYnVnKFwiVURQIEhBTkRTSEFLRSBNRVNTQUdFIFJFQ0VJVkVEIEZST00gXCIrZi5DayksdGhpcy4kei5NeChmLHRoaXMuUGwpO2JyZWFrO2Nhc2Ugcy5tdS5SbC52bDp2YXIgZD1zLm11Lk1yLm5wLnZsLmRlY29kZShlLnJwKTt1JiZ0aGlzLnRlLmRlYnVnKFwiVURQIEhBTkRTSEFLRSBNRVNTQUdFIFJFU1BPTlNFIFJFQ0VJVkVEIEZST00gXCIrdGhpcy5fbCksdGhpcy4kei5MeChkLHRoaXMuUGwpO2JyZWFrO2Nhc2Ugcy5tdS5SbC55bDp2YXIgZz1zLm11Lk1yLm5wLnlsLmRlY29kZShlLnJwKTt1JiZ0aGlzLnRlLmRlYnVnKFwiU1dJVENIIExFQURFUlNISVAgUkVRVUVTVCBSRUNFSVZFRCBGUk9NIFwiK3RoaXMuX2wpLHRoaXMuJHouWHgoZyk7YnJlYWs7Y2FzZSBzLm11LlJsLm1sOnZhciB2PXMubXUuTXIubnAudEguZGVjb2RlKGUucnApO3UmJnRoaXMudGUuZGVidWcoXCJVRFAgU1dJVENIIEFDS05PV0xFREdNRU5UIFJFU1BPTlNFIEZST00gXCIrdGhpcy5fbCksdGhpcy4kei5uSCh2LHRoaXMuX2wpO2JyZWFrO2Nhc2Ugcy5tdS5SbC5FbDp2YXIgeT1zLm11Lk1yLm5wLkVsLmRlY29kZShlLnJwKTt1JiZ0aGlzLnRlLmRlYnVnKFwiQklUUkFURSBJTkZPIFwiK3kuYml0cmF0ZStcIiBGUk9NIFwiK3kuZ3VpZCksdGhpcy5TQy5JVih5KTticmVhaztjYXNlIHMubXUuUmwuVGw6dmFyIG09cy5tdS5Nci5ucC5UbC5kZWNvZGUoZS5ycCk7dSYmdGhpcy50ZS5kZWJ1ZyhcIlJFQ0VJVkVEIEJBVENIIEhBVkVTIEZPUiBGUk9NIFwiK3RoaXMuX2wpLHRoaXMuU0MuRTYodGhpcy5fbCxtKTticmVhaztjYXNlIHMubXUuUmwuaGg6dmFyIEU9cy5tdS5Nci5ucC5PVi5kZWNvZGUoZS5ycCk7dSYmdGhpcy50ZS5kZWJ1ZyhcIlJFQ0VJVkVEIFBFRVIgSU5GTyBGUk9NIFwiK3RoaXMuX2wpLHRoaXMuU0MuYlYoRSk7YnJlYWs7Y2FzZSBzLm11LlJsLklsOnZhciBUPXMubXUuTXIubnAuSWwuZGVjb2RlKGUucnApO3UmJnRoaXMudGUuZGVidWcoXCJSRUNFSVZFRCBQSU5HIEZST00gXCIrdGhpcy5fbCksdGhpcy5TQy5UNihUKTticmVhaztjYXNlIHMubXUuUmwud2w6dmFyIEk9cy5tdS5Nci5ucC53bC5kZWNvZGUoZS5ycCk7dSYmdGhpcy50ZS5kZWJ1ZyhcIlJFQ0VJVkVEIFBPTkcgRlJPTSBcIit0aGlzLl9sKSx0aGlzLlNDLkk2KEkpO2JyZWFrO2Nhc2Ugcy5tdS5SbC5TbDp2YXIgdz1zLm11Lk1yLm5wLnc2LmRlY29kZShlLnJwKTt1JiZ0aGlzLnRlLmRlYnVnKFwiUkVDRUlWRUQgTk9OIFBBUlRORVIgTUVTU0FHRSBGUk9NIFwiK3RoaXMuX2wpLHRoaXMuSUMuUzYodGhpcy5fbCx3KTticmVhaztkZWZhdWx0OnRoaXMudGUud2FybihcIlVOS05PV04gTUVTU0FHRSBUWVBFIFwiK2UubXNnSWQpfX1jYXRjaChlKXtjLkVycm9yTW9uaXRvci5naSgpLmRpKFwiUDJQIERJU1BBVENIRVIgRVJST1JcIix0aGlzLm1uLGUpfX0sZS5wcm90b3R5cGUuamw9ZnVuY3Rpb24oZSx0KXt0aGlzLlBsLmpsKGUsdGhpcy5zd2FybUlkLHQpfSxlfSgpO3Qua2w9cH0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXIoNDQpLG49cigzMikscz1yKDIpLG89cigyMyksYT1yKDApLGg9cig2KSxjPXIoMTYyKSx1PXIoMyksbD1yKDkyKSxwPXIoNCksZj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0LHIpe3RoaXMuUjY9bmV3IGksdGhpcy5iNj1uZXcgaSx0aGlzLlA2PW51bGwsdGhpcy5vbD1vLm11Lm9sLHRoaXMuT2w9ZSx0aGlzLl9sPXQsdGhpcy5JQz1yLklDLHRoaXMud0M9ci53Qyx0aGlzLkhsPWEuRnJhbWV3b3JrLnJlc29sdmUoYS5GcmFtZXdvcmsucS5GKSx0aGlzLnRlPWEuRnJhbWV3b3JrLnJlc29sdmUoYS5GcmFtZXdvcmsucS5JKS5sb2coci5zZXNzaW9uSWQpLHRoaXMubW49XCJTW1wiK3Iuc2Vzc2lvbklkK1wiXVwifXJldHVybiBlLnByb3RvdHlwZS51Vj1mdW5jdGlvbihlKXt0aGlzLkE2PWV9LGUucHJvdG90eXBlLnFsPWZ1bmN0aW9uKCl7cmV0dXJuISgwPT09dGhpcy5SNi5rZXlzKCkubGVuZ3RoJiZudWxsPT09dGhpcy5QNil9LGUucHJvdG90eXBlLkM2PWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBvLm11Lk1yLm5wLlJlcXVlc3Q7dC5tTj1lLnp1KCksdC5nNj1lLkZrLHRoaXMub2wmJnRoaXMudGUuZGVidWcoXCJJTklUSUFUSU5HIFRSLVwiK2UuRmsrXCIgVElNRU9VVDogXCIrZS5rNitcIiBGUkFHTUVOVDogXCIrZS56dSgpK1wiIEZST006IFwiK3RoaXMuX2wpLHRoaXMuUjYuc2V0KGUuRmssZSksdGhpcy5iNi5zZXQoZS5GayxhLkZyYW1ld29yay50aW1lKCkpLGUuS1UucXEuamwoby5tdS5SbC5SZXF1ZXN0LHQpfSxlLnByb3RvdHlwZS5mNj1mdW5jdGlvbihlKXt2YXIgdD1lLmc2LHI9ZS5kYXRhLmxQKCksaT1lLk82LG49ZS50eCxzPWUuaGVhZGVycztpZih0aGlzLm9sJiZ0aGlzLnRlLmRlYnVnKFwiUkNWIENodW5rIFwiK3IuYnl0ZUxlbmd0aCksIXRoaXMuUjYuaGFzKHQpKXJldHVybiB2b2lkIHRoaXMudGUud2FybihcIlJlY2VpdmVkIGNodW5rIG9mIGV4cGlyZWQgdHJhbnNmZXIgaWQgXCIrdCk7bnVsbD09dGhpcy5QNj8odGhpcy5vbCYmdGhpcy50ZS5kZWJ1ZyhcIklOSVRJQVRFRCBUUi1cIit0K1wiLFNJWkU9XCIrbiksdGhpcy5QNj10aGlzLlI2LmdldCh0KSx0aGlzLlA2LkZrPXQsdGhpcy5fNih0LHRoaXMuUDYuS1UpLG51bGwhPXM/dGhpcy5QNi54dT1zOnRoaXMudGUud2FybihcIkhFQURFUlMgTlVMTCBJTiBGSVJTVCBDSFVOS1wiKSx0aGlzLklDLkYwKHRoaXMuX2wsdGhpcy5QNixpLG4pLHRoaXMuUDYucXU9aSxhLkZyYW1ld29yay5TKCl8fCh0aGlzLlA2Lkh1PXIpKToodGhpcy5fNih0LHRoaXMuUDYuS1UpLHRoaXMuUDYucXUrPWksYS5GcmFtZXdvcmsuUygpfHwodGhpcy5QNi5IdT1oLmZuLmFwcGVuZEJ1ZmZlcih0aGlzLlA2Lkh1LHIpKSk7dmFyIG89YS5GcmFtZXdvcmsuUygpP3RoaXMuUDYucXU6dGhpcy5QNi5IdS5ieXRlTGVuZ3RoO2lmKHRoaXMub2wmJnRoaXMudGUuZGVidWcoXCJSRUNFSVZFRCBcIitvK1wiL1wiK24rXCIgVFJJRCBcIit0KSxvPT1uKXt0aGlzLm9sJiZ0aGlzLnRlLmRlYnVnKFwiUkNWIEFMTCBEQVRBIFwiK28rXCIgVFItXCIrdGhpcy5QNi5qdSksdGhpcy5QNi5NdS5SdT1vLGEuRnJhbWV3b3JrLmNsZWFyVGltZW91dCh0aGlzLlA2LkZ4KSx0aGlzLlI2LmRlbGV0ZSh0KTt2YXIgYz1hLkZyYW1ld29yay50aW1lKCktdGhpcy5iNi5nZXQodCk7dGhpcy50ZS5kZWJ1ZyhcIlJDViBBTEwgREFUQSBGUk9NIFwiK3RoaXMuX2wrXCIgQUZURVIgXCIrYytcIiBtc2Vjb25kc1wiKSx0aGlzLmI2LmRlbGV0ZSh0KSx0aGlzLklDLkhDKHQsdGhpcy5QNiksdGhpcy5QNj1udWxsfX0sZS5wcm90b3R5cGUuXzY9ZnVuY3Rpb24oZSx0KXt0aGlzLm9sJiZ0aGlzLnRlLmRlYnVnKFwiU0VORCBBQ0sgXCIrZStcIiBUTyBcIit0aGlzLl9sKTt2YXIgcj1uZXcgby5tdS5Nci5ucC51bDtyLmc2PWUsdC5xcS5qbChvLm11LlJsLnVsLHIpfSxlLnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9cy5kZWZlcigpO3JldHVybiBudWxsIT10aGlzLlA2JiZ0aGlzLk42KHRoaXMuUDYuRmspLHRoaXMuUjYua2V5cygpLnNsaWNlKCkuZm9yRWFjaChmdW5jdGlvbihlKXt0Lk42KGUpfSksci5yZXNvbHZlKGwucnEubngpLHIuVGV9LGUucHJvdG90eXBlLk42PWZ1bmN0aW9uKGUpe2lmKHRoaXMuUjYuaGFzKGUpKXt2YXIgdD10aGlzLlI2LmdldChlKTt0Lk11LlJ1PXQucXUsdGhpcy50ZS5kZWJ1ZyhcIlNFTkQgQ0FOQ0VMIEZPUiBcIitlK1wiIFRPIFwiK3RoaXMuX2wpLHRoaXMuYjYuZGVsZXRlKGUpO3ZhciByPW5ldyBvLm11Lk1yLm5wLmNsO3IuZzY9ZSx0LktVLnFxLmpsKG8ubXUuUmwuY2wsciksbnVsbCE9PXRoaXMuUDYmJnRoaXMuUDYuSnUoKT09PXQuSnUoKSYmKHRoaXMuUDY9bnVsbCksdGhpcy5SNi5kZWxldGUoZSl9ZWxzZSB0aGlzLnRlLndhcm4oXCJDTEVBTiBVUCBOT1QgUEVORElORyBcIitlKX0sZX0oKTt0LmM2PWY7dmFyIGQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxyLG4pe3RoaXMub2w9by5tdS5vbCx0aGlzLkQ2PW51bGwsdGhpcy5GNj1uZXcgQXJyYXksdGhpcy5MNj1uZXcgaSx0aGlzLk02PTAsdGhpcy5jbG9zZT1udWxsLHRoaXMuT2w9ZSx0aGlzLl9sPXQsdGhpcy5CNj1yLkp6LHRoaXMucXE9bix0aGlzLmJDPXIuYkMsdGhpcy50ZT1hLkZyYW1ld29yay5yZXNvbHZlKGEuRnJhbWV3b3JrLnEuSSkubG9nKHIuc2Vzc2lvbklkKSx0aGlzLm1uPVwiU1tcIityLnNlc3Npb25JZCtcIl1cIix0aGlzLkhsPWEuRnJhbWV3b3JrLnJlc29sdmUoYS5GcmFtZXdvcmsucS5GKX1yZXR1cm4gZS5wcm90b3R5cGUudVY9ZnVuY3Rpb24oZSl7dGhpcy5BNj1lfSxlLnByb3RvdHlwZS5VNj1mdW5jdGlvbihlLHQscixpLG4pe3ZhciBzPXRoaXM7dGhpcy5vbCYmdGhpcy50ZS5pbmZvKFwiU0VORCBGUkFHTUVOVCBcIitlK1wiIFRPIFwiK3RoaXMuX2wpO3ZhciBvPW5ldyBjLng2O28uZzY9dCxvLm1OPWUsby5INj1uLG8uaGVhZGVycz1pLG8ucTY9cixvLlY2PU1hdGguY2VpbChvLnE2L3UubmkuTXIuTnIpLG8uajY9MCx0aGlzLkY2LnB1c2gobyksdGhpcy5vbCYmdGhpcy5GNi5mb3JFYWNoKGZ1bmN0aW9uKGUpe3MudGUuZGVidWcocy5fbCtcIiBQRU5ESU5HIE9VVCBcIitlKX0pLG51bGw9PT10aGlzLkQ2P3RoaXMuRzYoKTp0aGlzLm9sJiZ0aGlzLnRlLmRlYnVnKHRoaXMuX2wrXCIgT1VUIE1TRyBOT1QgTlVMTFwiKX0sZS5wcm90b3R5cGUuZDY9ZnVuY3Rpb24oZSl7dGhpcy5vbCYmdGhpcy50ZS5kZWJ1ZyhcIk9OR09JTkcgXCIrZStcIiBHT1QgQUNLXCIpLG51bGwhPT10aGlzLkQ2JiZ0aGlzLkQ2Lmc2LnRvU3RyaW5nKCk9PT1lLnRvU3RyaW5nKCk/dGhpcy5RNighMSk6dGhpcy50ZS53YXJuKFwiUkVDRUlWRUQgQUNLIEZPUiBVTktOT1dOIFRSLVwiK2UpfSxlLnByb3RvdHlwZS52Nj1mdW5jdGlvbihlKXtudWxsIT10aGlzLkQ2JiZ0aGlzLkQ2Lmc2PT09ZT8odGhpcy50ZS5kZWJ1ZyhcIkdPVCBDQU5DRUwgRk9SIE9OR09JTkcgVFItXCIrZSksdGhpcy50ZS5kZWJ1ZyhcIlRSQU5TUE9SVCBDQU5DRUwgU1RBVFMgXCIrdGhpcy5PbCtcIixcIit0aGlzLl9sK1wiLFwiK2UpLHRoaXMuTDYuZGVsZXRlKGUpLDAhPXRoaXMuRDYuajY/dGhpcy5CNi5LNih0aGlzLl9sLHRoaXMuQTYsdGhpcy5ENi5qNix0aGlzLkQ2LnE2KTp0aGlzLkI2Llk2KHRoaXMuX2wsdGhpcy5BNix0aGlzLkQ2LnE2KSx0aGlzLkQ2PW51bGwsdGhpcy5HNigpKTp0aGlzLkY2PXRoaXMuRjYuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiB0Lmc2IT09ZX0pfSxlLnByb3RvdHlwZS5HNj1mdW5jdGlvbigpe3RyeXtpZihudWxsPT09dGhpcy5ENiYmMCE9PXRoaXMuRjYubGVuZ3RoKXt2YXIgZT10aGlzLkY2LnNoaWZ0KCk7dGhpcy5ENj1lLHRoaXMub2wmJnRoaXMudGUuZGVidWcoXCJEQVRBIFRPIFNFTkQgTEVOR1RIIFwiK3RoaXMuRDYucTYrXCIgSU4gXCIrdGhpcy5ENi5WNitcIiBDSFVOS1MgV0lUSCBUUi1cIit0aGlzLkQ2Lmc2KSx0aGlzLlE2KCEwKX19Y2F0Y2goZSl7cC5FcnJvck1vbml0b3IuZ2koKS5kaShcIkVSUk9SIFNFTkQgRlJBR01FTlRcIix0aGlzLm1uLGUpLHRoaXMuVmwoKX19LGUucHJvdG90eXBlLlE2PWZ1bmN0aW9uKGUpe2UmJih0aGlzLkw2LnNldCh0aGlzLkQ2Lmc2LGEuRnJhbWV3b3JrLnRpbWUoKSksdGhpcy5NNj10aGlzLkQ2LlY2KTt0cnl7aWYobnVsbCE9dGhpcy5ENilpZigwPT09dGhpcy5ENi5WNil0aGlzLnRlLmRlYnVnKFwiRklOSVNIRUQgU0VORElORyBUUkFOU0ZFUiBcIit0aGlzLkQ2Lmc2K1wiIFdJVEggXCIrdGhpcy5ENi5qNitcIiBCWVRFU1wiKSx0aGlzLkw2LmRlbGV0ZSh0aGlzLkQ2Lmc2KSx0aGlzLkI2Lno2KHRoaXMuX2wsdGhpcy5BNix0aGlzLkQ2LnE2KSx0aGlzLkQ2PW51bGwsdGhpcy5KNigpLHRoaXMuRzYoKTtlbHNle3RoaXMub2wmJnRoaXMudGUuZGVidWcoXCJBIENIVU5LXCIpO3ZhciB0PU1hdGgubWluKHRoaXMuRDYuajYrdS5uaS5Nci5Ocix0aGlzLkQ2LnE2KSxyPXQtdGhpcy5ENi5qNixpPW5ldyBvLm11Lk1yLm5wLmhsO2lmKGkuZzY9dGhpcy5ENi5nNixpLnR4PXRoaXMuRDYucTYsaS5PNj1yLGUmJm51bGwhPXRoaXMuRDYuaGVhZGVycyYmKGkuaGVhZGVycz10aGlzLkQ2LmhlYWRlcnMpLGEuRnJhbWV3b3JrLlMoKXx8bnVsbD09dGhpcy5ENi5INilpLmRhdGE9bi53cmFwKG5ldyBBcnJheUJ1ZmZlcigwKSk7ZWxzZSBpZihpLmRhdGE9dGhpcy5iQy5XNih0aGlzLkQ2Lm1OLHRoaXMuTTYtdGhpcy5ENi5WNiksbnVsbD09aS5kYXRhKXt2YXIgcz10aGlzLkQ2Lkg2LnNsaWNlKHRoaXMuRDYuajYsdCk7aS5kYXRhPW4ud3JhcChzKX10aGlzLkQ2Lmo2PXRoaXMuRDYuajYrcix0aGlzLnFxLmpsKG8ubXUuUmwuaGwsaSksdGhpcy5vbCYmdGhpcy50ZS5kZWJ1ZyhcIlNORCBbXCIrdGhpcy5ENi5qNitcIi1cIisodGhpcy5ENi5qNityKStcIi9cIit0aGlzLkQ2LnE2K1wiXSBUTyBcIit0aGlzLl9sK1wiIE9GIFRSLVwiK3RoaXMuRDYuZzYpLHRoaXMuRDYuVjYtLX1lbHNlIHRoaXMudGUuZGVidWcoXCJOTyBNRVNTQUdFIFRPIFNFTkRcIil9Y2F0Y2goZSl7cC5FcnJvck1vbml0b3IuZ2koKS5kaShcIkVSUk9SIFNFTkRJTkcgQ0hVTktcIix0aGlzLm1uLGUpLHRoaXMuVmwoKX19LGUucHJvdG90eXBlLnFsPWZ1bmN0aW9uKCl7cmV0dXJuISgwPT09dGhpcy5GNi5sZW5ndGgmJm51bGw9PT10aGlzLkQ2KX0sZS5wcm90b3R5cGUubDY9ZnVuY3Rpb24oKXt2YXIgZT1zLmRlZmVyKCk7cmV0dXJuIHRoaXMuRjYubGVuZ3RoPTAsdGhpcy5xbCgpP3RoaXMuY2xvc2U9ZTplLnJlc29sdmUoXCJDTE9TRVwiKSxlLlRlfSxlLnByb3RvdHlwZS5KNj1mdW5jdGlvbigpe3RoaXMuY2xvc2UmJnRoaXMuY2xvc2UucmVzb2x2ZShcIkNMT1NFRFwiKX0sZS5wcm90b3R5cGUuVmw9ZnVuY3Rpb24oKXt0aGlzLkQ2PW51bGx9LGV9KCk7dC51Nj1kfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5oZWFkZXJzPW51bGx9cmV0dXJuIGV9KCk7dC54Nj1pfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9cigxKSxuPXIoMCkscz1yKDMpLG89cigxNSksYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0LHIscyxhLGgpe3RoaXMuWDY9MCx0aGlzLlo2PTAsdGhpcy5lOD0wLHRoaXMudDg9bmV3IEFycmF5LHRoaXMucjg9bmV3IEFycmF5LHRoaXMuUjY9bmV3IGksdGhpcy50ZT1zLHRoaXMucXE9cix0aGlzLmd1aWQ9ZSx0aGlzLklrPWgsdGhpcy5pOD1hLHRoaXMuVV89dCx0aGlzLkdWPW4uRnJhbWV3b3JrLnJlc29sdmUoby5QYS5tYSksdGhpcy5LVj1uLkZyYW1ld29yay5yZXNvbHZlKG8uUGEubWEpLHRoaXMubjg9bi5GcmFtZXdvcmsudGltZSgpfXJldHVybiBlLnByb3RvdHlwZS5YcT1mdW5jdGlvbihlKXt0aGlzLldxPWUsdGhpcy5xcSYmKHRoaXMucXEucmVjZWl2ZXIudVYodGhpcy5XcSksdGhpcy5xcS5zZW5kZXIudVYodGhpcy5XcSkpfSxlLnByb3RvdHlwZS5zOD1mdW5jdGlvbihlLHQscil7dmFyIGk9TWF0aC5tYXgoMSx0KTtmb3IociYmKHRoaXMuWjYrPWksdGhpcy5YNis9ZSk7dGhpcy50OC5sZW5ndGg+cy5uaS5Pci5ScjspdGhpcy50OC5wb3AoKTt2YXIgbj1lL2k7dGhpcy50OC51bnNoaWZ0KG4pfSxlLnByb3RvdHlwZS5vOD1mdW5jdGlvbihlKXt0aGlzLlI2LmhhcyhlKT90aGlzLnRlLndhcm4odGhpcy5ndWlkK1wiIERVUExJQ0FURSB7fSBQRU5ESU5HIFJFUVVFU1RTIFwiK2UpOnRoaXMuUjYuc2V0KGUsbi5GcmFtZXdvcmsudGltZSgpKX0sZS5wcm90b3R5cGUuYTg9ZnVuY3Rpb24oZSx0LHIsaSxzLG8pe2lmKHRoaXMuUjYuaGFzKGUpKXt2YXIgYT10aGlzLlI2LmdldChlKSxoPW4uRnJhbWV3b3JrLnRpbWUoKS1hO3RoaXMuUjYuZGVsZXRlKGUpLGkmJnRoaXMuczgodCxoLCEwKSx0aGlzLkdWLnN1Y2Nlc3ModCksdGhpcy5VXy5oOCh0aGlzLldxLHQscixzLG8pfWVsc2UgdGhpcy50ZS53YXJuKFwiUkVRVUVTVCBcIitlK1wiIERPRVMgTk9UIEVYSVNUXCIpfSxlLnByb3RvdHlwZS5jOD1mdW5jdGlvbihlLHQscixpLG4sbyl7aWYodGhpcy5SNi5oYXMoZSkpe3ZhciBhPXRoaXMuUjYuZ2V0KGUpO3RoaXMuUjYuZGVsZXRlKGUpLHMubmkuT3IuYnI/dGhpcy5zOCh0LGEsITApOnRoaXMuczgoMCxhLCEwKSx0aGlzLkdWLnU4KHQsaSksdGhpcy5VXy5sOCh0aGlzLldxLHQscixpLG4sbyl9ZWxzZSB0aGlzLnRlLndhcm4odGhpcy5ndWlkK1wie30gUkVRVUVTVCBcIitlK1wiIERPRVMgTk9UIEVYSVNUXCIpfSxlLnByb3RvdHlwZS5Eaz1mdW5jdGlvbihlLHQscil7aWYodGhpcy5SNi5oYXMoZSkpe3ZhciBpPXRoaXMuUjYuZ2V0KGUpO3RoaXMuUjYuZGVsZXRlKGUpLHRoaXMuczgoMCxpLCEwKSx0aGlzLkdWLnhuKCksdGhpcy5VXy5wOCh0aGlzLldxLHIsdCl9ZWxzZSB0aGlzLnRlLndhcm4odGhpcy5ndWlkK1wie30gUkVRVUVTVCBcIitlK1wiIERPRVMgTk9UIEVYSVNUXCIpfSxlLnByb3RvdHlwZS5mOD1mdW5jdGlvbihlLHQpe3RoaXMuVV8uZDgoZSx0LCEwKX0sZS5wcm90b3R5cGUuZzg9ZnVuY3Rpb24oZSx0KXt0aGlzLlVfLnY4KGUsdCwhMCl9LGUucHJvdG90eXBlLnk4PWZ1bmN0aW9uKGUsdCxyKXt0aGlzLlVfLm04KGUsdCxyLCEwKX0sZS5wcm90b3R5cGUuRTg9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnQ4LnJlZHVjZShmdW5jdGlvbihlLHQpe3JldHVybiBlK3R9LDApO3JldHVybiB0aGlzLnQ4Lmxlbmd0aD4wP2UvdGhpcy50OC5sZW5ndGg6MH0sZS5wcm90b3R5cGUuVDg9ZnVuY3Rpb24oZSl7dGhpcy5lOD1lfSxlLnByb3RvdHlwZS5JOD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmU4fSxlLnByb3RvdHlwZS5VcT1mdW5jdGlvbigpe3JldHVybiB0aGlzLklrLlVxKCl9LGV9KCk7dC5QYXJ0bmVyPWF9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1yKDMyKSxuPXIoMSkscz1yKDApLG89cigxMSksYT1yKDIzKSxoPXIoMyksYz1yKDQpLHU9cigxNjUpLGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5tbj1cIltQQVJUXSBcIix0aGlzLlJxPW5ldyBuLHRoaXMuaUw9bmV3IG4sdGhpcy50TD1uZXcgbix0aGlzLnJMPW5ldyBuLHRoaXMudzg9ITEsdGhpcy5TOD0hMSx0aGlzLlI4PSEwLHRoaXMuYWN0aXZlPSExLHRoaXMuYjgoKSx0aGlzLkNxPVtdfXJldHVybiBlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKGUpe3RoaXMudGU9cy5GcmFtZXdvcmsucmVzb2x2ZShzLkZyYW1ld29yay5xLkkpLmxvZyhlLnNlc3Npb25JZCksdGhpcy53Qz1lLndDLHRoaXMuVXc9ZS5Vdyx0aGlzLnp6PWUuenosdGhpcy5FQz1lLkVDLHRoaXMuTHE9ZS54X30sZS5wcm90b3R5cGUud3E9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuR3EoZS5Uay5ndWlkKX0sZS5wcm90b3R5cGUuR3E9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuckwuaGFzKGUpfHx0aGlzLnRMLmhhcyhlKX0sZS5wcm90b3R5cGUuQVY9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudEwuaGFzKGUpP3RoaXMudEwuZ2V0KGUpOnRoaXMuckwuZ2V0KGUpfSxlLnByb3RvdHlwZS5FcT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5wVihlLlRrLmd1aWQpfSxlLnByb3RvdHlwZS5wVj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5pTC5oYXMoZSl8fHRoaXMuUnEuaGFzKGUpfSxlLnByb3RvdHlwZS5mVj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5pTC5oYXMoZSk/dGhpcy5pTC5nZXQoZSk6dGhpcy5ScS5nZXQoZSl9LGUucHJvdG90eXBlLiRxPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dHJ5e2lmKHRoaXMuUjgpaWYodGhpcy5HcShlKSl7dmFyIHI9dGhpcy5BVihlKSxpPXRoaXMuenouUDgoITEpLG49W107dGhpcy5Vdy5KVSh0aGlzLmNvbnRleHQuaXNMaXZlKCkpLnRoZW4oZnVuY3Rpb24ocyl7dC50ZS5kZWJ1Zyh0Lm1uK1wiU0VORCBBTEwgSEFWRVMgVE8gXCIrZStcIixcIitzLmxlbmd0aCk7Zm9yKHZhciBvPTA7bzxzLmxlbmd0aDtvKyspe3ZhciBoPTA7aD10LmNvbnRleHQuaXNMaXZlKCk/c1tvXS5zaXplKCk6c1tvXS50eDt2YXIgYz1zW29dLlF1LHU9bmV3IGEubXUuTXIubnAuYWw7dS5BOChjLnp1KCkpLHUuQzgoaCksdS5rOChpKTt2YXIgbD1jO3UudnEobC5FUigpKSx1Lk84KGwuYml0cmF0ZSksdS5fOChsLmR1cmF0aW9uKSx1LnA2KGwuWXUoKSksbi5wdXNoKHUpfWlmKG4ubGVuZ3RoPjApe3ZhciBwPW5ldyBhLm11Lk1yLm5wLlRsO3AuTjgobiksci5xcS5qbChhLm11LlJsLlRsLHApfX0pfWVsc2UgdGhpcy50ZS5kZWJ1Zyh0aGlzLm1uK1wiTk8gUEVFUiBUTyBTRU5EIFRPIFwiK2UpfWNhdGNoKGUpe2MuRXJyb3JNb25pdG9yLmdpKCkuZGkoXCJTRU5EIEFMTCBIQVZFUyBFUlJPUlwiLHRoaXMubW4sZSl9fSxlLnByb3RvdHlwZS5wVz1mdW5jdGlvbihlLHQscil7dmFyIGk9dGhpcztpZih0aGlzLlI4KXt2YXIgbj10aGlzLnRMLnZhbHVlcygpO3RoaXMuckwuZm9yRWFjaChmdW5jdGlvbihlLHQpe24ucHVzaChlKX0pO3ZhciBzPXRoaXMuenouUDgoITEpO24uZm9yRWFjaChmdW5jdGlvbihuKXsoIXJ8fHImJm4uZ3VpZCE9ci5ndWlkKSYmaS5EOChuLnFxLGUsdCxzKX0pfX0sZS5wcm90b3R5cGUuRDg9ZnVuY3Rpb24oZSx0LHIsaSl7dGhpcy53OCYmdGhpcy50ZS5kZWJ1Zyh0aGlzLm1uK1wiU0VORCBIQVZFIFRPIFwiK2UuX2wrXCIgRk9SIFwiK3QuenUoKSk7dmFyIG49bmV3IGEubXUuTXIubnAuYWw7bi5BOCh0Lnp1KCkpLG4uQzgociksbi5rOChpKTt2YXIgcz10O24udnEocy5FUigpKSxuLk84KHMuYml0cmF0ZSksbi5fOChzLmR1cmF0aW9uKSxuLnA2KHMuWXUoKSksZS5qbChhLm11LlJsLmFsLG4pfSxlLnByb3RvdHlwZS55Nj1mdW5jdGlvbihlLHQpe2lmKHRoaXMucFYoZSkpe3RoaXMuUzgmJnRoaXMudGUuZGVidWcodGhpcy5tbitcIkhBVkUgUkVDRUlWRUQgRlJPTSBcIitlK1wiOiBcIit0Lm1OKTt2YXIgcj10aGlzLmZWKGUpO3IuVDgodC5GOCgpKSx0aGlzLkVDLnB1dCh0LHIpLHRoaXMuY29udGV4dC52Tih0KX1lbHNlIHRoaXMudGUuaW5mbyh0aGlzLm1uK1wiUkVDIEhBVkUgRlJPTSBVTktOT1dOIFBFRVIgXCIrZSl9LGUucHJvdG90eXBlLkU2PWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztpZih0aGlzLnBWKGUpKXt0aGlzLlM4JiZ0aGlzLnRlLmRlYnVnKHRoaXMubW4rXCIgQkFUQ0ggSEFWRVMgUkVDRUlWRUQgRlJPTSBcIitlKTt2YXIgaT10aGlzLmZWKGUpO3QuTDgoKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2kuVDgoZS5GOCgpKSxyLkVDLnB1dChlLGkpfSksdGhpcy5jb250ZXh0LnZOKHQuTDgoKVswXSl9ZWxzZSB0aGlzLnRlLmluZm8odGhpcy5tbitcIlJFQyBIQVZFIEZST00gVU5LTk9XTiBQRUVSIFwiK2UpfSxlLnByb3RvdHlwZS5CcT1mdW5jdGlvbihlKXt2YXIgdD1uZXcgYS5tdS5Nci5ucC5JbDt0LmlkPXRoaXMud0MuVygpLHQuTTg9cy5GcmFtZXdvcmsudGltZSgpLHRoaXMudGUuZGVidWcodGhpcy5tbitcIlJFUVVFU1QgUElORyBUTyBQRUVSIEdVSUQgXCIrZS5fbCksZS5qbChhLm11LlJsLklsLHQpfSxlLnByb3RvdHlwZS5UNj1mdW5jdGlvbihlKXt2YXIgdD1lLmlkO2lmKCF0aGlzLkdxKHQpKXJldHVybiB2b2lkIHRoaXMudGUud2Fybih0aGlzLm1uK1wiUkVDRUlWRUQgQSBQSU5HIFJFUVVFU1QgRlJPTSBBTiBVTktOT1dOIFBFRVIgXCIrdCk7dmFyIHI9LTE7ZS5NOCYmKHI9ZS5NOCksdGhpcy5COCh0aGlzLkFWKHQpLnFxLHIpfSxlLnByb3RvdHlwZS5iOD1mdW5jdGlvbigpe2Zvcih2YXIgZT1cIlwiLHQ9MDt0PGgubmkuTXIuTnI7dCsrKWUrPVN0cmluZy5mcm9tQ2hhckNvZGUoMzMrOTMqTWF0aC5yYW5kb20oKSk7Zm9yKHZhciByPW5ldyBBcnJheUJ1ZmZlcihlLmxlbmd0aCksbj1uZXcgVWludDhBcnJheShyKSxzPWUubGVuZ3RoLHQ9MDt0PHM7dCsrKW5bdF09ZS5jaGFyQ29kZUF0KHQpO3RoaXMuVTg9aS53cmFwKG4pfSxlLnByb3RvdHlwZS5COD1mdW5jdGlvbihlLHQpe3ZhciByPW5ldyBhLm11Lk1yLm5wLndsO3IuaWQ9dGhpcy53Qy5XKCksci5NOD10LHRoaXMuVTh8fHRoaXMuYjgoKSxyLmRhdGE9dGhpcy5VOCxyLng4PWgubmkuTXIuTnIsdGhpcy50ZS5kZWJ1Zyh0aGlzLm1uK1wiU0VORCBQT05HIFRPIFBFRVIgR1VJRCBcIitlLl9sKSxlLmpsKGEubXUuUmwud2wscil9LGUucHJvdG90eXBlLkk2PWZ1bmN0aW9uKGUpe3ZhciB0PWUuaWQ7aWYoIXRoaXMucFYodCkpcmV0dXJuIHZvaWQgdGhpcy50ZS53YXJuKHRoaXMubW4rXCJSRUNFSVZFRCBBIFBPTkcgRlJPTSBBTiBVTktOT1dOIFBFRVIgXCIrdCk7dmFyIHI9cy5GcmFtZXdvcmsudGltZSgpO2lmKGUuTTgmJmUuTTg+MCl7dmFyIGk9ci1lLk04LG49dGhpcy5mVih0KTtlLng4PT1lLmRhdGEucG4oKS5ieXRlTGVuZ3RoP24uczgoZS54OCxpLCEwKTp0aGlzLnRlLndhcm4odGhpcy5tbitcIkkgcmVjZWl2ZWQgYSBwb25nIHdpdGggd3JvbmcgZGF0YSBzaXplXCIpfWVsc2UgdGhpcy50ZS53YXJuKHRoaXMubW4rXCJJIHJlY2VpdmVkIGEgd3Jvbmcgc3RhcnRUcyBcIitlLk04K1wiIGZyb20gXCIrdCl9LGUucHJvdG90eXBlLnNMPWZ1bmN0aW9uKCl7dHJ5e3ZhciBlPW5ldyBuO3JldHVybiB0aGlzLkg4KHRoaXMuaUwsZSksdGhpcy5IOCh0aGlzLlJxLGUpLGV9Y2F0Y2goZSl7Yy5FcnJvck1vbml0b3IuZ2koKS5kaShcIkdFVCBQQVJUTkVSUyBTTkFQU0hPVFMgRVJST1JcIix0aGlzLm1uLGUpfX0sZS5wcm90b3R5cGUuSDg9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO2UuZm9yRWFjaChmdW5jdGlvbihlLGkpe3ZhciBuPW5ldyBoaXZlLnNuYXBzaG90cy5QYXJ0bmVyO24uaW5QYXJ0PSEwLG4ub3V0UGFydD1yLkdxKGkpLG4uY29ubkluZm89bmV3IGhpdmUuc25hcHNob3RzLkNvbm5lY3Rpdml0eUluZm87dmFyIHM9dm9pZCAwO2UuSWsuVGsubG8mJihzPWUuSWsuVGsubG8pO3ZhciBhPXZvaWQgMDtlLklrLlRrLnVvJiYoYT1lLklrLlRrLnVvKSxuLmNvbm5JbmZvLnB1YmxpY0lwPXMsbi5jb25uSW5mby5wcml2YXRlSXA9YSxuLmNvbm5JbmZvLmV4dGVybmFsQXM9ZS5Jay5Uay5leHRlcm5hbEFzLG4uY29ubkluZm8uaW50ZXJuYWxBcz1lLklrLlRrLmludGVybmFsQXM7dmFyIGg9ci5xOCgpO2gucmF0ZVJlY2VpdmVkPWUuRTgoKSxuLm1ldHJpY3M9aCxuLnVkcD1lLklrLlRrLnR5cGU9PW8uWnMuSyx0LnNldChlLldxLG4pfSl9LGUucHJvdG90eXBlLmVMPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB1LlY4KHRoaXMuaUwubGVuZ3RoLHRoaXMuUnEubGVuZ3RoLHRoaXMuckwubGVuZ3RoLHRoaXMudEwubGVuZ3RoKX0sZS5wcm90b3R5cGUucTg9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgaGl2ZS5zbmFwc2hvdHMuUGFydG5lck1ldHJpY3M7cmV0dXJuIGUucmF0ZVJlY2VpdmVkPTAsZS5yYXRlU2VudD0wLGUuaGFuZHNoYWtlRGVsYXk9MCxlfSxlfSgpO3QuX1Y9bH0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQscixpKXt0aGlzLmlMPWUsdGhpcy5uTD10LHRoaXMuckw9cix0aGlzLnRMPWl9cmV0dXJuIGV9KCk7dC5WOD1pfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlfSgpO3QuZXA9aX0sZnVuY3Rpb24oZSx0KXtlLnQ9e0gyOlwiSGl2ZU1zZ3NcIixxMjpbe25hbWU6XCJDaHVua1wiLGgzOlt7ZzM6XCJyZXF1aXJlZFwiLHR5cGU6XCJpbnQzMlwiLG5hbWU6XCJ0cmFuc2ZlcklkXCIsaWQ6MX0se2czOlwicmVxdWlyZWRcIix0eXBlOlwiaW50MzJcIixuYW1lOlwidG90YWxTaXplXCIsaWQ6Mn0se2czOlwicmVxdWlyZWRcIix0eXBlOlwiaW50MzJcIixuYW1lOlwiY2h1bmtTaXplXCIsaWQ6M30se2czOlwicmVxdWlyZWRcIix0eXBlOlwiYnl0ZXNcIixuYW1lOlwiZGF0YVwiLGlkOjR9LHtnMzpcIm9wdGlvbmFsXCIsdHlwZTpcInN0cmluZ1wiLG5hbWU6XCJoZWFkZXJzXCIsaWQ6NX1dfSx7bmFtZTpcIkhhdmVzXCIsaDM6W3tnMzpcInJlcGVhdGVkXCIsdHlwZTpcIkhhdmVcIixuYW1lOlwiaGF2ZVwiLGlkOjF9XX0se25hbWU6XCJIYXZlXCIsaDM6W3tnMzpcInJlcXVpcmVkXCIsdHlwZTpcInN0cmluZ1wiLG5hbWU6XCJmcmFnbWVudElkXCIsaWQ6MX0se2czOlwicmVxdWlyZWRcIix0eXBlOlwiaW50MzJcIixuYW1lOlwic2l6ZVwiLGlkOjJ9LHtnMzpcInJlcXVpcmVkXCIsdHlwZTpcImludDMyXCIsbmFtZTpcInR5cGVcIixpZDozfSx7ZzM6XCJyZXF1aXJlZFwiLHR5cGU6XCJpbnQzMlwiLG5hbWU6XCJpZFwiLGlkOjR9LHtnMzpcInJlcXVpcmVkXCIsdHlwZTpcImludDMyXCIsbmFtZTpcImJpdHJhdGVcIixpZDo1fSx7ZzM6XCJyZXF1aXJlZFwiLHR5cGU6XCJpbnQzMlwiLG5hbWU6XCJkdXJhdGlvblwiLGlkOjZ9LHtnMzpcInJlcXVpcmVkXCIsdHlwZTpcImZsb2F0XCIsbmFtZTpcInVwbG9hZFNjb3JlXCIsaWQ6N31dfSx7bmFtZTpcIlBpbmdcIixoMzpbe2czOlwicmVxdWlyZWRcIix0eXBlOlwic3RyaW5nXCIsbmFtZTpcImlkXCIsaWQ6MX0se2czOlwicmVxdWlyZWRcIix0eXBlOlwidWludDY0XCIsbmFtZTpcInN0YXJ0VHNcIixpZDoyfV19LHtuYW1lOlwiUG9uZ1wiLGgzOlt7ZzM6XCJyZXF1aXJlZFwiLHR5cGU6XCJzdHJpbmdcIixuYW1lOlwiaWRcIixpZDoxfSx7ZzM6XCJyZXF1aXJlZFwiLHR5cGU6XCJieXRlc1wiLG5hbWU6XCJkYXRhXCIsaWQ6Mn0se2czOlwicmVxdWlyZWRcIix0eXBlOlwiaW50MzJcIixuYW1lOlwiZGF0YVNpemVcIixpZDozfSx7ZzM6XCJyZXF1aXJlZFwiLHR5cGU6XCJ1aW50NjRcIixuYW1lOlwic3RhcnRUc1wiLGlkOjR9XX0se25hbWU6XCJSZXF1ZXN0XCIsaDM6W3tnMzpcInJlcXVpcmVkXCIsdHlwZTpcInN0cmluZ1wiLG5hbWU6XCJmcmFnbWVudElkXCIsaWQ6MX0se2czOlwicmVxdWlyZWRcIix0eXBlOlwiaW50MzJcIixuYW1lOlwidHJhbnNmZXJJZFwiLGlkOjJ9XX0se25hbWU6XCJEb05vdEhhdmVcIixoMzpbe2czOlwicmVxdWlyZWRcIix0eXBlOlwiaW50MzJcIixuYW1lOlwidHJhbnNmZXJJZFwiLGlkOjF9XX0se25hbWU6XCJOb1BhcnRuZXJzXCIsaDM6W3tnMzpcInJlcXVpcmVkXCIsdHlwZTpcImludDMyXCIsbmFtZTpcInRyYW5zZmVySWRcIixpZDoxfV19LHtuYW1lOlwiQ2FuY2VsXCIsaDM6W3tnMzpcInJlcXVpcmVkXCIsdHlwZTpcImludDMyXCIsbmFtZTpcInRyYW5zZmVySWRcIixpZDoxfV19LHtuYW1lOlwiQWNrXCIsaDM6W3tnMzpcIm9wdGlvbmFsXCIsdHlwZTpcImludDMyXCIsbmFtZTpcInRyYW5zZmVySWRcIixpZDoxfV19LHtuYW1lOlwiQ2xvc2VcIixoMzpbe2czOlwicmVxdWlyZWRcIix0eXBlOlwiaW50MzJcIixuYW1lOlwidHlwZVwiLGlkOjF9XX0se25hbWU6XCJTdHJlYW1DaGFyYWN0ZXJpc3RpY3NcIixoMzpbe2czOlwicmVxdWlyZWRcIix0eXBlOlwiaW50MzJcIixuYW1lOlwic3RyZWFtU3RhdGVcIixpZDoxfSx7ZzM6XCJyZXF1aXJlZFwiLHR5cGU6XCJpbnQzMlwiLG5hbWU6XCJiaXRyYXRlXCIsaWQ6Mn0se2czOlwicmVxdWlyZWRcIix0eXBlOlwiaW50MzJcIixuYW1lOlwiZGVsdGFcIixpZDozfV19LHtuYW1lOlwiT3V0UGFydG5lcnNoaXBSZXF1ZXN0XCIsaDM6W3tnMzpcInJlcXVpcmVkXCIsdHlwZTpcInN0cmluZ1wiLG5hbWU6XCJndWlkXCIsaWQ6MX0se2czOlwicmVxdWlyZWRcIix0eXBlOlwic3RyaW5nXCIsbmFtZTpcImNvbnRleHRJZFwiLGlkOjJ9LHtnMzpcInJlcXVpcmVkXCIsdHlwZTpcInN0cmluZ1wiLG5hbWU6XCJwMnBQcm90b2NvbFZlcnNpb25cIixpZDozfSx7ZzM6XCJvcHRpb25hbFwiLHR5cGU6XCJpbnQzMlwiLG5hbWU6XCJpbnRlcm5hbEFzXCIsaWQ6NH0se2czOlwib3B0aW9uYWxcIix0eXBlOlwiaW50MzJcIixuYW1lOlwiZXh0ZXJuYWxBc1wiLGlkOjV9LHtnMzpcIm9wdGlvbmFsXCIsdHlwZTpcInN0cmluZ1wiLG5hbWU6XCJwdWJsaWNJcFN0cmluZ1wiLGlkOjZ9LHtnMzpcIm9wdGlvbmFsXCIsdHlwZTpcInN0cmluZ1wiLG5hbWU6XCJwcml2YXRlSXBTdHJpbmdcIixpZDo3fSx7ZzM6XCJyZXF1aXJlZFwiLHR5cGU6XCJzdHJpbmdcIixuYW1lOlwicmVwb3J0aW5nR3VpZFwiLGlkOjh9LHtnMzpcInJlcGVhdGVkXCIsdHlwZTpcIlN0cmVhbUNoYXJhY3RlcmlzdGljc1wiLG5hbWU6XCJzdHJlYW1DaGFyYWN0ZXJpc3RpY3NcIixpZDo5fV19LHtuYW1lOlwiT3V0UGFydG5lcnNoaXBSZXNwb25zZVwiLGgzOlt7ZzM6XCJyZXF1aXJlZFwiLHR5cGU6XCJpbnQzMlwiLG5hbWU6XCJhY2NlcHRcIixpZDoxfSx7ZzM6XCJvcHRpb25hbFwiLHR5cGU6XCJpbnQzMlwiLG5hbWU6XCJpbnRlcm5hbEFzXCIsaWQ6Mn0se2czOlwib3B0aW9uYWxcIix0eXBlOlwiaW50MzJcIixuYW1lOlwiZXh0ZXJuYWxBc1wiLGlkOjN9LHtnMzpcIm9wdGlvbmFsXCIsdHlwZTpcInN0cmluZ1wiLG5hbWU6XCJwdWJsaWNJcFN0cmluZ1wiLGlkOjR9LHtnMzpcIm9wdGlvbmFsXCIsdHlwZTpcInN0cmluZ1wiLG5hbWU6XCJwcml2YXRlSXBTdHJpbmdcIixpZDo1fSx7ZzM6XCJvcHRpb25hbFwiLHR5cGU6XCJzdHJpbmdcIixuYW1lOlwicmVwb3J0aW5nR3VpZFwiLGlkOjZ9LHtnMzpcInJlcGVhdGVkXCIsdHlwZTpcIlN0cmVhbUNoYXJhY3RlcmlzdGljc1wiLG5hbWU6XCJzdHJlYW1DaGFyYWN0ZXJpc3RpY3NcIixpZDo3fV19LHtuYW1lOlwiUGVlckluZm9NZXNzYWdlXCIsaDM6W3tnMzpcInJlcXVpcmVkXCIsdHlwZTpcInN0cmluZ1wiLG5hbWU6XCJndWlkXCIsaWQ6MX0se2czOlwib3B0aW9uYWxcIix0eXBlOlwic3RyaW5nXCIsbmFtZTpcInB1YmxpY0lwU3RyaW5nXCIsaWQ6Mn0se2czOlwib3B0aW9uYWxcIix0eXBlOlwic3RyaW5nXCIsbmFtZTpcInByaXZhdGVJcFN0cmluZ1wiLGlkOjN9LHtnMzpcIm9wdGlvbmFsXCIsdHlwZTpcImludDMyXCIsbmFtZTpcImludGVybmFsQXNcIixpZDo0fSx7ZzM6XCJvcHRpb25hbFwiLHR5cGU6XCJpbnQzMlwiLG5hbWU6XCJleHRlcm5hbEFzXCIsaWQ6NX0se2czOlwicmVwZWF0ZWRcIix0eXBlOlwiU3RyZWFtQ2hhcmFjdGVyaXN0aWNzXCIsbmFtZTpcInN0cmVhbUNoYXJhY3RlcmlzdGljc1wiLGlkOjZ9XX0se25hbWU6XCJVRFBIYW5kc2hha2VNZXNzYWdlXCIsaDM6W3tnMzpcInJlcXVpcmVkXCIsdHlwZTpcInN0cmluZ1wiLG5hbWU6XCJ1dWlkXCIsaWQ6MX0se2czOlwicmVxdWlyZWRcIix0eXBlOlwic3RyaW5nXCIsbmFtZTpcInN0cmVhbUlkXCIsaWQ6Mn0se2czOlwicmVxdWlyZWRcIix0eXBlOlwiZmxvYXRcIixuYW1lOlwidWRwU2NvcmVcIixpZDozfSx7ZzM6XCJyZXF1aXJlZFwiLHR5cGU6XCJib29sXCIsbmFtZTpcImlzTGVhZGVyXCIsaWQ6NH1dfSx7bmFtZTpcIlVEUEhhbmRzaGFrZVJlc3BvbnNlXCIsaDM6W3tnMzpcInJlcXVpcmVkXCIsdHlwZTpcInN0cmluZ1wiLG5hbWU6XCJhY2NlcHRcIixpZDoxfV19LHtuYW1lOlwiVURQU3dpdGNoTGVhZGVyc2hpcFJlcXVlc3RcIixoMzpbe2czOlwicmVxdWlyZWRcIix0eXBlOlwic3RyaW5nXCIsbmFtZTpcInV1aWRcIixpZDoxfSx7ZzM6XCJyZXF1aXJlZFwiLHR5cGU6XCJmbG9hdFwiLG5hbWU6XCJ1ZHBTY29yZVwiLGlkOjJ9XX0se25hbWU6XCJVRFBTd2l0Y2hMZWFkZXJzaGlwQWNrXCIsaDM6W3tnMzpcInJlcXVpcmVkXCIsdHlwZTpcImJvb2xcIixuYW1lOlwib2tcIixpZDoxfV19LHtuYW1lOlwiQml0cmF0ZVwiLGgzOlt7ZzM6XCJyZXF1aXJlZFwiLHR5cGU6XCJzdHJpbmdcIixuYW1lOlwiZ3VpZFwiLGlkOjF9LHtnMzpcInJlcXVpcmVkXCIsdHlwZTpcImludDMyXCIsbmFtZTpcImJpdHJhdGVcIixpZDoyfV19XX19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1yKDMpLG49ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxyLGksbil7dGhpcy5UeD0wLHRoaXMuSXg9ITEsdGhpcy5OeD1cIlwiLHRoaXMuQ2s9ZSx0aGlzLlR4PXQsciYmKHRoaXMuYWRkcmVzcz1yKSxpJiYodGhpcy5JeD1pKSxuJiYodGhpcy5OeD1uKX1yZXR1cm4gZS5EcD1mdW5jdGlvbihlLHQpe3ZhciByPTA7cmV0dXJuIHI9ZS5UeD50LlR4PzE6ZS5UeDx0LlR4Py0xOjAsMCE9cj8tcjppLm5pLlVEUEJyb2FkY2FzdC5Icj90LkNrLmxvY2FsZUNvbXBhcmUoZS5Dayk6ZS5Day5sb2NhbGVDb21wYXJlKHQuQ2spfSxlfSgpO3QuRXg9bn0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXIoMSksbj1yKDQwKSxzPXIoMCksbz1yKDE1KSxhPXIoMTApLGg9cigxMSksYz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLlVsPW5ldyBuLkNvdW50ZXIsdGhpcy5qOD1uZXcgaSx0aGlzLkc4PW5ldyBpLHRoaXMuUTg9cy5GcmFtZXdvcmsucmVzb2x2ZShvLlBhLnZhKX1yZXR1cm4gZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbihlKXt0aGlzLnRlPXMuRnJhbWV3b3JrLnJlc29sdmUocy5GcmFtZXdvcmsucS5JKS5sb2coZS5zZXNzaW9uSWQpLHRoaXMuRUM9ZS5FQyx0aGlzLlNDPWUuU0MsdGhpcy5UQz1lLlRDLHRoaXMud0M9ZS53Qyx0aGlzLlVfPWUueF8sdGhpcy5ROC5LOChlLndDKX0sZS5wcm90b3R5cGUuVEk9ZnVuY3Rpb24oZSl7dGhpcy50ZS5kZWJ1ZyhcIkZSTCBJU1NVRSBSRVEgRk9SIEZSQUdNRU5UIFwiK2UuUXUudG9TdHJpbmcoKStcIi1cIitlLk11LlJ1K1wiIFtcIithLldzW2UuWXUoKV0rXCJdIFRPIFAyUFwiKSx0aGlzLmo4LnNldChlLkp1KCksZSk7dmFyIHQ9dGhpcy5VbC5uZXh0KCk7ZS5Gaz10LHRoaXMuRzguc2V0KHQsZS5KdSgpKSx0aGlzLlcwKGUpfSxlLnByb3RvdHlwZS5XMD1mdW5jdGlvbihlKXt2YXIgdD1lLnp1KCkscj1lLkp1KCksaT10aGlzLlk4KHQpO2Uuc2l6ZT10aGlzLkVDLm8xKHQpLnNpemU7dmFyIG49dGhpcy5ROC56OChpLGUudHlwZSk7bnVsbCE9bj8odGhpcy50ZS5pbmZvKFwiU0VORCBSRVFVRVNUIFwiK2UuRmsrXCIgRk9SIFwiK3IrXCIgVE8gXCIrbi5xcS5fbCtcIiAoTEFOIExFQURFUiBcIituLklrLlRrLnNvK1wiIGlBUyBcIituLklrLlRrLmludGVybmFsQXMrXCIgZUFTIFwiK24uSWsuVGsuZXh0ZXJuYWxBcytcIiBwcml2YXRlSXAgXCIrbi5Jay5Uay51bytcIiApIG91dCBvZiBcIitpLmxlbmd0aCtcIiB0eXBlIFwiK2guWnNbbi5Jay5Uay50eXBlXStcIiBzaXplOlwiK2Uuc2l6ZSksZS5LVT1uLGUuWVU9bi5Jay5UayxlLktVLm84KGUuRmspLGUuTXUuSXU9ITAsZS5NdS5PdT1zLkZyYW1ld29yay50aW1lKCksdGhpcy5VXy5KOChlKSx0aGlzLk5rKGUpP24ucXEucmVjZWl2ZXIuQzYoZSk6dGhpcy5EayhlLkZrLFwiVElNRUQtT1VUXCIpKTp0aGlzLkRrKGUuRmssXCJOTyBQQVJUTkVSUyBGT1VORCBGT1IgUkVRVUVTVFwiKX0sZS5wcm90b3R5cGUuWTg9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPVtdO3JldHVybiB0aGlzLkVDLm1rKGUpLmZvckVhY2goZnVuY3Rpb24oZSl7dC5TQy5wVihlLmd1aWQpP3IucHVzaChlKTp0LnRlLndhcm4oXCJJIEhBVkUgQSBIQVZFIEZST00gQSBOT04gSU4tUEFSVE5FUiBcIitlLmd1aWQpfSkscn0sZS5wcm90b3R5cGUuTms9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPSExLGk9MDtudWxsPT1lLnNpemU/KGk9dGhpcy5FQy5vMShlLnp1KCkpLnNpemUsdGhpcy50ZS53YXJuKFwicmVxdWVzdCBzaXplIG5vdCBzZXQgLSB0aGlzIHNob3VsZCBub3QgaGFwcGVuXCIpKTppPWUuc2l6ZTt2YXIgbj1lLkd1LlJOKCkuclUoZSxpKTtyZXR1cm4gZS5rNj1uLG4+MCYmKHI9ITAsbnVsbD09ZS5GeCYmKGUuRng9cy5GcmFtZXdvcmsuc2V0VGltZW91dChmdW5jdGlvbigpe3QuVV8uVzgoZSksdC5EayhlLkZrLFwiVElNRUQtT1VUXCIpfSxuKSkpLHJ9LGUucHJvdG90eXBlLkRrPWZ1bmN0aW9uKGUsdCl7dGhpcy50ZS5pbmZvKHQrXCIgXCIrZSk7dmFyIHI9dGhpcy5YOChlLCEwKTt0aGlzLnRlLmluZm8oXCJSRVFVRVNUIFwiK2UrXCIgRk9SIFwiK3IuSnUoKStcIiBGQUlMRUQgQkVDQVVTRSBcIit0KSxyJiZ0aGlzLlRDLnpKKHIpfSxlLnByb3RvdHlwZS5YOD1mdW5jdGlvbihlLHQpe2lmKHRoaXMuRzguaGFzKGUpKXt2YXIgcj10aGlzLkc4LmdldChlKTt0aGlzLkc4LmRlbGV0ZShlKTt2YXIgaT10aGlzLmo4LmdldChyKTtpZih0aGlzLmo4LmRlbGV0ZShyKSxzLkZyYW1ld29yay5jbGVhclRpbWVvdXQoaS5GeCksdCYmdGhpcy5TQy5wVihpLktVLnFxLl9sKSl7aS5LVS5xcS5yZWNlaXZlci5ONihlKTt2YXIgbj1pLll1KCk9PWEuV3MuWXM7MCE9aS5xdT9pLktVLmM4KGkuRmssaS5xdSxpLk11LnAycEFnZW5UcmFmZmljU3VjY2Vzc1F0LGkuc2l6ZSxuLGkudHlwZSk6aS5LVS5EayhpLkZrLG4saS5zaXplKX1yZXR1cm4gaX1yZXR1cm4gdGhpcy50ZS53YXJuKFwiQ0FMTEVEIENBTkNFTCBSRVFVRVNUIE9OIE5PTiBFWElTVElORyBTRVNTSU9OXCIpLG51bGx9LGUucHJvdG90eXBlLllKPWZ1bmN0aW9uKGUpe2lmKHRoaXMuajguaGFzKGUpKXt2YXIgdD10aGlzLmo4LmdldChlKS5Gazt0aGlzLlg4KHQsITApfX0sZS5wcm90b3R5cGUuRjA9ZnVuY3Rpb24oZSx0LHIsaSl7dGhpcy50ZS5kZWJ1ZyhcIkZSTCBET1dOTE9BRElORyBcIit0Lkp1KCkrXCIgRlJPTSBcIitlK1wiIFAyUFwiKX0sZS5wcm90b3R5cGUuSEM9ZnVuY3Rpb24oZSx0KXtpZih0aGlzLnRlLmRlYnVnKFwiRlJMIFBST01JU0VEIEZSQUdNRU5UIFwiK3QuSnUoKStcIiBSRVRVUk5FRCBGUk9NIFAyUCBTSVpFIFwiK3QuTXUuUnUpLHQ9dGhpcy5YOChlLCExKSl7dC5NdS5OdT1zLkZyYW1ld29yay50aW1lKCk7dmFyIHI9dC5ZdSgpPT1hLldzLllzO3QuS1UuYTgodC5Gayx0LnNpemUsdC5NdS5wMnBBZ2VuVHJhZmZpY1N1Y2Nlc3NRdCwhMCxyLHQudHlwZSksdGhpcy5UQy5XSih0KX1lbHNlIHRoaXMudGUud2FybihcIlRSSUVEIFRPIFJFTU9WRSBBIE5PTiBFWElTVElORyBSRVFVRVNUIFwiK2UrXCIgKFRISVMgU0hPVUxEIE5PVCBIQVBQRU4uIEFUIExFQVNUIE5PVCBUT08gT0ZURU4pXCIpfSxlLnByb3RvdHlwZS5tNj1mdW5jdGlvbihlKXt2YXIgdD1lLlo4KCk7aWYodGhpcy5HOC5oYXModCkpe3RoaXMudGUuZGVidWcoXCJETyBOT1QgSEFWRSBSRUNFSVZFRCBGT1IgXCIrdCk7dmFyIHI9dGhpcy5YOCh0LCExKSxpPXIuWXUoKT09YS5Xcy5ZcztyLktVLkRrKHIuRmssaSxyLnNpemUpLHRoaXMuVEMuekoocil9ZWxzZSB0aGlzLnRlLndhcm4oXCJVTktOT1dOIERPIE5PVCBIQVZFIFwiK3QpfSxlLnByb3RvdHlwZS5TNj1mdW5jdGlvbihlLHQpe3ZhciByPXQuZzY7aWYodGhpcy5HOC5oYXMocikpe3RoaXMudGUuZGVidWcoXCJSRUpFQ1RFRCBCWSBOT04gUEFSVE5FUiBGT1IgXCIrciksdGhpcy5TQy54cShlKTt2YXIgaT10aGlzLlg4KHIsITEpO3RoaXMuVEMuekooaSl9fSxlLnByb3RvdHlwZS5RZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5qOC5oYXMoZSl9LGV9KCk7dC5xej1jfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9cigwKSxuPXIoMjMpLHM9cig0KSxvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbihlKXt0aGlzLnRlPWkuRnJhbWV3b3JrLnJlc29sdmUoaS5GcmFtZXdvcmsucS5JKS5sb2coZS5zZXNzaW9uSWQpLHRoaXMubW49XCJTW1wiK2Uuc2Vzc2lvbklkK1wiXVwiLHRoaXMudng9ZSx0aGlzLkVDPWUuRUMsdGhpcy5Vdz1lLlV3LHRoaXMuU0M9ZS5TQyx0aGlzLnp6PWUuenosdGhpcy53Qz1lLndDLHRoaXMuVV89ZS54X30sZS5wcm90b3R5cGUuWV89ZnVuY3Rpb24oZSx0LHIpe3RyeXtpZih0aGlzLlNDLkdxKGUpKXt2YXIgaT10aGlzLlNDLkFWKGUpO3RoaXMuZTUoZSx0LGkpfWVsc2UgdGhpcy50NShlLHQscil9Y2F0Y2goZSl7cy5FcnJvck1vbml0b3IuZ2koKS5kaShcIkdPVCBFUlJPUiBPTiBTRVJWSU5HIFJFUVVFU1RcIix0aGlzLm1uLHtlcnJvcjplfSl9fSxlLnByb3RvdHlwZS56Nj1mdW5jdGlvbihlLHQscil7aWYodGhpcy56ei5zdWNjZXNzKHIpLHRoaXMuU0MuR3EoZSkpe3ZhciBpPXRoaXMuU0MuQVYoZSk7aS5LVi5zdWNjZXNzKHIpLGkuZjgocix0KX19LGUucHJvdG90eXBlLks2PWZ1bmN0aW9uKGUsdCxyLGkpe2lmKHRoaXMuenoudTgocixpKSx0aGlzLlNDLkdxKGUpKXt2YXIgbj10aGlzLlNDLkFWKGUpO24uS1YudTgocixpKSxuLnk4KHIsaSx0KX19LGUucHJvdG90eXBlLlk2PWZ1bmN0aW9uKGUsdCxyKXtpZih0aGlzLnp6LnhuKCksdGhpcy5TQy5HcShlKSl7dmFyIGk9dGhpcy5TQy5BVihlKTtpLktWLnhuKCksaS5nOChyLHQpfX0sZS5wcm90b3R5cGUuZTU9ZnVuY3Rpb24oZSx0LHIpe3ZhciBpPXRoaXM7dGhpcy5Vdy5nZXQodC5tTikudGhlbihmdW5jdGlvbihuKXtuPyhpLnRlLmRlYnVnKFwiU0VORElORyBUTyBcIitlK1wiLFwiK3QubU4rXCIsXCIrdC5nNitcIixcIituLmxlbmd0aCtcIiBETCBcIituLmxlbmd0aCksci5xcS5zZW5kZXIuVTYodC5tTix0Lmc2LG4ubGVuZ3RoLG4uaGVhZGVycyxuLmRhdGEpKTooaS50ZS5kZWJ1ZyhcIlJFQ0VJVkVEIFJFUVVFU1QgRk9SIFwiK3QubU4rXCIgRlJPTSBcIitlK1wiIENBTidUIEJFIFNFUlZFRFwiKSxpLnI1KHQuZzYscikpfSl9LGUucHJvdG90eXBlLnI1PWZ1bmN0aW9uKGUsdCl7dGhpcy50ZS5pbmZvKFwiU0VORCBETyBOT1QgSEFWRSBcIitlK1wiIFRPIFwiK3QucXEuT2wpO3ZhciByPW5ldyBuLm11Lk1yLm5wLnBsO3IuaTUoZSksdC5xcS5qbChuLm11LlJsLnBsLHIpfSxlLnByb3RvdHlwZS50NT1mdW5jdGlvbihlLHQscil7dGhpcy50ZS53YXJuKFwiR09UIFJFUVVFU1QgRlJPTSBOT04tUEFSVE5FUiBcIitlK1wiIEZPUiBcIit0Lm1OKTt2YXIgaT1uZXcgbi5tdS5Nci5ucC53NjtpLmk1KHQuZzYpLHIuamwobi5tdS5SbC5TbCxpKX0sZX0oKTt0LlZ6PW99LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaSxuPXIoNDQpLHM9cigwKSxvPXIoMyk7IWZ1bmN0aW9uKGUpe2VbZS5uNT0wXT1cIlNcIixlW2UuczU9MV09XCJGXCIsZVtlLm81PTJdPVwiUEZcIn0oaXx8KGk9e30pKTt2YXIgYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dGhpcy50cz1lfXJldHVybiBlfSgpLGg9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5hNT0wLHRoaXMuaDU9MCx0aGlzLmM1PTAsdGhpcy51NT0wLHRoaXMubDU9MCx0aGlzLnA1PTB9cmV0dXJuIGV9KCksYz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLmY1PW5ldyBufXJldHVybiBlLnByb3RvdHlwZS5zdWNjZXNzPWZ1bmN0aW9uKGUpe3RoaXMuZXZlbnQoaS5uNSxlLGUpfSxlLnByb3RvdHlwZS54bj1mdW5jdGlvbigpe3RoaXMuZXZlbnQoaS5zNSwwLDApfSxlLnByb3RvdHlwZS51OD1mdW5jdGlvbihlLHQpe3RoaXMuZXZlbnQoaS5vNSxlLHQpfSxlLnByb3RvdHlwZS5ldmVudD1mdW5jdGlvbihlLHQscil7dmFyIGk9bmV3IGEocy5GcmFtZXdvcmsudGltZSgpKTtpLnZwPWUsaS5kNT10LGkuZzU9dC9yLGkudjU9KHItdCkvcix0aGlzLmY1LnNldChpLnRzLGkpLHRoaXMueTUoKX0sZS5wcm90b3R5cGUueTU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9cy5GcmFtZXdvcmsudGltZSgpLHI9dC0yKm8ubmkuT3IuUHI7aWYocj4wKXt2YXIgaT1bXTt0aGlzLmY1LmZvckVhY2goZnVuY3Rpb24oZSx0KXt0PHImJmkucHVzaCh0KX0pLGkuZm9yRWFjaChmdW5jdGlvbih0KXtlLmY1LmRlbGV0ZSh0KX0pfX0sZS5wcm90b3R5cGUualY9ZnVuY3Rpb24oZSl7dmFyIHQ9MCxyPXRoaXMubTUoZSxvLm5pLk9yLlByKTtpZihudWxsIT1yKXt2YXIgaT1yLmg1K3IuYzUrci51NTt0PTA9PWk/MDooci5oNStyLnU1Km8ubmkuT3IuQXIpL2l9cmV0dXJuIHR9LGUucHJvdG90eXBlLlA4PWZ1bmN0aW9uKGUpe3ZhciB0PTAscj10aGlzLm01KGUsby5uaS5Pci5Qcik7aWYobnVsbCE9cil7dmFyIGk9ci5oNStyLmM1K3IudTU7dD0wPT1pPzA6KHIuYzUrci51NSpvLm5pLk9yLkNyKS9pfXJldHVybiB0fSxlLnByb3RvdHlwZS5FNT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLm01KCExLGUpO3JldHVybiBudWxsIT10P3QuYTU6MH0sZS5wcm90b3R5cGUubTU9ZnVuY3Rpb24oZSx0KXtpZigwIT10aGlzLmY1LmtleXMoKS5sZW5ndGgpe3ZhciByPW5ldyBoLG89cy5GcmFtZXdvcmsudGltZSgpLGE9by10O2E8MCYmKGE9MCk7dmFyIGM9bmV3IG47cmV0dXJuIHRoaXMuZjUuZm9yRWFjaChmdW5jdGlvbihlLHQpe3Q+PWEmJmMuc2V0KHQsZSl9KSxjLmZvckVhY2goZnVuY3Rpb24oZSx0KXtzd2l0Y2goci5hNSs9ZS5kNSxlLnZwKXtjYXNlIGkubjU6ci5oNSsrO2JyZWFrO2Nhc2UgaS5zNTpyLmM1Kys7YnJlYWs7ZGVmYXVsdDpyLnU1Kyssci5sNSs9ZS5nNSxyLnA1Kz1lLnY1fX0pLHJ9cmV0dXJuIG51bGx9LGV9KCk7Yy5Dcj0uMixjLkFyPS4yLHQuano9Y30sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXRoaXMmJnRoaXMuTnN8fGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gcigpe3RoaXMuY29uc3RydWN0b3I9ZX1mb3IodmFyIGkgaW4gdCl0Lmhhc093blByb3BlcnR5KGkpJiYoZVtpXT10W2ldKTtlLnByb3RvdHlwZT1udWxsPT09dD9PYmplY3QuY3JlYXRlKHQpOihyLnByb3RvdHlwZT10LnByb3RvdHlwZSxuZXcgcil9LG49cigxKSxzPXIoMiksbz1yKDApLGE9cigxNzMpLGg9cigxNzUpLGM9cig5Myk7dC5UNXx8KHQuVDU9e30pO3ZhciB1PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXt2YXIgdD1lLmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIHQuSTU9ITEsdC53NT1uZXcgbix0LlVsPTEsdC5xYz1vLkZyYW1ld29yay5yZXNvbHZlKG8uRnJhbWV3b3JrLnEuRCksdC5TNT1vLkZyYW1ld29yay5yZXNvbHZlKG8uRnJhbWV3b3JrLnEuVSksdC5jaGFubmVsTWFuYWdlcj1uZXcgYS5SNSh0LnRlLHQuUzUsdCksdC5TNS5pbml0KHQsdC50ZSx0LmNoYW5uZWxNYW5hZ2VyKSx0LmI1KCksdH1yZXR1cm4gaSh0LGUpLHQucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxyPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyl0W3ItMV09YXJndW1lbnRzW3JdO3ZhciBpPW8uRnJhbWV3b3JrLnJlc29sdmUoby5GcmFtZXdvcmsucS5JKS5sb2coZSksbj1udWxsO3JldHVybiAwPT10aGlzLnNzLmtleXMoKS5sZW5ndGg/KGkuZGVidWcoXCJUUklHR0VSSU5HIENPTk5FQ1QgXCIpLG49dGhpcy5QNSgpLHRoaXMuQTUoZSx0KSk6KGkuZGVidWcoXCJBTFJFQURZIENPTk5FQ1RFRCBcIiksbj10aGlzLnFjLmpjKCksdGhpcy5BNShlLHQpLHRoaXMuUzUubFEoKSYmdGhpcy5DNSh0aGlzLkVoLGUpKSxufSx0LnByb3RvdHlwZS5QNT1mdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1vLkZyYW1ld29yay5OLl87XCJsb2NhbGhvc3RcIj09PXQmJih0PVwiMTI3LjAuMC4xOlwiK2xvY2F0aW9uLnBvcnQpLHRoaXMudGUuZGVidWcoXCJDT05ORUNUSU5HLi5cIik7dmFyIHI9cy5kZWZlcigpO3JldHVybiB0aGlzLnFjLmpjKCkudGhlbihmdW5jdGlvbihpKXt2YXIgbj1pLktjKCk7cmV0dXJuIGUudGUuZGVidWcoXCJNWSBJREVOVElUWSBcIixuKSxlLkVoPW4sZS5TNS5zdGFydCh0LG4sciksci5UZX0pLG51bGx9LHQucHJvdG90eXBlLms1PWZ1bmN0aW9uKCl7cmV0dXJuIHMucmVzb2x2ZShuZXcgbil9LHQucHJvdG90eXBlLmNvbm5lY3Q9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXMuZGVmZXIoKTtyZXR1cm4gdGhpcy53NS5oYXMoZSk/KHRoaXMudGUuZGVidWcoXCJBbHJlYWR5IGNvbm5lY3RlZCB0byBcIitlK1wiLCBpZ25vcmluZ1wiKSxyLnJlc29sdmUodGhpcy53NS5nZXQoZSkpKTp0aGlzLmNoYW5uZWxNYW5hZ2VyLk81KHRoaXMuRWgsZSkudGhlbihmdW5jdGlvbihyKXtyZXR1cm4gdC5jb25uZWN0ZWQoZSxyKX0pLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIHIucmVzb2x2ZShlKX0pLmZhaWwoZnVuY3Rpb24odCl7ci5yZWplY3QoXCJDT05OIFRPIFwiK2UrXCIgQ0FOTk9UIEJFIEVTVEFCTElTSEVEIFwiKX0pLHIuVGV9LHQucHJvdG90eXBlLnNlbmQ9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiEhdGhpcy5jaGFubmVsTWFuYWdlci5zZW5kKGUsdCl8fCh0aGlzLl81KGUpLCExKX0sdC5wcm90b3R5cGUuTjU9ZnVuY3Rpb24oZSx0LHIpe2lmKHRoaXMuSTUmJnRoaXMudGUuZGVidWcoXCJSRUMgQlVGIFwiK3IuYnl0ZUxlbmd0aCtcIiBcIityKSx0aGlzLnc1LmhhcyhlKSl7dGhpcy5JNSYmdGhpcy50ZS5kZWJ1ZyhcIlBST0MgTVNHIEZST00gXCIrZSk7dGhpcy53NS5nZXQoZSkuV2wocil9ZWxzZSB0aGlzLnRlLndhcm4oXCJSRUNFSVZFRCBNU0cgRlJPTSBQRUVSIFwiK2UrXCIgQlVUIElUIElTIE5PVCBDT05ORUNURURcIil9LHQucHJvdG90eXBlLmNvbm5lY3RlZD1mdW5jdGlvbihlLHQpe2lmKHRoaXMudzUuaGFzKGUpKXRoaXMudGUuZGVidWcoXCJSRUNPTk5FQ1RFRCBUTyBcIitlK1wiLCBSRVNFVFRJTkcgU1RBVEVcIiksdGhpcy53NS5nZXQoZSkucmVzZXQoKTtlbHNle3RoaXMudGUuaW5mbyhcIkNPTk5FQ1RFRCBUTyBcIitlKTt2YXIgcj10LlJ4O3IuaW5pdCh0aGlzLkVoLGUpLHRoaXMudzUuc2V0KGUscil9cmV0dXJuIHMucmVzb2x2ZSh0aGlzLnc1LmdldChlKSl9LHQucHJvdG90eXBlLkQ1PWZ1bmN0aW9uKGUsdCl7dGhpcy50ZS5kZWJ1ZyhcIkZBSUxFRCBDT05OIFRPIFwiK3QpLGUucmVqZWN0KFwiQ09OTiBUTyBcIit0K1wiIENBTk5PVCBCRSBFU1RBQkxJU0hFRCBcIil9LHQucHJvdG90eXBlLkY1PWZ1bmN0aW9uKGUsdCl7dGhpcy50ZS5pbmZvKGUrXCIgY29ubmVjdGVkIHRvIG1lXCIpLHRoaXMuY29ubmVjdGVkKGUsdCl9LHQucHJvdG90eXBlLl81PWZ1bmN0aW9uKGUpe3RoaXMudzUuaGFzKGUpPyh0aGlzLnRlLmluZm8oXCJDb25uZWN0aW9uIGNsb3NlZCB0byBcIitlKSx0aGlzLnc1LmRlbGV0ZShlKSx0aGlzLkw1KGUpKTp0aGlzLnRlLndhcm4oXCJUUllJTkcgVE8gUkVNT1ZFIEEgUEVFUiBUSEFUIElTIE5PVCBUSEVSRTogXCIrZSl9LHQucHJvdG90eXBlLmI1PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztjLkJWLkRWJiZvLkZyYW1ld29yay5zZXRJbnRlcnZhbChmdW5jdGlvbigpe3ZhciB0PW8uRnJhbWV3b3JrLnRpbWUoKTtlLnc1LmZvckVhY2goZnVuY3Rpb24ocixpKXt2YXIgbj10LXIuaXAoKTtuPmMuQlYuTFYmJihlLnRlLmRlYnVnKFwiY2xvc2luZyBzdGFsZSBjb25uZWN0aW9uIHRvIFwiK2krXCIgW3VudXNlZCBmb3I6IFwiK24rXCJtc11cIiksZS5kaXNjb25uZWN0KGkpKX0pfSxjLkJWLkZWKX0sdC5wcm90b3R5cGUuTTU9ZnVuY3Rpb24oKXt9LHQucHJvdG90eXBlLmRpc2Nvbm5lY3Q9ZnVuY3Rpb24oZSl7dGhpcy53NS5oYXMoZSkmJnRoaXMuY2hhbm5lbE1hbmFnZXIuZGlzY29ubmVjdChlKX0sdH0oaC5CNSk7dS4kcj1cImF2YWlsYWJsZVNlbmRSYXRlXCIsdS5laT1cInJlbW90ZUFkZHJlc3NcIix1LnRpPVwibG9jYWxBZGRyZXNzXCIsdC5Eej11fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9cigyKSxuPXIoMCkscz1yKDE3NCksbz1yKDkzKSxhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQscil7dGhpcy50ZT1lLHRoaXMuUzU9dCx0aGlzLlU1PXIsdGhpcy54NT17aWNlU2VydmVyczpbe3VybDpcInN0dW46c3R1bi5oaXZlc3RyZWFtaW5nLmNvbTozNDc4XCJ9XX0sdGhpcy5VbD0xLHRoaXMuSDU9bnVsbCx0aGlzLnE1PXt9LHRoaXMuVjU9e319cmV0dXJuIGUucHJvdG90eXBlLk81PWZ1bmN0aW9uKGUsdCl7dmFyIHI9bnVsbDtpZih0IGluIHRoaXMuVjUpe3ZhciBuPWkuZGVmZXIoKTtuLnJlamVjdChcIk9USEVSIEFMUkVBRFkgVFJZSU5HIFRPIENPTk5FQ1RcIikscj1uLlRlfWVsc2V7dGhpcy5VNS5JNSYmdGhpcy50ZS5pbmZvKFwiSW5pdGlhdGluZyBjb25uZWN0aW9uIHRvIFwiK3QpO3ZhciBzPXRoaXMuajUoZSx0KTtyPXRoaXMuRzUocyx0KS5jb25uZWN0KHQpfXJldHVybiByfSxlLnByb3RvdHlwZS5RNT1mdW5jdGlvbihlKXtlLks1IGluIHRoaXMuVjUmJihkZWxldGUgdGhpcy5xNVtlLmxhYmVsXSxkZWxldGUgdGhpcy5WNVtlLks1XSksZS5vcGVuJiYodGhpcy5VNS5fNShlLks1KSxlLm9wZW49ITEpfSxlLnByb3RvdHlwZS5zZW5kPWZ1bmN0aW9uKGUsdCl7dGhpcy5VNS5JNSYmdGhpcy50ZS5kZWJ1ZyhcIkRBVEEgXCIrdC5ieXRlTGVuZ3RoK1wiIFwiK3QpO3ZhciByPXRoaXMuVjVbZV07cmV0dXJuISghcnx8IXIuY2hhbm5lbCkmJihyLmNoYW5uZWwuc2VuZCh0KSwhMCl9LGUucHJvdG90eXBlLnokPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dC5jaGFubmVsO2lmKHImJnIubGFiZWwmJnRoaXMucTVbci5sYWJlbF0pe3ZhciBpPXRoaXMucTVbci5sYWJlbF0sbj1pW2VdO24uY2FsbChpLHQpfWVsc2V7dmFyIHM9XCJoYW5kbGVfXCIrZSxuPXRoaXNbc107bj9uLmNhbGwodGhpcyx0KTp0aGlzLnRlLndhcm4oXCJIYW5kbGVyIFwiK3MrXCIgbm90IGZvdW5kIG9yIGNoYW5uZWwgXCIrci5sYWJlbCtcIiBub3QgYWN0aXZlXCIpfX0sZS5wcm90b3R5cGUuaGFuZGxlX29mZmVyPWZ1bmN0aW9uKGUpe2lmKHRoaXMuVTUuSTUmJnRoaXMudGUuaW5mbyhcInJlY2VpdmVkIGFuIG9mZmVyIGZyb20gXCIrZS5wZWVyLmd1aWQrXCIgb24gY2hhbm5lbCBcIitlLmNoYW5uZWwubGFiZWwpLHRoaXMuVjVbZS5wZWVyLmd1aWRdJiZlLnBlZXI8dGhpcy5VNS5FaCl0aGlzLlM1Llk1KHRoaXMuVTUuRWgsZS5wZWVyLmd1aWQsZS5jaGFubmVsLmxhYmVsKTtlbHNle3ZhciB0PXRoaXMuRzUoZS5jaGFubmVsLmxhYmVsLGUucGVlci5ndWlkKSxyPXRoaXMuejUodCk7dC5vZmZlcihlLHIpfX0sZS5wcm90b3R5cGUuejU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbi5GcmFtZXdvcmsuc2V0VGltZW91dChmdW5jdGlvbigpe3QudGUud2FybihcIklOQ09NSU5HIENPTk5FQ1RJT04gRlJPTSBcIitlLks1K1wiIFRJTUVEIE9VVFwiKSxlLmNsb3NlKCl9LG8uQlYuTVYpfSxlLnByb3RvdHlwZS5HNT1mdW5jdGlvbihlLHQpe3ZhciByPW5ldyBzLko1KHRoaXMsdGhpcy5VNSxlLHRoaXMuSDUsdGhpcy54NSx0KTtyZXR1cm4gdGhpcy5xNVtlXT1yLHRoaXMuVjVbdF09cixyfSxlLnByb3RvdHlwZS5oYW5kbGVfb2ZmZXJfcmVqZWN0ZWQ9ZnVuY3Rpb24oZSl7dGhpcy5VNS5JNSYmdGhpcy50ZS5kZWJ1ZyhcInJlbW90ZSBwZWVyIHJlamVjdGVkIFwiLGUpO3ZhciB0PXRoaXMuVjVbZS5XNV07dCYmdC5jbG9zZSgpLGRlbGV0ZSB0aGlzLlY1W2UuVzVdLGRlbGV0ZSB0aGlzLnE1W2UuY2hhbm5lbF19LGUucHJvdG90eXBlLmo1PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuc3Vic3RyaW5nKDAsTWF0aC5tYXgoOCxlLmxlbmd0aCkpK1wiOlwiK3Quc3Vic3RyaW5nKDAsTWF0aC5tYXgoOCx0Lmxlbmd0aCkpK1wiOlwiK3RoaXMuVWwrK30sZS5wcm90b3R5cGUuZGlzY29ubmVjdD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLlY1W2VdO3QmJnQuY2xvc2UoKX0sZX0oKTt0LlI1PWF9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT0ocig1MikscigyKSksbj1yKDApLHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxyLGkscyxvKXt2YXIgYT10aGlzO3RoaXMuY2hhbm5lbE1hbmFnZXI9ZSx0aGlzLlU1PXQsdGhpcy5sYWJlbD1yLHRoaXMuSDU9aSx0aGlzLng1PXMsdGhpcy5LNT1vLHRoaXMuSTU9ITEsdGhpcy5wTT1udWxsLHRoaXMuY2hhbm5lbD1udWxsLHRoaXMuWDU9bnVsbCx0aGlzLlo1PTUsdGhpcy50aW1lb3V0PTVlMyx0aGlzLm9wZW49ITEsdGhpcy5lOT0hMSx0aGlzLnQ5PW5ldyBBcnJheSx0aGlzLnI5PWZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLmNoYW5uZWwmJlwiY29ubmVjdGluZ1wiPT09dGhpcy5jaGFubmVsLnJlYWR5U3RhdGV9LHRoaXMudGU9bi5GcmFtZXdvcmsucmVzb2x2ZShuLkZyYW1ld29yay5xLkkpLmxvZygpLHRoaXMubW49XCJbY2g6XCIrdGhpcy5sYWJlbCtcIl0gXCIsdGhpcy5SeD1uLkZyYW1ld29yay5yZXNvbHZlKG4uRnJhbWV3b3JrLnEuTCksdGhpcy5SeC5pbml0KHRoaXMuVTUuRWgsbyksdGhpcy5wTT1uZXcgUlRDUGVlckNvbm5lY3Rpb24odGhpcy54NSx0aGlzLkg1KSx0aGlzLnBNLm9uaWNlY2FuZGlkYXRlPWZ1bmN0aW9uKGUpe2UmJmUuY2FuZGlkYXRlJiYoYS50OS5wdXNoKGUuY2FuZGlkYXRlKSxhLmU5JiZhLmk5KCkpfSx0aGlzLnBNLm9ubmVnb3RpYXRpb25uZWVkZWQ9ZnVuY3Rpb24oKXthLmNyZWF0ZU9mZmVyKCkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gYS5uOShlKX0pLnRoZW4oZnVuY3Rpb24oZSl7YS5JNSYmYS50ZS5kZWJ1ZyhhLm1uK1wiU2VuZGluZyBvZmZlciB0byBcIithLks1K1wiIFtjYW5kaWRhdGVzOiBcIithLnQ5Lmxlbmd0aCtcIl1cIik7dmFyIHQ9YS50OTthLnQ5PW5ldyBBcnJheTt2YXIgcj1hLmNoYW5uZWxNYW5hZ2VyLlM1Lm9mZmVyKGEuVTUuRWgsYS5LNSxhLHQsZSk7cmV0dXJuIGEuZTk9ITAscn0pLmNhdGNoKGZ1bmN0aW9uKGUpe2EudGUuZXJyb3IoYS5tbitcIiBcIitlKSxhLmNsb3NlKCl9KX0sdGhpcy5wTS5vbmljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZT1mdW5jdGlvbihlKXtcImRpc2Nvbm5lY3RlZFwiPT09YS5wTS5pY2VDb25uZWN0aW9uU3RhdGUmJmEuY2xvc2UoKSxcImZhaWxlZFwiPT09YS5wTS5pY2VDb25uZWN0aW9uU3RhdGUmJihhLnRlLmRlYnVnKGEubW4rXCJDbG9zaW5nIGNoYW5uZWwgc2luY2UgaXQgY291bGRudCBiZSBlc3RhYmxpc2hlZCB0byBcIithLks1KSxhLmNsb3NlKCkpfSx0aGlzLnBNLm9uc2lnbmFsaW5nc3RhdGVjaGFuZ2U9ZnVuY3Rpb24oZSl7XCJjbG9zZWRcIj09PWUuc2lnbmFsaW5nU3RhdGUmJmEuY2xvc2UoKX19cmV0dXJuIGUucHJvdG90eXBlLnM5PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztpZih0aGlzLmNoYW5uZWwmJlwib3BlblwiIT10aGlzLmNoYW5uZWwucmVhZHlTdGF0ZSl7aWYodGhpcy5JNSYmdGhpcy50ZS5kZWJ1Zyh0aGlzLm1uK1wiQ2hlY2sgY29ubmVjdGlvbiBcIit0aGlzLks1KSx0aGlzLlo1PD0wKXJldHVybiB0aGlzLnRlLmRlYnVnKHRoaXMubW4rXCJDbG9zaW5nIGNoYW5uZWwgc2luY2UgaXQgY291bGRudCBiZSBlc3RhYmxpc2hlZCB0byBcIit0aGlzLks1KSx2b2lkIHRoaXMuY2xvc2UoKTt0aGlzLlo1LT0xLHRoaXMuWDU9bi5GcmFtZXdvcmsuc2V0VGltZW91dChmdW5jdGlvbigpe3JldHVybiBlLnM5KCl9LHRoaXMudGltZW91dCl9fSxlLnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbigpe3RoaXMuSTUmJnRoaXMudGUuZGVidWcodGhpcy5tbitcIkNsb3NpbmcgY29ubmVjdGlvbiB0byBcIit0aGlzLks1KSx0aGlzLmNoYW5uZWxNYW5hZ2VyLlE1KHRoaXMpLHRoaXMucE0mJlwiY2xvc2VkXCIhPT10aGlzLnBNLnNpZ25hbGluZ1N0YXRlJiYodGhpcy5wTS5jbG9zZSgpLHRoaXMuY2hhbm5lbCYmdGhpcy5jaGFubmVsLmNsb3NlKCkpfSxlLnByb3RvdHlwZS5jb25uZWN0PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dGhpcy5JNSYmdGhpcy50ZS5kZWJ1Zyh0aGlzLm1uK1wiQ29ubmVjdGluZyB0byBcIitlKSx0aGlzLks1PWUsdGhpcy5jaGFubmVsPXRoaXMucE0uY3JlYXRlRGF0YUNoYW5uZWwodGhpcy5sYWJlbCk7dmFyIHI9dGhpcy5vOSghMCwtMSk7cmV0dXJuIHRoaXMuWDU9bi5GcmFtZXdvcmsuc2V0VGltZW91dChmdW5jdGlvbigpe3JldHVybiB0LnM5KCl9LHRoaXMudGltZW91dCkscn0sZS5wcm90b3R5cGUuYTk9ZnVuY3Rpb24oZSl7dmFyIHQ9aS5kZWZlcigpO3JldHVybiB0aGlzLnBNLnNldFJlbW90ZURlc2NyaXB0aW9uKGUsZnVuY3Rpb24oKXtyZXR1cm4gdC5yZXNvbHZlKFwiT0tcIil9LHQucmVqZWN0KSx0LlRlfSxlLnByb3RvdHlwZS5uOT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9aS5kZWZlcigpO3JldHVyblwiY2xvc2VkXCIhPT10aGlzLnBNLnNpZ25hbGluZ1N0YXRlP3RoaXMucE0uc2V0TG9jYWxEZXNjcmlwdGlvbihlLGZ1bmN0aW9uKCl7cmV0dXJuIHIucmVzb2x2ZSh0LnBNLmxvY2FsRGVzY3JpcHRpb24pfSxyLnJlamVjdCk6ci5yZWplY3Qsci5UZX0sZS5wcm90b3R5cGUuY3JlYXRlT2ZmZXI9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9aS5kZWZlcigpO3JldHVybiB0aGlzLnBNLmNyZWF0ZU9mZmVyKHQucmVzb2x2ZSxmdW5jdGlvbih0KXtlLnRlLmVycm9yKGUubW4rXCIgXCIrdCksZS5jbG9zZSgpfSksdC5UZX0sZS5wcm90b3R5cGUuY3JlYXRlQW5zd2VyPWZ1bmN0aW9uKCl7dmFyIGU9aS5kZWZlcigpO3JldHVybiB0aGlzLnBNLmNyZWF0ZUFuc3dlcihlLnJlc29sdmUsZS5yZWplY3QpLGUuVGV9LGUucHJvdG90eXBlLm9mZmVyPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpczt0aGlzLkk1JiYodGhpcy50ZS5kZWJ1Zyh0aGlzLm1uK1wiUmVjZWl2ZWQgYW4gb2ZmZXIgZnJvbSBcIit0aGlzLks1KSx0aGlzLnRlLmRlYnVnKHRoaXMubW4rXCJPZmZlcjpcIixlKSksdGhpcy5wTS5vbmRhdGFjaGFubmVsPWZ1bmN0aW9uKGUpe3IuY2hhbm5lbD1lLmNoYW5uZWwsci5vOSghMSx0KX07dmFyIGk9bmV3IFJUQ1Nlc3Npb25EZXNjcmlwdGlvbihlLmNoYW5uZWwub2ZmZXIpO3RoaXMuSzU9ZS5wZWVyLmd1aWQsdGhpcy5hOShpKS50aGVuKGZ1bmN0aW9uKHQpe2lmKFwiY2xvc2VkXCIhPT1yLnBNLnNpZ25hbGluZ1N0YXRlKXJldHVybiByLnVwZGF0ZV9pY2VfY2FuZGlkYXRlcyhlKSxyLmNyZWF0ZUFuc3dlcigpfSkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gci5uOShlKX0pLnRoZW4oZnVuY3Rpb24oZSl7ci50ZS5kZWJ1ZyhyLm1uK1wiU2VuZGluZyBiYWNrIGFuIGFuc3dlciBbY2FuZGlkYXRlczogXCIrci50OS5sZW5ndGgrXCJdXCIpO3ZhciB0PXIudDk7ci50OT1uZXcgQXJyYXksci5jaGFubmVsTWFuYWdlci5TNS5hbnN3ZXIocixlLHQsci5LNSksci5lOT0hMH0pLmNhdGNoKGZ1bmN0aW9uKGUpe3IudGUuZXJyb3Ioci5tbitcIiBcIitlKSxyLmNsb3NlKCl9KX0sZS5wcm90b3R5cGUuYW5zd2VyPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dGhpcy5JNSYmdGhpcy50ZS5kZWJ1Zyh0aGlzLm1uK1wiQW5zd2VyOiBcIixlKTt2YXIgcj1uZXcgUlRDU2Vzc2lvbkRlc2NyaXB0aW9uKGUuYW5zd2VyKTt0aGlzLmE5KHIpLnRoZW4oZnVuY3Rpb24oKXtcImNsb3NlZFwiIT09dC5wTS5zaWduYWxpbmdTdGF0ZSYmdC51cGRhdGVfaWNlX2NhbmRpZGF0ZXMoZSl9KS5jYXRjaChmdW5jdGlvbihlKXt0LmNsb3NlKCksdC50ZS5lcnJvcih0Lm1uK1wiIFwiK2UpfSl9LGUucHJvdG90eXBlLnVwZGF0ZV9pY2VfY2FuZGlkYXRlcz1mdW5jdGlvbihlKXt2YXIgdD10aGlzO2UuY2hhbm5lbC5pY2VfY2FuZGlkYXRlcy5mb3JFYWNoKGZ1bmN0aW9uKGUpe3QuSTUmJnQudGUuZGVidWcodC5tbitcImdvdCBJQ0UgY2FuZDogXCIsZSk7dmFyIHI9bmV3IFJUQ0ljZUNhbmRpZGF0ZShlKTt0LnBNLmFkZEljZUNhbmRpZGF0ZShyLGZ1bmN0aW9uKCl7fSxmdW5jdGlvbihlKXtyZXR1cm4gdC50ZS53YXJuKHQubW4rXCJGQUlMRUQgVVBEQVRJTkcgSUNFIENBTkRJREFURVwiLGUpfSl9KX0sZS5wcm90b3R5cGUubzk9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49aS5kZWZlcigpO3JldHVybiB0aGlzLmNoYW5uZWwub25vcGVuPWZ1bmN0aW9uKGkpe3JldHVybiByLmg5KG4sZSx0KX0sdGhpcy5jaGFubmVsLm9uY2xvc2U9ZnVuY3Rpb24oZSl7ci5jbG9zZSgpLG4ucmVqZWN0KHIpfSx0aGlzLmNoYW5uZWwub25tZXNzYWdlPWZ1bmN0aW9uKGUpe3JldHVybiByLlJ4LldsKGUuZGF0YSl9LHRoaXMuY2hhbm5lbC5vbmVycm9yPWZ1bmN0aW9uKGUpe3IudGUuZXJyb3Ioci5tbitcIiAtLSBXZWJSVEMgY2hhbm5lbCBlcnJvclwiLGUpLHIuY2xvc2UoKX0sbi5UZX0sZS5wcm90b3R5cGUuaDk9ZnVuY3Rpb24oZSx0LHIpe3RoaXMub3Blbj0hMCxlLnJlc29sdmUodGhpcyksdHx8KHRoaXMuVTUuRjUodGhpcy5LNSx0aGlzKSxyJiZuLkZyYW1ld29yay5jbGVhclRpbWVvdXQocikpfSxlLnByb3RvdHlwZS5pOT1mdW5jdGlvbigpe3ZhciBlPXRoaXMsdD10aGlzLnQ5O2lmKHRoaXMudDk9bmV3IEFycmF5LHQmJnQubGVuZ3RoPjApe3ZhciByPXQubGVuZ3RoO3RoaXMuY2hhbm5lbE1hbmFnZXIuUzUuYzkodGhpcy5VNS5FaCx0aGlzLHQsdGhpcy5LNSkudGhlbihmdW5jdGlvbih0KXtlLkk1JiZlLnRlLmRlYnVnKGUubW4rXCJzZW50IFwiK3IrXCIgbW9yZSBjYW5kaWRhdGVzXCIpfSkuY2F0Y2goZnVuY3Rpb24odCl7ZS50ZS5lcnJvcihlLm1uK1wiIFwiK3QpfSl9fSxlfSgpO3QuSjU9c30sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXIoMSksbj1yKDApLHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5zcz1uZXcgaSx0aGlzLnRlPW4uRnJhbWV3b3JrLnJlc29sdmUobi5GcmFtZXdvcmsucS5JKS5sb2coKX1yZXR1cm4gZS5wcm90b3R5cGUuQTU9ZnVuY3Rpb24oZSx0KXt0aGlzLnRlLmluZm8oXCJTRVQgTElTVEVORVJTIEZPUiBcIitlK1wiLFwiK3QubGVuZ3RoKSx0aGlzLnNzLnNldChlLHQpfSxlLnByb3RvdHlwZS51OT1mdW5jdGlvbihlKXt0aGlzLnNzLmRlbGV0ZShlKX0sZS5wcm90b3R5cGUubDk9ZnVuY3Rpb24oKXt0aGlzLnNzLmxlbmd0aD4wJiZ0aGlzLnNzLmZvckVhY2goZnVuY3Rpb24oZSx0KXtlLmZvckVhY2goZnVuY3Rpb24oZSl7ZS55cSYmZS55cSgpfSl9KX0sZS5wcm90b3R5cGUuQzU9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3RoaXMuc3MubGVuZ3RoPjAmJih0P3RoaXMuc3MuZ2V0KHQpLmZvckVhY2goZnVuY3Rpb24odCl7dHJ5e3QuWmgmJnQuWmgoZSl9Y2F0Y2goZSl7ci50ZS5lcnJvcihcIkNhbm5vdCBmaXJlIHNlcnZlciBjb25uZWN0ZWQgb24gXCIrdCl9fSk6dGhpcy5zcy5mb3JFYWNoKGZ1bmN0aW9uKHQsaSl7dC5mb3JFYWNoKGZ1bmN0aW9uKHQpe3RyeXt0LlpoJiZ0LlpoKGUpfWNhdGNoKGUpe3IudGUuZXJyb3IoXCJDYW5ub3QgZmlyZSBzZXJ2ZXIgY29ubmVjdGVkIG9uIFwiK3QpfX0pfSkpfSxlLnByb3RvdHlwZS5MNT1mdW5jdGlvbihlKXt0aGlzLnNzLmxlbmd0aD4wJiZ0aGlzLnNzLmZvckVhY2goZnVuY3Rpb24odCxyKXt0LmZvckVhY2goZnVuY3Rpb24odCl7dC5hSCYmdC5hSChlKX0pfSl9LGV9KCk7dC5CNT1zfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9cigyKSxuPXIoMCkscz1yKDIxKSxvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuVWw9MSx0aGlzLmNsaWVudD1uLkZyYW1ld29yay5yZXNvbHZlKG4uRnJhbWV3b3JrLnEuSCl9cmV0dXJuIGUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oZSx0LHIpe3RoaXMuVTU9ZSx0aGlzLnRlPXQsdGhpcy5jaGFubmVsTWFuYWdlcj1yfSxlLnByb3RvdHlwZS5sUT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNsaWVudC5sYygpLmxRKCl9LGUucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKGUsdCxyKXt2YXIgaT10aGlzO3RoaXMudGUuZGVidWcoXCJNWSBJRCBcIit0KSx0aGlzLkVoPXQsdGhpcy5jbGllbnQmJnRoaXMuY2xpZW50LmxjKCk/dGhpcy5jbGllbnQubGMoKS5vbihTZXJ2aWNlcy5UUSwxLGZ1bmN0aW9uKGUpe2kucDkoZS5tc2cpfSk6dGhpcy50ZS5lcnJvcihcImVycm9yIGdldHRpbmcgYWN0aXZlIHNlcnZpY2VzIGNvbm5lY3Rpb25cIiksdGhpcy5VNS5DNSh0aGlzLkVoKX0sZS5wcm90b3R5cGUucDk9ZnVuY3Rpb24oZSl7dmFyIHQ9SlNPTi5wYXJzZShlKTt0aGlzLlU1Lkk1JiZ0aGlzLnRlLmRlYnVnKFwiUkNWIE1TRyBGUk9NIFNSViBcIix0KSx0aGlzLmNoYW5uZWxNYW5hZ2VyLnokKHQubXNnTmFtZSx0Lm1zZyl9LGUucHJvdG90eXBlLmY5PWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10aGlzLndyYXAodCxlLHIpO2lmKHRoaXMuY2xpZW50JiZ0aGlzLmNsaWVudC5sYygpKXt2YXIgbz1KU09OLnN0cmluZ2lmeShuKTt0aGlzLlU1Lkk1JiZ0aGlzLnRlLmRlYnVnKFwiIEZPUldBUkRJTkcgUkVRVUVTVCA6IFwiK28pO3ZhciBhPW5ldyBzLnBjKFNlcnZpY2VzLlRRLDAsbyk7cmV0dXJuIHRoaXMuY2xpZW50LmxjKCkuc2VuZChhKX1yZXR1cm4gaS5yZWplY3QoKX0sZS5wcm90b3R5cGUud3JhcD1mdW5jdGlvbihlLHQscil7cmV0dXJue21zZ0lkOnRoaXMuVWwrKyxkZXN0aW5hdGlvbjpyLG1zZzplLG1zZ05hbWU6dH19LGUucHJvdG90eXBlLmM5PWZ1bmN0aW9uKGUsdCxyLGkpe3ZhciBuPXtjaGFubmVsOntsYWJlbDp0LmxhYmVsLGljZV9jYW5kaWRhdGVzOnJ9fTtyZXR1cm4gdGhpcy5mOShcInVwZGF0ZV9pY2VfY2FuZGlkYXRlc1wiLG4saSl9LGUucHJvdG90eXBlLm9mZmVyPWZ1bmN0aW9uKGUsdCxyLGkscyl7dmFyIG89e3BlZXI6e2d1aWQ6ZSxmaXJzdF9zZWVuOm4uRnJhbWV3b3JrLnRpbWUoKX0sY2hhbm5lbDp7bGFiZWw6ci5sYWJlbCxpY2VfY2FuZGlkYXRlczppLG9mZmVyOnN9fTtyZXR1cm4gdGhpcy5mOShcIm9mZmVyXCIsbyxyLks1KX0sZS5wcm90b3R5cGUuWTU9ZnVuY3Rpb24oZSx0LHIpe3RoaXMuVTUuSTUmJnRoaXMudGUuZGVidWcoXCJEaXNjb3Zlcnkgc2VydmljZSByZWplY3RzIG9mZmVyIGZyb20gcGVlciBcIit0K1wiIG9uIGNoYW5uZWwgXCIrcik7dmFyIGk9e1c1OmUsY2hhbm5lbDpyfTtyZXR1cm4gdGhpcy5mOShcImFuc3dlclwiLGksdCl9LGUucHJvdG90eXBlLmFuc3dlcj1mdW5jdGlvbihlLHQscixpKXt2YXIgbj17YW5zd2VyOnQsZDk6dGhpcy5VNS5FaCxjaGFubmVsOntsYWJlbDplLmxhYmVsLGljZV9jYW5kaWRhdGVzOnJ9fTtyZXR1cm4gdGhpcy5mOShcImFuc3dlclwiLG4saSl9LGV9KCk7dC5Gej1vfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9cigxKSxuPXIoMykscz1yKDApLG89ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5lTj1uZXcgaSx0aGlzLmc5PVtdLHRoaXMuUjY9bmV3IGksdGhpcy52OT1uZXcgaX1yZXR1cm4gZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbihlKXt0aGlzLnRlPXMuRnJhbWV3b3JrLnJlc29sdmUocy5GcmFtZXdvcmsucS5JKS5sb2coZS5zZXNzaW9uSWQpLHRoaXMuVEM9ZS5UQyx0aGlzLnk5KCl9LGUucHJvdG90eXBlLnk5PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztzLkZyYW1ld29yay5zZXRJbnRlcnZhbChmdW5jdGlvbigpe2UubTkoKX0sbi5uaS5tci52cil9LGUucHJvdG90eXBlLm05PWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLlI2LnZhbHVlcygpLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gcy5GcmFtZXdvcmsudGltZSgpLWUuTXUua3U+bi5uaS5tci55cn0pLmZvckVhY2goZnVuY3Rpb24odCl7ZS5UQy5hYm9ydCh0LlZ1KSxlLmNOKHQuenUoKSx0Lkp1KCkpfSl9LGUucHJvdG90eXBlLmhOPWZ1bmN0aW9uKGUpe3RoaXMuRTkoZS56dSgpLGUuSnUoKSksdGhpcy5SNi5zZXQoZS5KdSgpLGUpfSxlLnByb3RvdHlwZS5jTj1mdW5jdGlvbihlLHQpe3RoaXMuUjYuZGVsZXRlKHQpLHRoaXMuVDkoZSx0KX0sZS5wcm90b3R5cGUucE49ZnVuY3Rpb24oZSl7dGhpcy5JOShlKX0sZS5wcm90b3R5cGUudU49ZnVuY3Rpb24oZSl7dGhpcy5lTi5kZWxldGUoZSl9LGUucHJvdG90eXBlLkk5PWZ1bmN0aW9uKGUpe2lmKHRoaXMuZU4uc2V0KGUuenUoKSxlLkt1KCkpLHRoaXMuZzkucHVzaChlLnp1KCkpLHRoaXMuZU4ubGVuZ3RoPm4ubmkubXIuZ3Ipe3ZhciB0PXRoaXMuZzlbMF07dGhpcy5lTi5kZWxldGUodCksdGhpcy5nOS5zcGxpY2UoMCwxKX19LGUucHJvdG90eXBlLlpfPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVOLmhhcyhlKX0sZS5wcm90b3R5cGUudE49ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZU4uZ2V0KGUpfSxlLnByb3RvdHlwZS5FOT1mdW5jdGlvbihlLHQpe2lmKHRoaXMudjkuaGFzKGUpKXRoaXMudjkuZ2V0KGUpLnB1c2godCk7ZWxzZXt2YXIgcj1bXTtyLnB1c2godCksdGhpcy52OS5zZXQoZSxyKX19LGUucHJvdG90eXBlLlQ5PWZ1bmN0aW9uKGUsdCl7aWYodGhpcy52OS5oYXMoZSkpe3ZhciByPXRoaXMudjkuZ2V0KGUpLGk9ci5pbmRleE9mKHQpOy0xPT1pP3RoaXMudGUud2FybihcIkkgQ0FOTk9UIEZJTkQgVEhFIFJFUVVFU1QgSUQgXCIrdCk6ci5zcGxpY2UoaSwxKSwwPT1yLmxlbmd0aCYmdGhpcy52OS5kZWxldGUoZSl9ZWxzZSB0aGlzLnRlLndhcm4oXCJUUklFRCBUTyBSRU1PVkUgQU4gT0JKRUNUIFRIQVQgRE9FUyBOT1QgRVhJU1RcIil9LGUucHJvdG90eXBlLm5OPWZ1bmN0aW9uKGUpe3ZhciB0PVtdO2lmKHRoaXMudzkoZSkpZm9yKHZhciByPXRoaXMudjkuZ2V0KGUpLGk9MDtpPHIubGVuZ3RoO2krKyl0aGlzLlI2LmhhcyhyW2ldKSYmdC5wdXNoKHRoaXMuUjYuZ2V0KHJbaV0pKTtyZXR1cm4gdH0sZS5wcm90b3R5cGUudzk9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudjkuaGFzKGUpfSxlLnByb3RvdHlwZS5kTj1mdW5jdGlvbigpe3JldHVybiAwIT10aGlzLlI2Lmxlbmd0aH0sZS5wcm90b3R5cGUuaU49ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudjkuaGFzKGUpfSxlfSgpO3QubXI9b30sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXIoMSksbj1yKDMpLHM9cigyNSksbz1zLnNsLGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5UeD0wLHRoaXMuUzk9MCx0aGlzLmFvPS0xLHRoaXMuUjk9ITEsdGhpcy5iOT0hMSx0aGlzLlA5PSExLHRoaXMuQTk9ITEsdGhpcy5DOT1uZXcgaX1yZXR1cm4gZS5wcm90b3R5cGUudnE9ZnVuY3Rpb24oZSl7dGhpcy5rOT1lfSxlLnByb3RvdHlwZS5XPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuazl9LGUucHJvdG90eXBlLm9KPWZ1bmN0aW9uKGUpe3RoaXMuVHg9ZX0sZS5wcm90b3R5cGUub0g9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5UeH0sZS5wcm90b3R5cGUuYUo9ZnVuY3Rpb24oZSl7dGhpcy5TOT1lfSxlLnByb3RvdHlwZS5KMD1mdW5jdGlvbigpe3JldHVybiB0aGlzLlM5fSxlLnByb3RvdHlwZS5ySj1mdW5jdGlvbihlKXt2YXIgdD1vLlZkKGUrXCJfXCIrbi5uaS5VdC5fdCkudG9TdHJpbmcoby5FZC5UZCk7dGhpcy5mUj10fSxlLnByb3RvdHlwZS5LXz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmZSfSxlLnByb3RvdHlwZS5ZeD1mdW5jdGlvbihlKXt0aGlzLlI5PWV9LGUucHJvdG90eXBlLmZrPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuUjl9LGUucHJvdG90eXBlLmhIPWZ1bmN0aW9uKGUpe3RoaXMuUDk9ZX0sZS5wcm90b3R5cGUuU2s9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5QOX0sZS5wcm90b3R5cGUubFY9ZnVuY3Rpb24oZSl7dGhpcy5BOT1lfSxlLnByb3RvdHlwZS5iaz1mdW5jdGlvbigpe3JldHVybiB0aGlzLkE5fSxlLnByb3RvdHlwZS5aMD1mdW5jdGlvbihlKXt0aGlzLk85PWV9LGUucHJvdG90eXBlLkVrPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuTzl9LGUucHJvdG90eXBlLiQwPWZ1bmN0aW9uKGUpe3RoaXMuXzk9ZX0sZS5wcm90b3R5cGUuaVY9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fOX0sZS5wcm90b3R5cGUuS3g9ZnVuY3Rpb24oZSl7dGhpcy5OOT1lfSxlLnByb3RvdHlwZS5raz1mdW5jdGlvbigpe3JldHVybiB0aGlzLk45fSxlLnByb3RvdHlwZS5EOT1mdW5jdGlvbihlKXt0aGlzLmI5PWV9LGUucHJvdG90eXBlLlJrPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYjl9LGUucHJvdG90eXBlLlZKPWZ1bmN0aW9uKGUpe3RoaXMuYW89ZX0sZS5wcm90b3R5cGUucUo9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hb30sZS5wcm90b3R5cGUuV3g9ZnVuY3Rpb24oZSl7dGhpcy5neD1lfSxlLnByb3RvdHlwZS5Qaz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmd4fSxlLnByb3RvdHlwZS53TT1mdW5jdGlvbihlKXt0aGlzLnByaXZhdGVJcD1lfSxlLnByb3RvdHlwZS5Dcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnByaXZhdGVJcH0sZS5wcm90b3R5cGUueU09ZnVuY3Rpb24oZSl7dGhpcy5wdWJsaWNJcD1lfSxlLnByb3RvdHlwZS5LaD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnB1YmxpY0lwfSxlLnByb3RvdHlwZS51Vj1mdW5jdGlvbihlKXt0aGlzLldxPWV9LGUucHJvdG90eXBlLm5WPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuV3F9LGUucHJvdG90eXBlLldDPWZ1bmN0aW9uKGUpe3RoaXMuZGVsdGE9ZX0sZS5wcm90b3R5cGUuYVY9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kZWx0YX0sZS5wcm90b3R5cGUueEM9ZnVuY3Rpb24oZSx0KXt0aGlzLkM5LnNldChlLHQpfSxlLnByb3RvdHlwZS5NQz1mdW5jdGlvbihlKXt0aGlzLkM5LmRlbGV0ZShlKX0sZS5wcm90b3R5cGUuc1Y9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5DOX0sZS5wcm90b3R5cGUuV0Y9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5SaygpP3RoaXMuQzkua2V5cygpOltdfSxlLnByb3RvdHlwZS5YRj1mdW5jdGlvbigpe3JldHVybiB0aGlzLlJrKCk/W106dGhpcy5DOS5rZXlzKCl9LGUucHJvdG90eXBlLnNKPWZ1bmN0aW9uKGUpe3RoaXMudGlja2V0PWV9LGUucHJvdG90eXBlLkFrPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGlja2V0fSxlfSgpO3QuS3o9YX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXRoaXMmJnRoaXMuTnN8fGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gcigpe3RoaXMuY29uc3RydWN0b3I9ZX1mb3IodmFyIGkgaW4gdCl0Lmhhc093blByb3BlcnR5KGkpJiYoZVtpXT10W2ldKTtlLnByb3RvdHlwZT1udWxsPT09dD9PYmplY3QuY3JlYXRlKHQpOihyLnByb3RvdHlwZT10LnByb3RvdHlwZSxuZXcgcil9LG49cigxMSkscz1yKDE4MCksbz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gaSh0LGUpLHQucHJvdG90eXBlLno4PWZ1bmN0aW9uKHQscil7dmFyIGk9W10scz1bXSxvPVtdLGE9dGhpcy53Qy5FaygpO3JldHVybiB0LmZvckVhY2goZnVuY3Rpb24oZSl7ZS5Jay5Uay50eXBlPT1uLlpzLksmJmkucHVzaChlKTt2YXIgdD1lLklrLlRrLmludGVybmFsQXM7MCE9YSYmdCYmYT09dCYmcy5wdXNoKGUpLGUuSWsuVGsudHlwZT09bi5acy5YcyYmby5wdXNoKGUpfSksaS5sZW5ndGg+MD9lLnByb3RvdHlwZS56OC5jYWxsKHRoaXMsaSxyKTpzLmxlbmd0aD4wP2UucHJvdG90eXBlLno4LmNhbGwodGhpcyxzLHIpOmUucHJvdG90eXBlLno4LmNhbGwodGhpcyxvLHIpfSx0fShzLkY5KTt0Lkd6PW99LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1yKDApLG49cigzKSxzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMudGU9aS5GcmFtZXdvcmsucmVzb2x2ZShpLkZyYW1ld29yay5xLkkpLmxvZygpfXJldHVybiBlLnByb3RvdHlwZS5LOD1mdW5jdGlvbihlKXt0aGlzLndDPWV9LGUucHJvdG90eXBlLno4PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuTDkoZSlbMF19LGUucHJvdG90eXBlLk05PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4ubmkuTXIuRnIqKGUuRTgoKS90KStuLm5pLk1yLkxyKigxLWUuSTgoKSl9LGUucHJvdG90eXBlLkw5PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj0uMTtyKz1lLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5FOCgpfSkucmVkdWNlKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUrdH0pO3ZhciBpPWUuc29ydChmdW5jdGlvbihlLGkpe3JldHVybiB0Lk05KGksciktdC5NOShlLHIpfSksbj1bXTtyZXR1cm4gaS5mb3JFYWNoKGZ1bmN0aW9uKGUpe24ucHVzaChlLmd1aWQrXCI6XCIrdC5NOShlLHIpKX0pLHRoaXMudGUuZGVidWcoXCJTQyBbXCIrbi5qb2luKFwiLCBcIikrXCJdXCIpLGl9LGV9KCk7dC5GOT1zfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9cig0NSksbj1yKDEpLHM9cig1NSksbz1yKDYpLGE9cigzKSxoPXIoMCksYz1yKDQzKSx1PXIoODgpLGw9cig1KSxwPWwuUnQuQ2ksZj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLkI5PSExfXJldHVybiBlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKGUpe3RoaXMudGU9aC5GcmFtZXdvcmsucmVzb2x2ZShoLkZyYW1ld29yay5xLkkpLmxvZyhlLnNlc3Npb25JZCksdGhpcy53Qz1lLndDLHRoaXMuV3o9ZS5Xeix0aGlzLnl4PWUueXgsdGhpcy5WXz1lLlZffSxlLnByb3RvdHlwZS5QQz1mdW5jdGlvbihlKXt0aGlzLkFDPWV9LGUucHJvdG90eXBlLmkxPWZ1bmN0aW9uKCl7dGhpcy5COT0hMCx0aGlzLnZKKCl9LGUucHJvdG90eXBlLnp4PWZ1bmN0aW9uKCl7aWYoYS5uaS5kci5pcilyZXR1cm4gdm9pZCB0aGlzLlU5KCk7dmFyIGU9IXRoaXMud0MuU2soKXx8dGhpcy53Qy5maygpfHwhcDt0aGlzLnRlLmRlYnVnKFwiUkVRVUVTVCBSRU1PVEUgRUxFQ1RJT04gXCIrZSksZT90aGlzLlU5KCk6dGhpcy54OSgpfSxlLnByb3RvdHlwZS5VOT1mdW5jdGlvbigpe3ZhciBlPXRoaXMud0MuRWsoKSx0PWUmJjAhPWU/dS5zeC5oQzp1LnN4LkFTO3RoaXMuV3ouWDAodCl9LGUucHJvdG90eXBlLng5PWZ1bmN0aW9uKCl7dGhpcy5Xei5YMCh1LnN4Lm54KX0sZS5wcm90b3R5cGUudko9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuY0ooKSx0aGlzLkg5PWguRnJhbWV3b3JrLnNldEludGVydmFsKGZ1bmN0aW9uKCl7ZS56eCgpfSxhLm5pLmRyLnNyKSx0aGlzLnp4KCl9LGUucHJvdG90eXBlLmNKPWZ1bmN0aW9uKCl7dGhpcy5IOSYmaC5GcmFtZXdvcmsuY2xlYXJJbnRlcnZhbCh0aGlzLkg5KX0sZS5wcm90b3R5cGUudUo9ZnVuY3Rpb24oKXt0aGlzLlZfLm5rKCksdGhpcy5BQy5JTigpfSxlLnByb3RvdHlwZS5KeD1mdW5jdGlvbihlKXt2YXIgdD1uZXcgbjtpZihlKXt0aGlzLnE5KCkuZm9yRWFjaChmdW5jdGlvbihlKXt0LnNldChlLGkuY0MuYUMpfSk7dmFyIHI9ITEscz1pLmNDLmFDO3RoaXMud0MuUmsoKSYmKHM9aS5jQy5oQyxyPSEwKSx0aGlzLlZfLk9DKHQscyxyKX1lbHNlIHRoaXMuVl8uT0ModCxpLmNDLiRzLCExKX0sZS5wcm90b3R5cGUuZTE9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLGg9dGhpcy5WOSh0KSxjPXRoaXMuVl8ua0MoKS5pc0xpdmUoKTtpZihlJiZlLmxlbmd0aD4wKXt2YXIgdT1uZXcgczt1LmFkZEVhY2goZSk7dmFyIGw9YS5uaS5kci4kdHx8dS5zb21lKGZ1bmN0aW9uKGUpe3ZhciB0PW8uZm4uaG4oaGl2ZS5ETi5wcm90b2NvbC5GTi5MTixlLmtleS5KTik7cmV0dXJuIHIudGUuaW5mbyhcIkdPVCBSQU5LSU5HIFwiK3QrXCIsQ1JWIFwiK2Uub0QrXCIsUlYgXCIrZS5uRCtcIixHUyBcIitlLnNEKSxyLmo5KGUpfSkscD1udWxsIT1oJiYwIT1oLmxlbmd0aDtpZih0aGlzLnRlLmRlYnVnKFwiVHJhY2tlciByZXBvcnRzIFtcIitoLmtleXMoKS5qb2luKFwiLCBcIikrXCJdICBiaXRyYXRlc1wiKSx0aGlzLnRlLmRlYnVnKFwiSVNMaXZlIFwiK2MrXCIgRG9FbGVjdCBcIitsKSxhLm5pLmRyLlp0JiZjKXt2YXIgZj10aGlzLnE5KCk7aWYocCYmbCl7dGhpcy53Qy5EOSghMCksdGhpcy50ZS5pbmZvKFwiQkVDT01JTkcgU0lURSBMRUFERVJcIik7dmFyIGQ9bmV3IG47Zi5mb3JFYWNoKGZ1bmN0aW9uKGUpe2Quc2V0KGUsaS5jQy5hQyl9KSxoLmZvckVhY2goZnVuY3Rpb24oZSx0KXtyLnl4LlpxLmhhcyhlKXx8ZC5zZXQodCxpLmNDLmhDKX0pLHRoaXMuVl8uT0MoZCxpLmNDLmhDLCExKX1lbHNle3RoaXMud0MuRDkoITEpO3ZhciBnPWkuY0MuJHMsdj1uZXcgbjt0aGlzLndDLlNrKCkmJnRoaXMud0MuZmsoKSYmKGc9aS5jQy5hQyxmLmZvckVhY2goZnVuY3Rpb24oZSl7di5zZXQoZSxpLmNDLmFDKX0pKSx0aGlzLlZfLk9DKHYsZywhMSl9fX1lbHNlIGlmKGMpe2EubmkuZHIuJHQ/dGhpcy53Qy5EOSghMCk6dGhpcy53Qy5EOSghMSk7dmFyIHk9bmV3IG4sZz1pLmNDLiRzO2lmKHRoaXMud0MuU2soKSYmdGhpcy53Qy5maygpKXt2YXIgbT10aGlzLnE5KCk7bS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3kuc2V0KGUsaS5jQy5hQyl9KSxnPWkuY0MuYUN9YS5uaS5kci4kdCYmKGc9aS5jQy5oQyksdGhpcy5WXy5PQyh5LGcsITEpfX0sZS5wcm90b3R5cGUuUlY9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnE5KCksdD1uZXcgbjtlLmZvckVhY2goZnVuY3Rpb24oZSl7dC5zZXQoZSxpLmNDLmFDKX0pO3ZhciByPSExLHM9aS5jQy5hQzt0aGlzLndDLlJrKCkmJihzPWkuY0MuaEMscj0hMCksdGhpcy5WXy5PQyh0LHMscil9LGUucHJvdG90eXBlLnE5PWZ1bmN0aW9uKCl7dmFyIGU9bmV3IHM7cmV0dXJuIHRoaXMueXguWnEuZm9yRWFjaChmdW5jdGlvbih0LHIpe3QuVGsuYW8mJiFlLmhhcyh0LlRrLmFvKSYmZS5hZGQodC5Uay5hbyl9KSxlLnRvQXJyYXkoKX0sZS5wcm90b3R5cGUuVjk9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IG4scj10aGlzLndDLkVrKCk7cmV0dXJuIGUuZm9yRWFjaChmdW5jdGlvbihlKXtudWxsIT1lLmFvJiYocj4wP3I9PT1lLmludGVybmFsQXMmJnQuc2V0KGUuYW8sZS5ndWlkKTp0LnNldChlLmFvLGUuZ3VpZCkpfSksdH0sZS5wcm90b3R5cGUuajk9ZnVuY3Rpb24oZSl7aWYoZS5zRDwyKXJldHVybiExO3ZhciB0PU1hdGgubWF4KDEsTWF0aC5yb3VuZChlLnNEKmEubmkuZHIudHIpKTtyZXR1cm4gcHx8aC5GcmFtZXdvcmsuUygpJiZjLmlDLnRDP2UubkQ8dCYmKHRoaXMud0MuZmsoKXx8IXRoaXMud0MuU2soKSk6ZS5uRDx0fSxlLnByb3RvdHlwZS5yaz1mdW5jdGlvbihlLHQscixuKXt2YXIgcz0xLG89dGhpcy5BQy5nayhyLHQpLGM9YS5uaS5kci5hcipoLkZyYW1ld29yay5yYW5kb20oKTtpZihlPT1pLmNDLmFDKXt2YXIgdT10aGlzLkFDLlROKCksbD11LWM7cz1NYXRoLm1heCgxLG8tbCl9ZWxzZSBpZihlPT1pLmNDLmhDKXt2YXIgcD1hLm5pLmRyLmhyLWM7cz1NYXRoLm1heCgxLG8tcCkrbn1yZXR1cm4gcz1NYXRoLnJvdW5kKHMpfSxlfSgpO3QuUXo9Zn0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXIoMCksbj1yKDEpLHM9cigyMSksbz1yKDMwKSxhPXIoNCk7cig1Nik7dmFyIGg9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5HOT0hMSx0aGlzLm1uPVwiW1RSQUNLRVJdIFwiLHRoaXMuUTk9bmV3IG4sdGhpcy5QbD1uZXcgby5Qdyx0aGlzLnByb3RvY29sPW5ldyBvLm5TKHRoaXMuUGwpLHRoaXMudGU9aS5GcmFtZXdvcmsucmVzb2x2ZShpLkZyYW1ld29yay5xLkkpLmxvZygpLGkuRnJhbWV3b3JrLlMoKXx8KHRoaXMuY2xpZW50PWkuRnJhbWV3b3JrLnJlc29sdmUoaS5GcmFtZXdvcmsucS5IKSl9cmV0dXJuIGUucHJvdG90eXBlLk0wPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMudGUuZGVidWcoXCJUUkFDS0VSIENMSUVOVCBSRUdJU1RFUkVEIFwiK2UpLHRoaXMuUTkuaGFzKGUpfHx0aGlzLlE5LnNldChlLHQpLHRoaXMuUTkuZ2V0KGUpfSxlLnByb3RvdHlwZS5ObD1mdW5jdGlvbihlKXt0aGlzLlE5LmRlbGV0ZShlKX0sZS5wcm90b3R5cGUuRGw9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuUTkuZ2V0KGUpfSxlLnByb3RvdHlwZS5XMD1mdW5jdGlvbihlKXt2YXIgdD10aGlzO2lmKHRoaXMuY2xpZW50JiZ0aGlzLmNsaWVudC5sYygpKXt2YXIgcj10aGlzLks5KGUpLGk9bmV3IHMucGMoU2VydmljZXMubVEsMSxyKSxuPXRoaXMuY2xpZW50LmxjKCkuc2VuZChpKTtuLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gdC50ZS5pbmZvKFwiVFJBQ0tFUiBSRVFVRVNUIFNFTlRcIil9KSxuLmZhaWwoZnVuY3Rpb24oZSl7dC50ZS53YXJuKFwiVFJBQ0tFUiBQUk9CTEVNOiBcIixlKX0pfWVsc2UgdGhpcy50ZS53YXJuKFwiU0VSVklDRVMgQ09OTkVDVElPTiBET1dOLCBDQU4nVCBTRU5EIFRSQUNLRVIgUkVRVUVTVCBcIixlKX0sZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy50ZS5kZWJ1ZyhcIlRSQUNLRVIgTUFOQUdFUiBJTklUXCIpLHRoaXMuY2xpZW50JiZ0aGlzLmNsaWVudC5sYygpP3RoaXMuY2xpZW50LmxjKCkub24oU2VydmljZXMubVEsMTAsZnVuY3Rpb24odCl7dHJ5e3ZhciByPWUuWTkodC5tc2cpO2lmKGUuUTkuaGFzKHIuc2Vzc2lvbklkKSl7ZS5ROS5nZXQoci5zZXNzaW9uSWQpLlpKKHIpfWVsc2UgZS50ZS53YXJuKFwiU0VTU0lPTiBJRCBOT1QgVkFMSUQgT1IgTlVMTCBcIityLnNlc3Npb25JZCl9Y2F0Y2godCl7YS5FcnJvck1vbml0b3IuZ2koKS5kaShcIlRyYWNrZXIgTWFuYWdlciBpbml0aWFsaXphdGlvbiBmYWlsdXJlXCIsZS5tbix0KX19KTppLkZyYW1ld29yay5TKCl8fHRoaXMudGUud2Fybih0aGlzLm1uK1wiIENBTk5PVCBHRVQgQUNUSVZFIENPTk5FQ1RJT05cIil9LGUucHJvdG90eXBlLlk5PWZ1bmN0aW9uKGUpe3ZhciB0PSdbMSwgXCJUUkFDS0VSX1JFU1BcIiwgNCwgMCwnK2UrXCJdXCI7dGhpcy5QbC5Edyh0KTt2YXIgcj0odGhpcy5wcm90b2NvbC5CUygpLG5ldyBoaXZlLkROLnByb3RvY29sLkZOLnVEKTtyZXR1cm4gci5yZWFkKHRoaXMucHJvdG9jb2wpLHIubEQubWFwKGZ1bmN0aW9uKGUpe2UuZ3VpZD1hdG9iKGUuZ3VpZCksZS5wdWJsaWNJcD1uZXcgSW5ldEFkZHJlc3MsZS5wdWJsaWNJcC5hZGRyZXNzPWUubG8sZS5wcml2YXRlSXA9bmV3IEluZXRBZGRyZXNzLGUucHJpdmF0ZUlwLmFkZHJlc3M9ZS51b30pLHIuVGsuZ3VpZD1hdG9iKHIuVGsuZ3VpZCksci5Uay5wdWJsaWNJcD1uZXcgSW5ldEFkZHJlc3Msci5Uay5wdWJsaWNJcC5hZGRyZXNzPXIuVGsubG8sci5Uay5wcml2YXRlSXA9bmV3IEluZXRBZGRyZXNzLHIuVGsucHJpdmF0ZUlwLmFkZHJlc3M9ci5Uay51byx0aGlzLnByb3RvY29sLkdTKCksdGhpcy5HOSYmdGhpcy50ZS5kZWJ1ZyhcIlJFU1AgXCIrSlNPTi5zdHJpbmdpZnkocikpLHJ9LGUucHJvdG90eXBlLks5PWZ1bmN0aW9uKGUpe3RoaXMucHJvdG9jb2wudlMoXCJUUkFDS0VSX1JFUVwiLG8uVkkuS0ksMCksZS53cml0ZSh0aGlzLnByb3RvY29sKSx0aGlzLnByb3RvY29sLkVTKCk7dmFyIHQ9dGhpcy5QbC5RdygpLHI9dGhpcy5STCh0LFwiLFwiLDQpO3JldHVybiB0LnNsaWNlKHIrMSx0Lmxlbmd0aC0xKX0sZS5wcm90b3R5cGUuUkw9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlLnNwbGl0KHQscikuam9pbih0KS5sZW5ndGh9LGV9KCk7dC5fej1ofSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9cig4KSxuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuejk9MCx0aGlzLko5PTAsdGhpcy5XOT0wLHRoaXMuWDk9MCx0aGlzLlo5PTAsdGhpcy5lNz0wLHRoaXMudDc9MCx0aGlzLnI3PTAsdGhpcy5pNz0wLHRoaXMubjc9MCx0aGlzLnM3PTAsdGhpcy5wYXJ0bmVycz17fX1yZXR1cm4gZX0oKTt0Lm83PW47dmFyIHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5Daz1cIlwiLHRoaXMuYTc9MCx0aGlzLmg3PTAsdGhpcy5jNz0wLHRoaXMudTc9MH1yZXR1cm4gZX0oKTt0Lmw3PXM7dmFyIG89ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKGUpe3RoaXMucGVlcj1lfSxlLnByb3RvdHlwZS5wNz1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3RoaXMucGVlci5IYy5mb3JFYWNoKGZ1bmN0aW9uKHIsaSl7ZVtpXXx8KGVbaV09bmV3IG4pO3ZhciBzPWVbaV07cy5Daz1yLkNuLkRjLkVoO3ZhciBvPXIuQ24uRGMuS0YuTEYsYT10LmY3KG8ucDJwU3ViUmVzcFF0KSxoPXQuZjcoby5zcmNSZXNwUXQpO3MuejkrPWEscy5KOSs9aCxzLlg5Kz10LmY3KG8uc3JjUmVxTikscy5aOSs9dC5mNyhvLnNyY1Jlc3BOKSxzLmU3Kz10LmY3KG8uc3JjUmVzcEVyck4pLHMudDcrPXQuZjcoby5zcmNSZXNwUXQpLHMucjcrPXQuZjcoby5wMnBTdWJSZXFOKSxzLmk3Kz10LmY3KG8ucDJwU3ViUmVzcE4pLHMubjcrPXQuZjcoby5wMnBTdWJSZXNwRXJyTikscy5zNys9dC5mNyhvLnAycFN1YlJlc3BRdCkscy5XOT1hLyhoK2EpKjEwMH0pfSxlLnByb3RvdHlwZS5mNz1mdW5jdGlvbihlKXtyZXR1cm4gZXx8MH0sZS5wcm90b3R5cGUuZDc9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0aGlzLnBlZXIuSGMuZm9yRWFjaChmdW5jdGlvbihyLGkpe2VbaV18fChlW2ldPW5ldyBuKTt2YXIgbz1lW2ldO28uQ2s9ci5Dbi5EYy5FaCxyLkNuLkRjLktGLkJGLmZvckVhY2goZnVuY3Rpb24oZSxyKXtvLnBhcnRuZXJzW3JdfHwoby5wYXJ0bmVyc1tyXT1uZXcgcyk7dmFyIGk9by5wYXJ0bmVyc1tyXTtpLkNrPXIsaS5hNys9dC5mNyhlLnAycFN1Y2NTZW50KSxpLmg3Kz10LmY3KGUucDJwU3VjY1JlY2VpdmVkKSxpLmM3Kz10LmY3KGUucDJwU3VjY1JlcSksaS51Nys9dC5mNyhlLnAycEZhaWxSZXEpfSl9KX0sZS5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKCl7dmFyIGU9e307dGhpcy5wNyhlKSx0aGlzLmQ3KGUpO3RyeXtpLkhpdmVDb25maWcuU3RhdHMucmVuZGVyJiZpLkhpdmVDb25maWcuU3RhdHMucmVuZGVyKGUpfWNhdGNoKGUpe2NvbnNvbGUud2FybihcImVycm9yIGluIHJlbmRlcmluZyBsb2NhbCBzdGF0c1wiLGUpfX0sZX0oKTt0LlB6PW99LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1yKDMyKSxuPXIoMSkscz1yKDApLG89cigzKSxhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuZzc9bmV3IG4sdGhpcy52Nz1uZXcgbn1yZXR1cm4gZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbihlKXt0aGlzLnRlPXMuRnJhbWV3b3JrLnJlc29sdmUocy5GcmFtZXdvcmsucS5JKS5sb2coZS5zZXNzaW9uSWQpfSxlLnByb3RvdHlwZS4kSj1mdW5jdGlvbihlKXt2YXIgdD1lLnp1KCkscj1lLkh1LG49ZS5NdS5TdSxhPU1hdGguY2VpbChuL28ubmkuTXIuTnIpLGg9ZS5RdS5iaXRyYXRlLGM9MCx1PU1hdGgubWluKG8ubmkuTXIuTnIsbik7dGhpcy55Nyh0LGgpO2Zvcih2YXIgbD11LWM7YT4wOyl7dmFyIHA9bnVsbDtzLkZyYW1ld29yay5TKCl8fChwPWkud3JhcChyLnNsaWNlKGMsdSkpKSxjKz1sLHRoaXMuZzcuZ2V0KHQpLnB1c2gocCksYS0tLHU9TWF0aC5taW4oYytvLm5pLk1yLk5yLG4pLGw9dS1jfX0sZS5wcm90b3R5cGUueTc9ZnVuY3Rpb24oZSx0KXtpZih0aGlzLnY3Lmhhcyh0KSYmdGhpcy52Ny5nZXQodCkubGVuZ3RoPm8ubmkuU3Iud3Ipe3ZhciByPXRoaXMudjcuZ2V0KHQpWzBdO3RoaXMuZzcuZGVsZXRlKHIpLHRoaXMudjcuZ2V0KHQpLnNoaWZ0KCl9aWYodGhpcy52Ny5oYXModCkpdGhpcy52Ny5nZXQodCkucHVzaChlKSx0aGlzLmc3LnNldChlLFtdKTtlbHNle3ZhciBpPVtlXTt0aGlzLnY3LnNldCh0LGkpLHRoaXMuZzcuc2V0KGUsW10pfX0sZS5wcm90b3R5cGUuVzY9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5nNy5oYXMoZSk/dGhpcy5nNy5nZXQoZSlbdF06bnVsbH0sZS5wcm90b3R5cGUubTc9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudjcuZ2V0KGUpfSxlLnByb3RvdHlwZS5mSj1mdW5jdGlvbigpe3RoaXMuZzc9bmV3IG4sdGhpcy52Nz1uZXcgbn0sZX0oKTt0Lkx6PWF9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1yKDEpLG49cigzKSxzPXIoMCksbz1yKDI1KSxhPShvLnNsLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMubW49XCJbSVBTcG9vZmluZ10gXCIsdGhpcy5FNz1uLm5pLlZ0Lnh0fXJldHVybiBlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKGUpe3RoaXMudGU9cy5GcmFtZXdvcmsucmVzb2x2ZShzLkZyYW1ld29yay5xLkkpLmxvZyhlLnNlc3Npb25JZCksdGhpcy5TQz1lLlNDLHRoaXMuVDc9bmV3IGksdGhpcy5JNz1uZXcgaSx0aGlzLkU3JiZ0aGlzLnc3KCl9LGUucHJvdG90eXBlLl9xPWZ1bmN0aW9uKGUsdCxyKXtpZighdGhpcy5FNylyZXR1cm4hMTtpZih0aGlzLlQ3LmhhcyhlKXx8IXR8fCFyKXJldHVybiExO3ZhciBpPXRoaXMuUzcodCxyKTtpZihpJiZ0aGlzLkk3LmhhcyhpKSl7aWYodGhpcy5JNy5nZXQoaSkubGVuZ3RoPj1uLm5pLlZ0Lkh0KXJldHVybiB0aGlzLnRlLmRlYnVnKHRoaXMubW4rXCJTcG9vZmluZyBydWxlIHZpb2xhdGVkIGZvciBcIitlK1wiIHdpdGggcHJpdmF0ZUlwIFwiK3QrXCIgcHVibGljSXAgXCIrciksITB9cmV0dXJuITF9LGUucHJvdG90eXBlLk1xPWZ1bmN0aW9uKGUsdCxyKXtpZih0aGlzLkU3JiZyJiZ0KXt2YXIgaT10aGlzLlM3KHQsciksbj10aGlzLlQ3LmdldChlKTtuJiZuIT1pJiZ0aGlzLlI3KGUsbiksdGhpcy5iNyhlLGkpfX0sZS5wcm90b3R5cGUuUDc9ZnVuY3Rpb24oZSl7dGhpcy5FNyYmdGhpcy5kVihlKX0sZS5wcm90b3R5cGUuYUg9ZnVuY3Rpb24oZSl7dGhpcy5FNyYmdGhpcy5kVihlKX0sZS5wcm90b3R5cGUuYjc9ZnVuY3Rpb24oZSx0KXt0aGlzLlQ3LnNldChlLHQpO3ZhciByPVtdO3RoaXMuSTcuaGFzKHQpJiYocj10aGlzLkk3LmdldCh0KSwtMSE9ci5pbmRleE9mKGUpKXx8KHIucHVzaChlKSx0aGlzLkk3LnNldCh0LHIpKX0sZS5wcm90b3R5cGUuZFY9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5UNy5nZXQoZSk7dD8odGhpcy5SNyhlLHQpLHRoaXMuVDcuZGVsZXRlKGUpKTp0aGlzLnRlLndhcm4odGhpcy5tbitcIm5vIGlwIHBhaXIgZm9yIGd1aWQgXCIrZSl9LGUucHJvdG90eXBlLlI3PWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5JNy5nZXQodCksaT1yLmluZGV4T2YoZSk7LTEhPWk/KHIuc3BsaWNlKGksMSksMD09ci5sZW5ndGg/dGhpcy5JNy5kZWxldGUodCk6dGhpcy5JNy5zZXQoZSxyKSk6dGhpcy50ZS53YXJuKHRoaXMubW4rXCJwYWlyIGxpc3QgXCIrdCtcIiBkb2VzIG5vdCBjb250YWluIGd1aWQgXCIrZSl9LGUucHJvdG90eXBlLlM3PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQrXCI6XCIrZX0sZS5wcm90b3R5cGUudzc9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3MuRnJhbWV3b3JrLnNldEludGVydmFsKGZ1bmN0aW9uKCl7dmFyIHQ9W107ZS5JNy5mb3JFYWNoKGZ1bmN0aW9uKHIsaSl7aWYoci5sZW5ndGg+bi5uaS5WdC5IdCl7Zm9yKHZhciBzPVtdLG89bi5uaS5WdC5IdDtvPHIubGVuZ3RoO28rKylzLnB1c2gocltvXSk7ZS50ZS53YXJuKFwiSXBTcG9vZmluZyB2aW9sYXRpb24gZm9yIFwiK2krXCIgLSBjbG9zaW5nOiBcIitzKSx0LmNvbmNhdChzKX19KSx0LmZvckVhY2goZnVuY3Rpb24odCl7ZS5TQy5WcSh0KX0pfSxuLm5pLlZ0LnF0KX0sZX0oKSk7dC5WdD1hfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9dGhpcyYmdGhpcy5Oc3x8ZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiByKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfWZvcih2YXIgaSBpbiB0KXQuaGFzT3duUHJvcGVydHkoaSkmJihlW2ldPXRbaV0pO2UucHJvdG90eXBlPW51bGw9PT10P09iamVjdC5jcmVhdGUodCk6KHIucHJvdG90eXBlPXQucHJvdG90eXBlLG5ldyByKX0sbj1yKDE4Nykscz1yKDMpLG89cig5NSksYT1yKDApLGg9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3ZhciB0PWUuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gdC50eXBlPVwiU2NvcmVcIix0fXJldHVybiBpKHQsZSksdC5wcm90b3R5cGUuQTc9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC5zb3J0KG8uUVYuVlYpLHQuc2xpY2UoMCxlKX0sdC5wcm90b3R5cGUuQzc9ZnVuY3Rpb24oZSx0LHIsaSl7cmV0dXJuIGkuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiB0LmV2ZXJ5KGZ1bmN0aW9uKHQpe3JldHVybiB0Lmd1aWQhPWUuVGsuZ3VpZH0pJiYtMT09ci5pbmRleE9mKGUuVGsuZ3VpZCl9KS5zbGljZSgwLGUpfSx0fShuLms3KTt0LkJ6PWg7dmFyIGM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlLnByb3RvdHlwZS5KcT1mdW5jdGlvbihlKXt2YXIgdD1lLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4hZS5xcS5QbC5xbCgpfSkscj1hLkZyYW1ld29yay50aW1lKCksaT10LmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gci1lLm44PnMubmkuVXQuQnR9KTtyZXR1cm4gaS5sZW5ndGg+MD8oaS5zb3J0KG8uWVYuVlYpLGkuc2xpY2UoMCwxKVswXSk6bnVsbH0sZX0oKTt0LlV6PWN9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1yKDk0KSxuPXIoMykscz1yKDApLG89ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy50ZT1zLkZyYW1ld29yay5yZXNvbHZlKHMuRnJhbWV3b3JrLnEuSSkubG9nKCl9cmV0dXJuIGUucHJvdG90eXBlLkFxPWZ1bmN0aW9uKGUsdCxyLG8pe3ZhciBhPVtdLGg9W10sYz1NYXRoLnJvdW5kKGUqKDEtbi5uaS5PdC5DdCkpLHU9TWF0aC5tYXgodC5sZW5ndGgtYywwKSxsPWUtdC5sZW5ndGgrdTtpZih1PjApe3ZhciBwPXQuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiFlLnFxLlBsLnFsKCl9KSxmPXMuRnJhbWV3b3JrLnRpbWUoKSxkPXAuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBmLWUubjg+bi5uaS5VdC5CdH0pLGc9TWF0aC5taW4oZC5sZW5ndGgsdSk7aD10aGlzLkE3KGcsZCk7dmFyIHY9W10seT1bXTtoLmZvckVhY2goZnVuY3Rpb24oZSl7di5wdXNoKGUuZ3VpZCkseS5wdXNoKGUuR1YualYoITEpKX0pfXJldHVybiBsPjAmJihhPXRoaXMuQzcobCx0LHIsbykpLHRoaXMudGUuZGVidWcoXCJbUEFSVF0gQS9SOiBcIitsK1wiL1wiK3UrXCIgW1wiK2EubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLlRrLmd1aWQuc3Vic3RyaW5nKDAsOCl9KStcIi9cIitoLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5ndWlkLnN1YnN0cmluZygwLDgpfSkrXCJdIFA6W1wiK3QubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLmd1aWQuc3Vic3RyaW5nKDAsOCl9KStcIl0gTTpbXCIrby5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuVGsuZ3VpZC5zdWJzdHJpbmcoMCw4KX0pK1wiXVwiKSxuZXcgaS5xVihhLGgpfSxlfSgpO3Quazc9b30sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXIoMSksbj1yKDk0KSxzPXIoMyksbz1yKDApLGE9cig2KSxoPXIoOTUpLGM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlLnByb3RvdHlwZS5BcT1mdW5jdGlvbihlLHQscixpLGEpe3RoaXMud0M9ZTt2YXIgaD1bXSxjPVtdLHU9TWF0aC5yb3VuZCh0KigxLXMubmkuT3QuQ3QpKSxsPU1hdGgubWF4KHIubGVuZ3RoLXUsMCkscD10LXIubGVuZ3RoK2w7aWYobD4wKXt2YXIgZj1yLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4hZS5xcS5QbC5xbCgpfSksZD1vLkZyYW1ld29yay50aW1lKCksZz1mLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZC1lLm44PnMubmkuVXQuQnR9KSx2PU1hdGgubWluKGcubGVuZ3RoLGwpO2M9dGhpcy5BNyh2LGcpLGMubGVuZ3RoPnYmJihwKz1jLmxlbmd0aC12KTt2YXIgeT1bXSxtPVtdO2MuZm9yRWFjaChmdW5jdGlvbihlKXt5LnB1c2goZS5ndWlkKSxtLnB1c2goZS5HVi5qVighMSkpfSl9cmV0dXJuIHA+MCYmKGg9dGhpcy5DNyhwLHIsaSxhKSksbmV3IG4ucVYoaCxjKX0sZS5wcm90b3R5cGUuQTc9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3Quc29ydChoLlFWLlZWKTt2YXIgaT10LnNsaWNlKDAsZSk7cmV0dXJuIHQuc2xpY2UoZSx0Lmxlbmd0aCkuZm9yRWFjaChmdW5jdGlvbihlKXtyLk83KGUuSWspJiZpLnB1c2goZSl9KSxpfSxlLnByb3RvdHlwZS5DNz1mdW5jdGlvbihlLHQscixpKXt2YXIgbj10aGlzLG89W10sYT1bXSxoPVtdLGM9W10sdT1bXSxsPXRoaXMud0MuRWsoKTtsfHwobD0tMSk7dmFyIHA9W107dC5mb3JFYWNoKGZ1bmN0aW9uKGUpe3AucHVzaChlLmd1aWQpfSk7dmFyIGY9TWF0aC5mbG9vcihlKnMubmkuVXQuRnQpLGQ9dGhpcy53Qy5zVigpO2kuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD1lLlRrLmhvO2lmKHQpe3ZhciByPW4uc28oZSx0LGwsZCk7ci5JeD9yLl83P28ucHVzaChlKTphLnB1c2goZSk6bi5ONyhlLHMubmkuVXQuRHQpP24uTzcoZSk/dS5wdXNoKGUpOmMucHVzaChlKTpoLnB1c2goZSl9ZWxzZSB1LnB1c2goZSl9KTt2YXIgZz10aGlzLkQ3KG8sYSxoLGMsdSxlLGUsZik7cmV0dXJuIGcuc2xpY2UoMCxNYXRoLm1pbihnLmxlbmd0aCxlKSl9LGUucHJvdG90eXBlLkQ3PWZ1bmN0aW9uKGUsdCxyLGksbixoLGMsdSl7dmFyIGw9W10scD1bXTtlLmxlbmd0aD4wJiZvLkZyYW1ld29yay5yYW5kb20oKTxzLm5pLlV0Lkx0JiYoZT1hLmZuLm5uKGUpLHA9ZS5zbGljZSgwLE1hdGgubWluKGUubGVuZ3RoLHUpKSxsLnB1c2guYXBwbHkobCxwKSxjPWgtcC5sZW5ndGgpO3ZhciBmPVtdO3QubGVuZ3RoPjAmJih0PWEuZm4ubm4odCksZj10LnNsaWNlKDAsTWF0aC5taW4odC5sZW5ndGgsdSkpLGwucHVzaC5hcHBseShsLGYpLGM9aC1mLmxlbmd0aCk7dmFyIGQ9W107ci5sZW5ndGg+MCYmKHI9YS5mbi5ubihyKSxkPXIuc2xpY2UoMCxNYXRoLm1pbihyLmxlbmd0aCx1KSksbC5wdXNoLmFwcGx5KGwsZCksYz1oLWQubGVuZ3RoKTt2YXIgZz1udWxsO2lmKGkubGVuZ3RoPjApe2k9YS5mbi5ubihpKSxnPWkuc2xpY2UoMCxNYXRoLm1pbihpLmxlbmd0aCxjKSk7Yz1oLSgoZC5sZW5ndGg+MD9kLmxlbmd0aDowKS1nLmxlbmd0aCl9dmFyIHY9W107cmV0dXJuIGM+MCYmbi5sZW5ndGg+MCYmKG49YS5mbi5ubihuKSx2PW4uc2xpY2UoMCxNYXRoLm1pbihuLmxlbmd0aCxjKSksbC5wdXNoLmFwcGx5KGwsdikpLGx9LGUucHJvdG90eXBlLnNvPWZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBzPSExLG89ITEsYT1uZXcgaTt0LmZvckVhY2goZnVuY3Rpb24oZSl7YS5zZXQoZS5iaXRyYXRlLGUpfSk7dmFyIGg9bmV3IGk7cmV0dXJuIGEuZm9yRWFjaChmdW5jdGlvbihlLHQpe24uaGFzKHQpJiZoLnNldCh0LGUpfSksaC5rZXlzKCkubGVuZ3RoPjAmJmguZm9yRWFjaChmdW5jdGlvbih0LGkpe3ZhciBhPW4uZ2V0KGkpO2lmKGEmJnQuc3RhdGU+PTImJmEudHlwZT49MSl7dmFyIGg9ZS5Uay5pbnRlcm5hbEFzO2g+MCYmaD09ciYmKG89ITApLHM9ITB9fSkse0l4OnMsXzc6b319LGUucHJvdG90eXBlLk43PWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy53Qy5hVigpLGk9dGhpcy53Qy5xSigpLG49dGhpcy5GNyhlLGkpO3JldHVybigwIT1yfHwwIT1uKSYmKHI8biYmcj5uK3QpfSxlLnByb3RvdHlwZS5PNz1mdW5jdGlvbihlKXt2YXIgdD10aGlzLndDLmFWKCkscj10aGlzLndDLnFKKCksaT10aGlzLkY3KGUscik7cmV0dXJuIDA9PXQmJjA9PWl8fHQ+aX0sZS5wcm90b3R5cGUuRjc9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLlRrLmhvLGk9MDtyZXR1cm4gciYmci5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UuYml0cmF0ZT09dCYmKGk9ZS5kZWx0YSl9KSxpfSxlfSgpO3QueHo9Yzt2YXIgdT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLnRlPW8uRnJhbWV3b3JrLnJlc29sdmUoby5GcmFtZXdvcmsucS5JKS5sb2coKX1yZXR1cm4gZS5wcm90b3R5cGUuSnE9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXRoaXM7dGhpcy53Qz1lO3ZhciBhPXRoaXMud0Muc1YoKSxoPXQuaG87aWYoaCl7dmFyIGM9ci5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIWUucXEuUGwucWwoKX0pLHU9by5GcmFtZXdvcmsudGltZSgpLGw9Yy5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIHUtZS5uOD5zLm5pLlV0LkJ0fSk7aWYoMD09aC5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGEuaGFzKGUuYml0cmF0ZSl9KS5sZW5ndGgpcmV0dXJuIG51bGw7dmFyIHA9dGhpcy5MNyhsKSxmPXRoaXMuTTcoYSxwKTtpZihmKXJldHVybiBmO3ZhciBkPWEua2V5cygpLmxlbmd0aCxnPWwubGVuZ3RoLHY9TWF0aC5yb3VuZChnL2QpLHk9cC5rZXlzKCkuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBhLmhhcyhlKX0pLG09bmV3IGk7eS5mb3JFYWNoKGZ1bmN0aW9uKGUpe20uc2V0KGUscC5nZXQoZSkpfSk7dmFyIEU9dGhpcy5CNyhtLHYpO3JldHVybiBudWxsIT1FP0U6KGguZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD1tLmdldChlLmJpdHJhdGUpO2lmKG51bGwhPXQpe3ZhciByPW4uVTcodCk7aWYoci5sZW5ndGg+MCYmIXMubmkuVXQuTXQpcmV0dXJuIHJbMF19fSksbnVsbCl9cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLkw3PWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBpO3JldHVybiBlLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHI9ZS5Jay5Uay5hbztpZihyfHwocj0tMSksdC5oYXMocikpe3ZhciBpPXQuZ2V0KHIpO2kucHVzaChlKSx0LnNldChyLGkpfWVsc2UgdC5zZXQocixbZV0pfSksdH0sZS5wcm90b3R5cGUuVTc9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZmlsdGVyKGZ1bmN0aW9uKGUpe2lmKDA9PWUuS1YuRTUocy5uaS5Pci5rcikpcmV0dXJuIGV9KX0sZS5wcm90b3R5cGUuQjc9ZnVuY3Rpb24oZSx0KXt2YXIgcj1bXTtlLmZvckVhY2goZnVuY3Rpb24oZSx0KXtyLnB1c2goe2JpdHJhdGU6dCx4NzplLmxlbmd0aH0pfSksci5zb3J0KGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUueDc+dC54Nz8xOmUueDc8dC54Nz8wOi0xfSk7dmFyIGk9bnVsbDtyZXR1cm4gci5mb3JFYWNoKGZ1bmN0aW9uKHIpe2lmKGUuZ2V0KHIuYml0cmF0ZSkubGVuZ3RoPnQpe3ZhciBuPWUuZ2V0KHIuYml0cmF0ZSk7bi5sZW5ndGg+MCYmKG4uc29ydChoLllWLlZWKSxpPW5bMF0pfX0pLGl9LGUucHJvdG90eXBlLk03PWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxpPW51bGw7aWYodC5oYXMoLTEpKWk9dC5nZXQoLTEpWzBdO2Vsc2V7dC5maWx0ZXIoZnVuY3Rpb24odCxyKXtyZXR1cm4hZS5oYXMocil9KS5mb3JFYWNoKGZ1bmN0aW9uKGUsdCl7dmFyIG49ci5VNyhlKTtpZihuLmxlbmd0aD4wKXJldHVybiB2b2lkKGk9blswXSl9KX1yZXR1cm4gaX0sZX0oKTt0Lkh6PXV9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1yKDApLG49cigxMCkscz1yKDMxKSxvPXIoMjIpLGE9cigxMSksaD1yKDgpLGM9cigzKSx1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuSDc9ITA9PT1oLkhpdmVDb25maWcuU3RhdHMuRHMsdGhpcy5xNz1udWxsfXJldHVybiBlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKGUpe3RoaXMudGU9aS5GcmFtZXdvcmsucmVzb2x2ZShpLkZyYW1ld29yay5xLkkpLmxvZyhlLnNlc3Npb25JZCksdGhpcy5tbj1cIlNbXCIrZS5zZXNzaW9uSWQrXCJdXCIsdGhpcy5EYz1lLkNuLkRjLHRoaXMud0M9ZS53Qyx0aGlzLkVKKCl9LGUucHJvdG90eXBlLmQxPWZ1bmN0aW9uKGUpe3RoaXMuRGMuTl8ubWV0cmljcy5tZW1OPWUsdGhpcy5EYy5LRi5tZXRyaWNzLm1lbU49ZX0sZS5wcm90b3R5cGUuRnE9ZnVuY3Rpb24oZSx0KXt0aGlzLkRjLk5fLm1ldHJpY3MubG9va3VwVG90YWwrKyx0aGlzLkRjLktGLm1ldHJpY3MubG9va3VwVG90YWwrKyxlPyh0aGlzLkRjLk5fLm1ldHJpY3MubG9va3VwTm90Rm91bmQrKyx0aGlzLkRjLktGLm1ldHJpY3MubG9va3VwTm90Rm91bmQrKyx0aGlzLkRjLk5fLm1ldHJpY3MubG9va3VwRmFpbGVkKyssdGhpcy5EYy5LRi5tZXRyaWNzLmxvb2t1cEZhaWxlZCsrKTp0Pyh0aGlzLkRjLk5fLm1ldHJpY3MubG9va3VwRmFpbGVkKyssdGhpcy5EYy5LRi5tZXRyaWNzLmxvb2t1cEZhaWxlZCsrKToodGhpcy5EYy5OXy5tZXRyaWNzLmxvb2t1cFJlcUVzdGFibGlzaGVkKyssdGhpcy5EYy5LRi5tZXRyaWNzLmxvb2t1cFJlcUVzdGFibGlzaGVkKyspfSxlLnByb3RvdHlwZS5lVj1mdW5jdGlvbigpe3RoaXMuRGMuTl8ubWV0cmljcy5sb29rdXBSZXFBY2NlcHQrKyx0aGlzLkRjLktGLm1ldHJpY3MubG9va3VwUmVxQWNjZXB0Kyt9LGUucHJvdG90eXBlLmg4PWZ1bmN0aW9uKGUsdCxyLGksbil7aWYodGhpcy5IN3x8aSl7dmFyIHM9bj09by5UdS5FdSxhPXRoaXMuRGMubUwoZSksaD10aGlzLkRjLnlMKGUpO2EucDJwU3VjY1JlcSsrLGEucDJwU3VjY1JlY2VpdmVkKz10LGgucDJwU3VjY1JlcSsrLGgucDJwU3VjY1JlY2VpdmVkKz10LHMmJihhLnAycFN1Y2NSZWNlaXZlZExvdys9dCxoLnAycFN1Y2NSZWNlaXZlZExvdys9dCkscj4wJiYhcyYmKGEucDJwU3VjY1JlY2VpdmVkTG93Kz10LGgucDJwU3VjY1JlY2VpdmVkTG93Kz10KX19LGUucHJvdG90eXBlLmw4PWZ1bmN0aW9uKGUsdCxyLGksbixzKXtpZih0aGlzLkg3fHxuKXt2YXIgYT1zPT1vLlR1LkV1LGg9dGhpcy5EYy5tTChlKSxjPXRoaXMuRGMueUwoZSk7aC5wMnBGYWlsUmVxKyssaC5wMnBTdWNjUmVjZWl2ZWQrPXQsaC5wMnBGYWlsUmVjZWl2ZWQrPWktdCxjLnAycFN1Y2NSZXErKyxjLnAycFN1Y2NSZWNlaXZlZCs9dCxjLnAycEZhaWxSZWNlaXZlZCs9aS10LGEmJihoLnAycFN1Y2NSZWNlaXZlZExvdys9dCxjLnAycFN1Y2NSZWNlaXZlZExvdys9dCkscj4wJiYhYSYmKGgucDJwU3VjY1JlY2VpdmVkTG93Kz10LGMucDJwU3VjY1JlY2VpdmVkTG93Kz10KX19LGUucHJvdG90eXBlLnA4PWZ1bmN0aW9uKGUsdCxyKXtpZih0aGlzLkg3fHxyKXt2YXIgaT10aGlzLkRjLm1MKGUpLG49dGhpcy5EYy55TChlKTtpLnAycEZhaWxSZXErKyxpLnAycEZhaWxSZWNlaXZlZCs9dCxuLnAycEZhaWxSZXErKyxuLnAycEZhaWxSZWNlaXZlZCs9dH19LGUucHJvdG90eXBlLmQ4PWZ1bmN0aW9uKGUsdCxyKXtpZih0aGlzLkg3fHxyKXt2YXIgaT10aGlzLkRjLm1MKHQpLG49dGhpcy5EYy55TCh0KTtpLnAycFN1Y2NSZXNwKyssaS5wMnBTdWNjU2VudCs9ZSxuLnAycFN1Y2NSZXNwKyssbi5wMnBTdWNjU2VudCs9ZX19LGUucHJvdG90eXBlLm04PWZ1bmN0aW9uKGUsdCxyLGkpe2lmKHRoaXMuSDd8fGkpe3ZhciBuPXRoaXMuRGMubUwocikscz10aGlzLkRjLnlMKHIpO24ucDJwUGFydFJlc3ArKyxuLnAycFN1Y2NTZW50Kz1lLG4ucDJwRmFpbFNlbnQrPXQtZSxzLnAycFBhcnRSZXNwKysscy5wMnBTdWNjU2VudCs9ZSxzLnAycEZhaWxTZW50Kz10LWV9fSxlLnByb3RvdHlwZS52OD1mdW5jdGlvbihlLHQscil7aWYodGhpcy5IN3x8cil7dmFyIGk9dGhpcy5EYy5tTCh0KSxuPXRoaXMuRGMueUwodCk7aS5wMnBGYWlsUmVzcCsrLGkucDJwRmFpbFNlbnQrPWUsbi5wMnBGYWlsUmVzcCsrLG4ucDJwRmFpbFNlbnQrPWV9fSxlLnByb3RvdHlwZS5KXz1mdW5jdGlvbihlKXtlP3RoaXMuRGMuTl8ubWV0cmljcy5iaXRyYXRlVXBOKys6dGhpcy5EYy5OXy5tZXRyaWNzLmJpdHJhdGVEd25OKyt9LGUucHJvdG90eXBlLkJKPWZ1bmN0aW9uKGUpe2lmKC0xPT1bbi5Xcy56cyxuLldzLkpzXS5pbmRleE9mKGUuWXUoKSkpe3ZhciB0PWUuWXUoKSE9bi5Xcy5LcztpZigodGhpcy5IN3x8dCkmJih0aGlzLkRjLmZMKCkucmVxTisrLHRoaXMuRGMuTV8oKS5yZXFOKyssZS5ZdSgpPT1uLldzLllzKSl7dmFyIHI9ZTtpZihyLmJpdHJhdGUpe3ZhciBpPXIuYml0cmF0ZTt0aGlzLkRjLmRMKGkpLnJlcU4rKyx0aGlzLkRjLkZfKGkpLnJlcU4rK319fWVsc2UgdGhpcy5EYy5mTCgpLnJlcU90aGVyTisrLHRoaXMuRGMuTV8oKS5yZXFPdGhlck4rK30sZS5wcm90b3R5cGUuc1c9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5ZdSgpIT1uLldzLktzO2lmKHRoaXMuSDd8fHQpe3ZhciByPXRoaXMuRGMuZkwoKSxpPXRoaXMuRGMuTV8oKSxzPW51bGwsYT1udWxsO2lmKC0xPT1bbi5Xcy56cyxuLldzLkpzXS5pbmRleE9mKGUuWXUoKSkpe2lmKHIuc3JjUmVxTisrLGkuc3JjUmVxTisrLHQpe3ZhciBoPXRoaXMuVjcoZSk7aCYmKHM9dGhpcy5EYy5kTChoKSxhPXRoaXMuRGMuRl8oaCkscy5zcmNSZXFOKyssYS5zcmNSZXFOKyspfWlmKGUuS3UoKT09by5UdS52dSYmKHIuc3JjT3RoZXJSZXFOKyssaS5zcmNPdGhlclJlcU4rKyx0KSl7dmFyIGg9dGhpcy5WNyhlKTtoJiYocy5zcmNPdGhlclJlcU4rKyxhLnNyY090aGVyUmVxTisrKX19fX0sZS5wcm90b3R5cGUuSjg9ZnVuY3Rpb24oZSl7aWYodGhpcy5EYy5mTCgpLnAycFN1YlJlcU4rKyx0aGlzLkRjLk1fKCkucDJwU3ViUmVxTisrLGUuWXUoKT09bi5Xcy5Zcyl7dmFyIHQ9dGhpcy5WNyhlKTt0JiYodGhpcy5EYy5kTCh0KS5wMnBTdWJSZXFOKyssdGhpcy5EYy5GXyh0KS5wMnBTdWJSZXFOKyspfX0sZS5wcm90b3R5cGUuajc9ZnVuY3Rpb24oZSx0KXt0aGlzLkc3KGUsdGhpcy5EYy5NXygpKSx0aGlzLkc3KGUsdGhpcy5EYy5mTCgpKTt2YXIgcj10aGlzLlY3KGUpO3ImJmUuWXUoKT09PW4uV3MuWXMmJih0aGlzLkc3KGUsdGhpcy5EYy5kTChyKSksdGhpcy5HNyhlLHRoaXMuRGMuRl8ocikpKSxpc05hTih0KXx8KHRoaXMuRGMuTl8ubWV0cmljcy5zcmNUaHJvdWdocHV0PXQpfSxlLnByb3RvdHlwZS51Vz1mdW5jdGlvbihlLHQpe3ZhciByPWUuWXUoKSE9bi5Xcy5LczsodGhpcy5IN3x8cikmJigtMSE9W24uV3MuenMsbi5Xcy5Kc10uaW5kZXhPZihlLll1KCkpPyh0aGlzLkRjLmZMKCkucmVzcEZhbGxiYWNrT3RoZXJOKyssdGhpcy5EYy5NXygpLnJlc3BGYWxsYmFja090aGVyTisrKTp0aGlzLmo3KGUsdCkpfSxlLnByb3RvdHlwZS5hVz1mdW5jdGlvbihlLHQpe2lmKC0xIT1bbi5Xcy56cyxuLldzLkpzXS5pbmRleE9mKGUuWXUoKSkpdGhpcy5EYy5mTCgpLnJlc3BGYWxsYmFja090aGVydEVyck4rKyx0aGlzLkRjLk1fKCkucmVzcEZhbGxiYWNrT3RoZXJ0RXJyTisrO2Vsc2V7dmFyIHI9ZS5ZdSgpIT1uLldzLktzO2lmKHRoaXMuSDd8fHIpaWYodGhpcy56XyhlLnR5cGUpKXtpZih0aGlzLkRjLk1fKCkucmVzcEZhbGxiYWNrRXJyTisrLHRoaXMuRGMuZkwoKS5yZXNwRmFsbGJhY2tFcnJOKysscil7dmFyIGk9dGhpcy5WNyhlKTtpJiYodGhpcy5EYy5kTChpKS5yZXNwRmFsbGJhY2tFcnJOKyssdGhpcy5EYy5GXyhpKS5yZXNwRmFsbGJhY2tFcnJOKyspfWlmKDA9PWUuTXUuQXUmJih0aGlzLkRjLk1fKCkuc3JjUmVzcEVyck4rKyx0aGlzLkRjLmZMKCkuc3JjUmVzcEVyck4rKyxyKSl7dmFyIGk9dGhpcy5WNyhlKTtpJiZlLll1KCk9PT1uLldzLllzJiYodGhpcy5EYy5kTChpKS5zcmNSZXNwRXJyTisrLHRoaXMuRGMuRl8oaSkuc3JjUmVzcEVyck4rKyl9dGhpcy5qNyhlLHQpfWVsc2UgaWYoLTEhPWMubmkuV3QuSnQuaW5kZXhPZihlLlZ1LnN0YXR1cykpdGhpcy5EYy5mTCgpLmZhbGxBZ2VudEZhaWxlZFJlc3BOKyssdGhpcy5EYy5NXygpLmZhbGxBZ2VudEZhaWxlZFJlc3BOKyssdGhpcy5EYy5mTCgpLnJlcU4tLSx0aGlzLkRjLk1fKCkucmVxTi0tO2Vsc2V7aWYoMD09ZS5NdS5BdSYmKHRoaXMuRGMuZkwoKS5zcmNPdGhlclJlc3BFcnJOKyssdGhpcy5EYy5NXygpLnNyY090aGVyUmVzcEVyck4rKyksIXIpe3ZhciBpPXRoaXMuVjcoZSk7aSYmZS5ZdSgpPT09bi5Xcy5ZcyYmKHRoaXMuRGMuZEwoaSkuc3JjT3RoZXJSZXNwRXJyTisrLHRoaXMuRGMuRl8oaSkuc3JjT3RoZXJSZXNwRXJyTisrKX10aGlzLmo3KGUsdCl9fX0sZS5wcm90b3R5cGUuR0o9ZnVuY3Rpb24oZSx0KXtpZih0LmV4PT1vLlR1LkV1KXRoaXMuRGMuTV8oKS5yZXNwUDJwTisrLHRoaXMuRGMuZkwoKS5yZXNwUDJwTisrO2Vsc2UgaWYodC5leD09by5UdS52dSl0aGlzLkRjLk1fKCkucmVzcEZhbGxiYWNrTisrLHRoaXMuRGMuZkwoKS5yZXNwRmFsbGJhY2tOKys7ZWxzZSBpZih0LmV4PT1vLlR1LmR1KXt0aGlzLkRjLk1fKCkubENhY2hlUmVzcE4rKyx0aGlzLkRjLmZMKCkubENhY2hlUmVzcE4rKzt2YXIgcj1pLkZyYW1ld29yay5TKCk/dC5sZW5ndGg6ZS5IdS5ieXRlTGVuZ3RoO3RoaXMuRGMuTV8oKS5sQ2FjaGVSZXNwUXQrPXIsdGhpcy5EYy5mTCgpLmxDYWNoZVJlc3BRdCs9cn19LGUucHJvdG90eXBlLnRXPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5ZdSgpIT1uLldzLktzOyh0aGlzLkg3fHxyKSYmdGhpcy5qNyhlLHQpfSxlLnByb3RvdHlwZS5KSj1mdW5jdGlvbihlKXtpZigwIT1lLnF1KXt0aGlzLkRjLmZMKCkucDJwU3ViUmVzcEVyck4rKyx0aGlzLkRjLk1fKCkucDJwU3ViUmVzcEVyck4rKztpZihlLll1KCk9PW4uV3MuWXMpe3ZhciB0PXRoaXMuVjcoZSk7dCYmKHRoaXMuRGMuZEwodCkucDJwU3ViUmVzcEVyck4rKyx0aGlzLkRjLkZfKHQpLnAycFN1YlJlc3BFcnJOKyspfX19LGUucHJvdG90eXBlLlc4PWZ1bmN0aW9uKGUpe2lmKHRoaXMuRGMuZkwoKS5wMnBTdWJSZXNwRXhwTisrLHRoaXMuRGMuTV8oKS5wMnBTdWJSZXNwRXhwTisrLGUuWXUoKT09bi5Xcy5Zcyl7dmFyIHQ9dGhpcy5WNyhlKTt0JiYodGhpcy5EYy5kTCh0KS5wMnBTdWJSZXNwRXhwTisrLHRoaXMuRGMuRl8odCkucDJwU3ViUmVzcEV4cE4rKyl9fSxlLnByb3RvdHlwZS5HNz1mdW5jdGlvbihlLHQpe3ZhciByPWUuTXUuU3UsaT1lLk11LkF1LHM9ZS5NdS5SdSxvPWUuTXUuYnUsaD1lLk11LlB1O2lmKGUuWXUoKSE9bi5Xcy56cyl7aWYoZS5NdS5JdSYmbyYmbzxyKXt2YXIgYz1vL3I7dC5wMnBTdWJSZXNwUGFydE4rPWMsdGhpcy56XyhlLnR5cGUpfHwodC5wMnBBZ2VuVHJhZmZpY0ZhaWx1cmVRdCs9ci1zKX1pZigwIT1oJiYoaD09ciYmdC5sQ2FjaGVSZXNwTisrLHQubENhY2hlUmVzcFF0Kz1lLk11LlB1KSwwIT1zKWlmKHM9PXImJih0aGlzLnpfKGUudHlwZSkmJnQucmVzcFAycE4rKyx0LnAycFN1YlJlc3BOKyspLHQucDJwU3ViUmVxUXQrPXIsdC5wMnBTdWJSZXNwUXQrPXMsdC5wMnBBZ2VuVHJhZmZpY1N1Y2Nlc3NRdCs9ZS5NdS5wMnBBZ2VuVHJhZmZpY1N1Y2Nlc3NRdCx0LnAycERpcmVjdFF0Kz1zLGUuS1UuSWsuVGsudHlwZT09YS5acy5LKXQucDJwVWRwYlF0Kz1zLHQucDJwTmF0UXQrPXM7ZWxzZXt2YXIgdT10aGlzLndDLkVrKCk7aWYodSYmdT4wKWlmKG51bGwhPWUuWVUpe3ZhciBsPWUuWVUuaW50ZXJuYWxBczt1PT09bCYmKHQucDJwTmF0UXQrPXMpfWVsc2UgdGhpcy50ZS53YXJuKFwiTWlzc2luZyBwYXJ0bmVyIGluZm9cIil9fWlmKDAhPWkpe2lmKHRoaXMuUTcoZS50eXBlKSYmKHQuc3JjT3RoZXJSZXFRdCs9ZS5NdS5BdSksaT09cil0aGlzLlE3KGUudHlwZSk/KHQuc3JjT3RoZXJSZXNwTisrLHQuc3JjT3RoZXJSZXNwUXQrPWUuTXUuQXUsdC5zcmNPdGhlck92ZXJRdCs9ZS5NdS5BdSx0LmZhbGxBZ2VudFJlc3BOKyspOnQucmVzcEZhbGxiYWNrTisrLHQuc3JjUmVzcE4rKztlbHNle3Quc3JjUmVzcEVyck4rKzt2YXIgcD1pLyhzK2kpO3QucmVzcEZhbGxiYWNrTj1wLHQucmVzcFAycE49MS1wLHRoaXMuUTcoZS50eXBlKSYmKHQuc3JjT3RoZXJSZXNwRXJyTisrLHQuc3JjT3RoZXJSZXNwUXQrPWUuTXUuQXUsdC5zcmNPdGhlck92ZXJRdCs9ZS5NdS5BdSx0LmZhbGxBZ2VuVHJhZmZpY0ZhaWx1cmVRdCs9ZS5NdS5BdSl9dC5zcmNSZXFRdCs9ZS5NdS5BdSx0LnNyY1Jlc3BRdCs9ZS5NdS5BdSx0LnNyY092ZXJRdCs9ZS5NdS5BdSx0aGlzLlE3KGUudHlwZSkmJih0LmZhbGxBZ2VuVHJhZmZpY1N1Y2Nlc3NRdCs9ZS5NdS5DdSl9fSxlLnByb3RvdHlwZS5WNz1mdW5jdGlvbihlKXt2YXIgdD1udWxsO2lmKGUuUXUgaW5zdGFuY2VvZiBzLlNSKXt2YXIgcj1lLlF1O3IuYml0cmF0ZSYmKHQ9ci5iaXRyYXRlKX1yZXR1cm4gdH0sZS5wcm90b3R5cGUuel89ZnVuY3Rpb24oZSl7cmV0dXJuIGUhPW8uVHUuRXUmJmUhPW8uVHUudnV9LGUucHJvdG90eXBlLlE3PWZ1bmN0aW9uKGUpe3JldHVybiF0aGlzLnpfKGUpfSxlLnByb3RvdHlwZS5FSj1mdW5jdGlvbigpe3RoaXMuSzcoKX0sZS5wcm90b3R5cGUuZ0o9ZnVuY3Rpb24oKXtpLkZyYW1ld29yay5jbGVhckludGVydmFsKHRoaXMucTcpLHRoaXMucTc9bnVsbH0sZS5wcm90b3R5cGUuSzc9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO251bGwhPXRoaXMucTcmJih0aGlzLnE3PWkuRnJhbWV3b3JrLnNldEludGVydmFsKGZ1bmN0aW9uKCl7ZS5EYy5xRj1lLndDLmlWKCksZS5EYy5IRj1lLndDLkVrKCksZS5EYy5jTD1lLndDLktoKCl9LGMubmkuaWkucmkpKX0sZX0oKTt0LmJ6PXV9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1yKDApLG49cigzKSxzPXIoMTEpLG89cigxOTEpLGE9cig4KSxoPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuWTc9ITEsdGhpcy5tbj1cIltVRFBCRGlzY292ZXJ5XSBcIix0aGlzLno3PS0xfXJldHVybiBlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKGUpe3RoaXMudGU9aS5GcmFtZXdvcmsucmVzb2x2ZShpLkZyYW1ld29yay5xLkkpLmxvZyhlLnNlc3Npb25JZCksdGhpcy5KNz1lLlh6LHRoaXMud0M9ZS53Q30sZS5wcm90b3R5cGUubko9ZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sdD0wO3Q8YXJndW1lbnRzLmxlbmd0aDt0KyspZVt0XT1hcmd1bWVudHNbdF07dGhpcy5zcz1lLHRoaXMuZlI9dGhpcy53Qy5LXygpfSxlLnByb3RvdHlwZS5XNz1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy50ZS5kZWJ1Zyh0aGlzLm1uK1wiU1RBUlQgVURQIEJST0FEQ0FTVCBTRVJWRVJcIiksdGhpcy5KNy5XNyhuLm5pLlVEUEJyb2FkY2FzdC5CcixmdW5jdGlvbih0LHIpe2lmKGUuejc+LTEpe3ZhciBpPW8uWDcuZnUocik7aWYoaS5DayE9ZS5ndWlkJiZpLk54PT1lLmZSJiZpLlFxPT09bi5uaS5VdC5fdCl7ZS50ZS5kZWJ1ZyhlLm1uK1wiSSBSRUNFSVZFRCBBIE1FU1NBR0UgRlJPTSBcIitpLkNrKTt2YXIgYT1uZXcgcy5wbyhzLlpzLkssbnVsbCxpLnNvKTthLmd1aWQ9aS5DayxhLnVvPXQsYS5jbz1pLmNvLGUuc3MuZm9yRWFjaChmdW5jdGlvbihlKXtyZXR1cm4gZS5BeChbYV0sITEpfSl9fX0pfSxlLnByb3RvdHlwZS5tSj1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy50ZS5pbmZvKHRoaXMubW4rXCJTVEFSVCBCUk9BRENBU1QgRVZFUlkgXCIrbi5uaS5VRFBCcm9hZGNhc3QuVXIpLC0xIT10aGlzLno3JiZpLkZyYW1ld29yay5jbGVhckludGVydmFsKHRoaXMuejcpLHRoaXMuejc9aS5GcmFtZXdvcmsuc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtlLlo3KCl9LG4ubmkuVURQQnJvYWRjYXN0LlVyKSx0aGlzLlo3KCl9LGUucHJvdG90eXBlLnBKPWZ1bmN0aW9uKCl7LTEhPXRoaXMuejcmJmkuRnJhbWV3b3JrLmNsZWFySW50ZXJ2YWwodGhpcy56Nyl9LGUucHJvdG90eXBlLlo3PWZ1bmN0aW9uKCl7dmFyIGU9bmV3IG8uWDcodGhpcy5mUix0aGlzLndDLlcoKSx0aGlzLndDLm9IKCksdGhpcy53Qy5maygpLG4ubmkuVXQuX3QpO3RoaXMudGUuaW5mbyh0aGlzLm1uK1wiQlJPQURDQVNUIE1FU1NBR0UgY29udGV4dElkIFwiK2UuTngrXCIgaWQgXCIrZS5DaytcIiB1ZHBzY29yZSBcIitlLmNvK1wiIGxhbiBsZWFkZXIgXCIrZS5zbytcIiBwcm90b2J1ZlZlcnNpb24gXCIrZS5RcSksYS5IaXZlQ29uZmlnLlVEUEJyb2FkY2FzdC51c2l6JiYobi5uaS5VRFBCcm9hZGNhc3QueHI9YS5IaXZlQ29uZmlnLlVEUEJyb2FkY2FzdC51c2l6KSx0aGlzLko3LmVlZShuLm5pLlVEUEJyb2FkY2FzdC5CcixuLm5pLlVEUEJyb2FkY2FzdC54cixlLnB1KCkpfSxlLnByb3RvdHlwZS5aaD1mdW5jdGlvbihlKXt0aGlzLnRlLmluZm8oXCJVRFBESVNDT1ZFUlkgU0VSVkVSIENPTk5FQ1RFRFwiKSx0aGlzLlk3fHwodGhpcy5ndWlkPWUsdGhpcy5XNygpLHRoaXMubUooKSl9LGV9KCk7dC5Jej1ofSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxyLGksbil7dGhpcy5OeD1lLHRoaXMuQ2s9dCx0aGlzLmNvPXIsdGhpcy5zbz1pLHRoaXMuUXE9bn1yZXR1cm4gZS5wcm90b3R5cGUucHU9ZnVuY3Rpb24oKXt2YXIgZT17Tng6dGhpcy5OeCxDazp0aGlzLkNrLGNvOnRoaXMuY28sc286dGhpcy5zbyxRcTp0aGlzLlFxfTtyZXR1cm4gSlNPTi5zdHJpbmdpZnkoZSx0aGlzLnRlZSl9LGUucHJvdG90eXBlLnRlZT1mdW5jdGlvbihlLHQpe2lmKG51bGwhPT10KXJldHVybiB0fSxlLmZ1PWZ1bmN0aW9uKHQpe3ZhciByPXQsaT1KU09OLnBhcnNlKHIpO3JldHVybiBuZXcgZShpLk54LGkuQ2ssaS5jbyxpLnNvLGkuUXEpfSxlfSgpO3QuWDc9aX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXIoMCksbj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLm1uPVwiW1Byb3h5VURQQl1cIix0aGlzLnRlPWkuRnJhbWV3b3JrLnJlc29sdmUoaS5GcmFtZXdvcmsucS5JKS5sb2coKSx0aGlzLko3PXdpbmRvdy5yZWUsdGhpcy5KN3x8dGhpcy50ZS5lcnJvcih0aGlzLm1uK1wiIGhlbHBlciB1bmRlZmluZWRcIil9cmV0dXJuIGUucHJvdG90eXBlLlc3PWZ1bmN0aW9uKGUsdCl7dHJ5e3RoaXMuSjcmJnRoaXMuSjcuVzcoZSx0KX1jYXRjaChlKXt0aGlzLnRlLndhcm4odGhpcy5tbitlKX19LGUucHJvdG90eXBlLmllZT1mdW5jdGlvbigpe3RyeXt0aGlzLko3JiZ0aGlzLko3LmllZSgpfWNhdGNoKGUpe3RoaXMudGUud2Fybih0aGlzLm1uK2UpfX0sZS5wcm90b3R5cGUuZWVlPWZ1bmN0aW9uKGUsdCxyKXt0cnl7dGhpcy5KNyYmdGhpcy5KNy5lZWUoZSx0LHIpfWNhdGNoKGUpe3RoaXMudGUud2Fybih0aGlzLm1uK2UpfX0sZS5wcm90b3R5cGUucEo9ZnVuY3Rpb24oKXt0cnl7dGhpcy5KNyYmdGhpcy5KNy5wSigpfWNhdGNoKGUpe3RoaXMudGUud2Fybih0aGlzLm1uK2UpfX0sZS5wcm90b3R5cGUubmVlPWZ1bmN0aW9uKGUsdCl7dHJ5e3RoaXMuSjcmJnRoaXMuSjcubmVlKGUsdCl9Y2F0Y2goZSl7dGhpcy50ZS53YXJuKHRoaXMubW4rZSl9fSxlfSgpO3Qud3o9bn0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXRoaXMmJnRoaXMuTnN8fGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gcigpe3RoaXMuY29uc3RydWN0b3I9ZX1mb3IodmFyIGkgaW4gdCl0Lmhhc093blByb3BlcnR5KGkpJiYoZVtpXT10W2ldKTtlLnByb3RvdHlwZT1udWxsPT09dD9PYmplY3QuY3JlYXRlKHQpOihyLnByb3RvdHlwZT10LnByb3RvdHlwZSxuZXcgcil9LG49cig4NSkscz1yKDE5NCksbz1yKDg2KSxhPXIoODcpLGg9cig1NyksYz1yKDIyKSx1PXIoMzEpLGw9cigyKSxwPXIoNCksZj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7dmFyIHQ9ZS5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiB0LnNlZS5vbmVycm9yPWZ1bmN0aW9uKGUpe3AuRXJyb3JNb25pdG9yLmdpKCkuZGkoXCJTaGFyZWQgV29ya2VyIGVycm9yXCIse2Vycm9yOmUubWVzc2FnZX0pfSx0Lm9lZS5vbmVycm9yPWZ1bmN0aW9uKGUpe3AuRXJyb3JNb25pdG9yLmdpKCkuZGkoXCJXZWIgV29ya2VyIGVycm9yXCIse2Vycm9yOmUudHlwZX0pfSx0LnNlZS5wb3J0LnN0YXJ0KCksdH1yZXR1cm4gaSh0LGUpLHQucHJvdG90eXBlLmFlZT1mdW5jdGlvbigpe3ZhciBlPXRoaXM7c2V0VGltZW91dChmdW5jdGlvbigpe2UuaGVlKCl9LDFlMyl9LHQucHJvdG90eXBlLmhlZT1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5zZWUucG9ydC5vbm1lc3NhZ2U9ZnVuY3Rpb24odCl7ZS50ZS5kZWJ1ZyhcIkxSVSBsZW5ndGggOiBcIit0LmRhdGEucmVzcG9uc2UpfSx0aGlzLnRlLmRlYnVnKFwiU2VuZCBtZXNzYWdlXCIpLHRoaXMuc2VlLnBvcnQucG9zdE1lc3NhZ2Uoe3R5cGU6cy51ZWUuY2VlfSksdGhpcy5hZWUoKX0sdC5wcm90b3R5cGUuY29udGFpbnM9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWwuZGVmZXIoKTtpZih0aGlzLnhVLmhhcyhlKSlyLnJlc29sdmUoITApO2Vsc2V7dmFyIGk9ITEsbj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aT0hMCx0LnRlLmRlYnVnKFwiVk9EIENPTlRBSU5TIFRJTUVET1VUIDogXCIrZSksci5yZXNvbHZlKCExKX0sMWUzKTt0aGlzLnNlZS5wb3J0Lm9ubWVzc2FnZT1mdW5jdGlvbihlKXtjbGVhclRpbWVvdXQobiksaXx8KGUuZGF0YS5yZXNwb25zZT9yLnJlc29sdmUoITApOnIucmVzb2x2ZSghMSkpfSx0aGlzLnNlZS5vbmVycm9yPWZ1bmN0aW9uKGUpe3QudGUuZXJyb3IoZSl9LHRoaXMuc2VlLnBvcnQucG9zdE1lc3NhZ2Uoe3R5cGU6cy51ZWUubGVlLHBlZTplfSl9cmV0dXJuIHIuVGV9LHQucHJvdG90eXBlLmZlZT1mdW5jdGlvbihlKXt2YXIgdD1sLmRlZmVyKCkscj10aGlzLnhVLmdldChlKTtpZihudWxsIT1yKXt2YXIgaT1udWxsO3IuY29udGVudC5mb3JFYWNoKGZ1bmN0aW9uKGUsdCl7aWYoaC53RC5JRCh0KS52RCgpKXJldHVybiBpPWUsaS5oZWFkZXJzPXIuaGVhZGVycyx2b2lkKGkuWVU9ci5ZVSl9KSx0LnJlc29sdmUoaSl9ZWxzZSB0LnJlc29sdmUobnVsbCk7cmV0dXJuIHQuVGV9LHQucHJvdG90eXBlLmdldD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9bC5kZWZlcigpO2lmKHRoaXMueFUuaGFzKGUpKXRoaXMuZmVlKGUpLnRoZW4oZnVuY3Rpb24oZSl7ci5yZXNvbHZlKGUpfSk7ZWxzZXt0aGlzLnRlLmRlYnVnKFwiU0hBUkVEV09SS0VSOiBQZXJtaXNzaW9uIFJlcXVlc3QgdG8gUkVBRFwiKTt2YXIgaT1EYXRlLm5vdygpO3RoaXMuZGVlKHMudWVlLmdlZSxpKS50aGVuKGZ1bmN0aW9uKG4pe3QudGUuZGVidWcoXCJTSEFSRURXT1JLRVI6IFBlcm1pc3Npb24gUmVxdWVzdCBUbyBSRUFEIDogXCIrbiksbj90LnZlZShlKS50aGVuKGZ1bmN0aW9uKGUpe3QudGUuZGVidWcoXCJTSEFSRURXT1JLRVI6ICBSZWFkIENvbXBsZXRlZCBcIiksdC5zZWUucG9ydC5wb3N0TWVzc2FnZSh7dHlwZTpzLnVlZS55ZWUsaWQ6aX0pLHIucmVzb2x2ZShlKX0pOnIucmVzb2x2ZShudWxsKX0pfXJldHVybiByLlRlfSx0LnByb3RvdHlwZS52ZWU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWwuZGVmZXIoKSxpPW51bGwsbj0hMSxhPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtuPSEwLHIucmVzb2x2ZShpKX0sMWUzKTtyZXR1cm4gdGhpcy5vZWUub25tZXNzYWdlPWZ1bmN0aW9uKGgpe2lmKGNsZWFyVGltZW91dChhKSwhbil7aWYoaC5kYXRhLnJlc3BvbnNlKXt2YXIgdT1uZXcgYy5GdTt1Lkl1PSExLHUud3U9ITAsdS5TdT1oLmRhdGEuZGF0YS5sZW5ndGgsdS5SdT0wLHUuUHU9aC5kYXRhLmRhdGEubGVuZ3RoLHUuQXU9MCxpPW5ldyBvLnpVKGguZGF0YS5kYXRhLmxlbmd0aCxoLmRhdGEuZGF0YS5jb250ZW50LHUsYy5UdS5kdSksaS5oZWFkZXJzPWguZGF0YS5kYXRhLm1lZX1lbHNlIHQuc2VlLnBvcnQucG9zdE1lc3NhZ2Uoe3R5cGU6cy51ZWUuRWVlLHBlZTplfSk7ci5yZXNvbHZlKGkpfX0sdGhpcy5vZWUucG9zdE1lc3NhZ2Uoe3R5cGU6cy51ZWUuVGVlLHBlZTplfSksci5UZX0sdC5wcm90b3R5cGUubT1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy50ZS5kZWJ1ZyhcIkZMVVNISU5HIElOLU1FTU9SWSBDQUNIRVwiKTtmb3IodmFyIHQ9W10scj0wO3I8dGhpcy5xVS5sZW5ndGg7cisrKXRoaXMueFUuZ2V0KHRoaXMucVVbcl0pLml4fHx0LnB1c2godGhpcy5xVVtyXSk7dGhpcy50ZS5kZWJ1ZyhcIkZsdXNoIFwiK3QubGVuZ3RoK1wiIGluIG1lbW9yeVwiKSx0Lmxlbmd0aD4wP3RoaXMuSWVlKHQpLnRoZW4oZnVuY3Rpb24odCl7ZS53ZWUoKX0pOnRoaXMud2VlKCl9LHQucHJvdG90eXBlLndlZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMsdD0wLHI9MDt0aGlzLnRlLmRlYnVnKFwiUFVSR0lORyBQRVJTSVNURU5UREIncyBJTi1NRU1PUlkgQ0FDSEVcIiksdGhpcy5xVS5ldmVyeShmdW5jdGlvbihpLG4pe3ZhciBzPWUueFUuZ2V0KGkpLnNpemUoKTtyZXR1cm4gdCtzPmUuVlU/KHI9bixlLnRlLmRlYnVnKFwiQ0FDSEUgVE9PIEJJRyBcIisodCtzKSksITEpOih0Kz1zLCEwKX0pfHx0aGlzLnFVLnNwbGljZShyLHRoaXMucVUubGVuZ3RoLTEpLmZvckVhY2goZnVuY3Rpb24odCl7ZS54VS5kZWxldGUodCl9KSx0aGlzLkdVKCl9LHQucHJvdG90eXBlLkllZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9bC5kZWZlcigpO3RoaXMudGUuZGVidWcoXCJTSEFSRURXT1JLRVI6ICBQZXJtaXNzaW9uIFJlcXVlc3QgVG8gV3JpdGUgXCIpO3ZhciBpPURhdGUubm93KCk7cmV0dXJuIHRoaXMuZGVlKHMudWVlLlNlZSxpKS50aGVuKGZ1bmN0aW9uKG4pe3QudGUuZGVidWcoXCJTSEFSRURXT1JLRVI6ICBQZXJtaXNzaW9uIFJlcXVlc3QgVG8gV1JJVEUgOiBcIituKSxuPyh0LnRlLmRlYnVnKFwiRmx1c2ggdGhlIGNvbnRlbnRzXCIpLHQuUmVlKGUpLnRoZW4oZnVuY3Rpb24oZSl7dC50ZS5kZWJ1ZyhcIlNIQVJFRFdPUktFUjogIFdSSVRFIENPTVBMRVRFRFwiKSx0LnNlZS5wb3J0LnBvc3RNZXNzYWdlKHt0eXBlOnMudWVlLmJlZSxpZDppfSksci5yZXNvbHZlKGUpfSkpOnIucmVzb2x2ZShuKX0pLHIuVGV9LHQucHJvdG90eXBlLlJlZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9bC5kZWZlcigpO3JldHVybiB0aGlzLlBlZShlWzBdKS50aGVuKGZ1bmN0aW9uKGkpe2lmKGkpZS5zaGlmdCgpLDA9PWUubGVuZ3RoP3IucmVzb2x2ZSghMCk6dC5SZWUoZSkudGhlbihmdW5jdGlvbihlKXtyLnJlc29sdmUoZSl9KTtlbHNle3ZhciBuPSExLG89c2V0VGltZW91dChmdW5jdGlvbigpe249ITAsZS5zaGlmdCgpLDA9PWUubGVuZ3RoP3IucmVzb2x2ZSghMSk6dC5SZWUoZSkudGhlbihmdW5jdGlvbihlKXtyLnJlc29sdmUoZSl9KX0sMWUzKTt0Lm9lZS5vbm1lc3NhZ2U9ZnVuY3Rpb24oaSl7aS5kYXRhJiYodC54VS5nZXQoZVswXSkuaXg9ITAsdC5zZWUucG9ydC5wb3N0TWVzc2FnZSh7dHlwZTpzLnVlZS5BZWUscGVlOmVbMF0sc2l6ZTp0LnhVLmdldChlWzBdKS5zaXplKCl9KSksY2xlYXJUaW1lb3V0KG8pLG58fChlLnNoaWZ0KCksMD09ZS5sZW5ndGg/aS5kYXRhP3IucmVzb2x2ZSghMCk6ci5yZXNvbHZlKCExKTp0LlJlZShlKS50aGVuKGZ1bmN0aW9uKGUpe3IucmVzb2x2ZShlKX0pKX0sdC5vZWUub25lcnJvcj1mdW5jdGlvbihlKXt0LnRlLmVycm9yKGUpfTt2YXIgYT10LnhVLmdldChlWzBdKSxjPW51bGwsdT1udWxsO2EuY29udGVudC5mb3JFYWNoKGZ1bmN0aW9uKGUsdCl7aWYoaC53RC5JRCh0KS52RCgpKXJldHVybiBjPWUsdT10LHZvaWQoYy5oZWFkZXJzPWEuaGVhZGVycyl9KTt2YXIgbD17bVI6YS5RdS56dSgpLGhlYWRlcnM6YS5oZWFkZXJzLGxlbmd0aDphLnNpemUoKSxDZWU6dSxjb250ZW50OmMuZGF0YSxRdTphLlF1fTt0Lm9lZS5wb3N0TWVzc2FnZSh7dHlwZTpzLnVlZS5rZWUsZGF0YTpsfSl9fSksci5UZX0sdC5wcm90b3R5cGUuUGVlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1sLmRlZmVyKCksaT0hMSxuPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtpPSEwLHIucmVzb2x2ZSghMSl9LDFlMyk7cmV0dXJuIHRoaXMuc2VlLnBvcnQub25tZXNzYWdlPWZ1bmN0aW9uKHMpe2NsZWFyVGltZW91dChuKSxpfHwodC50ZS5kZWJ1ZyhcIlNIQVJFRFdPUktFUjogIENPTlRBSU5TIFJFUVVFU1QgOiBcIitlK1wiIDogXCIrcy5kYXRhLnJlc3BvbnNlKSxzLmRhdGEucmVzcG9uc2U/ci5yZXNvbHZlKCEwKTpyLnJlc29sdmUoITEpKX0sdGhpcy5zZWUub25lcnJvcj1mdW5jdGlvbihlKXt0LnRlLmVycm9yKGUpLHIucmVzb2x2ZSghMSl9LHRoaXMuc2VlLnBvcnQucG9zdE1lc3NhZ2Uoe3R5cGU6cy51ZWUubGVlLHBlZTplfSksci5UZX0sdC5wcm90b3R5cGUuZGVlPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxpPWwuZGVmZXIoKSxuPSExLG89c2V0VGltZW91dChmdW5jdGlvbigpe249ITAsaS5yZXNvbHZlKCExKX0sMmUzKTtyZXR1cm4gdGhpcy5zZWUucG9ydC5vbm1lc3NhZ2U9ZnVuY3Rpb24odCl7Y2xlYXJUaW1lb3V0KG8pLG4/ZT09cy51ZWUuZ2VlP3Iuc2VlLnBvcnQucG9zdE1lc3NhZ2Uoe3R5cGU6cy51ZWUueWVlfSk6ZT09cy51ZWUuU2VlJiZyLnNlZS5wb3J0LnBvc3RNZXNzYWdlKHt0eXBlOnMudWVlLmJlZX0pOmkucmVzb2x2ZSh0LmRhdGEucmVzcG9uc2UpfSx0aGlzLnNlZS5vbmVycm9yPWZ1bmN0aW9uKGUpe3IudGUuZXJyb3IoZSl9LHRoaXMuc2VlLnBvcnQucG9zdE1lc3NhZ2Uoe3R5cGU6ZSxpZDp0fSksaS5UZX0sdC5wcm90b3R5cGUuaGs9ZnVuY3Rpb24oZSl7cmV0dXJuW119LHQucHJvdG90eXBlLkpVPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1sLmRlZmVyKCksaT1bXSxuPURhdGUubm93KCk7cmV0dXJuIHRoaXMuZGVlKHMudWVlLmdlZSxuKS50aGVuKGZ1bmN0aW9uKGUpe2lmKGUpe3ZhciBvPSExLGg9c2V0VGltZW91dChmdW5jdGlvbigpe289ITAsdC5zZWUucG9ydC5wb3N0TWVzc2FnZSh7dHlwZTpzLnVlZS55ZWUsaWQ6bn0pLHIucmVzb2x2ZShpKX0sNGUzKTt0Lm9lZS5vbm1lc3NhZ2U9ZnVuY3Rpb24oZSl7aWYoY2xlYXJUaW1lb3V0KGgpLGUuZGF0YS5yZXNwb25zZSYmbnVsbCE9ZS5kYXRhKWZvcih2YXIgYz0wO2M8ZS5kYXRhLmVsZW1lbnRzLmxlbmd0aDtjKyspe3ZhciBsPW5ldyB1LlNSKGUuZGF0YS5lbGVtZW50c1tjXS51cmwsZS5kYXRhLmVsZW1lbnRzW2NdLmdSLGUuZGF0YS5lbGVtZW50c1tjXS5kUixlLmRhdGEuZWxlbWVudHNbY10udlIsZS5kYXRhLmVsZW1lbnRzW2NdLmR1cmF0aW9uLGUuZGF0YS5lbGVtZW50c1tjXS5iaXRyYXRlLGUuZGF0YS5lbGVtZW50c1tjXS55UikscD1uZXcgYS5RVShsKTtwLmhlYWRlcnM9ZS5kYXRhLmVsZW1lbnRzW2NdLm1lZSxwLnR4PWUuZGF0YS5lbGVtZW50c1tjXS5sZW5ndGgsaS5wdXNoKHApfXQuc2VlLnBvcnQucG9zdE1lc3NhZ2Uoe3R5cGU6cy51ZWUueWVlLGlkOm59KSxvfHxyLnJlc29sdmUoaSl9LHQub2VlLm9uZXJyb3I9ZnVuY3Rpb24oZSl7cC5FcnJvck1vbml0b3IuZ2koKS5kaShcIkdFVCBFTEVNRU5UUyBFUlJPUlwiLHtlcnJvcjplfSksdC5zZWUucG9ydC5wb3N0TWVzc2FnZSh7dHlwZTpzLnVlZS55ZWUsaWQ6bn0pfSx0Lm9lZS5wb3N0TWVzc2FnZSh7dHlwZTpzLnVlZS5PZWV9KX19KSxyLnJlc29sdmUobnVsbCksci5UZX0sdH0obi4kVSk7dC5Tej1mfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlfSgpO2kuU2VlPVwid3JpdGVfcmVxdWVzdFwiLGkubGVlPVwiY29udGFpbnNfcmVxdWVzdFwiLGkuQWVlPVwid3JpdGVfaWRfb3BlcmF0aW9uXCIsaS5nZWU9XCJyZWFkX3JlcXVlc3RcIixpLnllZT1cInJlYWRfY29tcGxldGVkXCIsaS5iZWU9XCJ3cml0ZV9jb21wbGV0ZWRcIixpLkVlZT1cInVwZGF0ZV9scnVcIixpLmNlZT1cImxydV9zdGF0c1wiLGkuVGVlPVwicmVhZF9vcGVyYXRpb25cIixpLk9lZT1cInJlYWRfZWxlbWVudHNfb3BlcmF0aW9uXCIsaS5fZWU9XCJyZWFkX2tleXNfb3BlcmF0aW9uXCIsaS5rZWU9XCJ3cml0ZV9vcGVyYXRpb25cIix0LnVlZT1pfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9dGhpcyYmdGhpcy5Oc3x8ZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiByKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfWZvcih2YXIgaSBpbiB0KXQuaGFzT3duUHJvcGVydHkoaSkmJihlW2ldPXRbaV0pO2UucHJvdG90eXBlPW51bGw9PT10P09iamVjdC5jcmVhdGUodCk6KHIucHJvdG90eXBlPXQucHJvdG90eXBlLG5ldyByKX0sbj1yKDIwKTshZnVuY3Rpb24oZSl7IWZ1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBpKHQsZSksdH0obi5nbi5vdS5hdSk7ZS51ej10fShlLm91fHwoZS5vdT17fSkpfSh0LmdufHwodC5nbj17fSkpfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9cigyKSxuPXIoNykscz1yKDE5Nyksbz1yKDI2KSxhPW8uZ24uSGl2ZVRlY2hFcnJvcixoPW8uZ24uY0UsYz1yKDY1KSx1PXIoMTkpLGw9cigxOCkscD1yKDQyKSxmPXIoNTApLGQ9cig4KSxnPXIoNCksdj1yKDUzKSx5PXIoMjkpLG09cig2NyksRT0ocig1MSksbmF2aWdhdG9yKSxUPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQscil7dGhpcy5tbj1cIltIaXZlSnNQcm94eV1cIix0aGlzLk5lZT0wLHRoaXMuaF89ZSx0aGlzLm9wdGlvbnNfPW5ldyBzLmduLm91LkRlZSx0aGlzLkZlZSh0KSx0aGlzLmxfKCksdGhpcy5Waj1yfXJldHVybiBlLnByb3RvdHlwZS5Gbj1mdW5jdGlvbigpe3JldHVybiBlLmNffSxlLnByb3RvdHlwZS5nZXRWZXJzaW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmVyc2lvbn0sZS5wcm90b3R5cGUudV89ZnVuY3Rpb24oKXtyZXR1cm4hMX0sZS5wcm90b3R5cGUubF89ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2lmKG51bGw9PXRoaXMuTGVlfHxEYXRlLm5vdygpLXRoaXMuTmVlPjFlNCl7dmFyIHQ9XCIvL1wiK2MuY08ub0ErXCI6XCIrYy5jTy51TytcIi92ZXJzaW9uLmpzb25cIjt0aGlzLkxlZT1uLnBzKHQpLnRoZW4oZnVuY3Rpb24odCl7dmFyIHI9SlNPTi5wYXJzZSh0KTtyZXR1cm4gZS5zdGF0ZT1yLnN0YXRlLGUudmVyc2lvbj1yLnZlcnNpb24sXCJyZWFkeVwiPT09ZS5zdGF0ZT9cInJlYWR5XCI6KGUudGUoKS53YXJuKGUuaWQoKStcIkNsaWVudCBub3QgcmVhZHk6IFwiK2Uuc3RhdGUpLGkucmVqZWN0KG5ldyBhKGgubkUsXCJzdGF0ZSBcIitlLnN0YXRlKSkpfSxmdW5jdGlvbih0KXt2YXIgcj1cIkNsaWVudCBub3QgcmVhY2hhYmxlXCI7cmV0dXJuIHZvaWQgMCE9dCYmdm9pZCAwIT10LnN0YXR1cyYmLTEhPXQuc3RhdHVzJiYocj1cIkNsaWVudCBjaGVjayByZXR1cm5lZCBcIit0LnN0YXR1cyksZS50ZSgpLndhcm4oZS5pZCgpK3IpLGkucmVqZWN0KG5ldyBhKGgubkUscikpfSkuY2F0Y2goZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBhP2kucmVqZWN0KGUpOmkucmVqZWN0KG5ldyBhKGgubkUsXCJlcnJvciBwYXJzaW5nIHJlc3BvbnNlXCIpKX0pLHRoaXMuTmVlPURhdGUubm93KCl9cmV0dXJuIHRoaXMuTGVlfSxlLnByb3RvdHlwZS5pbml0U2Vzc2lvbj1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7cmV0dXJuIHRoaXMubF8oKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIHIuWFYoZSkudGhlbihmdW5jdGlvbih0KXt2YXIgaT1yLnBfKGUsdCk7aWYobnVsbCE9aSlyZXR1cm4gbS53bi5YRChyLmhfLGkuaWQpLG0ud24uYm4ocixpLmlkKSxuLkhpdmVSZXF1ZXN0RmFjdG9yeS5ibihpLmlkLHIuRm4oKSksaTt0aHJvdyBuZXcgYShoLlhtLFwiZXJyb3IgZ2VuZXJhdGluZyBzZXNzaW9uXCIpfSl9KS5jYXRjaChmdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGE/aS5yZWplY3QoZSk6aS5yZWplY3QobmV3IGEoaC5YbSxcImdlbmVyaWMgZXJyb3IgcmVzb2x2aW5nIHRpY2tldFwiKSl9KX0sZS5wcm90b3R5cGUuJEQ9ZnVuY3Rpb24oZSl7dGhpcy5mej1lfSxlLnByb3RvdHlwZS5mXz1mdW5jdGlvbigpe3JldHVybiB0aGlzLm9wdGlvbnNfLmluaXRUaW1lb3V0fSxlLnByb3RvdHlwZS5jaT1mdW5jdGlvbihlLHQpe3ZhciByPXQubWFuaWZlc3QudG9Mb3dlckNhc2UoKSxpPWUudG9Mb3dlckNhc2UoKSxuPXIuaW5kZXhPZihcIi5pc20vbWFuaWZlc3RcIik7aWYobj4tMSl7dmFyIHM9ci5zdWJzdHJpbmcoMCxuKTtpZihpLmluZGV4T2Yocyk+LTEpcmV0dXJuIGkuaW5kZXhPZihcIi5pc20vbWFuaWZlc3QoZm9ybWF0PW1wZC10aW1lLWNzZilcIik+LTE/dGhpcy5mej8odC50aWNrZXQuU291cmNlVVJMPWUsITApOnRoaXMuZHoodCxcIlRoZSBwbGF5ZXIgZG9lcyBub3QgdXNlIEhpdmVSZXF1ZXN0LCBkb3duZ3JhZGluZyB0byBTdGF0c0pTXCIpOnRoaXMuZHoodCxcIlByb3RvY29sIG5vdCBzdXBwb3J0ZWQgYnkgSGl2ZUpzUHJveHkgdGVjaCwgZG93bmdyYWRpbmcgdG8gU3RhdHNKU1wiKX1lbHNlIGlmKGk9PT1yKXJldHVybiEhdGhpcy5menx8dGhpcy5keih0LFwiVGhlIHBsYXllciBkb2VzIG5vdCB1c2UgSGl2ZVJlcXVlc3QsIGRvd25ncmFkaW5nIHRvIFN0YXRzSlNcIik7cmV0dXJuITF9LGUucHJvdG90eXBlLmR6PWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztyZXR1cm4gZS50ZWNoPXRoaXMuVmoseS5IaXZlLlJlcG9ydGluZygpLmluaXRTZXNzaW9uKGUudGlja2V0LnRpY2tldFVybCwhMSkudGhlbihmdW5jdGlvbih0KXtlLk1uKHQpO3QudGlja2V0O3IudGUoKS5kZWJ1ZyhcIltIaXZlSlNQcm94eV0gZG93bmdyYWRlIHZlcmlmaWVkIHRpY2tldCBcIitlLnRpY2tldC50aWNrZXRVcmwpLHIuaF8ud2godCl9KS5mYWlsKGZ1bmN0aW9uKGUpe2cuRXJyb3JNb25pdG9yLmdpKCkuZGkoXCJFcnJvciBpbml0aWFsaXppbmcgc2Vzc2lvbiB3aGVuIGRvd25ncmFkaW5nIHNlc3Npb24gdGVjaFwiLHIubW4se2Vycm9yOmV9KX0pLHRoaXMuZnomJnRoaXMuZnoudEYoKSx0aGlzLmZ6PXZvaWQgMCxuLkhpdmVSZXF1ZXN0RmFjdG9yeS5ibihlLmlkLHYuU3RhdHNKUy5jXyksdGhpcy5oXy50ZSgpLndhcm4oXCJbSGl2ZUpzUHJveHldIFwiK3QpLHRoaXMub25FcnJvcihuZXcgYShoLm9FLHQpKSwhMH0sZS5wcm90b3R5cGUuTm49ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3RoaXMudGUoKS5kZWJ1Zyh0aGlzLmlkKCkrXCJTdG9wcGluZyBzZXNzaW9uIFwiK2UuaWQrXCIgW29uVW5sb2FkOlwiK3QrXCJdXCIpO3ZhciBpPVwiLy9cIitjLmNPLm9BK1wiOlwiK2MuY08udU8rXCIvcHJveHkvXCIrZS5pZCtcIi9zdG9wXCI7dCYmRS5zZW5kQmVhY29uPyhFLnNlbmRCZWFjb24oaSksdGhpcy50ZSgpLmRlYnVnKHRoaXMuaWQoKStcInNlc3Npb24gc3RvcHBlZCBbXCIrZS5pZCtcIl1bYmVhY29uXVwiKSk6bi5wcyhpLG51bGwsIXQpLnRoZW4oZnVuY3Rpb24oKXtyLnRlKCkuZGVidWcoci5pZCgpK1wic2Vzc2lvbiBzdG9wcGVkIFtcIitlLmlkK1wiXVwiKyh0P1wiW3N5bmNdXCI6XCJcIikpfSxmdW5jdGlvbihpKXtyLnRlKCkud2FybihyLmlkKCkrXCJzZXNzaW9uIGNsb3NlIGVycm9yIFtcIitlLmlkK1wiXVwiKyh0P1wiW3N5bmNdXCI6XCJcIiksaSl9KX0sZS5wcm90b3R5cGUuT249ZnVuY3Rpb24oZSx0KXt2YXIgcj10P3UuX2MuSURMRTp1Ll9jLk9jO3RoaXMudGUoKS5kZWJ1Zyh0aGlzLmlkKCkrXCJpZGxlIHN0YXRlOiBcIit1Ll9jW3JdKX0sZS5wcm90b3R5cGUuZ189ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLHM9XCJwbGF5aW5nLXBvaW50PVwiK3QuUnM7cys9XCImYnVmZmVyLWxlbmd0aD1cIit0LmJzLHMrPVwiJnRvdGFsLWJ1ZmZlcmluZz1cIit0LlBzLHMrPVwiJndpZHRoPVwiK3Qud2lkdGgscys9XCImaGVpZ2h0PVwiK3QuaGVpZ2h0LHMrPVwiJmZ1bGxzY3JlZW49XCIrdC50Rzt2YXIgbz1cIi8vXCIrYy5jTy5vQStcIjpcIitjLmNPLnVPK1wiL3Byb3h5L1wiK2UuaWQrXCIvc3RhdHMvcHV0P1wiK3M7cmV0dXJuIG4ucHMobykuZmFpbChmdW5jdGlvbihlKXtyZXR1cm4gci50ZSgpLndhcm4oci5pZCgpK1wiZXJyb3Igc2VuZGluZyBmZWVkYmFjayB0byBIaXZlIENsaWVudFwiLGUpLGkucmVqZWN0KGUpfSl9LGUucHJvdG90eXBlLkVfPWZ1bmN0aW9uKGUsdCxyKXt2YXIgcz10aGlzLG89XCIvL1wiK2MuY08ub0ErXCI6XCIrYy5jTy51TytcIi9wcm94eS9cIitlLmlkK1wiL2V2ZW50P3R5cGU9XCIrdDtpZih2b2lkIDAhPXIpZm9yKHZhciBhIGluIHIpbys9XCImXCIrYStcIj1cIityW2FdO3JldHVybiB0aGlzLnRlKCkuZGVidWcodGhpcy5pZCgpK1wiZXZlbnQgXCIrbC5rYy4kYVt0XSx2b2lkIDAhPXI/cjpcIlwiKSxuLnBzKG8pLmZhaWwoZnVuY3Rpb24oZSl7cmV0dXJuIHMudGUoKS53YXJuKHMuaWQoKStcImVycm9yIHNlbmRpbmcgZmVlZGJhY2sgZXZlbnQgdG8gSGl2ZSBDbGllbnRcIixlKSxpLnJlamVjdChlKX0pfSxlLnByb3RvdHlwZS5OaD1mdW5jdGlvbihlLHQpe3JldHVybiBpLnJlc29sdmUoITApfSxlLnByb3RvdHlwZS5vbkVycm9yPWZ1bmN0aW9uKGUpe3ZhciB0PSEwO2lmKHZvaWQgMCE9dGhpcy5vcHRpb25zXy5vbkVycm9yKXRyeXt0PXRoaXMub3B0aW9uc18ub25FcnJvcihlKX1jYXRjaChlKXtnLkVycm9yTW9uaXRvci5naSgpLmRpKFwiZXhjZXB0aW9uIGluIHVzZXItZGVmaW5lZCBvbkVycm9yIGNhbGxiYWNrXCIsdGhpcy5pZCgpLGUpfXJldHVybiB0fSxlLnByb3RvdHlwZS5vbkFjdGl2ZVNlc3Npb249ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5oXy5iXygpOzA9PT10LmluZGV4T2YoXCIvL1wiKSYmKHQ9bG9jYXRpb24ucHJvdG9jb2wrdCk7dmFyIHI9bi5ncyhjLmNPLktELGMuY08ub0EsYy5jTy51TyxlLmlkLHQpO2lmKGUuYXV0aGVudGljYXRpb25Ub2tlbiYmdGhpcy52ZXJzaW9uPj1cIjMuMC4xXCI/bi5kcyhyLEpTT04uc3RyaW5naWZ5KHthdXRoZW50aWNhdGlvblRva2VuOmUuYXV0aGVudGljYXRpb25Ub2tlbn0pKTpuLnBzKHIpLHRoaXMud2goZSksZi5Jbi5taSh0aGlzLnRlKCkpLHRoaXMuZnomJnRoaXMuZnouckYoKSx0aGlzLk1lZShlKSx2b2lkIDAhPXRoaXMub3B0aW9uc18ub25BY3RpdmVTZXNzaW9uKXRyeXt0aGlzLm9wdGlvbnNfLm9uQWN0aXZlU2Vzc2lvbihlLkRuKCkpfWNhdGNoKGUpe2cuRXJyb3JNb25pdG9yLmdpKCkuZGkoXCJleGNlcHRpb24gaW4gdXNlci1kZWZpbmVkIG9uQWN0aXZlU2Vzc2lvbiBjYWxsYmFja1wiLHRoaXMuaWQoKSxlKX19LGUucHJvdG90eXBlLkFfPWZ1bmN0aW9uKCl7fSxlLnByb3RvdHlwZS5DXz1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUua189ZnVuY3Rpb24oZSl7dGhpcy5oXz1lfSxlLnByb3RvdHlwZS5pZD1mdW5jdGlvbigpe3JldHVyblwiW1wiK2UuY18rXCJdIFwifSxlLnByb3RvdHlwZS5GZWU9ZnVuY3Rpb24odCl7dm9pZCAwIT10W2UuY19dJiZuLnZzKHRbZS5jX10sdGhpcy5vcHRpb25zXyl9LGUucHJvdG90eXBlLlhWPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dGhpcy50ZSgpLmRlYnVnKHRoaXMuaWQoKStcInJlc29sdmluZyB0aWNrZXQ6IFwiK2UpO3ZhciByPXRoaXMuQmVlKGUpLHM9SlNPTi5zdHJpbmdpZnkodGhpcy5VZWUoKSk7cmV0dXJuIG4uZHMocixzLFwiYXBwbGljYXRpb24vanNvblwiKS50aGVuKGZ1bmN0aW9uKHIpe3ZhciBpPUpTT04ucGFyc2Uocik7cmV0dXJuIHQudGUoKS5kZWJ1Zyh0LmlkKCkrXCJyZXNvbHZlZCB0aWNrZXQgXCIrZStcIiAtPiBcIitpLm1hbmlmZXN0KSxpfSxmdW5jdGlvbihyKXtyZXR1cm4gdC50ZSgpLndhcm4odC5pZCgpK1widGlja2V0IFwiK2UrXCIgcmVzb2x2ZSBlcnJvcjogXCIrciksaS5yZWplY3QobmV3IGEoaC5YbSxyKSl9KS5jYXRjaChmdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGE/aS5yZWplY3QoZSk6aS5yZWplY3QobmV3IGEoaC5zRSxlKSl9KX0sZS5wcm90b3R5cGUuQmVlPWZ1bmN0aW9uKGUpe3JldHVybiBlPWVuY29kZVVSSUNvbXBvbmVudChlKSxuLmdzKGMuY08uYUEsYy5jTy5vQSxjLmNPLnVPLGUsXCImXCIsdGhpcy5oXy50aigpKX0sZS5wcm90b3R5cGUucF89ZnVuY3Rpb24oZSx0KXt2YXIgcj1uZXcgcC5WQTtyLkFBKGUpO3ZhciBpPW5ldyBuLkJuKGUscix0Lm1hbmlmZXN0LG51bGwpO3JldHVybiBpLk9fPSEwLGkuaWQ9dC5zZXNzaW9uSWQsaS50aWNrZXQuc2Vzc2lvbklkPWkuaWQsaX0sZS5wcm90b3R5cGUuVWVlPWZ1bmN0aW9uKCl7dmFyIGU9e307ZS5IaXZlQ29uZmlnPXt9O2Zvcih2YXIgdCBpbiB3aW5kb3cuSGl2ZUNvbmZpZyl7ZS5IaXZlQ29uZmlnW3RdPXt9O2Zvcih2YXIgciBpbiB3aW5kb3cuSGl2ZUNvbmZpZ1t0XSllLkhpdmVDb25maWdbdF1bcl09d2luZG93LkhpdmVDb25maWdbdF1bcl19cmV0dXJuIGV9LGUucHJvdG90eXBlLk1lZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzO2lmKHZvaWQgMCE9PWQuSGl2ZUNvbmZpZy5TdGF0cy5yZW5kZXIpe3ZhciByPVwiLy9cIitjLmNPLm9BK1wiOlwiK2MuY08udU8rXCIvcHJveHkvXCIrZS5pZCtcIi9zdGF0cy9nZXRcIjtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgRXZlbnRTb3VyY2Upe3ZhciBpPW5ldyBFdmVudFNvdXJjZShyKTtpLm9ubWVzc2FnZT1mdW5jdGlvbihlKXt0LnhlZShlLmRhdGEpfSxpLm9uZXJyb3I9ZnVuY3Rpb24oZSl7aS5jbG9zZSgpfX1lbHNlIHRoaXMuSGVlPXdpbmRvdy5zZXRJbnRlcnZhbChmdW5jdGlvbigpe24ucHMocikudGhlbihmdW5jdGlvbihlKXt0LnhlZShlKX0pfSw0ZTMpfX0sZS5wcm90b3R5cGUud2g9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPVwiY29tbS12ZXJzaW9uPVwiK3RoaXMuaF8ubWooKTtyKz1cIiZwbHVnaW4tbmFtZT1cIit0aGlzLmhfLmVqKCkscis9XCImcGx1Z2luLXZlcnNpb249XCIrdGhpcy5oXy5yaigpLHIrPVwiJnBsYXllci10ZWNoPVwiK3RoaXMuaF8uRWooKSxyKz1cIiZwbGF5ZXItdmVyc2lvbj1cIit0aGlzLmhfLmdldFBsYXllclZlcnNpb24oKSx0aGlzLmhfLktqKCkmJihyKz1cIiZ0ZWxlbWV0cnktaWQ9XCIrdGhpcy5oXy5LaigpKTt2YXIgcz1uLmdzKGMuY08uWUQsYy5jTy5vQSxjLmNPLnVPLGUuaWQscik7cmV0dXJuIG4ucHMocykuZmFpbChmdW5jdGlvbihlKXtyZXR1cm4gdC50ZSgpLmRlYnVnKHQuaWQoKStcImVycm9yIHNlbmRpbmcgcGxheWVyIEluZm8gdG8gSGl2ZSBDbGllbnRcIixlKSxpLnJlamVjdChlKX0pfSxlLnByb3RvdHlwZS54ZWU9ZnVuY3Rpb24oZSl7dHJ5e3ZhciB0PUpTT04ucGFyc2UoZSk7Zm9yKHZhciByIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShyKSYmKHRbcl0uaHVtYW49ZnVuY3Rpb24oZSl7cmV0dXJuIGU+MWU2PyhlLzFlNikudG9GaXhlZCgyKStcIk1CXCI6ZT4xZTM/KGUvMWUzKS50b0ZpeGVkKDIpK1wiS0JcIjplK1wiQlwifSk7ZC5IaXZlQ29uZmlnLlN0YXRzLnJlbmRlcih0KX1jYXRjaChlKXtjb25zb2xlLnRyYWNlKGUpfX0sZS5wcm90b3R5cGUudGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oXy50ZSgpfSxlfSgpO1QuY189XCJIaXZlSnNQcm94eVwiLHQuSGl2ZUpzUHJveHk9VH0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBpPXRoaXMmJnRoaXMuTnN8fGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gcigpe3RoaXMuY29uc3RydWN0b3I9ZX1mb3IodmFyIGkgaW4gdCl0Lmhhc093blByb3BlcnR5KGkpJiYoZVtpXT10W2ldKTtlLnByb3RvdHlwZT1udWxsPT09dD9PYmplY3QuY3JlYXRlKHQpOihyLnByb3RvdHlwZT10LnByb3RvdHlwZSxuZXcgcil9LG49cigyMCk7IWZ1bmN0aW9uKGUpeyFmdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gaSh0LGUpLHR9KG4uZ24ub3UuYXUpO2UuRGVlPXR9KGUub3V8fChlLm91PXt9KSl9KHQuZ258fCh0LmduPXt9KSl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT10aGlzJiZ0aGlzLk5zfHxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIHIoKXt0aGlzLmNvbnN0cnVjdG9yPWV9Zm9yKHZhciBpIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShpKSYmKGVbaV09dFtpXSk7ZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KTooci5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IHIpfSxuPXIoMikscz1yKDcpLG89cigyMCksYT1yKDE5OSksaD1yKDI2KSxjPXIoMzkpLHU9cigxOSksbD1yKDE4KSxwPXIoNDIpLGY9cig0KSxkPWEuZ24ub3UsZz1vLmduLm91Lmh1LHY9aC5nbi5IaXZlVGVjaEVycm9yLHk9aC5nbi5jRSxtPXIoNTEpO3QucWVlPW5hdmlnYXRvcjt2YXIgRT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gaSh0LGUpLHR9KHMuQm4pLFQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7dGhpcy5OZWU9MCx0aGlzLmhfPWUsdGhpcy5vcHRpb25zXz1uZXcgZC5WZWUsdGhpcy5GZWUodCkscy55cyh3aW5kb3cubG9jYXRpb24uaHJlZixuZXcgZyx0aGlzLm9wdGlvbnNfKX1yZXR1cm4gZS5wcm90b3R5cGUuRm49ZnVuY3Rpb24oKXtyZXR1cm4gZS5jX30sZS5wcm90b3R5cGUuZ2V0VmVyc2lvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnZlcnNpb259LGUucHJvdG90eXBlLnVfPWZ1bmN0aW9uKCl7cmV0dXJuITF9LGUucHJvdG90eXBlLmxfPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztpZihudWxsPT10aGlzLkxlZXx8RGF0ZS5ub3coKS10aGlzLk5lZT4xZTQpe3ZhciB0PW5ldyBtO3QuQmgobmF2aWdhdG9yLnVzZXJBZ2VudCk7dmFyIHI9dC5OTygpO2lmKFwiSUVcIj09PXIubmFtZSYmci52ZXJzaW9uJiZwYXJzZUludChyLnZlcnNpb24pPDEwKXJldHVybiBuLnJlamVjdChuZXcgdih5Lm5FLFwiSW50ZXJuZXQgRXhwbG9yZXIgPCB2LjEwIG5vdCBzdXBwb3J0ZWRcIikpO3RoaXMuamVlPURhdGUubm93KCksdGhpcy5HZWU9MDt2YXIgaT1cIi8vXCIrYy50dS5vQStcIjpcIit0aGlzLmhfLm9wdGlvbnMoKS5tb25pdG9yUG9ydCtcIi92ZXJzaW9uLmpzb25cIjt0aGlzLnRlKCkuZGVidWcodGhpcy5pZCgpK1widmVyaWZ5aW5nIEhpdmUgQ2xpZW50IHZlcnNpb25cIiksdGhpcy5MZWU9cy5wcyhpKS50aGVuKGZ1bmN0aW9uKHQpe3ZhciByPUpTT04ucGFyc2UodCk7cmV0dXJuIGUuc3RhdGU9ci5zdGF0ZSxlLnZlcnNpb249ci52ZXJzaW9uLFwicmVhZHlcIj09PWUuc3RhdGU/XCJkZXZlbG9wZXJcIj09PWUudmVyc2lvbnx8ZS52ZXJzaW9uPj1lLm9wdGlvbnNfLm1pblZlcnNpb24/KGUuR2VlPURhdGUubm93KCksZS50ZSgpLmRlYnVnKGUuaWQoKStcIkhpdmUgQ2xpZW50IHJlYWR5IC0gdmVyc2lvbiBcIitlLnZlcnNpb24rXCIgW1wiKyhlLkdlZS1lLmplZSkrXCJdXCIpLFwicmVhZHlcIik6KGYuRXJyb3JNb25pdG9yLmdpKCkuZGkoXCJDbGllbnQgdmVyc2lvbiByZXF1aXJlbWVudCBub3Qgc2F0aXNmaWVkXCIsZS5pZCgpLHt2ZXJzaW9uOmUudmVyc2lvbixtaW5WZXJzaW9uOmUub3B0aW9uc18ubWluVmVyc2lvbn0pLGUuaF8uWWoobmV3IGwua2MuUGMobnVsbCxsLmtjLm9oLnJoKSksbi5yZWplY3QobmV3IHYoeS5hRSxcInZlcnNpb24gXCIrZS52ZXJzaW9uKSkpOihmLkVycm9yTW9uaXRvci5naSgpLmRpKFwiQ2Fubm90IGNoZWNrIHZlcnNpb246IGNsaWVudCBzdGF0ZSBub3QgcmVhZHlcIixlLmlkKCkse3N0YXRlOmUuc3RhdGV9KSxlLmhfLllqKG5ldyBsLmtjLlBjKG51bGwsbC5rYy5vaC50aCkpLG4ucmVqZWN0KG5ldyB2KHkubkUsXCJzdGF0ZSBcIitlLnN0YXRlKSkpfSxmdW5jdGlvbih0KXt2YXIgcj1cIkNsaWVudCBub3QgcmVhY2hhYmxlXCI7cmV0dXJuIHZvaWQgMCE9dCYmdm9pZCAwIT10LnN0YXR1cyYmLTEhPXQuc3RhdHVzJiYocj1cIkNsaWVudCBjaGVjayByZXR1cm5lZCBlcnJvclwiKSxmLkVycm9yTW9uaXRvci5naSgpLmRpKHIsZS5pZCgpLHZvaWQgMCE9dCYmdm9pZCAwIT10LnN0YXR1cyYmLTEhPXQuc3RhdHVzP3tzdGF0dXM6dC5zdGF0dXN9OnZvaWQgMCksZS5oXy5ZaihuZXcgbC5rYy5QYyhudWxsLGwua2Mub2guZWgpKSxuLnJlamVjdChuZXcgdih5Lm5FLHIpKX0pLmNhdGNoKGZ1bmN0aW9uKHQpe2lmKHQgaW5zdGFuY2VvZiB2KXJldHVybiBuLnJlamVjdCh0KTt2YXIgcj1cIkVycm9yIGZldGNoaW5nIEhpdmUgQ2xpZW50IHZlcnNpb25cIjtyZXR1cm4gZi5FcnJvck1vbml0b3IuZ2koKS5kaShyLGUuaWQoKSx0KSxuLnJlamVjdChuZXcgdih5Lm5FLHIpKX0pLHRoaXMuTmVlPURhdGUubm93KCl9cmV0dXJuIHRoaXMuTGVlfSxlLnByb3RvdHlwZS5pbml0U2Vzc2lvbj1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7cmV0dXJuIHRoaXMub3B0aW9uc18ubWluVmVyc2lvbiE9Yy50dS51QT90aGlzLmxfKCkudGhlbihmdW5jdGlvbigpe3JldHVybiByLlFlZShlKS5jYXRjaChmdW5jdGlvbihlKXtyZXR1cm4gbi5yZWplY3QoZSl9KX0pOnRoaXMuUWVlKGUpLmNhdGNoKGZ1bmN0aW9uKGUpe3JldHVybiBuLnJlamVjdChlKX0pfSxlLnByb3RvdHlwZS5mXz1mdW5jdGlvbigpe3JldHVybiB0aGlzLm9wdGlvbnNfLmluaXRUaW1lb3V0fSxlLnByb3RvdHlwZS5jaT1mdW5jdGlvbihlLHQpe3JldHVybiBlLmluZGV4T2YodC5LZWUpPi0xfSxlLnByb3RvdHlwZS5Obj1mdW5jdGlvbihlLHIpe3ZhciBpPXRoaXM7dGhpcy50ZSgpLmRlYnVnKHRoaXMuaWQoKStcIlN0b3BwaW5nIHNlc3Npb24gXCIrZS5pZCtcIiBbY29tcGxldGUgY2xvc2U6XCIrcitcIl1cIik7dmFyIG49XCIvL1wiK2MudHUub0ErXCI6XCIrdGhpcy5oXy5vcHRpb25zKCkucGxheWVyUG9ydCtcIi9zZXNzaW9uP2FjdGlvbj1zdG9wXCI7bis9XCImY3VycmVudFNlc3Npb249XCIrZS5pZCxyJiYobis9XCImY29tcGxldGVTdG9wPXRydWVcIiksciYmdC5xZWUuc2VuZEJlYWNvbj8odC5xZWUuc2VuZEJlYWNvbihuKSx0aGlzLnRlKCkuZGVidWcodGhpcy5pZCgpK1wic2Vzc2lvbiBzdG9wcGVkIFtcIitlLmlkK1wiXVtiZWFjb25dXCIpKTpzLnBzKG4sbnVsbCwhcikudGhlbihmdW5jdGlvbigpe2kudGUoKS5kZWJ1ZyhpLmlkKCkrXCJzZXNzaW9uIHN0b3BwZWQgW1wiK2UuaWQrXCJdXCIrKHI/XCJbc3luY11cIjpcIlwiKSl9LGZ1bmN0aW9uKHQpe2kudGUoKS53YXJuKGkuaWQoKStcInNlc3Npb24gY2xvc2UgZXJyb3IgW1wiK2UuaWQrXCJdXCIrKHI/XCJbc3luY11cIjpcIlwiKSx0KX0pfSxlLnByb3RvdHlwZS5Pbj1mdW5jdGlvbihlLHQpe3RoaXMuWWVlPXQ/dS5fYy5JRExFOnUuX2MuT2MsdGhpcy50ZSgpLm5vdGljZShcIltIaXZlQ29tbV0gY2xpZW50IHN0YXRlOiBcIit1Ll9jW3RoaXMuWWVlXSl9LGUucHJvdG90eXBlLmdfPWZ1bmN0aW9uKGUsdCl7aWYodGhpcy5ZZWU9PXUuX2MuSURMRSlyZXR1cm4gbi5yZXNvbHZlKCEwKTt2YXIgcj1cInBsYXlpbmctcG9pbnQ9XCIrdC5ScztyKz1cIiZidWZmZXItbGVuZ3RoPVwiK3QuYnMscis9XCImdG90YWwtYnVmZmVyaW5nPVwiK3QuUHMscis9XCImd2lkdGg9XCIrdC53aWR0aCxyKz1cIiZoZWlnaHQ9XCIrdC5oZWlnaHQscis9XCImZnVsbHNjcmVlbj1cIit0LnRHO3ZhciBpPWUuS2VlK1wic3RhdHM/XCIrcjtyZXR1cm4gdGhpcy50ZSgpLnRyYWNlKGkpLHMucHMoaSl9LGUucHJvdG90eXBlLkVfPWZ1bmN0aW9uKGUsdCxyKXt2YXIgaT10aGlzO2lmKCEodCE9PWwua2MuJGEuWmEmJnQhPT1sLmtjLiRhLkhJRERFTnx8dGhpcy52ZXJzaW9uJiYoXCJkZXZlbG9wZXJcIj09PXRoaXMudmVyc2lvbnx8dGhpcy52ZXJzaW9uPj1cIjIwMTdcIikpKXJldHVybiBuLnJlc29sdmUoITApO3ZhciBvPWUuS2VlK1wicGxheWVyLWV2ZW50P3R5cGU9XCIrbC5rYy4kYVt0XTtpZih2b2lkIDAhPXIpZm9yKHZhciBhIGluIHIpbys9XCImXCIrYStcIj1cIityW2FdO3JldHVybiB0aGlzLnRlKCkuZGVidWcodGhpcy5pZCgpK1wiZXZlbnQgXCIrbC5rYy4kYVt0XSx2b2lkIDAhPXI/cjpcIlwiKSxzLnBzKG8pLmZhaWwoZnVuY3Rpb24oZSl7cmV0dXJuIGkudGUoKS53YXJuKGkuaWQoKStcImVycm9yIHNlbmRpbmcgZmVlZGJhY2sgZXZlbnQgdG8gSGl2ZSBDbGllbnRcIixlKSxuLnJlamVjdChlKX0pfSxlLnByb3RvdHlwZS5OaD1mdW5jdGlvbihlLHQpe3JldHVybiBuLnJlc29sdmUoITApfSxlLnByb3RvdHlwZS53aD1mdW5jdGlvbihlKXt2YXIgdD10aGlzO2lmKHRoaXMuemVlKCkpcmV0dXJuIHRoaXMudGUoKS53YXJuKFwiUGxheWVyIGluZm8gbm90IHN1cHBvcnRlZCBpbiB0aGlzIEphdmEgY2xpZW50IHZlcnNpb25cIiksbi5yZXNvbHZlKCEwKTt2YXIgcj1cImNvbW0tdmVyc2lvbj1cIit0aGlzLmhfLm1qKCk7cis9XCImcGx1Z2luLW5hbWU9XCIrdGhpcy5oXy5laigpLHIrPVwiJnBsdWdpbi12ZXJzaW9uPVwiK3RoaXMuaF8ucmooKSxyKz1cIiZwbGF5ZXItdGVjaD1cIit0aGlzLmhfLkVqKCkscis9XCImcGxheWVyLXZlcnNpb249XCIrdGhpcy5oXy5nZXRQbGF5ZXJWZXJzaW9uKCksdGhpcy5oXy5LaigpJiYocis9XCImdGVsZW1ldHJ5LWlkPVwiK3RoaXMuaF8uS2ooKSk7dmFyIGk9ZS5LZWUrXCJwbGF5ZXItaW5mbz9cIityO3JldHVybiBzLnBzKGkpLmZhaWwoZnVuY3Rpb24oZSl7cmV0dXJuIHQudGUoKS5kZWJ1Zyh0LmlkKCkrXCJlcnJvciBzZW5kaW5nIHBsYXllciBJbmZvIHRvIEhpdmUgQ2xpZW50XCIsZSksbi5yZWplY3QoZSl9KX0sZS5wcm90b3R5cGUub25FcnJvcj1mdW5jdGlvbihlKXt2YXIgdD0hMDtpZih2b2lkIDAhPXRoaXMub3B0aW9uc18ub25FcnJvcil0cnl7dD10aGlzLm9wdGlvbnNfLm9uRXJyb3IoZSl9Y2F0Y2goZSl7Zi5FcnJvck1vbml0b3IuZ2koKS5kaShcIkV4Y2VwdGlvbiBpbiB1c2VyLWRlZmluZWQgb25FcnJvciBjYWxsYmFja1wiLHRoaXMuaWQoKSxlKX1yZXR1cm4gdH0sZS5wcm90b3R5cGUuQV89ZnVuY3Rpb24oZSx0LHIpe3ZhciBpPXtpc1JlYWR5SW46dGhpcy5qZWUsaXNSZWFkeU91dDp0aGlzLkdlZSxsZWFzZUluOnRoaXMuSmVlLGxlYXNlT3V0OnRoaXMuV2VlLHJlc29sdmVJbjp0aGlzLlhlZSxyZXNvbHZlT3V0OnRoaXMuWmVlfTt2b2lkIDAhPT10JiZudWxsIT10JiYoaS5zZXNzaW9uSWQ9dC5pZCksdm9pZCAwIT09ciYmKGkudG90YWw9cik7dmFyIG49SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShpKSk7Zi5FcnJvck1vbml0b3IuZ2koKS5kaShlLm1lc3NhZ2UsdGhpcy5pZCgpLG4pLHRoaXMuaF8uWWoobmV3IGwua2MuUGMobnVsbCxsLmtjLm9oLnNoLGkpKSx0aGlzLiRlZSgpfSxlLnByb3RvdHlwZS5vbkFjdGl2ZVNlc3Npb249ZnVuY3Rpb24oZSl7aWYodGhpcy53aChlKSxzLkVzLnNldEl0ZW0oXCJoaXZlQWN0aXZlU2Vzc2lvbklkXCIsZS5pZCksdm9pZCAwIT10aGlzLm9wdGlvbnNfLm9uQWN0aXZlU2Vzc2lvbil0cnl7dGhpcy5vcHRpb25zXy5vbkFjdGl2ZVNlc3Npb24oZS5EbigpKX1jYXRjaChlKXtmLkVycm9yTW9uaXRvci5naSgpLmRpKFwiRXhjZXB0aW9uIGluIHVzZXItZGVmaW5lZCBvbkFjdGl2ZVNlc3Npb24gY2FsbGJhY2tcIix0aGlzLmlkKCksZSl9fSxlLnByb3RvdHlwZS5rXz1mdW5jdGlvbihlKXt0aGlzLmhfPWV9LGUucHJvdG90eXBlLmlkPWZ1bmN0aW9uKCl7cmV0dXJuXCJbXCIrZS5jXytcIl0gXCJ9LGUucHJvdG90eXBlLkZlZT1mdW5jdGlvbih0KXt2b2lkIDAhPXRbZS5jX10mJnMudnModFtlLmNfXSx0aGlzLm9wdGlvbnNfKX0sZS5wcm90b3R5cGUuUWVlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj0obmV3IERhdGUpLmdldFRpbWUoKTtyZXR1cm4gdGhpcy5ldGUoZSkudGhlbihmdW5jdGlvbihpKXtyZXR1cm4gaT90LnR0ZShlLGkscik6dC5YVihlKS50aGVuKGZ1bmN0aW9uKGkpe3JldHVybiB0LnR0ZShlLGkscil9KX0pfSxlLnByb3RvdHlwZS5ldGU9ZnVuY3Rpb24odCl7dmFyIHI9dGhpcztpZih0aGlzLkplZT1EYXRlLm5vdygpLHRoaXMuaF8ub3B0aW9ucygpLnVzZVNlc3Npb25DaGVjayl7dmFyIGk9XCIvL1wiK2MudHUub0ErXCI6XCIrdGhpcy5oXy5vcHRpb25zKCkucGxheWVyUG9ydCtcIi9zZXNzaW9uPyZhY3Rpb249Y2hlY2tcIjtpKz1cIiZoaXZlUGx1Z2luSWQ9XCIrdGhpcy5oXy50aigpLGkrPVwiJmNhbGxiYWNrPVwiK2VuY29kZVVSSUNvbXBvbmVudCh0KTt2YXIgbz1zLkVzLmdldEl0ZW0oXCJoaXZlQWN0aXZlU2Vzc2lvbklkXCIpO3JldHVybiBzLkVzLnJlbW92ZUl0ZW0oXCJoaXZlQWN0aXZlU2Vzc2lvbklkXCIpLG8mJihpKz1cIiZjdXJyZW50U2Vzc2lvbj1cIitvKSx0aGlzLnJ0ZSgpLHMucHMoaSkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gci5XZWU9RGF0ZS5ub3coKSxlP3IuaXRlKGUsaSx0LHIuSmVlKTooci50ZSgpLmRlYnVnKHIuaWQoKStcInNlc3Npb24gYWxsb3dlZCBbXCIrKHIuV2VlLXIuSmVlKStcIl1cIiksITEpfSxmdW5jdGlvbih0KXtpZig0MDA9PXQuc3RhdHVzKXJldHVybiByLm50ZShcImJhZCByZXF1ZXN0XCIsXCJlcnJvciByZXNvbHZpbmcgdGlja2V0XCIsdCk7aWYoNDAxPT10LnN0YXR1cylyZXR1cm4gci5udGUoXCJ1bmF1dGhvcml6ZWRcIixcImVycm9yIHZlcmlmeWluZyB0aGUgdGlja2V0XCIsdCk7aWYoNDAzPT10LnN0YXR1cyl7dmFyIGk9ZS5zdGUodCx2b2lkIDAsXCJzZXNzaW9uXCIpLHM9aT97b3RlOml9OnZvaWQgMDtyZXR1cm4gZi5FcnJvck1vbml0b3IuZ2koKS5kaShcInJlcG9ydHMgYW5vdGhlciBhY3RpdmUgc2Vzc2lvblwiLHIuaWQoKSxzKSxyLmhfLllqKG5ldyBsLmtjLlBjKG51bGwsbC5rYy5vaC5paCxzKSksbi5yZWplY3QobmV3IHYoeS5vRSxcImFub3RoZXIgYWN0aXZlIHNlc3Npb25cIisocz9cIiBbXCIrcy5vdGUrXCJdXCI6XCJcIikpKX1yZXR1cm4gNDA0PT10LnN0YXR1cz8oci50ZSgpLmRlYnVnKHIuaWQoKStcImluc3RhbGxlZCB2ZXJzaW9uIGRvZXMgbm90IHN1cHBvcnQgYWN0aXZlIHNlc3Npb24gY2hlY2tcIiksci5XZWU9RGF0ZS5ub3coKSwhMSk6LTE9PXQuc3RhdHVzPyhjbGVhclRpbWVvdXQoci5hdGUpLHIuaHRlKCkpOihmLkVycm9yTW9uaXRvci5naSgpLmRpKFwidW5oYW5kbGVkIGVycm9yIGZyb20gSmF2YVwiLHIuaWQoKSx7ZXJyb3I6dC5zdGF0dXN9KSxyLmhfLllqKG5ldyBsLmtjLlBjKG51bGwsbC5rYy5vaC5uaCkpLG4ucmVqZWN0KG5ldyB2KHkuc0UsdCkpKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2Ygdj9uLnJlamVjdChlKTooZi5FcnJvck1vbml0b3IuZ2koKS5kaShcInVuaGFuZGxlZCBlcnJvciBvbiByZXF1ZXN0TGVhc2VEaXJlY3RcIixyLmlkKCkse2Vycm9yOmV9KSxyLmhfLllqKG5ldyBsLmtjLlBjKG51bGwsbC5rYy5vaC5uaCkpLG4ucmVqZWN0KG5ldyB2KHkuc0UsZSkpKX0pLmZpbmFsbHkoZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQoci5hdGUpfSl9cmV0dXJuIHRoaXMudGUoKS5kZWJ1Zyh0aGlzLmlkKCkrXCJIaXZlIHNlc3Npb24gY2hlY2sgZGlzYWJsZWQgLSB3aWxsIGRpcmVjdGx5IHJlc29sdmUgdGlja2V0IChvdGhlciBhY3RpdmUgc2Vzc2lvbnMgbWF5IGZhaWwpXCIpLG4ucmVzb2x2ZSghMSl9LGUucHJvdG90eXBlLm50ZT1mdW5jdGlvbih0LHIsaSl7dmFyIHM9ZS5zdGUoaSx0KTtyZXR1cm4gZi5FcnJvck1vbml0b3IuZ2koKS5kaShyLHRoaXMuaWQoKSksdGhpcy5aZWU9RGF0ZS5ub3coKSxuLnJlamVjdChuZXcgdih5LlhtLHMpKX0sZS5zdGU9ZnVuY3Rpb24oZSx0LHIpe3ZvaWQgMD09PXImJihyPVwic3RhdHVzXCIpO3ZhciBpPXQ7aWYoZS5ib2R5KXRyeXtpPUpTT04ucGFyc2UoZS5ib2R5KVtyXX1jYXRjaChlKXt9cmV0dXJuIGl9LGUucHJvdG90eXBlLlhWPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dGhpcy5YZWU9RGF0ZS5ub3coKSx0aGlzLnRlKCkuZGVidWcodGhpcy5pZCgpK1wicmVzb2x2aW5nIHRpY2tldDogXCIrZSk7dmFyIHI9dGhpcy5CZWUoZSk7cmV0dXJuIHMucHMocixcImFwcGxpY2F0aW9uL2pzb25cIikudGhlbihmdW5jdGlvbihpKXtyZXR1cm4gdC5pdGUoaSxyLGUsdC5YZWUpfSxmdW5jdGlvbihyKXtyZXR1cm4gciYmLTE9PXIuc3RhdHVzP3QuaHRlKCk6KGYuRXJyb3JNb25pdG9yLmdpKCkuZGkoXCJlcnJvciByZXNvbHZpbmcgdGlja2V0XCIsdC5pZCgpLHt0aWNrZXQ6ZX0pLG4ucmVqZWN0KG5ldyB2KHkuWG0scikpKX0pLmNhdGNoKGZ1bmN0aW9uKGUpe3JldHVybiBmLkVycm9yTW9uaXRvci5naSgpLmRpKFwiZXJyb3IgcGFyc2luZyB0aWNrZXQgcmVzcG9uc2VcIix0LmlkKCksZSksbi5yZWplY3QobmV3IHYoeS5zRSxlKSl9KX0sZS5wcm90b3R5cGUuaXRlPWZ1bmN0aW9uKGUsdCxyLGkpe3ZhciBuPUpTT04ucGFyc2UoZSksbz1zLmNuKHQsbi5sb2NhdGlvbik7cmV0dXJuIG4udmVyc2lvbiYmIXRoaXMudmVyc2lvbiYmKHRoaXMudmVyc2lvbj1uLnZlcnNpb24pLHRoaXMuWmVlPURhdGUubm93KCksdGhpcy50ZSgpLmRlYnVnKHRoaXMuaWQoKStcInJlc29sdmVkIHRpY2tldCBcIityK1wiIC0+IFwiK28rXCIgW1wiKyh0aGlzLlplZS1pKStcIl1cIiksb30sZS5wcm90b3R5cGUudHRlPWZ1bmN0aW9uKGUsdCxyKXt2YXIgaT10aGlzLnBfKGUsdCk7aWYobnVsbCE9aSl7dmFyIG49KG5ldyBEYXRlKS5nZXRUaW1lKCksbz1uLXI7cmV0dXJuIG8+PXRoaXMub3B0aW9uc18ud2FyblNsb3dSZXNwVGltZW91dCYmdGhpcy5BXyhuZXcgdih5LmhFLHRoaXMuaWQoKStcIiBUaGUgdGVjaCBpbml0aWFsaXphdGlvbiB0b29rIG1vcmUgdGhhbiBcIit0aGlzLm9wdGlvbnNfLndhcm5TbG93UmVzcFRpbWVvdXQrXCIgbWlsbGlzZWNvbmRzXCIpLGksbykscy5IaXZlUmVxdWVzdEZhY3RvcnkuYm4oaS5pZCx0aGlzLkZuKCkpLGl9dGhyb3cgbmV3IHYoeS5YbSxcImVycm9yIGdlbmVyYXRpbmcgc2Vzc2lvblwiKX0sZS5wcm90b3R5cGUucF89ZnVuY3Rpb24oZSx0KXt2YXIgcj1uZXcgcC5WQTtyLkFBKGUpO3ZhciBpPW5ldyBFKGUscix0LG51bGwpO2kuT189ITA7dmFyIG49Yy50dS5jQSxzPW4uZXhlYyhpLm1hbmlmZXN0KTtyZXR1cm4gbnVsbCE9cz8oaS5LZWU9c1sxXSxpLmlkPXNbNV0saSk6bnVsbH0sZS5wcm90b3R5cGUuQmVlPWZ1bmN0aW9uKGUpe3ZhciB0PS0xPT1lLmluZGV4T2YoXCI/XCIpP1wiP1wiOlwiJlwiO3JldHVybiB0aGlzLnplZSgpP3MuZ3MoYy50dS5oQSxjLnR1Lm9BLHRoaXMuaF8ub3B0aW9ucygpLnBsYXllclBvcnQsZSk6cy5ncyhjLnR1LmFBLGMudHUub0EsdGhpcy5oXy5vcHRpb25zKCkucGxheWVyUG9ydCxlLHQsdGhpcy5oXy50aigpKX0sZS5wcm90b3R5cGUucnRlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLmF0ZSYmY2xlYXJUaW1lb3V0KHRoaXMuYXRlKSx0aGlzLmF0ZT1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Zi5FcnJvck1vbml0b3IuZ2koKS5kaShcIlRoZSBMZWFzZSBSZXF1ZXN0IGlzIHRha2luZyBtb3JlIHRoYW4gXCIrZS5vcHRpb25zXy53YXJuU2xvd1Jlc3BUaW1lb3V0K1wiIHNlY3NcIixlLmlkKCkpfSx0aGlzLm9wdGlvbnNfLndhcm5TbG93UmVzcFRpbWVvdXQpfSxlLnByb3RvdHlwZS4kZWU9ZnVuY3Rpb24oKXt0aGlzLkplZT0wLHRoaXMuV2VlPTAsdGhpcy5YZWU9MCx0aGlzLlplZT0wfSxlLnByb3RvdHlwZS50ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmhfLnRlKCl9LGUucHJvdG90eXBlLkNfPWZ1bmN0aW9uKCl7dGhpcy4kZWUoKX0sZS5wcm90b3R5cGUuaHRlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PVwiLy9cIitjLnR1Lm9BK1wiOlwiK3RoaXMuaF8ub3B0aW9ucygpLm1vbml0b3JQb3J0K1wiL3ZlcnNpb24uanNvblwiO3JldHVybiB0aGlzLnRlKCkuZGVidWcodGhpcy5pZCgpK1wiY2hlY2tpbmcgaWYgdGhlIG1vbml0b3IgcG9ydCBpcyByZWFjaGFibGVcIikscy5wcyh0KS50aGVuKGZ1bmN0aW9uKHQpe3ZhciByPUpTT04ucGFyc2UodCk7dGhyb3cgZS5zdGF0ZT1yLnN0YXRlLGYuRXJyb3JNb25pdG9yLmdpKCkuZGkoXCJWZXJpZnkgY2xpZW50IHN0YXRlXCIsZS5pZCgpLHtzdGF0ZTplLnN0YXRlfSksZS5oXy5ZaihuZXcgbC5rYy5QYyhudWxsLGwua2Mub2gudGgpKSxuZXcgdih5Lm5FLFwic3RhdGUgXCIrZS5zdGF0ZSl9KS5mYWlsKGZ1bmN0aW9uKHQpe2lmKHQgaW5zdGFuY2VvZiB2KXJldHVybiBuLnJlamVjdCh0KTtpZih0JiYtMT09dC5zdGF0dXMpe3ZhciByPVwiY2xpZW50IG5vdCByZWFjaGFibGVcIjtyZXR1cm4gZS5oXy5ZaihuZXcgbC5rYy5QYyhudWxsLGwua2Mub2guZWgpKSxlLnRlKCkud2FybihlLmlkKCkrciksbi5yZWplY3QobmV3IHYoeS5uRSxyKSl9dmFyIHI9XCJWZXJpZnlDbGllbnRTdGF0ZSBlcnJvclwiO3JldHVybiBmLkVycm9yTW9uaXRvci5naSgpLmRpKHIsZS5pZCgpLHtlcnJvcjp0fSksZS5oXy5ZaihuZXcgbC5rYy5QYyhudWxsLGwua2Mub2gudGgpKSxuLnJlamVjdChuZXcgdih5LnNFLHIpKX0pfSxlLnByb3RvdHlwZS56ZWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcHRpb25zXy5zdXBwb3J0TGVnYWN5Q2xpZW50JiYoIXRoaXMudmVyc2lvbnx8dGhpcy52ZXJzaW9uLnN1YnN0cigwLDQpPFwiMjAxNlwiKX0sZX0oKTtULmNfPVwiSGl2ZUphdmFcIix0LkhpdmVKYXZhPVR9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgaT10aGlzJiZ0aGlzLk5zfHxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIHIoKXt0aGlzLmNvbnN0cnVjdG9yPWV9Zm9yKHZhciBpIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShpKSYmKGVbaV09dFtpXSk7ZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KTooci5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IHIpfSxuPXIoMjApLHM9cigzOSk7IWZ1bmN0aW9uKGUpeyFmdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7dmFyIHQ9bnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiB0Lm1pblZlcnNpb249cy50dS51QSx0LmluaXRUaW1lb3V0PTZlNCx0Lndhcm5TbG93UmVzcFRpbWVvdXQ9NWUzLHQuc3VwcG9ydExlZ2FjeUNsaWVudD0hMSx0fXJldHVybiBpKHQsZSksdH0obi5nbi5vdS5hdSk7ZS5WZWU9dH0oZS5vdXx8KGUub3U9e30pKX0odC5nbnx8KHQuZ249e30pKX1dKTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Yml0bW92aW4uaGl2ZS5taW4uanMubWFwXHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4uL2xpYi9oaXZlL2JpdG1vdmluLmhpdmUubWluLmpzXG4vLyBtb2R1bGUgaWQgPSA4NFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9